"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[6347],{83044:(Ke,Yt,x)=>{x.d(Yt,{i:()=>kt});var st=x(19347),l=x(72164),e=x(65879),s=x(4021),v=x(96814),t=x(78497),bt=x(71646),X=x(36727);function n(ct,At){1&ct&&(e.TgZ(0,"span",10),e._UZ(1,"azt-loading-ui"),e.qZA())}let kt=(()=>{class ct extends l.e{btnCloseDialog(mt){this.dialogRef.close(mt)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentDeleteObjGet(this.studentObj.id??0).subscribe(mt=>{1==mt.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")):(this.btnCloseDialog(!1),this.errorStatusObj(mt.message??"",!0))}))}constructor(mt,dt,gt){super(gt,dt),this.studentService=mt,this.dialogRef=dt,this.data=gt,this.studentObj=gt.studentObj,this.classroomObj=gt.classroomObj}}return ct.\u0275fac=function(mt){return new(mt||ct)(e.Y36(s.VT),e.Y36(st.so,8),e.Y36(st.WI,8))},ct.\u0275cmp=e.Xpm({type:ct,selectors:[["app-delete-student"]],features:[e.qOj],decls:22,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger",2,"word-break","break-word"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(mt,dt){1&mt&&(e.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),e._uU(5),e.ALo(6,"mytranslate"),e.TgZ(7,"b",4),e._uU(8),e.qZA(),e._uU(9),e.ALo(10,"mytranslate"),e.TgZ(11,"b",5),e._uU(12),e.qZA(),e._uU(13,"? "),e.qZA()()()(),e.TgZ(14,"div",6)(15,"button",7),e.NdJ("click",function(){return dt.btnCloseDialog(!1)}),e._uU(16),e.ALo(17,"mytranslate"),e.qZA(),e.TgZ(18,"button",8),e.NdJ("click",function(){return dt.confirmDelete()}),e.YNc(19,n,2,0,"span",9),e._uU(20),e.ALo(21,"mytranslate"),e.qZA()()()),2&mt&&(e.xp6(5),e.hij(" ",e.lcZ(6,7,"lang_student_utils_delete_student_first"),"\xa0 "),e.xp6(3),e.Oqu(dt.studentObj.fullName),e.xp6(1),e.hij("\xa0 ",e.lcZ(10,9,"lang_student_utils_delete_student_last"),":\xa0 "),e.xp6(3),e.Oqu(dt.classroomObj.name),e.xp6(4),e.hij(" ",e.lcZ(17,11,"lang_cms_common_close_btn")," "),e.xp6(3),e.Q6J("ngIf",dt.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(21,13,"lang_cms_common_confirm_btn")," "))},dependencies:[v.O5,t.R,bt.n,X.JV],encapsulation:2}),ct})()},94767:(Ke,Yt,x)=>{x.d(Yt,{y:()=>Bo});var st=x(52572),l=x(47496),e=x(65879),s=x(21266),v=x(78226),t=x(87789),bt=x(84003),X=x(96814),n=x(43389),kt=x(93283),ct=x(6585),At=x(15828),mt=x(86),dt=x(61713),gt=x(2783),Tt=x(82228),Ct=x(95273),Ot=x(77988),ot=x(92596),D=x(93523),$=x(71646),lt=x(8524),xt=x(37722),pt=x(98140),Pt=x(29023),ht=x(56223),$t=x(73445),Xt=x(23680),Kt=x(44683),we=x(13217);class Ae{static addNewEducationalProgramFormValidator(P){let u=P,T=u.controls.weekdayConfig;if(!T.length)return u.setErrors(null),null;let S=0,E=0;return T.controls.forEach(z=>{let tt=!1,ft={invalidTime:!1,requireTime:!1,invalidInfrastructure:!1,identityRevealed:!0};z.controls.selected.value?(z.controls.infrastructureId.value||(tt=!0,ft.invalidInfrastructure=!0),z.controls.startTime.value&&z.controls.endTime.value?new Date("1970-01-01T"+z.controls.startTime.value).getTime()>=new Date("1970-01-01T"+z.controls.endTime.value).getTime()?(tt=!0,ft.invalidTime=!0):ft.invalidTime=!1:(tt=!0,ft.requireTime=!0),z.setErrors(tt?ft:null),E++):z.setErrors(null),z.invalid&&S++},T),S||!E?(u.setErrors({invalidData:!0}),{identityRevealed:!0,invalidData:!0}):(u.setErrors(null),null)}}var Se=x(20553),Pe=x(98603),xe=x(87325),me=x(32296),he=x(2032),_e=x(64170),Ue=x(98525),Ie=x(30292),Me=x(67679),ze=x(95545),oe=x(36727);const je=["startTime"];function de(f,P){1&f&&e._UZ(0,"azt-loading-effect",4)}function Fe(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(u);const S=e.oxw(2);return e.KtG(S.saveEducationalProgramEmit.emit(!1))}),e.O4$(),e.TgZ(1,"svg",43),e._UZ(2,"polyline",44),e.qZA(),e.kcU(),e.TgZ(3,"span",45),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}if(2&f){const u=e.oxw(2);e.Q6J("disabled",u.isSavingProgram),e.xp6(4),e.Oqu(e.lcZ(5,2,"lang_auto_huy"))}}function Ne(f,P){1&f&&e._UZ(0,"lucide-icon",50)}function We(f,P){1&f&&e._UZ(0,"lucide-icon",51)}function Je(f,P){1&f&&e._UZ(0,"lucide-icon",59)}const te=function(f){return{"border border-primary":f}};function qe(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",55)(1,"div",56),e.NdJ("click",function(){const E=e.CHM(u).$implicit,z=e.oxw().$implicit,tt=e.oxw(2).$implicit,ft=e.oxw(2);let yt;return e.KtG(ft.selectSubject(null!==(yt=tt.id)&&void 0!==yt?yt:0,null!==(yt=z.id)&&void 0!==yt?yt:0,E))}),e.TgZ(2,"span",57),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.YNc(5,Je,1,0,"lucide-icon",58),e.qZA()()}if(2&f){const u=P.$implicit;e.Q6J("ngClass",e.VKq(5,te,u.selected)),e.xp6(3),e.Oqu(e.lcZ(4,3,u.name)),e.xp6(2),e.Q6J("ngIf",u.selected)}}function Xe(f,P){if(1&f&&(e.ynx(0),e.TgZ(1,"h3",52)(2,"span",53),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.YNc(5,qe,6,7,"div",54),e.BQk()),2&f){const u=P.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,2,u.name)," "),e.xp6(2),e.Q6J("ngForOf",u.children)}}function Qe(f,P){if(1&f&&(e.ynx(0),e.YNc(1,Xe,6,4,"ng-container",18),e.BQk()),2&f){const u=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",u.subjects)}}function Ye(f,P){if(1&f){const u=e.EpF();e.ynx(0),e.TgZ(1,"h3",46)(2,"span",47),e.NdJ("click",function(){const E=e.CHM(u).$implicit,z=e.oxw(2);let tt;return e.KtG(z.showEducationalProgramSubject(null!==(tt=E.id)&&void 0!==tt?tt:0))}),e._uU(3),e.ALo(4,"mytranslate"),e.YNc(5,Ne,1,0,"lucide-icon",48),e.YNc(6,We,1,0,"lucide-icon",49),e.qZA()(),e.YNc(7,Qe,2,1,"ng-container",19),e.BQk()}if(2&f){const u=P.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,4,u.name)," "),e.xp6(2),e.Q6J("ngIf",u.showChild),e.xp6(1),e.Q6J("ngIf",!u.showChild),e.xp6(1),e.Q6J("ngIf",u.showChild)}}function tn(f,P){1&f&&(e.ynx(0),e.TgZ(1,"small",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&f&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_validate"),""))}function en(f,P){1&f&&(e.ynx(0),e.TgZ(1,"small",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&f&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_no_program_yet"),""))}function ue(f,P){if(1&f){const u=e.EpF();e.ynx(0),e.TgZ(1,"div",62),e.NdJ("click",function(){e.CHM(u);const S=e.oxw().$implicit,E=e.oxw(2);return e.KtG(E.openWeekdayConfig(S.controls.id.value))}),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.BQk()}if(2&f){const u=e.oxw().$implicit;e.xp6(1),e.Q6J("formGroup",u),e.xp6(2),e.Oqu(e.lcZ(4,2,u.controls.name.value))}}function ut(f,P){1&f&&(e.TgZ(0,"button",83),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_huy")))}function pe(f,P){1&f&&(e.TgZ(0,"button",84),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_xac_nhan")))}function ve(f,P){1&f&&e._UZ(0,"p",85)}function Gt(f,P){1&f&&(e.TgZ(0,"mat-label"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_business_config_educational_program_select_infrastructure")," "))}function zt(f,P){if(1&f&&(e.TgZ(0,"mat-option",86),e._uU(1),e.qZA()),2&f){const u=P.$implicit;e.s9C("value",u.id),e.xp6(1),e.Oqu(u.name)}}function Oe(f,P){1&f&&(e.ynx(0),e.TgZ(1,"small",87),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&f&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_time_validate"),""))}function ee(f,P){1&f&&(e.ynx(0),e.TgZ(1,"small",87),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&f&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_testbank_test_config_end_time_bigger_time_star"),""))}function ye(f,P){1&f&&(e.ynx(0),e._UZ(1,"br"),e.TgZ(2,"small",88),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.BQk()),2&f&&(e.xp6(3),e.hij("* ",e.lcZ(4,1,"lang_business_config_educational_program_infrastructure_validate"),""))}function Le(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",63)(1,"div",64)(2,"span",65),e.NdJ("click",function(){e.CHM(u);const S=e.oxw().$implicit,E=e.oxw(2);return e.KtG(E.openWeekdayConfig(S.controls.id.value))}),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"lucide-icon",66),e.NdJ("click",function(){e.CHM(u);const S=e.oxw().$implicit,E=e.oxw(2);return e.KtG(E.openWeekdayConfig(S.controls.id.value))}),e.qZA(),e.TgZ(6,"div",67)(7,"div",68)(8,"div",69),e._UZ(9,"input",70),e.ALo(10,"mytranslate"),e._UZ(11,"ngx-mat-timepicker",71,72),e.qZA(),e.TgZ(13,"span",73),e._uU(14,"\xa0-\xa0"),e.qZA(),e.TgZ(15,"div",69),e._UZ(16,"input",74),e.ALo(17,"mytranslate"),e._UZ(18,"ngx-mat-timepicker",71,75),e.qZA(),e.YNc(20,ut,3,3,"ng-template",null,76,e.W1O),e.YNc(22,pe,3,3,"ng-template",null,77,e.W1O),e.YNc(24,ve,1,0,"ng-template",null,78,e.W1O),e.TgZ(26,"lucide-icon",79),e.NdJ("click",function(){e.CHM(u);const S=e.oxw().$implicit,E=e.oxw(2);return e.KtG(E.openWeekdayConfig(S.controls.id.value))}),e.qZA()(),e.TgZ(27,"mat-form-field",80),e.YNc(28,Gt,3,3,"mat-label",19),e.TgZ(29,"mat-select",81),e.NdJ("openedChange",function(S){e.CHM(u);const E=e.oxw().$implicit,z=e.oxw(2);return e.KtG(z.touchedMatSelect(S,E))}),e.YNc(30,zt,2,2,"mat-option",82),e.qZA()(),e.YNc(31,Oe,4,3,"ng-container",19),e.YNc(32,ee,4,3,"ng-container",19),e.YNc(33,ye,5,3,"ng-container",19),e.qZA()()()}if(2&f){const u=e.MAs(12),T=e.MAs(19),S=e.MAs(21),E=e.MAs(23),z=e.MAs(25),tt=e.oxw().$implicit,ft=e.oxw(2);e.Q6J("formGroup",tt)("ngClass",e.VKq(29,te,tt.controls.selected.value)),e.xp6(3),e.Oqu(e.lcZ(4,23,tt.controls.name.value)),e.xp6(6),e.s9C("placeholder",e.lcZ(10,25,"lang_auto_tu")),e.Q6J("ngxMatTimepicker",u)("format",24),e.xp6(2),e.Q6J("editableHintTmpl",z)("enableKeyboardInput",!0)("cancelBtnTmpl",S)("confirmBtnTmpl",E),e.xp6(5),e.s9C("placeholder",e.lcZ(17,27,"lang_auto_den")),e.Q6J("ngxMatTimepicker",T)("format",24),e.xp6(2),e.Q6J("editableHintTmpl",z)("enableKeyboardInput",!0)("cancelBtnTmpl",S)("confirmBtnTmpl",E),e.xp6(10),e.Q6J("ngIf",tt.errors&&tt.errors.invalidInfrastructure&&!tt.controls.infrastructureId.touched),e.xp6(1),e.Q6J("value",tt.controls.infrastructureId.value),e.xp6(1),e.Q6J("ngForOf",ft.listInfrastructureObjs),e.xp6(1),e.Q6J("ngIf",tt.errors&&tt.errors.requireTime),e.xp6(1),e.Q6J("ngIf",tt.errors&&tt.errors.invalidTime),e.xp6(1),e.Q6J("ngIf",tt.errors&&tt.errors.invalidInfrastructure)}}function Be(f,P){if(1&f&&(e.ynx(0),e.YNc(1,ue,5,4,"ng-container",19),e.YNc(2,Le,34,31,"div",61),e.BQk()),2&f){const u=P.$implicit;e.xp6(1),e.Q6J("ngIf",!u.controls.selected.value),e.xp6(1),e.Q6J("ngIf",u.controls.selected.value)}}function He(f,P){1&f&&(e.ynx(0),e.TgZ(1,"small",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&f&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_start_time_validate"),""))}function It(f,P){1&f&&(e.TgZ(0,"span",35),e._UZ(1,"azt-loading-ui"),e.qZA())}function Ze(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",89)(1,"button",90),e.NdJ("click",function(){e.CHM(u);const S=e.oxw(2);return e.KtG(S.saveEducationalProgram())}),e.YNc(2,It,2,0,"span",91),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()}if(2&f){const u=e.oxw(2);e.xp6(1),e.Q6J("disabled",u.form.invalid||u.isSavingProgram),e.xp6(1),e.Q6J("ngIf",u.isSavingProgram),e.xp6(1),e.hij(" ",e.lcZ(4,3,"lang_auto_luu")," ")}}const Ft=function(f){return{"mt-2":f}},U=function(){return{"width.px":"auto","height.%":100}},_t=function(f){return[f]},N=function(f){return{backTo:f}},w=function(f,P){return{hiddenVisible:f,visibleIpt:P}};function B(f,P){if(1&f){const u=e.EpF();e.YNc(0,Fe,6,4,"button",5),e.TgZ(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"h3",11),e._uU(7,"1"),e.qZA()(),e.TgZ(8,"span",12),e._uU(9),e.ALo(10,"mytranslate"),e.qZA(),e.TgZ(11,"lucide-icon",13),e.NdJ("click",function(){e.CHM(u);const S=e.oxw();return e.KtG(S.reloadAllEducationalProgram())}),e.qZA()(),e.TgZ(12,"div",14)(13,"div",15)(14,"ng-scrollbar",16)(15,"div",17),e.YNc(16,Ye,8,6,"ng-container",18),e.YNc(17,tn,4,3,"ng-container",19),e.YNc(18,en,4,3,"ng-container",19),e.qZA()()(),e.TgZ(19,"div",17)(20,"a",20),e.ALo(21,"navigationLocalize"),e.O4$(),e.TgZ(22,"svg",21),e._UZ(23,"line",22)(24,"line",23),e.qZA(),e.kcU(),e.TgZ(25,"span",24),e._uU(26),e.ALo(27,"mytranslate"),e.qZA()()()()(),e.TgZ(28,"div",8)(29,"div",9)(30,"div",10)(31,"h3",11),e._uU(32,"2"),e.qZA()(),e.TgZ(33,"span",25),e._uU(34),e.ALo(35,"mytranslate"),e.qZA()(),e.TgZ(36,"div",26)(37,"div",27)(38,"ng-scrollbar",16)(39,"div",28),e.YNc(40,Be,3,2,"ng-container",18),e.qZA()()()()(),e.TgZ(41,"div",8)(42,"div",9)(43,"div",10)(44,"h3",11),e._uU(45,"3"),e.qZA()(),e.TgZ(46,"span",25),e._uU(47),e.ALo(48,"mytranslate"),e.qZA()(),e.TgZ(49,"div",29)(50,"div",30)(51,"ng-scrollbar",16)(52,"div",31)(53,"mat-form-field",32)(54,"input",33),e.NdJ("click",function(){e.CHM(u);const S=e.oxw();return e.KtG(S.openDateTimePicker(1))}),e.qZA(),e.TgZ(55,"button",34),e.NdJ("click",function(S){return e.CHM(u),e.oxw().openDateTimePicker(1),e.KtG(S.stopPropagation())}),e.TgZ(56,"span",35),e._UZ(57,"lucide-icon",36),e.qZA()(),e.TgZ(58,"ngx-mat-datetime-picker",37,38)(60,"ngx-mat-datepicker-actions")(61,"button",39),e._uU(62),e.ALo(63,"mytranslate"),e.qZA(),e.TgZ(64,"button",40),e._uU(65,"OK"),e.qZA()()()(),e.YNc(66,He,4,3,"ng-container",19),e.qZA()()(),e.YNc(67,Ze,5,5,"div",41),e.qZA()()()()}if(2&f){const u=e.MAs(59),T=e.oxw();e.Q6J("ngIf",T.programObj),e.xp6(2),e.Q6J("ngClass",e.VKq(39,Ft,T.programObj)),e.xp6(7),e.Oqu(e.lcZ(10,27,"lang_config_educational_program_select_new")),e.xp6(5),e.Q6J("visibility","hover")("ngStyle",e.DdM(41,U)),e.xp6(2),e.Q6J("ngForOf",T.listEducationalProgramObjs),e.xp6(1),e.Q6J("ngIf",!T.form.controls.chooseProgramId.value&&T.listEducationalProgramObjs.length>0),e.xp6(1),e.Q6J("ngIf",!T.listEducationalProgramObjs.length),e.xp6(2),e.Q6J("routerLink",e.VKq(42,_t,e.lcZ(21,29,"/business/create-general-educational-program")))("queryParams",e.VKq(44,N,T.currentURL)),e.xp6(6),e.Oqu(e.lcZ(27,31,"lang_config_educational_program_add_new")),e.xp6(8),e.Oqu(e.lcZ(35,33,"lang_config_educational_program_add_time")),e.xp6(3),e.Q6J("ngClass",e.WLB(46,w,T.form.controls.stepChoose.value<2,T.form.controls.stepChoose.value>=2)),e.xp6(1),e.Q6J("visibility","hover")("ngStyle",e.DdM(49,U)),e.xp6(2),e.Q6J("ngForOf",T.form.controls.weekdayConfig.controls),e.xp6(7),e.Oqu(e.lcZ(48,35,"lang_config_educational_program_add_start_time")),e.xp6(3),e.Q6J("ngClass",e.WLB(50,w,T.form.controls.stepChoose.value<3,T.form.controls.stepChoose.value>=3)),e.xp6(1),e.Q6J("visibility","hover")("ngStyle",e.DdM(53,U)),e.xp6(3),e.Q6J("max",T.maxDate)("ngxMatDatetimePicker",u),e.xp6(4),e.Q6J("touchUi",!0)("hideTime",!0),e.xp6(4),e.Oqu(e.lcZ(63,37,"lang_auto_dong")),e.xp6(4),e.Q6J("ngIf",T.form.controls.startTimeEducationalProgram.invalid),e.xp6(1),e.Q6J("ngIf",!T.statusObj.loading)}}let k=(()=>{class f extends l.Q{openDateTimePicker(u){1==u&&this.startTime&&this.startTime.open()}showEducationalProgramSubject(u){this.listEducationalProgramObjs.forEach(T=>{T.id==u&&(T.showChild=!T.showChild,T.showChild||T.subjects.forEach(S=>{S.children?.find(E=>E.id==this.form.controls.chooseProgramId.value)&&(this.form.controls.stepChoose.setValue(1),this.form.controls.chooseProgramId.setValue(0))}))}),this.initForm()}selectSubject(u,T,S){this.listEducationalProgramObjs.forEach(E=>{E.id==u?E.subjects.forEach(z=>{z.id==T?z.children?.forEach(tt=>{tt.id==S.id?(tt.selected=!tt.selected,this.form.controls.chooseProgramId.setValue(tt.selected?S.id:0),this.form.controls.stepChoose.setValue(tt.selected?2:1)):tt.selected=!1}):z.children?.map(tt=>tt.selected=!1)}):E.subjects.map(z=>z.children?.map(tt=>tt.selected=!1))})}reloadAllEducationalProgram(){this.initForm(),this.initData()}openWeekdayConfig(u){this.form.controls.weekdayConfig.controls.forEach(T=>{T.controls.id.value==u&&T.controls.selected.setValue(!T.controls.selected.value)})}touchedMatSelect(u,T){u?T.controls.infrastructureId.markAsTouched():T.controls.infrastructureId.markAsUntouched()}saveEducationalProgram(){this.isSavingProgram=!0;let u={programId:this.form.controls.chooseProgramId.value,studyingTimes:this.convertStudyTimes(),startTime:this.timeService.formatDateTimeToPostToServer(this.form.controls.startTimeEducationalProgram.value)};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdProgramsPost(this.classroomId,u).subscribe({next:T=>{this.showSuccessSnack("lang_educational_program_save_success_educational_program"),this.isSavingProgram=!1,this.saveEducationalProgramEmit.emit(!0)},error:T=>{this.isSavingProgram=!1,this.errorStatusObj(T.error.message,!0)}}))}convertStudyTimes(){let u=[];return this.form.controls.weekdayConfig.controls.forEach(T=>{if(T.controls.selected.value){let S={days:T.controls.id.value,fromHour:new Date("1970-01-01T"+T.controls.startTime.value).getHours(),fromMinute:new Date("1970-01-01T"+T.controls.startTime.value).getMinutes(),toHour:new Date("1970-01-01T"+T.controls.endTime.value).getHours(),toMinute:new Date("1970-01-01T"+T.controls.endTime.value).getMinutes(),roomId:T.controls.infrastructureId.value};u.push(S)}}),u}convertSubjectList(u,T){let S=[];return u.forEach(E=>{if(E.schoolLevelId==T)if(S.filter(tt=>tt.id==E.schoolSubjectId&&tt.levelId==E.schoolLevelId).length)S.forEach(tt=>{tt.id==E.schoolSubjectId&&tt.levelId==E.schoolLevelId&&(tt.children?.find(ft=>ft==E)||tt.children?.push(E))});else{let tt={id:E.schoolSubjectId,levelId:E.schoolLevelId,name:this.schoolSubjectObjs.find(ft=>ft.id==E.schoolSubjectId)?.name,children:[E]};S.push(tt)}}),S}convertProgramInfo(u){let T=[],S=this.sAZTranslateService.myTranslateInstant("lang_auto_lop")??"L\u1edbp",E=this.sAZTranslateService.myTranslateInstant("lang_core_buoi")??"Bu\u1ed5i";return u.forEach(z=>{if(z.name=`${z.name} (${z.totalSession} ${E})`,!T.filter(ft=>ft.id==z.schoolLevelId).length){let ft={id:z.schoolLevelId,name:S+" "+z.schoolLevelId,subjects:this.convertSubjectList(u,z.schoolLevelId),showChild:!1};T.push(ft)}}),T.sort((z,tt)=>(tt.id??0)-(z.id??0))}convertListInfrastructure(u){let T=[],S=this.commonService.myTranslateInstant("lang_infrastructure_seat")??"";return u.forEach(E=>{E.name=`${E.infrastructure?.name??""} - ${E.name} (${E.numberSeat} ${S})`,T.push(E)}),T}getAllInfrastructure(){this.waitDestroy(this.infrastructureService.apiInfrastructuresRoomsGet().subscribe({next:u=>{this.listInfrastructureObjs=this.convertListInfrastructure(u.list),this.stopStatusObj()},error:u=>{this.errorStatusObj(u.error.message,!0)}}))}initForm(){this.form.controls.chooseProgramId.setValue(0),this.form.controls.startTimeEducationalProgram.setValue(""),this.form.controls.weekdayConfig.clear();for(let u=0;u<7;u++){let T=new ht.cw({id:new ht.NI(u,{nonNullable:!0}),name:new ht.NI("lang_config_educational_program_day_"+u,{nonNullable:!0}),startTime:new ht.NI("",{nonNullable:!0}),endTime:new ht.NI("",{nonNullable:!0}),infrastructureId:new ht.NI(0,{nonNullable:!0}),selected:new ht.NI(!1,{nonNullable:!0}),invalidTime:new ht.NI(!1,{nonNullable:!0})});this.form.controls.weekdayConfig.push(T)}}initData(){this.initStatusObj(),this.waitDestroy(this.programService.apiProgramsListPost({page:0,size:-1}).subscribe({next:u=>{this.listEducationalProgramObjs=this.convertProgramInfo(u.list),this.getAllInfrastructure()},error:u=>{this.errorStatusObj(u.error.message,!0)}}))}getSubjectObjs(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(u=>{1==u.success?(this.schoolSubjectObjs=this.commonService.concatMultipleArray(u.data?.schoolLevelSubjectObjs.map(T=>T.schoolSubjectObjs)??[]),this.initData()):(this.errorStatusObj(u.message??""),this.initData())}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard",this.getSubjectObjs()}ngAfterViewChecked(){this.form.controls.weekdayConfig.controls.filter(T=>T.controls.selected).length?2==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(3):3==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(2),this.cd.detectChanges()}ngDoCheck(){this.cd.detectChanges()}constructor(u,T,S,E,z,tt,ft){super(),this.cd=u,this.timeService=T,this.classroomService=S,this.programService=E,this.infrastructureService=z,this.sAZTranslateService=tt,this.commonListService=ft,this.saveEducationalProgramEmit=new e.vpe,this.backLink="",this.currentURL=this.commonService.getCurrentUrlWithoutLocale(),this.listEducationalProgramObjs=[],this.listInfrastructureObjs=[],this.maxDate=Se.N.maxDateTimePicker,this.curStep=1,this.isSavingProgram=!1,this.schoolSubjectObjs=[],this.form=new ht.cw({chooseProgramId:new ht.NI(0,{nonNullable:!0,validators:[ht.kI.required,ht.kI.min(1)]}),startTimeEducationalProgram:new ht.NI("",{nonNullable:!0,validators:[ht.kI.required]}),weekdayConfig:new ht.Oe([]),stepChoose:new ht.NI(1,{nonNullable:!0})},{validators:[Ae.addNewEducationalProgramFormValidator]}),this.initForm()}}return f.\u0275fac=function(u){return new(u||f)(e.Y36(e.sBO),e.Y36(bt.D),e.Y36(t.um),e.Y36(t.Zm),e.Y36(t.wp),e.Y36(Pe.W),e.Y36(xe.o7))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-add-new-educational-program"]],viewQuery:function(u,T){if(1&u&&e.Gf(je,5),2&u){let S;e.iGM(S=e.CRH())&&(T.startTime=S.first)}},inputs:{classroomId:"classroomId",programObj:"programObj"},outputs:{saveEducationalProgramEmit:"saveEducationalProgramEmit"},features:[e._Bn([{provide:Pt.fM,useClass:Kt.WG,deps:[Xt.Ad,$t.o8]},{provide:Pt.ab,useFactory:we.tF,deps:[bt.D]}]),e.qOj],decls:5,vars:3,consts:[[1,"mx-auto","mt-3","pb-2"],[3,"formGroup"],["class","block pb-5",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"block","pb-5"],["azt-track-service","add-new-educational-program-V_itz7ADg","class","btn btn-transparent",3,"disabled","click",4,"ngIf"],[1,"box","px-4","pt-5"],[1,"grid","grid-cols-12",3,"ngClass"],[1,"col-span-12","md:col-span-4"],[1,"flex","px-2","pb-3","items-center"],[1,"bg-info","text-white","h-8","w-8","text-center",2,"border-radius","50%"],[1,"font-bold","text-xl"],[1,"ml-2",2,"vertical-align","middle","font-weight","420","word-break","break-all"],["name","refresh-ccw",1,"ml-2","clickable",2,"vertical-align","baseline !important","width","18px !important","height","18px !important",3,"click"],[1,"border","border-slate-300",2,"border-bottom","0","border-left","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto"],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"],[2,"padding-right","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],["azt-track-service","add-new-educational-programs-eY0H_Hziew",1,"btn","btn-sm","btn-primary","shadow-md","w-full","block","mx-auto","mt-3","mb-3",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-6","mr-2"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[2,"vertical-align","middle","font-size","14px !important"],[1,"ml-2",2,"vertical-align","middle","font-weight","420"],[1,"border","border-slate-300",2,"height","100%","border-bottom","0","border-left","0","border-right","0"],["formArrayName","weekdayConfig",1,"mt-2","pb-2",2,"height","calc(100vh - 205px)","overflow-y","auto",3,"ngClass"],[2,"padding-right","1rem","padding-left","1rem"],[1,"border","border-slate-300",2,"border-bottom","0","border-right","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],[1,"mt-2",2,"padding-left","1rem","padding-right","1rem"],["appearance","outline"],["matInput","","formControlName","startTimeEducationalProgram","readonly","",3,"max","ngxMatDatetimePicker","click"],["matSuffix","",2,"font-size","18px",3,"click"],[1,"w-4","h-4","inline-block"],["name","calendar-clock"],[3,"touchUi","hideTime"],["startTime",""],["mat-raised-button","","color","secondary","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["class","text-right mt-3 mb-3",4,"ngIf"],["azt-track-service","add-new-educational-program-V_itz7ADg",1,"btn","btn-transparent",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[1,"azt-hidden","sm:block"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-right","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-down",2,"width","18px !important","height","18px !important","vertical-align","top"],["name","chevron-right",2,"width","18px !important","height","18px !important","vertical-align","top"],[1,"flex","mt-1","ml-2",2,"font-weight","420","font-size","15px"],[1,"clickable",2,"align-items","center"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 clickable",3,"ngClass",4,"ngFor","ngForOf"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable",3,"ngClass"],["azt-track-service","add-new-educational-programs-bahN75vF_Q",1,"flex","w-full","justify-between",3,"click"],[2,"vertical-align","middle","text-align","left"],["name","check-square","class","text-primary","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","check-square",1,"text-primary",2,"width","18px !important","height","18px !important","vertical-align","top"],[1,"text-danger","mt-3","float-left","text-left"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 text-left relative",3,"formGroup","ngClass",4,"ngIf"],["azt-track-service","add-new-educational-programs-FanOWsky0S",1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable","text-left",3,"formGroup","click"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","text-left","relative",3,"formGroup","ngClass"],[1,"flex","justify-between","flex-wrap"],["azt-track-service","add-new-educational-programs-UqgywYmnzK",1,"clickable",3,"click"],["name","check-square",1,"text-primary","ml-2","clickable","change-block-hidden",2,"width","18px !important","height","18px !important","vertical-align","top",3,"click"],[1,"block","md:ml-2","w-full"],[1,"flex","justify-between",2,"align-items","center"],[2,"width","100%","height","38px","align-items","center"],["type","text","formControlName","startTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],[3,"editableHintTmpl","enableKeyboardInput","cancelBtnTmpl","confirmBtnTmpl"],["timeStartPicker",""],[1,"text-center",2,"vertical-align","middle","align-self","center"],["type","text","formControlName","endTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],["timeEndPicker",""],["cancelBtn",""],["confirmBtn",""],["dialHint",""],["name","check-square",1,"text-primary","ml-2","clickable","hiddenIpt","md:inlineBlockIpt",2,"width","18px !important","height","18px !important","vertical-align","top",3,"click"],["appearance","outline",1,"mt-2","bg-white","rounded"],["formControlName","infrastructureId",3,"value","openedChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","secondary",2,"margin-right","10px"],["mat-raised-button","","color","primary"],[1,"small"],[3,"value"],[1,"text-danger","mt-2"],[1,"text-danger","mt-1"],[1,"text-right","mt-3","mb-3"],["azt-track-service","add-new-educational-programs-R3hLoR84Ua",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block",4,"ngIf"]],template:function(u,T){if(1&u&&(e.TgZ(0,"div",0)(1,"form",1),e.YNc(2,de,1,0,"azt-loading-effect",2),e.YNc(3,B,68,54,"ng-template",null,3,e.W1O),e.qZA()()),2&u){const S=e.MAs(4);e.xp6(1),e.Q6J("formGroup",T.form),e.xp6(1),e.Q6J("ngIf",T.statusObj.loading)("ngIfElse",S)}},dependencies:[s.rH,X.mk,X.sg,X.O5,X.PC,Xt.ey,me.lW,he.Nt,_e.KE,_e.hX,_e.R9,Ue.gD,Pt.rZ,Pt.T$,Pt.c_,Pt.dW,Pt.cL,Ie.ft,Ie.Bi,ht._Y,ht.Fj,ht.JJ,ht.JL,ht.sg,ht.u,ht.CE,n.l,Me.M,$.n,xt.Nh5,ze.KC,oe.Jy,oe.JV],encapsulation:2}),f})();function Q(f,P){if(1&f&&(e.ynx(0),e.TgZ(1,"p",5),e._uU(2),e.qZA(),e.BQk()),2&f){const u=P.$implicit;e.xp6(2),e.hij("",u.content," ")}}function V(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){e.CHM(u);const S=e.oxw(2);return e.KtG(S.editContent())}),e.O4$(),e.TgZ(1,"svg",7),e._UZ(2,"path",8)(3,"path",9),e.qZA()()}}function at(f,P){if(1&f&&(e.TgZ(0,"div",2)(1,"div"),e.YNc(2,Q,3,1,"ng-container",3),e.qZA(),e.YNc(3,V,4,0,"div",4),e.qZA()),2&f){const u=e.oxw();e.xp6(2),e.Q6J("ngForOf",u.contents),e.xp6(1),e.Q6J("ngIf",u.teacherRole)}}function St(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"button",22),e.ALo(1,"mytranslate"),e.O4$(),e.TgZ(2,"svg",23),e.NdJ("click",function(){e.CHM(u);const S=e.oxw().$implicit,E=e.oxw(2);return e.KtG(E.removeContent(S))}),e._UZ(3,"path",24)(4,"path",25),e.qZA()()}if(2&f){const u=e.oxw(3);e.s9C("matTooltip",e.lcZ(1,2,"lang_button_delete")),e.Q6J("disabled",u.statusObj.loading)}}function Vt(f,P){1&f&&(e.TgZ(0,"div",26)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&f&&(e.xp6(2),e.hij("*",e.lcZ(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function ie(f,P){if(1&f&&(e.TgZ(0,"div")(1,"div",18),e._UZ(2,"input",19),e.ALo(3,"mytranslate"),e.YNc(4,St,5,4,"button",20),e.qZA(),e.YNc(5,Vt,4,3,"div",21),e.qZA()),2&f){const u=P.$implicit,T=e.oxw(2);e.xp6(2),e.s9C("placeholder",e.lcZ(3,5,"lang_core_nhap_noi_dung_buoi_hoc")),e.Q6J("formControl",u.controls.content)("disabled",T.statusObj.loading),e.xp6(2),e.Q6J("ngIf",T.listFormContent.controls.length>1),e.xp6(1),e.Q6J("ngIf",u.controls.content.errors)}}function Mt(f,P){1&f&&e._UZ(0,"azt-loading-ui",27)}function ne(f,P){1&f&&(e.O4$(),e.TgZ(0,"svg",28),e._UZ(1,"path",29)(2,"polyline",30)(3,"polyline",31),e.qZA())}const Ge=function(){return[]};function fn(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",10),e.YNc(1,ie,6,7,"div",3),e.TgZ(2,"div",11)(3,"button",12),e.NdJ("click",function(){e.CHM(u);const S=e.oxw();return e.KtG(S.viewContent())}),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"button",13),e.NdJ("click",function(){e.CHM(u);const S=e.oxw();return e.KtG(S.addContent())}),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.TgZ(9,"button",14),e.NdJ("click",function(){e.CHM(u);const S=e.oxw();return e.KtG(S.saveContent())}),e.YNc(10,Mt,1,0,"azt-loading-ui",15),e.YNc(11,ne,4,0,"svg",16),e.TgZ(12,"span",17),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()()()()}if(2&f){const u=e.oxw();let T;e.xp6(1),e.Q6J("ngForOf",null!==(T=null==u.listFormContent?null:u.listFormContent.controls)&&void 0!==T?T:e.DdM(15,Ge)),e.xp6(2),e.Q6J("disabled",u.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(5,9,"lang_button_cancel")," "),e.xp6(2),e.Q6J("disabled",u.statusObj.loading||u.isEmptyContent()),e.xp6(1),e.hij(" + ",e.lcZ(8,11,"lang_button_add")," "),e.xp6(2),e.Q6J("disabled",u.statusObj.loading||u.isEmptyContent()),e.xp6(1),e.Q6J("ngIf",u.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!u.statusObj.loading),e.xp6(2),e.hij(" ",e.lcZ(14,13,"lang_button_save")," ")}}let ae=(()=>{class f extends l.Q{isEmptyContent(){return!!this.listFormContent.controls.find(u=>u.controls.content.errors)}editContent(){this.listFormContent=new ht.Oe(this.contents.map(u=>new ht.cw({contentId:new ht.NI(u.id,{nonNullable:!0,validators:[ht.kI.required]}),content:new ht.NI(u.content,{nonNullable:!0,validators:[ht.kI.required]})})))}addContent(){var u=this.listFormContent.controls.map(T=>T.getRawValue().contentId);this.listFormContent.controls.push(new ht.cw({contentId:new ht.NI(this.commonService.getVirtualIdWithoutInList(!0,u),{nonNullable:!0,validators:[ht.kI.required]}),content:new ht.NI("",{nonNullable:!0,validators:[ht.kI.required]})}))}removeContent(u){this.listFormContent.controls=this.listFormContent.controls.filter(T=>T!=u)}viewContent(){this.listFormContent.clear()}saveContent(){this.initStatusObj();let u={contents:this.listFormContent?.controls.map(T=>({id:T.getRawValue().contentId<0?0:T.getRawValue().contentId,content:T.getRawValue().content}))??[]};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdPut(this.classroomId,this.sessionId,u).subscribe({next:T=>{this.showSuccessSnack("lang_auto_chinh_sua_thanh_cong"),this.close.emit(!0)},error:T=>{this.errorStatusObj(T.error.message,!0)}}))}ngOnInit(){super.ngOnInit()}constructor(u){super(),this.classroomService=u,this.contents=[],this.close=new e.vpe,this.listFormContent=new ht.Oe([])}}return f.\u0275fac=function(u){return new(u||f)(e.Y36(t.um))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-education-program-session-content-form"]],inputs:{teacherRole:"teacherRole",contents:"contents",classroomId:"classroomId",sessionId:"sessionId"},outputs:{close:"close"},features:[e._Bn([{provide:Pt.fM,useClass:Kt.WG,deps:[Xt.Ad,$t.o8]},{provide:Pt.ab,useFactory:we.tF,deps:[bt.D]}]),e.qOj],decls:2,vars:2,consts:[["class","flex justify-between items-center",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"flex","justify-between","items-center"],[4,"ngFor","ngForOf"],["azt-track-service","edit-content-session-clV7wEeRi","class","mr-2 ml-1",3,"click",4,"ngIf"],[1,"text-danger","font-medium"],["azt-track-service","edit-content-session-clV7wEeRi",1,"mr-2","ml-1",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil","zoom-in"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],[1,"mb-2"],[1,"mt-2","flex","justify-end"],["azt-track-service","edit-content-session-fb5Kcem4lN",1,"btn","btn-secondary","py-1",3,"disabled","click"],["azt-track-service","edit-content-session-LUmRlMXNo0",1,"btn","btn-info","py-1","ml-2",3,"disabled","click"],["azt-track-service","edit-content-session-u3EiKdwIT9",1,"btn","btn-primary","ml-2","py-1",3,"disabled","click"],["style","height: 16px; width: 16px;",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-save",4,"ngIf"],[1,"ml-2"],[1,"flex","items-center"],["type","text",1,"form-control","mt-2","mb-2",3,"formControl","disabled","placeholder"],["class","btn btn-light ml-2 px-2",3,"matTooltip","disabled",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],[1,"btn","btn-light","ml-2","px-2",3,"matTooltip","disabled"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","btn-clear-form-content",3,"click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],[2,"height","16px","width","16px"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-save"],["d","M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"],["points","17 21 17 13 7 13 7 21"],["points","7 3 7 8 15 8"]],template:function(u,T){1&u&&(e.YNc(0,at,4,2,"div",0),e.YNc(1,fn,15,16,"div",1)),2&u&&(e.Q6J("ngIf",0==T.listFormContent.controls.length),e.xp6(1),e.Q6J("ngIf",T.listFormContent.controls.length>0))},dependencies:[X.sg,X.O5,ot.gM,ht.Fj,ht.JJ,ht.oH,$.n,oe.JV],encapsulation:2}),f})();function xn(f,P){if(1&f&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f){const u=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,u.errorApiMessage)," ")}}function I(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"app-add-new-educational-program",6),e.NdJ("saveEducationalProgramEmit",function(S){e.CHM(u);const E=e.oxw(2);return e.KtG(E.emitDataReloadSession(S))}),e.qZA()}if(2&f){const u=e.oxw(2);e.Q6J("classroomId",u.classroomId)("programObj",u.programObj)}}function W(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(u);const S=e.oxw(3);return e.KtG(S.addNewEducationalProgram())}),e._UZ(1,"lucide-icon",13),e.TgZ(2,"span",14),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()}2&f&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"lang_educational_program_select_another")))}function O(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",17)(1,"a",18),e.NdJ("auxclick",function(S){const z=e.CHM(u).$implicit,tt=e.oxw(4);return e.KtG(tt.previewFile(z,S))})("click",function(S){const z=e.CHM(u).$implicit,tt=e.oxw(4);return e.KtG(tt.previewFile(z,S))}),e._UZ(2,"azt-document-type-file",19),e.qZA()()}if(2&f){const u=P.$implicit;let T;e.xp6(2),e.Q6J("type",u.documentType)("name",null!==(T=u.name)&&void 0!==T?T:"")("url",u.link)("iconVerticalStyle","baseline")("customClass","w-6 h-6")}}function A(f,P){if(1&f&&(e.ynx(0),e.TgZ(1,"div",15),e.YNc(2,O,3,5,"div",16),e.qZA(),e.BQk()),2&f){const u=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",u.generalDocumentObjs)}}function F(f,P){1&f&&e._UZ(0,"lucide-icon",24)}function wt(f,P){1&f&&e._UZ(0,"lucide-icon",25)}function se(f,P){1&f&&(e.TgZ(0,"button",34),e._UZ(1,"lucide-icon",35),e.TgZ(2,"span",14),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()),2&f&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"lang_student_absence")))}function vn(f,P){1&f&&(e.TgZ(0,"button",36),e._UZ(1,"lucide-icon",35),e.qZA())}function Ve(f,P){if(1&f&&(e.TgZ(0,"div",31),e.YNc(1,se,5,3,"button",32),e.ALo(2,"async"),e.ALo(3,"allowFeatureBusinessForUser"),e.YNc(4,vn,2,0,"button",33),e.ALo(5,"async"),e.ALo(6,"allowFeatureBusinessForUser"),e.qZA()),2&f){const u=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",(null==u.studentAttendance?null:u.studentAttendance.absent)&&e.lcZ(2,2,e.Dn7(3,4,"","training_center_student_attendance",!0))),e.xp6(3),e.Q6J("ngIf",(null==u.studentAttendance?null:u.studentAttendance.absent)&&e.lcZ(5,8,e.Dn7(6,10,"","training_center_student_attendance",!0)))}}function Fn(f,P){if(1&f&&(e.ynx(0),e.TgZ(1,"span",42),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&f){const u=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_test_market_address")+": "+(null==u.room.infrastructure?null:u.room.infrastructure.name)+" - "+u.room.name)}}const Lt=function(f){return{"text-slate-700":f}};function re(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",37),e.NdJ("click",function(){e.CHM(u);const S=e.oxw().$implicit,E=e.oxw(5);return e.KtG(E.expandSessionObj(S))}),e.TgZ(1,"div",38)(2,"h3",39)(3,"span",40),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"span",41),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,Fn,4,3,"ng-container",5),e.qZA()()}if(2&f){const u=e.oxw().$implicit;e.xp6(3),e.Q6J("ngClass",e.VKq(8,Lt,u.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(5,4,"lang_core_buoi")+" "+u.sort),e.xp6(3),e.Oqu(e.lcZ(8,6,"lang_config_educational_program_day_"+u.day)+", "+u.dateSession+" "+u.timeSession),e.xp6(2),e.Q6J("ngIf",u.room)}}function De(f,P){if(1&f&&(e.ynx(0),e.TgZ(1,"span",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&f){const u=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_test_market_address")+": "+(null==u.room.infrastructure?null:u.room.infrastructure.name)+" - "+u.room.name)}}const Re=function(f,P){return{"text-slate-600":f,"text-warning":P}};function Sn(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",49)(1,"div",50)(2,"span",51),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.TgZ(5,"app-education-program-session-content-form",61),e.NdJ("close",function(S){e.CHM(u);const E=e.oxw(2).$implicit,z=e.oxw(5);return e.KtG(z.reloadData(S,E))}),e.qZA()()}if(2&f){const u=e.oxw(2).$implicit,T=e.oxw(5);e.xp6(2),e.Q6J("ngClass",e.WLB(8,Re,u.outOfDate,!u.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(4,6,"lang_auto_noi_dung")),e.xp6(2),e.Q6J("contents",u.contents)("teacherRole",T.teacherRole)("classroomId",T.classroomId)("sessionId",u.id)}}function Jn(f,P){1&f&&(e.ynx(0),e.TgZ(1,"div",73),e._UZ(2,"img",74),e.ALo(3,"convertCdnLinkOfGitHub"),e.qZA(),e.BQk()),2&f&&(e.xp6(2),e.Q6J("src",e.lcZ(3,1,"images/type_file/unknown-file.svg"),e.LSH))}function qn(f,P){1&f&&(e.ynx(0),e.TgZ(1,"div",75),e._UZ(2,"lucide-icon",76),e.qZA(),e.BQk())}function In(f,P){1&f&&(e.ynx(0),e.TgZ(1,"div",77),e._UZ(2,"lucide-icon",78),e.qZA(),e.BQk())}function fe(f,P){if(1&f&&(e.TgZ(0,"small",79),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f){const u=e.oxw().$implicit;e.xp6(1),e.lnq(" ",e.lcZ(2,3,"lang_auto_da_nop"),":\xa0",u.totalFinish,"/",u.totalAttendee," ")}}const Bt=function(f,P){return{"text-success":f,"text-slate-700/50":P}};function Ee(f,P){if(1&f&&(e.TgZ(0,"small",80),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f){const u=e.oxw().$implicit;e.Q6J("ngClass",e.WLB(4,Bt,u.totalFinish,!u.totalFinish)),e.xp6(1),e.hij(" ",e.lcZ(2,2,u.totalFinish?"lang_auto_da_nop":"lang_auto_chua_nop")," ")}}function nn(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"small",81),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"button",82),e.NdJ("click",function(S){e.CHM(u);const E=e.oxw().$implicit,z=e.oxw(2).$implicit;return e.oxw(5).editMarkCoefficient(E,z),S.stopPropagation(),e.KtG(S.preventDefault())}),e.ALo(4,"mytranslate"),e.O4$(),e.TgZ(5,"svg",83),e._UZ(6,"path",84)(7,"path",85),e.qZA()()()}if(2&f){const u=e.oxw().$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,3,"lang_student_score_factor"),":\xa0",u.markCoefficient," "),e.xp6(2),e.s9C("matTooltip",e.lcZ(4,5,"lang_student_edit_mark_coefficient"))}}const be=function(f){return[f]},$e=function(f){return{backto:f}};function _n(f,P){if(1&f&&(e.TgZ(0,"div",62)(1,"a",63),e.ALo(2,"navigationLocalize"),e.TgZ(3,"div",64)(4,"div",65),e.YNc(5,Jn,4,3,"ng-container",5),e.YNc(6,qn,3,0,"ng-container",5),e.YNc(7,In,3,0,"ng-container",5),e.qZA(),e.TgZ(8,"div",66)(9,"div",67)(10,"span",68,69),e._uU(12),e.qZA(),e.YNc(13,fe,3,5,"small",70),e.YNc(14,Ee,3,7,"small",71),e.YNc(15,nn,8,7,"small",72),e.qZA()()()()()),2&f){const u=P.$implicit,T=e.MAs(11),S=e.oxw(7);let E;e.xp6(1),e.Q6J("routerLink",e.VKq(14,be,e.lcZ(2,12,u.documentType==S.allDocumentTypes.exam?S.teacherRole?"/admin/testbank/exam-results-list/"+(null!==(E=u.categoryId)&&void 0!==E?E:0)+"/"+u.refId+"/0":"/de-thi/"+u.hashId:S.teacherRole?"/admin/testbank/homework-results-list/"+(null!==(E=u.classroomId)&&void 0!==E?E:0)+"/"+u.refId+"/"+u.hashId:"/bai-tap/"+u.hashId)))("queryParams",e.VKq(16,$e,S.currentUrl)),e.xp6(4),e.Q6J("ngIf",!u.type),e.xp6(1),e.Q6J("ngIf","exam"==u.type),e.xp6(1),e.Q6J("ngIf","homework"==u.type),e.xp6(3),e.s9C("matTooltip",u.name),e.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",T.isDisabled),e.xp6(2),e.hij(" ",u.name," "),e.xp6(1),e.Q6J("ngIf",S.teacherRole),e.xp6(1),e.Q6J("ngIf",!S.teacherRole),e.xp6(1),e.Q6J("ngIf",S.teacherRole)}}const sn=function(f,P,u,T,S,E){return{backto:f,classroomId:P,programId:u,sessionId:T,levelId:S,subjectId:E}},bn=function(f,P){return{"text-slate-600":f,"btn-text-primary":P}};function Tn(f,P){if(1&f&&(e.TgZ(0,"a",86),e.ALo(1,"navigationLocalize"),e.TgZ(2,"span",87),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()),2&f){const u=e.oxw(2).$implicit,T=e.oxw(5);let S;e.Q6J("routerLink",e.VKq(8,be,e.lcZ(1,4,"/admin/testbank/create-new-document/0")))("queryParams",e.HTZ(10,sn,T.currentUrl,T.classroomId,u.programId,u.id,null!==(S=null==T.programObj?null:T.programObj.schoolLevelId)&&void 0!==S?S:0,null!==(S=null==T.programObj?null:T.programObj.schoolSubjectId)&&void 0!==S?S:0))("ngClass",e.WLB(17,bn,u.outOfDate,!u.outOfDate)),e.xp6(3),e.hij("+ ",e.lcZ(4,6,"lang_business_assign_exams"),"")}}function Qn(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",104)(1,"a",105),e.NdJ("click",function(S){e.CHM(u);const E=e.oxw(2).$implicit,z=e.oxw(3).$implicit,tt=e.oxw(4).$implicit;let yt;return e.oxw(5).removeDocumentFromSession(tt,null!==(yt=E.sessionId)&&void 0!==yt?yt:0,E.id,z),S.preventDefault(),e.KtG(S.stopPropagation())}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&f&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function C(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"li")(1,"a",101),e.NdJ("auxclick",function(S){e.CHM(u);const E=e.oxw().$implicit,z=e.oxw(12);return e.KtG(z.previewFile(E,S))})("click",function(S){e.CHM(u);const E=e.oxw().$implicit,z=e.oxw(12);return e.KtG(z.previewFile(E,S))}),e._UZ(2,"azt-document-type-file",102),e.YNc(3,Qn,5,3,"div",103),e.qZA()()}if(2&f){const u=e.oxw().$implicit,T=e.oxw(12);let S;e.xp6(2),e.Q6J("truncateString",!1)("textWidth","99%")("type",u.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(S=u.name)&&void 0!==S?S:"")("url",u.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",T.teacherRole)}}function q(f,P){if(1&f&&(e.ynx(0),e.YNc(1,C,4,10,"li",5),e.BQk()),2&f){const u=e.oxw(3).$implicit,T=e.oxw(9);e.xp6(1),e.Q6J("ngIf",u.name==T.allDocumentGroupTypes.video)}}const h=function(f){return{"dropdown-menu-scroll":f}};function j(f,P){if(1&f&&(e.ynx(0),e.TgZ(1,"h3",94)(2,"span",95),e._UZ(3,"lucide-icon",96),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",97,98)(8,"div",99)(9,"ul",100),e.YNc(10,q,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&f){const u=e.MAs(7),T=e.oxw(2).$implicit,S=e.oxw(4).last,E=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",T.documentObjs.length?u:null),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_config_educational_program_"+T.name),""," ("+T.documentObjs.length+")"," "),e.xp6(5),e.Q6J("ngClass",e.VKq(7,h,E&&S||T.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",T.documentObjs)}}function K(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",104)(1,"a",110),e.NdJ("click",function(S){e.CHM(u);const E=e.oxw(2).$implicit,z=e.oxw(3).$implicit,tt=e.oxw(4).$implicit;let yt;return e.oxw(5).removeDocumentFromSession(tt,null!==(yt=E.sessionId)&&void 0!==yt?yt:0,E.id,z),S.preventDefault(),e.KtG(S.stopPropagation())}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&f&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function Zt(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"li")(1,"a",109),e.NdJ("auxclick",function(S){e.CHM(u);const E=e.oxw().$implicit,z=e.oxw(12);return e.KtG(z.previewFile(E,S))})("click",function(S){e.CHM(u);const E=e.oxw().$implicit,z=e.oxw(12);return e.KtG(z.previewFile(E,S))}),e._UZ(2,"azt-document-type-file",102),e.YNc(3,K,5,3,"div",103),e.qZA()()}if(2&f){const u=e.oxw().$implicit,T=e.oxw(12);let S;e.xp6(2),e.Q6J("truncateString",!1)("textWidth","99%")("type",u.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(S=u.name)&&void 0!==S?S:"")("url",u.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",T.teacherRole)}}function Ht(f,P){if(1&f&&(e.ynx(0),e.YNc(1,Zt,4,10,"li",5),e.BQk()),2&f){const u=e.oxw(3).$implicit,T=e.oxw(9);e.xp6(1),e.Q6J("ngIf",u.name==T.allDocumentGroupTypes.document)}}function dn(f,P){if(1&f&&(e.ynx(0),e.TgZ(1,"h3",94)(2,"span",95),e._UZ(3,"lucide-icon",96),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",97,108)(8,"div",99)(9,"ul",100),e.YNc(10,Ht,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&f){const u=e.MAs(7),T=e.oxw(2).$implicit,S=e.oxw(4).last,E=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",T.documentObjs.length?u:null),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_config_educational_program_"+T.name),""," ("+T.documentObjs.length+")"," "),e.xp6(5),e.Q6J("ngClass",e.VKq(7,h,E&&S||T.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",T.documentObjs)}}function Te(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",104)(1,"a",114),e.NdJ("click",function(S){e.CHM(u);const E=e.oxw(2).$implicit,z=e.oxw(3).$implicit,tt=e.oxw(4).$implicit;let yt;return e.oxw(5).removeDocumentFromSession(tt,null!==(yt=E.sessionId)&&void 0!==yt?yt:0,E.id,z),S.preventDefault(),e.KtG(S.stopPropagation())}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&f&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function Gn(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"li")(1,"a",113),e.NdJ("auxclick",function(S){e.CHM(u);const E=e.oxw().$implicit,z=e.oxw(12);return e.KtG(z.previewFile(E,S))})("click",function(S){e.CHM(u);const E=e.oxw().$implicit,z=e.oxw(12);return e.KtG(z.previewFile(E,S))}),e._UZ(2,"azt-document-type-file",102),e.YNc(3,Te,5,3,"div",103),e.qZA()()}if(2&f){const u=e.oxw().$implicit,T=e.oxw(12);let S;e.xp6(2),e.Q6J("truncateString",!1)("textWidth","99%")("type",u.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(S=u.name)&&void 0!==S?S:"")("url",u.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",T.teacherRole)}}function so(f,P){if(1&f&&(e.ynx(0),e.YNc(1,Gn,4,10,"li",5),e.BQk()),2&f){const u=e.oxw(3).$implicit,T=e.oxw(9);e.xp6(1),e.Q6J("ngIf",u.name==T.allDocumentGroupTypes.homework)}}function Oo(f,P){if(1&f&&(e.ynx(0),e.TgZ(1,"h3",94)(2,"span",95),e._UZ(3,"lucide-icon",96),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",111,112)(8,"div",99)(9,"ul",100),e.YNc(10,so,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&f){const u=e.MAs(7),T=e.oxw(2).$implicit,S=e.oxw(4).last,E=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",T.documentObjs.length?u:null),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_config_educational_program_"+T.name),""," ("+T.documentObjs.length+")"," "),e.xp6(5),e.Q6J("ngClass",e.VKq(7,h,E&&S||T.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",T.documentObjs)}}function un(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",104)(1,"a",118),e.NdJ("click",function(S){e.CHM(u);const E=e.oxw(2).$implicit,z=e.oxw(3).$implicit,tt=e.oxw(4).$implicit;let yt;return e.oxw(5).removeDocumentFromSession(tt,null!==(yt=E.sessionId)&&void 0!==yt?yt:0,E.id,z),S.preventDefault(),e.KtG(S.stopPropagation())}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&f&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function ro(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"li")(1,"a",116),e.NdJ("auxclick",function(S){e.CHM(u);const E=e.oxw().$implicit,z=e.oxw(12);return e.KtG(z.previewFile(E,S))})("click",function(S){e.CHM(u);const E=e.oxw().$implicit,z=e.oxw(12);return e.KtG(z.previewFile(E,S))}),e._UZ(2,"azt-document-type-file",117),e.YNc(3,un,5,3,"div",103),e.qZA()()}if(2&f){const u=e.oxw().$implicit,T=e.oxw(12);let S;e.xp6(2),e.Q6J("truncateString",!1)("type",u.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(S=u.name)&&void 0!==S?S:"")("url",u.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",T.teacherRole)}}function yo(f,P){if(1&f&&(e.ynx(0),e.YNc(1,ro,4,10,"li",5),e.BQk()),2&f){const u=e.oxw(3).$implicit,T=e.oxw(9);e.xp6(1),e.Q6J("ngIf",u.name==T.allDocumentGroupTypes.homework_view)}}function le(f,P){if(1&f&&(e.ynx(0),e.TgZ(1,"h3",94)(2,"span",95),e._UZ(3,"lucide-icon",96),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",111,115)(8,"div",99)(9,"ul",100),e.YNc(10,yo,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&f){const u=e.MAs(7),T=e.oxw(2).$implicit,S=e.oxw(4).last,E=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",T.documentObjs.length?u:null),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_config_educational_program_"+T.name),""," ("+T.documentObjs.length+")"," "),e.xp6(5),e.Q6J("ngClass",e.VKq(7,h,E&&S||T.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",T.documentObjs)}}function Cn(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",104)(1,"a",122),e.NdJ("click",function(S){e.CHM(u);const E=e.oxw(2).$implicit,z=e.oxw(3).$implicit,tt=e.oxw(4).$implicit;let yt;return e.oxw(5).removeDocumentFromSession(tt,null!==(yt=E.sessionId)&&void 0!==yt?yt:0,E.id,z),S.preventDefault(),e.KtG(S.stopPropagation())}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&f&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function kn(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"li")(1,"a",121),e.NdJ("auxclick",function(S){e.CHM(u);const E=e.oxw().$implicit,z=e.oxw(12);return e.KtG(z.previewFile(E,S))})("click",function(S){e.CHM(u);const E=e.oxw().$implicit,z=e.oxw(12);return e.KtG(z.previewFile(E,S))}),e._UZ(2,"azt-document-type-file",117),e.YNc(3,Cn,5,3,"div",103),e.qZA()()}if(2&f){const u=e.oxw().$implicit,T=e.oxw(12);let S;e.xp6(2),e.Q6J("truncateString",!1)("type",u.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(S=u.name)&&void 0!==S?S:"")("url",u.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",T.teacherRole)}}function wn(f,P){if(1&f&&(e.ynx(0),e.YNc(1,kn,4,10,"li",5),e.BQk()),2&f){const u=e.oxw(3).$implicit,T=e.oxw(9);e.xp6(1),e.Q6J("ngIf",u.name==T.allDocumentGroupTypes.unknown)}}function lo(f,P){if(1&f&&(e.ynx(0),e.TgZ(1,"h3",94)(2,"span",95),e._UZ(3,"lucide-icon",96),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",111,119)(8,"div",120)(9,"ul",100),e.YNc(10,wn,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&f){const u=e.MAs(7),T=e.oxw(2).$implicit,S=e.oxw(4).last,E=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",u),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_config_educational_program_"+T.name),""," ("+T.documentObjs.length+")"," "),e.xp6(5),e.Q6J("ngClass",e.VKq(7,h,E&&S||T.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",T.documentObjs)}}function co(f,P){if(1&f&&(e.TgZ(0,"div",93),e.YNc(1,j,11,9,"ng-container",5),e.YNc(2,dn,11,9,"ng-container",5),e.YNc(3,Oo,11,9,"ng-container",5),e.YNc(4,le,11,9,"ng-container",5),e.YNc(5,lo,11,9,"ng-container",5),e.qZA()),2&f){const u=e.oxw().$implicit,T=e.oxw(9);e.xp6(1),e.Q6J("ngIf",u.name==T.allDocumentGroupTypes.video),e.xp6(1),e.Q6J("ngIf",u.name==T.allDocumentGroupTypes.document),e.xp6(1),e.Q6J("ngIf",u.name==T.allDocumentGroupTypes.homework),e.xp6(1),e.Q6J("ngIf",u.name==T.allDocumentGroupTypes.homework_view),e.xp6(1),e.Q6J("ngIf",u.name==T.allDocumentGroupTypes.unknown&&u.documentObjs.length)}}function mo(f,P){if(1&f&&(e.ynx(0),e.YNc(1,co,6,5,"div",92),e.BQk()),2&f){const u=P.$implicit,T=e.oxw(9);e.xp6(1),e.Q6J("ngIf",u.name!=T.allDocumentGroupTypes.unknown||u.name==T.allDocumentGroupTypes.unknown&&u.documentObjs.length)}}function Vn(f,P){if(1&f&&(e.ynx(0),e.YNc(1,mo,2,1,"ng-container",11),e.BQk()),2&f){const u=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngForOf",u.groupDocumentObjs)}}function _o(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",104)(1,"a",127),e.NdJ("click",function(){e.CHM(u);const S=e.oxw().$implicit,E=e.oxw(4).$implicit,z=e.oxw(5);let tt;return e.KtG(z.removeDocumentFromSession(E,null!==(tt=S.sessionId)&&void 0!==tt?tt:0,S.id))}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&f&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function Rn(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",124)(1,"a",125),e.NdJ("auxclick",function(S){const z=e.CHM(u).$implicit,tt=e.oxw(9);return e.KtG(tt.previewFile(z,S))})("click",function(S){const z=e.CHM(u).$implicit,tt=e.oxw(9);return e.KtG(tt.previewFile(z,S))}),e._UZ(2,"azt-document-type-file",126),e.qZA(),e.YNc(3,_o,5,3,"div",103),e.qZA()}if(2&f){const u=P.$implicit,T=e.oxw(9);let S;e.xp6(2),e.Q6J("type",u.documentType)("name",null!==(S=u.name)&&void 0!==S?S:"")("url",u.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",T.teacherRole)}}function Zo(f,P){if(1&f&&e.YNc(0,Rn,4,5,"div",123),2&f){const u=e.oxw(3).$implicit;e.Q6J("ngForOf",u.normalDocumentObjs)}}function Ao(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"app-upload-document-for-session",128),e.NdJ("emitFileDocument",function(S){e.CHM(u);const E=e.oxw(3).$implicit,z=e.oxw(5);return e.KtG(z.uploadFileEmitted(S,E))}),e.TgZ(1,"span",87),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()}if(2&f){const u=e.oxw(3).$implicit;e.Q6J("isBtn",!0)("customClass",u.outOfDate?"text-slate-600":"text-primary"),e.xp6(2),e.Oqu(e.lcZ(3,3,"lang_educational_program_add_document"))}}function uo(f,P){if(1&f&&(e.TgZ(0,"div",53),e.YNc(1,Vn,2,1,"ng-container",88),e.YNc(2,Zo,1,1,"ng-template",null,89,e.W1O),e.TgZ(4,"div",90),e.YNc(5,Ao,4,5,"app-upload-document-for-session",91),e.qZA()()),2&f){const u=e.MAs(3),T=e.oxw(2).$implicit,S=e.oxw(5);e.xp6(1),e.Q6J("ngIf",T.groupDocumentObjs.length)("ngIfElse",u),e.xp6(4),e.Q6J("ngIf",S.teacherRole)}}function So(f,P){1&f&&(e.TgZ(0,"div",129)(1,"div",130)(2,"span",131),e._UZ(3,"azt-loading-ui",132),e.qZA()()()),2&f&&(e.xp6(3),e.Q6J("type","oval"))}function On(f,P){if(1&f&&(e.TgZ(0,"a",137),e.ALo(1,"navigationLocalize"),e._UZ(2,"lucide-icon",138),e.TgZ(3,"span",139),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&f){const u=e.oxw(3).$implicit,T=e.oxw(5);e.Q6J("routerLink",e.VKq(8,be,e.lcZ(1,4,"/admin/student/attendance-student/"+T.classroomId+"/"+u.programId+"/"+u.id)))("queryParams",e.VKq(10,$e,"/admin/student/classroom-details/"+T.classroomId+"/3?sessionId="+u.id+"&backto="+T.backLink)),e.xp6(4),e.AsE("",e.lcZ(5,6,"lang_student_attendance_student"),""," ("+u.totalJoinedStudent+"/"+u.totalStudent+")","")}}function yn(f,P){if(1&f&&(e.TgZ(0,"a",140),e.ALo(1,"navigationLocalize"),e._UZ(2,"lucide-icon",141),e.TgZ(3,"span",139),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&f){const u=e.oxw(3).$implicit,T=e.oxw(5);e.Q6J("routerLink",e.VKq(7,be,e.lcZ(1,3,"/admin/student/distribute-document/"+T.classroomId+"/"+u.programId+"/"+u.id)))("queryParams",e.VKq(9,$e,"/admin/student/classroom-details/"+T.classroomId+"/3?sessionId="+u.id+"&backto="+T.backLink)),e.xp6(4),e.Oqu(e.lcZ(5,5,"lang_student_distribute_books"))}}function Mn(f,P){if(1&f&&(e.TgZ(0,"a",142),e.ALo(1,"navigationLocalize"),e._UZ(2,"lucide-icon",143),e.TgZ(3,"span",139),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&f){const u=e.oxw(3).$implicit,T=e.oxw(5);e.Q6J("routerLink",e.VKq(7,be,e.lcZ(1,3,"/admin/student/submit-score/"+T.classroomId+"/"+u.programId+"/"+u.id)))("queryParams",e.VKq(9,$e,"/admin/student/classroom-details/"+T.classroomId+"/3?sessionId="+u.id+"&backto="+T.backLink)),e.xp6(4),e.Oqu(e.lcZ(5,5,"lang_student_enter_score"))}}function jn(f,P){if(1&f&&(e.TgZ(0,"div",56)(1,"div",50)(2,"span",51),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.TgZ(5,"div",133),e.YNc(6,On,6,12,"a",134),e.ALo(7,"async"),e.ALo(8,"allowFeatureBusinessForUser"),e.YNc(9,yn,6,11,"a",135),e.ALo(10,"async"),e.ALo(11,"allowFeatureBusinessForUser"),e.YNc(12,Mn,6,11,"a",136),e.ALo(13,"async"),e.ALo(14,"allowFeatureBusinessForUser"),e.qZA()()),2&f){const u=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngClass",e.WLB(25,Re,u.outOfDate,!u.outOfDate)),e.xp6(1),e.hij(" ",e.lcZ(4,5,"lang_auto_hanh_dong")," "),e.xp6(3),e.Q6J("ngIf",e.lcZ(7,7,e.Dn7(8,9,"","training_center_student_attendance",!1))),e.xp6(3),e.Q6J("ngIf",e.lcZ(10,13,e.Dn7(11,15,"","training_center_student_book",!1))),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,19,e.Dn7(14,21,"","training_center_student_mark",!1)))}}function Io(f,P){if(1&f&&(e.TgZ(0,"div",56)(1,"div",50)(2,"span",51),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.TgZ(5,"div",133)(6,"div",144)(7,"span"),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"span",145),e._uU(11),e.ALo(12,"mytranslate"),e.qZA()()()()),2&f){const u=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngClass",e.WLB(10,Re,u.outOfDate,!u.outOfDate)),e.xp6(1),e.hij(" ",e.lcZ(4,4,"lang_auto_hanh_dong")," "),e.xp6(5),e.Oqu(e.lcZ(9,6,"lang_business_requested_leave_with_a_reason")),e.xp6(3),e.Oqu(null!=u.studentAttendance&&u.studentAttendance.reason?null==u.studentAttendance?null:u.studentAttendance.reason:e.lcZ(12,8,"lang_student_absence_no_reason"))}}function Mo(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",43)(1,"div",44),e.NdJ("click",function(){e.CHM(u);const S=e.oxw().$implicit,E=e.oxw(5);return e.KtG(E.expandSessionObj(S))}),e.TgZ(2,"h3",45)(3,"span",46),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"span",47),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,De,4,3,"ng-container",5),e.qZA(),e.YNc(10,Sn,6,11,"div",48),e.TgZ(11,"div",49)(12,"div",50)(13,"span",51),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()(),e.TgZ(16,"div",52)(17,"div",53),e.YNc(18,_n,16,18,"div",54),e.YNc(19,Tn,5,20,"a",55),e.qZA()()(),e.TgZ(20,"div",56)(21,"div",50)(22,"span",51),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()(),e.TgZ(25,"div",52),e.YNc(26,uo,6,3,"div",57),e.YNc(27,So,4,1,"div",58),e.qZA()(),e.YNc(28,jn,15,28,"div",59),e.ALo(29,"async"),e.ALo(30,"allowFeatureBusinessForUser"),e.ALo(31,"async"),e.ALo(32,"allowFeatureBusinessForUser"),e.ALo(33,"async"),e.ALo(34,"allowFeatureBusinessForUser"),e.YNc(35,Io,13,13,"div",59),e.ALo(36,"async"),e.ALo(37,"allowFeatureBusinessForUser"),e.qZA()}if(2&f){const u=e.oxw().$implicit,T=e.oxw(5);e.uIk("id","session-"+u.id),e.xp6(3),e.Q6J("ngClass",e.VKq(48,Lt,u.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(5,16,"lang_core_buoi")+" "+u.sort),e.xp6(3),e.Oqu(e.lcZ(8,18,"lang_config_educational_program_day_"+u.day)+", "+u.dateSession+" "+u.timeSession),e.xp6(2),e.Q6J("ngIf",u.room),e.xp6(1),e.Q6J("ngIf",u.contents&&u.contents.length),e.xp6(3),e.Q6J("ngClass",e.WLB(50,Re,u.outOfDate,!u.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(15,20,"lang_cms_auto_gen_test_exam_title")),e.xp6(4),e.Q6J("ngForOf",u.examHomeworkObjs),e.xp6(1),e.Q6J("ngIf",T.teacherRole),e.xp6(3),e.Q6J("ngClass",e.WLB(53,Re,u.outOfDate,!u.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(24,22,"lang_testbank_document_list_header_title")),e.xp6(3),e.Q6J("ngIf",!u.isDeletingDocument&&!u.isUploadingDocument),e.xp6(1),e.Q6J("ngIf",u.isDeletingDocument||u.isUploadingDocument),e.xp6(1),e.Q6J("ngIf",(e.lcZ(29,24,e.Dn7(30,26,"","training_center_student_attendance",!1))||e.lcZ(31,30,e.Dn7(32,32,"","training_center_student_book",!1))||e.lcZ(33,36,e.Dn7(34,38,"","training_center_student_mark",!1)))&&T.teacherRole),e.xp6(7),e.Q6J("ngIf",(null==u.studentAttendance?null:u.studentAttendance.absent)&&e.lcZ(36,42,e.Dn7(37,44,"","training_center_student_attendance",!0))&&!T.teacherRole)}}function jo(f,P){if(1&f&&(e.TgZ(0,"div",27),e.YNc(1,Ve,7,14,"div",28),e.YNc(2,re,10,10,"div",29),e.YNc(3,Mo,38,56,"div",30),e.qZA()),2&f){const u=P.$implicit,T=e.oxw(5);e.xp6(1),e.Q6J("ngIf",!T.teacherRole),e.xp6(1),e.Q6J("ngIf",!u.isExpanded),e.xp6(1),e.Q6J("ngIf",u.isExpanded)}}function No(f,P){if(1&f&&(e.ynx(0),e.YNc(1,jo,4,3,"div",26),e.BQk()),2&f){const u=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",u.programObjs)}}function pn(f,P){if(1&f){const u=e.EpF();e.ynx(0),e.TgZ(1,"h3",20)(2,"span",21),e.NdJ("click",function(){const E=e.CHM(u).$implicit;return e.KtG(E.expand=!E.expand)}),e._uU(3),e.ALo(4,"mytranslate"),e.YNc(5,F,1,0,"lucide-icon",22),e.YNc(6,wt,1,0,"lucide-icon",23),e.qZA()(),e.YNc(7,No,2,1,"ng-container",5),e.BQk()}if(2&f){const u=P.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,4,u.monthName)," "),e.xp6(2),e.Q6J("ngIf",u.expand),e.xp6(1),e.Q6J("ngIf",!u.expand),e.xp6(1),e.Q6J("ngIf",u.expand)}}function Lo(f,P){if(1&f&&(e.ynx(0),e.TgZ(1,"div",7)(2,"div",8)(3,"h3",9),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.YNc(6,W,5,3,"button",10),e.qZA(),e.YNc(7,A,3,1,"ng-container",5),e.qZA(),e.ynx(8),e.YNc(9,pn,8,6,"ng-container",11),e.BQk()()),2&f){const u=e.oxw(2);e.xp6(4),e.hij(" ",e.lcZ(5,4,"lang_educational_program_general_documents")," "),e.xp6(2),e.Q6J("ngIf",u.teacherRole),e.xp6(1),e.Q6J("ngIf",u.generalDocumentObjs.length),e.xp6(2),e.Q6J("ngForOf",u.groupProgramSessionObjs)}}function Do(f,P){1&f&&(e.TgZ(0,"h3",152),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_config_educational_program_add_new_description")," "))}function Eo(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"button",153),e.NdJ("click",function(){e.CHM(u);const S=e.oxw(4);return e.KtG(S.addNewEducationalProgram())}),e.TgZ(1,"span",154),e._UZ(2,"lucide-icon",155),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&f&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_config_educational_program_select_new")))}function Po(f,P){if(1&f&&(e.TgZ(0,"div",148)(1,"h3",149),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,Do,3,3,"h3",150),e.YNc(5,Eo,6,3,"button",151),e.qZA()),2&f){const u=e.oxw(3);e.xp6(2),e.hij(" ",e.lcZ(3,3,"lang_config_educational_program_no_have_yet")," "),e.xp6(2),e.Q6J("ngIf",u.teacherRole),e.xp6(1),e.Q6J("ngIf",u.teacherRole)}}function Uo(f,P){1&f&&(e.TgZ(0,"h3",152),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_config_educational_program_add_new_session_desc")," "))}function po(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"button",157),e.NdJ("click",function(){e.CHM(u);const S=e.oxw(4);return e.KtG(S.editEducationalProgram())}),e.TgZ(1,"span",154),e._UZ(2,"lucide-icon",158),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&f&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_config_educational_program_edit_btn")))}function zo(f,P){if(1&f&&(e.TgZ(0,"div",148)(1,"h3",149),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,Uo,3,3,"h3",150),e.YNc(5,po,6,3,"button",156),e.qZA()),2&f){const u=e.oxw(3);e.xp6(2),e.hij(" ",e.lcZ(3,3,"lang_config_educational_program_no_have_session_yet")," "),e.xp6(2),e.Q6J("ngIf",u.teacherRole),e.xp6(1),e.Q6J("ngIf",u.teacherRole)}}function Fo(f,P){if(1&f&&(e.ynx(0),e.YNc(1,Po,6,5,"div",146),e.YNc(2,zo,6,5,"ng-template",null,147,e.W1O),e.BQk()),2&f){const u=e.MAs(3),T=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!T.programObj)("ngIfElse",u)}}function Jo(f,P){if(1&f&&(e.YNc(0,I,1,2,"app-add-new-educational-program",4),e.YNc(1,Lo,10,6,"ng-container",5),e.YNc(2,Fo,4,2,"ng-container",5)),2&f){const u=e.oxw();e.Q6J("ngIf",u.showAddNewEducationalProgram),e.xp6(1),e.Q6J("ngIf",!u.showAddNewEducationalProgram&&u.programSessionObjs.length),e.xp6(1),e.Q6J("ngIf",!u.showAddNewEducationalProgram&&u.programSessionObjs.length<=0)}}let qo=(()=>{class f extends l.Q{emitDataReloadSession(u){u?(this.initStatusObj(),this.programObj=void 0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter.emit()):this.showAddNewEducationalProgram=!1}editMarkCoefficient(u,T){this.sAztDialogService.open(mt.h,{data:{id:u.markId??0,name:"",coefficient:u.markCoefficient,programId:T.programId,classroomId:this.classroomId,sessionId:T.id,isOnlyCoefficient:!0,documentName:u.name,documentType:u.type},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(E=>{E&&this.reloadSessionDataOfProgram(T)})}reloadData(u,T){u&&this.reloadSessionDataOfProgram(T)}reloadSessionDataOfProgram(u){u.isLoadingData=!0,this.reloadSessionDataEmitter.emit(u)}addNewEducationalProgram(){this.showAddNewEducationalProgram=!this.showAddNewEducationalProgram}editEducationalProgram(){let u=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/business/edit-educational-program/"+this.programObj?.id,"?backTo="+u)}removeDocumentFromSession(u,T,S,E){var z=(u.normalDocumentObjs.filter(ft=>ft.id==S)[0].name??"")+" - "+this.commonService.myTranslateInstant("lang_core_buoi")+" "+u.sort.toString(),tt=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+z+" </div> ?";this.sAztDialogService.open(kt.s,{data:{content:tt},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(ft=>{ft&&(u.isDeletingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsDocumentIdDelete(this.classroomId,T,S).subscribe({next:yt=>{E&&(E.documentObjs=E.documentObjs.filter(rt=>rt.id!=S)),u.normalDocumentObjs=u.normalDocumentObjs.filter(rt=>rt.id!=S),this.showSuccessSnack("lang_config_educational_program_remove_document_link_successfully"),u.isDeletingDocument=!1},error:yt=>{u.isDeletingDocument=!1,this.errorStatusObj(yt.error.message,!0)}})))})}uploadFileEmitted(u,T){T.isUploadingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsPost(this.classroomId,T.id,u).subscribe({next:S=>{this.reloadSessionDataOfProgram(T),T.isUploadingDocument=!1,this.showSuccessSnack("lang_config_educational_program_add_document_link_successfully")},error:S=>{T.isUploadingDocument=!1,this.errorStatusObj(S.error.message,!0)}}))}expandSessionObj(u){u.isExpanded=!u.isExpanded,this.changeSessionDataEmitter.emit(u)}previewFile(u,T){if(this.isBusinessDomain&&u.type==v.s.video&&(0,dt.oW)(u.link??""))window.open(u.link,"_blank");else{const S={name:u.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(u.type),type:u.type,url:u.link};this.sAztDialogService.open(At.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...S,index:0},showDownloadIcon:!1},restoreFocus:!1})}}ngAfterViewInit(){let u=this.programSessionObjs.find(T=>T.isExpanded);if(u){let T=document.getElementById("session-"+u.id);window.scrollTo({top:T?.offsetTop})}}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.backLink||(this.backLink="/admin/student/manage-classroom/0")}constructor(u,T,S,E,z){super(),this.sAztDialogService=u,this.cd=T,this.apiUploadService=S,this.classroomService=E,this.sAztFileTypeService=z,this.backLink="",this.errorApiMessage="",this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter=new e.vpe,this.changeSessionDataEmitter=new e.vpe,this.allDocumentTypes=v.s,this.allDocumentGroupTypes=ct.K,this.showAddNewEducationalProgram=!1,this.currentUrl=this.commonService.getCurrentUrlWithoutLocale()}}return f.\u0275fac=function(u){return new(u||f)(e.Y36(gt.C),e.Y36(e.sBO),e.Y36(Tt.W),e.Y36(t.um),e.Y36(Ct.v))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-list-sessions"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",errorApiMessage:"errorApiMessage",generalDocumentObjs:"generalDocumentObjs",programSessionObjs:"programSessionObjs",groupProgramSessionObjs:"groupProgramSessionObjs",programObj:"programObj"},outputs:{reloadSessionDataEmitter:"reloadSessionDataEmitter",changeSessionDataEmitter:"changeSessionDataEmitter"},features:[e.qOj],decls:4,vars:2,consts:[[1,"container","educational-program-width"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf","ngIfElse"],["noApiError",""],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[3,"classroomId","programObj","saveEducationalProgramEmit",4,"ngIf"],[4,"ngIf"],[3,"classroomId","programObj","saveEducationalProgramEmit"],[1,"box","p-3","mb-3"],[1,"flex",2,"justify-content","space-between","align-items","center"],[1,"font-medium","text-md"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4","class","btn btn-primary btn-sm text-white","style","cursor: default",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4",1,"btn","btn-primary","btn-sm","text-white",2,"cursor","default",3,"click"],["name","refresh-cw",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"ml-1",2,"vertical-align","middle"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],["azt-track-service","list-educational-program-sessions-tZA6KoGtc",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","iconVerticalStyle","customClass"],[1,"flex","mt-5",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-right","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-down",2,"width","18px !important","height","18px !important","vertical-align","top"],["name","chevron-right",2,"width","18px !important","height","18px !important","vertical-align","top"],["class","relative mt-2",4,"ngFor","ngForOf"],[1,"relative","mt-2"],["class","absolute","style","right: 5px; top: 5px; z-index: 99",4,"ngIf"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9","class","box p-3 mb-3 cursor-pointer clickable expanded-box",3,"click",4,"ngIf"],["class","box p-3 mb-3","style","user-select: none",4,"ngIf"],[1,"absolute",2,"right","5px","top","5px","z-index","99"],["class","btn btn-warning btn-sm text-slate-600 change-block-hidden","style","cursor: default",4,"ngIf"],["class","btn btn-warning btn-sm text-slate-600 change-hidden-block","style","cursor: default; padding: 3px",4,"ngIf"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-block-hidden",2,"cursor","default"],["name","user-x",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-hidden-block",2,"cursor","default","padding","3px"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9",1,"box","p-3","mb-3","cursor-pointer","clickable","expanded-box",3,"click"],[1,"heading"],[1,"font-medium","pr-5","md:pr-auto"],[2,"font-weight","420",3,"ngClass"],[1,"ml-2","text-slate-500",2,"font-weight","400"],[1,"text-slate-500",2,"font-weight","400"],[1,"box","p-3","mb-3",2,"user-select","none"],["azt-track-service","list-educational-program-sessions-AdTUEEwTH6",1,"heading","cursor-pointer","expanded-box-open","pb-2",3,"click"],[1,"font","pr-5","md:pr-auto"],[1,"font-medium",3,"ngClass"],[1,"ml-2","text-slate-500"],["class","azt-answer",4,"ngIf"],[1,"azt-answer"],[1,"strike"],[1,"uppercase",3,"ngClass"],[1,"azt-answer-content","p-3","w-full"],[1,"grid","grid-cols-12","items-center","gap-3"],["class","col-span-12 md:col-span-3",4,"ngFor","ngForOf"],["style","text-align: left","azt-track-service","list-educational-program-sessions-7tcWVQIX5M","class","btn btn-transparent w-48 block",3,"routerLink","queryParams","ngClass",4,"ngIf"],[1,"azt-answer","mt-1"],["class","grid grid-cols-12 items-center gap-3",4,"ngIf"],["class","grid grid-cols-12 gap-2",4,"ngIf"],["class","azt-answer mt-1",4,"ngIf"],[1,"text-slate-500"],[3,"contents","teacherRole","classroomId","sessionId","close"],[1,"col-span-12","md:col-span-3"],["azt-track-service","list-educational-program-sessions-osVwsOKGN",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-700/50 mb-0","style","font-size: 13px",4,"ngIf"],["class","mb-0","style","font-size: 13px",3,"ngClass",4,"ngIf"],["class","text-primary mb-0 relative","style","font-size: 13px",4,"ngIf"],[1,"w-8","h-8","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],[1,"w-8","h-8","text-pending"],["name","file-check"],[1,"w-8","h-8","text-primary"],["name","file-text"],[1,"text-slate-700/50","mb-0",2,"font-size","13px"],[1,"mb-0",2,"font-size","13px",3,"ngClass"],[1,"text-primary","mb-0","relative",2,"font-size","13px"],["azt-track-service","list-educational-program-sessions-mHY0DeFrF",1,"w-4","h-4","inline-block",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","13","height","13","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil",2,"vertical-align","text-top"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],["azt-track-service","list-educational-program-sessions-7tcWVQIX5M",1,"btn","btn-transparent","w-48","block",2,"text-align","left",3,"routerLink","queryParams","ngClass"],[1,"uppercase"],[4,"ngIf","ngIfElse"],["normalViewDocument",""],[1,"col-span-12","md:col-span-2"],[3,"isBtn","customClass","emitFileDocument",4,"ngIf"],["class","col-span-12 md:col-span-2 relative",4,"ngIf"],[1,"col-span-12","md:col-span-2","relative"],[1,"flex","px-3",2,"font-weight","420","font-size","15px",3,"matMenuTriggerFor"],[1,"clickable","w-full","text-primary",2,"align-items","center"],["name","arrow-down-circle",2,"width","18px !important","height","18px !important","vertical-align","top"],["xPosition","after"],["matMenuVideo","matMenu"],[1,"dropdown-menu","show","w-80"],[1,"dropdown-content",3,"ngClass"],["azt-track-service","list-educational-program-sessions-9Uh-D7fBV",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","textWidth","type","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["class","absolute top-0 right-0 p-1 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-50"],["azt-track-service","list-educational-program-sessions-b0R49s83kG",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[1,"w-4","h-4","inline-block",3,"matTooltip"],["name","x"],["matMenuDocument","matMenu"],["azt-track-service","list-educational-program-sessions-3xvwjvQpPm",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-wmJtTG9lgc",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["xPosition","before"],["matMenuHomework","matMenu"],["azt-track-service","list-educational-program-sessions-0ddxB4xw-G",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-H_Fu6rJpUs",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuHomeworkView","matMenu"],["azt-track-service","list-educational-program-sessions-URYQZ4M5Qb",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","type","textWidth","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["azt-track-service","list-educational-program-sessions-MHIjTu_EQr",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuUnknown","matMenu"],[1,"dropdown-menu","show","w-72"],["azt-track-service","list-educational-program-sessions-yixL-fRljl",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-bjX0o_IOex",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["class","col-span-12 md:col-span-3 relative",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-3","relative"],["azt-track-service","list-educational-program-sessions-0reisrghN1",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","customClass"],["azt-track-service","list-educational-program-sessions-E4pIFQJwz",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[3,"isBtn","customClass","emitFileDocument"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","text-center","p-4",2,"align-items","center"],[1,"w-6","h-6","mx-auto","flex"],[3,"type"],[1,"azt-answer-content","py-2","w-full","flex"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"routerLink","queryParams"],["name","users",2,"width","18px !important","height","18px !important","vertical-align","middle"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","book",2,"width","18px !important","height","18px !important","vertical-align","middle"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","clipboard-signature",2,"width","18px !important","height","18px !important","vertical-align","middle"],[1,"font-medium"],[1,"text-danger"],["class","box px-4 py-5 text-center mx-auto mt-3",4,"ngIf","ngIfElse"],["hasProgramObj",""],[1,"box","px-4","py-5","text-center","mx-auto","mt-3"],[2,"font-weight","450","font-size","15.5px"],["class","mt-3","style","font-weight: 400; font-size: 14px",4,"ngIf"],["azt-track-service","config-educational-program-UuVaYM-oC","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","400","font-size","14px"],["azt-track-service","config-educational-program-UuVaYM-oC",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],[1,"w-4","h-4","inline-block","mr-2"],["name","plus"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","edit"]],template:function(u,T){if(1&u&&(e.TgZ(0,"div",0),e.YNc(1,xn,3,3,"div",1),e.YNc(2,Jo,3,3,"ng-template",null,2,e.W1O),e.qZA()),2&u){const S=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!T.statusObj.loading&&T.errorApiMessage)("ngIfElse",S)}},dependencies:[s.rH,X.mk,X.sg,X.O5,Ot.VK,Ot.p6,ot.gM,D.Q,$.n,lt.F,xt.Nh5,pt.a,k,ae,X.Ov,oe.Jy,oe.JV,oe.Bo,oe.J8],encapsulation:2}),f})();function Qo(f,P){1&f&&e._UZ(0,"azt-loading-effect")}function go(f,P){if(1&f){const u=e.EpF();e.TgZ(0,"div",2)(1,"app-list-sessions",3),e.NdJ("reloadSessionDataEmitter",function(S){e.CHM(u);const E=e.oxw();return e.KtG(E.reloadSessionData(S))})("changeSessionDataEmitter",function(S){e.CHM(u);const E=e.oxw();return e.KtG(E.changeSessionData(S))}),e.qZA()()}if(2&f){const u=e.oxw();e.xp6(1),e.Q6J("teacherRole",u.teacherRole)("classroomId",u.classroomId)("backLink",u.backLink)("errorApiMessage",u.errorApiMessage)("generalDocumentObjs",u.generalDocumentObjs)("programSessionObjs",u.programSessionObjs)("groupProgramSessionObjs",u.groupProgramSessionObjs)("programObj",u.programObj)}}let Yo=(()=>{class f extends l.Q{changeSessionData(u){this.programSessionObjs.map(T=>T.id==u.id?u:T),this.teacherRole&&this.commonService.myNavigationWithQueryString(`/admin/student/classroom-details/${this.classroomId}/3`,`?sessionId=${u.id}${this.backLink?"&backTo="+this.backLink:""}`)}reloadSessionData(u){this.initData(u)}convertNormalDocumentByGroup(u){let T={};return u.forEach(S=>{S.groupType&&(T.hasOwnProperty(S.groupType)||(T[S.groupType]=[]),T[S.groupType].push(S))}),T}processData(u){let T=this.commonService.arrayToDictionary(u,E=>E.groupType?E.groupType:"unknown"),S=[{name:"video",documentObjs:[]},{name:"document",documentObjs:[]},{name:"homework",documentObjs:[]},{name:"homework_view",documentObjs:[]},{name:"unknown",documentObjs:[]}];return Object.entries(T).forEach(([E,z],tt)=>{if(z.length>0){let ft={name:E,documentObjs:z};"video"==ft.name&&(S[0]=ft),"document"==ft.name&&(S[1]=ft),"homework"==ft.name&&(S[2]=ft),"homework_view"==ft.name&&(S[3]=ft),"unknown"==ft.name&&(S[4]=ft)}}),S}convertDocumentsOfSession(u,T){let S=(new Date).toDateString(),E=!1;return u.forEach((z,tt)=>{z.normalDocumentObjs=z.allDocumentObjs.filter(rt=>"exam"!=rt.type&&"homework"!=rt.type),z.examHomeworkObjs=z.allDocumentObjs.filter(rt=>"exam"==rt.type||"homework"==rt.type),z.groupDocumentObjs=this.processData(z.normalDocumentObjs),z.indexSession=z.sort;let ft="",yt="";if(z.fromTime){let rt=new Date(z.fromTime),ce=new Date(rt.toDateString()),gn=new Date(S),Jt=Math.floor((ce.getTime()-gn.getTime())/1e3);z.dateSession=this.timeService.getFormatDate(z.fromTime),z.outOfDate=Jt<0,z.monthSession=rt.getMonth()+1,z.yearSession=rt.getFullYear(),ft+=this.addZeroToTime(rt.getHours())+":"+this.addZeroToTime(rt.getMinutes()),yt=this.timeService.calculationTimeAgoOnlyDate(ce,gn)}if(z.toTime){let rt=new Date(z.toTime);ft+=" - "+this.addZeroToTime(rt.getHours())+":"+this.addZeroToTime(rt.getMinutes())}ft+=yt?" ("+yt+")":"",z.timeSession=ft,E||(z.isExpanded=T?z.isExpanded:!z.outOfDate,z.isExpanded&&(E=!0))}),u}addZeroToTime(u){return u<10?"0"+u:u.toString()}getSchoolLeaveObjs(u,T){u.length&&!this.teacherRole?this.waitDestroy(this.studentService.apiStudentsAttendancesMeGet(this.classroomId).subscribe({next:S=>{u.map(E=>{E.studentAttendance=S.list.find(z=>z.sessionId==E.id)}),T(u)},error:S=>{this.errorStatusObj(S.error.message,!0),T(u)}})):T(u)}initData(u){u||(this.initStatusObj(),this.programSessionObjs=[],this.programObj=void 0,this.generalDocumentObjs=[]),this.groupProgramSessionObjs=[];let T=this.teacherRole?this.classroomService.apiClassroomsClassroomIdProgramsProgramIdGet(this.classroomId,0):this.classroomService.apiClassroomsClassroomIdStudentsProgramsProgramIdGet(this.classroomId,0);this.waitDestroy(T.subscribe({next:S=>{this.generalDocumentObjs=S.generalDocuments.map(z=>({...z,documentType:this.commonService.getEnumTypeWithDefault(v.s,z.type,v.s.unknown)})),this.programObj=S.program;let E=S.sessions.map(z=>({...z,isExpanded:!1,isLoadingData:!1,isDeletingDocument:!1,isUploadingDocument:!1,normalDocumentObjs:[],examHomeworkObjs:[],groupDocumentObjs:[],indexSession:0,yearSession:0,monthSession:0,allDocumentObjs:z.documents.map(tt=>({...tt,documentType:this.commonService.getEnumTypeWithDefault(v.s,tt.type,v.s.unknown)}))}));E=this.convertDocumentsOfSession(E,!!u),this.getSchoolLeaveObjs(E,z=>{if(u){let rt=z.find(ce=>ce.id==u.id);this.programSessionObjs=this.programSessionObjs.map(ce=>ce.id==rt?.id?{...rt,isExpanded:ce.isExpanded}:ce)}else this.programSessionObjs=z;this.sessionId&&this.programSessionObjs.map(rt=>rt.isExpanded=rt.id==this.sessionId);let tt=this.commonService.arrayToDictionary(this.programSessionObjs,rt=>rt.monthSession?.toString()+"/"+rt.yearSession?.toString()),ft=this.commonService.myTranslateInstant("lang_core_thang")??"Th\xe1ng",yt=(new Date).getMonth()+1+"/"+(new Date).getFullYear();Object.entries(tt).forEach(([rt,ce],gn)=>{let Jt=ce.find(ho=>ho.isExpanded);this.groupProgramSessionObjs.push({monthName:ft+" "+rt,programObjs:ce,expand:!(rt!=yt&&!Jt)})}),this.stopStatusObj()})},error:S=>{this.errorApiMessage=S.error.message,this.errorStatusObj(S.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.initData(void 0)}constructor(u,T,S,E){super(),this.classroomService=u,this.timeService=T,this.studentService=S,this.activeRoute=E,this.sessionId=0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.errorApiMessage=""}}return f.\u0275fac=function(u){return new(u||f)(e.Y36(t.um),e.Y36(bt.D),e.Y36(t.VT),e.Y36(s.gz))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-view-educational-program"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",sessionId:"sessionId"},features:[e.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-y","relative",2,"min-height","calc(100vh - 550px)"],[3,"teacherRole","classroomId","backLink","errorApiMessage","generalDocumentObjs","programSessionObjs","groupProgramSessionObjs","programObj","reloadSessionDataEmitter","changeSessionDataEmitter"]],template:function(u,T){if(1&u&&(e.YNc(0,Qo,1,0,"azt-loading-effect",0),e.YNc(1,go,2,8,"ng-template",null,1,e.W1O)),2&u){const S=e.MAs(2);e.Q6J("ngIf",T.statusObj.loading)("ngIfElse",S)}},dependencies:[X.O5,n.l,qo],encapsulation:2}),f})(),Bo=(()=>{class f extends l.Q{ngOnInit(){this.waitDestroy((0,st.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let u=this.commonService.getMyQueryParam("backto");this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))??0,this.backLink=u??this.backLink??"/business/dashboard",this.sessionId=Number(this.commonService.getMyQueryParam("sessionId"))})),super.ngOnInit()}constructor(u){super(),this.activeRoute=u,this.classroomId=0,this.sessionId=0,this.backLink=""}}return f.\u0275fac=function(u){return new(u||f)(e.Y36(s.gz))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-educational-program"]],inputs:{isStudent:"isStudent"},features:[e.qOj],decls:1,vars:4,consts:[[3,"teacherRole","classroomId","sessionId","backLink"]],template:function(u,T){1&u&&e._UZ(0,"app-view-educational-program",0),2&u&&e.Q6J("teacherRole",!T.isStudent)("classroomId",T.classroomId)("sessionId",T.sessionId)("backLink",T.backLink)},dependencies:[Yo],encapsulation:2}),f})()},86:(Ke,Yt,x)=>{x.d(Yt,{h:()=>Tt});var st=x(56223),l=x(19347),e=x(72164),s=x(91765),v=x(65879),t=x(68172),bt=x(96814),X=x(67679),n=x(71646),kt=x(36727);function ct(Ct,Ot){1&Ct&&(v.TgZ(0,"div",17),v._uU(1),v.ALo(2,"mytranslate"),v.qZA()),2&Ct&&(v.xp6(1),v.hij(" *",v.lcZ(2,1,"lang_auto_vui_long_nhap_ten_dau_diem")," "))}function At(Ct,Ot){if(1&Ct&&(v.TgZ(0,"div",15)(1,"label",8),v._uU(2),v.ALo(3,"mytranslate"),v.qZA(),v._UZ(4,"input",16),v.ALo(5,"mytranslate"),v.YNc(6,ct,3,3,"div",10),v.qZA()),2&Ct){const ot=v.oxw();v.xp6(2),v.hij(" ",v.lcZ(3,3,"lang_student_name_component_score")," "),v.xp6(2),v.s9C("placeholder",v.lcZ(5,5,"lang_student_enter_name_component_score")),v.xp6(2),v.Q6J("ngIf",ot.form.controls.name.dirty&&ot.form.controls.name.errors)}}function mt(Ct,Ot){if(1&Ct&&(v.TgZ(0,"div",15)(1,"label",8),v._uU(2),v.ALo(3,"mytranslate"),v.qZA(),v._UZ(4,"input",18),v.ALo(5,"mytranslate"),v.qZA()),2&Ct){const ot=v.oxw();v.xp6(2),v.hij(" ",v.lcZ(3,3,"homework"==ot.data.documentType?"lang_auto_bai_tap":"lang_auto_de_thi"),": "),v.xp6(2),v.s9C("placeholder",v.lcZ(5,5,"lang_student_enter_name_component_score")),v.Q6J("value",ot.data.documentName)}}function dt(Ct,Ot){1&Ct&&(v.TgZ(0,"div",17),v._uU(1),v.ALo(2,"mytranslate"),v.qZA()),2&Ct&&(v.xp6(1),v.hij(" *",v.lcZ(2,1,"lang_auto_he_so_diem_phai_la_so")," "))}function gt(Ct,Ot){1&Ct&&(v.TgZ(0,"span",19),v._UZ(1,"azt-loading-ui"),v.qZA())}let Tt=(()=>{class Ct extends e.e{setValueCoeffcient(){var ot=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(ot)??0)}createStartingPoint(){let ot={name:this.form.getRawValue().name,coefficient:this.form.getRawValue().coefficient,programId:this.data.programId,classroomId:this.data.classroomId,sessionId:this.data.sessionId};this.waitDestroy(this.data.id?this.commonMarkService.apiCommonMarksIdPut(this.data.id,ot).subscribe(D=>{D?(this.showSuccessSnack("lang_core_sua_dau_diem_thanh_cong"),this.dialogRef.close(ot)):this.errorStatusObj("lang_core_sua_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}):this.commonMarkService.apiCommonMarksPost(ot).subscribe(D=>{D?(this.showSuccessSnack("lang_core_them_dau_diem_thanh_cong"),this.dialogRef.close(ot)):this.errorStatusObj("lang_core_them_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}))}ngOnInit(){}constructor(ot,D,$){super($,D),this.commonMarkService=ot,this.dialogRef=D,this.data=$,this.form=new st.cw({name:new st.NI({value:$.name??"",disabled:0==$.canEditName},{nonNullable:!0,validators:[st.kI.required,s._.noWhiteSpace]}),coefficient:new st.NI($.coefficient,{nonNullable:!0,validators:[st.kI.required,st.kI.pattern(/^[1-9]\d*$/)]})})}}return Ct.\u0275fac=function(ot){return new(ot||Ct)(v.Y36(t.Q),v.Y36(l.so,8),v.Y36(l.WI))},Ct.\u0275cmp=v.Xpm({type:Ct,selectors:[["app-create-score-dialog"]],features:[v.qOj],decls:25,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"placeholder","input"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"value","placeholder"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(ot,D){1&ot&&(v.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),v._uU(5),v.ALo(6,"mytranslate"),v.qZA()(),v.TgZ(7,"div",5),v.YNc(8,At,7,7,"div",6),v.YNc(9,mt,6,7,"div",6),v.TgZ(10,"div",7)(11,"label",8),v._uU(12),v.ALo(13,"mytranslate"),v.qZA(),v.TgZ(14,"input",9),v.NdJ("input",function(){return D.setValueCoeffcient()}),v.ALo(15,"mytranslate"),v.qZA(),v.YNc(16,dt,3,3,"div",10),v.qZA()()(),v.TgZ(17,"div",11)(18,"button",12),v.NdJ("click",function(){return D.dialogRef.close()}),v._uU(19),v.ALo(20,"mytranslate"),v.qZA(),v.TgZ(21,"button",13),v.NdJ("click",function(){return D.createStartingPoint()}),v.YNc(22,gt,2,0,"span",14),v._uU(23),v.ALo(24,"mytranslate"),v.qZA()()()()),2&ot&&(v.xp6(1),v.Q6J("formGroup",D.form),v.xp6(4),v.hij(" ",v.lcZ(6,11,D.data.id?D.data.isOnlyCoefficient?"lang_student_edit_mark_coefficient":"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),v.xp6(3),v.Q6J("ngIf",!D.data.isOnlyCoefficient),v.xp6(1),v.Q6J("ngIf",D.data.isOnlyCoefficient),v.xp6(3),v.hij(" ",v.lcZ(13,13,"lang_student_score_factor")," "),v.xp6(2),v.s9C("placeholder",v.lcZ(15,15,"lang_student_enter_score_factor")),v.xp6(2),v.Q6J("ngIf",D.form.controls.coefficient.dirty&&D.form.controls.coefficient.errors),v.xp6(3),v.Oqu(v.lcZ(20,17,"lang_button_cancel")),v.xp6(2),v.Q6J("disabled",D.form.controls.name.errors&&!D.data.isOnlyCoefficient||D.form.controls.coefficient.errors),v.xp6(1),v.Q6J("ngIf",D.statusObj.loading),v.xp6(1),v.hij(" ",v.lcZ(24,19,"lang_button_save")," "))},dependencies:[bt.O5,st._Y,st.Fj,st.wV,st.JJ,st.JL,st.sg,st.u,X.M,n.n,kt.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box[_ngcontent-%COMP%]{margin-top:1px}.hidden-scroll[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hidden-scroll[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),Ct})()},81176:(Ke,Yt,x)=>{x.d(Yt,{m:()=>Ft});var st=x(29023),l=x(73445),e=x(23680),s=x(19347),v=x(44683),t=x(13217),bt=x(72164),X=x(84003),n=x(65879),kt=x(46558),ct=x(47496),At=x(89156),mt=x(86),dt=x(2783),gt=x(97151),Tt=x(38228),Ct=x(68719),Ot=x(96814),ot=x(92596),D=x(91675),$=x(78497),lt=x(71646),xt=x(1103),pt=x(77988),Pt=x(36727);function ht(U,_t){1&U&&(n.TgZ(0,"span",13),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&U&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"lang_core_thang")))}function $t(U,_t){if(1&U&&(n.TgZ(0,"span",13),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&U){const N=n.oxw();n.xp6(1),n.AsE("",n.lcZ(2,2,"lang_core_thang")," ",N.dataFilter.monthSelected,"")}}function Xt(U,_t){1&U&&(n.TgZ(0,"span",13),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&U&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"lang_core_nam")))}function Kt(U,_t){if(1&U&&(n.TgZ(0,"span",13),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&U){const N=n.oxw();n.xp6(1),n.AsE("",n.lcZ(2,2,"lang_core_nam")," ",N.dataFilter.yearSelected,"")}}function we(U,_t){1&U&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&U&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"lang_auto_tat_ca")))}function Ae(U,_t){if(1&U&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&U){const N=n.oxw().index;n.xp6(1),n.AsE("",n.lcZ(2,2,"lang_core_thang")," ",N,"")}}function Se(U,_t){if(1&U){const N=n.EpF();n.TgZ(0,"li",14),n.NdJ("click",function(){const k=n.CHM(N).index,Q=n.oxw();return n.KtG(Q.selectMonth(k))}),n.YNc(1,we,3,3,"span",15),n.YNc(2,Ae,3,4,"span",15),n.qZA()}if(2&U){const N=_t.index,w=n.oxw();n.Q6J("ngClass",w.dataFilter.monthSelected==N?"color-select":""),n.xp6(1),n.Q6J("ngIf",0==N),n.xp6(1),n.Q6J("ngIf",N>0)}}function Pe(U,_t){1&U&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&U&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"lang_auto_tat_ca")))}function xe(U,_t){if(1&U&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&U){const N=n.oxw().index,w=n.oxw();n.xp6(1),n.AsE("",n.lcZ(2,2,"lang_core_nam")," ",w.currentDate.getFullYear()-(N-1),"")}}function me(U,_t){if(1&U){const N=n.EpF();n.TgZ(0,"li",16),n.NdJ("click",function(){const k=n.CHM(N).index,Q=n.oxw();return n.KtG(Q.selectYear(k))}),n.YNc(1,Pe,3,3,"span",15),n.YNc(2,xe,3,4,"span",15),n.qZA()}if(2&U){const N=_t.index,w=n.oxw();n.Q6J("ngClass",!w.dataFilter.yearSelected||w.currentDate.getFullYear()-(w.dataFilter.yearSelected-1)!=N&&0!=w.dataFilter.yearSelected?"":"color-select"),n.xp6(1),n.Q6J("ngIf",0==N),n.xp6(1),n.Q6J("ngIf",N>0)}}const he=function(){return[]};let _e=(()=>{class U extends ct.Q{selectMonth(N){this.isApply=!0,this.dataFilter.monthSelected=N,this.sendFilter.emit(this.dataFilter)}selectYear(N){this.isApply=!0,this.dataFilter.yearSelected=N>0?this.currentDate.getFullYear()-(N-1):N,this.sendFilter.emit(this.dataFilter)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.sendFilter=new n.vpe,this.isLoading=!1,this.currentDate=new Date,this.isApply=!1,this.dataFilter={monthSelected:void 0,yearSelected:void 0}}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275cmp=n.Xpm({type:U,selectors:[["azt-filter-box"]],inputs:{isLoading:"isLoading"},outputs:{sendFilter:"sendFilter"},features:[n.qOj],decls:24,vars:13,consts:[[1,"flex","items-center","font-medium"],[1,"font-medium","mr-2","color",2,"color","#1e40af"],[1,"border-box","hover","p-1","clickable","mr-1",3,"matMenuTriggerFor"],["class","p-1",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevron-down"],["d","m6 9 6 6 6-6"],["xPosition","before"],["filterByMonth","matMenu"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content","overflow-hidden","overflow-y-auto","h-56"],["azt-track-service","azt-filter-box-0A_xsGZ5B","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],["filterByYear","matMenu"],["azt-track-service","azt-filter-box-orpcyuG7jD","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-1"],["azt-track-service","azt-filter-box-0A_xsGZ5B",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"],[4,"ngIf"],["azt-track-service","azt-filter-box-orpcyuG7jD",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"]],template:function(N,w){if(1&N&&(n.TgZ(0,"div",0)(1,"div",1),n._uU(2),n.ALo(3,"mytranslate"),n.qZA(),n.TgZ(4,"div",2),n.YNc(5,ht,3,3,"span",3),n.YNc(6,$t,3,4,"span",3),n.O4$(),n.TgZ(7,"svg",4),n._UZ(8,"path",5),n.qZA()(),n.kcU(),n.TgZ(9,"div",2),n.YNc(10,Xt,3,3,"span",3),n.YNc(11,Kt,3,4,"span",3),n.O4$(),n.TgZ(12,"svg",4),n._UZ(13,"path",5),n.qZA()()(),n.kcU(),n.TgZ(14,"mat-menu",6,7)(16,"div",8)(17,"ul",9),n.YNc(18,Se,3,3,"li",10),n.qZA()()(),n.TgZ(19,"mat-menu",6,11)(21,"div",8)(22,"ul",9),n.YNc(23,me,3,3,"li",12),n.qZA()()()),2&N){const B=n.MAs(15),k=n.MAs(20);n.xp6(2),n.hij(" ",n.lcZ(3,9,"lang_testbank_tested_list_sort"),": "),n.xp6(2),n.Q6J("matMenuTriggerFor",B),n.xp6(1),n.Q6J("ngIf",!w.dataFilter.monthSelected),n.xp6(1),n.Q6J("ngIf",w.dataFilter.monthSelected&&w.dataFilter.monthSelected>0),n.xp6(3),n.Q6J("matMenuTriggerFor",k),n.xp6(1),n.Q6J("ngIf",!w.dataFilter.yearSelected),n.xp6(1),n.Q6J("ngIf",w.dataFilter.yearSelected&&w.dataFilter.yearSelected>0),n.xp6(7),n.Q6J("ngForOf",n.DdM(11,he).constructor(13)),n.xp6(5),n.Q6J("ngForOf",n.DdM(12,he).constructor(10))}},dependencies:[Ot.mk,Ot.sg,Ot.O5,pt.VK,pt.p6,Pt.JV],styles:[".w-max-content[_ngcontent-%COMP%]{width:-webkit-fill-available;min-width:max-content}.border-left[_ngcontent-%COMP%]{border-left:1px solid rgb(201,201,201)}.background-powderblue[_ngcontent-%COMP%]{background:powderblue}.hover[_ngcontent-%COMP%]:hover{background:mintcream}.color-select[_ngcontent-%COMP%]{background-color:#eef1f6}.border-box[_ngcontent-%COMP%]{border:1px solid #1e40af;padding:2px 5px;border-radius:10px}.box-name[_ngcontent-%COMP%]{background:lightgrey}"]}),U})();var Ue=x(60381),Ie=x(37722);const Me=["table_score_student"];function ze(U,_t){if(1&U){const N=n.EpF();n.TgZ(0,"div",11)(1,"button",12),n.NdJ("click",function(){n.CHM(N);const B=n.oxw();return n.KtG(B.downloadTableScore())}),n.TgZ(2,"div",13),n._UZ(3,"lucide-icon",14),n.qZA(),n.TgZ(4,"span"),n._uU(5),n.ALo(6,"mytranslate"),n.qZA()()()}2&U&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"lang_student_export_a_grade_sheet")))}function oe(U,_t){if(1&U){const N=n.EpF();n.TgZ(0,"div",15)(1,"lucide-icon",16),n.NdJ("click",function(){n.CHM(N);const B=n.oxw();return n.KtG(B.downloadTableScore())}),n.ALo(2,"mytranslate"),n.qZA(),n.O4$(),n.TgZ(3,"svg",17),n.NdJ("click",function(){n.CHM(N);const B=n.oxw();return n.KtG(B.closeDiaglog.emit(B.isEdit))}),n.ALo(4,"mytranslate"),n._UZ(5,"path",18)(6,"path",19),n.qZA()()}2&U&&(n.xp6(1),n.s9C("matTooltip",n.lcZ(2,2,"lang_student_export_a_grade_sheet")),n.xp6(2),n.s9C("matTooltip",n.lcZ(4,4,"lang_auto_thoat")))}function je(U,_t){1&U&&n._UZ(0,"azt-loading-ui",26)}function de(U,_t){if(1&U&&(n.TgZ(0,"div",39),n._uU(1),n.ALo(2,"mytranslate"),n.ALo(3,"formatOnlyDateByUserUnitPipe"),n.qZA()),2&U){const N=n.oxw().$implicit;n.xp6(1),n.AsE(" ",n.lcZ(2,2,"lang_student_profile_utils_homework_answer_created_at"),": ",n.lcZ(3,4,N.createdAt)," ")}}function Fe(U,_t){if(1&U&&(n.TgZ(0,"div",39)(1,"span"),n._uU(2),n.ALo(3,"mytranslate"),n.qZA(),n.TgZ(4,"span",40),n._uU(5),n.qZA()()),2&U){const N=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"lang_auto_he_so")),n.xp6(3),n.Oqu(N.coefficient)}}function Ne(U,_t){if(1&U){const N=n.EpF();n.TgZ(0,"button",41),n.NdJ("click",function(){n.CHM(N);const B=n.oxw().$implicit,k=n.oxw(2);return n.KtG(k.editScore(B))}),n.ALo(1,"mytranslate"),n.O4$(),n.TgZ(2,"svg",42),n._UZ(3,"path",43)(4,"path",44),n.qZA()()}2&U&&n.s9C("matTooltip",n.lcZ(1,1,"lang_student_sua_dau_diem"))}function We(U,_t){if(1&U&&(n.TgZ(0,"div",45),n._UZ(1,"azt-check-mark",46),n.qZA()),2&U){const N=n.oxw().$implicit;n.xp6(1),n.Q6J("mark",N.marks.length>0?N.marks[0]:"")}}function Je(U,_t){if(1&U&&(n.TgZ(0,"div",45),n._UZ(1,"azt-check-mark",46),n.qZA()),2&U){const N=n.oxw().$implicit,w=n.oxw(2);n.xp6(1),n.Q6J("mark",w.returnValue(N))}}function te(U,_t){if(1&U){const N=n.EpF();n.TgZ(0,"input",47),n.NdJ("input",function(B){n.CHM(N);const k=n.oxw().$implicit,Q=n.oxw(2);return n.KtG(Q.handleMarkStudent(B,k.id))}),n.ALo(1,"mytranslate"),n.ALo(2,"mytranslate"),n.qZA()}if(2&U){const N=n.oxw().$implicit,w=n.oxw(2);n.s9C("matTooltip",n.lcZ(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),n.MGl("id","input_point_",N.id.toString(),""),n.s9C("placeholder",n.lcZ(2,7,"lang_auto_nhap_diem")),n.Q6J("disabled",w.isStudent)("value",w.returnValue(N))}}function qe(U,_t){1&U&&(n.O4$(),n.TgZ(0,"svg",51),n.ALo(1,"mytranslate"),n.ALo(2,"mytranslate"),n._UZ(3,"path",43)(4,"path",44),n.qZA()),2&U&&n.hYB("matTooltip","",n.lcZ(1,2,"lang_auto_sua")," ",n.lcZ(2,4,"lang_auto_diem"),"")}function Xe(U,_t){1&U&&(n.O4$(),n.TgZ(0,"svg",52),n.ALo(1,"mytranslate"),n._UZ(2,"path",18)(3,"path",19),n.qZA()),2&U&&n.s9C("matTooltip",n.lcZ(1,1,"lang_editor_common_cancel"))}function Qe(U,_t){if(1&U){const N=n.EpF();n.TgZ(0,"button",48),n.NdJ("click",function(){n.CHM(N);const B=n.oxw().$implicit,k=n.oxw(2);return n.KtG(k.viewInput(B.id==k.inputPointSelect?-1:B.id))}),n.YNc(1,qe,5,6,"svg",49),n.YNc(2,Xe,4,3,"svg",50),n.qZA()}if(2&U){const N=n.oxw().$implicit,w=n.oxw(2);n.xp6(1),n.Q6J("ngIf",w.inputPointSelect!=N.id),n.xp6(1),n.Q6J("ngIf",w.inputPointSelect==N.id)}}function Ye(U,_t){1&U&&n._UZ(0,"azt-loading-ui",56)}function tn(U,_t){1&U&&(n.O4$(),n.TgZ(0,"svg",57),n._UZ(1,"path",58),n.qZA())}function en(U,_t){if(1&U){const N=n.EpF();n.TgZ(0,"button",53),n.NdJ("click",function(){n.CHM(N);const B=n.oxw().$implicit,k=n.oxw(2);return n.KtG(k.saveMark(B))}),n.ALo(1,"mytranslate"),n.YNc(2,Ye,1,0,"azt-loading-ui",54),n.YNc(3,tn,2,0,"svg",55),n.qZA()}if(2&U){const N=n.oxw(3);n.s9C("matTooltip",n.lcZ(1,4,"lang_button_save")),n.Q6J("disabled",N.isSave),n.xp6(2),n.Q6J("ngIf",N.isSave),n.xp6(1),n.Q6J("ngIf",!N.isSave)}}function ue(U,_t){if(1&U){const N=n.EpF();n.O4$(),n.TgZ(0,"svg",59),n.NdJ("click",function(){n.CHM(N);const B=n.oxw().$implicit,k=n.oxw(2);return n.KtG(k.goToEditPoint(B))}),n.ALo(1,"mytranslate"),n._UZ(2,"path",60)(3,"polyline",61)(4,"line",62),n.qZA()}2&U&&n.s9C("matTooltip",n.lcZ(1,1,"lang_core_go_to_enter_score"))}function ut(U,_t){if(1&U&&(n.TgZ(0,"tr")(1,"td")(2,"div",27)(3,"div"),n._uU(4),n.YNc(5,de,4,6,"div",28),n.YNc(6,Fe,6,4,"div",29),n.qZA(),n.YNc(7,Ne,5,3,"button",30),n.qZA()(),n.TgZ(8,"td",31)(9,"div",32),n.YNc(10,We,2,1,"div",33),n.YNc(11,Je,2,1,"div",33),n.YNc(12,te,3,9,"input",34),n.YNc(13,Qe,3,2,"button",35),n.YNc(14,en,4,6,"button",36),n.qZA()(),n.TgZ(15,"td",37),n.YNc(16,ue,5,3,"svg",38),n.qZA()()),2&U){const N=_t.$implicit,w=n.oxw(2);n.xp6(4),n.hij(" ",N.name," "),n.xp6(1),n.Q6J("ngIf",N.createdAt&&!w.isStudent),n.xp6(1),n.Q6J("ngIf",N.coefficient),n.xp6(1),n.Q6J("ngIf",!w.isStudent),n.xp6(3),n.Q6J("ngIf","homework"==N.objectType),n.xp6(1),n.Q6J("ngIf","homework"!=N.objectType&&w.inputPointSelect!=N.id),n.xp6(1),n.Q6J("ngIf","homework"!=N.objectType&&w.inputPointSelect==N.id),n.xp6(1),n.Q6J("ngIf",!w.isStudent&&N.canEditMark&&!w.listMarkNew),n.xp6(1),n.Q6J("ngIf",!w.isStudent&&N.canEditMark&&w.listMarkNew&&w.listMarkNew.id==N.id),n.xp6(2),n.Q6J("ngIf",!w.isStudent&&N.programId&&N.sessionId)}}function pe(U,_t){1&U&&n._UZ(0,"azt-loading-ui",26)}const ve=function(){return[]};function Gt(U,_t){if(1&U){const N=n.EpF();n.TgZ(0,"azt-mat-dialog-content")(1,"div",20),n.YNc(2,je,1,0,"azt-loading-ui",21),n.TgZ(3,"azt-filter-box",22),n.NdJ("sendFilter",function(B){n.CHM(N);const k=n.oxw();return n.KtG(k.filterData(B))}),n.qZA()(),n.TgZ(4,"table",23)(5,"tbody"),n.YNc(6,ut,17,10,"tr",10),n.TgZ(7,"tr")(8,"td"),n._uU(9),n.ALo(10,"mytranslate"),n.qZA(),n.TgZ(11,"td",24)(12,"div",25),n.YNc(13,pe,1,0,"azt-loading-ui",21),n._uU(14),n.qZA()()()()()()}if(2&U){const N=n.oxw();let w;n.xp6(2),n.Q6J("ngIf",N.statusObj.loading),n.xp6(4),n.Q6J("ngForOf",null!==(w=N.data.marks)&&void 0!==w?w:n.DdM(8,ve)),n.xp6(3),n.hij(" ",n.lcZ(10,6,"lang_business_diem_tong_ket")," "),n.xp6(2),n.Q6J("colSpan",2),n.xp6(2),n.Q6J("ngIf",N.isSave),n.xp6(1),n.hij(" ",N.data.averageMark," ")}}function zt(U,_t){if(1&U&&(n.TgZ(0,"div",39)(1,"span"),n._uU(2),n.ALo(3,"mytranslate"),n.qZA(),n.TgZ(4,"span",40),n._uU(5),n.qZA()()),2&U){const N=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"lang_auto_he_so")),n.xp6(3),n.Oqu(N.coefficient)}}function Oe(U,_t){if(1&U&&(n.TgZ(0,"div",45),n._UZ(1,"azt-check-mark",46),n.qZA()),2&U){const N=n.oxw().$implicit;n.xp6(1),n.Q6J("mark",N.marks.length>0?N.marks[0]:"")}}function ee(U,_t){if(1&U&&(n.TgZ(0,"div",45),n._UZ(1,"azt-check-mark",46),n.qZA()),2&U){const N=n.oxw().$implicit,w=n.oxw(2);n.xp6(1),n.Q6J("mark",w.returnValue(N))}}function ye(U,_t){if(1&U&&(n.TgZ(0,"tr")(1,"td")(2,"div",27)(3,"div"),n._uU(4),n.YNc(5,zt,6,4,"div",29),n.qZA()()(),n.TgZ(6,"td",67),n.YNc(7,Oe,2,1,"div",33),n.YNc(8,ee,2,1,"div",33),n.qZA()()),2&U){const N=_t.$implicit;n.xp6(4),n.hij(" ",N.name," "),n.xp6(1),n.Q6J("ngIf",N.coefficient),n.xp6(2),n.Q6J("ngIf","homework"==N.objectType),n.xp6(1),n.Q6J("ngIf","homework"!=N.objectType)}}function Le(U,_t){if(1&U&&(n.TgZ(0,"table",63)(1,"thead")(2,"tr")(3,"th",64),n._uU(4),n.ALo(5,"mytranslate"),n.qZA(),n.TgZ(6,"th",65),n._uU(7),n.ALo(8,"mytranslate"),n.qZA()()(),n.TgZ(9,"tbody"),n.YNc(10,ye,9,4,"tr",10),n.TgZ(11,"tr")(12,"td"),n._uU(13),n.ALo(14,"mytranslate"),n.qZA(),n.TgZ(15,"td")(16,"div",66),n._uU(17),n.qZA()()()()()),2&U){const N=n.oxw();let w;n.xp6(4),n.Oqu(n.lcZ(5,5,"lang_student_name_component_score")),n.xp6(3),n.Oqu(n.lcZ(8,7,"lang_testbank_update_exam_point")),n.xp6(3),n.Q6J("ngForOf",null!==(w=N.data.marks)&&void 0!==w?w:n.DdM(11,ve)),n.xp6(3),n.hij(" ",n.lcZ(14,9,"lang_business_diem_tong_ket")," "),n.xp6(4),n.hij(" ",N.data.averageMark," ")}}function Be(U,_t){if(1&U&&n._UZ(0,"azt-check-mark",46),2&U){const N=n.oxw().$implicit;n.Q6J("mark",N.marks.length>0?N.marks[0]:"")}}function He(U,_t){if(1&U&&n._UZ(0,"azt-check-mark",46),2&U){const N=n.oxw().$implicit,w=n.oxw();n.Q6J("mark",w.returnValue(N))}}function It(U,_t){if(1&U&&(n.TgZ(0,"tr")(1,"td",9),n._uU(2),n.qZA(),n.TgZ(3,"td",9),n._uU(4),n.qZA(),n.TgZ(5,"td",9),n._uU(6),n.qZA(),n.TgZ(7,"td",9),n.YNc(8,Be,1,1,"azt-check-mark",68),n.YNc(9,He,1,1,"azt-check-mark",68),n.qZA()()),2&U){const N=_t.$implicit,w=_t.index,B=n.oxw();n.xp6(1),n.uIk("excelRow",w+1)("excelColumn",0)("excelStyle",B.styleTdNormal),n.xp6(1),n.hij(" ",N.name?w+1:""," "),n.xp6(1),n.uIk("excelRow",w+1)("excelColumn",1)("excelStyle",B.styleTdNormalLeft),n.xp6(1),n.hij(" ",N.name," "),n.xp6(1),n.uIk("excelRow",w+1)("excelColumn",2)("excelStyle",B.styleTdNotNumberNormal),n.xp6(1),n.hij(" ",N.coefficient," "),n.xp6(1),n.uIk("excelRow",w+1)("excelColumn",3)("excelStyle",B.styleTdNotNumberNormal),n.xp6(1),n.Q6J("ngIf","homework"==N.objectType),n.xp6(1),n.Q6J("ngIf","homework"!=N.objectType)}}let Ze=(()=>{class U extends ct.Q{filterData(N){this.dataFilter=N,this.initStatusObj(),this.getStudent()}getStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.classroomId,getBook:!1,getMark:!0,getAttendance:!1,getPayment:!1,me:this.isStudent??!1,getAssessment:!1}).subscribe({next:w=>{w.list.length>0&&(this.data=w.list[0]),this.stopStatusObj()},error:w=>{this.errorStatusObj(w.error.message,!0)}}))}downloadTableScore(){At.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var N=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_score_student,!0);let w=this.commonService.createFileNameExportFile(["bang_diem_hoc_sinh"+this.data.fullName])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(N,w),At.G.closeLoadingEffect(200)}goToEditPoint(N){this.closeDiaglog.emit(),this.myNavigationWithQueryString("/admin/student/submit-score/"+N.classroomId+"/"+N.programId+"/"+N.sessionId,"?studentId="+this.data.id)}viewInput(N){this.inputPointSelect=N}handleMarkStudent(N,w){if(!this.isStudent){var B=this.commonService.handlePointByValueInput(N);this.listMarkNew={id:w,points:B.length>0?B:[-1]}}}saveMark(N){this.isSave=!0,this.listMarkNew&&this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:N.programId,classroomId:N.classroomId,sessionId:N.sessionId,students:[{id:this.data.id,listMarks:[this.listMarkNew]}]}).subscribe(B=>{B?(this.data.marks?.filter(k=>k.id==N.id)?.forEach(k=>k.marks=this.listMarkNew?.points?.find(Q=>-1==Q)?[]:this.listMarkNew?.points??k.marks),this.getStudent(),this.listMarkNew=void 0,this.inputPointSelect=-1,this.isEdit=!0,this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)):this.errorStatusObj("lang_auto_cap_nhat_diem_khong_thanh_cong",!0),this.isSave=!1}))}editScore(N){N&&this.sAztDialogService.open(mt.h,{data:{...N,canEditName:N.canEditMark},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(w=>{if(w){try{var B=this.data.marks?.find(k=>k.id==N.id);B&&(B.coefficient=w.coefficient,B.name=w.name)}catch{}this.isEdit=!0}})}returnValue(N){return(N.marks??[]).join(" ")}ngOnInit(){super.ngOnInit()}constructor(N,w,B,k,Q){super(),this.sAztDialogService=N,this.sAztTimeService=w,this.shareFileFlutterService=B,this.exportExcelService=k,this.studentService=Q,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.closeDiaglog=new n.vpe,this.inputPointSelect=-1,this.isSave=!1,this.isEdit=!1,this.commonService=(0,n.f3M)(kt.z)}ngOnDestroy(){super.ngOnDestroy()}}return U.\u0275fac=function(N){return new(N||U)(n.Y36(dt.C),n.Y36(X.D),n.Y36(gt.g),n.Y36(Tt.L),n.Y36(Ct.V))},U.\u0275cmp=n.Xpm({type:U,selectors:[["azt-view-table-score-single"]],viewQuery:function(N,w){if(1&N&&n.Gf(Me,5),2&N){let B;n.iGM(B=n.CRH())&&(w.table_score_student=B.first)}},inputs:{data:"data",isStudent:"isStudent",viewDialog:"viewDialog"},outputs:{closeDiaglog:"closeDiaglog"},features:[n._Bn([{provide:st.fM,useClass:v.WG,deps:[e.Ad,l.o8]},{provide:st.ab,useFactory:t.fX,deps:[X.D]}]),n.qOj],decls:34,vars:61,consts:[["class","flex justify-end mb-5",4,"ngIf"],[1,"box"],[1,"pt-5","px-5","flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],["class","flex",4,"ngIf"],[4,"ngIf"],["class","table table-report","style","white-space: initial; display: table",4,"ngIf"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score_student",""],[1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","mb-5"],["azt-track-service","view-table-score-single-vS0yZHQHw",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],[1,"w-4","mr-2"],["name","download"],[1,"flex"],["name","download",1,"clickable",2,"width","20px !important","height","20px !important",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","ml-2",3,"matTooltip","click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"pt-3","px-5","flex","justify-end","items-center"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[3,"sendFilter"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[3,"colSpan"],[1,"flex","justify-center","font-bold","items-center"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"flex","items-center"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp","style","color: gray","class","w-5 h-5 inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"text-center",2,"padding","0"],[1,"flex","items-center",2,"position","relative"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltip","id","disabled","value","placeholder","input",4,"ngIf"],["azt-track-service","view-table-score-single-lX3L0QoGBo","class","inline-block btn-edit-point zoom-in",3,"click",4,"ngIf"],["azt-track-service","view-table-score-single-uJE-8eAu46","class","inline-block btn-edit-point zoom-in",3,"matTooltip","disabled","click",4,"ngIf"],[1,"text-center",2,"padding","0 10px 0 10px"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","style","color: gray;","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-external-link zoom-in clickable",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[1,"inline-block","ml-1"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp",1,"w-5","h-5","inline-block","ml-1",2,"color","gray",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltip","id","disabled","value","placeholder","input"],["azt-track-service","view-table-score-single-lX3L0QoGBo",1,"inline-block","btn-edit-point","zoom-in",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-pencil",3,"matTooltip",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-x",3,"matTooltip",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil",3,"matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x",3,"matTooltip"],["azt-track-service","view-table-score-single-uJE-8eAu46",1,"inline-block","btn-edit-point","zoom-in",3,"matTooltip","disabled","click"],["class","loading-upload","type","bootstrap-spinner",4,"ngIf"],["style","color: green;","xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-check",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-check",2,"color","green"],["d","M20 6 9 17l-5-5"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-external-link","zoom-in","clickable",2,"color","gray",3,"matTooltip","click"],["d","M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"],["points","15 3 21 3 21 9"],["x1","10","x2","21","y1","14","y2","3"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"flex","justify-center","font-bold"],[1,"text-center"],[3,"mark",4,"ngIf"]],template:function(N,w){if(1&N&&(n.YNc(0,ze,7,3,"div",0),n.TgZ(1,"div",1)(2,"div",2),n._UZ(3,"azt-student-info-box",3),n.YNc(4,oe,7,6,"div",4),n.qZA(),n.YNc(5,Gt,15,9,"azt-mat-dialog-content",5),n.YNc(6,Le,18,12,"table",6),n.qZA(),n.TgZ(7,"table",7,8)(9,"thead")(10,"tr")(11,"th",9),n._uU(12),n.ALo(13,"mytranslate"),n.qZA(),n.TgZ(14,"th",9),n._uU(15),n.ALo(16,"mytranslate"),n.qZA(),n.TgZ(17,"th",9),n._uU(18),n.ALo(19,"mytranslate"),n.qZA(),n.TgZ(20,"th",9),n._uU(21),n.ALo(22,"mytranslate"),n.qZA()()(),n.TgZ(23,"tbody"),n.YNc(24,It,10,17,"tr",10),n.TgZ(25,"tr")(26,"td",9),n._uU(27),n.qZA(),n.TgZ(28,"td",9),n._uU(29),n.ALo(30,"mytranslate"),n.qZA(),n._UZ(31,"td"),n.TgZ(32,"td",9),n._uU(33),n.qZA()()()()),2&N){let B,k,Q,V,at,St;n.Q6J("ngIf",w.isStudent&&!w.viewDialog),n.xp6(3),n.Q6J("name",w.data.fullName)("parentFullName",w.data.parentFullName)("parentId",w.data.parentId)("parentPhone",w.data.parentPhone)("phone",w.data.phone)("email",w.data.email)("avatar",w.data.avatar)("gender",w.data.gender)("hasUser",w.data.hasUser),n.xp6(1),n.Q6J("ngIf",w.viewDialog),n.xp6(1),n.Q6J("ngIf",w.viewDialog),n.xp6(1),n.Q6J("ngIf",w.isStudent&&!w.viewDialog),n.xp6(1),n.Q6J("border",1),n.xp6(4),n.uIk("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",w.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(13,50,"lang_student_export_excel_no")," "),n.xp6(2),n.uIk("excelWidth",10)("excelRow",0)("excelColumn",1)("excelStyle",w.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(16,52,"lang_student_name_component_score")," "),n.xp6(2),n.uIk("excelWidth",10)("excelRow",0)("excelColumn",2)("excelStyle",w.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(19,54,"lang_auto_he_so")," "),n.xp6(2),n.uIk("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",w.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(22,56,"lang_testbank_update_exam_point")," "),n.xp6(3),n.Q6J("ngForOf",null!==(B=w.data.marks)&&void 0!==B?B:n.DdM(60,ve)),n.xp6(2),n.uIk("excelRow",(null!==(k=null==w.data.marks?null:w.data.marks.length)&&void 0!==k?k:0)+1)("excelColumn",0)("excelStyle",w.styleTdNormal),n.xp6(1),n.hij(" ",(null!==(Q=null==w.data.marks?null:w.data.marks.length)&&void 0!==Q?Q:0)+1," "),n.xp6(1),n.uIk("excelRow",(null!==(V=null==w.data.marks?null:w.data.marks.length)&&void 0!==V?V:0)+1)("excelColumn",1)("excelStyle",w.styleTdNormal),n.xp6(1),n.hij(" ",n.lcZ(30,58,"lang_business_diem_tong_ket")," "),n.xp6(2),n.uIk("excelRow",(null!==(at=null==w.data.marks?null:w.data.marks.length)&&void 0!==at?at:0)+1)("excelColumn",3)("excelStyle",w.styleTdNormal),n.xp6(1),n.uIk("excelRow",(null!==(St=null==w.data.marks?null:w.data.marks.length)&&void 0!==St?St:0)+1)("excelColumn",4)("excelStyle",w.styleTdNotNumberNormal),n.xp6(1),n.hij(" ",w.data.averageMark," ")}},dependencies:[Ot.sg,Ot.O5,ot.gM,D.B,$.R,lt.n,xt.a,_e,Ue.$Z,Ie.Nh5,Pt.JV,Pt.YK],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),U})(),Ft=(()=>{class U extends bt.e{closeDiaglog(N){this.dialogRef.close(N)}ngOnInit(){super.ngOnInit()}constructor(N,w){super(w,N),this.dialogRef=N,this.data=w}ngOnDestroy(){super.ngOnDestroy()}}return U.\u0275fac=function(N){return new(N||U)(n.Y36(s.so,8),n.Y36(s.WI,8))},U.\u0275cmp=n.Xpm({type:U,selectors:[["azt-table-score-single"]],features:[n._Bn([{provide:st.fM,useClass:v.WG,deps:[e.Ad,l.o8]},{provide:st.ab,useFactory:t.fX,deps:[X.D]}]),n.qOj],decls:1,vars:3,consts:[[3,"data","isStudent","viewDialog","closeDiaglog"]],template:function(N,w){1&N&&(n.TgZ(0,"azt-view-table-score-single",0),n.NdJ("closeDiaglog",function(k){return w.closeDiaglog(k)}),n.qZA()),2&N&&n.Q6J("data",w.data.student)("isStudent",!w.data.isTeacher)("viewDialog",!0)},dependencies:[Ze],encapsulation:2}),U})()},9400:(Ke,Yt,x)=>{x.d(Yt,{B:()=>N});var st=x(52572),l=x(47496),e=x(89156),s=x(6050),v=x(93283),t=x(63278),bt=x(86),X=x(81176),n=x(65879),kt=x(68172),ct=x(68719),At=x(84003),mt=x(2783),dt=x(59708),gt=x(38228),Tt=x(21266),Ct=x(97151),Ot=x(96814),ot=x(92596),D=x(43389),$=x(83306),lt=x(91675),xt=x(71646),pt=x(51261),Pt=x(25368),ht=x(1103),$t=x(60381),Xt=x(37722),Kt=x(36727);const we=["table_score"];function Ae(w,B){1&w&&(n.TgZ(0,"div",6)(1,"h3",7),n._uU(2),n.ALo(3,"mytranslate"),n.qZA()()),2&w&&(n.xp6(2),n.Oqu(n.lcZ(3,1,"lang_student_enter_score")))}function Se(w,B){if(1&w){const k=n.EpF();n.TgZ(0,"button",17),n.NdJ("click",function(){n.CHM(k);const V=n.oxw(2);return n.KtG(V.createNewScore())}),n.O4$(),n.TgZ(1,"svg",18),n._UZ(2,"line",19)(3,"line",20),n.qZA(),n.kcU(),n.TgZ(4,"span"),n._uU(5),n.ALo(6,"mytranslate"),n.qZA()()}2&w&&(n.xp6(5),n.Oqu(n.lcZ(6,1,"lang_student_enter_new_component_score")))}function Pe(w,B){if(1&w){const k=n.EpF();n.TgZ(0,"button",21),n.NdJ("click",function(){n.CHM(k);const V=n.oxw(2);return n.KtG(V.downloadTableScore())}),n.TgZ(1,"div",22),n._UZ(2,"lucide-icon",23),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.ALo(5,"mytranslate"),n.qZA()()}2&w&&(n.xp6(4),n.Oqu(n.lcZ(5,1,"lang_student_export_a_grade_sheet")))}function xe(w,B){1&w&&n._UZ(0,"azt-loading-ui",26)}function me(w,B){if(1&w){const k=n.EpF();n.TgZ(0,"button",24),n.NdJ("click",function(){n.CHM(k);const V=n.oxw(2);return n.KtG(V.saveMark())}),n.YNc(1,xe,1,0,"azt-loading-ui",25),n._uU(2),n.ALo(3,"mytranslate"),n.qZA()}if(2&w){const k=n.oxw(2);n.Q6J("disabled",0==k.listStudentMark.length||k.isSave),n.xp6(1),n.Q6J("ngIf",k.isSave),n.xp6(1),n.hij(" ",n.lcZ(3,3,"lang_auto_luu")," ")}}function he(w,B){if(1&w){const k=n.EpF();n.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"azt-search-box",11),n.NdJ("onSearch",function(V){n.CHM(k);const at=n.oxw();return n.KtG(at.onSearchBox(V.searchObj))}),n.ALo(4,"mytranslate"),n.qZA()(),n.TgZ(5,"div",12),n.YNc(6,Se,7,3,"button",13),n.YNc(7,Pe,6,3,"button",14),n.TgZ(8,"flexed-on-the-top",15),n.YNc(9,me,4,5,"button",16),n.qZA()()()()}if(2&w){const k=n.oxw();n.xp6(3),n.Q6J("isServerSearch",!0)("placeholder",n.lcZ(4,6,"lang_core_tim_theo_ten_phone_email")),n.xp6(3),n.Q6J("ngIf","ENTER_SCORE"==k.screenType),n.xp6(1),n.Q6J("ngIf","TABLE_SCORE"==k.screenType),n.xp6(1),n.Q6J("colorBackground","#f0f8ffe8"),n.xp6(1),n.Q6J("ngIf","ENTER_SCORE"==k.screenType)}}function _e(w,B){1&w&&n._UZ(0,"azt-loading-effect")}function Ue(w,B){1&w&&(n.TgZ(0,"div",32),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&w&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Ie(w,B){if(1&w&&(n.TgZ(0,"div",48)(1,"span"),n._uU(2),n.ALo(3,"mytranslate"),n.qZA(),n.TgZ(4,"span",49),n._uU(5),n.qZA()()),2&w){const k=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"lang_auto_he_so")),n.xp6(3),n.Oqu(k.coefficient)}}function Me(w,B){if(1&w){const k=n.EpF();n.TgZ(0,"button",50),n.NdJ("click",function(){n.CHM(k);const V=n.oxw().$implicit,at=n.oxw(3);return n.KtG(at.createNewScore(V))}),n.ALo(1,"mytranslate"),n.O4$(),n.TgZ(2,"svg",51),n._UZ(3,"path",52)(4,"path",53),n.qZA()()}2&w&&n.s9C("matTooltip",n.lcZ(1,1,"lang_student_sua_dau_diem"))}function ze(w,B){if(1&w){const k=n.EpF();n.TgZ(0,"button",54),n.NdJ("click",function(){n.CHM(k);const V=n.oxw().$implicit,at=n.oxw(3);return n.KtG(at.deleteMark(V))}),n.ALo(1,"mytranslate"),n.O4$(),n.TgZ(2,"svg",55),n._UZ(3,"path",56)(4,"path",57)(5,"path",58)(6,"line",59)(7,"line",60),n.qZA()()}2&w&&n.s9C("matTooltip",n.lcZ(1,1,"lang_button_delete"))}function oe(w,B){if(1&w&&(n.TgZ(0,"th",40)(1,"div",41)(2,"div",42)(3,"div",43),n._uU(4),n.qZA(),n.TgZ(5,"div",44),n.YNc(6,Ie,6,4,"div",45),n.YNc(7,Me,5,3,"button",46),n.YNc(8,ze,8,3,"button",47),n.qZA()()()()),2&w){const k=B.$implicit,Q=n.oxw(3);n.xp6(3),n.s9C("matTooltip",k.name),n.xp6(1),n.Oqu(k.name),n.xp6(2),n.Q6J("ngIf",k.coefficient),n.xp6(1),n.Q6J("ngIf",!Q.isStudent),n.xp6(1),n.Q6J("ngIf",k.canEditName)}}function je(w,B){1&w&&(n.TgZ(0,"th",61),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&w&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"lang_business_diem_tong_ket")))}function de(w,B){if(1&w&&(n.TgZ(0,"div",71),n._UZ(1,"azt-check-mark",72),n.qZA()),2&w){const k=n.oxw().$implicit;n.xp6(1),n.Q6J("mark",k.marks.length>0?k.marks[0]:"")}}function Fe(w,B){if(1&w&&(n.TgZ(0,"div",71),n._UZ(1,"azt-check-mark",72),n.qZA()),2&w){const k=n.oxw().$implicit,Q=n.oxw(4);n.xp6(1),n.Q6J("mark",Q.returnValue(k))}}function Ne(w,B){if(1&w){const k=n.EpF();n.TgZ(0,"input",73),n.NdJ("input",function(V){n.CHM(k);const at=n.oxw().index,St=n.oxw().index,Vt=n.oxw(3);return n.KtG(Vt.handleMarkStudent(V,St,at))}),n.ALo(1,"mytranslate"),n.ALo(2,"mytranslate"),n.qZA()}if(2&w){const k=n.oxw().$implicit,Q=n.oxw().$implicit,V=n.oxw(3);n.s9C("matTooltip",n.lcZ(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),n.s9C("id",k.id.toString()+"-"+Q.id.toString()),n.s9C("placeholder",n.lcZ(2,7,"lang_auto_nhap_diem")),n.Q6J("matTooltipDisabled",!k.canEditMark)("value",V.returnValue(k))}}function We(w,B){if(1&w&&(n.TgZ(0,"td",67),n.YNc(1,de,2,1,"div",68),n.YNc(2,Fe,2,1,"div",68),n.YNc(3,Ne,3,9,"input",69),n._UZ(4,"div",70),n.qZA()),2&w){const k=B.$implicit,Q=n.oxw().$implicit,V=n.oxw(3);n.Q6J("hidden","TABLE_SCORE"==V.screenType),n.xp6(1),n.Q6J("ngIf","homework"==k.objectType),n.xp6(1),n.Q6J("ngIf","homework"!=k.objectType&&(!k.canEditMark||"ENTER_SCORE"!=V.screenType)),n.xp6(1),n.Q6J("ngIf","homework"!=k.objectType&&k.canEditMark),n.xp6(1),n.MGl("id","error-",k.id.toString()+"-"+Q.id.toString(),""),n.Q6J("hidden",!0)}}function Je(w,B){if(1&w&&(n.TgZ(0,"td")(1,"div",74),n._uU(2),n.qZA()()),2&w){const k=n.oxw().$implicit;n.xp6(2),n.hij(" ",k.averageMark," ")}}const te=function(){return[]};function qe(w,B){if(1&w){const k=n.EpF();n.TgZ(0,"tr",62)(1,"td",63),n.NdJ("click",function(){const at=n.CHM(k).$implicit,St=n.oxw(3);return n.KtG(St.openDialogTableSingle(at))}),n._UZ(2,"azt-student-info-box",64),n.qZA(),n.TgZ(3,"td",65),n._uU(4),n.ALo(5,"formatStudentCodeToNumber"),n.qZA(),n.YNc(6,We,5,6,"td",66),n.YNc(7,Je,3,1,"td",30),n.qZA()}if(2&w){const k=B.$implicit,Q=n.oxw(3);let V;n.Q6J("id","row_student_"+k.id),n.xp6(2),n.Q6J("name",k.fullName)("parentFullName",k.parentFullName)("parentId",k.parentId)("parentPhone",k.parentPhone)("avatar",k.avatar)("gender",k.gender)("hasUser",k.hasUser)("schoolName",k.schoolName)("classrooms",k.classrooms)("joinedAt",k.joinedAt),n.xp6(2),n.Oqu(k.identificationNumber?n.xi3(5,14,k.identificationNumber,6):""),n.xp6(2),n.Q6J("ngForOf",null!==(V=k.marks)&&void 0!==V?V:n.DdM(17,te)),n.xp6(1),n.Q6J("ngIf","TABLE_SCORE"==Q.screenType)}}function Xe(w,B){if(1&w&&(n.TgZ(0,"div",33)(1,"drag-scroll")(2,"table",34)(3,"thead")(4,"tr")(5,"th",35),n._uU(6),n.ALo(7,"mytranslate"),n.qZA(),n.TgZ(8,"th",36),n._uU(9),n.ALo(10,"mytranslate"),n.qZA(),n.YNc(11,oe,9,5,"th",37),n.YNc(12,je,3,3,"th",38),n.qZA()(),n.TgZ(13,"tbody"),n.YNc(14,qe,8,18,"tr",39),n.qZA()()()()),2&w){const k=n.oxw(2);let Q,V;n.xp6(6),n.Oqu(n.lcZ(7,5,"lang_auto_ho_va_ten")),n.xp6(3),n.Oqu(n.lcZ(10,7,"lang_auto_so_bao_danh")),n.xp6(2),n.Q6J("ngForOf",null!==(Q=null==k.dataMark?null:k.dataMark.list)&&void 0!==Q?Q:n.DdM(9,te)),n.xp6(1),n.Q6J("ngIf","TABLE_SCORE"==k.screenType),n.xp6(2),n.Q6J("ngForOf",null!==(V=null==k.dataStudent?null:k.dataStudent.list)&&void 0!==V?V:n.DdM(10,te))}}function Qe(w,B){if(1&w&&(n.TgZ(0,"div",77),n._UZ(1,"azt-student-info-box",78),n.TgZ(2,"div",79)(3,"div",80),n._uU(4),n.ALo(5,"mytranslate"),n.qZA(),n.TgZ(6,"div",80),n._uU(7),n.qZA()()()),2&w){const k=B.$implicit;n.xp6(1),n.Q6J("name",k.fullName)("parentFullName",k.parentFullName)("parentId",k.parentId)("parentPhone",k.parentPhone)("phone",k.phone)("email",k.email)("avatar",k.avatar)("gender",k.gender)("hasUser",k.hasUser),n.xp6(3),n.hij(" ",n.lcZ(5,11,"lang_business_diem_tong_ket")," "),n.xp6(3),n.hij(" ",k.averageMark," ")}}function Ye(w,B){1&w&&n._UZ(0,"lucide-icon",85)}function tn(w,B){1&w&&n._UZ(0,"lucide-icon",86)}function en(w,B){if(1&w&&(n.TgZ(0,"div",96)(1,"span"),n._uU(2),n.ALo(3,"mytranslate"),n.qZA(),n.TgZ(4,"span",49),n._uU(5),n.qZA()()),2&w){const k=n.oxw().$implicit;n.xp6(2),n.Oqu(n.lcZ(3,2,"lang_auto_he_so")),n.xp6(3),n.Oqu(k.coefficient)}}function ue(w,B){if(1&w&&(n.TgZ(0,"div",97),n._UZ(1,"azt-check-mark",72),n.qZA()),2&w){const k=n.oxw().$implicit;n.xp6(1),n.Q6J("mark",k.marks.length>0?k.marks[0]:"")}}function ut(w,B){if(1&w&&(n.TgZ(0,"div",97),n._UZ(1,"azt-check-mark",72),n.qZA()),2&w){const k=n.oxw().$implicit,Q=n.oxw(6);n.xp6(1),n.Q6J("mark",Q.returnValue(k))}}function pe(w,B){if(1&w&&(n.TgZ(0,"tr")(1,"td")(2,"div",92)(3,"div"),n._uU(4),n.YNc(5,en,6,4,"div",93),n.qZA()()(),n.TgZ(6,"td",94),n.YNc(7,ue,2,1,"div",95),n.YNc(8,ut,2,1,"div",95),n.qZA()()),2&w){const k=B.$implicit;n.xp6(4),n.hij(" ",k.name," "),n.xp6(1),n.Q6J("ngIf",k.coefficient),n.xp6(2),n.Q6J("ngIf","homework"==k.objectType),n.xp6(1),n.Q6J("ngIf","homework"!=k.objectType)}}function ve(w,B){if(1&w&&(n.TgZ(0,"div",88)(1,"table",89)(2,"thead")(3,"tr")(4,"th",90),n._uU(5),n.ALo(6,"mytranslate"),n.qZA(),n.TgZ(7,"th",91),n._uU(8),n.ALo(9,"mytranslate"),n.qZA()()(),n.TgZ(10,"tbody"),n.YNc(11,pe,9,4,"tr",76),n.qZA()()()),2&w){const k=n.oxw(2).$implicit;n.xp6(5),n.Oqu(n.lcZ(6,3,"lang_student_name_component_score")),n.xp6(3),n.Oqu(n.lcZ(9,5,"lang_testbank_update_exam_point")),n.xp6(3),n.Q6J("ngForOf",k.marks)}}function Gt(w,B){if(1&w&&(n.ynx(0),n.YNc(1,ve,12,7,"div",87),n.BQk()),2&w){const k=n.oxw(4);n.xp6(1),n.Q6J("ngIf",k.isStudent)}}function zt(w,B){if(1&w){const k=n.EpF();n.TgZ(0,"div")(1,"h3",81)(2,"span",82),n.NdJ("click",function(){const at=n.CHM(k).$implicit;return n.KtG(at.expand=!at.expand)}),n._uU(3),n.ALo(4,"mytranslate"),n.YNc(5,Ye,1,0,"lucide-icon",83),n.YNc(6,tn,1,0,"lucide-icon",84),n.qZA()(),n.YNc(7,Gt,2,1,"ng-container",30),n.qZA()}if(2&w){const k=B.$implicit;n.xp6(3),n.AsE(" ",n.lcZ(4,5,"lang_core_thang")," ",k.date," "),n.xp6(2),n.Q6J("ngIf",k.expand),n.xp6(1),n.Q6J("ngIf",!k.expand),n.xp6(1),n.Q6J("ngIf",k.expand)}}function Oe(w,B){if(1&w&&(n.TgZ(0,"div"),n.YNc(1,Qe,8,13,"div",75),n.YNc(2,zt,8,7,"div",76),n.qZA()),2&w){const k=n.oxw(2);let Q;n.xp6(1),n.Q6J("ngForOf",null!==(Q=null==k.dataStudent?null:k.dataStudent.list)&&void 0!==Q?Q:n.DdM(2,te)),n.xp6(1),n.Q6J("ngForOf",k.listGroupMarkDate)}}function ee(w,B){if(1&w){const k=n.EpF();n.TgZ(0,"azt-paging",101),n.NdJ("goToPaginationPage",function(V){n.CHM(k);const at=n.oxw(3);return n.KtG(at.setPageStudent(V))}),n.qZA()}if(2&w){const k=n.oxw(3);n.Q6J("pageObj",k.pageObj)}}function ye(w,B){if(1&w&&(n.TgZ(0,"div",12),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&w){const k=n.oxw(3);n.xp6(1),n.AsE(" ",k.dataStudent.total," ",n.lcZ(2,2,"lang_notify_list_students")," ")}}function Le(w,B){if(1&w&&(n.TgZ(0,"div",98),n._UZ(1,"div"),n.YNc(2,ee,1,1,"azt-paging",99),n.YNc(3,ye,3,4,"div",100),n.qZA()),2&w){const k=n.oxw(2);n.xp6(2),n.Q6J("ngIf",k.dataStudent.total>k.pageObj.pageSize),n.xp6(1),n.Q6J("ngIf",!k.isStudent)}}function Be(w,B){if(1&w&&(n.TgZ(0,"div",27),n.YNc(1,Ue,3,3,"div",28),n.YNc(2,Xe,15,11,"div",29),n.YNc(3,Oe,3,3,"div",30),n.qZA(),n.YNc(4,Le,4,2,"div",31)),2&w){const k=n.oxw();let Q,V,at;n.xp6(1),n.Q6J("ngIf",!k.isStudent&&0==(null==k.dataStudent||null==k.dataStudent.list?null:k.dataStudent.list.length)&&0==(null!==(Q=null==k.dataStudent?null:k.dataStudent.total)&&void 0!==Q?Q:0)),n.xp6(1),n.Q6J("ngIf",!k.isStudent&&(null!==(V=null==k.dataStudent||null==k.dataStudent.list?null:k.dataStudent.list.length)&&void 0!==V?V:0)>0),n.xp6(1),n.Q6J("ngIf",k.isStudent),n.xp6(1),n.Q6J("ngIf",k.dataStudent&&k.dataStudent.total&&(null!==(at=null==k.dataStudent?null:k.dataStudent.total)&&void 0!==at?at:0)>0)}}function He(w,B){if(1&w&&(n.TgZ(0,"th",104),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&w){const k=B.$implicit,Q=B.index,V=n.oxw(2);n.uIk("excelWidth",20)("excelRow",0)("excelColumn",6+Q)("excelStyle",V.styleThNormal),n.xp6(1),n.AsE(" ",k.name+"\n"," "," ("+n.lcZ(2,6,"lang_auto_he_so")+" "+k.coefficient+")"," ")}}function It(w,B){if(1&w&&n._UZ(0,"azt-check-mark",72),2&w){const k=n.oxw().$implicit;n.Q6J("mark",k.marks.length>0?k.marks[0]:"")}}function Ze(w,B){if(1&w&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&w){const k=n.oxw().$implicit,Q=n.oxw(3);n.xp6(1),n.hij(" ",Q.returnValue(k)," ")}}function Ft(w,B){if(1&w&&(n.TgZ(0,"td",104),n.YNc(1,It,1,1,"azt-check-mark",106),n.YNc(2,Ze,2,1,"span",30),n.qZA()),2&w){const k=B.$implicit,Q=B.index,V=n.oxw().index,at=n.oxw(2);n.uIk("excelRow",V+1)("excelColumn",6+Q)("excelStyle",at.styleTdNormal),n.xp6(1),n.Q6J("ngIf","homework"==k.objectType),n.xp6(1),n.Q6J("ngIf","homework"!=k.objectType)}}function U(w,B){if(1&w&&(n.TgZ(0,"tr")(1,"td",104),n._uU(2),n.qZA(),n.TgZ(3,"td",104),n._uU(4),n.qZA(),n.TgZ(5,"td",104),n._uU(6),n.qZA(),n.TgZ(7,"td",104),n._uU(8),n.qZA(),n.TgZ(9,"td",104),n._uU(10),n.ALo(11,"formatOnlyDateByUserUnitPipe"),n.qZA(),n.TgZ(12,"td",104),n._uU(13),n.ALo(14,"mytranslate"),n.ALo(15,"mytranslate"),n.qZA(),n.YNc(16,Ft,3,5,"td",105),n.TgZ(17,"td",104),n._uU(18),n.qZA()()),2&w){const k=B.$implicit,Q=B.index,V=n.oxw(2);let at,St;n.xp6(1),n.uIk("excelRow",Q+1)("excelColumn",0)("excelStyle",V.styleTdNormal),n.xp6(1),n.hij(" ",null!=k&&k.fullName?Q+1:""," "),n.xp6(1),n.uIk("excelRow",Q+1)("excelColumn",1)("excelStyle",V.styleTdNormalLeft),n.xp6(1),n.hij(" ",null==k?null:k.fullName," "),n.xp6(1),n.uIk("excelRow",Q+1)("excelColumn",2)("excelStyle",V.styleTdNotNumberNormal),n.xp6(1),n.hij(" ",null==k?null:k.phone," "),n.xp6(1),n.uIk("excelRow",Q+1)("excelColumn",3)("excelStyle",V.styleTdNormal),n.xp6(1),n.hij(" ",null==k?null:k.email," "),n.xp6(1),n.uIk("excelRow",Q+1)("excelColumn",4)("excelStyle",V.styleTdNormal),n.xp6(1),n.hij(" ",n.lcZ(11,29,null==k?null:k.birthday)," "),n.xp6(2),n.uIk("excelRow",Q+1)("excelColumn",5)("excelStyle",V.styleTdNormal),n.xp6(1),n.hij(" ",1==(null==k?null:k.gender)?n.lcZ(14,31,"lang_student_export_excel_gender_male"):0==(null==k?null:k.gender)?n.lcZ(15,33,"lang_student_export_excel_gender_female"):""," "),n.xp6(3),n.Q6J("ngForOf",null!==(at=k.marks)&&void 0!==at?at:n.DdM(35,te)),n.xp6(1),n.uIk("excelRow",Q+1)("excelColumn",6+(null!==(St=null==k.marks?null:k.marks.length)&&void 0!==St?St:0))("excelStyle",V.styleTdNotNumberNormal),n.xp6(1),n.hij(" ",k.averageMark," ")}}function _t(w,B){if(1&w&&(n.TgZ(0,"table",102,103)(2,"thead")(3,"tr")(4,"th",104),n._uU(5),n.ALo(6,"mytranslate"),n.qZA(),n.TgZ(7,"th",104),n._uU(8),n.ALo(9,"mytranslate"),n.qZA(),n.TgZ(10,"th",104),n._uU(11),n.ALo(12,"mytranslate"),n.qZA(),n.TgZ(13,"th",104),n._uU(14),n.ALo(15,"mytranslate"),n.qZA(),n.TgZ(16,"th",104),n._uU(17),n.ALo(18,"mytranslate"),n.qZA(),n.TgZ(19,"th",104),n._uU(20),n.ALo(21,"mytranslate"),n.qZA(),n.YNc(22,He,3,8,"th",105),n.TgZ(23,"th",104),n._uU(24),n.ALo(25,"mytranslate"),n.qZA()()(),n.TgZ(26,"tbody"),n.YNc(27,U,19,36,"tr",76),n.qZA()()),2&w){const k=n.oxw();let Q,V,at;n.Q6J("border",1),n.xp6(4),n.uIk("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",k.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(6,38,"lang_student_export_excel_no")," "),n.xp6(2),n.uIk("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",k.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(9,40,"lang_student_export_excel_full_name")," "),n.xp6(2),n.uIk("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",k.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(12,42,"lang_number_phone")," "),n.xp6(2),n.uIk("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",k.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(15,44,"lang_student_export_excel_email")," "),n.xp6(2),n.uIk("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",k.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(18,46,"lang_student_export_excel_birthday")," "),n.xp6(2),n.uIk("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",k.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(21,48,"lang_student_export_excel_gender")," "),n.xp6(2),n.Q6J("ngForOf",null!==(Q=null==k.dataMark?null:k.dataMark.list)&&void 0!==Q?Q:n.DdM(52,te)),n.xp6(1),n.uIk("excelWidth",20)("excelRow",0)("excelColumn",6+(null!==(V=null==k.dataMark||null==k.dataMark.list?null:k.dataMark.list.length)&&void 0!==V?V:0))("excelStyle",k.styleThNormal),n.xp6(1),n.hij(" ",n.lcZ(25,50,"lang_business_diem_tong_ket")," "),n.xp6(3),n.Q6J("ngForOf",null!==(at=null==k.dataStudent?null:k.dataStudent.list)&&void 0!==at?at:n.DdM(53,te))}}let N=(()=>{class w extends l.Q{goToProfile(k,Q){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+k+"/"+Q,"?backto="+encodeURIComponent("ENTER_SCORE"==this.screenType?"/admin/student/submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"/admin/student/classroom-details/"+this.classroomId+"/4"))}setPageStudent(k){this.myNavigationWithQueryString("/admin/student/"+("ENTER_SCORE"==this.screenType?"submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"classroom-details/"+this.classroomId+"/4"),"?page="+k),this.initStatusObj(),this.pageObj.setPageNumber(k),this.getListStudent()}openDialogTableSingle(k){"ENTER_SCORE"!=this.screenType?this.sAztDialogService.open(X.m,{width:"750px",restoreFocus:!1,data:{student:k,isTeacher:!0}}).afterClosed().subscribe(Q=>{Q&&this.getListStudent()}):(k.classroomId||k.id)&&this.goToProfile(k.classroomId,k.id)}onSearchBox(k){this.searchContentObj=k,this.setPageStudent(1),this.initStatusObj()}downloadTableScore(){e.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var k=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let Q=this.commonService.createFileNameExportFile(["bang_diem_lop_"+this.classroomObj?.name])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(k,Q),e.G.closeLoadingEffect(200)}handlePointByValueInput(k){var Q=k.target;let V=""===Q.value.trim()?"":Q.value;V=V.replace(/[^\d\s,\.]/g,""),V=V.replace(/,/g,"."),V=V.replace(/\s+/g," "),V=V.replace(/\.{2,}/g,"."),V=V.replace(/(?:^|\s)\./g," 0."),V=V.replace(/^\s+/,""),V=V.replace(/\.\s/g," ");var at=V.split(" ");if(at.length>0){var St=""!=at[at.length-1]?at[at.length-1]:at[at.length-2];Number(St)>-1?St.split(".").length>1&&St.split(".")[1].length>2&&(V=V.substring(0,V.length-1)):V=V.replace(/\.$/," ")}return Q.value=V,V.split(" ").filter(Mt=>""!=Mt).map(Mt=>parseFloat(Mt))}handleMarkStudent(k,Q,V){var at=this.handlePointByValueInput(k);at=0==at.length?[-1]:at;var St=this.dataStudent.list[Q],Vt=this.dataMark.list[V],ie=this.listStudentMark.findIndex(Ge=>Ge.id==St.id);if(ie>-1){var Mt=(this.listStudentMark[ie].listMarks??[]).findIndex(Ge=>Ge.id==Vt.id);Mt>-1?this.listStudentMark[ie].listMarks[Mt].points=at:this.listStudentMark[ie].listMarks?.push({id:Vt.id,points:at})}else this.listStudentMark.push({id:St.id,listMarks:[{id:Vt.id,points:at}]})}returnValue(k){return(k.marks??[]).join(" ")}saveMark(){this.isSave=!0,this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listStudentMark}).subscribe({next:Q=>{this.getListStudent(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0),this.isSave=!1},error:Q=>{this.errorStatusObj(Q.error.message,!0),this.isSave=!1}}))}createNewScore(k){this.isStudent||this.sAztDialogService.open(bt.h,{data:k||{programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(V=>{V&&this.getListMark()})}getListMark(){this.waitDestroy(this.commonMarkService.apiCommonMarksListPost({page:this.pageMark,size:1e3,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId}).subscribe({next:Q=>{this.dataMark=Q,this.getListStudent()},error:Q=>{this.errorStatusObj(Q.error.message,!0)}}))}deleteMark(k){var Q=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+k.name+" </div> ?";this.sAztDialogService.open(v.s,{data:{content:Q},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(V=>{V&&this.waitDestroy(this.commonMarkService.apiCommonMarksIdDelete(k.id).subscribe({next:at=>{this.getListMark()},error:at=>{this.errorStatusObj(at.error.message,!0)}}))})}getClassroomObj(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(k=>{1==k.success&&(this.classroomObj=k.data?.obj,this.successStatusObj())}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1}).subscribe({next:Q=>{this.dataStudent=Q,this.pageObj.setTotalPages(this.dataStudent?.total??0),this.isStudent?this.handleGroupMarkByDate(Q.list):setTimeout(()=>this.scrollElementStudentById(),500),this.stopStatusObj()},error:Q=>{this.errorStatusObj(Q.error.message,!0)}}))}handleGroupMarkByDate(k){let Q=[];k.forEach(at=>{let St=at.marks?.map(Vt=>({...Vt,monthAndYear:this.sAztTimeService.formatDateToMonthYear(Vt.createdAt)}))??[];Q=Q.concat(St)});let V=this.commonService.arrayToDictionary(Q,at=>at.monthAndYear);this.listGroupMarkDate=Object.entries(V).map(([at,St])=>({date:at,marks:St,expand:!1}))}scrollElementStudentById(){if(this.studentId){var k=document.getElementById("row_student_"+this.studentId);k&&k.scrollIntoView({behavior:"smooth",block:"start"})}}ngOnInit(){(0,st.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.studentId=this.commonService.getMyQueryParam("studentId"),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))}),super.ngOnInit(),"ENTER_SCORE"==this.screenType?this.getListMark():this.getListStudent(),this.getClassroomObj()}constructor(k,Q,V,at,St,Vt,ie,Mt){super(),this.commonMarkService=k,this.studentService=Q,this.sAztTimeService=V,this.sAztDialogService=at,this.classroomService=St,this.exportExcelService=Vt,this.activeRoute=ie,this.shareFileFlutterService=Mt,this.screenType="ENTER_SCORE",this.classroomId=0,this.programId=0,this.sessionId=0,this.isStudent=!0,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.pageMark=1,this.listStudentMark=[],this.listGroupMarkDate=[],this.isSave=!1,this.pageObj=new s.m(20),this.searchContentObj=new t.h}}return w.\u0275fac=function(k){return new(k||w)(n.Y36(kt.Q),n.Y36(ct.V),n.Y36(At.D),n.Y36(mt.C),n.Y36(dt.u),n.Y36(gt.L),n.Y36(Tt.gz),n.Y36(Ct.g))},w.\u0275cmp=n.Xpm({type:w,selectors:[["app-table-score"]],viewQuery:function(k,Q){if(1&k&&n.Gf(we,5),2&k){let V;n.iGM(V=n.CRH())&&(Q.table_answer=V.first)}},inputs:{screenType:"screenType",classroomId:"classroomId",programId:"programId",sessionId:"sessionId",isStudent:"isStudent"},features:[n.qOj],decls:7,vars:5,consts:[[1,"grid","grid-cols-12","gap-6","mt-5"],["class","col-span-12 md:col-span-6",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12",4,"ngIf"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","placeholder","onSearch"],[1,"flex","justify-end"],["azt-track-service","enter-score-ULGPeBf6V","class","btn btn-primary flex mr-2",3,"click",4,"ngIf"],["azt-track-service","table-score-n5S54LPUX","class","btn btn-primary flex btn-download-excel",3,"click",4,"ngIf"],[3,"colorBackground"],["azt-track-service","enter-score-OlvWZNI2DZ","class","btn btn-primary shadow-md sm:mt-0 ml-2",3,"disabled","click",4,"ngIf"],["azt-track-service","enter-score-ULGPeBf6V",1,"btn","btn-primary","flex","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","flex","items-center","justify-center"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],["azt-track-service","table-score-n5S54LPUX",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],[1,"w-5","h-5","mr-2"],["name","download"],["azt-track-service","enter-score-OlvWZNI2DZ",1,"btn","btn-primary","shadow-md","sm:mt-0","ml-2",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["class","block","style","height: 100%",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-10","text-center"],[1,"block",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center","style","max-width: 120px !important",4,"ngFor","ngForOf"],["class","text-center whitespace-nowrap",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"text-center",2,"max-width","120px !important"],[1,"flex","items-center","justify-center"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],[1,"flex","justify-between",2,"width","max-content"],["class","col-score","class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["azt-track-service","enter-score-YQX6a-qxwK","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],["azt-track-service","table-score-8Xr_zTWDT","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],["azt-track-service","enter-score-YQX6a-qxwK",1,"inline-block","ml-1",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],["azt-track-service","table-score-8Xr_zTWDT",1,"inline-block","ml-1",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-trash-2",2,"color","red"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","x2","10","y1","11","y2","17"],["x1","14","x2","14","y1","11","y2","17"],[1,"text-center","whitespace-nowrap"],[3,"id"],["azt-track-service","table-score-iwGAjYKV2",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",3,"hidden",4,"ngFor","ngForOf"],[1,"text-center",3,"hidden"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input"],[1,"flex","justify-center","font-bold"],["class","box p-3 mb-5 flex justify-between",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"box","p-3","mb-5","flex","justify-between"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"text-center"],[1,"font-bold"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","table-score-4mYihdNPO",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px!important; height: 18px!important; vertical-align: top;",4,"ngIf"],["name","chevron-right","style","width: 18px!important; height: 18px!important; vertical-align: top;",4,"ngIf"],["name","chevron-down",2,"width","18px!important","height","18px!important","vertical-align","top"],["name","chevron-right",2,"width","18px!important","height","18px!important","vertical-align","top"],["class","box mt-3 mb-1",4,"ngIf"],[1,"box","mt-3","mb-1"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","100px"],[1,"flex","items-center"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],[1,"text-center","font-bold"],["style","max-width: 100px",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[2,"max-width","100px"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score",""],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[3,"mark",4,"ngIf"]],template:function(k,Q){if(1&k&&(n.TgZ(0,"div",0),n.YNc(1,Ae,4,3,"div",1),n.YNc(2,he,10,8,"div",2),n.qZA(),n.YNc(3,_e,1,0,"azt-loading-effect",3),n.YNc(4,Be,5,4,"ng-template",null,4,n.W1O),n.YNc(6,_t,28,54,"table",5)),2&k){const V=n.MAs(5);n.xp6(1),n.Q6J("ngIf","ENTER_SCORE"==Q.screenType),n.xp6(1),n.Q6J("ngIf",!Q.isStudent),n.xp6(1),n.Q6J("ngIf",Q.statusObj.loading)("ngIfElse",V),n.xp6(3),n.Q6J("ngIf","TABLE_SCORE"==Q.screenType)}},dependencies:[Ot.sg,Ot.O5,ot.gM,D.l,$.L,lt.B,xt.n,pt.s,Pt.W,ht.a,$t.HU,$t.$Z,Xt.Nh5,Kt.JV,Kt.gw,Kt.YK],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}@media (max-width: 639px){.btn-download-excel[_ngcontent-%COMP%]{width:100%!important}}.box-point-homework[_ngcontent-%COMP%]{min-width:120px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}"]}),w})()},93733:(Ke,Yt,x)=>{x.d(Yt,{Y:()=>v});var st=x(47496),l=x(65879),e=x(21266),s=x(9400);let v=(()=>{class t extends st.Q{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor(X){super(),this.activeRoute=X,this.classroomId=0}}return t.\u0275fac=function(X){return new(X||t)(l.Y36(e.gz))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-grand-board"]],inputs:{isStudent:"isStudent"},features:[l.qOj],decls:1,vars:5,consts:[[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(X,n){1&X&&l._UZ(0,"app-table-score",0),2&X&&l.Q6J("isStudent",n.isStudent)("screenType","TABLE_SCORE")("classroomId",n.classroomId)("programId",0)("sessionId",0)},dependencies:[s.B],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),t})()},3418:(Ke,Yt,x)=>{x.d(Yt,{A:()=>xn});var st=x(8633),l=x(47496),e=function(I){return I[I.ADD_NEW=0]="ADD_NEW",I[I.UPDATE=1]="UPDATE",I[I.DELETE=2]="DELETE",I}(e||{}),s=x(65879),v=x(87789),t=x(21266),bt=x(96814),X=x(92596),n=x(43389),kt=x(71646),ct=x(56223),At=x(91765),mt=x(63120),dt=x(78953),gt=x(82228),Tt=x(2032),Ct=x(63038),Ot=x(32443),ot=x(37722),D=x(15828),$=x(2783);function lt(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"div",2)(1,"div",3)(2,"a",4),s.NdJ("click",function(){const wt=s.CHM(O).$implicit,se=s.oxw();return s.KtG(se.onShowFile(wt,-1))}),s.TgZ(3,"div",5),s._UZ(4,"img",6),s.TgZ(5,"span",7),s.NdJ("click",function(){const wt=s.CHM(O).$implicit,se=s.oxw();return s.KtG(se.removeFile(wt))}),s.O4$(),s.TgZ(6,"svg",8),s._UZ(7,"line",9)(8,"line",10),s.qZA()()()()()()}if(2&I){const O=W.$implicit;s.xp6(4),s.Q6J("src",O.url,s.LSH)}}let xt=(()=>{class I extends l.Q{onShowFile(O,A){let F={...O,index:A};this.sAztDialogService.open(D.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:F},restoreFocus:!1})}removeFile(O){this.files=this.files.filter(A=>A.url!=O.url),this.filesChange.emit(this.files)}constructor(O){super(),this.sAztDialogService=O,this.filesChange=new s.vpe}}return I.\u0275fac=function(O){return new(O||I)(s.Y36($.C))},I.\u0275cmp=s.Xpm({type:I,selectors:[["app-new-list-images"]],inputs:{files:"files"},outputs:{filesChange:"filesChange"},features:[s.qOj],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","gap-3","mb-3"],["class","col-span-12 md:col-span-6 xl:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","xl:col-span-4","lg:col-span-2"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-1","pr-2","pl-2"],["azt-track-service","list-images-jCIgoLK9i",1,"flex","w-full","items-center",3,"click"],[1,"w-full","h-28","image-fit","zoom-in"],[1,"rounded-md",3,"src"],["azt-track-service","list-images-3VlAbiB3VZ",1,"cursor-pointer","absolute","top-0","right-0","-mt-2","-mr-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-danger","text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","stroke-1.5","h-4","w-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"]],template:function(O,A){1&O&&(s.TgZ(0,"div",0),s.YNc(1,lt,9,1,"div",1),s.qZA()),2&O&&(s.xp6(1),s.Q6J("ngForOf",A.files))},dependencies:[bt.sg],encapsulation:2}),I})();var pt=x(36727);function Pt(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"app-new-list-images",14),s.NdJ("filesChange",function(F){s.CHM(O);const wt=s.oxw();return s.KtG(wt.files=F)}),s.qZA()}if(2&I){const O=s.oxw();s.Q6J("files",O.files)}}function ht(I,W){1&I&&(s.TgZ(0,"span",15),s._UZ(1,"azt-loading-ui"),s.qZA())}const $t=function(I){return[I]};let Xt=(()=>{class I extends l.Q{saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();var O={content:this.contentFormControl.value??"",classroomId:this.classroomId,imageLinks:this.files.map(A=>A.url).filter(this.commonService.notEmpty),isLockComment:this.isLockComment?1:0};this.waitDestroy(this.newsService.apiNewsPost(O).subscribe({next:A=>{this.successStatusObj("lang_business_news_add_new_post_success",!0),this.contentFormControl.setValue(""),this.files=[],this.changePostObjEvent.emit({...A,isShowEditForm:!1,hasLoveEmotion:!1,isShowCommentBox:!1})},error:A=>{this.errorStatusObj(A.error.message,!0)}}))}}handleUploadComplete(O){this.files.push(...O)}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(O,A,F){super(),this.newsService=O,this.userService=A,this.apiUploadService=F,this.changePostObjEvent=new s.vpe,this.contentFormControl=new ct.NI("",{nonNullable:!0,validators:[At._.noWhiteSpace]}),this.files=[],this.isLockComment=!1,this.allUploadToCdnMenuTypes=mt.j6,this.allUploadFileTypes=mt.AZ}}return I.\u0275fac=function(O){return new(O||I)(s.Y36(v.Yc),s.Y36(dt.U),s.Y36(gt.W))},I.\u0275cmp=s.Xpm({type:I,selectors:[["app-news-add-new-post"]],inputs:{classroomId:"classroomId"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[s.qOj],decls:20,vars:21,consts:[[1,"box"],[1,"relative","w-full","pt-3","pr-3","pl-3"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","pt-3",3,"files","filesChange",4,"ngIf"],[1,"text-right","box-button"],[1,"w-full","flex","sm:justify-between","justify-end","items-center"],[1,"btn","btn-outline-secondary","btn-sm","mr-2","p-0","border-0",3,"matTooltip","click"],[1,"w-6","h-6","inline-block"],[3,"name"],[3,"uploadToCdnMenu","fileType","uploadComplete"],["azt-track-service","add-new-post-YUr68bfqj5",1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",1,"zoom-in",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip"],["azt-track-service","add-new-post-D1kcZnYwie","type","button",1,"btn","btn-primary","btn-sm","w-24",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"pt-3",3,"files","filesChange"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(O,A){1&O&&(s.TgZ(0,"div",0)(1,"div",1)(2,"textarea",2),s.ALo(3,"mytranslate"),s._uU(4,"        "),s.qZA(),s.YNc(5,Pt,1,1,"app-new-list-images",3),s.qZA(),s.TgZ(6,"div",4)(7,"div",5)(8,"button",6),s.NdJ("click",function(){return A.isLockComment=!A.isLockComment}),s.ALo(9,"mytranslate"),s.TgZ(10,"span",7),s._UZ(11,"lucide-icon",8),s.qZA()(),s.TgZ(12,"azt-upload-multiple-box",9),s.NdJ("uploadComplete",function(wt){return A.handleUploadComplete(wt)}),s.TgZ(13,"span",10),s._UZ(14,"lucide-icon",11),s.ALo(15,"mytranslate"),s.qZA()(),s.TgZ(16,"button",12),s.NdJ("click",function(){return A.saveNewPost()}),s.YNc(17,ht,2,0,"span",13),s._uU(18),s.ALo(19,"mytranslate"),s.qZA()()()()),2&O&&(s.xp6(2),s.s9C("placeholder",s.lcZ(3,11,"lang_business_news_post_content")),s.Q6J("formControl",A.contentFormControl),s.xp6(3),s.Q6J("ngIf",A.files.length),s.xp6(3),s.s9C("matTooltip",s.lcZ(9,13,A.isLockComment?"lang_student_comment_lock":"lang_student_unlock_comments")),s.xp6(3),s.Q6J("name",A.isLockComment?"lock":"unlock"),s.xp6(1),s.Q6J("uploadToCdnMenu",A.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",s.VKq(19,$t,A.allUploadFileTypes.IMAGE)),s.xp6(2),s.s9C("matTooltip",s.lcZ(15,15,"lang_core_tai_anh")),s.xp6(2),s.Q6J("disabled",""==A.contentFormControl.value||A.statusObj.loading),s.xp6(1),s.Q6J("ngIf",A.statusObj.loading),s.xp6(1),s.hij(" ",s.lcZ(19,17,"lang_business_news_add_new_post_button")," "))},dependencies:[bt.O5,Tt.Nt,X.gM,ct.Fj,ct.JJ,ct.oH,Ct.m,kt.n,Ot.B,ot.Nh5,xt,pt.JV],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0;height:25px}.box-button[_ngcontent-%COMP%]{padding:5px 10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}"]}),I})();var Kt=x(19347),we=x(72164),Ae=x(78497);function Se(I,W){1&I&&(s.TgZ(0,"span",9),s._UZ(1,"azt-loading-ui"),s.qZA())}let Pe=(()=>{class I extends we.e{btnCloseDialog(O){this.dialogRef.close(O)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsIdDelete(this.postObj.id).subscribe({next:O=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:O=>{this.errorStatusObj(O.error.message,!0)}}))}constructor(O,A,F){super(F,A),this.newsService=O,this.dialogRef=A,this.data=F,this.postObj=F}}return I.\u0275fac=function(O){return new(O||I)(s.Y36(v.Yc),s.Y36(Kt.so,8),s.Y36(Kt.WI,8))},I.\u0275cmp=s.Xpm({type:I,selectors:[["app-delete-news-post-confirm-dialog"]],features:[s.qOj],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(O,A){1&O&&(s.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),s._uU(5),s.ALo(6,"mytranslate"),s.TgZ(7,"b",4),s._uU(8),s.qZA(),s._uU(9,"? "),s.qZA()()()(),s.TgZ(10,"div",5)(11,"button",6),s.NdJ("click",function(){return A.btnCloseDialog(!1)}),s._uU(12),s.ALo(13,"mytranslate"),s.qZA(),s.TgZ(14,"button",7),s.NdJ("click",function(){return A.confirmDelete()}),s.YNc(15,Se,2,0,"span",8),s._uU(16),s.ALo(17,"mytranslate"),s.qZA()()()),2&O&&(s.xp6(5),s.hij(" ",s.lcZ(6,5,"lang_business_news_are_your_sure_to_delete_news_post"),"\xa0 "),s.xp6(3),s.Oqu(A.postObj.content),s.xp6(4),s.hij(" ",s.lcZ(13,7,"lang_cms_common_close_btn")," "),s.xp6(3),s.Q6J("ngIf",A.statusObj.loading),s.xp6(1),s.hij(" ",s.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[bt.O5,Ae.R,kt.n,pt.JV],encapsulation:2}),I})();var xe=x(77988),me=x(85904);function he(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"a",4),s.NdJ("click",function(){s.CHM(O);const F=s.oxw(2);return s.KtG(F.clickToSeeMore())}),s._uU(1),s.ALo(2,"mytranslate"),s.qZA()}2&I&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"lang_cms_common_see_more")))}function _e(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"a",4),s.NdJ("click",function(){s.CHM(O);const F=s.oxw(2);return s.KtG(F.clickToShowShortContent())}),s._uU(1),s.ALo(2,"mytranslate"),s.qZA()}2&I&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"lang_cms_common_see_short_content")))}function Ue(I,W){if(1&I&&(s.TgZ(0,"div"),s._UZ(1,"span",2),s.ALo(2,"safeAdminHtmlContent"),s.YNc(3,he,3,3,"a",3),s.YNc(4,_e,3,3,"a",3),s.qZA()),2&I){const O=s.oxw();s.xp6(1),s.Q6J("innerHTML",s.lcZ(2,3,O.showContent),s.oJD),s.xp6(2),s.Q6J("ngIf",O.showSeeMoreButton&&O.content.length>O.maxLength),s.xp6(1),s.Q6J("ngIf",O.showShortContentButton&&O.content.length>O.maxLength)}}function Ie(I,W){if(1&I&&(s._UZ(0,"span",10),s.ALo(1,"safeAdminHtmlContent")),2&I){const O=s.oxw(2);s.Q6J("innerHTML",s.lcZ(1,1,O.showContent),s.oJD)}}function Me(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"a",4),s.NdJ("click",function(){s.CHM(O);const F=s.oxw(2);return s.KtG(F.clickToSeeMore())}),s._uU(1),s.ALo(2,"mytranslate"),s.qZA()}if(2&I){const O=s.oxw(2);s.Akn("position: absolute; bottom: 0; right: 0; background-color: "+O.backgroundColor),s.xp6(1),s.hij("...",s.lcZ(2,3,"lang_cms_common_see_more"),"")}}function ze(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"a",4),s.NdJ("click",function(){s.CHM(O);const F=s.oxw(2);return s.KtG(F.clickToShowShortContent())}),s._uU(1),s.ALo(2,"mytranslate"),s.qZA()}2&I&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"lang_cms_common_see_short_content")))}function oe(I,W){if(1&I&&(s.TgZ(0,"div",5),s._UZ(1,"div",6),s.ALo(2,"safeAdminHtmlContent"),s._UZ(3,"div",6,7),s.ALo(5,"safeAdminHtmlContent"),s.YNc(6,Ie,2,3,"span",8),s.YNc(7,Me,3,5,"a",9),s.YNc(8,ze,3,3,"a",3),s.qZA()),2&I){const O=s.MAs(4),A=s.oxw();s.xp6(1),s.Akn(A.styleContent),s.Q6J("innerHTML",s.lcZ(2,9,A.showContent),s.oJD),s.xp6(2),s.Akn("white-space: pre-line; position: absolute; visibility: hidden; line-height: 20px"),s.Q6J("innerHTML",s.lcZ(5,11,A.showContent),s.oJD),s.xp6(3),s.Q6J("ngIf",A.showShortContentButton),s.xp6(1),s.Q6J("ngIf",A.showSeeMoreButton&&O.offsetHeight>20*A.maxLine),s.xp6(1),s.Q6J("ngIf",A.showShortContentButton&&O.offsetHeight>20*A.maxLine)}}let je=(()=>{class I extends l.Q{clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let O=this.commonService.removeTagHtml(this.content);if(this.maxLength&&O.length>this.maxLength)this.showContent=this.showSeeMoreButton?O.substring(0,this.maxLength)+"...":this.content;else if(this.maxLine){this.showContent=this.content;var A=(20*this.maxLine).toString();this.styleContent=this.showSeeMoreButton?"white-space: pre-line; max-height: "+A+"px; overflow: hidden; position: relative; line-height: 20px;":"white-space: pre-line; line-height: 20px; visibility: hidden; position: absolute;"}else this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content;this.showContent=this.showContent+" "}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}constructor(){super(),this.content="",this.backgroundColor="white",this.styleContent="white-space: pre-line;",this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}}return I.\u0275fac=function(O){return new(O||I)},I.\u0275cmp=s.Xpm({type:I,selectors:[["azt-see-more-multiple-lines"]],inputs:{content:"content",maxLength:"maxLength",maxLine:"maxLine",backgroundColor:"backgroundColor"},features:[s.qOj,s.TTD],decls:2,vars:2,consts:[[4,"ngIf"],["style","position: relative; white-space: break-spaces;",4,"ngIf"],[2,"white-space","pre-line","white-space","break-spaces",3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"],[2,"position","relative","white-space","break-spaces"],[3,"innerHTML"],["contentElementHide",""],["style","white-space: pre-line;",3,"innerHTML",4,"ngIf"],["class","btn-text-primary",3,"style","click",4,"ngIf"],[2,"white-space","pre-line",3,"innerHTML"]],template:function(O,A){1&O&&(s.YNc(0,Ue,5,5,"div",0),s.YNc(1,oe,9,13,"div",1)),2&O&&(s.Q6J("ngIf",A.maxLength),s.xp6(1),s.Q6J("ngIf",A.maxLine&&!A.maxLength))},dependencies:[bt.O5,pt.JV,pt.Tm],encapsulation:2}),I})();var de=function(I){return I[I.ADD_NEW=0]="ADD_NEW",I[I.UPDATE=1]="UPDATE",I[I.DELETE=2]="DELETE",I}(de||{}),Fe=x(64170),Ne=x(49042);function We(I,W){1&I&&(s.TgZ(0,"span",10),s._UZ(1,"azt-loading-ui"),s.qZA())}let Je=(()=>{class I extends l.Q{saveNewComment(){this.commentContentFormControl.value.trim()&&(this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsPost(this.postObj.id,{content:this.commentContentFormControl.value}).subscribe({next:A=>{this.successStatusObj(),this.commentContentFormControl.setValue(""),this.changeCommentObjEvent.emit({...A,isShowEditForm:!1,allowDelete:!0,allowEdit:!0})},error:A=>{this.errorStatusObj(A.error.message,!0)}})))}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(O,A){super(),this.newsService=O,this.userService=A,this.changeCommentObjEvent=new s.vpe,this.commentContentFormControl=new ct.NI("",{nonNullable:!0,validators:[At._.noWhiteSpace]})}}return I.\u0275fac=function(O){return new(O||I)(s.Y36(v.Yc),s.Y36(dt.U))},I.\u0275cmp=s.Xpm({type:I,selectors:[["app-news-add-new-comments"]],inputs:{postObj:"postObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[s.qOj],decls:13,vars:13,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","",2,"resize","auto","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],["azt-track-service","add-new-comment-tIKt3rAhD",1,"btn","btn-secondary","btn-sm","zoom-in",3,"matTooltip","disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex-none","w-4","h-4","zoom-in"],["name","send",2,"color","#1e40af"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(O,A){1&O&&(s.TgZ(0,"div",0),s._UZ(1,"azt-create-avatar",1),s.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),s.NdJ("enterKey",function(){return!(""==A.commentContentFormControl.value||A.statusObj.loading)&&A.saveNewComment()}),s.ALo(5,"mytranslate"),s._uU(6,"            "),s.qZA()(),s.TgZ(7,"div",5)(8,"button",6),s.NdJ("click",function(){return A.saveNewComment()}),s.ALo(9,"mytranslate"),s.YNc(10,We,2,0,"span",7),s.TgZ(11,"span",8),s._UZ(12,"lucide-icon",9),s.qZA()()()()()),2&O&&(s.xp6(1),s.Q6J("nameCreateAvatar",A.userObj.fullName)("linkAvatar",A.userObj.avatar)("size",30),s.xp6(3),s.s9C("placeholder",s.lcZ(5,9,"lang_core_viet_binh_luan")),s.Q6J("enableInMobile",!1)("formControl",A.commentContentFormControl),s.xp6(4),s.s9C("matTooltip",s.lcZ(9,11,"lang_business_news_add_new_post_button")),s.Q6J("disabled",""==A.commentContentFormControl.value||A.statusObj.loading),s.xp6(2),s.Q6J("ngIf",A.statusObj.loading))},dependencies:[bt.O5,Tt.Nt,Fe.KE,X.gM,ct.Fj,ct.JJ,ct.oH,me.g,Ct.m,Ne.Y,kt.n,ot.Nh5,pt.JV],encapsulation:2}),I})();function te(I,W){1&I&&(s.TgZ(0,"span",9),s._UZ(1,"azt-loading-ui"),s.qZA())}let qe=(()=>{class I extends we.e{btnCloseDialog(O){this.dialogRef.close(O)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdDelete(this.postObj.id,this.commentObj.id).subscribe({next:O=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:O=>{this.errorStatusObj(O.error.message,!0)}}))}constructor(O,A,F){super(F,A),this.newsService=O,this.dialogRef=A,this.data=F,this.postObj=F.postObj,this.commentObj=F.commentObj}}return I.\u0275fac=function(O){return new(O||I)(s.Y36(v.Yc),s.Y36(Kt.so,8),s.Y36(Kt.WI,8))},I.\u0275cmp=s.Xpm({type:I,selectors:[["app-delete-news-post-comment-confirm-dialog"]],features:[s.qOj],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(O,A){1&O&&(s.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),s._uU(5),s.ALo(6,"mytranslate"),s.TgZ(7,"b",4),s._uU(8),s.qZA(),s._uU(9,"? "),s.qZA()()()(),s.TgZ(10,"div",5)(11,"button",6),s.NdJ("click",function(){return A.btnCloseDialog(!1)}),s._uU(12),s.ALo(13,"mytranslate"),s.qZA(),s.TgZ(14,"button",7),s.NdJ("click",function(){return A.confirmDelete()}),s.YNc(15,te,2,0,"span",8),s._uU(16),s.ALo(17,"mytranslate"),s.qZA()()()),2&O&&(s.xp6(5),s.hij(" ",s.lcZ(6,5,"lang_business_news_are_your_sure_to_delete_news_post_comment"),"\xa0 "),s.xp6(3),s.Oqu(A.commentObj.content),s.xp6(4),s.hij(" ",s.lcZ(13,7,"lang_cms_common_close_btn")," "),s.xp6(3),s.Q6J("ngIf",A.statusObj.loading),s.xp6(1),s.hij(" ",s.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[bt.O5,Ae.R,kt.n,pt.JV],encapsulation:2}),I})();function Xe(I,W){if(1&I&&(s.TgZ(0,"button",15),s.O4$(),s.TgZ(1,"svg",16),s._UZ(2,"circle",17)(3,"circle",18)(4,"circle",19),s.qZA()()),2&I){s.oxw();const O=s.MAs(12);s.Q6J("matMenuTriggerFor",O)}}function Qe(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"li")(1,"a",20),s.NdJ("click",function(){s.CHM(O);const F=s.oxw();return s.KtG(F.editCommentEvent())}),s.O4$(),s.TgZ(2,"svg",21),s._UZ(3,"path",22)(4,"path",23),s.qZA(),s._uU(5),s.ALo(6,"mytranslate"),s.qZA()()}2&I&&(s.xp6(5),s.hij(" ",s.lcZ(6,1,"lang_auto_sua")," "))}function Ye(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"li")(1,"a",24),s.NdJ("click",function(){s.CHM(O);const F=s.oxw();return s.KtG(F.deleteCommentEvent())}),s.O4$(),s.TgZ(2,"svg",25),s._UZ(3,"polyline",26)(4,"path",27),s.qZA(),s._uU(5),s.ALo(6,"mytranslate"),s.qZA()()}2&I&&(s.xp6(5),s.hij(" ",s.lcZ(6,1,"lang_auto_xoa")," "))}let tn=(()=>{class I extends l.Q{editCommentEvent(){this.commentObj.isShowEditForm=!0,this.changeCommentObjEvent.emit({actionType:de.UPDATE,commentObj:this.commentObj})}deleteCommentEvent(){this.sAztDialogService.open(qe,{width:"700px",data:{postObj:this.postObj,commentObj:this.commentObj},restoreFocus:!1}).afterClosed().subscribe(A=>{A&&this.changeCommentObjEvent.emit({actionType:de.DELETE,commentObj:this.commentObj})})}constructor(O){super(),this.sAztDialogService=O,this.changeCommentObjEvent=new s.vpe}}return I.\u0275fac=function(O){return new(O||I)(s.Y36($.C))},I.\u0275cmp=s.Xpm({type:I,selectors:[["app-news-view-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[s._Bn([st.S]),s.qOj],decls:20,vars:13,consts:[[1,"flex","mb-3","comment-body"],[1,"image-fit","mt-2"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"flex","items-center","justify-start"],[1,"box-content","px-3","py-2","ml-3"],[1,"font-medium","whitespace-nowrap"],[3,"content","maxLine","backgroundColor"],[1,"btn-show","ml-1"],["class","clickable p-1 hover:bg-slate-100 dark:hover:bg-darkmode-400","style","border-radius: 50%","data-tw-toggle","dropdown",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],[4,"ngIf"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5","ml-3"],["data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"border-radius","50%",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],["azt-track-service","comments-post-dialog-a0fkWfZtZk",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","comments-post-dialog-_pPBuSnF37",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(O,A){1&O&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"azt-create-avatar",2),s.qZA(),s.TgZ(3,"div")(4,"div",3)(5,"div",4)(6,"div",5),s._uU(7),s.qZA(),s._UZ(8,"azt-see-more-multiple-lines",6),s.qZA(),s.TgZ(9,"div",7),s.YNc(10,Xe,5,1,"button",8),s.TgZ(11,"mat-menu",9,10)(13,"div",11)(14,"ul",12),s.YNc(15,Qe,7,3,"li",13),s.YNc(16,Ye,7,3,"li",13),s.qZA()()()()(),s.TgZ(17,"div",14),s._uU(18),s.ALo(19,"relativeTime"),s.qZA()()()),2&O&&(s.xp6(2),s.Q6J("nameCreateAvatar",null==A.commentObj.user?null:A.commentObj.user.fullName)("linkAvatar",null==A.commentObj.user?null:A.commentObj.user.avatar)("size",30),s.xp6(5),s.hij(" ",null==A.commentObj.user?null:A.commentObj.user.fullName,"\xa0 "),s.xp6(1),s.Q6J("content",A.commentObj.content)("maxLine",5)("backgroundColor","#f5f5f5"),s.xp6(2),s.Q6J("ngIf",A.commentObj.allowDelete||A.commentObj.allowEdit),s.xp6(5),s.Q6J("ngIf",A.commentObj.allowEdit),s.xp6(1),s.Q6J("ngIf",A.commentObj.allowDelete),s.xp6(2),s.Oqu(s.lcZ(19,11,A.commentObj.createdAt)))},dependencies:[bt.O5,xe.VK,xe.p6,me.g,je,pt.JV,pt.Yy],styles:[".btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:transparent}.comment-body[_ngcontent-%COMP%]:hover   .btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgb(var(--color-slate-500)/var(--tw-text-opacity))}.box-content[_ngcontent-%COMP%]{border-radius:5px;background-color:#f5f5f5}"]}),I})();function en(I,W){1&I&&(s.TgZ(0,"span",12),s._UZ(1,"azt-loading-ui"),s.qZA())}let ue=(()=>{class I extends l.Q{cancel(){this.commentObj.isShowEditForm=!1,this.changeCommentObjEvent.emit(this.commentObj)}saveNewComment(){if(this.commentContentFormControl.value.trim()){this.initStatusObj();var O={content:this.commentContentFormControl.value};this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdPut(this.postObj.id,this.commentObj.id,O).subscribe({next:A=>{this.successStatusObj(),this.commentObj.isShowEditForm=!1,this.commentObj.content=O.content,this.changeCommentObjEvent.emit(this.commentObj),this.commentContentFormControl.setValue("")},error:A=>{this.errorStatusObj(A.error.message,!0)}}))}}ngOnInit(){this.userObj=this.userService.getUserObj(),this.commentContentFormControl.setValue(this.commentObj.content)}constructor(O,A){super(),this.newsService=O,this.userService=A,this.changeCommentObjEvent=new s.vpe,this.commentContentFormControl=new ct.NI("",{nonNullable:!0,validators:[At._.noWhiteSpace]})}}return I.\u0275fac=function(O){return new(O||I)(s.Y36(v.Yc),s.Y36(dt.U))},I.\u0275cmp=s.Xpm({type:I,selectors:[["app-news-edit-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[s.qOj],decls:17,vars:16,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","","row","5",2,"resize","none","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"flex","justify-end","p-1","absolute",2,"bottom","5px","right","5px"],[1,"flex","items-center","justify-center"],["azt-track-service","edit-comment-725iQWOtdo","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-comment-FFY36YTq2a",1,"btn","btn-outline-secondary","btn-sm",3,"matTooltip","disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex-none","w-4","h-4"],["name","send"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(O,A){1&O&&(s.TgZ(0,"div",0),s._UZ(1,"azt-create-avatar",1),s.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),s.NdJ("enterKey",function(){return!(""==A.commentContentFormControl.value||A.statusObj.loading)&&A.saveNewComment()}),s.ALo(5,"mytranslate"),s._uU(6,"            "),s.qZA()(),s.TgZ(7,"div",5)(8,"div",6)(9,"button",7),s.NdJ("click",function(){return A.cancel()}),s._uU(10),s.ALo(11,"mytranslate"),s.qZA(),s.TgZ(12,"button",8),s.NdJ("click",function(){return A.saveNewComment()}),s.ALo(13,"mytranslate"),s.YNc(14,en,2,0,"span",9),s.TgZ(15,"span",10),s._UZ(16,"lucide-icon",11),s.qZA()()()()()()),2&O&&(s.xp6(1),s.Q6J("nameCreateAvatar",A.userObj.fullName)("linkAvatar",A.userObj.avatar)("size",30),s.xp6(3),s.s9C("placeholder",s.lcZ(5,10,"lang_core_viet_binh_luan")),s.Q6J("enableInMobile",!1)("formControl",A.commentContentFormControl),s.xp6(6),s.hij(" ",s.lcZ(11,12,"lang_cms_common_close_btn")," "),s.xp6(2),s.s9C("matTooltip",s.lcZ(13,14,"lang_business_news_add_new_post_button")),s.Q6J("disabled",""==A.commentContentFormControl.value||A.statusObj.loading),s.xp6(2),s.Q6J("ngIf",A.statusObj.loading))},dependencies:[bt.O5,Tt.Nt,Fe.KE,X.gM,ct.Fj,ct.JJ,ct.oH,me.g,Ct.m,Ne.Y,kt.n,ot.Nh5,pt.JV],encapsulation:2}),I})();function ut(I,W){if(1&I){const O=s.EpF();s.ynx(0),s.TgZ(1,"app-news-view-comment",6),s.NdJ("changeCommentObjEvent",function(F){s.CHM(O);const wt=s.oxw(2);return s.KtG(wt.changeCommentObj(F.actionType,F.commentObj))}),s.qZA(),s.BQk()}if(2&I){const O=s.oxw().$implicit,A=s.oxw();s.xp6(1),s.Q6J("postObj",A.postObj)("commentObj",O)}}function pe(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"div",2)(1,"app-news-edit-comment",6),s.NdJ("changeCommentObjEvent",function(F){s.CHM(O);const wt=s.oxw(2);return s.KtG(wt.changeCommentObj(wt.enumNewsCommentActionType.UPDATE,F))}),s.qZA()()}if(2&I){const O=s.oxw().$implicit,A=s.oxw();s.xp6(1),s.Q6J("postObj",A.postObj)("commentObj",O)}}function ve(I,W){if(1&I&&(s.TgZ(0,"div"),s.YNc(1,ut,2,2,"ng-container",4),s.YNc(2,pe,2,2,"ng-template",null,5,s.W1O),s.qZA()),2&I){const O=W.$implicit,A=s.MAs(3);s.xp6(1),s.Q6J("ngIf",!O.isShowEditForm)("ngIfElse",A)}}function Gt(I,W){1&I&&(s.TgZ(0,"span",10),s._UZ(1,"azt-loading-ui"),s.qZA())}function zt(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"div",7)(1,"span",8),s.NdJ("click",function(){s.CHM(O);const F=s.oxw();return s.KtG(!F.sAztNextPaginationService.isLoadingNextPage&&F.getNextPage())}),s._uU(2),s.ALo(3,"mytranslate"),s.YNc(4,Gt,2,0,"span",9),s.qZA()()}if(2&I){const O=s.oxw();s.xp6(2),s.hij(" ",s.lcZ(3,2,"lang_business_news_load_more_comments")," "),s.xp6(2),s.Q6J("ngIf",O.sAztNextPaginationService.isLoadingNextPage)}}let Oe=(()=>{class I extends l.Q{changeCommentObj(O,A){O==de.ADD_NEW?(this.commentObjs.unshift(A),this.postObj.totalComment+=1):O==de.UPDATE?this.commentObjs=this.commentObjs.map(F=>F.id==A.id?A:F):(this.postObj.totalComment-=1,this.commentObjs=this.commentObjs.filter(F=>F.id!=A.id))}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(O){O?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsGet(this.postObj.id,this.sAztNextPaginationService.curPage,this.sAztNextPaginationService.itemPerPage).subscribe({next:A=>{A.list.forEach(F=>{this.commentObjs.push({...F,isShowEditForm:!1,allowEdit:F.tenantId==this.userObj.id,allowDelete:!this.isStudent||F.tenantId==this.userObj.id})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(A.total),this.stopStatusObj()},error:A=>{this.errorStatusObj(A.error.message,!0)}}))}ngOnInit(){this.sAztNextPaginationService.setTotalItemPerPage(10),this.getData(!1)}constructor(O,A,F){super(),this.newsService=O,this.userService=A,this.sAztNextPaginationService=F,this.commentObjs=[],this.enumNewsCommentActionType=de,this.userObj=this.userService.getUserObj()}}return I.\u0275fac=function(O){return new(O||I)(s.Y36(v.Yc),s.Y36(dt.U),s.Y36(st.S))},I.\u0275cmp=s.Xpm({type:I,selectors:[["app-news-list-comments"]],inputs:{isStudent:"isStudent",postObj:"postObj"},features:[s._Bn([st.S]),s.qOj],decls:4,vars:3,consts:[[4,"ngFor","ngForOf"],["class","mb-2 font-medium",4,"ngIf"],[1,"pb-2"],[3,"postObj","changeCommentObjEvent"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"postObj","commentObj","changeCommentObjEvent"],[1,"mb-2","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["class","w-4 h-4 inline-block ml-2",4,"ngIf"],[1,"w-4","h-4","inline-block","ml-2"]],template:function(O,A){1&O&&(s.YNc(0,ve,4,2,"div",0),s.YNc(1,zt,5,4,"div",1),s.TgZ(2,"div",2)(3,"app-news-add-new-comments",3),s.NdJ("changeCommentObjEvent",function(wt){return A.changeCommentObj(A.enumNewsCommentActionType.ADD_NEW,wt)}),s.qZA()()),2&O&&(s.Q6J("ngForOf",A.commentObjs),s.xp6(1),s.Q6J("ngIf",A.commentObjs.length&&A.sAztNextPaginationService.hasNextPage),s.xp6(2),s.Q6J("postObj",A.postObj))},dependencies:[bt.sg,bt.O5,kt.n,Je,tn,ue,pt.JV],encapsulation:2}),I})();function ee(I,W){1&I&&(s.TgZ(0,"div",2)(1,"span",3),s._UZ(2,"lucide-icon",4),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.ALo(5,"mytranslate"),s.qZA()()),2&I&&(s.xp6(4),s.Oqu(s.lcZ(5,1,"lang_student_comment_feature_disabled")))}const ye=function(I,W){return{"heart-selected":I,"heart-non-selected":W}};function Le(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"div",5)(1,"div",6)(2,"button",7),s.NdJ("click",function(){s.CHM(O);const F=s.oxw();return s.KtG(F.changeEmotionEvent())}),s.O4$(),s.TgZ(3,"svg",8),s._UZ(4,"path",9),s.qZA()(),s.kcU(),s.TgZ(5,"span"),s._uU(6),s.qZA()(),s.TgZ(7,"div",10),s.NdJ("click",function(){s.CHM(O);const F=s.oxw();return s.KtG(F.showCommentObjs())}),s.TgZ(8,"button",11),s._UZ(9,"lucide-icon",12),s.qZA(),s.TgZ(10,"span"),s._uU(11),s.qZA()()()}if(2&I){const O=s.oxw();s.xp6(3),s.Q6J("ngClass",s.WLB(3,ye,O.postObj.hasLoveEmotion,!O.postObj.hasLoveEmotion)),s.xp6(3),s.Oqu(O.postObj.totalEmotion),s.xp6(5),s.Oqu(O.postObj.totalComment)}}let Be=(()=>{class I extends l.Q{changeEmotionEvent(){this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion+=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj),this.waitDestroy(this.newsService.apiNewsNewsIdEmotionsPost(this.postObj.id).subscribe({next:O=>{this.successStatusObj()},error:O=>{this.errorStatusObj(O.error.message,!0),this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion-=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj)}}))}showCommentObjs(){this.postObj.isShowCommentBox=!0,this.changePostObjEvent.emit(this.postObj)}constructor(O){super(),this.newsService=O,this.changePostObjEvent=new s.vpe}}return I.\u0275fac=function(O){return new(O||I)(s.Y36(v.Yc))},I.\u0275cmp=s.Xpm({type:I,selectors:[["app-news-emotions"]],inputs:{postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[s.qOj],decls:2,vars:2,consts:[["class","flex items-center justify-center pb-3 text-slate-500",4,"ngIf"],["class","flex pb-3","style","align-items: center",4,"ngIf"],[1,"flex","items-center","justify-center","pb-3","text-slate-500"],[1,"w-4","h-4","inline-block","mr-2"],["name","message-circle-off"],[1,"flex","pb-3",2,"align-items","center"],[1,"flex","mr-5","clickable",2,"align-items","center"],["azt-track-service","emotions-02_zwrttZ",1,"w-5","h-5","mr-2","zoom-in","heart-label",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","#000000","stroke-width","3","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-heart",3,"ngClass"],["d","M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"],["azt-track-service","emotions-Yt4v8qy-f6",1,"flex","clickable",2,"align-items","center",3,"click"],["azt-track-service","news-board-QZ9ykDAa8s",1,"w-5","h-5","mr-2","zoom-in"],["name","message-square"]],template:function(O,A){1&O&&(s.YNc(0,ee,6,3,"div",0),s.YNc(1,Le,12,6,"div",1)),2&O&&(s.Q6J("ngIf",A.postObj.isLockComment),s.xp6(1),s.Q6J("ngIf",!A.postObj.isLockComment))},dependencies:[bt.mk,bt.O5,ot.Nh5,pt.JV],styles:['@charset "UTF-8";.heart-label[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.5em;align-self:center;transition:color .2s ease-in-out;color:#aab8c2}.heart-non-selected[_ngcontent-%COMP%]{background:transparent}.heart-non-selected[_ngcontent-%COMP%]:hover{stroke:#7f6167!important}.heart-selected[_ngcontent-%COMP%]{fill:#e2264d!important;stroke:#e2264d!important;will-change:font-size;animation:heart 1s cubic-bezier(.17,.89,.32,1.49)}']}),I})();var He=x(95273);function It(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"a",3),s.NdJ("click",function(){const wt=s.CHM(O).$implicit,se=s.oxw();return s.KtG(se.onShowFile(wt))}),s._UZ(1,"img",4),s.qZA()}if(2&I){const O=W.$implicit;s.xp6(1),s.Q6J("src",O.imageLink,s.LSH)}}let Ze=(()=>{class I extends l.Q{onShowFile(O){this.sAztDialogService.open(D.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:"image_post"+O.id,mimes:"image/jpeg",url:O.imageLink,index:-1}},restoreFocus:!1})}constructor(O,A){super(),this.sAztDialogService=O,this.sAztFileTypeService=A,this.images=[]}}return I.\u0275fac=function(O){return new(O||I)(s.Y36($.C),s.Y36(He.v))},I.\u0275cmp=s.Xpm({type:I,selectors:[["app-list-images-post"]],inputs:{images:"images"},features:[s.qOj],decls:3,vars:1,consts:[[1,"outerContainer"],[1,"containerw3","containerw3-margin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(O,A){1&O&&(s.TgZ(0,"div",0)(1,"div",1),s.YNc(2,It,2,1,"a",2),s.qZA()()),2&O&&(s.xp6(2),s.Q6J("ngForOf",A.images))},dependencies:[bt.sg],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:arial}.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:300px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:300px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}@media (max-width: 767px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:150px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:150px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:150px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}@media (max-width: 400px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:100px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:100px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}']}),I})();function Ft(I,W){if(1&I&&s.GkF(0,14),2&I){s.oxw();const O=s.MAs(17);s.Q6J("ngTemplateOutlet",O)}}function U(I,W){if(1&I&&(s.TgZ(0,"div"),s._UZ(1,"hr",10)(2,"app-news-list-comments",15),s.qZA()),2&I){const O=s.oxw();s.xp6(2),s.Q6J("isStudent",O.isStudent)("postObj",O.postObj)}}function _t(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"div",16)(1,"button",17),s.O4$(),s.TgZ(2,"svg",18),s._UZ(3,"circle",19)(4,"circle",20)(5,"circle",21),s.qZA()(),s.kcU(),s.TgZ(6,"mat-menu",22,23)(8,"div",24)(9,"ul",25)(10,"li")(11,"a",26),s.NdJ("click",function(){s.CHM(O);const F=s.oxw();return s.KtG(F.editPostEvent())}),s.O4$(),s.TgZ(12,"svg",27),s._UZ(13,"path",28)(14,"path",29),s.qZA(),s._uU(15),s.ALo(16,"mytranslate"),s.qZA()(),s.kcU(),s.TgZ(17,"li")(18,"a",30),s.NdJ("click",function(){s.CHM(O);const F=s.oxw();return s.KtG(F.deletePostEvent())}),s.O4$(),s.TgZ(19,"svg",31),s._UZ(20,"polyline",32)(21,"path",33),s.qZA(),s._uU(22),s.ALo(23,"mytranslate"),s.qZA()(),s.kcU(),s.TgZ(24,"li")(25,"label",34),s.NdJ("click",function(F){return F.stopPropagation()}),s.TgZ(26,"div",35)(27,"span",36),s._UZ(28,"lucide-icon",37),s.qZA(),s._uU(29),s.ALo(30,"mytranslate"),s.qZA(),s.TgZ(31,"div",38)(32,"input",39),s.NdJ("change",function(){s.CHM(O);const F=s.oxw();return s.KtG(F.changeLockCommentStatus())}),s.qZA()()()()()()()()}if(2&I){const O=s.MAs(7),A=s.oxw();s.xp6(1),s.Q6J("matMenuTriggerFor",O),s.xp6(14),s.hij(" ",s.lcZ(16,5,"lang_auto_sua")," "),s.xp6(7),s.hij(" ",s.lcZ(23,7,"lang_auto_xoa")," "),s.xp6(7),s.hij(" ",s.lcZ(30,9,"lang_student_comment_lock")," "),s.xp6(3),s.Q6J("formControl",A.isLockComment)}}let N=(()=>{class I extends l.Q{editPostEvent(){this.postObj.isShowEditForm=!0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}deletePostEvent(){this.sAztDialogService.open(Pe,{width:"700px",data:this.postObj,restoreFocus:!1}).afterClosed().subscribe(A=>{A&&this.changePostObjEvent.emit({actionType:e.DELETE,postObj:this.postObj})})}changeLockCommentStatus(){const O=this.isLockComment.value;this.waitDestroy((O?this.newsService.apiNewsIdLockCommentsPut:this.newsService.apiNewsIdUnlockCommentsPut).call(this.newsService,this.postObj.id).subscribe({next:()=>{const F=O?"lang_student_comment_lock":"lang_student_unlock_comments";this.postObj.isLockComment=O?1:0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj}),this.showSuccessSnack(F)},error:F=>{this.errorStatusObj(F.error.message,!0)}}))}changeEmotionEventEvent(O){this.postObj=O,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}ngOnInit(){super.ngOnInit(),this.isLockComment.setValue(!!this.postObj.isLockComment)}constructor(O,A){super(),this.sAztDialogService=O,this.newsService=A,this.changePostObjEvent=new s.vpe,this.isLockComment=new ct.NI(!1)}}return I.\u0275fac=function(O){return new(O||I)(s.Y36($.C),s.Y36(v.Yc))},I.\u0275cmp=s.Xpm({type:I,selectors:[["app-news-view-post"]],inputs:{postObj:"postObj",isStudent:"isStudent"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[s.qOj],decls:18,vars:13,consts:[[1,"flex","items-center","mb-3"],[1,"w-9","h-9","image-fit"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3"],[1,"font-medium","whitespace-nowrap"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"pb-3"],[3,"content","maxLine"],[3,"images"],[1,"mb-3"],[1,"mb-3",3,"postObj","changePostObjEvent"],[4,"ngIf"],["newsEditOrDeleteNews",""],[3,"ngTemplateOutlet"],[1,"mb-3",3,"isStudent","postObj"],[1,"ml-auto"],["data-tw-toggle","dropdown",1,"absolute","clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"top","10px","right","10px","border-radius","50%",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","news-board-5U9HMbLBxY",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","news-board-35uylGIW_W",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],["azt-track-service","view-post-HeRBfG3bI","for","commentLock",1,"dropdown-item","cursor-pointer",3,"click"],[1,"flex","items-center"],[1,"flex-none","w-4","h-4","inline-block","mr-2"],["name","lock"],[1,"form-check","form-switch","ml-auto"],["id","commentLock","type","checkbox",1,"form-check-input","ml-2",3,"formControl","change"]],template:function(O,A){if(1&O&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"azt-create-avatar",2),s.qZA(),s.TgZ(3,"div",3)(4,"a",4),s._uU(5),s.qZA(),s.TgZ(6,"div",5),s._uU(7),s.ALo(8,"relativeTime"),s.qZA()()(),s.YNc(9,Ft,1,1,"ng-container",6),s.TgZ(10,"div",7),s._UZ(11,"azt-see-more-multiple-lines",8),s.qZA(),s._UZ(12,"app-list-images-post",9)(13,"hr",10),s.TgZ(14,"app-news-emotions",11),s.NdJ("changePostObjEvent",function(wt){return A.changeEmotionEventEvent(wt)}),s.qZA(),s.YNc(15,U,3,2,"div",12),s.YNc(16,_t,33,11,"ng-template",null,13,s.W1O)),2&O){let F;s.xp6(2),s.Q6J("nameCreateAvatar",null==A.postObj.user?null:A.postObj.user.fullName)("linkAvatar",null==A.postObj.user?null:A.postObj.user.avatar)("size",36),s.xp6(3),s.hij("",null==A.postObj.user?null:A.postObj.user.fullName,"\xa0"),s.xp6(2),s.Oqu(s.lcZ(8,11,A.postObj.createdAt)),s.xp6(2),s.Q6J("ngIf",!A.isStudent),s.xp6(2),s.Q6J("content",A.postObj.content)("maxLine",0==(null!==(F=null==A.postObj.images?null:A.postObj.images.length)&&void 0!==F?F:0)?A.postObj.content.length:10),s.xp6(1),s.Q6J("images",A.postObj.images),s.xp6(2),s.Q6J("postObj",A.postObj),s.xp6(1),s.Q6J("ngIf",A.postObj.isShowCommentBox)}},dependencies:[bt.O5,bt.tP,xe.VK,xe.p6,ct.Wl,ct.JJ,ct.oH,me.g,je,ot.Nh5,Oe,Be,Ze,pt.JV,pt.Yy],encapsulation:2}),I})();function w(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"app-new-list-images",13),s.NdJ("filesChange",function(F){s.CHM(O);const wt=s.oxw();return s.KtG(wt.files=F)}),s.qZA()}if(2&I){const O=s.oxw();s.Q6J("files",O.files)}}function B(I,W){1&I&&(s.TgZ(0,"span",14),s._UZ(1,"azt-loading-ui"),s.qZA())}const k=function(I){return[I]};let Q=(()=>{class I extends l.Q{cancel(){this.postObj.isShowEditForm=!1,this.changePostObjEvent.emit(this.postObj)}saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();let O={content:this.contentFormControl.value??"",classroomId:this.postObj.id,imageLinks:this.files.map(A=>A.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsIdPut(this.postObj.id,O).subscribe({next:A=>{this.successStatusObj("lang_cms_update_success",!0);let F=[];this.files.forEach(wt=>{F.push({id:0,newsId:this.postObj?.id??0,imageLink:wt.url??"",createdAt:void 0})}),this.postObj.isShowEditForm=!1,this.postObj.content=O.content,this.postObj.images=F,this.changePostObjEvent.emit(this.postObj),this.contentFormControl.setValue(""),this.files=[]},error:A=>{this.errorStatusObj(A.error.message,!0)}}))}}handleUploadComplete(O){this.files.push(...O)}ngOnInit(){this.userObj=this.userService.getUserObj(),this.contentFormControl.setValue(this.postObj.content),(this.postObj.images??[]).forEach(O=>{this.files.push({name:"",mimes:"image/jpeg",url:O.imageLink})})}constructor(O,A,F){super(),this.newsService=O,this.userService=A,this.apiUploadService=F,this.changePostObjEvent=new s.vpe,this.contentFormControl=new ct.NI("",{nonNullable:!0,validators:[At._.noWhiteSpace]}),this.files=[],this.allUploadToCdnMenuTypes=mt.j6,this.allUploadFileTypes=mt.AZ}}return I.\u0275fac=function(O){return new(O||I)(s.Y36(v.Yc),s.Y36(dt.U),s.Y36(gt.W))},I.\u0275cmp=s.Xpm({type:I,selectors:[["app-news-edit-post"]],inputs:{classroomId:"classroomId",postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[s.qOj],decls:21,vars:23,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"relative","w-full","ml-3",2,"border-radius","5px"],["matInput","","autoResize","","row","5",1,"border-none",2,"resize","none","height","85px",3,"formControl","placeholder"],[3,"files","filesChange",4,"ngIf"],[1,"text-right","pt-1","pb-1"],[1,"flex","items-center","justify-end","sm:w-auto"],[3,"uploadToCdnMenu","fileType","uploadComplete"],[1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",1,"zoom-in",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip"],["azt-track-service","edit-post-3W8T83tTj_","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-post-NaJeb-mmLZ","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"files","filesChange"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(O,A){1&O&&(s.TgZ(0,"div")(1,"div",0),s._UZ(2,"azt-create-avatar",1),s.TgZ(3,"div",2)(4,"textarea",3),s.ALo(5,"mytranslate"),s._uU(6,"            "),s.qZA()()(),s.YNc(7,w,1,1,"app-new-list-images",4),s.TgZ(8,"div",5)(9,"div",6)(10,"azt-upload-multiple-box",7),s.NdJ("uploadComplete",function(wt){return A.handleUploadComplete(wt)}),s.TgZ(11,"span",8),s._UZ(12,"lucide-icon",9),s.ALo(13,"mytranslate"),s.qZA()(),s.TgZ(14,"button",10),s.NdJ("click",function(){return A.cancel()}),s._uU(15),s.ALo(16,"mytranslate"),s.qZA(),s.TgZ(17,"button",11),s.NdJ("click",function(){return A.saveNewPost()}),s.YNc(18,B,2,0,"span",12),s._uU(19),s.ALo(20,"mytranslate"),s.qZA()()()()),2&O&&(s.xp6(2),s.Q6J("nameCreateAvatar",A.userObj.fullName)("linkAvatar",A.userObj.avatar)("size",36),s.xp6(2),s.s9C("placeholder",s.lcZ(5,13,"lang_business_news_post_content")),s.Q6J("formControl",A.contentFormControl),s.xp6(3),s.Q6J("ngIf",A.files.length),s.xp6(3),s.Q6J("uploadToCdnMenu",A.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",s.VKq(21,k,A.allUploadFileTypes.IMAGE)),s.xp6(2),s.s9C("matTooltip",s.lcZ(13,15,"lang_core_tai_anh")),s.xp6(3),s.hij(" ",s.lcZ(16,17,"lang_cms_common_close_btn")," "),s.xp6(2),s.Q6J("disabled",""==A.contentFormControl.value||A.statusObj.loading),s.xp6(1),s.Q6J("ngIf",A.statusObj.loading),s.xp6(1),s.hij(" ",s.lcZ(20,19,"lang_business_news_update_post_button")," "))},dependencies:[bt.O5,Tt.Nt,X.gM,ct.Fj,ct.JJ,ct.oH,me.g,Ct.m,kt.n,Ot.B,ot.Nh5,xt,pt.JV],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0}"]}),I})();function V(I,W){1&I&&(s.TgZ(0,"div",3),s._UZ(1,"azt-loading-effect"),s.qZA())}function at(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"div",6)(1,"app-news-add-new-post",7),s.NdJ("changePostObjEvent",function(F){s.CHM(O);const wt=s.oxw(2);return s.KtG(wt.changePostObj(wt.enumNewsPostActionType.ADD_NEW,F))}),s.qZA()()}if(2&I){const O=s.oxw(2);s.xp6(1),s.Q6J("classroomId",O.classroomId)}}function St(I,W){if(1&I){const O=s.EpF();s.ynx(0),s.TgZ(1,"app-news-view-post",11),s.NdJ("changePostObjEvent",function(F){s.CHM(O);const wt=s.oxw(3);return s.KtG(wt.changePostObj(F.actionType,F.postObj))}),s.qZA(),s.BQk()}if(2&I){const O=s.oxw().$implicit,A=s.oxw(2);s.xp6(1),s.Q6J("isStudent",A.isStudent)("postObj",O)}}function Vt(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"app-news-edit-post",12),s.NdJ("changePostObjEvent",function(F){s.CHM(O);const wt=s.oxw(3);return s.KtG(wt.changePostObj(wt.enumNewsPostActionType.UPDATE,F))}),s.qZA()}if(2&I){const O=s.oxw().$implicit,A=s.oxw(2);s.Q6J("postObj",O)("classroomId",A.classroomId)}}function ie(I,W){if(1&I&&(s.TgZ(0,"div",8),s.YNc(1,St,2,2,"ng-container",9),s.YNc(2,Vt,1,2,"ng-template",null,10,s.W1O),s.qZA()),2&I){const O=W.$implicit,A=s.MAs(3);s.xp6(1),s.Q6J("ngIf",!O.isShowEditForm)("ngIfElse",A)}}function Mt(I,W){1&I&&(s.TgZ(0,"div",6)(1,"div",13)(2,"div",14),s.O4$(),s.TgZ(3,"svg",15),s._UZ(4,"path",16)(5,"path",17)(6,"path",18)(7,"path",19)(8,"path",20)(9,"path",21),s.qZA(),s.kcU(),s.TgZ(10,"p",22),s._uU(11),s.ALo(12,"mytranslate"),s.qZA()()()()),2&I&&(s.xp6(11),s.Oqu(s.lcZ(12,1,"lang_student_news_there_is_no_news")+"!"))}function ne(I,W){1&I&&(s.TgZ(0,"span",26),s._UZ(1,"azt-loading-ui"),s.qZA())}function Ge(I,W){if(1&I){const O=s.EpF();s.TgZ(0,"button",27),s.NdJ("click",function(){s.CHM(O);const F=s.oxw(3);return s.KtG(F.getNextPage())}),s.ALo(1,"mytranslate"),s.O4$(),s.TgZ(2,"svg",28),s._UZ(3,"polyline",29),s.qZA()()}2&I&&s.s9C("matTooltip",s.lcZ(1,1,"lang_auto_hien_ban_ghi_cu_hon"))}function fn(I,W){if(1&I&&(s.TgZ(0,"div",6)(1,"div",23),s.YNc(2,ne,2,0,"span",24),s.YNc(3,Ge,4,3,"ng-template",null,25,s.W1O),s.qZA()()),2&I){const O=s.MAs(4),A=s.oxw(2);s.xp6(2),s.Q6J("ngIf",A.sAztNextPaginationService.isLoadingNextPage)("ngIfElse",O)}}function ae(I,W){if(1&I&&(s.YNc(0,at,2,1,"div",4),s.YNc(1,ie,4,2,"div",5),s.YNc(2,Mt,13,3,"div",4),s.YNc(3,fn,5,2,"div",4)),2&I){const O=s.oxw();s.Q6J("ngIf",!O.isStudent),s.xp6(1),s.Q6J("ngForOf",O.postObjs),s.xp6(1),s.Q6J("ngIf",O.postObjs.length<=0),s.xp6(1),s.Q6J("ngIf",O.postObjs.length&&O.sAztNextPaginationService.hasNextPage)}}let xn=(()=>{class I extends l.Q{changePostObj(O,A){switch(O){case e.ADD_NEW:this.postObjs.unshift(A);break;case e.UPDATE:this.postObjs=this.postObjs.map(F=>F.id==A.id?A:F);break;case e.DELETE:this.postObjs=this.postObjs.filter(F=>F.id!=A.id)}}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(O){var A={size:this.sAztNextPaginationService.itemPerPage,page:this.sAztNextPaginationService.curPage,classroomId:this.classroomId,student:this.isStudent};O?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsListPost(A).subscribe({next:F=>{let wt={page:1,size:-1,newsIds:F.list.map(se=>se.id).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsEmotionsListPost(wt).subscribe({next:se=>{let vn=this.commonService.arrayToUniqueDictionary(se.list??[],Ve=>Ve.newsId.toString());F.list.forEach(Ve=>{this.postObjs.push({...Ve,hasLoveEmotion:vn.hasOwnProperty(Ve.id),isShowEditForm:!1,isShowCommentBox:!1})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(F.total),this.stopStatusObj()},error:se=>{this.errorStatusObj(se.error.message,!0)}}))},error:F=>{this.errorStatusObj(F.error.message,!0)}}))}getDataFirstTime(){this.postObjs=[],this.sAztNextPaginationService.resetToFirstPage(),this.getData(!1)}ngOnChanges(){this.getDataFirstTime()}ngOnInit(){super.ngOnInit()}constructor(O,A,F){super(),this.newsService=O,this.activeRoute=A,this.sAztNextPaginationService=F,this.postObjs=[],this.enumNewsPostActionType=e}}return I.\u0275fac=function(O){return new(O||I)(s.Y36(v.Yc),s.Y36(t.gz),s.Y36(st.S))},I.\u0275cmp=s.Xpm({type:I,selectors:[["app-news-board"]],inputs:{isStudent:"isStudent",classroomId:"classroomId"},features:[s._Bn([st.S]),s.qOj,s.TTD],decls:4,vars:2,consts:[[1,"grid","grid-cols-12"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start mb-3",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start box p-3 mb-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","mb-3"],[3,"classroomId","changePostObjEvent"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","box","p-3","mb-3"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"isStudent","postObj","changePostObjEvent"],[3,"postObj","classroomId","changePostObjEvent"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","87","height","102","viewBox","0 0 87 102","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M66.6719 13.9999L75.9738 81.8427L76.8095 88.649C77.0787 90.8417 75.5194 92.8374 73.3268 93.1066L14.7665 100.297C12.5739 100.566 10.5781 99.0069 10.3089 96.8142L1.29312 23.3867C1.1585 22.2904 1.93813 21.2925 3.03447 21.1579C3.0414 21.157 3.04832 21.1562 3.05526 21.1554L7.91363 20.6104M11.8422 20.1698L16.4292 19.6552L11.8422 20.1698Z","fill","white"],["d","M67.9103 13.8302C67.8165 13.1462 67.186 12.6678 66.5021 12.7615C65.8181 12.8553 65.3397 13.4858 65.4335 14.1697L67.9103 13.8302ZM75.9738 81.8427L77.2144 81.6903C77.2137 81.6845 77.213 81.6787 77.2122 81.6729L75.9738 81.8427ZM76.8095 88.649L78.0502 88.4967L76.8095 88.649ZM73.3268 93.1066L73.4791 94.3473L73.3268 93.1066ZM14.7665 100.297L14.9189 101.538L14.7665 100.297ZM10.3089 96.8142L11.5496 96.6619L10.3089 96.8142ZM3.05526 21.1554L3.1946 22.3976L3.05526 21.1554ZM8.05297 21.8527C8.73902 21.7757 9.23279 21.1572 9.15583 20.4711C9.07888 19.7851 8.46034 19.2913 7.77428 19.3682L8.05297 21.8527ZM11.7028 18.9276C11.0168 19.0045 10.523 19.6231 10.5999 20.3091C10.6769 20.9952 11.2954 21.4889 11.9815 21.412L11.7028 18.9276ZM16.5685 20.8974C17.2546 20.8205 17.7484 20.2019 17.6714 19.5159C17.5945 18.8298 16.9759 18.3361 16.2899 18.413L16.5685 20.8974ZM65.4335 14.1697L74.7353 82.0125L77.2122 81.6729L67.9103 13.8302L65.4335 14.1697ZM74.7331 81.995L75.5688 88.8013L78.0502 88.4967L77.2144 81.6903L74.7331 81.995ZM75.5688 88.8013C75.7539 90.3088 74.6819 91.6809 73.1744 91.866L73.4791 94.3473C76.357 93.994 78.4035 91.3745 78.0502 88.4967L75.5688 88.8013ZM73.1744 91.866L14.6142 99.0563L14.9189 101.538L73.4791 94.3473L73.1744 91.866ZM14.6142 99.0563C13.1067 99.2414 11.7347 98.1694 11.5496 96.6619L9.0682 96.9666C9.42156 99.8445 12.041 101.891 14.9189 101.538L14.6142 99.0563ZM11.5496 96.6619L2.5338 23.2344L0.0524334 23.539L9.0682 96.9666L11.5496 96.6619ZM2.5338 23.2344C2.48332 22.8232 2.77568 22.449 3.18681 22.3986L2.88213 19.9172C1.10059 20.1359 -0.166313 21.7575 0.0524334 23.539L2.5338 23.2344ZM3.18681 22.3986C3.1894 22.3982 3.192 22.3979 3.1946 22.3976L2.91592 19.9132C2.90465 19.9145 2.89339 19.9158 2.88213 19.9172L3.18681 22.3986ZM3.1946 22.3976L8.05297 21.8527L7.77428 19.3682L2.91592 19.9132L3.1946 22.3976ZM11.9815 21.412L16.5685 20.8974L16.2899 18.413L11.7028 18.9276L11.9815 21.412Z","fill","#1F64E7"],["fill-rule","evenodd","clip-rule","evenodd","d","M64.14 18.2692L72.5596 79.7529L73.3169 85.9212C73.5609 87.9083 72.1669 89.7146 70.2033 89.9557L17.7613 96.3948C15.7978 96.6359 14.0082 95.2204 13.7642 93.2333L5.61416 26.8568C5.47955 25.7605 6.25918 24.7626 7.35551 24.628L13.8431 23.8314","fill","#E8F0FE"],["d","M20.9219 4C20.9219 2.48122 22.1531 1.25 23.6719 1.25H69.2286C69.9577 1.25 70.6569 1.5395 71.1726 2.05485L84.6158 15.4898C85.1319 16.0056 85.4219 16.7053 85.4219 17.4349V80C85.4219 81.5188 84.1907 82.75 82.6719 82.75H23.6719C22.1531 82.75 20.9219 81.5188 20.9219 80V4Z","fill","white","stroke","#1F64E7","stroke-width","2.5"],["d","M69.6719 2.40283V14C69.6719 15.6569 71.015 17 72.6719 17H80.6055","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M31 17H57M31 29H74M31 42H74M31 55H74M31 68H57","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"],[1,"flex","justify-center"],["class","w-4 h-4 inline-block mr-2",4,"ngIf","ngIfElse"],["doneLoadNextPage",""],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","trash-homework-tab-C69nk6waYbG",1,"btn","btn-transparent",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(O,A){if(1&O&&(s.TgZ(0,"div",0),s.YNc(1,V,2,0,"div",1),s.YNc(2,ae,4,4,"ng-template",null,2,s.W1O),s.qZA()),2&O){const F=s.MAs(3);s.xp6(1),s.Q6J("ngIf",A.statusObj.loading)("ngIfElse",F)}},dependencies:[bt.sg,bt.O5,X.gM,n.l,kt.n,Xt,N,Q,pt.JV],encapsulation:2}),I})()},9345:(Ke,Yt,x)=>{x.d(Yt,{u:()=>Ot});var st=x(56223),l=x(72164),e=x(76359),s=x(47180),v=x(65879),t=x(75470),bt=x(58737),X=x(96814),n=x(19347);function kt(ot,D){1&ot&&(v.TgZ(0,"div",11)(1,"span",12),v._UZ(2,"azt-loading-ui"),v.qZA()())}function ct(ot,D){if(1&ot&&(v.TgZ(0,"span"),v._uU(1),v.ALo(2,"mytranslate"),v.qZA()),2&ot){const $=v.oxw(2);v.xp6(1),v.Oqu(" ("+$.dataUpgradeClass.length+" "+v.lcZ(2,1,"lang_testbank_test_list_classes")+")")}}function At(ot,D){1&ot&&(v.TgZ(0,"div",25),v._uU(1),v.ALo(2,"mytranslate"),v.qZA()),2&ot&&(v.xp6(1),v.hij("",v.lcZ(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_class_click_choose"),"."))}function mt(ot,D){if(1&ot){const $=v.EpF();v.TgZ(0,"input",38),v.NdJ("keyup",function(){v.CHM($);const xt=v.oxw().index,pt=v.oxw(2);return v.KtG(pt.validateInput(xt))}),v.ALo(1,"mytranslate"),v.qZA()}if(2&ot){const $=v.oxw(),xt=$.$implicit;v.MGl("id","input-event-",$.index,""),v.s9C("value",xt.nameClass),v.s9C("placeholder",v.lcZ(1,3,"lang_auto_nhap_ten_lop"))}}function dt(ot,D){if(1&ot){const $=v.EpF();v.TgZ(0,"textarea",39),v.NdJ("keyup",function(){v.CHM($);const xt=v.oxw().index,pt=v.oxw(2);return v.KtG(pt.validateInput(xt))}),v.ALo(1,"mytranslate"),v.qZA()}if(2&ot){const $=v.oxw(),xt=$.$implicit;v.MGl("id","input-event-",$.index,""),v.s9C("value",xt.nameClass),v.s9C("placeholder",v.lcZ(1,3,"lang_auto_nhap_ten_lop"))}}function gt(ot,D){if(1&ot){const $=v.EpF();v.TgZ(0,"div",26)(1,"div",27)(2,"div",28),v.YNc(3,mt,2,5,"input",29),v.YNc(4,dt,2,5,"textarea",30),v.qZA(),v.TgZ(5,"div",31)(6,"button",32),v.NdJ("click",function(){const pt=v.CHM($).$implicit,Pt=v.oxw(2);return v.KtG(Pt.clearInput(pt.id))}),v.O4$(),v.TgZ(7,"svg",33),v._UZ(8,"line",34)(9,"line",35),v.qZA()()()(),v.kcU(),v.TgZ(10,"div",36,37),v._uU(12),v.ALo(13,"mytranslate"),v.qZA()()}if(2&ot){const $=D.index,lt=v.oxw(2);v.xp6(3),v.Q6J("ngIf",0==lt.isMobile),v.xp6(1),v.Q6J("ngIf",1==lt.isMobile),v.xp6(6),v.MGl("id","logerror",$,""),v.xp6(2),v.hij(" ",v.lcZ(13,4,"lang_student_classroom_list_utils_create_class_new_course_choose_class_dont_class_null"),". ")}}function Tt(ot,D){if(1&ot){const $=v.EpF();v.TgZ(0,"form",13)(1,"div",14)(2,"div",15)(3,"azt-list-classroom-checkbox-new",16),v.NdJ("changeCheckboxEvent",function(){v.CHM($);const xt=v.oxw();return v.KtG(xt.changeCheckboxEvent())}),v.qZA()(),v.TgZ(4,"div",17)(5,"div",18),v._uU(6),v.ALo(7,"mytranslate"),v.YNc(8,ct,3,3,"span",19),v.qZA(),v.TgZ(9,"div",20)(10,"ng-scrollbar",21),v.YNc(11,At,3,3,"div",22),v.TgZ(12,"div",23),v.YNc(13,gt,14,6,"div",24),v.qZA()()()()()()}if(2&ot){const $=v.oxw();v.Q6J("formGroup",$.form),v.xp6(3),v.Q6J("form",$.form)("classroomGroupData",$.classroomWithGroup)("permissionName",$.permissionTypes.classroom)("defaultCssClass","classroom-box-in-dialog"),v.xp6(3),v.hij(" ",v.lcZ(7,11,"lang_student_classroom_list_utils_create_class_new_course_choose_class_respective_class")," "),v.xp6(2),v.Q6J("ngIf",$.dataUpgradeClass.length),v.xp6(2),v.Q6J("visibility","hover")("autoHeightDisabled",!0),v.xp6(1),v.Q6J("ngIf",0==$.dataUpgradeClass.length),v.xp6(2),v.Q6J("ngForOf",$.dataUpgradeClass)}}function Ct(ot,D){1&ot&&(v.TgZ(0,"span",40),v._UZ(1,"azt-loading-ui"),v.qZA())}let Ot=(()=>{class ot extends l.e{closeDialog(){this.dialogRef.close()}validateInput($){let lt=document.getElementById("input-event-"+$),xt=lt?lt.value:"";if(""==xt){let pt=document.getElementById("logerror"+$);pt&&(pt.style.display="block")}if(""!=xt){let pt=document.getElementById("logerror"+$);pt&&(pt.style.display="none")}}handleUpgrade(){if(0!=this.dataUpgradeClass.length){let $=!0;this.sendDataUpgradeClass=[];for(let lt=0;lt<this.dataUpgradeClass.length;lt++){let xt=document.getElementById("input-event-"+lt),pt=xt?xt.value:"";""==pt&&($=!1),this.validateInput(lt),this.sendDataUpgradeClass.push({oldId:this.dataUpgradeClass[lt].id,newName:pt,year:this.increaseYear(this.dataUpgradeClass[lt].year)})}1==$&&this.upgradeClassroomGroup()}else this.viewErrorSelected=!1}increaseYear($){if(null!=$||null!=$){let lt=$.split(" ")[0],xt=parseInt(lt,10)+1;return xt+" - "+(xt+1)}}changeCheckboxEvent(){const $=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray),lt=$.concat(this.dataUpgradeClass.map(pt=>pt.id??0));let xt=lt.filter(pt=>lt.indexOf(pt)===lt.lastIndexOf(pt));$.length>this.dataUpgradeClass.length?this.dataUpgradeClass=this.dataUpgradeClass.concat(this.classroomObjs.filter(pt=>xt.includes(pt.id??0)).map(pt=>{let Xt,Pt=pt.name,ht=pt.year,$t=Pt?.match(/\d+/g);if(null==$t)Xt=Pt;else{let Kt=parseInt($t[0].toString(),10)+1;Xt=Pt?.replace($t[0],Kt.toString())}return{id:pt.id,nameClass:Xt,year:ht}})):xt.forEach(pt=>{this.dataUpgradeClass.splice(this.dataUpgradeClass.findIndex(Pt=>Pt.id===pt),1)})}clearInput($){setTimeout(()=>{document.getElementById("azt-checkbox-item-"+$)?.click()},0)}upgradeClassroomGroup(){this.initStatusObj();for(var $=[],lt=0;lt<this.sendDataUpgradeClass.length;lt++)$.push({oldId:this.sendDataUpgradeClass[lt].oldId??0,newName:this.sendDataUpgradeClass[lt].newName??"",year:this.sendDataUpgradeClass[lt].year??""});this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpgradeClassroomPost($).subscribe(xt=>{1==xt.success?(xt.data?.isDuplicatedClassroomName?this.errorStatusObj(xt.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(),this.errorStatusObj("lang_auto_tao_lop_cho_khoa_moi_khong_thanh_cong",!0))}))}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe($=>{$.success?(this.classroomWithGroup=$.data?.activeClassroomData??[],this.classroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroup.map(lt=>lt.classroomObjs)),this.successStatusObj()):this.errorStatusObj($.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getClassroomObjs(),super.ngOnInit()}constructor($,lt,xt,pt){super(void 0,pt),this.classroomGroupService=$,this.sAztClassroomCheckboxService=lt,this.location=xt,this.dialogRef=pt,this.classroomObjs=[],this.dataUpgradeClass=[],this.sendDataUpgradeClass=[],this.selectedAll=!1,this.viewErrorSelected=!0,this.isMobile=this.commonService.isMobileOrTable(),this.permissionTypes=e.y,this.classroomWithGroup=[],this.form=new st.cw({classroomFormArray:new st.Oe([]),whoAllow:new st.NI(0,{nonNullable:!0})},{validators:[s.h.classroomInGroupCheckBoxValidatorWithoutWhoAllow]})}}return ot.\u0275fac=function($){return new($||ot)(v.Y36(t.c8),v.Y36(bt.f),v.Y36(X.Ye),v.Y36(n.so,8))},ot.\u0275cmp=v.Xpm({type:ot,selectors:[["app-create-class-new-course"]],features:[v.qOj],decls:20,vars:16,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"font-medium","text-base"],[1,"leading-relaxed","text-slate-500","text-xs"],["class","flex items-center h-full",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","flex","justify-end"],["azt-track-service","create-classroom-new-course-dialog-k_ZG3G-AAS",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","create-classroom-new-course-dialog-OvOUaKHkJOv",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex","items-center","h-full"],[1,"w-6","h-6","inline-block","mx-auto"],[3,"formGroup"],[1,"p-3","pt-0"],[1,"azt-list-classroom"],[3,"form","classroomGroupData","permissionName","defaultCssClass","changeCheckboxEvent"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3","font-medium"],[4,"ngIf"],[2,"height","150px"],["track","vertical","pointerEventsMethod","scrollbar",1,"w-full",3,"visibility","autoHeightDisabled"],["style","height: 130px","class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-2","p-2"],["class","col-span-12 md:col-span-6 2xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center",2,"height","130px"],[1,"col-span-12","md:col-span-6","2xl:col-span-4"],[1,"flex","items-center","p-1","rounded"],[1,"col-span-10",2,"width","100%"],["class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],["class","text-area-form","rows","2","wrap","soft","class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],[1,"col-span-2","m-0","p-1","text-center"],["azt-track-service","create-classroom-new-course-dialog-NjCJ7r_T8U",1,"btn","btn-sm","btn-secondary","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"alert","alert-danger","mt-1",2,"margin","auto","padding","5px 10px","display","none",3,"id"],["ab",""],["type","text",1,"form-control",3,"id","value","placeholder","keyup"],["rows","2","wrap","soft","type","text",1,"form-control",3,"id","value","placeholder","keyup"],[1,"w-4","h-4","inline-block","mr-2"]],template:function($,lt){if(1&$&&(v.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),v._uU(4),v.ALo(5,"mytranslate"),v.qZA(),v.TgZ(6,"div",4),v._uU(7),v.ALo(8,"mytranslate"),v.qZA()(),v.YNc(9,kt,3,0,"div",5),v.YNc(10,Tt,14,13,"ng-template",null,6,v.W1O),v.qZA(),v.TgZ(12,"div",7)(13,"button",8),v.NdJ("click",function(){return lt.closeDialog()}),v._uU(14),v.ALo(15,"mytranslate"),v.qZA(),v.TgZ(16,"button",9),v.NdJ("click",function(){return lt.handleUpgrade()}),v.YNc(17,Ct,2,0,"span",10),v._uU(18),v.ALo(19,"mytranslate"),v.qZA()()()),2&$){const xt=v.MAs(11);v.xp6(4),v.hij(" ",v.lcZ(5,8,"lang_student_classroom_list_create_class_new_cousre")," "),v.xp6(3),v.Oqu(v.lcZ(8,10,"lang_student_classroom_list_utils_create_class_new_course_conten_review")),v.xp6(2),v.Q6J("ngIf",lt.statusObj.loading)("ngIfElse",xt),v.xp6(5),v.hij(" ",v.lcZ(15,12,"lang_button_cancel")," "),v.xp6(2),v.Q6J("disabled",lt.form.invalid),v.xp6(1),v.Q6J("ngIf",lt.statusObj.loading),v.xp6(1),v.hij(" ",v.lcZ(19,14,"lang_button_save")," ")}},encapsulation:2}),ot})()},3890:(Ke,Yt,x)=>{x.d(Yt,{v:()=>ri});var st=x(21266),l=x(82481),e=x(71026),s=x(52572),v=x(47496),t=x(65879),bt=x(78820),X=x(96814),n=x(98129),kt=x(37722),ct=x(94767),At=x(8633),mt=x(63278),dt=x(71518),gt=x(43389),Tt=x(71646),Ct=x(25368),Ot=x(92596),ot=x(93523),D=x(36727);function $(c,b){1&c&&(t._UZ(0,"lucide-icon",11),t.ALo(1,"mytranslate")),2&c&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_published"))}function lt(c,b){1&c&&(t._UZ(0,"lucide-icon",12),t.ALo(1,"mytranslate")),2&c&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_Unpublished"))}function xt(c,b){if(1&c&&(t.TgZ(0,"div")(1,"div",8),t.YNc(2,$,2,3,"lucide-icon",9),t.YNc(3,lt,2,3,"lucide-icon",10),t.qZA()()),2&c){const i=t.oxw();t.xp6(2),t.Q6J("ngIf",1==i.document.homework.isPublished),t.xp6(1),t.Q6J("ngIf",1!=i.document.homework.isPublished)}}function pt(c,b){1&c&&(t._UZ(0,"lucide-icon",15),t.ALo(1,"mytranslate")),2&c&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_published"))}function Pt(c,b){1&c&&(t._UZ(0,"lucide-icon",12),t.ALo(1,"mytranslate")),2&c&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_Unpublished"))}function ht(c,b){if(1&c&&(t.TgZ(0,"div",13),t.YNc(1,pt,2,3,"lucide-icon",14),t.YNc(2,Pt,2,3,"lucide-icon",10),t.qZA()),2&c){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",1==(null==i.document.exam?null:i.document.exam.isPublished)),t.xp6(1),t.Q6J("ngIf",1!=(null==i.document.exam?null:i.document.exam.isPublished))}}function $t(c,b){if(1&c&&(t.TgZ(0,"div",16)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&c){const i=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_luot_lam")+": "+i.document.exam.attended)}}function Xt(c,b){if(1&c&&(t.TgZ(0,"div",16)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&c){const i=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_da_nop")+": "+i.document.homework.count+"/"+i.document.homework.totalStudent)}}const Kt=function(c){return{"mt-3":c}};let we=(()=>{class c extends v.Q{}return c.\u0275fac=function(){let b;return function(_){return(b||(b=t.n5z(c)))(_||c)}}(),c.\u0275cmp=t.Xpm({type:c,selectors:[["exam-exercises-block"]],inputs:{document:"document",index:"index"},features:[t.qOj],decls:11,vars:11,consts:[[1,"flex","items-center","cursor-pointer","hover:bg-slate-100","rounded-md","p-2",2,"text-align","left","border","none","box-shadow","none",3,"ngClass"],[1,"flex-none","image-fit","rounded-md","overflow-hidden"],[4,"ngIf","ngIfElse"],["ExamIcon",""],[1,"ml-4","mr-auto","w-2/3"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-500 text-xs mt-0.5 font-medium",4,"ngIf"],[1,"w-12","h-12","text-primary"],["name","file-text","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-text","matTooltipShowDelay","1000",3,"matTooltip"],["name","file","matTooltipShowDelay","1000",3,"matTooltip"],[1,"w-12","h-12","text-pending"],["name","file-check","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-check","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5","font-medium"]],template:function(i,_){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,xt,4,2,"div",2),t.YNc(3,ht,3,2,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(5,"div",4)(6,"div",5,6),t._uU(8),t.qZA(),t.YNc(9,$t,4,3,"div",7),t.YNc(10,Xt,4,3,"div",7),t.qZA()()),2&i){const p=t.MAs(4),Z=t.MAs(7);t.Q6J("ngClass",t.VKq(9,Kt,0!==_.index)),t.xp6(2),t.Q6J("ngIf",_.document.homework)("ngIfElse",p),t.xp6(4),t.s9C("matTooltip",_.document.exam?_.document.exam.name:null==_.document.homework?null:_.document.homework.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",Z.isDisabled),t.xp6(2),t.hij(" ",_.document.exam?_.document.exam.name:null==_.document.homework?null:_.document.homework.name," "),t.xp6(1),t.Q6J("ngIf",_.document.exam),t.xp6(1),t.Q6J("ngIf",_.document.homework)}},dependencies:[X.mk,X.O5,Ot.gM,ot.Q,kt.Nh5,D.JV],encapsulation:2}),c})();function Ae(c,b){1&c&&t._UZ(0,"azt-loading-effect")}function Se(c,b){1&c&&(t.TgZ(0,"h2",16),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_list_of_assigned_assignments")))}function Pe(c,b){1&c&&(t.TgZ(0,"h2",16),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_search_results")))}function xe(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(2);return t.KtG(p.backToDocumentList())}),t.TgZ(1,"span",18),t._UZ(2,"lucide-icon",19),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&c&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_auto_quay_lai")))}function me(c,b){1&c&&t._UZ(0,"azt-loading-effect")}const he=function(c){return[c]},_e=function(c){return{backto:c}};function Ue(c,b){if(1&c&&(t.TgZ(0,"a",35),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",36),t.qZA()),2&c){const i=t.oxw(2),_=i.$implicit,p=i.index,Z=t.oxw(6);t.Q6J("routerLink",t.VKq(6,he,t.lcZ(1,4,"/admin/testbank/homework-results-list/"+_.homework.classroomId+"/"+_.homework.id+"/"+_.homework.hashId)))("queryParams",t.VKq(8,_e,"/admin/student/classroom-details/"+Z.classroomId+"/1")),t.xp6(2),t.Q6J("document",_)("index",p)}}function Ie(c,b){if(1&c&&(t.TgZ(0,"a",37),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",36),t.qZA()),2&c){const i=t.oxw(2),_=i.$implicit,p=i.index,Z=t.oxw(6);t.Q6J("routerLink",t.VKq(6,he,t.lcZ(1,4,"/bai-tap/"+_.homework.hashId)))("queryParams",t.VKq(8,_e,"/student/classroom-details/"+Z.classroomId+"/1")),t.xp6(2),t.Q6J("document",_)("index",p)}}function Me(c,b){if(1&c&&(t.ynx(0),t.YNc(1,Ue,3,10,"a",33),t.YNc(2,Ie,3,10,"a",34),t.BQk()),2&c){const i=t.oxw(7);t.xp6(1),t.Q6J("ngIf",!i.isStudent),t.xp6(1),t.Q6J("ngIf",i.isStudent)}}function ze(c,b){if(1&c&&(t.TgZ(0,"a",40),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",36),t.qZA()),2&c){const i=t.oxw(2),_=i.$implicit,p=i.index,Z=t.oxw(6);let J;t.Q6J("routerLink",t.VKq(6,he,t.lcZ(1,4,"/admin/testbank/exam-results-list/"+(null!==(J=null==_.exam?null:_.exam.categoryId)&&void 0!==J?J:0)+"/"+(null==_.exam?null:_.exam.id)+"/0")))("queryParams",t.VKq(8,_e,"/admin/student/classroom-details/"+Z.classroomId+"/1")),t.xp6(2),t.Q6J("document",_)("index",p)}}function oe(c,b){if(1&c&&(t.TgZ(0,"a",41),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",36),t.qZA()),2&c){const i=t.oxw(2),_=i.$implicit,p=i.index,Z=t.oxw(6);t.Q6J("routerLink",t.VKq(6,he,t.lcZ(1,4,"/de-thi/"+(null==_.exam?null:_.exam.hashId))))("queryParams",t.VKq(8,_e,"/student/classroom-details/"+Z.classroomId+"/1")),t.xp6(2),t.Q6J("document",_)("index",p)}}function je(c,b){if(1&c&&(t.YNc(0,ze,3,10,"a",38),t.YNc(1,oe,3,10,"a",39)),2&c){const i=t.oxw(7);t.Q6J("ngIf",!i.isStudent),t.xp6(1),t.Q6J("ngIf",i.isStudent)}}function de(c,b){if(1&c&&(t.TgZ(0,"div",31),t.YNc(1,Me,3,2,"ng-container",0),t.YNc(2,je,2,2,"ng-template",null,32,t.W1O),t.qZA()),2&c){const i=b.$implicit,_=t.MAs(3);t.xp6(1),t.Q6J("ngIf",i.homework)("ngIfElse",_)}}function Fe(c,b){if(1&c&&(t.TgZ(0,"div",29),t.YNc(1,de,4,2,"div",30),t.qZA()),2&c){const i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",i.documentList)}}function Ne(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div")(1,"div")(2,"button",24),t.NdJ("click",function(){const Z=t.CHM(i).$implicit;return t.KtG(Z.isExpand=!Z.isExpand)}),t.TgZ(3,"span",25),t._UZ(4,"lucide-icon",26),t.qZA(),t.TgZ(5,"span",27),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"getDayOfWeek"),t.ALo(9,"mytranslate"),t.ALo(10,"formatOnlyDateByUserUnitPipe"),t.qZA()()(),t.YNc(11,Fe,2,1,"div",28),t.qZA()}if(2&c){const i=b.$implicit;t.xp6(4),t.s9C("name",i.isExpand?"chevron-down":"chevron-right"),t.xp6(2),t.Oqu(t.lcZ(7,3,t.lcZ(8,5,i.assignmentDate))+", "+t.lcZ(9,7,"lang_testbank_powerpoint_date")+" "+t.lcZ(10,9,i.assignmentDate)),t.xp6(5),t.Q6J("ngIf",i.isExpand)}}function We(c,b){1&c&&(t.TgZ(0,"span",45),t._UZ(1,"azt-loading-ui"),t.qZA())}function Je(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",42)(1,"span",43),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(4);return t.KtG(!p.sAztNextPaginationService.isLoadingNextPage&&p.getNextPage())}),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,We,2,0,"span",44),t.qZA()()}if(2&c){const i=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_business_document_get_more_documents")," "),t.xp6(2),t.Q6J("ngIf",i.sAztNextPaginationService.isLoadingNextPage)}}function te(c,b){if(1&c&&(t.ynx(0),t.YNc(1,Ne,12,11,"div",22),t.YNc(2,Je,5,4,"div",23),t.BQk()),2&c){const i=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",i.listGroupDocumentObjs),t.xp6(1),t.Q6J("ngIf",i.sAztNextPaginationService.hasNextPage)}}function qe(c,b){1&c&&(t.TgZ(0,"div",46)(1,"div",47),t.O4$(),t.TgZ(2,"svg",48),t._UZ(3,"path",49)(4,"path",50)(5,"path",51)(6,"path",52)(7,"path",53)(8,"path",54),t.qZA(),t.kcU(),t.TgZ(9,"p",55),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()),2&c&&(t.xp6(10),t.Oqu(t.lcZ(11,1,"lang_student_there_are_no_exercises_or_tests_yet")+"!"))}function Xe(c,b){if(1&c&&(t.TgZ(0,"div",20),t.YNc(1,te,3,2,"ng-container",0),t.YNc(2,qe,12,3,"ng-template",null,21,t.W1O),t.qZA()),2&c){const i=t.MAs(3),_=t.oxw(2);t.xp6(1),t.Q6J("ngIf",_.listGroupDocumentObjs.length>0)("ngIfElse",i)}}function Qe(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"azt-search-box",6),t.NdJ("onSearch",function(p){t.CHM(i);const Z=t.oxw();return t.KtG(Z.searchDocumentObjs(p.searchObj))}),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",7)(7,"button",8),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.openEditor())}),t.TgZ(8,"span",9),t._UZ(9,"lucide-icon",10),t.qZA(),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()(),t.TgZ(12,"div",11),t.YNc(13,Se,3,3,"h2",12),t.YNc(14,Pe,3,3,"h2",12),t.YNc(15,xe,6,3,"button",13),t.qZA(),t.TgZ(16,"div",14),t.YNc(17,me,1,0,"azt-loading-effect",0),t.qZA(),t.YNc(18,Xe,4,2,"ng-template",null,15,t.W1O),t.qZA()}if(2&c){const i=t.MAs(19),_=t.oxw();t.xp6(4),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(5,9,"lang_auto_tim_kiem"))("searchContentObj",_.searchContentObj),t.xp6(6),t.hij(" ",t.lcZ(11,11,"lang_student_new_assignment")," "),t.xp6(3),t.Q6J("ngIf",!_.isShowSearchResult),t.xp6(1),t.Q6J("ngIf",_.isShowSearchResult),t.xp6(1),t.Q6J("ngIf",_.isShowSearchResult),t.xp6(2),t.Q6J("ngIf",_.searchContentObj.isLoading)("ngIfElse",i)}}let Ye=(()=>{class c extends v.Q{openEditor(){let i=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backto=${encodeURIComponent(i)}&classroomId=${this.classroomId}`)}backToDocumentList(){this.isShowSearchResult=!1,this.searchContentObj.searchContent="",this.getData(!1)}resetData(){this.listDocumentObjs=[]}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}searchDocumentObjs(i){this.searchContentObj=i,this.searchContentObj.setLoading(!0),this.resetData(),this.getData(!1)}getData(i){i?this.sAztNextPaginationService.setLoading(!0):this.searchContentObj.searchContent||this.initStatusObj();let _={categoryId:void 0,documentType:"file",shareType:void 0,fileType:void 0,classroomId:this.classroomId,name:this.searchContentObj.searchContent?this.searchContentObj.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:0,page:this.sAztNextPaginationService.curPage,itemPerPage:this.sAztNextPaginationService.itemPerPage};this.isShowSearchResult=!!this.searchContentObj.searchContent,this.waitDestroy(this.documentService.apiDocumentsGet(_.categoryId,_.documentType,_.shareType,_.fileType,_.classroomId,_.name,_.suggestExamPurpose,_.lite,_.getGlobal,_.page,_.itemPerPage).subscribe(p=>{p.success?(this.listDocumentObjs=this.listDocumentObjs.concat(p.data?.documentObjs??[]),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(p.data?.total??0),this.processData(this.listDocumentObjs),this.searchContentObj.setLoading(!1),this.stopStatusObj()):(this.searchContentObj.setLoading(!1),this.errorStatusObj(p.message,!0))}))}processData(i){let _=this.commonService.arrayToDictionary(i,Z=>Z.exam?new Date(Z.exam.createdAt??0).toDateString():new Date(Z?.homework?.createdAt??0).toDateString()),p=[];Object.entries(_).forEach(([Z,J],R)=>{if(J.length>0){let m=J[0];p.push({isExpand:!0,assignmentDate:m.exam?m.exam.createdAt:m.homework?.createdAt,documentList:J})}}),this.listGroupDocumentObjs=p}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getData(!1)}constructor(i,_,p){super(),this.documentService=i,this.activeRoute=_,this.sAztNextPaginationService=p,this.classroomId=0,this.listGroupDocumentObjs=[],this.listDocumentObjs=[],this.isShowSearchResult=!1,this.searchContentObj=new mt.h}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(dt.Zg),t.Y36(st.gz),t.Y36(At.S))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-exam-exercises"]],inputs:{isStudent:"isStudent"},features:[t._Bn([At.S]),t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","exam-exercises-jkv8YmKddH",1,"btn","btn-primary","text-white","shadow-md",3,"click"],[1,"w-4","h-4","mr-2"],["name","plus"],[1,"col-span-12","flex","items-center","mt-5"],["class","text-lg font-medium mr-5",4,"ngIf"],["azt-track-service","exam-exercises-TXjuRofaLz","class","btn-text-primary font-medium ml-auto",3,"click",4,"ngIf"],[1,"col-span-12","mt-5"],["doneLoadingSearch",""],[1,"text-lg","font-medium","mr-5"],["azt-track-service","exam-exercises-TXjuRofaLz",1,"btn-text-primary","font-medium","ml-auto",3,"click"],[1,"w-4","h-4","inline-block","mr-1"],["name","chevron-left"],[1,"col-span-12"],["emptyList",""],[4,"ngFor","ngForOf"],["class","mt-2 font-medium",4,"ngIf"],["azt-track-service","exam-exercises-gYn61cneD",1,"flex","items-center","py-3","pr-3","hover:text-primary",3,"click"],[1,"w-6","h-6","inline-block"],[3,"name"],[1,"font-medium","ml-3"],["class","box p-3",4,"ngIf"],[1,"box","p-3"],["class","document",4,"ngFor","ngForOf"],[1,"document"],["isExamDocument",""],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams"],[3,"document","index"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams"],[1,"mt-2","font-medium"],["azt-track-service","exam-exercises-4meI3XYSV",1,"clickable",3,"click"],["class","w-4 h-4 inline-block ml-2",4,"ngIf"],[1,"w-4","h-4","inline-block","ml-2"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","87","height","102","viewBox","0 0 87 102","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M66.6719 13.9999L75.9738 81.8427L76.8095 88.649C77.0787 90.8417 75.5194 92.8374 73.3268 93.1066L14.7665 100.297C12.5739 100.566 10.5781 99.0069 10.3089 96.8142L1.29312 23.3867C1.1585 22.2904 1.93813 21.2925 3.03447 21.1579C3.0414 21.157 3.04832 21.1562 3.05526 21.1554L7.91363 20.6104M11.8422 20.1698L16.4292 19.6552L11.8422 20.1698Z","fill","white"],["d","M67.9103 13.8302C67.8165 13.1462 67.186 12.6678 66.5021 12.7615C65.8181 12.8553 65.3397 13.4858 65.4335 14.1697L67.9103 13.8302ZM75.9738 81.8427L77.2144 81.6903C77.2137 81.6845 77.213 81.6787 77.2122 81.6729L75.9738 81.8427ZM76.8095 88.649L78.0502 88.4967L76.8095 88.649ZM73.3268 93.1066L73.4791 94.3473L73.3268 93.1066ZM14.7665 100.297L14.9189 101.538L14.7665 100.297ZM10.3089 96.8142L11.5496 96.6619L10.3089 96.8142ZM3.05526 21.1554L3.1946 22.3976L3.05526 21.1554ZM8.05297 21.8527C8.73902 21.7757 9.23279 21.1572 9.15583 20.4711C9.07888 19.7851 8.46034 19.2913 7.77428 19.3682L8.05297 21.8527ZM11.7028 18.9276C11.0168 19.0045 10.523 19.6231 10.5999 20.3091C10.6769 20.9952 11.2954 21.4889 11.9815 21.412L11.7028 18.9276ZM16.5685 20.8974C17.2546 20.8205 17.7484 20.2019 17.6714 19.5159C17.5945 18.8298 16.9759 18.3361 16.2899 18.413L16.5685 20.8974ZM65.4335 14.1697L74.7353 82.0125L77.2122 81.6729L67.9103 13.8302L65.4335 14.1697ZM74.7331 81.995L75.5688 88.8013L78.0502 88.4967L77.2144 81.6903L74.7331 81.995ZM75.5688 88.8013C75.7539 90.3088 74.6819 91.6809 73.1744 91.866L73.4791 94.3473C76.357 93.994 78.4035 91.3745 78.0502 88.4967L75.5688 88.8013ZM73.1744 91.866L14.6142 99.0563L14.9189 101.538L73.4791 94.3473L73.1744 91.866ZM14.6142 99.0563C13.1067 99.2414 11.7347 98.1694 11.5496 96.6619L9.0682 96.9666C9.42156 99.8445 12.041 101.891 14.9189 101.538L14.6142 99.0563ZM11.5496 96.6619L2.5338 23.2344L0.0524334 23.539L9.0682 96.9666L11.5496 96.6619ZM2.5338 23.2344C2.48332 22.8232 2.77568 22.449 3.18681 22.3986L2.88213 19.9172C1.10059 20.1359 -0.166313 21.7575 0.0524334 23.539L2.5338 23.2344ZM3.18681 22.3986C3.1894 22.3982 3.192 22.3979 3.1946 22.3976L2.91592 19.9132C2.90465 19.9145 2.89339 19.9158 2.88213 19.9172L3.18681 22.3986ZM3.1946 22.3976L8.05297 21.8527L7.77428 19.3682L2.91592 19.9132L3.1946 22.3976ZM11.9815 21.412L16.5685 20.8974L16.2899 18.413L11.7028 18.9276L11.9815 21.412Z","fill","#1F64E7"],["fill-rule","evenodd","clip-rule","evenodd","d","M64.14 18.2692L72.5596 79.7529L73.3169 85.9212C73.5609 87.9083 72.1669 89.7146 70.2033 89.9557L17.7613 96.3948C15.7978 96.6359 14.0082 95.2204 13.7642 93.2333L5.61416 26.8568C5.47955 25.7605 6.25918 24.7626 7.35551 24.628L13.8431 23.8314","fill","#E8F0FE"],["d","M20.9219 4C20.9219 2.48122 22.1531 1.25 23.6719 1.25H69.2286C69.9577 1.25 70.6569 1.5395 71.1726 2.05485L84.6158 15.4898C85.1319 16.0056 85.4219 16.7053 85.4219 17.4349V80C85.4219 81.5188 84.1907 82.75 82.6719 82.75H23.6719C22.1531 82.75 20.9219 81.5188 20.9219 80V4Z","fill","white","stroke","#1F64E7","stroke-width","2.5"],["d","M69.6719 2.40283V14C69.6719 15.6569 71.015 17 72.6719 17H80.6055","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M31 17H57M31 29H74M31 42H74M31 55H74M31 68H57","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"]],template:function(i,_){if(1&i&&(t.YNc(0,Ae,1,0,"azt-loading-effect",0),t.YNc(1,Qe,20,13,"ng-template",null,1,t.W1O)),2&i){const p=t.MAs(2);t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",p)}},dependencies:[st.rH,X.sg,X.O5,gt.l,Tt.n,Ct.W,kt.Nh5,we,D.Jy,D.JV,D.YK,D.WN],encapsulation:2}),c})();var tn=x(93733),en=x(3418),ue=x(86825),ut=x(56223),pe=x(65592),ve=x(44760),Gt=x(89156),zt=x(19347),Oe=x(84049),ee=x(72164),ye=x(97638),Le=x(23083);let Be=(()=>{class c extends ee.e{btnCloseDialog(){this.dialogRef.close(!1)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(i=>1==i.selected)}saveData(){this.initStatusObj();var i=[];this.checkboxMonth.checkboxMonth.filter(p=>1==p.selected).forEach(p=>{i.push({month:p.month,year:p.year})}),this.waitDestroy(this.paymentService.apiPaymentPost({payments:i,studentId:this.data}).subscribe({next:p=>{this.successStatusObj("lang_cms_utils_update_folder_success",!0),this.dialogRef.close(!0)},error:p=>{this.errorStatusObj(p.error.message,!0)}}))}constructor(i,_,p){super(p,_),this.paymentService=i,this.dialogRef=_,this.data=p,this.checkboxMonth=new Oe.$,this.checkboxMonth.studentId=p}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(ye.t),t.Y36(zt.so,8),t.Y36(zt.WI,8))},c.\u0275cmp=t.Xpm({type:c,selectors:[["azt-dialog-checkbox-month"]],features:[t.qOj],decls:11,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[3,"checkboxMonth"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-primary",3,"disabled","click"]],template:function(i,_){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"azt-checkbox-month",3),t.qZA()(),t.TgZ(4,"div",4)(5,"button",5),t.NdJ("click",function(){return _.btnCloseDialog()}),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return _.saveData()}),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("checkboxMonth",_.checkboxMonth),t.xp6(3),t.hij(" ",t.lcZ(7,4,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",!_.isSelectedMonth()||_.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(10,6,"lang_business_news_update_post_button")," "))},dependencies:[Le.$,D.JV],encapsulation:2}),c})();var He=x(97694),It=x(29023),Ze=x(23680),Ft=x(64170),U=x(44683),_t=x(13217),N=x(84003),w=x(25804),B=x(63120),k=x(20553),Q=x(97151),V=x(4021),at=x(74104),St=x(78497),Vt=x(28079),ie=x(4844),Mt=x(19127),ne=x(95545);const Ge=["fileSelect"];function fn(c,b){if(1&c&&(t.TgZ(0,"span",27),t._uU(1),t.qZA()),2&c){const i=t.oxw().$implicit;t.xp6(1),t.Oqu((null==i.cellData?null:i.cellData.fullName)+": ")}}function ae(c,b){if(1&c&&(t.TgZ(0,"span",28),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&c){const i=b.$implicit,_=b.index,p=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,i.errorMessage)+(_===p.errors.length-1?" ("+t.lcZ(3,3,"lang_auto_line")+" "+p.row+")":", ")," ")}}function xn(c,b){if(1&c&&(t.TgZ(0,"div",24),t.YNc(1,fn,2,1,"span",25),t.YNc(2,ae,4,5,"span",26),t.qZA()),2&c){const i=b.$implicit;t.xp6(1),t.Q6J("ngIf",null==i.cellData?null:i.cellData.fullName),t.xp6(1),t.Q6J("ngForOf",i.errors)}}function I(c,b){if(1&c&&(t.TgZ(0,"div",19)(1,"div",20),t._uU(2),t.qZA(),t.TgZ(3,"div",21)(4,"ng-scrollbar",22),t.YNc(5,xn,3,2,"div",23),t.qZA()()()),2&c){const i=t.oxw(2);t.xp6(2),t.Oqu("T\u1ed5ng s\u1ed1 l\u1ed7i: "+i.errorImportFile.length),t.xp6(2),t.Q6J("visibility","hover")("autoHeightDisabled",!1),t.xp6(1),t.Q6J("ngForOf",i.errorImportFile)}}const W=function(c){return[c]};function O(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",29)(1,"azt-upload-single-document-to-editor",30),t.NdJ("emitFiles",function(p){t.CHM(i);const Z=t.oxw(2);return t.KtG(Z.handleUploadComplete(p))}),t.TgZ(2,"div",31)(3,"div",32)(4,"span",33),t._UZ(5,"lucide-icon",34),t.qZA(),t.TgZ(6,"span",35),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()()}if(2&c){const i=t.oxw(2);t.xp6(1),t.Q6J("fileType",t.VKq(7,W,i.allUploadFileTypes.EXCEL)),t.xp6(6),t.hij(" ",t.lcZ(8,3,"lang_auto_keo_tha_file_excel")," "),t.xp6(2),t.hij(" ",t.lcZ(10,5,"lang_auto_hoc_click_de_chon_file")," ")}}function A(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"div",40)(5,"div",41),t._UZ(6,"img",42),t.ALo(7,"convertCdnLinkOfGitHub"),t.qZA(),t.TgZ(8,"div",43)(9,"p",44,45),t._uU(11),t.qZA(),t.TgZ(12,"div",46),t._uU(13),t.qZA()(),t.TgZ(14,"div",47)(15,"button",48),t.NdJ("click",function(p){t.CHM(i);const Z=t.oxw(2);return t.KtG(Z.removeFile(p))}),t.ALo(16,"mytranslate"),t.TgZ(17,"span",49),t._UZ(18,"lucide-icon",50),t.qZA()()()()()()()()}if(2&c){const i=t.MAs(10),_=t.oxw(2);t.xp6(6),t.Q6J("src",t.lcZ(7,7,"images/excel.png"),t.LSH),t.xp6(3),t.s9C("matTooltip",null==_.file?null:_.file.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),t.xp6(2),t.hij(" ",_.file?_.file.name:""," "),t.xp6(2),t.hij(" ",_.fileMb+"mb"," "),t.xp6(2),t.s9C("matTooltip",t.lcZ(16,9,"lang_auto_xoa"))}}function F(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"a",51),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(2);return t.KtG(p.exportDefaultListStudent())}),t.TgZ(1,"span",52),t._UZ(2,"lucide-icon",53),t.qZA(),t.TgZ(3,"span",54),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&c&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_student_utils_download_file")," "))}function wt(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"a",51),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(2);return t.KtG(p.exportListStudent())}),t.TgZ(1,"span",52),t._UZ(2,"lucide-icon",53),t.qZA(),t.TgZ(3,"span",54),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&c&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_student_utils_export_list_student")," "))}function se(c,b){if(1&c&&(t.TgZ(0,"div",12),t.YNc(1,I,6,4,"div",13),t.TgZ(2,"div",14),t.YNc(3,O,11,9,"div",15),t.YNc(4,A,19,11,"ng-template",null,16,t.W1O),t.TgZ(6,"div",17),t.YNc(7,F,6,3,"a",18),t.YNc(8,wt,6,3,"a",18),t.qZA()()()),2&c){const i=t.MAs(5),_=t.oxw();t.xp6(1),t.Q6J("ngIf",_.errorImportFile.length),t.xp6(2),t.Q6J("ngIf",!_.file)("ngIfElse",i),t.xp6(4),t.Q6J("ngIf",0==(null==_.studentObjs?null:_.studentObjs.length)||_.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",0!=(null==_.studentObjs?null:_.studentObjs.length)&&!_.isBusinessDomain)}}function vn(c,b){if(1&c&&(t.TgZ(0,"div",58)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&c){const i=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,1,i.msgError),"!")}}function Ve(c,b){if(1&c&&(t.TgZ(0,"div",55),t._UZ(1,"azt-form-enter-info-student",56),t.YNc(2,vn,4,3,"div",57),t.qZA()),2&c){const i=t.oxw();t.xp6(1),t.Q6J("studentForm",i.studentForm),t.xp6(1),t.Q6J("ngIf",""!==i.msgError)}}function Fn(c,b){1&c&&(t.TgZ(0,"span",59),t._UZ(1,"azt-loading-ui"),t.qZA())}function Lt(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"azt-export-excel-for-student-list",60),t.NdJ("exportDataDone",function(p){t.CHM(i);const Z=t.oxw();return t.KtG(Z.exportStudentListDone(p))}),t.qZA()}if(2&c){const i=t.oxw();t.Q6J("objs",i.exportStudentObjs)}}let re=(()=>{class c extends ee.e{exportDefaultListStudent(){this.exportStudentObjs=[{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_1"),phone:"0123456789",email:"nguyenvana@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:1,birthday:new Date(2001,1,23),gender:1,classroomId:0,parentId:0,facebookLink:"https://www.facebook.com/azotavn",schoolName:"Tr\u01b0\u1eddng THPT Azota"},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_2"),phone:"0123456790",email:"phamthib@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:2,birthday:new Date(2001,5,25),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_3"),phone:"0123456791",email:"C@Gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:3,birthday:new Date(2002,5,25),gender:1,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_4"),phone:"0112348478",email:"tranthid@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:4,birthday:new Date(2002,2,23),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_5"),phone:"0123456793",email:void 0,password:this.isBusinessDomain?"aBc@123":"",identificationNumber:void 0,birthday:void 0,gender:0,classroomId:0,parentId:0}]}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.studentObjs)}exportStudentListDone(i){let _=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(i,_)}changeNameDownloadFile(i){return this.commonService.createFileNameExportFile([i])+".xlsx"}handleUploadComplete(i){this.file=i,this.fileMb=this.getFileMB(this.file?.size??0)}getFileMB(i){return i&&i>0?(i/=1048576).toFixed(2):0}removeFile(i){i.stopPropagation(),this.fileSelect&&(this.fileSelect.nativeElement.value=null),this.file=null}showImportExcel(i){this.importExcel=i}confirmAction(){let i=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.importExcel)this.file&&(1==this.selected.value?this.waitDestroy(this.studentService.apiStudentSaveStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(_=>{1==_.success?_.data?.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_student_utils_add_success")):(this.errorStatusObj("lang_student_error_uploading_file_please_check_again",!0),this.errorImportFile=_.data?.errors??[],this.file=null):(this.btnCloseDialog(!1),this.errorStatusObj(_.message??"",!0))})):2==this.selected.value&&this.waitDestroy(this.studentService.apiStudentUpdateStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(_=>{1==_.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.btnCloseDialog(!1),this.errorStatusObj(_.message??"",!0))})));else if(this.studentForm.form.valid){let _={fullName:i.fullName,phone:i.phoneNumber,identificationNumber:i.identificationNumber?Number(i.identificationNumber):void 0,email:i.email,gender:Number(i.gender),birthday:i.birthday,classroomId:this.classroomObj.id??0,password:i.password,facebookLink:i.facebookLink,schoolName:i.school};this.waitDestroy(this.studentService.apiStudentSaveObjPost(_).subscribe(p=>{1==p.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.stopStatusObj(),this.msgError=p.message??"")}))}}btnCloseDialog(i){this.dialogRef.close(i)}selectedIndexChange(i){if(this.selected.setValue(i),this.showImportExcel(0!=i),this.file){let _=document.getElementById("button-remove-export");_&&_.click()}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){super.ngOnInit()}constructor(i,_,p,Z){super(Z,p),this.shareFileFlutterService=i,this.studentService=_,this.dialogRef=p,this.data=Z,this.studentForm=new w.h,this.selected=new ut.NI(0,{nonNullable:!0}),this.importExcel=!1,this.birthDay="",this.msgError="",this.maxDate=k.N.maxDateTimePicker,this.showPassword=!1,this.fileMb=0,this.errorImportFile=[],this.allUploadFileTypes=B.AZ,this.file=null,this.studentObjs=Z.studentObjs,this.classroomObj=Z.classroomObj}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(Q.g),t.Y36(V.VT),t.Y36(zt.so,8),t.Y36(zt.WI,8))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-add-student"]],viewQuery:function(i,_){if(1&i&&t.Gf(Ge,5),2&i){let p;t.iGM(p=t.CRH())&&(_.fileSelect=p.first)}},features:[t._Bn([{provide:It.fM,useClass:U.WG,deps:[Ze.Ad,U.o8]},{provide:It.ab,useFactory:_t.fX,deps:[N.D]},{provide:Ft.o2,useValue:{floatLabel:"never"}}]),t.qOj],decls:23,vars:21,consts:[[1,"box","scroll-menu-test"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[3,"selectedIndex","selectedIndexChange"],[3,"label"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","add_student-g5-sbau_Ya",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","add_student-I6Q3FiuU2e",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"form-group"],["class","mt-4",4,"ngIf"],[1,"intro","mt-4"],["class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md",4,"ngIf","ngIfElse"],["exitsFile",""],[1,"mt-2","text-center"],["azt-track-service","add_teacher-pukPV3tL4","class","btn text-primary btn-transparent","target","_self",3,"click",4,"ngIf"],[1,"mt-4"],[1,"text-danger","font-medium","text-right"],[1,"overflow-auto","p-2","mt-2","border-slate-200","dark:border-darkmode-400","border","box",2,"height","120px","padding-right","5px"],["pointerEventsMethod","scrollbar",1,"w-full","h-full",3,"visibility","autoHeightDisabled"],["class","mb-2 text-xs",4,"ngFor","ngForOf"],[1,"mb-2","text-xs"],["class","font-medium",4,"ngIf"],["class","font-medium text-danger",4,"ngFor","ngForOf"],[1,"font-medium"],[1,"font-medium","text-danger"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[3,"fileType","emitFiles"],[1,"px-4","pb-8","mt-8","flex","items-center","justify-center","text-center","cursor-pointer","relative"],[1,"flex","items-center"],[1,"w-5","h-5","mr-2","text-success","inline-block"],["name","file-spreadsheet"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"matTooltip","click"],[1,"w-4","h-4","inline-block"],["name","trash-2"],["azt-track-service","add_teacher-pukPV3tL4","target","_self",1,"btn","text-primary","btn-transparent",3,"click"],[1,"w-5","h-5","mr-2","inline-block"],["name","download-cloud"],[1,"text-primary"],[1,"px-2"],[3,"studentForm"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"w-4","h-4","inline-block","mr-2"],[3,"objs","exportDataDone"]],template:function(i,_){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"mat-tab-group",3),t.NdJ("selectedIndexChange",function(Z){return _.selectedIndexChange(Z)}),t._UZ(5,"mat-tab",4),t.ALo(6,"mytranslate"),t._UZ(7,"mat-tab",4),t.ALo(8,"mytranslate"),t._UZ(9,"mat-tab",4),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div"),t.YNc(12,se,9,5,"div",5),t.YNc(13,Ve,3,2,"div",6),t.qZA()()()(),t.TgZ(14,"div",7)(15,"button",8),t.NdJ("click",function(){return _.btnCloseDialog(!1)}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"button",9),t.NdJ("click",function(){return _.confirmAction()}),t.YNc(19,Fn,2,0,"span",10),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()(),t.YNc(22,Lt,1,1,"azt-export-excel-for-student-list",11)),2&i&&(t.xp6(4),t.Q6J("selectedIndex",_.selected.value),t.xp6(1),t.s9C("label",t.lcZ(6,11,"lang_student_utils_add_student")),t.xp6(2),t.s9C("label",t.lcZ(8,13,"lang_student_utils_quick_add_excel")),t.xp6(2),t.s9C("label",t.lcZ(10,15,"lang_student_utils_quick_add_phone_and_email")),t.xp6(3),t.Q6J("ngIf",0!=_.selected.value),t.xp6(1),t.Q6J("ngIf",0==_.selected.value),t.xp6(3),t.hij(" ",t.lcZ(17,17,"lang_cms_common_close_btn")," "),t.xp6(2),t.Q6J("disabled",_.statusObj.loading||_.studentForm.form.invalid&&!_.importExcel||null==_.file&&_.importExcel),t.xp6(1),t.Q6J("ngIf",_.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(21,19,"lang_cms_common_confirm_btn")," "),t.xp6(2),t.Q6J("ngIf",_.exportStudentObjs))},dependencies:[X.sg,X.O5,at.uX,at.SP,Ot.gM,St.R,ot.Q,Vt.S,Tt.n,ie.A,Mt.K,kt.Nh5,ne.KC,D.JV,D.Bo],styles:[".file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:aliceblue}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}.hover-cancel[_ngcontent-%COMP%]:hover{background-color:#ebe9e9}.hover-save[_ngcontent-%COMP%]:hover{background-color:#ff3526}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}.input-custom[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:3px;padding-left:12px;padding-top:10px}.block-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.block-text[_ngcontent-%COMP%]{width:60px;color:#757575!important;font-size:16px}.block-input[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:space-evenly}"]}),c})();var De=x(83044),Re=x(5977),Sn=x(87325);function Jn(c,b){if(1&c&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&c){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_zalo_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==i.extraDataObj?null:i.extraDataObj.reApprovedZaloFullName)}}function qn(c,b){if(1&c&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&c){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_so_dien_thoai_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==i.extraDataObj?null:i.extraDataObj.reApprovedPhone)}}function In(c,b){if(1&c&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&c){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_email_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==i.extraDataObj?null:i.extraDataObj.reApprovedEmail)}}function fe(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.TgZ(6,"span",9),t._uU(7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"span",10),t._uU(11),t.qZA(),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.YNc(14,Jn,5,4,"span",11),t.YNc(15,qn,5,4,"span",11),t.YNc(16,In,5,4,"span",11),t.TgZ(17,"div",12)(18,"div",13),t.NdJ("click",function(){const Z=t.CHM(i).$implicit,J=t.oxw();return t.KtG(J.reApproveStudent(Z.studentId,Z.id))}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"div",14),t.NdJ("click",function(){const Z=t.CHM(i).$implicit,J=t.oxw();return t.KtG(J.rejectApproveRequest(Z.studentId,Z.id))}),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()()()()}if(2&c){const i=b.$implicit;t.xp6(4),t.hij(" ",t.lcZ(5,10,"lang_student_utils_reques_notice_list_student"),"\xa0 "),t.xp6(3),t.Oqu(i.studentName),t.xp6(1),t.hij(" \xa0 ",t.lcZ(9,12,"lang_student_utils_reques_notice_list_class"),"\xa0 "),t.xp6(3),t.Oqu(i.classroomName),t.xp6(1),t.hij(" \xa0 ",t.lcZ(13,14,"lang_student_utils_reques_notice_list_dont_select_name"),". "),t.xp6(2),t.Q6J("ngIf",null==i.extraDataObj?null:i.extraDataObj.reApprovedZaloFullName),t.xp6(1),t.Q6J("ngIf",null==i.extraDataObj?null:i.extraDataObj.reApprovedPhone),t.xp6(1),t.Q6J("ngIf",null==i.extraDataObj?null:i.extraDataObj.reApprovedEmail),t.xp6(3),t.hij(" ",t.lcZ(20,16,"lang_student_utils_reques_notice_list_unlock_select_again")," "),t.xp6(3),t.Oqu(t.lcZ(23,18,"lang_button_skip"))}}let Bt=(()=>{class c extends ee.e{reApproveStudent(i,_){this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(i??0).subscribe(p=>{1==p.success?(this.showSuccessSnack("lang_auto_mo_khoa_cho_hoc_sinh_thanh_cong"),this.noticeObjs=this.noticeObjs.filter(Z=>Z.id!=_),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(p.message??"",!0)}))}rejectApproveRequest(i,_){this.waitDestroy(this.studentService.apiStudentRejectMappingRequestGet(i??0).subscribe(p=>{1==p.success?(this.noticeObjs=this.noticeObjs.filter(Z=>Z.id!=_),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(p.message??"",!0)}))}btnCloseDialog(i){this.dialogRef.close(i)}constructor(i,_,p,Z){super(Z,p),this.studentService=i,this.noticeService=_,this.dialogRef=p,this.data=Z,this.classroomObj=Z.classroomObj,this.noticeObjs=Z.noticeObjs}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(V.VT),t.Y36(Sn.L$),t.Y36(zt.so,8),t.Y36(zt.WI,8))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-re-approve-request"]],features:[t.qOj],decls:9,vars:4,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","scroll-menu-test"],[1,"p-3"],["class","ml-2 mb-2 mr-2 noticeobj",4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","request_notice_list-fcVrrBJYoFq",1,"btn","w-24","btn-secondary",3,"click"],[1,"ml-2","mb-2","mr-2","noticeobj"],[1,"pt-1","pb-1"],[1,"notify__content"],[1,"notify__name",2,"word-break","break-word"],[1,"notify__name"],["class","block",4,"ngIf"],[1,"mt-2","flex","justify-end"],["azt-track-service","request_notice_list-LmGuEaUfXP2",1,"notify__btn","bg-info","clickable",3,"click"],["azt-track-service","request_notice_list-K5qVGrBSxAh",1,"notify__btn","ml-3","clickable",3,"click"],[1,"block"]],template:function(i,_){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2),t.YNc(4,fe,24,20,"div",3),t.qZA()()(),t.TgZ(5,"div",4)(6,"button",5),t.NdJ("click",function(){return _.btnCloseDialog(!1)}),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(4),t.Q6J("ngForOf",_.noticeObjs),t.xp6(3),t.hij(" ",t.lcZ(8,2,"lang_cms_common_close_btn")," "))},dependencies:[X.sg,X.O5,St.R,D.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:90;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;background:rgba(0,0,0,.5607843137);min-height:100vh}.school-info[_ngcontent-%COMP%]{z-index:91;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.noticeobj[_ngcontent-%COMP%]{background-color:#ecebeb;border-radius:5px;border:1px solid #e5e5e5}.notify__name[_ngcontent-%COMP%]{font-weight:500}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px 15px}.notify__btn[_ngcontent-%COMP%]{text-align:center;border-radius:5px;padding:5px;color:#000;font-size:14px;background-color:#fff;border:1px solid #cecdcd;width:-moz-fit-content;width:fit-content}.bg-info[_ngcontent-%COMP%]{color:#fff!important;border:1px solid #00a7d0!important;background-color:#00a7d0}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.note[_ngcontent-%COMP%]{font-style:italic;font-size:15px;font-weight:600}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),c})();var Ee=x(88131),nn=x(38228),be=x(2783),$e=x(68719),_n=x(46558),sn=x(94690),bn=x(7289),Tn=x(27161),Qn=x(45468);let C=(()=>{class c{constructor(i,_,p,Z,J,R){this.commonService=i,this.examPageResultService=_,this.permissionService=p,this.globalService=Z,this.answerTypeService=J,this.homeworkExamService=R}getTestedAllResultByClassroomId(i,_,p,Z){return this.globalService.startIntervalFunc(i),this.getTestedOfExamResultByClassroomId(i,_,"all",p,Z)}getTestedOfExamResultByClassroomId(i,_,p,Z,J){return new pe.y(R=>{this.examPageResultService.apiExamPageResultGetObjV2Get(_).subscribe(m=>{if(1==m.success){let a=m.data?.examObj,o=this.hasEssay(m.data?.examQuestionObjs??[]),r=m.data?.classroomWithAvatarAndStudentObjs??new Array;this.permissionService.hasViewExamPermission("exam",a)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",a)?this.getAllExamResultObjs(i,[],_,"",d=>{if(d.hasOwnProperty("success")&&1==d.success){let g=this.mergeStudentWithAvatar(d.studentWithResultObjs??[]),y={};g?.forEach(L=>{let H=L.parentId??"0";y.hasOwnProperty(H)||(y[H]=L.examResultObjs??[])});let M=J;if(this.homeworkExamService.mustInClassroom(a)&&r.length>0)for(let L=0;L<r.length;L++)if(r[L].classroomObj?.id==Z){let G=r[L].studentObjs??[];if(G.length>0)for(let Y=0;Y<G.length;Y++){let it=G[Y].parentId??"0";y.hasOwnProperty(it)?(Array.isArray(G[Y].examResultObjs)||(G[Y].examResultObjs=[]),G[Y].examResultObjs=this.findExamResultOfStudent(G[Y].examResultObjs?.concat(y[it])??[],G[Y].id??"0")):G[Y].examResultObjs=this.findExamResultOfStudent(G[Y].examResultObjs??[],G[Y].id??"0");let nt=this.filterExamResultByType(G[Y].examResultObjs??[],"first"),vt=this.filterExamResultByType(G[Y].examResultObjs??[],"last"),jt=this.filterExamResultByType(G[Y].examResultObjs??[],"highest");M.forEach(Dt=>{if(Dt.dataExam||(Dt.dataExam=[]),Dt.parentId==G[Y].parentId||Dt.id.toString()==G[Y].id){let qt=nt.hasOwnProperty(G[Y].parentId??0)?nt[G[Y].parentId??0]:void 0,Qt=vt.hasOwnProperty(G[Y].parentId??0)?vt[G[Y].parentId??0]:void 0,Et=jt.hasOwnProperty(G[Y].parentId??0)?jt[G[Y].parentId??0]:void 0,Rt={id:a?.id??0,name:a?.name??"",firstPoint:qt?this.checkMarkStatus(qt,o):void 0,lastPoint:Qt?this.checkMarkStatus(Qt,o):void 0,highestPoint:Et?this.checkMarkStatus(Et,o):void 0};Dt.dataExam.push(Rt)}Dt.dataExam.sort((qt,Qt)=>(qt.id??0)-(Qt.id??0))},M)}break}R.next({status:200,success:1,data:M,message:"successful"}),R.complete()}else R.next({status:d.code,success:0,data:J,message:d.message??""}),R.complete()}):(R.next({status:200,success:1,data:J,message:"successful"}),R.complete())}else R.next({status:m.code,success:0,data:J,message:m.message??""}),R.complete()})})}getAllExamResultObjs(i,_,p,Z,J){this.examPageResultService.apiExamPageResultGetObjsV2Get(p,"export",Z).subscribe(R=>{1==R.success?(R.data?.objs&&_.push(...R.data.objs),R.data?.nextPage?this.globalService.isStopIntervalFunc(i)?J({studentWithResultObjs:_,success:1}):setTimeout(()=>{this.getAllExamResultObjs(i,_,p,R.data?.nextPage??"",J)},300):J({studentWithResultObjs:_,success:1})):J({code:R.code,studentWithResultObjs:[],success:0,message:R.message??""})})}filterExamResultOnTest(i,_,p){var Z={};return i.forEach(J=>{var R=this.commonService.myClone(J)??{};if(R.testStatus)Z[R.userId??0]=R.testStatus;else if(R.startedTest&&p)if(_.endTime){var m=Math.floor(new Date(_.endTime).getTime()/1e3);Z[R.userId??0]=p<=m+60*(_.minutes??0)+600?0:-1}else{var a=R.startedTest?Math.floor(new Date(R.startedTest).getTime()/1e3):0;Z[R.userId??0]=p<=a+86400?0:-1}else Z[R.userId??0]=0}),Z}mergeStudentWithAvatar(i){var _=[];return i.forEach(p=>{var Z=_.filter(R=>R.parentId==p.parentId);if(Z&&0!=Z.length)for(var J=0;J<_.length;J++)_[J].parentId==p.parentId&&(_[J].examResultObjs=_[J].examResultObjs?.concat(p.examResultObjs??[]));else _.push(p)}),_}findExamResultOfStudent(i,_){var p=[];return i.forEach(Z=>{(Z.studentId==_||null==Z.studentId)&&p.push(Z)}),p}createStudentWithResult(i,_,p){return{id:i.id,userId:i.parentId,studentId:i.id,identificationNumber:_.examResultStatisticObj?.offlineMarkInfoObj?.studentCode??0,offlineMixQuestionHashId:_.examResultStatisticObj?.offlineMarkInfoObj?.offlineMixquestionHashId??0,gender:i.gender,fullName:i.fullName,avatar:i.avatar,birthday:i.birthday,mark:_.hasOwnProperty("mark")?_.mark:null,confirmedAt:_.hasOwnProperty("confirmedAt")?_.confirmedAt:null,startedTest:_.hasOwnProperty("startedTest")?_.startedTest:null,createdAt:_.hasOwnProperty("createdAt")?_.createdAt:null,status:p,totalExamResultObjs:0,checkBoxGroupControl:new ut.cw({isShow:new ut.NI(!1,{nonNullable:!0}),selectedCheckbox:new ut.NI(!1,{nonNullable:!0})})}}filterExamResultByType(i,_){var p={};if(i.length>1)i.forEach((J,R)=>{var m=this.commonService.myClone(J);J.testStatus&&(m.resultId=m.id,m.indexTest=R,"last"==_&&(p[m.userId??0]=m),"first"==_&&(p.hasOwnProperty(m.userId??0)||(p[m.userId??0]=m)),"highest"==_)&&(p.hasOwnProperty(m.userId??0)?(p[m.userId??0].mark??-1)<=(m.mark??-1)&&(p[m.userId??0]=m):p[m.userId??0]=m)});else{var Z=this.commonService.myClone(i[0]??{});Z.resultId=Z.testStatus?Z.id:0,Z.indexTest=0,p[Z.userId??0]=Z}return p}hasEssay(i){let _=!1;for(let p=0;p<i.length;p++)if(this.answerTypeService.isEssayAnswer(i[p])){_=!0;break}return _}checkMarkStatus(i,_){return _?1==i.testStatus?i.confirmedAt?i.mark:-1:void 0:1==i.testStatus?i.mark:void 0}}return c.\u0275fac=function(i){return new(i||c)(t.LFG(_n.z),t.LFG(dt.DR),t.LFG(sn.j),t.LFG(bn.q),t.LFG(Tn.i),t.LFG(Qn.v))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();var q=x(30617),h=x(77988),j=x(85904),K=x(97931),Zt=x(76024),Ht=x(46504),dn=x(1103),Te=x(60381);const Gn=["parent"];function so(c,b){1&c&&(t.TgZ(0,"div",10),t._UZ(1,"azt-loading-effect"),t.qZA())}function Oo(c,b){if(1&c&&t._UZ(0,"azt-download-qr-code",25),2&c){const i=t.oxw(2);t.Q6J("fileName",i.convertNameForQR())("linkUrl",i.copyLinkToClipboard())("showLink",!i.isMobileDevice)}}function un(c,b){if(1&c&&(t.TgZ(0,"button",28)(1,"span",29),t._UZ(2,"lucide-icon",30),t.qZA()()),2&c){t.oxw(3);const i=t.MAs(5);t.Q6J("matMenuTriggerFor",i)}}function ro(c,b){if(1&c&&(t.TgZ(0,"div",26),t.YNc(1,un,3,1,"button",27),t.qZA()),2&c){const i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null!=(null==i.classroomObj?null:i.classroomObj.permissionObj))}}function yo(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(3);return t.KtG(p.exportListStudent())}),t.TgZ(1,"span",43),t._UZ(2,"lucide-icon",44),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&c&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_student_utils_export_list_student")," "))}function le(c,b){1&c&&(t.TgZ(0,"span",43),t._UZ(1,"azt-loading-ui"),t.qZA())}function Cn(c,b){1&c&&(t.TgZ(0,"span",43),t._UZ(1,"lucide-icon",44),t.qZA())}function kn(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(3);return t.KtG(p.exportExcelForScoreOfClassroom())}),t.YNc(1,le,2,0,"span",46),t.YNc(2,Cn,2,0,"span",46),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&c){const i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i.loadingExport),t.xp6(1),t.Q6J("ngIf",!i.loadingExport),t.xp6(1),t.hij(" ",t.lcZ(4,3,"lang_auto_xuat_bang_diem")," ")}}function wn(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"button",47),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(3);return t.KtG(p.addStudentDialog(p.classroomObj))}),t.TgZ(1,"span",48),t._UZ(2,"lucide-icon",49),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&c&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_them_hoc_sinh")," "))}function lo(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(3);return t.KtG(p.openDialogAutoNumbering())}),t.TgZ(1,"span",48),t._UZ(2,"lucide-icon",51),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&c&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_danh_so_bao_danh")," "))}function co(c,b){if(1&c&&(t.TgZ(0,"button",52)(1,"span",29),t._UZ(2,"lucide-icon",30),t.qZA()()),2&c){t.oxw(3);const i=t.MAs(5);t.Q6J("matMenuTriggerFor",i)}}function mo(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",31)(1,"div",32)(2,"div",33)(3,"azt-search-box",34),t.NdJ("onSearch",function(p){t.CHM(i);const Z=t.oxw(2);return t.KtG(Z.onSearchBox(p.searchObj))}),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",35),t.YNc(6,yo,5,3,"button",36),t.ALo(7,"viewPermission"),t.YNc(8,kn,5,5,"button",37),t.ALo(9,"viewPermission"),t.YNc(10,wn,5,3,"button",38),t.ALo(11,"editPermission"),t.YNc(12,lo,5,3,"button",39),t.ALo(13,"editPermission"),t.TgZ(14,"div",40),t.YNc(15,co,3,1,"button",41),t.qZA()()()()}if(2&c){const i=t.oxw(2);t.xp6(3),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(4,7,"lang_core_tim_theo_ten_phone_email")),t.xp6(3),t.Q6J("ngIf",t.xi3(7,9,i.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(9,12,i.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(11,15,i.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(13,18,i.classroomObj,"student")),t.xp6(3),t.Q6J("ngIf",null!=(null==i.classroomObj?null:i.classroomObj.permissionObj))}}function Vn(c,b){1&c&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&c&&(t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_test_market_withdraw_time")," ",t.lcZ(3,4,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""))}function _o(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"mat-icon",79),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(2),Z=p.index,J=p.$implicit,R=t.oxw(3);return t.KtG(R.onPositionChange("up",Z-1,J.id,null==R.classroomObj?null:R.classroomObj.id))}),t._uU(1," keyboard_arrow_up "),t.qZA()}}function Rn(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"mat-icon",80),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(2),Z=p.index,J=p.$implicit,R=t.oxw(3);return t.KtG(R.onPositionChange("down",Z+1,J.id,null==R.classroomObj?null:R.classroomObj.id))}),t._uU(1," keyboard_arrow_down "),t.qZA()}}function Zo(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",74),t.YNc(1,_o,2,0,"mat-icon",75),t.TgZ(2,"input",76,77),t.NdJ("keyup.enter",function(){t.CHM(i);const p=t.MAs(3),Z=t.oxw(),J=Z.index,R=Z.$implicit,m=t.oxw(3);return t.KtG(m.onPositionChange(p.value,J,R.id,null==m.classroomObj?null:m.classroomObj.id))}),t.qZA(),t.YNc(4,Rn,2,0,"mat-icon",78),t.qZA()}if(2&c){const i=t.oxw().index,_=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0!=i),t.xp6(1),t.s9C("value",i+1),t.xp6(2),t.Q6J("ngIf",_.listStudents&&i!=_.listStudents.length-1)}}function Ao(c,b){if(1&c&&(t.TgZ(0,"div",81),t._uU(1),t.qZA()),2&c){const i=t.oxw().index;t.xp6(1),t.hij(" ",i+1," ")}}function uo(c,b){1&c&&(t.TgZ(0,"span"),t._uU(1,"/"),t.qZA())}function So(c,b){if(1&c&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,uo,2,0,"span",7),t._uU(3),t.qZA()),2&c){const i=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",i.lastMonthPaid," "),t.xp6(1),t.Q6J("ngIf",i.lastMonthPaid),t.xp6(1),t.hij(" ",i.lastYearPaid," ")}}function On(c,b){1&c&&(t.TgZ(0,"span",91),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_hoc_thu")," "))}function yn(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"td",69)(1,"div",70),t.YNc(2,So,4,3,"span",7),t.YNc(3,On,3,3,"span",82),t.TgZ(4,"button",83),t.NdJ("click",function(){t.CHM(i);const p=t.oxw().$implicit,Z=t.oxw(3);return t.KtG(Z.openDialogCheckboxMonth(p))}),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.O4$(),t.TgZ(7,"svg",84),t._UZ(8,"path",85)(9,"path",86)(10,"path",87)(11,"path",88)(12,"path",89)(13,"path",90),t.qZA()()()()}if(2&c){const i=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf",i.lastMonthPaid||i.lastYearPaid),t.xp6(1),t.Q6J("ngIf",!i.lastMonthPaid||!i.lastYearPaid),t.xp6(1),t.hYB("matTooltip","",t.lcZ(5,4,"lang_cms_auto_gen_test_select")," ",t.lcZ(6,6,"lang_auto_month"),"")}}function Mn(c,b){if(1&c&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c){const i=t.oxw().$implicit;t.xp6(1),t.lnq(" ",null==i.documentAttendedObj?null:i.documentAttendedObj.totalHomeworkAnswer," / ",null==i.totalDocumentObj?null:i.totalDocumentObj.totalHomework," ",t.lcZ(2,3,"lang_student_classroom_list_detail_homework")," ")}}function jn(c,b){if(1&c&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c){const i=t.oxw().$implicit;t.xp6(1),t.lnq(" ",null==i.documentAttendedObj?null:i.documentAttendedObj.totalExamResult," / ",null==i.totalDocumentObj?null:i.totalDocumentObj.totalExam," ",t.lcZ(2,3,"lang_student_classroom_list_detail_exam")," ")}}function Io(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){t.CHM(i);const p=t.oxw().$implicit,Z=t.oxw(3);return t.KtG(Z.editStudentDialog(p))}),t.O4$(),t.TgZ(1,"svg",93),t._UZ(2,"path",94)(3,"path",95),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&c&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_sua")," "))}function Mo(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"button",96),t.NdJ("click",function(){t.CHM(i);const p=t.oxw().$implicit,Z=t.oxw(3);return t.KtG(Z.deleteStudentDialog(p))}),t.TgZ(1,"span",97),t._UZ(2,"lucide-icon",98),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&c&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_button_delete")," "))}function jo(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"button",99),t.NdJ("click",function(){t.CHM(i);const p=t.oxw().$implicit,Z=t.oxw(3);return t.KtG(Z.openDialogResetPass(p))}),t.O4$(),t.TgZ(1,"svg",100),t._UZ(2,"path",101)(3,"path",102)(4,"path",103)(5,"path",104)(6,"path",105),t.qZA(),t.kcU(),t.TgZ(7,"span",106),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}if(2&c){const i=t.oxw().$implicit;t.Q6J("disabled",!i.parentId),t.xp6(8),t.Oqu(t.lcZ(9,2,"lang_core_dat_lai_mat_khau"))}}function No(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"tr")(1,"td",62),t.YNc(2,Zo,5,3,"div",63),t.ALo(3,"editPermission"),t.YNc(4,Ao,2,1,"ng-template",null,64,t.W1O),t.qZA(),t.TgZ(6,"td",65),t.NdJ("click",function(){const Z=t.CHM(i).$implicit,J=t.oxw(3);return t.KtG(J.goToProfile(Z.classroomId,Z.id))}),t._UZ(7,"azt-student-info-box",66),t.qZA(),t.TgZ(8,"td",67),t._uU(9),t.ALo(10,"formatStudentCodeToNumber"),t.qZA(),t.YNc(11,yn,14,8,"td",68),t.TgZ(12,"td",69),t.YNc(13,Mn,3,5,"span",7),t.qZA(),t.TgZ(14,"td",69),t.YNc(15,jn,3,5,"span",7),t.qZA(),t.TgZ(16,"td",69)(17,"div",70),t.YNc(18,Io,6,3,"button",71),t.ALo(19,"editPermission"),t.YNc(20,Mo,5,3,"button",72),t.ALo(21,"editPermission"),t.YNc(22,jo,10,4,"button",73),t.ALo(23,"editPermission"),t.qZA()()()}if(2&c){const i=b.$implicit,_=t.MAs(5),p=t.oxw(3);t.xp6(2),t.Q6J("ngIf",1==(null==p.classroomObj?null:p.classroomObj.sortType)&&t.xi3(3,22,p.classroomObj,"student"))("ngIfElse",_),t.xp6(5),t.Q6J("name",i.fullName)("parentFullName",i.parentFullName)("parentId",i.parentId)("parentPhone",i.parentPhone)("avatar",i.avatar)("identificationNumber",i.identificationNumber)("gender",i.gender)("hasUser",1==i.isVerified)("schoolName",i.schoolName)("classrooms",null==i.moreInfo?null:i.moreInfo.classrooms)("joinedAt",null==i.moreInfo?null:i.moreInfo.joinedAt)("phone",i.phone)("email",i.email),t.xp6(2),t.Oqu(i.identificationNumber?t.xi3(10,25,i.identificationNumber,6):""),t.xp6(2),t.Q6J("ngIf",p.isBusinessDomain),t.xp6(2),t.Q6J("ngIf",(null==i.documentAttendedObj?null:i.documentAttendedObj.totalHomeworkAnswer)||(null==i.totalDocumentObj?null:i.totalDocumentObj.totalHomework)),t.xp6(2),t.Q6J("ngIf",(null==i.documentAttendedObj?null:i.documentAttendedObj.totalExamResult)||(null==i.totalDocumentObj?null:i.totalDocumentObj.totalExam)),t.xp6(3),t.Q6J("ngIf",t.xi3(19,28,p.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(21,31,p.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(23,34,p.classroomObj,"student")&&p.isBusinessDomain)}}const pn=function(){return["fullName","phone","email"]};function Lo(c,b){if(1&c&&(t.TgZ(0,"div",53)(1,"drag-scroll")(2,"table",54)(3,"thead")(4,"tr")(5,"th",55)(6,"div",56),t.ALo(7,"mytranslate"),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()(),t.TgZ(10,"th",57),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"th",58),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.YNc(16,Vn,4,6,"th",59),t.TgZ(17,"th",60),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"th",60),t._uU(21),t.ALo(22,"mytranslate"),t.qZA(),t.TgZ(23,"th",60),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()()(),t.TgZ(26,"tbody"),t.YNc(27,No,24,37,"tr",61),t.ALo(28,"appFilter"),t.qZA()()()()),2&c){const i=t.oxw(2);t.xp6(6),t.hYB("matTooltip","",t.lcZ(7,13,"lang_student_classroom_list_detail_quantity"),": ",null!=i.classroomObj&&i.classroomObj.countStudents?null==i.classroomObj?null:i.classroomObj.countStudents:0,""),t.Q6J("matTooltipDisabled",i.isMobileDevice),t.xp6(2),t.lnq(" ",t.lcZ(9,15,i.isMobileDevice?"":"lang_student_classroom_list_detail_quantity"),"",i.isMobileDevice?"":": ","",null!=i.classroomObj&&i.classroomObj.countStudents?null==i.classroomObj?null:i.classroomObj.countStudents:0," "),t.xp6(3),t.Oqu(t.lcZ(12,17,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(15,19,"lang_auto_so_bao_danh")),t.xp6(2),t.Q6J("ngIf",i.isBusinessDomain),t.xp6(2),t.hij(" ",t.lcZ(19,21,"lang_auto_bai_tap_da_lam")," "),t.xp6(3),t.hij(" ",t.lcZ(22,23,"lang_auto_de_thi_da_lam")," "),t.xp6(3),t.Oqu(t.lcZ(25,25,"lang_auto_hanh_dong")),t.xp6(3),t.Q6J("ngForOf",t.Dn7(28,27,i.listStudents,i.searchContentObj.searchContent,t.DdM(31,pn)))}}function Do(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"button",118),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(3);return t.KtG(p.addStudentDialog(p.classroomObj))}),t.TgZ(1,"span",48),t._UZ(2,"lucide-icon",49),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&c&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_them_hoc_sinh")," "))}function Eo(c,b){if(1&c&&(t.TgZ(0,"div",107)(1,"div",108),t.O4$(),t.TgZ(2,"svg",109),t._UZ(3,"path",110)(4,"path",111)(5,"path",112)(6,"path",113)(7,"path",114)(8,"path",115),t.qZA(),t.kcU(),t.TgZ(9,"div",116),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.YNc(12,Do,5,3,"button",117),t.ALo(13,"editPermission"),t.qZA()()),2&c){const i=t.oxw(2);let _;t.xp6(10),t.hij(" ",t.lcZ(11,2,"lang_student_classroom_list_detail_not_student")," "),t.xp6(2),t.Q6J("ngIf",t.xi3(13,4,i.classroomObj,"student")&&0==(null!==(_=null==i.listStudents?null:i.listStudents.length)&&void 0!==_?_:0))}}function Po(c,b){if(1&c&&(t.TgZ(0,"a",134),t.ALo(1,"mytranslate"),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"formatStudentCodeToNumber"),t.ALo(6,"mytranslate"),t._uU(7),t.qZA()),2&c){const i=t.oxw().$implicit;t.pbR("matTooltip","\n\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(1,7,"lang_first_and_last_name"),": ",i.fullName,"\n\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(2,9,"lang_number_phone"),": ",i.phone?i.phone:t.lcZ(3,11,"lang_not_data"),"\n\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(4,13,"lang_auto_so_bao_danh"),": ",i.identificationNumber?t.xi3(5,15,i.identificationNumber,6):t.lcZ(6,18,"lang_not_data"),""),t.xp6(7),t.hij(" ",i.fullName," \xa0 ")}}function Uo(c,b){if(1&c&&(t.TgZ(0,"div",135),t._uU(1),t.qZA()),2&c){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.phone," ")}}function po(c,b){if(1&c&&(t.TgZ(0,"div",136),t._uU(1),t.qZA()),2&c){const i=t.oxw().$implicit;t.s9C("matTooltip",i.email),t.xp6(1),t.hij(" ",i.email," ")}}function zo(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"a",145),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(2).$implicit,Z=t.oxw(2);return t.KtG(Z.editStudentDialog(p))}),t.O4$(),t.TgZ(1,"svg",93),t._UZ(2,"path",94)(3,"path",95),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&c&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_sua")," "))}function Fo(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"a",146),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(2).$implicit,Z=t.oxw(2);return t.KtG(Z.deleteStudentDialog(p))}),t.TgZ(1,"span",97),t._UZ(2,"lucide-icon",98),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&c&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_button_delete")," "))}function Jo(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"a",148),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(3).$implicit,Z=t.oxw(2);return t.KtG(Z.openDialogResetPass(p))}),t.O4$(),t.TgZ(1,"svg",100),t._UZ(2,"path",101)(3,"path",102)(4,"path",103)(5,"path",104)(6,"path",105),t.qZA(),t.kcU(),t.TgZ(7,"span",106),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&c&&(t.xp6(8),t.Oqu(t.lcZ(9,1,"lang_core_dat_lai_mat_khau")))}function qo(c,b){if(1&c&&(t.TgZ(0,"li"),t.YNc(1,Jo,10,3,"a",147),t.ALo(2,"editPermission"),t.qZA()),2&c){const i=t.oxw(2).$implicit,_=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,_.classroomObj,"student")&&i.parentId)}}function Qo(c,b){if(1&c&&(t.TgZ(0,"div",137)(1,"a",138)(2,"span",139),t._UZ(3,"lucide-icon",140),t.qZA()(),t.TgZ(4,"mat-menu",null,141)(6,"div",142)(7,"ul",6)(8,"li"),t.YNc(9,zo,6,3,"a",143),t.ALo(10,"editPermission"),t.qZA(),t.TgZ(11,"li"),t.YNc(12,Fo,5,3,"a",144),t.ALo(13,"editPermission"),t.qZA(),t.YNc(14,qo,3,4,"li",7),t.qZA()()()()),2&c){const i=t.MAs(5),_=t.oxw(3);t.xp6(1),t.Q6J("matMenuTriggerFor",i),t.xp6(8),t.Q6J("ngIf",t.xi3(10,4,_.classroomObj,"student")),t.xp6(3),t.Q6J("ngIf",t.xi3(13,7,_.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",_.isBusinessDomain)}}function go(c,b){1&c&&(t.TgZ(0,"div",154)(1,"span",97),t._UZ(2,"lucide-icon",155),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&c&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_co_tai_khoan")," "))}function Yo(c,b){if(1&c&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c){const i=t.oxw(2).$implicit;t.xp6(1),t.lnq(" ",null==i.documentAttendedObj?null:i.documentAttendedObj.totalHomeworkAnswer," / ",null==i.totalDocumentObj?null:i.totalDocumentObj.totalHomework," ",t.lcZ(2,3,"lang_student_classroom_list_detail_homework")," ")}}function Bo(c,b){if(1&c&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c){const i=t.oxw(2).$implicit;t.xp6(1),t.lnq(" ",null==i.documentAttendedObj?null:i.documentAttendedObj.totalExamResult," / ",null==i.totalDocumentObj?null:i.totalDocumentObj.totalExam," ",t.lcZ(2,3,"lang_student_classroom_list_detail_exam")," ")}}function f(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"mat-icon",160),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(3),Z=p.index,J=p.$implicit,R=t.oxw(2);return t.KtG(R.onPositionChange("up",Z-1,J.id,null==R.classroomObj?null:R.classroomObj.id))}),t._uU(1," keyboard_arrow_up "),t.qZA()}}function P(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"mat-icon",161),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(3),Z=p.index,J=p.$implicit,R=t.oxw(2);return t.KtG(R.onPositionChange("down",Z+1,J.id,null==R.classroomObj?null:R.classroomObj.id))}),t._uU(1," keyboard_arrow_down "),t.qZA()}}function u(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",149)(1,"div",156)(2,"div",157),t.YNc(3,f,2,0,"mat-icon",158),t.TgZ(4,"input",76,77),t.NdJ("keyup.enter",function(){t.CHM(i);const p=t.MAs(5),Z=t.oxw(2),J=Z.index,R=Z.$implicit,m=t.oxw(2);return t.KtG(m.onPositionChange(p.value,J,R.id,null==m.classroomObj?null:m.classroomObj.id))}),t.qZA(),t.YNc(6,P,2,0,"mat-icon",159),t.qZA()()()}if(2&c){const i=t.oxw(2).index,_=t.oxw(2);t.xp6(3),t.Q6J("ngIf",0!=i),t.xp6(1),t.s9C("value",i+1),t.xp6(2),t.Q6J("ngIf",_.listStudents&&i!=_.listStudents.length-1)}}function T(c,b){if(1&c&&(t.TgZ(0,"div")(1,"div",149)(2,"div",150),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",151),t._uU(6),t.ALo(7,"formatStudentCodeToNumber"),t.qZA()(),t.TgZ(8,"div",149)(9,"div",150),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"div",151),t._uU(13),t.ALo(14,"mytranslate"),t.ALo(15,"mytranslate"),t.qZA()(),t.TgZ(16,"div",149)(17,"div",150),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"div",151),t._uU(21),t.ALo(22,"formatOnlyDateByUserUnitPipe"),t.qZA()(),t.TgZ(23,"div",149)(24,"div",150),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"div",151),t.YNc(28,go,5,3,"div",152),t.qZA()(),t.TgZ(29,"div",149)(30,"div",150),t._uU(31),t.ALo(32,"mytranslate"),t.qZA(),t.TgZ(33,"div",151),t.YNc(34,Yo,3,5,"span",7),t.qZA()(),t.TgZ(35,"div",149)(36,"div",150),t._uU(37),t.ALo(38,"mytranslate"),t.qZA(),t.TgZ(39,"div",151),t.YNc(40,Bo,3,5,"span",7),t.qZA()(),t.YNc(41,u,7,3,"div",153),t.ALo(42,"editPermission"),t.qZA()),2&c){const i=t.oxw().$implicit,_=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,13,"lang_auto_so_bao_danh")," "),t.xp6(3),t.hij(" ",i.identificationNumber?t.xi3(7,15,i.identificationNumber,6):""," "),t.xp6(4),t.hij(" ",t.lcZ(11,18,"lang_gender")," "),t.xp6(3),t.hij(" ",0==i.gender?t.lcZ(14,20,"lang_auto_nu"):t.lcZ(15,22,"lang_auto_nam")," "),t.xp6(5),t.hij(" ",t.lcZ(19,24,"lang_birthday")," "),t.xp6(3),t.hij(" ",t.lcZ(22,26,i.birthday)," "),t.xp6(4),t.hij(" ",t.lcZ(26,28,"lang_testbank_folder_and_file_status")," "),t.xp6(3),t.Q6J("ngIf",1==i.isVerified),t.xp6(3),t.hij(" ",t.lcZ(32,30,"lang_auto_bai_tap_da_lam")," "),t.xp6(3),t.Q6J("ngIf",(null==i.documentAttendedObj?null:i.documentAttendedObj.totalHomeworkAnswer)||(null==i.totalDocumentObj?null:i.totalDocumentObj.totalHomework)),t.xp6(3),t.hij(" ",t.lcZ(38,32,"lang_auto_de_thi_da_lam")," "),t.xp6(3),t.Q6J("ngIf",(null==i.documentAttendedObj?null:i.documentAttendedObj.totalExamResult)||(null==i.totalDocumentObj?null:i.totalDocumentObj.totalExam)),t.xp6(1),t.Q6J("ngIf",1==(null==_.classroomObj?null:_.classroomObj.sortType)&&t.xi3(42,34,_.classroomObj,"student"))}}function S(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",119)(1,"div",120)(2,"div",121)(3,"div",122),t.NdJ("click",function(){const Z=t.CHM(i).$implicit,J=t.oxw(2);return t.KtG(J.goToProfile(Z.classroomId,Z.id))}),t.TgZ(4,"div",123),t._UZ(5,"azt-create-avatar",124),t.ALo(6,"anonymousPhone"),t.ALo(7,"mycdn"),t.qZA(),t.TgZ(8,"div",125),t.YNc(9,Po,8,20,"a",126),t.YNc(10,Uo,2,1,"div",127),t.YNc(11,po,2,2,"div",128),t.qZA()(),t.YNc(12,Qo,15,10,"div",129),t.ALo(13,"editPermission"),t.qZA(),t.TgZ(14,"button",130),t.NdJ("click",function(){const Z=t.CHM(i).index,J=t.oxw(2);return t.KtG(J.toggleExpandedContent(Z))}),t.TgZ(15,"span",131),t._UZ(16,"lucide-icon",132),t.qZA()()(),t.TgZ(17,"div",133),t.YNc(18,T,43,37,"div",7),t.qZA()()}if(2&c){const i=b.$implicit,_=b.index,p=t.oxw(2);t.xp6(5),t.MGl("matTooltip","",0==i.parentId||1==i.isAnonymous?null:" Id: "+i.parentId+(""!=t.lcZ(6,12,i.parentPhone)?" - Phone: "+i.parentPhone:"")+" - Name: "+i.parentFullName," "),t.Q6J("nameCreateAvatar",i.fullName)("linkAvatar",t.lcZ(7,14,i.avatar))("size",36),t.xp6(4),t.Q6J("ngIf",i.fullName),t.xp6(1),t.Q6J("ngIf",i.phone),t.xp6(1),t.Q6J("ngIf",i.email),t.xp6(1),t.Q6J("ngIf",t.xi3(13,16,p.classroomObj,"student")),t.xp6(3),t.ekj("rotate-180",p.expandedItemIndex===_),t.xp6(2),t.Q6J("@expandCollapse",p.expandedItemIndex===_?"open":"closed"),t.xp6(1),t.Q6J("ngIf",p.expandedItemIndex===_)}}function E(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"button",163),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(3);return t.KtG(p.addStudentDialog(p.classroomObj))}),t.TgZ(1,"span",48),t._UZ(2,"lucide-icon",49),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&c&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_them_hoc_sinh")," "))}function z(c,b){if(1&c&&(t.TgZ(0,"div",107)(1,"div",108),t.O4$(),t.TgZ(2,"svg",109),t._UZ(3,"path",110)(4,"path",111)(5,"path",112)(6,"path",113)(7,"path",114)(8,"path",115),t.qZA(),t.kcU(),t.TgZ(9,"div",116),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.YNc(12,E,5,3,"button",162),t.ALo(13,"editPermission"),t.qZA()()),2&c){const i=t.oxw(2);let _;t.xp6(10),t.hij(" ",t.lcZ(11,2,"lang_student_classroom_list_detail_not_student")," "),t.xp6(2),t.Q6J("ngIf",t.xi3(13,4,i.classroomObj,"student")&&0==(null!==(_=null==i.listStudents?null:i.listStudents.length)&&void 0!==_?_:0))}}function tt(c,b){if(1&c&&(t.TgZ(0,"div",11)(1,"div",12)(2,"h2",13),t._uU(3),t.qZA(),t.TgZ(4,"span",14),t._uU(5),t.qZA(),t.YNc(6,Oo,1,3,"azt-download-qr-code",15),t.qZA(),t.TgZ(7,"div",12),t._UZ(8,"azt-share",16),t.YNc(9,ro,2,1,"div",17),t.qZA()(),t.YNc(10,mo,16,21,"div",18),t.TgZ(11,"div",19)(12,"div",20),t.YNc(13,Lo,29,32,"div",21),t.ALo(14,"appFilter"),t.YNc(15,Eo,14,7,"div",22),t.ALo(16,"appFilter"),t.qZA(),t.TgZ(17,"div",23),t.YNc(18,S,19,19,"div",24),t.ALo(19,"appFilter"),t.YNc(20,z,14,7,"div",22),t.ALo(21,"appFilter"),t.qZA()()),2&c){const i=t.oxw();let _;t.xp6(3),t.hij(" ",null==i.classroomObj?null:i.classroomObj.name," "),t.xp6(2),t.hij("( ",null==i.classroomObj?null:i.classroomObj.year," )"),t.xp6(1),t.Q6J("ngIf",i.joinClassroomLink),t.xp6(2),t.Q6J("backToLink",i.backToLink)("objectCodeType",1)("objectCode","CLASSROOM")("objectId",i.classroomId)("classroomWithPermissionObj",i.classroomObj),t.xp6(1),t.Q6J("ngIf",!i.hasStudents||!(null!=i.listStudents&&i.listStudents.length)),t.xp6(1),t.Q6J("ngIf",i.hasStudents||(null!==(_=null==i.listStudents?null:i.listStudents.length)&&void 0!==_?_:0)>0),t.xp6(3),t.Q6J("ngIf",t.Dn7(14,14,i.listStudents,i.searchContentObj.searchContent,t.DdM(30,pn)).length>0),t.xp6(2),t.Q6J("ngIf",!i.hasStudents||0==t.Dn7(16,18,i.listStudents,i.searchContentObj.searchContent,t.DdM(31,pn)).length),t.xp6(3),t.Q6J("ngForOf",t.Dn7(19,22,i.listStudents,i.searchContentObj.searchContent,t.DdM(32,pn))),t.xp6(2),t.Q6J("ngIf",!i.hasStudents||0==t.Dn7(21,26,i.listStudents,i.searchContentObj.searchContent,t.DdM(33,pn)).length)}}function ft(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"li")(1,"button",164),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.goToMergeStudent(null==p.classroomObj?null:p.classroomObj.id))}),t.O4$(),t.TgZ(2,"svg",165),t._UZ(3,"path",166)(4,"path",167)(5,"line",168),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&c&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_student_classroom_list_detail_merge_student")," "))}function yt(c,b){1&c&&(t.O4$(),t.kcU(),t.TgZ(0,"span",176),t._UZ(1,"lucide-icon",177),t.qZA())}function rt(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"li")(1,"button",169),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.changeSortType(0))}),t.O4$(),t.TgZ(2,"svg",165),t._UZ(3,"path",170)(4,"path",171)(5,"path",172)(6,"path",173)(7,"path",174),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.YNc(10,yt,2,0,"span",175),t.qZA()()}if(2&c){const i=t.oxw();t.xp6(8),t.hij(" ",t.lcZ(9,2,"lang_student_classroom_list_detail_sort_name")," "),t.xp6(2),t.Q6J("ngIf",0==(null==i.classroomObj?null:i.classroomObj.sortType))}}function ce(c,b){1&c&&(t.TgZ(0,"span",176),t._UZ(1,"lucide-icon",177),t.qZA())}function gn(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"li")(1,"button",178),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.changeSortType(1))}),t.O4$(),t.TgZ(2,"svg",165),t._UZ(3,"line",179)(4,"line",180)(5,"line",181)(6,"path",182)(7,"path",183)(8,"path",184),t.qZA(),t.kcU(),t.TgZ(9,"span",185),t.ALo(10,"mytranslate"),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.YNc(13,ce,2,0,"span",175),t.qZA()()}if(2&c){const i=t.oxw();t.xp6(9),t.s9C("matTooltip",t.lcZ(10,3,"lang_student_classroom_list_detail_request")),t.xp6(2),t.Oqu(t.lcZ(12,5,"lang_student_classroom_list_detail_change")),t.xp6(2),t.Q6J("ngIf",0!=(null==i.classroomObj?null:i.classroomObj.sortType))}}function Jt(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"li",186)(1,"button",187),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.openDialogAutoNumbering())}),t.O4$(),t.TgZ(2,"svg",165),t._UZ(3,"path",188)(4,"path",189)(5,"path",190)(6,"path",191)(7,"rect",192)(8,"rect",193),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()}2&c&&(t.xp6(9),t.hij(" ",t.lcZ(10,1,"lang_auto_danh_so_bao_danh")," "))}function Nn(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"li",186)(1,"button",194),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.exportListStudent())}),t.O4$(),t.TgZ(2,"svg",195),t._UZ(3,"path",196)(4,"polyline",197)(5,"line",198)(6,"line",199)(7,"line",200),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&c&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_student_utils_export_list_student")," "))}function ho(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"li",186)(1,"button",194),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.exportExcelForScoreOfClassroom())}),t.O4$(),t.TgZ(2,"svg",195),t._UZ(3,"path",196)(4,"polyline",197)(5,"line",198)(6,"line",199)(7,"line",200),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&c&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_auto_xuat_bang_diem")," "))}function Pi(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"li")(1,"div",201),t.NdJ("click",function(p){return p.stopPropagation()}),t.TgZ(2,"input",202),t.NdJ("change",function(){t.CHM(i);const p=t.oxw();let Z;return t.KtG(p.changeAnonymousStudentStatus(null!==(Z=null==p.classroomObj?null:p.classroomObj.id)&&void 0!==Z?Z:0,p.checkAddStudent.value))}),t.qZA(),t.TgZ(3,"label",203),t._uU(4),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()()()}if(2&c){const i=t.oxw();t.xp6(2),t.Q6J("formControl",i.checkAddStudent)("checked",1==(null==i.classroomObj?null:i.classroomObj.showAddStudent)),t.xp6(2),t.hij(" ",i.checkAddStudent.value?t.lcZ(5,3,"lang_student_classroom_list_detail_on"):t.lcZ(6,5,"lang_student_classroom_list_detail_off")," ")}}function Ho(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"azt-export-excel-for-student-list",204),t.NdJ("exportDataDone",function(p){t.CHM(i);const Z=t.oxw();return t.KtG(Z.exportStudentListDone(p))}),t.qZA()}if(2&c){const i=t.oxw();t.Q6J("objs",i.exportStudentObjs)}}let li=(()=>{class c extends v.Q{onSearchBox(i){this.searchContentObj=i}toggleExpandedContent(i){this.expandedItemIndex=this.expandedItemIndex===i?-1:i}copyLinkToClipboard(){return this.joinClassroomLink}convertNameForQR(){return"QR_Join_Classroom_"+this.commonService.convertVietnameseToEnglish(this.classroomObj?.name??this.classroomObj?.hashId??"")}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.listStudents)}exportStudentListDone(i){let _=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(i,_)}exportExcelForScoreOfClassroom(){this.loadingExport=!0;let i="";Gt.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??""),this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataGetAllExamObjsOfClassroomIdGet(Number(this.classroomId)).subscribe(_=>{1==_.success?_.data?.objs&&_.data?.objs.length?this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(p=>{if(1==p.success){let Z=p.data?.objs??new Array;this.prepareDataForExportScore(_.data?.objs??[],Z).subscribe(J=>{let R=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"",m=this.commonService.createFileNameExportFile([R,this.classroomObj?.name??""]);if(this.commonService.myTranslate(["lang_auto_tap_tin_dang_duoc_tai_xuong"]).subscribe(a=>{i=a.lang_auto_tap_tin_dang_duoc_tai_xuong,Gt.G.changeMsgLoadingEffect(i)}),this.classroomObj){const a=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,J,_.data?.objs);this.shareFileFlutterService.shareFileWithBlob(a,m+".xlsx")}Gt.G.closeLoadingEffect(200),this.loadingExport=!1})}else this.errorStatusObj(p.message??"",!0),Gt.G.closeLoadingEffect(10),this.loadingExport=!1})):this.exportExcelForScoreHomeworkOfClassroom():(this.errorStatusObj(_.message??"",!0),Gt.G.closeLoadingEffect(10),this.loadingExport=!1)}))}exportExcelForScoreHomeworkOfClassroom(){this.loadingExport=!0;let i=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"";this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(_=>{if(1==_.success){let p=this.commonService.createFileNameExportFile([i,this.classroomObj?.name??""]);if(this.classroomObj){const Z=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,_.data?.objs??[]);this.shareFileFlutterService.shareFileWithBlob(Z,p+".xlsx")}}else this.errorStatusObj(_.message??"",!0);Gt.G.closeLoadingEffect(10),this.loadingExport=!1}))}prepareDataForExportScore(i,_){return new pe.y(p=>{let Z=this.commonService.myTranslateInstant("lang_export_classroom_score_counter_message")??"",J=0,R=i.length,m=a=>{J<R?(Gt.G.changeMsgLoadingEffect(Z+i[J].name+" ("+(J+1)+"/"+R+")"),this.waitDestroy(this.exportClassroomScoreApiService.getTestedAllResultByClassroomId("export_classroom",i[J].id??0,this.classroomId,a).subscribe(o=>{1==o.success?(o.data&&(a=[...o.data]),J++,m(a)):p.error(o.message)}))):(p.next(a),p.complete())};m(_)})}getNoticeObjsRequest(){this.waitDestroy(this.noticeService.apiNoticeGetAllNoticeRequestForClassGet(this.classroomId).subscribe(i=>{1==i.success?(i.data?.objs?.length??0)>0&&this.sAztDialogService.open(Bt,{width:"750px",data:{noticeObjs:i.data?.objs??[],classroomObj:this.classroomObj},restoreFocus:!1}):this.showErrorSnack("lang_auto_loi_khong_load_duoc_du_lieu_lop_hoc")}))}changeSortType(i){this.waitDestroy(this.classroomService.apiClassroomChangeSortTypeGet(this.classroomId,i).subscribe(_=>{1==_.success?(this.checkSortListStudent(i),this.classroomObj?.sortType&&(this.classroomObj.sortType=i),this.getData()):this.errorStatusObj(_.message??"",!0)}))}checkSortListStudent(i){this.listStudents=0==i?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.rawStudentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.rawStudentObjs)??[],"pos","id")}onPositionChange(i,_,p,Z){let J="up"==i?1:"down"==i?2:3,R=3==J?i??"":"",m=parseInt(R,10);this.waitDestroy(this.classroomService.apiClassroomChangePositionStudentGet(Number(3!=J?_:m),Number(p),Number(Z),Number(J)).subscribe(o=>{1==o.success?this.getData():this.showErrorSnack(""==R&&3==J?"lang_auto_loi_nhap_so_de_thay_doi_vi_tri_hs":"lang_auto_loi_khong_the_doi_vi_tri_hs")}))}changeAnonymousStudentStatus(i,_){this.waitDestroy(_?this.classroomService.apiClassroomChangeShowAddStudentGet(i,1).subscribe(p=>{1==p.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(p.message??"",!0)}):this.classroomService.apiClassroomChangeShowAddStudentGet(i,0).subscribe(p=>{1==p.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(p.message??"",!0)}))}addStudentDialog(i){this.sAztDialogService.open(re,{width:"750px",data:{studentObjs:this.listStudents,classroomObj:i},restoreFocus:!1}).afterClosed().subscribe(p=>{p&&this.getData()})}deleteStudentDialog(i){this.sAztDialogService.open(De.i,{data:{studentObj:i,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(p=>{p&&this.getData()})}editStudentDialog(i){this.sAztDialogService.open(Re.W,{data:{studentObj:i,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(p=>{p&&this.getData()})}openDialogAutoNumbering(){this.sAztDialogService.open(He.G,{data:{classroomWithGroup:[],type:2,listCheckBox:this.classroomObj?.id?[this.classroomObj.id]:[],totalStudent:this.classroomObj?.countStudents},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(_=>{_&&this.getData()})}openDialogCheckboxMonth(i){this.sAztDialogService.open(Be,{width:"454px",restoreFocus:!1,data:i.id}).afterClosed().subscribe(_=>{_&&this.getListStudentApiNew()})}goToProfile(i,_){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+i+"/"+_,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${i}/0`))}goToMergeStudent(i){this.commonService.myNavigation("/admin/student/merge-student/"+i)}translateExportNote(){let i="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),_="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),p="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),Z="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four");this.export=[i,_,p,Z]}openDialogResetPass(i){this.sAztDialogService.open(ve.g,{width:"500px",restoreFocus:!1,data:{id:i.parentId,name:i.fullName}}).afterClosed().subscribe(_=>{_&&this.getData()})}getData(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.classroomId).subscribe(i=>{if(1==i.success){this.classroomObj=i?.data?.classroomObj,this.permissionObj=this.classroomObj?.permissionObj,this.checkAddStudent.setValue(1==this.classroomObj?.showAddStudent),this.rawStudentObjs=i?.data?.studentObjs,this.checkSortListStudent(i?.data?.classroomObj?.sortType);let p=this.commonService.getCurrentDomain();this.joinClassroomLink=`${p}/${this.commonService.getCurrentLang()}/student/join-classroom/${this.classroomObj?.hashId}`,this.countStudent=i?.data?.studentObjs?.length,this.hasStudents=!!(i?.data?.studentObjs&&i.data.studentObjs.length>0),this.getListStudentApiNew(),this.getNoticeObjsRequest(),this.successStatusObj()}else this.errorStatusObj(i.message??"",!0)}))}getListStudentApiNew(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:this.listStudents?.length??0,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:!1,getAssessment:!1}).subscribe(_=>{_?_.list.forEach(p=>{var Z=this.listStudents?.find(J=>J.id==p.id);Z&&(Z.lastMonthPaid=p.lastMonthPaid,Z.lastYearPaid=p.lastYearPaid,Z.schoolName=p.schoolName,Z.facebookLink=Z.moreInfo?.facebookLink)}):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}checkValidFormIdentify(i){this.validFormIdentify=i.target instanceof HTMLInputElement&&Number(i.target.value)<=999999-(this.listStudents?.length??0)}handleTabActive(i){this.tabActive=i}ngOnInit(){super.ngOnInit(),this.translateExportNote(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"));let i=this.commonService.getMyQueryParam("backto");this.backToLink=i??"/admin/student/manage-classroom/0",this.getData()}constructor(i,_,p,Z,J,R,m,a,o,r,d){super(),this.shareFileFlutterService=i,this.classroomService=_,this.classroomExportDataService=p,this.noticeService=Z,this.activeRoute=J,this.sortService=R,this.studentProfileV2Service=m,this.exportExcelService=a,this.sAztDialogService=o,this.studentService=r,this.exportClassroomScoreApiService=d,this.checkAddStudent=new ut.NI(!1,{nonNullable:!0}),this.backToLink="",this.classroomId=0,this.export=[""],this.hasStudents=!1,this.validFormIdentify=!0,this.loadingExport=!1,this.expandedItemIndex=-1,this.joinClassroomLink="",this.tabActive=1,this.mouseDown=!1,this.searchContentObj=new mt.h,this.form=new ut.cw({searchContent:new ut.NI("",{nonNullable:!0,validators:[ut.kI.required]}),startIdentifyIndex:new ut.NI("",{nonNullable:!0,validators:[ut.kI.min(1),ut.kI.max(999999),ut.kI.pattern(/^[0-9]*$/)]})})}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(Q.g),t.Y36(bt.um),t.Y36(V.Tg),t.Y36(Sn.L$),t.Y36(st.gz),t.Y36(Ee.V),t.Y36(V.LU),t.Y36(nn.L),t.Y36(be.C),t.Y36($e.V),t.Y36(C))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-student-list"]],viewQuery:function(i,_){if(1&i&&t.Gf(Gn,5),2&i){let p;t.iGM(p=t.CRH())&&(_.slider=p.first)}},features:[t.qOj],decls:19,vars:19,consts:[[1,"grid","grid-cols-12","mt-5"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menu","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],[4,"ngIf"],["class","block lg:hidden",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[1,"col-span-12","intro-y","flex","justify-between","items-center","mb-5"],[1,"flex","items-center"],[1,"text-lg","font-medium","mr-2"],[1,"mr-2"],[3,"fileName","linkUrl","showLink",4,"ngIf"],[3,"backToLink","objectCodeType","objectCode","objectId","classroomWithPermissionObj"],["class","dropdown ml-2","style","align-self: end",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[1,"azt-hidden","md:block"],["style","height: 100%",4,"ngIf"],["class","box p-3 flex items-center","style","min-height: 216px",4,"ngIf"],[1,"md:hidden"],["class","box p-3 mt-3",4,"ngFor","ngForOf"],[3,"fileName","linkUrl","showLink"],[1,"dropdown","ml-2",2,"align-self","end"],["class","dropdown-toggle btn btn-sm btn-outline-secondary",3,"matMenuTriggerFor",4,"ngIf"],[1,"dropdown-toggle","btn","btn-sm","btn-outline-secondary",3,"matMenuTriggerFor"],[1,"w-4","h-4","flex","items-center","justify-center"],["name","settings"],[1,"col-span-12"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"isServerSearch","placeholder","onSearch"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-details-s9VkYOpJZKc","class","btn btn-primary btn-sm shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details--hDdQw7XTpD","class","btn btn-primary btn-sm shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-sm btn-primary shadow-md mr-2 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-_DnbWckI_DG","class","btn btn-sm px-2 box shadow-md mr-2 azt-hidden md:flex hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],[1,"dropdown"],["class","dropdown-toggle btn px-2 box",3,"matMenuTriggerFor",4,"ngIf"],["azt-track-service","class-list-details-s9VkYOpJZKc",1,"btn","btn-primary","btn-sm","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],[1,"flex-none","inline-block","w-4","h-4","mr-2"],["name","file-text"],["azt-track-service","class-list-details--hDdQw7XTpD",1,"btn","btn-primary","btn-sm","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["class","flex-none inline-block w-4 h-4 mr-2",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-sm","btn-primary","shadow-md","mr-2","w-full","sm:w-auto",3,"click"],[1,"w-4","h-4","flex-none","inline-block","mr-2"],["name","plus"],["azt-track-service","class-list-details-_DnbWckI_DG",1,"btn","btn-sm","px-2","box","shadow-md","mr-2","azt-hidden","md:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary"],[1,"dropdown-toggle","btn","px-2","box",3,"matMenuTriggerFor"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-5",2,"white-space","initial","display","table"],[1,"text-center",2,"width","60px","padding","0 !important"],[2,"width","60px",3,"matTooltipDisabled","matTooltip"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],["class","text-center whitespace-nowrap",4,"ngIf"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],[2,"padding","5px 5px 5px 0"],["style","width: 100%; text-align: center; border-right: 1px solid #ccc; display: inline-grid; padding: 5px",4,"ngIf","ngIfElse"],["sttStudent",""],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","identificationNumber","gender","hasUser","schoolName","classrooms","joinedAt","phone","email"],[1,"text-center","capitalize"],["class","text-center",4,"ngIf"],[1,"text-center"],[1,"flex","justify-center","items-center"],["azt-track-service","class-list-details-IXPw9fo4fxc","class","btn btn-sm btn-outline-primary mr-3",3,"click",4,"ngIf"],["azt-track-service","class-list-details-O6dc04lZp9g","class","btn btn-sm btn-outline-danger mr-3",3,"click",4,"ngIf"],["azt-track-service","student-list-hM337DYZ_","class","btn btn-sm mr-3",3,"disabled","click",4,"ngIf"],[2,"width","100%","text-align","center","border-right","1px solid #ccc","display","inline-grid","padding","5px"],["azt-track-service","class-list-details-DAInj2oep","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["type","text","appOnlyNumber","",1,"form-control","text-center",2,"padding","4px",3,"value","keyup.enter"],["myInput",""],["azt-track-service","class-list-details-piloTgTGAq","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-DAInj2oep",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","class-list-details-piloTgTGAq",1,"clickable",2,"width","100%","text-align","center",3,"click"],[1,"text-center","font-bold"],["class","text-slate-500",4,"ngIf"],["azt-track-service","student-list-eJc79Svrw",1,"w-5","inline-block","ml-1","zoom-in",2,"margin-top","-2px","color","gray",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-calendar-search"],["d","M21 12V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h7.5"],["d","M16 2v4"],["d","M8 2v4"],["d","M3 10h18"],["d","M18 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6v0Z"],["d","m22 22-1.5-1.5"],[1,"text-slate-500"],["azt-track-service","class-list-details-IXPw9fo4fxc",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","class-list-details-O6dc04lZp9g",1,"btn","btn-sm","btn-outline-danger","mr-3",3,"click"],[1,"w-4","h-4","mr-2","inline-block"],["name","trash-2"],["azt-track-service","student-list-hM337DYZ_",1,"btn","btn-sm","mr-3",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide","flex-none"],["d","M21 6H3"],["d","M7 12H3"],["d","M7 18H3"],["d","M12 18a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L11 14"],["d","M11 10v4h4"],[2,"text-wrap","nowrap"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","82","height","90","viewBox","0 0 82 90","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M29.1186 60.3066C29.0404 60.8599 29 61.4252 29 62C29 68.6274 34.3726 74 41 74C47.6274 74 53 68.6274 53 62C53 61.4252 52.9596 60.8599 52.8815 60.3066H82V87C82 88.6569 80.6569 90 79 90H3C1.34315 90 0 88.6569 0 87V60.3066H29.1186Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M54 60C54 67.1797 48.1797 73 41 73C33.8203 73 28 67.1797 28 60C28 59.7674 28.0061 59.5362 28.0182 59.3066H0L9.56044 31.0389C9.9726 29.8202 11.1159 29 12.4023 29H69.5977C70.8842 29 72.0274 29.8202 72.4396 31.0389L82 59.3066H53.9818C53.9939 59.5362 54 59.7674 54 60Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M52.0976 60.9545C52.0976 66.5025 47.129 72 41 72C34.871 72 29.9024 66.5025 29.9024 60.9545C29.9024 60.7748 29.9077 59.5962 29.918 59.4188H9L17.1614 39.5755C17.5132 38.6338 18.4891 38 19.5873 38H62.4127C63.5109 38 64.4868 38.6338 64.8387 39.5755L73 59.4188H52.082C52.0923 59.5962 52.0976 60.7748 52.0976 60.9545Z","fill","#E8F0FE"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 59.5123V86C1.25 86.9665 2.0335 87.75 3 87.75H79C79.9665 87.75 80.75 86.9665 80.75 86V59.5123L71.2554 31.4393C71.015 30.7285 70.3481 30.25 69.5977 30.25H12.4023C11.6519 30.25 10.985 30.7285 10.7446 31.4393L1.25 59.5123Z","stroke","#1F64E7","stroke-width","2.5"],["d","M14 59C17.9366 59 22.1849 59 26.7449 59C28.6212 59 28.6212 60.3186 28.6212 61C28.6212 67.6274 34.1174 73 40.8973 73C47.6772 73 53.1734 67.6274 53.1734 61C53.1734 60.3186 53.1734 59 55.0496 59H80M6.57373 59H9H6.57373Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M66.0996 6.30273L55 18.7559M40.0996 2V18.7559V2ZM14 6.30273L25.0996 18.7559L14 6.30273Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-3"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],[1,"box","p-3","mt-3"],[1,"flex","items-center","text-sm"],[1,"flex","items-start","px-3"],["azt-track-service","class-list-details-PLih7noFG",1,"flex","items-center",3,"click"],[1,"w-9","h-9","image-fit","zoom-in"],[3,"matTooltip","nameCreateAvatar","linkAvatar","size"],[1,"ml-4",2,"max-width","150px"],["class","font-medium",3,"matTooltip",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",3,"matTooltip",4,"ngIf"],["class","absolute right-0 top-0 mr-6 mt-3 dropdown",4,"ngIf"],["azt-track-service","class-list-details-pefaSVrkl",1,"ml-auto","mr-3","p-1","mt-6","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"click"],[1,"w-5","h-5","inline-block"],["name","chevron-down"],[1,"mt-2"],[1,"font-medium",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-slate-500","text-xs","mt-0.5",3,"matTooltip"],[1,"absolute","right-0","top-0","mr-6","mt-3","dropdown"],[1,"dropdown-toggle","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"matMenuTriggerFor"],[1,"w-5","h-5","text-slate-500"],["name","more-horizontal"],["menuAction","matMenu"],[1,"dropdown-menu","show","relative","w-56"],["azt-track-service","class-list-details-Q6L3Qb4nL-","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-xA4MDIyq3o","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Q6L3Qb4nL-",1,"dropdown-item",3,"click"],["azt-track-service","class-list-details-xA4MDIyq3o",1,"dropdown-item",3,"click"],["azt-track-service","student-list-BQ1zew8XrF","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","student-list-BQ1zew8XrF",1,"dropdown-item",3,"click"],[1,"flex","items-center","p-3","border-t","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md"],[1,"ml-auto"],["class","flex items-center justify-center text-success",4,"ngIf"],["class","flex items-center p-3 border-t border-slate-200/60 dark:border-darkmode-400",4,"ngIf"],[1,"flex","items-center","justify-center","text-success"],["name","check-square"],[1,"w-full"],[2,"width","100%","text-align","center","display","inline-grid","padding","5px"],["azt-track-service","class-list-details-uQr-XCrTnlF","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Ad3KhS_O8H4","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-uQr-XCrTnlF",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","class-list-details-Ad3KhS_O8H4",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","student-list-z7Lql-3ZDJ","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","student-list-z7Lql-3ZDJ",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],["azt-track-service","class-list-details-NcMQ164X2B1",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M9 17H7A5 5 0 0 1 7 7h2"],["d","M15 7h2a5 5 0 1 1 0 10h-2"],["x1","8","y1","12","x2","16","y2","12"],["azt-track-service","class-list-details-woiwIJfYoz7",1,"dropdown-item","w-full",3,"click"],["d","M11 5h4"],["d","M11 9h7"],["d","M11 13h10"],["d","m3 17 3 3 3-3"],["d","M6 18V4"],["class","w-4 h-4 ml-2 text-success inline-block flex-none",4,"ngIf"],[1,"w-4","h-4","ml-2","text-success","inline-block","flex-none"],["name","check"],["azt-track-service","class-list-details-dc7h-1UoWkq",1,"dropdown-item","w-full",3,"click"],["x1","10","y1","6","x2","21","y2","6"],["x1","10","y1","12","x2","21","y2","12"],["x1","10","y1","18","x2","21","y2","18"],["d","M4 6h1v4"],["d","M4 10h2"],["d","M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"],[1,"ml-1",3,"matTooltip"],[1,"block","lg:hidden"],["azt-track-service","class-list-details-dQQjeblrGNo",1,"dropdown-item","w-full",3,"click"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],["azt-track-service","class-list-details-EPPk_ECcOhT",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","file-text","data-lucide","file-text",1,"lucide","lucide-file-text","flex-none","w-4","h-4","mr-2"],["d","M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],["azt-track-service","student-list-I77ChHGFW",1,"form-check","form-switch","p-2",3,"click"],["type","checkbox","id","check-add-student",1,"show-code","form-check-input","mr-1",3,"formControl","checked","change"],["for","check-add-student",1,"form-check-label","ml-0"],[3,"objs","exportDataDone"]],template:function(i,_){if(1&i&&(t.TgZ(0,"div",0),t.YNc(1,so,2,0,"div",1),t.YNc(2,tt,22,34,"ng-template",null,2,t.W1O),t.qZA(),t.TgZ(4,"mat-menu",3,4)(6,"div",5)(7,"ul",6),t.YNc(8,ft,8,3,"li",7),t.YNc(9,rt,11,4,"li",7),t.YNc(10,gn,14,7,"li",7),t.YNc(11,Jt,11,3,"li",8),t.ALo(12,"editPermission"),t.YNc(13,Nn,10,3,"li",8),t.ALo(14,"viewPermission"),t.YNc(15,ho,10,3,"li",8),t.YNc(16,Pi,7,7,"li",7),t.ALo(17,"editPermission"),t.qZA()()(),t.YNc(18,Ho,1,1,"azt-export-excel-for-student-list",9)),2&i){const p=t.MAs(3);let Z,J,R,m,a,o;t.xp6(1),t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",p),t.xp6(7),t.Q6J("ngIf",_.hasStudents||(null!==(Z=null==_.listStudents?null:_.listStudents.length)&&void 0!==Z?Z:0)>0),t.xp6(1),t.Q6J("ngIf",_.hasStudents||(null!==(J=null==_.listStudents?null:_.listStudents.length)&&void 0!==J?J:0)>0),t.xp6(1),t.Q6J("ngIf",_.hasStudents||(null!==(R=null==_.listStudents?null:_.listStudents.length)&&void 0!==R?R:0)>0),t.xp6(1),t.Q6J("ngIf",t.xi3(12,10,_.classroomObj,"student")&&(_.hasStudents||(null!==(m=null==_.listStudents?null:_.listStudents.length)&&void 0!==m?m:0)>0)),t.xp6(2),t.Q6J("ngIf",t.xi3(14,13,_.classroomObj,"student")&&(_.hasStudents||(null!==(a=null==_.listStudents?null:_.listStudents.length)&&void 0!==a?a:0)>0)),t.xp6(2),t.Q6J("ngIf",_.hasStudents||(null!==(o=null==_.listStudents?null:_.listStudents.length)&&void 0!==o?o:0)>0),t.xp6(1),t.Q6J("ngIf",t.xi3(17,16,_.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",_.exportStudentObjs)}},dependencies:[X.sg,X.O5,q.Hw,h.VK,h.p6,Ot.gM,ut.Wl,ut.JJ,ut.oH,gt.l,j.g,K.W,Zt.Y,Vt.S,Tt.n,Ht.y,Ct.W,dn.a,Te.HU,Te.$Z,kt.Nh5,D.JV,D.QN,D.om,D.Wr,D.Pf,D.J7,D.gw,D.YK],encapsulation:2,data:{animation:[(0,ue.X$)("expandCollapse",[(0,ue.SB)("open",(0,ue.oB)({height:"*"})),(0,ue.SB)("closed",(0,ue.oB)({height:"0px"})),(0,ue.eR)("open <=> closed",[(0,ue.jt)("0.3s ease-in-out")])])]}}),c})();var Ui=x(87789);function on(c,b){1&c&&t._UZ(0,"azt-loading-effect")}const ci=function(c){return{"text-white":c}};function rn(c,b){if(1&c&&(t.TgZ(0,"div",20),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c){const i=t.oxw(),p=i.$implicit;t.Q6J("ngClass",t.VKq(4,ci,0===i.index)),t.xp6(1),t.Oqu(p.averageMark+" "+t.lcZ(2,2,"lang_auto_diem"))}}function mi(c,b){if(1&c&&(t.TgZ(0,"div",20),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c){const i=t.oxw();t.Q6J("ngClass",t.VKq(4,ci,0===i.index&&i.$implicit.averageMark)),t.xp6(1),t.Oqu(t.lcZ(2,2,"lang_not_data"))}}function _i(c,b){1&c&&(t.TgZ(0,"div",21),t.O4$(),t.TgZ(1,"svg",22),t._UZ(2,"path",23),t.TgZ(3,"g",24),t._UZ(4,"path",25),t.qZA(),t.TgZ(5,"defs")(6,"clipPath",26),t._UZ(7,"rect",27),t.qZA()()()())}function zi(c,b){1&c&&(t.TgZ(0,"div",28),t.O4$(),t.TgZ(1,"svg",22),t._UZ(2,"path",29),t.TgZ(3,"g",30),t._UZ(4,"path",25),t.qZA(),t.TgZ(5,"defs")(6,"clipPath",31),t._UZ(7,"rect",27),t.qZA()()()())}function di(c,b){1&c&&(t.TgZ(0,"div",32),t.O4$(),t.TgZ(1,"svg",22),t._UZ(2,"path",33),t.TgZ(3,"g",34),t._UZ(4,"path",25),t.qZA(),t.TgZ(5,"defs")(6,"clipPath",35),t._UZ(7,"rect",27),t.qZA()()()())}const an=function(c,b,i){return{"p-5 bg-primary text-white":c,"p-3":b,"border border-primary p-4 border-w-2":i}},ui=function(c){return{"text-base":c}};function pi(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){const Z=t.CHM(i).$implicit,J=t.oxw(3);return t.KtG(J.goToProfile(Z.classroomId,Z.id))}),t.TgZ(1,"div",8)(2,"span",9),t._uU(3),t.qZA()(),t.TgZ(4,"div",10)(5,"div",11),t._UZ(6,"azt-create-avatar",12),t.qZA(),t.TgZ(7,"div",13)(8,"div",14),t._uU(9),t.qZA(),t.YNc(10,rn,3,6,"div",15),t.YNc(11,mi,3,6,"div",15),t.qZA()(),t.TgZ(12,"div",16),t.YNc(13,_i,8,0,"div",17),t.YNc(14,zi,8,0,"div",18),t.YNc(15,di,8,0,"div",19),t.qZA()()}if(2&c){const i=b.$implicit,_=b.index;t.Q6J("ngClass",t.kEZ(12,an,0===_&&i.averageMark,0!==_||!i.averageMark,(2===_||1===_)&&i.averageMark)),t.xp6(3),t.Oqu(_+1),t.xp6(3),t.Q6J("linkAvatar",i.avatar)("nameCreateAvatar",i.fullName)("size",0===_?48:44),t.xp6(2),t.Q6J("ngClass",t.VKq(16,ui,0===_)),t.xp6(1),t.Oqu(i.fullName),t.xp6(1),t.Q6J("ngIf",i.averageMark),t.xp6(1),t.Q6J("ngIf",!i.averageMark),t.xp6(2),t.Q6J("ngIf",0===_&&i.averageMark),t.xp6(1),t.Q6J("ngIf",1===_&&i.averageMark),t.xp6(1),t.Q6J("ngIf",2===_&&i.averageMark)}}function Fi(c,b){if(1&c&&(t.TgZ(0,"div",4)(1,"div",5),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,pi,16,18,"div",6),t.qZA()),2&c){const i=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_azt_leaderboard")," "),t.xp6(2),t.Q6J("ngForOf",i.dataStudent.list)}}function Go(c,b){1&c&&(t.TgZ(0,"div",36)(1,"div",37),t.O4$(),t.TgZ(2,"svg",38),t._UZ(3,"path",39)(4,"path",40)(5,"path",41)(6,"path",42)(7,"path",43)(8,"path",44),t.qZA(),t.kcU(),t.TgZ(9,"p",45),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()),2&c&&(t.xp6(10),t.Oqu(t.lcZ(11,1,"lang_not_data")+"!"))}function Ji(c,b){if(1&c&&(t.YNc(0,Fi,5,4,"div",2),t.YNc(1,Go,12,3,"ng-template",null,3,t.W1O)),2&c){const i=t.MAs(2),_=t.oxw();t.Q6J("ngIf",_.dataStudent&&_.dataStudent.list&&_.dataStudent.list.length)("ngIfElse",i)}}let gi=(()=>{class c extends v.Q{goToProfile(i,_){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+i+"/"+_,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${i}/5`))}getListStudent(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1e3,name:"",programId:0,classroomId:this.classroomId,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1}).subscribe({next:_=>{this.dataStudent=_,this.dataStudent.list.sort((p,Z)=>(Z.averageMark??0)-(p.averageMark??0)),this.stopStatusObj()},error:_=>{this.errorStatusObj(_.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getListStudent()}constructor(i,_){super(),this.studentService=i,this.activeRoute=_,this.classroomId=0}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(Ui.VT),t.Y36(st.gz))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-leaderboard"]],inputs:{isStudent:"isStudent"},features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["class","p-4 leaderboard rounded-lg",4,"ngIf","ngIfElse"],["emptyData",""],[1,"p-4","leaderboard","rounded-lg"],[1,"text-xl","text-center","font-medium"],["azt-track-service","leaderboard-dDzfaXSYR","class","flex items-center box rounded-25px mt-4 intro-x zoom-in p-3","style","min-height: 92px",3,"ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","leaderboard-dDzfaXSYR",1,"flex","items-center","box","rounded-25px","mt-4","intro-x","zoom-in","p-3",2,"min-height","92px",3,"ngClass","click"],[1,"w-5","h-5","rounded-full","border","border-w-2","border-slate-200","dark:border-slate-400","flex","items-center","justify-center"],[1,"text-xs","font-medium"],[1,"mx-3","flex","items-center"],[1,"image-fit","zoom-in"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4"],[1,"font-medium",3,"ngClass"],["class","text-slate-600 mt-0.5 text-xs font-medium",3,"ngClass",4,"ngIf"],[1,"ml-auto"],["class","icon-top-1",4,"ngIf"],["class","icon-top-2",4,"ngIf"],["class","icon-top-3",4,"ngIf"],[1,"text-slate-600","mt-0.5","text-xs","font-medium",3,"ngClass"],[1,"icon-top-1"],["width","40","height","40","viewBox","0 0 40 40","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17.9929 1.16429C19.2341 0.444284 20.7659 0.444285 22.0071 1.16429L28.65 5.01776L35.3087 8.84395C36.5528 9.55886 37.3187 10.8854 37.3158 12.3203L37.3 20L37.3158 27.6797C37.3187 29.1146 36.5528 30.4411 35.3087 31.1561L28.65 34.9822L22.0071 38.8357C20.7659 39.5557 19.2341 39.5557 17.9929 38.8357L11.35 34.9822L4.69135 31.1561C3.4472 30.4411 2.68131 29.1146 2.68425 27.6797L2.7 20L2.68425 12.3203C2.68131 10.8854 3.4472 9.55886 4.69135 8.84395L11.35 5.01776L17.9929 1.16429Z","fill","#FFD54B"],["clip-path","url(#clip0_199_17919)"],["d","M20 15L23.3333 20L27.5 16.6667L25.8333 25H14.1667L12.5 16.6667L16.6667 20L20 15Z","fill","white","stroke","white","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_199_17919"],["width","20","height","20","fill","white","transform","translate(10 10)"],[1,"icon-top-2"],["d","M17.9929 1.16429C19.2341 0.444284 20.7659 0.444285 22.0071 1.16429L28.65 5.01776L35.3087 8.84395C36.5528 9.55886 37.3187 10.8854 37.3158 12.3203L37.3 20L37.3158 27.6797C37.3187 29.1146 36.5528 30.4411 35.3087 31.1561L28.65 34.9822L22.0071 38.8357C20.7659 39.5557 19.2341 39.5557 17.9929 38.8357L11.35 34.9822L4.69135 31.1561C3.4472 30.4411 2.68131 29.1146 2.68425 27.6797L2.7 20L2.68425 12.3203C2.68131 10.8854 3.4472 9.55886 4.69135 8.84395L11.35 5.01776L17.9929 1.16429Z","fill","#E1E1E2"],["clip-path","url(#clip0_199_17945)"],["id","clip0_199_17945"],[1,"icon-top-3"],["d","M17.9929 1.16429C19.2341 0.444284 20.7659 0.444285 22.0071 1.16429L28.65 5.01776L35.3087 8.84395C36.5528 9.55886 37.3187 10.8854 37.3158 12.3203L37.3 20L37.3158 27.6797C37.3187 29.1146 36.5528 30.4411 35.3087 31.1561L28.65 34.9822L22.0071 38.8357C20.7659 39.5557 19.2341 39.5557 17.9929 38.8357L11.35 34.9822L4.69135 31.1561C3.4472 30.4411 2.68131 29.1146 2.68425 27.6797L2.7 20L2.68425 12.3203C2.68131 10.8854 3.4472 9.55886 4.69135 8.84395L11.35 5.01776L17.9929 1.16429Z","fill","#F6B191"],["clip-path","url(#clip0_199_17968)"],["id","clip0_199_17968"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","82","height","90","viewBox","0 0 82 90","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M29.1186 60.3066C29.0404 60.8599 29 61.4252 29 62C29 68.6274 34.3726 74 41 74C47.6274 74 53 68.6274 53 62C53 61.4252 52.9596 60.8599 52.8815 60.3066H82V87C82 88.6569 80.6569 90 79 90H3C1.34315 90 0 88.6569 0 87V60.3066H29.1186Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M54 60C54 67.1797 48.1797 73 41 73C33.8203 73 28 67.1797 28 60C28 59.7674 28.0061 59.5362 28.0182 59.3066H0L9.56044 31.0389C9.9726 29.8202 11.1159 29 12.4023 29H69.5977C70.8842 29 72.0274 29.8202 72.4396 31.0389L82 59.3066H53.9818C53.9939 59.5362 54 59.7674 54 60Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M52.0976 60.9545C52.0976 66.5025 47.129 72 41 72C34.871 72 29.9024 66.5025 29.9024 60.9545C29.9024 60.7748 29.9077 59.5962 29.918 59.4188H9L17.1614 39.5755C17.5132 38.6338 18.4891 38 19.5873 38H62.4127C63.5109 38 64.4868 38.6338 64.8387 39.5755L73 59.4188H52.082C52.0923 59.5962 52.0976 60.7748 52.0976 60.9545Z","fill","#E8F0FE"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 59.5123V86C1.25 86.9665 2.0335 87.75 3 87.75H79C79.9665 87.75 80.75 86.9665 80.75 86V59.5123L71.2554 31.4393C71.015 30.7285 70.3481 30.25 69.5977 30.25H12.4023C11.6519 30.25 10.985 30.7285 10.7446 31.4393L1.25 59.5123Z","stroke","#1F64E7","stroke-width","2.5"],["d","M14 59C17.9366 59 22.1849 59 26.7449 59C28.6212 59 28.6212 60.3186 28.6212 61C28.6212 67.6274 34.1174 73 40.8973 73C47.6772 73 53.1734 67.6274 53.1734 61C53.1734 60.3186 53.1734 59 55.0496 59H80M6.57373 59H9H6.57373Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M66.0996 6.30273L55 18.7559M40.0996 2V18.7559V2ZM14 6.30273L25.0996 18.7559L14 6.30273Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"]],template:function(i,_){if(1&i&&(t.YNc(0,on,1,0,"azt-loading-effect",0),t.YNc(1,Ji,3,2,"ng-template",null,1,t.W1O)),2&i){const p=t.MAs(2);t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",p)}},dependencies:[X.mk,X.sg,X.O5,gt.l,j.g,D.JV],styles:[".leaderboard[_ngcontent-%COMP%]{background:#dae3fe;border-radius:30px}.rounded-25px[_ngcontent-%COMP%]{border-radius:25px}"]}),c})();const Ln=function(c){return{"text-white bg-primary":c}},Zn=function(c){return[c]};function hi(c,b){if(1&c&&(t.TgZ(0,"a",25),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",26),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&c){const i=t.oxw(2);t.Q6J("ngClass",t.VKq(7,Ln,3===i.tabActive))("routerLink",t.VKq(9,Zn,t.lcZ(1,3,"/admin/student/classroom-details/"+i.classroomId+"/3"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_student_educational_program"))}}function Vo(c,b){if(1&c&&(t.TgZ(0,"a",27),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",8),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&c){const i=t.oxw(2);t.Q6J("ngClass",t.VKq(7,Ln,4===i.tabActive))("routerLink",t.VKq(9,Zn,t.lcZ(1,3,"/admin/student/classroom-details/"+i.classroomId+"/4"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_student_grade_sheet"))}}function fi(c,b){if(1&c&&(t.TgZ(0,"a",28),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",29),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&c){const i=t.oxw(2);t.Q6J("ngClass",t.VKq(7,Ln,5===i.tabActive))("routerLink",t.VKq(9,Zn,t.lcZ(1,3,"/admin/student/classroom-details/"+i.classroomId+"/5"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_azt_leaderboard"))}}function xi(c,b){if(1&c&&(t.TgZ(0,"a",28),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",30),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&c){const i=t.oxw(2);t.Q6J("ngClass",t.VKq(7,Ln,4===i.tabActive))("routerLink",t.VKq(9,Zn,t.lcZ(1,3,"/business/message/classroom/"+i.classroomId))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_business_dashboard_business_messages"))}}function fo(c,b){if(1&c&&(t.TgZ(0,"div",20)(1,"div",21),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",20),t.YNc(5,hi,7,11,"a",22),t.ALo(6,"async"),t.ALo(7,"allowFeatureBusinessForUser"),t.YNc(8,Vo,7,11,"a",23),t.ALo(9,"async"),t.ALo(10,"allowFeatureBusinessForUser"),t.YNc(11,fi,7,11,"a",24),t.ALo(12,"async"),t.ALo(13,"allowFeatureBusinessForUser"),t.YNc(14,xi,7,11,"a",24),t.qZA()()),2&c){const i=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_student_extensions")," "),t.xp6(3),t.Q6J("ngIf",t.lcZ(6,7,t.Dn7(7,9,"","training_center_curriculum_in_classroom",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(9,13,t.Dn7(10,15,"","training_center_student_mark",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(12,19,t.Dn7(13,21,"","training_center_student_mark",!1))),t.xp6(3),t.Q6J("ngIf",i.businessChatService.ready)}}function xo(c,b){1&c&&(t.TgZ(0,"div",31),t._UZ(1,"app-student-list"),t.qZA())}function $n(c,b){1&c&&(t.TgZ(0,"div",32),t._UZ(1,"app-exam-exercises",33),t.qZA()),2&c&&(t.xp6(1),t.Q6J("isStudent",!1))}function vo(c,b){if(1&c&&(t.TgZ(0,"div",34),t._UZ(1,"app-news-board",35),t.qZA()),2&c){const i=t.oxw();t.xp6(1),t.Q6J("classroomId",i.classroomId)("isStudent",!1)}}function vi(c,b){1&c&&(t.TgZ(0,"div",36),t._UZ(1,"app-educational-program",33),t.qZA()),2&c&&(t.xp6(1),t.Q6J("isStudent",!1))}function qi(c,b){1&c&&(t.TgZ(0,"div",37),t._UZ(1,"app-grand-board",33),t.qZA()),2&c&&(t.xp6(1),t.Q6J("isStudent",!1))}function Qi(c,b){1&c&&(t.TgZ(0,"div",38)(1,"div",39),t._UZ(2,"app-leaderboard",33),t.qZA()()),2&c&&(t.xp6(2),t.Q6J("isStudent",!1))}const bi=function(c){return{"font-medium text-white bg-primary":c}};let Yi=(()=>{class c extends v.Q{getClassroomName(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(i=>{i&&i.success&&(this.classroomName=i.data?.obj?.name??"",this.setTitle())}))}setTitle(){0==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_student_list_title")+": "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_student_list_description",image:"lang_cms_test_image"})):1==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_document_list_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_document_list_description",image:"lang_cms_test_image"})):2==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_news_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_news_board_description",image:"lang_cms_test_image"})):3==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_program_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_program_description",image:"lang_cms_test_image"})):4==this.tabActive&&(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_mark_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_mark_board_description",image:"lang_cms_test_image"}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,s.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.tabActive=Number(this.commonService.getMyParam(this.activeRoute,"tabId")),this.classroomName?this.setTitle():this.getClassroomName()}));let i=this.commonService.getMyQueryParam("backto");this.backToLink=i&&""!=i?i:"/admin/student/manage-classroom/0"}constructor(i,_){super(),this.activeRoute=i,this.classroomService=_,this.backToLink="",this.tabActive=0,this.classroomId=0,this.classroomName="",this.headerTitle=""}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(st.gz),t.Y36(bt.um))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-teacher-classroom-details"]],features:[t.qOj],decls:39,vars:54,consts:[[3,"headerBackToLink","headerTitle"],[1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-3","lg:col-span-2"],[1,"md:pr-3","pr-0","pt-5","md:border-r","border-slate-200","dark:border-darkmode-400"],["azt-track-service","class-list-details-DVvCIvEs15",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],[1,"w-4","h-4","mr-2","flex-none"],["name","user"],["azt-track-service","class-list-details-Kp8HMxHLJW",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","calendar-check"],["azt-track-service","class-list-details-Fqqucj0PCd",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","newspaper"],["class","mt-3",4,"ngIf"],[1,"col-span-12","md:col-span-9","lg:col-span-10"],[1,"mt-5","md:px-3"],["class","student-list",4,"ngIf"],["class","exam-exercises",4,"ngIf"],["class","news-board",4,"ngIf"],["class","educational-program",4,"ngIf"],["class","grand-board",4,"ngIf"],["class","leaderboard",4,"ngIf"],[1,"mt-3"],[1,"font-medium","uppercase"],["azt-track-service","class-list-details-BDKFcoR84En","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-d91Lw-r2PR8","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-BDKFcoR84En",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","library"],["azt-track-service","class-list-details-d91Lw-r2PR8",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],[1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","clipboard-list"],["name","mail"],[1,"student-list"],[1,"exam-exercises"],[3,"isStudent"],[1,"news-board"],[3,"classroomId","isStudent"],[1,"educational-program"],[1,"grand-board"],[1,"leaderboard"],[1,"mx-auto",2,"max-width","500px"]],template:function(i,_){1&i&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.ALo(6,"navigationLocalize"),t.TgZ(7,"div",5),t._UZ(8,"lucide-icon",6),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"a",7),t.ALo(13,"navigationLocalize"),t.TgZ(14,"div",5),t._UZ(15,"lucide-icon",8),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()(),t.TgZ(19,"a",9),t.ALo(20,"navigationLocalize"),t.TgZ(21,"div",5),t._UZ(22,"lucide-icon",10),t.qZA(),t.TgZ(23,"span"),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()()(),t.YNc(26,fo,15,25,"div",11),t.ALo(27,"async"),t.ALo(28,"allowFeatureBusinessForUser"),t.ALo(29,"async"),t.ALo(30,"allowFeatureBusinessForUser"),t.qZA()(),t.TgZ(31,"div",12)(32,"div",13),t.YNc(33,xo,2,0,"div",14),t.YNc(34,$n,2,1,"div",15),t.YNc(35,vo,2,2,"div",16),t.YNc(36,vi,2,1,"div",17),t.YNc(37,qi,2,1,"div",18),t.YNc(38,Qi,3,1,"div",19),t.qZA()()()()),2&i&&(t.Q6J("headerBackToLink",_.backToLink)("headerTitle",_.classroomName),t.xp6(5),t.Q6J("ngClass",t.VKq(42,Ln,0===_.tabActive))("routerLink",t.VKq(44,Zn,t.lcZ(6,18,"/admin/student/classroom-details/"+_.classroomId+"/0"))),t.xp6(5),t.Oqu(t.lcZ(11,20,"lang_cms_classroom_student_list_title")),t.xp6(2),t.Q6J("ngClass",t.VKq(46,Ln,1===_.tabActive))("routerLink",t.VKq(48,Zn,t.lcZ(13,22,"/admin/student/classroom-details/"+_.classroomId+"/1"))),t.xp6(5),t.Oqu(t.lcZ(18,24,"lang_document_exam_exercises")),t.xp6(2),t.Q6J("ngClass",t.VKq(50,bi,2===_.tabActive))("routerLink",t.VKq(52,Zn,t.lcZ(20,26,"/admin/student/classroom-details/"+_.classroomId+"/2"))),t.xp6(5),t.Oqu(t.lcZ(25,28,"lang_student_news_board")),t.xp6(2),t.Q6J("ngIf",t.lcZ(27,30,t.Dn7(28,32,"","training_center_curriculum_in_classroom",!1))||t.lcZ(29,36,t.Dn7(30,38,"","training_center_student_mark",!1))),t.xp6(7),t.Q6J("ngIf",0===_.tabActive),t.xp6(1),t.Q6J("ngIf",1===_.tabActive),t.xp6(1),t.Q6J("ngIf",2===_.tabActive),t.xp6(1),t.Q6J("ngIf",3===_.tabActive),t.xp6(1),t.Q6J("ngIf",4===_.tabActive),t.xp6(1),t.Q6J("ngIf",5===_.tabActive))},dependencies:[st.rH,X.mk,X.O5,n._,kt.Nh5,ct.y,Ye,tn.Y,en.A,li,gi,X.Ov,D.Jy,D.JV,D.J8],encapsulation:2}),c})();var Ro=x(6050),$o=x(83306),et=x(51261);function Xa(c,b){1&c&&t._UZ(0,"azt-loading-ui",16)}function Nt(c,b){1&c&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Dn(c,b){1&c&&t._UZ(0,"azt-loading-effect")}function ln(c,b){1&c&&(t.TgZ(0,"span"),t._uU(1,"/"),t.qZA())}function En(c,b){if(1&c&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,ln,2,0,"span",32),t._uU(3),t.qZA()),2&c){const i=t.oxw().$implicit;t.xp6(1),t.hij(" ",i.lastMonthPaid,""),t.xp6(1),t.Q6J("ngIf",i.lastMonthPaid),t.xp6(1),t.hij("",i.lastYearPaid," ")}}function Yn(c,b){1&c&&(t.TgZ(0,"span",48),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_hoc_thu")," "))}function Kn(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"tr")(1,"td",27),t.NdJ("click",function(){const Z=t.CHM(i).$implicit,J=t.oxw(3);return t.KtG(J.goToProfile(Z.classroomId,Z.id))}),t._UZ(2,"azt-student-info-box",28),t.qZA(),t.TgZ(3,"td",29),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(6,"td",30)(7,"div",31),t.YNc(8,En,4,3,"span",32),t.YNc(9,Yn,3,3,"span",33),t.TgZ(10,"button",34),t.NdJ("click",function(){const Z=t.CHM(i).$implicit,J=t.oxw(3);return t.KtG(J.openDialogCheckboxMonth(Z))}),t.ALo(11,"mytranslate"),t.ALo(12,"mytranslate"),t.O4$(),t.TgZ(13,"svg",35),t._UZ(14,"path",36)(15,"path",37)(16,"path",38)(17,"path",39)(18,"path",40)(19,"path",41),t.qZA()()()(),t.kcU(),t.TgZ(20,"td",42)(21,"div",43),t._uU(22),t.ALo(23,"mytranslate"),t.ALo(24,"mytranslate"),t.qZA()(),t.TgZ(25,"td",42)(26,"div",43),t._uU(27),t.ALo(28,"mytranslate"),t.ALo(29,"mytranslate"),t.qZA()(),t.TgZ(30,"td",30)(31,"div",44)(32,"input",45),t.NdJ("change",function(p){const J=t.CHM(i).$implicit,R=t.oxw(3);return t.KtG(R.setAttendance("receivedDocument",J.id,p))}),t.qZA()()(),t.TgZ(33,"td",30)(34,"div",44)(35,"input",46),t.NdJ("change",function(p){const J=t.CHM(i).$implicit,R=t.oxw(3);return t.KtG(R.setAttendance("absent",J.id,p))}),t.qZA()()(),t.TgZ(36,"td",30)(37,"textarea",47),t.NdJ("input",function(p){const J=t.CHM(i).$implicit,R=t.oxw(3);return t.KtG(R.setReasonAttendance(J.id,p))}),t.ALo(38,"mytranslate"),t.qZA()()()}if(2&c){const i=b.$implicit;let _,p;t.xp6(2),t.Q6J("name",i.fullName)("avatar",i.avatar)("gender",i.gender)("parentFullName",i.parentFullName)("parentId",i.parentId)("parentPhone",i.parentPhone)("hasUser",i.hasUser)("schoolName",i.schoolName)("classrooms",i.classrooms)("joinedAt",i.joinedAt),t.xp6(2),t.Oqu(i.identificationNumber?t.xi3(5,27,i.identificationNumber,6):""),t.xp6(4),t.Q6J("ngIf",i.lastMonthPaid||i.lastYearPaid),t.xp6(1),t.Q6J("ngIf",!i.lastMonthPaid||!i.lastYearPaid),t.xp6(1),t.hYB("matTooltip","",t.lcZ(11,30,"lang_cms_auto_gen_test_select")," ",t.lcZ(12,32,"lang_auto_month"),""),t.xp6(10),t.Q6J("ngClass",i.totalRemainHomework>0||i.noHomework?"darkgray":i.finishHomework?"yellowgreen":"red"),t.xp6(2),t.hij(" ",t.lcZ(23,34,i.totalRemainHomework>0?t.lcZ(24,36,"lang_auto_chua_hoan_thanh")+" ("+i.totalRemainHomework.toString()+")":i.noHomework?"lang_auto_hoan_thanh":i.finishHomework?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.xp6(3),t.Q6J("ngClass",i.totalRemainExam>0||i.noExam?"darkgray":i.finishExam?"yellowgreen":"red"),t.xp6(2),t.hij(" ",t.lcZ(28,38,i.totalRemainExam>0?t.lcZ(29,40,"lang_auto_chua_hoan_thanh")+" ("+i.totalRemainExam.toString()+")":i.noExam?"lang_auto_hoan_thanh":i.finishExam?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.xp6(5),t.Q6J("id","received_document_"+i.id)("checked",null!==(_=null==i.attendance?null:i.attendance.receivedDocument)&&void 0!==_?_:0),t.xp6(3),t.Q6J("id","absent_"+i.id)("checked",null!==(p=null==i.attendance?null:i.attendance.absent)&&void 0!==p?p:0),t.xp6(2),t.s9C("placeholder",t.lcZ(38,42,"lang_business_reason_for_leave")),t.Q6J("id","attendance_reason_"+i.id)("disabled",!(null!=i.attendance&&i.attendance.absent))("value",null==i.attendance?null:i.attendance.reason)}}function Ko(c,b){if(1&c&&(t.TgZ(0,"div",19)(1,"table",20)(2,"thead")(3,"tr")(4,"th",21),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"th",22),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"th",23),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"th",24),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.TgZ(17,"th",25),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"th",23)(21,"div"),t._uU(22),t.ALo(23,"mytranslate"),t.qZA(),t._uU(24),t.ALo(25,"mytranslate"),t.qZA(),t.TgZ(26,"th",23),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"th",23),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()(),t.TgZ(32,"tbody"),t.YNc(33,Kn,39,44,"tr",26),t.qZA()()()),2&c){const i=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,11,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(9,13,"lang_auto_so_bao_danh")),t.xp6(3),t.AsE("",t.lcZ(12,15,"lang_test_market_withdraw_time")," ",t.lcZ(13,17,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.xp6(4),t.Oqu(t.lcZ(16,19,"lang_student_frontend_dashboard_homework")),t.xp6(3),t.Oqu(t.lcZ(19,21,"lang_auto_only_de_thi")),t.xp6(4),t.hij(" ",t.lcZ(23,23,"lang_core_da_phat")," "),t.xp6(2),t.hij(" ",t.lcZ(25,25,"lang_auto_tai_lieu")," "),t.xp6(3),t.hij(" ",t.lcZ(28,27,"lang_business_vang_mat")," "),t.xp6(3),t.Oqu(t.lcZ(31,29,"lang_auto_ly_do")),t.xp6(3),t.Q6J("ngForOf",i.listStudent)}}function Wn(c,b){if(1&c&&t.YNc(0,Ko,34,31,"div",18),2&c){const i=t.oxw();t.Q6J("ngIf",i.listStudent.length>0)}}function Xn(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"azt-paging",52),t.NdJ("goToPaginationPage",function(p){t.CHM(i);const Z=t.oxw(2);return t.KtG(Z.setPageStudent(p))}),t.qZA()}if(2&c){const i=t.oxw(2);t.Q6J("pageObj",i.pageObj)}}function Ti(c,b){if(1&c&&(t.TgZ(0,"div",49),t._UZ(1,"div"),t.YNc(2,Xn,1,1,"azt-paging",50),t.TgZ(3,"div",51),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&c){const i=t.oxw();t.xp6(2),t.Q6J("ngIf",i.totalStudent>i.pageObj.pageSize),t.xp6(2),t.AsE(" ",i.totalStudent," ",t.lcZ(5,3,"lang_notify_list_students")," ")}}let Bi=(()=>{class c extends v.Q{openDialogCheckboxMonth(i){this.sAztDialogService.open(Be,{width:"454px",restoreFocus:!1,data:i.id}).afterClosed().subscribe(_=>{_&&this.getListStudent()})}goToProfile(i,_){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+i+"/"+_,"?backto="+encodeURIComponent("/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(i){var _="/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,p="?page="+i+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(_,p),this.initStatusObj(),this.pageObj.setPageNumber(i),this.getListStudent()}onSearchBox(i){this.searchContentObj=i,this.setPageStudent(1)}setAttendance(i,_,p){var Z=p.target,J=Z.checked?1:0,R=this.listStudent.find(a=>a.id==_);if(R){var m=this.listAttendanceNew.find(o=>o.id==_);let a=document.getElementById("attendance_reason_"+_);"absent"==i?(R.attendance.absent=J,Z.checked?R.attendance.receivedDocument=0:(R.attendance.reason="",a.value="")):(R.attendance.receivedDocument=J,Z.checked&&(R.attendance.absent=0,R.attendance.reason="",a.value="")),m?(m.absent=R.attendance?.absent,m.receivedDocument=R.attendance?.receivedDocument,m.reason=a.value):this.listAttendanceNew.push({id:_,absent:R.attendance?.absent,receivedDocument:R.attendance?.receivedDocument,reason:a.value})}}setReasonAttendance(i,_){var p=_.target,Z=this.listStudent.find(R=>R.id==i);if(Z){var J=this.listAttendanceNew.find(R=>R.id==i);J?J.reason=p.value:this.listAttendanceNew.push({id:i,absent:Z.attendance?.absent,receivedDocument:Z.attendance?.receivedDocument,reason:p.value})}}saveAttendance(){this.isSave=!0;let i={programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listAttendanceNew};0==this.listAttendanceNew.length&&(this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),this.isSave=!1),this.waitDestroy(this.studentService.apiStudentsAttendancesPost(i).subscribe(_=>{_.success?(this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!0,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(_=>{_?(_.list.forEach(p=>{p.attendance||(p.attendance={id:0,programId:this.programId,sessionId:this.sessionId,classroomId:this.classroomId,studentId:p.id,absent:0,permission:0,reason:""})},_.list),this.listStudent=_.list,this.totalStudent=_.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,s.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let i=this.commonService.getMyQueryParam("backto");this.backToLink=i??`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent(),super.ngOnInit()}constructor(i,_,p){super(),this.activeRoute=i,this.studentService=_,this.sAztDialogService=p,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.listAttendanceNew=[],this.searchContentObj=new mt.h,this.pageObj=new Ro.m(20)}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(st.gz),t.Y36($e.V),t.Y36(be.C))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-attendance-student"]],features:[t.qOj],decls:22,vars:19,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","searchContentObj","placeholder","onSearch"],[3,"colorBackground"],["azt-track-service","attendance-student-Tj_9J-QZu",1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","flex justify-between items-center mt-5",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"mt-10","text-center"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[1,"text-center","whitespace-nowrap","px-3"],[1,"text-center","whitespace-nowrap","px-2"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[4,"ngIf"],["class","darkgray",4,"ngIf"],["azt-track-service","attendance-student-j17JbU3oZS",1,"w-5","h-5","inline-block","ml-1","zoom-in",2,"margin-top","-2px","color","gray",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-calendar-search"],["d","M21 12V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h7.5"],["d","M16 2v4"],["d","M8 2v4"],["d","M3 10h18"],["d","M18 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6v0Z"],["d","m22 22-1.5-1.5"],[1,"text-center",3,"ngClass"],[1,"mx-auto",2,"width","max-content"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"id","checked","change"],["type","checkbox",1,"show-code","form-check-input","form-check-input-absent",3,"id","checked","change"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value","input"],[1,"darkgray"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"pageObj","goToPaginationPage"]],template:function(i,_){if(1&i&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.NdJ("onSearch",function(Z){return _.onSearchBox(Z.searchObj)}),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"flexed-on-the-top",8)(12,"button",9),t.NdJ("click",function(){return _.saveAttendance()}),t.YNc(13,Xa,1,0,"azt-loading-ui",10),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()()(),t.TgZ(16,"div",11),t.YNc(17,Nt,3,3,"div",12),t.YNc(18,Dn,1,0,"azt-loading-effect",13),t.YNc(19,Wn,1,1,"ng-template",null,14,t.W1O),t.qZA(),t.YNc(21,Ti,6,5,"div",15),t.qZA()),2&i){const p=t.MAs(20);t.Q6J("headerBackToLink",_.backToLink),t.xp6(4),t.Oqu(t.lcZ(5,13,"lang_student_attendance_student")),t.xp6(5),t.Q6J("isServerSearch",!0)("searchContentObj",_.searchContentObj)("placeholder",t.lcZ(10,15,"lang_core_tim_theo_ten_phone_email")),t.xp6(2),t.Q6J("colorBackground","#f0f8ffe8"),t.xp6(1),t.Q6J("disabled",_.isSave),t.xp6(1),t.Q6J("ngIf",_.isSave),t.xp6(1),t.hij(" ",t.lcZ(15,17,"lang_auto_luu")," "),t.xp6(3),t.Q6J("ngIf",0==_.listStudent.length&&0==_.totalStudent),t.xp6(1),t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",p),t.xp6(3),t.Q6J("ngIf",_.totalStudent>0)}},dependencies:[X.mk,X.sg,X.O5,Ot.gM,gt.l,$o.L,Tt.n,et.s,Ct.W,dn.a,n._,D.JV,D.gw],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),c})();var cn=x(36294);function Ce(c,b){1&c&&t._UZ(0,"azt-loading-effect")}function Wo(c,b){1&c&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_list_null")," "))}const Xo=function(c){return{width:c}};function Ci(c,b){if(1&c&&(t.TgZ(0,"div",23)(1,"div",24)(2,"div",25,26),t._UZ(4,"img",27),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",28)(7,"div",29),t._uU(8),t.qZA(),t.TgZ(9,"div",30),t._uU(10),t.qZA()()()()),2&c){const i=b.$implicit,_=t.MAs(3);t.xp6(4),t.s9C("src",""!=i.iconLink&&i.iconLink?i.iconLink:"https://mockup.textandtool.com/images/diendanh/u4711.svg",t.LSH),t.s9C("alt",t.lcZ(5,6,"lang_core_anh_sach")),t.xp6(2),t.Q6J("ngStyle",t.VKq(8,Xo,"calc(100% -  "+(_.offsetWidth+12)+"px)")),t.xp6(1),t.s9C("matTooltip",i.name),t.xp6(1),t.Oqu(i.name),t.xp6(2),t.Oqu(i.description)}}function Pn(c,b){1&c&&(t.TgZ(0,"div",31),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function ti(c,b){if(1&c&&(t.TgZ(0,"th",38)(1,"div",39),t._uU(2),t.qZA()()),2&c){const i=b.$implicit;t.xp6(1),t.s9C("matTooltip",i.name),t.xp6(1),t.hij(" ",i.name," ")}}const Bn=function(){return[]};function Hi(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"td",44)(1,"div",45)(2,"input",46),t.NdJ("change",function(p){t.CHM(i);const Z=t.oxw().$implicit,J=t.oxw(3);return t.KtG(J.setStatusBook(Z,p))}),t.qZA()()()}if(2&c){const i=b.$implicit,_=t.oxw().$implicit,p=t.oxw(3);let Z;t.xp6(2),t.MGl("id","input-book-",i.id,""),t.Q6J("value",i.id)("checked",p.checkStatusDistribute(i,null!==(Z=_.books)&&void 0!==Z?Z:t.DdM(3,Bn)))}}function Gi(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"tr")(1,"td",40),t.NdJ("click",function(){const Z=t.CHM(i).$implicit,J=t.oxw(3);return t.KtG(J.goToProfile(Z.classroomId,Z.id))}),t._UZ(2,"azt-student-info-box",41),t.qZA(),t.TgZ(3,"td",42),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.YNc(6,Hi,3,4,"td",43),t.qZA()}if(2&c){const i=b.$implicit,_=t.oxw(3);let p;t.xp6(2),t.Q6J("name",i.fullName)("parentFullName",i.parentFullName)("parentId",i.parentId)("parentPhone",i.parentPhone)("avatar",i.avatar)("gender",i.gender)("hasUser",i.hasUser)("schoolName",i.schoolName)("classrooms",i.classrooms)("joinedAt",i.joinedAt),t.xp6(2),t.Oqu(i.identificationNumber?t.xi3(5,12,i.identificationNumber,6):""),t.xp6(2),t.Q6J("ngForOf",null!==(p=null==_.listBook?null:_.listBook.list)&&void 0!==p?p:t.DdM(15,Bn))}}function Vi(c,b){if(1&c&&(t.TgZ(0,"div",32)(1,"drag-scroll")(2,"table",33)(3,"thead")(4,"tr")(5,"th",34),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"th",35),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.YNc(11,ti,3,2,"th",36),t.qZA()(),t.TgZ(12,"tbody"),t.YNc(13,Gi,7,16,"tr",37),t.qZA()()()()),2&c){const i=t.oxw(2);let _;t.xp6(6),t.Oqu(t.lcZ(7,4,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(10,6,"lang_auto_so_bao_danh")),t.xp6(2),t.Q6J("ngForOf",null!==(_=null==i.listBook?null:i.listBook.list)&&void 0!==_?_:t.DdM(8,Bn)),t.xp6(2),t.Q6J("ngForOf",i.listStudent)}}function to(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",47),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",48),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(2);return t.KtG(p.search(p.searchContentObj))}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_core_not_found_student"),"... "),t.xp6(3),t.Oqu(t.lcZ(5,4,"lang_powerpoint_frontend_chart_back")))}function Ri(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"azt-paging",16),t.NdJ("goToPaginationPage",function(p){t.CHM(i);const Z=t.oxw(3);return t.KtG(Z.setPageStudent(p))}),t.qZA()}if(2&c){const i=t.oxw(3);t.Q6J("pageObj",i.pageStudentObj)}}function $i(c,b){if(1&c&&(t.TgZ(0,"div",49),t._UZ(1,"div"),t.YNc(2,Ri,1,1,"azt-paging",50),t.TgZ(3,"div",51),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&c){const i=t.oxw(2);t.xp6(2),t.Q6J("ngIf",i.totalStudent>i.pageStudentObj.pageSize),t.xp6(2),t.AsE(" ",i.totalStudent," ",t.lcZ(5,3,"lang_notify_list_students")," ")}}function Ki(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",10)(1,"div",11),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Wo,3,3,"div",12),t.TgZ(5,"div",13),t.YNc(6,Ci,11,10,"div",14),t.qZA(),t.TgZ(7,"div",15)(8,"azt-paging",16),t.NdJ("goToPaginationPage",function(p){t.CHM(i);const Z=t.oxw();return t.KtG(Z.setPageBook(p))}),t.qZA()()(),t.TgZ(9,"div",17),t.YNc(10,Pn,3,3,"div",18),t.YNc(11,Vi,14,9,"div",19),t.YNc(12,to,6,6,"div",20),t.qZA(),t.YNc(13,$i,6,5,"div",21)}if(2&c){const i=t.oxw();let _;t.xp6(2),t.Oqu(t.lcZ(3,8,"lang_core_thong_tin_sach")),t.xp6(2),t.Q6J("ngIf",!(null!=i.listBook&&i.listBook.list&&0!=(null==i.listBook?null:i.listBook.total)||""!=i.searchContentObj.searchContent)),t.xp6(2),t.Q6J("ngForOf",null!==(_=null==i.listBook?null:i.listBook.list)&&void 0!==_?_:t.DdM(10,Bn)),t.xp6(2),t.Q6J("pageObj",i.pageBookObj),t.xp6(2),t.Q6J("ngIf",0==i.listStudent.length&&""==i.searchContentObj.searchContent),t.xp6(1),t.Q6J("ngIf",i.listStudent.length>0),t.xp6(1),t.Q6J("ngIf",0==i.listStudent.length&&""!=i.searchContentObj.searchContent),t.xp6(1),t.Q6J("ngIf",i.totalStudent>0)}}let Wi=(()=>{class c extends v.Q{setPageStudent(i){var _="/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,p="?page="+i+"&backto="+encodeURIComponent(this.backLink);this.myNavigationWithQueryString(_,p),this.initStatusObj(),this.pageStudentObj.setPageNumber(i),this.getListStudent()}goToProfile(i,_){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+i+"/"+_,"?backto="+encodeURIComponent("/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}search(i){this.searchContentObj=i,this.setPageStudent(1)}setPageBook(i){this.pageBookObj.setPageNumber(i),this.getBooks()}checkStatusDistribute(i,_){for(let p=0;p<_.length;p++)if(_[p].bookId==i.id)return!0;return!1}getBooks(){this.waitDestroy(this.bookService.apiBooksListPost({page:this.pageBookObj.page,size:this.pageBookObj.pageSize,programId:this.programId}).subscribe(_=>{_?(this.listBook=_,this.pageBookObj.setTotalPages(this.listBook.total??0),this.getListStudent()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_sach",!0)}))}setStatusBook(i,_){var p=_.target;if(p.checked){var Z={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:i.id,bookId:Number(p.value),activate:p.checked};this.waitDestroy(this.studentService.apiStudentsBooksPatch(Z).subscribe(R=>{R.success||(document.getElementById("input-book-"+p.value).checked=!p.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}else{var J={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:i.id,bookId:Number(p.value)};this.waitDestroy(this.studentService.apiStudentsBooksDeletePost(J).subscribe(R=>{R.success||(document.getElementById("input-book-"+p.value).checked=!p.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageStudentObj.page,size:this.pageStudentObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!0,getMark:!0,getPayment:!1,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(_=>{_?(this.listStudent=_.list,this.totalStudent=_.total??0,this.pageStudentObj.setTotalPages(this.totalStudent),this.stopStatusObj(),this.searchContentObj.setLoading(!1)):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.searchContentObj.setLoading(!1))}))}ngOnInit(){(0,s.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageStudentObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let i=this.commonService.getMyQueryParam("backto");this.backLink=i??`/admin/student/classroom-details/${this.classroomId}/3`,this.getBooks(),super.ngOnInit()}constructor(i,_,p){super(),this.bookService=i,this.studentService=_,this.activeRoute=p,this.backLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.totalStudent=0,this.pageStudent=1,this.listStudent=[],this.searchContentObj=new mt.h,this.pageBookObj=new Ro.m(20),this.pageStudentObj=new Ro.m(20)}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(cn.Z),t.Y36($e.V),t.Y36(st.gz))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-distribute-documents"]],features:[t.qOj],decls:14,vars:11,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","mt-3"],[1,"text-base","font-medium","mb-2"],["class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-3"],[3,"pageObj","goToPaginationPage"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%",4,"ngIf"],["class","flex justify-center mt-2",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4"],[1,"flex","w-70","box-book"],[1,"box-image"],["imageBook",""],["id","blah",3,"src","alt"],[1,"ml-3",3,"ngStyle"],[1,"text-sm","font-medium","truncate",3,"matTooltip"],[1,"scroll"],[1,"mt-10","text-center"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center whitespace-nowrap","style","max-width: 100px !important",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-center","whitespace-nowrap",2,"max-width","100px !important"],[1,"truncate",3,"matTooltip"],[1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input","mr-1",3,"id","value","checked","change"],[1,"flex","justify-center","mt-2"],[1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"]],template:function(i,_){if(1&i&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.NdJ("onSearch",function(Z){return _.search(Z.searchObj)}),t.ALo(10,"mytranslate"),t.qZA()()()()(),t.YNc(11,Ce,1,0,"azt-loading-effect",8),t.YNc(12,Ki,14,11,"ng-template",null,9,t.W1O),t.qZA()),2&i){const p=t.MAs(13);t.Q6J("headerBackToLink",_.backLink),t.xp6(4),t.Oqu(t.lcZ(5,7,"lang_student_distribute_books")),t.xp6(5),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",_.searchContentObj),t.xp6(2),t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",p)}},dependencies:[X.sg,X.O5,X.PC,Ot.gM,gt.l,$o.L,Ct.W,dn.a,n._,Te.HU,Te.$Z,D.JV,D.gw],styles:[".add-image-label[_ngcontent-%COMP%]{background:skyblue;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;left:17px;font-size:10px;text-align:center;border-radius:2px}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:12px}.textarea-description[_ngcontent-%COMP%]{height:69px;max-height:70px;border-radius:5px;font-size:12px}.box-image[_ngcontent-%COMP%]{height:102px;width:76px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:72px;max-height:98px;margin:auto}.box-book[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:5px;padding:.5rem;height:118px;min-width:300px}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.scroll[_ngcontent-%COMP%]{overflow:auto;max-height:78px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px;width:8px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:darkgray}"]}),c})();var ki=x(9400);let Xi=(()=>{class c extends v.Q{ngOnInit(){(0,s.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id"));let i=this.commonService.getMyQueryParam("studentId"),_=this.commonService.getMyQueryParam("backTo");this.backToLink=i?"/admin/student/classroom-details/"+this.classroomId+"/4":_||"/admin/student/classroom-details/"+this.classroomId+"/3"}),super.ngOnInit()}constructor(i){super(),this.activeRoute=i,this.backToLink="",this.isShowData=!1,this.classroomId=0,this.programId=0,this.sessionId=0}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(st.gz))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-enter-score"]],features:[t.qOj],decls:2,vars:6,consts:[[3,"headerBackToLink"],[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(i,_){1&i&&(t.TgZ(0,"teacher-layout",0),t._UZ(1,"app-table-score",1),t.qZA()),2&i&&(t.Q6J("headerBackToLink",_.backToLink),t.xp6(1),t.Q6J("isStudent",!1)("screenType","ENTER_SCORE")("classroomId",_.classroomId)("programId",_.programId)("sessionId",_.sessionId))},dependencies:[n._,ki.B],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),c})();var ta=x(9345),Un=x(75470),bo=x(87466),ea=x(98525),wi=x(67679);function Oi(c,b){1&c&&(t.TgZ(0,"div",33),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}function na(c,b){if(1&c&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&c){const i=t.oxw(2);t.xp6(1),t.hij("- ",i.selectedYearValue+1,"")}}function oa(c,b){if(1&c&&(t.TgZ(0,"mat-option",34),t._uU(1),t.YNc(2,na,2,1,"span",35),t.qZA()),2&c){const i=b.$implicit,_=t.oxw();t.Q6J("value",i),t.xp6(1),t.hij(" ",i," "),t.xp6(1),t.Q6J("ngIf",_.selectedYearValue==i)}}function ia(c,b){1&c&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" *",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_school_year"),". "))}function eo(c,b){if(1&c&&(t.TgZ(0,"span",41),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,i.groupObj.name))}}function aa(c,b){if(1&c&&(t.TgZ(0,"span",42),t.ALo(1,"mytranslate"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&c){const i=t.oxw().$implicit;t.s9C("matTooltip",t.lcZ(1,2,i.groupObj.name)),t.xp6(2),t.Oqu(t.lcZ(3,4,i.groupObj.name))}}function sa(c,b){if(1&c&&(t.ynx(0),t.TgZ(1,"div",37)(2,"mat-radio-button",38),t.YNc(3,eo,3,3,"span",39),t.ALo(4,"mytranslate"),t.YNc(5,aa,4,6,"span",40),t.ALo(6,"mytranslate"),t.qZA()(),t.BQk()),2&c){const i=b.$implicit;t.xp6(2),t.Q6J("value",i.groupObj.id),t.xp6(1),t.Q6J("ngIf",i.groupObj.name&&t.lcZ(4,3,i.groupObj.name).length<15),t.xp6(2),t.Q6J("ngIf",i.groupObj.name&&t.lcZ(6,5,i.groupObj.name).length>=15)}}function ra(c,b){1&c&&(t.TgZ(0,"div",43),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_name_group")," "))}function la(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"a",44),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.isShowCreateGroupOfClassroomOfClassroomBox(!0))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_+_them_nhom")," "))}function ca(c,b){1&c&&(t._UZ(0,"input",45,46),t.ALo(2,"mytranslate")),2&c&&t.s9C("placeholder",t.lcZ(2,1,"lang_auto_ten_nhom_vd_khoi_1_khoi_2"))}function ma(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",47)(1,"button",48),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.createNewGroupOfClassroom())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",49),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.isShowCreateGroupOfClassroomOfClassroomBox(!1))}),t.O4$(),t.TgZ(5,"svg",50),t._UZ(6,"line",51)(7,"line",52),t.qZA()()()}if(2&c){const i=t.oxw();t.xp6(1),t.Q6J("disabled",i.form.controls.nameGroup.errors),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_auto_tao_nhom")," ")}}function _a(c,b){1&c&&(t.TgZ(0,"div",53),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" *",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_enter_name_group"),". "))}function da(c,b){1&c&&(t.TgZ(0,"span",56),t._UZ(1,"azt-loading-ui"),t.qZA())}function ua(c,b){if(1&c){const i=t.EpF();t.ynx(0),t.TgZ(1,"button",54),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.saveClassroomObj(!1))}),t.YNc(2,da,2,0,"span",55),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&c){const i=t.oxw();t.xp6(1),t.Q6J("disabled",i.statusObj.loading||i.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",i.statusObj.loading&&"save"==i.activeButton),t.xp6(1),t.hij(" ",t.lcZ(4,3,"lang_button_save")," ")}}function pa(c,b){1&c&&(t.TgZ(0,"span",56),t._UZ(1,"azt-loading-ui"),t.qZA())}function ga(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.updateClassroomObj())}),t.YNc(1,pa,2,0,"span",55),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()}if(2&c){const i=t.oxw();t.Q6J("disabled",i.statusObj.loading||i.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",i.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(3,3,"lang_button_update")," ")}}function ha(c,b){1&c&&(t.TgZ(0,"span",56),t._UZ(1,"azt-loading-ui"),t.qZA())}function fa(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.saveClassroomObj(!0))}),t.YNc(1,ha,2,0,"span",55),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()}if(2&c){const i=t.oxw();t.Q6J("disabled",i.statusObj.loading||i.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",i.statusObj.loading&&"save_and_close"==i.activeButton),t.xp6(1),t.hij(" ",t.lcZ(3,3,"lang_core_luu_va_dong")," ")}}let yi=(()=>{class c extends ee.e{closeDialog(){this.dialogRef.close(!!this.hasCreateNewGroup)}createNewGroupOfClassroom(){if(this.initStatusObj(),this.form.controls.nameGroup.valid){this.isShowCreateGroupOfClassroom=!1;let i={groupName:this.form.getRawValue().nameGroup};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomGroupPost(i).subscribe(_=>{1==_.success?(this.hasCreateNewGroup=!0,this.getClassroomObjs(),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):this.errorStatusObj(_.message??"",!0)}))}}isShowCreateGroupOfClassroomOfClassroomBox(i){this.form.controls.nameGroup.setValue(""),this.isShowCreateGroupOfClassroom=i}updateClassroomObj(){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;let _=this.form.getRawValue().group;_=_!=this.fakeGroupValue?_:void 0;let p={id:this.classroomObj?.id??0,classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:_??0};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomWithGroupPost(p).subscribe(Z=>{1==Z.success?Z.data?.isDuplicatedClassroomName?this.errorStatusObj(Z.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):(this.successStatusObj("lang_auto_sua_lop_hoc_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_auto_sua_lop_hoc_khong_thanh_cong",!0)}))}saveClassroomObj(i){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;this.initStatusObj(),this.activeButton=i?"save_and_close":"save";let p=this.form.getRawValue().group;p=p!=this.fakeGroupValue?p:void 0;let Z={classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:p};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(Z).subscribe(J=>{if(1==J.success)if(J.data?.isDuplicatedClassroomName)this.errorStatusObj(J.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0);else{this.successStatusObj("lang_auto_them_lop_thanh_cong",!0);let R=J.data?.obj.id;i&&(this.dialogRef.close(),this.commonService.myNavigation(`/admin/student/classroom-details/${R}/0`)),this.form.controls.nameClass.setValue(""),this.form.markAsPristine()}else this.errorStatusObj("lang_auto_them_lop_hoc_khong_thanh_cong",!0)}))}handleData(){let i=(new Date).getFullYear();for(let J=i-20;J<=i+40;J++)this.years.push(J);null!=this.classroomObj&&(null==this.classroomObj.year&&(this.classroomObj.year=""),null==this.classroomObj.classroomGroupId&&(this.classroomObj.classroomGroupId=this.fakeGroupValue));let _=this.classroomObj?this.classroomObj?.year?.split(" ")[0]:"";this.selectedYearValue=""!=_?parseInt(_??"",10):i;let p=this.classroomObj?this.classroomObj.classroomGroupId:this.fakeGroupValue;this.form=new ut.cw({nameClass:new ut.NI(this.classroomObj?this.classroomObj.name:"",{nonNullable:!0,validators:[ut.kI.required]}),nameGroup:new ut.NI("",{nonNullable:!0,validators:[ut.kI.required]}),group:new ut.NI(p,{nonNullable:!0,validators:[ut.kI.required]}),year:new ut.NI(this.selectedYearValue,{nonNullable:!0,validators:[ut.kI.required]})})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(i=>{1==i.success?(this.activeClassroomData=i?.data?.activeClassroomData,this.successStatusObj()):this.errorStatusObj(i.message??"",!0)}))}ngOnInit(){this.handleData(),this.getClassroomObjs()}constructor(i,_,p){super(p,_),this.classroomGroupService=i,this.dialogRef=_,this.data=p,this.selectedYearValue=0,this.isShowCreateGroupOfClassroom=!1,this.fakeGroupValue=-2,this.years=[],this.hasCreateNewGroup=!1,this.activeButton="save",this.classroomObj=p.classroomObj,this.form=new ut.cw({nameClass:new ut.NI("",{nonNullable:!0,validators:[ut.kI.required]}),nameGroup:new ut.NI("",{nonNullable:!0,validators:[ut.kI.required]}),group:new ut.NI(0,{nonNullable:!0,validators:[ut.kI.required]}),year:new ut.NI(0,{nonNullable:!0,validators:[ut.kI.required]})})}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(Un.c8),t.Y36(zt.so,8),t.Y36(zt.WI,8))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-create-or-classroom"]],features:[t.qOj],decls:47,vars:34,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","nameClass",1,"form-label"],["type","text","id","nameClass","formControlName","nameClass",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","year",1,"form-label"],["appearance","outline"],["formControlName","year","id","year",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-xs text-danger mt-1","style","width: 100%; margin: auto",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["formControlName","group"],[1,"grid","grid-cols-10","gap-4","sm:gap-6","azt-create-update-classroom","px-3"],[4,"ngFor","ngForOf"],["class","text-danger text-danger mt-1",4,"ngIf"],[1,"p-3","flex","flex-col","md:flex-row","md:items-center"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN","class","m-1 btn-text-primary",3,"click",4,"ngIf"],["type","text","class","form-control mr-2","style","width: auto","formControlName","nameGroup",3,"placeholder",4,"ngIf"],["class","flex",4,"ngIf"],["class","text-danger pl-5 pb-2","style","max-width: 250px",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],[4,"ngIf","ngIfElse"],["updateData",""],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl","class","btn btn-info",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[4,"ngIf"],[1,"text-xs","text-danger","mt-1",2,"width","100%","margin","auto"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3","w-full"],["color","primary",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"text-danger","text-danger","mt-1"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN",1,"m-1","btn-text-primary",3,"click"],["type","text","formControlName","nameGroup",1,"form-control","mr-2",2,"width","auto",3,"placeholder"],["nameGroup",""],[1,"flex"],["azt-track-service","create-or-update-classroom-dialog-93qcHBpjZM3",1,"btn","block","btn-primary","mr-2","ml-0","md:ml-2","mt-2","md:mt-0",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-F4XQrjncsAd",1,"btn","block","btn-secondary","mt-2","md:mt-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"text-danger","pl-5","pb-2",2,"max-width","250px"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","w-24","btn-primary","mr-2",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl",1,"btn","btn-info",3,"disabled","click"]],template:function(i,_){if(1&i&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"azt-mat-dialog-content")(9,"div",5)(10,"div",6)(11,"label",7),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t._UZ(14,"input",8),t.ALo(15,"mytranslate"),t.YNc(16,Oi,3,3,"div",9),t.qZA(),t.TgZ(17,"div",10)(18,"label",11),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"mat-form-field",12)(22,"mat-select",13),t.NdJ("valueChange",function(Z){return _.selectedYearValue=Z}),t.YNc(23,oa,3,3,"mat-option",14),t.qZA()(),t.YNc(24,ia,3,3,"div",15),t.qZA(),t.TgZ(25,"div",16)(26,"div",17),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"div",18)(30,"mat-radio-group",19)(31,"div",20),t.YNc(32,sa,7,7,"ng-container",21),t.qZA()(),t.YNc(33,ra,3,3,"div",22),t.TgZ(34,"div",23),t.YNc(35,la,3,3,"a",24),t.YNc(36,ca,3,3,"input",25),t.YNc(37,ma,8,4,"div",26),t.qZA(),t.YNc(38,_a,3,3,"div",27),t.qZA()()()()(),t.TgZ(39,"div",28)(40,"button",29),t.NdJ("click",function(){return _.closeDialog()}),t._uU(41),t.ALo(42,"mytranslate"),t.qZA(),t.YNc(43,ua,5,5,"ng-container",30),t.YNc(44,ga,4,5,"ng-template",null,31,t.W1O),t.YNc(46,fa,4,5,"button",32),t.qZA()()()),2&i){const p=t.MAs(45);t.xp6(1),t.Q6J("formGroup",_.form),t.xp6(4),t.hij(" ",_.classroomObj?t.lcZ(7,22,"lang_student_classroom_list_utils_create_class_update_class"):t.lcZ(6,20,"lang_student_classroom_list_utils_create_class_add_class")," "),t.xp6(7),t.hij(" ",t.lcZ(13,24,"lang_auto_ten_lop")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(15,26,"lang_auto_nhap_ten_lop")),t.xp6(2),t.Q6J("ngIf",_.form.controls.nameClass.dirty&&_.form.controls.nameClass.errors),t.xp6(3),t.hij(" ",t.lcZ(20,28,"lang_auto_nam_hoc")," "),t.xp6(3),t.Q6J("value",_.selectedYearValue),t.xp6(1),t.Q6J("ngForOf",_.years),t.xp6(1),t.Q6J("ngIf",_.form.controls.year.dirty&&_.form.controls.year.errors),t.xp6(3),t.hij(" ",t.lcZ(28,30,"lang_student_classroom_list_utils_create_class_choose_group_class")," "),t.xp6(5),t.Q6J("ngForOf",_.activeClassroomData),t.xp6(1),t.Q6J("ngIf",_.form.controls.group.dirty&&_.form.controls.group.errors),t.xp6(2),t.Q6J("ngIf",0==_.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",1==_.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",_.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",_.isShowCreateGroupOfClassroom&&_.form.controls.nameGroup.dirty&&_.form.controls.nameGroup.errors),t.xp6(3),t.Oqu(t.lcZ(42,32,"lang_button_cancel")),t.xp6(2),t.Q6J("ngIf",!_.classroomObj)("ngIfElse",p),t.xp6(3),t.Q6J("ngIf",!_.classroomObj)}},dependencies:[X.sg,X.O5,Ze.ey,Ft.KE,bo.VQ,bo.U0,ea.gD,Ot.gM,ut._Y,ut.Fj,ut.JJ,ut.JL,ut.sg,ut.u,wi.M,St.R,Tt.n,D.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),c})();function xa(c,b){1&c&&(t.TgZ(0,"span",10),t._UZ(1,"azt-loading-ui"),t.qZA())}let va=(()=>{class c extends ee.e{closeDialog(i){this.dialogRef.close(i)}deleteGroupOfClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomGroupGet(this.currentGroupOfClassroomDataThatIsEdited?.id??0).subscribe(i=>{1==i.success?(this.showSuccessSnack("lang_auto_xoa_nhom_thanh_cong"),this.successStatusObj(),this.closeDialog(!0)):(this.errorStatusObj(i.message??"",!0),this.dialogRef.close())}))}constructor(i,_,p){super(p,_),this.classroomGroupService=i,this.dialogRef=_,this.data=p,this.currentGroupOfClassroomDataThatIsEdited=p.groupObj}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(Un.c8),t.Y36(zt.so,8),t.Y36(zt.WI,8))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-delete-group"]],features:[t.qOj],decls:17,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-danger",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(i,_){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"span",5),t._uU(8),t.qZA()()()()(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return _.closeDialog(!1)}),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return _.deleteGroupOfClassroom()}),t.YNc(14,xa,2,0,"span",9),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(5),t.hij(" ",t.lcZ(6,6,"lang_student_classroom_list_utils_delete_group")," "),t.xp6(3),t.Oqu(null==_.currentGroupOfClassroomDataThatIsEdited?null:_.currentGroupOfClassroomDataThatIsEdited.name),t.xp6(3),t.hij(" ",t.lcZ(12,8,"lang_button_cancel")," "),t.xp6(2),t.Q6J("disabled",1==_.statusObj.loading),t.xp6(1),t.Q6J("ngIf",_.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(16,10,"lang_button_delete")," "))},dependencies:[X.O5,Tt.n,D.JV],encapsulation:2}),c})();var ba=x(23433);function Ta(c,b){1&c&&(t.TgZ(0,"span",10),t._UZ(1,"azt-loading-ui"),t.qZA())}let Ca=(()=>{class c extends ee.e{closeDialog(i){this.dialogRef.close(i)}deleteClassroomObj(){this.classroomObj.isShareClassroom?this.updateClassroomToGroup():(this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomObjGet(this.classroomObj?.id??0).subscribe(i=>{1==i.success?(this.successStatusObj("lang_auto_xoa_lop_hoc_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_auto_xoa_lop_hoc_khong_thanh_cong",!0),this.dialogRef.close())})))}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classroomObj.id}).subscribe(_=>{1==_.success?(this.successStatusObj("lang_core_xoa_nhom_lop_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_core_xoa_nhom_lop_khong_thanh_cong",!0),this.closeDialog(!1))})}constructor(i,_,p){super(p,_),this.classroomGroupService=i,this.dialogRef=_,this.data=p,this.classroomObj=p.classroomObj}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(Un.c8),t.Y36(zt.so,8),t.Y36(zt.WI,8))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-teacher-delete-classroom"]],features:[t.qOj],decls:18,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-classroom-plZFV82pDhH",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-classroom-f8Z8p51QYG8",1,"btn","w-24","btn-danger",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(i,_){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.TgZ(8,"span",5),t._uU(9),t.qZA()()()()(),t.TgZ(10,"div",6)(11,"button",7),t.NdJ("click",function(){return _.closeDialog(!1)}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"button",8),t.NdJ("click",function(){return _.deleteClassroomObj()}),t.YNc(15,Ta,2,0,"span",9),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(5),t.AsE(" ",_.classroomObj.isShareClassroom?t.lcZ(6,7,"lang_core_bo_quyen_luu_y_sau_khi_xoa_lop_duoc_chia_se"):""," ",t.lcZ(7,9,"lang_student_classroom_list_utils_delete_class")," "),t.xp6(4),t.Oqu(_.classroomObj.name),t.xp6(3),t.hij(" ",t.lcZ(13,11,"lang_button_cancel")," "),t.xp6(2),t.Q6J("disabled",1==_.statusObj.loading),t.xp6(1),t.Q6J("ngIf",_.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(17,13,"lang_button_delete")," "))},dependencies:[X.O5,Tt.n,D.JV],encapsulation:2}),c})();function ka(c,b){1&c&&(t.TgZ(0,"span",15),t._UZ(1,"azt-loading-ui"),t.qZA())}function wa(c,b){if(1&c&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c){const i=t.oxw(3).$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,i.groupObj.name))}}function Oa(c,b){if(1&c&&(t.TgZ(0,"span",24),t.ALo(1,"mytranslate"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&c){const i=t.oxw(3).$implicit;t.s9C("matTooltip",t.lcZ(1,2,i.groupObj.name)),t.xp6(2),t.Oqu(t.lcZ(3,4,i.groupObj.name))}}function ya(c,b){if(1&c&&(t.TgZ(0,"mat-radio-button",20),t.YNc(1,wa,3,3,"span",21),t.YNc(2,Oa,4,6,"span",22),t.qZA()),2&c){const i=t.oxw(2).$implicit;t.Q6J("value",i.groupObj.id),t.xp6(1),t.Q6J("ngIf",i.groupObj.name&&i.groupObj.name.length<15),t.xp6(1),t.Q6J("ngIf",i.groupObj.name&&i.groupObj.name.length>=15)}}function Za(c,b){if(1&c&&(t.TgZ(0,"div",18),t.YNc(1,ya,3,3,"mat-radio-button",19),t.qZA()),2&c){const i=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null!=i.groupObj)}}function Aa(c,b){1&c&&(t.TgZ(0,"div",25)(1,"mat-radio-button",20),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&c&&(t.xp6(1),t.Q6J("value",0),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_student_classroom_list_other")," "))}function Sa(c,b){if(1&c&&(t.ynx(0),t.YNc(1,Za,2,1,"div",16),t.YNc(2,Aa,4,4,"div",17),t.BQk()),2&c){const i=b.$implicit;t.xp6(1),t.Q6J("ngIf",null!=i.groupObj),t.xp6(1),t.Q6J("ngIf",null==i.groupObj)}}function Ia(c,b){1&c&&(t.TgZ(0,"span",26),t._UZ(1,"azt-loading-ui"),t.qZA())}let Ma=(()=>{class c extends ee.e{closeDialog(){this.dialogRef.close()}chooseGroup(){let i=this.form.getRawValue();this.groupId=i.groupId!=this.fakeGroupValue?i.groupId:void 0}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classId,groupId:this.groupId}).subscribe(_=>{1==_.success?(this.successStatusObj("lang_core_di_chuyen_nhom_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_core_di_chuyen_nhom_khong_thanh_cong",!0),this.closeDialog())})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(i=>{if(1==i.success){for(var _ of(this.activeClassroomData=i?.data?.activeClassroomData??[],this.activeClassroomData))_.classroomObjs.find(J=>J.id==this.classId)&&(this.form=new ut.cw({groupId:new ut.NI(_.groupObj.id,{nonNullable:!0,validators:[ut.kI.required]})}));this.successStatusObj()}else this.errorStatusObj(i.message??"",!0)}))}ngOnInit(){this.getClassroomObjs()}constructor(i,_,p){super(p,_),this.classroomGroupService=i,this.dialogRef=_,this.data=p,this.classId=0,this.fakeGroupValue=-2,this.classId=p.classId,this.form=new ut.cw({groupId:new ut.NI(void 0,{nonNullable:!0,validators:[ut.kI.required]})})}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(Un.c8),t.Y36(zt.so,8),t.Y36(zt.WI,8))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-move-classroom-to-group"]],features:[t.qOj],decls:22,vars:14,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class","list-group"],[1,"pt-2"],["class","w-4 h-4 inline-block",4,"ngIf"],["formControlName","groupId",3,"change"],[1,"grid","grid-cols-12","gap-4","sm:gap-6","azt-create-update-classroom"],[4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6",4,"ngIf"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6","w-full"],["color","primary","size","small","class","w-full",3,"value",4,"ngIf"],["color","primary","size","small",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(i,_){1&i&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6),t.YNc(10,ka,2,0,"span",7),t.TgZ(11,"mat-radio-group",8),t.NdJ("change",function(){return _.chooseGroup()}),t.TgZ(12,"div",9),t.YNc(13,Sa,3,2,"ng-container",10),t.qZA()()()()()(),t.TgZ(14,"div",11)(15,"button",12),t.NdJ("click",function(){return _.closeDialog()}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"button",13),t.NdJ("click",function(){return _.updateClassroomToGroup()}),t.YNc(19,Ia,2,0,"span",14),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()),2&i&&(t.xp6(1),t.Q6J("formGroup",_.form),t.xp6(4),t.hij(" ",t.lcZ(6,8,"lang_core_chon_nhom_lop_muon_chuyen_sang")," "),t.xp6(5),t.Q6J("ngIf",_.statusObj.loading),t.xp6(3),t.Q6J("ngForOf",_.activeClassroomData),t.xp6(3),t.Oqu(t.lcZ(17,10,"lang_button_cancel")),t.xp6(2),t.Q6J("disabled",_.form.controls.groupId.errors),t.xp6(1),t.Q6J("ngIf",_.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(21,12,"lang_button_update")," "))},dependencies:[X.sg,X.O5,bo.VQ,bo.U0,Ot.gM,ut._Y,ut.JJ,ut.JL,ut.sg,ut.u,wi.M,St.R,Tt.n,D.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:210px;vertical-align:middle;cursor:pointer;margin-left:-5px}.list-group[_ngcontent-%COMP%]   .mdc-radio__inner-circle[_ngcontent-%COMP%]{border-width:7px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio__background[_ngcontent-%COMP%]{width:15px!important;height:15px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]   .mdc-radio__native-control[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{padding:calc((var(--mdc-radio-state-layer-size, 30px) - 20px) / 2)}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{display:flex!important;width:auto!important;height:auto!important}@media (max-width: 767px){.truncate[_ngcontent-%COMP%]{max-width:190px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),c})();function ja(c,b){1&c&&(t.TgZ(0,"div",15)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&c&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_homework_add_home_work_share")))}function Na(c,b){if(1&c&&(t.TgZ(0,"div",16)(1,"a",17),t.NdJ("click",function(_){return _.preventDefault()}),t.TgZ(2,"span",18),t._UZ(3,"lucide-icon",19),t.qZA()()()),2&c){t.oxw();const i=t.MAs(17);t.xp6(1),t.Q6J("matMenuTriggerFor",i)}}function La(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"li")(1,"a",20),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.editClassroomDialog())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",22)(4,"path",23),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&c&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_sua_lop")," "))}function Da(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"li")(1,"a",24),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.copyClassroomObj())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"rect",25)(4,"path",26),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&c&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_nhan_ban_lop")," "))}function Ea(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"li")(1,"a",27),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.moveClassroomToStorage())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"ellipse",28)(4,"path",29)(5,"path",30),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&c&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_dua_vao_luu_tru")," "))}function Pa(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"li")(1,"a",31),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.moveSharedClassroomToStorage())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"ellipse",28)(4,"path",29)(5,"path",30),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&c&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_dua_vao_luu_tru")," "))}function Ua(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"li")(1,"a",32),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.moveClassroomFromStorageToActive())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",33)(4,"path",34)(5,"path",35)(6,"path",36),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&c&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_khoi_phuc")," "))}function za(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"li")(1,"a",37),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.moveSharedClassroomFromStorageToActive())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",33)(4,"path",34)(5,"path",35)(6,"path",36),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&c&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_khoi_phuc")," "))}function Fa(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"li")(1,"a",37),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.updateClassroom())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",38)(4,"path",39)(5,"path",40)(6,"path",41)(7,"path",42),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&c&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_core_sua_di_chuyen")," "))}function Ja(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"li")(1,"a",43),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.deleteClassroomDialog())}),t.O4$(),t.TgZ(2,"svg",44),t._UZ(3,"polyline",45)(4,"path",46),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&c&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_xoa_lop")," "))}const qa=function(c){return[c]};let hn=(()=>{class c extends v.Q{goToMergeList(){this.commonService.myNavigation("/admin/student/merge-student/"+this.classroomObj.id)}updateClassroom(){this.sAztDialogService.open(Ma,{data:{classId:this.classroomObj.id},width:"550px",restoreFocus:!1}).afterClosed().subscribe(_=>{_&&this.eventOfClassroomMenu.emit(!0)})}moveClassroomToStorage(){this.classroomGroupService.apiClassroomGroupMoveClassroomToStorageGet(this.classroomObj.id??0).subscribe(i=>{1==i.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj("lang_auto_dua_vao_luu_tru_khong_thanh_cong")})}moveSharedClassroomToStorage(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:5}).subscribe(_=>{1==_.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj(_.message??"")})}moveClassroomFromStorageToActive(){this.classroomGroupService.apiClassroomGroupRestoreClassroomGet(this.classroomObj.id??0).subscribe(i=>{1==i.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj("lang_auto_khoi_phuc_lop_hoc_khong_thanh_cong")})}moveSharedClassroomFromStorageToActive(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:2}).subscribe(_=>{1==_.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj(_.message??"")})}editClassroomDialog(){this.sAztDialogService.open(yi,{data:{classroomObj:this.classroomObj},width:"550px",restoreFocus:!1}).afterClosed().subscribe(_=>{_&&this.eventOfClassroomMenu.emit(!0)})}deleteClassroomDialog(){this.sAztDialogService.open(Ca,{width:"400px",data:{classroomObj:this.classroomObj},restoreFocus:!1}).afterClosed().subscribe(_=>{_&&this.eventOfClassroomMenu.emit(!0)})}copyClassroomObj(){this.showSuccessSnack("lang_auto_dang_nhan_ban_lop_hoc_vui_long_doi_trong_giay_lat_doing"),this.classroomGroupService.apiClassroomGroupCopyClassroomGet(this.classroomObj.id??0).subscribe(i=>{1==i.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_nhan_ban_lop_hoc_thanh_cong",!0)):this.errorStatusObj("lang_auto_nhan_ban_lop_hoc_khong_thanh_cong",!0)})}ngOnInit(){super.ngOnInit(),this.programId=this.commonService.getMyQueryParam("programId")}constructor(i,_,p){super(),this.classroomGroupService=i,this.permissionTeamService=_,this.sAztDialogService=p,this.eventOfClassroomMenu=new t.vpe,this.screenTemplate=""}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(Un.c8),t.Y36(Un.sb),t.Y36(be.C))},c.\u0275cmp=t.Xpm({type:c,selectors:[["azt-information-class-box"]],inputs:{classroomObj:"classroomObj",screenTemplate:"screenTemplate"},outputs:{eventOfClassroomMenu:"eventOfClassroomMenu"},features:[t.qOj],decls:31,vars:36,consts:[[1,"relative"],["azt-track-service","information-class-box-lTAPwcAOtkX",1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-4","cursor-pointer","block",3,"routerLink"],[1,"flex","items-center"],[1,"block","font-medium","truncate",2,"max-width","70%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"flex"],[1,"text-slate-500","mr-auto","text-xs","mt-2"],[1,"text-slate-500","text-xs","mt-2"],["class","ribbon",4,"ngIf"],["class","ml-auto absolute top-0 right-0","style","margin: 15px",4,"ngIf"],["xPosition","before"],["classroomMenuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[4,"ngIf"],[1,"ribbon"],[1,"ml-auto","absolute","top-0","right-0",2,"margin","15px"],["azt-track-service","information-class-box-tDPvhBl5vWp",1,"clickable","flex","items-center","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],[1,"w-5","h-5","text-slate-500","inline-block"],["name","more-horizontal"],["azt-track-service","information-class-box-Y6FVEqAKljD",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","information-class-box-1Z4loYYCXOT",1,"dropdown-item",3,"click"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],["azt-track-service","information-class-box-yNwo0EZravB",1,"dropdown-item",3,"click"],["cx","12","cy","5","rx","9","ry","3"],["d","M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"],["d","M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"],["azt-track-service","information-class-box-OkjnS3UN_Xz",1,"dropdown-item",3,"click"],["azt-track-service","information-class-box-5V-axi1fKp3",1,"dropdown-item",3,"click"],["d","M10 2h4"],["d","M12 14v-4"],["d","M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6"],["d","M9 17H4v5"],["azt-track-service","information-class-box-yPIM4KNi4qL",1,"dropdown-item",3,"click"],["d","M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22"],["d","m18 2 4 4-4 4"],["d","M2 6h1.9c1.5 0 2.9.9 3.6 2.2"],["d","M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8"],["d","m18 14 4 4-4 4"],["azt-track-service","information-class-box-4Glzv5SSUAO",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(i,_){if(1&i&&(t.TgZ(0,"div",0)(1,"a",1),t.ALo(2,"navigationLocalize"),t.TgZ(3,"div",2)(4,"a",3,4),t._uU(6),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div",7),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()(),t.YNc(14,ja,4,3,"div",8),t.qZA(),t.YNc(15,Na,4,1,"div",9),t.qZA(),t.TgZ(16,"mat-menu",10,11)(18,"div",12)(19,"ul",13),t.YNc(20,La,7,3,"li",14),t.ALo(21,"editPermission"),t.YNc(22,Da,7,3,"li",14),t.ALo(23,"fullPermission"),t.YNc(24,Ea,8,3,"li",14),t.YNc(25,Pa,8,3,"li",14),t.YNc(26,Ua,9,3,"li",14),t.YNc(27,za,9,3,"li",14),t.YNc(28,Fa,10,3,"li",14),t.YNc(29,Ja,7,3,"li",14),t.ALo(30,"deletePermission"),t.qZA()()()),2&i){const p=t.MAs(5);t.xp6(1),t.Q6J("routerLink",t.VKq(34,qa,t.lcZ(2,19,"/admin/student/classroom-details/"+_.classroomObj.id+(_.programId?"/3":"/0")))),t.xp6(3),t.s9C("matTooltip",_.classroomObj.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",p.isDisabled),t.xp6(2),t.hij(" ",_.classroomObj.name," "),t.xp6(3),t.AsE("",t.lcZ(10,21,"lang_auto_si_so"),": ",_.classroomObj.countStudents,""),t.xp6(3),t.AsE("",t.lcZ(13,23,"lang_auto_nam_hoc"),": ",_.classroomObj.year,""),t.xp6(2),t.Q6J("ngIf",_.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",_.classroomObj.permissionObj),t.xp6(5),t.Q6J("ngIf",""==_.screenTemplate&&t.xi3(21,25,_.classroomObj,"classroom")),t.xp6(2),t.Q6J("ngIf",""==_.screenTemplate&&t.xi3(23,28,_.classroomObj,"classroom")),t.xp6(2),t.Q6J("ngIf",""==_.screenTemplate&&!_.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",""==_.screenTemplate&&_.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf","storage"==_.screenTemplate),t.xp6(1),t.Q6J("ngIf","showListPeopleWhoWillShare"==_.screenTemplate),t.xp6(1),t.Q6J("ngIf",""==_.screenTemplate&&_.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",t.xi3(30,31,_.classroomObj,"classroom"))}},dependencies:[X.O5,h.VK,h.p6,Ot.gM,st.rH,kt.Nh5,ot.Q,D.Jy,D.JV,D.NK,D.Pf,D.Z_],styles:[".ribbon[_ngcontent-%COMP%]{position:absolute;right:-2px;top:-2px;z-index:1;overflow:hidden;width:45px;height:45px;text-align:right}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:7px;color:#fff;text-transform:uppercase;text-align:center;font-weight:700;line-height:12px;transform:rotate(45deg);-webkit-transform:rotate(45deg);width:55px;display:block;background:linear-gradient(#68cc00 0%,rgba(104,204,0,.61) 100%);box-shadow:0 3px 10px -5px #636363;position:absolute;top:6px;right:-14px}.ml-auto[_ngcontent-%COMP%]{z-index:999}"]}),c})();const ge=["showMenuGroupOfClassroom"];function Ut(c,b){1&c&&(t.O4$(),t.kcU(),t.TgZ(0,"span",63),t._uU(1,"1"),t.qZA())}function ke(c,b){1&c&&(t.O4$(),t.kcU(),t._UZ(0,"azt-loading-effect"))}function no(c,b){if(1&c&&(t.O4$(),t.kcU(),t.TgZ(0,"div"),t.GkF(1,65),t.qZA()),2&c){t.oxw(2);const i=t.MAs(50);t.xp6(1),t.Q6J("ngTemplateOutlet",i)}}function ts(c,b){if(1&c&&(t.O4$(),t.kcU(),t.TgZ(0,"div"),t.GkF(1,65),t.qZA()),2&c){t.oxw(2);const i=t.MAs(52);t.xp6(1),t.Q6J("ngTemplateOutlet",i)}}function To(c,b){if(1&c&&(t.O4$(),t.YNc(0,no,2,1,"div",64),t.YNc(1,ts,2,1,"div",64)),2&c){const i=t.oxw();t.Q6J("ngIf",!i.showStorageClassroom),t.xp6(1),t.Q6J("ngIf",i.showStorageClassroom)}}function Co(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"button",87),t.NdJ("click",function(p){return p.stopPropagation()})("click",function(){t.CHM(i);const p=t.oxw().$implicit,Z=t.oxw(2);return t.KtG(Z.saveCurrentGroupOfClassroomThatIsEdited(p.groupObj))}),t.O4$(),t.TgZ(1,"svg",88),t._UZ(2,"circle",89)(3,"circle",90)(4,"circle",91),t.qZA()()}if(2&c){t.oxw();const i=t.MAs(9);t.Q6J("matMenuTriggerFor",i)}}function oo(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",92)(1,"azt-information-class-box",93),t.NdJ("eventOfClassroomMenu",function(p){t.CHM(i);const Z=t.oxw(3);return t.KtG(Z.eventOfClassroomMenu(p))}),t.qZA()()}if(2&c){const i=b.$implicit;t.xp6(1),t.Q6J("classroomObj",i)}}function Qa(c,b){1&c&&(t.TgZ(0,"div",94),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_class_null"),". "))}const zn=function(){return["name"]};function Zi(c,b){if(1&c){const i=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",68)(1,"div",69)(2,"div",70)(3,"h2",71),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",72),t.YNc(7,Co,5,1,"button",73),t.TgZ(8,"mat-menu",null,74)(10,"div",75)(11,"button",76),t.NdJ("click",function(p){return p.stopPropagation()})("click",function(){t.CHM(i);const p=t.oxw(2),Z=t.MAs(63);return t.KtG(p.cancelEdit(Z))}),t.O4$(),t.TgZ(12,"svg",77),t._UZ(13,"path",78)(14,"path",79),t.qZA(),t.kcU(),t.TgZ(15,"span"),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.TgZ(18,"button",80),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(2);return t.KtG(p.deleteGroupDialog())}),t.O4$(),t.TgZ(19,"svg",81),t._UZ(20,"polyline",82)(21,"path",83),t.qZA(),t.kcU(),t.TgZ(22,"span"),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()()()(),t.TgZ(25,"div",84),t.YNc(26,oo,2,1,"div",85),t.ALo(27,"appFilter"),t.YNc(28,Qa,3,3,"div",86),t.ALo(29,"appFilter"),t.qZA()()()}if(2&c){const i=b.$implicit,_=t.oxw(2),p=t.MAs(54);t.xp6(4),t.hij(" ",t.lcZ(5,7,i.groupObj.name)," "),t.xp6(3),t.Q6J("ngIf",i.groupObj.id>0),t.xp6(4),t.Q6J("matMenuTriggerFor",p),t.xp6(5),t.Oqu(t.lcZ(17,9,"lang_button_edit")),t.xp6(7),t.Oqu(t.lcZ(24,11,"lang_button_delete")),t.xp6(3),t.Q6J("ngForOf",t.Dn7(27,13,i.classroomObjs,_.searchContentObj.searchContent,t.DdM(21,zn))),t.xp6(2),t.Q6J("ngIf",0==i.classroomObjs.length||0==t.Dn7(29,17,i.classroomObjs,_.searchContentObj.searchContent,t.DdM(22,zn)).length)}}const mn=function(c){return[c]};function Ai(c,b){if(1&c&&(t.O4$(),t.kcU(),t.TgZ(0,"div",95),t.ALo(1,"navigationLocalize"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&c){const i=t.oxw(2);t.Q6J("routerLink",t.VKq(7,mn,t.lcZ(1,3,"/admin/student/manage-classroom/1"))),t.xp6(2),t.AsE(" ",t.lcZ(3,5,"lang_student_classroom_list_storage")," (",i.totalStorageClassroom,") ")}}function Wt(c,b){if(1&c&&(t.O4$(),t.YNc(0,Zi,30,23,"div",66),t.YNc(1,Ai,4,9,"div",67)),2&c){const i=t.oxw();t.Q6J("ngForOf",i.activeClassroomData),t.xp6(1),t.Q6J("ngIf",i.totalStorageClassroom&&i.totalStorageClassroom>0)}}function io(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"button",87),t.NdJ("click",function(p){return p.stopPropagation()})("click",function(){t.CHM(i);const p=t.oxw().$implicit,Z=t.oxw(2);return t.KtG(Z.saveCurrentGroupOfClassroomThatIsEdited(p.groupObj))}),t.O4$(),t.TgZ(1,"svg",88),t._UZ(2,"circle",89)(3,"circle",90)(4,"circle",91),t.qZA()()}if(2&c){t.oxw();const i=t.MAs(9);t.Q6J("matMenuTriggerFor",i)}}function ei(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",92)(1,"azt-information-class-box",96),t.NdJ("eventOfClassroomMenu",function(p){t.CHM(i);const Z=t.oxw(3);return t.KtG(Z.eventOfClassroomMenu(p))}),t.qZA()()}if(2&c){const i=b.$implicit;t.xp6(1),t.Q6J("classroomObj",i)("screenTemplate","storage")}}function Ya(c,b){1&c&&(t.TgZ(0,"div",94),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_class_null"),". "))}function Ba(c,b){if(1&c){const i=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",68)(1,"div",69)(2,"div",70)(3,"h2",71),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",72),t.YNc(7,io,5,1,"button",73),t.TgZ(8,"mat-menu",null,74)(10,"div",75)(11,"button",76),t.NdJ("click",function(p){return p.stopPropagation()})("click",function(){t.CHM(i);const p=t.oxw(2),Z=t.MAs(63);return t.KtG(p.cancelEdit(Z))}),t.O4$(),t.TgZ(12,"svg",77),t._UZ(13,"path",78)(14,"path",79),t.qZA(),t.kcU(),t.TgZ(15,"span"),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.TgZ(18,"button",80),t.NdJ("click",function(){t.CHM(i);const p=t.oxw(2);return t.KtG(p.deleteGroupDialog())}),t.O4$(),t.TgZ(19,"svg",81),t._UZ(20,"polyline",82)(21,"path",83),t.qZA(),t.kcU(),t.TgZ(22,"span"),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()()()(),t.TgZ(25,"div",84),t.YNc(26,ei,2,2,"div",85),t.ALo(27,"appFilter"),t.YNc(28,Ya,3,3,"div",86),t.ALo(29,"appFilter"),t.qZA()()()}if(2&c){const i=b.$implicit,_=t.oxw(2),p=t.MAs(54);t.xp6(4),t.hij(" ",t.lcZ(5,7,i.groupObj.name)," "),t.xp6(3),t.Q6J("ngIf",-1!=i.groupObj.id),t.xp6(4),t.Q6J("matMenuTriggerFor",p),t.xp6(5),t.Oqu(t.lcZ(17,9,"lang_button_edit")),t.xp6(7),t.Oqu(t.lcZ(24,11,"lang_button_delete")),t.xp6(3),t.Q6J("ngForOf",t.Dn7(27,13,i.classroomObjs,_.searchContentObj.searchContent,t.DdM(21,zn))),t.xp6(2),t.Q6J("ngIf",0==i.classroomObjs.length||0==t.Dn7(29,17,i.classroomObjs,_.searchContentObj.searchContent,t.DdM(22,zn)).length)}}function Ha(c,b){if(1&c&&(t.O4$(),t.YNc(0,Ba,30,23,"div",66)),2&c){const i=t.oxw();t.Q6J("ngForOf",i.storageClassroomData)}}function Ga(c,b){1&c&&(t.TgZ(0,"div",97),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&c&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_enter_name_group")," "))}function Va(c,b){1&c&&(t.O4$(),t.TgZ(0,"svg",98),t._UZ(1,"polyline",99),t.qZA())}function ko(c,b){1&c&&(t.O4$(),t.TgZ(0,"svg",98),t._UZ(1,"polyline",99),t.qZA())}function wo(c,b){1&c&&(t.O4$(),t.TgZ(0,"svg",98),t._UZ(1,"polyline",99),t.qZA())}let ni=(()=>{class c extends v.Q{onSearchBox(i){this.searchContentObj=i}eventOfClassroomMenu(i){i&&this.getClassroomObjs()}changeFilter(i){this.typeFilter=i,this.getClassroomObjs()}saveCurrentGroupOfClassroomThatIsEdited(i){this.currentGroupOfClassroomDataThatIsEdited=this.commonService.myClone(i)}cancelEdit(i){i.value=this.currentGroupOfClassroomDataThatIsEdited?.name??""}createClassroomDialog(){this.sAztDialogService.open(yi,{data:{classroomObj:void 0},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(_=>{_&&this.getClassroomObjs()})}createClassroomForNewCourseDialog(){this.sAztDialogService.open(ta.u,{restoreFocus:!1}).afterClosed().subscribe(_=>{_&&this.getClassroomObjs()})}deleteGroupDialog(){this.sAztDialogService.open(va,{width:"400px",data:{groupObj:this.currentGroupOfClassroomDataThatIsEdited},restoreFocus:!1}).afterClosed().subscribe(_=>{_&&(this.eventOfGroupMenu.emit(!0),this.getClassroomObjs())})}updateGroupOfClassroom(i){if(""!=i){var _={groupId:this.currentGroupOfClassroomDataThatIsEdited?.id??0,name:i};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomGroupPost(_).subscribe(p=>{1==p.success?(this.successStatusObj("lang_auto_cap_nhat_nhom_thanh_cong",!0),this.getClassroomObjs()):this.errorStatusObj(p.message??"",!0)}))}else this.checkErrorInputUpdateGroupOfClassroom(i)}checkErrorInputUpdateGroupOfClassroom(i){return""==i.trim()}openDialogAutomaticIdentification(){this.sAztDialogService.open(He.G,{data:{classroomWithGroup:this.activeClassroomData??[],type:1,listCheckBox:[],totalStudent:0},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(i=>{i&&this.getClassroomObjs()})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet(this.typeFilter).subscribe(i=>{i.success?(this.activeClassroomData=i?.data?.activeClassroomData??[],this.storageClassroomData=i?.data?.storageClassroomData??[],this.totalStorageClassroom=this.commonService.concatMultipleArray(this.storageClassroomData.map(_=>_.classroomObjs)).length,this.successStatusObj()):this.errorStatusObj(i.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,s.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var i=this.commonService.getMyParam(this.activeRoute,"id")?.toString();this.showStorageClassroom="1"==i;let _=this.commonService.getMyQueryParam("programId");this.backToLink=_&&""!=_?"/business/educational-program/"+_:this.showStorageClassroom?"/admin/student/manage-classroom/0":this.backToLink="/admin/dashboard",this.getClassroomObjs()})),this.mobileWebviewService.sendSimpleMessage("OPEN_CLASSES"),this.commonService.translateMetaData({title:"lang_cms_classroom_list_title",description:"lang_cms_classroom_list_description",image:"lang_cms_test_image"})}constructor(i,_,p,Z){super(),this.activeRoute=i,this.classroomGroupService=_,this.sAztDialogService=p,this.mobileWebviewService=Z,this.eventOfGroupMenu=new t.vpe,this.backToLink="",this.showStorageClassroom=!1,this.typeFilter="all",this.searchContentObj=new mt.h}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(st.gz),t.Y36(Un.c8),t.Y36(be.C),t.Y36(ba.r))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-teacher-classroom"]],viewQuery:function(i,_){if(1&i&&t.Gf(ge,5),2&i){let p;t.iGM(p=t.CRH())&&(_.showMenuGroupOfClassroom=p.first)}},outputs:{eventOfGroupMenu:"eventOfGroupMenu"},features:[t.qOj],decls:127,vars:60,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5",2,"z-index","1"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"isServerSearch","placeholder","onSearch"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-8xXjbgXLYr8","tourAnchor","azt-tour-2",1,"btn","btn-primary","shadow-md","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-1"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[1,"dropdown-toggle","btn","px-2","box","block","lg:hidden","hover:bg-slate-100","dark:hover-bg:darkmode-400",3,"matMenuTriggerFor"],[1,"w-5","h-5","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4"],["azt-track-service","class-list-GeLpgTC3SuL",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","class-list-ok7MlxqP6m9",1,"btn","px-2","box","shadow-md","azt-hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-2"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],["tourAnchor","azt-tour-2",1,"ml-2","shadow-md","dropdown-toggle","btn","px-2","box","block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],["class","py-1 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[4,"ngIf","ngIfElse"],["doneLoading",""],["showActiveClassroomTpl",""],["showStorageClassroomTpl",""],["xPosition","after"],["matMenuGroupOfClassroom",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["azt-track-service","class-list-G1Mkx8IXu63",1,"modal-body"],[1,"text-base","font-medium","mr-auto"],["azt-track-service","class-list-0AWKcuGUws",3,"click"],["type","text","aria-label","default input example",1,"form-control","mt-2",3,"value","placeholder"],["nameGroup",""],["class","alert alert-danger p-1 mt-2",4,"ngIf"],[1,"text-right","mt-3",2,"display","flex","justify-content","space-between"],["azt-track-service","class-list-qHpiXjTg249",1,"btn","w-24","btn-secondary","mr-2"],["azt-track-service","class-list-lVV77oiaCLP",1,"btn","w-24","btn-primary",3,"disabled","click"],["xPosition","before"],["menuClassList","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["menuFilter","matMenu"],["width","18","height","18","x","3","y","3","rx","2"],["d","M7 8h10"],["d","M7 12h10"],["d","M7 16h10"],["xmlns","http://www.w3.org/2000/svg","class","lucide lucide-activity w-4 h-4 ml-2","style","color: green","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["points","16 11 18 13 22 9"],["d","M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z"],["d","M6 9.01V9"],["d","m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[4,"ngIf"],[3,"ngTemplateOutlet"],["class","intro-y",4,"ngFor","ngForOf"],["azt-track-service","class-list-9gXcamWSz","class","btn-text-primary font-medium cursor-pointer mt-4",3,"routerLink",4,"ngIf"],[1,"intro-y"],[1,"azt-group","mt-5"],[1,"intro-x","flex","items-center","mb-5"],[1,"text-lg","font-medium","truncate","mr-3"],[1,"dropdown","mb-1"],["azt-track-service","class-list-U9X02wc0f","class","dropdown-toggle p-1 hover:bg-gray dark:hover:bg-darkmode-400 rounded-md","aria-expanded","false","data-tw-toggle","dropdown",3,"matMenuTriggerFor","click",4,"ngIf"],["menu","matMenu"],[1,"box","grid"],["azt-track-service","class-list-9ufWL4LIlj","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","pr-3","btn-edit","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2",2,"display","initial"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","class-list-Qqdrk4Sj2Q",1,"pr-3","btn-delete","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2",2,"display","initial"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 lg:col-span-4 xl:col-span-3 2xl:col-span-2",4,"ngFor","ngForOf"],["class","text-center col-span-12 p-2",4,"ngIf"],["azt-track-service","class-list-U9X02wc0f","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","p-1","hover:bg-gray","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-4","h-4"],["cx","12","cy","12","r","1"],["cx","12","cy","5","r","1"],["cx","12","cy","19","r","1"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2"],[3,"classroomObj","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"],["azt-track-service","class-list-9gXcamWSz",1,"btn-text-primary","font-medium","cursor-pointer","mt-4",3,"routerLink"],[3,"classroomObj","screenTemplate","eventOfClassroomMenu"],[1,"alert","alert-danger","p-1","mt-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","ml-2",2,"color","green"],["points","20 6 9 17 4 12"]],template:function(i,_){if(1&i){const p=t.EpF();t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"azt-search-box",7),t.NdJ("onSearch",function(J){return _.onSearchBox(J.searchObj)}),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"div",8)(13,"button",9),t.NdJ("click",function(){return _.createClassroomDialog()}),t.O4$(),t.TgZ(14,"svg",10),t._UZ(15,"line",11)(16,"line",12),t.qZA(),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(19,"button",13)(20,"span",14),t.O4$(),t.TgZ(21,"svg",15),t._UZ(22,"line",11)(23,"line",12),t.qZA()()(),t.kcU(),t.TgZ(24,"button",16),t.NdJ("click",function(){return _.createClassroomForNewCourseDialog()}),t.O4$(),t.TgZ(25,"svg",10),t._UZ(26,"line",11)(27,"line",12),t.qZA(),t._uU(28),t.ALo(29,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(30,"button",17),t.NdJ("click",function(){return _.openDialogAutomaticIdentification()}),t.O4$(),t.TgZ(31,"svg",18),t._UZ(32,"path",19)(33,"path",20)(34,"path",21)(35,"path",22)(36,"rect",23)(37,"rect",24),t.qZA(),t._uU(38),t.ALo(39,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(40,"button",25),t.O4$(),t.TgZ(41,"svg",10),t._UZ(42,"polygon",26),t.qZA(),t._uU(43),t.ALo(44,"mytranslate"),t.YNc(45,Ut,2,0,"span",27),t.qZA()()(),t.YNc(46,ke,1,0,"azt-loading-effect",28),t.YNc(47,To,2,2,"ng-template",null,29,t.W1O),t.qZA()()(),t.YNc(49,Wt,2,2,"ng-template",null,30,t.W1O),t.YNc(51,Ha,1,1,"ng-template",null,31,t.W1O),t.kcU(),t.TgZ(53,"mat-menu",32,33)(55,"div",34)(56,"div",35)(57,"div",36)(58,"h2",37),t._uU(59),t.ALo(60,"mytranslate"),t.qZA(),t.TgZ(61,"div",38),t.NdJ("click",function(J){return J.stopPropagation()}),t._UZ(62,"input",39,40),t.ALo(64,"mytranslate"),t.YNc(65,Ga,3,3,"div",41),t.qZA(),t.TgZ(66,"div",42)(67,"button",43),t._uU(68),t.ALo(69,"mytranslate"),t.qZA(),t.TgZ(70,"button",44),t.NdJ("click",function(){t.CHM(p);const J=t.MAs(63);return t.KtG(_.updateGroupOfClassroom(J.value))}),t._uU(71),t.ALo(72,"mytranslate"),t.qZA()()()()()(),t.TgZ(73,"mat-menu",45,46)(75,"div",47)(76,"ul",48)(77,"li")(78,"button",49),t.NdJ("click",function(){return _.createClassroomForNewCourseDialog()}),t.O4$(),t.TgZ(79,"svg",18),t._UZ(80,"line",11)(81,"line",12),t.qZA(),t._uU(82),t.ALo(83,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(84,"li")(85,"button",50),t.NdJ("click",function(){return _.openDialogAutomaticIdentification()}),t.O4$(),t.TgZ(86,"svg",18),t._UZ(87,"path",19)(88,"path",20)(89,"path",21)(90,"path",22)(91,"rect",23)(92,"rect",24),t.qZA(),t._uU(93),t.ALo(94,"mytranslate"),t.qZA()()()()(),t.kcU(),t.TgZ(95,"mat-menu",45,51)(97,"div",47)(98,"ul",48)(99,"li")(100,"button",49),t.NdJ("click",function(){return _.changeFilter("all")}),t.O4$(),t.TgZ(101,"svg",18),t._UZ(102,"rect",52)(103,"path",53)(104,"path",54)(105,"path",55),t.qZA(),t._uU(106),t.ALo(107,"mytranslate"),t.YNc(108,Va,2,0,"svg",56),t.qZA()(),t.kcU(),t.TgZ(109,"li")(110,"button",50),t.NdJ("click",function(){return _.changeFilter("owner")}),t.O4$(),t.TgZ(111,"svg",18),t._UZ(112,"path",57)(113,"circle",58)(114,"polyline",59),t.qZA(),t._uU(115),t.ALo(116,"mytranslate"),t.YNc(117,ko,2,0,"svg",56),t.qZA()(),t.kcU(),t.TgZ(118,"li")(119,"button",49),t.NdJ("click",function(){return _.changeFilter("user")}),t.O4$(),t.TgZ(120,"svg",18),t._UZ(121,"path",60)(122,"path",61)(123,"path",62),t.qZA(),t._uU(124),t.ALo(125,"mytranslate"),t.YNc(126,wo,2,0,"svg",56),t.qZA()()()()()}if(2&i){const p=t.MAs(48),Z=t.MAs(63),J=t.MAs(74),R=t.MAs(96);t.Q6J("headerBackToLink",_.backToLink),t.xp6(4),t.hij(" ",_.showStorageClassroom?t.lcZ(5,28,"lang_auto_kho_luu_tru"):t.lcZ(6,30,"lang_student_classroom_list_header_title")," "),t.xp6(6),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(11,32,"lang_student_classroom_list_sort_name_class")),t.xp6(7),t.hij(" ",t.lcZ(18,34,"lang_student_classroom_list_create_class")," "),t.xp6(2),t.Q6J("matMenuTriggerFor",J),t.xp6(9),t.hij(" ",t.lcZ(29,36,"lang_student_classroom_list_create_class_new_cousre")," "),t.xp6(10),t.hij(" ",t.lcZ(39,38,"lang_auto_danh_so_bao_danh")," "),t.xp6(2),t.Q6J("matMenuTriggerFor",R),t.xp6(3),t.hij(" ",t.lcZ(44,40,"lang_homework_homework_score_list_sort")," "),t.xp6(2),t.Q6J("ngIf","all"!=_.typeFilter),t.xp6(1),t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",p),t.xp6(13),t.Oqu(t.lcZ(60,42,"lang_student_classroom_list_update_group")),t.xp6(3),t.s9C("value",null==_.currentGroupOfClassroomDataThatIsEdited?null:_.currentGroupOfClassroomDataThatIsEdited.name),t.s9C("placeholder",t.lcZ(64,44,"lang_auto_nhap_ten_nhom")),t.xp6(3),t.Q6J("ngIf",""==Z.value||_.checkErrorInputUpdateGroupOfClassroom(Z.value)),t.xp6(3),t.hij(" ",t.lcZ(69,46,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",""==Z.value.trim()),t.xp6(1),t.hij(" ",t.lcZ(72,48,"lang_student_classroom_list_update")," "),t.xp6(11),t.hij(" ",t.lcZ(83,50,"lang_student_classroom_list_create_class_new_cousre")," "),t.xp6(11),t.hij(" ",t.lcZ(94,52,"lang_auto_danh_so_bao_danh")," "),t.xp6(13),t.hij(" ",t.lcZ(107,54,"lang_homework_content_store_all")," "),t.xp6(2),t.Q6J("ngIf",""==_.typeFilter),t.xp6(7),t.hij(" ",t.lcZ(116,56,"lang_core_lop_cua_toi")," "),t.xp6(2),t.Q6J("ngIf","owner"==_.typeFilter),t.xp6(7),t.hij(" ",t.lcZ(125,58,"lang_auto_lop_duoc_chia_se")," "),t.xp6(2),t.Q6J("ngIf","user"==_.typeFilter)}},dependencies:[st.rH,X.sg,X.O5,X.tP,h.VK,h.p6,gt.l,hn,Ct.W,n._,D.Jy,D.JV,D.om],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),c})(),Si=(()=>{class c extends v.Q{}return c.\u0275fac=function(){let b;return function(_){return(b||(b=t.n5z(c)))(_||c)}}(),c.\u0275cmp=t.Xpm({type:c,selectors:[["homework-master-page"]],features:[t.qOj],decls:2,vars:0,consts:[["id","student-layout"]],template:function(i,_){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[st.lC],encapsulation:2}),c})(),oi=(()=>{class c extends v.Q{constructor(){super(...arguments),this.closeDialog=new t.vpe}confirmQuit(){this.closeDialog.emit(!0)}btnCloseDialog(){this.closeDialog.emit(!1)}}return c.\u0275fac=function(){let b;return function(_){return(b||(b=t.n5z(c)))(_||c)}}(),c.\u0275cmp=t.Xpm({type:c,selectors:[["app-merge-student-confirm-box"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:18,vars:11,consts:[[1,"box","school-info_bg"],[1,"school-info","p-4"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],[1,"intro"],[1,"text-base","font-medium","mr-auto"],[1,"text-right","mt-3"],["azt-track-service","confirm-merge-Yvv9eaXGFnm",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q",1,"btn","w-24","btn-primary",2,"margin-left","15px",3,"click"]],template:function(i,_){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),t._uU(7),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA()(),t._UZ(10,"br"),t.TgZ(11,"div",7)(12,"button",8),t.NdJ("click",function(){return _.btnCloseDialog()}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"button",9),t.NdJ("click",function(){return _.confirmQuit()}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()()()()),2&i&&(t.xp6(7),t.hij("",null!=_.data&&_.data.type&&"update_phone_student"==(null==_.data?null:_.data.type)?t.lcZ(8,3,"lang_student_utils_confirm_merge_verifi")+"?":t.lcZ(9,5,"lang_student_utils_confirm_merge_confirm")+"?"," "),t.xp6(6),t.hij(" ",t.lcZ(14,7,"lang_cms_common_close_btn")," "),t.xp6(3),t.hij(" ",t.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[D.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;margin-left:auto;margin-right:auto}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}"]}),c})();function ii(c,b){1&c&&t._UZ(0,"azt-loading-effect")}const Ra=function(c){return{"bg-success":c}};function Hn(c,b){if(1&c&&(t.TgZ(0,"div",21)(1,"b"),t._uU(2),t.qZA()()),2&c){const i=t.oxw().$implicit,_=t.oxw(2);t.Q6J("ngClass",t.VKq(2,Ra,_.haveSelected(i))),t.xp6(2),t.Oqu(i.fullName)}}function $a(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",19),t.NdJ("click",function(){const Z=t.CHM(i).$implicit,J=t.oxw(2);return t.KtG(J.selectObj(Z))}),t.YNc(1,Hn,3,4,"div",20),t.qZA()}if(2&c){const i=b.$implicit,_=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!_.inMergeObjs(i))}}function Ii(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div")(1,"div",22),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"b",23),t._uU(5),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.TgZ(8,"b",23),t._uU(9),t.qZA(),t._uU(10,"\xa0\xa0"),t.TgZ(11,"span",24),t.NdJ("click",function(){const Z=t.CHM(i).index,J=t.oxw(2);return t.KtG(J.removeMergeArray(Z))}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()()}if(2&c){const i=b.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_student_merge_student_merge_student")," "),t.xp6(3),t.Oqu(null==i.from?null:i.from.fullName),t.xp6(1),t.hij(" ",t.lcZ(7,7,"lang_student_merge_student_return")," "),t.xp6(3),t.Oqu(null==i.to?null:i.to.fullName),t.xp6(3),t.Oqu(t.lcZ(13,9,"lang_auto_xoa"))}}function Mi(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",22)(1,"div",26)(2,"b"),t._uU(3),t.qZA(),t.TgZ(4,"button",27),t.NdJ("click",function(){t.CHM(i);const p=t.oxw().$implicit,Z=t.oxw(2);return t.KtG(Z.revertStudent(p.id))}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}if(2&c){const i=t.oxw().$implicit;t.xp6(3),t.Oqu(i.fullName),t.xp6(2),t.hij(" ",t.lcZ(6,2,"lang_button_revert")," ")}}function Ka(c,b){if(1&c&&(t.TgZ(0,"div"),t.YNc(1,Mi,7,4,"div",25),t.qZA()),2&c){const i=b.$implicit,_=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!_.inMergeObjs(i))}}function ji(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"div",4)(1,"mat-tab-group",5)(2,"mat-tab",6),t.ALo(3,"mytranslate"),t.TgZ(4,"div",7)(5,"div",8)(6,"div",9),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,$a,2,1,"div",10),t.qZA(),t.TgZ(10,"div",11)(11,"div",12)(12,"div",13)(13,"div",9),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.YNc(16,Ii,14,11,"div",14),t.TgZ(17,"div",15)(18,"button",16),t.NdJ("click",function(){t.CHM(i);const p=t.oxw();return t.KtG(p.showConfirmBox())}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()()()()(),t.TgZ(21,"mat-tab",6),t.ALo(22,"mytranslate"),t.TgZ(23,"div",17)(24,"div",18)(25,"div")(26,"div",15),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.YNc(29,Ka,2,1,"div",14),t.qZA()()()()()()}if(2&c){const i=t.oxw();t.xp6(1),t.Q6J("selectedIndex",i.selectedIndex),t.xp6(1),t.s9C("label",t.lcZ(3,11,"lang_student_merge_student_lable")),t.xp6(5),t.hij(" ",t.lcZ(8,13,"lang_student_merge_student_required_click_merge")," "),t.xp6(2),t.Q6J("ngForOf",i.studentObjs),t.xp6(5),t.hij(" ",t.lcZ(15,15,"lang_student_merge_student_list_student_merge")," "),t.xp6(2),t.Q6J("ngForOf",i.studentMergeObjs),t.xp6(2),t.Q6J("disabled",i.studentMergeObjs&&i.studentMergeObjs.length<1),t.xp6(1),t.hij(" ",t.lcZ(20,17,"lang_student_merge_student_start_merge_list")," "),t.xp6(2),t.s9C("label",t.lcZ(22,19,"lang_student_merge_student_revert")),t.xp6(6),t.hij(" ",t.lcZ(28,21,"lang_student_merge_student_list_submitted")," "),t.xp6(2),t.Q6J("ngForOf",i.studentMergeListObjs)}}function ai(c,b){if(1&c){const i=t.EpF();t.TgZ(0,"app-merge-student-confirm-box",28),t.NdJ("closeDialog",function(p){t.CHM(i);const Z=t.oxw();return t.KtG(Z.closeConfirmDialog(p))}),t.qZA()}if(2&c){const i=t.oxw();t.Q6J("data",i.confirmBox)}}let Ni=(()=>{class c extends v.Q{showConfirmBox(){this.confirmBox={isShow:!0}}closeConfirmDialog(i){this.confirmBox={isShow:!1},i&&this.sendToServer()}inMergeObjs(i){let _=!1,p=this.studentMergeObjs?.length??0;for(let Z=0;Z<p;Z++)(this.studentMergeObjs?.[Z].from?.id==i.id||this.studentMergeObjs?.[Z].to?.id==i.id)&&(_=!0);return _}haveSelected(i){let _=!1;for(let p=0;p<this.selectObjs.length;p++)this.selectObjs[p].id==i.id&&(_=!0);return _}selectObj(i){this.haveSelected(i)?this.selectObjs=[]:this.selectObjs.push(i),2==this.selectObjs.length&&(this.studentMergeObjs.push({from:this.selectObjs[0],to:this.selectObjs[1]}),this.selectObjs=[])}removeMergeArray(i){this.studentMergeObjs?.[i]&&this.studentMergeObjs.splice(i,1)}sendToServer(){const i=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.initStatusObj();let _=[],p=this.studentMergeObjs?.length??0;for(let m=0;m<p;m++){var Z=this.studentMergeObjs?.[m].from?.id,J=this.studentMergeObjs?.[m].to?.id;Z&&J&&_.push({fromId:Z,toId:J})}this.waitDestroy(this.mergeStudentService.apiMergeStudentMergeObjsPost({classroomId:i,mergeObjs:_}).subscribe(m=>{1==m.success?(this.showSuccessSnack("lang_auto_gop_danh_sach_thanh_cong"),this.studentMergeObjs=[],this.selectObjs=[],this.getListMergeStudent(),this.getData(),this.selectedIndex=1,this.successStatusObj()):this.errorStatusObj(m.message??"",!0)}))}getData(){this.initStatusObj();const i=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetObjsByClassroomGet(i).subscribe(_=>{1==_.success?(this.studentObjs=this.sortService.sortFirstNameStudents(_?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(_.message??"",!0)}))}getListMergeStudent(){this.initStatusObj();const i=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetMergedObjsGet(i).subscribe(_=>{1==_.success?(this.studentMergeListObjs=this.sortService.sortFirstNameStudents(_?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(_.message??"",!0)}))}revertStudent(i){this.waitDestroy(this.mergeStudentService.apiMergeStudentRevertMergeObjGet(i).subscribe(_=>{1==_.success?(this.showSuccessSnack("lang_auto_khoi_phuc_thanh_cong"),this.getData(),this.getListMergeStudent(),this.selectedIndex=0):this.errorStatusObj(_.message??"",!0)}))}ngOnInit(){this.classroomId=this.commonService.getMyParam(this.activeRoute,"id"),this.backToLink="/admin/student/classroom-details/"+this.classroomId+"/0",this.getData(),this.getListMergeStudent()}constructor(i,_,p,Z){super(),this.activeRoute=i,this.studentService=_,this.mergeStudentService=p,this.sortService=Z,this.selectObjs=[],this.studentMergeObjs=[],this.confirmBox={isShow:!1},this.selectedIndex=0,this.isMobile=this.commonService.isMobileOrTable(),this.backToLink=""}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(st.gz),t.Y36(V.VT),t.Y36(V._Y),t.Y36(Ee.V))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-merge-student"]],features:[t.qOj],decls:5,vars:4,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"data","closeDialog",4,"ngIf"],[1,"container","mt-3"],[3,"selectedIndex"],[3,"label"],[1,"flex","mt-3"],[1,"p-2"],[1,"m-2"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click",4,"ngFor","ngForOf"],[1,"p-2",2,"width","70%"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mt-2"],["azt-track-service","merge-student-g45UTcIj35h",1,"pl-2","pr-2","mt-2","btn","btn-primary",3,"disabled","click"],[1,"d-flex"],[1,"w-full","sm-w-50"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click"],["class","m-2 clickable ","style"," border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important;",3,"ngClass",4,"ngIf"],[1,"m-2","clickable",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important",3,"ngClass"],[1,"m-2","p-2",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important"],[2,"font-weight","600"],[1,"clickable","text-danger",3,"click"],["class","m-2 p-2","style"," border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important;",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],["azt-track-service","merge-student-v4iYHGvaLN8",1,"hover-button","clickable",3,"click"],[3,"data","closeDialog"]],template:function(i,_){if(1&i&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,ii,1,0,"azt-loading-effect",1),t.YNc(2,ji,30,23,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,ai,1,1,"app-merge-student-confirm-box",3)),2&i){const p=t.MAs(3);t.Q6J("headerBackToLink",_.backToLink),t.xp6(1),t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",p),t.xp6(3),t.Q6J("ngIf",_.confirmBox.isShow)}},dependencies:[X.mk,X.sg,X.O5,at.uX,at.SP,gt.l,n._,oi,D.JV],styles:["a[_ngcontent-%COMP%]:hover{text-decoration:none}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex;text-decoration:none;margin-top:10px}.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff}b[_ngcontent-%COMP%]{font-weight:400}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px}.header__top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.header__work[_ngcontent-%COMP%]{display:flex}.header__gift[_ngcontent-%COMP%]{position:relative;margin-right:24px;margin-top:5px}.gift__link[_ngcontent-%COMP%]{color:#fff}.girt__count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:#fe4531;border-radius:50%;width:16px;height:16px;color:#fff;padding:0;text-align:center;font-weight:700;font-size:9px}.header__work[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.header__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-top:2px}.body[_ngcontent-%COMP%]{margin:0 auto;text-align:center;color:#fff}.body__block[_ngcontent-%COMP%]{min-width:300px;padding:35px 0;margin:0 auto;background-color:#009cbe;border:none;border-radius:5px}.block__text[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin:0}.body__about[_ngcontent-%COMP%]{margin-top:25px}.about__title[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.about__desc[_ngcontent-%COMP%]{text-align:justify}.desc__title[_ngcontent-%COMP%]{font-weight:700}.btn-add-azo[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;padding:13px 40px;border-radius:10px}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}  .mat-tab-label:hover{color:#000}.hover-button[_ngcontent-%COMP%]:hover{color:#3f51b5}.text-danger[_ngcontent-%COMP%]:hover{color:#f44336!important}@media (min-width: 640px){.sm-w-50[_ngcontent-%COMP%]{width:450px}}"]}),c})();var Li=x(22751);const si=[{path:"",component:Si,canActivate:[e.v],children:[{path:"merge-student/:id",component:Ni},{path:"profile-student/:classroom_id/:id",component:(()=>{class c extends v.Q{getListClassroomByStudentId(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2ListStudentClassroomsGet(this.studentId).subscribe(i=>{1===i.success?(this.classroomList=i.data?.objs??[],this.classroomList.find(_=>_.id+"-"+_.studentId==this.select.value)||this.select.setValue("")):this.errorStatusObj(i.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,s.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var i=this.commonService.getMyParam(this.activeRoute,"classroom_id"),_=this.commonService.getMyParam(this.activeRoute,"id");this.classroomId=parseInt(i||"",10),this.studentId=parseInt(_||"",10),this.backToLink="/admin/student/profile-student/"+this.classroomId+"/"+this.studentId,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??this.backToLink,this.commonService.translateMetaData({title:"lang_cms_student_detail_title",description:"lang_cms_test_config_description",image:"lang_cms_student_detail_description"}),this.select.setValue(this.classroomId+"-"+this.studentId),this.getListClassroomByStudentId()}))}constructor(i,_,p){super(),this.sAztDialogService=i,this.activeRoute=_,this.studentProfileV2Service=p,this.select=new ut.NI("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[]}}return c.\u0275fac=function(i){return new(i||c)(t.Y36(be.C),t.Y36(st.gz),t.Y36(V.LU))},c.\u0275cmp=t.Xpm({type:c,selectors:[["student-profile"]],features:[t.qOj],decls:2,vars:8,consts:[[3,"headerBackToLink"],[3,"studentId","select","classroomId","backToLink","paramBackToLink","classroomList","isTeacherDashboard"]],template:function(i,_){1&i&&(t.TgZ(0,"teacher-layout",0),t._UZ(1,"azt-student-profile",1),t.qZA()),2&i&&(t.Q6J("headerBackToLink",_.paramBackToLink),t.xp6(1),t.Q6J("studentId",_.studentId)("select",_.select)("classroomId",_.classroomId)("backToLink",_.backToLink)("paramBackToLink",_.paramBackToLink)("classroomList",_.classroomList)("isTeacherDashboard",!0))},dependencies:[Li.d,n._],encapsulation:2}),c})()},{path:"manage-classroom/:id",component:ni},{path:"classroom-details/:id/:tabId",component:Yi},{path:"attendance-student/:classroom_id/:program_id/:session_id",component:Bi},{path:"distribute-document/:classroom_id/:program_id/:session_id",component:Wi},{path:"submit-score/:classroom_id/:program_id/:session_id",component:Xi},{path:"class-details/:id",redirectTo:"classroom-details/:id/0"},{path:"manage-class/:id",redirectTo:"manage-classroom/:id"},{path:"student-list",redirectTo:"manage-classroom/0",pathMatch:"full"}]}];let ri=(()=>{class c{}return c.\u0275fac=function(i){return new(i||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[st.Bz.forChild(si),st.Bz,l.fQ]}),c})()},56347:(Ke,Yt,x)=>{x.d(Yt,{M:()=>D});var st=x(96814),l=x(56223),e=x(19347),s=x(21266),v=x(42753),t=x(66469),bt=x(37722),X=x(21494),n=x(60381),kt=x(25391),ct=x(30292),At=x(95545),mt=x(29942),dt=x(84155),gt=x(78217),Tt=x(58844),Ct=x(99384),Ot=x(3890),ot=x(65879);let D=(()=>{class ${}return $.\u0275fac=function(xt){return new(xt||$)},$.\u0275mod=ot.oAB({type:$}),$.\u0275inj=ot.cJS({imports:[s.Bz,st.ez,mt.j,ct.Yy,v.Z_,l.u5,l.UX,e.Is,dt.Z,X.xC,Ot.v,kt.QG,Tt.W,gt.d,n.l1,bt.qyJ.pick(bt.ciZ),At.kb,t.SD,Ct.AzotaBusinessModule]}),$})()},63038:(Ke,Yt,x)=>{x.d(Yt,{m:()=>l});var st=x(65879);let l=(()=>{class e{constructor(v){this.el=v}onInput(){this.adjustTextAreaHeight(this.el.nativeElement)}ngAfterViewInit(){this.adjustTextAreaHeight(this.el.nativeElement)}adjustTextAreaHeight(v){v.style.overflow="hidden",v.style.height="auto",v.style.height=v.scrollHeight+30+"px"}}return e.\u0275fac=function(v){return new(v||e)(st.Y36(st.SBq))},e.\u0275dir=st.lG2({type:e,selectors:[["textarea","autoResize",""]],hostBindings:function(v,t){1&v&&st.NdJ("input",function(X){return t.onInput(X.target.value)})}}),e})()},91675:(Ke,Yt,x)=>{x.d(Yt,{B:()=>At});var st=x(47496),l=x(65879),e=x(96814),s=x(92596),v=x(36727);function t(mt,dt){1&mt&&(l.TgZ(0,"span",2),l.ALo(1,"mytranslate"),l._uU(2),l.ALo(3,"mytranslate"),l.qZA()),2&mt&&(l.s9C("matTooltip",l.lcZ(1,2,"lang_auto_dat")),l.xp6(2),l.Oqu(l.lcZ(3,4,"lang_auto_d_upper")))}function bt(mt,dt){1&mt&&(l.TgZ(0,"span",2),l.ALo(1,"mytranslate"),l._uU(2),l.ALo(3,"mytranslate"),l.qZA()),2&mt&&(l.s9C("matTooltip",l.lcZ(1,2,"lang_auto_chua_dat")),l.xp6(2),l.Oqu(l.lcZ(3,4,"lang_auto_cd_upper")))}function X(mt,dt){1&mt&&(l.TgZ(0,"span",2),l.ALo(1,"mytranslate"),l._uU(2),l.ALo(3,"mytranslate"),l.qZA()),2&mt&&(l.s9C("matTooltip",l.lcZ(1,2,"lang_auto_hoan_thanh")),l.xp6(2),l.Oqu(l.lcZ(3,4,"lang_auto_tag_ht")))}function n(mt,dt){1&mt&&(l.TgZ(0,"span",2),l.ALo(1,"mytranslate"),l._uU(2),l.ALo(3,"mytranslate"),l.qZA()),2&mt&&(l.s9C("matTooltip",l.lcZ(1,2,"lang_auto_chua_hoan_thanh")),l.xp6(2),l.hij("",l.lcZ(3,4,"lang_auto_tag_CHT")," "))}function kt(mt,dt){1&mt&&(l.TgZ(0,"span",2),l.ALo(1,"mytranslate"),l._uU(2),l.ALo(3,"mytranslate"),l.qZA()),2&mt&&(l.s9C("matTooltip",l.lcZ(1,2,"lang_auto_hoan_thanh_tot")),l.xp6(2),l.Oqu(l.lcZ(3,4,"lang_auto_tag_HTT")))}function ct(mt,dt){if(1&mt&&(l.TgZ(0,"span",3),l._uU(1),l.qZA()),2&mt){const gt=l.oxw();l.xp6(1),l.Oqu(gt.mark)}}let At=(()=>{class mt extends st.Q{constructor(){super(...arguments),this.mark=0}}return mt.\u0275fac=function(){let dt;return function(Tt){return(dt||(dt=l.n5z(mt)))(Tt||mt)}}(),mt.\u0275cmp=l.Xpm({type:mt,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[l.qOj],decls:6,vars:6,consts:[["class","text-mark mb-0",3,"matTooltip",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],[1,"text-mark","mb-0",3,"matTooltip"],[1,"text-mark","mb-0"]],template:function(gt,Tt){1&gt&&(l.YNc(0,t,4,6,"span",0),l.YNc(1,bt,4,6,"span",0),l.YNc(2,X,4,6,"span",0),l.YNc(3,n,4,6,"span",0),l.YNc(4,kt,4,6,"span",0),l.YNc(5,ct,2,1,"span",1)),2&gt&&(l.Q6J("ngIf","1000"==Tt.mark),l.xp6(1),l.Q6J("ngIf","1001"==Tt.mark),l.xp6(1),l.Q6J("ngIf","2000"==Tt.mark),l.xp6(1),l.Q6J("ngIf","2001"==Tt.mark),l.xp6(1),l.Q6J("ngIf","3000"==Tt.mark),l.xp6(1),l.Q6J("ngIf","2001"!=Tt.mark&&"2000"!=Tt.mark&&"1001"!=Tt.mark&&"1000"!=Tt.mark&&"3000"!=Tt.mark))},dependencies:[e.O5,s.gM,v.JV],encapsulation:2}),mt})()},22751:(Ke,Yt,x)=>{x.d(Yt,{d:()=>Qn});var st=x(56223),l=x(47496),e=x(65879),s=x(4021),v=x(46558),t=x(88489);let bt=(()=>{class C{countChecked(h){var j=0;for(var K in h)!0===h[K]&&(j+=1);return j}getDefaultFilterObj(h){var j=this.localStorageSlug+h;if(this.listFilterObjs[j])return this.listFilterObjs[j];var K=this.getInitFilterObj(),Zt=this.browserStorageService.getSimpleStorage(j),Ht=this.commonService.castJsonToObj(Zt??"");return Ht&&(K=Ht),K}saveFilterObj(h,j){var K=this.localStorageSlug+h;this.listFilterObjs[K]=j,this.browserStorageService.saveSimpleStorage(K,this.commonService.serializeJson(j))}getInitFilterObj(){return{getHasMark:!1,getNotMarked:!1,getNotDone:!1,getResendAnswer:!1,classroomId:0,studentId:0}}constructor(h,j){this.commonService=h,this.browserStorageService=j,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}}return C.\u0275fac=function(h){return new(h||C)(e.LFG(v.z),e.LFG(t.n))},C.\u0275prov=e.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();var X=x(94690),n=x(96814),kt=x(92596),ct=x(43389),At=x(91675),mt=x(77988),dt=x(36727);function gt(C,q){if(1&C&&(e.TgZ(0,"span"),e._uU(1,"\xa0"),e.TgZ(2,"span",21),e._uU(3),e.qZA()()),2&C){const h=e.oxw();e.xp6(3),e.Oqu(h.totalCustomFilter)}}function Tt(C,q){if(1&C){const h=e.EpF();e.TgZ(0,"li")(1,"label",22),e.NdJ("click",function(K){return K.stopPropagation()}),e._uU(2),e.ALo(3,"mytranslate"),e.TgZ(4,"div",10)(5,"input",23),e.NdJ("change",function(){e.CHM(h);const K=e.oxw();return K.filterObj.getResendAnswer=!K.filterObj.getResendAnswer,e.KtG(K.changeFilter())}),e.qZA()()()()}if(2&C){const h=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,2,"lang_student_profile_filter_get_resend_answer")," "),e.xp6(3),e.Q6J("checked",h.filterObj.getResendAnswer)}}let Ct=(()=>{class C extends l.Q{changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}clearFilter(){this.filterObj=this.studentProfileFilterService.getInitFilterObj(),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilter()}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}constructor(h){super(),this.studentProfileFilterService=h,this.filterType="",this.changeFilterEvent=new e.vpe,this.totalCustomFilter=0}}return C.\u0275fac=function(h){return new(h||C)(e.Y36(bt))},C.\u0275cmp=e.Xpm({type:C,selectors:[["azt-student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},features:[e.qOj],decls:41,vars:24,consts:[[1,"btn","btn-sm",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-0","md:mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["azt-track-service","filter-menu-SVYEFVdq9z","for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-OF32qNGQY8","for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-EpBgopx3Iv","for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","filter-menu-2gPTdI1ODd",3,"click"],["azt-track-service","filter-menu-cGVj55-Aac",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["azt-track-service","filter-menu-FWtx2ole8G","for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"]],template:function(h,j){if(1&h&&(e.TgZ(0,"button",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"polygon",2),e.qZA(),e.kcU(),e.TgZ(3,"span",3),e._uU(4),e.ALo(5,"mytranslate"),e.YNc(6,gt,4,1,"span",4),e.qZA()(),e.TgZ(7,"mat-menu",5,6)(9,"div",7)(10,"ul",8)(11,"li")(12,"label",9),e.NdJ("click",function(Zt){return Zt.stopPropagation()}),e._uU(13),e.ALo(14,"mytranslate"),e.TgZ(15,"div",10)(16,"input",11),e.NdJ("change",function(){return j.filterObj.getHasMark=!j.filterObj.getHasMark,j.changeFilter()}),e.qZA()()()(),e.TgZ(17,"li")(18,"label",12),e.NdJ("click",function(Zt){return Zt.stopPropagation()}),e._uU(19),e.ALo(20,"mytranslate"),e.TgZ(21,"div",10)(22,"input",13),e.NdJ("change",function(){return j.filterObj.getNotMarked=!j.filterObj.getNotMarked,j.changeFilter()}),e.qZA()()()(),e.TgZ(23,"li")(24,"label",14),e.NdJ("click",function(Zt){return Zt.stopPropagation()}),e._uU(25),e.ALo(26,"mytranslate"),e.TgZ(27,"div",10)(28,"input",15),e.NdJ("change",function(){return j.filterObj.getNotDone=!j.filterObj.getNotDone,j.changeFilter()}),e.qZA()()()(),e.YNc(29,Tt,6,4,"li",4),e.TgZ(30,"li"),e._UZ(31,"hr",16),e.qZA(),e.TgZ(32,"li")(33,"div",17)(34,"button",18),e._uU(35),e.ALo(36,"mytranslate"),e.qZA(),e.TgZ(37,"div",19),e.NdJ("click",function(Zt){return Zt.stopPropagation()}),e.TgZ(38,"button",20),e.NdJ("click",function(){return j.clearFilter()}),e._uU(39),e.ALo(40,"mytranslate"),e.qZA()()()()()()()),2&h){const K=e.MAs(8);e.Q6J("matMenuTriggerFor",K),e.xp6(4),e.hij(" ",e.lcZ(5,12,"lang_testbank_tested_list_sort")," "),e.xp6(2),e.Q6J("ngIf",j.totalCustomFilter>0),e.xp6(7),e.hij(" ",e.lcZ(14,14,"lang_student_profile_filter_get_has_mark")," "),e.xp6(3),e.Q6J("checked",j.filterObj.getHasMark),e.xp6(3),e.hij(" ",e.lcZ(20,16,"lang_student_profile_filter_get_not_marked")," "),e.xp6(3),e.Q6J("checked",j.filterObj.getNotMarked),e.xp6(3),e.hij(" ",e.lcZ(26,18,"exam"==j.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),e.xp6(3),e.Q6J("checked",j.filterObj.getNotDone),e.xp6(1),e.Q6J("ngIf","homework"==j.filterType),e.xp6(6),e.Oqu(e.lcZ(36,20,"lang_button_close")),e.xp6(4),e.Oqu(e.lcZ(40,22,"lang_button_delete"))}},dependencies:[n.O5,mt.VK,mt.p6,dt.JV],encapsulation:2}),C})();function Ot(C,q){if(1&C&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e._UZ(3,"azt-check-mark",18),e.qZA()),2&C){const h=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_point"),": "),e.xp6(2),e.Q6J("mark",h.resultMarkObj.point)}}function ot(C,q){1&C&&(e.TgZ(0,"span",19),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&C&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function D(C,q){if(1&C&&(e.ynx(0),e.YNc(1,Ot,4,4,"span",14),e.YNc(2,ot,3,3,"span",17),e.BQk()),2&C){const h=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",h.resultMarkObj.confirmedAt),e.xp6(1),e.Q6J("ngIf",!h.resultMarkObj.confirmedAt)}}function $(C,q){1&C&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&C&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_testbank_statistical_not_exem_yet")," "))}function lt(C,q){if(1&C){const h=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){const Zt=e.CHM(h).$implicit,Ht=e.oxw();return e.KtG(Ht.clickToExamObj(Zt))}),e.TgZ(1,"div",8),e.O4$(),e.TgZ(2,"svg",9),e._UZ(3,"path",10),e.qZA()(),e.kcU(),e.TgZ(4,"div",11)(5,"p",12),e._uU(6),e.qZA(),e.TgZ(7,"div",13),e.YNc(8,D,3,2,"ng-container",14),e.YNc(9,$,3,3,"span",15),e.qZA(),e.TgZ(10,"div",16),e._uU(11),e.ALo(12,"mytranslate"),e.ALo(13,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()()()}if(2&C){const h=q.$implicit,j=q.index;e.Gre("clickable zoom-in flex items-center ",j>0?"mt-3":""," pb-2"),e.xp6(5),e.s9C("matTooltip",h.name),e.xp6(1),e.AsE("",j+1,". ",h.name,""),e.xp6(2),e.Q6J("ngIf",h.resultMarkObj),e.xp6(1),e.Q6J("ngIf",!h.resultMarkObj),e.xp6(2),e.AsE("",e.lcZ(12,10,"lang_student_profile_utils_list_exam_created_at"),": ",e.lcZ(13,12,h.createdAt),"")}}function xt(C,q){1&C&&(e.TgZ(0,"div",21),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&C&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_list_null")))}function pt(C,q){1&C&&e._UZ(0,"azt-loading-effect")}function Pt(C,q){if(1&C){const h=e.EpF();e.TgZ(0,"div",22),e.YNc(1,pt,1,0,"azt-loading-effect",14),e.TgZ(2,"button",23),e.NdJ("click",function(){e.CHM(h);const K=e.oxw();return e.KtG(K.getNextExamResultObjs())}),e.ALo(3,"mytranslate"),e.O4$(),e.TgZ(4,"svg",24),e._UZ(5,"polyline",25),e.qZA()()()}if(2&C){const h=e.oxw();e.xp6(1),e.Q6J("ngIf",h.statusObj.loading),e.xp6(1),e.s9C("matTooltip",e.lcZ(3,3,"lang_student_profile_utils_list_exam_tooltip_view")),e.Q6J("disabled",!h.examNextPage)}}let ht=(()=>{class C extends l.Q{clickToExamObj(h){this.isTeacher?h.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("exam",h)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+h.id+"/"+h.resultMarkObj?.userId+"/"+h.resultMarkObj?.studentId+"/"+(h.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(h.categoryId??0)+"/"+h.id+"/0","?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(h.resultMarkObj?.resultId?"/test/answer-test/"+h.resultMarkObj?.userId+"/0/"+h.hashId+"/"+(h.resultMarkObj?.resultId??0):"/de-thi/"+h.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.examNextPage="",this.getNextExamResultObjs()}getNextExamResultObjs(){this.initStatusObj();var h=this.studentProfileFilterService.getDefaultFilterObj("exam");h.classroomId=this.classroomId,h.studentId=this.studentId,h.nextPage=this.examNextPage,this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(h).subscribe(j=>{1==j.success?(this.examObjs=this.examObjs.concat(j.data?.objs??[]),this.examNextPage=j.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextExamResultObjs()}constructor(h,j,K){super(),this.studentProfileV2Service=h,this.studentProfileFilterService=j,this.permissionService=K,this.backToLink="",this.isTeacher=!0,this.examObjs=[],this.examNextPage=""}}return C.\u0275fac=function(h){return new(h||C)(e.Y36(s.LU),e.Y36(bt),e.Y36(X.j))},C.\u0275cmp=e.Xpm({type:C,selectors:[["azt-student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",isTeacher:"isTeacher"},features:[e.qOj],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","list-exam-pw607HPZy",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","list-exam-pw607HPZy",3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"w-12","h-12","text-pending","bi","bi-file-earmark-check-fill"],["d","M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm1.354 4.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708.708z"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],["azt-track-service","list-exam-wvCfNB667b",1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(h,j){1&h&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"azt-student-profile-filter-menu",2),e.NdJ("changeFilterEvent",function(){return j.reInitData()}),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,lt,14,14,"div",4),e.YNc(7,xt,3,3,"div",5),e.YNc(8,Pt,6,5,"div",6),e.qZA()),2&h&&(e.xp6(2),e.Oqu(e.lcZ(3,5,"lang_student_profile_utils_list_exam_list_submitted")),e.xp6(2),e.Q6J("filterType","exam"),e.xp6(2),e.Q6J("ngForOf",j.examObjs),e.xp6(1),e.Q6J("ngIf",0==j.examObjs.length&&!j.examNextPage),e.xp6(1),e.Q6J("ngIf",j.examObjs.length>0&&j.examNextPage))},dependencies:[n.sg,n.O5,kt.gM,ct.l,At.B,Ct,dt.JV,dt.$n],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),C})();var $t=x(2783),Xt=x(21266),Kt=x(23680),we=x(64170),Ae=x(98525),Se=x(19347),Pe=x(72164),xe=x(78497),me=x(71646);function he(C,q){1&C&&(e.TgZ(0,"span",11),e._UZ(1,"azt-loading-ui"),e.qZA())}let _e=(()=>{class C extends Pe.e{confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id??0).subscribe(h=>{1==h.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(h.message??"",!0))}))}btnCloseDialog(h){this.dialogRef.close(h)}constructor(h,j,K){super(K,j),this.studentService=h,this.dialogRef=j,this.data=K,this.studentObj=K.studentObj,this.classroomObj=K.classroomObj}}return C.\u0275fac=function(h){return new(h||C)(e.Y36(s.VT),e.Y36(Se.so,8),e.Y36(Se.WI,8))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-delete-parent"]],features:[e.qOj],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-parent-OCYQzQEUBJ",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-parent-q0ZQYEQFkD",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(h,j){1&h&&(e.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),e._uU(5),e.ALo(6,"mytranslate"),e.TgZ(7,"b",4),e._uU(8),e.qZA(),e._uU(9),e.ALo(10,"mytranslate"),e.TgZ(11,"span",5),e._uU(12),e.qZA(),e._uU(13,"\xa0 "),e.TgZ(14,"span",6),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()()()()(),e.TgZ(17,"div",7)(18,"button",8),e.NdJ("click",function(){return j.btnCloseDialog(!1)}),e._uU(19),e.ALo(20,"mytranslate"),e.qZA(),e.TgZ(21,"button",9),e.NdJ("click",function(){return j.confirmDelete()}),e.YNc(22,he,2,0,"span",10),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()()()),2&h&&(e.xp6(5),e.hij(" ",e.lcZ(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),e.xp6(3),e.Oqu(j.studentObj.fullName),e.xp6(1),e.hij(" ",e.lcZ(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),e.xp6(2),e.s9C("matTooltip",j.classroomObj.name),e.xp6(1),e.hij(" ",j.classroomObj.name,""),e.xp6(3),e.hij("* ",e.lcZ(16,13,"lang_student_utils_delete_parent_reques"),""),e.xp6(4),e.hij(" ",e.lcZ(20,15,"lang_cms_common_close_btn")," "),e.xp6(3),e.Q6J("ngIf",j.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[n.O5,kt.gM,xe.R,me.n,dt.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:98;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137)}.school-info[_ngcontent-%COMP%]{z-index:99;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;border-radius:5px;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 2px 0 0;white-space:nowrap}.text-note[_ngcontent-%COMP%]{display:block;font-style:italic;font-size:15px;color:#000;font-weight:600;text-align:center;margin:10px 0}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),C})();var Ue=x(83044),Ie=x(5977),Me=x(37722),ze=x(1103);function oe(C,q){1&C&&e._UZ(0,"azt-loading-effect")}function je(C,q){if(1&C){const h=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(h);const K=e.oxw(4);return e.KtG(K.editStudentDialog(K.studentObj))}),e.TgZ(1,"div",15),e._UZ(2,"lucide-icon",16),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&C&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_button_edit")," "))}function de(C,q){if(1&C){const h=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(h);const K=e.oxw(4);return e.KtG(K.deleteStudentDialog(K.studentObj))}),e.TgZ(1,"div",18),e._UZ(2,"lucide-icon",19),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&C&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function Fe(C,q){if(1&C){const h=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(h);const K=e.oxw(4);return e.KtG(K.deleteParentOfStudentDialog(K.studentObj))}),e.TgZ(1,"div",21),e._UZ(2,"lucide-icon",22),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&C&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_student_profile_utils_account_student_required_verifie")," "))}const Ne=function(C){return[C]};function We(C,q){if(1&C&&(e.TgZ(0,"button",23),e.ALo(1,"navigationLocalize"),e.TgZ(2,"div",15),e._UZ(3,"lucide-icon",24),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()),2&C){const h=e.oxw(4);e.Q6J("routerLink",e.VKq(6,Ne,e.lcZ(1,2,"/business/message/student/"+h.studentObj.id))),e.xp6(4),e.hij(" ",e.lcZ(5,4,"lang_business_dashboard_business_messages")," ")}}function Je(C,q){if(1&C&&(e.TgZ(0,"div",9),e.YNc(1,je,5,3,"button",10),e.ALo(2,"editPermission"),e.YNc(3,de,5,3,"button",11),e.ALo(4,"fullPermission"),e.ALo(5,"editPermission"),e.YNc(6,Fe,5,3,"button",12),e.ALo(7,"editPermission"),e.YNc(8,We,6,8,"button",13),e.qZA()),2&C){const h=e.oxw(3);e.xp6(1),e.Q6J("ngIf",e.xi3(2,4,h.classroomObj,"student")),e.xp6(2),e.Q6J("ngIf",e.xi3(4,7,h.classroomObj,"student")||e.xi3(5,10,h.classroomObj,"student")),e.xp6(3),e.Q6J("ngIf",0!=h.studentObj.parentId&&e.xi3(7,13,h.classroomObj,"student")),e.xp6(2),e.Q6J("ngIf",h.businessChatService.ready&&h.studentObj.parentId>0)}}function te(C,q){if(1&C){const h=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(h);const K=e.oxw(4);return e.KtG(K.deleteStudentDialog(K.studentObj))}),e.TgZ(1,"div",18),e._UZ(2,"lucide-icon",19),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&C&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function qe(C,q){if(1&C){const h=e.EpF();e.TgZ(0,"div",9)(1,"button",25),e.NdJ("click",function(){e.CHM(h);const K=e.oxw(3);return e.KtG(K.editStudentDialog(K.studentObj))}),e.TgZ(2,"div",15),e._UZ(3,"lucide-icon",16),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.YNc(6,te,5,3,"button",26),e.ALo(7,"fullPermission"),e.ALo(8,"editPermission"),e.qZA()}if(2&C){const h=e.oxw(3);e.xp6(4),e.hij(" ",e.lcZ(5,2,"lang_button_edit")," "),e.xp6(2),e.Q6J("ngIf",e.xi3(7,4,h.classroomObj,"student")||e.xi3(8,7,h.classroomObj,"student"))}}const Xe=function(){return[]};function Qe(C,q){if(1&C&&(e.ynx(0),e.TgZ(1,"div",4)(2,"div",5),e._UZ(3,"azt-student-info-box",6),e.qZA(),e.TgZ(4,"div",7),e.YNc(5,Je,9,16,"div",8),e.ALo(6,"editPermission"),e.qZA()(),e.YNc(7,qe,9,10,"div",8),e.ALo(8,"editPermission"),e.BQk()),2&C){const h=e.oxw(2);let j;e.xp6(3),e.Q6J("name",h.studentObj.fullName)("parentFullName",h.studentObj.parentFullName)("parentId",h.studentObj.parentId)("parentPhone",h.studentObj.parentPhone)("email",h.studentObj.email)("birthday",h.studentObj.birthday)("avatar",h.studentObj.avatar)("gender",h.studentObj.gender)("schoolName",null==h.studentObj.moreInfo?null:h.studentObj.moreInfo.schoolName)("facebookLink",null==h.studentObj.moreInfo?null:h.studentObj.moreInfo.facebookLink)("identificationNumber",h.studentObj.identificationNumber)("hasUser",1==h.studentObj.isVerified)("classrooms",null!==(j=null==h.studentObj.moreInfo?null:h.studentObj.moreInfo.classrooms)&&void 0!==j?j:e.DdM(22,Xe))("joinedAt",null==h.studentObj.moreInfo?null:h.studentObj.moreInfo.joinedAt),e.xp6(2),e.Q6J("ngIf",h.isTeacher&&0!=h.studentObj.parentId&&e.xi3(6,16,h.classroomObj,"student")),e.xp6(2),e.Q6J("ngIf",h.isTeacher&&0==h.studentObj.parentId&&e.xi3(8,19,h.classroomObj,"student"))}}function Ye(C,q){1&C&&(e.TgZ(0,"div",28)(1,"span",29),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&C&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_profile_student_not_found")))}function tn(C,q){if(1&C&&(e.YNc(0,Qe,9,23,"ng-container",1),e.YNc(1,Ye,4,3,"ng-template",null,3,e.W1O)),2&C){const h=e.MAs(2),j=e.oxw();e.Q6J("ngIf",j.studentObj)("ngIfElse",h)}}const en=function(C){return{"pb-5":C}};let ue=(()=>{class C extends l.Q{deleteStudentDialog(h){this.sAztDialogService.open(Ue.i,{data:{studentObj:h,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(K=>{K&&this.commonService.myNavigation(this.paramBackToLink)})}editStudentDialog(h){this.sAztDialogService.open(Ie.W,{data:{studentObj:h,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(K=>{K&&(this.reInitComponentEvent.emit(),this.getData())})}deleteParentOfStudentDialog(h){this.sAztDialogService.open(_e,{data:{studentObj:h,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(K=>{K&&(this.reInitComponentEvent.emit(),this.getData())})}getData(){this.initStatusObj(),this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0}).subscribe(j=>{1==j.success?(j.data?.studentObj&&j.data?.classroomObj&&j.data.classroomObj.permissionObj&&(this.studentObj=j.data.studentObj,this.classroomObj=j.data.classroomObj),this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.getData()}constructor(h,j){super(),this.studentProfileV2Service=h,this.sAztDialogService=j,this.classroomList=[],this.backToLink="",this.paramBackToLink="",this.isTeacher=!0,this.reInitComponentEvent=new e.vpe}}return C.\u0275fac=function(h){return new(h||C)(e.Y36(s.LU),e.Y36($t.C))},C.\u0275cmp=e.Xpm({type:C,selectors:[["azt-detail-account-student"]],inputs:{classroomId:"classroomId",studentId:"studentId",classroomList:"classroomList",backToLink:"backToLink",paramBackToLink:"paramBackToLink",isTeacher:"isTeacher"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.qOj],decls:4,vars:5,consts:[[1,"intro-y","box","px-5","pt-5",3,"ngClass"],[4,"ngIf","ngIfElse"],["doneLoading",""],["noStudentObj",""],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[3,"name","parentFullName","parentId","parentPhone","email","birthday","avatar","gender","schoolName","facebookLink","identificationNumber","hasUser","classrooms","joinedAt"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["azt-track-service","detail-account-student-rzLFlIWrx","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-zZpuvJmKGS","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-hml3hBaXHE","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"routerLink",4,"ngIf"],["azt-track-service","detail-account-student-rzLFlIWrx",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-primary"],["name","pencil"],["azt-track-service","detail-account-student-zZpuvJmKGS",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-danger"],["name","trash-2"],["azt-track-service","detail-account-student-hml3hBaXHE",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-warning"],["name","shield-alert"],[1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"routerLink"],["name","mail"],["azt-track-service","detail-account-student-WgNDrDRXqF",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","detail-account-student-njjAOAGlF5","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-njjAOAGlF5",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-5"],[1,"block","sm:inline"]],template:function(h,j){if(1&h&&(e.TgZ(0,"div",0),e.YNc(1,oe,1,0,"azt-loading-effect",1),e.YNc(2,tn,3,2,"ng-template",null,2,e.W1O),e.qZA()),2&h){const K=e.MAs(3);e.Q6J("ngClass",e.VKq(3,en,!j.studentObj)),e.xp6(1),e.Q6J("ngIf",j.statusObj.loading)("ngIfElse",K)}},dependencies:[n.mk,n.O5,Xt.rH,Me.Nh5,ct.l,ze.a,dt.Jy,dt.JV,dt.NK,dt.Pf],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]}),C})();var ut=x(81176),pe=x(87789);let ve=(()=>{class C extends l.Q{constructor(h,j){super(),this.studentService=h,this.sAztDialogService=j,this.studentId=0,this.selectClassroomId=0,this.isTeacherRole=!0,this.avgPoint=0}showTotalPointDetail(){this.sAztDialogService.open(ut.m,{width:"700px",restoreFocus:!1,data:{student:this.studentObj,isTeacher:this.isTeacherRole}}).afterClosed().subscribe(h=>{this.getInfoAttendance()})}getInfoAttendance(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsStudentIdProfileGet(this.studentId,this.selectClassroomId).subscribe(h=>{h?(this.attendanceObj=h,this.avgPoint=h.averageMark??0,this.studentObj=h.student,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnChanges(){this.getInfoAttendance()}ngOnInit(){super.ngOnInit()}}return C.\u0275fac=function(h){return new(h||C)(e.Y36(pe.VT),e.Y36($t.C))},C.\u0275cmp=e.Xpm({type:C,selectors:[["azt-detail-attendance"]],inputs:{studentId:"studentId",selectClassroomId:"selectClassroomId",isTeacherRole:"isTeacherRole"},features:[e.qOj,e.TTD],decls:60,vars:23,consts:[[1,"detail-attendance"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"box","flex","items-center","p-5"],[1,"box-content","mx-auto","text-center"],[1,"btn","btn-sm","btn-primary-soft","p-1"],[1,"w-6","h-6"],["name","star"],[1,"mt-4"],[1,"ml-2","link__hover","link__color",3,"click"],[1,"text-2xl","text-primary","font-medium"],[1,"col-span-12","md:col-span-3"],[1,"box","zoom-in","flex","items-center","p-5"],["name","check"],[1,"btn","btn-sm","btn-secondary-soft","p-1"],["name","power-off"],[1,"text-2xl","text-secondary","font-medium"],[1,"btn","btn-sm","btn-pending-soft","p-1"],["name","alert-octagon"],[1,"text-2xl","text-pending","font-medium"],[1,"btn","btn-sm","btn-danger-soft","p-1"],["name","x-octagon"],[1,"text-2xl","text-danger","font-medium"]],template:function(h,j){1&h&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"div",6),e._UZ(7,"lucide-icon",7),e.qZA()(),e.TgZ(8,"div",8),e._uU(9),e.ALo(10,"mytranslate"),e.TgZ(11,"a",9),e.NdJ("click",function(){return j.showTotalPointDetail()}),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()(),e.TgZ(14,"div",10),e._uU(15),e.qZA()()()(),e.TgZ(16,"div",11)(17,"div",12)(18,"div",4)(19,"button",5)(20,"div",6),e._UZ(21,"lucide-icon",13),e.qZA()(),e.TgZ(22,"div",8),e._uU(23),e.ALo(24,"mytranslate"),e.qZA(),e.TgZ(25,"div",10),e._uU(26),e.qZA()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",4)(30,"button",14)(31,"div",6),e._UZ(32,"lucide-icon",15),e.qZA()(),e.TgZ(33,"div",8),e._uU(34),e.ALo(35,"mytranslate"),e.qZA(),e.TgZ(36,"div",16),e._uU(37),e.qZA()()()(),e.TgZ(38,"div",11)(39,"div",12)(40,"div",4)(41,"button",17)(42,"div",6),e._UZ(43,"lucide-icon",18),e.qZA()(),e.TgZ(44,"div",8),e._uU(45),e.ALo(46,"mytranslate"),e.qZA(),e.TgZ(47,"div",19),e._uU(48),e.qZA()()()(),e.TgZ(49,"div",11)(50,"div",12)(51,"div",4)(52,"button",20)(53,"div",6),e._UZ(54,"lucide-icon",21),e.qZA()(),e.TgZ(55,"div",8),e._uU(56),e.ALo(57,"mytranslate"),e.qZA(),e.TgZ(58,"div",22),e._uU(59),e.qZA()()()()()()),2&h&&(e.xp6(9),e.hij(" ",e.lcZ(10,11,"lang_business_diem_tong_ket")," "),e.xp6(3),e.hij("(",e.lcZ(13,13,"lang_auto_xem_chi_tiet"),")"),e.xp6(3),e.Oqu(j.avgPoint),e.xp6(8),e.Oqu(e.lcZ(24,15,"lang_student_number_of_sessions_attended")),e.xp6(3),e.Oqu(null==j.attendanceObj?null:j.attendanceObj.totalAttend),e.xp6(8),e.Oqu(e.lcZ(35,17,"lang_student_number_of_sessions_missed")),e.xp6(3),e.Oqu(null==j.attendanceObj?null:j.attendanceObj.totalAbsence),e.xp6(8),e.Oqu(e.lcZ(46,19,"lang_student_number_of_approved_absences")),e.xp6(3),e.Oqu(null==j.attendanceObj?null:j.attendanceObj.totalAbsentPermission),e.xp6(8),e.Oqu(e.lcZ(57,21,"lang_student_number_of_unauthorized_absences")),e.xp6(3),e.Oqu(null==j.attendanceObj?null:j.attendanceObj.totalAbsentWithoutPermission))},dependencies:[Me.Nh5,dt.JV],encapsulation:2}),C})();var Gt=x(60381);function zt(C,q){if(1&C&&(e.TgZ(0,"tr")(1,"td",10),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()()),2&C){const h=q.$implicit,j=q.index;e.xp6(2),e.Oqu(j+1),e.xp6(2),e.Oqu(h.bookName),e.xp6(2),e.Oqu(e.lcZ(7,3,h.createdAt))}}function Oe(C,q){if(1&C&&(e.ynx(0),e.YNc(1,zt,8,5,"tr",9),e.BQk()),2&C){const h=e.oxw();e.xp6(1),e.Q6J("ngForOf",h.bookDistributionList)}}function ee(C,q){1&C&&(e.TgZ(0,"tr")(1,"td",11),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&C&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_student_profile_not_data_view")," "))}let ye=(()=>{class C extends l.Q{getInfoBookDistribution(){this.waitDestroy(this.studentService.apiStudentsStudentIdBooksGet(this.studentId).subscribe(h=>{h?(this.bookDistributionList=h.list,this.totalBookDistribution=h.total):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getInfoBookDistribution()}constructor(h){super(),this.studentService=h,this.studentId=0,this.bookDistributionList=[],this.totalBookDistribution=0}}return C.\u0275fac=function(h){return new(h||C)(e.Y36(pe.VT))},C.\u0275cmp=e.Xpm({type:C,selectors:[["azt-detail-book-distribution"]],inputs:{studentId:"studentId"},features:[e.qOj],decls:22,vars:14,consts:[[1,"text-right","mt-4"],[1,"font-medium"],[1,"box","mt-2"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[4,"ngIf","ngIfElse"],["noDistribution",""],[4,"ngFor","ngForOf"],[1,"text-center"],["colspan","3",1,"text-center"]],template:function(h,j){if(1&h&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()(),e.TgZ(4,"div",2)(5,"drag-scroll")(6,"table",3)(7,"thead",4)(8,"tr")(9,"th",5),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"th",6),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"th",6),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,Oe,2,1,"ng-container",7),e.YNc(20,ee,4,3,"ng-template",null,8,e.W1O),e.qZA()()()()),2&h){const K=e.MAs(21);e.xp6(2),e.hij(" ",e.lcZ(3,6,"lang_student_total")+": "+j.totalBookDistribution," "),e.xp6(8),e.hij(" ",e.lcZ(11,8,"lang_auto_stt")," "),e.xp6(3),e.hij(" ",e.lcZ(14,10,"lang_core_ten_sach")," "),e.xp6(3),e.hij(" ",e.lcZ(17,12,"lang_auto_thoi_gian")," "),e.xp6(3),e.Q6J("ngIf",j.bookDistributionList.length)("ngIfElse",K)}},dependencies:[n.sg,n.O5,Gt.HU,Gt.$Z,dt.JV,dt.$n],encapsulation:2}),C})();var Le=x(66469),Be=x(71518),He=x(84003),It=x(95287);function Ze(C,q){if(1&C&&(e.TgZ(0,"span"),e._UZ(1,"lucide-icon",15),e.qZA()),2&C){const h=e.oxw().$implicit;e.xp6(1),e.s9C("name",h.showChild?"chevron-up":"chevron-down")}}function Ft(C,q){if(1&C&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&C){const h=e.oxw(2).$implicit;e.xp6(1),e.Oqu(h.averageMark)}}const U=function(C){return{"width.%":C}};function _t(C,q){if(1&C&&(e.TgZ(0,"div",16),e.YNc(1,Ft,2,1,"span",17),e.qZA()),2&C){const h=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,U,10*h.averageMark)),e.xp6(1),e.Q6J("ngIf",h.averageMark>1)}}function N(C,q){if(1&C&&(e.TgZ(0,"div",19),e._UZ(1,"azt-knowledge-by-subject-student",20),e.qZA()),2&C){const h=e.oxw().$implicit,j=e.oxw();e.xp6(1),e.Q6J("knowledgeDetailObjs",h.children)("countLevelNode",j.countLevelNode+1)}}const w=function(C,q,h,j,K){return{"mt-3":C,"border-none":q,"bg-slate-100":h,"bg-white":j,"pb-0":K}},B=function(C){return{cursor:C}},k=function(C,q){return{"font-medium":C,"font-normal":q}},Q=function(C){return{"padding-left.px":C}};function V(C,q){if(1&C){const h=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e.NdJ("click",function(){const Zt=e.CHM(h).$implicit,Ht=e.oxw();return e.KtG(Ht.showChildKnowledgeData(Zt))}),e.TgZ(3,"h3",4),e._uU(4),e.ALo(5,"mytranslate"),e.YNc(6,Ze,2,1,"span",5),e.qZA()(),e.TgZ(7,"div",6)(8,"h3",7),e._uU(9),e.ALo(10,"mytranslate"),e.TgZ(11,"b"),e._uU(12),e.qZA(),e._uU(13,"/"),e.TgZ(14,"b"),e._uU(15),e.qZA(),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9)(20,"span",10),e._uU(21,"0"),e.qZA(),e.TgZ(22,"div",11),e.YNc(23,_t,2,4,"div",12),e.qZA(),e.TgZ(24,"span",13),e._uU(25,"10"),e.qZA()()()(),e.YNc(26,N,2,2,"div",14),e.qZA()}if(2&C){const h=q.$implicit,j=q.first,K=q.last,Zt=e.oxw();e.Q6J("ngClass",e.qbA(19,w,j&&0==Zt.countLevelNode,K,Zt.countLevelNode%2!=0,Zt.countLevelNode%2==0,h.showChild)),e.xp6(2),e.Akn(e.VKq(25,B,h.children&&h.children.length?"pointer":"default")),e.xp6(1),e.Q6J("ngClass",e.WLB(27,k,0==Zt.countLevelNode||h.showChild,0!=Zt.countLevelNode&&!h.showChild))("ngStyle",e.VKq(30,Q,5*Zt.countLevelNode)),e.xp6(1),e.hij(" ",e.lcZ(5,13,h.name)," "),e.xp6(2),e.Q6J("ngIf",h.children&&h.children.length),e.xp6(3),e.hij(" ",e.lcZ(10,15,"lang_auto_tra_loi_dung"),":\xa0"),e.xp6(3),e.Oqu(h.totalCorrectQuestion),e.xp6(3),e.Oqu(h.totalQuestion),e.xp6(1),e.hij("\xa0",e.lcZ(17,17,"azt_lang_sugg_question")," "),e.xp6(7),e.Q6J("ngIf",h.averageMark),e.xp6(3),e.Q6J("ngIf",h.children&&h.children.length&&h.showChild)}}let at=(()=>{class C extends l.Q{showChildKnowledgeData(h){h.children&&h.children.length&&(h.showChild=!h.showChild)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.knowledgeDetailObjs=[],this.countLevelNode=1}}return C.\u0275fac=function(h){return new(h||C)},C.\u0275cmp=e.Xpm({type:C,selectors:[["azt-knowledge-by-subject-student"]],inputs:{knowledgeDetailObjs:"knowledgeDetailObjs",countLevelNode:"countLevelNode"},features:[e.qOj],decls:1,vars:1,consts:[["class","border-b border-slate-200/60 dark:border-darkmode-400","style","padding: 10px 24px; margin-left: -24px; margin-right: -24px;",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center",3,"click"],[1,"",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr","pr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],["style","margin-top: 10px",4,"ngIf"],[2,"vertical-align","top","height","16px!important","width","16px!important",3,"name"],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[2,"margin-top","10px"],[3,"knowledgeDetailObjs","countLevelNode"]],template:function(h,j){1&h&&e.YNc(0,V,27,32,"div",0),2&h&&e.Q6J("ngForOf",j.knowledgeDetailObjs)},dependencies:[n.mk,n.sg,n.O5,n.PC,Me.Nh5,C,dt.JV],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}.pb-0[_ngcontent-%COMP%]{padding-bottom:0!important}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),C})();function St(C,q){1&C&&e._UZ(0,"azt-loading-effect")}function Vt(C,q){if(1&C&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&C){const h=e.oxw(2).$implicit;e.xp6(1),e.Oqu(h.averageMark)}}const ie=function(C){return{"width.%":C}};function Mt(C,q){if(1&C&&(e.TgZ(0,"div",21),e.YNc(1,Vt,2,1,"span",22),e.qZA()),2&C){const h=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,ie,10*h.averageMark)),e.xp6(1),e.Q6J("ngIf",h.averageMark&&h.averageMark>1)}}function ne(C,q){1&C&&(e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"azt-loading-ui"),e.qZA()())}function Ge(C,q){1&C&&(e.ynx(0),e.TgZ(1,"div",27)(2,"span",28),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.BQk()),2&C&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"lang_profile_student_not_support_subject")))}function fn(C,q){if(1&C&&(e.ynx(0),e.TgZ(1,"div",37)(2,"h4",30),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e._UZ(5,"azt-knowledge-by-subject-student",38),e.BQk()),2&C){const h=e.oxw(3).$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,3,"lang_student_profile_result_by_topic")," "),e.xp6(2),e.Q6J("knowledgeDetailObjs",h.knowledgeDataObjs)("countLevelNode",0)}}function ae(C,q){if(1&C&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&C){const h=e.oxw(2).$implicit;e.xp6(1),e.Oqu(h.averageMark)}}const xn=function(C,q,h,j){return{"bg-orange-600":C,"bg-red-600":q,"bg-green-600":h,"bg-blue-600":j}};function I(C,q){if(1&C&&(e.TgZ(0,"div",50),e.YNc(1,ae,2,1,"span",22),e.qZA()),2&C){const h=e.oxw().$implicit;e.Q6J("ngClass",e.l5B(3,xn,1==h.id,3==h.id,2==h.id,4==h.id))("ngStyle",e.VKq(8,ie,10*h.averageMark)),e.xp6(1),e.Q6J("ngIf",h.averageMark>1)}}const W=function(C){return{"border-none":C}};function O(C,q){if(1&C&&(e.TgZ(0,"div",40)(1,"div",41)(2,"div",42)(3,"h3",43),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"div",44)(7,"h3",43),e._uU(8),e.ALo(9,"mytranslate"),e.TgZ(10,"b"),e._uU(11),e.qZA(),e._uU(12,"/"),e.TgZ(13,"b"),e._uU(14),e.qZA(),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()(),e.TgZ(17,"div",45)(18,"div",46)(19,"span",47),e._uU(20,"0"),e.qZA(),e.TgZ(21,"div",48),e.YNc(22,I,2,10,"div",49),e.qZA(),e.TgZ(23,"span",18),e._uU(24,"10"),e.qZA()()()()()),2&C){const h=q.$implicit;e.Q6J("ngClass",e.VKq(13,W,q.last)),e.xp6(4),e.hij(" ",e.lcZ(5,7,h.name)," "),e.xp6(4),e.hij(" ",e.lcZ(9,9,"lang_auto_tra_loi_dung"),":\xa0"),e.xp6(3),e.Oqu(h.totalCorrectQuestion),e.xp6(3),e.Oqu(h.totalQuestion),e.xp6(1),e.hij("\xa0",e.lcZ(16,11,"azt_lang_sugg_question")," "),e.xp6(7),e.Q6J("ngIf",h.averageMark)}}function A(C,q){if(1&C&&(e.ynx(0),e.TgZ(1,"div",37)(2,"h4",30),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.YNc(5,O,25,15,"div",39),e.BQk()),2&C){const h=e.oxw(3).$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_student_profile_result_by_difficulty_level")," "),e.xp6(2),e.Q6J("ngForOf",h.difficultyDataObjs)}}function F(C,q){if(1&C&&(e.TgZ(0,"div",29)(1,"h4",30),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()(),e.TgZ(4,"div",31)(5,"div",32)(6,"div",33)(7,"div",34),e._UZ(8,"div",35),e.qZA()()()(),e.YNc(9,fn,6,5,"ng-container",36),e.YNc(10,A,6,4,"ng-container",36)),2&C){const h=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,4,"lang_student_profile_exam_point_by_time")," "),e.xp6(6),e.Q6J("chart",h.chart),e.xp6(1),e.Q6J("ngIf",h.knowledgeDataObjs&&h.knowledgeDataObjs.length),e.xp6(1),e.Q6J("ngIf",h.difficultyDataObjs&&h.difficultyDataObjs.length)}}function wt(C,q){if(1&C&&(e.YNc(0,Ge,5,3,"ng-container",1),e.YNc(1,F,11,6,"ng-template",null,26,e.W1O)),2&C){const h=e.MAs(2),j=e.oxw().$implicit;e.Q6J("ngIf",j.errorGetData)("ngIfElse",h)}}function se(C,q){if(1&C){const h=e.EpF();e.ynx(0),e.TgZ(1,"mat-expansion-panel",7),e.NdJ("opened",function(){const Zt=e.CHM(h).index,Ht=e.oxw(2);return e.KtG(Ht.getStatisticalById(Zt))}),e.TgZ(2,"mat-expansion-panel-header",8)(3,"div",9)(4,"div",10)(5,"h3",11),e._uU(6),e.ALo(7,"mytranslate"),e.ALo(8,"mytranslate"),e.qZA()(),e.TgZ(9,"div",12)(10,"div",13)(11,"span",14),e._uU(12),e.ALo(13,"mytranslate"),e.qZA(),e.TgZ(14,"span",15),e._uU(15,"0"),e.qZA(),e.TgZ(16,"div",16),e.YNc(17,Mt,2,4,"div",17),e.qZA(),e.TgZ(18,"span",18),e._uU(19,"10"),e.qZA()()()()(),e.YNc(20,ne,3,0,"div",19),e.YNc(21,wt,3,2,"ng-template",null,20,e.W1O),e.qZA(),e.BQk()}if(2&C){const h=q.$implicit,j=e.MAs(22);e.xp6(6),e.AsE(" ",e.lcZ(7,6,h.subjectName)," ","("+e.lcZ(8,8,h.levelName)+")"," "),e.xp6(6),e.Oqu(e.lcZ(13,10,"lang_auto_diem_trung_binh")),e.xp6(5),e.Q6J("ngIf",h.averageMark),e.xp6(3),e.Q6J("ngIf",h.isLoading)("ngIfElse",j)}}function vn(C,q){if(1&C&&(e.TgZ(0,"div",3)(1,"div",4)(2,"mat-accordion",5),e.YNc(3,se,23,12,"ng-container",6),e.qZA()()()),2&C){const h=e.oxw();e.xp6(3),e.Q6J("ngForOf",h.levelSubjectObjs)}}let Ve=(()=>{class C extends l.Q{getStatisticalById(h){this.levelSubjectObjs.length&&this.levelSubjectObjs[h]&&(this.levelSubjectObjs[h].isLoading=!0,this.levelSubjectObjs[h].errorGetData=!1,this.studentService.apiStudentsStudentIdFieldGet(this.studentId,this.levelSubjectObjs[h].levelId??0,this.levelSubjectObjs[h].subjectId??0).subscribe({next:j=>{j?(this.levelSubjectObjs[h].difficultyDataObjs=j.difficulty??[],this.levelSubjectObjs[h].knowledgeDataObjs=j.knowledge??[],this.levelSubjectObjs[h].chart=this.createChart(j.examResults??[]),this.levelSubjectObjs[h].isLoading=!1,this.levelSubjectObjs[h].errorGetData=!1):(this.levelSubjectObjs[h].isLoading=!1,this.levelSubjectObjs[h].errorGetData=!0,this.stopStatusObj())},error:j=>{this.levelSubjectObjs[h].isLoading=!1,this.levelSubjectObjs[h].errorGetData=!0,this.errorStatusObj(j.error.message??"",!0)}}))}createChart(h){let j=this.commonService.myTranslateInstant("lang_auto_Diem")??"",K=this.commonService.myTranslateInstant("lang_student_profile_exam_point_by_time")??"",Zt=[],Ht=[];return h.forEach(Te=>{Zt.push(Te.mark??0),Ht.push(this.sAztTimeService.formatFullDateTimeWithoutSecondByUserUnit(Te.createdAt))}),new Le.kL({chart:{type:"line",style:{fontFamily:"Arial"}},title:{style:{wordWrap:"break-word","text-align":"center"},text:K,useHTML:!0},colors:["#2361ae"],credits:{enabled:!1},xAxis:{categories:Ht},yAxis:{title:{text:j}},series:[{name:j,type:"line",data:Zt}]})}getDataSubject(){this.initStatusObj(),this.isBusinessDomain?this.studentService.apiStudentsStudentIdAverageLevelSubjectMarksGet(this.studentId).subscribe({next:h=>{this.levelSubjectObjs=h.list??[],this.getStatisticalById(0),this.stopStatusObj()},error:h=>{this.errorStatusObj(h.error.message,!0)}}):this.examPageResultService.apiExamPageResultListStudentProfileByLevelSubjectsGet(this.studentId).subscribe(h=>{1==h.success&&h.data?(this.levelSubjectObjs=h.data.objs??[],this.getStatisticalById(0),this.stopStatusObj()):this.errorStatusObj(h.message??"",!0)})}ngOnInit(){super.ngOnInit(),this.getDataSubject()}constructor(h,j,K){super(),this.examPageResultService=h,this.studentService=j,this.sAztTimeService=K,this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new e.vpe,this.levelSubjectObjs=[],this.chart=new Le.kL}}return C.\u0275fac=function(h){return new(h||C)(e.Y36(Be.DR),e.Y36(pe.VT),e.Y36(He.D))},C.\u0275cmp=e.Xpm({type:C,selectors:[["azt-detail-by-subject-student"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.qOj],decls:4,vars:2,consts:[[1,"intro-y"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"px-5"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[2,"margin-top","0.75rem",3,"opened"],[1,"pad-mobile"],[1,"grid","grid-cols-12","gap-3","gap-mobile","items-center","w-full","justify-between"],[1,"col-span-12","lg:col-span-3"],[1,"font-medium","mr-3"],[1,"col-span-12","lg:col-span-9","text-center"],[1,"flex","profile-flr","pr-5",2,"align-items","center"],[1,"text-md",2,"vertical-align","middle","margin-right","15px"],[1,"text-md",2,"vertical-align","middle","margin-right","5px"],[1,"w-avg-profile","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],["class","flex justify-center mt-3",4,"ngIf","ngIfElse"],["doneLoadingPage",""],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[1,"flex","justify-center","mt-3"],[1,"w-6","h-6","inline-block"],["hasData",""],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"report-box","intro-x","mt-3"],[1,"box","p-5"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[4,"ngIf"],[1,"w-auto","text-left","bg-gray-200","mt-3",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[3,"knowledgeDetailObjs","countLevelNode"],["class","border-b border-slate-200/60 dark:border-darkmode-400 mt-2 py-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","mt-2","py-3",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 text-right p-0.5 leading-none",3,"ngClass","ngStyle",4,"ngIf"],[1,"h-6","text-blue-100","text-right","p-0.5","leading-none",3,"ngClass","ngStyle"]],template:function(h,j){if(1&h&&(e.TgZ(0,"div",0),e.YNc(1,St,1,0,"azt-loading-effect",1),e.YNc(2,vn,4,1,"ng-template",null,2,e.W1O),e.qZA()),2&h){const K=e.MAs(3);e.xp6(1),e.Q6J("ngIf",j.statusObj.loading)("ngIfElse",K)}},dependencies:[n.mk,n.sg,n.O5,n.PC,It.pp,It.ib,It.yz,Le.Dm,ct.l,me.n,at,dt.JV],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),C})();function Fn(C,q){if(1&C&&(e.TgZ(0,"tr")(1,"td",10),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td",10)(9,"span",11),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()()()),2&C){const h=q.$implicit,j=q.index;e.xp6(2),e.Oqu(j+1),e.xp6(2),e.Oqu(e.lcZ(5,4,h.createdAt)),e.xp6(3),e.Oqu(h.month+"/"+h.year),e.xp6(3),e.hij(" ",e.lcZ(11,6,"lang_student_tuition_fee_paid")," ")}}function Lt(C,q){if(1&C&&(e.ynx(0),e.YNc(1,Fn,12,8,"tr",9),e.BQk()),2&C){const h=e.oxw();e.xp6(1),e.Q6J("ngForOf",h.historyTuitionFeeList)}}function re(C,q){1&C&&(e.TgZ(0,"tr")(1,"td",12),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&C&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_student_profile_not_data_view")," "))}let De=(()=>{class C extends l.Q{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.studentId).subscribe(h=>{h?this.historyTuitionFeeList=h.histories:this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(h){super(),this.paymentService=h,this.studentId=0,this.historyTuitionFeeList=[]}}return C.\u0275fac=function(h){return new(h||C)(e.Y36(pe.te))},C.\u0275cmp=e.Xpm({type:C,selectors:[["azt-detail-tuition-fee"]],inputs:{studentId:"studentId"},features:[e.qOj],decls:22,vars:14,consts:[[1,"detail-attendance"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],[4,"ngIf","ngIfElse"],["noTuitionFee",""],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(h,j){if(1&h&&(e.TgZ(0,"div",0)(1,"div",1)(2,"drag-scroll")(3,"table",2)(4,"thead",3)(5,"tr")(6,"th",4),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.TgZ(9,"th",5),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"th",5),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"th",6),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,Lt,2,1,"ng-container",7),e.YNc(20,re,4,3,"ng-template",null,8,e.W1O),e.qZA()()()()()),2&h){const K=e.MAs(21);e.xp6(7),e.hij(" ",e.lcZ(8,6,"lang_auto_stt")," "),e.xp6(3),e.hij(" ",e.lcZ(11,8,"lang_student_payment_time")," "),e.xp6(3),e.hij(" ",e.lcZ(14,10,"lang_student_monthly_tuition_fee")," "),e.xp6(3),e.hij(" ",e.lcZ(17,12,"lang_student_status")," "),e.xp6(3),e.Q6J("ngIf",j.historyTuitionFeeList.length)("ngIfElse",K)}},dependencies:[n.sg,n.O5,Gt.HU,Gt.$Z,dt.JV,dt.$n],encapsulation:2}),C})();function Re(C,q){if(1&C&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e._UZ(3,"azt-check-mark",22),e.qZA()),2&C){const h=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_point"),": "),e.xp6(2),e.Q6J("mark",h.resultMarkObj.point)}}function Sn(C,q){1&C&&(e.TgZ(0,"span",23),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&C&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_student_profile_not_mark_result")," "))}function Jn(C,q){if(1&C&&(e.TgZ(0,"span"),e.YNc(1,Re,4,4,"span",18),e.YNc(2,Sn,3,3,"span",21),e.qZA()),2&C){const h=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",h.resultMarkObj.confirmedAt),e.xp6(1),e.Q6J("ngIf",!h.resultMarkObj.confirmedAt)}}function qn(C,q){1&C&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&C&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_student_profile_no_result")," "))}function In(C,q){if(1&C&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&C){const h=e.oxw().$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,"lang_student_profile_resend_answer_required"),": ",h.resendAnswerObj.resendNote," ")}}function fe(C,q){if(1&C){const h=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){const Zt=e.CHM(h).$implicit,Ht=e.oxw();return e.KtG(Ht.clickToHomeworkObj(Zt))}),e.TgZ(1,"div",8),e.O4$(),e.TgZ(2,"svg",9),e._UZ(3,"path",10)(4,"polyline",11)(5,"line",12)(6,"line",13)(7,"line",14),e.qZA()(),e.kcU(),e.TgZ(8,"div",15)(9,"p",16),e._uU(10),e.qZA(),e.TgZ(11,"div",17),e.YNc(12,Jn,3,2,"span",18),e.YNc(13,qn,3,3,"span",19),e.YNc(14,In,3,4,"span",19),e.qZA(),e.TgZ(15,"div",20),e._uU(16),e.ALo(17,"mytranslate"),e.ALo(18,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()()()}if(2&C){const h=q.$implicit,j=q.index;e.Gre("clickable zoom-in flex items-center ",j>0?"mt-5":""," pb-2"),e.xp6(9),e.s9C("matTooltip",h.name),e.xp6(1),e.AsE("",j+1,". ",h.name,""),e.xp6(2),e.Q6J("ngIf",h.resultMarkObj),e.xp6(1),e.Q6J("ngIf",!h.resultMarkObj&&!h.resendAnswerObj),e.xp6(1),e.Q6J("ngIf",!h.resultMarkObj&&h.resendAnswerObj),e.xp6(2),e.AsE("",e.lcZ(17,11,"lang_student_profile_utils_homework_answer_created_at"),": ",e.lcZ(18,13,h.createdAt),"")}}function Bt(C,q){1&C&&(e.TgZ(0,"div",25),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&C&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_list_null")))}function Ee(C,q){1&C&&e._UZ(0,"azt-loading-effect")}function nn(C,q){if(1&C){const h=e.EpF();e.TgZ(0,"div",26),e.YNc(1,Ee,1,0,"azt-loading-effect",18),e.TgZ(2,"button",27),e.NdJ("click",function(){e.CHM(h);const K=e.oxw();return e.KtG(K.getNextHomeworkAnswerObjs())}),e.ALo(3,"mytranslate"),e.O4$(),e.TgZ(4,"svg",28),e._UZ(5,"polyline",29),e.qZA()()()}if(2&C){const h=e.oxw();e.xp6(1),e.Q6J("ngIf",h.statusObj.loading),e.xp6(1),e.s9C("matTooltip",e.lcZ(3,3,"lang_auto_hien_ban_ghi_cu_hon")),e.Q6J("disabled",!h.homeworkNextPage)}}let be=(()=>{class C extends l.Q{clickToHomeworkObj(h){this.isTeacher?h.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("homework",h)?this.commonService.myNavigationWithQueryString("/admin/homework/switch-mark-exercise/"+h.resultMarkObj?.resultId+"/"+h.hashId+"/"+(this.studentId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(h.classroomId??0)+"/"+h.id+"/"+h.hashId,"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(h.resultMarkObj?.resultId?"/homework/switch-view-homework/"+h.resultMarkObj?.resultId+"/"+h.hashId:"/bai-tap/"+h.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var h=this.studentProfileFilterService.getDefaultFilterObj("homework");h.classroomId=this.classroomId,h.studentId=this.studentId,h.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(h).subscribe(j=>{1==j.success?(this.homeworkObjs=this.homeworkObjs.concat(j.data?.objs??[]),this.homeworkNextPage=j.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}constructor(h,j,K){super(),this.studentProfileV2Service=h,this.studentProfileFilterService=j,this.permissionService=K,this.isTeacher=!0,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}}return C.\u0275fac=function(h){return new(h||C)(e.Y36(s.LU),e.Y36(bt),e.Y36(X.j))},C.\u0275cmp=e.Xpm({type:C,selectors:[["azt-student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",isTeacher:"isTeacher",backToLink:"backToLink"},features:[e.qOj],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-12","h-12","text-primary"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],["azt-track-service","homework-answer-MWO-mgLYZ_",1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(h,j){1&h&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"azt-student-profile-filter-menu",2),e.NdJ("changeFilterEvent",function(){return j.reInitData()}),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,fe,19,15,"div",4),e.YNc(7,Bt,3,3,"div",5),e.YNc(8,nn,6,5,"div",6),e.qZA()),2&h&&(e.xp6(2),e.Oqu(e.lcZ(3,5,"lang_student_profile_utils_homework_answer_list_submitted")),e.xp6(2),e.Q6J("filterType","homework"),e.xp6(2),e.Q6J("ngForOf",j.homeworkObjs),e.xp6(1),e.Q6J("ngIf",0==j.homeworkObjs.length&&!j.homeworkNextPage),e.xp6(1),e.Q6J("ngIf",j.homeworkObjs.length>0&&j.homeworkNextPage))},dependencies:[n.sg,n.O5,kt.gM,ct.l,At.B,Ct,dt.JV,dt.$n],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),C})();function $e(C,q){if(1&C&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&C){const h=q.$implicit;e.Q6J("value",h.id+"-"+h.studentId),e.xp6(1),e.hij(" ",h.name," ")}}function _n(C,q){if(1&C&&(e.TgZ(0,"div",21)(1,"p",18),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e._UZ(4,"azt-detail-attendance",22),e.qZA()),2&C){const h=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,"lang_student_attendance_point_info")),e.xp6(2),e.Q6J("studentId",h.studentId)("isTeacherRole",h.isTeacherDashboard)("selectClassroomId",h.classroomId)}}function sn(C,q){if(1&C&&(e.TgZ(0,"div",21)(1,"p",18),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e._UZ(4,"azt-detail-tuition-fee",23),e.qZA()),2&C){const h=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"lang_student_tuition_fee_info")),e.xp6(2),e.Q6J("studentId",h.studentId)}}function bn(C,q){if(1&C&&(e.TgZ(0,"div",21)(1,"p",18),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e._UZ(4,"azt-detail-book-distribution",23),e.qZA()),2&C){const h=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"lang_student_book_distribution_info")),e.xp6(2),e.Q6J("studentId",h.studentId)}}const Tn=function(C){return{"margin-bottom":C}};let Qn=(()=>{class C extends l.Q{reInitOtherComponent(){this.listExam?.reInitData(),this.listHomework?.reInitData()}getListClassroomByStudentId(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2ListStudentClassroomsGet(this.studentId).subscribe(h=>{1===h.success?(this.classroomList=h.data?.objs??[],this.classroomList.find(j=>j.id+"-"+j.studentId==this.select.value)||this.select.setValue("")):this.errorStatusObj(h.message??"",!0)}))}selectedClassroom(h){let j=h.value.split("-")[0],K=h.value.split("-")[1],Zt=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString((this.isTeacherDashboard?"/admin":"")+"/student/profile-student/"+j+"/"+K,Zt?"?backTo="+encodeURIComponent(Zt):""),this.reInitOtherComponent()}ngOnInit(){super.ngOnInit()}constructor(h,j,K){super(),this.sAztDialogService=h,this.activeRoute=j,this.studentProfileV2Service=K,this.select=new st.NI("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[],this.isTeacherDashboard=!0}}return C.\u0275fac=function(h){return new(h||C)(e.Y36($t.C),e.Y36(Xt.gz),e.Y36(s.LU))},C.\u0275cmp=e.Xpm({type:C,selectors:[["azt-student-profile"]],viewQuery:function(h,j){if(1&h&&(e.Gf(ht,5),e.Gf(ht,5)),2&h){let K;e.iGM(K=e.CRH())&&(j.listExam=K.first),e.iGM(K=e.CRH())&&(j.listHomework=K.first)}},inputs:{select:"select",classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink",classroomList:"classroomList",isTeacherDashboard:"isTeacherDashboard"},features:[e.qOj],decls:29,vars:37,consts:[["id","profileStudent",1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","flex","items-center","mb-3","flex-wrap"],[1,"text-xl","font-medium"],[1,"ml-5","box",2,"font-size","12px"],["appearance","outline"],["name","classroom",3,"formControl","selectionChange"],[3,"value","disabled"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"studentId","classroomList","classroomId","backToLink","paramBackToLink","isTeacher","reInitComponentEvent"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","isTeacher","classroomId","backToLink"],["listExam",""],[1,"intro-y","box","col-span-12","lg:col-span-6",3,"ngStyle"],["listHomework",""],["class","mt-5",4,"ngIf"],[1,"mt-4"],[1,"mb-3","text-base","font-medium"],[3,"studentId","classroomId","backToLink","paramBackToLink","reInitComponentEvent"],[3,"value"],[1,"mt-5"],[3,"studentId","isTeacherRole","selectClassroomId"],[3,"studentId"]],template:function(h,j){1&h&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",3)(6,"mat-form-field",4)(7,"mat-select",5),e.NdJ("selectionChange",function(Zt){return j.selectedClassroom(Zt)}),e.TgZ(8,"mat-option",6),e._uU(9),e.ALo(10,"mytranslate"),e.qZA(),e.YNc(11,$e,2,2,"mat-option",7),e.qZA()()()(),e.TgZ(12,"div",8)(13,"azt-detail-account-student",9),e.NdJ("reInitComponentEvent",function(){return j.reInitOtherComponent()}),e.qZA(),e.TgZ(14,"div",10)(15,"div",11),e._UZ(16,"azt-student-profile-list-exams",12,13),e.qZA(),e.TgZ(18,"div",14),e._UZ(19,"azt-student-profile-list-homeworks",12,15),e.qZA()(),e.YNc(21,_n,5,6,"div",16),e.YNc(22,sn,5,4,"div",16),e.YNc(23,bn,5,4,"div",16),e.TgZ(24,"div",17)(25,"p",18),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"azt-detail-by-subject-student",19),e.NdJ("reInitComponentEvent",function(){return j.reInitOtherComponent()}),e.qZA()()()()),2&h&&(e.xp6(3),e.hij(" ",e.lcZ(4,29,"lang_student_classroom_profile_student")," "),e.xp6(4),e.Q6J("formControl",j.select),e.xp6(1),e.Q6J("value","")("disabled",!0),e.xp6(1),e.hij(" ---",e.lcZ(10,31,"lang_auto_chon_lop"),"--- "),e.xp6(2),e.Q6J("ngForOf",j.classroomList),e.xp6(2),e.Q6J("studentId",j.studentId)("classroomList",j.classroomList)("classroomId",j.classroomId)("backToLink",j.backToLink)("paramBackToLink",j.paramBackToLink)("isTeacher",j.isTeacherDashboard),e.xp6(3),e.Q6J("studentId",j.studentId)("isTeacher",j.isTeacherDashboard)("classroomId",j.classroomId)("backToLink",j.backToLink),e.xp6(2),e.Q6J("ngStyle",e.VKq(35,Tn,j.isMobileWebView?"200px":"0")),e.xp6(1),e.Q6J("studentId",j.studentId)("isTeacher",j.isTeacherDashboard)("classroomId",j.classroomId)("backToLink",j.backToLink),e.xp6(2),e.Q6J("ngIf",j.isBusinessDomain),e.xp6(1),e.Q6J("ngIf",j.isBusinessDomain),e.xp6(1),e.Q6J("ngIf",j.isBusinessDomain),e.xp6(3),e.Oqu(e.lcZ(27,33,"lang_student_academic_results_report")),e.xp6(2),e.Q6J("studentId",j.studentId)("classroomId",j.classroomId)("backToLink",j.backToLink)("paramBackToLink",j.paramBackToLink))},dependencies:[n.sg,n.O5,n.PC,Kt.ey,we.KE,Ae.gD,st.JJ,st.oH,ue,ve,ye,Ve,De,be,ht,dt.JV],encapsulation:2}),C})()},30292:(Ke,Yt,x)=>{x.d(Yt,{ft:()=>ri,Bi:()=>Z,Yy:()=>R});var st=x(42495),l=x(65879),e=x(69594);class s extends Error{}class v extends s{constructor(a){super(`Invalid DateTime: ${a.toMessage()}`)}}class t extends s{constructor(a){super(`Invalid Duration: ${a.toMessage()}`)}}class bt extends s{constructor(a){super(`Invalid Interval: ${a.toMessage()}`)}}class X extends s{constructor(a){super(`Invalid unit ${a}`),Object.setPrototypeOf(this,X.prototype)}}class n extends s{constructor(a){super(`${a} is an invalid or unknown zone specifier`),Object.setPrototypeOf(this,n.prototype)}}class kt extends s{constructor(a){super(a),Object.setPrototypeOf(this,kt.prototype)}}class ct extends s{constructor(a){super(a),Object.setPrototypeOf(this,ct.prototype)}}class At extends s{constructor(){super("Zone is an abstract class"),Object.setPrototypeOf(this,At.prototype)}}class dt{get type(){throw new At}get ianaName(){return this.name}get name(){throw new At}get isUniversal(){throw new At}offsetName(a,o){throw new At}formatOffset(a,o){throw new At}offset(a){throw new At}equals(a){throw new At}get isValid(){throw new At}}var gt=Intl;let Tt={};const Ct={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Ot={};class ot extends dt{static create(a){return Ot[a]||(Ot[a]=new ot(a)),Ot[a]}static resetCache(){Ot={},Tt={}}static isValidSpecifier(a){return this.isValidZone(a)}static isValidZone(a){if(!a)return!1;try{return new gt.DateTimeFormat("en-US",{timeZone:a}).format(),!0}catch{return!1}}constructor(a){super(),this._zoneName=a,this._valid=ot.isValidZone(a)}get type(){return"iana"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(a,{format:o,locale:r}={}){return h(a,o,r,this.name)}formatOffset(a,o){return Ht(this.offset(a),o)}offset(a){const o=new Date(a);if(isNaN(+o))return NaN;const r=function(vt){if(!Tt[vt])try{Tt[vt]=new gt.DateTimeFormat("en-US",{hour12:!1,timeZone:vt,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})}catch{throw new n(vt)}return Tt[vt]}(this.name);let d;const[g,y,M,L,H,G,Y]=typeof r.formatToParts==typeof isNaN?function(vt,jt){const Dt=vt.formatToParts(jt),qt=[];for(let Qt=0;Qt<Dt.length;Qt++){const{type:Et,value:Rt}=Dt[Qt],An=Ct[Et];"era"===Et?qt[An]=Rt:re(An)||(qt[An]=parseInt(Rt,10))}return qt}(r,o):function(vt,jt){const Dt=vt.format(jt).replace(/\u200E/g,""),qt=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(Dt),[,Qt,Et,Rt,An,ao,Ei,Wa]=qt;return[Rt,Qt,Et,An,ao,Ei,Wa]}(r,o);"BC"===L&&(d=1-Math.abs(+g));let it=+o;const nt=it%1e3;return it-=nt>=0?nt:1e3+nt,(Tn({year:d||+g,month:+y,day:+M,hour:+(24===H?0:H),minute:+G,second:+Y,millisecond:0})-it)/6e4}equals(a){return"iana"===a.type&&a.name===this.name}get isValid(){return this._valid}}const D="numeric",$="short",lt="long",xt={year:D,month:D,day:D},pt={year:D,month:$,day:D},Pt={year:D,month:$,day:D,weekday:$},ht={year:D,month:lt,day:D},$t={year:D,month:lt,day:D,weekday:lt},Xt={hour:D,minute:D},Kt={hour:D,minute:D,second:D},we={hour:D,minute:D,second:D,timeZoneName:$},Ae={hour:D,minute:D,second:D,timeZoneName:lt},Se={hour:D,minute:D,hourCycle:"h23"},Pe={hour:D,minute:D,second:D,hourCycle:"h23"},xe={hour:D,minute:D,second:D,hourCycle:"h23",timeZoneName:$},me={hour:D,minute:D,second:D,hourCycle:"h23",timeZoneName:lt},he={year:D,month:D,day:D,hour:D,minute:D},_e={year:D,month:D,day:D,hour:D,minute:D,second:D},Ue={year:D,month:$,day:D,hour:D,minute:D},Ie={year:D,month:$,day:D,hour:D,minute:D,second:D},Me={year:D,month:$,day:D,weekday:$,hour:D,minute:D},ze={year:D,month:lt,day:D,hour:D,minute:D,timeZoneName:$},oe={year:D,month:lt,day:D,hour:D,minute:D,second:D,timeZoneName:$},je={year:D,month:lt,day:D,weekday:lt,hour:D,minute:D,timeZoneName:lt},de={year:D,month:lt,day:D,weekday:lt,hour:D,minute:D,second:D,timeZoneName:lt},Fe=["January","February","March","April","May","June","July","August","September","October","November","December"],Ne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],We=["J","F","M","A","M","J","J","A","S","O","N","D"];function Je(m){switch(m){case"narrow":return[...We];case"short":return[...Ne];case"long":return[...Fe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"]}}const te=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],qe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Xe=["M","T","W","T","F","S","S"];function Qe(m){switch(m){case"narrow":return[...Xe];case"short":return[...qe];case"long":return[...te];case"numeric":return["1","2","3","4","5","6","7"]}}const Ye=["AM","PM"],tn=["Before Christ","Anno Domini"],en=["BC","AD"],ue=["B","A"];function ut(m){switch(m){case"narrow":return[...ue];case"short":return[...en];case"long":return[...tn]}}let pe={},ve={};function Gt(m,a={}){const o=JSON.stringify([m,a]);let r=ve[o];return r||(r=new gt.DateTimeFormat(m,a),ve[o]=r),r}let Oe,zt={},ee={};function ye(m,a,o,r){return"en"===m.listingMode()?o(a):r(a)}class Le{constructor(a,o,r){const{padTo:d,floor:g}=r,y=function(M,L){var H={};for(var G in M)Object.prototype.hasOwnProperty.call(M,G)&&L.indexOf(G)<0&&(H[G]=M[G]);if(null!=M&&"function"==typeof Object.getOwnPropertySymbols){var Y=0;for(G=Object.getOwnPropertySymbols(M);Y<G.length;Y++)L.indexOf(G[Y])<0&&Object.prototype.propertyIsEnumerable.call(M,G[Y])&&(H[G[Y]]=M[G[Y]])}return H}(r,["padTo","floor"]);if(this._padTo=d||0,this._floor=g||!1,!o||Object.keys(y).length>0){const M=Object.assign({useGrouping:!1},r);this._padTo>0&&(M.minimumIntegerDigits=d),this._inf=function(L,H){const G=JSON.stringify([L,H]);let Y=zt[G];return Y||(Y=new gt.NumberFormat(L,H),zt[G]=Y),Y}(a,M)}}format(a){if(this._inf){const o=this._floor?Math.floor(a):a;return this._inf.format(o)}return Bt(this._floor?Math.floor(a):$e(a,3),this._padTo)}}class Be{get dtf(){return this._dtf}constructor(a,o,r){let d;if(this._opts=r,this._opts.timeZone)this._dt=a;else if("fixed"===a.zone.type){const y=a.offset/60*-1,M=y>=0?`Etc/GMT+${y}`:`Etc/GMT${y}`;0!==a.offset&&ot.create(M).isValid?(d=M,this._dt=a):(d="UTC",this._dt=0===a.offset?a:a.setZone("UTC").plus({minutes:a.offset}),this._originalZone=a.zone)}else"system"===a.zone.type?this._dt=a:"iana"===a.zone.type?(this._dt=a,d=a.zone.name):(d="UTC",this._dt=a.setZone("UTC").plus({minutes:a.offset}),this._originalZone=a.zone);const g=Object.assign(Object.assign({},this._opts),{timeZone:this._opts.timeZone||d});this._dtf=Gt(o,g)}format(){return this._originalZone?this.formatToParts().map(({value:a})=>a).join(""):this.dtf.format(this._dt.toJSDate())}formatToParts(){const a=this.dtf.formatToParts(this._dt.toJSDate());return this._originalZone?a.map(o=>{if("timeZoneName"===o.type){const r=this._originalZone.offsetName(this._dt.ts,{locale:this._dt.locale,format:this._opts.timeZoneName});return Object.assign(Object.assign({},o),{value:r})}return o}):a}resolvedOptions(){return this._dtf.resolvedOptions()}}class He{constructor(a,o,r){this._opts=Object.assign({style:"long"},r),!o&&Sn()&&(this._rtf=function(d,g={}){const y=JSON.stringify([d,g]);let M=ee[y];return M||(M=new gt.RelativeTimeFormat(d,g),ee[y]=M),M}(a,r))}format(a,o){return this._rtf?this._rtf.format(a,o):function(r,d,g="always",y=!1){const M=rt.normalizeUnit(r),L={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."],milliseconds:[]}[M],H=-1===["hours","minutes","seconds"].indexOf(M);if("auto"===g&&H){const vt="days"===M;switch(d){case 1:return vt?"tomorrow":`next ${L[0]}`;case-1:return vt?"yesterday":`last ${L[0]}`;case 0:return vt?"today":`this ${L[0]}`}}const G=Object.is(d,-0)||d<0,Y=Math.abs(d),it=1===Y,nt=y?it?L[1]:L[2]||L[1]:it?L[0]:M;return G?`${Y} ${nt} ago`:`in ${Y} ${nt}`}(o,a,this._opts.numeric,"long"!==this._opts.style)}formatToParts(a,o){return this._rtf?this._rtf.formatToParts(a,o):[]}}let It=(()=>{class m{get fastNumbers(){return void 0===this._fastNumbersCached&&(this._fastNumbersCached=this._supportsFastNumbers()),this._fastNumbersCached}constructor(o,r,d,g,y){const[M,L,H]=function(G){const Y=G.indexOf("-x-");-1!==Y&&(G=G.substring(0,Y));const it=G.indexOf("-u-");if(-1===it)return[G];{let nt,vt;try{nt=Gt(G).resolvedOptions(),vt=G}catch{const Qt=G.substring(0,it);nt=Gt(Qt).resolvedOptions(),vt=Qt}const{numberingSystem:jt,calendar:Dt}=nt;return[vt,jt,Dt]}}(o);var G,Y,it;this.locale=M,this.numberingSystem=r||L,this.outputCalendar=d||H,this._intl=(G=this.locale,Y=this.numberingSystem,((it=this.outputCalendar)||Y)&&(G.includes("-u-")||(G+="-u"),it&&(G+=`-ca-${it}`),Y&&(G+=`-nu-${Y}`)),G),this._weekSettings=g,this._weekdaysCache={format:{},standalone:{}},this._monthsCache={format:{},standalone:{}},this._meridiemCache=void 0,this._eraCache={},this._specifiedLocale=y,this._fastNumbersCached=void 0}static create(o,r,d,g,y=!1){const M=o||Mt.defaultLocale,L=M||(y?"en-US":(Oe||(Oe=(new gt.DateTimeFormat).resolvedOptions().locale),Oe)),H=r||Mt.defaultNumberingSystem,G=d||Mt.defaultOutputCalendar,Y=In(g)||Mt.defaultWeekSettings;return new m(L,H,G,Y,M)}static fromObject({locale:o,numberingSystem:r,outputCalendar:d,weekSettings:g}={}){return m.create(o,r,d,g)}static fromOpts(o){return m.create(o.locale,o.numberingSystem,o.outputCalendar,o.weekSettings,o.defaultToEN)}static resetCache(){Oe=void 0,pe={},ve={},zt={},ee={}}clone(o){return o&&0!==Object.getOwnPropertyNames(o).length?m.create(o.locale||this._specifiedLocale,o.numberingSystem||this.numberingSystem,o.outputCalendar||this.outputCalendar,In(o.weekSettings)||this._weekSettings,o.defaultToEN||!1):this}dtFormatter(o,r={}){return new Be(o,this._intl,r)}equals(o){return this.locale===o.locale&&this.numberingSystem===o.numberingSystem&&this.outputCalendar===o.outputCalendar}eras(o){return ye(this,o,ut,r=>{const d={era:r};return this._eraCache[r]||(this._eraCache[r]=[et.utc(-40,1,1),et.utc(2017,1,1)].map(g=>this.extract(g,d,"era"))),this._eraCache[r]})}extract(o,r,d){const g=this.dtFormatter(o,r).formatToParts().find(y=>y.type.toLowerCase()===d.toLowerCase());if(!g)throw new Error(`Invalid extract field ${d}`);return g.value}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getStartOfWeek(){return this.getWeekSettings().firstDay}getWeekSettings(){return this._weekSettings?this._weekSettings:Jn()?this._getCachedWeekInfo(this.locale):un}getWeekendDays(){return this.getWeekSettings().weekend}isEnglish(){return!!~["en","en-us"].indexOf(this.locale.toLowerCase())||new gt.DateTimeFormat(this._intl).resolvedOptions().locale.startsWith("en-us")}listFormatter(o={}){return function(r,d={}){const g=JSON.stringify([r,d]);let y=pe[g];return y||(y=new gt.ListFormat(r,d),pe[g]=y),y}(this._intl,o)}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}meridiems(){return ye(this,"long",()=>Ye,()=>(void 0===this._meridiemCache&&(this._meridiemCache=[et.utc(2016,11,13,9),et.utc(2016,11,13,19)].map(o=>this.extract(o,{hour:"numeric",hourCycle:"h12"},"dayPeriod"))),this._meridiemCache))}months(o,r=!1){return ye(this,o,Je,d=>{const g=r?{month:d,day:"numeric"}:{month:d},y=r?"format":"standalone";return this._monthsCache[y][d]||(this._monthsCache[y][d]=function(M){const L=[];for(let H=1;H<=12;H++){const G=et.utc(2009,H,1);L.push(M(G))}return L}(M=>this.extract(M,g,"month"))),this._monthsCache[y][d]})}numberFormatter(o={}){return new Le(this._intl,this.fastNumbers,o)}redefaultToEN(o={}){return this.clone(Object.assign(Object.assign({},o),{defaultToEN:!0}))}redefaultToSystem(o={}){return this.clone(Object.assign(Object.assign({},o),{defaultToEN:!1}))}relFormatter(o={}){return new He(this._intl,this.isEnglish(),o)}weekdays(o,r=!1){return ye(this,o,Qe,d=>{const g=r?{weekday:d,year:"numeric",month:"long",day:"numeric"}:{weekday:d},y=r?"format":"standalone";return this._weekdaysCache[y][d]||(this._weekdaysCache[y][d]=function(M){const L=[];for(let H=1;H<=7;H++){const G=et.utc(2016,11,13+H);L.push(M(G))}return L}(M=>this.extract(M,g,"weekday"))),this._weekdaysCache[y][d]})}_getCachedWeekInfo(o){let r=m._weekInfoCache[o];if(!r){const d=new gt.Locale(o);r="getWeekInfo"in d?d.getWeekInfo():d.weekInfo,m._weekInfoCache[o]=r}return r}_supportsFastNumbers(){return(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===gt.DateTimeFormat(this._intl).resolvedOptions().numberingSystem)}}return m._weekInfoCache={},m})(),Ze=null;class Ft extends dt{static get utcInstance(){return null===Ze&&(Ze=new Ft(0)),Ze}get isValid(){return!0}get ianaName(){return 0===this._fixed?"Etc/UTC":`Etc/GMT${Ht(-this._fixed,"narrow")}`}get name(){return 0===this._fixed?"UTC":`UTC${Ht(this._fixed,"narrow")}`}get type(){return"fixed"}get isUniversal(){return!0}constructor(a){super(),this._fixed=a}static instance(a){return 0===a?Ft.utcInstance:new Ft(a)}static parseSpecifier(a){if(a){const o=a.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(o)return new Ft(j(o[1],o[2]))}return null}offsetName(){return this.name}formatOffset(a,o){return Ht(this._fixed,o)}offset(){return this._fixed}equals(a){return"fixed"===a.type&&a._fixed===this._fixed}}class U extends dt{constructor(a){super(),this._zoneName=a,Object.setPrototypeOf(this,U.prototype)}get type(){return"invalid"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let _t=null;class N extends dt{static get instance(){return null===_t&&(_t=new N),_t}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(a,{format:o,locale:r}){return h(a,o,r)}formatOffset(a,o){return Ht(this.offset(a),o)}offset(a){return-new Date(a).getTimezoneOffset()}equals(a){return"system"===a.type}get isValid(){return!0}}const w=(m,a)=>{if(re(m)||null===m)return a;if(m instanceof dt)return m;if("string"==typeof m){const o=m.toLowerCase();return"default"===o?a:"local"===o||"system"===o?N.instance:"utc"===o||"gmt"===o?Ft.utcInstance:Ft.parseSpecifier(o)||ot.create(m)}return De(m)?Ft.instance(m):"object"==typeof m&&"offset"in m&&"function"==typeof m.offset?m:new U(m)};let B,k,Q,V,at=()=>Date.now(),St="system",Vt=60,ie=!1;class Mt{static set defaultLocale(a){B=a}static get defaultLocale(){return B}static set defaultNumberingSystem(a){k=a}static get defaultNumberingSystem(){return k}static set defaultOutputCalendar(a){Q=a}static get defaultOutputCalendar(){return Q}static set defaultWeekSettings(a){V=In(a)}static get defaultWeekSettings(){return V}static set defaultZone(a){St=a}static get defaultZone(){return w(St,N.instance)}static set defaultZoneLike(a){St=a}static set now(a){at=a}static get now(){return at}static set throwOnInvalid(a){ie=a}static get throwOnInvalid(){return ie}static set twoDigitCutoffYear(a){Vt=a%100}static get twoDigitCutoffYear(){return Vt}static resetCaches(){It.resetCache(),ot.resetCache()}}class ne{constructor(a,o){this.reason=a,this.explanation=o,this._formattedExplanation="",o&&(this._formattedExplanation=`: ${o}`)}toMessage(){return`${this.reason}${this._formattedExplanation}`}}const Ge=[0,31,59,90,120,151,181,212,243,273,304,334],fn=[0,31,60,91,121,152,182,213,244,274,305,335];function ae(m,a){return new ne("unit out of range",`you specified ${a} (of type ${typeof a}) as a ${m}, which is invalid`)}function xn(m,a,o){return o+(_n(m)?fn:Ge)[a-1]}function I(m,a){const o=_n(m)?fn:Ge,r=o.findIndex(d=>d<a);return{month:r+1,day:a-o[r]}}function W(m,a,o){const r=new Date(Date.UTC(m,a-1,o));m<100&&m>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const d=r.getUTCDay();return 0===d?7:d}function O(m,a=un.minimalDays,o=un.firstDay){const{year:r,month:d,day:g}=m,y=xn(r,d,g),M=Ve(W(r,d,g),o);let L,H=Math.floor((y-M+14-a)/7);return H<1?(L=r-1,H=C(L,a,o)):H>C(r,a,o)?(L=r+1,H=1):L=r,Object.assign({weekYear:L,weekNumber:H,weekday:M},dn(m))}function A(m,a=un.minimalDays,o=un.firstDay){const{weekYear:r,weekNumber:d,weekday:g}=m,y=Ve(W(r,1,a),o),M=sn(r);let L,H=7*d+g-y-7+a;H<1?(L=r-1,H+=sn(L)):H>M?(L=r+1,H-=sn(r)):L=r;const{month:G,day:Y}=I(L,H);return Object.assign({year:L,month:G,day:Y},dn(m))}function F(m){const{year:a,month:o,day:r}=m,d=xn(a,o,r);return Object.assign({year:a,ordinal:d},dn(m))}function wt(m){const{year:a,ordinal:o}=m,{month:r,day:d}=I(a,o);return Object.assign({year:a,month:r,day:d},dn(m))}function se(m){const a=Re(m.year),o=fe(m.month,1,12),r=fe(m.day,1,bn(m.year,m.month));return a?o?!r&&ae("day",m.day):ae("month",m.month):ae("year",m.year)}function vn(m){const{hour:a,minute:o,second:r,millisecond:d}=m,g=fe(a,0,23)||24===a&&0===o&&0===r&&0===d,y=fe(o,0,59),M=fe(r,0,59),L=fe(d,0,999);return g?y?M?!L&&ae("millisecond",d):ae("second",r):ae("minute",o):ae("hour",a)}function Ve(m,a){return(m-a+7)%7+1}function Fn(m,a){if(Lt(m.localWeekday)||Lt(m.localWeekNumber)||Lt(m.localWeekYear)){if(Lt(m.weekday)||Lt(m.weekNumber)||Lt(m.weekYear))throw new kt("Cannot mix locale-based week fields with ISO-based week fields");return Lt(m.localWeekday)&&(m.weekday=m.localWeekday),Lt(m.localWeekNumber)&&(m.weekNumber=m.localWeekNumber),Lt(m.localWeekYear)&&(m.weekYear=m.localWeekYear),delete m.localWeekday,delete m.localWeekNumber,delete m.localWeekYear,{minDaysInFirstWeek:a.getMinDaysInFirstWeek(),startOfWeek:a.getStartOfWeek()}}return{minDaysInFirstWeek:un.minimalDays,startOfWeek:un.firstDay}}function Lt(m){return void 0!==m}function re(m){return void 0===m}function De(m){return"number"==typeof m}function Re(m){return De(m)&&m%1==0}function Sn(){try{return void 0!==gt&&!!gt.RelativeTimeFormat}catch{return!1}}function Jn(){try{return void 0!==gt&&!!gt.Locale&&("weekInfo"in gt.Locale.prototype||"getWeekInfo"in gt.Locale.prototype)}catch{return!1}}function qn(m,a,o){if(0!==m.length)return m.reduce((r,d)=>{const g=[a(d),d];return o(r[0],g[0])===r[0]?r:g},[a(m[0]),m[0]])[1]}function In(m){if(m){if("object"!=typeof m)throw new ct("Week settings must be an object");if(!fe(m.firstDay,1,7)||!fe(m.minimalDays,1,7)||!Array.isArray(m.weekend)||m.weekend.some(a=>!fe(a,1,7)))throw new ct("Invalid week settings");return{firstDay:m.firstDay,minimalDays:m.minimalDays,weekend:m.weekend}}}function fe(m,a,o){return Re(m)&&m>=a&&m<=o}function Bt(m,a=2){const o=+m<0?"-":"",r=o?-1*+m:m;let d;return d=r.toString().length<a?("0".repeat(a)+r).slice(-a):r.toString(),`${o}${d}`}function Ee(m){if(m)return parseInt(m,10)}function nn(m){if(m)return parseFloat(m)}function be(m){if(!re(m)&&null!==m&&""!==m){const a=1e3*parseFloat("0."+m);return Math.floor(a)}}function $e(m,a,o=!1){const r=Math.pow(10,a);return(o?Math.trunc:Math.round)(m*r)/r}function _n(m){return m%4==0&&(m%100!=0||m%400==0)}function sn(m){return _n(m)?366:365}function bn(m,a){const o=(r=a-1)-12*Math.floor(r/12)+1;var r;return[31,_n(m+(a-o)/12)?29:28,31,30,31,30,31,31,30,31,30,31][o-1]}function Tn(m){let a=Date.UTC(m.year,m.month-1,m.day,m.hour,m.minute,m.second,m.millisecond);return m.year<100&&m.year>=0&&(a=new Date(a),a.setUTCFullYear(m.year,m.month-1,m.day)),+a}function Qn(m,a,o){return-Ve(W(m,1,a),o)+a-1}function C(m,a=4,o=1){const r=Qn(m,a,o),d=Qn(m+1,a,o);return(sn(m)-r+d)/7}function q(m){return m>99?m:m>Mt.twoDigitCutoffYear?1900+m:2e3+m}function h(m,a,o,r){const d=new Date(m),y=Object.assign({timeZoneName:a},{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:r}),M=new gt.DateTimeFormat(o,y).formatToParts(d).find(L=>"timezonename"===L.type.toLowerCase());return M?M.value:null}function j(m,a){let o=parseInt(m,10);Number.isNaN(o)&&(o=0);const r=parseInt(a,10)||0;return 60*o+(o<0||Object.is(o,-0)?-r:r)}function K(m){const a=Number(m);if("boolean"==typeof m||""===m||Number.isNaN(a))throw new ct(`Invalid unit value ${m}`);return a}function Zt(m,a){return Object.keys(m).reduce((o,r)=>(null!=m[r]&&(o[a(r)]=K(m[r])),o),{})}function Ht(m,a){const o=Math.trunc(Math.abs(m/60)),r=Math.trunc(Math.abs(m%60)),d=m>=0?"+":"-";switch(a){case"short":return`${d}${Bt(o,2)}:${Bt(r,2)}`;case"narrow":return`${d}${o}${r>0?`:${r}`:""}`;case"techie":return`${d}${Bt(o,2)}${Bt(r,2)}`;default:throw new RangeError(`Value format ${a} is out of range for property format`)}}function dn(m){return a=m,["hour","minute","second","millisecond"].reduce((r,d)=>(r[d]=a[d],r),{});var a}const Te=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Gn=Te.slice(0).reverse(),so=["years","months","days","hours","minutes","seconds","milliseconds"],Oo={year:"year",years:"year",quarter:"quarter",quarters:"quarter",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",localweeknumber:"localWeekNumber",localweeknumbers:"localWeekNumber",localweekday:"localWeekday",localweekdays:"localWeekday",localweekyear:"localWeekYear",localweekyears:"localWeekYear",minute:"minute",minutes:"minute",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"},un={firstDay:1,minimalDays:4,weekend:[6,7]};function ro(m,a){let o="";for(const r of m)o+=r.literal?r.val:a(r.val);return o}const yo={D:xt,DD:pt,DDD:ht,DDDD:$t,t:Xt,tt:Kt,ttt:we,tttt:Ae,T:Se,TT:Pe,TTT:xe,TTTT:me,f:he,ff:Ue,fff:ze,ffff:je,F:_e,FF:Ie,FFF:oe,FFFF:de};class le{constructor(a,o){this._opts=o,this._loc=a,this._systemLoc=void 0}static create(a,o={}){return new le(a,o)}static macroTokenToFormatOpts(a){return yo[a]}static parseFormat(a){let o=null,r="",d=!1;const g=[];for(let y=0;y<a.length;y++){const M=a.charAt(y);"'"===M?(r.length>0&&g.push({literal:d||/^\s+$/.test(r),val:r}),o=null,r="",d=!d):d||M===o?r+=M:(r.length>0&&g.push({literal:/^\s+$/.test(r),val:r}),r=M,o=M)}return r.length>0&&g.push({literal:d||/^\s+$/.test(r),val:r}),g}dtFormatter(a,o={}){return this._loc.dtFormatter(a,Object.assign(Object.assign({},this._opts),o))}formatDateTime(a,o){return this.dtFormatter(a,o).format()}formatDateTimeFromString(a,o){const r="en"===this._loc.listingMode(),d=this._loc.outputCalendar&&"gregory"!==this._loc.outputCalendar,g=(it,nt)=>this._loc.extract(a,it,nt),y=it=>a.isOffsetFixed&&0===a.offset&&it.allowZ?"Z":a.isValid?a.zone.formatOffset(a.ts,it.format):"",L=(it,nt)=>{return r?(vt=a,Je(it)[vt.month-1]):g(nt?{month:it}:{month:it,day:"numeric"},"month");var vt},H=(it,nt)=>{return r?(vt=a,Qe(it)[vt.weekday-1]):g(nt?{weekday:it}:{weekday:it,month:"long",day:"numeric"},"weekday");var vt},G=it=>{const nt=le.macroTokenToFormatOpts(it);return nt?this.formatWithSystemDefault(a,nt):it},Y=it=>{return r?(nt=a,ut(it)[nt.year<0?0:1]):g({era:it},"era");var nt};return ro(le.parseFormat(o),it=>{switch(it){case"S":return this.num(a.millisecond);case"u":case"SSS":return this.num(a.millisecond,3);case"s":return this.num(a.second);case"ss":return this.num(a.second,2);case"uu":return this.num(Math.floor(a.millisecond/10),2);case"uuu":return this.num(Math.floor(a.millisecond/100));case"m":return this.num(a.minute);case"mm":return this.num(a.minute,2);case"h":return this.num(a.hour%12==0?12:a.hour%12);case"hh":return this.num(a.hour%12==0?12:a.hour%12,2);case"H":return this.num(a.hour);case"HH":return this.num(a.hour,2);case"Z":return y({format:"narrow",allowZ:this._opts.allowZ});case"ZZ":return y({format:"short",allowZ:this._opts.allowZ});case"ZZZ":return y({format:"techie",allowZ:this._opts.allowZ});case"ZZZZ":return a.zone.offsetName(a.ts,{format:"short",locale:this._loc.locale})||"";case"ZZZZZ":return a.zone.offsetName(a.ts,{format:"long",locale:this._loc.locale})||"";case"z":return a.zoneName||"";case"a":return r?Ye[a.hour<12?0:1]:g({hour:"numeric",hourCycle:"h12"},"dayPeriod");case"d":return d?g({day:"numeric"},"day"):this.num(a.day);case"dd":return d?g({day:"2-digit"},"day"):this.num(a.day,2);case"c":case"E":return this.num(a.weekday);case"ccc":return H("short",!0);case"cccc":return H("long",!0);case"ccccc":return H("narrow",!0);case"EEE":return H("short",!1);case"EEEE":return H("long",!1);case"EEEEE":return H("narrow",!1);case"L":return d?g({month:"numeric",day:"numeric"},"month"):this.num(a.month);case"LL":return d?g({month:"2-digit",day:"numeric"},"month"):this.num(a.month,2);case"LLL":return L("short",!0);case"LLLL":return L("long",!0);case"LLLLL":return L("narrow",!0);case"M":return d?g({month:"numeric"},"month"):this.num(a.month);case"MM":return d?g({month:"2-digit"},"month"):this.num(a.month,2);case"MMM":return L("short",!1);case"MMMM":return L("long",!1);case"MMMMM":return L("narrow",!1);case"y":return d?g({year:"numeric"},"year"):this.num(a.year);case"yy":return d?g({year:"2-digit"},"year"):this.num(parseInt(a.year.toString().slice(-2),10),2);case"yyyy":return d?g({year:"numeric"},"year"):this.num(a.year,4);case"yyyyyy":return d?g({year:"numeric"},"year"):this.num(a.year,6);case"G":return Y("short");case"GG":return Y("long");case"GGGGG":return Y("narrow");case"kk":return this.num(parseInt(a.weekYear.toString().slice(-2),10),2);case"kkkk":return this.num(a.weekYear,4);case"W":return this.num(a.weekNumber);case"WW":return this.num(a.weekNumber,2);case"o":return this.num(a.ordinal);case"ooo":return this.num(a.ordinal,3);case"q":return this.num(a.quarter);case"qq":return this.num(a.quarter,2);case"X":return this.num(Math.floor(a.ts/1e3));case"x":return this.num(a.ts);default:return G(it)}})}formatDateTimeParts(a,o){return this.dtFormatter(a,o).formatToParts()}formatDurationFromString(a,o){const r=y=>{switch(y[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"M":return"months";case"y":return"years";default:return}},d=le.parseFormat(o),g=d.reduce((y,{literal:M,val:L})=>M?y:y.concat(L),[]);return ro(d,(y=>M=>{const L=r(M);return L?this.num(y.get(L),M.length):M})(a.shiftTo(...g.map(r).filter(y=>!!y))))}formatInterval(a,o={}){if(!a.isValid)throw Error("Invalid Interval provided!");return this.dtFormatter(a.start,o).dtf.formatRange(a.start.toJSDate(),a.end.toJSDate())}formatWithSystemDefault(a,o){return void 0===this._systemLoc&&(this._systemLoc=this._loc.redefaultToSystem()),this._systemLoc.dtFormatter(a,Object.assign(Object.assign({},this._opts),o)).format()}num(a,o=0){if(this._opts.forceSimple)return Bt(a,o);const r=Object.assign({},this._opts);return o>0&&(r.padTo=o),this._loc.numberFormatter(r).format(a)}resolvedOptions(a,o={}){return this.dtFormatter(a,o).resolvedOptions()}}function Cn(...m){const a=m.reduce((o,r)=>o+r.source,"");return RegExp(`^${a}$`)}function kn(...m){return a=>m.reduce(([o,r,d],g)=>{const[y,M,L]=g(a,d);return[Object.assign(Object.assign({},o),y),M||r,L]},[{},null,1]).slice(0,2)}function wn(m,...a){if(null==m)return[null,null];for(const[o,r]of a){const d=o.exec(m);if(d)return r(d)}return[null,null]}function lo(...m){return(a,o)=>{const r={};let d;for(d=0;d<m.length;d++)r[m[d]]=Ee(a[o+d]);return[r,null,o+d]}}const co=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,mo=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Vn=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,_o=RegExp(`${Vn.source}(?:${mo.source}?(?:\\[(${co.source})\\])?)?`),Rn=RegExp(`(?:T${_o.source})?`),Zo=lo("weekYear","weekNumber","weekday"),Ao=lo("year","ordinal"),uo=RegExp(`${Vn.source} ?(?:${mo.source}|(${co.source}))?`),So=RegExp(`(?: ${uo.source})?`);function On(m,a,o){return re(m[a])?o:Ee(m[a])}function yn(m,a){return[{hour:On(m,a,0),minute:On(m,a+1,0),second:On(m,a+2,0),millisecond:be(m[a+3])},null,a+4]}function Mn(m,a){const o=!m[a]&&!m[a+1],r=j(m[a+1],m[a+2]);return[{},o?null:Ft.instance(r),a+3]}function jn(m,a){return[{},m[a]?ot.create(m[a]):null,a+1]}const Io=RegExp(`^T?${Vn.source}$`),Mo=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function jo(m){const[a,o,r,d,g,y,M,L,H]=m,G=a.startsWith("-"),Y=!!L&&L.startsWith("-"),it=(nt,vt=!1)=>"number"==typeof nt&&(vt||nt&&G)?-nt:nt;return[{years:it(nn(o)),months:it(nn(r)),weeks:it(nn(d)),days:it(nn(g)),hours:it(nn(y)),minutes:it(nn(M)),seconds:it(nn(L),"-0"===L),milliseconds:it(be(H),Y)}]}const No={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function pn(m,a,o,r,d,g,y){let M;return m&&(M=m.length>3?te.indexOf(m)+1:qe.indexOf(m)+1),{year:2===a.length?q(Ee(a)):Ee(a),month:Ne.indexOf(o)+1,day:Ee(r),hour:Ee(d),minute:Ee(g),second:Ee(y),weekday:M}}const Lo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Do(m){const[,a,o,r,d,g,y,M,L,H,G,Y]=m,it=pn(a,d,r,o,g,y,M);let nt;return nt=L?No[L]:H?0:j(G,Y),[it,new Ft(nt)]}const Eo=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Po=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Uo=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function po(m){const[,a,o,r,d,g,y,M]=m;return[pn(a,d,r,o,g,y,M),Ft.utcInstance]}function zo(m){const[,a,o,r,d,g,y,M]=m;return[pn(a,M,o,r,d,g,y),Ft.utcInstance]}const Fo=Cn(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Rn),Jo=Cn(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Rn),qo=Cn(/(\d{4})-?(\d{3})/,Rn),Qo=Cn(_o),go=kn(function(m,a){return[{year:On(m,a,0),month:On(m,a+1,1),day:On(m,a+2,1)},null,a+3]},yn,Mn,jn),Yo=kn(Zo,yn,Mn,jn),Bo=kn(Ao,yn,Mn,jn),f=kn(yn,Mn,jn),P=Cn(/(\d{4})-(\d\d)-(\d\d)/,So),u=Cn(uo),T=kn(yn,Mn,jn),S={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},E=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},S),ft=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},S);function yt(m,a){var o;let r=null!==(o=a.milliseconds)&&void 0!==o?o:0;for(const d of Gn.slice(1))a[d]&&(r+=a[d]*m[d].milliseconds);return r}class rt{static get _INVALID(){return"Invalid Duration"}get conversionAccuracy(){return this._conversionAccuracy}get days(){return this.isValid?this._values.days||0:NaN}get hours(){return this.isValid?this._values.hours||0:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this._invalid}get locale(){return this.isValid?this._loc.locale:void 0}get matrix(){return this._matrix}get milliseconds(){return this.isValid?this._values.milliseconds||0:NaN}get minutes(){return this.isValid?this._values.minutes||0:NaN}get months(){return this.isValid?this._values.months||0:NaN}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get quarters(){return this.isValid?this._values.quarters||0:NaN}get seconds(){return this.isValid?this._values.seconds||0:NaN}get weeks(){return this.isValid?this._values.weeks||0:NaN}get years(){return this.isValid?this._values.years||0:NaN}constructor(a){let o,r;"longterm"===a.conversionAccuracy?(r="longterm",o=ft):(r="casual",o=E),a.matrix&&(o=a.matrix),this._values=a.values||{},this._loc=a.loc||It.create(),this._conversionAccuracy=r,this._invalid=a.invalid||null,this._matrix=o,this._isLuxonDuration=!0}static fromDurationLike(a){if(De(a))return rt.fromMillis(a);if(rt.isDuration(a))return a;if("object"==typeof a)return rt.fromObject(a);throw new ct(`Unknown duration argument ${a} of type ${typeof a}`)}static fromISO(a,o){const[r]=wn(a,[Mo,jo]);return r?rt.fromObject(r,o):rt.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromISOTime(a,o={}){const[r]=wn(a,[Io,kn(yn)]);return r?rt.fromObject(r,o):rt.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromMillis(a,o={}){return rt.fromObject({milliseconds:a},o)}static fromObject(a,o={}){if(null==a||"object"!=typeof a)throw new ct("Duration.fromObject: argument expected to be an object, got "+(null===a?"null":typeof a));return new rt({values:Zt(a,rt.normalizeUnit),loc:It.fromObject(o),conversionAccuracy:o.conversionAccuracy,matrix:o.matrix})}static invalid(a,o){if(!a)throw new ct("need to specify a reason the Duration is invalid");const r=a instanceof ne?a:new ne(a,o);if(Mt.throwOnInvalid)throw new t(r);return new rt({invalid:r})}static isDuration(a){return!!a&&a._isLuxonDuration||!1}static normalizeUnit(a){const o={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",localWeekNumber:"localWeekNumbers",localWeekYear:"localWeekYears",localWeekday:"localWeekdays",localWeekNumbers:"localWeekNumbers",localWeekYears:"localWeekYears",localWeekdays:"localWeekdays",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[a];if(!o)throw new X(a);return o}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this._values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}as(a){return this.shiftTo(a).get(a)}equals(a){if(!this.isValid||!a.isValid||!this._loc.equals(a._loc))return!1;for(const d of Te)if(r=a._values[d],!(void 0===(o=this._values[d])||0===o?void 0===r||0===r:o===r))return!1;var o,r;return!0}get(a){return this[rt.normalizeUnit(a)]}getMaxUnit(a=!1){const o=a?so:Te,r=this.shiftTo(...o).toObject();return o.find(d=>(r[d]||0)>0)||Gn[0]}mapUnits(a){if(!this.isValid)return this;const o={};return Object.keys(this._values).forEach(r=>{o[r]=K(a(this._values[r],r))}),this._clone(this,{values:o},!0)}minus(a){if(!this.isValid)return this;const o=rt.fromDurationLike(a);return this.plus(o.negate())}negate(){if(!this.isValid)return this;const a={};return Object.keys(this._values).forEach(o=>{a[o]=0===this._values[o]?0:-this._values[o]}),this._clone(this,{values:a},!0)}normalize(){if(!this.isValid)return this;const a=this.toObject();return function(o,r){const d=yt(o,r)<0?-1:1;Gn.reduce((g,y)=>{if(re(r[y]))return g;if(g){const L=o[y][g],H=Math.floor(r[g]*d/L);r[y]+=H*d,r[g]-=H*L*d}return y},null),Te.reduce((g,y)=>{if(re(r[y]))return g;if(g){const M=r[g]%1;r[g]-=M,r[y]+=M*o[g][y]}return y},null)}(this._matrix,a),this._clone(this,{values:a},!0)}plus(a){if(!this.isValid)return this;const o=rt.fromDurationLike(a),r={};return Te.forEach(d=>{void 0===o._values[d]&&void 0===this._values[d]||(r[d]=o.get(d)+this.get(d))}),this._clone(this,{values:r},!0)}reconfigure({locale:a,numberingSystem:o,conversionAccuracy:r,matrix:d}={}){const g={loc:this._loc.clone({locale:a,numberingSystem:o}),matrix:d,conversionAccuracy:r};return this._clone(this,g)}rescale(){if(!this.isValid)return this;const a=function(o={}){return Object.entries(o).reduce((r,[d,g])=>(0!==g&&(r[d]=g),r),{})}(this.normalize().shiftToAll().toObject());return this._clone(this,{values:a},!0)}set(a){if(!this.isValid)return this;const o=Object.assign(Object.assign({},this._values),Zt(a,rt.normalizeUnit));return this._clone(this,{values:o})}shiftTo(...a){if(!this.isValid||0===a.length)return this;a=a.map(y=>rt.normalizeUnit(y));const o={},r={},d=this.toObject();let g;return Te.forEach(y=>{if(a.indexOf(y)>=0){g=y;let M=0;Object.keys(r).forEach(H=>{M+=this._matrix[H][y]*r[H],r[H]=0}),De(d[y])&&(M+=d[y]);const L=Math.trunc(M);o[y]=L,r[y]=(1e3*M-1e3*L)/1e3}else De(d[y])&&(r[y]=d[y])}),Object.keys(r).forEach(y=>{const M=r[y];0!==M&&(o[g]+=y===g?M:M/this._matrix[g][y])}),this._clone(this,{values:o},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}toFormat(a,o={floor:!0}){const r=Object.assign(Object.assign({},o),{floor:!1!==o.round&&!1!==o.floor});return this.isValid?le.create(this._loc,r).formatDurationFromString(this,a):rt._INVALID}toHuman(a={}){if(!this.isValid)return rt._INVALID;const o=this.getMaxUnit(!0),r=a.onlyHumanUnits?so:Te,d=this.shiftTo(...r.slice(r.indexOf(o))).toObject(),g=r.map(M=>{const L=d[M];return re(L)||0===L?null:this._loc.numberFormatter(Object.assign(Object.assign({style:"unit",unitDisplay:"long"},a),{unit:M.slice(0,-1)})).format(L)}).filter(M=>M),y=Object.assign({type:"conjunction",style:a.listStyle||"narrow"},a);return this._loc.listFormatter(y).format(g)}toISO(){if(!this.isValid)return null;let a="P";return 0!==this.years&&(a+=this.years+"Y"),0===this.months&&0===this.quarters||(a+=this.months+3*this.quarters+"M"),0!==this.weeks&&(a+=this.weeks+"W"),0!==this.days&&(a+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(a+="T"),0!==this.hours&&(a+=this.hours+"H"),0!==this.minutes&&(a+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(a+=$e(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===a&&(a+="T0S"),a}toISOTime(a={}){if(!this.isValid)return null;const o=this.toMillis();return o<0||o>=864e5?null:(a=Object.assign(Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},a),{includeOffset:!1}),et.fromMillis(o,{zone:"UTC"}).toISOTime(a))}toJSON(){return this.toISO()}toMillis(){return this.isValid?yt(this.matrix,this._values):NaN}toObject(){return this.isValid?Object.assign({},this._values):{}}toString(){return this.toISO()}valueOf(){return this.toMillis()}_clone(a,o,r=!1){const d={values:r?o.values:Object.assign(Object.assign({},a._values),o.values||{}),loc:a._loc.clone(o.loc),conversionAccuracy:o.conversionAccuracy||a.conversionAccuracy,matrix:o.matrix||a.matrix};return new rt(d)}}const ce="Invalid Interval";function gn(m){if(et.isDateTime(m))return m;if(m&&m.valueOf&&De(m.valueOf()))return et.fromJSDate(m);if(m&&"object"==typeof m)return et.fromObject(m);throw new ct(`Unknown datetime argument: ${m}, of type ${typeof m}`)}class Jt{get end(){return this.isValid?this._e:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this.invalidReason}get start(){return this.isValid?this._s:null}constructor(a){this._s=a.start,this._e=a.end,this._invalid=a.invalid||null,this._isLuxonInterval=!0}static after(a,o){const r=rt.fromDurationLike(o),d=gn(a);return new Jt({start:d,end:d?d.plus(r):void 0})}static before(a,o){const r=rt.fromDurationLike(o),d=gn(a);return new Jt({start:d?d.minus(r):void 0,end:d})}static fromDateTimes(a,o){const r=gn(a),d=gn(o);return M=d,((y=r)&&y.isValid?M&&M.isValid?M<y?Jt.invalid("end before start",`The end of an interval must be after its start, but you had start=${y.toISO()} and end=${M.toISO()}`):void 0:Jt.invalid("missing or invalid end"):Jt.invalid("missing or invalid start"))||new Jt({start:r,end:d});var y,M}static fromISO(a,o={}){const[r,d]=(a||"").split("/",2);if(r&&d){let g,y,M,L;try{g=et.fromISO(r,o),y=g.isValid}catch{y=!1}try{M=et.fromISO(d,o),L=M.isValid}catch{L=!1}if(y&&L)return Jt.fromDateTimes(g,M);if(y){const H=rt.fromISO(d,o);if(H.isValid)return Jt.after(g,H)}else if(L){const H=rt.fromISO(r,o);if(H.isValid)return Jt.before(M,H)}}return Jt.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static invalid(a,o){if(!a)throw new ct("need to specify a reason the Interval is invalid");const r=a instanceof ne?a:new ne(a,o);if(Mt.throwOnInvalid)throw new bt(r);return new Jt({invalid:r})}static isInterval(a){return!!a&&a._isLuxonInterval||!1}static merge(a){const[o,r]=a.sort((d,g)=>d._s.valueOf()-g._s.valueOf()).reduce(([d,g],y)=>g?g.overlaps(y)||g.abutsStart(y)?[d,g.union(y)]:[d.concat([g]),y]:[d,y],[[],null]);return r&&o.push(r),o}static xor(a){let o=null,r=0;const d=[],g=a.map(M=>[{time:M._s,type:"s"},{time:M._e,type:"e"}]),y=Array.prototype.concat(...g).sort((M,L)=>+M.time-+L.time);for(const M of y)r+="s"===M.type?1:-1,1===r?o=M.time:(o&&o.valueOf()!==M.time.valueOf()&&d.push(Jt.fromDateTimes(o,M.time)),o=null);return Jt.merge(d)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this._s.toISO()}, end: ${this._e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}abutsEnd(a){return+a._e==+this._s}abutsStart(a){return+this._e==+a._s}contains(a){return this._s<=a&&this._e>a}count(a="milliseconds",o){if(!this.isValid)return NaN;const r=this.start.startOf(a,o);let d;return d=o?.useLocaleWeeks?this.end.reconfigure({locale:r.locale}):this.end,d=d.startOf(a,o),Math.floor(d.diff(r,a).get(a))+ +(d.valueOf()!==this.end.valueOf())}difference(...a){return Jt.xor([this].concat(a)).map(o=>this.intersection(o)).filter(o=>o&&!o.isEmpty())}divideEqually(a){return this.isValid?this.splitBy({milliseconds:this.length()/a}).slice(0,a):[]}engulfs(a){return!!this.isValid&&this._s<=a._s&&this._e>=a._e}equals(a){return!(!this.isValid||!a.isValid)&&this._s.equals(a._s)&&this._e.equals(a._e)}hasSame(a){return!!this.isValid&&(this.isEmpty()||this._e.minus(1).hasSame(this._s,a))}intersection(a){if(!this.isValid)return this;const o=this._s>a._s?this._s:a._s,r=this._e<a._e?this._e:a._e;return o>=r?null:Jt.fromDateTimes(o,r)}isAfter(a){return!!this.isValid&&this._s>a}isBefore(a){return!!this.isValid&&this._e<=a}isEmpty(){return this._s.valueOf()===this._e.valueOf()}length(a="milliseconds"){return this.toDuration(a).get(a)}mapEndpoints(a){return Jt.fromDateTimes(a(this._s),a(this._e))}overlaps(a){return this._e>a._s&&this._s<a._e}set({start:a,end:o}={}){return this.isValid?Jt.fromDateTimes(a||this._s,o||this._e):this}splitAt(...a){const o=a.map(gn).filter(y=>this.contains(y)).sort((y,M)=>y.toMillis()-M.toMillis()),r=[];let d=this._s,g=0;for(;d<this._e;){const y=o[g]||this._e,M=+y>+this._e?this._e:y;r.push(Jt.fromDateTimes(d,M)),d=M,g+=1}return r}splitBy(a){const o=rt.fromDurationLike(a);if(!this.isValid||!o.isValid||0===o.as("milliseconds"))return[];let r,d=this._s,g=1;const y=[];for(;d<this._e;){const M=this.start.plus(o.mapUnits(L=>L*g));r=+M>+this._e?this._e:M,y.push(Jt.fromDateTimes(d,r)),d=r,g+=1}return y}toDuration(a="milliseconds",o={}){return this.isValid?this._e.diff(this._s,a,o):rt.invalid(this._invalid.reason)}toFormat(a,{separator:o=" - "}={}){return this.isValid?`${this._s.toFormat(a)}${o}${this._e.toFormat(a)}`:ce}toISO(a={}){return this.isValid?`${this._s.toISO(a)}/${this._e.toISO(a)}`:ce}toISODate(){return this.isValid?`${this._s.toISODate()}/${this._e.toISODate()}`:ce}toISOTime(a={}){return this.isValid?`${this._s.toISOTime(a)}/${this._e.toISOTime(a)}`:ce}toLocaleString(a=xt,o={}){return this.isValid?le.create(this._s.loc.clone(o),a).formatInterval(this):ce}toString(){return this.isValid?`[${this._s.toISO()} \u2013 ${this._e.toISO()})`:ce}union(a){return this.isValid?Jt.fromDateTimes(this._s<a._s?this._s:a._s,this._e>a._e?this._e:a._e):this}}class Nn{static eras(a="short",{locale:o}={}){return It.create(o,void 0,"gregory").eras(a)}static features(){return{relative:Sn(),localeWeek:Jn()}}static getMinimumDaysInFirstWeek({locale:a,locObj:o}={}){return(o||It.create(a)).getMinDaysInFirstWeek()}static getStartOfWeek({locale:a,locObj:o}={}){return(o||It.create(a)).getStartOfWeek()}static getWeekendWeekdays({locale:a,locObj:o}={}){return(o||It.create(a)).getWeekendDays().slice()}static hasDST(a=Mt.defaultZone){const o=et.now().setZone(a).set({month:12});return!a.isUniversal&&o.offset!==o.set({month:6}).offset}static isValidIANAZone(a){return ot.isValidZone(a)}static meridiems({locale:a}={}){return It.create(a).meridiems()}static months(a="long",{locale:o=null,locObj:r=null,numberingSystem:d=null,outputCalendar:g="gregory"}={}){return(r||It.create(o,d,g)).months(a)}static monthsFormat(a="long",{locale:o,locObj:r,numberingSystem:d,outputCalendar:g="gregory"}={}){return(r||It.create(o,d,g)).months(a,!0)}static normalizeZone(a){return w(a,Mt.defaultZone)}static weekdays(a="long",{locale:o,locObj:r,numberingSystem:d}={}){return(r||It.create(o,d)).weekdays(a)}static weekdaysFormat(a="long",{locale:o,locObj:r,numberingSystem:d}={}){return(r||It.create(o,d)).weekdays(a,!0)}}function ho(m,a){const o=d=>d.toUTC(0,{keepLocalTime:!0}).startOf("days").valueOf(),r=o(a)-o(m);return Math.floor(rt.fromMillis(r).as("days"))}const Ho={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},li={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ui=Ho.hanidec.replace(/[\[|\]]/g,"").split("");function on(m,a=""){return new RegExp(`${Ho[m.numberingSystem||"latn"]}${a}`)}function rn(m,a=(o=>o)){return{regex:m,deser:([o])=>a(function(r){const d=parseInt(r,10);if(!isNaN(d))return d;let g="";for(let y=0;y<r.length;y++){const M=r.charCodeAt(y);if(-1!==r[y].search(Ho.hanidec))g+=Ui.indexOf(r[y]);else for(const L in li){const[H,G]=li[L];if(M>=H&&M<=G){g+=M-H;break}}}return parseInt(g,10)}(o))}}const mi=`[ ${String.fromCharCode(160)}]`,_i=new RegExp(mi,"g");function zi(m){return m.replace(/\./g,"\\.?").replace(_i,mi)}function di(m){return m.replace(/\./g,"").replace(_i," ").toLowerCase()}function an(m,a){return{regex:RegExp(m.map(zi).join("|")),deser:([o])=>m.findIndex(r=>di(o)===di(r))+a}}function ui(m,a){return{regex:m,deser:([,o,r])=>j(o,r),groups:a}}function pi(m){return{regex:m,deser:([a])=>a}}const Fi={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Go;function Ji(m){return!!m&&!!m.invalidReason}function gi(m,a){return Array.prototype.concat(...m.map(o=>function(r,d){if(r.literal)return r;const g=hi(le.macroTokenToFormatOpts(r.val),d);return null==g||g.includes(void 0)?r:g}(o,a)))}function Ln(m,a,o){const r=gi(le.parseFormat(o),m),d=r.map(y=>function(M,L){const H=on(L),G=on(L,"{2}"),Y=on(L,"{3}"),it=on(L,"{4}"),nt=on(L,"{6}"),vt=on(L,"{1,2}"),jt=on(L,"{1,3}"),Dt=on(L,"{1,6}"),qt=on(L,"{1,9}"),Qt=on(L,"{2,4}"),Et=on(L,"{4,6}"),Rt=ao=>{return{regex:RegExp((Ei=ao.val,Ei.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([Wa])=>Wa,literal:!0};var Ei},An=(ao=>{if(M.literal)return Rt(ao);switch(ao.val){case"G":return an(L.eras("short"),0);case"GG":return an(L.eras("long"),0);case"y":return rn(Dt);case"yy":case"kk":return rn(Qt,q);case"yyyy":case"kkkk":return rn(it);case"yyyyy":return rn(Et);case"yyyyyy":return rn(nt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return rn(vt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return rn(G);case"MMM":return an(L.months("short",!0),1);case"MMMM":return an(L.months("long",!0),1);case"LLL":return an(L.months("short",!1),1);case"LLLL":return an(L.months("long",!1),1);case"o":case"S":return rn(jt);case"ooo":case"SSS":return rn(Y);case"u":return pi(qt);case"a":return an(L.meridiems(),0);case"E":case"c":return rn(H);case"EEE":return an(L.weekdays("short",!1),1);case"EEEE":return an(L.weekdays("long",!1),1);case"ccc":return an(L.weekdays("short",!0),1);case"cccc":return an(L.weekdays("long",!0),1);case"Z":case"ZZ":return ui(new RegExp(`([+-]${vt.source})(?::(${G.source}))?`),2);case"ZZZ":return ui(new RegExp(`([+-]${vt.source})(${G.source})?`),2);case"z":return pi(/[a-z_+-/]{1,256}?/i);default:return Rt(ao)}})(M)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Object.assign(Object.assign({},An),{token:M})}(y,m)),g=d.find(Ji);if(g)return{input:a,tokens:r,invalidReason:g.invalidReason};{const y=`^${d.map(vt=>vt.regex).reduce((vt,jt)=>`${vt}(${jt.source})`,"")}$`,M=RegExp(y,"i"),[L,H]=function(nt,vt,jt){const Dt=vt.exec(nt),qt={};if(null!==Dt){let Qt=1;jt.forEach(Et=>{const Rt=Et.groups?Et.groups+1:1;Et.literal||(qt[Et.token.val[0]]=Et.deser(Dt.slice(Qt,Qt+Rt))),Qt+=Rt})}return[Dt,qt]}(a,M,d),[G,Y,it]=H?function(nt){let vt,jt=null;return Lt(nt.z)&&(jt=ot.create(nt.z)),Lt(nt.Z)&&(jt||(jt=new Ft(+nt.Z)),vt=+nt.Z),Lt(nt.q)&&(nt.M=3*(nt.q-1)+1),Lt(nt.h)&&(+nt.h<12&&1===nt.a?nt.h=nt.h+12:12===nt.h&&0===nt.a&&(nt.h=0)),0===nt.G&&nt.y&&(nt.y=-nt.y),Lt(nt.u)&&(nt.S=be(nt.u)||0),[Object.keys(nt).reduce((Dt,qt)=>{const Qt=(Et=>{switch(Et){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(qt);return Qt&&(Dt[Qt]=nt[qt]),Dt},{}),jt,vt]}(H):[null,null,void 0];if("a"in H&&"H"in H)throw new kt("Can't include meridiem when specifying 24-hour format");return{input:a,tokens:r,regex:M,rawMatches:L,matches:H,result:G,zone:Y,specificOffset:it}}}function Zn(m){return m.replace(/\u202F/g," ")}function hi(m,a){if(!m)return null;const o=le.create(a,m).dtFormatter((void 0===Go&&(Go=et.fromMillis(1555555555555,{locale:a.locale})),Go)),r=o.formatToParts(),d=o.resolvedOptions();return r.map(g=>function(y,M,L){const{type:H,value:G}=y;if("literal"===H){const vt=/^\s+$/.test(G);return{literal:!vt,val:vt?" ":G}}let it=H;"hour"===H&&(it=null!=M.hour12?M.hour12?"hour12":"hour24":null!=M.hourCycle?"h11"===M.hourCycle||"h12"===M.hourCycle?"hour12":"hour24":L.hour12?"hour12":"hour24");let nt=Fi[it];if("object"==typeof nt&&(nt=nt[M[H]]),nt)return{literal:!1,val:nt}}(g,m,d))}const Vo="Invalid DateTime",fi=864e13;function xi(m,a,o){let r=m-60*a*1e3;const d=o.offset(r);if(a===d)return[r,a];r-=60*(d-a)*1e3;const g=o.offset(r);return d===g?[r,d]:[m-60*Math.min(d,g)*1e3,Math.max(d,g)]}function fo(m,a){const o=new Date(m+=60*a*1e3);return{year:o.getUTCFullYear(),month:o.getUTCMonth()+1,day:o.getUTCDate(),hour:o.getUTCHours(),minute:o.getUTCMinutes(),second:o.getUTCSeconds(),millisecond:o.getUTCMilliseconds()}}function xo(m,a,o){return xi(Tn(m),a,o)}function $n(m,a,o,r,d,g){const{setZone:y,zone:M}=o;if(m&&0!==Object.keys(m).length||a){const L=a||M,H=et.fromObject(m||void 0,Object.assign(Object.assign({},o),{zone:L,specificOffset:g}));return y?H:H.setZone(M)}return et.invalid(new ne("unparsable",`the input "${d}" can't be parsed as ${r}`))}function vo(m,a,o=!0){return m.isValid?le.create(It.create("en-US"),{allowZ:o,forceSimple:!0}).formatDateTimeFromString(m,a):null}const vi={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0},qi={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Qi={ordinal:1,hour:0,minute:0,second:0,millisecond:0},bi=["year","month","day","hour","minute","second","millisecond"],Yi=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Ro=["year","ordinal","hour","minute","second","millisecond"];function $o(m){const a=Oo[m.toLowerCase()];if(!a)throw new X(m);return a}class et{get day(){return this.isValid?this._c.day:NaN}get daysInMonth(){return bn(this.year,this.month)}get daysInYear(){return this.isValid?sn(this.year):NaN}get hour(){return this.isValid?this._c.hour:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:void 0}get invalidReason(){return this._invalid?this._invalid.reason:void 0}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return _n(this.year)}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isValid(){return null===this._invalid}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get loc(){return this.isValid?this._loc.clone():void 0}get localWeekNumber(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekYear:NaN}get localWeekday(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekday:NaN}get locale(){return this.isValid?this._loc.locale:void 0}get millisecond(){return this.isValid?this._c.millisecond:NaN}get minute(){return this.isValid?this._c.minute:NaN}get month(){return this.isValid?this._c.month:NaN}get monthLong(){return this.isValid?Nn.months("long",{locObj:this._loc})[this.month-1]:null}get monthShort(){return this.isValid?Nn.months("short",{locObj:this._loc})[this.month-1]:null}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get offset(){return this.isValid?+this._o:NaN}get offsetNameLong(){return this.isValid?this.zone.offsetName(this._ts,{format:"long",locale:this.locale}):null}get offsetNameShort(){return this.isValid?this.zone.offsetName(this._ts,{format:"short",locale:this.locale}):null}get ordinal(){return this.isValid?F(this._c).ordinal:NaN}get outputCalendar(){return this.isValid?this._loc.outputCalendar:void 0}get quarter(){return this.isValid?Math.ceil(this._c.month/3):NaN}get second(){return this.isValid?this._c.second:NaN}get ts(){return this._ts}get weekNumber(){return this.isValid?this._possiblyCachedWeekData(this).weekNumber:NaN}get weekYear(){return this.isValid?this._possiblyCachedWeekData(this).weekYear:NaN}get weekday(){return this.isValid?this._possiblyCachedWeekData(this).weekday:NaN}get weekdayLong(){return this.isValid?Nn.weekdays("long",{locObj:this._loc})[this.weekday-1]:null}get weekdayShort(){return this.isValid?Nn.weekdays("short",{locObj:this._loc})[this.weekday-1]:null}get weeksInLocalWeekYear(){return this.isValid?C(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}get weeksInWeekYear(){return this.isValid?C(this.weekYear):NaN}get year(){return this.isValid?this._c.year:NaN}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}constructor(a){const o=a.zone||Mt.defaultZone;let r,d,g=a.invalid||(Number.isNaN(a.ts)?new ne("invalid timestamp"):null)||(o.isValid?null:et._unsupportedZone(o));if(this._ts=re(a.ts)?Mt.now():a.ts,!g)if(a.old&&a.old.ts===this._ts&&a.old.zone.equals(o))[d,r]=[a.old.c,a.old.o];else{const y=o.offset(this._ts);d=fo(this._ts,y),g=Number.isNaN(d.year)?new ne("invalid input"):null,d=g?void 0:d,r=g?void 0:y}this._zone=o,this._loc=a.loc||It.create(),this._invalid=g,this._weekData=null,this._c=d,this._o=r,this._isLuxonDateTime=!0}static expandFormat(a,o={}){return gi(le.parseFormat(a),It.fromObject(o)).map(r=>r.val).join("")}static fromFormat(a,o,r={}){if(re(a)||re(o))throw new ct("fromFormat requires an input string and a format");const{locale:d,numberingSystem:g}=r,y=It.fromOpts({locale:d,numberingSystem:g,defaultToEN:!0}),[M,L,H,G]=function(Y,it,nt){const{result:vt,zone:jt,specificOffset:Dt,invalidReason:qt}=Ln(Y,Zn(it),Zn(nt));return[vt,jt,Dt,qt]}(y,a,o);return G?et.invalid(G):$n(M,L||null,r,`format ${o}`,a,H)}static fromFormatExplain(a,o,r={}){const{locale:d,numberingSystem:g}=r;return Ln(It.fromOpts({locale:d,numberingSystem:g,defaultToEN:!0}),a,o)}static fromHTTP(a,o={}){const[r,d]=wn(a,[Eo,po],[Po,po],[Uo,zo]);return $n(r,d,o,"HTTP",a)}static fromISO(a,o={}){const[r,d]=wn(a,[Fo,go],[Jo,Yo],[qo,Bo],[Qo,f]);return $n(r,d,o,"ISO 8601",a)}static fromJSDate(a,o={}){const r="[object Date]"===Object.prototype.toString.call(a)?a.valueOf():NaN;if(Number.isNaN(r))return et.invalid("invalid input");const g=w(o.zone,Mt.defaultZone);return g.isValid?new et({ts:r,zone:g,loc:It.fromObject(o)}):et.invalid(et._unsupportedZone(g))}static fromMillis(a,o={}){if(De(a))return a<-fi||a>fi?et.invalid("Timestamp out of range"):new et({ts:a,zone:w(o.zone,Mt.defaultZone),loc:It.fromObject(o)});throw new ct(`fromMillis requires a numerical input, but received a ${typeof a} with value ${a}`)}static fromObject(a={},o={}){const r=w(o.zone,Mt.defaultZone);if(!r.isValid)return et.invalid(et._unsupportedZone(r));const d=It.fromObject(o),g=Zt(a,$o),y=Mt.now(),M=De(o.specificOffset)?o.specificOffset:r.offset(y),L=Lt(g.ordinal),H=Lt(g.year),G=Lt(g.month)||Lt(g.day),Y=H||G,it=g.weekYear||g.weekNumber;if((Y||L)&&it)throw new kt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(G&&L)throw new kt("Can't mix ordinal dates with month/day");const nt=it||g.weekday&&!Y,{minDaysInFirstWeek:vt,startOfWeek:jt}=Fn(g,d),Dt=fo(y,M),qt={containsGregor:Y,containsOrdinal:L,loc:d,normalized:g,obj:a,offsetProvis:M,useWeekData:nt,zoneToUse:r};return nt?et._buildObject(qt,Yi,qi,O(Dt,vt,jt)):L?et._buildObject(qt,Ro,Qi,F(Dt)):et._buildObject(qt,bi,vi,Dt)}static fromRFC2822(a,o={}){const[r,d]=wn(a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[Lo,Do]);return $n(r,d,o,"RFC 2822",a)}static fromSQL(a,o={}){const[r,d]=wn(a,[P,go],[u,T]);return $n(r,d,o,"SQL",a)}static fromSeconds(a,o={}){if(!De(a))throw new ct("fromSeconds requires a numerical input");return new et({ts:1e3*a,zone:w(o.zone,Mt.defaultZone),loc:It.fromObject(o)})}static fromString(a,o,r={}){return et.fromFormat(a,o,r)}static fromStringExplain(a,o,r={}){return et.fromFormatExplain(a,o,r)}static invalid(a,o){if(!a)throw new ct("need to specify a reason the DateTime is invalid");const r=a instanceof ne?a:new ne(a,o);if(Mt.throwOnInvalid)throw new v(r);return new et({invalid:r})}static isDateTime(a){return!(!a||!a._isLuxonDateTime)}static local(...a){const[o,r]=this._lastOpts(a),[d,g,y,M,L,H,G]=r;return et._quickDT({year:d,month:g,day:y,hour:M,minute:L,second:H,millisecond:G},o)}static max(...a){if(!a.every(et.isDateTime))throw new ct("max requires all arguments be DateTimes");return qn(a,o=>o.valueOf(),Math.max)}static min(...a){if(!a.every(et.isDateTime))throw new ct("min requires all arguments be DateTimes");return qn(a,o=>o.valueOf(),Math.min)}static now(){return new et({})}static parseFormatForOpts(a,o={}){const r=hi(a,It.fromObject(o));return r?r.map(d=>d?d.val:null).join(""):null}static utc(...a){const[o,r]=this._lastOpts(a),[d,g,y,M,L,H,G]=r;return o.zone=Ft.utcInstance,this._quickDT({year:d,month:g,day:y,hour:M,minute:L,second:H,millisecond:G},o)}static _buildObject(a,o,r,d){let g=!1;o.forEach(Y=>{Lt(a.normalized[Y])?g=!0:a.normalized[Y]=g?r[Y]:d[Y]});const y=(a.useWeekData?function(Y,it=4,nt=1){const vt=Re(Y.weekYear),jt=fe(Y.weekNumber,1,C(Y.weekYear,it,nt)),Dt=fe(Y.weekday,1,7);return vt?jt?!Dt&&ae("weekday",Y.weekday):ae("week",Y.weekNumber):ae("weekYear",Y.weekYear)}(a.normalized):a.containsOrdinal?function(Y){const it=Re(Y.year),nt=fe(Y.ordinal,1,sn(Y.year));return it?!nt&&ae("ordinal",Y.ordinal):ae("year",Y.year)}(a.normalized):se(a.normalized))||vn(a.normalized);if(y)return et.invalid(y);const M=a.useWeekData?A(a.normalized):a.containsOrdinal?wt(a.normalized):a.normalized,[L,H]=xo(M,a.offsetProvis,a.zoneToUse),G=new et({ts:L,zone:a.zoneToUse,o:H,loc:a.loc});return a.normalized.weekday&&a.containsGregor&&a.obj.weekday!==G.weekday?et.invalid("mismatched weekday",`you can't specify both a weekday of ${a.normalized.weekday} and a date of ${G.toISO()}`):G.isValid?G:et.invalid(G._invalid)}static _diffRelative(a,o,r){const d=!!re(r.round)||r.round,g=(M,L)=>(M=$e(M,d||r.calendary?0:2,!0),o._loc.clone(r).relFormatter(r).format(M,L)),y=M=>r.calendary?o.hasSame(a,M)?0:o.startOf(M).diff(a.startOf(M),M).get(M):o.diff(a,M).get(M);if(r.unit)return g(y(r.unit),r.unit);for(const M of r.units){const L=y(M);if(Math.abs(L)>=1)return g(L,M)}return g(a>o?-0:0,r.units[r.units.length-1])}static _lastOpts(a){let o,r={};return a.length>0&&"object"==typeof a[a.length-1]?(r=a.pop(),o=a):o=Array.from(a),[r,o]}static _quickDT(a,o){const r=w(o.zone,Mt.defaultZone),d=It.fromObject(o),g=Mt.now();let y,M;if(Lt(a.year)){for(const G of bi)re(a[G])&&(a[G]=vi[G]);const L=se(a)||vn(a);if(L)return et.invalid(L);const H=r.offset(g);[y,M]=xo(a,H,r)}else y=g;return new et({ts:y,zone:r,loc:d,o:M})}static _unsupportedZone(a){return new ne("unsupported zone",`the zone "${a.name}" is not supported`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}diff(a,o="milliseconds",r={}){if(!this.isValid||!a.isValid)return rt.invalid(this.invalidReason||a.invalidReason,"created by diffing an invalid DateTime");const d=(M=o,Array.isArray(M)?M:[M]).map(rt.normalizeUnit),g=a.valueOf()>this.valueOf(),y=((m,a,o,r)=>{let[d,g,y,M]=function(Y,it,nt){const vt=[["years",(Et,Rt)=>Rt.year-Et.year],["quarters",(Et,Rt)=>Rt.quarter-Et.quarter+4*(Rt.year-Et.year)],["months",(Et,Rt)=>Rt.month-Et.month+12*(Rt.year-Et.year)],["weeks",(Et,Rt)=>{const An=ho(Et,Rt);return(An-An%7)/7}],["days",ho]],jt={},Dt=Y;let qt,Qt;for(const[Et,Rt]of vt)nt.indexOf(Et)>=0&&(qt=Et,jt[Et]=Rt(Y,it),Qt=Dt.plus(jt),Qt>it?(jt[Et]--,(Y=Dt.plus(jt))>it&&(Qt=Y,jt[Et]--,Y=Dt.plus(jt))):Y=Qt);return[Y,jt,Qt,qt]}(m,a,o);const L=+a-+d,H=o.filter(Y=>["hours","minutes","seconds","milliseconds"].indexOf(Y)>=0);0===H.length&&(y<a&&(y=d.plus({[M]:1})),y!==d&&(g[M]=(g[M]||0)+L/(+y-+d)));const G=rt.fromObject(g,r);return H.length>0?rt.fromMillis(L,r).shiftTo(...H).plus(G):G})(g?this:a,g?a:this,d,Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},r));var M;return g?y.negate():y}diffNow(a="milliseconds",o={}){return this.diff(et.now(),a,o)}endOf(a,{useLocaleWeeks:o=!1}={}){return this.plus({[a]:1}).startOf(a,{useLocaleWeeks:o}).minus({milliseconds:1})}equals(a){return this.valueOf()===a.valueOf()&&this.zone.equals(a.zone)&&this._loc.equals(a._loc)}get(a){return this[a]}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const a=864e5,o=6e4,r=Tn(this._c),d=this.zone.offset(r-a),g=this.zone.offset(r+a),y=this.zone.offset(r-d*o),M=this.zone.offset(r-g*o);if(y===M)return[this];const L=r-y*o,H=r-M*o,G=fo(L,y),Y=fo(H,M);return G.hour===Y.hour&&G.minute===Y.minute&&G.second===Y.second&&G.millisecond===Y.millisecond?[this._clone({ts:L}),this._clone({ts:H})]:[this]}hasSame(a,o,r){if(!this.isValid)return!1;const d=a.valueOf(),g=this.setZone(a.zone,{keepLocalTime:!0});return+g.startOf(o)<=d&&d<=+g.endOf(o,r)}minus(a){if(!this.isValid)return this;const o=rt.fromDurationLike(a).negate();return this._clone(this._adjustTime(o))}plus(a){if(!this.isValid)return this;const o=rt.fromDurationLike(a);return this._clone(this._adjustTime(o))}reconfigure(a){const o=this._loc.clone(a);return this._clone({loc:o})}resolvedLocaleOptions(a={}){const{locale:o,numberingSystem:r,calendar:d}=le.create(this._loc.clone(a),a).resolvedOptions(this);return{locale:o,numberingSystem:r,outputCalendar:d}}set(a){if(!this.isValid)return this;const o=Zt(a,$o),{minDaysInFirstWeek:r,startOfWeek:d}=Fn(o,this.loc),g=Lt(o.weekYear)||Lt(o.weekNumber)||Lt(o.weekday),y=Lt(o.ordinal),M=Lt(o.year),L=Lt(o.month)||Lt(o.day);if((M||L||y)&&(o.weekYear||o.weekNumber))throw new kt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(L&&y)throw new kt("Can't mix ordinal dates with month/day");let Y;g?Y=A(Object.assign(Object.assign({},O(this._c,r,d)),o),r,d):re(o.ordinal)?(Y=Object.assign(Object.assign({},this.toObject()),o),re(o.day)&&(Y.day=Math.min(bn(Y.year,Y.month),Y.day))):Y=wt(Object.assign(Object.assign({},F(this._c)),o));const[it,nt]=xo(Y,this._o,this.zone);return this._clone({ts:it,o:nt})}setLocale(a){return this.reconfigure({locale:a})}setZone(a,{keepLocalTime:o=!1,keepCalendarTime:r=!1}={}){if((a=w(a,Mt.defaultZone)).equals(this.zone))return this;if(a.isValid){let d=this._ts;if(o||r){const g=a.offset(this._ts);d=xo(this.toObject(),g,a)[0]}return this._clone({ts:d,zone:a})}return et.invalid(et._unsupportedZone(a))}startOf(a,{useLocaleWeeks:o=!1}={}){if(!this.isValid)return this;const r={},d=rt.normalizeUnit(a);switch(d){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0}if("weeks"===d)if(o){const g=this.loc.getStartOfWeek(),{weekday:y}=this;y<g&&(r.weekNumber=this.weekNumber-1),r.weekday=g}else r.weekday=1;if("quarters"===d){const g=Math.ceil(this.month/3);r.month=3*(g-1)+1}return this.set(r)}toBSON(){return this.toJSDate()}toFormat(a,o={}){return this.isValid?le.create(this._loc.redefaultToEN(o)).formatDateTimeFromString(this,a):Vo}toHTTP(){return vo(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toISO({format:a="extended",suppressSeconds:o=!1,suppressMilliseconds:r=!1,includeOffset:d=!0,extendedZone:g=!1}={}){if(!this.isValid)return null;const y="extended"===a;return[this._toISODate(y),"T",this._toISOTime(y,o,r,d,g)].join("")}toISODate({format:a="extended"}={format:"extended"}){return this.isValid?this._toISODate("extended"===a):null}toISOTime({suppressMilliseconds:a=!1,suppressSeconds:o=!1,includeOffset:r=!0,includePrefix:d=!1,extendedZone:g=!1,format:y="extended"}={}){return this.isValid?[d?"T":"",this._toISOTime("extended"===y,o,a,r,g)].join(""):null}toISOWeekDate(){return vo(this,"kkkk-'W'WW-c")}toJSDate(){return new Date(this.isValid?this._ts:NaN)}toJSON(){return this.toISO()}toLocal(){return this.setZone(Mt.defaultZone)}toLocaleParts(a={}){return this.isValid?le.create(this._loc.clone(a),a).formatDateTimeParts(this):[]}toLocaleString(a=xt,o={}){return this.isValid?le.create(this._loc.clone(o),a).formatDateTime(this):Vo}toMillis(){return this.isValid?this.ts:NaN}toObject(a={includeConfig:!1}){if(!this.isValid)return{};const o=Object.assign({},this._c);return a.includeConfig&&(o.outputCalendar=this.outputCalendar,o.numberingSystem=this._loc.numberingSystem,o.locale=this._loc.locale),o}toRFC2822(){return vo(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toRelative(a={}){if(!this.isValid)return null;const o=a.base||et.fromObject({},{zone:this.zone}),r=a.padding?this<o?-a.padding:a.padding:0;let d=["years","months","days","hours","minutes","seconds"],g=a.unit;return Array.isArray(a.unit)&&(d=a.unit,g=void 0),et._diffRelative(o,this.plus(r),Object.assign(Object.assign({},a),{numeric:"always",units:d,unit:g}))}toRelativeCalendar(a={}){return this.isValid?et._diffRelative(a.base||et.fromObject({},{zone:this.zone}),this,Object.assign(Object.assign({},a),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}toSQL(a={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(a)}`:null}toSQLDate(){return this.isValid?this._toISODate(!0):null}toSQLTime({includeOffset:a=!0,includeZone:o=!1,includeOffsetSpace:r=!0}={}){let d="HH:mm:ss.SSS";return(o||a)&&(r&&(d+=" "),o?d+="z":a&&(d+="ZZ")),vo(this,d,!0)}toSeconds(){return this.isValid?this._ts/1e3:NaN}toString(){return this.isValid?this.toISO():Vo}toUTC(a=0,o={}){return this.setZone(Ft.instance(a),o)}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}until(a){return Jt.fromDateTimes(this,a)}valueOf(){return this.toMillis()}_adjustTime(a){const o=this._o,r=this._c.year+Math.trunc(a.years),d=this._c.month+Math.trunc(a.months)+3*Math.trunc(a.quarters),g=Object.assign(Object.assign({},this._c),{year:r,month:d,day:Math.min(this._c.day,bn(r,d))+Math.trunc(a.days)+7*Math.trunc(a.weeks)}),y=rt.fromObject({years:a.years-Math.trunc(a.years),quarters:a.quarters-Math.trunc(a.quarters),months:a.months-Math.trunc(a.months),weeks:a.weeks-Math.trunc(a.weeks),days:a.days-Math.trunc(a.days),hours:a.hours,minutes:a.minutes,seconds:a.seconds,milliseconds:a.milliseconds}).as("milliseconds"),M=Tn(g);let[L,H]=xi(M,o,this.zone);return 0!==y&&(L+=y,H=this.zone.offset(L)),{ts:L,o:H}}_clone(a){const o={ts:this._ts,zone:this.zone,c:this._c,o:this._o,loc:this._loc,invalid:this._invalid||void 0};return new et(Object.assign(Object.assign(Object.assign({},o),a),{old:o}))}_possiblyCachedLocalWeekData(a){return a._localWeekData||(a._localWeekData=O(a._c,a.loc.getMinDaysInFirstWeek(),a.loc.getStartOfWeek())),a._localWeekData}_possiblyCachedWeekData(a){return null===a._weekData&&(a._weekData=O(a._c)),a._weekData}_toISODate(a){const o=this._c.year>9999||this._c.year<0;let r="";return o&&this._c.year>=0&&(r+="+"),r+=Bt(this._c.year,o?6:4),a?(r+="-",r+=Bt(this._c.month),r+="-",r+=Bt(this._c.day)):(r+=Bt(this._c.month),r+=Bt(this._c.day)),r}_toISOTime(a,o,r,d,g){let y=Bt(this._c.hour);return a?(y+=":",y+=Bt(this._c.minute),0===this._c.millisecond&&0===this._c.second&&o||(y+=":")):y+=Bt(this._c.minute),0===this._c.millisecond&&0===this._c.second&&o||(y+=Bt(this._c.second),0===this._c.millisecond&&r||(y+=".",y+=Bt(this._c.millisecond,3))),d&&(this.isOffsetFixed&&0===this.offset&&!g?y+="Z":this._o<0?(y+="-",y+=Bt(Math.trunc(-this._o/60)),y+=":",y+=Bt(Math.trunc(-this._o%60))):(y+="+",y+=Bt(Math.trunc(this._o/60)),y+=":",y+=Bt(Math.trunc(this._o%60)))),g&&(y+="["+this.zone.ianaName+"]"),y}}et.DATETIME_FULL=ze,et.DATETIME_FULL_WITH_SECONDS=oe,et.DATETIME_HUGE=je,et.DATETIME_HUGE_WITH_SECONDS=de,et.DATETIME_MED=Ue,et.DATETIME_MED_WITH_SECONDS=Ie,et.DATETIME_MED_WITH_WEEKDAY=Me,et.DATETIME_SHORT=he,et.DATETIME_SHORT_WITH_SECONDS=_e,et.DATE_FULL=ht,et.DATE_HUGE=$t,et.DATE_MED=pt,et.DATE_MED_WITH_WEEKDAY=Pt,et.DATE_SHORT=xt,et.TIME_24_SIMPLE=Se,et.TIME_24_WITH_LONG_OFFSET=me,et.TIME_24_WITH_SECONDS=Pe,et.TIME_24_WITH_SHORT_OFFSET=xe,et.TIME_SIMPLE=Xt,et.TIME_WITH_LONG_OFFSET=Ae,et.TIME_WITH_SECONDS=Kt,et.TIME_WITH_SHORT_OFFSET=we;var Nt=x(96814),Dn=x(19347),ln=x(32296),En=x(81274),Yn=x(65619),Kn=x(78645),Ko=x(59773),Wn=x(67081),Xn=x(99397),Ti=x(37398),Bi=x(93997),cn=x(86825),Ce=x(56223),Wo=x(4300),Xo=x(98525),Ci=x(23680),Pn=x(64170),ti=x(30617),Bn=x(2032),Hi=x(68484);const Gi=["clockFace"],Vi=["clockHand"],to=function(m){return{transform:m}};function Ri(m,a){if(1&m&&(l.TgZ(0,"button",9),l.ALo(1,"activeHour"),l._uU(2),l.ALo(3,"timeLocalizer"),l.qZA()),2&m){const o=a.$implicit,r=l.oxw();l.Q6J("color",l.Dn7(1,4,o.time,null==r.selectedTime?null:r.selectedTime.time,r.isClockFaceDisabled)?r.color:void 0)("ngStyle",l.VKq(11,to,"rotateZ(-"+o.angle+"deg)"))("disabled",o.disabled),l.xp6(2),l.hij(" ",l.xi3(3,8,o.time,r.timeUnit.HOUR)," ")}}function $i(m,a){if(1&m&&(l.TgZ(0,"div",12)(1,"button",9),l.ALo(2,"activeMinute"),l._uU(3),l.ALo(4,"timeLocalizer"),l.ALo(5,"minutesFormatter"),l.qZA()()),2&m){const o=a.$implicit,r=l.oxw(2);l.Q6J("ngStyle",l.VKq(16,to,"rotateZ("+o.angle+"deg)")),l.xp6(1),l.Q6J("color",l.gM2(2,5,o.time,null==r.selectedTime?null:r.selectedTime.time,r.minutesGap,r.isClockFaceDisabled)?r.color:void 0)("ngStyle",l.VKq(18,to,"rotateZ(-"+o.angle+"deg)"))("disabled",o.disabled),l.xp6(2),l.hij(" ",l.xi3(4,10,l.xi3(5,13,o.time,r.minutesGap),r.timeUnit.MINUTE)," ")}}function Ki(m,a){if(1&m&&(l.TgZ(0,"div",10),l.YNc(1,$i,6,20,"div",11),l.qZA()),2&m){const o=l.oxw();l.xp6(1),l.Q6J("ngForOf",o.faceTime)("ngForTrackBy",o.trackByTime)}}function Wi(m,a){1&m&&l.Hsn(0,0,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}const ki=function(m){return{$implicit:m}};function Xi(m,a){if(1&m&&(l.TgZ(0,"div",12),l.YNc(1,Wi,1,0,"ng-content",14),l.qZA()),2&m){const o=a.$implicit;l.oxw(2);const r=l.MAs(1);l.Q6J("ngStyle",l.VKq(3,to,"rotateZ("+o.angle+"deg)")),l.xp6(1),l.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",l.VKq(5,ki,o))}}function ta(m,a){1&m&&l.Hsn(0,1,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function Un(m,a){if(1&m&&(l.TgZ(0,"div",17),l.YNc(1,ta,1,0,"ng-content",14),l.qZA()),2&m){const o=a.$implicit,r=l.oxw(3),d=l.MAs(1);l.Udp("top","calc(50% - "+r.innerClockFaceSize+"px)")("height",r.innerClockFaceSize,"px"),l.Q6J("ngStyle",l.VKq(7,to,"rotateZ("+o.angle+"deg)")),l.xp6(1),l.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",l.VKq(9,ki,o))}}function bo(m,a){if(1&m&&(l.TgZ(0,"div",15),l.YNc(1,Un,2,11,"div",16),l.ALo(2,"slice"),l.qZA()),2&m){const o=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",l.Dn7(2,2,o.faceTime,12,24))("ngForTrackBy",o.trackByTime)}}function ea(m,a){if(1&m&&(l.TgZ(0,"div",10),l.YNc(1,Xi,2,7,"div",11),l.ALo(2,"slice"),l.YNc(3,bo,3,6,"div",13),l.qZA()),2&m){const o=l.oxw();l.xp6(1),l.Q6J("ngForOf",l.Dn7(2,3,o.faceTime,0,12))("ngForTrackBy",o.trackByTime),l.xp6(2),l.Q6J("ngIf",o.faceTime.length>12)}}function wi(m,a){if(1&m&&(l.TgZ(0,"button",18),l._UZ(1,"span",19),l.qZA()),2&m){const o=l.oxw();l.Q6J("color",o.color)}}const Oi=["*","*"],na=function(m){return{"clock-face__clock-hand_minute":m}};function oa(m,a){if(1&m){const o=l.EpF();l.TgZ(0,"div",5),l.NdJ("@scaleInOut.done",function(){l.CHM(o);const d=l.oxw(2);return l.KtG(d.animationDone())}),l.TgZ(1,"p"),l._uU(2,"Current time would be invalid in this period."),l.qZA()()}2&m&&l.Q6J("@scaleInOut",void 0)}function ia(m,a){if(1&m&&l.YNc(0,oa,3,1,"div",4),2&m){const o=l.oxw();l.Q6J("ngIf",!o.isPeriodAvailable)}}const eo=function(m){return{active:m}};function aa(m,a){if(1&m){const o=l.EpF();l.TgZ(0,"input",2),l.NdJ("ngModelChange",function(d){l.CHM(o);const g=l.oxw();return l.KtG(g.time=d)})("input",function(){l.CHM(o);const d=l.oxw();return l.KtG(d.updateTime())})("focus",function(d){l.CHM(o);const g=l.oxw();return l.KtG(g.saveTimeAndChangeTimeUnit(d,g.timeUnit))}),l.ALo(1,"timeLocalizer"),l.qZA()}if(2&m){const o=l.oxw();l.Q6J("ngClass",l.VKq(8,eo,o.isActive))("ngModel",l.Dn7(1,4,o.time,o.timeUnit,!0))("disabled",o.disabled)("ngxMatTimepickerAutofocus",o.isActive)}}function sa(m,a){if(1&m){const o=l.EpF();l.TgZ(0,"input",3),l.NdJ("ngModelChange",function(d){l.CHM(o);const g=l.oxw();return l.KtG(g.onModelChange(d))})("input",function(){l.CHM(o);const d=l.oxw();return l.KtG(d.updateTime())})("focus",function(d){l.CHM(o);const g=l.oxw();return l.KtG(g.saveTimeAndChangeTimeUnit(d,g.timeUnit))})("keydown",function(d){l.CHM(o);const g=l.oxw();return l.KtG(g.onKeydown(d))})("keypress",function(d){l.CHM(o);const g=l.oxw();return l.KtG(g.changeTimeByKeyboard(d))}),l.ALo(1,"timeLocalizer"),l.ALo(2,"ngxMatTimepickerParser"),l.qZA()}if(2&m){const o=l.oxw();l.Q6J("ngClass",l.VKq(11,eo,o.isActive))("ngModel",l.Dn7(1,4,l.xi3(2,8,o.time,o.timeUnit),o.timeUnit,!0))("disabled",o.disabled)("ngxMatTimepickerAutofocus",o.isActive)}}function ra(m,a){if(1&m){const o=l.EpF();l.TgZ(0,"ngx-mat-timepicker-period",7),l.NdJ("periodChanged",function(d){l.CHM(o);const g=l.oxw();return l.KtG(g.changePeriod(d))}),l.qZA()}if(2&m){const o=l.oxw();l.Q6J("selectedPeriod",o.period)("activeTimeUnit",o.activeTimeUnit)("maxTime",o.maxTime)("minTime",o.minTime)("format",o.format)("hours",o.hours)("minutes",o.minutes)("selectedHour",o.hour)("meridiems",o.meridiems)}}function la(m,a){1&m&&l.GkF(0)}function ca(m,a){1&m&&(l.TgZ(0,"small",11),l._uU(1," * use arrows ("),l.TgZ(2,"span"),l._uU(3,"\u21c5"),l.qZA(),l._uU(4,") to change the time"),l.qZA())}const ma=function(m){return{"timepicker-dial__hint-container--hidden":m}};function _a(m,a){if(1&m&&(l.TgZ(0,"div",8),l.YNc(1,la,1,0,"ng-container",9),l.YNc(2,ca,5,0,"ng-template",null,10,l.W1O),l.qZA()),2&m){const o=l.MAs(3),r=l.oxw();l.Q6J("ngClass",l.VKq(2,ma,!r.isHintVisible)),l.xp6(1),l.Q6J("ngTemplateOutlet",r.editableHintTmpl?r.editableHintTmpl:o)}}function da(m,a){1&m&&l.GkF(0)}function ua(m,a){if(1&m&&(l.TgZ(0,"div"),l.YNc(1,da,1,0,"ng-container",3),l.qZA()),2&m){l.oxw();const o=l.MAs(4);l.xp6(1),l.Q6J("ngTemplateOutlet",o)}}function pa(m,a){1&m&&l.GkF(0)}function ga(m,a){if(1&m&&l.YNc(0,pa,1,0,"ng-container",3),2&m){l.oxw();const o=l.MAs(4);l.Q6J("ngTemplateOutlet",o)}}function ha(m,a){1&m&&l.Hsn(0)}const fa=["*"];function yi(m,a){if(1&m&&(l.TgZ(0,"button",14),l._uU(1,"CANCEL "),l.qZA()),2&m){const o=l.oxw();l.Q6J("color",o.color)}}function xa(m,a){if(1&m&&(l.TgZ(0,"button",14),l._uU(1,"OK "),l.qZA()),2&m){const o=l.oxw();l.Q6J("color",o.color)}}function va(m,a){if(1&m){const o=l.EpF();l.TgZ(0,"ngx-mat-timepicker-24-hours-face",17),l.NdJ("hourChange",function(d){l.CHM(o);const g=l.oxw(2);return l.KtG(g.onHourChange(d))})("hourSelected",function(d){l.CHM(o);const g=l.oxw(2);return l.KtG(g.onHourSelected(d))}),l.ALo(1,"async"),l.qZA()}if(2&m){const o=l.oxw(2);l.Q6J("color",o.color)("selectedHour",l.lcZ(1,5,o.selectedHour))("minTime",o.data.minTime)("maxTime",o.data.maxTime)("format",o.data.format)}}function ba(m,a){if(1&m){const o=l.EpF();l.TgZ(0,"ngx-mat-timepicker-12-hours-face",18),l.NdJ("hourChange",function(d){l.CHM(o);const g=l.oxw(2);return l.KtG(g.onHourChange(d))})("hourSelected",function(d){l.CHM(o);const g=l.oxw(2);return l.KtG(g.onHourSelected(d))}),l.ALo(1,"async"),l.ALo(2,"async"),l.qZA()}if(2&m){const o=l.oxw(2);l.Q6J("color",o.color)("selectedHour",l.lcZ(1,5,o.selectedHour))("period",l.lcZ(2,7,o.selectedPeriod))("minTime",o.data.minTime)("maxTime",o.data.maxTime)}}function Ta(m,a){if(1&m&&(l.TgZ(0,"div"),l.YNc(1,va,2,7,"ngx-mat-timepicker-24-hours-face",15),l.YNc(2,ba,3,9,"ng-template",null,16,l.W1O),l.qZA()),2&m){const o=l.MAs(3),r=l.oxw();l.xp6(1),l.Q6J("ngIf",24===r.data.format)("ngIfElse",o)}}function Ca(m,a){if(1&m){const o=l.EpF();l.TgZ(0,"ngx-mat-timepicker-minutes-face",19),l.NdJ("minuteChange",function(d){l.CHM(o);const g=l.oxw();return l.KtG(g.onMinuteChange(d))}),l.ALo(1,"async"),l.ALo(2,"async"),l.ALo(3,"async"),l.qZA()}if(2&m){const o=l.oxw();let r;l.Q6J("color",o.color)("selectedMinute",l.lcZ(1,8,o.selectedMinute))("selectedHour",null==(r=l.lcZ(2,10,o.selectedHour))?null:r.time)("minTime",o.data.minTime)("maxTime",o.data.maxTime)("format",o.data.format)("period",l.lcZ(3,12,o.selectedPeriod))("minutesGap",o.data.minutesGap)}}function ka(m,a){1&m&&l.GkF(0)}function wa(m,a){1&m&&l.GkF(0)}function Oa(m,a){if(1&m&&(l.TgZ(0,"button",14),l._uU(1,"CANCEL "),l.qZA()),2&m){const o=l.oxw();l.Q6J("color",o.color)}}function ya(m,a){if(1&m&&(l.TgZ(0,"button",14),l._uU(1,"OK "),l.qZA()),2&m){const o=l.oxw();l.Q6J("color",o.color)}}function Za(m,a){if(1&m){const o=l.EpF();l.TgZ(0,"ngx-mat-timepicker-24-hours-face",17),l.NdJ("hourChange",function(d){l.CHM(o);const g=l.oxw(2);return l.KtG(g.onHourChange(d))})("hourSelected",function(d){l.CHM(o);const g=l.oxw(2);return l.KtG(g.onHourSelected(d))}),l.ALo(1,"async"),l.qZA()}if(2&m){const o=l.oxw(2);l.Q6J("color",o.color)("selectedHour",l.lcZ(1,5,o.selectedHour))("minTime",o.data.minTime)("maxTime",o.data.maxTime)("format",o.data.format)}}function Aa(m,a){if(1&m){const o=l.EpF();l.TgZ(0,"ngx-mat-timepicker-12-hours-face",18),l.NdJ("hourChange",function(d){l.CHM(o);const g=l.oxw(2);return l.KtG(g.onHourChange(d))})("hourSelected",function(d){l.CHM(o);const g=l.oxw(2);return l.KtG(g.onHourSelected(d))}),l.ALo(1,"async"),l.ALo(2,"async"),l.qZA()}if(2&m){const o=l.oxw(2);l.Q6J("color",o.color)("selectedHour",l.lcZ(1,5,o.selectedHour))("period",l.lcZ(2,7,o.selectedPeriod))("minTime",o.data.minTime)("maxTime",o.data.maxTime)}}function Sa(m,a){if(1&m&&(l.TgZ(0,"div"),l.YNc(1,Za,2,7,"ngx-mat-timepicker-24-hours-face",15),l.YNc(2,Aa,3,9,"ng-template",null,16,l.W1O),l.qZA()),2&m){const o=l.MAs(3),r=l.oxw();l.xp6(1),l.Q6J("ngIf",24===r.data.format)("ngIfElse",o)}}function Ia(m,a){if(1&m){const o=l.EpF();l.TgZ(0,"ngx-mat-timepicker-minutes-face",19),l.NdJ("minuteChange",function(d){l.CHM(o);const g=l.oxw();return l.KtG(g.onMinuteChange(d))}),l.ALo(1,"async"),l.ALo(2,"async"),l.ALo(3,"async"),l.qZA()}if(2&m){const o=l.oxw();let r;l.Q6J("color",o.color)("selectedMinute",l.lcZ(1,8,o.selectedMinute))("selectedHour",null==(r=l.lcZ(2,10,o.selectedHour))?null:r.time)("minTime",o.data.minTime)("maxTime",o.data.maxTime)("format",o.data.format)("period",l.lcZ(3,12,o.selectedPeriod))("minutesGap",o.data.minutesGap)}}function Ma(m,a){1&m&&l.GkF(0)}function ja(m,a){1&m&&l.GkF(0)}function Na(m,a){1&m&&l._UZ(0,"ngx-mat-timepicker-standalone")}function La(m,a){1&m&&(l.O4$(),l.TgZ(0,"svg",2),l._UZ(1,"path",3),l.qZA())}const Da=[[["","ngxMatTimepickerToggleIcon",""]]],Ea=["[ngxMatTimepickerToggleIcon]"];function Pa(m,a){if(1&m&&(l.TgZ(0,"mat-option",12),l._uU(1),l.qZA()),2&m){const o=a.$implicit;l.Q6J("value",o),l.xp6(1),l.Oqu(o)}}function Ua(m,a){if(1&m){const o=l.EpF();l.TgZ(0,"mat-form-field",9)(1,"mat-select",10),l.NdJ("selectionChange",function(d){l.CHM(o);const g=l.oxw();return l.KtG(g.changePeriod(d))}),l.YNc(2,Pa,2,2,"mat-option",11),l.qZA()()}if(2&m){const o=l.oxw();l.Q6J("color",o.color),l.xp6(1),l.Q6J("disabled",o.disabled||o.isChangePeriodDisabled)("ngModel",o.period),l.xp6(1),l.Q6J("ngForOf",o.periods)}}function za(m,a){1&m&&l.GkF(0)}function Fa(m,a){if(1&m&&(l.TgZ(0,"ngx-mat-timepicker-toggle",13)(1,"span",14),l.YNc(2,za,1,0,"ng-container",15),l.qZA()()),2&m){const o=l.oxw(),r=l.MAs(8),d=l.MAs(10);l.Q6J("for",r)("disabled",o.disabled),l.xp6(2),l.Q6J("ngTemplateOutlet",o.toggleIcon||d)}}function Ja(m,a){1&m&&(l.TgZ(0,"mat-icon"),l._uU(1,"watch_later"),l.qZA())}const qa=function(m){return{"ngx-mat-timepicker--disabled":m}};var hn=function(m){return m.TWELVE="hh:mm a",m.TWELVE_SHORT="h:m a",m.TWENTY_FOUR="HH:mm",m.TWENTY_FOUR_SHORT="H:m",m}(hn||{}),ge=function(m){return m.AM="AM",m.PM="PM",m}(ge||{});let Ut=(()=>{class m{static formatHour(o,r,d){if(this.isTwentyFour(r))return o;const g=d===ge.AM?o:o+12;return d===ge.AM&&12===g?0:d===ge.PM&&24===g?12:g}static formatTime(o,r){if(!o)return"Invalid Time";const d=this.parseTime(o,r).setLocale(this.defaultLocale);if(!d.isValid)return"Invalid time";const g=!this.isTwentyFour(r.format);return g?d.toLocaleString({...et.TIME_SIMPLE,hour12:g}).replace(/\u200E/g,""):d.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static fromDateTimeToString(o,r){return o.reconfigure({numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}).toFormat(this.isTwentyFour(r)?hn.TWENTY_FOUR:hn.TWELVE)}static isBetween(o,r,d,g="minutes"){const y="hours"===g?g:void 0;return this.isSameOrBefore(o,d,y)&&this.isSameOrAfter(o,r,y)}static isSameOrAfter(o,r,d="minutes"){return"hours"===d?o.hour>=r.hour:o.hasSame(r,d)||o.valueOf()>r.valueOf()}static isSameOrBefore(o,r,d="minutes"){return"hours"===d?o.hour<=r.hour:o.hasSame(r,d)||o.valueOf()<=r.valueOf()}static isTimeAvailable(o,r,d,g,y,M){if(!o)return;const L=this.parseTime(o,{format:M}),H=L.minute;if(y&&H==H&&H%y!=0)throw new Error(`Your minutes - ${H} doesn't match your minutesGap - ${y}`);const G=r&&!d&&this.isSameOrAfter(L,r,g),Y=d&&!r&&this.isSameOrBefore(L,d,g),it=r&&d&&this.isBetween(L,r,d,g);return G||Y||it||!r&&!d}static isTwentyFour(o){return 24===o}static parseTime(o,r){const d=this._getLocaleOptionsByTime(o,r);let g=hn.TWENTY_FOUR_SHORT;return o.match(/\s/g)&&(o=o.replace(/\.\s*/g,""),g=hn.TWELVE_SHORT),et.fromFormat(o.replace(/\s+/g," "),g,{numberingSystem:d.numberingSystem,locale:d.locale})}static toLocaleTimeString(o,r={}){const{format:d=this.defaultFormat,locale:g=this.defaultLocale}=r;let y="h12",M=hn.TWELVE_SHORT;return this.isTwentyFour(d)&&(y="h23",M=hn.TWENTY_FOUR_SHORT),et.fromFormat(o,M).reconfigure({locale:g,numberingSystem:r.numberingSystem,defaultToEN:r.defaultToEN,outputCalendar:r.outputCalendar}).toLocaleString({...et.TIME_SIMPLE,hourCycle:y})}static _getLocaleOptionsByTime(o,r){const{numberingSystem:d,locale:g}=et.now().reconfigure({locale:r.locale,numberingSystem:r.numberingSystem,outputCalendar:r.outputCalendar,defaultToEN:r.defaultToEN}).resolvedLocaleOptions();return isNaN(parseInt(o,10))?{numberingSystem:d,locale:g}:{numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}}}return m.defaultFormat=12,m.defaultLocale="en-US",m.defaultNumberingSystem="latn",m})();var ke=function(m){return m[m.HOUR=0]="HOUR",m[m.MINUTE=1]="MINUTE",m}(ke||{});const no=new l.OlP("NGX_MAT_TIMEPICKER_CONFIG"),To={time:12,angle:360},Co={time:0,angle:360};let oo=(()=>{class m{constructor(){this._hour$=new Yn.X(To),this._minute$=new Yn.X(Co),this._period$=new Yn.X(ge.AM)}set hour(o){this._hour$.next(o)}set minute(o){this._minute$.next(o)}set period(o){(o===ge.AM||o===ge.PM)&&this._period$.next(o)}get selectedHour(){return this._hour$.asObservable()}get selectedMinute(){return this._minute$.asObservable()}get selectedPeriod(){return this._period$.asObservable()}getFullTime(o){const r=this._hour$.getValue().time,d=this._minute$.getValue().time,L=`${r??To.time}:${d??Co.time} ${12===o?this._period$.getValue():""}`.trim();return Ut.formatTime(L,{format:o})}setDefaultTimeIfAvailable(o,r,d,g,y){o||this._resetTime();try{Ut.isTimeAvailable(o,r,d,"minutes",y)&&this._setDefaultTime(o,g)}catch(M){console.error(M)}}_resetTime(){this.hour={...To},this.minute={...Co},this.period=ge.AM}_setDefaultTime(o,r){const d=Ut.parseTime(o,{format:r});if(d.isValid){const g=o.substring(o.length-2).toUpperCase(),y=d.hour;this.hour={...To,time:Qa(y,g)},this.minute={...Co,time:d.minute},this.period=g}else this._resetTime()}}return m.\u0275fac=function(o){return new(o||m)},m.\u0275prov=l.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();function Qa(m,a){switch(a){case ge.AM:return 0===m?12:m;case ge.PM:return 12===m?12:m-12;default:return m}}let zn=(()=>{class m{get backdropClick(){return this._backdropClick$.asObservable().pipe((0,Wn.d)({bufferSize:1,refCount:!0}))}get keydownEvent(){return this._keydownEvent$.asObservable().pipe((0,Wn.d)({bufferSize:1,refCount:!0}))}constructor(){this._backdropClick$=new Kn.x,this._keydownEvent$=new Kn.x}dispatchEvent(o){switch(o.type){case"click":this._backdropClick$.next(o);break;case"keydown":this._keydownEvent$.next(o);break;default:throw new Error("no such event type")}}}return m.\u0275fac=function(o){return new(o||m)},m.\u0275prov=l.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const Zi=new l.OlP("TimeLocale",{providedIn:"root",factory:()=>Ut.defaultLocale});let mn=(()=>{class m{get locale(){return this._locale}constructor(o){this._locale=o}updateLocale(o){this._locale=o||this._initialLocale}}return m.\u0275fac=function(o){return new(o||m)(l.LFG(Zi))},m.\u0275prov=l.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),Ai=(()=>{class m{set color(o){this._color=o}get color(){return this._color}get defaultTime(){return this._defaultTime}set defaultTime(o){this._defaultTime=o,this._setDefaultTime(o)}get _locale(){return this._timepickerLocaleSrv.locale}constructor(o,r,d,g){this._timepickerSrv=o,this._eventSrv=r,this._timepickerLocaleSrv=d,this.data=g,this.activeTimeUnit=ke.HOUR,this.timeUnit=ke,this._color="primary",this._subsCtrl$=new Kn.x,this.color=g.color,this.defaultTime=g.defaultTime}changePeriod(o){this._timepickerSrv.period=o,this._onTimeChange()}changeTimeUnit(o){this.activeTimeUnit=o}close(){this.data.timepickerBaseRef.close()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._defineTime(),this.selectedHour=this._timepickerSrv.selectedHour.pipe((0,Wn.d)({bufferSize:1,refCount:!0})),this.selectedMinute=this._timepickerSrv.selectedMinute.pipe((0,Wn.d)({bufferSize:1,refCount:!0})),this.selectedPeriod=this._timepickerSrv.selectedPeriod.pipe((0,Wn.d)({bufferSize:1,refCount:!0})),this.data.timepickerBaseRef.timeUpdated.pipe((0,Ko.R)(this._subsCtrl$)).subscribe({next:o=>{o&&this._setDefaultTime(o)}})}onHourChange(o){this._timepickerSrv.hour=o,this._onTimeChange()}onHourSelected(o){this.data.hoursOnly||this.changeTimeUnit(ke.MINUTE),this.data.timepickerBaseRef.hourSelected.next(o)}onKeydown(o){this._eventSrv.dispatchEvent(o),o.stopPropagation()}onMinuteChange(o){this._timepickerSrv.minute=o,this._onTimeChange()}setTime(){this.data.timepickerBaseRef.timeSet.emit(this._timepickerSrv.getFullTime(this.data.format)),this.close()}_defineTime(){const o=this.data.minTime;if(o&&!this.data.time&&!this.data.defaultTime){const r=Ut.fromDateTimeToString(o,this.data.format);this._setDefaultTime(r)}}_onTimeChange(){const o=Ut.toLocaleTimeString(this._timepickerSrv.getFullTime(this.data.format),{locale:this._locale,format:this.data.format});this.data.timepickerBaseRef.timeChanged.emit(o)}_setDefaultTime(o){this._timepickerSrv.setDefaultTimeIfAvailable(o,this.data.minTime,this.data.maxTime,this.data.format,this.data.minutesGap)}}return m.\u0275fac=function(o){return new(o||m)(l.Y36(oo),l.Y36(zn),l.Y36(mn),l.Y36(no))},m.\u0275dir=l.lG2({type:m,selectors:[["","ngxMatTimepickerBase",""]],hostBindings:function(o,r){1&o&&l.NdJ("keydown",function(g){return r.onKeydown(g)})},inputs:{color:"color",defaultTime:"defaultTime"},standalone:!0}),m})();class Wt{static disableHours(a,o){return o.min||o.max?a.map(r=>{const d=Ut.isTwentyFour(o.format)?r.time:Ut.formatHour(r.time,o.format,o.period),g=et.fromObject({hour:d}).toFormat(hn.TWELVE);return{...r,disabled:!Ut.isTimeAvailable(g,o.min,o.max,"hours")}}):a}static disableMinutes(a,o,r){if(r.min||r.max){const d=Ut.formatHour(o,r.format,r.period);let g=et.fromObject({hour:d,minute:0});return a.map(y=>(g=g.set({minute:y.time}),{...y,disabled:!Ut.isTimeAvailable(g.toFormat(hn.TWELVE),r.min,r.max,"minutes")}))}return a}static getHours(a){return Array(a).fill(1).map((o,r)=>{const g=o+r;return{time:24===g?0:g,angle:30*g}})}static getMinutes(a=1){const d=[];for(let g=0;g<60;g++){const y=6*g;g%a==0&&d.push({time:g,angle:0!==y?y:360})}return d}static isDigit(a){return!!([46,8,9,27,13].some(o=>o===a.keyCode)||65===a.keyCode&&(!0===a.ctrlKey||!0===a.metaKey)||67===a.keyCode&&(!0===a.ctrlKey||!0===a.metaKey)||88===a.keyCode&&(!0===a.ctrlKey||!0===a.metaKey)||a.keyCode>=35&&a.keyCode<=40)||!((a.keyCode<48||a.keyCode>57)&&(a.keyCode<96||a.keyCode>105))}}var io=function(m){return m.hour="hour",m.minute="minute",m}(io||{});let ei=(()=>{class m{get _locale(){return this._timepickerLocaleSrv.locale}constructor(o){this._timepickerLocaleSrv=o}transform(o,r,d=!1){if(null==o||""===o)return"";switch(r){case ke.HOUR:return this._formatTime(io.hour,o,0===o||d?"HH":"H");case ke.MINUTE:return this._formatTime(io.minute,o,"mm");default:throw new Error(`There is no Time Unit with type ${r}`)}}_formatTime(o,r,d){try{return et.fromObject({[o]:+r}).setLocale(this._locale).toFormat(d)}catch{throw new Error(`Cannot format provided time - ${r} to locale - ${this._locale}`)}}}return m.\u0275fac=function(o){return new(o||m)(l.Y36(mn,16))},m.\u0275pipe=l.Yjl({name:"timeLocalizer",type:m,pure:!0,standalone:!0}),m})(),Ya=(()=>{class m{transform(o,r=5){return o&&(o%r==0?o:"")}}return m.\u0275fac=function(o){return new(o||m)},m.\u0275pipe=l.Yjl({name:"minutesFormatter",type:m,pure:!0,standalone:!0}),m})(),Ba=(()=>{class m{transform(o,r,d,g){return null!=o&&!g&&r===o&&o%(d||5)==0}}return m.\u0275fac=function(o){return new(o||m)},m.\u0275pipe=l.Yjl({name:"activeMinute",type:m,pure:!0,standalone:!0}),m})(),Ha=(()=>{class m{transform(o,r,d){return null!=o&&!d&&o===r}}return m.\u0275fac=function(o){return new(o||m)},m.\u0275pipe=l.Yjl({name:"activeHour",type:m,pure:!0,standalone:!0}),m})();const ko_small_height="75px",ko_small_top="calc(50% - 75px)",ko_large_height="103px",ko_large_top="calc(50% - 103px)";let wo=(()=>{class m{constructor(){this.color="primary",this.innerClockFaceSize=85,this.timeChange=new l.vpe,this.timeSelected=new l.vpe,this.timeUnit=ke}ngAfterViewInit(){this._setClockHandPosition(),this._addTouchEvents()}ngOnChanges(o){const r=o.faceTime,d=o.selectedTime;r&&r.currentValue&&d&&d.currentValue&&(this.selectedTime=this.faceTime.find(g=>g.time===this.selectedTime.time)),d&&d.currentValue&&this._setClockHandPosition(),r&&r.currentValue&&setTimeout(()=>this._selectAvailableTime())}ngOnDestroy(){this._removeTouchEvents()}onMousedown(o){o.preventDefault(),this._isStarted=!0}onMouseup(o){o.preventDefault(),this._isStarted=!1}selectTime(o){if(!this._isStarted&&o instanceof MouseEvent&&"click"!==o.type)return;const r=this.clockFace.nativeElement.getBoundingClientRect(),d=r.left+r.width/2,g=r.top+r.height/2,y=180*Math.atan(Math.abs(o.clientX-d)/Math.abs(o.clientY-g))/Math.PI,M=function Va(m,a,o,r,d){return r>a&&o>=m?180-d:r>a&&o<m?180+d:r<a&&o<m?360-d:d}(d,g,o.clientX,o.clientY,y),L=this.format&&this._isInnerClockFace(d,g,o.clientX,o.clientY),Y=(function Ga(m,a){return Math.round(m/a)*a}(M,this.unit===ke.MINUTE?6*(this.minutesGap||1):30)||360)+(L?360:0),it=this.faceTime.find(nt=>nt.angle===Y);it&&!it.disabled&&(this.timeChange.next(it),this._isStarted||this.timeSelected.next(it.time))}trackByTime(o,r){return r.time}_addTouchEvents(){this._touchStartHandler=this.onMousedown.bind(this),this._touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this._touchEndHandler)}_decreaseClockHand(){this.clockHand.nativeElement.style.height=ko_small_height,this.clockHand.nativeElement.style.top=ko_small_top}_increaseClockHand(){this.clockHand.nativeElement.style.height=ko_large_height,this.clockHand.nativeElement.style.top=ko_large_top}_isInnerClockFace(o,r,d,g){return Math.sqrt(Math.pow(d-o,2)+Math.pow(g-r,2))<this.innerClockFaceSize}_removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this._touchEndHandler)}_selectAvailableTime(){const o=this.faceTime.find(r=>this.selectedTime.time===r.time);if(this.isClockFaceDisabled=this.faceTime.every(r=>r.disabled),o&&o.disabled&&!this.isClockFaceDisabled){const r=this.faceTime.find(d=>!d.disabled);this.timeChange.next(r)}}_setClockHandPosition(){Ut.isTwentyFour(this.format)&&(this.selectedTime.time>12||0===this.selectedTime.time?this._decreaseClockHand():this._increaseClockHand()),this.selectedTime&&(this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`)}}return m.\u0275fac=function(o){return new(o||m)},m.\u0275cmp=l.Xpm({type:m,selectors:[["ngx-mat-timepicker-face"]],viewQuery:function(o,r){if(1&o&&(l.Gf(Gi,7),l.Gf(Vi,7,l.SBq)),2&o){let d;l.iGM(d=l.CRH())&&(r.clockFace=d.first),l.iGM(d=l.CRH())&&(r.clockHand=d.first)}},hostBindings:function(o,r){1&o&&l.NdJ("mousedown",function(g){return r.onMousedown(g)})("mouseup",function(g){return r.onMouseup(g)})("click",function(g){return r.selectTime(g)})("touchmove",function(g){return r.selectTime(g.changedTouches[0])})("touchend",function(g){return r.selectTime(g.changedTouches[0])})("mousemove",function(g){return r.selectTime(g)})},inputs:{color:"color",faceTime:"faceTime",format:"format",minutesGap:"minutesGap",selectedTime:"selectedTime",unit:"unit"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:Oi,decls:11,vars:9,consts:[["hourButton",""],["minutesFace",""],[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"color","ngClass","hidden"],["clockHand",""],["mat-mini-fab","",3,"color",4,"ngIf"],[1,"clock-face__center",3,"color"],["mat-mini-fab","","disableRipple","",1,"mat-elevation-z0",3,"color","ngStyle","disabled"],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],["class","clock-face__inner",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"top","ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"],["mat-mini-fab","",3,"color"],[1,"clock-face__clock-hand_minute_dot"]],template:function(o,r){if(1&o&&(l.F$t(Oi),l.YNc(0,Ri,4,13,"ng-template",null,0,l.W1O),l.YNc(2,Ki,2,2,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2,3),l.YNc(6,ea,4,7,"div",4),l.TgZ(7,"mat-toolbar",5,6),l.YNc(9,wi,2,1,"button",7),l.qZA(),l._UZ(10,"mat-toolbar",8),l.qZA()),2&o){const d=l.MAs(3);l.xp6(6),l.Q6J("ngIf",r.unit!==r.timeUnit.MINUTE)("ngIfElse",d),l.xp6(1),l.Q6J("color",r.color)("ngClass",l.VKq(7,na,r.unit===r.timeUnit.MINUTE))("hidden",r.isClockFaceDisabled),l.xp6(2),l.Q6J("ngIf",r.unit===r.timeUnit.MINUTE),l.xp6(1),l.Q6J("color",r.color)}},dependencies:[ln.ot,ln.nh,Nt.PC,Nt.ax,Nt.O5,Nt.tP,En.g0,En.Ye,Nt.mk,Nt.OU,Ha,Ba,Ya,ei],styles:["ngx-mat-timepicker-face .clock-face{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;box-sizing:border-box;background-color:#c8c8c880!important}ngx-mat-timepicker-face .clock-face__inner{position:absolute;top:0;left:0;width:100%;height:100%}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void{box-shadow:none;background-color:transparent}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void>span.mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face .clock-face__container{margin-left:-2px}ngx-mat-timepicker-face .clock-face__number{position:absolute;transform-origin:25px 100%;width:50px;text-align:center;z-index:2;top:calc(50% - 125px);left:calc(50% - 25px)}ngx-mat-timepicker-face .clock-face__number--outer{height:125px}ngx-mat-timepicker-face .clock-face__number--outer>span{font-size:16px}ngx-mat-timepicker-face .clock-face__number--inner>span{font-size:14px}ngx-mat-timepicker-face .clock-face__clock-hand{height:103px;width:2px;padding:0;transform-origin:1px 100%;position:absolute;top:calc(50% - 103px);z-index:1}ngx-mat-timepicker-face .clock-face__center{width:8px;height:8px;padding:0;position:absolute;border-radius:50%;top:50%;left:50%;margin:-4px}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button{position:absolute;top:-22px;left:calc(50% - 20px);box-sizing:content-box;display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button .clock-face__clock-hand_minute_dot{display:block;width:4px;height:4px;background:#FFF;border-radius:50%}@media (max-device-width: 1023px) and (orientation: landscape){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}@media screen and (max-width: 360px){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}\n"],encapsulation:2,changeDetection:0}),m})(),ni=(()=>{class m{set color(o){this._color=o}get color(){return this._color}constructor(){this.minuteChange=new l.vpe,this.minutesList=[],this.timeUnit=ke,this._color="primary"}ngOnChanges(o){if(o.period&&o.period.currentValue){const r=Wt.getMinutes(this.minutesGap);this.minutesList=Wt.disableMinutes(r,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}}return m.\u0275fac=function(o){return new(o||m)},m.\u0275cmp=l.Xpm({type:m,selectors:[["ngx-mat-timepicker-minutes-face"]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",minutesGap:"minutesGap",period:"period",selectedHour:"selectedHour",selectedMinute:"selectedMinute"},outputs:{minuteChange:"minuteChange"},standalone:!0,features:[l.TTD,l.jDz],decls:1,vars:5,consts:[[3,"color","faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(o,r){1&o&&(l.TgZ(0,"ngx-mat-timepicker-face",0),l.NdJ("timeChange",function(g){return r.minuteChange.next(g)}),l.qZA()),2&o&&l.Q6J("color",r.color)("faceTime",r.minutesList)("selectedTime",r.selectedMinute)("minutesGap",r.minutesGap)("unit",r.timeUnit.MINUTE)},dependencies:[wo],encapsulation:2}),m})(),Si=(()=>{class m{set color(o){this._color=o}get color(){return this._color}set format(o){this._format=o,this.hoursList=Wt.getHours(this._format)}get format(){return this._format}constructor(){this.hourChange=new l.vpe,this.hourSelected=new l.vpe,this.hoursList=[],this._color="primary",this._format=24}onTimeSelected(o){this.hourSelected.next(o)}}return m.\u0275fac=function(o){return new(o||m)},m.\u0275dir=l.lG2({type:m,selectors:[["","ngxMatTimepickerHoursFace",""]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",selectedHour:"selectedHour"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"},standalone:!0}),m})(),oi=(()=>{class m extends Si{constructor(){super(),this.format=12}ngOnChanges(o){o.period&&o.period.currentValue&&(this.hoursList=Wt.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}}return m.\u0275fac=function(o){return new(o||m)},m.\u0275cmp=l.Xpm({type:m,selectors:[["ngx-mat-timepicker-12-hours-face"]],inputs:{period:"period"},standalone:!0,features:[l.qOj,l.TTD,l.jDz],decls:1,vars:3,consts:[[3,"color","selectedTime","faceTime","timeChange","timeSelected"]],template:function(o,r){1&o&&(l.TgZ(0,"ngx-mat-timepicker-face",0),l.NdJ("timeChange",function(g){return r.hourChange.next(g)})("timeSelected",function(g){return r.onTimeSelected(g)}),l.qZA()),2&o&&l.Q6J("color",r.color)("selectedTime",r.selectedHour)("faceTime",r.hoursList)},dependencies:[wo],encapsulation:2,changeDetection:0}),m})(),ii=(()=>{class m extends Si{constructor(){super(),this.format=24}ngAfterContentInit(){this.hoursList=Wt.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}}return m.\u0275fac=function(o){return new(o||m)},m.\u0275cmp=l.Xpm({type:m,selectors:[["ngx-mat-timepicker-24-hours-face"]],standalone:!0,features:[l.qOj,l.jDz],decls:1,vars:4,consts:[[3,"color","selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(o,r){1&o&&(l.TgZ(0,"ngx-mat-timepicker-face",0),l.NdJ("timeChange",function(g){return r.hourChange.next(g)})("timeSelected",function(g){return r.onTimeSelected(g)}),l.qZA()),2&o&&l.Q6J("color",r.color)("selectedTime",r.selectedHour)("faceTime",r.hoursList)("format",r.format)},dependencies:[wo],encapsulation:2,changeDetection:0}),m})(),Ra=(()=>{class m{constructor(o){this._overlay=o,this.isPeriodAvailable=!0,this.overlayScrollStrategy=this._overlay.scrollStrategies.reposition(),this.periodChanged=new l.vpe,this.timePeriod=ge}animationDone(){this.isPeriodAvailable=!0}changePeriod(o){this.isPeriodAvailable=this._isSwitchPeriodAvailable(o),this.isPeriodAvailable&&this.periodChanged.next(o)}_getDisabledTimeByPeriod(o){switch(this.activeTimeUnit){case ke.HOUR:return Wt.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:o});case ke.MINUTE:return Wt.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:o});default:throw new Error("no such NgxMatTimepickerUnits")}}_isSwitchPeriodAvailable(o){return!this._getDisabledTimeByPeriod(o).every(d=>d.disabled)}}return m.\u0275fac=function(o){return new(o||m)(l.Y36(e.aV))},m.\u0275cmp=l.Xpm({type:m,selectors:[["ngx-mat-timepicker-period"]],inputs:{activeTimeUnit:"activeTimeUnit",format:"format",hours:"hours",maxTime:"maxTime",meridiems:"meridiems",minTime:"minTime",minutes:"minutes",selectedHour:"selectedHour",selectedPeriod:"selectedPeriod"},outputs:{periodChanged:"periodChanged"},standalone:!0,features:[l.jDz],decls:7,vars:12,consts:[["cdkOverlayOrigin","",1,"timepicker-period"],["eventPanelOrigin","cdkOverlayOrigin"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["cdkConnectedOverlay","","cdkConnectedOverlayPanelClass","todo-remove-pointer-events-if-necessary",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayPositionStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(o,r){if(1&o&&(l.TgZ(0,"div",0,1)(2,"button",2),l.NdJ("click",function(){return r.changePeriod(r.timePeriod.AM)}),l._uU(3),l.qZA(),l.TgZ(4,"button",2),l.NdJ("click",function(){return r.changePeriod(r.timePeriod.PM)}),l._uU(5),l.qZA()(),l.YNc(6,ia,1,1,"ng-template",3)),2&o){const d=l.MAs(1);l.xp6(2),l.Q6J("ngClass",l.VKq(8,eo,r.selectedPeriod===r.timePeriod.AM)),l.xp6(1),l.Oqu(r.meridiems[0]),l.xp6(1),l.Q6J("ngClass",l.VKq(10,eo,r.selectedPeriod===r.timePeriod.PM)),l.xp6(1),l.Oqu(r.meridiems[1]),l.xp6(1),l.Q6J("cdkConnectedOverlayScrollStrategy",r.overlayScrollStrategy)("cdkConnectedOverlayPositionStrategy",r.overlayPositionStrategy)("cdkConnectedOverlayOrigin",d)("cdkConnectedOverlayOpen",!r.isPeriodAvailable)}},dependencies:[e.xu,Nt.mk,e.pI,Nt.O5],styles:[".timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{opacity:.5;padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;user-select:none;outline:none;border-radius:3px;transition:background-color .5s;color:inherit}.timepicker-period__btn.active[_ngcontent-%COMP%]{opacity:1}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:#00000012}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:#0000008c;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:700;color:#fff}"],data:{animation:[(0,cn.X$)("scaleInOut",[(0,cn.eR)(":enter",[(0,cn.oB)({transform:"scale(0)"}),(0,cn.jt)(".2s",(0,cn.oB)({transform:"scale(1)"})),(0,cn.vP)([(0,cn.jt)("3s",(0,cn.oB)({opacity:1})),(0,cn.jt)(".3s",(0,cn.oB)({opacity:0}))])])])]}}),m})(),Hn=(()=>{class m{get _locale(){return this._timepickerLocaleSrv.locale}constructor(o){this._timepickerLocaleSrv=o,this._numberingSystem=et.local().setLocale(this._locale).resolvedLocaleOptions().numberingSystem}transform(o,r=ke.HOUR){return null==o||""===o?"":isNaN(+o)?r===ke.MINUTE?this._parseTime(o,"mm",io.minute).toString():this._parseTime(o,"HH",io.hour).toString():`${o}`}_parseTime(o,r,d){const g=et.fromFormat(String(o),r,{numberingSystem:this._numberingSystem})[d];if(!isNaN(g))return g;throw new Error(`Cannot parse time - ${o}`)}}return m.\u0275fac=function(o){return new(o||m)(l.Y36(mn,16))},m.\u0275pipe=l.Yjl({name:"ngxMatTimepickerParser",type:m,pure:!0,standalone:!0}),m.\u0275prov=l.Yz7({token:m,factory:m.\u0275fac}),m})(),$a=(()=>{class m{constructor(o,r){this._element=o,this._document=r,this._activeElement=this._document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this._element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this._activeElement.focus({preventScroll:!0}))}}return m.\u0275fac=function(o){return new(o||m)(l.Y36(l.SBq),l.Y36(Nt.K0,8))},m.\u0275dir=l.lG2({type:m,selectors:[["","ngxMatTimepickerAutofocus",""]],inputs:{isFocusActive:["ngxMatTimepickerAutofocus","isFocusActive"]},standalone:!0,features:[l.TTD]}),m})();function Ii(){this.selectionStart=this.selectionEnd}let Mi=(()=>{class m{get _selectedTime(){if(this.time)return this.timeList.find(o=>o.time===+this.time)}constructor(o,r){this._elRef=o,this._timeParserPipe=r,this.focused=new l.vpe,this.timeChanged=new l.vpe,this.timeUnitChanged=new l.vpe,this.unfocused=new l.vpe}changeTimeByKeyboard(o){const r=String.fromCharCode(o.keyCode);(function Ka(m,a,o){if(/\d/.test(a))return ji(m+a,o)})(this.time,r,this.timeList)&&o.preventDefault()}ngAfterViewInit(){this._elRef.nativeElement.querySelector("input").addEventListener("select",Ii,!1)}ngOnDestroy(){this._elRef.nativeElement.querySelector("input").removeEventListener("select",Ii)}onKeydown(o){Wt.isDigit(o)?this._changeTimeByArrow(o.keyCode):o.preventDefault()}onModelChange(o){this.time=this._timeParserPipe.transform(o,this.timeUnit)}saveTimeAndChangeTimeUnit(o,r){o.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(r),this.focused.next()}updateTime(){this._selectedTime&&(this.timeChanged.next(this._selectedTime),this.previousTime=this._selectedTime.time)}_addTime(o){return`0${+this.time+o}`.substr(-2)}_changeTimeByArrow(o){let r;38===o?r=this._addTime(this.minutesGap||1):40===o&&(r=this._addTime(-1*(this.minutesGap||1))),ji(r,this.timeList)||(this.time=r,this.updateTime())}}return m.\u0275fac=function(o){return new(o||m)(l.Y36(l.SBq),l.Y36(Hn))},m.\u0275cmp=l.Xpm({type:m,selectors:[["ngx-mat-timepicker-dial-control"]],inputs:{disabled:"disabled",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{focused:"focused",timeChanged:"timeChanged",timeUnitChanged:"timeUnitChanged",unfocused:"unfocused"},standalone:!0,features:[l._Bn([Hn]),l.jDz],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus","keydown","keypress"]],template:function(o,r){if(1&o&&(l.YNc(0,aa,2,10,"input",0),l.YNc(1,sa,3,13,"ng-template",null,1,l.W1O)),2&o){const d=l.MAs(2);l.Q6J("ngIf",!r.isEditable)("ngIfElse",d)}},dependencies:[Nt.O5,Ce.u5,Ce.Fj,Ce.JJ,Ce.On,Nt.mk,$a,Hn,ei],styles:[".timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:center;color:inherit}.timepicker-dial__control[_ngcontent-%COMP%]:focus{outline:none;background-color:#0000001a}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]}),m})();function ji(m,a){const o=a.find(r=>r.time===+m);return!o||o&&o.disabled}let si,ai=(()=>{class m{set color(o){this._color=o}get color(){return this._color}get hourString(){return`${this.hour}`}get minuteString(){return`${this.minute}`}get _locale(){return this._localeSrv.locale}constructor(o){this._localeSrv=o,this.hourChanged=new l.vpe,this.meridiems=Nn.meridiems({locale:this._locale}),this.minuteChanged=new l.vpe,this.periodChanged=new l.vpe,this.timeUnit=ke,this.timeUnitChanged=new l.vpe,this._color="primary"}changeHour(o){this.hourChanged.next(o)}changeMinute(o){this.minuteChanged.next(o)}changePeriod(o){this.periodChanged.next(o)}changeTimeUnit(o){this.timeUnitChanged.next(o)}hideHint(){this.isHintVisible=!1}ngOnChanges(o){const r=o.period&&o.period.currentValue;if(r||o.format&&o.format.currentValue){const d=Wt.getHours(this.format);this.hours=Wt.disableHours(d,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(r||o.hour&&o.hour.currentValue){const d=Wt.getMinutes(this.minutesGap);this.minutes=Wt.disableMinutes(d,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}showHint(){this.isHintVisible=!0}}return m.\u0275fac=function(o){return new(o||m)(l.Y36(mn))},m.\u0275cmp=l.Xpm({type:m,selectors:[["ngx-mat-timepicker-dial"]],inputs:{activeTimeUnit:"activeTimeUnit",color:"color",editableHintTmpl:"editableHintTmpl",format:"format",hour:"hour",hoursOnly:"hoursOnly",isEditable:"isEditable",maxTime:"maxTime",minTime:"minTime",minute:"minute",minutesGap:"minutesGap",period:"period"},outputs:{hourChanged:"hourChanged",minuteChanged:"minuteChanged",periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged"},standalone:!0,features:[l.TTD,l.jDz],decls:9,vars:14,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],["class","timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(o,r){1&o&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-mat-timepicker-dial-control",3),l.NdJ("timeUnitChanged",function(g){return r.changeTimeUnit(g)})("timeChanged",function(g){return r.changeHour(g)})("focused",function(){return r.showHint()})("unfocused",function(){return r.hideHint()}),l.qZA(),l.TgZ(4,"span"),l._uU(5,":"),l.qZA(),l.TgZ(6,"ngx-mat-timepicker-dial-control",4),l.NdJ("timeUnitChanged",function(g){return r.changeTimeUnit(g)})("timeChanged",function(g){return r.changeMinute(g)})("focused",function(){return r.showHint()})("unfocused",function(){return r.hideHint()}),l.qZA()(),l.YNc(7,ra,1,9,"ngx-mat-timepicker-period",5),l.qZA(),l.YNc(8,_a,4,4,"div",6),l.qZA()),2&o&&(l.xp6(3),l.Q6J("timeList",r.hours)("time",r.hourString)("timeUnit",r.timeUnit.HOUR)("isActive",r.activeTimeUnit===r.timeUnit.HOUR)("isEditable",r.isEditable),l.xp6(3),l.Q6J("timeList",r.minutes)("time",r.minuteString)("timeUnit",r.timeUnit.MINUTE)("isActive",r.activeTimeUnit===r.timeUnit.MINUTE)("isEditable",r.isEditable)("minutesGap",r.minutesGap)("disabled",r.hoursOnly),l.xp6(1),l.Q6J("ngIf",24!==r.format),l.xp6(1),l.Q6J("ngIf",r.isEditable||r.editableHintTmpl))},dependencies:[Mi,Nt.O5,Ra,Nt.mk,Nt.tP],styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:center}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),m})(),Ni=(()=>{class m{}return m.\u0275fac=function(o){return new(o||m)},m.\u0275cmp=l.Xpm({type:m,selectors:[["ngx-mat-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},standalone:!0,features:[l.jDz],ngContentSelectors:fa,decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[4,"ngTemplateOutlet"]],template:function(o,r){if(1&o&&(l.F$t(),l.YNc(0,ua,2,1,"div",0),l.YNc(1,ga,1,1,"ng-template",null,1,l.W1O),l.YNc(3,ha,1,0,"ng-template",null,2,l.W1O)),2&o){const d=l.MAs(2);l.Q6J("ngIf",r.appendToInput)("ngIfElse",d)}},dependencies:[Nt.O5,Nt.tP],encapsulation:2}),m})(),Li=(()=>{class m extends Ai{constructor(o,r,d,g,y){super(d,g,y,o),this.data=o,this._dialogRef=r}close(){this._dialogRef.close()}}return m.\u0275fac=function(o){return new(o||m)(l.Y36(Dn.WI),l.Y36(Dn.so),l.Y36(oo),l.Y36(zn),l.Y36(mn))},m.\u0275cmp=l.Xpm({type:m,selectors:[["ngx-mat-timepicker-dialog"]],standalone:!0,features:[l.qOj,l.jDz],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["mat-dialog-content",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],["mat-dialog-actions",""],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(o,r){if(1&o&&(l.YNc(0,yi,2,1,"ng-template",null,0,l.W1O),l.YNc(2,xa,2,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),l.NdJ("periodChanged",function(g){return r.changePeriod(g)})("timeUnitChanged",function(g){return r.changeTimeUnit(g)})("hourChanged",function(g){return r.onHourChange(g)})("minuteChanged",function(g){return r.onMinuteChange(g)}),l.ALo(9,"async"),l.ALo(10,"async"),l.ALo(11,"async"),l.qZA()(),l.TgZ(12,"div",7)(13,"div",8),l.YNc(14,Ta,4,2,"div",9),l.YNc(15,Ca,4,14,"ngx-mat-timepicker-minutes-face",10),l.qZA()()()()(),l.TgZ(16,"div",11)(17,"div",12),l.NdJ("click",function(){return r.close()}),l.YNc(18,ka,1,0,"ng-container",13),l.qZA(),l.TgZ(19,"div",12),l.NdJ("click",function(){return r.setTime()}),l.YNc(20,wa,1,0,"ng-container",13),l.qZA()()),2&o){const d=l.MAs(1),g=l.MAs(3);let y,M;l.xp6(5),l.Q6J("appendToInput",r.data.appendToInput)("inputElement",r.data.inputElement),l.xp6(1),l.Q6J("ngClass",r.data.timepickerClass),l.xp6(1),l.ekj("is-editable",r.data.enableKeyboardInput),l.Q6J("color",r.color),l.xp6(1),l.Q6J("color",r.color)("format",r.data.format)("hour",null==(y=l.lcZ(9,23,r.selectedHour))?null:y.time)("minute",null==(M=l.lcZ(10,25,r.selectedMinute))?null:M.time)("period",l.lcZ(11,27,r.selectedPeriod))("activeTimeUnit",r.activeTimeUnit)("minTime",r.data.minTime)("maxTime",r.data.maxTime)("isEditable",r.data.enableKeyboardInput)("editableHintTmpl",r.data.editableHintTmpl)("minutesGap",r.data.minutesGap)("hoursOnly",r.data.hoursOnly),l.xp6(5),l.Q6J("ngSwitch",r.activeTimeUnit),l.xp6(1),l.Q6J("ngSwitchCase",r.timeUnit.HOUR),l.xp6(1),l.Q6J("ngSwitchCase",r.timeUnit.MINUTE),l.xp6(3),l.Q6J("ngTemplateOutlet",r.data.cancelBtnTmpl?r.data.cancelBtnTmpl:d),l.xp6(2),l.Q6J("ngTemplateOutlet",r.data.confirmBtnTmpl?r.data.confirmBtnTmpl:g)}},dependencies:[Nt.Ov,Nt.mk,Nt.O5,Nt.RF,Nt.n9,Nt.tP,ln.ot,ln.lW,Dn.Is,Dn.xY,Dn.H8,En.g0,En.Ye,Ni,ai,ii,oi,ni],styles:["div.ngx-mat-timepicker-dialog>mat-dialog-container{padding-top:0}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content]{padding:0;max-height:85vh}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header.is-editable{height:auto}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] .clock-face{margin:16px}div.ngx-mat-timepicker-dialog>mat-dialog-container div[mat-dialog-actions]{justify-content:flex-end;display:flex}\n"],encapsulation:2}),m})(),Di=(()=>{class m extends Ai{constructor(o,r,d,g){super(r,d,g,o),this.data=o}close(){this.data.timepickerBaseRef.close()}}return m.\u0275fac=function(o){return new(o||m)(l.Y36(no),l.Y36(oo),l.Y36(zn),l.Y36(mn))},m.\u0275cmp=l.Xpm({type:m,selectors:[["ngx-mat-timepicker-standalone"]],hostVars:2,hostBindings:function(o,r){2&o&&l.ekj("mat-app-background",!0)},standalone:!0,features:[l.qOj,l.jDz],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["cdkTrapFocus",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"ngx-mat-timepicker-standalone-actions"],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(o,r){if(1&o&&(l.YNc(0,Oa,2,1,"ng-template",null,0,l.W1O),l.YNc(2,ya,2,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),l.NdJ("periodChanged",function(g){return r.changePeriod(g)})("timeUnitChanged",function(g){return r.changeTimeUnit(g)})("hourChanged",function(g){return r.onHourChange(g)})("minuteChanged",function(g){return r.onMinuteChange(g)}),l.ALo(9,"async"),l.ALo(10,"async"),l.ALo(11,"async"),l.qZA()(),l.TgZ(12,"div",7)(13,"div",8),l.YNc(14,Sa,4,2,"div",9),l.YNc(15,Ia,4,14,"ngx-mat-timepicker-minutes-face",10),l.qZA()()()(),l.TgZ(16,"div",11)(17,"div",12),l.NdJ("click",function(){return r.close()}),l.YNc(18,Ma,1,0,"ng-container",13),l.qZA(),l.TgZ(19,"div",12),l.NdJ("click",function(){return r.setTime()}),l.YNc(20,ja,1,0,"ng-container",13),l.qZA()()()),2&o){const d=l.MAs(1),g=l.MAs(3);let y,M;l.xp6(5),l.Q6J("appendToInput",r.data.appendToInput)("inputElement",r.data.inputElement),l.xp6(1),l.Q6J("ngClass",r.data.timepickerClass),l.xp6(1),l.ekj("is-editable",r.data.enableKeyboardInput),l.Q6J("color",r.color),l.xp6(1),l.Q6J("color",r.color)("format",r.data.format)("hour",null==(y=l.lcZ(9,23,r.selectedHour))?null:y.time)("minute",null==(M=l.lcZ(10,25,r.selectedMinute))?null:M.time)("period",l.lcZ(11,27,r.selectedPeriod))("activeTimeUnit",r.activeTimeUnit)("minTime",r.data.minTime)("maxTime",r.data.maxTime)("isEditable",r.data.enableKeyboardInput)("editableHintTmpl",r.data.editableHintTmpl)("minutesGap",r.data.minutesGap)("hoursOnly",r.data.hoursOnly),l.xp6(5),l.Q6J("ngSwitch",r.activeTimeUnit),l.xp6(1),l.Q6J("ngSwitchCase",r.timeUnit.HOUR),l.xp6(1),l.Q6J("ngSwitchCase",r.timeUnit.MINUTE),l.xp6(3),l.Q6J("ngTemplateOutlet",r.data.cancelBtnTmpl?r.data.cancelBtnTmpl:d),l.xp6(2),l.Q6J("ngTemplateOutlet",r.data.confirmBtnTmpl?r.data.confirmBtnTmpl:g)}},dependencies:[ln.ot,ln.lW,Wo.rt,Wo.mK,Ni,Nt.mk,En.g0,En.Ye,ai,Nt.RF,Nt.n9,Nt.O5,ii,oi,ni,Nt.tP,Nt.Ov],styles:["ngx-mat-timepicker-standalone{display:block;border-radius:4px;box-shadow:0 0 5px 2px #00000040;overflow:hidden}ngx-mat-timepicker-standalone ngx-mat-timepicker-content{display:block}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header.is-editable{height:auto}ngx-mat-timepicker-standalone ngx-mat-timepicker-content .clock-face{margin:16px}ngx-mat-timepicker-standalone .ngx-mat-timepicker-standalone-actions{display:flex;flex-direction:row;justify-content:flex-end;padding:0 16px 16px}\n"],encapsulation:2}),m})(),ri=(()=>{class m{set appendToInput(o){this._appendToInput=(0,st.Ig)(o)}set color(o){this._color=o}get color(){return this._color}get disabled(){return this._timepickerInput&&this._timepickerInput.disabled}set enableKeyboardInput(o){this._enableKeyboardInput=(0,st.Ig)(o)}get enableKeyboardInput(){return this._enableKeyboardInput}get format(){return this._timepickerInput?this._timepickerInput.format:this._format}set format(o){this._format=Ut.isTwentyFour(o)?24:12}get inputElement(){return this._timepickerInput&&this._timepickerInput.element}get maxTime(){return this._timepickerInput?this._timepickerInput.max:this.max}get minTime(){return this._timepickerInput?this._timepickerInput.min:this.min}get minutesGap(){return this._minutesGap}set minutesGap(o){null!=o&&(o=Math.floor(o),this._minutesGap=o<=59?o:1)}get overlayOrigin(){return this._timepickerInput?this._timepickerInput.cdkOverlayOrigin:void 0}get time(){return this._timepickerInput&&this._timepickerInput.value}constructor(o,r,d){this._eventService=o,this._dialog=r,this._overlay=d,this.closed=new l.vpe,this.hourSelected=new l.vpe,this.hoursOnly=!1,this.id="ngx_mat_timepicker_"+ ++m.nextId,this.isEsc=!0,this.opened=new l.vpe,this.overlayPositions=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:0},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:0}],this.showPicker=!1,this.timeChanged=new l.vpe,this.timeSet=new l.vpe,this.timeUpdated=new Yn.X(void 0),this._appendToInput=!1,this._color="primary",this._enableKeyboardInput=!1,this._format=12}close(){this._appendToInput?this._overlayRef&&this._overlayRef.dispose():this._dialogRef&&this._dialogRef.close(),this.inputElement.focus(),this.showPicker=!1,this.closed.emit()}open(){si={timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this._appendToInput,hoursOnly:this.hoursOnly,timepickerClass:this.timepickerClass,inputElement:this.inputElement,color:this.color},this._appendToInput?this.showPicker=!0:(this._dialogRef=this._dialog.open(Li,{panelClass:"ngx-mat-timepicker-dialog",data:{...si}}),this._dialogRef.afterClosed().subscribe(()=>{this.closed.emit()})),this.opened.emit()}registerInput(o){if(this._timepickerInput)throw console.warn("Input for this timepicker was already set",o.element),Error("A Timepicker can only be associated with a single input.");this._timepickerInput=o}unregisterInput(){this._timepickerInput=void 0}updateTime(o){this.timeUpdated.next(o)}}return m.nextId=0,m.\u0275fac=function(o){return new(o||m)(l.Y36(zn),l.Y36(Dn.uw),l.Y36(e.aV))},m.\u0275cmp=l.Xpm({type:m,selectors:[["ngx-mat-timepicker"]],hostVars:1,hostBindings:function(o,r){2&o&&l.Ikx("id",r.id)},inputs:{appendToInput:"appendToInput",color:"color",enableKeyboardInput:"enableKeyboardInput",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",defaultTime:"defaultTime",disableAnimation:"disableAnimation",editableHintTmpl:"editableHintTmpl",hoursOnly:"hoursOnly",isEsc:"isEsc",max:"max",min:"min",preventOverlayClick:"preventOverlayClick",timepickerClass:"timepickerClass"},outputs:{closed:"closed",hourSelected:"hourSelected",opened:"opened",timeChanged:"timeChanged",timeSet:"timeSet"},standalone:!0,features:[l._Bn([{provide:no,useFactory:()=>si}]),l.jDz],decls:1,vars:4,consts:[["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","backdropClick"]],template:function(o,r){1&o&&(l.YNc(0,Na,1,0,"ng-template",0),l.NdJ("backdropClick",function(){return r.close()})),2&o&&l.Q6J("cdkConnectedOverlayPositions",r.overlayPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayOrigin",r.overlayOrigin)("cdkConnectedOverlayOpen",r.showPicker)},dependencies:[e.pI,Di],encapsulation:2}),m})(),c=(()=>{class m{}return m.\u0275fac=function(o){return new(o||m)},m.\u0275dir=l.lG2({type:m,selectors:[["","ngxMatTimepickerToggleIcon",""]],standalone:!0}),m})(),b=(()=>{class m{get disabled(){return void 0===this._disabled?this.timepicker?.disabled:this._disabled}set disabled(o){this._disabled=o}open(o){this.timepicker&&(this.timepicker.open(),o.stopPropagation())}}return m.\u0275fac=function(o){return new(o||m)},m.\u0275cmp=l.Xpm({type:m,selectors:[["ngx-mat-timepicker-toggle"]],contentQueries:function(o,r,d){if(1&o&&l.Suo(d,c,7),2&o){let g;l.iGM(g=l.CRH())&&(r.customIcon=g.first)}},inputs:{disabled:"disabled",timepicker:["for","timepicker"]},standalone:!0,features:[l.jDz],ngContentSelectors:Ea,decls:3,vars:2,consts:[["color","","mat-icon-button","","type","button",1,"ngx-mat-timepicker-toggle","mat-elevation-z0",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","class","ngx-mat-timepicker-toggle-default-icon","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",1,"ngx-mat-timepicker-toggle-default-icon"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(o,r){1&o&&(l.F$t(Da),l.TgZ(0,"button",0),l.NdJ("click",function(g){return r.open(g)}),l.YNc(1,La,2,0,"svg",1),l.Hsn(2),l.qZA()),2&o&&(l.Q6J("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",!r.customIcon))},dependencies:[ln.ot,ln.RK,Nt.O5],styles:["button.ngx-mat-timepicker-toggle{background-color:transparent;text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer;box-shadow:none}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{margin:auto}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}body .ngx-mat-timepicker-toggle{color:#0000008a}\n"],encapsulation:2}),m})(),_=(()=>{class m{set color(o){this._color=o}get color(){return this._color}set floatLabel(o){this._floatLabel=o}get floatLabel(){return this._floatLabel}constructor(o){this._timeParser=o,this.id=m.nextId++,this.timeChanged=new l.vpe,this._color="primary",this._floatLabel="auto"}changeTime(o){o.stopPropagation();const r=o.data,d=function i(m,a){if(/\d/.test(a))return+(m+a)}(String(this.time),r);this._changeTimeIfValid(d)}decrease(){if(!this.disabled){let o=+this.time-1;o<this.min&&(o=this.max),this._isSelectedTimeDisabled(o)&&(o=this._getAvailableTime(o,this._getPrevAvailableTime.bind(this))),o!==this.time&&this.timeChanged.emit(o)}}increase(){if(!this.disabled){let o=+this.time+1;o>this.max&&(o=this.min),this._isSelectedTimeDisabled(o)&&(o=this._getAvailableTime(o,this._getNextAvailableTime.bind(this))),o!==this.time&&this.timeChanged.emit(o)}}ngOnChanges(o){o.timeList&&null!=this.time&&this._isSelectedTimeDisabled(this.time)&&this._setAvailableTime()}onBlur(){this.isFocused=!1,this._previousTime!==this.time&&this._changeTimeIfValid(+this.time)}onFocus(){this.isFocused=!0,this._previousTime=this.time}onKeydown(o){switch(o.stopPropagation(),Wt.isDigit(o)||o.preventDefault(),o.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==o.key&&o.preventDefault()}onModelChange(o){this.time=+this._timeParser.transform(o,this.timeUnit)}_changeTimeIfValid(o){if(!isNaN(o)){if(this.time=o,this.time>this.max){const r=String(o);this.time=+r[r.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}_getAvailableTime(o,r){return r(this.timeList.findIndex(y=>y.time===o))??this.time}_getNextAvailableTime(o){const r=this.timeList,d=r.length;for(let g=o+1;g<d;g++){const y=r[g];if(!y.disabled)return y.time}}_getPrevAvailableTime(o){for(let r=o;r>=0;r--){const d=this.timeList[r];if(!d.disabled)return d.time}}_isSelectedTimeDisabled(o){return this.timeList.find(r=>r.time===o).disabled}_setAvailableTime(){this.time=this.timeList.find(o=>!o.disabled).time,this.timeChanged.emit(this.time)}}return m.nextId=0,m.\u0275fac=function(o){return new(o||m)(l.Y36(Hn))},m.\u0275cmp=l.Xpm({type:m,selectors:[["ngx-mat-timepicker-time-control"]],inputs:{color:"color",disabled:"disabled",floatLabel:"floatLabel",max:"max",min:"min",placeholder:"placeholder",preventTyping:"preventTyping",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[l._Bn([Hn]),l.TTD,l.jDz],decls:13,vars:17,consts:[[1,"ngx-mat-timepicker-control",3,"color","floatLabel","ngClass"],["matInput","","maxlength","2",3,"id","name","ngModel","placeholder","disabled","ngModelChange","keydown","beforeinput","focus","blur"],["matSuffix","",1,"arrows-wrap"],["role","button",1,"arrow",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","18","viewBox","0 0 24 24","width","18"],["d","M0 0h24v24H0z","fill","none"],["d","M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"],["d","M0 0h24v24H0V0z","fill","none"],["d","M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"]],template:function(o,r){1&o&&(l.TgZ(0,"mat-form-field",0)(1,"input",1),l.NdJ("ngModelChange",function(g){return r.onModelChange(g)})("keydown",function(g){return r.onKeydown(g)})("beforeinput",function(g){return r.changeTime(g)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()}),l.ALo(2,"timeLocalizer"),l.ALo(3,"ngxMatTimepickerParser"),l.qZA(),l.TgZ(4,"div",2)(5,"span",3),l.NdJ("click",function(){return r.increase()}),l.O4$(),l.TgZ(6,"svg",4),l._UZ(7,"path",5)(8,"path",6),l.qZA()(),l.kcU(),l.TgZ(9,"span",3),l.NdJ("click",function(){return r.decrease()}),l.O4$(),l.TgZ(10,"svg",4),l._UZ(11,"path",7)(12,"path",8),l.qZA()()()()),2&o&&(l.Q6J("color",r.color)("floatLabel",r.floatLabel)("ngClass",l.VKq(15,eo,r.isFocused)),l.xp6(1),l.MGl("id","ngx_mat_timepicker_field_",r.id,"")("name","ngx_mat_timepicker_field_",r.id,""),l.Q6J("ngModel",l.Dn7(2,8,l.xi3(3,12,r.time,r.timeUnit),r.timeUnit,!0))("placeholder",r.placeholder)("disabled",r.disabled))},dependencies:[Pn.lN,Pn.KE,Pn.R9,Nt.mk,Bn.c,Bn.Nt,Ce.u5,Ce.Fj,Ce.JJ,Ce.nD,Ce.On,Hn,ei],styles:[".ngx-mat-timepicker-control[_ngcontent-%COMP%]{width:60px;min-width:60px}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%]{position:relative;z-index:1}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{text-align:center;opacity:.5;height:15px;cursor:pointer;transition:opacity .2s;-webkit-user-select:none;user-select:none}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0}),m})(),p=(()=>{class m{get color(){return this._color}set color(o){this._color=o}get defaultTime(){return this._defaultTime}set defaultTime(o){this._defaultTime=o,this._isDefaultTime=!!o}get floatLabel(){return this._floatLabel}set floatLabel(o){this._floatLabel=o}get format(){return this._format}set format(o){Ut.isTwentyFour(o)?(this._format=24,this.minHour=0,this.maxHour=23):(this._format=12,this.minHour=1,this.maxHour=12),this.hoursList=Wt.getHours(this._format),o&&this._previousFormat&&this._previousFormat!==this._format&&this._updateTime(this.timepickerTime),this._previousFormat=this._format}get max(){return this._max}set max(o){this._max="string"!=typeof o?o:Ut.parseTime(o,{locale:this._locale,format:this.format})}get min(){return this._min}set min(o){this._min="string"!=typeof o?o:Ut.parseTime(o,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(o,r){this._timepickerService=o,this._timepickerLocaleSrv=r,this.hour$=new Yn.X(void 0),this.maxHour=12,this.minHour=1,this.minute$=new Yn.X(void 0),this.period=ge.AM,this.periods=[ge.AM,ge.PM],this.timeChanged=new l.vpe,this.timeUnit=ke,this._color="primary",this._floatLabel="auto",this._format=12,this._isFirstTimeChange=!0,this._subsCtrl$=new Kn.x,this._onChange=()=>{},this._onTouched=()=>{}}changeHour(o){this._timepickerService.hour=this.hoursList.find(r=>r.time===o),this._changeTime()}changeMinute(o){this._timepickerService.minute=this.minutesList.find(r=>r.time===o),this._changeTime()}changePeriod(o){this._timepickerService.period=o.value,this._changeTime()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._initTime(this.defaultTime),this.hoursList=Wt.getHours(this._format),this.minutesList=Wt.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this._timepickerService.selectedHour.pipe((0,Xn.b)(o=>this._selectedHour=o?.time),(0,Ti.U)(this._changeDefaultTimeValue.bind(this)),(0,Xn.b)(()=>this.isTimeRangeSet&&this._updateAvailableMinutes())).subscribe({next:o=>this.hour$.next(o)}),this._timepickerService.selectedMinute.pipe((0,Ti.U)(this._changeDefaultTimeValue.bind(this)),(0,Xn.b)(()=>this._isFirstTimeChange=!1)).subscribe({next:o=>this.minute$.next(o)}),12===this.format&&this._timepickerService.selectedPeriod.pipe((0,Bi.x)(),(0,Xn.b)(o=>this.period=o),(0,Xn.b)(o=>this.isChangePeriodDisabled=this._isPeriodDisabled(o)),(0,Ko.R)(this._subsCtrl$)).subscribe(()=>this.isTimeRangeSet&&this._updateAvailableTime())}onTimeSet(o){this._updateTime(o),this._emitLocalTimeChange(o)}registerOnChange(o){this._onChange=o}registerOnTouched(o){this._onTouched=o}setDisabledState(o){this.disabled=o}writeValue(o){o?this._initTime(o):this._resetTime()}_changeDefaultTimeValue(o){return!this._isDefaultTime&&this._isFirstTimeChange?{...o,time:null}:o}_changeTime(){if(!isNaN(this.hour$.getValue()?.time)&&!isNaN(this.minute$.getValue()?.time)){const o=this._timepickerService.getFullTime(this.format);this.timepickerTime=o,this._emitLocalTimeChange(o)}}_emitLocalTimeChange(o){const r=Ut.toLocaleTimeString(o,{format:this.format,locale:this._locale});this._onChange(r),this._onTouched(r),this.timeChanged.emit(r)}_initTime(o){if(!Ut.isTimeAvailable(o,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this._updateTime(Ut.fromDateTimeToString(this.min,this.format));if(this.max)return void this._updateTime(Ut.fromDateTimeToString(this.max,this.format))}this._updateTime(o)}_isPeriodDisabled(o){return Wt.disableHours(Wt.getHours(12),{min:this.min,max:this.max,format:12,period:o===ge.AM?ge.PM:ge.AM}).every(r=>r.disabled)}_resetTime(){this._timepickerService.hour={angle:0,time:null},this._timepickerService.minute={angle:0,time:null}}_updateAvailableHours(){this.hoursList=Wt.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableMinutes(){this.minutesList=Wt.disableMinutes(this.minutesList,this._selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableTime(){this._updateAvailableHours(),this._selectedHour&&this._updateAvailableMinutes()}_updateTime(o){if(o){const r=Ut.formatTime(o,{locale:this._locale,format:this.format});this._timepickerService.setDefaultTimeIfAvailable(r,this.min,this.max,this.format),this.timepickerTime=r}}}return m.\u0275fac=function(o){return new(o||m)(l.Y36(oo),l.Y36(mn))},m.\u0275cmp=l.Xpm({type:m,selectors:[["ngx-mat-timepicker-field"]],inputs:{color:"color",defaultTime:"defaultTime",floatLabel:"floatLabel",format:"format",max:"max",min:"min",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",controlOnly:"controlOnly",disabled:"disabled",toggleIcon:"toggleIcon"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[l._Bn([oo,{provide:Ce.JU,useExisting:m,multi:!0}]),l.jDz],decls:11,vars:32,consts:[[1,"ngx-mat-timepicker",3,"ngClass"],[1,"ngx-mat-timepicker__control--first",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],[1,"separator-colon","ngx-mat-timepicker__control--second"],[1,"ngx-mat-timepicker__control--third",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],["class","period-select ngx-mat-timepicker__control--forth",3,"color",4,"ngIf"],["class","ngx-mat-timepicker__toggle",3,"for","disabled",4,"ngIf"],[3,"color","min","max","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl","timeSet"],["timepicker",""],["defaultIcon",""],[1,"period-select","ngx-mat-timepicker__control--forth",3,"color"],[3,"disabled","ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ngx-mat-timepicker__toggle",3,"for","disabled"],["ngxMatTimepickerToggleIcon",""],[4,"ngTemplateOutlet"]],template:function(o,r){if(1&o&&(l.TgZ(0,"div",0)(1,"ngx-mat-timepicker-time-control",1),l.NdJ("timeChanged",function(g){return r.changeHour(g)}),l.qZA(),l.TgZ(2,"span",2),l._uU(3,":"),l.qZA(),l.TgZ(4,"ngx-mat-timepicker-time-control",3),l.NdJ("timeChanged",function(g){return r.changeMinute(g)}),l.qZA(),l.YNc(5,Ua,3,4,"mat-form-field",4),l.YNc(6,Fa,3,3,"ngx-mat-timepicker-toggle",5),l.qZA(),l.TgZ(7,"ngx-mat-timepicker",6,7),l.NdJ("timeSet",function(g){return r.onTimeSet(g)}),l.qZA(),l.YNc(9,Ja,2,0,"ng-template",null,8,l.W1O)),2&o){let d,g;l.Q6J("ngClass",l.VKq(30,qa,r.disabled)),l.xp6(1),l.Q6J("color",r.color)("floatLabel",r.floatLabel)("placeholder","HH")("time",null==(d=r.hour$.getValue())?null:d.time)("min",r.minHour)("max",r.maxHour)("timeUnit",r.timeUnit.HOUR)("disabled",r.disabled)("timeList",r.hoursList)("preventTyping",r.isTimeRangeSet),l.xp6(3),l.Q6J("color",r.color)("floatLabel",r.floatLabel)("placeholder","MM")("time",null==(g=r.minute$.getValue())?null:g.time)("min",0)("max",59)("timeUnit",r.timeUnit.MINUTE)("disabled",r.disabled)("timeList",r.minutesList)("preventTyping",r.isTimeRangeSet),l.xp6(1),l.Q6J("ngIf",24!==r.format),l.xp6(1),l.Q6J("ngIf",!r.controlOnly),l.xp6(1),l.Q6J("color",r.color)("min",r.min)("max",r.max)("defaultTime",r.timepickerTime)("format",r.format)("cancelBtnTmpl",r.cancelBtnTmpl)("confirmBtnTmpl",r.confirmBtnTmpl)}},dependencies:[Nt.mk,_,Nt.O5,Pn.lN,Pn.KE,Xo.LD,Xo.gD,Ci.ey,Ce.u5,Ce.JJ,Ce.On,Nt.ax,Ci.Ng,b,c,Nt.tP,ri,ti.Ps,ti.Hw],styles:[".ngx-mat-timepicker{display:flex;align-items:center;height:100%}.ngx-mat-timepicker--disabled{background:rgba(0,0,0,.07);pointer-events:none}.ngx-mat-timepicker .separator-colon{margin-left:5px;margin-right:5px}.ngx-mat-timepicker .period-select{width:60px;min-width:60px;margin-left:8px;text-align:center}.ngx-mat-timepicker__control--first{order:1}.ngx-mat-timepicker__control--second{order:2}.ngx-mat-timepicker__control--third{order:3}.ngx-mat-timepicker__control--forth{order:4}.ngx-mat-timepicker__toggle{order:4;margin-bottom:1.5em;margin-left:4px}.ngx-mat-timepicker__toggle span.mat-button-wrapper{font-size:24px}\n"],encapsulation:2,changeDetection:0}),m})(),Z=(()=>{class m{get element(){return this._elementRef&&this._elementRef.nativeElement}get format(){return this._format}set format(o){this._format=Ut.isTwentyFour(+o)?24:12,o&&this._previousFormat&&this._previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this._previousFormat=this._format}get max(){return this._max}set max(o){this._max="string"!=typeof o?o:Ut.parseTime(o,{locale:this._locale,format:this.format})}get min(){return this._min}set min(o){this._min="string"!=typeof o?o:Ut.parseTime(o,{locale:this._locale,format:this.format})}set timepicker(o){this._registerTimepicker(o)}get value(){return this._value?Ut.toLocaleTimeString(this._value,{format:this.format,locale:this._locale}):""}set value(o){if(!o)return this._value="",void this._updateInputValue();const r=Ut.formatTime(o,{locale:this._locale,format:this.format});if(Ut.isTimeAvailable(r,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=r,void this._updateInputValue();console.warn("Selected time doesn't match min or max value")}set _defaultTime(o){this._timepicker.defaultTime=Ut.formatTime(o,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(o,r,d){this._elementRef=o,this._timepickerLocaleSrv=r,this._matFormField=d,this.cdkOverlayOrigin=new e.xu(this._matFormField?this._matFormField.getConnectedOverlayOrigin():this._elementRef),this._format=12,this._subsCtrl$=new Kn.x,this._value="",this.onTouched=()=>{},this._onChange=()=>{}}ngOnChanges(o){const r=o.value;r&&r.currentValue&&(this._defaultTime=r.currentValue)}ngOnDestroy(){this._unregisterTimepicker(),this._subsCtrl$.next(),this._subsCtrl$.complete()}onClick(o){this.disableClick||(this._timepicker.open(),o.stopPropagation())}registerOnChange(o){this._onChange=o}registerOnTouched(o){this.onTouched=o}setDisabledState(o){this.disabled=o}updateValue(o){this.value=o.target.value,this._onChange(this.value)}writeValue(o){this.value=o,o&&(this._defaultTime=o)}_registerTimepicker(o){if(!o)throw new Error("NgxMatTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxMatTimepicker directive");this._timepicker=o,this._timepicker.registerInput(this),this._timepicker.timeSet.pipe((0,Ko.R)(this._subsCtrl$)).subscribe(r=>{this.value=r,this._onChange(this.value),this.onTouched(),this._defaultTime=this._value})}_unregisterTimepicker(){this._timepicker&&this._timepicker.unregisterInput()}_updateInputValue(){this._elementRef.nativeElement.value=this.value}}return m.\u0275fac=function(o){return new(o||m)(l.Y36(l.SBq),l.Y36(mn),l.Y36(Pn.KE,8))},m.\u0275dir=l.lG2({type:m,selectors:[["","ngxMatTimepicker",""]],hostVars:2,hostBindings:function(o,r){1&o&&l.NdJ("blur",function(){return r.onTouched()})("click",function(g){return r.onClick(g)})("change",function(g){return r.updateValue(g)}),2&o&&(l.Ikx("disabled",r.disabled),l.uIk("cdkOverlayOrigin",r.cdkOverlayOrigin))},inputs:{format:"format",max:"max",min:"min",timepicker:["ngxMatTimepicker","timepicker"],value:"value",disableClick:"disableClick",disabled:"disabled"},standalone:!0,features:[l._Bn([{provide:Ce.JU,useExisting:m,multi:!0}]),l.TTD]}),m})(),R=(()=>{class m{static setLocale(o){return{ngModule:m,providers:[{provide:Zi,useValue:o},{provide:no,useValue:void 0},mn]}}}return m.\u0275fac=function(o){return new(o||m)},m.\u0275mod=l.oAB({type:m}),m.\u0275inj=l.cJS({providers:[mn,{provide:ln.Ew,useValue:{color:"void"}}],imports:[Nt.ez,Wo.rt,Ce.u5,ln.ot,Pn.lN,Dn.Is,Bn.c,Xo.LD,En.g0,ti.Ps,e.U8,Hi.eL,ri,ai,Mi,Li,wo,ni,Di,b,oi,ii,p,_]}),m})()}}]);