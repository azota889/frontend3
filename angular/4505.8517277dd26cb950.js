"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[4505],{47635:(Te,Bt,g)=>{g.d(Bt,{c:()=>_t});var j=g(10936),n=g(66257),e=g(48725),q=g(59640),a=g(37497),kt=g(27208),t=g(18586),T=g(26860),o=g(65162),tt=g(43070),It=g(46899),wt=g(25898),rt=g(54460),pt=g(47712),W=g(18718),dt=g(22613),mt=g(69135),Lt=g(32099),Q=g(5800),ft=g(10123),L=g(15343),K=g(73437);function gt(at,X){if(1&at){const $=T.RV6();T.j41(0,"div",5)(1,"div",6)(2,"azt-search-box",7),T.bIt("onSearch",function(zt){T.eBV($);const qt=T.XpG();return T.Njj(qt.onSearchBox(zt.searchObj))}),T.nI1(3,"mytranslate"),T.k0s()()()}2&at&&(T.R7$(2),T.Y8G("isServerSearch",!0)("placeholder",T.bMT(3,2,"lang_core_tim_theo_ten_phone_email")))}function N(at,X){if(1&at&&T.nrm(0,"azt-loading-effect",10),2&at){const $=T.XpG(2);T.Y8G("currentStatusObj",$.statusObj)}}const B=function(at){return{"text-primary stroke-width-2.5":at}},Gt=function(){return{"-mt-2":!0}};function Ct(at,X){if(1&at&&(T.j41(0,"div",20),T.nrm(1,"lucide-icon",21)(2,"lucide-icon",22),T.k0s()),2&at){const $=T.XpG().$implicit,ht=T.XpG(3);T.R7$(1),T.Y8G("ngClass",T.eq3(3,B,$.typeFieldSort===ht.typeFieldSort.asc)),T.R7$(1),T.Y8G("ngClass",T.lJ4(5,Gt))("ngClass",T.eq3(6,B,$.typeFieldSort===ht.typeFieldSort.desc))}}function Et(at,X){if(1&at){const $=T.RV6();T.j41(0,"th",17)(1,"div",18),T.bIt("click",function(){const qt=T.eBV($).$implicit,ye=T.XpG(3);return T.Njj(ye.sortTableByFieldName(qt))}),T.EFF(2),T.nI1(3,"mytranslate"),T.DNE(4,Ct,3,8,"div",19),T.k0s()()}if(2&at){const $=X.$implicit;T.R7$(1),T.Aen($.customStyle),T.HbH($.customClassCss),T.R7$(1),T.SpI(" ",T.bMT(3,6,$.key)," "),T.R7$(2),T.Y8G("ngIf",!$.ignore)}}function Jt(at,X){if(1&at){const $=T.RV6();T.j41(0,"tr",23)(1,"td"),T.nrm(2,"azt-student-info-box",24),T.k0s(),T.j41(3,"td",25),T.EFF(4),T.nI1(5,"formatStudentCodeToNumber"),T.k0s(),T.j41(6,"td",25),T.EFF(7),T.nI1(8,"formatOnlyDateByUserUnitPipe"),T.k0s(),T.j41(9,"td",25)(10,"div",26),T.nrm(11,"textarea",27),T.nI1(12,"mytranslate"),T.j41(13,"span",28,29),T.bIt("click",function(){const qt=T.eBV($).$implicit,ye=T.XpG(3);return T.Njj(ye.showAllComment(qt))}),T.nI1(15,"mytranslate"),T.nrm(16,"lucide-icon",30),T.k0s()()()()}if(2&at){const $=X.$implicit,ht=T.sdS(14);T.Y8G("id","row_student_"+$.id),T.R7$(2),T.Y8G("name",$.fullName)("parentFullName",$.parentFullName)("parentId",$.parentId)("parentPhone",$.parentPhone)("avatar",$.avatar)("gender",$.gender)("hasUser",$.hasUser)("schoolName",$.schoolName)("classrooms",$.classrooms)("joinedAt",$.joinedAt),T.R7$(2),T.JRh($.identificationNumber?T.i5U(5,20,$.identificationNumber,6):""),T.R7$(3),T.JRh(T.bMT(8,23,null!=$.assessments&&$.assessments[0]?null==$.assessments||null==$.assessments[0]?null:$.assessments[0].createdAt:"")),T.R7$(4),T.FS9("placeholder",T.bMT(12,25,"lang_azt_enter_comment")),T.Y8G("id","assessment_content_"+$.id)("disabled",!0)("value",$.lastAssessmentComment),T.R7$(2),T.FS9("matTooltip",T.bMT(15,27,"lang_student_show_all_comment")),T.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",ht.isDisabled)}}function re(at,X){if(1&at){const $=T.RV6();T.j41(0,"azt-paging",34),T.bIt("goToPaginationPage",function(zt){T.eBV($);const qt=T.XpG(4);return T.Njj(qt.setPageStudent(zt))}),T.k0s()}if(2&at){const $=T.XpG(4);T.Y8G("pageObj",$.pageObj)}}function ge(at,X){if(1&at&&(T.j41(0,"div",35),T.EFF(1),T.nI1(2,"mytranslate"),T.k0s()),2&at){const $=T.XpG(4);T.R7$(1),T.Lme("",$.totalStudent," ",T.bMT(2,2,"lang_notify_list_students"),"")}}function Ie(at,X){if(1&at&&(T.j41(0,"div",31),T.nrm(1,"div"),T.DNE(2,re,1,1,"azt-paging",32),T.DNE(3,ge,3,4,"div",33),T.k0s()),2&at){const $=T.XpG(3);T.R7$(2),T.Y8G("ngIf",$.totalStudent>$.pageObj.pageSize),T.R7$(1),T.Y8G("ngIf",!$.isStudent)}}function fe(at,X){if(1&at&&(T.j41(0,"div",11)(1,"drag-scroll")(2,"table",12)(3,"thead")(4,"tr",13),T.DNE(5,Et,5,8,"th",14),T.k0s()(),T.j41(6,"tbody"),T.DNE(7,Jt,17,29,"tr",15),T.k0s()()()(),T.DNE(8,Ie,4,2,"div",16)),2&at){const $=T.XpG(2);T.R7$(5),T.Y8G("ngForOf",$.sortTableByFieldNameService.fieldNameList),T.R7$(2),T.Y8G("ngForOf",$.listStudent),T.R7$(1),T.Y8G("ngIf",$.listStudent&&$.totalStudent&&$.totalStudent>0)}}function Se(at,X){if(1&at&&(T.j41(0,"div",1),T.DNE(1,N,1,1,"azt-loading-effect",8),T.DNE(2,fe,9,3,"ng-template",null,9,T.C5r),T.k0s()),2&at){const $=T.sdS(3),ht=T.XpG();T.R7$(1),T.Y8G("ngIf",ht.statusObj.loading)("ngIfElse",$)}}function Dt(at,X){if(1&at&&T.nrm(0,"azt-loading-effect",10),2&at){const $=T.XpG(2);T.Y8G("currentStatusObj",$.statusObj)}}function Qt(at,X){1&at&&(T.j41(0,"div",39),T.EFF(1),T.nI1(2,"mytranslate"),T.k0s()),2&at&&(T.R7$(1),T.SpI(" ",T.bMT(2,1,"lang_azt_no_comments_yet")," "))}function Tt(at,X){if(1&at&&(T.j41(0,"div",42)(1,"div",43)(2,"p",44),T.EFF(3),T.nI1(4,"mytranslate"),T.nI1(5,"formatOnlyDateByUserUnitPipe"),T.k0s()(),T.nrm(6,"div",45),T.nI1(7,"safeNormalHtmlContent"),T.k0s()),2&at){const $=X.$implicit;T.R7$(3),T.Lme("",T.bMT(4,3,"lang_student_add_comment_date"),": ",T.bMT(5,5,$.updatedAt),""),T.R7$(3),T.Y8G("innerHTML",T.bMT(7,7,$.comment),T.npT)}}function Mt(at,X){if(1&at&&(T.j41(0,"div",40),T.DNE(1,Tt,8,9,"div",41),T.k0s()),2&at){const $=T.XpG(3);T.R7$(1),T.Y8G("ngForOf",null==$.firstStudent?null:$.firstStudent.assessments)}}function St(at,X){if(1&at&&(T.DNE(0,Qt,3,3,"div",37),T.DNE(1,Mt,2,1,"ng-template",null,38,T.C5r)),2&at){const $=T.sdS(2),ht=T.XpG(2);T.Y8G("ngIf",!(null!=ht.firstStudent&&ht.firstStudent.assessments&&null!=ht.firstStudent&&null!=ht.firstStudent.assessments&&ht.firstStudent.assessments.length))("ngIfElse",$)}}function ie(at,X){if(1&at&&(T.j41(0,"div",1),T.DNE(1,Dt,1,1,"azt-loading-effect",8),T.DNE(2,St,3,2,"ng-template",null,36,T.C5r),T.k0s()),2&at){const $=T.sdS(3),ht=T.XpG();T.R7$(1),T.Y8G("ngIf",ht.statusObj.loading)("ngIfElse",$)}}let _t=(()=>{class at extends q.H{onSearchBox($){this.searchContentObj=$,this.getData()}showAllComment($){this.sAztDialogService.open(t.U,{width:"700px",restoreFocus:!1,data:{student:$,isTeacher:!1}}).afterClosed().subscribe(ht=>{ht&&this.getData()})}setPageStudent($){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/6","?page="+$),this.pageObj.setPageNumber($),this.getData()}sortTableByFieldName($){$.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort($),this.getData())}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!0,order:this.orderObj}).subscribe({next:ht=>{ht.list.length&&(this.listStudent=[]),this.totalStudent=ht.total,ht.list.forEach(zt=>{let qt=this.sAztAssessmentStudentService.getLastAssessmentStudent(zt);this.listStudent.push({...zt,commentControl:new j.gE({id:new j.MJ(0,{nonNullable:!0}),updatedAt:new j.MJ(qt?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new j.MJ(qt?.comment??"",{nonNullable:!0}),isEditted:new j.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(zt.assessments),editComment:!1}),this.firstStudent=this.listStudent?.[0]?this.listStudent[0]:void 0,this.firstStudent=this.convertBreakLine(this.firstStudent)}),this.totalStudent=ht.total,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()},error:ht=>{this.errorStatusObj(ht.error.message,!0)}}))}convertBreakLine($){if(!$)return;const ht=$.assessments?.map(zt=>({...zt,comment:zt.comment?.replace(/\n/g,"<br/>")}));return{...$,assessments:ht}}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:n.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:n.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentDate",key:"lang_azt_comments_date",ignore:!1,typeFieldSort:n.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentComment",key:"lang_azt_comments_consciousness_and_academic_performance",ignore:!0,typeFieldSort:n.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor($,ht,zt,qt,ye){super(),this.activeRoute=$,this.studentService=ht,this.sAztDialogService=zt,this.sAztAssessmentStudentService=qt,this.sortTableByFieldNameService=ye,this.classroomId=0,this.searchContentObj=new kt.Z,this.pageObj=new a.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=n.H}static#t=this.\u0275fac=function(ht){return new(ht||at)(T.rXU(o.nX),T.rXU(tt.b0),T.rXU(It.i),T.rXU(wt.n),T.rXU(e.s))};static#e=this.\u0275cmp=T.VBU({type:at,selectors:[["app-assessment-board"]],inputs:{isStudent:"isStudent"},features:[T.Jv_([e.s]),T.Vt3],decls:8,vars:6,consts:[[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","col-span-12 lg:col-span-12 2xl:col-span-12 mt-4",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"isServerSearch","placeholder","onSearch"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","assesment-board-oI-Jn2-vQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[3,"id"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"flex","items-center"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value"],[1,"w-6","h-6","ml-4","inline-block","clickable",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","click"],["c","isDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"flex","justify-end"],["doneLoadingStudent",""],["class","mt-2 py-3 px-5 mb-3 text-center","style","height: 55px",4,"ngIf","ngIfElse"],["hasData",""],[1,"mt-2","py-3","px-5","mb-3","text-center",2,"height","55px"],[1,"py-3","px-5","box","mt-4"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"flex","mb-2",2,"align-items","center"],[1,"font-bold","mb-0"],[1,"box","bg-slate-200","dark:bg-darkmode-400","p-2",3,"innerHTML"]],template:function(ht,zt){1&ht&&(T.j41(0,"div",0)(1,"div",1)(2,"h3",2),T.EFF(3),T.nI1(4,"mytranslate"),T.k0s()(),T.DNE(5,gt,4,4,"div",3),T.DNE(6,Se,4,2,"div",4),T.DNE(7,ie,4,2,"div",4),T.k0s()),2&ht&&(T.R7$(3),T.JRh(T.bMT(4,4,"lang_azt_comments")),T.R7$(2),T.Y8G("ngIf",!zt.isStudent),T.R7$(1),T.Y8G("ngIf",!zt.isStudent),T.R7$(1),T.Y8G("ngIf",zt.isStudent))},dependencies:[rt.YU,rt.Sq,rt.bT,pt.oV,W.K,dt.q,mt.f,Lt.W,Q.B,ft.jd,ft.Ew,L.WGl,K.wp,K._y,K.Po,K.vv],encapsulation:2})}return at})()},56172:(Te,Bt,g)=>{g.d(Bt,{E:()=>ie});var j=g(10127),n=g(66257),e=g(48725),q=g(59640),a=g(37497),kt=g(27208),t=g(26860),T=g(65162),o=g(46899),tt=g(43070),It=g(54460),wt=g(18718),rt=g(22613),pt=g(32099),W=g(5800),dt=g(10123),mt=g(15343),Lt=g(85127),Q=g(73437);function ft(_t,at){if(1&_t&&(t.j41(0,"div",11),t.nrm(1,"azt-loading-effect",12),t.k0s()),2&_t){const X=t.XpG(2);t.R7$(1),t.Y8G("currentStatusObj",X.statusObj)}}function L(_t,at){1&_t&&(t.j41(0,"div",18),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&_t&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}const K=function(_t){return{"text-primary stroke-width-2.5":_t}},gt=function(){return{"-mt-2":!0}};function N(_t,at){if(1&_t&&(t.j41(0,"div",27),t.nrm(1,"lucide-icon",28)(2,"lucide-icon",29),t.k0s()),2&_t){const X=t.XpG().$implicit,$=t.XpG(5);t.R7$(1),t.Y8G("ngClass",t.eq3(3,K,X.typeFieldSort===$.typeFieldSort.asc)),t.R7$(1),t.Y8G("ngClass",t.lJ4(5,gt))("ngClass",t.eq3(6,K,X.typeFieldSort===$.typeFieldSort.desc))}}function B(_t,at){if(1&_t){const X=t.RV6();t.j41(0,"th",24)(1,"div",25),t.bIt("click",function(){const zt=t.eBV(X).$implicit,qt=t.XpG(5);return t.Njj(qt.sortTableByFieldName(zt))}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,N,3,8,"div",26),t.k0s()()}if(2&_t){const X=at.$implicit;t.R7$(1),t.Aen(X.customStyle),t.HbH(X.customClassCss),t.R7$(1),t.SpI(" ",t.bMT(3,6,X.key)," "),t.R7$(2),t.Y8G("ngIf",!X.ignore)}}function Gt(_t,at){1&_t&&(t.j41(0,"span"),t.EFF(1,"/"),t.k0s())}function Ct(_t,at){if(1&_t&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,Gt,2,0,"span",3),t.EFF(3),t.k0s()),2&_t){const X=t.XpG().$implicit;t.R7$(1),t.SpI(" ",X.lastMonthPaid," "),t.R7$(1),t.Y8G("ngIf",X.lastMonthPaid),t.R7$(1),t.SpI(" ",X.lastYearPaid," ")}}function Et(_t,at){1&_t&&(t.j41(0,"span",36),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&_t&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_hoc_thu")," "))}function Jt(_t,at){if(1&_t){const X=t.RV6();t.j41(0,"tr")(1,"td",30),t.bIt("click",function(){const zt=t.eBV(X).$implicit,qt=t.XpG(5);return t.Njj(qt.addOrEditTuitionFee(zt))}),t.nrm(2,"azt-student-info-box",31),t.k0s(),t.j41(3,"td",32),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",33),t.EFF(7),t.k0s(),t.j41(8,"td",34),t.DNE(9,Ct,4,3,"span",3),t.DNE(10,Et,3,3,"span",35),t.k0s()()}if(2&_t){const X=at.$implicit;let $;t.R7$(2),t.Y8G("name",X.fullName)("avatar",X.avatar)("gender",X.gender)("schoolName",X.schoolName)("hasUser",X.hasUser)("classrooms",X.classrooms)("joinedAt",X.joinedAt),t.R7$(2),t.JRh(X.identificationNumber?t.i5U(5,11,X.identificationNumber,6):""),t.R7$(3),t.SpI(" ",null!==($=null==X.classroom?null:X.classroom.name)&&void 0!==$?$:""," "),t.R7$(2),t.Y8G("ngIf",!X.isTrial),t.R7$(1),t.Y8G("ngIf",X.isTrial)}}const re=function(){return[]};function ge(_t,at){if(1&_t&&(t.j41(0,"div")(1,"div",19)(2,"drag-scroll")(3,"table",20)(4,"thead")(5,"tr",21),t.DNE(6,B,5,8,"th",22),t.k0s()(),t.j41(7,"tbody"),t.DNE(8,Jt,11,14,"tr",23),t.k0s()()()()()),2&_t){const X=t.XpG(4);let $;t.R7$(6),t.Y8G("ngForOf",X.sortTableByFieldNameService.fieldNameList),t.R7$(2),t.Y8G("ngForOf",null!==($=null==X.listPayment?null:X.listPayment.list)&&void 0!==$?$:t.lJ4(2,re))}}function Ie(_t,at){if(1&_t){const X=t.RV6();t.j41(0,"div",37),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",38),t.bIt("click",function(){t.eBV(X);const ht=t.XpG(4);return t.Njj(ht.goBack())}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()}2&_t&&(t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_core_not_found_student"),"... "),t.R7$(3),t.JRh(t.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function fe(_t,at){if(1&_t&&(t.j41(0,"div",15),t.DNE(1,L,3,3,"div",16),t.DNE(2,ge,9,3,"div",3),t.DNE(3,Ie,6,6,"div",17),t.k0s()),2&_t){const X=t.XpG(3);let $,ht;t.R7$(1),t.Y8G("ngIf",!X.searchContentObj.isLoading&&0==(null==X.listPayment?null:X.listPayment.total)&&""==X.searchContentObj.searchContent),t.R7$(1),t.Y8G("ngIf",(null!==($=null==X.listPayment?null:X.listPayment.total)&&void 0!==$?$:0)>0),t.R7$(1),t.Y8G("ngIf",!X.searchContentObj.isLoading&&0==(null!==(ht=null==X.listPayment?null:X.listPayment.list)&&void 0!==ht?ht:t.lJ4(3,re)).length&&""!=X.searchContentObj.searchContent)}}function Se(_t,at){if(1&_t){const X=t.RV6();t.j41(0,"azt-paging",42),t.bIt("goToPaginationPage",function(ht){t.eBV(X);const zt=t.XpG(4);return t.Njj(zt.setPageStudent(ht))}),t.k0s()}if(2&_t){const X=t.XpG(4);t.Y8G("pageObj",X.pageObj)}}function Dt(_t,at){if(1&_t&&(t.j41(0,"div",43),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&_t){const X=t.XpG(4);t.R7$(1),t.Lme("",X.listPayment.total," ",t.bMT(2,2,"lang_notify_list_students"),"")}}function Qt(_t,at){if(1&_t&&(t.j41(0,"div",39),t.nrm(1,"div"),t.DNE(2,Se,1,1,"azt-paging",40),t.DNE(3,Dt,3,4,"div",41),t.k0s()),2&_t){const X=t.XpG(3);t.R7$(2),t.Y8G("ngIf",X.listPayment.total>X.pageObj.pageSize),t.R7$(1),t.Y8G("ngIf",!X.isStudent)}}function Tt(_t,at){if(1&_t&&(t.DNE(0,fe,4,4,"div",13),t.DNE(1,Qt,4,2,"div",14)),2&_t){const X=t.XpG(2);let $;t.Y8G("ngIf",!X.isStudent),t.R7$(1),t.Y8G("ngIf",X.listPayment&&X.listPayment.total&&(null!==($=null==X.listPayment?null:X.listPayment.total)&&void 0!==$?$:0)>0)}}function Mt(_t,at){if(1&_t){const X=t.RV6();t.qex(0),t.j41(1,"div",5)(2,"div",6)(3,"div",7)(4,"azt-search-box",8),t.bIt("onSearch",function(ht){t.eBV(X);const zt=t.XpG();return t.Njj(zt.onSearchBox(ht.searchObj))}),t.nI1(5,"mytranslate"),t.k0s()()()(),t.DNE(6,ft,2,1,"div",9),t.DNE(7,Tt,2,2,"ng-template",null,10,t.C5r),t.bVm()}if(2&_t){const X=t.sdS(8),$=t.XpG();t.R7$(4),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(5,5,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",$.searchContentObj),t.R7$(2),t.Y8G("ngIf",$.statusObj.loading)("ngIfElse",X)}}function St(_t,at){1&_t&&(t.j41(0,"div",44),t.nrm(1,"detail-tuition-fee-student"),t.k0s())}let ie=(()=>{class _t extends q.H{onSearchBox(X){this.searchContentObj=X,this.getData()}addOrEditTuitionFee(X){this.sAztDialogService.open(j.B,{width:"900px",restoreFocus:!1,data:X}).afterClosed().subscribe($=>{$&&this.getData()})}goBack(){this.searchContentObj.resetSearchContentEvent()}sortTableByFieldName(X){X.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(X),this.getData())}setPageStudent(X){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/8","?page="+X),this.pageObj.setPageNumber(X),this.getData()}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:this.isStudent,getAssessment:!1,order:this.orderObj}).subscribe({next:$=>{this.listPayment=$,this.pageObj.setTotalPages($.total??0),this.successStatusObj()},error:$=>{this.errorStatusObj($.error.message,!0)}}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:n.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:n.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"classroom.name",key:"lang_auto_lop",ignore:!0,typeFieldSort:n.H.none,customClassCss:"text-center whitespace-nowrap"},{fieldName:"payment",key:"lang_azt_tuition_fee_submission_time",ignore:!1,typeFieldSort:n.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.isStudent||this.getData()}constructor(X,$,ht,zt){super(),this.activeRoute=X,this.sAztDialogService=$,this.studentService=ht,this.sortTableByFieldNameService=zt,this.pageStudent=1,this.searchContentObj=new kt.Z,this.classroomId=0,this.pageObj=new a.d(50),this.typeFieldSort=n.H}static#t=this.\u0275fac=function($){return new($||_t)(t.rXU(T.nX),t.rXU(o.i),t.rXU(tt.b0),t.rXU(e.s))};static#e=this.\u0275cmp=t.VBU({type:_t,selectors:[["app-tuition-fee-board"]],inputs:{isStudent:"isStudent"},features:[t.Jv_([e.s]),t.Vt3],decls:7,vars:5,consts:[[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],[4,"ngIf"],["class","intro-y col-span-12 overflow-auto",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","grid","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"w-full","flex","justify-center","items-center"],[3,"currentStatusObj"],["class","intro-y col-span-12",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"intro-y","col-span-12"],["class","flex justify-center mt-5",4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"flex","justify-center","mt-5"],[1,"intro-y",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"cursor-pointer"],["azt-track-service","tuition-fee-board-WXuxcVronQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center",2,"min-width","100px","max-width","150px"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],[1,"text-slate-500"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"flex","justify-end"],[1,"intro-y","col-span-12","overflow-auto"]],template:function($,ht){1&$&&(t.j41(0,"div",0)(1,"div",1)(2,"h3",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.DNE(5,Mt,9,7,"ng-container",3),t.DNE(6,St,2,0,"div",4),t.k0s()),2&$&&(t.R7$(3),t.SpI(" ",t.bMT(4,3,ht.isStudent?"lang_student_tuition_fee_info":"lang_business_tuition_fee_title_top")," "),t.R7$(2),t.Y8G("ngIf",!ht.isStudent),t.R7$(1),t.Y8G("ngIf",ht.isStudent))},dependencies:[It.YU,It.Sq,It.bT,wt.K,rt.q,pt.W,W.B,dt.jd,dt.Ew,mt.WGl,Lt.k,Q.wp,Q.Po],encapsulation:2})}return _t})()},85127:(Te,Bt,g)=>{g.d(Bt,{k:()=>rt});var j=g(59640),n=g(26860),e=g(43070),q=g(54460),a=g(52811),kt=g(10123),t=g(73437);function T(pt,W){1&pt&&(n.j41(0,"tr",9)(1,"td",10)(2,"span",11),n.nrm(3,"azt-loading-ui"),n.k0s()()())}function o(pt,W){if(1&pt&&(n.j41(0,"tr")(1,"td",9),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),n.k0s(),n.j41(6,"td"),n.EFF(7),n.k0s(),n.j41(8,"td",9)(9,"span",15),n.EFF(10),n.nI1(11,"mytranslate"),n.k0s()()()),2&pt){const dt=W.$implicit,mt=W.index;n.R7$(2),n.JRh(mt+1),n.R7$(2),n.JRh(n.bMT(5,4,dt.createdAt)),n.R7$(3),n.JRh(dt.month+"/"+dt.year),n.R7$(3),n.SpI(" ",n.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function tt(pt,W){if(1&pt&&(n.qex(0),n.DNE(1,o,12,8,"tr",14),n.bVm()),2&pt){const dt=n.XpG(2);n.R7$(1),n.Y8G("ngForOf",dt.historyTuitionFeeList)}}function It(pt,W){1&pt&&(n.j41(0,"tr")(1,"td",16),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s()()),2&pt&&(n.R7$(2),n.SpI(" ",n.bMT(3,1,"lang_student_profile_not_data_view")," "))}function wt(pt,W){if(1&pt&&(n.DNE(0,tt,2,1,"ng-container",12),n.DNE(1,It,4,3,"ng-template",null,13,n.C5r)),2&pt){const dt=n.sdS(2),mt=n.XpG();n.Y8G("ngIf",mt.historyTuitionFeeList.length)("ngIfElse",dt)}}let rt=(()=>{class pt extends j.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentMeGet().subscribe(dt=>{dt?(this.historyTuitionFeeList=dt.histories,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(dt){super(),this.paymentService=dt,this.historyTuitionFeeList=[]}static#t=this.\u0275fac=function(mt){return new(mt||pt)(n.rXU(e.WG))};static#e=this.\u0275cmp=n.VBU({type:pt,selectors:[["detail-tuition-fee-student"]],features:[n.Vt3],decls:22,vars:14,consts:[[1,"detail-attendance"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],["class","text-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],["noTuitionFee",""],[4,"ngFor","ngForOf"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(mt,Lt){if(1&mt&&(n.j41(0,"div",0)(1,"div",1)(2,"drag-scroll")(3,"table",2)(4,"thead",3)(5,"tr")(6,"th",4),n.EFF(7),n.nI1(8,"mytranslate"),n.k0s(),n.j41(9,"th",5),n.EFF(10),n.nI1(11,"mytranslate"),n.k0s(),n.j41(12,"th",5),n.EFF(13),n.nI1(14,"mytranslate"),n.k0s(),n.j41(15,"th",6),n.EFF(16),n.nI1(17,"mytranslate"),n.k0s()()(),n.j41(18,"tbody"),n.DNE(19,T,4,0,"tr",7),n.DNE(20,wt,3,2,"ng-template",null,8,n.C5r),n.k0s()()()()()),2&mt){const Q=n.sdS(21);n.R7$(7),n.SpI(" ",n.bMT(8,6,"lang_auto_stt")," "),n.R7$(3),n.SpI(" ",n.bMT(11,8,"lang_student_payment_time")," "),n.R7$(3),n.SpI(" ",n.bMT(14,10,"lang_student_monthly_tuition_fee")," "),n.R7$(3),n.SpI(" ",n.bMT(17,12,"lang_student_status")," "),n.R7$(3),n.Y8G("ngIf",Lt.statusObj.loading)("ngIfElse",Q)}},dependencies:[q.Sq,q.bT,a.R,kt.jd,kt.Ew,t.wp,t.bH],encapsulation:2})}return pt})()},25898:(Te,Bt,g)=>{g.d(Bt,{n:()=>e});var j=g(10936),n=g(26860);let e=(()=>{class q{makeListFormArrayComment(kt,t){let T=new j.Yp([]);return kt&&kt.forEach(o=>{T.push(new j.gE({id:new j.MJ({value:o.id,disabled:!t},{nonNullable:!0}),updatedAt:new j.MJ({value:o.updatedAt?.toString()??"",disabled:!t},{nonNullable:!0}),comment:new j.MJ({value:o.comment??"",disabled:!t},{nonNullable:!0}),isEditted:new j.MJ(!1,{nonNullable:!0})}))}),T}getLastAssessmentStudent(kt){if(kt.assessments&&kt.assessments.length)return kt.assessments[0]}static#t=this.\u0275fac=function(t){return new(t||q)};static#e=this.\u0275prov=n.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})()},18586:(Te,Bt,g)=>{g.d(Bt,{U:()=>Se});var j=g(81519),n=g(26860),e=g(10936),q=g(34514),a=g(47426),kt=g(89163),t=g(99503),T=g(79347),o=g(33887),tt=g(91930),It=g(9691),wt=g(25898),rt=g(10296),pt=g(67638),W=g(40609),dt=g(54460),mt=g(47712),Lt=g(81587),Q=g(2915),ft=g(52811),L=g(5800),K=g(15343),gt=g(73437);function N(Dt,Qt){if(1&Dt){const Tt=n.RV6();n.j41(0,"button",12),n.bIt("click",function(){n.eBV(Tt);const St=n.XpG();return n.Njj(St.changeEditStatus(!0))}),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()}2&Dt&&(n.R7$(1),n.SpI(" ",n.bMT(2,1,"lang_auto_sua")," "))}function B(Dt,Qt){if(1&Dt){const Tt=n.RV6();n.j41(0,"button",13),n.bIt("click",function(){n.eBV(Tt);const St=n.XpG();return n.Njj(St.changeEditStatus(!1))}),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()}if(2&Dt){const Tt=n.XpG();n.Y8G("disabled",Tt.isSave),n.R7$(1),n.SpI(" ",n.bMT(2,2,"lang_auto_huy_sua")," ")}}function Gt(Dt,Qt){if(1&Dt){const Tt=n.RV6();n.j41(0,"button",14),n.bIt("click",function(){n.eBV(Tt);const St=n.XpG();return n.Njj(St.saveEdit())}),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()}if(2&Dt){const Tt=n.XpG();n.Y8G("disabled",Tt.isSave||Tt.countChangedComment()),n.R7$(1),n.SpI(" ",n.bMT(2,2,"lang_auto_luu")," ")}}function Ct(Dt,Qt){1&Dt&&(n.j41(0,"div",15)(1,"span",16),n.nrm(2,"azt-loading-ui"),n.k0s()())}function Et(Dt,Qt){1&Dt&&(n.j41(0,"div",19),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&Dt&&(n.R7$(1),n.SpI(" ",n.bMT(2,1,"lang_azt_no_comments_yet")," "))}function Jt(Dt,Qt){if(1&Dt){const Tt=n.RV6();n.j41(0,"button",28),n.bIt("click",function(){n.eBV(Tt);const St=n.XpG().$implicit,ie=n.XpG(3);return n.Njj(ie.deleteAssesment(St.controls.id.value))}),n.nrm(1,"lucide-icon",29),n.nI1(2,"mytranslate"),n.k0s()}if(2&Dt){const Tt=n.XpG(4);n.Y8G("disabled",Tt.isSave),n.R7$(1),n.FS9("matTooltip",n.bMT(2,2,"lang_auto_xoa"))}}function re(Dt,Qt){if(1&Dt){const Tt=n.RV6();n.j41(0,"div",22)(1,"form",23)(2,"div",24)(3,"p",25),n.EFF(4),n.nI1(5,"mytranslate"),n.nI1(6,"formatOnlyDateByUserUnitPipe"),n.k0s(),n.DNE(7,Jt,3,4,"button",26),n.k0s(),n.j41(8,"textarea",27),n.bIt("change",function(){const ie=n.eBV(Tt).$implicit;return n.Njj(ie.controls.isEditted.setValue(!0))}),n.k0s()()()}if(2&Dt){const Tt=Qt.$implicit,Mt=n.XpG(3);n.R7$(1),n.Y8G("formGroup",Tt),n.R7$(3),n.Lme("",n.bMT(5,4,"lang_student_add_comment_date"),": ",n.bMT(6,6,Tt.controls.updatedAt.value),""),n.R7$(3),n.Y8G("ngIf",Mt.isEdit)}}function ge(Dt,Qt){if(1&Dt&&(n.j41(0,"div",20),n.DNE(1,re,9,8,"div",21),n.k0s()),2&Dt){const Tt=n.XpG(2);n.R7$(1),n.Y8G("ngForOf",null==Tt.data.student.listCommentControl?null:Tt.data.student.listCommentControl.controls)}}function Ie(Dt,Qt){if(1&Dt&&(n.DNE(0,Et,3,3,"div",17),n.DNE(1,ge,2,1,"ng-template",null,18,n.C5r)),2&Dt){const Tt=n.sdS(2),Mt=n.XpG();n.Y8G("ngIf",!Mt.data.student.assessments||!Mt.data.student.assessments.length)("ngIfElse",Tt)}}const fe=function(){return{"ml-2 cursor-pointer":!0}};let Se=(()=>{class Dt extends o._{filterData(Tt){this.dataFilter=Tt,this.initStatusObj()}countChangedComment(){return!!this.data.student.listCommentControl?.controls.filter(Mt=>Mt.controls.isEditted.value&&!Mt.controls.comment.value)?.length}saveEdit(){this.isSave=!0,this.changeEditStatus(!1),this.initStatusObj();let Tt=this.data.student.listCommentControl?.controls.filter(St=>St.controls.isEditted.value).map(St=>({id:St.controls.id.value,studentId:this.data.student.id,comment:St.controls.comment.value}))??[];if(!Tt.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost({classroomId:this.data.student.classroomId,studentAssessments:Tt}).subscribe(St=>{St.success?(this.showSuccessSnack("lang_student_edit_comment_successfully"),this.isEdit=!1,this.hasChanged=!0,this.getStudent()):this.errorStatusObj("lang_student_edit_comment_unsuccessfully",!0),this.isSave=!1}))}deleteAssesment(Tt){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsIdAssessmentsDelete(Tt).subscribe(Mt=>{Mt.success?(this.getStudent(!0),this.showSuccessSnack("lang_student_delete_comment_successfully"),this.hasChanged=!0):this.errorStatusObj("lang_student_delete_comment_unsuccessfully",!0)}))}changeEditStatus(Tt){this.isEdit=Tt,this.data.student.listCommentControl?.controls.map(Mt=>Tt?Mt.enable():Mt.disable())}getStudent(Tt){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.student.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.student.classroomId,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!1,me:!this.data.isTeacher,getAssessment:!0}).subscribe({next:St=>{if(St.list.length){let ie=this.sAztAssessmentStudentService.getLastAssessmentStudent(St.list[0]);this.data.student={...St.list[0],commentControl:new e.gE({id:new e.MJ(0,{nonNullable:!0}),updatedAt:new e.MJ(ie?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new e.MJ(ie?.comment??"",{nonNullable:!0}),isEditted:new e.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(St.list[0].assessments,Tt)}}this.stopStatusObj()},error:St=>{this.errorStatusObj(St.error.message,!0)}}))}closeDialog(){this.dialogRef.close(this.hasChanged)}ngOnInit(){super.ngOnInit()}constructor(Tt,Mt,St,ie,_t,at,X){super(X,at),this.sAztAssessmentStudentService=Tt,this.sAztTimeService=Mt,this.shareFileFlutterService=St,this.exportExcelService=ie,this.studentService=_t,this.dialogRef=at,this.data=X,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.isSave=!1,this.isEdit=!1,this.hasChanged=!1,this.commonService=(0,n.WQX)(tt.R)}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(Mt){return new(Mt||Dt)(n.rXU(wt.n),n.rXU(It.F),n.rXU(rt.R),n.rXU(pt.x),n.rXU(W.b),n.rXU(kt.CP,8),n.rXU(kt.Vh,8))};static#e=this.\u0275cmp=n.VBU({type:Dt,selectors:[["azt-student-comments"]],features:[n.Jv_([{provide:j.$O,useClass:t.fb,deps:[a.Ju,q.ij]},{provide:j.vq,useFactory:T.fJ,deps:[It.F]}]),n.Vt3],decls:15,vars:19,consts:[[1,"box"],[1,"px-5","py-3","border-b","border-slate-300"],[1,"flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[2,"align-self","center"],["name","x","size","16",3,"matTooltip","ngClass","click"],[1,"flex","justify-end"],["azt-track-service","show-all-comment-dialog-LbiztBEnN","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3","class","btn btn-sm btn-secondary-soft mr-2",3,"disabled","click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r","class","btn btn-sm btn-primary",3,"disabled","click",4,"ngIf"],["class","p-5 text-center",4,"ngIf","ngIfElse"],["doneLoading",""],["azt-track-service","show-all-comment-dialog-LbiztBEnN",1,"btn","btn-sm","btn-secondary",3,"click"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3",1,"btn","btn-sm","btn-secondary-soft","mr-2",3,"disabled","click"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r",1,"btn","btn-sm","btn-primary",3,"disabled","click"],[1,"p-5","text-center"],[1,"w-8","h-8","inline-block","mr-2"],["class","mt-2 py-3 px-5 mb-2 text-center","style","height: 55px",4,"ngIf","ngIfElse"],["hasData",""],[1,"mt-2","py-3","px-5","mb-2","text-center",2,"height","55px"],[1,"py-3","px-5"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[3,"formGroup"],[1,"flex","mb-2",2,"align-items","center"],[1,"font-bold","mb-0"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP","class","btn btn-transparent btn-outline-secondary btn-sm",3,"disabled","click",4,"ngIf"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"change"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP",1,"btn","btn-transparent","btn-outline-secondary","btn-sm",3,"disabled","click"],["name","trash-2",2,"width","16px !important","height","16px !important",3,"matTooltip"]],template:function(Mt,St){if(1&Mt&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2),n.nrm(3,"azt-student-info-box",3),n.j41(4,"div",4)(5,"lucide-icon",5),n.bIt("click",function(){return St.closeDialog()}),n.nI1(6,"mytranslate"),n.k0s()()(),n.j41(7,"div",6),n.DNE(8,N,3,3,"button",7),n.DNE(9,B,3,4,"button",8),n.DNE(10,Gt,3,4,"button",9),n.k0s()(),n.j41(11,"azt-mat-dialog-content"),n.DNE(12,Ct,3,0,"div",10),n.DNE(13,Ie,3,2,"ng-template",null,11,n.C5r),n.k0s()()),2&Mt){const ie=n.sdS(14);n.R7$(3),n.Y8G("name",St.data.student.fullName)("parentFullName",St.data.student.parentFullName)("parentId",St.data.student.parentId)("parentPhone",St.data.student.parentPhone)("phone",St.data.student.phone)("email",St.data.student.email)("avatar",St.data.student.avatar)("gender",St.data.student.gender)("hasUser",St.data.student.hasUser),n.R7$(2),n.FS9("matTooltip",n.bMT(6,16,"lang_auto_dong")),n.Y8G("ngClass",n.lJ4(18,fe)),n.R7$(3),n.Y8G("ngIf",!St.isEdit&&St.data.isTeacher),n.R7$(1),n.Y8G("ngIf",St.isEdit),n.R7$(1),n.Y8G("ngIf",St.isEdit),n.R7$(2),n.Y8G("ngIf",St.statusObj.loading)("ngIfElse",ie)}},dependencies:[dt.YU,dt.Sq,dt.bT,mt.oV,e.qT,e.me,e.BC,e.cb,e.j4,e.JD,Lt.t,Q.U,ft.R,L.B,K.WGl,gt.wp,gt.vv],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]})}return Dt})()},66067:(Te,Bt,g)=>{g.d(Bt,{E:()=>cs});var j=g(76627),n=g(59640),e=g(26860),q=g(65162),a=g(73202),kt=g(43070),t=g(9691),T=g(54460),o=g(18718),tt=g(64198),It=g(75421),wt=g(93518),rt=g(53043),pt=g(69307),W=g(46899),dt=g(40111),mt=g(17818),Lt=g(47712),Q=g(69135),ft=g(52811),L=g(91584),K=g(15343),gt=g(23750),N=g(81519),B=g(10936),Gt=g(34514),Ct=g(47426),Et=g(99503),Jt=g(79347);class re{static addNewEducationalProgramFormValidator(V){let p=V,C=p.controls.weekdayConfig;if(!C.length)return p.setErrors(null),null;let I=0,M=0;return C.controls.forEach(Y=>{let nt=!1,Ft={invalidTime:!1,requireTime:!1,invalidInfrastructure:!1,identityRevealed:!0};Y.controls.selected.value?(Y.controls.infrastructureId.value||(nt=!0,Ft.invalidInfrastructure=!0),Y.controls.startTime.value&&Y.controls.endTime.value?new Date("1970-01-01T"+Y.controls.startTime.value).getTime()>=new Date("1970-01-01T"+Y.controls.endTime.value).getTime()?(nt=!0,Ft.invalidTime=!0):Ft.invalidTime=!1:(nt=!0,Ft.requireTime=!0),Y.setErrors(nt?Ft:null),M++):Y.setErrors(null),Y.invalid&&I++},C),I||!M?(p.setErrors({invalidData:!0}),{identityRevealed:!0,invalidData:!0}):(p.setErrors(null),null)}}var ge=g(43234),Ie=g(66772),fe=g(84828),Se=g(39471),Dt=g(97839),Qt=g(74960),Tt=g(4375),Mt=g(20378),St=g(81587),ie=g(5502),_t=g(73437);const at=["startTime"];function X(f,V){if(1&f&&e.nrm(0,"azt-loading-effect",4),2&f){const p=e.XpG();e.Y8G("currentStatusObj",p.statusObj)}}function $(f,V){if(1&f){const p=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(p);const I=e.XpG(2);return e.Njj(I.saveEducationalProgramEmit.emit(!1))}),e.nrm(1,"lucide-icon",40),e.j41(2,"span",41),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}if(2&f){const p=e.XpG(2);e.Y8G("disabled",p.isSavingProgram),e.R7$(3),e.JRh(e.bMT(4,2,"lang_auto_huy"))}}function ht(f,V){1&f&&e.nrm(0,"lucide-icon",46)}function zt(f,V){1&f&&e.nrm(0,"lucide-icon",47)}const qt=function(){return{"text-primary":!0}};function ye(f,V){1&f&&e.nrm(0,"lucide-icon",55),2&f&&e.Y8G("ngClass",e.lJ4(1,qt))}const Ve=function(f){return{"border border-primary":f}};function Ue(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",51)(1,"div",52),e.bIt("click",function(){const M=e.eBV(p).$implicit,Y=e.XpG().$implicit,nt=e.XpG(2).$implicit,Ft=e.XpG(2);let At;return e.Njj(Ft.selectSubject(null!==(At=nt.id)&&void 0!==At?At:0,null!==(At=Y.id)&&void 0!==At?At:0,M))}),e.j41(2,"span",53),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,ye,1,2,"lucide-icon",54),e.k0s()()}if(2&f){const p=V.$implicit;e.Y8G("ngClass",e.eq3(5,Ve,p.selected)),e.R7$(3),e.JRh(e.bMT(4,3,p.name)),e.R7$(2),e.Y8G("ngIf",p.selected)}}function an(f,V){if(1&f&&(e.qex(0),e.j41(1,"h3",48)(2,"span",49),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.DNE(5,Ue,6,7,"div",50),e.bVm()),2&f){const p=V.$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,2,p.name)," "),e.R7$(2),e.Y8G("ngForOf",p.children)}}function be(f,V){if(1&f&&(e.qex(0),e.DNE(1,an,6,4,"ng-container",18),e.bVm()),2&f){const p=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",p.subjects)}}function Xe(f,V){if(1&f){const p=e.RV6();e.qex(0),e.j41(1,"h3",42)(2,"span",43),e.bIt("click",function(){const M=e.eBV(p).$implicit,Y=e.XpG(2);let nt;return e.Njj(Y.showEducationalProgramSubject(null!==(nt=M.id)&&void 0!==nt?nt:0))}),e.EFF(3),e.nI1(4,"mytranslate"),e.DNE(5,ht,1,0,"lucide-icon",44),e.DNE(6,zt,1,0,"lucide-icon",45),e.k0s()(),e.DNE(7,be,2,1,"ng-container",19),e.bVm()}if(2&f){const p=V.$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,4,p.name)," "),e.R7$(2),e.Y8G("ngIf",p.showChild),e.R7$(1),e.Y8G("ngIf",!p.showChild),e.R7$(1),e.Y8G("ngIf",p.showChild)}}function We(f,V){1&f&&(e.qex(0),e.j41(1,"small",56),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_validate"),""))}function rn(f,V){1&f&&(e.qex(0),e.j41(1,"small",56),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_no_program_yet"),""))}function He(f,V){if(1&f){const p=e.RV6();e.qex(0),e.j41(1,"div",58),e.bIt("click",function(){e.eBV(p);const I=e.XpG().$implicit,M=e.XpG(2);return e.Njj(M.openWeekdayConfig(I.controls.id.value))}),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()}if(2&f){const p=e.XpG().$implicit;e.R7$(1),e.Y8G("formGroup",p),e.R7$(2),e.JRh(e.bMT(4,2,p.controls.name.value))}}function Je(f,V){1&f&&(e.j41(0,"button",79),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_huy")))}function ln(f,V){1&f&&(e.j41(0,"button",80),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_xac_nhan")))}function cn(f,V){1&f&&e.nrm(0,"p",81)}function Ae(f,V){1&f&&(e.j41(0,"mat-label"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_business_config_educational_program_select_infrastructure")," "))}function Ke(f,V){if(1&f&&(e.j41(0,"mat-option",82),e.EFF(1),e.k0s()),2&f){const p=V.$implicit;e.FS9("value",p.id),e.R7$(1),e.JRh(p.name)}}function Le(f,V){1&f&&(e.qex(0),e.j41(1,"small",83),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_time_validate"),""))}function Qe(f,V){1&f&&(e.qex(0),e.j41(1,"small",83),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_testbank_test_config_end_time_bigger_time_star"),""))}function it(f,V){1&f&&(e.qex(0),e.nrm(1,"br"),e.j41(2,"small",84),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(3),e.SpI("* ",e.bMT(4,1,"lang_business_config_educational_program_infrastructure_validate"),""))}function Vt(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",59)(1,"div",60)(2,"span",61),e.bIt("click",function(){e.eBV(p);const I=e.XpG().$implicit,M=e.XpG(2);return e.Njj(M.openWeekdayConfig(I.controls.id.value))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"lucide-icon",62),e.bIt("click",function(){e.eBV(p);const I=e.XpG().$implicit,M=e.XpG(2);return e.Njj(M.openWeekdayConfig(I.controls.id.value))}),e.k0s(),e.j41(6,"div",63)(7,"div",64)(8,"div",65),e.nrm(9,"input",66),e.nI1(10,"mytranslate"),e.nrm(11,"ngx-mat-timepicker",67,68),e.k0s(),e.j41(13,"span",69),e.EFF(14,"\xa0-\xa0"),e.k0s(),e.j41(15,"div",65),e.nrm(16,"input",70),e.nI1(17,"mytranslate"),e.nrm(18,"ngx-mat-timepicker",67,71),e.k0s(),e.DNE(20,Je,3,3,"ng-template",null,72,e.C5r),e.DNE(22,ln,3,3,"ng-template",null,73,e.C5r),e.DNE(24,cn,1,0,"ng-template",null,74,e.C5r),e.j41(26,"lucide-icon",75),e.bIt("click",function(){e.eBV(p);const I=e.XpG().$implicit,M=e.XpG(2);return e.Njj(M.openWeekdayConfig(I.controls.id.value))}),e.k0s()(),e.j41(27,"mat-form-field",76),e.DNE(28,Ae,3,3,"mat-label",19),e.j41(29,"mat-select",77),e.bIt("openedChange",function(I){e.eBV(p);const M=e.XpG().$implicit,Y=e.XpG(2);return e.Njj(Y.touchedMatSelect(I,M))}),e.DNE(30,Ke,2,2,"mat-option",78),e.k0s()(),e.DNE(31,Le,4,3,"ng-container",19),e.DNE(32,Qe,4,3,"ng-container",19),e.DNE(33,it,5,3,"ng-container",19),e.k0s()()()}if(2&f){const p=e.sdS(12),C=e.sdS(19),I=e.sdS(21),M=e.sdS(23),Y=e.sdS(25),nt=e.XpG().$implicit,Ft=e.XpG(2);e.Y8G("formGroup",nt)("ngClass",e.eq3(29,Ve,nt.controls.selected.value)),e.R7$(3),e.JRh(e.bMT(4,23,nt.controls.name.value)),e.R7$(6),e.FS9("placeholder",e.bMT(10,25,"lang_auto_tu")),e.Y8G("ngxMatTimepicker",p)("format",24),e.R7$(2),e.Y8G("editableHintTmpl",Y)("enableKeyboardInput",!0)("cancelBtnTmpl",I)("confirmBtnTmpl",M),e.R7$(5),e.FS9("placeholder",e.bMT(17,27,"lang_auto_den")),e.Y8G("ngxMatTimepicker",C)("format",24),e.R7$(2),e.Y8G("editableHintTmpl",Y)("enableKeyboardInput",!0)("cancelBtnTmpl",I)("confirmBtnTmpl",M),e.R7$(10),e.Y8G("ngIf",nt.errors&&nt.errors.invalidInfrastructure&&!nt.controls.infrastructureId.touched),e.R7$(1),e.Y8G("value",nt.controls.infrastructureId.value),e.R7$(1),e.Y8G("ngForOf",Ft.listInfrastructureObjs),e.R7$(1),e.Y8G("ngIf",nt.errors&&nt.errors.requireTime),e.R7$(1),e.Y8G("ngIf",nt.errors&&nt.errors.invalidTime),e.R7$(1),e.Y8G("ngIf",nt.errors&&nt.errors.invalidInfrastructure)}}function U(f,V){if(1&f&&(e.qex(0),e.DNE(1,He,5,4,"ng-container",19),e.DNE(2,Vt,34,31,"div",57),e.bVm()),2&f){const p=V.$implicit;e.R7$(1),e.Y8G("ngIf",!p.controls.selected.value),e.R7$(1),e.Y8G("ngIf",p.controls.selected.value)}}function ot(f,V){1&f&&(e.qex(0),e.j41(1,"small",56),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_start_time_validate"),""))}function ct(f,V){1&f&&e.nrm(0,"azt-loading-ui",88)}function Yt(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",85)(1,"button",86),e.bIt("click",function(){e.eBV(p);const I=e.XpG(2);return e.Njj(I.saveEducationalProgram())}),e.DNE(2,ct,1,0,"azt-loading-ui",87),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}if(2&f){const p=e.XpG(2);e.R7$(1),e.Y8G("disabled",p.form.invalid||p.isSavingProgram),e.R7$(1),e.Y8G("ngIf",p.isSavingProgram),e.R7$(1),e.SpI(" ",e.bMT(4,3,"lang_auto_luu")," ")}}const me=function(f){return{"mt-2":f}},_e=function(){return{"ml-2 clickable":!0}},De=function(){return{"width.px":"auto","height.%":100}},he=function(f){return[f]},te=function(f){return{backTo:f}},de=function(){return{"mr-2":!0}},mn=function(f,V){return{hiddenVisible:f,visibleIpt:V}};function z(f,V){if(1&f){const p=e.RV6();e.DNE(0,$,5,4,"button",5),e.j41(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"h3",11),e.EFF(7,"1"),e.k0s()(),e.j41(8,"span",12),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"lucide-icon",13),e.bIt("click",function(){e.eBV(p);const I=e.XpG();return e.Njj(I.reloadAllEducationalProgram())}),e.k0s()(),e.j41(12,"div",14)(13,"div",15)(14,"ng-scrollbar",16)(15,"div",17),e.DNE(16,Xe,8,6,"ng-container",18),e.DNE(17,We,4,3,"ng-container",19),e.DNE(18,rn,4,3,"ng-container",19),e.k0s()()(),e.j41(19,"div",17)(20,"a",20),e.nI1(21,"navigationLocalize"),e.nrm(22,"lucide-icon",21),e.j41(23,"span",22),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s()()()()(),e.j41(26,"div",8)(27,"div",9)(28,"div",10)(29,"h3",11),e.EFF(30,"2"),e.k0s()(),e.j41(31,"span",23),e.EFF(32),e.nI1(33,"mytranslate"),e.k0s()(),e.j41(34,"div",24)(35,"div",25)(36,"ng-scrollbar",16)(37,"div",26),e.DNE(38,U,3,2,"ng-container",18),e.k0s()()()()(),e.j41(39,"div",8)(40,"div",9)(41,"div",10)(42,"h3",11),e.EFF(43,"3"),e.k0s()(),e.j41(44,"span",23),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s()(),e.j41(47,"div",27)(48,"div",28)(49,"ng-scrollbar",16)(50,"div",29)(51,"mat-form-field",30)(52,"input",31),e.bIt("click",function(){e.eBV(p);const I=e.XpG();return e.Njj(I.openDateTimePicker(1))}),e.k0s(),e.j41(53,"button",32),e.bIt("click",function(I){return e.eBV(p),e.XpG().openDateTimePicker(1),e.Njj(I.stopPropagation())}),e.nrm(54,"lucide-icon",33),e.k0s(),e.j41(55,"ngx-mat-datetime-picker",34,35)(57,"ngx-mat-datepicker-actions")(58,"button",36),e.EFF(59),e.nI1(60,"mytranslate"),e.k0s(),e.j41(61,"button",37),e.EFF(62,"OK"),e.k0s()()()(),e.DNE(63,ot,4,3,"ng-container",19),e.k0s()()(),e.DNE(64,Yt,5,5,"div",38),e.k0s()()()()}if(2&f){const p=e.sdS(56),C=e.XpG();e.Y8G("ngIf",C.programObj),e.R7$(2),e.Y8G("ngClass",e.eq3(41,me,C.programObj)),e.R7$(7),e.JRh(e.bMT(10,29,"lang_config_educational_program_select_new")),e.R7$(2),e.Y8G("ngClass",e.lJ4(43,_e)),e.R7$(3),e.Y8G("visibility","hover")("ngStyle",e.lJ4(44,De)),e.R7$(2),e.Y8G("ngForOf",C.listEducationalProgramObjs),e.R7$(1),e.Y8G("ngIf",!C.form.controls.chooseProgramId.value&&C.listEducationalProgramObjs.length>0),e.R7$(1),e.Y8G("ngIf",!C.listEducationalProgramObjs.length),e.R7$(2),e.Y8G("routerLink",e.eq3(45,he,e.bMT(21,31,"/business/create-general-educational-program")))("queryParams",e.eq3(47,te,C.currentURL)),e.R7$(2),e.Y8G("ngClass",e.lJ4(49,de)),e.R7$(2),e.JRh(e.bMT(25,33,"lang_config_educational_program_add_new")),e.R7$(8),e.JRh(e.bMT(33,35,"lang_config_educational_program_add_time")),e.R7$(3),e.Y8G("ngClass",e.l_i(50,mn,C.form.controls.stepChoose.value<2,C.form.controls.stepChoose.value>=2)),e.R7$(1),e.Y8G("visibility","hover")("ngStyle",e.lJ4(53,De)),e.R7$(2),e.Y8G("ngForOf",C.form.controls.weekdayConfig.controls),e.R7$(7),e.JRh(e.bMT(46,37,"lang_config_educational_program_add_start_time")),e.R7$(3),e.Y8G("ngClass",e.l_i(54,mn,C.form.controls.stepChoose.value<3,C.form.controls.stepChoose.value>=3)),e.R7$(1),e.Y8G("visibility","hover")("ngStyle",e.lJ4(57,De)),e.R7$(3),e.Y8G("max",C.maxDate)("ngxMatDatetimePicker",p),e.R7$(3),e.Y8G("touchUi",!0)("hideTime",!0),e.R7$(4),e.JRh(e.bMT(60,39,"lang_auto_dong")),e.R7$(4),e.Y8G("ngIf",C.form.controls.startTimeEducationalProgram.invalid),e.R7$(1),e.Y8G("ngIf",!C.statusObj.loading)}}let vt=(()=>{class f extends n.H{openDateTimePicker(p){1==p&&this.startTime&&this.startTime.open()}showEducationalProgramSubject(p){this.listEducationalProgramObjs.forEach(C=>{C.id==p&&(C.showChild=!C.showChild,C.showChild||C.subjects.forEach(I=>{I.children?.find(M=>M.id==this.form.controls.chooseProgramId.value)&&(this.form.controls.stepChoose.setValue(1),this.form.controls.chooseProgramId.setValue(0))}))}),this.initForm()}selectSubject(p,C,I){this.listEducationalProgramObjs.forEach(M=>{M.id==p?M.subjects.forEach(Y=>{Y.id==C?Y.children?.forEach(nt=>{nt.id==I.id?(nt.selected=!nt.selected,this.form.controls.chooseProgramId.setValue(nt.selected?I.id:0),this.form.controls.stepChoose.setValue(nt.selected?2:1)):nt.selected=!1}):Y.children?.map(nt=>nt.selected=!1)}):M.subjects.map(Y=>Y.children?.map(nt=>nt.selected=!1))})}reloadAllEducationalProgram(){this.initForm(),this.initData()}openWeekdayConfig(p){this.form.controls.weekdayConfig.controls.forEach(C=>{C.controls.id.value==p&&C.controls.selected.setValue(!C.controls.selected.value)})}touchedMatSelect(p,C){p?C.controls.infrastructureId.markAsTouched():C.controls.infrastructureId.markAsUntouched()}saveEducationalProgram(){this.isSavingProgram=!0;let p={programId:this.form.controls.chooseProgramId.value,studyingTimes:this.convertStudyTimes(),startTime:this.timeService.formatDateTimeToPostToServer(this.form.controls.startTimeEducationalProgram.value)};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdProgramsPost(this.classroomId,p).subscribe({next:C=>{this.showSuccessSnack("lang_educational_program_save_success_educational_program"),this.isSavingProgram=!1,this.saveEducationalProgramEmit.emit(!0)},error:C=>{this.isSavingProgram=!1,this.errorStatusObj(C.error.message,!0)}}))}convertStudyTimes(){let p=[];return this.form.controls.weekdayConfig.controls.forEach(C=>{if(C.controls.selected.value){let I={days:C.controls.id.value,fromHour:new Date("1970-01-01T"+C.controls.startTime.value).getHours(),fromMinute:new Date("1970-01-01T"+C.controls.startTime.value).getMinutes(),toHour:new Date("1970-01-01T"+C.controls.endTime.value).getHours(),toMinute:new Date("1970-01-01T"+C.controls.endTime.value).getMinutes(),roomId:C.controls.infrastructureId.value};p.push(I)}}),p}convertSubjectList(p,C){let I=[];return p.forEach(M=>{if(M.schoolLevelId==C)if(I.filter(nt=>nt.id==M.schoolSubjectId&&nt.levelId==M.schoolLevelId).length)I.forEach(nt=>{nt.id==M.schoolSubjectId&&nt.levelId==M.schoolLevelId&&(nt.children?.find(Ft=>Ft==M)||nt.children?.push(M))});else{let nt={id:M.schoolSubjectId,levelId:M.schoolLevelId,name:this.schoolSubjectObjs.find(Ft=>Ft.id==M.schoolSubjectId)?.name,children:[M]};I.push(nt)}}),I}convertProgramInfo(p){let C=[],I=this.sAZTranslateService.myTranslateInstant("lang_auto_lop")??"L\u1edbp",M=this.sAZTranslateService.myTranslateInstant("lang_core_buoi")??"Bu\u1ed5i";return p.forEach(Y=>{if(Y.name=`${Y.name} (${Y.totalSession} ${M})`,!C.filter(Ft=>Ft.id==Y.schoolLevelId).length){let Ft={id:Y.schoolLevelId,name:I+" "+Y.schoolLevelId,subjects:this.convertSubjectList(p,Y.schoolLevelId),showChild:!1};C.push(Ft)}}),C.sort((Y,nt)=>(nt.id??0)-(Y.id??0))}convertListInfrastructure(p){let C=[],I=this.commonService.myTranslateInstant("lang_infrastructure_seat")??"";return p.forEach(M=>{M.name=`${M.infrastructure?.name??""} - ${M.name} (${M.numberSeat} ${I})`,C.push(M)}),C}getAllInfrastructure(){this.waitDestroy(this.infrastructureService.apiInfrastructuresRoomsGet().subscribe({next:p=>{this.listInfrastructureObjs=this.convertListInfrastructure(p.list),this.stopStatusObj()},error:p=>{this.errorStatusObj(p.error.message,!0)}}))}initForm(){this.form.controls.chooseProgramId.setValue(0),this.form.controls.startTimeEducationalProgram.setValue(""),this.form.controls.weekdayConfig.clear();for(let p=0;p<7;p++){let C=new B.gE({id:new B.MJ(p,{nonNullable:!0}),name:new B.MJ("lang_config_educational_program_day_"+p,{nonNullable:!0}),startTime:new B.MJ("",{nonNullable:!0}),endTime:new B.MJ("",{nonNullable:!0}),infrastructureId:new B.MJ(0,{nonNullable:!0}),selected:new B.MJ(!1,{nonNullable:!0}),invalidTime:new B.MJ(!1,{nonNullable:!0})});this.form.controls.weekdayConfig.push(C)}}initData(){this.initStatusObj(),this.waitDestroy(this.programService.apiProgramsListPost({page:0,size:-1}).subscribe({next:p=>{this.listEducationalProgramObjs=this.convertProgramInfo(p.list),this.getAllInfrastructure()},error:p=>{this.errorStatusObj(p.error.message,!0)}}))}getSubjectObjs(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(p=>{1==p.success?(this.schoolSubjectObjs=this.commonService.concatMultipleArray(p.data?.schoolLevelSubjectObjs.map(C=>C.schoolSubjectObjs)??[]),this.initData()):(this.errorStatusObj(p.message??""),this.initData())}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard",this.getSubjectObjs()}ngAfterViewChecked(){this.form.controls.weekdayConfig.controls.filter(C=>C.controls.selected).length?2==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(3):3==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(2),this.cd.detectChanges()}ngDoCheck(){this.cd.detectChanges()}constructor(p,C,I,M,Y,nt,Ft){super(),this.cd=p,this.timeService=C,this.classroomService=I,this.programService=M,this.infrastructureService=Y,this.sAZTranslateService=nt,this.commonListService=Ft,this.saveEducationalProgramEmit=new e.bkB,this.backLink="",this.currentURL=this.commonService.getCurrentUrlWithoutLocale(),this.listEducationalProgramObjs=[],this.listInfrastructureObjs=[],this.maxDate=ge.c.maxDateTimePicker,this.curStep=1,this.isSavingProgram=!1,this.schoolSubjectObjs=[],this.form=new B.gE({chooseProgramId:new B.MJ(0,{nonNullable:!0,validators:[B.k0.required,B.k0.min(1)]}),startTimeEducationalProgram:new B.MJ("",{nonNullable:!0,validators:[B.k0.required]}),weekdayConfig:new B.Yp([]),stepChoose:new B.MJ(1,{nonNullable:!0})},{validators:[re.addNewEducationalProgramFormValidator]}),this.initForm()}static#t=this.\u0275fac=function(C){return new(C||f)(e.rXU(e.gRc),e.rXU(t.F),e.rXU(kt.zS),e.rXU(kt.sC),e.rXU(kt.BU),e.rXU(Ie.o),e.rXU(fe.Nz))};static#e=this.\u0275cmp=e.VBU({type:f,selectors:[["app-add-new-educational-program"]],viewQuery:function(C,I){if(1&C&&e.GBs(at,5),2&C){let M;e.mGM(M=e.lsd())&&(I.startTime=M.first)}},inputs:{classroomId:"classroomId",programObj:"programObj"},outputs:{saveEducationalProgramEmit:"saveEducationalProgramEmit"},features:[e.Jv_([{provide:N.$O,useClass:Et.fb,deps:[Ct.Ju,Gt.ij]},{provide:N.vq,useFactory:Jt.In,deps:[t.F]}]),e.Vt3],decls:5,vars:3,consts:[[1,"mx-auto","mt-3","pb-2"],[3,"formGroup"],["class","block pb-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"block","pb-5",3,"currentStatusObj"],["azt-track-service","add-new-educational-program-V_itz7ADg","class","btn btn-transparent",3,"disabled","click",4,"ngIf"],[1,"box","px-4","pt-5"],[1,"grid","grid-cols-12",3,"ngClass"],[1,"col-span-12","md:col-span-4"],[1,"flex","px-2","pb-3","items-center"],[1,"bg-info","text-white","h-8","w-8","text-center",2,"border-radius","50%"],[1,"font-bold","text-xl"],[1,"ml-2",2,"vertical-align","middle","font-weight","420","word-break","break-all"],["name","refresh-ccw",2,"vertical-align","baseline !important","width","18px !important","height","18px !important",3,"ngClass","click"],[1,"border","border-slate-300",2,"border-bottom","0","border-left","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto"],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"],[2,"padding-right","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],["azt-track-service","add-new-educational-programs-eY0H_Hziew",1,"btn","btn-sm","btn-primary","shadow-md","w-full","block","mx-auto","mt-3","mb-3",3,"routerLink","queryParams"],["name","plus","size","16",3,"ngClass"],[2,"vertical-align","middle","font-size","14px !important"],[1,"ml-2",2,"vertical-align","middle","font-weight","420"],[1,"border","border-slate-300",2,"height","100%","border-bottom","0","border-left","0","border-right","0"],["formArrayName","weekdayConfig",1,"mt-2","pb-2",2,"height","calc(100vh - 205px)","overflow-y","auto",3,"ngClass"],[2,"padding-right","1rem","padding-left","1rem"],[1,"border","border-slate-300",2,"border-bottom","0","border-right","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],[1,"mt-2",2,"padding-left","1rem","padding-right","1rem"],["appearance","outline"],["matInput","","formControlName","startTimeEducationalProgram","readonly","",3,"max","ngxMatDatetimePicker","click"],["matSuffix","",2,"font-size","18px",3,"click"],["name","calendar-clock","size","16"],[3,"touchUi","hideTime"],["startTime",""],["mat-raised-button","","color","secondary","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["class","text-right mt-3 mb-3",4,"ngIf"],["azt-track-service","add-new-educational-program-V_itz7ADg",1,"btn","btn-transparent",3,"disabled","click"],["name","chevron-left","size","20"],[1,"azt-hidden","sm:block"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],[1,"flex","mt-1","ml-2",2,"font-weight","420","font-size","15px"],[1,"clickable",2,"align-items","center"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 clickable",3,"ngClass",4,"ngFor","ngForOf"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable",3,"ngClass"],["azt-track-service","add-new-educational-programs-bahN75vF_Q",1,"flex","w-full","justify-between",3,"click"],[2,"vertical-align","middle","text-align","left"],["name","square-check","size","18",3,"ngClass",4,"ngIf"],["name","square-check","size","18",3,"ngClass"],[1,"text-danger","mt-3","float-left","text-left"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 text-left relative",3,"formGroup","ngClass",4,"ngIf"],["azt-track-service","add-new-educational-programs-FanOWsky0S",1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable","text-left",3,"formGroup","click"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","text-left","relative",3,"formGroup","ngClass"],[1,"flex","justify-between","flex-wrap"],["azt-track-service","add-new-educational-programs-UqgywYmnzK",1,"clickable",3,"click"],["name","square-check","size","18",1,"text-primary","ml-2","clickable","change-block-hidden",3,"click"],[1,"block","md:ml-2","w-full"],[1,"flex","justify-between",2,"align-items","center"],[2,"width","100%","height","38px","align-items","center"],["type","text","formControlName","startTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],[3,"editableHintTmpl","enableKeyboardInput","cancelBtnTmpl","confirmBtnTmpl"],["timeStartPicker",""],[1,"text-center",2,"vertical-align","middle","align-self","center"],["type","text","formControlName","endTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],["timeEndPicker",""],["cancelBtn",""],["confirmBtn",""],["dialHint",""],["name","square-check","size","18",1,"text-primary","ml-2","clickable","hiddenIpt","md:inlineBlockIpt",3,"click"],["appearance","outline",1,"mt-2","bg-white","rounded"],["formControlName","infrastructureId",3,"value","openedChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","secondary",2,"margin-right","10px"],["mat-raised-button","","color","primary"],[1,"small"],[3,"value"],[1,"text-danger","mt-2"],[1,"text-danger","mt-1"],[1,"text-right","mt-3","mb-3"],["azt-track-service","add-new-educational-programs-R3hLoR84Ua",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(C,I){if(1&C&&(e.j41(0,"div",0)(1,"form",1),e.DNE(2,X,1,1,"azt-loading-effect",2),e.DNE(3,z,65,58,"ng-template",null,3,e.C5r),e.k0s()()),2&C){const M=e.sdS(4);e.R7$(1),e.Y8G("formGroup",I.form),e.R7$(1),e.Y8G("ngIf",I.statusObj.loading)("ngIfElse",M)}},dependencies:[q.Wk,T.YU,T.Sq,T.bT,T.B3,Ct.wT,Se.$z,Dt.fg,Qt.rl,Qt.nJ,Qt.yw,Tt.VO,N.m7,N.yF,N.HF,N.gx,N.Uq,Mt.gu,Mt.wn,B.qT,B.me,B.BC,B.cb,B.j4,B.JD,B.v8,o.K,St.t,ft.R,K.WGl,ie.Yh,_t.F2,_t.wp],encapsulation:2})}return f})();function S(f,V){if(1&f&&(e.qex(0),e.j41(1,"p",5),e.EFF(2),e.k0s(),e.bVm()),2&f){const p=V.$implicit;e.R7$(2),e.SpI("",p.content," ")}}const J=function(){return{"zoom-in":!0}};function Z(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",6),e.bIt("click",function(){e.eBV(p);const I=e.XpG(2);return e.Njj(I.editContent())}),e.nrm(1,"lucide-icon",7),e.k0s()}2&f&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(1,J)))}function bt(f,V){if(1&f&&(e.j41(0,"div",2)(1,"div"),e.DNE(2,S,3,1,"ng-container",3),e.k0s(),e.DNE(3,Z,2,2,"div",4),e.k0s()),2&f){const p=e.XpG();e.R7$(2),e.Y8G("ngForOf",p.contents),e.R7$(1),e.Y8G("ngIf",p.teacherRole)}}function oe(f,V){if(1&f){const p=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(p);const I=e.XpG().$implicit,M=e.XpG(2);return e.Njj(M.removeContent(I))}),e.nI1(1,"mytranslate"),e.nrm(2,"lucide-icon",21),e.k0s()}if(2&f){const p=e.XpG(3);e.FS9("matTooltip",e.bMT(1,2,"lang_button_delete")),e.Y8G("disabled",p.statusObj.loading)}}function ve(f,V){1&f&&(e.j41(0,"div",22)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&f&&(e.R7$(2),e.SpI("*",e.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function Ut(f,V){if(1&f&&(e.j41(0,"div")(1,"div",16),e.nrm(2,"input",17),e.nI1(3,"mytranslate"),e.DNE(4,oe,3,4,"button",18),e.k0s(),e.DNE(5,ve,4,3,"div",19),e.k0s()),2&f){const p=V.$implicit,C=e.XpG(2);e.R7$(2),e.FS9("placeholder",e.bMT(3,5,"lang_core_nhap_noi_dung_buoi_hoc")),e.Y8G("formControl",p.controls.content)("disabled",C.statusObj.loading),e.R7$(2),e.Y8G("ngIf",C.listFormContent.controls.length>1),e.R7$(1),e.Y8G("ngIf",p.controls.content.errors)}}function je(f,V){1&f&&e.nrm(0,"azt-loading-ui",23)}const ee=function(){return{"mr-2":!0}};function Ge(f,V){1&f&&e.nrm(0,"lucide-icon",24),2&f&&e.Y8G("ngClass",e.lJ4(1,ee))}const bn=function(){return[]};function _n(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",8),e.DNE(1,Ut,6,7,"div",3),e.j41(2,"div",9)(3,"button",10),e.bIt("click",function(){e.eBV(p);const I=e.XpG();return e.Njj(I.viewContent())}),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"button",11),e.bIt("click",function(){e.eBV(p);const I=e.XpG();return e.Njj(I.addContent())}),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"button",12),e.bIt("click",function(){e.eBV(p);const I=e.XpG();return e.Njj(I.saveContent())}),e.DNE(10,je,1,0,"azt-loading-ui",13),e.DNE(11,Ge,1,2,"lucide-icon",14),e.j41(12,"span",15),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()()()()}if(2&f){const p=e.XpG();let C;e.R7$(1),e.Y8G("ngForOf",null!==(C=null==p.listFormContent?null:p.listFormContent.controls)&&void 0!==C?C:e.lJ4(15,bn)),e.R7$(2),e.Y8G("disabled",p.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(5,9,"lang_button_cancel")," "),e.R7$(2),e.Y8G("disabled",p.statusObj.loading||p.isEmptyContent()),e.R7$(1),e.SpI(" + ",e.bMT(8,11,"lang_button_add")," "),e.R7$(2),e.Y8G("disabled",p.statusObj.loading||p.isEmptyContent()),e.R7$(1),e.Y8G("ngIf",p.statusObj.loading),e.R7$(1),e.Y8G("ngIf",!p.statusObj.loading),e.R7$(2),e.SpI(" ",e.bMT(14,13,"lang_button_save")," ")}}let Ye=(()=>{class f extends n.H{isEmptyContent(){return!!this.listFormContent.controls.find(p=>p.controls.content.errors)}editContent(){this.listFormContent=new B.Yp(this.contents.map(p=>new B.gE({contentId:new B.MJ(p.id,{nonNullable:!0,validators:[B.k0.required]}),content:new B.MJ(p.content,{nonNullable:!0,validators:[B.k0.required]})})))}addContent(){var p=this.listFormContent.controls.map(C=>C.getRawValue().contentId);this.listFormContent.controls.push(new B.gE({contentId:new B.MJ(this.commonService.getVirtualIdWithoutInList(!0,p),{nonNullable:!0,validators:[B.k0.required]}),content:new B.MJ("",{nonNullable:!0,validators:[B.k0.required]})}))}removeContent(p){this.listFormContent.controls=this.listFormContent.controls.filter(C=>C!=p)}viewContent(){this.listFormContent.clear()}saveContent(){this.initStatusObj();let p={contents:this.listFormContent?.controls.map(C=>({id:C.getRawValue().contentId<0?0:C.getRawValue().contentId,content:C.getRawValue().content}))??[]};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdPut(this.classroomId,this.sessionId,p).subscribe({next:C=>{this.showSuccessSnack("lang_auto_chinh_sua_thanh_cong"),this.close.emit(!0)},error:C=>{this.errorStatusObj(C.error.message,!0)}}))}ngOnInit(){super.ngOnInit()}constructor(p){super(),this.classroomService=p,this.contents=[],this.close=new e.bkB,this.listFormContent=new B.Yp([])}static#t=this.\u0275fac=function(C){return new(C||f)(e.rXU(kt.zS))};static#e=this.\u0275cmp=e.VBU({type:f,selectors:[["app-education-program-session-content-form"]],inputs:{teacherRole:"teacherRole",contents:"contents",classroomId:"classroomId",sessionId:"sessionId"},outputs:{close:"close"},features:[e.Jv_([{provide:N.$O,useClass:Et.fb,deps:[Ct.Ju,Gt.ij]},{provide:N.vq,useFactory:Jt.In,deps:[t.F]}]),e.Vt3],decls:2,vars:2,consts:[["class","flex justify-between items-center",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"flex","justify-between","items-center"],[4,"ngFor","ngForOf"],["azt-track-service","edit-content-session-clV7wEeRi","class","mr-2 ml-1",3,"click",4,"ngIf"],[1,"text-danger","font-medium"],["azt-track-service","edit-content-session-clV7wEeRi",1,"mr-2","ml-1",3,"click"],["name","pencil-line","size","16",3,"ngClass"],[1,"mb-2"],[1,"mt-2","flex","justify-end"],["azt-track-service","edit-content-session-fb5Kcem4lN",1,"btn","btn-secondary","py-1",3,"disabled","click"],["azt-track-service","edit-content-session-LUmRlMXNo0",1,"btn","btn-info","py-1","ml-2",3,"disabled","click"],["azt-track-service","edit-content-session-u3EiKdwIT9",1,"btn","btn-primary","ml-2","py-1",3,"disabled","click"],["style","height: 16px; width: 16px;",4,"ngIf"],["name","save","size","16",3,"ngClass",4,"ngIf"],[1,"ml-2"],[1,"flex","items-center"],["type","text",1,"form-control","mt-2","mb-2",3,"formControl","disabled","placeholder"],["class","btn btn-light ml-2 px-2",3,"matTooltip","disabled","click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],[1,"btn","btn-light","ml-2","px-2",3,"matTooltip","disabled","click"],["name","pencil-line","size","20"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],[2,"height","16px","width","16px"],["name","save","size","16",3,"ngClass"]],template:function(C,I){1&C&&(e.DNE(0,bt,4,2,"div",0),e.DNE(1,_n,15,16,"div",1)),2&C&&(e.Y8G("ngIf",0==I.listFormContent.controls.length),e.R7$(1),e.Y8G("ngIf",I.listFormContent.controls.length>0))},dependencies:[T.YU,T.Sq,T.bT,Lt.oV,B.me,B.BC,B.l_,ft.R,K.WGl,_t.wp],encapsulation:2})}return f})();function R(f,V){if(1&f&&(e.j41(0,"div",3),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f){const p=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,p.errorApiMessage)," ")}}function Pt(f,V){if(1&f){const p=e.RV6();e.j41(0,"app-add-new-educational-program",6),e.bIt("saveEducationalProgramEmit",function(I){e.eBV(p);const M=e.XpG(2);return e.Njj(M.emitDataReloadSession(I))}),e.k0s()}if(2&f){const p=e.XpG(2);e.Y8G("classroomId",p.classroomId)("programObj",p.programObj)}}function E(f,V){if(1&f){const p=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(p);const I=e.XpG(3);return e.Njj(I.addNewEducationalProgram())}),e.nrm(1,"lucide-icon",14),e.j41(2,"span",15),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&f&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_educational_program_select_another")))}function F(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",18)(1,"a",19),e.bIt("auxclick",function(I){const Y=e.eBV(p).$implicit,nt=e.XpG(4);return e.Njj(nt.previewFile(Y,I))})("click",function(I){const Y=e.eBV(p).$implicit,nt=e.XpG(4);return e.Njj(nt.previewFile(Y,I))}),e.nrm(2,"azt-document-type-file",20),e.k0s()()}if(2&f){const p=V.$implicit;let C;e.R7$(2),e.Y8G("type",p.documentType)("name",null!==(C=p.name)&&void 0!==C?C:"")("url",p.link)("iconVerticalStyle","baseline")("customClass","w-6 h-6")}}function O(f,V){if(1&f&&(e.qex(0),e.j41(1,"div",16),e.DNE(2,F,3,5,"div",17),e.k0s(),e.bVm()),2&f){const p=e.XpG(3);e.R7$(2),e.Y8G("ngForOf",p.generalDocumentObjs)}}function jt(f,V){1&f&&e.nrm(0,"lucide-icon",25)}function Kt(f,V){1&f&&e.nrm(0,"lucide-icon",26)}function yn(f,V){1&f&&(e.j41(0,"button",35),e.nrm(1,"lucide-icon",36),e.j41(2,"span",15),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&f&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_student_absence")))}function Ze(f,V){1&f&&(e.j41(0,"button",37),e.nrm(1,"lucide-icon",36),e.k0s())}function Xn(f,V){if(1&f&&(e.j41(0,"div",32),e.DNE(1,yn,5,3,"button",33),e.nI1(2,"async"),e.nI1(3,"allowFeatureBusinessForUser"),e.DNE(4,Ze,2,0,"button",34),e.nI1(5,"async"),e.nI1(6,"allowFeatureBusinessForUser"),e.k0s()),2&f){const p=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.bMT(2,2,e.brH(3,4,"","training_center_student_attendance",!0))),e.R7$(3),e.Y8G("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.bMT(5,8,e.brH(6,10,"","training_center_student_attendance",!0)))}}function qe(f,V){if(1&f&&(e.qex(0),e.j41(1,"span",43),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f){const p=e.XpG(2).$implicit;e.R7$(2),e.JRh(e.bMT(3,1,"lang_test_market_address")+": "+(null==p.room.infrastructure?null:p.room.infrastructure.name)+" - "+p.room.name)}}const st=function(f){return{"text-slate-700":f}};function Dn(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",38),e.bIt("click",function(){e.eBV(p);const I=e.XpG().$implicit,M=e.XpG(5);return e.Njj(M.expandSessionObj(I))}),e.j41(1,"div",39)(2,"h3",40)(3,"span",41),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"span",42),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,qe,4,3,"ng-container",5),e.k0s()()}if(2&f){const p=e.XpG().$implicit;e.R7$(3),e.Y8G("ngClass",e.eq3(8,st,p.outOfDate)),e.R7$(1),e.JRh(e.bMT(5,4,"lang_core_buoi")+" "+p.sort),e.R7$(3),e.JRh(e.bMT(8,6,"lang_config_educational_program_day_"+p.day)+", "+p.dateSession+" "+p.timeSession),e.R7$(2),e.Y8G("ngIf",p.room)}}function Wn(f,V){if(1&f&&(e.qex(0),e.j41(1,"span",61),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f){const p=e.XpG(2).$implicit;e.R7$(2),e.JRh(e.bMT(3,1,"lang_test_market_address")+": "+(null==p.room.infrastructure?null:p.room.infrastructure.name)+" - "+p.room.name)}}const Ne=function(f,V){return{"text-slate-600":f,"text-warning":V}};function le(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",50)(1,"div",51)(2,"span",52),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"app-education-program-session-content-form",62),e.bIt("close",function(I){e.eBV(p);const M=e.XpG(2).$implicit,Y=e.XpG(5);return e.Njj(Y.reloadData(I,M))}),e.k0s()()}if(2&f){const p=e.XpG(2).$implicit,C=e.XpG(5);e.R7$(2),e.Y8G("ngClass",e.l_i(8,Ne,p.outOfDate,!p.outOfDate)),e.R7$(1),e.JRh(e.bMT(4,6,"lang_auto_noi_dung")),e.R7$(2),e.Y8G("contents",p.contents)("teacherRole",C.teacherRole)("classroomId",C.classroomId)("sessionId",p.id)}}function ze(f,V){1&f&&(e.qex(0),e.j41(1,"div",74),e.nrm(2,"img",75),e.nI1(3,"convertCdnLinkOfGitHub"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.Y8G("src",e.bMT(3,1,"images/type_file/unknown-file.svg"),e.B4B))}function Hn(f,V){1&f&&(e.qex(0),e.j41(1,"div",76),e.nrm(2,"lucide-icon",77),e.k0s(),e.bVm())}function Gn(f,V){1&f&&(e.qex(0),e.j41(1,"div",78),e.nrm(2,"lucide-icon",79),e.k0s(),e.bVm())}function we(f,V){if(1&f&&(e.j41(0,"small",80),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f){const p=e.XpG().$implicit;e.R7$(1),e.E5c(" ",e.bMT(2,3,"lang_auto_da_nop"),":\xa0",p.totalFinish,"/",p.totalAttendee," ")}}const y=function(f,V){return{"text-success":f,"text-slate-700/50":V}};function ut(f,V){if(1&f&&(e.j41(0,"small",81),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f){const p=e.XpG().$implicit;e.Y8G("ngClass",e.l_i(4,y,p.totalFinish,!p.totalFinish)),e.R7$(1),e.SpI(" ",e.bMT(2,2,p.totalFinish?"lang_auto_da_nop":"lang_auto_chua_nop")," ")}}function b(f,V){if(1&f){const p=e.RV6();e.j41(0,"small",82),e.EFF(1),e.nI1(2,"mytranslate"),e.j41(3,"button",83),e.bIt("click",function(I){e.eBV(p);const M=e.XpG().$implicit,Y=e.XpG(2).$implicit;return e.XpG(5).editMarkCoefficient(M,Y),I.stopPropagation(),e.Njj(I.preventDefault())}),e.nI1(4,"mytranslate"),e.nrm(5,"lucide-icon",84),e.k0s()()}if(2&f){const p=e.XpG().$implicit;e.R7$(1),e.Lme(" ",e.bMT(2,3,"lang_student_score_factor"),":\xa0",p.markCoefficient," "),e.R7$(2),e.FS9("matTooltip",e.bMT(4,5,"lang_student_edit_mark_coefficient"))}}const D=function(f){return[f]},P=function(f){return{backto:f}};function Rt(f,V){if(1&f&&(e.j41(0,"div",63)(1,"a",64),e.nI1(2,"navigationLocalize"),e.j41(3,"div",65)(4,"div",66),e.DNE(5,ze,4,3,"ng-container",5),e.DNE(6,Hn,3,0,"ng-container",5),e.DNE(7,Gn,3,0,"ng-container",5),e.k0s(),e.j41(8,"div",67)(9,"div",68)(10,"span",69,70),e.EFF(12),e.k0s(),e.DNE(13,we,3,5,"small",71),e.DNE(14,ut,3,7,"small",72),e.DNE(15,b,6,7,"small",73),e.k0s()()()()()),2&f){const p=V.$implicit,C=e.sdS(11),I=e.XpG(7);let M;e.R7$(1),e.Y8G("routerLink",e.eq3(14,D,e.bMT(2,12,p.documentType==I.allDocumentTypes.exam?I.teacherRole?"/admin/testbank/exam-results-list/"+(null!==(M=p.categoryId)&&void 0!==M?M:0)+"/"+p.refId+"/0":"/de-thi/"+p.hashId:I.teacherRole?"/admin/testbank/homework-results-list/"+(null!==(M=p.classroomId)&&void 0!==M?M:0)+"/"+p.refId+"/"+p.hashId:"/bai-tap/"+p.hashId)))("queryParams",e.eq3(16,P,I.currentUrl)),e.R7$(4),e.Y8G("ngIf",!p.type),e.R7$(1),e.Y8G("ngIf","exam"==p.type),e.R7$(1),e.Y8G("ngIf","homework"==p.type),e.R7$(3),e.FS9("matTooltip",p.name),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",C.isDisabled),e.R7$(2),e.SpI(" ",p.name," "),e.R7$(1),e.Y8G("ngIf",I.teacherRole),e.R7$(1),e.Y8G("ngIf",!I.teacherRole),e.R7$(1),e.Y8G("ngIf",I.teacherRole)}}const ce=function(f,V,p,C,I,M){return{backto:f,classroomId:V,programId:p,sessionId:C,levelId:I,subjectId:M}},Jn=function(f,V){return{"text-slate-600":f,"btn-text-primary":V}};function Ri(f,V){if(1&f&&(e.j41(0,"a",85),e.nI1(1,"navigationLocalize"),e.j41(2,"span",86),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&f){const p=e.XpG(2).$implicit,C=e.XpG(5);let I;e.Y8G("routerLink",e.eq3(8,D,e.bMT(1,4,"/admin/testbank/create-new-document/0")))("queryParams",e.l4e(10,ce,C.currentUrl,C.classroomId,p.programId,p.id,null!==(I=null==C.programObj?null:C.programObj.schoolLevelId)&&void 0!==I?I:0,null!==(I=null==C.programObj?null:C.programObj.schoolSubjectId)&&void 0!==I?I:0))("ngClass",e.l_i(17,Jn,p.outOfDate,!p.outOfDate)),e.R7$(3),e.SpI("+ ",e.bMT(4,6,"lang_business_assign_exams"),"")}}function tn(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",103)(1,"a",104),e.bIt("click",function(I){e.eBV(p);const M=e.XpG(2).$implicit,Y=e.XpG(3).$implicit,nt=e.XpG(4).$implicit;let At;return e.XpG(5).removeDocumentFromSession(nt,null!==(At=M.sessionId)&&void 0!==At?At:0,M.id,Y),I.preventDefault(),e.Njj(I.stopPropagation())}),e.nrm(2,"lucide-icon",105),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Nn(f,V){if(1&f){const p=e.RV6();e.j41(0,"li")(1,"a",100),e.bIt("auxclick",function(I){e.eBV(p);const M=e.XpG().$implicit,Y=e.XpG(12);return e.Njj(Y.previewFile(M,I))})("click",function(I){e.eBV(p);const M=e.XpG().$implicit,Y=e.XpG(12);return e.Njj(Y.previewFile(M,I))}),e.nrm(2,"azt-document-type-file",101),e.DNE(3,tn,4,3,"div",102),e.k0s()()}if(2&f){const p=e.XpG().$implicit,C=e.XpG(12);let I;e.R7$(2),e.Y8G("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(I=p.name)&&void 0!==I?I:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",C.teacherRole)}}function Kn(f,V){if(1&f&&(e.qex(0),e.DNE(1,Nn,4,10,"li",5),e.bVm()),2&f){const p=e.XpG(3).$implicit,C=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==C.allDocumentGroupTypes.video)}}const jn=function(f){return{width:f}},Zt=function(f){return{"dropdown-menu-scroll":f}};function Oe(f,V){if(1&f&&(e.qex(0),e.j41(1,"h3",93)(2,"span",94),e.nrm(3,"lucide-icon",95),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",96,97)(8,"div",98)(9,"ul",99),e.DNE(10,Kn,2,1,"ng-container",12),e.k0s()()(),e.bVm()),2&f){const p=e.sdS(7),C=e.XpG(2).$implicit,I=e.XpG(4).last,M=e.XpG(2).last;e.XpG();const Y=e.sdS(2),nt=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",C.documentObjs.length?p:null),e.R7$(3),e.Lme(" ",e.bMT(5,6,"lang_config_educational_program_"+C.name),""," ("+C.documentObjs.length+")"," "),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,jn,nt.isMobileWebView?Y.offsetWidth-40+"px":"27rem")),e.R7$(1),e.Y8G("ngClass",e.eq3(10,Zt,M&&I||C.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",C.documentObjs)}}function en(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",103)(1,"a",108),e.bIt("click",function(I){e.eBV(p);const M=e.XpG(2).$implicit,Y=e.XpG(3).$implicit,nt=e.XpG(4).$implicit;let At;return e.XpG(5).removeDocumentFromSession(nt,null!==(At=M.sessionId)&&void 0!==At?At:0,M.id,Y),I.preventDefault(),e.Njj(I.stopPropagation())}),e.nrm(2,"lucide-icon",105),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Qn(f,V){if(1&f){const p=e.RV6();e.j41(0,"li")(1,"a",107),e.bIt("auxclick",function(I){e.eBV(p);const M=e.XpG().$implicit,Y=e.XpG(12);return e.Njj(Y.previewFile(M,I))})("click",function(I){e.eBV(p);const M=e.XpG().$implicit,Y=e.XpG(12);return e.Njj(Y.previewFile(M,I))}),e.nrm(2,"azt-document-type-file",101),e.DNE(3,en,4,3,"div",102),e.k0s()()}if(2&f){const p=e.XpG().$implicit,C=e.XpG(12);let I;e.R7$(2),e.Y8G("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(I=p.name)&&void 0!==I?I:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",C.teacherRole)}}function is(f,V){if(1&f&&(e.qex(0),e.DNE(1,Qn,4,10,"li",5),e.bVm()),2&f){const p=e.XpG(3).$implicit,C=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==C.allDocumentGroupTypes.document)}}function ss(f,V){if(1&f&&(e.qex(0),e.j41(1,"h3",93)(2,"span",94),e.nrm(3,"lucide-icon",95),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",96,106)(8,"div",98)(9,"ul",99),e.DNE(10,is,2,1,"ng-container",12),e.k0s()()(),e.bVm()),2&f){const p=e.sdS(7),C=e.XpG(2).$implicit,I=e.XpG(4).last,M=e.XpG(2).last;e.XpG();const Y=e.sdS(2),nt=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",C.documentObjs.length?p:null),e.R7$(3),e.Lme(" ",e.bMT(5,6,"lang_config_educational_program_"+C.name),""," ("+C.documentObjs.length+")"," "),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,jn,nt.isMobileWebView?Y.offsetWidth-40+"px":"27rem")),e.R7$(1),e.Y8G("ngClass",e.eq3(10,Zt,M&&I||C.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",C.documentObjs)}}function Fi(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",103)(1,"a",112),e.bIt("click",function(I){e.eBV(p);const M=e.XpG(2).$implicit,Y=e.XpG(3).$implicit,nt=e.XpG(4).$implicit;let At;return e.XpG(5).removeDocumentFromSession(nt,null!==(At=M.sessionId)&&void 0!==At?At:0,M.id,Y),I.preventDefault(),e.Njj(I.stopPropagation())}),e.nrm(2,"lucide-icon",105),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Mi(f,V){if(1&f){const p=e.RV6();e.j41(0,"li")(1,"a",111),e.bIt("auxclick",function(I){e.eBV(p);const M=e.XpG().$implicit,Y=e.XpG(12);return e.Njj(Y.previewFile(M,I))})("click",function(I){e.eBV(p);const M=e.XpG().$implicit,Y=e.XpG(12);return e.Njj(Y.previewFile(M,I))}),e.nrm(2,"azt-document-type-file",101),e.DNE(3,Fi,4,3,"div",102),e.k0s()()}if(2&f){const p=e.XpG().$implicit,C=e.XpG(12);let I;e.R7$(2),e.Y8G("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(I=p.name)&&void 0!==I?I:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",C.teacherRole)}}function os(f,V){if(1&f&&(e.qex(0),e.DNE(1,Mi,4,10,"li",5),e.bVm()),2&f){const p=e.XpG(3).$implicit,C=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==C.allDocumentGroupTypes.homework)}}function Di(f,V){if(1&f&&(e.qex(0),e.j41(1,"h3",93)(2,"span",94),e.nrm(3,"lucide-icon",95),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",109,110)(8,"div",98)(9,"ul",99),e.DNE(10,os,2,1,"ng-container",12),e.k0s()()(),e.bVm()),2&f){const p=e.sdS(7),C=e.XpG(2).$implicit,I=e.XpG(4).last,M=e.XpG(2).last;e.XpG();const Y=e.sdS(2),nt=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",C.documentObjs.length?p:null),e.R7$(3),e.Lme(" ",e.bMT(5,6,"lang_config_educational_program_"+C.name),""," ("+C.documentObjs.length+")"," "),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,jn,nt.isMobileWebView?Y.offsetWidth-40+"px":"27rem")),e.R7$(1),e.Y8G("ngClass",e.eq3(10,Zt,M&&I||C.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",C.documentObjs)}}function as(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",103)(1,"a",116),e.bIt("click",function(I){e.eBV(p);const M=e.XpG(2).$implicit,Y=e.XpG(3).$implicit,nt=e.XpG(4).$implicit;let At;return e.XpG(5).removeDocumentFromSession(nt,null!==(At=M.sessionId)&&void 0!==At?At:0,M.id,Y),I.preventDefault(),e.Njj(I.stopPropagation())}),e.nrm(2,"lucide-icon",105),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Zn(f,V){if(1&f){const p=e.RV6();e.j41(0,"li")(1,"a",114),e.bIt("auxclick",function(I){e.eBV(p);const M=e.XpG().$implicit,Y=e.XpG(12);return e.Njj(Y.previewFile(M,I))})("click",function(I){e.eBV(p);const M=e.XpG().$implicit,Y=e.XpG(12);return e.Njj(Y.previewFile(M,I))}),e.nrm(2,"azt-document-type-file",115),e.DNE(3,as,4,3,"div",102),e.k0s()()}if(2&f){const p=e.XpG().$implicit,C=e.XpG(12);let I;e.R7$(2),e.Y8G("truncateString",!1)("type",p.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(I=p.name)&&void 0!==I?I:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",C.teacherRole)}}function Be(f,V){if(1&f&&(e.qex(0),e.DNE(1,Zn,4,10,"li",5),e.bVm()),2&f){const p=e.XpG(3).$implicit,C=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==C.allDocumentGroupTypes.homework_view)}}function rs(f,V){if(1&f&&(e.qex(0),e.j41(1,"h3",93)(2,"span",94),e.nrm(3,"lucide-icon",95),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",109,113)(8,"div",98)(9,"ul",99),e.DNE(10,Be,2,1,"ng-container",12),e.k0s()()(),e.bVm()),2&f){const p=e.sdS(7),C=e.XpG(2).$implicit,I=e.XpG(4).last,M=e.XpG(2).last;e.XpG();const Y=e.sdS(2),nt=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",C.documentObjs.length?p:null),e.R7$(3),e.Lme(" ",e.bMT(5,6,"lang_config_educational_program_"+C.name),""," ("+C.documentObjs.length+")"," "),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,jn,nt.isMobileWebView?Y.offsetWidth-40+"px":"27rem")),e.R7$(1),e.Y8G("ngClass",e.eq3(10,Zt,M&&I||C.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",C.documentObjs)}}function ue(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",103)(1,"a",119),e.bIt("click",function(I){e.eBV(p);const M=e.XpG(2).$implicit,Y=e.XpG(3).$implicit,nt=e.XpG(4).$implicit;let At;return e.XpG(5).removeDocumentFromSession(nt,null!==(At=M.sessionId)&&void 0!==At?At:0,M.id,Y),I.preventDefault(),e.Njj(I.stopPropagation())}),e.nrm(2,"lucide-icon",105),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function un(f,V){if(1&f){const p=e.RV6();e.j41(0,"li")(1,"a",118),e.bIt("auxclick",function(I){e.eBV(p);const M=e.XpG().$implicit,Y=e.XpG(12);return e.Njj(Y.previewFile(M,I))})("click",function(I){e.eBV(p);const M=e.XpG().$implicit,Y=e.XpG(12);return e.Njj(Y.previewFile(M,I))}),e.nrm(2,"azt-document-type-file",115),e.DNE(3,ue,4,3,"div",102),e.k0s()()}if(2&f){const p=e.XpG().$implicit,C=e.XpG(12);let I;e.R7$(2),e.Y8G("truncateString",!1)("type",p.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(I=p.name)&&void 0!==I?I:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",C.teacherRole)}}function vn(f,V){if(1&f&&(e.qex(0),e.DNE(1,un,4,10,"li",5),e.bVm()),2&f){const p=e.XpG(3).$implicit,C=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==C.allDocumentGroupTypes.unknown)}}function mi(f,V){if(1&f&&(e.qex(0),e.j41(1,"h3",93)(2,"span",94),e.nrm(3,"lucide-icon",95),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",109,117)(8,"div",98)(9,"ul",99),e.DNE(10,vn,2,1,"ng-container",12),e.k0s()()(),e.bVm()),2&f){const p=e.sdS(7),C=e.XpG(2).$implicit,I=e.XpG(4).last,M=e.XpG(2).last;e.XpG();const Y=e.sdS(2),nt=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",p),e.R7$(3),e.Lme(" ",e.bMT(5,6,"lang_config_educational_program_"+C.name),""," ("+C.documentObjs.length+")"," "),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,jn,nt.isMobileWebView?Y.offsetWidth-40+"px":"18rem")),e.R7$(1),e.Y8G("ngClass",e.eq3(10,Zt,M&&I||C.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",C.documentObjs)}}function _i(f,V){if(1&f&&(e.j41(0,"div",92),e.DNE(1,Oe,11,12,"ng-container",5),e.DNE(2,ss,11,12,"ng-container",5),e.DNE(3,Di,11,12,"ng-container",5),e.DNE(4,rs,11,12,"ng-container",5),e.DNE(5,mi,11,12,"ng-container",5),e.k0s()),2&f){const p=e.XpG().$implicit,C=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==C.allDocumentGroupTypes.video),e.R7$(1),e.Y8G("ngIf",p.name==C.allDocumentGroupTypes.document),e.R7$(1),e.Y8G("ngIf",p.name==C.allDocumentGroupTypes.homework),e.R7$(1),e.Y8G("ngIf",p.name==C.allDocumentGroupTypes.homework_view),e.R7$(1),e.Y8G("ngIf",p.name==C.allDocumentGroupTypes.unknown&&p.documentObjs.length)}}function $n(f,V){if(1&f&&(e.qex(0),e.DNE(1,_i,6,5,"div",91),e.bVm()),2&f){const p=V.$implicit,C=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name!=C.allDocumentGroupTypes.unknown||p.name==C.allDocumentGroupTypes.unknown&&p.documentObjs.length)}}function On(f,V){if(1&f&&(e.qex(0),e.DNE(1,$n,2,1,"ng-container",12),e.bVm()),2&f){const p=e.XpG(3).$implicit;e.R7$(1),e.Y8G("ngForOf",p.groupDocumentObjs)}}function qn(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",103)(1,"a",124),e.bIt("click",function(){e.eBV(p);const I=e.XpG().$implicit,M=e.XpG(4).$implicit,Y=e.XpG(5);let nt;return e.Njj(Y.removeDocumentFromSession(M,null!==(nt=I.sessionId)&&void 0!==nt?nt:0,I.id))}),e.nrm(2,"lucide-icon",105),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function ti(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",121)(1,"a",122),e.bIt("auxclick",function(I){const Y=e.eBV(p).$implicit,nt=e.XpG(9);return e.Njj(nt.previewFile(Y,I))})("click",function(I){const Y=e.eBV(p).$implicit,nt=e.XpG(9);return e.Njj(nt.previewFile(Y,I))}),e.nrm(2,"azt-document-type-file",123),e.k0s(),e.DNE(3,qn,4,3,"div",102),e.k0s()}if(2&f){const p=V.$implicit,C=e.XpG(9);let I;e.R7$(2),e.Y8G("type",p.documentType)("name",null!==(I=p.name)&&void 0!==I?I:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",C.teacherRole)}}function Gi(f,V){if(1&f&&e.DNE(0,ti,4,5,"div",120),2&f){const p=e.XpG(3).$implicit;e.Y8G("ngForOf",p.normalDocumentObjs)}}function zn(f,V){if(1&f){const p=e.RV6();e.j41(0,"app-upload-document-for-session",125),e.bIt("emitFileDocument",function(I){e.eBV(p);const M=e.XpG(3).$implicit,Y=e.XpG(5);return e.Njj(Y.uploadFileEmitted(I,M))}),e.j41(1,"span",86),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}if(2&f){const p=e.XpG(3).$implicit;e.Y8G("isBtn",!0)("customClass",p.outOfDate?"text-slate-600":"text-primary"),e.R7$(2),e.JRh(e.bMT(3,3,"lang_educational_program_add_document"))}}function di(f,V){if(1&f&&(e.j41(0,"div",54),e.DNE(1,On,2,1,"ng-container",87),e.DNE(2,Gi,1,1,"ng-template",null,88,e.C5r),e.j41(4,"div",89),e.DNE(5,zn,4,5,"app-upload-document-for-session",90),e.k0s()()),2&f){const p=e.sdS(3),C=e.XpG(2).$implicit,I=e.XpG(5);e.R7$(1),e.Y8G("ngIf",C.groupDocumentObjs.length)("ngIfElse",p),e.R7$(4),e.Y8G("ngIf",I.teacherRole)}}function Ni(f,V){1&f&&(e.j41(0,"div",126)(1,"div",127)(2,"span",128),e.nrm(3,"azt-loading-ui",129),e.k0s()()()),2&f&&(e.R7$(3),e.Y8G("type","oval"))}function Pn(f,V){if(1&f&&(e.j41(0,"a",137),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",138),e.j41(3,"span",136),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&f){const p=e.XpG(3).$implicit,C=e.XpG(5);e.Y8G("routerLink",e.eq3(8,D,e.bMT(1,4,"/admin/student/attendance-student/"+C.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.eq3(10,P,"/admin/student/classroom-details/"+C.classroomId+"/3?sessionId="+p.id+"&backto="+C.backLink)),e.R7$(4),e.Lme("",e.bMT(5,6,"lang_student_attendance_student"),""," ("+p.totalJoinedStudent+"/"+p.totalStudent+")","")}}function $i(f,V){if(1&f&&(e.j41(0,"a",139),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",140),e.j41(3,"span",136),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&f){const p=e.XpG(3).$implicit,C=e.XpG(5);e.Y8G("routerLink",e.eq3(7,D,e.bMT(1,3,"/admin/student/distribute-document/"+C.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.eq3(9,P,"/admin/student/classroom-details/"+C.classroomId+"/3?sessionId="+p.id+"&backto="+C.backLink)),e.R7$(4),e.JRh(e.bMT(5,5,"lang_student_distribute_books"))}}function ei(f,V){if(1&f&&(e.j41(0,"a",141),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",142),e.j41(3,"span",136),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&f){const p=e.XpG(3).$implicit,C=e.XpG(5);e.Y8G("routerLink",e.eq3(7,D,e.bMT(1,3,"/admin/student/submit-score/"+C.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.eq3(9,P,"/admin/student/classroom-details/"+C.classroomId+"/3?sessionId="+p.id+"&backto="+C.backLink)),e.R7$(4),e.JRh(e.bMT(5,5,"lang_student_enter_score"))}}function An(f,V){if(1&f&&(e.j41(0,"div",57)(1,"div",51)(2,"span",52),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",130),e.DNE(6,Pn,6,12,"a",131),e.nI1(7,"async"),e.nI1(8,"allowFeatureBusinessForUser"),e.DNE(9,$i,6,11,"a",132),e.nI1(10,"async"),e.nI1(11,"allowFeatureBusinessForUser"),e.DNE(12,ei,6,11,"a",133),e.nI1(13,"async"),e.nI1(14,"allowFeatureBusinessForUser"),e.j41(15,"a",134),e.nI1(16,"navigationLocalize"),e.nrm(17,"lucide-icon",135),e.j41(18,"span",136),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()()()()),2&f){const p=e.XpG(2).$implicit,C=e.XpG(5);e.R7$(2),e.Y8G("ngClass",e.l_i(32,Ne,p.outOfDate,!p.outOfDate)),e.R7$(1),e.SpI(" ",e.bMT(4,8,"lang_auto_hanh_dong")," "),e.R7$(3),e.Y8G("ngIf",e.bMT(7,10,e.brH(8,12,"","training_center_student_attendance",!1))),e.R7$(3),e.Y8G("ngIf",e.bMT(10,16,e.brH(11,18,"","training_center_student_book",!1))),e.R7$(3),e.Y8G("ngIf",e.bMT(13,22,e.brH(14,24,"","training_center_student_mark",!1))),e.R7$(3),e.Y8G("routerLink",e.eq3(35,D,e.bMT(16,28,"/admin/student/add-comment/"+C.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.eq3(37,P,"/admin/student/classroom-details/"+C.classroomId+"/3?sessionId="+p.id+"&backto="+C.backLink)),e.R7$(4),e.JRh(e.bMT(20,30,"lang_auto_nhap_nhan_xet"))}}function ni(f,V){if(1&f&&(e.j41(0,"div",57)(1,"div",51)(2,"span",52),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",130)(6,"div",143)(7,"span"),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"span",144),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s()()()()),2&f){const p=e.XpG(2).$implicit;e.R7$(2),e.Y8G("ngClass",e.l_i(10,Ne,p.outOfDate,!p.outOfDate)),e.R7$(1),e.SpI(" ",e.bMT(4,4,"lang_auto_hanh_dong")," "),e.R7$(5),e.JRh(e.bMT(9,6,"lang_business_requested_leave_with_a_reason")),e.R7$(3),e.JRh(null!=p.studentAttendance&&p.studentAttendance.reason?null==p.studentAttendance?null:p.studentAttendance.reason:e.bMT(12,8,"lang_student_absence_no_reason"))}}function kn(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",44)(1,"div",45),e.bIt("click",function(){e.eBV(p);const I=e.XpG().$implicit,M=e.XpG(5);return e.Njj(M.expandSessionObj(I))}),e.j41(2,"h3",46)(3,"span",47),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"span",48),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,Wn,4,3,"ng-container",5),e.k0s(),e.DNE(10,le,6,11,"div",49),e.j41(11,"div",50)(12,"div",51)(13,"span",52),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()(),e.j41(16,"div",53)(17,"div",54),e.DNE(18,Rt,16,18,"div",55),e.DNE(19,Ri,5,20,"a",56),e.k0s()()(),e.j41(20,"div",57)(21,"div",51)(22,"span",52),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()(),e.j41(25,"div",53),e.DNE(26,di,6,3,"div",58),e.DNE(27,Ni,4,1,"div",59),e.k0s()(),e.DNE(28,An,21,39,"div",60),e.nI1(29,"async"),e.nI1(30,"allowFeatureBusinessForUser"),e.nI1(31,"async"),e.nI1(32,"allowFeatureBusinessForUser"),e.nI1(33,"async"),e.nI1(34,"allowFeatureBusinessForUser"),e.DNE(35,ni,13,13,"div",60),e.nI1(36,"async"),e.nI1(37,"allowFeatureBusinessForUser"),e.k0s()}if(2&f){const p=e.XpG().$implicit,C=e.XpG(5);e.BMQ("id","session-"+p.id),e.R7$(3),e.Y8G("ngClass",e.eq3(48,st,p.outOfDate)),e.R7$(1),e.JRh(e.bMT(5,16,"lang_core_buoi")+" "+p.sort),e.R7$(3),e.JRh(e.bMT(8,18,"lang_config_educational_program_day_"+p.day)+", "+p.dateSession+" "+p.timeSession),e.R7$(2),e.Y8G("ngIf",p.room),e.R7$(1),e.Y8G("ngIf",p.contents&&p.contents.length),e.R7$(3),e.Y8G("ngClass",e.l_i(50,Ne,p.outOfDate,!p.outOfDate)),e.R7$(1),e.JRh(e.bMT(15,20,"lang_cms_auto_gen_test_exam_title")),e.R7$(4),e.Y8G("ngForOf",p.examHomeworkObjs),e.R7$(1),e.Y8G("ngIf",C.teacherRole),e.R7$(3),e.Y8G("ngClass",e.l_i(53,Ne,p.outOfDate,!p.outOfDate)),e.R7$(1),e.JRh(e.bMT(24,22,"lang_testbank_document_list_header_title")),e.R7$(3),e.Y8G("ngIf",!p.isDeletingDocument&&!p.isUploadingDocument),e.R7$(1),e.Y8G("ngIf",p.isDeletingDocument||p.isUploadingDocument),e.R7$(1),e.Y8G("ngIf",(e.bMT(29,24,e.brH(30,26,"","training_center_student_attendance",!1))||e.bMT(31,30,e.brH(32,32,"","training_center_student_book",!1))||e.bMT(33,36,e.brH(34,38,"","training_center_student_mark",!1)))&&C.teacherRole),e.R7$(7),e.Y8G("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.bMT(36,42,e.brH(37,44,"","training_center_student_attendance",!0))&&!C.teacherRole)}}function ui(f,V){if(1&f&&(e.j41(0,"div",28),e.DNE(1,Xn,7,14,"div",29),e.DNE(2,Dn,10,10,"div",30),e.DNE(3,kn,38,56,"div",31),e.k0s()),2&f){const p=V.$implicit,C=e.XpG(5);e.R7$(1),e.Y8G("ngIf",!C.teacherRole),e.R7$(1),e.Y8G("ngIf",!p.isExpanded),e.R7$(1),e.Y8G("ngIf",p.isExpanded)}}function zi(f,V){if(1&f&&(e.qex(0),e.DNE(1,ui,4,3,"div",27),e.bVm()),2&f){const p=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",p.programObjs)}}function ii(f,V){if(1&f){const p=e.RV6();e.qex(0),e.j41(1,"h3",21)(2,"span",22),e.bIt("click",function(){const M=e.eBV(p).$implicit;return e.Njj(M.expand=!M.expand)}),e.EFF(3),e.nI1(4,"mytranslate"),e.DNE(5,jt,1,0,"lucide-icon",23),e.DNE(6,Kt,1,0,"lucide-icon",24),e.k0s()(),e.DNE(7,zi,2,1,"ng-container",5),e.bVm()}if(2&f){const p=V.$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,4,p.monthName)," "),e.R7$(2),e.Y8G("ngIf",p.expand),e.R7$(1),e.Y8G("ngIf",!p.expand),e.R7$(1),e.Y8G("ngIf",p.expand)}}function Cn(f,V){if(1&f&&(e.qex(0),e.j41(1,"div",7,8)(3,"div",9)(4,"h3",10),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.DNE(7,E,5,3,"button",11),e.k0s(),e.DNE(8,O,3,1,"ng-container",5),e.k0s(),e.qex(9),e.DNE(10,ii,8,6,"ng-container",12),e.bVm()()),2&f){const p=e.XpG(2);e.R7$(5),e.SpI(" ",e.bMT(6,4,"lang_educational_program_general_documents")," "),e.R7$(2),e.Y8G("ngIf",p.teacherRole),e.R7$(1),e.Y8G("ngIf",p.generalDocumentObjs.length),e.R7$(2),e.Y8G("ngForOf",p.groupProgramSessionObjs)}}function Pi(f,V){1&f&&(e.j41(0,"h3",151),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_config_educational_program_add_new_description")," "))}const Ai=function(){return{"mr-2":!0}};function Ee(f,V){if(1&f){const p=e.RV6();e.j41(0,"button",152),e.bIt("click",function(){e.eBV(p);const I=e.XpG(4);return e.Njj(I.addNewEducationalProgram())}),e.nrm(1,"lucide-icon",153),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&f&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,Ai)),e.R7$(2),e.JRh(e.bMT(4,2,"lang_config_educational_program_select_new")))}function En(f,V){if(1&f&&(e.j41(0,"div",147)(1,"h3",148),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,Pi,3,3,"h3",149),e.DNE(5,Ee,5,5,"button",150),e.k0s()),2&f){const p=e.XpG(3);e.R7$(2),e.SpI(" ",e.bMT(3,3,"lang_config_educational_program_no_have_yet")," "),e.R7$(2),e.Y8G("ngIf",p.teacherRole),e.R7$(1),e.Y8G("ngIf",p.teacherRole)}}function wn(f,V){1&f&&(e.j41(0,"h3",151),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_config_educational_program_add_new_session_desc")," "))}function xn(f,V){if(1&f){const p=e.RV6();e.j41(0,"button",155),e.bIt("click",function(){e.eBV(p);const I=e.XpG(4);return e.Njj(I.editEducationalProgram())}),e.nrm(1,"lucide-icon",156),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&f&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,Ai)),e.R7$(2),e.JRh(e.bMT(4,2,"lang_config_educational_program_edit_btn")))}function Li(f,V){if(1&f&&(e.j41(0,"div",147)(1,"h3",148),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,wn,3,3,"h3",149),e.DNE(5,xn,5,5,"button",154),e.k0s()),2&f){const p=e.XpG(3);e.R7$(2),e.SpI(" ",e.bMT(3,3,"lang_config_educational_program_no_have_session_yet")," "),e.R7$(2),e.Y8G("ngIf",p.teacherRole),e.R7$(1),e.Y8G("ngIf",p.teacherRole)}}function Ln(f,V){if(1&f&&(e.qex(0),e.DNE(1,En,6,5,"div",145),e.DNE(2,Li,6,5,"ng-template",null,146,e.C5r),e.bVm()),2&f){const p=e.sdS(3),C=e.XpG(2);e.R7$(1),e.Y8G("ngIf",!C.programObj)("ngIfElse",p)}}function Yi(f,V){if(1&f&&(e.DNE(0,Pt,1,2,"app-add-new-educational-program",4),e.DNE(1,Cn,11,6,"ng-container",5),e.DNE(2,Ln,4,2,"ng-container",5)),2&f){const p=e.XpG();e.Y8G("ngIf",p.showAddNewEducationalProgram),e.R7$(1),e.Y8G("ngIf",!p.showAddNewEducationalProgram&&p.programSessionObjs.length),e.R7$(1),e.Y8G("ngIf",!p.showAddNewEducationalProgram&&p.programSessionObjs.length<=0)}}let ls=(()=>{class f extends n.H{emitDataReloadSession(p){p?(this.initStatusObj(),this.programObj=void 0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter.emit()):this.showAddNewEducationalProgram=!1}editMarkCoefficient(p,C){this.sAztDialogService.open(pt._,{data:{id:p.markId??0,name:"",coefficient:p.markCoefficient,programId:C.programId,classroomId:this.classroomId,sessionId:C.id,isOnlyCoefficient:!0,documentName:p.name,documentType:p.type},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(M=>{M&&this.reloadSessionDataOfProgram(C)})}reloadData(p,C){p&&this.reloadSessionDataOfProgram(C)}reloadSessionDataOfProgram(p){p.isLoadingData=!0,this.reloadSessionDataEmitter.emit(p)}addNewEducationalProgram(){this.showAddNewEducationalProgram=!this.showAddNewEducationalProgram}editEducationalProgram(){let p=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/business/edit-educational-program/"+this.programObj?.id,"?backTo="+p)}removeDocumentFromSession(p,C,I,M){var Y=(p.normalDocumentObjs.filter(Ft=>Ft.id==I)[0].name??"")+" - "+this.commonService.myTranslateInstant("lang_core_buoi")+" "+p.sort.toString(),nt=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+Y+" </div> ?";this.sAztDialogService.open(It.u,{data:{content:nt},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(Ft=>{Ft&&(p.isDeletingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsDocumentIdDelete(this.classroomId,C,I).subscribe({next:At=>{M&&(M.documentObjs=M.documentObjs.filter(Ot=>Ot.id!=I)),p.normalDocumentObjs=p.normalDocumentObjs.filter(Ot=>Ot.id!=I),this.showSuccessSnack("lang_config_educational_program_remove_document_link_successfully"),p.isDeletingDocument=!1},error:At=>{p.isDeletingDocument=!1,this.errorStatusObj(At.error.message,!0)}})))})}uploadFileEmitted(p,C){C.isUploadingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsPost(this.classroomId,C.id,p).subscribe({next:I=>{this.reloadSessionDataOfProgram(C),C.isUploadingDocument=!1,this.showSuccessSnack("lang_config_educational_program_add_document_link_successfully")},error:I=>{C.isUploadingDocument=!1,this.errorStatusObj(I.error.message,!0)}}))}expandSessionObj(p){p.isExpanded=!p.isExpanded,this.changeSessionDataEmitter.emit(p)}previewFile(p,C){if(this.isBusinessDomain&&p.type==a.d.video&&(0,tt.xy)(p.link??""))window.open(p.link,"_blank");else{const I={name:p.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(p.type),type:p.type,url:p.link};this.sAztDialogService.open(rt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...I,index:0},showDownloadIcon:!1},restoreFocus:!1})}}ngAfterViewInit(){let p=this.programSessionObjs.find(C=>C.isExpanded);if(p){let C=document.getElementById("session-"+p.id);window.scrollTo({top:C?.offsetTop})}}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.backLink||(this.backLink="/admin/student/manage-classroom/0")}constructor(p,C,I,M){super(),this.sAztDialogService=p,this.cd=C,this.classroomService=I,this.sAztFileTypeService=M,this.backLink="",this.errorApiMessage="",this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter=new e.bkB,this.changeSessionDataEmitter=new e.bkB,this.allDocumentTypes=a.d,this.allDocumentGroupTypes=wt.k,this.showAddNewEducationalProgram=!1,this.currentUrl=this.commonService.getCurrentUrlWithoutLocale()}static#t=this.\u0275fac=function(C){return new(C||f)(e.rXU(W.i),e.rXU(e.gRc),e.rXU(kt.zS),e.rXU(dt.k))};static#e=this.\u0275cmp=e.VBU({type:f,selectors:[["app-list-sessions"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",errorApiMessage:"errorApiMessage",generalDocumentObjs:"generalDocumentObjs",programSessionObjs:"programSessionObjs",groupProgramSessionObjs:"groupProgramSessionObjs",programObj:"programObj"},outputs:{reloadSessionDataEmitter:"reloadSessionDataEmitter",changeSessionDataEmitter:"changeSessionDataEmitter"},features:[e.Vt3],decls:4,vars:2,consts:[[1,"container","educational-program-width"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf","ngIfElse"],["noApiError",""],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[3,"classroomId","programObj","saveEducationalProgramEmit",4,"ngIf"],[4,"ngIf"],[3,"classroomId","programObj","saveEducationalProgramEmit"],[1,"box","p-3","mb-3"],["generalDocumentsWidget",""],[1,"flex",2,"justify-content","space-between","align-items","center"],[1,"font-medium","text-md"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4","class","btn btn-primary text-white","style","cursor: default; align-items: baseline",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4",1,"btn","btn-primary","text-white",2,"cursor","default","align-items","baseline",3,"click"],["name","refresh-cw",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"ml-1",2,"vertical-align","middle"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],["azt-track-service","list-educational-program-sessions-tZA6KoGtc",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","iconVerticalStyle","customClass"],[1,"flex","mt-5",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","relative mt-2",4,"ngFor","ngForOf"],[1,"relative","mt-2"],["class","absolute","style","right: 5px; top: 5px; z-index: 99",4,"ngIf"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9","class","box p-3 mb-3 cursor-pointer clickable expanded-box",3,"click",4,"ngIf"],["class","box p-3 mb-3","style","user-select: none",4,"ngIf"],[1,"absolute",2,"right","5px","top","5px","z-index","99"],["class","btn btn-warning btn-sm text-slate-600 change-block-hidden","style","cursor: default",4,"ngIf"],["class","btn btn-warning btn-sm text-slate-600 change-hidden-block","style","cursor: default; padding: 3px",4,"ngIf"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-block-hidden",2,"cursor","default"],["name","user-x",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-hidden-block",2,"cursor","default","padding","3px"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9",1,"box","p-3","mb-3","cursor-pointer","clickable","expanded-box",3,"click"],[1,"heading"],[1,"font-medium","pr-5","md:pr-auto"],[2,"font-weight","420",3,"ngClass"],[1,"ml-2","text-slate-500",2,"font-weight","400"],[1,"text-slate-500",2,"font-weight","400"],[1,"box","p-3","mb-3",2,"user-select","none"],["azt-track-service","list-educational-program-sessions-AdTUEEwTH6",1,"heading","cursor-pointer","expanded-box-open","pb-2",3,"click"],[1,"font","pr-5","md:pr-auto"],[1,"font-medium",3,"ngClass"],[1,"ml-2","text-slate-500"],["class","azt-answer",4,"ngIf"],[1,"azt-answer"],[1,"strike"],[1,"uppercase",3,"ngClass"],[1,"azt-answer-content","p-3","w-full"],[1,"grid","grid-cols-12","items-center","gap-3"],["class","col-span-12 md:col-span-3",4,"ngFor","ngForOf"],["style","text-align: left","azt-track-service","list-educational-program-sessions-7tcWVQIX5M","class","btn btn-transparent w-48 block",3,"routerLink","queryParams","ngClass",4,"ngIf"],[1,"azt-answer","mt-1"],["class","grid grid-cols-12 items-center gap-3",4,"ngIf"],["class","grid grid-cols-12 gap-2",4,"ngIf"],["class","azt-answer mt-1",4,"ngIf"],[1,"text-slate-500"],[3,"contents","teacherRole","classroomId","sessionId","close"],[1,"col-span-12","md:col-span-3"],["azt-track-service","list-educational-program-sessions-osVwsOKGN",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-700/50 mb-0","style","font-size: 13px",4,"ngIf"],["class","mb-0","style","font-size: 13px",3,"ngClass",4,"ngIf"],["class","text-primary mb-0 relative","style","font-size: 13px",4,"ngIf"],[1,"w-8","h-8","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],[1,"w-8","h-8","text-pending"],["name","file-check"],[1,"w-8","h-8","text-primary"],["name","file-text"],[1,"text-slate-700/50","mb-0",2,"font-size","13px"],[1,"mb-0",2,"font-size","13px",3,"ngClass"],[1,"text-primary","mb-0","relative",2,"font-size","13px"],["azt-track-service","list-educational-program-sessions-mHY0DeFrF",3,"matTooltip","click"],["name","square-pen","size","24"],["azt-track-service","list-educational-program-sessions-7tcWVQIX5M",1,"btn","btn-transparent","w-48","block",2,"text-align","left",3,"routerLink","queryParams","ngClass"],[1,"uppercase"],[4,"ngIf","ngIfElse"],["normalViewDocument",""],[1,"col-span-12","md:col-span-2"],[3,"isBtn","customClass","emitFileDocument",4,"ngIf"],["class","col-span-12 md:col-span-2 relative",4,"ngIf"],[1,"col-span-12","md:col-span-2","relative"],[1,"flex","px-3",2,"font-weight","420","font-size","15px",3,"matMenuTriggerFor"],[1,"clickable","w-full","text-primary",2,"align-items","center"],["name","arrow-down-circle","size","18"],["xPosition","after"],["matMenuVideo","matMenu"],[1,"dropdown-menu","show",3,"ngStyle"],[1,"dropdown-content",3,"ngClass"],["azt-track-service","list-educational-program-sessions-9Uh-D7fBV",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","textWidth","type","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["class","absolute top-0 right-0 p-1 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-50"],["azt-track-service","list-educational-program-sessions-b0R49s83kG",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["name","x","size","16",3,"matTooltip"],["matMenuDocument","matMenu"],["azt-track-service","list-educational-program-sessions-3xvwjvQpPm",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-wmJtTG9lgc",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["xPosition","before"],["matMenuHomework","matMenu"],["azt-track-service","list-educational-program-sessions-0ddxB4xw-G",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-H_Fu6rJpUs",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuHomeworkView","matMenu"],["azt-track-service","list-educational-program-sessions-URYQZ4M5Qb",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","type","textWidth","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["azt-track-service","list-educational-program-sessions-MHIjTu_EQr",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuUnknown","matMenu"],["azt-track-service","list-educational-program-sessions-yixL-fRljl",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-bjX0o_IOex",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["class","col-span-12 md:col-span-3 relative",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-3","relative"],["azt-track-service","list-educational-program-sessions-0reisrghN1",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","customClass"],["azt-track-service","list-educational-program-sessions-E4pIFQJwz",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[3,"isBtn","customClass","emitFileDocument"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","text-center","p-4",2,"align-items","center"],[1,"w-6","h-6","mx-auto","flex"],[3,"type"],[1,"azt-answer-content","py-2","w-full","flex"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-dM0Vh7XPW",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","message-circle","size","18"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"routerLink","queryParams"],["name","users","size","18"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","book","size","18"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","clipboard-signature","size","18"],[1,"font-medium"],[1,"text-danger"],["class","box px-4 py-5 text-center mx-auto mt-3",4,"ngIf","ngIfElse"],["hasProgramObj",""],[1,"box","px-4","py-5","text-center","mx-auto","mt-3"],[2,"font-weight","450","font-size","15.5px"],["class","mt-3","style","font-weight: 400; font-size: 14px",4,"ngIf"],["azt-track-service","config-educational-program-UuVaYM-oC","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","400","font-size","14px"],["azt-track-service","config-educational-program-UuVaYM-oC",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","plus","size","16",3,"ngClass"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","square-pen","size","16",3,"ngClass"]],template:function(C,I){if(1&C&&(e.j41(0,"div",0),e.DNE(1,R,3,3,"div",1),e.DNE(2,Yi,3,3,"ng-template",null,2,e.C5r),e.k0s()),2&C){const M=e.sdS(3);e.R7$(1),e.Y8G("ngIf",!I.statusObj.loading&&I.errorApiMessage)("ngIfElse",M)}},dependencies:[q.Wk,T.YU,T.Sq,T.bT,T.B3,mt.kk,mt.Cp,Lt.oV,Q.f,ft.R,L.m,K.WGl,gt.J,vt,Ye,T.Jj,_t.F2,_t.wp,_t.gt,_t.bj],encapsulation:2})}return f})();function pi(f,V){if(1&f&&e.nrm(0,"azt-loading-effect",2),2&f){const p=e.XpG();e.Y8G("currentStatusObj",p.statusObj)}}function Bi(f,V){if(1&f){const p=e.RV6();e.j41(0,"div",3)(1,"app-list-sessions",4),e.bIt("reloadSessionDataEmitter",function(I){e.eBV(p);const M=e.XpG();return e.Njj(M.reloadSessionData(I))})("changeSessionDataEmitter",function(I){e.eBV(p);const M=e.XpG();return e.Njj(M.changeSessionData(I))}),e.k0s()()}if(2&f){const p=e.XpG();e.R7$(1),e.Y8G("teacherRole",p.teacherRole)("classroomId",p.classroomId)("backLink",p.backLink)("errorApiMessage",p.errorApiMessage)("generalDocumentObjs",p.generalDocumentObjs)("programSessionObjs",p.programSessionObjs)("groupProgramSessionObjs",p.groupProgramSessionObjs)("programObj",p.programObj)}}let gi=(()=>{class f extends n.H{changeSessionData(p){this.programSessionObjs.map(C=>C.id==p.id?p:C),this.teacherRole&&this.commonService.myNavigationWithQueryString(`/admin/student/classroom-details/${this.classroomId}/3`,`?sessionId=${p.id}${this.backLink?"&backTo="+this.backLink:""}`)}reloadSessionData(p){this.initData(p)}convertNormalDocumentByGroup(p){let C={};return p.forEach(I=>{I.groupType&&(C.hasOwnProperty(I.groupType)||(C[I.groupType]=[]),C[I.groupType].push(I))}),C}processData(p){let C=this.commonService.arrayToDictionary(p,M=>M.groupType?M.groupType:"unknown"),I=[{name:"video",documentObjs:[]},{name:"document",documentObjs:[]},{name:"homework",documentObjs:[]},{name:"homework_view",documentObjs:[]},{name:"unknown",documentObjs:[]}];return Object.entries(C).forEach(([M,Y],nt)=>{if(Y.length>0){let Ft={name:M,documentObjs:Y};"video"==Ft.name&&(I[0]=Ft),"document"==Ft.name&&(I[1]=Ft),"homework"==Ft.name&&(I[2]=Ft),"homework_view"==Ft.name&&(I[3]=Ft),"unknown"==Ft.name&&(I[4]=Ft)}}),I}convertDocumentsOfSession(p,C){let I=(new Date).toDateString(),M=!1;return p.forEach((Y,nt)=>{Y.normalDocumentObjs=Y.allDocumentObjs.filter(Ot=>"exam"!=Ot.type&&"homework"!=Ot.type),Y.examHomeworkObjs=Y.allDocumentObjs.filter(Ot=>"exam"==Ot.type||"homework"==Ot.type),Y.groupDocumentObjs=this.processData(Y.normalDocumentObjs),Y.indexSession=Y.sort;let Ft="",At="";if(Y.fromTime){let Ot=new Date(Y.fromTime),Re=new Date(Ot.toDateString()),hi=new Date(I),fi=Math.floor((Re.getTime()-hi.getTime())/1e3);Y.dateSession=this.timeService.getFormatDate(Y.fromTime),Y.outOfDate=fi<0,Y.monthSession=Ot.getMonth()+1,Y.yearSession=Ot.getFullYear(),Ft+=this.addZeroToTime(Ot.getHours())+":"+this.addZeroToTime(Ot.getMinutes()),At=this.timeService.calculationTimeAgoOnlyDate(Re,hi)}if(Y.toTime){let Ot=new Date(Y.toTime);Ft+=" - "+this.addZeroToTime(Ot.getHours())+":"+this.addZeroToTime(Ot.getMinutes())}Ft+=At?" ("+At+")":"",Y.timeSession=Ft,M||(Y.isExpanded=C?Y.isExpanded:!Y.outOfDate,Y.isExpanded&&(M=!0))}),p}addZeroToTime(p){return p<10?"0"+p:p.toString()}getSchoolLeaveObjs(p,C){p.length&&!this.teacherRole?this.waitDestroy(this.studentService.apiStudentsAttendancesMeGet(this.classroomId).subscribe({next:I=>{p.map(M=>{M.studentAttendance=I.list.find(Y=>Y.sessionId==M.id)}),C(p)},error:I=>{this.errorStatusObj(I.error.message,!0),C(p)}})):C(p)}initData(p){p||(this.initStatusObj(),this.programSessionObjs=[],this.programObj=void 0,this.generalDocumentObjs=[]),this.groupProgramSessionObjs=[];let C=this.teacherRole?this.classroomService.apiClassroomsClassroomIdProgramsProgramIdGet(this.classroomId,0):this.classroomService.apiClassroomsClassroomIdStudentsProgramsProgramIdGet(this.classroomId,0);this.waitDestroy(C.subscribe({next:I=>{this.generalDocumentObjs=I.generalDocuments.map(Y=>({...Y,documentType:this.commonService.getEnumTypeWithDefault(a.d,Y.type,a.d.unknown)})),this.programObj=I.program;let M=I.sessions.map(Y=>({...Y,isExpanded:!1,isLoadingData:!1,isDeletingDocument:!1,isUploadingDocument:!1,normalDocumentObjs:[],examHomeworkObjs:[],groupDocumentObjs:[],indexSession:0,yearSession:0,monthSession:0,allDocumentObjs:Y.documents.map(nt=>({...nt,documentType:this.commonService.getEnumTypeWithDefault(a.d,nt.type,a.d.unknown)}))}));M=this.convertDocumentsOfSession(M,!!p),this.getSchoolLeaveObjs(M,Y=>{if(p){let Ot=Y.find(Re=>Re.id==p.id);this.programSessionObjs=this.programSessionObjs.map(Re=>Re.id==Ot?.id?{...Ot,isExpanded:Re.isExpanded}:Re)}else this.programSessionObjs=Y;this.sessionId&&this.programSessionObjs.map(Ot=>Ot.isExpanded=Ot.id==this.sessionId);let nt=this.commonService.arrayToDictionary(this.programSessionObjs,Ot=>Ot.monthSession?.toString()+"/"+Ot.yearSession?.toString()),Ft=this.commonService.myTranslateInstant("lang_core_thang")??"Th\xe1ng",At=(new Date).getMonth()+1+"/"+(new Date).getFullYear();Object.entries(nt).forEach(([Ot,Re],hi)=>{let fi=Re.find(_s=>_s.isExpanded);this.groupProgramSessionObjs.push({monthName:Ft+" "+Ot,programObjs:Re,expand:!(Ot!=At&&!fi)})}),this.stopStatusObj()})},error:I=>{this.errorApiMessage=I.error.message,this.errorStatusObj(I.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.initData(void 0)}constructor(p,C,I,M){super(),this.classroomService=p,this.timeService=C,this.studentService=I,this.activeRoute=M,this.sessionId=0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.errorApiMessage=""}static#t=this.\u0275fac=function(C){return new(C||f)(e.rXU(kt.zS),e.rXU(t.F),e.rXU(kt.b0),e.rXU(q.nX))};static#e=this.\u0275cmp=e.VBU({type:f,selectors:[["app-view-educational-program"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",sessionId:"sessionId"},features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y","relative",2,"min-height","calc(100vh - 550px)"],[3,"teacherRole","classroomId","backLink","errorApiMessage","generalDocumentObjs","programSessionObjs","groupProgramSessionObjs","programObj","reloadSessionDataEmitter","changeSessionDataEmitter"]],template:function(C,I){if(1&C&&(e.DNE(0,pi,1,1,"azt-loading-effect",0),e.DNE(1,Bi,2,8,"ng-template",null,1,e.C5r)),2&C){const M=e.sdS(2);e.Y8G("ngIf",I.statusObj.loading)("ngIfElse",M)}},dependencies:[T.bT,o.K,ls],encapsulation:2})}return f})(),cs=(()=>{class f extends n.H{ngOnInit(){this.waitDestroy((0,j.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let p=this.commonService.getMyQueryParam("backto");this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))??0,this.backLink=p||(this.backLink??"/business/dashboard"),this.sessionId=Number(this.commonService.getMyQueryParam("sessionId"))})),super.ngOnInit()}constructor(p){super(),this.activeRoute=p,this.classroomId=0,this.sessionId=0,this.backLink=""}static#t=this.\u0275fac=function(C){return new(C||f)(e.rXU(q.nX))};static#e=this.\u0275cmp=e.VBU({type:f,selectors:[["app-educational-program"]],inputs:{isStudent:"isStudent"},features:[e.Vt3],decls:1,vars:4,consts:[[3,"teacherRole","classroomId","sessionId","backLink"]],template:function(C,I){1&C&&e.nrm(0,"app-view-educational-program",0),2&C&&e.Y8G("teacherRole",!I.isStudent)("classroomId",I.classroomId)("sessionId",I.sessionId)("backLink",I.backLink)},dependencies:[gi],encapsulation:2})}return f})()},69307:(Te,Bt,g)=>{g.d(Bt,{_:()=>dt});var j=g(10936),n=g(89163),e=g(33887),q=g(15766),a=g(26860),kt=g(90998),t=g(54460),T=g(81587),o=g(52811),tt=g(73437);function It(mt,Lt){1&mt&&(a.j41(0,"div",17),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&mt&&(a.R7$(1),a.SpI(" *",a.bMT(2,1,"lang_auto_vui_long_nhap_ten_dau_diem")," "))}function wt(mt,Lt){if(1&mt&&(a.j41(0,"div",15)(1,"label",8),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s(),a.nrm(4,"input",16),a.nI1(5,"mytranslate"),a.DNE(6,It,3,3,"div",10),a.k0s()),2&mt){const Q=a.XpG();a.R7$(2),a.SpI(" ",a.bMT(3,3,"lang_student_name_component_score")," "),a.R7$(2),a.FS9("placeholder",a.bMT(5,5,"lang_student_enter_name_component_score")),a.R7$(2),a.Y8G("ngIf",Q.form.controls.name.dirty&&Q.form.controls.name.errors)}}function rt(mt,Lt){if(1&mt&&(a.j41(0,"div",15)(1,"label",8),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s(),a.nrm(4,"input",18),a.nI1(5,"mytranslate"),a.k0s()),2&mt){const Q=a.XpG();a.R7$(2),a.SpI(" ",a.bMT(3,3,"homework"==Q.data.documentType?"lang_auto_bai_tap":"lang_auto_de_thi"),": "),a.R7$(2),a.FS9("placeholder",a.bMT(5,5,"lang_student_enter_name_component_score")),a.Y8G("value",Q.data.documentName)}}function pt(mt,Lt){1&mt&&(a.j41(0,"div",17),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&mt&&(a.R7$(1),a.SpI(" *",a.bMT(2,1,"lang_auto_he_so_diem_phai_la_so")," "))}function W(mt,Lt){1&mt&&a.nrm(0,"azt-loading-ui",19)}let dt=(()=>{class mt extends e._{setValueCoeffcient(){var Q=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(Q)??0)}createStartingPoint(){let Q={name:this.form.getRawValue().name,coefficient:this.form.getRawValue().coefficient,programId:this.data.programId,classroomId:this.data.classroomId,sessionId:this.data.sessionId};this.waitDestroy(this.data.id?this.commonMarkService.apiCommonMarksIdPut(this.data.id,Q).subscribe(ft=>{ft?(this.showSuccessSnack("lang_core_sua_dau_diem_thanh_cong"),this.dialogRef.close(Q)):this.errorStatusObj("lang_core_sua_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}):this.commonMarkService.apiCommonMarksPost(Q).subscribe(ft=>{ft?(this.showSuccessSnack("lang_core_them_dau_diem_thanh_cong"),this.dialogRef.close(Q)):this.errorStatusObj("lang_core_them_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}))}ngOnInit(){}constructor(Q,ft,L){super(L,ft),this.commonMarkService=Q,this.dialogRef=ft,this.data=L,this.form=new j.gE({name:new j.MJ({value:L.name??"",disabled:0==L.canEditName},{nonNullable:!0,validators:[j.k0.required,q.M.noWhiteSpace]}),coefficient:new j.MJ(L.coefficient,{nonNullable:!0,validators:[j.k0.required,j.k0.pattern(/^[1-9]\d*$/)]})})}static#t=this.\u0275fac=function(ft){return new(ft||mt)(a.rXU(kt.a),a.rXU(n.CP,8),a.rXU(n.Vh))};static#e=this.\u0275cmp=a.VBU({type:mt,selectors:[["app-create-score-dialog"]],features:[a.Vt3],decls:25,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"placeholder","input"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"value","placeholder"],[1,"mr-1"]],template:function(ft,L){1&ft&&(a.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),a.EFF(5),a.nI1(6,"mytranslate"),a.k0s()(),a.j41(7,"div",5),a.DNE(8,wt,7,7,"div",6),a.DNE(9,rt,6,7,"div",6),a.j41(10,"div",7)(11,"label",8),a.EFF(12),a.nI1(13,"mytranslate"),a.k0s(),a.j41(14,"input",9),a.bIt("input",function(){return L.setValueCoeffcient()}),a.nI1(15,"mytranslate"),a.k0s(),a.DNE(16,pt,3,3,"div",10),a.k0s()()(),a.j41(17,"div",11)(18,"button",12),a.bIt("click",function(){return L.dialogRef.close()}),a.EFF(19),a.nI1(20,"mytranslate"),a.k0s(),a.j41(21,"button",13),a.bIt("click",function(){return L.createStartingPoint()}),a.DNE(22,W,1,0,"azt-loading-ui",14),a.EFF(23),a.nI1(24,"mytranslate"),a.k0s()()()()),2&ft&&(a.R7$(1),a.Y8G("formGroup",L.form),a.R7$(4),a.SpI(" ",a.bMT(6,11,L.data.id?L.data.isOnlyCoefficient?"lang_student_edit_mark_coefficient":"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),a.R7$(3),a.Y8G("ngIf",!L.data.isOnlyCoefficient),a.R7$(1),a.Y8G("ngIf",L.data.isOnlyCoefficient),a.R7$(3),a.SpI(" ",a.bMT(13,13,"lang_student_score_factor")," "),a.R7$(2),a.FS9("placeholder",a.bMT(15,15,"lang_student_enter_score_factor")),a.R7$(2),a.Y8G("ngIf",L.form.controls.coefficient.dirty&&L.form.controls.coefficient.errors),a.R7$(3),a.JRh(a.bMT(20,17,"lang_button_cancel")),a.R7$(2),a.Y8G("disabled",L.form.controls.name.errors&&!L.data.isOnlyCoefficient||L.form.controls.coefficient.errors),a.R7$(1),a.Y8G("ngIf",L.statusObj.loading),a.R7$(1),a.SpI(" ",a.bMT(24,19,"lang_button_save")," "))},dependencies:[t.bT,j.qT,j.me,j.Q0,j.BC,j.cb,j.j4,j.JD,T.t,o.R,tt.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box[_ngcontent-%COMP%]{margin-top:1px}.hidden-scroll[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hidden-scroll[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]})}return mt})()},71703:(Te,Bt,g)=>{g.d(Bt,{V:()=>Qe});var j=g(81519),n=g(34514),e=g(47426),q=g(89163),a=g(99503),kt=g(79347),t=g(33887),T=g(9691),o=g(26860),tt=g(91930),It=g(59640),wt=g(18148),rt=g(69307),pt=g(46899),W=g(10296),dt=g(67638),mt=g(40609),Lt=g(54460),Q=g(47712),ft=g(66729),L=g(2915),K=g(52811),gt=g(5800),N=g(74637),B=g(10123),Gt=g(15343),Ct=g(73437);const Et=["table_score_student"],Jt=function(){return{"mr-2":!0}};function re(it,Vt){if(1&it){const U=o.RV6();o.j41(0,"div",11)(1,"button",12),o.bIt("click",function(){o.eBV(U);const ct=o.XpG();return o.Njj(ct.downloadTableScore())}),o.nrm(2,"lucide-icon",13),o.j41(3,"span"),o.EFF(4),o.nI1(5,"mytranslate"),o.k0s()()()}2&it&&(o.R7$(2),o.Y8G("ngClass",o.lJ4(4,Jt)),o.R7$(2),o.JRh(o.bMT(5,2,"lang_student_export_a_grade_sheet")))}const ge=function(){return{clickable:!0}},Ie=function(){return{"curosr-pointer":!0}};function fe(it,Vt){if(1&it){const U=o.RV6();o.j41(0,"div",14)(1,"lucide-icon",15),o.bIt("click",function(){o.eBV(U);const ct=o.XpG();return o.Njj(ct.downloadTableScore())}),o.nI1(2,"mytranslate"),o.k0s(),o.j41(3,"lucide-icon",16),o.bIt("click",function(){o.eBV(U);const ct=o.XpG();return o.Njj(ct.closeDialog.emit(ct.isEdit))}),o.nI1(4,"mytranslate"),o.k0s()()}2&it&&(o.R7$(1),o.FS9("matTooltip",o.bMT(2,4,"lang_student_export_a_grade_sheet")),o.Y8G("ngClass",o.lJ4(8,ge)),o.R7$(2),o.FS9("matTooltip",o.bMT(4,6,"lang_auto_thoat")),o.Y8G("ngClass",o.lJ4(9,Ie)))}function Se(it,Vt){1&it&&o.nrm(0,"azt-loading-ui",23)}function Dt(it,Vt){if(1&it&&(o.j41(0,"div",36),o.EFF(1),o.nI1(2,"mytranslate"),o.nI1(3,"formatOnlyDateByUserUnitPipe"),o.k0s()),2&it){const U=o.XpG().$implicit;o.R7$(1),o.Lme(" ",o.bMT(2,2,"lang_student_profile_utils_homework_answer_created_at"),": ",o.bMT(3,4,U.createdAt)," ")}}function Qt(it,Vt){if(1&it&&(o.j41(0,"div",36)(1,"span"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.j41(4,"span",37),o.EFF(5),o.k0s()()),2&it){const U=o.XpG().$implicit;o.R7$(2),o.JRh(o.bMT(3,2,"lang_auto_he_so")),o.R7$(3),o.JRh(U.coefficient)}}function Tt(it,Vt){if(1&it){const U=o.RV6();o.j41(0,"button",38),o.bIt("click",function(){o.eBV(U);const ct=o.XpG().$implicit,Yt=o.XpG(2);return o.Njj(Yt.editScore(ct))}),o.nI1(1,"mytranslate"),o.nrm(2,"lucide-icon",39),o.k0s()}2&it&&o.FS9("matTooltip",o.bMT(1,1,"lang_student_sua_dau_diem"))}function Mt(it,Vt){if(1&it&&(o.j41(0,"div",40),o.nrm(1,"azt-check-mark",41),o.k0s()),2&it){const U=o.XpG().$implicit;o.R7$(1),o.Y8G("mark",U.marks.length>0?U.marks[0]:"")}}function St(it,Vt){if(1&it&&(o.j41(0,"div",40),o.nrm(1,"azt-check-mark",41),o.k0s()),2&it){const U=o.XpG().$implicit,ot=o.XpG(2);o.R7$(1),o.Y8G("mark",ot.returnValue(U))}}function ie(it,Vt){if(1&it){const U=o.RV6();o.j41(0,"input",42),o.bIt("input",function(ct){o.eBV(U);const Yt=o.XpG().$implicit,me=o.XpG(2);return o.Njj(me.handleMarkStudent(ct,Yt.id))}),o.nI1(1,"mytranslate"),o.nI1(2,"mytranslate"),o.k0s()}if(2&it){const U=o.XpG().$implicit,ot=o.XpG(2);o.FS9("matTooltip",o.bMT(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),o.Mz_("id","input_point_",U.id.toString(),""),o.FS9("placeholder",o.bMT(2,7,"lang_auto_nhap_diem")),o.Y8G("disabled",ot.isStudent)("value",ot.returnValue(U))}}function _t(it,Vt){1&it&&(o.nrm(0,"lucide-icon",46),o.nI1(1,"mytranslate"),o.nI1(2,"mytranslate")),2&it&&o.FCK("matTooltip","",o.bMT(1,2,"lang_auto_sua")," ",o.bMT(2,4,"lang_auto_diem"),"")}function at(it,Vt){1&it&&(o.nrm(0,"lucide-icon",47),o.nI1(1,"mytranslate")),2&it&&o.FS9("matTooltip",o.bMT(1,1,"lang_editor_common_cancel"))}function X(it,Vt){if(1&it){const U=o.RV6();o.j41(0,"button",43),o.bIt("click",function(){o.eBV(U);const ct=o.XpG().$implicit,Yt=o.XpG(2);return o.Njj(Yt.viewInput(ct.id==Yt.inputPointSelect?-1:ct.id))}),o.DNE(1,_t,3,6,"lucide-icon",44),o.DNE(2,at,2,3,"lucide-icon",45),o.k0s()}if(2&it){const U=o.XpG().$implicit,ot=o.XpG(2);o.R7$(1),o.Y8G("ngIf",ot.inputPointSelect!=U.id),o.R7$(1),o.Y8G("ngIf",ot.inputPointSelect==U.id)}}function $(it,Vt){1&it&&o.nrm(0,"azt-loading-ui",51)}const ht=function(){return{"text-success":!0}};function zt(it,Vt){1&it&&o.nrm(0,"lucide-icon",52),2&it&&o.Y8G("ngClass",o.lJ4(1,ht))}function qt(it,Vt){if(1&it){const U=o.RV6();o.j41(0,"button",48),o.bIt("click",function(){o.eBV(U);const ct=o.XpG().$implicit,Yt=o.XpG(2);return o.Njj(Yt.saveMark(ct))}),o.nI1(1,"mytranslate"),o.DNE(2,$,1,0,"azt-loading-ui",49),o.DNE(3,zt,1,2,"lucide-icon",50),o.k0s()}if(2&it){const U=o.XpG(3);o.FS9("matTooltip",o.bMT(1,4,"lang_button_save")),o.Y8G("disabled",U.isSave),o.R7$(2),o.Y8G("ngIf",U.isSave),o.R7$(1),o.Y8G("ngIf",!U.isSave)}}const ye=function(){return{"text-slate-500":!0}};function Ve(it,Vt){if(1&it){const U=o.RV6();o.j41(0,"lucide-icon",53),o.bIt("click",function(){o.eBV(U);const ct=o.XpG().$implicit,Yt=o.XpG(2);return o.Njj(Yt.goToEditPoint(ct))}),o.nI1(1,"mytranslate"),o.k0s()}2&it&&(o.FS9("matTooltip",o.bMT(1,2,"lang_core_go_to_enter_score")),o.Y8G("ngClass",o.lJ4(4,ye)))}function Ue(it,Vt){if(1&it&&(o.j41(0,"tr")(1,"td")(2,"div",24)(3,"div"),o.EFF(4),o.DNE(5,Dt,4,6,"div",25),o.DNE(6,Qt,6,4,"div",26),o.k0s(),o.DNE(7,Tt,3,3,"button",27),o.k0s()(),o.j41(8,"td",28)(9,"div",29),o.DNE(10,Mt,2,1,"div",30),o.DNE(11,St,2,1,"div",30),o.DNE(12,ie,3,9,"input",31),o.DNE(13,X,3,2,"button",32),o.DNE(14,qt,4,6,"button",33),o.k0s()(),o.j41(15,"td",34),o.DNE(16,Ve,2,5,"lucide-icon",35),o.k0s()()),2&it){const U=Vt.$implicit,ot=o.XpG(2);o.R7$(4),o.SpI(" ",U.name," "),o.R7$(1),o.Y8G("ngIf",U.createdAt&&!ot.isStudent),o.R7$(1),o.Y8G("ngIf",U.coefficient),o.R7$(1),o.Y8G("ngIf",!ot.isStudent),o.R7$(3),o.Y8G("ngIf","homework"==U.objectType),o.R7$(1),o.Y8G("ngIf","homework"!=U.objectType&&ot.inputPointSelect!=U.id),o.R7$(1),o.Y8G("ngIf","homework"!=U.objectType&&ot.inputPointSelect==U.id),o.R7$(1),o.Y8G("ngIf",!ot.isStudent&&U.canEditMark&&!ot.listMarkNew),o.R7$(1),o.Y8G("ngIf",!ot.isStudent&&U.canEditMark&&ot.listMarkNew&&ot.listMarkNew.id==U.id),o.R7$(2),o.Y8G("ngIf",!ot.isStudent&&U.programId&&U.sessionId)}}function an(it,Vt){1&it&&o.nrm(0,"azt-loading-ui",23)}const be=function(){return[]};function Xe(it,Vt){if(1&it){const U=o.RV6();o.j41(0,"azt-mat-dialog-content")(1,"div",17),o.DNE(2,Se,1,0,"azt-loading-ui",18),o.j41(3,"azt-filter-box",19),o.bIt("sendFilter",function(ct){o.eBV(U);const Yt=o.XpG();return o.Njj(Yt.filterData(ct))}),o.k0s()(),o.j41(4,"table",20)(5,"tbody"),o.DNE(6,Ue,17,10,"tr",10),o.j41(7,"tr")(8,"td"),o.EFF(9),o.nI1(10,"mytranslate"),o.k0s(),o.j41(11,"td",21)(12,"div",22),o.DNE(13,an,1,0,"azt-loading-ui",18),o.EFF(14),o.k0s()()()()()()}if(2&it){const U=o.XpG();let ot;o.R7$(2),o.Y8G("ngIf",U.statusObj.loading),o.R7$(4),o.Y8G("ngForOf",null!==(ot=U.data.marks)&&void 0!==ot?ot:o.lJ4(8,be)),o.R7$(3),o.SpI(" ",o.bMT(10,6,"lang_business_diem_tong_ket")," "),o.R7$(2),o.Y8G("colSpan",2),o.R7$(2),o.Y8G("ngIf",U.isSave),o.R7$(1),o.SpI(" ",U.data.averageMark," ")}}function We(it,Vt){if(1&it&&(o.j41(0,"div",36)(1,"span"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.j41(4,"span",37),o.EFF(5),o.k0s()()),2&it){const U=o.XpG().$implicit;o.R7$(2),o.JRh(o.bMT(3,2,"lang_auto_he_so")),o.R7$(3),o.JRh(U.coefficient)}}function rn(it,Vt){if(1&it&&(o.j41(0,"div",40),o.nrm(1,"azt-check-mark",41),o.k0s()),2&it){const U=o.XpG().$implicit;o.R7$(1),o.Y8G("mark",U.marks.length>0?U.marks[0]:"")}}function He(it,Vt){if(1&it&&(o.j41(0,"div",40),o.nrm(1,"azt-check-mark",41),o.k0s()),2&it){const U=o.XpG().$implicit,ot=o.XpG(2);o.R7$(1),o.Y8G("mark",ot.returnValue(U))}}function Je(it,Vt){if(1&it&&(o.j41(0,"tr")(1,"td")(2,"div",24)(3,"div"),o.EFF(4),o.DNE(5,We,6,4,"div",26),o.k0s()()(),o.j41(6,"td",58),o.DNE(7,rn,2,1,"div",30),o.DNE(8,He,2,1,"div",30),o.k0s()()),2&it){const U=Vt.$implicit;o.R7$(4),o.SpI(" ",U.name," "),o.R7$(1),o.Y8G("ngIf",U.coefficient),o.R7$(2),o.Y8G("ngIf","homework"==U.objectType),o.R7$(1),o.Y8G("ngIf","homework"!=U.objectType)}}function ln(it,Vt){if(1&it&&(o.j41(0,"table",54)(1,"thead")(2,"tr")(3,"th",55),o.EFF(4),o.nI1(5,"mytranslate"),o.k0s(),o.j41(6,"th",56),o.EFF(7),o.nI1(8,"mytranslate"),o.k0s()()(),o.j41(9,"tbody"),o.DNE(10,Je,9,4,"tr",10),o.j41(11,"tr")(12,"td"),o.EFF(13),o.nI1(14,"mytranslate"),o.k0s(),o.j41(15,"td")(16,"div",57),o.EFF(17),o.k0s()()()()()),2&it){const U=o.XpG();let ot;o.R7$(4),o.JRh(o.bMT(5,5,"lang_student_name_component_score")),o.R7$(3),o.JRh(o.bMT(8,7,"lang_testbank_update_exam_point")),o.R7$(3),o.Y8G("ngForOf",null!==(ot=U.data.marks)&&void 0!==ot?ot:o.lJ4(11,be)),o.R7$(3),o.SpI(" ",o.bMT(14,9,"lang_business_diem_tong_ket")," "),o.R7$(4),o.SpI(" ",U.data.averageMark," ")}}function cn(it,Vt){if(1&it&&o.nrm(0,"azt-check-mark",41),2&it){const U=o.XpG().$implicit;o.Y8G("mark",U.marks.length>0?U.marks[0]:"")}}function Ae(it,Vt){if(1&it&&o.nrm(0,"azt-check-mark",41),2&it){const U=o.XpG().$implicit,ot=o.XpG();o.Y8G("mark",ot.returnValue(U))}}function Ke(it,Vt){if(1&it&&(o.j41(0,"tr")(1,"td",9),o.EFF(2),o.k0s(),o.j41(3,"td",9),o.EFF(4),o.k0s(),o.j41(5,"td",9),o.EFF(6),o.k0s(),o.j41(7,"td",9),o.DNE(8,cn,1,1,"azt-check-mark",59),o.DNE(9,Ae,1,1,"azt-check-mark",59),o.k0s()()),2&it){const U=Vt.$implicit,ot=Vt.index,ct=o.XpG();o.R7$(1),o.BMQ("excelRow",ot+1)("excelColumn",0)("excelStyle",ct.styleTdNormal),o.R7$(1),o.SpI(" ",U.name?ot+1:""," "),o.R7$(1),o.BMQ("excelRow",ot+1)("excelColumn",1)("excelStyle",ct.styleTdNormalLeft),o.R7$(1),o.SpI(" ",U.name," "),o.R7$(1),o.BMQ("excelRow",ot+1)("excelColumn",2)("excelStyle",ct.styleTdNotNumberNormal),o.R7$(1),o.SpI(" ",U.coefficient," "),o.R7$(1),o.BMQ("excelRow",ot+1)("excelColumn",3)("excelStyle",ct.styleTdNotNumberNormal),o.R7$(1),o.Y8G("ngIf","homework"==U.objectType),o.R7$(1),o.Y8G("ngIf","homework"!=U.objectType)}}let Le=(()=>{class it extends It.H{filterData(U){this.dataFilter=U,this.initStatusObj(),this.getStudent()}getStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.classroomId,getBook:!1,getMark:!0,getAttendance:!1,getPayment:!1,me:this.isStudent??!1,getAssessment:!1}).subscribe({next:ot=>{ot.list.length&&(this.data=ot.list[0]),this.stopStatusObj()},error:ot=>{this.errorStatusObj(ot.error.message,!0)}}))}downloadTableScore(){wt.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var U=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_score_student,!0);let ot=this.commonService.createFileNameExportFile(["bang_diem_hoc_sinh"+this.data.fullName])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(U,ot),wt.L.closeLoadingEffect(200)}goToEditPoint(U){this.closeDialog.emit(),this.myNavigationWithQueryString("/admin/student/submit-score/"+U.classroomId+"/"+U.programId+"/"+U.sessionId,"?studentId="+this.data.id)}viewInput(U){this.inputPointSelect=U}handleMarkStudent(U,ot){if(!this.isStudent){var ct=this.commonService.handlePointByValueInput(U);this.listMarkNew={id:ot,points:ct.length>0?ct:[-1]}}}saveMark(U){this.isSave=!0,this.listMarkNew&&this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:U.programId,classroomId:U.classroomId,sessionId:U.sessionId,students:[{id:this.data.id,listMarks:[this.listMarkNew]}]}).subscribe(ct=>{ct?(this.data.marks?.filter(Yt=>Yt.id==U.id)?.forEach(Yt=>Yt.marks=this.listMarkNew?.points?.find(me=>-1==me)?[]:this.listMarkNew?.points??Yt.marks),this.getStudent(),this.listMarkNew=void 0,this.inputPointSelect=-1,this.isEdit=!0,this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)):this.errorStatusObj("lang_auto_cap_nhat_diem_khong_thanh_cong",!0),this.isSave=!1}))}editScore(U){U&&this.sAztDialogService.open(rt._,{data:{...U,canEditName:U.canEditMark},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(ot=>{if(ot){try{var ct=this.data.marks?.find(Yt=>Yt.id==U.id);ct&&(ct.coefficient=ot.coefficient,ct.name=ot.name)}catch{}this.isEdit=!0}})}returnValue(U){return(U.marks??[]).join(" ")}ngOnInit(){super.ngOnInit()}constructor(U,ot,ct,Yt,me){super(),this.sAztDialogService=U,this.sAztTimeService=ot,this.shareFileFlutterService=ct,this.exportExcelService=Yt,this.studentService=me,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.closeDialog=new o.bkB,this.inputPointSelect=-1,this.isSave=!1,this.isEdit=!1,this.commonService=(0,o.WQX)(tt.R)}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(ot){return new(ot||it)(o.rXU(pt.i),o.rXU(T.F),o.rXU(W.R),o.rXU(dt.x),o.rXU(mt.b))};static#e=this.\u0275cmp=o.VBU({type:it,selectors:[["azt-view-table-score-single"]],viewQuery:function(ot,ct){if(1&ot&&o.GBs(Et,5),2&ot){let Yt;o.mGM(Yt=o.lsd())&&(ct.table_score_student=Yt.first)}},inputs:{data:"data",isStudent:"isStudent",viewDialog:"viewDialog"},outputs:{closeDialog:"closeDialog"},features:[o.Jv_([{provide:j.$O,useClass:a.fb,deps:[e.Ju,n.ij]},{provide:j.vq,useFactory:kt.fJ,deps:[T.F]}]),o.Vt3],decls:34,vars:61,consts:[["class","flex justify-end mb-5",4,"ngIf"],[1,"box"],[1,"pt-5","px-5","flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],["class","flex",4,"ngIf"],[4,"ngIf"],["class","table table-report","style","white-space: initial; display: table",4,"ngIf"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score_student",""],[1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","mb-5"],["azt-track-service","view-table-score-single-vS0yZHQHw",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","18",3,"ngClass"],[1,"flex"],["name","download","size","20",3,"ngClass","matTooltip","click"],["name","x","size","20",3,"ngClass","matTooltip","click"],[1,"pt-3","px-5","flex","justify-end","items-center"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[3,"sendFilter"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[3,"colSpan"],[1,"flex","justify-center","font-bold","items-center"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"flex","items-center"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp","style","color: gray","class","w-5 h-5 inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"text-center",2,"padding","0"],[1,"flex","items-center",2,"position","relative"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltip","id","disabled","value","placeholder","input",4,"ngIf"],["azt-track-service","view-table-score-single-lX3L0QoGBo","class","inline-block btn-edit-point zoom-in",3,"click",4,"ngIf"],["azt-track-service","view-table-score-single-uJE-8eAu46","class","inline-block btn-edit-point zoom-in",3,"matTooltip","disabled","click",4,"ngIf"],[1,"text-center",2,"padding","0 10px 0 10px"],["name","trash","size","18",3,"ngClass","matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[1,"inline-block","ml-1"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp",1,"w-5","h-5","inline-block","ml-1",2,"color","gray",3,"matTooltip","click"],["name","pencil","size","16"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltip","id","disabled","value","placeholder","input"],["azt-track-service","view-table-score-single-lX3L0QoGBo",1,"inline-block","btn-edit-point","zoom-in",3,"click"],["name","pencil",3,"matTooltip",4,"ngIf"],["name","x",3,"matTooltip",4,"ngIf"],["name","pencil",3,"matTooltip"],["name","x",3,"matTooltip"],["azt-track-service","view-table-score-single-uJE-8eAu46",1,"inline-block","btn-edit-point","zoom-in",3,"matTooltip","disabled","click"],["class","loading-upload","type","bootstrap-spinner",4,"ngIf"],["name","trash","size","20",3,"ngClass",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload"],["name","trash","size","20",3,"ngClass"],["name","trash","size","18",3,"ngClass","matTooltip","click"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"flex","justify-center","font-bold"],[1,"text-center"],[3,"mark",4,"ngIf"]],template:function(ot,ct){if(1&ot&&(o.DNE(0,re,6,5,"div",0),o.j41(1,"div",1)(2,"div",2),o.nrm(3,"azt-student-info-box",3),o.DNE(4,fe,5,10,"div",4),o.k0s(),o.DNE(5,Xe,15,9,"azt-mat-dialog-content",5),o.DNE(6,ln,18,12,"table",6),o.k0s(),o.j41(7,"table",7,8)(9,"thead")(10,"tr")(11,"th",9),o.EFF(12),o.nI1(13,"mytranslate"),o.k0s(),o.j41(14,"th",9),o.EFF(15),o.nI1(16,"mytranslate"),o.k0s(),o.j41(17,"th",9),o.EFF(18),o.nI1(19,"mytranslate"),o.k0s(),o.j41(20,"th",9),o.EFF(21),o.nI1(22,"mytranslate"),o.k0s()()(),o.j41(23,"tbody"),o.DNE(24,Ke,10,17,"tr",10),o.j41(25,"tr")(26,"td",9),o.EFF(27),o.k0s(),o.j41(28,"td",9),o.EFF(29),o.nI1(30,"mytranslate"),o.k0s(),o.nrm(31,"td"),o.j41(32,"td",9),o.EFF(33),o.k0s()()()()),2&ot){let Yt,me,_e,De,he,te;o.Y8G("ngIf",ct.isStudent&&!ct.viewDialog),o.R7$(3),o.Y8G("name",ct.data.fullName)("parentFullName",ct.data.parentFullName)("parentId",ct.data.parentId)("parentPhone",ct.data.parentPhone)("phone",ct.data.phone)("email",ct.data.email)("avatar",ct.data.avatar)("gender",ct.data.gender)("hasUser",ct.data.hasUser),o.R7$(1),o.Y8G("ngIf",ct.viewDialog),o.R7$(1),o.Y8G("ngIf",ct.viewDialog),o.R7$(1),o.Y8G("ngIf",ct.isStudent&&!ct.viewDialog),o.R7$(1),o.Y8G("border",1),o.R7$(4),o.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",ct.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(13,50,"lang_student_export_excel_no")," "),o.R7$(2),o.BMQ("excelWidth",10)("excelRow",0)("excelColumn",1)("excelStyle",ct.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(16,52,"lang_student_name_component_score")," "),o.R7$(2),o.BMQ("excelWidth",10)("excelRow",0)("excelColumn",2)("excelStyle",ct.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(19,54,"lang_auto_he_so")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",ct.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(22,56,"lang_testbank_update_exam_point")," "),o.R7$(3),o.Y8G("ngForOf",null!==(Yt=ct.data.marks)&&void 0!==Yt?Yt:o.lJ4(60,be)),o.R7$(2),o.BMQ("excelRow",(null!==(me=null==ct.data.marks?null:ct.data.marks.length)&&void 0!==me?me:0)+1)("excelColumn",0)("excelStyle",ct.styleTdNormal),o.R7$(1),o.SpI(" ",(null!==(_e=null==ct.data.marks?null:ct.data.marks.length)&&void 0!==_e?_e:0)+1," "),o.R7$(1),o.BMQ("excelRow",(null!==(De=null==ct.data.marks?null:ct.data.marks.length)&&void 0!==De?De:0)+1)("excelColumn",1)("excelStyle",ct.styleTdNormal),o.R7$(1),o.SpI(" ",o.bMT(30,58,"lang_business_diem_tong_ket")," "),o.R7$(2),o.BMQ("excelRow",(null!==(he=null==ct.data.marks?null:ct.data.marks.length)&&void 0!==he?he:0)+1)("excelColumn",3)("excelStyle",ct.styleTdNormal),o.R7$(1),o.BMQ("excelRow",(null!==(te=null==ct.data.marks?null:ct.data.marks.length)&&void 0!==te?te:0)+1)("excelColumn",4)("excelStyle",ct.styleTdNotNumberNormal),o.R7$(1),o.SpI(" ",ct.data.averageMark," ")}},dependencies:[Lt.YU,Lt.Sq,Lt.bT,Q.oV,ft.D,L.U,K.R,gt.B,N.E,B.Ew,Gt.WGl,Ct.wp,Ct.vv],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]})}return it})(),Qe=(()=>{class it extends t._{closeDialog(U){this.dialogRef.close(U)}ngOnInit(){super.ngOnInit()}constructor(U,ot){super(ot,U),this.dialogRef=U,this.data=ot}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(ot){return new(ot||it)(o.rXU(q.CP,8),o.rXU(q.Vh,8))};static#e=this.\u0275cmp=o.VBU({type:it,selectors:[["azt-table-score-single"]],features:[o.Jv_([{provide:j.$O,useClass:a.fb,deps:[e.Ju,n.ij]},{provide:j.vq,useFactory:kt.fJ,deps:[T.F]}]),o.Vt3],decls:1,vars:3,consts:[[3,"data","isStudent","viewDialog","closeDialog"]],template:function(ot,ct){1&ot&&(o.j41(0,"azt-view-table-score-single",0),o.bIt("closeDialog",function(me){return ct.closeDialog(me)}),o.k0s()),2&ot&&o.Y8G("data",ct.data.student)("isStudent",!ct.data.isTeacher)("viewDialog",!0)},dependencies:[Le],encapsulation:2})}return it})()},19857:(Te,Bt,g)=>{g.d(Bt,{g:()=>mn});var j=g(76627),n=g(59640),e=g(18148),q=g(37497),a=g(75421),kt=g(27208),t=g(69307),T=g(71703),o=g(26860),tt=g(90998),It=g(40609),wt=g(9691),rt=g(46899),pt=g(64624),W=g(67638),dt=g(65162),mt=g(10296),Lt=g(54460),Q=g(47712),ft=g(18718),L=g(22613),K=g(66729),gt=g(52811),N=g(11002),B=g(32099),Gt=g(5800),Ct=g(10123),Et=g(15343),Jt=g(73437);const re=["table_score"];function ge(z,vt){1&z&&(o.j41(0,"div",6)(1,"h3",7),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()()),2&z&&(o.R7$(2),o.JRh(o.bMT(3,1,"lang_student_enter_score")))}function Ie(z,vt){1&z&&(o.j41(0,"div",6)(1,"h3",7),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()()),2&z&&(o.R7$(2),o.JRh(o.bMT(3,1,"lang_auto_bang_diem")))}const fe=function(){return{"mr-2":!0}};function Se(z,vt){if(1&z){const S=o.RV6();o.j41(0,"button",16),o.bIt("click",function(){o.eBV(S);const Z=o.XpG(2);return o.Njj(Z.createNewScore())}),o.nrm(1,"lucide-icon",17),o.j41(2,"span"),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s()()}2&z&&(o.R7$(1),o.Y8G("ngClass",o.lJ4(4,fe)),o.R7$(2),o.JRh(o.bMT(4,2,"lang_student_enter_new_component_score")))}function Dt(z,vt){if(1&z){const S=o.RV6();o.j41(0,"button",18),o.bIt("click",function(){o.eBV(S);const Z=o.XpG(2);return o.Njj(Z.downloadTableScore())}),o.nrm(1,"lucide-icon",19),o.j41(2,"span"),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s()()}2&z&&(o.R7$(1),o.Y8G("ngClass",o.lJ4(4,fe)),o.R7$(2),o.JRh(o.bMT(4,2,"lang_student_export_a_grade_sheet")))}function Qt(z,vt){1&z&&o.nrm(0,"azt-loading-ui",23)}function Tt(z,vt){if(1&z){const S=o.RV6();o.j41(0,"flexed-on-the-top",20)(1,"button",21),o.bIt("click",function(){o.eBV(S);const Z=o.XpG(2);return o.Njj(Z.saveMark())}),o.DNE(2,Qt,1,0,"azt-loading-ui",22),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s()()}if(2&z){const S=o.XpG(2);o.Y8G("colorBackground","#f0f8ffe8"),o.R7$(1),o.Y8G("disabled",0==S.listStudentMark.length||S.isSave),o.R7$(1),o.Y8G("ngIf",S.isSave),o.R7$(1),o.SpI(" ",o.bMT(4,4,"lang_auto_luu")," ")}}function Mt(z,vt){if(1&z){const S=o.RV6();o.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"azt-search-box",11),o.bIt("onSearch",function(Z){o.eBV(S);const bt=o.XpG();return o.Njj(bt.onSearchBox(Z.searchObj))}),o.nI1(4,"mytranslate"),o.k0s()(),o.j41(5,"div",12),o.DNE(6,Se,5,5,"button",13),o.DNE(7,Dt,5,5,"button",14),o.DNE(8,Tt,5,6,"flexed-on-the-top",15),o.k0s()()()}if(2&z){const S=o.XpG();o.R7$(3),o.Y8G("isServerSearch",!0)("placeholder",o.bMT(4,5,"lang_core_tim_theo_ten_phone_email")),o.R7$(3),o.Y8G("ngIf","ENTER_SCORE"==S.screenType),o.R7$(1),o.Y8G("ngIf","TABLE_SCORE"==S.screenType),o.R7$(1),o.Y8G("ngIf","ENTER_SCORE"==S.screenType)}}function St(z,vt){if(1&z&&o.nrm(0,"azt-loading-effect",24),2&z){const S=o.XpG();o.Y8G("currentStatusObj",S.statusObj)}}function ie(z,vt){1&z&&(o.j41(0,"div",30),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&z&&(o.R7$(1),o.JRh(o.bMT(2,1,"lang_student_classroom_list_detail_not_student")))}function _t(z,vt){if(1&z&&(o.j41(0,"div",47)(1,"span"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.j41(4,"span",48),o.EFF(5),o.k0s()()),2&z){const S=o.XpG().$implicit;o.R7$(2),o.JRh(o.bMT(3,2,"lang_auto_he_so")),o.R7$(3),o.JRh(S.coefficient)}}function at(z,vt){if(1&z){const S=o.RV6();o.j41(0,"button",49),o.bIt("click",function(){o.eBV(S);const Z=o.XpG().$implicit,bt=o.XpG(3);return o.Njj(bt.createNewScore(Z))}),o.nI1(1,"mytranslate"),o.nrm(2,"lucide-icon",50),o.k0s()}2&z&&o.FS9("matTooltip",o.bMT(1,1,"lang_student_sua_dau_diem"))}const X=function(){return{"text-danger":!0}};function $(z,vt){if(1&z){const S=o.RV6();o.j41(0,"button",51),o.bIt("click",function(){o.eBV(S);const Z=o.XpG().$implicit,bt=o.XpG(3);return o.Njj(bt.deleteMark(Z))}),o.nI1(1,"mytranslate"),o.nrm(2,"lucide-icon",52),o.k0s()}2&z&&(o.FS9("matTooltip",o.bMT(1,2,"lang_button_delete")),o.R7$(2),o.Y8G("ngClass",o.lJ4(4,X)))}function ht(z,vt){if(1&z&&(o.j41(0,"th",39)(1,"div",40)(2,"div",41)(3,"div",42),o.EFF(4),o.k0s(),o.j41(5,"div",43),o.DNE(6,_t,6,4,"div",44),o.DNE(7,at,3,3,"button",45),o.DNE(8,$,3,5,"button",46),o.k0s()()()()),2&z){const S=vt.$implicit,J=o.XpG(3);o.R7$(3),o.FS9("matTooltip",S.name),o.R7$(1),o.JRh(S.name),o.R7$(2),o.Y8G("ngIf",S.coefficient),o.R7$(1),o.Y8G("ngIf",!J.isStudent),o.R7$(1),o.Y8G("ngIf",S.canEditName)}}function zt(z,vt){1&z&&(o.j41(0,"th",53),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&z&&(o.R7$(1),o.JRh(o.bMT(2,1,"lang_business_diem_tong_ket")))}function qt(z,vt){if(1&z&&(o.j41(0,"div",63),o.nrm(1,"azt-check-mark",64),o.k0s()),2&z){const S=o.XpG().$implicit;o.R7$(1),o.Y8G("mark",S.marks.length>0?S.marks[0]:"")}}function ye(z,vt){if(1&z&&(o.j41(0,"div",63),o.nrm(1,"azt-check-mark",64),o.k0s()),2&z){const S=o.XpG().$implicit,J=o.XpG(4);o.R7$(1),o.Y8G("mark",J.returnValue(S))}}function Ve(z,vt){if(1&z){const S=o.RV6();o.j41(0,"input",65),o.bIt("input",function(Z){o.eBV(S);const bt=o.XpG().index,oe=o.XpG().index,ve=o.XpG(3);return o.Njj(ve.handleMarkStudent(Z,oe,bt))}),o.nI1(1,"mytranslate"),o.nI1(2,"mytranslate"),o.k0s()}if(2&z){const S=o.XpG().$implicit,J=o.XpG().$implicit,Z=o.XpG(3);o.FS9("matTooltip",o.bMT(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),o.FS9("id",S.id.toString()+"-"+J.id.toString()),o.FS9("placeholder",o.bMT(2,7,"lang_auto_nhap_diem")),o.Y8G("matTooltipDisabled",!S.canEditMark)("value",Z.returnValue(S))}}function Ue(z,vt){if(1&z&&(o.j41(0,"td",59),o.DNE(1,qt,2,1,"div",60),o.DNE(2,ye,2,1,"div",60),o.DNE(3,Ve,3,9,"input",61),o.nrm(4,"div",62),o.k0s()),2&z){const S=vt.$implicit,J=o.XpG().$implicit,Z=o.XpG(3);o.Y8G("hidden","TABLE_SCORE"==Z.screenType),o.R7$(1),o.Y8G("ngIf","homework"==S.objectType),o.R7$(1),o.Y8G("ngIf","homework"!=S.objectType&&(!S.canEditMark||"ENTER_SCORE"!=Z.screenType)),o.R7$(1),o.Y8G("ngIf","homework"!=S.objectType&&S.canEditMark),o.R7$(1),o.Mz_("id","error-",S.id.toString()+"-"+J.id.toString(),""),o.Y8G("hidden",!0)}}function an(z,vt){if(1&z&&(o.j41(0,"td")(1,"div",66),o.EFF(2),o.k0s()()),2&z){const S=o.XpG().$implicit;o.R7$(2),o.SpI(" ",S.averageMark," ")}}const be=function(){return[]};function Xe(z,vt){if(1&z){const S=o.RV6();o.j41(0,"tr",54)(1,"td",55),o.bIt("click",function(){const bt=o.eBV(S).$implicit,oe=o.XpG(3);return o.Njj(oe.openDialogTableSingle(bt))}),o.nrm(2,"azt-student-info-box",56),o.k0s(),o.j41(3,"td",57),o.EFF(4),o.nI1(5,"formatStudentCodeToNumber"),o.k0s(),o.DNE(6,Ue,5,6,"td",58),o.DNE(7,an,3,1,"td",28),o.k0s()}if(2&z){const S=vt.$implicit,J=o.XpG(3);let Z;o.Y8G("id","row_student_"+S.id),o.R7$(2),o.Y8G("name",S.fullName)("parentFullName",S.parentFullName)("parentId",S.parentId)("parentPhone",S.parentPhone)("avatar",S.avatar)("gender",S.gender)("hasUser",S.hasUser)("schoolName",S.schoolName)("classrooms",S.classrooms)("joinedAt",S.joinedAt),o.R7$(2),o.JRh(S.identificationNumber?o.i5U(5,14,S.identificationNumber,6):""),o.R7$(2),o.Y8G("ngForOf",null!==(Z=S.marks)&&void 0!==Z?Z:o.lJ4(17,be)),o.R7$(1),o.Y8G("ngIf","TABLE_SCORE"==J.screenType)}}function We(z,vt){if(1&z&&(o.j41(0,"div",31)(1,"drag-scroll")(2,"table",32)(3,"thead")(4,"tr",33)(5,"th",34),o.EFF(6),o.nI1(7,"mytranslate"),o.k0s(),o.j41(8,"th",35),o.EFF(9),o.nI1(10,"mytranslate"),o.k0s(),o.DNE(11,ht,9,5,"th",36),o.DNE(12,zt,3,3,"th",37),o.k0s()(),o.j41(13,"tbody"),o.DNE(14,Xe,8,18,"tr",38),o.k0s()()()()),2&z){const S=o.XpG(2);let J,Z;o.R7$(6),o.JRh(o.bMT(7,5,"lang_auto_ho_va_ten")),o.R7$(3),o.JRh(o.bMT(10,7,"lang_auto_so_bao_danh")),o.R7$(2),o.Y8G("ngForOf",null!==(J=null==S.dataMark?null:S.dataMark.list)&&void 0!==J?J:o.lJ4(9,be)),o.R7$(1),o.Y8G("ngIf","TABLE_SCORE"==S.screenType),o.R7$(2),o.Y8G("ngForOf",null!==(Z=null==S.dataStudent?null:S.dataStudent.list)&&void 0!==Z?Z:o.lJ4(10,be))}}function rn(z,vt){if(1&z&&(o.j41(0,"div",69),o.nrm(1,"azt-student-info-box",70),o.j41(2,"div",71)(3,"div",72),o.EFF(4),o.nI1(5,"mytranslate"),o.k0s(),o.j41(6,"div",72),o.EFF(7),o.k0s()()()),2&z){const S=vt.$implicit;o.R7$(1),o.Y8G("name",S.fullName)("parentFullName",S.parentFullName)("parentId",S.parentId)("parentPhone",S.parentPhone)("phone",S.phone)("email",S.email)("avatar",S.avatar)("gender",S.gender)("hasUser",S.hasUser),o.R7$(3),o.SpI(" ",o.bMT(5,11,"lang_business_diem_tong_ket")," "),o.R7$(3),o.SpI(" ",S.averageMark," ")}}function He(z,vt){1&z&&o.nrm(0,"lucide-icon",77)}function Je(z,vt){1&z&&o.nrm(0,"lucide-icon",78)}function ln(z,vt){if(1&z&&(o.j41(0,"div",88)(1,"span"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.j41(4,"span",48),o.EFF(5),o.k0s()()),2&z){const S=o.XpG().$implicit;o.R7$(2),o.JRh(o.bMT(3,2,"lang_auto_he_so")),o.R7$(3),o.JRh(S.coefficient)}}function cn(z,vt){if(1&z&&(o.j41(0,"div",89),o.nrm(1,"azt-check-mark",64),o.k0s()),2&z){const S=o.XpG().$implicit;o.R7$(1),o.Y8G("mark",S.marks.length>0?S.marks[0]:"")}}function Ae(z,vt){if(1&z&&(o.j41(0,"div",89),o.nrm(1,"azt-check-mark",64),o.k0s()),2&z){const S=o.XpG().$implicit,J=o.XpG(6);o.R7$(1),o.Y8G("mark",J.returnValue(S))}}function Ke(z,vt){if(1&z&&(o.j41(0,"tr")(1,"td")(2,"div",84)(3,"div"),o.EFF(4),o.DNE(5,ln,6,4,"div",85),o.k0s()()(),o.j41(6,"td",86),o.DNE(7,cn,2,1,"div",87),o.DNE(8,Ae,2,1,"div",87),o.k0s()()),2&z){const S=vt.$implicit;o.R7$(4),o.SpI(" ",S.name," "),o.R7$(1),o.Y8G("ngIf",S.coefficient),o.R7$(2),o.Y8G("ngIf","homework"==S.objectType),o.R7$(1),o.Y8G("ngIf","homework"!=S.objectType)}}function Le(z,vt){if(1&z&&(o.j41(0,"div",80)(1,"table",81)(2,"thead")(3,"tr")(4,"th",82),o.EFF(5),o.nI1(6,"mytranslate"),o.k0s(),o.j41(7,"th",83),o.EFF(8),o.nI1(9,"mytranslate"),o.k0s()()(),o.j41(10,"tbody"),o.DNE(11,Ke,9,4,"tr",68),o.k0s()()()),2&z){const S=o.XpG(2).$implicit;o.R7$(5),o.JRh(o.bMT(6,3,"lang_student_name_component_score")),o.R7$(3),o.JRh(o.bMT(9,5,"lang_testbank_update_exam_point")),o.R7$(3),o.Y8G("ngForOf",S.marks)}}function Qe(z,vt){if(1&z&&(o.qex(0),o.DNE(1,Le,12,7,"div",79),o.bVm()),2&z){const S=o.XpG(4);o.R7$(1),o.Y8G("ngIf",S.isStudent)}}function it(z,vt){if(1&z){const S=o.RV6();o.j41(0,"div")(1,"h3",73)(2,"span",74),o.bIt("click",function(){const bt=o.eBV(S).$implicit;return o.Njj(bt.expand=!bt.expand)}),o.EFF(3),o.nI1(4,"mytranslate"),o.DNE(5,He,1,0,"lucide-icon",75),o.DNE(6,Je,1,0,"lucide-icon",76),o.k0s()(),o.DNE(7,Qe,2,1,"ng-container",28),o.k0s()}if(2&z){const S=vt.$implicit;o.R7$(3),o.Lme(" ",o.bMT(4,5,"lang_core_thang")," ",S.date," "),o.R7$(2),o.Y8G("ngIf",S.expand),o.R7$(1),o.Y8G("ngIf",!S.expand),o.R7$(1),o.Y8G("ngIf",S.expand)}}function Vt(z,vt){if(1&z&&(o.j41(0,"div"),o.DNE(1,rn,8,13,"div",67),o.DNE(2,it,8,7,"div",68),o.k0s()),2&z){const S=o.XpG(2);let J;o.R7$(1),o.Y8G("ngForOf",null!==(J=null==S.dataStudent?null:S.dataStudent.list)&&void 0!==J?J:o.lJ4(2,be)),o.R7$(1),o.Y8G("ngForOf",S.listGroupMarkDate)}}function U(z,vt){if(1&z){const S=o.RV6();o.j41(0,"azt-paging",93),o.bIt("goToPaginationPage",function(Z){o.eBV(S);const bt=o.XpG(3);return o.Njj(bt.setPageStudent(Z))}),o.k0s()}if(2&z){const S=o.XpG(3);o.Y8G("pageObj",S.pageObj)}}function ot(z,vt){if(1&z&&(o.j41(0,"div",12),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&z){const S=o.XpG(3);o.R7$(1),o.Lme("",S.dataStudent.total," ",o.bMT(2,2,"lang_notify_list_students"),"")}}function ct(z,vt){if(1&z&&(o.j41(0,"div",90),o.nrm(1,"div"),o.DNE(2,U,1,1,"azt-paging",91),o.DNE(3,ot,3,4,"div",92),o.k0s()),2&z){const S=o.XpG(2);o.R7$(2),o.Y8G("ngIf",S.dataStudent.total>S.pageObj.pageSize),o.R7$(1),o.Y8G("ngIf",!S.isStudent)}}function Yt(z,vt){if(1&z&&(o.j41(0,"div",25),o.DNE(1,ie,3,3,"div",26),o.DNE(2,We,15,11,"div",27),o.DNE(3,Vt,3,3,"div",28),o.k0s(),o.DNE(4,ct,4,2,"div",29)),2&z){const S=o.XpG();let J,Z,bt;o.R7$(1),o.Y8G("ngIf",!S.isStudent&&0==(null==S.dataStudent||null==S.dataStudent.list?null:S.dataStudent.list.length)&&0==(null!==(J=null==S.dataStudent?null:S.dataStudent.total)&&void 0!==J?J:0)),o.R7$(1),o.Y8G("ngIf",!S.isStudent&&(null!==(Z=null==S.dataStudent||null==S.dataStudent.list?null:S.dataStudent.list.length)&&void 0!==Z?Z:0)>0),o.R7$(1),o.Y8G("ngIf",S.isStudent),o.R7$(1),o.Y8G("ngIf",S.dataStudent&&S.dataStudent.total&&(null!==(bt=null==S.dataStudent?null:S.dataStudent.total)&&void 0!==bt?bt:0)>0)}}function me(z,vt){if(1&z&&(o.j41(0,"th",96),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&z){const S=vt.$implicit,J=vt.index,Z=o.XpG(2);o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+J)("excelStyle",Z.styleThNormal),o.R7$(1),o.Lme(" ",S.name+"\n"," "," ("+o.bMT(2,6,"lang_auto_he_so")+" "+S.coefficient+")"," ")}}function _e(z,vt){if(1&z&&o.nrm(0,"azt-check-mark",64),2&z){const S=o.XpG().$implicit;o.Y8G("mark",S.marks.length>0?S.marks[0]:"")}}function De(z,vt){if(1&z&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&z){const S=o.XpG().$implicit,J=o.XpG(3);o.R7$(1),o.SpI(" ",J.returnValue(S)," ")}}function he(z,vt){if(1&z&&(o.j41(0,"td",96),o.DNE(1,_e,1,1,"azt-check-mark",98),o.DNE(2,De,2,1,"span",28),o.k0s()),2&z){const S=vt.$implicit,J=vt.index,Z=o.XpG().index,bt=o.XpG(2);o.BMQ("excelRow",Z+1)("excelColumn",6+J)("excelStyle",bt.styleTdNormal),o.R7$(1),o.Y8G("ngIf","homework"==S.objectType),o.R7$(1),o.Y8G("ngIf","homework"!=S.objectType)}}function te(z,vt){if(1&z&&(o.j41(0,"tr")(1,"td",96),o.EFF(2),o.k0s(),o.j41(3,"td",96),o.EFF(4),o.k0s(),o.j41(5,"td",96),o.EFF(6),o.k0s(),o.j41(7,"td",96),o.EFF(8),o.k0s(),o.j41(9,"td",96),o.EFF(10),o.nI1(11,"formatOnlyDateByUserUnitPipe"),o.k0s(),o.j41(12,"td",96),o.EFF(13),o.nI1(14,"mytranslate"),o.nI1(15,"mytranslate"),o.k0s(),o.DNE(16,he,3,5,"td",97),o.j41(17,"td",96),o.EFF(18),o.k0s()()),2&z){const S=vt.$implicit,J=vt.index,Z=o.XpG(2);let bt,oe;o.R7$(1),o.BMQ("excelRow",J+1)("excelColumn",0)("excelStyle",Z.styleTdNormal),o.R7$(1),o.SpI(" ",null!=S&&S.fullName?J+1:""," "),o.R7$(1),o.BMQ("excelRow",J+1)("excelColumn",1)("excelStyle",Z.styleTdNormalLeft),o.R7$(1),o.SpI(" ",null==S?null:S.fullName," "),o.R7$(1),o.BMQ("excelRow",J+1)("excelColumn",2)("excelStyle",Z.styleTdNotNumberNormal),o.R7$(1),o.SpI(" ",null==S?null:S.phone," "),o.R7$(1),o.BMQ("excelRow",J+1)("excelColumn",3)("excelStyle",Z.styleTdNormal),o.R7$(1),o.SpI(" ",null==S?null:S.email," "),o.R7$(1),o.BMQ("excelRow",J+1)("excelColumn",4)("excelStyle",Z.styleTdNormal),o.R7$(1),o.SpI(" ",o.bMT(11,29,null==S?null:S.birthday)," "),o.R7$(2),o.BMQ("excelRow",J+1)("excelColumn",5)("excelStyle",Z.styleTdNormal),o.R7$(1),o.SpI(" ",1==(null==S?null:S.gender)?o.bMT(14,31,"lang_student_export_excel_gender_male"):0==(null==S?null:S.gender)?o.bMT(15,33,"lang_student_export_excel_gender_female"):""," "),o.R7$(3),o.Y8G("ngForOf",null!==(bt=S.marks)&&void 0!==bt?bt:o.lJ4(35,be)),o.R7$(1),o.BMQ("excelRow",J+1)("excelColumn",6+(null!==(oe=null==S.marks?null:S.marks.length)&&void 0!==oe?oe:0))("excelStyle",Z.styleTdNotNumberNormal),o.R7$(1),o.SpI(" ",S.averageMark," ")}}function de(z,vt){if(1&z&&(o.j41(0,"table",94,95)(2,"thead")(3,"tr")(4,"th",96),o.EFF(5),o.nI1(6,"mytranslate"),o.k0s(),o.j41(7,"th",96),o.EFF(8),o.nI1(9,"mytranslate"),o.k0s(),o.j41(10,"th",96),o.EFF(11),o.nI1(12,"mytranslate"),o.k0s(),o.j41(13,"th",96),o.EFF(14),o.nI1(15,"mytranslate"),o.k0s(),o.j41(16,"th",96),o.EFF(17),o.nI1(18,"mytranslate"),o.k0s(),o.j41(19,"th",96),o.EFF(20),o.nI1(21,"mytranslate"),o.k0s(),o.DNE(22,me,3,8,"th",97),o.j41(23,"th",96),o.EFF(24),o.nI1(25,"mytranslate"),o.k0s()()(),o.j41(26,"tbody"),o.DNE(27,te,19,36,"tr",68),o.k0s()()),2&z){const S=o.XpG();let J,Z,bt;o.Y8G("border",1),o.R7$(4),o.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",S.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(6,38,"lang_student_export_excel_no")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",S.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(9,40,"lang_student_export_excel_full_name")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",S.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(12,42,"lang_number_phone")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",S.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(15,44,"lang_student_export_excel_email")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",S.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(18,46,"lang_student_export_excel_birthday")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",S.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(21,48,"lang_student_export_excel_gender")," "),o.R7$(2),o.Y8G("ngForOf",null!==(J=null==S.dataMark?null:S.dataMark.list)&&void 0!==J?J:o.lJ4(52,be)),o.R7$(1),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+(null!==(Z=null==S.dataMark||null==S.dataMark.list?null:S.dataMark.list.length)&&void 0!==Z?Z:0))("excelStyle",S.styleThNormal),o.R7$(1),o.SpI(" ",o.bMT(25,50,"lang_business_diem_tong_ket")," "),o.R7$(3),o.Y8G("ngForOf",null!==(bt=null==S.dataStudent?null:S.dataStudent.list)&&void 0!==bt?bt:o.lJ4(53,be))}}let mn=(()=>{class z extends n.H{goToProfile(S,J){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+S+"/"+J,"?backto="+encodeURIComponent("ENTER_SCORE"==this.screenType?"/admin/student/submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"/admin/student/classroom-details/"+this.classroomId+"/4"))}setPageStudent(S){this.myNavigationWithQueryString("/admin/student/"+("ENTER_SCORE"==this.screenType?"submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"classroom-details/"+this.classroomId+"/4"),"?page="+S),this.initStatusObj(),this.pageObj.setPageNumber(S),this.getListStudent()}openDialogTableSingle(S){"ENTER_SCORE"!=this.screenType?this.sAztDialogService.open(T.V,{width:"750px",restoreFocus:!1,data:{student:S,isTeacher:!0}}).afterClosed().subscribe(J=>{J&&this.getListStudent()}):(S.classroomId||S.id)&&this.goToProfile(S.classroomId,S.id)}onSearchBox(S){this.searchContentObj=S,this.setPageStudent(1),this.initStatusObj()}downloadTableScore(){e.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var S=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let J=this.commonService.createFileNameExportFile(["bang_diem_lop_"+this.classroomObj?.name])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(S,J),e.L.closeLoadingEffect(200)}handlePointByValueInput(S){var J=S.target;let Z=""===J.value.trim()?"":J.value;Z=Z.replace(/[^\d\s,\.]/g,""),Z=Z.replace(/,/g,"."),Z=Z.replace(/\s+/g," "),Z=Z.replace(/\.{2,}/g,"."),Z=Z.replace(/(?:^|\s)\./g," 0."),Z=Z.replace(/^\s+/,""),Z=Z.replace(/\.\s/g," ");var bt=Z.split(" ");if(bt.length>0){var oe=""!=bt[bt.length-1]?bt[bt.length-1]:bt[bt.length-2];Number(oe)>-1?oe.split(".").length>1&&oe.split(".")[1].length>2&&(Z=Z.substring(0,Z.length-1)):Z=Z.replace(/\.$/," ")}return J.value=Z,Z.split(" ").filter(je=>""!=je).map(je=>parseFloat(je))}handleMarkStudent(S,J,Z){var bt=this.handlePointByValueInput(S);bt=0==bt.length?[-1]:bt;var oe=this.dataStudent.list[J],ve=this.dataMark.list[Z],Ut=this.listStudentMark.findIndex(Ge=>Ge.id==oe.id);if(Ut>-1){var je=(this.listStudentMark[Ut].listMarks??[]).findIndex(Ge=>Ge.id==ve.id);je>-1?this.listStudentMark[Ut].listMarks[je].points=bt:this.listStudentMark[Ut].listMarks?.push({id:ve.id,points:bt})}else this.listStudentMark.push({id:oe.id,listMarks:[{id:ve.id,points:bt}]})}returnValue(S){return(S.marks??[]).join(" ")}saveMark(){this.isSave=!0,this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listStudentMark}).subscribe({next:J=>{this.getListStudent(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0),this.isSave=!1},error:J=>{this.errorStatusObj(J.error.message,!0),this.isSave=!1}}))}createNewScore(S){this.isStudent||this.sAztDialogService.open(t._,{data:S||{programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(Z=>{Z&&this.getListMark()})}getListMark(){this.waitDestroy(this.commonMarkService.apiCommonMarksListPost({page:this.pageMark,size:1e3,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId}).subscribe({next:J=>{this.dataMark=J,this.getListStudent()},error:J=>{this.errorStatusObj(J.error.message,!0)}}))}deleteMark(S){var J=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+S.name+" </div> ?";this.sAztDialogService.open(a.u,{data:{content:J},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(Z=>{Z&&this.waitDestroy(this.commonMarkService.apiCommonMarksIdDelete(S.id).subscribe({next:bt=>{this.getListMark()},error:bt=>{this.errorStatusObj(bt.error.message,!0)}}))})}getClassroomObj(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(S=>{1==S.success&&(this.classroomObj=S.data?.obj)}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1}).subscribe({next:J=>{this.dataStudent=J,this.pageObj.setTotalPages(this.dataStudent?.total??0),this.isStudent?this.handleGroupMarkByDate(J.list):setTimeout(()=>this.scrollElementStudentById(),500),this.stopStatusObj()},error:J=>{this.errorStatusObj(J.error.message,!0)}}))}handleGroupMarkByDate(S){let J=[];S.forEach(bt=>{let oe=bt.marks?.map(ve=>({...ve,monthAndYear:this.sAztTimeService.formatDateToMonthYear(ve.createdAt)}))??[];J=J.concat(oe)});let Z=this.commonService.arrayToDictionary(J,bt=>bt.monthAndYear);this.listGroupMarkDate=Object.entries(Z).map(([bt,oe])=>({date:bt,marks:oe,expand:!1}))}scrollElementStudentById(){if(this.studentId){var S=document.getElementById("row_student_"+this.studentId);S&&S.scrollIntoView({behavior:"smooth",block:"start"})}}ngOnInit(){(0,j.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.studentId=this.commonService.getMyQueryParam("studentId"),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))}),super.ngOnInit(),"ENTER_SCORE"==this.screenType?this.getListMark():this.getListStudent(),this.getClassroomObj()}constructor(S,J,Z,bt,oe,ve,Ut,je){super(),this.commonMarkService=S,this.studentService=J,this.sAztTimeService=Z,this.sAztDialogService=bt,this.classroomService=oe,this.exportExcelService=ve,this.activeRoute=Ut,this.shareFileFlutterService=je,this.screenType="ENTER_SCORE",this.classroomId=0,this.programId=0,this.sessionId=0,this.isStudent=!0,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.pageMark=1,this.listStudentMark=[],this.listGroupMarkDate=[],this.isSave=!1,this.pageObj=new q.d(50),this.searchContentObj=new kt.Z}static#t=this.\u0275fac=function(J){return new(J||z)(o.rXU(tt.a),o.rXU(It.b),o.rXU(wt.F),o.rXU(rt.i),o.rXU(pt.z),o.rXU(W.x),o.rXU(dt.nX),o.rXU(mt.R))};static#e=this.\u0275cmp=o.VBU({type:z,selectors:[["app-table-score"]],viewQuery:function(J,Z){if(1&J&&o.GBs(re,5),2&J){let bt;o.mGM(bt=o.lsd())&&(Z.table_answer=bt.first)}},inputs:{screenType:"screenType",classroomId:"classroomId",programId:"programId",sessionId:"sessionId",isStudent:"isStudent"},features:[o.Vt3],decls:8,vars:6,consts:[[1,"grid","grid-cols-12","gap-5","mt-5"],["class","col-span-12 md:col-span-6",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","placeholder","onSearch"],[1,"flex","justify-end"],["azt-track-service","enter-score-ULGPeBf6V","class","btn btn-primary flex mr-2",3,"click",4,"ngIf"],["azt-track-service","table-score-n5S54LPUX","class","btn btn-primary flex btn-download-excel",3,"click",4,"ngIf"],[3,"colorBackground",4,"ngIf"],["azt-track-service","enter-score-ULGPeBf6V",1,"btn","btn-primary","flex","mr-2",3,"click"],["name","plus","size","20",3,"ngClass"],["azt-track-service","table-score-n5S54LPUX",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","20",3,"ngClass"],[3,"colorBackground"],["azt-track-service","enter-score-OlvWZNI2DZ",1,"btn","btn-primary","shadow-md","sm:mt-0","ml-2",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["class","block","style","height: 100%",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-10","text-center"],[1,"block",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap",2,"padding-left","25px"],[1,"whitespace-nowrap","text-center"],["class","text-center","style","max-width: 120px !important",4,"ngFor","ngForOf"],["class","text-center whitespace-nowrap",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"text-center",2,"max-width","120px !important"],[1,"flex","items-center","justify-center"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],[1,"flex","justify-between",2,"width","max-content"],["class","col-score","class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["azt-track-service","enter-score-YQX6a-qxwK","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],["azt-track-service","table-score-8Xr_zTWDT","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],["azt-track-service","enter-score-YQX6a-qxwK",1,"inline-block","ml-1",3,"matTooltip","click"],["name","pencil","size","16"],["azt-track-service","table-score-8Xr_zTWDT",1,"inline-block","ml-1",3,"matTooltip","click"],["name","trash-2","size","16",3,"ngClass"],[1,"text-center","whitespace-nowrap"],[3,"id"],["azt-track-service","table-score-iwGAjYKV2",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",3,"hidden",4,"ngFor","ngForOf"],[1,"text-center",3,"hidden"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important","type","text","class","form-control form-control-sm text-center",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input"],[1,"flex","justify-center","font-bold"],["class","box p-3 mb-5 flex justify-between",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"box","p-3","mb-5","flex","justify-between"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"text-center"],[1,"font-bold"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","table-score-4mYihdNPO",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","box mt-3 mb-1",4,"ngIf"],[1,"box","mt-3","mb-1"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","100px"],[1,"flex","items-center"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],[1,"text-center","font-bold"],["style","max-width: 100px",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[2,"max-width","100px"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score",""],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[3,"mark",4,"ngIf"]],template:function(J,Z){if(1&J&&(o.j41(0,"div",0),o.DNE(1,ge,4,3,"div",1),o.DNE(2,Ie,4,3,"div",1),o.DNE(3,Mt,9,7,"div",2),o.k0s(),o.DNE(4,St,1,1,"azt-loading-effect",3),o.DNE(5,Yt,5,4,"ng-template",null,4,o.C5r),o.DNE(7,de,28,54,"table",5)),2&J){const bt=o.sdS(6);o.R7$(1),o.Y8G("ngIf","ENTER_SCORE"==Z.screenType),o.R7$(1),o.Y8G("ngIf","TABLE_SCORE"==Z.screenType),o.R7$(1),o.Y8G("ngIf",!Z.isStudent),o.R7$(1),o.Y8G("ngIf",Z.statusObj.loading)("ngIfElse",bt),o.R7$(3),o.Y8G("ngIf","TABLE_SCORE"==Z.screenType)}},dependencies:[Lt.YU,Lt.Sq,Lt.bT,Q.oV,ft.K,L.q,K.D,gt.R,N.$,B.W,Gt.B,Ct.jd,Ct.Ew,Et.WGl,Jt.wp,Jt.Po,Jt.vv],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}@media (max-width: 639px){.btn-download-excel[_ngcontent-%COMP%]{width:100%!important}}.box-point-homework[_ngcontent-%COMP%]{min-width:120px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}"]})}return z})()},57350:(Te,Bt,g)=>{g.d(Bt,{s:()=>a});var j=g(59640),n=g(26860),e=g(65162),q=g(19857);let a=(()=>{class kt extends j.H{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor(T){super(),this.activeRoute=T,this.classroomId=0}static#t=this.\u0275fac=function(o){return new(o||kt)(n.rXU(e.nX))};static#e=this.\u0275cmp=n.VBU({type:kt,selectors:[["app-grand-board"]],inputs:{isStudent:"isStudent"},features:[n.Vt3],decls:1,vars:5,consts:[[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(o,tt){1&o&&n.nrm(0,"app-table-score",0),2&o&&n.Y8G("isStudent",tt.isStudent)("screenType","TABLE_SCORE")("classroomId",tt.classroomId)("programId",0)("sessionId",0)},dependencies:[q.g],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]})}return kt})()},25622:(Te,Bt,g)=>{g.d(Bt,{b:()=>N});var j=g(59640),n=g(26860),e=g(43070),q=g(65162),a=g(54460),kt=g(18718),t=g(68323),T=g(94743),o=g(73437);function tt(B,Gt){if(1&B&&n.nrm(0,"azt-loading-effect",2),2&B){const Ct=n.XpG();n.Y8G("currentStatusObj",Ct.statusObj)}}const It=function(B){return{"text-white":B}};function wt(B,Gt){if(1&B&&(n.j41(0,"div",21),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&B){const Ct=n.XpG(),Jt=Ct.$implicit;n.Y8G("ngClass",n.eq3(4,It,0===Ct.index)),n.R7$(1),n.JRh(Jt.averageMark+" "+n.bMT(2,2,"lang_auto_diem"))}}function rt(B,Gt){if(1&B&&(n.j41(0,"div",21),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&B){const Ct=n.XpG();n.Y8G("ngClass",n.eq3(4,It,0===Ct.index&&Ct.$implicit.averageMark)),n.R7$(1),n.JRh(n.bMT(2,2,"lang_not_data"))}}function pt(B,Gt){1&B&&(n.j41(0,"div",22),n.nrm(1,"azt-svg-icon",23),n.k0s()),2&B&&(n.R7$(1),n.Y8G("size",40))}function W(B,Gt){1&B&&(n.j41(0,"div",24),n.nrm(1,"azt-svg-icon",25),n.k0s()),2&B&&(n.R7$(1),n.Y8G("size",40))}function dt(B,Gt){1&B&&(n.j41(0,"div",26),n.nrm(1,"azt-svg-icon",27),n.k0s()),2&B&&(n.R7$(1),n.Y8G("size",40))}const mt=function(B){return{cursor:B}},Lt=function(B,Gt,Ct){return{"p-5 bg-primary text-white":B,"p-3":Gt,"border border-primary p-4 border-w-2":Ct}},Q=function(B){return{"text-base":B}};function ft(B,Gt){if(1&B){const Ct=n.RV6();n.j41(0,"div",8),n.bIt("click",function(){const re=n.eBV(Ct).$implicit,ge=n.XpG(3);return n.Njj(ge.goToProfile(re.classroomId,re.id))}),n.j41(1,"div",9)(2,"span",10),n.EFF(3),n.k0s()(),n.j41(4,"div",11)(5,"div",12),n.nrm(6,"azt-create-avatar",13),n.k0s(),n.j41(7,"div",14)(8,"div",15),n.EFF(9),n.k0s(),n.DNE(10,wt,3,6,"div",16),n.DNE(11,rt,3,6,"div",16),n.k0s()(),n.j41(12,"div",17),n.DNE(13,pt,2,1,"div",18),n.DNE(14,W,2,1,"div",19),n.DNE(15,dt,2,1,"div",20),n.k0s()()}if(2&B){const Ct=Gt.$implicit,Et=Gt.index,Jt=n.XpG(3);n.Y8G("ngStyle",n.eq3(13,mt,Jt.isStudent?"default":"pointer"))("ngClass",n.sMw(15,Lt,0===Et&&Ct.averageMark,0!==Et||!Ct.averageMark,(2===Et||1===Et)&&Ct.averageMark)),n.R7$(3),n.JRh(Et+1),n.R7$(3),n.Y8G("linkAvatar",Ct.avatar)("nameCreateAvatar",Ct.fullName)("size",0===Et?48:44),n.R7$(2),n.Y8G("ngClass",n.eq3(19,Q,0===Et)),n.R7$(1),n.JRh(Ct.fullName),n.R7$(1),n.Y8G("ngIf",Ct.averageMark),n.R7$(1),n.Y8G("ngIf",!Ct.averageMark),n.R7$(2),n.Y8G("ngIf",0===Et&&Ct.averageMark),n.R7$(1),n.Y8G("ngIf",1===Et&&Ct.averageMark),n.R7$(1),n.Y8G("ngIf",2===Et&&Ct.averageMark)}}function L(B,Gt){if(1&B&&(n.j41(0,"div",5)(1,"div",6),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.DNE(4,ft,16,21,"div",7),n.k0s()),2&B){const Ct=n.XpG(2);n.R7$(2),n.SpI(" ",n.bMT(3,2,"lang_azt_leaderboard")," "),n.R7$(2),n.Y8G("ngForOf",Ct.dataStudent.list)}}function K(B,Gt){1&B&&(n.j41(0,"div",28)(1,"div",29),n.nrm(2,"azt-svg-icon",30),n.j41(3,"p",31),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s()()()),2&B&&(n.R7$(2),n.Y8G("size",82),n.R7$(2),n.JRh(n.bMT(5,2,"lang_not_data")+"!"))}function gt(B,Gt){if(1&B&&(n.DNE(0,L,5,4,"div",3),n.DNE(1,K,6,4,"ng-template",null,4,n.C5r)),2&B){const Ct=n.sdS(2),Et=n.XpG();n.Y8G("ngIf",Et.dataStudent&&Et.dataStudent.list&&Et.dataStudent.list.length)("ngIfElse",Ct)}}let N=(()=>{class B extends j.H{goToProfile(Ct,Et){this.isStudent||this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+Ct+"/"+Et,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${Ct}/5`))}getListStudent(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1e3,name:"",programId:0,classroomId:this.classroomId,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!1,order:{fieldName:"averageMark",descending:!0,ignore:!1}}).subscribe({next:Et=>{this.dataStudent=Et,this.stopStatusObj()},error:Et=>{this.errorStatusObj(Et.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getListStudent()}constructor(Ct,Et){super(),this.studentService=Ct,this.activeRoute=Et,this.classroomId=0}static#t=this.\u0275fac=function(Et){return new(Et||B)(n.rXU(e.b0),n.rXU(q.nX))};static#e=this.\u0275cmp=n.VBU({type:B,selectors:[["app-leader-board"]],inputs:{isStudent:"isStudent"},features:[n.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["class","p-4 leaderboard rounded-lg",4,"ngIf","ngIfElse"],["emptyData",""],[1,"p-4","leaderboard","rounded-lg"],[1,"text-xl","text-center","font-medium"],["azt-track-service","leaderboard-dDzfaXSYR","class","flex items-center box rounded-25px mt-4 intro-x zoom-in p-3","style","min-height: 92px",3,"ngStyle","ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","leaderboard-dDzfaXSYR",1,"flex","items-center","box","rounded-25px","mt-4","intro-x","zoom-in","p-3",2,"min-height","92px",3,"ngStyle","ngClass","click"],[1,"w-5","h-5","rounded-full","border","border-w-2","border-slate-200","dark:border-slate-400","flex","items-center","justify-center"],[1,"text-xs","font-medium"],[1,"mx-3","flex","items-center"],[1,"image-fit","zoom-in"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4"],[1,"font-medium",3,"ngClass"],["class","text-slate-600 mt-0.5 text-xs font-medium",3,"ngClass",4,"ngIf"],[1,"ml-auto"],["class","icon-top-1",4,"ngIf"],["class","icon-top-2",4,"ngIf"],["class","icon-top-3",4,"ngIf"],[1,"text-slate-600","mt-0.5","text-xs","font-medium",3,"ngClass"],[1,"icon-top-1"],["type","crown-gold",3,"size"],[1,"icon-top-2"],["type","crown-silver",3,"size"],[1,"icon-top-3"],["type","crown-copper",3,"size"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","inbox-empty",3,"size"],[1,"font-medium","mt-5"]],template:function(Et,Jt){if(1&Et&&(n.DNE(0,tt,1,1,"azt-loading-effect",0),n.DNE(1,gt,3,2,"ng-template",null,1,n.C5r)),2&Et){const re=n.sdS(2);n.Y8G("ngIf",Jt.statusObj.loading)("ngIfElse",re)}},dependencies:[a.YU,a.Sq,a.bT,a.B3,kt.K,t.p,T.m,o.wp],styles:[".leaderboard[_ngcontent-%COMP%]{background:#dae3fe;border-radius:30px}.rounded-25px[_ngcontent-%COMP%]{border-radius:25px}"]})}return B})()},95054:(Te,Bt,g)=>{g.d(Bt,{K:()=>Ye});var j=g(26988),n=g(59640),e=function(R){return R[R.ADD_NEW=0]="ADD_NEW",R[R.UPDATE=1]="UPDATE",R[R.DELETE=2]="DELETE",R}(e||{}),q=g(10936),a=g(26860),kt=g(43070),t=g(54460),T=g(47712),o=g(18718),tt=g(52811),It=g(94743),wt=g(15343),rt=g(15766),pt=g(39712),W=g(36484),dt=g(97839),mt=g(99965),Lt=g(63349),Q=g(53043),ft=g(46899);const L=function(){return{"stroke-1.5":!0}};function K(R,Pt){if(1&R){const E=a.RV6();a.j41(0,"div",2)(1,"div",3)(2,"a",4),a.bIt("click",function(){const jt=a.eBV(E).$implicit,Kt=a.XpG();return a.Njj(Kt.onShowFile(jt,-1))}),a.j41(3,"div",5),a.nrm(4,"img",6),a.j41(5,"span",7),a.bIt("click",function(){const jt=a.eBV(E).$implicit,Kt=a.XpG();return a.Njj(Kt.removeFile(jt))}),a.nrm(6,"lucide-icon",8),a.k0s()()()()()}if(2&R){const E=Pt.$implicit;a.R7$(4),a.Y8G("src",E.url,a.B4B),a.R7$(2),a.Y8G("ngClass",a.lJ4(2,L))}}let gt=(()=>{class R extends n.H{onShowFile(E,F){let O={...E,index:F};this.sAztDialogService.open(Q.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:O},restoreFocus:!1})}removeFile(E){this.files=this.files.filter(F=>F.url!=E.url),this.filesChange.emit(this.files)}constructor(E){super(),this.sAztDialogService=E,this.filesChange=new a.bkB}static#t=this.\u0275fac=function(F){return new(F||R)(a.rXU(ft.i))};static#e=this.\u0275cmp=a.VBU({type:R,selectors:[["app-new-list-images"]],inputs:{files:"files"},outputs:{filesChange:"filesChange"},features:[a.Vt3],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","gap-3","mb-3"],["class","col-span-12 md:col-span-6 xl:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","xl:col-span-4","lg:col-span-2"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-1","pr-2","pl-2"],["azt-track-service","list-images-jCIgoLK9i",1,"flex","w-full","items-center",3,"click"],[1,"w-full","h-28","image-fit","zoom-in"],[1,"rounded-md",3,"src"],["azt-track-service","list-images-3VlAbiB3VZ",1,"cursor-pointer","absolute","top-0","right-0","-mt-2","-mr-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-danger","text-white",3,"click"],["name","x","size","16",3,"ngClass"]],template:function(F,O){1&F&&(a.j41(0,"div",0),a.DNE(1,K,7,3,"div",1),a.k0s()),2&F&&(a.R7$(1),a.Y8G("ngForOf",O.files))},dependencies:[t.YU,t.Sq,wt.WGl],encapsulation:2})}return R})();var N=g(73437);function B(R,Pt){if(1&R){const E=a.RV6();a.j41(0,"app-new-list-images",13),a.bIt("filesChange",function(O){a.eBV(E);const jt=a.XpG();return a.Njj(jt.files=O)}),a.k0s()}if(2&R){const E=a.XpG();a.Y8G("files",E.files)}}function Gt(R,Pt){1&R&&a.nrm(0,"azt-loading-ui",14)}const Ct=function(R){return[R]},Et=function(){return{"zoom-in":!0}};let Jt=(()=>{class R extends n.H{saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();var E={content:this.contentFormControl.value??"",classroomId:this.classroomId,imageLinks:this.files.map(F=>F.url).filter(this.commonService.notEmpty),isLockComment:this.isLockComment?1:0,isSchool:this.isSchool};this.waitDestroy(this.newsService.apiNewsPost(E).subscribe({next:F=>{this.successStatusObj("lang_business_news_add_new_post_success",!0),this.contentFormControl.setValue(""),this.files=[],this.changePostObjEvent.emit({...F,isShowEditForm:!1,hasLoveEmotion:!1,isShowCommentBox:!1})},error:F=>{this.errorStatusObj(F.error.message,!0)}}))}}handleUploadComplete(E){this.files.push(...E)}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(E,F){super(),this.newsService=E,this.userService=F,this.changePostObjEvent=new a.bkB,this.contentFormControl=new q.MJ("",{nonNullable:!0,validators:[rt.M.noWhiteSpace]}),this.files=[],this.isLockComment=!1,this.allUploadToCdnMenuTypes=pt.b8,this.allUploadFileTypes=pt.PO}static#t=this.\u0275fac=function(F){return new(F||R)(a.rXU(kt.bH),a.rXU(W.R))};static#e=this.\u0275cmp=a.VBU({type:R,selectors:[["app-news-add-new-post"]],inputs:{classroomId:"classroomId",isSchool:"isSchool"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[a.Vt3],decls:19,vars:23,consts:[[1,"box"],[1,"relative","w-full","pt-3","pr-3","pl-3"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","pt-3",3,"files","filesChange",4,"ngIf"],[1,"text-right","box-button"],[1,"w-full","flex","sm:justify-between","justify-end","items-center"],[1,"btn","btn-outline-secondary","btn-sm","mr-2","p-0","border-0",3,"matTooltip","click"],["size","24",3,"name"],[3,"uploadToCdnMenu","fileType","uploadComplete"],["azt-track-service","add-new-post-YUr68bfqj5",1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","add-new-post-D1kcZnYwie","type","button",1,"btn","btn-primary","btn-sm","w-24",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"pt-3",3,"files","filesChange"],[1,"mr-1"]],template:function(F,O){1&F&&(a.j41(0,"div",0)(1,"div",1)(2,"textarea",2),a.nI1(3,"mytranslate"),a.EFF(4,"        "),a.k0s(),a.DNE(5,B,1,1,"app-new-list-images",3),a.k0s(),a.j41(6,"div",4)(7,"div",5)(8,"button",6),a.bIt("click",function(){return O.isLockComment=!O.isLockComment}),a.nI1(9,"mytranslate"),a.nrm(10,"lucide-icon",7),a.k0s(),a.j41(11,"azt-upload-multiple-box",8),a.bIt("uploadComplete",function(Kt){return O.handleUploadComplete(Kt)}),a.j41(12,"span",9),a.nrm(13,"lucide-icon",10),a.nI1(14,"mytranslate"),a.k0s()(),a.j41(15,"button",11),a.bIt("click",function(){return O.saveNewPost()}),a.DNE(16,Gt,1,0,"azt-loading-ui",12),a.EFF(17),a.nI1(18,"mytranslate"),a.k0s()()()()),2&F&&(a.R7$(2),a.FS9("placeholder",a.bMT(3,12,"lang_business_news_post_content")),a.Y8G("formControl",O.contentFormControl),a.R7$(3),a.Y8G("ngIf",O.files.length),a.R7$(3),a.FS9("matTooltip",a.bMT(9,14,O.isLockComment?"lang_student_comment_lock":"lang_student_unlock_comments")),a.R7$(2),a.Y8G("name",O.isLockComment?"lock":"lock-open"),a.R7$(1),a.Y8G("uploadToCdnMenu",O.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",a.eq3(20,Ct,O.allUploadFileTypes.IMAGE)),a.R7$(2),a.FS9("matTooltip",a.bMT(14,16,"lang_core_tai_anh")),a.Y8G("ngClass",a.lJ4(22,Et)),a.R7$(2),a.Y8G("disabled",""==O.contentFormControl.value||O.statusObj.loading),a.R7$(1),a.Y8G("ngIf",O.statusObj.loading),a.R7$(1),a.SpI(" ",a.bMT(18,18,"lang_business_news_add_new_post_button")," "))},dependencies:[t.YU,t.bT,dt.fg,T.oV,q.me,q.BC,q.l_,mt.j,tt.R,Lt.V,wt.WGl,gt,N.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0;height:25px}.box-button[_ngcontent-%COMP%]{padding:5px 10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}"]})}return R})();var re=g(89163),ge=g(33887),Ie=g(2915);function fe(R,Pt){1&R&&a.nrm(0,"azt-loading-ui",9)}let Se=(()=>{class R extends ge._{btnCloseDialog(E){this.dialogRef.close(E)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsIdDelete(this.postObj.id).subscribe({next:E=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:E=>{this.errorStatusObj(E.error.message,!0)}}))}constructor(E,F,O){super(O,F),this.newsService=E,this.dialogRef=F,this.data=O,this.postObj=O}static#t=this.\u0275fac=function(F){return new(F||R)(a.rXU(kt.bH),a.rXU(re.CP,8),a.rXU(re.Vh,8))};static#e=this.\u0275cmp=a.VBU({type:R,selectors:[["app-delete-news-post-confirm-dialog"]],features:[a.Vt3],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(F,O){1&F&&(a.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),a.EFF(5),a.nI1(6,"mytranslate"),a.j41(7,"b",4),a.EFF(8),a.k0s(),a.EFF(9,"? "),a.k0s()()()(),a.j41(10,"div",5)(11,"button",6),a.bIt("click",function(){return O.btnCloseDialog(!1)}),a.EFF(12),a.nI1(13,"mytranslate"),a.k0s(),a.j41(14,"button",7),a.bIt("click",function(){return O.confirmDelete()}),a.DNE(15,fe,1,0,"azt-loading-ui",8),a.EFF(16),a.nI1(17,"mytranslate"),a.k0s()()()),2&F&&(a.R7$(5),a.SpI(" ",a.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post"),"\xa0 "),a.R7$(3),a.JRh(O.postObj.content),a.R7$(4),a.SpI(" ",a.bMT(13,7,"lang_cms_common_close_btn")," "),a.R7$(3),a.Y8G("ngIf",O.statusObj.loading),a.R7$(1),a.SpI(" ",a.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[t.bT,Ie.U,tt.R,N.wp],encapsulation:2})}return R})();var Dt=g(17818),Qt=g(68323),Tt=g(49221),Mt=function(R){return R[R.ADD_NEW=0]="ADD_NEW",R[R.UPDATE=1]="UPDATE",R[R.DELETE=2]="DELETE",R}(Mt||{}),St=g(74960),ie=g(43558);function _t(R,Pt){1&R&&a.nrm(0,"azt-loading-ui",9)}const at=function(){return{"text-primary flex-none zoom-in":!0}};let X=(()=>{class R extends n.H{saveNewComment(){this.commentContentFormControl.value.trim()&&(this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsPost(this.postObj.id,{content:this.commentContentFormControl.value}).subscribe({next:F=>{this.successStatusObj(),this.commentContentFormControl.setValue(""),this.changeCommentObjEvent.emit({...F,isShowEditForm:!1,allowDelete:!0,allowEdit:!0})},error:F=>{this.errorStatusObj(F.error.message,!0)}})))}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(E,F){super(),this.newsService=E,this.userService=F,this.changeCommentObjEvent=new a.bkB,this.commentContentFormControl=new q.MJ("",{nonNullable:!0,validators:[rt.M.noWhiteSpace]})}static#t=this.\u0275fac=function(F){return new(F||R)(a.rXU(kt.bH),a.rXU(W.R))};static#e=this.\u0275cmp=a.VBU({type:R,selectors:[["app-news-add-new-comments"]],inputs:{postObj:"postObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[a.Vt3],decls:12,vars:15,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","",2,"resize","auto","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],["azt-track-service","add-new-comment-tIKt3rAhD",1,"btn","btn-secondary","btn-sm","zoom-in",3,"matTooltip","disabled","click"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(F,O){1&F&&(a.j41(0,"div",0),a.nrm(1,"azt-create-avatar",1),a.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),a.bIt("enterKey",function(){return!(""==O.commentContentFormControl.value||O.statusObj.loading)&&O.saveNewComment()}),a.nI1(5,"mytranslate"),a.EFF(6,"            "),a.k0s()(),a.j41(7,"div",5)(8,"button",6),a.bIt("click",function(){return O.saveNewComment()}),a.nI1(9,"mytranslate"),a.DNE(10,_t,1,0,"azt-loading-ui",7),a.nrm(11,"lucide-icon",8),a.k0s()()()()),2&F&&(a.R7$(1),a.Y8G("nameCreateAvatar",O.userObj.fullName)("linkAvatar",O.userObj.avatar)("size",30),a.R7$(3),a.FS9("placeholder",a.bMT(5,10,"lang_core_viet_binh_luan")),a.Y8G("enableInMobile",!1)("formControl",O.commentContentFormControl),a.R7$(4),a.FS9("matTooltip",a.bMT(9,12,"lang_business_news_add_new_post_button")),a.Y8G("disabled",""==O.commentContentFormControl.value||O.statusObj.loading),a.R7$(2),a.Y8G("ngIf",O.statusObj.loading),a.R7$(1),a.Y8G("ngClass",a.lJ4(14,at)))},dependencies:[t.YU,t.bT,dt.fg,St.rl,T.oV,q.me,q.BC,q.l_,Qt.p,mt.j,ie.Z,tt.R,wt.WGl,N.wp],encapsulation:2})}return R})();function $(R,Pt){1&R&&a.nrm(0,"azt-loading-ui",9)}let ht=(()=>{class R extends ge._{btnCloseDialog(E){this.dialogRef.close(E)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdDelete(this.postObj.id,this.commentObj.id).subscribe({next:E=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:E=>{this.errorStatusObj(E.error.message,!0)}}))}constructor(E,F,O){super(O,F),this.newsService=E,this.dialogRef=F,this.data=O,this.postObj=O.postObj,this.commentObj=O.commentObj}static#t=this.\u0275fac=function(F){return new(F||R)(a.rXU(kt.bH),a.rXU(re.CP,8),a.rXU(re.Vh,8))};static#e=this.\u0275cmp=a.VBU({type:R,selectors:[["app-delete-news-post-comment-confirm-dialog"]],features:[a.Vt3],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(F,O){1&F&&(a.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),a.EFF(5),a.nI1(6,"mytranslate"),a.j41(7,"b",4),a.EFF(8),a.k0s(),a.EFF(9,"? "),a.k0s()()()(),a.j41(10,"div",5)(11,"button",6),a.bIt("click",function(){return O.btnCloseDialog(!1)}),a.EFF(12),a.nI1(13,"mytranslate"),a.k0s(),a.j41(14,"button",7),a.bIt("click",function(){return O.confirmDelete()}),a.DNE(15,$,1,0,"azt-loading-ui",8),a.EFF(16),a.nI1(17,"mytranslate"),a.k0s()()()),2&F&&(a.R7$(5),a.SpI(" ",a.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post_comment"),"\xa0 "),a.R7$(3),a.JRh(O.commentObj.content),a.R7$(4),a.SpI(" ",a.bMT(13,7,"lang_cms_common_close_btn")," "),a.R7$(3),a.Y8G("ngIf",O.statusObj.loading),a.R7$(1),a.SpI(" ",a.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[t.bT,Ie.U,tt.R,N.wp],encapsulation:2})}return R})();const zt=function(){return{"text-slate-500":!0}};function qt(R,Pt){if(1&R&&(a.j41(0,"button",15),a.nrm(1,"lucide-icon",16),a.k0s()),2&R){a.XpG();const E=a.sdS(12);a.Y8G("matMenuTriggerFor",E),a.R7$(1),a.Y8G("ngClass",a.lJ4(2,zt))}}const ye=function(){return{"mr-2":!0}};function Ve(R,Pt){if(1&R){const E=a.RV6();a.j41(0,"li")(1,"a",17),a.bIt("click",function(){a.eBV(E);const O=a.XpG();return a.Njj(O.editCommentEvent())}),a.nrm(2,"lucide-icon",18),a.EFF(3),a.nI1(4,"mytranslate"),a.k0s()()}2&R&&(a.R7$(2),a.Y8G("ngClass",a.lJ4(4,ye)),a.R7$(1),a.SpI(" ",a.bMT(4,2,"lang_auto_sua")," "))}const Ue=function(){return{"mr-2 text-danger":!0}};function an(R,Pt){if(1&R){const E=a.RV6();a.j41(0,"li")(1,"a",19),a.bIt("click",function(){a.eBV(E);const O=a.XpG();return a.Njj(O.deleteCommentEvent())}),a.nrm(2,"lucide-icon",20),a.EFF(3),a.nI1(4,"mytranslate"),a.k0s()()}2&R&&(a.R7$(2),a.Y8G("ngClass",a.lJ4(4,Ue)),a.R7$(1),a.SpI(" ",a.bMT(4,2,"lang_auto_xoa")," "))}let be=(()=>{class R extends n.H{editCommentEvent(){this.commentObj.isShowEditForm=!0,this.changeCommentObjEvent.emit({actionType:Mt.UPDATE,commentObj:this.commentObj})}deleteCommentEvent(){this.sAztDialogService.open(ht,{width:"700px",data:{postObj:this.postObj,commentObj:this.commentObj},restoreFocus:!1}).afterClosed().subscribe(F=>{F&&this.changeCommentObjEvent.emit({actionType:Mt.DELETE,commentObj:this.commentObj})})}constructor(E){super(),this.sAztDialogService=E,this.changeCommentObjEvent=new a.bkB}static#t=this.\u0275fac=function(F){return new(F||R)(a.rXU(ft.i))};static#e=this.\u0275cmp=a.VBU({type:R,selectors:[["app-news-view-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[a.Jv_([j.h]),a.Vt3],decls:20,vars:13,consts:[[1,"flex","mb-3","comment-body"],[1,"image-fit","mt-2"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"flex","items-center","justify-start"],[1,"box-content","px-3","py-2","ml-3"],[1,"font-medium","whitespace-nowrap"],[3,"content","maxLine","backgroundColor"],[1,"btn-show","ml-1"],["class","clickable p-1 hover:bg-slate-100 dark:hover:bg-darkmode-400","style","border-radius: 50%","data-tw-toggle","dropdown",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],[4,"ngIf"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5","ml-3"],["data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["azt-track-service","comments-post-dialog-a0fkWfZtZk",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","comments-post-dialog-_pPBuSnF37",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"]],template:function(F,O){1&F&&(a.j41(0,"div",0)(1,"div",1),a.nrm(2,"azt-create-avatar",2),a.k0s(),a.j41(3,"div")(4,"div",3)(5,"div",4)(6,"div",5),a.EFF(7),a.k0s(),a.nrm(8,"azt-see-more-multiple-lines",6),a.k0s(),a.j41(9,"div",7),a.DNE(10,qt,2,3,"button",8),a.j41(11,"mat-menu",9,10)(13,"div",11)(14,"ul",12),a.DNE(15,Ve,5,5,"li",13),a.DNE(16,an,5,5,"li",13),a.k0s()()()()(),a.j41(17,"div",14),a.EFF(18),a.nI1(19,"relativeTime"),a.k0s()()()),2&F&&(a.R7$(2),a.Y8G("nameCreateAvatar",null==O.commentObj.user?null:O.commentObj.user.fullName)("linkAvatar",null==O.commentObj.user?null:O.commentObj.user.avatar)("size",30),a.R7$(5),a.SpI(" ",null==O.commentObj.user?null:O.commentObj.user.fullName,"\xa0 "),a.R7$(1),a.Y8G("content",O.commentObj.content)("maxLine",5)("backgroundColor","#f5f5f5"),a.R7$(2),a.Y8G("ngIf",O.commentObj.allowDelete||O.commentObj.allowEdit),a.R7$(5),a.Y8G("ngIf",O.commentObj.allowEdit),a.R7$(1),a.Y8G("ngIf",O.commentObj.allowDelete),a.R7$(2),a.JRh(a.bMT(19,11,O.commentObj.createdAt)))},dependencies:[t.YU,t.bT,Dt.kk,Dt.Cp,Qt.p,Tt.R,wt.WGl,N.wp,N.NA],styles:[".btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:transparent}.comment-body[_ngcontent-%COMP%]:hover   .btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgb(var(--color-slate-500)/var(--tw-text-opacity))}.box-content[_ngcontent-%COMP%]{border-radius:5px;background-color:#f5f5f5}"]})}return R})();function Xe(R,Pt){1&R&&a.nrm(0,"azt-loading-ui",11)}const We=function(){return{"text-primary":!0}};let rn=(()=>{class R extends n.H{cancel(){this.commentObj.isShowEditForm=!1,this.changeCommentObjEvent.emit(this.commentObj)}saveNewComment(){if(this.commentContentFormControl.value.trim()){this.initStatusObj();var E={content:this.commentContentFormControl.value};this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdPut(this.postObj.id,this.commentObj.id,E).subscribe({next:F=>{this.successStatusObj(),this.commentObj.isShowEditForm=!1,this.commentObj.content=E.content,this.changeCommentObjEvent.emit(this.commentObj),this.commentContentFormControl.setValue("")},error:F=>{this.errorStatusObj(F.error.message,!0)}}))}}ngOnInit(){this.userObj=this.userService.getUserObj(),this.commentContentFormControl.setValue(this.commentObj.content)}constructor(E,F){super(),this.newsService=E,this.userService=F,this.changeCommentObjEvent=new a.bkB,this.commentContentFormControl=new q.MJ("",{nonNullable:!0,validators:[rt.M.noWhiteSpace]})}static#t=this.\u0275fac=function(F){return new(F||R)(a.rXU(kt.bH),a.rXU(W.R))};static#e=this.\u0275cmp=a.VBU({type:R,selectors:[["app-news-edit-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[a.Vt3],decls:16,vars:18,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","","row","5",2,"resize","none","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"flex","justify-end","p-1","absolute",2,"bottom","5px","right","5px"],[1,"flex","items-center","justify-center"],["azt-track-service","edit-comment-725iQWOtdo","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-comment-FFY36YTq2a",1,"btn","btn-outline-secondary","btn-sm",3,"matTooltip","disabled","click"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(F,O){1&F&&(a.j41(0,"div",0),a.nrm(1,"azt-create-avatar",1),a.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),a.bIt("enterKey",function(){return!(""==O.commentContentFormControl.value||O.statusObj.loading)&&O.saveNewComment()}),a.nI1(5,"mytranslate"),a.EFF(6,"            "),a.k0s()(),a.j41(7,"div",5)(8,"div",6)(9,"button",7),a.bIt("click",function(){return O.cancel()}),a.EFF(10),a.nI1(11,"mytranslate"),a.k0s(),a.j41(12,"button",8),a.bIt("click",function(){return O.saveNewComment()}),a.nI1(13,"mytranslate"),a.DNE(14,Xe,1,0,"azt-loading-ui",9),a.nrm(15,"lucide-icon",10),a.k0s()()()()()),2&F&&(a.R7$(1),a.Y8G("nameCreateAvatar",O.userObj.fullName)("linkAvatar",O.userObj.avatar)("size",30),a.R7$(3),a.FS9("placeholder",a.bMT(5,11,"lang_core_viet_binh_luan")),a.Y8G("enableInMobile",!1)("formControl",O.commentContentFormControl),a.R7$(6),a.SpI(" ",a.bMT(11,13,"lang_cms_common_close_btn")," "),a.R7$(2),a.FS9("matTooltip",a.bMT(13,15,"lang_business_news_add_new_post_button")),a.Y8G("disabled",""==O.commentContentFormControl.value||O.statusObj.loading),a.R7$(2),a.Y8G("ngIf",O.statusObj.loading),a.R7$(1),a.Y8G("ngClass",a.lJ4(17,We)))},dependencies:[t.YU,t.bT,dt.fg,St.rl,T.oV,q.me,q.BC,q.l_,Qt.p,mt.j,ie.Z,tt.R,wt.WGl,N.wp],encapsulation:2})}return R})();function He(R,Pt){if(1&R){const E=a.RV6();a.qex(0),a.j41(1,"app-news-view-comment",6),a.bIt("changeCommentObjEvent",function(O){a.eBV(E);const jt=a.XpG(2);return a.Njj(jt.changeCommentObj(O.actionType,O.commentObj))}),a.k0s(),a.bVm()}if(2&R){const E=a.XpG().$implicit,F=a.XpG();a.R7$(1),a.Y8G("postObj",F.postObj)("commentObj",E)}}function Je(R,Pt){if(1&R){const E=a.RV6();a.j41(0,"div",2)(1,"app-news-edit-comment",6),a.bIt("changeCommentObjEvent",function(O){a.eBV(E);const jt=a.XpG(2);return a.Njj(jt.changeCommentObj(jt.enumNewsCommentActionType.UPDATE,O))}),a.k0s()()}if(2&R){const E=a.XpG().$implicit,F=a.XpG();a.R7$(1),a.Y8G("postObj",F.postObj)("commentObj",E)}}function ln(R,Pt){if(1&R&&(a.j41(0,"div"),a.DNE(1,He,2,2,"ng-container",4),a.DNE(2,Je,2,2,"ng-template",null,5,a.C5r),a.k0s()),2&R){const E=Pt.$implicit,F=a.sdS(3);a.R7$(1),a.Y8G("ngIf",!E.isShowEditForm)("ngIfElse",F)}}function cn(R,Pt){1&R&&a.nrm(0,"azt-loading-ui",10)}function Ae(R,Pt){if(1&R){const E=a.RV6();a.j41(0,"div",7)(1,"button",8),a.bIt("click",function(){a.eBV(E);const O=a.XpG();return a.Njj(!O.sAztNextPaginationService.isLoadingNextPage&&O.getNextPage())}),a.EFF(2),a.nI1(3,"mytranslate"),a.DNE(4,cn,1,0,"azt-loading-ui",9),a.k0s()()}if(2&R){const E=a.XpG();a.R7$(2),a.SpI(" ",a.bMT(3,2,"lang_business_news_load_more_comments")," "),a.R7$(2),a.Y8G("ngIf",E.sAztNextPaginationService.isLoadingNextPage)}}let Ke=(()=>{class R extends n.H{changeCommentObj(E,F){E==Mt.ADD_NEW?(this.commentObjs.unshift(F),this.postObj.totalComment+=1):E==Mt.UPDATE?this.commentObjs=this.commentObjs.map(O=>O.id==F.id?F:O):(this.postObj.totalComment-=1,this.commentObjs=this.commentObjs.filter(O=>O.id!=F.id))}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(E){E?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsGet(this.postObj.id,this.sAztNextPaginationService.curPage,this.sAztNextPaginationService.itemPerPage).subscribe({next:F=>{F.list.forEach(O=>{this.commentObjs.push({...O,isShowEditForm:!1,allowEdit:O.tenantId==this.userObj.id,allowDelete:!this.isStudent||O.tenantId==this.userObj.id})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(F.total),this.stopStatusObj()},error:F=>{this.errorStatusObj(F.error.message,!0)}}))}ngOnInit(){this.sAztNextPaginationService.setTotalItemPerPage(10),this.getData(!1)}constructor(E,F,O){super(),this.newsService=E,this.userService=F,this.sAztNextPaginationService=O,this.commentObjs=[],this.enumNewsCommentActionType=Mt,this.userObj=this.userService.getUserObj()}static#t=this.\u0275fac=function(F){return new(F||R)(a.rXU(kt.bH),a.rXU(W.R),a.rXU(j.h))};static#e=this.\u0275cmp=a.VBU({type:R,selectors:[["app-news-list-comments"]],inputs:{isStudent:"isStudent",postObj:"postObj"},features:[a.Jv_([j.h]),a.Vt3],decls:4,vars:3,consts:[[4,"ngFor","ngForOf"],["class","mb-2 font-medium",4,"ngIf"],[1,"pb-2"],[3,"postObj","changeCommentObjEvent"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"postObj","commentObj","changeCommentObjEvent"],[1,"mb-2","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"]],template:function(F,O){1&F&&(a.DNE(0,ln,4,2,"div",0),a.DNE(1,Ae,5,4,"div",1),a.j41(2,"div",2)(3,"app-news-add-new-comments",3),a.bIt("changeCommentObjEvent",function(Kt){return O.changeCommentObj(O.enumNewsCommentActionType.ADD_NEW,Kt)}),a.k0s()()),2&F&&(a.Y8G("ngForOf",O.commentObjs),a.R7$(1),a.Y8G("ngIf",O.commentObjs.length&&O.sAztNextPaginationService.hasNextPage),a.R7$(2),a.Y8G("postObj",O.postObj))},dependencies:[t.Sq,t.bT,tt.R,X,be,rn,N.wp],encapsulation:2})}return R})();function Le(R,Pt){1&R&&(a.j41(0,"div",2)(1,"span",3),a.nrm(2,"lucide-icon",4),a.k0s(),a.j41(3,"span"),a.EFF(4),a.nI1(5,"mytranslate"),a.k0s()()),2&R&&(a.R7$(4),a.JRh(a.bMT(5,1,"lang_student_comment_feature_disabled")))}const Qe=function(R){return{clickable:R}},it=function(R,Pt){return{"heart-selected":R,"heart-non-selected":Pt}};function Vt(R,Pt){if(1&R){const E=a.RV6();a.j41(0,"div",5)(1,"div",6),a.nI1(2,"isParentViewOnly"),a.j41(3,"button",7),a.bIt("click",function(){a.eBV(E);const O=a.XpG();return a.Njj(O.changeEmotionEvent())}),a.nI1(4,"isParentViewOnly"),a.nrm(5,"lucide-icon",8),a.k0s(),a.j41(6,"span"),a.EFF(7),a.k0s()(),a.j41(8,"div",9),a.nI1(9,"isParentViewOnly"),a.j41(10,"button",10),a.bIt("click",function(){a.eBV(E);const O=a.XpG();return a.Njj(O.showCommentObjs())}),a.nI1(11,"isParentViewOnly"),a.nrm(12,"lucide-icon",11),a.k0s(),a.j41(13,"span"),a.EFF(14),a.k0s()()()}if(2&R){const E=a.XpG();a.R7$(1),a.Y8G("ngClass",a.eq3(15,Qe,!a.bMT(2,7,""))),a.R7$(2),a.Y8G("disabled",a.bMT(4,9,"")),a.R7$(2),a.Y8G("ngClass",a.l_i(17,it,E.postObj.hasLoveEmotion,!E.postObj.hasLoveEmotion)),a.R7$(2),a.JRh(E.postObj.totalEmotion),a.R7$(1),a.Y8G("ngClass",a.eq3(20,Qe,!a.bMT(9,11,""))),a.R7$(2),a.Y8G("disabled",a.bMT(11,13,"")),a.R7$(4),a.JRh(E.postObj.totalComment)}}let U=(()=>{class R extends n.H{changeEmotionEvent(){this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion+=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj),this.waitDestroy(this.newsService.apiNewsNewsIdEmotionsPost(this.postObj.id).subscribe({next:E=>{this.successStatusObj()},error:E=>{this.errorStatusObj(E.error.message,!0),this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion-=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj)}}))}showCommentObjs(){this.postObj.isShowCommentBox=!0,this.changePostObjEvent.emit(this.postObj)}constructor(E){super(),this.newsService=E,this.changePostObjEvent=new a.bkB}static#t=this.\u0275fac=function(F){return new(F||R)(a.rXU(kt.bH))};static#e=this.\u0275cmp=a.VBU({type:R,selectors:[["app-news-emotions"]],inputs:{postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[a.Vt3],decls:2,vars:2,consts:[["class","flex items-center justify-center pb-3 text-slate-500",4,"ngIf"],["class","flex pb-3","style","align-items: center",4,"ngIf"],[1,"flex","items-center","justify-center","pb-3","text-slate-500"],[1,"inline-block","mr-2"],["name","message-circle-off","size","18"],[1,"flex","pb-3",2,"align-items","center"],[1,"flex","mr-5",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-02_zwrttZ",1,"w-5","h-5","mr-2","zoom-in","heart-label",3,"disabled","click"],["name","heart","size","20",3,"ngClass"],["azt-track-service","emotions-Yt4v8qy-f6",1,"flex",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-lsF85jGU0",1,"mr-2","zoom-in",3,"disabled","click"],["name","message-square","size","20"]],template:function(F,O){1&F&&(a.DNE(0,Le,6,3,"div",0),a.DNE(1,Vt,15,22,"div",1)),2&F&&(a.Y8G("ngIf",O.postObj.isLockComment),a.R7$(1),a.Y8G("ngIf",!O.postObj.isLockComment))},dependencies:[t.YU,t.bT,wt.WGl,N.wp,N.hx],styles:['@charset "UTF-8";.heart-label[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.5em;align-self:center;transition:color .2s ease-in-out;color:#aab8c2}.heart-non-selected[_ngcontent-%COMP%]{background:transparent}.heart-non-selected[_ngcontent-%COMP%]:hover{stroke:#7f6167!important}.heart-selected[_ngcontent-%COMP%]{fill:#e2264d!important;stroke:#e2264d!important;will-change:font-size;animation:heart 1s cubic-bezier(.17,.89,.32,1.49)}']})}return R})();var ot=g(40111);function ct(R,Pt){if(1&R){const E=a.RV6();a.j41(0,"a",3),a.bIt("click",function(){const jt=a.eBV(E).$implicit,Kt=a.XpG();return a.Njj(Kt.onShowFile(jt))}),a.nrm(1,"img",4),a.k0s()}if(2&R){const E=Pt.$implicit;a.R7$(1),a.Y8G("src",E.imageLink,a.B4B)}}let Yt=(()=>{class R extends n.H{onShowFile(E){this.sAztDialogService.open(Q.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:"image_post"+E.id,mimes:"image/jpeg",url:E.imageLink,index:-1}},restoreFocus:!1})}constructor(E,F){super(),this.sAztDialogService=E,this.sAztFileTypeService=F,this.images=[]}static#t=this.\u0275fac=function(F){return new(F||R)(a.rXU(ft.i),a.rXU(ot.k))};static#e=this.\u0275cmp=a.VBU({type:R,selectors:[["app-list-images-post"]],inputs:{images:"images"},features:[a.Vt3],decls:3,vars:1,consts:[[1,"outerContainer"],[1,"containerw3","containerw3-margin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(F,O){1&F&&(a.j41(0,"div",0)(1,"div",1),a.DNE(2,ct,2,1,"a",2),a.k0s()()),2&F&&(a.R7$(2),a.Y8G("ngForOf",O.images))},dependencies:[t.Sq],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:arial}.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:300px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:300px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}@media (max-width: 767px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:150px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:150px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:150px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}@media (max-width: 400px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:100px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:100px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}']})}return R})();function me(R,Pt){if(1&R&&a.eu8(0,14),2&R){a.XpG();const E=a.sdS(17);a.Y8G("ngTemplateOutlet",E)}}function _e(R,Pt){if(1&R&&(a.j41(0,"div"),a.nrm(1,"hr",10)(2,"app-news-list-comments",15),a.k0s()),2&R){const E=a.XpG();a.R7$(2),a.Y8G("isStudent",E.isStudent)("postObj",E.postObj)}}const De=function(){return{"text-slate-500":!0}},he=function(){return{"mr-2":!0}};function te(R,Pt){if(1&R){const E=a.RV6();a.j41(0,"div",16)(1,"button",17),a.nrm(2,"lucide-icon",18),a.k0s(),a.j41(3,"mat-menu",19,20)(5,"div",21)(6,"ul",22)(7,"li")(8,"a",23),a.bIt("click",function(){a.eBV(E);const O=a.XpG();return a.Njj(O.editPostEvent())}),a.nrm(9,"lucide-icon",24),a.EFF(10),a.nI1(11,"mytranslate"),a.k0s()(),a.j41(12,"li")(13,"a",25),a.bIt("click",function(){a.eBV(E);const O=a.XpG();return a.Njj(O.deletePostEvent())}),a.nrm(14,"lucide-icon",26),a.EFF(15),a.nI1(16,"mytranslate"),a.k0s()(),a.j41(17,"li")(18,"label",27),a.bIt("click",function(O){return O.stopPropagation()}),a.j41(19,"div",28),a.nrm(20,"lucide-icon",29),a.EFF(21),a.nI1(22,"mytranslate"),a.k0s(),a.j41(23,"div",30)(24,"input",31),a.bIt("change",function(){a.eBV(E);const O=a.XpG();return a.Njj(O.changeLockCommentStatus())}),a.k0s()()()()()()()()}if(2&R){const E=a.sdS(4),F=a.XpG();a.R7$(1),a.Y8G("matMenuTriggerFor",E),a.R7$(1),a.Y8G("ngClass",a.lJ4(15,De)),a.R7$(7),a.Y8G("ngClass",a.lJ4(16,he)),a.R7$(1),a.SpI(" ",a.bMT(11,9,"lang_auto_sua")," "),a.R7$(4),a.Y8G("ngClass",a.lJ4(17,he)),a.R7$(1),a.SpI(" ",a.bMT(16,11,"lang_auto_xoa")," "),a.R7$(5),a.Y8G("ngClass",a.lJ4(18,he)),a.R7$(1),a.SpI(" ",a.bMT(22,13,"lang_student_comment_lock")," "),a.R7$(3),a.Y8G("formControl",F.isLockComment)}}let de=(()=>{class R extends n.H{editPostEvent(){this.postObj.isShowEditForm=!0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}deletePostEvent(){this.sAztDialogService.open(Se,{width:"700px",data:this.postObj,restoreFocus:!1}).afterClosed().subscribe(F=>{F&&this.changePostObjEvent.emit({actionType:e.DELETE,postObj:this.postObj})})}changeLockCommentStatus(){const E=this.isLockComment.value;this.waitDestroy((E?this.newsService.apiNewsIdLockCommentsPut:this.newsService.apiNewsIdUnlockCommentsPut).call(this.newsService,this.postObj.id).subscribe({next:()=>{const O=E?"lang_student_comment_lock":"lang_student_unlock_comments";this.postObj.isLockComment=E?1:0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj}),this.showSuccessSnack(O)},error:O=>{this.errorStatusObj(O.error.message,!0)}}))}changeEmotionEventEvent(E){this.postObj=E,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}ngOnInit(){super.ngOnInit(),this.isLockComment.setValue(!!this.postObj.isLockComment)}constructor(E,F){super(),this.sAztDialogService=E,this.newsService=F,this.changePostObjEvent=new a.bkB,this.isLockComment=new q.MJ(!1)}static#t=this.\u0275fac=function(F){return new(F||R)(a.rXU(ft.i),a.rXU(kt.bH))};static#e=this.\u0275cmp=a.VBU({type:R,selectors:[["app-news-view-post"]],inputs:{postObj:"postObj",isStudent:"isStudent"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[a.Vt3],decls:18,vars:13,consts:[[1,"flex","items-center","mb-3"],[1,"w-9","h-9","image-fit"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3"],[1,"font-medium","whitespace-nowrap"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"pb-3"],[3,"content","maxLine"],[3,"images"],[1,"mb-3"],[1,"mb-3",3,"postObj","changePostObjEvent"],[4,"ngIf"],["newsEditOrDeleteNews",""],[3,"ngTemplateOutlet"],[1,"mb-3",3,"isStudent","postObj"],[1,"ml-auto"],["data-tw-toggle","dropdown",1,"absolute","clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"top","10px","right","10px","border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","news-board-5U9HMbLBxY",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","news-board-35uylGIW_W",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"],["azt-track-service","view-post-HeRBfG3bI","for","commentLock",1,"dropdown-item","cursor-pointer",3,"click"],[1,"flex","items-center"],["name","lock","size","18",3,"ngClass"],[1,"form-check","form-switch","ml-auto"],["id","commentLock","type","checkbox",1,"form-check-input","ml-2",3,"formControl","change"]],template:function(F,O){if(1&F&&(a.j41(0,"div",0)(1,"div",1),a.nrm(2,"azt-create-avatar",2),a.k0s(),a.j41(3,"div",3)(4,"a",4),a.EFF(5),a.k0s(),a.j41(6,"div",5),a.EFF(7),a.nI1(8,"relativeTime"),a.k0s()()(),a.DNE(9,me,1,1,"ng-container",6),a.j41(10,"div",7),a.nrm(11,"azt-see-more-multiple-lines",8),a.k0s(),a.nrm(12,"app-list-images-post",9)(13,"hr",10),a.j41(14,"app-news-emotions",11),a.bIt("changePostObjEvent",function(Kt){return O.changeEmotionEventEvent(Kt)}),a.k0s(),a.DNE(15,_e,3,2,"div",12),a.DNE(16,te,25,19,"ng-template",null,13,a.C5r)),2&F){let jt;a.R7$(2),a.Y8G("nameCreateAvatar",null==O.postObj.user?null:O.postObj.user.fullName)("linkAvatar",null==O.postObj.user?null:O.postObj.user.avatar)("size",36),a.R7$(3),a.SpI("",null==O.postObj.user?null:O.postObj.user.fullName,"\xa0"),a.R7$(2),a.JRh(a.bMT(8,11,O.postObj.createdAt)),a.R7$(2),a.Y8G("ngIf",!O.isStudent),a.R7$(2),a.Y8G("content",O.postObj.content)("maxLine",0==(null!==(jt=null==O.postObj.images?null:O.postObj.images.length)&&void 0!==jt?jt:0)?O.postObj.content.length:10),a.R7$(1),a.Y8G("images",O.postObj.images),a.R7$(2),a.Y8G("postObj",O.postObj),a.R7$(1),a.Y8G("ngIf",O.postObj.isShowCommentBox)}},dependencies:[t.YU,t.bT,t.T3,Dt.kk,Dt.Cp,q.Zm,q.BC,q.l_,Qt.p,Tt.R,wt.WGl,Ke,U,Yt,N.wp,N.NA],encapsulation:2})}return R})();function mn(R,Pt){if(1&R){const E=a.RV6();a.j41(0,"app-new-list-images",13),a.bIt("filesChange",function(O){a.eBV(E);const jt=a.XpG();return a.Njj(jt.files=O)}),a.k0s()}if(2&R){const E=a.XpG();a.Y8G("files",E.files)}}function z(R,Pt){1&R&&a.nrm(0,"azt-loading-ui",14)}const vt=function(R){return[R]},S=function(){return{"zoom-in":!0}};let J=(()=>{class R extends n.H{cancel(){this.postObj.isShowEditForm=!1,this.changePostObjEvent.emit(this.postObj)}saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();let E={content:this.contentFormControl.value??"",classroomId:this.postObj.id,imageLinks:this.files.map(F=>F.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsIdPut(this.postObj.id,E).subscribe({next:F=>{this.successStatusObj("lang_cms_update_success",!0);let O=[];this.files.forEach(jt=>{O.push({id:0,newsId:this.postObj?.id??0,imageLink:jt.url??"",createdAt:void 0})}),this.postObj.isShowEditForm=!1,this.postObj.content=E.content,this.postObj.images=O,this.changePostObjEvent.emit(this.postObj),this.contentFormControl.setValue(""),this.files=[]},error:F=>{this.errorStatusObj(F.error.message,!0)}}))}}handleUploadComplete(E){this.files.push(...E)}ngOnInit(){this.userObj=this.userService.getUserObj(),this.contentFormControl.setValue(this.postObj.content),(this.postObj.images??[]).forEach(E=>{this.files.push({name:"",mimes:"image/jpeg",url:E.imageLink})})}constructor(E,F){super(),this.newsService=E,this.userService=F,this.changePostObjEvent=new a.bkB,this.contentFormControl=new q.MJ("",{nonNullable:!0,validators:[rt.M.noWhiteSpace]}),this.files=[],this.allUploadToCdnMenuTypes=pt.b8,this.allUploadFileTypes=pt.PO}static#t=this.\u0275fac=function(F){return new(F||R)(a.rXU(kt.bH),a.rXU(W.R))};static#e=this.\u0275cmp=a.VBU({type:R,selectors:[["app-news-edit-post"]],inputs:{classroomId:"classroomId",postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[a.Vt3],decls:21,vars:25,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"relative","w-full","ml-3",2,"border-radius","5px"],["matInput","","autoResize","","row","5",1,"border-none",2,"resize","none","height","85px",3,"formControl","placeholder"],[3,"files","filesChange",4,"ngIf"],[1,"text-right","pt-1","pb-1"],[1,"flex","items-center","justify-end","sm:w-auto"],[3,"uploadToCdnMenu","fileType","uploadComplete"],[1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","edit-post-3W8T83tTj_","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-post-NaJeb-mmLZ","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","mr-1",4,"ngIf"],[3,"files","filesChange"],[1,"mr-1"]],template:function(F,O){1&F&&(a.j41(0,"div")(1,"div",0),a.nrm(2,"azt-create-avatar",1),a.j41(3,"div",2)(4,"textarea",3),a.nI1(5,"mytranslate"),a.EFF(6,"            "),a.k0s()()(),a.DNE(7,mn,1,1,"app-new-list-images",4),a.j41(8,"div",5)(9,"div",6)(10,"azt-upload-multiple-box",7),a.bIt("uploadComplete",function(Kt){return O.handleUploadComplete(Kt)}),a.j41(11,"span",8),a.nrm(12,"lucide-icon",9),a.nI1(13,"mytranslate"),a.k0s()(),a.j41(14,"button",10),a.bIt("click",function(){return O.cancel()}),a.EFF(15),a.nI1(16,"mytranslate"),a.k0s(),a.j41(17,"button",11),a.bIt("click",function(){return O.saveNewPost()}),a.DNE(18,z,1,0,"azt-loading-ui",12),a.EFF(19),a.nI1(20,"mytranslate"),a.k0s()()()()),2&F&&(a.R7$(2),a.Y8G("nameCreateAvatar",O.userObj.fullName)("linkAvatar",O.userObj.avatar)("size",36),a.R7$(2),a.FS9("placeholder",a.bMT(5,14,"lang_business_news_post_content")),a.Y8G("formControl",O.contentFormControl),a.R7$(3),a.Y8G("ngIf",O.files.length),a.R7$(3),a.Y8G("uploadToCdnMenu",O.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",a.eq3(22,vt,O.allUploadFileTypes.IMAGE)),a.R7$(2),a.FS9("matTooltip",a.bMT(13,16,"lang_core_tai_anh")),a.Y8G("ngClass",a.lJ4(24,S)),a.R7$(3),a.SpI(" ",a.bMT(16,18,"lang_cms_common_close_btn")," "),a.R7$(2),a.Y8G("disabled",""==O.contentFormControl.value||O.statusObj.loading),a.R7$(1),a.Y8G("ngIf",O.statusObj.loading),a.R7$(1),a.SpI(" ",a.bMT(20,20,"lang_business_news_update_post_button")," "))},dependencies:[t.YU,t.bT,dt.fg,T.oV,q.me,q.BC,q.l_,Qt.p,mt.j,tt.R,Lt.V,wt.WGl,gt,N.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0}"]})}return R})();function Z(R,Pt){if(1&R){const E=a.RV6();a.j41(0,"div",10)(1,"app-news-add-new-post",11),a.bIt("changePostObjEvent",function(O){a.eBV(E);const jt=a.XpG();return a.Njj(jt.changePostObj(jt.enumNewsPostActionType.ADD_NEW,O))}),a.k0s()()}if(2&R){const E=a.XpG();a.R7$(1),a.Y8G("classroomId",E.classroomId)("isSchool",E.isSchoolControl.getRawValue())}}function bt(R,Pt){if(1&R&&(a.j41(0,"div",12),a.nrm(1,"azt-loading-effect",13),a.k0s()),2&R){const E=a.XpG();a.R7$(1),a.Y8G("currentStatusObj",E.statusObj)}}function oe(R,Pt){if(1&R){const E=a.RV6();a.qex(0),a.j41(1,"app-news-view-post",18),a.bIt("changePostObjEvent",function(O){a.eBV(E);const jt=a.XpG(3);return a.Njj(jt.changePostObj(O.actionType,O.postObj))}),a.k0s(),a.bVm()}if(2&R){const E=a.XpG().$implicit,F=a.XpG(2);a.R7$(1),a.Y8G("isStudent",F.isStudent)("postObj",E)}}function ve(R,Pt){if(1&R){const E=a.RV6();a.j41(0,"app-news-edit-post",19),a.bIt("changePostObjEvent",function(O){a.eBV(E);const jt=a.XpG(3);return a.Njj(jt.changePostObj(jt.enumNewsPostActionType.UPDATE,O))}),a.k0s()}if(2&R){const E=a.XpG().$implicit,F=a.XpG(2);a.Y8G("postObj",E)("classroomId",F.classroomId)}}function Ut(R,Pt){if(1&R&&(a.j41(0,"div",15),a.DNE(1,oe,2,2,"ng-container",16),a.DNE(2,ve,1,2,"ng-template",null,17,a.C5r),a.k0s()),2&R){const E=Pt.$implicit,F=a.sdS(3);a.R7$(1),a.Y8G("ngIf",!E.isShowEditForm)("ngIfElse",F)}}function je(R,Pt){1&R&&(a.j41(0,"div",10)(1,"div",20)(2,"div",21),a.nrm(3,"azt-svg-icon",22),a.j41(4,"p",23),a.EFF(5),a.nI1(6,"mytranslate"),a.k0s()()()()),2&R&&(a.R7$(3),a.Y8G("size",87),a.R7$(2),a.JRh(a.bMT(6,2,"lang_student_news_there_is_no_news")+"!"))}function ee(R,Pt){1&R&&a.nrm(0,"azt-loading-ui")}function Ge(R,Pt){if(1&R){const E=a.RV6();a.j41(0,"button",26),a.bIt("click",function(){a.eBV(E);const O=a.XpG(3);return a.Njj(O.getNextPage())}),a.nI1(1,"mytranslate"),a.nrm(2,"lucide-icon",27),a.k0s()}2&R&&a.FS9("matTooltip",a.bMT(1,1,"lang_auto_hien_ban_ghi_cu_hon"))}function bn(R,Pt){if(1&R&&(a.j41(0,"div",10)(1,"div",24),a.DNE(2,ee,1,0,"azt-loading-ui",16),a.DNE(3,Ge,3,3,"ng-template",null,25,a.C5r),a.k0s()()),2&R){const E=a.sdS(4),F=a.XpG(2);a.R7$(2),a.Y8G("ngIf",F.sAztNextPaginationService.isLoadingNextPage)("ngIfElse",E)}}function _n(R,Pt){if(1&R&&(a.DNE(0,Ut,4,2,"div",14),a.DNE(1,je,7,4,"div",7),a.DNE(2,bn,5,2,"div",7)),2&R){const E=a.XpG();a.Y8G("ngForOf",E.postObjs),a.R7$(1),a.Y8G("ngIf",E.postObjs.length<=0),a.R7$(1),a.Y8G("ngIf",E.postObjs.length&&E.sAztNextPaginationService.hasNextPage)}}let Ye=(()=>{class R extends n.H{selectedViewNewsSchool(E){let F=(this.isStudent?"/student/classroom-details/":"/admin/student/classroom-details/")+this.classroomId+"/2";E?(this.isSchoolControl.setValue(1),this.commonService.myNavigationWithQueryString(F,"?type=1")):(this.isSchoolControl.setValue(0),this.commonService.myNavigationWithQueryString(F,"?type=0")),this.postObjs=[],this.getData(!1)}changePostObj(E,F){switch(E){case e.ADD_NEW:this.postObjs.unshift(F);break;case e.UPDATE:this.postObjs=this.postObjs.map(O=>O.id==F.id?F:O);break;case e.DELETE:this.postObjs=this.postObjs.filter(O=>O.id!=F.id)}}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(E){var F={size:this.sAztNextPaginationService.itemPerPage,page:this.sAztNextPaginationService.curPage,classroomId:this.classroomId,student:this.isStudent,isSchool:this.isSchoolControl.getRawValue()};E?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsListPost(F).subscribe({next:O=>{let jt={page:1,size:-1,newsIds:O.list.map(Kt=>Kt.id).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsEmotionsListPost(jt).subscribe({next:Kt=>{let yn=this.commonService.arrayToUniqueDictionary(Kt.list??[],Ze=>Ze.newsId.toString());O.list.forEach(Ze=>{this.postObjs.push({...Ze,hasLoveEmotion:yn.hasOwnProperty(Ze.id),isShowEditForm:!1,isShowCommentBox:!1})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(O.total),this.stopStatusObj()},error:Kt=>{this.errorStatusObj(Kt.error.message,!0)}}))},error:O=>{this.errorStatusObj(O.error.message,!0)}}))}getDataFirstTime(){this.postObjs=[],this.sAztNextPaginationService.resetToFirstPage(),this.getData(!1)}ngOnChanges(){"1"==this.getMyQueryParam("type")&&this.isSchoolControl.setValue(1),this.getDataFirstTime()}ngOnInit(){super.ngOnInit()}constructor(E,F){super(),this.newsService=E,this.sAztNextPaginationService=F,this.isSchoolControl=new q.MJ(0,{nonNullable:!0}),this.postObjs=[],this.enumNewsPostActionType=e}static#t=this.\u0275fac=function(F){return new(F||R)(a.rXU(kt.bH),a.rXU(j.h))};static#e=this.\u0275cmp=a.VBU({type:R,selectors:[["app-news-board"]],inputs:{isStudent:"isStudent",classroomId:"classroomId"},features:[a.Jv_([j.h]),a.Vt3,a.OA$],decls:19,vars:16,consts:[[1,"grid","grid-cols-12"],[1,"col-span-12","font-medium","flex","items-center","mb-3"],[1,"flex","ml-5","items-center"],["azt-track-service","posts-x27NMu5qsN","id","classroom","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"value","formControl","click"],["for","classroom",1,"pl-2","form-check-label"],["azt-track-service","posts-KOM2BXgAQ","id","school","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"value","formControl","click"],["for","school",1,"pl-2","form-check-label"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start mb-3",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","mb-3"],[3,"classroomId","isSchool","changePostObjEvent"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start box p-3 mb-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","box","p-3","mb-3"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"isStudent","postObj","changePostObjEvent"],[3,"postObj","classroomId","changePostObjEvent"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","file-empty",3,"size"],[1,"font-medium","mt-5"],[1,"flex","justify-center"],["doneLoadNextPage",""],["azt-track-service","trash-homework-tab-C69nk6waYbG",1,"btn","btn-transparent",3,"matTooltip","click"],["name","chevron-down","size","20"]],template:function(F,O){if(1&F&&(a.j41(0,"div",0)(1,"div",1)(2,"p"),a.EFF(3),a.nI1(4,"mytranslate"),a.k0s(),a.j41(5,"div",2)(6,"input",3),a.bIt("click",function(){return O.selectedViewNewsSchool(!1)}),a.k0s(),a.j41(7,"label",4),a.EFF(8),a.nI1(9,"mytranslate"),a.k0s()(),a.j41(10,"div",2)(11,"input",5),a.bIt("click",function(){return O.selectedViewNewsSchool(!0)}),a.k0s(),a.j41(12,"label",6),a.EFF(13),a.nI1(14,"mytranslate"),a.k0s()()(),a.DNE(15,Z,2,2,"div",7),a.DNE(16,bt,2,1,"div",8),a.DNE(17,_n,3,3,"ng-template",null,9,a.C5r),a.k0s()),2&F){const jt=a.sdS(18);a.R7$(3),a.JRh(a.bMT(4,10,"lang_azt_hien_ban_tin_theo")),a.R7$(3),a.Y8G("value",0)("formControl",O.isSchoolControl),a.R7$(2),a.JRh(a.bMT(9,12,"lang_auto_lop_hoc")),a.R7$(3),a.Y8G("value",1)("formControl",O.isSchoolControl),a.R7$(2),a.JRh(a.bMT(14,14,"lang_azt_truong_hoc")),a.R7$(2),a.Y8G("ngIf",!O.isStudent),a.R7$(1),a.Y8G("ngIf",O.statusObj.loading)("ngIfElse",jt)}},dependencies:[t.Sq,t.bT,T.oV,q.me,q.Fm,q.BC,q.l_,o.K,tt.R,It.m,wt.WGl,Jt,de,J,N.wp],encapsulation:2})}return R})()},44658:(Te,Bt,g)=>{g.d(Bt,{e:()=>Lt});var j=g(10936),n=g(33887),e=g(38009),q=g(80037),a=g(26860),kt=g(19548),t=g(3780),T=g(54460),o=g(89163);function tt(Q,ft){1&Q&&(a.j41(0,"div",11)(1,"span",12),a.nrm(2,"azt-loading-ui"),a.k0s()())}function It(Q,ft){if(1&Q&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&Q){const L=a.XpG(2);a.R7$(1),a.JRh(" ("+L.dataUpgradeClass.length+" "+a.bMT(2,1,"lang_testbank_test_list_classes")+")")}}function wt(Q,ft){1&Q&&(a.j41(0,"div",25),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&Q&&(a.R7$(1),a.SpI("",a.bMT(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_class_click_choose"),"."))}function rt(Q,ft){if(1&Q){const L=a.RV6();a.j41(0,"input",36),a.bIt("keyup",function(){a.eBV(L);const gt=a.XpG().index,N=a.XpG(2);return a.Njj(N.validateInput(gt))}),a.nI1(1,"mytranslate"),a.k0s()}if(2&Q){const L=a.XpG(),gt=L.$implicit;a.Mz_("id","input-event-",L.index,""),a.FS9("value",gt.nameClass),a.FS9("placeholder",a.bMT(1,3,"lang_auto_nhap_ten_lop"))}}function pt(Q,ft){if(1&Q){const L=a.RV6();a.j41(0,"textarea",37),a.bIt("keyup",function(){a.eBV(L);const gt=a.XpG().index,N=a.XpG(2);return a.Njj(N.validateInput(gt))}),a.nI1(1,"mytranslate"),a.k0s()}if(2&Q){const L=a.XpG(),gt=L.$implicit;a.Mz_("id","input-event-",L.index,""),a.FS9("value",gt.nameClass),a.FS9("placeholder",a.bMT(1,3,"lang_auto_nhap_ten_lop"))}}function W(Q,ft){if(1&Q){const L=a.RV6();a.j41(0,"div",26)(1,"div",27)(2,"div",28),a.DNE(3,rt,2,5,"input",29),a.DNE(4,pt,2,5,"textarea",30),a.k0s(),a.j41(5,"div",31)(6,"button",32),a.bIt("click",function(){const N=a.eBV(L).$implicit,B=a.XpG(2);return a.Njj(B.clearInput(N.id))}),a.nrm(7,"lucide-icon",33),a.k0s()()(),a.j41(8,"div",34,35),a.EFF(10),a.nI1(11,"mytranslate"),a.k0s()()}if(2&Q){const L=ft.index,K=a.XpG(2);a.R7$(3),a.Y8G("ngIf",0==K.isMobile),a.R7$(1),a.Y8G("ngIf",1==K.isMobile),a.R7$(4),a.Mz_("id","logerror",L,""),a.R7$(2),a.SpI(" ",a.bMT(11,4,"lang_student_classroom_list_utils_create_class_new_course_choose_class_dont_class_null"),". ")}}function dt(Q,ft){if(1&Q){const L=a.RV6();a.j41(0,"form",13)(1,"div",14)(2,"div",15)(3,"azt-list-classroom-checkbox",16),a.bIt("changeCheckboxEvent",function(){a.eBV(L);const gt=a.XpG();return a.Njj(gt.changeCheckboxEvent())})("createdNewClassroom",function(){a.eBV(L);const gt=a.XpG();return a.Njj(gt.isCreatedNewClassroom=!0)}),a.k0s()(),a.j41(4,"div",17)(5,"div",18),a.EFF(6),a.nI1(7,"mytranslate"),a.DNE(8,It,3,3,"span",19),a.k0s(),a.j41(9,"div",20)(10,"ng-scrollbar",21),a.DNE(11,wt,3,3,"div",22),a.j41(12,"div",23),a.DNE(13,W,12,6,"div",24),a.k0s()()()()()()}if(2&Q){const L=a.XpG();a.Y8G("formGroup",L.form),a.R7$(3),a.Y8G("form",L.form)("classroomGroupData",L.classroomWithGroup)("permissionName",L.permissionTypes.classroom)("defaultCssClass","classroom-box-in-dialog"),a.R7$(3),a.SpI(" ",a.bMT(7,11,"lang_student_classroom_list_utils_create_class_new_course_choose_class_respective_class")," "),a.R7$(2),a.Y8G("ngIf",L.dataUpgradeClass.length),a.R7$(2),a.Y8G("visibility","hover")("autoHeightDisabled",!0),a.R7$(1),a.Y8G("ngIf",0==L.dataUpgradeClass.length),a.R7$(2),a.Y8G("ngForOf",L.dataUpgradeClass)}}function mt(Q,ft){1&Q&&a.nrm(0,"azt-loading-ui",38)}let Lt=(()=>{class Q extends n._{closeDialog(){this.dialogRef.close(this.isCreatedNewClassroom??!1)}validateInput(L){let K=document.getElementById("input-event-"+L),gt=K?K.value:"";if(""==gt){let N=document.getElementById("logerror"+L);N&&(N.style.display="block")}if(""!=gt){let N=document.getElementById("logerror"+L);N&&(N.style.display="none")}}handleUpgrade(){if(0!=this.dataUpgradeClass.length){let L=!0;this.sendDataUpgradeClass=[];for(let K=0;K<this.dataUpgradeClass.length;K++){let gt=document.getElementById("input-event-"+K),N=gt?gt.value:"";""==N&&(L=!1),this.validateInput(K),this.sendDataUpgradeClass.push({oldId:this.dataUpgradeClass[K].id,newName:N,year:this.increaseYear(this.dataUpgradeClass[K].year)})}1==L&&this.upgradeClassroomGroup()}else this.viewErrorSelected=!1}increaseYear(L){if(null!=L||null!=L){let K=L.split(" ")[0],gt=parseInt(K,10)+1;return gt+" - "+(gt+1)}}changeCheckboxEvent(){const L=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray),K=L.concat(this.dataUpgradeClass.map(N=>N.id??0));let gt=K.filter(N=>K.indexOf(N)===K.lastIndexOf(N));L.length>this.dataUpgradeClass.length?this.dataUpgradeClass=this.dataUpgradeClass.concat(this.classroomObjs.filter(N=>gt.includes(N.id??0)).map(N=>{let Et,B=N.name,Gt=N.year,Ct=B?.match(/\d+/g);if(null==Ct)Et=B;else{let Jt=parseInt(Ct[0].toString(),10)+1;Et=B?.replace(Ct[0],Jt.toString())}return{id:N.id,nameClass:Et,year:Gt}})):gt.forEach(N=>{this.dataUpgradeClass.splice(this.dataUpgradeClass.findIndex(B=>B.id===N),1)})}clearInput(L){setTimeout(()=>{document.getElementById("azt-checkbox-item-"+L)?.click()},0)}upgradeClassroomGroup(){this.initStatusObj();for(var L=[],K=0;K<this.sendDataUpgradeClass.length;K++)L.push({oldId:this.sendDataUpgradeClass[K].oldId??0,newName:this.sendDataUpgradeClass[K].newName??"",year:this.sendDataUpgradeClass[K].year??""});this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpgradeClassroomPost(L).subscribe(gt=>{1==gt.success?(gt.data?.isDuplicatedClassroomName?this.errorStatusObj(gt.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(this.isCreatedNewClassroom),this.errorStatusObj("lang_auto_tao_lop_cho_khoa_moi_khong_thanh_cong",!0))}))}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(L=>{L.success?(this.classroomWithGroup=L.data?.activeClassroomData??[],this.classroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroup.map(K=>K.classroomObjs)),this.successStatusObj()):this.errorStatusObj(L.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getClassroomObjs(),super.ngOnInit()}constructor(L,K,gt,N){super(void 0,N),this.classroomGroupService=L,this.sAztClassroomCheckboxService=K,this.location=gt,this.dialogRef=N,this.classroomObjs=[],this.dataUpgradeClass=[],this.sendDataUpgradeClass=[],this.selectedAll=!1,this.viewErrorSelected=!0,this.isCreatedNewClassroom=!1,this.isMobile=this.commonService.isMobileOrTable(),this.permissionTypes=e.t,this.classroomWithGroup=[],this.form=new j.gE({classroomFormArray:new j.Yp([]),whoAllow:new j.MJ(0,{nonNullable:!0})},{validators:[q.j.classroomInGroupCheckBoxValidatorWithoutWhoAllow]})}static#t=this.\u0275fac=function(K){return new(K||Q)(a.rXU(kt.kG),a.rXU(t.Q),a.rXU(T.aZ),a.rXU(o.CP,8))};static#e=this.\u0275cmp=a.VBU({type:Q,selectors:[["app-create-class-new-course"]],features:[a.Vt3],decls:20,vars:16,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"font-medium","text-base"],[1,"leading-relaxed","text-slate-500","text-xs"],["class","flex items-center h-full",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","flex","justify-end"],["azt-track-service","create-classroom-new-course-dialog-k_ZG3G-AAS",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","create-classroom-new-course-dialog-OvOUaKHkJOv",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"flex","items-center","h-full"],[1,"w-6","h-6","inline-block","mx-auto"],[3,"formGroup"],[1,"p-3","pt-0"],[1,"azt-list-classroom"],[3,"form","classroomGroupData","permissionName","defaultCssClass","changeCheckboxEvent","createdNewClassroom"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3","font-medium"],[4,"ngIf"],[2,"height","150px"],["track","vertical","pointerEventsMethod","scrollbar",1,"w-full",3,"visibility","autoHeightDisabled"],["style","height: 130px","class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-2","p-2"],["class","col-span-12 md:col-span-6 2xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center",2,"height","130px"],[1,"col-span-12","md:col-span-6","2xl:col-span-4"],[1,"flex","items-center","p-1","rounded"],[1,"col-span-10",2,"width","100%"],["class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],["class","text-area-form","rows","2","wrap","soft","class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],[1,"col-span-2","m-0","p-1","text-center"],["azt-track-service","create-classroom-new-course-dialog-NjCJ7r_T8U",1,"btn","btn-sm","btn-secondary","text-danger",3,"click"],["name","x","size","20"],[1,"alert","alert-danger","mt-1",2,"margin","auto","padding","5px 10px","display","none",3,"id"],["ab",""],["type","text",1,"form-control",3,"id","value","placeholder","keyup"],["rows","2","wrap","soft","type","text",1,"form-control",3,"id","value","placeholder","keyup"],[1,"mr-1"]],template:function(K,gt){if(1&K&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),a.EFF(4),a.nI1(5,"mytranslate"),a.k0s(),a.j41(6,"div",4),a.EFF(7),a.nI1(8,"mytranslate"),a.k0s()(),a.DNE(9,tt,3,0,"div",5),a.DNE(10,dt,14,13,"ng-template",null,6,a.C5r),a.k0s(),a.j41(12,"div",7)(13,"button",8),a.bIt("click",function(){return gt.closeDialog()}),a.EFF(14),a.nI1(15,"mytranslate"),a.k0s(),a.j41(16,"button",9),a.bIt("click",function(){return gt.handleUpgrade()}),a.DNE(17,mt,1,0,"azt-loading-ui",10),a.EFF(18),a.nI1(19,"mytranslate"),a.k0s()()()),2&K){const N=a.sdS(11);a.R7$(4),a.SpI(" ",a.bMT(5,8,"lang_student_classroom_list_create_class_new_cousre")," "),a.R7$(3),a.JRh(a.bMT(8,10,"lang_student_classroom_list_utils_create_class_new_course_conten_review")),a.R7$(2),a.Y8G("ngIf",gt.statusObj.loading)("ngIfElse",N),a.R7$(5),a.SpI(" ",a.bMT(15,12,"lang_button_cancel")," "),a.R7$(2),a.Y8G("disabled",gt.form.invalid),a.R7$(1),a.Y8G("ngIf",gt.statusObj.loading),a.R7$(1),a.SpI(" ",a.bMT(19,14,"lang_button_save")," ")}},encapsulation:2})}return Q})()},29894:(Te,Bt,g)=>{g.d(Bt,{I:()=>Ir});var j=g(65162),n=g(1133),e=g(50866),q=g(76627),a=g(59640),kt=g(43234),t=g(26860),T=g(46134),o=g(54460),tt=g(73437);const It=["framePreviewLink"];function wt(l,x){if(1&l&&(t.nrm(0,"iframe",1),t.nI1(1,"safe")),2&l){const i=t.XpG();t.Y8G("src",t.bMT(1,1,i.url),t.f$h)}}let rt=(()=>{class l extends a.H{ngOnInit(){super.ngOnInit()}constructor(){super()}static#t=this.\u0275fac=function(u){return new(u||l)};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["azt-preview-link-by-iframe"]],viewQuery:function(u,_){if(1&u&&t.GBs(It,5),2&u){let v;t.mGM(v=t.lsd())&&(_.framePreviewLink=v.first)}},inputs:{url:"url"},features:[t.Vt3],decls:1,vars:1,consts:[["width","100%","height","100%","id","iframePreviewLink",3,"src",4,"ngIf"],["width","100%","height","100%","id","iframePreviewLink",3,"src"]],template:function(u,_){1&u&&t.DNE(0,wt,2,3,"iframe",0),2&u&&t.Y8G("ngIf",_.url)},dependencies:[o.bT,tt.JI],styles:[".box-iframe[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return l})();var pt=g(96451),W=g(15343),dt=g(66067),mt=g(26988),Lt=g(27208),Q=g(9280),ft=g(17818),L=g(18718),K=g(52811),gt=g(32099),N=g(94743),B=g(47712),Gt=g(69135);function Ct(l,x){1&l&&(t.nrm(0,"lucide-icon",11),t.nI1(1,"mytranslate")),2&l&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_published"))}function Et(l,x){1&l&&(t.nrm(0,"lucide-icon",12),t.nI1(1,"mytranslate")),2&l&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_Unpublished"))}function Jt(l,x){if(1&l&&(t.j41(0,"div")(1,"div",8),t.DNE(2,Ct,2,3,"lucide-icon",9),t.DNE(3,Et,2,3,"lucide-icon",10),t.k0s()()),2&l){const i=t.XpG();t.R7$(2),t.Y8G("ngIf",1==i.document.homework.isPublished),t.R7$(1),t.Y8G("ngIf",1!=i.document.homework.isPublished)}}function re(l,x){1&l&&(t.nrm(0,"lucide-icon",15),t.nI1(1,"mytranslate")),2&l&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_published"))}function ge(l,x){1&l&&(t.nrm(0,"lucide-icon",12),t.nI1(1,"mytranslate")),2&l&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_Unpublished"))}function Ie(l,x){if(1&l&&(t.j41(0,"div",13),t.DNE(1,re,2,3,"lucide-icon",14),t.DNE(2,ge,2,3,"lucide-icon",10),t.k0s()),2&l){const i=t.XpG();t.R7$(1),t.Y8G("ngIf",1==(null==i.document.exam?null:i.document.exam.isPublished)),t.R7$(1),t.Y8G("ngIf",1!=(null==i.document.exam?null:i.document.exam.isPublished))}}function fe(l,x){if(1&l&&(t.j41(0,"div",16)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&l){const i=t.XpG();t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_luot_lam")+": "+i.document.exam.attended)}}function Se(l,x){if(1&l&&(t.j41(0,"div",16)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&l){const i=t.XpG();t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_da_nop")+": "+i.document.homework.count+"/"+i.document.homework.totalStudent)}}const Dt=function(l){return{"mt-3":l}};let Qt=(()=>{class l extends a.H{static#t=this.\u0275fac=function(){let i;return function(_){return(i||(i=t.xGo(l)))(_||l)}}();static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["exam-exercises-block"]],inputs:{document:"document",index:"index"},features:[t.Vt3],decls:11,vars:11,consts:[[1,"flex","items-center","cursor-pointer","hover:bg-slate-100","rounded-md","p-2",2,"text-align","left","border","none","box-shadow","none",3,"ngClass"],[1,"flex-none","image-fit","rounded-md","overflow-hidden"],[4,"ngIf","ngIfElse"],["ExamIcon",""],[1,"ml-4","mr-auto","w-2/3"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-500 text-xs mt-0.5 font-medium",4,"ngIf"],[1,"text-primary"],["name","file-text","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-text","size","48","matTooltipShowDelay","1000",3,"matTooltip"],["name","file","size","48","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-pending"],["name","file-check","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-check","size","48","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5","font-medium"]],template:function(u,_){if(1&u&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,Jt,4,2,"div",2),t.DNE(3,Ie,3,2,"ng-template",null,3,t.C5r),t.k0s(),t.j41(5,"div",4)(6,"div",5,6),t.EFF(8),t.k0s(),t.DNE(9,fe,4,3,"div",7),t.DNE(10,Se,4,3,"div",7),t.k0s()()),2&u){const v=t.sdS(4),A=t.sdS(7);t.Y8G("ngClass",t.eq3(9,Dt,0!==_.index)),t.R7$(2),t.Y8G("ngIf",_.document.homework)("ngIfElse",v),t.R7$(4),t.FS9("matTooltip",_.document.exam?_.document.exam.name:null==_.document.homework?null:_.document.homework.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",A.isDisabled),t.R7$(2),t.SpI(" ",_.document.exam?_.document.exam.name:null==_.document.homework?null:_.document.homework.name," "),t.R7$(1),t.Y8G("ngIf",_.document.exam),t.R7$(1),t.Y8G("ngIf",_.document.homework)}},dependencies:[o.YU,o.bT,B.oV,Gt.f,W.WGl,tt.wp],encapsulation:2})}return l})();function Tt(l,x){if(1&l&&t.nrm(0,"azt-loading-effect",17),2&l){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Mt(l,x){1&l&&(t.j41(0,"span",38),t.nrm(1,"azt-loading-ui"),t.k0s())}function St(l,x){1&l&&(t.j41(0,"span",39)(1,"span",40),t.EFF(2,"1"),t.k0s()())}function ie(l,x){1&l&&(t.j41(0,"span"),t.EFF(1," \xa0 "),t.j41(2,"span",41),t.EFF(3,"1"),t.k0s()())}function _t(l,x){1&l&&(t.j41(0,"h2",42),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_student_list_of_assigned_assignments")))}function at(l,x){1&l&&(t.j41(0,"h2",42),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_student_search_results")))}const X=function(){return{"mr-2":!0}};function $(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",43),t.bIt("click",function(){t.eBV(i);const _=t.XpG(2);return t.Njj(_.backToDocumentList())}),t.nrm(1,"lucide-icon",44),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,X)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_auto_quay_lai")))}function ht(l,x){if(1&l&&t.nrm(0,"azt-loading-effect",17),2&l){const i=t.XpG(2);t.Y8G("currentStatusObj",i.statusObj)}}const zt=function(l){return[l]},qt=function(l,x){return{backto:l,filterBy:x}};function ye(l,x){if(1&l&&(t.j41(0,"a",60),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&l){const i=t.XpG(2),u=i.$implicit,_=i.index,v=t.XpG(6);t.Y8G("routerLink",t.eq3(6,zt,t.bMT(1,4,"/admin/testbank/homework-results-list/"+u.homework.classroomId+"/"+u.homework.id+"/"+u.homework.hashId)))("queryParams",t.l_i(8,qt,"/admin/student/classroom-details/"+v.classroomId+"/1",v.typeFilter)),t.R7$(2),t.Y8G("document",u)("index",_)}}function Ve(l,x){if(1&l&&(t.j41(0,"a",62),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&l){const i=t.XpG(2),u=i.$implicit,_=i.index,v=t.XpG(6);t.Y8G("routerLink",t.eq3(6,zt,t.bMT(1,4,"/bai-tap/"+u.homework.hashId)))("queryParams",t.l_i(8,qt,"/student/classroom-details/"+v.classroomId+"/1",v.typeFilter)),t.R7$(2),t.Y8G("document",u)("index",_)}}function Ue(l,x){if(1&l&&(t.qex(0),t.DNE(1,ye,3,11,"a",58),t.DNE(2,Ve,3,11,"a",59),t.bVm()),2&l){const i=t.XpG(7);t.R7$(1),t.Y8G("ngIf",!i.isStudent),t.R7$(1),t.Y8G("ngIf",i.isStudent)}}function an(l,x){if(1&l&&(t.j41(0,"a",65),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&l){const i=t.XpG(2),u=i.$implicit,_=i.index,v=t.XpG(6);let A;t.Y8G("routerLink",t.eq3(6,zt,t.bMT(1,4,"/admin/testbank/exam-results-list/"+(null!==(A=null==u.exam?null:u.exam.categoryId)&&void 0!==A?A:0)+"/"+(null==u.exam?null:u.exam.id)+"/0")))("queryParams",t.l_i(8,qt,"/admin/student/classroom-details/"+v.classroomId+"/1",v.typeFilter)),t.R7$(2),t.Y8G("document",u)("index",_)}}function be(l,x){if(1&l&&(t.j41(0,"a",66),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&l){const i=t.XpG(2),u=i.$implicit,_=i.index,v=t.XpG(6);t.Y8G("routerLink",t.eq3(6,zt,t.bMT(1,4,"/de-thi/"+(null==u.exam?null:u.exam.hashId))))("queryParams",t.l_i(8,qt,"/student/classroom-details/"+v.classroomId+"/1",v.typeFilter)),t.R7$(2),t.Y8G("document",u)("index",_)}}function Xe(l,x){if(1&l&&(t.DNE(0,an,3,11,"a",63),t.DNE(1,be,3,11,"a",64)),2&l){const i=t.XpG(7);t.Y8G("ngIf",!i.isStudent),t.R7$(1),t.Y8G("ngIf",i.isStudent)}}function We(l,x){if(1&l&&(t.j41(0,"div",56),t.DNE(1,Ue,3,2,"ng-container",46),t.DNE(2,Xe,2,2,"ng-template",null,57,t.C5r),t.k0s()),2&l){const i=x.$implicit,u=t.sdS(3);t.R7$(1),t.Y8G("ngIf",i.homework)("ngIfElse",u)}}function rn(l,x){if(1&l&&(t.j41(0,"div",54),t.DNE(1,We,4,2,"div",55),t.k0s()),2&l){const i=t.XpG().$implicit;t.R7$(1),t.Y8G("ngForOf",i.documentList)}}function He(l,x){if(1&l){const i=t.RV6();t.j41(0,"div")(1,"div")(2,"button",50),t.bIt("click",function(){const v=t.eBV(i).$implicit;return t.Njj(v.isExpand=!v.isExpand)}),t.nrm(3,"lucide-icon",51),t.j41(4,"span",52),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"getDayOfWeek"),t.nI1(8,"mytranslate"),t.nI1(9,"formatOnlyDateByUserUnitPipe"),t.k0s()()(),t.DNE(10,rn,2,1,"div",53),t.k0s()}if(2&l){const i=x.$implicit;t.R7$(3),t.FS9("name",i.isExpand?"chevron-down":"chevron-right"),t.R7$(2),t.JRh(t.bMT(6,3,t.bMT(7,5,i.assignmentDate))+", "+t.bMT(8,7,"lang_testbank_powerpoint_date")+" "+t.bMT(9,9,i.assignmentDate)),t.R7$(5),t.Y8G("ngIf",i.isExpand)}}function Je(l,x){1&l&&t.nrm(0,"azt-loading-ui",70)}function ln(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",67)(1,"button",68),t.bIt("click",function(){t.eBV(i);const _=t.XpG(4);return t.Njj(!_.sAztNextPaginationService.isLoadingNextPage&&_.getNextPage())}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,Je,1,0,"azt-loading-ui",69),t.k0s()()}if(2&l){const i=t.XpG(4);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_business_document_get_more_documents")," "),t.R7$(2),t.Y8G("ngIf",i.sAztNextPaginationService.isLoadingNextPage)}}function cn(l,x){if(1&l&&(t.qex(0),t.DNE(1,He,11,11,"div",48),t.DNE(2,ln,5,4,"div",49),t.bVm()),2&l){const i=t.XpG(3);t.R7$(1),t.Y8G("ngForOf",i.listGroupDocumentObjs),t.R7$(1),t.Y8G("ngIf",i.sAztNextPaginationService.hasNextPage)}}function Ae(l,x){1&l&&(t.j41(0,"div",71)(1,"div",72),t.nrm(2,"azt-svg-icon",73),t.j41(3,"p",74),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&l&&(t.R7$(2),t.Y8G("size",87),t.R7$(2),t.JRh(t.bMT(5,2,"lang_student_there_are_no_exercises_or_tests_yet")+"!"))}function Ke(l,x){if(1&l&&(t.j41(0,"div",45),t.DNE(1,cn,3,2,"ng-container",46),t.DNE(2,Ae,6,4,"ng-template",null,47,t.C5r),t.k0s()),2&l){const i=t.sdS(3),u=t.XpG(2);t.R7$(1),t.Y8G("ngIf",u.listGroupDocumentObjs.length>0)("ngIfElse",i)}}const Le=function(){return{"mr-0 md:mr-2":!0}};function Qe(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",22)(5,"azt-search-box",23),t.bIt("onSearch",function(_){t.eBV(i);const v=t.XpG();return t.Njj(v.searchDocumentObjs(_.searchObj))}),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"button",24),t.DNE(8,Mt,2,0,"span",25),t.nrm(9,"lucide-icon",26),t.DNE(10,St,3,0,"span",27),t.j41(11,"span",28),t.EFF(12),t.nI1(13,"mytranslate"),t.DNE(14,ie,4,0,"span",29),t.k0s()()(),t.j41(15,"div",30)(16,"button",31),t.nrm(17,"lucide-icon",32),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()()(),t.j41(20,"div",33),t.DNE(21,_t,3,3,"h2",34),t.DNE(22,at,3,3,"h2",34),t.DNE(23,$,5,5,"button",35),t.k0s(),t.j41(24,"div",36),t.DNE(25,ht,1,1,"azt-loading-effect",0),t.k0s(),t.DNE(26,Ke,4,2,"ng-template",null,37,t.C5r),t.k0s()}if(2&l){const i=t.sdS(27),u=t.XpG(),_=t.sdS(4),v=t.sdS(25);t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(6,17,"lang_auto_tim_kiem"))("searchContentObj",u.searchContentObj),t.R7$(2),t.Y8G("matMenuTriggerFor",_),t.R7$(1),t.Y8G("ngIf",u.loadingFilter),t.R7$(1),t.Y8G("ngClass",t.lJ4(23,Le)),t.R7$(1),t.Y8G("ngIf",""!=u.typeFilter),t.R7$(2),t.SpI(" ",t.bMT(13,19,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf",""!=u.typeFilter),t.R7$(2),t.Y8G("matMenuTriggerFor",v),t.R7$(1),t.Y8G("ngClass",t.lJ4(24,X)),t.R7$(1),t.SpI(" ",t.bMT(19,21,"lang_student_new_assignment")," "),t.R7$(3),t.Y8G("ngIf",!u.isShowSearchResult),t.R7$(1),t.Y8G("ngIf",u.isShowSearchResult),t.R7$(1),t.Y8G("ngIf",u.isShowSearchResult),t.R7$(2),t.Y8G("ngIf",u.searchContentObj.isLoading||u.loadingFilter)("ngIfElse",i)}}const it=function(){return{"ml-1":!0}};function Vt(l,x){1&l&&t.nrm(0,"lucide-icon",75),2&l&&t.Y8G("ngClass",t.lJ4(1,it))}function U(l,x){1&l&&t.nrm(0,"lucide-icon",75),2&l&&t.Y8G("ngClass",t.lJ4(1,it))}let ot=(()=>{class l extends a.H{changeFilter(i){this.typeFilter=i,this.loadingFilter=!0,this.resetData(),this.commonService.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/1","?filterBy="+i),this.getData(!0)}openEditor(){let i=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backto=${encodeURIComponent(i)}&classroomId=${this.classroomId}`)}openHomeworkScreen(){let i=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/homework/add-new-homework/0",`?backto=${encodeURIComponent(i)}&classroomId=${this.classroomId}`)}backToDocumentList(){this.isShowSearchResult=!1,this.searchContentObj.searchContent="",this.getData(!1)}resetData(){this.listDocumentObjs=[]}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}searchDocumentObjs(i){this.searchContentObj=i,this.searchContentObj.setLoading(!0),this.resetData(),this.getData(!1)}getData(i){i?this.sAztNextPaginationService.setLoading(!0):this.searchContentObj.searchContent||this.initStatusObj();let u={categoryId:void 0,documentType:"file",shareType:void 0,fileType:this.typeFilter?this.typeFilter:void 0,classroomId:this.classroomId,name:this.searchContentObj.searchContent?this.searchContentObj.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:0,page:this.sAztNextPaginationService.curPage,itemPerPage:this.sAztNextPaginationService.itemPerPage};this.isShowSearchResult=!!this.searchContentObj.searchContent,this.waitDestroy(this.documentService.apiDocumentsGet(u.categoryId,u.documentType,u.shareType,u.fileType,u.classroomId,u.name,u.suggestExamPurpose,u.lite,u.getGlobal,u.page,u.itemPerPage).subscribe(_=>{_.success?(this.listDocumentObjs=this.listDocumentObjs.concat(_.data?.documentObjs??[]),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(_.data?.total??0),this.processData(this.listDocumentObjs),this.searchContentObj.setLoading(!1),this.stopStatusObj()):(this.searchContentObj.setLoading(!1),this.errorStatusObj(_.message,!0)),this.loadingFilter=!1}))}processData(i){let u=this.commonService.arrayToDictionary(i,v=>v.exam?new Date(v.exam.createdAt??0).toDateString():new Date(v?.homework?.createdAt??0).toDateString()),_=[];Object.entries(u).forEach(([v,A],et)=>{if(A.length>0){let xt=A[0];_.push({isExpand:!0,assignmentDate:xt.exam?xt.exam.createdAt:xt.homework?.createdAt,documentList:A})}}),this.listGroupDocumentObjs=_}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.typeFilter=this.commonService.getMyQueryParam("filterBy")??"",this.getData(!1)}constructor(i,u,_){super(),this.documentService=i,this.activeRoute=u,this.sAztNextPaginationService=_,this.classroomId=0,this.listGroupDocumentObjs=[],this.listDocumentObjs=[],this.isShowSearchResult=!1,this.searchContentObj=new Lt.Z,this.typeFilter="",this.loadingFilter=!1}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(Q.DK),t.rXU(j.nX),t.rXU(mt.h))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-exam-exercises"]],inputs:{isStudent:"isStudent"},features:[t.Jv_([mt.h]),t.Vt3],decls:38,vars:29,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","after"],["menuFilter","matMenu"],[1,"dropdown-menu","w-32","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["name","notepad-text","size","16",3,"ngClass"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["name","file-text","size","16",3,"ngClass"],["name","check","size","16",3,"ngClass",4,"ngIf"],["name","file-check","size","16",3,"ngClass"],["xPosition","before"],["menuAssignment","matMenu"],[1,"dropdown-menu","w-40","show","relative"],["azt-track-service","exam-exercises-AuLj8R4CH",1,"dropdown-item","w-full",3,"click"],["azt-track-service","exam-exercises-2YQOMXwGnC",1,"dropdown-item","w-full",3,"click"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"flex","w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[1,"mr-2","w-full","sm:w-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["tourAnchor","azt-tour-2",1,"shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["class","w-3 h-4 mr-1 inline-block",4,"ngIf"],["name","filter","size","16",3,"ngClass"],["class","sm:hidden w-5 h-5 flex items-center justify-center absolute rounded-full bg-primary right-0 top-0 -mr-2 -mt-2",4,"ngIf"],[1,"azt-hidden","sm:block"],[4,"ngIf"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","exam-exercises-jkv8YmKddH",1,"btn","btn-primary","dropdown-toggle","text-white","shadow-md",3,"matMenuTriggerFor"],["name","plus","size","18",3,"ngClass"],[1,"col-span-12","flex","items-center","mt-5"],["class","text-lg font-medium mr-5",4,"ngIf"],["azt-track-service","exam-exercises-TXjuRofaLz","class","btn-text-primary font-medium ml-auto",3,"click",4,"ngIf"],[1,"col-span-12","mt-5"],["doneLoadingSearch",""],[1,"w-3","h-4","mr-1","inline-block"],[1,"sm:hidden","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","bg-primary","right-0","top-0","-mr-2","-mt-2"],[1,"rounded-full","bg-primary","text-white","cursor-pointer","font-medium"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[1,"text-lg","font-medium","mr-5"],["azt-track-service","exam-exercises-TXjuRofaLz",1,"btn-text-primary","font-medium","ml-auto",3,"click"],["name","chevron-left","size","18",3,"ngClass"],[1,"col-span-12"],[4,"ngIf","ngIfElse"],["emptyList",""],[4,"ngFor","ngForOf"],["class","mt-2 font-medium",4,"ngIf"],["azt-track-service","exam-exercises-gYn61cneD",1,"flex","items-center","py-3","pr-3","hover:text-primary",3,"click"],["size","24",3,"name"],[1,"font-medium","ml-3"],["class","box p-3",4,"ngIf"],[1,"box","p-3"],["class","document",4,"ngFor","ngForOf"],[1,"document"],["isExamDocument",""],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams"],[3,"document","index"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams"],[1,"mt-2","font-medium"],["azt-track-service","exam-exercises-4meI3XYSV",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","file-empty",3,"size"],[1,"font-medium","mt-5"],["name","check","size","16",3,"ngClass"]],template:function(u,_){if(1&u&&(t.DNE(0,Tt,1,1,"azt-loading-effect",0),t.DNE(1,Qe,28,25,"ng-template",null,1,t.C5r),t.j41(3,"mat-menu",2,3)(5,"div",4)(6,"ul",5)(7,"li")(8,"button",6),t.bIt("click",function(){return _.changeFilter("")}),t.nrm(9,"lucide-icon",7),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"li")(13,"button",8),t.bIt("click",function(){return _.changeFilter("homework")}),t.nrm(14,"lucide-icon",9),t.EFF(15),t.nI1(16,"mytranslate"),t.DNE(17,Vt,1,2,"lucide-icon",10),t.k0s()(),t.j41(18,"li")(19,"button",6),t.bIt("click",function(){return _.changeFilter("exam")}),t.nrm(20,"lucide-icon",11),t.EFF(21),t.nI1(22,"mytranslate"),t.DNE(23,U,1,2,"lucide-icon",10),t.k0s()()()()(),t.j41(24,"mat-menu",12,13)(26,"div",14)(27,"ul",5)(28,"li")(29,"button",15),t.bIt("click",function(){return _.openHomeworkScreen()}),t.nrm(30,"lucide-icon",9),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()(),t.j41(33,"li")(34,"button",16),t.bIt("click",function(){return _.openEditor()}),t.nrm(35,"lucide-icon",11),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s()()()()()),2&u){const v=t.sdS(2);t.Y8G("ngIf",_.statusObj.loading)("ngIfElse",v),t.R7$(9),t.Y8G("ngClass",t.lJ4(24,X)),t.R7$(1),t.SpI(" ",t.bMT(11,14,"lang_auto_tat_ca")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(25,X)),t.R7$(1),t.SpI(" ",t.bMT(16,16,"lang_auto_bai_tap")," "),t.R7$(2),t.Y8G("ngIf","homework"==_.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(26,X)),t.R7$(1),t.SpI(" ",t.bMT(22,18,"lang_auto_de_thi")," "),t.R7$(2),t.Y8G("ngIf","exam"==_.typeFilter),t.R7$(7),t.Y8G("ngClass",t.lJ4(27,X)),t.R7$(1),t.SpI(" ",t.bMT(32,20,"lang_student_new_homework")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(28,X)),t.R7$(1),t.SpI(" ",t.bMT(37,22,"lang_student_new_exam")," ")}},dependencies:[j.Wk,o.YU,o.Sq,o.bT,ft.kk,ft.Cp,L.K,K.R,gt.W,N.m,W.WGl,Qt,tt.F2,tt.wp,tt.vv,tt.hZ],encapsulation:2})}return l})();var ct=g(57350),Yt=g(95054),me=g(47635),_e=g(66257),De=g(48725),he=g(37497),te=g(89163),de=g(33887),mn=g(43070),z=g(2915),vt=g(5800),S=g(74637),J=g(10123);function Z(l,x){if(1&l&&t.nrm(0,"azt-loading-effect",12),2&l){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function bt(l,x){if(1&l&&(t.j41(0,"tr")(1,"td",22),t.EFF(2),t.nI1(3,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.j41(4,"td")(5,"div",23),t.nrm(6,"input",24),t.k0s()(),t.j41(7,"td")(8,"div",23),t.nrm(9,"input",24),t.k0s()(),t.j41(10,"td"),t.nrm(11,"textarea",25),t.k0s()()),2&l){const i=x.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,7,i.sessionTime)," "),t.R7$(4),t.Y8G("checked",i.receivedDocument)("disabled",!0),t.R7$(3),t.Y8G("checked",i.absent)("disabled",!0),t.R7$(2),t.Y8G("disabled",!0)("value",i.reason)}}function oe(l,x){if(1&l&&(t.qex(0),t.DNE(1,bt,12,9,"tr",21),t.bVm()),2&l){const i=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",i.attendanceObj.list)}}function ve(l,x){1&l&&(t.j41(0,"tr")(1,"td",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&l&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_homework_homework_list_not_found")," "))}function Ut(l,x){if(1&l&&(t.j41(0,"drag-scroll")(1,"table",13)(2,"thead")(3,"tr",14)(4,"th",15),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",16),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",17),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",17),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()(),t.j41(16,"tbody",18),t.DNE(17,oe,2,1,"ng-container",19),t.DNE(18,ve,4,3,"ng-template",null,20,t.C5r),t.k0s()()()),2&l){const i=t.sdS(19),u=t.XpG();t.R7$(5),t.JRh(t.bMT(6,6,"lang_auto_thoi_gian")),t.R7$(3),t.JRh(t.bMT(9,8,"lang_core_da_phat_tai_lieu")),t.R7$(3),t.JRh(t.bMT(12,10,"lang_student_absence")),t.R7$(3),t.JRh(t.bMT(15,12,"lang_auto_ly_do")),t.R7$(3),t.Y8G("ngIf",u.attendanceObj&&u.attendanceObj.list.length)("ngIfElse",i)}}let je=(()=>{class l extends de._{handleCloseDialog(){this.dialogRef.close()}filterData(i){this.dataFilter=i,this.getData()}getData(){this.initStatusObj();const i=this.data.student;this.waitDestroy(this.studentService.apiStudentsStudentIdAttendancesGet(i.id,i.classroomId,this.dataFilter?.yearSelected,this.dataFilter?.monthSelected).subscribe({next:u=>{this.attendanceObj=u,this.successStatusObj()},error:u=>{this.errorStatusObj(u.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.getData()}constructor(i,u,_){super(u,i),this.dialogRef=i,this.data=u,this.studentService=_}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(te.CP,8),t.rXU(te.Vh,8),t.rXU(mn.b0))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["azt-attendance-detail"]],features:[t.Vt3],decls:14,vars:11,consts:[[1,"box","attendance-detail"],[1,"p-4"],[1,"flex"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"ml-auto"],[1,"btn","btn-outline-danger","border-0","shadow-none",3,"click"],["name","x","size","18"],[1,"mt-2","flex","justify-end","items-center"],[3,"sendFilter"],[1,"mt-0","pb-4"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[1,"box","bg-slate-200","dark:bg-darkmode-400"],[1,"whitespace-nowrap"],[1,"text-center","whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"bg-slate-100","dark:bg-darkmode-400"],[4,"ngIf","ngIfElse"],["emptyData",""],[4,"ngFor","ngForOf"],[1,"font-medium"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"checked","disabled"],["type","text",1,"form-control",2,"min-width","50px","min-height","50px",3,"disabled","value"],["colspan","4",1,"text-center"]],template:function(u,_){if(1&u&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"azt-student-info-box",3),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return _.handleCloseDialog()}),t.nrm(6,"lucide-icon",6),t.k0s()()(),t.j41(7,"div",7)(8,"azt-filter-box",8),t.bIt("sendFilter",function(A){return _.filterData(A)}),t.k0s()()(),t.j41(9,"div",9)(10,"azt-mat-dialog-content"),t.DNE(11,Z,1,1,"azt-loading-effect",10),t.DNE(12,Ut,20,14,"ng-template",null,11,t.C5r),t.k0s()()()),2&u){const v=t.sdS(13);t.R7$(3),t.Y8G("name",_.data.student.fullName)("parentFullName",_.data.student.parentFullName)("parentId",_.data.student.parentId)("parentPhone",_.data.student.parentPhone)("phone",_.data.student.phone)("email",_.data.student.email)("avatar",_.data.student.avatar)("gender",_.data.student.gender)("hasUser",_.data.student.hasUser),t.R7$(8),t.Y8G("ngIf",_.statusObj.loading)("ngIfElse",v)}},dependencies:[o.Sq,o.bT,L.K,z.U,vt.B,S.E,J.jd,J.Ew,W.WGl,tt.wp,tt.vv],encapsulation:2})}return l})();var ee=g(46899),Ge=g(22613);function bn(l,x){if(1&l&&t.nrm(0,"azt-loading-effect",8),2&l){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}const _n=function(l){return{"text-primary stroke-width-2.5":l}},Ye=function(){return{"-mt-2":!0}};function R(l,x){if(1&l&&(t.j41(0,"div",18),t.nrm(1,"lucide-icon",19)(2,"lucide-icon",20),t.k0s()),2&l){const i=t.XpG().$implicit,u=t.XpG(2);t.R7$(1),t.Y8G("ngClass",t.eq3(3,_n,i.typeFieldSort===u.typeFieldSort.asc)),t.R7$(1),t.Y8G("ngClass",t.lJ4(5,Ye))("ngClass",t.eq3(6,_n,i.typeFieldSort===u.typeFieldSort.desc))}}function Pt(l,x){if(1&l){const i=t.RV6();t.j41(0,"th",15)(1,"div",16),t.bIt("click",function(){const v=t.eBV(i).$implicit,A=t.XpG(2);return t.Njj(A.sortTableByFieldName(v))}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,R,3,8,"div",17),t.k0s()()}if(2&l){const i=x.$implicit;t.R7$(1),t.Aen(i.customStyle),t.HbH(i.customClassCss),t.R7$(1),t.SpI(" ",t.bMT(3,6,i.key)," "),t.R7$(2),t.Y8G("ngIf",!i.ignore)}}function E(l,x){if(1&l){const i=t.RV6();t.j41(0,"tr",21)(1,"td",22),t.bIt("click",function(){const v=t.eBV(i).$implicit,A=t.XpG(2);return t.Njj(A.showAttendanceDetail(v))}),t.nrm(2,"azt-student-info-box",23),t.k0s(),t.j41(3,"td",24),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",24),t.EFF(7),t.k0s(),t.j41(8,"td",24),t.EFF(9),t.k0s(),t.j41(10,"td",24),t.EFF(11),t.k0s(),t.j41(12,"td",24),t.EFF(13),t.k0s()()}if(2&l){const i=x.$implicit;t.Y8G("id","row_student_"+i.id),t.R7$(2),t.Y8G("name",i.fullName)("parentFullName",i.parentFullName)("parentId",i.parentId)("parentPhone",i.parentPhone)("avatar",i.avatar)("gender",i.gender)("hasUser",i.hasUser)("schoolName",i.schoolName)("classrooms",i.classrooms)("joinedAt",i.joinedAt),t.R7$(2),t.JRh(i.identificationNumber?t.i5U(5,16,i.identificationNumber,6):""),t.R7$(3),t.JRh(null==i?null:i.totalAttend),t.R7$(2),t.JRh(null==i?null:i.totalAbsence),t.R7$(2),t.JRh(null==i?null:i.totalAbsentPermission),t.R7$(2),t.JRh(null==i?null:i.totalAbsentNoPermission)}}function F(l,x){if(1&l){const i=t.RV6();t.j41(0,"azt-paging",28),t.bIt("goToPaginationPage",function(_){t.eBV(i);const v=t.XpG(3);return t.Njj(v.setPageStudent(_))}),t.k0s()}if(2&l){const i=t.XpG(3);t.Y8G("pageObj",i.pageObj)}}function O(l,x){if(1&l&&(t.j41(0,"div",29),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l){const i=t.XpG(3);t.R7$(1),t.Lme("",i.totalStudent," ",t.bMT(2,2,"lang_notify_list_students"),"")}}function jt(l,x){if(1&l&&(t.j41(0,"div",25),t.nrm(1,"div"),t.DNE(2,F,1,1,"azt-paging",26),t.DNE(3,O,3,4,"div",27),t.k0s()),2&l){const i=t.XpG(2);t.R7$(2),t.Y8G("ngIf",i.totalStudent>i.pageObj.pageSize),t.R7$(1),t.Y8G("ngIf",!i.isStudent)}}function Kt(l,x){if(1&l&&(t.j41(0,"div",9)(1,"drag-scroll")(2,"table",10)(3,"thead")(4,"tr",11),t.DNE(5,Pt,5,8,"th",12),t.k0s()(),t.j41(6,"tbody"),t.DNE(7,E,14,19,"tr",13),t.k0s()()()(),t.DNE(8,jt,4,2,"div",14)),2&l){const i=t.XpG();t.R7$(5),t.Y8G("ngForOf",i.sortTableByFieldNameService.fieldNameList),t.R7$(2),t.Y8G("ngForOf",i.listStudent),t.R7$(1),t.Y8G("ngIf",i.listStudent&&i.totalStudent&&i.totalStudent>0)}}let yn=(()=>{class l extends a.H{onSearchBox(i){this.searchContentObj=i,this.getData()}setPageStudent(i){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/7","?page="+i),this.pageObj.setPageNumber(i),this.getData()}sortTableByFieldName(i){i.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(i),this.getData())}showAttendanceDetail(i){this.sAztDialogService.open(je,{width:"700px",restoreFocus:!1,data:{student:i,isTeacher:!0}})}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!0,me:this.isStudent,getAssessment:!1,order:this.orderObj}).subscribe({next:u=>{this.listStudent=u.list,this.totalStudent=u.total,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()},error:u=>{this.errorStatusObj(u.error.message,!0)}}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:_e.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:_e.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAttend",key:"lang_student_number_of_sessions_attended",ignore:!1,typeFieldSort:_e.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsence",key:"lang_student_number_of_sessions_missed",ignore:!1,typeFieldSort:_e.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsentPermission",key:"lang_student_number_of_approved_absences",ignore:!1,typeFieldSort:_e.H.none,customClassCss:"flex items-center justify-center"},{fieldName:"totalAbsentNoPermission",key:"lang_student_number_of_unauthorized_absences",ignore:!1,typeFieldSort:_e.H.none,customClassCss:"flex items-center justify-center"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(i,u,_,v){super(),this.activeRoute=i,this.studentService=u,this.sortTableByFieldNameService=_,this.sAztDialogService=v,this.classroomId=0,this.searchContentObj=new Lt.Z,this.pageObj=new he.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=_e.H}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(j.nX),t.rXU(mn.b0),t.rXU(De.s),t.rXU(ee.i))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-attendance-board"]],inputs:{isStudent:"isStudent"},features:[t.Jv_([De.s]),t.Vt3],decls:13,vars:9,consts:[[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"isServerSearch","placeholder","onSearch"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","attendance-board-DpF9pdFzjI",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[3,"id"],["azt-track-service","attendance-board-e_tUfqKJu",1,"cursor-pointer",2,"width","250px",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"flex","justify-end"]],template:function(u,_){if(1&u&&(t.j41(0,"div",0)(1,"div",1)(2,"h3",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",3)(6,"div",4)(7,"azt-search-box",5),t.bIt("onSearch",function(A){return _.onSearchBox(A.searchObj)}),t.nI1(8,"mytranslate"),t.k0s()()(),t.j41(9,"div",1),t.DNE(10,bn,1,1,"azt-loading-effect",6),t.DNE(11,Kt,9,3,"ng-template",null,7,t.C5r),t.k0s()()),2&u){const v=t.sdS(12);t.R7$(3),t.JRh(t.bMT(4,5,"lang_azt_attendance")),t.R7$(4),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(8,7,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf",_.statusObj.loading)("ngIfElse",v)}},dependencies:[o.YU,o.Sq,o.bT,L.K,Ge.q,gt.W,vt.B,J.jd,J.Ew,W.WGl,tt.wp,tt.Po],encapsulation:2})}return l})();var Ze=g(56172),Xn=g(25622),qe=g(71204),st=g(10936),Dn=g(51698),Wn=g(74871),Ne=g(18148),le=g(60902),ze=g(95412),Hn=g(45344);let Gn=(()=>{class l extends de._{btnCloseDialog(){this.dialogRef.close(!1)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(i=>1==i.selected)}saveData(){this.initStatusObj();var i=[];this.checkboxMonth.checkboxMonth.filter(_=>1==_.selected).forEach(_=>{i.push({month:_.month,year:_.year})}),this.waitDestroy(this.paymentService.apiPaymentPost({payments:i,studentId:this.data}).subscribe({next:_=>{this.successStatusObj("lang_cms_utils_update_folder_success",!0),this.dialogRef.close(!0)},error:_=>{this.errorStatusObj(_.error.message,!0)}}))}constructor(i,u,_){super(_,u),this.paymentService=i,this.dialogRef=u,this.data=_,this.checkboxMonth=new le.L,this.checkboxMonth.studentId=_}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(ze.W),t.rXU(te.CP,8),t.rXU(te.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["azt-dialog-checkbox-month"]],features:[t.Vt3],decls:11,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[3,"checkboxMonth"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-primary",3,"disabled","click"]],template:function(u,_){1&u&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"azt-checkbox-month",3),t.k0s()(),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return _.btnCloseDialog()}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"button",6),t.bIt("click",function(){return _.saveData()}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()),2&u&&(t.R7$(3),t.Y8G("checkboxMonth",_.checkboxMonth),t.R7$(3),t.SpI(" ",t.bMT(7,4,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",!_.isSelectedMonth()||_.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(10,6,"lang_business_news_update_post_button")," "))},dependencies:[Hn.u,tt.wp],encapsulation:2})}return l})();var we=g(87039),y=g(81519),ut=g(47426),b=g(74960),D=g(99503),P=g(79347),Rt=g(9691),ce=g(42947),Jn=g(39712),Ri=g(10296),tn=g(65544),Nn=g(60303),Kn=g(9260),jn=g(96112),Zt=g(19965),Oe=g(5502);const en=["fileSelect"];function Qn(l,x){if(1&l&&(t.j41(0,"span",27),t.EFF(1),t.k0s()),2&l){const i=t.XpG().$implicit;t.R7$(1),t.JRh((null==i.cellData?null:i.cellData.fullName)+": ")}}function is(l,x){if(1&l&&(t.j41(0,"span",28),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&l){const i=x.$implicit,u=x.index,_=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,1,i.errorMessage)+(u===_.errors.length-1?" ("+t.bMT(3,3,"lang_auto_line")+" "+_.row+")":", ")," ")}}function ss(l,x){if(1&l&&(t.j41(0,"div",24),t.DNE(1,Qn,2,1,"span",25),t.DNE(2,is,4,5,"span",26),t.k0s()),2&l){const i=x.$implicit;t.R7$(1),t.Y8G("ngIf",null==i.cellData?null:i.cellData.fullName),t.R7$(1),t.Y8G("ngForOf",i.errors)}}function Fi(l,x){if(1&l&&(t.j41(0,"div",19)(1,"div",20),t.EFF(2),t.k0s(),t.j41(3,"div",21)(4,"ng-scrollbar",22),t.DNE(5,ss,3,2,"div",23),t.k0s()()()),2&l){const i=t.XpG(2);t.R7$(2),t.JRh("T\u1ed5ng s\u1ed1 l\u1ed7i: "+i.errorImportFile.length),t.R7$(2),t.Y8G("visibility","hover")("autoHeightDisabled",!1),t.R7$(1),t.Y8G("ngForOf",i.errorImportFile)}}const Mi=function(l){return[l]},os=function(){return{"mr-2 text-success":!0}};function Di(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",29)(1,"azt-upload-single-document-to-editor",30),t.bIt("emitFiles",function(_){t.eBV(i);const v=t.XpG(2);return t.Njj(v.handleUploadComplete(_))}),t.j41(2,"div",31)(3,"div",32),t.nrm(4,"lucide-icon",33),t.j41(5,"span",34),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()}if(2&l){const i=t.XpG(2);t.R7$(1),t.Y8G("fileType",t.eq3(8,Mi,i.allUploadFileTypes.EXCEL)),t.R7$(3),t.Y8G("ngClass",t.lJ4(10,os)),t.R7$(2),t.SpI(" ",t.bMT(7,4,"lang_auto_keo_tha_file_excel")," "),t.R7$(2),t.SpI(" ",t.bMT(9,6,"lang_auto_hoc_click_de_chon_file")," ")}}function as(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",39)(5,"div",40),t.nrm(6,"img",41),t.nI1(7,"convertCdnLinkOfGitHub"),t.k0s(),t.j41(8,"div",42)(9,"p",43,44),t.EFF(11),t.k0s(),t.j41(12,"div",45),t.EFF(13),t.k0s()(),t.j41(14,"div",46)(15,"button",47),t.bIt("click",function(_){t.eBV(i);const v=t.XpG(2);return t.Njj(v.removeFile(_))}),t.nI1(16,"mytranslate"),t.nrm(17,"lucide-icon",48),t.k0s()()()()()()()}if(2&l){const i=t.sdS(10),u=t.XpG(2);t.R7$(6),t.Y8G("src",t.bMT(7,7,"images/excel.png"),t.B4B),t.R7$(3),t.FS9("matTooltip",null==u.file?null:u.file.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),t.R7$(2),t.SpI(" ",u.file?u.file.name:""," "),t.R7$(2),t.SpI(" ",u.fileMb+"mb"," "),t.R7$(2),t.FS9("matTooltip",t.bMT(16,9,"lang_auto_xoa"))}}const Zn=function(){return{"mr-2":!0}};function Be(l,x){if(1&l){const i=t.RV6();t.j41(0,"a",49),t.bIt("click",function(){t.eBV(i);const _=t.XpG(2);return t.Njj(_.exportDefaultListStudent())}),t.nrm(1,"lucide-icon",50),t.j41(2,"span",51),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Zn)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_student_utils_download_file")," "))}function rs(l,x){if(1&l){const i=t.RV6();t.j41(0,"a",49),t.bIt("click",function(){t.eBV(i);const _=t.XpG(2);return t.Njj(_.exportListStudent())}),t.nrm(1,"lucide-icon",50),t.j41(2,"span",51),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Zn)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_student_utils_export_list_student")," "))}function ue(l,x){if(1&l&&(t.j41(0,"div",12),t.DNE(1,Fi,6,4,"div",13),t.j41(2,"div",14),t.DNE(3,Di,10,11,"div",15),t.DNE(4,as,18,11,"ng-template",null,16,t.C5r),t.j41(6,"div",17),t.DNE(7,Be,5,5,"a",18),t.DNE(8,rs,5,5,"a",18),t.k0s()()()),2&l){const i=t.sdS(5),u=t.XpG();t.R7$(1),t.Y8G("ngIf",u.errorImportFile.length),t.R7$(2),t.Y8G("ngIf",!u.file)("ngIfElse",i),t.R7$(4),t.Y8G("ngIf",0==(null==u.studentObjs?null:u.studentObjs.length)||u.isBusinessDomain),t.R7$(1),t.Y8G("ngIf",0!=(null==u.studentObjs?null:u.studentObjs.length)&&!u.isBusinessDomain)}}function un(l,x){if(1&l&&(t.j41(0,"div",55)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&l){const i=t.XpG(2);t.R7$(2),t.SpI("",t.bMT(3,1,i.msgError),"!")}}function vn(l,x){if(1&l&&(t.j41(0,"div",52),t.nrm(1,"azt-form-enter-info-student",53),t.DNE(2,un,4,3,"div",54),t.k0s()),2&l){const i=t.XpG();t.R7$(1),t.Y8G("studentForm",i.studentForm),t.R7$(1),t.Y8G("ngIf",""!==i.msgError)}}function mi(l,x){1&l&&t.nrm(0,"azt-loading-ui",56)}function _i(l,x){if(1&l){const i=t.RV6();t.j41(0,"azt-export-excel-for-student-list",57),t.bIt("exportDataDone",function(_){t.eBV(i);const v=t.XpG();return t.Njj(v.exportStudentListDone(_))}),t.k0s()}if(2&l){const i=t.XpG();t.Y8G("objs",i.exportStudentObjs)}}let $n=(()=>{class l extends de._{exportDefaultListStudent(){this.exportStudentObjs=[{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_1"),phone:"0123456789",email:"nguyenvana@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:1,birthday:new Date(2001,1,23),gender:1,classroomId:0,parentId:0,facebookLink:"https://www.facebook.com/azotavn",schoolName:"Tr\u01b0\u1eddng THPT Azota"},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_2"),phone:"0123456790",email:"phamthib@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:2,birthday:new Date(2001,5,25),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_3"),phone:"0123456791",email:"C@Gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:3,birthday:new Date(2002,5,25),gender:1,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_4"),phone:"0112348478",email:"tranthid@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:4,birthday:new Date(2002,2,23),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_5"),phone:"0123456793",email:void 0,password:this.isBusinessDomain?"aBc@123":"",identificationNumber:void 0,birthday:void 0,gender:0,classroomId:0,parentId:0}]}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.studentObjs)}exportStudentListDone(i){let u=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(i,u)}changeNameDownloadFile(i){return this.commonService.createFileNameExportFile([i])+".xlsx"}handleUploadComplete(i){this.file=i,this.fileMb=this.getFileMB(this.file?.size??0)}getFileMB(i){return i&&i>0?(i/=1048576).toFixed(2):0}removeFile(i){i.stopPropagation(),this.fileSelect&&(this.fileSelect.nativeElement.value=null),this.file=null}showImportExcel(i){this.importExcel=i}confirmAction(){let i=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.importExcel)this.file&&(1==this.selected.value?this.waitDestroy(this.studentService.apiStudentSaveStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(u=>{1==u.success?u.data?.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_student_utils_add_success")):(this.errorStatusObj("lang_student_error_uploading_file_please_check_again",!0),this.errorImportFile=u.data?.errors??[],this.file=null):(this.btnCloseDialog(!1),this.errorStatusObj(u.message??"",!0))})):2==this.selected.value&&this.waitDestroy(this.studentService.apiStudentUpdateStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(u=>{1==u.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.btnCloseDialog(!1),this.errorStatusObj(u.message??"",!0))})));else if(this.studentForm.form.valid){let u={fullName:i.fullName,phone:i.phoneNumber,identificationNumber:i.identificationNumber?Number(i.identificationNumber):void 0,email:i.email,gender:Number(i.gender),birthday:i.birthday,classroomId:this.classroomObj.id??0,password:i.password,facebookLink:i.facebookLink,schoolName:i.school};this.waitDestroy(this.studentService.apiStudentSaveObjPost(u).subscribe(_=>{1==_.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.stopStatusObj(),this.msgError=_.message??"")}))}}btnCloseDialog(i){this.dialogRef.close(i)}selectedIndexChange(i){if(this.selected.setValue(i),this.showImportExcel(0!=i),this.file){let u=document.getElementById("button-remove-export");u&&u.click()}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){super.ngOnInit()}constructor(i,u,_,v){super(v,_),this.shareFileFlutterService=i,this.studentService=u,this.dialogRef=_,this.data=v,this.studentForm=new ce.d,this.selected=new st.MJ(0,{nonNullable:!0}),this.importExcel=!1,this.birthDay="",this.msgError="",this.maxDate=kt.c.maxDateTimePicker,this.showPassword=!1,this.fileMb=0,this.errorImportFile=[],this.allUploadFileTypes=Jn.PO,this.file=null,this.studentObjs=v.studentObjs,this.classroomObj=v.classroomObj}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(Ri.R),t.rXU(tn.b0),t.rXU(te.CP,8),t.rXU(te.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-add-student"]],viewQuery:function(u,_){if(1&u&&t.GBs(en,5),2&u){let v;t.mGM(v=t.lsd())&&(_.fileSelect=v.first)}},features:[t.Jv_([{provide:y.$O,useClass:D.fb,deps:[ut.Ju,D.ij]},{provide:y.vq,useFactory:P.fJ,deps:[Rt.F]},{provide:b.U$,useValue:{floatLabel:"never"}}]),t.Vt3],decls:23,vars:21,consts:[[1,"box","scroll-menu-test"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[3,"selectedIndex","selectedIndexChange"],[3,"label"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","add_student-g5-sbau_Ya",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","add_student-I6Q3FiuU2e",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"form-group"],["class","mt-4",4,"ngIf"],[1,"intro","mt-4"],["class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md",4,"ngIf","ngIfElse"],["exitsFile",""],[1,"mt-2","text-center"],["azt-track-service","add_teacher-pukPV3tL4","class","btn text-primary btn-transparent","target","_self",3,"click",4,"ngIf"],[1,"mt-4"],[1,"text-danger","font-medium","text-right"],[1,"overflow-auto","p-2","mt-2","border-slate-200","dark:border-darkmode-400","border","box",2,"height","120px","padding-right","5px"],["pointerEventsMethod","scrollbar",1,"w-full","h-full",3,"visibility","autoHeightDisabled"],["class","mb-2 text-xs",4,"ngFor","ngForOf"],[1,"mb-2","text-xs"],["class","font-medium",4,"ngIf"],["class","font-medium text-danger",4,"ngFor","ngForOf"],[1,"font-medium"],[1,"font-medium","text-danger"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[3,"fileType","emitFiles"],[1,"px-4","pb-8","mt-8","flex","items-center","justify-center","text-center","cursor-pointer","relative"],[1,"flex","items-center"],["name","file-spreadsheet","size","20",3,"ngClass"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"matTooltip","click"],["name","trash-2","size","18"],["azt-track-service","add_teacher-pukPV3tL4","target","_self",1,"btn","text-primary","btn-transparent",3,"click"],["name","cloud-download","size","20",3,"ngClass"],[1,"text-primary"],[1,"px-2"],[3,"studentForm"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"mr-1"],[3,"objs","exportDataDone"]],template:function(u,_){1&u&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"mat-tab-group",3),t.bIt("selectedIndexChange",function(A){return _.selectedIndexChange(A)}),t.nrm(5,"mat-tab",4),t.nI1(6,"mytranslate"),t.nrm(7,"mat-tab",4),t.nI1(8,"mytranslate"),t.nrm(9,"mat-tab",4),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div"),t.DNE(12,ue,9,5,"div",5),t.DNE(13,vn,3,2,"div",6),t.k0s()()()(),t.j41(14,"div",7)(15,"button",8),t.bIt("click",function(){return _.btnCloseDialog(!1)}),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"button",9),t.bIt("click",function(){return _.confirmAction()}),t.DNE(19,mi,1,0,"azt-loading-ui",10),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()(),t.DNE(22,_i,1,1,"azt-export-excel-for-student-list",11)),2&u&&(t.R7$(4),t.Y8G("selectedIndex",_.selected.value),t.R7$(1),t.FS9("label",t.bMT(6,11,"lang_student_utils_add_student")),t.R7$(2),t.FS9("label",t.bMT(8,13,"lang_student_utils_quick_add_excel")),t.R7$(2),t.FS9("label",t.bMT(10,15,"lang_student_utils_quick_add_phone_and_email")),t.R7$(3),t.Y8G("ngIf",0!=_.selected.value),t.R7$(1),t.Y8G("ngIf",0==_.selected.value),t.R7$(3),t.SpI(" ",t.bMT(17,17,"lang_cms_common_close_btn")," "),t.R7$(2),t.Y8G("disabled",_.statusObj.loading||_.studentForm.form.invalid&&!_.importExcel||null==_.file&&_.importExcel),t.R7$(1),t.Y8G("ngIf",_.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(21,19,"lang_cms_common_confirm_btn")," "),t.R7$(2),t.Y8G("ngIf",_.exportStudentObjs))},dependencies:[o.YU,o.Sq,o.bT,Nn.mq,Nn.T8,B.oV,z.U,Gt.f,Kn.m,K.R,jn.s,Zt.p,W.WGl,Oe.Yh,tt.wp,tt.gt],styles:[".file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#1baba10d;border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}.hover-cancel[_ngcontent-%COMP%]:hover{background-color:#ebe9e9}.hover-save[_ngcontent-%COMP%]:hover{background-color:#ff3526}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}.input-custom[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:3px;padding-left:12px;padding-top:10px}.block-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.block-text[_ngcontent-%COMP%]{width:60px;color:#757575!important;font-size:16px}.block-input[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:space-evenly}"]})}return l})();var On=g(47160);function qn(l,x){if(1&l&&(t.j41(0,"div",16)(1,"span",17),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"azt-see-more-content",18),t.k0s()()),2&l){const i=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_hoc_sinh"),":\xa0 "),t.R7$(2),t.Y8G("content",i.listStudentsNames)("maxLength",200)}}function ti(l,x){1&l&&t.nrm(0,"azt-loading-ui",19)}const Gi=function(){return{"mr-2 text-danger":!0}};let zn=(()=>{class l extends de._{btnCloseDialog(i){this.dialogRef.close(i)}confirmDelete(){this.initStatusObj();let i=this.listStudentObjs.map(_=>_.id);this.waitDestroy(this.studentService.apiStudentDeleteObjsPost({classroomId:this.classroomObj.id,studentIds:i}).subscribe(_=>{1==_.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(_.message,!0),this.btnCloseDialog(!1))}))}constructor(i,u,_){super(_,u),this.studentService=i,this.dialogRef=u,this.data=_,this.listStudentsNames="",this.listStudentObjs=_.listStudentObjs,this.classroomObj=_.classroomObj,this.listStudentsNames=_.listStudentObjs.map(v=>v.fullName).join(", ")}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(tn.b0),t.rXU(te.CP,8),t.rXU(te.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-delete-list-student"]],features:[t.Vt3],decls:31,vars:22,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center","mb-2"],["name","trash-2","size","24",3,"ngClass"],[1,"font-medium","text-danger"],[2,"text-transform","lowercase"],[1,"text-danger"],[1,"contentBoxName"],[3,"defaultHeight"],[1,"p-2","w-64","sm:w-full"],["class","text-slate-500 dark:text-slate-400 mb-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","delete_list_student-ixh0YFkn_",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","delete_list_student--8oV9RBQ9X",1,"btn","btn-danger",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-slate-500","dark:text-slate-400","mb-2"],[1,"font-medium"],[3,"content","maxLength"],[1,"mr-1"]],template:function(u,_){1&u&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.j41(5,"span"),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"span",5),t.EFF(9),t.k0s(),t.EFF(10," \xa0 "),t.j41(11,"span",6),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.EFF(14),t.nI1(15,"mytranslate"),t.j41(16,"span",7),t.EFF(17),t.k0s(),t.EFF(18," ? "),t.k0s()(),t.j41(19,"div",8)(20,"azt-mat-dialog-content",9)(21,"div",10),t.DNE(22,qn,5,5,"div",11),t.k0s()()()()(),t.j41(23,"div",12)(24,"button",13),t.bIt("click",function(){return _.btnCloseDialog(!1)}),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"button",14),t.bIt("click",function(){return _.confirmDelete()}),t.DNE(28,ti,1,0,"azt-loading-ui",15),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s()()()),2&u&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(21,Gi)),t.R7$(2),t.SpI(" ",t.bMT(7,11,"lang_auto_ban_co_chac_chan_muon_xoa"),"\xa0 "),t.R7$(3),t.JRh(_.data.listStudentObjs.length),t.R7$(3),t.JRh(t.bMT(13,13,"lang_auto_hoc_sinh")),t.R7$(2),t.SpI(" ",t.bMT(15,15,"lang_student_utils_delete_student_last"),":\xa0 "),t.R7$(3),t.JRh(_.classroomObj.name),t.R7$(3),t.Y8G("defaultHeight",70),t.R7$(2),t.Y8G("ngIf",""!=_.listStudentsNames),t.R7$(3),t.SpI(" ",t.bMT(26,17,"lang_cms_common_close_btn")," "),t.R7$(3),t.Y8G("ngIf",_.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(30,19,"lang_cms_common_confirm_btn")," "))},dependencies:[o.YU,o.bT,On.l,z.U,K.R,W.WGl,tt.wp],encapsulation:2})}return l})();var di=g(14999),Ni=g(46723),Pn=g(84828);function $i(l,x){if(1&l&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&l){const i=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_zalo_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==i.extraDataObj?null:i.extraDataObj.reApprovedZaloFullName)}}function ei(l,x){if(1&l&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&l){const i=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_so_dien_thoai_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==i.extraDataObj?null:i.extraDataObj.reApprovedPhone)}}function An(l,x){if(1&l&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&l){const i=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_email_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==i.extraDataObj?null:i.extraDataObj.reApprovedEmail)}}function ni(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.j41(6,"span",9),t.EFF(7),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.j41(10,"span",10),t.EFF(11),t.k0s(),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,$i,5,4,"span",11),t.DNE(15,ei,5,4,"span",11),t.DNE(16,An,5,4,"span",11),t.j41(17,"div",12)(18,"div",13),t.bIt("click",function(){const v=t.eBV(i).$implicit,A=t.XpG();return t.Njj(A.reApproveStudent(v.studentId,v.id))}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"div",14),t.bIt("click",function(){const v=t.eBV(i).$implicit,A=t.XpG();return t.Njj(A.rejectApproveRequest(v.studentId,v.id))}),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()()()()}if(2&l){const i=x.$implicit;t.R7$(4),t.SpI(" ",t.bMT(5,10,"lang_student_utils_reques_notice_list_student"),"\xa0 "),t.R7$(3),t.JRh(i.studentName),t.R7$(1),t.SpI(" \xa0 ",t.bMT(9,12,"lang_student_utils_reques_notice_list_class"),"\xa0 "),t.R7$(3),t.JRh(i.classroomName),t.R7$(1),t.SpI(" \xa0 ",t.bMT(13,14,"lang_student_utils_reques_notice_list_dont_select_name"),". "),t.R7$(2),t.Y8G("ngIf",null==i.extraDataObj?null:i.extraDataObj.reApprovedZaloFullName),t.R7$(1),t.Y8G("ngIf",null==i.extraDataObj?null:i.extraDataObj.reApprovedPhone),t.R7$(1),t.Y8G("ngIf",null==i.extraDataObj?null:i.extraDataObj.reApprovedEmail),t.R7$(3),t.SpI(" ",t.bMT(20,16,"lang_student_utils_reques_notice_list_unlock_select_again")," "),t.R7$(3),t.JRh(t.bMT(23,18,"lang_button_skip"))}}let kn=(()=>{class l extends de._{reApproveStudent(i,u){this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(i??0).subscribe(_=>{1==_.success?(this.showSuccessSnack("lang_auto_mo_khoa_cho_hoc_sinh_thanh_cong"),this.noticeObjs=this.noticeObjs.filter(v=>v.id!=u),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(_.message??"",!0)}))}rejectApproveRequest(i,u){this.waitDestroy(this.studentService.apiStudentRejectMappingRequestGet(i??0).subscribe(_=>{1==_.success?(this.noticeObjs=this.noticeObjs.filter(v=>v.id!=u),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(_.message??"",!0)}))}btnCloseDialog(i){this.dialogRef.close(i)}constructor(i,u,_,v){super(v,_),this.studentService=i,this.noticeService=u,this.dialogRef=_,this.data=v,this.classroomObj=v.classroomObj,this.noticeObjs=v.noticeObjs}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(tn.b0),t.rXU(Pn.eI),t.rXU(te.CP,8),t.rXU(te.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-re-approve-request"]],features:[t.Vt3],decls:9,vars:4,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","scroll-menu-test"],[1,"p-3"],["class","ml-2 mb-2 mr-2 noticeobj",4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","request_notice_list-fcVrrBJYoFq",1,"btn","w-24","btn-secondary",3,"click"],[1,"ml-2","mb-2","mr-2","noticeobj"],[1,"pt-1","pb-1"],[1,"notify__content"],[1,"notify__name",2,"word-break","break-word"],[1,"notify__name"],["class","block",4,"ngIf"],[1,"mt-2","flex","justify-end"],["azt-track-service","request_notice_list-LmGuEaUfXP2",1,"notify__btn","bg-info","clickable",3,"click"],["azt-track-service","request_notice_list-K5qVGrBSxAh",1,"notify__btn","ml-3","clickable",3,"click"],[1,"block"]],template:function(u,_){1&u&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2),t.DNE(4,ni,24,20,"div",3),t.k0s()()(),t.j41(5,"div",4)(6,"button",5),t.bIt("click",function(){return _.btnCloseDialog(!1)}),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()()),2&u&&(t.R7$(4),t.Y8G("ngForOf",_.noticeObjs),t.R7$(3),t.SpI(" ",t.bMT(8,2,"lang_cms_common_close_btn")," "))},dependencies:[o.Sq,o.bT,z.U,tt.wp],styles:[".noticeobj[_ngcontent-%COMP%]{background-color:#ecebeb;border-radius:5px;border:1px solid #e5e5e5}.notify__name[_ngcontent-%COMP%]{font-weight:500}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px 15px}.notify__btn[_ngcontent-%COMP%]{text-align:center;border-radius:5px;padding:5px;color:#000;font-size:14px;background-color:#fff;border:1px solid #cecdcd;width:-moz-fit-content;width:fit-content}.bg-info[_ngcontent-%COMP%]{color:#fff!important;border:1px solid #00a7d0!important;background-color:#00a7d0}.note[_ngcontent-%COMP%]{font-style:italic;font-size:15px;font-weight:600}"]})}return l})();var ui=g(34514),zi=g(44477),ii=g(81587);function Cn(l,x){if(1&l&&(t.j41(0,"div",5),t.nrm(1,"input",6),t.k0s()),2&l){const i=t.XpG();t.R7$(1),t.Y8G("value",i.data.student.phone)}}function Pi(l,x){if(1&l&&(t.j41(0,"div",5),t.nrm(1,"input",17),t.k0s()),2&l){const i=t.XpG();t.R7$(1),t.Y8G("value",i.data.student.email)}}function Ai(l,x){1&l&&(t.j41(0,"div",18),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Ee(l,x){1&l&&(t.j41(0,"div",18)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&l&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function En(l,x){1&l&&t.nrm(0,"azt-loading-ui",19)}let wn=(()=>{class l extends de._{confirmCreate(){this.initStatusObj(),this.studentService.apiStudentCreateStudentUserPost({id:this.data.student.id,password:this.studentForm.form.controls.password?.value??""}).subscribe({next:u=>{this.successStatusObj("lang_business_create_account_successfully",!0),this.dialogRef.close(!0)},error:u=>{this.errorStatusObj(u.error.message??"lang_business_create_account_unsuccessfully",!0)}})}btnCloseDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit(),this.studentForm.form=new st.gE({fullName:new st.MJ(this.data.student.fullName??"",{nonNullable:!0,validators:[st.k0.required]}),gender:new st.MJ(this.data.student.gender,{nonNullable:!0}),birthday:new st.MJ(this.data.student.birthday,{nonNullable:!0}),email:new st.MJ(this.data.student.email??"",{nonNullable:!0,validators:[zi.U.isInvalidEmail,st.k0.email,st.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new st.MJ(this.data.student.phone??"",{nonNullable:!0,validators:[st.k0.required,st.k0.pattern(/^[0-9\-]*$/),st.k0.minLength(10),st.k0.maxLength(10)]}),identificationNumber:new st.MJ(this.commonService.padLeadingZeros(this.data.student.identificationNumber??void 0,6),{nonNullable:!0,validators:[st.k0.min(1),st.k0.maxLength(6),st.k0.pattern("^[0-9]*$")]}),facebookLink:new st.MJ(this.data.student?.moreInfo?.facebookLink,{nonNullable:!0}),school:new st.MJ(this.data.student?.moreInfo?.schoolName,{nonNullable:!0}),password:new st.MJ("",{nonNullable:!0,validators:[st.k0.required,st.k0.minLength(6)]})})}constructor(i,u,_){super(_,u),this.studentService=i,this.dialogRef=u,this.data=_,this.showPassword=!1,this.studentForm=new ce.d}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(tn.b0),t.rXU(te.CP,8),t.rXU(te.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["azt-create-user-business"]],features:[t.Jv_([{provide:y.$O,useClass:D.fb,deps:[ut.Ju,ui.ij]},{provide:y.vq,useFactory:P.fJ,deps:[Rt.F]}]),t.Vt3],decls:28,vars:22,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"formGroup"],[1,"mt-3"],["autocomplete","new-phone","type","text","disabled","",1,"form-control",3,"value"],["class","mt-3",4,"ngIf"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-forn-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"disabled","click"],["class","mr-1",4,"ngIf"],["type","text","autocomplete","new-email","disabled","",1,"form-control",3,"value"],[1,"text-xs","text-danger","mt-1"],[1,"mr-1"]],template:function(u,_){1&u&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"form",4)(8,"div",5),t.nrm(9,"input",6),t.k0s(),t.DNE(10,Cn,2,1,"div",7),t.DNE(11,Pi,2,1,"div",7),t.j41(12,"div",5)(13,"div",8),t.nrm(14,"input",9),t.nI1(15,"mytranslate"),t.j41(16,"button",10),t.bIt("click",function(){return _.showPassword=!_.showPassword}),t.nrm(17,"lucide-icon",11),t.k0s()(),t.DNE(18,Ai,3,3,"div",12),t.DNE(19,Ee,4,3,"div",12),t.k0s()()()()(),t.j41(20,"div",13)(21,"button",14),t.bIt("click",function(){return _.btnCloseDialog()}),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"button",15),t.bIt("click",function(){return _.confirmCreate()}),t.DNE(25,En,1,0,"azt-loading-ui",16),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s()()()),2&u&&(t.R7$(5),t.SpI(" ",t.bMT(6,14,"lang_business_create_account")," "),t.R7$(2),t.Y8G("formGroup",_.studentForm.form),t.R7$(2),t.Y8G("value",_.data.student.fullName),t.R7$(1),t.Y8G("ngIf",_.data.student.phone),t.R7$(1),t.Y8G("ngIf",_.data.student.email),t.R7$(3),t.FS9("placeholder",t.bMT(15,16,"lang_auto_mat_khau")),t.Y8G("type",_.showPassword?"text":"password"),t.R7$(3),t.FS9("name",_.showPassword?"eye":"eye-off"),t.R7$(1),t.Y8G("ngIf",null==_.studentForm.form.controls.password||null==_.studentForm.form.controls.password.errors?null:_.studentForm.form.controls.password.errors.minlength),t.R7$(1),t.Y8G("ngIf",null==_.studentForm.form.controls.password||null==_.studentForm.form.controls.password.errors?null:_.studentForm.form.controls.password.errors.required),t.R7$(3),t.SpI(" ",t.bMT(23,18,"lang_auto_dong")," "),t.R7$(2),t.Y8G("disabled",(null==_.studentForm.form.controls.password?null:_.studentForm.form.controls.password.invalid)||_.statusObj.loading),t.R7$(1),t.Y8G("ngIf",_.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(27,20,"lang_auto_luu")," "))},dependencies:[o.bT,st.qT,st.me,st.BC,st.cb,st.j4,st.JD,ii.t,z.U,K.R,W.WGl,tt.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]})}return l})();var xn=g(68774),Li=g(67638),Ln=g(40609),Yi=g(91930),ls=g(51913),pi=g(41715),Bi=g(99927),gi=g(91640);let cs=(()=>{class l{constructor(i,u,_,v,A,et){this.commonService=i,this.examPageResultService=u,this.permissionService=_,this.globalService=v,this.answerTypeService=A,this.homeworkExamService=et}getTestedAllResultByClassroomId(i,u,_,v){return this.globalService.startIntervalFunc(i),this.getTestedOfExamResultByClassroomId(i,u,"all",_,v)}getTestedOfExamResultByClassroomId(i,u,_,v,A){return new Dn.c(et=>{this.examPageResultService.apiExamPageResultGetObjV2Get(u).subscribe(xt=>{if(1==xt.success){let se=xt.data?.examObj,on=this.hasEssay(xt.data?.examQuestionObjs??[]),es=xt.data?.classroomWithAvatarAndStudentObjs??new Array;this.permissionService.hasViewExamPermission("exam",se)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",se)?this.getAllExamResultObjs(i,[],u,"",Ei=>{if(Ei.hasOwnProperty("success")&&1==Ei.success){let Sr=this.mergeStudentWithAvatar(Ei.studentWithResultObjs??[]),uo={};Sr?.forEach(wi=>{let dr=wi.parentId??"0";uo.hasOwnProperty(dr)||(uo[dr]=wi.examResultObjs??[])});let _r=A;if(this.homeworkExamService.mustInClassroom(se)&&es.length>0)for(let wi=0;wi<es.length;wi++)if(es[wi].classroomObj?.id==v){let Ce=es[wi].studentObjs??[];if(Ce.length>0)for(let xe=0;xe<Ce.length;xe++){let hr=Ce[xe].parentId??"0";uo.hasOwnProperty(hr)?(Array.isArray(Ce[xe].examResultObjs)||(Ce[xe].examResultObjs=[]),Ce[xe].examResultObjs=this.findExamResultOfStudent(Ce[xe].examResultObjs?.concat(uo[hr])??[],Ce[xe].id??"0")):Ce[xe].examResultObjs=this.findExamResultOfStudent(Ce[xe].examResultObjs??[],Ce[xe].id??"0");let fr=this.filterExamResultByType(Ce[xe].examResultObjs??[],"first"),br=this.filterExamResultByType(Ce[xe].examResultObjs??[],"last"),vr=this.filterExamResultByType(Ce[xe].examResultObjs??[],"highest");_r.forEach(ns=>{if(ns.dataExam||(ns.dataExam=[]),ns.parentId==Ce[xe].parentId||ns.id.toString()==Ce[xe].id){let po=fr.hasOwnProperty(Ce[xe].parentId??0)?fr[Ce[xe].parentId??0]:void 0,go=br.hasOwnProperty(Ce[xe].parentId??0)?br[Ce[xe].parentId??0]:void 0,kr=vr.hasOwnProperty(Ce[xe].parentId??0)?vr[Ce[xe].parentId??0]:void 0,yr={id:se?.id??0,name:se?.name??"",firstPoint:po?this.checkMarkStatus(po,on):void 0,lastPoint:go?this.checkMarkStatus(go,on):void 0,highestPoint:kr?this.checkMarkStatus(kr,on):void 0};ns.dataExam.push(yr)}ns.dataExam.sort((po,go)=>(po.id??0)-(go.id??0))},_r)}break}et.next({status:200,success:1,data:_r,message:"successful"}),et.complete()}else et.next({status:Ei.code,success:0,data:A,message:Ei.message??""}),et.complete()}):(et.next({status:200,success:1,data:A,message:"successful"}),et.complete())}else et.next({status:xt.code,success:0,data:A,message:xt.message??""}),et.complete()})})}getAllExamResultObjs(i,u,_,v,A){this.examPageResultService.apiExamPageResultGetObjsV2Get(_,"export",v).subscribe(et=>{1==et.success?(et.data?.objs&&u.push(...et.data.objs),et.data?.nextPage?this.globalService.isStopIntervalFunc(i)?A({studentWithResultObjs:u,success:1}):setTimeout(()=>{this.getAllExamResultObjs(i,u,_,et.data?.nextPage??"",A)},300):A({studentWithResultObjs:u,success:1})):A({code:et.code,studentWithResultObjs:[],success:0,message:et.message??""})})}filterExamResultOnTest(i,u,_){var v={};return i.forEach(A=>{var et=this.commonService.myClone(A)??{};if(et.testStatus)v[et.userId??0]=et.testStatus;else if(et.startedTest&&_)if(u.endTime){var xt=Math.floor(new Date(u.endTime).getTime()/1e3);v[et.userId??0]=_<=xt+60*(u.minutes??0)+600?0:-1}else{var se=et.startedTest?Math.floor(new Date(et.startedTest).getTime()/1e3):0;v[et.userId??0]=_<=se+86400?0:-1}else v[et.userId??0]=0}),v}mergeStudentWithAvatar(i){var u=[];return i.forEach(_=>{var v=u.filter(et=>et.parentId==_.parentId);if(v&&0!=v.length)for(var A=0;A<u.length;A++)u[A].parentId==_.parentId&&(u[A].examResultObjs=u[A].examResultObjs?.concat(_.examResultObjs??[]));else u.push(_)}),u}findExamResultOfStudent(i,u){var _=[];return i.forEach(v=>{(v.studentId==u||null==v.studentId)&&_.push(v)}),_}createStudentWithResult(i,u,_){return{id:i.id,userId:i.parentId,studentId:i.id,identificationNumber:u.examResultStatisticObj?.offlineMarkInfoObj?.studentCode??0,offlineMixQuestionHashId:u.examResultStatisticObj?.offlineMarkInfoObj?.offlineMixquestionHashId??0,gender:i.gender,fullName:i.fullName,avatar:i.avatar,birthday:i.birthday,mark:u.hasOwnProperty("mark")?u.mark:null,confirmedAt:u.hasOwnProperty("confirmedAt")?u.confirmedAt:null,startedTest:u.hasOwnProperty("startedTest")?u.startedTest:null,createdAt:u.hasOwnProperty("createdAt")?u.createdAt:null,status:_,totalExamResultObjs:0,checkBoxGroupControl:new st.gE({isShow:new st.MJ(!1,{nonNullable:!0}),selectedCheckbox:new st.MJ(!1,{nonNullable:!0})})}}filterExamResultByType(i,u){var _={};if(i.length>1)i.forEach((A,et)=>{var xt=this.commonService.myClone(A);A.testStatus&&(xt.resultId=xt.id,xt.indexTest=et,"last"==u&&(_[xt.userId??0]=xt),"first"==u&&(_.hasOwnProperty(xt.userId??0)||(_[xt.userId??0]=xt)),"highest"==u)&&(_.hasOwnProperty(xt.userId??0)?(_[xt.userId??0].mark??-1)<=(xt.mark??-1)&&(_[xt.userId??0]=xt):_[xt.userId??0]=xt)});else{var v=this.commonService.myClone(i[0]??{});v.resultId=v.testStatus?v.id:0,v.indexTest=0,_[v.userId??0]=v}return _}hasEssay(i){let u=!1;for(let _=0;_<i.length;_++)if(this.answerTypeService.isEssayAnswer(i[_])){u=!0;break}return u}checkMarkStatus(i,u){return u?1==i.testStatus?i.confirmedAt?i.mark:-1:void 0:1==i.testStatus?i.mark:void 0}static#t=this.\u0275fac=function(u){return new(u||l)(t.KVO(Yi.R),t.KVO(Q.TE),t.KVO(ls.p),t.KVO(pi.r),t.KVO(Bi._),t.KVO(gi.Z))};static#e=this.\u0275prov=t.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var f=g(68323),V=g(78745),p=g(7919),C=g(60694);const I=["parent"];function M(l,x){if(1&l&&(t.j41(0,"div",10),t.nrm(1,"azt-loading-effect",11),t.k0s()),2&l){const i=t.XpG();t.R7$(1),t.Y8G("currentStatusObj",i.statusObj)}}function Y(l,x){if(1&l&&t.nrm(0,"azt-download-qr-code",30),2&l){const i=t.XpG(2);t.Y8G("fileName",i.convertNameForQR())("linkUrl",i.copyLinkToClipboard())("showLink",!i.isMobileDevice)}}function nt(l,x){if(1&l&&(t.j41(0,"button",33)(1,"span",34),t.nrm(2,"lucide-icon",35),t.k0s()()),2&l){t.XpG(3);const i=t.sdS(5);t.Y8G("matMenuTriggerFor",i)}}function Ft(l,x){if(1&l&&(t.j41(0,"div",31),t.DNE(1,nt,3,1,"button",32),t.k0s()),2&l){const i=t.XpG(2);t.R7$(1),t.Y8G("ngIf",null!=(null==i.classroomObj?null:i.classroomObj.permissionObj))}}function At(l,x){if(1&l&&(t.j41(0,"span",49),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l){const i=t.XpG(3);t.R7$(1),t.Lme("",t.bMT(2,2,"lang_auto_da_chon")," ",i.totalCheckboxSelected,"")}}const Ot=function(){return{"mr-2":!0}};function Re(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",50),t.bIt("click",function(){t.eBV(i);const _=t.XpG(3);return t.Njj(_.deleteListStudentDialog())}),t.nrm(1,"lucide-icon",51),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_xoa")," "))}const hi=function(){return{"mr-2 flex-none":!0}};function fi(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",52),t.bIt("click",function(){t.eBV(i);const _=t.XpG(3);return t.Njj(_.exportListStudent())}),t.nrm(1,"lucide-icon",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,hi)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_student_utils_export_list_student")," "))}function ms(l,x){1&l&&t.nrm(0,"azt-loading-ui",57)}function _s(l,x){1&l&&t.nrm(0,"lucide-icon",53),2&l&&t.Y8G("ngClass",t.lJ4(1,Ot))}function ds(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",54),t.bIt("click",function(){t.eBV(i);const _=t.XpG(3);return t.Njj(_.exportExcelForScoreOfClassroom())}),t.DNE(1,ms,1,0,"azt-loading-ui",55),t.DNE(2,_s,1,2,"lucide-icon",56),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()}if(2&l){const i=t.XpG(3);t.R7$(1),t.Y8G("ngIf",i.loadingExport),t.R7$(1),t.Y8G("ngIf",!i.loadingExport),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_auto_xuat_bang_diem")," ")}}function ho(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",58),t.bIt("click",function(){t.eBV(i);const _=t.XpG(3);return t.Njj(_.addStudentDialog(_.classroomObj))}),t.nrm(1,"lucide-icon",59),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function fo(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",60),t.bIt("click",function(){t.eBV(i);const _=t.XpG(3);return t.Njj(_.openDialogAutoNumbering())}),t.nrm(1,"lucide-icon",61),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_danh_so_bao_danh")," "))}function bo(l,x){if(1&l&&(t.j41(0,"button",62),t.nrm(1,"lucide-icon",35),t.k0s()),2&l){t.XpG(3);const i=t.sdS(5);t.Y8G("matMenuTriggerFor",i)}}function vo(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",36)(1,"div",37)(2,"div",38)(3,"azt-search-box",39),t.bIt("onSearch",function(_){t.eBV(i);const v=t.XpG(2);return t.Njj(v.onSearchBox(_.searchObj))}),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",40),t.DNE(6,At,3,4,"span",41),t.DNE(7,Re,4,5,"button",42),t.DNE(8,fi,4,5,"button",43),t.nI1(9,"viewPermission"),t.DNE(10,ds,5,5,"button",44),t.nI1(11,"viewPermission"),t.DNE(12,ho,4,5,"button",45),t.nI1(13,"editPermission"),t.DNE(14,fo,4,5,"button",46),t.nI1(15,"editPermission"),t.j41(16,"div",47),t.DNE(17,bo,2,1,"button",48),t.k0s()()()()}if(2&l){const i=t.XpG(2);t.R7$(3),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(4,9,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf",i.totalCheckboxSelected>0&&!(i.isMobileDevice||i.isMobileWebView)),t.R7$(1),t.Y8G("ngIf",i.totalCheckboxSelected>0&&!(i.isMobileDevice||i.isMobileWebView)),t.R7$(1),t.Y8G("ngIf",t.i5U(9,11,i.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(11,14,i.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(13,17,i.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(15,20,i.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",null!=(null==i.classroomObj?null:i.classroomObj.permissionObj))}}function ko(l,x){if(1&l){const i=t.RV6();t.j41(0,"input",88),t.bIt("change",function(){t.eBV(i);const _=t.XpG(4);return t.Njj(_.selectSingleStudent())}),t.k0s()}if(2&l){const i=t.XpG().$implicit;t.Y8G("formControl",i.checked)}}const Es=function(){return{"mr-1":!0}};function ws(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",93),t.bIt("click",function(){t.eBV(i);const _=t.XpG(2),v=_.index,A=_.$implicit,et=t.XpG(3);return t.Njj(et.onPositionChange("up",v-1,A.id,null==et.classroomObj?null:et.classroomObj.id))}),t.nrm(1,"lucide-icon",94),t.k0s()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(1,Es)))}function Co(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",93),t.bIt("click",function(){t.eBV(i);const _=t.XpG(2),v=_.index,A=_.$implicit,et=t.XpG(3);return t.Njj(et.onPositionChange("down",v+1,A.id,null==et.classroomObj?null:et.classroomObj.id))}),t.nrm(1,"lucide-icon",95),t.k0s()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(1,Es)))}function xo(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",89),t.DNE(1,ws,2,2,"button",90),t.j41(2,"input",91,92),t.bIt("keyup.enter",function(){t.eBV(i);const _=t.sdS(3),v=t.XpG(),A=v.index,et=v.$implicit,xt=t.XpG(3);return t.Njj(xt.onPositionChange(_.value,A,et.id,null==xt.classroomObj?null:xt.classroomObj.id))}),t.k0s(),t.DNE(4,Co,2,2,"button",90),t.k0s()}if(2&l){const i=t.XpG().index,u=t.XpG(3);t.R7$(1),t.Y8G("ngIf",0!=i),t.R7$(1),t.FS9("value",i+1),t.R7$(2),t.Y8G("ngIf",u.listStudents&&i!=u.listStudents.length-1)}}function To(l,x){if(1&l&&(t.j41(0,"div",96),t.EFF(1),t.k0s()),2&l){const i=t.XpG().index;t.R7$(1),t.SpI(" ",i+1," ")}}function Io(l,x){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l){const i=t.XpG().$implicit;t.R7$(1),t.E5c(" ",null==i.documentAttendedObj?null:i.documentAttendedObj.totalHomeworkAnswer," / ",null==i.totalDocumentObj?null:i.totalDocumentObj.totalHomework," ",t.bMT(2,3,"lang_student_classroom_list_detail_homework")," ")}}function So(l,x){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l){const i=t.XpG().$implicit;t.R7$(1),t.E5c(" ",null==i.documentAttendedObj?null:i.documentAttendedObj.totalExamResult," / ",null==i.totalDocumentObj?null:i.totalDocumentObj.totalExam," ",t.bMT(2,3,"lang_student_classroom_list_detail_exam")," ")}}function Rs(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",97),t.bIt("click",function(){t.eBV(i);const _=t.XpG().$implicit,v=t.XpG(3);return t.Njj(v.editStudentDialog(_))}),t.nrm(1,"lucide-icon",98),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_sua")," "))}function yo(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",99),t.bIt("click",function(){t.eBV(i);const _=t.XpG().$implicit,v=t.XpG(3);return t.Njj(v.deleteStudentDialog(_))}),t.nrm(1,"lucide-icon",100),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_button_delete")," "))}function jo(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",101),t.bIt("click",function(){t.eBV(i);const _=t.XpG().$implicit,v=t.XpG(3);return t.Njj(v.openDialogResetPass(_))}),t.nrm(1,"lucide-icon",102),t.j41(2,"span",69),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_core_dat_lai_mat_khau")))}function Oo(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",103),t.bIt("click",function(){t.eBV(i);const _=t.XpG().$implicit,v=t.XpG(3);return t.Njj(v.openDialogCreateUser(_))}),t.nrm(1,"lucide-icon",104),t.j41(2,"span",69),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_business_create_account")))}const Fs=function(l){return{opacity:l}};function Eo(l,x){if(1&l){const i=t.RV6();t.j41(0,"tr",73)(1,"td",74),t.DNE(2,ko,1,1,"input",75),t.k0s(),t.j41(3,"td",76),t.DNE(4,xo,5,3,"div",77),t.nI1(5,"editPermission"),t.DNE(6,To,2,1,"ng-template",null,78,t.C5r),t.k0s(),t.j41(8,"td",79),t.bIt("click",function(){const v=t.eBV(i).$implicit,A=t.XpG(3);return t.Njj(A.goToProfile(v.classroomId,v.id))}),t.nrm(9,"azt-student-info-box",80),t.k0s(),t.j41(10,"td",81),t.EFF(11),t.nI1(12,"formatStudentCodeToNumber"),t.k0s(),t.j41(13,"td",82),t.DNE(14,Io,3,5,"span",7),t.k0s(),t.j41(15,"td",82),t.DNE(16,So,3,5,"span",7),t.k0s(),t.j41(17,"td",82)(18,"div",83),t.DNE(19,Rs,4,5,"button",84),t.nI1(20,"editPermission"),t.DNE(21,yo,4,5,"button",85),t.nI1(22,"editPermission"),t.DNE(23,jo,5,5,"button",86),t.nI1(24,"editPermission"),t.DNE(25,Oo,5,5,"button",87),t.nI1(26,"editPermission"),t.k0s()()()}if(2&l){const i=x.$implicit,u=t.sdS(7),_=t.XpG(3);t.Y8G("ngStyle",t.eq3(42,Fs,null!=i.checked&&i.checked.value?"0.6":"1")),t.R7$(2),t.Y8G("ngIf",void 0!==i.checked),t.R7$(2),t.Y8G("ngIf",1==(null==_.classroomObj?null:_.classroomObj.sortType)&&t.i5U(5,24,_.classroomObj,"student"))("ngIfElse",u),t.R7$(5),t.Y8G("name",i.fullName)("parentFullName",i.parentFullName)("parentId",i.parentId)("parentPhone",i.parentPhone)("avatar",i.avatar)("identificationNumber",i.identificationNumber)("gender",i.gender)("hasUser",1==i.isVerified)("schoolName",i.schoolName)("classrooms",null==i.moreInfo?null:i.moreInfo.classrooms)("joinedAt",null==i.moreInfo?null:i.moreInfo.joinedAt)("phone",i.phone)("email",i.email),t.R7$(2),t.JRh(i.identificationNumber?t.i5U(12,27,i.identificationNumber,6):""),t.R7$(3),t.Y8G("ngIf",(null==i.documentAttendedObj?null:i.documentAttendedObj.totalHomeworkAnswer)||(null==i.totalDocumentObj?null:i.totalDocumentObj.totalHomework)),t.R7$(2),t.Y8G("ngIf",(null==i.documentAttendedObj?null:i.documentAttendedObj.totalExamResult)||(null==i.totalDocumentObj?null:i.totalDocumentObj.totalExam)),t.R7$(3),t.Y8G("ngIf",t.i5U(20,30,_.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(22,33,_.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(24,36,_.classroomObj,"student")&&_.isBusinessDomain&&i.parentId),t.R7$(2),t.Y8G("ngIf",t.i5U(26,39,_.classroomObj,"student")&&_.isBusinessDomain&&!i.parentId)}}const bi=function(){return["fullName","phone","email"]};function wo(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",63)(1,"drag-scroll")(2,"table",64)(3,"thead")(4,"tr",65)(5,"th")(6,"input",66),t.bIt("change",function(){t.eBV(i);const _=t.XpG(2);return t.Njj(_.selectAllStudentsObjs())}),t.k0s()(),t.j41(7,"th",67)(8,"div",68),t.nI1(9,"mytranslate"),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"th",69),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"th",70),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"th",71),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"th",71),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"th",71),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()(),t.j41(27,"tbody"),t.DNE(28,Eo,27,44,"tr",72),t.nI1(29,"appFilter"),t.k0s()()()()}if(2&l){const i=t.XpG(2);t.R7$(6),t.Y8G("formControl",i.isSelectAllFormControl),t.R7$(2),t.FCK("matTooltip","",t.bMT(9,13,"lang_student_classroom_list_detail_quantity"),": ",null!=i.classroomObj&&i.classroomObj.countStudents?null==i.classroomObj?null:i.classroomObj.countStudents:0,""),t.Y8G("matTooltipDisabled",i.isMobileDevice),t.R7$(2),t.E5c(" ",t.bMT(11,15,i.isMobileDevice?"":"lang_student_classroom_list_detail_quantity"),"",i.isMobileDevice?"":": ","",null!=i.classroomObj&&i.classroomObj.countStudents?null==i.classroomObj?null:i.classroomObj.countStudents:0," "),t.R7$(3),t.JRh(t.bMT(14,17,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(17,19,"lang_auto_so_bao_danh")),t.R7$(3),t.SpI(" ",t.bMT(20,21,"lang_auto_bai_tap_da_lam")," "),t.R7$(3),t.SpI(" ",t.bMT(23,23,"lang_auto_de_thi_da_lam")," "),t.R7$(3),t.JRh(t.bMT(26,25,"lang_auto_hanh_dong")),t.R7$(3),t.Y8G("ngForOf",t.brH(29,27,i.listStudents,i.searchContentObj.searchContent,t.lJ4(31,bi)))}}function Ro(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",110),t.bIt("click",function(){t.eBV(i);const _=t.XpG(3);return t.Njj(_.addStudentDialog(_.classroomObj))}),t.nrm(1,"lucide-icon",59),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function Fo(l,x){if(1&l&&(t.j41(0,"div",105)(1,"div",106),t.nrm(2,"azt-svg-icon",107),t.j41(3,"div",108),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,Ro,4,5,"button",109),t.nI1(7,"editPermission"),t.k0s()()),2&l){const i=t.XpG(2);let u;t.R7$(2),t.Y8G("size",82),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_student_classroom_list_detail_not_student")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(7,5,i.classroomObj,"student")&&0==(null!==(u=null==i.listStudents?null:i.listStudents.length)&&void 0!==u?u:0))}}function Mo(l,x){if(1&l){const i=t.RV6();t.j41(0,"div")(1,"input",66),t.bIt("change",function(){t.eBV(i);const _=t.XpG(2);return t.Njj(_.selectAllStudentsObjs())}),t.k0s(),t.j41(2,"span",111),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&l){const i=t.XpG(2);t.R7$(1),t.Y8G("formControl",i.isSelectAllFormControl),t.R7$(2),t.JRh(t.bMT(4,2,"lang_auto_tat_ca"))}}const us=function(l){return{"w-full":l}};function Do(l,x){if(1&l&&(t.j41(0,"span",112),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(5,us,i.isMobileDevice||i.isMobileWebView)),t.R7$(1),t.Lme("",t.bMT(2,3,"lang_auto_da_chon")," ",i.totalCheckboxSelected,"")}}function Ms(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",113),t.bIt("click",function(){t.eBV(i);const _=t.XpG(2);return t.Njj(_.deleteListStudentDialog())}),t.nrm(1,"lucide-icon",51),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_xoa")," "))}function Go(l,x){if(1&l){const i=t.RV6();t.j41(0,"input",88),t.bIt("change",function(){t.eBV(i);const _=t.XpG(3);return t.Njj(_.selectSingleStudent())}),t.k0s()}if(2&l){const i=t.XpG().$implicit;t.Y8G("formControl",i.checked)}}function nn(l,x){if(1&l&&(t.j41(0,"a",128),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"formatStudentCodeToNumber"),t.nI1(6,"mytranslate"),t.EFF(7),t.k0s()),2&l){const i=t.XpG().$implicit;t.Tbm("matTooltip","\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(1,7,"lang_first_and_last_name"),": ",i.fullName,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(2,9,"lang_number_phone"),": ",i.phone?i.phone:t.bMT(3,11,"lang_not_data"),"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(4,13,"lang_auto_so_bao_danh"),": ",i.identificationNumber?t.i5U(5,15,i.identificationNumber,6):t.bMT(6,18,"lang_not_data"),""),t.R7$(7),t.SpI(" ",i.fullName," \xa0 ")}}function si(l,x){if(1&l&&(t.j41(0,"div",129),t.EFF(1),t.k0s()),2&l){const i=t.XpG().$implicit;t.R7$(1),t.SpI(" ",i.phone," ")}}function No(l,x){if(1&l&&(t.j41(0,"div",130),t.EFF(1),t.k0s()),2&l){const i=t.XpG().$implicit;t.FS9("matTooltip",i.email),t.R7$(1),t.SpI(" ",i.email," ")}}function Ds(l,x){if(1&l){const i=t.RV6();t.j41(0,"a",138),t.bIt("click",function(){t.eBV(i);const _=t.XpG(2).$implicit,v=t.XpG(2);return t.Njj(v.editStudentDialog(_))}),t.nrm(1,"lucide-icon",98),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_sua")," "))}function $o(l,x){if(1&l){const i=t.RV6();t.j41(0,"a",139),t.bIt("click",function(){t.eBV(i);const _=t.XpG(2).$implicit,v=t.XpG(2);return t.Njj(v.deleteStudentDialog(_))}),t.nrm(1,"lucide-icon",140),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_button_delete")," "))}function zo(l,x){if(1&l){const i=t.RV6();t.j41(0,"a",142),t.bIt("click",function(){t.eBV(i);const _=t.XpG(3).$implicit,v=t.XpG(2);return t.Njj(v.openDialogResetPass(_))}),t.nrm(1,"lucide-icon",143),t.j41(2,"span",69),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_core_dat_lai_mat_khau")))}function Po(l,x){if(1&l&&(t.j41(0,"li"),t.DNE(1,zo,5,5,"a",141),t.nI1(2,"editPermission"),t.k0s()),2&l){const i=t.XpG(2).$implicit,u=t.XpG(2);t.R7$(1),t.Y8G("ngIf",t.i5U(2,1,u.classroomObj,"student")&&i.parentId)}}const Wt=function(){return{"text-slate-500":!0}};function oi(l,x){if(1&l&&(t.j41(0,"div",131)(1,"a",132),t.nrm(2,"lucide-icon",133),t.k0s(),t.j41(3,"mat-menu",null,134)(5,"div",135)(6,"ul",6)(7,"li"),t.DNE(8,Ds,4,5,"a",136),t.nI1(9,"editPermission"),t.k0s(),t.j41(10,"li"),t.DNE(11,$o,4,5,"a",137),t.nI1(12,"editPermission"),t.k0s(),t.DNE(13,Po,3,4,"li",7),t.k0s()()()()),2&l){const i=t.sdS(4),u=t.XpG(3);t.R7$(1),t.Y8G("matMenuTriggerFor",i),t.R7$(1),t.Y8G("ngClass",t.lJ4(11,Wt)),t.R7$(6),t.Y8G("ngIf",t.i5U(9,5,u.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",t.i5U(12,8,u.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",u.isBusinessDomain)}}function Ao(l,x){1&l&&(t.j41(0,"div",149)(1,"span",150),t.nrm(2,"lucide-icon",151),t.k0s(),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()),2&l&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"lang_auto_co_tai_khoan")," "))}function vi(l,x){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l){const i=t.XpG(2).$implicit;t.R7$(1),t.E5c(" ",null==i.documentAttendedObj?null:i.documentAttendedObj.totalHomeworkAnswer," / ",null==i.totalDocumentObj?null:i.totalDocumentObj.totalHomework," ",t.bMT(2,3,"lang_student_classroom_list_detail_homework")," ")}}function pe(l,x){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l){const i=t.XpG(2).$implicit;t.R7$(1),t.E5c(" ",null==i.documentAttendedObj?null:i.documentAttendedObj.totalExamResult," / ",null==i.totalDocumentObj?null:i.totalDocumentObj.totalExam," ",t.bMT(2,3,"lang_student_classroom_list_detail_exam")," ")}}function ki(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",93),t.bIt("click",function(){t.eBV(i);const _=t.XpG(3),v=_.index,A=_.$implicit,et=t.XpG(2);return t.Njj(et.onPositionChange("up",v-1,A.id,null==et.classroomObj?null:et.classroomObj.id))}),t.nrm(1,"lucide-icon",154),t.k0s()}}function Gs(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",93),t.bIt("click",function(){t.eBV(i);const _=t.XpG(3),v=_.index,A=_.$implicit,et=t.XpG(2);return t.Njj(et.onPositionChange("down",v+1,A.id,null==et.classroomObj?null:et.classroomObj.id))}),t.nrm(1,"lucide-icon",155),t.k0s()}}function Lo(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",144)(1,"div",152)(2,"div",153),t.DNE(3,ki,2,0,"button",90),t.j41(4,"input",91,92),t.bIt("keyup.enter",function(){t.eBV(i);const _=t.sdS(5),v=t.XpG(2),A=v.index,et=v.$implicit,xt=t.XpG(2);return t.Njj(xt.onPositionChange(_.value,A,et.id,null==xt.classroomObj?null:xt.classroomObj.id))}),t.k0s(),t.DNE(6,Gs,2,0,"button",90),t.k0s()()()}if(2&l){const i=t.XpG(2).index,u=t.XpG(2);t.R7$(3),t.Y8G("ngIf",0!=i),t.R7$(1),t.FS9("value",i+1),t.R7$(2),t.Y8G("ngIf",u.listStudents&&i!=u.listStudents.length-1)}}function Yo(l,x){if(1&l&&(t.j41(0,"div")(1,"div",144)(2,"div",145),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",146),t.EFF(6),t.nI1(7,"formatStudentCodeToNumber"),t.k0s()(),t.j41(8,"div",144)(9,"div",145),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"div",146),t.EFF(13),t.nI1(14,"mytranslate"),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",144)(17,"div",145),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"div",146),t.EFF(21),t.nI1(22,"formatOnlyDateByUserUnitPipe"),t.k0s()(),t.j41(23,"div",144)(24,"div",145),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"div",146),t.DNE(28,Ao,5,3,"div",147),t.k0s()(),t.j41(29,"div",144)(30,"div",145),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.j41(33,"div",146),t.DNE(34,vi,3,5,"span",7),t.k0s()(),t.j41(35,"div",144)(36,"div",145),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s(),t.j41(39,"div",146),t.DNE(40,pe,3,5,"span",7),t.k0s()(),t.DNE(41,Lo,7,3,"div",148),t.nI1(42,"editPermission"),t.k0s()),2&l){const i=t.XpG().$implicit,u=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,13,"lang_auto_so_bao_danh")," "),t.R7$(3),t.SpI(" ",i.identificationNumber?t.i5U(7,15,i.identificationNumber,6):""," "),t.R7$(4),t.SpI(" ",t.bMT(11,18,"lang_gender")," "),t.R7$(3),t.SpI(" ",0==i.gender?t.bMT(14,20,"lang_auto_nu"):t.bMT(15,22,"lang_auto_nam")," "),t.R7$(5),t.SpI(" ",t.bMT(19,24,"lang_birthday")," "),t.R7$(3),t.SpI(" ",t.bMT(22,26,i.birthday)," "),t.R7$(4),t.SpI(" ",t.bMT(26,28,"lang_testbank_folder_and_file_status")," "),t.R7$(3),t.Y8G("ngIf",1==i.isVerified),t.R7$(3),t.SpI(" ",t.bMT(32,30,"lang_auto_bai_tap_da_lam")," "),t.R7$(3),t.Y8G("ngIf",(null==i.documentAttendedObj?null:i.documentAttendedObj.totalHomeworkAnswer)||(null==i.totalDocumentObj?null:i.totalDocumentObj.totalHomework)),t.R7$(3),t.SpI(" ",t.bMT(38,32,"lang_auto_de_thi_da_lam")," "),t.R7$(3),t.Y8G("ngIf",(null==i.documentAttendedObj?null:i.documentAttendedObj.totalExamResult)||(null==i.totalDocumentObj?null:i.totalDocumentObj.totalExam)),t.R7$(1),t.Y8G("ngIf",1==(null==u.classroomObj?null:u.classroomObj.sortType)&&t.i5U(42,34,u.classroomObj,"student"))}}function Bo(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",114)(1,"div",115),t.DNE(2,Go,1,1,"input",75),t.j41(3,"div",116)(4,"div",117),t.bIt("click",function(){const v=t.eBV(i).$implicit,A=t.XpG(2);return t.Njj(A.goToProfile(v.classroomId,v.id))}),t.j41(5,"div",118),t.nrm(6,"azt-create-avatar",119),t.nI1(7,"anonymousPhone"),t.nI1(8,"mycdn"),t.k0s(),t.j41(9,"div",120),t.DNE(10,nn,8,20,"a",121),t.DNE(11,si,2,1,"div",122),t.DNE(12,No,2,2,"div",123),t.k0s()(),t.DNE(13,oi,14,12,"div",124),t.nI1(14,"editPermission"),t.k0s(),t.j41(15,"button",125),t.bIt("click",function(){const v=t.eBV(i).index,A=t.XpG(2);return t.Njj(A.toggleExpandedContent(v))}),t.j41(16,"span"),t.nrm(17,"lucide-icon",126),t.k0s()()(),t.j41(18,"div",127),t.DNE(19,Yo,43,37,"div",7),t.k0s()()}if(2&l){const i=x.$implicit,u=x.index,_=t.XpG(2);t.Y8G("ngStyle",t.eq3(21,Fs,null!=i.checked&&i.checked.value?"0.6":"1")),t.R7$(2),t.Y8G("ngIf",void 0!==i.checked),t.R7$(4),t.Mz_("matTooltip","",0==i.parentId||1==i.isAnonymous?null:" Id: "+i.parentId+(""!=t.bMT(7,14,i.parentPhone)?" - Phone: "+i.parentPhone:"")+" - Name: "+i.parentFullName," "),t.Y8G("nameCreateAvatar",i.fullName)("linkAvatar",t.bMT(8,16,i.avatar))("size",36),t.R7$(4),t.Y8G("ngIf",i.fullName),t.R7$(1),t.Y8G("ngIf",i.phone),t.R7$(1),t.Y8G("ngIf",i.email),t.R7$(1),t.Y8G("ngIf",t.i5U(14,18,_.classroomObj,"student")),t.R7$(3),t.AVh("rotate-180",_.expandedItemIndex===u),t.R7$(2),t.Y8G("@expandCollapse",_.expandedItemIndex===u?"open":"closed"),t.R7$(1),t.Y8G("ngIf",_.expandedItemIndex===u)}}function ne(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",157),t.bIt("click",function(){t.eBV(i);const _=t.XpG(3);return t.Njj(_.addStudentDialog(_.classroomObj))}),t.nrm(1,"lucide-icon",158),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function Ns(l,x){if(1&l&&(t.j41(0,"div",105)(1,"div",106),t.nrm(2,"azt-svg-icon",107),t.j41(3,"div",108),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,ne,4,5,"button",156),t.nI1(7,"editPermission"),t.k0s()()),2&l){const i=t.XpG(2);let u;t.R7$(2),t.Y8G("size",82),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_student_classroom_list_detail_not_student")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(7,5,i.classroomObj,"student")&&0==(null!==(u=null==i.listStudents?null:i.listStudents.length)&&void 0!==u?u:0))}}const $s=function(l){return{"flex-wrap":l}};function Vo(l,x){if(1&l&&(t.j41(0,"div",12)(1,"div",13)(2,"h2",14),t.EFF(3),t.k0s(),t.j41(4,"span",15),t.EFF(5),t.k0s(),t.DNE(6,Y,1,3,"azt-download-qr-code",16),t.k0s(),t.j41(7,"div",13),t.nrm(8,"azt-share",17),t.DNE(9,Ft,2,1,"div",18),t.k0s()(),t.DNE(10,vo,18,23,"div",19),t.j41(11,"div",20)(12,"div",21),t.DNE(13,wo,30,32,"div",22),t.nI1(14,"appFilter"),t.DNE(15,Fo,8,8,"div",23),t.nI1(16,"appFilter"),t.k0s(),t.j41(17,"div",24)(18,"div",25),t.DNE(19,Mo,5,4,"div",7),t.j41(20,"div",26),t.DNE(21,Do,3,7,"span",27),t.DNE(22,Ms,4,5,"button",28),t.k0s()(),t.DNE(23,Bo,20,23,"div",29),t.nI1(24,"appFilter"),t.DNE(25,Ns,8,8,"div",23),t.nI1(26,"appFilter"),t.k0s()()),2&l){const i=t.XpG();t.Y8G("ngClass",t.eq3(36,$s,i.isMobileDevice||i.isMobileWebView)),t.R7$(1),t.Y8G("ngClass",t.eq3(38,us,i.isMobileDevice||i.isMobileWebView)),t.R7$(2),t.SpI(" ",null==i.classroomObj?null:i.classroomObj.name," "),t.R7$(2),t.SpI("( ",null==i.classroomObj?null:i.classroomObj.year," )"),t.R7$(1),t.Y8G("ngIf",i.joinClassroomLink),t.R7$(1),t.Y8G("ngClass",t.eq3(40,us,i.isMobileDevice||i.isMobileWebView)),t.R7$(1),t.Y8G("backToLink",i.backToLink)("objectCodeType",1)("objectCode","CLASSROOM")("objectId",i.classroomId)("classroomWithPermissionObj",i.classroomObj),t.R7$(1),t.Y8G("ngIf",!i.hasStudents||!(null!=i.listStudents&&i.listStudents.length)),t.R7$(1),t.Y8G("ngIf",i.hasStudents||(null==i.listStudents?null:i.listStudents.length)),t.R7$(3),t.Y8G("ngIf",t.brH(14,20,i.listStudents,i.searchContentObj.searchContent,t.lJ4(42,bi)).length>0),t.R7$(2),t.Y8G("ngIf",!i.hasStudents||0==t.brH(16,24,i.listStudents,i.searchContentObj.searchContent,t.lJ4(43,bi)).length),t.R7$(4),t.Y8G("ngIf",i.listStudents&&i.listStudents.length>0),t.R7$(2),t.Y8G("ngIf",i.totalCheckboxSelected>0),t.R7$(1),t.Y8G("ngIf",i.totalCheckboxSelected>0),t.R7$(1),t.Y8G("ngForOf",t.brH(24,28,i.listStudents,i.searchContentObj.searchContent,t.lJ4(44,bi))),t.R7$(2),t.Y8G("ngIf",!i.hasStudents||0==t.brH(26,32,i.listStudents,i.searchContentObj.searchContent,t.lJ4(45,bi)).length)}}function zs(l,x){if(1&l){const i=t.RV6();t.j41(0,"li")(1,"button",159),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.goToMergeStudent(null==_.classroomObj?null:_.classroomObj.id))}),t.nrm(2,"lucide-icon",160),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_student_classroom_list_detail_merge_student")," "))}const sn=function(){return{"ml-1 text-success":!0}};function Ps(l,x){1&l&&(t.j41(0,"span",164),t.nrm(1,"lucide-icon",165),t.k0s()),2&l&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(1,sn)))}function As(l,x){if(1&l){const i=t.RV6();t.j41(0,"li")(1,"button",161),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.changeSortType(0))}),t.nrm(2,"lucide-icon",162),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,Ps,2,2,"span",163),t.k0s()()}if(2&l){const i=t.XpG();t.R7$(2),t.Y8G("ngClass",t.lJ4(5,Ot)),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_student_classroom_list_detail_sort_name")," "),t.R7$(2),t.Y8G("ngIf",0==(null==i.classroomObj?null:i.classroomObj.sortType))}}function Uo(l,x){1&l&&t.nrm(0,"lucide-icon",165),2&l&&t.Y8G("ngClass",t.lJ4(1,sn))}function Xo(l,x){if(1&l){const i=t.RV6();t.j41(0,"li")(1,"button",166),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.changeSortType(1))}),t.nrm(2,"lucide-icon",167),t.j41(3,"span",168),t.nI1(4,"mytranslate"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,Uo,1,2,"lucide-icon",169),t.k0s()()}if(2&l){const i=t.XpG();t.R7$(2),t.Y8G("ngClass",t.lJ4(8,Ot)),t.R7$(1),t.FS9("matTooltip",t.bMT(4,4,"lang_student_classroom_list_detail_request")),t.R7$(2),t.JRh(t.bMT(6,6,"lang_student_classroom_list_detail_change")),t.R7$(2),t.Y8G("ngIf",0!=(null==i.classroomObj?null:i.classroomObj.sortType))}}function Wo(l,x){if(1&l){const i=t.RV6();t.j41(0,"li",170)(1,"button",171),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.openDialogAutoNumbering())}),t.nrm(2,"lucide-icon",172),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_danh_so_bao_danh")," "))}function Ho(l,x){if(1&l){const i=t.RV6();t.j41(0,"li",170)(1,"button",173),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.exportListStudent())}),t.nrm(2,"lucide-icon",174),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_student_utils_export_list_student")," "))}function Jo(l,x){if(1&l){const i=t.RV6();t.j41(0,"li",170)(1,"button",173),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.exportExcelForScoreOfClassroom())}),t.nrm(2,"lucide-icon",174),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Ot)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_xuat_bang_diem")," "))}function Ko(l,x){if(1&l){const i=t.RV6();t.j41(0,"li")(1,"div",175),t.bIt("click",function(_){return _.stopPropagation()}),t.j41(2,"input",176),t.bIt("change",function(){t.eBV(i);const _=t.XpG();let v;return t.Njj(_.changeAnonymousStudentStatus(null!==(v=null==_.classroomObj?null:_.classroomObj.id)&&void 0!==v?v:0,_.checkAddStudent.value))}),t.k0s(),t.j41(3,"label",177),t.EFF(4),t.nI1(5,"mytranslate"),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&l){const i=t.XpG();t.R7$(2),t.Y8G("formControl",i.checkAddStudent)("checked",1==(null==i.classroomObj?null:i.classroomObj.showAddStudent)),t.R7$(2),t.SpI(" ",i.checkAddStudent.value?t.bMT(5,3,"lang_student_classroom_list_detail_on"):t.bMT(6,5,"lang_student_classroom_list_detail_off")," ")}}function Qo(l,x){if(1&l){const i=t.RV6();t.j41(0,"azt-export-excel-for-student-list",178),t.bIt("exportDataDone",function(_){t.eBV(i);const v=t.XpG();return t.Njj(v.exportStudentListDone(_))}),t.k0s()}if(2&l){const i=t.XpG();t.Y8G("objs",i.exportStudentObjs)}}let ps=(()=>{class l extends a.H{onSearchBox(i){this.searchContentObj=i}toggleExpandedContent(i){this.expandedItemIndex=this.expandedItemIndex===i?-1:i}copyLinkToClipboard(){return this.joinClassroomLink}convertNameForQR(){return"QR_Join_Classroom_"+this.commonService.convertVietnameseToEnglish(this.classroomObj?.name??this.classroomObj?.hashId??"")}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.listStudents)}exportStudentListDone(i){let u=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(i,u)}exportExcelForScoreOfClassroom(){this.loadingExport=!0;let i="";Ne.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??""),this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataGetAllExamObjsOfClassroomIdGet(Number(this.classroomId)).subscribe(u=>{1==u.success?u.data?.objs&&u.data?.objs.length?this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(_=>{if(1==_.success){let v=_.data?.objs??new Array;this.prepareDataForExportScore(u.data?.objs??[],v).subscribe(A=>{let et=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"",xt=this.commonService.createFileNameExportFile([et,this.classroomObj?.name??""]);if(this.commonService.myTranslate(["lang_auto_tap_tin_dang_duoc_tai_xuong"]).subscribe(se=>{i=se.lang_auto_tap_tin_dang_duoc_tai_xuong,Ne.L.changeMsgLoadingEffect(i)}),this.classroomObj){const se=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,A,u.data?.objs);this.shareFileFlutterService.shareFileWithBlob(se,xt+".xlsx")}Ne.L.closeLoadingEffect(200),this.loadingExport=!1})}else this.errorStatusObj(_.message??"",!0),Ne.L.closeLoadingEffect(10),this.loadingExport=!1})):this.exportExcelForScoreHomeworkOfClassroom():(this.errorStatusObj(u.message,!0),Ne.L.closeLoadingEffect(10),this.loadingExport=!1)}))}exportExcelForScoreHomeworkOfClassroom(){this.loadingExport=!0;let i=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"";this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(u=>{if(1==u.success){let _=this.commonService.createFileNameExportFile([i,this.classroomObj?.name??""]);if(this.classroomObj){const v=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,u.data?.objs??[]);this.shareFileFlutterService.shareFileWithBlob(v,_+".xlsx")}}else this.errorStatusObj(u.message??"",!0);Ne.L.closeLoadingEffect(10),this.loadingExport=!1}))}prepareDataForExportScore(i,u){return new Dn.c(_=>{let v=this.commonService.myTranslateInstant("lang_export_classroom_score_counter_message")??"",A=0,et=i.length,xt=se=>{A<et?(Ne.L.changeMsgLoadingEffect(v+i[A].name+" ("+(A+1)+"/"+et+")"),this.waitDestroy(this.exportClassroomScoreApiService.getTestedAllResultByClassroomId("export_classroom",i[A].id??0,this.classroomId,se).subscribe(on=>{1==on.success?(on.data&&(se=[...on.data]),A++,xt(se)):_.error(on.message)}))):(_.next(se),_.complete())};xt(u)})}getNoticeObjsRequest(){this.waitDestroy(this.noticeService.apiNoticeGetAllNoticeRequestForClassGet(this.classroomId).subscribe(i=>{1==i.success?(i.data?.objs?.length??0)>0&&this.sAztDialogService.open(kn,{width:"750px",data:{noticeObjs:i.data?.objs??[],classroomObj:this.classroomObj},restoreFocus:!1}):this.showErrorSnack("lang_auto_loi_khong_load_duoc_du_lieu_lop_hoc")}))}changeSortType(i){this.waitDestroy(this.classroomService.apiClassroomChangeSortTypeGet(this.classroomId,i).subscribe(u=>{1==u.success?(this.checkSortListStudent(i),this.classroomObj?.sortType&&(this.classroomObj.sortType=i),this.getData()):this.errorStatusObj(u.message,!0)}))}checkSortListStudent(i){this.listStudents=0==i?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.rawStudentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.rawStudentObjs)??[],"pos","id"),this.listStudents?.forEach(u=>{u.checked=new st.MJ(!1,{nonNullable:!0})})}onPositionChange(i,u,_,v){let A="up"==i?1:"down"==i?2:3,et=3==A?i??"":"",xt=parseInt(et,10);this.waitDestroy(this.classroomService.apiClassroomChangePositionStudentGet(Number(3!=A?u:xt),Number(_),Number(v),Number(A)).subscribe(on=>{1==on.success?this.getData():this.showErrorSnack(""==et&&3==A?"lang_auto_loi_nhap_so_de_thay_doi_vi_tri_hs":"lang_auto_loi_khong_the_doi_vi_tri_hs")}))}changeAnonymousStudentStatus(i,u){this.waitDestroy(u?this.classroomService.apiClassroomChangeShowAddStudentGet(i,1).subscribe(_=>{1==_.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(_.message,!0)}):this.classroomService.apiClassroomChangeShowAddStudentGet(i,0).subscribe(_=>{1==_.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(_.message,!0)}))}addStudentDialog(i){this.sAztDialogService.open($n,{width:"750px",data:{studentObjs:this.listStudents,classroomObj:i},restoreFocus:!1}).afterClosed().subscribe(_=>{_&&this.getData()})}deleteStudentDialog(i){this.sAztDialogService.open(di.d,{data:{studentObj:i,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(_=>{_&&this.getData()})}deleteListStudentDialog(){let i=this.listStudents?.filter(_=>_.checked?.value);this.sAztDialogService.open(zn,{data:{listStudentObjs:i,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(_=>{_&&this.getData()})}editStudentDialog(i){this.sAztDialogService.open(Ni.B,{data:{studentObj:i,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(_=>{_&&this.getData()})}openDialogAutoNumbering(){this.sAztDialogService.open(we.O,{data:{needGetClassroomGroups:!1,type:2,listCheckBox:this.classroomObj?.id?[this.classroomObj.id]:[],totalStudent:this.classroomObj?.countStudents},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(u=>{u&&this.getData()})}openDialogCheckboxMonth(i){this.sAztDialogService.open(Gn,{width:"454px",restoreFocus:!1,data:i.id}).afterClosed().subscribe(u=>{u&&this.getListStudentApiNew()})}goToProfile(i,u){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+i+"/"+u,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${i}/0`))}goToMergeStudent(i){this.commonService.myNavigation("/admin/student/merge-student/"+i)}translateExportNote(){let i="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),u="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),_="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),v="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four");this.export=[i,u,_,v]}openDialogResetPass(i){this.sAztDialogService.open(Wn.$,{width:"500px",restoreFocus:!1,data:{id:i.parentId,name:i.fullName}}).afterClosed().subscribe(u=>{u&&this.getData()})}openDialogCreateUser(i){this.sAztDialogService.open(wn,{width:"500px",restoreFocus:!1,data:{student:i}}).afterClosed().subscribe(u=>{u&&this.getData()})}getData(){this.initStatusObj(),this.resetCheckboxesStatus(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.classroomId).subscribe(i=>{if(1==i.success){this.classroomObj=i?.data?.classroomObj,this.permissionObj=this.classroomObj?.permissionObj,this.checkAddStudent.setValue(1==this.classroomObj?.showAddStudent),this.rawStudentObjs=i?.data?.studentObjs,this.checkSortListStudent(i?.data?.classroomObj?.sortType);let _=this.commonService.getCurrentDomain();this.joinClassroomLink=`${_}/${this.commonService.getCurrentLang()}/student/join-classroom/${this.classroomObj?.hashId}`,this.hasStudents=!!i.data?.studentObjs.length,this.getListStudentApiNew(),this.getNoticeObjsRequest(),this.successStatusObj()}else this.errorStatusObj(i.message,!0)}))}getListStudentApiNew(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:this.listStudents?.length??0,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:!1,getAssessment:!1}).subscribe(u=>{u?u.list.forEach(_=>{var v=this.listStudents?.find(A=>A.id==_.id);v&&(v.lastMonthPaid=_.lastMonthPaid,v.lastYearPaid=_.lastYearPaid,v.schoolName=_.schoolName,v.facebookLink=v.moreInfo?.facebookLink)}):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}selectAllStudentsObjs(){this.listStudents?.forEach(i=>{i.checked?.setValue(this.isSelectAllFormControl.value)}),this.selectSingleStudent()}selectSingleStudent(){this.totalCheckboxSelected=this.listStudents?.filter(i=>i.checked?.value)?.length??0,this.isSelectAllFormControl.setValue(this.totalCheckboxSelected===this.listStudents?.length&&this.totalCheckboxSelected>0)}resetCheckboxesStatus(){this.totalCheckboxSelected=0,this.isSelectAllFormControl.setValue(!1)}ngOnInit(){super.ngOnInit(),this.translateExportNote(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"));let i=this.commonService.getMyQueryParam("backto");this.backToLink=i||"/admin/student/manage-classroom/0",this.getData()}constructor(i,u,_,v,A,et,xt,se,on,es,Ei){super(),this.shareFileFlutterService=i,this.classroomService=u,this.classroomExportDataService=_,this.noticeService=v,this.activeRoute=A,this.sortService=et,this.studentProfileV2Service=xt,this.exportExcelService=se,this.sAztDialogService=on,this.studentService=es,this.exportClassroomScoreApiService=Ei,this.checkAddStudent=new st.MJ(!1,{nonNullable:!0}),this.backToLink="",this.classroomId=0,this.export=[""],this.hasStudents=!1,this.loadingExport=!1,this.expandedItemIndex=-1,this.joinClassroomLink="",this.totalCheckboxSelected=0,this.isSelectAllFormControl=new st.MJ(!1,{nonNullable:!0}),this.searchContentObj=new Lt.Z,this.form=new st.gE({startIdentifyIndex:new st.MJ("",{nonNullable:!0,validators:[st.k0.min(1),st.k0.max(999999),st.k0.pattern(/^[0-9]*$/)]})})}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(Ri.R),t.rXU(T.zS),t.rXU(tn.$F),t.rXU(Pn.eI),t.rXU(j.nX),t.rXU(xn.g),t.rXU(tn.m_),t.rXU(Li.x),t.rXU(ee.i),t.rXU(Ln.b),t.rXU(cs))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-student-list"]],viewQuery:function(u,_){if(1&u&&t.GBs(I,5),2&u){let v;t.mGM(v=t.lsd())&&(_.slider=v.first)}},features:[t.Vt3],decls:19,vars:19,consts:[[1,"grid","grid-cols-12","mt-5"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menu","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],[4,"ngIf"],["class","block lg:hidden",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],[1,"col-span-12","intro-y","flex","justify-between","items-center","mb-5",3,"ngClass"],[1,"flex","items-center",3,"ngClass"],[1,"text-lg","font-medium","mr-2"],[1,"mr-2"],[3,"fileName","linkUrl","showLink",4,"ngIf"],[3,"backToLink","objectCodeType","objectCode","objectId","classroomWithPermissionObj"],["class","dropdown ml-2 mt-2 sm:mt-0",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[1,"azt-hidden","md:block"],["style","height: 100%",4,"ngIf"],["class","box p-3 flex items-center","style","min-height: 216px",4,"ngIf"],[1,"md:hidden"],[1,"flex","mt-3",2,"justify-content","space-between"],[1,"flex","items-center"],["class","inline-block mr-2",3,"ngClass",4,"ngIf"],["azt-track-service","student-list-zQB1VhlhP6","class","btn btn-sm btn-danger mr-2",3,"click",4,"ngIf"],["class","box p-3 mt-3",3,"ngStyle",4,"ngFor","ngForOf"],[3,"fileName","linkUrl","showLink"],[1,"dropdown","ml-2","mt-2","sm:mt-0"],["class","dropdown-toggle btn btn-sm btn-outline-secondary",3,"matMenuTriggerFor",4,"ngIf"],[1,"dropdown-toggle","btn","btn-sm","btn-outline-secondary",3,"matMenuTriggerFor"],[1,"flex","items-center","justify-center"],["name","settings","size","18"],[1,"col-span-12"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"isServerSearch","placeholder","onSearch"],[1,"w-full","sm:w-auto","flex","items-center"],["class","inline-block mr-2",4,"ngIf"],["azt-track-service","student-list-1PSK0ENR-","class","btn btn-danger mr-2",3,"click",4,"ngIf"],["azt-track-service","class-list-details-s9VkYOpJZKc","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details--hDdQw7XTpD","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mr-2 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-_DnbWckI_DG","class","btn px-2 box shadow-md mr-2 azt-hidden md:flex hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],[1,"dropdown"],["class","dropdown-toggle btn px-2 box",3,"matMenuTriggerFor",4,"ngIf"],[1,"inline-block","mr-2"],["azt-track-service","student-list-1PSK0ENR-",1,"btn","btn-danger","mr-2",3,"click"],["name","trash-2","size","16",3,"ngClass"],["azt-track-service","class-list-details-s9VkYOpJZKc",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["name","file-text","size","18",3,"ngClass"],["azt-track-service","class-list-details--hDdQw7XTpD",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["class","mr-1",4,"ngIf"],["name","file-text","size","18",3,"ngClass",4,"ngIf"],[1,"mr-1"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mr-2","w-full","sm:w-auto",3,"click"],["name","plus","size","18",3,"ngClass"],["azt-track-service","class-list-details-_DnbWckI_DG",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","md:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary","size","18",3,"ngClass"],[1,"dropdown-toggle","btn","px-2","box",3,"matMenuTriggerFor"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-5",2,"white-space","initial","display","table"],[1,"box"],["type","checkbox",1,"form-check-input",3,"formControl","change"],[1,"text-center",2,"width","60px","padding","0 !important"],[2,"width","60px",3,"matTooltipDisabled","matTooltip"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-center",2,"width","30px"],["class","form-check-input flex-none","type","checkbox",3,"formControl","change",4,"ngIf"],[2,"width","60px","padding","5px 5px 5px 0"],["style","width: 100%; text-align: center; border-right: 1px solid #ccc; display: inline-grid; padding: 5px",4,"ngIf","ngIfElse"],["sttStudent",""],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","identificationNumber","gender","hasUser","schoolName","classrooms","joinedAt","phone","email"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],["azt-track-service","class-list-details-IXPw9fo4fxc","class","btn btn-sm btn-outline-primary mr-3",3,"click",4,"ngIf"],["azt-track-service","class-list-details-O6dc04lZp9g","class","btn btn-sm btn-outline-danger mr-3",3,"click",4,"ngIf"],["azt-track-service","student-list-hM337DYZ_","class","btn btn-sm mr-3",3,"click",4,"ngIf"],["azt-track-service","student-list-qGNig67L4","class","btn btn-sm mr-3",3,"click",4,"ngIf"],["type","checkbox",1,"form-check-input","flex-none",3,"formControl","change"],[2,"width","100%","text-align","center","border-right","1px solid #ccc","display","inline-grid","padding","5px"],["class","btn btn-sm btn-outline-secondary",3,"click",4,"ngIf"],["type","text","appOnlyNumber","",1,"form-control","text-center",2,"padding","4px",3,"value","keyup.enter"],["myInput",""],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","chevron-up","size","24",3,"ngClass"],["name","chevron-down","size","24",3,"ngClass"],[1,"text-center","font-bold"],["azt-track-service","class-list-details-IXPw9fo4fxc",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","class-list-details-O6dc04lZp9g",1,"btn","btn-sm","btn-outline-danger","mr-3",3,"click"],["name","trash-2","size","18",3,"ngClass"],["azt-track-service","student-list-hM337DYZ_",1,"btn","btn-sm","mr-3",3,"click"],["name","list-restart","size","16",3,"ngClass"],["azt-track-service","student-list-qGNig67L4",1,"btn","btn-sm","mr-3",3,"click"],["name","user-plus","size","16",3,"ngClass"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","inbox-empty",3,"size"],[1,"font-medium","mt-3"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],[1,"ml-2"],[1,"inline-block","mr-2",3,"ngClass"],["azt-track-service","student-list-zQB1VhlhP6",1,"btn","btn-sm","btn-danger","mr-2",3,"click"],[1,"box","p-3","mt-3",3,"ngStyle"],[1,"flex","items-center","text-sm"],[1,"flex","items-start","px-3"],["azt-track-service","class-list-details-PLih7noFG",1,"flex","items-center",3,"click"],[1,"w-9","h-9","image-fit","zoom-in"],[3,"matTooltip","nameCreateAvatar","linkAvatar","size"],[1,"ml-4",2,"max-width","150px"],["class","font-medium",3,"matTooltip",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",3,"matTooltip",4,"ngIf"],["class","absolute right-0 top-0 mr-6 mt-3 dropdown",4,"ngIf"],["azt-track-service","class-list-details-pefaSVrkl",1,"ml-auto","mr-3","p-1","mt-6","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"click"],["name","chevron-down","size","20"],[1,"mt-2"],[1,"font-medium",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-slate-500","text-xs","mt-0.5",3,"matTooltip"],[1,"absolute","right-0","top-0","mr-6","mt-3","dropdown"],[1,"dropdown-toggle","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["menuAction","matMenu"],[1,"dropdown-menu","show","relative","w-56"],["azt-track-service","class-list-details-Q6L3Qb4nL-","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-xA4MDIyq3o","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Q6L3Qb4nL-",1,"dropdown-item",3,"click"],["azt-track-service","class-list-details-xA4MDIyq3o",1,"dropdown-item",3,"click"],["name","trash-2","size","20",3,"ngClass"],["azt-track-service","student-list-BQ1zew8XrF","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","student-list-BQ1zew8XrF",1,"dropdown-item",3,"click"],["name","list-restart","size","20",3,"ngClass"],[1,"flex","items-center","p-3","border-t","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md"],[1,"ml-auto"],["class","flex items-center justify-center text-success",4,"ngIf"],["class","flex items-center p-3 border-t border-slate-200/60 dark:border-darkmode-400",4,"ngIf"],[1,"flex","items-center","justify-center","text-success"],[1,"mr-2","inline-block"],["name","square-check","size","18"],[1,"w-full"],[2,"width","100%","text-align","center","display","inline-grid","padding","5px"],["name","chevron-up","size","24"],["name","chevron-down","size","24"],["azt-track-service","student-list-z7Lql-3ZDJ","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","student-list-z7Lql-3ZDJ",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],["name","plus","size","20",3,"ngClass"],["azt-track-service","class-list-details-NcMQ164X2B1",1,"dropdown-item","w-full",3,"click"],["name","link-2","size","16",3,"ngClass"],["azt-track-service","class-list-details-woiwIJfYoz7",1,"dropdown-item","w-full",3,"click"],["name","arrow-down-wide-narrow","size","16",3,"ngClass"],["class","text-success inline-block flex-none",4,"ngIf"],[1,"text-success","inline-block","flex-none"],["name","check","size","20",3,"ngClass"],["azt-track-service","class-list-details-dc7h-1UoWkq",1,"dropdown-item","w-full",3,"click"],["name","list-ordered","size","16",3,"ngClass"],[1,"ml-1",3,"matTooltip"],["name","check","size","20",3,"ngClass",4,"ngIf"],[1,"block","lg:hidden"],["azt-track-service","class-list-details-dQQjeblrGNo",1,"dropdown-item","w-full",3,"click"],["name","binary","size","16",3,"ngClass"],["azt-track-service","class-list-details-EPPk_ECcOhT",1,"dropdown-item","w-full",3,"click"],["name","file-text","size","16",3,"ngClass"],["azt-track-service","student-list-I77ChHGFW",1,"form-check","form-switch","p-2",3,"click"],["type","checkbox","id","check-add-student",1,"show-code","form-check-input","mr-1",3,"formControl","checked","change"],["for","check-add-student",1,"form-check-label","ml-0"],[3,"objs","exportDataDone"]],template:function(u,_){if(1&u&&(t.j41(0,"div",0),t.DNE(1,M,2,1,"div",1),t.DNE(2,Vo,27,46,"ng-template",null,2,t.C5r),t.k0s(),t.j41(4,"mat-menu",3,4)(6,"div",5)(7,"ul",6),t.DNE(8,zs,5,5,"li",7),t.DNE(9,As,6,6,"li",7),t.DNE(10,Xo,8,9,"li",7),t.DNE(11,Wo,5,5,"li",8),t.nI1(12,"editPermission"),t.DNE(13,Ho,5,5,"li",8),t.nI1(14,"viewPermission"),t.DNE(15,Jo,5,5,"li",8),t.DNE(16,Ko,7,7,"li",7),t.nI1(17,"editPermission"),t.k0s()()(),t.DNE(18,Qo,1,1,"azt-export-excel-for-student-list",9)),2&u){const v=t.sdS(3);t.R7$(1),t.Y8G("ngIf",_.statusObj.loading)("ngIfElse",v),t.R7$(7),t.Y8G("ngIf",_.hasStudents||(null==_.listStudents?null:_.listStudents.length)),t.R7$(1),t.Y8G("ngIf",_.hasStudents||(null==_.listStudents?null:_.listStudents.length)),t.R7$(1),t.Y8G("ngIf",_.hasStudents||(null==_.listStudents?null:_.listStudents.length)),t.R7$(1),t.Y8G("ngIf",t.i5U(12,10,_.classroomObj,"student")&&(_.hasStudents||(null==_.listStudents?null:_.listStudents.length))),t.R7$(2),t.Y8G("ngIf",t.i5U(14,13,_.classroomObj,"student")&&(_.hasStudents||(null==_.listStudents?null:_.listStudents.length))),t.R7$(2),t.Y8G("ngIf",_.hasStudents||(null==_.listStudents?null:_.listStudents.length)),t.R7$(1),t.Y8G("ngIf",t.i5U(17,16,_.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",_.exportStudentObjs)}},dependencies:[o.YU,o.Sq,o.bT,o.B3,ft.kk,ft.Cp,B.oV,st.Zm,st.BC,st.l_,L.K,f.p,V.d,p.Z,Kn.m,K.R,C.M,gt.W,vt.B,N.m,J.jd,J.Ew,W.WGl,tt.wp,tt.nf,tt.WL,tt.xL,tt.FV,tt.eL,tt.Po,tt.vv],encapsulation:2,data:{animation:[(0,qe.hZ)("expandCollapse",[(0,qe.wk)("open",(0,qe.iF)({height:"*"})),(0,qe.wk)("closed",(0,qe.iF)({height:"0px"})),(0,qe.kY)("open <=> closed",[(0,qe.i0)("0.3s ease-in-out")])])]}})}return l})();const Tn=function(l){return{"text-white bg-primary":l}},pn=function(l){return[l]},Rn=function(){return{"mr-2 flex-none":!0}};function Ls(l,x){if(1&l&&(t.j41(0,"a",32),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",33),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&l){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Tn,3===i.tabActive))("routerLink",t.eq3(10,pn,t.bMT(1,4,"/admin/student/classroom-details/"+i.classroomId+"/3"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Rn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_student_educational_program"))}}function Ys(l,x){if(1&l&&(t.j41(0,"a",34),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",7),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&l){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Tn,4===i.tabActive))("routerLink",t.eq3(10,pn,t.bMT(1,4,"/admin/student/classroom-details/"+i.classroomId+"/4"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Rn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_student_grade_sheet"))}}const gs=function(){return{"mr-2":!0}};function Zo(l,x){if(1&l&&(t.j41(0,"a",35),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",36),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&l){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Tn,6===i.tabActive))("routerLink",t.eq3(10,pn,t.bMT(1,4,"/admin/student/classroom-details/"+i.classroomId+"/6"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,gs)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_assessment_board"))}}function Bs(l,x){if(1&l&&(t.j41(0,"a",37),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",38),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&l){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Tn,7===i.tabActive))("routerLink",t.eq3(10,pn,t.bMT(1,4,"/admin/student/classroom-details/"+i.classroomId+"/7"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,gs)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_attendance_board"))}}function hs(l,x){if(1&l&&(t.j41(0,"a",39),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",40),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&l){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Tn,8===i.tabActive))("routerLink",t.eq3(10,pn,t.bMT(1,4,"/admin/student/classroom-details/"+i.classroomId+"/8"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Rn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_tuition_fee_board"))}}function Vs(l,x){if(1&l&&(t.j41(0,"a",41),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",42),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&l){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Tn,5===i.tabActive))("routerLink",t.eq3(10,pn,t.bMT(1,4,"/admin/student/classroom-details/"+i.classroomId+"/5"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Rn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_leaderboard"))}}function Us(l,x){if(1&l&&(t.j41(0,"a",43),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",44),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&l){const i=t.XpG(2);t.Y8G("ngClass",t.eq3(7,Tn,9===i.tabActive))("routerLink",t.eq3(9,pn,t.bMT(1,3,"/admin/student/classroom-details/"+i.classroomId+"/9"))),t.R7$(4),t.JRh(t.bMT(5,5,"lang_core_bang_vinh_danh"))}}function Vi(l,x){if(1&l&&(t.j41(0,"div",23)(1,"div",24),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",23),t.DNE(5,Ls,6,13,"a",25),t.nI1(6,"async"),t.nI1(7,"allowFeatureBusinessForUser"),t.DNE(8,Ys,6,13,"a",26),t.nI1(9,"async"),t.nI1(10,"allowFeatureBusinessForUser"),t.DNE(11,Zo,6,13,"a",27),t.nI1(12,"async"),t.nI1(13,"allowFeatureBusinessForUser"),t.DNE(14,Bs,6,13,"a",28),t.nI1(15,"async"),t.nI1(16,"allowFeatureBusinessForUser"),t.DNE(17,hs,6,13,"a",29),t.nI1(18,"async"),t.nI1(19,"allowFeatureBusinessForUser"),t.DNE(20,Vs,6,13,"a",30),t.nI1(21,"async"),t.nI1(22,"allowFeatureBusinessForUser"),t.DNE(23,Us,6,11,"a",31),t.k0s()()),2&l){const i=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,8,"lang_student_extensions")," "),t.R7$(3),t.Y8G("ngIf",t.bMT(6,10,t.brH(7,12,"","training_center_curriculum_in_classroom",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(9,16,t.brH(10,18,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(12,22,t.brH(13,24,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(15,28,t.brH(16,30,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(18,34,t.brH(19,36,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(21,40,t.brH(22,42,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",i.isBusinessDomain&&i.linkTableHonored.length>0)}}function Ui(l,x){1&l&&(t.j41(0,"div",45),t.nrm(1,"app-student-list"),t.k0s())}function ai(l,x){1&l&&(t.j41(0,"div",46),t.nrm(1,"app-exam-exercises",47),t.k0s()),2&l&&(t.R7$(1),t.Y8G("isStudent",!1))}function Xi(l,x){if(1&l&&(t.j41(0,"div",48),t.nrm(1,"app-news-board",49),t.k0s()),2&l){const i=t.XpG();t.R7$(1),t.Y8G("classroomId",i.classroomId)("isStudent",!1)}}function Xs(l,x){1&l&&(t.j41(0,"div",50),t.nrm(1,"app-educational-program",47),t.k0s()),2&l&&(t.R7$(1),t.Y8G("isStudent",!1))}function qo(l,x){1&l&&(t.j41(0,"div",51),t.nrm(1,"app-grand-board",47),t.k0s()),2&l&&(t.R7$(1),t.Y8G("isStudent",!1))}function ta(l,x){1&l&&(t.j41(0,"div",52)(1,"div",53),t.nrm(2,"app-leader-board",47),t.k0s()()),2&l&&(t.R7$(2),t.Y8G("isStudent",!1))}function Ws(l,x){1&l&&(t.j41(0,"div",54)(1,"div",55),t.nrm(2,"app-assessment-board",47),t.k0s()()),2&l&&(t.R7$(2),t.Y8G("isStudent",!1))}function ea(l,x){1&l&&(t.j41(0,"div",56)(1,"div",55),t.nrm(2,"app-attendance-board",47),t.k0s()()),2&l&&(t.R7$(2),t.Y8G("isStudent",!1))}function na(l,x){1&l&&(t.j41(0,"div",57)(1,"div",55),t.nrm(2,"app-tuition-fee-board",47),t.k0s()()),2&l&&(t.R7$(2),t.Y8G("isStudent",!1))}function Hs(l,x){if(1&l&&(t.j41(0,"div",58),t.nrm(1,"azt-preview-link-by-iframe",59),t.k0s()),2&l){const i=t.XpG();t.R7$(1),t.Y8G("url",i.linkTableHonored)}}const lt=function(l){return{"font-medium text-white bg-primary":l}};let ur=(()=>{class l extends a.H{getClassroomName(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(i=>{i&&i.success&&(this.classroomName=i.data?.obj?.name??"",this.setTitle())}))}setTitle(){0==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_student_list_title")+": "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_student_list_description",image:"lang_cms_test_image"})):1==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_document_list_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_document_list_description",image:"lang_cms_test_image"})):2==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_news_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_news_board_description",image:"lang_cms_test_image"})):3==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_program_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_program_description",image:"lang_cms_test_image"})):4==this.tabActive&&(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_mark_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_mark_board_description",image:"lang_cms_test_image"}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,q.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.tabActive=Number(this.commonService.getMyParam(this.activeRoute,"tabId")),this.classroomName?this.setTitle():this.getClassroomName()}));let i=this.commonService.getMyQueryParam("backto");this.backToLink=i&&""!=i?i:"/admin/student/manage-classroom/0"}constructor(i,u){super(),this.activeRoute=i,this.classroomService=u,this.backToLink="",this.tabActive=0,this.classroomId=0,this.classroomName="",this.headerTitle="",this.linkTableHonored=kt.c.linkTableHonored}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(j.nX),t.rXU(T.zS))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-teacher-classroom-details"]],features:[t.Vt3],decls:40,vars:64,consts:[[3,"headerBackToLink","headerTitle"],[1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-3","lg:col-span-2"],[1,"pr-3","pt-5"],["azt-track-service","class-list-details-DVvCIvEs15",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","user","size","18",3,"ngClass"],["azt-track-service","class-list-details-Kp8HMxHLJW",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","calendar-check","size","18",3,"ngClass"],["azt-track-service","class-list-details-Fqqucj0PCd",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","newspaper","size","18",3,"ngClass"],["class","mt-3",4,"ngIf"],[1,"col-span-12","md:col-span-9","lg:col-span-10","md:border-l","border-slate-200","dark:border-darkmode-400"],[1,"mt-5","md:px-3","h-full"],["class","student-list",4,"ngIf"],["class","exam-exercises",4,"ngIf"],["class","news-board",4,"ngIf"],["class","educational-program",4,"ngIf"],["class","grand-board",4,"ngIf"],["class","leaderboard",4,"ngIf"],["class","assessment-board",4,"ngIf"],["class","attendance-board",4,"ngIf"],["class","tuition-fee-board",4,"ngIf"],["class","table-honored h-full ml-5",4,"ngIf"],[1,"mt-3"],[1,"font-medium","uppercase"],["azt-track-service","class-list-details-BDKFcoR84En","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-d91Lw-r2PR8","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-FPGtD1jfL","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-6GuZeDQM8J","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-kEUyL-yGqV","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-wEO2JkXskB","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-BDKFcoR84En",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","library","size","18",3,"ngClass"],["azt-track-service","class-list-details-d91Lw-r2PR8",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["azt-track-service","class-list-details-FPGtD1jfL",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","message-square-text","size","16",3,"ngClass"],["azt-track-service","class-list-details-6GuZeDQM8J",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","search-check","size","16",3,"ngClass"],["azt-track-service","class-list-details-kEUyL-yGqV",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","clipboard-list","size","18",3,"ngClass"],["azt-track-service","class-list-details-wEO2JkXskB",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","medal","size","18",3,"ngClass"],[1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","trophy","size","18",1,"mr-1","flex-none"],[1,"student-list"],[1,"exam-exercises"],[3,"isStudent"],[1,"news-board"],[3,"classroomId","isStudent"],[1,"educational-program"],[1,"grand-board"],[1,"leaderboard"],[1,"mx-auto",2,"max-width","500px"],[1,"assessment-board"],[1,"mx-auto"],[1,"attendance-board"],[1,"tuition-fee-board"],[1,"table-honored","h-full","ml-5"],[3,"url"]],template:function(u,_){1&u&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.nI1(6,"navigationLocalize"),t.nrm(7,"lucide-icon",5),t.j41(8,"span"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"a",6),t.nI1(12,"navigationLocalize"),t.nrm(13,"lucide-icon",7),t.j41(14,"span"),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"a",8),t.nI1(18,"navigationLocalize"),t.nrm(19,"lucide-icon",9),t.j41(20,"span"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.DNE(23,Vi,24,46,"div",10),t.nI1(24,"async"),t.nI1(25,"allowFeatureBusinessForUser"),t.nI1(26,"async"),t.nI1(27,"allowFeatureBusinessForUser"),t.k0s()(),t.j41(28,"div",11)(29,"div",12),t.DNE(30,Ui,2,0,"div",13),t.DNE(31,ai,2,1,"div",14),t.DNE(32,Xi,2,2,"div",15),t.DNE(33,Xs,2,1,"div",16),t.DNE(34,qo,2,1,"div",17),t.DNE(35,ta,3,1,"div",18),t.DNE(36,Ws,3,1,"div",19),t.DNE(37,ea,3,1,"div",20),t.DNE(38,na,3,1,"div",21),t.DNE(39,Hs,2,1,"div",22),t.k0s()()()()),2&u&&(t.Y8G("headerBackToLink",_.backToLink)("headerTitle",_.classroomName),t.R7$(5),t.Y8G("ngClass",t.eq3(49,Tn,0===_.tabActive))("routerLink",t.eq3(51,pn,t.bMT(6,25,"/admin/student/classroom-details/"+_.classroomId+"/0"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(53,Rn)),t.R7$(2),t.JRh(t.bMT(10,27,"lang_cms_classroom_student_list_title")),t.R7$(2),t.Y8G("ngClass",t.eq3(54,Tn,1===_.tabActive))("routerLink",t.eq3(56,pn,t.bMT(12,29,"/admin/student/classroom-details/"+_.classroomId+"/1"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(58,Rn)),t.R7$(2),t.JRh(t.bMT(16,31,"lang_document_exam_exercises")),t.R7$(2),t.Y8G("ngClass",t.eq3(59,lt,2===_.tabActive))("routerLink",t.eq3(61,pn,t.bMT(18,33,"/admin/student/classroom-details/"+_.classroomId+"/2"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(63,Rn)),t.R7$(2),t.JRh(t.bMT(22,35,"lang_student_news_board")),t.R7$(2),t.Y8G("ngIf",t.bMT(24,37,t.brH(25,39,"","training_center_curriculum_in_classroom",!1))||t.bMT(26,43,t.brH(27,45,"","training_center_student_mark",!1))),t.R7$(7),t.Y8G("ngIf",0===_.tabActive),t.R7$(1),t.Y8G("ngIf",1===_.tabActive),t.R7$(1),t.Y8G("ngIf",2===_.tabActive),t.R7$(1),t.Y8G("ngIf",3===_.tabActive),t.R7$(1),t.Y8G("ngIf",4===_.tabActive),t.R7$(1),t.Y8G("ngIf",5===_.tabActive),t.R7$(1),t.Y8G("ngIf",6===_.tabActive),t.R7$(1),t.Y8G("ngIf",7===_.tabActive),t.R7$(1),t.Y8G("ngIf",8===_.tabActive),t.R7$(1),t.Y8G("ngIf",9===_.tabActive))},dependencies:[j.Wk,o.YU,o.bT,rt,pt.Q,W.WGl,dt.E,ot,ct.s,Yt.K,me.c,yn,Ze.E,Xn.b,ps,o.Jj,tt.F2,tt.wp,tt.bj],encapsulation:2})}return l})();var Ht=g(11002);function Yn(l,x){1&l&&t.nrm(0,"azt-loading-ui",16)}function gn(l,x){1&l&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Bn(l,x){if(1&l&&t.nrm(0,"azt-loading-effect",18),2&l){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function ri(l,x){1&l&&(t.j41(0,"span"),t.EFF(1,"/"),t.k0s())}function Ci(l,x){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,ri,2,0,"span",33),t.EFF(3),t.k0s()),2&l){const i=t.XpG().$implicit;t.R7$(1),t.SpI(" ",i.lastMonthPaid," "),t.R7$(1),t.Y8G("ngIf",i.lastMonthPaid),t.R7$(1),t.SpI(" ",i.lastYearPaid," ")}}function fs(l,x){1&l&&(t.j41(0,"span",43),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_hoc_thu")," "))}function xi(l,x){if(1&l){const i=t.RV6();t.j41(0,"tr")(1,"td",28),t.bIt("click",function(){const v=t.eBV(i).$implicit,A=t.XpG(3);return t.Njj(A.goToProfile(v.classroomId,v.id))}),t.nrm(2,"azt-student-info-box",29),t.k0s(),t.j41(3,"td",30),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",31)(7,"div",32),t.DNE(8,Ci,4,3,"span",33),t.DNE(9,fs,3,3,"span",34),t.j41(10,"button",35),t.bIt("click",function(){const v=t.eBV(i).$implicit,A=t.XpG(3);return t.Njj(A.openDialogCheckboxMonth(v))}),t.nI1(11,"mytranslate"),t.nI1(12,"mytranslate"),t.nrm(13,"lucide-icon",36),t.k0s()()(),t.j41(14,"td",37)(15,"div",38),t.EFF(16),t.nI1(17,"mytranslate"),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"td",37)(20,"div",38),t.EFF(21),t.nI1(22,"mytranslate"),t.nI1(23,"mytranslate"),t.k0s()(),t.j41(24,"td",31)(25,"div",39)(26,"input",40),t.bIt("change",function(_){const A=t.eBV(i).$implicit,et=t.XpG(3);return t.Njj(et.setAttendance("receivedDocument",A.id,_))}),t.k0s()()(),t.j41(27,"td",31)(28,"div",39)(29,"input",41),t.bIt("change",function(_){const A=t.eBV(i).$implicit,et=t.XpG(3);return t.Njj(et.setAttendance("absent",A.id,_))}),t.k0s()()(),t.j41(30,"td",31)(31,"textarea",42),t.bIt("input",function(_){const A=t.eBV(i).$implicit,et=t.XpG(3);return t.Njj(et.setReasonAttendance(A.id,_))}),t.nI1(32,"mytranslate"),t.k0s()()()}if(2&l){const i=x.$implicit;let u,_;t.R7$(2),t.Y8G("name",i.fullName)("avatar",i.avatar)("gender",i.gender)("parentFullName",i.parentFullName)("parentId",i.parentId)("parentPhone",i.parentPhone)("hasUser",i.hasUser)("schoolName",i.schoolName)("classrooms",i.classrooms)("joinedAt",i.joinedAt),t.R7$(2),t.JRh(i.identificationNumber?t.i5U(5,27,i.identificationNumber,6):""),t.R7$(4),t.Y8G("ngIf",i.lastMonthPaid||i.lastYearPaid),t.R7$(1),t.Y8G("ngIf",!i.lastMonthPaid||!i.lastYearPaid),t.R7$(1),t.FCK("matTooltip","",t.bMT(11,30,"lang_cms_auto_gen_test_select")," ",t.bMT(12,32,"lang_auto_month"),""),t.R7$(4),t.Y8G("ngClass",i.totalRemainHomework>0||i.noHomework?"darkgray":i.finishHomework?"yellowgreen":"red"),t.R7$(2),t.SpI(" ",t.bMT(17,34,i.totalRemainHomework>0?t.bMT(18,36,"lang_auto_chua_hoan_thanh")+" ("+i.totalRemainHomework.toString()+")":i.noHomework?"lang_auto_hoan_thanh":i.finishHomework?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.R7$(3),t.Y8G("ngClass",i.totalRemainExam>0||i.noExam?"darkgray":i.finishExam?"yellowgreen":"red"),t.R7$(2),t.SpI(" ",t.bMT(22,38,i.totalRemainExam>0?t.bMT(23,40,"lang_auto_chua_hoan_thanh")+" ("+i.totalRemainExam.toString()+")":i.noExam?"lang_auto_hoan_thanh":i.finishExam?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.R7$(5),t.Y8G("id","received_document_"+i.id)("checked",null!==(u=null==i.attendance?null:i.attendance.receivedDocument)&&void 0!==u?u:0),t.R7$(3),t.Y8G("id","absent_"+i.id)("checked",null!==(_=null==i.attendance?null:i.attendance.absent)&&void 0!==_?_:0),t.R7$(2),t.FS9("placeholder",t.bMT(32,42,"lang_business_reason_for_leave")),t.Y8G("id","attendance_reason_"+i.id)("disabled",!(null!=i.attendance&&i.attendance.absent))("value",null==i.attendance?null:i.attendance.reason)}}function Ti(l,x){if(1&l&&(t.j41(0,"div",20)(1,"table",21)(2,"thead")(3,"tr")(4,"th",22),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",23),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",24),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",25),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",26),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",24)(21,"div"),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"th",24),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"th",24),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()(),t.j41(32,"tbody"),t.DNE(33,xi,33,44,"tr",27),t.k0s()()()),2&l){const i=t.XpG(2);t.R7$(5),t.JRh(t.bMT(6,11,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(9,13,"lang_auto_so_bao_danh")),t.R7$(3),t.Lme("",t.bMT(12,15,"lang_test_market_withdraw_time")," ",t.bMT(13,17,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.R7$(4),t.JRh(t.bMT(16,19,"lang_student_frontend_dashboard_homework")),t.R7$(3),t.JRh(t.bMT(19,21,"lang_auto_only_de_thi")),t.R7$(4),t.SpI(" ",t.bMT(23,23,"lang_core_da_phat")," "),t.R7$(2),t.SpI(" ",t.bMT(25,25,"lang_auto_tai_lieu")," "),t.R7$(3),t.SpI(" ",t.bMT(28,27,"lang_business_vang_mat")," "),t.R7$(3),t.JRh(t.bMT(31,29,"lang_auto_ly_do")),t.R7$(3),t.Y8G("ngForOf",i.listStudent)}}function Js(l,x){if(1&l&&t.DNE(0,Ti,34,31,"div",19),2&l){const i=t.XpG();t.Y8G("ngIf",i.listStudent.length>0)}}function ia(l,x){if(1&l){const i=t.RV6();t.j41(0,"azt-paging",47),t.bIt("goToPaginationPage",function(_){t.eBV(i);const v=t.XpG(2);return t.Njj(v.setPageStudent(_))}),t.k0s()}if(2&l){const i=t.XpG(2);t.Y8G("pageObj",i.pageObj)}}function hn(l,x){if(1&l&&(t.j41(0,"div",44),t.nrm(1,"div"),t.DNE(2,ia,1,1,"azt-paging",45),t.j41(3,"div",46),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&l){const i=t.XpG();t.R7$(2),t.Y8G("ngIf",i.totalStudent>i.pageObj.pageSize),t.R7$(2),t.Lme("",i.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}let Pe=(()=>{class l extends a.H{openDialogCheckboxMonth(i){this.sAztDialogService.open(Gn,{width:"454px",restoreFocus:!1,data:i.id}).afterClosed().subscribe(u=>{u&&this.getListStudent()})}goToProfile(i,u){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+i+"/"+u,"?backto="+encodeURIComponent("/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(i){var u="/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,_="?page="+i+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(u,_),this.initStatusObj(),this.pageObj.setPageNumber(i),this.getListStudent()}onSearchBox(i){this.searchContentObj=i,this.setPageStudent(1)}setAttendance(i,u,_){var v=_.target,A=v.checked?1:0,et=this.listStudent.find(se=>se.id==u);if(et){var xt=this.listAttendanceNew.find(on=>on.id==u);let se=document.getElementById("attendance_reason_"+u);"absent"==i?(et.attendance.absent=A,v.checked?et.attendance.receivedDocument=0:(et.attendance.reason="",se.value="")):(et.attendance.receivedDocument=A,v.checked&&(et.attendance.absent=0,et.attendance.reason="",se.value="")),xt?(xt.absent=et.attendance?.absent,xt.receivedDocument=et.attendance?.receivedDocument,xt.reason=se.value):this.listAttendanceNew.push({id:u,absent:et.attendance?.absent,receivedDocument:et.attendance?.receivedDocument,reason:se.value})}}setReasonAttendance(i,u){var _=u.target,v=this.listStudent.find(et=>et.id==i);if(v){var A=this.listAttendanceNew.find(et=>et.id==i);A?A.reason=_.value:this.listAttendanceNew.push({id:i,absent:v.attendance?.absent,receivedDocument:v.attendance?.receivedDocument,reason:_.value})}}saveAttendance(){this.isSave=!0;let i={programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listAttendanceNew};if(0==this.listAttendanceNew.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAttendancesPost(i).subscribe(u=>{u.success?(this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!0,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(u=>{u?(u.list.forEach(_=>{_.attendance||(_.attendance={id:0,programId:this.programId,sessionId:this.sessionId,classroomId:this.classroomId,studentId:_.id,absent:0,permission:0,reason:""})},u.list),this.listStudent=u.list,this.totalStudent=u.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,q.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let i=this.commonService.getMyQueryParam("backto");this.backToLink=i||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent(),super.ngOnInit()}constructor(i,u,_){super(),this.activeRoute=i,this.studentService=u,this.sAztDialogService=_,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.listAttendanceNew=[],this.searchContentObj=new Lt.Z,this.pageObj=new he.d(20)}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(j.nX),t.rXU(Ln.b),t.rXU(ee.i))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-attendance-student"]],features:[t.Vt3],decls:22,vars:19,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","searchContentObj","placeholder","onSearch"],[3,"colorBackground"],["azt-track-service","attendance-student-Tj_9J-QZu",1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","flex justify-between items-center mt-5",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"mt-10","text-center"],[3,"currentStatusObj"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[1,"text-center","whitespace-nowrap","px-3"],[1,"text-center","whitespace-nowrap","px-2"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[4,"ngIf"],["class","darkgray",4,"ngIf"],["azt-track-service","attendance-student-j17JbU3oZS",1,"w-5","h-5","inline-block","ml-1","zoom-in",2,"margin-top","-2px","color","gray",3,"matTooltip","click"],["name","calendar-search","size","16"],[1,"text-center",3,"ngClass"],[1,"mx-auto",2,"width","max-content"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"id","checked","change"],["type","checkbox",1,"show-code","form-check-input","form-check-input-absent",3,"id","checked","change"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value","input"],[1,"darkgray"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"pageObj","goToPaginationPage"]],template:function(u,_){if(1&u&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.bIt("onSearch",function(A){return _.onSearchBox(A.searchObj)}),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"flexed-on-the-top",8)(12,"button",9),t.bIt("click",function(){return _.saveAttendance()}),t.DNE(13,Yn,1,0,"azt-loading-ui",10),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()(),t.j41(16,"div",11),t.DNE(17,gn,3,3,"div",12),t.DNE(18,Bn,1,1,"azt-loading-effect",13),t.DNE(19,Js,1,1,"ng-template",null,14,t.C5r),t.k0s(),t.DNE(21,hn,6,5,"div",15),t.k0s()),2&u){const v=t.sdS(20);t.Y8G("headerBackToLink",_.backToLink),t.R7$(4),t.JRh(t.bMT(5,13,"lang_student_attendance_student")),t.R7$(5),t.Y8G("isServerSearch",!0)("searchContentObj",_.searchContentObj)("placeholder",t.bMT(10,15,"lang_core_tim_theo_ten_phone_email")),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(1),t.Y8G("disabled",_.isSave),t.R7$(1),t.Y8G("ngIf",_.isSave),t.R7$(1),t.SpI(" ",t.bMT(15,17,"lang_auto_luu")," "),t.R7$(3),t.Y8G("ngIf",0==_.listStudent.length&&0==_.totalStudent),t.R7$(1),t.Y8G("ngIf",_.statusObj.loading)("ngIfElse",v),t.R7$(3),t.Y8G("ngIf",_.totalStudent>0)}},dependencies:[o.YU,o.Sq,o.bT,B.oV,L.K,Ge.q,K.R,Ht.$,gt.W,vt.B,pt.Q,W.WGl,tt.wp,tt.Po],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]})}return l})();var bs=g(12787);function vs(l,x){if(1&l&&t.nrm(0,"azt-loading-effect",10),2&l){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function Ks(l,x){1&l&&(t.j41(0,"div",23),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_list_null")," "))}const Vn=function(l){return{width:l}};function ks(l,x){if(1&l&&(t.j41(0,"div",24)(1,"div",25)(2,"div",26,27),t.nrm(4,"img",28),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",29)(7,"div",30),t.EFF(8),t.k0s(),t.j41(9,"div",31),t.EFF(10),t.k0s()()()()),2&l){const i=x.$implicit,u=t.sdS(3);t.R7$(4),t.FS9("src",""!=i.iconLink&&i.iconLink?i.iconLink:"https://mockup.textandtool.com/images/diendanh/u4711.svg",t.B4B),t.FS9("alt",t.bMT(5,6,"lang_core_anh_sach")),t.R7$(2),t.Y8G("ngStyle",t.eq3(8,Vn,"calc(100% -  "+(u.offsetWidth+12)+"px)")),t.R7$(1),t.FS9("matTooltip",i.name),t.R7$(1),t.JRh(i.name),t.R7$(2),t.JRh(i.description)}}function Cs(l,x){1&l&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function sa(l,x){if(1&l&&(t.j41(0,"th",39)(1,"div",40),t.EFF(2),t.k0s()()),2&l){const i=x.$implicit;t.R7$(1),t.FS9("matTooltip",i.name),t.R7$(1),t.SpI(" ",i.name," ")}}const Wi=function(){return[]};function oa(l,x){if(1&l){const i=t.RV6();t.j41(0,"td",45)(1,"div",46)(2,"input",47),t.bIt("change",function(_){t.eBV(i);const v=t.XpG().$implicit,A=t.XpG(3);return t.Njj(A.setStatusBook(v,_))}),t.k0s()()()}if(2&l){const i=x.$implicit,u=t.XpG().$implicit,_=t.XpG(3);let v;t.R7$(2),t.Mz_("id","input-book-",i.id,""),t.Y8G("value",i.id)("checked",_.checkStatusDistribute(i,null!==(v=u.books)&&void 0!==v?v:t.lJ4(3,Wi)))}}function Ii(l,x){if(1&l){const i=t.RV6();t.j41(0,"tr")(1,"td",41),t.bIt("click",function(){const v=t.eBV(i).$implicit,A=t.XpG(3);return t.Njj(A.goToProfile(v.classroomId,v.id))}),t.nrm(2,"azt-student-info-box",42),t.k0s(),t.j41(3,"td",43),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.DNE(6,oa,3,4,"td",44),t.k0s()}if(2&l){const i=x.$implicit,u=t.XpG(3);let _;t.R7$(2),t.Y8G("name",i.fullName)("parentFullName",i.parentFullName)("parentId",i.parentId)("parentPhone",i.parentPhone)("avatar",i.avatar)("gender",i.gender)("hasUser",i.hasUser)("schoolName",i.schoolName)("classrooms",i.classrooms)("joinedAt",i.joinedAt),t.R7$(2),t.JRh(i.identificationNumber?t.i5U(5,12,i.identificationNumber,6):""),t.R7$(2),t.Y8G("ngForOf",null!==(_=null==u.listBook?null:u.listBook.list)&&void 0!==_?_:t.lJ4(15,Wi))}}function aa(l,x){if(1&l&&(t.j41(0,"div",33)(1,"drag-scroll")(2,"table",34)(3,"thead")(4,"tr")(5,"th",35),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",36),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.DNE(11,sa,3,2,"th",37),t.k0s()(),t.j41(12,"tbody"),t.DNE(13,Ii,7,16,"tr",38),t.k0s()()()()),2&l){const i=t.XpG(2);let u;t.R7$(6),t.JRh(t.bMT(7,4,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,6,"lang_auto_so_bao_danh")),t.R7$(2),t.Y8G("ngForOf",null!==(u=null==i.listBook?null:i.listBook.list)&&void 0!==u?u:t.lJ4(8,Wi)),t.R7$(2),t.Y8G("ngForOf",i.listStudent)}}function ra(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",48),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",49),t.bIt("click",function(){t.eBV(i);const _=t.XpG(2);return t.Njj(_.search(_.searchContentObj))}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()}2&l&&(t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_core_not_found_student"),"... "),t.R7$(3),t.JRh(t.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function la(l,x){if(1&l){const i=t.RV6();t.j41(0,"azt-paging",17),t.bIt("goToPaginationPage",function(_){t.eBV(i);const v=t.XpG(3);return t.Njj(v.setPageStudent(_))}),t.k0s()}if(2&l){const i=t.XpG(3);t.Y8G("pageObj",i.pageStudentObj)}}function ca(l,x){if(1&l&&(t.j41(0,"div",50),t.nrm(1,"div"),t.DNE(2,la,1,1,"azt-paging",51),t.j41(3,"div",52),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&l){const i=t.XpG(2);t.R7$(2),t.Y8G("ngIf",i.totalStudent>i.pageStudentObj.pageSize),t.R7$(2),t.Lme("",i.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}function Qs(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",11)(1,"div",12),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Ks,3,3,"div",13),t.j41(5,"div",14),t.DNE(6,ks,11,10,"div",15),t.k0s(),t.j41(7,"div",16)(8,"azt-paging",17),t.bIt("goToPaginationPage",function(_){t.eBV(i);const v=t.XpG();return t.Njj(v.setPageBook(_))}),t.k0s()()(),t.j41(9,"div",18),t.DNE(10,Cs,3,3,"div",19),t.DNE(11,aa,14,9,"div",20),t.DNE(12,ra,6,6,"div",21),t.k0s(),t.DNE(13,ca,6,5,"div",22)}if(2&l){const i=t.XpG();let u;t.R7$(2),t.JRh(t.bMT(3,8,"lang_core_thong_tin_sach")),t.R7$(2),t.Y8G("ngIf",!(null!=i.listBook&&i.listBook.list&&0!=(null==i.listBook?null:i.listBook.total)||""!=i.searchContentObj.searchContent)),t.R7$(2),t.Y8G("ngForOf",null!==(u=null==i.listBook?null:i.listBook.list)&&void 0!==u?u:t.lJ4(10,Wi)),t.R7$(2),t.Y8G("pageObj",i.pageBookObj),t.R7$(2),t.Y8G("ngIf",0==i.listStudent.length&&""==i.searchContentObj.searchContent),t.R7$(1),t.Y8G("ngIf",i.listStudent.length>0),t.R7$(1),t.Y8G("ngIf",0==i.listStudent.length&&""!=i.searchContentObj.searchContent),t.R7$(1),t.Y8G("ngIf",i.totalStudent>0)}}let ma=(()=>{class l extends a.H{setPageStudent(i){var u="/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,_="?page="+i+"&backto="+encodeURIComponent(this.backLink);this.myNavigationWithQueryString(u,_),this.initStatusObj(),this.pageStudentObj.setPageNumber(i),this.getListStudent()}goToProfile(i,u){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+i+"/"+u,"?backto="+encodeURIComponent("/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}search(i){this.searchContentObj=i,this.setPageStudent(1)}setPageBook(i){this.pageBookObj.setPageNumber(i),this.getBooks()}checkStatusDistribute(i,u){for(let _=0;_<u.length;_++)if(u[_].bookId==i.id)return!0;return!1}getBooks(){this.waitDestroy(this.bookService.apiBooksListPost({page:this.pageBookObj.page,size:this.pageBookObj.pageSize,programId:this.programId}).subscribe(u=>{u?(this.listBook=u,this.pageBookObj.setTotalPages(this.listBook.total??0),this.getListStudent()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_sach",!0)}))}setStatusBook(i,u){var _=u.target;if(_.checked){var v={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:i.id,bookId:Number(_.value),activate:_.checked};this.waitDestroy(this.studentService.apiStudentsBooksPatch(v).subscribe(et=>{et.success||(document.getElementById("input-book-"+_.value).checked=!_.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}else{var A={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:i.id,bookId:Number(_.value)};this.waitDestroy(this.studentService.apiStudentsBooksDeletePost(A).subscribe(et=>{et.success||(document.getElementById("input-book-"+_.value).checked=!_.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageStudentObj.page,size:this.pageStudentObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!0,getMark:!0,getPayment:!1,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(u=>{u?(this.listStudent=u.list,this.totalStudent=u.total??0,this.pageStudentObj.setTotalPages(this.totalStudent),this.stopStatusObj(),this.searchContentObj.setLoading(!1)):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.searchContentObj.setLoading(!1))}))}ngOnInit(){(0,q.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageStudentObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let i=this.commonService.getMyQueryParam("backto");this.backLink=i||`/admin/student/classroom-details/${this.classroomId}/3`,this.getBooks(),super.ngOnInit()}constructor(i,u,_){super(),this.bookService=i,this.studentService=u,this.activeRoute=_,this.backLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.totalStudent=0,this.pageStudent=1,this.listStudent=[],this.searchContentObj=new Lt.Z,this.pageBookObj=new he.d(20),this.pageStudentObj=new he.d(20)}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(bs.l),t.rXU(Ln.b),t.rXU(j.nX))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-distribute-documents"]],features:[t.Vt3],decls:14,vars:11,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"col-span-12","mt-3"],[1,"text-base","font-medium","mb-2"],["class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-3"],[3,"pageObj","goToPaginationPage"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%",4,"ngIf"],["class","flex justify-center mt-2",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4"],[1,"flex","w-70","box-book"],[1,"box-image"],["imageBook",""],["id","blah",3,"src","alt"],[1,"ml-3",3,"ngStyle"],[1,"text-sm","font-medium","truncate",3,"matTooltip"],[1,"scroll"],[1,"mt-10","text-center"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center whitespace-nowrap","style","max-width: 100px !important",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-center","whitespace-nowrap",2,"max-width","100px !important"],[1,"truncate",3,"matTooltip"],[1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input","mr-1",3,"id","value","checked","change"],[1,"flex","justify-center","mt-2"],[1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"]],template:function(u,_){if(1&u&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.bIt("onSearch",function(A){return _.search(A.searchObj)}),t.nI1(10,"mytranslate"),t.k0s()()()()(),t.DNE(11,vs,1,1,"azt-loading-effect",8),t.DNE(12,Qs,14,11,"ng-template",null,9,t.C5r),t.k0s()),2&u){const v=t.sdS(13);t.Y8G("headerBackToLink",_.backLink),t.R7$(4),t.JRh(t.bMT(5,7,"lang_student_distribute_books")),t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",_.searchContentObj),t.R7$(2),t.Y8G("ngIf",_.statusObj.loading)("ngIfElse",v)}},dependencies:[o.Sq,o.bT,o.B3,B.oV,L.K,Ge.q,gt.W,vt.B,pt.Q,J.jd,J.Ew,tt.wp,tt.Po],styles:[".add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;left:17px;font-size:10px;text-align:center;border-radius:2px}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:12px}.textarea-description[_ngcontent-%COMP%]{height:69px;max-height:70px;border-radius:5px;font-size:12px}.box-image[_ngcontent-%COMP%]{height:102px;width:76px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:72px;max-height:98px;margin:auto}.box-book[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:5px;padding:.5rem;height:118px;min-width:300px}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.scroll[_ngcontent-%COMP%]{overflow:auto;max-height:78px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px;width:8px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}"]})}return l})();var _a=g(19857);let da=(()=>{class l extends a.H{ngOnInit(){(0,q.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id"));let i=this.commonService.getMyQueryParam("studentId"),u=this.commonService.getMyQueryParam("backTo");this.backToLink=i?"/admin/student/classroom-details/"+this.classroomId+"/4":u||"/admin/student/classroom-details/"+this.classroomId+"/3"}),super.ngOnInit()}constructor(i){super(),this.activeRoute=i,this.backToLink="",this.isShowData=!1,this.classroomId=0,this.programId=0,this.sessionId=0}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(j.nX))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-enter-score"]],features:[t.Vt3],decls:2,vars:6,consts:[[3,"headerBackToLink"],[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(u,_){1&u&&(t.j41(0,"teacher-layout",0),t.nrm(1,"app-table-score",1),t.k0s()),2&u&&(t.Y8G("headerBackToLink",_.backToLink),t.R7$(1),t.Y8G("isStudent",!1)("screenType","ENTER_SCORE")("classroomId",_.classroomId)("programId",_.programId)("sessionId",_.sessionId))},dependencies:[pt.Q,_a.g],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}"]})}return l})();var ua=g(44658),Fn=g(19548),Hi=g(43404),Zs=g(4375);function pa(l,x){1&l&&(t.j41(0,"div",33),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}function ga(l,x){if(1&l&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&l){const i=t.XpG(2);t.R7$(1),t.SpI("- ",i.selectedYearValue+1,"")}}function ha(l,x){if(1&l&&(t.j41(0,"mat-option",34),t.EFF(1),t.DNE(2,ga,2,1,"span",35),t.k0s()),2&l){const i=x.$implicit,u=t.XpG();t.Y8G("value",i),t.R7$(1),t.SpI(" ",i," "),t.R7$(1),t.Y8G("ngIf",u.selectedYearValue==i)}}function Si(l,x){1&l&&(t.j41(0,"div",36),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(1),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_school_year"),". "))}function fa(l,x){if(1&l&&(t.j41(0,"span",41),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l){const i=t.XpG().$implicit;t.R7$(1),t.JRh(t.bMT(2,1,i.groupObj.name))}}function ba(l,x){if(1&l&&(t.j41(0,"span",42),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&l){const i=t.XpG().$implicit;t.FS9("matTooltip",t.bMT(1,2,i.groupObj.name)),t.R7$(2),t.JRh(t.bMT(3,4,i.groupObj.name))}}function va(l,x){if(1&l&&(t.qex(0),t.j41(1,"div",37)(2,"mat-radio-button",38),t.DNE(3,fa,3,3,"span",39),t.nI1(4,"mytranslate"),t.DNE(5,ba,4,6,"span",40),t.nI1(6,"mytranslate"),t.k0s()(),t.bVm()),2&l){const i=x.$implicit;t.R7$(2),t.Y8G("value",i.groupObj.id),t.R7$(1),t.Y8G("ngIf",i.groupObj.name&&t.bMT(4,3,i.groupObj.name).length<15),t.R7$(2),t.Y8G("ngIf",i.groupObj.name&&t.bMT(6,5,i.groupObj.name).length>=15)}}function ka(l,x){1&l&&(t.j41(0,"div",43),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_name_group")," "))}function Ca(l,x){if(1&l){const i=t.RV6();t.j41(0,"a",44),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.isShowCreateGroupOfClassroomOfClassroomBox(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&l&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_+_them_nhom")," "))}function xa(l,x){1&l&&(t.nrm(0,"input",45,46),t.nI1(2,"mytranslate")),2&l&&t.FS9("placeholder",t.bMT(2,1,"lang_auto_ten_nhom_vd_khoi_1_khoi_2"))}function Ta(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",47)(1,"button",48),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.createNewGroupOfClassroom())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"button",49),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.isShowCreateGroupOfClassroomOfClassroomBox(!1))}),t.nrm(5,"lucide-icon",50),t.k0s()()}if(2&l){const i=t.XpG();t.R7$(1),t.Y8G("disabled",i.form.controls.nameGroup.errors),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_tao_nhom")," ")}}function Ia(l,x){1&l&&(t.j41(0,"div",51),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(1),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_name_group"),". "))}function Sa(l,x){1&l&&t.nrm(0,"azt-loading-ui",54)}function ya(l,x){if(1&l){const i=t.RV6();t.qex(0),t.j41(1,"button",52),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.saveClassroomObj(!1))}),t.DNE(2,Sa,1,0,"azt-loading-ui",53),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.bVm()}if(2&l){const i=t.XpG();t.R7$(1),t.Y8G("disabled",i.statusObj.loading||i.form.controls.nameClass.errors),t.R7$(1),t.Y8G("ngIf",i.statusObj.loading&&"save"==i.activeButton),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_button_save")," ")}}function ja(l,x){1&l&&t.nrm(0,"azt-loading-ui",54)}function Oa(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",55),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.updateClassroomObj())}),t.DNE(1,ja,1,0,"azt-loading-ui",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&l){const i=t.XpG();t.Y8G("disabled",i.statusObj.loading||i.form.controls.nameClass.errors),t.R7$(1),t.Y8G("ngIf",i.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(3,3,"lang_button_update")," ")}}function Ea(l,x){1&l&&t.nrm(0,"azt-loading-ui",54)}function wa(l,x){if(1&l){const i=t.RV6();t.j41(0,"button",56),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.saveClassroomObj(!0))}),t.DNE(1,Ea,1,0,"azt-loading-ui",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&l){const i=t.XpG();t.Y8G("disabled",i.statusObj.loading||i.form.controls.nameClass.errors),t.R7$(1),t.Y8G("ngIf",i.statusObj.loading&&"save_and_close"==i.activeButton),t.R7$(1),t.SpI(" ",t.bMT(3,3,"lang_core_luu_va_dong")," ")}}let qs=(()=>{class l extends de._{closeDialog(){this.dialogRef.close(!!this.hasCreateNewGroup)}createNewGroupOfClassroom(){if(this.initStatusObj(),this.form.controls.nameGroup.valid){this.isShowCreateGroupOfClassroom=!1;let i={groupName:this.form.getRawValue().nameGroup};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomGroupPost(i).subscribe(u=>{1==u.success?(this.hasCreateNewGroup=!0,this.getClassroomObjs(),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):this.errorStatusObj(u.message??"",!0)}))}}isShowCreateGroupOfClassroomOfClassroomBox(i){this.form.controls.nameGroup.setValue(""),this.isShowCreateGroupOfClassroom=i}updateClassroomObj(){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;let u=this.form.getRawValue().group;u=u!=this.fakeGroupValue?u:void 0;let _={id:this.classroomObj?.id??0,classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:u??0};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomWithGroupPost(_).subscribe(v=>{1==v.success?v.data?.isDuplicatedClassroomName?this.errorStatusObj(v.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):(this.successStatusObj("lang_auto_sua_lop_hoc_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_auto_sua_lop_hoc_khong_thanh_cong",!0)}))}saveClassroomObj(i){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;this.initStatusObj(),this.activeButton=i?"save_and_close":"save";let _=this.form.getRawValue().group;_=_!=this.fakeGroupValue?_:void 0;let v={classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:_};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(v).subscribe(A=>{if(1==A.success)if(A.data?.isDuplicatedClassroomName)this.errorStatusObj(A.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0);else{this.successStatusObj("lang_auto_them_lop_thanh_cong",!0);let et=A.data?.obj.id;i&&(this.dialogRef.close(),this.commonService.myNavigation(`/admin/student/classroom-details/${et}/0`)),this.form.controls.nameClass.setValue(""),this.form.markAsPristine()}else this.errorStatusObj("lang_auto_them_lop_hoc_khong_thanh_cong",!0)}))}handleData(){let i=(new Date).getFullYear();for(let A=i-20;A<=i+40;A++)this.years.push(A);null!=this.classroomObj&&(null==this.classroomObj.year&&(this.classroomObj.year=""),null==this.classroomObj.classroomGroupId&&(this.classroomObj.classroomGroupId=this.fakeGroupValue));let u=this.classroomObj?this.classroomObj?.year?.split(" ")[0]:"";this.selectedYearValue=""!=u?parseInt(u??"",10):i;let _=this.classroomObj?this.classroomObj.classroomGroupId:this.fakeGroupValue;this.form=new st.gE({nameClass:new st.MJ(this.classroomObj?this.classroomObj.name:"",{nonNullable:!0,validators:[st.k0.required]}),nameGroup:new st.MJ("",{nonNullable:!0,validators:[st.k0.required]}),group:new st.MJ(_,{nonNullable:!0,validators:[st.k0.required]}),year:new st.MJ(this.selectedYearValue,{nonNullable:!0,validators:[st.k0.required]})})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(i=>{1==i.success?(this.activeClassroomData=i?.data?.activeClassroomData,this.successStatusObj()):this.errorStatusObj(i.message??"",!0)}))}ngOnInit(){this.handleData(),this.getClassroomObjs()}constructor(i,u,_){super(_,u),this.classroomGroupService=i,this.dialogRef=u,this.data=_,this.selectedYearValue=0,this.isShowCreateGroupOfClassroom=!1,this.fakeGroupValue=-2,this.years=[],this.hasCreateNewGroup=!1,this.activeButton="save",this.classroomObj=_.classroomObj,this.form=new st.gE({nameClass:new st.MJ("",{nonNullable:!0,validators:[st.k0.required]}),nameGroup:new st.MJ("",{nonNullable:!0,validators:[st.k0.required]}),group:new st.MJ(0,{nonNullable:!0,validators:[st.k0.required]}),year:new st.MJ(0,{nonNullable:!0,validators:[st.k0.required]})})}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(Fn.kG),t.rXU(te.CP,8),t.rXU(te.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-create-or-classroom"]],features:[t.Vt3],decls:47,vars:34,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","nameClass",1,"form-label"],["type","text","id","nameClass","formControlName","nameClass",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","year",1,"form-label"],["appearance","outline"],["formControlName","year","id","year",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-xs text-danger mt-1","style","width: 100%; margin: auto",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["formControlName","group"],[1,"grid","grid-cols-10","gap-4","sm:gap-6","azt-create-update-classroom","px-3"],[4,"ngFor","ngForOf"],["class","text-danger text-danger mt-1",4,"ngIf"],[1,"p-3","flex","flex-col","md:flex-row","md:items-center"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN","class","m-1 btn-text-primary",3,"click",4,"ngIf"],["type","text","class","form-control mr-2","style","width: auto","formControlName","nameGroup",3,"placeholder",4,"ngIf"],["class","flex",4,"ngIf"],["class","text-danger pl-5 pb-2","style","max-width: 250px",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],[4,"ngIf","ngIfElse"],["updateData",""],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl","class","btn btn-info",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[4,"ngIf"],[1,"text-xs","text-danger","mt-1",2,"width","100%","margin","auto"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3","w-full"],["color","primary",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"text-danger","text-danger","mt-1"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN",1,"m-1","btn-text-primary",3,"click"],["type","text","formControlName","nameGroup",1,"form-control","mr-2",2,"width","auto",3,"placeholder"],["nameGroup",""],[1,"flex"],["azt-track-service","create-or-update-classroom-dialog-93qcHBpjZM3",1,"btn","block","btn-primary","mr-2","ml-0","md:ml-2","mt-2","md:mt-0",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-F4XQrjncsAd",1,"btn","block","btn-secondary","mt-2","md:mt-0",3,"click"],["name","x","size","16"],[1,"text-danger","pl-5","pb-2",2,"max-width","250px"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","w-24","btn-primary","mr-2",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl",1,"btn","btn-info",3,"disabled","click"]],template:function(u,_){if(1&u&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"azt-mat-dialog-content")(9,"div",5)(10,"div",6)(11,"label",7),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.nrm(14,"input",8),t.nI1(15,"mytranslate"),t.DNE(16,pa,3,3,"div",9),t.k0s(),t.j41(17,"div",10)(18,"label",11),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"mat-form-field",12)(22,"mat-select",13),t.bIt("valueChange",function(A){return _.selectedYearValue=A}),t.DNE(23,ha,3,3,"mat-option",14),t.k0s()(),t.DNE(24,Si,3,3,"div",15),t.k0s(),t.j41(25,"div",16)(26,"div",17),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"div",18)(30,"mat-radio-group",19)(31,"div",20),t.DNE(32,va,7,7,"ng-container",21),t.k0s()(),t.DNE(33,ka,3,3,"div",22),t.j41(34,"div",23),t.DNE(35,Ca,3,3,"a",24),t.DNE(36,xa,3,3,"input",25),t.DNE(37,Ta,6,4,"div",26),t.k0s(),t.DNE(38,Ia,3,3,"div",27),t.k0s()()()()(),t.j41(39,"div",28)(40,"button",29),t.bIt("click",function(){return _.closeDialog()}),t.EFF(41),t.nI1(42,"mytranslate"),t.k0s(),t.DNE(43,ya,5,5,"ng-container",30),t.DNE(44,Oa,4,5,"ng-template",null,31,t.C5r),t.DNE(46,wa,4,5,"button",32),t.k0s()()()),2&u){const v=t.sdS(45);t.R7$(1),t.Y8G("formGroup",_.form),t.R7$(4),t.SpI(" ",_.classroomObj?t.bMT(7,22,"lang_student_classroom_list_utils_create_class_update_class"):t.bMT(6,20,"lang_student_classroom_list_utils_create_class_add_class")," "),t.R7$(7),t.SpI(" ",t.bMT(13,24,"lang_auto_ten_lop")," "),t.R7$(2),t.FS9("placeholder",t.bMT(15,26,"lang_auto_nhap_ten_lop")),t.R7$(2),t.Y8G("ngIf",_.form.controls.nameClass.dirty&&_.form.controls.nameClass.errors),t.R7$(3),t.SpI(" ",t.bMT(20,28,"lang_auto_nam_hoc")," "),t.R7$(3),t.Y8G("value",_.selectedYearValue),t.R7$(1),t.Y8G("ngForOf",_.years),t.R7$(1),t.Y8G("ngIf",_.form.controls.year.dirty&&_.form.controls.year.errors),t.R7$(3),t.SpI(" ",t.bMT(28,30,"lang_student_classroom_list_utils_create_class_choose_group_class")," "),t.R7$(5),t.Y8G("ngForOf",_.activeClassroomData),t.R7$(1),t.Y8G("ngIf",_.form.controls.group.dirty&&_.form.controls.group.errors),t.R7$(2),t.Y8G("ngIf",0==_.isShowCreateGroupOfClassroom),t.R7$(1),t.Y8G("ngIf",1==_.isShowCreateGroupOfClassroom),t.R7$(1),t.Y8G("ngIf",_.isShowCreateGroupOfClassroom),t.R7$(1),t.Y8G("ngIf",_.isShowCreateGroupOfClassroom&&_.form.controls.nameGroup.dirty&&_.form.controls.nameGroup.errors),t.R7$(3),t.JRh(t.bMT(42,32,"lang_button_cancel")),t.R7$(2),t.Y8G("ngIf",!_.classroomObj)("ngIfElse",v),t.R7$(3),t.Y8G("ngIf",!_.classroomObj)}},dependencies:[o.Sq,o.bT,ut.wT,b.rl,Hi.VT,Hi._g,Zs.VO,B.oV,st.qT,st.me,st.BC,st.cb,st.j4,st.JD,ii.t,z.U,K.R,W.WGl,tt.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]})}return l})();var Ra=g(18350),Fa=g(7814);let to=(()=>{class l extends Fa.W{reloadClassrooms(i){this.typeFilter=i??"all",this.getClassroomObjs()}eventOfClassroomMenu(i){i&&this.getClassroomObjs()}updateGroupSuccessEvent(i){i&&this.getClassroomObjs()}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet(this.typeFilter).subscribe(i=>{i.success?(this.classroomGroupData=(this.isShowActiveClassroom?i?.data?.activeClassroomData:i?.data?.storageClassroomData)??[],this.totalStorageClassroom=this.commonService.concatMultipleArray(i?.data?.storageClassroomData?.map(u=>u.classroomObjs)??[]).length,this.isShowActiveClassroom||(this.classroomGroupData=this.classroomGroupData.filter(u=>u.classroomObjs.length>0)),this.initData(),this.successStatusObj()):this.errorStatusObj(i.message??"",!0)}))}constructor(){super(),this.typeFilter="all",this.classroomGroupService=(0,t.WQX)(Fn.kG),this.isShowActiveClassroom=!1,this.totalStorageClassroom=0}static#t=this.\u0275fac=function(u){return new(u||l)};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-base-show-classrooms"]],features:[t.Vt3],decls:0,vars:0,template:function(u,_){},encapsulation:2})}return l})();function Ma(l,x){1&l&&t.nrm(0,"azt-loading-ui",10)}let Da=(()=>{class l extends de._{closeDialog(i){this.dialogRef.close(i)}deleteClassroomObj(){this.classroomObj.isShareClassroom?this.updateClassroomToGroup():(this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomObjGet(this.classroomObj?.id??0).subscribe(i=>{1==i.success?(this.successStatusObj("lang_auto_xoa_lop_hoc_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_auto_xoa_lop_hoc_khong_thanh_cong",!0),this.dialogRef.close())})))}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classroomObj.id}).subscribe(u=>{1==u.success?(this.successStatusObj("lang_core_xoa_nhom_lop_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_core_xoa_nhom_lop_khong_thanh_cong",!0),this.closeDialog(!1))})}constructor(i,u,_){super(_,u),this.classroomGroupService=i,this.dialogRef=u,this.data=_,this.classroomObj=_.classroomObj}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(Fn.kG),t.rXU(te.CP,8),t.rXU(te.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-teacher-delete-classroom"]],features:[t.Vt3],decls:18,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-classroom-plZFV82pDhH",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-classroom-f8Z8p51QYG8",1,"btn","w-24","btn-danger",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(u,_){1&u&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.j41(8,"span",5),t.EFF(9),t.k0s()()()()(),t.j41(10,"div",6)(11,"button",7),t.bIt("click",function(){return _.closeDialog(!1)}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",8),t.bIt("click",function(){return _.deleteClassroomObj()}),t.DNE(15,Ma,1,0,"azt-loading-ui",9),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()),2&u&&(t.R7$(5),t.Lme(" ",_.classroomObj.isShareClassroom?t.bMT(6,7,"lang_core_bo_quyen_luu_y_sau_khi_xoa_lop_duoc_chia_se"):""," ",t.bMT(7,9,"lang_student_classroom_list_utils_delete_class")," "),t.R7$(4),t.JRh(_.classroomObj.name),t.R7$(3),t.SpI(" ",t.bMT(13,11,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",1==_.statusObj.loading),t.R7$(1),t.Y8G("ngIf",_.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(17,13,"lang_button_delete")," "))},dependencies:[o.bT,K.R,tt.wp],encapsulation:2})}return l})();function Ga(l,x){1&l&&t.nrm(0,"azt-loading-ui")}function Na(l,x){if(1&l&&(t.j41(0,"span",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l){const i=t.XpG(3).$implicit;t.R7$(1),t.JRh(t.bMT(2,1,i.groupObj.name))}}function $a(l,x){if(1&l&&(t.j41(0,"span",23),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&l){const i=t.XpG(3).$implicit;t.FS9("matTooltip",t.bMT(1,2,i.groupObj.name)),t.R7$(2),t.JRh(t.bMT(3,4,i.groupObj.name))}}function za(l,x){if(1&l&&(t.j41(0,"mat-radio-button",19),t.DNE(1,Na,3,3,"span",20),t.DNE(2,$a,4,6,"span",21),t.k0s()),2&l){const i=t.XpG(2).$implicit;t.Y8G("value",i.groupObj.id),t.R7$(1),t.Y8G("ngIf",i.groupObj.name&&i.groupObj.name.length<15),t.R7$(1),t.Y8G("ngIf",i.groupObj.name&&i.groupObj.name.length>=15)}}function Pa(l,x){if(1&l&&(t.j41(0,"div",17),t.DNE(1,za,3,3,"mat-radio-button",18),t.k0s()),2&l){const i=t.XpG().$implicit;t.R7$(1),t.Y8G("ngIf",null!=i.groupObj)}}function Aa(l,x){1&l&&(t.j41(0,"div",24)(1,"mat-radio-button",19),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&l&&(t.R7$(1),t.Y8G("value",0),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_student_classroom_list_other")," "))}function La(l,x){if(1&l&&(t.qex(0),t.DNE(1,Pa,2,1,"div",15),t.DNE(2,Aa,4,4,"div",16),t.bVm()),2&l){const i=x.$implicit;t.R7$(1),t.Y8G("ngIf",null!=i.groupObj),t.R7$(1),t.Y8G("ngIf",null==i.groupObj)}}function Ya(l,x){1&l&&t.nrm(0,"azt-loading-ui",25)}let Ba=(()=>{class l extends de._{closeDialog(){this.dialogRef.close()}chooseGroup(){let i=this.form.getRawValue();this.groupId=i.groupId!=this.fakeGroupValue?i.groupId:void 0}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classId,groupId:this.groupId}).subscribe(u=>{1==u.success?(this.successStatusObj("lang_core_di_chuyen_nhom_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_core_di_chuyen_nhom_khong_thanh_cong",!0),this.closeDialog())})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(i=>{if(1==i.success){for(var u of(this.activeClassroomData=i?.data?.activeClassroomData??[],this.activeClassroomData))u.classroomObjs.find(A=>A.id==this.classId)&&(this.form=new st.gE({groupId:new st.MJ(u.groupObj.id,{nonNullable:!0,validators:[st.k0.required]})}));this.successStatusObj()}else this.errorStatusObj(i.message??"",!0)}))}ngOnInit(){this.getClassroomObjs()}constructor(i,u,_){super(_,u),this.classroomGroupService=i,this.dialogRef=u,this.data=_,this.classId=0,this.fakeGroupValue=-2,this.classId=_.classId,this.form=new st.gE({groupId:new st.MJ(void 0,{nonNullable:!0,validators:[st.k0.required]})})}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(Fn.kG),t.rXU(te.CP,8),t.rXU(te.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-move-classroom-to-group"]],features:[t.Vt3],decls:22,vars:14,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class","list-group"],[1,"pt-2"],[4,"ngIf"],["formControlName","groupId",3,"change"],[1,"grid","grid-cols-12","gap-4","sm:gap-6","azt-create-update-classroom"],[4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6",4,"ngIf"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6","w-full"],["color","primary","size","small","class","w-full",3,"value",4,"ngIf"],["color","primary","size","small",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6"],[1,"mr-1"]],template:function(u,_){1&u&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6),t.DNE(10,Ga,1,0,"azt-loading-ui",7),t.j41(11,"mat-radio-group",8),t.bIt("change",function(){return _.chooseGroup()}),t.j41(12,"div",9),t.DNE(13,La,3,2,"ng-container",10),t.k0s()()()()()(),t.j41(14,"div",11)(15,"button",12),t.bIt("click",function(){return _.closeDialog()}),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"button",13),t.bIt("click",function(){return _.updateClassroomToGroup()}),t.DNE(19,Ya,1,0,"azt-loading-ui",14),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()()),2&u&&(t.R7$(1),t.Y8G("formGroup",_.form),t.R7$(4),t.SpI(" ",t.bMT(6,8,"lang_core_chon_nhom_lop_muon_chuyen_sang")," "),t.R7$(5),t.Y8G("ngIf",_.statusObj.loading),t.R7$(3),t.Y8G("ngForOf",_.activeClassroomData),t.R7$(3),t.JRh(t.bMT(17,10,"lang_button_cancel")),t.R7$(2),t.Y8G("disabled",_.form.controls.groupId.errors),t.R7$(1),t.Y8G("ngIf",_.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(21,12,"lang_button_update")," "))},dependencies:[o.Sq,o.bT,Hi.VT,Hi._g,B.oV,st.qT,st.BC,st.cb,st.j4,st.JD,ii.t,z.U,K.R,tt.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:210px;vertical-align:middle;cursor:pointer;margin-left:-5px}.list-group[_ngcontent-%COMP%]   .mdc-radio__inner-circle[_ngcontent-%COMP%]{border-width:7px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio__background[_ngcontent-%COMP%]{width:15px!important;height:15px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]   .mdc-radio__native-control[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{padding:calc((var(--mdc-radio-state-layer-size, 30px) - 20px) / 2)}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{display:flex!important;width:auto!important;height:auto!important}@media (max-width: 767px){.truncate[_ngcontent-%COMP%]{max-width:190px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]})}return l})();function Va(l,x){1&l&&(t.j41(0,"div",15)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&l&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_homework_add_home_work_share")))}const Ua=function(){return{"text-slate-500":!0}};function Xa(l,x){if(1&l&&(t.j41(0,"div",16)(1,"a",17),t.bIt("click",function(u){return u.preventDefault()}),t.nrm(2,"lucide-icon",18),t.k0s()()),2&l){t.XpG();const i=t.sdS(17);t.R7$(1),t.Y8G("matMenuTriggerFor",i),t.R7$(1),t.Y8G("ngClass",t.lJ4(2,Ua))}}const Mn=function(){return{"mr-2":!0}};function Wa(l,x){if(1&l){const i=t.RV6();t.j41(0,"li")(1,"a",19),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.editClassroomDialog())}),t.nrm(2,"lucide-icon",20),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Mn)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_sua_lop")," "))}function Ha(l,x){if(1&l){const i=t.RV6();t.j41(0,"li")(1,"a",21),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.copyClassroomObj())}),t.nrm(2,"lucide-icon",22),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Mn)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_nhan_ban_lop")," "))}function Ja(l,x){if(1&l){const i=t.RV6();t.j41(0,"li")(1,"a",23),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.moveClassroomToStorage())}),t.nrm(2,"lucide-icon",24),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Mn)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_dua_vao_luu_tru")," "))}function Ka(l,x){if(1&l){const i=t.RV6();t.j41(0,"li")(1,"a",25),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.moveSharedClassroomToStorage())}),t.nrm(2,"lucide-icon",24),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Mn)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_dua_vao_luu_tru")," "))}function Qa(l,x){if(1&l){const i=t.RV6();t.j41(0,"li")(1,"a",26),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.moveClassroomFromStorageToActive())}),t.nrm(2,"lucide-icon",27),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Mn)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_khoi_phuc")," "))}function Za(l,x){if(1&l){const i=t.RV6();t.j41(0,"li")(1,"a",28),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.moveSharedClassroomFromStorageToActive())}),t.nrm(2,"lucide-icon",27),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Mn)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_khoi_phuc")," "))}function In(l,x){if(1&l){const i=t.RV6();t.j41(0,"li")(1,"a",28),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.updateClassroom())}),t.nrm(2,"lucide-icon",29),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Mn)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_core_sua_di_chuyen")," "))}function Fe(l,x){if(1&l){const i=t.RV6();t.j41(0,"li")(1,"a",30),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.deleteClassroomDialog())}),t.nrm(2,"lucide-icon",31),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&l&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Mn)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_xoa_lop")," "))}const ae=function(l){return[l]};let $e=(()=>{class l extends a.H{goToMergeList(){this.commonService.myNavigation("/admin/student/merge-student/"+this.classroomObj.id)}updateClassroom(){this.sAztDialogService.open(Ba,{data:{classId:this.classroomObj.id},width:"550px",restoreFocus:!1}).afterClosed().subscribe(u=>{u&&this.eventOfClassroomMenu.emit(!0)})}moveClassroomToStorage(){this.classroomGroupService.apiClassroomGroupMoveClassroomToStorageGet(this.classroomObj.id??0).subscribe(i=>{1==i.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj("lang_auto_dua_vao_luu_tru_khong_thanh_cong")})}moveSharedClassroomToStorage(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:5}).subscribe(u=>{1==u.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj(u.message??"")})}moveClassroomFromStorageToActive(){this.classroomGroupService.apiClassroomGroupRestoreClassroomGet(this.classroomObj.id??0).subscribe(i=>{1==i.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj("lang_auto_khoi_phuc_lop_hoc_khong_thanh_cong")})}moveSharedClassroomFromStorageToActive(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:2}).subscribe(u=>{1==u.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj(u.message??"")})}editClassroomDialog(){this.sAztDialogService.open(qs,{data:{classroomObj:this.classroomObj},width:"550px",restoreFocus:!1}).afterClosed().subscribe(u=>{u&&this.eventOfClassroomMenu.emit(!0)})}deleteClassroomDialog(){this.sAztDialogService.open(Da,{width:"400px",data:{classroomObj:this.classroomObj},restoreFocus:!1}).afterClosed().subscribe(u=>{u&&this.eventOfClassroomMenu.emit(!0)})}copyClassroomObj(){this.showSuccessSnack("lang_auto_dang_nhan_ban_lop_hoc_vui_long_doi_trong_giay_lat_doing"),this.classroomGroupService.apiClassroomGroupCopyClassroomGet(this.classroomObj.id??0).subscribe(i=>{1==i.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_nhan_ban_lop_hoc_thanh_cong",!0)):this.errorStatusObj("lang_auto_nhan_ban_lop_hoc_khong_thanh_cong",!0)})}ngOnInit(){super.ngOnInit(),this.programId=this.commonService.getMyQueryParam("programId")}constructor(i,u,_){super(),this.classroomGroupService=i,this.permissionTeamService=u,this.sAztDialogService=_,this.eventOfClassroomMenu=new t.bkB,this.screenTemplate=""}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(Fn.kG),t.rXU(Fn.km),t.rXU(ee.i))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["azt-information-class-box"]],inputs:{classroomObj:"classroomObj",screenTemplate:"screenTemplate"},outputs:{eventOfClassroomMenu:"eventOfClassroomMenu"},features:[t.Vt3],decls:31,vars:36,consts:[[1,"relative"],["azt-track-service","information-class-box-lTAPwcAOtkX",1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-4","cursor-pointer","block",2,"background","#eee",3,"routerLink"],[1,"flex","items-center"],[1,"block","font-medium","truncate",2,"max-width","70%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"flex"],[1,"text-slate-500","mr-auto","text-xs","mt-2"],[1,"text-slate-500","text-xs","mt-2"],["class","ribbon",4,"ngIf"],["class","ml-auto absolute top-0 right-0","style","margin: 15px",4,"ngIf"],["xPosition","before"],["classroomMenuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[4,"ngIf"],[1,"ribbon"],[1,"ml-auto","absolute","top-0","right-0",2,"margin","15px"],["azt-track-service","information-class-box-tDPvhBl5vWp",1,"clickable","flex","items-center","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["name","ellipsis","size","20",3,"ngClass"],["azt-track-service","information-class-box-Y6FVEqAKljD",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","information-class-box-1Z4loYYCXOT",1,"dropdown-item",3,"click"],["name","copy","size","16",3,"ngClass"],["azt-track-service","information-class-box-yNwo0EZravB",1,"dropdown-item",3,"click"],["name","database","size","16",3,"ngClass"],["azt-track-service","information-class-box-OkjnS3UN_Xz",1,"dropdown-item",3,"click"],["azt-track-service","information-class-box-5V-axi1fKp3",1,"dropdown-item",3,"click"],["name","timer-reset","size","16",3,"ngClass"],["azt-track-service","information-class-box-yPIM4KNi4qL",1,"dropdown-item",3,"click"],["name","shuffle","size","16",3,"ngClass"],["azt-track-service","information-class-box-4Glzv5SSUAO",1,"dropdown-item","text-danger",3,"click"],["name","trash","size","16",3,"ngClass"]],template:function(u,_){if(1&u&&(t.j41(0,"div",0)(1,"a",1),t.nI1(2,"navigationLocalize"),t.j41(3,"div",2)(4,"a",3,4),t.EFF(6),t.k0s()(),t.j41(7,"div",5)(8,"div",6),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div",7),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()(),t.DNE(14,Va,4,3,"div",8),t.k0s(),t.DNE(15,Xa,3,3,"div",9),t.k0s(),t.j41(16,"mat-menu",10,11)(18,"div",12)(19,"ul",13),t.DNE(20,Wa,5,5,"li",14),t.nI1(21,"editPermission"),t.DNE(22,Ha,5,5,"li",14),t.nI1(23,"fullPermission"),t.DNE(24,Ja,5,5,"li",14),t.DNE(25,Ka,5,5,"li",14),t.DNE(26,Qa,5,5,"li",14),t.DNE(27,Za,5,5,"li",14),t.DNE(28,In,5,5,"li",14),t.DNE(29,Fe,5,5,"li",14),t.nI1(30,"deletePermission"),t.k0s()()()),2&u){const v=t.sdS(5);t.R7$(1),t.Y8G("routerLink",t.eq3(34,ae,t.bMT(2,19,"/admin/student/classroom-details/"+_.classroomObj.id+(_.programId?"/3":"/0")))),t.R7$(3),t.FS9("matTooltip",_.classroomObj.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",v.isDisabled),t.R7$(2),t.SpI(" ",_.classroomObj.name," "),t.R7$(3),t.Lme("",t.bMT(10,21,"lang_auto_si_so"),": ",_.classroomObj.countStudents,""),t.R7$(3),t.Lme("",t.bMT(13,23,"lang_auto_nam_hoc"),": ",_.classroomObj.year,""),t.R7$(2),t.Y8G("ngIf",_.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf",_.classroomObj.permissionObj),t.R7$(5),t.Y8G("ngIf",""==_.screenTemplate&&t.i5U(21,25,_.classroomObj,"classroom")),t.R7$(2),t.Y8G("ngIf",""==_.screenTemplate&&t.i5U(23,28,_.classroomObj,"classroom")),t.R7$(2),t.Y8G("ngIf",""==_.screenTemplate&&!_.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf",""==_.screenTemplate&&_.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf","storage"==_.screenTemplate),t.R7$(1),t.Y8G("ngIf","showListPeopleWhoWillShare"==_.screenTemplate),t.R7$(1),t.Y8G("ngIf",""==_.screenTemplate&&_.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf",t.i5U(30,31,_.classroomObj,"classroom"))}},dependencies:[o.YU,o.bT,ft.kk,ft.Cp,B.oV,j.Wk,W.WGl,Gt.f,tt.F2,tt.wp,tt.gC,tt.FV,tt.AJ],styles:[".ribbon[_ngcontent-%COMP%]{position:absolute;right:-2px;top:-2px;z-index:1;overflow:hidden;width:45px;height:45px;text-align:right}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:7px;color:#fff;text-transform:uppercase;text-align:center;font-weight:700;line-height:12px;transform:rotate(45deg);-webkit-transform:rotate(45deg);width:55px;display:block;background:linear-gradient(#68cc00,#68cc009c);box-shadow:0 3px 10px -5px #636363;position:absolute;top:6px;right:-14px}.ml-auto[_ngcontent-%COMP%]{z-index:999}"]})}return l})();function yi(l,x){1&l&&t.nrm(0,"azt-loading-ui",10)}let pr=(()=>{class l extends de._{closeDialog(i){this.dialogRef.close(i)}deleteGroupOfClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomGroupGet(this.currentGroupOfClassroomDataThatIsEdited?.id??0).subscribe(i=>{1==i.success?(this.showSuccessSnack("lang_auto_xoa_nhom_thanh_cong"),this.successStatusObj(),this.closeDialog(!0)):(this.errorStatusObj(i.message??"",!0),this.dialogRef.close())}))}constructor(i,u,_){super(_,u),this.classroomGroupService=i,this.dialogRef=u,this.data=_,this.currentGroupOfClassroomDataThatIsEdited=_.groupObj}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(Fn.kG),t.rXU(te.CP,8),t.rXU(te.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-delete-group"]],features:[t.Vt3],decls:17,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-danger",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(u,_){1&u&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"span",5),t.EFF(8),t.k0s()()()()(),t.j41(9,"div",6)(10,"button",7),t.bIt("click",function(){return _.closeDialog(!1)}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",8),t.bIt("click",function(){return _.deleteGroupOfClassroom()}),t.DNE(14,yi,1,0,"azt-loading-ui",9),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()),2&u&&(t.R7$(5),t.SpI(" ",t.bMT(6,6,"lang_student_classroom_list_utils_delete_group")," "),t.R7$(3),t.JRh(null==_.currentGroupOfClassroomDataThatIsEdited?null:_.currentGroupOfClassroomDataThatIsEdited.name),t.R7$(3),t.SpI(" ",t.bMT(12,8,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",1==_.statusObj.loading),t.R7$(1),t.Y8G("ngIf",_.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(16,10,"lang_button_delete")," "))},dependencies:[o.bT,K.R,tt.wp],encapsulation:2})}return l})();function Ji(l,x){if(1&l&&(t.j41(0,"button",26),t.bIt("click",function(u){return u.stopPropagation()}),t.nrm(1,"lucide-icon",27),t.k0s()),2&l){t.XpG();const i=t.sdS(11);t.Y8G("matMenuTriggerFor",i)}}function Ki(l,x){1&l&&(t.j41(0,"div",28),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_enter_name_group")," "))}const li=function(){return{"mr-2":!0}};let eo=(()=>{class l extends a.H{collapseByGroupId(i){this.collapseByGroupIdEvent.emit(i)}deleteGroupDialog(){this.sAztDialogService.open(pr,{width:"400px",data:{groupObj:this.groupObj},restoreFocus:!1}).afterClosed().subscribe(u=>{u&&this.updateGroupSuccessEvent.emit(!0)})}updateGroupOfClassroom(i){if(""!=i.trim()){var u={groupId:this.groupObj?.id??0,name:i};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomGroupPost(u).subscribe(_=>{1==_.success?(this.successStatusObj("lang_auto_cap_nhat_nhom_thanh_cong",!0),this.updateGroupSuccessEvent.emit(!0)):this.errorStatusObj(_.message??"",!0)}))}}constructor(i,u){super(),this.classroomGroupService=i,this.sAztDialogService=u,this.updateGroupSuccessEvent=new t.bkB,this.collapseByGroupIdEvent=new t.bkB}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(Fn.kG),t.rXU(ee.i))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-teacher-classroom-show-group-box"]],inputs:{groupObj:"groupObj",isOwned:"isOwned"},outputs:{updateGroupSuccessEvent:"updateGroupSuccessEvent",collapseByGroupIdEvent:"collapseByGroupIdEvent"},features:[t.Vt3],decls:43,vars:35,consts:[[1,"flex","items-center"],[1,"text-lg","font-medium","truncate","mr-3"],["azt-track-service","azt-list-classroom-view-mpTg8jgQkF",1,"flex","items-center","clickable",3,"click"],[3,"name","size"],[1,"font-medium","truncate"],[1,"dropdown"],["azt-track-service","class-list-U9X02wc0f","class","dropdown-toggle p-1 hover:bg-gray dark:hover:bg-darkmode-400 rounded-md","aria-expanded","false","data-tw-toggle","dropdown",3,"matMenuTriggerFor","click",4,"ngIf"],["menu","matMenu"],[1,"box","grid"],["azt-track-service","class-list-9ufWL4LIlj","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","pr-3","btn-edit","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor","click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","class-list-Qqdrk4Sj2Q",1,"pr-3","btn-delete","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","trash-2","size","16",3,"ngClass"],["xPosition","after"],["matMenuGroupOfClassroom",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["azt-track-service","class-list-G1Mkx8IXu63",1,"modal-body"],[1,"text-base","font-medium","mr-auto"],["azt-track-service","class-list-0AWKcuGUws",3,"click"],["type","text","aria-label","default input example",1,"form-control","mt-2",3,"value","placeholder"],["nameGroup",""],["class","alert alert-danger p-1 mt-2",4,"ngIf"],[1,"text-right","mt-3",2,"display","flex","justify-content","space-between"],["azt-track-service","class-list-qHpiXjTg249",1,"btn","w-24","btn-secondary","mr-2"],["azt-track-service","class-list-lVV77oiaCLP",1,"btn","w-24","btn-primary",3,"disabled","click"],["azt-track-service","class-list-U9X02wc0f","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","p-1","hover:bg-gray","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["name","ellipsis-vertical","size","16"],[1,"alert","alert-danger","p-1","mt-2"]],template:function(u,_){if(1&u){const v=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"span",2),t.bIt("click",function(){return _.collapseByGroupId(_.groupObj)}),t.nrm(3,"lucide-icon",3),t.j41(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()()(),t.j41(8,"div",5),t.DNE(9,Ji,2,1,"button",6),t.j41(10,"mat-menu",null,7)(12,"div",8)(13,"button",9),t.bIt("click",function(et){return et.stopPropagation()}),t.nrm(14,"lucide-icon",10),t.j41(15,"span"),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"button",11),t.bIt("click",function(){return _.deleteGroupDialog()}),t.nrm(19,"lucide-icon",12),t.j41(20,"span"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()()()()(),t.j41(23,"mat-menu",13,14)(25,"div",15)(26,"div",16)(27,"div",17)(28,"h2",18),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.j41(31,"div",19),t.bIt("click",function(et){return et.stopPropagation()}),t.nrm(32,"input",20,21),t.nI1(34,"mytranslate"),t.DNE(35,Ki,3,3,"div",22),t.k0s(),t.j41(36,"div",23)(37,"button",24),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s(),t.j41(40,"button",25),t.bIt("click",function(){t.eBV(v);const et=t.sdS(33);return t.Njj(_.updateGroupOfClassroom(et.value))}),t.EFF(41),t.nI1(42,"mytranslate"),t.k0s()()()()()()}if(2&u){const v=t.sdS(24),A=t.sdS(33);t.R7$(3),t.Y8G("name",_.groupObj.isExpand?"chevron-down":"chevron-right")("size",24),t.R7$(2),t.Lme("",t.bMT(6,17,_.groupObj.name)," ","("+_.groupObj.totalViewClassrooms+" "+t.bMT(7,19,"lang_testbank_test_list_classes")+")",""),t.R7$(4),t.Y8G("ngIf",_.groupObj.id>0&&_.isOwned),t.R7$(4),t.Y8G("matMenuTriggerFor",v),t.R7$(1),t.Y8G("ngClass",t.lJ4(33,li)),t.R7$(2),t.JRh(t.bMT(17,21,"lang_button_edit")),t.R7$(3),t.Y8G("ngClass",t.lJ4(34,li)),t.R7$(2),t.JRh(t.bMT(22,23,"lang_button_delete")),t.R7$(8),t.JRh(t.bMT(30,25,"lang_student_classroom_list_update_group")),t.R7$(3),t.FS9("value",_.groupObj.name),t.FS9("placeholder",t.bMT(34,27,"lang_auto_nhap_ten_nhom")),t.R7$(3),t.Y8G("ngIf",""==A.value.trim()),t.R7$(3),t.SpI(" ",t.bMT(39,29,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",""==A.value.trim()),t.R7$(1),t.SpI(" ",t.bMT(42,31,"lang_student_classroom_list_update")," ")}},dependencies:[o.YU,o.bT,ft.kk,ft.Cp,W.WGl,tt.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}return l})();function Qi(l,x){if(1&l&&t.nrm(0,"azt-loading-effect",3),2&l){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function no(l,x){if(1&l){const i=t.RV6();t.qex(0),t.j41(1,"div",18)(2,"azt-information-class-box",19),t.bIt("eventOfClassroomMenu",function(_){t.eBV(i);const v=t.XpG(5);return t.Njj(v.eventOfClassroomMenu(_))}),t.k0s()(),t.bVm()}if(2&l){const i=x.$implicit;t.R7$(1),t.Y8G("hidden",!i.isShowClassroom),t.R7$(1),t.Y8G("classroomObj",i)}}function fn(l,x){if(1&l&&(t.j41(0,"div",17),t.DNE(1,no,3,2,"ng-container",9),t.k0s()),2&l){const i=t.XpG(2).$implicit;t.R7$(1),t.Y8G("ngForOf",i.classroomObjs)}}function io(l,x){1&l&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_class_null"),"."))}function ke(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",12)(1,"app-teacher-classroom-show-group-box",13),t.bIt("updateGroupSuccessEvent",function(_){t.eBV(i);const v=t.XpG(3);return t.Njj(v.updateGroupSuccessEvent(_))})("collapseByGroupIdEvent",function(){t.eBV(i);const _=t.XpG().$implicit,v=t.XpG(2);return t.Njj(v.collapseByGroupId(_.groupObj))}),t.k0s(),t.j41(2,"div",14),t.DNE(3,fn,2,1,"div",15),t.DNE(4,io,3,3,"div",16),t.k0s()()}if(2&l){const i=t.XpG().$implicit;t.R7$(1),t.Y8G("groupObj",i.groupObj)("isOwned",i.isOwned),t.R7$(1),t.Y8G("hidden",!i.groupObj.isExpand),t.R7$(1),t.Y8G("ngIf",i.classroomObjs.length),t.R7$(1),t.Y8G("ngIf",0==i.classroomObjs.length)}}function ji(l,x){if(1&l&&(t.j41(0,"div"),t.DNE(1,ke,5,5,"div",11),t.k0s()),2&l){const i=x.$implicit;t.R7$(1),t.Y8G("ngIf",i.groupObj.isShowGroup)}}const xs=function(l){return[l]};function qa(l,x){if(1&l&&(t.j41(0,"div",21),t.nI1(1,"navigationLocalize"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&l){const i=t.XpG(2);t.Y8G("routerLink",t.eq3(7,xs,t.bMT(1,3,"/admin/student/manage-classroom/1"))),t.R7$(2),t.Lme(" ",t.bMT(3,5,"lang_student_classroom_list_storage")," (",i.totalStorageClassroom,") ")}}function tr(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.bIt("onSearch",function(_){t.eBV(i);const v=t.XpG();return t.Njj(v.searchByName(_.searchObj))}),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"span",7),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.collapseAll(!_.isExpandAll))}),t.nrm(5,"lucide-icon",8),t.k0s()(),t.DNE(6,ji,2,1,"div",9),t.DNE(7,qa,4,9,"div",10)}if(2&l){const i=t.XpG();t.R7$(2),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(3,5,"lang_testbank_test_list_search_class")),t.R7$(3),t.Y8G("name",i.isExpandAll?"chevrons-down-up":"chevrons-up-down"),t.R7$(1),t.Y8G("ngForOf",i.viewClassroomGroupObjs),t.R7$(1),t.Y8G("ngIf",i.totalStorageClassroom)}}let er=(()=>{class l extends to{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!0}static#t=this.\u0275fac=function(u){return new(u||l)};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-teacher-active-classrooms"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"isServerSearch","placeholder","onSearch"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],["size","24",3,"name"],[4,"ngFor","ngForOf"],["azt-track-service","class-list-9gXcamWSz","class","btn-text-primary font-medium cursor-pointer",3,"routerLink",4,"ngIf"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"groupObj","isOwned","updateGroupSuccessEvent","collapseByGroupIdEvent"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"classroomObj","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"],["azt-track-service","class-list-9gXcamWSz",1,"btn-text-primary","font-medium","cursor-pointer",3,"routerLink"]],template:function(u,_){if(1&u&&(t.j41(0,"div",0),t.DNE(1,Qi,1,1,"azt-loading-effect",1),t.DNE(2,tr,8,7,"ng-template",null,2,t.C5r),t.k0s()),2&u){const v=t.sdS(3);t.R7$(1),t.Y8G("ngIf",_.statusObj.loading)("ngIfElse",v)}},dependencies:[j.Wk,o.Sq,o.bT,L.K,$e,gt.W,W.WGl,eo,tt.F2,tt.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}return l})();function nr(l,x){if(1&l&&t.nrm(0,"azt-loading-effect",3),2&l){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function ir(l,x){if(1&l){const i=t.RV6();t.qex(0),t.j41(1,"div",17)(2,"azt-information-class-box",18),t.bIt("eventOfClassroomMenu",function(_){t.eBV(i);const v=t.XpG(5);return t.Njj(v.eventOfClassroomMenu(_))}),t.k0s()(),t.bVm()}if(2&l){const i=x.$implicit;t.R7$(1),t.Y8G("hidden",!i.isShowClassroom),t.R7$(1),t.Y8G("classroomObj",i)("screenTemplate","storage")}}function Zi(l,x){if(1&l&&(t.j41(0,"div",16),t.DNE(1,ir,3,3,"ng-container",9),t.k0s()),2&l){const i=t.XpG(2).$implicit;t.R7$(1),t.Y8G("ngForOf",i.classroomObjs)}}function qi(l,x){1&l&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_class_null"),"."))}function Ts(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",11)(1,"app-teacher-classroom-show-group-box",12),t.bIt("updateGroupSuccessEvent",function(_){t.eBV(i);const v=t.XpG(3);return t.Njj(v.updateGroupSuccessEvent(_))})("collapseByGroupIdEvent",function(){t.eBV(i);const _=t.XpG().$implicit,v=t.XpG(2);return t.Njj(v.collapseByGroupId(_.groupObj))}),t.k0s(),t.j41(2,"div",13),t.DNE(3,Zi,2,1,"div",14),t.DNE(4,qi,3,3,"div",15),t.k0s()()}if(2&l){const i=t.XpG().$implicit;t.R7$(1),t.Y8G("groupObj",i.groupObj)("isOwned",i.isOwned),t.R7$(1),t.Y8G("hidden",!i.groupObj.isExpand),t.R7$(1),t.Y8G("ngIf",i.classroomObjs.length),t.R7$(1),t.Y8G("ngIf",0==i.classroomObjs.length)}}function so(l,x){if(1&l&&(t.j41(0,"div"),t.DNE(1,Ts,5,5,"div",10),t.k0s()),2&l){const i=x.$implicit;t.R7$(1),t.Y8G("ngIf",i.groupObj.isShowGroup)}}function Is(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.bIt("onSearch",function(_){t.eBV(i);const v=t.XpG();return t.Njj(v.searchByName(_.searchObj))}),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"span",7),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.collapseAll(!_.isExpandAll))}),t.nrm(5,"lucide-icon",8),t.k0s()(),t.DNE(6,so,2,1,"div",9)}if(2&l){const i=t.XpG();t.R7$(2),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(3,4,"lang_testbank_test_list_search_class")),t.R7$(3),t.Y8G("name",i.isExpandAll?"chevrons-down-up":"chevrons-up-down"),t.R7$(1),t.Y8G("ngForOf",i.viewClassroomGroupObjs)}}let Ss=(()=>{class l extends to{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!1}static#t=this.\u0275fac=function(u){return new(u||l)};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-teacher-archive-classrooms"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"isServerSearch","placeholder","onSearch"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],["size","24",3,"name"],[4,"ngFor","ngForOf"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"groupObj","isOwned","updateGroupSuccessEvent","collapseByGroupIdEvent"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"classroomObj","screenTemplate","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"]],template:function(u,_){if(1&u&&(t.j41(0,"div",0),t.DNE(1,nr,1,1,"azt-loading-effect",1),t.DNE(2,Is,7,6,"ng-template",null,2,t.C5r),t.k0s()),2&u){const v=t.sdS(3);t.R7$(1),t.Y8G("ngIf",_.statusObj.loading)("ngIfElse",v)}},dependencies:[o.Sq,o.bT,L.K,$e,gt.W,W.WGl,eo,tt.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}return l})();const sr=["childActiveClassrooms"],ci=["childArchiveClassrooms"];function or(l,x){1&l&&(t.j41(0,"span",31),t.EFF(1,"1"),t.k0s())}function oo(l,x){if(1&l&&t.nrm(0,"azt-loading-effect",32),2&l){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}const ys=function(){return[]};function ar(l,x){1&l&&(t.qex(0),t.nrm(1,"app-teacher-active-classrooms",35,36),t.bVm()),2&l&&(t.R7$(1),t.Y8G("classroomGroupData",t.lJ4(1,ys)))}function ao(l,x){1&l&&t.nrm(0,"app-teacher-archive-classrooms",35,37),2&l&&t.Y8G("classroomGroupData",t.lJ4(1,ys))}function js(l,x){if(1&l&&(t.j41(0,"div"),t.DNE(1,ar,3,2,"ng-container",33),t.DNE(2,ao,2,2,"ng-template",null,34,t.C5r),t.k0s()),2&l){const i=t.sdS(3),u=t.XpG();t.R7$(1),t.Y8G("ngIf",u.isShowActiveClassroom)("ngIfElse",i)}}const ts=function(){return{"ml-1":!0}};function ro(l,x){1&l&&t.nrm(0,"lucide-icon",38),2&l&&t.Y8G("ngClass",t.lJ4(1,ts))}function lo(l,x){1&l&&t.nrm(0,"lucide-icon",38),2&l&&t.Y8G("ngClass",t.lJ4(1,ts))}function Os(l,x){1&l&&t.nrm(0,"lucide-icon",38),2&l&&t.Y8G("ngClass",t.lJ4(1,ts))}const dn=function(){return{"mr-2":!0}};let co=(()=>{class l extends a.H{changeFilter(i){this.typeFilter=i,this.viewActiveClassrooms?.reloadClassrooms(this.typeFilter),this.viewArchiveClassrooms?.reloadClassrooms(this.typeFilter)}createClassroomDialog(){this.sAztDialogService.open(qs,{data:{classroomObj:void 0},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(u=>{u&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}createClassroomForNewCourseDialog(){this.sAztDialogService.open(ua.e,{restoreFocus:!1}).afterClosed().subscribe(u=>{u&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}openDialogAutomaticIdentification(){this.sAztDialogService.open(we.O,{data:{needGetClassroomGroups:!0,type:1,listCheckBox:[],totalStudent:0},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(i=>{i&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}ngOnInit(){this.waitDestroy((0,q.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var i=this.commonService.getMyParam(this.activeRoute,"id")?.toString();this.isShowActiveClassroom="0"==i;let u=this.commonService.getMyQueryParam("programId");this.backToLink=u&&""!=u?"/business/educational-program/"+u:this.isShowActiveClassroom?"/admin/dashboard":"/admin/student/manage-classroom/0"})),this.mobileWebviewService.sendSimpleMessage("OPEN_CLASSES"),this.commonService.translateMetaData({title:"lang_cms_classroom_list_title",description:"lang_cms_classroom_list_description",image:"lang_cms_test_image"})}constructor(i,u,_){super(),this.activeRoute=i,this.sAztDialogService=u,this.mobileWebviewService=_,this.backToLink="",this.typeFilter="all",this.isShowActiveClassroom=!1}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(j.nX),t.rXU(ee.i),t.rXU(Ra.f))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-teacher-classroom"]],viewQuery:function(u,_){if(1&u&&(t.GBs(sr,5),t.GBs(ci,5)),2&u){let v;t.mGM(v=t.lsd())&&(_.viewActiveClassrooms=v.first),t.mGM(v=t.lsd())&&(_.viewArchiveClassrooms=v.first)}},features:[t.Vt3],decls:69,vars:59,consts:[[3,"headerBackToLink"],[1,"mt-5"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[1,"text-xl","font-medium"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-8xXjbgXLYr8","tourAnchor","azt-tour-2",1,"btn","btn-primary","shadow-md","mr-2",3,"click"],["name","plus","size","16",3,"ngClass"],[1,"dropdown-toggle","btn","px-2","box","block","lg:hidden","hover:bg-slate-100","dark:hover-bg:darkmode-400",3,"matMenuTriggerFor"],["name","plus","size","16"],["azt-track-service","class-list-GeLpgTC3SuL",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","lg:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","class-list-ok7MlxqP6m9",1,"btn","px-2","box","shadow-md","azt-hidden","lg:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary","size","16",3,"ngClass"],["tourAnchor","azt-tour-2",1,"ml-2","shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],["class","py-1 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12",2,"z-index","1"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menuClassList","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["menuFilter","matMenu"],["name","rows-4","size","16",3,"ngClass"],["name","check","size","16",3,"ngClass",4,"ngIf"],["name","user-check","size","16",3,"ngClass"],["name","tags","size","16",3,"ngClass"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["showArchiveBox",""],[3,"classroomGroupData"],["childActiveClassrooms",""],["childArchiveClassrooms",""],["name","check","size","16",3,"ngClass"]],template:function(u,_){if(1&u&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",5)(9,"button",6),t.bIt("click",function(){return _.createClassroomDialog()}),t.nrm(10,"lucide-icon",7),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",8),t.nrm(14,"lucide-icon",9),t.k0s(),t.j41(15,"button",10),t.bIt("click",function(){return _.createClassroomForNewCourseDialog()}),t.nrm(16,"lucide-icon",7),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"button",11),t.bIt("click",function(){return _.openDialogAutomaticIdentification()}),t.nrm(20,"lucide-icon",12),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"button",13),t.nrm(24,"lucide-icon",14),t.EFF(25),t.nI1(26,"mytranslate"),t.DNE(27,or,2,0,"span",15),t.k0s()()(),t.j41(28,"div",16)(29,"div",17),t.DNE(30,oo,1,1,"azt-loading-effect",18),t.DNE(31,js,4,2,"ng-template",null,19,t.C5r),t.k0s()()()(),t.j41(33,"mat-menu",20,21)(35,"div",22)(36,"ul",23)(37,"li")(38,"button",24),t.bIt("click",function(){return _.createClassroomForNewCourseDialog()}),t.nrm(39,"lucide-icon",7),t.EFF(40),t.nI1(41,"mytranslate"),t.k0s()(),t.j41(42,"li")(43,"button",25),t.bIt("click",function(){return _.openDialogAutomaticIdentification()}),t.nrm(44,"lucide-icon",12),t.EFF(45),t.nI1(46,"mytranslate"),t.k0s()()()()(),t.j41(47,"mat-menu",20,26)(49,"div",22)(50,"ul",23)(51,"li")(52,"button",24),t.bIt("click",function(){return _.changeFilter("all")}),t.nrm(53,"lucide-icon",27),t.EFF(54),t.nI1(55,"mytranslate"),t.DNE(56,ro,1,2,"lucide-icon",28),t.k0s()(),t.j41(57,"li")(58,"button",25),t.bIt("click",function(){return _.changeFilter("owner")}),t.nrm(59,"lucide-icon",29),t.EFF(60),t.nI1(61,"mytranslate"),t.DNE(62,lo,1,2,"lucide-icon",28),t.k0s()(),t.j41(63,"li")(64,"button",24),t.bIt("click",function(){return _.changeFilter("user")}),t.nrm(65,"lucide-icon",30),t.EFF(66),t.nI1(67,"mytranslate"),t.DNE(68,Os,1,2,"lucide-icon",28),t.k0s()()()()()),2&u){const v=t.sdS(32),A=t.sdS(34),et=t.sdS(48);t.Y8G("headerBackToLink",_.backToLink),t.R7$(5),t.SpI(" ",_.isShowActiveClassroom?t.bMT(6,28,"lang_student_classroom_list_header_title"):t.bMT(7,30,"lang_auto_kho_luu_tru")," "),t.R7$(5),t.Y8G("ngClass",t.lJ4(50,dn)),t.R7$(1),t.SpI(" ",t.bMT(12,32,"lang_student_classroom_list_create_class")," "),t.R7$(2),t.Y8G("matMenuTriggerFor",A),t.R7$(3),t.Y8G("ngClass",t.lJ4(51,dn)),t.R7$(1),t.SpI(" ",t.bMT(18,34,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(3),t.Y8G("ngClass",t.lJ4(52,dn)),t.R7$(1),t.SpI(" ",t.bMT(22,36,"lang_auto_danh_so_bao_danh")," "),t.R7$(2),t.Y8G("matMenuTriggerFor",et),t.R7$(1),t.Y8G("ngClass",t.lJ4(53,dn)),t.R7$(1),t.SpI(" ",t.bMT(26,38,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf","all"!=_.typeFilter),t.R7$(3),t.Y8G("ngIf",_.statusObj.loading)("ngIfElse",v),t.R7$(9),t.Y8G("ngClass",t.lJ4(54,dn)),t.R7$(1),t.SpI(" ",t.bMT(41,40,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(55,dn)),t.R7$(1),t.SpI(" ",t.bMT(46,42,"lang_auto_danh_so_bao_danh")," "),t.R7$(8),t.Y8G("ngClass",t.lJ4(56,dn)),t.R7$(1),t.SpI(" ",t.bMT(55,44,"lang_homework_content_store_all")," "),t.R7$(2),t.Y8G("ngIf",""==_.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(57,dn)),t.R7$(1),t.SpI(" ",t.bMT(61,46,"lang_core_lop_cua_toi")," "),t.R7$(2),t.Y8G("ngIf","owner"==_.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(58,dn)),t.R7$(1),t.SpI(" ",t.bMT(67,48,"lang_auto_lop_duoc_chia_se")," "),t.R7$(2),t.Y8G("ngIf","user"==_.typeFilter)}},dependencies:[o.YU,o.bT,ft.kk,ft.Cp,L.K,pt.Q,W.WGl,er,Ss,tt.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}return l})(),mo=(()=>{class l extends a.H{static#t=this.\u0275fac=function(){let i;return function(_){return(i||(i=t.xGo(l)))(_||l)}}();static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["homework-master-page"]],features:[t.Vt3],decls:2,vars:0,consts:[["id","student-layout"]],template:function(u,_){1&u&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[j.n3],encapsulation:2})}return l})(),rr=(()=>{class l extends a.H{constructor(){super(...arguments),this.closeDialog=new t.bkB}confirmQuit(){this.closeDialog.emit(!0)}btnCloseDialog(){this.closeDialog.emit(!1)}static#t=this.\u0275fac=function(){let i;return function(_){return(i||(i=t.xGo(l)))(_||l)}}();static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-merge-student-confirm-box"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.Vt3],decls:26,vars:17,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],[1,"intro"],[1,"text-base","font-medium","mr-auto"],[1,"text-right","mt-3"],["azt-track-service","confirm-merge-Yvv9eaXGFnm",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q",1,"btn","w-24","btn-primary",2,"margin-left","15px",3,"click"],[1,"flex","justify-end","my-3","p-3"],[1,"azt-block-button"],["azt-track-service","confirm-merge-Yvv9eaXGFnm",1,"btn","w-24","btn-outline-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q",1,"btn","w-32","btn-primary",2,"margin-left","15px",3,"click"]],template:function(u,_){1&u&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),t.EFF(8),t.nI1(9,"mytranslate"),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"div",8)(12,"button",9),t.bIt("click",function(){return _.btnCloseDialog()}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"button",10),t.bIt("click",function(){return _.confirmQuit()}),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()()()()(),t.j41(18,"div",11)(19,"div",12)(20,"button",13),t.bIt("click",function(){return _.btnCloseDialog()}),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()(),t.j41(23,"button",14),t.bIt("click",function(){return _.confirmQuit()}),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s()()()),2&u&&(t.R7$(8),t.SpI("",null!=_.data&&_.data.type&&"update_phone_student"==(null==_.data?null:_.data.type)?t.bMT(9,5,"lang_student_utils_confirm_merge_verifi")+"?":t.bMT(10,7,"lang_student_utils_confirm_merge_confirm")+"?"," "),t.R7$(5),t.SpI(" ",t.bMT(14,9,"lang_cms_common_close_btn")," "),t.R7$(3),t.SpI(" ",t.bMT(17,11,"lang_cms_common_confirm_btn")," "),t.R7$(5),t.SpI(" ",t.bMT(22,13,"lang_cms_common_close_btn")," "),t.R7$(3),t.SpI(" ",t.bMT(25,15,"lang_cms_common_confirm_btn")," "))},dependencies:[tt.wp],encapsulation:2})}return l})();function _o(l,x){if(1&l&&t.nrm(0,"azt-loading-effect",4),2&l){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}const lr=function(l){return{"bg-success":l}};function cr(l,x){if(1&l&&(t.j41(0,"div",22)(1,"b"),t.EFF(2),t.k0s()()),2&l){const i=t.XpG().$implicit,u=t.XpG(2);t.Y8G("ngClass",t.eq3(2,lr,u.haveSelected(i))),t.R7$(2),t.JRh(i.fullName)}}function gr(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",20),t.bIt("click",function(){const v=t.eBV(i).$implicit,A=t.XpG(2);return t.Njj(A.selectObj(v))}),t.DNE(1,cr,3,4,"div",21),t.k0s()}if(2&l){const i=x.$implicit,u=t.XpG(2);t.R7$(1),t.Y8G("ngIf",!u.inMergeObjs(i))}}function mr(l,x){if(1&l){const i=t.RV6();t.j41(0,"div")(1,"div",23),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"b",24),t.EFF(5),t.k0s(),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"b",24),t.EFF(9),t.k0s(),t.EFF(10," \xa0\xa0 "),t.j41(11,"span",25),t.bIt("click",function(){const v=t.eBV(i).index,A=t.XpG(2);return t.Njj(A.removeMergeArray(v))}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()}if(2&l){const i=x.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_student_merge_student_merge_student")," "),t.R7$(3),t.JRh(null==i.from?null:i.from.fullName),t.R7$(1),t.SpI(" ",t.bMT(7,7,"lang_student_merge_student_return")," "),t.R7$(3),t.JRh(null==i.to?null:i.to.fullName),t.R7$(3),t.JRh(t.bMT(13,9,"lang_auto_xoa"))}}function m(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",23)(1,"div",27)(2,"b"),t.EFF(3),t.k0s(),t.j41(4,"button",28),t.bIt("click",function(){t.eBV(i);const _=t.XpG().$implicit,v=t.XpG(2);return t.Njj(v.revertStudent(_.id))}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&l){const i=t.XpG().$implicit;t.R7$(3),t.JRh(i.fullName),t.R7$(2),t.SpI(" ",t.bMT(6,2,"lang_button_revert")," ")}}function r(l,x){if(1&l&&(t.j41(0,"div"),t.DNE(1,m,7,4,"div",26),t.k0s()),2&l){const i=x.$implicit,u=t.XpG(2);t.R7$(1),t.Y8G("ngIf",!u.inMergeObjs(i))}}function s(l,x){if(1&l){const i=t.RV6();t.j41(0,"div",5)(1,"mat-tab-group",6)(2,"mat-tab",7),t.nI1(3,"mytranslate"),t.j41(4,"div",8)(5,"div",9)(6,"div",10),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.DNE(9,gr,2,1,"div",11),t.k0s(),t.j41(10,"div",12)(11,"div",13)(12,"div",14)(13,"div",10),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.DNE(16,mr,14,11,"div",15),t.j41(17,"div",16)(18,"button",17),t.bIt("click",function(){t.eBV(i);const _=t.XpG();return t.Njj(_.showConfirmBox())}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()()()(),t.j41(21,"mat-tab",7),t.nI1(22,"mytranslate"),t.j41(23,"div",18)(24,"div",19)(25,"div")(26,"div",16),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.DNE(29,r,2,1,"div",15),t.k0s()()()()()()}if(2&l){const i=t.XpG();t.R7$(1),t.Y8G("selectedIndex",i.selectedIndex),t.R7$(1),t.FS9("label",t.bMT(3,11,"lang_student_merge_student_lable")),t.R7$(5),t.SpI(" ",t.bMT(8,13,"lang_student_merge_student_required_click_merge")," "),t.R7$(2),t.Y8G("ngForOf",i.studentObjs),t.R7$(5),t.SpI(" ",t.bMT(15,15,"lang_student_merge_student_list_student_merge")," "),t.R7$(2),t.Y8G("ngForOf",i.studentMergeObjs),t.R7$(2),t.Y8G("disabled",i.studentMergeObjs&&i.studentMergeObjs.length<1),t.R7$(1),t.SpI(" ",t.bMT(20,17,"lang_student_merge_student_start_merge_list")," "),t.R7$(2),t.FS9("label",t.bMT(22,19,"lang_student_merge_student_revert")),t.R7$(6),t.SpI(" ",t.bMT(28,21,"lang_student_merge_student_list_submitted")," "),t.R7$(2),t.Y8G("ngForOf",i.studentMergeListObjs)}}function c(l,x){if(1&l){const i=t.RV6();t.j41(0,"app-merge-student-confirm-box",29),t.bIt("closeDialog",function(_){t.eBV(i);const v=t.XpG();return t.Njj(v.closeConfirmDialog(_))}),t.k0s()}if(2&l){const i=t.XpG();t.Y8G("data",i.confirmBox)}}let d=(()=>{class l extends a.H{showConfirmBox(){this.confirmBox={isShow:!0}}closeConfirmDialog(i){this.confirmBox={isShow:!1},i&&this.sendToServer()}inMergeObjs(i){let u=!1,_=this.studentMergeObjs?.length??0;for(let v=0;v<_;v++)(this.studentMergeObjs?.[v].from?.id==i.id||this.studentMergeObjs?.[v].to?.id==i.id)&&(u=!0);return u}haveSelected(i){let u=!1;for(let _=0;_<this.selectObjs.length;_++)this.selectObjs[_].id==i.id&&(u=!0);return u}selectObj(i){this.haveSelected(i)?this.selectObjs=[]:this.selectObjs.push(i),2==this.selectObjs.length&&(this.studentMergeObjs.push({from:this.selectObjs[0],to:this.selectObjs[1]}),this.selectObjs=[])}removeMergeArray(i){this.studentMergeObjs?.[i]&&this.studentMergeObjs.splice(i,1)}sendToServer(){const i=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.initStatusObj();let u=[],_=this.studentMergeObjs?.length??0;for(let xt=0;xt<_;xt++){var v=this.studentMergeObjs?.[xt].from?.id,A=this.studentMergeObjs?.[xt].to?.id;v&&A&&u.push({fromId:v,toId:A})}this.waitDestroy(this.mergeStudentService.apiMergeStudentMergeObjsPost({classroomId:i,mergeObjs:u}).subscribe(xt=>{1==xt.success?(this.showSuccessSnack("lang_auto_gop_danh_sach_thanh_cong"),this.studentMergeObjs=[],this.selectObjs=[],this.getListMergeStudent(),this.getData(),this.selectedIndex=1,this.successStatusObj()):this.errorStatusObj(xt.message??"",!0)}))}getData(){this.initStatusObj();const i=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetObjsByClassroomGet(i).subscribe(u=>{1==u.success?(this.studentObjs=this.sortService.sortFirstNameStudents(u?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(u.message??"",!0)}))}getListMergeStudent(){this.initStatusObj();const i=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetMergedObjsGet(i).subscribe(u=>{1==u.success?(this.studentMergeListObjs=this.sortService.sortFirstNameStudents(u?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(u.message??"",!0)}))}revertStudent(i){this.waitDestroy(this.mergeStudentService.apiMergeStudentRevertMergeObjGet(i).subscribe(u=>{1==u.success?(this.showSuccessSnack("lang_auto_khoi_phuc_thanh_cong"),this.getData(),this.getListMergeStudent(),this.selectedIndex=0):this.errorStatusObj(u.message??"",!0)}))}ngOnInit(){this.classroomId=this.commonService.getMyParam(this.activeRoute,"id"),this.backToLink="/admin/student/classroom-details/"+this.classroomId+"/0",this.getData(),this.getListMergeStudent()}constructor(i,u,_,v){super(),this.activeRoute=i,this.studentService=u,this.mergeStudentService=_,this.sortService=v,this.selectObjs=[],this.studentMergeObjs=[],this.confirmBox={isShow:!1},this.selectedIndex=0,this.isMobile=this.commonService.isMobileOrTable(),this.backToLink=""}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(j.nX),t.rXU(tn.b0),t.rXU(tn.$$),t.rXU(xn.g))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-merge-student"]],features:[t.Vt3],decls:5,vars:4,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"data","closeDialog",4,"ngIf"],[3,"currentStatusObj"],[1,"container","mt-3"],[3,"selectedIndex"],[3,"label"],[1,"flex","mt-3"],[1,"p-2"],[1,"m-2"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click",4,"ngFor","ngForOf"],[1,"p-2",2,"width","70%"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mt-2"],["azt-track-service","merge-student-g45UTcIj35h",1,"pl-2","pr-2","mt-2","btn","btn-primary",3,"disabled","click"],[1,"d-flex"],[1,"w-full","sm-w-50"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click"],["class","m-2 clickable","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",3,"ngClass",4,"ngIf"],[1,"m-2","clickable",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important",3,"ngClass"],[1,"m-2","p-2",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important"],[2,"font-weight","600"],[1,"clickable","text-danger",3,"click"],["class","m-2 p-2","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],["azt-track-service","merge-student-v4iYHGvaLN8",1,"hover-button","clickable",3,"click"],[3,"data","closeDialog"]],template:function(u,_){if(1&u&&(t.j41(0,"teacher-layout",0),t.DNE(1,_o,1,1,"azt-loading-effect",1),t.DNE(2,s,30,23,"ng-template",null,2,t.C5r),t.k0s(),t.DNE(4,c,1,1,"app-merge-student-confirm-box",3)),2&u){const v=t.sdS(3);t.Y8G("headerBackToLink",_.backToLink),t.R7$(1),t.Y8G("ngIf",_.statusObj.loading)("ngIfElse",v),t.R7$(3),t.Y8G("ngIf",_.confirmBox.isShow)}},dependencies:[o.YU,o.Sq,o.bT,Nn.mq,Nn.T8,L.K,pt.Q,rr,tt.wp],styles:["a[_ngcontent-%COMP%]:hover{text-decoration:none}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex;text-decoration:none;margin-top:10px}.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff}b[_ngcontent-%COMP%]{font-weight:400}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px}.header__top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.header__work[_ngcontent-%COMP%]{display:flex}.header__gift[_ngcontent-%COMP%]{position:relative;margin-right:24px;margin-top:5px}.gift__link[_ngcontent-%COMP%]{color:#fff}.girt__count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:#fe4531;border-radius:50%;width:16px;height:16px;color:#fff;padding:0;text-align:center;font-weight:700;font-size:9px}.header__work[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.header__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-top:2px}.body[_ngcontent-%COMP%]{margin:0 auto;text-align:center;color:#fff}.body__block[_ngcontent-%COMP%]{min-width:300px;padding:35px 0;margin:0 auto;background-color:#009cbe;border:none;border-radius:5px}.block__text[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin:0}.body__about[_ngcontent-%COMP%]{margin-top:25px}.about__title[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.about__desc[_ngcontent-%COMP%]{text-align:justify}.desc__title[_ngcontent-%COMP%]{font-weight:700}.btn-add-azo[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;padding:13px 40px;border-radius:10px}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}  .mat-tab-label:hover{color:#000}.hover-button[_ngcontent-%COMP%]:hover{color:#3f51b5}.text-danger[_ngcontent-%COMP%]:hover{color:#f44336!important}@media (min-width: 640px){.sm-w-50[_ngcontent-%COMP%]{width:450px}}"]})}return l})();var h=g(16583);function k(l,x){if(1&l&&t.nrm(0,"azt-loading-effect",3),2&l){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function w(l,x){if(1&l&&t.nrm(0,"azt-student-profile",4),2&l){const i=t.XpG();t.Y8G("studentId",i.studentId)("select",i.select)("classroomId",i.classroomId)("backToLink",i.backToLink)("paramBackToLink",i.paramBackToLink)("classroomList",i.classroomList)("isTeacherDashboard",!0)}}let G=(()=>{class l extends a.H{getListClassroomByStudentId(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2ListStudentClassroomsGet(this.studentId).subscribe(i=>{1===i.success?(this.classroomList=i.data?.objs??[],this.classroomList.find(u=>u.id+"-"+u.studentId==this.select.value)||this.select.setValue(""),this.successStatusObj()):this.errorStatusObj(i.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,q.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var i=this.commonService.getMyParam(this.activeRoute,"classroom_id"),u=this.commonService.getMyParam(this.activeRoute,"id");this.classroomId=parseInt(i||"",10),this.studentId=parseInt(u||"",10),this.backToLink="/admin/student/profile-student/"+this.classroomId+"/"+this.studentId,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??`/admin/student/classroom-details/${this.classroomId}/0`,this.commonService.translateMetaData({title:"lang_cms_student_detail_title",description:"lang_cms_test_config_description",image:"lang_cms_student_detail_description"}),this.select.setValue(this.classroomId+"-"+this.studentId),this.getListClassroomByStudentId()}))}constructor(i,u,_){super(),this.sAztDialogService=i,this.activeRoute=u,this.studentProfileV2Service=_,this.select=new st.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[]}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(ee.i),t.rXU(j.nX),t.rXU(tn.m_))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["student-profile"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"studentId","select","classroomId","backToLink","paramBackToLink","classroomList","isTeacherDashboard"]],template:function(u,_){if(1&u&&(t.j41(0,"teacher-layout",0),t.DNE(1,k,1,1,"azt-loading-effect",1),t.DNE(2,w,1,7,"ng-template",null,2,t.C5r),t.k0s()),2&u){const v=t.sdS(3);t.Y8G("headerBackToLink",_.paramBackToLink),t.R7$(1),t.Y8G("ngIf",_.statusObj.loading)("ngIfElse",v)}},dependencies:[o.bT,L.K,h.x,pt.Q],encapsulation:2})}return l})();var H=g(18586),yt=g(25898);function Nt(l,x){1&l&&t.nrm(0,"azt-loading-ui",15)}function Xt(l,x){if(1&l&&t.nrm(0,"azt-loading-effect",16),2&l){const i=t.XpG();t.Y8G("currentStatusObj",i.statusObj)}}function $t(l,x){1&l&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&l&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Me(l,x){if(1&l){const i=t.RV6();t.j41(0,"tr")(1,"td",26),t.bIt("click",function(){const v=t.eBV(i).$implicit,A=t.XpG(3);return t.Njj(A.goToProfile(v.classroomId,v.id))}),t.nrm(2,"azt-student-info-box",27),t.k0s(),t.j41(3,"td",28),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",29)(7,"div",30)(8,"span"),t.EFF(9),t.nI1(10,"formatOnlyDateByUserUnitPipe"),t.k0s()()(),t.j41(11,"td",29)(12,"form",31)(13,"textarea",32),t.bIt("change",function(){const v=t.eBV(i).$implicit;return t.Njj(v.commentControl.controls.isEditted.setValue(!0))}),t.nI1(14,"mytranslate"),t.k0s()()(),t.j41(15,"td",29)(16,"span",33,34),t.bIt("click",function(){const v=t.eBV(i).$implicit,A=t.XpG(3);return t.Njj(A.showAllComment(v))}),t.nI1(18,"mytranslate"),t.nrm(19,"lucide-icon",35),t.k0s()()()}if(2&l){const i=x.$implicit,u=t.sdS(17);t.R7$(2),t.Y8G("name",i.fullName)("avatar",i.avatar)("gender",i.gender)("parentFullName",i.parentFullName)("parentId",i.parentId)("parentPhone",i.parentPhone)("hasUser",i.hasUser)("schoolName",i.schoolName)("classrooms",i.classrooms)("joinedAt",i.joinedAt),t.R7$(2),t.JRh(i.identificationNumber?t.i5U(5,18,i.identificationNumber,6):""),t.R7$(5),t.SpI(" ",t.bMT(10,21,i.commentControl.controls.updatedAt.value)," "),t.R7$(3),t.Y8G("formGroup",i.commentControl),t.R7$(1),t.FS9("placeholder",t.bMT(14,23,"lang_auto_nhap_nhan_xet")),t.Y8G("id","add_comment_"+i.id),t.R7$(3),t.FS9("matTooltip",t.bMT(18,25,"lang_student_show_all_comment")),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",u.isDisabled)}}function Un(l,x){if(1&l&&(t.j41(0,"div",20)(1,"table",21)(2,"thead")(3,"tr")(4,"th",22),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",23),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",24),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",24),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.nrm(16,"th",24),t.k0s()(),t.j41(17,"tbody"),t.DNE(18,Me,20,27,"tr",25),t.k0s()()()),2&l){const i=t.XpG(2);t.R7$(5),t.JRh(t.bMT(6,5,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(9,7,"lang_auto_so_bao_danh")),t.R7$(3),t.JRh(t.bMT(12,9,"lang_student_add_comment_date")),t.R7$(3),t.JRh(t.bMT(15,11,"lang_student_add_comment")),t.R7$(4),t.Y8G("ngForOf",i.listStudent)}}function Sn(l,x){if(1&l&&(t.DNE(0,$t,3,3,"div",17),t.DNE(1,Un,19,13,"div",18)),2&l){const i=t.XpG();t.Y8G("ngIf",0==i.listStudent.length&&0==i.totalStudent),t.R7$(1),t.Y8G("ngIf",i.listStudent.length>0)}}function Oi(l,x){if(1&l){const i=t.RV6();t.j41(0,"azt-paging",39),t.bIt("goToPaginationPage",function(_){t.eBV(i);const v=t.XpG(2);return t.Njj(v.setPageStudent(_))}),t.k0s()}if(2&l){const i=t.XpG(2);t.Y8G("pageObj",i.pageObj)}}function Cr(l,x){if(1&l&&(t.j41(0,"div",36),t.nrm(1,"div"),t.DNE(2,Oi,1,1,"azt-paging",37),t.j41(3,"div",38),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&l){const i=t.XpG();t.R7$(2),t.Y8G("ngIf",i.totalStudent>i.pageObj.pageSize),t.R7$(2),t.Lme("",i.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}const Tr=[{path:"",component:mo,canActivate:[e.t],children:[{path:"merge-student/:id",component:d},{path:"profile-student/:classroom_id/:id",component:G},{path:"manage-classroom/:id",component:co},{path:"classroom-details/:id/:tabId",component:ur},{path:"attendance-student/:classroom_id/:program_id/:session_id",component:Pe},{path:"add-comment/:classroom_id/:program_id/:session_id",component:(()=>{class l extends a.H{goToProfile(i,u){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+i+"/"+u,"?backto="+encodeURIComponent("/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(i){var u="/admin/student/add-comment/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,_="?page="+i+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(u,_),this.initStatusObj(),this.pageObj.setPageNumber(i),this.getListStudent()}onSearchBox(i){this.searchContentObj=i,this.setPageStudent(1)}showAllComment(i){this.sAztDialogService.open(H.U,{width:"700px",restoreFocus:!1,data:{student:i,isTeacher:!0}}).afterClosed().subscribe(u=>{u&&this.getListStudent()})}countChangedComment(){let i=0;return this.listStudent.forEach(u=>{u.commentControl.controls.isEditted.value&&!u.commentControl.controls.comment.value&&i++}),1==i}saveComment(){this.isSave=!0;let i=this.listStudent.filter(_=>_.commentControl.controls.isEditted.value&&_.commentControl.controls.comment.value).map(_=>({id:0,studentId:_.id,comment:_.commentControl.controls.comment.value}))??[],u={classroomId:this.classroomId,studentAssessments:i};if(0==i.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost(u).subscribe(_=>{_.success?(this.initStatusObj(),this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!0}).subscribe(u=>{u?(u.list.length||(this.listStudent=[]),u.list.forEach(_=>{let v=this.sAztAssessmentStudentService.getLastAssessmentStudent(_);this.listStudent.push({..._,commentControl:new st.gE({id:new st.MJ(0,{nonNullable:!0}),updatedAt:new st.MJ(v?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new st.MJ(v?.comment??"",{nonNullable:!0}),isEditted:new st.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(_.assessments),editComment:!1})}),this.totalStudent=u.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,q.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"));let i=this.commonService.getMyQueryParam("backto");this.backToLink=i||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent()}),super.ngOnInit()}constructor(i,u,_,v){super(),this.sAztAssessmentStudentService=i,this.activeRoute=u,this.studentService=_,this.sAztDialogService=v,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.searchContentObj=new Lt.Z,this.pageObj=new he.d(20)}static#t=this.\u0275fac=function(u){return new(u||l)(t.rXU(yt.n),t.rXU(j.nX),t.rXU(Ln.b),t.rXU(ee.i))};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-add-student-comment"]],features:[t.Vt3],decls:21,vars:18,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","searchContentObj","placeholder","onSearch"],[3,"colorBackground"],[1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","flex justify-between items-center mt-5",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[1,"mt-10","text-center"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[3,"formGroup"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"id","placeholder","change"],[1,"mr-2","inline-block","clickable",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","click"],["c","isDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"pageObj","goToPaginationPage"]],template:function(u,_){if(1&u&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.bIt("onSearch",function(A){return _.onSearchBox(A.searchObj)}),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"flexed-on-the-top",8)(12,"button",9),t.bIt("click",function(){return _.saveComment()}),t.DNE(13,Nt,1,0,"azt-loading-ui",10),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()(),t.j41(16,"div",11),t.DNE(17,Xt,1,1,"azt-loading-effect",12),t.DNE(18,Sn,2,2,"ng-template",null,13,t.C5r),t.k0s(),t.DNE(20,Cr,6,5,"div",14),t.k0s()),2&u){const v=t.sdS(19);t.Y8G("headerBackToLink",_.backToLink),t.R7$(4),t.JRh(t.bMT(5,12,"lang_student_assessment_student")),t.R7$(5),t.Y8G("isServerSearch",!0)("searchContentObj",_.searchContentObj)("placeholder",t.bMT(10,14,"lang_core_tim_theo_ten_phone_email")),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(1),t.Y8G("disabled",_.isSave||_.countChangedComment()),t.R7$(1),t.Y8G("ngIf",_.isSave),t.R7$(1),t.SpI(" ",t.bMT(15,16,"lang_auto_luu")," "),t.R7$(3),t.Y8G("ngIf",_.statusObj.loading)("ngIfElse",v),t.R7$(3),t.Y8G("ngIf",_.totalStudent>0)}},dependencies:[o.Sq,o.bT,B.oV,st.qT,st.me,st.BC,st.cb,st.j4,st.JD,L.K,Ge.q,ii.t,Gt.f,K.R,Ht.$,gt.W,vt.B,pt.Q,W.WGl,tt.wp,tt.Po,tt.vv],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]})}return l})()},{path:"distribute-document/:classroom_id/:program_id/:session_id",component:ma},{path:"submit-score/:classroom_id/:program_id/:session_id",component:da},{path:"class-details/:id",redirectTo:"classroom-details/:id/0"},{path:"manage-class/:id",redirectTo:"manage-classroom/:id"},{path:"student-list",redirectTo:"manage-classroom/0",pathMatch:"full"}]}];let Ir=(()=>{class l{static#t=this.\u0275fac=function(u){return new(u||l)};static#e=this.\u0275mod=t.$C({type:l});static#n=this.\u0275inj=t.G2t({imports:[j.iI.forChild(Tr),j.iI,n.XE]})}return l})()},14505:(Te,Bt,g)=>{g.d(Bt,{h:()=>L});var j=g(54460),n=g(10936),e=g(89163),q=g(65162),a=g(69223),kt=g(23047),t=g(15343),T=g(13763),o=g(10123),tt=g(25571),It=g(20378),wt=g(5502),rt=g(46584),pt=g(70050),W=g(7050),dt=g(91100),mt=g(43234),Lt=g(52153),Q=g(29894),ft=g(26860);let L=(()=>{class K{static#t=this.\u0275fac=function(B){return new(B||K)};static#e=this.\u0275mod=ft.$C({type:K});static#n=this.\u0275inj=ft.G2t({providers:[{provide:a.vn,useValue:mt.c.azt_tiny_mce_script_src}],imports:[q.iI,j.MD,rt.s,It.T_,a.sv,n.YN,n.X1,e.hM,pt.L,T.Lk,Q.I,tt.xv,dt.Q,W.b,o.AC,t.flO.pick(t.Ptg),wt.Id,kt.Fr,Lt.AzotaBusinessModule]})}return K})()},66257:(Te,Bt,g)=>{g.d(Bt,{H:()=>j});var j=function(n){return n.none="None",n.asc="Asc",n.desc="Desc",n}(j||{})},48725:(Te,Bt,g)=>{g.d(Bt,{s:()=>n});var j=g(66257);class n{resetSortFieldName(q){this.fieldNameList.forEach(a=>{a.fieldName!==q.fieldName&&(a.typeFieldSort=this.typeFieldSort.none)})}setFieldNameList(q){this.fieldNameList=q}convertDataSort(q){switch(this.resetSortFieldName(q),q.typeFieldSort){case this.typeFieldSort.none:q.typeFieldSort=this.typeFieldSort.asc;break;case this.typeFieldSort.asc:q.typeFieldSort=this.typeFieldSort.desc;break;case this.typeFieldSort.desc:q.typeFieldSort=this.typeFieldSort.none}return{fieldName:q.fieldName,descending:q.typeFieldSort===this.typeFieldSort.desc,ignore:q.typeFieldSort===this.typeFieldSort.none}}constructor(){this.typeFieldSort=j.H,this.fieldNameList=[]}}},49221:(Te,Bt,g)=>{g.d(Bt,{R:()=>wt});var j=g(59640),n=g(26860),e=g(54460),q=g(73437);function a(rt,pt){if(1&rt){const W=n.RV6();n.j41(0,"a",4),n.bIt("click",function(){n.eBV(W);const mt=n.XpG(2);return n.Njj(mt.clickToSeeMore())}),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()}2&rt&&(n.R7$(1),n.JRh(n.bMT(2,1,"lang_cms_common_see_more")))}function kt(rt,pt){if(1&rt){const W=n.RV6();n.j41(0,"a",4),n.bIt("click",function(){n.eBV(W);const mt=n.XpG(2);return n.Njj(mt.clickToShowShortContent())}),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()}2&rt&&(n.R7$(1),n.JRh(n.bMT(2,1,"lang_cms_common_see_short_content")))}function t(rt,pt){if(1&rt&&(n.j41(0,"div"),n.nrm(1,"span",2),n.nI1(2,"safeNormalHtmlContent"),n.DNE(3,a,3,3,"a",3),n.DNE(4,kt,3,3,"a",3),n.k0s()),2&rt){const W=n.XpG();n.R7$(1),n.Y8G("innerHTML",n.bMT(2,3,W.showContent),n.npT),n.R7$(2),n.Y8G("ngIf",W.showSeeMoreButton&&W.content.length>W.maxLength),n.R7$(1),n.Y8G("ngIf",W.showShortContentButton&&W.content.length>W.maxLength)}}function T(rt,pt){if(1&rt&&(n.nrm(0,"span",10),n.nI1(1,"safeNormalHtmlContent")),2&rt){const W=n.XpG(2);n.Y8G("innerHTML",n.bMT(1,1,W.showContent),n.npT)}}function o(rt,pt){if(1&rt){const W=n.RV6();n.j41(0,"a",4),n.bIt("click",function(){n.eBV(W);const mt=n.XpG(2);return n.Njj(mt.clickToSeeMore())}),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()}if(2&rt){const W=n.XpG(2);n.Aen("position: absolute; bottom: 0; right: 0; background-color: "+W.backgroundColor),n.R7$(1),n.SpI(" ...",n.bMT(2,3,"lang_cms_common_see_more")," ")}}function tt(rt,pt){if(1&rt){const W=n.RV6();n.j41(0,"a",4),n.bIt("click",function(){n.eBV(W);const mt=n.XpG(2);return n.Njj(mt.clickToShowShortContent())}),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()}2&rt&&(n.R7$(1),n.JRh(n.bMT(2,1,"lang_cms_common_see_short_content")))}function It(rt,pt){if(1&rt&&(n.j41(0,"div",5),n.nrm(1,"div",6),n.nI1(2,"safeNormalHtmlContent"),n.nrm(3,"div",6,7),n.nI1(5,"safeNormalHtmlContent"),n.DNE(6,T,2,3,"span",8),n.DNE(7,o,3,5,"a",9),n.DNE(8,tt,3,3,"a",3),n.k0s()),2&rt){const W=n.sdS(4),dt=n.XpG();n.R7$(1),n.Aen(dt.styleContent),n.Y8G("innerHTML",n.bMT(2,9,dt.showContent),n.npT),n.R7$(2),n.Aen("white-space: pre-line; position: absolute; visibility: hidden; line-height: 20px"),n.Y8G("innerHTML",n.bMT(5,11,dt.showContent),n.npT),n.R7$(3),n.Y8G("ngIf",dt.showShortContentButton),n.R7$(1),n.Y8G("ngIf",dt.showSeeMoreButton&&W.offsetHeight>20*dt.maxLine),n.R7$(1),n.Y8G("ngIf",dt.showShortContentButton&&W.offsetHeight>20*dt.maxLine)}}let wt=(()=>{class rt extends j.H{clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let W=this.commonService.removeTagHtml(this.content);if(this.maxLength&&W.length>this.maxLength)this.showContent=this.showSeeMoreButton?W.substring(0,this.maxLength)+"...":this.content;else if(this.maxLine){this.showContent=this.content;var dt=(20*this.maxLine).toString();this.styleContent=this.showSeeMoreButton?"white-space: pre-line; max-height: "+dt+"px; overflow: hidden; position: relative; line-height: 20px;":"white-space: pre-line; line-height: 20px; visibility: hidden; position: absolute;"}else this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content;this.showContent=this.showContent+" "}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}constructor(){super(),this.content="",this.backgroundColor="white",this.styleContent="white-space: pre-line;",this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}static#t=this.\u0275fac=function(dt){return new(dt||rt)};static#e=this.\u0275cmp=n.VBU({type:rt,selectors:[["azt-see-more-multiple-lines"]],inputs:{content:"content",maxLength:"maxLength",maxLine:"maxLine",backgroundColor:"backgroundColor"},features:[n.Vt3,n.OA$],decls:2,vars:2,consts:[[4,"ngIf"],["style","position: relative; white-space: break-spaces",4,"ngIf"],[2,"white-space","pre-line","white-space","break-spaces",3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"],[2,"position","relative","white-space","break-spaces"],[3,"innerHTML"],["contentElementHide",""],["style","white-space: pre-line",3,"innerHTML",4,"ngIf"],["class","btn-text-primary",3,"style","click",4,"ngIf"],[2,"white-space","pre-line",3,"innerHTML"]],template:function(dt,mt){1&dt&&(n.DNE(0,t,5,5,"div",0),n.DNE(1,It,9,13,"div",1)),2&dt&&(n.Y8G("ngIf",mt.maxLength),n.R7$(1),n.Y8G("ngIf",mt.maxLine&&!mt.maxLength))},dependencies:[e.bT,q.wp,q._y],encapsulation:2})}return rt})()},66729:(Te,Bt,g)=>{g.d(Bt,{D:()=>wt});var j=g(59640),n=g(26860),e=g(54460),q=g(47712),a=g(73437);function kt(rt,pt){1&rt&&(n.j41(0,"span",2),n.nI1(1,"mytranslate"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s()),2&rt&&(n.FS9("matTooltip",n.bMT(1,2,"lang_auto_dat")),n.R7$(2),n.JRh(n.bMT(3,4,"lang_auto_d_upper")))}function t(rt,pt){1&rt&&(n.j41(0,"span",2),n.nI1(1,"mytranslate"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s()),2&rt&&(n.FS9("matTooltip",n.bMT(1,2,"lang_auto_chua_dat")),n.R7$(2),n.JRh(n.bMT(3,4,"lang_auto_cd_upper")))}function T(rt,pt){1&rt&&(n.j41(0,"span",2),n.nI1(1,"mytranslate"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s()),2&rt&&(n.FS9("matTooltip",n.bMT(1,2,"lang_auto_hoan_thanh")),n.R7$(2),n.JRh(n.bMT(3,4,"lang_auto_tag_ht")))}function o(rt,pt){1&rt&&(n.j41(0,"span",2),n.nI1(1,"mytranslate"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s()),2&rt&&(n.FS9("matTooltip",n.bMT(1,2,"lang_auto_chua_hoan_thanh")),n.R7$(2),n.SpI("",n.bMT(3,4,"lang_auto_tag_CHT")," "))}function tt(rt,pt){1&rt&&(n.j41(0,"span",2),n.nI1(1,"mytranslate"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s()),2&rt&&(n.FS9("matTooltip",n.bMT(1,2,"lang_auto_hoan_thanh_tot")),n.R7$(2),n.JRh(n.bMT(3,4,"lang_auto_tag_HTT")))}function It(rt,pt){if(1&rt&&(n.j41(0,"span",3),n.EFF(1),n.k0s()),2&rt){const W=n.XpG();n.R7$(1),n.JRh(W.mark)}}let wt=(()=>{class rt extends j.H{constructor(){super(...arguments),this.mark=0}static#t=this.\u0275fac=function(){let W;return function(mt){return(W||(W=n.xGo(rt)))(mt||rt)}}();static#e=this.\u0275cmp=n.VBU({type:rt,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[n.Vt3],decls:6,vars:6,consts:[["class","text-mark mb-0",3,"matTooltip",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],[1,"text-mark","mb-0",3,"matTooltip"],[1,"text-mark","mb-0"]],template:function(dt,mt){1&dt&&(n.DNE(0,kt,4,6,"span",0),n.DNE(1,t,4,6,"span",0),n.DNE(2,T,4,6,"span",0),n.DNE(3,o,4,6,"span",0),n.DNE(4,tt,4,6,"span",0),n.DNE(5,It,2,1,"span",1)),2&dt&&(n.Y8G("ngIf","1000"==mt.mark),n.R7$(1),n.Y8G("ngIf","1001"==mt.mark),n.R7$(1),n.Y8G("ngIf","2000"==mt.mark),n.R7$(1),n.Y8G("ngIf","2001"==mt.mark),n.R7$(1),n.Y8G("ngIf","3000"==mt.mark),n.R7$(1),n.Y8G("ngIf","2001"!=mt.mark&&"2000"!=mt.mark&&"1001"!=mt.mark&&"1000"!=mt.mark&&"3000"!=mt.mark))},dependencies:[e.bT,q.oV,a.wp],encapsulation:2})}return rt})()},74637:(Te,Bt,g)=>{g.d(Bt,{E:()=>Lt});var j=g(26860),n=g(59640),e=g(54460),q=g(17818),a=g(15343),kt=g(73437);function t(Q,ft){1&Q&&(j.j41(0,"span",12),j.EFF(1),j.nI1(2,"mytranslate"),j.k0s()),2&Q&&(j.R7$(1),j.JRh(j.bMT(2,1,"lang_core_thang")))}function T(Q,ft){if(1&Q&&(j.j41(0,"span",12),j.EFF(1),j.nI1(2,"mytranslate"),j.k0s()),2&Q){const L=j.XpG();j.R7$(1),j.Lme("",j.bMT(2,2,"lang_core_thang")," ",L.dataFilter.monthSelected,"")}}function o(Q,ft){1&Q&&(j.j41(0,"span",12),j.EFF(1),j.nI1(2,"mytranslate"),j.k0s()),2&Q&&(j.R7$(1),j.JRh(j.bMT(2,1,"lang_core_nam")))}function tt(Q,ft){if(1&Q&&(j.j41(0,"span",12),j.EFF(1),j.nI1(2,"mytranslate"),j.k0s()),2&Q){const L=j.XpG();j.R7$(1),j.Lme("",j.bMT(2,2,"lang_core_nam")," ",L.dataFilter.yearSelected,"")}}function It(Q,ft){1&Q&&(j.j41(0,"span"),j.EFF(1),j.nI1(2,"mytranslate"),j.k0s()),2&Q&&(j.R7$(1),j.JRh(j.bMT(2,1,"lang_auto_tat_ca")))}function wt(Q,ft){if(1&Q&&(j.j41(0,"span"),j.EFF(1),j.nI1(2,"mytranslate"),j.k0s()),2&Q){const L=j.XpG().index;j.R7$(1),j.Lme("",j.bMT(2,2,"lang_core_thang")," ",L,"")}}function rt(Q,ft){if(1&Q){const L=j.RV6();j.j41(0,"li",13),j.bIt("click",function(){const N=j.eBV(L).index,B=j.XpG();return j.Njj(B.selectMonth(N))}),j.DNE(1,It,3,3,"span",14),j.DNE(2,wt,3,4,"span",14),j.k0s()}if(2&Q){const L=ft.index,K=j.XpG();j.Y8G("ngClass",K.dataFilter.monthSelected==L?"color-select":""),j.R7$(1),j.Y8G("ngIf",0==L),j.R7$(1),j.Y8G("ngIf",L>0)}}function pt(Q,ft){1&Q&&(j.j41(0,"span"),j.EFF(1),j.nI1(2,"mytranslate"),j.k0s()),2&Q&&(j.R7$(1),j.JRh(j.bMT(2,1,"lang_auto_tat_ca")))}function W(Q,ft){if(1&Q&&(j.j41(0,"span"),j.EFF(1),j.nI1(2,"mytranslate"),j.k0s()),2&Q){const L=j.XpG().index,K=j.XpG();j.R7$(1),j.Lme("",j.bMT(2,2,"lang_core_nam")," ",K.currentDate.getFullYear()-(L-1),"")}}function dt(Q,ft){if(1&Q){const L=j.RV6();j.j41(0,"li",15),j.bIt("click",function(){const N=j.eBV(L).index,B=j.XpG();return j.Njj(B.selectYear(N))}),j.DNE(1,pt,3,3,"span",14),j.DNE(2,W,3,4,"span",14),j.k0s()}if(2&Q){const L=ft.index,K=j.XpG();j.Y8G("ngClass",!K.dataFilter.yearSelected||K.currentDate.getFullYear()-(K.dataFilter.yearSelected-1)!=L&&0!=K.dataFilter.yearSelected?"":"color-select"),j.R7$(1),j.Y8G("ngIf",0==L),j.R7$(1),j.Y8G("ngIf",L>0)}}const mt=function(){return[]};let Lt=(()=>{class Q extends n.H{selectMonth(L){this.isApply=!0,this.dataFilter.monthSelected=L,this.sendFilter.emit(this.dataFilter)}selectYear(L){this.isApply=!0,this.dataFilter.yearSelected=L>0?this.currentDate.getFullYear()-(L-1):L,this.sendFilter.emit(this.dataFilter)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.sendFilter=new j.bkB,this.isLoading=!1,this.currentDate=new Date,this.isApply=!1,this.dataFilter={monthSelected:void 0,yearSelected:void 0}}static#t=this.\u0275fac=function(K){return new(K||Q)};static#e=this.\u0275cmp=j.VBU({type:Q,selectors:[["azt-filter-box"]],inputs:{isLoading:"isLoading"},outputs:{sendFilter:"sendFilter"},features:[j.Vt3],decls:22,vars:13,consts:[[1,"flex","items-center","font-medium"],[1,"font-medium","mr-2","color",2,"color","#1e40af"],[1,"border-box","hover","p-1","clickable","mr-1",3,"matMenuTriggerFor"],["class","p-1",4,"ngIf"],["name","chevron-down","size","18"],["xPosition","before"],["filterByMonth","matMenu"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content","overflow-hidden","overflow-y-auto","h-56"],["azt-track-service","azt-filter-box-0A_xsGZ5B","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],["filterByYear","matMenu"],["azt-track-service","azt-filter-box-orpcyuG7jD","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-1"],["azt-track-service","azt-filter-box-0A_xsGZ5B",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"],[4,"ngIf"],["azt-track-service","azt-filter-box-orpcyuG7jD",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"]],template:function(K,gt){if(1&K&&(j.j41(0,"div",0)(1,"div",1),j.EFF(2),j.nI1(3,"mytranslate"),j.k0s(),j.j41(4,"div",2),j.DNE(5,t,3,3,"span",3),j.DNE(6,T,3,4,"span",3),j.nrm(7,"lucide-icon",4),j.k0s(),j.j41(8,"div",2),j.DNE(9,o,3,3,"span",3),j.DNE(10,tt,3,4,"span",3),j.nrm(11,"lucide-icon",4),j.k0s()(),j.j41(12,"mat-menu",5,6)(14,"div",7)(15,"ul",8),j.DNE(16,rt,3,3,"li",9),j.k0s()()(),j.j41(17,"mat-menu",5,10)(19,"div",7)(20,"ul",8),j.DNE(21,dt,3,3,"li",11),j.k0s()()()),2&K){const N=j.sdS(13),B=j.sdS(18);j.R7$(2),j.SpI(" ",j.bMT(3,9,"lang_testbank_tested_list_sort"),": "),j.R7$(2),j.Y8G("matMenuTriggerFor",N),j.R7$(1),j.Y8G("ngIf",!gt.dataFilter.monthSelected),j.R7$(1),j.Y8G("ngIf",gt.dataFilter.monthSelected&&gt.dataFilter.monthSelected>0),j.R7$(2),j.Y8G("matMenuTriggerFor",B),j.R7$(1),j.Y8G("ngIf",!gt.dataFilter.yearSelected),j.R7$(1),j.Y8G("ngIf",gt.dataFilter.yearSelected&&gt.dataFilter.yearSelected>0),j.R7$(6),j.Y8G("ngForOf",j.lJ4(11,mt).constructor(13)),j.R7$(5),j.Y8G("ngForOf",j.lJ4(12,mt).constructor(10))}},dependencies:[e.YU,e.Sq,e.bT,q.kk,q.Cp,a.WGl,kt.wp],styles:[".w-max-content[_ngcontent-%COMP%]{width:-webkit-fill-available;min-width:max-content}.border-left[_ngcontent-%COMP%]{border-left:1px solid rgb(201,201,201)}.background-powderblue[_ngcontent-%COMP%]{background:#b0e0e6}.hover[_ngcontent-%COMP%]:hover{background:#f5fffa}.color-select[_ngcontent-%COMP%]{background-color:#eef1f6}.border-box[_ngcontent-%COMP%]{border:1px solid #1e40af;padding:2px 5px;border-radius:10px}.box-name[_ngcontent-%COMP%]{background:#d3d3d3}"]})}return Q})()},16583:(Te,Bt,g)=>{g.d(Bt,{x:()=>we});var j=g(10936),n=g(59640),e=g(26860),q=g(65544),a=g(91930),kt=g(50589);let t=(()=>{class y{countChecked(b){var D=0;for(var P in b)!0===b[P]&&(D+=1);return D}getDefaultFilterObj(b){var D=this.localStorageSlug+b;if(this.listFilterObjs[D])return this.listFilterObjs[D];var P=this.getInitFilterObj(),Rt=this.browserStorageService.getSimpleStorage(D),ce=this.commonService.castJsonToObj(Rt??"");return ce&&(P=ce),P}saveFilterObj(b,D){var P=this.localStorageSlug+b;this.listFilterObjs[P]=D,this.browserStorageService.saveSimpleStorage(P,this.commonService.serializeJson(D))}getInitFilterObj(){return{getHasMark:!1,getNotMarked:!1,getNotDone:!1,getResendAnswer:!1,classroomId:0,studentId:0}}constructor(b,D){this.commonService=b,this.browserStorageService=D,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}static#t=this.\u0275fac=function(D){return new(D||y)(e.KVO(a.R),e.KVO(kt.z))};static#e=this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var T=g(51913),o=g(54460),tt=g(47712),It=g(15343),wt=g(18718),rt=g(66729),pt=g(17818),W=g(73437);function dt(y,ut){if(1&y&&(e.j41(0,"span"),e.EFF(1,"\xa0"),e.j41(2,"span",20),e.EFF(3),e.k0s()()),2&y){const b=e.XpG();e.R7$(3),e.JRh(b.totalCustomFilter)}}function mt(y,ut){if(1&y){const b=e.RV6();e.j41(0,"li")(1,"label",21),e.bIt("click",function(P){return P.stopPropagation()}),e.EFF(2),e.nI1(3,"mytranslate"),e.j41(4,"div",9)(5,"input",22),e.bIt("change",function(){e.eBV(b);const P=e.XpG();return P.filterObj.getResendAnswer=!P.filterObj.getResendAnswer,e.Njj(P.changeFilter())}),e.k0s()()()()}if(2&y){const b=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,"lang_student_profile_filter_get_resend_answer")," "),e.R7$(3),e.Y8G("checked",b.filterObj.getResendAnswer)}}const Lt=function(){return{" mr-0 md:mr-2":!0}};let Q=(()=>{class y extends n.H{changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}clearFilter(){this.filterObj=this.studentProfileFilterService.getInitFilterObj(),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilter()}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}constructor(b){super(),this.studentProfileFilterService=b,this.filterType="",this.changeFilterEvent=new e.bkB,this.totalCustomFilter=0}static#t=this.\u0275fac=function(D){return new(D||y)(e.rXU(t))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},features:[e.Vt3],decls:40,vars:26,consts:[[1,"btn","btn-sm",3,"matMenuTriggerFor"],["name","search","size","20",3,"ngClass"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["azt-track-service","filter-menu-SVYEFVdq9z","for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-OF32qNGQY8","for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-EpBgopx3Iv","for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","filter-menu-2gPTdI1ODd",3,"click"],["azt-track-service","filter-menu-cGVj55-Aac",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["azt-track-service","filter-menu-FWtx2ole8G","for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"]],template:function(D,P){if(1&D&&(e.j41(0,"button",0),e.nrm(1,"lucide-icon",1),e.j41(2,"span",2),e.EFF(3),e.nI1(4,"mytranslate"),e.DNE(5,dt,4,1,"span",3),e.k0s()(),e.j41(6,"mat-menu",4,5)(8,"div",6)(9,"ul",7)(10,"li")(11,"label",8),e.bIt("click",function(ce){return ce.stopPropagation()}),e.EFF(12),e.nI1(13,"mytranslate"),e.j41(14,"div",9)(15,"input",10),e.bIt("change",function(){return P.filterObj.getHasMark=!P.filterObj.getHasMark,P.changeFilter()}),e.k0s()()()(),e.j41(16,"li")(17,"label",11),e.bIt("click",function(ce){return ce.stopPropagation()}),e.EFF(18),e.nI1(19,"mytranslate"),e.j41(20,"div",9)(21,"input",12),e.bIt("change",function(){return P.filterObj.getNotMarked=!P.filterObj.getNotMarked,P.changeFilter()}),e.k0s()()()(),e.j41(22,"li")(23,"label",13),e.bIt("click",function(ce){return ce.stopPropagation()}),e.EFF(24),e.nI1(25,"mytranslate"),e.j41(26,"div",9)(27,"input",14),e.bIt("change",function(){return P.filterObj.getNotDone=!P.filterObj.getNotDone,P.changeFilter()}),e.k0s()()()(),e.DNE(28,mt,6,4,"li",3),e.j41(29,"li"),e.nrm(30,"hr",15),e.k0s(),e.j41(31,"li")(32,"div",16)(33,"button",17),e.EFF(34),e.nI1(35,"mytranslate"),e.k0s(),e.j41(36,"div",18),e.bIt("click",function(ce){return ce.stopPropagation()}),e.j41(37,"button",19),e.bIt("click",function(){return P.clearFilter()}),e.EFF(38),e.nI1(39,"mytranslate"),e.k0s()()()()()()()),2&D){const Rt=e.sdS(7);e.Y8G("matMenuTriggerFor",Rt),e.R7$(1),e.Y8G("ngClass",e.lJ4(25,Lt)),e.R7$(2),e.SpI(" ",e.bMT(4,13,"lang_testbank_tested_list_sort")," "),e.R7$(2),e.Y8G("ngIf",P.totalCustomFilter>0),e.R7$(7),e.SpI(" ",e.bMT(13,15,"lang_student_profile_filter_get_has_mark")," "),e.R7$(3),e.Y8G("checked",P.filterObj.getHasMark),e.R7$(3),e.SpI(" ",e.bMT(19,17,"lang_student_profile_filter_get_not_marked")," "),e.R7$(3),e.Y8G("checked",P.filterObj.getNotMarked),e.R7$(3),e.SpI(" ",e.bMT(25,19,"exam"==P.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),e.R7$(3),e.Y8G("checked",P.filterObj.getNotDone),e.R7$(1),e.Y8G("ngIf","homework"==P.filterType),e.R7$(6),e.JRh(e.bMT(35,21,"lang_button_close")),e.R7$(4),e.JRh(e.bMT(39,23,"lang_button_delete"))}},dependencies:[o.YU,o.bT,pt.kk,pt.Cp,It.WGl,W.wp],encapsulation:2})}return y})();function ft(y,ut){if(1&y&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.nrm(3,"azt-check-mark",17),e.k0s()),2&y){const b=e.XpG(2).$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,2,"lang_point"),": "),e.R7$(2),e.Y8G("mark",b.resultMarkObj.point)}}function L(y,ut){1&y&&(e.j41(0,"span",18),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&y&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function K(y,ut){if(1&y&&(e.qex(0),e.DNE(1,ft,4,4,"span",13),e.DNE(2,L,3,3,"span",16),e.bVm()),2&y){const b=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",b.resultMarkObj.confirmedAt),e.R7$(1),e.Y8G("ngIf",!b.resultMarkObj.confirmedAt)}}function gt(y,ut){1&y&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&y&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_testbank_statistical_not_exem_yet")," "))}const N=function(){return{"text-pending":!0}};function B(y,ut){if(1&y){const b=e.RV6();e.j41(0,"div",7),e.bIt("click",function(){const Rt=e.eBV(b).$implicit,ce=e.XpG();return e.Njj(ce.clickToExamObj(Rt))}),e.j41(1,"div",8),e.nrm(2,"lucide-icon",9),e.k0s(),e.j41(3,"div",10)(4,"p",11),e.EFF(5),e.k0s(),e.j41(6,"div",12),e.DNE(7,K,3,2,"ng-container",13),e.DNE(8,gt,3,3,"span",14),e.k0s(),e.j41(9,"div",15),e.EFF(10),e.nI1(11,"mytranslate"),e.nI1(12,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()()}if(2&y){const b=ut.$implicit,D=ut.index;e.ZvI("clickable zoom-in flex items-center ",D>0?"mt-3":""," pb-2"),e.R7$(2),e.Y8G("ngClass",e.lJ4(15,N)),e.R7$(2),e.FS9("matTooltip",b.name),e.R7$(1),e.Lme("",D+1,". ",b.name,""),e.R7$(2),e.Y8G("ngIf",b.resultMarkObj),e.R7$(1),e.Y8G("ngIf",!b.resultMarkObj),e.R7$(2),e.Lme("",e.bMT(11,11,"lang_student_profile_utils_list_exam_created_at"),": ",e.bMT(12,13,b.createdAt),"")}}function Gt(y,ut){1&y&&(e.j41(0,"div",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&y&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_list_null")))}function Ct(y,ut){if(1&y&&e.nrm(0,"azt-loading-effect",25),2&y){const b=e.XpG(2);e.Y8G("currentStatusObj",b.statusObj)}}function Et(y,ut){if(1&y){const b=e.RV6();e.j41(0,"div",21),e.DNE(1,Ct,1,1,"azt-loading-effect",22),e.j41(2,"button",23),e.bIt("click",function(){e.eBV(b);const P=e.XpG();return e.Njj(P.getNextExamResultObjs())}),e.nI1(3,"mytranslate"),e.nrm(4,"lucide-icon",24),e.k0s()()}if(2&y){const b=e.XpG();e.R7$(1),e.Y8G("ngIf",b.statusObj.loading),e.R7$(1),e.FS9("matTooltip",e.bMT(3,3,"lang_student_profile_utils_list_exam_tooltip_view")),e.Y8G("disabled",!b.examNextPage)}}let Jt=(()=>{class y extends n.H{clickToExamObj(b){this.isTeacher?b.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("exam",b)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+b.id+"/"+b.resultMarkObj?.userId+"/"+b.resultMarkObj?.studentId+"/"+(b.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(b.categoryId??0)+"/"+b.id+"/0","?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(b.resultMarkObj?.resultId?"/test/answer-test/"+b.resultMarkObj?.userId+"/0/"+b.hashId+"/"+(b.resultMarkObj?.resultId??0):"/de-thi/"+b.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.examNextPage="",this.getNextExamResultObjs()}getNextExamResultObjs(){this.initStatusObj();var b=this.studentProfileFilterService.getDefaultFilterObj("exam");b.classroomId=this.classroomId,b.studentId=this.studentId,b.nextPage=this.examNextPage,this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(b).subscribe(D=>{1==D.success?(this.examObjs=this.examObjs.concat(D.data?.objs??[]),this.examNextPage=D.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextExamResultObjs()}constructor(b,D,P){super(),this.studentProfileV2Service=b,this.studentProfileFilterService=D,this.permissionService=P,this.backToLink="",this.isTeacher=!0,this.examObjs=[],this.examNextPage=""}static#t=this.\u0275fac=function(D){return new(D||y)(e.rXU(q.m_),e.rXU(t),e.rXU(T.p))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",isTeacher:"isTeacher"},features:[e.Vt3],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","list-exam-pw607HPZy",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","list-exam-pw607HPZy",3,"click"],[1,"file"],["name","file-check","size","48",3,"ngClass"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","list-exam-wvCfNB667b",1,"",3,"matTooltip","disabled","click"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function(D,P){1&D&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"azt-student-profile-filter-menu",2),e.bIt("changeFilterEvent",function(){return P.reInitData()}),e.k0s()(),e.j41(5,"div",3),e.DNE(6,B,13,16,"div",4),e.DNE(7,Gt,3,3,"div",5),e.DNE(8,Et,5,5,"div",6),e.k0s()),2&D&&(e.R7$(2),e.JRh(e.bMT(3,5,"lang_student_profile_utils_list_exam_list_submitted")),e.R7$(2),e.Y8G("filterType","exam"),e.R7$(2),e.Y8G("ngForOf",P.examObjs),e.R7$(1),e.Y8G("ngIf",0==P.examObjs.length&&!P.examNextPage),e.R7$(1),e.Y8G("ngIf",P.examObjs.length>0&&P.examNextPage))},dependencies:[o.YU,o.Sq,o.bT,tt.oV,It.WGl,wt.K,rt.D,Q,W.wp,W.bH],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]})}return y})();var re=g(47426),ge=g(74960),Ie=g(4375),fe=g(89163),Se=g(33887),Dt=g(2915),Qt=g(52811);function Tt(y,ut){1&y&&e.nrm(0,"azt-loading-ui",11)}let Mt=(()=>{class y extends Se._{confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id??0).subscribe(b=>{1==b.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(b.message??"",!0))}))}btnCloseDialog(b){this.dialogRef.close(b)}constructor(b,D,P){super(P,D),this.studentService=b,this.dialogRef=D,this.data=P,this.studentObj=P.studentObj,this.classroomObj=P.classroomObj}static#t=this.\u0275fac=function(D){return new(D||y)(e.rXU(q.b0),e.rXU(fe.CP,8),e.rXU(fe.Vh,8))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["app-delete-parent"]],features:[e.Vt3],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-parent-OCYQzQEUBJ",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-parent-q0ZQYEQFkD",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(D,P){1&D&&(e.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),e.EFF(5),e.nI1(6,"mytranslate"),e.j41(7,"b",4),e.EFF(8),e.k0s(),e.EFF(9),e.nI1(10,"mytranslate"),e.j41(11,"span",5),e.EFF(12),e.k0s(),e.EFF(13,"\xa0 "),e.j41(14,"span",6),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()()(),e.j41(17,"div",7)(18,"button",8),e.bIt("click",function(){return P.btnCloseDialog(!1)}),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s(),e.j41(21,"button",9),e.bIt("click",function(){return P.confirmDelete()}),e.DNE(22,Tt,1,0,"azt-loading-ui",10),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()()()),2&D&&(e.R7$(5),e.SpI(" ",e.bMT(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),e.R7$(3),e.JRh(P.studentObj.fullName),e.R7$(1),e.SpI(" ",e.bMT(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),e.R7$(2),e.FS9("matTooltip",P.classroomObj.name),e.R7$(1),e.SpI(" ",P.classroomObj.name,""),e.R7$(3),e.SpI("* ",e.bMT(16,13,"lang_student_utils_delete_parent_reques"),""),e.R7$(4),e.SpI(" ",e.bMT(20,15,"lang_cms_common_close_btn")," "),e.R7$(3),e.Y8G("ngIf",P.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[o.bT,tt.oV,Dt.U,Qt.R,W.wp],encapsulation:2})}return y})();var St=g(14999),ie=g(46723),_t=g(46899),at=g(5800);function X(y,ut){if(1&y&&e.nrm(0,"azt-loading-effect",3),2&y){const b=e.XpG();e.Y8G("currentStatusObj",b.statusObj)}}const $=function(){return{" mr-2 text-primary":!0}};function ht(y,ut){if(1&y){const b=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(b);const P=e.XpG(4);return e.Njj(P.editStudentDialog(P.studentObj))}),e.nrm(1,"lucide-icon",16),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&y&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,$)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_button_edit")," "))}const zt=function(){return{" mr-2 text-danger":!0}};function qt(y,ut){if(1&y){const b=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(b);const P=e.XpG(4);return e.Njj(P.deleteStudentDialog(P.studentObj))}),e.nrm(1,"lucide-icon",18),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&y&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,zt)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}const ye=function(){return{" mr-2 text-warning":!0}};function Ve(y,ut){if(1&y){const b=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(b);const P=e.XpG(4);return e.Njj(P.deleteParentOfStudentDialog(P.studentObj))}),e.nrm(1,"lucide-icon",20),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&y&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,ye)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_student_profile_utils_account_student_required_verifie")," "))}function Ue(y,ut){if(1&y&&(e.j41(0,"div",11),e.DNE(1,ht,4,5,"button",12),e.nI1(2,"editPermission"),e.DNE(3,qt,4,5,"button",13),e.nI1(4,"fullPermission"),e.nI1(5,"editPermission"),e.DNE(6,Ve,4,5,"button",14),e.nI1(7,"editPermission"),e.k0s()),2&y){const b=e.XpG(3);e.R7$(1),e.Y8G("ngIf",e.i5U(2,3,b.classroomObj,"student")),e.R7$(2),e.Y8G("ngIf",e.i5U(4,6,b.classroomObj,"student")||e.i5U(5,9,b.classroomObj,"student")),e.R7$(3),e.Y8G("ngIf",0!=b.studentObj.parentId&&e.i5U(7,12,b.classroomObj,"student"))}}function an(y,ut){if(1&y){const b=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(b);const P=e.XpG(4);return e.Njj(P.deleteStudentDialog(P.studentObj))}),e.nrm(1,"lucide-icon",18),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&y&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,zt)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}function be(y,ut){if(1&y){const b=e.RV6();e.j41(0,"div",11)(1,"button",21),e.bIt("click",function(){e.eBV(b);const P=e.XpG(3);return e.Njj(P.editStudentDialog(P.studentObj))}),e.nrm(2,"lucide-icon",16),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,an,4,5,"button",22),e.nI1(6,"fullPermission"),e.nI1(7,"editPermission"),e.k0s()}if(2&y){const b=e.XpG(3);e.R7$(2),e.Y8G("ngClass",e.lJ4(11,$)),e.R7$(1),e.SpI(" ",e.bMT(4,3,"lang_button_edit")," "),e.R7$(2),e.Y8G("ngIf",e.i5U(6,5,b.classroomObj,"student")||e.i5U(7,8,b.classroomObj,"student"))}}const Xe=function(){return[]};function We(y,ut){if(1&y&&(e.qex(0),e.j41(1,"div",6)(2,"div",7),e.nrm(3,"azt-student-info-box",8),e.k0s(),e.j41(4,"div",9),e.DNE(5,Ue,8,15,"div",10),e.nI1(6,"editPermission"),e.k0s()(),e.DNE(7,be,8,12,"div",10),e.nI1(8,"editPermission"),e.bVm()),2&y){const b=e.XpG(2);let D;e.R7$(3),e.Y8G("name",b.studentObj.fullName)("parentFullName",b.studentObj.parentFullName)("parentId",b.studentObj.parentId)("parentPhone",b.studentObj.parentPhone)("email",b.studentObj.email)("birthday",b.studentObj.birthday)("avatar",b.studentObj.avatar)("gender",b.studentObj.gender)("schoolName",null==b.studentObj.moreInfo?null:b.studentObj.moreInfo.schoolName)("facebookLink",null==b.studentObj.moreInfo?null:b.studentObj.moreInfo.facebookLink)("identificationNumber",b.studentObj.identificationNumber)("hasUser",1==b.studentObj.isVerified)("classrooms",null!==(D=null==b.studentObj.moreInfo?null:b.studentObj.moreInfo.classrooms)&&void 0!==D?D:e.lJ4(22,Xe))("joinedAt",null==b.studentObj.moreInfo?null:b.studentObj.moreInfo.joinedAt),e.R7$(2),e.Y8G("ngIf",b.isTeacher&&0!=b.studentObj.parentId&&e.i5U(6,16,b.classroomObj,"student")),e.R7$(2),e.Y8G("ngIf",b.isTeacher&&0==b.studentObj.parentId&&e.i5U(8,19,b.classroomObj,"student"))}}function rn(y,ut){1&y&&(e.j41(0,"div",24)(1,"span",25),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&y&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_profile_student_not_found")))}function He(y,ut){if(1&y&&(e.DNE(0,We,9,23,"ng-container",4),e.DNE(1,rn,4,3,"ng-template",null,5,e.C5r)),2&y){const b=e.sdS(2),D=e.XpG();e.Y8G("ngIf",D.studentObj)("ngIfElse",b)}}const Je=function(y){return{"pb-5":y}};let ln=(()=>{class y extends n.H{deleteStudentDialog(b){this.sAztDialogService.open(St.d,{data:{studentObj:b,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(P=>{P&&this.commonService.myNavigation(this.paramBackToLink)})}editStudentDialog(b){this.sAztDialogService.open(ie.B,{data:{studentObj:b,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(P=>{P&&this.reInitComponentEvent.emit(!0)})}deleteParentOfStudentDialog(b){this.sAztDialogService.open(Mt,{data:{studentObj:b,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(P=>{P&&this.reInitComponentEvent.emit(!0)})}ngOnInit(){super.ngOnInit()}constructor(b){super(),this.sAztDialogService=b,this.classroomList=[],this.backToLink="",this.paramBackToLink="",this.isTeacher=!0,this.reInitComponentEvent=new e.bkB}static#t=this.\u0275fac=function(D){return new(D||y)(e.rXU(_t.i))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-detail-account-student"]],inputs:{classroomId:"classroomId",classroomList:"classroomList",backToLink:"backToLink",paramBackToLink:"paramBackToLink",isTeacher:"isTeacher",studentObj:"studentObj",classroomObj:"classroomObj"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.Vt3],decls:4,vars:5,consts:[[1,"intro-y","box","px-5","pt-5",3,"ngClass"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["noStudentObj",""],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[3,"name","parentFullName","parentId","parentPhone","email","birthday","avatar","gender","schoolName","facebookLink","identificationNumber","hasUser","classrooms","joinedAt"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["azt-track-service","detail-account-student-rzLFlIWrx","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-zZpuvJmKGS","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-hml3hBaXHE","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-rzLFlIWrx",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","pencil","size","18",3,"ngClass"],["azt-track-service","detail-account-student-zZpuvJmKGS",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","trash-2","size","18",3,"ngClass"],["azt-track-service","detail-account-student-hml3hBaXHE",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","shield-alert","size","18",3,"ngClass"],["azt-track-service","detail-account-student-WgNDrDRXqF",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","detail-account-student-njjAOAGlF5","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-njjAOAGlF5",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-5"],[1,"block","sm:inline"]],template:function(D,P){if(1&D&&(e.j41(0,"div",0),e.DNE(1,X,1,1,"azt-loading-effect",1),e.DNE(2,He,3,2,"ng-template",null,2,e.C5r),e.k0s()),2&D){const Rt=e.sdS(3);e.Y8G("ngClass",e.eq3(3,Je,!P.studentObj)),e.R7$(1),e.Y8G("ngIf",P.statusObj.loading)("ngIfElse",Rt)}},dependencies:[o.YU,o.bT,It.WGl,wt.K,at.B,W.wp,W.gC,W.FV],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]})}return y})();var cn=g(71703),Ae=g(43070);let Ke=(()=>{class y extends n.H{constructor(b,D){super(),this.studentService=b,this.sAztDialogService=D,this.studentId=0,this.selectClassroomId=0,this.isTeacherRole=!0,this.avgPoint=0}showTotalPointDetail(){this.sAztDialogService.open(cn.V,{width:"700px",restoreFocus:!1,data:{student:this.studentObj,isTeacher:this.isTeacherRole}}).afterClosed().subscribe(b=>{this.getInfoAttendance()})}getInfoAttendance(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsStudentIdProfileGet(this.studentId,this.selectClassroomId).subscribe(b=>{b?(this.attendanceObj=b,this.avgPoint=b.averageMark??0,this.studentObj=b.student,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnChanges(){this.getInfoAttendance()}ngOnInit(){super.ngOnInit()}static#t=this.\u0275fac=function(D){return new(D||y)(e.rXU(Ae.b0),e.rXU(_t.i))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-detail-attendance"]],inputs:{studentId:"studentId",selectClassroomId:"selectClassroomId",isTeacherRole:"isTeacherRole"},features:[e.Vt3,e.OA$],decls:60,vars:23,consts:[[1,"detail-attendance"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"box","flex","items-center","p-5"],[1,"box-content","mx-auto","text-center"],[1,"btn","btn-sm","btn-primary-soft","p-1"],[1,"w-6","h-6"],["name","star"],[1,"mt-4"],[1,"ml-2","link__hover","link__color",3,"click"],[1,"text-2xl","text-primary","font-medium"],[1,"col-span-12","md:col-span-3"],[1,"box","zoom-in","flex","items-center","p-5"],["name","check","size","24"],[1,"btn","btn-sm","btn-secondary-soft","p-1"],["name","power-off","size","24"],[1,"text-2xl","text-secondary","font-medium"],[1,"btn","btn-sm","btn-pending-soft","p-1"],["name","alert-octagon","size","24"],[1,"text-2xl","text-pending","font-medium"],[1,"btn","btn-sm","btn-danger-soft","p-1"],["name","x-octagon","size","24"],[1,"text-2xl","text-danger","font-medium"]],template:function(D,P){1&D&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"div",6),e.nrm(7,"lucide-icon",7),e.k0s()(),e.j41(8,"div",8),e.EFF(9),e.nI1(10,"mytranslate"),e.j41(11,"a",9),e.bIt("click",function(){return P.showTotalPointDetail()}),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()(),e.j41(14,"div",10),e.EFF(15),e.k0s()()()(),e.j41(16,"div",11)(17,"div",12)(18,"div",4)(19,"button",5)(20,"div",6),e.nrm(21,"lucide-icon",13),e.k0s()(),e.j41(22,"div",8),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s(),e.j41(25,"div",10),e.EFF(26),e.k0s()()()(),e.j41(27,"div",11)(28,"div",12)(29,"div",4)(30,"button",14)(31,"div",6),e.nrm(32,"lucide-icon",15),e.k0s()(),e.j41(33,"div",8),e.EFF(34),e.nI1(35,"mytranslate"),e.k0s(),e.j41(36,"div",16),e.EFF(37),e.k0s()()()(),e.j41(38,"div",11)(39,"div",12)(40,"div",4)(41,"button",17)(42,"div",6),e.nrm(43,"lucide-icon",18),e.k0s()(),e.j41(44,"div",8),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s(),e.j41(47,"div",19),e.EFF(48),e.k0s()()()(),e.j41(49,"div",11)(50,"div",12)(51,"div",4)(52,"button",20)(53,"div",6),e.nrm(54,"lucide-icon",21),e.k0s()(),e.j41(55,"div",8),e.EFF(56),e.nI1(57,"mytranslate"),e.k0s(),e.j41(58,"div",22),e.EFF(59),e.k0s()()()()()()),2&D&&(e.R7$(9),e.SpI(" ",e.bMT(10,11,"lang_business_diem_tong_ket")," "),e.R7$(3),e.SpI("(",e.bMT(13,13,"lang_auto_xem_chi_tiet"),")"),e.R7$(3),e.JRh(P.avgPoint),e.R7$(8),e.JRh(e.bMT(24,15,"lang_student_number_of_sessions_attended")),e.R7$(3),e.JRh(null==P.attendanceObj?null:P.attendanceObj.totalAttend),e.R7$(8),e.JRh(e.bMT(35,17,"lang_student_number_of_sessions_missed")),e.R7$(3),e.JRh(null==P.attendanceObj?null:P.attendanceObj.totalAbsence),e.R7$(8),e.JRh(e.bMT(46,19,"lang_student_number_of_approved_absences")),e.R7$(3),e.JRh(null==P.attendanceObj?null:P.attendanceObj.totalAbsentPermission),e.R7$(8),e.JRh(e.bMT(57,21,"lang_student_number_of_unauthorized_absences")),e.R7$(3),e.JRh(null==P.attendanceObj?null:P.attendanceObj.totalAbsentWithoutPermission))},dependencies:[It.WGl,W.wp],encapsulation:2})}return y})();var Le=g(10123);function Qe(y,ut){if(1&y&&(e.j41(0,"tr")(1,"td",10),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()),2&y){const b=ut.$implicit,D=ut.index;e.R7$(2),e.JRh(D+1),e.R7$(2),e.JRh(b.bookName),e.R7$(2),e.JRh(e.bMT(7,3,b.createdAt))}}function it(y,ut){if(1&y&&(e.qex(0),e.DNE(1,Qe,8,5,"tr",9),e.bVm()),2&y){const b=e.XpG();e.R7$(1),e.Y8G("ngForOf",b.bookDistributionList)}}function Vt(y,ut){1&y&&(e.j41(0,"tr")(1,"td",11),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&y&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_student_profile_not_data_view")," "))}let U=(()=>{class y extends n.H{getInfoBookDistribution(){this.waitDestroy(this.studentService.apiStudentsStudentIdBooksGet(this.studentId).subscribe(b=>{b?(this.bookDistributionList=b.list,this.totalBookDistribution=b.total):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getInfoBookDistribution()}constructor(b){super(),this.studentService=b,this.studentId=0,this.bookDistributionList=[],this.totalBookDistribution=0}static#t=this.\u0275fac=function(D){return new(D||y)(e.rXU(Ae.b0))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-detail-book-distribution"]],inputs:{studentId:"studentId"},features:[e.Vt3],decls:22,vars:14,consts:[[1,"text-right","mt-4"],[1,"font-medium"],[1,"box","mt-2"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[4,"ngIf","ngIfElse"],["noDistribution",""],[4,"ngFor","ngForOf"],[1,"text-center"],["colspan","3",1,"text-center"]],template:function(D,P){if(1&D&&(e.j41(0,"div",0)(1,"span",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()(),e.j41(4,"div",2)(5,"drag-scroll")(6,"table",3)(7,"thead",4)(8,"tr")(9,"th",5),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"th",6),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"th",6),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()(),e.j41(18,"tbody"),e.DNE(19,it,2,1,"ng-container",7),e.DNE(20,Vt,4,3,"ng-template",null,8,e.C5r),e.k0s()()()()),2&D){const Rt=e.sdS(21);e.R7$(2),e.SpI(" ",e.bMT(3,6,"lang_student_total")+": "+P.totalBookDistribution," "),e.R7$(8),e.SpI(" ",e.bMT(11,8,"lang_auto_stt")," "),e.R7$(3),e.SpI(" ",e.bMT(14,10,"lang_core_ten_sach")," "),e.R7$(3),e.SpI(" ",e.bMT(17,12,"lang_auto_thoi_gian")," "),e.R7$(3),e.Y8G("ngIf",P.bookDistributionList.length)("ngIfElse",Rt)}},dependencies:[o.Sq,o.bT,Le.jd,Le.Ew,W.wp,W.bH],encapsulation:2})}return y})();var ot=g(23047),ct=g(9280),Yt=g(9691),me=g(5849),_e=g(19258),De=g(10805);function he(y,ut){if(1&y&&e.nrm(0,"azt-loading-effect",3),2&y){const b=e.XpG();e.Y8G("currentStatusObj",b.statusObj)}}function te(y,ut){if(1&y&&(e.j41(0,"span",24),e.EFF(1),e.k0s()),2&y){const b=e.XpG(2).$implicit;e.R7$(1),e.JRh(b.averageMark)}}const de=function(y){return{"width.%":y}};function mn(y,ut){if(1&y&&(e.j41(0,"div",22),e.DNE(1,te,2,1,"span",23),e.k0s()),2&y){const b=e.XpG().$implicit;e.Y8G("ngStyle",e.eq3(2,de,10*b.averageMark)),e.R7$(1),e.Y8G("ngIf",b.averageMark&&b.averageMark>1)}}function z(y,ut){1&y&&(e.j41(0,"div",25)(1,"span",26),e.nrm(2,"azt-loading-ui"),e.k0s()())}function vt(y,ut){1&y&&(e.qex(0),e.j41(1,"div",29)(2,"span",30),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()),2&y&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_profile_student_not_support_subject")))}function S(y,ut){if(1&y&&(e.j41(0,"span",24),e.EFF(1),e.k0s()),2&y){const b=e.XpG(2).$implicit;e.R7$(1),e.JRh(b.averageMark)}}const J=function(y,ut,b,D){return{"bg-orange-600":y,"bg-red-600":ut,"bg-green-600":b,"bg-blue-600":D}};function Z(y,ut){if(1&y&&(e.j41(0,"div",51),e.DNE(1,S,2,1,"span",23),e.k0s()),2&y){const b=e.XpG().$implicit;e.Y8G("ngClass",e.ziG(3,J,1==b.id,3==b.id,2==b.id,4==b.id))("ngStyle",e.eq3(8,de,10*b.averageMark)),e.R7$(1),e.Y8G("ngIf",b.averageMark>1)}}const bt=function(y){return{"border-none":y}};function oe(y,ut){if(1&y&&(e.j41(0,"div",41)(1,"div",42)(2,"div",43)(3,"h3",44),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"div",45)(7,"h3",44),e.EFF(8),e.nI1(9,"mytranslate"),e.j41(10,"b"),e.EFF(11),e.k0s(),e.EFF(12," / "),e.j41(13,"b"),e.EFF(14),e.k0s(),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()(),e.j41(17,"div",46)(18,"div",47)(19,"span",48),e.EFF(20,"0"),e.k0s(),e.j41(21,"div",49),e.DNE(22,Z,2,10,"div",50),e.k0s(),e.j41(23,"span",19),e.EFF(24,"10"),e.k0s()()()()()),2&y){const b=ut.$implicit;e.Y8G("ngClass",e.eq3(13,bt,ut.last)),e.R7$(4),e.SpI(" ",e.bMT(5,7,b.name)," "),e.R7$(4),e.SpI(" ",e.bMT(9,9,"lang_auto_tra_loi_dung"),":\xa0 "),e.R7$(3),e.JRh(b.totalCorrectQuestion),e.R7$(3),e.JRh(b.totalQuestion),e.R7$(1),e.SpI(" \xa0",e.bMT(16,11,"azt_lang_sugg_question")," "),e.R7$(7),e.Y8G("ngIf",b.averageMark)}}function ve(y,ut){if(1&y&&(e.qex(0),e.j41(1,"div",39)(2,"h4",33),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.DNE(5,oe,25,15,"div",40),e.bVm()),2&y){const b=e.XpG(3).$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,2,"lang_student_profile_result_by_difficulty_level")," "),e.R7$(2),e.Y8G("ngForOf",b.difficultyDataObjs)}}function Ut(y,ut){if(1&y&&(e.nrm(0,"coazt-student-skill-chapter",31),e.j41(1,"div",32)(2,"h4",33),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",34)(6,"div",35)(7,"div",36),e.nrm(8,"div",37),e.k0s()()(),e.DNE(9,ve,6,4,"ng-container",38)),2&y){const b=e.XpG(2).$implicit,D=e.XpG(2);e.Y8G("levelId",b.levelId)("subjectId",b.subjectId)("userId",D.studentObj.parentId),e.R7$(3),e.SpI(" ",e.bMT(4,6,"lang_student_profile_exam_point_by_time")," "),e.R7$(5),e.Y8G("chart",b.chart),e.R7$(1),e.Y8G("ngIf",b.difficultyDataObjs&&b.difficultyDataObjs.length)}}function je(y,ut){if(1&y&&(e.DNE(0,vt,5,3,"ng-container",27),e.DNE(1,Ut,10,8,"ng-template",null,28,e.C5r)),2&y){const b=e.sdS(2),D=e.XpG().$implicit;e.Y8G("ngIf",D.errorGetData)("ngIfElse",b)}}function ee(y,ut){if(1&y){const b=e.RV6();e.qex(0),e.j41(1,"mat-expansion-panel",8),e.bIt("opened",function(){const Rt=e.eBV(b).index,ce=e.XpG(2);return e.Njj(ce.getStatisticalById(Rt))}),e.j41(2,"mat-expansion-panel-header",9)(3,"div",10)(4,"div",11)(5,"h3",12),e.EFF(6),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.k0s()(),e.j41(9,"div",13)(10,"div",14)(11,"span",15),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"span",16),e.EFF(15,"0"),e.k0s(),e.j41(16,"div",17),e.DNE(17,mn,2,4,"div",18),e.k0s(),e.j41(18,"span",19),e.EFF(19,"10"),e.k0s()()()()(),e.DNE(20,z,3,0,"div",20),e.DNE(21,je,3,2,"ng-template",null,21,e.C5r),e.k0s(),e.bVm()}if(2&y){const b=ut.$implicit,D=e.sdS(22);e.R7$(6),e.Lme("",e.bMT(7,6,b.subjectName)," ","("+e.bMT(8,8,b.levelName)+")",""),e.R7$(6),e.JRh(e.bMT(13,10,"lang_auto_diem_trung_binh")),e.R7$(5),e.Y8G("ngIf",b.averageMark),e.R7$(3),e.Y8G("ngIf",b.isLoading)("ngIfElse",D)}}function Ge(y,ut){if(1&y&&(e.j41(0,"div",4)(1,"div",5)(2,"mat-accordion",6),e.DNE(3,ee,23,12,"ng-container",7),e.k0s()()()),2&y){const b=e.XpG();e.R7$(3),e.Y8G("ngForOf",b.levelSubjectObjs)}}let bn=(()=>{class y extends n.H{getStatisticalById(b){this.studentObj&&this.levelSubjectObjs.length&&this.levelSubjectObjs[b]&&(this.levelSubjectObjs[b].isLoading=!0,this.levelSubjectObjs[b].errorGetData=!1,this.studentService.apiStudentsStudentIdFieldGet(this.studentObj.id,this.levelSubjectObjs[b].levelId??0,this.levelSubjectObjs[b].subjectId??0).subscribe({next:D=>{D?(this.levelSubjectObjs[b].difficultyDataObjs=D.difficulty??[],this.levelSubjectObjs[b].knowledgeDataObjs=D.knowledge??[],this.levelSubjectObjs[b].chart=this.createChart(D.examResults??[]),this.levelSubjectObjs[b].isLoading=!1,this.levelSubjectObjs[b].errorGetData=!1):(this.levelSubjectObjs[b].isLoading=!1,this.levelSubjectObjs[b].errorGetData=!0,this.stopStatusObj())},error:D=>{this.levelSubjectObjs[b].isLoading=!1,this.levelSubjectObjs[b].errorGetData=!0,this.errorStatusObj(D.error.message??"",!0)}}))}createChart(b){let D=this.commonService.myTranslateInstant("lang_auto_Diem")??"",P=[],Rt=[];return b.forEach(Jn=>{P.push(Jn.mark??0),Rt.push(this.sAztTimeService.formatFullDateTimeWithoutSecondByUserUnit(Jn.createdAt))}),new ot.t1({chart:{type:"line",style:{fontFamily:"Arial"}},title:{style:{wordWrap:"break-word","text-align":"center"},text:"",useHTML:!0},colors:["#2361ae"],credits:{enabled:!1},xAxis:{categories:Rt},yAxis:{title:{text:D}},series:[{name:D,type:"line",data:P}]})}getDataSubject(){this.studentObj&&(this.initStatusObj(),this.isBusinessDomain?this.studentService.apiStudentsStudentIdAverageLevelSubjectMarksGet(this.studentObj.id).subscribe({next:b=>{this.levelSubjectObjs=b.list??[],this.getStatisticalById(0),this.stopStatusObj()},error:b=>{this.errorStatusObj(b.error.message,!0)}}):this.examPageResultService.apiExamPageResultListStudentProfileByLevelSubjectsGet(this.studentObj.id).subscribe(b=>{1==b.success&&b.data?(this.levelSubjectObjs=b.data.objs??[],this.getStatisticalById(0),this.stopStatusObj()):this.errorStatusObj(b.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getDataSubject()}constructor(b,D,P,Rt){super(),this.examPageResultService=b,this.studentService=D,this.sAztTimeService=P,this.studentPracticeService=Rt,this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new e.bkB,this.levelSubjectObjs=[]}static#t=this.\u0275fac=function(D){return new(D||y)(e.rXU(ct.TE),e.rXU(Ae.b0),e.rXU(Yt.F),e.rXU(me.Kw))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-detail-by-subject-student"]],inputs:{classroomId:"classroomId",studentObj:"studentObj",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.Vt3],decls:4,vars:2,consts:[[1,"intro-y"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"px-5"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[2,"margin-top","0.75rem",3,"opened"],[1,"pad-mobile"],[1,"grid","grid-cols-12","gap-3","gap-mobile","items-center","w-full","justify-between"],[1,"col-span-12","lg:col-span-3"],[1,"font-medium","mr-3"],[1,"col-span-12","lg:col-span-9","text-center"],[1,"flex","profile-flr","pr-5",2,"align-items","center"],[1,"text-md",2,"vertical-align","middle","margin-right","15px"],[1,"text-md",2,"vertical-align","middle","margin-right","5px"],[1,"w-avg-profile","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],["class","flex justify-center mt-3",4,"ngIf","ngIfElse"],["doneLoadingPage",""],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[1,"flex","justify-center","mt-3"],[1,"w-6","h-6","inline-block"],[4,"ngIf","ngIfElse"],["hasData",""],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[3,"levelId","subjectId","userId"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"report-box","intro-x","mt-3"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[4,"ngIf"],[1,"w-auto","text-left","bg-gray-200","mt-3",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],["class","border-b border-slate-200/60 dark:border-darkmode-400 mt-2 py-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","mt-2","py-3",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 text-right p-0.5 leading-none",3,"ngClass","ngStyle",4,"ngIf"],[1,"h-6","text-blue-100","text-right","p-0.5","leading-none",3,"ngClass","ngStyle"]],template:function(D,P){if(1&D&&(e.j41(0,"div",0),e.DNE(1,he,1,1,"azt-loading-effect",1),e.DNE(2,Ge,4,1,"ng-template",null,2,e.C5r),e.k0s()),2&D){const Rt=e.sdS(3);e.R7$(1),e.Y8G("ngIf",P.statusObj.loading)("ngIfElse",Rt)}},dependencies:[o.YU,o.Sq,o.bT,o.B3,_e.BS,_e.GK,_e.Z2,ot.S6,wt.K,Qt.R,De.g,W.wp],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]})}return y})();function _n(y,ut){if(1&y&&(e.j41(0,"tr")(1,"td",10),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td",10)(9,"span",11),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()()()),2&y){const b=ut.$implicit,D=ut.index;let P;e.R7$(2),e.JRh(D+1),e.R7$(2),e.JRh(e.bMT(5,4,null!==(P=b.updatedAt)&&void 0!==P?P:b.createdAt)),e.R7$(3),e.JRh(b.month+"/"+b.year),e.R7$(3),e.SpI(" ",e.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function Ye(y,ut){if(1&y&&(e.qex(0),e.DNE(1,_n,12,8,"tr",9),e.bVm()),2&y){const b=e.XpG();e.R7$(1),e.Y8G("ngForOf",b.historyTuitionFeeList)}}function R(y,ut){1&y&&(e.j41(0,"tr")(1,"td",12),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&y&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_student_profile_not_data_view")," "))}let Pt=(()=>{class y extends n.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.studentId).subscribe(b=>{b?this.historyTuitionFeeList=b.histories:this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(b){super(),this.paymentService=b,this.studentId=0,this.historyTuitionFeeList=[]}static#t=this.\u0275fac=function(D){return new(D||y)(e.rXU(Ae.WG))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-detail-tuition-fee"]],inputs:{studentId:"studentId"},features:[e.Vt3],decls:22,vars:14,consts:[[1,"detail-attendance"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],[4,"ngIf","ngIfElse"],["noTuitionFee",""],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(D,P){if(1&D&&(e.j41(0,"div",0)(1,"div",1)(2,"drag-scroll")(3,"table",2)(4,"thead",3)(5,"tr")(6,"th",4),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"th",5),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"th",5),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"th",6),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()(),e.j41(18,"tbody"),e.DNE(19,Ye,2,1,"ng-container",7),e.DNE(20,R,4,3,"ng-template",null,8,e.C5r),e.k0s()()()()()),2&D){const Rt=e.sdS(21);e.R7$(7),e.SpI(" ",e.bMT(8,6,"lang_auto_stt")," "),e.R7$(3),e.SpI(" ",e.bMT(11,8,"lang_student_payment_time")," "),e.R7$(3),e.SpI(" ",e.bMT(14,10,"lang_student_monthly_tuition_fee")," "),e.R7$(3),e.SpI(" ",e.bMT(17,12,"lang_student_status")," "),e.R7$(3),e.Y8G("ngIf",P.historyTuitionFeeList.length)("ngIfElse",Rt)}},dependencies:[o.Sq,o.bT,Le.jd,Le.Ew,W.wp,W.bH],encapsulation:2})}return y})();function E(y,ut){if(1&y&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.nrm(3,"azt-check-mark",17),e.k0s()),2&y){const b=e.XpG(2).$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,2,"lang_point"),": "),e.R7$(2),e.Y8G("mark",b.resultMarkObj.point)}}function F(y,ut){1&y&&(e.j41(0,"span",18),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&y&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_student_profile_not_mark_result")," "))}function O(y,ut){if(1&y&&(e.j41(0,"span"),e.DNE(1,E,4,4,"span",13),e.DNE(2,F,3,3,"span",16),e.k0s()),2&y){const b=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",b.resultMarkObj.confirmedAt),e.R7$(1),e.Y8G("ngIf",!b.resultMarkObj.confirmedAt)}}function jt(y,ut){1&y&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&y&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_student_profile_no_result")," "))}function Kt(y,ut){if(1&y&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&y){const b=e.XpG().$implicit;e.R7$(1),e.Lme("",e.bMT(2,2,"lang_student_profile_resend_answer_required"),": ",b.resendAnswerObj.resendNote,"")}}const yn=function(){return{"text-primary":!0}};function Ze(y,ut){if(1&y){const b=e.RV6();e.j41(0,"div",7),e.bIt("click",function(){const Rt=e.eBV(b).$implicit,ce=e.XpG();return e.Njj(ce.clickToHomeworkObj(Rt))}),e.j41(1,"div",8),e.nrm(2,"lucide-icon",9),e.k0s(),e.j41(3,"div",10)(4,"p",11),e.EFF(5),e.k0s(),e.j41(6,"div",12),e.DNE(7,O,3,2,"span",13),e.DNE(8,jt,3,3,"span",14),e.DNE(9,Kt,3,4,"span",14),e.k0s(),e.j41(10,"div",15),e.EFF(11),e.nI1(12,"mytranslate"),e.nI1(13,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()()}if(2&y){const b=ut.$implicit,D=ut.index;e.ZvI("clickable zoom-in flex items-center ",D>0?"mt-5":""," pb-2"),e.R7$(2),e.Y8G("ngClass",e.lJ4(16,yn)),e.R7$(2),e.FS9("matTooltip",b.name),e.R7$(1),e.Lme("",D+1,". ",b.name,""),e.R7$(2),e.Y8G("ngIf",b.resultMarkObj),e.R7$(1),e.Y8G("ngIf",!b.resultMarkObj&&!b.resendAnswerObj),e.R7$(1),e.Y8G("ngIf",!b.resultMarkObj&&b.resendAnswerObj),e.R7$(2),e.Lme("",e.bMT(12,12,"lang_student_profile_utils_homework_answer_created_at"),": ",e.bMT(13,14,b.createdAt),"")}}function Xn(y,ut){1&y&&(e.j41(0,"div",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&y&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_list_null")))}function qe(y,ut){if(1&y&&e.nrm(0,"azt-loading-effect",25),2&y){const b=e.XpG(2);e.Y8G("currentStatusObj",b.statusObj)}}function st(y,ut){if(1&y){const b=e.RV6();e.j41(0,"div",21),e.DNE(1,qe,1,1,"azt-loading-effect",22),e.j41(2,"button",23),e.bIt("click",function(){e.eBV(b);const P=e.XpG();return e.Njj(P.getNextHomeworkAnswerObjs())}),e.nI1(3,"mytranslate"),e.nrm(4,"lucide-icon",24),e.k0s()()}if(2&y){const b=e.XpG();e.R7$(1),e.Y8G("ngIf",b.statusObj.loading),e.R7$(1),e.FS9("matTooltip",e.bMT(3,3,"lang_auto_hien_ban_ghi_cu_hon")),e.Y8G("disabled",!b.homeworkNextPage)}}let Dn=(()=>{class y extends n.H{clickToHomeworkObj(b){this.isTeacher?b.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("homework",b)?this.commonService.myNavigationWithQueryString("/admin/homework/switch-mark-exercise/"+b.resultMarkObj?.resultId+"/"+b.hashId+"/"+(this.studentId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(b.classroomId??0)+"/"+b.id+"/"+b.hashId,"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(b.resultMarkObj?.resultId?"/homework/switch-view-homework/"+b.resultMarkObj?.resultId+"/"+b.hashId:"/bai-tap/"+b.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var b=this.studentProfileFilterService.getDefaultFilterObj("homework");b.classroomId=this.classroomId,b.studentId=this.studentId,b.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(b).subscribe(D=>{1==D.success?(this.homeworkObjs=this.homeworkObjs.concat(D.data?.objs??[]),this.homeworkNextPage=D.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}constructor(b,D,P){super(),this.studentProfileV2Service=b,this.studentProfileFilterService=D,this.permissionService=P,this.isTeacher=!0,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}static#t=this.\u0275fac=function(D){return new(D||y)(e.rXU(q.m_),e.rXU(t),e.rXU(T.p))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",isTeacher:"isTeacher",backToLink:"backToLink"},features:[e.Vt3],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"click"],[1,"file"],["name","file-text","size","48",3,"ngClass"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","homework-answer-MWO-mgLYZ_",1,"",3,"matTooltip","disabled","click"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function(D,P){1&D&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"azt-student-profile-filter-menu",2),e.bIt("changeFilterEvent",function(){return P.reInitData()}),e.k0s()(),e.j41(5,"div",3),e.DNE(6,Ze,14,17,"div",4),e.DNE(7,Xn,3,3,"div",5),e.DNE(8,st,5,5,"div",6),e.k0s()),2&D&&(e.R7$(2),e.JRh(e.bMT(3,5,"lang_student_profile_utils_homework_answer_list_submitted")),e.R7$(2),e.Y8G("filterType","homework"),e.R7$(2),e.Y8G("ngForOf",P.homeworkObjs),e.R7$(1),e.Y8G("ngIf",0==P.homeworkObjs.length&&!P.homeworkNextPage),e.R7$(1),e.Y8G("ngIf",P.homeworkObjs.length>0&&P.homeworkNextPage))},dependencies:[o.YU,o.Sq,o.bT,tt.oV,It.WGl,wt.K,rt.D,Q,W.wp,W.bH],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]})}return y})();function Wn(y,ut){if(1&y&&e.nrm(0,"azt-loading-effect",2),2&y){const b=e.XpG();e.Y8G("currentStatusObj",b.statusObj)}}function Ne(y,ut){if(1&y&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&y){const b=ut.$implicit;e.Y8G("value",b.id+"-"+b.studentId),e.R7$(1),e.SpI(" ",b.name," ")}}function le(y,ut){if(1&y&&(e.j41(0,"div",23)(1,"p",20),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-attendance",24),e.k0s()),2&y){const b=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,4,"lang_student_attendance_point_info")),e.R7$(2),e.Y8G("studentId",b.studentId)("isTeacherRole",b.isTeacherDashboard)("selectClassroomId",b.classroomId)}}function ze(y,ut){if(1&y&&(e.j41(0,"div",23)(1,"p",20),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-tuition-fee",25),e.k0s()),2&y){const b=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"lang_student_tuition_fee_info")),e.R7$(2),e.Y8G("studentId",b.studentId)}}function Hn(y,ut){if(1&y&&(e.j41(0,"div",23)(1,"p",20),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-book-distribution",25),e.k0s()),2&y){const b=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"lang_student_book_distribution_info")),e.R7$(2),e.Y8G("studentId",b.studentId)}}function Gn(y,ut){if(1&y){const b=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"h3",5),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",6)(6,"mat-form-field",7)(7,"mat-select",8),e.bIt("selectionChange",function(P){e.eBV(b);const Rt=e.XpG();return e.Njj(Rt.selectedClassroom(P))}),e.j41(8,"mat-option",9),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.DNE(11,Ne,2,2,"mat-option",10),e.k0s()()()(),e.j41(12,"div",11)(13,"azt-detail-account-student",12),e.bIt("reInitComponentEvent",function(){e.eBV(b);const P=e.XpG();return e.Njj(P.reInitOtherComponent())}),e.k0s(),e.j41(14,"div",13)(15,"div",14),e.nrm(16,"azt-student-profile-list-exams",15,16),e.k0s(),e.j41(18,"div",14),e.nrm(19,"azt-student-profile-list-homeworks",15,17),e.k0s()(),e.DNE(21,le,5,6,"div",18),e.DNE(22,ze,5,4,"div",18),e.DNE(23,Hn,5,4,"div",18),e.j41(24,"div",19)(25,"p",20),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s(),e.j41(28,"azt-detail-by-subject-student",21),e.bIt("reInitComponentEvent",function(){e.eBV(b);const P=e.XpG();return e.Njj(P.reInitOtherComponent())}),e.k0s()()()()}if(2&y){const b=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,29,"lang_student_classroom_profile_student")," "),e.R7$(4),e.Y8G("formControl",b.select),e.R7$(1),e.Y8G("value","")("disabled",!0),e.R7$(1),e.SpI(" ---",e.bMT(10,31,"lang_auto_chon_lop"),"--- "),e.R7$(2),e.Y8G("ngForOf",b.classroomList),e.R7$(2),e.Y8G("studentObj",b.studentObj)("classroomObj",b.classroomObj)("classroomList",b.classroomList)("classroomId",b.classroomId)("backToLink",b.backToLink)("paramBackToLink",b.paramBackToLink)("isTeacher",b.isTeacherDashboard),e.R7$(3),e.Y8G("studentId",b.studentId)("isTeacher",b.isTeacherDashboard)("classroomId",b.classroomId)("backToLink",b.backToLink),e.R7$(3),e.Y8G("studentId",b.studentId)("isTeacher",b.isTeacherDashboard)("classroomId",b.classroomId)("backToLink",b.backToLink),e.R7$(2),e.Y8G("ngIf",b.isBusinessDomain),e.R7$(1),e.Y8G("ngIf",b.isBusinessDomain),e.R7$(1),e.Y8G("ngIf",b.isBusinessDomain),e.R7$(3),e.JRh(e.bMT(27,33,"lang_student_academic_results_report")),e.R7$(2),e.Y8G("studentObj",b.studentObj)("classroomId",b.classroomId)("backToLink",b.backToLink)("paramBackToLink",b.paramBackToLink)}}let we=(()=>{class y extends n.H{reInitOtherComponent(b){this.listExam?.reInitData(),this.listHomework?.reInitData(),b&&this.getData()}selectedClassroom(b){let D=b.value.split("-")[0],P=b.value.split("-")[1],Rt=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString((this.isTeacherDashboard?"/admin":"")+"/student/profile-student/"+D+"/"+P,Rt?"?backTo="+encodeURIComponent(Rt):""),this.reInitOtherComponent()}getData(){this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0}).subscribe(D=>{1==D.success?(D.data?.studentObj&&D.data?.classroomObj&&D.data.classroomObj.permissionObj&&(this.studentObj=D.data.studentObj,this.classroomObj=D.data.classroomObj),this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.initStatusObj(),this.getData()}constructor(b){super(),this.studentProfileV2Service=b,this.select=new j.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[],this.isTeacherDashboard=!0}static#t=this.\u0275fac=function(D){return new(D||y)(e.rXU(q.m_))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-student-profile"]],viewQuery:function(D,P){if(1&D&&(e.GBs(Jt,5),e.GBs(Jt,5)),2&D){let Rt;e.mGM(Rt=e.lsd())&&(P.listExam=Rt.first),e.mGM(Rt=e.lsd())&&(P.listHomework=Rt.first)}},inputs:{select:"select",classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink",classroomList:"classroomList",isTeacherDashboard:"isTeacherDashboard"},features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["id","profileStudent",1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","flex","items-center","mb-3","flex-wrap"],[1,"text-xl","font-medium"],[1,"ml-5","box",2,"font-size","12px"],["appearance","outline"],["name","classroom",3,"formControl","selectionChange"],[3,"value","disabled"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"studentObj","classroomObj","classroomList","classroomId","backToLink","paramBackToLink","isTeacher","reInitComponentEvent"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","isTeacher","classroomId","backToLink"],["listExam",""],["listHomework",""],["class","mt-5",4,"ngIf"],[1,"mt-4"],[1,"mb-3","text-base","font-medium"],[3,"studentObj","classroomId","backToLink","paramBackToLink","reInitComponentEvent"],[3,"value"],[1,"mt-5"],[3,"studentId","isTeacherRole","selectClassroomId"],[3,"studentId"]],template:function(D,P){if(1&D&&(e.DNE(0,Wn,1,1,"azt-loading-effect",0),e.DNE(1,Gn,29,35,"ng-template",null,1,e.C5r)),2&D){const Rt=e.sdS(2);e.Y8G("ngIf",P.statusObj.loading)("ngIfElse",Rt)}},dependencies:[o.Sq,o.bT,re.wT,ge.rl,Ie.VO,j.BC,j.l_,wt.K,ln,Ke,U,bn,Pt,Dn,Jt,W.wp],encapsulation:2})}return y})()},20378:(Te,Bt,g)=>{g.d(Bt,{gu:()=>dn,wn:()=>cr,T_:()=>mr});var j=g(73022),n=g(26860),e=g(29666);class q extends Error{}class a extends q{constructor(r){super(`Invalid DateTime: ${r.toMessage()}`)}}class kt extends q{constructor(r){super(`Invalid Duration: ${r.toMessage()}`)}}class t extends q{constructor(r){super(`Invalid Interval: ${r.toMessage()}`)}}class T extends q{constructor(r){super(`Invalid unit ${r}`),Object.setPrototypeOf(this,T.prototype)}}class o extends q{constructor(r){super(`${r} is an invalid or unknown zone specifier`),Object.setPrototypeOf(this,o.prototype)}}class tt extends q{constructor(r){super(r),Object.setPrototypeOf(this,tt.prototype)}}class It extends q{constructor(r){super(r),Object.setPrototypeOf(this,It.prototype)}}class wt extends q{constructor(){super("Zone is an abstract class"),Object.setPrototypeOf(this,wt.prototype)}}class pt{get type(){throw new wt}get ianaName(){return this.name}get name(){throw new wt}get isUniversal(){throw new wt}offsetName(r,s){throw new wt}formatOffset(r,s){throw new wt}offset(r){throw new wt}equals(r){throw new wt}get isValid(){throw new wt}}var W=Intl;let dt={};const Lt={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let L={};class K extends pt{static create(r){return L[r]||(L[r]=new K(r)),L[r]}static resetCache(){L={},dt={}}static isValidSpecifier(r){return this.isValidZone(r)}static isValidZone(r){if(!r)return!1;try{return new W.DateTimeFormat("en-US",{timeZone:r}).format(),!0}catch{return!1}}constructor(r){super(),this._zoneName=r,this._valid=K.isValidZone(r)}get type(){return"iana"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(r,{format:s,locale:c}={}){return Ni(r,s,c,this.name)}formatOffset(r,s){return An(this.offset(r),s)}offset(r){const s=new Date(r);if(isNaN(+s))return NaN;const c=function mt(m){if(!dt[m])try{dt[m]=new W.DateTimeFormat("en-US",{hour12:!1,timeZone:m,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})}catch{throw new o(m)}return dt[m]}(this.name);let d;const[h,k,w,G,H,yt,Nt]=typeof c.formatToParts==typeof isNaN?function ft(m,r){const s=m.formatToParts(r),c=[];for(let d=0;d<s.length;d++){const{type:h,value:k}=s[d],w=Lt[h];"era"===h?c[w]=k:Oe(w)||(c[w]=parseInt(k,10))}return c}(c,s):function Q(m,r){const s=m.format(r).replace(/\u200E/g,""),c=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(s),[,d,h,k,w,G,H,yt]=c;return[k,d,h,w,G,H,yt]}(c,s);"BC"===G&&(d=1-Math.abs(+h));let Me=+s;const Un=Me%1e3;return Me-=Un>=0?Un:1e3+Un,(ti({year:d||+h,month:+k,day:+w,hour:+(24===H?0:H),minute:+yt,second:+Nt,millisecond:0})-Me)/6e4}equals(r){return"iana"===r.type&&r.name===this.name}get isValid(){return this._valid}}const N="numeric",B="short",Gt="long",Ct={year:N,month:N,day:N},Et={year:N,month:B,day:N},Jt={year:N,month:B,day:N,weekday:B},re={year:N,month:Gt,day:N},ge={year:N,month:Gt,day:N,weekday:Gt},Ie={hour:N,minute:N},fe={hour:N,minute:N,second:N},Se={hour:N,minute:N,second:N,timeZoneName:B},Dt={hour:N,minute:N,second:N,timeZoneName:Gt},Qt={hour:N,minute:N,hourCycle:"h23"},Tt={hour:N,minute:N,second:N,hourCycle:"h23"},Mt={hour:N,minute:N,second:N,hourCycle:"h23",timeZoneName:B},St={hour:N,minute:N,second:N,hourCycle:"h23",timeZoneName:Gt},ie={year:N,month:N,day:N,hour:N,minute:N},_t={year:N,month:N,day:N,hour:N,minute:N,second:N},at={year:N,month:B,day:N,hour:N,minute:N},X={year:N,month:B,day:N,hour:N,minute:N,second:N},$={year:N,month:B,day:N,weekday:B,hour:N,minute:N},ht={year:N,month:Gt,day:N,hour:N,minute:N,timeZoneName:B},zt={year:N,month:Gt,day:N,hour:N,minute:N,second:N,timeZoneName:B},qt={year:N,month:Gt,day:N,weekday:Gt,hour:N,minute:N,timeZoneName:Gt},ye={year:N,month:Gt,day:N,weekday:Gt,hour:N,minute:N,second:N,timeZoneName:Gt},Ve=["January","February","March","April","May","June","July","August","September","October","November","December"],Ue=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],an=["J","F","M","A","M","J","J","A","S","O","N","D"];function be(m){switch(m){case"narrow":return[...an];case"short":return[...Ue];case"long":return[...Ve];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"]}}const Xe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],We=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],rn=["M","T","W","T","F","S","S"];function He(m){switch(m){case"narrow":return[...rn];case"short":return[...We];case"long":return[...Xe];case"numeric":return["1","2","3","4","5","6","7"]}}const Je=["AM","PM"],ln=["Before Christ","Anno Domini"],cn=["BC","AD"],Ae=["B","A"];function Ke(m){switch(m){case"narrow":return[...Ae];case"short":return[...cn];case"long":return[...ln]}}let ot={},Yt={};function me(m,r={}){const s=JSON.stringify([m,r]);let c=Yt[s];return c||(c=new W.DateTimeFormat(m,r),Yt[s]=c),c}let de,_e={},he={};function Z(m,r,s,c){return"en"===m.listingMode()?s(r):c(r)}class bt{constructor(r,s,c){const{padTo:d,floor:h}=c,k=function gt(m,r){var s={};for(var c in m)Object.prototype.hasOwnProperty.call(m,c)&&r.indexOf(c)<0&&(s[c]=m[c]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(c=Object.getOwnPropertySymbols(m);d<c.length;d++)r.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(m,c[d])&&(s[c[d]]=m[c[d]])}return s}(c,["padTo","floor"]);if(this._padTo=d||0,this._floor=h||!1,!s||Object.keys(k).length>0){const w=Object.assign({useGrouping:!1},c);this._padTo>0&&(w.minimumIntegerDigits=d),this._inf=function De(m,r){const s=JSON.stringify([m,r]);let c=_e[s];return c||(c=new W.NumberFormat(m,r),_e[s]=c),c}(r,w)}}format(r){if(this._inf){const s=this._floor?Math.floor(r):r;return this._inf.format(s)}return ue(this._floor?Math.floor(r):_i(r,3),this._padTo)}}class oe{get dtf(){return this._dtf}constructor(r,s,c){let d;if(this._opts=c,this._opts.timeZone)this._dt=r;else if("fixed"===r.zone.type){const k=r.offset/60*-1,w=k>=0?`Etc/GMT+${k}`:`Etc/GMT${k}`;0!==r.offset&&K.create(w).isValid?(d=w,this._dt=r):(d="UTC",this._dt=0===r.offset?r:r.setZone("UTC").plus({minutes:r.offset}),this._originalZone=r.zone)}else"system"===r.zone.type?this._dt=r:"iana"===r.zone.type?(this._dt=r,d=r.zone.name):(d="UTC",this._dt=r.setZone("UTC").plus({minutes:r.offset}),this._originalZone=r.zone);const h=Object.assign(Object.assign({},this._opts),{timeZone:this._opts.timeZone||d});this._dtf=me(s,h)}format(){return this._originalZone?this.formatToParts().map(({value:r})=>r).join(""):this.dtf.format(this._dt.toJSDate())}formatToParts(){const r=this.dtf.formatToParts(this._dt.toJSDate());return this._originalZone?r.map(s=>{if("timeZoneName"===s.type){const c=this._originalZone.offsetName(this._dt.ts,{locale:this._dt.locale,format:this._opts.timeZoneName});return Object.assign(Object.assign({},s),{value:c})}return s}):r}resolvedOptions(){return this._dtf.resolvedOptions()}}class ve{constructor(r,s,c){this._opts=Object.assign({style:"long"},c),!s&&Fi()&&(this._rtf=function te(m,r={}){const s=JSON.stringify([m,r]);let c=he[s];return c||(c=new W.RelativeTimeFormat(m,r),he[s]=c),c}(r,c))}format(r,s){return this._rtf?this._rtf.format(r,s):function U(m,r,s="always",c=!1){const h=Wt.normalizeUnit(m),k={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."],milliseconds:[]}[h],w=-1===["hours","minutes","seconds"].indexOf(h);if("auto"===s&&w){const Xt="days"===h;switch(r){case 1:return Xt?"tomorrow":`next ${k[0]}`;case-1:return Xt?"yesterday":`last ${k[0]}`;case 0:return Xt?"today":`this ${k[0]}`}}const G=Object.is(r,-0)||r<0,H=Math.abs(r),yt=1===H,Nt=c?yt?k[1]:k[2]||k[1]:yt?k[0]:h;return G?`${H} ${Nt} ago`:`in ${H} ${Nt}`}(s,r,this._opts.numeric,"long"!==this._opts.style)}formatToParts(r,s){return this._rtf?this._rtf.formatToParts(r,s):[]}}let Ut=(()=>{class m{get fastNumbers(){return void 0===this._fastNumbersCached&&(this._fastNumbersCached=this._supportsFastNumbers()),this._fastNumbersCached}constructor(s,c,d,h,k){const[w,G,H]=function z(m){const r=m.indexOf("-x-");-1!==r&&(m=m.substring(0,r));const s=m.indexOf("-u-");if(-1===s)return[m];{let c,d;try{c=me(m).resolvedOptions(),d=m}catch{const G=m.substring(0,s);c=me(G).resolvedOptions(),d=G}const{numberingSystem:h,calendar:k}=c;return[d,h,k]}}(s);this.locale=w,this.numberingSystem=c||G,this.outputCalendar=d||H,this._intl=function vt(m,r,s){return(s||r)&&(m.includes("-u-")||(m+="-u"),s&&(m+=`-ca-${s}`),r&&(m+=`-nu-${r}`)),m}(this.locale,this.numberingSystem,this.outputCalendar),this._weekSettings=h,this._weekdaysCache={format:{},standalone:{}},this._monthsCache={format:{},standalone:{}},this._meridiemCache=void 0,this._eraCache={},this._specifiedLocale=k,this._fastNumbersCached=void 0}static create(s,c,d,h,k=!1){const w=s||le.defaultLocale,G=w||(k?"en-US":function mn(){return de||(de=(new W.DateTimeFormat).resolvedOptions().locale),de}()),H=c||le.defaultNumberingSystem,yt=d||le.defaultOutputCalendar,Nt=Zn(h)||le.defaultWeekSettings;return new m(G,H,yt,Nt,w)}static fromObject({locale:s,numberingSystem:c,outputCalendar:d,weekSettings:h}={}){return m.create(s,c,d,h)}static fromOpts(s){return m.create(s.locale,s.numberingSystem,s.outputCalendar,s.weekSettings,s.defaultToEN)}static resetCache(){de=void 0,ot={},Yt={},_e={},he={}}clone(s){return s&&0!==Object.getOwnPropertyNames(s).length?m.create(s.locale||this._specifiedLocale,s.numberingSystem||this.numberingSystem,s.outputCalendar||this.outputCalendar,Zn(s.weekSettings)||this._weekSettings,s.defaultToEN||!1):this}dtFormatter(s,c={}){return new oe(s,this._intl,c)}equals(s){return this.locale===s.locale&&this.numberingSystem===s.numberingSystem&&this.outputCalendar===s.outputCalendar}eras(s){return Z(this,s,Ke,c=>{const d={era:c};return this._eraCache[c]||(this._eraCache[c]=[lt.utc(-40,1,1),lt.utc(2017,1,1)].map(h=>this.extract(h,d,"era"))),this._eraCache[c]})}extract(s,c,d){const w=this.dtFormatter(s,c).formatToParts().find(G=>G.type.toLowerCase()===d.toLowerCase());if(!w)throw new Error(`Invalid extract field ${d}`);return w.value}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getStartOfWeek(){return this.getWeekSettings().firstDay}getWeekSettings(){return this._weekSettings?this._weekSettings:Mi()?this._getCachedWeekInfo(this.locale):Cn}getWeekendDays(){return this.getWeekSettings().weekend}isEnglish(){return!!~["en","en-us"].indexOf(this.locale.toLowerCase())||new W.DateTimeFormat(this._intl).resolvedOptions().locale.startsWith("en-us")}listFormatter(s={}){return function ct(m,r={}){const s=JSON.stringify([m,r]);let c=ot[s];return c||(c=new W.ListFormat(m,r),ot[s]=c),c}(this._intl,s)}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}meridiems(){return Z(this,"long",()=>Je,()=>(void 0===this._meridiemCache&&(this._meridiemCache=[lt.utc(2016,11,13,9),lt.utc(2016,11,13,19)].map(s=>this.extract(s,{hour:"numeric",hourCycle:"h12"},"dayPeriod"))),this._meridiemCache))}months(s,c=!1){return Z(this,s,be,d=>{const h=c?{month:d,day:"numeric"}:{month:d},k=c?"format":"standalone";return this._monthsCache[k][d]||(this._monthsCache[k][d]=function S(m){const r=[];for(let s=1;s<=12;s++){const c=lt.utc(2009,s,1);r.push(m(c))}return r}(w=>this.extract(w,h,"month"))),this._monthsCache[k][d]})}numberFormatter(s={}){return new bt(this._intl,this.fastNumbers,s)}redefaultToEN(s={}){return this.clone(Object.assign(Object.assign({},s),{defaultToEN:!0}))}redefaultToSystem(s={}){return this.clone(Object.assign(Object.assign({},s),{defaultToEN:!1}))}relFormatter(s={}){return new ve(this._intl,this.isEnglish(),s)}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}weekdays(s,c=!1){return Z(this,s,He,d=>{const h=c?{weekday:d,year:"numeric",month:"long",day:"numeric"}:{weekday:d},k=c?"format":"standalone";return this._weekdaysCache[k][d]||(this._weekdaysCache[k][d]=function J(m){const r=[];for(let s=1;s<=7;s++){const c=lt.utc(2016,11,13+s);r.push(m(c))}return r}(w=>this.extract(w,h,"weekday"))),this._weekdaysCache[k][d]})}_getCachedWeekInfo(s){let c=m._weekInfoCache[s];if(!c){const d=new W.Locale(s);c="getWeekInfo"in d?d.getWeekInfo():d.weekInfo,m._weekInfoCache[s]=c}return c}_supportsFastNumbers(){return(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===W.DateTimeFormat(this._intl).resolvedOptions().numberingSystem)}}return m._weekInfoCache={},m})(),je=null;class ee extends pt{static get utcInstance(){return null===je&&(je=new ee(0)),je}get ianaName(){return 0===this._fixed?"Etc/UTC":`Etc/GMT${An(-this._fixed,"narrow")}`}get isUniversal(){return!0}get isValid(){return!0}get name(){return 0===this._fixed?"UTC":`UTC${An(this._fixed,"narrow")}`}get type(){return"fixed"}constructor(r){super(),this._fixed=r}static instance(r){return 0===r?ee.utcInstance:new ee(r)}static parseSpecifier(r){if(r){const s=r.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(s)return new ee(Pn(s[1],s[2]))}return null}equals(r){return"fixed"===r.type&&r._fixed===this._fixed}formatOffset(r,s){return An(this._fixed,s)}offset(){return this._fixed}offsetName(){return this.name}}class Ge extends pt{constructor(r){super(),this._zoneName=r,Object.setPrototypeOf(this,Ge.prototype)}get type(){return"invalid"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let bn=null;class _n extends pt{static get instance(){return null===bn&&(bn=new _n),bn}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(r,{format:s,locale:c}){return Ni(r,s,c)}formatOffset(r,s){return An(this.offset(r),s)}offset(r){return-new Date(r).getTimezoneOffset()}equals(r){return"system"===r.type}get isValid(){return!0}}const Ye=(m,r)=>{if(Oe(m)||null===m)return r;if(m instanceof pt)return m;if(function is(m){return"string"==typeof m}(m)){const s=m.toLowerCase();return"default"===s?r:"local"===s||"system"===s?_n.instance:"utc"===s||"gmt"===s?ee.utcInstance:ee.parseSpecifier(s)||K.create(m)}return en(m)?ee.instance(m):"object"==typeof m&&"offset"in m&&"function"==typeof m.offset?m:new Ge(m)},R={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Pt={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},E=R.hanidec.replace(/[\[|\]]/g,"").split("");let O={};function Kt({numberingSystem:m},r=""){const s=m||"latn";return O[s]||(O[s]={}),O[s][r]||(O[s][r]=new RegExp(`${R[s]}${r}`)),O[s][r]}let Xn,qe,st,Ne,yn=()=>Date.now(),Ze="system",Dn=60,Wn=!1;class le{static set defaultLocale(r){Xn=r}static get defaultLocale(){return Xn}static set defaultNumberingSystem(r){qe=r}static get defaultNumberingSystem(){return qe}static set defaultOutputCalendar(r){st=r}static get defaultOutputCalendar(){return st}static set defaultWeekSettings(r){Ne=Zn(r)}static get defaultWeekSettings(){return Ne}static set defaultZone(r){Ze=r}static get defaultZone(){return Ye(Ze,_n.instance)}static set defaultZoneLike(r){Ze=r}static set now(r){yn=r}static get now(){return yn}static set throwOnInvalid(r){Wn=r}static get throwOnInvalid(){return Wn}static set twoDigitCutoffYear(r){Dn=r%100}static get twoDigitCutoffYear(){return Dn}static resetCaches(){Ut.resetCache(),K.resetCache(),lt.resetCache(),function jt(){O={}}()}}class ze{constructor(r,s){this.reason=r,this.explanation=s,this._formattedExplanation="",s&&(this._formattedExplanation=`: ${s}`)}toMessage(){return`${this.reason}${this._formattedExplanation}`}}const Hn=[0,31,59,90,120,151,181,212,243,273,304,334],Gn=[0,31,60,91,121,152,182,213,244,274,305,335];function we(m,r){return new ze("unit out of range",`you specified ${r} (of type ${typeof r}) as a ${m}, which is invalid`)}function y(m,r,s){return s+($n(m)?Gn:Hn)[r-1]}function ut(m,r){const s=$n(m)?Gn:Hn,c=s.findIndex(h=>h<r);return{month:c+1,day:r-s[c]}}function b(m,r,s){const c=new Date(Date.UTC(m,r-1,s));m<100&&m>=0&&c.setUTCFullYear(c.getUTCFullYear()-1900);const d=c.getUTCDay();return 0===d?7:d}function D(m,r=Cn.minimalDays,s=Cn.firstDay){const{year:c,month:d,day:h}=m,k=y(c,d,h),w=Kn(b(c,d,h),s);let H,G=Math.floor((k-w+14-r)/7);return G<1?(H=c-1,G=zn(H,r,s)):G>zn(c,r,s)?(H=c+1,G=1):H=c,Object.assign({weekYear:H,weekNumber:G,weekday:w},ni(m))}function P(m,r=Cn.minimalDays,s=Cn.firstDay){const{weekYear:c,weekNumber:d,weekday:h}=m,k=Kn(b(c,1,r),s),w=On(c);let H,G=7*d+h-k-7+r;G<1?(H=c-1,G+=On(H)):G>w?(H=c+1,G-=On(c)):H=c;const{month:yt,day:Nt}=ut(H,G);return Object.assign({year:H,month:yt,day:Nt},ni(m))}function Rt(m){const{year:r,month:s,day:c}=m,d=y(r,s,c);return Object.assign({year:r,ordinal:d},ni(m))}function ce(m){const{year:r,ordinal:s}=m,{month:c,day:d}=ut(r,s);return Object.assign({year:r,month:c,day:d},ni(m))}function tn(m){const r=Qn(m.year),s=Be(m.month,1,12),c=Be(m.day,1,qn(m.year,m.month));return r?s?!c&&we("day",m.day):we("month",m.month):we("year",m.year)}function Nn(m){const{hour:r,minute:s,second:c,millisecond:d}=m,h=Be(r,0,23)||24===r&&0===s&&0===c&&0===d,k=Be(s,0,59),w=Be(c,0,59),G=Be(d,0,999);return h?k?w?!G&&we("millisecond",d):we("second",c):we("minute",s):we("hour",r)}function Kn(m,r){return(m-r+7)%7+1}function jn(m,r){if(Zt(m.localWeekday)||Zt(m.localWeekNumber)||Zt(m.localWeekYear)){if(Zt(m.weekday)||Zt(m.weekNumber)||Zt(m.weekYear))throw new tt("Cannot mix locale-based week fields with ISO-based week fields");return Zt(m.localWeekday)&&(m.weekday=m.localWeekday),Zt(m.localWeekNumber)&&(m.weekNumber=m.localWeekNumber),Zt(m.localWeekYear)&&(m.weekYear=m.localWeekYear),delete m.localWeekday,delete m.localWeekNumber,delete m.localWeekYear,{minDaysInFirstWeek:r.getMinDaysInFirstWeek(),startOfWeek:r.getStartOfWeek()}}return{minDaysInFirstWeek:Cn.minimalDays,startOfWeek:Cn.firstDay}}function Zt(m){return typeof m<"u"}function Oe(m){return typeof m>"u"}function en(m){return"number"==typeof m}function Qn(m){return en(m)&&m%1==0}function Fi(){try{return typeof W<"u"&&!!W.RelativeTimeFormat}catch{return!1}}function Mi(){try{return typeof W<"u"&&!!W.Locale&&("weekInfo"in W.Locale.prototype||"getWeekInfo"in W.Locale.prototype)}catch{return!1}}function Di(m,r,s){return 0===m.length?void 0:m.reduce((d,h)=>{const k=[r(h),h];return s(d[0],k[0])===d[0]?d:k},[r(m[0]),m[0]])[1]}function Zn(m){if(m){if("object"!=typeof m)throw new It("Week settings must be an object");if(!Be(m.firstDay,1,7)||!Be(m.minimalDays,1,7)||!Array.isArray(m.weekend)||m.weekend.some(r=>!Be(r,1,7)))throw new It("Invalid week settings");return{firstDay:m.firstDay,minimalDays:m.minimalDays,weekend:m.weekend}}}function Be(m,r,s){return Qn(m)&&m>=r&&m<=s}function ue(m,r=2){const s=+m<0?"-":"",c=s?-1*+m:m;let d;return d=c.toString().length<r?("0".repeat(r)+c).slice(-r):c.toString(),`${s}${d}`}function un(m){if(m)return parseInt(m,10)}function vn(m){if(m)return parseFloat(m)}function mi(m){if(!Oe(m)&&null!==m&&""!==m){const r=1e3*parseFloat("0."+m);return Math.floor(r)}}function _i(m,r,s=!1){const c=Math.pow(10,r);return(s?Math.trunc:Math.round)(m*c)/c}function $n(m){return m%4==0&&(m%100!=0||m%400==0)}function On(m){return $n(m)?366:365}function qn(m,r){const s=function rs(m,r){return m-r*Math.floor(m/r)}(r-1,12)+1;return[31,$n(m+(r-s)/12)?29:28,31,30,31,30,31,31,30,31,30,31][s-1]}function ti(m){let r=Date.UTC(m.year,m.month-1,m.day,m.hour,m.minute,m.second,m.millisecond);return m.year<100&&m.year>=0&&(r=new Date(r),r.setUTCFullYear(m.year,m.month-1,m.day)),+r}function Gi(m,r,s){return-Kn(b(m,1,r),s)+r-1}function zn(m,r=4,s=1){const c=Gi(m,r,s),d=Gi(m+1,r,s);return(On(m)-c+d)/7}function di(m){return m>99?m:m>le.twoDigitCutoffYear?1900+m:2e3+m}function Ni(m,r,s,c){const d=new Date(m),k=Object.assign({timeZoneName:r},{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:c}),w=new W.DateTimeFormat(s,k).formatToParts(d).find(G=>"timezonename"===G.type.toLowerCase());return w?w.value:null}function Pn(m,r){let s=parseInt(m,10);Number.isNaN(s)&&(s=0);const c=parseInt(r,10)||0;return 60*s+(s<0||Object.is(s,-0)?-c:c)}function $i(m){const r=Number(m);if("boolean"==typeof m||""===m||Number.isNaN(r))throw new It(`Invalid unit value ${m}`);return r}function ei(m,r){return Object.keys(m).reduce((s,c)=>(null!=m[c]&&(s[r(c)]=$i(m[c])),s),{})}function An(m,r){const s=Math.trunc(Math.abs(m/60)),c=Math.trunc(Math.abs(m%60)),d=m>=0?"+":"-";switch(r){case"short":return`${d}${ue(s,2)}:${ue(c,2)}`;case"narrow":return`${d}${s}${c>0?`:${c}`:""}`;case"techie":return`${d}${ue(s,2)}${ue(c,2)}`;default:throw new RangeError(`Value format ${r} is out of range for property format`)}}function ni(m){return function as(m,r){return r.reduce((s,c)=>(s[c]=m[c],s),{})}(m,["hour","minute","second","millisecond"])}const kn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],ui=kn.slice(0).reverse(),zi=["years","months","days","hours","minutes","seconds","milliseconds"],ii={year:"year",years:"year",quarter:"quarter",quarters:"quarter",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",localweeknumber:"localWeekNumber",localweeknumbers:"localWeekNumber",localweekday:"localWeekday",localweekdays:"localWeekday",localweekyear:"localWeekYear",localweekyears:"localWeekYear",minute:"minute",minutes:"minute",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"},Cn={firstDay:1,minimalDays:4,weekend:[6,7]};function Pi(m,r){let s="";for(const c of m)s+=c.literal?c.val:r(c.val);return s}const Ai={D:Ct,DD:Et,DDD:re,DDDD:ge,t:Ie,tt:fe,ttt:Se,tttt:Dt,T:Qt,TT:Tt,TTT:Mt,TTTT:St,f:ie,ff:at,fff:ht,ffff:qt,F:_t,FF:X,FFF:zt,FFFF:ye};class Ee{constructor(r,s){this._opts=s,this._loc=r,this._systemLoc=void 0}static create(r,s={}){return new Ee(r,s)}static macroTokenToFormatOpts(r){return Ai[r]}static parseFormat(r){let s=null,c="",d=!1;const h=[];for(let k=0;k<r.length;k++){const w=r.charAt(k);"'"===w?(c.length>0&&h.push({literal:d||/^\s+$/.test(c),val:c}),s=null,c="",d=!d):d||w===s?c+=w:(c.length>0&&h.push({literal:/^\s+$/.test(c),val:c}),c=w,s=w)}return c.length>0&&h.push({literal:d||/^\s+$/.test(c),val:c}),h}dtFormatter(r,s={}){return this._loc.dtFormatter(r,Object.assign(Object.assign({},this._opts),s))}formatDateTime(r,s){return this.dtFormatter(r,s).format()}formatDateTimeFromString(r,s){const c="en"===this._loc.listingMode(),d=this._loc.outputCalendar&&"gregory"!==this._loc.outputCalendar,h=($t,Me)=>this._loc.extract(r,$t,Me),k=$t=>r.isOffsetFixed&&0===r.offset&&$t.allowZ?"Z":r.isValid?r.zone.formatOffset(r.ts,$t.format):"",G=($t,Me)=>c?function it(m,r){return be(r)[m.month-1]}(r,$t):h(Me?{month:$t}:{month:$t,day:"numeric"},"month"),H=($t,Me)=>c?function Qe(m,r){return He(r)[m.weekday-1]}(r,$t):h(Me?{weekday:$t}:{weekday:$t,month:"long",day:"numeric"},"weekday"),yt=$t=>{const Me=Ee.macroTokenToFormatOpts($t);return Me?this.formatWithSystemDefault(r,Me):$t},Nt=$t=>c?function Vt(m,r){return Ke(r)[m.year<0?0:1]}(r,$t):h({era:$t},"era");return Pi(Ee.parseFormat(s),$t=>{switch($t){case"S":return this.num(r.millisecond);case"u":case"SSS":return this.num(r.millisecond,3);case"s":return this.num(r.second);case"ss":return this.num(r.second,2);case"uu":return this.num(Math.floor(r.millisecond/10),2);case"uuu":return this.num(Math.floor(r.millisecond/100));case"m":return this.num(r.minute);case"mm":return this.num(r.minute,2);case"h":return this.num(r.hour%12==0?12:r.hour%12);case"hh":return this.num(r.hour%12==0?12:r.hour%12,2);case"H":return this.num(r.hour);case"HH":return this.num(r.hour,2);case"Z":return k({format:"narrow",allowZ:this._opts.allowZ});case"ZZ":return k({format:"short",allowZ:this._opts.allowZ});case"ZZZ":return k({format:"techie",allowZ:this._opts.allowZ});case"ZZZZ":return r.zone.offsetName(r.ts,{format:"short",locale:this._loc.locale})||"";case"ZZZZZ":return r.zone.offsetName(r.ts,{format:"long",locale:this._loc.locale})||"";case"z":return r.zoneName||"";case"a":return c?function Le(m){return Je[m.hour<12?0:1]}(r):h({hour:"numeric",hourCycle:"h12"},"dayPeriod");case"d":return d?h({day:"numeric"},"day"):this.num(r.day);case"dd":return d?h({day:"2-digit"},"day"):this.num(r.day,2);case"c":case"E":return this.num(r.weekday);case"ccc":return H("short",!0);case"cccc":return H("long",!0);case"ccccc":return H("narrow",!0);case"EEE":return H("short",!1);case"EEEE":return H("long",!1);case"EEEEE":return H("narrow",!1);case"L":return d?h({month:"numeric",day:"numeric"},"month"):this.num(r.month);case"LL":return d?h({month:"2-digit",day:"numeric"},"month"):this.num(r.month,2);case"LLL":return G("short",!0);case"LLLL":return G("long",!0);case"LLLLL":return G("narrow",!0);case"M":return d?h({month:"numeric"},"month"):this.num(r.month);case"MM":return d?h({month:"2-digit"},"month"):this.num(r.month,2);case"MMM":return G("short",!1);case"MMMM":return G("long",!1);case"MMMMM":return G("narrow",!1);case"y":return d?h({year:"numeric"},"year"):this.num(r.year);case"yy":return d?h({year:"2-digit"},"year"):this.num(parseInt(r.year.toString().slice(-2),10),2);case"yyyy":return d?h({year:"numeric"},"year"):this.num(r.year,4);case"yyyyyy":return d?h({year:"numeric"},"year"):this.num(r.year,6);case"G":return Nt("short");case"GG":return Nt("long");case"GGGGG":return Nt("narrow");case"kk":return this.num(parseInt(r.weekYear.toString().slice(-2),10),2);case"kkkk":return this.num(r.weekYear,4);case"W":return this.num(r.weekNumber);case"WW":return this.num(r.weekNumber,2);case"o":return this.num(r.ordinal);case"ooo":return this.num(r.ordinal,3);case"q":return this.num(r.quarter);case"qq":return this.num(r.quarter,2);case"X":return this.num(Math.floor(r.ts/1e3));case"x":return this.num(r.ts);default:return yt($t)}})}formatDateTimeParts(r,s){return this.dtFormatter(r,s).formatToParts()}formatDurationFromString(r,s){const c=G=>{switch(G[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"M":return"months";case"y":return"years";default:return}},h=Ee.parseFormat(s),k=h.reduce((G,{literal:H,val:yt})=>H?G:G.concat(yt),[]);return Pi(h,(G=>H=>{const yt=c(H);return yt?this.num(G.get(yt),H.length):H})(r.shiftTo(...k.map(c).filter(G=>!!G))))}formatInterval(r,s={}){if(!r.isValid)throw Error("Invalid Interval provided!");return this.dtFormatter(r.start,s).dtf.formatRange(r.start.toJSDate(),r.end.toJSDate())}formatWithSystemDefault(r,s){return void 0===this._systemLoc&&(this._systemLoc=this._loc.redefaultToSystem()),this._systemLoc.dtFormatter(r,Object.assign(Object.assign({},this._opts),s)).format()}num(r,s=0){if(this._opts.forceSimple)return ue(r,s);const c=Object.assign({},this._opts);return s>0&&(c.padTo=s),this._loc.numberFormatter(c).format(r)}resolvedOptions(r,s={}){return this.dtFormatter(r,s).resolvedOptions()}}function En(...m){const r=m.reduce((s,c)=>s+c.source,"");return RegExp(`^${r}$`)}function wn(...m){return r=>m.reduce(([s,c,d],h)=>{const[k,w,G]=h(r,d);return[Object.assign(Object.assign({},s),k),w||c,G]},[{},null,1]).slice(0,2)}function xn(m,...r){if(null==m)return[null,null];for(const[s,c]of r){const d=s.exec(m);if(d)return c(d)}return[null,null]}function Li(...m){return(r,s)=>{const c={};let d;for(d=0;d<m.length;d++)c[m[d]]=un(r[s+d]);return[c,null,s+d]}}const Ln=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,Yi=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,pi=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Bi=RegExp(`${pi.source}(?:${Yi.source}?(?:\\[(${Ln.source})\\])?)?`),gi=RegExp(`(?:T${Bi.source})?`),p=Li("weekYear","weekNumber","weekday"),C=Li("year","ordinal"),M=RegExp(`${pi.source} ?(?:${Yi.source}|(${Ln.source}))?`),Y=RegExp(`(?: ${M.source})?`);function nt(m,r,s){return Oe(m[r])?s:un(m[r])}function At(m,r){return[{hour:nt(m,r,0),minute:nt(m,r+1,0),second:nt(m,r+2,0),millisecond:mi(m[r+3])},null,r+4]}function Ot(m,r){const s=!m[r]&&!m[r+1],c=Pn(m[r+1],m[r+2]);return[{},s?null:ee.instance(c),r+3]}function Re(m,r){return[{},m[r]?K.create(m[r]):null,r+1]}const hi=RegExp(`^T?${pi.source}$`),fi=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function ms(m){const[r,s,c,d,h,k,w,G,H]=m,yt=r.startsWith("-"),Nt=!!G&&G.startsWith("-"),Xt=($t,Me=!1)=>"number"==typeof $t&&(Me||$t&&yt)?-$t:$t;return[{years:Xt(vn(s)),months:Xt(vn(c)),weeks:Xt(vn(d)),days:Xt(vn(h)),hours:Xt(vn(k)),minutes:Xt(vn(w)),seconds:Xt(vn(G),"-0"===G),milliseconds:Xt(mi(H),Nt)}]}const _s={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ds(m,r,s,c,d,h,k){let w;return m&&(w=m.length>3?Xe.indexOf(m)+1:We.indexOf(m)+1),{year:2===r.length?di(un(r)):un(r),month:Ue.indexOf(s)+1,day:un(c),hour:un(d),minute:un(h),second:un(k),weekday:w}}const ho=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function fo(m){const[,r,s,c,d,h,k,w,G,H,yt,Nt]=m,Xt=ds(r,d,c,s,h,k,w);let $t;return $t=G?_s[G]:H?0:Pn(yt,Nt),[Xt,new ee($t)]}const vo=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ko=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Es=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ws(m){const[,r,s,c,d,h,k,w]=m;return[ds(r,d,c,s,h,k,w),ee.utcInstance]}function Co(m){const[,r,s,c,d,h,k,w]=m;return[ds(r,w,s,c,d,h,k),ee.utcInstance]}const xo=En(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,gi),To=En(/(\d{4})-?W(\d\d)(?:-?(\d))?/,gi),Io=En(/(\d{4})-?(\d{3})/,gi),So=En(Bi),Rs=wn(function Ft(m,r){return[{year:nt(m,r,0),month:nt(m,r+1,1),day:nt(m,r+2,1)},null,r+3]},At,Ot,Re),yo=wn(p,At,Ot,Re),jo=wn(C,At,Ot,Re),Oo=wn(At,Ot,Re),Fo=En(/(\d{4})-(\d\d)-(\d\d)/,Y),Mo=En(M),us=wn(At,Ot,Re),Ms={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Go=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Ms),nn=365.2425,si=30.436875,No=Object.assign({years:{quarters:4,months:12,weeks:nn/7,days:nn,hours:24*nn,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:nn/28,days:nn/4,hours:24*nn/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:si/7,days:si,hours:24*si,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Ms);function Ds(m,r){var s;let c=null!==(s=r.milliseconds)&&void 0!==s?s:0;for(const d of ui.slice(1))r[d]&&(c+=r[d]*m[d].milliseconds);return c}function $o(m,r){return void 0===m||0===m?void 0===r||0===r:m===r}class Wt{static get _INVALID(){return"Invalid Duration"}get conversionAccuracy(){return this._conversionAccuracy}get days(){return this.isValid?this._values.days||0:NaN}get hours(){return this.isValid?this._values.hours||0:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this._invalid}get locale(){return this.isValid?this._loc.locale:void 0}get matrix(){return this._matrix}get milliseconds(){return this.isValid?this._values.milliseconds||0:NaN}get minutes(){return this.isValid?this._values.minutes||0:NaN}get months(){return this.isValid?this._values.months||0:NaN}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get quarters(){return this.isValid?this._values.quarters||0:NaN}get seconds(){return this.isValid?this._values.seconds||0:NaN}get weeks(){return this.isValid?this._values.weeks||0:NaN}get years(){return this.isValid?this._values.years||0:NaN}constructor(r){let c,d;"longterm"===r.conversionAccuracy?(d="longterm",c=No):(d="casual",c=Go),r.matrix&&(c=r.matrix),this._values=r.values||{},this._loc=r.loc||Ut.create(),this._conversionAccuracy=d,this._invalid=r.invalid||null,this._matrix=c,this._isLuxonDuration=!0}static fromDurationLike(r){if(en(r))return Wt.fromMillis(r);if(Wt.isDuration(r))return r;if("object"==typeof r)return Wt.fromObject(r);throw new It(`Unknown duration argument ${r} of type ${typeof r}`)}static fromISO(r,s){const[c]=function bi(m){return xn(m,[fi,ms])}(r);return c?Wt.fromObject(c,s):Wt.invalid("unparsable",`the input "${r}" can't be parsed as ISO 8601`)}static fromISOTime(r,s={}){const[c]=function wo(m){return xn(m,[hi,wn(At)])}(r);return c?Wt.fromObject(c,s):Wt.invalid("unparsable",`the input "${r}" can't be parsed as ISO 8601`)}static fromMillis(r,s={}){return Wt.fromObject({milliseconds:r},s)}static fromObject(r,s={}){if(null==r||"object"!=typeof r)throw new It("Duration.fromObject: argument expected to be an object, got "+(null===r?"null":typeof r));return new Wt({values:ei(r,Wt.normalizeUnit),loc:Ut.fromObject(s),conversionAccuracy:s.conversionAccuracy,matrix:s.matrix})}static invalid(r,s){if(!r)throw new It("need to specify a reason the Duration is invalid");const c=r instanceof ze?r:new ze(r,s);if(le.throwOnInvalid)throw new kt(c);return new Wt({invalid:c})}static isDuration(r){return!!r&&r._isLuxonDuration||!1}static normalizeUnit(r){const s={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",localWeekNumber:"localWeekNumbers",localWeekYear:"localWeekYears",localWeekday:"localWeekdays",localWeekNumbers:"localWeekNumbers",localWeekYears:"localWeekYears",localWeekdays:"localWeekdays",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[r];if(!s)throw new T(r);return s}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this._values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}as(r){return this.shiftTo(r).get(r)}equals(r){if(!this.isValid||!r.isValid||!this._loc.equals(r._loc))return!1;for(const s of kn)if(!$o(this._values[s],r._values[s]))return!1;return!0}get(r){return this[Wt.normalizeUnit(r)]}getMaxUnit(r=!1){const s=r?zi:kn,c=this.shiftTo(...s).toObject();return s.find(d=>(c[d]||0)>0)||ui[0]}mapUnits(r){if(!this.isValid)return this;const s={};return Object.keys(this._values).forEach(c=>{s[c]=$i(r(this._values[c],c))}),this._clone(this,{values:s},!0)}minus(r){if(!this.isValid)return this;const s=Wt.fromDurationLike(r);return this.plus(s.negate())}negate(){if(!this.isValid)return this;const r={};return Object.keys(this._values).forEach(s=>{r[s]=0===this._values[s]?0:-this._values[s]}),this._clone(this,{values:r},!0)}normalize(){if(!this.isValid)return this;const r=this.toObject();return function zo(m,r){const s=Ds(m,r)<0?-1:1;ui.reduce((c,d)=>{if(Oe(r[d]))return c;if(c){const k=m[d][c],w=Math.floor(r[c]*s/k);r[d]+=w*s,r[c]-=w*k*s}return d},null),kn.reduce((c,d)=>{if(Oe(r[d]))return c;if(c){const h=r[c]%1;r[c]-=h,r[d]+=h*m[c][d]}return d},null)}(this._matrix,r),this._clone(this,{values:r},!0)}plus(r){if(!this.isValid)return this;const s=Wt.fromDurationLike(r),c={};return kn.forEach(d=>{(void 0!==s._values[d]||void 0!==this._values[d])&&(c[d]=s.get(d)+this.get(d))}),this._clone(this,{values:c},!0)}reconfigure({locale:r,numberingSystem:s,conversionAccuracy:c,matrix:d}={}){const k={loc:this._loc.clone({locale:r,numberingSystem:s}),matrix:d,conversionAccuracy:c};return this._clone(this,k)}rescale(){if(!this.isValid)return this;const r=function Po(m={}){return Object.entries(m).reduce((r,[s,c])=>(0!==c&&(r[s]=c),r),{})}(this.normalize().shiftToAll().toObject());return this._clone(this,{values:r},!0)}set(r){if(!this.isValid)return this;const s=Object.assign(Object.assign({},this._values),ei(r,Wt.normalizeUnit));return this._clone(this,{values:s})}shiftTo(...r){if(!this.isValid||0===r.length)return this;r=r.map(k=>Wt.normalizeUnit(k));const s={},c={},d=this.toObject();let h;return kn.forEach(k=>{if(r.indexOf(k)>=0){h=k;let w=0;Object.keys(c).forEach(H=>{w+=this._matrix[H][k]*c[H],c[H]=0}),en(d[k])&&(w+=d[k]);const G=Math.trunc(w);s[k]=G,c[k]=(1e3*w-1e3*G)/1e3}else en(d[k])&&(c[k]=d[k])}),Object.keys(c).forEach(k=>{const w=c[k];0!==w&&(s[h]+=k===h?w:w/this._matrix[h][k])}),this._clone(this,{values:s},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}toFormat(r,s={floor:!0}){const c=Object.assign(Object.assign({},s),{floor:!1!==s.round&&!1!==s.floor});return this.isValid?Ee.create(this._loc,c).formatDurationFromString(this,r):Wt._INVALID}toHuman(r={}){if(!this.isValid)return Wt._INVALID;const s=this.getMaxUnit(!0),c=r.onlyHumanUnits?zi:kn,h=this.shiftTo(...c.slice(c.indexOf(s))).toObject(),k=c.map(G=>{const H=h[G];return Oe(H)||0===H?null:this._loc.numberFormatter(Object.assign(Object.assign({style:"unit",unitDisplay:"long"},r),{unit:G.slice(0,-1)})).format(H)}).filter(G=>G),w=Object.assign({type:"conjunction",style:r.listStyle||"narrow"},r);return this._loc.listFormatter(w).format(k)}toISO(){if(!this.isValid)return null;let r="P";return 0!==this.years&&(r+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(r+=this.months+3*this.quarters+"M"),0!==this.weeks&&(r+=this.weeks+"W"),0!==this.days&&(r+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(r+="T"),0!==this.hours&&(r+=this.hours+"H"),0!==this.minutes&&(r+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(r+=_i(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===r&&(r+="T0S"),r}toISOTime(r={}){if(!this.isValid)return null;const s=this.toMillis();return s<0||s>=864e5?null:(r=Object.assign(Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},r),{includeOffset:!1}),lt.fromMillis(s,{zone:"UTC"}).toISOTime(r))}toJSON(){return this.toISO()}toMillis(){return this.isValid?Ds(this.matrix,this._values):NaN}toObject(){return this.isValid?Object.assign({},this._values):{}}toString(){return this.toISO()}valueOf(){return this.toMillis()}_clone(r,s,c=!1){const d={values:c?s.values:Object.assign(Object.assign({},r._values),s.values||{}),loc:r._loc.clone(s.loc),conversionAccuracy:s.conversionAccuracy||r.conversionAccuracy,matrix:s.matrix||r.matrix};return new Wt(d)}}const oi="Invalid Interval";function vi(m){if(lt.isDateTime(m))return m;if(m&&m.valueOf&&en(m.valueOf()))return lt.fromJSDate(m);if(m&&"object"==typeof m)return lt.fromObject(m);throw new It(`Unknown datetime argument: ${m}, of type ${typeof m}`)}class pe{get end(){return this.isValid?this._e:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this.invalidReason}get start(){return this.isValid?this._s:null}constructor(r){this._s=r.start,this._e=r.end,this._invalid=r.invalid||null,this._isLuxonInterval=!0}static after(r,s){const c=Wt.fromDurationLike(s),d=vi(r);return new pe({start:d,end:d?d.plus(c):void 0})}static before(r,s){const c=Wt.fromDurationLike(s),d=vi(r);return new pe({start:d?d.minus(c):void 0,end:d})}static fromDateTimes(r,s){const c=vi(r),d=vi(s);return function Ao(m,r){return m&&m.isValid?r&&r.isValid?r<m?pe.invalid("end before start",`The end of an interval must be after its start, but you had start=${m.toISO()} and end=${r.toISO()}`):void 0:pe.invalid("missing or invalid end"):pe.invalid("missing or invalid start")}(c,d)||new pe({start:c,end:d})}static fromISO(r,s={}){const[c,d]=(r||"").split("/",2);if(c&&d){let h,k,w,G;try{h=lt.fromISO(c,s),k=h.isValid}catch{k=!1}try{w=lt.fromISO(d,s),G=w.isValid}catch{G=!1}if(k&&G)return pe.fromDateTimes(h,w);if(k){const H=Wt.fromISO(d,s);if(H.isValid)return pe.after(h,H)}else if(G){const H=Wt.fromISO(c,s);if(H.isValid)return pe.before(w,H)}}return pe.invalid("unparsable",`the input "${r}" can't be parsed as ISO 8601`)}static invalid(r,s){if(!r)throw new It("need to specify a reason the Interval is invalid");const c=r instanceof ze?r:new ze(r,s);if(le.throwOnInvalid)throw new t(c);return new pe({invalid:c})}static isInterval(r){return!!r&&r._isLuxonInterval||!1}static merge(r){const[s,c]=r.sort((d,h)=>d._s.valueOf()-h._s.valueOf()).reduce(([d,h],k)=>h?h.overlaps(k)||h.abutsStart(k)?[d,h.union(k)]:[d.concat([h]),k]:[d,k],[[],null]);return c&&s.push(c),s}static xor(r){let s=null,c=0;const d=[],h=r.map(G=>[{time:G._s,type:"s"},{time:G._e,type:"e"}]),w=Array.prototype.concat(...h).sort((G,H)=>+G.time-+H.time);for(const G of w)c+="s"===G.type?1:-1,1===c?s=G.time:(s&&s.valueOf()!==G.time.valueOf()&&d.push(pe.fromDateTimes(s,G.time)),s=null);return pe.merge(d)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this._s.toISO()}, end: ${this._e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}abutsEnd(r){return+r._e==+this._s}abutsStart(r){return+this._e==+r._s}contains(r){return this._s<=r&&this._e>r}count(r="milliseconds",s){if(!this.isValid)return NaN;const c=this.start.startOf(r,s);let d;return d=s?.useLocaleWeeks?this.end.reconfigure({locale:c.locale}):this.end,d=d.startOf(r,s),Math.floor(d.diff(c,r).get(r))+ +(d.valueOf()!==this.end.valueOf())}difference(...r){return pe.xor([this].concat(r)).map(s=>this.intersection(s)).filter(s=>s&&!s.isEmpty())}divideEqually(r){return this.isValid?this.splitBy({milliseconds:this.length()/r}).slice(0,r):[]}engulfs(r){return!!this.isValid&&this._s<=r._s&&this._e>=r._e}equals(r){return!(!this.isValid||!r.isValid)&&this._s.equals(r._s)&&this._e.equals(r._e)}hasSame(r){return!!this.isValid&&(this.isEmpty()||this._e.minus(1).hasSame(this._s,r))}intersection(r){if(!this.isValid)return this;const s=this._s>r._s?this._s:r._s,c=this._e<r._e?this._e:r._e;return s>=c?null:pe.fromDateTimes(s,c)}isAfter(r){return!!this.isValid&&this._s>r}isBefore(r){return!!this.isValid&&this._e<=r}isEmpty(){return this._s.valueOf()===this._e.valueOf()}length(r="milliseconds"){return this.toDuration(r).get(r)}mapEndpoints(r){return pe.fromDateTimes(r(this._s),r(this._e))}overlaps(r){return this._e>r._s&&this._s<r._e}set({start:r,end:s}={}){return this.isValid?pe.fromDateTimes(r||this._s,s||this._e):this}splitAt(...r){const s=r.map(vi).filter(k=>this.contains(k)).sort((k,w)=>k.toMillis()-w.toMillis()),c=[];let d=this._s,h=0;for(;d<this._e;){const k=s[h]||this._e,w=+k>+this._e?this._e:k;c.push(pe.fromDateTimes(d,w)),d=w,h+=1}return c}splitBy(r){const s=Wt.fromDurationLike(r);if(!this.isValid||!s.isValid||0===s.as("milliseconds"))return[];let h,c=this._s,d=1;const k=[];for(;c<this._e;){const w=this.start.plus(s.mapUnits(G=>G*d));h=+w>+this._e?this._e:w,k.push(pe.fromDateTimes(c,h)),c=h,d+=1}return k}toDuration(r="milliseconds",s={}){return this.isValid?this._e.diff(this._s,r,s):Wt.invalid(this._invalid.reason)}toFormat(r,{separator:s=" - "}={}){return this.isValid?`${this._s.toFormat(r)}${s}${this._e.toFormat(r)}`:oi}toISO(r={}){return this.isValid?`${this._s.toISO(r)}/${this._e.toISO(r)}`:oi}toISODate(){return this.isValid?`${this._s.toISODate()}/${this._e.toISODate()}`:oi}toISOTime(r={}){return this.isValid?`${this._s.toISOTime(r)}/${this._e.toISOTime(r)}`:oi}toLocaleString(r=Ct,s={}){return this.isValid?Ee.create(this._s.loc.clone(s),r).formatInterval(this):oi}toString(){return this.isValid?`[${this._s.toISO()} \u2013 ${this._e.toISO()})`:oi}union(r){return this.isValid?pe.fromDateTimes(this._s<r._s?this._s:r._s,this._e>r._e?this._e:r._e):this}}class ki{static eras(r="short",{locale:s}={}){return Ut.create(s,void 0,"gregory").eras(r)}static features(){return{relative:Fi(),localeWeek:Mi()}}static getMinimumDaysInFirstWeek({locale:r,locObj:s}={}){return(s||Ut.create(r)).getMinDaysInFirstWeek()}static getStartOfWeek({locale:r,locObj:s}={}){return(s||Ut.create(r)).getStartOfWeek()}static getWeekendWeekdays({locale:r,locObj:s}={}){return(s||Ut.create(r)).getWeekendDays().slice()}static hasDST(r=le.defaultZone){const s=lt.now().setZone(r).set({month:12});return!r.isUniversal&&s.offset!==s.set({month:6}).offset}static isValidIANAZone(r){return K.isValidZone(r)}static meridiems({locale:r}={}){return Ut.create(r).meridiems()}static months(r="long",{locale:s=null,locObj:c=null,numberingSystem:d=null,outputCalendar:h="gregory"}={}){return(c||Ut.create(s,d,h)).months(r)}static monthsFormat(r="long",{locale:s,locObj:c,numberingSystem:d,outputCalendar:h="gregory"}={}){return(c||Ut.create(s,d,h)).months(r,!0)}static normalizeZone(r){return Ye(r,le.defaultZone)}static weekdays(r="long",{locale:s,locObj:c,numberingSystem:d}={}){return(c||Ut.create(s,d)).weekdays(r)}static weekdaysFormat(r="long",{locale:s,locObj:c,numberingSystem:d}={}){return(c||Ut.create(s,d)).weekdays(r,!0)}}function Gs(m,r){const s=d=>d.toUTC(0,{keepLocalTime:!0}).startOf("days").valueOf(),c=s(r)-s(m);return Math.floor(Wt.fromMillis(c).as("days"))}function ne(m,r=(s=>s)){return{regex:m,deser:([s])=>r(function F(m){const r=parseInt(m,10);if(!isNaN(r))return r;let s="";for(let c=0;c<m.length;c++){const d=m.charCodeAt(c);if(-1!==m[c].search(R.hanidec))s+=E.indexOf(m[c]);else for(const h in Pt){const[k,w]=Pt[h];if(d>=k&&d<=w){s+=d-k;break}}}return parseInt(s,10)}(s))}}const Ns="[ \xa0]",$s=new RegExp(Ns,"g");function Vo(m){return m.replace(/\./g,"\\.?").replace($s,Ns)}function zs(m){return m.replace(/\./g,"").replace($s," ").toLowerCase()}function sn(m,r){return{regex:RegExp(m.map(Vo).join("|")),deser:([s])=>m.findIndex(c=>zs(s)===zs(c))+r}}function Ps(m,r){return{regex:m,deser:([,s,c])=>Pn(s,c),groups:r}}function As(m){return{regex:m,deser:([r])=>r}}function Uo(m){return m.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const Wo={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let ps;function Rn(m,r){return Array.prototype.concat(...m.map(s=>function pn(m,r){if(m.literal)return m;const c=Bs(Ee.macroTokenToFormatOpts(m.val),r);return null==c||c.includes(void 0)?m:c}(s,r)))}class Ls{get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}get isValid(){return!this.disqualifyingUnit}constructor(r,s){this.locale=r,this.format=s,this._mapTokens()}explainFromTokens(r){if(this.isValid){const[s,c]=function Ko(m,r,s){const c=r.exec(m),d={};if(null!==c){let h=1;s.forEach(k=>{const w=k.groups?k.groups+1:1;k.literal||(d[k.token.val[0]]=k.deser(c.slice(h,h+w))),h+=w})}return[c,d]}(r,this.regex,this.handlers),[d,h,k]=c?function Qo(m){let c,s=null;return Zt(m.z)&&(s=K.create(m.z)),Zt(m.Z)&&(s||(s=new ee(+m.Z)),c=+m.Z),Zt(m.q)&&(m.M=3*(m.q-1)+1),Zt(m.h)&&(+m.h<12&&1===m.a?m.h=m.h+12:12===m.h&&0===m.a&&(m.h=0)),0===m.G&&m.y&&(m.y=-m.y),Zt(m.u)&&(m.S=mi(m.u)||0),[Object.keys(m).reduce((h,k)=>{const w=(h=>{switch(h){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(k);return w&&(h[w]=m[k]),h},{}),s,c]}(c):[null,null,void 0];if(c.hasOwnProperty("a")&&c.hasOwnProperty("H"))throw new tt("Can't include meridiem when specifying 24-hour format");return{input:r,tokens:this.tokens,regex:this.regex,rawMatches:s,matches:c,result:d,zone:h,specificOffset:k}}return{input:r,tokens:this.tokens,invalidReason:this.invalidReason}}_mapTokens(){this.tokens=Rn(Ee.parseFormat(this.format),this.locale);const r=this.tokens.map(s=>function Xo(m,r){const s=Kt(r),c=Kt(r,"{2}"),d=Kt(r,"{3}"),h=Kt(r,"{4}"),k=Kt(r,"{6}"),w=Kt(r,"{1,2}"),G=Kt(r,"{1,3}"),H=Kt(r,"{1,6}"),yt=Kt(r,"{1,9}"),Nt=Kt(r,"{2,4}"),Xt=Kt(r,"{4,6}"),$t=Sn=>({regex:RegExp(Uo(Sn.val)),deser:([Oi])=>Oi,literal:!0}),Un=(Sn=>{if(m.literal)return $t(Sn);switch(Sn.val){case"G":return sn(r.eras("short"),0);case"GG":return sn(r.eras("long"),0);case"y":return ne(H);case"yy":case"kk":return ne(Nt,di);case"yyyy":case"kkkk":return ne(h);case"yyyyy":return ne(Xt);case"yyyyyy":return ne(k);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return ne(w);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return ne(c);case"MMM":return sn(r.months("short",!0),1);case"MMMM":return sn(r.months("long",!0),1);case"LLL":return sn(r.months("short",!1),1);case"LLLL":return sn(r.months("long",!1),1);case"o":case"S":return ne(G);case"ooo":case"SSS":return ne(d);case"u":return As(yt);case"a":return sn(r.meridiems(),0);case"E":case"c":return ne(s);case"EEE":return sn(r.weekdays("short",!1),1);case"EEEE":return sn(r.weekdays("long",!1),1);case"ccc":return sn(r.weekdays("short",!0),1);case"cccc":return sn(r.weekdays("long",!0),1);case"Z":case"ZZ":return Ps(new RegExp(`([+-]${w.source})(?::(${c.source}))?`),2);case"ZZZ":return Ps(new RegExp(`([+-]${w.source})(${c.source})?`),2);case"z":return As(/[a-z_+-/]{1,256}?/i);default:return $t(Sn)}})(m)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Object.assign(Object.assign({},Un),{token:m})}(s,this.locale));if(this.disqualifyingUnit=r.find(s=>s.invalidReason),this.units=r.filter(s=>!s.invalidReason),!this.disqualifyingUnit){const[s,c]=function Jo(m){return[`^${m.map(s=>s.regex).reduce((s,c)=>`${s}(${c.source})`,"")}$`,m]}(this.units);this.regex=RegExp(s,"i"),this.handlers=c}}}function Ys(m,r,s){return new Ls(m,s).explainFromTokens(r)}function gs(m){return m.replace(/\u202F/g," ")}function Bs(m,r){if(!m)return null;const c=Ee.create(r,m).dtFormatter(function Tn(m){return void 0===ps&&(ps=lt.fromMillis(1555555555555,{locale:m.locale})),ps}(r)),d=c.formatToParts(),h=c.resolvedOptions();return d.map(k=>function Ho(m,r,s){const{type:c,value:d}=m;if("literal"===c){const G=/^\s+$/.test(d);return{literal:!G,val:G?" ":d}}let k=c;"hour"===c&&(k=null!=r.hour12?r.hour12?"hour12":"hour24":null!=r.hourCycle?"h11"===r.hourCycle||"h12"===r.hourCycle?"hour12":"hour24":s.hour12?"hour12":"hour24");let w=Wo[k];if("object"==typeof w&&(w=w[r[c]]),w)return{literal:!1,val:w}}(k,m,h))}const hs="Invalid DateTime",Vs=864e13;function Us(m,r,s){let c=m-60*r*1e3;const d=s.offset(c);if(r===d)return[c,r];c-=60*(d-r)*1e3;const h=s.offset(c);return d===h?[c,d]:[m-60*Math.min(d,h)*1e3,Math.max(d,h)]}function Vi(m,r){const s=new Date(m+=60*r*1e3);return{year:s.getUTCFullYear(),month:s.getUTCMonth()+1,day:s.getUTCDate(),hour:s.getUTCHours(),minute:s.getUTCMinutes(),second:s.getUTCSeconds(),millisecond:s.getUTCMilliseconds()}}function Ui(m,r,s){return Us(ti(m),r,s)}function ai(m,r,s,c,d,h){const{setZone:k,zone:w}=s;if(m&&0!==Object.keys(m).length||r){const G=r||w,H=lt.fromObject(m||void 0,Object.assign(Object.assign({},s),{zone:G,specificOffset:h}));return k?H:H.setZone(w)}return lt.invalid(new ze("unparsable",`the input "${d}" can't be parsed as ${c}`))}function Xi(m,r,s=!0){return m.isValid?Ee.create(Ut.create("en-US"),{allowZ:s,forceSimple:!0}).formatDateTimeFromString(m,r):null}const Xs={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0},qo={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ta={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Ws=["year","month","day","hour","minute","second","millisecond"],ea=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],na=["year","ordinal","hour","minute","second","millisecond"];function Hs(m){const r=ii[m.toLowerCase()];if(!r)throw new T(m);return r}class lt{get day(){return this.isValid?this._c.day:NaN}get daysInMonth(){return qn(this.year,this.month)}get daysInYear(){return this.isValid?On(this.year):NaN}get hour(){return this.isValid?this._c.hour:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:void 0}get invalidReason(){return this._invalid?this._invalid.reason:void 0}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return $n(this.year)}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isValid(){return null===this._invalid}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get loc(){return this.isValid?this._loc.clone():void 0}get localWeekNumber(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekYear:NaN}get localWeekday(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekday:NaN}get locale(){return this.isValid?this._loc.locale:void 0}get millisecond(){return this.isValid?this._c.millisecond:NaN}get minute(){return this.isValid?this._c.minute:NaN}get month(){return this.isValid?this._c.month:NaN}get monthLong(){return this.isValid?ki.months("long",{locObj:this._loc})[this.month-1]:null}get monthShort(){return this.isValid?ki.months("short",{locObj:this._loc})[this.month-1]:null}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get offset(){return this.isValid?+this._o:NaN}get offsetNameLong(){return this.isValid?this.zone.offsetName(this._ts,{format:"long",locale:this.locale}):null}get offsetNameShort(){return this.isValid?this.zone.offsetName(this._ts,{format:"short",locale:this.locale}):null}get ordinal(){return this.isValid?Rt(this._c).ordinal:NaN}get outputCalendar(){return this.isValid?this._loc.outputCalendar:void 0}get quarter(){return this.isValid?Math.ceil(this._c.month/3):NaN}get second(){return this.isValid?this._c.second:NaN}get ts(){return this._ts}get weekNumber(){return this.isValid?this._possiblyCachedWeekData(this).weekNumber:NaN}get weekYear(){return this.isValid?this._possiblyCachedWeekData(this).weekYear:NaN}get weekday(){return this.isValid?this._possiblyCachedWeekData(this).weekday:NaN}get weekdayLong(){return this.isValid?ki.weekdays("long",{locObj:this._loc})[this.weekday-1]:null}get weekdayShort(){return this.isValid?ki.weekdays("short",{locObj:this._loc})[this.weekday-1]:null}get weeksInLocalWeekYear(){return this.isValid?zn(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}get weeksInWeekYear(){return this.isValid?zn(this.weekYear):NaN}get year(){return this.isValid?this._c.year:NaN}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}constructor(r){const s=r.zone||le.defaultZone;let d,h,c=r.invalid||(Number.isNaN(r.ts)?new ze("invalid timestamp"):null)||(s.isValid?null:lt._unsupportedZone(s));if(this._ts=Oe(r.ts)?le.now():r.ts,!c)if(r.old&&r.old.ts===this._ts&&r.old.zone.equals(s))[h,d]=[r.old.c,r.old.o];else{const w=en(r.o)&&!r.old?r.o:s.offset(this.ts);h=Vi(this._ts,w),c=Number.isNaN(h.year)?new ze("invalid input"):null,h=c?void 0:h,d=c?void 0:w}this._zone=s,this._loc=r.loc||Ut.create(),this._invalid=c,this._weekData=null,this._c=h,this._o=d,this._isLuxonDateTime=!0}static buildFormatParser(r,s={}){const{locale:c=null,numberingSystem:d=null}=s,h=Ut.fromOpts({locale:c,numberingSystem:d,defaultToEN:!0});return new Ls(h,r)}static expandFormat(r,s={}){return Rn(Ee.parseFormat(r),Ut.fromObject(s)).map(d=>d.val).join("")}static fromFormat(r,s,c={}){if(Oe(r)||Oe(s))throw new It("fromFormat requires an input string and a format");const{locale:d,numberingSystem:h}=c,k=Ut.fromOpts({locale:d,numberingSystem:h,defaultToEN:!0}),[w,G,H,yt]=function Zo(m,r,s){const{result:c,zone:d,specificOffset:h,invalidReason:k}=Ys(m,gs(r),gs(s));return[c,d,h,k]}(k,r,s);return yt?lt.invalid(yt):ai(w,G||null,c,`format ${s}`,r,H)}static fromFormatExplain(r,s,c={}){const{locale:d,numberingSystem:h}=c;return Ys(Ut.fromOpts({locale:d,numberingSystem:h,defaultToEN:!0}),r,s)}static fromFormatParser(r,s,c={}){if(Oe(r)||Oe(s))throw new It("fromFormatParser requires an input string and a format parser");const{locale:d=null,numberingSystem:h=null}=c,k=Ut.fromOpts({locale:d,numberingSystem:h,defaultToEN:!0});if(!k.equals(s.locale))throw new It(`fromFormatParser called with a locale of ${k}, but the format parser was created for ${s.locale}`);const{result:w,zone:G,specificOffset:H,invalidReason:yt}=s.explainFromTokens(r);return yt?lt.invalid(yt):ai(w,G,c,`format ${s.format}`,r,H)}static fromHTTP(r,s={}){const[c,d]=function Fs(m){return xn(m,[vo,ws],[ko,ws],[Es,Co])}(r);return ai(c,d,s,"HTTP",r)}static fromISO(r,s={}){const[c,d]=function Eo(m){return xn(m,[xo,Rs],[To,yo],[Io,jo],[So,Oo])}(r);return ai(c,d,s,"ISO 8601",r)}static fromJSDate(r,s={}){const c=function ss(m){return"[object Date]"===Object.prototype.toString.call(m)}(r)?r.valueOf():NaN;if(Number.isNaN(c))return lt.invalid("invalid input");const d=Ye(s.zone,le.defaultZone);return d.isValid?new lt({ts:c,zone:d,loc:Ut.fromObject(s)}):lt.invalid(lt._unsupportedZone(d))}static fromMillis(r,s={}){if(en(r))return r<-Vs||r>Vs?lt.invalid("Timestamp out of range"):new lt({ts:r,zone:Ye(s.zone,le.defaultZone),loc:Ut.fromObject(s)});throw new It(`fromMillis requires a numerical input, but received a ${typeof r} with value ${r}`)}static fromObject(r={},s={}){const c=Ye(s.zone,le.defaultZone);if(!c.isValid)return lt.invalid(lt._unsupportedZone(c));const d=Ut.fromObject(s),h=ei(r,Hs),k=le.now(),w=en(s.specificOffset)?s.specificOffset:c.offset(k),G=Zt(h.ordinal),H=Zt(h.year),yt=Zt(h.month)||Zt(h.day),Nt=H||yt,Xt=h.weekYear||h.weekNumber;if((Nt||G)&&Xt)throw new tt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(yt&&G)throw new tt("Can't mix ordinal dates with month/day");const $t=Xt||h.weekday&&!Nt,{minDaysInFirstWeek:Me,startOfWeek:Un}=jn(h,d),Sn=Vi(k,w),Oi={containsGregor:Nt,containsOrdinal:G,loc:d,normalized:h,obj:r,offsetProvis:w,useWeekData:$t,zoneToUse:c};return $t?lt._buildObject(Oi,ea,qo,D(Sn,Me,Un)):G?lt._buildObject(Oi,na,ta,Rt(Sn)):lt._buildObject(Oi,Ws,Xs,Sn)}static fromRFC2822(r,s={}){const[c,d]=function Ro(m){return xn(function bo(m){return m.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(m),[ho,fo])}(r);return ai(c,d,s,"RFC 2822",r)}static fromSQL(r,s={}){const[c,d]=function Do(m){return xn(m,[Fo,Rs],[Mo,us])}(r);return ai(c,d,s,"SQL",r)}static fromSeconds(r,s={}){if(!en(r))throw new It("fromSeconds requires a numerical input");return new lt({ts:1e3*r,zone:Ye(s.zone,le.defaultZone),loc:Ut.fromObject(s)})}static fromString(r,s,c={}){return lt.fromFormat(r,s,c)}static fromStringExplain(r,s,c={}){return lt.fromFormatExplain(r,s,c)}static invalid(r,s){if(!r)throw new It("need to specify a reason the DateTime is invalid");const c=r instanceof ze?r:new ze(r,s);if(le.throwOnInvalid)throw new a(c);return new lt({invalid:c})}static isDateTime(r){return!(!r||!r._isLuxonDateTime)}static local(...r){const[s,c]=this._lastOpts(r),[d,h,k,w,G,H,yt]=c;return lt._quickDT({year:d,month:h,day:k,hour:w,minute:G,second:H,millisecond:yt},s)}static max(...r){if(!r.every(lt.isDateTime))throw new It("max requires all arguments be DateTimes");return Di(r,s=>s.valueOf(),Math.max)}static min(...r){if(!r.every(lt.isDateTime))throw new It("min requires all arguments be DateTimes");return Di(r,s=>s.valueOf(),Math.min)}static now(){return new lt({})}static parseFormatForOpts(r,s={}){const c=Bs(r,Ut.fromObject(s));return c?c.map(d=>d?d.val:null).join(""):null}static resetCache(){this._zoneOffsetTs=void 0,this._zoneOffsetGuessCache=new Map}static utc(...r){const[s,c]=this._lastOpts(r),[d,h,k,w,G,H,yt]=c;return s.zone=ee.utcInstance,this._quickDT({year:d,month:h,day:k,hour:w,minute:G,second:H,millisecond:yt},s)}static _buildObject(r,s,c,d){let h=!1;s.forEach(Xt=>{Zt(r.normalized[Xt])?h=!0:r.normalized[Xt]=h?c[Xt]:d[Xt]});const w=(r.useWeekData?function Jn(m,r=4,s=1){const c=Qn(m.weekYear),d=Be(m.weekNumber,1,zn(m.weekYear,r,s)),h=Be(m.weekday,1,7);return c?d?!h&&we("weekday",m.weekday):we("week",m.weekNumber):we("weekYear",m.weekYear)}(r.normalized):r.containsOrdinal?function Ri(m){const r=Qn(m.year),s=Be(m.ordinal,1,On(m.year));return r?!s&&we("ordinal",m.ordinal):we("year",m.year)}(r.normalized):tn(r.normalized))||Nn(r.normalized);if(w)return lt.invalid(w);const G=r.useWeekData?P(r.normalized):r.containsOrdinal?ce(r.normalized):r.normalized,[H,yt]=Ui(G,r.offsetProvis,r.zoneToUse),Nt=new lt({ts:H,zone:r.zoneToUse,o:yt,loc:r.loc});return r.normalized.weekday&&r.containsGregor&&r.obj.weekday!==Nt.weekday?lt.invalid("mismatched weekday",`you can't specify both a weekday of ${r.normalized.weekday} and a date of ${Nt.toISO()}`):Nt.isValid?Nt:lt.invalid(Nt._invalid)}static _diffRelative(r,s,c){const d=!!Oe(c.round)||c.round,h=(w,G)=>(w=_i(w,d||c.calendary?0:2,!0),s._loc.clone(c).relFormatter(c).format(w,G)),k=w=>c.calendary?s.hasSame(r,w)?0:s.startOf(w).diff(r.startOf(w),w).get(w):s.diff(r,w).get(w);if(c.unit)return h(k(c.unit),c.unit);for(const w of c.units){const G=k(w);if(Math.abs(G)>=1)return h(G,w)}return h(r>s?-0:0,c.units[c.units.length-1])}static _guessOffsetForZone(r){return this._zoneOffsetGuessCache.has(r)||(void 0===this._zoneOffsetTs&&(this._zoneOffsetTs=le.now()),this._zoneOffsetGuessCache.set(r,r.offset(this._zoneOffsetTs))),this._zoneOffsetGuessCache.get(r)}static _lastOpts(r){let c,s={};return r.length>0&&"object"==typeof r[r.length-1]?(s=r.pop(),c=r):c=Array.from(r),[s,c]}static _quickDT(r,s){const c=Ye(s.zone,le.defaultZone);if(!c.isValid)return lt.invalid(this._unsupportedZone(c));const d=Ut.fromObject(s),h=le.now();let k,w;if(Zt(r.year)){for(const yt of Ws)Oe(r[yt])&&(r[yt]=Xs[yt]);const G=tn(r)||Nn(r);if(G)return lt.invalid(G);const H=this._guessOffsetForZone(c);[k,w]=Ui(r,H,c)}else k=h;return new lt({ts:k,zone:c,loc:d,o:w})}static _unsupportedZone(r){return new ze("unsupported zone",`the zone "${r.name}" is not supported`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}diff(r,s="milliseconds",c={}){if(!this.isValid||!r.isValid)return Wt.invalid(this.invalidReason||r.invalidReason,"created by diffing an invalid DateTime");const d=function os(m){return Array.isArray(m)?m:[m]}(s).map(Wt.normalizeUnit),h=r.valueOf()>this.valueOf(),G=((m,r,s,c)=>{let[d,h,k,w]=function Lo(m,r,s){const c=[["years",(G,H)=>H.year-G.year],["quarters",(G,H)=>H.quarter-G.quarter+4*(H.year-G.year)],["months",(G,H)=>H.month-G.month+12*(H.year-G.year)],["weeks",(G,H)=>{const yt=Gs(G,H);return(yt-yt%7)/7}],["days",Gs]],d={},h=m;let k,w;for(const[G,H]of c)s.indexOf(G)>=0&&(k=G,d[G]=H(m,r),w=h.plus(d),w>r?(d[G]--,(m=h.plus(d))>r&&(w=m,d[G]--,m=h.plus(d))):m=w);return[m,d,w,k]}(m,r,s);const G=+r-+d,H=s.filter(Nt=>["hours","minutes","seconds","milliseconds"].indexOf(Nt)>=0);0===H.length&&(k<r&&(k=d.plus({[w]:1})),k!==d&&(h[w]=(h[w]||0)+G/(+k-+d)));const yt=Wt.fromObject(h,c);return H.length>0?Wt.fromMillis(G,c).shiftTo(...H).plus(yt):yt})(h?this:r,h?r:this,d,Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},c));return h?G.negate():G}diffNow(r="milliseconds",s={}){return this.diff(lt.now(),r,s)}endOf(r,{useLocaleWeeks:s=!1}={}){return this.plus({[r]:1}).startOf(r,{useLocaleWeeks:s}).minus({milliseconds:1})}equals(r){return this.valueOf()===r.valueOf()&&this.zone.equals(r.zone)&&this._loc.equals(r._loc)}get(r){return this[r]}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const r=864e5,s=6e4,c=ti(this._c),d=this.zone.offset(c-r),h=this.zone.offset(c+r),k=this.zone.offset(c-d*s),w=this.zone.offset(c-h*s);if(k===w)return[this];const G=c-k*s,H=c-w*s,yt=Vi(G,k),Nt=Vi(H,w);return yt.hour===Nt.hour&&yt.minute===Nt.minute&&yt.second===Nt.second&&yt.millisecond===Nt.millisecond?[this._clone({ts:G}),this._clone({ts:H})]:[this]}hasSame(r,s,c){if(!this.isValid)return!1;const d=r.valueOf(),h=this.setZone(r.zone,{keepLocalTime:!0});return+h.startOf(s)<=d&&d<=+h.endOf(s,c)}minus(r){if(!this.isValid)return this;const s=Wt.fromDurationLike(r).negate();return this._clone(this._adjustTime(s))}plus(r){if(!this.isValid)return this;const s=Wt.fromDurationLike(r);return this._clone(this._adjustTime(s))}reconfigure(r){const s=this._loc.clone(r);return this._clone({loc:s})}resolvedLocaleOptions(r={}){const{locale:s,numberingSystem:c,calendar:d}=Ee.create(this._loc.clone(r),r).resolvedOptions(this);return{locale:s,numberingSystem:c,outputCalendar:d}}set(r){if(!this.isValid)return this;const s=ei(r,Hs),{minDaysInFirstWeek:c,startOfWeek:d}=jn(s,this.loc),h=Zt(s.weekYear)||Zt(s.weekNumber)||Zt(s.weekday),k=Zt(s.ordinal),w=Zt(s.year),G=Zt(s.month)||Zt(s.day);if((w||G||k)&&(s.weekYear||s.weekNumber))throw new tt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(G&&k)throw new tt("Can't mix ordinal dates with month/day");let Nt;h?Nt=P(Object.assign(Object.assign({},D(this._c,c,d)),s),c,d):Oe(s.ordinal)?(Nt=Object.assign(Object.assign({},this.toObject()),s),Oe(s.day)&&(Nt.day=Math.min(qn(Nt.year,Nt.month),Nt.day))):Nt=ce(Object.assign(Object.assign({},Rt(this._c)),s));const[Xt,$t]=Ui(Nt,this._o,this.zone);return this._clone({ts:Xt,o:$t})}setLocale(r){return this.reconfigure({locale:r})}setZone(r,{keepLocalTime:s=!1,keepCalendarTime:c=!1}={}){if((r=Ye(r,le.defaultZone)).equals(this.zone))return this;if(r.isValid){let d=this._ts;if(s||c){const h=r.offset(this._ts);d=Ui(this.toObject(),h,r)[0]}return this._clone({ts:d,zone:r})}return lt.invalid(lt._unsupportedZone(r))}startOf(r,{useLocaleWeeks:s=!1}={}){if(!this.isValid)return this;const c={},d=Wt.normalizeUnit(r);switch(d){case"years":c.month=1;case"quarters":case"months":c.day=1;case"weeks":case"days":c.hour=0;case"hours":c.minute=0;case"minutes":c.second=0;case"seconds":c.millisecond=0}if("weeks"===d)if(s){const h=this.loc.getStartOfWeek(),{weekday:k}=this;k<h&&(c.weekNumber=this.weekNumber-1),c.weekday=h}else c.weekday=1;if("quarters"===d){const h=Math.ceil(this.month/3);c.month=3*(h-1)+1}return this.set(c)}toBSON(){return this.toJSDate()}toFormat(r,s={}){return this.isValid?Ee.create(this._loc.redefaultToEN(s)).formatDateTimeFromString(this,r):hs}toHTTP(){return Xi(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toISO({format:r="extended",suppressSeconds:s=!1,suppressMilliseconds:c=!1,includeOffset:d=!0,extendedZone:h=!1}={}){if(!this.isValid)return null;const k="extended"===r;return[this._toISODate(k),"T",this._toISOTime(k,s,c,d,h)].join("")}toISODate({format:r="extended"}={format:"extended"}){return this.isValid?this._toISODate("extended"===r):null}toISOTime({suppressMilliseconds:r=!1,suppressSeconds:s=!1,includeOffset:c=!0,includePrefix:d=!1,extendedZone:h=!1,format:k="extended"}={}){return this.isValid?[d?"T":"",this._toISOTime("extended"===k,s,r,c,h)].join(""):null}toISOWeekDate(){return Xi(this,"kkkk-'W'WW-c")}toJSDate(){return new Date(this.isValid?this._ts:NaN)}toJSON(){return this.toISO()}toLocal(){return this.setZone(le.defaultZone)}toLocaleParts(r={}){return this.isValid?Ee.create(this._loc.clone(r),r).formatDateTimeParts(this):[]}toLocaleString(r=Ct,s={}){return this.isValid?Ee.create(this._loc.clone(s),r).formatDateTime(this):hs}toMillis(){return this.isValid?this.ts:NaN}toObject(r={includeConfig:!1}){if(!this.isValid)return{};const s=Object.assign({},this._c);return r.includeConfig&&(s.outputCalendar=this.outputCalendar,s.numberingSystem=this._loc.numberingSystem,s.locale=this._loc.locale),s}toRFC2822(){return Xi(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toRelative(r={}){if(!this.isValid)return null;const s=r.base||lt.fromObject({},{zone:this.zone}),c=r.padding?this<s?-r.padding:r.padding:0;let d=["years","months","days","hours","minutes","seconds"],h=r.unit;return Array.isArray(r.unit)&&(d=r.unit,h=void 0),lt._diffRelative(s,this.plus(c),Object.assign(Object.assign({},r),{numeric:"always",units:d,unit:h}))}toRelativeCalendar(r={}){return this.isValid?lt._diffRelative(r.base||lt.fromObject({},{zone:this.zone}),this,Object.assign(Object.assign({},r),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}toSQL(r={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(r)}`:null}toSQLDate(){return this.isValid?this._toISODate(!0):null}toSQLTime({includeOffset:r=!0,includeZone:s=!1,includeOffsetSpace:c=!0}={}){let d="HH:mm:ss.SSS";return(s||r)&&(c&&(d+=" "),s?d+="z":r&&(d+="ZZ")),Xi(this,d,!0)}toSeconds(){return this.isValid?this._ts/1e3:NaN}toString(){return this.isValid?this.toISO():hs}toUTC(r=0,s={}){return this.setZone(ee.instance(r),s)}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}until(r){return pe.fromDateTimes(this,r)}valueOf(){return this.toMillis()}_adjustTime(r){const s=this._o,c=this._c.year+Math.trunc(r.years),d=this._c.month+Math.trunc(r.months)+3*Math.trunc(r.quarters),h=Object.assign(Object.assign({},this._c),{year:c,month:d,day:Math.min(this._c.day,qn(c,d))+Math.trunc(r.days)+7*Math.trunc(r.weeks)}),k=Wt.fromObject({years:r.years-Math.trunc(r.years),quarters:r.quarters-Math.trunc(r.quarters),months:r.months-Math.trunc(r.months),weeks:r.weeks-Math.trunc(r.weeks),days:r.days-Math.trunc(r.days),hours:r.hours,minutes:r.minutes,seconds:r.seconds,milliseconds:r.milliseconds}).as("milliseconds"),w=ti(h);let[G,H]=Us(w,s,this.zone);return 0!==k&&(G+=k,H=this.zone.offset(G)),{ts:G,o:H}}_clone(r){const s={ts:this._ts,zone:this.zone,c:this._c,o:this._o,loc:this._loc,invalid:this._invalid||void 0};return new lt(Object.assign(Object.assign(Object.assign({},s),r),{old:s}))}_possiblyCachedLocalWeekData(r){return r._localWeekData||(r._localWeekData=D(r._c,r.loc.getMinDaysInFirstWeek(),r.loc.getStartOfWeek())),r._localWeekData}_possiblyCachedWeekData(r){return null===r._weekData&&(r._weekData=D(r._c)),r._weekData}_toISODate(r){const s=this._c.year>9999||this._c.year<0;let c="";return s&&this._c.year>=0&&(c+="+"),c+=ue(this._c.year,s?6:4),r?(c+="-",c+=ue(this._c.month),c+="-",c+=ue(this._c.day)):(c+=ue(this._c.month),c+=ue(this._c.day)),c}_toISOTime(r,s,c,d,h){let k=ue(this._c.hour);return r?(k+=":",k+=ue(this._c.minute),(0!==this._c.millisecond||0!==this._c.second||!s)&&(k+=":")):k+=ue(this._c.minute),(0!==this._c.millisecond||0!==this._c.second||!s)&&(k+=ue(this._c.second),(0!==this._c.millisecond||!c)&&(k+=".",k+=ue(this._c.millisecond,3))),d&&(this.isOffsetFixed&&0===this.offset&&!h?k+="Z":this._o<0?(k+="-",k+=ue(Math.trunc(-this._o/60)),k+=":",k+=ue(Math.trunc(-this._o%60))):(k+="+",k+=ue(Math.trunc(this._o/60)),k+=":",k+=ue(Math.trunc(this._o%60)))),h&&(k+="["+this.zone.ianaName+"]"),k}}lt.DATETIME_FULL=ht,lt.DATETIME_FULL_WITH_SECONDS=zt,lt.DATETIME_HUGE=qt,lt.DATETIME_HUGE_WITH_SECONDS=ye,lt.DATETIME_MED=at,lt.DATETIME_MED_WITH_SECONDS=X,lt.DATETIME_MED_WITH_WEEKDAY=$,lt.DATETIME_SHORT=ie,lt.DATETIME_SHORT_WITH_SECONDS=_t,lt.DATE_FULL=re,lt.DATE_HUGE=ge,lt.DATE_MED=Et,lt.DATE_MED_WITH_WEEKDAY=Jt,lt.DATE_SHORT=Ct,lt.TIME_24_SIMPLE=Qt,lt.TIME_24_WITH_LONG_OFFSET=St,lt.TIME_24_WITH_SECONDS=Tt,lt.TIME_24_WITH_SHORT_OFFSET=Mt,lt.TIME_SIMPLE=Ie,lt.TIME_WITH_LONG_OFFSET=Dt,lt.TIME_WITH_SECONDS=fe,lt.TIME_WITH_SHORT_OFFSET=Se,lt._zoneOffsetGuessCache=new Map;var Ht=g(54460),Yn=g(89163),gn=g(39471),Bn=g(63552),ri=g(71217),Ci=g(18447),fs=g(5424),xi=g(88249),Ti=g(82040),Js=g(47947),ia=g(66645),hn=g(71204),Pe=g(10936),bs=g(30470),vs=g(4375),Ks=g(47426),Vn=g(74960),ks=g(53904),Cs=g(97839),sa=g(46192);const Wi=["clockFace"],oa=["clockHand"],Ii=function(m){return{transform:m}};function aa(m,r){if(1&m&&(n.j41(0,"button",9),n.nI1(1,"activeHour"),n.EFF(2),n.nI1(3,"timeLocalizer"),n.k0s()),2&m){const s=r.$implicit,c=n.XpG();n.Y8G("color",n.brH(1,4,s.time,null==c.selectedTime?null:c.selectedTime.time,c.isClockFaceDisabled)?c.color:void 0)("ngStyle",n.eq3(11,Ii,"rotateZ(-"+s.angle+"deg)"))("disabled",s.disabled),n.R7$(2),n.SpI(" ",n.i5U(3,8,s.time,c.timeUnit.HOUR)," ")}}function ra(m,r){if(1&m&&(n.j41(0,"div",12)(1,"button",9),n.nI1(2,"activeMinute"),n.EFF(3),n.nI1(4,"timeLocalizer"),n.nI1(5,"minutesFormatter"),n.k0s()()),2&m){const s=r.$implicit,c=n.XpG(2);n.Y8G("ngStyle",n.eq3(16,Ii,"rotateZ("+s.angle+"deg)")),n.R7$(1),n.Y8G("color",n.ii3(2,5,s.time,null==c.selectedTime?null:c.selectedTime.time,c.minutesGap,c.isClockFaceDisabled)?c.color:void 0)("ngStyle",n.eq3(18,Ii,"rotateZ(-"+s.angle+"deg)"))("disabled",s.disabled),n.R7$(2),n.SpI(" ",n.i5U(4,10,n.i5U(5,13,s.time,c.minutesGap),c.timeUnit.MINUTE)," ")}}function la(m,r){if(1&m&&(n.j41(0,"div",10),n.DNE(1,ra,6,20,"div",11),n.k0s()),2&m){const s=n.XpG();n.R7$(1),n.Y8G("ngForOf",s.faceTime)("ngForTrackBy",s.trackByTime)}}function ca(m,r){1&m&&n.SdG(0,0,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}const Qs=function(m){return{$implicit:m}};function ma(m,r){if(1&m&&(n.j41(0,"div",12),n.DNE(1,ca,1,0,"ng-content",14),n.k0s()),2&m){const s=r.$implicit;n.XpG(2);const c=n.sdS(1);n.Y8G("ngStyle",n.eq3(3,Ii,"rotateZ("+s.angle+"deg)")),n.R7$(1),n.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",n.eq3(5,Qs,s))}}function _a(m,r){1&m&&n.SdG(0,1,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function da(m,r){if(1&m&&(n.j41(0,"div",17),n.DNE(1,_a,1,0,"ng-content",14),n.k0s()),2&m){const s=r.$implicit,c=n.XpG(3),d=n.sdS(1);n.xc7("top","calc(50% - "+c.innerClockFaceSize+"px)")("height",c.innerClockFaceSize,"px"),n.Y8G("ngStyle",n.eq3(7,Ii,"rotateZ("+s.angle+"deg)")),n.R7$(1),n.Y8G("ngTemplateOutlet",d)("ngTemplateOutletContext",n.eq3(9,Qs,s))}}function ua(m,r){if(1&m&&(n.j41(0,"div",15),n.DNE(1,da,2,11,"div",16),n.nI1(2,"slice"),n.k0s()),2&m){const s=n.XpG(2);n.R7$(1),n.Y8G("ngForOf",n.brH(2,2,s.faceTime,12,24))("ngForTrackBy",s.trackByTime)}}function Fn(m,r){if(1&m&&(n.j41(0,"div",10),n.DNE(1,ma,2,7,"div",11),n.nI1(2,"slice"),n.DNE(3,ua,3,6,"div",13),n.k0s()),2&m){const s=n.XpG();n.R7$(1),n.Y8G("ngForOf",n.brH(2,3,s.faceTime,0,12))("ngForTrackBy",s.trackByTime),n.R7$(2),n.Y8G("ngIf",s.faceTime.length>12)}}function Hi(m,r){if(1&m&&(n.j41(0,"button",18),n.nrm(1,"span",19),n.k0s()),2&m){const s=n.XpG();n.Y8G("color",s.color)}}const Zs=["*","*"],pa=function(m){return{"clock-face__clock-hand_minute":m}};function ga(m,r){if(1&m){const s=n.RV6();n.j41(0,"div",5),n.bIt("@scaleInOut.done",function(){n.eBV(s);const d=n.XpG(2);return n.Njj(d.animationDone())}),n.j41(1,"p"),n.EFF(2,"Current time would be invalid in this period."),n.k0s()()}2&m&&n.Y8G("@scaleInOut",void 0)}function ha(m,r){if(1&m&&n.DNE(0,ga,3,1,"div",4),2&m){const s=n.XpG();n.Y8G("ngIf",!s.isPeriodAvailable)}}const Si=function(m){return{active:m}};function fa(m,r){if(1&m){const s=n.RV6();n.j41(0,"input",2),n.bIt("ngModelChange",function(d){n.eBV(s);const h=n.XpG();return n.Njj(h.time=d)})("input",function(){n.eBV(s);const d=n.XpG();return n.Njj(d.updateTime())})("focus",function(d){n.eBV(s);const h=n.XpG();return n.Njj(h.saveTimeAndChangeTimeUnit(d,h.timeUnit))}),n.nI1(1,"timeLocalizer"),n.k0s()}if(2&m){const s=n.XpG();n.Y8G("ngClass",n.eq3(8,Si,s.isActive))("ngModel",n.brH(1,4,s.time,s.timeUnit,!0))("disabled",s.disabled)("ngxMatTimepickerAutofocus",s.isActive)}}function ba(m,r){if(1&m){const s=n.RV6();n.j41(0,"input",3),n.bIt("ngModelChange",function(d){n.eBV(s);const h=n.XpG();return n.Njj(h.onModelChange(d))})("input",function(){n.eBV(s);const d=n.XpG();return n.Njj(d.updateTime())})("focus",function(d){n.eBV(s);const h=n.XpG();return n.Njj(h.saveTimeAndChangeTimeUnit(d,h.timeUnit))})("keydown",function(d){n.eBV(s);const h=n.XpG();return n.Njj(h.onKeydown(d))})("keypress",function(d){n.eBV(s);const h=n.XpG();return n.Njj(h.changeTimeByKeyboard(d))}),n.nI1(1,"timeLocalizer"),n.nI1(2,"ngxMatTimepickerParser"),n.k0s()}if(2&m){const s=n.XpG();n.Y8G("ngClass",n.eq3(11,Si,s.isActive))("ngModel",n.brH(1,4,n.i5U(2,8,s.time,s.timeUnit),s.timeUnit,!0))("disabled",s.disabled)("ngxMatTimepickerAutofocus",s.isActive)}}function va(m,r){if(1&m){const s=n.RV6();n.j41(0,"ngx-mat-timepicker-period",7),n.bIt("periodChanged",function(d){n.eBV(s);const h=n.XpG();return n.Njj(h.changePeriod(d))}),n.k0s()}if(2&m){const s=n.XpG();n.Y8G("selectedPeriod",s.period)("activeTimeUnit",s.activeTimeUnit)("maxTime",s.maxTime)("minTime",s.minTime)("format",s.format)("hours",s.hours)("minutes",s.minutes)("selectedHour",s.hour)("meridiems",s.meridiems)}}function ka(m,r){1&m&&n.eu8(0)}function Ca(m,r){1&m&&(n.j41(0,"small",11),n.EFF(1," * use arrows ("),n.j41(2,"span"),n.EFF(3,"\u21c5"),n.k0s(),n.EFF(4,") to change the time"),n.k0s())}const xa=function(m){return{"timepicker-dial__hint-container--hidden":m}};function Ta(m,r){if(1&m&&(n.j41(0,"div",8),n.DNE(1,ka,1,0,"ng-container",9),n.DNE(2,Ca,5,0,"ng-template",null,10,n.C5r),n.k0s()),2&m){const s=n.sdS(3),c=n.XpG();n.Y8G("ngClass",n.eq3(2,xa,!c.isHintVisible)),n.R7$(1),n.Y8G("ngTemplateOutlet",c.editableHintTmpl?c.editableHintTmpl:s)}}function Ia(m,r){1&m&&n.eu8(0)}function Sa(m,r){if(1&m&&(n.j41(0,"div"),n.DNE(1,Ia,1,0,"ng-container",3),n.k0s()),2&m){n.XpG();const s=n.sdS(4);n.R7$(1),n.Y8G("ngTemplateOutlet",s)}}function ya(m,r){1&m&&n.eu8(0)}function ja(m,r){if(1&m&&n.DNE(0,ya,1,0,"ng-container",3),2&m){n.XpG();const s=n.sdS(4);n.Y8G("ngTemplateOutlet",s)}}function Oa(m,r){1&m&&n.SdG(0)}const Ea=["*"];function wa(m,r){if(1&m&&(n.j41(0,"button",14),n.EFF(1,"CANCEL "),n.k0s()),2&m){const s=n.XpG();n.Y8G("color",s.color)}}function qs(m,r){if(1&m&&(n.j41(0,"button",14),n.EFF(1,"OK "),n.k0s()),2&m){const s=n.XpG();n.Y8G("color",s.color)}}function Ra(m,r){if(1&m){const s=n.RV6();n.j41(0,"ngx-mat-timepicker-24-hours-face",17),n.bIt("hourChange",function(d){n.eBV(s);const h=n.XpG(2);return n.Njj(h.onHourChange(d))})("hourSelected",function(d){n.eBV(s);const h=n.XpG(2);return n.Njj(h.onHourSelected(d))}),n.nI1(1,"async"),n.k0s()}if(2&m){const s=n.XpG(2);n.Y8G("color",s.color)("selectedHour",n.bMT(1,5,s.selectedHour))("minTime",s.data.minTime)("maxTime",s.data.maxTime)("format",s.data.format)}}function Fa(m,r){if(1&m){const s=n.RV6();n.j41(0,"ngx-mat-timepicker-12-hours-face",18),n.bIt("hourChange",function(d){n.eBV(s);const h=n.XpG(2);return n.Njj(h.onHourChange(d))})("hourSelected",function(d){n.eBV(s);const h=n.XpG(2);return n.Njj(h.onHourSelected(d))}),n.nI1(1,"async"),n.nI1(2,"async"),n.k0s()}if(2&m){const s=n.XpG(2);n.Y8G("color",s.color)("selectedHour",n.bMT(1,5,s.selectedHour))("period",n.bMT(2,7,s.selectedPeriod))("minTime",s.data.minTime)("maxTime",s.data.maxTime)}}function to(m,r){if(1&m&&(n.j41(0,"div"),n.DNE(1,Ra,2,7,"ngx-mat-timepicker-24-hours-face",15),n.DNE(2,Fa,3,9,"ng-template",null,16,n.C5r),n.k0s()),2&m){const s=n.sdS(3),c=n.XpG();n.R7$(1),n.Y8G("ngIf",24===c.data.format)("ngIfElse",s)}}function Ma(m,r){if(1&m){const s=n.RV6();n.j41(0,"ngx-mat-timepicker-minutes-face",19),n.bIt("minuteChange",function(d){n.eBV(s);const h=n.XpG();return n.Njj(h.onMinuteChange(d))}),n.nI1(1,"async"),n.nI1(2,"async"),n.nI1(3,"async"),n.k0s()}if(2&m){const s=n.XpG();let c;n.Y8G("color",s.color)("selectedMinute",n.bMT(1,8,s.selectedMinute))("selectedHour",null==(c=n.bMT(2,10,s.selectedHour))?null:c.time)("minTime",s.data.minTime)("maxTime",s.data.maxTime)("format",s.data.format)("period",n.bMT(3,12,s.selectedPeriod))("minutesGap",s.data.minutesGap)}}function Da(m,r){1&m&&n.eu8(0)}function Ga(m,r){1&m&&n.eu8(0)}function Na(m,r){if(1&m&&(n.j41(0,"button",14),n.EFF(1,"CANCEL "),n.k0s()),2&m){const s=n.XpG();n.Y8G("color",s.color)}}function $a(m,r){if(1&m&&(n.j41(0,"button",14),n.EFF(1,"OK "),n.k0s()),2&m){const s=n.XpG();n.Y8G("color",s.color)}}function za(m,r){if(1&m){const s=n.RV6();n.j41(0,"ngx-mat-timepicker-24-hours-face",17),n.bIt("hourChange",function(d){n.eBV(s);const h=n.XpG(2);return n.Njj(h.onHourChange(d))})("hourSelected",function(d){n.eBV(s);const h=n.XpG(2);return n.Njj(h.onHourSelected(d))}),n.nI1(1,"async"),n.k0s()}if(2&m){const s=n.XpG(2);n.Y8G("color",s.color)("selectedHour",n.bMT(1,5,s.selectedHour))("minTime",s.data.minTime)("maxTime",s.data.maxTime)("format",s.data.format)}}function Pa(m,r){if(1&m){const s=n.RV6();n.j41(0,"ngx-mat-timepicker-12-hours-face",18),n.bIt("hourChange",function(d){n.eBV(s);const h=n.XpG(2);return n.Njj(h.onHourChange(d))})("hourSelected",function(d){n.eBV(s);const h=n.XpG(2);return n.Njj(h.onHourSelected(d))}),n.nI1(1,"async"),n.nI1(2,"async"),n.k0s()}if(2&m){const s=n.XpG(2);n.Y8G("color",s.color)("selectedHour",n.bMT(1,5,s.selectedHour))("period",n.bMT(2,7,s.selectedPeriod))("minTime",s.data.minTime)("maxTime",s.data.maxTime)}}function Aa(m,r){if(1&m&&(n.j41(0,"div"),n.DNE(1,za,2,7,"ngx-mat-timepicker-24-hours-face",15),n.DNE(2,Pa,3,9,"ng-template",null,16,n.C5r),n.k0s()),2&m){const s=n.sdS(3),c=n.XpG();n.R7$(1),n.Y8G("ngIf",24===c.data.format)("ngIfElse",s)}}function La(m,r){if(1&m){const s=n.RV6();n.j41(0,"ngx-mat-timepicker-minutes-face",19),n.bIt("minuteChange",function(d){n.eBV(s);const h=n.XpG();return n.Njj(h.onMinuteChange(d))}),n.nI1(1,"async"),n.nI1(2,"async"),n.nI1(3,"async"),n.k0s()}if(2&m){const s=n.XpG();let c;n.Y8G("color",s.color)("selectedMinute",n.bMT(1,8,s.selectedMinute))("selectedHour",null==(c=n.bMT(2,10,s.selectedHour))?null:c.time)("minTime",s.data.minTime)("maxTime",s.data.maxTime)("format",s.data.format)("period",n.bMT(3,12,s.selectedPeriod))("minutesGap",s.data.minutesGap)}}function Ya(m,r){1&m&&n.eu8(0)}function Ba(m,r){1&m&&n.eu8(0)}function Va(m,r){1&m&&n.nrm(0,"ngx-mat-timepicker-standalone")}function Ua(m,r){1&m&&(n.qSk(),n.j41(0,"svg",2),n.nrm(1,"path",3),n.k0s())}const Xa=[[["","ngxMatTimepickerToggleIcon",""]]],Mn=["[ngxMatTimepickerToggleIcon]"];function Wa(m,r){if(1&m&&(n.j41(0,"mat-option",12),n.EFF(1),n.k0s()),2&m){const s=r.$implicit;n.Y8G("value",s),n.R7$(1),n.JRh(s)}}function Ha(m,r){if(1&m){const s=n.RV6();n.j41(0,"mat-form-field",9)(1,"mat-select",10),n.bIt("selectionChange",function(d){n.eBV(s);const h=n.XpG();return n.Njj(h.changePeriod(d))}),n.DNE(2,Wa,2,2,"mat-option",11),n.k0s()()}if(2&m){const s=n.XpG();n.Y8G("color",s.color),n.R7$(1),n.Y8G("disabled",s.disabled||s.isChangePeriodDisabled)("ngModel",s.period),n.R7$(1),n.Y8G("ngForOf",s.periods)}}function Ja(m,r){1&m&&n.eu8(0)}function Ka(m,r){if(1&m&&(n.j41(0,"ngx-mat-timepicker-toggle",13)(1,"span",14),n.DNE(2,Ja,1,0,"ng-container",15),n.k0s()()),2&m){const s=n.XpG(),c=n.sdS(8),d=n.sdS(10);n.Y8G("for",c)("disabled",s.disabled),n.R7$(2),n.Y8G("ngTemplateOutlet",s.toggleIcon||d)}}function Qa(m,r){1&m&&(n.j41(0,"mat-icon"),n.EFF(1,"watch_later"),n.k0s())}const Za=function(m){return{"ngx-mat-timepicker--disabled":m}};var In=function(m){return m.TWELVE="hh:mm a",m.TWELVE_SHORT="h:m a",m.TWENTY_FOUR="HH:mm",m.TWENTY_FOUR_SHORT="H:m",m}(In||{}),Fe=function(m){return m.AM="AM",m.PM="PM",m}(Fe||{});let ae=(()=>{class m{static#t=this.defaultFormat=12;static#e=this.defaultLocale="en-US";static#n=this.defaultNumberingSystem="latn";static formatHour(s,c,d){if(this.isTwentyFour(c))return s;const h=d===Fe.AM?s:s+12;return d===Fe.AM&&12===h?0:d===Fe.PM&&24===h?12:h}static formatTime(s,c){if(!s)return"Invalid Time";const d=this.parseTime(s,c).setLocale(this.defaultLocale);if(!d.isValid)return"Invalid time";const h=!this.isTwentyFour(c.format);return h?d.toLocaleString({...lt.TIME_SIMPLE,hour12:h}).replace(/\u200E/g,""):d.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static fromDateTimeToString(s,c){return s.reconfigure({numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}).toFormat(this.isTwentyFour(c)?In.TWENTY_FOUR:In.TWELVE)}static isBetween(s,c,d,h="minutes"){const k="hours"===h?h:void 0;return this.isSameOrBefore(s,d,k)&&this.isSameOrAfter(s,c,k)}static isSameOrAfter(s,c,d="minutes"){return"hours"===d?s.hour>=c.hour:s.hasSame(c,d)||s.valueOf()>c.valueOf()}static isSameOrBefore(s,c,d="minutes"){return"hours"===d?s.hour<=c.hour:s.hasSame(c,d)||s.valueOf()<=c.valueOf()}static isTimeAvailable(s,c,d,h,k,w){if(!s)return;const G=this.parseTime(s,{format:w}),H=G.minute;if(k&&H==H&&H%k!=0)throw new Error(`Your minutes - ${H} doesn't match your minutesGap - ${k}`);const yt=c&&!d&&this.isSameOrAfter(G,c,h),Nt=d&&!c&&this.isSameOrBefore(G,d,h),Xt=c&&d&&this.isBetween(G,c,d,h);return yt||Nt||Xt||!c&&!d}static isTwentyFour(s){return 24===s}static parseTime(s,c){const d=this._getLocaleOptionsByTime(s,c);let h=In.TWENTY_FOUR_SHORT;return s.match(/\s/g)&&(s=s.replace(/\.\s*/g,""),h=In.TWELVE_SHORT),lt.fromFormat(s.replace(/\s+/g," "),h,{numberingSystem:d.numberingSystem,locale:d.locale})}static toLocaleTimeString(s,c={}){const{format:d=this.defaultFormat,locale:h=this.defaultLocale}=c;let k="h12",w=In.TWELVE_SHORT;return this.isTwentyFour(d)&&(k="h23",w=In.TWENTY_FOUR_SHORT),lt.fromFormat(s,w).reconfigure({locale:h,numberingSystem:c.numberingSystem,defaultToEN:c.defaultToEN,outputCalendar:c.outputCalendar}).toLocaleString({...lt.TIME_SIMPLE,hourCycle:k})}static _getLocaleOptionsByTime(s,c){const{numberingSystem:d,locale:h}=lt.now().reconfigure({locale:c.locale,numberingSystem:c.numberingSystem,outputCalendar:c.outputCalendar,defaultToEN:c.defaultToEN}).resolvedLocaleOptions();return isNaN(parseInt(s,10))?{numberingSystem:d,locale:h}:{numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}}}return m})();var $e=function(m){return m[m.HOUR=0]="HOUR",m[m.MINUTE=1]="MINUTE",m}($e||{});const yi=new n.nKC("NGX_MAT_TIMEPICKER_CONFIG"),Ji={time:12,angle:360},Ki={time:0,angle:360};let li=(()=>{class m{constructor(){this._hour$=new ri.t(Ji),this._minute$=new ri.t(Ki),this._period$=new ri.t(Fe.AM)}set hour(s){this._hour$.next(s)}set minute(s){this._minute$.next(s)}set period(s){(s===Fe.AM||s===Fe.PM)&&this._period$.next(s)}get selectedHour(){return this._hour$.asObservable()}get selectedMinute(){return this._minute$.asObservable()}get selectedPeriod(){return this._period$.asObservable()}getFullTime(s){const c=this._hour$.getValue().time,d=this._minute$.getValue().time,G=`${c??Ji.time}:${d??Ki.time} ${12===s?this._period$.getValue():""}`.trim();return ae.formatTime(G,{format:s})}setDefaultTimeIfAvailable(s,c,d,h,k){s||this._resetTime();try{ae.isTimeAvailable(s,c,d,"minutes",k)&&this._setDefaultTime(s,h)}catch(w){console.error(w)}}_resetTime(){this.hour={...Ji},this.minute={...Ki},this.period=Fe.AM}_setDefaultTime(s,c){const d=ae.parseTime(s,{format:c});if(d.isValid){const h=s.substring(s.length-2).toUpperCase(),k=d.hour;this.hour={...Ji,time:eo(k,h)},this.minute={...Ki,time:d.minute},this.period=h}else this._resetTime()}static#t=this.\u0275fac=function(c){return new(c||m)};static#e=this.\u0275prov=n.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();function eo(m,r){switch(r){case Fe.AM:return 0===m?12:m;case Fe.PM:return 12===m?12:m-12;default:return m}}let Qi=(()=>{class m{get backdropClick(){return this._backdropClick$.asObservable().pipe((0,xi.t)({bufferSize:1,refCount:!0}))}get keydownEvent(){return this._keydownEvent$.asObservable().pipe((0,xi.t)({bufferSize:1,refCount:!0}))}constructor(){this._backdropClick$=new Ci.B,this._keydownEvent$=new Ci.B}dispatchEvent(s){switch(s.type){case"click":this._backdropClick$.next(s);break;case"keydown":this._keydownEvent$.next(s);break;default:throw new Error("no such event type")}}static#t=this.\u0275fac=function(c){return new(c||m)};static#e=this.\u0275prov=n.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})();const no=new n.nKC("TimeLocale",{providedIn:"root",factory:()=>ae.defaultLocale});let fn=(()=>{class m{get locale(){return this._locale}constructor(s){this._locale=s}updateLocale(s){this._locale=s||this._initialLocale}static#t=this.\u0275fac=function(c){return new(c||m)(n.KVO(no))};static#e=this.\u0275prov=n.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})(),io=(()=>{class m{set color(s){this._color=s}get color(){return this._color}get defaultTime(){return this._defaultTime}set defaultTime(s){this._defaultTime=s,this._setDefaultTime(s)}get _locale(){return this._timepickerLocaleSrv.locale}constructor(s,c,d,h){this._timepickerSrv=s,this._eventSrv=c,this._timepickerLocaleSrv=d,this.data=h,this.activeTimeUnit=$e.HOUR,this.timeUnit=$e,this._color="primary",this._subsCtrl$=new Ci.B,this.color=h.color,this.defaultTime=h.defaultTime}changePeriod(s){this._timepickerSrv.period=s,this._onTimeChange()}changeTimeUnit(s){this.activeTimeUnit=s}close(){this.data.timepickerBaseRef.close()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._defineTime(),this.selectedHour=this._timepickerSrv.selectedHour.pipe((0,xi.t)({bufferSize:1,refCount:!0})),this.selectedMinute=this._timepickerSrv.selectedMinute.pipe((0,xi.t)({bufferSize:1,refCount:!0})),this.selectedPeriod=this._timepickerSrv.selectedPeriod.pipe((0,xi.t)({bufferSize:1,refCount:!0})),this.data.timepickerBaseRef.timeUpdated.pipe((0,fs.Q)(this._subsCtrl$)).subscribe({next:s=>{s&&this._setDefaultTime(s)}})}onHourChange(s){this._timepickerSrv.hour=s,this._onTimeChange()}onHourSelected(s){this.data.hoursOnly||this.changeTimeUnit($e.MINUTE),this.data.timepickerBaseRef.hourSelected.next(s)}onKeydown(s){this._eventSrv.dispatchEvent(s),s.stopPropagation()}onMinuteChange(s){this._timepickerSrv.minute=s,this._onTimeChange()}setTime(){this.data.timepickerBaseRef.timeSet.emit(this._timepickerSrv.getFullTime(this.data.format)),this.close()}_defineTime(){const s=this.data.minTime;if(s&&!this.data.time&&!this.data.defaultTime){const c=ae.fromDateTimeToString(s,this.data.format);this._setDefaultTime(c)}}_onTimeChange(){const s=ae.toLocaleTimeString(this._timepickerSrv.getFullTime(this.data.format),{locale:this._locale,format:this.data.format});this.data.timepickerBaseRef.timeChanged.emit(s)}_setDefaultTime(s){this._timepickerSrv.setDefaultTimeIfAvailable(s,this.data.minTime,this.data.maxTime,this.data.format,this.data.minutesGap)}static#t=this.\u0275fac=function(c){return new(c||m)(n.rXU(li),n.rXU(Qi),n.rXU(fn),n.rXU(yi))};static#e=this.\u0275dir=n.FsC({type:m,selectors:[["","ngxMatTimepickerBase",""]],hostBindings:function(c,d){1&c&&n.bIt("keydown",function(k){return d.onKeydown(k)})},inputs:{color:"color",defaultTime:"defaultTime"},standalone:!0})}return m})();class ke{static disableHours(r,s){return s.min||s.max?r.map(c=>{const d=ae.isTwentyFour(s.format)?c.time:ae.formatHour(c.time,s.format,s.period),h=lt.fromObject({hour:d}).toFormat(In.TWELVE);return{...c,disabled:!ae.isTimeAvailable(h,s.min,s.max,"hours")}}):r}static disableMinutes(r,s,c){if(c.min||c.max){const d=ae.formatHour(s,c.format,c.period);let h=lt.fromObject({hour:d,minute:0});return r.map(k=>(h=h.set({minute:k.time}),{...k,disabled:!ae.isTimeAvailable(h.toFormat(In.TWELVE),c.min,c.max,"minutes")}))}return r}static getHours(r){return Array(r).fill(1).map((s,c)=>{const h=s+c;return{time:24===h?0:h,angle:30*h}})}static getMinutes(r=1){const d=[];for(let h=0;h<60;h++){const k=6*h;h%r==0&&d.push({time:h,angle:0!==k?k:360})}return d}static isDigit(r){return!!([46,8,9,27,13].some(s=>s===r.keyCode)||65===r.keyCode&&(!0===r.ctrlKey||!0===r.metaKey)||67===r.keyCode&&(!0===r.ctrlKey||!0===r.metaKey)||88===r.keyCode&&(!0===r.ctrlKey||!0===r.metaKey)||r.keyCode>=35&&r.keyCode<=40)||!((r.keyCode<48||r.keyCode>57)&&(r.keyCode<96||r.keyCode>105))}}var ji=function(m){return m.hour="hour",m.minute="minute",m}(ji||{});let xs=(()=>{class m{get _locale(){return this._timepickerLocaleSrv.locale}constructor(s){this._timepickerLocaleSrv=s}transform(s,c,d=!1){if(null==s||""===s)return"";switch(c){case $e.HOUR:return this._formatTime(ji.hour,s,0===s||d?"HH":"H");case $e.MINUTE:return this._formatTime(ji.minute,s,"mm");default:throw new Error(`There is no Time Unit with type ${c}`)}}_formatTime(s,c,d){try{return lt.fromObject({[s]:+c}).setLocale(this._locale).toFormat(d)}catch{throw new Error(`Cannot format provided time - ${c} to locale - ${this._locale}`)}}static#t=this.\u0275fac=function(c){return new(c||m)(n.rXU(fn,16))};static#e=this.\u0275pipe=n.EJ8({name:"timeLocalizer",type:m,pure:!0,standalone:!0})}return m})(),qa=(()=>{class m{transform(s,c=5){return s&&(s%c==0?s:"")}static#t=this.\u0275fac=function(c){return new(c||m)};static#e=this.\u0275pipe=n.EJ8({name:"minutesFormatter",type:m,pure:!0,standalone:!0})}return m})(),tr=(()=>{class m{transform(s,c,d,h){return null!=s&&!h&&c===s&&s%(d||5)==0}static#t=this.\u0275fac=function(c){return new(c||m)};static#e=this.\u0275pipe=n.EJ8({name:"activeMinute",type:m,pure:!0,standalone:!0})}return m})(),er=(()=>{class m{transform(s,c,d){return null!=s&&!d&&s===c}static#t=this.\u0275fac=function(c){return new(c||m)};static#e=this.\u0275pipe=n.EJ8({name:"activeHour",type:m,pure:!0,standalone:!0})}return m})();const Zi_small_height="75px",Zi_small_top="calc(50% - 75px)",Zi_large_height="103px",Zi_large_top="calc(50% - 103px)";let qi=(()=>{class m{constructor(){this.color="primary",this.innerClockFaceSize=85,this.timeChange=new n.bkB,this.timeSelected=new n.bkB,this.timeUnit=$e}ngAfterViewInit(){this._setClockHandPosition(),this._addTouchEvents()}ngOnChanges(s){const c=s.faceTime,d=s.selectedTime;c&&c.currentValue&&d&&d.currentValue&&(this.selectedTime=this.faceTime.find(h=>h.time===this.selectedTime.time)),d&&d.currentValue&&this._setClockHandPosition(),c&&c.currentValue&&setTimeout(()=>this._selectAvailableTime())}ngOnDestroy(){this._removeTouchEvents()}onMousedown(s){s.preventDefault(),this._isStarted=!0}onMouseup(s){s.preventDefault(),this._isStarted=!1}selectTime(s){if(!this._isStarted&&s instanceof MouseEvent&&"click"!==s.type)return;const c=this.clockFace.nativeElement.getBoundingClientRect(),d=c.left+c.width/2,h=c.top+c.height/2,k=180*Math.atan(Math.abs(s.clientX-d)/Math.abs(s.clientY-h))/Math.PI,w=function ir(m,r,s,c,d){return c>r&&s>=m?180-d:c>r&&s<m?180+d:c<r&&s<m?360-d:d}(d,h,s.clientX,s.clientY,k),G=this.format&&this._isInnerClockFace(d,h,s.clientX,s.clientY),Nt=(function nr(m,r){return Math.round(m/r)*r}(w,this.unit===$e.MINUTE?6*(this.minutesGap||1):30)||360)+(G?360:0),Xt=this.faceTime.find($t=>$t.angle===Nt);Xt&&!Xt.disabled&&(this.timeChange.next(Xt),this._isStarted||this.timeSelected.next(Xt.time))}trackByTime(s,c){return c.time}_addTouchEvents(){this._touchStartHandler=this.onMousedown.bind(this),this._touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this._touchEndHandler)}_decreaseClockHand(){this.clockHand.nativeElement.style.height=Zi_small_height,this.clockHand.nativeElement.style.top=Zi_small_top}_increaseClockHand(){this.clockHand.nativeElement.style.height=Zi_large_height,this.clockHand.nativeElement.style.top=Zi_large_top}_isInnerClockFace(s,c,d,h){return Math.sqrt(Math.pow(d-s,2)+Math.pow(h-c,2))<this.innerClockFaceSize}_removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this._touchEndHandler)}_selectAvailableTime(){const s=this.faceTime.find(c=>this.selectedTime.time===c.time);if(this.isClockFaceDisabled=this.faceTime.every(c=>c.disabled),s&&s.disabled&&!this.isClockFaceDisabled){const c=this.faceTime.find(d=>!d.disabled);this.timeChange.next(c)}}_setClockHandPosition(){ae.isTwentyFour(this.format)&&(this.selectedTime.time>12||0===this.selectedTime.time?this._decreaseClockHand():this._increaseClockHand()),this.selectedTime&&(this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`)}static#t=this.\u0275fac=function(c){return new(c||m)};static#e=this.\u0275cmp=n.VBU({type:m,selectors:[["ngx-mat-timepicker-face"]],viewQuery:function(c,d){if(1&c&&(n.GBs(Wi,7),n.GBs(oa,7,n.aKT)),2&c){let h;n.mGM(h=n.lsd())&&(d.clockFace=h.first),n.mGM(h=n.lsd())&&(d.clockHand=h.first)}},hostBindings:function(c,d){1&c&&n.bIt("mousedown",function(k){return d.onMousedown(k)})("mouseup",function(k){return d.onMouseup(k)})("click",function(k){return d.selectTime(k)})("touchmove",function(k){return d.selectTime(k.changedTouches[0])})("touchend",function(k){return d.selectTime(k.changedTouches[0])})("mousemove",function(k){return d.selectTime(k)})},inputs:{color:"color",faceTime:"faceTime",format:"format",minutesGap:"minutesGap",selectedTime:"selectedTime",unit:"unit"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},standalone:!0,features:[n.OA$,n.aNF],ngContentSelectors:Zs,decls:11,vars:9,consts:[["hourButton",""],["minutesFace",""],[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"color","ngClass","hidden"],["clockHand",""],["mat-mini-fab","",3,"color",4,"ngIf"],[1,"clock-face__center",3,"color"],["mat-mini-fab","","disableRipple","",1,"mat-elevation-z0",3,"color","ngStyle","disabled"],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],["class","clock-face__inner",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"top","ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"],["mat-mini-fab","",3,"color"],[1,"clock-face__clock-hand_minute_dot"]],template:function(c,d){if(1&c&&(n.NAR(Zs),n.DNE(0,aa,4,13,"ng-template",null,0,n.C5r),n.DNE(2,la,2,2,"ng-template",null,1,n.C5r),n.j41(4,"div",2,3),n.DNE(6,Fn,4,7,"div",4),n.j41(7,"mat-toolbar",5,6),n.DNE(9,Hi,2,1,"button",7),n.k0s(),n.nrm(10,"mat-toolbar",8),n.k0s()),2&c){const h=n.sdS(3);n.R7$(6),n.Y8G("ngIf",d.unit!==d.timeUnit.MINUTE)("ngIfElse",h),n.R7$(1),n.Y8G("color",d.color)("ngClass",n.eq3(7,pa,d.unit===d.timeUnit.MINUTE))("hidden",d.isClockFaceDisabled),n.R7$(2),n.Y8G("ngIf",d.unit===d.timeUnit.MINUTE),n.R7$(1),n.Y8G("color",d.color)}},dependencies:[gn.Hl,gn.$0,Ht.B3,Ht.pM,Ht.bT,Ht.T3,Bn.s5,Bn.KQ,Ht.YU,Ht.P9,er,tr,qa,xs],styles:["ngx-mat-timepicker-face .clock-face{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;box-sizing:border-box;background-color:#c8c8c880!important}ngx-mat-timepicker-face .clock-face__inner{position:absolute;top:0;left:0;width:100%;height:100%}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void{box-shadow:none;background-color:transparent}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void>span.mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face .clock-face__container{margin-left:-2px}ngx-mat-timepicker-face .clock-face__number{position:absolute;transform-origin:25px 100%;width:50px;text-align:center;z-index:2;top:calc(50% - 125px);left:calc(50% - 25px)}ngx-mat-timepicker-face .clock-face__number--outer{height:125px}ngx-mat-timepicker-face .clock-face__number--outer>span{font-size:16px}ngx-mat-timepicker-face .clock-face__number--inner>span{font-size:14px}ngx-mat-timepicker-face .clock-face__clock-hand{height:103px;width:2px;padding:0;transform-origin:1px 100%;position:absolute;top:calc(50% - 103px);z-index:1}ngx-mat-timepicker-face .clock-face__center{width:8px;height:8px;padding:0;position:absolute;border-radius:50%;top:50%;left:50%;margin:-4px}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button{position:absolute;top:-22px;left:calc(50% - 20px);box-sizing:content-box;display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button .clock-face__clock-hand_minute_dot{display:block;width:4px;height:4px;background:#FFF;border-radius:50%}@media (max-device-width: 1023px) and (orientation: landscape){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}@media screen and (max-width: 360px){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}\n"],encapsulation:2,changeDetection:0})}return m})(),Ts=(()=>{class m{set color(s){this._color=s}get color(){return this._color}constructor(){this.minuteChange=new n.bkB,this.minutesList=[],this.timeUnit=$e,this._color="primary"}ngOnChanges(s){if(s.period&&s.period.currentValue){const c=ke.getMinutes(this.minutesGap);this.minutesList=ke.disableMinutes(c,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}static#t=this.\u0275fac=function(c){return new(c||m)};static#e=this.\u0275cmp=n.VBU({type:m,selectors:[["ngx-mat-timepicker-minutes-face"]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",minutesGap:"minutesGap",period:"period",selectedHour:"selectedHour",selectedMinute:"selectedMinute"},outputs:{minuteChange:"minuteChange"},standalone:!0,features:[n.OA$,n.aNF],decls:1,vars:5,consts:[[3,"color","faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(c,d){1&c&&(n.j41(0,"ngx-mat-timepicker-face",0),n.bIt("timeChange",function(k){return d.minuteChange.next(k)}),n.k0s()),2&c&&n.Y8G("color",d.color)("faceTime",d.minutesList)("selectedTime",d.selectedMinute)("minutesGap",d.minutesGap)("unit",d.timeUnit.MINUTE)},dependencies:[qi],encapsulation:2})}return m})(),so=(()=>{class m{set color(s){this._color=s}get color(){return this._color}set format(s){this._format=s,this.hoursList=ke.getHours(this._format)}get format(){return this._format}constructor(){this.hourChange=new n.bkB,this.hourSelected=new n.bkB,this.hoursList=[],this._color="primary",this._format=24}onTimeSelected(s){this.hourSelected.next(s)}static#t=this.\u0275fac=function(c){return new(c||m)};static#e=this.\u0275dir=n.FsC({type:m,selectors:[["","ngxMatTimepickerHoursFace",""]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",selectedHour:"selectedHour"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"},standalone:!0})}return m})(),Is=(()=>{class m extends so{constructor(){super(),this.format=12}ngOnChanges(s){s.period&&s.period.currentValue&&(this.hoursList=ke.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}static#t=this.\u0275fac=function(c){return new(c||m)};static#e=this.\u0275cmp=n.VBU({type:m,selectors:[["ngx-mat-timepicker-12-hours-face"]],inputs:{period:"period"},standalone:!0,features:[n.Vt3,n.OA$,n.aNF],decls:1,vars:3,consts:[[3,"color","selectedTime","faceTime","timeChange","timeSelected"]],template:function(c,d){1&c&&(n.j41(0,"ngx-mat-timepicker-face",0),n.bIt("timeChange",function(k){return d.hourChange.next(k)})("timeSelected",function(k){return d.onTimeSelected(k)}),n.k0s()),2&c&&n.Y8G("color",d.color)("selectedTime",d.selectedHour)("faceTime",d.hoursList)},dependencies:[qi],encapsulation:2,changeDetection:0})}return m})(),Ss=(()=>{class m extends so{constructor(){super(),this.format=24}ngAfterContentInit(){this.hoursList=ke.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}static#t=this.\u0275fac=function(c){return new(c||m)};static#e=this.\u0275cmp=n.VBU({type:m,selectors:[["ngx-mat-timepicker-24-hours-face"]],standalone:!0,features:[n.Vt3,n.aNF],decls:1,vars:4,consts:[[3,"color","selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(c,d){1&c&&(n.j41(0,"ngx-mat-timepicker-face",0),n.bIt("timeChange",function(k){return d.hourChange.next(k)})("timeSelected",function(k){return d.onTimeSelected(k)}),n.k0s()),2&c&&n.Y8G("color",d.color)("selectedTime",d.selectedHour)("faceTime",d.hoursList)("format",d.format)},dependencies:[qi],encapsulation:2,changeDetection:0})}return m})(),sr=(()=>{class m{constructor(s){this._overlay=s,this.isPeriodAvailable=!0,this.overlayScrollStrategy=this._overlay.scrollStrategies.reposition(),this.periodChanged=new n.bkB,this.timePeriod=Fe}animationDone(){this.isPeriodAvailable=!0}changePeriod(s){this.isPeriodAvailable=this._isSwitchPeriodAvailable(s),this.isPeriodAvailable&&this.periodChanged.next(s)}_getDisabledTimeByPeriod(s){switch(this.activeTimeUnit){case $e.HOUR:return ke.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:s});case $e.MINUTE:return ke.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:s});default:throw new Error("no such NgxMatTimepickerUnits")}}_isSwitchPeriodAvailable(s){return!this._getDisabledTimeByPeriod(s).every(d=>d.disabled)}static#t=this.\u0275fac=function(c){return new(c||m)(n.rXU(e.hJ))};static#e=this.\u0275cmp=n.VBU({type:m,selectors:[["ngx-mat-timepicker-period"]],inputs:{activeTimeUnit:"activeTimeUnit",format:"format",hours:"hours",maxTime:"maxTime",meridiems:"meridiems",minTime:"minTime",minutes:"minutes",selectedHour:"selectedHour",selectedPeriod:"selectedPeriod"},outputs:{periodChanged:"periodChanged"},standalone:!0,features:[n.aNF],decls:7,vars:12,consts:[["cdkOverlayOrigin","",1,"timepicker-period"],["eventPanelOrigin","cdkOverlayOrigin"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["cdkConnectedOverlay","","cdkConnectedOverlayPanelClass","todo-remove-pointer-events-if-necessary",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayPositionStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(c,d){if(1&c&&(n.j41(0,"div",0,1)(2,"button",2),n.bIt("click",function(){return d.changePeriod(d.timePeriod.AM)}),n.EFF(3),n.k0s(),n.j41(4,"button",2),n.bIt("click",function(){return d.changePeriod(d.timePeriod.PM)}),n.EFF(5),n.k0s()(),n.DNE(6,ha,1,1,"ng-template",3)),2&c){const h=n.sdS(1);n.R7$(2),n.Y8G("ngClass",n.eq3(8,Si,d.selectedPeriod===d.timePeriod.AM)),n.R7$(1),n.JRh(d.meridiems[0]),n.R7$(1),n.Y8G("ngClass",n.eq3(10,Si,d.selectedPeriod===d.timePeriod.PM)),n.R7$(1),n.JRh(d.meridiems[1]),n.R7$(1),n.Y8G("cdkConnectedOverlayScrollStrategy",d.overlayScrollStrategy)("cdkConnectedOverlayPositionStrategy",d.overlayPositionStrategy)("cdkConnectedOverlayOrigin",h)("cdkConnectedOverlayOpen",!d.isPeriodAvailable)}},dependencies:[e.$Q,Ht.YU,e.WB,Ht.bT],styles:[".timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{opacity:.5;padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;user-select:none;outline:none;border-radius:3px;transition:background-color .5s;color:inherit}.timepicker-period__btn.active[_ngcontent-%COMP%]{opacity:1}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:#00000012}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:#0000008c;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:700;color:#fff}"],data:{animation:[(0,hn.hZ)("scaleInOut",[(0,hn.kY)(":enter",[(0,hn.iF)({transform:"scale(0)"}),(0,hn.i0)(".2s",(0,hn.iF)({transform:"scale(1)"})),(0,hn.K2)([(0,hn.i0)("3s",(0,hn.iF)({opacity:1})),(0,hn.i0)(".3s",(0,hn.iF)({opacity:0}))])])])]}})}return m})(),ci=(()=>{class m{get _locale(){return this._timepickerLocaleSrv.locale}constructor(s){this._timepickerLocaleSrv=s,this._numberingSystem=lt.local().setLocale(this._locale).resolvedLocaleOptions().numberingSystem}transform(s,c=$e.HOUR){return null==s||""===s?"":isNaN(+s)?c===$e.MINUTE?this._parseTime(s,"mm",ji.minute).toString():this._parseTime(s,"HH",ji.hour).toString():`${s}`}_parseTime(s,c,d){const h=lt.fromFormat(String(s),c,{numberingSystem:this._numberingSystem})[d];if(!isNaN(h))return h;throw new Error(`Cannot parse time - ${s}`)}static#t=this.\u0275fac=function(c){return new(c||m)(n.rXU(fn,16))};static#e=this.\u0275pipe=n.EJ8({name:"ngxMatTimepickerParser",type:m,pure:!0,standalone:!0});static#n=this.\u0275prov=n.jDH({token:m,factory:m.\u0275fac})}return m})(),or=(()=>{class m{constructor(s,c){this._element=s,this._document=c,this._activeElement=this._document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this._element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this._activeElement.focus({preventScroll:!0}))}static#t=this.\u0275fac=function(c){return new(c||m)(n.rXU(n.aKT),n.rXU(Ht.qQ,8))};static#e=this.\u0275dir=n.FsC({type:m,selectors:[["","ngxMatTimepickerAutofocus",""]],inputs:{isFocusActive:["ngxMatTimepickerAutofocus","isFocusActive"]},standalone:!0,features:[n.OA$]})}return m})();function oo(){this.selectionStart=this.selectionEnd}let ys=(()=>{class m{get _selectedTime(){if(this.time)return this.timeList.find(s=>s.time===+this.time)}constructor(s,c){this._elRef=s,this._timeParserPipe=c,this.focused=new n.bkB,this.timeChanged=new n.bkB,this.timeUnitChanged=new n.bkB,this.unfocused=new n.bkB}changeTimeByKeyboard(s){const c=String.fromCharCode(s.keyCode);(function ar(m,r,s){if(/\d/.test(r))return ao(m+r,s)})(this.time,c,this.timeList)&&s.preventDefault()}ngAfterViewInit(){this._elRef.nativeElement.querySelector("input").addEventListener("select",oo,!1)}ngOnDestroy(){this._elRef.nativeElement.querySelector("input").removeEventListener("select",oo)}onKeydown(s){ke.isDigit(s)?this._changeTimeByArrow(s.keyCode):s.preventDefault()}onModelChange(s){this.time=this._timeParserPipe.transform(s,this.timeUnit)}saveTimeAndChangeTimeUnit(s,c){s.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(c),this.focused.next()}updateTime(){this._selectedTime&&(this.timeChanged.next(this._selectedTime),this.previousTime=this._selectedTime.time)}_addTime(s){return`0${+this.time+s}`.substr(-2)}_changeTimeByArrow(s){let c;38===s?c=this._addTime(this.minutesGap||1):40===s&&(c=this._addTime(-1*(this.minutesGap||1))),ao(c,this.timeList)||(this.time=c,this.updateTime())}static#t=this.\u0275fac=function(c){return new(c||m)(n.rXU(n.aKT),n.rXU(ci))};static#e=this.\u0275cmp=n.VBU({type:m,selectors:[["ngx-mat-timepicker-dial-control"]],inputs:{disabled:"disabled",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{focused:"focused",timeChanged:"timeChanged",timeUnitChanged:"timeUnitChanged",unfocused:"unfocused"},standalone:!0,features:[n.Jv_([ci]),n.aNF],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus","keydown","keypress"]],template:function(c,d){if(1&c&&(n.DNE(0,fa,2,10,"input",0),n.DNE(1,ba,3,13,"ng-template",null,1,n.C5r)),2&c){const h=n.sdS(2);n.Y8G("ngIf",!d.isEditable)("ngIfElse",h)}},dependencies:[Ht.bT,Pe.YN,Pe.me,Pe.BC,Pe.vS,Ht.YU,or,ci,xs],styles:[".timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:center;color:inherit}.timepicker-dial__control[_ngcontent-%COMP%]:focus{outline:none;background-color:#0000001a}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]})}return m})();function ao(m,r){const s=r.find(c=>c.time===+m);return!s||s&&s.disabled}let Os,js=(()=>{class m{set color(s){this._color=s}get color(){return this._color}get hourString(){return`${this.hour}`}get minuteString(){return`${this.minute}`}get _locale(){return this._localeSrv.locale}constructor(s){this._localeSrv=s,this.hourChanged=new n.bkB,this.meridiems=ki.meridiems({locale:this._locale}),this.minuteChanged=new n.bkB,this.periodChanged=new n.bkB,this.timeUnit=$e,this.timeUnitChanged=new n.bkB,this._color="primary"}changeHour(s){this.hourChanged.next(s)}changeMinute(s){this.minuteChanged.next(s)}changePeriod(s){this.periodChanged.next(s)}changeTimeUnit(s){this.timeUnitChanged.next(s)}hideHint(){this.isHintVisible=!1}ngOnChanges(s){const c=s.period&&s.period.currentValue;if(c||s.format&&s.format.currentValue){const d=ke.getHours(this.format);this.hours=ke.disableHours(d,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(c||s.hour&&s.hour.currentValue){const d=ke.getMinutes(this.minutesGap);this.minutes=ke.disableMinutes(d,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}showHint(){this.isHintVisible=!0}static#t=this.\u0275fac=function(c){return new(c||m)(n.rXU(fn))};static#e=this.\u0275cmp=n.VBU({type:m,selectors:[["ngx-mat-timepicker-dial"]],inputs:{activeTimeUnit:"activeTimeUnit",color:"color",editableHintTmpl:"editableHintTmpl",format:"format",hour:"hour",hoursOnly:"hoursOnly",isEditable:"isEditable",maxTime:"maxTime",minTime:"minTime",minute:"minute",minutesGap:"minutesGap",period:"period"},outputs:{hourChanged:"hourChanged",minuteChanged:"minuteChanged",periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged"},standalone:!0,features:[n.OA$,n.aNF],decls:9,vars:14,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],["class","timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(c,d){1&c&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-mat-timepicker-dial-control",3),n.bIt("timeUnitChanged",function(k){return d.changeTimeUnit(k)})("timeChanged",function(k){return d.changeHour(k)})("focused",function(){return d.showHint()})("unfocused",function(){return d.hideHint()}),n.k0s(),n.j41(4,"span"),n.EFF(5,":"),n.k0s(),n.j41(6,"ngx-mat-timepicker-dial-control",4),n.bIt("timeUnitChanged",function(k){return d.changeTimeUnit(k)})("timeChanged",function(k){return d.changeMinute(k)})("focused",function(){return d.showHint()})("unfocused",function(){return d.hideHint()}),n.k0s()(),n.DNE(7,va,1,9,"ngx-mat-timepicker-period",5),n.k0s(),n.DNE(8,Ta,4,4,"div",6),n.k0s()),2&c&&(n.R7$(3),n.Y8G("timeList",d.hours)("time",d.hourString)("timeUnit",d.timeUnit.HOUR)("isActive",d.activeTimeUnit===d.timeUnit.HOUR)("isEditable",d.isEditable),n.R7$(3),n.Y8G("timeList",d.minutes)("time",d.minuteString)("timeUnit",d.timeUnit.MINUTE)("isActive",d.activeTimeUnit===d.timeUnit.MINUTE)("isEditable",d.isEditable)("minutesGap",d.minutesGap)("disabled",d.hoursOnly),n.R7$(1),n.Y8G("ngIf",24!==d.format),n.R7$(1),n.Y8G("ngIf",d.isEditable||d.editableHintTmpl))},dependencies:[ys,Ht.bT,sr,Ht.YU,Ht.T3],styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:center}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0})}return m})(),ts=(()=>{class m{static#t=this.\u0275fac=function(c){return new(c||m)};static#e=this.\u0275cmp=n.VBU({type:m,selectors:[["ngx-mat-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},standalone:!0,features:[n.aNF],ngContentSelectors:Ea,decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[4,"ngTemplateOutlet"]],template:function(c,d){if(1&c&&(n.NAR(),n.DNE(0,Sa,2,1,"div",0),n.DNE(1,ja,1,1,"ng-template",null,1,n.C5r),n.DNE(3,Oa,1,0,"ng-template",null,2,n.C5r)),2&c){const h=n.sdS(2);n.Y8G("ngIf",d.appendToInput)("ngIfElse",h)}},dependencies:[Ht.bT,Ht.T3],encapsulation:2})}return m})(),ro=(()=>{class m extends io{constructor(s,c,d,h,k){super(d,h,k,s),this.data=s,this._dialogRef=c}close(){this._dialogRef.close()}static#t=this.\u0275fac=function(c){return new(c||m)(n.rXU(Yn.Vh),n.rXU(Yn.CP),n.rXU(li),n.rXU(Qi),n.rXU(fn))};static#e=this.\u0275cmp=n.VBU({type:m,selectors:[["ngx-mat-timepicker-dialog"]],standalone:!0,features:[n.Vt3,n.aNF],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["mat-dialog-content",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],["mat-dialog-actions",""],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(c,d){if(1&c&&(n.DNE(0,wa,2,1,"ng-template",null,0,n.C5r),n.DNE(2,qs,2,1,"ng-template",null,1,n.C5r),n.j41(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),n.bIt("periodChanged",function(k){return d.changePeriod(k)})("timeUnitChanged",function(k){return d.changeTimeUnit(k)})("hourChanged",function(k){return d.onHourChange(k)})("minuteChanged",function(k){return d.onMinuteChange(k)}),n.nI1(9,"async"),n.nI1(10,"async"),n.nI1(11,"async"),n.k0s()(),n.j41(12,"div",7)(13,"div",8),n.DNE(14,to,4,2,"div",9),n.DNE(15,Ma,4,14,"ngx-mat-timepicker-minutes-face",10),n.k0s()()()()(),n.j41(16,"div",11)(17,"div",12),n.bIt("click",function(){return d.close()}),n.DNE(18,Da,1,0,"ng-container",13),n.k0s(),n.j41(19,"div",12),n.bIt("click",function(){return d.setTime()}),n.DNE(20,Ga,1,0,"ng-container",13),n.k0s()()),2&c){const h=n.sdS(1),k=n.sdS(3);let w,G;n.R7$(5),n.Y8G("appendToInput",d.data.appendToInput)("inputElement",d.data.inputElement),n.R7$(1),n.Y8G("ngClass",d.data.timepickerClass),n.R7$(1),n.AVh("is-editable",d.data.enableKeyboardInput),n.Y8G("color",d.color),n.R7$(1),n.Y8G("color",d.color)("format",d.data.format)("hour",null==(w=n.bMT(9,23,d.selectedHour))?null:w.time)("minute",null==(G=n.bMT(10,25,d.selectedMinute))?null:G.time)("period",n.bMT(11,27,d.selectedPeriod))("activeTimeUnit",d.activeTimeUnit)("minTime",d.data.minTime)("maxTime",d.data.maxTime)("isEditable",d.data.enableKeyboardInput)("editableHintTmpl",d.data.editableHintTmpl)("minutesGap",d.data.minutesGap)("hoursOnly",d.data.hoursOnly),n.R7$(5),n.Y8G("ngSwitch",d.activeTimeUnit),n.R7$(1),n.Y8G("ngSwitchCase",d.timeUnit.HOUR),n.R7$(1),n.Y8G("ngSwitchCase",d.timeUnit.MINUTE),n.R7$(3),n.Y8G("ngTemplateOutlet",d.data.cancelBtnTmpl?d.data.cancelBtnTmpl:h),n.R7$(2),n.Y8G("ngTemplateOutlet",d.data.confirmBtnTmpl?d.data.confirmBtnTmpl:k)}},dependencies:[Ht.Jj,Ht.YU,Ht.bT,Ht.ux,Ht.e1,Ht.T3,gn.Hl,gn.$z,Yn.hM,Yn.Yi,Yn.E7,Bn.s5,Bn.KQ,ts,js,Ss,Is,Ts],styles:["div.ngx-mat-timepicker-dialog>mat-dialog-container{padding-top:0}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content]{padding:0;max-height:85vh}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header.is-editable{height:auto}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] .clock-face{margin:16px}div.ngx-mat-timepicker-dialog>mat-dialog-container div[mat-dialog-actions]{justify-content:flex-end;display:flex}\n"],encapsulation:2})}return m})(),lo=(()=>{class m extends io{constructor(s,c,d,h){super(c,d,h,s),this.data=s}close(){this.data.timepickerBaseRef.close()}static#t=this.\u0275fac=function(c){return new(c||m)(n.rXU(yi),n.rXU(li),n.rXU(Qi),n.rXU(fn))};static#e=this.\u0275cmp=n.VBU({type:m,selectors:[["ngx-mat-timepicker-standalone"]],hostVars:2,hostBindings:function(c,d){2&c&&n.AVh("mat-app-background",!0)},standalone:!0,features:[n.Vt3,n.aNF],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["cdkTrapFocus",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"ngx-mat-timepicker-standalone-actions"],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(c,d){if(1&c&&(n.DNE(0,Na,2,1,"ng-template",null,0,n.C5r),n.DNE(2,$a,2,1,"ng-template",null,1,n.C5r),n.j41(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),n.bIt("periodChanged",function(k){return d.changePeriod(k)})("timeUnitChanged",function(k){return d.changeTimeUnit(k)})("hourChanged",function(k){return d.onHourChange(k)})("minuteChanged",function(k){return d.onMinuteChange(k)}),n.nI1(9,"async"),n.nI1(10,"async"),n.nI1(11,"async"),n.k0s()(),n.j41(12,"div",7)(13,"div",8),n.DNE(14,Aa,4,2,"div",9),n.DNE(15,La,4,14,"ngx-mat-timepicker-minutes-face",10),n.k0s()()()(),n.j41(16,"div",11)(17,"div",12),n.bIt("click",function(){return d.close()}),n.DNE(18,Ya,1,0,"ng-container",13),n.k0s(),n.j41(19,"div",12),n.bIt("click",function(){return d.setTime()}),n.DNE(20,Ba,1,0,"ng-container",13),n.k0s()()()),2&c){const h=n.sdS(1),k=n.sdS(3);let w,G;n.R7$(5),n.Y8G("appendToInput",d.data.appendToInput)("inputElement",d.data.inputElement),n.R7$(1),n.Y8G("ngClass",d.data.timepickerClass),n.R7$(1),n.AVh("is-editable",d.data.enableKeyboardInput),n.Y8G("color",d.color),n.R7$(1),n.Y8G("color",d.color)("format",d.data.format)("hour",null==(w=n.bMT(9,23,d.selectedHour))?null:w.time)("minute",null==(G=n.bMT(10,25,d.selectedMinute))?null:G.time)("period",n.bMT(11,27,d.selectedPeriod))("activeTimeUnit",d.activeTimeUnit)("minTime",d.data.minTime)("maxTime",d.data.maxTime)("isEditable",d.data.enableKeyboardInput)("editableHintTmpl",d.data.editableHintTmpl)("minutesGap",d.data.minutesGap)("hoursOnly",d.data.hoursOnly),n.R7$(5),n.Y8G("ngSwitch",d.activeTimeUnit),n.R7$(1),n.Y8G("ngSwitchCase",d.timeUnit.HOUR),n.R7$(1),n.Y8G("ngSwitchCase",d.timeUnit.MINUTE),n.R7$(3),n.Y8G("ngTemplateOutlet",d.data.cancelBtnTmpl?d.data.cancelBtnTmpl:h),n.R7$(2),n.Y8G("ngTemplateOutlet",d.data.confirmBtnTmpl?d.data.confirmBtnTmpl:k)}},dependencies:[gn.Hl,gn.$z,bs.Pd,bs.kB,ts,Ht.YU,Bn.s5,Bn.KQ,js,Ht.ux,Ht.e1,Ht.bT,Ss,Is,Ts,Ht.T3,Ht.Jj],styles:["ngx-mat-timepicker-standalone{display:block;border-radius:4px;box-shadow:0 0 5px 2px #00000040;overflow:hidden}ngx-mat-timepicker-standalone ngx-mat-timepicker-content{display:block}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header.is-editable{height:auto}ngx-mat-timepicker-standalone ngx-mat-timepicker-content .clock-face{margin:16px}ngx-mat-timepicker-standalone .ngx-mat-timepicker-standalone-actions{display:flex;flex-direction:row;justify-content:flex-end;padding:0 16px 16px}\n"],encapsulation:2})}return m})(),dn=(()=>{class m{static#t=this.nextId=0;set appendToInput(s){this._appendToInput=(0,j.he)(s)}set color(s){this._color=s}get color(){return this._color}get disabled(){return this._timepickerInput&&this._timepickerInput.disabled}set enableKeyboardInput(s){this._enableKeyboardInput=(0,j.he)(s)}get enableKeyboardInput(){return this._enableKeyboardInput}get format(){return this._timepickerInput?this._timepickerInput.format:this._format}set format(s){this._format=ae.isTwentyFour(s)?24:12}get inputElement(){return this._timepickerInput&&this._timepickerInput.element}get maxTime(){return this._timepickerInput?this._timepickerInput.max:this.max}get minTime(){return this._timepickerInput?this._timepickerInput.min:this.min}get minutesGap(){return this._minutesGap}set minutesGap(s){null!=s&&(s=Math.floor(s),this._minutesGap=s<=59?s:1)}get overlayOrigin(){return this._timepickerInput?this._timepickerInput.cdkOverlayOrigin:void 0}get time(){return this._timepickerInput&&this._timepickerInput.value}constructor(s,c,d){this._eventService=s,this._dialog=c,this._overlay=d,this.closed=new n.bkB,this.hourSelected=new n.bkB,this.hoursOnly=!1,this.id="ngx_mat_timepicker_"+ ++m.nextId,this.isEsc=!0,this.opened=new n.bkB,this.overlayPositions=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:0},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:0}],this.showPicker=!1,this.timeChanged=new n.bkB,this.timeSet=new n.bkB,this.timeUpdated=new ri.t(void 0),this._appendToInput=!1,this._color="primary",this._enableKeyboardInput=!1,this._format=12}close(){this._appendToInput?this._overlayRef&&this._overlayRef.dispose():this._dialogRef&&this._dialogRef.close(),this.inputElement.focus(),this.showPicker=!1,this.closed.emit()}open(){Os={timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this._appendToInput,hoursOnly:this.hoursOnly,timepickerClass:this.timepickerClass,inputElement:this.inputElement,color:this.color},this._appendToInput?this.showPicker=!0:(this._dialogRef=this._dialog.open(ro,{panelClass:"ngx-mat-timepicker-dialog",data:{...Os}}),this._dialogRef.afterClosed().subscribe(()=>{this.closed.emit()})),this.opened.emit()}registerInput(s){if(this._timepickerInput)throw console.warn("Input for this timepicker was already set",s.element),Error("A Timepicker can only be associated with a single input.");this._timepickerInput=s}unregisterInput(){this._timepickerInput=void 0}updateTime(s){this.timeUpdated.next(s)}static#e=this.\u0275fac=function(c){return new(c||m)(n.rXU(Qi),n.rXU(Yn.bZ),n.rXU(e.hJ))};static#n=this.\u0275cmp=n.VBU({type:m,selectors:[["ngx-mat-timepicker"]],hostVars:1,hostBindings:function(c,d){2&c&&n.Mr5("id",d.id)},inputs:{appendToInput:"appendToInput",color:"color",enableKeyboardInput:"enableKeyboardInput",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",defaultTime:"defaultTime",disableAnimation:"disableAnimation",editableHintTmpl:"editableHintTmpl",hoursOnly:"hoursOnly",isEsc:"isEsc",max:"max",min:"min",preventOverlayClick:"preventOverlayClick",timepickerClass:"timepickerClass"},outputs:{closed:"closed",hourSelected:"hourSelected",opened:"opened",timeChanged:"timeChanged",timeSet:"timeSet"},standalone:!0,features:[n.Jv_([{provide:yi,useFactory:()=>Os}]),n.aNF],decls:1,vars:4,consts:[["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","backdropClick"]],template:function(c,d){1&c&&(n.DNE(0,Va,1,0,"ng-template",0),n.bIt("backdropClick",function(){return d.close()})),2&c&&n.Y8G("cdkConnectedOverlayPositions",d.overlayPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayOrigin",d.overlayOrigin)("cdkConnectedOverlayOpen",d.showPicker)},dependencies:[e.WB,lo],encapsulation:2})}return m})(),co=(()=>{class m{static#t=this.\u0275fac=function(c){return new(c||m)};static#e=this.\u0275dir=n.FsC({type:m,selectors:[["","ngxMatTimepickerToggleIcon",""]],standalone:!0})}return m})(),mo=(()=>{class m{get disabled(){return void 0===this._disabled?this.timepicker?.disabled:this._disabled}set disabled(s){this._disabled=s}open(s){this.timepicker&&(this.timepicker.open(),s.stopPropagation())}static#t=this.\u0275fac=function(c){return new(c||m)};static#e=this.\u0275cmp=n.VBU({type:m,selectors:[["ngx-mat-timepicker-toggle"]],contentQueries:function(c,d,h){if(1&c&&n.wni(h,co,7),2&c){let k;n.mGM(k=n.lsd())&&(d.customIcon=k.first)}},inputs:{disabled:"disabled",timepicker:["for","timepicker"]},standalone:!0,features:[n.aNF],ngContentSelectors:Mn,decls:3,vars:2,consts:[["color","","mat-icon-button","","type","button",1,"ngx-mat-timepicker-toggle","mat-elevation-z0",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","class","ngx-mat-timepicker-toggle-default-icon","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",1,"ngx-mat-timepicker-toggle-default-icon"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(c,d){1&c&&(n.NAR(Xa),n.j41(0,"button",0),n.bIt("click",function(k){return d.open(k)}),n.DNE(1,Ua,2,0,"svg",1),n.SdG(2),n.k0s()),2&c&&(n.Y8G("disabled",d.disabled),n.R7$(1),n.Y8G("ngIf",!d.customIcon))},dependencies:[gn.Hl,gn.iY,Ht.bT],styles:["button.ngx-mat-timepicker-toggle{background-color:transparent;text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer;box-shadow:none}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{margin:auto}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}body .ngx-mat-timepicker-toggle{color:#0000008a}\n"],encapsulation:2})}return m})(),_o=(()=>{class m{static#t=this.nextId=0;set color(s){this._color=s}get color(){return this._color}set floatLabel(s){this._floatLabel=s}get floatLabel(){return this._floatLabel}constructor(s){this._timeParser=s,this.id=m.nextId++,this.timeChanged=new n.bkB,this._color="primary",this._floatLabel="auto"}changeTime(s){s.stopPropagation();const c=s.data,d=function rr(m,r){if(/\d/.test(r))return+(m+r)}(String(this.time),c);this._changeTimeIfValid(d)}decrease(){if(!this.disabled){let s=+this.time-1;s<this.min&&(s=this.max),this._isSelectedTimeDisabled(s)&&(s=this._getAvailableTime(s,this._getPrevAvailableTime.bind(this))),s!==this.time&&this.timeChanged.emit(s)}}increase(){if(!this.disabled){let s=+this.time+1;s>this.max&&(s=this.min),this._isSelectedTimeDisabled(s)&&(s=this._getAvailableTime(s,this._getNextAvailableTime.bind(this))),s!==this.time&&this.timeChanged.emit(s)}}ngOnChanges(s){s.timeList&&null!=this.time&&this._isSelectedTimeDisabled(this.time)&&this._setAvailableTime()}onBlur(){this.isFocused=!1,this._previousTime!==this.time&&this._changeTimeIfValid(+this.time)}onFocus(){this.isFocused=!0,this._previousTime=this.time}onKeydown(s){switch(s.stopPropagation(),ke.isDigit(s)||s.preventDefault(),s.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==s.key&&s.preventDefault()}onModelChange(s){this.time=+this._timeParser.transform(s,this.timeUnit)}_changeTimeIfValid(s){if(!isNaN(s)){if(this.time=s,this.time>this.max){const c=String(s);this.time=+c[c.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}_getAvailableTime(s,c){return c(this.timeList.findIndex(k=>k.time===s))??this.time}_getNextAvailableTime(s){const c=this.timeList,d=c.length;for(let h=s+1;h<d;h++){const k=c[h];if(!k.disabled)return k.time}}_getPrevAvailableTime(s){for(let c=s;c>=0;c--){const d=this.timeList[c];if(!d.disabled)return d.time}}_isSelectedTimeDisabled(s){return this.timeList.find(c=>c.time===s).disabled}_setAvailableTime(){this.time=this.timeList.find(s=>!s.disabled).time,this.timeChanged.emit(this.time)}static#e=this.\u0275fac=function(c){return new(c||m)(n.rXU(ci))};static#n=this.\u0275cmp=n.VBU({type:m,selectors:[["ngx-mat-timepicker-time-control"]],inputs:{color:"color",disabled:"disabled",floatLabel:"floatLabel",max:"max",min:"min",placeholder:"placeholder",preventTyping:"preventTyping",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[n.Jv_([ci]),n.OA$,n.aNF],decls:13,vars:17,consts:[[1,"ngx-mat-timepicker-control",3,"color","floatLabel","ngClass"],["matInput","","maxlength","2",3,"id","name","ngModel","placeholder","disabled","ngModelChange","keydown","beforeinput","focus","blur"],["matSuffix","",1,"arrows-wrap"],["role","button",1,"arrow",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","18","viewBox","0 0 24 24","width","18"],["d","M0 0h24v24H0z","fill","none"],["d","M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"],["d","M0 0h24v24H0V0z","fill","none"],["d","M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"]],template:function(c,d){1&c&&(n.j41(0,"mat-form-field",0)(1,"input",1),n.bIt("ngModelChange",function(k){return d.onModelChange(k)})("keydown",function(k){return d.onKeydown(k)})("beforeinput",function(k){return d.changeTime(k)})("focus",function(){return d.onFocus()})("blur",function(){return d.onBlur()}),n.nI1(2,"timeLocalizer"),n.nI1(3,"ngxMatTimepickerParser"),n.k0s(),n.j41(4,"div",2)(5,"span",3),n.bIt("click",function(){return d.increase()}),n.qSk(),n.j41(6,"svg",4),n.nrm(7,"path",5)(8,"path",6),n.k0s()(),n.joV(),n.j41(9,"span",3),n.bIt("click",function(){return d.decrease()}),n.qSk(),n.j41(10,"svg",4),n.nrm(11,"path",7)(12,"path",8),n.k0s()()()()),2&c&&(n.Y8G("color",d.color)("floatLabel",d.floatLabel)("ngClass",n.eq3(15,Si,d.isFocused)),n.R7$(1),n.Mz_("id","ngx_mat_timepicker_field_",d.id,"")("name","ngx_mat_timepicker_field_",d.id,""),n.Y8G("ngModel",n.brH(2,8,n.i5U(3,12,d.time,d.timeUnit),d.timeUnit,!0))("placeholder",d.placeholder)("disabled",d.disabled))},dependencies:[Vn.RG,Vn.rl,Vn.yw,Ht.YU,Cs.fS,Cs.fg,Pe.YN,Pe.me,Pe.BC,Pe.tU,Pe.vS,ci,xs],styles:[".ngx-mat-timepicker-control[_ngcontent-%COMP%]{width:60px;min-width:60px}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%]{position:relative;z-index:1}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{text-align:center;opacity:.5;height:15px;cursor:pointer;transition:opacity .2s;-webkit-user-select:none;user-select:none}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0})}return m})(),lr=(()=>{class m{get color(){return this._color}set color(s){this._color=s}get defaultTime(){return this._defaultTime}set defaultTime(s){this._defaultTime=s,this._isDefaultTime=!!s}get floatLabel(){return this._floatLabel}set floatLabel(s){this._floatLabel=s}get format(){return this._format}set format(s){ae.isTwentyFour(s)?(this._format=24,this.minHour=0,this.maxHour=23):(this._format=12,this.minHour=1,this.maxHour=12),this.hoursList=ke.getHours(this._format),s&&this._previousFormat&&this._previousFormat!==this._format&&this._updateTime(this.timepickerTime),this._previousFormat=this._format}get max(){return this._max}set max(s){this._max="string"!=typeof s?s:ae.parseTime(s,{locale:this._locale,format:this.format})}get min(){return this._min}set min(s){this._min="string"!=typeof s?s:ae.parseTime(s,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(s,c){this._timepickerService=s,this._timepickerLocaleSrv=c,this.hour$=new ri.t(void 0),this.maxHour=12,this.minHour=1,this.minute$=new ri.t(void 0),this.period=Fe.AM,this.periods=[Fe.AM,Fe.PM],this.timeChanged=new n.bkB,this.timeUnit=$e,this._color="primary",this._floatLabel="auto",this._format=12,this._isFirstTimeChange=!0,this._subsCtrl$=new Ci.B,this._onChange=()=>{},this._onTouched=()=>{}}changeHour(s){this._timepickerService.hour=this.hoursList.find(c=>c.time===s),this._changeTime()}changeMinute(s){this._timepickerService.minute=this.minutesList.find(c=>c.time===s),this._changeTime()}changePeriod(s){this._timepickerService.period=s.value,this._changeTime()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._initTime(this.defaultTime),this.hoursList=ke.getHours(this._format),this.minutesList=ke.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this._timepickerService.selectedHour.pipe((0,Ti.M)(s=>this._selectedHour=s?.time),(0,Js.T)(this._changeDefaultTimeValue.bind(this)),(0,Ti.M)(()=>this.isTimeRangeSet&&this._updateAvailableMinutes())).subscribe({next:s=>this.hour$.next(s)}),this._timepickerService.selectedMinute.pipe((0,Js.T)(this._changeDefaultTimeValue.bind(this)),(0,Ti.M)(()=>this._isFirstTimeChange=!1)).subscribe({next:s=>this.minute$.next(s)}),12===this.format&&this._timepickerService.selectedPeriod.pipe((0,ia.F)(),(0,Ti.M)(s=>this.period=s),(0,Ti.M)(s=>this.isChangePeriodDisabled=this._isPeriodDisabled(s)),(0,fs.Q)(this._subsCtrl$)).subscribe(()=>this.isTimeRangeSet&&this._updateAvailableTime())}onTimeSet(s){this._updateTime(s),this._emitLocalTimeChange(s)}registerOnChange(s){this._onChange=s}registerOnTouched(s){this._onTouched=s}setDisabledState(s){this.disabled=s}writeValue(s){s?this._initTime(s):this._resetTime()}_changeDefaultTimeValue(s){return!this._isDefaultTime&&this._isFirstTimeChange?{...s,time:null}:s}_changeTime(){if(!isNaN(this.hour$.getValue()?.time)&&!isNaN(this.minute$.getValue()?.time)){const s=this._timepickerService.getFullTime(this.format);this.timepickerTime=s,this._emitLocalTimeChange(s)}}_emitLocalTimeChange(s){const c=ae.toLocaleTimeString(s,{format:this.format,locale:this._locale});this._onChange(c),this._onTouched(c),this.timeChanged.emit(c)}_initTime(s){if(!ae.isTimeAvailable(s,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this._updateTime(ae.fromDateTimeToString(this.min,this.format));if(this.max)return void this._updateTime(ae.fromDateTimeToString(this.max,this.format))}this._updateTime(s)}_isPeriodDisabled(s){return ke.disableHours(ke.getHours(12),{min:this.min,max:this.max,format:12,period:s===Fe.AM?Fe.PM:Fe.AM}).every(c=>c.disabled)}_resetTime(){this._timepickerService.hour={angle:0,time:null},this._timepickerService.minute={angle:0,time:null}}_updateAvailableHours(){this.hoursList=ke.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableMinutes(){this.minutesList=ke.disableMinutes(this.minutesList,this._selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableTime(){this._updateAvailableHours(),this._selectedHour&&this._updateAvailableMinutes()}_updateTime(s){if(s){const c=ae.formatTime(s,{locale:this._locale,format:this.format});this._timepickerService.setDefaultTimeIfAvailable(c,this.min,this.max,this.format),this.timepickerTime=c}}static#t=this.\u0275fac=function(c){return new(c||m)(n.rXU(li),n.rXU(fn))};static#e=this.\u0275cmp=n.VBU({type:m,selectors:[["ngx-mat-timepicker-field"]],inputs:{color:"color",defaultTime:"defaultTime",floatLabel:"floatLabel",format:"format",max:"max",min:"min",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",controlOnly:"controlOnly",disabled:"disabled",toggleIcon:"toggleIcon"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[n.Jv_([li,{provide:Pe.kq,useExisting:m,multi:!0}]),n.aNF],decls:11,vars:32,consts:[[1,"ngx-mat-timepicker",3,"ngClass"],[1,"ngx-mat-timepicker__control--first",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],[1,"separator-colon","ngx-mat-timepicker__control--second"],[1,"ngx-mat-timepicker__control--third",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],["class","period-select ngx-mat-timepicker__control--forth",3,"color",4,"ngIf"],["class","ngx-mat-timepicker__toggle",3,"for","disabled",4,"ngIf"],[3,"color","min","max","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl","timeSet"],["timepicker",""],["defaultIcon",""],[1,"period-select","ngx-mat-timepicker__control--forth",3,"color"],[3,"disabled","ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ngx-mat-timepicker__toggle",3,"for","disabled"],["ngxMatTimepickerToggleIcon",""],[4,"ngTemplateOutlet"]],template:function(c,d){if(1&c&&(n.j41(0,"div",0)(1,"ngx-mat-timepicker-time-control",1),n.bIt("timeChanged",function(k){return d.changeHour(k)}),n.k0s(),n.j41(2,"span",2),n.EFF(3,":"),n.k0s(),n.j41(4,"ngx-mat-timepicker-time-control",3),n.bIt("timeChanged",function(k){return d.changeMinute(k)}),n.k0s(),n.DNE(5,Ha,3,4,"mat-form-field",4),n.DNE(6,Ka,3,3,"ngx-mat-timepicker-toggle",5),n.k0s(),n.j41(7,"ngx-mat-timepicker",6,7),n.bIt("timeSet",function(k){return d.onTimeSet(k)}),n.k0s(),n.DNE(9,Qa,2,0,"ng-template",null,8,n.C5r)),2&c){let h,k;n.Y8G("ngClass",n.eq3(30,Za,d.disabled)),n.R7$(1),n.Y8G("color",d.color)("floatLabel",d.floatLabel)("placeholder","HH")("time",null==(h=d.hour$.getValue())?null:h.time)("min",d.minHour)("max",d.maxHour)("timeUnit",d.timeUnit.HOUR)("disabled",d.disabled)("timeList",d.hoursList)("preventTyping",d.isTimeRangeSet),n.R7$(3),n.Y8G("color",d.color)("floatLabel",d.floatLabel)("placeholder","MM")("time",null==(k=d.minute$.getValue())?null:k.time)("min",0)("max",59)("timeUnit",d.timeUnit.MINUTE)("disabled",d.disabled)("timeList",d.minutesList)("preventTyping",d.isTimeRangeSet),n.R7$(1),n.Y8G("ngIf",24!==d.format),n.R7$(1),n.Y8G("ngIf",!d.controlOnly),n.R7$(1),n.Y8G("color",d.color)("min",d.min)("max",d.max)("defaultTime",d.timepickerTime)("format",d.format)("cancelBtnTmpl",d.cancelBtnTmpl)("confirmBtnTmpl",d.confirmBtnTmpl)}},dependencies:[Ht.YU,_o,Ht.bT,Vn.RG,Vn.rl,vs.Ve,vs.VO,Ks.wT,Pe.YN,Pe.BC,Pe.vS,Ht.pM,Ks.Sy,mo,co,Ht.T3,dn,ks.m_,ks.An],styles:[".ngx-mat-timepicker{display:flex;align-items:center;height:100%}.ngx-mat-timepicker--disabled{background:rgba(0,0,0,.07);pointer-events:none}.ngx-mat-timepicker .separator-colon{margin-left:5px;margin-right:5px}.ngx-mat-timepicker .period-select{width:60px;min-width:60px;margin-left:8px;text-align:center}.ngx-mat-timepicker__control--first{order:1}.ngx-mat-timepicker__control--second{order:2}.ngx-mat-timepicker__control--third{order:3}.ngx-mat-timepicker__control--forth{order:4}.ngx-mat-timepicker__toggle{order:4;margin-bottom:1.5em;margin-left:4px}.ngx-mat-timepicker__toggle span.mat-button-wrapper{font-size:24px}\n"],encapsulation:2,changeDetection:0})}return m})(),cr=(()=>{class m{get element(){return this._elementRef&&this._elementRef.nativeElement}get format(){return this._format}set format(s){this._format=ae.isTwentyFour(+s)?24:12,s&&this._previousFormat&&this._previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this._previousFormat=this._format}get max(){return this._max}set max(s){this._max="string"!=typeof s?s:ae.parseTime(s,{locale:this._locale,format:this.format})}get min(){return this._min}set min(s){this._min="string"!=typeof s?s:ae.parseTime(s,{locale:this._locale,format:this.format})}set timepicker(s){this._registerTimepicker(s)}get value(){return this._value?ae.toLocaleTimeString(this._value,{format:this.format,locale:this._locale}):""}set value(s){if(!s)return this._value="",void this._updateInputValue();const c=ae.formatTime(s,{locale:this._locale,format:this.format});if(ae.isTimeAvailable(c,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=c,void this._updateInputValue();console.warn("Selected time doesn't match min or max value")}set _defaultTime(s){this._timepicker.defaultTime=ae.formatTime(s,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(s,c,d){this._elementRef=s,this._timepickerLocaleSrv=c,this._matFormField=d,this.cdkOverlayOrigin=new e.$Q(this._matFormField?this._matFormField.getConnectedOverlayOrigin():this._elementRef),this._format=12,this._subsCtrl$=new Ci.B,this._value="",this.onTouched=()=>{},this._onChange=()=>{}}ngOnChanges(s){const c=s.value;c&&c.currentValue&&(this._defaultTime=c.currentValue)}ngOnDestroy(){this._unregisterTimepicker(),this._subsCtrl$.next(),this._subsCtrl$.complete()}onClick(s){this.disableClick||(this._timepicker.open(),s.stopPropagation())}registerOnChange(s){this._onChange=s}registerOnTouched(s){this.onTouched=s}setDisabledState(s){this.disabled=s}updateValue(s){this.value=s.target.value,this._onChange(this.value)}writeValue(s){this.value=s,s&&(this._defaultTime=s)}_registerTimepicker(s){if(!s)throw new Error("NgxMatTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxMatTimepicker directive");this._timepicker=s,this._timepicker.registerInput(this),this._timepicker.timeSet.pipe((0,fs.Q)(this._subsCtrl$)).subscribe(c=>{this.value=c,this._onChange(this.value),this.onTouched(),this._defaultTime=this._value})}_unregisterTimepicker(){this._timepicker&&this._timepicker.unregisterInput()}_updateInputValue(){this._elementRef.nativeElement.value=this.value}static#t=this.\u0275fac=function(c){return new(c||m)(n.rXU(n.aKT),n.rXU(fn),n.rXU(Vn.rl,8))};static#e=this.\u0275dir=n.FsC({type:m,selectors:[["","ngxMatTimepicker",""]],hostVars:2,hostBindings:function(c,d){1&c&&n.bIt("blur",function(){return d.onTouched()})("click",function(k){return d.onClick(k)})("change",function(k){return d.updateValue(k)}),2&c&&(n.Mr5("disabled",d.disabled),n.BMQ("cdkOverlayOrigin",d.cdkOverlayOrigin))},inputs:{format:"format",max:"max",min:"min",timepicker:["ngxMatTimepicker","timepicker"],value:"value",disableClick:"disableClick",disabled:"disabled"},standalone:!0,features:[n.Jv_([{provide:Pe.kq,useExisting:m,multi:!0}]),n.OA$]})}return m})(),mr=(()=>{class m{static setLocale(s){return{ngModule:m,providers:[{provide:no,useValue:s},{provide:yi,useValue:void 0},fn]}}static#t=this.\u0275fac=function(c){return new(c||m)};static#e=this.\u0275mod=n.$C({type:m});static#n=this.\u0275inj=n.G2t({providers:[fn,{provide:gn.Il,useValue:{color:"void"}}],imports:[Ht.MD,bs.Pd,Pe.YN,gn.Hl,Vn.RG,Yn.hM,Cs.fS,vs.Ve,Bn.s5,ks.m_,e.z_,sa.jc,dn,js,ys,ro,qi,Ts,lo,mo,Is,Ss,lr,_o]})}return m})()}}]);