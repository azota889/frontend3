(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[407],{13406:(S,I,r)=>{"use strict";r.r(I),r.d(I,{QuestionLibraryModule:()=>ht});var c=r(54460),x=r(10936),s=r(89163),_=r(65162),g=r(23047),b=r(15343),v=r(13763),l=r(25571),k=r(44233),d=r(5502),p=r(21656),y=r(70050),m=r(7050),h=r(91100),E=r(1133),C=r(50866),T=r(59640),e=r(26860),j=r(92867),w=r(29313),G=r(52909),O=r(18718),R=r(52811),Y=r(51614),L=r(96451),X=r(50334),K=r(47712),W=r(9570),D=r(76975);function H(t,o){1&t&&(e.j41(0,"div",7)(1,"h3",8),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_create_tree_category_select_level_subject_require")))}function J(t,o){1&t&&(e.j41(0,"div",7)(1,"h3",8),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_create_tree_category_select_level_subject_no_data")))}function q(t,o){1&t&&(e.j41(0,"div",7),e.nrm(1,"azt-loading-ui",9),e.j41(2,"h3",8),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&t&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_cms_common_loading")))}function Z(t,o){if(1&t&&(e.qex(0),e.DNE(1,H,4,3,"div",6),e.DNE(2,J,4,3,"div",6),e.DNE(3,q,5,3,"div",6),e.bVm()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngIf",!("structure"==n.modeView||n.loadingKnowledge||n.schoolLevelValue&&n.schoolSubjectValue||n.noDataKnowledge)),e.R7$(1),e.Y8G("ngIf",(n.noDataKnowledge||!n.nodeObjs.length)&&!n.loadingKnowledge),e.R7$(1),e.Y8G("ngIf",n.loadingKnowledge)}}function ee(t,o){1&t&&e.nrm(0,"lucide-icon",24)}function te(t,o){1&t&&e.nrm(0,"lucide-icon",25)}function ne(t,o){if(1&t){const n=e.RV6();e.j41(0,"i",21),e.bIt("click",function(){e.eBV(n);const i=e.XpG().$implicit,u=e.XpG(2);return e.Njj(u.clickToNode(i))}),e.DNE(1,ee,1,0,"lucide-icon",22),e.DNE(2,te,1,0,"lucide-icon",23),e.k0s()}if(2&t){const n=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",!n.isExpand),e.R7$(1),e.Y8G("ngIf",n.isExpand)}}function ae(t,o){1&t&&e.nrm(0,"lucide-icon",26)}function ie(t,o){if(1&t&&(e.j41(0,"a",27),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG().$implicit;e.R7$(1),e.SpI("(",n.totalQuestion+" "+e.bMT(2,1,"lang_auto_cau_hoi"),")")}}function oe(t,o){if(1&t){const n=e.RV6();e.j41(0,"a",28),e.bIt("click",function(){e.eBV(n);const i=e.XpG().$implicit,u=e.XpG(2);return e.Njj(u.removeKnowledgeForm(i,i))}),e.nI1(1,"mytranslate"),e.j41(2,"span",29),e.nrm(3,"lucide-icon",30),e.k0s()()}2&t&&e.Y8G("matTooltip",e.bMT(1,1,"lang_auto_xoa"))}function re(t,o){1&t&&e.eu8(0)}const A=function(t,o){return{item:t,parentObj:o}};function se(t,o){if(1&t&&(e.qex(0),e.j41(1,"div",32),e.DNE(2,re,1,0,"ng-container",33),e.k0s(),e.bVm()),2&t){const n=o.$implicit,a=e.XpG(2).$implicit;e.XpG(2);const i=e.sdS(7);e.R7$(2),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.l_i(2,A,n,a))}}function le(t,o){if(1&t&&(e.qex(0),e.DNE(1,se,3,5,"ng-container",31),e.bVm()),2&t){const n=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",n.children)}}const M=function(t){return{"padding-left":t}};function ce(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",12)(1,"div",13),e.DNE(2,ne,3,2,"i",14),e.j41(3,"label",15),e.bIt("click",function(){const u=e.eBV(n).$implicit,f=e.XpG(2);return e.Njj(f.clickToNode(u))}),e.DNE(4,ae,1,0,"lucide-icon",16),e.j41(5,"span"),e.nrm(6,"azt-dynamic-hook",17),e.k0s(),e.DNE(7,ie,3,3,"a",18),e.k0s(),e.DNE(8,oe,4,3,"a",19),e.k0s(),e.DNE(9,le,2,1,"ng-container",20),e.k0s()}if(2&t){const n=o.$implicit,a=e.XpG(2);e.R7$(1),e.yjJ("id","node-",n.randomHashId,"-",n.level,"-",n.nodeIndex,""),e.Y8G("ngStyle",e.eq3(10,M,12*n.level+"px")),e.R7$(1),e.Y8G("ngIf",n.children.length),e.R7$(2),e.Y8G("ngIf",n.data.id&&("knowledge"==n.typeNode||"objective"==n.typeNode&&!n.children.length)),e.R7$(2),e.Y8G("content",n.text),e.R7$(1),e.Y8G("ngIf","structure"==a.modeView),e.R7$(1),e.Y8G("ngIf","create"==a.modeView),e.R7$(1),e.Y8G("ngIf",n.children.length)}}function de(t,o){if(1&t&&(e.j41(0,"div",10),e.DNE(1,ce,10,12,"div",11),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngForOf",n.nodeObjs)}}function me(t,o){1&t&&e.nrm(0,"lucide-icon",24)}function ue(t,o){1&t&&e.nrm(0,"lucide-icon",25)}function _e(t,o){if(1&t){const n=e.RV6();e.j41(0,"i",21),e.bIt("click",function(){e.eBV(n);const i=e.XpG(3).$implicit,u=e.XpG(2);return e.Njj(u.clickToNode(i))}),e.DNE(1,me,1,0,"lucide-icon",22),e.DNE(2,ue,1,0,"lucide-icon",23),e.k0s()}if(2&t){const n=e.XpG(3).$implicit;e.R7$(1),e.Y8G("ngIf",!n.isExpand),e.R7$(1),e.Y8G("ngIf",n.isExpand)}}function pe(t,o){1&t&&e.nrm(0,"lucide-icon",26)}function ge(t,o){if(1&t&&(e.j41(0,"span",27),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG(3).$implicit;e.R7$(1),e.SpI("(",n.totalQuestion+" "+e.bMT(2,1,"lang_auto_cau_hoi"),")")}}function he(t,o){if(1&t){const n=e.RV6();e.j41(0,"a",28),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2).$implicit,u=e.XpG().$implicit,f=e.XpG(2);return e.Njj(f.removeKnowledgeForm(u,i))}),e.nI1(1,"mytranslate"),e.j41(2,"span",29),e.nrm(3,"lucide-icon",30),e.k0s()()}2&t&&e.Y8G("matTooltip",e.bMT(1,1,"lang_auto_xoa"))}function fe(t,o){1&t&&e.eu8(0)}function be(t,o){if(1&t&&(e.qex(0),e.j41(1,"div",32),e.DNE(2,fe,1,0,"ng-container",33),e.k0s(),e.bVm()),2&t){const n=o.$implicit,a=e.XpG(4).$implicit;e.XpG(2);const i=e.sdS(7);e.R7$(2),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.l_i(2,A,n,a))}}function ve(t,o){if(1&t&&(e.qex(0),e.DNE(1,be,3,5,"ng-container",31),e.bVm()),2&t){const n=e.XpG(3).$implicit;e.R7$(1),e.Y8G("ngForOf",n.children)}}function ye(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",35)(1,"div",13),e.DNE(2,_e,3,2,"i",14),e.j41(3,"label",15),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2).$implicit,u=e.XpG(2);return e.Njj(u.clickToNode(i))}),e.DNE(4,pe,1,0,"lucide-icon",16),e.j41(5,"span"),e.nrm(6,"azt-dynamic-hook",17),e.k0s(),e.DNE(7,ge,3,3,"span",18),e.k0s(),e.DNE(8,he,4,3,"a",19),e.k0s(),e.DNE(9,ve,2,1,"ng-container",20),e.k0s()}if(2&t){const n=e.XpG(2).$implicit,a=e.XpG(2);e.R7$(1),e.yjJ("id","node-",n.randomHashId,"-",n.level,"-",n.nodeIndex,""),e.Y8G("ngStyle",e.eq3(10,M,12*n.level+"px")),e.R7$(1),e.Y8G("ngIf",n.children.length),e.R7$(2),e.Y8G("ngIf",n.data.id&&("knowledge"==n.typeNode||"objective"==n.typeNode&&!n.children.length)),e.R7$(2),e.Y8G("content",n.text),e.R7$(1),e.Y8G("ngIf","structure"==a.modeView),e.R7$(1),e.Y8G("ngIf","create"==a.modeView),e.R7$(1),e.Y8G("ngIf",n.children.length)}}function Ee(t,o){if(1&t&&(e.qex(0),e.DNE(1,ye,10,12,"div",34),e.bVm()),2&t){const n=o.$implicit;e.R7$(1),e.Y8G("ngIf",n.isExpand)}}function ke(t,o){if(1&t&&(e.qex(0),e.DNE(1,Ee,2,1,"ng-container",20),e.bVm()),2&t){const n=e.XpG().parentObj,a=e.XpG();e.R7$(1),e.Y8G("ngIf",a.asTemplateDataObj(n))}}function xe(t,o){if(1&t&&e.DNE(0,ke,2,1,"ng-container",20),2&t){const n=o.item,a=e.XpG();e.Y8G("ngIf",a.asTemplateDataObj(n))}}const Te=function(t){return{"box p-2 mt-2":t}};let $=(()=>{var t;class o extends X.C{constructor(){super(...arguments),this.schoolSubjectValue=0,this.schoolLevelValue=0,this.noDataKnowledge=!1,this.nodeEmitData=new e.bkB,this.loadingKnowledge=!1,this.nodeObjs=[],this.uuidService=(0,e.WQX)(G.D)}clickToNode(a){a.children.length&&(a.isExpand?this.collapse(a):this.expand(a))}asTemplateDataObj(a){return a}removeKnowledgeForm(a,i){if(!a.level)return this.nodeObjs=this.nodeObjs.filter(u=>u.data.id!=a.data.id),void this.nodeEmitData.emit(this.nodeObjs);i.children=i.children.filter(u=>u.data.id!=a.data.id),this.nodeEmitData.emit(this.nodeObjs)}standardTreeNodes(a,i){let u=[];return a.forEach((f,F)=>{let U={level:i,typeNode:f.objectiveId?"objective":f.knowledgeId?"knowledge":"",isExpand:0===i,isShow:!0,nodeIndex:F,selected:!1,randomHashId:this.uuidService.getUuid(),text:f.title,data:{...f,children:[]},children:[],totalQuestion:f.questions.length};U.children=this.standardTreeNodes(f.children,i+1),u.push(U)}),setTimeout(()=>{this.loadingKnowledge=!1},0),u}ngOnInit(){this.loadingKnowledge=!0,this.nodeObjs=this.standardTreeNodes(this.rawNodes,0)}ngOnChanges(a){a.rawNodes&&(this.loadingKnowledge=!0,this.nodeObjs=this.standardTreeNodes(this.rawNodes,0),this.nodeEmitData.emit(this.nodeObjs))}}return(t=o).\u0275fac=function(){let n;return function(i){return(n||(n=e.xGo(t)))(i||t)}}(),t.\u0275cmp=e.VBU({type:t,selectors:[["app-question-library-tree-component"]],inputs:{rawNodes:"rawNodes",modeView:"modeView",schoolSubjectValue:"schoolSubjectValue",schoolLevelValue:"schoolLevelValue",noDataKnowledge:"noDataKnowledge"},outputs:{nodeEmitData:"nodeEmitData"},features:[e.Vt3,e.OA$],decls:8,vars:6,consts:[[1,"relative",2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],["track","vertical","pointerEventsMethod","scrollbar",3,"visibility"],["perfectScroll",""],[4,"ngIf","ngIfElse"],["showKnowledge",""],["itemTemplate",""],["class","mx-auto my-auto text-center midle-box",4,"ngIf"],[1,"mx-auto","my-auto","text-center","midle-box"],[1,"text-slate-500","text-md",2,"font-weight","420"],[1,"mr-2"],["id","list-category-arr",1,"grid","grid-cols-12","gap-1"],["class","col-span-12 items-center",4,"ngFor","ngForOf"],[1,"col-span-12","items-center"],[1,"flex","items-center","mt-1","w-full",3,"id","ngStyle"],["class","mr-2","aria-hidden","true",3,"click",4,"ngIf"],[2,"line-height","1.6",3,"click"],["name","send-horizontal","size","14","class","mr-2","class","lucide lucide-send-horizontal w-4 h-4 flex-none mr-1",4,"ngIf"],[3,"content"],["class","link__color ml-2",4,"ngIf"],["class","ml-auto btn btn-transparent btn-outline-danger btn-sm text-slate-700 font-medium",3,"matTooltip","click",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"mr-2",3,"click"],["name","chevron-right","size","14",4,"ngIf"],["name","chevron-down","size","14",4,"ngIf"],["name","chevron-right","size","14"],["name","chevron-down","size","14"],["name","send-horizontal","size","14",1,"lucide","lucide-send-horizontal","w-4","h-4","flex-none","mr-1"],[1,"link__color","ml-2"],[1,"ml-auto","btn","btn-transparent","btn-outline-danger","btn-sm","text-slate-700","font-medium",3,"matTooltip","click"],[1,"w-4","h-4","flex-none"],["name","x","size","18"],[4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","gap-1","w-full","children-tmp"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","col-span-12",4,"ngIf"],[1,"col-span-12"]],template:function(a,i){if(1&a&&(e.j41(0,"div",0)(1,"ng-scrollbar",1,2),e.DNE(3,Z,4,3,"ng-container",3),e.DNE(4,de,2,1,"ng-template",null,4,e.C5r),e.k0s()(),e.DNE(6,xe,1,1,"ng-template",null,5,e.C5r)),2&a){const u=e.sdS(5);e.Y8G("ngClass",e.eq3(4,Te,"create"==i.modeView)),e.R7$(1),e.Y8G("visibility","hover"),e.R7$(2),e.Y8G("ngIf",!i.nodeObjs.length||!i.schoolLevelValue||!i.schoolSubjectValue||i.noDataKnowledge||i.loadingKnowledge)("ngIfElse",u)}},dependencies:[c.YU,c.Sq,c.bT,c.T3,c.B3,K.oV,d.Yh,R.R,W.x,b.WGl,D.wp],encapsulation:2}),o})();function Ce(t,o){if(1&t&&e.nrm(0,"azt-loading-effect",4),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function Ie(t,o){1&t&&e.nrm(0,"azt-loading-ui",12)}function je(t,o){if(1&t){const n=e.RV6();e.j41(0,"h3",5),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s(),e.j41(3,"div",6)(4,"config-level-subject-book",7),e.bIt("changeDataEvent",function(i){e.eBV(n);const u=e.XpG();return e.Njj(u.getKnowledgeData(i))}),e.k0s()(),e.j41(5,"app-question-library-tree-component",8),e.bIt("nodeEmitData",function(i){e.eBV(n);const u=e.XpG();return e.Njj(u.nodeDataEmitted=i)}),e.k0s(),e.j41(6,"div",9)(7,"button",10),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.saveQuestionLibrary())}),e.DNE(8,Ie,1,0,"azt-loading-ui",11),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()()}if(2&t){const n=e.XpG();e.R7$(1),e.JRh(e.bMT(2,14,"lang_create_tree_question_library")),e.R7$(3),e.Y8G("form",n.form)("removeLevelSubjectWithOtherName",!0)("showBookData",!0)("layout","label_in_one_line")("useExamSchoolLogData",!0),e.R7$(1),e.Y8G("rawNodes",n.nodeObjsData)("modeView","create")("noDataKnowledge",n.noDataKnowledge)("schoolSubjectValue",n.form.controls.schoolSubject.value)("schoolLevelValue",n.form.controls.schoolLevel.value),e.R7$(2),e.Y8G("disabled",n.statusObj.loading||!n.form.controls.schoolLevel.value||!n.form.controls.schoolSubject.value||n.noDataKnowledge),e.R7$(1),e.Y8G("ngIf",n.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(10,16,"lang_create_tree_category_btn")," ")}}let Fe=(()=>{var t;class o extends T.H{getKnowledgeData(a){let i=this.form.controls.schoolLevel?.value??0,u=this.form.controls.schoolSubject?.value??0,f=this.form.controls.bookIdFormControl?.value??0;this.bookName=a?.bookName??"",u&&i&&this.waitDestroy(this.aiElearningService.aiApiV1ElearningGetKnowledgeTreeGet(i,u,void 0,f>0?f:void 0).subscribe({next:F=>{F.nodes.length?(this.nodeObjsData=F.nodes,this.noDataKnowledge=!1):this.noDataKnowledge=!0},error:F=>{this.noDataKnowledge=!0}}))}saveQuestionLibrary(){this.initStatusObj();let f={levelId:this.form.controls.schoolLevel?.value??0,subjectId:this.form.controls.schoolSubject?.value??0,bookId:this.form.controls.bookIdFormControl?.value??0,bookName:this.bookName,nodes:this.getNodeSaveApi()};this.waitDestroy(this.eBanksService.apiEbanksPost(f).subscribe(F=>{F.success?(this.successStatusObj("lang_testbank_test_list_create_new_tree_document_success",!0),this.commonService.myNavigation("/admin/question-library")):this.errorStatusObj(F.message,!0)}))}getNodeSaveApi(){return this.nodeDataEmitted.map(a=>({name:a.text,suggestModel:a.typeNode,suggestId:a.data.objectiveId??a.data.knowledgeId,children:this.getChildNode(a.children)}))}getChildNode(a){return a.map(i=>({name:i.text,suggestModel:i.data.objectiveId?"objective":i.data.knowledgeId?"knowledge":"",suggestId:i.data.objectiveId??i.data.knowledgeId,children:this.getChildNode(i.children)}))}ngOnInit(){this.backToLink=this.commonService.getMyQueryParam("backto")??"/admin/question-library"}constructor(a,i,u){super(),this.eBanksService=a,this.aiElearningService=i,this.uuidService=u,this.backToLink="",this.noDataKnowledge=!1,this.nodeObjsData=[],this.nodeDataEmitted=[],this.bookName="",this.form=new x.gE({schoolLevel:new x.MJ(0,{nonNullable:!0}),schoolSubject:new x.MJ(0,{nonNullable:!0}),bookIdFormControl:new x.MJ(0,{nonNullable:!0})})}}return(t=o).\u0275fac=function(a){return new(a||t)(e.rXU(j.nd),e.rXU(w.T5),e.rXU(G.D))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-add-new-question-library"]],features:[e.Vt3],decls:5,vars:3,consts:[[3,"headerBackToLink"],[1,"container-fluid","overflow-hidden"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"text-md","font-bold","mt-3"],[1,"mt-3","box","p-2"],[3,"form","removeLevelSubjectWithOtherName","showBookData","layout","useExamSchoolLogData","changeDataEvent"],[3,"rawNodes","modeView","noDataKnowledge","schoolSubjectValue","schoolLevelValue","nodeEmitData"],[1,"mt-2","float-right"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(a,i){if(1&a&&(e.j41(0,"teacher-layout",0)(1,"div",1),e.DNE(2,Ce,1,1,"azt-loading-effect",2),e.DNE(3,je,11,18,"ng-template",null,3,e.C5r),e.k0s()()),2&a){const u=e.sdS(4);e.Y8G("headerBackToLink",i.backToLink),e.R7$(2),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",u)}},dependencies:[c.bT,O.K,R.R,Y.X,L.Q,$,D.wp],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]}),o})();var Se=r(39712),De=r(60531),we=r(74175),Re=r(80859);const Le=function(t,o,n,a){return[t,o,n,a]},Oe=function(){return{"text-primary":!0}};let ze=(()=>{var t;class o extends T.H{changeFileAction(a){this.file=a,this.startParser(this.file)}startParser(a){this.isFollowLibParser=!0,this.commonService.getTranslate("lang_auto_dang_xu_ly_file_dau_vao_vui_long_doi_trong_giay_lat").subscribe(i=>{this.msgLoading=i}),this.saveAndSwitch(a)}saveAndSwitch(a){this.editorOutputDataService.setFileProcess(a),this.commonService.myNavigationWithQueryString("/admin/testbank/azota-editor/0",`?backto=${decodeURIComponent("/admin/question-library/import-question")}&importQuestion=1`)}ngOnInit(){}constructor(a,i){super(),this.activeRoute=a,this.editorOutputDataService=i,this.allUploadFileTypes=Se.PO,this.isFollowLibParser=!1,this.msgLoading=""}}return(t=o).\u0275fac=function(a){return new(a||t)(e.rXU(_.nX),e.rXU(De.O))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-import-question"]],features:[e.Vt3],decls:66,vars:82,consts:[[3,"headerBackToLink"],[1,"mt-5"],[1,"flex","items-center","justify-center"],[1,"font-medium","text-lg"],[1,"mx-auto",2,"max-width","800px"],[3,"fileType","limitSize","emitFiles"],["azt-track-service","create-new-document-PuQSKmLC3","id","box-left-file-drop",1,"h-full","cursor-pointer","box","p-5"],[1,"h-full","flex","items-center",2,"min-height","55vh"],[1,"mx-auto","text-center"],[1,"w-16","h-16","flex-none","image-fit","overflow-hidden","mx-auto","upload-box"],["name","cloud-upload","size","64",3,"ngClass"],[1,"mt-3"],[1,"font-medium","text-lg","upload-box"],[1,"text-slate-500","text-xs","mt-1"],["azt-track-service","create-new-document-WauQzqbISx","href","https://docs.azota.vn/docs/huong-dan-su-dung/de-thi/chon-file-keo-tha-file-de-tao-de/","target","_blank",1,"text-primary",3,"click"],[1,"pt-2"],["azt-track-service","create-new-document-FxdEQuAx7G","id","download-link-item",3,"dataUrl","target","fileName","fileDescription","classStyle","click"],["azt-track-service","create-new-document-O5FkqsuTLC","id","download-link-item",3,"dataUrl","target","fileName","fileDescription","classStyle","click"],["id","download-link-item",3,"dataUrl","target","fileName","fileDescription","classStyle","click"],["azt-track-service","create-new-document-cPk0ISITQT","id","download-link-item",3,"dataUrl","target","fileName","fileDescription","classStyle","click"],[1,"mt-3","text-center","font-medium"],[1,"text-center","mt-3"],[1,"btn","btn-primary"],["name","folder-input","size","18"],[1,"ml-2"]],template:function(a,i){1&a&&(e.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()(),e.j41(6,"div",1)(7,"div",4)(8,"azt-upload-single-document-to-editor",5),e.bIt("emitFiles",function(f){return i.changeFileAction(f)}),e.j41(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),e.nrm(13,"lucide-icon",10),e.k0s(),e.j41(14,"div",11)(15,"div",12),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s(),e.j41(18,"div",13),e.EFF(19),e.nI1(20,"mytranslate"),e.nrm(21,"br"),e.EFF(22),e.nI1(23,"mytranslate"),e.j41(24,"b"),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s(),e.EFF(27," , "),e.j41(28,"b"),e.EFF(29),e.nI1(30,"mytranslate"),e.k0s(),e.EFF(31),e.nI1(32,"mytranslate"),e.j41(33,"b"),e.EFF(34),e.nI1(35,"mytranslate"),e.k0s(),e.EFF(36),e.nI1(37,"mytranslate"),e.j41(38,"a",14),e.bIt("click",function(f){return f.stopPropagation()}),e.EFF(39),e.nI1(40,"mytranslate"),e.k0s(),e.j41(41,"div",15)(42,"azt-download-link-item",16),e.bIt("click",function(f){return i.isMobileWebView?"":f.stopPropagation()}),e.nI1(43,"convertCdnLinkOfGitHubWithLocale"),e.nI1(44,"mytranslate"),e.k0s(),e.EFF(45," \xa0|\xa0 "),e.j41(46,"azt-download-link-item",17),e.bIt("click",function(f){return i.isMobileWebView?"":f.stopPropagation()}),e.nI1(47,"convertRawLinkOfGitHubWithLocale"),e.nI1(48,"mytranslate"),e.k0s(),e.EFF(49," \xa0|\xa0 "),e.j41(50,"azt-download-link-item",18),e.bIt("click",function(f){return i.isMobileWebView?"":f.stopPropagation()}),e.nI1(51,"convertRawLinkOfGitHubWithLocale"),e.nI1(52,"mytranslate"),e.k0s(),e.EFF(53," \xa0|\xa0 "),e.j41(54,"azt-download-link-item",19),e.bIt("click",function(f){return i.isMobileWebView?"":f.stopPropagation()}),e.nI1(55,"convertRawLinkOfGitHubWithLocale"),e.nI1(56,"mytranslate"),e.k0s()()()()()()()(),e.j41(57,"div",20),e.EFF(58),e.nI1(59,"mytranslate"),e.k0s(),e.j41(60,"div",21)(61,"button",22),e.nrm(62,"lucide-icon",23),e.j41(63,"span",24),e.EFF(64),e.nI1(65,"mytranslate"),e.k0s()()()()()()),2&a&&(e.Y8G("headerBackToLink","/admin/question-library/view-bank/1"),e.R7$(4),e.SpI(" ",e.bMT(5,36,"lang_azt_enter_questions_into_the_bank")," "),e.R7$(4),e.Y8G("fileType",e.ziG(76,Le,i.allUploadFileTypes.WORD,i.allUploadFileTypes.AZT,i.allUploadFileTypes.PDF,i.allUploadFileTypes.EXCEL))("limitSize",200),e.R7$(5),e.Y8G("ngClass",e.lJ4(81,Oe)),e.R7$(3),e.JRh(e.bMT(17,38,"lang_auto_chon_file_hoc_keo_tha_file_vao_day")),e.R7$(3),e.SpI(" ",e.bMT(20,40,"lang_auto_azota_support_file_type")," .pdf, .docx, .xlsx. "),e.R7$(3),e.SpI(" ",e.bMT(23,42,"lang_auto_can_upload")," "),e.R7$(3),e.JRh(e.bMT(26,44,"lang_auto_bai_tap")),e.R7$(4),e.JRh(e.bMT(30,46,"lang_auto_de_thi")),e.R7$(2),e.SpI(" ",e.bMT(32,48,"lang_auto_hoac")," "),e.R7$(3),e.JRh(e.bMT(35,50,"lang_auto_bang_dap_an")),e.R7$(2),e.SpI(" ",e.bMT(37,52,"lang_auto_de_cham_offline"),". "),e.R7$(3),e.SpI(" ",e.bMT(40,54,"lang_auto_tim_hieu_them")," "),e.R7$(3),e.Y8G("dataUrl",e.bMT(43,56,"medias_[LANG]/de_mau_azota.zip"))("target","_blank")("fileName",e.bMT(44,58,"lang_testbank_create_document_azota_pdf_model"))("fileDescription","lang_testbank_create_document_azota_pdf_model")("classStyle","text-primary"),e.R7$(4),e.Y8G("dataUrl",e.bMT(47,60,"medias_[LANG]/de_mau_azota.docx?raw=true"))("target","_self")("fileName",e.bMT(48,62,"lang_testbank_create_document_azota_docx_model"))("fileDescription","lang_testbank_create_document_azota_docx_model")("classStyle","text-primary"),e.R7$(4),e.Y8G("dataUrl",e.bMT(51,64,"medias_[LANG]/mau_de_dung_sai_azota_v2.docx?raw=true"))("target","_self")("fileName",e.bMT(52,66,"lang_testbank_create_document_azota_docx_true_false_model"))("fileDescription","lang_testbank_create_document_azota_docx_true_false_model")("classStyle","text-primary"),e.R7$(4),e.Y8G("dataUrl",e.bMT(55,68,"medias_[LANG]/de_mau_azota_excel_v2_5.xlsx?raw=true"))("target","_self")("fileName",e.bMT(56,70,"lang_testbank_create_document_azota_pdf_model"))("fileDescription","lang_testbank_create_document_azota_excel_model")("classStyle","text-primary"),e.R7$(4),e.SpI(" ",e.bMT(59,72,"lang_auto_hoac")," "),e.R7$(6),e.JRh(e.bMT(65,74,"lang_azt_import_from_your_exam_questions")))},dependencies:[c.YU,we.W,Re.p,L.Q,b.WGl,D.wp,D.c2,D.V3],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]}),o})(),Ne=(()=>{var t;class o{ngOnInit(){}constructor(){}}return(t=o).\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-question-library-master-page"]],decls:2,vars:0,consts:[["id","question-library-layout"]],template:function(a,i){1&a&&(e.j41(0,"div",0),e.nrm(1,"router-outlet"),e.k0s())},dependencies:[_.n3],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]}),o})();var Ge=r(37497),B=r(60833),Ae=r(22613),V=r(94743);function Me(t,o){if(1&t&&e.nrm(0,"azt-loading-effect",3),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}const z=function(t){return[t]},$e=function(){return{backTo:"/admin/question-library"}};function Be(t,o){if(1&t&&(e.j41(0,"div",22)(1,"div",23),e.nI1(2,"navigationLocalize"),e.j41(3,"div",24),e.EFF(4),e.k0s(),e.j41(5,"div",25),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()()),2&t){const n=o.$implicit;e.R7$(1),e.Y8G("routerLink",e.eq3(8,z,e.bMT(2,4,"/admin/question-library/view-bank/"+n.id+"/0")))("queryParams",e.lJ4(10,$e)),e.R7$(3),e.JRh(n.name),e.R7$(2),e.JRh(n.totalQuestion+" "+e.bMT(7,6,"lang_notice_question"))}}const Q=function(){return{"mr-2":!0}};function Ve(t,o){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"div",6)(2,"div",7)(3,"div",8)(4,"h3",9),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()(),e.j41(7,"div",10)(8,"button",11),e.nI1(9,"navigationLocalize"),e.nrm(10,"lucide-icon",12),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s()()()(),e.j41(13,"div",13),e.DNE(14,Be,8,11,"div",14),e.k0s(),e.j41(15,"div",15)(16,"div",16)(17,"div",17)(18,"azt-paging",18),e.bIt("goToPaginationPage",function(i){e.eBV(n);const u=e.XpG(2);return e.Njj(u.goToPage(i))}),e.k0s()(),e.j41(19,"div",19)(20,"p",20),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s()(),e.j41(23,"div",21)(24,"p",20),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()()()(),e.bVm()}if(2&t){const n=e.XpG(2);e.R7$(5),e.SpI(" ",e.bMT(6,8,"lang_notice_bank_question")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(18,z,e.bMT(9,10,"/admin/question-library/add-new-question-library"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(20,Q)),e.R7$(1),e.SpI(" ",e.bMT(12,12,"lang_azt_create_a_question_bank")," "),e.R7$(3),e.Y8G("ngForOf",n.ebankList),e.R7$(4),e.Y8G("pageObj",n.pageObj),e.R7$(3),e.JRh(n.totalEbank+" "+e.bMT(22,14,"lang_testbank_test_list_document")),e.R7$(4),e.JRh(n.totalEbank+" "+e.bMT(26,16,"lang_testbank_test_list_document"))}}function Qe(t,o){1&t&&(e.j41(0,"div",26)(1,"p",27),e.nrm(2,"azt-svg-icon",28),e.k0s(),e.j41(3,"p",29),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"p",30)(7,"button",31),e.nI1(8,"navigationLocalize"),e.nrm(9,"lucide-icon",12),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()()()),2&t&&(e.R7$(2),e.Y8G("size",82),e.R7$(2),e.SpI(" ",e.bMT(5,5,"lang_azt_you_dont_have_any_question_bank_yet")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(11,z,e.bMT(8,7,"/admin/question-library/add-new-question-library"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(13,Q)),e.R7$(1),e.SpI(" ",e.bMT(11,9,"lang_azt_create_a_question_bank")," "))}function Pe(t,o){if(1&t&&(e.DNE(0,Ve,27,21,"ng-container",4),e.DNE(1,Qe,12,14,"ng-template",null,5,e.C5r)),2&t){const n=e.sdS(2),a=e.XpG();e.Y8G("ngIf",a.ebankList.length)("ngIfElse",n)}}let P=(()=>{var t;class o extends T.H{getEbankList(){this.initStatusObj(),this.waitDestroy(this.ebankService.apiEbanksListPost({page:this.pageObj.page,size:this.pageObj.pageSize}).subscribe(i=>{if(!i.success)return this.errorStatusObj(i.message,!0);this.ebankList=i.data?.objs??[],this.totalEbank=i.data?.total??0,this.pageObj.setTotalPages(this.totalEbank),this.successStatusObj()}))}goToPage(a){this.pageObj.setPageNumber(a)}ngOnInit(){super.ngOnInit(),this.getEbankList()}constructor(a){super(),this.ebankService=a,this.ebankList=[],this.totalEbank=0,this.pageObj=new Ge.d(24)}}return(t=o).\u0275fac=function(a){return new(a||t)(e.rXU(B.n))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-question-library-dashboard"]],features:[e.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["emptyQuestionLibrary",""],[1,"mt-5"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[1,"text-xl","font-medium"],[1,"w-full","sm:w-auto","flex"],[1,"btn","btn-primary","shadow-md","ml-2",3,"routerLink"],["name","plus","size","16",3,"ngClass"],[1,"grid","grid-cols-12","mt-5","gap-5"],["class","col-span-12 sm:col-span-6 md:col-span-4 lg:col-span-3",4,"ngFor","ngForOf"],[2,"height","25px"],[1,"flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2",2,"position","absolute","bottom","10px"],[3,"pageObj","goToPaginationPage"],[1,"text-right","pb-2","azt-hidden","md:block",2,"position","absolute","bottom","10px","right","20px"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"],[1,"col-span-12","sm:col-span-6","md:col-span-4","lg:col-span-3"],[1,"box","p-5","zoom-in","h-full",3,"routerLink","queryParams"],[1,"text-lg","font-bold"],[1,"text-md","text-slate-500","font-medium"],[1,"intro-y","empty-trash","flex","flex-col","justify-center","text-center",2,"height","400px"],[1,"text-primary","text-center"],["type","inbox-empty",3,"size"],[1,"text-lg","font-medium","mt-1"],[1,"text-md","text-slate-500","mt-4"],[1,"btn","btn-primary","shadow-md",3,"routerLink"]],template:function(a,i){if(1&a&&(e.j41(0,"teacher-layout",0),e.DNE(1,Me,1,1,"azt-loading-effect",1),e.DNE(2,Pe,3,2,"ng-template",null,2,e.C5r),e.k0s()),2&a){const u=e.sdS(3);e.Y8G("headerBackToLink","/admin/dashboard"),e.R7$(1),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",u)}},dependencies:[_.Wk,c.YU,c.Sq,c.bT,O.K,Ae.q,V.m,L.Q,b.WGl,D.F2,D.wp],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]}),o})();var Ue=r(76627),N=r(68323);function Ye(t,o){if(1&t&&(e.j41(0,"div",1),e.nrm(1,"div",2),e.k0s()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("chart",n.chartSkill)}}let Xe=(()=>{var t;class o extends T.H{handleData(){return this.data.filter(i=>0!==i.totalQuestion).map(i=>({name:this.commonService.myTranslateInstant(i.name),y:i.totalQuestion}))}createPiaChart(){let a=this.handleData();if(!a.length)return;const i=a.reduce((f,F)=>(F.y??0)>(f.y??0)?F:f,a[0]);a=a.map(f=>f.y===i.y?{...f,sliced:!0,selected:!0}:f);let u=new g.t1({chart:{type:"pie",height:this.height,width:this.width},title:{text:this.commonService.myTranslateInstant(this.keyTitle)},tooltip:{valueSuffix:"%"},credits:{enabled:!1},series:[{name:"Percentage",type:"pie",data:a,dataLabels:{enabled:!0,distance:-40,format:"{point.name}: {point.y}%",style:{color:"#000000"},filter:{operator:">",property:"percentage",value:(i.y??0)-.01}}}]});this.chartSkill=u,this.stopStatusObj()}ngOnInit(){this.createPiaChart()}constructor(){super(),this.keyTitle="",this.height=300,this.width=250}}return(t=o).\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-azt-pia-chart"]],inputs:{keyTitle:"keyTitle",data:"data",height:"height",width:"width"},features:[e.Vt3],decls:1,vars:1,consts:[["class","mb-5",4,"ngIf"],[1,"mb-5"],[3,"chart"]],template:function(a,i){1&a&&e.DNE(0,Ye,2,1,"div",0),2&a&&e.Y8G("ngIf",i.chartSkill)},dependencies:[c.bT,g.S6],encapsulation:2}),o})();function Ke(t,o){1&t&&(e.j41(0,"div",3),e.nrm(1,"azt-loading-ui",4),e.k0s()),2&t&&(e.R7$(1),e.Y8G("size",30))}function We(t,o){1&t&&(e.j41(0,"div",5),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_homework_homework_list_not_found"),"\n"))}function He(t,o){if(1&t&&(e.j41(0,"tr")(1,"td",16)(2,"div",17),e.nrm(3,"azt-create-avatar",18),e.j41(4,"div",19)(5,"h3",20),e.EFF(6),e.k0s(),e.j41(7,"p",21),e.EFF(8),e.k0s()()()(),e.j41(9,"td",16),e.EFF(10),e.k0s()()),2&t){const n=o.$implicit;e.R7$(3),e.Y8G("linkAvatar",n.avatar)("nameCreateAvatar",n.fullName)("size",35),e.R7$(3),e.JRh(n.fullName),e.R7$(2),e.JRh(n.email),e.R7$(2),e.JRh(n.totalQuestion)}}function Je(t,o){if(1&t&&(e.j41(0,"div",9)(1,"div",10)(2,"p",11),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"table",12)(6,"thead")(7,"tr")(8,"th",13),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"th",14),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,He,11,6,"tr",15),e.k0s()()()),2&t){const n=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,4,"lang_core_danh_sach_dong_gop")),e.R7$(6),e.JRh(e.bMT(10,6,"lang_auto_ho_va_ten")),e.R7$(3),e.JRh(e.bMT(13,8,"S\u1ed1 l\u01b0\u1ee3ng c\xe2u h\u1ecfi")),e.R7$(3),e.Y8G("ngForOf",n.dataAnalytis.members)}}function qe(t,o){if(1&t&&(e.j41(0,"div")(1,"div",6),e.nrm(2,"app-azt-pia-chart",7)(3,"app-azt-pia-chart",7)(4,"app-azt-pia-chart",7),e.k0s(),e.DNE(5,Je,16,10,"div",8),e.k0s()),2&t){const n=e.XpG();e.R7$(2),e.Y8G("data",n.dataAnalytis.frames)("width",300)("keyTitle","lang_core_so_luong_cau_hoi_theo_cau_truc"),e.R7$(1),e.Y8G("data",n.dataAnalytis.tags)("width",300)("keyTitle","lang_core_ty_le_muc_do_kho_cua_cau_hoi"),e.R7$(1),e.Y8G("data",n.dataAnalytis.answerTypes)("width",300)("keyTitle","lang_core_ty_le_cac_dang_thuc_cau_hoi"),e.R7$(1),e.Y8G("ngIf",n.dataAnalytis.members.length)}}let Ze=(()=>{var t;class o extends T.H{getData(){this.ebankService.apiEbanksCountQuestionsGet(this.ebankId,this.ebankFrameId).subscribe(a=>{a.success?(this.dataAnalytis=a.data,this.stopStatusObj()):(this.stopStatusObj(),this.showErrorSnack(a.message))})}ngOnInit(){this.initStatusObj(),this.getData()}constructor(a){super(),this.ebankService=a,this.ebankId=1,this.ebankFrameId=1}}return(t=o).\u0275fac=function(a){return new(a||t)(e.rXU(B.n))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-box-analysis"]],features:[e.Vt3],decls:3,vars:3,consts:[["class","flex justify-center items-center p-5",4,"ngIf"],["class","flex justify-center items-center",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-center","items-center","p-5"],[3,"size"],[1,"flex","justify-center","items-center"],[1,"flex","justify-between","mr-5","ml-5"],[3,"data","width","keyTitle"],["class","w-full",4,"ngIf"],[1,"w-full"],[1,"flex","justify-between","items-center"],[1,"text-lg","font-medium"],[1,"table","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[4,"ngFor","ngForOf"],[1,"text-center","capitalize"],[1,"flex","items-center"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-3","text-left"],[1,"font-medium"],[1,"text-slate-500","text-xs"]],template:function(a,i){1&a&&(e.DNE(0,Ke,2,1,"div",0),e.DNE(1,We,3,3,"div",1),e.DNE(2,qe,6,10,"div",2)),2&a&&(e.Y8G("ngIf",i.statusObj.loading),e.R7$(1),e.Y8G("ngIf",!i.statusObj.loading&&!i.dataAnalytis),e.R7$(1),e.Y8G("ngIf",!i.statusObj.loading&&i.dataAnalytis))},dependencies:[c.Sq,c.bT,N.p,R.R,Xe,D.wp],encapsulation:2}),o})();var et=r(3635);function tt(t,o){1&t&&(e.j41(0,"div",2),e.nrm(1,"azt-loading-ui",3),e.k0s()),2&t&&(e.R7$(1),e.Y8G("size",30))}function nt(t,o){if(1&t&&(e.j41(0,"tr")(1,"td",11)(2,"div",12),e.nrm(3,"azt-create-avatar",13),e.j41(4,"div",14)(5,"h3",15),e.EFF(6),e.k0s(),e.j41(7,"p",16),e.EFF(8),e.k0s()()()(),e.j41(9,"td",11),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"td",17),e.nrm(13,"lucide-icon",18),e.k0s()()),2&t){const n=o.$implicit,a=e.XpG(2);e.R7$(3),e.Y8G("nameCreateAvatar",n.fullName)("linkAvatar",n.avatar)("size",35),e.R7$(3),e.JRh(n.fullName),e.R7$(2),e.JRh(n.email),e.R7$(2),e.JRh(e.bMT(11,6,a.checkRole(n.role)))}}function at(t,o){if(1&t&&(e.j41(0,"div")(1,"div",4)(2,"p",5),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"a",6),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()(),e.j41(8,"table",7)(9,"thead")(10,"tr")(11,"th",8),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"th",9),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s(),e.nrm(17,"th"),e.k0s()(),e.j41(18,"tbody"),e.DNE(19,nt,14,8,"tr",10),e.k0s()()()),2&t){const n=e.XpG();e.R7$(3),e.JRh(e.bMT(4,5,"lang_core_danh_sach_thanh_vien")),e.R7$(3),e.SpI("+ ",e.bMT(7,7,"lang_teacher_group_group_add_member"),""),e.R7$(6),e.JRh(e.bMT(13,9,"lang_auto_ho_va_ten")),e.R7$(3),e.JRh(e.bMT(16,11,"Vai tr\xf2")),e.R7$(4),e.Y8G("ngForOf",n.members)}}let it=(()=>{var t;class o extends T.H{getData(){this.ebankMemberService.apiEbanksMemberEbankIdGet(this.ebankId).subscribe(a=>{a.success?(this.members=a.data??[],this.stopStatusObj()):(this.stopStatusObj(),this.showErrorSnack(a.message))})}checkRole(a){return"owner"==a?"lang_auto_chu_so_huu":"viewer"==a?"lang_auto_nguoi_xem":"lang_auto_nguoi_soan_thao"}ngOnInit(){this.getData()}constructor(a){super(),this.ebankMemberService=a,this.ebankId=1,this.members=[]}}return(t=o).\u0275fac=function(a){return new(a||t)(e.rXU(et.V))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-box-decentralization"]],features:[e.Vt3],decls:2,vars:2,consts:[["class","p-5 flex justify-center items-center",4,"ngIf"],[4,"ngIf"],[1,"p-5","flex","justify-center","items-center"],[3,"size"],[1,"flex","justify-between","items-center"],[1,"text-lg","font-medium"],[1,"text-primary"],[1,"table","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[4,"ngFor","ngForOf"],[1,"text-center","capitalize"],[1,"flex","items-center"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3","text-left"],[1,"font-medium"],[1,"text-slate-500"],[1,"text-right","capitalize"],["name","ellipsis",1,"clickable"]],template:function(a,i){1&a&&(e.DNE(0,tt,2,1,"div",0),e.DNE(1,at,20,13,"div",1)),2&a&&(e.Y8G("ngIf",i.statusObj.loading),e.R7$(1),e.Y8G("ngIf",i.members.length&&!i.statusObj.loading))},dependencies:[c.Sq,c.bT,N.p,R.R,b.WGl,D.wp],encapsulation:2}),o})(),ot=(()=>{var t;class o extends T.H{convertFrameDataToNode(a){return a.map(i=>({id:i.id,getQuestionKey:"",title:i.name,parentId:i.parentId,children:this.convertFrameDataToNode(i.children),position:i.position,nodeType:1,objectiveId:"objective"==i.suggestModel?i.suggestId:void 0,knowledgeId:"knowledge"==i.suggestModel?i.suggestId:void 0,questions:i.questions.map(u=>({...u,difficultyIndex:0}))}))}ngOnInit(){this.eBankResponseData?.frames&&(this.nodeObjsData=this.convertFrameDataToNode(this.eBankResponseData?.frames))}ngOnChanges(a){a.eBankResponseData&&this.eBankResponseData?.frames&&(this.nodeObjsData=this.convertFrameDataToNode(this.eBankResponseData?.frames))}constructor(a){super(),this.activeRoute=a,this.bankId=0,this.nodeObjsData=[]}}return(t=o).\u0275fac=function(a){return new(a||t)(e.rXU(_.nX))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-box-structure-question-library"]],inputs:{bankId:"bankId",eBankResponseData:"eBankResponseData"},features:[e.Vt3,e.OA$],decls:2,vars:4,consts:[[3,"rawNodes","modeView","schoolSubjectValue","schoolLevelValue"]],template:function(a,i){if(1&a&&(e.j41(0,"div"),e.nrm(1,"app-question-library-tree-component",0),e.k0s()),2&a){let u,f;e.R7$(1),e.Y8G("rawNodes",i.nodeObjsData)("modeView","structure")("schoolSubjectValue",null!==(u=null==i.eBankResponseData?null:i.eBankResponseData.subjectId)&&void 0!==u?u:0)("schoolLevelValue",null!==(f=null==i.eBankResponseData?null:i.eBankResponseData.levelId)&&void 0!==f?f:0)}},dependencies:[$],encapsulation:2}),o})(),rt=(()=>{var t;class o extends T.H{ngOnInit(){}constructor(){super()}}return(t=o).\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.VBU({type:t,selectors:[["app-box-work"]],features:[e.Vt3],decls:59,vars:8,consts:[[1,"box-vertical-line","absolute","flex","justify-center"],[1,"vertical-line"],[1,"flex","justify-between","items-center","relative"],[1,"flex","items-center"],[3,"nameCreateAvatar","size"],[1,"ml-2"],[1,"font-medium"],[1,"flex","items-center","text-sm"],["name","pencil-line","size","14",1,"text-primary"],[1,"mr-2","ml-2"],["url","http://localhost:4400/vi/admin/question-library/view-bank/2",1,"text-primary"],[1,"text-xs"],[1,"flex","justify-between","items-center","relative","mt-5"],["name","book-text","size","14",1,"text-primary"]],template:function(a,i){1&a&&(e.j41(0,"div")(1,"div",0),e.nrm(2,"div",1),e.k0s(),e.j41(3,"div",2)(4,"div",3),e.nrm(5,"azt-create-avatar",4),e.j41(6,"div",5)(7,"h3",6),e.EFF(8,"Ho\xe0ng 123"),e.k0s(),e.j41(9,"div",7),e.nrm(10,"lucide-icon",8),e.j41(11,"span",9),e.EFF(12,"Th\xeam 10 c\xe2u h\u1ecfi v\xe0o ng\xe2n h\xe0ng"),e.k0s(),e.j41(13,"a",10),e.EFF(14,"trac_nghiem_dung_sai.docx"),e.k0s()()()(),e.j41(15,"p",11),e.EFF(16,"1 ng\xe0y tr\u01b0\u1edbc"),e.k0s()(),e.j41(17,"div",12)(18,"div",3),e.nrm(19,"azt-create-avatar",4),e.j41(20,"div",5)(21,"h3",6),e.EFF(22,"Ho\xe0ng 123"),e.k0s(),e.j41(23,"div",7),e.nrm(24,"lucide-icon",13),e.j41(25,"span",9),e.EFF(26,"Th\xeam 10 c\xe2u h\u1ecfi v\xe0o ng\xe2n h\xe0ng"),e.k0s(),e.j41(27,"a",10),e.EFF(28,"trac_nghiem_dung_sai.docx"),e.k0s()()()(),e.j41(29,"p",11),e.EFF(30,"1 ng\xe0y tr\u01b0\u1edbc"),e.k0s()(),e.j41(31,"div",12)(32,"div",3),e.nrm(33,"azt-create-avatar",4),e.j41(34,"div",5)(35,"h3",6),e.EFF(36,"Ho\xe0ng 123"),e.k0s(),e.j41(37,"div",7),e.nrm(38,"lucide-icon",13),e.j41(39,"span",9),e.EFF(40,"Th\xeam 10 c\xe2u h\u1ecfi v\xe0o ng\xe2n h\xe0ng"),e.k0s(),e.j41(41,"a",10),e.EFF(42,"trac_nghiem_dung_sai.docx"),e.k0s()()()(),e.j41(43,"p",11),e.EFF(44,"1 ng\xe0y tr\u01b0\u1edbc"),e.k0s()(),e.j41(45,"div",12)(46,"div",3),e.nrm(47,"azt-create-avatar",4),e.j41(48,"div",5)(49,"h3",6),e.EFF(50,"Ho\xe0ng 123"),e.k0s(),e.j41(51,"div",7),e.nrm(52,"lucide-icon",13),e.j41(53,"span",9),e.EFF(54,"Th\xeam 10 c\xe2u h\u1ecfi v\xe0o ng\xe2n h\xe0ng"),e.k0s(),e.j41(55,"a",10),e.EFF(56,"trac_nghiem_dung_sai.docx"),e.k0s()()()(),e.j41(57,"p",11),e.EFF(58,"1 ng\xe0y tr\u01b0\u1edbc"),e.k0s()()()),2&a&&(e.R7$(5),e.Y8G("nameCreateAvatar","Ho\xe0ng X\xf4")("size",35),e.R7$(14),e.Y8G("nameCreateAvatar","Ho\xe0ng X\xf4")("size",35),e.R7$(14),e.Y8G("nameCreateAvatar","Ho\xe0ng X\xf4")("size",35),e.R7$(14),e.Y8G("nameCreateAvatar","Ho\xe0ng X\xf4")("size",35))},dependencies:[N.p,b.WGl],styles:[".vertical-line[_ngcontent-%COMP%]{border-left:2px solid lightgray}.box-vertical-line[_ngcontent-%COMP%]{width:35px;height:calc(100% - 2.5rem);padding-top:35px;padding-bottom:35px}"]}),o})();function st(t,o){if(1&t&&e.nrm(0,"azt-loading-effect",3),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function lt(t,o){if(1&t&&(e.j41(0,"div"),e.nrm(1,"app-box-structure-question-library",27),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Y8G("bankId",n.bankId)("eBankResponseData",n.eBankResponseData)}}function ct(t,o){1&t&&(e.j41(0,"div"),e.nrm(1,"app-box-work"),e.k0s())}function dt(t,o){1&t&&(e.j41(0,"div"),e.nrm(1,"app-box-analysis"),e.k0s())}function mt(t,o){1&t&&(e.j41(0,"div"),e.nrm(1,"app-box-decentralization"),e.k0s())}function ut(t,o){if(1&t){const n=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"p")(3,"span",6),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"span",7),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.j41(9,"div",8),e.nrm(10,"input",9),e.j41(11,"button",10),e.nrm(12,"lucide-icon",11),e.k0s()()(),e.j41(13,"div",12)(14,"div",13)(15,"div",14),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.selectTab(0))}),e.nrm(16,"lucide-icon",15),e.EFF(17," C\u1ea5u tr\xfac "),e.k0s(),e.j41(18,"div",16),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.selectTab(1))}),e.nrm(19,"lucide-icon",17),e.EFF(20," C\xe1c ho\u1ea1t \u0111\u1ed9ng "),e.j41(21,"span",18),e.EFF(22,"3"),e.k0s()(),e.j41(23,"div",16),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.selectTab(2))}),e.nrm(24,"azt-svg-icon",19),e.EFF(25," Ph\xe2n t\xedch "),e.k0s(),e.j41(26,"div",20),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.selectTab(3))}),e.nrm(27,"lucide-icon",21),e.EFF(28," Ph\xe2n quy\u1ec1n "),e.k0s()(),e.j41(29,"div",22)(30,"button",23),e.EFF(31,"T\u1ea1o ma tr\u1eadn \u0111\u1ec1 thi"),e.k0s(),e.j41(32,"button",24),e.EFF(33,"+ Nh\u1eadp c\xe2u h\u1ecfi"),e.k0s()()(),e.j41(34,"div",25),e.DNE(35,lt,2,2,"div",26),e.DNE(36,ct,2,0,"div",26),e.DNE(37,dt,2,0,"div",26),e.DNE(38,mt,2,0,"div",26),e.k0s()()}if(2&t){const n=e.XpG();let a,i;e.R7$(4),e.JRh(null!==(a=null==n.eBankResponseData?null:n.eBankResponseData.name)&&void 0!==a?a:e.bMT(5,16,"lang_notice_bank_question")),e.R7$(3),e.SpI("(",(null!==(i=null==n.eBankResponseData?null:n.eBankResponseData.totalQuestion)&&void 0!==i?i:0)+" "+e.bMT(8,18,"lang_auto_cau_hoi"),")"),e.R7$(8),e.HbH(0==n.tab?"btn-tab-select text-slate-500 font-medium":""),e.R7$(3),e.HbH(1==n.tab?"btn-tab-select text-slate-500 font-medium":""),e.R7$(5),e.HbH(2==n.tab?"btn-tab-select text-slate-500 font-medium":""),e.R7$(1),e.Y8G("type","chart-pie")("size",16),e.R7$(2),e.HbH(3==n.tab?"btn-tab-select text-slate-500 font-medium":""),e.R7$(9),e.Y8G("ngIf",0==n.tab),e.R7$(1),e.Y8G("ngIf",1==n.tab),e.R7$(1),e.Y8G("ngIf",2==n.tab),e.R7$(1),e.Y8G("ngIf",3==n.tab)}}const pt=[{path:"",component:Ne,canActivate:[C.t],children:[{path:"",component:P},{path:"question-dashboard",component:P},{path:"import-question",component:ze},{path:"view-bank/:bankId/:tab",component:(()=>{var t;class o extends T.H{selectTab(a){this.tab=a,this.commonService.myNavigationWithoutHistory("/admin/question-library/view-bank/"+this.bankId+"/"+a)}getDataBank(){this.initStatusObj(),this.eBanksService.apiEbanksIdGet(this.bankId).subscribe(a=>{a.success?(this.eBankResponseData=a.data,this.successStatusObj()):this.errorStatusObj(a.message,!0)})}ngOnInit(){this.waitDestroy((0,Ue.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.tab=Number(this.commonService.getMyParam(this.activeRoute,"tab")),this.bankId=Number(this.commonService.getMyParam(this.activeRoute,"bankId")),this.tab>3&&this.selectTab(0),this.getDataBank()}))}constructor(a,i){super(),this.activeRoute=a,this.eBanksService=i,this.tab=0,this.bankId=0}}return(t=o).\u0275fac=function(a){return new(a||t)(e.rXU(_.nX),e.rXU(j.nd))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-view-bank"]],features:[e.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"p-3"],[1,"flex","justify-between","items-center"],[1,"font-medium"],[1,"ml-3","text-slate-500","text-xs"],[1,"relative","flex","items-center"],["type","text","placeholder","Nh\u1eadp m\xe3 c\xe2u h\u1ecfi",1,"form-control","w-64","box","pr-16"],[1,"lucide","lucide-search","absolute","my-auto","zoom-in","inset-y-0","mr-3","right-0",2,"top","-2px"],["name","search","size","16"],[1,"flex","justify-between","mt-5",2,"margin-bottom","-5px"],[1,"flex"],[1,"btn-tab","clickable",3,"click"],["name","list","size","16",1,"mr-2"],[1,"btn-tab","clickable","ml-2",3,"click"],["name","users","size","16",1,"mr-2"],[1,"text-xs","number-red"],[1,"mr-2",3,"type","size"],[1,"btn-tab","clickable","nl-2",3,"click"],["name","settings","size","16",1,"mr-2"],[1,"flex","items-start"],[1,"btn","btn-primary","btn-sm"],[1,"btn","btn-primary","ml-3","btn-sm"],[1,"box","p-5"],[4,"ngIf"],[3,"bankId","eBankResponseData"]],template:function(a,i){if(1&a&&(e.j41(0,"teacher-layout",0),e.DNE(1,st,1,1,"azt-loading-effect",1),e.DNE(2,ut,39,20,"ng-template",null,2,e.C5r),e.k0s()),2&a){const u=e.sdS(3);e.Y8G("headerBackToLink","/admin/dashboard"),e.R7$(1),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",u)}},dependencies:[c.bT,O.K,V.m,L.Q,b.WGl,Ze,it,ot,rt,D.wp],styles:[".btn-tab[_ngcontent-%COMP%]{padding:8px 15px 15px;display:flex;justify-content:center;align-items:center}.btn-tab-select[_ngcontent-%COMP%]{background:#fff;border-top-left-radius:8px;border-top-right-radius:8px}.number-red[_ngcontent-%COMP%]{background:red;border-radius:50%;width:15px;height:15px;color:#fff;font-weight:900;display:flex;justify-content:center;align-items:center;margin:auto auto auto 5px}"]}),o})()},{path:"add-new-question-library",component:Fe}]}];let gt=(()=>{var t;class o{}return(t=o).\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[_.iI.forChild(pt),_.iI,E.XE]}),o})(),ht=(()=>{var t;class o{}return(t=o).\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[_.iI,c.MD,p.s,d.Id,x.YN,x.X1,s.hM,y.L,v.Lk,d.Id,l.xv,h.Q,m.b,b.flO.pick(b.Ptg),k.An,gt,g.Fr]}),o})()},60531:(S,I,r)=>{"use strict";r.d(I,{O:()=>_});var c=r(26860),x=r(50589),s=r(62095);let _=(()=>{var g;class b{setMode(l){this.browserStorageService.saveSimpleStorage("__editor:mode_open",l)}getMode(){var l=this.browserStorageService.getSimpleStorage("__editor:mode_open")||"editor";return this.browserStorageService.removeSimpleStorage("__editor:mode_open"),l}setFileProcess(l){this.file=l}getFirstFile(){let l=this.file;return this.file=void 0,l}setOutputData(l){this.data=l}getOutputData(){return this.data}redirectToConfig(l){this.data.homework&&l.showHomework(),(this.data.exam||this.data.examOffline)&&l.showExam()}setMatrixData(l,k){k?this.matrix=l:this.browserStorageService.saveSimpleStorage("__editor:matrix-data",JSON.stringify(l))}getMatrixData(){var l=this.browserStorageService.getSimpleStorage("__editor:matrix-data");return this.browserStorageService.removeSimpleStorage("__editor:matrix-data"),l?this.commonService.castJsonToObj(l):this.matrix}constructor(l,k){this.browserStorageService=l,this.commonService=k,this.data={}}}return(g=b).\u0275fac=function(l){return new(l||g)(c.KVO(x.z),c.KVO(s.R))},g.\u0275prov=c.jDH({token:g,factory:g.\u0275fac,providedIn:"root"}),b})()},43166:(S,I,r)=>{"use strict";r.d(I,{x:()=>_});var c=r(10936),x=r(26860),s=r(62095);let _=(()=>{var g;class b{filter(l,k){return null==l?[]:l=l.filter(d=>this.removeAllSpecialChars((null!=k?d[k]:d).toString()).includes(this.removeAllSpecialChars(this.searchControl.value)))}mergeSchoolLevel(l){let k=[];return l.forEach(d=>null!=d.schoolLevel&&k.push(d.schoolLevel)),k}removeAllSpecialChars(l){return l=(l=this.commonService.myTranslateInstant(l)??l).toLowerCase().trim(),l=this.commonService.convertVietnameseToEnglish(l),l=this.commonService.removeSpecialStringInSearch(l),(l=this.commonService.removeNonAlphabetic(l)).toLowerCase().trim()}constructor(l){this.commonService=l,this.searchControl=new c.MJ("",{nonNullable:!0})}}return(g=b).\u0275fac=function(l){return new(l||g)(x.rXU(s.R))},g.\u0275dir=x.FsC({type:g,selectors:[["","searchInList",""]],exportAs:["searchInList"]}),b})()},10296:(S,I,r)=>{"use strict";r.d(I,{R:()=>v});var c=r(43277),s=r(18148),_=r(26860),g=r(52509),b=r(62095);let v=(()=>{var l;class k{constructor(p,y){this.mobileWebviewService=p,this.commonService=y}shareFileWithBlob(p,y){if(this.commonService.isMobileWebview(void 0)){s.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");let m=new FileReader;m.readAsDataURL(p),m.onloadend=()=>{let h=m.result;"string"==typeof h&&(this.mobileWebviewService.sendShareFileBase64(y,String(h)),s.L.closeLoadingEffect(100))}}else c.saveAs(p,y)}shareFileWithBase64(p,y){this.commonService.isMobileWebview(void 0)?this.mobileWebviewService.sendShareFileBase64(y,p):c.saveAs(p,y)}}return(l=k).\u0275fac=function(p){return new(p||l)(_.KVO(g.f),_.KVO(b.R))},l.\u0275prov=_.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}),k})()},18148:(S,I,r)=>{"use strict";r.d(I,{L:()=>c});let c=(()=>{var x;class s{static openLoadingEffect(g){s.getDomElement().style.display="flex",setTimeout(()=>{s.changeMsgLoadingEffect(g)},50)}static closeLoadingEffect(g){return new Promise(b=>{setTimeout(()=>{const v=s.getDomElement();v&&(v.style.display="none"),b(!0)},g)})}static changeMsgLoadingEffect(g){s.getDomContent().innerText=g}static getDomContent(){return document.getElementById(s.idStatusContent)??document.createElement("span")}static getDomElement(){return document.getElementById(s.idComponent)??this.createDomElement()}static createDomElement(){const g=document.createElement("div");return g.id=s.idComponent,g.setAttribute("style","position: fixed;display: flex;width: 100vw;height: 100%;background: #000000c7;color: #ffffff;font-size: 20px;font-weight: lighter;justify-content: center;align-items: center;cursor: progress;z-index: 9999;top: 0;left: 0;"),g.style.display="none",g.innerHTML=`\n        <div class="text-center" style="height: 85%; overflow-x: auto;">\n            <div class="flex justify-center mt-5">\n                <svg width="20" viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                        <g transform="translate(2 1)" stroke="currentColor" stroke-width="1.5">\n                            <circle cx="42.601" cy="11.462" r="5" fill-opacity="1" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="1;0;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="49.063" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;1;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="42.601" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;1;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="49.125" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;1;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;1;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="4.938" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;1;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="11.462" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;1;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="5" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;0;1" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                        </g>\n                    </g>\n                </svg>\n            </div>\n            <div style="margin-top: 10px;position: relative;">\n                <span id="${s.idStatusContent}"></span>\n            </div>\n        </div>`,document.body.appendChild(g),g}}return(x=s).idComponent="azt-status-loading-effect",x.idStatusContent="azt-status-loading-effect-content",s})()},50334:(S,I,r)=>{"use strict";r.d(I,{C:()=>x});var c=r(59640);class x extends c.H{constructor(){super(...arguments),this.nodeObjs=[]}searchByText(_){this.nodeObjs=(_=this.standardSearchText(_)).trim()?this.doSearchByText(_,this.nodeObjs,[]):this.showAndExpandAll(this.nodeObjs)}doSearchByText(_,g,b){for(var v of g){v.isShow=!1;let l=this.standardSearchText(v.text);(_.includes(l)||l.includes(_))&&(v.isShow=!0,v.isExpand=!0,b.forEach(k=>{k.isShow=!0,k.isExpand=!0})),v.children.length&&(v.children=this.doSearchByText(_,v.children,b.concat(v)))}return g}showAndExpandAll(_){for(var g of _)g.isShow=!0,g.isExpand=!0,g.children=this.showAndExpandAll(g.children);return _}expand(_){_.isExpand=!0}collapse(_){_.isExpand=!1}standardSearchText(_){return _=_.toLowerCase(),_=this.commonService.removeSpecialStringInSearch(_),this.commonService.convertVietnameseToEnglish(_)}}},74175:(S,I,r)=>{"use strict";r.d(I,{W:()=>y});var c=r(47947),x=r(59640),s=r(26860),_=r(10296),g=r(62095),b=r(27691),v=r(54460),l=r(76975);function k(m,h){if(1&m){const E=s.RV6();s.qex(0),s.j41(1,"a",2),s.bIt("click",function(){s.eBV(E);const T=s.XpG();return s.Njj(T.shareFileToFlutter())}),s.j41(2,"span"),s.EFF(3),s.nI1(4,"mytranslate"),s.k0s(),s.SdG(5),s.k0s(),s.bVm()}if(2&m){const E=s.XpG();s.R7$(1),s.Aen(E.style),s.HbH(E.classStyle),s.FS9("target",E.target),s.R7$(2),s.JRh(s.bMT(4,7,E.fileDescription))}}function d(m,h){if(1&m&&(s.j41(0,"a",3)(1,"span"),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s(),s.SdG(4,1),s.k0s()),2&m){const E=s.XpG();s.Aen(E.style),s.HbH(E.classStyle),s.FS9("href",E.dataUrl,s.B4B),s.FS9("target",E.target),s.FS9("download",E.fileName),s.R7$(2),s.JRh(s.bMT(3,9,E.fileDescription))}}const p=["*","*"];let y=(()=>{var m;class h extends x.H{downloadFile(){return this.http.get(this.dataUrl,{responseType:"blob"}).pipe((0,c.T)(C=>C))}shareFileToFlutter(){this.downloadFile().subscribe(C=>{this.shareFileFlutterService.shareFileWithBlob(C,this.fileName)})}ngOnInit(){super.ngOnInit()}constructor(C,T,e){super(),this.shareFileFlutterService=C,this.commonService=T,this.http=e,this.dataUrl="",this.target="",this.fileName="",this.fileDescription="",this.classStyle="",this.style=""}}return(m=h).\u0275fac=function(C){return new(C||m)(s.rXU(_.R),s.rXU(g.R),s.rXU(b.Qq))},m.\u0275cmp=s.VBU({type:m,selectors:[["azt-download-link-item"]],inputs:{dataUrl:"dataUrl",target:"target",fileName:"fileName",fileDescription:"fileDescription",classStyle:"classStyle",style:"style"},features:[s.Vt3],ngContentSelectors:p,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["NormalWeb",""],[3,"target","click"],[3,"href","target","download"]],template:function(C,T){if(1&C&&(s.NAR(p),s.DNE(0,k,6,9,"ng-container",0),s.DNE(1,d,5,11,"ng-template",null,1,s.C5r)),2&C){const e=s.sdS(2);s.Y8G("ngIf",T.isMobileWebView)("ngIfElse",e)}},dependencies:[v.bT,l.wp],encapsulation:2}),h})()},80859:(S,I,r)=>{"use strict";r.d(I,{p:()=>k});var c=r(26860),x=r(59640),s=r(64198),_=r(39712);let g=(()=>{var d;class p extends x.H{constructor(){super(...arguments),this.notSupportedFile=_.Ym.NONE,this.limitSize=200,this.selectFile=m=>{const h=m.target,E=h.files;if(E){if(this.limitSize=this.limitSize>200?200:this.limitSize,Array.from(E).find(j=>(0,s.hD)(j.size)>=this.limitSize))return this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_vui_long_chon_tep_co_kich_thuoc_nho_hon",this.limitSize.toString(),"MB"));if(Array.from(E).find(j=>this.isNotSupportedFile(j)))return this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_chua_ho_tro_dinh_dang",this.notSupportedFile));const e=[];Array.from(E).forEach(j=>{e.push(j)}),this.emitUploadToEditorComplete(e)}h.value=""}}isNotSupportedFile(m){const h=[this.notSupportedFile],E=m.name.split(".").pop()?.toLowerCase();return h.includes(`.${E}`)}}return(d=p).\u0275fac=function(){let y;return function(h){return(y||(y=c.xGo(d)))(h||d)}}(),d.\u0275cmp=c.VBU({type:d,selectors:[["ng-component"]],inputs:{fileType:"fileType",notSupportedFile:"notSupportedFile",limitSize:"limitSize"},features:[c.Vt3],decls:0,vars:0,template:function(m,h){},encapsulation:2}),p})();var b=r(10936),v=r(34068);const l=["*"];let k=(()=>{var d;class p extends g{constructor(){super(...arguments),this.emitFiles=new c.bkB}emitUploadToEditorComplete(m){m.length>0&&this.emitFiles.emit(m[0])}onDrop(m){try{this.emitFiles.emit(m[0])}catch(h){alert(h)}}}return(d=p).\u0275fac=function(){let y;return function(h){return(y||(y=c.xGo(d)))(h||d)}}(),d.\u0275cmp=c.VBU({type:d,selectors:[["azt-upload-single-document-to-editor"]],outputs:{emitFiles:"emitFiles"},features:[c.Vt3],ngContentSelectors:l,decls:5,vars:2,consts:[[1,"upload-document","h-full",3,"appDropZone","click"],[3,"hidden"],["type","file",1,"form-control","file-input",3,"accept","change"],["fileSelect",""]],template:function(m,h){if(1&m){const E=c.RV6();c.NAR(),c.j41(0,"div",0),c.bIt("appDropZone",function(T){return h.onDrop(T)})("click",function(){c.eBV(E);const T=c.sdS(3);return c.Njj(T.click())}),c.j41(1,"form",1)(2,"input",2,3),c.bIt("change",function(T){return h.selectFile(T)}),c.k0s()(),c.SdG(4),c.k0s()}2&m&&(c.R7$(1),c.Y8G("hidden",!0),c.R7$(1),c.FS9("accept",h.fileType))},dependencies:[b.qT,b.cb,b.cV,v.F],encapsulation:2}),p})()},43277:function(S,I){var r,x;void 0!==(x="function"==typeof(r=function(){"use strict";function _(d,p,y){var m=new XMLHttpRequest;m.open("GET",d),m.responseType="blob",m.onload=function(){k(m.response,p,y)},m.onerror=function(){console.error("could not download file")},m.send()}function g(d){var p=new XMLHttpRequest;p.open("HEAD",d,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function b(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(p)}}var v="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,l=v.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),k=v.saveAs||("object"!=typeof window||window!==v?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,p,y){var m=v.URL||v.webkitURL,h=document.createElement("a");h.download=p=p||d.name||"download",h.rel="noopener","string"==typeof d?(h.href=d,h.origin===location.origin?b(h):g(h.href)?_(d,p,y):b(h,h.target="_blank")):(h.href=m.createObjectURL(d),setTimeout(function(){m.revokeObjectURL(h.href)},4e4),setTimeout(function(){b(h)},0))}:"msSaveOrOpenBlob"in navigator?function(d,p,y){if(p=p||d.name||"download","string"!=typeof d)navigator.msSaveOrOpenBlob(function s(d,p){return typeof p>"u"?p={autoBom:!1}:"object"!=typeof p&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\ufeff",d],{type:d.type}):d}(d,y),p);else if(g(d))_(d,p,y);else{var m=document.createElement("a");m.href=d,m.target="_blank",setTimeout(function(){b(m)})}}:function(d,p,y,m){if((m=m||open("","_blank"))&&(m.document.title=m.document.body.innerText="downloading..."),"string"==typeof d)return _(d,p,y);var h="application/octet-stream"===d.type,E=/constructor/i.test(v.HTMLElement)||v.safari,C=/CriOS\/[\d]+/.test(navigator.userAgent);if((C||h&&E||l)&&typeof FileReader<"u"){var T=new FileReader;T.onloadend=function(){var w=T.result;w=C?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=w:location=w,m=null},T.readAsDataURL(d)}else{var e=v.URL||v.webkitURL,j=e.createObjectURL(d);m?m.location=j:location.href=j,m=null,setTimeout(function(){e.revokeObjectURL(j)},4e4)}});v.saveAs=k.saveAs=k,S.exports=k})?r.apply(I,[]):r)&&(S.exports=x)}}]);