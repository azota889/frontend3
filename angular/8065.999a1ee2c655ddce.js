"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[8065],{99965:(T,b,r)=>{r.d(b,{j:()=>v});var m=r(48891);let v=(()=>{var p;class t{constructor(a){this.el=a}onInput(){this.adjustTextAreaHeight(this.el.nativeElement)}onFocus(){this.adjustTextAreaHeight(this.el.nativeElement)}ngAfterViewInit(){this.adjustTextAreaHeight(this.el.nativeElement)}adjustTextAreaHeight(a){a.parentElement&&(a.parentElement.style.minHeight=a.parentElement.clientHeight+"px"),a.style.overflow="hidden",a.style.height="auto";let _=a.scrollHeight+30;_=_<57?57:_,a.style.height=_+"px",a.parentElement&&(a.parentElement.style.minHeight="auto")}}return(p=t).\u0275fac=function(a){return new(a||p)(m.rXU(m.aKT))},p.\u0275dir=m.FsC({type:p,selectors:[["textarea","autoResize",""]],hostBindings:function(a,_){1&a&&m.bIt("input",function(C){return _.onInput(C.target.value)})("focus",function(){return _.onFocus()})}}),t})()},10805:(T,b,r)=>{r.d(b,{g:()=>w});var m=r(89163),v=r(23047),p=r(33887),t=r(48891),g=r(17776),a=r(54460),_=r(5601),h=r(2915),C=r(52811),y=r(76975);const I=e=>({"block w-28":e}),E=e=>({"width.%":e});function R(e,o){1&e&&(t.j41(0,"div",9)(1,"b"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_azt_muc_do_thuon_thuc_ky_nang")))}function D(e,o){1&e&&(t.j41(0,"div",10)(1,"h4",11),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_azt_muc_do_thuon_thuc_ky_nang")," "))}function j(e,o){1&e&&(t.j41(0,"div",12)(1,"span",13),t.nrm(2,"azt-loading-ui"),t.k0s()())}function O(e,o){if(1&e&&(t.j41(0,"div",16)(1,"div",17)(2,"div",18),t.nrm(3,"div",19),t.k0s()()()),2&e){const i=t.XpG(4);t.R7$(3),t.Y8G("chart",i.chartSkill)}}function z(e,o){1&e&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"long_core_khong_tim_thay_Muc_do_thuan_thuc_ky_nang")," "))}function A(e,o){if(1&e&&t.DNE(0,O,4,1,"div",14)(1,z,3,3,"div",15),2&e){const i=t.XpG(3);t.Y8G("ngIf",i.chartSkill),t.R7$(),t.Y8G("ngIf",!i.chartSkill)}}function P(e,o){if(1&e){const i=t.RV6();t.j41(0,"div",21)(1,"button",22),t.bIt("click",function(){t.eBV(i);const c=t.XpG(3);return t.Njj(c.dialogRef.close())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}2&e&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_dong")," "))}function F(e,o){if(1&e&&(t.j41(0,"div"),t.DNE(1,R,4,3,"div",5)(2,D,4,3,"div",6)(3,j,3,0,"div",7),t.j41(4,"azt-mat-dialog-content"),t.DNE(5,A,2,2,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(7,P,4,3,"div",8),t.k0s()),2&e){const i=t.sdS(6),n=t.XpG(2);t.R7$(),t.Y8G("ngIf",1==n.type),t.R7$(),t.Y8G("ngIf",!n.type),t.R7$(),t.Y8G("ngIf",n.statusObj.loading)("ngIfElse",i),t.R7$(4),t.Y8G("ngIf",1==n.type)}}function G(e,o){1&e&&(t.j41(0,"th",33),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_don_vi_kien_thuc")," "))}function M(e,o){if(1&e&&(t.j41(0,"td",34)(1,"span"),t.EFF(2),t.k0s()()),2&e){const i=o.$implicit;t.R7$(2),t.JRh(i.title)}}function $(e,o){1&e&&(t.j41(0,"th",33),t.nrm(1,"span",35),t.k0s())}function L(e,o){if(1&e){const i=t.RV6();t.j41(0,"span",37),t.bIt("click",function(){t.eBV(i);const c=t.XpG().$implicit,s=t.XpG(3);return t.Njj(s.goToPractice(c.examHashId))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&e){const i=t.XpG(4);t.Y8G("ngClass",t.eq3(4,I,!i.isMobileDevice)),t.R7$(),t.JRh(t.bMT(2,2,"lang_testbank_practice"))}}function N(e,o){if(1&e&&(t.j41(0,"td",34),t.DNE(1,L,3,6,"span",36),t.k0s()),2&e){const i=o.$implicit;t.R7$(),t.Y8G("ngIf",i.examHashId)}}function B(e,o){1&e&&(t.j41(0,"th",38)(1,"span",35),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&e&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_ty_le")))}function H(e,o){if(1&e&&(t.j41(0,"td",34)(1,"div",39)(2,"div",40),t.nI1(3,"number"),t.j41(4,"span",41),t.EFF(5),t.nI1(6,"number"),t.k0s()()()()),2&e){const i=o.$implicit;t.R7$(2),t.Y8G("ngStyle",t.eq3(8,E,t.i5U(3,2,100*i.point,"1.0-1"))),t.R7$(3),t.JRh(i.point?t.i5U(6,5,100*i.point,"1.0-1")+"%":"")}}function U(e,o){1&e&&t.nrm(0,"tr",42)}function Y(e,o){1&e&&t.nrm(0,"tr",43)}function X(e,o){if(1&e){const i=t.RV6();t.j41(0,"div",23)(1,"div",9)(2,"b"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"azt-mat-dialog-content")(6,"table",24),t.qex(7,25),t.DNE(8,G,3,3,"th",26)(9,M,3,1,"td",27),t.bVm(),t.qex(10,28),t.DNE(11,$,2,0,"th",26)(12,N,2,1,"td",27),t.bVm(),t.qex(13,29),t.DNE(14,B,4,3,"th",30)(15,H,7,10,"td",27),t.bVm(),t.DNE(16,U,1,0,"tr",31)(17,Y,1,0,"tr",32),t.k0s()(),t.j41(18,"div",21)(19,"button",22),t.bIt("click",function(){t.eBV(i);const c=t.XpG(2);return t.Njj(c.closeDetailSkill())}),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()}if(2&e){const i=t.XpG(2);t.R7$(3),t.JRh(t.bMT(4,6,"lang_testbank_frontend_student_skill_statistic_title")),t.R7$(3),t.Y8G("dataSource",i.skillItem),t.R7$(10),t.Y8G("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.R7$(),t.Y8G("matRowDefColumns",i.displayedColumns),t.R7$(3),t.SpI(" ",t.bMT(21,8,"lang_auto_dong")," ")}}function K(e,o){if(1&e&&(t.j41(0,"div",2),t.DNE(1,F,8,5,"div",3)(2,X,22,10,"div",4),t.k0s()),2&e){const i=t.XpG();t.Y8G("ngClass",1==i.type?"box p-3":""),t.R7$(),t.Y8G("ngIf",!i.skillItem.length),t.R7$(),t.Y8G("ngIf",i.skillItem.length)}}let w=(()=>{var e;class o extends p._{getSkillProfile(){this.studentPracticeService.aiApiV1StudentPracticeSkillProficiencyPost({schoolLevelId:this.levelId,schoolSubjectId:this.subjectId,userId:this.userId}).subscribe({next:c=>{this.createChartSkill(c.skillChapterViewItems),this.stopStatusObj()},error:c=>{this.errorStatusObj(c.message,!0)}})}convertTitle(n,c){return this.commonService.myTranslateInstant(n)+" ("+(c.reduce((f,S)=>(f??0)+(S??0),0)?.toString()??"")+")"}createChartSkill(n){if(!n||!n.length)return;let c=n.map(l=>l.title??""),s=n.map(l=>0==l.countExcellent?null:l.countExcellent),f=n.map(l=>0==l.countGood?null:l.countGood),S=n.map(l=>0==l.countNotGood?null:l.countNotGood),k=n.map(l=>0==l.countTerrible?null:l.countTerrible),x=n.map(l=>0==l.countNonePractice?null:l.countNonePractice),W=this.convertTitle("lang_azt_xuat_sac",s),J=this.convertTitle("lang_azt_kha",f),Q=this.convertTitle("lang_azt_trung_binh",S),Z=this.convertTitle("lang_azt_yeu",k),V=this.convertTitle("lang_auto_chua_thi",x),q=new v.t1({chart:{type:"column",style:{fontFamily:"Arial"}},title:{text:"",align:"center"},xAxis:{categories:c},yAxis:{min:0,title:{text:this.commonService.myTranslateInstant("lang_azt_so_kien_thuc")},stackLabels:{enabled:!0}},credits:{enabled:!1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},series:[{name:W,type:"column",data:s,color:"green",tooltip:{headerFormat:"<b>{point.x}</b><br/><b>{series.name}: {point.y}</b><br/>",pointFormatter:function(){return n[this.index].excellentSkills.map((d,u)=>u+1+": "+d.title).join("<br/>")}},events:{click:l=>{this.openDetailSkill(n[l.point.index].excellentSkills)}}},{name:J,type:"column",data:f,color:"yellow",tooltip:{headerFormat:"<b>{point.x}</b><br/><b>{series.name}: {point.y}</b><br/>",pointFormatter:function(){return n[this.index].goodSkills.map((d,u)=>u+1+": "+d.title).join("<br/>")}},events:{click:l=>{this.openDetailSkill(n[l.point.index].goodSkills)}}},{name:Q,type:"column",data:S,color:"orange",tooltip:{headerFormat:"<b>{point.x}</b><br/><b>{series.name}: {point.y}</b><br/>",pointFormatter:function(){return n[this.index].notGoodSkills.map((d,u)=>u+1+": "+d.title).join("<br/>")}},events:{click:l=>{this.openDetailSkill(n[l.point.index].notGoodSkills)}}},{name:Z,type:"column",data:k,color:"red",tooltip:{headerFormat:"<b>{point.x}</b><br/><b>{series.name}: {point.y}</b><br/>",pointFormatter:function(){return n[this.index].terribleSkills.map((d,u)=>u+1+": "+d.title).join("<br/>")}},events:{click:l=>{this.openDetailSkill(n[l.point.index].terribleSkills)}}},{name:V,type:"column",data:x,color:"grey",tooltip:{headerFormat:"<b>{point.x}</b><br/><b>{series.name}: {point.y}</b><br/>",pointFormatter:function(){return n[this.index].nonePracticeSkills.map((d,u)=>u+1+": "+d.title).join("<br/>")}},events:{click:l=>{this.openDetailSkill(n[l.point.index].nonePracticeSkills)}}}]});this.chartSkill=q,this.stopStatusObj()}goToPractice(n){if(!n)return;let c=this.commonService.getMyQueryParam("backto"),s=this.commonService.getCurrentUrlWithoutLocale();this.commonService.myNavigationWithQueryString("/de-thi/"+n,"?backto="+encodeURIComponent(s+"?backto="+c)),this.dialogRef.close()}openDetailSkill(n){1==this.type&&(this.skillItem=n)}closeDetailSkill(){this.skillItem=[]}ngOnInit(){super.ngOnInit(),this.validLevelAndSubject=10==this.levelId||11==this.levelId||32==this.subjectId&&12==this.levelId,this.validLevelAndSubject&&(this.initStatusObj(),this.getSkillProfile())}constructor(n,c,s){super(s,c),this.studentPracticeService=n,this.dialogRef=c,this.validLevelAndSubject=!1,this.skillItem=[],this.displayedColumns=["name","actionCol","percent"],s&&(this.subjectId=s.subjectId,this.levelId=s.levelId,this.userId=s.userId,this.type=1)}}return(e=o).\u0275fac=function(n){return new(n||e)(t.rXU(g.Kw),t.rXU(m.CP,8),t.rXU(m.Vh,8))},e.\u0275cmp=t.VBU({type:e,selectors:[["coazt-student-skill-chapter"]],inputs:{type:"type",userId:"userId",levelId:"levelId",subjectId:"subjectId"},features:[t.Vt3],decls:1,vars:1,consts:[["doneLoading",""],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],["class","skill-statistical",4,"ngIf"],["class","mb-3",4,"ngIf"],["class","w-auto text-left bg-gray-200","style","padding: 10px 24px; margin-left: -24px; margin-right: -24px",4,"ngIf"],["class","flex justify-center items-center m-5",4,"ngIf","ngIfElse"],["class","flex items-center justify-end pt-2 w-full bg-white",4,"ngIf"],[1,"mb-3"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"flex","justify-center","items-center","m-5"],[1,"w-6","h-6","m-5"],["class","report-box intro-x mt-3",4,"ngIf"],["class","flex p-4 justify-center items-center",4,"ngIf"],[1,"report-box","intro-x","mt-3"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[1,"flex","p-4","justify-center","items-center"],[1,"flex","items-center","justify-end","pt-2","w-full","bg-white"],[1,"btn","btn-secondary","w-32",3,"click"],[1,"skill-statistical"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actionCol"],["matColumnDef","percent"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"center-span"],["class","text-white btn btn-pending","style","font-weight: 430;",3,"ngClass","click",4,"ngIf"],[1,"text-white","btn","btn-pending",2,"font-weight","430",3,"click","ngClass"],["mat-header-cell","",1,"text-center"],[1,"progress"],[1,"progress-done",3,"ngStyle"],[1,"text-md","font-medium","span-baseline-middle"],["mat-header-row",""],["mat-row",""]],template:function(n,c){1&n&&t.DNE(0,K,3,3,"div",1),2&n&&t.Y8G("ngIf",c.validLevelAndSubject)},dependencies:[a.YU,a.bT,a.B3,_.Zl,_.tL,_.ji,_.cC,_.YV,_.iL,_.KS,_.$R,_.YZ,_.NB,v.S6,h.U,C.R,a.QX,y.wp],encapsulation:2}),o})()}}]);