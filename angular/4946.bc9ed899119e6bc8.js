"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[4946],{91306:(nt,z,s)=>{s.r(z),s.d(z,{DocumentMarketModule:()=>Oc});var l=s(96814),r=s(56223),w=s(19347),_=s(21266),P=s(42273),x=s(42753),T=s(67742),d=s(37722),b=s(21494),v=s(25391),M=s(95545),g=s(84155),C=s(78217),k=s(58844),Z=s(29942),q=s(82481),t=s(65879),U=s(78953),yt=s(79998);let Mt=(()=>{class n{constructor(e,o){this.userService=e,this.redirectService=o}canActivate(e,o){return!0}canActivateChild(e,o){return!!(-1===o.url.indexOf("/share-general/")&&-1===o.url.indexOf("/share-exam-document/")&&-1===o.url.indexOf("/share-reference-materials/")&&-1===o.url.indexOf("/share-lecture-materials/")&&-1===o.url.indexOf("/your-documents/")||this.userService.isLogin())||(this.redirectService.redirectLoginByReturnUrl(o.url),!1)}canLoad(e){return!0}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(U.U),t.LFG(yt.z))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var At=s(89745),K=s(45337),y=s(47496),A=s(78226),p=s(66623);class ot{constructor(i){this.commonService=i}formatRecommendedDocumentObjs(i,e){return i.map(a=>({...a,documents:a.documents?.map(c=>({...c,marketDocumentType:this.commonService.getEnumTypeWithDefault(p.R,c.type??"",p.R.unknown),schoolLevelKey:e.find(m=>c.schoolLevelId==m.schoolLevel?.id)?.schoolLevel?.key,schoolSubjectKey:e.find(m=>c.schoolLevelId==m.schoolLevel?.id)?.schoolSubjectObjs.find(m=>m.id==c.schoolSubjectId)?.key}))??[]}))}formatFeedbackDocumentObjs(i){return i.map(o=>({...o,showComment:!1,marketDocumentType:this.commonService.getEnumTypeWithDefault(p.R,o.documentType??"",p.R.unknown)}))}formatDocumentDto(i){return{...i,marketDocumentType:this.commonService.getEnumTypeWithDefault(p.R,i.type??"",p.R.unknown)}}}var Ot=s(32965),I=s(2783),ut=s(95273),Zt=s(24276),St=s(23680),Ft=s(64170),Lt=s(98525),Q=s(32651),Y=s(92596),D=s(43389),It=s(72358),jt=s(72969),dt=s(65422),G=s(8524),R=s(29019),Nt=s(10217),zt=s(85965),Pt=s(65592),qt=s(89156),J=s(12028),_t=s(72164),pt=s(68078),S=s(83306),Ut=s(85904),u=s(6653);function Et(n,i){if(1&n&&(t.TgZ(0,"div",11)(1,"h3",12),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",13),t._UZ(7,"textarea",14),t.ALo(8,"mytranslate"),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.lnq(" ",t.lcZ(3,5,"lang_auto_dong_gop_y_kien")," ",t.lcZ(4,7,"lang_config_cho"),' "',t.lcZ(5,9,"USER_SHARE"==e.data.type?"lang_auto_nguoi_chia_se":"USER_CREATE"==e.data.type?"lang_document_market_who_created":"QUESTION"==e.data.type?e.data.questionLabel:"lang_testbank_document_list_header_description"),'" '),t.xp6(5),t.s9C("placeholder",t.lcZ(8,11,"lang_auto_nhap_noi_dung")),t.Q6J("formControl",e.contentFeedback)}}function Qt(n,i){1&n&&(t.TgZ(0,"div",11),t._UZ(1,"azt-check-login-dialog",15),t.qZA()),2&n&&(t.xp6(1),t.Q6J("isViewScreen",!0)("title","lang_azt_check_login_require"))}function Jt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.dialogRef.close())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_cms_common_close_btn")))}function Yt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.sendFeedback())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",""==e.contentFeedback.value),t.xp6(1),t.Oqu(t.lcZ(2,2,"lang_test_market_introduce_send_feedback"))}}function Rt(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function Bt(n,i){1&n&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_danh_sach_gop_y_trong")," "))}function Kt(n,i){if(1&n&&(t.TgZ(0,"div",18),t._UZ(1,"azt-create-avatar",19),t.TgZ(2,"div",20)(3,"h2",21),t._uU(4),t.qZA(),t.TgZ(5,"div",22),t._uU(6),t.ALo(7,"relativeTime"),t.qZA(),t._UZ(8,"div",23),t.qZA()()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("nameCreateAvatar",e.tenantFullName)("size",30),t.xp6(3),t.hij(" ",e.tenantFullName," "),t.xp6(2),t.Oqu(t.lcZ(7,5,e.createdAt)),t.xp6(2),t.Q6J("innerText",e.comment)}}let gt=(()=>{class n extends _t.e{sendFeedback(){let e={comment:this.contentFeedback.value,creatorId:this.checkIdByType("USER_CREATE"),questionId:this.checkIdByType("QUESTION"),shareTenantId:this.checkIdByType("USER_SHARE")};this.documentService.apiDocumentsIdCommentPost(this.data.documentId,e).subscribe(o=>{o.success?this.showSuccessSnack("lang_core_da_ghi_nhan_y_kien"):this.showErrorSnack("lang_core_co_loi_khi_gui_y_kien_dong_gop"),this.dialogRef.close()})}checkIdByType(e){if(e==this.data.type)return this.data.id?this.data.id:"USER_CREATE"!=this.data.type||this.data.id?void 0:0}objectType(){return"USER_CREATE"==this.data.type?"creator":"EXAM"==this.data.type?"general":"USER_SHARE"==this.data.type?"sharer":"QUESTION"==this.data.type?"question":""}goToPage(e){this.currentPage=e,this.getComments()}getComments(){let e={page:this.currentPage,size:this.sizeApi,creatorId:this.checkIdByType("USER_CREATE"),questionId:this.checkIdByType("QUESTION"),shareTenantId:this.checkIdByType("USER_SHARE"),documentId:this.data.documentId,objectType:this.objectType()};this.waitDestroy(this.documentService.apiDocumentsCommentsListPost(e).subscribe(o=>{o?(this.listDocumentFeedback=o.list??[],this.totalDto=o.total,this.totalPage=this.totalDto%this.sizeApi>0?(this.totalDto-this.totalDto%this.sizeApi)/this.sizeApi+1:this.totalDto>0?this.totalDto/this.sizeApi:1,this.isLoading=!1):(this.errorStatusObj("lang_core_invalid_data",!0),this.isLoading=!1)}))}ngOnInit(){super.ngOnInit(),this.getComments(),this.isLogin=this.userService.isLogin()}constructor(e,o,a,c){super(c,a),this.documentService=e,this.userService=o,this.dialogRef=a,this.data=c,this.isLoading=!0,this.contentFeedback=new r.NI("",{nonNullable:!0}),this.listDocumentFeedback=[],this.currentPage=1,this.sizeApi=5,this.totalDto=0,this.totalPage=0,this.isLogin=!1}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(pt.Z),t.Y36(U.U),t.Y36(w.so,8),t.Y36(w.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-send-feedback"]],features:[t.qOj],decls:13,vars:9,consts:[[1,"box"],["class","pt-3 px-3",4,"ngIf"],[1,"p-3","text-right","border-b","border-slate-200/60","dark:border-darkmode-400"],["class","mr-2 btn btn-secondary",3,"click",4,"ngIf"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"p-3"],[4,"ngIf"],["class","flex justify-center",4,"ngIf"],["class","flex items-center mb-3",4,"ngFor","ngForOf"],[1,"flex","justify-center"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"pt-3","px-3"],[1,"text-md","font-medium","flex","items-center"],[1,"mt-3"],[1,"form-content-feedback",3,"formControl","placeholder"],[3,"isViewScreen","title"],[1,"mr-2","btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"disabled","click"],[1,"flex","items-center","mb-3"],[2,"cursor","pointer",3,"nameCreateAvatar","size"],[1,"ml-2","pt-2","pb-2","pl-3","pr-3",2,"background","whitesmoke","border-radius","15px"],[1,"text-md","font-medium","flex","items-center",2,"font-size","12px","line-height","0.5rem"],[2,"font-size","11px","color","darkgrey"],[2,"font-size","12px","line-height","1rem",3,"innerText"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div"),t.YNc(2,Et,9,13,"div",1),t.YNc(3,Qt,2,2,"div",1),t.qZA(),t.TgZ(4,"div",2),t.YNc(5,Jt,3,3,"button",3),t.YNc(6,Yt,3,4,"button",4),t.qZA(),t.TgZ(7,"div",5),t.YNc(8,Rt,1,0,"azt-loading-effect",6),t.YNc(9,Bt,3,3,"div",7),t.YNc(10,Kt,9,7,"div",8),t.TgZ(11,"div",9)(12,"azt-paging",10),t.NdJ("goToPaginationPage",function(c){return o.goToPage(c)}),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("ngIf",o.isLogin),t.xp6(1),t.Q6J("ngIf",!o.isLogin),t.xp6(2),t.Q6J("ngIf",o.isLogin),t.xp6(1),t.Q6J("ngIf",o.isLogin),t.xp6(2),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngIf",!o.isLoading&&0==o.listDocumentFeedback.length),t.xp6(1),t.Q6J("ngForOf",o.listDocumentFeedback),t.xp6(2),t.Q6J("totalPaginationPage",o.totalPage)("paging",o.currentPage))},dependencies:[l.sg,l.O5,r.Fj,r.JJ,r.oH,D.l,S.L,Ut.g,J.J,u.JV,u.Yy],styles:[".form[_ngcontent-%COMP%]{background:rgba(0,0,0,.5607843137);z-index:90;display:flex;left:0;top:0;position:fixed;height:100vh;width:100%}.body[_ngcontent-%COMP%]{background:white;height:-moz-fit-content;height:fit-content;padding:20px;border-radius:5px;margin:auto}.form-content-feedback[_ngcontent-%COMP%]{min-width:250px;min-height:150px;border-radius:5px;font-size:14px;width:100%}.box[_ngcontent-%COMP%]{max-height:80vh;overflow-y:auto}"]}),n})();var H=s(87325),Gt=s(42135),Ht=s(69862),Wt=s(56260),Vt=s(3849),$t=s(97151),Xt=s(17997),te=s(38228),ee=s(70342),W=s(77988),ne=s(37783),oe=s(96573),it=s(93523);const ie=["table_answer"];function ae(n,i){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"azt-loading-effect"),t.qZA())}function ce(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",41)(1,"button",42),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showCopySuccess())}),t.O4$(),t.TgZ(2,"svg",43),t._UZ(3,"rect",44)(4,"path",45),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.kcU(),t._UZ(7,"azt-download-qr-code",46),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("cdkCopyToClipboard",e.copyLinkToClipboard()),t.xp6(4),t.hij(" ",t.lcZ(6,4,"lang_auto_copy_link")," "),t.xp6(2),t.Q6J("fileName","azota_document_market_qrcode_"+e.detailDocument.hashId)("linkUrl",e.copyLinkToClipboard())}}function se(n,i){if(1&n&&(t.TgZ(0,"span",47),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.schoolLevelName)," ")}}function re(n,i){if(1&n&&(t.TgZ(0,"span",47),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.schoolSubjectName)," ")}}function le(n,i){if(1&n&&(t.TgZ(0,"span",47),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,"exam"==e.detailDocument.type?"lang_cms_auto_gen_test_exam_title":"slide"==e.detailDocument.type?"lang_document_lecture_power_point":"lecture"==e.detailDocument.type?"lang_document_lecture_video":"teaching_plan"==e.detailDocument.type?"lang_document_lecture_plan_teaching":"lang_document_market_reference")," ")}}function me(n,i){if(1&n&&(t.TgZ(0,"span",47),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.Tol("approved"==e.detailDocument.status?"b-approved":"new"==e.detailDocument.status?"b-new":"b-rj"),t.xp6(1),t.hij(" ",t.lcZ(2,3,"approved"==e.detailDocument.status?"lang_document_market_approved":"new"==e.detailDocument.status?"lang_document_market_pending":"lang_auto_tu_choi")," ")}}function ue(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"span",25),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span",48),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openDialogFeedback("USER_CREATE"))}),t.TgZ(5,"span",49),t._uU(6),t.qZA(),t._UZ(7,"img",50),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_document_market_who_created")," : "),t.xp6(4),t.Oqu(e.detailDocument.creatorFullName)}}function de(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"span",25),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span",51),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openDialogFeedback("USER_SHARE"))}),t.TgZ(5,"span",49),t._uU(6),t.qZA(),t._UZ(7,"img",50),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_nguoi_chia_se")," : "),t.xp6(4),t.Oqu(e.detailDocument.tenantFullName)}}function _e(n,i){if(1&n&&(t.TgZ(0,"div",53)(1,"span"),t._uU(2," - "),t.TgZ(3,"span",25),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(4),t.hij(" ",t.lcZ(5,1,e.name)," ")}}function pe(n,i){if(1&n&&(t.TgZ(0,"div")(1,"div",28)(2,"h3",29),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.YNc(5,_e,6,3,"div",52),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_auto_cac_don_vi_kien_thuc")," "),t.xp6(2),t.Q6J("ngForOf",e.knowledgeListData)}}function ge(n,i){if(1&n&&(t.TgZ(0,"div",24)(1,"span",25),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.lnq("",t.lcZ(3,3,e.name),": ",e.countQuestion," ",t.lcZ(4,5,"lang_testbank_create_exam_width_file_pdf_question"),"")}}function he(n,i){if(1&n&&(t.TgZ(0,"div")(1,"div",28)(2,"h3",29),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.YNc(5,ge,5,7,"div",54),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_auto_do_kho")," "),t.xp6(2),t.Q6J("ngForOf",e.questionTags)}}function fe(n,i){if(1&n&&(t.TgZ(0,"span",25),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("- ",t.lcZ(2,1,e.detailDocument.purposeNote),"")}}function xe(n,i){if(1&n&&(t.TgZ(0,"span",25),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("- ",t.lcZ(2,1,e.purposeNote),"")}}function be(n,i){if(1&n&&(t.TgZ(0,"div")(1,"div",28)(2,"h3",29),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",53),t.YNc(6,fe,3,3,"span",55),t.YNc(7,xe,3,3,"span",55),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,3,"lang_auto_muc_dich_su_dung")," "),t.xp6(3),t.Q6J("ngIf",e.detailDocument.purposeNote),t.xp6(1),t.Q6J("ngIf",e.purposeNote)}}function ve(n,i){if(1&n&&(t.TgZ(0,"div",58)(1,"span",59),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.AsE("",t.lcZ(3,2,"lang_auto_tuan")," ",e,"")}}function ke(n,i){if(1&n&&(t.TgZ(0,"div")(1,"div",28)(2,"h3",29),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",53)(6,"div",56),t.YNc(7,ve,4,4,"div",57),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_auto_thoi_diem_su_dung")," "),t.xp6(4),t.Q6J("ngForOf",e.detailDocument.weeks)}}function De(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"azt-see-more-content",60),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("content",e.detailDocument.description)("maxLength",200)}}function Te(n,i){1&n&&(t._uU(0),t.ALo(1,"mytranslate")),2&n&&t.hij(" ",t.lcZ(1,1,"lang_azt_noi_dung_mo_ta_trong")," ")}function Ce(n,i){if(1&n&&(t.TgZ(0,"div",61)(1,"div",28)(2,"h3",29),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",53)(6,"span",25),t._uU(7),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_test_market_submit_reject_reason")," "),t.xp6(4),t.hij(" ",e.detailDocument.approvedNote," ")}}function we(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",61)(1,"div",28)(2,"h3",29),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()(),t._UZ(6,"textarea",62),t.ALo(7,"mytranslate"),t.TgZ(8,"div",63)(9,"button",64),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.approveAndRejectDoc(!0))}),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"button",65),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.approveAndRejectDoc(!1))}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.AsE("",t.lcZ(4,7,"lang_test_market_submit_reject_reason")," (",t.lcZ(5,9,"lang_auto_neu_co"),")"),t.xp6(3),t.s9C("placeholder",t.lcZ(7,11,"lang_auto_nhap_noi_dung")),t.Q6J("formControl",e.contentApproveAndReject),t.xp6(4),t.Oqu(t.lcZ(11,13,"lang_auto_phe_duyet")),t.xp6(2),t.Q6J("disabled",""==e.contentApproveAndReject.value),t.xp6(1),t.hij(" ",t.lcZ(14,15,"lang_auto_tu_choi")," ")}}function ye(n,i){if(1&n&&(t.TgZ(0,"button",66),t._UZ(1,"lucide-icon",67),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&n){t.oxw(2);const e=t.MAs(4);t.Q6J("matMenuTriggerFor",e),t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_homework_content_store_download")," ")}}function Me(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.downloadFile())}),t._UZ(1,"lucide-icon",67),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.detailDocument.marketDocumentType==e.allMarketDocumentTypes.lecture),t.xp6(2),t.hij(" ",t.lcZ(3,2,e.detailDocument.marketDocumentType==e.allMarketDocumentTypes.lecture?"lang_document_market_download_not_support":"lang_homework_content_store_download")," ")}}function Ae(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",16)(1,"div",17)(2,"h3",18,19),t._uU(4),t.qZA(),t.YNc(5,ce,8,6,"div",20),t.qZA(),t.TgZ(6,"div",21),t.YNc(7,se,3,3,"span",22),t.YNc(8,re,3,3,"span",22),t.YNc(9,le,3,3,"span",22),t.YNc(10,me,3,5,"span",23),t.qZA(),t.TgZ(11,"div",24)(12,"span",25),t._uU(13),t.ALo(14,"mytranslate"),t.ALo(15,"mytranslate"),t.ALo(16,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()(),t.YNc(17,ue,8,4,"div",26),t.YNc(18,de,8,4,"div",26),t.YNc(19,pe,6,4,"div",27),t.YNc(20,he,6,4,"div",27),t.YNc(21,be,8,5,"div",27),t.YNc(22,ke,8,4,"div",27),t.TgZ(23,"div",28)(24,"h3",29),t._uU(25),t.ALo(26,"mytranslate"),t.qZA()(),t.TgZ(27,"div",30)(28,"span",31),t.YNc(29,De,2,2,"ng-container",32),t.YNc(30,Te,2,3,"ng-template",null,33,t.W1O),t.qZA()(),t.YNc(32,Ce,8,4,"div",34),t.YNc(33,we,15,17,"div",34),t.TgZ(34,"div",35),t.YNc(35,ye,4,4,"button",36),t.YNc(36,Me,4,4,"button",37),t.TgZ(37,"div",38),t._UZ(38,"img",39),t.TgZ(39,"span",40),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openDialogFeedback("EXAM"))}),t._uU(40),t.ALo(41,"mytranslate"),t.ALo(42,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.MAs(3),o=t.MAs(31),a=t.oxw();t.xp6(2),t.s9C("matTooltip",a.detailDocument.name),t.s9C("matTooltip",a.detailDocument.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.xp6(2),t.hij(" ",a.detailDocument.name," "),t.xp6(1),t.Q6J("ngIf","approved"==a.detailDocument.status),t.xp6(2),t.Q6J("ngIf",a.schoolLevelName),t.xp6(1),t.Q6J("ngIf",a.schoolSubjectName),t.xp6(1),t.Q6J("ngIf",a.detailDocument.type),t.xp6(1),t.Q6J("ngIf",a.isShowDocumentStatus),t.xp6(3),t.hij(" ",t.lcZ(14,26,"lang_testbank_powerpoint_date")+" "+t.lcZ(15,28,"lang_student_classroom_list_update").toLowerCase()+": "+t.lcZ(16,30,a.detailDocument.updatedAt)," "),t.xp6(4),t.Q6J("ngIf",a.detailDocument.creatorFullName),t.xp6(1),t.Q6J("ngIf",a.detailDocument.tenantFullName),t.xp6(1),t.Q6J("ngIf",a.detailDocument.knowledges&&a.detailDocument.knowledges.length>0),t.xp6(1),t.Q6J("ngIf",a.questionTags&&a.questionTags.length>0),t.xp6(1),t.Q6J("ngIf",a.detailDocument.purposeNote||a.purposeNote),t.xp6(1),t.Q6J("ngIf",a.detailDocument.weeks&&a.detailDocument.weeks.length>0),t.xp6(3),t.hij(" ",t.lcZ(26,32,"lang_auto_mo_ta_chi_tiet")," "),t.xp6(4),t.Q6J("ngIf",a.detailDocument.description)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf","rejected"==a.detailDocument.status),t.xp6(1),t.Q6J("ngIf",a.userService.isSupperAdminRole()&&"new"==a.detailDocument.status),t.xp6(2),t.Q6J("ngIf",a.detailDocument.marketDocumentType==a.allMarketDocumentTypes.exam),t.xp6(1),t.Q6J("ngIf",a.detailDocument.marketDocumentType!=a.allMarketDocumentTypes.exam),t.xp6(4),t.AsE(" ",t.lcZ(41,34,"lang_test_market_introduce_feedback"),", ",t.lcZ(42,36,"lang_auto_danh_gia")," ")}}function Oe(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e)," ")}}function Ze(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_essay_question")," "))}function Se(n,i){if(1&n&&(t.TgZ(0,"td",71),t.YNc(1,Oe,3,3,"span",27),t.YNc(2,Ze,3,3,"span",27),t.qZA()),2&n){const e=i.$implicit,o=i.index,a=t.oxw().index;t.uIk("excelRow",a+2)("excelColumn",o+1),t.xp6(1),t.Q6J("ngIf",e),t.xp6(1),t.Q6J("ngIf",!e)}}function Fe(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",69),t._uU(2),t.qZA(),t.YNc(3,Se,3,4,"td",70),t.qZA()),2&n){const e=i.$implicit,o=i.index;t.xp6(1),t.uIk("excelRow",o+2)("excelColumn",0),t.xp6(1),t.hij(" ",o+1," "),t.xp6(1),t.Q6J("ngForOf",e.answerResult)}}let Le=(()=>{class n extends y.Q{copyLinkToClipboard(){return`${this.commonService.getCurrentDomain()}/tai-lieu/${this.detailDocument.hashId}/0`}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}convertZipFile(){return new Pt.y(e=>{if(this.detailDocument.attachments&&this.detailDocument.attachments.length)if(this.detailDocument.attachments&&1==this.detailDocument.attachments.length){let o=this.detailDocument.attachments[0].fileName;this.http.get(this.detailDocument.attachments[0].link??"",{responseType:"blob"}).subscribe(a=>{const c=new Blob([a],{type:a.type});Nt.saveAs(c,o),e.error()})}else{let o=0;this.detailDocument.attachments.forEach(a=>{"video"!=a.fileType?this.http.get(a.link??"",{responseType:"blob"}).subscribe(c=>{const m=new Blob([c],{type:c.type});e.next({name:"DOCUMENT_MARKET/"+(a.fileName??"attachment_file"),dataOut:m}),o++,this.detailDocument.attachments&&o>=this.detailDocument.attachments.length&&e.complete()}):(o++,this.detailDocument.attachments&&o>=this.detailDocument.attachments.length&&e.complete())})}else this.http.get(this.detailDocument.link??"",{responseType:"blob"}).subscribe(o=>{const a=new Blob([o],{type:o.type});e.next({name:"DOCUMENT_MARKET/"+this.detailDocument.name,dataOut:a}),e.complete()})})}downloadFile(){this.showAnonymousMustLoginDialog()||this.convertZipFile().subscribe({next:e=>{this.zipper.file(e.name,e.dataOut)},complete:()=>{this.zipper.generateAsync({type:"blob"}).then(e=>{let o=this.commonService.createFileNameExportFile([this.detailDocument.name??"azota"])+"_document_market.zip";this.shareFileFlutterService.shareFileWithBlob(e,o)})}})}downloadExam(e){if(!this.showAnonymousMustLoginDialog()){let a=this.commonService.myTranslateInstant("lang_auto_dang_khoi_tao_du_lieu")??"";qt.G.openLoadingEffect(`${a}...`);let c={nameSchool:this.commonService.myTranslateInstant(this.schoolLevelName)??"",nameSubject:this.commonService.myTranslateInstant(this.schoolSubjectName)??""};if(this.detailDocument&&this.questions.length>0){var o=this.commonService.myClone(this.questions);this.exportSAztDocxService.downloadExam(e,{id:this.detailDocument.id,name:this.detailDocument.name??"",countQuestion:this.questions.length,showFrontend:0,editable:!1,allowStudentView:!0,permissionObj:{}},void 0,void 0,o,c,0,void 0,void 0,void 0,!0).catch(m=>{this.showErrorSnack(m.message)})}}}downloadExamAnswer(){if(!this.showAnonymousMustLoginDialog()){var e=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let o=this.createNameExam("answerexcel",!1);this.shareFileFlutterService.shareFileWithBlob(e,o)}}showAnonymousMustLoginDialog(){return!!this.userService.isNotLoginOrIsAnonymous()&&(this.sAztDialogService.open(J.J,{width:"600px",data:{keyTrans:"lang_azt_check_login_require",isShow:!0},restoreFocus:!1}),!0)}approveAndRejectDoc(e){this.waitDestroy(e?this.documentService.apiDocumentsIdApprovePut(this.detailDocument.id??0).subscribe(o=>{o.success?(this.showSuccessSnack("lang_core_tai_lieu_da_duoc_duyet"),this.changeLoadData.emit(!0)):this.showErrorSnack("lang_core_co_loi_khi_duyet_tai_lieu")}):this.documentService.apiDocumentsIdRejectPut(this.detailDocument.id??0,{note:this.contentApproveAndReject.value}).subscribe(o=>{o.success?(this.showSuccessSnack("lang_core_da_tu_choi_tai_lieu"),this.changeLoadData.emit(!0)):this.showErrorSnack("lang_core_co_loi_khi_tu_choi_tai_lieu")}))}openDialogFeedback(e){this.sAztDialogService.open(gt,{width:"600px",restoreFocus:!1,data:{type:e,documentId:this.detailDocument.id??0,id:"EXAM"==e?this.detailDocument.id:"USER_SHARE"==e?this.detailDocument.tenantId:this.detailDocument.creatorId}})}createNameExam(e,o){let a="";a="answersheet"==e?this.printAnswerSheetService.exportFileNameOfAnswerSheet(0,this.detailDocument.name??"",""):"answerexcel"==e?this.printAnswerSheetService.exportFileNameOfAnswerExcelOffline(0,this.detailDocument.name??"",""):this.printAnswerSheetService.exportFileNameOfExamOffline(0,this.detailDocument.name??"","",void 0),o&&(a=this.commonService.replaceAll(a,"_","-")??"");let c=".docx";return c="answersheet"==e?".pdf":c,c="answerexcel"==e?".xlsx":c,a+c}getLevelAndSubject(){this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(e=>{1==e.success?(this.schoolLevelName=e.data?.schoolLevelSubjectObjs.find(o=>o.schoolLevel?.id==this.detailDocument.schoolLevelId)?.schoolLevel?.key??"",this.schoolSubjectName=this.commonService.concatMultipleArray(e.data?.schoolLevelSubjectObjs.map(o=>o.schoolSubjectObjs)??[]).find(o=>o.id==this.detailDocument.schoolSubjectId)?.key??"",this.stopStatusObj()):this.errorStatusObj(e.message??"",!0)}))}getTagsQuestion(){this.initStatusObj(),this.waitDestroy(this.questionService.apiQuestionGetTagsGet().subscribe(e=>{e.success?((e.data?.objs??[]).forEach(a=>{this.detailDocument.countQuestionTags?.forEach(c=>{a.id==c.questionTagId&&this.questionTags.push({...a,countQuestion:c.total})})}),this.getLevelAndSubject()):this.errorStatusObj(e.message??"",!0)}))}getPurposeNoteById(){this.waitDestroy(this.commonListService.apiCommonListExamPurposesGet().subscribe(e=>{e.success&&e.data?.objs.forEach(o=>{o.id===this.detailDocument.purposeId&&(this.purposeNote=o.code)})}))}transformKnowledgeList(e){const o={};return e.forEach(c=>{o[c.id]=c}),e.forEach(c=>{if(c.parentId&&o[c.parentId]){const m=o[c.parentId];m.children||(m.children=[]),m.children.push(c)}}),e.filter(c=>!c.parentId)}ngOnInit(){!this.detailDocument.purposeNote&&this.detailDocument.purposeId&&this.getPurposeNoteById(),this.getTagsQuestion(),this.knowledgeListData=this.transformKnowledgeList(this.detailDocument.knowledges??[]),this.isShowDocumentStatus=this.userService.isSupperAdminRole()||this.userService.getUserObj().id==this.detailDocument.tenantId}constructor(e,o,a,c,m,f,et,wt,N,Zc,Sc){super(),this.commonListService=e,this.questionService=o,this.sAztDialogService=a,this.documentService=c,this.userService=m,this.http=f,this.exportSAztDocxService=et,this.examService=wt,this.shareFileFlutterService=N,this.printAnswerSheetService=Zc,this.exportExcelService=Sc,this.questions=[],this.changeLoadData=new t.vpe,this.allMarketDocumentTypes=p.R,this.isShowDocumentStatus=!1,this.contentApproveAndReject=new r.NI("",{nonNullable:!0}),this.questionTags=[],this.schoolLevelName="",this.schoolSubjectName="",this.purposeNote="",this.knowledgeListData=[],this.zipper=new zt}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H.o7),t.Y36(Gt.a),t.Y36(I.C),t.Y36(pt.Z),t.Y36(U.U),t.Y36(Ht.eN),t.Y36(Wt.F),t.Y36(Vt.O),t.Y36($t.g),t.Y36(Xt.H),t.Y36(te.L))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-information-file"]],viewQuery:function(e,o){if(1&e&&t.Gf(ie,5),2&e){let a;t.iGM(a=t.CRH())&&(o.table_answer=a.first)}},inputs:{detailDocument:"detailDocument",questions:"questions"},outputs:{changeLoadData:"changeLoadData"},features:[t.qOj],decls:37,vars:22,consts:[["class","pb-3",4,"ngIf","ngIfElse"],["viewContent",""],["menuDownload","matMenu"],[1,"dropdown-menu","show","relative","w-72"],[1,"dropdown-content"],["azt-track-service","azt-preview-exam-4UtiW7OU6PC",1,"dropdown-item",3,"click"],[1,"w-4","h-4","mr-2","flex-none"],["name","file-check"],["azt-track-service","azt-preview-exam--mJB2JKFgNu",1,"dropdown-item",3,"click"],["name","file-spreadsheet"],["name","file-text"],[1,"table","table-bordered",2,"display","none"],["table_answer",""],["rowspan","2","excelStyle",'{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true}}',1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],[1,"pb-3"],["id","azt-information-file",1,"p-3"],[1,"flex","md:items-center","flex-col","md:flex-row"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","w-auto flex ml-2","style","min-width: 135px",4,"ngIf"],[1,"mt-3"],["class","text-sm name-tag",4,"ngIf"],["class","text-sm name-tag",3,"class",4,"ngIf"],[1,"flex","items-center","mt-1"],[1,"text-sm"],["class","flex items-center mt-1",4,"ngIf"],[4,"ngIf"],[1,"flex","items-center","mt-2"],[1,"text-md","font-medium","truncate","mr-auto","mt-2"],[1,"mt-1","flex","justify-center",2,"margin-bottom","70px"],[1,"text-sm",2,"color","grey"],[4,"ngIf","ngIfElse"],["noDescription",""],["style","margin-bottom: 70px",4,"ngIf"],[2,"position","absolute","bottom","0","width","calc(100% - 1.5rem)"],["azt-track-service","azt-information-file-bwopQOi3z7","class","btn btn-download flex justify-center clickable w-full",3,"matMenuTriggerFor",4,"ngIf"],["azt-track-service","azt-information-file-bwopQOi3z7","class","btn btn-download flex justify-center clickable w-full",3,"disabled","click",4,"ngIf"],[1,"flex","justify-end","mt-2","mb-2","items-center"],["id","u3318_img","src","https://mockup.textandtool.com/images/view-bt/u3318.svg",1,"img","mr-1",2,"width","16px","height","14px"],["azt-track-service","azt-information-file-zD6-pIpJcw",1,"text-md","clickable",2,"color","dodgerblue",3,"click"],[1,"w-auto","flex","ml-2",2,"min-width","135px"],["azt-track-service","azt-information-file-rKKX07uUP",1,"btn","btn-sm","btn-outline-primary",3,"cdkCopyToClipboard","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-file","w-4","h-4","mr-2"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],[1,"pl-2","ml-2",3,"fileName","linkUrl"],[1,"text-sm","name-tag"],["azt-track-service","azt-information-file-d9Dlsd6MII",1,"clickable",3,"click"],[2,"color","dodgerblue"],["id","u3318_img","src","https://mockup.textandtool.com/images/view-bt/u3318.svg",1,"img","ml-1","mb-2",2,"width","14px"],["azt-track-service","azt-information-file-2h9ztEkswX",1,"clickable",3,"click"],["class","mt-1",4,"ngFor","ngForOf"],[1,"mt-1"],["class","flex items-center mt-1",4,"ngFor","ngForOf"],["class","text-sm",4,"ngIf"],[1,"grid","grid-cols-12","gap-2"],["class","col-span-12 sm:col-span-6 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4"],[1,"text-sm","name-tag","w-full","text-center"],[3,"content","maxLength"],[2,"margin-bottom","70px"],[1,"form-content-feedback","mt-2",3,"formControl","placeholder"],[1,"flex","justify-between"],["azt-track-service","dialog-confirm-rXeH54A3ZE",1,"btn","btn-primary","w-100",3,"click"],["azt-track-service","dialog-confirm-EqayhO0oQs",1,"btn","btn-danger","w-100","ml-1",3,"disabled","click"],["azt-track-service","azt-information-file-bwopQOi3z7",1,"btn","btn-download","flex","justify-center","clickable","w-full",3,"matMenuTriggerFor"],["name","download",2,"width","16px !important","margin-right","10px"],["azt-track-service","azt-information-file-bwopQOi3z7",1,"btn","btn-download","flex","justify-center","clickable","w-full",3,"disabled","click"],["excelStyle",'{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true}}',1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell","excelStyle",'{"alignment":{"vertical":"center","horizontal":"center","wrapText":true}}',4,"ngFor","ngForOf"],["excelStyle",'{"alignment":{"vertical":"center","horizontal":"center","wrapText":true}}',1,"text-center","azt-excel-cell"]],template:function(e,o){if(1&e&&(t.YNc(0,ae,2,0,"div",0),t.YNc(1,Ae,43,38,"ng-template",null,1,t.W1O),t.TgZ(3,"mat-menu",null,2)(5,"div",3)(6,"ul",4)(7,"li")(8,"a",5),t.NdJ("click",function(){return o.downloadExam(!1)}),t.TgZ(9,"span",6),t._UZ(10,"lucide-icon",7),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.TgZ(13,"li")(14,"a",8),t.NdJ("click",function(){return o.downloadExamAnswer()}),t.TgZ(15,"span",6),t._UZ(16,"lucide-icon",9),t.qZA(),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()(),t.TgZ(19,"li")(20,"a",8),t.NdJ("click",function(){return o.downloadExam(!0)}),t.TgZ(21,"span",6),t._UZ(22,"lucide-icon",10),t.qZA(),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()()(),t.TgZ(25,"table",11,12)(27,"tbody")(28,"tr")(29,"td",13),t._uU(30),t.ALo(31,"mytranslate"),t.qZA(),t.TgZ(32,"td",13),t._uU(33),t.ALo(34,"mytranslate"),t.qZA()(),t._UZ(35,"tr"),t.YNc(36,Fe,4,4,"tr",14),t.qZA()()),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a),t.xp6(11),t.hij(" ",t.lcZ(12,12,"lang_auto_tai_xuong_de_thi")," "),t.xp6(6),t.hij(" ",t.lcZ(18,14,"lang_auto_tai_xuong_dap_an_de_thi")," "),t.xp6(6),t.hij(" ",t.lcZ(24,16,"lang_azt_download_exam_paper_with_detailed_answers")," "),t.xp6(6),t.uIk("excelRow",0)("excelColumn",0),t.xp6(1),t.hij(" ",t.lcZ(31,18,"lang_testbank_answersheet_question_title")," "),t.xp6(2),t.uIk("excelRow",0)("excelColumn",1),t.xp6(1),t.hij(" ",t.lcZ(34,20,"lang_cms_auto_gen_test_answer_title")," "),t.xp6(3),t.Q6J("ngForOf",o.questions)}},dependencies:[l.sg,l.O5,ee.i3,W.VK,W.p6,Y.gM,r.Fj,r.JJ,r.oH,D.l,ne.W,oe.c,it.Q,d.Nh5,u.JV,u.$n],styles:[".name-tag[_ngcontent-%COMP%]{border-radius:5px;background-color:#faebd7;margin:2px;line-height:1.8rem;font-size:13px;display:inline-block;line-height:1.5rem;padding:0 4px}.btn-download[_ngcontent-%COMP%]{background:rgb(51,167,218);color:#fff;text-align:center;padding-bottom:6px;padding-top:6px;margin-top:10px;border-radius:5px}.btn-download[_ngcontent-%COMP%]:hover{background:#85cded}.form-content-feedback[_ngcontent-%COMP%]{width:100%;min-height:100px;border-radius:5px;font-size:14px}.btn-primary[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]{width:100%}.text-new[_ngcontent-%COMP%]{color:#f08080}.ribbon[_ngcontent-%COMP%]{position:absolute;right:-2px;top:-2px;z-index:1;overflow:hidden;width:65px;height:65px;text-align:right}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;color:#fff;text-transform:uppercase;text-align:center;font-weight:900;line-height:21px;transform:rotate(45deg);-webkit-transform:rotate(45deg);width:93px;display:block;box-shadow:0 3px 10px -5px #636363;position:absolute;top:15px;right:-22px}.b-approved[_ngcontent-%COMP%]{background:linear-gradient(#68cc00 0%,rgba(104,204,0,.61) 100%)}.b-new[_ngcontent-%COMP%]{background:linear-gradient(#ffa500 0%,rgba(247,190,85,.831372549) 100%)}.b-rj[_ngcontent-%COMP%]{background:crimson;color:#fff;font-weight:600}"]}),n})();var at=s(10504),Ie=s(99413),je=s(36621),Ne=s(94603),ze=s(91581),Pe=s(52319),qe=s(44345);const Ue=function(n){return{"skeleton-box-loading":n}};function Ee(n,i){if(1&n&&t._UZ(0,"div",2),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,Ue,e.renderConfigObj.isFirstRender))}}function Qe(n,i){if(1&n&&(t.TgZ(0,"div",18)(1,"b",19),t._uU(2),t.qZA(),t._UZ(3,"azt-dynamic-hook",9),t.qZA()),2&n){const e=i.$implicit;let o;t.xp6(2),t.hij("",null!==(o=e.alpha)&&void 0!==o?o:e.key,"."),t.xp6(1),t.Q6J("content",e.content)}}function Je(n,i){if(1&n&&(t.TgZ(0,"div",16),t.YNc(1,Qe,4,2,"div",17),t.qZA()),2&n){const e=t.oxw(2);t.Q6J("answerSizeManager",0),t.xp6(1),t.Q6J("ngForOf",e.questionObj.answers)}}function Ye(n,i){if(1&n&&(t.TgZ(0,"h2",20),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_dap_an"),": ",e.questionObj.answerResult.length?e.questionObj.answerResult.join(" | "):""," ")}}function Re(n,i){1&n&&(t.TgZ(0,"h2",20),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_tu_luan")," "))}function Be(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"a",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showExplainBox())}),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.isShowExplain?t.lcZ(3,1,"lang_auto_an_giai_thich"):t.lcZ(4,3,"lang_auto_xem_giai_thich")," ")}}function Ke(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openDialogFeedback("QUESTION",a.questionObj.id))}),t._UZ(3,"img",6),t.qZA(),t.TgZ(4,"div",7)(5,"div",8),t._uU(6),t.qZA()(),t._UZ(7,"azt-dynamic-hook",9),t.YNc(8,Je,2,2,"div",10),t.TgZ(9,"div",11),t.YNc(10,Ye,3,4,"h2",12),t.ALo(11,"isEssayAnswer"),t.YNc(12,Re,3,3,"ng-template",null,13,t.W1O),t.YNc(14,Be,5,5,"div",14),t.qZA()(),t._UZ(15,"azt-question-explain-box",15),t.qZA()}if(2&n){const e=t.MAs(13),o=t.oxw();let a;t.xp6(6),t.hij(" ",o.questionLabel," "),t.xp6(1),t.Q6J("content",null!==(a=o.questionObj.content)&&void 0!==a?a:""),t.xp6(1),t.Q6J("ngIf",1==o.questionObj.answerType&&o.questionObj.answers&&o.questionObj.answers.length>0),t.xp6(2),t.Q6J("ngIf",o.questionObj.answerResult&&!t.lcZ(11,9,o.questionObj))("ngIfElse",e),t.xp6(4),t.Q6J("ngIf",o.questionObj.help),t.xp6(1),t.Q6J("isShowExplain",o.isShowExplain)("questionObj",o.questionObj)("renderConfigObj",o.renderConfigObj)}}let Ge=(()=>{class n extends je.R{customQuestionLabel(e){const o=this.commonService.castJsonToObj(e??"")??void 0;return o?.label?o.label:"C\xe2u"}showExplainBox(){this.isShowExplain=!this.isShowExplain}openDialogFeedback(e,o){this.userService.isNotLoginOrIsAnonymous()?this.sAztDialogService.open(J.J,{width:"600px",data:{keyTrans:"lang_azt_check_login_require",isShow:!0},restoreFocus:!1}):this.sAztDialogService.open(gt,{width:"600px",restoreFocus:!1,data:{type:e,documentId:this.documentId,id:o,questionLabel:this.questionLabel}})}initRenderBox(){let e=new Ne.m(!1,!1,!1);super.initData(e,this.follower,this.questionObj),this.questionLabel=this.customQuestionLabel(this.questionObj.expandInfo)+" "+this.questionObj.rawIndex}ngOnInit(){super.ngOnInit(),this.initRenderBox()}constructor(e,o){super(),this.sAztDialogService=e,this.userService=o,this.follower=new at.p,this.questionLabel="",this.isShowExplain=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.C),t.Y36(U.U))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-question-standalone-for-document-market"]],inputs:{documentId:"documentId",questionObj:"questionObj",follower:"follower"},features:[t.qOj],decls:4,vars:2,consts:[["class","question-standalone-loader-box",3,"ngClass",4,"ngIf","ngIfElse"],["elementRended",""],[1,"question-standalone-loader-box",3,"ngClass"],[1,"box-content"],[1,"px-4","py-4"],["azt-track-service","azt-content-file-YPbxyHTAvz",1,"button-icon-feedback","clickable",3,"click"],["id","u3318_img","src","https://mockup.textandtool.com/images/view-bt/u3318.svg",1,"img","ml-1","mb-2",2,"width","18px"],[1,"flex","items-center","justify-between"],[1,"question-standalone-label"],[3,"content"],["class","row answers",3,"answerSizeManager",4,"ngIf"],[1,"flex","justify-between"],["class","font-medium text-md text-left text-success mt-3",4,"ngIf","ngIfElse"],["essayAnswer",""],["class","ml-auto mt-1",4,"ngIf"],[2,"display","block",3,"isShowExplain","questionObj","renderConfigObj"],[1,"row","answers",3,"answerSizeManager"],["class","answer col-sm-12 col-md-6",4,"ngFor","ngForOf"],[1,"answer","col-sm-12","col-md-6"],[1,"answer-label"],[1,"font-medium","text-md","text-left","text-success","mt-3"],[1,"ml-auto","mt-1"],["azt-track-service","azt-standalone-question-4zQT3eCoTDc",1,"btn","btn-transparent",2,"user-select","none",3,"click"]],template:function(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Ee,1,3,"div",0),t.YNc(2,Ke,16,11,"ng-template",null,1,t.W1O),t.BQk()),2&e){const a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",!o.renderConfigObj.isRenderElement)("ngIfElse",a)}},dependencies:[l.mk,l.sg,l.O5,ze.s,Pe.w,qe.O,u.JV,u.eH],styles:[".box-content[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #fafafa;margin:15px;box-shadow:2px 2px 5px #eee}.button-icon-feedback[_ngcontent-%COMP%]{color:gray;float:right}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}",'.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-shadow);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262AE!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-container[_ngcontent-%COMP%]:hover   .prev_question_btn[_ngcontent-%COMP%], .question-standalone-container[_ngcontent-%COMP%]:hover   .next_question_btn[_ngcontent-%COMP%]{visibility:visible}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%;visibility:hidden}.prev_question_btn[_ngcontent-%COMP%]:hover, .next_question_btn[_ngcontent-%COMP%]:hover{visibility:visible}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:darkgrey;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),n})();function He(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function We(n,i){1&n&&(t.TgZ(0,"div",4),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_khong_co_du_lieu")," "))}function Ve(n,i){if(1&n&&(t.TgZ(0,"div")(1,"div",5),t._UZ(2,"azt-question-standalone-for-document-market",6),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("id","question_render_element_"+e.id),t.xp6(1),t.Q6J("follower",o.followerRenderQuest)("documentId",o.documentId)("questionObj",e)}}function $e(n,i){if(1&n&&(t.YNc(0,We,3,3,"div",2),t.YNc(1,Ve,3,4,"div",3)),2&n){const e=t.oxw();t.Q6J("ngIf",0==e.questions.length),t.xp6(1),t.Q6J("ngForOf",e.questions)}}let Xe=(()=>{class n extends y.Q{ngOnInit(){super.ngOnInit(),this.followerRenderQuest.setNumQuest(this.questions.length)}constructor(){super(),this.isLoading=!0,this.documentId=0,this.questions=[],this.totalQuestion=-1,this.followerRenderQuest=new at.p}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-content-file"]],inputs:{documentId:"documentId",questions:"questions",totalQuestion:"totalQuestion"},features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["viewContent",""],["class","flex justify-center",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"flex","justify-center"],["load_effect_lazy","",1,"question-standalone-box",3,"id"],[3,"follower","documentId","questionObj"]],template:function(e,o){if(1&e&&(t.YNc(0,He,1,0,"azt-loading-effect",0),t.YNc(1,$e,2,2,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.totalQuestion<0)("ngIfElse",a)}},dependencies:[l.sg,l.O5,D.l,Ie.C,Ge,u.JV],encapsulation:2}),n})();const tn=["drawer"];function en(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function nn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.sAztMatDrawerService.openDrawer())}),t.ALo(1,"mytranslate"),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"rect",23)(4,"path",24)(5,"path",25),t.qZA()()}2&n&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_mo_menu"))}function on(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.sAztMatDrawerService.closeDrawer())}),t.ALo(1,"mytranslate"),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"rect",23)(4,"path",24)(5,"path",27),t.qZA()()}2&n&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_dong_menu"))}function an(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-option",33),t.NdJ("click",function(){const c=t.CHM(e).$implicit,m=t.oxw(5);return t.KtG(m.selectAttachment(c))}),t._UZ(1,"azt-document-type-file",34),t.ALo(2,"mytranslate"),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(5);let a,c;t.Q6J("value",e.fileName),t.xp6(1),t.Q6J("type",null!==(a=e.fileType)&&void 0!==a?a:"")("onlyOneLine",!0)("textWidth","90%")("iconVerticalStyle","baseline")("showBorder",!1)("selectedBorder",!(!o.currentSelectAttachment||o.currentSelectAttachment.id!=e.id))("customClass","w-4 h-4")("name",null!==(c=e.fileName)&&void 0!==c?c:t.lcZ(2,9,"lang_document_market_unknown_name_attachment"))}}function cn(n,i){if(1&n&&(t.TgZ(0,"mat-form-field",30)(1,"mat-select",31),t.YNc(2,an,3,11,"mat-option",32),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("value",null==e.currentSelectAttachment?null:e.currentSelectAttachment.fileName),t.xp6(1),t.Q6J("ngForOf",e.detailDocument.attachments)}}function sn(n,i){if(1&n&&(t.TgZ(0,"div",28),t.YNc(1,cn,3,2,"mat-form-field",29),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.detailDocument.attachments&&e.detailDocument.attachments.length>1)}}function rn(n,i){if(1&n&&(t.TgZ(0,"div",35),t._UZ(1,"azt-content-file",36),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("questions",e.questions)("totalQuestion",e.totalQuestion)("documentId",e.detailDocument.id)}}function ln(n,i){if(1&n&&(t.TgZ(0,"div",41),t._UZ(1,"azt-preview-file",42),t.qZA()),2&n){const e=t.oxw(5);let o;t.xp6(1),t.Q6J("fileUrl",null!==(o=e.currentSelectAttachment.link)&&void 0!==o?o:"")("fileType",e.currentSelectAttachment.enumFileType)}}function mn(n,i){if(1&n&&(t.TgZ(0,"div",43)(1,"div",44),t._UZ(2,"azt-video-embed",45),t.ALo(3,"convertCdnLinkOfGitHub"),t.qZA()()),2&n){const e=t.oxw(5);let o,a;t.xp6(2),t.Q6J("cdnLink",e.cdnService.getMyCdn(null!==(o=e.currentSelectAttachment.link)&&void 0!==o?o:""))("videoMimesType",null!==(a=e.currentSelectAttachment.mimeType)&&void 0!==a?a:"video")("videoThumbUrl",t.lcZ(3,4,"images/video-thumb.png"))("styles","width: 100%; padding-bottom: 1rem")}}function un(n,i){if(1&n&&(t.TgZ(0,"div",38),t.YNc(1,ln,2,2,"div",39),t.YNc(2,mn,4,6,"div",40),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf","video"!=e.currentSelectAttachment.enumFileType),t.xp6(1),t.Q6J("ngIf","video"==e.currentSelectAttachment.enumFileType)}}function dn(n,i){if(1&n&&(t.TgZ(0,"div",35),t.YNc(1,un,3,2,"div",37),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.currentSelectAttachment)}}function _n(n,i){}const pn=function(n,i){return{"w-85":n,"w-25":i}},gn=function(n){return{"azt-mobile-draw-left":n}},hn=function(n){return{"ml-25":n}},fn=function(n){return{"ml-5":n}},xn=function(n){return{height:n}},bn=function(){return{height:"80%"}};function vn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"mat-drawer-container",6)(2,"mat-drawer",7,8),t.NdJ("openedChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.sAztMatDrawerService.openedChange(a))}),t.TgZ(4,"div",9)(5,"div",10)(6,"azt-information-file",11),t.NdJ("changeLoadData",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.getDocumentDetail())}),t.qZA()()()(),t.TgZ(7,"mat-drawer-content",12)(8,"div",13)(9,"div",14),t.YNc(10,nn,6,3,"button",15),t.YNc(11,on,6,3,"button",16),t.YNc(12,sn,2,1,"div",17),t.qZA(),t.TgZ(13,"div",18),t.YNc(14,rn,2,3,"div",19),t.YNc(15,dn,2,1,"div",19),t.YNc(16,_n,0,0,"ng-template",null,20,t.W1O),t.qZA()()()()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("hasBackdrop",e.sAztMatDrawerService.hasBackdrop),t.xp6(1),t.s9C("opened",e.sAztMatDrawerService.isOpenSideNav?"true":"false"),t.Q6J("ngClass",t.WLB(16,pn,e.isMobileDevice,!e.isMobileDevice))("mode",e.sAztMatDrawerService.mode),t.xp6(2),t.Q6J("ngClass",t.VKq(19,gn,e.isMobileDevice)),t.xp6(2),t.Q6J("detailDocument",e.detailDocument)("questions",e.questions),t.xp6(1),t.Q6J("ngClass",t.VKq(21,hn,!e.isMobileDevice&&e.sAztMatDrawerService.isOpenSideNav)),t.xp6(1),t.Q6J("ngClass",t.VKq(23,fn,!e.isMobileDevice&&e.sAztMatDrawerService.isOpenSideNav))("ngStyle",t.VKq(25,xn,e.statusObj.loading?"100vh":"auto")),t.xp6(2),t.Q6J("ngIf",!e.sAztMatDrawerService.isOpenSideNav||e.isMobileDevice),t.xp6(1),t.Q6J("ngIf",e.sAztMatDrawerService.isOpenSideNav&&!e.isMobileDevice),t.xp6(1),t.Q6J("ngIf",e.detailDocument&&(null==e.detailDocument?null:e.detailDocument.type)!==e.allShareDocumentMarketTypes.exam),t.xp6(1),t.Q6J("ngStyle",t.DdM(27,bn)),t.xp6(1),t.Q6J("ngIf",(null==e.detailDocument?null:e.detailDocument.type)===e.allShareDocumentMarketTypes.exam),t.xp6(1),t.Q6J("ngIf",e.detailDocument&&(null==e.detailDocument?null:e.detailDocument.type)!==e.allShareDocumentMarketTypes.exam)}}function kn(n,i){if(1&n&&(t.YNc(0,vn,18,28,"div",3),t._UZ(1,"azt-scroll-to-top-bottom",4)),2&n){const e=t.oxw();t.Q6J("ngIf",e.detailDocument),t.xp6(1),t.Q6J("isScrollToTop",!0)}}let Dn=(()=>{class n extends y.Q{set drawer(e){this.sAztMatDrawerService.resizeDrawerHeight(!0,e)}selectAttachment(e){this.currentSelectAttachment={...e,enumFileType:this.commonService.getEnumTypeWithDefault(A.s,e.fileType??"",A.s.unknown)},this.commonService.myNavigationWithQueryString(`/document-market/view-document/${this.documentHashId}/${e.id}`,"?backto="+this.backToLink)}getDocumentDetail(){this.initStatusObj(),this.waitDestroy(this.documentService.apiDocumentsHashIdHashGet(this.documentHashId).subscribe({next:e=>{if(this.detailDocument=new ot(this.commonService).formatDocumentDto(e),this.detailDocument?.weeks?.sort((o,a)=>o-a),this.detailDocument.attachments&&this.detailDocument.attachments.length){let o=this.commonService.getMyParam(this.activeRoute,"attachmentId")??0,a=this.detailDocument.attachments.find(c=>c.id==o);this.selectAttachment(a??this.detailDocument.attachments[0])}"exam"==this.detailDocument?.type?this.waitDestroy(this.documentService.apiDocumentsDocumentIdQuestionsGet(this.detailDocument.id).subscribe({next:o=>{this.questions=this.commonService.castJsonToClassObjs(At.v,JSON.stringify(o.list||[]))??[],this.totalQuestion=o.total,this.stopStatusObj()},error:o=>{this.errorStatusObj(o.error.message,!0)}})):this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.commonService.translateMetaData({title:"lang_core_chi_tiet_tai_lieu",image:"lang_cms_test_image"}),this.backToLink=this.commonService.getMyQueryParam("backto")??"/document-market/list-documents/all-documents/1",this.documentHashId=this.commonService.getMyParam(this.activeRoute,"hashId")??"",this.documentHashId&&this.getDocumentDetail()}constructor(e,o,a,c,m,f){super(),this.cdnService=e,this.sAztDialogService=o,this.sAztFileTypeService=a,this.documentService=c,this.activeRoute=m,this.sAztMatDrawerService=f,this.documentHashId="",this.backToLink="",this.questions=[],this.totalQuestion=0,this.allShareDocumentMarketTypes=p.R}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ot.E),t.Y36(I.C),t.Y36(ut.v),t.Y36(Zt.Zg),t.Y36(_.gz),t.Y36(K.T))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-document-detail"]],viewQuery:function(e,o){if(1&e&&t.Gf(tn,5),2&e){let a;t.iGM(a=t.CRH())&&(o.drawer=a.first)}},features:[t._Bn([K.T]),t.qOj],decls:4,vars:4,consts:[[3,"layoutName","headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","azt-result-list mb-5",4,"ngIf"],[3,"isScrollToTop"],[1,"azt-result-list","mb-5"],[1,"azt-drawer-container","mt-5",3,"hasBackdrop"],[3,"ngClass","mode","opened","openedChange"],["drawer",""],[1,"azt-draw-left",2,"overflow-x","hidden",3,"ngClass"],[1,"box",2,"margin-right","2px"],[3,"detailDocument","questions","changeLoadData"],[3,"ngClass"],[1,"azt-drawer-content",3,"ngClass","ngStyle"],[1,"flex","justify-between","box","sm:h-auto","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2","text-slate-500","mb-2"],["azt-track-service","document-detail-fL_3IARTv","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","document-detail-sQoUoSebuD","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["class","list_attachment_menu",4,"ngIf"],[1,"box","relative","p-3",3,"ngStyle"],["class","h-full",4,"ngIf"],["notExamDocument",""],["azt-track-service","document-detail-fL_3IARTv",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-menu","w-4","h-4"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["d","M9 3v18"],["d","m14 9 3 3-3 3"],["azt-track-service","document-detail-sQoUoSebuD",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["d","m16 15-3-3 3-3"],[1,"list_attachment_menu"],["appearance","outline",4,"ngIf"],["appearance","outline"],["name","attactments",3,"value"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],[1,"cursor-pointer","w-full","show_file_on_menu",3,"type","onlyOneLine","textWidth","iconVerticalStyle","showBorder","selectedBorder","customClass","name"],[1,"h-full"],[3,"questions","totalQuestion","documentId"],["class","mt-2",4,"ngIf"],[1,"mt-2"],["style","height: calc(100vh - 100px); display: block",4,"ngIf"],["style","display: block",4,"ngIf"],[2,"height","calc(100vh - 100px)","display","block"],[3,"fileUrl","fileType"],[2,"display","block"],[1,"preview-link","h-full","pb-3"],[3,"cdnLink","videoMimesType","videoThumbUrl","styles"]],template:function(e,o){if(1&e&&(t.TgZ(0,"public-layout",0),t.YNc(1,en,1,0,"azt-loading-effect",1),t.YNc(2,kn,2,2,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.Q6J("layoutName","document-market")("headerBackToLink",o.backToLink),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[l.mk,l.sg,l.O5,l.PC,St.ey,Ft.KE,Lt.gD,Q.jA,Q.kh,Q.LW,Y.gM,D.l,It.M,jt.f,dt.k,G.F,R.W,Le,Xe,u.JV,u.Bo],styles:[".setting_options[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;padding:.5rem}.azt-draw-left-container[_ngcontent-%COMP%] > .mat-drawer-inner-container[_ngcontent-%COMP%]{overflow:auto!important}.hide[_ngcontent-%COMP%]{display:none!important}*[_ngcontent-%COMP%]:focus{outline:none}.list_attachment_menu[_ngcontent-%COMP%]{width:40%;margin-left:auto}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.group-content[_ngcontent-%COMP%]{padding:0!important}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:2px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9e9e9;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}  .dark .class-active{background:rgb(53,69,103)}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}.list_attachment_menu[_ngcontent-%COMP%]{width:auto}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]}),n})();var O=s(52572),ct=s(65619),h=function(n){return n.ALL_DOCUMENTS="all-documents",n.NEWEST_DOCUMENTS="newest-documents",n.EXAM_DOCUMENTS="exam-documents",n.REFERENCE_DOCUMENTS="reference-documents",n.POWER_POINT_DOCUMENTS="power-point-documents",n.LECTURE_DOCUMENTS="lecture-documents",n.TEACHING_PLAN_DOCUMENTS="teaching-plan-documents",n.YOUR_DOCUMENTS="your-documents",n.APPROVED_MANAGEMENT="approved-management",n.FEEDBACK_MANAGEMENT="feedback-management",n}(h||{});class ht{constructor(i,e,o,a){this.backTo="",this.commonService=i,this.userService=e,this.sAztDialogService=o,this.backTo=a}goToContributeDocument(i){let e=this.commonService.getCurrentUrlWithoutLocale();this.userService.isNotLoginOrIsAnonymous()?this.sAztDialogService.open(J.J,{width:"600px",data:{keyTrans:"lang_azt_check_login_require",isShow:!0},restoreFocus:!1}):i?this.commonService.myNavigationToNewTab("/document-market/share-general","?backTo="+e):this.commonService.myNavigationWithQueryString("/document-market/share-general","?backTo="+e)}goToAllDocuments(i){i?this.commonService.myNavigationToNewTab("/document-market/list-documents/all-documents/1","?backTo="+this.backTo):this.commonService.myNavigationWithQueryString("/document-market/list-documents/all-documents/1","?backTo="+this.backTo)}goToNewestDocuments(i){i?this.commonService.myNavigationToNewTab("/document-market/list-documents/newest-documents/1","?backTo="+this.backTo):this.commonService.myNavigationWithQueryString("/document-market/list-documents/newest-documents/1","?backTo="+this.backTo)}goToExamDocuments(i){i?this.commonService.myNavigationToNewTab("/document-market/list-documents/exam-documents/1","?backTo="+this.backTo):this.commonService.myNavigationWithQueryString("/document-market/list-documents/exam-documents/1","?backTo="+this.backTo)}goToReferenceDocuments(i){i?this.commonService.myNavigationToNewTab("/document-market/list-documents/reference-documents/1","?backTo="+this.backTo):this.commonService.myNavigationWithQueryString("/document-market/list-documents/reference-documents/1","?backTo="+this.backTo)}goToPowerPointDocuments(i){i?this.commonService.myNavigationToNewTab("/document-market/list-documents/power-point-documents/1","?backTo="+this.backTo):this.commonService.myNavigationWithQueryString("/document-market/list-documents/power-point-documents/1","?backTo="+this.backTo)}goToPlanDocuments(i){i?this.commonService.myNavigationToNewTab("/document-market/list-documents/teaching-plan-documents/1","?backTo="+this.backTo):this.commonService.myNavigationWithQueryString("/document-market/list-documents/teaching-plan-documents/1","?backTo="+this.backTo)}goToLectureDocuments(i){i?this.commonService.myNavigationToNewTab("/document-market/list-documents/lecture-documents/1","?backTo="+this.backTo):this.commonService.myNavigationWithQueryString("/document-market/list-documents/lecture-documents/1","?backTo="+this.backTo)}goToYourDocuments(i){this.userService.isNotLoginOrIsAnonymous()?this.sAztDialogService.open(J.J,{width:"600px",data:{keyTrans:"lang_azt_check_login_require",isShow:!0},restoreFocus:!1}):i?this.commonService.myNavigationToNewTab("/document-market/list-documents/your-documents/1","?backTo="+this.backTo):this.commonService.myNavigationWithQueryString("/document-market/list-documents/your-documents/1","?backTo="+this.backTo)}goToApprovedManagement(i){i?this.commonService.myNavigationToNewTab("/document-market/list-documents/approved-management/1","?backTo="+this.backTo):this.commonService.myNavigationWithQueryString("/document-market/list-documents/approved-management/1","?backTo="+this.backTo)}goToFeedbackManagement(i){i?this.commonService.myNavigationToNewTab("/document-market/list-documents/feedback-management/1","?backTo="+this.backTo):this.commonService.myNavigationWithQueryString("/document-market/list-documents/feedback-management/1","?backTo="+this.backTo)}redirectByDocumentType(i){switch(i){case"latest":return this.goToNewestDocuments(!1);case"exam":return this.goToExamDocuments(!1);case"lecture":return this.goToPowerPointDocuments(!1);case"ref":return this.goToReferenceDocuments(!1)}}}const F=function(n){return{"bg-info text-white font-medium active":n}};function Tn(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",34)(2,"span"),t._uU(3,"Admin"),t.qZA()(),t.TgZ(4,"div",5)(5,"div")(6,"button",35),t.NdJ("mouseup",function(a){t.CHM(e);const c=t.oxw();return t.KtG(2===a.button||c.documentMarketMenuService.goToApprovedManagement(1===a.button))}),t._UZ(7,"lucide-icon",36),t.TgZ(8,"span",4),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"button",37),t.NdJ("mouseup",function(a){t.CHM(e);const c=t.oxw();return t.KtG(2===a.button||c.documentMarketMenuService.goToFeedbackManagement(1===a.button))}),t._UZ(12,"lucide-icon",38),t.TgZ(13,"span",4),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("disabled",e.documentMenu==e.allDocumentMenus.APPROVED_MANAGEMENT)("ngClass",t.VKq(10,F,e.documentMenu==e.allDocumentMenus.APPROVED_MANAGEMENT)),t.xp6(3),t.Oqu(t.lcZ(10,6,"lang_document_market_approve_document")),t.xp6(2),t.Q6J("disabled",e.documentMenu==e.allDocumentMenus.FEEDBACK_MANAGEMENT)("ngClass",t.VKq(12,F,e.documentMenu==e.allDocumentMenus.FEEDBACK_MANAGEMENT)),t.xp6(3),t.Oqu(t.lcZ(15,8,"lang_document_market_feedback_document"))}}let Cn=(()=>{class n extends y.Q{ngOnInit(){this.documentMarketMenuService=new ht(this.commonService,this.userService,this.sAztDialogService,this.backTo)}constructor(e,o){super(),this.sAztDialogService=e,this.userService=o,this.allDocumentMenus=h}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.C),t.Y36(U.U))},n.\u0275cmp=t.Xpm({type:n,selectors:[["document-market-menu-left"]],inputs:{backTo:"backTo",documentMenu:"documentMenu"},features:[t.qOj],decls:61,vars:61,consts:[["azt-track-service","menu-left-side-m34v-Hqny",1,"btn","btn-primary","shadow-md","w-full","block","mb-3",3,"mouseup"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-6","mr-2"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[2,"vertical-align","middle"],[1,"intro-y","box","p-2"],["azt-track-service","menu-left-side-D-iDENbfF",1,"flex","items-center","px-3","py-2","rounded-md","w-full","btn-menu-left","mb-2",3,"disabled","ngClass","mouseup"],["name","home",1,"lucide","mr-2"],["azt-track-service","menu-left-side-Z2Pl4QO9qy",1,"flex","items-center","px-3","py-2","rounded-md","w-full","btn-menu-left","mb-2",3,"disabled","ngClass","mouseup"],["name","file-text",1,"lucide","mr-2"],["name","calendar-check",1,"lucide","mr-2"],["azt-track-service","menu-left-side-VJbPC496g9",1,"flex","items-center","px-3","py-2","rounded-md","w-full","btn-menu-left","mb-2",3,"disabled","ngClass","mouseup"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 38 35","version","1.1","width","20px","height","20px","stroke-width","2","stroke-linecap","round"],["transform","matrix(1 0 0 1 -313 -361 )"],["d","M 36.0612244897959 6.99544270833333 C 36.6390556222489 7.22330729166667 37.0876350540216 7.54991319444444 37.406962785114 7.97526041666667 C 38.015206082433 8.84114583333333 38.1520608243297 9.82096354166667 37.8175270108043 10.9147135416667 L 31.5450180072029 31.5592447916667 C 31.2561024409764 32.5314670138889 30.6744697879152 33.3479817708333 29.8001200480192 34.0087890625 C 28.9257703081233 34.6695963541667 27.9943977591036 35 27.0060024009604 35 L 5.953181272509 35 C 4.78231292517007 35 3.65326130452181 34.5936414930556 2.56602641056423 33.7809244791667 C 1.47879151660664 32.9682074652778 0.722288915566227 31.9694010416667 0.296518607442977 30.7845052083333 C -0.0684273709483793 29.7667100694444 -0.0836334533813525 28.8020833333333 0.250900360144058 27.890625 C 0.250900360144058 27.8298611111111 0.273709483793517 27.6247829861111 0.319327731092437 27.275390625 C 0.364945978391357 26.9259982638889 0.395358143257303 26.6449652777778 0.410564225690276 26.4322916666667 C 0.425770308123249 26.3107638888889 0.40296118447379 26.1474609375 0.342136854741897 25.9423828125 C 0.281312525010004 25.7373046875 0.258503401360544 25.5891927083333 0.273709483793517 25.498046875 C 0.304121648659464 25.3309461805556 0.364945978391357 25.1714409722222 0.456182472989196 25.01953125 C 0.547418967587035 24.8676215277778 0.672869147659064 24.6891276041667 0.832533013205282 24.4840494791667 C 0.992196878751501 24.2789713541667 1.11764705882353 24.1004774305556 1.20888355342137 23.9485677083333 C 1.55862344937975 23.3713107638889 1.90076030412165 22.6763237847222 2.23529411764706 21.8636067708333 C 2.56982793117247 21.0508897569444 2.79791916766707 20.3559027777778 2.91956782713085 19.7786458333333 C 2.96518607442977 19.6267361111111 2.96898759503802 19.3988715277778 2.93097238895558 19.0950520833333 C 2.89295718287315 18.7912326388889 2.88915566226491 18.5785590277778 2.91956782713085 18.45703125 C 2.96518607442977 18.2899305555556 3.09443777511004 18.0772569444444 3.30732292917167 17.8190104166667 C 3.52020808323329 17.5607638888889 3.64945978391357 17.3860677083333 3.69507803121249 17.294921875 C 4.01440576230492 16.748046875 4.33373349339736 16.0492621527778 4.6530612244898 15.1985677083333 C 4.97238895558223 14.3478732638889 5.1624649859944 13.6642795138889 5.22328931572629 13.1477864583333 C 5.23849539815926 13.0110677083333 5.21948779511805 12.7680121527778 5.16626650660264 12.4186197916667 C 5.11304521808724 12.0692274305556 5.11684673869548 11.8565538194444 5.17767106842737 11.7805989583333 C 5.23849539815926 11.5831163194444 5.40576230492197 11.3514539930556 5.67947178871549 11.0856119791667 C 5.953181272509 10.8197699652778 6.12044817927171 10.6488715277778 6.1812725090036 10.5729166666667 C 6.47018807523009 10.1779513888889 6.79331732693077 9.5361328125 7.15066026410564 8.6474609375 C 7.50800320128051 7.7587890625 7.71708683473389 7.02582465277778 7.77791116446579 6.44856770833333 C 7.79311724689876 6.32703993055555 7.7703081232493 6.13335503472222 7.70948379351741 5.86751302083333 C 7.64865946378552 5.60167100694444 7.63345338135254 5.400390625 7.66386554621849 5.263671875 C 7.69427771108443 5.14214409722222 7.76270508203281 5.00542534722222 7.86914765906362 4.853515625 C 7.97559023609444 4.70160590277778 8.1124449779912 4.52690972222222 8.2797118847539 4.32942708333333 C 8.44697879151661 4.13194444444444 8.57623049219688 3.97243923611111 8.66746698679472 3.85091145833333 C 8.78911564625851 3.66861979166667 8.91456582633053 3.43695746527778 9.0438175270108 3.15592447916667 C 9.17306922769108 2.87489149305555 9.28711484593838 2.60904947916667 9.3859543817527 2.3583984375 C 9.48479391756703 2.10774739583333 9.60644257703081 1.83430989583333 9.75090036014406 1.5380859375 C 9.8953581432573 1.24186197916667 10.0436174469788 0.998806423611109 10.1956782713085 0.808919270833332 C 10.3477390956383 0.619032118055551 10.5492196878752 0.440538194444441 10.8001200480192 0.2734375 C 11.0510204081633 0.106336805555551 11.3247298919568 0.0189887152777773 11.6212484993998 0.011393229166668 C 11.9177671068427 0.00379774305555081 12.2789115646259 0.045572916666668 12.7046818727491 0.13671875 L 12.6818727490996 0.205078125 C 13.2597038815526 0.068359375 13.6474589835934 0 13.8451380552221 0 L 31.202881152461 0 C 32.328131252501 0 33.1948779511805 0.425347222222219 33.8031212484994 1.27604166666667 C 34.4113645458183 2.12673611111111 34.5482192877151 3.11414930555555 34.2136854741897 4.23828125 L 27.9639855942377 24.8828125 C 27.4165666266507 26.6905381944444 26.8729491796719 27.8564453125 26.3331332533013 28.3805338541667 C 25.7933173269308 28.9046223958333 24.8163265306122 29.1666666666667 23.4021608643457 29 L 3.58103241296519 29 C 3.17046818727491 29.1666666666667 2.88155262104842 29.2805989583333 2.71428571428571 29.5084635416667 C 2.54701880752301 29.7515190972222 2.53941576630652 30.078125 2.69147659063625 30.48828125 C 3.05642256902761 31.5516493055556 4.15126050420168 32.0833333333333 5.97599039615846 32 L 27.0288115246098 32 C 27.4697879151661 32.0833333333333 27.8955582232893 31.9656032986111 28.3061224489796 31.7301432291667 C 28.7166866746699 31.4946831597222 28.9827931172469 31.1794704861111 29.1044417767107 30.7845052083333 L 35.9471788715486 8.29427083333333 C 36.0536214485794 7.96006944444444 36.0916366546619 7.52712673611111 36.0612244897959 6.99544270833333 Z M 13.6170468187275 6.5625 L 13.1380552220888 8.02083333333333 C 13.0772308923569 8.21831597222222 13.0924369747899 8.38921440972222 13.1836734693878 8.53352864583333 C 13.2749099639856 8.67784288194444 13.4269707883153 8.75 13.639855942377 9 L 27.5078031212485 9 C 27.7054821928772 8.75 27.8993597438976 8.67784288194444 28.0894357743097 8.53352864583333 C 28.2795118047219 8.38921440972222 28.4049619847939 8.21831597222222 28.4657863145258 8.02083333333333 L 28.9447779111645 6.5625 C 29.0056022408964 6.36501736111111 28.9903961584634 6.19411892361111 28.8991596638655 6.0498046875 C 28.8079231692677 5.90549045138889 28.655862344938 5.83333333333333 28.4429771908764 6 L 14.5750300120048 6 C 14.3773509403762 5.83333333333333 14.1834733893557 5.90549045138889 13.9933973589436 6.0498046875 C 13.8033213285314 6.19411892361111 13.6778711484594 6.36501736111111 13.6170468187275 6.5625 Z M 11.7238895558223 12.3958333333333 L 11.2448979591837 13.8541666666667 C 11.1840736294518 14.0516493055556 11.1992797118848 14.2225477430556 11.2905162064826 14.3668619791667 C 11.3817527010804 14.5111762152778 11.5338135254102 14.5833333333333 11.7466986794718 15 L 25.6146458583433 15 C 25.812324929972 14.5833333333333 26.0062024809924 14.5111762152778 26.1962785114046 14.3668619791667 C 26.3863545418167 14.2225477430556 26.5118047218888 14.0516493055556 26.5726290516206 13.8541666666667 L 27.0516206482593 12.3958333333333 C 27.1124449779912 12.1983506944444 27.0972388955582 12.0274522569444 27.0060024009604 11.8831380208333 C 26.9147659063625 11.7388237847222 26.7627050820328 11.6666666666667 26.5498199279712 12 L 12.6818727490996 12 C 12.484193677471 11.6666666666667 12.2903161264506 11.7388237847222 12.1002400960384 11.8831380208333 C 11.9101640656263 12.0274522569444 11.7847138855542 12.1983506944444 11.7238895558223 12.3958333333333 Z ","fill-rule","nonzero","stroke","none","transform","matrix(1 0 0 1 313 361 )"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","menu-left-side-e7fhYwheNJ",1,"flex","items-center","px-3","py-2","rounded-md","w-full","btn-menu-left","mb-2",3,"disabled","ngClass","mouseup"],["name","play-circle",1,"lucide","mr-2"],["azt-track-service","menu-left-side-7EL2TCf99",1,"flex","items-center","px-3","py-2","rounded-md","w-full","btn-menu-left","mb-2",3,"disabled","ngClass","mouseup"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-projector"],["d","M5 7 3 5"],["d","M9 6V3"],["d","m13 7 2-2"],["cx","9","cy","13","r","3"],["d","M11.83 12H20a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h2.17"],["d","M16 16h2"],["azt-track-service","menu-left-side-2YKPdO-8Wr",1,"flex","items-center","px-3","py-2","rounded-md","w-full","btn-menu-left","mb-2",3,"disabled","ngClass","mouseup"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-book-text"],["d","M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"],["d","M8 7h6"],["d","M8 11h8"],["azt-track-service","menu-left-side-HhHwHptxFh",1,"flex","items-center","px-3","py-2","rounded-md","w-full","btn-menu-left",3,"disabled","ngClass","mouseup"],["name","user",1,"lucide","mr-2"],[4,"ngIf"],[1,"text-md","font-medium","mt-5","mb-2"],["azt-track-service","menu-left-side-5_BRt9gJxA",1,"flex","items-center","px-3","py-2","rounded-md","w-full","btn-menu-left","mb-2",3,"disabled","ngClass","mouseup"],["name","check-square",1,"lucide","mr-2"],["azt-track-service","menu-left-side-Fema3k889x",1,"flex","items-center","px-3","py-2","rounded-md","w-full","btn-menu-left","mb-2",3,"disabled","ngClass","mouseup"],["name","message-square",1,"lucide","mr-2"]],template:function(e,o){1&e&&(t.TgZ(0,"button",0),t.NdJ("mouseup",function(c){return 2===c.button||o.documentMarketMenuService.goToContributeDocument(1===c.button)}),t.O4$(),t.TgZ(1,"svg",1),t._UZ(2,"line",2)(3,"line",3),t.qZA(),t.kcU(),t.TgZ(4,"span",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"div",5)(8,"div")(9,"button",6),t.NdJ("mouseup",function(c){return 2===c.button||o.documentMarketMenuService.goToAllDocuments(1===c.button)}),t._UZ(10,"lucide-icon",7),t.TgZ(11,"span",4),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()(),t.TgZ(14,"button",8),t.NdJ("mouseup",function(c){return 2===c.button||o.documentMarketMenuService.goToNewestDocuments(1===c.button)}),t._UZ(15,"lucide-icon",9),t.TgZ(16,"span",4),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()(),t.TgZ(19,"button",8),t.NdJ("mouseup",function(c){return 2===c.button||o.documentMarketMenuService.goToExamDocuments(1===c.button)}),t._UZ(20,"lucide-icon",10),t.TgZ(21,"span",4),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()(),t.TgZ(24,"button",11),t.NdJ("mouseup",function(c){return 2===c.button||o.documentMarketMenuService.goToReferenceDocuments(1===c.button)}),t.O4$(),t.TgZ(25,"svg",12)(26,"g",13),t._UZ(27,"path",14),t.qZA()(),t.kcU(),t.TgZ(28,"span",15),t._uU(29),t.ALo(30,"mytranslate"),t.qZA()(),t.TgZ(31,"button",16),t.NdJ("mouseup",function(c){return 2===c.button||o.documentMarketMenuService.goToLectureDocuments(1===c.button)}),t._UZ(32,"lucide-icon",17),t.TgZ(33,"span",4),t._uU(34),t.ALo(35,"mytranslate"),t.qZA()(),t.TgZ(36,"button",18),t.NdJ("mouseup",function(c){return 2===c.button||o.documentMarketMenuService.goToPowerPointDocuments(1===c.button)}),t.O4$(),t.TgZ(37,"svg",19),t._UZ(38,"path",20)(39,"path",21)(40,"path",22)(41,"circle",23)(42,"path",24)(43,"path",25),t.qZA(),t.kcU(),t.TgZ(44,"span",15),t._uU(45),t.ALo(46,"mytranslate"),t.qZA()(),t.TgZ(47,"button",26),t.NdJ("mouseup",function(c){return 2===c.button||o.documentMarketMenuService.goToPlanDocuments(1===c.button)}),t.O4$(),t.TgZ(48,"svg",27),t._UZ(49,"path",28)(50,"path",29)(51,"path",30),t.qZA(),t.kcU(),t.TgZ(52,"span",15),t._uU(53),t.ALo(54,"mytranslate"),t.qZA()(),t.TgZ(55,"button",31),t.NdJ("mouseup",function(c){return 2===c.button||o.documentMarketMenuService.goToYourDocuments(1===c.button)}),t._UZ(56,"lucide-icon",32),t.TgZ(57,"span",4),t._uU(58),t.ALo(59,"mytranslate"),t.qZA()()()(),t.YNc(60,Tn,16,14,"ng-container",33)),2&e&&(t.xp6(5),t.Oqu(t.lcZ(6,27,"lang_document_market_new_contribute")),t.xp6(4),t.Q6J("disabled",o.documentMenu==o.allDocumentMenus.ALL_DOCUMENTS)("ngClass",t.VKq(45,F,o.documentMenu==o.allDocumentMenus.ALL_DOCUMENTS)),t.xp6(3),t.Oqu(t.lcZ(13,29,"lang_document_market_menu_homepage")),t.xp6(2),t.Q6J("disabled",o.documentMenu==o.allDocumentMenus.NEWEST_DOCUMENTS)("ngClass",t.VKq(47,F,o.documentMenu==o.allDocumentMenus.NEWEST_DOCUMENTS)),t.xp6(3),t.Oqu(t.lcZ(18,31,"lang_core_document_latest")),t.xp6(2),t.Q6J("disabled",o.documentMenu==o.allDocumentMenus.EXAM_DOCUMENTS)("ngClass",t.VKq(49,F,o.documentMenu==o.allDocumentMenus.EXAM_DOCUMENTS)),t.xp6(3),t.Oqu(t.lcZ(23,33,"lang_auto_bai_tap_de_thi")),t.xp6(2),t.Q6J("disabled",o.documentMenu==o.allDocumentMenus.REFERENCE_DOCUMENTS)("ngClass",t.VKq(51,F,o.documentMenu==o.allDocumentMenus.REFERENCE_DOCUMENTS)),t.xp6(3),t.uIk("fill",o.documentMenu==o.allDocumentMenus.REFERENCE_DOCUMENTS?"#fff":"#646464"),t.xp6(2),t.Oqu(t.lcZ(30,35,"lang_document_market_reference")),t.xp6(2),t.Q6J("disabled",o.documentMenu==o.allDocumentMenus.LECTURE_DOCUMENTS)("ngClass",t.VKq(53,F,o.documentMenu==o.allDocumentMenus.LECTURE_DOCUMENTS)),t.xp6(3),t.Oqu(t.lcZ(35,37,"lang_document_lecture_video")),t.xp6(2),t.Q6J("disabled",o.documentMenu==o.allDocumentMenus.POWER_POINT_DOCUMENTS)("ngClass",t.VKq(55,F,o.documentMenu==o.allDocumentMenus.POWER_POINT_DOCUMENTS)),t.xp6(9),t.Oqu(t.lcZ(46,39,"lang_document_lecture_power_point")),t.xp6(2),t.Q6J("disabled",o.documentMenu==o.allDocumentMenus.TEACHING_PLAN_DOCUMENTS)("ngClass",t.VKq(57,F,o.documentMenu==o.allDocumentMenus.TEACHING_PLAN_DOCUMENTS)),t.xp6(6),t.Oqu(t.lcZ(54,41,"lang_document_lecture_plan_teaching")),t.xp6(2),t.Q6J("disabled",o.documentMenu==o.allDocumentMenus.YOUR_DOCUMENTS)("ngClass",t.VKq(59,F,o.documentMenu==o.allDocumentMenus.YOUR_DOCUMENTS)),t.xp6(3),t.Oqu(t.lcZ(59,43,"lang_document_market_your_document")),t.xp6(2),t.Q6J("ngIf",o.userService.isSupperAdminRole()))},dependencies:[l.mk,l.O5,d.Nh5,u.JV],styles:[".btn-menu-left[_ngcontent-%COMP%] > lucide-icon[_ngcontent-%COMP%]{width:20px!important;height:20px!important;color:#fff}.btn-menu-left[_ngcontent-%COMP%]:not(.active) > lucide-icon[_ngcontent-%COMP%]{color:#646464!important}.btn-menu-left[_ngcontent-%COMP%]:not(.active):hover{--tw-border-opacity: .7;background-color:rgb(var(--color-slate-300)/var(--tw-border-opacity))}"]}),n})();const ft=function(n){return{"btn-info text-white":n}};function wn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"button",7),t.NdJ("click",function(){const c=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.showSubjectOfLevel(c.id))}),t.TgZ(2,"span",8),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngClass",t.VKq(4,ft,0==e.id)),t.xp6(2),t.Oqu(t.lcZ(4,2,e.name))}}function yn(n,i){if(1&n&&(t.ynx(0),t.YNc(1,wn,5,6,"div",6),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.listFilterObjs)}}function Mn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"button",13),t.NdJ("click",function(){const c=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.selectChildrenFilter(m.currentShowFilterObj.id,c.id))}),t.TgZ(2,"span",8),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngClass",t.VKq(4,ft,e.selected)),t.xp6(2),t.Oqu(t.lcZ(4,2,e.name))}}function An(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div")(2,"button",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.clearFilter())}),t._UZ(3,"lucide-icon",10),t.TgZ(4,"span",8),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()(),t.TgZ(7,"div")(8,"button",11)(9,"span",8),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t._UZ(12,"lucide-icon",12),t.qZA()(),t.YNc(13,Mn,5,6,"div",6),t.BQk()}if(2&n){const e=t.oxw(),o=t.MAs(4);t.xp6(5),t.Oqu(t.lcZ(6,4,"lang_auto_xoa")),t.xp6(3),t.Q6J("matMenuTriggerFor",o),t.xp6(2),t.Oqu(t.lcZ(11,6,e.currentShowFilterObj.name)),t.xp6(3),t.Q6J("ngForOf",e.currentShowFilterObj.children)}}function On(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"a",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,c=t.oxw();return t.KtG(c.showSubjectOfLevel(a.id))}),t.TgZ(2,"span",8),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()()}if(2&n){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(t.lcZ(4,1,e.name))}}function Zn(n,i){if(1&n&&(t.ynx(0),t.YNc(1,On,5,3,"li",1),t.BQk()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngIf",e.id!=(null==o.currentShowFilterObj?null:o.currentShowFilterObj.id))}}let Sn=(()=>{class n extends y.Q{clearFilter(){this.currentShowFilterObj=void 0,this.selectFilter.emit({levelId:0,childId:0})}showSubjectOfLevel(e){0==e?this.clearFilter():this.listFilterObjs.forEach(o=>{o.id==e&&(this.currentShowFilterObj=o,this.currentShowFilterObj.children&&this.currentShowFilterObj.children.length&&this.selectChildrenFilter(this.currentShowFilterObj.id,0))})}selectChildrenFilter(e,o){this.currentShowFilterObj?.children?.forEach(a=>{a.selected=a.id==o}),this.selectFilter.emit({levelId:e,childId:o})}getLevelAndSubject(){this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(e=>{1==e.success?(e.data?.schoolLevelSubjectObjs.filter(o=>o.schoolLevel?.id).forEach(o=>{this.listFilterObjs.push({id:o.schoolLevel?.id??0,name:o.schoolLevel?.key??"L\u1edbp",showChild:!1,children:o.schoolSubjectObjs.map(a=>({id:a.id,name:this.commonService.myTranslateInstant(a.name)??"",selected:!1}))})}),this.successStatusObj()):this.errorStatusObj(e.message??"")}))}ngOnInit(){super.ngOnInit(),this.getLevelAndSubject(),this.waitDestroy(this.documentFilterSubscriber?.subscribe(e=>{e&&e.selectedFilterObj.childId<=0&&e.selectedFilterObj.levelId<=0&&null!=this.currentShowFilterObj&&(this.currentShowFilterObj=void 0)}))}constructor(e){super(),this.commonListService=e,this.selectFilter=new t.vpe,this.filterKey=this.commonService.myTranslateInstant("lang_document_market_class")??"L\u1edbp ",this.listFilterObjs=[{id:0,name:"lang_auto_tat_ca"}]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H.o7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["document-market-filter-level"]],inputs:{documentFilterSubscriber:"documentFilterSubscriber"},outputs:{selectFilter:"selectFilter"},features:[t.qOj],decls:8,vars:3,consts:[[1,"flex","flex-wrap","w-full","mb-3",2,"gap","10px"],[4,"ngIf"],["xPosition","after"],["mainMenu","matMenu"],[1,"dropdown-menu","show","relative","w-72"],[1,"dropdown-content"],[4,"ngFor","ngForOf"],[1,"items-center","px-3","py-2","rounded-md","w-full","border","border-slate-300",3,"ngClass","click"],[2,"vertical-align","middle"],[1,"flex","btn-secondary","items-center","px-3","py-2","rounded-md","w-full","btn-filter","border","border-slate-300",3,"click"],["name","trash-2",1,"lucide","mr-2"],[1,"flex","btn-info","text-white","items-center","px-3","py-2","rounded-md","w-full","btn-filter","border","border-slate-300",3,"matMenuTriggerFor"],["name","chevron-down",1,"lucide","ml-1"],[1,"items-center","px-3","py-2","rounded-md","w-full","btn-filter","border","border-slate-300",3,"ngClass","click"],[1,"dropdown-item",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,yn,2,1,"ng-container",1),t.YNc(2,An,14,8,"ng-container",1),t.qZA(),t.TgZ(3,"mat-menu",2,3)(5,"div",4)(6,"ul",5),t.YNc(7,Zn,2,1,"ng-container",6),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",!o.currentShowFilterObj),t.xp6(1),t.Q6J("ngIf",o.currentShowFilterObj),t.xp6(5),t.Q6J("ngForOf",o.listFilterObjs))},dependencies:[l.mk,l.sg,l.O5,W.VK,W.p6,d.Nh5,u.JV],styles:[".btn-filter[_ngcontent-%COMP%] > lucide-icon[_ngcontent-%COMP%]{width:16px!important;height:16px!important}"]}),n})(),L=(()=>{class n extends y.Q{setListDocumentObjs(e){this.listDocumentDtoObjs=new ot(this.commonService).formatRecommendedDocumentObjs(e,this.listSchoolLevelAndSubject)}isCurrentDocument(e){let o=this.commonService.getMyParam(this.activeRoute,"documentType")??"";return(this.commonService.getEnumType(h,o)??h.ALL_DOCUMENTS)==e}clearSearchOrFilter(){this.documentFilterModelObj=void 0,this.clearDocumentFilterEvent.emit(this.documentFilterModelObj),this.initData()}goToPage(e){this.currentPage=e;let o=this.commonService.getMyQueryParam("tab")??void 0;this.backLink?this.commonService.myNavigationWithQueryString(`${this.paginationBaseUrl}${e}`,"?backTo="+encodeURIComponent(this.backLink)+(null!=o?"&tab="+Number(o):"")):this.commonService.myNavigation(`${this.paginationBaseUrl}${e}${null!=o?"?tab="+Number(o):""}`)}isFilterResult(){return!!(this.documentFilterModelObj?.searchKeyword||this.documentFilterModelObj?.selectedFilterObj?.childId||this.documentFilterModelObj?.selectedFilterObj?.levelId)}getLevelAndSubject(){this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(e=>{1==e.success?(this.listSchoolLevelAndSubject=e.data?.schoolLevelSubjectObjs??[],this.successStatusObj()):this.errorStatusObj(e.message??"")}))}ngOnInit(){super.ngOnInit(),this.getLevelAndSubject(),this.waitDestroy(this.documentFilterSubscriber?.subscribe(e=>{e&&(this.documentFilterModelObj=e,this.isShowFilterResult=this.isFilterResult(),this.initData())}))}constructor(){super(),this.backLink="",this.clearDocumentFilterEvent=new t.vpe,this.activeRoute=(0,t.f3M)(_.gz),this.listDocumentDtoObjs=[],this.listSchoolLevelAndSubject=[],this.commonListService=(0,t.f3M)(H.o7),this.currentPage=1,this.sizeApi=24,this.totalDto=0,this.totalPage=0,this.isShowFilterResult=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],inputs:{backLink:"backLink",documentFilterModelObj:"documentFilterModelObj",documentFilterSubscriber:"documentFilterSubscriber"},outputs:{clearDocumentFilterEvent:"clearDocumentFilterEvent"},features:[t.qOj],decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})();var E=s(48777);function Fn(n,i){if(1&n&&(t.TgZ(0,"span",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.documentObj.schoolLevelKey)," ")}}function Ln(n,i){if(1&n&&(t.TgZ(0,"span",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" - ",t.lcZ(2,1,e.documentObj.schoolSubjectKey)," ")}}function In(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",15)(2,"div",16),t.YNc(3,Fn,3,3,"span",17),t.YNc(4,Ln,3,3,"span",17),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",e.documentObj.schoolLevelKey),t.xp6(1),t.Q6J("ngIf",e.documentObj.schoolSubjectKey)}}function jn(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",15)(2,"div",19)(3,"span",20),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"span",18),t._uU(7),t.ALo(8,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,"lang_document_market_updated_at")+": "," "),t.xp6(3),t.hij(" ",t.lcZ(8,4,e.documentObj.updatedAt)," ")}}function Nn(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",15)(2,"div",16)(3,"span",20),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"span",18),t._uU(7),t.ALo(8,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,"lang_document_market_feedback_section")+": "," "),t.xp6(3),t.hij(" ",t.lcZ(8,4,e.documentObj.updatedAt)," ")}}function zn(n,i){if(1&n&&(t.TgZ(0,"div",15)(1,"div",19)(2,"span",20),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"span",18),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_document_market_who_created")+": "," "),t.xp6(3),t.hij(" ",e.documentObj.creatorFullName?e.documentObj.creatorFullName:t.lcZ(7,4,"lang_document_market_unknown_created")," ")}}function Pn(n,i){1&n&&(t.ynx(0),t.TgZ(1,"span",21),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_document_market_pending")," "))}function qn(n,i){1&n&&(t.ynx(0),t.TgZ(1,"span",22),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_document_market_approved")," "))}function Un(n,i){1&n&&(t.ynx(0),t.TgZ(1,"span",23),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_status_rejected")," "))}function En(n,i){if(1&n&&(t.TgZ(0,"div",15)(1,"div",19)(2,"span",20),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.YNc(5,Pn,4,3,"ng-container",11),t.YNc(6,qn,4,3,"ng-container",11),t.YNc(7,Un,4,3,"ng-container",11),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,4,"lang_auto_trang_thai")+": "," "),t.xp6(2),t.Q6J("ngIf","new"==e.documentObj.status),t.xp6(1),t.Q6J("ngIf","approved"==e.documentObj.status),t.xp6(1),t.Q6J("ngIf","rejected"==e.documentObj.status)}}function Qn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",24),t.NdJ("click",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.handleRemoveDocument(a))}),t.O4$(),t.TgZ(1,"svg",25),t._UZ(2,"path",26)(3,"path",27)(4,"path",28)(5,"line",29)(6,"line",30),t.qZA()()}}function Jn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",31),t.NdJ("click",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.handleRevertDocument(a))}),t.O4$(),t.TgZ(1,"svg",32),t._UZ(2,"circle",33)(3,"path",34)(4,"path",35),t.qZA()()}}function Yn(n,i){if(1&n&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t._UZ(3,"azt-document-type-file",6),t.qZA(),t.TgZ(4,"div",7)(5,"div",8)(6,"span",9,10),t._uU(8),t.qZA()(),t.YNc(9,In,5,2,"ng-container",11),t.YNc(10,jn,9,6,"ng-container",11),t.YNc(11,Nn,9,6,"ng-container",11),t.YNc(12,zn,8,6,"div",12),t.YNc(13,En,8,6,"div",12),t.qZA()(),t.YNc(14,Qn,7,0,"div",13),t.YNc(15,Jn,5,0,"div",14),t.qZA()),2&n){const e=t.MAs(7),o=t.oxw();t.xp6(3),t.Q6J("type",o.documentObj.marketDocumentType)("name","")("showBorder",!1)("onlyOneLine",!0)("customClass","w-16 h-16"),t.xp6(3),t.s9C("matTooltip",o.documentObj.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.xp6(2),t.Oqu(o.documentObj.name),t.xp6(1),t.Q6J("ngIf",o.documentObj.schoolLevelKey||o.documentObj.schoolSubjectKey),t.xp6(1),t.Q6J("ngIf",!o.isOnFeedback),t.xp6(1),t.Q6J("ngIf",o.isOnFeedback),t.xp6(1),t.Q6J("ngIf",!o.showStatus),t.xp6(1),t.Q6J("ngIf",o.showStatus),t.xp6(1),t.Q6J("ngIf",o.showDeleteBtn),t.xp6(1),t.Q6J("ngIf",o.showRevertBtn)}}const Rn=function(n){return[n]},Bn=function(n){return{backto:n}};let j=(()=>{class n extends y.Q{getLinkByRole(e){if(this.userService.isNotLoginOrIsAnonymous())e.preventDefault(),e.stopPropagation(),this.sAztDialogService.open(J.J,{width:"600px",data:{keyTrans:"lang_azt_check_login_require",isShow:!0},restoreFocus:!1});else{let o=this.commonService.getCurrentUrlWithoutLocale();this.commonService.myNavigationWithQueryString("/document-market/view-document/"+this.documentObj.hashId+"/0","?backto="+o)}}handleRemoveDocument(e){this.removeDocument.emit(this.documentObj),e.preventDefault(),e.stopPropagation()}handleRevertDocument(e){this.revertDocument.emit(this.documentObj),e.preventDefault(),e.stopPropagation()}showRejectedReason(e){e.preventDefault(),e.stopPropagation()}getImgLinkByType(){return""}constructor(e,o){super(),this.userService=e,this.sAztDialogService=o,this.showStatus=!1,this.showDeleteBtn=!1,this.showRevertBtn=!1,this.isOnFeedback=!1,this.removeDocument=new t.vpe,this.revertDocument=new t.vpe}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.U),t.Y36(I.C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["document-info-box"]],inputs:{documentObj:"documentObj",showStatus:"showStatus",showDeleteBtn:"showDeleteBtn",showRevertBtn:"showRevertBtn",isOnFeedback:"isOnFeedback"},outputs:{removeDocument:"removeDocument",revertDocument:"revertDocument"},features:[t.qOj],decls:5,vars:9,consts:[["azt-track-service","document-info-box-biMMYUAC2",1,"py-3",3,"routerLink","queryParams"],[3,"ngTemplateOutlet"],["boxInfo",""],[1,"rounded-md","bg-slate-100","dark:bg-darkmode-300","items-center","zoom-in",2,"min-height","85px","height","100%","position","relative"],[1,"flex","items-center","p-3","student-exam-result-up"],[1,"flex","image-fit","lg:mr-1","text-center"],[3,"type","name","showBorder","onlyOneLine","customClass"],[1,"ml-2","text-left","mt-0"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[4,"ngIf"],["class","flex items-center mt-1",4,"ngIf"],["azt-track-service","document-info-box-aiXgySjxg","class","student-exam-result-delete","style","top: auto !important; bottom: 0",3,"click",4,"ngIf"],["azt-track-service","document-info-box-cqgiZBznm","class","student-exam-result-delete","style","top: auto !important; bottom: 0",3,"click",4,"ngIf"],[1,"flex","items-center","mt-1"],[1,"text-xs","mr-2"],["class","text-black font-medium",4,"ngIf"],[1,"text-black","font-medium"],[1,"mr-auto","text-xs","mr-2"],[1,"text-slate-500","font-medium"],[1,"text-warning","font-medium"],[1,"text-green-700","font-medium"],[1,"text-danger","font-medium"],["azt-track-service","document-info-box-aiXgySjxg",1,"student-exam-result-delete",2,"top","auto !important","bottom","0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-trash-2"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","x2","10","y1","11","y2","17"],["x1","14","x2","14","y1","11","y2","17"],["azt-track-service","document-info-box-cqgiZBznm",1,"student-exam-result-delete",2,"top","auto !important","bottom","0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-undo-dot"],["cx","12","cy","17","r","1"],["d","M3 7v6h6"],["d","M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"]],template:function(e,o){if(1&e&&(t.TgZ(0,"a",0),t.ALo(1,"navigationLocalize"),t.GkF(2,1),t.qZA(),t.YNc(3,Yn,16,16,"ng-template",null,2,t.W1O)),2&e){const a=t.MAs(4);t.Q6J("routerLink",t.VKq(5,Rn,t.lcZ(1,3,"/document-market/view-document/"+o.documentObj.hashId+"/0")))("queryParams",t.VKq(7,Bn,o.commonService.getCurrentUrlWithoutLocale())),t.xp6(2),t.Q6J("ngTemplateOutlet",a)}},dependencies:[_.rH,l.O5,l.tP,Y.gM,it.Q,G.F,u.Jy,u.JV,u.$n]}),n})();function Kn(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function Gn(n,i){if(1&n&&(t.TgZ(0,"div",10),t._UZ(1,"document-info-box",11),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("documentObj",e)}}function Hn(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",5)(2,"span",6),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,c=t.oxw(3);let m;return t.KtG(c.documentMarketMenuService.redirectByDocumentType(null!==(m=a.type)&&void 0!==m?m:""))}),t._uU(3),t.ALo(4,"mytranslate"),t._UZ(5,"lucide-icon",7),t.qZA()(),t.TgZ(6,"div",8),t.YNc(7,Gn,2,1,"div",9),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,2,e.name)," "),t.xp6(4),t.Q6J("ngForOf",e.documents)}}function Wn(n,i){if(1&n&&(t.TgZ(0,"div",4),t.YNc(1,Hn,8,4,"ng-container",2),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",null==e.documents?null:e.documents.length)}}function Vn(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Wn,2,1,"div",3),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.listDocumentDtoObjs)}}function $n(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t._uU(1,"... "),t.TgZ(2,"a",13),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.clearSearchOrFilter())}),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()}2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_auto_quay_lai")))}function Xn(n,i){if(1&n&&(t.TgZ(0,"div")(1,"div",12)(2,"span"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.YNc(5,$n,5,3,"span",2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,2,"lang_document_market_no_data_found")),t.xp6(2),t.Q6J("ngIf",e.isShowFilterResult)}}function to(n,i){if(1&n&&(t.YNc(0,Vn,2,1,"ng-container",2),t.YNc(1,Xn,6,4,"div",2)),2&n){const e=t.oxw();t.Q6J("ngIf",!e.notFoundAnyDocuments),t.xp6(1),t.Q6J("ngIf",e.notFoundAnyDocuments)}}let eo=(()=>{class n extends L{initData(){let e={type:void 0,page:this.currentPage,size:this.sizeApi,keyword:this.documentFilterModelObj?.searchKeyword?this.documentFilterModelObj?.searchKeyword:void 0,schoolLevelId:this.documentFilterModelObj?.selectedFilterObj.levelId??void 0,schoolSubjectId:this.documentFilterModelObj?.selectedFilterObj.childId??void 0};this.initStatusObj(),this.notFoundAnyDocuments=!1,this.isFilterResult()?this.waitDestroy(this.documentSearchService.apiDocumentsListPost(e).subscribe(o=>{o&&o.list?(this.setListDocumentObjs([{type:"search",name:"lang_document_market_search_result",documents:o.list}]),this.notFoundAnyDocuments=this.listDocumentDtoObjs.filter(a=>a.documents?.length&&a.documents?.length>0).length<=0,this.totalDto=o.total,this.totalPage=this.totalDto%this.sizeApi>0?(this.totalDto-this.totalDto%this.sizeApi)/this.sizeApi+1:this.totalDto>0?this.totalDto/this.sizeApi:1,this.stopStatusObj()):this.errorStatusObj("lang_core_invalid_data",!0)})):this.waitDestroy(this.documentSearchService.apiDocumentsRecommendPost(e).subscribe(o=>{o&&o.list?(this.setListDocumentObjs(o.list),this.notFoundAnyDocuments=this.listDocumentDtoObjs.filter(a=>a.documents?.length&&a.documents?.length>0).length<=0,this.stopStatusObj()):this.errorStatusObj("lang_core_invalid_data",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,O.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.currentPage=Number(this.commonService.getMyParam(this.activeRoute,"page"))??1,this.isCurrentDocument(h.ALL_DOCUMENTS)&&this.initData()})),this.documentMarketMenuService=new ht(this.commonService,this.userService,this.sAztDialogService,this.backLink)}constructor(e,o,a){super(),this.documentSearchService=e,this.sAztDialogService=o,this.userService=a,this.paginationBaseUrl="/document-market/list-documents/all-documents/",this.notFoundAnyDocuments=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(E.Zg),t.Y36(I.C),t.Y36(U.U))},n.\u0275cmp=t.Xpm({type:n,selectors:[["document-market-all-documents"]],features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[4,"ngIf"],["class","pb-3","style","padding-bottom: 30px",4,"ngFor","ngForOf"],[1,"pb-3",2,"padding-bottom","30px"],[1,"flex",2,"font-weight","420","font-size","15px"],[1,"clickable",2,"align-items","center",3,"click"],["name","chevron-right",2,"width","18px!important","height","18px!important","vertical-align","top"],[1,"grid","grid-cols-12","gap-3","mt-2"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],[3,"documentObj"],[1,"border","border-black-400","px-4","py-3","rounded","relative"],[1,"clickable","link__color","link__hover",3,"click"]],template:function(e,o){if(1&e&&(t.YNc(0,Kn,1,0,"azt-loading-effect",0),t.YNc(1,to,2,2,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[l.sg,l.O5,D.l,d.Nh5,j,u.JV],encapsulation:2}),n})();function no(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function oo(n,i){if(1&n&&(t.TgZ(0,"span",17),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.name)," ")}}function io(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.clearSearchOrFilter())}),t._UZ(2,"lucide-icon",19),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,1,e.name)," ")}}function ao(n,i){if(1&n&&(t.TgZ(0,"div",20),t._UZ(1,"document-info-box",21),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("documentObj",e)}}function co(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",5),t.YNc(2,oo,3,3,"span",6),t.YNc(3,io,5,3,"ng-container",7),t.qZA(),t.TgZ(4,"div",8),t.YNc(5,ao,2,1,"div",9),t.qZA(),t.TgZ(6,"div",10)(7,"div",11)(8,"div",12)(9,"azt-paging",13),t.NdJ("goToPaginationPage",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.goToPage(a))}),t.qZA()(),t.TgZ(10,"div",14)(11,"p",15),t._uU(12),t.ALo(13,"number"),t.ALo(14,"mytranslate"),t.qZA()(),t.TgZ(15,"div",16)(16,"p",15),t._uU(17),t.ALo(18,"number"),t.ALo(19,"mytranslate"),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("ngIf","search"!=e.type),t.xp6(1),t.Q6J("ngIf","search"==e.type),t.xp6(2),t.Q6J("ngForOf",e.documents),t.xp6(4),t.Q6J("totalPaginationPage",o.totalPage)("paging",o.currentPage),t.xp6(3),t.Oqu(t.lcZ(13,7,o.totalDto)+" "+t.lcZ(14,9,"lang_testbank_test_list_document")),t.xp6(5),t.Oqu(t.lcZ(18,11,o.totalDto)+" "+t.lcZ(19,13,"lang_testbank_test_list_document"))}}function so(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t._uU(1,"... "),t.TgZ(2,"a",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.clearSearchOrFilter())}),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()}2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_auto_quay_lai")))}function ro(n,i){if(1&n&&(t.TgZ(0,"div",22)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,so,5,3,"span",7),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_document_market_no_data_found")),t.xp6(2),t.Q6J("ngIf",e.isShowFilterResult)}}function lo(n,i){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,co,20,15,"ng-container",0),t.YNc(2,ro,5,4,"ng-template",null,4,t.W1O),t.qZA()),2&n){const e=i.$implicit,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",null==e.documents?null:e.documents.length)("ngIfElse",o)}}function mo(n,i){if(1&n&&t.YNc(0,lo,4,2,"div",2),2&n){const e=t.oxw();t.Q6J("ngForOf",e.listDocumentDtoObjs)}}let uo=(()=>{class n extends L{initData(){this.initStatusObj(),this.waitDestroy(this.documentSearchService.apiDocumentsListPost({type:"exam",page:this.currentPage,size:this.sizeApi,keyword:this.documentFilterModelObj?.searchKeyword?this.documentFilterModelObj?.searchKeyword:void 0,schoolLevelId:this.documentFilterModelObj?.selectedFilterObj.levelId??void 0,schoolSubjectId:this.documentFilterModelObj?.selectedFilterObj.childId??void 0}).subscribe(o=>{o&&o.list?(this.setListDocumentObjs([{type:this.isFilterResult()?"search":"default",name:this.isFilterResult()?"lang_document_market_search_result":"lang_auto_bai_tap_de_thi",documents:o.list}]),this.totalDto=o.total,this.totalPage=this.totalDto%this.sizeApi>0?(this.totalDto-this.totalDto%this.sizeApi)/this.sizeApi+1:this.totalDto>0?this.totalDto/this.sizeApi:1,this.stopStatusObj()):this.errorStatusObj("lang_core_invalid_data",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,O.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.currentPage=Number(this.commonService.getMyParam(this.activeRoute,"page"))??1,this.isCurrentDocument(h.EXAM_DOCUMENTS)&&this.initData()}))}constructor(e){super(),this.documentSearchService=e,this.paginationBaseUrl="/document-market/list-documents/exam-documents/"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(E.Zg))},n.\u0275cmp=t.Xpm({type:n,selectors:[["document-market-exam-documents"]],features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["class","pb-3","style","padding-bottom: 30px",4,"ngFor","ngForOf"],[1,"pb-3",2,"padding-bottom","30px"],["noDocuments",""],[1,"flex",2,"font-weight","420","font-size","14px"],["style","align-items: center",4,"ngIf"],[4,"ngIf"],[1,"grid","grid-cols-12","gap-3","mt-2"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[2,"height","25px"],[1,"flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2",2,"position","absolute","bottom","10px"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"text-right","pb-2","azt-hidden","md:block",2,"position","absolute","bottom","10px","right","20px"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"],[2,"align-items","center"],[1,"clickable",2,"align-items","center",3,"click"],["name","chevron-left",2,"width","18px!important","height","18px!important","vertical-align","top"],[1,"col-span-12","md:col-span-4"],[3,"documentObj"],[1,"border","border-black-400","px-4","py-3","rounded","relative"],[1,"clickable","link__color","link__hover",3,"click"]],template:function(e,o){if(1&e&&(t.YNc(0,no,1,0,"azt-loading-effect",0),t.YNc(1,mo,1,1,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[l.sg,l.O5,D.l,S.L,d.Nh5,j,l.JJ,u.JV],encapsulation:2}),n})();function _o(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function po(n,i){if(1&n&&(t.TgZ(0,"span",17),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.name)," ")}}function go(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.clearSearchOrFilter())}),t._UZ(2,"lucide-icon",19),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,1,e.name)," ")}}function ho(n,i){if(1&n&&(t.TgZ(0,"div",20),t._UZ(1,"document-info-box",21),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("documentObj",e)}}function fo(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",5),t.YNc(2,po,3,3,"span",6),t.YNc(3,go,5,3,"ng-container",7),t.qZA(),t.TgZ(4,"div",8),t.YNc(5,ho,2,1,"div",9),t.qZA(),t.TgZ(6,"div",10)(7,"div",11)(8,"div",12)(9,"azt-paging",13),t.NdJ("goToPaginationPage",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.goToPage(a))}),t.qZA()(),t.TgZ(10,"div",14)(11,"p",15),t._uU(12),t.ALo(13,"number"),t.ALo(14,"mytranslate"),t.qZA()(),t.TgZ(15,"div",16)(16,"p",15),t._uU(17),t.ALo(18,"number"),t.ALo(19,"mytranslate"),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("ngIf","search"!=e.type),t.xp6(1),t.Q6J("ngIf","search"==e.type),t.xp6(2),t.Q6J("ngForOf",e.documents),t.xp6(4),t.Q6J("totalPaginationPage",o.totalPage)("paging",o.currentPage),t.xp6(3),t.Oqu(t.lcZ(13,7,o.totalDto)+" "+t.lcZ(14,9,"lang_testbank_test_list_document")),t.xp6(5),t.Oqu(t.lcZ(18,11,o.totalDto)+" "+t.lcZ(19,13,"lang_testbank_test_list_document"))}}function xo(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t._uU(1,"... "),t.TgZ(2,"a",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.clearSearchOrFilter())}),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()}2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_auto_quay_lai")))}function bo(n,i){if(1&n&&(t.TgZ(0,"div",22)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,xo,5,3,"span",7),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_document_market_no_data_found")),t.xp6(2),t.Q6J("ngIf",e.isShowFilterResult)}}function vo(n,i){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,fo,20,15,"ng-container",0),t.YNc(2,bo,5,4,"ng-template",null,4,t.W1O),t.qZA()),2&n){const e=i.$implicit,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",null==e.documents?null:e.documents.length)("ngIfElse",o)}}function ko(n,i){if(1&n&&t.YNc(0,vo,4,2,"div",2),2&n){const e=t.oxw();t.Q6J("ngForOf",e.listDocumentDtoObjs)}}let Do=(()=>{class n extends L{initData(){this.initStatusObj(),this.waitDestroy(this.documentSearchService.apiDocumentsListPost({type:"ref",page:this.currentPage,size:this.sizeApi,keyword:this.documentFilterModelObj?.searchKeyword?this.documentFilterModelObj?.searchKeyword:void 0,schoolLevelId:this.documentFilterModelObj?.selectedFilterObj.levelId??void 0,schoolSubjectId:this.documentFilterModelObj?.selectedFilterObj.childId??void 0}).subscribe(o=>{o&&o.list?(this.setListDocumentObjs([{type:this.isFilterResult()?"search":"default",name:this.isFilterResult()?"lang_document_market_search_result":"lang_document_market_reference",documents:o.list}]),this.totalDto=o.total,this.totalPage=this.totalDto%this.sizeApi>0?(this.totalDto-this.totalDto%this.sizeApi)/this.sizeApi+1:this.totalDto>0?this.totalDto/this.sizeApi:1,this.stopStatusObj()):this.errorStatusObj("lang_core_invalid_data",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,O.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.currentPage=Number(this.commonService.getMyParam(this.activeRoute,"page"))??1,this.isCurrentDocument(h.REFERENCE_DOCUMENTS)&&this.initData()}))}constructor(e){super(),this.documentSearchService=e,this.paginationBaseUrl="/document-market/list-documents/reference-documents/"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(E.Zg))},n.\u0275cmp=t.Xpm({type:n,selectors:[["document-market-reference-documents"]],features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["class","pb-3","style","padding-bottom: 30px",4,"ngFor","ngForOf"],[1,"pb-3",2,"padding-bottom","30px"],["noDocuments",""],[1,"flex",2,"font-weight","420","font-size","14px"],["style","align-items: center",4,"ngIf"],[4,"ngIf"],[1,"grid","grid-cols-12","gap-3","mt-2"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[2,"height","25px"],[1,"flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2",2,"position","absolute","bottom","10px"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"text-right","pb-2","azt-hidden","md:block",2,"position","absolute","bottom","10px","right","20px"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"],[2,"align-items","center"],[1,"clickable",2,"align-items","center",3,"click"],["name","chevron-left",2,"width","18px!important","height","18px!important","vertical-align","top"],[1,"col-span-12","md:col-span-4"],[3,"documentObj"],[1,"border","border-black-400","px-4","py-3","rounded","relative"],[1,"clickable","link__color","link__hover",3,"click"]],template:function(e,o){if(1&e&&(t.YNc(0,_o,1,0,"azt-loading-effect",0),t.YNc(1,ko,1,1,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[l.sg,l.O5,D.l,S.L,d.Nh5,j,l.JJ,u.JV],encapsulation:2}),n})();var V=s(50014),st=s(71646);function To(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_ban_co_chac_chan_muon_xoa")))}function Co(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_document_market_revert_ask")))}function wo(n,i){1&n&&(t.TgZ(0,"span",17),t._UZ(1,"azt-loading-ui"),t.qZA())}let xt=(()=>{class n extends _t.e{confirmDelete(){this.waitDestroy(this.documentBankService.apiDocumentsIdMeDelete(this.data.documentObj?.id??0).subscribe({next:e=>{e.success?(this.dialogRef.close(!0),this.showSuccessSnack("lang_cms_delete_success")):(this.btnCloseDialog(),this.showErrorSnack("lang_auto_xoa_tai_lieu_khong_thanh_cong"))},error:e=>{this.btnCloseDialog(),this.showErrorSnack(e.error.message??"lang_auto_xoa_tai_lieu_khong_thanh_cong")}}))}confirmRevert(){this.waitDestroy(this.documentBankService.apiDocumentsIdResetPut(this.data.documentObj?.id??0).subscribe({next:e=>{e.success?(this.dialogRef.close(!0),this.showSuccessSnack("lang_document_market_revert_success")):(this.btnCloseDialog(),this.showErrorSnack("lang_document_market_revert_unsuccess"))},error:e=>{this.btnCloseDialog(),this.showErrorSnack(e.error.message??"lang_document_market_revert_unsuccess")}}))}btnCloseDialog(){this.dialogRef.close()}ngOnInit(){super.ngOnInit()}constructor(e,o,a){super(a,o),this.documentBankService=e,this.dialogRef=o,this.data=a}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.Zg),t.Y36(w.so,8),t.Y36(w.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-dialog"]],features:[t.qOj],decls:28,vars:14,consts:[[1,"box",2,"max-width","600px"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","flex"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-danger","flex-none"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],[4,"ngIf"],[2,"text-transform","lowercase"],[1,"font-medium"],[1,"p-3","text-right"],["azt-track-service","delete-dialog-K2F22n8QsM",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","delete-dialog-6IvYAh7dZl",1,"btn","w-32","btn-danger",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"path",5)(6,"path",6)(7,"path",7)(8,"line",8)(9,"line",9),t.qZA(),t.kcU(),t.TgZ(10,"div"),t.YNc(11,To,3,3,"span",10),t.YNc(12,Co,3,3,"span",10),t.TgZ(13,"span",11)(14,"span"),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()(),t._uU(17,": "),t.TgZ(18,"span",12),t._uU(19),t.qZA()()()()(),t.TgZ(20,"div",13)(21,"button",14),t.NdJ("click",function(){return o.btnCloseDialog()}),t._uU(22),t.ALo(23,"mytranslate"),t.qZA(),t.TgZ(24,"button",15),t.NdJ("click",function(){return"remove"==o.data.type?o.confirmDelete():o.confirmRevert()}),t.YNc(25,wo,2,0,"span",16),t._uU(26),t.ALo(27,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(11),t.Q6J("ngIf","remove"==o.data.type),t.xp6(1),t.Q6J("ngIf","revert"==o.data.type),t.xp6(3),t.hij("\xa0",t.lcZ(16,8,"lang_auto_tai_lieu"),""),t.xp6(4),t.hij("",o.data.documentObj.name,"?"),t.xp6(3),t.hij(" ",t.lcZ(23,10,"lang_cms_common_close_btn")," "),t.xp6(2),t.Q6J("disabled",o.statusObj.loading),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(27,12,"lang_cms_common_confirm_btn")," "))},dependencies:[l.O5,st.n,u.JV],encapsulation:2}),n})();function yo(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function Mo(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",16)(1,"document-info-box",17),t.NdJ("removeDocument",function(a){t.CHM(e);const c=t.oxw(4);return t.KtG(c.removeDocument(a))}),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(2).$implicit;t.xp6(1),t.Q6J("documentObj",e)("showStatus","shared"==o.type)("showDeleteBtn",!0)}}function Ao(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",5)(2,"span",6),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",7),t.YNc(6,Mo,2,3,"div",8),t.qZA(),t.TgZ(7,"div",9)(8,"div",10)(9,"div",11)(10,"azt-paging",12),t.NdJ("goToPaginationPage",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.goToPage(a))}),t.qZA()(),t.TgZ(11,"div",13)(12,"p",14),t._uU(13),t.ALo(14,"number"),t.ALo(15,"mytranslate"),t.qZA()(),t.TgZ(16,"div",15)(17,"p",14),t._uU(18),t.ALo(19,"number"),t.ALo(20,"mytranslate"),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,6,e.name)," "),t.xp6(3),t.Q6J("ngForOf",e.documents),t.xp6(4),t.Q6J("totalPaginationPage",o.totalPage)("paging",o.currentPage),t.xp6(3),t.Oqu(t.lcZ(14,8,o.totalDto)+" "+t.lcZ(15,10,"lang_testbank_test_list_document")),t.xp6(5),t.Oqu(t.lcZ(19,12,o.totalDto)+" "+t.lcZ(20,14,"lang_testbank_test_list_document"))}}function Oo(n,i){1&n&&(t.TgZ(0,"div",18)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_document_market_no_data_found")))}function Zo(n,i){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,Ao,21,16,"ng-container",0),t.YNc(2,Oo,4,3,"ng-template",null,4,t.W1O),t.qZA()),2&n){const e=i.$implicit,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",null==e.documents?null:e.documents.length)("ngIfElse",o)}}function So(n,i){if(1&n&&t.YNc(0,Zo,4,2,"div",2),2&n){const e=t.oxw();t.Q6J("ngForOf",e.listDocumentDtoObjs)}}let Fo=(()=>{class n extends L{removeDocument(e){this.sAztDialogService.open(xt,{data:{documentObj:e,type:"remove"},restoreFocus:!1}).afterClosed().subscribe(a=>{a&&this.initData()})}initData(){let e={page:this.currentPage,size:this.sizeApi};this.initStatusObj(),this.waitDestroy(this.documentBankService.apiDocumentsMeShareListPost(e).subscribe(o=>{o?(this.setListDocumentObjs([{type:"shared",name:"lang_document_market_shared",documents:o.list}]),this.totalDto=o.total,this.totalPage=this.totalDto%this.sizeApi>0?(this.totalDto-this.totalDto%this.sizeApi)/this.sizeApi+1:this.totalDto>0?this.totalDto/this.sizeApi:1,this.stopStatusObj()):this.errorStatusObj("lang_core_invalid_data",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,O.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.currentPage=Number(this.commonService.getMyParam(this.activeRoute,"page"))??1,this.isCurrentDocument(h.YOUR_DOCUMENTS)&&this.initData()}))}constructor(e,o){super(),this.sAztDialogService=e,this.documentBankService=o,this.paginationBaseUrl="/document-market/list-documents/your-documents/"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.C),t.Y36(V.Zg))},n.\u0275cmp=t.Xpm({type:n,selectors:[["document-market-your-documents"]],features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["class","pb-3","style","padding-bottom: 50px",4,"ngFor","ngForOf"],[1,"pb-3",2,"padding-bottom","50px"],["noDocuments",""],[1,"flex",2,"font-weight","420","font-size","14px"],[2,"align-items","center"],[1,"grid","grid-cols-12","gap-3","mt-2"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[2,"height","25px"],[1,"flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2",2,"position","absolute","bottom","10px"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"text-right","pb-2","azt-hidden","md:block",2,"position","absolute","bottom","10px","right","20px"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"],[1,"col-span-12","md:col-span-4"],[3,"documentObj","showStatus","showDeleteBtn","removeDocument"],[1,"border","border-black-400","px-4","py-3","rounded","relative"]],template:function(e,o){if(1&e&&(t.YNc(0,yo,1,0,"azt-loading-effect",0),t.YNc(1,So,1,1,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[l.sg,l.O5,D.l,S.L,j,l.JJ,u.JV],encapsulation:2}),n})();function Lo(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function Io(n,i){if(1&n&&(t.TgZ(0,"span",17),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.name)," ")}}function jo(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.clearSearchOrFilter())}),t._UZ(2,"lucide-icon",19),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,1,e.name)," ")}}function No(n,i){if(1&n&&(t.TgZ(0,"div",20),t._UZ(1,"document-info-box",21),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("documentObj",e)}}function zo(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",5),t.YNc(2,Io,3,3,"span",6),t.YNc(3,jo,5,3,"ng-container",7),t.qZA(),t.TgZ(4,"div",8),t.YNc(5,No,2,1,"div",9),t.qZA(),t.TgZ(6,"div",10)(7,"div",11)(8,"div",12)(9,"azt-paging",13),t.NdJ("goToPaginationPage",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.goToPage(a))}),t.qZA()(),t.TgZ(10,"div",14)(11,"p",15),t._uU(12),t.ALo(13,"number"),t.ALo(14,"mytranslate"),t.qZA()(),t.TgZ(15,"div",16)(16,"p",15),t._uU(17),t.ALo(18,"number"),t.ALo(19,"mytranslate"),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("ngIf","search"!=e.type),t.xp6(1),t.Q6J("ngIf","search"==e.type),t.xp6(2),t.Q6J("ngForOf",e.documents),t.xp6(4),t.Q6J("totalPaginationPage",o.totalPage)("paging",o.currentPage),t.xp6(3),t.Oqu(t.lcZ(13,7,o.totalDto)+" "+t.lcZ(14,9,"lang_testbank_test_list_document")),t.xp6(5),t.Oqu(t.lcZ(18,11,o.totalDto)+" "+t.lcZ(19,13,"lang_testbank_test_list_document"))}}function Po(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t._uU(1,"... "),t.TgZ(2,"a",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.clearSearchOrFilter())}),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()}2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_auto_quay_lai")))}function qo(n,i){if(1&n&&(t.TgZ(0,"div",22)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Po,5,3,"span",7),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_document_market_no_data_found")),t.xp6(2),t.Q6J("ngIf",e.isShowFilterResult)}}function Uo(n,i){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,zo,20,15,"ng-container",0),t.YNc(2,qo,5,4,"ng-template",null,4,t.W1O),t.qZA()),2&n){const e=i.$implicit,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",null==e.documents?null:e.documents.length)("ngIfElse",o)}}function Eo(n,i){if(1&n&&t.YNc(0,Uo,4,2,"div",2),2&n){const e=t.oxw();t.Q6J("ngForOf",e.listDocumentDtoObjs)}}let Qo=(()=>{class n extends L{initData(){let e={type:"slide",page:this.currentPage,size:this.sizeApi,keyword:this.documentFilterModelObj?.searchKeyword?this.documentFilterModelObj?.searchKeyword:void 0,schoolLevelId:this.documentFilterModelObj?.selectedFilterObj.levelId??void 0,schoolSubjectId:this.documentFilterModelObj?.selectedFilterObj.childId??void 0};this.initStatusObj(),this.waitDestroy(this.documentSearchService.apiDocumentsListPost(e).subscribe(o=>{o&&o.list?(this.setListDocumentObjs([{type:this.isFilterResult()?"search":"default",name:this.isFilterResult()?"lang_document_market_search_result":"lang_document_market_ppt_lesson",documents:o.list}]),this.totalDto=o.total,this.totalPage=this.totalDto%this.sizeApi>0?(this.totalDto-this.totalDto%this.sizeApi)/this.sizeApi+1:this.totalDto>0?this.totalDto/this.sizeApi:1,this.stopStatusObj()):this.errorStatusObj("lang_core_invalid_data",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,O.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.currentPage=Number(this.commonService.getMyParam(this.activeRoute,"page"))??1,this.isCurrentDocument(h.POWER_POINT_DOCUMENTS)&&this.initData()}))}constructor(e){super(),this.documentSearchService=e,this.paginationBaseUrl="/document-market/list-documents/power-point-documents/"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(E.Zg))},n.\u0275cmp=t.Xpm({type:n,selectors:[["document-market-power-point-documents"]],features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["class","pb-3","style","padding-bottom: 30px",4,"ngFor","ngForOf"],[1,"pb-3",2,"padding-bottom","30px"],["noDocuments",""],[1,"flex",2,"font-weight","420","font-size","14px"],["style","align-items: center",4,"ngIf"],[4,"ngIf"],[1,"grid","grid-cols-12","gap-3","mt-2"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[2,"height","25px"],[1,"flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2",2,"position","absolute","bottom","10px"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"text-right","pb-2","azt-hidden","md:block",2,"position","absolute","bottom","10px","right","20px"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"],[2,"align-items","center"],[1,"clickable",2,"align-items","center",3,"click"],["name","chevron-left",2,"width","18px!important","height","18px!important","vertical-align","top"],[1,"col-span-12","md:col-span-4"],[3,"documentObj"],[1,"border","border-black-400","px-4","py-3","rounded","relative"],[1,"clickable","link__color","link__hover",3,"click"]],template:function(e,o){if(1&e&&(t.YNc(0,Lo,1,0,"azt-loading-effect",0),t.YNc(1,Eo,1,1,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[l.sg,l.O5,D.l,S.L,d.Nh5,j,l.JJ,u.JV],encapsulation:2}),n})();var $=s(74104);function Jo(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function Yo(n,i){if(1&n&&(t.TgZ(0,"span",16),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.name)," ")}}function Ro(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.clearSearchOrFilter())}),t._UZ(2,"lucide-icon",18),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,1,e.name)," ")}}function Bo(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function Ko(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"document-info-box",22),t.NdJ("revertDocument",function(a){t.CHM(e);const c=t.oxw(5);return t.KtG(c.revertDocument(a))}),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(3).$implicit;t.xp6(1),t.Q6J("documentObj",e)("showRevertBtn","new"!=e.status)("showStatus","shared"==o.type||"search"==o.type)}}function Go(n,i){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,Ko,2,3,"div",20),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.documents)}}function Ho(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function Wo(n,i){if(1&n&&(t.TgZ(0,"div",21),t._UZ(1,"document-info-box",23),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(3).$implicit;t.xp6(1),t.Q6J("documentObj",e)("showStatus","shared"==o.type||"search"==o.type)}}const rt=function(){return["status"]};function Vo(n,i){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,Wo,2,2,"div",20),t.ALo(2,"appFilter"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,e.documents,"new",t.DdM(5,rt)))}}function $o(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function Xo(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"document-info-box",22),t.NdJ("revertDocument",function(a){t.CHM(e);const c=t.oxw(5);return t.KtG(c.revertDocument(a))}),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(3).$implicit;t.xp6(1),t.Q6J("documentObj",e)("showRevertBtn",!0)("showStatus","shared"==o.type||"search"==o.type)}}function ti(n,i){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,Xo,2,3,"div",20),t.ALo(2,"appFilter"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,e.documents,"approved",t.DdM(5,rt)))}}function ei(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function ni(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"document-info-box",22),t.NdJ("revertDocument",function(a){t.CHM(e);const c=t.oxw(5);return t.KtG(c.revertDocument(a))}),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(3).$implicit;t.xp6(1),t.Q6J("documentObj",e)("showRevertBtn",!0)("showStatus","shared"==o.type||"search"==o.type)}}function oi(n,i){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,ni,2,3,"div",20),t.ALo(2,"appFilter"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,e.documents,"rejected",t.DdM(5,rt)))}}function ii(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",5),t.YNc(2,Yo,3,3,"span",6),t.YNc(3,Ro,5,3,"ng-container",4),t.qZA(),t.TgZ(4,"mat-tab-group",7),t.NdJ("selectedTabChange",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.onTabChanged(a))}),t.TgZ(5,"mat-tab",8),t.ALo(6,"mytranslate"),t.YNc(7,Bo,1,0,"azt-loading-effect",0),t.YNc(8,Go,2,1,"ng-template",null,1,t.W1O),t.qZA(),t.TgZ(10,"mat-tab",8),t.ALo(11,"mytranslate"),t.YNc(12,Ho,1,0,"azt-loading-effect",0),t.YNc(13,Vo,3,6,"ng-template",null,1,t.W1O),t.qZA(),t.TgZ(15,"mat-tab",8),t.ALo(16,"mytranslate"),t.YNc(17,$o,1,0,"azt-loading-effect",0),t.YNc(18,ti,3,6,"ng-template",null,1,t.W1O),t.qZA(),t.TgZ(20,"mat-tab",8),t.ALo(21,"mytranslate"),t.YNc(22,ei,1,0,"azt-loading-effect",0),t.YNc(23,oi,3,6,"ng-template",null,1,t.W1O),t.qZA()(),t.TgZ(25,"div",9)(26,"div",10)(27,"div",11)(28,"azt-paging",12),t.NdJ("goToPaginationPage",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.goToPage(a))}),t.qZA()(),t.TgZ(29,"div",13)(30,"p",14),t._uU(31),t.ALo(32,"number"),t.ALo(33,"mytranslate"),t.qZA()(),t.TgZ(34,"div",15)(35,"p",14),t._uU(36),t.ALo(37,"number"),t.ALo(38,"mytranslate"),t.qZA()()()(),t.BQk()}if(2&n){const e=t.MAs(9),o=t.oxw().$implicit,a=t.oxw(2);t.xp6(2),t.Q6J("ngIf","search"!=o.type),t.xp6(1),t.Q6J("ngIf","search"==o.type),t.xp6(1),t.Q6J("selectedIndex",a.selectIndex),t.xp6(1),t.s9C("label",t.lcZ(6,19,"lang_auto_tat_ca")),t.xp6(2),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",e),t.xp6(3),t.s9C("label",t.lcZ(11,21,"lang_document_market_pending")),t.xp6(2),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",e),t.xp6(3),t.s9C("label",t.lcZ(16,23,"lang_document_market_approved")),t.xp6(2),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",e),t.xp6(3),t.s9C("label",t.lcZ(21,25,"lang_auto_status_rejected")),t.xp6(2),t.Q6J("ngIf",a.statusObj.loading)("ngIfElse",e),t.xp6(6),t.Q6J("totalPaginationPage",a.totalPage)("paging",a.currentPage),t.xp6(3),t.Oqu(t.lcZ(32,27,a.totalDto)+" "+t.lcZ(33,29,"lang_testbank_test_list_document")),t.xp6(5),t.Oqu(t.lcZ(37,31,a.totalDto)+" "+t.lcZ(38,33,"lang_testbank_test_list_document"))}}function ai(n,i){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,ii,39,35,"ng-container",4),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",null==e.documents?null:e.documents.length)}}function ci(n,i){if(1&n&&t.YNc(0,ai,2,1,"div",2),2&n){const e=t.oxw();t.Q6J("ngForOf",e.listDocumentDtoObjs)}}let si=(()=>{class n extends L{initData(){let e={page:this.currentPage,size:this.sizeApi,status:1==this.selectIndex?"new":2==this.selectIndex?"approved":3==this.selectIndex?"rejected":void 0},o=this.selectIndex;this.initStatusObj(),this.waitDestroy(this.documentBankService.apiDocumentsListPost(e).subscribe(a=>{a&&a.list?(o==this.selectIndex&&(this.setListDocumentObjs([{type:this.isFilterResult()?"search":"shared",name:this.isFilterResult()?"lang_document_market_search_result":"lang_document_market_list_shared",documents:a.list}]),this.totalDto=a.total,this.totalPage=this.totalDto%this.sizeApi>0?(this.totalDto-this.totalDto%this.sizeApi)/this.sizeApi+1:this.totalDto>0?this.totalDto/this.sizeApi:1),this.stopStatusObj()):this.errorStatusObj("lang_core_invalid_data",!0)}))}revertDocument(e){this.sAztDialogService.open(xt,{data:{documentObj:e,type:"revert"},restoreFocus:!1}).afterClosed().subscribe(a=>{a&&this.initData()})}onTabChanged(e){this.selectIndex=e.index,this.commonService.myNavigationWithQueryString("/document-market/list-documents/approved-management/1","?backto="+this.backLink+"&tab="+this.selectIndex)}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,O.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.currentPage=Number(this.commonService.getMyParam(this.activeRoute,"page"))??1,this.selectIndex=Number(this.commonService.getMyQueryParam("tab")??0),this.isCurrentDocument(h.APPROVED_MANAGEMENT)&&this.initData()}))}constructor(e,o){super(),this.documentBankService=e,this.sAztDialogService=o,this.paginationBaseUrl="/document-market/list-documents/approved-management/",this.selectIndex=0,this.isLoadingDataOfIndex=0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.Zg),t.Y36(I.C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["document-market-approved-management"]],features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["class","pb-3","style","padding-bottom: 30px",4,"ngFor","ngForOf"],[1,"pb-3",2,"padding-bottom","30px"],[4,"ngIf"],[1,"flex","mb-2",2,"font-weight","420","font-size","15px"],["style","align-items: center",4,"ngIf"],[3,"selectedIndex","selectedTabChange"],[3,"label"],[2,"height","25px"],[1,"flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2",2,"position","absolute","bottom","10px"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"text-right","pb-2","azt-hidden","md:block",2,"position","absolute","bottom","10px","right","20px"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"],[2,"align-items","center"],[1,"clickable",2,"align-items","center",3,"click"],["name","chevron-left",2,"width","18px !important","height","18px !important","vertical-align","top"],[1,"grid","grid-cols-12","gap-3","mt-2","mb-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],[3,"documentObj","showRevertBtn","showStatus","revertDocument"],[3,"documentObj","showStatus"]],template:function(e,o){if(1&e&&(t.YNc(0,Jo,1,0,"azt-loading-effect",0),t.YNc(1,ci,1,1,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading&&o.listDocumentDtoObjs.length<=0)("ngIfElse",a)}},dependencies:[l.sg,l.O5,$.uX,$.SP,D.l,S.L,d.Nh5,j,l.JJ,u.JV,u.om],encapsulation:2}),n})();function ri(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function li(n,i){1&n&&(t.TgZ(0,"span",34),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_da_xem")," "))}function mi(n,i){1&n&&(t.ynx(0),t.TgZ(1,"span",32),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_testbank_document_list_header_description")," "))}function ui(n,i){1&n&&(t.ynx(0),t.TgZ(1,"span",32),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_document_market_who_created")," "))}function di(n,i){1&n&&(t.ynx(0),t.TgZ(1,"span",32),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_nguoi_chia_se")," "))}function _i(n,i){1&n&&(t.ynx(0),t.TgZ(1,"span",32),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.BQk()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_test_market_introduce_step_1_question")," "))}function pi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",5),t._uU(1),t.TgZ(2,"span",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,c=t.oxw(3);return t.KtG(c.showComment(a))}),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.comment.substring(0,150)+"... "," "),t.xp6(2),t.Oqu(t.lcZ(4,2,"lang_auto_xem_them"))}}function gi(n,i){if(1&n&&(t.TgZ(0,"span",5),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.comment," ")}}function hi(n,i){if(1&n&&(t.TgZ(0,"h3",35),t.YNc(1,pi,5,4,"span",36),t.YNc(2,gi,2,1,"span",36),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!e.showComment&&e.comment.length>150),t.xp6(1),t.Q6J("ngIf",e.comment.length<150||e.showComment)}}function fi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",15)(1,"div",16)(2,"h3",17)(3,"span",18),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.YNc(6,li,3,3,"span",19),t.qZA(),t.TgZ(7,"a",20),t.NdJ("click",function(){const c=t.CHM(e).$implicit,m=t.oxw(3);return t.KtG(m.viewDocumentComment(c))}),t.TgZ(8,"div",21)(9,"div",22)(10,"div",23),t._UZ(11,"azt-document-type-file",24),t.qZA(),t.TgZ(12,"div",25)(13,"div",26)(14,"span",27,28),t._uU(16),t.qZA()(),t.TgZ(17,"div",29)(18,"div",30)(19,"span",31),t._uU(20),t.ALo(21,"mytranslate"),t.qZA(),t.YNc(22,mi,4,3,"ng-container",3),t.YNc(23,ui,4,3,"ng-container",3),t.YNc(24,di,4,3,"ng-container",3),t.YNc(25,_i,4,3,"ng-container",3),t.qZA()(),t.TgZ(26,"div",29)(27,"div",30)(28,"span",31),t._uU(29),t.ALo(30,"mytranslate"),t.qZA(),t.TgZ(31,"span",32),t._uU(32),t.ALo(33,"mytranslate"),t.qZA()()()()()()(),t.YNc(34,hi,3,2,"h3",33),t.qZA()()}if(2&n){const e=i.$implicit,o=t.MAs(15);t.xp6(4),t.hij(" ",e.tenantFullName?e.tenantFullName:t.lcZ(5,19,"lang_document_market_unknown_created")," "),t.xp6(2),t.Q6J("ngIf",e.adminSeen),t.xp6(5),t.Q6J("type",e.marketDocumentType)("name","")("showBorder",!1)("onlyOneLine",!0)("customClass","w-4 h-4"),t.xp6(3),t.s9C("matTooltip",e.documentName),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.xp6(2),t.Oqu(e.documentName),t.xp6(4),t.hij(" ",t.lcZ(21,21,"lang_document_market_feedback_section")+": "," "),t.xp6(2),t.Q6J("ngIf","general"==e.objectType),t.xp6(1),t.Q6J("ngIf","creator"==e.objectType),t.xp6(1),t.Q6J("ngIf","sharer"==e.objectType),t.xp6(1),t.Q6J("ngIf","question"==e.objectType),t.xp6(4),t.hij(" ",t.lcZ(30,23,"lang_auto_nguoi_chia_se")+": "," "),t.xp6(3),t.hij(" ",e.documentShareTenantFullName?e.documentShareTenantFullName:t.lcZ(33,25,"lang_document_market_unknown_created")," "),t.xp6(2),t.Q6J("ngIf",e.comment)}}function xi(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",4)(2,"span",5),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",6),t.YNc(6,fi,35,27,"div",7),t.qZA(),t.TgZ(7,"div",8)(8,"div",9)(9,"div",10)(10,"azt-paging",11),t.NdJ("goToPaginationPage",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.goToPage(a))}),t.qZA()(),t.TgZ(11,"div",12)(12,"p",13),t._uU(13),t.ALo(14,"number"),t.ALo(15,"mytranslate"),t.qZA()(),t.TgZ(16,"div",14)(17,"p",13),t._uU(18),t.ALo(19,"number"),t.ALo(20,"mytranslate"),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,6,e.documentFeedbackObjs.name)," "),t.xp6(3),t.Q6J("ngForOf",e.documentFeedbackObjs.documents),t.xp6(4),t.Q6J("totalPaginationPage",e.totalPage)("paging",e.currentPage),t.xp6(3),t.Oqu(t.lcZ(14,8,e.totalDto)+" "+t.lcZ(15,10,"lang_testbank_test_list_document")),t.xp6(5),t.Oqu(t.lcZ(19,12,e.totalDto)+" "+t.lcZ(20,14,"lang_testbank_test_list_document"))}}function bi(n,i){if(1&n&&(t.TgZ(0,"div",2),t.YNc(1,xi,21,16,"ng-container",3),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.documentFeedbackObjs.documents?null:e.documentFeedbackObjs.documents.length)}}let vi=(()=>{class n extends L{initData(){let e={page:this.currentPage,size:this.sizeApi};this.initStatusObj(),this.waitDestroy(this.documentBankService.apiDocumentsCommentsListPost(e).subscribe(o=>{o?(this.documentFeedbackObjs={name:"lang_document_market_list_feedback",documents:new ot(this.commonService).formatFeedbackDocumentObjs(o.list)},this.totalDto=o.total,this.totalPage=this.totalDto%this.sizeApi>0?(this.totalDto-this.totalDto%this.sizeApi)/this.sizeApi+1:this.totalDto>0?this.totalDto/this.sizeApi:1,this.successStatusObj()):this.errorStatusObj("lang_core_invalid_data",!0)}))}showComment(e){this.documentFeedbackObjs.documents.map(o=>o.showComment=o.id==e.id||o.showComment)}viewDocumentComment(e){this.waitDestroy(this.documentBankService.apiDocumentsDocumentIdCommentDocumentCommentIdSeenPost(e.documentId,e.id).subscribe(o=>{o&&this.waitDestroy(this.documentBankService.apiDocumentsIdGet(e.id).subscribe(a=>{if(a){let c=this.commonService.getCurrentUrlWithoutLocale();this.commonService.myNavigationWithQueryString("/document-market/view-document/"+a.hashId+"/0","?backto="+c)}}))}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,O.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.currentPage=Number(this.commonService.getMyParam(this.activeRoute,"page"))??1,this.isCurrentDocument(h.FEEDBACK_MANAGEMENT)&&this.initData()}))}constructor(e){super(),this.documentBankService=e,this.paginationBaseUrl="/document-market/list-documents/feedback-management/",this.documentFeedbackObjs={name:"",documents:[]}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(V.Zg))},n.\u0275cmp=t.Xpm({type:n,selectors:[["document-market-feedback-management"]],features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"pb-3",2,"padding-bottom","30px"],[4,"ngIf"],[1,"flex",2,"font-weight","420","font-size","15px"],[2,"align-items","center"],[1,"grid","grid-cols-12","gap-3","mt-2","mb-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[2,"height","25px"],[1,"flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2",2,"position","absolute","bottom","10px"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"text-right","pb-2","azt-hidden","md:block",2,"position","absolute","bottom","10px","right","20px"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"],[1,"col-span-12","md:col-span-4"],[1,"rounded-md","bg-slate-50","dark:bg-darkmode-150","py-2","px-3",2,"min-height","125px","height","100%","position","relative"],[1,"flex",2,"justify-content","space-between"],[2,"align-items","center","font-weight","420","font-size","14px"],["class","link__color","style","align-items: center; font-weight: 400; font-size: 13px",4,"ngIf"],["azt-track-service","document-market-admin-feedback-ThgbjnkLv",1,"py-3","mt-2",3,"click"],[1,"rounded-md","bg-slate-100","dark:bg-darkmode-300","flex","items-center","zoom-in",2,"min-height","85px","position","relative"],[1,"flex","items-center","p-2","student-exam-result-up","w-full"],[1,"flex","image-fit","lg:mr-1","text-center"],[3,"type","name","showBorder","onlyOneLine","customClass"],[1,"ml-2","text-left","mt-0",2,"width","calc(100% - 3.5rem)"],[1,"azt-student-name","flex","items-center",2,"flex-wrap","wrap"],[1,"font-medium","mr-2","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"flex","items-center","mt-1"],[1,"mr-auto","text-xs","mr-2"],[1,"text-slate-500","font-medium"],[1,"text-black","font-medium"],["class","flex mt-2","style","font-weight: 400; font-size: 13px; max-height: 180px; overflow: auto",4,"ngIf"],[1,"link__color",2,"align-items","center","font-weight","400","font-size","13px"],[1,"flex","mt-2",2,"font-weight","400","font-size","13px","max-height","180px","overflow","auto"],["style","align-items: center",4,"ngIf"],["azt-track-service","document-market-admin-feedback-management-vAn8aVRiG",1,"link__color","link__hover","clickable",3,"click"]],template:function(e,o){if(1&e&&(t.YNc(0,ri,1,0,"azt-loading-effect",0),t.YNc(1,bi,2,1,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[l.sg,l.O5,Y.gM,D.l,S.L,it.Q,G.F,l.JJ,u.JV],encapsulation:2}),n})();function ki(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function Di(n,i){if(1&n&&(t.TgZ(0,"span",17),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.name)," ")}}function Ti(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.clearSearchOrFilter())}),t._UZ(2,"lucide-icon",19),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,1,e.name)," ")}}function Ci(n,i){if(1&n&&(t.TgZ(0,"div",20),t._UZ(1,"document-info-box",21),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("documentObj",e)}}function wi(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",5),t.YNc(2,Di,3,3,"span",6),t.YNc(3,Ti,5,3,"ng-container",7),t.qZA(),t.TgZ(4,"div",8),t.YNc(5,Ci,2,1,"div",9),t.qZA(),t.TgZ(6,"div",10)(7,"div",11)(8,"div",12)(9,"azt-paging",13),t.NdJ("goToPaginationPage",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.goToPage(a))}),t.qZA()(),t.TgZ(10,"div",14)(11,"p",15),t._uU(12),t.ALo(13,"number"),t.ALo(14,"mytranslate"),t.qZA()(),t.TgZ(15,"div",16)(16,"p",15),t._uU(17),t.ALo(18,"number"),t.ALo(19,"mytranslate"),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("ngIf","search"!=e.type),t.xp6(1),t.Q6J("ngIf","search"==e.type),t.xp6(2),t.Q6J("ngForOf",e.documents),t.xp6(4),t.Q6J("totalPaginationPage",o.totalPage)("paging",o.currentPage),t.xp6(3),t.Oqu(t.lcZ(13,7,o.totalDto)+" "+t.lcZ(14,9,"lang_testbank_test_list_document")),t.xp6(5),t.Oqu(t.lcZ(18,11,o.totalDto)+" "+t.lcZ(19,13,"lang_testbank_test_list_document"))}}function yi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t._uU(1,"... "),t.TgZ(2,"a",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.clearSearchOrFilter())}),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()}2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_auto_quay_lai")))}function Mi(n,i){if(1&n&&(t.TgZ(0,"div",22)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,yi,5,3,"span",7),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_document_market_no_data_found")),t.xp6(2),t.Q6J("ngIf",e.isShowFilterResult)}}function Ai(n,i){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,wi,20,15,"ng-container",0),t.YNc(2,Mi,5,4,"ng-template",null,4,t.W1O),t.qZA()),2&n){const e=i.$implicit,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",null==e.documents?null:e.documents.length)("ngIfElse",o)}}function Oi(n,i){if(1&n&&t.YNc(0,Ai,4,2,"div",2),2&n){const e=t.oxw();t.Q6J("ngForOf",e.listDocumentDtoObjs)}}let Zi=(()=>{class n extends L{initData(){this.initStatusObj(),this.waitDestroy(this.documentSearchService.apiDocumentsListPost({type:"latest",page:this.currentPage,size:this.sizeApi,keyword:this.documentFilterModelObj?.searchKeyword?this.documentFilterModelObj?.searchKeyword:void 0,schoolLevelId:this.documentFilterModelObj?.selectedFilterObj.levelId??void 0,schoolSubjectId:this.documentFilterModelObj?.selectedFilterObj.childId??void 0}).subscribe(o=>{o&&o.list?(this.setListDocumentObjs([{type:this.isFilterResult()?"search":"default",name:this.isFilterResult()?"lang_document_market_search_result":"lang_core_document_latest",documents:o.list}]),this.totalDto=o.total,this.totalPage=this.totalDto%this.sizeApi>0?(this.totalDto-this.totalDto%this.sizeApi)/this.sizeApi+1:this.totalDto>0?this.totalDto/this.sizeApi:1,this.stopStatusObj()):this.errorStatusObj("lang_core_invalid_data",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,O.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.currentPage=Number(this.commonService.getMyParam(this.activeRoute,"page"))??1,this.isCurrentDocument(h.NEWEST_DOCUMENTS)&&this.initData()}))}constructor(e){super(),this.documentSearchService=e,this.paginationBaseUrl="/document-market/list-documents/newest-documents/"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(E.Zg))},n.\u0275cmp=t.Xpm({type:n,selectors:[["document-market-newest-documents"]],features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["class","pb-3","style","padding-bottom: 30px",4,"ngFor","ngForOf"],[1,"pb-3",2,"padding-bottom","30px"],["noDocuments",""],[1,"flex",2,"font-weight","420","font-size","14px"],["style","align-items: center",4,"ngIf"],[4,"ngIf"],[1,"grid","grid-cols-12","gap-3","mt-2"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[2,"height","25px"],[1,"flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2",2,"position","absolute","bottom","10px"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"text-right","pb-2","azt-hidden","md:block",2,"position","absolute","bottom","10px","right","20px"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"],[2,"align-items","center"],[1,"clickable",2,"align-items","center",3,"click"],["name","chevron-left",2,"width","18px!important","height","18px!important","vertical-align","top"],[1,"col-span-12","md:col-span-4"],[3,"documentObj"],[1,"border","border-black-400","px-4","py-3","rounded","relative"],[1,"clickable","link__color","link__hover",3,"click"]],template:function(e,o){if(1&e&&(t.YNc(0,ki,1,0,"azt-loading-effect",0),t.YNc(1,Oi,1,1,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[l.sg,l.O5,D.l,S.L,d.Nh5,j,l.JJ,u.JV],encapsulation:2}),n})();function Si(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function Fi(n,i){if(1&n&&(t.TgZ(0,"span",17),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.name)," ")}}function Li(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.clearSearchOrFilter())}),t._UZ(2,"lucide-icon",19),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,1,e.name)," ")}}function Ii(n,i){if(1&n&&(t.TgZ(0,"div",20),t._UZ(1,"document-info-box",21),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("documentObj",e)}}function ji(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",5),t.YNc(2,Fi,3,3,"span",6),t.YNc(3,Li,5,3,"ng-container",7),t.qZA(),t.TgZ(4,"div",8),t.YNc(5,Ii,2,1,"div",9),t.qZA(),t.TgZ(6,"div",10)(7,"div",11)(8,"div",12)(9,"azt-paging",13),t.NdJ("goToPaginationPage",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.goToPage(a))}),t.qZA()(),t.TgZ(10,"div",14)(11,"p",15),t._uU(12),t.ALo(13,"number"),t.ALo(14,"mytranslate"),t.qZA()(),t.TgZ(15,"div",16)(16,"p",15),t._uU(17),t.ALo(18,"number"),t.ALo(19,"mytranslate"),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("ngIf","search"!=e.type),t.xp6(1),t.Q6J("ngIf","search"==e.type),t.xp6(2),t.Q6J("ngForOf",e.documents),t.xp6(4),t.Q6J("totalPaginationPage",o.totalPage)("paging",o.currentPage),t.xp6(3),t.Oqu(t.lcZ(13,7,o.totalDto)+" "+t.lcZ(14,9,"lang_testbank_test_list_document")),t.xp6(5),t.Oqu(t.lcZ(18,11,o.totalDto)+" "+t.lcZ(19,13,"lang_testbank_test_list_document"))}}function Ni(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t._uU(1,"... "),t.TgZ(2,"a",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.clearSearchOrFilter())}),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()}2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_auto_quay_lai")))}function zi(n,i){if(1&n&&(t.TgZ(0,"div",22)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Ni,5,3,"span",7),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_document_market_no_data_found")),t.xp6(2),t.Q6J("ngIf",e.isShowFilterResult)}}function Pi(n,i){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,ji,20,15,"ng-container",0),t.YNc(2,zi,5,4,"ng-template",null,4,t.W1O),t.qZA()),2&n){const e=i.$implicit,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",null==e.documents?null:e.documents.length)("ngIfElse",o)}}function qi(n,i){if(1&n&&t.YNc(0,Pi,4,2,"div",2),2&n){const e=t.oxw();t.Q6J("ngForOf",e.listDocumentDtoObjs)}}let Ui=(()=>{class n extends L{initData(){let e={type:"lecture",page:this.currentPage,size:this.sizeApi,keyword:this.documentFilterModelObj?.searchKeyword?this.documentFilterModelObj?.searchKeyword:void 0,schoolLevelId:this.documentFilterModelObj?.selectedFilterObj.levelId??void 0,schoolSubjectId:this.documentFilterModelObj?.selectedFilterObj.childId??void 0};this.initStatusObj(),this.waitDestroy(this.documentSearchService.apiDocumentsListPost(e).subscribe(o=>{o&&o.list?(this.setListDocumentObjs([{type:this.isFilterResult()?"search":"default",name:this.isFilterResult()?"lang_document_market_search_result":"lang_core_document_type_lecture",documents:o.list}]),this.totalDto=o.total,this.totalPage=this.totalDto%this.sizeApi>0?(this.totalDto-this.totalDto%this.sizeApi)/this.sizeApi+1:this.totalDto>0?this.totalDto/this.sizeApi:1,this.stopStatusObj()):this.errorStatusObj("lang_core_invalid_data",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,O.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.currentPage=Number(this.commonService.getMyParam(this.activeRoute,"page"))??1,this.isCurrentDocument(h.LECTURE_DOCUMENTS)&&this.initData()}))}constructor(e){super(),this.documentSearchService=e,this.paginationBaseUrl="/document-market/list-documents/lecture-documents/"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(E.Zg))},n.\u0275cmp=t.Xpm({type:n,selectors:[["document-market-lecture-documents"]],features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["class","pb-3","style","padding-bottom: 30px",4,"ngFor","ngForOf"],[1,"pb-3",2,"padding-bottom","30px"],["noDocuments",""],[1,"flex",2,"font-weight","420","font-size","14px"],["style","align-items: center",4,"ngIf"],[4,"ngIf"],[1,"grid","grid-cols-12","gap-3","mt-2"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[2,"height","25px"],[1,"flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2",2,"position","absolute","bottom","10px"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"text-right","pb-2","azt-hidden","md:block",2,"position","absolute","bottom","10px","right","20px"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"],[2,"align-items","center"],[1,"clickable",2,"align-items","center",3,"click"],["name","chevron-left",2,"width","18px!important","height","18px!important","vertical-align","top"],[1,"col-span-12","md:col-span-4"],[3,"documentObj"],[1,"border","border-black-400","px-4","py-3","rounded","relative"],[1,"clickable","link__color","link__hover",3,"click"]],template:function(e,o){if(1&e&&(t.YNc(0,Si,1,0,"azt-loading-effect",0),t.YNc(1,qi,1,1,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[l.sg,l.O5,D.l,S.L,d.Nh5,j,l.JJ,u.JV],encapsulation:2}),n})();function Ei(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function Qi(n,i){if(1&n&&(t.TgZ(0,"span",17),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.name)," ")}}function Ji(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.clearSearchOrFilter())}),t._UZ(2,"lucide-icon",19),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,1,e.name)," ")}}function Yi(n,i){if(1&n&&(t.TgZ(0,"div",20),t._UZ(1,"document-info-box",21),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("documentObj",e)}}function Ri(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3",5),t.YNc(2,Qi,3,3,"span",6),t.YNc(3,Ji,5,3,"ng-container",7),t.qZA(),t.TgZ(4,"div",8),t.YNc(5,Yi,2,1,"div",9),t.qZA(),t.TgZ(6,"div",10)(7,"div",11)(8,"div",12)(9,"azt-paging",13),t.NdJ("goToPaginationPage",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.goToPage(a))}),t.qZA()(),t.TgZ(10,"div",14)(11,"p",15),t._uU(12),t.ALo(13,"number"),t.ALo(14,"mytranslate"),t.qZA()(),t.TgZ(15,"div",16)(16,"p",15),t._uU(17),t.ALo(18,"number"),t.ALo(19,"mytranslate"),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("ngIf","search"!=e.type),t.xp6(1),t.Q6J("ngIf","search"==e.type),t.xp6(2),t.Q6J("ngForOf",e.documents),t.xp6(4),t.Q6J("totalPaginationPage",o.totalPage)("paging",o.currentPage),t.xp6(3),t.Oqu(t.lcZ(13,7,o.totalDto)+" "+t.lcZ(14,9,"lang_testbank_test_list_document")),t.xp6(5),t.Oqu(t.lcZ(18,11,o.totalDto)+" "+t.lcZ(19,13,"lang_testbank_test_list_document"))}}function Bi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span"),t._uU(1,"... "),t.TgZ(2,"a",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.clearSearchOrFilter())}),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()}2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_auto_quay_lai")))}function Ki(n,i){if(1&n&&(t.TgZ(0,"div",22)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Bi,5,3,"span",7),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_document_market_no_data_found")),t.xp6(2),t.Q6J("ngIf",e.isShowFilterResult)}}function Gi(n,i){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,Ri,20,15,"ng-container",0),t.YNc(2,Ki,5,4,"ng-template",null,4,t.W1O),t.qZA()),2&n){const e=i.$implicit,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",null==e.documents?null:e.documents.length)("ngIfElse",o)}}function Hi(n,i){if(1&n&&t.YNc(0,Gi,4,2,"div",2),2&n){const e=t.oxw();t.Q6J("ngForOf",e.listDocumentDtoObjs)}}let Wi=(()=>{class n extends L{initData(){let e={type:"teaching_plan",page:this.currentPage,size:this.sizeApi,keyword:this.documentFilterModelObj?.searchKeyword?this.documentFilterModelObj?.searchKeyword:void 0,schoolLevelId:this.documentFilterModelObj?.selectedFilterObj.levelId??void 0,schoolSubjectId:this.documentFilterModelObj?.selectedFilterObj.childId??void 0};this.initStatusObj(),this.waitDestroy(this.documentSearchService.apiDocumentsListPost(e).subscribe(o=>{o&&o.list?(this.setListDocumentObjs([{type:this.isFilterResult()?"search":"default",name:this.isFilterResult()?"lang_document_market_search_result":"lang_document_lecture_plan_teaching",documents:o.list}]),this.totalDto=o.total,this.totalPage=this.totalDto%this.sizeApi>0?(this.totalDto-this.totalDto%this.sizeApi)/this.sizeApi+1:this.totalDto>0?this.totalDto/this.sizeApi:1,this.stopStatusObj()):this.errorStatusObj("lang_core_invalid_data",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,O.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.currentPage=Number(this.commonService.getMyParam(this.activeRoute,"page"))??1,this.isCurrentDocument(h.TEACHING_PLAN_DOCUMENTS)&&this.initData()}))}constructor(e){super(),this.documentSearchService=e,this.paginationBaseUrl="/document-market/list-documents/teaching-plan-documents/"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(E.Zg))},n.\u0275cmp=t.Xpm({type:n,selectors:[["document-market-teaching-plan-documents"]],features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["class","pb-3","style","padding-bottom: 30px",4,"ngFor","ngForOf"],[1,"pb-3",2,"padding-bottom","30px"],["noDocuments",""],[1,"flex",2,"font-weight","420","font-size","14px"],["style","align-items: center",4,"ngIf"],[4,"ngIf"],[1,"grid","grid-cols-12","gap-3","mt-2"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[2,"height","25px"],[1,"flex","items-center","flex-col-reverse","sm:flex-row","mt-3"],[1,"mr-0","sm:mr-auto","mt-2",2,"position","absolute","bottom","10px"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"text-right","pb-2","azt-hidden","md:block",2,"position","absolute","bottom","10px","right","20px"],[1,"text-md"],[1,"ml-auto","text-right","-mt-2","block","md:hidden"],[2,"align-items","center"],[1,"clickable",2,"align-items","center",3,"click"],["name","chevron-left",2,"width","18px!important","height","18px!important","vertical-align","top"],[1,"col-span-12","md:col-span-4"],[3,"documentObj"],[1,"border","border-black-400","px-4","py-3","rounded","relative"],[1,"clickable","link__color","link__hover",3,"click"]],template:function(e,o){if(1&e&&(t.YNc(0,Ei,1,0,"azt-loading-effect",0),t.YNc(1,Hi,1,1,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[l.sg,l.O5,D.l,S.L,d.Nh5,j,l.JJ,u.JV],encapsulation:2}),n})();const Vi=["drawer"];function $i(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function Xi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.sAztMatDrawerService.openDrawer())}),t.ALo(1,"mytranslate"),t.O4$(),t.TgZ(2,"svg",18),t._UZ(3,"rect",19)(4,"path",20)(5,"path",21),t.qZA()()}2&n&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_mo_menu"))}function ta(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.sAztMatDrawerService.closeDrawer())}),t.ALo(1,"mytranslate"),t.O4$(),t.TgZ(2,"svg",18),t._UZ(3,"rect",19)(4,"path",20)(5,"path",23),t.qZA()()}2&n&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_dong_menu"))}function ea(n,i){if(1&n&&(t.TgZ(0,"div",14),t.YNc(1,Xi,6,3,"button",15),t.YNc(2,ta,6,3,"button",16),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.sAztMatDrawerService.isOpenSideNav||e.isMobileDevice),t.xp6(1),t.Q6J("ngIf",e.sAztMatDrawerService.isOpenSideNav&&!e.isMobileDevice)}}function na(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"document-market-all-documents",24),t.NdJ("clearDocumentFilterEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.clearSearchOrFilter())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("backLink",e.backLink)("documentFilterModelObj",e.documentFilterModelObj)("documentFilterSubscriber",e.documentFilterSubscriber)}}function oa(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"document-market-newest-documents",24),t.NdJ("clearDocumentFilterEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.clearSearchOrFilter())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("backLink",e.backLink)("documentFilterModelObj",e.documentFilterModelObj)("documentFilterSubscriber",e.documentFilterSubscriber)}}function ia(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"document-market-exam-documents",24),t.NdJ("clearDocumentFilterEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.clearSearchOrFilter())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("backLink",e.backLink)("documentFilterModelObj",e.documentFilterModelObj)("documentFilterSubscriber",e.documentFilterSubscriber)}}function aa(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"document-market-reference-documents",24),t.NdJ("clearDocumentFilterEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.clearSearchOrFilter())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("backLink",e.backLink)("documentFilterModelObj",e.documentFilterModelObj)("documentFilterSubscriber",e.documentFilterSubscriber)}}function ca(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"document-market-power-point-documents",24),t.NdJ("clearDocumentFilterEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.clearSearchOrFilter())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("backLink",e.backLink)("documentFilterModelObj",e.documentFilterModelObj)("documentFilterSubscriber",e.documentFilterSubscriber)}}function sa(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"document-market-teaching-plan-documents",24),t.NdJ("clearDocumentFilterEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.clearSearchOrFilter())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("backLink",e.backLink)("documentFilterModelObj",e.documentFilterModelObj)("documentFilterSubscriber",e.documentFilterSubscriber)}}function ra(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"document-market-lecture-documents",24),t.NdJ("clearDocumentFilterEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.clearSearchOrFilter())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("backLink",e.backLink)("documentFilterModelObj",e.documentFilterModelObj)("documentFilterSubscriber",e.documentFilterSubscriber)}}function la(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"document-market-your-documents",24),t.NdJ("clearDocumentFilterEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.clearSearchOrFilter())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("backLink",e.backLink)("documentFilterModelObj",e.documentFilterModelObj)("documentFilterSubscriber",e.documentFilterSubscriber)}}function ma(n,i){if(1&n&&t._UZ(0,"document-market-approved-management",25),2&n){const e=t.oxw(2);t.Q6J("backLink",e.backLink)}}function ua(n,i){if(1&n&&t._UZ(0,"document-market-feedback-management",25),2&n){const e=t.oxw(2);t.Q6J("backLink",e.backLink)}}const da=function(n,i){return{"w-85":n,"w-25":i}},_a=function(n){return{"ml-25":n}};function pa(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"mat-drawer-container",4)(2,"mat-drawer",5,6),t.NdJ("openedChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.sAztMatDrawerService.openedChange(a))}),t._UZ(4,"document-market-menu-left",7),t.qZA(),t.TgZ(5,"mat-drawer-content",8),t.YNc(6,ea,3,2,"div",9),t.TgZ(7,"div")(8,"document-market-filter-level",10),t.NdJ("selectFilter",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.selectFilter(a))}),t.qZA(),t.TgZ(9,"div",11),t.YNc(10,na,1,3,"document-market-all-documents",12),t.YNc(11,oa,1,3,"document-market-newest-documents",12),t.YNc(12,ia,1,3,"document-market-exam-documents",12),t.YNc(13,aa,1,3,"document-market-reference-documents",12),t.YNc(14,ca,1,3,"document-market-power-point-documents",12),t.YNc(15,sa,1,3,"document-market-teaching-plan-documents",12),t.YNc(16,ra,1,3,"document-market-lecture-documents",12),t.YNc(17,la,1,3,"document-market-your-documents",12),t.YNc(18,ma,1,1,"document-market-approved-management",13),t.YNc(19,ua,1,1,"document-market-feedback-management",13),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("hasBackdrop",e.sAztMatDrawerService.hasBackdrop),t.xp6(1),t.s9C("opened",e.sAztMatDrawerService.isOpenSideNav?"true":"false"),t.Q6J("ngClass",t.WLB(20,da,e.isMobileDevice,!e.isMobileDevice))("mode",e.sAztMatDrawerService.mode),t.xp6(2),t.Q6J("backTo",e.backLink)("documentMenu",e.documentMenu),t.xp6(1),t.Q6J("ngClass",t.VKq(23,_a,!e.isMobileDevice&&e.sAztMatDrawerService.isOpenSideNav)),t.xp6(1),t.Q6J("ngIf",e.isMobileDevice),t.xp6(2),t.Q6J("hidden",!e.isShowFilter)("documentFilterSubscriber",e.documentFilterSubscriber),t.xp6(2),t.Q6J("ngIf",e.allDocumentMenus.ALL_DOCUMENTS==e.documentMenu),t.xp6(1),t.Q6J("ngIf",e.allDocumentMenus.NEWEST_DOCUMENTS==e.documentMenu),t.xp6(1),t.Q6J("ngIf",e.allDocumentMenus.EXAM_DOCUMENTS==e.documentMenu),t.xp6(1),t.Q6J("ngIf",e.allDocumentMenus.REFERENCE_DOCUMENTS==e.documentMenu),t.xp6(1),t.Q6J("ngIf",e.allDocumentMenus.POWER_POINT_DOCUMENTS==e.documentMenu),t.xp6(1),t.Q6J("ngIf",e.allDocumentMenus.TEACHING_PLAN_DOCUMENTS==e.documentMenu),t.xp6(1),t.Q6J("ngIf",e.allDocumentMenus.LECTURE_DOCUMENTS==e.documentMenu),t.xp6(1),t.Q6J("ngIf",e.allDocumentMenus.YOUR_DOCUMENTS==e.documentMenu),t.xp6(1),t.Q6J("ngIf",e.allDocumentMenus.APPROVED_MANAGEMENT==e.documentMenu),t.xp6(1),t.Q6J("ngIf",e.allDocumentMenus.FEEDBACK_MANAGEMENT==e.documentMenu)}}let ga=(()=>{class n extends y.Q{set drawer(e){this.sAztMatDrawerService.resizeDrawerHeight(!1,e)}selectFilter(e){this.documentFilterModelObj.selectedFilterObj=e,this.documentFilterChanged.next(this.documentFilterModelObj)}searchDocument(e){this.documentFilterModelObj.searchKeyword=e,this.documentFilterChanged.next(this.documentFilterModelObj)}clearSearchOrFilter(){this.documentFilterModelObj.selectedFilterObj={levelId:0,childId:0},this.documentFilterModelObj.searchKeyword="",this.documentFilterChanged.next(this.documentFilterModelObj)}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,O.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.backLink=this.commonService.getMyQueryParam("backto")??"/admin/dashboard";let e=this.commonService.getMyParam(this.activeRoute,"documentType")??"";this.documentMenu=this.commonService.getEnumType(h,e)??this.documentMenu,this.isShowFilter=this.documentMenu!=h.YOUR_DOCUMENTS&&this.documentMenu!=h.APPROVED_MANAGEMENT&&this.documentMenu!=h.FEEDBACK_MANAGEMENT}))}constructor(e,o){super(),this.activeRoute=e,this.sAztMatDrawerService=o,this.backLink="",this.documentMenu=h.ALL_DOCUMENTS,this.allDocumentMenus=h,this.isShowFilter=!0,this.documentFilterModelObj={selectedFilterObj:{levelId:0,childId:0},searchKeyword:""},this.documentFilterChanged=new ct.X(void 0),this.documentFilterSubscriber=this.documentFilterChanged.asObservable()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.gz),t.Y36(K.T))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-document-market-list-document"]],viewQuery:function(e,o){if(1&e&&t.Gf(Vi,5),2&e){let a;t.iGM(a=t.CRH())&&(o.drawer=a.first)}},features:[t._Bn([K.T]),t.qOj],decls:4,vars:6,consts:[[3,"layoutName","headerBackToLink","isDocumentMarket","documentFilterSubscriber","searchDocumentMarket"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"container-fluid","mt-3","overflow-hidden","document-market-list"],[1,"azt-drawer-container","mt-5",2,"overflow","auto","height","auto",3,"hasBackdrop"],[1,"azt-draw-left-container","pt-2","md:pt-0","pl-3","md:pl-0","pr-3","md:pr-5",3,"ngClass","mode","opened","openedChange"],["drawer",""],[3,"backTo","documentMenu"],[3,"ngClass"],["class","flex box sm:h-auto rounded-md border border-slate-200/60 dark:border-darkmode-400 p-2 text-slate-500 mb-2",4,"ngIf"],[3,"hidden","documentFilterSubscriber","selectFilter"],[1,"intro-y","box","px-4","py-2","relative",2,"min-height","calc(100vh - 180px)"],[3,"backLink","documentFilterModelObj","documentFilterSubscriber","clearDocumentFilterEvent",4,"ngIf"],[3,"backLink",4,"ngIf"],[1,"flex","box","sm:h-auto","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2","text-slate-500","mb-2"],["azt-track-service","group-JqjKKxVz7O","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","group-zQLSni7Q98","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","group-JqjKKxVz7O",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-menu","w-4","h-4"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["d","M9 3v18"],["d","m14 9 3 3-3 3"],["azt-track-service","group-zQLSni7Q98",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["d","m16 15-3-3 3-3"],[3,"backLink","documentFilterModelObj","documentFilterSubscriber","clearDocumentFilterEvent"],[3,"backLink"]],template:function(e,o){if(1&e&&(t.TgZ(0,"public-layout",0),t.NdJ("searchDocumentMarket",function(c){return o.searchDocument(c)}),t.YNc(1,$i,1,0,"azt-loading-effect",1),t.YNc(2,pa,20,25,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.Q6J("layoutName","document-market")("headerBackToLink",o.backLink)("isDocumentMarket",!0)("documentFilterSubscriber",o.documentFilterSubscriber),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[l.mk,l.O5,Q.jA,Q.kh,Q.LW,Y.gM,D.l,R.W,Cn,Sn,eo,uo,Do,Fo,Qo,si,vi,Zi,Ui,Wi,u.JV],encapsulation:2}),n})(),ha=(()=>{class n extends y.Q{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["document-market-page"]],features:[t.qOj],decls:2,vars:0,consts:[["id","document-market-layout"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[_.lC],encapsulation:2}),n})();var fa=s(41894),lt=s(61713),mt=s(63120),bt=s(63019),vt=s(37398),X=s(41019),xa=s(23655);let ba=(()=>{class n{constructor(e){this.testMarketQuestionService=e,this.dataMap=new Map,this.schoolLevelSubjectObjs=[],this.formSchoolInfo=new r.cw({schoolLevel:new r.NI(0,{nonNullable:!0}),schoolSubject:new r.NI(0,{nonNullable:!0})})}initialData(){return new Promise(e=>{this.testMarketQuestionService.apiTestMarketQuestionsSubjectLevelsGet().subscribe(o=>{1==o.success?(this.schoolLevelSubjectObjs=o.data?.schoolLevelSubjectObjs??[],this.formSchoolInfo.controls.schoolLevel.setValue(12),this.formSchoolInfo.controls.schoolSubject.setValue(40),this.apiLeechData(void 0).then(a=>{e(a.map(c=>new X.Z(c.id,c.pr,c.type,void 0,c.name,0,!c.isLeaf,!1,void 0,c.isLeaf)))}).catch(()=>{e([])})):e([])})})}isExpandable(e){return this.dataMap.has(e)}apiLeechData(e){return new Promise(o=>{const a=[];this.testMarketQuestionService.apiTestMarketQuestionsKnowledgeGet(Number(this.formSchoolInfo.controls.schoolLevel.value),Number(this.formSchoolInfo.controls.schoolSubject.value),e).subscribe(c=>{1===c.success&&c.data&&(c.data.objs||[]).forEach(f=>{a.push({pr:e??0,id:f.id??0,name:f.name?f.name:"",type:"knowledge",isLeaf:f.isLeaf??!1})}),o(a)})})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(xa.Q_))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class va{get data(){return this.dataChange.value}set data(i){this._treeControl.dataNodes=i,this.dataChange.next(i)}constructor(i,e){this._treeControl=i,this._database=e,this.dataChange=new ct.X([])}connect(i){return this._treeControl.expansionModel.changed.subscribe(e=>{(e.added||e.removed)&&this.handleTreeControl(e)}),(0,bt.T)(i.viewChange,this.dataChange).pipe((0,vt.U)(()=>this.data))}getNode(i){let e=this.data.filter(o=>o.id==i);return e&&e.length>0?e[0]:null}disconnect(i){}handleTreeControl(i){i.added&&i.added.forEach(e=>this.toggleNode(e,!0)),i.removed&&i.removed.slice().reverse().forEach(e=>this.toggleNode(e,!1))}toggleNode(i,e){if("knowledge"===i.type){const o=this.data.indexOf(i);if(e)i.isLoading=!0,this._database.apiLeechData(i.id).then(a=>{const c=a.map(m=>new X.Z(m.id,m.pr,m.type,void 0,m.name,i.level+1,!m.isLeaf,!1,i,m.isLeaf));this.data.splice(o+1,0,...c),this.dataChange.next(this.data),i.isLoading=!1});else{let a=0;for(let c=o+1;c<this.data.length&&this.data[c].level>i.level;c++,a++);this.data.splice(o+1,a),this.dataChange.next(this.data)}}}}var kt=s(54);let ka=(()=>{class n{constructor(e){this.documentService=e,this.dataMap=new Map}initialData(){return new Promise(e=>{this.apiLeechData(0).then(o=>{e(o.map(a=>new X.Z(a.id,a.pr,a.type,a.shareType,a.name,0,"cate"===a.type,a.isLeaf)))})})}isExpandable(e){return this.dataMap.has(e)}apiLeechData(e,o){return new Promise(a=>{const c=[];let m={categoryId:e,documentType:void 0,shareType:o,fileType:"exam_online",classroomId:void 0,name:void 0,suggestExamPurpose:void 0,lite:1,getGlobal:0,page:1,itemPerPage:-1};this.documentService.apiDocumentsGet(m.categoryId,m.documentType,m.shareType,m.fileType,m.classroomId,m.name,m.suggestExamPurpose,m.lite,m.getGlobal,m.page,m.itemPerPage).subscribe(f=>{1===f.success&&f.data&&((f.data.categoryObjs||[]).forEach(N=>{c.push({pr:e,id:N.id??0,name:N.name??"",type:"cate",shareType:N.shareType,isLeaf:!1})}),(f.data.documentObjs||[]).forEach(N=>{N.exam&&c.push({pr:e,id:N.exam.id??0,name:N.exam.name??"",type:"test",shareType:void 0,isLeaf:!0})})),a(c)})})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(kt.Zg))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Da{get data(){return this.dataChange.value}set data(i){this._treeControl.dataNodes=i,this.dataChange.next(i)}constructor(i,e){this._treeControl=i,this._database=e,this.dataChange=new ct.X([])}connect(i){return this._treeControl.expansionModel.changed.subscribe(e=>{(e.added||e.removed)&&this.handleTreeControl(e)}),(0,bt.T)(i.viewChange,this.dataChange).pipe((0,vt.U)(()=>this.data))}disconnect(i){}handleTreeControl(i){i.added&&i.added.forEach(e=>this.toggleNode(e,!0)),i.removed&&i.removed.slice().reverse().forEach(e=>this.toggleNode(e,!1))}toggleNode(i,e){if("cate"===i.type){const o=this.data.indexOf(i);if(e)i.isLoading=!0,this._database.apiLeechData(i.id,i.shareType).then(a=>{const c=a.map(m=>new X.Z(m.id,m.pr,m.type,m.shareType,m.name,i.level+1,"cate"===m.type,!1,i));this.data.splice(o+1,0,...c),this.dataChange.next(this.data),i.isLoading=!1});else{let a=0;for(let c=o+1;c<this.data.length&&this.data[c].level>i.level;c++,a++);this.data.splice(o+1,a),this.dataChange.next(this.data)}}}}var Ta=s(59694),Ca=s(32296),wa=s(30617),tt=s(98445),ya=s(80034),Ma=s(34340),Aa=s(89310),Dt=s(54901),Oa=s(89812);function Za(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function Sa(n,i){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",27),t._UZ(2,"path",28),t.qZA()())}function Fa(n,i){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",29),t._UZ(2,"path",30)(3,"polyline",31)(4,"path",32),t.qZA()())}function La(n,i){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",33),t._UZ(2,"path",30)(3,"polyline",31)(4,"line",34)(5,"line",35)(6,"line",36),t.qZA()())}const Tt=function(n){return{paddingLeft:n}},Ia=function(n){return{"font-medium text-primary":n}};function ja(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tree-node",22),t._UZ(1,"button",23),t.TgZ(2,"div",24),t.NdJ("click",function(){const c=t.CHM(e).$implicit,m=t.oxw(3);return t.KtG(m.clickToDocumentObj(c))}),t.YNc(3,Sa,3,0,"span",25),t.YNc(4,Fa,5,0,"span",25),t.YNc(5,La,7,0,"span",25),t.TgZ(6,"span",26),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()()}if(2&n){const e=i.$implicit,o=t.oxw(3);t.Q6J("ngStyle",t.VKq(8,Tt,15*e.level+"px"))("ngClass",t.VKq(10,Ia,o.nodeId===e.id)),t.xp6(3),t.Q6J("ngIf","cate"===e.type&&"knowledge"!==e.type||"knowledge"===e.type&&!e.isLeaf),t.xp6(1),t.Q6J("ngIf","cate"!==e.type&&"knowledge"!==e.type),t.xp6(1),t.Q6J("ngIf","knowledge"===e.type&&e.isLeaf),t.xp6(2),t.hij(" ",t.lcZ(8,6,e.item)," ")}}function Na(n,i){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",27),t._UZ(2,"path",28),t.qZA()())}function za(n,i){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",43),t._UZ(2,"path",30)(3,"polyline",31)(4,"path",32),t.qZA()())}function Pa(n,i){1&n&&(t.TgZ(0,"span",44),t._UZ(1,"azt-loading-ui"),t.qZA())}function qa(n,i){if(1&n&&(t.TgZ(0,"mat-tree-node",37)(1,"button",38)(2,"mat-icon",39),t._uU(3),t.qZA()(),t.TgZ(4,"div",40),t.YNc(5,Na,3,0,"span",25),t.YNc(6,za,5,0,"span",25),t.TgZ(7,"span",41),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.YNc(10,Pa,2,0,"span",42),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw(3);t.Q6J("ngStyle",t.VKq(10,Tt,15*e.level+"px")),t.xp6(1),t.Q6J("disabled",e.isLoading),t.uIk("aria-label","Toggle "+e.item),t.xp6(2),t.hij(" ",o.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),t.xp6(2),t.Q6J("ngIf","cate"===e.type&&"knowledge"!==e.type||"knowledge"===e.type&&!e.isLeaf),t.xp6(1),t.Q6J("ngIf","cate"!==e.type&&"knowledge"!==e.type||"knowledge"===e.type&&e.isLeaf),t.xp6(2),t.hij(" ",t.lcZ(9,8,e.item)," "),t.xp6(2),t.Q6J("ngIf",e.isLoading)}}function Ua(n,i){if(1&n&&(t.TgZ(0,"ng-scrollbar",17)(1,"div",18)(2,"mat-tree",19),t.YNc(3,ja,9,12,"mat-tree-node",20),t.YNc(4,qa,11,12,"mat-tree-node",21),t.qZA()()()),2&n){const e=t.oxw(2);t.Q6J("visibility","hover"),t.xp6(2),t.Q6J("dataSource",e.commonDataSourceProcess)("treeControl",e.treeControl),t.xp6(2),t.Q6J("matTreeNodeDefWhen",e.hasChild)}}const Ea=function(n,i){return[n,i]};function Qa(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",45)(1,"azt-upload-document-to-editor",46),t.NdJ("emitFiles",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.changeFileAction(a))}),t.TgZ(2,"div",47)(3,"div",48)(4,"div",49)(5,"div",50),t._UZ(6,"lucide-icon",51),t.qZA(),t.TgZ(7,"div",52)(8,"div",53),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div",54),t._uU(12),t.ALo(13,"mytranslate"),t.TgZ(14,"a",55),t.NdJ("click",function(a){return a.stopPropagation()}),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.TgZ(17,"div",56)(18,"azt-download-link-item",57),t.NdJ("click",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.isMobileWebView?"":a.stopPropagation())}),t.ALo(19,"convertRawLinkOfGitHubWithLocale"),t.ALo(20,"mytranslate"),t.qZA()()()()()()()()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("fileType",t.WLB(19,Ea,e.allUploadFileTypes.WORD,e.allUploadFileTypes.AZT)),t.xp6(8),t.Oqu(t.lcZ(10,9,"lang_auto_chon_file_hoc_keo_tha_file_vao_day")),t.xp6(3),t.hij(" ",t.lcZ(13,11,"lang_auto_azota_support_file_type")," .docx, .azt. "),t.xp6(3),t.hij(" ",t.lcZ(16,13,"lang_auto_tim_hieu_them")," "),t.xp6(3),t.Q6J("dataUrl",t.lcZ(19,15,"medias_[LANG]/de_mau_azota.docx?raw=true"))("target","_self")("fileName",t.lcZ(20,17,"lang_testbank_create_document_azota_docx_model"))("fileDescription","lang_testbank_create_document_azota_docx_model")("classStyle","text-primary")}}function Ja(n,i){1&n&&t._UZ(0,"azt-loading-effect")}function Ya(n,i){if(1&n&&t._UZ(0,"azt-loaded-img",70),2&n){const e=t.oxw(4);t.Q6J("imgSrc",null==e.examObj?null:e.examObj.examHeader)}}function Ra(n,i){if(1&n&&t._UZ(0,"azt-question-standalone-for-preview",72),2&n){const e=t.oxw(),o=e.$implicit,a=e.index,c=t.oxw(4);t.Q6J("examObj",c.examObj)("questionObj",o)("follower",c.followerRenderQuest)("curQuestionIndex",a)("isShowExplain",!0)}}function Ba(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Ra,1,5,"azt-question-standalone-for-preview",71),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.examObj)}}function Ka(n,i){if(1&n&&(t.YNc(0,Ya,1,1,"azt-loaded-img",68),t.YNc(1,Ba,2,1,"ng-container",69)),2&n){const e=t.oxw(3);t.Q6J("ngIf",null==e.examObj?null:e.examObj.examHeader),t.xp6(1),t.Q6J("ngForOf",e.questionObjs)}}function Ga(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",58)(1,"div",59)(2,"div",60)(3,"button",61),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.changeViewUpload())}),t.TgZ(4,"span",62),t._UZ(5,"lucide-icon",63),t.qZA(),t.TgZ(6,"span",64),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()(),t.TgZ(9,"div",65)(10,"button",66),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openConfigShareDocument())}),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()(),t.TgZ(13,"div",67),t.YNc(14,Ja,1,0,"azt-loading-effect",11),t.YNc(15,Ka,2,2,"ng-template",null,12,t.W1O),t.qZA()()}if(2&n){const e=t.MAs(16),o=t.oxw(2);t.xp6(7),t.hij(" ",t.lcZ(8,4,"lang_document_upload_a_new_file")," "),t.xp6(4),t.hij(" ",t.lcZ(12,6,"lang_document_continue")," "),t.xp6(3),t.Q6J("ngIf",o.isLoadingQuestionObjs)("ngIfElse",e)}}function Ha(n,i){if(1&n&&(t.TgZ(0,"div",3)(1,"div",4)(2,"span",5),t._UZ(3,"lucide-icon",6),t.qZA(),t.TgZ(4,"span",7),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"div",8)(8,"div",9)(9,"div",10),t.YNc(10,Za,1,0,"azt-loading-effect",11),t.YNc(11,Ua,5,4,"ng-template",null,12,t.W1O),t.qZA()(),t.TgZ(13,"div",13)(14,"div",14),t.YNc(15,Qa,21,22,"div",15),t.YNc(16,Ga,17,8,"div",16),t.qZA()()()()),2&n){const e=t.MAs(12),o=t.oxw();t.xp6(5),t.hij(" ",t.lcZ(6,5,"lang_document_select_a_topic_from_your_folder_or_create_a_new_one_by_uploading_a_file_in_the_adjacent_box")," "),t.xp6(5),t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",e),t.xp6(5),t.Q6J("ngIf","upload"===o.stepView),t.xp6(1),t.Q6J("ngIf","view"===o.stepView)}}function Wa(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",73)(1,"azt-config-share-document",74),t.NdJ("onBack",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.closeConfigShareDocument())}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("examObj",e.examObj)("type",e.shareTypeDocument.exam)}}let Va=(()=>{class n extends y.Q{changeFileAction(e){if(this.file=void 0,null!==e)for(let o in e)"length"!=o&&"item"!=o&&((0,lt.MH)(e[o].type)||e[o].name.toLowerCase().endsWith(".azt")?(0,lt.EO)(e[o].size)<=200?this.file=e[o]:this.showErrorSnack("lang_auto_vui_long_chon_file_khong_qua_200_mb"):this.showErrorSnack("lang_document_the_file_format_is_not_supported_in_exam"));if(this.file){const c=`/document-market/share-exam-document/${Number(this.commonService.getMyParam(this.activeRoute,"levelId"))}/${Number(this.commonService.getMyParam(this.activeRoute,"subjectId"))}`;this.editorOutputDataService.setFileProcess(this.file),this.commonService.myNavigationWithQueryString("/admin/testbank/azota-editor/0",`?backto=${c}&isShareDocument=1`)}}clickToDocumentObj(e){this.stepView="view",this.nodeId=e.id,this.isLoadingQuestionObjs=!0,this.waitDestroy(this.examService.apiExamGetQuestionsIdGet(e.id).subscribe(o=>{window.scrollTo(0,0),this.isLoadingQuestionObjs=!1,o.success&&o.data?.examObj?(this.examObj={...o.data?.examObj,attended:0},this.questionObjs=this.commonService.castObj(o.data?.questionObjs)??[]):this.errorStatusObj(o.message,!0)}))}changeViewUpload(){this.stepView="upload"}closeConfigShareDocument(){this.checkBackDialog=!1}openConfigShareDocument(){this.checkBackDialog=!0}get commonDataSourceProcess(){return"user"===this.selfRequestData?this.userCategoriesDataSource:"azota"===this.selfRequestData?this.azotaKnowledgeDataSource:this.userCategoriesDataSource}initData(){this.initStatusObj();let e=this.commonService.myTranslateInstant("lang_loading_data");this.logConfig.status=!0,this.logConfig.msg=e,this.commonDataSourceProcess._database.initialData().then(o=>{this.commonDataSourceProcess.data=o,this.stopStatusObj()})}ngOnInit(){super.ngOnInit();let e=this.commonService.getMyQueryParam("backto");this.backLink=e??"/document-market/share-general",this.initData()}constructor(e,o,a,c,m){super(),this.userCategoriesDatabase=e,this.azotaKnowledgeDatabaseService=o,this.examService=a,this.activeRoute=c,this.editorOutputDataService=m,this.backLink="",this.selfRequestData="user",this.checkBackDialog=!1,this.nodeId=0,this.logConfig={},this.questionObjs=[],this.followerRenderQuest=new at.p,this.isLoadingQuestionObjs=!0,this.stepView="upload",this.shareTypeDocument=p.R,this.allUploadFileTypes=mt.AZ,this.getLevel=f=>f.level,this.isExpandable=f=>f.expandable,this.hasChild=(f,et)=>et.expandable,this.treeControl=new fa.C2(this.getLevel,this.isExpandable),this.userCategoriesDataSource=new Da(this.treeControl,e),this.azotaKnowledgeDataSource=new va(this.treeControl,o)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ka),t.Y36(ba),t.Y36(kt.Oe),t.Y36(_.gz),t.Y36(Ta.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["share-exam-document"]],features:[t.qOj],decls:3,vars:5,consts:[[3,"layoutName","headerBackToLink","checkBackDialog","handleBackDialog"],["class","share-exam-document",4,"ngIf"],["class","main__exam-save",4,"ngIf"],[1,"share-exam-document"],[1,"flex","items-center","mt-3"],[1,"w-5","h-5","inline-block","text-warning"],["name","lightbulb"],[1,"text-md","font-medium"],[1,"grid","grid-cols-12","gap-5","mt-3"],[1,"col-span-12","md:col-span-4"],[1,"box",2,"height","80vh"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","md:col-span-8"],[1,"azt-drawer-content","h-full"],["class","create-exam box","style","height: 80vh",4,"ngIf"],["class","view-exam overflow-hidden box",4,"ngIf"],["track","vertical","pointerEventsMethod","scrollbar",1,"w-full",3,"visibility"],[1,"pr-2"],[3,"dataSource","treeControl"],["class","py-1",3,"ngStyle","ngClass",4,"matTreeNodeDef"],[3,"ngStyle",4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"py-1",3,"ngStyle","ngClass"],["mat-icon-button","","disabled",""],["azt-track-service","share-exam-document-yxer8Kka0",1,"title-box","flex","mr-3",2,"cursor","pointer","align-items","center",3,"click"],[4,"ngIf"],[1,"text-matrix-title","ml-3",2,"word-break","break-word"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"w-6","h-6","mr-2","text-slate-600","dark:text-slate-500"],["d","M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","aria-describedby","cdk-describedby-message-serverApp-1-31","cdk-describedby-host","serverApp-1",1,"mr-0","w-6","h-6","text-pending","mr-2"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["d","m9 15 2 2 4-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],[3,"ngStyle"],["mat-icon-button","","matTreeNodeToggle","",3,"disabled"],[1,"mat-icon-rtl-mirror"],["azt-track-service","share-exam-document-RMj9n35_Y_","matTreeNodeToggle","",1,"title-box",2,"cursor","pointer"],[1,"text-matrix-title"],["class","w-4 h-4 inline-block ml-2",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","aria-describedby","cdk-describedby-message-serverApp-1-31","cdk-describedby-host","serverApp-1",1,"mat-tooltip-trigger","w-6","h-6","text-pending","ng-star-inserted"],[1,"w-4","h-4","inline-block","ml-2"],[1,"create-exam","box",2,"height","80vh"],[3,"fileType","emitFiles"],["azt-track-service","upload-document-VsCGB0Cw7","id","box-left-file-drop",1,"h-full","cursor-pointer","box","p-5"],[1,"h-full","flex","items-center"],[1,"mx-auto","text-center"],[1,"w-24","h-24","text-primary","flex-none","image-fit","text-primary","overflow-hidden","mx-auto","upload-box"],["name","upload-cloud"],[1,"mt-3"],[1,"font-medium","text-lg","upload-box"],[1,"text-slate-500","text-xs","mt-1"],["azt-track-service","upload-document-GHbxbRMZOV","href","https://docs.azota.vn/docs/huong-dan-su-dung/de-thi/chon-file-keo-tha-file-de-tao-de/","target","_blank",1,"text-primary",3,"click"],[1,"pt-2"],["id","download-link-item",3,"dataUrl","target","fileName","fileDescription","classStyle","click"],[1,"view-exam","overflow-hidden","box"],[1,"flex","items-center","p-3"],[1,"mr-auto"],["azt-track-service","share-exam-document-nSPRpcbpdC",1,"btn","btn-secondary",3,"click"],[1,"w-4","h-4","inline-block","mr-2"],["name","upload"],[1,"azt-hidden","sm:block"],[1,"ml-auto"],["azt-track-service","share-exam-document-bUqPDDCEd",1,"btn","w-32","btn-primary",3,"click"],[1,"preview-content","p-3"],["style","display: block","class","mt-5",3,"imgSrc",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"mt-5",2,"display","block",3,"imgSrc"],[3,"examObj","questionObj","follower","curQuestionIndex","isShowExplain",4,"ngIf"],[3,"examObj","questionObj","follower","curQuestionIndex","isShowExplain"],[1,"main__exam-save"],[3,"examObj","type","onBack"]],template:function(e,o){1&e&&(t.TgZ(0,"public-layout",0),t.NdJ("handleBackDialog",function(){return o.closeConfigShareDocument()}),t.YNc(1,Ha,17,7,"div",1),t.YNc(2,Wa,2,2,"div",2),t.qZA()),2&e&&(t.Q6J("layoutName","document-market")("headerBackToLink",o.backLink)("checkBackDialog",o.checkBackDialog),t.xp6(1),t.Q6J("ngIf",!o.checkBackDialog),t.xp6(1),t.Q6J("ngIf",o.checkBackDialog))},dependencies:[l.mk,l.sg,l.O5,l.PC,Ca.RK,wa.Hw,tt.fQ,tt.eu,tt.gi,tt.uo,ya.y,D.l,Ma.A,st.n,Aa.P,Dt.v,Oa.Q,R.W,d.Nh5,M.KC,u.JV,u.jw],encapsulation:2}),n})();var $a=s(88489);function Xa(n,i){1&n&&t._UZ(0,"azt-loading-effect")}const tc=function(n){return{"border-primary  background-select":n}};function ec(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",10),t.NdJ("click",function(){const c=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(c.schoolLevel&&m.chooseLevel(c.schoolLevel))}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.BQk()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(4,tc,o.levelId===(null==e.schoolLevel?null:e.schoolLevel.id))),t.xp6(1),t.hij(" ",t.lcZ(3,2,null==e.schoolLevel?null:e.schoolLevel.key)," ")}}const nc=function(n){return{"border-primary background-select":n}};function oc(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",10),t.NdJ("click",function(){const c=t.CHM(e).$implicit,m=t.oxw(3);return t.KtG(m.chooseSubject(c))}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.BQk()}if(2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(4,nc,o.subjectId===e.id)),t.xp6(1),t.hij(" ",t.lcZ(3,2,e.key)," ")}}function ic(n,i){if(1&n&&(t.TgZ(0,"div",11)(1,"div",5)(2,"div",6),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",5)(6,"div",7),t.YNc(7,oc,4,6,"ng-container",8),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_auto_mon_hoc")," "),t.xp6(4),t.Q6J("ngForOf",e.subjectSelectedList)}}const B=function(n){return[n]},ac=function(n){return{backto:n}},cc=function(n){return{backto:n,type:"slide"}},sc=function(n){return{backto:n,type:"plan"}},rc=function(n){return{backto:n,type:"ref"}},lc=function(n){return{backto:n,type:"video"}};function mc(n,i){if(1&n&&(t.TgZ(0,"div",11)(1,"div",5)(2,"div",6),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",5)(6,"div",7)(7,"a",12),t.ALo(8,"navigationLocalize"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"a",12),t.ALo(12,"navigationLocalize"),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"a",12),t.ALo(16,"navigationLocalize"),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t.TgZ(19,"a",12),t.ALo(20,"navigationLocalize"),t._uU(21),t.ALo(22,"mytranslate"),t.qZA(),t.TgZ(23,"a",12),t.ALo(24,"navigationLocalize"),t._uU(25),t.ALo(26,"mytranslate"),t.qZA()()()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,16,"lang_document_content_type")," "),t.xp6(4),t.Q6J("routerLink",t.VKq(38,B,t.lcZ(8,18,"/document-market/share-exam-document/"+e.levelId+"/"+e.subjectId)))("queryParams",t.VKq(40,ac,e.returnLink)),t.xp6(2),t.hij(" ",t.lcZ(10,20,"lang_document_exam_exercises")," "),t.xp6(2),t.Q6J("routerLink",t.VKq(42,B,t.lcZ(12,22,"/document-market/share-lecture-materials/"+e.levelId+"/"+e.subjectId)))("queryParams",t.VKq(44,cc,e.returnLink)),t.xp6(2),t.hij(" ",t.lcZ(14,24,"lang_document_lecture_power_point")," "),t.xp6(2),t.Q6J("routerLink",t.VKq(46,B,t.lcZ(16,26,"/document-market/share-lecture-materials/"+e.levelId+"/"+e.subjectId)))("queryParams",t.VKq(48,sc,e.returnLink)),t.xp6(2),t.hij(" ",t.lcZ(18,28,"lang_document_lecture_plan_teaching")," "),t.xp6(2),t.Q6J("routerLink",t.VKq(50,B,t.lcZ(20,30,"/document-market/share-lecture-materials/"+e.levelId+"/"+e.subjectId)))("queryParams",t.VKq(52,rc,e.returnLink)),t.xp6(2),t.hij(" ",t.lcZ(22,32,"lang_core_document_type_ref")," "),t.xp6(2),t.Q6J("routerLink",t.VKq(54,B,t.lcZ(24,34,"/document-market/share-lecture-materials/"+e.levelId+"/"+e.subjectId)))("queryParams",t.VKq(56,lc,e.returnLink)),t.xp6(2),t.hij(" ",t.lcZ(26,36,"lang_document_lecture_video")," ")}}function uc(n,i){if(1&n&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",5)(7,"div",7),t.YNc(8,ec,4,6,"ng-container",8),t.qZA()()(),t.YNc(9,ic,8,4,"div",9),t.YNc(10,mc,27,58,"div",9),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,4,"lang_auto_khoi_hoc")," "),t.xp6(4),t.Q6J("ngForOf",e.schoolLevelAndSubjectObjs),t.xp6(1),t.Q6J("ngIf",e.levelId),t.xp6(1),t.Q6J("ngIf",e.subjectId)}}let dc=(()=>{class n extends y.Q{constructor(e,o){super(),this.browserStorageService=e,this.commonListService=o,this.backLink="/document-market/list-documents/all-documents/1",this.returnLink="/document-market/share-general",this.schoolLevelAndSubjectObjs=[],this.subjectSelectedList=[],this.subjectId=0,this.shareTypeDocument=p.R}ngOnInit(){super.ngOnInit(),this.getSubjectAndLevel()}getSubjectAndLevel(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(e=>{1==e.success?(this.schoolLevelAndSubjectObjs=e.data?.schoolLevelSubjectObjs??[],this.levelId=Number(this.browserStorageService.getSimpleStorage("levelId")??0),this.filterSubject(this.levelId),this.subjectId=Number(this.browserStorageService.getSimpleStorage("subjectId")??0),this.successStatusObj()):this.errorStatusObj(e.message??"")}))}chooseLevel(e){this.levelId=e.id,this.browserStorageService.saveSimpleStorage("levelId",this.levelId.toString()),this.filterSubject(this.levelId)}chooseSubject(e){this.subjectId=e.id,this.browserStorageService.saveSimpleStorage("subjectId",this.subjectId.toString())}filterSubject(e){this.subjectSelectedList=this.schoolLevelAndSubjectObjs.find(o=>o.schoolLevel?.id==e)?.schoolSubjectObjs??[]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36($a.n),t.Y36(H.o7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["share-general"]],features:[t.qOj],decls:4,vars:4,consts:[[3,"layoutName","headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"share-general","mx-auto","mt-8",2,"max-width","1200px"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12"],[1,"font-medium","text-semi","flex","items-center"],[1,"flex","items-center","flex-wrap"],[4,"ngFor","ngForOf"],["class","grid grid-cols-12 gap-3 mt-5",4,"ngIf"],[1,"btn","box","hover:shadow-md","mr-3","mb-3",3,"ngClass","click"],[1,"grid","grid-cols-12","gap-3","mt-5"],[1,"btn","box","hover:shadow-md","mr-3","mb-3",3,"routerLink","queryParams"]],template:function(e,o){if(1&e&&(t.TgZ(0,"public-layout",0),t.YNc(1,Xa,1,0,"azt-loading-effect",1),t.YNc(2,uc,11,6,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.Q6J("layoutName","document-market")("headerBackToLink",o.backLink),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[_.rH,l.mk,l.sg,l.O5,D.l,R.W,u.Jy,u.JV],encapsulation:2}),n})();var _c=s(15828),pc=s(82228),gc=s(32443);function hc(n,i){1&n&&(t.TgZ(0,"div",10),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_auto_azota_support_file_type")," .pptx, .ppt ."))}function fc(n,i){1&n&&(t.TgZ(0,"div",10),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_auto_azota_support_file_type")," .docx, doc, .pdf ."))}let xc=(()=>{class n extends y.Q{constructor(){super(...arguments),this.type=p.R.exam,this.emitFiles=new t.vpe,this.isUploading=new t.vpe,this.shareTypeDocument=p.R,this.allUploadToCdnMenuTypes=mt.j6}handleUploadComplete(e){this.emitFiles.emit(e)}handleUploading(e){this.isUploading.emit(e)}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-upload-document"]],inputs:{type:"type",allUploadFileTypes:"allUploadFileTypes"},outputs:{emitFiles:"emitFiles",isUploading:"isUploading"},features:[t.qOj],decls:13,vars:8,consts:[[3,"uploadToCdnMenu","fileType","isUploading","uploadComplete"],[1,"upload-document","h-full"],["azt-track-service","upload-document-VsCGB0Cw7","id","box-left-file-drop",1,"h-full","cursor-pointer","p-5"],[1,"h-full","flex","items-center"],[1,"mx-auto","text-center"],[1,"w-24","h-24","text-primary","flex-none","image-fit","text-primary","overflow-hidden","mx-auto","upload-box"],["name","upload-cloud"],[1,"mt-3"],[1,"font-medium","text-lg","upload-box"],["class","text-slate-500 text-xs mt-1",4,"ngIf"],[1,"text-slate-500","text-xs","mt-1"]],template:function(e,o){1&e&&(t.TgZ(0,"azt-upload-multiple-box",0),t.NdJ("isUploading",function(c){return o.handleUploading(c)})("uploadComplete",function(c){return o.handleUploadComplete(c)}),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"lucide-icon",6),t.qZA(),t.TgZ(7,"div",7)(8,"div",8),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.YNc(11,hc,3,3,"div",9),t.YNc(12,fc,3,3,"div",9),t.qZA()()()()()()),2&e&&(t.Q6J("uploadToCdnMenu",o.allUploadToCdnMenuTypes.GET_PUBLIC_UPLOAD_URL_FOR_DOCUMENT_BANK)("fileType",o.allUploadFileTypes),t.xp6(1),t.uIk("id","input-file-document-"+o.type),t.xp6(8),t.Oqu(t.lcZ(10,6,"lang_auto_chon_file_hoc_keo_tha_file_vao_day")),t.xp6(2),t.Q6J("ngIf",o.type===o.shareTypeDocument.slide),t.xp6(1),t.Q6J("ngIf",o.type===o.shareTypeDocument.ref||o.type===o.shareTypeDocument.teaching_plan))},dependencies:[l.O5,gc.B,d.Nh5,u.JV],encapsulation:2}),n})();function bc(n,i){if(1&n&&t._UZ(0,"azt-preview-file",19),2&n){const e=t.oxw(2);t.Q6J("fileUrl",e.validEmbedVideoUrl)("fileType",e.shareTypeFile)}}function vc(n,i){1&n&&(t.ynx(0),t.TgZ(1,"div",32)(2,"div",33),t._UZ(3,"azt-loading-ui",34),t.qZA()(),t.BQk())}function kc(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",36)(1,"div",37)(2,"azt-document-type-file",38),t.NdJ("click",function(){const a=t.CHM(e),c=a.$implicit,m=a.index,f=t.oxw(4);return t.KtG(f.previewDocumentFileDialog(c,m))}),t.qZA(),t.TgZ(3,"div",39)(4,"button",40),t.NdJ("click",function(){const c=t.CHM(e).$implicit,m=t.oxw(4);return t.KtG(m.removeFileAttachments(c))}),t.TgZ(5,"span",41),t._UZ(6,"lucide-icon",42),t.qZA()()()()()}if(2&n){const e=i.$implicit;let o;t.xp6(2),t.Q6J("type",e.fileType)("name",null!==(o=e.fileName)&&void 0!==o?o:"")}}function Dc(n,i){if(1&n&&(t.ynx(0),t.YNc(1,kc,7,2,"div",35),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.attachmentToShowing)}}function Tc(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",21)(2,"div",22),t.YNc(3,vc,4,0,"ng-container",23),t.YNc(4,Dc,2,1,"ng-container",23),t.qZA()(),t.TgZ(5,"div",24)(6,"div",25)(7,"button",26),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.uploadMore())}),t.TgZ(8,"span",27),t._UZ(9,"lucide-icon",28),t.qZA(),t.TgZ(10,"span",29),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()(),t.TgZ(13,"div",30)(14,"button",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.goToStep("config"))}),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",e.loadingUploadFile),t.xp6(1),t.Q6J("ngIf",!e.loadingUploadFile),t.xp6(3),t.Q6J("disabled",e.loadingUploadFile),t.xp6(4),t.hij(" ",t.lcZ(12,6,"lang_document_upload_a_new_file")," "),t.xp6(3),t.Q6J("disabled",e.loadingUploadFile),t.xp6(1),t.hij(" ",t.lcZ(16,8,"lang_document_continue")," ")}}const Cc=function(n){return[n]},Ct=function(n,i){return[n,i]};function wc(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"mat-tab-group",5),t.NdJ("selectedTabChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.onTabChanged(a))}),t._UZ(3,"mat-tab",6),t.ALo(4,"mytranslate"),t._UZ(5,"mat-tab",6),t.ALo(6,"mytranslate"),t._UZ(7,"mat-tab",6),t.ALo(8,"mytranslate"),t._UZ(9,"mat-tab",6),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div",7)(12,"azt-upload-document",8),t.NdJ("isUploading",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.handleUploading(a))})("emitFiles",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.handleUploadComplete(a))}),t.qZA()(),t.TgZ(13,"div",7)(14,"azt-upload-document",8),t.NdJ("isUploading",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.handleUploading(a))})("emitFiles",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.handleUploadComplete(a))}),t.qZA()(),t.TgZ(15,"div",7)(16,"azt-upload-document",8),t.NdJ("isUploading",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.handleUploading(a))})("emitFiles",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.handleUploadComplete(a))}),t.qZA()(),t.TgZ(17,"div",7)(18,"div",9)(19,"div",10)(20,"div",11)(21,"input",12),t.NdJ("input",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.convertLinkEmbed())}),t.ALo(22,"mytranslate"),t.qZA()()(),t.TgZ(23,"div",13)(24,"div",14),t.YNc(25,bc,1,2,"azt-preview-file",15),t.qZA()(),t.TgZ(26,"div",16)(27,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToStep("config"))}),t._uU(28),t.ALo(29,"mytranslate"),t.qZA()()()(),t.YNc(30,Tc,17,10,"div",18),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("selectedIndex",e.selectedIndex),t.xp6(1),t.s9C("label",t.lcZ(4,21,"lang_document_lecture_power_point")),t.xp6(2),t.s9C("label",t.lcZ(6,23,"lang_document_lecture_plan_teaching")),t.xp6(2),t.s9C("label",t.lcZ(8,25,"lang_core_document_type_ref")),t.xp6(2),t.s9C("label",t.lcZ(10,27,"lang_document_insert_lecture_link")),t.xp6(2),t.Q6J("hidden",e.shareTypeDocument!=e.allShareTypeDocument.slide||e.attachmentToShowing.length),t.xp6(1),t.Q6J("type",e.allShareTypeDocument.slide)("allUploadFileTypes",t.VKq(33,Cc,e.allUploadFileTypes.PPT)),t.xp6(1),t.Q6J("hidden",e.shareTypeDocument!=e.allShareTypeDocument.teaching_plan||e.attachmentToShowing.length),t.xp6(1),t.Q6J("type",e.allShareTypeDocument.teaching_plan)("allUploadFileTypes",t.WLB(35,Ct,e.allUploadFileTypes.WORD,e.allUploadFileTypes.PDF)),t.xp6(1),t.Q6J("hidden",e.shareTypeDocument!=e.allShareTypeDocument.ref||e.attachmentToShowing.length),t.xp6(1),t.Q6J("type",e.allShareTypeDocument.ref)("allUploadFileTypes",t.WLB(38,Ct,e.allUploadFileTypes.WORD,e.allUploadFileTypes.PDF)),t.xp6(1),t.Q6J("hidden",e.shareTypeDocument!=e.allShareTypeDocument.lecture),t.xp6(4),t.s9C("placeholder",t.lcZ(22,29,"lang_document_insert_lecture_video_link")+"..."),t.Q6J("formControl",e.embedLinkControl),t.xp6(4),t.Q6J("ngIf",e.validEmbedVideoUrl),t.xp6(2),t.Q6J("disabled",!e.validEmbedVideoUrl),t.xp6(1),t.hij(" ",t.lcZ(29,31,"lang_document_continue")," "),t.xp6(2),t.Q6J("ngIf",e.attachmentToShowing.length&&e.shareTypeDocument!=e.allShareTypeDocument.lecture)}}function yc(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",43)(1,"azt-config-share-document",44),t.NdJ("onBack",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.prevStep())}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("attachments",e.attachmentToShowing)("type",e.shareTypeDocument)}}const Mc=[{path:"",component:ha,canActivateChild:[Mt],children:[{path:"list-documents/:documentType/:page",component:ga},{path:"share-general",component:dc},{path:"share-exam-document/:levelId/:subjectId",component:Va},{path:"share-lecture-materials/:levelId/:subjectId",component:(()=>{class n extends y.Q{handleUploadComplete(e){e.forEach(o=>{if(o){this.fileList.push(o);const a={fileName:o.name,mimeType:o.mimes,fileSize:Number(o.size)??0,link:o.url??"",fileType:this.sAztFileTypeService.getTypeFileByMime(o)??"",documentType:this.shareTypeDocument};this.attachments.push(a),this.filterAttachmentShow(),this.step="preview"}})}handleUploading(e){this.loadingUploadFile=e}uploadMore(){let e=document.getElementById("input-file-document-"+this.shareTypeDocument);e&&e.click()}filterAttachmentShow(){this.attachmentToShowing=this.attachments.filter(e=>e.documentType==this.shareTypeDocument)}convertLinkEmbed(){if(this.attachments=[],(0,lt.xN)(this.embedLinkControl.value))return this.validEmbedVideoUrl=this.embedLinkControl.value,this.attachments.push({link:this.validEmbedVideoUrl??"",fileType:this.shareTypeFile,documentType:this.allShareTypeDocument.lecture}),this.filterAttachmentShow(),void(this.isValidEmbedVideoUrl=!0);this.isValidEmbedVideoUrl=!0,this.validEmbedVideoUrl=void 0}onTabChanged(e){this.selectedIndex=e.index;let o="";3===this.selectedIndex?(o="video",this.shareTypeFile=A.s.video,this.shareTypeDocument=p.R.lecture):2===this.selectedIndex?(o="ref",this.shareTypeFile=A.s.docx,this.shareTypeDocument=p.R.ref):1===this.selectedIndex?(o="plan",this.shareTypeDocument=p.R.teaching_plan,this.shareTypeFile=A.s.docx):(o="slide",this.shareTypeDocument=p.R.slide,this.shareTypeFile=A.s.powerpoint),this.filterAttachmentShow();let a=Number(this.commonService.getMyParam(this.activeRoute,"levelId"))??1,c=Number(this.commonService.getMyParam(this.activeRoute,"subjectId"))??1;this.commonService.myNavigationWithQueryString(`/document-market/share-lecture-materials/${a}/${c}`,"?backto="+this.backLink+"&type="+o)}goToStep(e){this.step=e}prevStep(){"preview"==this.step&&(this.step="upload"),"config"==this.step&&(0==this.selectedIndex||1==this.selectedIndex||2==this.selectedIndex)&&(this.step="preview"),"config"==this.step&&3==this.selectedIndex&&(this.step="upload")}previewDocumentFileDialog(e,o){const a={name:e.fileName??"",mimes:this.sAztFileTypeService.getMineTypeByFileType(e.fileType),type:e.fileType,url:e.link};this.sAztDialogService.open(_c.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...a,index:0},showDownloadIcon:!1},restoreFocus:!1})}removeFileAttachments(e){this.attachments=this.attachments.filter(o=>o.link!=e.link),this.filterAttachmentShow()}constructor(e,o,a,c){super(),this.sAztDialogService=e,this.apiUploadService=o,this.activeRoute=a,this.sAztFileTypeService=c,this.backLink="",this.selectedIndex=0,this.step="upload",this.fileList=[],this.loadingUploadFile=!1,this.shareTypeDocument=p.R.ref,this.allShareTypeDocument=p.R,this.shareTypeFile=A.s.powerpoint,this.embedLinkControl=new r.NI("",{nonNullable:!0}),this.isValidEmbedVideoUrl=!1,this.validEmbedVideoUrl=void 0,this.statusObjData={loading:!1,errorMessage:""},this.fileUploadQueue=[],this.attachments=[],this.attachmentToShowing=[],this.allUploadFileTypes=mt.AZ}ngOnChanges(e){e.attachments&&this.filterAttachmentShow()}ngOnInit(){super.ngOnInit();let e=this.commonService.getMyQueryParam("backto"),o=this.commonService.getMyQueryParam("type");"video"==o?(this.selectedIndex=3,this.shareTypeFile=A.s.video,this.shareTypeDocument=p.R.lecture):"ref"==o?(this.selectedIndex=2,this.shareTypeFile=A.s.docx,this.shareTypeDocument=p.R.ref):"plan"==o?(this.selectedIndex=1,this.shareTypeFile=A.s.docx,this.shareTypeDocument=p.R.teaching_plan):(this.selectedIndex=0,this.shareTypeFile=A.s.powerpoint,this.shareTypeDocument=p.R.slide),this.backLink=e??"/document-market/list-documents/all-documents/1"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.C),t.Y36(pc.W),t.Y36(_.gz),t.Y36(ut.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["share-lecture-materials"]],features:[t.qOj,t.TTD],decls:3,vars:5,consts:[[3,"layoutName","headerBackToLink","checkBackDialog","handleBackDialog"],["class","share-lecture-materials mx-auto mt-5","style","max-width: 1100px",4,"ngIf"],["class","config-share",4,"ngIf"],[1,"share-lecture-materials","mx-auto","mt-5",2,"max-width","1100px"],[1,"intro-y"],[3,"selectedIndex","selectedTabChange"],[3,"label"],[1,"box","mt-3",2,"height","75vh",3,"hidden"],[3,"type","allUploadFileTypes","isUploading","emitFiles"],[1,"h-full","flex","flex-col","mx-auto"],[1,"flex","items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"formControl","placeholder","input"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-3","mx-auto",2,"max-width","768px"],[3,"fileUrl","fileType",4,"ngIf"],[1,"text-right","border-t","border-slate-200","dark:border-darkmode-400","p-3"],[1,"btn","btn-primary","w-32",3,"disabled","click"],["class","box preview flex flex-col h-full p-3","style","height: 80vh",4,"ngIf"],[3,"fileUrl","fileType"],[1,"box","preview","flex","flex-col","h-full","p-3",2,"height","80vh"],[1,"h-full",2,"overflow","auto"],[1,"grid","grid-cols-12","gap-3"],[4,"ngIf"],[1,"flex","items-center","mt-3"],[1,"mr-auto"],[1,"btn","btn-secondary",3,"disabled","click"],[1,"w-4","h-4","inline-block","mr-2"],["name","upload"],[1,"azt-hidden","sm:block"],[1,"ml-auto"],[1,"btn","w-32","btn-primary",3,"disabled","click"],[1,"col-span-12"],[1,"w-24","h-24","text-primary","flex-none","image-fit","text-primary","overflow-hidden","mx-auto","upload-box"],[1,"mx-auto"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],[1,"relative"],[1,"cursor-pointer",3,"type","name","click"],[1,"absolute","top-0","right-0","p-1"],[1,"btn","btn-sm","btn-danger","p-0","rounded-full",3,"click"],[1,"w-4","h-4","inline-block"],["name","x"],[1,"config-share"],[3,"attachments","type","onBack"]],template:function(e,o){1&e&&(t.TgZ(0,"public-layout",0),t.NdJ("handleBackDialog",function(){return o.prevStep()}),t.YNc(1,wc,31,41,"div",1),t.YNc(2,yc,2,2,"div",2),t.qZA()),2&e&&(t.Q6J("layoutName","document-market")("headerBackToLink",o.backLink)("checkBackDialog","upload"!=o.step),t.xp6(1),t.Q6J("ngIf","config"!==o.step),t.xp6(1),t.Q6J("ngIf","config"===o.step))},dependencies:[l.sg,l.O5,$.uX,$.SP,r.Fj,r.JJ,r.oH,st.n,Dt.v,dt.k,G.F,R.W,d.Nh5,xc,u.JV],encapsulation:2}),n})()},{path:"view-document/:hashId/:attachmentId",component:Dn}]}];let Ac=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.Bz.forChild(Mc),_.Bz,q.fQ]}),n})(),Oc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.Bz,l.ez,Z.j,x.Z_,Ac,r.u5,r.UX,w.Is,g.Z,b.xC,v.QG,k.W,C.d,d.qyJ.pick(d.ciZ),M.kb,T.N,P.vI]}),n})()},11460:(nt,z,s)=>{s.d(z,{r:()=>w});var l=s(65879),r=s(46558);let w=(()=>{class _{constructor(x){this.commonService=x}partQuestionSearchText(x){let T=x.content??"",d=x.answers?.findIndex(b=>x.answerResult?.includes(b.key??""));if(void 0!==d&&-1!=d){let b=x.answers?.map(v=>v.content??"")??[];T+="\n"+this.commonService.getCorrectAnsTxt(b,d)}return this.commonService.parseQuestionContent(T)}partQuestionSearchTextByQuestionForm(x){let T=x.questionContent??"";const d=this.commonService.myParseJson(x.answerConfig??""),b=this.commonService.myParseJson(x?.answerResult??"[]")??[""];let v=d?.findIndex(M=>b.includes(M.key??""));if(void 0!==v&&-1!=v){let M=d?.map(g=>g.content??"")??[];T+="\n"+this.commonService.getCorrectAnsTxt(M,v)}return this.commonService.parseQuestionContent(T)}}return _.\u0275fac=function(x){return new(x||_)(l.LFG(r.z))},_.\u0275prov=l.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},37783:(nt,z,s)=>{s.d(z,{W:()=>M});var l=s(47496),r=s(65879),w=s(96814),_=s(70342),P=s(77988),x=s(92596),T=s(67742),d=s(6653);function b(g,C){if(1&g){const k=r.EpF();r.O4$(),r.kcU(),r.ynx(0),r.TgZ(1,"div",25)(2,"p",26),r._uU(3),r.ALo(4,"mytranslate"),r.qZA(),r.TgZ(5,"p",26),r._uU(6),r.ALo(7,"mytranslate"),r.qZA(),r.TgZ(8,"div",27),r._UZ(9,"input",28),r.TgZ(10,"button",29),r.NdJ("click",function(){r.CHM(k);const q=r.oxw();return r.KtG(q.showCopySuccess())}),r.O4$(),r.TgZ(11,"svg",30),r._UZ(12,"rect",31)(13,"path",32),r.qZA(),r._uU(14),r.ALo(15,"mytranslate"),r.qZA()()(),r.BQk()}if(2&g){const k=r.oxw();r.xp6(3),r.Oqu(r.lcZ(4,5,"lang_auto_hoac")),r.xp6(3),r.Oqu(r.lcZ(7,7,"lang_classroom_QR_join_link_copy")),r.xp6(3),r.Q6J("value",k.linkUrl),r.xp6(1),r.Q6J("cdkCopyToClipboard",k.copyLinkToClipboard(k.linkUrl)),r.xp6(4),r.hij(" ",r.lcZ(15,9,"lang_auto_sao_chep")," ")}}const v=function(g){return{"w-80":g}};let M=(()=>{class g extends l.Q{constructor(){super(...arguments),this.linkUrl="",this.fileName="",this.showLink=!1,this.qrCodeDownloadLink=""}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}copyLinkToClipboard(k){return k}onChangeURL(k){this.qrCodeDownloadLink=k}downloadQrCode(){try{let k=""!=this.fileName?this.commonService.createFileNameExportFile([this.fileName])+".jpg":this.commonService.createFileNameExportFile(["azota-qr-code-"])+".jpg";this.commonService.downloadFileByUrl(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity,k)}catch{console.log("Download QrCode error")}}}return g.\u0275fac=function(){let C;return function(Z){return(C||(C=r.n5z(g)))(Z||g)}}(),g.\u0275cmp=r.Xpm({type:g,selectors:[["azt-download-qr-code"]],inputs:{linkUrl:"linkUrl",fileName:"fileName",showLink:"showLink"},features:[r.qOj],decls:28,vars:16,consts:[["azt-track-service","download-qr-code-hiQXy_iTc",1,"btn","btn-outline-primary","btn-transparent","p-1",3,"matMenuTriggerFor","matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],["xPosition","before"],["showQrCode","matMenu"],["azt-track-service","download-qr-code-9t-9Wiu2xv",1,"box","p-3","text-center",3,"ngClass","click"],[2,"background","#fff","padding","5px"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | convertCdnLinkOfGitHub",3,"allowEmptyString","qrdata","elementType","width","errorCorrectionLevel","qrCodeURL"],["azt-track-service","download-qr-code-RqVBz6g1z7",1,"btn","btn-outline-primary","btn-transparent","btn-sm","mx-auto","mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],[4,"ngIf"],[1,"text-center"],[1,"h5","mt-2","font-medium"],[1,"azt-copy","relative","mt-2","intro-x"],["type","text","readonly","",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10",2,"padding-right","120px",3,"value"],["azt-track-service","download-qr-code-yW-aFu0tO",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"cdkCopyToClipboard","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"]],template:function(k,Z){if(1&k&&(r.TgZ(0,"button",0),r.ALo(1,"mytranslate"),r.O4$(),r.TgZ(2,"svg",1),r._UZ(3,"rect",2)(4,"rect",3)(5,"rect",4)(6,"path",5)(7,"path",6)(8,"path",7)(9,"path",8)(10,"path",9)(11,"path",10)(12,"path",11)(13,"path",12)(14,"path",13),r.qZA()(),r.kcU(),r.TgZ(15,"mat-menu",14,15)(17,"div",16),r.NdJ("click",function(t){return t.stopPropagation()}),r.TgZ(18,"div",17)(19,"qrcode",18),r.NdJ("qrCodeURL",function(t){return Z.onChangeURL(t)}),r.qZA()(),r.TgZ(20,"a",19),r.NdJ("click",function(){return Z.downloadQrCode()}),r.O4$(),r.TgZ(21,"svg",20),r._UZ(22,"path",21)(23,"polyline",22)(24,"line",23),r.qZA(),r._uU(25),r.ALo(26,"mytranslate"),r.qZA(),r.YNc(27,b,16,11,"ng-container",24),r.qZA()()),2&k){const q=r.MAs(16);r.s9C("matTooltip",r.lcZ(1,10,"lang_auto_quet_hoac_tai_ma_qr_code")),r.Q6J("matMenuTriggerFor",q),r.xp6(17),r.Q6J("ngClass",r.VKq(14,v,Z.showLink)),r.xp6(2),r.Q6J("allowEmptyString",!0)("qrdata",Z.linkUrl)("elementType","url")("width",128)("errorCorrectionLevel","M"),r.xp6(6),r.hij(" ",r.lcZ(26,12,"lang_auto_tai_ve_may")," "),r.xp6(2),r.Q6J("ngIf",Z.showLink)}},dependencies:[w.mk,w.O5,_.i3,P.VK,P.p6,x.gM,T.V,d.JV],encapsulation:2}),g})()},89812:(nt,z,s)=>{s.d(z,{Q:()=>x});var l=s(65879),r=s(47496),w=s(56223),_=s(7827);const P=["*"];let x=(()=>{class T extends r.Q{constructor(){super(...arguments),this.emitFiles=new l.vpe,this.selectFile=b=>{let g=b.target.files;try{this.emitFiles.emit(g)}catch(C){alert(C)}b.target.setAttribute("value","")}}onDrop(b){try{this.emitFiles.emit(b)}catch(v){alert(v)}}}return T.\u0275fac=function(){let d;return function(v){return(d||(d=l.n5z(T)))(v||T)}}(),T.\u0275cmp=l.Xpm({type:T,selectors:[["azt-upload-document-to-editor"]],inputs:{fileType:"fileType"},outputs:{emitFiles:"emitFiles"},features:[l.qOj],ngContentSelectors:P,decls:5,vars:2,consts:[[1,"upload-document","h-full",3,"appDropZone","click"],[3,"hidden"],["type","file","multiple","",1,"form-control","file-input",3,"accept","change"],["fileSelect",""]],template:function(b,v){if(1&b){const M=l.EpF();l.F$t(),l.TgZ(0,"div",0),l.NdJ("appDropZone",function(C){return v.onDrop(C)})("click",function(){l.CHM(M);const C=l.MAs(3);return l.KtG(C.click())}),l.TgZ(1,"form",1)(2,"input",2,3),l.NdJ("change",function(C){return v.selectFile(C)}),l.qZA()(),l.Hsn(4),l.qZA()}2&b&&(l.xp6(1),l.Q6J("hidden",!0),l.xp6(1),l.s9C("accept",v.fileType))},dependencies:[w._Y,w.JL,w.F,_.i],encapsulation:2}),T})()}}]);