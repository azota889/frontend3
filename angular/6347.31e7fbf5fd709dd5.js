"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[6347],{94767:(tn,Yt,b)=>{b.d(Yt,{y:()=>ni});var rt=b(52572),m=b(47496),e=b(65879),l=b(21266),x=b(78226),t=b(87789),xt=b(84003),Q=b(96814),o=b(43389),Ct=b(93283),_t=b(6585),jt=b(15828),dt=b(86),yt=b(61713),ht=b(2783),ft=b(82228),vt=b(95273),bt=b(77988),et=b(92596),S=b(93523),B=b(71646),at=b(8524),ut=b(37722),lt=b(98140),Dt=b(29023),pt=b(56223),ne=b(73445),oe=b(23680),Rt=b(44683),Te=b(13217);class Oe{static addNewEducationalProgramFormValidator(L){let p=L,v=p.controls.weekdayConfig;if(!v.length)return p.setErrors(null),null;let O=0,M=0;return v.controls.forEach(U=>{let R=!1,mt={invalidTime:!1,requireTime:!1,invalidInfrastructure:!1,identityRevealed:!0};U.controls.selected.value?(U.controls.infrastructureId.value||(R=!0,mt.invalidInfrastructure=!0),U.controls.startTime.value&&U.controls.endTime.value?new Date("1970-01-01T"+U.controls.startTime.value).getTime()>=new Date("1970-01-01T"+U.controls.endTime.value).getTime()?(R=!0,mt.invalidTime=!0):mt.invalidTime=!1:(R=!0,mt.requireTime=!0),U.setErrors(R?mt:null),M++):U.setErrors(null),U.invalid&&O++},v),O||!M?(p.setErrors({invalidData:!0}),{identityRevealed:!0,invalidData:!0}):(p.setErrors(null),null)}}var De=b(20553),Ee=b(98603),ve=b(87325),fe=b(32296),xe=b(2032),_e=b(64170),Pe=b(98525),Ze=b(30292),en=b(67679),Ue=b(95545),ie=b(36727);const Ae=["startTime"];function de(f,L){1&f&&e._UZ(0,"azt-loading-effect",4)}function ze(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(p);const O=e.oxw(2);return e.KtG(O.saveEducationalProgramEmit.emit(!1))}),e.O4$(),e.TgZ(1,"svg",43),e._UZ(2,"polyline",44),e.qZA(),e.kcU(),e.TgZ(3,"span",45),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}if(2&f){const p=e.oxw(2);e.Q6J("disabled",p.isSavingProgram),e.xp6(4),e.Oqu(e.lcZ(5,2,"lang_auto_huy"))}}function Se(f,L){1&f&&e._UZ(0,"lucide-icon",50)}function nn(f,L){1&f&&e._UZ(0,"lucide-icon",51)}function Fe(f,L){1&f&&e._UZ(0,"lucide-icon",59)}const Wt=function(f){return{"border border-primary":f}};function Je(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",55)(1,"div",56),e.NdJ("click",function(){const M=e.CHM(p).$implicit,U=e.oxw().$implicit,R=e.oxw(2).$implicit,mt=e.oxw(2);let Tt;return e.KtG(mt.selectSubject(null!==(Tt=R.id)&&void 0!==Tt?Tt:0,null!==(Tt=U.id)&&void 0!==Tt?Tt:0,M))}),e.TgZ(2,"span",57),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.YNc(5,Fe,1,0,"lucide-icon",58),e.qZA()()}if(2&f){const p=L.$implicit;e.Q6J("ngClass",e.VKq(5,Wt,p.selected)),e.xp6(3),e.Oqu(e.lcZ(4,3,p.name)),e.xp6(2),e.Q6J("ngIf",p.selected)}}function on(f,L){if(1&f&&(e.ynx(0),e.TgZ(1,"h3",52)(2,"span",53),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.YNc(5,Je,6,7,"div",54),e.BQk()),2&f){const p=L.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,2,p.name)," "),e.xp6(2),e.Q6J("ngForOf",p.children)}}function qe(f,L){if(1&f&&(e.ynx(0),e.YNc(1,on,6,4,"ng-container",18),e.BQk()),2&f){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",p.subjects)}}function Qe(f,L){if(1&f){const p=e.EpF();e.ynx(0),e.TgZ(1,"h3",46)(2,"span",47),e.NdJ("click",function(){const M=e.CHM(p).$implicit,U=e.oxw(2);let R;return e.KtG(U.showEducationalProgramSubject(null!==(R=M.id)&&void 0!==R?R:0))}),e._uU(3),e.ALo(4,"mytranslate"),e.YNc(5,Se,1,0,"lucide-icon",48),e.YNc(6,nn,1,0,"lucide-icon",49),e.qZA()(),e.YNc(7,qe,2,1,"ng-container",19),e.BQk()}if(2&f){const p=L.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,4,p.name)," "),e.xp6(2),e.Q6J("ngIf",p.showChild),e.xp6(1),e.Q6J("ngIf",!p.showChild),e.xp6(1),e.Q6J("ngIf",p.showChild)}}function an(f,L){1&f&&(e.ynx(0),e.TgZ(1,"small",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&f&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_validate"),""))}function sn(f,L){1&f&&(e.ynx(0),e.TgZ(1,"small",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&f&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_no_program_yet"),""))}function ue(f,L){if(1&f){const p=e.EpF();e.ynx(0),e.TgZ(1,"div",62),e.NdJ("click",function(){e.CHM(p);const O=e.oxw().$implicit,M=e.oxw(2);return e.KtG(M.openWeekdayConfig(O.controls.id.value))}),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.BQk()}if(2&f){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("formGroup",p),e.xp6(2),e.Oqu(e.lcZ(4,2,p.controls.name.value))}}function K(f,L){1&f&&(e.TgZ(0,"button",83),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_huy")))}function Ce(f,L){1&f&&(e.TgZ(0,"button",84),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_xac_nhan")))}function Ie(f,L){1&f&&e._UZ(0,"p",85)}function Xt(f,L){1&f&&(e.TgZ(0,"mat-label"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_business_config_educational_program_select_infrastructure")," "))}function Nt(f,L){if(1&f&&(e.TgZ(0,"mat-option",86),e._uU(1),e.qZA()),2&f){const p=L.$implicit;e.s9C("value",p.id),e.xp6(1),e.Oqu(p.name)}}function ke(f,L){1&f&&(e.ynx(0),e.TgZ(1,"small",87),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&f&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_time_validate"),""))}function Bt(f,L){1&f&&(e.ynx(0),e.TgZ(1,"small",87),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&f&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_testbank_test_config_end_time_bigger_time_star"),""))}function we(f,L){1&f&&(e.ynx(0),e._UZ(1,"br"),e.TgZ(2,"small",88),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.BQk()),2&f&&(e.xp6(3),e.hij("* ",e.lcZ(4,1,"lang_business_config_educational_program_infrastructure_validate"),""))}function rn(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",63)(1,"div",64)(2,"span",65),e.NdJ("click",function(){e.CHM(p);const O=e.oxw().$implicit,M=e.oxw(2);return e.KtG(M.openWeekdayConfig(O.controls.id.value))}),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"lucide-icon",66),e.NdJ("click",function(){e.CHM(p);const O=e.oxw().$implicit,M=e.oxw(2);return e.KtG(M.openWeekdayConfig(O.controls.id.value))}),e.qZA(),e.TgZ(6,"div",67)(7,"div",68)(8,"div",69),e._UZ(9,"input",70),e.ALo(10,"mytranslate"),e._UZ(11,"ngx-mat-timepicker",71,72),e.qZA(),e.TgZ(13,"span",73),e._uU(14,"\xa0-\xa0"),e.qZA(),e.TgZ(15,"div",69),e._UZ(16,"input",74),e.ALo(17,"mytranslate"),e._UZ(18,"ngx-mat-timepicker",71,75),e.qZA(),e.YNc(20,K,3,3,"ng-template",null,76,e.W1O),e.YNc(22,Ce,3,3,"ng-template",null,77,e.W1O),e.YNc(24,Ie,1,0,"ng-template",null,78,e.W1O),e.TgZ(26,"lucide-icon",79),e.NdJ("click",function(){e.CHM(p);const O=e.oxw().$implicit,M=e.oxw(2);return e.KtG(M.openWeekdayConfig(O.controls.id.value))}),e.qZA()(),e.TgZ(27,"mat-form-field",80),e.YNc(28,Xt,3,3,"mat-label",19),e.TgZ(29,"mat-select",81),e.NdJ("openedChange",function(O){e.CHM(p);const M=e.oxw().$implicit,U=e.oxw(2);return e.KtG(U.touchedMatSelect(O,M))}),e.YNc(30,Nt,2,2,"mat-option",82),e.qZA()(),e.YNc(31,ke,4,3,"ng-container",19),e.YNc(32,Bt,4,3,"ng-container",19),e.YNc(33,we,5,3,"ng-container",19),e.qZA()()()}if(2&f){const p=e.MAs(12),v=e.MAs(19),O=e.MAs(21),M=e.MAs(23),U=e.MAs(25),R=e.oxw().$implicit,mt=e.oxw(2);e.Q6J("formGroup",R)("ngClass",e.VKq(29,Wt,R.controls.selected.value)),e.xp6(3),e.Oqu(e.lcZ(4,23,R.controls.name.value)),e.xp6(6),e.s9C("placeholder",e.lcZ(10,25,"lang_auto_tu")),e.Q6J("ngxMatTimepicker",p)("format",24),e.xp6(2),e.Q6J("editableHintTmpl",U)("enableKeyboardInput",!0)("cancelBtnTmpl",O)("confirmBtnTmpl",M),e.xp6(5),e.s9C("placeholder",e.lcZ(17,27,"lang_auto_den")),e.Q6J("ngxMatTimepicker",v)("format",24),e.xp6(2),e.Q6J("editableHintTmpl",U)("enableKeyboardInput",!0)("cancelBtnTmpl",O)("confirmBtnTmpl",M),e.xp6(10),e.Q6J("ngIf",R.errors&&R.errors.invalidInfrastructure&&!R.controls.infrastructureId.touched),e.xp6(1),e.Q6J("value",R.controls.infrastructureId.value),e.xp6(1),e.Q6J("ngForOf",mt.listInfrastructureObjs),e.xp6(1),e.Q6J("ngIf",R.errors&&R.errors.requireTime),e.xp6(1),e.Q6J("ngIf",R.errors&&R.errors.invalidTime),e.xp6(1),e.Q6J("ngIf",R.errors&&R.errors.invalidInfrastructure)}}function Ye(f,L){if(1&f&&(e.ynx(0),e.YNc(1,ue,5,4,"ng-container",19),e.YNc(2,rn,34,31,"div",61),e.BQk()),2&f){const p=L.$implicit;e.xp6(1),e.Q6J("ngIf",!p.controls.selected.value),e.xp6(1),e.Q6J("ngIf",p.controls.selected.value)}}function Be(f,L){1&f&&(e.ynx(0),e.TgZ(1,"small",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&f&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_start_time_validate"),""))}function Zt(f,L){1&f&&(e.TgZ(0,"span",35),e._UZ(1,"azt-loading-ui"),e.qZA())}function E(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",89)(1,"button",90),e.NdJ("click",function(){e.CHM(p);const O=e.oxw(2);return e.KtG(O.saveEducationalProgram())}),e.YNc(2,Zt,2,0,"span",91),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()}if(2&f){const p=e.oxw(2);e.xp6(1),e.Q6J("disabled",p.form.invalid||p.isSavingProgram),e.xp6(1),e.Q6J("ngIf",p.isSavingProgram),e.xp6(1),e.hij(" ",e.lcZ(4,3,"lang_auto_luu")," ")}}const nt=function(f){return{"mt-2":f}},j=function(){return{"width.px":"auto","height.%":100}},P=function(f){return[f]},ct=function(f){return{backTo:f}},I=function(f,L){return{hiddenVisible:f,visibleIpt:L}};function X(f,L){if(1&f){const p=e.EpF();e.YNc(0,ze,6,4,"button",5),e.TgZ(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"h3",11),e._uU(7,"1"),e.qZA()(),e.TgZ(8,"span",12),e._uU(9),e.ALo(10,"mytranslate"),e.qZA(),e.TgZ(11,"lucide-icon",13),e.NdJ("click",function(){e.CHM(p);const O=e.oxw();return e.KtG(O.reloadAllEducationalProgram())}),e.qZA()(),e.TgZ(12,"div",14)(13,"div",15)(14,"ng-scrollbar",16)(15,"div",17),e.YNc(16,Qe,8,6,"ng-container",18),e.YNc(17,an,4,3,"ng-container",19),e.YNc(18,sn,4,3,"ng-container",19),e.qZA()()(),e.TgZ(19,"div",17)(20,"a",20),e.ALo(21,"navigationLocalize"),e.O4$(),e.TgZ(22,"svg",21),e._UZ(23,"line",22)(24,"line",23),e.qZA(),e.kcU(),e.TgZ(25,"span",24),e._uU(26),e.ALo(27,"mytranslate"),e.qZA()()()()(),e.TgZ(28,"div",8)(29,"div",9)(30,"div",10)(31,"h3",11),e._uU(32,"2"),e.qZA()(),e.TgZ(33,"span",25),e._uU(34),e.ALo(35,"mytranslate"),e.qZA()(),e.TgZ(36,"div",26)(37,"div",27)(38,"ng-scrollbar",16)(39,"div",28),e.YNc(40,Ye,3,2,"ng-container",18),e.qZA()()()()(),e.TgZ(41,"div",8)(42,"div",9)(43,"div",10)(44,"h3",11),e._uU(45,"3"),e.qZA()(),e.TgZ(46,"span",25),e._uU(47),e.ALo(48,"mytranslate"),e.qZA()(),e.TgZ(49,"div",29)(50,"div",30)(51,"ng-scrollbar",16)(52,"div",31)(53,"mat-form-field",32)(54,"input",33),e.NdJ("click",function(){e.CHM(p);const O=e.oxw();return e.KtG(O.openDateTimePicker(1))}),e.qZA(),e.TgZ(55,"button",34),e.NdJ("click",function(O){return e.CHM(p),e.oxw().openDateTimePicker(1),e.KtG(O.stopPropagation())}),e.TgZ(56,"span",35),e._UZ(57,"lucide-icon",36),e.qZA()(),e.TgZ(58,"ngx-mat-datetime-picker",37,38)(60,"ngx-mat-datepicker-actions")(61,"button",39),e._uU(62),e.ALo(63,"mytranslate"),e.qZA(),e.TgZ(64,"button",40),e._uU(65,"OK"),e.qZA()()()(),e.YNc(66,Be,4,3,"ng-container",19),e.qZA()()(),e.YNc(67,E,5,5,"div",41),e.qZA()()()()}if(2&f){const p=e.MAs(59),v=e.oxw();e.Q6J("ngIf",v.programObj),e.xp6(2),e.Q6J("ngClass",e.VKq(39,nt,v.programObj)),e.xp6(7),e.Oqu(e.lcZ(10,27,"lang_config_educational_program_select_new")),e.xp6(5),e.Q6J("visibility","hover")("ngStyle",e.DdM(41,j)),e.xp6(2),e.Q6J("ngForOf",v.listEducationalProgramObjs),e.xp6(1),e.Q6J("ngIf",!v.form.controls.chooseProgramId.value&&v.listEducationalProgramObjs.length>0),e.xp6(1),e.Q6J("ngIf",!v.listEducationalProgramObjs.length),e.xp6(2),e.Q6J("routerLink",e.VKq(42,P,e.lcZ(21,29,"/business/create-general-educational-program")))("queryParams",e.VKq(44,ct,v.currentURL)),e.xp6(6),e.Oqu(e.lcZ(27,31,"lang_config_educational_program_add_new")),e.xp6(8),e.Oqu(e.lcZ(35,33,"lang_config_educational_program_add_time")),e.xp6(3),e.Q6J("ngClass",e.WLB(46,I,v.form.controls.stepChoose.value<2,v.form.controls.stepChoose.value>=2)),e.xp6(1),e.Q6J("visibility","hover")("ngStyle",e.DdM(49,j)),e.xp6(2),e.Q6J("ngForOf",v.form.controls.weekdayConfig.controls),e.xp6(7),e.Oqu(e.lcZ(48,35,"lang_config_educational_program_add_start_time")),e.xp6(3),e.Q6J("ngClass",e.WLB(50,I,v.form.controls.stepChoose.value<3,v.form.controls.stepChoose.value>=3)),e.xp6(1),e.Q6J("visibility","hover")("ngStyle",e.DdM(53,j)),e.xp6(3),e.Q6J("max",v.maxDate)("ngxMatDatetimePicker",p),e.xp6(4),e.Q6J("touchUi",!0)("hideTime",!0),e.xp6(4),e.Oqu(e.lcZ(63,37,"lang_auto_dong")),e.xp6(4),e.Q6J("ngIf",v.form.controls.startTimeEducationalProgram.invalid),e.xp6(1),e.Q6J("ngIf",!v.statusObj.loading)}}let w=(()=>{class f extends m.Q{openDateTimePicker(p){1==p&&this.startTime&&this.startTime.open()}showEducationalProgramSubject(p){this.listEducationalProgramObjs.forEach(v=>{v.id==p&&(v.showChild=!v.showChild,v.showChild||v.subjects.forEach(O=>{O.children?.find(M=>M.id==this.form.controls.chooseProgramId.value)&&(this.form.controls.stepChoose.setValue(1),this.form.controls.chooseProgramId.setValue(0))}))}),this.initForm()}selectSubject(p,v,O){this.listEducationalProgramObjs.forEach(M=>{M.id==p?M.subjects.forEach(U=>{U.id==v?U.children?.forEach(R=>{R.id==O.id?(R.selected=!R.selected,this.form.controls.chooseProgramId.setValue(R.selected?O.id:0),this.form.controls.stepChoose.setValue(R.selected?2:1)):R.selected=!1}):U.children?.map(R=>R.selected=!1)}):M.subjects.map(U=>U.children?.map(R=>R.selected=!1))})}reloadAllEducationalProgram(){this.initForm(),this.initData()}openWeekdayConfig(p){this.form.controls.weekdayConfig.controls.forEach(v=>{v.controls.id.value==p&&v.controls.selected.setValue(!v.controls.selected.value)})}touchedMatSelect(p,v){p?v.controls.infrastructureId.markAsTouched():v.controls.infrastructureId.markAsUntouched()}saveEducationalProgram(){this.isSavingProgram=!0;let p={programId:this.form.controls.chooseProgramId.value,studyingTimes:this.convertStudyTimes(),startTime:this.timeService.formatDateTimeToPostToServer(this.form.controls.startTimeEducationalProgram.value)};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdProgramsPost(this.classroomId,p).subscribe({next:v=>{this.showSuccessSnack("lang_educational_program_save_success_educational_program"),this.isSavingProgram=!1,this.saveEducationalProgramEmit.emit(!0)},error:v=>{this.isSavingProgram=!1,this.errorStatusObj(v.error.message,!0)}}))}convertStudyTimes(){let p=[];return this.form.controls.weekdayConfig.controls.forEach(v=>{if(v.controls.selected.value){let O={days:v.controls.id.value,fromHour:new Date("1970-01-01T"+v.controls.startTime.value).getHours(),fromMinute:new Date("1970-01-01T"+v.controls.startTime.value).getMinutes(),toHour:new Date("1970-01-01T"+v.controls.endTime.value).getHours(),toMinute:new Date("1970-01-01T"+v.controls.endTime.value).getMinutes(),roomId:v.controls.infrastructureId.value};p.push(O)}}),p}convertSubjectList(p,v){let O=[];return p.forEach(M=>{if(M.schoolLevelId==v)if(O.filter(R=>R.id==M.schoolSubjectId&&R.levelId==M.schoolLevelId).length)O.forEach(R=>{R.id==M.schoolSubjectId&&R.levelId==M.schoolLevelId&&(R.children?.find(mt=>mt==M)||R.children?.push(M))});else{let R={id:M.schoolSubjectId,levelId:M.schoolLevelId,name:this.schoolSubjectObjs.find(mt=>mt.id==M.schoolSubjectId)?.name,children:[M]};O.push(R)}}),O}convertProgramInfo(p){let v=[],O=this.sAZTranslateService.myTranslateInstant("lang_auto_lop")??"L\u1edbp",M=this.sAZTranslateService.myTranslateInstant("lang_core_buoi")??"Bu\u1ed5i";return p.forEach(U=>{if(U.name=`${U.name} (${U.totalSession} ${M})`,!v.filter(mt=>mt.id==U.schoolLevelId).length){let mt={id:U.schoolLevelId,name:O+" "+U.schoolLevelId,subjects:this.convertSubjectList(p,U.schoolLevelId),showChild:!1};v.push(mt)}}),v.sort((U,R)=>(R.id??0)-(U.id??0))}convertListInfrastructure(p){let v=[],O=this.commonService.myTranslateInstant("lang_infrastructure_seat")??"";return p.forEach(M=>{M.name=`${M.infrastructure?.name??""} - ${M.name} (${M.numberSeat} ${O})`,v.push(M)}),v}getAllInfrastructure(){this.waitDestroy(this.infrastructureService.apiInfrastructuresRoomsGet().subscribe({next:p=>{this.listInfrastructureObjs=this.convertListInfrastructure(p.list),this.stopStatusObj()},error:p=>{this.errorStatusObj(p.error.message,!0)}}))}initForm(){this.form.controls.chooseProgramId.setValue(0),this.form.controls.startTimeEducationalProgram.setValue(""),this.form.controls.weekdayConfig.clear();for(let p=0;p<7;p++){let v=new pt.cw({id:new pt.NI(p,{nonNullable:!0}),name:new pt.NI("lang_config_educational_program_day_"+p,{nonNullable:!0}),startTime:new pt.NI("",{nonNullable:!0}),endTime:new pt.NI("",{nonNullable:!0}),infrastructureId:new pt.NI(0,{nonNullable:!0}),selected:new pt.NI(!1,{nonNullable:!0}),invalidTime:new pt.NI(!1,{nonNullable:!0})});this.form.controls.weekdayConfig.push(v)}}initData(){this.initStatusObj(),this.waitDestroy(this.programService.apiProgramsListPost({page:0,size:-1}).subscribe({next:p=>{this.listEducationalProgramObjs=this.convertProgramInfo(p.list),this.getAllInfrastructure()},error:p=>{this.errorStatusObj(p.error.message,!0)}}))}getSubjectObjs(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(p=>{1==p.success?(this.schoolSubjectObjs=this.commonService.concatMultipleArray(p.data?.schoolLevelSubjectObjs.map(v=>v.schoolSubjectObjs)??[]),this.initData()):(this.errorStatusObj(p.message??""),this.initData())}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard",this.getSubjectObjs()}ngAfterViewChecked(){this.form.controls.weekdayConfig.controls.filter(v=>v.controls.selected).length?2==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(3):3==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(2),this.cd.detectChanges()}ngDoCheck(){this.cd.detectChanges()}constructor(p,v,O,M,U,R,mt){super(),this.cd=p,this.timeService=v,this.classroomService=O,this.programService=M,this.infrastructureService=U,this.sAZTranslateService=R,this.commonListService=mt,this.saveEducationalProgramEmit=new e.vpe,this.backLink="",this.currentURL=this.commonService.getCurrentUrlWithoutLocale(),this.listEducationalProgramObjs=[],this.listInfrastructureObjs=[],this.maxDate=De.N.maxDateTimePicker,this.curStep=1,this.isSavingProgram=!1,this.schoolSubjectObjs=[],this.form=new pt.cw({chooseProgramId:new pt.NI(0,{nonNullable:!0,validators:[pt.kI.required,pt.kI.min(1)]}),startTimeEducationalProgram:new pt.NI("",{nonNullable:!0,validators:[pt.kI.required]}),weekdayConfig:new pt.Oe([]),stepChoose:new pt.NI(1,{nonNullable:!0})},{validators:[Oe.addNewEducationalProgramFormValidator]}),this.initForm()}}return f.\u0275fac=function(p){return new(p||f)(e.Y36(e.sBO),e.Y36(xt.D),e.Y36(t.um),e.Y36(t.Zm),e.Y36(t.wp),e.Y36(Ee.W),e.Y36(ve.o7))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-add-new-educational-program"]],viewQuery:function(p,v){if(1&p&&e.Gf(Ae,5),2&p){let O;e.iGM(O=e.CRH())&&(v.startTime=O.first)}},inputs:{classroomId:"classroomId",programObj:"programObj"},outputs:{saveEducationalProgramEmit:"saveEducationalProgramEmit"},features:[e._Bn([{provide:Dt.fM,useClass:Rt.WG,deps:[oe.Ad,ne.o8]},{provide:Dt.ab,useFactory:Te.tF,deps:[xt.D]}]),e.qOj],decls:5,vars:3,consts:[[1,"mx-auto","mt-3","pb-2"],[3,"formGroup"],["class","block pb-5",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"block","pb-5"],["azt-track-service","add-new-educational-program-V_itz7ADg","class","btn btn-transparent",3,"disabled","click",4,"ngIf"],[1,"box","px-4","pt-5"],[1,"grid","grid-cols-12",3,"ngClass"],[1,"col-span-12","md:col-span-4"],[1,"flex","px-2","pb-3","items-center"],[1,"bg-info","text-white","h-8","w-8","text-center",2,"border-radius","50%"],[1,"font-bold","text-xl"],[1,"ml-2",2,"vertical-align","middle","font-weight","420","word-break","break-all"],["name","refresh-ccw",1,"ml-2","clickable",2,"vertical-align","baseline !important","width","18px !important","height","18px !important",3,"click"],[1,"border","border-slate-300",2,"border-bottom","0","border-left","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto"],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"],[2,"padding-right","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],["azt-track-service","add-new-educational-programs-eY0H_Hziew",1,"btn","btn-sm","btn-primary","shadow-md","w-full","block","mx-auto","mt-3","mb-3",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-6","mr-2"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[2,"vertical-align","middle","font-size","14px !important"],[1,"ml-2",2,"vertical-align","middle","font-weight","420"],[1,"border","border-slate-300",2,"height","100%","border-bottom","0","border-left","0","border-right","0"],["formArrayName","weekdayConfig",1,"mt-2","pb-2",2,"height","calc(100vh - 205px)","overflow-y","auto",3,"ngClass"],[2,"padding-right","1rem","padding-left","1rem"],[1,"border","border-slate-300",2,"border-bottom","0","border-right","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],[1,"mt-2",2,"padding-left","1rem","padding-right","1rem"],["appearance","outline"],["matInput","","formControlName","startTimeEducationalProgram","readonly","",3,"max","ngxMatDatetimePicker","click"],["matSuffix","",2,"font-size","18px",3,"click"],[1,"w-4","h-4","inline-block"],["name","calendar-clock"],[3,"touchUi","hideTime"],["startTime",""],["mat-raised-button","","color","secondary","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["class","text-right mt-3 mb-3",4,"ngIf"],["azt-track-service","add-new-educational-program-V_itz7ADg",1,"btn","btn-transparent",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[1,"azt-hidden","sm:block"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-right","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-down",2,"width","18px !important","height","18px !important","vertical-align","top"],["name","chevron-right",2,"width","18px !important","height","18px !important","vertical-align","top"],[1,"flex","mt-1","ml-2",2,"font-weight","420","font-size","15px"],[1,"clickable",2,"align-items","center"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 clickable",3,"ngClass",4,"ngFor","ngForOf"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable",3,"ngClass"],["azt-track-service","add-new-educational-programs-bahN75vF_Q",1,"flex","w-full","justify-between",3,"click"],[2,"vertical-align","middle","text-align","left"],["name","check-square","class","text-primary","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","check-square",1,"text-primary",2,"width","18px !important","height","18px !important","vertical-align","top"],[1,"text-danger","mt-3","float-left","text-left"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 text-left relative",3,"formGroup","ngClass",4,"ngIf"],["azt-track-service","add-new-educational-programs-FanOWsky0S",1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable","text-left",3,"formGroup","click"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","text-left","relative",3,"formGroup","ngClass"],[1,"flex","justify-between","flex-wrap"],["azt-track-service","add-new-educational-programs-UqgywYmnzK",1,"clickable",3,"click"],["name","check-square",1,"text-primary","ml-2","clickable","change-block-hidden",2,"width","18px !important","height","18px !important","vertical-align","top",3,"click"],[1,"block","md:ml-2","w-full"],[1,"flex","justify-between",2,"align-items","center"],[2,"width","100%","height","38px","align-items","center"],["type","text","formControlName","startTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],[3,"editableHintTmpl","enableKeyboardInput","cancelBtnTmpl","confirmBtnTmpl"],["timeStartPicker",""],[1,"text-center",2,"vertical-align","middle","align-self","center"],["type","text","formControlName","endTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],["timeEndPicker",""],["cancelBtn",""],["confirmBtn",""],["dialHint",""],["name","check-square",1,"text-primary","ml-2","clickable","hiddenIpt","md:inlineBlockIpt",2,"width","18px !important","height","18px !important","vertical-align","top",3,"click"],["appearance","outline",1,"mt-2","bg-white","rounded"],["formControlName","infrastructureId",3,"value","openedChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","secondary",2,"margin-right","10px"],["mat-raised-button","","color","primary"],[1,"small"],[3,"value"],[1,"text-danger","mt-2"],[1,"text-danger","mt-1"],[1,"text-right","mt-3","mb-3"],["azt-track-service","add-new-educational-programs-R3hLoR84Ua",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block",4,"ngIf"]],template:function(p,v){if(1&p&&(e.TgZ(0,"div",0)(1,"form",1),e.YNc(2,de,1,0,"azt-loading-effect",2),e.YNc(3,X,68,54,"ng-template",null,3,e.W1O),e.qZA()()),2&p){const O=e.MAs(4);e.xp6(1),e.Q6J("formGroup",v.form),e.xp6(1),e.Q6J("ngIf",v.statusObj.loading)("ngIfElse",O)}},dependencies:[l.rH,Q.mk,Q.sg,Q.O5,Q.PC,oe.ey,fe.lW,xe.Nt,_e.KE,_e.hX,_e.R9,Pe.gD,Dt.rZ,Dt.T$,Dt.c_,Dt.dW,Dt.cL,Ze.ft,Ze.Bi,pt._Y,pt.Fj,pt.JJ,pt.JL,pt.sg,pt.u,pt.CE,o.l,en.M,B.n,ut.Nh5,Ue.KC,ie.Jy,ie.JV],encapsulation:2}),f})();function q(f,L){if(1&f&&(e.ynx(0),e.TgZ(1,"p",5),e._uU(2),e.qZA(),e.BQk()),2&f){const p=L.$implicit;e.xp6(2),e.hij("",p.content," ")}}function F(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){e.CHM(p);const O=e.oxw(2);return e.KtG(O.editContent())}),e.O4$(),e.TgZ(1,"svg",7),e._UZ(2,"path",8)(3,"path",9),e.qZA()()}}function st(f,L){if(1&f&&(e.TgZ(0,"div",2)(1,"div"),e.YNc(2,q,3,1,"ng-container",3),e.qZA(),e.YNc(3,F,4,0,"div",4),e.qZA()),2&f){const p=e.oxw();e.xp6(2),e.Q6J("ngForOf",p.contents),e.xp6(1),e.Q6J("ngIf",p.teacherRole)}}function At(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"button",22),e.ALo(1,"mytranslate"),e.O4$(),e.TgZ(2,"svg",23),e.NdJ("click",function(){e.CHM(p);const O=e.oxw().$implicit,M=e.oxw(2);return e.KtG(M.removeContent(O))}),e._UZ(3,"path",24)(4,"path",25),e.qZA()()}if(2&f){const p=e.oxw(3);e.s9C("matTooltip",e.lcZ(1,2,"lang_button_delete")),e.Q6J("disabled",p.statusObj.loading)}}function Ht(f,L){1&f&&(e.TgZ(0,"div",26)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&f&&(e.xp6(2),e.hij("*",e.lcZ(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function ae(f,L){if(1&f&&(e.TgZ(0,"div")(1,"div",18),e._UZ(2,"input",19),e.ALo(3,"mytranslate"),e.YNc(4,At,5,4,"button",20),e.qZA(),e.YNc(5,Ht,4,3,"div",21),e.qZA()),2&f){const p=L.$implicit,v=e.oxw(2);e.xp6(2),e.s9C("placeholder",e.lcZ(3,5,"lang_core_nhap_noi_dung_buoi_hoc")),e.Q6J("formControl",p.controls.content)("disabled",v.statusObj.loading),e.xp6(2),e.Q6J("ngIf",v.listFormContent.controls.length>1),e.xp6(1),e.Q6J("ngIf",p.controls.content.errors)}}function St(f,L){1&f&&e._UZ(0,"azt-loading-ui",27)}function te(f,L){1&f&&(e.O4$(),e.TgZ(0,"svg",28),e._UZ(1,"path",29)(2,"polyline",30)(3,"polyline",31),e.qZA())}const He=function(){return[]};function Pn(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",10),e.YNc(1,ae,6,7,"div",3),e.TgZ(2,"div",11)(3,"button",12),e.NdJ("click",function(){e.CHM(p);const O=e.oxw();return e.KtG(O.viewContent())}),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"button",13),e.NdJ("click",function(){e.CHM(p);const O=e.oxw();return e.KtG(O.addContent())}),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.TgZ(9,"button",14),e.NdJ("click",function(){e.CHM(p);const O=e.oxw();return e.KtG(O.saveContent())}),e.YNc(10,St,1,0,"azt-loading-ui",15),e.YNc(11,te,4,0,"svg",16),e.TgZ(12,"span",17),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()()()()}if(2&f){const p=e.oxw();let v;e.xp6(1),e.Q6J("ngForOf",null!==(v=null==p.listFormContent?null:p.listFormContent.controls)&&void 0!==v?v:e.DdM(15,He)),e.xp6(2),e.Q6J("disabled",p.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(5,9,"lang_button_cancel")," "),e.xp6(2),e.Q6J("disabled",p.statusObj.loading||p.isEmptyContent()),e.xp6(1),e.hij(" + ",e.lcZ(8,11,"lang_button_add")," "),e.xp6(2),e.Q6J("disabled",p.statusObj.loading||p.isEmptyContent()),e.xp6(1),e.Q6J("ngIf",p.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!p.statusObj.loading),e.xp6(2),e.hij(" ",e.lcZ(14,13,"lang_button_save")," ")}}let se=(()=>{class f extends m.Q{isEmptyContent(){return!!this.listFormContent.controls.find(p=>p.controls.content.errors)}editContent(){this.listFormContent=new pt.Oe(this.contents.map(p=>new pt.cw({contentId:new pt.NI(p.id,{nonNullable:!0,validators:[pt.kI.required]}),content:new pt.NI(p.content,{nonNullable:!0,validators:[pt.kI.required]})})))}addContent(){var p=this.listFormContent.controls.map(v=>v.getRawValue().contentId);this.listFormContent.controls.push(new pt.cw({contentId:new pt.NI(this.commonService.getVirtualIdWithoutInList(!0,p),{nonNullable:!0,validators:[pt.kI.required]}),content:new pt.NI("",{nonNullable:!0,validators:[pt.kI.required]})}))}removeContent(p){this.listFormContent.controls=this.listFormContent.controls.filter(v=>v!=p)}viewContent(){this.listFormContent.clear()}saveContent(){this.initStatusObj();let p={contents:this.listFormContent?.controls.map(v=>({id:v.getRawValue().contentId<0?0:v.getRawValue().contentId,content:v.getRawValue().content}))??[]};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdPut(this.classroomId,this.sessionId,p).subscribe({next:v=>{this.showSuccessSnack("lang_auto_chinh_sua_thanh_cong"),this.close.emit(!0)},error:v=>{this.errorStatusObj(v.error.message,!0)}}))}ngOnInit(){super.ngOnInit()}constructor(p){super(),this.classroomService=p,this.contents=[],this.close=new e.vpe,this.listFormContent=new pt.Oe([])}}return f.\u0275fac=function(p){return new(p||f)(e.Y36(t.um))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-education-program-session-content-form"]],inputs:{teacherRole:"teacherRole",contents:"contents",classroomId:"classroomId",sessionId:"sessionId"},outputs:{close:"close"},features:[e._Bn([{provide:Dt.fM,useClass:Rt.WG,deps:[oe.Ad,ne.o8]},{provide:Dt.ab,useFactory:Te.tF,deps:[xt.D]}]),e.qOj],decls:2,vars:2,consts:[["class","flex justify-between items-center",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"flex","justify-between","items-center"],[4,"ngFor","ngForOf"],["azt-track-service","edit-content-session-clV7wEeRi","class","mr-2 ml-1",3,"click",4,"ngIf"],[1,"text-danger","font-medium"],["azt-track-service","edit-content-session-clV7wEeRi",1,"mr-2","ml-1",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil","zoom-in"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],[1,"mb-2"],[1,"mt-2","flex","justify-end"],["azt-track-service","edit-content-session-fb5Kcem4lN",1,"btn","btn-secondary","py-1",3,"disabled","click"],["azt-track-service","edit-content-session-LUmRlMXNo0",1,"btn","btn-info","py-1","ml-2",3,"disabled","click"],["azt-track-service","edit-content-session-u3EiKdwIT9",1,"btn","btn-primary","ml-2","py-1",3,"disabled","click"],["style","height: 16px; width: 16px;",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-save",4,"ngIf"],[1,"ml-2"],[1,"flex","items-center"],["type","text",1,"form-control","mt-2","mb-2",3,"formControl","disabled","placeholder"],["class","btn btn-light ml-2 px-2",3,"matTooltip","disabled",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],[1,"btn","btn-light","ml-2","px-2",3,"matTooltip","disabled"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","btn-clear-form-content",3,"click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],[2,"height","16px","width","16px"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-save"],["d","M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"],["points","17 21 17 13 7 13 7 21"],["points","7 3 7 8 15 8"]],template:function(p,v){1&p&&(e.YNc(0,st,4,2,"div",0),e.YNc(1,Pn,15,16,"div",1)),2&p&&(e.Q6J("ngIf",0==v.listFormContent.controls.length),e.xp6(1),e.Q6J("ngIf",v.listFormContent.controls.length>0))},dependencies:[Q.sg,Q.O5,et.gM,pt.Fj,pt.JJ,pt.oH,B.n,ie.JV],encapsulation:2}),f})();function Un(f,L){if(1&f&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f){const p=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,p.errorApiMessage)," ")}}function Z(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"app-add-new-educational-program",6),e.NdJ("saveEducationalProgramEmit",function(O){e.CHM(p);const M=e.oxw(2);return e.KtG(M.emitDataReloadSession(O))}),e.qZA()}if(2&f){const p=e.oxw(2);e.Q6J("classroomId",p.classroomId)("programObj",p.programObj)}}function G(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(p);const O=e.oxw(3);return e.KtG(O.addNewEducationalProgram())}),e._UZ(1,"lucide-icon",13),e.TgZ(2,"span",14),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()}2&f&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"lang_educational_program_select_another")))}function C(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",17)(1,"a",18),e.NdJ("auxclick",function(O){const U=e.CHM(p).$implicit,R=e.oxw(4);return e.KtG(R.previewFile(U,O))})("click",function(O){const U=e.CHM(p).$implicit,R=e.oxw(4);return e.KtG(R.previewFile(U,O))}),e._UZ(2,"azt-document-type-file",19),e.qZA()()}if(2&f){const p=L.$implicit;let v;e.xp6(2),e.Q6J("type",p.documentType)("name",null!==(v=p.name)&&void 0!==v?v:"")("url",p.link)("iconVerticalStyle","baseline")("customClass","w-6 h-6")}}function y(f,L){if(1&f&&(e.ynx(0),e.TgZ(1,"div",15),e.YNc(2,C,3,5,"div",16),e.qZA(),e.BQk()),2&f){const p=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",p.generalDocumentObjs)}}function z(f,L){1&f&&e._UZ(0,"lucide-icon",24)}function kt(f,L){1&f&&e._UZ(0,"lucide-icon",25)}function re(f,L){1&f&&(e.TgZ(0,"button",34),e._UZ(1,"lucide-icon",35),e.TgZ(2,"span",14),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()),2&f&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"lang_student_absence")))}function zn(f,L){1&f&&(e.TgZ(0,"button",36),e._UZ(1,"lucide-icon",35),e.qZA())}function Ge(f,L){if(1&f&&(e.TgZ(0,"div",31),e.YNc(1,re,5,3,"button",32),e.ALo(2,"async"),e.ALo(3,"allowFeatureBusinessForUser"),e.YNc(4,zn,2,0,"button",33),e.ALo(5,"async"),e.ALo(6,"allowFeatureBusinessForUser"),e.qZA()),2&f){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.lcZ(2,2,e.Dn7(3,4,"","training_center_student_attendance",!0))),e.xp6(3),e.Q6J("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.lcZ(5,8,e.Dn7(6,10,"","training_center_student_attendance",!0)))}}function lo(f,L){if(1&f&&(e.ynx(0),e.TgZ(1,"span",42),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&f){const p=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_test_market_address")+": "+(null==p.room.infrastructure?null:p.room.infrastructure.name)+" - "+p.room.name)}}const Mt=function(f){return{"text-slate-700":f}};function le(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",37),e.NdJ("click",function(){e.CHM(p);const O=e.oxw().$implicit,M=e.oxw(5);return e.KtG(M.expandSessionObj(O))}),e.TgZ(1,"div",38)(2,"h3",39)(3,"span",40),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"span",41),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,lo,4,3,"ng-container",5),e.qZA()()}if(2&f){const p=e.oxw().$implicit;e.xp6(3),e.Q6J("ngClass",e.VKq(8,Mt,p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(5,4,"lang_core_buoi")+" "+p.sort),e.xp6(3),e.Oqu(e.lcZ(8,6,"lang_config_educational_program_day_"+p.day)+", "+p.dateSession+" "+p.timeSession),e.xp6(2),e.Q6J("ngIf",p.room)}}function je(f,L){if(1&f&&(e.ynx(0),e.TgZ(1,"span",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&f){const p=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_test_market_address")+": "+(null==p.room.infrastructure?null:p.room.infrastructure.name)+" - "+p.room.name)}}const Ne=function(f,L){return{"text-slate-600":f,"text-warning":L}};function co(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",49)(1,"div",50)(2,"span",51),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.TgZ(5,"app-education-program-session-content-form",61),e.NdJ("close",function(O){e.CHM(p);const M=e.oxw(2).$implicit,U=e.oxw(5);return e.KtG(U.reloadData(O,M))}),e.qZA()()}if(2&f){const p=e.oxw(2).$implicit,v=e.oxw(5);e.xp6(2),e.Q6J("ngClass",e.WLB(8,Ne,p.outOfDate,!p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(4,6,"lang_auto_noi_dung")),e.xp6(2),e.Q6J("contents",p.contents)("teacherRole",v.teacherRole)("classroomId",v.classroomId)("sessionId",p.id)}}function mo(f,L){1&f&&(e.ynx(0),e.TgZ(1,"div",73),e._UZ(2,"img",74),e.ALo(3,"convertCdnLinkOfGitHub"),e.qZA(),e.BQk()),2&f&&(e.xp6(2),e.Q6J("src",e.lcZ(3,1,"images/type_file/unknown-file.svg"),e.LSH))}function _o(f,L){1&f&&(e.ynx(0),e.TgZ(1,"div",75),e._UZ(2,"lucide-icon",76),e.qZA(),e.BQk())}function Fn(f,L){1&f&&(e.ynx(0),e.TgZ(1,"div",77),e._UZ(2,"lucide-icon",78),e.qZA(),e.BQk())}function pe(f,L){if(1&f&&(e.TgZ(0,"small",79),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f){const p=e.oxw().$implicit;e.xp6(1),e.lnq(" ",e.lcZ(2,3,"lang_auto_da_nop"),":\xa0",p.totalFinish,"/",p.totalAttendee," ")}}const qt=function(f,L){return{"text-success":f,"text-slate-700/50":L}};function Ve(f,L){if(1&f&&(e.TgZ(0,"small",80),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f){const p=e.oxw().$implicit;e.Q6J("ngClass",e.WLB(4,qt,p.totalFinish,!p.totalFinish)),e.xp6(1),e.hij(" ",e.lcZ(2,2,p.totalFinish?"lang_auto_da_nop":"lang_auto_chua_nop")," ")}}function ln(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"small",81),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"button",82),e.NdJ("click",function(O){e.CHM(p);const M=e.oxw().$implicit,U=e.oxw(2).$implicit;return e.oxw(5).editMarkCoefficient(M,U),O.stopPropagation(),e.KtG(O.preventDefault())}),e.ALo(4,"mytranslate"),e.O4$(),e.TgZ(5,"svg",83),e._UZ(6,"path",84)(7,"path",85),e.qZA()()()}if(2&f){const p=e.oxw().$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,3,"lang_student_score_factor"),":\xa0",p.markCoefficient," "),e.xp6(2),e.s9C("matTooltip",e.lcZ(4,5,"lang_student_edit_mark_coefficient"))}}const cn=function(f){return[f]},pn=function(f){return{backto:f}};function gn(f,L){if(1&f&&(e.TgZ(0,"div",62)(1,"a",63),e.ALo(2,"navigationLocalize"),e.TgZ(3,"div",64)(4,"div",65),e.YNc(5,mo,4,3,"ng-container",5),e.YNc(6,_o,3,0,"ng-container",5),e.YNc(7,Fn,3,0,"ng-container",5),e.qZA(),e.TgZ(8,"div",66)(9,"div",67)(10,"span",68,69),e._uU(12),e.qZA(),e.YNc(13,pe,3,5,"small",70),e.YNc(14,Ve,3,7,"small",71),e.YNc(15,ln,8,7,"small",72),e.qZA()()()()()),2&f){const p=L.$implicit,v=e.MAs(11),O=e.oxw(7);let M;e.xp6(1),e.Q6J("routerLink",e.VKq(14,cn,e.lcZ(2,12,p.documentType==O.allDocumentTypes.exam?O.teacherRole?"/admin/testbank/exam-results-list/"+(null!==(M=p.categoryId)&&void 0!==M?M:0)+"/"+p.refId+"/0":"/de-thi/"+p.hashId:O.teacherRole?"/admin/testbank/homework-results-list/"+(null!==(M=p.classroomId)&&void 0!==M?M:0)+"/"+p.refId+"/"+p.hashId:"/bai-tap/"+p.hashId)))("queryParams",e.VKq(16,pn,O.currentUrl)),e.xp6(4),e.Q6J("ngIf",!p.type),e.xp6(1),e.Q6J("ngIf","exam"==p.type),e.xp6(1),e.Q6J("ngIf","homework"==p.type),e.xp6(3),e.s9C("matTooltip",p.name),e.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",v.isDisabled),e.xp6(2),e.hij(" ",p.name," "),e.xp6(1),e.Q6J("ngIf",O.teacherRole),e.xp6(1),e.Q6J("ngIf",!O.teacherRole),e.xp6(1),e.Q6J("ngIf",O.teacherRole)}}const hn=function(f,L,p,v,O,M){return{backto:f,classroomId:L,programId:p,sessionId:v,levelId:O,subjectId:M}},ye=function(f,L){return{"text-slate-600":f,"btn-text-primary":L}};function fn(f,L){if(1&f&&(e.TgZ(0,"a",86),e.ALo(1,"navigationLocalize"),e.TgZ(2,"span",87),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()),2&f){const p=e.oxw(2).$implicit,v=e.oxw(5);let O;e.Q6J("routerLink",e.VKq(8,cn,e.lcZ(1,4,"/admin/testbank/create-new-document/0")))("queryParams",e.HTZ(10,hn,v.currentUrl,v.classroomId,p.programId,p.id,null!==(O=null==v.programObj?null:v.programObj.schoolLevelId)&&void 0!==O?O:0,null!==(O=null==v.programObj?null:v.programObj.schoolSubjectId)&&void 0!==O?O:0))("ngClass",e.WLB(17,ye,p.outOfDate,!p.outOfDate)),e.xp6(3),e.hij("+ ",e.lcZ(4,6,"lang_business_assign_exams"),"")}}function Gn(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",104)(1,"a",105),e.NdJ("click",function(O){e.CHM(p);const M=e.oxw(2).$implicit,U=e.oxw(3).$implicit,R=e.oxw(4).$implicit;let Tt;return e.oxw(5).removeDocumentFromSession(R,null!==(Tt=M.sessionId)&&void 0!==Tt?Tt:0,M.id,U),O.preventDefault(),e.KtG(O.stopPropagation())}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&f&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function mn(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"li")(1,"a",101),e.NdJ("auxclick",function(O){e.CHM(p);const M=e.oxw().$implicit,U=e.oxw(12);return e.KtG(U.previewFile(M,O))})("click",function(O){e.CHM(p);const M=e.oxw().$implicit,U=e.oxw(12);return e.KtG(U.previewFile(M,O))}),e._UZ(2,"azt-document-type-file",102),e.YNc(3,Gn,5,3,"div",103),e.qZA()()}if(2&f){const p=e.oxw().$implicit,v=e.oxw(12);let O;e.xp6(2),e.Q6J("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(O=p.name)&&void 0!==O?O:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",v.teacherRole)}}function uo(f,L){if(1&f&&(e.ynx(0),e.YNc(1,mn,4,10,"li",5),e.BQk()),2&f){const p=e.oxw(3).$implicit,v=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==v.allDocumentGroupTypes.video)}}const xn=function(f){return{"dropdown-menu-scroll":f}};function Jn(f,L){if(1&f&&(e.ynx(0),e.TgZ(1,"h3",94)(2,"span",95),e._UZ(3,"lucide-icon",96),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",97,98)(8,"div",99)(9,"ul",100),e.YNc(10,uo,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&f){const p=e.MAs(7),v=e.oxw(2).$implicit,O=e.oxw(4).last,M=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",v.documentObjs.length?p:null),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_config_educational_program_"+v.name),""," ("+v.documentObjs.length+")"," "),e.xp6(5),e.Q6J("ngClass",e.VKq(7,xn,M&&O||v.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",v.documentObjs)}}function po(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",104)(1,"a",110),e.NdJ("click",function(O){e.CHM(p);const M=e.oxw(2).$implicit,U=e.oxw(3).$implicit,R=e.oxw(4).$implicit;let Tt;return e.oxw(5).removeDocumentFromSession(R,null!==(Tt=M.sessionId)&&void 0!==Tt?Tt:0,M.id,U),O.preventDefault(),e.KtG(O.stopPropagation())}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&f&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function qn(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"li")(1,"a",109),e.NdJ("auxclick",function(O){e.CHM(p);const M=e.oxw().$implicit,U=e.oxw(12);return e.KtG(U.previewFile(M,O))})("click",function(O){e.CHM(p);const M=e.oxw().$implicit,U=e.oxw(12);return e.KtG(U.previewFile(M,O))}),e._UZ(2,"azt-document-type-file",102),e.YNc(3,po,5,3,"div",103),e.qZA()()}if(2&f){const p=e.oxw().$implicit,v=e.oxw(12);let O;e.xp6(2),e.Q6J("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(O=p.name)&&void 0!==O?O:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",v.teacherRole)}}function be(f,L){if(1&f&&(e.ynx(0),e.YNc(1,qn,4,10,"li",5),e.BQk()),2&f){const p=e.oxw(3).$implicit,v=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==v.allDocumentGroupTypes.document)}}function An(f,L){if(1&f&&(e.ynx(0),e.TgZ(1,"h3",94)(2,"span",95),e._UZ(3,"lucide-icon",96),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",97,108)(8,"div",99)(9,"ul",100),e.YNc(10,be,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&f){const p=e.MAs(7),v=e.oxw(2).$implicit,O=e.oxw(4).last,M=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",v.documentObjs.length?p:null),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_config_educational_program_"+v.name),""," ("+v.documentObjs.length+")"," "),e.xp6(5),e.Q6J("ngClass",e.VKq(7,xn,M&&O||v.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",v.documentObjs)}}function _n(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",104)(1,"a",114),e.NdJ("click",function(O){e.CHM(p);const M=e.oxw(2).$implicit,U=e.oxw(3).$implicit,R=e.oxw(4).$implicit;let Tt;return e.oxw(5).removeDocumentFromSession(R,null!==(Tt=M.sessionId)&&void 0!==Tt?Tt:0,M.id,U),O.preventDefault(),e.KtG(O.stopPropagation())}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&f&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function Vn(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"li")(1,"a",113),e.NdJ("auxclick",function(O){e.CHM(p);const M=e.oxw().$implicit,U=e.oxw(12);return e.KtG(U.previewFile(M,O))})("click",function(O){e.CHM(p);const M=e.oxw().$implicit,U=e.oxw(12);return e.KtG(U.previewFile(M,O))}),e._UZ(2,"azt-document-type-file",102),e.YNc(3,_n,5,3,"div",103),e.qZA()()}if(2&f){const p=e.oxw().$implicit,v=e.oxw(12);let O;e.xp6(2),e.Q6J("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(O=p.name)&&void 0!==O?O:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",v.teacherRole)}}function go(f,L){if(1&f&&(e.ynx(0),e.YNc(1,Vn,4,10,"li",5),e.BQk()),2&f){const p=e.oxw(3).$implicit,v=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==v.allDocumentGroupTypes.homework)}}function Qn(f,L){if(1&f&&(e.ynx(0),e.TgZ(1,"h3",94)(2,"span",95),e._UZ(3,"lucide-icon",96),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",111,112)(8,"div",99)(9,"ul",100),e.YNc(10,go,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&f){const p=e.MAs(7),v=e.oxw(2).$implicit,O=e.oxw(4).last,M=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",v.documentObjs.length?p:null),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_config_educational_program_"+v.name),""," ("+v.documentObjs.length+")"," "),e.xp6(5),e.Q6J("ngClass",e.VKq(7,xn,M&&O||v.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",v.documentObjs)}}function ce(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",104)(1,"a",118),e.NdJ("click",function(O){e.CHM(p);const M=e.oxw(2).$implicit,U=e.oxw(3).$implicit,R=e.oxw(4).$implicit;let Tt;return e.oxw(5).removeDocumentFromSession(R,null!==(Tt=M.sessionId)&&void 0!==Tt?Tt:0,M.id,U),O.preventDefault(),e.KtG(O.stopPropagation())}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&f&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function ho(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"li")(1,"a",116),e.NdJ("auxclick",function(O){e.CHM(p);const M=e.oxw().$implicit,U=e.oxw(12);return e.KtG(U.previewFile(M,O))})("click",function(O){e.CHM(p);const M=e.oxw().$implicit,U=e.oxw(12);return e.KtG(U.previewFile(M,O))}),e._UZ(2,"azt-document-type-file",117),e.YNc(3,ce,5,3,"div",103),e.qZA()()}if(2&f){const p=e.oxw().$implicit,v=e.oxw(12);let O;e.xp6(2),e.Q6J("truncateString",!1)("type",p.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(O=p.name)&&void 0!==O?O:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",v.teacherRole)}}function Uo(f,L){if(1&f&&(e.ynx(0),e.YNc(1,ho,4,10,"li",5),e.BQk()),2&f){const p=e.oxw(3).$implicit,v=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==v.allDocumentGroupTypes.homework_view)}}function $t(f,L){if(1&f&&(e.ynx(0),e.TgZ(1,"h3",94)(2,"span",95),e._UZ(3,"lucide-icon",96),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",111,115)(8,"div",99)(9,"ul",100),e.YNc(10,Uo,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&f){const p=e.MAs(7),v=e.oxw(2).$implicit,O=e.oxw(4).last,M=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",v.documentObjs.length?p:null),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_config_educational_program_"+v.name),""," ("+v.documentObjs.length+")"," "),e.xp6(5),e.Q6J("ngClass",e.VKq(7,xn,M&&O||v.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",v.documentObjs)}}function bn(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",104)(1,"a",122),e.NdJ("click",function(O){e.CHM(p);const M=e.oxw(2).$implicit,U=e.oxw(3).$implicit,R=e.oxw(4).$implicit;let Tt;return e.oxw(5).removeDocumentFromSession(R,null!==(Tt=M.sessionId)&&void 0!==Tt?Tt:0,M.id,U),O.preventDefault(),e.KtG(O.stopPropagation())}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&f&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function vn(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"li")(1,"a",121),e.NdJ("auxclick",function(O){e.CHM(p);const M=e.oxw().$implicit,U=e.oxw(12);return e.KtG(U.previewFile(M,O))})("click",function(O){e.CHM(p);const M=e.oxw().$implicit,U=e.oxw(12);return e.KtG(U.previewFile(M,O))}),e._UZ(2,"azt-document-type-file",117),e.YNc(3,bn,5,3,"div",103),e.qZA()()}if(2&f){const p=e.oxw().$implicit,v=e.oxw(12);let O;e.xp6(2),e.Q6J("truncateString",!1)("type",p.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(O=p.name)&&void 0!==O?O:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",v.teacherRole)}}function Tn(f,L){if(1&f&&(e.ynx(0),e.YNc(1,vn,4,10,"li",5),e.BQk()),2&f){const p=e.oxw(3).$implicit,v=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==v.allDocumentGroupTypes.unknown)}}function fo(f,L){if(1&f&&(e.ynx(0),e.TgZ(1,"h3",94)(2,"span",95),e._UZ(3,"lucide-icon",96),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",111,119)(8,"div",120)(9,"ul",100),e.YNc(10,Tn,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&f){const p=e.MAs(7),v=e.oxw(2).$implicit,O=e.oxw(4).last,M=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",p),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_config_educational_program_"+v.name),""," ("+v.documentObjs.length+")"," "),e.xp6(5),e.Q6J("ngClass",e.VKq(7,xn,M&&O||v.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",v.documentObjs)}}function xo(f,L){if(1&f&&(e.TgZ(0,"div",93),e.YNc(1,Jn,11,9,"ng-container",5),e.YNc(2,An,11,9,"ng-container",5),e.YNc(3,Qn,11,9,"ng-container",5),e.YNc(4,$t,11,9,"ng-container",5),e.YNc(5,fo,11,9,"ng-container",5),e.qZA()),2&f){const p=e.oxw().$implicit,v=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==v.allDocumentGroupTypes.video),e.xp6(1),e.Q6J("ngIf",p.name==v.allDocumentGroupTypes.document),e.xp6(1),e.Q6J("ngIf",p.name==v.allDocumentGroupTypes.homework),e.xp6(1),e.Q6J("ngIf",p.name==v.allDocumentGroupTypes.homework_view),e.xp6(1),e.Q6J("ngIf",p.name==v.allDocumentGroupTypes.unknown&&p.documentObjs.length)}}function bo(f,L){if(1&f&&(e.ynx(0),e.YNc(1,xo,6,5,"div",92),e.BQk()),2&f){const p=L.$implicit,v=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name!=v.allDocumentGroupTypes.unknown||p.name==v.allDocumentGroupTypes.unknown&&p.documentObjs.length)}}function Rn(f,L){if(1&f&&(e.ynx(0),e.YNc(1,bo,2,1,"ng-container",11),e.BQk()),2&f){const p=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngForOf",p.groupDocumentObjs)}}function vo(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",104)(1,"a",127),e.NdJ("click",function(){e.CHM(p);const O=e.oxw().$implicit,M=e.oxw(4).$implicit,U=e.oxw(5);let R;return e.KtG(U.removeDocumentFromSession(M,null!==(R=O.sessionId)&&void 0!==R?R:0,O.id))}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&f&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function $n(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",124)(1,"a",125),e.NdJ("auxclick",function(O){const U=e.CHM(p).$implicit,R=e.oxw(9);return e.KtG(R.previewFile(U,O))})("click",function(O){const U=e.CHM(p).$implicit,R=e.oxw(9);return e.KtG(R.previewFile(U,O))}),e._UZ(2,"azt-document-type-file",126),e.qZA(),e.YNc(3,vo,5,3,"div",103),e.qZA()}if(2&f){const p=L.$implicit,v=e.oxw(9);let O;e.xp6(2),e.Q6J("type",p.documentType)("name",null!==(O=p.name)&&void 0!==O?O:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",v.teacherRole)}}function zo(f,L){if(1&f&&e.YNc(0,$n,4,5,"div",123),2&f){const p=e.oxw(3).$implicit;e.Q6J("ngForOf",p.normalDocumentObjs)}}function Fo(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"app-upload-document-for-session",128),e.NdJ("emitFileDocument",function(O){e.CHM(p);const M=e.oxw(3).$implicit,U=e.oxw(5);return e.KtG(U.uploadFileEmitted(O,M))}),e.TgZ(1,"span",87),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()}if(2&f){const p=e.oxw(3).$implicit;e.Q6J("isBtn",!0)("customClass",p.outOfDate?"text-slate-600":"text-primary"),e.xp6(2),e.Oqu(e.lcZ(3,3,"lang_educational_program_add_document"))}}function To(f,L){if(1&f&&(e.TgZ(0,"div",53),e.YNc(1,Rn,2,1,"ng-container",88),e.YNc(2,zo,1,1,"ng-template",null,89,e.W1O),e.TgZ(4,"div",90),e.YNc(5,Fo,4,5,"app-upload-document-for-session",91),e.qZA()()),2&f){const p=e.MAs(3),v=e.oxw(2).$implicit,O=e.oxw(5);e.xp6(1),e.Q6J("ngIf",v.groupDocumentObjs.length)("ngIfElse",p),e.xp6(4),e.Q6J("ngIf",O.teacherRole)}}function Jo(f,L){1&f&&(e.TgZ(0,"div",129)(1,"div",130)(2,"span",131),e._UZ(3,"azt-loading-ui",132),e.qZA()()()),2&f&&(e.xp6(3),e.Q6J("type","oval"))}function Cn(f,L){if(1&f&&(e.TgZ(0,"a",137),e.ALo(1,"navigationLocalize"),e._UZ(2,"lucide-icon",138),e.TgZ(3,"span",139),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&f){const p=e.oxw(3).$implicit,v=e.oxw(5);e.Q6J("routerLink",e.VKq(8,cn,e.lcZ(1,4,"/admin/student/attendance-student/"+v.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.VKq(10,pn,"/admin/student/classroom-details/"+v.classroomId+"/3?sessionId="+p.id+"&backto="+v.backLink)),e.xp6(4),e.AsE("",e.lcZ(5,6,"lang_student_attendance_student"),""," ("+p.totalJoinedStudent+"/"+p.totalStudent+")","")}}function kn(f,L){if(1&f&&(e.TgZ(0,"a",140),e.ALo(1,"navigationLocalize"),e._UZ(2,"lucide-icon",141),e.TgZ(3,"span",139),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&f){const p=e.oxw(3).$implicit,v=e.oxw(5);e.Q6J("routerLink",e.VKq(7,cn,e.lcZ(1,3,"/admin/student/distribute-document/"+v.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.VKq(9,pn,"/admin/student/classroom-details/"+v.classroomId+"/3?sessionId="+p.id+"&backto="+v.backLink)),e.xp6(4),e.Oqu(e.lcZ(5,5,"lang_student_distribute_books"))}}function Sn(f,L){if(1&f&&(e.TgZ(0,"a",142),e.ALo(1,"navigationLocalize"),e._UZ(2,"lucide-icon",143),e.TgZ(3,"span",139),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&f){const p=e.oxw(3).$implicit,v=e.oxw(5);e.Q6J("routerLink",e.VKq(7,cn,e.lcZ(1,3,"/admin/student/submit-score/"+v.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.VKq(9,pn,"/admin/student/classroom-details/"+v.classroomId+"/3?sessionId="+p.id+"&backto="+v.backLink)),e.xp6(4),e.Oqu(e.lcZ(5,5,"lang_student_enter_score"))}}function In(f,L){if(1&f&&(e.TgZ(0,"div",56)(1,"div",50)(2,"span",51),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.TgZ(5,"div",133),e.YNc(6,Cn,6,12,"a",134),e.ALo(7,"async"),e.ALo(8,"allowFeatureBusinessForUser"),e.YNc(9,kn,6,11,"a",135),e.ALo(10,"async"),e.ALo(11,"allowFeatureBusinessForUser"),e.YNc(12,Sn,6,11,"a",136),e.ALo(13,"async"),e.ALo(14,"allowFeatureBusinessForUser"),e.qZA()()),2&f){const p=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngClass",e.WLB(25,Ne,p.outOfDate,!p.outOfDate)),e.xp6(1),e.hij(" ",e.lcZ(4,5,"lang_auto_hanh_dong")," "),e.xp6(3),e.Q6J("ngIf",e.lcZ(7,7,e.Dn7(8,9,"","training_center_student_attendance",!1))),e.xp6(3),e.Q6J("ngIf",e.lcZ(10,13,e.Dn7(11,15,"","training_center_student_book",!1))),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,19,e.Dn7(14,21,"","training_center_student_mark",!1)))}}function qo(f,L){if(1&f&&(e.TgZ(0,"div",56)(1,"div",50)(2,"span",51),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.TgZ(5,"div",133)(6,"div",144)(7,"span"),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"span",145),e._uU(11),e.ALo(12,"mytranslate"),e.qZA()()()()),2&f){const p=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngClass",e.WLB(10,Ne,p.outOfDate,!p.outOfDate)),e.xp6(1),e.hij(" ",e.lcZ(4,4,"lang_auto_hanh_dong")," "),e.xp6(5),e.Oqu(e.lcZ(9,6,"lang_business_requested_leave_with_a_reason")),e.xp6(3),e.Oqu(null!=p.studentAttendance&&p.studentAttendance.reason?null==p.studentAttendance?null:p.studentAttendance.reason:e.lcZ(12,8,"lang_student_absence_no_reason"))}}function Qo(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",43)(1,"div",44),e.NdJ("click",function(){e.CHM(p);const O=e.oxw().$implicit,M=e.oxw(5);return e.KtG(M.expandSessionObj(O))}),e.TgZ(2,"h3",45)(3,"span",46),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"span",47),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,je,4,3,"ng-container",5),e.qZA(),e.YNc(10,co,6,11,"div",48),e.TgZ(11,"div",49)(12,"div",50)(13,"span",51),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()(),e.TgZ(16,"div",52)(17,"div",53),e.YNc(18,gn,16,18,"div",54),e.YNc(19,fn,5,20,"a",55),e.qZA()()(),e.TgZ(20,"div",56)(21,"div",50)(22,"span",51),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()(),e.TgZ(25,"div",52),e.YNc(26,To,6,3,"div",57),e.YNc(27,Jo,4,1,"div",58),e.qZA()(),e.YNc(28,In,15,28,"div",59),e.ALo(29,"async"),e.ALo(30,"allowFeatureBusinessForUser"),e.ALo(31,"async"),e.ALo(32,"allowFeatureBusinessForUser"),e.ALo(33,"async"),e.ALo(34,"allowFeatureBusinessForUser"),e.YNc(35,qo,13,13,"div",59),e.ALo(36,"async"),e.ALo(37,"allowFeatureBusinessForUser"),e.qZA()}if(2&f){const p=e.oxw().$implicit,v=e.oxw(5);e.uIk("id","session-"+p.id),e.xp6(3),e.Q6J("ngClass",e.VKq(48,Mt,p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(5,16,"lang_core_buoi")+" "+p.sort),e.xp6(3),e.Oqu(e.lcZ(8,18,"lang_config_educational_program_day_"+p.day)+", "+p.dateSession+" "+p.timeSession),e.xp6(2),e.Q6J("ngIf",p.room),e.xp6(1),e.Q6J("ngIf",p.contents&&p.contents.length),e.xp6(3),e.Q6J("ngClass",e.WLB(50,Ne,p.outOfDate,!p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(15,20,"lang_cms_auto_gen_test_exam_title")),e.xp6(4),e.Q6J("ngForOf",p.examHomeworkObjs),e.xp6(1),e.Q6J("ngIf",v.teacherRole),e.xp6(3),e.Q6J("ngClass",e.WLB(53,Ne,p.outOfDate,!p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(24,22,"lang_testbank_document_list_header_title")),e.xp6(3),e.Q6J("ngIf",!p.isDeletingDocument&&!p.isUploadingDocument),e.xp6(1),e.Q6J("ngIf",p.isDeletingDocument||p.isUploadingDocument),e.xp6(1),e.Q6J("ngIf",(e.lcZ(29,24,e.Dn7(30,26,"","training_center_student_attendance",!1))||e.lcZ(31,30,e.Dn7(32,32,"","training_center_student_book",!1))||e.lcZ(33,36,e.Dn7(34,38,"","training_center_student_mark",!1)))&&v.teacherRole),e.xp6(7),e.Q6J("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.lcZ(36,42,e.Dn7(37,44,"","training_center_student_attendance",!0))&&!v.teacherRole)}}function Yo(f,L){if(1&f&&(e.TgZ(0,"div",27),e.YNc(1,Ge,7,14,"div",28),e.YNc(2,le,10,10,"div",29),e.YNc(3,Qo,38,56,"div",30),e.qZA()),2&f){const p=L.$implicit,v=e.oxw(5);e.xp6(1),e.Q6J("ngIf",!v.teacherRole),e.xp6(1),e.Q6J("ngIf",!p.isExpanded),e.xp6(1),e.Q6J("ngIf",p.isExpanded)}}function Bo(f,L){if(1&f&&(e.ynx(0),e.YNc(1,Yo,4,3,"div",26),e.BQk()),2&f){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",p.programObjs)}}function Kn(f,L){if(1&f){const p=e.EpF();e.ynx(0),e.TgZ(1,"h3",20)(2,"span",21),e.NdJ("click",function(){const M=e.CHM(p).$implicit;return e.KtG(M.expand=!M.expand)}),e._uU(3),e.ALo(4,"mytranslate"),e.YNc(5,z,1,0,"lucide-icon",22),e.YNc(6,kt,1,0,"lucide-icon",23),e.qZA()(),e.YNc(7,Bo,2,1,"ng-container",5),e.BQk()}if(2&f){const p=L.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,4,p.monthName)," "),e.xp6(2),e.Q6J("ngIf",p.expand),e.xp6(1),e.Q6J("ngIf",!p.expand),e.xp6(1),e.Q6J("ngIf",p.expand)}}function Ho(f,L){if(1&f&&(e.ynx(0),e.TgZ(1,"div",7)(2,"div",8)(3,"h3",9),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.YNc(6,G,5,3,"button",10),e.qZA(),e.YNc(7,y,3,1,"ng-container",5),e.qZA(),e.ynx(8),e.YNc(9,Kn,8,6,"ng-container",11),e.BQk()()),2&f){const p=e.oxw(2);e.xp6(4),e.hij(" ",e.lcZ(5,4,"lang_educational_program_general_documents")," "),e.xp6(2),e.Q6J("ngIf",p.teacherRole),e.xp6(1),e.Q6J("ngIf",p.generalDocumentObjs.length),e.xp6(2),e.Q6J("ngForOf",p.groupProgramSessionObjs)}}function Go(f,L){1&f&&(e.TgZ(0,"h3",152),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_config_educational_program_add_new_description")," "))}function Vo(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"button",153),e.NdJ("click",function(){e.CHM(p);const O=e.oxw(4);return e.KtG(O.addNewEducationalProgram())}),e.TgZ(1,"span",154),e._UZ(2,"lucide-icon",155),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&f&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_config_educational_program_select_new")))}function jn(f,L){if(1&f&&(e.TgZ(0,"div",148)(1,"h3",149),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,Go,3,3,"h3",150),e.YNc(5,Vo,6,3,"button",151),e.qZA()),2&f){const p=e.oxw(3);e.xp6(2),e.hij(" ",e.lcZ(3,3,"lang_config_educational_program_no_have_yet")," "),e.xp6(2),e.Q6J("ngIf",p.teacherRole),e.xp6(1),e.Q6J("ngIf",p.teacherRole)}}function Ro(f,L){1&f&&(e.TgZ(0,"h3",152),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_config_educational_program_add_new_session_desc")," "))}function Co(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"button",157),e.NdJ("click",function(){e.CHM(p);const O=e.oxw(4);return e.KtG(O.editEducationalProgram())}),e.TgZ(1,"span",154),e._UZ(2,"lucide-icon",158),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&f&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_config_educational_program_edit_btn")))}function $o(f,L){if(1&f&&(e.TgZ(0,"div",148)(1,"h3",149),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,Ro,3,3,"h3",150),e.YNc(5,Co,6,3,"button",156),e.qZA()),2&f){const p=e.oxw(3);e.xp6(2),e.hij(" ",e.lcZ(3,3,"lang_config_educational_program_no_have_session_yet")," "),e.xp6(2),e.Q6J("ngIf",p.teacherRole),e.xp6(1),e.Q6J("ngIf",p.teacherRole)}}function Ko(f,L){if(1&f&&(e.ynx(0),e.YNc(1,jn,6,5,"div",146),e.YNc(2,$o,6,5,"ng-template",null,147,e.W1O),e.BQk()),2&f){const p=e.MAs(3),v=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!v.programObj)("ngIfElse",p)}}function Wo(f,L){if(1&f&&(e.YNc(0,Z,1,2,"app-add-new-educational-program",4),e.YNc(1,Ho,10,6,"ng-container",5),e.YNc(2,Ko,4,2,"ng-container",5)),2&f){const p=e.oxw();e.Q6J("ngIf",p.showAddNewEducationalProgram),e.xp6(1),e.Q6J("ngIf",!p.showAddNewEducationalProgram&&p.programSessionObjs.length),e.xp6(1),e.Q6J("ngIf",!p.showAddNewEducationalProgram&&p.programSessionObjs.length<=0)}}let Xo=(()=>{class f extends m.Q{emitDataReloadSession(p){p?(this.initStatusObj(),this.programObj=void 0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter.emit()):this.showAddNewEducationalProgram=!1}editMarkCoefficient(p,v){this.sAztDialogService.open(dt.h,{data:{id:p.markId??0,name:"",coefficient:p.markCoefficient,programId:v.programId,classroomId:this.classroomId,sessionId:v.id,isOnlyCoefficient:!0,documentName:p.name,documentType:p.type},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(M=>{M&&this.reloadSessionDataOfProgram(v)})}reloadData(p,v){p&&this.reloadSessionDataOfProgram(v)}reloadSessionDataOfProgram(p){p.isLoadingData=!0,this.reloadSessionDataEmitter.emit(p)}addNewEducationalProgram(){this.showAddNewEducationalProgram=!this.showAddNewEducationalProgram}editEducationalProgram(){let p=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/business/edit-educational-program/"+this.programObj?.id,"?backTo="+p)}removeDocumentFromSession(p,v,O,M){var U=(p.normalDocumentObjs.filter(mt=>mt.id==O)[0].name??"")+" - "+this.commonService.myTranslateInstant("lang_core_buoi")+" "+p.sort.toString(),R=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+U+" </div> ?";this.sAztDialogService.open(Ct.s,{data:{content:R},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(mt=>{mt&&(p.isDeletingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsDocumentIdDelete(this.classroomId,v,O).subscribe({next:Tt=>{M&&(M.documentObjs=M.documentObjs.filter(ot=>ot.id!=O)),p.normalDocumentObjs=p.normalDocumentObjs.filter(ot=>ot.id!=O),this.showSuccessSnack("lang_config_educational_program_remove_document_link_successfully"),p.isDeletingDocument=!1},error:Tt=>{p.isDeletingDocument=!1,this.errorStatusObj(Tt.error.message,!0)}})))})}uploadFileEmitted(p,v){v.isUploadingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsPost(this.classroomId,v.id,p).subscribe({next:O=>{this.reloadSessionDataOfProgram(v),v.isUploadingDocument=!1,this.showSuccessSnack("lang_config_educational_program_add_document_link_successfully")},error:O=>{v.isUploadingDocument=!1,this.errorStatusObj(O.error.message,!0)}}))}expandSessionObj(p){p.isExpanded=!p.isExpanded,this.changeSessionDataEmitter.emit(p)}previewFile(p,v){if(this.isBusinessDomain&&p.type==x.s.video&&(0,yt.oW)(p.link??""))window.open(p.link,"_blank");else{const O={name:p.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(p.type),type:p.type,url:p.link};this.sAztDialogService.open(jt.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...O,index:0},showDownloadIcon:!1},restoreFocus:!1})}}ngAfterViewInit(){let p=this.programSessionObjs.find(v=>v.isExpanded);if(p){let v=document.getElementById("session-"+p.id);window.scrollTo({top:v?.offsetTop})}}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.backLink||(this.backLink="/admin/student/manage-classroom/0")}constructor(p,v,O,M,U){super(),this.sAztDialogService=p,this.cd=v,this.apiUploadService=O,this.classroomService=M,this.sAztFileTypeService=U,this.backLink="",this.errorApiMessage="",this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter=new e.vpe,this.changeSessionDataEmitter=new e.vpe,this.allDocumentTypes=x.s,this.allDocumentGroupTypes=_t.K,this.showAddNewEducationalProgram=!1,this.currentUrl=this.commonService.getCurrentUrlWithoutLocale()}}return f.\u0275fac=function(p){return new(p||f)(e.Y36(ht.C),e.Y36(e.sBO),e.Y36(ft.W),e.Y36(t.um),e.Y36(vt.v))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-list-sessions"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",errorApiMessage:"errorApiMessage",generalDocumentObjs:"generalDocumentObjs",programSessionObjs:"programSessionObjs",groupProgramSessionObjs:"groupProgramSessionObjs",programObj:"programObj"},outputs:{reloadSessionDataEmitter:"reloadSessionDataEmitter",changeSessionDataEmitter:"changeSessionDataEmitter"},features:[e.qOj],decls:4,vars:2,consts:[[1,"container","educational-program-width"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf","ngIfElse"],["noApiError",""],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[3,"classroomId","programObj","saveEducationalProgramEmit",4,"ngIf"],[4,"ngIf"],[3,"classroomId","programObj","saveEducationalProgramEmit"],[1,"box","p-3","mb-3"],[1,"flex",2,"justify-content","space-between","align-items","center"],[1,"font-medium","text-md"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4","class","btn btn-primary btn-sm text-white","style","cursor: default",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4",1,"btn","btn-primary","btn-sm","text-white",2,"cursor","default",3,"click"],["name","refresh-cw",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"ml-1",2,"vertical-align","middle"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],["azt-track-service","list-educational-program-sessions-tZA6KoGtc",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","iconVerticalStyle","customClass"],[1,"flex","mt-5",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-right","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-down",2,"width","18px !important","height","18px !important","vertical-align","top"],["name","chevron-right",2,"width","18px !important","height","18px !important","vertical-align","top"],["class","relative mt-2",4,"ngFor","ngForOf"],[1,"relative","mt-2"],["class","absolute","style","right: 5px; top: 5px; z-index: 99",4,"ngIf"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9","class","box p-3 mb-3 cursor-pointer clickable expanded-box",3,"click",4,"ngIf"],["class","box p-3 mb-3","style","user-select: none",4,"ngIf"],[1,"absolute",2,"right","5px","top","5px","z-index","99"],["class","btn btn-warning btn-sm text-slate-600 change-block-hidden","style","cursor: default",4,"ngIf"],["class","btn btn-warning btn-sm text-slate-600 change-hidden-block","style","cursor: default; padding: 3px",4,"ngIf"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-block-hidden",2,"cursor","default"],["name","user-x",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-hidden-block",2,"cursor","default","padding","3px"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9",1,"box","p-3","mb-3","cursor-pointer","clickable","expanded-box",3,"click"],[1,"heading"],[1,"font-medium","pr-5","md:pr-auto"],[2,"font-weight","420",3,"ngClass"],[1,"ml-2","text-slate-500",2,"font-weight","400"],[1,"text-slate-500",2,"font-weight","400"],[1,"box","p-3","mb-3",2,"user-select","none"],["azt-track-service","list-educational-program-sessions-AdTUEEwTH6",1,"heading","cursor-pointer","expanded-box-open","pb-2",3,"click"],[1,"font","pr-5","md:pr-auto"],[1,"font-medium",3,"ngClass"],[1,"ml-2","text-slate-500"],["class","azt-answer",4,"ngIf"],[1,"azt-answer"],[1,"strike"],[1,"uppercase",3,"ngClass"],[1,"azt-answer-content","p-3","w-full"],[1,"grid","grid-cols-12","items-center","gap-3"],["class","col-span-12 md:col-span-3",4,"ngFor","ngForOf"],["style","text-align: left","azt-track-service","list-educational-program-sessions-7tcWVQIX5M","class","btn btn-transparent w-48 block",3,"routerLink","queryParams","ngClass",4,"ngIf"],[1,"azt-answer","mt-1"],["class","grid grid-cols-12 items-center gap-3",4,"ngIf"],["class","grid grid-cols-12 gap-2",4,"ngIf"],["class","azt-answer mt-1",4,"ngIf"],[1,"text-slate-500"],[3,"contents","teacherRole","classroomId","sessionId","close"],[1,"col-span-12","md:col-span-3"],["azt-track-service","list-educational-program-sessions-osVwsOKGN",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-700/50 mb-0","style","font-size: 13px",4,"ngIf"],["class","mb-0","style","font-size: 13px",3,"ngClass",4,"ngIf"],["class","text-primary mb-0 relative","style","font-size: 13px",4,"ngIf"],[1,"w-8","h-8","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],[1,"w-8","h-8","text-pending"],["name","file-check"],[1,"w-8","h-8","text-primary"],["name","file-text"],[1,"text-slate-700/50","mb-0",2,"font-size","13px"],[1,"mb-0",2,"font-size","13px",3,"ngClass"],[1,"text-primary","mb-0","relative",2,"font-size","13px"],["azt-track-service","list-educational-program-sessions-mHY0DeFrF",1,"w-4","h-4","inline-block",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","13","height","13","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil",2,"vertical-align","text-top"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],["azt-track-service","list-educational-program-sessions-7tcWVQIX5M",1,"btn","btn-transparent","w-48","block",2,"text-align","left",3,"routerLink","queryParams","ngClass"],[1,"uppercase"],[4,"ngIf","ngIfElse"],["normalViewDocument",""],[1,"col-span-12","md:col-span-2"],[3,"isBtn","customClass","emitFileDocument",4,"ngIf"],["class","col-span-12 md:col-span-2 relative",4,"ngIf"],[1,"col-span-12","md:col-span-2","relative"],[1,"flex","px-3",2,"font-weight","420","font-size","15px",3,"matMenuTriggerFor"],[1,"clickable","w-full","text-primary",2,"align-items","center"],["name","arrow-down-circle",2,"width","18px !important","height","18px !important","vertical-align","top"],["xPosition","after"],["matMenuVideo","matMenu"],[1,"dropdown-menu","show","w-80"],[1,"dropdown-content",3,"ngClass"],["azt-track-service","list-educational-program-sessions-9Uh-D7fBV",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","textWidth","type","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["class","absolute top-0 right-0 p-1 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-50"],["azt-track-service","list-educational-program-sessions-b0R49s83kG",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[1,"w-4","h-4","inline-block",3,"matTooltip"],["name","x"],["matMenuDocument","matMenu"],["azt-track-service","list-educational-program-sessions-3xvwjvQpPm",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-wmJtTG9lgc",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["xPosition","before"],["matMenuHomework","matMenu"],["azt-track-service","list-educational-program-sessions-0ddxB4xw-G",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-H_Fu6rJpUs",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuHomeworkView","matMenu"],["azt-track-service","list-educational-program-sessions-URYQZ4M5Qb",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","type","textWidth","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["azt-track-service","list-educational-program-sessions-MHIjTu_EQr",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuUnknown","matMenu"],[1,"dropdown-menu","show","w-72"],["azt-track-service","list-educational-program-sessions-yixL-fRljl",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-bjX0o_IOex",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["class","col-span-12 md:col-span-3 relative",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-3","relative"],["azt-track-service","list-educational-program-sessions-0reisrghN1",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","customClass"],["azt-track-service","list-educational-program-sessions-E4pIFQJwz",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[3,"isBtn","customClass","emitFileDocument"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","text-center","p-4",2,"align-items","center"],[1,"w-6","h-6","mx-auto","flex"],[3,"type"],[1,"azt-answer-content","py-2","w-full","flex"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"routerLink","queryParams"],["name","users",2,"width","18px !important","height","18px !important","vertical-align","middle"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","book",2,"width","18px !important","height","18px !important","vertical-align","middle"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","clipboard-signature",2,"width","18px !important","height","18px !important","vertical-align","middle"],[1,"font-medium"],[1,"text-danger"],["class","box px-4 py-5 text-center mx-auto mt-3",4,"ngIf","ngIfElse"],["hasProgramObj",""],[1,"box","px-4","py-5","text-center","mx-auto","mt-3"],[2,"font-weight","450","font-size","15.5px"],["class","mt-3","style","font-weight: 400; font-size: 14px",4,"ngIf"],["azt-track-service","config-educational-program-UuVaYM-oC","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","400","font-size","14px"],["azt-track-service","config-educational-program-UuVaYM-oC",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],[1,"w-4","h-4","inline-block","mr-2"],["name","plus"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","edit"]],template:function(p,v){if(1&p&&(e.TgZ(0,"div",0),e.YNc(1,Un,3,3,"div",1),e.YNc(2,Wo,3,3,"ng-template",null,2,e.W1O),e.qZA()),2&p){const O=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!v.statusObj.loading&&v.errorApiMessage)("ngIfElse",O)}},dependencies:[l.rH,Q.mk,Q.sg,Q.O5,bt.VK,bt.p6,et.gM,S.Q,B.n,at.F,ut.Nh5,lt.a,w,se,Q.Ov,ie.Jy,ie.JV,ie.Bo,ie.J8],encapsulation:2}),f})();function ti(f,L){1&f&&e._UZ(0,"azt-loading-effect")}function ko(f,L){if(1&f){const p=e.EpF();e.TgZ(0,"div",2)(1,"app-list-sessions",3),e.NdJ("reloadSessionDataEmitter",function(O){e.CHM(p);const M=e.oxw();return e.KtG(M.reloadSessionData(O))})("changeSessionDataEmitter",function(O){e.CHM(p);const M=e.oxw();return e.KtG(M.changeSessionData(O))}),e.qZA()()}if(2&f){const p=e.oxw();e.xp6(1),e.Q6J("teacherRole",p.teacherRole)("classroomId",p.classroomId)("backLink",p.backLink)("errorApiMessage",p.errorApiMessage)("generalDocumentObjs",p.generalDocumentObjs)("programSessionObjs",p.programSessionObjs)("groupProgramSessionObjs",p.groupProgramSessionObjs)("programObj",p.programObj)}}let ei=(()=>{class f extends m.Q{changeSessionData(p){this.programSessionObjs.map(v=>v.id==p.id?p:v),this.teacherRole&&this.commonService.myNavigationWithQueryString(`/admin/student/classroom-details/${this.classroomId}/3`,`?sessionId=${p.id}${this.backLink?"&backTo="+this.backLink:""}`)}reloadSessionData(p){this.initData(p)}convertNormalDocumentByGroup(p){let v={};return p.forEach(O=>{O.groupType&&(v.hasOwnProperty(O.groupType)||(v[O.groupType]=[]),v[O.groupType].push(O))}),v}processData(p){let v=this.commonService.arrayToDictionary(p,M=>M.groupType?M.groupType:"unknown"),O=[{name:"video",documentObjs:[]},{name:"document",documentObjs:[]},{name:"homework",documentObjs:[]},{name:"homework_view",documentObjs:[]},{name:"unknown",documentObjs:[]}];return Object.entries(v).forEach(([M,U],R)=>{if(U.length>0){let mt={name:M,documentObjs:U};"video"==mt.name&&(O[0]=mt),"document"==mt.name&&(O[1]=mt),"homework"==mt.name&&(O[2]=mt),"homework_view"==mt.name&&(O[3]=mt),"unknown"==mt.name&&(O[4]=mt)}}),O}convertDocumentsOfSession(p,v){let O=(new Date).toDateString(),M=!1;return p.forEach((U,R)=>{U.normalDocumentObjs=U.allDocumentObjs.filter(ot=>"exam"!=ot.type&&"homework"!=ot.type),U.examHomeworkObjs=U.allDocumentObjs.filter(ot=>"exam"==ot.type||"homework"==ot.type),U.groupDocumentObjs=this.processData(U.normalDocumentObjs),U.indexSession=U.sort;let mt="",Tt="";if(U.fromTime){let ot=new Date(U.fromTime),Kt=new Date(ot.toDateString()),dn=new Date(O),Ut=Math.floor((Kt.getTime()-dn.getTime())/1e3);U.dateSession=this.timeService.getFormatDate(U.fromTime),U.outOfDate=Ut<0,U.monthSession=ot.getMonth()+1,U.yearSession=ot.getFullYear(),mt+=this.addZeroToTime(ot.getHours())+":"+this.addZeroToTime(ot.getMinutes()),Tt=this.timeService.calculationTimeAgoOnlyDate(Kt,dn)}if(U.toTime){let ot=new Date(U.toTime);mt+=" - "+this.addZeroToTime(ot.getHours())+":"+this.addZeroToTime(ot.getMinutes())}mt+=Tt?" ("+Tt+")":"",U.timeSession=mt,M||(U.isExpanded=v?U.isExpanded:!U.outOfDate,U.isExpanded&&(M=!0))}),p}addZeroToTime(p){return p<10?"0"+p:p.toString()}getSchoolLeaveObjs(p,v){p.length&&!this.teacherRole?this.waitDestroy(this.studentService.apiStudentsAttendancesMeGet(this.classroomId).subscribe({next:O=>{p.map(M=>{M.studentAttendance=O.list.find(U=>U.sessionId==M.id)}),v(p)},error:O=>{this.errorStatusObj(O.error.message,!0),v(p)}})):v(p)}initData(p){p||(this.initStatusObj(),this.programSessionObjs=[],this.programObj=void 0,this.generalDocumentObjs=[]),this.groupProgramSessionObjs=[];let v=this.teacherRole?this.classroomService.apiClassroomsClassroomIdProgramsProgramIdGet(this.classroomId,0):this.classroomService.apiClassroomsClassroomIdStudentsProgramsProgramIdGet(this.classroomId,0);this.waitDestroy(v.subscribe({next:O=>{this.generalDocumentObjs=O.generalDocuments.map(U=>({...U,documentType:this.commonService.getEnumTypeWithDefault(x.s,U.type,x.s.unknown)})),this.programObj=O.program;let M=O.sessions.map(U=>({...U,isExpanded:!1,isLoadingData:!1,isDeletingDocument:!1,isUploadingDocument:!1,normalDocumentObjs:[],examHomeworkObjs:[],groupDocumentObjs:[],indexSession:0,yearSession:0,monthSession:0,allDocumentObjs:U.documents.map(R=>({...R,documentType:this.commonService.getEnumTypeWithDefault(x.s,R.type,x.s.unknown)}))}));M=this.convertDocumentsOfSession(M,!!p),this.getSchoolLeaveObjs(M,U=>{if(p){let ot=U.find(Kt=>Kt.id==p.id);this.programSessionObjs=this.programSessionObjs.map(Kt=>Kt.id==ot?.id?{...ot,isExpanded:Kt.isExpanded}:Kt)}else this.programSessionObjs=U;this.sessionId&&this.programSessionObjs.map(ot=>ot.isExpanded=ot.id==this.sessionId);let R=this.commonService.arrayToDictionary(this.programSessionObjs,ot=>ot.monthSession?.toString()+"/"+ot.yearSession?.toString()),mt=this.commonService.myTranslateInstant("lang_core_thang")??"Th\xe1ng",Tt=(new Date).getMonth()+1+"/"+(new Date).getFullYear();Object.entries(R).forEach(([ot,Kt],dn)=>{let Ut=Kt.find(wo=>wo.isExpanded);this.groupProgramSessionObjs.push({monthName:mt+" "+ot,programObjs:Kt,expand:!(ot!=Tt&&!Ut)})}),this.stopStatusObj()})},error:O=>{this.errorApiMessage=O.error.message,this.errorStatusObj(O.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.initData(void 0)}constructor(p,v,O,M){super(),this.classroomService=p,this.timeService=v,this.studentService=O,this.activeRoute=M,this.sessionId=0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.errorApiMessage=""}}return f.\u0275fac=function(p){return new(p||f)(e.Y36(t.um),e.Y36(xt.D),e.Y36(t.VT),e.Y36(l.gz))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-view-educational-program"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",sessionId:"sessionId"},features:[e.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-y","relative",2,"min-height","calc(100vh - 550px)"],[3,"teacherRole","classroomId","backLink","errorApiMessage","generalDocumentObjs","programSessionObjs","groupProgramSessionObjs","programObj","reloadSessionDataEmitter","changeSessionDataEmitter"]],template:function(p,v){if(1&p&&(e.YNc(0,ti,1,0,"azt-loading-effect",0),e.YNc(1,ko,2,8,"ng-template",null,1,e.W1O)),2&p){const O=e.MAs(2);e.Q6J("ngIf",v.statusObj.loading)("ngIfElse",O)}},dependencies:[Q.O5,o.l,Xo],encapsulation:2}),f})(),ni=(()=>{class f extends m.Q{ngOnInit(){this.waitDestroy((0,rt.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let p=this.commonService.getMyQueryParam("backto");this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))??0,this.backLink=p??this.backLink??"/business/dashboard",this.sessionId=Number(this.commonService.getMyQueryParam("sessionId"))})),super.ngOnInit()}constructor(p){super(),this.activeRoute=p,this.classroomId=0,this.sessionId=0,this.backLink=""}}return f.\u0275fac=function(p){return new(p||f)(e.Y36(l.gz))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-educational-program"]],inputs:{isStudent:"isStudent"},features:[e.qOj],decls:1,vars:4,consts:[[3,"teacherRole","classroomId","sessionId","backLink"]],template:function(p,v){1&p&&e._UZ(0,"app-view-educational-program",0),2&p&&e.Q6J("teacherRole",!v.isStudent)("classroomId",v.classroomId)("sessionId",v.sessionId)("backLink",v.backLink)},dependencies:[ei],encapsulation:2}),f})()},86:(tn,Yt,b)=>{b.d(Yt,{h:()=>ft});var rt=b(56223),m=b(19347),e=b(72164),l=b(91765),x=b(65879),t=b(68172),xt=b(96814),Q=b(67679),o=b(71646),Ct=b(36727);function _t(vt,bt){1&vt&&(x.TgZ(0,"div",17),x._uU(1),x.ALo(2,"mytranslate"),x.qZA()),2&vt&&(x.xp6(1),x.hij(" *",x.lcZ(2,1,"lang_auto_vui_long_nhap_ten_dau_diem")," "))}function jt(vt,bt){if(1&vt&&(x.TgZ(0,"div",15)(1,"label",8),x._uU(2),x.ALo(3,"mytranslate"),x.qZA(),x._UZ(4,"input",16),x.ALo(5,"mytranslate"),x.YNc(6,_t,3,3,"div",10),x.qZA()),2&vt){const et=x.oxw();x.xp6(2),x.hij(" ",x.lcZ(3,3,"lang_student_name_component_score")," "),x.xp6(2),x.s9C("placeholder",x.lcZ(5,5,"lang_student_enter_name_component_score")),x.xp6(2),x.Q6J("ngIf",et.form.controls.name.dirty&&et.form.controls.name.errors)}}function dt(vt,bt){if(1&vt&&(x.TgZ(0,"div",15)(1,"label",8),x._uU(2),x.ALo(3,"mytranslate"),x.qZA(),x._UZ(4,"input",18),x.ALo(5,"mytranslate"),x.qZA()),2&vt){const et=x.oxw();x.xp6(2),x.hij(" ",x.lcZ(3,3,"homework"==et.data.documentType?"lang_auto_bai_tap":"lang_auto_de_thi"),": "),x.xp6(2),x.s9C("placeholder",x.lcZ(5,5,"lang_student_enter_name_component_score")),x.Q6J("value",et.data.documentName)}}function yt(vt,bt){1&vt&&(x.TgZ(0,"div",17),x._uU(1),x.ALo(2,"mytranslate"),x.qZA()),2&vt&&(x.xp6(1),x.hij(" *",x.lcZ(2,1,"lang_auto_he_so_diem_phai_la_so")," "))}function ht(vt,bt){1&vt&&(x.TgZ(0,"span",19),x._UZ(1,"azt-loading-ui"),x.qZA())}let ft=(()=>{class vt extends e.e{setValueCoeffcient(){var et=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(et)??0)}createStartingPoint(){let et={name:this.form.getRawValue().name,coefficient:this.form.getRawValue().coefficient,programId:this.data.programId,classroomId:this.data.classroomId,sessionId:this.data.sessionId};this.waitDestroy(this.data.id?this.commonMarkService.apiCommonMarksIdPut(this.data.id,et).subscribe(S=>{S?(this.showSuccessSnack("lang_core_sua_dau_diem_thanh_cong"),this.dialogRef.close(et)):this.errorStatusObj("lang_core_sua_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}):this.commonMarkService.apiCommonMarksPost(et).subscribe(S=>{S?(this.showSuccessSnack("lang_core_them_dau_diem_thanh_cong"),this.dialogRef.close(et)):this.errorStatusObj("lang_core_them_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}))}ngOnInit(){}constructor(et,S,B){super(B,S),this.commonMarkService=et,this.dialogRef=S,this.data=B,this.form=new rt.cw({name:new rt.NI({value:B.name??"",disabled:0==B.canEditName},{nonNullable:!0,validators:[rt.kI.required,l._.noWhiteSpace]}),coefficient:new rt.NI(B.coefficient,{nonNullable:!0,validators:[rt.kI.required,rt.kI.pattern(/^[1-9]\d*$/)]})})}}return vt.\u0275fac=function(et){return new(et||vt)(x.Y36(t.Q),x.Y36(m.so,8),x.Y36(m.WI))},vt.\u0275cmp=x.Xpm({type:vt,selectors:[["app-create-score-dialog"]],features:[x.qOj],decls:25,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"placeholder","input"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"value","placeholder"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(et,S){1&et&&(x.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),x._uU(5),x.ALo(6,"mytranslate"),x.qZA()(),x.TgZ(7,"div",5),x.YNc(8,jt,7,7,"div",6),x.YNc(9,dt,6,7,"div",6),x.TgZ(10,"div",7)(11,"label",8),x._uU(12),x.ALo(13,"mytranslate"),x.qZA(),x.TgZ(14,"input",9),x.NdJ("input",function(){return S.setValueCoeffcient()}),x.ALo(15,"mytranslate"),x.qZA(),x.YNc(16,yt,3,3,"div",10),x.qZA()()(),x.TgZ(17,"div",11)(18,"button",12),x.NdJ("click",function(){return S.dialogRef.close()}),x._uU(19),x.ALo(20,"mytranslate"),x.qZA(),x.TgZ(21,"button",13),x.NdJ("click",function(){return S.createStartingPoint()}),x.YNc(22,ht,2,0,"span",14),x._uU(23),x.ALo(24,"mytranslate"),x.qZA()()()()),2&et&&(x.xp6(1),x.Q6J("formGroup",S.form),x.xp6(4),x.hij(" ",x.lcZ(6,11,S.data.id?S.data.isOnlyCoefficient?"lang_student_edit_mark_coefficient":"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),x.xp6(3),x.Q6J("ngIf",!S.data.isOnlyCoefficient),x.xp6(1),x.Q6J("ngIf",S.data.isOnlyCoefficient),x.xp6(3),x.hij(" ",x.lcZ(13,13,"lang_student_score_factor")," "),x.xp6(2),x.s9C("placeholder",x.lcZ(15,15,"lang_student_enter_score_factor")),x.xp6(2),x.Q6J("ngIf",S.form.controls.coefficient.dirty&&S.form.controls.coefficient.errors),x.xp6(3),x.Oqu(x.lcZ(20,17,"lang_button_cancel")),x.xp6(2),x.Q6J("disabled",S.form.controls.name.errors&&!S.data.isOnlyCoefficient||S.form.controls.coefficient.errors),x.xp6(1),x.Q6J("ngIf",S.statusObj.loading),x.xp6(1),x.hij(" ",x.lcZ(24,19,"lang_button_save")," "))},dependencies:[xt.O5,rt._Y,rt.Fj,rt.wV,rt.JJ,rt.JL,rt.sg,rt.u,Q.M,o.n,Ct.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box[_ngcontent-%COMP%]{margin-top:1px}.hidden-scroll[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hidden-scroll[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),vt})()},81176:(tn,Yt,b)=>{b.d(Yt,{m:()=>Zt});var rt=b(29023),m=b(73445),e=b(23680),l=b(19347),x=b(44683),t=b(13217),xt=b(72164),Q=b(84003),o=b(65879),Ct=b(46558),_t=b(47496),jt=b(89156),dt=b(86),yt=b(2783),ht=b(97151),ft=b(38228),vt=b(68719),bt=b(96814),et=b(92596),S=b(91675),B=b(78497),at=b(71646),ut=b(1103),lt=b(77988),Dt=b(36727);function pt(E,nt){1&E&&(o.TgZ(0,"span",13),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&E&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"lang_core_thang")))}function ne(E,nt){if(1&E&&(o.TgZ(0,"span",13),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&E){const j=o.oxw();o.xp6(1),o.AsE("",o.lcZ(2,2,"lang_core_thang")," ",j.dataFilter.monthSelected,"")}}function oe(E,nt){1&E&&(o.TgZ(0,"span",13),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&E&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"lang_core_nam")))}function Rt(E,nt){if(1&E&&(o.TgZ(0,"span",13),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&E){const j=o.oxw();o.xp6(1),o.AsE("",o.lcZ(2,2,"lang_core_nam")," ",j.dataFilter.yearSelected,"")}}function Te(E,nt){1&E&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&E&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"lang_auto_tat_ca")))}function Oe(E,nt){if(1&E&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&E){const j=o.oxw().index;o.xp6(1),o.AsE("",o.lcZ(2,2,"lang_core_thang")," ",j,"")}}function De(E,nt){if(1&E){const j=o.EpF();o.TgZ(0,"li",14),o.NdJ("click",function(){const I=o.CHM(j).index,X=o.oxw();return o.KtG(X.selectMonth(I))}),o.YNc(1,Te,3,3,"span",15),o.YNc(2,Oe,3,4,"span",15),o.qZA()}if(2&E){const j=nt.index,P=o.oxw();o.Q6J("ngClass",P.dataFilter.monthSelected==j?"color-select":""),o.xp6(1),o.Q6J("ngIf",0==j),o.xp6(1),o.Q6J("ngIf",j>0)}}function Ee(E,nt){1&E&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&E&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"lang_auto_tat_ca")))}function ve(E,nt){if(1&E&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&E){const j=o.oxw().index,P=o.oxw();o.xp6(1),o.AsE("",o.lcZ(2,2,"lang_core_nam")," ",P.currentDate.getFullYear()-(j-1),"")}}function fe(E,nt){if(1&E){const j=o.EpF();o.TgZ(0,"li",16),o.NdJ("click",function(){const I=o.CHM(j).index,X=o.oxw();return o.KtG(X.selectYear(I))}),o.YNc(1,Ee,3,3,"span",15),o.YNc(2,ve,3,4,"span",15),o.qZA()}if(2&E){const j=nt.index,P=o.oxw();o.Q6J("ngClass",!P.dataFilter.yearSelected||P.currentDate.getFullYear()-(P.dataFilter.yearSelected-1)!=j&&0!=P.dataFilter.yearSelected?"":"color-select"),o.xp6(1),o.Q6J("ngIf",0==j),o.xp6(1),o.Q6J("ngIf",j>0)}}const xe=function(){return[]};let _e=(()=>{class E extends _t.Q{selectMonth(j){this.isApply=!0,this.dataFilter.monthSelected=j,this.sendFilter.emit(this.dataFilter)}selectYear(j){this.isApply=!0,this.dataFilter.yearSelected=j>0?this.currentDate.getFullYear()-(j-1):j,this.sendFilter.emit(this.dataFilter)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.sendFilter=new o.vpe,this.isLoading=!1,this.currentDate=new Date,this.isApply=!1,this.dataFilter={monthSelected:void 0,yearSelected:void 0}}}return E.\u0275fac=function(j){return new(j||E)},E.\u0275cmp=o.Xpm({type:E,selectors:[["azt-filter-box"]],inputs:{isLoading:"isLoading"},outputs:{sendFilter:"sendFilter"},features:[o.qOj],decls:24,vars:13,consts:[[1,"flex","items-center","font-medium"],[1,"font-medium","mr-2","color",2,"color","#1e40af"],[1,"border-box","hover","p-1","clickable","mr-1",3,"matMenuTriggerFor"],["class","p-1",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevron-down"],["d","m6 9 6 6 6-6"],["xPosition","before"],["filterByMonth","matMenu"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content","overflow-hidden","overflow-y-auto","h-56"],["azt-track-service","azt-filter-box-0A_xsGZ5B","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],["filterByYear","matMenu"],["azt-track-service","azt-filter-box-orpcyuG7jD","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-1"],["azt-track-service","azt-filter-box-0A_xsGZ5B",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"],[4,"ngIf"],["azt-track-service","azt-filter-box-orpcyuG7jD",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"]],template:function(j,P){if(1&j&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.TgZ(4,"div",2),o.YNc(5,pt,3,3,"span",3),o.YNc(6,ne,3,4,"span",3),o.O4$(),o.TgZ(7,"svg",4),o._UZ(8,"path",5),o.qZA()(),o.kcU(),o.TgZ(9,"div",2),o.YNc(10,oe,3,3,"span",3),o.YNc(11,Rt,3,4,"span",3),o.O4$(),o.TgZ(12,"svg",4),o._UZ(13,"path",5),o.qZA()()(),o.kcU(),o.TgZ(14,"mat-menu",6,7)(16,"div",8)(17,"ul",9),o.YNc(18,De,3,3,"li",10),o.qZA()()(),o.TgZ(19,"mat-menu",6,11)(21,"div",8)(22,"ul",9),o.YNc(23,fe,3,3,"li",12),o.qZA()()()),2&j){const ct=o.MAs(15),I=o.MAs(20);o.xp6(2),o.hij(" ",o.lcZ(3,9,"lang_testbank_tested_list_sort"),": "),o.xp6(2),o.Q6J("matMenuTriggerFor",ct),o.xp6(1),o.Q6J("ngIf",!P.dataFilter.monthSelected),o.xp6(1),o.Q6J("ngIf",P.dataFilter.monthSelected&&P.dataFilter.monthSelected>0),o.xp6(3),o.Q6J("matMenuTriggerFor",I),o.xp6(1),o.Q6J("ngIf",!P.dataFilter.yearSelected),o.xp6(1),o.Q6J("ngIf",P.dataFilter.yearSelected&&P.dataFilter.yearSelected>0),o.xp6(7),o.Q6J("ngForOf",o.DdM(11,xe).constructor(13)),o.xp6(5),o.Q6J("ngForOf",o.DdM(12,xe).constructor(10))}},dependencies:[bt.mk,bt.sg,bt.O5,lt.VK,lt.p6,Dt.JV],styles:[".w-max-content[_ngcontent-%COMP%]{width:-webkit-fill-available;min-width:max-content}.border-left[_ngcontent-%COMP%]{border-left:1px solid rgb(201,201,201)}.background-powderblue[_ngcontent-%COMP%]{background:powderblue}.hover[_ngcontent-%COMP%]:hover{background:mintcream}.color-select[_ngcontent-%COMP%]{background-color:#eef1f6}.border-box[_ngcontent-%COMP%]{border:1px solid #1e40af;padding:2px 5px;border-radius:10px}.box-name[_ngcontent-%COMP%]{background:lightgrey}"]}),E})();var Pe=b(60381),Ze=b(37722);const en=["table_score_student"];function Ue(E,nt){if(1&E){const j=o.EpF();o.TgZ(0,"div",11)(1,"button",12),o.NdJ("click",function(){o.CHM(j);const ct=o.oxw();return o.KtG(ct.downloadTableScore())}),o.TgZ(2,"div",13),o._UZ(3,"lucide-icon",14),o.qZA(),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"mytranslate"),o.qZA()()()}2&E&&(o.xp6(5),o.Oqu(o.lcZ(6,1,"lang_student_export_a_grade_sheet")))}function ie(E,nt){if(1&E){const j=o.EpF();o.TgZ(0,"div",15)(1,"lucide-icon",16),o.NdJ("click",function(){o.CHM(j);const ct=o.oxw();return o.KtG(ct.downloadTableScore())}),o.ALo(2,"mytranslate"),o.qZA(),o.O4$(),o.TgZ(3,"svg",17),o.NdJ("click",function(){o.CHM(j);const ct=o.oxw();return o.KtG(ct.closeDiaglog.emit(ct.isEdit))}),o.ALo(4,"mytranslate"),o._UZ(5,"path",18)(6,"path",19),o.qZA()()}2&E&&(o.xp6(1),o.s9C("matTooltip",o.lcZ(2,2,"lang_student_export_a_grade_sheet")),o.xp6(2),o.s9C("matTooltip",o.lcZ(4,4,"lang_auto_thoat")))}function Ae(E,nt){1&E&&o._UZ(0,"azt-loading-ui",26)}function de(E,nt){if(1&E&&(o.TgZ(0,"div",45),o._uU(1),o.ALo(2,"mytranslate"),o.ALo(3,"formatOnlyDateByUserUnitPipe"),o.qZA()),2&E){const j=o.oxw().$implicit;o.xp6(1),o.AsE(" ",o.lcZ(2,2,"lang_student_profile_utils_homework_answer_created_at"),": ",o.lcZ(3,4,j.createdAt)," ")}}function ze(E,nt){if(1&E&&(o.TgZ(0,"div",45)(1,"span"),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.TgZ(4,"span",46),o._uU(5),o.qZA()()),2&E){const j=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"lang_auto_he_so")),o.xp6(3),o.Oqu(j.coefficient)}}function Se(E,nt){if(1&E&&(o.TgZ(0,"div",47),o._UZ(1,"azt-check-mark",48),o.qZA()),2&E){const j=o.oxw().$implicit;o.xp6(1),o.Q6J("mark",j.marks.length>0?j.marks[0]:"")}}function nn(E,nt){if(1&E&&(o.TgZ(0,"div",47),o._UZ(1,"azt-check-mark",48),o.qZA()),2&E){const j=o.oxw().$implicit,P=o.oxw(2);o.xp6(1),o.Q6J("mark",P.returnValue(j))}}function Fe(E,nt){if(1&E){const j=o.EpF();o.TgZ(0,"input",49),o.NdJ("input",function(ct){o.CHM(j);const I=o.oxw().$implicit,X=o.oxw(2);return o.KtG(X.handleMarkStudent(ct,I.id))}),o.ALo(1,"mytranslate"),o.ALo(2,"mytranslate"),o.qZA()}if(2&E){const j=o.oxw().$implicit,P=o.oxw(2);o.s9C("matTooltip",o.lcZ(1,4,"lang_core_diem_duoc_tach_boi_dau_cach")),o.MGl("id","input_point_",j.id.toString(),""),o.s9C("placeholder",o.lcZ(2,6,"lang_auto_nhap_diem")),o.Q6J("value",P.returnValue(j))}}function Wt(E,nt){1&E&&(o.O4$(),o.TgZ(0,"svg",53),o.ALo(1,"mytranslate"),o.ALo(2,"mytranslate"),o._UZ(3,"path",32)(4,"path",33),o.qZA()),2&E&&o.hYB("matTooltip","",o.lcZ(1,2,"lang_auto_sua")," ",o.lcZ(2,4,"lang_auto_diem"),"")}function Je(E,nt){1&E&&(o.O4$(),o.TgZ(0,"svg",54),o.ALo(1,"mytranslate"),o._UZ(2,"path",18)(3,"path",19),o.qZA()),2&E&&o.s9C("matTooltip",o.lcZ(1,1,"lang_editor_common_cancel"))}function on(E,nt){if(1&E){const j=o.EpF();o.TgZ(0,"button",50),o.NdJ("click",function(){o.CHM(j);const ct=o.oxw().$implicit,I=o.oxw(2);return o.KtG(I.viewInput(ct.id==I.inputPointSelect?-1:ct.id))}),o.YNc(1,Wt,5,6,"svg",51),o.YNc(2,Je,4,3,"svg",52),o.qZA()}if(2&E){const j=o.oxw().$implicit,P=o.oxw(2);o.xp6(1),o.Q6J("ngIf",P.inputPointSelect!=j.id),o.xp6(1),o.Q6J("ngIf",P.inputPointSelect==j.id)}}function qe(E,nt){1&E&&o._UZ(0,"azt-loading-ui",58)}function Qe(E,nt){1&E&&(o.O4$(),o.TgZ(0,"svg",59),o._UZ(1,"path",60),o.qZA())}function an(E,nt){if(1&E){const j=o.EpF();o.TgZ(0,"button",55),o.NdJ("click",function(){o.CHM(j);const ct=o.oxw().$implicit,I=o.oxw(2);return o.KtG(I.saveMark(ct))}),o.ALo(1,"mytranslate"),o.YNc(2,qe,1,0,"azt-loading-ui",56),o.YNc(3,Qe,2,0,"svg",57),o.qZA()}if(2&E){const j=o.oxw(3);o.s9C("matTooltip",o.lcZ(1,4,"lang_button_save")),o.Q6J("disabled",j.isSave),o.xp6(2),o.Q6J("ngIf",j.isSave),o.xp6(1),o.Q6J("ngIf",!j.isSave)}}function sn(E,nt){if(1&E){const j=o.EpF();o.TgZ(0,"tr")(1,"td")(2,"div",27)(3,"div"),o._uU(4),o.YNc(5,de,4,6,"div",28),o.YNc(6,ze,6,4,"div",29),o.qZA(),o.TgZ(7,"button",30),o.NdJ("click",function(){const I=o.CHM(j).$implicit,X=o.oxw(2);return o.KtG(X.editScore(I))}),o.ALo(8,"mytranslate"),o.O4$(),o.TgZ(9,"svg",31),o._UZ(10,"path",32)(11,"path",33),o.qZA()()()(),o.kcU(),o.TgZ(12,"td",34)(13,"div",35),o.YNc(14,Se,2,1,"div",36),o.YNc(15,nn,2,1,"div",36),o.YNc(16,Fe,3,8,"input",37),o.YNc(17,on,3,2,"button",38),o.YNc(18,an,4,6,"button",39),o.qZA()(),o.TgZ(19,"td",40),o.O4$(),o.TgZ(20,"svg",41),o.NdJ("click",function(){const I=o.CHM(j).$implicit,X=o.oxw(2);return o.KtG(X.goToEditPoint(I))}),o.ALo(21,"mytranslate"),o._UZ(22,"path",42)(23,"polyline",43)(24,"line",44),o.qZA()()()}if(2&E){const j=nt.$implicit,P=o.oxw(2);o.xp6(4),o.hij(" ",j.name," "),o.xp6(1),o.Q6J("ngIf",j.createdAt&&!P.isStudent),o.xp6(1),o.Q6J("ngIf",j.coefficient),o.xp6(1),o.s9C("matTooltip",o.lcZ(8,10,"lang_student_sua_dau_diem")),o.xp6(7),o.Q6J("ngIf","homework"==j.objectType),o.xp6(1),o.Q6J("ngIf","homework"!=j.objectType&&P.inputPointSelect!=j.id),o.xp6(1),o.Q6J("ngIf","homework"!=j.objectType&&P.inputPointSelect==j.id),o.xp6(1),o.Q6J("ngIf",j.canEditMark&&!P.listMarkNew),o.xp6(1),o.Q6J("ngIf",j.canEditMark&&P.listMarkNew&&P.listMarkNew.id==j.id),o.xp6(2),o.s9C("matTooltip",o.lcZ(21,12,"lang_core_go_to_enter_score"))}}function ue(E,nt){1&E&&o._UZ(0,"azt-loading-ui",26)}const K=function(){return[]};function Ce(E,nt){if(1&E){const j=o.EpF();o.TgZ(0,"azt-mat-dialog-content")(1,"div",20),o.YNc(2,Ae,1,0,"azt-loading-ui",21),o.TgZ(3,"azt-filter-box",22),o.NdJ("sendFilter",function(ct){o.CHM(j);const I=o.oxw();return o.KtG(I.filterData(ct))}),o.qZA()(),o.TgZ(4,"table",23)(5,"tbody"),o.YNc(6,sn,25,14,"tr",10),o.TgZ(7,"tr")(8,"td"),o._uU(9),o.ALo(10,"mytranslate"),o.qZA(),o.TgZ(11,"td",24)(12,"div",25),o.YNc(13,ue,1,0,"azt-loading-ui",21),o._uU(14),o.qZA()()()()()()}if(2&E){const j=o.oxw();let P;o.xp6(2),o.Q6J("ngIf",j.statusObj.loading),o.xp6(4),o.Q6J("ngForOf",null!==(P=j.data.marks)&&void 0!==P?P:o.DdM(8,K)),o.xp6(3),o.hij(" ",o.lcZ(10,6,"lang_business_diem_tong_ket")," "),o.xp6(2),o.Q6J("colSpan",2),o.xp6(2),o.Q6J("ngIf",j.isSave),o.xp6(1),o.hij(" ",j.data.averageMark," ")}}function Ie(E,nt){if(1&E&&(o.TgZ(0,"div",45)(1,"span"),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.TgZ(4,"span",46),o._uU(5),o.qZA()()),2&E){const j=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"lang_auto_he_so")),o.xp6(3),o.Oqu(j.coefficient)}}function Xt(E,nt){if(1&E&&(o.TgZ(0,"div",47),o._UZ(1,"azt-check-mark",48),o.qZA()),2&E){const j=o.oxw().$implicit;o.xp6(1),o.Q6J("mark",j.marks.length>0?j.marks[0]:"")}}function Nt(E,nt){if(1&E&&(o.TgZ(0,"div",47),o._UZ(1,"azt-check-mark",48),o.qZA()),2&E){const j=o.oxw().$implicit,P=o.oxw(2);o.xp6(1),o.Q6J("mark",P.returnValue(j))}}function ke(E,nt){if(1&E&&(o.TgZ(0,"tr")(1,"td")(2,"div",27)(3,"div"),o._uU(4),o.YNc(5,Ie,6,4,"div",29),o.qZA()()(),o.TgZ(6,"td",65),o.YNc(7,Xt,2,1,"div",36),o.YNc(8,Nt,2,1,"div",36),o.qZA()()),2&E){const j=nt.$implicit;o.xp6(4),o.hij(" ",j.name," "),o.xp6(1),o.Q6J("ngIf",j.coefficient),o.xp6(2),o.Q6J("ngIf","homework"==j.objectType),o.xp6(1),o.Q6J("ngIf","homework"!=j.objectType)}}function Bt(E,nt){if(1&E&&(o.TgZ(0,"table",61)(1,"thead")(2,"tr")(3,"th",62),o._uU(4),o.ALo(5,"mytranslate"),o.qZA(),o.TgZ(6,"th",63),o._uU(7),o.ALo(8,"mytranslate"),o.qZA()()(),o.TgZ(9,"tbody"),o.YNc(10,ke,9,4,"tr",10),o.TgZ(11,"tr")(12,"td"),o._uU(13),o.ALo(14,"mytranslate"),o.qZA(),o.TgZ(15,"td")(16,"div",64),o._uU(17),o.qZA()()()()()),2&E){const j=o.oxw();let P;o.xp6(4),o.Oqu(o.lcZ(5,5,"lang_student_name_component_score")),o.xp6(3),o.Oqu(o.lcZ(8,7,"lang_testbank_update_exam_point")),o.xp6(3),o.Q6J("ngForOf",null!==(P=j.data.marks)&&void 0!==P?P:o.DdM(11,K)),o.xp6(3),o.hij(" ",o.lcZ(14,9,"lang_business_diem_tong_ket")," "),o.xp6(4),o.hij(" ",j.data.averageMark," ")}}function we(E,nt){if(1&E&&o._UZ(0,"azt-check-mark",48),2&E){const j=o.oxw().$implicit;o.Q6J("mark",j.marks.length>0?j.marks[0]:"")}}function rn(E,nt){if(1&E&&o._UZ(0,"azt-check-mark",48),2&E){const j=o.oxw().$implicit,P=o.oxw();o.Q6J("mark",P.returnValue(j))}}function Ye(E,nt){if(1&E&&(o.TgZ(0,"tr")(1,"td",9),o._uU(2),o.qZA(),o.TgZ(3,"td",9),o._uU(4),o.qZA(),o.TgZ(5,"td",9),o._uU(6),o.qZA(),o.TgZ(7,"td",9),o.YNc(8,we,1,1,"azt-check-mark",66),o.YNc(9,rn,1,1,"azt-check-mark",66),o.qZA()()),2&E){const j=nt.$implicit,P=nt.index,ct=o.oxw();o.xp6(1),o.uIk("excelRow",P+1)("excelColumn",0)("excelStyle",ct.styleTdNormal),o.xp6(1),o.hij(" ",j.name?P+1:""," "),o.xp6(1),o.uIk("excelRow",P+1)("excelColumn",1)("excelStyle",ct.styleTdNormalLeft),o.xp6(1),o.hij(" ",j.name," "),o.xp6(1),o.uIk("excelRow",P+1)("excelColumn",2)("excelStyle",ct.styleTdNotNumberNormal),o.xp6(1),o.hij(" ",j.coefficient," "),o.xp6(1),o.uIk("excelRow",P+1)("excelColumn",3)("excelStyle",ct.styleTdNotNumberNormal),o.xp6(1),o.Q6J("ngIf","homework"==j.objectType),o.xp6(1),o.Q6J("ngIf","homework"!=j.objectType)}}let Be=(()=>{class E extends _t.Q{filterData(j){this.dataFilter=j,this.initStatusObj(),this.getStudent()}getStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.classroomId,getBook:!1,getMark:!0,getAttendance:!1,getPayment:!1,me:this.isStudent??!1,getAssessment:!1}).subscribe({next:P=>{P.list.length>0&&(this.data=P.list[0]),this.stopStatusObj()},error:P=>{this.errorStatusObj(P.error.message,!0)}}))}downloadTableScore(){jt.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var j=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_score_student,!0);let P=this.commonService.createFileNameExportFile(["bang_diem_hoc_sinh"+this.data.fullName])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(j,P),jt.G.closeLoadingEffect(200)}goToEditPoint(j){this.closeDiaglog.emit(),this.myNavigationWithQueryString("/admin/student/submit-score/"+j.classroomId+"/"+j.programId+"/"+j.sessionId,"?studentId="+this.data.id)}viewInput(j){this.inputPointSelect=j}handleMarkStudent(j,P){var ct=this.commonService.handlePointByValueInput(j);this.listMarkNew={id:P,points:ct.length>0?ct:[-1]}}saveMark(j){this.isSave=!0,this.listMarkNew&&this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:j.programId,classroomId:j.classroomId,sessionId:j.sessionId,students:[{id:this.data.id,listMarks:[this.listMarkNew]}]}).subscribe(ct=>{ct?(this.data.marks?.filter(I=>I.id==j.id)?.forEach(I=>I.marks=this.listMarkNew?.points?.find(X=>-1==X)?[]:this.listMarkNew?.points??I.marks),this.getStudent(),this.listMarkNew=void 0,this.inputPointSelect=-1,this.isEdit=!0,this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)):this.errorStatusObj("lang_auto_cap_nhat_diem_khong_thanh_cong",!0),this.isSave=!1}))}editScore(j){j&&this.sAztDialogService.open(dt.h,{data:{...j,canEditName:j.canEditMark},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(P=>{if(P){try{var ct=this.data.marks?.find(I=>I.id==j.id);ct&&(ct.coefficient=P.coefficient,ct.name=P.name)}catch{}this.isEdit=!0}})}returnValue(j){return(j.marks??[]).join(" ")}ngOnInit(){super.ngOnInit()}constructor(j,P,ct,I,X){super(),this.sAztDialogService=j,this.sAztTimeService=P,this.shareFileFlutterService=ct,this.exportExcelService=I,this.studentService=X,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.closeDiaglog=new o.vpe,this.inputPointSelect=-1,this.isSave=!1,this.isEdit=!1,this.commonService=(0,o.f3M)(Ct.z)}ngOnDestroy(){super.ngOnDestroy()}}return E.\u0275fac=function(j){return new(j||E)(o.Y36(yt.C),o.Y36(Q.D),o.Y36(ht.g),o.Y36(ft.L),o.Y36(vt.V))},E.\u0275cmp=o.Xpm({type:E,selectors:[["azt-view-table-score-single"]],viewQuery:function(j,P){if(1&j&&o.Gf(en,5),2&j){let ct;o.iGM(ct=o.CRH())&&(P.table_score_student=ct.first)}},inputs:{data:"data",isStudent:"isStudent"},outputs:{closeDiaglog:"closeDiaglog"},features:[o._Bn([{provide:rt.fM,useClass:x.WG,deps:[e.Ad,m.o8]},{provide:rt.ab,useFactory:t.fX,deps:[Q.D]}]),o.qOj],decls:34,vars:61,consts:[["class","flex justify-end mb-5",4,"ngIf"],[1,"box"],[1,"pt-5","px-5","flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],["class","flex",4,"ngIf"],[4,"ngIf"],["class","table table-report","style","white-space: initial; display: table",4,"ngIf"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score_student",""],[1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","mb-5"],["azt-track-service","view-table-score-single-vS0yZHQHw",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],[1,"w-4","mr-2"],["name","download"],[1,"flex"],["name","download",1,"clickable",2,"width","20px !important","height","20px !important",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","ml-2",3,"matTooltip","click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"pt-3","px-5","flex","justify-end","items-center"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[3,"sendFilter"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[3,"colSpan"],[1,"flex","justify-center","font-bold","items-center"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"flex","items-center"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp",1,"w-5","h-5","inline-block","ml-1",2,"color","gray",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],[1,"text-center",2,"padding","0"],[1,"flex","items-center",2,"position","relative"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltip","id","value","placeholder","input",4,"ngIf"],["azt-track-service","view-table-score-single-lX3L0QoGBo","class","inline-block btn-edit-point zoom-in",3,"click",4,"ngIf"],["azt-track-service","view-table-score-single-uJE-8eAu46","class","inline-block btn-edit-point zoom-in",3,"matTooltip","disabled","click",4,"ngIf"],[1,"text-center",2,"padding","0 10px 0 0"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-external-link","zoom-in","clickable",2,"color","gray",3,"matTooltip","click"],["d","M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"],["points","15 3 21 3 21 9"],["x1","10","x2","21","y1","14","y2","3"],[1,"mt-0.5","text-xs","text-slate-500"],[1,"inline-block","ml-1"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltip","id","value","placeholder","input"],["azt-track-service","view-table-score-single-lX3L0QoGBo",1,"inline-block","btn-edit-point","zoom-in",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-pencil",3,"matTooltip",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-x",3,"matTooltip",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil",3,"matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x",3,"matTooltip"],["azt-track-service","view-table-score-single-uJE-8eAu46",1,"inline-block","btn-edit-point","zoom-in",3,"matTooltip","disabled","click"],["class","loading-upload","type","bootstrap-spinner",4,"ngIf"],["style","color: green;","xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-check",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-check",2,"color","green"],["d","M20 6 9 17l-5-5"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"flex","justify-center","font-bold"],[1,"text-center"],[3,"mark",4,"ngIf"]],template:function(j,P){if(1&j&&(o.YNc(0,Ue,7,3,"div",0),o.TgZ(1,"div",1)(2,"div",2),o._UZ(3,"azt-student-info-box",3),o.YNc(4,ie,7,6,"div",4),o.qZA(),o.YNc(5,Ce,15,9,"azt-mat-dialog-content",5),o.YNc(6,Bt,18,12,"table",6),o.qZA(),o.TgZ(7,"table",7,8)(9,"thead")(10,"tr")(11,"th",9),o._uU(12),o.ALo(13,"mytranslate"),o.qZA(),o.TgZ(14,"th",9),o._uU(15),o.ALo(16,"mytranslate"),o.qZA(),o.TgZ(17,"th",9),o._uU(18),o.ALo(19,"mytranslate"),o.qZA(),o.TgZ(20,"th",9),o._uU(21),o.ALo(22,"mytranslate"),o.qZA()()(),o.TgZ(23,"tbody"),o.YNc(24,Ye,10,17,"tr",10),o.TgZ(25,"tr")(26,"td",9),o._uU(27),o.qZA(),o.TgZ(28,"td",9),o._uU(29),o.ALo(30,"mytranslate"),o.qZA(),o._UZ(31,"td"),o.TgZ(32,"td",9),o._uU(33),o.qZA()()()()),2&j){let ct,I,X,w,q,F;o.Q6J("ngIf",P.isStudent),o.xp6(3),o.Q6J("name",P.data.fullName)("parentFullName",P.data.parentFullName)("parentId",P.data.parentId)("parentPhone",P.data.parentPhone)("phone",P.data.phone)("email",P.data.email)("avatar",P.data.avatar)("gender",P.data.gender)("hasUser",P.data.hasUser),o.xp6(1),o.Q6J("ngIf",!P.isStudent),o.xp6(1),o.Q6J("ngIf",!P.isStudent),o.xp6(1),o.Q6J("ngIf",P.isStudent),o.xp6(1),o.Q6J("border",1),o.xp6(4),o.uIk("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",P.styleThNormal),o.xp6(1),o.hij(" ",o.lcZ(13,50,"lang_student_export_excel_no")," "),o.xp6(2),o.uIk("excelWidth",10)("excelRow",0)("excelColumn",1)("excelStyle",P.styleThNormal),o.xp6(1),o.hij(" ",o.lcZ(16,52,"lang_student_name_component_score")," "),o.xp6(2),o.uIk("excelWidth",10)("excelRow",0)("excelColumn",2)("excelStyle",P.styleThNormal),o.xp6(1),o.hij(" ",o.lcZ(19,54,"lang_auto_he_so")," "),o.xp6(2),o.uIk("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",P.styleThNormal),o.xp6(1),o.hij(" ",o.lcZ(22,56,"lang_testbank_update_exam_point")," "),o.xp6(3),o.Q6J("ngForOf",null!==(ct=P.data.marks)&&void 0!==ct?ct:o.DdM(60,K)),o.xp6(2),o.uIk("excelRow",(null!==(I=null==P.data.marks?null:P.data.marks.length)&&void 0!==I?I:0)+1)("excelColumn",0)("excelStyle",P.styleTdNormal),o.xp6(1),o.hij(" ",(null!==(X=null==P.data.marks?null:P.data.marks.length)&&void 0!==X?X:0)+1," "),o.xp6(1),o.uIk("excelRow",(null!==(w=null==P.data.marks?null:P.data.marks.length)&&void 0!==w?w:0)+1)("excelColumn",1)("excelStyle",P.styleTdNormal),o.xp6(1),o.hij(" ",o.lcZ(30,58,"lang_business_diem_tong_ket")," "),o.xp6(2),o.uIk("excelRow",(null!==(q=null==P.data.marks?null:P.data.marks.length)&&void 0!==q?q:0)+1)("excelColumn",3)("excelStyle",P.styleTdNormal),o.xp6(1),o.uIk("excelRow",(null!==(F=null==P.data.marks?null:P.data.marks.length)&&void 0!==F?F:0)+1)("excelColumn",4)("excelStyle",P.styleTdNotNumberNormal),o.xp6(1),o.hij(" ",P.data.averageMark," ")}},dependencies:[bt.sg,bt.O5,et.gM,S.B,B.R,at.n,ut.a,_e,Pe.$Z,Ze.Nh5,Dt.JV,Dt.YK],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),E})(),Zt=(()=>{class E extends xt.e{closeDiaglog(j){this.dialogRef.close(j)}ngOnInit(){super.ngOnInit()}constructor(j,P){super(P,j),this.dialogRef=j,this.data=P}ngOnDestroy(){super.ngOnDestroy()}}return E.\u0275fac=function(j){return new(j||E)(o.Y36(l.so,8),o.Y36(l.WI,8))},E.\u0275cmp=o.Xpm({type:E,selectors:[["azt-table-score-single"]],features:[o._Bn([{provide:rt.fM,useClass:x.WG,deps:[e.Ad,m.o8]},{provide:rt.ab,useFactory:t.fX,deps:[Q.D]}]),o.qOj],decls:1,vars:1,consts:[[3,"data","closeDiaglog"]],template:function(j,P){1&j&&(o.TgZ(0,"azt-view-table-score-single",0),o.NdJ("closeDiaglog",function(I){return P.closeDiaglog(I)}),o.qZA()),2&j&&o.Q6J("data",P.data)},dependencies:[Be],encapsulation:2}),E})()},9400:(tn,Yt,b)=>{b.d(Yt,{B:()=>ct});var rt=b(52572),m=b(47496),e=b(89156),l=b(6050),x=b(93283),t=b(63278),xt=b(86),Q=b(81176),o=b(65879),Ct=b(68172),_t=b(68719),jt=b(84003),dt=b(2783),yt=b(59708),ht=b(38228),ft=b(21266),vt=b(97151),bt=b(96814),et=b(92596),S=b(43389),B=b(83306),at=b(91675),ut=b(71646),lt=b(51261),Dt=b(25368),pt=b(1103),ne=b(60381),oe=b(37722),Rt=b(36727);const Te=["table_score"];function Oe(I,X){1&I&&(o.TgZ(0,"div",6)(1,"h3",7),o._uU(2),o.ALo(3,"mytranslate"),o.qZA()()),2&I&&(o.xp6(2),o.Oqu(o.lcZ(3,1,"lang_student_enter_score")))}function De(I,X){if(1&I){const w=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(){o.CHM(w);const F=o.oxw(2);return o.KtG(F.createNewScore())}),o.O4$(),o.TgZ(1,"svg",18),o._UZ(2,"line",19)(3,"line",20),o.qZA(),o.kcU(),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"mytranslate"),o.qZA()()}2&I&&(o.xp6(5),o.Oqu(o.lcZ(6,1,"lang_student_enter_new_component_score")))}function Ee(I,X){if(1&I){const w=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){o.CHM(w);const F=o.oxw(2);return o.KtG(F.downloadTableScore())}),o.TgZ(1,"div",22),o._UZ(2,"lucide-icon",23),o.qZA(),o.TgZ(3,"span"),o._uU(4),o.ALo(5,"mytranslate"),o.qZA()()}2&I&&(o.xp6(4),o.Oqu(o.lcZ(5,1,"lang_student_export_a_grade_sheet")))}function ve(I,X){1&I&&o._UZ(0,"azt-loading-ui",26)}function fe(I,X){if(1&I){const w=o.EpF();o.TgZ(0,"button",24),o.NdJ("click",function(){o.CHM(w);const F=o.oxw(2);return o.KtG(F.saveMark())}),o.YNc(1,ve,1,0,"azt-loading-ui",25),o._uU(2),o.ALo(3,"mytranslate"),o.qZA()}if(2&I){const w=o.oxw(2);o.Q6J("disabled",0==w.listStudentMark.length||w.isSave),o.xp6(1),o.Q6J("ngIf",w.isSave),o.xp6(1),o.hij(" ",o.lcZ(3,3,"lang_auto_luu")," ")}}function xe(I,X){if(1&I){const w=o.EpF();o.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"azt-search-box",11),o.NdJ("onSearch",function(F){o.CHM(w);const st=o.oxw();return o.KtG(st.onSearchBox(F.searchObj))}),o.ALo(4,"mytranslate"),o.qZA()(),o.TgZ(5,"div",12),o.YNc(6,De,7,3,"button",13),o.YNc(7,Ee,6,3,"button",14),o.TgZ(8,"flexed-on-the-top",15),o.YNc(9,fe,4,5,"button",16),o.qZA()()()()}if(2&I){const w=o.oxw();o.xp6(3),o.Q6J("isServerSearch",!0)("placeholder",o.lcZ(4,6,"lang_core_tim_theo_ten_phone_email")),o.xp6(3),o.Q6J("ngIf","ENTER_SCORE"==w.screenType),o.xp6(1),o.Q6J("ngIf","TABLE_SCORE"==w.screenType),o.xp6(1),o.Q6J("colorBackground","#f0f8ffe8"),o.xp6(1),o.Q6J("ngIf","ENTER_SCORE"==w.screenType)}}function _e(I,X){1&I&&o._UZ(0,"azt-loading-effect")}function Pe(I,X){1&I&&(o.TgZ(0,"div",32),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&I&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Ze(I,X){if(1&I&&(o.TgZ(0,"div",48)(1,"span"),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.TgZ(4,"span",49),o._uU(5),o.qZA()()),2&I){const w=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"lang_auto_he_so")),o.xp6(3),o.Oqu(w.coefficient)}}function en(I,X){if(1&I){const w=o.EpF();o.TgZ(0,"button",50),o.NdJ("click",function(){o.CHM(w);const F=o.oxw().$implicit,st=o.oxw(3);return o.KtG(st.createNewScore(F))}),o.ALo(1,"mytranslate"),o.O4$(),o.TgZ(2,"svg",51),o._UZ(3,"path",52)(4,"path",53),o.qZA()()}2&I&&o.s9C("matTooltip",o.lcZ(1,1,"lang_student_sua_dau_diem"))}function Ue(I,X){if(1&I){const w=o.EpF();o.TgZ(0,"button",54),o.NdJ("click",function(){o.CHM(w);const F=o.oxw().$implicit,st=o.oxw(3);return o.KtG(st.deleteMark(F))}),o.ALo(1,"mytranslate"),o.O4$(),o.TgZ(2,"svg",55),o._UZ(3,"path",56)(4,"path",57)(5,"path",58)(6,"line",59)(7,"line",60),o.qZA()()}2&I&&o.s9C("matTooltip",o.lcZ(1,1,"lang_button_delete"))}function ie(I,X){if(1&I&&(o.TgZ(0,"th",40)(1,"div",41)(2,"div",42)(3,"div",43),o._uU(4),o.qZA(),o.TgZ(5,"div",44),o.YNc(6,Ze,6,4,"div",45),o.YNc(7,en,5,3,"button",46),o.YNc(8,Ue,8,3,"button",47),o.qZA()()()()),2&I){const w=X.$implicit,q=o.oxw(3);o.xp6(3),o.s9C("matTooltip",w.name),o.xp6(1),o.Oqu(w.name),o.xp6(2),o.Q6J("ngIf",w.coefficient),o.xp6(1),o.Q6J("ngIf",!q.isStudent),o.xp6(1),o.Q6J("ngIf",w.canEditName)}}function Ae(I,X){1&I&&(o.TgZ(0,"th",61),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&I&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"lang_business_diem_tong_ket")))}function de(I,X){if(1&I&&(o.TgZ(0,"div",71),o._UZ(1,"azt-check-mark",72),o.qZA()),2&I){const w=o.oxw().$implicit;o.xp6(1),o.Q6J("mark",w.marks.length>0?w.marks[0]:"")}}function ze(I,X){if(1&I&&(o.TgZ(0,"div",71),o._UZ(1,"azt-check-mark",72),o.qZA()),2&I){const w=o.oxw().$implicit,q=o.oxw(4);o.xp6(1),o.Q6J("mark",q.returnValue(w))}}function Se(I,X){if(1&I){const w=o.EpF();o.TgZ(0,"input",73),o.NdJ("input",function(F){o.CHM(w);const st=o.oxw().index,At=o.oxw().index,Ht=o.oxw(3);return o.KtG(Ht.handleMarkStudent(F,At,st))}),o.ALo(1,"mytranslate"),o.ALo(2,"mytranslate"),o.qZA()}if(2&I){const w=o.oxw().$implicit,q=o.oxw().$implicit,F=o.oxw(3);o.s9C("matTooltip",o.lcZ(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),o.s9C("id",w.id.toString()+"-"+q.id.toString()),o.s9C("placeholder",o.lcZ(2,7,"lang_auto_nhap_diem")),o.Q6J("matTooltipDisabled",!w.canEditMark)("value",F.returnValue(w))}}function nn(I,X){if(1&I&&(o.TgZ(0,"td",67),o.YNc(1,de,2,1,"div",68),o.YNc(2,ze,2,1,"div",68),o.YNc(3,Se,3,9,"input",69),o._UZ(4,"div",70),o.qZA()),2&I){const w=X.$implicit,q=o.oxw().$implicit,F=o.oxw(3);o.Q6J("hidden","TABLE_SCORE"==F.screenType),o.xp6(1),o.Q6J("ngIf","homework"==w.objectType),o.xp6(1),o.Q6J("ngIf","homework"!=w.objectType&&(!w.canEditMark||"ENTER_SCORE"!=F.screenType)),o.xp6(1),o.Q6J("ngIf","homework"!=w.objectType&&w.canEditMark),o.xp6(1),o.MGl("id","error-",w.id.toString()+"-"+q.id.toString(),""),o.Q6J("hidden",!0)}}function Fe(I,X){if(1&I&&(o.TgZ(0,"td")(1,"div",74),o._uU(2),o.qZA()()),2&I){const w=o.oxw().$implicit;o.xp6(2),o.hij(" ",w.averageMark," ")}}const Wt=function(){return[]};function Je(I,X){if(1&I){const w=o.EpF();o.TgZ(0,"tr",62)(1,"td",63),o.NdJ("click",function(){const st=o.CHM(w).$implicit,At=o.oxw(3);return o.KtG(At.openDialogTableSingle(st))}),o._UZ(2,"azt-student-info-box",64),o.qZA(),o.TgZ(3,"td",65),o._uU(4),o.ALo(5,"formatStudentCodeToNumber"),o.qZA(),o.YNc(6,nn,5,6,"td",66),o.YNc(7,Fe,3,1,"td",30),o.qZA()}if(2&I){const w=X.$implicit,q=o.oxw(3);let F;o.Q6J("id","row_student_"+w.id),o.xp6(2),o.Q6J("name",w.fullName)("parentFullName",w.parentFullName)("parentId",w.parentId)("parentPhone",w.parentPhone)("avatar",w.avatar)("gender",w.gender)("hasUser",w.hasUser)("schoolName",w.schoolName)("classrooms",w.classrooms)("joinedAt",w.joinedAt),o.xp6(2),o.Oqu(w.identificationNumber?o.xi3(5,14,w.identificationNumber,6):""),o.xp6(2),o.Q6J("ngForOf",null!==(F=w.marks)&&void 0!==F?F:o.DdM(17,Wt)),o.xp6(1),o.Q6J("ngIf","TABLE_SCORE"==q.screenType)}}function on(I,X){if(1&I&&(o.TgZ(0,"div",33)(1,"drag-scroll")(2,"table",34)(3,"thead")(4,"tr")(5,"th",35),o._uU(6),o.ALo(7,"mytranslate"),o.qZA(),o.TgZ(8,"th",36),o._uU(9),o.ALo(10,"mytranslate"),o.qZA(),o.YNc(11,ie,9,5,"th",37),o.YNc(12,Ae,3,3,"th",38),o.qZA()(),o.TgZ(13,"tbody"),o.YNc(14,Je,8,18,"tr",39),o.qZA()()()()),2&I){const w=o.oxw(2);let q,F;o.xp6(6),o.Oqu(o.lcZ(7,5,"lang_auto_ho_va_ten")),o.xp6(3),o.Oqu(o.lcZ(10,7,"lang_auto_so_bao_danh")),o.xp6(2),o.Q6J("ngForOf",null!==(q=null==w.dataMark?null:w.dataMark.list)&&void 0!==q?q:o.DdM(9,Wt)),o.xp6(1),o.Q6J("ngIf","TABLE_SCORE"==w.screenType),o.xp6(2),o.Q6J("ngForOf",null!==(F=null==w.dataStudent?null:w.dataStudent.list)&&void 0!==F?F:o.DdM(10,Wt))}}function qe(I,X){if(1&I&&(o.TgZ(0,"div",77),o._UZ(1,"azt-student-info-box",78),o.TgZ(2,"div",79)(3,"div",80),o._uU(4),o.ALo(5,"mytranslate"),o.qZA(),o.TgZ(6,"div",80),o._uU(7),o.qZA()()()),2&I){const w=X.$implicit;o.xp6(1),o.Q6J("name",w.fullName)("parentFullName",w.parentFullName)("parentId",w.parentId)("parentPhone",w.parentPhone)("phone",w.phone)("email",w.email)("avatar",w.avatar)("gender",w.gender)("hasUser",w.hasUser),o.xp6(3),o.hij(" ",o.lcZ(5,11,"lang_business_diem_tong_ket")," "),o.xp6(3),o.hij(" ",w.averageMark," ")}}function Qe(I,X){1&I&&o._UZ(0,"lucide-icon",85)}function an(I,X){1&I&&o._UZ(0,"lucide-icon",86)}function sn(I,X){if(1&I&&(o.TgZ(0,"div",96)(1,"span"),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.TgZ(4,"span",49),o._uU(5),o.qZA()()),2&I){const w=o.oxw().$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"lang_auto_he_so")),o.xp6(3),o.Oqu(w.coefficient)}}function ue(I,X){if(1&I&&(o.TgZ(0,"div",97),o._UZ(1,"azt-check-mark",72),o.qZA()),2&I){const w=o.oxw().$implicit;o.xp6(1),o.Q6J("mark",w.marks.length>0?w.marks[0]:"")}}function K(I,X){if(1&I&&(o.TgZ(0,"div",97),o._UZ(1,"azt-check-mark",72),o.qZA()),2&I){const w=o.oxw().$implicit,q=o.oxw(6);o.xp6(1),o.Q6J("mark",q.returnValue(w))}}function Ce(I,X){if(1&I&&(o.TgZ(0,"tr")(1,"td")(2,"div",92)(3,"div"),o._uU(4),o.YNc(5,sn,6,4,"div",93),o.qZA()()(),o.TgZ(6,"td",94),o.YNc(7,ue,2,1,"div",95),o.YNc(8,K,2,1,"div",95),o.qZA()()),2&I){const w=X.$implicit;o.xp6(4),o.hij(" ",w.name," "),o.xp6(1),o.Q6J("ngIf",w.coefficient),o.xp6(2),o.Q6J("ngIf","homework"==w.objectType),o.xp6(1),o.Q6J("ngIf","homework"!=w.objectType)}}function Ie(I,X){if(1&I&&(o.TgZ(0,"div",88)(1,"table",89)(2,"thead")(3,"tr")(4,"th",90),o._uU(5),o.ALo(6,"mytranslate"),o.qZA(),o.TgZ(7,"th",91),o._uU(8),o.ALo(9,"mytranslate"),o.qZA()()(),o.TgZ(10,"tbody"),o.YNc(11,Ce,9,4,"tr",76),o.qZA()()()),2&I){const w=o.oxw(2).$implicit;o.xp6(5),o.Oqu(o.lcZ(6,3,"lang_student_name_component_score")),o.xp6(3),o.Oqu(o.lcZ(9,5,"lang_testbank_update_exam_point")),o.xp6(3),o.Q6J("ngForOf",w.marks)}}function Xt(I,X){if(1&I&&(o.ynx(0),o.YNc(1,Ie,12,7,"div",87),o.BQk()),2&I){const w=o.oxw(4);o.xp6(1),o.Q6J("ngIf",w.isStudent)}}function Nt(I,X){if(1&I){const w=o.EpF();o.TgZ(0,"div")(1,"h3",81)(2,"span",82),o.NdJ("click",function(){const st=o.CHM(w).$implicit;return o.KtG(st.expand=!st.expand)}),o._uU(3),o.ALo(4,"mytranslate"),o.YNc(5,Qe,1,0,"lucide-icon",83),o.YNc(6,an,1,0,"lucide-icon",84),o.qZA()(),o.YNc(7,Xt,2,1,"ng-container",30),o.qZA()}if(2&I){const w=X.$implicit;o.xp6(3),o.AsE(" ",o.lcZ(4,5,"lang_core_thang")," ",w.date," "),o.xp6(2),o.Q6J("ngIf",w.expand),o.xp6(1),o.Q6J("ngIf",!w.expand),o.xp6(1),o.Q6J("ngIf",w.expand)}}function ke(I,X){if(1&I&&(o.TgZ(0,"div"),o.YNc(1,qe,8,13,"div",75),o.YNc(2,Nt,8,7,"div",76),o.qZA()),2&I){const w=o.oxw(2);let q;o.xp6(1),o.Q6J("ngForOf",null!==(q=null==w.dataStudent?null:w.dataStudent.list)&&void 0!==q?q:o.DdM(2,Wt)),o.xp6(1),o.Q6J("ngForOf",w.listGroupMarkDate)}}function Bt(I,X){if(1&I){const w=o.EpF();o.TgZ(0,"azt-paging",101),o.NdJ("goToPaginationPage",function(F){o.CHM(w);const st=o.oxw(3);return o.KtG(st.setPageStudent(F))}),o.qZA()}if(2&I){const w=o.oxw(3);o.Q6J("pageObj",w.pageObj)}}function we(I,X){if(1&I&&(o.TgZ(0,"div",12),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&I){const w=o.oxw(3);o.xp6(1),o.AsE(" ",w.dataStudent.total," ",o.lcZ(2,2,"lang_notify_list_students")," ")}}function rn(I,X){if(1&I&&(o.TgZ(0,"div",98),o._UZ(1,"div"),o.YNc(2,Bt,1,1,"azt-paging",99),o.YNc(3,we,3,4,"div",100),o.qZA()),2&I){const w=o.oxw(2);o.xp6(2),o.Q6J("ngIf",w.dataStudent.total>w.pageObj.pageSize),o.xp6(1),o.Q6J("ngIf",!w.isStudent)}}function Ye(I,X){if(1&I&&(o.TgZ(0,"div",27),o.YNc(1,Pe,3,3,"div",28),o.YNc(2,on,15,11,"div",29),o.YNc(3,ke,3,3,"div",30),o.qZA(),o.YNc(4,rn,4,2,"div",31)),2&I){const w=o.oxw();let q,F,st;o.xp6(1),o.Q6J("ngIf",!w.isStudent&&0==(null==w.dataStudent||null==w.dataStudent.list?null:w.dataStudent.list.length)&&0==(null!==(q=null==w.dataStudent?null:w.dataStudent.total)&&void 0!==q?q:0)),o.xp6(1),o.Q6J("ngIf",!w.isStudent&&(null!==(F=null==w.dataStudent||null==w.dataStudent.list?null:w.dataStudent.list.length)&&void 0!==F?F:0)>0),o.xp6(1),o.Q6J("ngIf",w.isStudent),o.xp6(1),o.Q6J("ngIf",w.dataStudent&&w.dataStudent.total&&(null!==(st=null==w.dataStudent?null:w.dataStudent.total)&&void 0!==st?st:0)>0)}}function Be(I,X){if(1&I&&(o.TgZ(0,"th",104),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&I){const w=X.$implicit,q=X.index,F=o.oxw(2);o.uIk("excelWidth",20)("excelRow",0)("excelColumn",6+q)("excelStyle",F.styleThNormal),o.xp6(1),o.AsE(" ",w.name+"\n"," "," ("+o.lcZ(2,6,"lang_auto_he_so")+" "+w.coefficient+")"," ")}}function Zt(I,X){if(1&I&&o._UZ(0,"azt-check-mark",72),2&I){const w=o.oxw().$implicit;o.Q6J("mark",w.marks.length>0?w.marks[0]:"")}}function E(I,X){if(1&I&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&I){const w=o.oxw().$implicit,q=o.oxw(3);o.xp6(1),o.hij(" ",q.returnValue(w)," ")}}function nt(I,X){if(1&I&&(o.TgZ(0,"td",104),o.YNc(1,Zt,1,1,"azt-check-mark",106),o.YNc(2,E,2,1,"span",30),o.qZA()),2&I){const w=X.$implicit,q=X.index,F=o.oxw().index,st=o.oxw(2);o.uIk("excelRow",F+1)("excelColumn",6+q)("excelStyle",st.styleTdNormal),o.xp6(1),o.Q6J("ngIf","homework"==w.objectType),o.xp6(1),o.Q6J("ngIf","homework"!=w.objectType)}}function j(I,X){if(1&I&&(o.TgZ(0,"tr")(1,"td",104),o._uU(2),o.qZA(),o.TgZ(3,"td",104),o._uU(4),o.qZA(),o.TgZ(5,"td",104),o._uU(6),o.qZA(),o.TgZ(7,"td",104),o._uU(8),o.qZA(),o.TgZ(9,"td",104),o._uU(10),o.ALo(11,"formatOnlyDateByUserUnitPipe"),o.qZA(),o.TgZ(12,"td",104),o._uU(13),o.ALo(14,"mytranslate"),o.ALo(15,"mytranslate"),o.qZA(),o.YNc(16,nt,3,5,"td",105),o.TgZ(17,"td",104),o._uU(18),o.qZA()()),2&I){const w=X.$implicit,q=X.index,F=o.oxw(2);let st,At;o.xp6(1),o.uIk("excelRow",q+1)("excelColumn",0)("excelStyle",F.styleTdNormal),o.xp6(1),o.hij(" ",null!=w&&w.fullName?q+1:""," "),o.xp6(1),o.uIk("excelRow",q+1)("excelColumn",1)("excelStyle",F.styleTdNormalLeft),o.xp6(1),o.hij(" ",null==w?null:w.fullName," "),o.xp6(1),o.uIk("excelRow",q+1)("excelColumn",2)("excelStyle",F.styleTdNotNumberNormal),o.xp6(1),o.hij(" ",null==w?null:w.phone," "),o.xp6(1),o.uIk("excelRow",q+1)("excelColumn",3)("excelStyle",F.styleTdNormal),o.xp6(1),o.hij(" ",null==w?null:w.email," "),o.xp6(1),o.uIk("excelRow",q+1)("excelColumn",4)("excelStyle",F.styleTdNormal),o.xp6(1),o.hij(" ",o.lcZ(11,29,null==w?null:w.birthday)," "),o.xp6(2),o.uIk("excelRow",q+1)("excelColumn",5)("excelStyle",F.styleTdNormal),o.xp6(1),o.hij(" ",1==(null==w?null:w.gender)?o.lcZ(14,31,"lang_student_export_excel_gender_male"):0==(null==w?null:w.gender)?o.lcZ(15,33,"lang_student_export_excel_gender_female"):""," "),o.xp6(3),o.Q6J("ngForOf",null!==(st=w.marks)&&void 0!==st?st:o.DdM(35,Wt)),o.xp6(1),o.uIk("excelRow",q+1)("excelColumn",6+(null!==(At=null==w.marks?null:w.marks.length)&&void 0!==At?At:0))("excelStyle",F.styleTdNotNumberNormal),o.xp6(1),o.hij(" ",w.averageMark," ")}}function P(I,X){if(1&I&&(o.TgZ(0,"table",102,103)(2,"thead")(3,"tr")(4,"th",104),o._uU(5),o.ALo(6,"mytranslate"),o.qZA(),o.TgZ(7,"th",104),o._uU(8),o.ALo(9,"mytranslate"),o.qZA(),o.TgZ(10,"th",104),o._uU(11),o.ALo(12,"mytranslate"),o.qZA(),o.TgZ(13,"th",104),o._uU(14),o.ALo(15,"mytranslate"),o.qZA(),o.TgZ(16,"th",104),o._uU(17),o.ALo(18,"mytranslate"),o.qZA(),o.TgZ(19,"th",104),o._uU(20),o.ALo(21,"mytranslate"),o.qZA(),o.YNc(22,Be,3,8,"th",105),o.TgZ(23,"th",104),o._uU(24),o.ALo(25,"mytranslate"),o.qZA()()(),o.TgZ(26,"tbody"),o.YNc(27,j,19,36,"tr",76),o.qZA()()),2&I){const w=o.oxw();let q,F,st;o.Q6J("border",1),o.xp6(4),o.uIk("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",w.styleThNormal),o.xp6(1),o.hij(" ",o.lcZ(6,38,"lang_student_export_excel_no")," "),o.xp6(2),o.uIk("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",w.styleThNormal),o.xp6(1),o.hij(" ",o.lcZ(9,40,"lang_student_export_excel_full_name")," "),o.xp6(2),o.uIk("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",w.styleThNormal),o.xp6(1),o.hij(" ",o.lcZ(12,42,"lang_number_phone")," "),o.xp6(2),o.uIk("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",w.styleThNormal),o.xp6(1),o.hij(" ",o.lcZ(15,44,"lang_student_export_excel_email")," "),o.xp6(2),o.uIk("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",w.styleThNormal),o.xp6(1),o.hij(" ",o.lcZ(18,46,"lang_student_export_excel_birthday")," "),o.xp6(2),o.uIk("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",w.styleThNormal),o.xp6(1),o.hij(" ",o.lcZ(21,48,"lang_student_export_excel_gender")," "),o.xp6(2),o.Q6J("ngForOf",null!==(q=null==w.dataMark?null:w.dataMark.list)&&void 0!==q?q:o.DdM(52,Wt)),o.xp6(1),o.uIk("excelWidth",20)("excelRow",0)("excelColumn",6+(null!==(F=null==w.dataMark||null==w.dataMark.list?null:w.dataMark.list.length)&&void 0!==F?F:0))("excelStyle",w.styleThNormal),o.xp6(1),o.hij(" ",o.lcZ(25,50,"lang_business_diem_tong_ket")," "),o.xp6(3),o.Q6J("ngForOf",null!==(st=null==w.dataStudent?null:w.dataStudent.list)&&void 0!==st?st:o.DdM(53,Wt))}}let ct=(()=>{class I extends m.Q{goToProfile(w,q){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+w+"/"+q,"?backto="+encodeURIComponent("ENTER_SCORE"==this.screenType?"/admin/student/submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"/admin/student/classroom-details/"+this.classroomId+"/4"))}setPageStudent(w){this.myNavigationWithQueryString("/admin/student/"+("ENTER_SCORE"==this.screenType?"submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"classroom-details/"+this.classroomId+"/4"),"?page="+w),this.initStatusObj(),this.pageObj.setPageNumber(w),this.getListStudent()}openDialogTableSingle(w){"ENTER_SCORE"!=this.screenType?this.sAztDialogService.open(Q.m,{width:"700px",restoreFocus:!1,data:w}).afterClosed().subscribe(q=>{q&&this.getListStudent()}):(w.classroomId||w.id)&&this.goToProfile(w.classroomId,w.id)}onSearchBox(w){this.searchContentObj=w,this.setPageStudent(1),this.initStatusObj()}downloadTableScore(){e.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var w=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let q=this.commonService.createFileNameExportFile(["bang_diem_lop_"+this.classroomObj?.name])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(w,q),e.G.closeLoadingEffect(200)}handlePointByValueInput(w){var q=w.target;let F=""===q.value.trim()?"":q.value;F=F.replace(/[^\d\s,\.]/g,""),F=F.replace(/,/g,"."),F=F.replace(/\s+/g," "),F=F.replace(/\.{2,}/g,"."),F=F.replace(/(?:^|\s)\./g," 0."),F=F.replace(/^\s+/,""),F=F.replace(/\.\s/g," ");var st=F.split(" ");if(st.length>0){var At=""!=st[st.length-1]?st[st.length-1]:st[st.length-2];Number(At)>-1?At.split(".").length>1&&At.split(".")[1].length>2&&(F=F.substring(0,F.length-1)):F=F.replace(/\.$/," ")}return q.value=F,F.split(" ").filter(St=>""!=St).map(St=>parseFloat(St))}handleMarkStudent(w,q,F){var st=this.handlePointByValueInput(w);st=0==st.length?[-1]:st;var At=this.dataStudent.list[q],Ht=this.dataMark.list[F],ae=this.listStudentMark.findIndex(He=>He.id==At.id);if(ae>-1){var St=(this.listStudentMark[ae].listMarks??[]).findIndex(He=>He.id==Ht.id);St>-1?this.listStudentMark[ae].listMarks[St].points=st:this.listStudentMark[ae].listMarks?.push({id:Ht.id,points:st})}else this.listStudentMark.push({id:At.id,listMarks:[{id:Ht.id,points:st}]})}returnValue(w){return(w.marks??[]).join(" ")}saveMark(){this.isSave=!0,this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listStudentMark}).subscribe({next:q=>{this.getListStudent(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0),this.isSave=!1},error:q=>{this.errorStatusObj(q.error.message,!0),this.isSave=!1}}))}createNewScore(w){this.isStudent||this.sAztDialogService.open(xt.h,{data:w||{programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(F=>{F&&this.getListMark()})}getListMark(){this.waitDestroy(this.commonMarkService.apiCommonMarksListPost({page:this.pageMark,size:1e3,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId}).subscribe({next:q=>{this.dataMark=q,this.getListStudent()},error:q=>{this.errorStatusObj(q.error.message,!0)}}))}deleteMark(w){var q=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+w.name+" </div> ?";this.sAztDialogService.open(x.s,{data:{content:q},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(F=>{F&&this.waitDestroy(this.commonMarkService.apiCommonMarksIdDelete(w.id).subscribe({next:st=>{this.getListMark()},error:st=>{this.errorStatusObj(st.error.message,!0)}}))})}getClassroomObj(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(w=>{1==w.success&&(this.classroomObj=w.data?.obj,this.successStatusObj())}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1}).subscribe({next:q=>{this.dataStudent=q,this.pageObj.setTotalPages(this.dataStudent?.total??0),this.isStudent?this.handleGroupMarkByDate(q.list):setTimeout(()=>this.scrollElementStudentById(),500),this.stopStatusObj()},error:q=>{this.errorStatusObj(q.error.message,!0)}}))}handleGroupMarkByDate(w){let q=[];w.forEach(st=>{let At=st.marks?.map(Ht=>({...Ht,monthAndYear:this.sAztTimeService.formatDateToMonthYear(Ht.createdAt)}))??[];q=q.concat(At)});let F=this.commonService.arrayToDictionary(q,st=>st.monthAndYear);this.listGroupMarkDate=Object.entries(F).map(([st,At])=>({date:st,marks:At,expand:!1}))}scrollElementStudentById(){if(this.studentId){var w=document.getElementById("row_student_"+this.studentId);w&&w.scrollIntoView({behavior:"smooth",block:"start"})}}ngOnInit(){(0,rt.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.studentId=this.commonService.getMyQueryParam("studentId"),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))}),super.ngOnInit(),"ENTER_SCORE"==this.screenType?this.getListMark():this.getListStudent(),this.getClassroomObj()}constructor(w,q,F,st,At,Ht,ae,St){super(),this.commonMarkService=w,this.studentService=q,this.sAztTimeService=F,this.sAztDialogService=st,this.classroomService=At,this.exportExcelService=Ht,this.activeRoute=ae,this.shareFileFlutterService=St,this.screenType="ENTER_SCORE",this.classroomId=0,this.programId=0,this.sessionId=0,this.isStudent=!0,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.pageMark=1,this.listStudentMark=[],this.listGroupMarkDate=[],this.isSave=!1,this.pageObj=new l.m(20),this.searchContentObj=new t.h}}return I.\u0275fac=function(w){return new(w||I)(o.Y36(Ct.Q),o.Y36(_t.V),o.Y36(jt.D),o.Y36(dt.C),o.Y36(yt.u),o.Y36(ht.L),o.Y36(ft.gz),o.Y36(vt.g))},I.\u0275cmp=o.Xpm({type:I,selectors:[["app-table-score"]],viewQuery:function(w,q){if(1&w&&o.Gf(Te,5),2&w){let F;o.iGM(F=o.CRH())&&(q.table_answer=F.first)}},inputs:{screenType:"screenType",classroomId:"classroomId",programId:"programId",sessionId:"sessionId",isStudent:"isStudent"},features:[o.qOj],decls:7,vars:5,consts:[[1,"grid","grid-cols-12","gap-6","mt-5"],["class","col-span-12 md:col-span-6",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12",4,"ngIf"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","placeholder","onSearch"],[1,"flex","justify-end"],["azt-track-service","enter-score-ULGPeBf6V","class","btn btn-primary flex mr-2",3,"click",4,"ngIf"],["azt-track-service","table-score-n5S54LPUX","class","btn btn-primary flex btn-download-excel",3,"click",4,"ngIf"],[3,"colorBackground"],["azt-track-service","enter-score-OlvWZNI2DZ","class","btn btn-primary shadow-md sm:mt-0 ml-2",3,"disabled","click",4,"ngIf"],["azt-track-service","enter-score-ULGPeBf6V",1,"btn","btn-primary","flex","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","flex","items-center","justify-center"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],["azt-track-service","table-score-n5S54LPUX",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],[1,"w-5","h-5","mr-2"],["name","download"],["azt-track-service","enter-score-OlvWZNI2DZ",1,"btn","btn-primary","shadow-md","sm:mt-0","ml-2",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["class","block","style","height: 100%",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-10","text-center"],[1,"block",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center","style","max-width: 120px !important",4,"ngFor","ngForOf"],["class","text-center whitespace-nowrap",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"text-center",2,"max-width","120px !important"],[1,"flex","items-center","justify-center"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],[1,"flex","justify-between",2,"width","max-content"],["class","col-score","class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["azt-track-service","enter-score-YQX6a-qxwK","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],["azt-track-service","table-score-8Xr_zTWDT","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],["azt-track-service","enter-score-YQX6a-qxwK",1,"inline-block","ml-1",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],["azt-track-service","table-score-8Xr_zTWDT",1,"inline-block","ml-1",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-trash-2",2,"color","red"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","x2","10","y1","11","y2","17"],["x1","14","x2","14","y1","11","y2","17"],[1,"text-center","whitespace-nowrap"],[3,"id"],["azt-track-service","table-score-iwGAjYKV2",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",3,"hidden",4,"ngFor","ngForOf"],[1,"text-center",3,"hidden"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input"],[1,"flex","justify-center","font-bold"],["class","box p-3 mb-5 flex justify-between",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"box","p-3","mb-5","flex","justify-between"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"text-center"],[1,"font-bold"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","table-score-4mYihdNPO",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px!important; height: 18px!important; vertical-align: top;",4,"ngIf"],["name","chevron-right","style","width: 18px!important; height: 18px!important; vertical-align: top;",4,"ngIf"],["name","chevron-down",2,"width","18px!important","height","18px!important","vertical-align","top"],["name","chevron-right",2,"width","18px!important","height","18px!important","vertical-align","top"],["class","box mt-3 mb-1",4,"ngIf"],[1,"box","mt-3","mb-1"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","100px"],[1,"flex","items-center"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],[1,"text-center","font-bold"],["style","max-width: 100px",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[2,"max-width","100px"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score",""],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[3,"mark",4,"ngIf"]],template:function(w,q){if(1&w&&(o.TgZ(0,"div",0),o.YNc(1,Oe,4,3,"div",1),o.YNc(2,xe,10,8,"div",2),o.qZA(),o.YNc(3,_e,1,0,"azt-loading-effect",3),o.YNc(4,Ye,5,4,"ng-template",null,4,o.W1O),o.YNc(6,P,28,54,"table",5)),2&w){const F=o.MAs(5);o.xp6(1),o.Q6J("ngIf","ENTER_SCORE"==q.screenType),o.xp6(1),o.Q6J("ngIf",!q.isStudent),o.xp6(1),o.Q6J("ngIf",q.statusObj.loading)("ngIfElse",F),o.xp6(3),o.Q6J("ngIf","TABLE_SCORE"==q.screenType)}},dependencies:[bt.sg,bt.O5,et.gM,S.l,B.L,at.B,ut.n,lt.s,Dt.W,pt.a,ne.HU,ne.$Z,oe.Nh5,Rt.JV,Rt.gw,Rt.YK],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}@media (max-width: 639px){.btn-download-excel[_ngcontent-%COMP%]{width:100%!important}}.box-point-homework[_ngcontent-%COMP%]{min-width:120px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}"]}),I})()},93733:(tn,Yt,b)=>{b.d(Yt,{Y:()=>x});var rt=b(47496),m=b(65879),e=b(21266),l=b(9400);let x=(()=>{class t extends rt.Q{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor(Q){super(),this.activeRoute=Q,this.classroomId=0}}return t.\u0275fac=function(Q){return new(Q||t)(m.Y36(e.gz))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-grand-board"]],inputs:{isStudent:"isStudent"},features:[m.qOj],decls:1,vars:5,consts:[[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(Q,o){1&Q&&m._UZ(0,"app-table-score",0),2&Q&&m.Q6J("isStudent",o.isStudent)("screenType","TABLE_SCORE")("classroomId",o.classroomId)("programId",0)("sessionId",0)},dependencies:[l.B],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),t})()},3418:(tn,Yt,b)=>{b.d(Yt,{A:()=>Un});var rt=b(8633),m=b(47496),e=function(Z){return Z[Z.ADD_NEW=0]="ADD_NEW",Z[Z.UPDATE=1]="UPDATE",Z[Z.DELETE=2]="DELETE",Z}(e||{}),l=b(65879),x=b(87789),t=b(21266),xt=b(96814),Q=b(92596),o=b(43389),Ct=b(71646),_t=b(56223),jt=b(91765),dt=b(63120),yt=b(78953),ht=b(82228),ft=b(2032),vt=b(63038),bt=b(32443),et=b(37722),S=b(15828),B=b(2783);function at(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"div",2)(1,"div",3)(2,"a",4),l.NdJ("click",function(){const kt=l.CHM(C).$implicit,re=l.oxw();return l.KtG(re.onShowFile(kt,-1))}),l.TgZ(3,"div",5),l._UZ(4,"img",6),l.TgZ(5,"span",7),l.NdJ("click",function(){const kt=l.CHM(C).$implicit,re=l.oxw();return l.KtG(re.removeFile(kt))}),l.O4$(),l.TgZ(6,"svg",8),l._UZ(7,"line",9)(8,"line",10),l.qZA()()()()()()}if(2&Z){const C=G.$implicit;l.xp6(4),l.Q6J("src",C.url,l.LSH)}}let ut=(()=>{class Z extends m.Q{onShowFile(C,y){let z={...C,index:y};this.sAztDialogService.open(S.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:z},restoreFocus:!1})}removeFile(C){this.files=this.files.filter(y=>y.url!=C.url),this.filesChange.emit(this.files)}constructor(C){super(),this.sAztDialogService=C,this.filesChange=new l.vpe}}return Z.\u0275fac=function(C){return new(C||Z)(l.Y36(B.C))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-new-list-images"]],inputs:{files:"files"},outputs:{filesChange:"filesChange"},features:[l.qOj],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","gap-3","mb-3"],["class","col-span-12 md:col-span-6 xl:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","xl:col-span-4","lg:col-span-2"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-1","pr-2","pl-2"],["azt-track-service","list-images-jCIgoLK9i",1,"flex","w-full","items-center",3,"click"],[1,"w-full","h-28","image-fit","zoom-in"],[1,"rounded-md",3,"src"],["azt-track-service","list-images-3VlAbiB3VZ",1,"cursor-pointer","absolute","top-0","right-0","-mt-2","-mr-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-danger","text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","stroke-1.5","h-4","w-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"]],template:function(C,y){1&C&&(l.TgZ(0,"div",0),l.YNc(1,at,9,1,"div",1),l.qZA()),2&C&&(l.xp6(1),l.Q6J("ngForOf",y.files))},dependencies:[xt.sg],encapsulation:2}),Z})();var lt=b(36727);function Dt(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"app-new-list-images",14),l.NdJ("filesChange",function(z){l.CHM(C);const kt=l.oxw();return l.KtG(kt.files=z)}),l.qZA()}if(2&Z){const C=l.oxw();l.Q6J("files",C.files)}}function pt(Z,G){1&Z&&(l.TgZ(0,"span",15),l._UZ(1,"azt-loading-ui"),l.qZA())}const ne=function(Z){return[Z]};let oe=(()=>{class Z extends m.Q{saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();var C={content:this.contentFormControl.value??"",classroomId:this.classroomId,imageLinks:this.files.map(y=>y.url).filter(this.commonService.notEmpty),isLockComment:this.isLockComment?1:0};this.waitDestroy(this.newsService.apiNewsPost(C).subscribe({next:y=>{this.successStatusObj("lang_business_news_add_new_post_success",!0),this.contentFormControl.setValue(""),this.files=[],this.changePostObjEvent.emit({...y,isShowEditForm:!1,hasLoveEmotion:!1,isShowCommentBox:!1})},error:y=>{this.errorStatusObj(y.error.message,!0)}}))}}handleUploadComplete(C){this.files.push(...C)}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(C,y,z){super(),this.newsService=C,this.userService=y,this.apiUploadService=z,this.changePostObjEvent=new l.vpe,this.contentFormControl=new _t.NI("",{nonNullable:!0,validators:[jt._.noWhiteSpace]}),this.files=[],this.isLockComment=!1,this.allUploadToCdnMenuTypes=dt.j6,this.allUploadFileTypes=dt.AZ}}return Z.\u0275fac=function(C){return new(C||Z)(l.Y36(x.Yc),l.Y36(yt.U),l.Y36(ht.W))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-news-add-new-post"]],inputs:{classroomId:"classroomId"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[l.qOj],decls:20,vars:21,consts:[[1,"box"],[1,"relative","w-full","pt-3","pr-3","pl-3"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","pt-3",3,"files","filesChange",4,"ngIf"],[1,"text-right","box-button"],[1,"w-full","flex","sm:justify-between","justify-end","items-center"],[1,"btn","btn-outline-secondary","btn-sm","mr-2","p-0","border-0",3,"matTooltip","click"],[1,"w-6","h-6","inline-block"],[3,"name"],[3,"uploadToCdnMenu","fileType","uploadComplete"],["azt-track-service","add-new-post-YUr68bfqj5",1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",1,"zoom-in",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip"],["azt-track-service","add-new-post-D1kcZnYwie","type","button",1,"btn","btn-primary","btn-sm","w-24",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"pt-3",3,"files","filesChange"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(C,y){1&C&&(l.TgZ(0,"div",0)(1,"div",1)(2,"textarea",2),l.ALo(3,"mytranslate"),l._uU(4,"        "),l.qZA(),l.YNc(5,Dt,1,1,"app-new-list-images",3),l.qZA(),l.TgZ(6,"div",4)(7,"div",5)(8,"button",6),l.NdJ("click",function(){return y.isLockComment=!y.isLockComment}),l.ALo(9,"mytranslate"),l.TgZ(10,"span",7),l._UZ(11,"lucide-icon",8),l.qZA()(),l.TgZ(12,"azt-upload-multiple-box",9),l.NdJ("uploadComplete",function(kt){return y.handleUploadComplete(kt)}),l.TgZ(13,"span",10),l._UZ(14,"lucide-icon",11),l.ALo(15,"mytranslate"),l.qZA()(),l.TgZ(16,"button",12),l.NdJ("click",function(){return y.saveNewPost()}),l.YNc(17,pt,2,0,"span",13),l._uU(18),l.ALo(19,"mytranslate"),l.qZA()()()()),2&C&&(l.xp6(2),l.s9C("placeholder",l.lcZ(3,11,"lang_business_news_post_content")),l.Q6J("formControl",y.contentFormControl),l.xp6(3),l.Q6J("ngIf",y.files.length),l.xp6(3),l.s9C("matTooltip",l.lcZ(9,13,y.isLockComment?"lang_student_comment_lock":"lang_student_unlock_comments")),l.xp6(3),l.Q6J("name",y.isLockComment?"lock":"unlock"),l.xp6(1),l.Q6J("uploadToCdnMenu",y.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",l.VKq(19,ne,y.allUploadFileTypes.IMAGE)),l.xp6(2),l.s9C("matTooltip",l.lcZ(15,15,"lang_core_tai_anh")),l.xp6(2),l.Q6J("disabled",""==y.contentFormControl.value||y.statusObj.loading),l.xp6(1),l.Q6J("ngIf",y.statusObj.loading),l.xp6(1),l.hij(" ",l.lcZ(19,17,"lang_business_news_add_new_post_button")," "))},dependencies:[xt.O5,ft.Nt,Q.gM,_t.Fj,_t.JJ,_t.oH,vt.m,Ct.n,bt.B,et.Nh5,ut,lt.JV],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0;height:25px}.box-button[_ngcontent-%COMP%]{padding:5px 10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}"]}),Z})();var Rt=b(19347),Te=b(72164),Oe=b(78497);function De(Z,G){1&Z&&(l.TgZ(0,"span",9),l._UZ(1,"azt-loading-ui"),l.qZA())}let Ee=(()=>{class Z extends Te.e{btnCloseDialog(C){this.dialogRef.close(C)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsIdDelete(this.postObj.id).subscribe({next:C=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:C=>{this.errorStatusObj(C.error.message,!0)}}))}constructor(C,y,z){super(z,y),this.newsService=C,this.dialogRef=y,this.data=z,this.postObj=z}}return Z.\u0275fac=function(C){return new(C||Z)(l.Y36(x.Yc),l.Y36(Rt.so,8),l.Y36(Rt.WI,8))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-delete-news-post-confirm-dialog"]],features:[l.qOj],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(C,y){1&C&&(l.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),l._uU(5),l.ALo(6,"mytranslate"),l.TgZ(7,"b",4),l._uU(8),l.qZA(),l._uU(9,"? "),l.qZA()()()(),l.TgZ(10,"div",5)(11,"button",6),l.NdJ("click",function(){return y.btnCloseDialog(!1)}),l._uU(12),l.ALo(13,"mytranslate"),l.qZA(),l.TgZ(14,"button",7),l.NdJ("click",function(){return y.confirmDelete()}),l.YNc(15,De,2,0,"span",8),l._uU(16),l.ALo(17,"mytranslate"),l.qZA()()()),2&C&&(l.xp6(5),l.hij(" ",l.lcZ(6,5,"lang_business_news_are_your_sure_to_delete_news_post"),"\xa0 "),l.xp6(3),l.Oqu(y.postObj.content),l.xp6(4),l.hij(" ",l.lcZ(13,7,"lang_cms_common_close_btn")," "),l.xp6(3),l.Q6J("ngIf",y.statusObj.loading),l.xp6(1),l.hij(" ",l.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[xt.O5,Oe.R,Ct.n,lt.JV],encapsulation:2}),Z})();var ve=b(77988),fe=b(85904);function xe(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"a",4),l.NdJ("click",function(){l.CHM(C);const z=l.oxw(2);return l.KtG(z.clickToSeeMore())}),l._uU(1),l.ALo(2,"mytranslate"),l.qZA()}2&Z&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"lang_cms_common_see_more")))}function _e(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"a",4),l.NdJ("click",function(){l.CHM(C);const z=l.oxw(2);return l.KtG(z.clickToShowShortContent())}),l._uU(1),l.ALo(2,"mytranslate"),l.qZA()}2&Z&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"lang_cms_common_see_short_content")))}function Pe(Z,G){if(1&Z&&(l.TgZ(0,"div"),l._UZ(1,"span",2),l.ALo(2,"safeAdminHtmlContent"),l.YNc(3,xe,3,3,"a",3),l.YNc(4,_e,3,3,"a",3),l.qZA()),2&Z){const C=l.oxw();l.xp6(1),l.Q6J("innerHTML",l.lcZ(2,3,C.showContent),l.oJD),l.xp6(2),l.Q6J("ngIf",C.showSeeMoreButton&&C.content.length>C.maxLength),l.xp6(1),l.Q6J("ngIf",C.showShortContentButton&&C.content.length>C.maxLength)}}function Ze(Z,G){if(1&Z&&(l._UZ(0,"span",10),l.ALo(1,"safeAdminHtmlContent")),2&Z){const C=l.oxw(2);l.Q6J("innerHTML",l.lcZ(1,1,C.showContent),l.oJD)}}function en(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"a",4),l.NdJ("click",function(){l.CHM(C);const z=l.oxw(2);return l.KtG(z.clickToSeeMore())}),l._uU(1),l.ALo(2,"mytranslate"),l.qZA()}if(2&Z){const C=l.oxw(2);l.Akn("position: absolute; bottom: 0; right: 0; background-color: "+C.backgroundColor),l.xp6(1),l.hij("...",l.lcZ(2,3,"lang_cms_common_see_more"),"")}}function Ue(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"a",4),l.NdJ("click",function(){l.CHM(C);const z=l.oxw(2);return l.KtG(z.clickToShowShortContent())}),l._uU(1),l.ALo(2,"mytranslate"),l.qZA()}2&Z&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"lang_cms_common_see_short_content")))}function ie(Z,G){if(1&Z&&(l.TgZ(0,"div",5),l._UZ(1,"div",6),l.ALo(2,"safeAdminHtmlContent"),l._UZ(3,"div",6,7),l.ALo(5,"safeAdminHtmlContent"),l.YNc(6,Ze,2,3,"span",8),l.YNc(7,en,3,5,"a",9),l.YNc(8,Ue,3,3,"a",3),l.qZA()),2&Z){const C=l.MAs(4),y=l.oxw();l.xp6(1),l.Akn(y.styleContent),l.Q6J("innerHTML",l.lcZ(2,9,y.showContent),l.oJD),l.xp6(2),l.Akn("white-space: pre-line; position: absolute; visibility: hidden; line-height: 20px"),l.Q6J("innerHTML",l.lcZ(5,11,y.showContent),l.oJD),l.xp6(3),l.Q6J("ngIf",y.showShortContentButton),l.xp6(1),l.Q6J("ngIf",y.showSeeMoreButton&&C.offsetHeight>20*y.maxLine),l.xp6(1),l.Q6J("ngIf",y.showShortContentButton&&C.offsetHeight>20*y.maxLine)}}let Ae=(()=>{class Z extends m.Q{clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let C=this.commonService.removeTagHtml(this.content);if(this.maxLength&&C.length>this.maxLength)this.showContent=this.showSeeMoreButton?C.substring(0,this.maxLength)+"...":this.content;else if(this.maxLine){this.showContent=this.content;var y=(20*this.maxLine).toString();this.styleContent=this.showSeeMoreButton?"white-space: pre-line; max-height: "+y+"px; overflow: hidden; position: relative; line-height: 20px;":"white-space: pre-line; line-height: 20px; visibility: hidden; position: absolute;"}else this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content;this.showContent=this.showContent+" "}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}constructor(){super(),this.content="",this.backgroundColor="white",this.styleContent="white-space: pre-line;",this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}}return Z.\u0275fac=function(C){return new(C||Z)},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["azt-see-more-multiple-lines"]],inputs:{content:"content",maxLength:"maxLength",maxLine:"maxLine",backgroundColor:"backgroundColor"},features:[l.qOj,l.TTD],decls:2,vars:2,consts:[[4,"ngIf"],["style","position: relative; white-space: break-spaces;",4,"ngIf"],[2,"white-space","pre-line","white-space","break-spaces",3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"],[2,"position","relative","white-space","break-spaces"],[3,"innerHTML"],["contentElementHide",""],["style","white-space: pre-line;",3,"innerHTML",4,"ngIf"],["class","btn-text-primary",3,"style","click",4,"ngIf"],[2,"white-space","pre-line",3,"innerHTML"]],template:function(C,y){1&C&&(l.YNc(0,Pe,5,5,"div",0),l.YNc(1,ie,9,13,"div",1)),2&C&&(l.Q6J("ngIf",y.maxLength),l.xp6(1),l.Q6J("ngIf",y.maxLine&&!y.maxLength))},dependencies:[xt.O5,lt.JV,lt.Tm],encapsulation:2}),Z})();var de=function(Z){return Z[Z.ADD_NEW=0]="ADD_NEW",Z[Z.UPDATE=1]="UPDATE",Z[Z.DELETE=2]="DELETE",Z}(de||{}),ze=b(64170),Se=b(49042);function nn(Z,G){1&Z&&(l.TgZ(0,"span",10),l._UZ(1,"azt-loading-ui"),l.qZA())}let Fe=(()=>{class Z extends m.Q{saveNewComment(){this.commentContentFormControl.value.trim()&&(this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsPost(this.postObj.id,{content:this.commentContentFormControl.value}).subscribe({next:y=>{this.successStatusObj(),this.commentContentFormControl.setValue(""),this.changeCommentObjEvent.emit({...y,isShowEditForm:!1,allowDelete:!0,allowEdit:!0})},error:y=>{this.errorStatusObj(y.error.message,!0)}})))}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(C,y){super(),this.newsService=C,this.userService=y,this.changeCommentObjEvent=new l.vpe,this.commentContentFormControl=new _t.NI("",{nonNullable:!0,validators:[jt._.noWhiteSpace]})}}return Z.\u0275fac=function(C){return new(C||Z)(l.Y36(x.Yc),l.Y36(yt.U))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-news-add-new-comments"]],inputs:{postObj:"postObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[l.qOj],decls:13,vars:13,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","",2,"resize","auto","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],["azt-track-service","add-new-comment-tIKt3rAhD",1,"btn","btn-secondary","btn-sm","zoom-in",3,"matTooltip","disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex-none","w-4","h-4","zoom-in"],["name","send",2,"color","#1e40af"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(C,y){1&C&&(l.TgZ(0,"div",0),l._UZ(1,"azt-create-avatar",1),l.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),l.NdJ("enterKey",function(){return!(""==y.commentContentFormControl.value||y.statusObj.loading)&&y.saveNewComment()}),l.ALo(5,"mytranslate"),l._uU(6,"            "),l.qZA()(),l.TgZ(7,"div",5)(8,"button",6),l.NdJ("click",function(){return y.saveNewComment()}),l.ALo(9,"mytranslate"),l.YNc(10,nn,2,0,"span",7),l.TgZ(11,"span",8),l._UZ(12,"lucide-icon",9),l.qZA()()()()()),2&C&&(l.xp6(1),l.Q6J("nameCreateAvatar",y.userObj.fullName)("linkAvatar",y.userObj.avatar)("size",30),l.xp6(3),l.s9C("placeholder",l.lcZ(5,9,"lang_core_viet_binh_luan")),l.Q6J("enableInMobile",!1)("formControl",y.commentContentFormControl),l.xp6(4),l.s9C("matTooltip",l.lcZ(9,11,"lang_business_news_add_new_post_button")),l.Q6J("disabled",""==y.commentContentFormControl.value||y.statusObj.loading),l.xp6(2),l.Q6J("ngIf",y.statusObj.loading))},dependencies:[xt.O5,ft.Nt,ze.KE,Q.gM,_t.Fj,_t.JJ,_t.oH,fe.g,vt.m,Se.Y,Ct.n,et.Nh5,lt.JV],encapsulation:2}),Z})();function Wt(Z,G){1&Z&&(l.TgZ(0,"span",9),l._UZ(1,"azt-loading-ui"),l.qZA())}let Je=(()=>{class Z extends Te.e{btnCloseDialog(C){this.dialogRef.close(C)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdDelete(this.postObj.id,this.commentObj.id).subscribe({next:C=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:C=>{this.errorStatusObj(C.error.message,!0)}}))}constructor(C,y,z){super(z,y),this.newsService=C,this.dialogRef=y,this.data=z,this.postObj=z.postObj,this.commentObj=z.commentObj}}return Z.\u0275fac=function(C){return new(C||Z)(l.Y36(x.Yc),l.Y36(Rt.so,8),l.Y36(Rt.WI,8))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-delete-news-post-comment-confirm-dialog"]],features:[l.qOj],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(C,y){1&C&&(l.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),l._uU(5),l.ALo(6,"mytranslate"),l.TgZ(7,"b",4),l._uU(8),l.qZA(),l._uU(9,"? "),l.qZA()()()(),l.TgZ(10,"div",5)(11,"button",6),l.NdJ("click",function(){return y.btnCloseDialog(!1)}),l._uU(12),l.ALo(13,"mytranslate"),l.qZA(),l.TgZ(14,"button",7),l.NdJ("click",function(){return y.confirmDelete()}),l.YNc(15,Wt,2,0,"span",8),l._uU(16),l.ALo(17,"mytranslate"),l.qZA()()()),2&C&&(l.xp6(5),l.hij(" ",l.lcZ(6,5,"lang_business_news_are_your_sure_to_delete_news_post_comment"),"\xa0 "),l.xp6(3),l.Oqu(y.commentObj.content),l.xp6(4),l.hij(" ",l.lcZ(13,7,"lang_cms_common_close_btn")," "),l.xp6(3),l.Q6J("ngIf",y.statusObj.loading),l.xp6(1),l.hij(" ",l.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[xt.O5,Oe.R,Ct.n,lt.JV],encapsulation:2}),Z})();function on(Z,G){if(1&Z&&(l.TgZ(0,"button",15),l.O4$(),l.TgZ(1,"svg",16),l._UZ(2,"circle",17)(3,"circle",18)(4,"circle",19),l.qZA()()),2&Z){l.oxw();const C=l.MAs(12);l.Q6J("matMenuTriggerFor",C)}}function qe(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"li")(1,"a",20),l.NdJ("click",function(){l.CHM(C);const z=l.oxw();return l.KtG(z.editCommentEvent())}),l.O4$(),l.TgZ(2,"svg",21),l._UZ(3,"path",22)(4,"path",23),l.qZA(),l._uU(5),l.ALo(6,"mytranslate"),l.qZA()()}2&Z&&(l.xp6(5),l.hij(" ",l.lcZ(6,1,"lang_auto_sua")," "))}function Qe(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"li")(1,"a",24),l.NdJ("click",function(){l.CHM(C);const z=l.oxw();return l.KtG(z.deleteCommentEvent())}),l.O4$(),l.TgZ(2,"svg",25),l._UZ(3,"polyline",26)(4,"path",27),l.qZA(),l._uU(5),l.ALo(6,"mytranslate"),l.qZA()()}2&Z&&(l.xp6(5),l.hij(" ",l.lcZ(6,1,"lang_auto_xoa")," "))}let an=(()=>{class Z extends m.Q{editCommentEvent(){this.commentObj.isShowEditForm=!0,this.changeCommentObjEvent.emit({actionType:de.UPDATE,commentObj:this.commentObj})}deleteCommentEvent(){this.sAztDialogService.open(Je,{width:"700px",data:{postObj:this.postObj,commentObj:this.commentObj},restoreFocus:!1}).afterClosed().subscribe(y=>{y&&this.changeCommentObjEvent.emit({actionType:de.DELETE,commentObj:this.commentObj})})}constructor(C){super(),this.sAztDialogService=C,this.changeCommentObjEvent=new l.vpe}}return Z.\u0275fac=function(C){return new(C||Z)(l.Y36(B.C))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-news-view-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[l._Bn([rt.S]),l.qOj],decls:20,vars:13,consts:[[1,"flex","mb-3","comment-body"],[1,"image-fit","mt-2"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"flex","items-center","justify-start"],[1,"box-content","px-3","py-2","ml-3"],[1,"font-medium","whitespace-nowrap"],[3,"content","maxLine","backgroundColor"],[1,"btn-show","ml-1"],["class","clickable p-1 hover:bg-slate-100 dark:hover:bg-darkmode-400","style","border-radius: 50%","data-tw-toggle","dropdown",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],[4,"ngIf"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5","ml-3"],["data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"border-radius","50%",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],["azt-track-service","comments-post-dialog-a0fkWfZtZk",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","comments-post-dialog-_pPBuSnF37",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(C,y){1&C&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"azt-create-avatar",2),l.qZA(),l.TgZ(3,"div")(4,"div",3)(5,"div",4)(6,"div",5),l._uU(7),l.qZA(),l._UZ(8,"azt-see-more-multiple-lines",6),l.qZA(),l.TgZ(9,"div",7),l.YNc(10,on,5,1,"button",8),l.TgZ(11,"mat-menu",9,10)(13,"div",11)(14,"ul",12),l.YNc(15,qe,7,3,"li",13),l.YNc(16,Qe,7,3,"li",13),l.qZA()()()()(),l.TgZ(17,"div",14),l._uU(18),l.ALo(19,"relativeTime"),l.qZA()()()),2&C&&(l.xp6(2),l.Q6J("nameCreateAvatar",null==y.commentObj.user?null:y.commentObj.user.fullName)("linkAvatar",null==y.commentObj.user?null:y.commentObj.user.avatar)("size",30),l.xp6(5),l.hij(" ",null==y.commentObj.user?null:y.commentObj.user.fullName,"\xa0 "),l.xp6(1),l.Q6J("content",y.commentObj.content)("maxLine",5)("backgroundColor","#f5f5f5"),l.xp6(2),l.Q6J("ngIf",y.commentObj.allowDelete||y.commentObj.allowEdit),l.xp6(5),l.Q6J("ngIf",y.commentObj.allowEdit),l.xp6(1),l.Q6J("ngIf",y.commentObj.allowDelete),l.xp6(2),l.Oqu(l.lcZ(19,11,y.commentObj.createdAt)))},dependencies:[xt.O5,ve.VK,ve.p6,fe.g,Ae,lt.JV,lt.Yy],styles:[".btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:transparent}.comment-body[_ngcontent-%COMP%]:hover   .btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgb(var(--color-slate-500)/var(--tw-text-opacity))}.box-content[_ngcontent-%COMP%]{border-radius:5px;background-color:#f5f5f5}"]}),Z})();function sn(Z,G){1&Z&&(l.TgZ(0,"span",12),l._UZ(1,"azt-loading-ui"),l.qZA())}let ue=(()=>{class Z extends m.Q{cancel(){this.commentObj.isShowEditForm=!1,this.changeCommentObjEvent.emit(this.commentObj)}saveNewComment(){if(this.commentContentFormControl.value.trim()){this.initStatusObj();var C={content:this.commentContentFormControl.value};this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdPut(this.postObj.id,this.commentObj.id,C).subscribe({next:y=>{this.successStatusObj(),this.commentObj.isShowEditForm=!1,this.commentObj.content=C.content,this.changeCommentObjEvent.emit(this.commentObj),this.commentContentFormControl.setValue("")},error:y=>{this.errorStatusObj(y.error.message,!0)}}))}}ngOnInit(){this.userObj=this.userService.getUserObj(),this.commentContentFormControl.setValue(this.commentObj.content)}constructor(C,y){super(),this.newsService=C,this.userService=y,this.changeCommentObjEvent=new l.vpe,this.commentContentFormControl=new _t.NI("",{nonNullable:!0,validators:[jt._.noWhiteSpace]})}}return Z.\u0275fac=function(C){return new(C||Z)(l.Y36(x.Yc),l.Y36(yt.U))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-news-edit-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[l.qOj],decls:17,vars:16,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","","row","5",2,"resize","none","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"flex","justify-end","p-1","absolute",2,"bottom","5px","right","5px"],[1,"flex","items-center","justify-center"],["azt-track-service","edit-comment-725iQWOtdo","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-comment-FFY36YTq2a",1,"btn","btn-outline-secondary","btn-sm",3,"matTooltip","disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex-none","w-4","h-4"],["name","send"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(C,y){1&C&&(l.TgZ(0,"div",0),l._UZ(1,"azt-create-avatar",1),l.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),l.NdJ("enterKey",function(){return!(""==y.commentContentFormControl.value||y.statusObj.loading)&&y.saveNewComment()}),l.ALo(5,"mytranslate"),l._uU(6,"            "),l.qZA()(),l.TgZ(7,"div",5)(8,"div",6)(9,"button",7),l.NdJ("click",function(){return y.cancel()}),l._uU(10),l.ALo(11,"mytranslate"),l.qZA(),l.TgZ(12,"button",8),l.NdJ("click",function(){return y.saveNewComment()}),l.ALo(13,"mytranslate"),l.YNc(14,sn,2,0,"span",9),l.TgZ(15,"span",10),l._UZ(16,"lucide-icon",11),l.qZA()()()()()()),2&C&&(l.xp6(1),l.Q6J("nameCreateAvatar",y.userObj.fullName)("linkAvatar",y.userObj.avatar)("size",30),l.xp6(3),l.s9C("placeholder",l.lcZ(5,10,"lang_core_viet_binh_luan")),l.Q6J("enableInMobile",!1)("formControl",y.commentContentFormControl),l.xp6(6),l.hij(" ",l.lcZ(11,12,"lang_cms_common_close_btn")," "),l.xp6(2),l.s9C("matTooltip",l.lcZ(13,14,"lang_business_news_add_new_post_button")),l.Q6J("disabled",""==y.commentContentFormControl.value||y.statusObj.loading),l.xp6(2),l.Q6J("ngIf",y.statusObj.loading))},dependencies:[xt.O5,ft.Nt,ze.KE,Q.gM,_t.Fj,_t.JJ,_t.oH,fe.g,vt.m,Se.Y,Ct.n,et.Nh5,lt.JV],encapsulation:2}),Z})();function K(Z,G){if(1&Z){const C=l.EpF();l.ynx(0),l.TgZ(1,"app-news-view-comment",6),l.NdJ("changeCommentObjEvent",function(z){l.CHM(C);const kt=l.oxw(2);return l.KtG(kt.changeCommentObj(z.actionType,z.commentObj))}),l.qZA(),l.BQk()}if(2&Z){const C=l.oxw().$implicit,y=l.oxw();l.xp6(1),l.Q6J("postObj",y.postObj)("commentObj",C)}}function Ce(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"div",2)(1,"app-news-edit-comment",6),l.NdJ("changeCommentObjEvent",function(z){l.CHM(C);const kt=l.oxw(2);return l.KtG(kt.changeCommentObj(kt.enumNewsCommentActionType.UPDATE,z))}),l.qZA()()}if(2&Z){const C=l.oxw().$implicit,y=l.oxw();l.xp6(1),l.Q6J("postObj",y.postObj)("commentObj",C)}}function Ie(Z,G){if(1&Z&&(l.TgZ(0,"div"),l.YNc(1,K,2,2,"ng-container",4),l.YNc(2,Ce,2,2,"ng-template",null,5,l.W1O),l.qZA()),2&Z){const C=G.$implicit,y=l.MAs(3);l.xp6(1),l.Q6J("ngIf",!C.isShowEditForm)("ngIfElse",y)}}function Xt(Z,G){1&Z&&(l.TgZ(0,"span",10),l._UZ(1,"azt-loading-ui"),l.qZA())}function Nt(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"div",7)(1,"span",8),l.NdJ("click",function(){l.CHM(C);const z=l.oxw();return l.KtG(!z.sAztNextPaginationService.isLoadingNextPage&&z.getNextPage())}),l._uU(2),l.ALo(3,"mytranslate"),l.YNc(4,Xt,2,0,"span",9),l.qZA()()}if(2&Z){const C=l.oxw();l.xp6(2),l.hij(" ",l.lcZ(3,2,"lang_business_news_load_more_comments")," "),l.xp6(2),l.Q6J("ngIf",C.sAztNextPaginationService.isLoadingNextPage)}}let ke=(()=>{class Z extends m.Q{changeCommentObj(C,y){C==de.ADD_NEW?(this.commentObjs.unshift(y),this.postObj.totalComment+=1):C==de.UPDATE?this.commentObjs=this.commentObjs.map(z=>z.id==y.id?y:z):(this.postObj.totalComment-=1,this.commentObjs=this.commentObjs.filter(z=>z.id!=y.id))}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(C){C?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsGet(this.postObj.id,this.sAztNextPaginationService.curPage,this.sAztNextPaginationService.itemPerPage).subscribe({next:y=>{y.list.forEach(z=>{this.commentObjs.push({...z,isShowEditForm:!1,allowEdit:z.tenantId==this.userObj.id,allowDelete:!this.isStudent||z.tenantId==this.userObj.id})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(y.total),this.stopStatusObj()},error:y=>{this.errorStatusObj(y.error.message,!0)}}))}ngOnInit(){this.sAztNextPaginationService.setTotalItemPerPage(10),this.getData(!1)}constructor(C,y,z){super(),this.newsService=C,this.userService=y,this.sAztNextPaginationService=z,this.commentObjs=[],this.enumNewsCommentActionType=de,this.userObj=this.userService.getUserObj()}}return Z.\u0275fac=function(C){return new(C||Z)(l.Y36(x.Yc),l.Y36(yt.U),l.Y36(rt.S))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-news-list-comments"]],inputs:{isStudent:"isStudent",postObj:"postObj"},features:[l._Bn([rt.S]),l.qOj],decls:4,vars:3,consts:[[4,"ngFor","ngForOf"],["class","mb-2 font-medium",4,"ngIf"],[1,"pb-2"],[3,"postObj","changeCommentObjEvent"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"postObj","commentObj","changeCommentObjEvent"],[1,"mb-2","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["class","w-4 h-4 inline-block ml-2",4,"ngIf"],[1,"w-4","h-4","inline-block","ml-2"]],template:function(C,y){1&C&&(l.YNc(0,Ie,4,2,"div",0),l.YNc(1,Nt,5,4,"div",1),l.TgZ(2,"div",2)(3,"app-news-add-new-comments",3),l.NdJ("changeCommentObjEvent",function(kt){return y.changeCommentObj(y.enumNewsCommentActionType.ADD_NEW,kt)}),l.qZA()()),2&C&&(l.Q6J("ngForOf",y.commentObjs),l.xp6(1),l.Q6J("ngIf",y.commentObjs.length&&y.sAztNextPaginationService.hasNextPage),l.xp6(2),l.Q6J("postObj",y.postObj))},dependencies:[xt.sg,xt.O5,Ct.n,Fe,an,ue,lt.JV],encapsulation:2}),Z})();function Bt(Z,G){1&Z&&(l.TgZ(0,"div",2)(1,"span",3),l._UZ(2,"lucide-icon",4),l.qZA(),l.TgZ(3,"span"),l._uU(4),l.ALo(5,"mytranslate"),l.qZA()()),2&Z&&(l.xp6(4),l.Oqu(l.lcZ(5,1,"lang_student_comment_feature_disabled")))}const we=function(Z,G){return{"heart-selected":Z,"heart-non-selected":G}};function rn(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"div",5)(1,"div",6)(2,"button",7),l.NdJ("click",function(){l.CHM(C);const z=l.oxw();return l.KtG(z.changeEmotionEvent())}),l.O4$(),l.TgZ(3,"svg",8),l._UZ(4,"path",9),l.qZA()(),l.kcU(),l.TgZ(5,"span"),l._uU(6),l.qZA()(),l.TgZ(7,"div",10),l.NdJ("click",function(){l.CHM(C);const z=l.oxw();return l.KtG(z.showCommentObjs())}),l.TgZ(8,"button",11),l._UZ(9,"lucide-icon",12),l.qZA(),l.TgZ(10,"span"),l._uU(11),l.qZA()()()}if(2&Z){const C=l.oxw();l.xp6(3),l.Q6J("ngClass",l.WLB(3,we,C.postObj.hasLoveEmotion,!C.postObj.hasLoveEmotion)),l.xp6(3),l.Oqu(C.postObj.totalEmotion),l.xp6(5),l.Oqu(C.postObj.totalComment)}}let Ye=(()=>{class Z extends m.Q{changeEmotionEvent(){this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion+=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj),this.waitDestroy(this.newsService.apiNewsNewsIdEmotionsPost(this.postObj.id).subscribe({next:C=>{this.successStatusObj()},error:C=>{this.errorStatusObj(C.error.message,!0),this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion-=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj)}}))}showCommentObjs(){this.postObj.isShowCommentBox=!0,this.changePostObjEvent.emit(this.postObj)}constructor(C){super(),this.newsService=C,this.changePostObjEvent=new l.vpe}}return Z.\u0275fac=function(C){return new(C||Z)(l.Y36(x.Yc))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-news-emotions"]],inputs:{postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[l.qOj],decls:2,vars:2,consts:[["class","flex items-center justify-center pb-3 text-slate-500",4,"ngIf"],["class","flex pb-3","style","align-items: center",4,"ngIf"],[1,"flex","items-center","justify-center","pb-3","text-slate-500"],[1,"w-4","h-4","inline-block","mr-2"],["name","message-circle-off"],[1,"flex","pb-3",2,"align-items","center"],[1,"flex","mr-5","clickable",2,"align-items","center"],["azt-track-service","emotions-02_zwrttZ",1,"w-5","h-5","mr-2","zoom-in","heart-label",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","#000000","stroke-width","3","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-heart",3,"ngClass"],["d","M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"],["azt-track-service","emotions-Yt4v8qy-f6",1,"flex","clickable",2,"align-items","center",3,"click"],["azt-track-service","news-board-QZ9ykDAa8s",1,"w-5","h-5","mr-2","zoom-in"],["name","message-square"]],template:function(C,y){1&C&&(l.YNc(0,Bt,6,3,"div",0),l.YNc(1,rn,12,6,"div",1)),2&C&&(l.Q6J("ngIf",y.postObj.isLockComment),l.xp6(1),l.Q6J("ngIf",!y.postObj.isLockComment))},dependencies:[xt.mk,xt.O5,et.Nh5,lt.JV],styles:['@charset "UTF-8";.heart-label[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.5em;align-self:center;transition:color .2s ease-in-out;color:#aab8c2}.heart-non-selected[_ngcontent-%COMP%]{background:transparent}.heart-non-selected[_ngcontent-%COMP%]:hover{stroke:#7f6167!important}.heart-selected[_ngcontent-%COMP%]{fill:#e2264d!important;stroke:#e2264d!important;will-change:font-size;animation:heart 1s cubic-bezier(.17,.89,.32,1.49)}']}),Z})();var Be=b(95273);function Zt(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"a",3),l.NdJ("click",function(){const kt=l.CHM(C).$implicit,re=l.oxw();return l.KtG(re.onShowFile(kt))}),l._UZ(1,"img",4),l.qZA()}if(2&Z){const C=G.$implicit;l.xp6(1),l.Q6J("src",C.imageLink,l.LSH)}}let E=(()=>{class Z extends m.Q{onShowFile(C){this.sAztDialogService.open(S.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:"image_post"+C.id,mimes:"image/jpeg",url:C.imageLink,index:-1}},restoreFocus:!1})}constructor(C,y){super(),this.sAztDialogService=C,this.sAztFileTypeService=y,this.images=[]}}return Z.\u0275fac=function(C){return new(C||Z)(l.Y36(B.C),l.Y36(Be.v))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-list-images-post"]],inputs:{images:"images"},features:[l.qOj],decls:3,vars:1,consts:[[1,"outerContainer"],[1,"containerw3","containerw3-margin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(C,y){1&C&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,Zt,2,1,"a",2),l.qZA()()),2&C&&(l.xp6(2),l.Q6J("ngForOf",y.images))},dependencies:[xt.sg],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:arial}.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:300px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:300px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}@media (max-width: 767px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:150px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:150px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:150px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}@media (max-width: 400px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:100px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:100px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}']}),Z})();function nt(Z,G){if(1&Z&&l.GkF(0,14),2&Z){l.oxw();const C=l.MAs(17);l.Q6J("ngTemplateOutlet",C)}}function j(Z,G){if(1&Z&&(l.TgZ(0,"div"),l._UZ(1,"hr",10)(2,"app-news-list-comments",15),l.qZA()),2&Z){const C=l.oxw();l.xp6(2),l.Q6J("isStudent",C.isStudent)("postObj",C.postObj)}}function P(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"div",16)(1,"button",17),l.O4$(),l.TgZ(2,"svg",18),l._UZ(3,"circle",19)(4,"circle",20)(5,"circle",21),l.qZA()(),l.kcU(),l.TgZ(6,"mat-menu",22,23)(8,"div",24)(9,"ul",25)(10,"li")(11,"a",26),l.NdJ("click",function(){l.CHM(C);const z=l.oxw();return l.KtG(z.editPostEvent())}),l.O4$(),l.TgZ(12,"svg",27),l._UZ(13,"path",28)(14,"path",29),l.qZA(),l._uU(15),l.ALo(16,"mytranslate"),l.qZA()(),l.kcU(),l.TgZ(17,"li")(18,"a",30),l.NdJ("click",function(){l.CHM(C);const z=l.oxw();return l.KtG(z.deletePostEvent())}),l.O4$(),l.TgZ(19,"svg",31),l._UZ(20,"polyline",32)(21,"path",33),l.qZA(),l._uU(22),l.ALo(23,"mytranslate"),l.qZA()(),l.kcU(),l.TgZ(24,"li")(25,"label",34),l.NdJ("click",function(z){return z.stopPropagation()}),l.TgZ(26,"div",35)(27,"span",36),l._UZ(28,"lucide-icon",37),l.qZA(),l._uU(29),l.ALo(30,"mytranslate"),l.qZA(),l.TgZ(31,"div",38)(32,"input",39),l.NdJ("change",function(){l.CHM(C);const z=l.oxw();return l.KtG(z.changeLockCommentStatus())}),l.qZA()()()()()()()()}if(2&Z){const C=l.MAs(7),y=l.oxw();l.xp6(1),l.Q6J("matMenuTriggerFor",C),l.xp6(14),l.hij(" ",l.lcZ(16,5,"lang_auto_sua")," "),l.xp6(7),l.hij(" ",l.lcZ(23,7,"lang_auto_xoa")," "),l.xp6(7),l.hij(" ",l.lcZ(30,9,"lang_student_comment_lock")," "),l.xp6(3),l.Q6J("formControl",y.isLockComment)}}let ct=(()=>{class Z extends m.Q{editPostEvent(){this.postObj.isShowEditForm=!0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}deletePostEvent(){this.sAztDialogService.open(Ee,{width:"700px",data:this.postObj,restoreFocus:!1}).afterClosed().subscribe(y=>{y&&this.changePostObjEvent.emit({actionType:e.DELETE,postObj:this.postObj})})}changeLockCommentStatus(){const C=this.isLockComment.value;this.waitDestroy((C?this.newsService.apiNewsIdLockCommentsPut:this.newsService.apiNewsIdUnlockCommentsPut).call(this.newsService,this.postObj.id).subscribe({next:()=>{const z=C?"lang_student_comment_lock":"lang_student_unlock_comments";this.postObj.isLockComment=C?1:0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj}),this.showSuccessSnack(z)},error:z=>{this.errorStatusObj(z.error.message,!0)}}))}changeEmotionEventEvent(C){this.postObj=C,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}ngOnInit(){super.ngOnInit(),this.isLockComment.setValue(!!this.postObj.isLockComment)}constructor(C,y){super(),this.sAztDialogService=C,this.newsService=y,this.changePostObjEvent=new l.vpe,this.isLockComment=new _t.NI(!1)}}return Z.\u0275fac=function(C){return new(C||Z)(l.Y36(B.C),l.Y36(x.Yc))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-news-view-post"]],inputs:{postObj:"postObj",isStudent:"isStudent"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[l.qOj],decls:18,vars:13,consts:[[1,"flex","items-center","mb-3"],[1,"w-9","h-9","image-fit"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3"],[1,"font-medium","whitespace-nowrap"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"pb-3"],[3,"content","maxLine"],[3,"images"],[1,"mb-3"],[1,"mb-3",3,"postObj","changePostObjEvent"],[4,"ngIf"],["newsEditOrDeleteNews",""],[3,"ngTemplateOutlet"],[1,"mb-3",3,"isStudent","postObj"],[1,"ml-auto"],["data-tw-toggle","dropdown",1,"absolute","clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"top","10px","right","10px","border-radius","50%",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","news-board-5U9HMbLBxY",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","news-board-35uylGIW_W",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],["azt-track-service","view-post-HeRBfG3bI","for","commentLock",1,"dropdown-item","cursor-pointer",3,"click"],[1,"flex","items-center"],[1,"flex-none","w-4","h-4","inline-block","mr-2"],["name","lock"],[1,"form-check","form-switch","ml-auto"],["id","commentLock","type","checkbox",1,"form-check-input","ml-2",3,"formControl","change"]],template:function(C,y){if(1&C&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"azt-create-avatar",2),l.qZA(),l.TgZ(3,"div",3)(4,"a",4),l._uU(5),l.qZA(),l.TgZ(6,"div",5),l._uU(7),l.ALo(8,"relativeTime"),l.qZA()()(),l.YNc(9,nt,1,1,"ng-container",6),l.TgZ(10,"div",7),l._UZ(11,"azt-see-more-multiple-lines",8),l.qZA(),l._UZ(12,"app-list-images-post",9)(13,"hr",10),l.TgZ(14,"app-news-emotions",11),l.NdJ("changePostObjEvent",function(kt){return y.changeEmotionEventEvent(kt)}),l.qZA(),l.YNc(15,j,3,2,"div",12),l.YNc(16,P,33,11,"ng-template",null,13,l.W1O)),2&C){let z;l.xp6(2),l.Q6J("nameCreateAvatar",null==y.postObj.user?null:y.postObj.user.fullName)("linkAvatar",null==y.postObj.user?null:y.postObj.user.avatar)("size",36),l.xp6(3),l.hij("",null==y.postObj.user?null:y.postObj.user.fullName,"\xa0"),l.xp6(2),l.Oqu(l.lcZ(8,11,y.postObj.createdAt)),l.xp6(2),l.Q6J("ngIf",!y.isStudent),l.xp6(2),l.Q6J("content",y.postObj.content)("maxLine",0==(null!==(z=null==y.postObj.images?null:y.postObj.images.length)&&void 0!==z?z:0)?y.postObj.content.length:10),l.xp6(1),l.Q6J("images",y.postObj.images),l.xp6(2),l.Q6J("postObj",y.postObj),l.xp6(1),l.Q6J("ngIf",y.postObj.isShowCommentBox)}},dependencies:[xt.O5,xt.tP,ve.VK,ve.p6,_t.Wl,_t.JJ,_t.oH,fe.g,Ae,et.Nh5,ke,Ye,E,lt.JV,lt.Yy],encapsulation:2}),Z})();function I(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"app-new-list-images",13),l.NdJ("filesChange",function(z){l.CHM(C);const kt=l.oxw();return l.KtG(kt.files=z)}),l.qZA()}if(2&Z){const C=l.oxw();l.Q6J("files",C.files)}}function X(Z,G){1&Z&&(l.TgZ(0,"span",14),l._UZ(1,"azt-loading-ui"),l.qZA())}const w=function(Z){return[Z]};let q=(()=>{class Z extends m.Q{cancel(){this.postObj.isShowEditForm=!1,this.changePostObjEvent.emit(this.postObj)}saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();let C={content:this.contentFormControl.value??"",classroomId:this.postObj.id,imageLinks:this.files.map(y=>y.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsIdPut(this.postObj.id,C).subscribe({next:y=>{this.successStatusObj("lang_cms_update_success",!0);let z=[];this.files.forEach(kt=>{z.push({id:0,newsId:this.postObj?.id??0,imageLink:kt.url??"",createdAt:void 0})}),this.postObj.isShowEditForm=!1,this.postObj.content=C.content,this.postObj.images=z,this.changePostObjEvent.emit(this.postObj),this.contentFormControl.setValue(""),this.files=[]},error:y=>{this.errorStatusObj(y.error.message,!0)}}))}}handleUploadComplete(C){this.files.push(...C)}ngOnInit(){this.userObj=this.userService.getUserObj(),this.contentFormControl.setValue(this.postObj.content),(this.postObj.images??[]).forEach(C=>{this.files.push({name:"",mimes:"image/jpeg",url:C.imageLink})})}constructor(C,y,z){super(),this.newsService=C,this.userService=y,this.apiUploadService=z,this.changePostObjEvent=new l.vpe,this.contentFormControl=new _t.NI("",{nonNullable:!0,validators:[jt._.noWhiteSpace]}),this.files=[],this.allUploadToCdnMenuTypes=dt.j6,this.allUploadFileTypes=dt.AZ}}return Z.\u0275fac=function(C){return new(C||Z)(l.Y36(x.Yc),l.Y36(yt.U),l.Y36(ht.W))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-news-edit-post"]],inputs:{classroomId:"classroomId",postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[l.qOj],decls:21,vars:23,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"relative","w-full","ml-3",2,"border-radius","5px"],["matInput","","autoResize","","row","5",1,"border-none",2,"resize","none","height","85px",3,"formControl","placeholder"],[3,"files","filesChange",4,"ngIf"],[1,"text-right","pt-1","pb-1"],[1,"flex","items-center","justify-end","sm:w-auto"],[3,"uploadToCdnMenu","fileType","uploadComplete"],[1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",1,"zoom-in",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip"],["azt-track-service","edit-post-3W8T83tTj_","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-post-NaJeb-mmLZ","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"files","filesChange"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(C,y){1&C&&(l.TgZ(0,"div")(1,"div",0),l._UZ(2,"azt-create-avatar",1),l.TgZ(3,"div",2)(4,"textarea",3),l.ALo(5,"mytranslate"),l._uU(6,"            "),l.qZA()()(),l.YNc(7,I,1,1,"app-new-list-images",4),l.TgZ(8,"div",5)(9,"div",6)(10,"azt-upload-multiple-box",7),l.NdJ("uploadComplete",function(kt){return y.handleUploadComplete(kt)}),l.TgZ(11,"span",8),l._UZ(12,"lucide-icon",9),l.ALo(13,"mytranslate"),l.qZA()(),l.TgZ(14,"button",10),l.NdJ("click",function(){return y.cancel()}),l._uU(15),l.ALo(16,"mytranslate"),l.qZA(),l.TgZ(17,"button",11),l.NdJ("click",function(){return y.saveNewPost()}),l.YNc(18,X,2,0,"span",12),l._uU(19),l.ALo(20,"mytranslate"),l.qZA()()()()),2&C&&(l.xp6(2),l.Q6J("nameCreateAvatar",y.userObj.fullName)("linkAvatar",y.userObj.avatar)("size",36),l.xp6(2),l.s9C("placeholder",l.lcZ(5,13,"lang_business_news_post_content")),l.Q6J("formControl",y.contentFormControl),l.xp6(3),l.Q6J("ngIf",y.files.length),l.xp6(3),l.Q6J("uploadToCdnMenu",y.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",l.VKq(21,w,y.allUploadFileTypes.IMAGE)),l.xp6(2),l.s9C("matTooltip",l.lcZ(13,15,"lang_core_tai_anh")),l.xp6(3),l.hij(" ",l.lcZ(16,17,"lang_cms_common_close_btn")," "),l.xp6(2),l.Q6J("disabled",""==y.contentFormControl.value||y.statusObj.loading),l.xp6(1),l.Q6J("ngIf",y.statusObj.loading),l.xp6(1),l.hij(" ",l.lcZ(20,19,"lang_business_news_update_post_button")," "))},dependencies:[xt.O5,ft.Nt,Q.gM,_t.Fj,_t.JJ,_t.oH,fe.g,vt.m,Ct.n,bt.B,et.Nh5,ut,lt.JV],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0}"]}),Z})();function F(Z,G){1&Z&&(l.TgZ(0,"div",3),l._UZ(1,"azt-loading-effect"),l.qZA())}function st(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"div",6)(1,"app-news-add-new-post",7),l.NdJ("changePostObjEvent",function(z){l.CHM(C);const kt=l.oxw(2);return l.KtG(kt.changePostObj(kt.enumNewsPostActionType.ADD_NEW,z))}),l.qZA()()}if(2&Z){const C=l.oxw(2);l.xp6(1),l.Q6J("classroomId",C.classroomId)}}function At(Z,G){if(1&Z){const C=l.EpF();l.ynx(0),l.TgZ(1,"app-news-view-post",11),l.NdJ("changePostObjEvent",function(z){l.CHM(C);const kt=l.oxw(3);return l.KtG(kt.changePostObj(z.actionType,z.postObj))}),l.qZA(),l.BQk()}if(2&Z){const C=l.oxw().$implicit,y=l.oxw(2);l.xp6(1),l.Q6J("isStudent",y.isStudent)("postObj",C)}}function Ht(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"app-news-edit-post",12),l.NdJ("changePostObjEvent",function(z){l.CHM(C);const kt=l.oxw(3);return l.KtG(kt.changePostObj(kt.enumNewsPostActionType.UPDATE,z))}),l.qZA()}if(2&Z){const C=l.oxw().$implicit,y=l.oxw(2);l.Q6J("postObj",C)("classroomId",y.classroomId)}}function ae(Z,G){if(1&Z&&(l.TgZ(0,"div",8),l.YNc(1,At,2,2,"ng-container",9),l.YNc(2,Ht,1,2,"ng-template",null,10,l.W1O),l.qZA()),2&Z){const C=G.$implicit,y=l.MAs(3);l.xp6(1),l.Q6J("ngIf",!C.isShowEditForm)("ngIfElse",y)}}function St(Z,G){1&Z&&(l.TgZ(0,"div",6)(1,"div",13)(2,"div",14),l.O4$(),l.TgZ(3,"svg",15),l._UZ(4,"path",16)(5,"path",17)(6,"path",18)(7,"path",19)(8,"path",20)(9,"path",21),l.qZA(),l.kcU(),l.TgZ(10,"p",22),l._uU(11),l.ALo(12,"mytranslate"),l.qZA()()()()),2&Z&&(l.xp6(11),l.Oqu(l.lcZ(12,1,"lang_student_news_there_is_no_news")+"!"))}function te(Z,G){1&Z&&(l.TgZ(0,"span",26),l._UZ(1,"azt-loading-ui"),l.qZA())}function He(Z,G){if(1&Z){const C=l.EpF();l.TgZ(0,"button",27),l.NdJ("click",function(){l.CHM(C);const z=l.oxw(3);return l.KtG(z.getNextPage())}),l.ALo(1,"mytranslate"),l.O4$(),l.TgZ(2,"svg",28),l._UZ(3,"polyline",29),l.qZA()()}2&Z&&l.s9C("matTooltip",l.lcZ(1,1,"lang_auto_hien_ban_ghi_cu_hon"))}function Pn(Z,G){if(1&Z&&(l.TgZ(0,"div",6)(1,"div",23),l.YNc(2,te,2,0,"span",24),l.YNc(3,He,4,3,"ng-template",null,25,l.W1O),l.qZA()()),2&Z){const C=l.MAs(4),y=l.oxw(2);l.xp6(2),l.Q6J("ngIf",y.sAztNextPaginationService.isLoadingNextPage)("ngIfElse",C)}}function se(Z,G){if(1&Z&&(l.YNc(0,st,2,1,"div",4),l.YNc(1,ae,4,2,"div",5),l.YNc(2,St,13,3,"div",4),l.YNc(3,Pn,5,2,"div",4)),2&Z){const C=l.oxw();l.Q6J("ngIf",!C.isStudent),l.xp6(1),l.Q6J("ngForOf",C.postObjs),l.xp6(1),l.Q6J("ngIf",C.postObjs.length<=0),l.xp6(1),l.Q6J("ngIf",C.postObjs.length&&C.sAztNextPaginationService.hasNextPage)}}let Un=(()=>{class Z extends m.Q{changePostObj(C,y){switch(C){case e.ADD_NEW:this.postObjs.unshift(y);break;case e.UPDATE:this.postObjs=this.postObjs.map(z=>z.id==y.id?y:z);break;case e.DELETE:this.postObjs=this.postObjs.filter(z=>z.id!=y.id)}}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(C){var y={size:this.sAztNextPaginationService.itemPerPage,page:this.sAztNextPaginationService.curPage,classroomId:this.classroomId,student:this.isStudent};C?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsListPost(y).subscribe({next:z=>{let kt={page:1,size:-1,newsIds:z.list.map(re=>re.id).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsEmotionsListPost(kt).subscribe({next:re=>{let zn=this.commonService.arrayToUniqueDictionary(re.list??[],Ge=>Ge.newsId.toString());z.list.forEach(Ge=>{this.postObjs.push({...Ge,hasLoveEmotion:zn.hasOwnProperty(Ge.id),isShowEditForm:!1,isShowCommentBox:!1})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(z.total),this.stopStatusObj()},error:re=>{this.errorStatusObj(re.error.message,!0)}}))},error:z=>{this.errorStatusObj(z.error.message,!0)}}))}getDataFirstTime(){this.postObjs=[],this.sAztNextPaginationService.resetToFirstPage(),this.getData(!1)}ngOnChanges(){this.getDataFirstTime()}ngOnInit(){super.ngOnInit()}constructor(C,y,z){super(),this.newsService=C,this.activeRoute=y,this.sAztNextPaginationService=z,this.postObjs=[],this.enumNewsPostActionType=e}}return Z.\u0275fac=function(C){return new(C||Z)(l.Y36(x.Yc),l.Y36(t.gz),l.Y36(rt.S))},Z.\u0275cmp=l.Xpm({type:Z,selectors:[["app-news-board"]],inputs:{isStudent:"isStudent",classroomId:"classroomId"},features:[l._Bn([rt.S]),l.qOj,l.TTD],decls:4,vars:2,consts:[[1,"grid","grid-cols-12"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start mb-3",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start box p-3 mb-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","mb-3"],[3,"classroomId","changePostObjEvent"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","box","p-3","mb-3"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"isStudent","postObj","changePostObjEvent"],[3,"postObj","classroomId","changePostObjEvent"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","87","height","102","viewBox","0 0 87 102","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M66.6719 13.9999L75.9738 81.8427L76.8095 88.649C77.0787 90.8417 75.5194 92.8374 73.3268 93.1066L14.7665 100.297C12.5739 100.566 10.5781 99.0069 10.3089 96.8142L1.29312 23.3867C1.1585 22.2904 1.93813 21.2925 3.03447 21.1579C3.0414 21.157 3.04832 21.1562 3.05526 21.1554L7.91363 20.6104M11.8422 20.1698L16.4292 19.6552L11.8422 20.1698Z","fill","white"],["d","M67.9103 13.8302C67.8165 13.1462 67.186 12.6678 66.5021 12.7615C65.8181 12.8553 65.3397 13.4858 65.4335 14.1697L67.9103 13.8302ZM75.9738 81.8427L77.2144 81.6903C77.2137 81.6845 77.213 81.6787 77.2122 81.6729L75.9738 81.8427ZM76.8095 88.649L78.0502 88.4967L76.8095 88.649ZM73.3268 93.1066L73.4791 94.3473L73.3268 93.1066ZM14.7665 100.297L14.9189 101.538L14.7665 100.297ZM10.3089 96.8142L11.5496 96.6619L10.3089 96.8142ZM3.05526 21.1554L3.1946 22.3976L3.05526 21.1554ZM8.05297 21.8527C8.73902 21.7757 9.23279 21.1572 9.15583 20.4711C9.07888 19.7851 8.46034 19.2913 7.77428 19.3682L8.05297 21.8527ZM11.7028 18.9276C11.0168 19.0045 10.523 19.6231 10.5999 20.3091C10.6769 20.9952 11.2954 21.4889 11.9815 21.412L11.7028 18.9276ZM16.5685 20.8974C17.2546 20.8205 17.7484 20.2019 17.6714 19.5159C17.5945 18.8298 16.9759 18.3361 16.2899 18.413L16.5685 20.8974ZM65.4335 14.1697L74.7353 82.0125L77.2122 81.6729L67.9103 13.8302L65.4335 14.1697ZM74.7331 81.995L75.5688 88.8013L78.0502 88.4967L77.2144 81.6903L74.7331 81.995ZM75.5688 88.8013C75.7539 90.3088 74.6819 91.6809 73.1744 91.866L73.4791 94.3473C76.357 93.994 78.4035 91.3745 78.0502 88.4967L75.5688 88.8013ZM73.1744 91.866L14.6142 99.0563L14.9189 101.538L73.4791 94.3473L73.1744 91.866ZM14.6142 99.0563C13.1067 99.2414 11.7347 98.1694 11.5496 96.6619L9.0682 96.9666C9.42156 99.8445 12.041 101.891 14.9189 101.538L14.6142 99.0563ZM11.5496 96.6619L2.5338 23.2344L0.0524334 23.539L9.0682 96.9666L11.5496 96.6619ZM2.5338 23.2344C2.48332 22.8232 2.77568 22.449 3.18681 22.3986L2.88213 19.9172C1.10059 20.1359 -0.166313 21.7575 0.0524334 23.539L2.5338 23.2344ZM3.18681 22.3986C3.1894 22.3982 3.192 22.3979 3.1946 22.3976L2.91592 19.9132C2.90465 19.9145 2.89339 19.9158 2.88213 19.9172L3.18681 22.3986ZM3.1946 22.3976L8.05297 21.8527L7.77428 19.3682L2.91592 19.9132L3.1946 22.3976ZM11.9815 21.412L16.5685 20.8974L16.2899 18.413L11.7028 18.9276L11.9815 21.412Z","fill","#1F64E7"],["fill-rule","evenodd","clip-rule","evenodd","d","M64.14 18.2692L72.5596 79.7529L73.3169 85.9212C73.5609 87.9083 72.1669 89.7146 70.2033 89.9557L17.7613 96.3948C15.7978 96.6359 14.0082 95.2204 13.7642 93.2333L5.61416 26.8568C5.47955 25.7605 6.25918 24.7626 7.35551 24.628L13.8431 23.8314","fill","#E8F0FE"],["d","M20.9219 4C20.9219 2.48122 22.1531 1.25 23.6719 1.25H69.2286C69.9577 1.25 70.6569 1.5395 71.1726 2.05485L84.6158 15.4898C85.1319 16.0056 85.4219 16.7053 85.4219 17.4349V80C85.4219 81.5188 84.1907 82.75 82.6719 82.75H23.6719C22.1531 82.75 20.9219 81.5188 20.9219 80V4Z","fill","white","stroke","#1F64E7","stroke-width","2.5"],["d","M69.6719 2.40283V14C69.6719 15.6569 71.015 17 72.6719 17H80.6055","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M31 17H57M31 29H74M31 42H74M31 55H74M31 68H57","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"],[1,"flex","justify-center"],["class","w-4 h-4 inline-block mr-2",4,"ngIf","ngIfElse"],["doneLoadNextPage",""],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","trash-homework-tab-C69nk6waYbG",1,"btn","btn-transparent",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(C,y){if(1&C&&(l.TgZ(0,"div",0),l.YNc(1,F,2,0,"div",1),l.YNc(2,se,4,4,"ng-template",null,2,l.W1O),l.qZA()),2&C){const z=l.MAs(3);l.xp6(1),l.Q6J("ngIf",y.statusObj.loading)("ngIfElse",z)}},dependencies:[xt.sg,xt.O5,Q.gM,o.l,Ct.n,oe,ct,q,lt.JV],encapsulation:2}),Z})()},9345:(tn,Yt,b)=>{b.d(Yt,{u:()=>bt});var rt=b(56223),m=b(72164),e=b(76359),l=b(47180),x=b(65879),t=b(75470),xt=b(58737),Q=b(96814),o=b(19347);function Ct(et,S){1&et&&(x.TgZ(0,"div",11)(1,"span",12),x._UZ(2,"azt-loading-ui"),x.qZA()())}function _t(et,S){if(1&et&&(x.TgZ(0,"span"),x._uU(1),x.ALo(2,"mytranslate"),x.qZA()),2&et){const B=x.oxw(2);x.xp6(1),x.Oqu(" ("+B.dataUpgradeClass.length+" "+x.lcZ(2,1,"lang_testbank_test_list_classes")+")")}}function jt(et,S){1&et&&(x.TgZ(0,"div",25),x._uU(1),x.ALo(2,"mytranslate"),x.qZA()),2&et&&(x.xp6(1),x.hij("",x.lcZ(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_class_click_choose"),"."))}function dt(et,S){if(1&et){const B=x.EpF();x.TgZ(0,"input",38),x.NdJ("keyup",function(){x.CHM(B);const ut=x.oxw().index,lt=x.oxw(2);return x.KtG(lt.validateInput(ut))}),x.ALo(1,"mytranslate"),x.qZA()}if(2&et){const B=x.oxw(),ut=B.$implicit;x.MGl("id","input-event-",B.index,""),x.s9C("value",ut.nameClass),x.s9C("placeholder",x.lcZ(1,3,"lang_auto_nhap_ten_lop"))}}function yt(et,S){if(1&et){const B=x.EpF();x.TgZ(0,"textarea",39),x.NdJ("keyup",function(){x.CHM(B);const ut=x.oxw().index,lt=x.oxw(2);return x.KtG(lt.validateInput(ut))}),x.ALo(1,"mytranslate"),x.qZA()}if(2&et){const B=x.oxw(),ut=B.$implicit;x.MGl("id","input-event-",B.index,""),x.s9C("value",ut.nameClass),x.s9C("placeholder",x.lcZ(1,3,"lang_auto_nhap_ten_lop"))}}function ht(et,S){if(1&et){const B=x.EpF();x.TgZ(0,"div",26)(1,"div",27)(2,"div",28),x.YNc(3,dt,2,5,"input",29),x.YNc(4,yt,2,5,"textarea",30),x.qZA(),x.TgZ(5,"div",31)(6,"button",32),x.NdJ("click",function(){const lt=x.CHM(B).$implicit,Dt=x.oxw(2);return x.KtG(Dt.clearInput(lt.id))}),x.O4$(),x.TgZ(7,"svg",33),x._UZ(8,"line",34)(9,"line",35),x.qZA()()()(),x.kcU(),x.TgZ(10,"div",36,37),x._uU(12),x.ALo(13,"mytranslate"),x.qZA()()}if(2&et){const B=S.index,at=x.oxw(2);x.xp6(3),x.Q6J("ngIf",0==at.isMobile),x.xp6(1),x.Q6J("ngIf",1==at.isMobile),x.xp6(6),x.MGl("id","logerror",B,""),x.xp6(2),x.hij(" ",x.lcZ(13,4,"lang_student_classroom_list_utils_create_class_new_course_choose_class_dont_class_null"),". ")}}function ft(et,S){if(1&et){const B=x.EpF();x.TgZ(0,"form",13)(1,"div",14)(2,"div",15)(3,"azt-list-classroom-checkbox-new",16),x.NdJ("changeCheckboxEvent",function(){x.CHM(B);const ut=x.oxw();return x.KtG(ut.changeCheckboxEvent())}),x.qZA()(),x.TgZ(4,"div",17)(5,"div",18),x._uU(6),x.ALo(7,"mytranslate"),x.YNc(8,_t,3,3,"span",19),x.qZA(),x.TgZ(9,"div",20)(10,"ng-scrollbar",21),x.YNc(11,jt,3,3,"div",22),x.TgZ(12,"div",23),x.YNc(13,ht,14,6,"div",24),x.qZA()()()()()()}if(2&et){const B=x.oxw();x.Q6J("formGroup",B.form),x.xp6(3),x.Q6J("form",B.form)("classroomGroupData",B.classroomWithGroup)("permissionName",B.permissionTypes.classroom)("defaultCssClass","classroom-box-in-dialog"),x.xp6(3),x.hij(" ",x.lcZ(7,11,"lang_student_classroom_list_utils_create_class_new_course_choose_class_respective_class")," "),x.xp6(2),x.Q6J("ngIf",B.dataUpgradeClass.length),x.xp6(2),x.Q6J("visibility","hover")("autoHeightDisabled",!0),x.xp6(1),x.Q6J("ngIf",0==B.dataUpgradeClass.length),x.xp6(2),x.Q6J("ngForOf",B.dataUpgradeClass)}}function vt(et,S){1&et&&(x.TgZ(0,"span",40),x._UZ(1,"azt-loading-ui"),x.qZA())}let bt=(()=>{class et extends m.e{closeDialog(){this.dialogRef.close()}validateInput(B){let at=document.getElementById("input-event-"+B),ut=at?at.value:"";if(""==ut){let lt=document.getElementById("logerror"+B);lt&&(lt.style.display="block")}if(""!=ut){let lt=document.getElementById("logerror"+B);lt&&(lt.style.display="none")}}handleUpgrade(){if(0!=this.dataUpgradeClass.length){let B=!0;this.sendDataUpgradeClass=[];for(let at=0;at<this.dataUpgradeClass.length;at++){let ut=document.getElementById("input-event-"+at),lt=ut?ut.value:"";""==lt&&(B=!1),this.validateInput(at),this.sendDataUpgradeClass.push({oldId:this.dataUpgradeClass[at].id,newName:lt,year:this.increaseYear(this.dataUpgradeClass[at].year)})}1==B&&this.upgradeClassroomGroup()}else this.viewErrorSelected=!1}increaseYear(B){if(null!=B||null!=B){let at=B.split(" ")[0],ut=parseInt(at,10)+1;return ut+" - "+(ut+1)}}changeCheckboxEvent(){const B=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray),at=B.concat(this.dataUpgradeClass.map(lt=>lt.id??0));let ut=at.filter(lt=>at.indexOf(lt)===at.lastIndexOf(lt));B.length>this.dataUpgradeClass.length?this.dataUpgradeClass=this.dataUpgradeClass.concat(this.classroomObjs.filter(lt=>ut.includes(lt.id??0)).map(lt=>{let oe,Dt=lt.name,pt=lt.year,ne=Dt?.match(/\d+/g);if(null==ne)oe=Dt;else{let Rt=parseInt(ne[0].toString(),10)+1;oe=Dt?.replace(ne[0],Rt.toString())}return{id:lt.id,nameClass:oe,year:pt}})):ut.forEach(lt=>{this.dataUpgradeClass.splice(this.dataUpgradeClass.findIndex(Dt=>Dt.id===lt),1)})}clearInput(B){setTimeout(()=>{document.getElementById("azt-checkbox-item-"+B)?.click()},0)}upgradeClassroomGroup(){this.initStatusObj();for(var B=[],at=0;at<this.sendDataUpgradeClass.length;at++)B.push({oldId:this.sendDataUpgradeClass[at].oldId??0,newName:this.sendDataUpgradeClass[at].newName??"",year:this.sendDataUpgradeClass[at].year??""});this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpgradeClassroomPost(B).subscribe(ut=>{1==ut.success?(ut.data?.isDuplicatedClassroomName?this.errorStatusObj(ut.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(),this.errorStatusObj("lang_auto_tao_lop_cho_khoa_moi_khong_thanh_cong",!0))}))}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(B=>{B.success?(this.classroomWithGroup=B.data?.activeClassroomData??[],this.classroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroup.map(at=>at.classroomObjs)),this.successStatusObj()):this.errorStatusObj(B.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getClassroomObjs(),super.ngOnInit()}constructor(B,at,ut,lt){super(void 0,lt),this.classroomGroupService=B,this.sAztClassroomCheckboxService=at,this.location=ut,this.dialogRef=lt,this.classroomObjs=[],this.dataUpgradeClass=[],this.sendDataUpgradeClass=[],this.selectedAll=!1,this.viewErrorSelected=!0,this.isMobile=this.commonService.isMobileOrTable(),this.permissionTypes=e.y,this.classroomWithGroup=[],this.form=new rt.cw({classroomFormArray:new rt.Oe([]),whoAllow:new rt.NI(0,{nonNullable:!0})},{validators:[l.h.classroomInGroupCheckBoxValidatorWithoutWhoAllow]})}}return et.\u0275fac=function(B){return new(B||et)(x.Y36(t.c8),x.Y36(xt.f),x.Y36(Q.Ye),x.Y36(o.so,8))},et.\u0275cmp=x.Xpm({type:et,selectors:[["app-create-class-new-course"]],features:[x.qOj],decls:20,vars:16,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"font-medium","text-base"],[1,"leading-relaxed","text-slate-500","text-xs"],["class","flex items-center h-full",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","flex","justify-end"],["azt-track-service","create-classroom-new-course-dialog-k_ZG3G-AAS",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","create-classroom-new-course-dialog-OvOUaKHkJOv",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex","items-center","h-full"],[1,"w-6","h-6","inline-block","mx-auto"],[3,"formGroup"],[1,"p-3","pt-0"],[1,"azt-list-classroom"],[3,"form","classroomGroupData","permissionName","defaultCssClass","changeCheckboxEvent"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3","font-medium"],[4,"ngIf"],[2,"height","150px"],["track","vertical","pointerEventsMethod","scrollbar",1,"w-full",3,"visibility","autoHeightDisabled"],["style","height: 130px","class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-2","p-2"],["class","col-span-12 md:col-span-6 2xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center",2,"height","130px"],[1,"col-span-12","md:col-span-6","2xl:col-span-4"],[1,"flex","items-center","p-1","rounded"],[1,"col-span-10",2,"width","100%"],["class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],["class","text-area-form","rows","2","wrap","soft","class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],[1,"col-span-2","m-0","p-1","text-center"],["azt-track-service","create-classroom-new-course-dialog-NjCJ7r_T8U",1,"btn","btn-sm","btn-secondary","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"alert","alert-danger","mt-1",2,"margin","auto","padding","5px 10px","display","none",3,"id"],["ab",""],["type","text",1,"form-control",3,"id","value","placeholder","keyup"],["rows","2","wrap","soft","type","text",1,"form-control",3,"id","value","placeholder","keyup"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(B,at){if(1&B&&(x.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),x._uU(4),x.ALo(5,"mytranslate"),x.qZA(),x.TgZ(6,"div",4),x._uU(7),x.ALo(8,"mytranslate"),x.qZA()(),x.YNc(9,Ct,3,0,"div",5),x.YNc(10,ft,14,13,"ng-template",null,6,x.W1O),x.qZA(),x.TgZ(12,"div",7)(13,"button",8),x.NdJ("click",function(){return at.closeDialog()}),x._uU(14),x.ALo(15,"mytranslate"),x.qZA(),x.TgZ(16,"button",9),x.NdJ("click",function(){return at.handleUpgrade()}),x.YNc(17,vt,2,0,"span",10),x._uU(18),x.ALo(19,"mytranslate"),x.qZA()()()),2&B){const ut=x.MAs(11);x.xp6(4),x.hij(" ",x.lcZ(5,8,"lang_student_classroom_list_create_class_new_cousre")," "),x.xp6(3),x.Oqu(x.lcZ(8,10,"lang_student_classroom_list_utils_create_class_new_course_conten_review")),x.xp6(2),x.Q6J("ngIf",at.statusObj.loading)("ngIfElse",ut),x.xp6(5),x.hij(" ",x.lcZ(15,12,"lang_button_cancel")," "),x.xp6(2),x.Q6J("disabled",at.form.invalid),x.xp6(1),x.Q6J("ngIf",at.statusObj.loading),x.xp6(1),x.hij(" ",x.lcZ(19,14,"lang_button_save")," ")}},encapsulation:2}),et})()},34685:(tn,Yt,b)=>{b.d(Yt,{v:()=>Ir});var rt=b(21266),m=b(82481),e=b(71026),l=b(52572),x=b(47496),t=b(65879),xt=b(78820),Q=b(96814),o=b(98129),Ct=b(37722),_t=b(94767),jt=b(8633),dt=b(63278),yt=b(71518),ht=b(43389),ft=b(71646),vt=b(25368),bt=b(92596),et=b(93523),S=b(36727);function B(a,g){1&a&&(t._UZ(0,"lucide-icon",11),t.ALo(1,"mytranslate")),2&a&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_published"))}function at(a,g){1&a&&(t._UZ(0,"lucide-icon",12),t.ALo(1,"mytranslate")),2&a&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_Unpublished"))}function ut(a,g){if(1&a&&(t.TgZ(0,"div")(1,"div",8),t.YNc(2,B,2,3,"lucide-icon",9),t.YNc(3,at,2,3,"lucide-icon",10),t.qZA()()),2&a){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",1==n.document.homework.isPublished),t.xp6(1),t.Q6J("ngIf",1!=n.document.homework.isPublished)}}function lt(a,g){1&a&&(t._UZ(0,"lucide-icon",15),t.ALo(1,"mytranslate")),2&a&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_published"))}function Dt(a,g){1&a&&(t._UZ(0,"lucide-icon",12),t.ALo(1,"mytranslate")),2&a&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_Unpublished"))}function pt(a,g){if(1&a&&(t.TgZ(0,"div",13),t.YNc(1,lt,2,3,"lucide-icon",14),t.YNc(2,Dt,2,3,"lucide-icon",10),t.qZA()),2&a){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",1==(null==n.document.exam?null:n.document.exam.isPublished)),t.xp6(1),t.Q6J("ngIf",1!=(null==n.document.exam?null:n.document.exam.isPublished))}}function ne(a,g){if(1&a&&(t.TgZ(0,"div",16)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a){const n=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_luot_lam")+": "+n.document.exam.attended)}}function oe(a,g){if(1&a&&(t.TgZ(0,"div",16)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a){const n=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_da_nop")+": "+n.document.homework.count+"/"+n.document.homework.totalStudent)}}const Rt=function(a){return{"mt-3":a}};let Te=(()=>{class a extends x.Q{}return a.\u0275fac=function(){let g;return function(r){return(g||(g=t.n5z(a)))(r||a)}}(),a.\u0275cmp=t.Xpm({type:a,selectors:[["exam-exercises-block"]],inputs:{document:"document",index:"index"},features:[t.qOj],decls:11,vars:11,consts:[[1,"flex","items-center","cursor-pointer","hover:bg-slate-100","rounded-md","p-2",2,"text-align","left","border","none","box-shadow","none",3,"ngClass"],[1,"flex-none","image-fit","rounded-md","overflow-hidden"],[4,"ngIf","ngIfElse"],["ExamIcon",""],[1,"ml-4","mr-auto","w-2/3"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-500 text-xs mt-0.5 font-medium",4,"ngIf"],[1,"w-12","h-12","text-primary"],["name","file-text","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-text","matTooltipShowDelay","1000",3,"matTooltip"],["name","file","matTooltipShowDelay","1000",3,"matTooltip"],[1,"w-12","h-12","text-pending"],["name","file-check","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-check","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5","font-medium"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,ut,4,2,"div",2),t.YNc(3,pt,3,2,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(5,"div",4)(6,"div",5,6),t._uU(8),t.qZA(),t.YNc(9,ne,4,3,"div",7),t.YNc(10,oe,4,3,"div",7),t.qZA()()),2&n){const d=t.MAs(4),T=t.MAs(7);t.Q6J("ngClass",t.VKq(9,Rt,0!==r.index)),t.xp6(2),t.Q6J("ngIf",r.document.homework)("ngIfElse",d),t.xp6(4),t.s9C("matTooltip",r.document.exam?r.document.exam.name:null==r.document.homework?null:r.document.homework.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",T.isDisabled),t.xp6(2),t.hij(" ",r.document.exam?r.document.exam.name:null==r.document.homework?null:r.document.homework.name," "),t.xp6(1),t.Q6J("ngIf",r.document.exam),t.xp6(1),t.Q6J("ngIf",r.document.homework)}},dependencies:[Q.mk,Q.O5,bt.gM,et.Q,Ct.Nh5,S.JV],encapsulation:2}),a})();function Oe(a,g){1&a&&t._UZ(0,"azt-loading-effect")}function De(a,g){1&a&&(t.TgZ(0,"h2",16),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_list_of_assigned_assignments")))}function Ee(a,g){1&a&&(t.TgZ(0,"h2",16),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_search_results")))}function ve(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(2);return t.KtG(d.backToDocumentList())}),t.TgZ(1,"span",18),t._UZ(2,"lucide-icon",19),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&a&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_auto_quay_lai")))}function fe(a,g){1&a&&t._UZ(0,"azt-loading-effect")}const xe=function(a){return[a]},_e=function(a){return{backto:a}};function Pe(a,g){if(1&a&&(t.TgZ(0,"a",35),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",36),t.qZA()),2&a){const n=t.oxw(2),r=n.$implicit,d=n.index,T=t.oxw(6);t.Q6J("routerLink",t.VKq(6,xe,t.lcZ(1,4,"/admin/testbank/homework-results-list/"+r.homework.classroomId+"/"+r.homework.id+"/"+r.homework.hashId)))("queryParams",t.VKq(8,_e,"/admin/student/classroom-details/"+T.classroomId+"/1")),t.xp6(2),t.Q6J("document",r)("index",d)}}function Ze(a,g){if(1&a&&(t.TgZ(0,"a",37),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",36),t.qZA()),2&a){const n=t.oxw(2),r=n.$implicit,d=n.index,T=t.oxw(6);t.Q6J("routerLink",t.VKq(6,xe,t.lcZ(1,4,"/bai-tap/"+r.homework.hashId)))("queryParams",t.VKq(8,_e,"/student/classroom-details/"+T.classroomId+"/1")),t.xp6(2),t.Q6J("document",r)("index",d)}}function en(a,g){if(1&a&&(t.ynx(0),t.YNc(1,Pe,3,10,"a",33),t.YNc(2,Ze,3,10,"a",34),t.BQk()),2&a){const n=t.oxw(7);t.xp6(1),t.Q6J("ngIf",!n.isStudent),t.xp6(1),t.Q6J("ngIf",n.isStudent)}}function Ue(a,g){if(1&a&&(t.TgZ(0,"a",40),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",36),t.qZA()),2&a){const n=t.oxw(2),r=n.$implicit,d=n.index,T=t.oxw(6);let D;t.Q6J("routerLink",t.VKq(6,xe,t.lcZ(1,4,"/admin/testbank/exam-results-list/"+(null!==(D=null==r.exam?null:r.exam.categoryId)&&void 0!==D?D:0)+"/"+(null==r.exam?null:r.exam.id)+"/0")))("queryParams",t.VKq(8,_e,"/admin/student/classroom-details/"+T.classroomId+"/1")),t.xp6(2),t.Q6J("document",r)("index",d)}}function ie(a,g){if(1&a&&(t.TgZ(0,"a",41),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",36),t.qZA()),2&a){const n=t.oxw(2),r=n.$implicit,d=n.index,T=t.oxw(6);t.Q6J("routerLink",t.VKq(6,xe,t.lcZ(1,4,"/de-thi/"+(null==r.exam?null:r.exam.hashId))))("queryParams",t.VKq(8,_e,"/student/classroom-details/"+T.classroomId+"/1")),t.xp6(2),t.Q6J("document",r)("index",d)}}function Ae(a,g){if(1&a&&(t.YNc(0,Ue,3,10,"a",38),t.YNc(1,ie,3,10,"a",39)),2&a){const n=t.oxw(7);t.Q6J("ngIf",!n.isStudent),t.xp6(1),t.Q6J("ngIf",n.isStudent)}}function de(a,g){if(1&a&&(t.TgZ(0,"div",31),t.YNc(1,en,3,2,"ng-container",0),t.YNc(2,Ae,2,2,"ng-template",null,32,t.W1O),t.qZA()),2&a){const n=g.$implicit,r=t.MAs(3);t.xp6(1),t.Q6J("ngIf",n.homework)("ngIfElse",r)}}function ze(a,g){if(1&a&&(t.TgZ(0,"div",29),t.YNc(1,de,4,2,"div",30),t.qZA()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.documentList)}}function Se(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div")(1,"div")(2,"button",24),t.NdJ("click",function(){const T=t.CHM(n).$implicit;return t.KtG(T.isExpand=!T.isExpand)}),t.TgZ(3,"span",25),t._UZ(4,"lucide-icon",26),t.qZA(),t.TgZ(5,"span",27),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"getDayOfWeek"),t.ALo(9,"mytranslate"),t.ALo(10,"formatOnlyDateByUserUnitPipe"),t.qZA()()(),t.YNc(11,ze,2,1,"div",28),t.qZA()}if(2&a){const n=g.$implicit;t.xp6(4),t.s9C("name",n.isExpand?"chevron-down":"chevron-right"),t.xp6(2),t.Oqu(t.lcZ(7,3,t.lcZ(8,5,n.assignmentDate))+", "+t.lcZ(9,7,"lang_testbank_powerpoint_date")+" "+t.lcZ(10,9,n.assignmentDate)),t.xp6(5),t.Q6J("ngIf",n.isExpand)}}function nn(a,g){1&a&&(t.TgZ(0,"span",45),t._UZ(1,"azt-loading-ui"),t.qZA())}function Fe(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",42)(1,"span",43),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(4);return t.KtG(!d.sAztNextPaginationService.isLoadingNextPage&&d.getNextPage())}),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,nn,2,0,"span",44),t.qZA()()}if(2&a){const n=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_business_document_get_more_documents")," "),t.xp6(2),t.Q6J("ngIf",n.sAztNextPaginationService.isLoadingNextPage)}}function Wt(a,g){if(1&a&&(t.ynx(0),t.YNc(1,Se,12,11,"div",22),t.YNc(2,Fe,5,4,"div",23),t.BQk()),2&a){const n=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n.listGroupDocumentObjs),t.xp6(1),t.Q6J("ngIf",n.sAztNextPaginationService.hasNextPage)}}function Je(a,g){1&a&&(t.TgZ(0,"div",46)(1,"div",47),t.O4$(),t.TgZ(2,"svg",48),t._UZ(3,"path",49)(4,"path",50)(5,"path",51)(6,"path",52)(7,"path",53)(8,"path",54),t.qZA(),t.kcU(),t.TgZ(9,"p",55),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()),2&a&&(t.xp6(10),t.Oqu(t.lcZ(11,1,"lang_student_there_are_no_exercises_or_tests_yet")+"!"))}function on(a,g){if(1&a&&(t.TgZ(0,"div",20),t.YNc(1,Wt,3,2,"ng-container",0),t.YNc(2,Je,12,3,"ng-template",null,21,t.W1O),t.qZA()),2&a){const n=t.MAs(3),r=t.oxw(2);t.xp6(1),t.Q6J("ngIf",r.listGroupDocumentObjs.length>0)("ngIfElse",n)}}function qe(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"azt-search-box",6),t.NdJ("onSearch",function(d){t.CHM(n);const T=t.oxw();return t.KtG(T.searchDocumentObjs(d.searchObj))}),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",7)(7,"button",8),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.openEditor())}),t.TgZ(8,"span",9),t._UZ(9,"lucide-icon",10),t.qZA(),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()(),t.TgZ(12,"div",11),t.YNc(13,De,3,3,"h2",12),t.YNc(14,Ee,3,3,"h2",12),t.YNc(15,ve,6,3,"button",13),t.qZA(),t.TgZ(16,"div",14),t.YNc(17,fe,1,0,"azt-loading-effect",0),t.qZA(),t.YNc(18,on,4,2,"ng-template",null,15,t.W1O),t.qZA()}if(2&a){const n=t.MAs(19),r=t.oxw();t.xp6(4),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(5,9,"lang_auto_tim_kiem"))("searchContentObj",r.searchContentObj),t.xp6(6),t.hij(" ",t.lcZ(11,11,"lang_student_new_assignment")," "),t.xp6(3),t.Q6J("ngIf",!r.isShowSearchResult),t.xp6(1),t.Q6J("ngIf",r.isShowSearchResult),t.xp6(1),t.Q6J("ngIf",r.isShowSearchResult),t.xp6(2),t.Q6J("ngIf",r.searchContentObj.isLoading)("ngIfElse",n)}}let Qe=(()=>{class a extends x.Q{openEditor(){let n=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backto=${encodeURIComponent(n)}&classroomId=${this.classroomId}`)}backToDocumentList(){this.isShowSearchResult=!1,this.searchContentObj.searchContent="",this.getData(!1)}resetData(){this.listDocumentObjs=[]}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}searchDocumentObjs(n){this.searchContentObj=n,this.searchContentObj.setLoading(!0),this.resetData(),this.getData(!1)}getData(n){n?this.sAztNextPaginationService.setLoading(!0):this.searchContentObj.searchContent||this.initStatusObj();let r={categoryId:void 0,documentType:"file",shareType:void 0,fileType:void 0,classroomId:this.classroomId,name:this.searchContentObj.searchContent?this.searchContentObj.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:0,page:this.sAztNextPaginationService.curPage,itemPerPage:this.sAztNextPaginationService.itemPerPage};this.isShowSearchResult=!!this.searchContentObj.searchContent,this.waitDestroy(this.documentService.apiDocumentsGet(r.categoryId,r.documentType,r.shareType,r.fileType,r.classroomId,r.name,r.suggestExamPurpose,r.lite,r.getGlobal,r.page,r.itemPerPage).subscribe(d=>{d.success?(this.listDocumentObjs=this.listDocumentObjs.concat(d.data?.documentObjs??[]),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(d.data?.total??0),this.processData(this.listDocumentObjs),this.searchContentObj.setLoading(!1),this.stopStatusObj()):(this.searchContentObj.setLoading(!1),this.errorStatusObj(d.message,!0))}))}processData(n){let r=this.commonService.arrayToDictionary(n,T=>T.exam?new Date(T.exam.createdAt??0).toDateString():new Date(T?.homework?.createdAt??0).toDateString()),d=[];Object.entries(r).forEach(([T,D],Y)=>{if(D.length>0){let it=D[0];d.push({isExpand:!0,assignmentDate:it.exam?it.exam.createdAt:it.homework?.createdAt,documentList:D})}}),this.listGroupDocumentObjs=d}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getData(!1)}constructor(n,r,d){super(),this.documentService=n,this.activeRoute=r,this.sAztNextPaginationService=d,this.classroomId=0,this.listGroupDocumentObjs=[],this.listDocumentObjs=[],this.isShowSearchResult=!1,this.searchContentObj=new dt.h}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(yt.Zg),t.Y36(rt.gz),t.Y36(jt.S))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-exam-exercises"]],inputs:{isStudent:"isStudent"},features:[t._Bn([jt.S]),t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","exam-exercises-jkv8YmKddH",1,"btn","btn-primary","text-white","shadow-md",3,"click"],[1,"w-4","h-4","mr-2"],["name","plus"],[1,"col-span-12","flex","items-center","mt-5"],["class","text-lg font-medium mr-5",4,"ngIf"],["azt-track-service","exam-exercises-TXjuRofaLz","class","btn-text-primary font-medium ml-auto",3,"click",4,"ngIf"],[1,"col-span-12","mt-5"],["doneLoadingSearch",""],[1,"text-lg","font-medium","mr-5"],["azt-track-service","exam-exercises-TXjuRofaLz",1,"btn-text-primary","font-medium","ml-auto",3,"click"],[1,"w-4","h-4","inline-block","mr-1"],["name","chevron-left"],[1,"col-span-12"],["emptyList",""],[4,"ngFor","ngForOf"],["class","mt-2 font-medium",4,"ngIf"],["azt-track-service","exam-exercises-gYn61cneD",1,"flex","items-center","py-3","pr-3","hover:text-primary",3,"click"],[1,"w-6","h-6","inline-block"],[3,"name"],[1,"font-medium","ml-3"],["class","box p-3",4,"ngIf"],[1,"box","p-3"],["class","document",4,"ngFor","ngForOf"],[1,"document"],["isExamDocument",""],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams"],[3,"document","index"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams"],[1,"mt-2","font-medium"],["azt-track-service","exam-exercises-4meI3XYSV",1,"clickable",3,"click"],["class","w-4 h-4 inline-block ml-2",4,"ngIf"],[1,"w-4","h-4","inline-block","ml-2"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","87","height","102","viewBox","0 0 87 102","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M66.6719 13.9999L75.9738 81.8427L76.8095 88.649C77.0787 90.8417 75.5194 92.8374 73.3268 93.1066L14.7665 100.297C12.5739 100.566 10.5781 99.0069 10.3089 96.8142L1.29312 23.3867C1.1585 22.2904 1.93813 21.2925 3.03447 21.1579C3.0414 21.157 3.04832 21.1562 3.05526 21.1554L7.91363 20.6104M11.8422 20.1698L16.4292 19.6552L11.8422 20.1698Z","fill","white"],["d","M67.9103 13.8302C67.8165 13.1462 67.186 12.6678 66.5021 12.7615C65.8181 12.8553 65.3397 13.4858 65.4335 14.1697L67.9103 13.8302ZM75.9738 81.8427L77.2144 81.6903C77.2137 81.6845 77.213 81.6787 77.2122 81.6729L75.9738 81.8427ZM76.8095 88.649L78.0502 88.4967L76.8095 88.649ZM73.3268 93.1066L73.4791 94.3473L73.3268 93.1066ZM14.7665 100.297L14.9189 101.538L14.7665 100.297ZM10.3089 96.8142L11.5496 96.6619L10.3089 96.8142ZM3.05526 21.1554L3.1946 22.3976L3.05526 21.1554ZM8.05297 21.8527C8.73902 21.7757 9.23279 21.1572 9.15583 20.4711C9.07888 19.7851 8.46034 19.2913 7.77428 19.3682L8.05297 21.8527ZM11.7028 18.9276C11.0168 19.0045 10.523 19.6231 10.5999 20.3091C10.6769 20.9952 11.2954 21.4889 11.9815 21.412L11.7028 18.9276ZM16.5685 20.8974C17.2546 20.8205 17.7484 20.2019 17.6714 19.5159C17.5945 18.8298 16.9759 18.3361 16.2899 18.413L16.5685 20.8974ZM65.4335 14.1697L74.7353 82.0125L77.2122 81.6729L67.9103 13.8302L65.4335 14.1697ZM74.7331 81.995L75.5688 88.8013L78.0502 88.4967L77.2144 81.6903L74.7331 81.995ZM75.5688 88.8013C75.7539 90.3088 74.6819 91.6809 73.1744 91.866L73.4791 94.3473C76.357 93.994 78.4035 91.3745 78.0502 88.4967L75.5688 88.8013ZM73.1744 91.866L14.6142 99.0563L14.9189 101.538L73.4791 94.3473L73.1744 91.866ZM14.6142 99.0563C13.1067 99.2414 11.7347 98.1694 11.5496 96.6619L9.0682 96.9666C9.42156 99.8445 12.041 101.891 14.9189 101.538L14.6142 99.0563ZM11.5496 96.6619L2.5338 23.2344L0.0524334 23.539L9.0682 96.9666L11.5496 96.6619ZM2.5338 23.2344C2.48332 22.8232 2.77568 22.449 3.18681 22.3986L2.88213 19.9172C1.10059 20.1359 -0.166313 21.7575 0.0524334 23.539L2.5338 23.2344ZM3.18681 22.3986C3.1894 22.3982 3.192 22.3979 3.1946 22.3976L2.91592 19.9132C2.90465 19.9145 2.89339 19.9158 2.88213 19.9172L3.18681 22.3986ZM3.1946 22.3976L8.05297 21.8527L7.77428 19.3682L2.91592 19.9132L3.1946 22.3976ZM11.9815 21.412L16.5685 20.8974L16.2899 18.413L11.7028 18.9276L11.9815 21.412Z","fill","#1F64E7"],["fill-rule","evenodd","clip-rule","evenodd","d","M64.14 18.2692L72.5596 79.7529L73.3169 85.9212C73.5609 87.9083 72.1669 89.7146 70.2033 89.9557L17.7613 96.3948C15.7978 96.6359 14.0082 95.2204 13.7642 93.2333L5.61416 26.8568C5.47955 25.7605 6.25918 24.7626 7.35551 24.628L13.8431 23.8314","fill","#E8F0FE"],["d","M20.9219 4C20.9219 2.48122 22.1531 1.25 23.6719 1.25H69.2286C69.9577 1.25 70.6569 1.5395 71.1726 2.05485L84.6158 15.4898C85.1319 16.0056 85.4219 16.7053 85.4219 17.4349V80C85.4219 81.5188 84.1907 82.75 82.6719 82.75H23.6719C22.1531 82.75 20.9219 81.5188 20.9219 80V4Z","fill","white","stroke","#1F64E7","stroke-width","2.5"],["d","M69.6719 2.40283V14C69.6719 15.6569 71.015 17 72.6719 17H80.6055","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M31 17H57M31 29H74M31 42H74M31 55H74M31 68H57","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"]],template:function(n,r){if(1&n&&(t.YNc(0,Oe,1,0,"azt-loading-effect",0),t.YNc(1,qe,20,13,"ng-template",null,1,t.W1O)),2&n){const d=t.MAs(2);t.Q6J("ngIf",r.statusObj.loading)("ngIfElse",d)}},dependencies:[rt.rH,Q.sg,Q.O5,ht.l,ft.n,vt.W,Ct.Nh5,Te,S.Jy,S.JV,S.YK,S.WN],encapsulation:2}),a})();var an=b(93733),sn=b(3418),ue=b(86825),K=b(56223),Ce=b(65592),Ie=b(44760),Xt=b(89156),Nt=b(19347),ke=b(84049),Bt=b(72164),we=b(97638),rn=b(23083);let Ye=(()=>{class a extends Bt.e{btnCloseDialog(){this.dialogRef.close(!1)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(n=>1==n.selected)}saveData(){this.initStatusObj();var n=[];this.checkboxMonth.checkboxMonth.filter(d=>1==d.selected).forEach(d=>{n.push({month:d.month,year:d.year})}),this.waitDestroy(this.paymentService.apiPaymentPost({payments:n,studentId:this.data}).subscribe({next:d=>{this.successStatusObj("lang_cms_utils_update_folder_success",!0),this.dialogRef.close(!0)},error:d=>{this.errorStatusObj(d.error.message,!0)}}))}constructor(n,r,d){super(d,r),this.paymentService=n,this.dialogRef=r,this.data=d,this.checkboxMonth=new ke.$,this.checkboxMonth.studentId=d}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(we.t),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["azt-dialog-checkbox-month"]],features:[t.qOj],decls:11,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[3,"checkboxMonth"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-primary",3,"disabled","click"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"azt-checkbox-month",3),t.qZA()(),t.TgZ(4,"div",4)(5,"button",5),t.NdJ("click",function(){return r.btnCloseDialog()}),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return r.saveData()}),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("checkboxMonth",r.checkboxMonth),t.xp6(3),t.hij(" ",t.lcZ(7,4,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",!r.isSelectedMonth()||r.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(10,6,"lang_business_news_update_post_button")," "))},dependencies:[rn.$,S.JV],encapsulation:2}),a})();var Be=b(97694),Zt=b(29023),E=b(23680),nt=b(64170),j=b(44683),P=b(13217),ct=b(84003),I=b(25804),X=b(63120),w=b(20553),q=b(97151),F=b(4021),st=b(74104),At=b(78497),Ht=b(28079),ae=b(4844),St=b(19127),te=b(95545);const He=["fileSelect"];function Pn(a,g){if(1&a&&(t.TgZ(0,"span",27),t._uU(1),t.qZA()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.Oqu((null==n.cellData?null:n.cellData.fullName)+": ")}}function se(a,g){if(1&a&&(t.TgZ(0,"span",28),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&a){const n=g.$implicit,r=g.index,d=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.errorMessage)+(r===d.errors.length-1?" ("+t.lcZ(3,3,"lang_auto_line")+" "+d.row+")":", ")," ")}}function Un(a,g){if(1&a&&(t.TgZ(0,"div",24),t.YNc(1,Pn,2,1,"span",25),t.YNc(2,se,4,5,"span",26),t.qZA()),2&a){const n=g.$implicit;t.xp6(1),t.Q6J("ngIf",null==n.cellData?null:n.cellData.fullName),t.xp6(1),t.Q6J("ngForOf",n.errors)}}function Z(a,g){if(1&a&&(t.TgZ(0,"div",19)(1,"div",20),t._uU(2),t.qZA(),t.TgZ(3,"div",21)(4,"ng-scrollbar",22),t.YNc(5,Un,3,2,"div",23),t.qZA()()()),2&a){const n=t.oxw(2);t.xp6(2),t.Oqu("T\u1ed5ng s\u1ed1 l\u1ed7i: "+n.errorImportFile.length),t.xp6(2),t.Q6J("visibility","hover")("autoHeightDisabled",!1),t.xp6(1),t.Q6J("ngForOf",n.errorImportFile)}}const G=function(a){return[a]};function C(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",29)(1,"azt-upload-single-document-to-editor",30),t.NdJ("emitFiles",function(d){t.CHM(n);const T=t.oxw(2);return t.KtG(T.handleUploadComplete(d))}),t.TgZ(2,"div",31)(3,"div",32)(4,"span",33),t._UZ(5,"lucide-icon",34),t.qZA(),t.TgZ(6,"span",35),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()()}if(2&a){const n=t.oxw(2);t.xp6(1),t.Q6J("fileType",t.VKq(7,G,n.allUploadFileTypes.EXCEL)),t.xp6(6),t.hij(" ",t.lcZ(8,3,"lang_auto_keo_tha_file_excel")," "),t.xp6(2),t.hij(" ",t.lcZ(10,5,"lang_auto_hoc_click_de_chon_file")," ")}}function y(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"div",40)(5,"div",41),t._UZ(6,"img",42),t.ALo(7,"convertCdnLinkOfGitHub"),t.qZA(),t.TgZ(8,"div",43)(9,"p",44,45),t._uU(11),t.qZA(),t.TgZ(12,"div",46),t._uU(13),t.qZA()(),t.TgZ(14,"div",47)(15,"button",48),t.NdJ("click",function(d){t.CHM(n);const T=t.oxw(2);return t.KtG(T.removeFile(d))}),t.ALo(16,"mytranslate"),t.TgZ(17,"span",49),t._UZ(18,"lucide-icon",50),t.qZA()()()()()()()()}if(2&a){const n=t.MAs(10),r=t.oxw(2);t.xp6(6),t.Q6J("src",t.lcZ(7,7,"images/excel.png"),t.LSH),t.xp6(3),t.s9C("matTooltip",null==r.file?null:r.file.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",n.isDisabled),t.xp6(2),t.hij(" ",r.file?r.file.name:""," "),t.xp6(2),t.hij(" ",r.fileMb+"mb"," "),t.xp6(2),t.s9C("matTooltip",t.lcZ(16,9,"lang_auto_xoa"))}}function z(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"a",51),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(2);return t.KtG(d.exportDefaultListStudent())}),t.TgZ(1,"span",52),t._UZ(2,"lucide-icon",53),t.qZA(),t.TgZ(3,"span",54),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&a&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_student_utils_download_file")," "))}function kt(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"a",51),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(2);return t.KtG(d.exportListStudent())}),t.TgZ(1,"span",52),t._UZ(2,"lucide-icon",53),t.qZA(),t.TgZ(3,"span",54),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&a&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_student_utils_export_list_student")," "))}function re(a,g){if(1&a&&(t.TgZ(0,"div",12),t.YNc(1,Z,6,4,"div",13),t.TgZ(2,"div",14),t.YNc(3,C,11,9,"div",15),t.YNc(4,y,19,11,"ng-template",null,16,t.W1O),t.TgZ(6,"div",17),t.YNc(7,z,6,3,"a",18),t.YNc(8,kt,6,3,"a",18),t.qZA()()()),2&a){const n=t.MAs(5),r=t.oxw();t.xp6(1),t.Q6J("ngIf",r.errorImportFile.length),t.xp6(2),t.Q6J("ngIf",!r.file)("ngIfElse",n),t.xp6(4),t.Q6J("ngIf",0==(null==r.studentObjs?null:r.studentObjs.length)||r.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",0!=(null==r.studentObjs?null:r.studentObjs.length)&&!r.isBusinessDomain)}}function zn(a,g){if(1&a&&(t.TgZ(0,"div",58)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a){const n=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,1,n.msgError),"!")}}function Ge(a,g){if(1&a&&(t.TgZ(0,"div",55),t._UZ(1,"azt-form-enter-info-student",56),t.YNc(2,zn,4,3,"div",57),t.qZA()),2&a){const n=t.oxw();t.xp6(1),t.Q6J("studentForm",n.studentForm),t.xp6(1),t.Q6J("ngIf",""!==n.msgError)}}function lo(a,g){1&a&&(t.TgZ(0,"span",59),t._UZ(1,"azt-loading-ui"),t.qZA())}function Mt(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"azt-export-excel-for-student-list",60),t.NdJ("exportDataDone",function(d){t.CHM(n);const T=t.oxw();return t.KtG(T.exportStudentListDone(d))}),t.qZA()}if(2&a){const n=t.oxw();t.Q6J("objs",n.exportStudentObjs)}}let le=(()=>{class a extends Bt.e{exportDefaultListStudent(){this.exportStudentObjs=[{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_1"),phone:"0123456789",email:"nguyenvana@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:1,birthday:new Date(2001,1,23),gender:1,classroomId:0,parentId:0,facebookLink:"https://www.facebook.com/azotavn",schoolName:"Tr\u01b0\u1eddng THPT Azota"},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_2"),phone:"0123456790",email:"phamthib@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:2,birthday:new Date(2001,5,25),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_3"),phone:"0123456791",email:"C@Gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:3,birthday:new Date(2002,5,25),gender:1,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_4"),phone:"0112348478",email:"tranthid@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:4,birthday:new Date(2002,2,23),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_5"),phone:"0123456793",email:void 0,password:this.isBusinessDomain?"aBc@123":"",identificationNumber:void 0,birthday:void 0,gender:0,classroomId:0,parentId:0}]}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.studentObjs)}exportStudentListDone(n){let r=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(n,r)}changeNameDownloadFile(n){return this.commonService.createFileNameExportFile([n])+".xlsx"}handleUploadComplete(n){this.file=n,this.fileMb=this.getFileMB(this.file?.size??0)}getFileMB(n){return n&&n>0?(n/=1048576).toFixed(2):0}removeFile(n){n.stopPropagation(),this.fileSelect&&(this.fileSelect.nativeElement.value=null),this.file=null}showImportExcel(n){this.importExcel=n}confirmAction(){let n=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.importExcel)this.file&&(1==this.selected.value?this.waitDestroy(this.studentService.apiStudentSaveStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(r=>{1==r.success?r.data?.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_student_utils_add_success")):(this.errorStatusObj("lang_student_error_uploading_file_please_check_again",!0),this.errorImportFile=r.data?.errors??[],this.file=null):(this.btnCloseDialog(!1),this.errorStatusObj(r.message??"",!0))})):2==this.selected.value&&this.waitDestroy(this.studentService.apiStudentUpdateStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(r=>{1==r.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.btnCloseDialog(!1),this.errorStatusObj(r.message??"",!0))})));else if(this.studentForm.form.valid){let r={fullName:n.fullName,phone:n.phoneNumber,identificationNumber:n.identificationNumber?Number(n.identificationNumber):void 0,email:n.email,gender:Number(n.gender),birthday:n.birthday,classroomId:this.classroomObj.id??0,password:n.password,facebookLink:n.facebookLink,schoolName:n.school};this.waitDestroy(this.studentService.apiStudentSaveObjPost(r).subscribe(d=>{1==d.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.stopStatusObj(),this.msgError=d.message??"")}))}}btnCloseDialog(n){this.dialogRef.close(n)}selectedIndexChange(n){if(this.selected.setValue(n),this.showImportExcel(0!=n),this.file){let r=document.getElementById("button-remove-export");r&&r.click()}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){super.ngOnInit()}constructor(n,r,d,T){super(T,d),this.shareFileFlutterService=n,this.studentService=r,this.dialogRef=d,this.data=T,this.studentForm=new I.h,this.selected=new K.NI(0,{nonNullable:!0}),this.importExcel=!1,this.birthDay="",this.msgError="",this.maxDate=w.N.maxDateTimePicker,this.showPassword=!1,this.fileMb=0,this.errorImportFile=[],this.allUploadFileTypes=X.AZ,this.file=null,this.studentObjs=T.studentObjs,this.classroomObj=T.classroomObj}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(q.g),t.Y36(F.VT),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-add-student"]],viewQuery:function(n,r){if(1&n&&t.Gf(He,5),2&n){let d;t.iGM(d=t.CRH())&&(r.fileSelect=d.first)}},features:[t._Bn([{provide:Zt.fM,useClass:j.WG,deps:[E.Ad,j.o8]},{provide:Zt.ab,useFactory:P.fX,deps:[ct.D]},{provide:nt.o2,useValue:{floatLabel:"never"}}]),t.qOj],decls:23,vars:21,consts:[[1,"box","scroll-menu-test"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[3,"selectedIndex","selectedIndexChange"],[3,"label"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","add_student-g5-sbau_Ya",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","add_student-I6Q3FiuU2e",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"form-group"],["class","mt-4",4,"ngIf"],[1,"intro","mt-4"],["class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md",4,"ngIf","ngIfElse"],["exitsFile",""],[1,"mt-2","text-center"],["azt-track-service","add_teacher-pukPV3tL4","class","btn text-primary btn-transparent","target","_self",3,"click",4,"ngIf"],[1,"mt-4"],[1,"text-danger","font-medium","text-right"],[1,"overflow-auto","p-2","mt-2","border-slate-200","dark:border-darkmode-400","border","box",2,"height","120px","padding-right","5px"],["pointerEventsMethod","scrollbar",1,"w-full","h-full",3,"visibility","autoHeightDisabled"],["class","mb-2 text-xs",4,"ngFor","ngForOf"],[1,"mb-2","text-xs"],["class","font-medium",4,"ngIf"],["class","font-medium text-danger",4,"ngFor","ngForOf"],[1,"font-medium"],[1,"font-medium","text-danger"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[3,"fileType","emitFiles"],[1,"px-4","pb-8","mt-8","flex","items-center","justify-center","text-center","cursor-pointer","relative"],[1,"flex","items-center"],[1,"w-5","h-5","mr-2","text-success","inline-block"],["name","file-spreadsheet"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"matTooltip","click"],[1,"w-4","h-4","inline-block"],["name","trash-2"],["azt-track-service","add_teacher-pukPV3tL4","target","_self",1,"btn","text-primary","btn-transparent",3,"click"],[1,"w-5","h-5","mr-2","inline-block"],["name","download-cloud"],[1,"text-primary"],[1,"px-2"],[3,"studentForm"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"w-4","h-4","inline-block","mr-2"],[3,"objs","exportDataDone"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"mat-tab-group",3),t.NdJ("selectedIndexChange",function(T){return r.selectedIndexChange(T)}),t._UZ(5,"mat-tab",4),t.ALo(6,"mytranslate"),t._UZ(7,"mat-tab",4),t.ALo(8,"mytranslate"),t._UZ(9,"mat-tab",4),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div"),t.YNc(12,re,9,5,"div",5),t.YNc(13,Ge,3,2,"div",6),t.qZA()()()(),t.TgZ(14,"div",7)(15,"button",8),t.NdJ("click",function(){return r.btnCloseDialog(!1)}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"button",9),t.NdJ("click",function(){return r.confirmAction()}),t.YNc(19,lo,2,0,"span",10),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()(),t.YNc(22,Mt,1,1,"azt-export-excel-for-student-list",11)),2&n&&(t.xp6(4),t.Q6J("selectedIndex",r.selected.value),t.xp6(1),t.s9C("label",t.lcZ(6,11,"lang_student_utils_add_student")),t.xp6(2),t.s9C("label",t.lcZ(8,13,"lang_student_utils_quick_add_excel")),t.xp6(2),t.s9C("label",t.lcZ(10,15,"lang_student_utils_quick_add_phone_and_email")),t.xp6(3),t.Q6J("ngIf",0!=r.selected.value),t.xp6(1),t.Q6J("ngIf",0==r.selected.value),t.xp6(3),t.hij(" ",t.lcZ(17,17,"lang_cms_common_close_btn")," "),t.xp6(2),t.Q6J("disabled",r.statusObj.loading||r.studentForm.form.invalid&&!r.importExcel||null==r.file&&r.importExcel),t.xp6(1),t.Q6J("ngIf",r.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(21,19,"lang_cms_common_confirm_btn")," "),t.xp6(2),t.Q6J("ngIf",r.exportStudentObjs))},dependencies:[Q.sg,Q.O5,st.uX,st.SP,bt.gM,At.R,et.Q,Ht.S,ft.n,ae.A,St.K,Ct.Nh5,te.KC,S.JV,S.Bo],styles:[".file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:aliceblue}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}.hover-cancel[_ngcontent-%COMP%]:hover{background-color:#ebe9e9}.hover-save[_ngcontent-%COMP%]:hover{background-color:#ff3526}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}.input-custom[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:3px;padding-left:12px;padding-top:10px}.block-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.block-text[_ngcontent-%COMP%]{width:60px;color:#757575!important;font-size:16px}.block-input[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:space-evenly}"]}),a})();function je(a,g){1&a&&(t.TgZ(0,"span",10),t._UZ(1,"azt-loading-ui"),t.qZA())}let Ne=(()=>{class a extends Bt.e{btnCloseDialog(n){this.dialogRef.close(n)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentDeleteObjGet(this.studentObj.id??0).subscribe(n=>{1==n.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")):(this.btnCloseDialog(!1),this.errorStatusObj(n.message??"",!0))}))}constructor(n,r,d){super(d,r),this.studentService=n,this.dialogRef=r,this.data=d,this.studentObj=d.studentObj,this.classroomObj=d.classroomObj}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(F.VT),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-delete-student"]],features:[t.qOj],decls:22,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger",2,"word-break","break-word"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"b",4),t._uU(8),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"b",5),t._uU(12),t.qZA(),t._uU(13,"? "),t.qZA()()()(),t.TgZ(14,"div",6)(15,"button",7),t.NdJ("click",function(){return r.btnCloseDialog(!1)}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"button",8),t.NdJ("click",function(){return r.confirmDelete()}),t.YNc(19,je,2,0,"span",9),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,7,"lang_student_utils_delete_student_first"),"\xa0 "),t.xp6(3),t.Oqu(r.studentObj.fullName),t.xp6(1),t.hij("\xa0 ",t.lcZ(10,9,"lang_student_utils_delete_student_last"),":\xa0 "),t.xp6(3),t.Oqu(r.classroomObj.name),t.xp6(4),t.hij(" ",t.lcZ(17,11,"lang_cms_common_close_btn")," "),t.xp6(3),t.Q6J("ngIf",r.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(21,13,"lang_cms_common_confirm_btn")," "))},dependencies:[Q.O5,At.R,ft.n,S.JV],encapsulation:2}),a})();var co=b(33328);function mo(a,g){if(1&a&&(t.TgZ(0,"div",10)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a){const n=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,1,n.msgError),"!")}}function _o(a,g){1&a&&(t.TgZ(0,"span",11),t._UZ(1,"azt-loading-ui"),t.qZA())}let Fn=(()=>{class a extends Bt.e{confirmAction(){let n=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.studentForm.form.valid){let r={id:this.studentObj.id??0,fullName:n.fullName,phone:n.phoneNumber,email:n.email,identificationNumber:n.identificationNumber?Number(n.identificationNumber):void 0,gender:Number(n.gender),birthday:n.birthday,classroomId:this.classroomObj.id??0,facebookLink:n.facebookLink,schoolName:n.school};this.waitDestroy(this.studentService.apiStudentUpdateObjPost(r).subscribe(d=>{1==d.success?(this.btnCloseDialog(!0),this.successStatusObj("lang_cms_utils_update_folder_success",!0)):(this.msgError=d.message??"",this.stopStatusObj())}))}}btnCloseDialog(n){this.dialogRef.close(n)}ngOnInit(){super.ngOnInit()}constructor(n,r,d){super(d,r),this.studentService=n,this.dialogRef=r,this.data=d,this.msgError="",this.maxDate=w.N.maxDateTimePicker,this.studentForm=new I.h,this.studentObj=d.studentObj,this.classroomObj=d.classroomObj,this.studentForm.form=new K.cw({fullName:new K.NI(this.studentObj.fullName??"",{nonNullable:!0,validators:[K.kI.required]}),gender:new K.NI(this.studentObj.gender,{nonNullable:!0}),birthday:new K.NI(this.studentObj.birthday,{nonNullable:!0}),email:new K.NI(this.studentObj.email??"",{nonNullable:!0,validators:[co.z.isInvalidEmail,K.kI.email,K.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new K.NI(this.studentObj.phone??"",{nonNullable:!0,validators:[K.kI.required,K.kI.pattern(/^[0-9\-]*$/),K.kI.minLength(10),K.kI.maxLength(10)]}),identificationNumber:new K.NI(this.commonService.padLeadingZeros(this.studentObj.identificationNumber??void 0,6),{nonNullable:!0,validators:[K.kI.min(1),K.kI.maxLength(6),K.kI.pattern("^[0-9]*$")]}),facebookLink:new K.NI(this.studentObj?.moreInfo?.facebookLink,{nonNullable:!0}),school:new K.NI(this.studentObj?.moreInfo?.schoolName,{nonNullable:!0})})}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(F.VT),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-edit-student"]],features:[t._Bn([{provide:Zt.fM,useClass:j.WG,deps:[E.Ad,j.o8]},{provide:Zt.ab,useFactory:P.fX,deps:[ct.D]},{provide:nt.o2,useValue:{floatLabel:"never"}}]),t.qOj],decls:17,vars:13,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"studentForm"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","edit_student-jfiMakvRbsA",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","edit_student-Q_oCb2JwMVm",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t._UZ(7,"azt-form-enter-info-student",4),t.YNc(8,mo,4,3,"div",5),t.qZA()()(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return r.btnCloseDialog(!1)}),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return r.confirmAction()}),t.YNc(14,_o,2,0,"span",9),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,7,"lang_student_utils_edit_student")," "),t.xp6(2),t.Q6J("studentForm",r.studentForm),t.xp6(1),t.Q6J("ngIf",""!==r.msgError),t.xp6(3),t.hij(" ",t.lcZ(12,9,"lang_cms_common_close_btn")," "),t.xp6(2),t.Q6J("disabled",r.statusObj.loading||r.studentForm.form.invalid),t.xp6(1),t.Q6J("ngIf",r.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(16,11,"lang_button_update")," "))},dependencies:[Q.O5,At.R,ft.n,ae.A,S.JV],encapsulation:2}),a})();var pe=b(87325);function qt(a,g){if(1&a&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_zalo_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==n.extraDataObj?null:n.extraDataObj.reApprovedZaloFullName)}}function Ve(a,g){if(1&a&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_so_dien_thoai_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==n.extraDataObj?null:n.extraDataObj.reApprovedPhone)}}function ln(a,g){if(1&a&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_email_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==n.extraDataObj?null:n.extraDataObj.reApprovedEmail)}}function cn(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.TgZ(6,"span",9),t._uU(7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"span",10),t._uU(11),t.qZA(),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.YNc(14,qt,5,4,"span",11),t.YNc(15,Ve,5,4,"span",11),t.YNc(16,ln,5,4,"span",11),t.TgZ(17,"div",12)(18,"div",13),t.NdJ("click",function(){const T=t.CHM(n).$implicit,D=t.oxw();return t.KtG(D.reApproveStudent(T.studentId,T.id))}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"div",14),t.NdJ("click",function(){const T=t.CHM(n).$implicit,D=t.oxw();return t.KtG(D.rejectApproveRequest(T.studentId,T.id))}),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()()()()}if(2&a){const n=g.$implicit;t.xp6(4),t.hij(" ",t.lcZ(5,10,"lang_student_utils_reques_notice_list_student"),"\xa0 "),t.xp6(3),t.Oqu(n.studentName),t.xp6(1),t.hij(" \xa0 ",t.lcZ(9,12,"lang_student_utils_reques_notice_list_class"),"\xa0 "),t.xp6(3),t.Oqu(n.classroomName),t.xp6(1),t.hij(" \xa0 ",t.lcZ(13,14,"lang_student_utils_reques_notice_list_dont_select_name"),". "),t.xp6(2),t.Q6J("ngIf",null==n.extraDataObj?null:n.extraDataObj.reApprovedZaloFullName),t.xp6(1),t.Q6J("ngIf",null==n.extraDataObj?null:n.extraDataObj.reApprovedPhone),t.xp6(1),t.Q6J("ngIf",null==n.extraDataObj?null:n.extraDataObj.reApprovedEmail),t.xp6(3),t.hij(" ",t.lcZ(20,16,"lang_student_utils_reques_notice_list_unlock_select_again")," "),t.xp6(3),t.Oqu(t.lcZ(23,18,"lang_button_skip"))}}let pn=(()=>{class a extends Bt.e{reApproveStudent(n,r){this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(n??0).subscribe(d=>{1==d.success?(this.showSuccessSnack("lang_auto_mo_khoa_cho_hoc_sinh_thanh_cong"),this.noticeObjs=this.noticeObjs.filter(T=>T.id!=r),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(d.message??"",!0)}))}rejectApproveRequest(n,r){this.waitDestroy(this.studentService.apiStudentRejectMappingRequestGet(n??0).subscribe(d=>{1==d.success?(this.noticeObjs=this.noticeObjs.filter(T=>T.id!=r),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(d.message??"",!0)}))}btnCloseDialog(n){this.dialogRef.close(n)}constructor(n,r,d,T){super(T,d),this.studentService=n,this.noticeService=r,this.dialogRef=d,this.data=T,this.classroomObj=T.classroomObj,this.noticeObjs=T.noticeObjs}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(F.VT),t.Y36(pe.L$),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-re-approve-request"]],features:[t.qOj],decls:9,vars:4,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","scroll-menu-test"],[1,"p-3"],["class","ml-2 mb-2 mr-2 noticeobj",4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","request_notice_list-fcVrrBJYoFq",1,"btn","w-24","btn-secondary",3,"click"],[1,"ml-2","mb-2","mr-2","noticeobj"],[1,"pt-1","pb-1"],[1,"notify__content"],[1,"notify__name",2,"word-break","break-word"],[1,"notify__name"],["class","block",4,"ngIf"],[1,"mt-2","flex","justify-end"],["azt-track-service","request_notice_list-LmGuEaUfXP2",1,"notify__btn","bg-info","clickable",3,"click"],["azt-track-service","request_notice_list-K5qVGrBSxAh",1,"notify__btn","ml-3","clickable",3,"click"],[1,"block"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2),t.YNc(4,cn,24,20,"div",3),t.qZA()()(),t.TgZ(5,"div",4)(6,"button",5),t.NdJ("click",function(){return r.btnCloseDialog(!1)}),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("ngForOf",r.noticeObjs),t.xp6(3),t.hij(" ",t.lcZ(8,2,"lang_cms_common_close_btn")," "))},dependencies:[Q.sg,Q.O5,At.R,S.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:90;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;background:rgba(0,0,0,.5607843137);min-height:100vh}.school-info[_ngcontent-%COMP%]{z-index:91;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.noticeobj[_ngcontent-%COMP%]{background-color:#ecebeb;border-radius:5px;border:1px solid #e5e5e5}.notify__name[_ngcontent-%COMP%]{font-weight:500}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px 15px}.notify__btn[_ngcontent-%COMP%]{text-align:center;border-radius:5px;padding:5px;color:#000;font-size:14px;background-color:#fff;border:1px solid #cecdcd;width:-moz-fit-content;width:fit-content}.bg-info[_ngcontent-%COMP%]{color:#fff!important;border:1px solid #00a7d0!important;background-color:#00a7d0}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.note[_ngcontent-%COMP%]{font-style:italic;font-size:15px;font-weight:600}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),a})();var gn=b(88131),hn=b(38228),ye=b(2783),fn=b(68719),Gn=b(46558),mn=b(94690),uo=b(7289),xn=b(27161),Jn=b(45468);let po=(()=>{class a{constructor(n,r,d,T,D,Y){this.commonService=n,this.examPageResultService=r,this.permissionService=d,this.globalService=T,this.answerTypeService=D,this.homeworkExamService=Y}getTestedAllResultByClassroomId(n,r,d,T){return this.globalService.startIntervalFunc(n),this.getTestedOfExamResultByClassroomId(n,r,"all",d,T)}getTestedOfExamResultByClassroomId(n,r,d,T,D){return new Ce.y(Y=>{this.examPageResultService.apiExamPageResultGetObjV2Get(r).subscribe(it=>{if(1==it.success){let It=it.data?.examObj,me=this.hasEssay(it.data?.examQuestionObjs??[]),Eo=it.data?.classroomWithAvatarAndStudentObjs??new Array;this.permissionService.hasViewExamPermission("exam",It)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",It)?this.getAllExamResultObjs(n,[],r,"",so=>{if(so.hasOwnProperty("success")&&1==so.success){let jr=this.mergeStudentWithAvatar(so.studentWithResultObjs??[]),Ki={};jr?.forEach(ro=>{let Ts=ro.parentId??"0";Ki.hasOwnProperty(Ts)||(Ki[Ts]=ro.examResultObjs??[])});let vs=D;if(this.homeworkExamService.mustInClassroom(It)&&Eo.length>0)for(let ro=0;ro<Eo.length;ro++)if(Eo[ro].classroomObj?.id==T){let Gt=Eo[ro].studentObjs??[];if(Gt.length>0)for(let Vt=0;Vt<Gt.length;Vt++){let Os=Gt[Vt].parentId??"0";Ki.hasOwnProperty(Os)?(Array.isArray(Gt[Vt].examResultObjs)||(Gt[Vt].examResultObjs=[]),Gt[Vt].examResultObjs=this.findExamResultOfStudent(Gt[Vt].examResultObjs?.concat(Ki[Os])??[],Gt[Vt].id??"0")):Gt[Vt].examResultObjs=this.findExamResultOfStudent(Gt[Vt].examResultObjs??[],Gt[Vt].id??"0");let Zs=this.filterExamResultByType(Gt[Vt].examResultObjs??[],"first"),As=this.filterExamResultByType(Gt[Vt].examResultObjs??[],"last"),Ss=this.filterExamResultByType(Gt[Vt].examResultObjs??[],"highest");vs.forEach(Po=>{if(Po.dataExam||(Po.dataExam=[]),Po.parentId==Gt[Vt].parentId||Po.id.toString()==Gt[Vt].id){let Wi=Zs.hasOwnProperty(Gt[Vt].parentId??0)?Zs[Gt[Vt].parentId??0]:void 0,Xi=As.hasOwnProperty(Gt[Vt].parentId??0)?As[Gt[Vt].parentId??0]:void 0,Is=Ss.hasOwnProperty(Gt[Vt].parentId??0)?Ss[Gt[Vt].parentId??0]:void 0,Nr={id:It?.id??0,name:It?.name??"",firstPoint:Wi?this.checkMarkStatus(Wi,me):void 0,lastPoint:Xi?this.checkMarkStatus(Xi,me):void 0,highestPoint:Is?this.checkMarkStatus(Is,me):void 0};Po.dataExam.push(Nr)}Po.dataExam.sort((Wi,Xi)=>(Wi.id??0)-(Xi.id??0))},vs)}break}Y.next({status:200,success:1,data:vs,message:"successful"}),Y.complete()}else Y.next({status:so.code,success:0,data:D,message:so.message??""}),Y.complete()}):(Y.next({status:200,success:1,data:D,message:"successful"}),Y.complete())}else Y.next({status:it.code,success:0,data:D,message:it.message??""}),Y.complete()})})}getAllExamResultObjs(n,r,d,T,D){this.examPageResultService.apiExamPageResultGetObjsV2Get(d,"export",T).subscribe(Y=>{1==Y.success?(Y.data?.objs&&r.push(...Y.data.objs),Y.data?.nextPage?this.globalService.isStopIntervalFunc(n)?D({studentWithResultObjs:r,success:1}):setTimeout(()=>{this.getAllExamResultObjs(n,r,d,Y.data?.nextPage??"",D)},300):D({studentWithResultObjs:r,success:1})):D({code:Y.code,studentWithResultObjs:[],success:0,message:Y.message??""})})}filterExamResultOnTest(n,r,d){var T={};return n.forEach(D=>{var Y=this.commonService.myClone(D)??{};if(Y.testStatus)T[Y.userId??0]=Y.testStatus;else if(Y.startedTest&&d)if(r.endTime){var it=Math.floor(new Date(r.endTime).getTime()/1e3);T[Y.userId??0]=d<=it+60*(r.minutes??0)+600?0:-1}else{var It=Y.startedTest?Math.floor(new Date(Y.startedTest).getTime()/1e3):0;T[Y.userId??0]=d<=It+86400?0:-1}else T[Y.userId??0]=0}),T}mergeStudentWithAvatar(n){var r=[];return n.forEach(d=>{var T=r.filter(Y=>Y.parentId==d.parentId);if(T&&0!=T.length)for(var D=0;D<r.length;D++)r[D].parentId==d.parentId&&(r[D].examResultObjs=r[D].examResultObjs?.concat(d.examResultObjs??[]));else r.push(d)}),r}findExamResultOfStudent(n,r){var d=[];return n.forEach(T=>{(T.studentId==r||null==T.studentId)&&d.push(T)}),d}createStudentWithResult(n,r,d){return{id:n.id,userId:n.parentId,studentId:n.id,identificationNumber:r.examResultStatisticObj?.offlineMarkInfoObj?.studentCode??0,offlineMixQuestionHashId:r.examResultStatisticObj?.offlineMarkInfoObj?.offlineMixquestionHashId??0,gender:n.gender,fullName:n.fullName,avatar:n.avatar,birthday:n.birthday,mark:r.hasOwnProperty("mark")?r.mark:null,confirmedAt:r.hasOwnProperty("confirmedAt")?r.confirmedAt:null,startedTest:r.hasOwnProperty("startedTest")?r.startedTest:null,createdAt:r.hasOwnProperty("createdAt")?r.createdAt:null,status:d,totalExamResultObjs:0,checkBoxGroupControl:new K.cw({isShow:new K.NI(!1,{nonNullable:!0}),selectedCheckbox:new K.NI(!1,{nonNullable:!0})})}}filterExamResultByType(n,r){var d={};if(n.length>1)n.forEach((D,Y)=>{var it=this.commonService.myClone(D);D.testStatus&&(it.resultId=it.id,it.indexTest=Y,"last"==r&&(d[it.userId??0]=it),"first"==r&&(d.hasOwnProperty(it.userId??0)||(d[it.userId??0]=it)),"highest"==r)&&(d.hasOwnProperty(it.userId??0)?(d[it.userId??0].mark??-1)<=(it.mark??-1)&&(d[it.userId??0]=it):d[it.userId??0]=it)});else{var T=this.commonService.myClone(n[0]??{});T.resultId=T.testStatus?T.id:0,T.indexTest=0,d[T.userId??0]=T}return d}hasEssay(n){let r=!1;for(let d=0;d<n.length;d++)if(this.answerTypeService.isEssayAnswer(n[d])){r=!0;break}return r}checkMarkStatus(n,r){return r?1==n.testStatus?n.confirmedAt?n.mark:-1:void 0:1==n.testStatus?n.mark:void 0}}return a.\u0275fac=function(n){return new(n||a)(t.LFG(Gn.z),t.LFG(yt.DR),t.LFG(mn.j),t.LFG(uo.q),t.LFG(xn.i),t.LFG(Jn.v))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var qn=b(30617),be=b(77988),An=b(85904),_n=b(97931),Vn=b(76024),go=b(71299),Qn=b(1103),ce=b(60381);const ho=["parent"];function Uo(a,g){1&a&&(t.TgZ(0,"div",10),t._UZ(1,"azt-loading-effect"),t.qZA())}function $t(a,g){if(1&a&&t._UZ(0,"azt-download-qr-code",25),2&a){const n=t.oxw(2);t.Q6J("fileName",n.convertNameForQR())("linkUrl",n.copyLinkToClipboard())("showLink",!n.isMobileDevice)}}function bn(a,g){if(1&a&&(t.TgZ(0,"button",28)(1,"span",29),t._UZ(2,"lucide-icon",30),t.qZA()()),2&a){t.oxw(3);const n=t.MAs(5);t.Q6J("matMenuTriggerFor",n)}}function vn(a,g){if(1&a&&(t.TgZ(0,"div",26),t.YNc(1,bn,3,1,"button",27),t.qZA()),2&a){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null!=(null==n.classroomObj?null:n.classroomObj.permissionObj))}}function Tn(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",42),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(3);return t.KtG(d.exportListStudent())}),t.TgZ(1,"span",43),t._UZ(2,"lucide-icon",44),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_student_utils_export_list_student")," "))}function fo(a,g){1&a&&(t.TgZ(0,"span",43),t._UZ(1,"azt-loading-ui"),t.qZA())}function xo(a,g){1&a&&(t.TgZ(0,"span",43),t._UZ(1,"lucide-icon",44),t.qZA())}function bo(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(3);return t.KtG(d.exportExcelForScoreOfClassroom())}),t.YNc(1,fo,2,0,"span",46),t.YNc(2,xo,2,0,"span",46),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&a){const n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",n.loadingExport),t.xp6(1),t.Q6J("ngIf",!n.loadingExport),t.xp6(1),t.hij(" ",t.lcZ(4,3,"lang_auto_xuat_bang_diem")," ")}}function Rn(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",47),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(3);return t.KtG(d.addStudentDialog(d.classroomObj))}),t.TgZ(1,"span",48),t._UZ(2,"lucide-icon",49),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_them_hoc_sinh")," "))}function vo(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(3);return t.KtG(d.openDialogAutoNumbering())}),t.TgZ(1,"span",48),t._UZ(2,"lucide-icon",51),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_danh_so_bao_danh")," "))}function $n(a,g){if(1&a&&(t.TgZ(0,"button",52)(1,"span",29),t._UZ(2,"lucide-icon",30),t.qZA()()),2&a){t.oxw(3);const n=t.MAs(5);t.Q6J("matMenuTriggerFor",n)}}function zo(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",31)(1,"div",32)(2,"div",33)(3,"azt-search-box",34),t.NdJ("onSearch",function(d){t.CHM(n);const T=t.oxw(2);return t.KtG(T.onSearchBox(d.searchObj))}),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",35),t.YNc(6,Tn,5,3,"button",36),t.ALo(7,"viewPermission"),t.YNc(8,bo,5,5,"button",37),t.ALo(9,"viewPermission"),t.YNc(10,Rn,5,3,"button",38),t.ALo(11,"editPermission"),t.YNc(12,vo,5,3,"button",39),t.ALo(13,"editPermission"),t.TgZ(14,"div",40),t.YNc(15,$n,3,1,"button",41),t.qZA()()()()}if(2&a){const n=t.oxw(2);t.xp6(3),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(4,7,"lang_core_tim_theo_ten_phone_email")),t.xp6(3),t.Q6J("ngIf",t.xi3(7,9,n.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(9,12,n.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(11,15,n.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(13,18,n.classroomObj,"student")),t.xp6(3),t.Q6J("ngIf",null!=(null==n.classroomObj?null:n.classroomObj.permissionObj))}}function Fo(a,g){1&a&&(t.TgZ(0,"th",60),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_test_market_withdraw_time")," ",t.lcZ(3,4,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""))}function To(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"mat-icon",79),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(2),T=d.index,D=d.$implicit,Y=t.oxw(3);return t.KtG(Y.onPositionChange("up",T-1,D.id,null==Y.classroomObj?null:Y.classroomObj.id))}),t._uU(1," keyboard_arrow_up "),t.qZA()}}function Jo(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"mat-icon",80),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(2),T=d.index,D=d.$implicit,Y=t.oxw(3);return t.KtG(Y.onPositionChange("down",T+1,D.id,null==Y.classroomObj?null:Y.classroomObj.id))}),t._uU(1," keyboard_arrow_down "),t.qZA()}}function Cn(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",74),t.YNc(1,To,2,0,"mat-icon",75),t.TgZ(2,"input",76,77),t.NdJ("keyup.enter",function(){t.CHM(n);const d=t.MAs(3),T=t.oxw(),D=T.index,Y=T.$implicit,it=t.oxw(3);return t.KtG(it.onPositionChange(d.value,D,Y.id,null==it.classroomObj?null:it.classroomObj.id))}),t.qZA(),t.YNc(4,Jo,2,0,"mat-icon",78),t.qZA()}if(2&a){const n=t.oxw().index,r=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0!=n),t.xp6(1),t.s9C("value",n+1),t.xp6(2),t.Q6J("ngIf",r.listStudents&&n!=r.listStudents.length-1)}}function kn(a,g){if(1&a&&(t.TgZ(0,"div",81),t._uU(1),t.qZA()),2&a){const n=t.oxw().index;t.xp6(1),t.hij(" ",n+1," ")}}function Sn(a,g){1&a&&(t.TgZ(0,"span"),t._uU(1,"/"),t.qZA())}function In(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,Sn,2,0,"span",7),t._uU(3),t.qZA()),2&a){const n=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",n.lastMonthPaid," "),t.xp6(1),t.Q6J("ngIf",n.lastMonthPaid),t.xp6(1),t.hij(" ",n.lastYearPaid," ")}}function qo(a,g){1&a&&(t.TgZ(0,"span",91),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_hoc_thu")," "))}function Qo(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"td",69)(1,"div",70),t.YNc(2,In,4,3,"span",7),t.YNc(3,qo,3,3,"span",82),t.TgZ(4,"button",83),t.NdJ("click",function(){t.CHM(n);const d=t.oxw().$implicit,T=t.oxw(3);return t.KtG(T.openDialogCheckboxMonth(d))}),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.O4$(),t.TgZ(7,"svg",84),t._UZ(8,"path",85)(9,"path",86)(10,"path",87)(11,"path",88)(12,"path",89)(13,"path",90),t.qZA()()()()}if(2&a){const n=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf",n.lastMonthPaid||n.lastYearPaid),t.xp6(1),t.Q6J("ngIf",!n.lastMonthPaid||!n.lastYearPaid),t.xp6(1),t.hYB("matTooltip","",t.lcZ(5,4,"lang_cms_auto_gen_test_select")," ",t.lcZ(6,6,"lang_auto_month"),"")}}function Yo(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.lnq(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework," ",t.lcZ(2,3,"lang_student_classroom_list_detail_homework")," ")}}function Bo(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.lnq(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam," ",t.lcZ(2,3,"lang_student_classroom_list_detail_exam")," ")}}function Kn(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",92),t.NdJ("click",function(){t.CHM(n);const d=t.oxw().$implicit,T=t.oxw(3);return t.KtG(T.editStudentDialog(d))}),t.O4$(),t.TgZ(1,"svg",93),t._UZ(2,"path",94)(3,"path",95),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&a&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_sua")," "))}function Ho(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",96),t.NdJ("click",function(){t.CHM(n);const d=t.oxw().$implicit,T=t.oxw(3);return t.KtG(T.deleteStudentDialog(d))}),t.TgZ(1,"span",97),t._UZ(2,"lucide-icon",98),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_button_delete")," "))}function Go(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",99),t.NdJ("click",function(){t.CHM(n);const d=t.oxw().$implicit,T=t.oxw(3);return t.KtG(T.openDialogResetPass(d))}),t.O4$(),t.TgZ(1,"svg",100),t._UZ(2,"path",101)(3,"path",102)(4,"path",103)(5,"path",104)(6,"path",105),t.qZA(),t.kcU(),t.TgZ(7,"span",106),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}if(2&a){const n=t.oxw().$implicit;t.Q6J("disabled",!n.parentId),t.xp6(8),t.Oqu(t.lcZ(9,2,"lang_core_dat_lai_mat_khau"))}}function Vo(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"tr")(1,"td",62),t.YNc(2,Cn,5,3,"div",63),t.ALo(3,"editPermission"),t.YNc(4,kn,2,1,"ng-template",null,64,t.W1O),t.qZA(),t.TgZ(6,"td",65),t.NdJ("click",function(){const T=t.CHM(n).$implicit,D=t.oxw(3);return t.KtG(D.goToProfile(T.classroomId,T.id))}),t._UZ(7,"azt-student-info-box",66),t.qZA(),t.TgZ(8,"td",67),t._uU(9),t.ALo(10,"formatStudentCodeToNumber"),t.qZA(),t.YNc(11,Qo,14,8,"td",68),t.TgZ(12,"td",69),t.YNc(13,Yo,3,5,"span",7),t.qZA(),t.TgZ(14,"td",69),t.YNc(15,Bo,3,5,"span",7),t.qZA(),t.TgZ(16,"td",69)(17,"div",70),t.YNc(18,Kn,6,3,"button",71),t.ALo(19,"editPermission"),t.YNc(20,Ho,5,3,"button",72),t.ALo(21,"editPermission"),t.YNc(22,Go,10,4,"button",73),t.ALo(23,"editPermission"),t.qZA()()()}if(2&a){const n=g.$implicit,r=t.MAs(5),d=t.oxw(3);t.xp6(2),t.Q6J("ngIf",1==(null==d.classroomObj?null:d.classroomObj.sortType)&&t.xi3(3,22,d.classroomObj,"student"))("ngIfElse",r),t.xp6(5),t.Q6J("name",n.fullName)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("avatar",n.avatar)("identificationNumber",n.identificationNumber)("gender",n.gender)("hasUser",1==n.isVerified)("schoolName",n.schoolName)("classrooms",null==n.moreInfo?null:n.moreInfo.classrooms)("joinedAt",null==n.moreInfo?null:n.moreInfo.joinedAt)("phone",n.phone)("email",n.email),t.xp6(2),t.Oqu(n.identificationNumber?t.xi3(10,25,n.identificationNumber,6):""),t.xp6(2),t.Q6J("ngIf",d.isBusinessDomain),t.xp6(2),t.Q6J("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework)),t.xp6(2),t.Q6J("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam)),t.xp6(3),t.Q6J("ngIf",t.xi3(19,28,d.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(21,31,d.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(23,34,d.classroomObj,"student")&&d.isBusinessDomain)}}const jn=function(){return["fullName","phone","email"]};function Ro(a,g){if(1&a&&(t.TgZ(0,"div",53)(1,"drag-scroll")(2,"table",54)(3,"thead")(4,"tr")(5,"th",55)(6,"div",56),t.ALo(7,"mytranslate"),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()(),t.TgZ(10,"th",57),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"th",58),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.YNc(16,Fo,4,6,"th",59),t.TgZ(17,"th",60),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"th",60),t._uU(21),t.ALo(22,"mytranslate"),t.qZA(),t.TgZ(23,"th",60),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()()(),t.TgZ(26,"tbody"),t.YNc(27,Vo,24,37,"tr",61),t.ALo(28,"appFilter"),t.qZA()()()()),2&a){const n=t.oxw(2);t.xp6(6),t.hYB("matTooltip","",t.lcZ(7,13,"lang_student_classroom_list_detail_quantity"),": ",null!=n.classroomObj&&n.classroomObj.countStudents?null==n.classroomObj?null:n.classroomObj.countStudents:0,""),t.Q6J("matTooltipDisabled",n.isMobileDevice),t.xp6(2),t.lnq(" ",t.lcZ(9,15,n.isMobileDevice?"":"lang_student_classroom_list_detail_quantity"),"",n.isMobileDevice?"":": ","",null!=n.classroomObj&&n.classroomObj.countStudents?null==n.classroomObj?null:n.classroomObj.countStudents:0," "),t.xp6(3),t.Oqu(t.lcZ(12,17,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(15,19,"lang_auto_so_bao_danh")),t.xp6(2),t.Q6J("ngIf",n.isBusinessDomain),t.xp6(2),t.hij(" ",t.lcZ(19,21,"lang_auto_bai_tap_da_lam")," "),t.xp6(3),t.hij(" ",t.lcZ(22,23,"lang_auto_de_thi_da_lam")," "),t.xp6(3),t.Oqu(t.lcZ(25,25,"lang_auto_hanh_dong")),t.xp6(3),t.Q6J("ngForOf",t.Dn7(28,27,n.listStudents,n.searchContentObj.searchContent,t.DdM(31,jn)))}}function Co(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",118),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(3);return t.KtG(d.addStudentDialog(d.classroomObj))}),t.TgZ(1,"span",48),t._UZ(2,"lucide-icon",49),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_them_hoc_sinh")," "))}function $o(a,g){if(1&a&&(t.TgZ(0,"div",107)(1,"div",108),t.O4$(),t.TgZ(2,"svg",109),t._UZ(3,"path",110)(4,"path",111)(5,"path",112)(6,"path",113)(7,"path",114)(8,"path",115),t.qZA(),t.kcU(),t.TgZ(9,"div",116),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.YNc(12,Co,5,3,"button",117),t.ALo(13,"editPermission"),t.qZA()()),2&a){const n=t.oxw(2);let r;t.xp6(10),t.hij(" ",t.lcZ(11,2,"lang_student_classroom_list_detail_not_student")," "),t.xp6(2),t.Q6J("ngIf",t.xi3(13,4,n.classroomObj,"student")&&0==(null!==(r=null==n.listStudents?null:n.listStudents.length)&&void 0!==r?r:0))}}function Ko(a,g){if(1&a&&(t.TgZ(0,"a",134),t.ALo(1,"mytranslate"),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"formatStudentCodeToNumber"),t.ALo(6,"mytranslate"),t._uU(7),t.qZA()),2&a){const n=t.oxw().$implicit;t.pbR("matTooltip","\n\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(1,7,"lang_first_and_last_name"),": ",n.fullName,"\n\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(2,9,"lang_number_phone"),": ",n.phone?n.phone:t.lcZ(3,11,"lang_not_data"),"\n\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(4,13,"lang_auto_so_bao_danh"),": ",n.identificationNumber?t.xi3(5,15,n.identificationNumber,6):t.lcZ(6,18,"lang_not_data"),""),t.xp6(7),t.hij(" ",n.fullName," \xa0 ")}}function Wo(a,g){if(1&a&&(t.TgZ(0,"div",135),t._uU(1),t.qZA()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.phone," ")}}function Xo(a,g){if(1&a&&(t.TgZ(0,"div",136),t._uU(1),t.qZA()),2&a){const n=t.oxw().$implicit;t.s9C("matTooltip",n.email),t.xp6(1),t.hij(" ",n.email," ")}}function ti(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"a",145),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(2).$implicit,T=t.oxw(2);return t.KtG(T.editStudentDialog(d))}),t.O4$(),t.TgZ(1,"svg",93),t._UZ(2,"path",94)(3,"path",95),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&a&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_sua")," "))}function ko(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"a",146),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(2).$implicit,T=t.oxw(2);return t.KtG(T.deleteStudentDialog(d))}),t.TgZ(1,"span",97),t._UZ(2,"lucide-icon",98),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_button_delete")," "))}function ei(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"a",148),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(3).$implicit,T=t.oxw(2);return t.KtG(T.openDialogResetPass(d))}),t.O4$(),t.TgZ(1,"svg",100),t._UZ(2,"path",101)(3,"path",102)(4,"path",103)(5,"path",104)(6,"path",105),t.qZA(),t.kcU(),t.TgZ(7,"span",106),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&a&&(t.xp6(8),t.Oqu(t.lcZ(9,1,"lang_core_dat_lai_mat_khau")))}function ni(a,g){if(1&a&&(t.TgZ(0,"li"),t.YNc(1,ei,10,3,"a",147),t.ALo(2,"editPermission"),t.qZA()),2&a){const n=t.oxw(2).$implicit,r=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,r.classroomObj,"student")&&n.parentId)}}function f(a,g){if(1&a&&(t.TgZ(0,"div",137)(1,"a",138)(2,"span",139),t._UZ(3,"lucide-icon",140),t.qZA()(),t.TgZ(4,"mat-menu",null,141)(6,"div",142)(7,"ul",6)(8,"li"),t.YNc(9,ti,6,3,"a",143),t.ALo(10,"editPermission"),t.qZA(),t.TgZ(11,"li"),t.YNc(12,ko,5,3,"a",144),t.ALo(13,"editPermission"),t.qZA(),t.YNc(14,ni,3,4,"li",7),t.qZA()()()()),2&a){const n=t.MAs(5),r=t.oxw(3);t.xp6(1),t.Q6J("matMenuTriggerFor",n),t.xp6(8),t.Q6J("ngIf",t.xi3(10,4,r.classroomObj,"student")),t.xp6(3),t.Q6J("ngIf",t.xi3(13,7,r.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",r.isBusinessDomain)}}function L(a,g){1&a&&(t.TgZ(0,"div",154)(1,"span",97),t._UZ(2,"lucide-icon",155),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_co_tai_khoan")," "))}function p(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const n=t.oxw(2).$implicit;t.xp6(1),t.lnq(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework," ",t.lcZ(2,3,"lang_student_classroom_list_detail_homework")," ")}}function v(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const n=t.oxw(2).$implicit;t.xp6(1),t.lnq(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam," ",t.lcZ(2,3,"lang_student_classroom_list_detail_exam")," ")}}function O(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"mat-icon",160),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(3),T=d.index,D=d.$implicit,Y=t.oxw(2);return t.KtG(Y.onPositionChange("up",T-1,D.id,null==Y.classroomObj?null:Y.classroomObj.id))}),t._uU(1," keyboard_arrow_up "),t.qZA()}}function M(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"mat-icon",161),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(3),T=d.index,D=d.$implicit,Y=t.oxw(2);return t.KtG(Y.onPositionChange("down",T+1,D.id,null==Y.classroomObj?null:Y.classroomObj.id))}),t._uU(1," keyboard_arrow_down "),t.qZA()}}function U(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",149)(1,"div",156)(2,"div",157),t.YNc(3,O,2,0,"mat-icon",158),t.TgZ(4,"input",76,77),t.NdJ("keyup.enter",function(){t.CHM(n);const d=t.MAs(5),T=t.oxw(2),D=T.index,Y=T.$implicit,it=t.oxw(2);return t.KtG(it.onPositionChange(d.value,D,Y.id,null==it.classroomObj?null:it.classroomObj.id))}),t.qZA(),t.YNc(6,M,2,0,"mat-icon",159),t.qZA()()()}if(2&a){const n=t.oxw(2).index,r=t.oxw(2);t.xp6(3),t.Q6J("ngIf",0!=n),t.xp6(1),t.s9C("value",n+1),t.xp6(2),t.Q6J("ngIf",r.listStudents&&n!=r.listStudents.length-1)}}function R(a,g){if(1&a&&(t.TgZ(0,"div")(1,"div",149)(2,"div",150),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",151),t._uU(6),t.ALo(7,"formatStudentCodeToNumber"),t.qZA()(),t.TgZ(8,"div",149)(9,"div",150),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"div",151),t._uU(13),t.ALo(14,"mytranslate"),t.ALo(15,"mytranslate"),t.qZA()(),t.TgZ(16,"div",149)(17,"div",150),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"div",151),t._uU(21),t.ALo(22,"formatOnlyDateByUserUnitPipe"),t.qZA()(),t.TgZ(23,"div",149)(24,"div",150),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"div",151),t.YNc(28,L,5,3,"div",152),t.qZA()(),t.TgZ(29,"div",149)(30,"div",150),t._uU(31),t.ALo(32,"mytranslate"),t.qZA(),t.TgZ(33,"div",151),t.YNc(34,p,3,5,"span",7),t.qZA()(),t.TgZ(35,"div",149)(36,"div",150),t._uU(37),t.ALo(38,"mytranslate"),t.qZA(),t.TgZ(39,"div",151),t.YNc(40,v,3,5,"span",7),t.qZA()(),t.YNc(41,U,7,3,"div",153),t.ALo(42,"editPermission"),t.qZA()),2&a){const n=t.oxw().$implicit,r=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,13,"lang_auto_so_bao_danh")," "),t.xp6(3),t.hij(" ",n.identificationNumber?t.xi3(7,15,n.identificationNumber,6):""," "),t.xp6(4),t.hij(" ",t.lcZ(11,18,"lang_gender")," "),t.xp6(3),t.hij(" ",0==n.gender?t.lcZ(14,20,"lang_auto_nu"):t.lcZ(15,22,"lang_auto_nam")," "),t.xp6(5),t.hij(" ",t.lcZ(19,24,"lang_birthday")," "),t.xp6(3),t.hij(" ",t.lcZ(22,26,n.birthday)," "),t.xp6(4),t.hij(" ",t.lcZ(26,28,"lang_testbank_folder_and_file_status")," "),t.xp6(3),t.Q6J("ngIf",1==n.isVerified),t.xp6(3),t.hij(" ",t.lcZ(32,30,"lang_auto_bai_tap_da_lam")," "),t.xp6(3),t.Q6J("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework)),t.xp6(3),t.hij(" ",t.lcZ(38,32,"lang_auto_de_thi_da_lam")," "),t.xp6(3),t.Q6J("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam)),t.xp6(1),t.Q6J("ngIf",1==(null==r.classroomObj?null:r.classroomObj.sortType)&&t.xi3(42,34,r.classroomObj,"student"))}}function mt(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",119)(1,"div",120)(2,"div",121)(3,"div",122),t.NdJ("click",function(){const T=t.CHM(n).$implicit,D=t.oxw(2);return t.KtG(D.goToProfile(T.classroomId,T.id))}),t.TgZ(4,"div",123),t._UZ(5,"azt-create-avatar",124),t.ALo(6,"anonymousPhone"),t.ALo(7,"mycdn"),t.qZA(),t.TgZ(8,"div",125),t.YNc(9,Ko,8,20,"a",126),t.YNc(10,Wo,2,1,"div",127),t.YNc(11,Xo,2,2,"div",128),t.qZA()(),t.YNc(12,f,15,10,"div",129),t.ALo(13,"editPermission"),t.qZA(),t.TgZ(14,"button",130),t.NdJ("click",function(){const T=t.CHM(n).index,D=t.oxw(2);return t.KtG(D.toggleExpandedContent(T))}),t.TgZ(15,"span",131),t._UZ(16,"lucide-icon",132),t.qZA()()(),t.TgZ(17,"div",133),t.YNc(18,R,43,37,"div",7),t.qZA()()}if(2&a){const n=g.$implicit,r=g.index,d=t.oxw(2);t.xp6(5),t.MGl("matTooltip","",0==n.parentId||1==n.isAnonymous?null:" Id: "+n.parentId+(""!=t.lcZ(6,12,n.parentPhone)?" - Phone: "+n.parentPhone:"")+" - Name: "+n.parentFullName," "),t.Q6J("nameCreateAvatar",n.fullName)("linkAvatar",t.lcZ(7,14,n.avatar))("size",36),t.xp6(4),t.Q6J("ngIf",n.fullName),t.xp6(1),t.Q6J("ngIf",n.phone),t.xp6(1),t.Q6J("ngIf",n.email),t.xp6(1),t.Q6J("ngIf",t.xi3(13,16,d.classroomObj,"student")),t.xp6(3),t.ekj("rotate-180",d.expandedItemIndex===r),t.xp6(2),t.Q6J("@expandCollapse",d.expandedItemIndex===r?"open":"closed"),t.xp6(1),t.Q6J("ngIf",d.expandedItemIndex===r)}}function Tt(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",163),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(3);return t.KtG(d.addStudentDialog(d.classroomObj))}),t.TgZ(1,"span",48),t._UZ(2,"lucide-icon",49),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_them_hoc_sinh")," "))}function ot(a,g){if(1&a&&(t.TgZ(0,"div",107)(1,"div",108),t.O4$(),t.TgZ(2,"svg",109),t._UZ(3,"path",110)(4,"path",111)(5,"path",112)(6,"path",113)(7,"path",114)(8,"path",115),t.qZA(),t.kcU(),t.TgZ(9,"div",116),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.YNc(12,Tt,5,3,"button",162),t.ALo(13,"editPermission"),t.qZA()()),2&a){const n=t.oxw(2);let r;t.xp6(10),t.hij(" ",t.lcZ(11,2,"lang_student_classroom_list_detail_not_student")," "),t.xp6(2),t.Q6J("ngIf",t.xi3(13,4,n.classroomObj,"student")&&0==(null!==(r=null==n.listStudents?null:n.listStudents.length)&&void 0!==r?r:0))}}function Kt(a,g){if(1&a&&(t.TgZ(0,"div",11)(1,"div",12)(2,"h2",13),t._uU(3),t.qZA(),t.TgZ(4,"span",14),t._uU(5),t.qZA(),t.YNc(6,$t,1,3,"azt-download-qr-code",15),t.qZA(),t.TgZ(7,"div",12),t._UZ(8,"azt-share",16),t.YNc(9,vn,2,1,"div",17),t.qZA()(),t.YNc(10,zo,16,21,"div",18),t.TgZ(11,"div",19)(12,"div",20),t.YNc(13,Ro,29,32,"div",21),t.ALo(14,"appFilter"),t.YNc(15,$o,14,7,"div",22),t.ALo(16,"appFilter"),t.qZA(),t.TgZ(17,"div",23),t.YNc(18,mt,19,19,"div",24),t.ALo(19,"appFilter"),t.YNc(20,ot,14,7,"div",22),t.ALo(21,"appFilter"),t.qZA()()),2&a){const n=t.oxw();let r;t.xp6(3),t.hij(" ",null==n.classroomObj?null:n.classroomObj.name," "),t.xp6(2),t.hij("( ",null==n.classroomObj?null:n.classroomObj.year," )"),t.xp6(1),t.Q6J("ngIf",n.joinClassroomLink),t.xp6(2),t.Q6J("backToLink",n.backToLink)("objectCodeType",1)("objectCode","CLASSROOM")("objectId",n.classroomId)("classroomWithPermissionObj",n.classroomObj),t.xp6(1),t.Q6J("ngIf",!n.hasStudents||!(null!=n.listStudents&&n.listStudents.length)),t.xp6(1),t.Q6J("ngIf",n.hasStudents||(null!==(r=null==n.listStudents?null:n.listStudents.length)&&void 0!==r?r:0)>0),t.xp6(3),t.Q6J("ngIf",t.Dn7(14,14,n.listStudents,n.searchContentObj.searchContent,t.DdM(30,jn)).length>0),t.xp6(2),t.Q6J("ngIf",!n.hasStudents||0==t.Dn7(16,18,n.listStudents,n.searchContentObj.searchContent,t.DdM(31,jn)).length),t.xp6(3),t.Q6J("ngForOf",t.Dn7(19,22,n.listStudents,n.searchContentObj.searchContent,t.DdM(32,jn))),t.xp6(2),t.Q6J("ngIf",!n.hasStudents||0==t.Dn7(21,26,n.listStudents,n.searchContentObj.searchContent,t.DdM(33,jn)).length)}}function dn(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li")(1,"button",164),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.goToMergeStudent(null==d.classroomObj?null:d.classroomObj.id))}),t.O4$(),t.TgZ(2,"svg",165),t._UZ(3,"path",166)(4,"path",167)(5,"line",168),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&a&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_student_classroom_list_detail_merge_student")," "))}function Ut(a,g){1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"span",176),t._UZ(1,"lucide-icon",177),t.qZA())}function Nn(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li")(1,"button",169),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.changeSortType(0))}),t.O4$(),t.TgZ(2,"svg",165),t._UZ(3,"path",170)(4,"path",171)(5,"path",172)(6,"path",173)(7,"path",174),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.YNc(10,Ut,2,0,"span",175),t.qZA()()}if(2&a){const n=t.oxw();t.xp6(8),t.hij(" ",t.lcZ(9,2,"lang_student_classroom_list_detail_sort_name")," "),t.xp6(2),t.Q6J("ngIf",0==(null==n.classroomObj?null:n.classroomObj.sortType))}}function wo(a,g){1&a&&(t.TgZ(0,"span",176),t._UZ(1,"lucide-icon",177),t.qZA())}function ta(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li")(1,"button",178),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.changeSortType(1))}),t.O4$(),t.TgZ(2,"svg",165),t._UZ(3,"line",179)(4,"line",180)(5,"line",181)(6,"path",182)(7,"path",183)(8,"path",184),t.qZA(),t.kcU(),t.TgZ(9,"span",185),t.ALo(10,"mytranslate"),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.YNc(13,wo,2,0,"span",175),t.qZA()()}if(2&a){const n=t.oxw();t.xp6(9),t.s9C("matTooltip",t.lcZ(10,3,"lang_student_classroom_list_detail_request")),t.xp6(2),t.Oqu(t.lcZ(12,5,"lang_student_classroom_list_detail_change")),t.xp6(2),t.Q6J("ngIf",0!=(null==n.classroomObj?null:n.classroomObj.sortType))}}function oi(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li",186)(1,"button",187),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.openDialogAutoNumbering())}),t.O4$(),t.TgZ(2,"svg",165),t._UZ(3,"path",188)(4,"path",189)(5,"path",190)(6,"path",191)(7,"rect",192)(8,"rect",193),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()}2&a&&(t.xp6(9),t.hij(" ",t.lcZ(10,1,"lang_auto_danh_so_bao_danh")," "))}function bi(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li",186)(1,"button",194),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.exportListStudent())}),t.O4$(),t.TgZ(2,"svg",195),t._UZ(3,"path",196)(4,"polyline",197)(5,"line",198)(6,"line",199)(7,"line",200),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&a&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_student_utils_export_list_student")," "))}function ea(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li",186)(1,"button",194),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.exportExcelForScoreOfClassroom())}),t.O4$(),t.TgZ(2,"svg",195),t._UZ(3,"path",196)(4,"polyline",197)(5,"line",198)(6,"line",199)(7,"line",200),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&a&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_auto_xuat_bang_diem")," "))}function Me(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li")(1,"div",201),t.NdJ("click",function(d){return d.stopPropagation()}),t.TgZ(2,"input",202),t.NdJ("change",function(){t.CHM(n);const d=t.oxw();let T;return t.KtG(d.changeAnonymousStudentStatus(null!==(T=null==d.classroomObj?null:d.classroomObj.id)&&void 0!==T?T:0,d.checkAddStudent.value))}),t.qZA(),t.TgZ(3,"label",203),t._uU(4),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()()()}if(2&a){const n=t.oxw();t.xp6(2),t.Q6J("formControl",n.checkAddStudent)("checked",1==(null==n.classroomObj?null:n.classroomObj.showAddStudent)),t.xp6(2),t.hij(" ",n.checkAddStudent.value?t.lcZ(5,3,"lang_student_classroom_list_detail_on"):t.lcZ(6,5,"lang_student_classroom_list_detail_off")," ")}}function na(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"azt-export-excel-for-student-list",204),t.NdJ("exportDataDone",function(d){t.CHM(n);const T=t.oxw();return t.KtG(T.exportStudentListDone(d))}),t.qZA()}if(2&a){const n=t.oxw();t.Q6J("objs",n.exportStudentObjs)}}let Re=(()=>{class a extends x.Q{onSearchBox(n){this.searchContentObj=n}toggleExpandedContent(n){this.expandedItemIndex=this.expandedItemIndex===n?-1:n}copyLinkToClipboard(){return this.joinClassroomLink}convertNameForQR(){return"QR_Join_Classroom_"+this.commonService.convertVietnameseToEnglish(this.classroomObj?.name??this.classroomObj?.hashId??"")}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.listStudents)}exportStudentListDone(n){let r=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(n,r)}exportExcelForScoreOfClassroom(){this.loadingExport=!0;let n="";Xt.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??""),this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataGetAllExamObjsOfClassroomIdGet(Number(this.classroomId)).subscribe(r=>{1==r.success?r.data?.objs&&r.data?.objs.length?this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(d=>{if(1==d.success){let T=d.data?.objs??new Array;this.prepareDataForExportScore(r.data?.objs??[],T).subscribe(D=>{let Y=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"",it=this.commonService.createFileNameExportFile([Y,this.classroomObj?.name??""]);if(this.commonService.myTranslate(["lang_auto_tap_tin_dang_duoc_tai_xuong"]).subscribe(It=>{n=It.lang_auto_tap_tin_dang_duoc_tai_xuong,Xt.G.changeMsgLoadingEffect(n)}),this.classroomObj){const It=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,D,r.data?.objs);this.shareFileFlutterService.shareFileWithBlob(It,it+".xlsx")}Xt.G.closeLoadingEffect(200),this.loadingExport=!1})}else this.errorStatusObj(d.message??"",!0),Xt.G.closeLoadingEffect(10),this.loadingExport=!1})):this.exportExcelForScoreHomeworkOfClassroom():(this.errorStatusObj(r.message??"",!0),Xt.G.closeLoadingEffect(10),this.loadingExport=!1)}))}exportExcelForScoreHomeworkOfClassroom(){this.loadingExport=!0;let n=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"";this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(r=>{if(1==r.success){let d=this.commonService.createFileNameExportFile([n,this.classroomObj?.name??""]);if(this.classroomObj){const T=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,r.data?.objs??[]);this.shareFileFlutterService.shareFileWithBlob(T,d+".xlsx")}}else this.errorStatusObj(r.message??"",!0);Xt.G.closeLoadingEffect(10),this.loadingExport=!1}))}prepareDataForExportScore(n,r){return new Ce.y(d=>{let T=this.commonService.myTranslateInstant("lang_export_classroom_score_counter_message")??"",D=0,Y=n.length,it=It=>{D<Y?(Xt.G.changeMsgLoadingEffect(T+n[D].name+" ("+(D+1)+"/"+Y+")"),this.waitDestroy(this.exportClassroomScoreApiService.getTestedAllResultByClassroomId("export_classroom",n[D].id??0,this.classroomId,It).subscribe(me=>{1==me.success?(me.data&&(It=[...me.data]),D++,it(It)):d.error(me.message)}))):(d.next(It),d.complete())};it(r)})}getNoticeObjsRequest(){this.waitDestroy(this.noticeService.apiNoticeGetAllNoticeRequestForClassGet(this.classroomId).subscribe(n=>{1==n.success?(n.data?.objs?.length??0)>0&&this.sAztDialogService.open(pn,{width:"750px",data:{noticeObjs:n.data?.objs??[],classroomObj:this.classroomObj},restoreFocus:!1}):this.showErrorSnack("lang_auto_loi_khong_load_duoc_du_lieu_lop_hoc")}))}changeSortType(n){this.waitDestroy(this.classroomService.apiClassroomChangeSortTypeGet(this.classroomId,n).subscribe(r=>{1==r.success?(this.checkSortListStudent(n),this.classroomObj?.sortType&&(this.classroomObj.sortType=n),this.getData()):this.errorStatusObj(r.message??"",!0)}))}checkSortListStudent(n){this.listStudents=0==n?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.rawStudentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.rawStudentObjs)??[],"pos","id")}onPositionChange(n,r,d,T){let D="up"==n?1:"down"==n?2:3,Y=3==D?n??"":"",it=parseInt(Y,10);this.waitDestroy(this.classroomService.apiClassroomChangePositionStudentGet(Number(3!=D?r:it),Number(d),Number(T),Number(D)).subscribe(me=>{1==me.success?this.getData():this.showErrorSnack(""==Y&&3==D?"lang_auto_loi_nhap_so_de_thay_doi_vi_tri_hs":"lang_auto_loi_khong_the_doi_vi_tri_hs")}))}changeAnonymousStudentStatus(n,r){this.waitDestroy(r?this.classroomService.apiClassroomChangeShowAddStudentGet(n,1).subscribe(d=>{1==d.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(d.message??"",!0)}):this.classroomService.apiClassroomChangeShowAddStudentGet(n,0).subscribe(d=>{1==d.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(d.message??"",!0)}))}addStudentDialog(n){this.sAztDialogService.open(le,{width:"750px",data:{studentObjs:this.listStudents,classroomObj:n},restoreFocus:!1}).afterClosed().subscribe(d=>{d&&this.getData()})}deleteStudentDialog(n){this.sAztDialogService.open(Ne,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(d=>{d&&this.getData()})}editStudentDialog(n){this.sAztDialogService.open(Fn,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(d=>{d&&this.getData()})}openDialogAutoNumbering(){this.sAztDialogService.open(Be.G,{data:{classroomWithGroup:[],type:2,listCheckBox:this.classroomObj?.id?[this.classroomObj.id]:[],totalStudent:this.classroomObj?.countStudents},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(r=>{r&&this.getData()})}openDialogCheckboxMonth(n){this.sAztDialogService.open(Ye,{width:"454px",restoreFocus:!1,data:n.id}).afterClosed().subscribe(r=>{r&&this.getListStudentApiNew()})}goToProfile(n,r){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+r,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${n}/0`))}goToMergeStudent(n){this.commonService.myNavigation("/admin/student/merge-student/"+n)}translateExportNote(){let n="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),r="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),d="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),T="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four");this.export=[n,r,d,T]}openDialogResetPass(n){this.sAztDialogService.open(Ie.g,{width:"500px",restoreFocus:!1,data:{id:n.parentId,name:n.fullName}}).afterClosed().subscribe(r=>{r&&this.getData()})}getData(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.classroomId).subscribe(n=>{if(1==n.success){this.classroomObj=n?.data?.classroomObj,this.permissionObj=this.classroomObj?.permissionObj,this.checkAddStudent.setValue(1==this.classroomObj?.showAddStudent),this.rawStudentObjs=n?.data?.studentObjs,this.checkSortListStudent(n?.data?.classroomObj?.sortType);let d=this.commonService.getCurrentDomain();this.joinClassroomLink=`${d}/${this.commonService.getCurrentLang()}/student/join-classroom/${this.classroomObj?.hashId}`,this.countStudent=n?.data?.studentObjs?.length,this.hasStudents=!!(n?.data?.studentObjs&&n.data.studentObjs.length>0),this.getListStudentApiNew(),this.getNoticeObjsRequest(),this.successStatusObj()}else this.errorStatusObj(n.message??"",!0)}))}getListStudentApiNew(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:this.listStudents?.length??0,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:!1,getAssessment:!1}).subscribe(r=>{r?r.list.forEach(d=>{var T=this.listStudents?.find(D=>D.id==d.id);T&&(T.lastMonthPaid=d.lastMonthPaid,T.lastYearPaid=d.lastYearPaid,T.schoolName=d.schoolName,T.facebookLink=T.moreInfo?.facebookLink)}):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}checkValidFormIdentify(n){this.validFormIdentify=n.target instanceof HTMLInputElement&&Number(n.target.value)<=999999-(this.listStudents?.length??0)}handleTabActive(n){this.tabActive=n}ngOnInit(){super.ngOnInit(),this.translateExportNote(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"));let n=this.commonService.getMyQueryParam("backto");this.backToLink=n??"/admin/student/manage-classroom/0",this.getData()}constructor(n,r,d,T,D,Y,it,It,me,Eo,so){super(),this.shareFileFlutterService=n,this.classroomService=r,this.classroomExportDataService=d,this.noticeService=T,this.activeRoute=D,this.sortService=Y,this.studentProfileV2Service=it,this.exportExcelService=It,this.sAztDialogService=me,this.studentService=Eo,this.exportClassroomScoreApiService=so,this.checkAddStudent=new K.NI(!1,{nonNullable:!0}),this.backToLink="",this.classroomId=0,this.export=[""],this.hasStudents=!1,this.validFormIdentify=!0,this.loadingExport=!1,this.expandedItemIndex=-1,this.joinClassroomLink="",this.tabActive=1,this.mouseDown=!1,this.searchContentObj=new dt.h,this.form=new K.cw({searchContent:new K.NI("",{nonNullable:!0,validators:[K.kI.required]}),startIdentifyIndex:new K.NI("",{nonNullable:!0,validators:[K.kI.min(1),K.kI.max(999999),K.kI.pattern(/^[0-9]*$/)]})})}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(q.g),t.Y36(xt.um),t.Y36(F.Tg),t.Y36(pe.L$),t.Y36(rt.gz),t.Y36(gn.V),t.Y36(F.LU),t.Y36(hn.L),t.Y36(ye.C),t.Y36(fn.V),t.Y36(po))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-student-list"]],viewQuery:function(n,r){if(1&n&&t.Gf(ho,5),2&n){let d;t.iGM(d=t.CRH())&&(r.slider=d.first)}},features:[t.qOj],decls:19,vars:19,consts:[[1,"grid","grid-cols-12","mt-5"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menu","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],[4,"ngIf"],["class","block lg:hidden",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[1,"col-span-12","intro-y","flex","justify-between","items-center","mb-5"],[1,"flex","items-center"],[1,"text-lg","font-medium","mr-2"],[1,"mr-2"],[3,"fileName","linkUrl","showLink",4,"ngIf"],[3,"backToLink","objectCodeType","objectCode","objectId","classroomWithPermissionObj"],["class","dropdown ml-2","style","align-self: end",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[1,"azt-hidden","md:block"],["style","height: 100%",4,"ngIf"],["class","box p-3 flex items-center","style","min-height: 216px",4,"ngIf"],[1,"md:hidden"],["class","box p-3 mt-3",4,"ngFor","ngForOf"],[3,"fileName","linkUrl","showLink"],[1,"dropdown","ml-2",2,"align-self","end"],["class","dropdown-toggle btn btn-sm btn-outline-secondary",3,"matMenuTriggerFor",4,"ngIf"],[1,"dropdown-toggle","btn","btn-sm","btn-outline-secondary",3,"matMenuTriggerFor"],[1,"w-4","h-4","flex","items-center","justify-center"],["name","settings"],[1,"col-span-12"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"isServerSearch","placeholder","onSearch"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-details-s9VkYOpJZKc","class","btn btn-primary btn-sm shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details--hDdQw7XTpD","class","btn btn-primary btn-sm shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-sm btn-primary shadow-md mr-2 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-_DnbWckI_DG","class","btn btn-sm px-2 box shadow-md mr-2 azt-hidden md:flex hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],[1,"dropdown"],["class","dropdown-toggle btn px-2 box",3,"matMenuTriggerFor",4,"ngIf"],["azt-track-service","class-list-details-s9VkYOpJZKc",1,"btn","btn-primary","btn-sm","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],[1,"flex-none","inline-block","w-4","h-4","mr-2"],["name","file-text"],["azt-track-service","class-list-details--hDdQw7XTpD",1,"btn","btn-primary","btn-sm","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["class","flex-none inline-block w-4 h-4 mr-2",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-sm","btn-primary","shadow-md","mr-2","w-full","sm:w-auto",3,"click"],[1,"w-4","h-4","flex-none","inline-block","mr-2"],["name","plus"],["azt-track-service","class-list-details-_DnbWckI_DG",1,"btn","btn-sm","px-2","box","shadow-md","mr-2","azt-hidden","md:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary"],[1,"dropdown-toggle","btn","px-2","box",3,"matMenuTriggerFor"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-5",2,"white-space","initial","display","table"],[1,"text-center",2,"width","60px","padding","0 !important"],[2,"width","60px",3,"matTooltipDisabled","matTooltip"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],["class","text-center whitespace-nowrap",4,"ngIf"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],[2,"padding","5px 5px 5px 0"],["style","width: 100%; text-align: center; border-right: 1px solid #ccc; display: inline-grid; padding: 5px",4,"ngIf","ngIfElse"],["sttStudent",""],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","identificationNumber","gender","hasUser","schoolName","classrooms","joinedAt","phone","email"],[1,"text-center","capitalize"],["class","text-center",4,"ngIf"],[1,"text-center"],[1,"flex","justify-center","items-center"],["azt-track-service","class-list-details-IXPw9fo4fxc","class","btn btn-sm btn-outline-primary mr-3",3,"click",4,"ngIf"],["azt-track-service","class-list-details-O6dc04lZp9g","class","btn btn-sm btn-outline-danger mr-3",3,"click",4,"ngIf"],["azt-track-service","student-list-hM337DYZ_","class","btn btn-sm mr-3",3,"disabled","click",4,"ngIf"],[2,"width","100%","text-align","center","border-right","1px solid #ccc","display","inline-grid","padding","5px"],["azt-track-service","class-list-details-DAInj2oep","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["type","text","appOnlyNumber","",1,"form-control","text-center",2,"padding","4px",3,"value","keyup.enter"],["myInput",""],["azt-track-service","class-list-details-piloTgTGAq","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-DAInj2oep",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","class-list-details-piloTgTGAq",1,"clickable",2,"width","100%","text-align","center",3,"click"],[1,"text-center","font-bold"],["class","text-slate-500",4,"ngIf"],["azt-track-service","student-list-eJc79Svrw",1,"w-5","inline-block","ml-1","zoom-in",2,"margin-top","-2px","color","gray",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-calendar-search"],["d","M21 12V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h7.5"],["d","M16 2v4"],["d","M8 2v4"],["d","M3 10h18"],["d","M18 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6v0Z"],["d","m22 22-1.5-1.5"],[1,"text-slate-500"],["azt-track-service","class-list-details-IXPw9fo4fxc",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","class-list-details-O6dc04lZp9g",1,"btn","btn-sm","btn-outline-danger","mr-3",3,"click"],[1,"w-4","h-4","mr-2","inline-block"],["name","trash-2"],["azt-track-service","student-list-hM337DYZ_",1,"btn","btn-sm","mr-3",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide","flex-none"],["d","M21 6H3"],["d","M7 12H3"],["d","M7 18H3"],["d","M12 18a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L11 14"],["d","M11 10v4h4"],[2,"text-wrap","nowrap"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","82","height","90","viewBox","0 0 82 90","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M29.1186 60.3066C29.0404 60.8599 29 61.4252 29 62C29 68.6274 34.3726 74 41 74C47.6274 74 53 68.6274 53 62C53 61.4252 52.9596 60.8599 52.8815 60.3066H82V87C82 88.6569 80.6569 90 79 90H3C1.34315 90 0 88.6569 0 87V60.3066H29.1186Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M54 60C54 67.1797 48.1797 73 41 73C33.8203 73 28 67.1797 28 60C28 59.7674 28.0061 59.5362 28.0182 59.3066H0L9.56044 31.0389C9.9726 29.8202 11.1159 29 12.4023 29H69.5977C70.8842 29 72.0274 29.8202 72.4396 31.0389L82 59.3066H53.9818C53.9939 59.5362 54 59.7674 54 60Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M52.0976 60.9545C52.0976 66.5025 47.129 72 41 72C34.871 72 29.9024 66.5025 29.9024 60.9545C29.9024 60.7748 29.9077 59.5962 29.918 59.4188H9L17.1614 39.5755C17.5132 38.6338 18.4891 38 19.5873 38H62.4127C63.5109 38 64.4868 38.6338 64.8387 39.5755L73 59.4188H52.082C52.0923 59.5962 52.0976 60.7748 52.0976 60.9545Z","fill","#E8F0FE"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 59.5123V86C1.25 86.9665 2.0335 87.75 3 87.75H79C79.9665 87.75 80.75 86.9665 80.75 86V59.5123L71.2554 31.4393C71.015 30.7285 70.3481 30.25 69.5977 30.25H12.4023C11.6519 30.25 10.985 30.7285 10.7446 31.4393L1.25 59.5123Z","stroke","#1F64E7","stroke-width","2.5"],["d","M14 59C17.9366 59 22.1849 59 26.7449 59C28.6212 59 28.6212 60.3186 28.6212 61C28.6212 67.6274 34.1174 73 40.8973 73C47.6772 73 53.1734 67.6274 53.1734 61C53.1734 60.3186 53.1734 59 55.0496 59H80M6.57373 59H9H6.57373Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M66.0996 6.30273L55 18.7559M40.0996 2V18.7559V2ZM14 6.30273L25.0996 18.7559L14 6.30273Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-3"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],[1,"box","p-3","mt-3"],[1,"flex","items-center","text-sm"],[1,"flex","items-start","px-3"],["azt-track-service","class-list-details-PLih7noFG",1,"flex","items-center",3,"click"],[1,"w-9","h-9","image-fit","zoom-in"],[3,"matTooltip","nameCreateAvatar","linkAvatar","size"],[1,"ml-4",2,"max-width","150px"],["class","font-medium",3,"matTooltip",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",3,"matTooltip",4,"ngIf"],["class","absolute right-0 top-0 mr-6 mt-3 dropdown",4,"ngIf"],["azt-track-service","class-list-details-pefaSVrkl",1,"ml-auto","mr-3","p-1","mt-6","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"click"],[1,"w-5","h-5","inline-block"],["name","chevron-down"],[1,"mt-2"],[1,"font-medium",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-slate-500","text-xs","mt-0.5",3,"matTooltip"],[1,"absolute","right-0","top-0","mr-6","mt-3","dropdown"],[1,"dropdown-toggle","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"matMenuTriggerFor"],[1,"w-5","h-5","text-slate-500"],["name","more-horizontal"],["menuAction","matMenu"],[1,"dropdown-menu","show","relative","w-56"],["azt-track-service","class-list-details-Q6L3Qb4nL-","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-xA4MDIyq3o","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Q6L3Qb4nL-",1,"dropdown-item",3,"click"],["azt-track-service","class-list-details-xA4MDIyq3o",1,"dropdown-item",3,"click"],["azt-track-service","student-list-BQ1zew8XrF","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","student-list-BQ1zew8XrF",1,"dropdown-item",3,"click"],[1,"flex","items-center","p-3","border-t","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md"],[1,"ml-auto"],["class","flex items-center justify-center text-success",4,"ngIf"],["class","flex items-center p-3 border-t border-slate-200/60 dark:border-darkmode-400",4,"ngIf"],[1,"flex","items-center","justify-center","text-success"],["name","check-square"],[1,"w-full"],[2,"width","100%","text-align","center","display","inline-grid","padding","5px"],["azt-track-service","class-list-details-uQr-XCrTnlF","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Ad3KhS_O8H4","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-uQr-XCrTnlF",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","class-list-details-Ad3KhS_O8H4",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","student-list-z7Lql-3ZDJ","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","student-list-z7Lql-3ZDJ",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],["azt-track-service","class-list-details-NcMQ164X2B1",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M9 17H7A5 5 0 0 1 7 7h2"],["d","M15 7h2a5 5 0 1 1 0 10h-2"],["x1","8","y1","12","x2","16","y2","12"],["azt-track-service","class-list-details-woiwIJfYoz7",1,"dropdown-item","w-full",3,"click"],["d","M11 5h4"],["d","M11 9h7"],["d","M11 13h10"],["d","m3 17 3 3 3-3"],["d","M6 18V4"],["class","w-4 h-4 ml-2 text-success inline-block flex-none",4,"ngIf"],[1,"w-4","h-4","ml-2","text-success","inline-block","flex-none"],["name","check"],["azt-track-service","class-list-details-dc7h-1UoWkq",1,"dropdown-item","w-full",3,"click"],["x1","10","y1","6","x2","21","y2","6"],["x1","10","y1","12","x2","21","y2","12"],["x1","10","y1","18","x2","21","y2","18"],["d","M4 6h1v4"],["d","M4 10h2"],["d","M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"],[1,"ml-1",3,"matTooltip"],[1,"block","lg:hidden"],["azt-track-service","class-list-details-dQQjeblrGNo",1,"dropdown-item","w-full",3,"click"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],["azt-track-service","class-list-details-EPPk_ECcOhT",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","file-text","data-lucide","file-text",1,"lucide","lucide-file-text","flex-none","w-4","h-4","mr-2"],["d","M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],["azt-track-service","student-list-I77ChHGFW",1,"form-check","form-switch","p-2",3,"click"],["type","checkbox","id","check-add-student",1,"show-code","form-check-input","mr-1",3,"formControl","checked","change"],["for","check-add-student",1,"form-check-label","ml-0"],[3,"objs","exportDataDone"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,Uo,2,0,"div",1),t.YNc(2,Kt,22,34,"ng-template",null,2,t.W1O),t.qZA(),t.TgZ(4,"mat-menu",3,4)(6,"div",5)(7,"ul",6),t.YNc(8,dn,8,3,"li",7),t.YNc(9,Nn,11,4,"li",7),t.YNc(10,ta,14,7,"li",7),t.YNc(11,oi,11,3,"li",8),t.ALo(12,"editPermission"),t.YNc(13,bi,10,3,"li",8),t.ALo(14,"viewPermission"),t.YNc(15,ea,10,3,"li",8),t.YNc(16,Me,7,7,"li",7),t.ALo(17,"editPermission"),t.qZA()()(),t.YNc(18,na,1,1,"azt-export-excel-for-student-list",9)),2&n){const d=t.MAs(3);let T,D,Y,it,It,me;t.xp6(1),t.Q6J("ngIf",r.statusObj.loading)("ngIfElse",d),t.xp6(7),t.Q6J("ngIf",r.hasStudents||(null!==(T=null==r.listStudents?null:r.listStudents.length)&&void 0!==T?T:0)>0),t.xp6(1),t.Q6J("ngIf",r.hasStudents||(null!==(D=null==r.listStudents?null:r.listStudents.length)&&void 0!==D?D:0)>0),t.xp6(1),t.Q6J("ngIf",r.hasStudents||(null!==(Y=null==r.listStudents?null:r.listStudents.length)&&void 0!==Y?Y:0)>0),t.xp6(1),t.Q6J("ngIf",t.xi3(12,10,r.classroomObj,"student")&&(r.hasStudents||(null!==(it=null==r.listStudents?null:r.listStudents.length)&&void 0!==it?it:0)>0)),t.xp6(2),t.Q6J("ngIf",t.xi3(14,13,r.classroomObj,"student")&&(r.hasStudents||(null!==(It=null==r.listStudents?null:r.listStudents.length)&&void 0!==It?It:0)>0)),t.xp6(2),t.Q6J("ngIf",r.hasStudents||(null!==(me=null==r.listStudents?null:r.listStudents.length)&&void 0!==me?me:0)>0),t.xp6(1),t.Q6J("ngIf",t.xi3(17,16,r.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",r.exportStudentObjs)}},dependencies:[Q.sg,Q.O5,qn.Hw,be.VK,be.p6,bt.gM,K.Wl,K.JJ,K.oH,ht.l,An.g,_n.W,Vn.Y,Ht.S,ft.n,go.y,vt.W,Qn.a,ce.HU,ce.$Z,Ct.Nh5,S.JV,S.QN,S.om,S.Wr,S.Pf,S.J7,S.gw,S.YK],encapsulation:2,data:{animation:[(0,ue.X$)("expandCollapse",[(0,ue.SB)("open",(0,ue.oB)({height:"*"})),(0,ue.SB)("closed",(0,ue.oB)({height:"0px"})),(0,ue.eR)("open <=> closed",[(0,ue.jt)("0.3s ease-in-out")])])]}}),a})();var Yn=b(87789);function vi(a,g){1&a&&t._UZ(0,"azt-loading-effect")}const Ti=function(a){return{"text-white":a}};function Ci(a,g){if(1&a&&(t.TgZ(0,"div",20),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const n=t.oxw(),d=n.$implicit;t.Q6J("ngClass",t.VKq(4,Ti,0===n.index)),t.xp6(1),t.Oqu(d.averageMark+" "+t.lcZ(2,2,"lang_auto_diem"))}}function Le(a,g){if(1&a&&(t.TgZ(0,"div",20),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const n=t.oxw();t.Q6J("ngClass",t.VKq(4,Ti,0===n.index&&n.$implicit.averageMark)),t.xp6(1),t.Oqu(t.lcZ(2,2,"lang_not_data"))}}function ki(a,g){1&a&&(t.TgZ(0,"div",21),t.O4$(),t.TgZ(1,"svg",22),t._UZ(2,"path",23),t.TgZ(3,"g",24),t._UZ(4,"path",25),t.qZA(),t.TgZ(5,"defs")(6,"clipPath",26),t._UZ(7,"rect",27),t.qZA()()()())}function wi(a,g){1&a&&(t.TgZ(0,"div",28),t.O4$(),t.TgZ(1,"svg",22),t._UZ(2,"path",29),t.TgZ(3,"g",30),t._UZ(4,"path",25),t.qZA(),t.TgZ(5,"defs")(6,"clipPath",31),t._UZ(7,"rect",27),t.qZA()()()())}function oa(a,g){1&a&&(t.TgZ(0,"div",32),t.O4$(),t.TgZ(1,"svg",22),t._UZ(2,"path",33),t.TgZ(3,"g",34),t._UZ(4,"path",25),t.qZA(),t.TgZ(5,"defs")(6,"clipPath",35),t._UZ(7,"rect",27),t.qZA()()()())}const ii=function(a,g,n){return{"p-5 bg-primary text-white":a,"p-3":g,"border border-primary p-4 border-w-2":n}},ia=function(a){return{"text-base":a}};function yi(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){const T=t.CHM(n).$implicit,D=t.oxw(3);return t.KtG(D.goToProfile(T.classroomId,T.id))}),t.TgZ(1,"div",8)(2,"span",9),t._uU(3),t.qZA()(),t.TgZ(4,"div",10)(5,"div",11),t._UZ(6,"azt-create-avatar",12),t.qZA(),t.TgZ(7,"div",13)(8,"div",14),t._uU(9),t.qZA(),t.YNc(10,Ci,3,6,"div",15),t.YNc(11,Le,3,6,"div",15),t.qZA()(),t.TgZ(12,"div",16),t.YNc(13,ki,8,0,"div",17),t.YNc(14,wi,8,0,"div",18),t.YNc(15,oa,8,0,"div",19),t.qZA()()}if(2&a){const n=g.$implicit,r=g.index;t.Q6J("ngClass",t.kEZ(12,ii,0===r&&n.averageMark,0!==r||!n.averageMark,(2===r||1===r)&&n.averageMark)),t.xp6(3),t.Oqu(r+1),t.xp6(3),t.Q6J("linkAvatar",n.avatar)("nameCreateAvatar",n.fullName)("size",0===r?48:44),t.xp6(2),t.Q6J("ngClass",t.VKq(16,ia,0===r)),t.xp6(1),t.Oqu(n.fullName),t.xp6(1),t.Q6J("ngIf",n.averageMark),t.xp6(1),t.Q6J("ngIf",!n.averageMark),t.xp6(2),t.Q6J("ngIf",0===r&&n.averageMark),t.xp6(1),t.Q6J("ngIf",1===r&&n.averageMark),t.xp6(1),t.Q6J("ngIf",2===r&&n.averageMark)}}function Oi(a,g){if(1&a&&(t.TgZ(0,"div",4)(1,"div",5),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,yi,16,18,"div",6),t.qZA()),2&a){const n=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_azt_leaderboard")," "),t.xp6(2),t.Q6J("ngForOf",n.dataStudent.list)}}function Zi(a,g){1&a&&(t.TgZ(0,"div",36)(1,"div",37),t.O4$(),t.TgZ(2,"svg",38),t._UZ(3,"path",39)(4,"path",40)(5,"path",41)(6,"path",42)(7,"path",43)(8,"path",44),t.qZA(),t.kcU(),t.TgZ(9,"p",45),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()),2&a&&(t.xp6(10),t.Oqu(t.lcZ(11,1,"lang_not_data")+"!"))}function Ai(a,g){if(1&a&&(t.YNc(0,Oi,5,4,"div",2),t.YNc(1,Zi,12,3,"ng-template",null,3,t.W1O)),2&a){const n=t.MAs(2),r=t.oxw();t.Q6J("ngIf",r.dataStudent&&r.dataStudent.list&&r.dataStudent.list.length)("ngIfElse",n)}}let ai=(()=>{class a extends x.Q{goToProfile(n,r){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+r,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${n}/5`))}getListStudent(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1e3,name:"",programId:0,classroomId:this.classroomId,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1}).subscribe({next:r=>{this.dataStudent=r,this.dataStudent.list.sort((d,T)=>(T.averageMark??0)-(d.averageMark??0)),this.stopStatusObj()},error:r=>{this.errorStatusObj(r.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getListStudent()}constructor(n,r){super(),this.studentService=n,this.activeRoute=r,this.classroomId=0}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(Yn.VT),t.Y36(rt.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-leaderboard"]],inputs:{isStudent:"isStudent"},features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["class","p-4 leaderboard rounded-lg",4,"ngIf","ngIfElse"],["emptyData",""],[1,"p-4","leaderboard","rounded-lg"],[1,"text-xl","text-center","font-medium"],["azt-track-service","leaderboard-dDzfaXSYR","class","flex items-center box rounded-25px mt-4 intro-x zoom-in p-3","style","min-height: 92px",3,"ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","leaderboard-dDzfaXSYR",1,"flex","items-center","box","rounded-25px","mt-4","intro-x","zoom-in","p-3",2,"min-height","92px",3,"ngClass","click"],[1,"w-5","h-5","rounded-full","border","border-w-2","border-slate-200","dark:border-slate-400","flex","items-center","justify-center"],[1,"text-xs","font-medium"],[1,"mx-3","flex","items-center"],[1,"image-fit","zoom-in"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4"],[1,"font-medium",3,"ngClass"],["class","text-slate-600 mt-0.5 text-xs font-medium",3,"ngClass",4,"ngIf"],[1,"ml-auto"],["class","icon-top-1",4,"ngIf"],["class","icon-top-2",4,"ngIf"],["class","icon-top-3",4,"ngIf"],[1,"text-slate-600","mt-0.5","text-xs","font-medium",3,"ngClass"],[1,"icon-top-1"],["width","40","height","40","viewBox","0 0 40 40","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17.9929 1.16429C19.2341 0.444284 20.7659 0.444285 22.0071 1.16429L28.65 5.01776L35.3087 8.84395C36.5528 9.55886 37.3187 10.8854 37.3158 12.3203L37.3 20L37.3158 27.6797C37.3187 29.1146 36.5528 30.4411 35.3087 31.1561L28.65 34.9822L22.0071 38.8357C20.7659 39.5557 19.2341 39.5557 17.9929 38.8357L11.35 34.9822L4.69135 31.1561C3.4472 30.4411 2.68131 29.1146 2.68425 27.6797L2.7 20L2.68425 12.3203C2.68131 10.8854 3.4472 9.55886 4.69135 8.84395L11.35 5.01776L17.9929 1.16429Z","fill","#FFD54B"],["clip-path","url(#clip0_199_17919)"],["d","M20 15L23.3333 20L27.5 16.6667L25.8333 25H14.1667L12.5 16.6667L16.6667 20L20 15Z","fill","white","stroke","white","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_199_17919"],["width","20","height","20","fill","white","transform","translate(10 10)"],[1,"icon-top-2"],["d","M17.9929 1.16429C19.2341 0.444284 20.7659 0.444285 22.0071 1.16429L28.65 5.01776L35.3087 8.84395C36.5528 9.55886 37.3187 10.8854 37.3158 12.3203L37.3 20L37.3158 27.6797C37.3187 29.1146 36.5528 30.4411 35.3087 31.1561L28.65 34.9822L22.0071 38.8357C20.7659 39.5557 19.2341 39.5557 17.9929 38.8357L11.35 34.9822L4.69135 31.1561C3.4472 30.4411 2.68131 29.1146 2.68425 27.6797L2.7 20L2.68425 12.3203C2.68131 10.8854 3.4472 9.55886 4.69135 8.84395L11.35 5.01776L17.9929 1.16429Z","fill","#E1E1E2"],["clip-path","url(#clip0_199_17945)"],["id","clip0_199_17945"],[1,"icon-top-3"],["d","M17.9929 1.16429C19.2341 0.444284 20.7659 0.444285 22.0071 1.16429L28.65 5.01776L35.3087 8.84395C36.5528 9.55886 37.3187 10.8854 37.3158 12.3203L37.3 20L37.3158 27.6797C37.3187 29.1146 36.5528 30.4411 35.3087 31.1561L28.65 34.9822L22.0071 38.8357C20.7659 39.5557 19.2341 39.5557 17.9929 38.8357L11.35 34.9822L4.69135 31.1561C3.4472 30.4411 2.68131 29.1146 2.68425 27.6797L2.7 20L2.68425 12.3203C2.68131 10.8854 3.4472 9.55886 4.69135 8.84395L11.35 5.01776L17.9929 1.16429Z","fill","#F6B191"],["clip-path","url(#clip0_199_17968)"],["id","clip0_199_17968"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","82","height","90","viewBox","0 0 82 90","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M29.1186 60.3066C29.0404 60.8599 29 61.4252 29 62C29 68.6274 34.3726 74 41 74C47.6274 74 53 68.6274 53 62C53 61.4252 52.9596 60.8599 52.8815 60.3066H82V87C82 88.6569 80.6569 90 79 90H3C1.34315 90 0 88.6569 0 87V60.3066H29.1186Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M54 60C54 67.1797 48.1797 73 41 73C33.8203 73 28 67.1797 28 60C28 59.7674 28.0061 59.5362 28.0182 59.3066H0L9.56044 31.0389C9.9726 29.8202 11.1159 29 12.4023 29H69.5977C70.8842 29 72.0274 29.8202 72.4396 31.0389L82 59.3066H53.9818C53.9939 59.5362 54 59.7674 54 60Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M52.0976 60.9545C52.0976 66.5025 47.129 72 41 72C34.871 72 29.9024 66.5025 29.9024 60.9545C29.9024 60.7748 29.9077 59.5962 29.918 59.4188H9L17.1614 39.5755C17.5132 38.6338 18.4891 38 19.5873 38H62.4127C63.5109 38 64.4868 38.6338 64.8387 39.5755L73 59.4188H52.082C52.0923 59.5962 52.0976 60.7748 52.0976 60.9545Z","fill","#E8F0FE"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 59.5123V86C1.25 86.9665 2.0335 87.75 3 87.75H79C79.9665 87.75 80.75 86.9665 80.75 86V59.5123L71.2554 31.4393C71.015 30.7285 70.3481 30.25 69.5977 30.25H12.4023C11.6519 30.25 10.985 30.7285 10.7446 31.4393L1.25 59.5123Z","stroke","#1F64E7","stroke-width","2.5"],["d","M14 59C17.9366 59 22.1849 59 26.7449 59C28.6212 59 28.6212 60.3186 28.6212 61C28.6212 67.6274 34.1174 73 40.8973 73C47.6772 73 53.1734 67.6274 53.1734 61C53.1734 60.3186 53.1734 59 55.0496 59H80M6.57373 59H9H6.57373Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M66.0996 6.30273L55 18.7559M40.0996 2V18.7559V2ZM14 6.30273L25.0996 18.7559L14 6.30273Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"]],template:function(n,r){if(1&n&&(t.YNc(0,vi,1,0,"azt-loading-effect",0),t.YNc(1,Ai,3,2,"ng-template",null,1,t.W1O)),2&n){const d=t.MAs(2);t.Q6J("ngIf",r.statusObj.loading)("ngIfElse",d)}},dependencies:[Q.mk,Q.sg,Q.O5,ht.l,An.g,S.JV],styles:[".leaderboard[_ngcontent-%COMP%]{background:#dae3fe;border-radius:30px}.rounded-25px[_ngcontent-%COMP%]{border-radius:25px}"]}),a})();const Mn=function(a){return{"text-white bg-primary":a}},wn=function(a){return[a]};function yo(a,g){if(1&a&&(t.TgZ(0,"a",25),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",26),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&a){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(7,Mn,3===n.tabActive))("routerLink",t.VKq(9,wn,t.lcZ(1,3,"/admin/student/classroom-details/"+n.classroomId+"/3"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_student_educational_program"))}}function Oo(a,g){if(1&a&&(t.TgZ(0,"a",27),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",8),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&a){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(7,Mn,4===n.tabActive))("routerLink",t.VKq(9,wn,t.lcZ(1,3,"/admin/student/classroom-details/"+n.classroomId+"/4"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_student_grade_sheet"))}}function Wn(a,g){if(1&a&&(t.TgZ(0,"a",28),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",29),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&a){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(7,Mn,5===n.tabActive))("routerLink",t.VKq(9,wn,t.lcZ(1,3,"/admin/student/classroom-details/"+n.classroomId+"/5"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_azt_leaderboard"))}}function Zo(a,g){if(1&a&&(t.TgZ(0,"a",28),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",30),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&a){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(7,Mn,4===n.tabActive))("routerLink",t.VKq(9,wn,t.lcZ(1,3,"/business/message/classroom/"+n.classroomId))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_business_dashboard_business_messages"))}}function Si(a,g){if(1&a&&(t.TgZ(0,"div",20)(1,"div",21),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",20),t.YNc(5,yo,7,11,"a",22),t.ALo(6,"async"),t.ALo(7,"allowFeatureBusinessForUser"),t.YNc(8,Oo,7,11,"a",23),t.ALo(9,"async"),t.ALo(10,"allowFeatureBusinessForUser"),t.YNc(11,Wn,7,11,"a",24),t.ALo(12,"async"),t.ALo(13,"allowFeatureBusinessForUser"),t.YNc(14,Zo,7,11,"a",24),t.qZA()()),2&a){const n=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_student_extensions")," "),t.xp6(3),t.Q6J("ngIf",t.lcZ(6,7,t.Dn7(7,9,"","training_center_curriculum_in_classroom",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(9,13,t.Dn7(10,15,"","training_center_student_mark",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(12,19,t.Dn7(13,21,"","training_center_student_mark",!1))),t.xp6(3),t.Q6J("ngIf",n.businessChatService.ready)}}function aa(a,g){1&a&&(t.TgZ(0,"div",31),t._UZ(1,"app-student-list"),t.qZA())}function sa(a,g){1&a&&(t.TgZ(0,"div",32),t._UZ(1,"app-exam-exercises",33),t.qZA()),2&a&&(t.xp6(1),t.Q6J("isStudent",!1))}function Ii(a,g){if(1&a&&(t.TgZ(0,"div",34),t._UZ(1,"app-news-board",35),t.qZA()),2&a){const n=t.oxw();t.xp6(1),t.Q6J("classroomId",n.classroomId)("isStudent",!1)}}function ra(a,g){1&a&&(t.TgZ(0,"div",36),t._UZ(1,"app-educational-program",33),t.qZA()),2&a&&(t.xp6(1),t.Q6J("isStudent",!1))}function la(a,g){1&a&&(t.TgZ(0,"div",37),t._UZ(1,"app-grand-board",33),t.qZA()),2&a&&(t.xp6(1),t.Q6J("isStudent",!1))}function ji(a,g){1&a&&(t.TgZ(0,"div",38)(1,"div",39),t._UZ(2,"app-leaderboard",33),t.qZA()()),2&a&&(t.xp6(2),t.Q6J("isStudent",!1))}const $=function(a){return{"font-medium text-white bg-primary":a}};let Cs=(()=>{class a extends x.Q{getClassroomName(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(n=>{n&&n.success&&(this.classroomName=n.data?.obj?.name??"",this.setTitle())}))}setTitle(){0==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_student_list_title")+": "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_student_list_description",image:"lang_cms_test_image"})):1==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_document_list_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_document_list_description",image:"lang_cms_test_image"})):2==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_news_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_news_board_description",image:"lang_cms_test_image"})):3==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_program_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_program_description",image:"lang_cms_test_image"})):4==this.tabActive&&(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_mark_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_mark_board_description",image:"lang_cms_test_image"}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,l.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.tabActive=Number(this.commonService.getMyParam(this.activeRoute,"tabId")),this.classroomName?this.setTitle():this.getClassroomName()}));let n=this.commonService.getMyQueryParam("backto");this.backToLink=n&&""!=n?n:"/admin/student/manage-classroom/0"}constructor(n,r){super(),this.activeRoute=n,this.classroomService=r,this.backToLink="",this.tabActive=0,this.classroomId=0,this.classroomName="",this.headerTitle=""}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(rt.gz),t.Y36(xt.um))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-teacher-classroom-details"]],features:[t.qOj],decls:39,vars:54,consts:[[3,"headerBackToLink","headerTitle"],[1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-3","lg:col-span-2"],[1,"md:pr-3","pr-0","pt-5","md:border-r","border-slate-200","dark:border-darkmode-400"],["azt-track-service","class-list-details-DVvCIvEs15",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],[1,"w-4","h-4","mr-2","flex-none"],["name","user"],["azt-track-service","class-list-details-Kp8HMxHLJW",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","calendar-check"],["azt-track-service","class-list-details-Fqqucj0PCd",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","newspaper"],["class","mt-3",4,"ngIf"],[1,"col-span-12","md:col-span-9","lg:col-span-10"],[1,"mt-5","md:px-3"],["class","student-list",4,"ngIf"],["class","exam-exercises",4,"ngIf"],["class","news-board",4,"ngIf"],["class","educational-program",4,"ngIf"],["class","grand-board",4,"ngIf"],["class","leaderboard",4,"ngIf"],[1,"mt-3"],[1,"font-medium","uppercase"],["azt-track-service","class-list-details-BDKFcoR84En","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-d91Lw-r2PR8","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-BDKFcoR84En",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","library"],["azt-track-service","class-list-details-d91Lw-r2PR8",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],[1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","clipboard-list"],["name","mail"],[1,"student-list"],[1,"exam-exercises"],[3,"isStudent"],[1,"news-board"],[3,"classroomId","isStudent"],[1,"educational-program"],[1,"grand-board"],[1,"leaderboard"],[1,"mx-auto",2,"max-width","500px"]],template:function(n,r){1&n&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.ALo(6,"navigationLocalize"),t.TgZ(7,"div",5),t._UZ(8,"lucide-icon",6),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"a",7),t.ALo(13,"navigationLocalize"),t.TgZ(14,"div",5),t._UZ(15,"lucide-icon",8),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()(),t.TgZ(19,"a",9),t.ALo(20,"navigationLocalize"),t.TgZ(21,"div",5),t._UZ(22,"lucide-icon",10),t.qZA(),t.TgZ(23,"span"),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()()(),t.YNc(26,Si,15,25,"div",11),t.ALo(27,"async"),t.ALo(28,"allowFeatureBusinessForUser"),t.ALo(29,"async"),t.ALo(30,"allowFeatureBusinessForUser"),t.qZA()(),t.TgZ(31,"div",12)(32,"div",13),t.YNc(33,aa,2,0,"div",14),t.YNc(34,sa,2,1,"div",15),t.YNc(35,Ii,2,2,"div",16),t.YNc(36,ra,2,1,"div",17),t.YNc(37,la,2,1,"div",18),t.YNc(38,ji,3,1,"div",19),t.qZA()()()()),2&n&&(t.Q6J("headerBackToLink",r.backToLink)("headerTitle",r.classroomName),t.xp6(5),t.Q6J("ngClass",t.VKq(42,Mn,0===r.tabActive))("routerLink",t.VKq(44,wn,t.lcZ(6,18,"/admin/student/classroom-details/"+r.classroomId+"/0"))),t.xp6(5),t.Oqu(t.lcZ(11,20,"lang_cms_classroom_student_list_title")),t.xp6(2),t.Q6J("ngClass",t.VKq(46,Mn,1===r.tabActive))("routerLink",t.VKq(48,wn,t.lcZ(13,22,"/admin/student/classroom-details/"+r.classroomId+"/1"))),t.xp6(5),t.Oqu(t.lcZ(18,24,"lang_document_exam_exercises")),t.xp6(2),t.Q6J("ngClass",t.VKq(50,$,2===r.tabActive))("routerLink",t.VKq(52,wn,t.lcZ(20,26,"/admin/student/classroom-details/"+r.classroomId+"/2"))),t.xp6(5),t.Oqu(t.lcZ(25,28,"lang_student_news_board")),t.xp6(2),t.Q6J("ngIf",t.lcZ(27,30,t.Dn7(28,32,"","training_center_curriculum_in_classroom",!1))||t.lcZ(29,36,t.Dn7(30,38,"","training_center_student_mark",!1))),t.xp6(7),t.Q6J("ngIf",0===r.tabActive),t.xp6(1),t.Q6J("ngIf",1===r.tabActive),t.xp6(1),t.Q6J("ngIf",2===r.tabActive),t.xp6(1),t.Q6J("ngIf",3===r.tabActive),t.xp6(1),t.Q6J("ngIf",4===r.tabActive),t.xp6(1),t.Q6J("ngIf",5===r.tabActive))},dependencies:[rt.rH,Q.mk,Q.O5,o._,Ct.Nh5,_t.y,Qe,an.Y,sn.A,Re,ai,Q.Ov,S.Jy,S.JV,S.J8],encapsulation:2}),a})();var wt=b(6050),yn=b(83306),$e=b(51261);function Ln(a,g){1&a&&t._UZ(0,"azt-loading-ui",16)}function Bn(a,g){1&a&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Xn(a,g){1&a&&t._UZ(0,"azt-loading-effect")}function si(a,g){1&a&&(t.TgZ(0,"span"),t._uU(1,"/"),t.qZA())}function to(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,si,2,0,"span",32),t._uU(3),t.qZA()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.lastMonthPaid,""),t.xp6(1),t.Q6J("ngIf",n.lastMonthPaid),t.xp6(1),t.hij("",n.lastYearPaid," ")}}function eo(a,g){1&a&&(t.TgZ(0,"span",48),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_hoc_thu")," "))}function Ni(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"tr")(1,"td",27),t.NdJ("click",function(){const T=t.CHM(n).$implicit,D=t.oxw(3);return t.KtG(D.goToProfile(T.classroomId,T.id))}),t._UZ(2,"azt-student-info-box",28),t.qZA(),t.TgZ(3,"td",29),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(6,"td",30)(7,"div",31),t.YNc(8,to,4,3,"span",32),t.YNc(9,eo,3,3,"span",33),t.TgZ(10,"button",34),t.NdJ("click",function(){const T=t.CHM(n).$implicit,D=t.oxw(3);return t.KtG(D.openDialogCheckboxMonth(T))}),t.ALo(11,"mytranslate"),t.ALo(12,"mytranslate"),t.O4$(),t.TgZ(13,"svg",35),t._UZ(14,"path",36)(15,"path",37)(16,"path",38)(17,"path",39)(18,"path",40)(19,"path",41),t.qZA()()()(),t.kcU(),t.TgZ(20,"td",42)(21,"div",43),t._uU(22),t.ALo(23,"mytranslate"),t.ALo(24,"mytranslate"),t.qZA()(),t.TgZ(25,"td",42)(26,"div",43),t._uU(27),t.ALo(28,"mytranslate"),t.ALo(29,"mytranslate"),t.qZA()(),t.TgZ(30,"td",30)(31,"div",44)(32,"input",45),t.NdJ("change",function(d){const D=t.CHM(n).$implicit,Y=t.oxw(3);return t.KtG(Y.setAttendance("receivedDocument",D.id,d))}),t.qZA()()(),t.TgZ(33,"td",30)(34,"div",44)(35,"input",46),t.NdJ("change",function(d){const D=t.CHM(n).$implicit,Y=t.oxw(3);return t.KtG(Y.setAttendance("absent",D.id,d))}),t.qZA()()(),t.TgZ(36,"td",30)(37,"textarea",47),t.NdJ("input",function(d){const D=t.CHM(n).$implicit,Y=t.oxw(3);return t.KtG(Y.setReasonAttendance(D.id,d))}),t.ALo(38,"mytranslate"),t.qZA()()()}if(2&a){const n=g.$implicit;let r,d;t.xp6(2),t.Q6J("name",n.fullName)("avatar",n.avatar)("gender",n.gender)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt),t.xp6(2),t.Oqu(n.identificationNumber?t.xi3(5,27,n.identificationNumber,6):""),t.xp6(4),t.Q6J("ngIf",n.lastMonthPaid||n.lastYearPaid),t.xp6(1),t.Q6J("ngIf",!n.lastMonthPaid||!n.lastYearPaid),t.xp6(1),t.hYB("matTooltip","",t.lcZ(11,30,"lang_cms_auto_gen_test_select")," ",t.lcZ(12,32,"lang_auto_month"),""),t.xp6(10),t.Q6J("ngClass",n.totalRemainHomework>0||n.noHomework?"darkgray":n.finishHomework?"yellowgreen":"red"),t.xp6(2),t.hij(" ",t.lcZ(23,34,n.totalRemainHomework>0?t.lcZ(24,36,"lang_auto_chua_hoan_thanh")+" ("+n.totalRemainHomework.toString()+")":n.noHomework?"lang_auto_hoan_thanh":n.finishHomework?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.xp6(3),t.Q6J("ngClass",n.totalRemainExam>0||n.noExam?"darkgray":n.finishExam?"yellowgreen":"red"),t.xp6(2),t.hij(" ",t.lcZ(28,38,n.totalRemainExam>0?t.lcZ(29,40,"lang_auto_chua_hoan_thanh")+" ("+n.totalRemainExam.toString()+")":n.noExam?"lang_auto_hoan_thanh":n.finishExam?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.xp6(5),t.Q6J("id","received_document_"+n.id)("checked",null!==(r=null==n.attendance?null:n.attendance.receivedDocument)&&void 0!==r?r:0),t.xp6(3),t.Q6J("id","absent_"+n.id)("checked",null!==(d=null==n.attendance?null:n.attendance.absent)&&void 0!==d?d:0),t.xp6(2),t.s9C("placeholder",t.lcZ(38,42,"lang_business_reason_for_leave")),t.Q6J("id","attendance_reason_"+n.id)("disabled",!(null!=n.attendance&&n.attendance.absent))("value",null==n.attendance?null:n.attendance.reason)}}function ca(a,g){if(1&a&&(t.TgZ(0,"div",19)(1,"table",20)(2,"thead")(3,"tr")(4,"th",21),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"th",22),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"th",23),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"th",24),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.TgZ(17,"th",25),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"th",23)(21,"div"),t._uU(22),t.ALo(23,"mytranslate"),t.qZA(),t._uU(24),t.ALo(25,"mytranslate"),t.qZA(),t.TgZ(26,"th",23),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"th",23),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()(),t.TgZ(32,"tbody"),t.YNc(33,Ni,39,44,"tr",26),t.qZA()()()),2&a){const n=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,11,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(9,13,"lang_auto_so_bao_danh")),t.xp6(3),t.AsE("",t.lcZ(12,15,"lang_test_market_withdraw_time")," ",t.lcZ(13,17,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.xp6(4),t.Oqu(t.lcZ(16,19,"lang_student_frontend_dashboard_homework")),t.xp6(3),t.Oqu(t.lcZ(19,21,"lang_auto_only_de_thi")),t.xp6(4),t.hij(" ",t.lcZ(23,23,"lang_core_da_phat")," "),t.xp6(2),t.hij(" ",t.lcZ(25,25,"lang_auto_tai_lieu")," "),t.xp6(3),t.hij(" ",t.lcZ(28,27,"lang_business_vang_mat")," "),t.xp6(3),t.Oqu(t.lcZ(31,29,"lang_auto_ly_do")),t.xp6(3),t.Q6J("ngForOf",n.listStudent)}}function Ke(a,g){if(1&a&&t.YNc(0,ca,34,31,"div",18),2&a){const n=t.oxw();t.Q6J("ngIf",n.listStudent.length>0)}}function ge(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"azt-paging",52),t.NdJ("goToPaginationPage",function(d){t.CHM(n);const T=t.oxw(2);return t.KtG(T.setPageStudent(d))}),t.qZA()}if(2&a){const n=t.oxw(2);t.Q6J("pageObj",n.pageObj)}}function ri(a,g){if(1&a&&(t.TgZ(0,"div",49),t._UZ(1,"div"),t.YNc(2,ge,1,1,"azt-paging",50),t.TgZ(3,"div",51),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&a){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.totalStudent>n.pageObj.pageSize),t.xp6(2),t.AsE(" ",n.totalStudent," ",t.lcZ(5,3,"lang_notify_list_students")," ")}}let li=(()=>{class a extends x.Q{openDialogCheckboxMonth(n){this.sAztDialogService.open(Ye,{width:"454px",restoreFocus:!1,data:n.id}).afterClosed().subscribe(r=>{r&&this.getListStudent()})}goToProfile(n,r){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+r,"?backto="+encodeURIComponent("/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(n){var r="/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,d="?page="+n+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(r,d),this.initStatusObj(),this.pageObj.setPageNumber(n),this.getListStudent()}onSearchBox(n){this.searchContentObj=n,this.setPageStudent(1)}setAttendance(n,r,d){var T=d.target,D=T.checked?1:0,Y=this.listStudent.find(It=>It.id==r);if(Y){var it=this.listAttendanceNew.find(me=>me.id==r);let It=document.getElementById("attendance_reason_"+r);"absent"==n?(Y.attendance.absent=D,T.checked?Y.attendance.receivedDocument=0:(Y.attendance.reason="",It.value="")):(Y.attendance.receivedDocument=D,T.checked&&(Y.attendance.absent=0,Y.attendance.reason="",It.value="")),it?(it.absent=Y.attendance?.absent,it.receivedDocument=Y.attendance?.receivedDocument,it.reason=It.value):this.listAttendanceNew.push({id:r,absent:Y.attendance?.absent,receivedDocument:Y.attendance?.receivedDocument,reason:It.value})}}setReasonAttendance(n,r){var d=r.target,T=this.listStudent.find(Y=>Y.id==n);if(T){var D=this.listAttendanceNew.find(Y=>Y.id==n);D?D.reason=d.value:this.listAttendanceNew.push({id:n,absent:T.attendance?.absent,receivedDocument:T.attendance?.receivedDocument,reason:d.value})}}saveAttendance(){this.isSave=!0;let n={programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listAttendanceNew};0==this.listAttendanceNew.length&&(this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),this.isSave=!1),this.waitDestroy(this.studentService.apiStudentsAttendancesPost(n).subscribe(r=>{r.success?(this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!0,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(r=>{r?(r.list.forEach(d=>{d.attendance||(d.attendance={id:0,programId:this.programId,sessionId:this.sessionId,classroomId:this.classroomId,studentId:d.id,absent:0,permission:0,reason:""})},r.list),this.listStudent=r.list,this.totalStudent=r.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,l.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let n=this.commonService.getMyQueryParam("backto");this.backToLink=n??`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent(),super.ngOnInit()}constructor(n,r,d){super(),this.activeRoute=n,this.studentService=r,this.sAztDialogService=d,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.listAttendanceNew=[],this.searchContentObj=new dt.h,this.pageObj=new wt.m(20)}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(rt.gz),t.Y36(fn.V),t.Y36(ye.C))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-attendance-student"]],features:[t.qOj],decls:22,vars:19,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","searchContentObj","placeholder","onSearch"],[3,"colorBackground"],["azt-track-service","attendance-student-Tj_9J-QZu",1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","flex justify-between items-center mt-5",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"mt-10","text-center"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[1,"text-center","whitespace-nowrap","px-3"],[1,"text-center","whitespace-nowrap","px-2"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[4,"ngIf"],["class","darkgray",4,"ngIf"],["azt-track-service","attendance-student-j17JbU3oZS",1,"w-5","h-5","inline-block","ml-1","zoom-in",2,"margin-top","-2px","color","gray",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-calendar-search"],["d","M21 12V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h7.5"],["d","M16 2v4"],["d","M8 2v4"],["d","M3 10h18"],["d","M18 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6v0Z"],["d","m22 22-1.5-1.5"],[1,"text-center",3,"ngClass"],[1,"mx-auto",2,"width","max-content"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"id","checked","change"],["type","checkbox",1,"show-code","form-check-input","form-check-input-absent",3,"id","checked","change"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value","input"],[1,"darkgray"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"pageObj","goToPaginationPage"]],template:function(n,r){if(1&n&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.NdJ("onSearch",function(T){return r.onSearchBox(T.searchObj)}),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"flexed-on-the-top",8)(12,"button",9),t.NdJ("click",function(){return r.saveAttendance()}),t.YNc(13,Ln,1,0,"azt-loading-ui",10),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()()(),t.TgZ(16,"div",11),t.YNc(17,Bn,3,3,"div",12),t.YNc(18,Xn,1,0,"azt-loading-effect",13),t.YNc(19,Ke,1,1,"ng-template",null,14,t.W1O),t.qZA(),t.YNc(21,ri,6,5,"div",15),t.qZA()),2&n){const d=t.MAs(20);t.Q6J("headerBackToLink",r.backToLink),t.xp6(4),t.Oqu(t.lcZ(5,13,"lang_student_attendance_student")),t.xp6(5),t.Q6J("isServerSearch",!0)("searchContentObj",r.searchContentObj)("placeholder",t.lcZ(10,15,"lang_core_tim_theo_ten_phone_email")),t.xp6(2),t.Q6J("colorBackground","#f0f8ffe8"),t.xp6(1),t.Q6J("disabled",r.isSave),t.xp6(1),t.Q6J("ngIf",r.isSave),t.xp6(1),t.hij(" ",t.lcZ(15,17,"lang_auto_luu")," "),t.xp6(3),t.Q6J("ngIf",0==r.listStudent.length&&0==r.totalStudent),t.xp6(1),t.Q6J("ngIf",r.statusObj.loading)("ngIfElse",d),t.xp6(3),t.Q6J("ngIf",r.totalStudent>0)}},dependencies:[Q.mk,Q.sg,Q.O5,bt.gM,ht.l,yn.L,ft.n,$e.s,vt.W,Qn.a,o._,S.JV,S.gw],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),a})();var Mi=b(36294);function Dn(a,g){1&a&&t._UZ(0,"azt-loading-effect")}function ci(a,g){1&a&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_list_null")," "))}const mi=function(a){return{width:a}};function ma(a,g){if(1&a&&(t.TgZ(0,"div",23)(1,"div",24)(2,"div",25,26),t._UZ(4,"img",27),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",28)(7,"div",29),t._uU(8),t.qZA(),t.TgZ(9,"div",30),t._uU(10),t.qZA()()()()),2&a){const n=g.$implicit,r=t.MAs(3);t.xp6(4),t.s9C("src",""!=n.iconLink&&n.iconLink?n.iconLink:"https://mockup.textandtool.com/images/diendanh/u4711.svg",t.LSH),t.s9C("alt",t.lcZ(5,6,"lang_core_anh_sach")),t.xp6(2),t.Q6J("ngStyle",t.VKq(8,mi,"calc(100% -  "+(r.offsetWidth+12)+"px)")),t.xp6(1),t.s9C("matTooltip",n.name),t.xp6(1),t.Oqu(n.name),t.xp6(2),t.Oqu(n.description)}}function _a(a,g){1&a&&(t.TgZ(0,"div",31),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function da(a,g){if(1&a&&(t.TgZ(0,"th",38)(1,"div",39),t._uU(2),t.qZA()()),2&a){const n=g.$implicit;t.xp6(1),t.s9C("matTooltip",n.name),t.xp6(1),t.hij(" ",n.name," ")}}const On=function(){return[]};function ua(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"td",44)(1,"div",45)(2,"input",46),t.NdJ("change",function(d){t.CHM(n);const T=t.oxw().$implicit,D=t.oxw(3);return t.KtG(D.setStatusBook(T,d))}),t.qZA()()()}if(2&a){const n=g.$implicit,r=t.oxw().$implicit,d=t.oxw(3);let T;t.xp6(2),t.MGl("id","input-book-",n.id,""),t.Q6J("value",n.id)("checked",d.checkStatusDistribute(n,null!==(T=r.books)&&void 0!==T?T:t.DdM(3,On)))}}function pa(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"tr")(1,"td",40),t.NdJ("click",function(){const T=t.CHM(n).$implicit,D=t.oxw(3);return t.KtG(D.goToProfile(T.classroomId,T.id))}),t._UZ(2,"azt-student-info-box",41),t.qZA(),t.TgZ(3,"td",42),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.YNc(6,ua,3,4,"td",43),t.qZA()}if(2&a){const n=g.$implicit,r=t.oxw(3);let d;t.xp6(2),t.Q6J("name",n.fullName)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("avatar",n.avatar)("gender",n.gender)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt),t.xp6(2),t.Oqu(n.identificationNumber?t.xi3(5,12,n.identificationNumber,6):""),t.xp6(2),t.Q6J("ngForOf",null!==(d=null==r.listBook?null:r.listBook.list)&&void 0!==d?d:t.DdM(15,On))}}function ga(a,g){if(1&a&&(t.TgZ(0,"div",32)(1,"drag-scroll")(2,"table",33)(3,"thead")(4,"tr")(5,"th",34),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"th",35),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.YNc(11,da,3,2,"th",36),t.qZA()(),t.TgZ(12,"tbody"),t.YNc(13,pa,7,16,"tr",37),t.qZA()()()()),2&a){const n=t.oxw(2);let r;t.xp6(6),t.Oqu(t.lcZ(7,4,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(10,6,"lang_auto_so_bao_danh")),t.xp6(2),t.Q6J("ngForOf",null!==(r=null==n.listBook?null:n.listBook.list)&&void 0!==r?r:t.DdM(8,On)),t.xp6(2),t.Q6J("ngForOf",n.listStudent)}}function ha(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",47),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",48),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(2);return t.KtG(d.search(d.searchContentObj))}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_core_not_found_student"),"... "),t.xp6(3),t.Oqu(t.lcZ(5,4,"lang_powerpoint_frontend_chart_back")))}function Li(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"azt-paging",16),t.NdJ("goToPaginationPage",function(d){t.CHM(n);const T=t.oxw(3);return t.KtG(T.setPageStudent(d))}),t.qZA()}if(2&a){const n=t.oxw(3);t.Q6J("pageObj",n.pageStudentObj)}}function fa(a,g){if(1&a&&(t.TgZ(0,"div",49),t._UZ(1,"div"),t.YNc(2,Li,1,1,"azt-paging",50),t.TgZ(3,"div",51),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&a){const n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",n.totalStudent>n.pageStudentObj.pageSize),t.xp6(2),t.AsE(" ",n.totalStudent," ",t.lcZ(5,3,"lang_notify_list_students")," ")}}function xa(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",10)(1,"div",11),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,ci,3,3,"div",12),t.TgZ(5,"div",13),t.YNc(6,ma,11,10,"div",14),t.qZA(),t.TgZ(7,"div",15)(8,"azt-paging",16),t.NdJ("goToPaginationPage",function(d){t.CHM(n);const T=t.oxw();return t.KtG(T.setPageBook(d))}),t.qZA()()(),t.TgZ(9,"div",17),t.YNc(10,_a,3,3,"div",18),t.YNc(11,ga,14,9,"div",19),t.YNc(12,ha,6,6,"div",20),t.qZA(),t.YNc(13,fa,6,5,"div",21)}if(2&a){const n=t.oxw();let r;t.xp6(2),t.Oqu(t.lcZ(3,8,"lang_core_thong_tin_sach")),t.xp6(2),t.Q6J("ngIf",!(null!=n.listBook&&n.listBook.list&&0!=(null==n.listBook?null:n.listBook.total)||""!=n.searchContentObj.searchContent)),t.xp6(2),t.Q6J("ngForOf",null!==(r=null==n.listBook?null:n.listBook.list)&&void 0!==r?r:t.DdM(10,On)),t.xp6(2),t.Q6J("pageObj",n.pageBookObj),t.xp6(2),t.Q6J("ngIf",0==n.listStudent.length&&""==n.searchContentObj.searchContent),t.xp6(1),t.Q6J("ngIf",n.listStudent.length>0),t.xp6(1),t.Q6J("ngIf",0==n.listStudent.length&&""!=n.searchContentObj.searchContent),t.xp6(1),t.Q6J("ngIf",n.totalStudent>0)}}let ba=(()=>{class a extends x.Q{setPageStudent(n){var r="/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,d="?page="+n+"&backto="+encodeURIComponent(this.backLink);this.myNavigationWithQueryString(r,d),this.initStatusObj(),this.pageStudentObj.setPageNumber(n),this.getListStudent()}goToProfile(n,r){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+r,"?backto="+encodeURIComponent("/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}search(n){this.searchContentObj=n,this.setPageStudent(1)}setPageBook(n){this.pageBookObj.setPageNumber(n),this.getBooks()}checkStatusDistribute(n,r){for(let d=0;d<r.length;d++)if(r[d].bookId==n.id)return!0;return!1}getBooks(){this.waitDestroy(this.bookService.apiBooksListPost({page:this.pageBookObj.page,size:this.pageBookObj.pageSize,programId:this.programId}).subscribe(r=>{r?(this.listBook=r,this.pageBookObj.setTotalPages(this.listBook.total??0),this.getListStudent()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_sach",!0)}))}setStatusBook(n,r){var d=r.target;if(d.checked){var T={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:n.id,bookId:Number(d.value),activate:d.checked};this.waitDestroy(this.studentService.apiStudentsBooksPatch(T).subscribe(Y=>{Y.success||(document.getElementById("input-book-"+d.value).checked=!d.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}else{var D={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:n.id,bookId:Number(d.value)};this.waitDestroy(this.studentService.apiStudentsBooksDeletePost(D).subscribe(Y=>{Y.success||(document.getElementById("input-book-"+d.value).checked=!d.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageStudentObj.page,size:this.pageStudentObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!0,getMark:!0,getPayment:!1,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(r=>{r?(this.listStudent=r.list,this.totalStudent=r.total??0,this.pageStudentObj.setTotalPages(this.totalStudent),this.stopStatusObj(),this.searchContentObj.setLoading(!1)):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.searchContentObj.setLoading(!1))}))}ngOnInit(){(0,l.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageStudentObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let n=this.commonService.getMyQueryParam("backto");this.backLink=n??`/admin/student/classroom-details/${this.classroomId}/3`,this.getBooks(),super.ngOnInit()}constructor(n,r,d){super(),this.bookService=n,this.studentService=r,this.activeRoute=d,this.backLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.totalStudent=0,this.pageStudent=1,this.listStudent=[],this.searchContentObj=new dt.h,this.pageBookObj=new wt.m(20),this.pageStudentObj=new wt.m(20)}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(Mi.Z),t.Y36(fn.V),t.Y36(rt.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-distribute-documents"]],features:[t.qOj],decls:14,vars:11,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","mt-3"],[1,"text-base","font-medium","mb-2"],["class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-3"],[3,"pageObj","goToPaginationPage"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%",4,"ngIf"],["class","flex justify-center mt-2",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4"],[1,"flex","w-70","box-book"],[1,"box-image"],["imageBook",""],["id","blah",3,"src","alt"],[1,"ml-3",3,"ngStyle"],[1,"text-sm","font-medium","truncate",3,"matTooltip"],[1,"scroll"],[1,"mt-10","text-center"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center whitespace-nowrap","style","max-width: 100px !important",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-center","whitespace-nowrap",2,"max-width","100px !important"],[1,"truncate",3,"matTooltip"],[1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input","mr-1",3,"id","value","checked","change"],[1,"flex","justify-center","mt-2"],[1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"]],template:function(n,r){if(1&n&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.NdJ("onSearch",function(T){return r.search(T.searchObj)}),t.ALo(10,"mytranslate"),t.qZA()()()()(),t.YNc(11,Dn,1,0,"azt-loading-effect",8),t.YNc(12,xa,14,11,"ng-template",null,9,t.W1O),t.qZA()),2&n){const d=t.MAs(13);t.Q6J("headerBackToLink",r.backLink),t.xp6(4),t.Oqu(t.lcZ(5,7,"lang_student_distribute_books")),t.xp6(5),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",r.searchContentObj),t.xp6(2),t.Q6J("ngIf",r.statusObj.loading)("ngIfElse",d)}},dependencies:[Q.sg,Q.O5,Q.PC,bt.gM,ht.l,yn.L,vt.W,Qn.a,o._,ce.HU,ce.$Z,S.JV,S.gw],styles:[".add-image-label[_ngcontent-%COMP%]{background:skyblue;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;left:17px;font-size:10px;text-align:center;border-radius:2px}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:12px}.textarea-description[_ngcontent-%COMP%]{height:69px;max-height:70px;border-radius:5px;font-size:12px}.box-image[_ngcontent-%COMP%]{height:102px;width:76px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:72px;max-height:98px;margin:auto}.box-book[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:5px;padding:.5rem;height:118px;min-width:300px}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.scroll[_ngcontent-%COMP%]{overflow:auto;max-height:78px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px;width:8px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:darkgray}"]}),a})();var va=b(9400);let Ta=(()=>{class a extends x.Q{ngOnInit(){(0,l.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id"));let n=this.commonService.getMyQueryParam("studentId"),r=this.commonService.getMyQueryParam("backTo");this.backToLink=n?"/admin/student/classroom-details/"+this.classroomId+"/4":r||"/admin/student/classroom-details/"+this.classroomId+"/3"}),super.ngOnInit()}constructor(n){super(),this.activeRoute=n,this.backToLink="",this.isShowData=!1,this.classroomId=0,this.programId=0,this.sessionId=0}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(rt.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-enter-score"]],features:[t.qOj],decls:2,vars:6,consts:[[3,"headerBackToLink"],[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(n,r){1&n&&(t.TgZ(0,"teacher-layout",0),t._UZ(1,"app-table-score",1),t.qZA()),2&n&&(t.Q6J("headerBackToLink",r.backToLink),t.xp6(1),t.Q6J("isStudent",!1)("screenType","ENTER_SCORE")("classroomId",r.classroomId)("programId",r.programId)("sessionId",r.sessionId))},dependencies:[o._,va.B],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),a})();var Ca=b(9345),Zn=b(75470),Ao=b(87466),Di=b(98525),Ei=b(67679);function no(a,g){1&a&&(t.TgZ(0,"div",33),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}function ka(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const n=t.oxw(2);t.xp6(1),t.hij("- ",n.selectedYearValue+1,"")}}function wa(a,g){if(1&a&&(t.TgZ(0,"mat-option",34),t._uU(1),t.YNc(2,ka,2,1,"span",35),t.qZA()),2&a){const n=g.$implicit,r=t.oxw();t.Q6J("value",n),t.xp6(1),t.hij(" ",n," "),t.xp6(1),t.Q6J("ngIf",r.selectedYearValue==n)}}function ya(a,g){1&a&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" *",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_school_year"),". "))}function Oa(a,g){if(1&a&&(t.TgZ(0,"span",41),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.groupObj.name))}}function Za(a,g){if(1&a&&(t.TgZ(0,"span",42),t.ALo(1,"mytranslate"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&a){const n=t.oxw().$implicit;t.s9C("matTooltip",t.lcZ(1,2,n.groupObj.name)),t.xp6(2),t.Oqu(t.lcZ(3,4,n.groupObj.name))}}function Aa(a,g){if(1&a&&(t.ynx(0),t.TgZ(1,"div",37)(2,"mat-radio-button",38),t.YNc(3,Oa,3,3,"span",39),t.ALo(4,"mytranslate"),t.YNc(5,Za,4,6,"span",40),t.ALo(6,"mytranslate"),t.qZA()(),t.BQk()),2&a){const n=g.$implicit;t.xp6(2),t.Q6J("value",n.groupObj.id),t.xp6(1),t.Q6J("ngIf",n.groupObj.name&&t.lcZ(4,3,n.groupObj.name).length<15),t.xp6(2),t.Q6J("ngIf",n.groupObj.name&&t.lcZ(6,5,n.groupObj.name).length>=15)}}function Sa(a,g){1&a&&(t.TgZ(0,"div",43),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_name_group")," "))}function Ia(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"a",44),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.isShowCreateGroupOfClassroomOfClassroomBox(!0))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_+_them_nhom")," "))}function ja(a,g){1&a&&(t._UZ(0,"input",45,46),t.ALo(2,"mytranslate")),2&a&&t.s9C("placeholder",t.lcZ(2,1,"lang_auto_ten_nhom_vd_khoi_1_khoi_2"))}function Na(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",47)(1,"button",48),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.createNewGroupOfClassroom())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",49),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.isShowCreateGroupOfClassroomOfClassroomBox(!1))}),t.O4$(),t.TgZ(5,"svg",50),t._UZ(6,"line",51)(7,"line",52),t.qZA()()()}if(2&a){const n=t.oxw();t.xp6(1),t.Q6J("disabled",n.form.controls.nameGroup.errors),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_auto_tao_nhom")," ")}}function Ma(a,g){1&a&&(t.TgZ(0,"div",53),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" *",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_enter_name_group"),". "))}function La(a,g){1&a&&(t.TgZ(0,"span",56),t._UZ(1,"azt-loading-ui"),t.qZA())}function Da(a,g){if(1&a){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",54),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.saveClassroomObj(!1))}),t.YNc(2,La,2,0,"span",55),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&a){const n=t.oxw();t.xp6(1),t.Q6J("disabled",n.statusObj.loading||n.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading&&"save"==n.activeButton),t.xp6(1),t.hij(" ",t.lcZ(4,3,"lang_button_save")," ")}}function Ea(a,g){1&a&&(t.TgZ(0,"span",56),t._UZ(1,"azt-loading-ui"),t.qZA())}function Pa(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.updateClassroomObj())}),t.YNc(1,Ea,2,0,"span",55),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()}if(2&a){const n=t.oxw();t.Q6J("disabled",n.statusObj.loading||n.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(3,3,"lang_button_update")," ")}}function Ua(a,g){1&a&&(t.TgZ(0,"span",56),t._UZ(1,"azt-loading-ui"),t.qZA())}function za(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.saveClassroomObj(!0))}),t.YNc(1,Ua,2,0,"span",55),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()}if(2&a){const n=t.oxw();t.Q6J("disabled",n.statusObj.loading||n.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading&&"save_and_close"==n.activeButton),t.xp6(1),t.hij(" ",t.lcZ(3,3,"lang_core_luu_va_dong")," ")}}let Pi=(()=>{class a extends Bt.e{closeDialog(){this.dialogRef.close(!!this.hasCreateNewGroup)}createNewGroupOfClassroom(){if(this.initStatusObj(),this.form.controls.nameGroup.valid){this.isShowCreateGroupOfClassroom=!1;let n={groupName:this.form.getRawValue().nameGroup};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomGroupPost(n).subscribe(r=>{1==r.success?(this.hasCreateNewGroup=!0,this.getClassroomObjs(),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):this.errorStatusObj(r.message??"",!0)}))}}isShowCreateGroupOfClassroomOfClassroomBox(n){this.form.controls.nameGroup.setValue(""),this.isShowCreateGroupOfClassroom=n}updateClassroomObj(){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;let r=this.form.getRawValue().group;r=r!=this.fakeGroupValue?r:void 0;let d={id:this.classroomObj?.id??0,classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:r??0};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomWithGroupPost(d).subscribe(T=>{1==T.success?T.data?.isDuplicatedClassroomName?this.errorStatusObj(T.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):(this.successStatusObj("lang_auto_sua_lop_hoc_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_auto_sua_lop_hoc_khong_thanh_cong",!0)}))}saveClassroomObj(n){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;this.initStatusObj(),this.activeButton=n?"save_and_close":"save";let d=this.form.getRawValue().group;d=d!=this.fakeGroupValue?d:void 0;let T={classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:d};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(T).subscribe(D=>{if(1==D.success)if(D.data?.isDuplicatedClassroomName)this.errorStatusObj(D.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0);else{this.successStatusObj("lang_auto_them_lop_thanh_cong",!0);let Y=D.data?.obj.id;n&&(this.dialogRef.close(),this.commonService.myNavigation(`/admin/student/classroom-details/${Y}/0`)),this.form.controls.nameClass.setValue(""),this.form.markAsPristine()}else this.errorStatusObj("lang_auto_them_lop_hoc_khong_thanh_cong",!0)}))}handleData(){let n=(new Date).getFullYear();for(let D=n-20;D<=n+40;D++)this.years.push(D);null!=this.classroomObj&&(null==this.classroomObj.year&&(this.classroomObj.year=""),null==this.classroomObj.classroomGroupId&&(this.classroomObj.classroomGroupId=this.fakeGroupValue));let r=this.classroomObj?this.classroomObj?.year?.split(" ")[0]:"";this.selectedYearValue=""!=r?parseInt(r??"",10):n;let d=this.classroomObj?this.classroomObj.classroomGroupId:this.fakeGroupValue;this.form=new K.cw({nameClass:new K.NI(this.classroomObj?this.classroomObj.name:"",{nonNullable:!0,validators:[K.kI.required]}),nameGroup:new K.NI("",{nonNullable:!0,validators:[K.kI.required]}),group:new K.NI(d,{nonNullable:!0,validators:[K.kI.required]}),year:new K.NI(this.selectedYearValue,{nonNullable:!0,validators:[K.kI.required]})})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(n=>{1==n.success?(this.activeClassroomData=n?.data?.activeClassroomData,this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){this.handleData(),this.getClassroomObjs()}constructor(n,r,d){super(d,r),this.classroomGroupService=n,this.dialogRef=r,this.data=d,this.selectedYearValue=0,this.isShowCreateGroupOfClassroom=!1,this.fakeGroupValue=-2,this.years=[],this.hasCreateNewGroup=!1,this.activeButton="save",this.classroomObj=d.classroomObj,this.form=new K.cw({nameClass:new K.NI("",{nonNullable:!0,validators:[K.kI.required]}),nameGroup:new K.NI("",{nonNullable:!0,validators:[K.kI.required]}),group:new K.NI(0,{nonNullable:!0,validators:[K.kI.required]}),year:new K.NI(0,{nonNullable:!0,validators:[K.kI.required]})})}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(Zn.c8),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-create-or-classroom"]],features:[t.qOj],decls:47,vars:34,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","nameClass",1,"form-label"],["type","text","id","nameClass","formControlName","nameClass",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","year",1,"form-label"],["appearance","outline"],["formControlName","year","id","year",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-xs text-danger mt-1","style","width: 100%; margin: auto",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["formControlName","group"],[1,"grid","grid-cols-10","gap-4","sm:gap-6","azt-create-update-classroom","px-3"],[4,"ngFor","ngForOf"],["class","text-danger text-danger mt-1",4,"ngIf"],[1,"p-3","flex","flex-col","md:flex-row","md:items-center"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN","class","m-1 btn-text-primary",3,"click",4,"ngIf"],["type","text","class","form-control mr-2","style","width: auto","formControlName","nameGroup",3,"placeholder",4,"ngIf"],["class","flex",4,"ngIf"],["class","text-danger pl-5 pb-2","style","max-width: 250px",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],[4,"ngIf","ngIfElse"],["updateData",""],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl","class","btn btn-info",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[4,"ngIf"],[1,"text-xs","text-danger","mt-1",2,"width","100%","margin","auto"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3","w-full"],["color","primary",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"text-danger","text-danger","mt-1"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN",1,"m-1","btn-text-primary",3,"click"],["type","text","formControlName","nameGroup",1,"form-control","mr-2",2,"width","auto",3,"placeholder"],["nameGroup",""],[1,"flex"],["azt-track-service","create-or-update-classroom-dialog-93qcHBpjZM3",1,"btn","block","btn-primary","mr-2","ml-0","md:ml-2","mt-2","md:mt-0",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-F4XQrjncsAd",1,"btn","block","btn-secondary","mt-2","md:mt-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"text-danger","pl-5","pb-2",2,"max-width","250px"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","w-24","btn-primary","mr-2",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl",1,"btn","btn-info",3,"disabled","click"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"azt-mat-dialog-content")(9,"div",5)(10,"div",6)(11,"label",7),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t._UZ(14,"input",8),t.ALo(15,"mytranslate"),t.YNc(16,no,3,3,"div",9),t.qZA(),t.TgZ(17,"div",10)(18,"label",11),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"mat-form-field",12)(22,"mat-select",13),t.NdJ("valueChange",function(T){return r.selectedYearValue=T}),t.YNc(23,wa,3,3,"mat-option",14),t.qZA()(),t.YNc(24,ya,3,3,"div",15),t.qZA(),t.TgZ(25,"div",16)(26,"div",17),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"div",18)(30,"mat-radio-group",19)(31,"div",20),t.YNc(32,Aa,7,7,"ng-container",21),t.qZA()(),t.YNc(33,Sa,3,3,"div",22),t.TgZ(34,"div",23),t.YNc(35,Ia,3,3,"a",24),t.YNc(36,ja,3,3,"input",25),t.YNc(37,Na,8,4,"div",26),t.qZA(),t.YNc(38,Ma,3,3,"div",27),t.qZA()()()()(),t.TgZ(39,"div",28)(40,"button",29),t.NdJ("click",function(){return r.closeDialog()}),t._uU(41),t.ALo(42,"mytranslate"),t.qZA(),t.YNc(43,Da,5,5,"ng-container",30),t.YNc(44,Pa,4,5,"ng-template",null,31,t.W1O),t.YNc(46,za,4,5,"button",32),t.qZA()()()),2&n){const d=t.MAs(45);t.xp6(1),t.Q6J("formGroup",r.form),t.xp6(4),t.hij(" ",r.classroomObj?t.lcZ(7,22,"lang_student_classroom_list_utils_create_class_update_class"):t.lcZ(6,20,"lang_student_classroom_list_utils_create_class_add_class")," "),t.xp6(7),t.hij(" ",t.lcZ(13,24,"lang_auto_ten_lop")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(15,26,"lang_auto_nhap_ten_lop")),t.xp6(2),t.Q6J("ngIf",r.form.controls.nameClass.dirty&&r.form.controls.nameClass.errors),t.xp6(3),t.hij(" ",t.lcZ(20,28,"lang_auto_nam_hoc")," "),t.xp6(3),t.Q6J("value",r.selectedYearValue),t.xp6(1),t.Q6J("ngForOf",r.years),t.xp6(1),t.Q6J("ngIf",r.form.controls.year.dirty&&r.form.controls.year.errors),t.xp6(3),t.hij(" ",t.lcZ(28,30,"lang_student_classroom_list_utils_create_class_choose_group_class")," "),t.xp6(5),t.Q6J("ngForOf",r.activeClassroomData),t.xp6(1),t.Q6J("ngIf",r.form.controls.group.dirty&&r.form.controls.group.errors),t.xp6(2),t.Q6J("ngIf",0==r.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",1==r.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",r.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",r.isShowCreateGroupOfClassroom&&r.form.controls.nameGroup.dirty&&r.form.controls.nameGroup.errors),t.xp6(3),t.Oqu(t.lcZ(42,32,"lang_button_cancel")),t.xp6(2),t.Q6J("ngIf",!r.classroomObj)("ngIfElse",d),t.xp6(3),t.Q6J("ngIf",!r.classroomObj)}},dependencies:[Q.sg,Q.O5,E.ey,nt.KE,Ao.VQ,Ao.U0,Di.gD,bt.gM,K._Y,K.Fj,K.JJ,K.JL,K.sg,K.u,Ei.M,At.R,ft.n,S.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),a})();function Fa(a,g){1&a&&(t.TgZ(0,"span",10),t._UZ(1,"azt-loading-ui"),t.qZA())}let Ja=(()=>{class a extends Bt.e{closeDialog(n){this.dialogRef.close(n)}deleteGroupOfClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomGroupGet(this.currentGroupOfClassroomDataThatIsEdited?.id??0).subscribe(n=>{1==n.success?(this.showSuccessSnack("lang_auto_xoa_nhom_thanh_cong"),this.successStatusObj(),this.closeDialog(!0)):(this.errorStatusObj(n.message??"",!0),this.dialogRef.close())}))}constructor(n,r,d){super(d,r),this.classroomGroupService=n,this.dialogRef=r,this.data=d,this.currentGroupOfClassroomDataThatIsEdited=d.groupObj}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(Zn.c8),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-delete-group"]],features:[t.qOj],decls:17,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-danger",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"span",5),t._uU(8),t.qZA()()()()(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return r.closeDialog(!1)}),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return r.deleteGroupOfClassroom()}),t.YNc(14,Fa,2,0,"span",9),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,6,"lang_student_classroom_list_utils_delete_group")," "),t.xp6(3),t.Oqu(null==r.currentGroupOfClassroomDataThatIsEdited?null:r.currentGroupOfClassroomDataThatIsEdited.name),t.xp6(3),t.hij(" ",t.lcZ(12,8,"lang_button_cancel")," "),t.xp6(2),t.Q6J("disabled",1==r.statusObj.loading),t.xp6(1),t.Q6J("ngIf",r.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(16,10,"lang_button_delete")," "))},dependencies:[Q.O5,ft.n,S.JV],encapsulation:2}),a})();var qa=b(23433);function Qa(a,g){1&a&&(t.TgZ(0,"span",10),t._UZ(1,"azt-loading-ui"),t.qZA())}let Ya=(()=>{class a extends Bt.e{closeDialog(n){this.dialogRef.close(n)}deleteClassroomObj(){this.classroomObj.isShareClassroom?this.updateClassroomToGroup():(this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomObjGet(this.classroomObj?.id??0).subscribe(n=>{1==n.success?(this.successStatusObj("lang_auto_xoa_lop_hoc_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_auto_xoa_lop_hoc_khong_thanh_cong",!0),this.dialogRef.close())})))}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classroomObj.id}).subscribe(r=>{1==r.success?(this.successStatusObj("lang_core_xoa_nhom_lop_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_core_xoa_nhom_lop_khong_thanh_cong",!0),this.closeDialog(!1))})}constructor(n,r,d){super(d,r),this.classroomGroupService=n,this.dialogRef=r,this.data=d,this.classroomObj=d.classroomObj}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(Zn.c8),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-teacher-delete-classroom"]],features:[t.qOj],decls:18,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-classroom-plZFV82pDhH",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-classroom-f8Z8p51QYG8",1,"btn","w-24","btn-danger",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.TgZ(8,"span",5),t._uU(9),t.qZA()()()()(),t.TgZ(10,"div",6)(11,"button",7),t.NdJ("click",function(){return r.closeDialog(!1)}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"button",8),t.NdJ("click",function(){return r.deleteClassroomObj()}),t.YNc(15,Qa,2,0,"span",9),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(5),t.AsE(" ",r.classroomObj.isShareClassroom?t.lcZ(6,7,"lang_core_bo_quyen_luu_y_sau_khi_xoa_lop_duoc_chia_se"):""," ",t.lcZ(7,9,"lang_student_classroom_list_utils_delete_class")," "),t.xp6(4),t.Oqu(r.classroomObj.name),t.xp6(3),t.hij(" ",t.lcZ(13,11,"lang_button_cancel")," "),t.xp6(2),t.Q6J("disabled",1==r.statusObj.loading),t.xp6(1),t.Q6J("ngIf",r.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(17,13,"lang_button_delete")," "))},dependencies:[Q.O5,ft.n,S.JV],encapsulation:2}),a})();function Ba(a,g){1&a&&(t.TgZ(0,"span",15),t._UZ(1,"azt-loading-ui"),t.qZA())}function Ha(a,g){if(1&a&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const n=t.oxw(3).$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.groupObj.name))}}function Ga(a,g){if(1&a&&(t.TgZ(0,"span",24),t.ALo(1,"mytranslate"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&a){const n=t.oxw(3).$implicit;t.s9C("matTooltip",t.lcZ(1,2,n.groupObj.name)),t.xp6(2),t.Oqu(t.lcZ(3,4,n.groupObj.name))}}function Va(a,g){if(1&a&&(t.TgZ(0,"mat-radio-button",20),t.YNc(1,Ha,3,3,"span",21),t.YNc(2,Ga,4,6,"span",22),t.qZA()),2&a){const n=t.oxw(2).$implicit;t.Q6J("value",n.groupObj.id),t.xp6(1),t.Q6J("ngIf",n.groupObj.name&&n.groupObj.name.length<15),t.xp6(1),t.Q6J("ngIf",n.groupObj.name&&n.groupObj.name.length>=15)}}function Ra(a,g){if(1&a&&(t.TgZ(0,"div",18),t.YNc(1,Va,3,3,"mat-radio-button",19),t.qZA()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null!=n.groupObj)}}function $a(a,g){1&a&&(t.TgZ(0,"div",25)(1,"mat-radio-button",20),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a&&(t.xp6(1),t.Q6J("value",0),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_student_classroom_list_other")," "))}function Ka(a,g){if(1&a&&(t.ynx(0),t.YNc(1,Ra,2,1,"div",16),t.YNc(2,$a,4,4,"div",17),t.BQk()),2&a){const n=g.$implicit;t.xp6(1),t.Q6J("ngIf",null!=n.groupObj),t.xp6(1),t.Q6J("ngIf",null==n.groupObj)}}function Wa(a,g){1&a&&(t.TgZ(0,"span",26),t._UZ(1,"azt-loading-ui"),t.qZA())}let Xa=(()=>{class a extends Bt.e{closeDialog(){this.dialogRef.close()}chooseGroup(){let n=this.form.getRawValue();this.groupId=n.groupId!=this.fakeGroupValue?n.groupId:void 0}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classId,groupId:this.groupId}).subscribe(r=>{1==r.success?(this.successStatusObj("lang_core_di_chuyen_nhom_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_core_di_chuyen_nhom_khong_thanh_cong",!0),this.closeDialog())})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(n=>{if(1==n.success){for(var r of(this.activeClassroomData=n?.data?.activeClassroomData??[],this.activeClassroomData))r.classroomObjs.find(D=>D.id==this.classId)&&(this.form=new K.cw({groupId:new K.NI(r.groupObj.id,{nonNullable:!0,validators:[K.kI.required]})}));this.successStatusObj()}else this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){this.getClassroomObjs()}constructor(n,r,d){super(d,r),this.classroomGroupService=n,this.dialogRef=r,this.data=d,this.classId=0,this.fakeGroupValue=-2,this.classId=d.classId,this.form=new K.cw({groupId:new K.NI(void 0,{nonNullable:!0,validators:[K.kI.required]})})}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(Zn.c8),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-move-classroom-to-group"]],features:[t.qOj],decls:22,vars:14,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class","list-group"],[1,"pt-2"],["class","w-4 h-4 inline-block",4,"ngIf"],["formControlName","groupId",3,"change"],[1,"grid","grid-cols-12","gap-4","sm:gap-6","azt-create-update-classroom"],[4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6",4,"ngIf"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6","w-full"],["color","primary","size","small","class","w-full",3,"value",4,"ngIf"],["color","primary","size","small",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6),t.YNc(10,Ba,2,0,"span",7),t.TgZ(11,"mat-radio-group",8),t.NdJ("change",function(){return r.chooseGroup()}),t.TgZ(12,"div",9),t.YNc(13,Ka,3,2,"ng-container",10),t.qZA()()()()()(),t.TgZ(14,"div",11)(15,"button",12),t.NdJ("click",function(){return r.closeDialog()}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"button",13),t.NdJ("click",function(){return r.updateClassroomToGroup()}),t.YNc(19,Wa,2,0,"span",14),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()),2&n&&(t.xp6(1),t.Q6J("formGroup",r.form),t.xp6(4),t.hij(" ",t.lcZ(6,8,"lang_core_chon_nhom_lop_muon_chuyen_sang")," "),t.xp6(5),t.Q6J("ngIf",r.statusObj.loading),t.xp6(3),t.Q6J("ngForOf",r.activeClassroomData),t.xp6(3),t.Oqu(t.lcZ(17,10,"lang_button_cancel")),t.xp6(2),t.Q6J("disabled",r.form.controls.groupId.errors),t.xp6(1),t.Q6J("ngIf",r.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(21,12,"lang_button_update")," "))},dependencies:[Q.sg,Q.O5,Ao.VQ,Ao.U0,bt.gM,K._Y,K.JJ,K.JL,K.sg,K.u,Ei.M,At.R,ft.n,S.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:210px;vertical-align:middle;cursor:pointer;margin-left:-5px}.list-group[_ngcontent-%COMP%]   .mdc-radio__inner-circle[_ngcontent-%COMP%]{border-width:7px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio__background[_ngcontent-%COMP%]{width:15px!important;height:15px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]   .mdc-radio__native-control[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{padding:calc((var(--mdc-radio-state-layer-size, 30px) - 20px) / 2)}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{display:flex!important;width:auto!important;height:auto!important}@media (max-width: 767px){.truncate[_ngcontent-%COMP%]{max-width:190px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),a})();function ts(a,g){1&a&&(t.TgZ(0,"div",15)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_homework_add_home_work_share")))}function es(a,g){if(1&a&&(t.TgZ(0,"div",16)(1,"a",17),t.NdJ("click",function(r){return r.preventDefault()}),t.TgZ(2,"span",18),t._UZ(3,"lucide-icon",19),t.qZA()()()),2&a){t.oxw();const n=t.MAs(17);t.xp6(1),t.Q6J("matMenuTriggerFor",n)}}function ns(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li")(1,"a",20),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.editClassroomDialog())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",22)(4,"path",23),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&a&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_sua_lop")," "))}function os(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li")(1,"a",24),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.copyClassroomObj())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"rect",25)(4,"path",26),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&a&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_nhan_ban_lop")," "))}function is(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li")(1,"a",27),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.moveClassroomToStorage())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"ellipse",28)(4,"path",29)(5,"path",30),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&a&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_dua_vao_luu_tru")," "))}function as(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li")(1,"a",31),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.moveSharedClassroomToStorage())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"ellipse",28)(4,"path",29)(5,"path",30),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&a&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_dua_vao_luu_tru")," "))}function ss(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li")(1,"a",32),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.moveClassroomFromStorageToActive())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",33)(4,"path",34)(5,"path",35)(6,"path",36),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&a&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_khoi_phuc")," "))}function un(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li")(1,"a",37),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.moveSharedClassroomFromStorageToActive())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",33)(4,"path",34)(5,"path",35)(6,"path",36),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&a&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_khoi_phuc")," "))}function ee(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li")(1,"a",37),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.updateClassroom())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",38)(4,"path",39)(5,"path",40)(6,"path",41)(7,"path",42),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&a&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_core_sua_di_chuyen")," "))}function Et(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li")(1,"a",43),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.deleteClassroomDialog())}),t.O4$(),t.TgZ(2,"svg",44),t._UZ(3,"polyline",45)(4,"path",46),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&a&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_xoa_lop")," "))}const he=function(a){return[a]};let oo=(()=>{class a extends x.Q{goToMergeList(){this.commonService.myNavigation("/admin/student/merge-student/"+this.classroomObj.id)}updateClassroom(){this.sAztDialogService.open(Xa,{data:{classId:this.classroomObj.id},width:"550px",restoreFocus:!1}).afterClosed().subscribe(r=>{r&&this.eventOfClassroomMenu.emit(!0)})}moveClassroomToStorage(){this.classroomGroupService.apiClassroomGroupMoveClassroomToStorageGet(this.classroomObj.id??0).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj("lang_auto_dua_vao_luu_tru_khong_thanh_cong")})}moveSharedClassroomToStorage(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:5}).subscribe(r=>{1==r.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj(r.message??"")})}moveClassroomFromStorageToActive(){this.classroomGroupService.apiClassroomGroupRestoreClassroomGet(this.classroomObj.id??0).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj("lang_auto_khoi_phuc_lop_hoc_khong_thanh_cong")})}moveSharedClassroomFromStorageToActive(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:2}).subscribe(r=>{1==r.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj(r.message??"")})}editClassroomDialog(){this.sAztDialogService.open(Pi,{data:{classroomObj:this.classroomObj},width:"550px",restoreFocus:!1}).afterClosed().subscribe(r=>{r&&this.eventOfClassroomMenu.emit(!0)})}deleteClassroomDialog(){this.sAztDialogService.open(Ya,{width:"400px",data:{classroomObj:this.classroomObj},restoreFocus:!1}).afterClosed().subscribe(r=>{r&&this.eventOfClassroomMenu.emit(!0)})}copyClassroomObj(){this.showSuccessSnack("lang_auto_dang_nhan_ban_lop_hoc_vui_long_doi_trong_giay_lat_doing"),this.classroomGroupService.apiClassroomGroupCopyClassroomGet(this.classroomObj.id??0).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_nhan_ban_lop_hoc_thanh_cong",!0)):this.errorStatusObj("lang_auto_nhan_ban_lop_hoc_khong_thanh_cong",!0)})}ngOnInit(){super.ngOnInit(),this.programId=this.commonService.getMyQueryParam("programId")}constructor(n,r,d){super(),this.classroomGroupService=n,this.permissionTeamService=r,this.sAztDialogService=d,this.eventOfClassroomMenu=new t.vpe,this.screenTemplate=""}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(Zn.c8),t.Y36(Zn.sb),t.Y36(ye.C))},a.\u0275cmp=t.Xpm({type:a,selectors:[["azt-information-class-box"]],inputs:{classroomObj:"classroomObj",screenTemplate:"screenTemplate"},outputs:{eventOfClassroomMenu:"eventOfClassroomMenu"},features:[t.qOj],decls:31,vars:36,consts:[[1,"relative"],["azt-track-service","information-class-box-lTAPwcAOtkX",1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-4","cursor-pointer","block",3,"routerLink"],[1,"flex","items-center"],[1,"block","font-medium","truncate",2,"max-width","70%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"flex"],[1,"text-slate-500","mr-auto","text-xs","mt-2"],[1,"text-slate-500","text-xs","mt-2"],["class","ribbon",4,"ngIf"],["class","ml-auto absolute top-0 right-0","style","margin: 15px",4,"ngIf"],["xPosition","before"],["classroomMenuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[4,"ngIf"],[1,"ribbon"],[1,"ml-auto","absolute","top-0","right-0",2,"margin","15px"],["azt-track-service","information-class-box-tDPvhBl5vWp",1,"clickable","flex","items-center","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],[1,"w-5","h-5","text-slate-500","inline-block"],["name","more-horizontal"],["azt-track-service","information-class-box-Y6FVEqAKljD",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","information-class-box-1Z4loYYCXOT",1,"dropdown-item",3,"click"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],["azt-track-service","information-class-box-yNwo0EZravB",1,"dropdown-item",3,"click"],["cx","12","cy","5","rx","9","ry","3"],["d","M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"],["d","M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"],["azt-track-service","information-class-box-OkjnS3UN_Xz",1,"dropdown-item",3,"click"],["azt-track-service","information-class-box-5V-axi1fKp3",1,"dropdown-item",3,"click"],["d","M10 2h4"],["d","M12 14v-4"],["d","M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6"],["d","M9 17H4v5"],["azt-track-service","information-class-box-yPIM4KNi4qL",1,"dropdown-item",3,"click"],["d","M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22"],["d","m18 2 4 4-4 4"],["d","M2 6h1.9c1.5 0 2.9.9 3.6 2.2"],["d","M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8"],["d","m18 14 4 4-4 4"],["azt-track-service","information-class-box-4Glzv5SSUAO",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"a",1),t.ALo(2,"navigationLocalize"),t.TgZ(3,"div",2)(4,"a",3,4),t._uU(6),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div",7),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()(),t.YNc(14,ts,4,3,"div",8),t.qZA(),t.YNc(15,es,4,1,"div",9),t.qZA(),t.TgZ(16,"mat-menu",10,11)(18,"div",12)(19,"ul",13),t.YNc(20,ns,7,3,"li",14),t.ALo(21,"editPermission"),t.YNc(22,os,7,3,"li",14),t.ALo(23,"fullPermission"),t.YNc(24,is,8,3,"li",14),t.YNc(25,as,8,3,"li",14),t.YNc(26,ss,9,3,"li",14),t.YNc(27,un,9,3,"li",14),t.YNc(28,ee,10,3,"li",14),t.YNc(29,Et,7,3,"li",14),t.ALo(30,"deletePermission"),t.qZA()()()),2&n){const d=t.MAs(5);t.xp6(1),t.Q6J("routerLink",t.VKq(34,he,t.lcZ(2,19,"/admin/student/classroom-details/"+r.classroomObj.id+(r.programId?"/3":"/0")))),t.xp6(3),t.s9C("matTooltip",r.classroomObj.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",d.isDisabled),t.xp6(2),t.hij(" ",r.classroomObj.name," "),t.xp6(3),t.AsE("",t.lcZ(10,21,"lang_auto_si_so"),": ",r.classroomObj.countStudents,""),t.xp6(3),t.AsE("",t.lcZ(13,23,"lang_auto_nam_hoc"),": ",r.classroomObj.year,""),t.xp6(2),t.Q6J("ngIf",r.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",r.classroomObj.permissionObj),t.xp6(5),t.Q6J("ngIf",""==r.screenTemplate&&t.xi3(21,25,r.classroomObj,"classroom")),t.xp6(2),t.Q6J("ngIf",""==r.screenTemplate&&t.xi3(23,28,r.classroomObj,"classroom")),t.xp6(2),t.Q6J("ngIf",""==r.screenTemplate&&!r.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",""==r.screenTemplate&&r.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf","storage"==r.screenTemplate),t.xp6(1),t.Q6J("ngIf","showListPeopleWhoWillShare"==r.screenTemplate),t.xp6(1),t.Q6J("ngIf",""==r.screenTemplate&&r.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",t.xi3(30,31,r.classroomObj,"classroom"))}},dependencies:[Q.O5,be.VK,be.p6,bt.gM,rt.rH,Ct.Nh5,et.Q,S.Jy,S.JV,S.NK,S.Pf,S.Z_],styles:[".ribbon[_ngcontent-%COMP%]{position:absolute;right:-2px;top:-2px;z-index:1;overflow:hidden;width:45px;height:45px;text-align:right}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:7px;color:#fff;text-transform:uppercase;text-align:center;font-weight:700;line-height:12px;transform:rotate(45deg);-webkit-transform:rotate(45deg);width:55px;display:block;background:linear-gradient(#68cc00 0%,rgba(104,204,0,.61) 100%);box-shadow:0 3px 10px -5px #636363;position:absolute;top:6px;right:-14px}.ml-auto[_ngcontent-%COMP%]{z-index:999}"]}),a})();const ks=["showMenuGroupOfClassroom"];function So(a,g){1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"span",63),t._uU(1,"1"),t.qZA())}function Io(a,g){1&a&&(t.O4$(),t.kcU(),t._UZ(0,"azt-loading-effect"))}function io(a,g){if(1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div"),t.GkF(1,65),t.qZA()),2&a){t.oxw(2);const n=t.MAs(50);t.xp6(1),t.Q6J("ngTemplateOutlet",n)}}function rs(a,g){if(1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div"),t.GkF(1,65),t.qZA()),2&a){t.oxw(2);const n=t.MAs(52);t.xp6(1),t.Q6J("ngTemplateOutlet",n)}}function jo(a,g){if(1&a&&(t.O4$(),t.YNc(0,io,2,1,"div",64),t.YNc(1,rs,2,1,"div",64)),2&a){const n=t.oxw();t.Q6J("ngIf",!n.showStorageClassroom),t.xp6(1),t.Q6J("ngIf",n.showStorageClassroom)}}function Ui(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",87),t.NdJ("click",function(d){return d.stopPropagation()})("click",function(){t.CHM(n);const d=t.oxw().$implicit,T=t.oxw(2);return t.KtG(T.saveCurrentGroupOfClassroomThatIsEdited(d.groupObj))}),t.O4$(),t.TgZ(1,"svg",88),t._UZ(2,"circle",89)(3,"circle",90)(4,"circle",91),t.qZA()()}if(2&a){t.oxw();const n=t.MAs(9);t.Q6J("matMenuTriggerFor",n)}}function We(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",92)(1,"azt-information-class-box",93),t.NdJ("eventOfClassroomMenu",function(d){t.CHM(n);const T=t.oxw(3);return t.KtG(T.eventOfClassroomMenu(d))}),t.qZA()()}if(2&a){const n=g.$implicit;t.xp6(1),t.Q6J("classroomObj",n)}}function zi(a,g){1&a&&(t.TgZ(0,"div",94),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_class_null"),". "))}const zt=function(){return["name"]};function ao(a,g){if(1&a){const n=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",68)(1,"div",69)(2,"div",70)(3,"h2",71),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",72),t.YNc(7,Ui,5,1,"button",73),t.TgZ(8,"mat-menu",null,74)(10,"div",75)(11,"button",76),t.NdJ("click",function(d){return d.stopPropagation()})("click",function(){t.CHM(n);const d=t.oxw(2),T=t.MAs(63);return t.KtG(d.cancelEdit(T))}),t.O4$(),t.TgZ(12,"svg",77),t._UZ(13,"path",78)(14,"path",79),t.qZA(),t.kcU(),t.TgZ(15,"span"),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.TgZ(18,"button",80),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(2);return t.KtG(d.deleteGroupDialog())}),t.O4$(),t.TgZ(19,"svg",81),t._UZ(20,"polyline",82)(21,"path",83),t.qZA(),t.kcU(),t.TgZ(22,"span"),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()()()(),t.TgZ(25,"div",84),t.YNc(26,We,2,1,"div",85),t.ALo(27,"appFilter"),t.YNc(28,zi,3,3,"div",86),t.ALo(29,"appFilter"),t.qZA()()()}if(2&a){const n=g.$implicit,r=t.oxw(2),d=t.MAs(54);t.xp6(4),t.hij(" ",t.lcZ(5,7,n.groupObj.name)," "),t.xp6(3),t.Q6J("ngIf",n.groupObj.id>0),t.xp6(4),t.Q6J("matMenuTriggerFor",d),t.xp6(5),t.Oqu(t.lcZ(17,9,"lang_button_edit")),t.xp6(7),t.Oqu(t.lcZ(24,11,"lang_button_delete")),t.xp6(3),t.Q6J("ngForOf",t.Dn7(27,13,n.classroomObjs,r.searchContentObj.searchContent,t.DdM(21,zt))),t.xp6(2),t.Q6J("ngIf",0==n.classroomObjs.length||0==t.Dn7(29,17,n.classroomObjs,r.searchContentObj.searchContent,t.DdM(22,zt)).length)}}const _i=function(a){return[a]};function ls(a,g){if(1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div",95),t.ALo(1,"navigationLocalize"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&a){const n=t.oxw(2);t.Q6J("routerLink",t.VKq(7,_i,t.lcZ(1,3,"/admin/student/manage-classroom/1"))),t.xp6(2),t.AsE(" ",t.lcZ(3,5,"lang_student_classroom_list_storage")," (",n.totalStorageClassroom,") ")}}function cs(a,g){if(1&a&&(t.O4$(),t.YNc(0,ao,30,23,"div",66),t.YNc(1,ls,4,9,"div",67)),2&a){const n=t.oxw();t.Q6J("ngForOf",n.activeClassroomData),t.xp6(1),t.Q6J("ngIf",n.totalStorageClassroom&&n.totalStorageClassroom>0)}}function ms(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",87),t.NdJ("click",function(d){return d.stopPropagation()})("click",function(){t.CHM(n);const d=t.oxw().$implicit,T=t.oxw(2);return t.KtG(T.saveCurrentGroupOfClassroomThatIsEdited(d.groupObj))}),t.O4$(),t.TgZ(1,"svg",88),t._UZ(2,"circle",89)(3,"circle",90)(4,"circle",91),t.qZA()()}if(2&a){t.oxw();const n=t.MAs(9);t.Q6J("matMenuTriggerFor",n)}}function _s(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",92)(1,"azt-information-class-box",96),t.NdJ("eventOfClassroomMenu",function(d){t.CHM(n);const T=t.oxw(3);return t.KtG(T.eventOfClassroomMenu(d))}),t.qZA()()}if(2&a){const n=g.$implicit;t.xp6(1),t.Q6J("classroomObj",n)("screenTemplate","storage")}}function ds(a,g){1&a&&(t.TgZ(0,"div",94),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_class_null"),". "))}function No(a,g){if(1&a){const n=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",68)(1,"div",69)(2,"div",70)(3,"h2",71),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",72),t.YNc(7,ms,5,1,"button",73),t.TgZ(8,"mat-menu",null,74)(10,"div",75)(11,"button",76),t.NdJ("click",function(d){return d.stopPropagation()})("click",function(){t.CHM(n);const d=t.oxw(2),T=t.MAs(63);return t.KtG(d.cancelEdit(T))}),t.O4$(),t.TgZ(12,"svg",77),t._UZ(13,"path",78)(14,"path",79),t.qZA(),t.kcU(),t.TgZ(15,"span"),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.TgZ(18,"button",80),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(2);return t.KtG(d.deleteGroupDialog())}),t.O4$(),t.TgZ(19,"svg",81),t._UZ(20,"polyline",82)(21,"path",83),t.qZA(),t.kcU(),t.TgZ(22,"span"),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()()()(),t.TgZ(25,"div",84),t.YNc(26,_s,2,2,"div",85),t.ALo(27,"appFilter"),t.YNc(28,ds,3,3,"div",86),t.ALo(29,"appFilter"),t.qZA()()()}if(2&a){const n=g.$implicit,r=t.oxw(2),d=t.MAs(54);t.xp6(4),t.hij(" ",t.lcZ(5,7,n.groupObj.name)," "),t.xp6(3),t.Q6J("ngIf",-1!=n.groupObj.id),t.xp6(4),t.Q6J("matMenuTriggerFor",d),t.xp6(5),t.Oqu(t.lcZ(17,9,"lang_button_edit")),t.xp6(7),t.Oqu(t.lcZ(24,11,"lang_button_delete")),t.xp6(3),t.Q6J("ngForOf",t.Dn7(27,13,n.classroomObjs,r.searchContentObj.searchContent,t.DdM(21,zt))),t.xp6(2),t.Q6J("ngIf",0==n.classroomObjs.length||0==t.Dn7(29,17,n.classroomObjs,r.searchContentObj.searchContent,t.DdM(22,zt)).length)}}function Mo(a,g){if(1&a&&(t.O4$(),t.YNc(0,No,30,23,"div",66)),2&a){const n=t.oxw();t.Q6J("ngForOf",n.storageClassroomData)}}function di(a,g){1&a&&(t.TgZ(0,"div",97),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_enter_name_group")," "))}function Fi(a,g){1&a&&(t.O4$(),t.TgZ(0,"svg",98),t._UZ(1,"polyline",99),t.qZA())}function ui(a,g){1&a&&(t.O4$(),t.TgZ(0,"svg",98),t._UZ(1,"polyline",99),t.qZA())}function pi(a,g){1&a&&(t.O4$(),t.TgZ(0,"svg",98),t._UZ(1,"polyline",99),t.qZA())}let us=(()=>{class a extends x.Q{onSearchBox(n){this.searchContentObj=n}eventOfClassroomMenu(n){n&&this.getClassroomObjs()}changeFilter(n){this.typeFilter=n,this.getClassroomObjs()}saveCurrentGroupOfClassroomThatIsEdited(n){this.currentGroupOfClassroomDataThatIsEdited=this.commonService.myClone(n)}cancelEdit(n){n.value=this.currentGroupOfClassroomDataThatIsEdited?.name??""}createClassroomDialog(){this.sAztDialogService.open(Pi,{data:{classroomObj:void 0},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(r=>{r&&this.getClassroomObjs()})}createClassroomForNewCourseDialog(){this.sAztDialogService.open(Ca.u,{restoreFocus:!1}).afterClosed().subscribe(r=>{r&&this.getClassroomObjs()})}deleteGroupDialog(){this.sAztDialogService.open(Ja,{width:"400px",data:{groupObj:this.currentGroupOfClassroomDataThatIsEdited},restoreFocus:!1}).afterClosed().subscribe(r=>{r&&(this.eventOfGroupMenu.emit(!0),this.getClassroomObjs())})}updateGroupOfClassroom(n){if(""!=n){var r={groupId:this.currentGroupOfClassroomDataThatIsEdited?.id??0,name:n};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomGroupPost(r).subscribe(d=>{1==d.success?(this.successStatusObj("lang_auto_cap_nhat_nhom_thanh_cong",!0),this.getClassroomObjs()):this.errorStatusObj(d.message??"",!0)}))}else this.checkErrorInputUpdateGroupOfClassroom(n)}checkErrorInputUpdateGroupOfClassroom(n){return""==n.trim()}openDialogAutomaticIdentification(){this.sAztDialogService.open(Be.G,{data:{classroomWithGroup:this.activeClassroomData??[],type:1,listCheckBox:[],totalStudent:0},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(n=>{n&&this.getClassroomObjs()})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet(this.typeFilter).subscribe(n=>{n.success?(this.activeClassroomData=n?.data?.activeClassroomData??[],this.storageClassroomData=n?.data?.storageClassroomData??[],this.totalStorageClassroom=this.commonService.concatMultipleArray(this.storageClassroomData.map(r=>r.classroomObjs)).length,this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,l.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n=this.commonService.getMyParam(this.activeRoute,"id")?.toString();this.showStorageClassroom="1"==n;let r=this.commonService.getMyQueryParam("programId");this.backToLink=r&&""!=r?"/business/educational-program/"+r:this.showStorageClassroom?"/admin/student/manage-classroom/0":this.backToLink="/admin/dashboard",this.getClassroomObjs()})),this.mobileWebviewService.sendSimpleMessage("OPEN_CLASSES"),this.commonService.translateMetaData({title:"lang_cms_classroom_list_title",description:"lang_cms_classroom_list_description",image:"lang_cms_test_image"})}constructor(n,r,d,T){super(),this.activeRoute=n,this.classroomGroupService=r,this.sAztDialogService=d,this.mobileWebviewService=T,this.eventOfGroupMenu=new t.vpe,this.backToLink="",this.showStorageClassroom=!1,this.typeFilter="all",this.searchContentObj=new dt.h}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(rt.gz),t.Y36(Zn.c8),t.Y36(ye.C),t.Y36(qa.r))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-teacher-classroom"]],viewQuery:function(n,r){if(1&n&&t.Gf(ks,5),2&n){let d;t.iGM(d=t.CRH())&&(r.showMenuGroupOfClassroom=d.first)}},outputs:{eventOfGroupMenu:"eventOfGroupMenu"},features:[t.qOj],decls:127,vars:60,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5",2,"z-index","1"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"isServerSearch","placeholder","onSearch"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-8xXjbgXLYr8","tourAnchor","azt-tour-2",1,"btn","btn-primary","shadow-md","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-1"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[1,"dropdown-toggle","btn","px-2","box","block","lg:hidden","hover:bg-slate-100","dark:hover-bg:darkmode-400",3,"matMenuTriggerFor"],[1,"w-5","h-5","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4"],["azt-track-service","class-list-GeLpgTC3SuL",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","class-list-ok7MlxqP6m9",1,"btn","px-2","box","shadow-md","azt-hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-2"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],["tourAnchor","azt-tour-2",1,"ml-2","shadow-md","dropdown-toggle","btn","px-2","box","block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],["class","py-1 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[4,"ngIf","ngIfElse"],["doneLoading",""],["showActiveClassroomTpl",""],["showStorageClassroomTpl",""],["xPosition","after"],["matMenuGroupOfClassroom",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["azt-track-service","class-list-G1Mkx8IXu63",1,"modal-body"],[1,"text-base","font-medium","mr-auto"],["azt-track-service","class-list-0AWKcuGUws",3,"click"],["type","text","aria-label","default input example",1,"form-control","mt-2",3,"value","placeholder"],["nameGroup",""],["class","alert alert-danger p-1 mt-2",4,"ngIf"],[1,"text-right","mt-3",2,"display","flex","justify-content","space-between"],["azt-track-service","class-list-qHpiXjTg249",1,"btn","w-24","btn-secondary","mr-2"],["azt-track-service","class-list-lVV77oiaCLP",1,"btn","w-24","btn-primary",3,"disabled","click"],["xPosition","before"],["menuClassList","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["menuFilter","matMenu"],["width","18","height","18","x","3","y","3","rx","2"],["d","M7 8h10"],["d","M7 12h10"],["d","M7 16h10"],["xmlns","http://www.w3.org/2000/svg","class","lucide lucide-activity w-4 h-4 ml-2","style","color: green","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["points","16 11 18 13 22 9"],["d","M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z"],["d","M6 9.01V9"],["d","m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[4,"ngIf"],[3,"ngTemplateOutlet"],["class","intro-y",4,"ngFor","ngForOf"],["azt-track-service","class-list-9gXcamWSz","class","btn-text-primary font-medium cursor-pointer mt-4",3,"routerLink",4,"ngIf"],[1,"intro-y"],[1,"azt-group","mt-5"],[1,"intro-x","flex","items-center","mb-5"],[1,"text-lg","font-medium","truncate","mr-3"],[1,"dropdown","mb-1"],["azt-track-service","class-list-U9X02wc0f","class","dropdown-toggle p-1 hover:bg-gray dark:hover:bg-darkmode-400 rounded-md","aria-expanded","false","data-tw-toggle","dropdown",3,"matMenuTriggerFor","click",4,"ngIf"],["menu","matMenu"],[1,"box","grid"],["azt-track-service","class-list-9ufWL4LIlj","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","pr-3","btn-edit","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2",2,"display","initial"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","class-list-Qqdrk4Sj2Q",1,"pr-3","btn-delete","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2",2,"display","initial"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 lg:col-span-4 xl:col-span-3 2xl:col-span-2",4,"ngFor","ngForOf"],["class","text-center col-span-12 p-2",4,"ngIf"],["azt-track-service","class-list-U9X02wc0f","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","p-1","hover:bg-gray","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-4","h-4"],["cx","12","cy","12","r","1"],["cx","12","cy","5","r","1"],["cx","12","cy","19","r","1"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2"],[3,"classroomObj","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"],["azt-track-service","class-list-9gXcamWSz",1,"btn-text-primary","font-medium","cursor-pointer","mt-4",3,"routerLink"],[3,"classroomObj","screenTemplate","eventOfClassroomMenu"],[1,"alert","alert-danger","p-1","mt-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","ml-2",2,"color","green"],["points","20 6 9 17 4 12"]],template:function(n,r){if(1&n){const d=t.EpF();t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"azt-search-box",7),t.NdJ("onSearch",function(D){return r.onSearchBox(D.searchObj)}),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"div",8)(13,"button",9),t.NdJ("click",function(){return r.createClassroomDialog()}),t.O4$(),t.TgZ(14,"svg",10),t._UZ(15,"line",11)(16,"line",12),t.qZA(),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(19,"button",13)(20,"span",14),t.O4$(),t.TgZ(21,"svg",15),t._UZ(22,"line",11)(23,"line",12),t.qZA()()(),t.kcU(),t.TgZ(24,"button",16),t.NdJ("click",function(){return r.createClassroomForNewCourseDialog()}),t.O4$(),t.TgZ(25,"svg",10),t._UZ(26,"line",11)(27,"line",12),t.qZA(),t._uU(28),t.ALo(29,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(30,"button",17),t.NdJ("click",function(){return r.openDialogAutomaticIdentification()}),t.O4$(),t.TgZ(31,"svg",18),t._UZ(32,"path",19)(33,"path",20)(34,"path",21)(35,"path",22)(36,"rect",23)(37,"rect",24),t.qZA(),t._uU(38),t.ALo(39,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(40,"button",25),t.O4$(),t.TgZ(41,"svg",10),t._UZ(42,"polygon",26),t.qZA(),t._uU(43),t.ALo(44,"mytranslate"),t.YNc(45,So,2,0,"span",27),t.qZA()()(),t.YNc(46,Io,1,0,"azt-loading-effect",28),t.YNc(47,jo,2,2,"ng-template",null,29,t.W1O),t.qZA()()(),t.YNc(49,cs,2,2,"ng-template",null,30,t.W1O),t.YNc(51,Mo,1,1,"ng-template",null,31,t.W1O),t.kcU(),t.TgZ(53,"mat-menu",32,33)(55,"div",34)(56,"div",35)(57,"div",36)(58,"h2",37),t._uU(59),t.ALo(60,"mytranslate"),t.qZA(),t.TgZ(61,"div",38),t.NdJ("click",function(D){return D.stopPropagation()}),t._UZ(62,"input",39,40),t.ALo(64,"mytranslate"),t.YNc(65,di,3,3,"div",41),t.qZA(),t.TgZ(66,"div",42)(67,"button",43),t._uU(68),t.ALo(69,"mytranslate"),t.qZA(),t.TgZ(70,"button",44),t.NdJ("click",function(){t.CHM(d);const D=t.MAs(63);return t.KtG(r.updateGroupOfClassroom(D.value))}),t._uU(71),t.ALo(72,"mytranslate"),t.qZA()()()()()(),t.TgZ(73,"mat-menu",45,46)(75,"div",47)(76,"ul",48)(77,"li")(78,"button",49),t.NdJ("click",function(){return r.createClassroomForNewCourseDialog()}),t.O4$(),t.TgZ(79,"svg",18),t._UZ(80,"line",11)(81,"line",12),t.qZA(),t._uU(82),t.ALo(83,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(84,"li")(85,"button",50),t.NdJ("click",function(){return r.openDialogAutomaticIdentification()}),t.O4$(),t.TgZ(86,"svg",18),t._UZ(87,"path",19)(88,"path",20)(89,"path",21)(90,"path",22)(91,"rect",23)(92,"rect",24),t.qZA(),t._uU(93),t.ALo(94,"mytranslate"),t.qZA()()()()(),t.kcU(),t.TgZ(95,"mat-menu",45,51)(97,"div",47)(98,"ul",48)(99,"li")(100,"button",49),t.NdJ("click",function(){return r.changeFilter("all")}),t.O4$(),t.TgZ(101,"svg",18),t._UZ(102,"rect",52)(103,"path",53)(104,"path",54)(105,"path",55),t.qZA(),t._uU(106),t.ALo(107,"mytranslate"),t.YNc(108,Fi,2,0,"svg",56),t.qZA()(),t.kcU(),t.TgZ(109,"li")(110,"button",50),t.NdJ("click",function(){return r.changeFilter("owner")}),t.O4$(),t.TgZ(111,"svg",18),t._UZ(112,"path",57)(113,"circle",58)(114,"polyline",59),t.qZA(),t._uU(115),t.ALo(116,"mytranslate"),t.YNc(117,ui,2,0,"svg",56),t.qZA()(),t.kcU(),t.TgZ(118,"li")(119,"button",49),t.NdJ("click",function(){return r.changeFilter("user")}),t.O4$(),t.TgZ(120,"svg",18),t._UZ(121,"path",60)(122,"path",61)(123,"path",62),t.qZA(),t._uU(124),t.ALo(125,"mytranslate"),t.YNc(126,pi,2,0,"svg",56),t.qZA()()()()()}if(2&n){const d=t.MAs(48),T=t.MAs(63),D=t.MAs(74),Y=t.MAs(96);t.Q6J("headerBackToLink",r.backToLink),t.xp6(4),t.hij(" ",r.showStorageClassroom?t.lcZ(5,28,"lang_auto_kho_luu_tru"):t.lcZ(6,30,"lang_student_classroom_list_header_title")," "),t.xp6(6),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(11,32,"lang_student_classroom_list_sort_name_class")),t.xp6(7),t.hij(" ",t.lcZ(18,34,"lang_student_classroom_list_create_class")," "),t.xp6(2),t.Q6J("matMenuTriggerFor",D),t.xp6(9),t.hij(" ",t.lcZ(29,36,"lang_student_classroom_list_create_class_new_cousre")," "),t.xp6(10),t.hij(" ",t.lcZ(39,38,"lang_auto_danh_so_bao_danh")," "),t.xp6(2),t.Q6J("matMenuTriggerFor",Y),t.xp6(3),t.hij(" ",t.lcZ(44,40,"lang_homework_homework_score_list_sort")," "),t.xp6(2),t.Q6J("ngIf","all"!=r.typeFilter),t.xp6(1),t.Q6J("ngIf",r.statusObj.loading)("ngIfElse",d),t.xp6(13),t.Oqu(t.lcZ(60,42,"lang_student_classroom_list_update_group")),t.xp6(3),t.s9C("value",null==r.currentGroupOfClassroomDataThatIsEdited?null:r.currentGroupOfClassroomDataThatIsEdited.name),t.s9C("placeholder",t.lcZ(64,44,"lang_auto_nhap_ten_nhom")),t.xp6(3),t.Q6J("ngIf",""==T.value||r.checkErrorInputUpdateGroupOfClassroom(T.value)),t.xp6(3),t.hij(" ",t.lcZ(69,46,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",""==T.value.trim()),t.xp6(1),t.hij(" ",t.lcZ(72,48,"lang_student_classroom_list_update")," "),t.xp6(11),t.hij(" ",t.lcZ(83,50,"lang_student_classroom_list_create_class_new_cousre")," "),t.xp6(11),t.hij(" ",t.lcZ(94,52,"lang_auto_danh_so_bao_danh")," "),t.xp6(13),t.hij(" ",t.lcZ(107,54,"lang_homework_content_store_all")," "),t.xp6(2),t.Q6J("ngIf",""==r.typeFilter),t.xp6(7),t.hij(" ",t.lcZ(116,56,"lang_core_lop_cua_toi")," "),t.xp6(2),t.Q6J("ngIf","owner"==r.typeFilter),t.xp6(7),t.hij(" ",t.lcZ(125,58,"lang_auto_lop_duoc_chia_se")," "),t.xp6(2),t.Q6J("ngIf","user"==r.typeFilter)}},dependencies:[rt.rH,Q.sg,Q.O5,Q.tP,be.VK,be.p6,ht.l,oo,vt.W,o._,S.Jy,S.JV,S.om],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),a})(),Hn=(()=>{class a extends x.Q{}return a.\u0275fac=function(){let g;return function(r){return(g||(g=t.n5z(a)))(r||a)}}(),a.\u0275cmp=t.Xpm({type:a,selectors:[["homework-master-page"]],features:[t.qOj],decls:2,vars:0,consts:[["id","student-layout"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[rt.lC],encapsulation:2}),a})(),ps=(()=>{class a extends x.Q{constructor(){super(...arguments),this.closeDialog=new t.vpe}confirmQuit(){this.closeDialog.emit(!0)}btnCloseDialog(){this.closeDialog.emit(!1)}}return a.\u0275fac=function(){let g;return function(r){return(g||(g=t.n5z(a)))(r||a)}}(),a.\u0275cmp=t.Xpm({type:a,selectors:[["app-merge-student-confirm-box"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:18,vars:11,consts:[[1,"box","school-info_bg"],[1,"school-info","p-4"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],[1,"intro"],[1,"text-base","font-medium","mr-auto"],[1,"text-right","mt-3"],["azt-track-service","confirm-merge-Yvv9eaXGFnm",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q",1,"btn","w-24","btn-primary",2,"margin-left","15px",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),t._uU(7),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA()(),t._UZ(10,"br"),t.TgZ(11,"div",7)(12,"button",8),t.NdJ("click",function(){return r.btnCloseDialog()}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"button",9),t.NdJ("click",function(){return r.confirmQuit()}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()()()()),2&n&&(t.xp6(7),t.hij("",null!=r.data&&r.data.type&&"update_phone_student"==(null==r.data?null:r.data.type)?t.lcZ(8,3,"lang_student_utils_confirm_merge_verifi")+"?":t.lcZ(9,5,"lang_student_utils_confirm_merge_confirm")+"?"," "),t.xp6(6),t.hij(" ",t.lcZ(14,7,"lang_cms_common_close_btn")," "),t.xp6(3),t.hij(" ",t.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[S.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;margin-left:auto;margin-right:auto}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}"]}),a})();function Ji(a,g){1&a&&t._UZ(0,"azt-loading-effect")}const qi=function(a){return{"bg-success":a}};function gs(a,g){if(1&a&&(t.TgZ(0,"div",21)(1,"b"),t._uU(2),t.qZA()()),2&a){const n=t.oxw().$implicit,r=t.oxw(2);t.Q6J("ngClass",t.VKq(2,qi,r.haveSelected(n))),t.xp6(2),t.Oqu(n.fullName)}}function Qi(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",19),t.NdJ("click",function(){const T=t.CHM(n).$implicit,D=t.oxw(2);return t.KtG(D.selectObj(T))}),t.YNc(1,gs,3,4,"div",20),t.qZA()}if(2&a){const n=g.$implicit,r=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!r.inMergeObjs(n))}}function gi(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div")(1,"div",22),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"b",23),t._uU(5),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.TgZ(8,"b",23),t._uU(9),t.qZA(),t._uU(10,"\xa0\xa0"),t.TgZ(11,"span",24),t.NdJ("click",function(){const T=t.CHM(n).index,D=t.oxw(2);return t.KtG(D.removeMergeArray(T))}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()()}if(2&a){const n=g.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_student_merge_student_merge_student")," "),t.xp6(3),t.Oqu(null==n.from?null:n.from.fullName),t.xp6(1),t.hij(" ",t.lcZ(7,7,"lang_student_merge_student_return")," "),t.xp6(3),t.Oqu(null==n.to?null:n.to.fullName),t.xp6(3),t.Oqu(t.lcZ(13,9,"lang_auto_xoa"))}}function Yi(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",22)(1,"div",26)(2,"b"),t._uU(3),t.qZA(),t.TgZ(4,"button",27),t.NdJ("click",function(){t.CHM(n);const d=t.oxw().$implicit,T=t.oxw(2);return t.KtG(T.revertStudent(d.id))}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}if(2&a){const n=t.oxw().$implicit;t.xp6(3),t.Oqu(n.fullName),t.xp6(2),t.hij(" ",t.lcZ(6,2,"lang_button_revert")," ")}}function Bi(a,g){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,Yi,7,4,"div",25),t.qZA()),2&a){const n=g.$implicit,r=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!r.inMergeObjs(n))}}function Hi(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",4)(1,"mat-tab-group",5)(2,"mat-tab",6),t.ALo(3,"mytranslate"),t.TgZ(4,"div",7)(5,"div",8)(6,"div",9),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,Qi,2,1,"div",10),t.qZA(),t.TgZ(10,"div",11)(11,"div",12)(12,"div",13)(13,"div",9),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.YNc(16,gi,14,11,"div",14),t.TgZ(17,"div",15)(18,"button",16),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.showConfirmBox())}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()()()()(),t.TgZ(21,"mat-tab",6),t.ALo(22,"mytranslate"),t.TgZ(23,"div",17)(24,"div",18)(25,"div")(26,"div",15),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.YNc(29,Bi,2,1,"div",14),t.qZA()()()()()()}if(2&a){const n=t.oxw();t.xp6(1),t.Q6J("selectedIndex",n.selectedIndex),t.xp6(1),t.s9C("label",t.lcZ(3,11,"lang_student_merge_student_lable")),t.xp6(5),t.hij(" ",t.lcZ(8,13,"lang_student_merge_student_required_click_merge")," "),t.xp6(2),t.Q6J("ngForOf",n.studentObjs),t.xp6(5),t.hij(" ",t.lcZ(15,15,"lang_student_merge_student_list_student_merge")," "),t.xp6(2),t.Q6J("ngForOf",n.studentMergeObjs),t.xp6(2),t.Q6J("disabled",n.studentMergeObjs&&n.studentMergeObjs.length<1),t.xp6(1),t.hij(" ",t.lcZ(20,17,"lang_student_merge_student_start_merge_list")," "),t.xp6(2),t.s9C("label",t.lcZ(22,19,"lang_student_merge_student_revert")),t.xp6(6),t.hij(" ",t.lcZ(28,21,"lang_student_merge_student_list_submitted")," "),t.xp6(2),t.Q6J("ngForOf",n.studentMergeListObjs)}}function hi(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"app-merge-student-confirm-box",28),t.NdJ("closeDialog",function(d){t.CHM(n);const T=t.oxw();return t.KtG(T.closeConfirmDialog(d))}),t.qZA()}if(2&a){const n=t.oxw();t.Q6J("data",n.confirmBox)}}let fi=(()=>{class a extends x.Q{showConfirmBox(){this.confirmBox={isShow:!0}}closeConfirmDialog(n){this.confirmBox={isShow:!1},n&&this.sendToServer()}inMergeObjs(n){let r=!1,d=this.studentMergeObjs?.length??0;for(let T=0;T<d;T++)(this.studentMergeObjs?.[T].from?.id==n.id||this.studentMergeObjs?.[T].to?.id==n.id)&&(r=!0);return r}haveSelected(n){let r=!1;for(let d=0;d<this.selectObjs.length;d++)this.selectObjs[d].id==n.id&&(r=!0);return r}selectObj(n){this.haveSelected(n)?this.selectObjs=[]:this.selectObjs.push(n),2==this.selectObjs.length&&(this.studentMergeObjs.push({from:this.selectObjs[0],to:this.selectObjs[1]}),this.selectObjs=[])}removeMergeArray(n){this.studentMergeObjs?.[n]&&this.studentMergeObjs.splice(n,1)}sendToServer(){const n=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.initStatusObj();let r=[],d=this.studentMergeObjs?.length??0;for(let it=0;it<d;it++){var T=this.studentMergeObjs?.[it].from?.id,D=this.studentMergeObjs?.[it].to?.id;T&&D&&r.push({fromId:T,toId:D})}this.waitDestroy(this.mergeStudentService.apiMergeStudentMergeObjsPost({classroomId:n,mergeObjs:r}).subscribe(it=>{1==it.success?(this.showSuccessSnack("lang_auto_gop_danh_sach_thanh_cong"),this.studentMergeObjs=[],this.selectObjs=[],this.getListMergeStudent(),this.getData(),this.selectedIndex=1,this.successStatusObj()):this.errorStatusObj(it.message??"",!0)}))}getData(){this.initStatusObj();const n=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetObjsByClassroomGet(n).subscribe(r=>{1==r.success?(this.studentObjs=this.sortService.sortFirstNameStudents(r?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(r.message??"",!0)}))}getListMergeStudent(){this.initStatusObj();const n=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetMergedObjsGet(n).subscribe(r=>{1==r.success?(this.studentMergeListObjs=this.sortService.sortFirstNameStudents(r?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(r.message??"",!0)}))}revertStudent(n){this.waitDestroy(this.mergeStudentService.apiMergeStudentRevertMergeObjGet(n).subscribe(r=>{1==r.success?(this.showSuccessSnack("lang_auto_khoi_phuc_thanh_cong"),this.getData(),this.getListMergeStudent(),this.selectedIndex=0):this.errorStatusObj(r.message??"",!0)}))}ngOnInit(){this.classroomId=this.commonService.getMyParam(this.activeRoute,"id"),this.backToLink="/admin/student/classroom-details/"+this.classroomId+"/0",this.getData(),this.getListMergeStudent()}constructor(n,r,d,T){super(),this.activeRoute=n,this.studentService=r,this.mergeStudentService=d,this.sortService=T,this.selectObjs=[],this.studentMergeObjs=[],this.confirmBox={isShow:!1},this.selectedIndex=0,this.isMobile=this.commonService.isMobileOrTable(),this.backToLink=""}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(rt.gz),t.Y36(F.VT),t.Y36(F._Y),t.Y36(gn.V))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-merge-student"]],features:[t.qOj],decls:5,vars:4,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"data","closeDialog",4,"ngIf"],[1,"container","mt-3"],[3,"selectedIndex"],[3,"label"],[1,"flex","mt-3"],[1,"p-2"],[1,"m-2"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click",4,"ngFor","ngForOf"],[1,"p-2",2,"width","70%"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mt-2"],["azt-track-service","merge-student-g45UTcIj35h",1,"pl-2","pr-2","mt-2","btn","btn-primary",3,"disabled","click"],[1,"d-flex"],[1,"w-full","sm-w-50"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click"],["class","m-2 clickable ","style"," border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important;",3,"ngClass",4,"ngIf"],[1,"m-2","clickable",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important",3,"ngClass"],[1,"m-2","p-2",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important"],[2,"font-weight","600"],[1,"clickable","text-danger",3,"click"],["class","m-2 p-2","style"," border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important;",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],["azt-track-service","merge-student-v4iYHGvaLN8",1,"hover-button","clickable",3,"click"],[3,"data","closeDialog"]],template:function(n,r){if(1&n&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,Ji,1,0,"azt-loading-effect",1),t.YNc(2,Hi,30,23,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,hi,1,1,"app-merge-student-confirm-box",3)),2&n){const d=t.MAs(3);t.Q6J("headerBackToLink",r.backToLink),t.xp6(1),t.Q6J("ngIf",r.statusObj.loading)("ngIfElse",d),t.xp6(3),t.Q6J("ngIf",r.confirmBox.isShow)}},dependencies:[Q.mk,Q.sg,Q.O5,st.uX,st.SP,ht.l,o._,ps,S.JV],styles:["a[_ngcontent-%COMP%]:hover{text-decoration:none}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex;text-decoration:none;margin-top:10px}.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff}b[_ngcontent-%COMP%]{font-weight:400}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px}.header__top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.header__work[_ngcontent-%COMP%]{display:flex}.header__gift[_ngcontent-%COMP%]{position:relative;margin-right:24px;margin-top:5px}.gift__link[_ngcontent-%COMP%]{color:#fff}.girt__count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:#fe4531;border-radius:50%;width:16px;height:16px;color:#fff;padding:0;text-align:center;font-weight:700;font-size:9px}.header__work[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.header__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-top:2px}.body[_ngcontent-%COMP%]{margin:0 auto;text-align:center;color:#fff}.body__block[_ngcontent-%COMP%]{min-width:300px;padding:35px 0;margin:0 auto;background-color:#009cbe;border:none;border-radius:5px}.block__text[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin:0}.body__about[_ngcontent-%COMP%]{margin-top:25px}.about__title[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.about__desc[_ngcontent-%COMP%]{text-align:justify}.desc__title[_ngcontent-%COMP%]{font-weight:700}.btn-add-azo[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;padding:13px 40px;border-radius:10px}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}  .mat-tab-label:hover{color:#000}.hover-button[_ngcontent-%COMP%]:hover{color:#3f51b5}.text-danger[_ngcontent-%COMP%]:hover{color:#f44336!important}@media (min-width: 640px){.sm-w-50[_ngcontent-%COMP%]{width:450px}}"]}),a})();var Gi=b(88489);let Lo=(()=>{class a{countChecked(n){var r=0;for(var d in n)!0===n[d]&&(r+=1);return r}getDefaultFilterObj(n){var r=this.localStorageSlug+n;if(this.listFilterObjs[r])return this.listFilterObjs[r];var d=this.getInitFilterObj(),T=this.browserStorageService.getSimpleStorage(r),D=this.commonService.castJsonToObj(T??"");return D&&(d=D),d}saveFilterObj(n,r){var d=this.localStorageSlug+n;this.listFilterObjs[d]=r,this.browserStorageService.saveSimpleStorage(d,this.commonService.serializeJson(r))}getInitFilterObj(){return{getHasMark:!1,getNotMarked:!1,getNotDone:!1,getResendAnswer:!1,classroomId:0,studentId:0}}constructor(n,r){this.commonService=n,this.browserStorageService=r,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}}return a.\u0275fac=function(n){return new(n||a)(t.LFG(Gn.z),t.LFG(Gi.n))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Vi=b(91675);function Ri(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1,"\xa0"),t.TgZ(2,"span",21),t._uU(3),t.qZA()()),2&a){const n=t.oxw();t.xp6(3),t.Oqu(n.totalCustomFilter)}}function hs(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"li")(1,"label",22),t.NdJ("click",function(d){return d.stopPropagation()}),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"div",10)(5,"input",23),t.NdJ("change",function(){t.CHM(n);const d=t.oxw();return d.filterObj.getResendAnswer=!d.filterObj.getResendAnswer,t.KtG(d.changeFilter())}),t.qZA()()()()}if(2&a){const n=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_student_profile_filter_get_resend_answer")," "),t.xp6(3),t.Q6J("checked",n.filterObj.getResendAnswer)}}let $i=(()=>{class a extends x.Q{changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}clearFilter(){this.filterObj=this.studentProfileFilterService.getInitFilterObj(),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilter()}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}constructor(n){super(),this.studentProfileFilterService=n,this.filterType="",this.changeFilterEvent=new t.vpe,this.totalCustomFilter=0}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(Lo))},a.\u0275cmp=t.Xpm({type:a,selectors:[["student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},features:[t.qOj],decls:41,vars:24,consts:[[1,"btn","btn-sm",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-0","md:mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["azt-track-service","filter-menu-SVYEFVdq9z","for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-OF32qNGQY8","for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-EpBgopx3Iv","for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","filter-menu-2gPTdI1ODd",3,"click"],["azt-track-service","filter-menu-cGVj55-Aac",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["azt-track-service","filter-menu-FWtx2ole8G","for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"]],template:function(n,r){if(1&n&&(t.TgZ(0,"button",0),t.O4$(),t.TgZ(1,"svg",1),t._UZ(2,"polygon",2),t.qZA(),t.kcU(),t.TgZ(3,"span",3),t._uU(4),t.ALo(5,"mytranslate"),t.YNc(6,Ri,4,1,"span",4),t.qZA()(),t.TgZ(7,"mat-menu",5,6)(9,"div",7)(10,"ul",8)(11,"li")(12,"label",9),t.NdJ("click",function(T){return T.stopPropagation()}),t._uU(13),t.ALo(14,"mytranslate"),t.TgZ(15,"div",10)(16,"input",11),t.NdJ("change",function(){return r.filterObj.getHasMark=!r.filterObj.getHasMark,r.changeFilter()}),t.qZA()()()(),t.TgZ(17,"li")(18,"label",12),t.NdJ("click",function(T){return T.stopPropagation()}),t._uU(19),t.ALo(20,"mytranslate"),t.TgZ(21,"div",10)(22,"input",13),t.NdJ("change",function(){return r.filterObj.getNotMarked=!r.filterObj.getNotMarked,r.changeFilter()}),t.qZA()()()(),t.TgZ(23,"li")(24,"label",14),t.NdJ("click",function(T){return T.stopPropagation()}),t._uU(25),t.ALo(26,"mytranslate"),t.TgZ(27,"div",10)(28,"input",15),t.NdJ("change",function(){return r.filterObj.getNotDone=!r.filterObj.getNotDone,r.changeFilter()}),t.qZA()()()(),t.YNc(29,hs,6,4,"li",4),t.TgZ(30,"li"),t._UZ(31,"hr",16),t.qZA(),t.TgZ(32,"li")(33,"div",17)(34,"button",18),t._uU(35),t.ALo(36,"mytranslate"),t.qZA(),t.TgZ(37,"div",19),t.NdJ("click",function(T){return T.stopPropagation()}),t.TgZ(38,"button",20),t.NdJ("click",function(){return r.clearFilter()}),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()()()()()()()),2&n){const d=t.MAs(8);t.Q6J("matMenuTriggerFor",d),t.xp6(4),t.hij(" ",t.lcZ(5,12,"lang_testbank_tested_list_sort")," "),t.xp6(2),t.Q6J("ngIf",r.totalCustomFilter>0),t.xp6(7),t.hij(" ",t.lcZ(14,14,"lang_student_profile_filter_get_has_mark")," "),t.xp6(3),t.Q6J("checked",r.filterObj.getHasMark),t.xp6(3),t.hij(" ",t.lcZ(20,16,"lang_student_profile_filter_get_not_marked")," "),t.xp6(3),t.Q6J("checked",r.filterObj.getNotMarked),t.xp6(3),t.hij(" ",t.lcZ(26,18,"exam"==r.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),t.xp6(3),t.Q6J("checked",r.filterObj.getNotDone),t.xp6(1),t.Q6J("ngIf","homework"==r.filterType),t.xp6(6),t.Oqu(t.lcZ(36,20,"lang_button_close")),t.xp6(4),t.Oqu(t.lcZ(40,22,"lang_button_delete"))}},dependencies:[Q.O5,be.VK,be.p6,S.JV],encapsulation:2}),a})();function ws(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t._UZ(3,"azt-check-mark",18),t.qZA()),2&a){const n=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_point"),": "),t.xp6(2),t.Q6J("mark",n.resultMarkObj.point)}}function fs(a,g){1&a&&(t.TgZ(0,"span",19),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function _(a,g){if(1&a&&(t.ynx(0),t.YNc(1,ws,4,4,"span",14),t.YNc(2,fs,3,3,"span",17),t.BQk()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",n.resultMarkObj.confirmedAt),t.xp6(1),t.Q6J("ngIf",!n.resultMarkObj.confirmedAt)}}function s(a,g){1&a&&(t.TgZ(0,"span",20),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_statistical_not_exem_yet")," "))}function i(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){const T=t.CHM(n).$implicit,D=t.oxw();return t.KtG(D.clickToExamObj(T))}),t.TgZ(1,"div",8),t.O4$(),t.TgZ(2,"svg",9),t._UZ(3,"path",10),t.qZA()(),t.kcU(),t.TgZ(4,"div",11)(5,"p",12),t._uU(6),t.qZA(),t.TgZ(7,"div",13),t.YNc(8,_,3,2,"ng-container",14),t.YNc(9,s,3,3,"span",15),t.qZA(),t.TgZ(10,"div",16),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()()}if(2&a){const n=g.$implicit,r=g.index;t.Gre("clickable zoom-in flex items-center ",r>0?"mt-3":""," pb-2"),t.xp6(5),t.s9C("matTooltip",n.name),t.xp6(1),t.AsE("",r+1,". ",n.name,""),t.xp6(2),t.Q6J("ngIf",n.resultMarkObj),t.xp6(1),t.Q6J("ngIf",!n.resultMarkObj),t.xp6(2),t.AsE("",t.lcZ(12,10,"lang_student_profile_utils_list_exam_created_at"),": ",t.lcZ(13,12,n.createdAt),"")}}function c(a,g){1&a&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_list_null")))}function u(a,g){1&a&&t._UZ(0,"azt-loading-effect")}function h(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",22),t.YNc(1,u,1,0,"azt-loading-effect",14),t.TgZ(2,"button",23),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.getNextExamResultObjs())}),t.ALo(3,"mytranslate"),t.O4$(),t.TgZ(4,"svg",24),t._UZ(5,"polyline",25),t.qZA()()()}if(2&a){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.s9C("matTooltip",t.lcZ(3,3,"lang_student_profile_utils_list_exam_tooltip_view")),t.Q6J("disabled",!n.examNextPage)}}let k=(()=>{class a extends x.Q{clickToExamObj(n){n.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("exam",n)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+n.id+"/"+n.resultMarkObj?.userId+"/"+n.resultMarkObj?.studentId+"/"+(n.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(n.categoryId??0)+"/"+n.id+"/0","?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.examNextPage="",this.getNextExamResultObjs()}getNextExamResultObjs(){this.initStatusObj();var n=this.studentProfileFilterService.getDefaultFilterObj("exam");n.classroomId=this.classroomId,n.studentId=this.studentId,n.nextPage=this.examNextPage,this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(n).subscribe(r=>{1==r.success?(this.examObjs=this.examObjs.concat(r.data?.objs??[]),this.examNextPage=r.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextExamResultObjs()}constructor(n,r,d){super(),this.studentProfileV2Service=n,this.studentProfileFilterService=r,this.permissionService=d,this.backToLink="",this.examObjs=[],this.examNextPage=""}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(F.LU),t.Y36(Lo),t.Y36(mn.j))},a.\u0275cmp=t.Xpm({type:a,selectors:[["student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink"},features:[t.qOj],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","list-exam-pw607HPZy",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","list-exam-pw607HPZy",3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"w-12","h-12","text-pending","bi","bi-file-earmark-check-fill"],["d","M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm1.354 4.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708.708z"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],["azt-track-service","list-exam-wvCfNB667b",1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"student-profile-filter-menu",2),t.NdJ("changeFilterEvent",function(){return r.reInitData()}),t.qZA()(),t.TgZ(5,"div",3),t.YNc(6,i,14,14,"div",4),t.YNc(7,c,3,3,"div",5),t.YNc(8,h,6,5,"div",6),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"lang_student_profile_utils_list_exam_list_submitted")),t.xp6(2),t.Q6J("filterType","exam"),t.xp6(2),t.Q6J("ngForOf",r.examObjs),t.xp6(1),t.Q6J("ngIf",0==r.examObjs.length&&!r.examNextPage),t.xp6(1),t.Q6J("ngIf",r.examObjs.length>0&&r.examNextPage))},dependencies:[Q.sg,Q.O5,bt.gM,ht.l,Vi.B,$i,S.JV,S.$n],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),a})();function A(a,g){1&a&&(t.TgZ(0,"span",11),t._UZ(1,"azt-loading-ui"),t.qZA())}let N=(()=>{class a extends Bt.e{confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id??0).subscribe(n=>{1==n.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(n.message??"",!0))}))}btnCloseDialog(n){this.dialogRef.close(n)}constructor(n,r,d){super(d,r),this.studentService=n,this.dialogRef=r,this.data=d,this.studentObj=d.studentObj,this.classroomObj=d.classroomObj}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(F.VT),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-delete-parent"]],features:[t.qOj],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-parent-OCYQzQEUBJ",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-parent-q0ZQYEQFkD",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"b",4),t._uU(8),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"span",5),t._uU(12),t.qZA(),t._uU(13,"\xa0 "),t.TgZ(14,"span",6),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()()(),t.TgZ(17,"div",7)(18,"button",8),t.NdJ("click",function(){return r.btnCloseDialog(!1)}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"button",9),t.NdJ("click",function(){return r.confirmDelete()}),t.YNc(22,A,2,0,"span",10),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),t.xp6(3),t.Oqu(r.studentObj.fullName),t.xp6(1),t.hij(" ",t.lcZ(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),t.xp6(2),t.s9C("matTooltip",r.classroomObj.name),t.xp6(1),t.hij(" ",r.classroomObj.name,""),t.xp6(3),t.hij("* ",t.lcZ(16,13,"lang_student_utils_delete_parent_reques"),""),t.xp6(4),t.hij(" ",t.lcZ(20,15,"lang_cms_common_close_btn")," "),t.xp6(3),t.Q6J("ngIf",r.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[Q.O5,bt.gM,At.R,ft.n,S.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:98;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137)}.school-info[_ngcontent-%COMP%]{z-index:99;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;border-radius:5px;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 2px 0 0;white-space:nowrap}.text-note[_ngcontent-%COMP%]{display:block;font-style:italic;font-size:15px;color:#000;font-weight:600;text-align:center;margin:10px 0}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),a})();function J(a,g){1&a&&t._UZ(0,"azt-loading-effect")}function V(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(4);return t.KtG(d.editStudentDialog(d.studentObj))}),t.TgZ(1,"div",15),t._UZ(2,"lucide-icon",16),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_button_edit")," "))}function H(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(4);return t.KtG(d.deleteStudentDialog(d.studentObj))}),t.TgZ(1,"div",18),t._UZ(2,"lucide-icon",19),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function tt(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(4);return t.KtG(d.deleteParentOfStudentDialog(d.studentObj))}),t.TgZ(1,"div",21),t._UZ(2,"lucide-icon",22),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_student_profile_utils_account_student_required_verifie")," "))}const W=function(a){return[a]};function gt(a,g){if(1&a&&(t.TgZ(0,"button",23),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",15),t._UZ(3,"lucide-icon",24),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()),2&a){const n=t.oxw(4);t.Q6J("routerLink",t.VKq(6,W,t.lcZ(1,2,"/business/message/student/"+n.studentObj.id))),t.xp6(4),t.hij(" ",t.lcZ(5,4,"lang_business_dashboard_business_messages")," ")}}function Ot(a,g){if(1&a&&(t.TgZ(0,"div",9),t.YNc(1,V,5,3,"button",10),t.ALo(2,"editPermission"),t.YNc(3,H,5,3,"button",11),t.ALo(4,"fullPermission"),t.ALo(5,"editPermission"),t.YNc(6,tt,5,3,"button",12),t.ALo(7,"editPermission"),t.YNc(8,gt,6,8,"button",13),t.qZA()),2&a){const n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.xi3(2,4,n.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(4,7,n.classroomObj,"student")||t.xi3(5,10,n.classroomObj,"student")),t.xp6(3),t.Q6J("ngIf",0!=n.studentObj.parentId&&t.xi3(7,13,n.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",n.businessChatService.ready&&n.studentObj.parentId>0)}}function Pt(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(4);return t.KtG(d.deleteStudentDialog(d.studentObj))}),t.TgZ(1,"div",18),t._UZ(2,"lucide-icon",19),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function Ft(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",9)(1,"button",25),t.NdJ("click",function(){t.CHM(n);const d=t.oxw(3);return t.KtG(d.editStudentDialog(d.studentObj))}),t.TgZ(2,"div",15),t._UZ(3,"lucide-icon",16),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.YNc(6,Pt,5,3,"button",26),t.ALo(7,"fullPermission"),t.ALo(8,"editPermission"),t.qZA()}if(2&a){const n=t.oxw(3);t.xp6(4),t.hij(" ",t.lcZ(5,2,"lang_button_edit")," "),t.xp6(2),t.Q6J("ngIf",t.xi3(7,4,n.classroomObj,"student")||t.xi3(8,7,n.classroomObj,"student"))}}const Jt=function(){return[]};function Lt(a,g){if(1&a&&(t.ynx(0),t.TgZ(1,"div",4)(2,"div",5),t._UZ(3,"azt-student-info-box",6),t.qZA(),t.TgZ(4,"div",7),t.YNc(5,Ot,9,16,"div",8),t.ALo(6,"editPermission"),t.qZA()(),t.YNc(7,Ft,9,10,"div",8),t.ALo(8,"editPermission"),t.BQk()),2&a){const n=t.oxw(2);let r;t.xp6(3),t.Q6J("name",n.studentObj.fullName)("parentFullName",n.studentObj.parentFullName)("parentId",n.studentObj.parentId)("parentPhone",n.studentObj.parentPhone)("email",n.studentObj.email)("birthday",n.studentObj.birthday)("avatar",n.studentObj.avatar)("gender",n.studentObj.gender)("schoolName",null==n.studentObj.moreInfo?null:n.studentObj.moreInfo.schoolName)("facebookLink",null==n.studentObj.moreInfo?null:n.studentObj.moreInfo.facebookLink)("identificationNumber",n.studentObj.identificationNumber)("hasUser",1==n.studentObj.isVerified)("classrooms",null!==(r=null==n.studentObj.moreInfo?null:n.studentObj.moreInfo.classrooms)&&void 0!==r?r:t.DdM(22,Jt))("joinedAt",null==n.studentObj.moreInfo?null:n.studentObj.moreInfo.joinedAt),t.xp6(2),t.Q6J("ngIf",0!=n.studentObj.parentId&&t.xi3(6,16,n.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",0==n.studentObj.parentId&&t.xi3(8,19,n.classroomObj,"student"))}}function Qt(a,g){1&a&&(t.TgZ(0,"div",28)(1,"span",29),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_profile_student_not_found")))}function Xe(a,g){if(1&a&&(t.YNc(0,Lt,9,23,"ng-container",1),t.YNc(1,Qt,4,3,"ng-template",null,3,t.W1O)),2&a){const n=t.MAs(2),r=t.oxw();t.Q6J("ngIf",r.studentObj)("ngIfElse",n)}}let En=(()=>{class a extends x.Q{deleteStudentDialog(n){this.sAztDialogService.open(Ne,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(d=>{d&&this.commonService.myNavigation(this.paramBackToLink)})}editStudentDialog(n){this.sAztDialogService.open(Fn,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(d=>{d&&(this.reInitComponentEvent.emit(),this.getData())})}deleteParentOfStudentDialog(n){this.sAztDialogService.open(N,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(d=>{d&&(this.reInitComponentEvent.emit(),this.getData())})}getData(){this.initStatusObj(),this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0}).subscribe(r=>{1==r.success?(r.data?.studentObj&&r.data?.classroomObj&&r.data.classroomObj.permissionObj&&(this.studentObj=r.data.studentObj,this.classroomObj=r.data.classroomObj),this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.getData()}constructor(n,r){super(),this.studentProfileV2Service=n,this.sAztDialogService=r,this.classroomList=[],this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new t.vpe}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(F.LU),t.Y36(ye.C))},a.\u0275cmp=t.Xpm({type:a,selectors:[["detail-account-student"]],inputs:{classroomId:"classroomId",studentId:"studentId",classroomList:"classroomList",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[t.qOj],decls:4,vars:2,consts:[[1,"intro-y","box","px-5","pt-5"],[4,"ngIf","ngIfElse"],["doneLoading",""],["noStudentObj",""],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[3,"name","parentFullName","parentId","parentPhone","email","birthday","avatar","gender","schoolName","facebookLink","identificationNumber","hasUser","classrooms","joinedAt"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["azt-track-service","detail-account-student-rzLFlIWrx","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-zZpuvJmKGS","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-hml3hBaXHE","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"routerLink",4,"ngIf"],["azt-track-service","detail-account-student-rzLFlIWrx",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-primary"],["name","pencil"],["azt-track-service","detail-account-student-zZpuvJmKGS",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-danger"],["name","trash-2"],["azt-track-service","detail-account-student-hml3hBaXHE",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-warning"],["name","shield-alert"],[1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"routerLink"],["name","mail"],["azt-track-service","detail-account-student-WgNDrDRXqF",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","detail-account-student-njjAOAGlF5","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-njjAOAGlF5",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-5"],[1,"block","sm:inline"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,J,1,0,"azt-loading-effect",1),t.YNc(2,Xe,3,2,"ng-template",null,2,t.W1O),t.qZA()),2&n){const d=t.MAs(3);t.xp6(1),t.Q6J("ngIf",r.statusObj.loading)("ngIfElse",d)}},dependencies:[rt.rH,Q.O5,ht.l,Qn.a,Ct.Nh5,S.Jy,S.JV,S.NK,S.Pf],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]}),a})();function Do(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t._UZ(3,"azt-check-mark",22),t.qZA()),2&a){const n=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_point"),": "),t.xp6(2),t.Q6J("mark",n.resultMarkObj.point)}}function xi(a,g){1&a&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_profile_not_mark_result")," "))}function js(a,g){if(1&a&&(t.TgZ(0,"span"),t.YNc(1,Do,4,4,"span",18),t.YNc(2,xi,3,3,"span",21),t.qZA()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",n.resultMarkObj.confirmedAt),t.xp6(1),t.Q6J("ngIf",!n.resultMarkObj.confirmedAt)}}function Ns(a,g){1&a&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_profile_no_result")," "))}function Ms(a,g){if(1&a&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_student_profile_resend_answer_required"),": ",n.resendAnswerObj.resendNote," ")}}function Ls(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){const T=t.CHM(n).$implicit,D=t.oxw();return t.KtG(D.clickToHomeworkObj(T))}),t.TgZ(1,"div",8),t.O4$(),t.TgZ(2,"svg",9),t._UZ(3,"path",10)(4,"polyline",11)(5,"line",12)(6,"line",13)(7,"line",14),t.qZA()(),t.kcU(),t.TgZ(8,"div",15)(9,"p",16),t._uU(10),t.qZA(),t.TgZ(11,"div",17),t.YNc(12,js,3,2,"span",18),t.YNc(13,Ns,3,3,"span",19),t.YNc(14,Ms,3,4,"span",19),t.qZA(),t.TgZ(15,"div",20),t._uU(16),t.ALo(17,"mytranslate"),t.ALo(18,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()()}if(2&a){const n=g.$implicit,r=g.index;t.Gre("clickable zoom-in flex items-center ",r>0?"mt-5":""," pb-2"),t.xp6(9),t.s9C("matTooltip",n.name),t.xp6(1),t.AsE("",r+1,". ",n.name,""),t.xp6(2),t.Q6J("ngIf",n.resultMarkObj),t.xp6(1),t.Q6J("ngIf",!n.resultMarkObj&&!n.resendAnswerObj),t.xp6(1),t.Q6J("ngIf",!n.resultMarkObj&&n.resendAnswerObj),t.xp6(2),t.AsE("",t.lcZ(17,11,"lang_student_profile_utils_homework_answer_created_at"),": ",t.lcZ(18,13,n.createdAt),"")}}function Ds(a,g){1&a&&(t.TgZ(0,"div",25),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_list_null")))}function Es(a,g){1&a&&t._UZ(0,"azt-loading-effect")}function Ps(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",26),t.YNc(1,Es,1,0,"azt-loading-effect",18),t.TgZ(2,"button",27),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.getNextHomeworkAnswerObjs())}),t.ALo(3,"mytranslate"),t.O4$(),t.TgZ(4,"svg",28),t._UZ(5,"polyline",29),t.qZA()()()}if(2&a){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.s9C("matTooltip",t.lcZ(3,3,"lang_auto_hien_ban_ghi_cu_hon")),t.Q6J("disabled",!n.homeworkNextPage)}}let Us=(()=>{class a extends x.Q{clickToHomeworkObj(n){n.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("homework",n)?this.commonService.myNavigationWithQueryString("/admin/homework/switch-mark-exercise/"+n.resultMarkObj?.resultId+"/"+n.hashId+"/"+(this.studentId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(n.classroomId??0)+"/"+n.id+"/"+n.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var n=this.studentProfileFilterService.getDefaultFilterObj("homework");n.classroomId=this.classroomId,n.studentId=this.studentId,n.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(n).subscribe(r=>{1==r.success?(this.homeworkObjs=this.homeworkObjs.concat(r.data?.objs??[]),this.homeworkNextPage=r.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}constructor(n,r,d){super(),this.studentProfileV2Service=n,this.studentProfileFilterService=r,this.permissionService=d,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(F.LU),t.Y36(Lo),t.Y36(mn.j))},a.\u0275cmp=t.Xpm({type:a,selectors:[["student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink"},features:[t.qOj],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-12","h-12","text-primary"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],["azt-track-service","homework-answer-MWO-mgLYZ_",1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"student-profile-filter-menu",2),t.NdJ("changeFilterEvent",function(){return r.reInitData()}),t.qZA()(),t.TgZ(5,"div",3),t.YNc(6,Ls,19,15,"div",4),t.YNc(7,Ds,3,3,"div",5),t.YNc(8,Ps,6,5,"div",6),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"lang_student_profile_utils_homework_answer_list_submitted")),t.xp6(2),t.Q6J("filterType","homework"),t.xp6(2),t.Q6J("ngForOf",r.homeworkObjs),t.xp6(1),t.Q6J("ngIf",0==r.homeworkObjs.length&&!r.homeworkNextPage),t.xp6(1),t.Q6J("ngIf",r.homeworkObjs.length>0&&r.homeworkNextPage))},dependencies:[Q.sg,Q.O5,bt.gM,ht.l,Vi.B,$i,S.JV,S.$n],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),a})();var xs=b(66469),bs=b(95287);function zs(a,g){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"lucide-icon",15),t.qZA()),2&a){const n=t.oxw().$implicit;t.xp6(1),t.s9C("name",n.showChild?"chevron-up":"chevron-down")}}function Fs(a,g){if(1&a&&(t.TgZ(0,"span",18),t._uU(1),t.qZA()),2&a){const n=t.oxw(2).$implicit;t.xp6(1),t.Oqu(n.averageMark)}}const Js=function(a){return{"width.%":a}};function qs(a,g){if(1&a&&(t.TgZ(0,"div",16),t.YNc(1,Fs,2,1,"span",17),t.qZA()),2&a){const n=t.oxw().$implicit;t.Q6J("ngStyle",t.VKq(2,Js,10*n.averageMark)),t.xp6(1),t.Q6J("ngIf",n.averageMark>1)}}function Qs(a,g){if(1&a&&(t.TgZ(0,"div",19),t._UZ(1,"knowledge-by-subject-student",20),t.qZA()),2&a){const n=t.oxw().$implicit,r=t.oxw();t.xp6(1),t.Q6J("knowledgeDetailObjs",n.children)("countLevelNode",r.countLevelNode+1)}}const Ys=function(a,g,n,r,d){return{"mt-3":a,"border-none":g,"bg-slate-100":n,"bg-white":r,"pb-0":d}},Bs=function(a){return{cursor:a}},Hs=function(a,g){return{"font-medium":a,"font-normal":g}},Gs=function(a){return{"padding-left.px":a}};function Vs(a,g){if(1&a){const n=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t.NdJ("click",function(){const T=t.CHM(n).$implicit,D=t.oxw();return t.KtG(D.showChildKnowledgeData(T))}),t.TgZ(3,"h3",4),t._uU(4),t.ALo(5,"mytranslate"),t.YNc(6,zs,2,1,"span",5),t.qZA()(),t.TgZ(7,"div",6)(8,"h3",7),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"b"),t._uU(12),t.qZA(),t._uU(13,"/"),t.TgZ(14,"b"),t._uU(15),t.qZA(),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.TgZ(18,"div",8)(19,"div",9)(20,"span",10),t._uU(21,"0"),t.qZA(),t.TgZ(22,"div",11),t.YNc(23,qs,2,4,"div",12),t.qZA(),t.TgZ(24,"span",13),t._uU(25,"10"),t.qZA()()()(),t.YNc(26,Qs,2,2,"div",14),t.qZA()}if(2&a){const n=g.$implicit,r=g.first,d=g.last,T=t.oxw();t.Q6J("ngClass",t.qbA(19,Ys,r&&0==T.countLevelNode,d,T.countLevelNode%2!=0,T.countLevelNode%2==0,n.showChild)),t.xp6(2),t.Akn(t.VKq(25,Bs,n.children&&n.children.length?"pointer":"default")),t.xp6(1),t.Q6J("ngClass",t.WLB(27,Hs,0==T.countLevelNode||n.showChild,0!=T.countLevelNode&&!n.showChild))("ngStyle",t.VKq(30,Gs,5*T.countLevelNode)),t.xp6(1),t.hij(" ",t.lcZ(5,13,n.name)," "),t.xp6(2),t.Q6J("ngIf",n.children&&n.children.length),t.xp6(3),t.hij(" ",t.lcZ(10,15,"lang_auto_tra_loi_dung"),":\xa0"),t.xp6(3),t.Oqu(n.totalCorrectQuestion),t.xp6(3),t.Oqu(n.totalQuestion),t.xp6(1),t.hij("\xa0",t.lcZ(17,17,"azt_lang_sugg_question")," "),t.xp6(7),t.Q6J("ngIf",n.averageMark),t.xp6(3),t.Q6J("ngIf",n.children&&n.children.length&&n.showChild)}}let Rs=(()=>{class a extends x.Q{showChildKnowledgeData(n){n.children&&n.children.length&&(n.showChild=!n.showChild)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.knowledgeDetailObjs=[],this.countLevelNode=1}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["knowledge-by-subject-student"]],inputs:{knowledgeDetailObjs:"knowledgeDetailObjs",countLevelNode:"countLevelNode"},features:[t.qOj],decls:1,vars:1,consts:[["class","border-b border-slate-200/60 dark:border-darkmode-400","style","padding: 10px 24px; margin-left: -24px; margin-right: -24px;",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center",3,"click"],[1,"",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr","pr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],["style","margin-top: 10px",4,"ngIf"],[2,"vertical-align","top","height","16px!important","width","16px!important",3,"name"],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[2,"margin-top","10px"],[3,"knowledgeDetailObjs","countLevelNode"]],template:function(n,r){1&n&&t.YNc(0,Vs,27,32,"div",0),2&n&&t.Q6J("ngForOf",r.knowledgeDetailObjs)},dependencies:[Q.mk,Q.sg,Q.O5,Q.PC,Ct.Nh5,a,S.JV],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}.pb-0[_ngcontent-%COMP%]{padding-bottom:0!important}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),a})();function $s(a,g){1&a&&t._UZ(0,"azt-loading-effect")}function Ks(a,g){if(1&a&&(t.TgZ(0,"span",23),t._uU(1),t.qZA()),2&a){const n=t.oxw(2).$implicit;t.xp6(1),t.Oqu(n.averageMark)}}const ys=function(a){return{"width.%":a}};function Ws(a,g){if(1&a&&(t.TgZ(0,"div",21),t.YNc(1,Ks,2,1,"span",22),t.qZA()),2&a){const n=t.oxw().$implicit;t.Q6J("ngStyle",t.VKq(2,ys,10*n.averageMark)),t.xp6(1),t.Q6J("ngIf",n.averageMark&&n.averageMark>1)}}function Xs(a,g){1&a&&(t.TgZ(0,"div",24)(1,"span",25),t._UZ(2,"azt-loading-ui"),t.qZA()())}function tr(a,g){1&a&&(t.ynx(0),t.TgZ(1,"div",27)(2,"span",28),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.BQk()),2&a&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_profile_student_not_support_subject")))}function er(a,g){if(1&a&&(t.ynx(0),t.TgZ(1,"div",37)(2,"h4",30),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t._UZ(5,"knowledge-by-subject-student",38),t.BQk()),2&a){const n=t.oxw(3).$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,3,"lang_student_profile_result_by_topic")," "),t.xp6(2),t.Q6J("knowledgeDetailObjs",n.knowledgeDataObjs)("countLevelNode",0)}}function nr(a,g){if(1&a&&(t.TgZ(0,"span",23),t._uU(1),t.qZA()),2&a){const n=t.oxw(2).$implicit;t.xp6(1),t.Oqu(n.averageMark)}}const or=function(a,g,n,r){return{"bg-orange-600":a,"bg-red-600":g,"bg-green-600":n,"bg-blue-600":r}};function ir(a,g){if(1&a&&(t.TgZ(0,"div",50),t.YNc(1,nr,2,1,"span",22),t.qZA()),2&a){const n=t.oxw().$implicit;t.Q6J("ngClass",t.l5B(3,or,1==n.id,3==n.id,2==n.id,4==n.id))("ngStyle",t.VKq(8,ys,10*n.averageMark)),t.xp6(1),t.Q6J("ngIf",n.averageMark>1)}}const ar=function(a){return{"border-none":a}};function sr(a,g){if(1&a&&(t.TgZ(0,"div",40)(1,"div",41)(2,"div",42)(3,"h3",43),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",44)(7,"h3",43),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"b"),t._uU(11),t.qZA(),t._uU(12,"/"),t.TgZ(13,"b"),t._uU(14),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()(),t.TgZ(17,"div",45)(18,"div",46)(19,"span",47),t._uU(20,"0"),t.qZA(),t.TgZ(21,"div",48),t.YNc(22,ir,2,10,"div",49),t.qZA(),t.TgZ(23,"span",18),t._uU(24,"10"),t.qZA()()()()()),2&a){const n=g.$implicit;t.Q6J("ngClass",t.VKq(13,ar,g.last)),t.xp6(4),t.hij(" ",t.lcZ(5,7,n.name)," "),t.xp6(4),t.hij(" ",t.lcZ(9,9,"lang_auto_tra_loi_dung"),":\xa0"),t.xp6(3),t.Oqu(n.totalCorrectQuestion),t.xp6(3),t.Oqu(n.totalQuestion),t.xp6(1),t.hij("\xa0",t.lcZ(16,11,"azt_lang_sugg_question")," "),t.xp6(7),t.Q6J("ngIf",n.averageMark)}}function rr(a,g){if(1&a&&(t.ynx(0),t.TgZ(1,"div",37)(2,"h4",30),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.YNc(5,sr,25,15,"div",39),t.BQk()),2&a){const n=t.oxw(3).$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_student_profile_result_by_difficulty_level")," "),t.xp6(2),t.Q6J("ngForOf",n.difficultyDataObjs)}}function lr(a,g){if(1&a&&(t.TgZ(0,"div",29)(1,"h4",30),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()(),t.TgZ(4,"div",31)(5,"div",32)(6,"div",33)(7,"div",34),t._UZ(8,"div",35),t.qZA()()()(),t.YNc(9,er,6,5,"ng-container",36),t.YNc(10,rr,6,4,"ng-container",36)),2&a){const n=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_student_profile_exam_point_by_time")," "),t.xp6(6),t.Q6J("chart",n.chart),t.xp6(1),t.Q6J("ngIf",n.knowledgeDataObjs&&n.knowledgeDataObjs.length),t.xp6(1),t.Q6J("ngIf",n.difficultyDataObjs&&n.difficultyDataObjs.length)}}function cr(a,g){if(1&a&&(t.YNc(0,tr,5,3,"ng-container",1),t.YNc(1,lr,11,6,"ng-template",null,26,t.W1O)),2&a){const n=t.MAs(2),r=t.oxw().$implicit;t.Q6J("ngIf",r.errorGetData)("ngIfElse",n)}}function mr(a,g){if(1&a){const n=t.EpF();t.ynx(0),t.TgZ(1,"mat-expansion-panel",7),t.NdJ("opened",function(){const T=t.CHM(n).index,D=t.oxw(2);return t.KtG(D.getStatisticalById(T))}),t.TgZ(2,"mat-expansion-panel-header",8)(3,"div",9)(4,"div",10)(5,"h3",11),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"mytranslate"),t.qZA()(),t.TgZ(9,"div",12)(10,"div",13)(11,"span",14),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"span",15),t._uU(15,"0"),t.qZA(),t.TgZ(16,"div",16),t.YNc(17,Ws,2,4,"div",17),t.qZA(),t.TgZ(18,"span",18),t._uU(19,"10"),t.qZA()()()()(),t.YNc(20,Xs,3,0,"div",19),t.YNc(21,cr,3,2,"ng-template",null,20,t.W1O),t.qZA(),t.BQk()}if(2&a){const n=g.$implicit,r=t.MAs(22);t.xp6(6),t.AsE(" ",t.lcZ(7,6,n.subjectName)," ","("+t.lcZ(8,8,n.levelName)+")"," "),t.xp6(6),t.Oqu(t.lcZ(13,10,"lang_auto_diem_trung_binh")),t.xp6(5),t.Q6J("ngIf",n.averageMark),t.xp6(3),t.Q6J("ngIf",n.isLoading)("ngIfElse",r)}}function _r(a,g){if(1&a&&(t.TgZ(0,"div",3)(1,"div",4)(2,"mat-accordion",5),t.YNc(3,mr,23,12,"ng-container",6),t.qZA()()()),2&a){const n=t.oxw();t.xp6(3),t.Q6J("ngForOf",n.levelSubjectObjs)}}let dr=(()=>{class a extends x.Q{getStatisticalById(n){this.levelSubjectObjs.length&&this.levelSubjectObjs[n]&&(this.levelSubjectObjs[n].isLoading=!0,this.levelSubjectObjs[n].errorGetData=!1,this.studentService.apiStudentsStudentIdFieldGet(this.studentId,this.levelSubjectObjs[n].levelId??0,this.levelSubjectObjs[n].subjectId??0).subscribe({next:r=>{r?(this.levelSubjectObjs[n].difficultyDataObjs=r.difficulty??[],this.levelSubjectObjs[n].knowledgeDataObjs=r.knowledge??[],this.levelSubjectObjs[n].chart=this.createChart(r.examResults??[]),this.levelSubjectObjs[n].isLoading=!1,this.levelSubjectObjs[n].errorGetData=!1):(this.levelSubjectObjs[n].isLoading=!1,this.levelSubjectObjs[n].errorGetData=!0,this.stopStatusObj())},error:r=>{this.levelSubjectObjs[n].isLoading=!1,this.levelSubjectObjs[n].errorGetData=!0,this.errorStatusObj(r.error.message??"",!0)}}))}createChart(n){let r=this.commonService.myTranslateInstant("lang_auto_Diem")??"",d=this.commonService.myTranslateInstant("lang_student_profile_exam_point_by_time")??"",T=[],D=[];return n.forEach(it=>{T.push(it.mark??0),D.push(this.sAztTimeService.formatFullDateTimeWithoutSecondByUserUnit(it.createdAt))}),new xs.kL({chart:{type:"line",style:{fontFamily:"Arial"}},title:{style:{wordWrap:"break-word","text-align":"center"},text:d,useHTML:!0},colors:["#2361ae"],credits:{enabled:!1},xAxis:{categories:D},yAxis:{title:{text:r}},series:[{name:r,type:"line",data:T}]})}getDataSubject(){this.initStatusObj(),this.isBusinessDomain?this.studentService.apiStudentsStudentIdAverageLevelSubjectMarksGet(this.studentId).subscribe({next:n=>{this.levelSubjectObjs=n.list??[],this.getStatisticalById(0),this.stopStatusObj()},error:n=>{this.errorStatusObj(n.error.message,!0)}}):this.examPageResultService.apiExamPageResultListStudentProfileByLevelSubjectsGet(this.studentId).subscribe(n=>{1==n.success&&n.data?(this.levelSubjectObjs=n.data.objs??[],this.getStatisticalById(0),this.stopStatusObj()):this.errorStatusObj(n.message??"",!0)})}ngOnInit(){super.ngOnInit(),this.getDataSubject()}constructor(n,r,d){super(),this.examPageResultService=n,this.studentService=r,this.sAztTimeService=d,this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new t.vpe,this.levelSubjectObjs=[],this.chart=new xs.kL}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(yt.DR),t.Y36(Yn.VT),t.Y36(ct.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["detail-by-subject-student"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[t.qOj],decls:4,vars:2,consts:[[1,"intro-y"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"px-5"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[2,"margin-top","0.75rem",3,"opened"],[1,"pad-mobile"],[1,"grid","grid-cols-12","gap-3","gap-mobile","items-center","w-full","justify-between"],[1,"col-span-12","lg:col-span-3"],[1,"font-medium","mr-3"],[1,"col-span-12","lg:col-span-9","text-center"],[1,"flex","profile-flr","pr-5",2,"align-items","center"],[1,"text-md",2,"vertical-align","middle","margin-right","15px"],[1,"text-md",2,"vertical-align","middle","margin-right","5px"],[1,"w-avg-profile","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],["class","flex justify-center mt-3",4,"ngIf","ngIfElse"],["doneLoadingPage",""],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[1,"flex","justify-center","mt-3"],[1,"w-6","h-6","inline-block"],["hasData",""],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"report-box","intro-x","mt-3"],[1,"box","p-5"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[4,"ngIf"],[1,"w-auto","text-left","bg-gray-200","mt-3",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[3,"knowledgeDetailObjs","countLevelNode"],["class","border-b border-slate-200/60 dark:border-darkmode-400 mt-2 py-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","mt-2","py-3",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 text-right p-0.5 leading-none",3,"ngClass","ngStyle",4,"ngIf"],[1,"h-6","text-blue-100","text-right","p-0.5","leading-none",3,"ngClass","ngStyle"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,$s,1,0,"azt-loading-effect",1),t.YNc(2,_r,4,1,"ng-template",null,2,t.W1O),t.qZA()),2&n){const d=t.MAs(3);t.xp6(1),t.Q6J("ngIf",r.statusObj.loading)("ngIfElse",d)}},dependencies:[Q.mk,Q.sg,Q.O5,Q.PC,bs.pp,bs.ib,bs.yz,ht.l,ft.n,xs.Dm,Rs,S.JV],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),a})();var ur=b(81176);let pr=(()=>{class a extends x.Q{constructor(n,r){super(),this.studentService=n,this.sAztDialogService=r,this.studentId=0,this.selectClassroomId=0,this.avgPoint=0}showTotalPointDetail(){this.sAztDialogService.open(ur.m,{width:"700px",restoreFocus:!1,data:this.studentObj}).afterClosed().subscribe(n=>{this.getInfoAttendance()})}getInfoAttendance(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsStudentIdProfileGet(this.studentId,this.selectClassroomId).subscribe(n=>{n?(this.attendanceObj=n,this.avgPoint=n.averageMark??0,this.studentObj=n.student,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnChanges(){this.getInfoAttendance()}ngOnInit(){super.ngOnInit()}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(Yn.VT),t.Y36(ye.C))},a.\u0275cmp=t.Xpm({type:a,selectors:[["detail-attendance"]],inputs:{studentId:"studentId",selectClassroomId:"selectClassroomId"},features:[t.qOj,t.TTD],decls:60,vars:23,consts:[[1,"detail-attendance"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"box","flex","items-center","p-5"],[1,"box-content","mx-auto","text-center"],[1,"btn","btn-sm","btn-primary-soft","p-1"],[1,"w-6","h-6"],["name","star"],[1,"mt-4"],[1,"ml-2","link__hover","link__color",3,"click"],[1,"text-2xl","text-primary","font-medium"],[1,"col-span-12","md:col-span-3"],[1,"box","zoom-in","flex","items-center","p-5"],["name","check"],[1,"btn","btn-sm","btn-secondary-soft","p-1"],["name","power-off"],[1,"text-2xl","text-secondary","font-medium"],[1,"btn","btn-sm","btn-pending-soft","p-1"],["name","alert-octagon"],[1,"text-2xl","text-pending","font-medium"],[1,"btn","btn-sm","btn-danger-soft","p-1"],["name","x-octagon"],[1,"text-2xl","text-danger","font-medium"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"div",6),t._UZ(7,"lucide-icon",7),t.qZA()(),t.TgZ(8,"div",8),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"a",9),t.NdJ("click",function(){return r.showTotalPointDetail()}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()(),t.TgZ(14,"div",10),t._uU(15),t.qZA()()()(),t.TgZ(16,"div",11)(17,"div",12)(18,"div",4)(19,"button",5)(20,"div",6),t._UZ(21,"lucide-icon",13),t.qZA()(),t.TgZ(22,"div",8),t._uU(23),t.ALo(24,"mytranslate"),t.qZA(),t.TgZ(25,"div",10),t._uU(26),t.qZA()()()(),t.TgZ(27,"div",11)(28,"div",12)(29,"div",4)(30,"button",14)(31,"div",6),t._UZ(32,"lucide-icon",15),t.qZA()(),t.TgZ(33,"div",8),t._uU(34),t.ALo(35,"mytranslate"),t.qZA(),t.TgZ(36,"div",16),t._uU(37),t.qZA()()()(),t.TgZ(38,"div",11)(39,"div",12)(40,"div",4)(41,"button",17)(42,"div",6),t._UZ(43,"lucide-icon",18),t.qZA()(),t.TgZ(44,"div",8),t._uU(45),t.ALo(46,"mytranslate"),t.qZA(),t.TgZ(47,"div",19),t._uU(48),t.qZA()()()(),t.TgZ(49,"div",11)(50,"div",12)(51,"div",4)(52,"button",20)(53,"div",6),t._UZ(54,"lucide-icon",21),t.qZA()(),t.TgZ(55,"div",8),t._uU(56),t.ALo(57,"mytranslate"),t.qZA(),t.TgZ(58,"div",22),t._uU(59),t.qZA()()()()()()),2&n&&(t.xp6(9),t.hij(" ",t.lcZ(10,11,"lang_business_diem_tong_ket")," "),t.xp6(3),t.hij("(",t.lcZ(13,13,"lang_auto_xem_chi_tiet"),")"),t.xp6(3),t.Oqu(r.avgPoint),t.xp6(8),t.Oqu(t.lcZ(24,15,"lang_student_number_of_sessions_attended")),t.xp6(3),t.Oqu(null==r.attendanceObj?null:r.attendanceObj.totalAttend),t.xp6(8),t.Oqu(t.lcZ(35,17,"lang_student_number_of_sessions_missed")),t.xp6(3),t.Oqu(null==r.attendanceObj?null:r.attendanceObj.totalAbsence),t.xp6(8),t.Oqu(t.lcZ(46,19,"lang_student_number_of_approved_absences")),t.xp6(3),t.Oqu(null==r.attendanceObj?null:r.attendanceObj.totalAbsentPermission),t.xp6(8),t.Oqu(t.lcZ(57,21,"lang_student_number_of_unauthorized_absences")),t.xp6(3),t.Oqu(null==r.attendanceObj?null:r.attendanceObj.totalAbsentWithoutPermission))},dependencies:[Ct.Nh5,S.JV],encapsulation:2}),a})();function gr(a,g){if(1&a&&(t.TgZ(0,"tr")(1,"td",10),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()),2&a){const n=g.$implicit,r=g.index;t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Oqu(n.bookName),t.xp6(2),t.Oqu(t.lcZ(7,3,n.createdAt))}}function hr(a,g){if(1&a&&(t.ynx(0),t.YNc(1,gr,8,5,"tr",9),t.BQk()),2&a){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.bookDistributionList)}}function fr(a,g){1&a&&(t.TgZ(0,"tr")(1,"td",11),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_student_profile_not_data_view")," "))}let xr=(()=>{class a extends x.Q{getInfoBookDistribution(){this.waitDestroy(this.studentService.apiStudentsStudentIdBooksGet(this.studentId).subscribe(n=>{n?(this.bookDistributionList=n.list,this.totalBookDistribution=n.total):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getInfoBookDistribution()}constructor(n){super(),this.studentService=n,this.studentId=0,this.bookDistributionList=[],this.totalBookDistribution=0}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(Yn.VT))},a.\u0275cmp=t.Xpm({type:a,selectors:[["detail-book-distribution"]],inputs:{studentId:"studentId"},features:[t.qOj],decls:22,vars:14,consts:[[1,"text-right","mt-4"],[1,"font-medium"],[1,"box","mt-2"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[4,"ngIf","ngIfElse"],["noDistribution",""],[4,"ngFor","ngForOf"],[1,"text-center"],["colspan","3",1,"text-center"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()(),t.TgZ(4,"div",2)(5,"drag-scroll")(6,"table",3)(7,"thead",4)(8,"tr")(9,"th",5),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"th",6),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"th",6),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,hr,2,1,"ng-container",7),t.YNc(20,fr,4,3,"ng-template",null,8,t.W1O),t.qZA()()()()),2&n){const d=t.MAs(21);t.xp6(2),t.hij(" ",t.lcZ(3,6,"lang_student_total")+": "+r.totalBookDistribution," "),t.xp6(8),t.hij(" ",t.lcZ(11,8,"lang_auto_stt")," "),t.xp6(3),t.hij(" ",t.lcZ(14,10,"lang_core_ten_sach")," "),t.xp6(3),t.hij(" ",t.lcZ(17,12,"lang_auto_thoi_gian")," "),t.xp6(3),t.Q6J("ngIf",r.bookDistributionList.length)("ngIfElse",d)}},dependencies:[Q.sg,Q.O5,ce.HU,ce.$Z,S.JV,S.$n],encapsulation:2}),a})();function br(a,g){if(1&a&&(t.TgZ(0,"tr")(1,"td",10),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td",10)(9,"span",11),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()),2&a){const n=g.$implicit,r=g.index;t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Oqu(t.lcZ(5,4,n.createdAt)),t.xp6(3),t.Oqu(n.month+"/"+n.year),t.xp6(3),t.hij(" ",t.lcZ(11,6,"lang_student_tuition_fee_paid")," ")}}function vr(a,g){if(1&a&&(t.ynx(0),t.YNc(1,br,12,8,"tr",9),t.BQk()),2&a){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.historyTuitionFeeList)}}function Tr(a,g){1&a&&(t.TgZ(0,"tr")(1,"td",12),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_student_profile_not_data_view")," "))}let Cr=(()=>{class a extends x.Q{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.studentId).subscribe(n=>{n?this.historyTuitionFeeList=n.histories:this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(n){super(),this.paymentService=n,this.studentId=0,this.historyTuitionFeeList=[]}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(Yn.te))},a.\u0275cmp=t.Xpm({type:a,selectors:[["detail-tuition-fee"]],inputs:{studentId:"studentId"},features:[t.qOj],decls:22,vars:14,consts:[[1,"detail-attendance"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],[4,"ngIf","ngIfElse"],["noTuitionFee",""],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"drag-scroll")(3,"table",2)(4,"thead",3)(5,"tr")(6,"th",4),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"th",5),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"th",5),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"th",6),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,vr,2,1,"ng-container",7),t.YNc(20,Tr,4,3,"ng-template",null,8,t.W1O),t.qZA()()()()()),2&n){const d=t.MAs(21);t.xp6(7),t.hij(" ",t.lcZ(8,6,"lang_auto_stt")," "),t.xp6(3),t.hij(" ",t.lcZ(11,8,"lang_student_payment_time")," "),t.xp6(3),t.hij(" ",t.lcZ(14,10,"lang_student_monthly_tuition_fee")," "),t.xp6(3),t.hij(" ",t.lcZ(17,12,"lang_student_status")," "),t.xp6(3),t.Q6J("ngIf",r.historyTuitionFeeList.length)("ngIfElse",d)}},dependencies:[Q.sg,Q.O5,ce.HU,ce.$Z,S.JV,S.$n],encapsulation:2}),a})();function kr(a,g){if(1&a&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&a){const n=g.$implicit;t.Q6J("value",n.id+"-"+n.studentId),t.xp6(1),t.hij(" ",n.name," ")}}function wr(a,g){if(1&a&&(t.TgZ(0,"div",22)(1,"p",19),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t._UZ(4,"detail-attendance",23),t.qZA()),2&a){const n=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,3,"lang_student_attendance_point_info")),t.xp6(2),t.Q6J("studentId",n.studentId)("selectClassroomId",n.classroomId)}}function yr(a,g){if(1&a&&(t.TgZ(0,"div",22)(1,"p",19),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t._UZ(4,"detail-tuition-fee",24),t.qZA()),2&a){const n=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_student_tuition_fee_info")),t.xp6(2),t.Q6J("studentId",n.studentId)}}function Or(a,g){if(1&a&&(t.TgZ(0,"div",22)(1,"p",19),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t._UZ(4,"detail-book-distribution",24),t.qZA()),2&a){const n=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_student_book_distribution_info")),t.xp6(2),t.Q6J("studentId",n.studentId)}}const Zr=function(a){return{"margin-bottom":a}},Sr=[{path:"",component:Hn,canActivate:[e.v],children:[{path:"merge-student/:id",component:fi},{path:"profile-student/:classroom_id/:id",component:(()=>{class a extends x.Q{reInitOtherComponent(){this.listExam?.reInitData(),this.listHomework?.reInitData()}getListClassroomByStudentId(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2ListStudentClassroomsGet(this.studentId).subscribe(n=>{1===n.success?(this.classroomList=n.data?.objs??[],this.classroomList.find(r=>r.id+"-"+r.studentId==this.select.value)||this.select.setValue("")):this.errorStatusObj(n.message??"",!0)}))}selectedClassroom(n){let r=n.value.split("-")[0],d=n.value.split("-")[1],T=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString("/admin/student/profile-student/"+r+"/"+d,T?"?backTo="+encodeURIComponent(T):""),this.reInitOtherComponent()}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,l.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n=this.commonService.getMyParam(this.activeRoute,"classroom_id"),r=this.commonService.getMyParam(this.activeRoute,"id");this.classroomId=parseInt(n||"",10),this.studentId=parseInt(r||"",10),this.backToLink="/admin/student/profile-student/"+this.classroomId+"/"+this.studentId,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??this.backToLink,this.commonService.translateMetaData({title:"lang_cms_student_detail_title",description:"lang_cms_test_config_description",image:"lang_cms_student_detail_description"}),this.select.setValue(this.classroomId+"-"+this.studentId),this.getListClassroomByStudentId()}))}constructor(n,r,d){super(),this.sAztDialogService=n,this.activeRoute=r,this.studentProfileV2Service=d,this.select=new K.NI("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[],this.avgPoint=0}}return a.\u0275fac=function(n){return new(n||a)(t.Y36(ye.C),t.Y36(rt.gz),t.Y36(F.LU))},a.\u0275cmp=t.Xpm({type:a,selectors:[["student-profile"]],viewQuery:function(n,r){if(1&n&&(t.Gf(k,5),t.Gf(k,5)),2&n){let d;t.iGM(d=t.CRH())&&(r.listExam=d.first),t.iGM(d=t.CRH())&&(r.listHomework=d.first)}},features:[t.qOj],decls:30,vars:35,consts:[[3,"headerBackToLink"],["id","profileStudent",1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","flex","items-center","mb-3","flex-wrap"],[1,"text-xl","font-medium"],[1,"ml-5","box",2,"font-size","12px"],["appearance","outline"],["name","classroom",3,"formControl","selectionChange"],[3,"value","disabled"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"studentId","classroomList","classroomId","backToLink","paramBackToLink","reInitComponentEvent"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","classroomId","backToLink"],["listExam",""],[1,"intro-y","box","col-span-12","lg:col-span-6",3,"ngStyle"],["listHomework",""],["class","mt-5",4,"ngIf"],[1,"mt-4"],[1,"mb-3","text-base","font-medium"],[3,"studentId","classroomId","backToLink","paramBackToLink","reInitComponentEvent"],[3,"value"],[1,"mt-5"],[3,"studentId","selectClassroomId"],[3,"studentId"]],template:function(n,r){1&n&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",4)(7,"mat-form-field",5)(8,"mat-select",6),t.NdJ("selectionChange",function(T){return r.selectedClassroom(T)}),t.TgZ(9,"mat-option",7),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.YNc(12,kr,2,2,"mat-option",8),t.qZA()()()(),t.TgZ(13,"div",9)(14,"detail-account-student",10),t.NdJ("reInitComponentEvent",function(){return r.reInitOtherComponent()}),t.qZA(),t.TgZ(15,"div",11)(16,"div",12),t._UZ(17,"student-profile-list-exams",13,14),t.qZA(),t.TgZ(19,"div",15),t._UZ(20,"student-profile-list-homeworks",13,16),t.qZA()(),t.YNc(22,wr,5,5,"div",17),t.YNc(23,yr,5,4,"div",17),t.YNc(24,Or,5,4,"div",17),t.TgZ(25,"div",18)(26,"p",19),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"detail-by-subject-student",20),t.NdJ("reInitComponentEvent",function(){return r.reInitOtherComponent()}),t.qZA()()()()()),2&n&&(t.Q6J("headerBackToLink",r.paramBackToLink),t.xp6(4),t.hij(" ",t.lcZ(5,27,"lang_student_classroom_profile_student")," "),t.xp6(4),t.Q6J("formControl",r.select),t.xp6(1),t.Q6J("value","")("disabled",!0),t.xp6(1),t.hij(" ---",t.lcZ(11,29,"lang_auto_chon_lop"),"--- "),t.xp6(2),t.Q6J("ngForOf",r.classroomList),t.xp6(2),t.Q6J("studentId",r.studentId)("classroomList",r.classroomList)("classroomId",r.classroomId)("backToLink",r.backToLink)("paramBackToLink",r.paramBackToLink),t.xp6(3),t.Q6J("studentId",r.studentId)("classroomId",r.classroomId)("backToLink",r.backToLink),t.xp6(2),t.Q6J("ngStyle",t.VKq(33,Zr,r.isMobileWebView?"200px":"0")),t.xp6(1),t.Q6J("studentId",r.studentId)("classroomId",r.classroomId)("backToLink",r.backToLink),t.xp6(2),t.Q6J("ngIf",r.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",r.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",r.isBusinessDomain),t.xp6(3),t.Oqu(t.lcZ(28,31,"lang_student_academic_results_report")),t.xp6(2),t.Q6J("studentId",r.studentId)("classroomId",r.classroomId)("backToLink",r.backToLink)("paramBackToLink",r.paramBackToLink))},dependencies:[Q.sg,Q.O5,Q.PC,E.ey,nt.KE,Di.gD,K.JJ,K.oH,o._,En,Us,k,dr,pr,xr,Cr,S.JV],encapsulation:2}),a})()},{path:"manage-classroom/:id",component:us},{path:"classroom-details/:id/:tabId",component:Cs},{path:"attendance-student/:classroom_id/:program_id/:session_id",component:li},{path:"distribute-document/:classroom_id/:program_id/:session_id",component:ba},{path:"submit-score/:classroom_id/:program_id/:session_id",component:Ta},{path:"class-details/:id",redirectTo:"classroom-details/:id/0"},{path:"manage-class/:id",redirectTo:"manage-classroom/:id"},{path:"student-list",redirectTo:"manage-classroom/0",pathMatch:"full"}]}];let Ir=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[rt.Bz.forChild(Sr),rt.Bz,m.fQ]}),a})()},56347:(tn,Yt,b)=>{b.d(Yt,{M:()=>S});var rt=b(96814),m=b(56223),e=b(19347),l=b(21266),x=b(42753),t=b(66469),xt=b(37722),Q=b(21494),o=b(60381),Ct=b(25391),_t=b(30292),jt=b(95545),dt=b(29942),yt=b(84155),ht=b(78217),ft=b(58844),vt=b(99384),bt=b(34685),et=b(65879);let S=(()=>{class B{}return B.\u0275fac=function(ut){return new(ut||B)},B.\u0275mod=et.oAB({type:B}),B.\u0275inj=et.cJS({imports:[l.Bz,rt.ez,dt.j,_t.Yy,x.Z_,m.u5,m.UX,e.Is,yt.Z,Q.xC,bt.v,Ct.QG,ft.W,ht.d,o.l1,xt.qyJ.pick(xt.ciZ),jt.kb,t.SD,vt.AzotaBusinessModule]}),B})()},63038:(tn,Yt,b)=>{b.d(Yt,{m:()=>m});var rt=b(65879);let m=(()=>{class e{constructor(x){this.el=x}onInput(){this.adjustTextAreaHeight(this.el.nativeElement)}ngAfterViewInit(){this.adjustTextAreaHeight(this.el.nativeElement)}adjustTextAreaHeight(x){x.style.overflow="hidden",x.style.height="auto",x.style.height=x.scrollHeight+30+"px"}}return e.\u0275fac=function(x){return new(x||e)(rt.Y36(rt.SBq))},e.\u0275dir=rt.lG2({type:e,selectors:[["textarea","autoResize",""]],hostBindings:function(x,t){1&x&&rt.NdJ("input",function(Q){return t.onInput(Q.target.value)})}}),e})()},91675:(tn,Yt,b)=>{b.d(Yt,{B:()=>jt});var rt=b(47496),m=b(65879),e=b(96814),l=b(92596),x=b(36727);function t(dt,yt){1&dt&&(m.TgZ(0,"span",2),m.ALo(1,"mytranslate"),m._uU(2),m.ALo(3,"mytranslate"),m.qZA()),2&dt&&(m.s9C("matTooltip",m.lcZ(1,2,"lang_auto_dat")),m.xp6(2),m.Oqu(m.lcZ(3,4,"lang_auto_d_upper")))}function xt(dt,yt){1&dt&&(m.TgZ(0,"span",2),m.ALo(1,"mytranslate"),m._uU(2),m.ALo(3,"mytranslate"),m.qZA()),2&dt&&(m.s9C("matTooltip",m.lcZ(1,2,"lang_auto_chua_dat")),m.xp6(2),m.Oqu(m.lcZ(3,4,"lang_auto_cd_upper")))}function Q(dt,yt){1&dt&&(m.TgZ(0,"span",2),m.ALo(1,"mytranslate"),m._uU(2),m.ALo(3,"mytranslate"),m.qZA()),2&dt&&(m.s9C("matTooltip",m.lcZ(1,2,"lang_auto_hoan_thanh")),m.xp6(2),m.Oqu(m.lcZ(3,4,"lang_auto_tag_ht")))}function o(dt,yt){1&dt&&(m.TgZ(0,"span",2),m.ALo(1,"mytranslate"),m._uU(2),m.ALo(3,"mytranslate"),m.qZA()),2&dt&&(m.s9C("matTooltip",m.lcZ(1,2,"lang_auto_chua_hoan_thanh")),m.xp6(2),m.hij("",m.lcZ(3,4,"lang_auto_tag_CHT")," "))}function Ct(dt,yt){1&dt&&(m.TgZ(0,"span",2),m.ALo(1,"mytranslate"),m._uU(2),m.ALo(3,"mytranslate"),m.qZA()),2&dt&&(m.s9C("matTooltip",m.lcZ(1,2,"lang_auto_hoan_thanh_tot")),m.xp6(2),m.Oqu(m.lcZ(3,4,"lang_auto_tag_HTT")))}function _t(dt,yt){if(1&dt&&(m.TgZ(0,"span",3),m._uU(1),m.qZA()),2&dt){const ht=m.oxw();m.xp6(1),m.Oqu(ht.mark)}}let jt=(()=>{class dt extends rt.Q{constructor(){super(...arguments),this.mark=0}}return dt.\u0275fac=function(){let yt;return function(ft){return(yt||(yt=m.n5z(dt)))(ft||dt)}}(),dt.\u0275cmp=m.Xpm({type:dt,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[m.qOj],decls:6,vars:6,consts:[["class","text-mark mb-0",3,"matTooltip",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],[1,"text-mark","mb-0",3,"matTooltip"],[1,"text-mark","mb-0"]],template:function(ht,ft){1&ht&&(m.YNc(0,t,4,6,"span",0),m.YNc(1,xt,4,6,"span",0),m.YNc(2,Q,4,6,"span",0),m.YNc(3,o,4,6,"span",0),m.YNc(4,Ct,4,6,"span",0),m.YNc(5,_t,2,1,"span",1)),2&ht&&(m.Q6J("ngIf","1000"==ft.mark),m.xp6(1),m.Q6J("ngIf","1001"==ft.mark),m.xp6(1),m.Q6J("ngIf","2000"==ft.mark),m.xp6(1),m.Q6J("ngIf","2001"==ft.mark),m.xp6(1),m.Q6J("ngIf","3000"==ft.mark),m.xp6(1),m.Q6J("ngIf","2001"!=ft.mark&&"2000"!=ft.mark&&"1001"!=ft.mark&&"1000"!=ft.mark&&"3000"!=ft.mark))},dependencies:[e.O5,l.gM,x.JV],encapsulation:2}),dt})()},30292:(tn,Yt,b)=>{b.d(Yt,{ft:()=>fi,Bi:()=>$i,Yy:()=>fs});var rt=b(42495),m=b(65879),e=b(69594);class l extends Error{}class x extends l{constructor(s){super(`Invalid DateTime: ${s.toMessage()}`)}}class t extends l{constructor(s){super(`Invalid Duration: ${s.toMessage()}`)}}class xt extends l{constructor(s){super(`Invalid Interval: ${s.toMessage()}`)}}class Q extends l{constructor(s){super(`Invalid unit ${s}`),Object.setPrototypeOf(this,Q.prototype)}}class o extends l{constructor(s){super(`${s} is an invalid or unknown zone specifier`),Object.setPrototypeOf(this,o.prototype)}}class Ct extends l{constructor(s){super(s),Object.setPrototypeOf(this,Ct.prototype)}}class _t extends l{constructor(s){super(s),Object.setPrototypeOf(this,_t.prototype)}}class jt extends l{constructor(){super("Zone is an abstract class"),Object.setPrototypeOf(this,jt.prototype)}}class yt{get type(){throw new jt}get ianaName(){return this.name}get name(){throw new jt}get isUniversal(){throw new jt}offsetName(s,i){throw new jt}formatOffset(s,i){throw new jt}offset(s){throw new jt}equals(s){throw new jt}get isValid(){throw new jt}}var ht=Intl;let ft={};const vt={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let bt={};class et extends yt{static create(s){return bt[s]||(bt[s]=new et(s)),bt[s]}static resetCache(){bt={},ft={}}static isValidSpecifier(s){return this.isValidZone(s)}static isValidZone(s){if(!s)return!1;try{return new ht.DateTimeFormat("en-US",{timeZone:s}).format(),!0}catch{return!1}}constructor(s){super(),this._zoneName=s,this._valid=et.isValidZone(s)}get type(){return"iana"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(s,{format:i,locale:c}={}){return xn(s,i,c,this.name)}formatOffset(s,i){return be(this.offset(s),i)}offset(s){const i=new Date(s);if(isNaN(+i))return NaN;const c=function(gt){if(!ft[gt])try{ft[gt]=new ht.DateTimeFormat("en-US",{hour12:!1,timeZone:gt,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})}catch{throw new o(gt)}return ft[gt]}(this.name);let u;const[h,k,A,N,J,V,H]=typeof c.formatToParts==typeof isNaN?function(gt,Ot){const Pt=gt.formatToParts(Ot),Ft=[];for(let Jt=0;Jt<Pt.length;Jt++){const{type:Lt,value:Qt}=Pt[Jt],Xe=vt[Lt];"era"===Lt?Ft[Xe]=Qt:le(Xe)||(Ft[Xe]=parseInt(Qt,10))}return Ft}(c,i):function(gt,Ot){const Pt=gt.format(Ot).replace(/\u200E/g,""),Ft=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(Pt),[,Jt,Lt,Qt,Xe,En,Do,xi]=Ft;return[Qt,Jt,Lt,Xe,En,Do,xi]}(c,i);"BC"===N&&(u=1-Math.abs(+h));let tt=+i;const W=tt%1e3;return tt-=W>=0?W:1e3+W,(fn({year:u||+h,month:+k,day:+A,hour:+(24===J?0:J),minute:+V,second:+H,millisecond:0})-tt)/6e4}equals(s){return"iana"===s.type&&s.name===this.name}get isValid(){return this._valid}}const S="numeric",B="short",at="long",ut={year:S,month:S,day:S},lt={year:S,month:B,day:S},Dt={year:S,month:B,day:S,weekday:B},pt={year:S,month:at,day:S},ne={year:S,month:at,day:S,weekday:at},oe={hour:S,minute:S},Rt={hour:S,minute:S,second:S},Te={hour:S,minute:S,second:S,timeZoneName:B},Oe={hour:S,minute:S,second:S,timeZoneName:at},De={hour:S,minute:S,hourCycle:"h23"},Ee={hour:S,minute:S,second:S,hourCycle:"h23"},ve={hour:S,minute:S,second:S,hourCycle:"h23",timeZoneName:B},fe={hour:S,minute:S,second:S,hourCycle:"h23",timeZoneName:at},xe={year:S,month:S,day:S,hour:S,minute:S},_e={year:S,month:S,day:S,hour:S,minute:S,second:S},Pe={year:S,month:B,day:S,hour:S,minute:S},Ze={year:S,month:B,day:S,hour:S,minute:S,second:S},en={year:S,month:B,day:S,weekday:B,hour:S,minute:S},Ue={year:S,month:at,day:S,hour:S,minute:S,timeZoneName:B},ie={year:S,month:at,day:S,hour:S,minute:S,second:S,timeZoneName:B},Ae={year:S,month:at,day:S,weekday:at,hour:S,minute:S,timeZoneName:at},de={year:S,month:at,day:S,weekday:at,hour:S,minute:S,second:S,timeZoneName:at},ze=["January","February","March","April","May","June","July","August","September","October","November","December"],Se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nn=["J","F","M","A","M","J","J","A","S","O","N","D"];function Fe(_){switch(_){case"narrow":return[...nn];case"short":return[...Se];case"long":return[...ze];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"]}}const Wt=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Je=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],on=["M","T","W","T","F","S","S"];function qe(_){switch(_){case"narrow":return[...on];case"short":return[...Je];case"long":return[...Wt];case"numeric":return["1","2","3","4","5","6","7"]}}const Qe=["AM","PM"],an=["Before Christ","Anno Domini"],sn=["BC","AD"],ue=["B","A"];function K(_){switch(_){case"narrow":return[...ue];case"short":return[...sn];case"long":return[...an]}}let Ce={},Ie={};function Xt(_,s={}){const i=JSON.stringify([_,s]);let c=Ie[i];return c||(c=new ht.DateTimeFormat(_,s),Ie[i]=c),c}let ke,Nt={},Bt={};function we(_,s,i,c){return"en"===_.listingMode()?i(s):c(s)}class rn{constructor(s,i,c){const{padTo:u,floor:h}=c,k=function(A,N){var J={};for(var V in A)Object.prototype.hasOwnProperty.call(A,V)&&N.indexOf(V)<0&&(J[V]=A[V]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var H=0;for(V=Object.getOwnPropertySymbols(A);H<V.length;H++)N.indexOf(V[H])<0&&Object.prototype.propertyIsEnumerable.call(A,V[H])&&(J[V[H]]=A[V[H]])}return J}(c,["padTo","floor"]);if(this._padTo=u||0,this._floor=h||!1,!i||Object.keys(k).length>0){const A=Object.assign({useGrouping:!1},c);this._padTo>0&&(A.minimumIntegerDigits=u),this._inf=function(N,J){const V=JSON.stringify([N,J]);let H=Nt[V];return H||(H=new ht.NumberFormat(N,J),Nt[V]=H),H}(s,A)}}format(s){if(this._inf){const i=this._floor?Math.floor(s):s;return this._inf.format(i)}return qt(this._floor?Math.floor(s):pn(s,3),this._padTo)}}class Ye{get dtf(){return this._dtf}constructor(s,i,c){let u;if(this._opts=c,this._opts.timeZone)this._dt=s;else if("fixed"===s.zone.type){const k=s.offset/60*-1,A=k>=0?`Etc/GMT+${k}`:`Etc/GMT${k}`;0!==s.offset&&et.create(A).isValid?(u=A,this._dt=s):(u="UTC",this._dt=0===s.offset?s:s.setZone("UTC").plus({minutes:s.offset}),this._originalZone=s.zone)}else"system"===s.zone.type?this._dt=s:"iana"===s.zone.type?(this._dt=s,u=s.zone.name):(u="UTC",this._dt=s.setZone("UTC").plus({minutes:s.offset}),this._originalZone=s.zone);const h=Object.assign(Object.assign({},this._opts),{timeZone:this._opts.timeZone||u});this._dtf=Xt(i,h)}format(){return this._originalZone?this.formatToParts().map(({value:s})=>s).join(""):this.dtf.format(this._dt.toJSDate())}formatToParts(){const s=this.dtf.formatToParts(this._dt.toJSDate());return this._originalZone?s.map(i=>{if("timeZoneName"===i.type){const c=this._originalZone.offsetName(this._dt.ts,{locale:this._dt.locale,format:this._opts.timeZoneName});return Object.assign(Object.assign({},i),{value:c})}return i}):s}resolvedOptions(){return this._dtf.resolvedOptions()}}class Be{constructor(s,i,c){this._opts=Object.assign({style:"long"},c),!i&&co()&&(this._rtf=function(u,h={}){const k=JSON.stringify([u,h]);let A=Bt[k];return A||(A=new ht.RelativeTimeFormat(u,h),Bt[k]=A),A}(s,c))}format(s,i){return this._rtf?this._rtf.format(s,i):function(c,u,h="always",k=!1){const A=ot.normalizeUnit(c),N={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."],milliseconds:[]}[A],J=-1===["hours","minutes","seconds"].indexOf(A);if("auto"===h&&J){const gt="days"===A;switch(u){case 1:return gt?"tomorrow":`next ${N[0]}`;case-1:return gt?"yesterday":`last ${N[0]}`;case 0:return gt?"today":`this ${N[0]}`}}const V=Object.is(u,-0)||u<0,H=Math.abs(u),tt=1===H,W=k?tt?N[1]:N[2]||N[1]:tt?N[0]:A;return V?`${H} ${W} ago`:`in ${H} ${W}`}(i,s,this._opts.numeric,"long"!==this._opts.style)}formatToParts(s,i){return this._rtf?this._rtf.formatToParts(s,i):[]}}let Zt=(()=>{class _{get fastNumbers(){return void 0===this._fastNumbersCached&&(this._fastNumbersCached=this._supportsFastNumbers()),this._fastNumbersCached}constructor(i,c,u,h,k){const[A,N,J]=function(V){const H=V.indexOf("-x-");-1!==H&&(V=V.substring(0,H));const tt=V.indexOf("-u-");if(-1===tt)return[V];{let W,gt;try{W=Xt(V).resolvedOptions(),gt=V}catch{const Jt=V.substring(0,tt);W=Xt(Jt).resolvedOptions(),gt=Jt}const{numberingSystem:Ot,calendar:Pt}=W;return[gt,Ot,Pt]}}(i);var V,H,tt;this.locale=A,this.numberingSystem=c||N,this.outputCalendar=u||J,this._intl=(V=this.locale,H=this.numberingSystem,((tt=this.outputCalendar)||H)&&(V.includes("-u-")||(V+="-u"),tt&&(V+=`-ca-${tt}`),H&&(V+=`-nu-${H}`)),V),this._weekSettings=h,this._weekdaysCache={format:{},standalone:{}},this._monthsCache={format:{},standalone:{}},this._meridiemCache=void 0,this._eraCache={},this._specifiedLocale=k,this._fastNumbersCached=void 0}static create(i,c,u,h,k=!1){const A=i||St.defaultLocale,N=A||(k?"en-US":(ke||(ke=(new ht.DateTimeFormat).resolvedOptions().locale),ke)),J=c||St.defaultNumberingSystem,V=u||St.defaultOutputCalendar,H=Fn(h)||St.defaultWeekSettings;return new _(N,J,V,H,A)}static fromObject({locale:i,numberingSystem:c,outputCalendar:u,weekSettings:h}={}){return _.create(i,c,u,h)}static fromOpts(i){return _.create(i.locale,i.numberingSystem,i.outputCalendar,i.weekSettings,i.defaultToEN)}static resetCache(){ke=void 0,Ce={},Ie={},Nt={},Bt={}}clone(i){return i&&0!==Object.getOwnPropertyNames(i).length?_.create(i.locale||this._specifiedLocale,i.numberingSystem||this.numberingSystem,i.outputCalendar||this.outputCalendar,Fn(i.weekSettings)||this._weekSettings,i.defaultToEN||!1):this}dtFormatter(i,c={}){return new Ye(i,this._intl,c)}equals(i){return this.locale===i.locale&&this.numberingSystem===i.numberingSystem&&this.outputCalendar===i.outputCalendar}eras(i){return we(this,i,K,c=>{const u={era:c};return this._eraCache[c]||(this._eraCache[c]=[$.utc(-40,1,1),$.utc(2017,1,1)].map(h=>this.extract(h,u,"era"))),this._eraCache[c]})}extract(i,c,u){const h=this.dtFormatter(i,c).formatToParts().find(k=>k.type.toLowerCase()===u.toLowerCase());if(!h)throw new Error(`Invalid extract field ${u}`);return h.value}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getStartOfWeek(){return this.getWeekSettings().firstDay}getWeekSettings(){return this._weekSettings?this._weekSettings:mo()?this._getCachedWeekInfo(this.locale):ce}getWeekendDays(){return this.getWeekSettings().weekend}isEnglish(){return!!~["en","en-us"].indexOf(this.locale.toLowerCase())||new ht.DateTimeFormat(this._intl).resolvedOptions().locale.startsWith("en-us")}listFormatter(i={}){return function(c,u={}){const h=JSON.stringify([c,u]);let k=Ce[h];return k||(k=new ht.ListFormat(c,u),Ce[h]=k),k}(this._intl,i)}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}meridiems(){return we(this,"long",()=>Qe,()=>(void 0===this._meridiemCache&&(this._meridiemCache=[$.utc(2016,11,13,9),$.utc(2016,11,13,19)].map(i=>this.extract(i,{hour:"numeric",hourCycle:"h12"},"dayPeriod"))),this._meridiemCache))}months(i,c=!1){return we(this,i,Fe,u=>{const h=c?{month:u,day:"numeric"}:{month:u},k=c?"format":"standalone";return this._monthsCache[k][u]||(this._monthsCache[k][u]=function(A){const N=[];for(let J=1;J<=12;J++){const V=$.utc(2009,J,1);N.push(A(V))}return N}(A=>this.extract(A,h,"month"))),this._monthsCache[k][u]})}numberFormatter(i={}){return new rn(this._intl,this.fastNumbers,i)}redefaultToEN(i={}){return this.clone(Object.assign(Object.assign({},i),{defaultToEN:!0}))}redefaultToSystem(i={}){return this.clone(Object.assign(Object.assign({},i),{defaultToEN:!1}))}relFormatter(i={}){return new Be(this._intl,this.isEnglish(),i)}weekdays(i,c=!1){return we(this,i,qe,u=>{const h=c?{weekday:u,year:"numeric",month:"long",day:"numeric"}:{weekday:u},k=c?"format":"standalone";return this._weekdaysCache[k][u]||(this._weekdaysCache[k][u]=function(A){const N=[];for(let J=1;J<=7;J++){const V=$.utc(2016,11,13+J);N.push(A(V))}return N}(A=>this.extract(A,h,"weekday"))),this._weekdaysCache[k][u]})}_getCachedWeekInfo(i){let c=_._weekInfoCache[i];if(!c){const u=new ht.Locale(i);c="getWeekInfo"in u?u.getWeekInfo():u.weekInfo,_._weekInfoCache[i]=c}return c}_supportsFastNumbers(){return(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===ht.DateTimeFormat(this._intl).resolvedOptions().numberingSystem)}}return _._weekInfoCache={},_})(),E=null;class nt extends yt{static get utcInstance(){return null===E&&(E=new nt(0)),E}get isValid(){return!0}get ianaName(){return 0===this._fixed?"Etc/UTC":`Etc/GMT${be(-this._fixed,"narrow")}`}get name(){return 0===this._fixed?"UTC":`UTC${be(this._fixed,"narrow")}`}get type(){return"fixed"}get isUniversal(){return!0}constructor(s){super(),this._fixed=s}static instance(s){return 0===s?nt.utcInstance:new nt(s)}static parseSpecifier(s){if(s){const i=s.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new nt(Jn(i[1],i[2]))}return null}offsetName(){return this.name}formatOffset(s,i){return be(this._fixed,i)}offset(){return this._fixed}equals(s){return"fixed"===s.type&&s._fixed===this._fixed}}class j extends yt{constructor(s){super(),this._zoneName=s,Object.setPrototypeOf(this,j.prototype)}get type(){return"invalid"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let P=null;class ct extends yt{static get instance(){return null===P&&(P=new ct),P}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(s,{format:i,locale:c}){return xn(s,i,c)}formatOffset(s,i){return be(this.offset(s),i)}offset(s){return-new Date(s).getTimezoneOffset()}equals(s){return"system"===s.type}get isValid(){return!0}}const I=(_,s)=>{if(le(_)||null===_)return s;if(_ instanceof yt)return _;if("string"==typeof _){const i=_.toLowerCase();return"default"===i?s:"local"===i||"system"===i?ct.instance:"utc"===i||"gmt"===i?nt.utcInstance:nt.parseSpecifier(i)||et.create(_)}return je(_)?nt.instance(_):"object"==typeof _&&"offset"in _&&"function"==typeof _.offset?_:new j(_)};let X,w,q,F,st=()=>Date.now(),At="system",Ht=60,ae=!1;class St{static set defaultLocale(s){X=s}static get defaultLocale(){return X}static set defaultNumberingSystem(s){w=s}static get defaultNumberingSystem(){return w}static set defaultOutputCalendar(s){q=s}static get defaultOutputCalendar(){return q}static set defaultWeekSettings(s){F=Fn(s)}static get defaultWeekSettings(){return F}static set defaultZone(s){At=s}static get defaultZone(){return I(At,ct.instance)}static set defaultZoneLike(s){At=s}static set now(s){st=s}static get now(){return st}static set throwOnInvalid(s){ae=s}static get throwOnInvalid(){return ae}static set twoDigitCutoffYear(s){Ht=s%100}static get twoDigitCutoffYear(){return Ht}static resetCaches(){Zt.resetCache(),et.resetCache()}}class te{constructor(s,i){this.reason=s,this.explanation=i,this._formattedExplanation="",i&&(this._formattedExplanation=`: ${i}`)}toMessage(){return`${this.reason}${this._formattedExplanation}`}}const He=[0,31,59,90,120,151,181,212,243,273,304,334],Pn=[0,31,60,91,121,152,182,213,244,274,305,335];function se(_,s){return new te("unit out of range",`you specified ${s} (of type ${typeof s}) as a ${_}, which is invalid`)}function Un(_,s,i){return i+(gn(_)?Pn:He)[s-1]}function Z(_,s){const i=gn(_)?Pn:He,c=i.findIndex(u=>u<s);return{month:c+1,day:s-i[c]}}function G(_,s,i){const c=new Date(Date.UTC(_,s-1,i));_<100&&_>=0&&c.setUTCFullYear(c.getUTCFullYear()-1900);const u=c.getUTCDay();return 0===u?7:u}function C(_,s=ce.minimalDays,i=ce.firstDay){const{year:c,month:u,day:h}=_,k=Un(c,u,h),A=Ge(G(c,u,h),i);let N,J=Math.floor((k-A+14-s)/7);return J<1?(N=c-1,J=mn(N,s,i)):J>mn(c,s,i)?(N=c+1,J=1):N=c,Object.assign({weekYear:N,weekNumber:J,weekday:A},An(_))}function y(_,s=ce.minimalDays,i=ce.firstDay){const{weekYear:c,weekNumber:u,weekday:h}=_,k=Ge(G(c,1,s),i),A=hn(c);let N,J=7*u+h-k-7+s;J<1?(N=c-1,J+=hn(N)):J>A?(N=c+1,J-=hn(c)):N=c;const{month:V,day:H}=Z(N,J);return Object.assign({year:N,month:V,day:H},An(_))}function z(_){const{year:s,month:i,day:c}=_,u=Un(s,i,c);return Object.assign({year:s,ordinal:u},An(_))}function kt(_){const{year:s,ordinal:i}=_,{month:c,day:u}=Z(s,i);return Object.assign({year:s,month:c,day:u},An(_))}function re(_){const s=Ne(_.year),i=pe(_.month,1,12),c=pe(_.day,1,ye(_.year,_.month));return s?i?!c&&se("day",_.day):se("month",_.month):se("year",_.year)}function zn(_){const{hour:s,minute:i,second:c,millisecond:u}=_,h=pe(s,0,23)||24===s&&0===i&&0===c&&0===u,k=pe(i,0,59),A=pe(c,0,59),N=pe(u,0,999);return h?k?A?!N&&se("millisecond",u):se("second",c):se("minute",i):se("hour",s)}function Ge(_,s){return(_-s+7)%7+1}function lo(_,s){if(Mt(_.localWeekday)||Mt(_.localWeekNumber)||Mt(_.localWeekYear)){if(Mt(_.weekday)||Mt(_.weekNumber)||Mt(_.weekYear))throw new Ct("Cannot mix locale-based week fields with ISO-based week fields");return Mt(_.localWeekday)&&(_.weekday=_.localWeekday),Mt(_.localWeekNumber)&&(_.weekNumber=_.localWeekNumber),Mt(_.localWeekYear)&&(_.weekYear=_.localWeekYear),delete _.localWeekday,delete _.localWeekNumber,delete _.localWeekYear,{minDaysInFirstWeek:s.getMinDaysInFirstWeek(),startOfWeek:s.getStartOfWeek()}}return{minDaysInFirstWeek:ce.minimalDays,startOfWeek:ce.firstDay}}function Mt(_){return void 0!==_}function le(_){return void 0===_}function je(_){return"number"==typeof _}function Ne(_){return je(_)&&_%1==0}function co(){try{return void 0!==ht&&!!ht.RelativeTimeFormat}catch{return!1}}function mo(){try{return void 0!==ht&&!!ht.Locale&&("weekInfo"in ht.Locale.prototype||"getWeekInfo"in ht.Locale.prototype)}catch{return!1}}function _o(_,s,i){if(0!==_.length)return _.reduce((c,u)=>{const h=[s(u),u];return i(c[0],h[0])===c[0]?c:h},[s(_[0]),_[0]])[1]}function Fn(_){if(_){if("object"!=typeof _)throw new _t("Week settings must be an object");if(!pe(_.firstDay,1,7)||!pe(_.minimalDays,1,7)||!Array.isArray(_.weekend)||_.weekend.some(s=>!pe(s,1,7)))throw new _t("Invalid week settings");return{firstDay:_.firstDay,minimalDays:_.minimalDays,weekend:_.weekend}}}function pe(_,s,i){return Ne(_)&&_>=s&&_<=i}function qt(_,s=2){const i=+_<0?"-":"",c=i?-1*+_:_;let u;return u=c.toString().length<s?("0".repeat(s)+c).slice(-s):c.toString(),`${i}${u}`}function Ve(_){if(_)return parseInt(_,10)}function ln(_){if(_)return parseFloat(_)}function cn(_){if(!le(_)&&null!==_&&""!==_){const s=1e3*parseFloat("0."+_);return Math.floor(s)}}function pn(_,s,i=!1){const c=Math.pow(10,s);return(i?Math.trunc:Math.round)(_*c)/c}function gn(_){return _%4==0&&(_%100!=0||_%400==0)}function hn(_){return gn(_)?366:365}function ye(_,s){const i=(c=s-1)-12*Math.floor(c/12)+1;var c;return[31,gn(_+(s-i)/12)?29:28,31,30,31,30,31,31,30,31,30,31][i-1]}function fn(_){let s=Date.UTC(_.year,_.month-1,_.day,_.hour,_.minute,_.second,_.millisecond);return _.year<100&&_.year>=0&&(s=new Date(s),s.setUTCFullYear(_.year,_.month-1,_.day)),+s}function Gn(_,s,i){return-Ge(G(_,1,s),i)+s-1}function mn(_,s=4,i=1){const c=Gn(_,s,i),u=Gn(_+1,s,i);return(hn(_)-c+u)/7}function uo(_){return _>99?_:_>St.twoDigitCutoffYear?1900+_:2e3+_}function xn(_,s,i,c){const u=new Date(_),k=Object.assign({timeZoneName:s},{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:c}),A=new ht.DateTimeFormat(i,k).formatToParts(u).find(N=>"timezonename"===N.type.toLowerCase());return A?A.value:null}function Jn(_,s){let i=parseInt(_,10);Number.isNaN(i)&&(i=0);const c=parseInt(s,10)||0;return 60*i+(i<0||Object.is(i,-0)?-c:c)}function po(_){const s=Number(_);if("boolean"==typeof _||""===_||Number.isNaN(s))throw new _t(`Invalid unit value ${_}`);return s}function qn(_,s){return Object.keys(_).reduce((i,c)=>(null!=_[c]&&(i[s(c)]=po(_[c])),i),{})}function be(_,s){const i=Math.trunc(Math.abs(_/60)),c=Math.trunc(Math.abs(_%60)),u=_>=0?"+":"-";switch(s){case"short":return`${u}${qt(i,2)}:${qt(c,2)}`;case"narrow":return`${u}${i}${c>0?`:${c}`:""}`;case"techie":return`${u}${qt(i,2)}${qt(c,2)}`;default:throw new RangeError(`Value format ${s} is out of range for property format`)}}function An(_){return s=_,["hour","minute","second","millisecond"].reduce((c,u)=>(c[u]=s[u],c),{});var s}const _n=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Vn=_n.slice(0).reverse(),go=["years","months","days","hours","minutes","seconds","milliseconds"],Qn={year:"year",years:"year",quarter:"quarter",quarters:"quarter",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",localweeknumber:"localWeekNumber",localweeknumbers:"localWeekNumber",localweekday:"localWeekday",localweekdays:"localWeekday",localweekyear:"localWeekYear",localweekyears:"localWeekYear",minute:"minute",minutes:"minute",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"},ce={firstDay:1,minimalDays:4,weekend:[6,7]};function ho(_,s){let i="";for(const c of _)i+=c.literal?c.val:s(c.val);return i}const Uo={D:ut,DD:lt,DDD:pt,DDDD:ne,t:oe,tt:Rt,ttt:Te,tttt:Oe,T:De,TT:Ee,TTT:ve,TTTT:fe,f:xe,ff:Pe,fff:Ue,ffff:Ae,F:_e,FF:Ze,FFF:ie,FFFF:de};class $t{constructor(s,i){this._opts=i,this._loc=s,this._systemLoc=void 0}static create(s,i={}){return new $t(s,i)}static macroTokenToFormatOpts(s){return Uo[s]}static parseFormat(s){let i=null,c="",u=!1;const h=[];for(let k=0;k<s.length;k++){const A=s.charAt(k);"'"===A?(c.length>0&&h.push({literal:u||/^\s+$/.test(c),val:c}),i=null,c="",u=!u):u||A===i?c+=A:(c.length>0&&h.push({literal:/^\s+$/.test(c),val:c}),c=A,i=A)}return c.length>0&&h.push({literal:u||/^\s+$/.test(c),val:c}),h}dtFormatter(s,i={}){return this._loc.dtFormatter(s,Object.assign(Object.assign({},this._opts),i))}formatDateTime(s,i){return this.dtFormatter(s,i).format()}formatDateTimeFromString(s,i){const c="en"===this._loc.listingMode(),u=this._loc.outputCalendar&&"gregory"!==this._loc.outputCalendar,h=(tt,W)=>this._loc.extract(s,tt,W),k=tt=>s.isOffsetFixed&&0===s.offset&&tt.allowZ?"Z":s.isValid?s.zone.formatOffset(s.ts,tt.format):"",N=(tt,W)=>{return c?(gt=s,Fe(tt)[gt.month-1]):h(W?{month:tt}:{month:tt,day:"numeric"},"month");var gt},J=(tt,W)=>{return c?(gt=s,qe(tt)[gt.weekday-1]):h(W?{weekday:tt}:{weekday:tt,month:"long",day:"numeric"},"weekday");var gt},V=tt=>{const W=$t.macroTokenToFormatOpts(tt);return W?this.formatWithSystemDefault(s,W):tt},H=tt=>{return c?(W=s,K(tt)[W.year<0?0:1]):h({era:tt},"era");var W};return ho($t.parseFormat(i),tt=>{switch(tt){case"S":return this.num(s.millisecond);case"u":case"SSS":return this.num(s.millisecond,3);case"s":return this.num(s.second);case"ss":return this.num(s.second,2);case"uu":return this.num(Math.floor(s.millisecond/10),2);case"uuu":return this.num(Math.floor(s.millisecond/100));case"m":return this.num(s.minute);case"mm":return this.num(s.minute,2);case"h":return this.num(s.hour%12==0?12:s.hour%12);case"hh":return this.num(s.hour%12==0?12:s.hour%12,2);case"H":return this.num(s.hour);case"HH":return this.num(s.hour,2);case"Z":return k({format:"narrow",allowZ:this._opts.allowZ});case"ZZ":return k({format:"short",allowZ:this._opts.allowZ});case"ZZZ":return k({format:"techie",allowZ:this._opts.allowZ});case"ZZZZ":return s.zone.offsetName(s.ts,{format:"short",locale:this._loc.locale})||"";case"ZZZZZ":return s.zone.offsetName(s.ts,{format:"long",locale:this._loc.locale})||"";case"z":return s.zoneName||"";case"a":return c?Qe[s.hour<12?0:1]:h({hour:"numeric",hourCycle:"h12"},"dayPeriod");case"d":return u?h({day:"numeric"},"day"):this.num(s.day);case"dd":return u?h({day:"2-digit"},"day"):this.num(s.day,2);case"c":case"E":return this.num(s.weekday);case"ccc":return J("short",!0);case"cccc":return J("long",!0);case"ccccc":return J("narrow",!0);case"EEE":return J("short",!1);case"EEEE":return J("long",!1);case"EEEEE":return J("narrow",!1);case"L":return u?h({month:"numeric",day:"numeric"},"month"):this.num(s.month);case"LL":return u?h({month:"2-digit",day:"numeric"},"month"):this.num(s.month,2);case"LLL":return N("short",!0);case"LLLL":return N("long",!0);case"LLLLL":return N("narrow",!0);case"M":return u?h({month:"numeric"},"month"):this.num(s.month);case"MM":return u?h({month:"2-digit"},"month"):this.num(s.month,2);case"MMM":return N("short",!1);case"MMMM":return N("long",!1);case"MMMMM":return N("narrow",!1);case"y":return u?h({year:"numeric"},"year"):this.num(s.year);case"yy":return u?h({year:"2-digit"},"year"):this.num(parseInt(s.year.toString().slice(-2),10),2);case"yyyy":return u?h({year:"numeric"},"year"):this.num(s.year,4);case"yyyyyy":return u?h({year:"numeric"},"year"):this.num(s.year,6);case"G":return H("short");case"GG":return H("long");case"GGGGG":return H("narrow");case"kk":return this.num(parseInt(s.weekYear.toString().slice(-2),10),2);case"kkkk":return this.num(s.weekYear,4);case"W":return this.num(s.weekNumber);case"WW":return this.num(s.weekNumber,2);case"o":return this.num(s.ordinal);case"ooo":return this.num(s.ordinal,3);case"q":return this.num(s.quarter);case"qq":return this.num(s.quarter,2);case"X":return this.num(Math.floor(s.ts/1e3));case"x":return this.num(s.ts);default:return V(tt)}})}formatDateTimeParts(s,i){return this.dtFormatter(s,i).formatToParts()}formatDurationFromString(s,i){const c=k=>{switch(k[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"M":return"months";case"y":return"years";default:return}},u=$t.parseFormat(i),h=u.reduce((k,{literal:A,val:N})=>A?k:k.concat(N),[]);return ho(u,(k=>A=>{const N=c(A);return N?this.num(k.get(N),A.length):A})(s.shiftTo(...h.map(c).filter(k=>!!k))))}formatInterval(s,i={}){if(!s.isValid)throw Error("Invalid Interval provided!");return this.dtFormatter(s.start,i).dtf.formatRange(s.start.toJSDate(),s.end.toJSDate())}formatWithSystemDefault(s,i){return void 0===this._systemLoc&&(this._systemLoc=this._loc.redefaultToSystem()),this._systemLoc.dtFormatter(s,Object.assign(Object.assign({},this._opts),i)).format()}num(s,i=0){if(this._opts.forceSimple)return qt(s,i);const c=Object.assign({},this._opts);return i>0&&(c.padTo=i),this._loc.numberFormatter(c).format(s)}resolvedOptions(s,i={}){return this.dtFormatter(s,i).resolvedOptions()}}function bn(..._){const s=_.reduce((i,c)=>i+c.source,"");return RegExp(`^${s}$`)}function vn(..._){return s=>_.reduce(([i,c,u],h)=>{const[k,A,N]=h(s,u);return[Object.assign(Object.assign({},i),k),A||c,N]},[{},null,1]).slice(0,2)}function Tn(_,...s){if(null==_)return[null,null];for(const[i,c]of s){const u=i.exec(_);if(u)return c(u)}return[null,null]}function fo(..._){return(s,i)=>{const c={};let u;for(u=0;u<_.length;u++)c[_[u]]=Ve(s[i+u]);return[c,null,i+u]}}const xo=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,bo=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Rn=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,vo=RegExp(`${Rn.source}(?:${bo.source}?(?:\\[(${xo.source})\\])?)?`),$n=RegExp(`(?:T${vo.source})?`),zo=fo("weekYear","weekNumber","weekday"),Fo=fo("year","ordinal"),To=RegExp(`${Rn.source} ?(?:${bo.source}|(${xo.source}))?`),Jo=RegExp(`(?: ${To.source})?`);function Cn(_,s,i){return le(_[s])?i:Ve(_[s])}function kn(_,s){return[{hour:Cn(_,s,0),minute:Cn(_,s+1,0),second:Cn(_,s+2,0),millisecond:cn(_[s+3])},null,s+4]}function Sn(_,s){const i=!_[s]&&!_[s+1],c=Jn(_[s+1],_[s+2]);return[{},i?null:nt.instance(c),s+3]}function In(_,s){return[{},_[s]?et.create(_[s]):null,s+1]}const qo=RegExp(`^T?${Rn.source}$`),Qo=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Yo(_){const[s,i,c,u,h,k,A,N,J]=_,V=s.startsWith("-"),H=!!N&&N.startsWith("-"),tt=(W,gt=!1)=>"number"==typeof W&&(gt||W&&V)?-W:W;return[{years:tt(ln(i)),months:tt(ln(c)),weeks:tt(ln(u)),days:tt(ln(h)),hours:tt(ln(k)),minutes:tt(ln(A)),seconds:tt(ln(N),"-0"===N),milliseconds:tt(cn(J),H)}]}const Bo={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Kn(_,s,i,c,u,h,k){let A;return _&&(A=_.length>3?Wt.indexOf(_)+1:Je.indexOf(_)+1),{year:2===s.length?uo(Ve(s)):Ve(s),month:Se.indexOf(i)+1,day:Ve(c),hour:Ve(u),minute:Ve(h),second:Ve(k),weekday:A}}const Ho=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Go(_){const[,s,i,c,u,h,k,A,N,J,V,H]=_,tt=Kn(s,u,c,i,h,k,A);let W;return W=N?Bo[N]:J?0:Jn(V,H),[tt,new nt(W)]}const Vo=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,jn=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Ro=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Co(_){const[,s,i,c,u,h,k,A]=_;return[Kn(s,u,c,i,h,k,A),nt.utcInstance]}function $o(_){const[,s,i,c,u,h,k,A]=_;return[Kn(s,A,i,c,u,h,k),nt.utcInstance]}const Ko=bn(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,$n),Wo=bn(/(\d{4})-?W(\d\d)(?:-?(\d))?/,$n),Xo=bn(/(\d{4})-?(\d{3})/,$n),ti=bn(vo),ko=vn(function(_,s){return[{year:Cn(_,s,0),month:Cn(_,s+1,1),day:Cn(_,s+2,1)},null,s+3]},kn,Sn,In),ei=vn(zo,kn,Sn,In),ni=vn(Fo,kn,Sn,In),f=vn(kn,Sn,In),L=bn(/(\d{4})-(\d\d)-(\d\d)/,Jo),p=bn(To),v=vn(kn,Sn,In),O={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},M=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},O),mt=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},O);function Tt(_,s){var i;let c=null!==(i=s.milliseconds)&&void 0!==i?i:0;for(const u of Vn.slice(1))s[u]&&(c+=s[u]*_[u].milliseconds);return c}class ot{static get _INVALID(){return"Invalid Duration"}get conversionAccuracy(){return this._conversionAccuracy}get days(){return this.isValid?this._values.days||0:NaN}get hours(){return this.isValid?this._values.hours||0:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this._invalid}get locale(){return this.isValid?this._loc.locale:void 0}get matrix(){return this._matrix}get milliseconds(){return this.isValid?this._values.milliseconds||0:NaN}get minutes(){return this.isValid?this._values.minutes||0:NaN}get months(){return this.isValid?this._values.months||0:NaN}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get quarters(){return this.isValid?this._values.quarters||0:NaN}get seconds(){return this.isValid?this._values.seconds||0:NaN}get weeks(){return this.isValid?this._values.weeks||0:NaN}get years(){return this.isValid?this._values.years||0:NaN}constructor(s){let i,c;"longterm"===s.conversionAccuracy?(c="longterm",i=mt):(c="casual",i=M),s.matrix&&(i=s.matrix),this._values=s.values||{},this._loc=s.loc||Zt.create(),this._conversionAccuracy=c,this._invalid=s.invalid||null,this._matrix=i,this._isLuxonDuration=!0}static fromDurationLike(s){if(je(s))return ot.fromMillis(s);if(ot.isDuration(s))return s;if("object"==typeof s)return ot.fromObject(s);throw new _t(`Unknown duration argument ${s} of type ${typeof s}`)}static fromISO(s,i){const[c]=Tn(s,[Qo,Yo]);return c?ot.fromObject(c,i):ot.invalid("unparsable",`the input "${s}" can't be parsed as ISO 8601`)}static fromISOTime(s,i={}){const[c]=Tn(s,[qo,vn(kn)]);return c?ot.fromObject(c,i):ot.invalid("unparsable",`the input "${s}" can't be parsed as ISO 8601`)}static fromMillis(s,i={}){return ot.fromObject({milliseconds:s},i)}static fromObject(s,i={}){if(null==s||"object"!=typeof s)throw new _t("Duration.fromObject: argument expected to be an object, got "+(null===s?"null":typeof s));return new ot({values:qn(s,ot.normalizeUnit),loc:Zt.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static invalid(s,i){if(!s)throw new _t("need to specify a reason the Duration is invalid");const c=s instanceof te?s:new te(s,i);if(St.throwOnInvalid)throw new t(c);return new ot({invalid:c})}static isDuration(s){return!!s&&s._isLuxonDuration||!1}static normalizeUnit(s){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",localWeekNumber:"localWeekNumbers",localWeekYear:"localWeekYears",localWeekday:"localWeekdays",localWeekNumbers:"localWeekNumbers",localWeekYears:"localWeekYears",localWeekdays:"localWeekdays",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[s];if(!i)throw new Q(s);return i}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this._values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}as(s){return this.shiftTo(s).get(s)}equals(s){if(!this.isValid||!s.isValid||!this._loc.equals(s._loc))return!1;for(const u of _n)if(c=s._values[u],!(void 0===(i=this._values[u])||0===i?void 0===c||0===c:i===c))return!1;var i,c;return!0}get(s){return this[ot.normalizeUnit(s)]}getMaxUnit(s=!1){const i=s?go:_n,c=this.shiftTo(...i).toObject();return i.find(u=>(c[u]||0)>0)||Vn[0]}mapUnits(s){if(!this.isValid)return this;const i={};return Object.keys(this._values).forEach(c=>{i[c]=po(s(this._values[c],c))}),this._clone(this,{values:i},!0)}minus(s){if(!this.isValid)return this;const i=ot.fromDurationLike(s);return this.plus(i.negate())}negate(){if(!this.isValid)return this;const s={};return Object.keys(this._values).forEach(i=>{s[i]=0===this._values[i]?0:-this._values[i]}),this._clone(this,{values:s},!0)}normalize(){if(!this.isValid)return this;const s=this.toObject();return function(i,c){const u=Tt(i,c)<0?-1:1;Vn.reduce((h,k)=>{if(le(c[k]))return h;if(h){const N=i[k][h],J=Math.floor(c[h]*u/N);c[k]+=J*u,c[h]-=J*N*u}return k},null),_n.reduce((h,k)=>{if(le(c[k]))return h;if(h){const A=c[h]%1;c[h]-=A,c[k]+=A*i[h][k]}return k},null)}(this._matrix,s),this._clone(this,{values:s},!0)}plus(s){if(!this.isValid)return this;const i=ot.fromDurationLike(s),c={};return _n.forEach(u=>{void 0===i._values[u]&&void 0===this._values[u]||(c[u]=i.get(u)+this.get(u))}),this._clone(this,{values:c},!0)}reconfigure({locale:s,numberingSystem:i,conversionAccuracy:c,matrix:u}={}){const h={loc:this._loc.clone({locale:s,numberingSystem:i}),matrix:u,conversionAccuracy:c};return this._clone(this,h)}rescale(){if(!this.isValid)return this;const s=function(i={}){return Object.entries(i).reduce((c,[u,h])=>(0!==h&&(c[u]=h),c),{})}(this.normalize().shiftToAll().toObject());return this._clone(this,{values:s},!0)}set(s){if(!this.isValid)return this;const i=Object.assign(Object.assign({},this._values),qn(s,ot.normalizeUnit));return this._clone(this,{values:i})}shiftTo(...s){if(!this.isValid||0===s.length)return this;s=s.map(k=>ot.normalizeUnit(k));const i={},c={},u=this.toObject();let h;return _n.forEach(k=>{if(s.indexOf(k)>=0){h=k;let A=0;Object.keys(c).forEach(J=>{A+=this._matrix[J][k]*c[J],c[J]=0}),je(u[k])&&(A+=u[k]);const N=Math.trunc(A);i[k]=N,c[k]=(1e3*A-1e3*N)/1e3}else je(u[k])&&(c[k]=u[k])}),Object.keys(c).forEach(k=>{const A=c[k];0!==A&&(i[h]+=k===h?A:A/this._matrix[h][k])}),this._clone(this,{values:i},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}toFormat(s,i={floor:!0}){const c=Object.assign(Object.assign({},i),{floor:!1!==i.round&&!1!==i.floor});return this.isValid?$t.create(this._loc,c).formatDurationFromString(this,s):ot._INVALID}toHuman(s={}){if(!this.isValid)return ot._INVALID;const i=this.getMaxUnit(!0),c=s.onlyHumanUnits?go:_n,u=this.shiftTo(...c.slice(c.indexOf(i))).toObject(),h=c.map(A=>{const N=u[A];return le(N)||0===N?null:this._loc.numberFormatter(Object.assign(Object.assign({style:"unit",unitDisplay:"long"},s),{unit:A.slice(0,-1)})).format(N)}).filter(A=>A),k=Object.assign({type:"conjunction",style:s.listStyle||"narrow"},s);return this._loc.listFormatter(k).format(h)}toISO(){if(!this.isValid)return null;let s="P";return 0!==this.years&&(s+=this.years+"Y"),0===this.months&&0===this.quarters||(s+=this.months+3*this.quarters+"M"),0!==this.weeks&&(s+=this.weeks+"W"),0!==this.days&&(s+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(s+="T"),0!==this.hours&&(s+=this.hours+"H"),0!==this.minutes&&(s+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(s+=pn(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===s&&(s+="T0S"),s}toISOTime(s={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(s=Object.assign(Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},s),{includeOffset:!1}),$.fromMillis(i,{zone:"UTC"}).toISOTime(s))}toJSON(){return this.toISO()}toMillis(){return this.isValid?Tt(this.matrix,this._values):NaN}toObject(){return this.isValid?Object.assign({},this._values):{}}toString(){return this.toISO()}valueOf(){return this.toMillis()}_clone(s,i,c=!1){const u={values:c?i.values:Object.assign(Object.assign({},s._values),i.values||{}),loc:s._loc.clone(i.loc),conversionAccuracy:i.conversionAccuracy||s.conversionAccuracy,matrix:i.matrix||s.matrix};return new ot(u)}}const Kt="Invalid Interval";function dn(_){if($.isDateTime(_))return _;if(_&&_.valueOf&&je(_.valueOf()))return $.fromJSDate(_);if(_&&"object"==typeof _)return $.fromObject(_);throw new _t(`Unknown datetime argument: ${_}, of type ${typeof _}`)}class Ut{get end(){return this.isValid?this._e:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this.invalidReason}get start(){return this.isValid?this._s:null}constructor(s){this._s=s.start,this._e=s.end,this._invalid=s.invalid||null,this._isLuxonInterval=!0}static after(s,i){const c=ot.fromDurationLike(i),u=dn(s);return new Ut({start:u,end:u?u.plus(c):void 0})}static before(s,i){const c=ot.fromDurationLike(i),u=dn(s);return new Ut({start:u?u.minus(c):void 0,end:u})}static fromDateTimes(s,i){const c=dn(s),u=dn(i);return A=u,((k=c)&&k.isValid?A&&A.isValid?A<k?Ut.invalid("end before start",`The end of an interval must be after its start, but you had start=${k.toISO()} and end=${A.toISO()}`):void 0:Ut.invalid("missing or invalid end"):Ut.invalid("missing or invalid start"))||new Ut({start:c,end:u});var k,A}static fromISO(s,i={}){const[c,u]=(s||"").split("/",2);if(c&&u){let h,k,A,N;try{h=$.fromISO(c,i),k=h.isValid}catch{k=!1}try{A=$.fromISO(u,i),N=A.isValid}catch{N=!1}if(k&&N)return Ut.fromDateTimes(h,A);if(k){const J=ot.fromISO(u,i);if(J.isValid)return Ut.after(h,J)}else if(N){const J=ot.fromISO(c,i);if(J.isValid)return Ut.before(A,J)}}return Ut.invalid("unparsable",`the input "${s}" can't be parsed as ISO 8601`)}static invalid(s,i){if(!s)throw new _t("need to specify a reason the Interval is invalid");const c=s instanceof te?s:new te(s,i);if(St.throwOnInvalid)throw new xt(c);return new Ut({invalid:c})}static isInterval(s){return!!s&&s._isLuxonInterval||!1}static merge(s){const[i,c]=s.sort((u,h)=>u._s.valueOf()-h._s.valueOf()).reduce(([u,h],k)=>h?h.overlaps(k)||h.abutsStart(k)?[u,h.union(k)]:[u.concat([h]),k]:[u,k],[[],null]);return c&&i.push(c),i}static xor(s){let i=null,c=0;const u=[],h=s.map(A=>[{time:A._s,type:"s"},{time:A._e,type:"e"}]),k=Array.prototype.concat(...h).sort((A,N)=>+A.time-+N.time);for(const A of k)c+="s"===A.type?1:-1,1===c?i=A.time:(i&&i.valueOf()!==A.time.valueOf()&&u.push(Ut.fromDateTimes(i,A.time)),i=null);return Ut.merge(u)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this._s.toISO()}, end: ${this._e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}abutsEnd(s){return+s._e==+this._s}abutsStart(s){return+this._e==+s._s}contains(s){return this._s<=s&&this._e>s}count(s="milliseconds",i){if(!this.isValid)return NaN;const c=this.start.startOf(s,i);let u;return u=i?.useLocaleWeeks?this.end.reconfigure({locale:c.locale}):this.end,u=u.startOf(s,i),Math.floor(u.diff(c,s).get(s))+ +(u.valueOf()!==this.end.valueOf())}difference(...s){return Ut.xor([this].concat(s)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}divideEqually(s){return this.isValid?this.splitBy({milliseconds:this.length()/s}).slice(0,s):[]}engulfs(s){return!!this.isValid&&this._s<=s._s&&this._e>=s._e}equals(s){return!(!this.isValid||!s.isValid)&&this._s.equals(s._s)&&this._e.equals(s._e)}hasSame(s){return!!this.isValid&&(this.isEmpty()||this._e.minus(1).hasSame(this._s,s))}intersection(s){if(!this.isValid)return this;const i=this._s>s._s?this._s:s._s,c=this._e<s._e?this._e:s._e;return i>=c?null:Ut.fromDateTimes(i,c)}isAfter(s){return!!this.isValid&&this._s>s}isBefore(s){return!!this.isValid&&this._e<=s}isEmpty(){return this._s.valueOf()===this._e.valueOf()}length(s="milliseconds"){return this.toDuration(s).get(s)}mapEndpoints(s){return Ut.fromDateTimes(s(this._s),s(this._e))}overlaps(s){return this._e>s._s&&this._s<s._e}set({start:s,end:i}={}){return this.isValid?Ut.fromDateTimes(s||this._s,i||this._e):this}splitAt(...s){const i=s.map(dn).filter(k=>this.contains(k)).sort((k,A)=>k.toMillis()-A.toMillis()),c=[];let u=this._s,h=0;for(;u<this._e;){const k=i[h]||this._e,A=+k>+this._e?this._e:k;c.push(Ut.fromDateTimes(u,A)),u=A,h+=1}return c}splitBy(s){const i=ot.fromDurationLike(s);if(!this.isValid||!i.isValid||0===i.as("milliseconds"))return[];let c,u=this._s,h=1;const k=[];for(;u<this._e;){const A=this.start.plus(i.mapUnits(N=>N*h));c=+A>+this._e?this._e:A,k.push(Ut.fromDateTimes(u,c)),u=c,h+=1}return k}toDuration(s="milliseconds",i={}){return this.isValid?this._e.diff(this._s,s,i):ot.invalid(this._invalid.reason)}toFormat(s,{separator:i=" - "}={}){return this.isValid?`${this._s.toFormat(s)}${i}${this._e.toFormat(s)}`:Kt}toISO(s={}){return this.isValid?`${this._s.toISO(s)}/${this._e.toISO(s)}`:Kt}toISODate(){return this.isValid?`${this._s.toISODate()}/${this._e.toISODate()}`:Kt}toISOTime(s={}){return this.isValid?`${this._s.toISOTime(s)}/${this._e.toISOTime(s)}`:Kt}toLocaleString(s=ut,i={}){return this.isValid?$t.create(this._s.loc.clone(i),s).formatInterval(this):Kt}toString(){return this.isValid?`[${this._s.toISO()} \u2013 ${this._e.toISO()})`:Kt}union(s){return this.isValid?Ut.fromDateTimes(this._s<s._s?this._s:s._s,this._e>s._e?this._e:s._e):this}}class Nn{static eras(s="short",{locale:i}={}){return Zt.create(i,void 0,"gregory").eras(s)}static features(){return{relative:co(),localeWeek:mo()}}static getMinimumDaysInFirstWeek({locale:s,locObj:i}={}){return(i||Zt.create(s)).getMinDaysInFirstWeek()}static getStartOfWeek({locale:s,locObj:i}={}){return(i||Zt.create(s)).getStartOfWeek()}static getWeekendWeekdays({locale:s,locObj:i}={}){return(i||Zt.create(s)).getWeekendDays().slice()}static hasDST(s=St.defaultZone){const i=$.now().setZone(s).set({month:12});return!s.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(s){return et.isValidZone(s)}static meridiems({locale:s}={}){return Zt.create(s).meridiems()}static months(s="long",{locale:i=null,locObj:c=null,numberingSystem:u=null,outputCalendar:h="gregory"}={}){return(c||Zt.create(i,u,h)).months(s)}static monthsFormat(s="long",{locale:i,locObj:c,numberingSystem:u,outputCalendar:h="gregory"}={}){return(c||Zt.create(i,u,h)).months(s,!0)}static normalizeZone(s){return I(s,St.defaultZone)}static weekdays(s="long",{locale:i,locObj:c,numberingSystem:u}={}){return(c||Zt.create(i,u)).weekdays(s)}static weekdaysFormat(s="long",{locale:i,locObj:c,numberingSystem:u}={}){return(c||Zt.create(i,u)).weekdays(s,!0)}}function wo(_,s){const i=u=>u.toUTC(0,{keepLocalTime:!0}).startOf("days").valueOf(),c=i(s)-i(_);return Math.floor(ot.fromMillis(c).as("days"))}const oi={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},bi={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ea=oi.hanidec.replace(/[\[|\]]/g,"").split("");function Me(_,s=""){return new RegExp(`${oi[_.numberingSystem||"latn"]}${s}`)}function Re(_,s=(i=>i)){return{regex:_,deser:([i])=>s(function(c){const u=parseInt(c,10);if(!isNaN(u))return u;let h="";for(let k=0;k<c.length;k++){const A=c.charCodeAt(k);if(-1!==c[k].search(oi.hanidec))h+=ea.indexOf(c[k]);else for(const N in bi){const[J,V]=bi[N];if(A>=J&&A<=V){h+=A-J;break}}}return parseInt(h,10)}(i))}}const Yn=`[ ${String.fromCharCode(160)}]`,vi=new RegExp(Yn,"g");function Ti(_){return _.replace(/\./g,"\\.?").replace(vi,Yn)}function Ci(_){return _.replace(/\./g,"").replace(vi," ").toLowerCase()}function Le(_,s){return{regex:RegExp(_.map(Ti).join("|")),deser:([i])=>_.findIndex(c=>Ci(i)===Ci(c))+s}}function ki(_,s){return{regex:_,deser:([,i,c])=>Jn(i,c),groups:s}}function wi(_){return{regex:_,deser:([s])=>s}}const oa={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let ii;function ia(_){return!!_&&!!_.invalidReason}function yi(_,s){return Array.prototype.concat(..._.map(i=>function(c,u){if(c.literal)return c;const h=Ai($t.macroTokenToFormatOpts(c.val),u);return null==h||h.includes(void 0)?c:h}(i,s)))}function Oi(_,s,i){const c=yi($t.parseFormat(i),_),u=c.map(k=>function(A,N){const J=Me(N),V=Me(N,"{2}"),H=Me(N,"{3}"),tt=Me(N,"{4}"),W=Me(N,"{6}"),gt=Me(N,"{1,2}"),Ot=Me(N,"{1,3}"),Pt=Me(N,"{1,6}"),Ft=Me(N,"{1,9}"),Jt=Me(N,"{2,4}"),Lt=Me(N,"{4,6}"),Qt=En=>{return{regex:RegExp((Do=En.val,Do.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([xi])=>xi,literal:!0};var Do},Xe=(En=>{if(A.literal)return Qt(En);switch(En.val){case"G":return Le(N.eras("short"),0);case"GG":return Le(N.eras("long"),0);case"y":return Re(Pt);case"yy":case"kk":return Re(Jt,uo);case"yyyy":case"kkkk":return Re(tt);case"yyyyy":return Re(Lt);case"yyyyyy":return Re(W);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Re(gt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Re(V);case"MMM":return Le(N.months("short",!0),1);case"MMMM":return Le(N.months("long",!0),1);case"LLL":return Le(N.months("short",!1),1);case"LLLL":return Le(N.months("long",!1),1);case"o":case"S":return Re(Ot);case"ooo":case"SSS":return Re(H);case"u":return wi(Ft);case"a":return Le(N.meridiems(),0);case"E":case"c":return Re(J);case"EEE":return Le(N.weekdays("short",!1),1);case"EEEE":return Le(N.weekdays("long",!1),1);case"ccc":return Le(N.weekdays("short",!0),1);case"cccc":return Le(N.weekdays("long",!0),1);case"Z":case"ZZ":return ki(new RegExp(`([+-]${gt.source})(?::(${V.source}))?`),2);case"ZZZ":return ki(new RegExp(`([+-]${gt.source})(${V.source})?`),2);case"z":return wi(/[a-z_+-/]{1,256}?/i);default:return Qt(En)}})(A)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Object.assign(Object.assign({},Xe),{token:A})}(k,_)),h=u.find(ia);if(h)return{input:s,tokens:c,invalidReason:h.invalidReason};{const k=`^${u.map(gt=>gt.regex).reduce((gt,Ot)=>`${gt}(${Ot.source})`,"")}$`,A=RegExp(k,"i"),[N,J]=function(W,gt,Ot){const Pt=gt.exec(W),Ft={};if(null!==Pt){let Jt=1;Ot.forEach(Lt=>{const Qt=Lt.groups?Lt.groups+1:1;Lt.literal||(Ft[Lt.token.val[0]]=Lt.deser(Pt.slice(Jt,Jt+Qt))),Jt+=Qt})}return[Pt,Ft]}(s,A,u),[V,H,tt]=J?function(W){let gt,Ot=null;return Mt(W.z)&&(Ot=et.create(W.z)),Mt(W.Z)&&(Ot||(Ot=new nt(+W.Z)),gt=+W.Z),Mt(W.q)&&(W.M=3*(W.q-1)+1),Mt(W.h)&&(+W.h<12&&1===W.a?W.h=W.h+12:12===W.h&&0===W.a&&(W.h=0)),0===W.G&&W.y&&(W.y=-W.y),Mt(W.u)&&(W.S=cn(W.u)||0),[Object.keys(W).reduce((Pt,Ft)=>{const Jt=(Lt=>{switch(Lt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(Ft);return Jt&&(Pt[Jt]=W[Ft]),Pt},{}),Ot,gt]}(J):[null,null,void 0];if("a"in J&&"H"in J)throw new Ct("Can't include meridiem when specifying 24-hour format");return{input:s,tokens:c,regex:A,rawMatches:N,matches:J,result:V,zone:H,specificOffset:tt}}}function Zi(_){return _.replace(/\u202F/g," ")}function Ai(_,s){if(!_)return null;const i=$t.create(s,_).dtFormatter((void 0===ii&&(ii=$.fromMillis(1555555555555,{locale:s.locale})),ii)),c=i.formatToParts(),u=i.resolvedOptions();return c.map(h=>function(k,A,N){const{type:J,value:V}=k;if("literal"===J){const gt=/^\s+$/.test(V);return{literal:!gt,val:gt?" ":V}}let tt=J;"hour"===J&&(tt=null!=A.hour12?A.hour12?"hour12":"hour24":null!=A.hourCycle?"h11"===A.hourCycle||"h12"===A.hourCycle?"hour12":"hour24":N.hour12?"hour12":"hour24");let W=oa[tt];if("object"==typeof W&&(W=W[A[J]]),W)return{literal:!1,val:W}}(h,_,u))}const ai="Invalid DateTime",Mn=864e13;function wn(_,s,i){let c=_-60*s*1e3;const u=i.offset(c);if(s===u)return[c,s];c-=60*(u-s)*1e3;const h=i.offset(c);return u===h?[c,u]:[_-60*Math.min(u,h)*1e3,Math.max(u,h)]}function yo(_,s){const i=new Date(_+=60*s*1e3);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function Oo(_,s,i){return wn(fn(_),s,i)}function Wn(_,s,i,c,u,h){const{setZone:k,zone:A}=i;if(_&&0!==Object.keys(_).length||s){const N=s||A,J=$.fromObject(_||void 0,Object.assign(Object.assign({},i),{zone:N,specificOffset:h}));return k?J:J.setZone(A)}return $.invalid(new te("unparsable",`the input "${u}" can't be parsed as ${c}`))}function Zo(_,s,i=!0){return _.isValid?$t.create(Zt.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(_,s):null}const Si={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0},aa={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},sa={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Ii=["year","month","day","hour","minute","second","millisecond"],ra=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],la=["year","ordinal","hour","minute","second","millisecond"];function ji(_){const s=Qn[_.toLowerCase()];if(!s)throw new Q(_);return s}class ${get day(){return this.isValid?this._c.day:NaN}get daysInMonth(){return ye(this.year,this.month)}get daysInYear(){return this.isValid?hn(this.year):NaN}get hour(){return this.isValid?this._c.hour:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:void 0}get invalidReason(){return this._invalid?this._invalid.reason:void 0}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return gn(this.year)}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isValid(){return null===this._invalid}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get loc(){return this.isValid?this._loc.clone():void 0}get localWeekNumber(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekYear:NaN}get localWeekday(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekday:NaN}get locale(){return this.isValid?this._loc.locale:void 0}get millisecond(){return this.isValid?this._c.millisecond:NaN}get minute(){return this.isValid?this._c.minute:NaN}get month(){return this.isValid?this._c.month:NaN}get monthLong(){return this.isValid?Nn.months("long",{locObj:this._loc})[this.month-1]:null}get monthShort(){return this.isValid?Nn.months("short",{locObj:this._loc})[this.month-1]:null}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get offset(){return this.isValid?+this._o:NaN}get offsetNameLong(){return this.isValid?this.zone.offsetName(this._ts,{format:"long",locale:this.locale}):null}get offsetNameShort(){return this.isValid?this.zone.offsetName(this._ts,{format:"short",locale:this.locale}):null}get ordinal(){return this.isValid?z(this._c).ordinal:NaN}get outputCalendar(){return this.isValid?this._loc.outputCalendar:void 0}get quarter(){return this.isValid?Math.ceil(this._c.month/3):NaN}get second(){return this.isValid?this._c.second:NaN}get ts(){return this._ts}get weekNumber(){return this.isValid?this._possiblyCachedWeekData(this).weekNumber:NaN}get weekYear(){return this.isValid?this._possiblyCachedWeekData(this).weekYear:NaN}get weekday(){return this.isValid?this._possiblyCachedWeekData(this).weekday:NaN}get weekdayLong(){return this.isValid?Nn.weekdays("long",{locObj:this._loc})[this.weekday-1]:null}get weekdayShort(){return this.isValid?Nn.weekdays("short",{locObj:this._loc})[this.weekday-1]:null}get weeksInLocalWeekYear(){return this.isValid?mn(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}get weeksInWeekYear(){return this.isValid?mn(this.weekYear):NaN}get year(){return this.isValid?this._c.year:NaN}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}constructor(s){const i=s.zone||St.defaultZone;let c,u,h=s.invalid||(Number.isNaN(s.ts)?new te("invalid timestamp"):null)||(i.isValid?null:$._unsupportedZone(i));if(this._ts=le(s.ts)?St.now():s.ts,!h)if(s.old&&s.old.ts===this._ts&&s.old.zone.equals(i))[u,c]=[s.old.c,s.old.o];else{const k=i.offset(this._ts);u=yo(this._ts,k),h=Number.isNaN(u.year)?new te("invalid input"):null,u=h?void 0:u,c=h?void 0:k}this._zone=i,this._loc=s.loc||Zt.create(),this._invalid=h,this._weekData=null,this._c=u,this._o=c,this._isLuxonDateTime=!0}static expandFormat(s,i={}){return yi($t.parseFormat(s),Zt.fromObject(i)).map(c=>c.val).join("")}static fromFormat(s,i,c={}){if(le(s)||le(i))throw new _t("fromFormat requires an input string and a format");const{locale:u,numberingSystem:h}=c,k=Zt.fromOpts({locale:u,numberingSystem:h,defaultToEN:!0}),[A,N,J,V]=function(H,tt,W){const{result:gt,zone:Ot,specificOffset:Pt,invalidReason:Ft}=Oi(H,Zi(tt),Zi(W));return[gt,Ot,Pt,Ft]}(k,s,i);return V?$.invalid(V):Wn(A,N||null,c,`format ${i}`,s,J)}static fromFormatExplain(s,i,c={}){const{locale:u,numberingSystem:h}=c;return Oi(Zt.fromOpts({locale:u,numberingSystem:h,defaultToEN:!0}),s,i)}static fromHTTP(s,i={}){const[c,u]=Tn(s,[Vo,Co],[jn,Co],[Ro,$o]);return Wn(c,u,i,"HTTP",s)}static fromISO(s,i={}){const[c,u]=Tn(s,[Ko,ko],[Wo,ei],[Xo,ni],[ti,f]);return Wn(c,u,i,"ISO 8601",s)}static fromJSDate(s,i={}){const c="[object Date]"===Object.prototype.toString.call(s)?s.valueOf():NaN;if(Number.isNaN(c))return $.invalid("invalid input");const h=I(i.zone,St.defaultZone);return h.isValid?new $({ts:c,zone:h,loc:Zt.fromObject(i)}):$.invalid($._unsupportedZone(h))}static fromMillis(s,i={}){if(je(s))return s<-Mn||s>Mn?$.invalid("Timestamp out of range"):new $({ts:s,zone:I(i.zone,St.defaultZone),loc:Zt.fromObject(i)});throw new _t(`fromMillis requires a numerical input, but received a ${typeof s} with value ${s}`)}static fromObject(s={},i={}){const c=I(i.zone,St.defaultZone);if(!c.isValid)return $.invalid($._unsupportedZone(c));const u=Zt.fromObject(i),h=qn(s,ji),k=St.now(),A=je(i.specificOffset)?i.specificOffset:c.offset(k),N=Mt(h.ordinal),J=Mt(h.year),V=Mt(h.month)||Mt(h.day),H=J||V,tt=h.weekYear||h.weekNumber;if((H||N)&&tt)throw new Ct("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(V&&N)throw new Ct("Can't mix ordinal dates with month/day");const W=tt||h.weekday&&!H,{minDaysInFirstWeek:gt,startOfWeek:Ot}=lo(h,u),Pt=yo(k,A),Ft={containsGregor:H,containsOrdinal:N,loc:u,normalized:h,obj:s,offsetProvis:A,useWeekData:W,zoneToUse:c};return W?$._buildObject(Ft,ra,aa,C(Pt,gt,Ot)):N?$._buildObject(Ft,la,sa,z(Pt)):$._buildObject(Ft,Ii,Si,Pt)}static fromRFC2822(s,i={}){const[c,u]=Tn(s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[Ho,Go]);return Wn(c,u,i,"RFC 2822",s)}static fromSQL(s,i={}){const[c,u]=Tn(s,[L,ko],[p,v]);return Wn(c,u,i,"SQL",s)}static fromSeconds(s,i={}){if(!je(s))throw new _t("fromSeconds requires a numerical input");return new $({ts:1e3*s,zone:I(i.zone,St.defaultZone),loc:Zt.fromObject(i)})}static fromString(s,i,c={}){return $.fromFormat(s,i,c)}static fromStringExplain(s,i,c={}){return $.fromFormatExplain(s,i,c)}static invalid(s,i){if(!s)throw new _t("need to specify a reason the DateTime is invalid");const c=s instanceof te?s:new te(s,i);if(St.throwOnInvalid)throw new x(c);return new $({invalid:c})}static isDateTime(s){return!(!s||!s._isLuxonDateTime)}static local(...s){const[i,c]=this._lastOpts(s),[u,h,k,A,N,J,V]=c;return $._quickDT({year:u,month:h,day:k,hour:A,minute:N,second:J,millisecond:V},i)}static max(...s){if(!s.every($.isDateTime))throw new _t("max requires all arguments be DateTimes");return _o(s,i=>i.valueOf(),Math.max)}static min(...s){if(!s.every($.isDateTime))throw new _t("min requires all arguments be DateTimes");return _o(s,i=>i.valueOf(),Math.min)}static now(){return new $({})}static parseFormatForOpts(s,i={}){const c=Ai(s,Zt.fromObject(i));return c?c.map(u=>u?u.val:null).join(""):null}static utc(...s){const[i,c]=this._lastOpts(s),[u,h,k,A,N,J,V]=c;return i.zone=nt.utcInstance,this._quickDT({year:u,month:h,day:k,hour:A,minute:N,second:J,millisecond:V},i)}static _buildObject(s,i,c,u){let h=!1;i.forEach(H=>{Mt(s.normalized[H])?h=!0:s.normalized[H]=h?c[H]:u[H]});const k=(s.useWeekData?function(H,tt=4,W=1){const gt=Ne(H.weekYear),Ot=pe(H.weekNumber,1,mn(H.weekYear,tt,W)),Pt=pe(H.weekday,1,7);return gt?Ot?!Pt&&se("weekday",H.weekday):se("week",H.weekNumber):se("weekYear",H.weekYear)}(s.normalized):s.containsOrdinal?function(H){const tt=Ne(H.year),W=pe(H.ordinal,1,hn(H.year));return tt?!W&&se("ordinal",H.ordinal):se("year",H.year)}(s.normalized):re(s.normalized))||zn(s.normalized);if(k)return $.invalid(k);const A=s.useWeekData?y(s.normalized):s.containsOrdinal?kt(s.normalized):s.normalized,[N,J]=Oo(A,s.offsetProvis,s.zoneToUse),V=new $({ts:N,zone:s.zoneToUse,o:J,loc:s.loc});return s.normalized.weekday&&s.containsGregor&&s.obj.weekday!==V.weekday?$.invalid("mismatched weekday",`you can't specify both a weekday of ${s.normalized.weekday} and a date of ${V.toISO()}`):V.isValid?V:$.invalid(V._invalid)}static _diffRelative(s,i,c){const u=!!le(c.round)||c.round,h=(A,N)=>(A=pn(A,u||c.calendary?0:2,!0),i._loc.clone(c).relFormatter(c).format(A,N)),k=A=>c.calendary?i.hasSame(s,A)?0:i.startOf(A).diff(s.startOf(A),A).get(A):i.diff(s,A).get(A);if(c.unit)return h(k(c.unit),c.unit);for(const A of c.units){const N=k(A);if(Math.abs(N)>=1)return h(N,A)}return h(s>i?-0:0,c.units[c.units.length-1])}static _lastOpts(s){let i,c={};return s.length>0&&"object"==typeof s[s.length-1]?(c=s.pop(),i=s):i=Array.from(s),[c,i]}static _quickDT(s,i){const c=I(i.zone,St.defaultZone),u=Zt.fromObject(i),h=St.now();let k,A;if(Mt(s.year)){for(const V of Ii)le(s[V])&&(s[V]=Si[V]);const N=re(s)||zn(s);if(N)return $.invalid(N);const J=c.offset(h);[k,A]=Oo(s,J,c)}else k=h;return new $({ts:k,zone:c,loc:u,o:A})}static _unsupportedZone(s){return new te("unsupported zone",`the zone "${s.name}" is not supported`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}diff(s,i="milliseconds",c={}){if(!this.isValid||!s.isValid)return ot.invalid(this.invalidReason||s.invalidReason,"created by diffing an invalid DateTime");const u=(A=i,Array.isArray(A)?A:[A]).map(ot.normalizeUnit),h=s.valueOf()>this.valueOf(),k=((_,s,i,c)=>{let[u,h,k,A]=function(H,tt,W){const gt=[["years",(Lt,Qt)=>Qt.year-Lt.year],["quarters",(Lt,Qt)=>Qt.quarter-Lt.quarter+4*(Qt.year-Lt.year)],["months",(Lt,Qt)=>Qt.month-Lt.month+12*(Qt.year-Lt.year)],["weeks",(Lt,Qt)=>{const Xe=wo(Lt,Qt);return(Xe-Xe%7)/7}],["days",wo]],Ot={},Pt=H;let Ft,Jt;for(const[Lt,Qt]of gt)W.indexOf(Lt)>=0&&(Ft=Lt,Ot[Lt]=Qt(H,tt),Jt=Pt.plus(Ot),Jt>tt?(Ot[Lt]--,(H=Pt.plus(Ot))>tt&&(Jt=H,Ot[Lt]--,H=Pt.plus(Ot))):H=Jt);return[H,Ot,Jt,Ft]}(_,s,i);const N=+s-+u,J=i.filter(H=>["hours","minutes","seconds","milliseconds"].indexOf(H)>=0);0===J.length&&(k<s&&(k=u.plus({[A]:1})),k!==u&&(h[A]=(h[A]||0)+N/(+k-+u)));const V=ot.fromObject(h,c);return J.length>0?ot.fromMillis(N,c).shiftTo(...J).plus(V):V})(h?this:s,h?s:this,u,Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},c));var A;return h?k.negate():k}diffNow(s="milliseconds",i={}){return this.diff($.now(),s,i)}endOf(s,{useLocaleWeeks:i=!1}={}){return this.plus({[s]:1}).startOf(s,{useLocaleWeeks:i}).minus({milliseconds:1})}equals(s){return this.valueOf()===s.valueOf()&&this.zone.equals(s.zone)&&this._loc.equals(s._loc)}get(s){return this[s]}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const s=864e5,i=6e4,c=fn(this._c),u=this.zone.offset(c-s),h=this.zone.offset(c+s),k=this.zone.offset(c-u*i),A=this.zone.offset(c-h*i);if(k===A)return[this];const N=c-k*i,J=c-A*i,V=yo(N,k),H=yo(J,A);return V.hour===H.hour&&V.minute===H.minute&&V.second===H.second&&V.millisecond===H.millisecond?[this._clone({ts:N}),this._clone({ts:J})]:[this]}hasSame(s,i,c){if(!this.isValid)return!1;const u=s.valueOf(),h=this.setZone(s.zone,{keepLocalTime:!0});return+h.startOf(i)<=u&&u<=+h.endOf(i,c)}minus(s){if(!this.isValid)return this;const i=ot.fromDurationLike(s).negate();return this._clone(this._adjustTime(i))}plus(s){if(!this.isValid)return this;const i=ot.fromDurationLike(s);return this._clone(this._adjustTime(i))}reconfigure(s){const i=this._loc.clone(s);return this._clone({loc:i})}resolvedLocaleOptions(s={}){const{locale:i,numberingSystem:c,calendar:u}=$t.create(this._loc.clone(s),s).resolvedOptions(this);return{locale:i,numberingSystem:c,outputCalendar:u}}set(s){if(!this.isValid)return this;const i=qn(s,ji),{minDaysInFirstWeek:c,startOfWeek:u}=lo(i,this.loc),h=Mt(i.weekYear)||Mt(i.weekNumber)||Mt(i.weekday),k=Mt(i.ordinal),A=Mt(i.year),N=Mt(i.month)||Mt(i.day);if((A||N||k)&&(i.weekYear||i.weekNumber))throw new Ct("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(N&&k)throw new Ct("Can't mix ordinal dates with month/day");let H;h?H=y(Object.assign(Object.assign({},C(this._c,c,u)),i),c,u):le(i.ordinal)?(H=Object.assign(Object.assign({},this.toObject()),i),le(i.day)&&(H.day=Math.min(ye(H.year,H.month),H.day))):H=kt(Object.assign(Object.assign({},z(this._c)),i));const[tt,W]=Oo(H,this._o,this.zone);return this._clone({ts:tt,o:W})}setLocale(s){return this.reconfigure({locale:s})}setZone(s,{keepLocalTime:i=!1,keepCalendarTime:c=!1}={}){if((s=I(s,St.defaultZone)).equals(this.zone))return this;if(s.isValid){let u=this._ts;if(i||c){const h=s.offset(this._ts);u=Oo(this.toObject(),h,s)[0]}return this._clone({ts:u,zone:s})}return $.invalid($._unsupportedZone(s))}startOf(s,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const c={},u=ot.normalizeUnit(s);switch(u){case"years":c.month=1;case"quarters":case"months":c.day=1;case"weeks":case"days":c.hour=0;case"hours":c.minute=0;case"minutes":c.second=0;case"seconds":c.millisecond=0}if("weeks"===u)if(i){const h=this.loc.getStartOfWeek(),{weekday:k}=this;k<h&&(c.weekNumber=this.weekNumber-1),c.weekday=h}else c.weekday=1;if("quarters"===u){const h=Math.ceil(this.month/3);c.month=3*(h-1)+1}return this.set(c)}toBSON(){return this.toJSDate()}toFormat(s,i={}){return this.isValid?$t.create(this._loc.redefaultToEN(i)).formatDateTimeFromString(this,s):ai}toHTTP(){return Zo(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toISO({format:s="extended",suppressSeconds:i=!1,suppressMilliseconds:c=!1,includeOffset:u=!0,extendedZone:h=!1}={}){if(!this.isValid)return null;const k="extended"===s;return[this._toISODate(k),"T",this._toISOTime(k,i,c,u,h)].join("")}toISODate({format:s="extended"}={format:"extended"}){return this.isValid?this._toISODate("extended"===s):null}toISOTime({suppressMilliseconds:s=!1,suppressSeconds:i=!1,includeOffset:c=!0,includePrefix:u=!1,extendedZone:h=!1,format:k="extended"}={}){return this.isValid?[u?"T":"",this._toISOTime("extended"===k,i,s,c,h)].join(""):null}toISOWeekDate(){return Zo(this,"kkkk-'W'WW-c")}toJSDate(){return new Date(this.isValid?this._ts:NaN)}toJSON(){return this.toISO()}toLocal(){return this.setZone(St.defaultZone)}toLocaleParts(s={}){return this.isValid?$t.create(this._loc.clone(s),s).formatDateTimeParts(this):[]}toLocaleString(s=ut,i={}){return this.isValid?$t.create(this._loc.clone(i),s).formatDateTime(this):ai}toMillis(){return this.isValid?this.ts:NaN}toObject(s={includeConfig:!1}){if(!this.isValid)return{};const i=Object.assign({},this._c);return s.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this._loc.numberingSystem,i.locale=this._loc.locale),i}toRFC2822(){return Zo(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toRelative(s={}){if(!this.isValid)return null;const i=s.base||$.fromObject({},{zone:this.zone}),c=s.padding?this<i?-s.padding:s.padding:0;let u=["years","months","days","hours","minutes","seconds"],h=s.unit;return Array.isArray(s.unit)&&(u=s.unit,h=void 0),$._diffRelative(i,this.plus(c),Object.assign(Object.assign({},s),{numeric:"always",units:u,unit:h}))}toRelativeCalendar(s={}){return this.isValid?$._diffRelative(s.base||$.fromObject({},{zone:this.zone}),this,Object.assign(Object.assign({},s),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}toSQL(s={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(s)}`:null}toSQLDate(){return this.isValid?this._toISODate(!0):null}toSQLTime({includeOffset:s=!0,includeZone:i=!1,includeOffsetSpace:c=!0}={}){let u="HH:mm:ss.SSS";return(i||s)&&(c&&(u+=" "),i?u+="z":s&&(u+="ZZ")),Zo(this,u,!0)}toSeconds(){return this.isValid?this._ts/1e3:NaN}toString(){return this.isValid?this.toISO():ai}toUTC(s=0,i={}){return this.setZone(nt.instance(s),i)}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}until(s){return Ut.fromDateTimes(this,s)}valueOf(){return this.toMillis()}_adjustTime(s){const i=this._o,c=this._c.year+Math.trunc(s.years),u=this._c.month+Math.trunc(s.months)+3*Math.trunc(s.quarters),h=Object.assign(Object.assign({},this._c),{year:c,month:u,day:Math.min(this._c.day,ye(c,u))+Math.trunc(s.days)+7*Math.trunc(s.weeks)}),k=ot.fromObject({years:s.years-Math.trunc(s.years),quarters:s.quarters-Math.trunc(s.quarters),months:s.months-Math.trunc(s.months),weeks:s.weeks-Math.trunc(s.weeks),days:s.days-Math.trunc(s.days),hours:s.hours,minutes:s.minutes,seconds:s.seconds,milliseconds:s.milliseconds}).as("milliseconds"),A=fn(h);let[N,J]=wn(A,i,this.zone);return 0!==k&&(N+=k,J=this.zone.offset(N)),{ts:N,o:J}}_clone(s){const i={ts:this._ts,zone:this.zone,c:this._c,o:this._o,loc:this._loc,invalid:this._invalid||void 0};return new $(Object.assign(Object.assign(Object.assign({},i),s),{old:i}))}_possiblyCachedLocalWeekData(s){return s._localWeekData||(s._localWeekData=C(s._c,s.loc.getMinDaysInFirstWeek(),s.loc.getStartOfWeek())),s._localWeekData}_possiblyCachedWeekData(s){return null===s._weekData&&(s._weekData=C(s._c)),s._weekData}_toISODate(s){const i=this._c.year>9999||this._c.year<0;let c="";return i&&this._c.year>=0&&(c+="+"),c+=qt(this._c.year,i?6:4),s?(c+="-",c+=qt(this._c.month),c+="-",c+=qt(this._c.day)):(c+=qt(this._c.month),c+=qt(this._c.day)),c}_toISOTime(s,i,c,u,h){let k=qt(this._c.hour);return s?(k+=":",k+=qt(this._c.minute),0===this._c.millisecond&&0===this._c.second&&i||(k+=":")):k+=qt(this._c.minute),0===this._c.millisecond&&0===this._c.second&&i||(k+=qt(this._c.second),0===this._c.millisecond&&c||(k+=".",k+=qt(this._c.millisecond,3))),u&&(this.isOffsetFixed&&0===this.offset&&!h?k+="Z":this._o<0?(k+="-",k+=qt(Math.trunc(-this._o/60)),k+=":",k+=qt(Math.trunc(-this._o%60))):(k+="+",k+=qt(Math.trunc(this._o/60)),k+=":",k+=qt(Math.trunc(this._o%60)))),h&&(k+="["+this.zone.ianaName+"]"),k}}$.DATETIME_FULL=Ue,$.DATETIME_FULL_WITH_SECONDS=ie,$.DATETIME_HUGE=Ae,$.DATETIME_HUGE_WITH_SECONDS=de,$.DATETIME_MED=Pe,$.DATETIME_MED_WITH_SECONDS=Ze,$.DATETIME_MED_WITH_WEEKDAY=en,$.DATETIME_SHORT=xe,$.DATETIME_SHORT_WITH_SECONDS=_e,$.DATE_FULL=pt,$.DATE_HUGE=ne,$.DATE_MED=lt,$.DATE_MED_WITH_WEEKDAY=Dt,$.DATE_SHORT=ut,$.TIME_24_SIMPLE=De,$.TIME_24_WITH_LONG_OFFSET=fe,$.TIME_24_WITH_SECONDS=Ee,$.TIME_24_WITH_SHORT_OFFSET=ve,$.TIME_SIMPLE=oe,$.TIME_WITH_LONG_OFFSET=Oe,$.TIME_WITH_SECONDS=Rt,$.TIME_WITH_SHORT_OFFSET=Te;var wt=b(96814),yn=b(19347),$e=b(32296),Ln=b(81274),Bn=b(65619),Xn=b(78645),si=b(59773),to=b(67081),eo=b(99397),Ni=b(37398),ca=b(93997),Ke=b(86825),ge=b(56223),ri=b(4300),li=b(98525),Mi=b(23680),Dn=b(64170),ci=b(30617),mi=b(2032),ma=b(68484);const _a=["clockFace"],da=["clockHand"],On=function(_){return{transform:_}};function ua(_,s){if(1&_&&(m.TgZ(0,"button",9),m.ALo(1,"activeHour"),m._uU(2),m.ALo(3,"timeLocalizer"),m.qZA()),2&_){const i=s.$implicit,c=m.oxw();m.Q6J("color",m.Dn7(1,4,i.time,null==c.selectedTime?null:c.selectedTime.time,c.isClockFaceDisabled)?c.color:void 0)("ngStyle",m.VKq(11,On,"rotateZ(-"+i.angle+"deg)"))("disabled",i.disabled),m.xp6(2),m.hij(" ",m.xi3(3,8,i.time,c.timeUnit.HOUR)," ")}}function pa(_,s){if(1&_&&(m.TgZ(0,"div",12)(1,"button",9),m.ALo(2,"activeMinute"),m._uU(3),m.ALo(4,"timeLocalizer"),m.ALo(5,"minutesFormatter"),m.qZA()()),2&_){const i=s.$implicit,c=m.oxw(2);m.Q6J("ngStyle",m.VKq(16,On,"rotateZ("+i.angle+"deg)")),m.xp6(1),m.Q6J("color",m.gM2(2,5,i.time,null==c.selectedTime?null:c.selectedTime.time,c.minutesGap,c.isClockFaceDisabled)?c.color:void 0)("ngStyle",m.VKq(18,On,"rotateZ(-"+i.angle+"deg)"))("disabled",i.disabled),m.xp6(2),m.hij(" ",m.xi3(4,10,m.xi3(5,13,i.time,c.minutesGap),c.timeUnit.MINUTE)," ")}}function ga(_,s){if(1&_&&(m.TgZ(0,"div",10),m.YNc(1,pa,6,20,"div",11),m.qZA()),2&_){const i=m.oxw();m.xp6(1),m.Q6J("ngForOf",i.faceTime)("ngForTrackBy",i.trackByTime)}}function ha(_,s){1&_&&m.Hsn(0,0,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}const Li=function(_){return{$implicit:_}};function fa(_,s){if(1&_&&(m.TgZ(0,"div",12),m.YNc(1,ha,1,0,"ng-content",14),m.qZA()),2&_){const i=s.$implicit;m.oxw(2);const c=m.MAs(1);m.Q6J("ngStyle",m.VKq(3,On,"rotateZ("+i.angle+"deg)")),m.xp6(1),m.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",m.VKq(5,Li,i))}}function xa(_,s){1&_&&m.Hsn(0,1,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function ba(_,s){if(1&_&&(m.TgZ(0,"div",17),m.YNc(1,xa,1,0,"ng-content",14),m.qZA()),2&_){const i=s.$implicit,c=m.oxw(3),u=m.MAs(1);m.Udp("top","calc(50% - "+c.innerClockFaceSize+"px)")("height",c.innerClockFaceSize,"px"),m.Q6J("ngStyle",m.VKq(7,On,"rotateZ("+i.angle+"deg)")),m.xp6(1),m.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",m.VKq(9,Li,i))}}function va(_,s){if(1&_&&(m.TgZ(0,"div",15),m.YNc(1,ba,2,11,"div",16),m.ALo(2,"slice"),m.qZA()),2&_){const i=m.oxw(2);m.xp6(1),m.Q6J("ngForOf",m.Dn7(2,2,i.faceTime,12,24))("ngForTrackBy",i.trackByTime)}}function Ta(_,s){if(1&_&&(m.TgZ(0,"div",10),m.YNc(1,fa,2,7,"div",11),m.ALo(2,"slice"),m.YNc(3,va,3,6,"div",13),m.qZA()),2&_){const i=m.oxw();m.xp6(1),m.Q6J("ngForOf",m.Dn7(2,3,i.faceTime,0,12))("ngForTrackBy",i.trackByTime),m.xp6(2),m.Q6J("ngIf",i.faceTime.length>12)}}function Ca(_,s){if(1&_&&(m.TgZ(0,"button",18),m._UZ(1,"span",19),m.qZA()),2&_){const i=m.oxw();m.Q6J("color",i.color)}}const Zn=["*","*"],Ao=function(_){return{"clock-face__clock-hand_minute":_}};function Di(_,s){if(1&_){const i=m.EpF();m.TgZ(0,"div",5),m.NdJ("@scaleInOut.done",function(){m.CHM(i);const u=m.oxw(2);return m.KtG(u.animationDone())}),m.TgZ(1,"p"),m._uU(2,"Current time would be invalid in this period."),m.qZA()()}2&_&&m.Q6J("@scaleInOut",void 0)}function Ei(_,s){if(1&_&&m.YNc(0,Di,3,1,"div",4),2&_){const i=m.oxw();m.Q6J("ngIf",!i.isPeriodAvailable)}}const no=function(_){return{active:_}};function ka(_,s){if(1&_){const i=m.EpF();m.TgZ(0,"input",2),m.NdJ("ngModelChange",function(u){m.CHM(i);const h=m.oxw();return m.KtG(h.time=u)})("input",function(){m.CHM(i);const u=m.oxw();return m.KtG(u.updateTime())})("focus",function(u){m.CHM(i);const h=m.oxw();return m.KtG(h.saveTimeAndChangeTimeUnit(u,h.timeUnit))}),m.ALo(1,"timeLocalizer"),m.qZA()}if(2&_){const i=m.oxw();m.Q6J("ngClass",m.VKq(8,no,i.isActive))("ngModel",m.Dn7(1,4,i.time,i.timeUnit,!0))("disabled",i.disabled)("ngxMatTimepickerAutofocus",i.isActive)}}function wa(_,s){if(1&_){const i=m.EpF();m.TgZ(0,"input",3),m.NdJ("ngModelChange",function(u){m.CHM(i);const h=m.oxw();return m.KtG(h.onModelChange(u))})("input",function(){m.CHM(i);const u=m.oxw();return m.KtG(u.updateTime())})("focus",function(u){m.CHM(i);const h=m.oxw();return m.KtG(h.saveTimeAndChangeTimeUnit(u,h.timeUnit))})("keydown",function(u){m.CHM(i);const h=m.oxw();return m.KtG(h.onKeydown(u))})("keypress",function(u){m.CHM(i);const h=m.oxw();return m.KtG(h.changeTimeByKeyboard(u))}),m.ALo(1,"timeLocalizer"),m.ALo(2,"ngxMatTimepickerParser"),m.qZA()}if(2&_){const i=m.oxw();m.Q6J("ngClass",m.VKq(11,no,i.isActive))("ngModel",m.Dn7(1,4,m.xi3(2,8,i.time,i.timeUnit),i.timeUnit,!0))("disabled",i.disabled)("ngxMatTimepickerAutofocus",i.isActive)}}function ya(_,s){if(1&_){const i=m.EpF();m.TgZ(0,"ngx-mat-timepicker-period",7),m.NdJ("periodChanged",function(u){m.CHM(i);const h=m.oxw();return m.KtG(h.changePeriod(u))}),m.qZA()}if(2&_){const i=m.oxw();m.Q6J("selectedPeriod",i.period)("activeTimeUnit",i.activeTimeUnit)("maxTime",i.maxTime)("minTime",i.minTime)("format",i.format)("hours",i.hours)("minutes",i.minutes)("selectedHour",i.hour)("meridiems",i.meridiems)}}function Oa(_,s){1&_&&m.GkF(0)}function Za(_,s){1&_&&(m.TgZ(0,"small",11),m._uU(1," * use arrows ("),m.TgZ(2,"span"),m._uU(3,"\u21c5"),m.qZA(),m._uU(4,") to change the time"),m.qZA())}const Aa=function(_){return{"timepicker-dial__hint-container--hidden":_}};function Sa(_,s){if(1&_&&(m.TgZ(0,"div",8),m.YNc(1,Oa,1,0,"ng-container",9),m.YNc(2,Za,5,0,"ng-template",null,10,m.W1O),m.qZA()),2&_){const i=m.MAs(3),c=m.oxw();m.Q6J("ngClass",m.VKq(2,Aa,!c.isHintVisible)),m.xp6(1),m.Q6J("ngTemplateOutlet",c.editableHintTmpl?c.editableHintTmpl:i)}}function Ia(_,s){1&_&&m.GkF(0)}function ja(_,s){if(1&_&&(m.TgZ(0,"div"),m.YNc(1,Ia,1,0,"ng-container",3),m.qZA()),2&_){m.oxw();const i=m.MAs(4);m.xp6(1),m.Q6J("ngTemplateOutlet",i)}}function Na(_,s){1&_&&m.GkF(0)}function Ma(_,s){if(1&_&&m.YNc(0,Na,1,0,"ng-container",3),2&_){m.oxw();const i=m.MAs(4);m.Q6J("ngTemplateOutlet",i)}}function La(_,s){1&_&&m.Hsn(0)}const Da=["*"];function Ea(_,s){if(1&_&&(m.TgZ(0,"button",14),m._uU(1,"CANCEL "),m.qZA()),2&_){const i=m.oxw();m.Q6J("color",i.color)}}function Pa(_,s){if(1&_&&(m.TgZ(0,"button",14),m._uU(1,"OK "),m.qZA()),2&_){const i=m.oxw();m.Q6J("color",i.color)}}function Ua(_,s){if(1&_){const i=m.EpF();m.TgZ(0,"ngx-mat-timepicker-24-hours-face",17),m.NdJ("hourChange",function(u){m.CHM(i);const h=m.oxw(2);return m.KtG(h.onHourChange(u))})("hourSelected",function(u){m.CHM(i);const h=m.oxw(2);return m.KtG(h.onHourSelected(u))}),m.ALo(1,"async"),m.qZA()}if(2&_){const i=m.oxw(2);m.Q6J("color",i.color)("selectedHour",m.lcZ(1,5,i.selectedHour))("minTime",i.data.minTime)("maxTime",i.data.maxTime)("format",i.data.format)}}function za(_,s){if(1&_){const i=m.EpF();m.TgZ(0,"ngx-mat-timepicker-12-hours-face",18),m.NdJ("hourChange",function(u){m.CHM(i);const h=m.oxw(2);return m.KtG(h.onHourChange(u))})("hourSelected",function(u){m.CHM(i);const h=m.oxw(2);return m.KtG(h.onHourSelected(u))}),m.ALo(1,"async"),m.ALo(2,"async"),m.qZA()}if(2&_){const i=m.oxw(2);m.Q6J("color",i.color)("selectedHour",m.lcZ(1,5,i.selectedHour))("period",m.lcZ(2,7,i.selectedPeriod))("minTime",i.data.minTime)("maxTime",i.data.maxTime)}}function Pi(_,s){if(1&_&&(m.TgZ(0,"div"),m.YNc(1,Ua,2,7,"ngx-mat-timepicker-24-hours-face",15),m.YNc(2,za,3,9,"ng-template",null,16,m.W1O),m.qZA()),2&_){const i=m.MAs(3),c=m.oxw();m.xp6(1),m.Q6J("ngIf",24===c.data.format)("ngIfElse",i)}}function Fa(_,s){if(1&_){const i=m.EpF();m.TgZ(0,"ngx-mat-timepicker-minutes-face",19),m.NdJ("minuteChange",function(u){m.CHM(i);const h=m.oxw();return m.KtG(h.onMinuteChange(u))}),m.ALo(1,"async"),m.ALo(2,"async"),m.ALo(3,"async"),m.qZA()}if(2&_){const i=m.oxw();let c;m.Q6J("color",i.color)("selectedMinute",m.lcZ(1,8,i.selectedMinute))("selectedHour",null==(c=m.lcZ(2,10,i.selectedHour))?null:c.time)("minTime",i.data.minTime)("maxTime",i.data.maxTime)("format",i.data.format)("period",m.lcZ(3,12,i.selectedPeriod))("minutesGap",i.data.minutesGap)}}function Ja(_,s){1&_&&m.GkF(0)}function qa(_,s){1&_&&m.GkF(0)}function Qa(_,s){if(1&_&&(m.TgZ(0,"button",14),m._uU(1,"CANCEL "),m.qZA()),2&_){const i=m.oxw();m.Q6J("color",i.color)}}function Ya(_,s){if(1&_&&(m.TgZ(0,"button",14),m._uU(1,"OK "),m.qZA()),2&_){const i=m.oxw();m.Q6J("color",i.color)}}function Ba(_,s){if(1&_){const i=m.EpF();m.TgZ(0,"ngx-mat-timepicker-24-hours-face",17),m.NdJ("hourChange",function(u){m.CHM(i);const h=m.oxw(2);return m.KtG(h.onHourChange(u))})("hourSelected",function(u){m.CHM(i);const h=m.oxw(2);return m.KtG(h.onHourSelected(u))}),m.ALo(1,"async"),m.qZA()}if(2&_){const i=m.oxw(2);m.Q6J("color",i.color)("selectedHour",m.lcZ(1,5,i.selectedHour))("minTime",i.data.minTime)("maxTime",i.data.maxTime)("format",i.data.format)}}function Ha(_,s){if(1&_){const i=m.EpF();m.TgZ(0,"ngx-mat-timepicker-12-hours-face",18),m.NdJ("hourChange",function(u){m.CHM(i);const h=m.oxw(2);return m.KtG(h.onHourChange(u))})("hourSelected",function(u){m.CHM(i);const h=m.oxw(2);return m.KtG(h.onHourSelected(u))}),m.ALo(1,"async"),m.ALo(2,"async"),m.qZA()}if(2&_){const i=m.oxw(2);m.Q6J("color",i.color)("selectedHour",m.lcZ(1,5,i.selectedHour))("period",m.lcZ(2,7,i.selectedPeriod))("minTime",i.data.minTime)("maxTime",i.data.maxTime)}}function Ga(_,s){if(1&_&&(m.TgZ(0,"div"),m.YNc(1,Ba,2,7,"ngx-mat-timepicker-24-hours-face",15),m.YNc(2,Ha,3,9,"ng-template",null,16,m.W1O),m.qZA()),2&_){const i=m.MAs(3),c=m.oxw();m.xp6(1),m.Q6J("ngIf",24===c.data.format)("ngIfElse",i)}}function Va(_,s){if(1&_){const i=m.EpF();m.TgZ(0,"ngx-mat-timepicker-minutes-face",19),m.NdJ("minuteChange",function(u){m.CHM(i);const h=m.oxw();return m.KtG(h.onMinuteChange(u))}),m.ALo(1,"async"),m.ALo(2,"async"),m.ALo(3,"async"),m.qZA()}if(2&_){const i=m.oxw();let c;m.Q6J("color",i.color)("selectedMinute",m.lcZ(1,8,i.selectedMinute))("selectedHour",null==(c=m.lcZ(2,10,i.selectedHour))?null:c.time)("minTime",i.data.minTime)("maxTime",i.data.maxTime)("format",i.data.format)("period",m.lcZ(3,12,i.selectedPeriod))("minutesGap",i.data.minutesGap)}}function Ra(_,s){1&_&&m.GkF(0)}function $a(_,s){1&_&&m.GkF(0)}function Ka(_,s){1&_&&m._UZ(0,"ngx-mat-timepicker-standalone")}function Wa(_,s){1&_&&(m.O4$(),m.TgZ(0,"svg",2),m._UZ(1,"path",3),m.qZA())}const Xa=[[["","ngxMatTimepickerToggleIcon",""]]],ts=["[ngxMatTimepickerToggleIcon]"];function es(_,s){if(1&_&&(m.TgZ(0,"mat-option",12),m._uU(1),m.qZA()),2&_){const i=s.$implicit;m.Q6J("value",i),m.xp6(1),m.Oqu(i)}}function ns(_,s){if(1&_){const i=m.EpF();m.TgZ(0,"mat-form-field",9)(1,"mat-select",10),m.NdJ("selectionChange",function(u){m.CHM(i);const h=m.oxw();return m.KtG(h.changePeriod(u))}),m.YNc(2,es,2,2,"mat-option",11),m.qZA()()}if(2&_){const i=m.oxw();m.Q6J("color",i.color),m.xp6(1),m.Q6J("disabled",i.disabled||i.isChangePeriodDisabled)("ngModel",i.period),m.xp6(1),m.Q6J("ngForOf",i.periods)}}function os(_,s){1&_&&m.GkF(0)}function is(_,s){if(1&_&&(m.TgZ(0,"ngx-mat-timepicker-toggle",13)(1,"span",14),m.YNc(2,os,1,0,"ng-container",15),m.qZA()()),2&_){const i=m.oxw(),c=m.MAs(8),u=m.MAs(10);m.Q6J("for",c)("disabled",i.disabled),m.xp6(2),m.Q6J("ngTemplateOutlet",i.toggleIcon||u)}}function as(_,s){1&_&&(m.TgZ(0,"mat-icon"),m._uU(1,"watch_later"),m.qZA())}const ss=function(_){return{"ngx-mat-timepicker--disabled":_}};var un=function(_){return _.TWELVE="hh:mm a",_.TWELVE_SHORT="h:m a",_.TWENTY_FOUR="HH:mm",_.TWENTY_FOUR_SHORT="H:m",_}(un||{}),ee=function(_){return _.AM="AM",_.PM="PM",_}(ee||{});let Et=(()=>{class _{static formatHour(i,c,u){if(this.isTwentyFour(c))return i;const h=u===ee.AM?i:i+12;return u===ee.AM&&12===h?0:u===ee.PM&&24===h?12:h}static formatTime(i,c){if(!i)return"Invalid Time";const u=this.parseTime(i,c).setLocale(this.defaultLocale);if(!u.isValid)return"Invalid time";const h=!this.isTwentyFour(c.format);return h?u.toLocaleString({...$.TIME_SIMPLE,hour12:h}).replace(/\u200E/g,""):u.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static fromDateTimeToString(i,c){return i.reconfigure({numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}).toFormat(this.isTwentyFour(c)?un.TWENTY_FOUR:un.TWELVE)}static isBetween(i,c,u,h="minutes"){const k="hours"===h?h:void 0;return this.isSameOrBefore(i,u,k)&&this.isSameOrAfter(i,c,k)}static isSameOrAfter(i,c,u="minutes"){return"hours"===u?i.hour>=c.hour:i.hasSame(c,u)||i.valueOf()>c.valueOf()}static isSameOrBefore(i,c,u="minutes"){return"hours"===u?i.hour<=c.hour:i.hasSame(c,u)||i.valueOf()<=c.valueOf()}static isTimeAvailable(i,c,u,h,k,A){if(!i)return;const N=this.parseTime(i,{format:A}),J=N.minute;if(k&&J==J&&J%k!=0)throw new Error(`Your minutes - ${J} doesn't match your minutesGap - ${k}`);const V=c&&!u&&this.isSameOrAfter(N,c,h),H=u&&!c&&this.isSameOrBefore(N,u,h),tt=c&&u&&this.isBetween(N,c,u,h);return V||H||tt||!c&&!u}static isTwentyFour(i){return 24===i}static parseTime(i,c){const u=this._getLocaleOptionsByTime(i,c);let h=un.TWENTY_FOUR_SHORT;return i.match(/\s/g)&&(i=i.replace(/\.\s*/g,""),h=un.TWELVE_SHORT),$.fromFormat(i.replace(/\s+/g," "),h,{numberingSystem:u.numberingSystem,locale:u.locale})}static toLocaleTimeString(i,c={}){const{format:u=this.defaultFormat,locale:h=this.defaultLocale}=c;let k="h12",A=un.TWELVE_SHORT;return this.isTwentyFour(u)&&(k="h23",A=un.TWENTY_FOUR_SHORT),$.fromFormat(i,A).reconfigure({locale:h,numberingSystem:c.numberingSystem,defaultToEN:c.defaultToEN,outputCalendar:c.outputCalendar}).toLocaleString({...$.TIME_SIMPLE,hourCycle:k})}static _getLocaleOptionsByTime(i,c){const{numberingSystem:u,locale:h}=$.now().reconfigure({locale:c.locale,numberingSystem:c.numberingSystem,outputCalendar:c.outputCalendar,defaultToEN:c.defaultToEN}).resolvedLocaleOptions();return isNaN(parseInt(i,10))?{numberingSystem:u,locale:h}:{numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}}}return _.defaultFormat=12,_.defaultLocale="en-US",_.defaultNumberingSystem="latn",_})();var he=function(_){return _[_.HOUR=0]="HOUR",_[_.MINUTE=1]="MINUTE",_}(he||{});const oo=new m.OlP("NGX_MAT_TIMEPICKER_CONFIG"),So={time:12,angle:360},Io={time:0,angle:360};let io=(()=>{class _{constructor(){this._hour$=new Bn.X(So),this._minute$=new Bn.X(Io),this._period$=new Bn.X(ee.AM)}set hour(i){this._hour$.next(i)}set minute(i){this._minute$.next(i)}set period(i){(i===ee.AM||i===ee.PM)&&this._period$.next(i)}get selectedHour(){return this._hour$.asObservable()}get selectedMinute(){return this._minute$.asObservable()}get selectedPeriod(){return this._period$.asObservable()}getFullTime(i){const c=this._hour$.getValue().time,u=this._minute$.getValue().time,N=`${c??So.time}:${u??Io.time} ${12===i?this._period$.getValue():""}`.trim();return Et.formatTime(N,{format:i})}setDefaultTimeIfAvailable(i,c,u,h,k){i||this._resetTime();try{Et.isTimeAvailable(i,c,u,"minutes",k)&&this._setDefaultTime(i,h)}catch(A){console.error(A)}}_resetTime(){this.hour={...So},this.minute={...Io},this.period=ee.AM}_setDefaultTime(i,c){const u=Et.parseTime(i,{format:c});if(u.isValid){const h=i.substring(i.length-2).toUpperCase(),k=u.hour;this.hour={...So,time:rs(k,h)},this.minute={...Io,time:u.minute},this.period=h}else this._resetTime()}}return _.\u0275fac=function(i){return new(i||_)},_.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function rs(_,s){switch(s){case ee.AM:return 0===_?12:_;case ee.PM:return 12===_?12:_-12;default:return _}}let jo=(()=>{class _{get backdropClick(){return this._backdropClick$.asObservable().pipe((0,to.d)({bufferSize:1,refCount:!0}))}get keydownEvent(){return this._keydownEvent$.asObservable().pipe((0,to.d)({bufferSize:1,refCount:!0}))}constructor(){this._backdropClick$=new Xn.x,this._keydownEvent$=new Xn.x}dispatchEvent(i){switch(i.type){case"click":this._backdropClick$.next(i);break;case"keydown":this._keydownEvent$.next(i);break;default:throw new Error("no such event type")}}}return _.\u0275fac=function(i){return new(i||_)},_.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Ui=new m.OlP("TimeLocale",{providedIn:"root",factory:()=>Et.defaultLocale});let We=(()=>{class _{get locale(){return this._locale}constructor(i){this._locale=i}updateLocale(i){this._locale=i||this._initialLocale}}return _.\u0275fac=function(i){return new(i||_)(m.LFG(Ui))},_.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),zi=(()=>{class _{set color(i){this._color=i}get color(){return this._color}get defaultTime(){return this._defaultTime}set defaultTime(i){this._defaultTime=i,this._setDefaultTime(i)}get _locale(){return this._timepickerLocaleSrv.locale}constructor(i,c,u,h){this._timepickerSrv=i,this._eventSrv=c,this._timepickerLocaleSrv=u,this.data=h,this.activeTimeUnit=he.HOUR,this.timeUnit=he,this._color="primary",this._subsCtrl$=new Xn.x,this.color=h.color,this.defaultTime=h.defaultTime}changePeriod(i){this._timepickerSrv.period=i,this._onTimeChange()}changeTimeUnit(i){this.activeTimeUnit=i}close(){this.data.timepickerBaseRef.close()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._defineTime(),this.selectedHour=this._timepickerSrv.selectedHour.pipe((0,to.d)({bufferSize:1,refCount:!0})),this.selectedMinute=this._timepickerSrv.selectedMinute.pipe((0,to.d)({bufferSize:1,refCount:!0})),this.selectedPeriod=this._timepickerSrv.selectedPeriod.pipe((0,to.d)({bufferSize:1,refCount:!0})),this.data.timepickerBaseRef.timeUpdated.pipe((0,si.R)(this._subsCtrl$)).subscribe({next:i=>{i&&this._setDefaultTime(i)}})}onHourChange(i){this._timepickerSrv.hour=i,this._onTimeChange()}onHourSelected(i){this.data.hoursOnly||this.changeTimeUnit(he.MINUTE),this.data.timepickerBaseRef.hourSelected.next(i)}onKeydown(i){this._eventSrv.dispatchEvent(i),i.stopPropagation()}onMinuteChange(i){this._timepickerSrv.minute=i,this._onTimeChange()}setTime(){this.data.timepickerBaseRef.timeSet.emit(this._timepickerSrv.getFullTime(this.data.format)),this.close()}_defineTime(){const i=this.data.minTime;if(i&&!this.data.time&&!this.data.defaultTime){const c=Et.fromDateTimeToString(i,this.data.format);this._setDefaultTime(c)}}_onTimeChange(){const i=Et.toLocaleTimeString(this._timepickerSrv.getFullTime(this.data.format),{locale:this._locale,format:this.data.format});this.data.timepickerBaseRef.timeChanged.emit(i)}_setDefaultTime(i){this._timepickerSrv.setDefaultTimeIfAvailable(i,this.data.minTime,this.data.maxTime,this.data.format,this.data.minutesGap)}}return _.\u0275fac=function(i){return new(i||_)(m.Y36(io),m.Y36(jo),m.Y36(We),m.Y36(oo))},_.\u0275dir=m.lG2({type:_,selectors:[["","ngxMatTimepickerBase",""]],hostBindings:function(i,c){1&i&&m.NdJ("keydown",function(h){return c.onKeydown(h)})},inputs:{color:"color",defaultTime:"defaultTime"},standalone:!0}),_})();class zt{static disableHours(s,i){return i.min||i.max?s.map(c=>{const u=Et.isTwentyFour(i.format)?c.time:Et.formatHour(c.time,i.format,i.period),h=$.fromObject({hour:u}).toFormat(un.TWELVE);return{...c,disabled:!Et.isTimeAvailable(h,i.min,i.max,"hours")}}):s}static disableMinutes(s,i,c){if(c.min||c.max){const u=Et.formatHour(i,c.format,c.period);let h=$.fromObject({hour:u,minute:0});return s.map(k=>(h=h.set({minute:k.time}),{...k,disabled:!Et.isTimeAvailable(h.toFormat(un.TWELVE),c.min,c.max,"minutes")}))}return s}static getHours(s){return Array(s).fill(1).map((i,c)=>{const h=i+c;return{time:24===h?0:h,angle:30*h}})}static getMinutes(s=1){const u=[];for(let h=0;h<60;h++){const k=6*h;h%s==0&&u.push({time:h,angle:0!==k?k:360})}return u}static isDigit(s){return!!([46,8,9,27,13].some(i=>i===s.keyCode)||65===s.keyCode&&(!0===s.ctrlKey||!0===s.metaKey)||67===s.keyCode&&(!0===s.ctrlKey||!0===s.metaKey)||88===s.keyCode&&(!0===s.ctrlKey||!0===s.metaKey)||s.keyCode>=35&&s.keyCode<=40)||!((s.keyCode<48||s.keyCode>57)&&(s.keyCode<96||s.keyCode>105))}}var ao=function(_){return _.hour="hour",_.minute="minute",_}(ao||{});let _i=(()=>{class _{get _locale(){return this._timepickerLocaleSrv.locale}constructor(i){this._timepickerLocaleSrv=i}transform(i,c,u=!1){if(null==i||""===i)return"";switch(c){case he.HOUR:return this._formatTime(ao.hour,i,0===i||u?"HH":"H");case he.MINUTE:return this._formatTime(ao.minute,i,"mm");default:throw new Error(`There is no Time Unit with type ${c}`)}}_formatTime(i,c,u){try{return $.fromObject({[i]:+c}).setLocale(this._locale).toFormat(u)}catch{throw new Error(`Cannot format provided time - ${c} to locale - ${this._locale}`)}}}return _.\u0275fac=function(i){return new(i||_)(m.Y36(We,16))},_.\u0275pipe=m.Yjl({name:"timeLocalizer",type:_,pure:!0,standalone:!0}),_})(),ls=(()=>{class _{transform(i,c=5){return i&&(i%c==0?i:"")}}return _.\u0275fac=function(i){return new(i||_)},_.\u0275pipe=m.Yjl({name:"minutesFormatter",type:_,pure:!0,standalone:!0}),_})(),cs=(()=>{class _{transform(i,c,u,h){return null!=i&&!h&&c===i&&i%(u||5)==0}}return _.\u0275fac=function(i){return new(i||_)},_.\u0275pipe=m.Yjl({name:"activeMinute",type:_,pure:!0,standalone:!0}),_})(),ms=(()=>{class _{transform(i,c,u){return null!=i&&!u&&i===c}}return _.\u0275fac=function(i){return new(i||_)},_.\u0275pipe=m.Yjl({name:"activeHour",type:_,pure:!0,standalone:!0}),_})();const No_small_height="75px",No_small_top="calc(50% - 75px)",No_large_height="103px",No_large_top="calc(50% - 103px)";let Mo=(()=>{class _{constructor(){this.color="primary",this.innerClockFaceSize=85,this.timeChange=new m.vpe,this.timeSelected=new m.vpe,this.timeUnit=he}ngAfterViewInit(){this._setClockHandPosition(),this._addTouchEvents()}ngOnChanges(i){const c=i.faceTime,u=i.selectedTime;c&&c.currentValue&&u&&u.currentValue&&(this.selectedTime=this.faceTime.find(h=>h.time===this.selectedTime.time)),u&&u.currentValue&&this._setClockHandPosition(),c&&c.currentValue&&setTimeout(()=>this._selectAvailableTime())}ngOnDestroy(){this._removeTouchEvents()}onMousedown(i){i.preventDefault(),this._isStarted=!0}onMouseup(i){i.preventDefault(),this._isStarted=!1}selectTime(i){if(!this._isStarted&&i instanceof MouseEvent&&"click"!==i.type)return;const c=this.clockFace.nativeElement.getBoundingClientRect(),u=c.left+c.width/2,h=c.top+c.height/2,k=180*Math.atan(Math.abs(i.clientX-u)/Math.abs(i.clientY-h))/Math.PI,A=function ds(_,s,i,c,u){return c>s&&i>=_?180-u:c>s&&i<_?180+u:c<s&&i<_?360-u:u}(u,h,i.clientX,i.clientY,k),N=this.format&&this._isInnerClockFace(u,h,i.clientX,i.clientY),H=(function _s(_,s){return Math.round(_/s)*s}(A,this.unit===he.MINUTE?6*(this.minutesGap||1):30)||360)+(N?360:0),tt=this.faceTime.find(W=>W.angle===H);tt&&!tt.disabled&&(this.timeChange.next(tt),this._isStarted||this.timeSelected.next(tt.time))}trackByTime(i,c){return c.time}_addTouchEvents(){this._touchStartHandler=this.onMousedown.bind(this),this._touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this._touchEndHandler)}_decreaseClockHand(){this.clockHand.nativeElement.style.height=No_small_height,this.clockHand.nativeElement.style.top=No_small_top}_increaseClockHand(){this.clockHand.nativeElement.style.height=No_large_height,this.clockHand.nativeElement.style.top=No_large_top}_isInnerClockFace(i,c,u,h){return Math.sqrt(Math.pow(u-i,2)+Math.pow(h-c,2))<this.innerClockFaceSize}_removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this._touchEndHandler)}_selectAvailableTime(){const i=this.faceTime.find(c=>this.selectedTime.time===c.time);if(this.isClockFaceDisabled=this.faceTime.every(c=>c.disabled),i&&i.disabled&&!this.isClockFaceDisabled){const c=this.faceTime.find(u=>!u.disabled);this.timeChange.next(c)}}_setClockHandPosition(){Et.isTwentyFour(this.format)&&(this.selectedTime.time>12||0===this.selectedTime.time?this._decreaseClockHand():this._increaseClockHand()),this.selectedTime&&(this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`)}}return _.\u0275fac=function(i){return new(i||_)},_.\u0275cmp=m.Xpm({type:_,selectors:[["ngx-mat-timepicker-face"]],viewQuery:function(i,c){if(1&i&&(m.Gf(_a,7),m.Gf(da,7,m.SBq)),2&i){let u;m.iGM(u=m.CRH())&&(c.clockFace=u.first),m.iGM(u=m.CRH())&&(c.clockHand=u.first)}},hostBindings:function(i,c){1&i&&m.NdJ("mousedown",function(h){return c.onMousedown(h)})("mouseup",function(h){return c.onMouseup(h)})("click",function(h){return c.selectTime(h)})("touchmove",function(h){return c.selectTime(h.changedTouches[0])})("touchend",function(h){return c.selectTime(h.changedTouches[0])})("mousemove",function(h){return c.selectTime(h)})},inputs:{color:"color",faceTime:"faceTime",format:"format",minutesGap:"minutesGap",selectedTime:"selectedTime",unit:"unit"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},standalone:!0,features:[m.TTD,m.jDz],ngContentSelectors:Zn,decls:11,vars:9,consts:[["hourButton",""],["minutesFace",""],[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"color","ngClass","hidden"],["clockHand",""],["mat-mini-fab","",3,"color",4,"ngIf"],[1,"clock-face__center",3,"color"],["mat-mini-fab","","disableRipple","",1,"mat-elevation-z0",3,"color","ngStyle","disabled"],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],["class","clock-face__inner",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"top","ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"],["mat-mini-fab","",3,"color"],[1,"clock-face__clock-hand_minute_dot"]],template:function(i,c){if(1&i&&(m.F$t(Zn),m.YNc(0,ua,4,13,"ng-template",null,0,m.W1O),m.YNc(2,ga,2,2,"ng-template",null,1,m.W1O),m.TgZ(4,"div",2,3),m.YNc(6,Ta,4,7,"div",4),m.TgZ(7,"mat-toolbar",5,6),m.YNc(9,Ca,2,1,"button",7),m.qZA(),m._UZ(10,"mat-toolbar",8),m.qZA()),2&i){const u=m.MAs(3);m.xp6(6),m.Q6J("ngIf",c.unit!==c.timeUnit.MINUTE)("ngIfElse",u),m.xp6(1),m.Q6J("color",c.color)("ngClass",m.VKq(7,Ao,c.unit===c.timeUnit.MINUTE))("hidden",c.isClockFaceDisabled),m.xp6(2),m.Q6J("ngIf",c.unit===c.timeUnit.MINUTE),m.xp6(1),m.Q6J("color",c.color)}},dependencies:[$e.ot,$e.nh,wt.PC,wt.ax,wt.O5,wt.tP,Ln.g0,Ln.Ye,wt.mk,wt.OU,ms,cs,ls,_i],styles:["ngx-mat-timepicker-face .clock-face{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;box-sizing:border-box;background-color:#c8c8c880!important}ngx-mat-timepicker-face .clock-face__inner{position:absolute;top:0;left:0;width:100%;height:100%}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void{box-shadow:none;background-color:transparent}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void>span.mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face .clock-face__container{margin-left:-2px}ngx-mat-timepicker-face .clock-face__number{position:absolute;transform-origin:25px 100%;width:50px;text-align:center;z-index:2;top:calc(50% - 125px);left:calc(50% - 25px)}ngx-mat-timepicker-face .clock-face__number--outer{height:125px}ngx-mat-timepicker-face .clock-face__number--outer>span{font-size:16px}ngx-mat-timepicker-face .clock-face__number--inner>span{font-size:14px}ngx-mat-timepicker-face .clock-face__clock-hand{height:103px;width:2px;padding:0;transform-origin:1px 100%;position:absolute;top:calc(50% - 103px);z-index:1}ngx-mat-timepicker-face .clock-face__center{width:8px;height:8px;padding:0;position:absolute;border-radius:50%;top:50%;left:50%;margin:-4px}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button{position:absolute;top:-22px;left:calc(50% - 20px);box-sizing:content-box;display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button .clock-face__clock-hand_minute_dot{display:block;width:4px;height:4px;background:#FFF;border-radius:50%}@media (max-device-width: 1023px) and (orientation: landscape){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}@media screen and (max-width: 360px){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}\n"],encapsulation:2,changeDetection:0}),_})(),di=(()=>{class _{set color(i){this._color=i}get color(){return this._color}constructor(){this.minuteChange=new m.vpe,this.minutesList=[],this.timeUnit=he,this._color="primary"}ngOnChanges(i){if(i.period&&i.period.currentValue){const c=zt.getMinutes(this.minutesGap);this.minutesList=zt.disableMinutes(c,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}}return _.\u0275fac=function(i){return new(i||_)},_.\u0275cmp=m.Xpm({type:_,selectors:[["ngx-mat-timepicker-minutes-face"]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",minutesGap:"minutesGap",period:"period",selectedHour:"selectedHour",selectedMinute:"selectedMinute"},outputs:{minuteChange:"minuteChange"},standalone:!0,features:[m.TTD,m.jDz],decls:1,vars:5,consts:[[3,"color","faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(i,c){1&i&&(m.TgZ(0,"ngx-mat-timepicker-face",0),m.NdJ("timeChange",function(h){return c.minuteChange.next(h)}),m.qZA()),2&i&&m.Q6J("color",c.color)("faceTime",c.minutesList)("selectedTime",c.selectedMinute)("minutesGap",c.minutesGap)("unit",c.timeUnit.MINUTE)},dependencies:[Mo],encapsulation:2}),_})(),Fi=(()=>{class _{set color(i){this._color=i}get color(){return this._color}set format(i){this._format=i,this.hoursList=zt.getHours(this._format)}get format(){return this._format}constructor(){this.hourChange=new m.vpe,this.hourSelected=new m.vpe,this.hoursList=[],this._color="primary",this._format=24}onTimeSelected(i){this.hourSelected.next(i)}}return _.\u0275fac=function(i){return new(i||_)},_.\u0275dir=m.lG2({type:_,selectors:[["","ngxMatTimepickerHoursFace",""]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",selectedHour:"selectedHour"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"},standalone:!0}),_})(),ui=(()=>{class _ extends Fi{constructor(){super(),this.format=12}ngOnChanges(i){i.period&&i.period.currentValue&&(this.hoursList=zt.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}}return _.\u0275fac=function(i){return new(i||_)},_.\u0275cmp=m.Xpm({type:_,selectors:[["ngx-mat-timepicker-12-hours-face"]],inputs:{period:"period"},standalone:!0,features:[m.qOj,m.TTD,m.jDz],decls:1,vars:3,consts:[[3,"color","selectedTime","faceTime","timeChange","timeSelected"]],template:function(i,c){1&i&&(m.TgZ(0,"ngx-mat-timepicker-face",0),m.NdJ("timeChange",function(h){return c.hourChange.next(h)})("timeSelected",function(h){return c.onTimeSelected(h)}),m.qZA()),2&i&&m.Q6J("color",c.color)("selectedTime",c.selectedHour)("faceTime",c.hoursList)},dependencies:[Mo],encapsulation:2,changeDetection:0}),_})(),pi=(()=>{class _ extends Fi{constructor(){super(),this.format=24}ngAfterContentInit(){this.hoursList=zt.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}}return _.\u0275fac=function(i){return new(i||_)},_.\u0275cmp=m.Xpm({type:_,selectors:[["ngx-mat-timepicker-24-hours-face"]],standalone:!0,features:[m.qOj,m.jDz],decls:1,vars:4,consts:[[3,"color","selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(i,c){1&i&&(m.TgZ(0,"ngx-mat-timepicker-face",0),m.NdJ("timeChange",function(h){return c.hourChange.next(h)})("timeSelected",function(h){return c.onTimeSelected(h)}),m.qZA()),2&i&&m.Q6J("color",c.color)("selectedTime",c.selectedHour)("faceTime",c.hoursList)("format",c.format)},dependencies:[Mo],encapsulation:2,changeDetection:0}),_})(),us=(()=>{class _{constructor(i){this._overlay=i,this.isPeriodAvailable=!0,this.overlayScrollStrategy=this._overlay.scrollStrategies.reposition(),this.periodChanged=new m.vpe,this.timePeriod=ee}animationDone(){this.isPeriodAvailable=!0}changePeriod(i){this.isPeriodAvailable=this._isSwitchPeriodAvailable(i),this.isPeriodAvailable&&this.periodChanged.next(i)}_getDisabledTimeByPeriod(i){switch(this.activeTimeUnit){case he.HOUR:return zt.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:i});case he.MINUTE:return zt.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:i});default:throw new Error("no such NgxMatTimepickerUnits")}}_isSwitchPeriodAvailable(i){return!this._getDisabledTimeByPeriod(i).every(u=>u.disabled)}}return _.\u0275fac=function(i){return new(i||_)(m.Y36(e.aV))},_.\u0275cmp=m.Xpm({type:_,selectors:[["ngx-mat-timepicker-period"]],inputs:{activeTimeUnit:"activeTimeUnit",format:"format",hours:"hours",maxTime:"maxTime",meridiems:"meridiems",minTime:"minTime",minutes:"minutes",selectedHour:"selectedHour",selectedPeriod:"selectedPeriod"},outputs:{periodChanged:"periodChanged"},standalone:!0,features:[m.jDz],decls:7,vars:12,consts:[["cdkOverlayOrigin","",1,"timepicker-period"],["eventPanelOrigin","cdkOverlayOrigin"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["cdkConnectedOverlay","","cdkConnectedOverlayPanelClass","todo-remove-pointer-events-if-necessary",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayPositionStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(i,c){if(1&i&&(m.TgZ(0,"div",0,1)(2,"button",2),m.NdJ("click",function(){return c.changePeriod(c.timePeriod.AM)}),m._uU(3),m.qZA(),m.TgZ(4,"button",2),m.NdJ("click",function(){return c.changePeriod(c.timePeriod.PM)}),m._uU(5),m.qZA()(),m.YNc(6,Ei,1,1,"ng-template",3)),2&i){const u=m.MAs(1);m.xp6(2),m.Q6J("ngClass",m.VKq(8,no,c.selectedPeriod===c.timePeriod.AM)),m.xp6(1),m.Oqu(c.meridiems[0]),m.xp6(1),m.Q6J("ngClass",m.VKq(10,no,c.selectedPeriod===c.timePeriod.PM)),m.xp6(1),m.Oqu(c.meridiems[1]),m.xp6(1),m.Q6J("cdkConnectedOverlayScrollStrategy",c.overlayScrollStrategy)("cdkConnectedOverlayPositionStrategy",c.overlayPositionStrategy)("cdkConnectedOverlayOrigin",u)("cdkConnectedOverlayOpen",!c.isPeriodAvailable)}},dependencies:[e.xu,wt.mk,e.pI,wt.O5],styles:[".timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{opacity:.5;padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;user-select:none;outline:none;border-radius:3px;transition:background-color .5s;color:inherit}.timepicker-period__btn.active[_ngcontent-%COMP%]{opacity:1}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:#00000012}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:#0000008c;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:700;color:#fff}"],data:{animation:[(0,Ke.X$)("scaleInOut",[(0,Ke.eR)(":enter",[(0,Ke.oB)({transform:"scale(0)"}),(0,Ke.jt)(".2s",(0,Ke.oB)({transform:"scale(1)"})),(0,Ke.vP)([(0,Ke.jt)("3s",(0,Ke.oB)({opacity:1})),(0,Ke.jt)(".3s",(0,Ke.oB)({opacity:0}))])])])]}}),_})(),Hn=(()=>{class _{get _locale(){return this._timepickerLocaleSrv.locale}constructor(i){this._timepickerLocaleSrv=i,this._numberingSystem=$.local().setLocale(this._locale).resolvedLocaleOptions().numberingSystem}transform(i,c=he.HOUR){return null==i||""===i?"":isNaN(+i)?c===he.MINUTE?this._parseTime(i,"mm",ao.minute).toString():this._parseTime(i,"HH",ao.hour).toString():`${i}`}_parseTime(i,c,u){const h=$.fromFormat(String(i),c,{numberingSystem:this._numberingSystem})[u];if(!isNaN(h))return h;throw new Error(`Cannot parse time - ${i}`)}}return _.\u0275fac=function(i){return new(i||_)(m.Y36(We,16))},_.\u0275pipe=m.Yjl({name:"ngxMatTimepickerParser",type:_,pure:!0,standalone:!0}),_.\u0275prov=m.Yz7({token:_,factory:_.\u0275fac}),_})(),ps=(()=>{class _{constructor(i,c){this._element=i,this._document=c,this._activeElement=this._document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this._element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this._activeElement.focus({preventScroll:!0}))}}return _.\u0275fac=function(i){return new(i||_)(m.Y36(m.SBq),m.Y36(wt.K0,8))},_.\u0275dir=m.lG2({type:_,selectors:[["","ngxMatTimepickerAutofocus",""]],inputs:{isFocusActive:["ngxMatTimepickerAutofocus","isFocusActive"]},standalone:!0,features:[m.TTD]}),_})();function Ji(){this.selectionStart=this.selectionEnd}let qi=(()=>{class _{get _selectedTime(){if(this.time)return this.timeList.find(i=>i.time===+this.time)}constructor(i,c){this._elRef=i,this._timeParserPipe=c,this.focused=new m.vpe,this.timeChanged=new m.vpe,this.timeUnitChanged=new m.vpe,this.unfocused=new m.vpe}changeTimeByKeyboard(i){const c=String.fromCharCode(i.keyCode);(function gs(_,s,i){if(/\d/.test(s))return Qi(_+s,i)})(this.time,c,this.timeList)&&i.preventDefault()}ngAfterViewInit(){this._elRef.nativeElement.querySelector("input").addEventListener("select",Ji,!1)}ngOnDestroy(){this._elRef.nativeElement.querySelector("input").removeEventListener("select",Ji)}onKeydown(i){zt.isDigit(i)?this._changeTimeByArrow(i.keyCode):i.preventDefault()}onModelChange(i){this.time=this._timeParserPipe.transform(i,this.timeUnit)}saveTimeAndChangeTimeUnit(i,c){i.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(c),this.focused.next()}updateTime(){this._selectedTime&&(this.timeChanged.next(this._selectedTime),this.previousTime=this._selectedTime.time)}_addTime(i){return`0${+this.time+i}`.substr(-2)}_changeTimeByArrow(i){let c;38===i?c=this._addTime(this.minutesGap||1):40===i&&(c=this._addTime(-1*(this.minutesGap||1))),Qi(c,this.timeList)||(this.time=c,this.updateTime())}}return _.\u0275fac=function(i){return new(i||_)(m.Y36(m.SBq),m.Y36(Hn))},_.\u0275cmp=m.Xpm({type:_,selectors:[["ngx-mat-timepicker-dial-control"]],inputs:{disabled:"disabled",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{focused:"focused",timeChanged:"timeChanged",timeUnitChanged:"timeUnitChanged",unfocused:"unfocused"},standalone:!0,features:[m._Bn([Hn]),m.jDz],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus","keydown","keypress"]],template:function(i,c){if(1&i&&(m.YNc(0,ka,2,10,"input",0),m.YNc(1,wa,3,13,"ng-template",null,1,m.W1O)),2&i){const u=m.MAs(2);m.Q6J("ngIf",!c.isEditable)("ngIfElse",u)}},dependencies:[wt.O5,ge.u5,ge.Fj,ge.JJ,ge.On,wt.mk,ps,Hn,_i],styles:[".timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:center;color:inherit}.timepicker-dial__control[_ngcontent-%COMP%]:focus{outline:none;background-color:#0000001a}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]}),_})();function Qi(_,s){const i=s.find(c=>c.time===+_);return!i||i&&i.disabled}let hi,gi=(()=>{class _{set color(i){this._color=i}get color(){return this._color}get hourString(){return`${this.hour}`}get minuteString(){return`${this.minute}`}get _locale(){return this._localeSrv.locale}constructor(i){this._localeSrv=i,this.hourChanged=new m.vpe,this.meridiems=Nn.meridiems({locale:this._locale}),this.minuteChanged=new m.vpe,this.periodChanged=new m.vpe,this.timeUnit=he,this.timeUnitChanged=new m.vpe,this._color="primary"}changeHour(i){this.hourChanged.next(i)}changeMinute(i){this.minuteChanged.next(i)}changePeriod(i){this.periodChanged.next(i)}changeTimeUnit(i){this.timeUnitChanged.next(i)}hideHint(){this.isHintVisible=!1}ngOnChanges(i){const c=i.period&&i.period.currentValue;if(c||i.format&&i.format.currentValue){const u=zt.getHours(this.format);this.hours=zt.disableHours(u,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(c||i.hour&&i.hour.currentValue){const u=zt.getMinutes(this.minutesGap);this.minutes=zt.disableMinutes(u,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}showHint(){this.isHintVisible=!0}}return _.\u0275fac=function(i){return new(i||_)(m.Y36(We))},_.\u0275cmp=m.Xpm({type:_,selectors:[["ngx-mat-timepicker-dial"]],inputs:{activeTimeUnit:"activeTimeUnit",color:"color",editableHintTmpl:"editableHintTmpl",format:"format",hour:"hour",hoursOnly:"hoursOnly",isEditable:"isEditable",maxTime:"maxTime",minTime:"minTime",minute:"minute",minutesGap:"minutesGap",period:"period"},outputs:{hourChanged:"hourChanged",minuteChanged:"minuteChanged",periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged"},standalone:!0,features:[m.TTD,m.jDz],decls:9,vars:14,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],["class","timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(i,c){1&i&&(m.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-mat-timepicker-dial-control",3),m.NdJ("timeUnitChanged",function(h){return c.changeTimeUnit(h)})("timeChanged",function(h){return c.changeHour(h)})("focused",function(){return c.showHint()})("unfocused",function(){return c.hideHint()}),m.qZA(),m.TgZ(4,"span"),m._uU(5,":"),m.qZA(),m.TgZ(6,"ngx-mat-timepicker-dial-control",4),m.NdJ("timeUnitChanged",function(h){return c.changeTimeUnit(h)})("timeChanged",function(h){return c.changeMinute(h)})("focused",function(){return c.showHint()})("unfocused",function(){return c.hideHint()}),m.qZA()(),m.YNc(7,ya,1,9,"ngx-mat-timepicker-period",5),m.qZA(),m.YNc(8,Sa,4,4,"div",6),m.qZA()),2&i&&(m.xp6(3),m.Q6J("timeList",c.hours)("time",c.hourString)("timeUnit",c.timeUnit.HOUR)("isActive",c.activeTimeUnit===c.timeUnit.HOUR)("isEditable",c.isEditable),m.xp6(3),m.Q6J("timeList",c.minutes)("time",c.minuteString)("timeUnit",c.timeUnit.MINUTE)("isActive",c.activeTimeUnit===c.timeUnit.MINUTE)("isEditable",c.isEditable)("minutesGap",c.minutesGap)("disabled",c.hoursOnly),m.xp6(1),m.Q6J("ngIf",24!==c.format),m.xp6(1),m.Q6J("ngIf",c.isEditable||c.editableHintTmpl))},dependencies:[qi,wt.O5,us,wt.mk,wt.tP],styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:center}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),_})(),Yi=(()=>{class _{}return _.\u0275fac=function(i){return new(i||_)},_.\u0275cmp=m.Xpm({type:_,selectors:[["ngx-mat-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},standalone:!0,features:[m.jDz],ngContentSelectors:Da,decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[4,"ngTemplateOutlet"]],template:function(i,c){if(1&i&&(m.F$t(),m.YNc(0,ja,2,1,"div",0),m.YNc(1,Ma,1,1,"ng-template",null,1,m.W1O),m.YNc(3,La,1,0,"ng-template",null,2,m.W1O)),2&i){const u=m.MAs(2);m.Q6J("ngIf",c.appendToInput)("ngIfElse",u)}},dependencies:[wt.O5,wt.tP],encapsulation:2}),_})(),Bi=(()=>{class _ extends zi{constructor(i,c,u,h,k){super(u,h,k,i),this.data=i,this._dialogRef=c}close(){this._dialogRef.close()}}return _.\u0275fac=function(i){return new(i||_)(m.Y36(yn.WI),m.Y36(yn.so),m.Y36(io),m.Y36(jo),m.Y36(We))},_.\u0275cmp=m.Xpm({type:_,selectors:[["ngx-mat-timepicker-dialog"]],standalone:!0,features:[m.qOj,m.jDz],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["mat-dialog-content",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],["mat-dialog-actions",""],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(i,c){if(1&i&&(m.YNc(0,Ea,2,1,"ng-template",null,0,m.W1O),m.YNc(2,Pa,2,1,"ng-template",null,1,m.W1O),m.TgZ(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),m.NdJ("periodChanged",function(h){return c.changePeriod(h)})("timeUnitChanged",function(h){return c.changeTimeUnit(h)})("hourChanged",function(h){return c.onHourChange(h)})("minuteChanged",function(h){return c.onMinuteChange(h)}),m.ALo(9,"async"),m.ALo(10,"async"),m.ALo(11,"async"),m.qZA()(),m.TgZ(12,"div",7)(13,"div",8),m.YNc(14,Pi,4,2,"div",9),m.YNc(15,Fa,4,14,"ngx-mat-timepicker-minutes-face",10),m.qZA()()()()(),m.TgZ(16,"div",11)(17,"div",12),m.NdJ("click",function(){return c.close()}),m.YNc(18,Ja,1,0,"ng-container",13),m.qZA(),m.TgZ(19,"div",12),m.NdJ("click",function(){return c.setTime()}),m.YNc(20,qa,1,0,"ng-container",13),m.qZA()()),2&i){const u=m.MAs(1),h=m.MAs(3);let k,A;m.xp6(5),m.Q6J("appendToInput",c.data.appendToInput)("inputElement",c.data.inputElement),m.xp6(1),m.Q6J("ngClass",c.data.timepickerClass),m.xp6(1),m.ekj("is-editable",c.data.enableKeyboardInput),m.Q6J("color",c.color),m.xp6(1),m.Q6J("color",c.color)("format",c.data.format)("hour",null==(k=m.lcZ(9,23,c.selectedHour))?null:k.time)("minute",null==(A=m.lcZ(10,25,c.selectedMinute))?null:A.time)("period",m.lcZ(11,27,c.selectedPeriod))("activeTimeUnit",c.activeTimeUnit)("minTime",c.data.minTime)("maxTime",c.data.maxTime)("isEditable",c.data.enableKeyboardInput)("editableHintTmpl",c.data.editableHintTmpl)("minutesGap",c.data.minutesGap)("hoursOnly",c.data.hoursOnly),m.xp6(5),m.Q6J("ngSwitch",c.activeTimeUnit),m.xp6(1),m.Q6J("ngSwitchCase",c.timeUnit.HOUR),m.xp6(1),m.Q6J("ngSwitchCase",c.timeUnit.MINUTE),m.xp6(3),m.Q6J("ngTemplateOutlet",c.data.cancelBtnTmpl?c.data.cancelBtnTmpl:u),m.xp6(2),m.Q6J("ngTemplateOutlet",c.data.confirmBtnTmpl?c.data.confirmBtnTmpl:h)}},dependencies:[wt.Ov,wt.mk,wt.O5,wt.RF,wt.n9,wt.tP,$e.ot,$e.lW,yn.Is,yn.xY,yn.H8,Ln.g0,Ln.Ye,Yi,gi,pi,ui,di],styles:["div.ngx-mat-timepicker-dialog>mat-dialog-container{padding-top:0}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content]{padding:0;max-height:85vh}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header.is-editable{height:auto}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] .clock-face{margin:16px}div.ngx-mat-timepicker-dialog>mat-dialog-container div[mat-dialog-actions]{justify-content:flex-end;display:flex}\n"],encapsulation:2}),_})(),Hi=(()=>{class _ extends zi{constructor(i,c,u,h){super(c,u,h,i),this.data=i}close(){this.data.timepickerBaseRef.close()}}return _.\u0275fac=function(i){return new(i||_)(m.Y36(oo),m.Y36(io),m.Y36(jo),m.Y36(We))},_.\u0275cmp=m.Xpm({type:_,selectors:[["ngx-mat-timepicker-standalone"]],hostVars:2,hostBindings:function(i,c){2&i&&m.ekj("mat-app-background",!0)},standalone:!0,features:[m.qOj,m.jDz],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["cdkTrapFocus",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"ngx-mat-timepicker-standalone-actions"],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(i,c){if(1&i&&(m.YNc(0,Qa,2,1,"ng-template",null,0,m.W1O),m.YNc(2,Ya,2,1,"ng-template",null,1,m.W1O),m.TgZ(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),m.NdJ("periodChanged",function(h){return c.changePeriod(h)})("timeUnitChanged",function(h){return c.changeTimeUnit(h)})("hourChanged",function(h){return c.onHourChange(h)})("minuteChanged",function(h){return c.onMinuteChange(h)}),m.ALo(9,"async"),m.ALo(10,"async"),m.ALo(11,"async"),m.qZA()(),m.TgZ(12,"div",7)(13,"div",8),m.YNc(14,Ga,4,2,"div",9),m.YNc(15,Va,4,14,"ngx-mat-timepicker-minutes-face",10),m.qZA()()()(),m.TgZ(16,"div",11)(17,"div",12),m.NdJ("click",function(){return c.close()}),m.YNc(18,Ra,1,0,"ng-container",13),m.qZA(),m.TgZ(19,"div",12),m.NdJ("click",function(){return c.setTime()}),m.YNc(20,$a,1,0,"ng-container",13),m.qZA()()()),2&i){const u=m.MAs(1),h=m.MAs(3);let k,A;m.xp6(5),m.Q6J("appendToInput",c.data.appendToInput)("inputElement",c.data.inputElement),m.xp6(1),m.Q6J("ngClass",c.data.timepickerClass),m.xp6(1),m.ekj("is-editable",c.data.enableKeyboardInput),m.Q6J("color",c.color),m.xp6(1),m.Q6J("color",c.color)("format",c.data.format)("hour",null==(k=m.lcZ(9,23,c.selectedHour))?null:k.time)("minute",null==(A=m.lcZ(10,25,c.selectedMinute))?null:A.time)("period",m.lcZ(11,27,c.selectedPeriod))("activeTimeUnit",c.activeTimeUnit)("minTime",c.data.minTime)("maxTime",c.data.maxTime)("isEditable",c.data.enableKeyboardInput)("editableHintTmpl",c.data.editableHintTmpl)("minutesGap",c.data.minutesGap)("hoursOnly",c.data.hoursOnly),m.xp6(5),m.Q6J("ngSwitch",c.activeTimeUnit),m.xp6(1),m.Q6J("ngSwitchCase",c.timeUnit.HOUR),m.xp6(1),m.Q6J("ngSwitchCase",c.timeUnit.MINUTE),m.xp6(3),m.Q6J("ngTemplateOutlet",c.data.cancelBtnTmpl?c.data.cancelBtnTmpl:u),m.xp6(2),m.Q6J("ngTemplateOutlet",c.data.confirmBtnTmpl?c.data.confirmBtnTmpl:h)}},dependencies:[$e.ot,$e.lW,ri.rt,ri.mK,Yi,wt.mk,Ln.g0,Ln.Ye,gi,wt.RF,wt.n9,wt.O5,pi,ui,di,wt.tP,wt.Ov],styles:["ngx-mat-timepicker-standalone{display:block;border-radius:4px;box-shadow:0 0 5px 2px #00000040;overflow:hidden}ngx-mat-timepicker-standalone ngx-mat-timepicker-content{display:block}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header.is-editable{height:auto}ngx-mat-timepicker-standalone ngx-mat-timepicker-content .clock-face{margin:16px}ngx-mat-timepicker-standalone .ngx-mat-timepicker-standalone-actions{display:flex;flex-direction:row;justify-content:flex-end;padding:0 16px 16px}\n"],encapsulation:2}),_})(),fi=(()=>{class _{set appendToInput(i){this._appendToInput=(0,rt.Ig)(i)}set color(i){this._color=i}get color(){return this._color}get disabled(){return this._timepickerInput&&this._timepickerInput.disabled}set enableKeyboardInput(i){this._enableKeyboardInput=(0,rt.Ig)(i)}get enableKeyboardInput(){return this._enableKeyboardInput}get format(){return this._timepickerInput?this._timepickerInput.format:this._format}set format(i){this._format=Et.isTwentyFour(i)?24:12}get inputElement(){return this._timepickerInput&&this._timepickerInput.element}get maxTime(){return this._timepickerInput?this._timepickerInput.max:this.max}get minTime(){return this._timepickerInput?this._timepickerInput.min:this.min}get minutesGap(){return this._minutesGap}set minutesGap(i){null!=i&&(i=Math.floor(i),this._minutesGap=i<=59?i:1)}get overlayOrigin(){return this._timepickerInput?this._timepickerInput.cdkOverlayOrigin:void 0}get time(){return this._timepickerInput&&this._timepickerInput.value}constructor(i,c,u){this._eventService=i,this._dialog=c,this._overlay=u,this.closed=new m.vpe,this.hourSelected=new m.vpe,this.hoursOnly=!1,this.id="ngx_mat_timepicker_"+ ++_.nextId,this.isEsc=!0,this.opened=new m.vpe,this.overlayPositions=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:0},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:0}],this.showPicker=!1,this.timeChanged=new m.vpe,this.timeSet=new m.vpe,this.timeUpdated=new Bn.X(void 0),this._appendToInput=!1,this._color="primary",this._enableKeyboardInput=!1,this._format=12}close(){this._appendToInput?this._overlayRef&&this._overlayRef.dispose():this._dialogRef&&this._dialogRef.close(),this.inputElement.focus(),this.showPicker=!1,this.closed.emit()}open(){hi={timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this._appendToInput,hoursOnly:this.hoursOnly,timepickerClass:this.timepickerClass,inputElement:this.inputElement,color:this.color},this._appendToInput?this.showPicker=!0:(this._dialogRef=this._dialog.open(Bi,{panelClass:"ngx-mat-timepicker-dialog",data:{...hi}}),this._dialogRef.afterClosed().subscribe(()=>{this.closed.emit()})),this.opened.emit()}registerInput(i){if(this._timepickerInput)throw console.warn("Input for this timepicker was already set",i.element),Error("A Timepicker can only be associated with a single input.");this._timepickerInput=i}unregisterInput(){this._timepickerInput=void 0}updateTime(i){this.timeUpdated.next(i)}}return _.nextId=0,_.\u0275fac=function(i){return new(i||_)(m.Y36(jo),m.Y36(yn.uw),m.Y36(e.aV))},_.\u0275cmp=m.Xpm({type:_,selectors:[["ngx-mat-timepicker"]],hostVars:1,hostBindings:function(i,c){2&i&&m.Ikx("id",c.id)},inputs:{appendToInput:"appendToInput",color:"color",enableKeyboardInput:"enableKeyboardInput",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",defaultTime:"defaultTime",disableAnimation:"disableAnimation",editableHintTmpl:"editableHintTmpl",hoursOnly:"hoursOnly",isEsc:"isEsc",max:"max",min:"min",preventOverlayClick:"preventOverlayClick",timepickerClass:"timepickerClass"},outputs:{closed:"closed",hourSelected:"hourSelected",opened:"opened",timeChanged:"timeChanged",timeSet:"timeSet"},standalone:!0,features:[m._Bn([{provide:oo,useFactory:()=>hi}]),m.jDz],decls:1,vars:4,consts:[["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","backdropClick"]],template:function(i,c){1&i&&(m.YNc(0,Ka,1,0,"ng-template",0),m.NdJ("backdropClick",function(){return c.close()})),2&i&&m.Q6J("cdkConnectedOverlayPositions",c.overlayPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayOrigin",c.overlayOrigin)("cdkConnectedOverlayOpen",c.showPicker)},dependencies:[e.pI,Hi],encapsulation:2}),_})(),Gi=(()=>{class _{}return _.\u0275fac=function(i){return new(i||_)},_.\u0275dir=m.lG2({type:_,selectors:[["","ngxMatTimepickerToggleIcon",""]],standalone:!0}),_})(),Lo=(()=>{class _{get disabled(){return void 0===this._disabled?this.timepicker?.disabled:this._disabled}set disabled(i){this._disabled=i}open(i){this.timepicker&&(this.timepicker.open(),i.stopPropagation())}}return _.\u0275fac=function(i){return new(i||_)},_.\u0275cmp=m.Xpm({type:_,selectors:[["ngx-mat-timepicker-toggle"]],contentQueries:function(i,c,u){if(1&i&&m.Suo(u,Gi,7),2&i){let h;m.iGM(h=m.CRH())&&(c.customIcon=h.first)}},inputs:{disabled:"disabled",timepicker:["for","timepicker"]},standalone:!0,features:[m.jDz],ngContentSelectors:ts,decls:3,vars:2,consts:[["color","","mat-icon-button","","type","button",1,"ngx-mat-timepicker-toggle","mat-elevation-z0",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","class","ngx-mat-timepicker-toggle-default-icon","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",1,"ngx-mat-timepicker-toggle-default-icon"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(i,c){1&i&&(m.F$t(Xa),m.TgZ(0,"button",0),m.NdJ("click",function(h){return c.open(h)}),m.YNc(1,Wa,2,0,"svg",1),m.Hsn(2),m.qZA()),2&i&&(m.Q6J("disabled",c.disabled),m.xp6(1),m.Q6J("ngIf",!c.customIcon))},dependencies:[$e.ot,$e.RK,wt.O5],styles:["button.ngx-mat-timepicker-toggle{background-color:transparent;text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer;box-shadow:none}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{margin:auto}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}body .ngx-mat-timepicker-toggle{color:#0000008a}\n"],encapsulation:2}),_})(),Ri=(()=>{class _{set color(i){this._color=i}get color(){return this._color}set floatLabel(i){this._floatLabel=i}get floatLabel(){return this._floatLabel}constructor(i){this._timeParser=i,this.id=_.nextId++,this.timeChanged=new m.vpe,this._color="primary",this._floatLabel="auto"}changeTime(i){i.stopPropagation();const c=i.data,u=function Vi(_,s){if(/\d/.test(s))return+(_+s)}(String(this.time),c);this._changeTimeIfValid(u)}decrease(){if(!this.disabled){let i=+this.time-1;i<this.min&&(i=this.max),this._isSelectedTimeDisabled(i)&&(i=this._getAvailableTime(i,this._getPrevAvailableTime.bind(this))),i!==this.time&&this.timeChanged.emit(i)}}increase(){if(!this.disabled){let i=+this.time+1;i>this.max&&(i=this.min),this._isSelectedTimeDisabled(i)&&(i=this._getAvailableTime(i,this._getNextAvailableTime.bind(this))),i!==this.time&&this.timeChanged.emit(i)}}ngOnChanges(i){i.timeList&&null!=this.time&&this._isSelectedTimeDisabled(this.time)&&this._setAvailableTime()}onBlur(){this.isFocused=!1,this._previousTime!==this.time&&this._changeTimeIfValid(+this.time)}onFocus(){this.isFocused=!0,this._previousTime=this.time}onKeydown(i){switch(i.stopPropagation(),zt.isDigit(i)||i.preventDefault(),i.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==i.key&&i.preventDefault()}onModelChange(i){this.time=+this._timeParser.transform(i,this.timeUnit)}_changeTimeIfValid(i){if(!isNaN(i)){if(this.time=i,this.time>this.max){const c=String(i);this.time=+c[c.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}_getAvailableTime(i,c){return c(this.timeList.findIndex(k=>k.time===i))??this.time}_getNextAvailableTime(i){const c=this.timeList,u=c.length;for(let h=i+1;h<u;h++){const k=c[h];if(!k.disabled)return k.time}}_getPrevAvailableTime(i){for(let c=i;c>=0;c--){const u=this.timeList[c];if(!u.disabled)return u.time}}_isSelectedTimeDisabled(i){return this.timeList.find(c=>c.time===i).disabled}_setAvailableTime(){this.time=this.timeList.find(i=>!i.disabled).time,this.timeChanged.emit(this.time)}}return _.nextId=0,_.\u0275fac=function(i){return new(i||_)(m.Y36(Hn))},_.\u0275cmp=m.Xpm({type:_,selectors:[["ngx-mat-timepicker-time-control"]],inputs:{color:"color",disabled:"disabled",floatLabel:"floatLabel",max:"max",min:"min",placeholder:"placeholder",preventTyping:"preventTyping",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[m._Bn([Hn]),m.TTD,m.jDz],decls:13,vars:17,consts:[[1,"ngx-mat-timepicker-control",3,"color","floatLabel","ngClass"],["matInput","","maxlength","2",3,"id","name","ngModel","placeholder","disabled","ngModelChange","keydown","beforeinput","focus","blur"],["matSuffix","",1,"arrows-wrap"],["role","button",1,"arrow",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","18","viewBox","0 0 24 24","width","18"],["d","M0 0h24v24H0z","fill","none"],["d","M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"],["d","M0 0h24v24H0V0z","fill","none"],["d","M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"]],template:function(i,c){1&i&&(m.TgZ(0,"mat-form-field",0)(1,"input",1),m.NdJ("ngModelChange",function(h){return c.onModelChange(h)})("keydown",function(h){return c.onKeydown(h)})("beforeinput",function(h){return c.changeTime(h)})("focus",function(){return c.onFocus()})("blur",function(){return c.onBlur()}),m.ALo(2,"timeLocalizer"),m.ALo(3,"ngxMatTimepickerParser"),m.qZA(),m.TgZ(4,"div",2)(5,"span",3),m.NdJ("click",function(){return c.increase()}),m.O4$(),m.TgZ(6,"svg",4),m._UZ(7,"path",5)(8,"path",6),m.qZA()(),m.kcU(),m.TgZ(9,"span",3),m.NdJ("click",function(){return c.decrease()}),m.O4$(),m.TgZ(10,"svg",4),m._UZ(11,"path",7)(12,"path",8),m.qZA()()()()),2&i&&(m.Q6J("color",c.color)("floatLabel",c.floatLabel)("ngClass",m.VKq(15,no,c.isFocused)),m.xp6(1),m.MGl("id","ngx_mat_timepicker_field_",c.id,"")("name","ngx_mat_timepicker_field_",c.id,""),m.Q6J("ngModel",m.Dn7(2,8,m.xi3(3,12,c.time,c.timeUnit),c.timeUnit,!0))("placeholder",c.placeholder)("disabled",c.disabled))},dependencies:[Dn.lN,Dn.KE,Dn.R9,wt.mk,mi.c,mi.Nt,ge.u5,ge.Fj,ge.JJ,ge.nD,ge.On,Hn,_i],styles:[".ngx-mat-timepicker-control[_ngcontent-%COMP%]{width:60px;min-width:60px}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%]{position:relative;z-index:1}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{text-align:center;opacity:.5;height:15px;cursor:pointer;transition:opacity .2s;-webkit-user-select:none;user-select:none}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0}),_})(),hs=(()=>{class _{get color(){return this._color}set color(i){this._color=i}get defaultTime(){return this._defaultTime}set defaultTime(i){this._defaultTime=i,this._isDefaultTime=!!i}get floatLabel(){return this._floatLabel}set floatLabel(i){this._floatLabel=i}get format(){return this._format}set format(i){Et.isTwentyFour(i)?(this._format=24,this.minHour=0,this.maxHour=23):(this._format=12,this.minHour=1,this.maxHour=12),this.hoursList=zt.getHours(this._format),i&&this._previousFormat&&this._previousFormat!==this._format&&this._updateTime(this.timepickerTime),this._previousFormat=this._format}get max(){return this._max}set max(i){this._max="string"!=typeof i?i:Et.parseTime(i,{locale:this._locale,format:this.format})}get min(){return this._min}set min(i){this._min="string"!=typeof i?i:Et.parseTime(i,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(i,c){this._timepickerService=i,this._timepickerLocaleSrv=c,this.hour$=new Bn.X(void 0),this.maxHour=12,this.minHour=1,this.minute$=new Bn.X(void 0),this.period=ee.AM,this.periods=[ee.AM,ee.PM],this.timeChanged=new m.vpe,this.timeUnit=he,this._color="primary",this._floatLabel="auto",this._format=12,this._isFirstTimeChange=!0,this._subsCtrl$=new Xn.x,this._onChange=()=>{},this._onTouched=()=>{}}changeHour(i){this._timepickerService.hour=this.hoursList.find(c=>c.time===i),this._changeTime()}changeMinute(i){this._timepickerService.minute=this.minutesList.find(c=>c.time===i),this._changeTime()}changePeriod(i){this._timepickerService.period=i.value,this._changeTime()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._initTime(this.defaultTime),this.hoursList=zt.getHours(this._format),this.minutesList=zt.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this._timepickerService.selectedHour.pipe((0,eo.b)(i=>this._selectedHour=i?.time),(0,Ni.U)(this._changeDefaultTimeValue.bind(this)),(0,eo.b)(()=>this.isTimeRangeSet&&this._updateAvailableMinutes())).subscribe({next:i=>this.hour$.next(i)}),this._timepickerService.selectedMinute.pipe((0,Ni.U)(this._changeDefaultTimeValue.bind(this)),(0,eo.b)(()=>this._isFirstTimeChange=!1)).subscribe({next:i=>this.minute$.next(i)}),12===this.format&&this._timepickerService.selectedPeriod.pipe((0,ca.x)(),(0,eo.b)(i=>this.period=i),(0,eo.b)(i=>this.isChangePeriodDisabled=this._isPeriodDisabled(i)),(0,si.R)(this._subsCtrl$)).subscribe(()=>this.isTimeRangeSet&&this._updateAvailableTime())}onTimeSet(i){this._updateTime(i),this._emitLocalTimeChange(i)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}writeValue(i){i?this._initTime(i):this._resetTime()}_changeDefaultTimeValue(i){return!this._isDefaultTime&&this._isFirstTimeChange?{...i,time:null}:i}_changeTime(){if(!isNaN(this.hour$.getValue()?.time)&&!isNaN(this.minute$.getValue()?.time)){const i=this._timepickerService.getFullTime(this.format);this.timepickerTime=i,this._emitLocalTimeChange(i)}}_emitLocalTimeChange(i){const c=Et.toLocaleTimeString(i,{format:this.format,locale:this._locale});this._onChange(c),this._onTouched(c),this.timeChanged.emit(c)}_initTime(i){if(!Et.isTimeAvailable(i,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this._updateTime(Et.fromDateTimeToString(this.min,this.format));if(this.max)return void this._updateTime(Et.fromDateTimeToString(this.max,this.format))}this._updateTime(i)}_isPeriodDisabled(i){return zt.disableHours(zt.getHours(12),{min:this.min,max:this.max,format:12,period:i===ee.AM?ee.PM:ee.AM}).every(c=>c.disabled)}_resetTime(){this._timepickerService.hour={angle:0,time:null},this._timepickerService.minute={angle:0,time:null}}_updateAvailableHours(){this.hoursList=zt.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableMinutes(){this.minutesList=zt.disableMinutes(this.minutesList,this._selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableTime(){this._updateAvailableHours(),this._selectedHour&&this._updateAvailableMinutes()}_updateTime(i){if(i){const c=Et.formatTime(i,{locale:this._locale,format:this.format});this._timepickerService.setDefaultTimeIfAvailable(c,this.min,this.max,this.format),this.timepickerTime=c}}}return _.\u0275fac=function(i){return new(i||_)(m.Y36(io),m.Y36(We))},_.\u0275cmp=m.Xpm({type:_,selectors:[["ngx-mat-timepicker-field"]],inputs:{color:"color",defaultTime:"defaultTime",floatLabel:"floatLabel",format:"format",max:"max",min:"min",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",controlOnly:"controlOnly",disabled:"disabled",toggleIcon:"toggleIcon"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[m._Bn([io,{provide:ge.JU,useExisting:_,multi:!0}]),m.jDz],decls:11,vars:32,consts:[[1,"ngx-mat-timepicker",3,"ngClass"],[1,"ngx-mat-timepicker__control--first",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],[1,"separator-colon","ngx-mat-timepicker__control--second"],[1,"ngx-mat-timepicker__control--third",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],["class","period-select ngx-mat-timepicker__control--forth",3,"color",4,"ngIf"],["class","ngx-mat-timepicker__toggle",3,"for","disabled",4,"ngIf"],[3,"color","min","max","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl","timeSet"],["timepicker",""],["defaultIcon",""],[1,"period-select","ngx-mat-timepicker__control--forth",3,"color"],[3,"disabled","ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ngx-mat-timepicker__toggle",3,"for","disabled"],["ngxMatTimepickerToggleIcon",""],[4,"ngTemplateOutlet"]],template:function(i,c){if(1&i&&(m.TgZ(0,"div",0)(1,"ngx-mat-timepicker-time-control",1),m.NdJ("timeChanged",function(h){return c.changeHour(h)}),m.qZA(),m.TgZ(2,"span",2),m._uU(3,":"),m.qZA(),m.TgZ(4,"ngx-mat-timepicker-time-control",3),m.NdJ("timeChanged",function(h){return c.changeMinute(h)}),m.qZA(),m.YNc(5,ns,3,4,"mat-form-field",4),m.YNc(6,is,3,3,"ngx-mat-timepicker-toggle",5),m.qZA(),m.TgZ(7,"ngx-mat-timepicker",6,7),m.NdJ("timeSet",function(h){return c.onTimeSet(h)}),m.qZA(),m.YNc(9,as,2,0,"ng-template",null,8,m.W1O)),2&i){let u,h;m.Q6J("ngClass",m.VKq(30,ss,c.disabled)),m.xp6(1),m.Q6J("color",c.color)("floatLabel",c.floatLabel)("placeholder","HH")("time",null==(u=c.hour$.getValue())?null:u.time)("min",c.minHour)("max",c.maxHour)("timeUnit",c.timeUnit.HOUR)("disabled",c.disabled)("timeList",c.hoursList)("preventTyping",c.isTimeRangeSet),m.xp6(3),m.Q6J("color",c.color)("floatLabel",c.floatLabel)("placeholder","MM")("time",null==(h=c.minute$.getValue())?null:h.time)("min",0)("max",59)("timeUnit",c.timeUnit.MINUTE)("disabled",c.disabled)("timeList",c.minutesList)("preventTyping",c.isTimeRangeSet),m.xp6(1),m.Q6J("ngIf",24!==c.format),m.xp6(1),m.Q6J("ngIf",!c.controlOnly),m.xp6(1),m.Q6J("color",c.color)("min",c.min)("max",c.max)("defaultTime",c.timepickerTime)("format",c.format)("cancelBtnTmpl",c.cancelBtnTmpl)("confirmBtnTmpl",c.confirmBtnTmpl)}},dependencies:[wt.mk,Ri,wt.O5,Dn.lN,Dn.KE,li.LD,li.gD,Mi.ey,ge.u5,ge.JJ,ge.On,wt.ax,Mi.Ng,Lo,Gi,wt.tP,fi,ci.Ps,ci.Hw],styles:[".ngx-mat-timepicker{display:flex;align-items:center;height:100%}.ngx-mat-timepicker--disabled{background:rgba(0,0,0,.07);pointer-events:none}.ngx-mat-timepicker .separator-colon{margin-left:5px;margin-right:5px}.ngx-mat-timepicker .period-select{width:60px;min-width:60px;margin-left:8px;text-align:center}.ngx-mat-timepicker__control--first{order:1}.ngx-mat-timepicker__control--second{order:2}.ngx-mat-timepicker__control--third{order:3}.ngx-mat-timepicker__control--forth{order:4}.ngx-mat-timepicker__toggle{order:4;margin-bottom:1.5em;margin-left:4px}.ngx-mat-timepicker__toggle span.mat-button-wrapper{font-size:24px}\n"],encapsulation:2,changeDetection:0}),_})(),$i=(()=>{class _{get element(){return this._elementRef&&this._elementRef.nativeElement}get format(){return this._format}set format(i){this._format=Et.isTwentyFour(+i)?24:12,i&&this._previousFormat&&this._previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this._previousFormat=this._format}get max(){return this._max}set max(i){this._max="string"!=typeof i?i:Et.parseTime(i,{locale:this._locale,format:this.format})}get min(){return this._min}set min(i){this._min="string"!=typeof i?i:Et.parseTime(i,{locale:this._locale,format:this.format})}set timepicker(i){this._registerTimepicker(i)}get value(){return this._value?Et.toLocaleTimeString(this._value,{format:this.format,locale:this._locale}):""}set value(i){if(!i)return this._value="",void this._updateInputValue();const c=Et.formatTime(i,{locale:this._locale,format:this.format});if(Et.isTimeAvailable(c,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=c,void this._updateInputValue();console.warn("Selected time doesn't match min or max value")}set _defaultTime(i){this._timepicker.defaultTime=Et.formatTime(i,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(i,c,u){this._elementRef=i,this._timepickerLocaleSrv=c,this._matFormField=u,this.cdkOverlayOrigin=new e.xu(this._matFormField?this._matFormField.getConnectedOverlayOrigin():this._elementRef),this._format=12,this._subsCtrl$=new Xn.x,this._value="",this.onTouched=()=>{},this._onChange=()=>{}}ngOnChanges(i){const c=i.value;c&&c.currentValue&&(this._defaultTime=c.currentValue)}ngOnDestroy(){this._unregisterTimepicker(),this._subsCtrl$.next(),this._subsCtrl$.complete()}onClick(i){this.disableClick||(this._timepicker.open(),i.stopPropagation())}registerOnChange(i){this._onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i}updateValue(i){this.value=i.target.value,this._onChange(this.value)}writeValue(i){this.value=i,i&&(this._defaultTime=i)}_registerTimepicker(i){if(!i)throw new Error("NgxMatTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxMatTimepicker directive");this._timepicker=i,this._timepicker.registerInput(this),this._timepicker.timeSet.pipe((0,si.R)(this._subsCtrl$)).subscribe(c=>{this.value=c,this._onChange(this.value),this.onTouched(),this._defaultTime=this._value})}_unregisterTimepicker(){this._timepicker&&this._timepicker.unregisterInput()}_updateInputValue(){this._elementRef.nativeElement.value=this.value}}return _.\u0275fac=function(i){return new(i||_)(m.Y36(m.SBq),m.Y36(We),m.Y36(Dn.KE,8))},_.\u0275dir=m.lG2({type:_,selectors:[["","ngxMatTimepicker",""]],hostVars:2,hostBindings:function(i,c){1&i&&m.NdJ("blur",function(){return c.onTouched()})("click",function(h){return c.onClick(h)})("change",function(h){return c.updateValue(h)}),2&i&&(m.Ikx("disabled",c.disabled),m.uIk("cdkOverlayOrigin",c.cdkOverlayOrigin))},inputs:{format:"format",max:"max",min:"min",timepicker:["ngxMatTimepicker","timepicker"],value:"value",disableClick:"disableClick",disabled:"disabled"},standalone:!0,features:[m._Bn([{provide:ge.JU,useExisting:_,multi:!0}]),m.TTD]}),_})(),fs=(()=>{class _{static setLocale(i){return{ngModule:_,providers:[{provide:Ui,useValue:i},{provide:oo,useValue:void 0},We]}}}return _.\u0275fac=function(i){return new(i||_)},_.\u0275mod=m.oAB({type:_}),_.\u0275inj=m.cJS({providers:[We,{provide:$e.Ew,useValue:{color:"void"}}],imports:[wt.ez,ri.rt,ge.u5,$e.ot,Dn.lN,yn.Is,mi.c,li.LD,Ln.g0,ci.Ps,e.U8,ma.eL,fi,gi,qi,Bi,Mo,di,Hi,Lo,ui,pi,hs,Ri]}),_})()}}]);