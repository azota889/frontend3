(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[7769],{1778:(tt,D,l)=>{"use strict";l.r(D),l.d(D,{TestFrontModule:()=>Ep});var _=l(96814),h=l(56223),S=l(19347),m=l(12044),y=l(42753),A=l(67742),k=l(37722),z=l(21494),q=l(60381),f=l(25391),g=l(95545),O=l(56731),b=l(84155),C=l(78217),at=l(24090),Q=l(20553),st=l(69530),dt=l(82481),rt=l(43048),L=l(52572),T=l(37734),De=l(6050),t=l(65879),I=l(8140),U=l(46558);let qe=(()=>{class n{isInIframe(){try{return window.self!==window.top}catch{return!0}}sendMessageToParentIframe(e){try{window.parent.postMessage(e,"*")}catch{}}sendMessageToIFrame(e,o){const a=document.getElementById(e),s=a?a.contentWindow:null;s?.postMessage(o,"*")}constructor(e){this.commonService=e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(U.z))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Re=l(28872),P=l(92596),E=l(43389),Ue=l(83306),Kt=l(93523),lt=l(28740),p=l(36727);function Ne(n,i){if(1&n&&(t.TgZ(0,"student-layout",3),t.GkF(1,4),t.qZA()),2&n){const e=t.oxw(),o=t.MAs(3);t.Q6J("headerBackToLink",e.backToLink),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}function Je(n,i){if(1&n&&(t.TgZ(0,"div",5),t.GkF(1,4),t.qZA()),2&n){t.oxw();const e=t.MAs(3);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Be(n,i){if(1&n&&t._UZ(0,"azt-loading-effect",8),2&n){const e=t.oxw(2);t.Q6J("currentStatusObj",e.statusObj)}}function Pe(n,i){1&n&&(t.TgZ(0,"h3",21),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_danh_sach_de_thi")," "))}function He(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.name)," ")}}function Ge(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.name," ")}}const Ye=function(n){return{active:n}},We=function(n){return{clickable:n}},Ke=function(n){return{"truncate-bread":n}};function Ve(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",22)(1,"a",23),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.goBackParent(s.id?s.id:0))}),t.TgZ(2,"span",24,25),t.ALo(4,"mytranslate"),t.YNc(5,He,3,3,"span",26),t.YNc(6,Ge,2,1,"span",26),t.qZA()()()}if(2&n){const e=i.$implicit,o=t.MAs(3),a=t.oxw(3);t.Q6J("ngClass",t.VKq(10,Ye,e.id==a.categoryId)),t.xp6(1),t.Q6J("ngClass",t.VKq(12,We,e.id!=a.categoryId)),t.xp6(1),t.s9C("matTooltip",t.lcZ(4,8,e.name)),t.Q6J("ngClass",t.VKq(14,Ke,e.id!=a.categoryId))("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.xp6(3),t.Q6J("ngIf",-1==e.id),t.xp6(1),t.Q6J("ngIf",-1!=e.id)}}function $e(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",27),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.cateDetail(s))}),t.TgZ(1,"div",28)(2,"div",29),t.O4$(),t.TgZ(3,"svg",30),t._UZ(4,"path",31)(5,"path",32)(6,"path",33)(7,"path",34),t.qZA()(),t.kcU(),t.TgZ(8,"div",35,25),t._uU(10),t.qZA()()()}if(2&n){const e=i.$implicit,o=t.MAs(9);t.xp6(8),t.s9C("matTooltip",e.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.xp6(2),t.hij(" ",e.name," ")}}function Xe(n,i){if(1&n&&(t.TgZ(0,"div",52)(1,"span",53),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),": "),t.xp6(3),t.Oqu(e.mark)}}function tn(n,i){1&n&&(t.TgZ(0,"div",52),t._UZ(1,"div",54),t.qZA())}function en(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"a",39),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,s=t.oxw(3);return t.KtG(s.redirectToExamDetail(a.hashId?a.hashId:""))}),t.TgZ(1,"div",40)(2,"div",41)(3,"div",42)(4,"div",29),t.O4$(),t.TgZ(5,"svg",43)(6,"g"),t._UZ(7,"path",44)(8,"path",45)(9,"rect",46)(10,"rect",47)(11,"rect",48)(12,"rect",49),t.qZA()()(),t.kcU(),t.TgZ(13,"div",35,25),t._uU(15),t.qZA(),t.TgZ(16,"div",50)(17,"span"),t._uU(18),t.qZA(),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.YNc(21,Xe,6,4,"div",51),t.YNc(22,tn,2,0,"div",51),t.qZA()()()()}if(2&n){const e=t.MAs(14),o=t.oxw().$implicit,a=t.oxw(3);t.s9C("target",a.target),t.xp6(13),t.s9C("matTooltip",o.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.xp6(2),t.hij(" ",o.name," "),t.xp6(3),t.Oqu(o.attended),t.xp6(1),t.hij(" ",t.lcZ(20,9,"lang_auto_luot_lam_de")," "),t.xp6(2),t.Q6J("ngIf",null!=o.mark),t.xp6(1),t.Q6J("ngIf",null==o.mark)}}function nn(n,i){if(1&n&&(t.TgZ(0,"div",52)(1,"span",53),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),": "),t.xp6(3),t.Oqu(e.mark)}}function on(n,i){if(1&n&&(t.TgZ(0,"a",55)(1,"div",40)(2,"div",41)(3,"div",42)(4,"div",29),t.O4$(),t.TgZ(5,"svg",43)(6,"g"),t._UZ(7,"path",44)(8,"path",45)(9,"rect",46)(10,"rect",47)(11,"rect",48)(12,"rect",49),t.qZA()()(),t.kcU(),t.TgZ(13,"div",35,25),t._uU(15),t.qZA(),t.TgZ(16,"div",50)(17,"span"),t._uU(18),t.qZA(),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.YNc(21,nn,6,4,"div",51),t.qZA()()()()),2&n){const e=t.MAs(14),o=t.oxw().$implicit,a=t.oxw(3);t.s9C("target",a.target),t.Q6J("href","/de-thi/"+o.hashId,t.LSH),t.xp6(13),t.s9C("matTooltip",o.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.xp6(2),t.hij(" ",o.name," "),t.xp6(3),t.Oqu(o.attended),t.xp6(1),t.hij(" ",t.lcZ(20,9,"lang_auto_luot_lam_de")," "),t.xp6(2),t.Q6J("ngIf",null!=o.mark)}}function an(n,i){if(1&n&&(t.TgZ(0,"div",36),t.YNc(1,en,23,11,"a",37),t.YNc(2,on,22,11,"a",38),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf","_blank"!=e.target),t.xp6(1),t.Q6J("ngIf","_blank"==e.target)}}function sn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",9),t.YNc(1,Pe,3,3,"h3",10),t.TgZ(2,"div",11)(3,"ol",12)(4,"li",13)(5,"a",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.backToAllCate())}),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()(),t.YNc(8,Ve,7,16,"li",15),t.qZA()(),t.TgZ(9,"div",16),t.YNc(10,$e,11,4,"div",17),t.YNc(11,an,3,2,"div",18),t.qZA(),t.TgZ(12,"div",19)(13,"azt-paging",20),t.NdJ("goToPaginationPage",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.goToPage(a))}),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isInIframe),t.xp6(5),t.hij(" ",t.lcZ(7,6,"lang_auto_tat_ca")," "),t.xp6(2),t.Q6J("ngForOf",e.listBreadcrumb),t.xp6(2),t.Q6J("ngForOf",e.cateObjs),t.xp6(1),t.Q6J("ngForOf",e.examObjs),t.xp6(2),t.Q6J("pageObj",e.pageObj)}}function rn(n,i){if(1&n&&(t.YNc(0,Be,1,1,"azt-loading-effect",6),t.YNc(1,sn,14,8,"ng-template",null,7,t.W1O)),2&n){const e=t.MAs(2),o=t.oxw();t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",e)}}let ln=(()=>{class n extends T.Q{getListParentCate(){this.waitDestroy(this.frontExamCategoryService.apiFrontExamCategoryGetBreadcrumbsGet(this.tenantId,this.categoryId).subscribe(e=>{1==e.success?this.listBreadcrumb=e.data?.objs??new Array:this.errorStatusObj(e.message??"",!0)}))}getData(){this.backToLink=0!=this.categoryId?"/test/category/"+this.tenantId+"/0/"+this.pageObj.page:"/student/classroom/0";var e=Number(this.commonService.getMyParam(this.activeRoute,"page"));this.pageObj.setPageNumber(e>0?e:1),this.initStatusObj(),this.waitDestroy(this.frontExamPageService.apiFrontExamPageGetObjsGet(this.tenantId,this.categoryId>0?this.categoryId:0,this.pageObj.page).subscribe(o=>{1==o.success?(this.cateObjs=o.data?.categoryObjs??new Array,this.examObjs=o.data?.examObjs??new Array,this.totalExam=o.data?.totalExam??0,this.pageObj.setTotalPages(this.totalExam),this.getListParentCate(),this.successStatusObj(),setTimeout(()=>{this.checkHeight()},0)):this.errorStatusObj(o.message??"",!0)}))}goToPage(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+this.categoryId+"/"+e)}backToAllCate(){this.commonService.myNavigation("/test/category/"+this.tenantId+"/0/1")}cateDetail(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+e.id+"/1")}goBackParent(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+e+"/1")}redirectToExamDetail(e){this.commonService.myNavigationWithQueryString(`/de-thi/${e}`,"?backto="+encodeURIComponent(this.paramBackToLink))}resizeHeight(){var e=document.body,o=document.documentElement,a=Math.max(e.scrollHeight,e.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight);this.contentHeight=a,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}checkHeight(){var e=document.body,o=document.documentElement,a=Math.max(e.scrollHeight,e.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight);this.contentHeight=a,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}changeLogin(){this.iframeService.sendMessageToParentIframe({changeLogin:!0})}ngOnInit(){this.isInIframe=this.iframeService.isInIframe(),this.isInIframe&&(this.target="_blank"),this.waitDestroy((0,L.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.categoryId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));let e=this.commonService.getMyParam(this.activeRoute,"page");this.paramBackToLink=`/test/category/${this.tenantId}/${this.categoryId}/${e}`,this.getData(),this.userLoginStateService.loginMessage.subscribe(o=>{this.changeLogin()}),this.commonService.translateMetaData({title:"lang_auto_danh_sach_de_thi",description:"lang_auto_danh_sach_de_thi"})})),super.ngOnInit()}constructor(e,o,a,s,r){super(),this.activeRoute=e,this.frontExamCategoryService=o,this.frontExamPageService=a,this.iframeService=s,this.userLoginStateService=r,this.totalExam=0,this.tenantId=1,this.cateObjs=[],this.examObjs=[],this.listBreadcrumb=[],this.isInIframe=!1,this.target="",this.contentHeight=0,this.categoryId=0,this.backToLink="",this.paramBackToLink="",this.pageObj=new De.m(18)}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.gz),t.Y36(I.nf),t.Y36(I.Ty),t.Y36(qe),t.Y36(Re.u))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-student-index"]],hostBindings:function(e,o){1&e&&t.NdJ("resize",function(s){return o.resizeHeight(s)},!1,t.Jf7)},features:[t.qOj],decls:4,vars:2,consts:[[3,"headerBackToLink",4,"ngIf"],["class","in-iframe",4,"ngIf"],["categoryTemplate",""],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[1,"in-iframe"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"mt-5","mx-auto",2,"max-width","1200px"],["class","text-md uppercase font-medium",4,"ngIf"],[1,"box","p-3","mt-5"],[1,"breadcrumb"],[1,"breadcrumb-item"],["azt-track-service","category--SCvgQNgc",3,"click"],["class","breadcrumb-item active",3,"ngClass",4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-5"],["azt-track-service","category-P9OVEFAeM7","class","col-span-6 sm:col-span-4 md:col-span-4 2xl:col-span-3",3,"click",4,"ngFor","ngForOf"],["class","col-span-6 sm:col-span-4 md:col-span-4 2xl:col-span-3 cursor-pointer",4,"ngFor","ngForOf"],[1,"mt-3","p-2"],[3,"pageObj","goToPaginationPage"],[1,"text-md","uppercase","font-medium"],[1,"breadcrumb-item","active",3,"ngClass"],["azt-track-service","category-4ZVvjZOwmm",3,"ngClass","click"],[3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[4,"ngIf"],["azt-track-service","category-P9OVEFAeM7",1,"col-span-6","sm:col-span-4","md:col-span-4","2xl:col-span-3",3,"click"],[1,"file","box","rounded-md","px-5","pt-8","pb-5","px-3","sm:px-5","relative","zoom-in","h-full"],[1,"w-3/5","mx-auto"],["xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","viewBox","0 0 72 72",1,"w-full","h-full"],["fill","#95a5b9","d","M57.5,31h-23c-1.4,0-2.5-1.1-2.5-2.5v-10c0-1.4,1.1-2.5,2.5-2.5h23c1.4,0,2.5,1.1,2.5,2.5v10 C60,29.9,58.9,31,57.5,31z"],["fill","#6d7a91","d","M59.8,61H12.2C8.8,61,6,58,6,54.4V17.6C6,14,8.8,11,12.2,11h18.5c1.7,0,3.3,1,4.1,2.6L38,24h21.8 c3.4,0,6.2,2.4,6.2,6v24.4C66,58,63.2,61,59.8,61z"],["display","none","fill","#8AA3FF","d","M62.1,61H9.9C7.8,61,6,59.2,6,57c0,0,0-31.5,0-42c0-2.2,1.8-4,3.9-4h19.3 c1.6,0,3.2,0.2,3.9,2.3l2.7,6.8c0.5,1.1,1.6,1.9,2.8,1.9h23.5c2.2,0,3.9,1.8,3.9,4v31C66,59.2,64.2,61,62.1,61z"],["fill","#95a5b9","d","M7.7,59c2.2,2.4,4.7,2,6.3,2h45c1.1,0,3.2,0.1,5.3-2H7.7z"],[1,"block","font-medium","mt-4","text-center","truncate","w-full",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"col-span-6","sm:col-span-4","md:col-span-4","2xl:col-span-3","cursor-pointer"],["azt-track-service","category-36xAyNdE6R","class","flex h-full",3,"target","click",4,"ngIf"],["azt-track-service","category-QMZDKTOTgR","class","flex h-full",3,"href","target",4,"ngIf"],["azt-track-service","category-36xAyNdE6R",1,"flex","h-full",3,"target","click"],[1,"file","box","rounded-md","px-5","pt-8","pb-5","px-3","sm:px-5","relative","zoom-in","w-full"],[1,"box-title","text-center"],[1,"test","p-2","pl-3","pr-3"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 72 72",1,"w-full","h-full"],["d","M50,61H22a6,6,0,0,1-6-6V22l9-11H50a6,6,0,0,1,6,6V55A6,6,0,0,1,50,61Z",2,"fill","#599def"],["d","M25,20.556A1.444,1.444,0,0,1,23.556,22H16l9-11h0Z",2,"fill","#c2e1ff"],["x","27","y","31","width","18","height","2","rx","1","ry","1",2,"fill","#fff"],["x","27","y","36","width","18","height","2","rx","1","ry","1",2,"fill","#fff"],["x","27","y","41","width","18","height","2","rx","1","ry","1",2,"fill","#fff"],["x","27","y","46","width","12","height","2","rx","1","ry","1",2,"fill","#fff"],[1,"text-slate-500","text-xs","text-center","mt-0.5"],["class","mt-0.5",4,"ngIf"],[1,"mt-0.5"],[1,"text-center","font-medium"],[2,"height","16px"],["azt-track-service","category-QMZDKTOTgR",1,"flex","h-full",3,"href","target"]],template:function(e,o){1&e&&(t.YNc(0,Ne,2,2,"student-layout",0),t.YNc(1,Je,2,1,"div",1),t.YNc(2,rn,3,2,"ng-template",null,2,t.W1O)),2&e&&(t.Q6J("ngIf",!o.isInIframe),t.xp6(1),t.Q6J("ngIf",o.isInIframe))},dependencies:[_.mk,_.sg,_.O5,_.tP,P.gM,E.l,Ue.L,Kt.Q,lt.L,p.JV],encapsulation:2}),n})();var Vt=l(45468),ct=l(78953),$t=l(71332),Xt=l(97931);function cn(n,i){1&n&&(t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"div",4),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()(),t.BQk()),2&n&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_azt_this_is_ads")," "))}function _n(n,i){1&n&&(t.ynx(0),t._UZ(1,"ins",7),t.BQk())}function un(n,i){1&n&&(t.ynx(0),t._UZ(1,"ins",8),t.BQk())}function pn(n,i){if(1&n&&(t.TgZ(0,"div",2),t.YNc(1,_n,2,0,"ng-container",6),t.YNc(2,un,2,0,"ng-container",6),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf","article"==e.adsType),t.xp6(1),t.Q6J("ngIf","other"==e.adsType)}}function mn(n,i){if(1&n&&t.YNc(0,pn,3,2,"div",5),2&n){const e=t.oxw();t.Q6J("ngIf",!e.doNotShowAds)}}let dn=(()=>{class n extends T.Q{ngAfterViewInit(){this.doNotShowAds||setTimeout(()=>{try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){console.error("ads",e)}},900)}ngOnInit(){super.ngOnInit(),this.isDevMode=(0,t.X6Q)()}constructor(e){super(),this.commonService=e,this.doNotShowAds=this.isBusinessDomain||this.isMobileWebView||!Q.N.production||Q.N.isProdAzotaVn,this.isDevMode=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-test-bank-frontend-adsense"]],inputs:{adsType:"adsType"},features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["normalMode",""],[1,"adsense-unit","mx-auto","text-center","pt-3"],[1,"flex","box","items-center","items-center","justify-center","p-5",2,"height","150px"],[1,"font-medium","text-lg"],["class","adsense-unit mx-auto text-center pt-3",4,"ngIf"],[4,"ngIf"],["data-ad-layout","in-article","data-ad-format","fluid","data-ad-client","ca-pub-5379822583140305","data-ad-slot","1586363387",1,"adsbygoogle",2,"display","block","text-align","center"],["data-ad-client","ca-pub-5379822583140305","data-ad-slot","2369932214","data-ad-format","auto","data-full-width-responsive","true",1,"adsbygoogle",2,"display","block"]],template:function(e,o){if(1&e&&(t.YNc(0,cn,6,3,"ng-container",0),t.YNc(1,mn,1,1,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.isDevMode)("ngIfElse",a)}},dependencies:[_.O5,p.JV],encapsulation:2}),n})();var gt=l(84003),gn=l(91675);function fn(n,i){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",5)(2,"defs")(3,"linearGradient",6),t._UZ(4,"stop",7)(5,"stop",8)(6,"stop",9),t.qZA()(),t.TgZ(7,"g",10)(8,"g",11)(9,"path",12),t._UZ(10,"animateTransform",13),t.qZA(),t.TgZ(11,"circle",14),t._UZ(12,"animateTransform",13),t.qZA()()()()())}function hn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"button",4),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.getExamHistoryByHashId(!0))}),t.YNc(2,fn,13,0,"span",2),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(4,2,"lang_exam_detail_show_exam_history")," ")}}function xn(n,i){1&n&&(t.TgZ(0,"h3",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_exam_detail_no_exam_history")," "))}function Tn(n,i){1&n&&(t.TgZ(0,"h3",19),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_lich_su_lam_bai_cua_ban")," "))}function bn(n,i){if(1&n&&(t.TgZ(0,"span",41),t._UZ(1,"azt-check-mark",42),t.qZA()),2&n){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("mark",e.mark)}}function wn(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"span",40),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,bn,2,1,"span",39),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),":\xa0 "),t.xp6(2),t.Q6J("ngIf",null!=e.mark)}}function Sn(n,i){1&n&&(t.TgZ(0,"span",40),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_trac_nghiem_cua_ban"),":\xa0 "))}function vn(n,i){1&n&&(t.TgZ(0,"span",40),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),":\xa0 "))}function kn(n,i){if(1&n&&(t.TgZ(0,"span",41),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",e.mark," ")}}function An(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Sn,3,3,"span",43),t.YNc(2,vn,3,3,"span",43),t.YNc(3,kn,2,1,"span",39),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",null==e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.mark)}}function On(n,i){1&n&&(t.TgZ(0,"span",40),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),":\xa0 "))}function Cn(n,i){if(1&n&&(t.TgZ(0,"span",41),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",e.mark," ")}}function yn(n,i){1&n&&(t.TgZ(0,"span",45),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_co_diem")," "))}function In(n,i){if(1&n&&(t.ynx(0),t.YNc(1,On,3,3,"span",43),t.YNc(2,Cn,2,1,"span",39),t.YNc(3,yn,3,3,"span",44),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.mark&&null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null==e.essayMark)}}function zn(n,i){1&n&&(t.TgZ(0,"span",41),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_co_diem")," "))}function En(n,i){if(1&n&&(t.TgZ(0,"div",38),t.YNc(1,wn,5,4,"ng-container",2),t.ALo(2,"isOnlyTrueFalse"),t.YNc(3,An,4,3,"ng-container",2),t.ALo(4,"isMixTrueFalseAndEssay"),t.YNc(5,In,4,3,"ng-container",2),t.ALo(6,"isOnlyEssay"),t.YNc(7,zn,3,3,"span",39),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,o.examObj)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,6,o.examObj)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,8,o.examObj)),t.xp6(2),t.Q6J("ngIf",null==e.mark)}}function Zn(n,i){1&n&&(t.TgZ(0,"div",38)(1,"span",40),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"span",41),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),":\xa0 "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"lang_auto_chua_duoc_xem_diem")," "))}function Qn(n,i){if(1&n&&(t.TgZ(0,"div",31)(1,"p",25),t.O4$(),t.TgZ(2,"svg",46),t._UZ(3,"path",47)(4,"path",48),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(7,"p",49),t._uU(8),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(5),t.hij(" ",t.lcZ(6,2,"lang_auto_so_luong_dung")," "),t.xp6(3),t.hij(" ",e.rightAnswer," ")}}const jn=function(n){return[n]},Ln=function(n){return{backto:n}};function Fn(n,i){if(1&n&&(t.TgZ(0,"button",50),t.ALo(1,"navigationLocalize"),t._uU(2),t.ALo(3,"mytranslate"),t.O4$(),t.TgZ(4,"svg",51),t._UZ(5,"polyline",52),t.qZA()()),2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.Q6J("routerLink",t.VKq(7,jn,t.lcZ(1,3,"/test/answer-test/"+o.curTenantId+"/"+(null!=o.curCategoryId?o.curCategoryId:0)+"/"+o.hashId+"/"+e.id)))("queryParams",t.VKq(9,Ln,o.backToLink)),t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_auto_xem_chi_tiet_bai_lam")," ")}}function Mn(n,i){1&n&&(t.TgZ(0,"button",53),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.Q6J("disabled",!0),t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_chua_duoc_xem_ket_qua")," "))}function Dn(n,i){if(1&n&&(t.TgZ(0,"div",21),t.YNc(1,En,8,10,"div",22),t.YNc(2,Zn,7,6,"div",22),t.TgZ(3,"div",23)(4,"div",24)(5,"p",25),t.O4$(),t.TgZ(6,"svg",26),t._UZ(7,"circle",27)(8,"polyline",28),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(11,"p",29),t._uU(12),t.qZA()(),t.YNc(13,Qn,9,4,"div",30),t.TgZ(14,"div",31)(15,"p",25),t.O4$(),t.TgZ(16,"svg",26),t._UZ(17,"circle",27)(18,"path",32)(19,"line",33),t.qZA(),t._uU(20),t.ALo(21,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(22,"p",29),t._uU(23),t.qZA()()(),t.TgZ(24,"div",34),t.YNc(25,Fn,6,11,"button",35),t.YNc(26,Mn,3,4,"button",36),t.TgZ(27,"div",37),t._uU(28),t.ALo(29,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()()),2&n){const e=i.$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",2!=o.examObj.whenShowResult),t.xp6(1),t.Q6J("ngIf",2==o.examObj.whenShowResult),t.xp6(7),t.hij(" ",t.lcZ(10,10,"lang_auto_thoi_gian_lam_bai"),":\xa0 "),t.xp6(3),t.hij(" ",o.calculateTime(e.startedTest,e.createdAt)," "),t.xp6(1),t.Q6J("ngIf",null!=e.rightAnswer&&2!=o.examObj.whenShowResult),t.xp6(7),t.hij(" ",t.lcZ(21,12,"lang_auto_so_cau_hoi")," "),t.xp6(3),t.hij(" ",e.totalQuestion," "),t.xp6(2),t.Q6J("ngIf",!1!==o.examObj.allowStudentView),t.xp6(1),t.Q6J("ngIf",!1===o.examObj.allowStudentView),t.xp6(2),t.hij(" ",t.lcZ(29,14,e.createdAt)," ")}}function qn(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Dn,30,16,"div",20),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.historyObjs)}}function Rn(n,i){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",5)(2,"defs")(3,"linearGradient",6),t._UZ(4,"stop",7)(5,"stop",8)(6,"stop",9),t.qZA()(),t.TgZ(7,"g",10)(8,"g",11)(9,"path",12),t._UZ(10,"animateTransform",13),t.qZA(),t.TgZ(11,"circle",14),t._UZ(12,"animateTransform",13),t.qZA()()()()())}function Un(n,i){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",56),t._UZ(2,"polyline",57),t.qZA()())}function Nn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",54)(1,"button",55),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.pagingData())}),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,Rn,13,0,"span",2),t.YNc(5,Un,3,0,"span",2),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_xem_them")," "),t.xp6(2),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!e.statusObj.loading)}}function Jn(n,i){if(1&n&&(t.ynx(0),t.YNc(1,xn,3,3,"h3",15),t.YNc(2,Tn,3,3,"h3",16),t.YNc(3,qn,2,1,"ng-container",2),t.YNc(4,Nn,6,5,"div",17),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.historyObjs.length),t.xp6(1),t.Q6J("ngIf",e.historyObjs.length>0),t.xp6(1),t.Q6J("ngIf",e.examObj&&e.historyObjs.length>0),t.xp6(1),t.Q6J("ngIf",!e.disableBtn&&e.initDataCalled)}}let Bn=(()=>{class n extends T.Q{pagingData(){this.getExamHistoryByHashId()}calculateTime(e,o){return e?this.timeService.calculationTimeExamTested(e,o):""}getExamHistoryByHashId(e){this.initStatusObj(),this.waitDestroy(this.frontExamResultHistoryService.apiFrontExamResultHistoryGetHistoryObjsGet(this.hashId,this.page).subscribe(o=>{if(1==o.success){e&&(this.initDataCalled=!0);let a=o.data?.objs?o.data?.objs?.length:0;if(o.data?.objs)for(let s=0;s<a;s++)this.historyObjs.push(o.data.objs[s]??{});else this.initDataCalled=!0,this.errorStatusObj(o.message??"");this.page=o.data?.nextPage??"",o.data?.nextPage||(this.disableBtn=!0),this.successStatusObj()}else this.errorStatusObj(o.message??"")}))}ngOnInit(){this.backToLink=this.commonService.getCurrentUrlWithoutLocale()}constructor(e,o){super(),this.frontExamResultHistoryService=e,this.timeService=o,this.curTenantId=0,this.curCategoryId=0,this.backToLink="",this.historyObjs=[],this.page="",this.disableBtn=!1,this.initDataCalled=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.B3),t.Y36(gt.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-exam-history"]],inputs:{hashId:"hashId",examObj:"examObj",curTenantId:"curTenantId",curCategoryId:"curCategoryId"},features:[t.qOj],decls:3,vars:2,consts:[[1,"exam-history","mx-auto","mt-5",2,"max-width","560px"],["class","mx-auto w-full",4,"ngIf"],[4,"ngIf"],[1,"mx-auto","w-full"],["azt-track-service","exam-history-_84BMuODi",1,"btn","btn-outline-secondary","p-3","block","mx-auto",3,"click"],["width","20","viewBox","0 0 38 38","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","ml-2"],["x1","8.042%","y1","0%","x2","65.682%","y2","23.865%","id","a"],["stop-color","rgb(30, 41, 59)","stop-opacity","0","offset","0%"],["stop-color","rgb(30, 41, 59)","stop-opacity",".631","offset","63.146%"],["stop-color","rgb(30, 41, 59)","offset","100%"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)"],["d","M36 18c0-9.94-8.06-18-18-18","id","Oval-2","stroke","url(#a)","stroke-width","3"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","0.9s","repeatCount","indefinite"],["fill","rgb(30, 41, 59)","cx","36","cy","18","r","1"],["class","font-medium mx-auto",4,"ngIf"],["class","font-medium",4,"ngIf"],["class","mt-5 text-center",4,"ngIf"],[1,"font-medium","mx-auto"],[1,"font-medium"],["class","box mx-auto mt-5",4,"ngFor","ngForOf"],[1,"box","mx-auto","mt-5"],["class","text-center border-b border-slate-200/60 dark:border-darkmode-400 p-5",4,"ngIf"],[1,"azt-info-exam","mt-5","px-5"],[1,"flex","items-center"],[1,"text-md","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"text-md","font-medium","ml-auto"],["class","flex items-center mt-3",4,"ngIf"],[1,"flex","items-center","mt-3"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"p-5"],["azt-track-service","exam-history-1BV_WDkCER","class","btn btn-secondary w-full",3,"routerLink","queryParams",4,"ngIf"],["class","btn btn-secondary w-full",3,"disabled",4,"ngIf"],[1,"mt-3","text-right","text-slate-500"],[1,"text-center","border-b","border-slate-200/60","dark:border-darkmode-400","p-5"],["class","font-medium text-lg","style","font-size: 25px;",4,"ngIf"],[1,"font-medium","text-md","mr-2"],[1,"font-medium","text-lg",2,"font-size","25px"],[3,"mark"],["class","font-medium text-md mr-2",4,"ngIf"],["class","font-medium text-md","style","font-size: 25px;",4,"ngIf"],[1,"font-medium","text-md",2,"font-size","25px"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-success"],["d","M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"],["d","m9 12 2 2 4-4"],[1,"text-md","font-medium","text-success","ml-auto"],["azt-track-service","exam-history-1BV_WDkCER",1,"btn","btn-secondary","w-full",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","ml-2"],["points","9 18 15 12 9 6"],[1,"btn","btn-secondary","w-full",3,"disabled"],[1,"mt-5","text-center"],["azt-track-service","exam-history-tzgH_6R1Ki",1,"btn","btn-outline-secondary","btn-transparent",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","ml-2","lucide"],["points","6 9 12 15 18 9"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,hn,5,4,"div",1),t.YNc(2,Jn,5,4,"ng-container",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",!o.initDataCalled),t.xp6(1),t.Q6J("ngIf",o.initDataCalled))},dependencies:[m.rH,_.sg,_.O5,gn.B,p.Jy,p.JV,p.GU,p.iP,p.J_,p.$n],encapsulation:2}),n})();function Pn(n,i){if(1&n&&(t.TgZ(0,"div",4),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,e.hasErrorMessage)," ")}}const Hn=function(n,i){return{"monitor-height":n,"mobile-monitor":i}};function Gn(n,i){if(1&n&&(t.TgZ(0,"div",29),t._UZ(1,"div",30,31),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(1,Hn,!e.isMobileDevice,e.isMobileDevice))}}function Yn(n,i){if(1&n&&(t.TgZ(0,"div",18)(1,"p",13)(2,"span",14),t._UZ(3,"lucide-icon",32),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"p",16),t._uU(7),t.ALo(8,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.ALo(9,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.lcZ(5,2,"lang_auto_thoi_gian_vao_thi")," "),t.xp6(3),t.hij(" ",e.examObj.startTime?t.lcZ(8,4,e.examObj.startTime):t.lcZ(9,6,"lang_auto_khong_thoi_han")," ")}}function Wn(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_bat_dau_thi")," "))}function Kn(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_start_practicing")," "))}function Vn(n,i){1&n&&(t.TgZ(0,"div",33)(1,"strong"),t._uU(2,"(*)"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"b"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"b"),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,4,"lang_auto_he_thong_chi_gui_hinh_anh_va_am_thanh_den_giao_vien")," "),t.xp6(3),t.Oqu(t.lcZ(7,6,"lang_auto_trong_qua_trinh_lam_bai_thi")),t.xp6(2),t.hij(" ",t.lcZ(9,8,"lang_auto__ngay_sau_khi_ket_thuc_bai_lam_he_thong_ngung_gui_du_lieu_du_lieu_thu_thap_chi_su_dung_phuc_vu_cho_cong_tac")," "),t.xp6(3),t.Oqu(t.lcZ(12,10,"lang_auto_to_chuc_ky_thi")))}function $n(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h3",7),t._uU(3),t.qZA(),t.TgZ(4,"div",8),t._uU(5),t.ALo(6,"mytranslate"),t._UZ(7,"azt-download-qr-code",9),t.qZA(),t.YNc(8,Gn,3,4,"div",10),t.TgZ(9,"div",11)(10,"div",12)(11,"p",13)(12,"span",14),t._UZ(13,"lucide-icon",15),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"p",16),t._uU(17),t.ALo(18,"mytranslate"),t.ALo(19,"mytranslate"),t.qZA()(),t.YNc(20,Yn,10,8,"div",17),t.TgZ(21,"div",18)(22,"p",13)(23,"span",14),t._UZ(24,"lucide-icon",19),t.qZA(),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"p",16),t._uU(28),t.qZA()(),t.TgZ(29,"div",18)(30,"p",13)(31,"span",14),t._UZ(32,"lucide-icon",20),t.qZA(),t._uU(33),t.ALo(34,"mytranslate"),t.qZA(),t.TgZ(35,"p",16),t._uU(36),t.ALo(37,"mytranslate"),t.qZA()(),t.TgZ(38,"div",18)(39,"p",13)(40,"span",14),t._UZ(41,"lucide-icon",21),t.qZA(),t._uU(42),t.ALo(43,"mytranslate"),t.qZA(),t.TgZ(44,"p",16),t._uU(45),t.ALo(46,"mytranslate"),t.qZA()()(),t.TgZ(47,"div",22)(48,"button",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.redirectToTakeTest())}),t.ALo(49,"isParentViewOnly"),t.YNc(50,Wn,3,3,"span",24),t.YNc(51,Kn,3,3,"span",24),t.TgZ(52,"span",14),t._UZ(53,"lucide-icon",25),t.qZA()()(),t.YNc(54,Vn,13,12,"div",26),t.qZA(),t._UZ(55,"app-exam-history",27)(56,"azt-test-bank-frontend-adsense",28),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.examObj.name," "),t.xp6(2),t.hij(" ",t.lcZ(6,23,"lang_auto_ma_de_thi")+": "+e.examObj.hashId," "),t.xp6(2),t.Q6J("fileName","azota_exam_qr_code_"+e.examObj.hashId)("linkUrl",e.copyLinkToClipboard()),t.xp6(1),t.Q6J("ngIf",e.examObj.autoMonitor&&0!=e.examObj.autoMonitor),t.xp6(6),t.hij(" ",t.lcZ(15,25,"lang_testbank_tested_list_time_homework")," "),t.xp6(3),t.hij(" ",e.examObj.minutes&&e.examObj.minutes>0?e.examObj.minutes+" "+t.lcZ(18,27,"lang_auto_phut"):t.lcZ(19,29,"lang_auto_khong_gioi_han")," "),t.xp6(3),t.Q6J("ngIf",1!=e.examConfigObj.allowTestingEachQuestion),t.xp6(5),t.hij(" ",t.lcZ(26,31,"lang_auto_so_luong_cau_hoi")," "),t.xp6(3),t.hij(" ",2==e.examObj.mixQuestion?e.examObj.limitMixQuestion:e.examObj.countQuestion," "),t.xp6(5),t.hij(" ",t.lcZ(34,33,"lang_auto_loai_de")," "),t.xp6(3),t.hij(" ",t.lcZ(37,35,e.getExamType(e.examObj))," "),t.xp6(6),t.hij(" ",t.lcZ(43,37,"lang_auto_so_luot_lam_de")," "),t.xp6(3),t.hij(" ",null==e.totalAttended?0:e.totalAttended+" "+t.lcZ(46,39,"lang_auto_luot")," "),t.xp6(3),t.Q6J("disabled",t.lcZ(49,41,"")),t.xp6(2),t.Q6J("ngIf",1!=e.examConfigObj.allowTestingEachQuestion),t.xp6(1),t.Q6J("ngIf",1==e.examConfigObj.allowTestingEachQuestion),t.xp6(3),t.Q6J("ngIf",e.examObj.autoMonitor&&3==e.examObj.autoMonitor),t.xp6(1),t.Q6J("examObj",e.examObj)("curTenantId",e.curTenantId)("curCategoryId",e.curCategoryId)("hashId",e.hashId),t.xp6(1),t.Q6J("adsType","other")}}let Xn=(()=>{class n extends T.Q{copyLinkToClipboard(){return`${this.commonService.getCurrentDomain()}/de-thi/${this.examObj?.hashId}`}redirectToTakeTest(){this.commonService.myNavigationWithQueryString(1===this.examConfigObj.allowTestingEachQuestion?null!=this.curCategoryId?"/test/take-training/"+this.curTenantId+"/"+this.curCategoryId+"/"+this.hashId:"/test/take-training/"+this.curTenantId+"/0/"+this.hashId:null!=this.curCategoryId?"/test/take-test/"+this.curTenantId+"/"+this.curCategoryId+"/"+this.hashId:"/test/take-test/"+this.curTenantId+"/0/"+this.hashId,""!=this.password&&null!=this.password?"?password="+encodeURIComponent(this.password)+"?backto="+encodeURIComponent(this.backToLink):"?backto="+encodeURIComponent(this.backToLink))}getExamType(e){return this.homeworkExamService.isOnlyEssay(e)?"lang_auto_tu_luan":this.homeworkExamService.isOnlyTrueFalse(e)?"lang_auto_trac_nghiem":"lang_auto_hon_hop"}getExamByHashId(){this.initStatusObj(),this.waitDestroy(this.frontExamService.apiFrontExamGetExamObjGet(this.hashId).subscribe(e=>{if(1==e.success){if(this.hasErrorMessage=e.data?.errorMessage?e.data.errorMessage:"",this.examObj=e.data?.examObj,this.examConfigObj=e.data?.examConfigObj??{},this.totalAttended=e.data?.totalAttended??0,null!=this.examObj){this.curCategoryId=this.examObj.categoryId??0,this.curTenantId=this.examObj.tenantId??0;let o="";this.commonService.getTranslate("lang_auto_bat_dau_thi").subscribe(a=>{o=a}),this.commonService.translateMetaData({title:o+": "+this.examObj.name,description:this.examObj.name})}this.examObj?.autoMonitor&&3==this.examObj?.autoMonitor&&this.openVideoMonitor(),this.successStatusObj()}else this.errorStatusObj(e.message??"",!0)}))}openVideoMonitor(){this.sAztShowMonitorService.monitorAtStudentDashboard(this.hashId,this.examObj)}ngOnInit(){this.waitDestroy((0,L.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.hashId=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString()??"";let e=this.commonService.getMyQueryParam("offline");if(e)return this.myNavigation(`/test/share-offline-result/${this.hashId}/${e}/-1`);this.password=this.commonService.getMyQueryParam("password")??"",this.curCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.backToLink=this.commonService.getMyQueryParam("backto")??"/student/classroom/0",this.getExamByHashId()})),super.ngOnInit()}constructor(e,o,a,s,r){super(),this.activeRoute=e,this.homeworkExamService=o,this.userService=a,this.frontExamService=s,this.sAztShowMonitorService=r,this.backToLink="",this.curTenantId=0,this.curCategoryId=0,this.hashId="",this.totalAttended=0,this.hasErrorMessage="",this.password="",this.examConfigObj={}}ngOnDestroy(){this.sAztShowMonitorService.destroyMonitorAtStudentDashboard(),super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.gz),t.Y36(Vt.v),t.Y36(ct.U),t.Y36(I.Tg),t.Y36($t.p))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-student-view"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[1,"relative"],["class","alert alert-danger mt-2",4,"ngIf"],["class","intro-y mt-8",4,"ngIf"],[1,"alert","alert-danger","mt-2"],[1,"intro-y","mt-8"],[1,"box","mx-auto","mt-5","p-5",2,"max-width","560px"],[1,"text-lg","font-medium","text-center"],[1,"text-md","justify-center","font-medium","mt-2","flex","items-center"],[1,"pl-2","ml-2",3,"fileName","linkUrl"],["class","row my-2",4,"ngIf"],[1,"azt-info-exam","mt-5"],[1,"flex","items-center"],[1,"text-md","flex","items-center"],[1,"w-4","h-4","mr-2"],["name","clock-4"],[1,"text-md","font-medium","ml-auto"],["class","flex items-center mt-3",4,"ngIf"],[1,"flex","items-center","mt-3"],["name","help-circle"],["name","clipboard-type"],["name","users"],[1,"mt-5"],["azt-track-service","exam-details-OgNF7kiBSP",1,"btn","btn-pending","w-full","text-white",3,"disabled","click"],[4,"ngIf"],["name","chevron-right"],["class","note-exam mt-1",4,"ngIf"],[3,"examObj","curTenantId","curCategoryId","hashId"],[3,"adsType"],[1,"row","my-2"],["id","monitorScreen",1,"self-center","text-center",2,"margin","auto",3,"ngClass"],["monitorScreen",""],["name","calendar-clock"],[1,"note-exam","mt-1"]],template:function(e,o){1&e&&(t.TgZ(0,"student-layout",0)(1,"div",1),t.YNc(2,Pn,3,3,"div",2),t.YNc(3,$n,57,43,"div",3),t.qZA()()),2&e&&(t.Q6J("headerBackToLink",o.backToLink),t.xp6(2),t.Q6J("ngIf",""!=o.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==o.hasErrorMessage&&o.examObj))},dependencies:[_.mk,_.O5,Xt.W,dn,lt.L,k.Nh5,Bn,p.JV,p.$n,p._Y],encapsulation:2}),n})();var to=l(15152);let eo=(()=>{class n extends T.Q{ngOnInit(){super.ngOnInit(),this.checkVipAccountService.loadAdsScriptInStudent(this.isBusinessDomain)}constructor(e){super(),this.checkVipAccountService=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(to.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-test-dashboard"]],features:[t.qOj],decls:2,vars:0,consts:[["id","testbank-frontend-layout"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[m.lC],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]}),n})();var te=l(89745),ee=l(45337),ft=l(10504),no=l(20137),oo=l(75270),io=l(18224),ao=l(49649),so=l(74699),ne=l(23655),N=l(77988),Mt=l(32651),ht=l(74104),oe=l(80034),ro=l(9409),lo=l(1976),ie=l(37637),co=l(29578),F=l(72164),ae=l(85929),_o=l(67898),uo=l(6598),xt=l(78497);function po(n,i){if(1&n&&t._UZ(0,"azt-loading-effect",3),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function mo(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"azt-mat-dialog-content")(1,"div",4),t._UZ(2,"azt-test-result-tracking",5),t.qZA()(),t.TgZ(3,"div",6)(4,"button",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.dialogRef.close())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw();let o;t.xp6(2),t.Q6J("startQuestionIndex",null!==(o=null==e.examObj?null:e.examObj.startQuestionIndex)&&void 0!==o?o:1)("dataResultObjs",e.dataResultObjs)("dataScrollObjs",e.dataScrollObjs)("ipTrackingDataObjs",e.ipTrackingDataObjs),t.xp6(3),t.hij(" ",t.lcZ(6,5,"lang_auto_thoat")," ")}}let go=(()=>{class n extends F.e{getData(e){this.initStatusObj(),this.frontExamResultTrackService.apiFrontExamResultTrackGetObjGet(this.examHashId,e).subscribe(o=>{if(1==o.success){this.examObj=o.data?.examObj;var a=this.castJsonToObj(this.zipDataService.decodeContentGzip(o?.data?.examResultTrackObj?.trackData??""));a&&a&&([this.dataResultObjs,this.dataScrollObjs]=this.sAztTestResultTrackingService.processData(a)),this.ipTrackingDataObjs=o.data?.ipTracks??[],this.successStatusObj()}else this.errorStatusObj(o.message??"",!0);this.isLoading=!1})}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_chi_tiet_qua_trinh_lam_trac_nghiem",description:"lang_auto_chi_tiet_qua_trinh_lam_trac_nghiem",image:"lang_cms_test_image"});let e=Number(this.data.examResultIdParam?.toString());this.examHashId=this.data.hashId??"",this.getData(e),super.ngOnInit()}constructor(e,o,a,s,r){super(r,s),this.frontExamResultTrackService=e,this.zipDataService=o,this.sAztTestResultTrackingService=a,this.dialogRef=s,this.data=r,this.dataResultObjs=[],this.dataScrollObjs=[],this.ipTrackingDataObjs=[],this.backToLink="",this.examHashId="",this.isLoading=!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.uF),t.Y36(ae.a),t.Y36(_o.W),t.Y36(S.so,8),t.Y36(S.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-test-front-result-tracking"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"box","scroll-menu-test",2,"height","calc(100vh - 200px)","min-height","75vh"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"p-3"],[3,"startQuestionIndex","dataResultObjs","dataScrollObjs","ipTrackingDataObjs"],[1,"mt-2","pt-2","pb-2","px-3","text-right","absolute","bottom-0","right-0"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,po,1,1,"azt-loading-effect",1),t.YNc(2,mo,7,7,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",o.isLoading)("ngIfElse",a)}},dependencies:[_.O5,E.l,uo.r,xt.R,p.JV],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#fff;width:100vh;max-height:95vh;padding:.5rem 1.25rem 1.25rem;overflow-y:auto}"]}),n})();var fo=l(48830),ho=l(37796),R=l(49538),Tt=l(71646);function xo(n,i){if(1&n&&t._UZ(0,"azt-loading-effect",3),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function To(n,i){1&n&&(t.TgZ(0,"th",27),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_don_vi_kien_thuc")))}function bo(n,i){if(1&n&&(t.TgZ(0,"td",28)(1,"span",29),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.title)}}function wo(n,i){1&n&&(t.TgZ(0,"th",30),t._UZ(1,"span",31),t.qZA())}function So(n,i){1&n&&(t.TgZ(0,"span",34),t._UZ(1,"azt-loading-ui"),t.qZA())}const vo=function(n){return{"block w-28":n}};function ko(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.practiceMore(a))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("ngClass",t.VKq(4,vo,!e.isMobileDevice)),t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_testbank_practice")," ")}}function Ao(n,i){if(1&n&&(t.TgZ(0,"td",28),t.YNc(1,So,2,0,"span",32),t.YNc(2,ko,3,6,"span",33),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.loadingPracticeMore),t.xp6(1),t.Q6J("ngIf",!e.loadingPracticeMore)}}function Oo(n,i){1&n&&(t.TgZ(0,"th",36)(1,"span",31),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_skill_statistical_total_question_completed")))}function Co(n,i){if(1&n&&(t.TgZ(0,"td",28)(1,"span",31),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.numberOfQuestion)}}function yo(n,i){1&n&&(t.TgZ(0,"th",36)(1,"span",31),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_skill_statistical_total_question_true")))}function Io(n,i){if(1&n&&(t.TgZ(0,"td",28)(1,"span",31),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.numberOfCorrectQuestion)}}function zo(n,i){1&n&&(t.TgZ(0,"th",36)(1,"span",31),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_ty_le")))}const se=function(n){return{"width.%":n}};function Eo(n,i){if(1&n&&(t.TgZ(0,"td",28)(1,"div",37)(2,"div",38)(3,"span",39),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()()()),2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngStyle",t.VKq(9,se,e.currentPercent)),t.xp6(2),t.Oqu(e.numberOfQuestion&&e.numberOfCorrectQuestion?t.Dn7(5,2,t.xi3(6,6,e.currentPercent,"1.0-1"),",",".")+"%":"")}}function Zo(n,i){1&n&&(t.TgZ(0,"th",36),t._UZ(1,"span",31),t.qZA())}function Qo(n,i){1&n&&(t.O4$(),t.TgZ(0,"svg",44),t._UZ(1,"path",45)(2,"path",46),t.qZA())}function jo(n,i){1&n&&(t.O4$(),t.TgZ(0,"svg",47),t._UZ(1,"path",48)(2,"path",49),t.qZA())}const re=function(n,i){return{"text-success":n,"text-danger":i}};function Lo(n,i){if(1&n&&(t.TgZ(0,"td",28)(1,"div",40),t.YNc(2,Qo,3,0,"svg",41),t.YNc(3,jo,3,0,"svg",42),t.TgZ(4,"span",43),t._uU(5),t.ALo(6,"replace"),t.ALo(7,"number"),t.qZA()()()),2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngIf",e.adjustment>0),t.xp6(1),t.Q6J("ngIf",e.adjustment<0),t.xp6(1),t.Q6J("ngClass",t.WLB(11,re,e.adjustment>0,e.adjustment<0)),t.xp6(1),t.hij(" ",e.adjustment?t.Dn7(6,4,t.xi3(7,8,100*e.adjustment,"1.0-1"),",",".")+"%":""," ")}}function Fo(n,i){1&n&&t._UZ(0,"tr",50)}function Mo(n,i){1&n&&t._UZ(0,"tr",51)}function Do(n,i){1&n&&(t.O4$(),t.TgZ(0,"svg",44),t._UZ(1,"path",45)(2,"path",46),t.qZA())}function qo(n,i){1&n&&(t.O4$(),t.TgZ(0,"svg",47),t._UZ(1,"path",48)(2,"path",49),t.qZA())}function Ro(n,i){if(1&n&&(t.TgZ(0,"div",55)(1,"div",58),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",40),t.YNc(5,Do,3,0,"svg",41),t.YNc(6,qo,3,0,"svg",42),t.TgZ(7,"span",43),t._uU(8),t.ALo(9,"replace"),t.ALo(10,"number"),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_auto_ty_le_truoc_do")+":"," "),t.xp6(3),t.Q6J("ngIf",e.adjustment>0),t.xp6(1),t.Q6J("ngIf",e.adjustment<0),t.xp6(1),t.Q6J("ngClass",t.WLB(14,re,e.adjustment>0,e.adjustment<0)),t.xp6(1),t.hij(" ",e.adjustment?t.Dn7(9,7,t.xi3(10,11,100*e.adjustment,"1.0-1"),",",".")+"%":""," ")}}function Uo(n,i){1&n&&(t.TgZ(0,"span",34),t._UZ(1,"azt-loading-ui"),t.qZA())}function No(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",62),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.practiceMore(a))}),t.O4$(),t.TgZ(1,"svg",63),t._UZ(2,"path",64)(3,"path",65)(4,"path",66)(5,"path",67)(6,"path",68)(7,"path",69),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()}2&n&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_testbank_practice")," "))}function Jo(n,i){if(1&n&&(t.TgZ(0,"div",52)(1,"div",53)(2,"div",54),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",55)(6,"div",56),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"div",57),t._uU(10),t.qZA()(),t.TgZ(11,"div",55)(12,"div",56),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"div",57),t._uU(16),t.qZA()(),t.TgZ(17,"div",55)(18,"div",58),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"div",37)(22,"div",38)(23,"span",39),t._uU(24),t.ALo(25,"replace"),t.ALo(26,"number"),t.qZA()()()(),t.YNc(27,Ro,11,17,"div",59),t.TgZ(28,"div",60),t.YNc(29,Uo,2,0,"span",32),t.YNc(30,No,10,3,"button",61),t.qZA()()),2&n){const e=i.$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,11,e.title)," "),t.xp6(4),t.hij(" ",t.lcZ(8,13,"lang_skill_statistical_total_question_completed")+":"," "),t.xp6(3),t.hij(" ",e.numberOfQuestion," "),t.xp6(3),t.hij(" ",t.lcZ(14,15,"lang_skill_statistical_total_question_true")+":"," "),t.xp6(3),t.hij(" ",e.numberOfCorrectQuestion," "),t.xp6(3),t.hij(" ",t.lcZ(20,17,"lang_auto_ty_le")+":"," "),t.xp6(3),t.Q6J("ngStyle",t.VKq(26,se,e.currentPercent)),t.xp6(2),t.Oqu(e.numberOfQuestion&&e.numberOfCorrectQuestion?t.Dn7(25,19,t.xi3(26,23,e.currentPercent,"1.0-1"),",",".")+"%":""),t.xp6(3),t.Q6J("ngIf",e.adjustment),t.xp6(2),t.Q6J("ngIf",e.loadingPracticeMore),t.xp6(1),t.Q6J("ngIf",!e.loadingPracticeMore)}}const Dt=function(n,i){return{"btn-primary-soft":n,"btn-secondary-soft":i}};function Bo(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"azt-mat-dialog-content",4)(1,"div",5)(2,"b",6),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",7)(6,"button",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.selectPreviousDay(1))}),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"button",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.selectPreviousDay(3))}),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"button",10),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.selectPreviousDay(7))}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()()(),t.TgZ(15,"table",11),t.ynx(16,12),t.YNc(17,To,3,3,"th",13),t.YNc(18,bo,3,1,"td",14),t.BQk(),t.ynx(19,15),t.YNc(20,wo,2,0,"th",16),t.YNc(21,Ao,3,2,"td",14),t.BQk(),t.ynx(22,17),t.YNc(23,Oo,4,3,"th",18),t.YNc(24,Co,3,1,"td",14),t.BQk(),t.ynx(25,19),t.YNc(26,yo,4,3,"th",18),t.YNc(27,Io,3,1,"td",14),t.BQk(),t.ynx(28,20),t.YNc(29,zo,4,3,"th",18),t.YNc(30,Eo,7,11,"td",14),t.BQk(),t.ynx(31,21),t.YNc(32,Zo,2,0,"th",18),t.YNc(33,Lo,8,14,"td",14),t.BQk(),t.YNc(34,Fo,1,0,"tr",22),t.YNc(35,Mo,1,0,"tr",23),t.qZA(),t.YNc(36,Jo,31,28,"div",24),t.qZA(),t.TgZ(37,"div",25)(38,"button",26),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.btnCloseDialog())}),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("minHeight","200px"),t.xp6(3),t.Oqu(t.lcZ(4,14,"lang_testbank_frontend_student_skill_statistic_title")),t.xp6(3),t.Q6J("ngClass",t.WLB(24,Dt,1==e.currentPreviousDay,1!=e.currentPreviousDay)),t.xp6(1),t.hij(" 1 ",t.lcZ(8,16,"lang_auto_ngay")," "),t.xp6(2),t.Q6J("ngClass",t.WLB(27,Dt,3==e.currentPreviousDay,3!=e.currentPreviousDay)),t.xp6(1),t.hij(" 3 ",t.lcZ(11,18,"lang_auto_ngay")," "),t.xp6(2),t.Q6J("ngClass",t.WLB(30,Dt,7==e.currentPreviousDay,7!=e.currentPreviousDay)),t.xp6(1),t.hij(" 7 ",t.lcZ(14,20,"lang_auto_ngay")," "),t.xp6(2),t.Q6J("dataSource",e.objs),t.xp6(19),t.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(1),t.Q6J("ngForOf",e.objs),t.xp6(3),t.hij(" ",t.lcZ(40,22,"lang_auto_dong")," ")}}let le=(()=>{class n extends F.e{btnCloseDialog(){this.dialogRef.close()}selectPreviousDay(e){this.currentPreviousDay=e,this.initData(this.currentPreviousDay)}practiceMore(e){null==this.objs.find(o=>o.loadingPracticeMore)&&(e.loadingPracticeMore=!0,this.waitDestroy(this.sLearningService.apiLearningAiKnowledgeIdGet(e.id??0).subscribe(o=>{if(o.success){let a=this.commonService.getMyQueryParam("backto")??"/student/classroom/0";this.commonService.myNavigationWithQueryString("/test/take-test/"+o.data?.tenantId+"/"+o.data?.categoryId+"/"+o.data?.hashId,"?backto="+encodeURIComponent(a)),this.btnCloseDialog()}else this.showErrorSnack(o.message);e.loadingPracticeMore=!1})))}initData(e){e||this.sAztAzotaTrackingService.sendCustomEvent("CLICK_STUDENT_SKILL_STATISTIC",[]);let o=this.sAztUserService.getUserObj();e||this.initStatusObj(),this.waitDestroy(this.studentPracticeService.aiApiV1StudentPracticeTnthptProfileGet(o.id,this.data.examSchoolSubjectId,e??7).subscribe({next:a=>{this.objs=(a.knowledgeItems??[]).map(s=>({...s,loadingPracticeMore:!1,currentPercent:s.numberOfQuestion?s.numberOfCorrectQuestion/s.numberOfQuestion*100:0})),this.stopStatusObj()},error:a=>{this.errorStatusObj(a.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.initData()}constructor(e,o,a,s,r,c){super(c,r),this.sAztAzotaTrackingService=e,this.sAztUserService=o,this.sLearningService=a,this.studentPracticeService=s,this.dialogRef=r,this.objs=[],this.displayedColumns=["name","actionCol","questionTotal","questionTrue","percent","oldPercent"],this.previousDayControl=new h.NI(7,{nonNullable:!0}),this.currentPreviousDay=7}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(fo.g),t.Y36(ct.U),t.Y36(I.HC),t.Y36(ho.p),t.Y36(S.so,8),t.Y36(S.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["coazt-student-skill-statistic-dialog"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"box","p-3","skill-statistical"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"minHeight"],[1,"flex","flex-col","sm:flex-row","sm:items-center"],[2,"align-content","center"],[1,"flex","items-center","mt-3","sm:mt-0","sm:ml-2"],["azt-track-service","student-skill-statistic-zSJvSbnQR",1,"btn",3,"ngClass","click"],["azt-track-service","student-skill-statistic-UttohfO5q_",1,"btn","ml-2",3,"ngClass","click"],["azt-track-service","student-skill-statistic-tuRhGryjOa",1,"btn","ml-2",3,"ngClass","click"],["mat-table","",1,"mat-elevation-z8","mt-2","azt-hidden","md:block",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","class","whitespace-nowrap",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actionCol"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","questionTotal"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["matColumnDef","questionTrue"],["matColumnDef","percent"],["matColumnDef","oldPercent"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","box p-3 md:hidden mt-4 border border-slate-200 dark:border-darkmode-400",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-end","pt-2","w-full","bg-white"],["azt-track-service","student-skill-statistic-6PnY6_T3S2",1,"btn","btn-secondary","w-32",3,"click"],["mat-header-cell","",1,"whitespace-nowrap"],["mat-cell",""],[1,"whitespace-nowrap"],["mat-header-cell",""],[1,"center-span"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],["azt-track-service","student-skill-statistic-cK-mF-GKd","class","text-white btn btn-pending","style","font-weight: 430",3,"ngClass","click",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","student-skill-statistic-cK-mF-GKd",1,"text-white","btn","btn-pending",2,"font-weight","430",3,"ngClass","click"],["mat-header-cell","",1,"text-center"],[1,"progress"],[1,"progress-done",3,"ngStyle"],[1,"text-md","font-medium","span-baseline-middle"],[1,"flex"],["class","lucide lucide-arrow-big-up-dash w-6 h-6 text-success","style","z-index: 99; align-self: center","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],["class","lucide lucide-arrow-big-down-dash w-6 h-6 text-danger","style","z-index: 99; align-self: center","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],[1,"text-md","font-medium","ml-1",2,"align-content","center",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-arrow-big-up-dash","w-6","h-6","text-success",2,"z-index","99","align-self","center"],["d","M9 19h6"],["d","M9 15v-3H5l7-7 7 7h-4v3H9z"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-arrow-big-down-dash","w-6","h-6","text-danger",2,"z-index","99","align-self","center"],["d","M15 5H9"],["d","M15 9v3h4l-7 7-7-7h4V9z"],["mat-header-row",""],["mat-row",""],[1,"box","p-3","md:hidden","mt-4","border","border-slate-200","dark:border-darkmode-400"],[1,"mt-0"],[1,"text-base","font-medium"],[1,"mt-3","flex","items-center"],[1,"mr-2"],[1,"font-medium"],[1,"whitespace-nowrap","mr-2"],["class","mt-3 flex items-center",4,"ngIf"],[1,"mt-3"],["azt-track-service","student-skill-statistic-cK-mF-GKd","class","text-white btn btn-gradient-primary","style","font-weight: 430",3,"click",4,"ngIf"],["azt-track-service","student-skill-statistic-cK-mF-GKd",1,"text-white","btn","btn-gradient-primary",2,"font-weight","430",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["d","M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4"],["d","M2 6h4"],["d","M2 10h4"],["d","M2 14h4"],["d","M2 18h4"],["d","M18.4 2.6a2.17 2.17 0 0 1 3 3L16 11l-4 1 1-4Z"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,xo,1,1,"azt-loading-effect",1),t.YNc(2,Bo,41,33,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[_.mk,_.sg,_.O5,_.PC,R.BZ,R.fO,R.as,R.w1,R.Dz,R.nj,R.ge,R.ev,R.XQ,R.Gk,E.l,xt.R,Tt.n,_.JJ,p.JV,p.qY],encapsulation:2}),n})();var ce=l(43277),Po=l(72269),qt=l(27161),bt=l(2783),_e=l(70342);let Ho=(()=>{class n extends T.Q{copyLinkToClipboard(){return`${this.commonService.getCurrentDomainWithLanguage()}/admin/testbank/test-review/${this.examIdParam}/${this.userIdParam}/${this.studentIdParam}/${this.examResultIdParam??0}`}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}ngOnInit(){super.ngOnInit()}constructor(e){super(),this.commonService=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-testbank-test-review-show-copy-link-button"]],inputs:{examResultIdParam:"examResultIdParam",userIdParam:"userIdParam",studentIdParam:"studentIdParam",examIdParam:"examIdParam"},features:[t.qOj],decls:4,vars:4,consts:[[1,"flex","items-center","mt-2"],["azt-track-service","show-copy-link-button-DYZc-0oRwh",1,"btn-text-primary","font-medium",3,"cdkCopyToClipboard","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.showCopySuccess()}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("cdkCopyToClipboard",o.copyLinkToClipboard()),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_auto_copy_link_gui_giao_vien")," "))},dependencies:[_e.i3,p.JV],encapsulation:2}),n})();function Go(n,i){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"b"),t._uU(4),t.ALo(5,"number"),t.qZA()()),2&n){const e=i.$implicit,o=i.index,a=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_combine_exam_component")+(o+1),":\xa0"),t.xp6(3),t.Oqu(e+(a.totalMarkSubject?"/"+t.xi3(5,4,a.totalMarkSubject/a.totalSubject,"1.0-2"):""))}}function Yo(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Go,6,7,"div",10),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==e.examResultObj?null:e.examResultObj.subjectMarkValues)}}function Wo(n,i){if(1&n&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.lnq("(",e.examResultObj.rightAnswer,"/",e.examResultObj.totalQuestion-e.essayQuestionObjs.length,"\xa0",t.lcZ(2,3,"lang_auto_cau_brackets"),"")}}function Ko(n,i){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.YNc(4,Wo,3,5,"span",12),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,3,"lang_auto_trac_nghiem"),": ",null!=e.examResultObj.trueFalseMark?e.examResultObj.trueFalseMark:t.lcZ(3,5,"lang_auto_chua_co_diem")," "),t.xp6(3),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.rightAnswer))}}function Vo(n,i){if(1&n&&(t.TgZ(0,"span",13),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.lnq("(",e.examResultObj.rightAnswer,"/",e.examResultObj.totalQuestion-e.essayQuestionObjs.length,"\xa0",t.lcZ(2,3,"lang_auto_cau_brackets"),"")}}function $o(n,i){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"mytranslate"),t.YNc(3,Vo,3,5,"span",12),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,3,"lang_auto_trac_nghiem"),": ",e.examResultObj.mark," "),t.xp6(2),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.rightAnswer))}}function Xo(n,i){if(1&n&&(t.YNc(0,Ko,5,7,"div",7),t.YNc(1,$o,4,5,"div",7)),2&n){const e=t.oxw();t.Q6J("ngIf",2!=(null==e.examObj?null:e.examObj.whenShowResult)&&e.trueFalseChoiceQuestionObjs.length>0&&e.examResultObj&&e.examResultObj.totalQuestion&&!e.viewPractice),t.xp6(1),t.Q6J("ngIf",e.examResultObj&&e.examResultObj.totalQuestion&&e.viewPractice)}}function ti(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.HOy(" ",t.lcZ(2,4,"lang_auto_tu_luan"),": ",null==e.examResultObj?null:e.examResultObj.essayMark," (",e.essayQuestionObjs.length," ",t.lcZ(3,6,"lang_auto_cau_brackets")," ")}}function ei(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",15),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,4,"lang_auto_tu_luan"),": "),t.xp6(3),t.Oqu(t.lcZ(5,6,"lang_auto_chua_cham")),t.xp6(2),t.AsE(" (",e.essayQuestionObjs.length," ",t.lcZ(7,8,"lang_auto_cau_brackets")," ")}}function ni(n,i){if(1&n&&(t.TgZ(0,"div",11),t.YNc(1,ti,4,8,"span",14),t.YNc(2,ei,8,10,"span",14),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.examResultObj?null:e.examResultObj.confirmedAt),t.xp6(1),t.Q6J("ngIf",!(null!=e.examResultObj&&e.examResultObj.confirmedAt))}}function oi(n,i){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_so_file_da_nop"),": ",e.files.length," ")}}function ii(n,i){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_so_lan_thoat_man_hinh"),": ",e.examTracks.exitFullScreen," ")}}function ai(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"button",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.clickResultTrack())}),t.O4$(),t.TgZ(4,"svg",17),t._UZ(5,"path",18)(6,"polyline",19)(7,"circle",20)(8,"path",21),t.qZA()()()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_xem_chi_tiet_qua_trinh_lam_bai"),": "))}function si(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"button",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showResultInfors())}),t.O4$(),t.TgZ(4,"svg",23),t._UZ(5,"circle",24)(6,"path",25)(7,"path",26)(8,"path",27),t.qZA()()()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_show_infos_test_submit"),": "))}function ri(n,i){if(1&n&&t._UZ(0,"app-testbank-test-review-show-copy-link-button",28),2&n){const e=t.oxw();t.Q6J("examResultIdParam",e.examResultIdParam)("userIdParam",e.userIdParam)("studentIdParam",e.studentIdParam)("examIdParam",e.examIdParam)}}let li=(()=>{class n extends T.Q{get checkHasType1Question(){let e=!1;for(let o=0;o<(this.questionObjs?.length??0);o++)if(this.answerTypeService.isOneChoiceAnswer(this.questionObjs?.[o])){e=!0;break}return e}showResultInfors(){this.sAztDialogService.open(Po.p,{width:"500px",data:this.resultInfos,restoreFocus:!1})}clickResultTrack(){this.sAztDialogService.open(go,{width:"750px",data:{examResultIdParam:this.examResultIdParam,hashId:this.examObj?.hashId},restoreFocus:!1})}showStudentSkillStatisticDialog(){if(this.examObj?.schoolSubjectId&&(10==this.examObj?.schoolLevelId||11==this.examObj?.schoolLevelId||32==this.examObj?.schoolSubjectId&&12==this.examObj?.schoolLevelId)){let e={subjectId:this.examObj?.schoolSubjectId,levelId:this.examObj?.schoolLevelId,userId:Number(this.userIdParam??"0")};this.sAztDialogService.open(ce.C,{width:"100vw",data:e,restoreFocus:!1})}else this.sAztDialogService.open(le,{width:"100vw",data:{examSchoolSubjectId:this.examObj?.schoolSubjectId??0},restoreFocus:!1})}ngOnInit(){super.ngOnInit(),this.totalSubject=this.examResultObj?.subjectMarkValues?.length??3,this.totalMarkSubject=this.examResultObj?.examResultStatisticObj?.examQuestionStatisticObj?.totalMark??0}constructor(e,o){super(),this.answerTypeService=e,this.sAztDialogService=o,this.essayQuestionObjs=[],this.trueFalseChoiceQuestionObjs=[],this.files=[],this.historyExamResultObjs=[],this.resultInfos=[],this.viewPractice=!1,this.totalSubject=3,this.totalMarkSubject=30}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(qt.i),t.Y36(bt.C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-testbank-test-review-show-detail-info-for-student"]],inputs:{examResultIdParam:"examResultIdParam",userIdParam:"userIdParam",studentIdParam:"studentIdParam",examIdParam:"examIdParam",offlineHashIdParam:"offlineHashIdParam",studentObj:"studentObj",examObj:"examObj",examResultObj:"examResultObj",markedByObj:"markedByObj",questionObjs:"questionObjs",essayQuestionObjs:"essayQuestionObjs",trueFalseChoiceQuestionObjs:"trueFalseChoiceQuestionObjs",files:"files",historyExamResultObjs:"historyExamResultObjs",examTracks:"examTracks",resultInfos:"resultInfos",viewPractice:"viewPractice"},features:[t.qOj],decls:20,vars:14,consts:[[1,"info-exam-online"],[1,"rounded-md","bg-slate-200","dark:bg-darkmode-400","p-3",2,"border-bottom-left-radius","0","border-bottom-right-radius","0"],[1,"flex","items-center"],[1,"text-md"],[1,"info-exam-body","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2",2,"border-top-left-radius","0","border-top-right-radius","0"],[4,"ngIf","ngIfElse"],["showNormalMark",""],["class","flex items-center mt-2",4,"ngIf"],[3,"examResultIdParam","userIdParam","studentIdParam","examIdParam",4,"ngIf"],["azt-track-service","show-detail-info-box-for-student-1uCfqpiF1",1,"btn","btn-success-soft","w-full","mt-2",3,"click"],["class","flex items-center mt-2",4,"ngFor","ngForOf"],[1,"flex","items-center","mt-2"],["class","ml-2",4,"ngIf"],[1,"ml-2"],[4,"ngIf"],[1,"text-pending"],["azt-track-service","show-detail-info-box-for-student-yw3gtIAU5N",1,"btn-text-primary","ml-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["d","M16 22h2c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V7.5L14.5 2H6c-.5 0-1 .2-1.4.6C4.2 3 4 3.5 4 4v3"],["points","14 2 14 8 20 8"],["cx","8","cy","16","r","6"],["d","M9.5 17.5 8 16.25V14"],["azt-track-service","show-detail-info-box-for-student-d5Ae8h9_DU",1,"btn-text-primary","ml-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["cx","12","cy","12","r","10"],["d","M17 12h.01"],["d","M12 12h.01"],["d","M7 12h.01"],[3,"examResultIdParam","userIdParam","studentIdParam","examIdParam"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3)(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()(),t.TgZ(7,"div",4),t.YNc(8,Yo,2,1,"ng-container",5),t.YNc(9,Xo,2,2,"ng-template",null,6,t.W1O),t.YNc(11,ni,3,2,"div",7),t.YNc(12,oi,3,4,"div",7),t.YNc(13,ii,3,4,"div",7),t.YNc(14,ai,9,3,"div",7),t.YNc(15,si,9,3,"div",7),t.YNc(16,ri,1,4,"app-testbank-test-review-show-copy-link-button",8),t.qZA(),t.TgZ(17,"button",9),t.NdJ("click",function(){return o.showStudentSkillStatisticDialog()}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()),2&e){const a=t.MAs(10);t.xp6(5),t.hij(" ",t.lcZ(6,10,"lang_auto_thong_tin_chi_tiet")," "),t.xp6(3),t.Q6J("ngIf",2!=(null==o.examObj?null:o.examObj.whenShowResult)&&(null==o.examObj?null:o.examObj.subjectMarks)&&(null==o.examResultObj||null==o.examResultObj.subjectMarkValues?null:o.examResultObj.subjectMarkValues.length))("ngIfElse",a),t.xp6(3),t.Q6J("ngIf",2!=(null==o.examObj?null:o.examObj.whenShowResult)&&o.essayQuestionObjs.length),t.xp6(1),t.Q6J("ngIf",o.essayQuestionObjs.length),t.xp6(1),t.Q6J("ngIf",o.examTracks&&0!=(null==o.examObj?null:o.examObj.autoMonitor)),t.xp6(1),t.Q6J("ngIf",2!=(null==o.examObj?null:o.examObj.whenShowResult)&&o.checkHasType1Question&&!o.offlineHashIdParam&&o.trueFalseChoiceQuestionObjs.length>0&&(null==o.examResultObj?null:o.examResultObj.totalQuestion)&&!o.viewPractice),t.xp6(1),t.Q6J("ngIf",o.resultInfos.length&&!o.viewPractice),t.xp6(1),t.Q6J("ngIf",!o.viewPractice),t.xp6(2),t.hij(" ",t.lcZ(19,12,"lang_testbank_frontend_student_skill_statistic_button")," ")}},dependencies:[_.sg,_.O5,Ho,_.JJ,p.JV],encapsulation:2}),n})();function ci(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null!=(null==e.examResultObj?null:e.examResultObj.mark)?(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):""):t.lcZ(2,1,"lang_auto_chua_co_diem"))}}function _i(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(null!=(null==e.examResultObj?null:e.examResultObj.mark)?(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"/10"):t.lcZ(2,1,"lang_auto_chua_co_diem"))}}function ui(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chua_duoc_xem")))}let pi=(()=>{class n extends T.Q{ngOnInit(){super.ngOnInit()}constructor(e){super(),this.commonService=e,this.viewPractice=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-testbank-test-review-show-mark-info-of-student"]],inputs:{examObj:"examObj",examResultObj:"examResultObj",viewPractice:"viewPractice"},features:[t.qOj],decls:7,vars:6,consts:[[1,"font-medium","text-lg","flex","items-center"],[1,"mr-3"],[4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,ci,3,3,"span",2),t.YNc(5,_i,3,3,"span",2),t.YNc(6,ui,3,3,"span",2),t.qZA()),2&e&&(t.xp6(2),t.hij("",t.lcZ(3,4,"lang_auto_diem_cuoi"),": "),t.xp6(2),t.Q6J("ngIf",2!=(null==o.examObj?null:o.examObj.whenShowResult)&&!o.viewPractice),t.xp6(1),t.Q6J("ngIf",2!=(null==o.examObj?null:o.examObj.whenShowResult)&&o.viewPractice),t.xp6(1),t.Q6J("ngIf",2==(null==o.examObj?null:o.examObj.whenShowResult)))},dependencies:[_.O5,p.JV],encapsulation:2}),n})();var mi=l(51614);const di=["drawer"];function gi(n,i){1&n&&(t.TgZ(0,"div",4),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_co_du_lieu_nop_bai")," "))}function fi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.sAztMatDrawerService.openDrawer())}),t.ALo(1,"mytranslate"),t.O4$(),t.TgZ(2,"svg",30),t._UZ(3,"rect",31)(4,"path",32)(5,"path",33),t.qZA()()}2&n&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_mo_menu"))}function hi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.sAztMatDrawerService.closeDrawer())}),t.ALo(1,"mytranslate"),t.O4$(),t.TgZ(2,"svg",30),t._UZ(3,"rect",31)(4,"path",32)(5,"path",35),t.qZA()()}2&n&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_dong_menu"))}function xi(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",36)(2,"span",37),t._UZ(3,"lucide-icon",38),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,1,"lang_answer_test_must_reach_mark_to_show_answer_1")+(null==e.examConfigObj?null:e.examConfigObj.viewAnswerResultMinMark)+t.lcZ(7,3,"lang_answer_test_must_reach_mark_to_show_answer_2"))}}function Ti(n,i){if(1&n&&t._UZ(0,"azt-loaded-img",45),2&n){const e=t.oxw(3);t.Q6J("imgSrc",null==e.examObj?null:e.examObj.examHeader)}}function bi(n,i){if(1&n&&(t.TgZ(0,"div",46),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_tong_so_cau_dung")," ",null==e.examResultObj?null:e.examResultObj.rightAnswer,".")}}function wi(n,i){if(1&n&&(t.TgZ(0,"div",46),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);let o;t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_tong_so_cau_sai")," ",(null!==(o=null==e.examResultObj?null:e.examResultObj.totalQuestion)&&void 0!==o?o:0)-e.essayQuestionObjs.length-(null!==(o=null==e.examResultObj?null:e.examResultObj.rightAnswer)&&void 0!==o?o:0),". ")}}const Si=function(n,i){return{correct:n,incorrect:i}};function vi(n,i){if(1&n&&t._UZ(0,"azt-question-standalone-for-student-at-review-page",48),2&n){const e=t.oxw(),o=e.$implicit,a=e.index,s=t.oxw(3);t.Q6J("examObj",s.examObj)("examConfig",s.examConfigObj)("questionObj",o)("curQuestionIndex",a)("follower",s.followerRenderQuest)("isOfflineMark",!(null==s.initDataResult||null==s.initDataResult.data||!s.initDataResult.data.offlineMarkObj))("userAnswersObj",s.userAnswersObj)("curExamResultId",s.examResultIdParam)("currentTab","multiple_choice_tab")("ngClass",t.WLB(10,Si,null==o?null:o.correctAnswer,!o.correctAnswer))}}function ki(n,i){if(1&n&&t.YNc(0,vi,1,13,"azt-question-standalone-for-student-at-review-page",47),2&n){const e=t.oxw(3);t.Q6J("ngIf",e.examObj)}}function Ai(n,i){if(1&n&&(t.TgZ(0,"mat-tab",39),t.ALo(1,"mytranslate"),t.TgZ(2,"div")(3,"div",40)(4,"div",41),t.YNc(5,Ti,1,1,"azt-loaded-img",42),t.YNc(6,bi,3,4,"div",43),t.YNc(7,wi,3,4,"div",43),t.YNc(8,ki,1,1,"ng-template",44),t.qZA()()()()),2&n){const e=t.oxw(2);t.s9C("label",t.lcZ(1,8,"lang_auto_trac_nghiem")),t.xp6(2),t.Tol(e.viewOption),t.xp6(3),t.Q6J("ngIf",null==e.examObj?null:e.examObj.examHeader),t.xp6(1),t.Q6J("ngIf","viewRight"==e.viewOption),t.xp6(1),t.Q6J("ngIf","viewWrong"==e.viewOption),t.xp6(1),t.Q6J("ngForOf",e.questionObjs)}}function Oi(n,i){if(1&n&&t._UZ(0,"azt-mark-essay-new",55),2&n){const e=t.oxw(4);let o;t.Q6J("examObj",e.examObj)("examConfig",e.examConfigObj)("showForTeacher",!1)("curSelectedTab",e.curSelectedTab)("questions",e.essayQuestionObjs)("userAnswersObj",e.userAnswersObj)("examResultObj",e.examResultObj)("files",e.files)("resultID",null!==(o=e.examResultIdParam)&&void 0!==o?o:0)}}function Ci(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Oi,1,9,"azt-mark-essay-new",54),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",1==e.curSelectedTab)}}function yi(n,i){if(1&n&&t._UZ(0,"azt-mark-essay",56),2&n){const e=t.oxw(3);let o;t.Q6J("examObj",e.examObj)("examConfig",e.examConfigObj)("showForTeacher",!1)("questions",e.essayQuestionObjs)("userAnswersObj",e.userAnswersObj)("examResultObj",e.examResultObj)("resultID",null!==(o=e.examResultIdParam)&&void 0!==o?o:0)("files",e.files)("iframeViewMode","view")("hasLoadedData",e.hasLoadedData)}}function Ii(n,i){if(1&n&&(t.TgZ(0,"mat-tab",49),t.ALo(1,"mytranslate"),t.TgZ(2,"div",50)(3,"div",51),t.YNc(4,Ci,2,1,"ng-container",52),t.YNc(5,yi,1,10,"ng-template",null,53,t.W1O),t.qZA()()()),2&n){const e=t.MAs(6),o=t.oxw(2);t.s9C("label",t.lcZ(1,3,"lang_auto_tu_luan")),t.xp6(4),t.Q6J("ngIf",o.checkMarkNote)("ngIfElse",e)}}const zi=function(n,i){return{"w-85":n,"w-25":i}},Ei=function(n){return{"azt-mobile-draw-left":n}},Zi=function(){return[]},Qi=function(n){return{"ml-5":n}};function ji(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-drawer-container",5)(1,"mat-drawer",6,7),t.NdJ("closedStart",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeStatusNav())}),t.TgZ(3,"div",8)(4,"div",9)(5,"div",10),t._UZ(6,"app-testbank-test-review-show-mark-info-of-student",11),t.qZA(),t.TgZ(7,"div",12),t._UZ(8,"app-testbank-test-review-show-detail-info-for-student",13)(9,"app-testbank-show-offline-result",14),t.ALo(10,"mytranslate"),t.qZA()(),t._UZ(11,"azt-practice-box",15),t.qZA()(),t.TgZ(12,"mat-drawer-content")(13,"div",16)(14,"div",17)(15,"div",18),t.YNc(16,fi,6,3,"button",19),t.YNc(17,hi,6,3,"button",20),t.TgZ(18,"div",21),t._uU(19),t.qZA(),t.TgZ(20,"div",22),t.GkF(21,23),t.qZA()(),t.YNc(22,xi,8,5,"ng-container",24),t.TgZ(23,"div",25)(24,"mat-tab-group",26),t.NdJ("selectedTabChange",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.onTabChanged(a))})("selectedIndexChange",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.curSelectedTab=a)}),t.YNc(25,Ai,9,10,"mat-tab",27),t.YNc(26,Ii,7,5,"mat-tab",28),t.qZA()()()()()()}if(2&n){const e=t.oxw(),o=t.MAs(5);let a,s;t.Q6J("hasBackdrop",e.sAztMatDrawerService.hasBackdrop),t.xp6(1),t.s9C("opened",e.sAztMatDrawerService.isOpenSideNav?"true":"false"),t.Q6J("ngClass",t.WLB(52,zi,e.isMobileDevice,!e.isMobileDevice))("mode",e.sAztMatDrawerService.mode),t.xp6(2),t.Q6J("ngClass",t.VKq(55,Ei,e.isMobileDevice)),t.xp6(3),t.Q6J("examObj",e.examObj)("examResultObj",e.examResultObj)("viewPractice",e.viewPractice),t.xp6(2),t.Q6J("examResultIdParam",e.examResultIdParam)("userIdParam",e.userIdParam)("studentIdParam",e.studentIdParam)("examIdParam",e.examIdParam)("offlineHashIdParam",e.offlineHashIdParam)("viewPractice",e.viewPractice)("studentObj",e.studentObj)("examObj",e.examObj)("examResultObj",e.examResultObj)("markedByObj",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.markedByObj)("questionObjs",e.questionObjs)("essayQuestionObjs",e.essayQuestionObjs)("trueFalseChoiceQuestionObjs",e.trueFalseChoiceQuestionObjs)("files",e.files)("historyExamResultObjs",null!==(a=null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.historyExamResultObjs)&&void 0!==a?a:t.DdM(57,Zi))("examTracks",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.examTracks)("resultInfos",e.resultInfos),t.xp6(1),t.Q6J("backToLink",e.backToLink)("examResultIdParam",e.examResultIdParam)("userIdParam",e.userIdParam)("studentIdParam",e.studentIdParam)("examIdParam",e.examIdParam)("examObj",e.examObj)("essayExam",!!e.essayQuestionObjs.length)("essayMark",null!=e.examResultObj&&e.examResultObj.confirmedAt?(null!==(s=null==e.examResultObj?null:e.examResultObj.essayMark)&&void 0!==s?s:0).toString():t.lcZ(10,50,"lang_auto_chua_cham"))("questionObjs",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.questionObjs)("offlineMarkObj",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.offlineMarkObj)("offlineMixQuestionObj",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.offlineMixQuestionObj)("isDeletableExamResultObj",!1),t.xp6(2),t.Q6J("showLikeMobile",!0)("resultId",e.examResultIdParam)("webPage","STUDENT_VIEW_RESULT"),t.xp6(2),t.Q6J("ngClass",t.VKq(58,Qi,!e.isMobileDevice&&e.sAztMatDrawerService.isOpenSideNav)),t.xp6(3),t.Q6J("ngIf",!e.sAztMatDrawerService.isOpenSideNav||e.isMobileDevice),t.xp6(1),t.Q6J("ngIf",e.sAztMatDrawerService.isOpenSideNav&&!e.isMobileDevice),t.xp6(1),t.s9C("matTooltip",null==e.examObj?null:e.examObj.name),t.xp6(1),t.hij(" ",null==e.examObj?null:e.examObj.name," "),t.xp6(2),t.Q6J("ngTemplateOutlet",o),t.xp6(1),t.Q6J("ngIf","lang_core_dont_allow_show_answer_by_min_mark"==e.errorMessage),t.xp6(2),t.Q6J("selectedIndex",e.curSelectedTab),t.xp6(1),t.Q6J("ngIf",e.trueFalseChoiceQuestionObjs.length>0),t.xp6(1),t.Q6J("ngIf",e.essayQuestionObjs.length>0&&e.examObj&&e.examResultObj)}}function Li(n,i){1&n&&(t.TgZ(0,"button",73)(1,"span",74),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_sai")," "))}function Fi(n,i){1&n&&(t.TgZ(0,"button",75)(1,"span",74),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_dung")," "))}function Mi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",57),t.YNc(1,Li,4,3,"button",58),t.YNc(2,Fi,4,3,"button",59),t.TgZ(3,"button",60),t.O4$(),t.TgZ(4,"svg",61),t._UZ(5,"polygon",62),t.qZA(),t.kcU(),t.TgZ(6,"span",63),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()(),t.TgZ(9,"mat-menu",64,65)(11,"div",66)(12,"ul",67)(13,"li")(14,"label",68),t._uU(15),t.ALo(16,"mytranslate"),t.TgZ(17,"div",69)(18,"input",70),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onChangeViewOption("viewRight"))})("click",function(a){return a.stopPropagation()}),t.qZA()()()(),t.TgZ(19,"li")(20,"label",71),t._uU(21),t.ALo(22,"mytranslate"),t.TgZ(23,"div",69)(24,"input",72),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onChangeViewOption("viewWrong"))})("click",function(a){return a.stopPropagation()}),t.qZA()()()()()()()}if(2&n){const e=t.MAs(10),o=t.oxw();t.xp6(1),t.Q6J("ngIf","viewWrong"===o.viewOption),t.xp6(1),t.Q6J("ngIf","viewRight"===o.viewOption),t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(4),t.hij(" ",t.lcZ(8,8,"lang_testbank_tested_list_sort")," "),t.xp6(8),t.hij(" ",t.lcZ(16,10,"lang_auto_cau_dung")," "),t.xp6(3),t.Q6J("checked","viewRight"==o.viewOption),t.xp6(3),t.hij(" ",t.lcZ(22,12,"lang_auto_cau_sai")," "),t.xp6(3),t.Q6J("checked","viewWrong"==o.viewOption)}}let Di=(()=>{class n extends T.Q{set drawer(e){this.sAztMatDrawerService.resizeDrawerHeight(!0,e)}onResize(e){this.isMobileDevice=e.target.innerWidth<980,this.sAztMatDrawerService.changeToMobileMode(this.isMobileDevice)}changeStatusNav(){this.isMobileDevice&&(document.body.style.overflow="auto")}onChangeViewOption(e){this.viewOption=this.viewOption==e?"viewAll":e}onTabChanged(e){this.matTabGroupIndex=e.index}checkingShowAnswerConfig(){return!(!this.examConfigObj||!this.examResultObj||3!=this.examObj?.whenShowAnswer||!(this.examResultObj.mark&&this.examConfigObj.viewAnswerResultMinMark&&this.examResultObj.mark<this.examConfigObj.viewAnswerResultMinMark))}getQuestionCanFeedback(){if(Array.isArray(this.questionObjs)){let e=[];this.questionObjs.forEach(o=>{o.id&&!this.commonService.isExistInArray(e,o.id)&&e.push(o.id)}),this.waitDestroy(this.testMarketFeedbackService.apiTestMarketFeedbacksQuestionsGet(Number(this.examIdParam),e.join(",")).subscribe(o=>{if(1==o.success){let a=o.data?.objs??[];if(Array.isArray(this.questionObjs))for(let s=0;s<this.questionObjs.length;s++)a.forEach(r=>{this.questionObjs&&this.questionObjs[s].id==r.questionId&&(this.questionObjs[s].enableFeedback=r.allowFeedback)});this.successStatusObj()}else this.errorStatusObj(o.message??"",!0)}))}else this.stopStatusObj()}processConvertData(e){if(e.data){this.studentObj=this.testReviewService.mapStudentObjWithTestedObjForFrontendStudent(e.data,this.testedUserObjs,this.studentObj),this.examObj=e?.data?.examObj,this.examResultObj=e?.data?.examResultObj,this.examConfigObj=e?.data?.examConfigObj,this.files=this.commonService.myParseJson(this.examResultObj?.files??"")??[],this.resultInfos=this.commonService.willDeleteParseJson(this.examResultObj?.infors??"")??[],this.errorMessage=e?.data?.errorMessage??"";const o=this.commonService.castJsonToClassObjs(te.v,JSON.stringify(e.data.questionObjs??[]));this.followerRenderQuest.setNumQuest(o?.length||0),this.questionObjs=o,this.questionObjs?.forEach(u=>{u.correctAnswer=this.commonService.isExistInArray(e?.data?.correctQuestionIds,u.id),u.isRoleTeacher=!1}),this.docxService.replaceCanvasBackgroundTS(this.questionObjs??[]),this.questionObjs=this.testReviewService.addIndexLabelToQuestionObjs(this.questionObjs),this.essayQuestionObjs=this.testReviewService.getEssayQuestionObjs(this.questionObjs),this.trueFalseChoiceQuestionObjs=this.testReviewService.getTrueFalseQuestionObjs(this.questionObjs),0==this.trueFalseChoiceQuestionObjs.length&&(this.curSelectedTab=1),this.userAnswersObj=this.testReviewService.convertAnswersArr(this.castJsonToObj(e.data.examResultObj?.answers??"")??[]);let a=0,s=0;this.questionObjs?.forEach((u,d)=>{u.labelIndex=d,this.examConfigObj?.resetQuestionIndex&&u.groupInfo&&u.groupInfo.groupId&&(a!=u.groupInfo.groupId&&(a=u.groupInfo.groupId,s=0),u.labelIndex=s,s++)}),this.examResultIdParam=this.examResultObj?.id??0,this.examIdParam=this.examObj?.id?.toString()??"0",this.userIdParam=this.examResultObj?.userId?.toString()??"0",this.studentIdParam=this.examResultObj?.studentId?.toString()??this.studentObj?.id.toString()??"0",this.getQuestionCanFeedback(),this.hasLoadedData=!0;const r=this.envService.getVersionMarkNote(this.envService.getEnvValue("classliveUrl")??""),c=1e6;if(this.examResultObj?.result){const u=this.castJsonToObj(this.examResultObj?.result??"");this.checkMarkNote=!(!u||!u.urlDataMark)}else this.checkMarkNote=r>c}}ngOnInit(){this.waitDestroy((0,L.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.offlineHashIdParam=this.commonService.getMyQueryParam("offline"),this.examResultIdParam=Number(this.activeRoute.snapshot.paramMap.get("result_id")),this.userIdParam=this.activeRoute.snapshot.paramMap.get("user_id")??void 0,this.studentIdParam=this.activeRoute.snapshot.paramMap.get("student_id")??void 0,this.examIdParam=this.activeRoute.snapshot.paramMap.get("exam_id")??void 0,this.initDataResult&&this.processConvertData(this.initDataResult)})),this.answerBoxService.switchEssayTabMessage.subscribe(e=>{e&&(this.curSelectedTab=1,setTimeout(()=>{window.scroll(0,0)},0))}),super.ngOnInit()}constructor(e,o,a,s,r,c,u,d){super(),this.activeRoute=e,this.docxService=o,this.envService=a,this.testReviewService=s,this.answerBoxService=r,this.exportResultService=c,this.testMarketFeedbackService=u,this.sAztMatDrawerService=d,this.viewPractice=!1,this.curSelectedTab=0,this.backToLink="",this.examResultIdParam=0,this.viewOption="viewAll",this.matTabGroupIndex=0,this.userAnswersObj={},this.files=[],this.resultInfos=[],this.essayQuestionObjs=[],this.trueFalseChoiceQuestionObjs=[],this.followerRenderQuest=new ft.p,this.hasLoadedData=!1,this.checkMarkNote=!1,this.errorMessage=""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.gz),t.Y36(no.n),t.Y36(oo.h),t.Y36(io.t),t.Y36(ao.z),t.Y36(so.U),t.Y36(ne.nC),t.Y36(ee.T))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-test-review-for-student"]],viewQuery:function(e,o){if(1&e&&t.Gf(di,5),2&e){let a;t.iGM(a=t.CRH())&&(o.drawer=a.first)}},inputs:{initDataResult:"initDataResult",testedUserObjs:"testedUserObjs",viewPractice:"viewPractice"},features:[t._Bn([ee.T]),t.qOj],decls:6,vars:2,consts:[["id","test-review-for-student",1,"azt-result-list",3,"resize"],["class","p-3 m-3 text-center alert text-slate-500 font-medium",4,"ngIf","ngIfElse"],["hasResult",""],["ShowCorrectIncorrectFilterTpl",""],[1,"p-3","m-3","text-center","alert","text-slate-500","font-medium"],[1,"azt-drawer-container","mt-5",2,"height","auto",3,"hasBackdrop"],[3,"ngClass","mode","opened","closedStart"],["drawer",""],[1,"azt-draw-left",2,"overflow-x","hidden",3,"ngClass"],[1,"box"],[1,"info-user","border-b","border-slate-200/60","dark:border-darkmode-400","p-3"],[3,"examObj","examResultObj","viewPractice"],[1,"p-3"],[3,"examResultIdParam","userIdParam","studentIdParam","examIdParam","offlineHashIdParam","viewPractice","studentObj","examObj","examResultObj","markedByObj","questionObjs","essayQuestionObjs","trueFalseChoiceQuestionObjs","files","historyExamResultObjs","examTracks","resultInfos"],[3,"backToLink","examResultIdParam","userIdParam","studentIdParam","examIdParam","examObj","essayExam","essayMark","questionObjs","offlineMarkObj","offlineMixQuestionObj","isDeletableExamResultObj"],[1,"mt-3","block",3,"showLikeMobile","resultId","webPage"],[1,"azt-drawer-content","azt-test-review-for-teacher-new","relative",3,"ngClass"],[1,"p-0","slide-main"],[1,"flex","box","sm:h-auto","items-center","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2","text-slate-500","mb-5"],["azt-track-service","test-review-for-student-ZI4M15FHLQ","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","test-review-for-student-lnUiT-MGaoA","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"truncate","font-medium","mx-auto","text-slate-600","dark:text-slate-300",2,"max-width","50%",3,"matTooltip"],[1,"relative","flex"],[3,"ngTemplateOutlet"],[4,"ngIf"],[1,"box","flex-1"],[3,"selectedIndex","selectedTabChange","selectedIndexChange"],[3,"label",4,"ngIf"],["id","tabEssay",3,"label",4,"ngIf"],["azt-track-service","test-review-for-student-ZI4M15FHLQ",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-menu","w-4","h-4"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["d","M9 3v18"],["d","m14 9 3 3-3 3"],["azt-track-service","test-review-for-student-lnUiT-MGaoA",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["d","m16 15-3-3 3-3"],[1,"alert","alert-danger","mb-5",2,"align-items","center"],[1,"w-4","h-4","mr-2"],["name","alert-octagon"],[3,"label"],[1,"azt-student-list"],[1,"p-3",2,"padding-bottom","80px"],["style","display: block","class","mb-1",3,"imgSrc",4,"ngIf"],["class","p-2 font-bold",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"mb-1",2,"display","block",3,"imgSrc"],[1,"p-2","font-bold"],["class","relative",3,"examObj","examConfig","questionObj","curQuestionIndex","follower","isOfflineMark","userAnswersObj","curExamResultId","currentTab","ngClass",4,"ngIf"],[1,"relative",3,"examObj","examConfig","questionObj","curQuestionIndex","follower","isOfflineMark","userAnswersObj","curExamResultId","currentTab","ngClass"],["id","tabEssay",3,"label"],["id","markEssay"],[1,"p-3",2,"padding-bottom","20px"],[4,"ngIf","ngIfElse"],["isFrameMark",""],[3,"examObj","examConfig","showForTeacher","curSelectedTab","questions","userAnswersObj","examResultObj","files","resultID",4,"ngIf"],[3,"examObj","examConfig","showForTeacher","curSelectedTab","questions","userAnswersObj","examResultObj","files","resultID"],[3,"examObj","examConfig","showForTeacher","questions","userAnswersObj","examResultObj","resultID","files","iframeViewMode","hasLoadedData"],[1,"filter","flex"],["class","btn btn-sm btn-danger mx-2","style","cursor: default; padding: 6px 4px",4,"ngIf"],["class","btn btn-sm btn-success mx-2","style","cursor: default; padding: 6px 4px",4,"ngIf"],[1,"btn","btn-sm",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"azt-hidden","md:block"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["for","viewRight",1,"dropdown-item","cursor-pointer"],[1,"form-check","form-switch","ml-auto"],["azt-track-service","test-review-for-student-AzpxXYDv2dW","id","viewRight","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change","click"],["for","viewWrong",1,"dropdown-item","cursor-pointer"],["azt-track-service","test-review-for-student-FiRglRqPWZP","id","viewWrong","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change","click"],[1,"btn","btn-sm","btn-danger","mx-2",2,"cursor","default","padding","6px 4px"],[1,"azt-hidden","text-white","md:block"],[1,"btn","btn-sm","btn-success","mx-2",2,"cursor","default","padding","6px 4px"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.NdJ("resize",function(s){return o.onResize(s)},!1,t.Jf7),t.YNc(1,gi,3,3,"div",1),t.YNc(2,ji,27,60,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,Mi,25,14,"ng-template",null,3,t.W1O)),2&e){const a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",!(null!=o.initDataResult&&null!=o.initDataResult.data&&o.initDataResult.data.examResultObj||null!=o.initDataResult&&null!=o.initDataResult.data&&o.initDataResult.data.historyExamResultObjs))("ngIfElse",a)}},dependencies:[_.mk,_.sg,_.O5,_.tP,N.VK,N.p6,Mt.jA,Mt.kh,Mt.LW,ht.uX,ht.SP,P.gM,oe.y,ro.a,lo.f,ie.O,k.Nh5,co.S,li,pi,mi.C,p.JV],encapsulation:2}),n})();function qi(n,i){if(1&n&&t._UZ(0,"azt-loading-effect",3),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function Ri(n,i){if(1&n&&t._UZ(0,"azt-test-review-for-student",4),2&n){const e=t.oxw();t.Q6J("initDataResult",e.initDataAnswerTest)}}let Ui=(()=>{class n extends T.Q{redirectToBackLink(){let e=this.commonService.getMyQueryParam("backto")??"/student/classroom/0";this.backToLink=this.commonService.getMyQueryParam("offline")?e||"/student/classroom/0":e}translateMetaTitle(e){this.commonService.getTranslate("lang_auto_ket_qua").subscribe(o=>{this.commonService.translateMetaData({title:o+": "+e,description:o+": "+e,image:"lang_cms_test_image"})})}getAndProcessDataForStudent(){this.initStatusObj(),this.waitDestroy((0,L.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString();let o=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),a=this.commonService.getMyQueryParam("offline")??"",s=this.commonService.myTranslateInstant("lang_auto_ket_qua");this.frontExamResultService.apiFrontExamResultGetExamAnswerGet(e,o,a).subscribe(r=>{1==r.success?(this.initDataAnswerTest=r,this.headerTitle=`${s}: ${r?.data?.examObj?.name}`,this.translateMetaTitle(r.data?.examObj?.name),this.successStatusObj()):this.errorStatusObj(r.message??"",!0)})}))}ngOnInit(){this.getAndProcessDataForStudent(),this.redirectToBackLink(),super.ngOnInit()}constructor(e,o){super(),this.activeRoute=e,this.frontExamResultService=o,this.headerTitle="",this.backToLink=""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.gz),t.Y36(I.CA))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-answer-test"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"initDataResult"]],template:function(e,o){if(1&e&&(t.TgZ(0,"student-layout",0),t.YNc(1,qi,1,1,"azt-loading-effect",1),t.YNc(2,Ri,1,1,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.Q6J("headerBackToLink",o.backToLink),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[_.O5,E.l,Di,lt.L],encapsulation:2}),n})();var Ni=l(71518);function Ji(n,i){if(1&n&&t._UZ(0,"azt-loading-effect",3),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function Bi(n,i){1&n&&(t.TgZ(0,"div")(1,"div",13)(2,"span"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_auto_co_loi_khi_tai_ket_qua_vui_long_tai_lai_trang_hoac_thu_lai_sau")))}function Pi(n,i){if(1&n&&(t.TgZ(0,"span",38),t._uU(1),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.hij(" ",(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"")," ")}}function Hi(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"span",36),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Pi,2,1,"span",37),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.hij("",t.lcZ(3,2,"lang_auto_diem_cua_ban"),":"),t.xp6(2),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.mark))}}function Gi(n,i){1&n&&(t.TgZ(0,"span",36),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_auto_diem_trac_nghiem_cua_ban"),":"))}function Yi(n,i){1&n&&(t.TgZ(0,"span",36),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_auto_diem_cua_ban"),":"))}function Wi(n,i){if(1&n&&(t.TgZ(0,"span",38),t._uU(1),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.hij(" ",(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"")," ")}}function Ki(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Gi,3,3,"span",39),t.YNc(2,Yi,3,3,"span",39),t.YNc(3,Wi,2,1,"span",37),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==(null==e.examResultObj?null:e.examResultObj.essayMark)),t.xp6(1),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.essayMark)),t.xp6(1),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.mark))}}function Vi(n,i){1&n&&(t.TgZ(0,"span",36),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_auto_diem_cua_ban"),":"))}function $i(n,i){if(1&n&&(t.TgZ(0,"span",41),t._uU(1),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.hij(" ",(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"")," ")}}function Xi(n,i){1&n&&(t.TgZ(0,"span",42),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chua_co_diem")))}function ta(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Vi,3,3,"span",39),t.YNc(2,$i,2,1,"span",40),t.YNc(3,Xi,3,3,"span",35),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.essayMark)),t.xp6(1),t.Q6J("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.mark)&&null!=(null==e.examResultObj?null:e.examResultObj.essayMark)),t.xp6(1),t.Q6J("ngIf",null==(null==e.examResultObj?null:e.examResultObj.essayMark))}}function ea(n,i){1&n&&(t.TgZ(0,"span",42),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chua_co_diem")))}function na(n,i){if(1&n&&(t.TgZ(0,"div",33),t.YNc(1,Hi,5,4,"ng-container",34),t.ALo(2,"isOnlyTrueFalse"),t.YNc(3,Ki,4,3,"ng-container",34),t.ALo(4,"isMixTrueFalseAndEssay"),t.YNc(5,ta,4,3,"ng-container",34),t.ALo(6,"isOnlyEssay"),t.YNc(7,ea,3,3,"span",35),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,e.examObj)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,6,e.examObj)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,8,e.examObj)),t.xp6(2),t.Q6J("ngIf",null==(null==e.examResultObj?null:e.examResultObj.mark))}}function oa(n,i){1&n&&(t.TgZ(0,"span",36),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_auto_diem_cua_ban"),":"))}function ia(n,i){if(1&n&&(t.TgZ(0,"div",33),t.YNc(1,oa,3,3,"span",39),t.TgZ(2,"span",38),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==(null==e.examResultObj?null:e.examResultObj.essayMark)),t.xp6(2),t.hij(" ",t.lcZ(4,2,"lang_auto_chua_duoc_xem_diem")," ")}}function aa(n,i){if(1&n&&(t.TgZ(0,"div",43)(1,"p",21),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"path",44)(4,"circle",45),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(7,"p",25),t._uU(8),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(5),t.hij(" ",t.lcZ(6,2,"lang_auto_thi_sinh")," "),t.xp6(3),t.hij(" ",null!=e.studentObj&&e.studentObj.fullName?null==e.studentObj?null:e.studentObj.fullName:null==e.userObj?null:e.userObj.fullName," ")}}function sa(n,i){if(1&n&&(t.TgZ(0,"div",20)(1,"p",21),t.O4$(),t.TgZ(2,"svg",46),t._UZ(3,"path",47)(4,"path",48),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(7,"p",49),t._uU(8),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(5),t.hij(" ",t.lcZ(6,2,"lang_auto_so_luong_trac_nghiem_dung")," "),t.xp6(3),t.hij(" ",null==e.examResultObj?null:e.examResultObj.rightAnswer," ")}}function ra(n,i){if(1&n&&(t.TgZ(0,"div",20)(1,"p",21),t.O4$(),t.TgZ(2,"svg",50),t._UZ(3,"circle",23)(4,"line",51)(5,"line",52),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(8,"p",53),t._uU(9),t.qZA()()),2&n){const e=t.oxw(3);let o;t.xp6(6),t.hij(" ",t.lcZ(7,2,"lang_auto_so_cau_sai")," "),t.xp6(3),t.hij(" ",(null!==(o=null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalTrueFalseQuestion)&&void 0!==o?o:0)-(null!==(o=null==e.examResultObj?null:e.examResultObj.rightAnswer)&&void 0!==o?o:0)," ")}}function la(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",62)(1,"button",63),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.showStudentSkillStatisticDialog())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_testbank_frontend_student_skill_statistic_button")," "))}const ue=function(n,i){return{"md:col-span-4":n,"md:col-span-6":i}};function ca(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",54),t.YNc(2,la,4,3,"div",55),t.TgZ(3,"div",56)(4,"button",57),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.redirectToTakeTraining())}),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"span",58),t._UZ(8,"lucide-icon",59),t.qZA()()(),t.TgZ(9,"div",56)(10,"button",60),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.redirectToAnswerTest())}),t._uU(11),t.ALo(12,"mytranslate"),t.TgZ(13,"span",58),t._UZ(14,"lucide-icon",61),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",e.isShowStudentSkillStatistic),t.xp6(1),t.Q6J("ngClass",t.WLB(9,ue,e.isShowStudentSkillStatistic,!e.isShowStudentSkillStatistic)),t.xp6(2),t.hij(" ",t.lcZ(6,5,"lang_testbank_frontend_practice_again")," "),t.xp6(4),t.Q6J("ngClass",t.WLB(12,ue,e.isShowStudentSkillStatistic,!e.isShowStudentSkillStatistic)),t.xp6(2),t.hij(" ",t.lcZ(12,7,"lang_auto_xem_dap_an_chi_tiet")," ")}}function _a(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",67)(1,"button",68),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.showStudentSkillStatisticDialog())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_testbank_frontend_student_skill_statistic_button")," "))}function ua(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.redirectToAnswerTest())}),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",58),t._UZ(4,"lucide-icon",61),t.qZA()()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_xem_dap_an_chi_tiet")," "))}function pa(n,i){1&n&&(t.TgZ(0,"button",69),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.Q6J("disabled",!0),t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_chua_duoc_xem_ket_qua")," "))}const ma=function(n){return{"md:col-span-6":n}};function da(n,i){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,_a,4,3,"div",64),t.TgZ(2,"div",56),t.YNc(3,ua,5,3,"button",65),t.YNc(4,pa,3,4,"button",66),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.isShowStudentSkillStatistic),t.xp6(1),t.Q6J("ngClass",t.VKq(4,ma,e.isShowStudentSkillStatistic)),t.xp6(1),t.Q6J("ngIf",!1!==(null==e.examObj?null:e.examObj.allowStudentView)),t.xp6(1),t.Q6J("ngIf",!1===(null==e.examObj?null:e.examObj.allowStudentView))}}function ga(n,i){if(1&n&&(t.TgZ(0,"div",14)(1,"h2",15),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()(),t.YNc(4,na,8,10,"div",16),t.YNc(5,ia,5,4,"div",16),t.TgZ(6,"h3",17),t._uU(7),t.qZA(),t.TgZ(8,"div",18),t.YNc(9,aa,9,4,"div",19),t.TgZ(10,"div",20)(11,"p",21),t.O4$(),t.TgZ(12,"svg",22),t._UZ(13,"circle",23)(14,"polyline",24),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(17,"p",25),t._uU(18),t.qZA()(),t.YNc(19,sa,9,4,"div",26),t.YNc(20,ra,10,4,"div",26),t.TgZ(21,"div",20)(22,"p",21),t.O4$(),t.TgZ(23,"svg",27),t._UZ(24,"circle",23)(25,"line",28)(26,"line",29),t.qZA(),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(29,"p",30),t._uU(30),t.qZA()()(),t.TgZ(31,"div",31),t.YNc(32,ca,15,15,"ng-container",9),t.YNc(33,da,5,6,"ng-template",null,32,t.W1O),t.qZA()),2&n){const e=t.MAs(34),o=t.oxw(2);let a;t.xp6(2),t.Oqu(t.lcZ(3,13,"lang_auto_bai_lam_cua_ban_da_duoc_gui_di")),t.xp6(2),t.Q6J("ngIf",2!=(null==o.examObj?null:o.examObj.whenShowResult)),t.xp6(1),t.Q6J("ngIf",2==(null==o.examObj?null:o.examObj.whenShowResult)),t.xp6(2),t.hij(" ",null==o.examObj?null:o.examObj.name," "),t.xp6(2),t.Q6J("ngIf",(null==o.studentObj?null:o.studentObj.fullName)||(null==o.userObj?null:o.userObj.fullName)),t.xp6(6),t.hij(" ",t.lcZ(16,15,"lang_auto_thoi_gian_lam_bai")," "),t.xp6(3),t.hij(" ",o.timeTested," "),t.xp6(1),t.Q6J("ngIf",null!=(null==o.examResultObj?null:o.examResultObj.rightAnswer)),t.xp6(1),t.Q6J("ngIf",(null==o.examResultObj||null==o.examResultObj.examResultStatisticObj||null==o.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:o.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalTrueFalseQuestion)&&2!=(null==o.examObj?null:o.examObj.whenShowResult)),t.xp6(7),t.hij(" ",t.lcZ(28,17,"lang_auto_so_cau_hoi")," "),t.xp6(3),t.hij(" ",null!==(a=null==o.examResultObj?null:o.examResultObj.totalQuestion)&&void 0!==a?a:0," "),t.xp6(2),t.Q6J("ngIf",1==o.examConfigObj.allowTestingEachQuestion)("ngIfElse",e)}}const fa=function(n){return{"max-width":n}};function ha(n,i){if(1&n&&(t.TgZ(0,"div",4)(1,"div",5),t._UZ(2,"div",6),t.TgZ(3,"div",7)(4,"div",8),t.YNc(5,Bi,5,3,"div",9),t.YNc(6,ga,35,19,"ng-template",null,10,t.W1O),t.qZA(),t.TgZ(8,"div",11),t._UZ(9,"azt-practice-box",12),t.qZA()()()()),2&n){const e=t.MAs(7),o=t.oxw();t.xp6(4),t.Q6J("ngStyle",t.VKq(5,fa,0!==o.suggestPractice.length||o.checkMobileScreen?"100%":"650px")),t.xp6(1),t.Q6J("ngIf",""!=o.statusObj.errorMessage)("ngIfElse",e),t.xp6(4),t.Q6J("resultId",o.resultId)("webPage","STUDENT_SUBMIT_TEST")}}let xa=(()=>{class n extends T.Q{showStudentSkillStatisticDialog(){if(this.examObj?.schoolSubjectId&&(10==this.examObj?.schoolLevelId||11==this.examObj?.schoolLevelId||32==this.examObj?.schoolSubjectId&&12==this.examObj?.schoolLevelId)){let e={subjectId:this.examObj?.schoolSubjectId,levelId:this.examObj?.schoolLevelId,userId:Number(this.userObj?.id??"0")};this.sAztDialogService.open(ce.C,{width:"100vw",data:e,restoreFocus:!1})}else this.sAztDialogService.open(le,{width:"100vw",data:{examSchoolSubjectId:this.examObj?.schoolSubjectId??0},restoreFocus:!1})}redirectToAnswerTest(){this.commonService.myNavigationWithQueryString("/test/answer-test/"+this.tenantId+"/"+this.curCategoryId+"/"+this.hashId+"/"+this.resultId,"?backto="+encodeURIComponent(this.returnLink))}redirectToTakeTraining(){this.commonService.myNavigationWithQueryString(null!=this.curCategoryId?"/test/take-training/"+this.tenantId+"/"+this.curCategoryId+"/"+this.hashId:"/test/take-training/"+this.tenantId+"/0/"+this.hashId,"?backto="+encodeURIComponent(this.backToLink))}getExamResult(){this.initStatusObj(),this.waitDestroy(this.frontExamResultService.apiFrontExamResultGetObjGet(this.hashId,this.resultId).subscribe(e=>{if(1==e.success){this.hasErrorMessage=e.message?e.message:"",this.examObj=e.data?.examObj,this.examResultObj=e.data?.examResultObj,this.studentObj=e.data?.studentObj,this.examConfigObj=e.data?.examConfigObj??{};var o=new Date(e.data?.examResultObj?.startedTest??""),a=new Date(e.data?.examResultObj?.createdAt??"");this.timeTested=this.timeService.calculationTimeExamTested(o,a);let s="";this.commonService.getTranslate("lang_auto_nop_bai").subscribe(r=>{s=r}),this.commonService.translateMetaData({title:s+": "+this.examObj?.name,description:this.examObj?.name}),this.getSuggestExam()}else this.errorStatusObj(e.message??"",!0)}))}getSuggestExam(){this.waitDestroy(this.practiceService.apiPracticeSuggestGet(this.resultId).subscribe(e=>{1==e.success?(this.suggestPractice=e.data?.objs??[],this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,L.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString();this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id")),this.curCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.resultId=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),this.hashId=e||"",this.userObj=this.userService.getUserObj(),this.getExamResult()})),this.backToLink=`/de-thi/${this.hashId}`,this.returnLink=`/test/submit-test/${this.tenantId}/${this.curCategoryId}/${this.hashId}/${this.resultId}`,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??"",super.ngOnInit(),this.checkMobileScreen=!this.commonService.compareDeviceScreen(768)}constructor(e,o,a,s,r,c){super(),this.sAztDialogService=e,this.activeRoute=o,this.frontExamResultService=a,this.timeService=s,this.userService=r,this.practiceService=c,this.backToLink="",this.paramBackToLink="",this.returnLink="",this.hashId="",this.curCategoryId=0,this.resultId=0,this.tenantId=0,this.examConfigObj={},this.seconds="",this.minutes="",this.hours="",this.days="",this.hasErrorMessage="",this.timeTested="",this.checkMobileScreen=!1,this.isShowStudentSkillStatistic=!0,this.suggestPractice=[]}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(bt.C),t.Y36(m.gz),t.Y36(I.CA),t.Y36(gt.D),t.Y36(ct.U),t.Y36(Ni.ik))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-submit-test"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y","mt-8"],[1,"grid","grid-cols-12","gap-5"],[1,"md:col-span-2"],[1,"col-span-12","md:col-span-8"],[1,"box","mx-auto","mt-5",3,"ngStyle"],[4,"ngIf","ngIfElse"],["notError",""],[1,"mt-5","mx-auto"],[3,"resultId","webPage"],[1,"alert","alert-danger"],[2,"text-align","center","padding-top","30px"],[1,"text-lg","font-bold"],["class","text-center border-b border-slate-200/60 dark:border-darkmode-400 p-5",4,"ngIf"],[1,"text-md","font-medium","text-center","mt-3","px-5"],[1,"azt-info-exam","mt-5","px-5"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center","mt-3"],[1,"text-md","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"text-md","font-medium","ml-auto"],["class","flex items-center mt-3",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-slate-500"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"text-md","text-slate-500","font-medium","ml-auto"],[1,"p-5"],["testingFlow",""],[1,"text-center","border-b","border-slate-200/60","dark:border-darkmode-400","p-5"],[4,"ngIf"],["class","font-medium text-lg text-danger",4,"ngIf"],[1,"font-medium","text-md","mr-2"],["class","font-medium text-lg","style","font-size: 25px",4,"ngIf"],[1,"font-medium","text-lg",2,"font-size","25px"],["class","font-medium text-md mr-2",4,"ngIf"],["class","font-medium text-lg",4,"ngIf"],[1,"font-medium","text-lg"],[1,"font-medium","text-lg","text-danger"],[1,"flex","items-center"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-success"],["d","M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"],["d","m9 12 2 2 4-4"],[1,"text-md","font-medium","text-success","ml-auto"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-danger"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],[1,"text-md","font-medium","text-danger","ml-auto"],[1,"grid","grid-cols-12","gap-3"],["class","col-span-12 md:col-span-4",4,"ngIf"],[1,"col-span-12",3,"ngClass"],["azt-track-service","submit-test-ikX9fXn-mw",1,"btn","btn-outline-pending","w-full",3,"click"],[1,"w-4","h-4","ml-2"],["name","clipboard-edit"],["azt-track-service","submit-test-ikX9fXn-mw",1,"btn","btn-outline-primary","w-full",3,"click"],["name","chevron-right"],[1,"col-span-12","md:col-span-4"],["azt-track-service","submit-test-ITr-NliUJ",1,"btn","btn-success-soft","w-full",3,"click"],["class","col-span-12 md:col-span-6",4,"ngIf"],["azt-track-service","submit-test-ikX9fXn-mw","class","btn btn-outline-primary w-full",3,"click",4,"ngIf"],["class","btn btn-outline-primary w-full",3,"disabled",4,"ngIf"],[1,"col-span-12","md:col-span-6"],["azt-track-service","submit-test-hLGhKp2-Fl",1,"btn","btn-success-soft","w-full",3,"click"],[1,"btn","btn-outline-primary","w-full",3,"disabled"]],template:function(e,o){if(1&e&&(t.TgZ(0,"student-layout",0),t.YNc(1,Ji,1,1,"azt-loading-effect",1),t.YNc(2,ha,10,7,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.Q6J("headerBackToLink",o.backToLink),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[_.mk,_.O5,_.PC,E.l,ie.O,lt.L,k.Nh5,p.JV,p.GU,p.iP,p.J_],encapsulation:2}),n})();var wt=l(78645),St=l(91687),vt=l(59773),Ta=l(86874),M=function(n){return n.LIST_QUESTION="LIST_QUESTION",n.STEP_QUESTION="STEP_QUESTION",n.TRAINING_QUESTION="TRAINING_QUESTION",n.GROUP_QUESTION="GROUP_QUESTION",n}(M||{}),pe=l(88489),me=l(47394),ba=l(32965),de=l(68479);let wa=(()=>{class n{constructor(e,o,a,s,r){this.commonService=e,this.cdnService=o,this.trackJsExceptionService=a,this.answerTypeService=s,this.userService=r,this.labelsImg=new Image,this.questionLabelMap=[],this.abcdLabelPos={},this.subscription=new me.w0}cancelSubscription(){this.subscription.unsubscribe()}makeRetry(e,o,a,s,r,c,u,d){e.crossOrigin="anonymous",e.setAttribute("totalRetry","0"),e.onerror=()=>{let v=parseInt(e.getAttribute("totalRetry")||"0");if(v++,v<=o)setTimeout(()=>{if(v>Math.floor(o/2))e.src=this.cdnService.getMyCdn(e.src);else{let Y=e.src.split("?")[0];e.src=Y+"?t="+Date.now()}e.setAttribute("totalRetry",v.toString())},a);else{var nt=0,J=this.userService.getUserObj();J&&J.id&&(nt=J.id);let Y=document.URL.split("?")[0].split("/"),W={userId:nt,trackKey:"V2_ERR_DISPLAY",name:"Track l\u1ed7i kh\xf4ng hi\u1ec3n th\u1ecb c\xe2u h\u1ecfi v2",userAgent:navigator.userAgent,url:document.URL,content:e.src,error:Y[Y.length-1]};if(this.subscription.add(this.trackJsExceptionService.apiTrackJsExceptionSaveObjPost(W).subscribe(()=>{console.log("Track l\u1ed7i th\xe0nh c\xf4ng!")})),(s||0===s)&&r&&c&&u){u[s].mixDataImg=this.cdnService.convertCdnLinkOfGitHub("svgs/Img_dat-01.svg");let K=document.getElementById("questionPlaceholder_"+s);K?.setAttribute("loadSuccess","0");let V=document.getElementById("media_content_all_"+u[s].id);V?.setAttribute("loadSuccess","0");const ot=$=>{"0"===$?.getAttribute("loadSuccess")&&(d?this.prepareImageForOtherTypes(c,s,u):this.prepareImageToDrawForType1(r,c,s,u))};V?V.onclick=()=>{ot(V)}:K&&(K.onclick=()=>{ot(K)})}}}}prepareImageToDrawForType1(e,o,a,s){if(o.metaData&&o.metaData.question){let r=1+e.length,c=0,u=new Image;u.crossOrigin="anonymous",u.onload=()=>{c++,c==r&&this.drawEachQuestion(e,o,a,u,d,s)},this.makeRetry(u,3,1e3,a,e,o,s),u.src=this.cdnService.getMyCdn(o.metaData.question.url||"");let d=[];for(let v=0;v<e.length;v++)d[v]=new Image,d[v].crossOrigin="anonymous",d[v].onload=()=>{c++,c==r&&this.drawEachQuestion(e,o,a,u,d,s)},this.makeRetry(d[v],3,1e3,a,e,o,s),d[v].src=this.cdnService.getMyCdn(e[v].content)}}prepareImageForOtherTypes(e,o,a){if(e.metaData&&e.metaData.question){let s=document.createElement("canvas");s.width=e.metaData.question.width+10,s.height=e.metaData.question.height;let r=s.getContext("2d"),c=new Image;c.crossOrigin="anonymous";const u=e.metaData.question.remove.x,d=e.metaData.question.remove.y;c.onload=()=>{r?.drawImage(c,10,0),r?.drawImage(this.labelsImg,this.questionLabelMap[o].left,this.questionLabelMap[o].top,this.questionLabelMap[o].width,this.questionLabelMap[o].height,u,d,this.questionLabelMap[o].width,this.questionLabelMap[o].height),a[o].mixDataImg=s.toDataURL("image/png")},this.makeRetry(c,3,1e3,void 0,void 0,void 0,void 0,"others"),c.src=this.cdnService.getMyCdn(e.metaData.question.url||"")}}drawEachQuestion(e,o,a,s,r,c){if(o.metaData&&o.metaData.answers&&o.metaData.question){let u=document.createElement("canvas");u.width=o.metaData.question.width+15,u.height=o.metaData.question.height;let d=u.getContext("2d");d?.drawImage(s,15,0),d?.drawImage(this.labelsImg,this.questionLabelMap[a].left,this.questionLabelMap[a].top,this.questionLabelMap[a].width,this.questionLabelMap[a].height,o.metaData.question.remove.x,o.metaData.question.remove.y,this.questionLabelMap[a].width,this.questionLabelMap[a].height);let v=r[0],nt=0,J=0,Y=0,W=o.metaData.answers[0].x,K=o.metaData.answers[0].y;nt=W,J=W+v.width,Y=W+v.width;let V=r[0].height-o.metaData.answers[0].height;d?.drawImage(v,W,K);let ot=e[0].alpha?e[0].alpha:e[0].key,$=0;if(e[0].alpha){let w=e[0].key;for(let Z=0;Z<e.length;Z++)if(w==e[Z].alpha){$=Z;break}}let ut={left:void 0!==o.metaData.answers[$].remove.xAns?W+(o.metaData.answers[$].remove.xAns||0):o.metaData.answers[0].remove.x,top:void 0!==o.metaData.answers[$].remove.yAns?K+(o.metaData.answers[$].remove.yAns||0):o.metaData.answers[0].remove.y,width:o.metaData.answers[0].remove.width,height:o.metaData.answers[0].remove.height};this.abcdLabelPos&&this.abcdLabelPos.hasOwnProperty(ot)&&d?.drawImage(this.labelsImg,this.abcdLabelPos[ot].left,this.abcdLabelPos[ot].top,o.metaData.answers[0].remove.width,o.metaData.answers[0].remove.height,ut.left,ut.top,ut.width,ut.height),c[a].answerLabelsMockup[`label-${e[0].alpha?e[0].alpha:e[0].key}`]=ut;for(let w=1;w<e.length;w++){let Z=o.metaData.answers[w].x,it=o.metaData.answers[w].y;if(nt+30<Z){let B=[Y,J];Z<Math.max(...B)&&(Z=Math.max(...B),Z+r[w].width>u.width&&(Z-=Z+r[w].width-u.width),o.metaData.answers[w].remove.x=Z),J+=r[w].width}else if(J=nt+r[w].width,it+=V,V+=r[w].height-o.metaData.answers[w].height,it+r[w].height>u.height){let B=it+r[w].height-u.height;it-=B,o.metaData.answers[w].remove.y-=B}d?.drawImage(r[w],Z,it);let pt=w,Wt=e[w].alpha?e[w].alpha:e[w].key;if(e[w].alpha){let B=e[w].key;for(let X=0;X<e.length;X++)if(B==e[X].alpha){pt=X;break}}let mt={left:void 0!==o.metaData.answers[pt].remove.xAns?Z+(o.metaData.answers[pt].remove.xAns||0):o.metaData.answers[w].remove.x,top:void 0!==o.metaData.answers[pt].remove.yAns?it+(o.metaData.answers[pt].remove.yAns||0):o.metaData.answers[w].remove.y,width:o.metaData.answers[w].remove.width,height:o.metaData.answers[w].remove.height};this.abcdLabelPos&&this.abcdLabelPos.hasOwnProperty(Wt||"a")&&d?.drawImage(this.labelsImg,this.abcdLabelPos[Wt||"a"].left,this.abcdLabelPos[Wt||"b"].top,o.metaData.answers[w].remove.width,o.metaData.answers[w].remove.height,mt.left,mt.top,mt.width,mt.height),c[a].answerLabelsMockup[`label-${e[w].alpha?e[w].alpha:e[w].key}`]=mt,w==e.length-1&&(c[a].mixDataImg=u.toDataURL("image/png"),document.getElementById("media_content_all_"+c[a].id)?.setAttribute("loadSuccess","1"),document.getElementById("questionPlaceholder_"+a)?.setAttribute("loadSuccess","1"))}}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(U.z),t.LFG(ba.E),t.LFG(de.$s),t.LFG(qt.i),t.LFG(ct.U))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ge=l(51385),fe=l(18699),he=l(19662),Sa=l(21857),x=function(n){return n[n.INIT=0]="INIT",n[n.LOGIN_DIALOG=1]="LOGIN_DIALOG",n[n.PAYMENT_DIALOG=2]="PAYMENT_DIALOG",n[n.INFO_REQUIRED_DIALOG=3]="INFO_REQUIRED_DIALOG",n[n.WAIT_TO_TEST_TIME=4]="WAIT_TO_TEST_TIME",n[n.CHOOSE_STUDENT=5]="CHOOSE_STUDENT",n[n.SEQUENCE_STEP=6]="SEQUENCE_STEP",n[n.SHOW_ESSAY_WARNING_DIALOG=7]="SHOW_ESSAY_WARNING_DIALOG",n[n.SHOW_FULL_SCREEN=8]="SHOW_FULL_SCREEN",n[n.SHOW_VIDEO_REQUIRED=9]="SHOW_VIDEO_REQUIRED",n[n.RUN_OUT_OF_TIME_AFTER_TEST=10]="RUN_OUT_OF_TIME_AFTER_TEST",n[n.RUN_OUT_OF_TIME_WHEN_F5=11]="RUN_OUT_OF_TIME_WHEN_F5",n[n.START_TEST=12]="START_TEST",n[n.SHOW_ERROR_MESSAGE=13]="SHOW_ERROR_MESSAGE",n}(x||{});class H{constructor(){this.customDocument={...document}}showFullScreen(){try{const i=document.documentElement;let e=i.requestFullscreen||i.webkitRequestFullscreen||i.mozRequestFullscreen||i.msRequestFullscreen;e&&e.call(i)}catch{}}exitFullscreen(){try{const i=document;if(window.innerHeight==screen.height){let e=i.exitFullscreen||i.webkitExitFullscreen||i.msExitFullscreen;e&&e.call(i)}}catch{}}checkFullScreen(){switch(this.detectBrowserName()){case"chrome":case"firefox":return document.fullscreenElement;default:return this.customDocument.webkitFullscreenElement}}detectBrowserName(){const i=navigator.userAgent.toLowerCase();return i.match(/chrome|chromium|crios/i)?"chrome":i.match(/firefox|fxios/i)?"firefox":i.match(/safari/i)?"safari":i.match(/opr\//i)?"opera":i.match(/edg/i)?"edge":"other"}}let kt=(()=>{class n{constructor(){this.allowTrackVisible=!0,this.allowTrackFullScreen=!0,this._isSendingToApi=!1}reset(){this.allowTrackVisible=!0,this.allowTrackFullScreen=!0}isAllowTrackVisible(){return this.allowTrackVisible}setAllowTrackVisibleStatus(e){this.allowTrackVisible=e}isAllowTrackFullScreen(){return this.allowTrackFullScreen}setAllowTrackFullScreenStatus(e){this.allowTrackFullScreen=e}setSendingToApiStatus(e){this._isSendingToApi=e}isSendingToApi(){return this._isSendingToApi}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class j{getPassword(){return this.browserStorageService.getSimpleStorage(this.PASSWORD_LOCAL_STORAGE_KEY+this.examHashId)}savePassword(i){null==i||""==i||this.browserStorageService.saveSimpleStorage(this.PASSWORD_LOCAL_STORAGE_KEY+this.examHashId,i)}removePassword(){this.browserStorageService.removeSimpleStorage(this.PASSWORD_LOCAL_STORAGE_KEY+this.examHashId)}hasInfo(){return null!=this.browserStorageService.getSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId)}getInfo(){return this.browserStorageService.getSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId)}saveInfo(i){null==i||""==i||this.browserStorageService.saveSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId,i)}removeInfo(){this.browserStorageService.removeSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId)}constructor(i,e){this.examHashId=i,this.browserStorageService=e,this.PASSWORD_LOCAL_STORAGE_KEY="password_",this.USER_INFO_LOCAL_STORAGE_KEY="userInfoV3_"}}class Rt{sendAudioForQuestion(i,e){if(!i.termExamResultId)return i;var o=i.viewQuestionObjs;let a=o.find(s=>s.id==e.obj?.id);return a&&(1==e.play?a.limitPlay=(a.limitPlay??0)+1:(a.limitPlay=(a.limitPlay??0)-1,a.limitAudio=(a.limitAudio??0)+1,a.audioLimitObjs?.map(s=>s.status=s.index!=e.index&&s.status)),this.saveAudioLimitStorage(i.examObj,i.termExamResultId,o),i.viewQuestionObjs=o),i}addAudioInfoToQuestionObjs(i,e){return e.forEach(o=>{if(o.attachments.length<=0)return;o.audioLimitObjs=[];let a=(i.limitAudio??0)-(o.limitAudio??0);for(var s=0;s<a;s++)o.audioLimitObjs.push({index:s,status:!0})}),e}saveAudioLimitStorage(i,e,o){let a=o.filter(s=>s.attachments.length>0).map(s=>({questionId:s.id,limitTimes:s.limitAudio,limitPlay:s.limitPlay}));a.length>0&&this.browserStorageService.saveSimpleStorage("limitAudioV6_"+i.id+"_"+e,JSON.stringify(a))}getLimitAudioFromLocalStorage(i,e){return this.commonService.myParseJson(this.browserStorageService.getSimpleStorage("limitAudioV6_"+i.id+"_"+e)??"")??[]}constructor(i,e){this.commonService=i,this.browserStorageService=e}}class va{getQuestionThatCanFeedbackFromApi(i,e){let o=i.viewQuestionObjs,a=this.commonService.uniqueArray(o.map(s=>s.id)??[]);this.waitDestroy(this.testMarketFeedbackService.apiTestMarketFeedbacksQuestionsGet(i.examObj.id,a.join(",")).subscribe(s=>s.success?(s.data?.objs?.forEach(r=>{let c=o.find(u=>u.id==r.questionId);c&&(c.enableFeedback=r.allowFeedback)}),e(void 0,o)):e(s.message,[])))}getDataSyncFromApi(i,e){this.waitDestroy(this.testLogExamResultAnswerService.listExamResultAnswers(i.termExamResultId??0).subscribe(o=>{if(!o.success)return e(void 0);let a={version:o.version??"",code:o.code??0,success:o.success??0,data:{content:o.data?.content??"",typeHash:0,keyHash:""},detailMessage:"",message:o.message??""},r=this.encryptionHelper.result(a)?.data??{answers:[],files:"",infors:"",updatedAt:o?.data?.updated_at??"",resultTrack:""};e(r)}))}setSyncDataFromApi(i,e,o){let a=this.sAztTestResultTrackService.getStudentAnswerFromLocalStorage(o.examObj,i.termExamResultId??0);return e&&e.updatedAt?(o.resultTracks=this.commonService.myParseJson(this.zipDataService.decodeContentGzip(e.resultTrack??""))??[],a?new Date(e.updatedAt).getTime()<a.saveTime?(o.answerList=a.answers??new Array,o.files=this.commonService.myParseJson(a.files)??[],o.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(o.viewQuestionObjs,o.answerList)):(o.answerList=e.answers??new Array,o.files=this.commonService.myParseJson(e.files)??[],o.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(o.viewQuestionObjs,o.answerList)):(o.answerList=e.answers??new Array,o.files=this.commonService.myParseJson(e.files??"")??[],o.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(o.viewQuestionObjs,o.answerList))):a&&(o.answerList=a.answers??[],o.files=this.commonService.myParseJson(a.files)??[],o.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(o.viewQuestionObjs,o.answerList)),o}saveAnswerAndTrackInfoToApi(i){var e=this.commonService.myClone(i.resultTracks);try{let o={answers:i.answerList,files:JSON.stringify(i.files),infors:new j(i?.examObj.hashId??"",this.browserStorageService).getInfo()??"",resultTrack:this.zipDataService.convertContentGzip(JSON.stringify(e)),updatedAt:""},a=this.encryptionHelper.payload(o);this.testLogExamResultAnswerService.answerExamResult(a,i.termExamResultId??0).subscribe(s=>{})}catch{}}getSyncQuestionDataFromApi(i,e,o,a,s){if(a.hasAlreadyGenerateQuestion)return s(a);this.getDataSyncFromApi(a,r=>{this.getQuestionThatCanFeedbackFromApi(a,(c,u)=>{this.sAztTestQuestionService.generateQuestionView(i,e,o,a.viewQuestionObjs,d=>{if(c||(a.viewQuestionObjs=u),r&&(a=this.setSyncDataFromApi(a,r,a)),!d)return s(a);a.viewQuestionObjs=d,a.hasAlreadyGenerateQuestion=!0,s(a)})})})}getHistoryAnswerOfTrainingFromApi(i,e){null!=i.trainingAnswerQuestions&&e(void 0,i.trainingAnswerQuestions),this.waitDestroy(this.frontExamService.apiFrontExamReloadExamResultGet(i.examObj.hashId??"").subscribe(o=>{if(!o.success)return e(o.message,[]);const s=this.encryptionHelper.result(o)?.data?.questions??[];return e(void 0,s)}))}updateEssayFilesToApi(i){return new Promise(e=>{let o={hashCode:i.uploadHashCode,files:JSON.stringify(i.files)};this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost(o).subscribe(a=>{a.success&&e(!0)})})}getImagesThatUploadAtMobileQrCodeFromApi(i,e){if(!i)return e(void 0);this.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(i).subscribe(o=>{if(!o.success)return e(void 0);let a=this.commonService.myParseJson(o.data?.tmpObj?.files??"")??[];return e(a)})}destroyAll(){this.subscriptions.unsubscribe()}waitDestroy(i){this.subscriptions.add(i)}constructor(i,e,o,a,s,r,c,u,d,v){this.commonService=i,this.zipDataService=e,this.browserStorageService=o,this.testMarketFeedbackService=a,this.encryptionHelper=s,this.testLogExamResultAnswerService=r,this.sAztTestQuestionService=c,this.sAztTestResultTrackService=u,this.frontExamResultUploadService=d,this.frontExamService=v,this.subscriptions=new me.w0}}class xe{checkByWidth(){return window.innerWidth<1200}}class Te{makeDeviceId(i=10){for(var e="",s=0;s<i;s++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}getDeviceId(){var i=this.browserStorageService.getSimpleStorage("device_session");return this.deviceId=i||this.makeDeviceId(20),this.browserStorageService.saveSimpleStorage("device_session",this.deviceId),this.deviceId}constructor(i){this.browserStorageService=i,this.deviceId=""}}class ka{init(i){if(null!=i.nextBackQuestionModel||i.viewQuestionObjs.length<=0)return i;let e=this.commonService.getFirstOfArray(i.viewQuestionObjs);if(null==e)return i;let o={curQuestionIndex:e.index??0,curQuestionObj:e,isLastQuestion:this.commonService.getLastOfArray(i.viewQuestionObjs)?.id==e.id};return i.nextBackQuestionModel=o,i}nextTo(i,e){if(null==(i=this.init(i)).nextBackQuestionModel)return i;let a=this.commonService.getItemAtIndexOfArray(i.viewQuestionObjs,(e.index??0)+1);return null==a||(i.nextBackQuestionModel.curQuestionIndex=a.index??0,i.nextBackQuestionModel.curQuestionObj=a,i.nextBackQuestionModel.isLastQuestion=this.commonService.getLastOfArray(i.viewQuestionObjs)?.id==a.id),i}backTo(i,e){if(null==(i=this.init(i)).nextBackQuestionModel)return i;let a=this.commonService.getItemAtIndexOfArray(i.viewQuestionObjs,(e.index??0)-1);return null==a||(i.nextBackQuestionModel.curQuestionIndex=a.index??0,i.nextBackQuestionModel.curQuestionObj=a,i.nextBackQuestionModel.isLastQuestion=this.commonService.getLastOfArray(i.viewQuestionObjs)?.id==a.id),i}goTo(i,e){if(null==(i=this.init(i)).nextBackQuestionModel)return i;let o=i.viewQuestionObjs.find(a=>a.id==e.id);return null==o||(i.nextBackQuestionModel.curQuestionIndex=o.index??0,i.nextBackQuestionModel.curQuestionObj=o,i.nextBackQuestionModel.isLastQuestion=this.commonService.getLastOfArray(i.viewQuestionObjs)?.id==o.id),i}scrollTo(i){var e=document.getElementById("question_all_"+i.id);e?.scrollIntoView()}constructor(i){this.commonService=i}}class Aa{takeAnswerForQuestion(i,e){return e.forEach(o=>{i.forEach(a=>{if(a.questionId==o.id)if(this.answerTypeService.isFillAnswer(o)||this.answerTypeService.isEssayAnswer(o))o.choseAnswer=[a.answerContent[0].content];else if((this.answerTypeService.isOneChoiceAnswer(o)||this.answerTypeService.isMultipleChoiceAnswer(o))&&o.answers)o.choseAnswer=[(o.answers[s=a.answerContent[0].index].alpha?o.answers[s].alpha:o.answers[s].key)??""];else if(this.answerTypeService.isTrueFalseAnswer(o)){var s=a.answerContent[0].index;let c=this.commonService.myTranslateInstant("T"==a.answerContent[0].status?"lang_auto_dung":"lang_auto_sai");o.choseAnswer?.push((o.answers[s].alpha?o.answers[s].alpha:o.answers[s].key)?.toLowerCase()+") - "+(c??""))}})}),e}reBindDataQuestion(i,e){var o=[];return i.forEach(a=>{e.forEach(s=>{if(s.questionId==a.id){if(this.answerTypeService.isEssayAnswer(a))(r=s.answerContent&&s.answerContent.length>0?s.answerContent[0].content:"")&&(a.essayText=r);else if(this.answerTypeService.isFillAnswer(a)){var r;(r=s.answerContent&&s.answerContent.length>0?s.answerContent[0].content:"")&&(a.essayText=r)}else for(var c of a.answers)if(this.answerTypeService.isTrueFalseAnswer(a))c.checked=this.compareTrueFalseQuestionContent(c,s.answerContent);else{if(this.compareContent(c,s.answerContent&&s.answerContent.length>0?s.answerContent[0]:{index:0,content:""})){c.checked=!0;break}c.checked=!1}a.status=!0}}),o.push(a)}),o}getEssayQuestionIds(i){return i.filter(e=>this.answerTypeService.isEssayAnswer(e)).map(e=>e.id)}changeQuestionContent(i,e,o){var a=[],s=new Rt(this.commonService,this.browserStorageService).getLimitAudioFromLocalStorage(i,e);return o.forEach((r,c)=>{if(r.essayText=this.answerTypeService.isEssayAnswer(r)?"":r.essayText,r.essayText=this.answerTypeService.isFillAnswer(r)?"":r.essayText,i.limitAudio)if(s.length>0){var u=s.find(d=>d.questionId==r.id);u&&null!=u.limitTimes&&null!=u.limitPlay&&(r.limitAudio=u.limitTimes+u.limitPlay,r.limitPlay=0)}else r.attachments.length>0&&(r.limitAudio=0,r.limitPlay=0);r={...r,index:c,status:!1},a.push(r)}),i.limitAudio?new Rt(this.commonService,this.browserStorageService).addAudioInfoToQuestionObjs(i,a):a}setShowHint(i,e){let o=i.viewQuestionObjs.find(a=>a.id==e);return o&&(o.isShowHint=!0),i}setQuestionTrueFalseAnswer(i,e){let o=i.examObj,a=i.viewQuestionObjs,s=i.answerList,r=s.find(d=>d.questionId==e.questionId),c={index:e.answerIndex,content:e.answerConfig.key,status:e.answerConfig.status},u={questionId:e.questionId,answerContent:[c]};if(r){let d=r.answerContent.find(v=>v.index==c.index&&v.content==c.content);d?d.status=c.status:r.answerContent.push(c)}else s.push(u);return a=this.changeStatusOfTrueFalseAnswer(o,a,e),a=this.changeStatusOfQuestion(a,e.questionId,!0),i.viewQuestionObjs=a,i.answerList=s,i}setQuestionOneChoiceAnswer(i,e){let o=i.examObj,a=i.viewQuestionObjs,s=i.answerList,r=s.find(u=>u.questionId==e.questionId);var c={questionId:e.questionId,answerContent:[{index:e.answerIndex,content:e.answerConfig.key}]};return r?r.answerContent=c.answerContent:s.push(c),a=this.changeStatusOfOneChoiceAnswer(o,a,e),a=this.changeStatusOfQuestion(a,e.questionId,!0),i.viewQuestionObjs=a,i.answerList=s,i}setQuestionFillAnswer(i,e){return this.setQuestionEssayAnswer(i,{questionId:e.questionId,value:e.value})}setQuestionEssayAnswer(i,e){let o=i.answerList.find(r=>r.questionId==e.questionId),a=""==e.value.trim(),s={questionId:e.questionId,answerContent:[{index:0,content:e.value}]};return i.viewQuestionObjs=this.changeEssayTextQuestion(i.viewQuestionObjs,e.questionId,e.value),i.viewQuestionObjs=this.changeStatusOfQuestion(i.viewQuestionObjs,e.questionId,!a),o?a?(i.answerList=i.answerList.filter(r=>r.questionId!=e.questionId),i):(o.answerContent=s.answerContent,i):(i.answerList.push(s),i)}changeEssayTextQuestion(i,e,o){let a=i.find(s=>s.id==e);return a&&(a.essayText=o),i}changeStatusOfQuestion(i,e,o){let a=i.find(s=>s.id==e);return a&&(a.status=o),i}changeStatusOfOneChoiceAnswer(i,e,o){let a=e.find(c=>c.id==o.questionId);if(!a||!a.answers.length||(a.answers.map((c,u)=>c.checked=u==o.answerIndex),!this.commonService.isMobileOrTable()))return e;let s=this.commonService.myTranslateInstant("lang_auto_cau"),r=this.commonService.myTranslateInstant("lang_auto_chon");return this.commonService.snackChoiceAnswer(s+" "+((a.index??0)+(i.startQuestionIndex??1))+" - "+r+" "+(o.answerConfig.alpha?o.answerConfig.alpha:o.answerConfig.key)),e}changeStatusOfTrueFalseAnswer(i,e,o){let a=e.find(v=>v.id==o.questionId);if(!a||!a.answers.length)return e;let s="T"==o.answerConfig?.status;if(a.answers[o.answerIndex].checked=a.answers[o.answerIndex].checked!=s?s:void 0,!this.commonService.isMobileOrTable())return e;let r=this.commonService.myTranslateInstant("lang_auto_cau"),c=this.commonService.myTranslateInstant("lang_auto_chon"),u=this.commonService.myTranslateInstant("lang_auto_dung"),d=this.commonService.myTranslateInstant("lang_auto_sai");return this.commonService.snackChoiceAnswer(r+" "+((a.index??0)+(i.startQuestionIndex??1))+" - "+c+" "+(o.answerConfig.alpha?o.answerConfig.alpha:o.answerConfig.key)+(o.answerConfig.status?" - "+("T"==o.answerConfig.status?u:d):"")),e}getAnswerOfQuestion(i,e){return i.answerList.find(o=>o.questionId==e)}checkQuestionHasAnswer(i,e){let o=i.answerList.find(a=>a.questionId==e);return!!o&&o.answerContent.length>0}resetQuestionIndex(i,e){if(!e)return i;let o=0,a=0;return i.forEach((s,r)=>{s.groupInfo?.groupId&&(o!=s.groupInfo.groupId&&(a=0),s.labelIndex=a,a++,o=s.groupInfo.groupId)}),i}generateQuestionView(i,e,o,a,s){i.startLoad=!0,e.setNumQuest(a.length),o.parseRenderQuestions(a,r=>{i.loadPercent=Math.floor(r)}).then(r=>{i.startLoad=!1,i.hasErrs=!1,s(r)}).catch(r=>{i.startLoad=!1,i.hasErrs=!0,i.errData=r,s(void 0)})}calculateNewCountDown(i){return i.isAutoSubmit=!i.isUnLimitedTime&&i.countDownSecond<=0&&i.countDownSecond>=-90,i.isActualEndTime=!i.isUnLimitedTime&&i.countDownSecond>=-300,i.autoSubmitAfterSeconds=i.isAutoSubmit?i.countDownSecond+90:void 0,i.allowUploadEssayFileWhenEndTime=i.isAutoSubmit&&i.countDownSecond>=-200,i}clearAllData(i){new j(i.examObj.hashId??"",this.browserStorageService).removeInfo(),this.browserStorageService.removeSimpleStorage("saveResultTrack_"+i.examObj.hashId+"_"+i.termExamResultId),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+i.examObj.hashId+"_"+i.termExamResultId),this.browserStorageService.removeSimpleStorage("saveDataV4_"+i.examObj.id+"_"+i.termExamResultId),this.browserStorageService.removeSimpleStorage("limitAudioV6_"+i.examObj.id+"_"+i.termExamResultId),this.localStorageObject.clearAllCache(),this.sAztFullScreenService.exitFullscreen(),this.sAztShowMonitorService.destroyMonitorAtStudentDashboard()}compareContent(i,e){return i.key==e.content}compareTrueFalseQuestionContent(i,e){let o=e.find(a=>a.content==i.key);if(o)return"T"==o.status}constructor(i,e,o,a,s){this.commonService=i,this.answerTypeService=e,this.browserStorageService=o,this.localStorageObject=a,this.sAztShowMonitorService=s,this.sAztFullScreenService=new H}}class Oa{constructor(){this.fontSize=1}changeSizeImgOrMathJax(i){let e=document.getElementsByClassName("img-docx"),o=document.getElementsByClassName("MJX-TEX");e.length&&Array.from(e).forEach(a=>{if(a instanceof HTMLElement){let s=a.offsetWidth;a.style.width=i?s+10+"px":s-10+"px",a.style.height="auto"}}),o.length&&Array.from(o).forEach(a=>{a instanceof HTMLElement&&(a.style.fontSize=this.fontSize+"em")})}zoomIn(){this.fontSize<2&&(this.fontSize+=.1,this.changeSizeImgOrMathJax(!0))}zoomOut(){this.fontSize>1&&(this.fontSize-=.1,this.changeSizeImgOrMathJax(!1))}}class Ca{saveAnswerAndTrackInfoToLocalStorage(i){if(!i.termExamResultId||!i.testingUserObj)return;let e=i.examObj,o=i.termExamResultId,a=i.answerList,s=i.files,u={autoSubmit:void 0,serverCountDown:i.countDownSecond,examMinutes:e.minutes,saveStudentId:i.testingUserObj.id,saveDeviceId:this.sAztTestDeviceIdService.getDeviceId(),deviceType:this.commonService.deviceType()},d={answers:a,notes:[],files:JSON.stringify(s),infors:new j(e.hashId??"",this.browserStorageService).getInfo()??"",trackInfos:JSON.stringify(u),saveTime:(new Date).getTime()};this.saveStudentAnswerToLocalStorage(e,o,d)}saveStudentAnswerToLocalStorage(i,e,o){this.browserStorageService.saveSimpleStorageWithRemoveOverCapacity(this.SAVE_STUDENT_ANSWER_LOCAL_STORAGE_KEY+i.id+"_"+e,JSON.stringify(this.encryptionHelper.payload(o)),[i.id.toString(),i.hashId??""])}getStudentAnswerFromLocalStorage(i,e){var o=this.commonService.myParseJson(this.browserStorageService.getSimpleStorage("saveDataV4_"+i.id+"_"+e)??"");return this.encryptionHelper.result({success:1,version:"",code:1,detailMessage:"",message:"",data:o})?.data}removeStudentAnswerInLocalStorage(i,e){this.browserStorageService.removeSimpleStorage(this.SAVE_STUDENT_ANSWER_LOCAL_STORAGE_KEY+i.id+"_"+e)}getResultTrackFromLocalStorage(i,e){let o=this.browserStorageService.getSimpleStorage(this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY+(i.hashId??"")+"_"+e);return this.commonService.myParseJson(o??"")??[]}setResultTracking(i,e){if(!i.termExamResultId)return i;let o=i.termExamResultId,a=i.examObj,s=i.resultTracks;return s.push([...e,this.timeService.getCurrentSecond().toString()]),this.browserStorageService.saveSimpleStorageWithRemoveOverCapacity(this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY+(a.hashId??"")+"_"+o,JSON.stringify(s),[a.id.toString(),a.hashId??""]),i.resultTracks=s,i}removeResultTracking(i,e){this.browserStorageService.removeSimpleStorage(this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY+i.hashId+"_"+e)}constructor(i,e,o,a){this.commonService=i,this.encryptionHelper=e,this.timeService=o,this.browserStorageService=a,this.sAztTestDeviceIdService=new Te(this.browserStorageService),this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY="saveResultTrack_",this.SAVE_STUDENT_ANSWER_LOCAL_STORAGE_KEY="saveDataV4_"}}var ya=l(7289);class At{defaultTime(i=!1){return{hour:0,minute:0,second:0,almostEnd:i,hourStr:"00",minuteStr:"00",secondStr:"00"}}parseTime(i){const e=Math.floor(i/3600),a=Math.floor(i%3600/60),s=i%60;return{hour:e,minute:a,second:s,almostEnd:0==e&&0==a,hourStr:e<10?"0"+e:e.toString(),minuteStr:a<10?"0"+a:a.toString(),secondStr:s<10?"0"+s:s.toString()}}}const Ia=function(n){return{"time-almost-end":n}};let G=(()=>{class n extends T.Q{intervalTime(){let e=this.totalSecond,o=this.timeService.getCurrentSecond();const a=new wt.x,s=(0,St.F)(1e3).pipe((0,vt.R)(a));this.waitDestroy(s.subscribe(r=>{this.timeCount=(new At).parseTime(this.totalSecond);let c=this.timeService.getCurrentSecond();this.totalSecond=e-(c-o),this.totalSecond<=0&&(a.next(!0),this.endCountDownEvent.emit(!0))}))}ngOnChanges(){this.timeCount=(new At).parseTime(this.totalSecond)}ngOnInit(){super.ngOnInit(),this.timeCount=(new At).parseTime(this.totalSecond),this.useCountDown&&this.intervalTime()}constructor(e){super(),this.timeService=e,this.endCountDownEvent=new t.vpe,this.timeCount=(new At).defaultTime()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(gt.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-testbank-frontend-count-down-box"]],inputs:{totalSecond:"totalSecond",useCountDown:"useCountDown"},outputs:{endCountDownEvent:"endCountDownEvent"},features:[t.qOj,t.TTD],decls:2,vars:6,consts:[[1,"font-medium",3,"ngClass"]],template:function(e,o){1&e&&(t.TgZ(0,"span",0),t._uU(1),t.qZA()),2&e&&(t.Q6J("ngClass",t.VKq(4,Ia,o.timeCount.almostEnd)),t.xp6(1),t.lnq("",o.timeCount.hourStr," : ",o.timeCount.minuteStr," : ",o.timeCount.secondStr,""))},dependencies:[_.mk],encapsulation:2}),n})();function za(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.lnq(" ",t.lcZ(2,3,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi"),"\xa0",t.lcZ(3,5,"lang_auto_va")," ",t.lcZ(4,7,"lang_testbank_submit_test_multiplechoice_question_left_1").toLowerCase()+e.data.totalTrueFalseLeftBlank+t.lcZ(5,9,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function Ea(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi")+". "," "))}function Za(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_submit_test_multiplechoice_question_left_1")+e.data.totalTrueFalseLeftBlank+t.lcZ(3,3,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function Qa(n,i){if(1&n&&(t.TgZ(0,"div",18)(1,"span",20)(2,"span",21),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.YNc(5,za,6,11,"span",22),t.YNc(6,Ea,3,3,"span",22),t.YNc(7,Za,4,5,"span",22),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,5,"lang_auto_canh_bao")+": "," "),t.xp6(2),t.Q6J("ngIf",e.data.notHasFiles&&e.data.totalTrueFalseLeftBlank),t.xp6(1),t.Q6J("ngIf",e.data.notHasFiles&&!e.data.totalTrueFalseLeftBlank),t.xp6(1),t.Q6J("ngIf",e.data.totalTrueFalseLeftBlank&&!e.data.notHasFiles),t.xp6(2),t.hij(" ",t.lcZ(10,7,"lang_auto_ban_co_chac_muon_ket_thuc_bai_thi")," ")}}function ja(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"h3",9),t.O4$(),t.TgZ(2,"svg",10),t._UZ(3,"path",11)(4,"polyline",12)(5,"path",13),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(8,"div",14)(9,"span",15),t._uU(10),t.ALo(11,"mytranslate"),t._UZ(12,"app-testbank-frontend-count-down-box",16),t.qZA()(),t.YNc(13,Qa,11,9,"div",17),t.TgZ(14,"div",18)(15,"p",19),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.BQk()),2&n){const e=t.oxw();t.xp6(6),t.hij(" ",t.lcZ(7,6,"lang_powerpoint_frontend_detail_dialog")+" ?"," "),t.xp6(4),t.hij(" ",t.lcZ(11,8,"lang_auto_thoi_gian_lam_bai_cua_ban_con"),": "),t.xp6(2),t.Q6J("totalSecond",e.data.countDownSecond)("useCountDown",!0),t.xp6(1),t.Q6J("ngIf",e.data.notHasFiles||e.data.totalTrueFalseLeftBlank),t.xp6(3),t.hij(" ",t.lcZ(17,10,"lang_auto_khi_xac_nhan_nop_bai_ban_se_khong_the_sua_lai_bai_thi_cua_minh_hay_dot")," ")}}function La(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.lnq(" ",t.lcZ(2,3,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi"),"\xa0",t.lcZ(3,5,"lang_auto_va")," ",t.lcZ(4,7,"lang_testbank_submit_test_multiplechoice_question_left_1").toLowerCase()+e.data.totalTrueFalseLeftBlank+t.lcZ(5,9,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function Fa(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi")+". "," "))}function Ma(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_submit_test_multiplechoice_question_left_1")+e.data.totalTrueFalseLeftBlank+t.lcZ(3,3,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function Da(n,i){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",18)(1,"span",20)(2,"span",21),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.YNc(5,La,6,11,"span",22),t.YNc(6,Fa,3,3,"span",22),t.YNc(7,Ma,4,5,"span",22),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,5,"lang_auto_canh_bao")+": "," "),t.xp6(2),t.Q6J("ngIf",e.data.notHasFiles&&e.data.totalTrueFalseLeftBlank),t.xp6(1),t.Q6J("ngIf",e.data.notHasFiles&&!e.data.totalTrueFalseLeftBlank),t.xp6(1),t.Q6J("ngIf",e.data.totalTrueFalseLeftBlank&&!e.data.notHasFiles),t.xp6(2),t.hij(" ",t.lcZ(10,7,"lang_auto_ban_co_chac_muon_ket_thuc_bai_thi")," ")}}function qa(n,i){if(1&n&&(t.TgZ(0,"h3",9),t.O4$(),t.TgZ(1,"svg",10),t._UZ(2,"path",11)(3,"polyline",12)(4,"path",13),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.YNc(7,Da,11,9,"div",17),t.kcU(),t.TgZ(8,"div",18)(9,"p",19),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()),2&n){const e=t.oxw();t.xp6(5),t.hij(" ",t.lcZ(6,3,"lang_powerpoint_frontend_detail_dialog")+" ?"," "),t.xp6(2),t.Q6J("ngIf",e.data.notHasFiles||e.data.totalTrueFalseLeftBlank),t.xp6(3),t.hij(" ",t.lcZ(11,5,"lang_auto_khi_xac_nhan_nop_bai_ban_se_khong_the_sua_lai_bai_thi_cua_minh_hay_dot")," ")}}function Ra(n,i){1&n&&(t.TgZ(0,"span",23),t._UZ(1,"azt-loading-ui"),t.qZA())}let Ua=(()=>{class n extends F.e{enableSubmitBtn(){this.data.notHasFiles?setTimeout(()=>{this.countTimeEnable>0&&(this.countTimeEnable--,this.enableSubmitBtn())},1e3):this.countTimeEnable=0}btnCloseDialog(){this.dialogRef.close(!1)}confirmFinish(){this.dialogRef.close(!0)}ngOnInit(){super.ngOnInit(),this.enableSubmitBtn()}constructor(e,o,a,s){super(s,a),this.commonService=e,this.globalService=o,this.dialogRef=a,this.countTimeEnable=5}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.z),t.Y36(ya.q),t.Y36(S.so,8),t.Y36(S.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-confirm-exam-dialog"]],features:[t.qOj],decls:14,vars:11,consts:[[1,"p-4","box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[4,"ngIf","ngIfElse"],["unlimitedTpl",""],[1,"p-3","flex","justify-end"],["azt-track-service","comfirm-exam-GwLo2uv__",1,"btn","btn-secondary","w-40","mr-2",2,"vertical-align","middle",3,"click"],["azt-track-service","comfirm-exam-x-4M3WDlkE",1,"btn","w-40","btn-primary",2,"vertical-align","middle",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-success"],["d","M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4"],["points","14 2 14 8 20 8"],["d","m3 15 2 2 4-4"],[1,"mt-5","flex","items-center"],[1,"text-md"],[3,"totalSecond","useCountDown"],["class","mt-2",4,"ngIf"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"text-danger"],[1,"font-medium"],[4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,ja,18,12,"ng-container",3),t.YNc(4,qa,12,7,"ng-template",null,4,t.W1O),t.qZA()(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){return o.btnCloseDialog()}),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return o.confirmFinish()}),t.YNc(11,Ra,2,0,"span",8),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()()),2&e){const a=t.MAs(5);t.xp6(3),t.Q6J("ngIf",!o.data.isUnLimitedTime)("ngIfElse",a),t.xp6(5),t.hij(" ",t.lcZ(9,7,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",o.countTimeEnable>0),t.xp6(1),t.Q6J("ngIf",o.countTimeEnable>0),t.xp6(1),t.AsE(" ",t.lcZ(13,9,"lang_auto_nop_bai")," ",o.countTimeEnable>0?"("+o.countTimeEnable+")":""," ")}},dependencies:[_.O5,Tt.n,G,p.JV],encapsulation:2}),n})(),Na=(()=>{class n extends F.e{closeDialog(){this.dialogRef.close()}ngOnInit(){super.ngOnInit()}constructor(e,o,a){super(a,o),this.commonService=e,this.dialogRef=o}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.z),t.Y36(S.so,8),t.Y36(S.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-essay-warning-dialog"]],features:[t.qOj],decls:20,vars:12,consts:[[1,"bg-white"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"p-3","flex","items-center"],[1,"flex","items-center","mr-auto"],["azt-track-service","check-essay-_8FjX2B80z",1,"btn","w-24","btn-primary",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"polygon",5)(6,"line",6)(7,"line",7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(10,"div",8)(11,"p",9),t._uU(12),t.ALo(13,"mytranslate"),t.ALo(14,"mytranslate"),t.qZA()()()(),t.TgZ(15,"div",10),t._UZ(16,"div",11),t.TgZ(17,"button",12),t.NdJ("click",function(){return o.closeDialog()}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(8),t.hij(" ",t.lcZ(9,4,"lang_auto_day_la_bai_thi_hon_hop_co_tu_luan_de_tra_loi_cau_hoi_tu_luan")," "),t.xp6(4),t.AsE("",t.lcZ(13,6,"lang_auto_ban_co_the_lam_truc_tiep_tren_he_thong_hoac_lam_ra_giay_chup_anh_roi_gui_qua"),' "',t.lcZ(14,8,"lang_auto_dinh_kem_tu_luan"),'"'),t.xp6(6),t.hij(" ",t.lcZ(19,10,"lang_auto_toi_da_hieu")," "))},dependencies:[p.JV],encapsulation:2}),n})();function Ja(n,i){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",12)(1,"span",13),t._uU(2),t.ALo(3,"mytranslate"),t._UZ(4,"app-testbank-frontend-count-down-box",14),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_thoi_gian_lam_bai_cua_ban_con"),": "),t.xp6(2),t.Q6J("totalSecond",e.data.countDownSecond)("useCountDown",!0)}}let Ba=(()=>{class n extends F.e{confirmQuit(){this.dialogRef.close(!0)}btnCloseDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit()}constructor(e,o,a){super(a,o),this.commonService=e,this.dialogRef=o}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.z),t.Y36(S.so,8),t.Y36(S.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-exit-exam"]],features:[t.qOj],decls:18,vars:10,consts:[[1,"p-4","box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-danger"],["d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],["class","mt-5 flex items-center",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","exit-exam-kt6CrvSrn7",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","exit-exam-HDzj9p0Z53",1,"btn","w-24","btn-primary",3,"click"],[1,"mt-5","flex","items-center"],[1,"text-md"],[3,"totalSecond","useCountDown"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"path",5)(6,"line",6)(7,"line",7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.YNc(10,Ja,5,5,"div",8),t.qZA()(),t.kcU(),t.TgZ(11,"div",9)(12,"button",10),t.NdJ("click",function(){return o.btnCloseDialog()}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"button",11),t.NdJ("click",function(){return o.confirmQuit()}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(8),t.hij(" ",t.lcZ(9,4,"lang_testbank_frontend_are_your_sure_go_back")+" ?"," "),t.xp6(2),t.Q6J("ngIf",!o.data.isUnLimitedTime),t.xp6(3),t.hij(" ",t.lcZ(14,6,"lang_auto_dong")," "),t.xp6(3),t.hij(" ",t.lcZ(17,8,"lang_auto_xac_nhan")," "))},dependencies:[_.O5,G,p.JV],encapsulation:2}),n})();var Pa=l(79998);function Ha(n,i){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",11)(1,"button",13),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToRegister())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_dang_ky")," "))}function Ga(n,i){1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",14)(1,"p",15),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_ban_da_co_tai_khoan")," "))}let Ya=(()=>{class n extends F.e{goToRegister(){this.redirectService.redirectRegisterForStudent()}goToLogin(){this.redirectService.redirectToLoginBackLinkWithFromRegister(`${this.router.url}`)}ngOnInit(){super.ngOnInit()}constructor(e,o,a,s){super(s,a),this.router=e,this.redirectService=o,this.dialogRef=a}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.F0),t.Y36(Pa.z),t.Y36(S.so,8),t.Y36(S.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login-required-dialog"]],features:[t.qOj],decls:17,vars:8,consts:[[1,"box","p-5"],[1,"border-slate-200/60","dark:border-darkmode-400","text-center"],[1,"p-5"],[1,"inline-block","mb-3"],[1,"font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],["class","mx-auto",4,"ngIf"],["class","font-medium mb-3 mt-3",4,"ngIf"],[1,"mx-auto"],["azt-track-service","submit-name-UNDqa4pBGe9",1,"btn","w-24","btn-primary",3,"click"],["azt-track-service","submit-name-DfdZNdp-7E-",1,"btn","w-24","btn-primary",3,"click"],[1,"font-medium","mb-3","mt-3"],[1,"text-xs","text-slate-500","dark:text-slate-400"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),t.O4$(),t.TgZ(5,"svg",5),t._UZ(6,"polygon",6)(7,"line",7)(8,"line",8),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()(),t.YNc(11,Ha,4,3,"div",9),t.YNc(12,Ga,4,3,"div",10),t.kcU(),t.TgZ(13,"div",11)(14,"button",12),t.NdJ("click",function(){return o.goToLogin()}),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()()()),2&e&&(t.xp6(9),t.hij(" ",t.lcZ(10,4,o.isBusinessDomain?"lang_business_ban_can_phai_dang_nhap_tai_khoan_de_lam_bai_thi":"lang_auto_ban_can_phai_dang_ky_tai_khoan_de_lam_bai_thi")," "),t.xp6(2),t.Q6J("ngIf",!o.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",!o.isBusinessDomain),t.xp6(3),t.hij(" ",t.lcZ(16,6,"lang_auto_dang_nhap")," "))},dependencies:[_.O5,p.JV],encapsulation:2}),n})(),Wa=(()=>{class n extends F.e{confirmQuit(){this.dialogRef.close(!0)}ngOnInit(){super.ngOnInit()}constructor(e,o,a){super(a,o),this.commonService=e,this.dialogRef=o}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.z),t.Y36(S.so,8),t.Y36(S.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-monitor-screen"]],features:[t.qOj],decls:19,vars:18,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mb-0","h5"],[1,"p-3","text-right","items-center"],["azt-track-service","monitoring-dialog-dvRk43CCy8",1,"btn","w-24","btn-primary",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"polygon",5)(6,"line",6)(7,"line",7),t.qZA(),t.kcU(),t.TgZ(8,"p",8),t._uU(9),t.ALo(10,"mytranslate"),t.ALo(11,"mytranslate"),t.ALo(12,"mytranslate"),t.ALo(13,"mytranslate"),t.ALo(14,"mytranslate"),t.qZA()()()(),t.TgZ(15,"div",9)(16,"button",10),t.NdJ("click",function(){return o.confirmQuit()}),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(9),t.xDo(" ",t.lcZ(10,6,"lang_auto_day_la_bai_thi_duoc"),' "',t.lcZ(11,8,"lang_auto_giam_sat"),'"',t.lcZ(12,10,"lang_auto__vui_long_bam"),' "',t.lcZ(13,12,"lang_auto_xac_nhan"),'" ',t.lcZ(14,14,"lang_auto_de_tiep_tuc_bai_thi")," "),t.xp6(8),t.hij(" ",t.lcZ(18,16,"lang_auto_xac_nhan")," "))},dependencies:[p.JV],encapsulation:2}),n})();var _t=l(91765),Ka=l(23680),Va=l(64170),$a=l(98525);const et=function(n){return{"mt-3":n}};function Xa(n,i){if(1&n&&(t.TgZ(0,"div",18)(1,"div",19)(2,"div",20),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t._UZ(5,"input",21),t.qZA(),t.TgZ(6,"div",22)(7,"i"),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw(),a=e.$implicit;t.Q6J("ngClass",t.VKq(8,et,0!==e.index)),t.xp6(3),t.hij(" ",t.lcZ(4,4,"lang_testbank_frontend_please_enter_full_name")," "),t.xp6(2),t.Q6J("formControl",a.anonymousFullNameFormControl),t.xp6(3),t.Oqu(t.lcZ(9,6,"lang_testbank_frontend_anonymous_account_need_enter_full_name"))}}function ts(n,i){if(1&n&&(t.TgZ(0,"div",18)(1,"div",19)(2,"div",20),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t._UZ(5,"input",21),t.qZA(),t.TgZ(6,"div",23)(7,"i"),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw(),a=e.$implicit;t.Q6J("ngClass",t.VKq(8,et,0!==e.index)),t.xp6(3),t.hij(" ",t.lcZ(4,4,"lang_auto_mat_khau_bai_thi")," "),t.xp6(2),t.Q6J("formControl",a.passwordFormControl),t.xp6(3),t.Oqu(t.lcZ(9,6,"lang_auto_neu_ban_chua_co_mat_khau_cua_bai_thi_vui_long_lien_he_giao_vien_cua_ban"))}}function es(n,i){if(1&n&&(t.TgZ(0,"div",18)(1,"div",19)(2,"div",20),t._uU(3),t.qZA(),t._UZ(4,"input",21),t.qZA()()),2&n){const e=t.oxw(),a=e.$implicit;t.Q6J("ngClass",t.VKq(3,et,0!==e.index)),t.xp6(3),t.hij(" ",a.textInputInfoField.title," "),t.xp6(1),t.Q6J("formControl",a.textInputInfoField.textInputFormControl)}}function ns(n,i){if(1&n&&(t.TgZ(0,"div",29)(1,"div",30)(2,"div",31),t._UZ(3,"input",32),t.qZA(),t.TgZ(4,"label",33,34),t._uU(6),t.qZA()()()),2&n){const e=i.$implicit,o=i.index,a=t.MAs(5),s=t.oxw(2).index;t.xp6(3),t.Q6J("id","checkboxData_"+s+"_"+o)("formControl",e.checkboxFormControl),t.xp6(1),t.s9C("matTooltip",e.optionName),t.Q6J("for","checkboxData_"+s+"_"+o)("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),t.xp6(2),t.hij(" ",e.optionName," ")}}function os(n,i){if(1&n&&(t.TgZ(0,"div",18)(1,"div",24)(2,"div",25)(3,"span",26),t._uU(4),t.qZA()(),t.TgZ(5,"div",27),t.YNc(6,ns,7,7,"div",28),t.qZA()()()),2&n){const e=t.oxw(),a=e.$implicit;t.Q6J("ngClass",t.VKq(3,et,0!==e.index)),t.xp6(4),t.Oqu(a.checkboxInfoField.title),t.xp6(2),t.Q6J("ngForOf",a.checkboxInfoField.data)}}function is(n,i){if(1&n&&(t.TgZ(0,"div",36)(1,"div",30)(2,"div",31),t._UZ(3,"input",37),t.qZA(),t.TgZ(4,"label",33,34),t._uU(6),t.qZA()()()),2&n){const e=i.$implicit,o=i.index,a=t.MAs(5),s=t.oxw(2),r=s.index,c=s.$implicit;t.xp6(3),t.Q6J("id","radioInfoField_"+r+"_"+o)("formControl",c.radioInfoField.radioFormControl)("value",e.optionName),t.xp6(1),t.s9C("matTooltip",e.optionName),t.Q6J("for","radioInfoField_"+r+"_"+o)("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),t.xp6(2),t.hij(" ",e.optionName," ")}}function as(n,i){if(1&n&&(t.TgZ(0,"div",18)(1,"div",24)(2,"div",25)(3,"span",26),t._uU(4),t.qZA()(),t.TgZ(5,"div",27),t.YNc(6,is,7,8,"div",35),t.qZA()()()),2&n){const e=t.oxw(),a=e.$implicit;t.Q6J("ngClass",t.VKq(3,et,0!==e.index)),t.xp6(4),t.Oqu(a.radioInfoField.title),t.xp6(2),t.Q6J("ngForOf",a.radioInfoField.data)}}function ss(n,i){if(1&n&&(t.TgZ(0,"mat-option",44),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.s9C("value",e.optionName),t.xp6(1),t.Oqu(e.optionName)}}function rs(n,i){if(1&n&&(t.TgZ(0,"div",18)(1,"div",38)(2,"span",39),t._uU(3),t.qZA(),t.TgZ(4,"div",40)(5,"mat-form-field",41)(6,"mat-select",42),t.YNc(7,ss,2,2,"mat-option",43),t.qZA()()()()()),2&n){const e=t.oxw(),a=e.$implicit;t.Q6J("ngClass",t.VKq(4,et,0!==e.index)),t.xp6(3),t.Oqu(a.dropDownMenuInfoField.title),t.xp6(3),t.Q6J("formControl",a.dropDownMenuInfoField.dropDownFormControl),t.xp6(1),t.Q6J("ngForOf",a.dropDownMenuInfoField.data)}}function ls(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",16),t.YNc(2,Xa,10,10,"div",17),t.YNc(3,ts,10,10,"div",17),t.YNc(4,es,5,5,"div",17),t.YNc(5,os,7,5,"div",17),t.YNc(6,as,7,5,"div",17),t.YNc(7,rs,8,6,"div",17),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngIf",e.anonymousFullNameFormControl),t.xp6(1),t.Q6J("ngIf",e.passwordFormControl),t.xp6(1),t.Q6J("ngIf",e.textInputInfoField),t.xp6(1),t.Q6J("ngIf",e.checkboxInfoField),t.xp6(1),t.Q6J("ngIf",e.radioInfoField),t.xp6(1),t.Q6J("ngIf",e.dropDownMenuInfoField)}}function cs(n,i){1&n&&(t.TgZ(0,"span",45),t._UZ(1,"azt-loading-ui"),t.qZA())}let _s=(()=>{class n extends F.e{handleConfirm(){this.initStatusObj();let o,e=[];this.infoObjs.forEach(a=>{let s={contents:[]};a.checkboxInfoField&&(s.index=a.checkboxInfoField.rawIndex,s.type=a.checkboxInfoField.type,s.title=a.checkboxInfoField.title,s.isFullName=a.checkboxInfoField.isFullName,a.checkboxInfoField.data.forEach(r=>{r.checkboxFormControl.value&&s.contents.push(r.optionName)}),e.push(s)),a.radioInfoField&&(s.index=a.radioInfoField.rawIndex,s.type=a.radioInfoField.type,s.title=a.radioInfoField.title,s.isFullName=a.radioInfoField.isFullName,s.contents.push(a.radioInfoField.radioFormControl.value),e.push(s)),a.dropDownMenuInfoField&&(s.index=a.dropDownMenuInfoField.rawIndex,s.type=a.dropDownMenuInfoField.type,s.title=a.dropDownMenuInfoField.title,s.isFullName=a.dropDownMenuInfoField.isFullName,s.contents.push(a.dropDownMenuInfoField.dropDownFormControl.value),e.push(s)),a.textInputInfoField&&(s.index=a.textInputInfoField.rawIndex,s.type=a.textInputInfoField.type,s.title=a.textInputInfoField.title,s.isFullName=a.textInputInfoField.isFullName,s.contents.push(a.textInputInfoField.textInputFormControl.value),e.push(s))}),this.data.obj.enterAnonymousFullNameRequired&&(o=this.form.controls.anonymousFullNameFormControl?.value,this.hasFullNameFieldInConfigData&&(o=this.commonService.getFirstOfArray(e.find(a=>a.isFullName)?.contents??[]))),this.updateAnonymousFullName(o,a=>{a&&this.showErrorSnack(a),this.data.obj.passwordRequired&&new j(this.data.obj.examObj.hashId??"",this.browserStorageService).savePassword(this.form.controls.passwordFormControl?.value),this.data.obj.enterInfoRequired&&new j(this.data.obj.examObj.hashId??"",this.browserStorageService).saveInfo(JSON.stringify(e)),this.dialogRef.close(!0)})}updateAnonymousFullName(e,o){if(null==e)return o(void 0);this.waitDestroy(this.userInfoService.apiUserInfoChangeNamePost({id:0,name:e}).subscribe(a=>o(a.success?void 0:a.message)))}initFieldForm(){this.data.obj.enterAnonymousFullNameRequired&&!this.hasFullNameFieldInConfigData&&this.form.controls.anonymousFullNameFormControl&&(console.log("go he"),this.form.controls.anonymousFullNameFormControl.setValue(""),this.infoObjs.push({anonymousFullNameFormControl:this.form.controls.anonymousFullNameFormControl})),this.data.obj.passwordRequired&&this.form.controls.passwordFormControl&&(this.form.controls.passwordFormControl.setValue(""),this.infoObjs.push({passwordFormControl:this.form.controls.passwordFormControl})),new j(this.data.obj.examObj.hashId??"",this.browserStorageService).hasInfo()||this.data.obj.infoFields.forEach((e,o)=>{switch(e.type){case 1:let a={checkboxInfoField:{rawIndex:o,type:e.type,title:e.title??"",isFullName:e.isFullName??!1,data:[],checkboxFormArray:new h.Oe([],us(1))}};e.contents.forEach((d,v)=>{a.checkboxInfoField?.data.push({index:v,optionName:d,checkboxFormControl:new h.NI(!1,{nonNullable:!0})})}),a.checkboxInfoField?.data.forEach(d=>a.checkboxInfoField?.checkboxFormArray.push(d.checkboxFormControl)),this.infoObjs.push(a);break;case 2:let s=this.commonService.getFirstOfArray(e.contents),r={radioInfoField:{rawIndex:o,type:e.type,title:e.title??"",isFullName:e.isFullName??!1,data:[],radioFormControl:new h.NI(s??"",{nonNullable:!0,validators:[_t._.noWhiteSpace]})}};e.contents.forEach((d,v)=>{r.radioInfoField?.data.push({index:v,optionName:d})}),this.infoObjs.push(r);break;case 3:let c={dropDownMenuInfoField:{rawIndex:o,type:e.type,title:e.title??"",isFullName:e.isFullName??!1,data:[],dropDownFormControl:new h.NI("",{nonNullable:!0,validators:[_t._.noWhiteSpace]})}};e.contents.forEach((d,v)=>{c.dropDownMenuInfoField?.data.push({index:v,optionName:d})}),this.infoObjs.push(c);break;default:let u={textInputInfoField:{rawIndex:o,type:e.type??0,title:e.title??"",isFullName:e.isFullName??!1,textInputFormControl:new h.NI("",{nonNullable:!0,validators:[_t._.noWhiteSpace]})}};this.infoObjs.push(u)}}),this.infoObjs.forEach(e=>{e.anonymousFullNameFormControl&&(this.form.controls.anonymousFullNameFormControl=e.anonymousFullNameFormControl),e.passwordFormControl&&(this.form.controls.passwordFormControl=e.passwordFormControl),e.checkboxInfoField&&this.form.controls.checkboxInfoField?.push(e.checkboxInfoField.checkboxFormArray),e.radioInfoField&&this.form.controls.radioInfoField?.push(e.radioInfoField.radioFormControl),e.dropDownMenuInfoField&&this.form.controls.dropDownMenuInfoField?.push(e.dropDownMenuInfoField.dropDownFormControl),e.textInputInfoField&&this.form.controls.textInputInfoField?.push(e.textInputInfoField.textInputFormControl)})}ngOnInit(){super.ngOnInit(),this.hasFullNameFieldInConfigData=null!=this.data.obj.infoFields.find(e=>e.isFullName),this.initFieldForm()}constructor(e,o,a,s){super(s,a),this.userInfoService=e,this.browserStorageService=o,this.dialogRef=a,this.form=new h.cw({passwordFormControl:new h.NI("empty",{nonNullable:!0,validators:[_t._.noWhiteSpace]}),anonymousFullNameFormControl:new h.NI("empty",{nonNullable:!0,validators:[_t._.noWhiteSpace]}),checkboxInfoField:new h.Oe([]),radioInfoField:new h.Oe([]),dropDownMenuInfoField:new h.Oe([]),textInputInfoField:new h.Oe([])}),this.infoObjs=[],this.hasFullNameFieldInConfigData=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(de.$C),t.Y36(pe.n),t.Y36(S.so,8),t.Y36(S.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-submit-info"]],features:[t.qOj],decls:22,vars:14,consts:[["id","test-info-form",3,"formGroup"],[1,"box"],[1,"border-b","border-slate-200","dark:border-darkmode-400"],[1,"p-3","mb-0","border-b","border-slate-200","dark:border-darkmode-400"],[1,"intro-x","font-bold","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"intro-x","text-xs","text-slate-600","mt-1"],[1,"mt-3","pb-3"],[3,"defaultHeight"],[4,"ngFor","ngForOf"],[1,"text-right","p-3"],["azt-track-service","submit-info-5wWwRj07M5L",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"px-2",2,"margin-left","5px"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"input-group"],[1,"input-group-text","font-medium","whitespace-nowrap",2,"min-width","134px"],["type","text",1,"form-control",3,"formControl"],[1,"pt-1","text-xs"],[1,"pt-1","text-xs","text-danger"],[1,"border","border","border-slate-200","dark:border-darkmode-400","rounded-md"],[1,"p-3","bg-slate-100","dark:bg-darkmode-400","border-b","border-slate-200","dark:border-darkmode-400"],[1,"font-medium"],[1,"grid","grid-cols-12","gap-3","p-3"],["class","col-span-12 md:col-span-4 mb-1",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4","mb-1"],[1,"flex","items-center"],[1,"form-check","mr-2"],["type","checkbox",1,"form-check-input","ml-2",3,"id","formControl"],[1,"cursor-pointer","truncate",3,"for","matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","col-span-12 sm:col-span-12 md:col-span-4 mb-1",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-12","md:col-span-4","mb-1"],["type","radio",1,"form-check-input","ml-2",3,"id","formControl","value"],[1,"input-group","w-full"],[1,"input-group-text","font-medium","whitespace-nowrap",2,"min-width","134px","transform","translateX(3px)","z-index","2"],[1,"w-full","overflow-hidden"],["appearance","outline"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.O4$(),t.TgZ(5,"svg",5),t._UZ(6,"polygon",6)(7,"line",7)(8,"line",8),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(11,"h6",9),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()(),t.TgZ(14,"div",10)(15,"azt-mat-dialog-content",11),t.YNc(16,ls,8,6,"ng-container",12),t.qZA()()(),t.TgZ(17,"div",13)(18,"button",14),t.NdJ("click",function(){return o.handleConfirm()}),t.YNc(19,cs,2,0,"span",15),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()),2&e&&(t.Q6J("formGroup",o.form),t.xp6(9),t.hij(" ",t.lcZ(10,8,"lang_auto_vui_long_nhap_them_thong_tin_de_bat_dau_bai_thi")," "),t.xp6(3),t.hij(" ",t.lcZ(13,10,"lang_auto_nhung_thong_tin_nay_se_giup_giao_vien_dinh_danh_va_cham_diem_cho_ban")," "),t.xp6(3),t.Q6J("defaultHeight",55),t.xp6(1),t.Q6J("ngForOf",o.infoObjs),t.xp6(2),t.Q6J("disabled",!o.form.valid||o.statusObj.loading),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(21,12,"lang_auto_xac_nhan")," "))},dependencies:[_.mk,_.sg,_.O5,Ka.ey,Va.KE,$a.gD,P.gM,h._Y,h.Fj,h.Wl,h._,h.JJ,h.JL,h.oH,h.sg,xt.R,Kt.Q,Tt.n,p.JV],encapsulation:2}),n})();function us(n=1){return e=>e.getRawValue().filter(a=>a).length>=n?null:{required:!0}}var ps=l(51340);let ms=(()=>{class n extends T.Q{copyLinkToClipboard(e){return e}clickCopyLink(){this.showSuccessSnack("lang_auto_copy_link_thanh_cong")}bindUrlToQrCode(e){this.urlToUploadEssayFilesInMobile=`${this.commonService.getCurrentDomain()}/n/${e}`}ngOnInit(){super.ngOnInit(),this.bindUrlToQrCode(this.uploadHashCode)}constructor(){super(),this.urlToUploadEssayFilesInMobile=""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-qr-code-of-upload-essay-files"]],inputs:{uploadHashCode:"uploadHashCode"},features:[t.qOj],decls:18,vars:13,consts:[[1,"p-2","mt-3"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"mt-3"],[1,"mt-2","flex","items-center"],["type","text","readonly","",1,"w-full","p-2","bg-white","mr-2",3,"value"],["azt-track-service","upload-image-X_utJrb2bC",1,"btn","btn-outline-primary","flex-none",3,"cdkCopyToClipboard","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],[1,"ml-2",3,"fileName","linkUrl"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",3)(6,"div"),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"div",4),t._UZ(10,"input",5),t.TgZ(11,"button",6),t.NdJ("click",function(){return o.clickCopyLink()}),t.O4$(),t.TgZ(12,"svg",7),t._UZ(13,"rect",8)(14,"path",9),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.kcU(),t._UZ(17,"azt-download-qr-code",10),t.qZA()()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,7,"lang_auto_hoac_nop_bang_dien_thoai")),t.xp6(4),t.hij(" ",t.lcZ(8,9,"lang_auto_vao_trinh_duyet_bang_dien_thoai_truy_cap_duong_dan_sau_de_tai_bai_thi_tu_luan_len")," "),t.xp6(3),t.s9C("value",o.urlToUploadEssayFilesInMobile),t.xp6(1),t.Q6J("cdkCopyToClipboard",o.copyLinkToClipboard(o.urlToUploadEssayFilesInMobile)),t.xp6(4),t.hij(" ",t.lcZ(16,11,"lang_auto_sao_chep")," "),t.xp6(2),t.Q6J("fileName","azota_upload_essay_files")("linkUrl",o.copyLinkToClipboard(o.urlToUploadEssayFilesInMobile)))},dependencies:[_e.i3,Xt.W,p.JV],encapsulation:2}),n})();function ds(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-azt-essay-files-upload-box",3),t.NdJ("changeEssayFilesEvent",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.changeEssayFiles(a))})("cancelChangeEssayFilesEvent",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.cancelChangeEssayFiles())})("uploadActionsEvent",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.uploadActionsEvent(a))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("uploadHashCode",e.data.uploadHashCode)("showCancelButton",!0)}}function gs(n,i){if(1&n&&t._UZ(0,"app-coazt-qr-code-of-upload-essay-files",4),2&n){const e=t.oxw();t.Q6J("uploadHashCode",e.data.uploadHashCode)}}let fs=(()=>{class n extends F.e{changeEssayFiles(e){this.data.isFullScreenRequired&&this.sAztFullScreenService.showFullScreen(),this.dialogRef.close(e)}cancelChangeEssayFiles(){this.data.isFullScreenRequired&&this.sAztFullScreenService.showFullScreen(),this.dialogRef.close(void 0)}uploadActionsEvent(e){return"SELECT_FILE"==e?(this.sAztFullScreenVisibleService.setAllowTrackFullScreenStatus(!1),void this.sAztFullScreenVisibleService.setAllowTrackVisibleStatus(!1)):"SELECTED"==e?this.sAztFullScreenVisibleService.setAllowTrackVisibleStatus(!0):void 0}constructor(e,o,a){super(a,o),this.sAztFullScreenVisibleService=e,this.dialogRef=o,this.sAztFullScreenService=new H}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(kt),t.Y36(S.so,8),t.Y36(S.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-upload-essay-files-dialog"]],features:[t.qOj],decls:3,vars:3,consts:[["scrollViewport","","pointerEventsMethod","scrollbar",1,"upload-essay-dialog-box",2,"--scrollbar-size","5px","height","100%",3,"visibility"],[3,"uploadHashCode","showCancelButton","changeEssayFilesEvent","cancelChangeEssayFilesEvent","uploadActionsEvent",4,"ngIf"],[3,"uploadHashCode",4,"ngIf"],[3,"uploadHashCode","showCancelButton","changeEssayFilesEvent","cancelChangeEssayFilesEvent","uploadActionsEvent"],[3,"uploadHashCode"]],template:function(e,o){1&e&&(t.TgZ(0,"ng-scrollbar",0),t.YNc(1,ds,1,2,"app-azt-essay-files-upload-box",1),t.YNc(2,gs,1,1,"app-coazt-qr-code-of-upload-essay-files",2),t.qZA()),2&e&&(t.Q6J("visibility","hover"),t.xp6(1),t.Q6J("ngIf",o.data.uploadHashCode),t.xp6(1),t.Q6J("ngIf",!o.isMobileDevice&&o.data.uploadHashCode))},dependencies:[_.O5,ps.d,g.KC,g.fK,ms],encapsulation:2}),n})(),be=(()=>{class n extends T.Q{onResize(){this.isMobileScreenSize=(new xe).checkByWidth()}goBackToExamDetails(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.currentTakeTestStepData.examObj.hashId,"?backto="+encodeURIComponent(this.backToLink))}checkScrollToShowTopBar(){return window.scrollY>50}selectStudentEvent(e){this.getInitDataFromApi()}showUploadEssayFilesDialog(){this.sAztFullScreenVisibleService.reset(),document.getElementById("monitorScreenTakeTest")?.style.setProperty("display","none"),this.sAztDialogService.open(fs,{data:{uploadHashCode:this.currentTakeTestStepData.uploadHashCode,isFullScreenRequired:this.currentTakeTestStepData.showFullScreenRequired},restoreFocus:!1,width:"100vw",maxWidth:"100vw",height:"100vh",backdropClass:"azt-backdrop-full-width-height",disableClose:!0}).afterClosed().subscribe(o=>{this.sAztFullScreenVisibleService.reset(),null!=o&&(window.scrollTo({top:0}),this.currentTakeTestStepData.files=o,window.scrollTo({top:0}),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData),this.sAztTakeTestCallApiService.saveAnswerAndTrackInfoToApi(this.currentTakeTestStepData),this.currentTakeTestStepData.showFullScreenRequired&&this.sAztFullScreenService.showFullScreen(),this.openVideoMonitor())})}changeAnswerFiles(e){this.currentTakeTestStepData.files=e,this.sAztTakeTestCallApiService.updateEssayFilesToApi(this.currentTakeTestStepData).then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")})}openVideoMonitor(){this.currentTakeTestStepData.showVideoRequired&&(document.getElementById("monitorScreenTakeTest")?.style?.setProperty("display","block"),this.sAztShowMonitorService.monitorAtTestPage({roomId:this.hashId,examConfig:this.currentTakeTestStepData.examObj,examId:this.currentTakeTestStepData.examObj.id,resultId:this.currentTakeTestStepData.termExamResultId,userList:[]},this.currentTakeTestStepData.testingUserObj,e=>{e&&(this.currentTakeTestStepData.isShowVideoMonitor=!0)}))}intervalExamTime(){if(this.currentTakeTestStepData?.isUnLimitedTime)return;const e=new wt.x,o=(0,St.F)(1e3).pipe((0,vt.R)(e));this.waitDestroy(o.subscribe(a=>{if(this.currentTakeTestStepData.countDownSecond<=0)this.getServerTime(s=>{if(this.currentTakeTestStepData.countDownSecond<=0)return this.currentTakeTestStepData.viewQuestionObjs=this.sAztTestQuestionService.takeAnswerForQuestion(this.currentTakeTestStepData.answerList,this.currentTakeTestStepData.viewQuestionObjs),this.currentTakeTestStepData.isAutoSubmit=!0,this.processByStep(x.RUN_OUT_OF_TIME_AFTER_TEST,this.currentTakeTestStepData),this.sAztDialogService.dialog.closeAll(),e.next(!0)});else{let s=this.timeService.getCurrentSecond();this.currentTakeTestStepData.countDownSecond=this.currentTakeTestStepData.rawCountDownSecond-(s-this.currentTakeTestStepData.clientTimeSecond),this.currentTakeTestStepData=this.sAztTestQuestionService.calculateNewCountDown(this.currentTakeTestStepData)}}))}intervalToGetServerTime(){if(this.currentTakeTestStepData?.isUnLimitedTime)return;const e=new wt.x,o=(0,St.F)(1e3*this.commonService.getRandomNumber(200,300)).pipe((0,vt.R)(e));this.waitDestroy(o.subscribe(a=>{this.getServerTime(s=>{})}))}getServerTime(e){this.waitDestroy(this.frontExamService.apiFrontExamGetTimeExamObjGet().subscribe(o=>{o.success&&o.data?.curServerTime?(this.currentTakeTestStepData.currentServerTime=o.data.curServerTime,this.currentTakeTestStepData.countDownSecond=this.currentTakeTestStepData.startTestTimeAtServerTime+60*(this.currentTakeTestStepData.examObj.minutes??0)-this.currentTakeTestStepData.currentServerTime,this.currentTakeTestStepData.clientTimeSecond=this.timeService.getCurrentSecond(),this.currentTakeTestStepData.rawCountDownSecond=this.currentTakeTestStepData.countDownSecond,this.currentTakeTestStepData=this.sAztTestQuestionService.calculateNewCountDown(this.currentTakeTestStepData),e(!0)):e(!1)}))}intervalToSendTestDataToApi(){const e=new wt.x,o=(0,St.F)(1e3*this.commonService.getRandomNumber(120,180)).pipe((0,vt.R)(e));this.waitDestroy(o.subscribe(a=>{this.sAztTakeTestCallApiService.saveAnswerAndTrackInfoToApi(this.currentTakeTestStepData)}))}openQuitDialog(){this.sAztDialogService.open(Ba,{data:{countDownSecond:this.currentTakeTestStepData.countDownSecond,isUnLimitedTime:this.currentTakeTestStepData.isUnLimitedTime},restoreFocus:!1,width:"450px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(o=>{o&&this.goBackToExamDetails()})}openSubmitExam(){let e=this.currentTakeTestStepData.answerList.filter(s=>!this.commonService.isExistInArray(this.currentTakeTestStepData.essayQuestionIds,s.questionId)).length;this.sAztDialogService.open(Ua,{data:{countDownSecond:this.currentTakeTestStepData.countDownSecond,isUnLimitedTime:this.currentTakeTestStepData.isUnLimitedTime,notHasFiles:this.currentTakeTestStepData.hasEssayQuestion&&0==this.currentTakeTestStepData.files.length,totalTrueFalseLeftBlank:this.currentTakeTestStepData.countQuestion-this.currentTakeTestStepData.countEssayQuestion-e},restoreFocus:!1,width:"550px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(s=>{s&&this.submitTestToApi(!1)})}sendAudioForQuestion(e){this.currentTakeTestStepData=this.sAztTestAudioService.sendAudioForQuestion(this.currentTakeTestStepData,e)}setResultTracking(e){this.currentTakeTestStepData=this.sAztTestResultTrackService.setResultTracking(this.currentTakeTestStepData,e)}setQuestionOneChoiceAnswer(e){this.currentTakeTestStepData=this.sAztTestQuestionService.setQuestionOneChoiceAnswer(this.currentTakeTestStepData,e),this.sAztTakeTestCallApiService.saveAnswerAndTrackInfoToApi(this.currentTakeTestStepData),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData)}setQuestionTrueFalseAnswer(e){this.currentTakeTestStepData=this.sAztTestQuestionService.setQuestionTrueFalseAnswer(this.currentTakeTestStepData,e),this.sAztTakeTestCallApiService.saveAnswerAndTrackInfoToApi(this.currentTakeTestStepData),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData)}setQuestionFillAnswer(e){this.currentTakeTestStepData=this.sAztTestQuestionService.setQuestionFillAnswer(this.currentTakeTestStepData,e),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData)}setQuestionEssayAnswer(e){this.currentTakeTestStepData=this.sAztTestQuestionService.setQuestionEssayAnswer(this.currentTakeTestStepData,e),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData)}submitTestToApi(e){if(this.isSubmittingAnswer)return;this.isSubmittingAnswer=!0,this.initStatusObj();var o=new j(this.hashId,this.browserStorageService).getInfo(),a=this.commonService.myClone(this.currentTakeTestStepData.resultTracks);let s=JSON.stringify({type:"exam",id:this.currentTakeTestStepData.examObj.id,user:this.currentTakeTestStepData.examObj.tenantId});var r={autoSubmit:e,serverCountDown:this.currentTakeTestStepData.countDownSecond,examMinutes:this.currentTakeTestStepData.examObj.minutes,saveStudentId:this.currentTakeTestStepData.testingUserObj.id,saveDeviceId:this.sAztTestDeviceIdService.getDeviceId(),deviceType:this.commonService.deviceType()};let c={answers:this.currentTakeTestStepData.answerList,notes:[],files:JSON.stringify(this.currentTakeTestStepData.files),infors:o,trackInfos:JSON.stringify(r),resultTrack:this.zipDataService.convertContentGzip(JSON.stringify(a)),saveTime:0,id:this.currentTakeTestStepData.termExamResultId??0};this.waitDestroy(this.frontExamResultService.apiFrontExamResultSaveResultEncryptPost(this.encryptionHelper.payload(c),s,this.hashId).subscribe(u=>{1==u.success?(this.sAztTestQuestionService.clearAllData(this.currentTakeTestStepData),this.commonService.myNavigationWithQueryString("/test/submit-test/"+this.tenantId+"/"+this.curCateId+"/"+this.hashId+"/"+u.data?.id,"?backto="+encodeURIComponent(this.backToLink))):e?(this.showErrorSnack(u.message),setTimeout(()=>{this.isSubmittingAnswer=!1,this.submitTestToApi(!0)},5e3)):(this.isSubmittingAnswer=!1,this.errorStatusObj(u.message,!0))}))}processInitData(e,o){if(!(o&&o?.success&&o?.data&&o.data.examObj))return this.errorStatusObj(o?.message??"",!0);let a=o?.data?.errorMessage??"",s=""!=a,r={examObj:o.data.examObj,examConfigObj:o.data.examConfigObj,infoFields:this.commonService.myParseJson(o.data.examObj.infoFieldsV2??"")??[],authUserObj:this.userService.getUserObj(),studentObj:o.data.studentObj,termExamResultId:o.data.testingExamResultObj?.id,testingResultObj:o.data.testingExamResultObj,testingUserObj:this.homeworkExamService.mustInClassroom(o.data.examObj)?o.data.studentObj??this.userService.getUserObj():this.userService.getUserObj(),uploadHashCode:o.data?.hashCodeUpload??"",currentStep:x.INIT,sequenceSteps:[x.SHOW_ESSAY_WARNING_DIALOG,x.SHOW_FULL_SCREEN,x.SHOW_VIDEO_REQUIRED],questionTestObjs:o.data.questionObjs,viewQuestionObjs:this.commonService.castJsonToClassObjs(te.v,JSON.stringify(o.data.questionObjs))??[],viewQuestionInGroupList:[],hasEssayQuestion:this.sAztTestQuestionService.getEssayQuestionIds(o.data.questionObjs).length>0,countEssayQuestion:this.sAztTestQuestionService.getEssayQuestionIds(o.data.questionObjs).length,essayQuestionIds:this.sAztTestQuestionService.getEssayQuestionIds(o.data.questionObjs),countQuestion:o.data.questionObjs.length,isAnonymousUser:this.userService.isAnonymousRoleOfCurrentUser(),isShowVideoMonitor:!1,startTestTimeAtServerTime:o.data?.startServerSecond??0,currentServerTime:o.data?.currentServerSecond??0,countDownSecond:o.data?.countDownSecond??0,rawCountDownSecond:o.data?.countDownSecond??0,isUnLimitedTime:(o.data.examObj.minutes??0)<=0,clientTimeSecond:this.timeService.getCurrentSecond(),isAutoSubmit:!1,isActualEndTime:!1,allowUploadEssayFileWhenEndTime:!0,autoSubmitAfterSeconds:void 0,loginRequired:!1,errorMessage:a,waitToTestTime:"lang_core_time_smaller_than_start_time"===a,isUnPurchased:"lang_core_does_not_owner_exam"===a,passwordRequired:"lang_core_exam_password_invalid"===a,isInvalidPassword:"lang_core_exam_password_invalid"===a&&e,showFullScreenRequired:null!=o.data.examObj.autoMonitor&&0!=o.data.examObj.autoMonitor&&!this.isMobileDevice,showVideoRequired:null!=o.data.examObj.autoMonitor&&3==o.data.examObj.autoMonitor,enterAnonymousFullNameRequired:!!this.userService.isAnonymousName(this.userService.getUserObj()),enterInfoRequired:!1,chooseStudentRequired:!1,isRunOutOfTime:!1,resultTracks:[],files:[],answerList:[],trainingAnswerQuestions:void 0,nextBackQuestionModel:void 0,hasAlreadyGenerateQuestion:!1,hasAlreadyRunIntervalCountDown:!1};return r=this.sAztTestQuestionService.calculateNewCountDown(r),this.commonService.translateMetaData({title:r.examObj.name,description:r.examObj.name}),r.testingResultObj&&(r.resultTracks=this.sAztTestResultTrackService.getResultTrackFromLocalStorage(r.examObj,r.testingResultObj.id),r.viewQuestionObjs=this.sAztTestQuestionService.changeQuestionContent(r.examObj,r.testingResultObj.id,r.viewQuestionObjs),this.sAztTestAudioService.saveAudioLimitStorage(r.examObj,r.testingResultObj.id,r.viewQuestionObjs)),r.viewQuestionObjs=this.sAztTestQuestionService.resetQuestionIndex(r.viewQuestionObjs,r.examConfigObj?.resetQuestionIndex??!1),r=this.sAztTestNextBackQuestionService.init(r),r.enterInfoRequired=1==r.examObj.enterInfo&&r.infoFields.length>0&&!new j(this.hashId,this.browserStorageService).getInfo(),r.loginRequired=!this.homeworkExamService.allowAnonymousUser(r.examObj)&&r.isAnonymousUser,r.chooseStudentRequired=this.homeworkExamService.mustInClassroom(r.examObj)&&null==r.studentObj,r.isRunOutOfTime=!s&&r.countDownSecond<=0&&!r.isUnLimitedTime,this.processByStep(r.loginRequired?x.LOGIN_DIALOG:r.isUnPurchased?x.PAYMENT_DIALOG:r.passwordRequired||r.enterAnonymousFullNameRequired||r.enterInfoRequired?x.INFO_REQUIRED_DIALOG:r.waitToTestTime?x.WAIT_TO_TEST_TIME:r.chooseStudentRequired?x.CHOOSE_STUDENT:r.isRunOutOfTime?x.RUN_OUT_OF_TIME_WHEN_F5:s?x.SHOW_ERROR_MESSAGE:x.SEQUENCE_STEP,r)}processByStep(e,o){return this.currentTakeTestStepData=o,this.currentTakeTestStepData.currentStep=e,e==x.SHOW_ERROR_MESSAGE?this.stopStatusObj():e==x.LOGIN_DIALOG?(this.sAztDialogService.open(Ya,{data:{},restoreFocus:!1,width:"450px",backdropClass:"azt-backdrop",disableClose:!0}),this.stopStatusObj()):e==x.PAYMENT_DIALOG?(this.sAztDialogService.open(Ta.X,{data:{examObj:o.examObj},restoreFocus:!1,width:"100vw",maxWidth:"100vw",height:"100vh",backdropClass:"azt-backdrop-full-width-height",disableClose:!0}).afterClosed().subscribe(r=>{r||this.myNavigation(`/de-thi/${o.examObj.hashId}`)}),this.stopStatusObj()):e==x.INFO_REQUIRED_DIALOG?(this.sAztDialogService.open(_s,{data:{obj:o},restoreFocus:!1,width:"750px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(s=>{s&&this.getInitDataFromApi()}),this.stopStatusObj()):e==x.RUN_OUT_OF_TIME_WHEN_F5||e==x.RUN_OUT_OF_TIME_AFTER_TEST?this.sAztTakeTestCallApiService.getSyncQuestionDataFromApi(this.questsLoadState,this.followerRenderQuest,this.questionRenderService,o,a=>(this.currentTakeTestStepData=a,this.currentTakeTestStepData.viewQuestionObjs=this.sAztTestQuestionService.takeAnswerForQuestion(o.answerList,o.viewQuestionObjs),this.stopStatusObj())):e==x.CHOOSE_STUDENT||e==x.WAIT_TO_TEST_TIME?this.stopStatusObj():e==x.SEQUENCE_STEP?this.startShowTestContent(o,a=>{if(a)return this.setProcessToErrorStep(a);let s=this.commonService.getFirstOfArray(o.sequenceSteps);return o.sequenceSteps=o.sequenceSteps.filter(r=>r!=s),this.processByStep(s||x.START_TEST,o)}):e==x.SHOW_ESSAY_WARNING_DIALOG?o.hasEssayQuestion?(this.sAztDialogService.open(Na,{data:{},restoreFocus:!1,width:"400px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(()=>{this.processByStep(x.SEQUENCE_STEP,o)}),this.stopStatusObj()):this.processByStep(x.SEQUENCE_STEP,o):e==x.SHOW_FULL_SCREEN?o.showFullScreenRequired?(this.sAztDialogService.open(Wa,{data:{},restoreFocus:!1,width:"400px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(()=>(this.sAztFullScreenService.showFullScreen(),this.processByStep(x.SEQUENCE_STEP,o))),this.stopStatusObj()):this.processByStep(x.SEQUENCE_STEP,o):e==x.SHOW_VIDEO_REQUIRED?o.showVideoRequired?(this.openVideoMonitor(),this.processByStep(x.SEQUENCE_STEP,o)):this.processByStep(x.SEQUENCE_STEP,o):e==x.START_TEST?this.startShowTestContent(o,a=>{if(a)return this.setProcessToErrorStep(a);this.stopStatusObj()}):void this.errorStatusObj("lang_take_test_not_found_process_step",!0)}setProcessToErrorStep(e){this.currentTakeTestStepData.errorMessage=e,this.processByStep(x.SHOW_ERROR_MESSAGE,this.currentTakeTestStepData)}initParams(){this.sAztFullScreenVisibleService.reset(),this.sAztTestDeviceIdService.getDeviceId(),document.getElementById("azota-app-html")?.classList.add("azotaHtml"),this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.curCateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.hashId=(this.commonService.getMyParam(this.activeRoute,"hash_id")??"").toString(),this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id")),this.getInitDataFromApi()}ngOnInit(){super.ngOnInit()}ngOnDestroy(){document.getElementById("azota-app-html")?.classList.remove("azotaHtml"),this.mixService.cancelSubscription(),this.sAztShowMonitorService.destroyMonitorAtStudentDashboard(),this.sAztTakeTestCallApiService.destroyAll(),this.sAztDialogService.closeAll(),super.ngOnDestroy()}constructor(){super(),this.activeRoute=(0,t.f3M)(m.gz),this.userService=(0,t.f3M)(ct.U),this.mixService=(0,t.f3M)(wa),this.localStorageObject=(0,t.f3M)(fe.y),this.zipDataService=(0,t.f3M)(ae.a),this.timeService=(0,t.f3M)(gt.D),this.browserStorageService=(0,t.f3M)(pe.n),this.frontExamResultService=(0,t.f3M)(I.CA),this.frontExamService=(0,t.f3M)(I.Tg),this.frontExamResultUploadService=(0,t.f3M)(I.vO),this.sAztDialogService=(0,t.f3M)(bt.C),this.answerTypeService=(0,t.f3M)(qt.i),this.homeworkExamService=(0,t.f3M)(Vt.v),this.questionRenderService=(0,t.f3M)(he.h),this.testMarketFeedbackService=(0,t.f3M)(ne.nC),this.encryptionHelper=(0,t.f3M)(ge.C),this.testLogExamResultAnswerService=(0,t.f3M)(Sa.eC),this.sAztShowMonitorService=(0,t.f3M)($t.p),this.sAztFullScreenVisibleService=(0,t.f3M)(kt),this.sAztFullScreenService=new H,this.sAztTestResizeService=new Oa,this.sAztTestNextBackQuestionService=new ka(this.commonService),this.sAztTestQuestionService=new Aa(this.commonService,this.answerTypeService,this.browserStorageService,this.localStorageObject,this.sAztShowMonitorService),this.sAztTestDeviceIdService=new Te(this.browserStorageService),this.sAztTestAudioService=new Rt(this.commonService,this.browserStorageService),this.sAztTestResultTrackService=new Ca(this.commonService,this.encryptionHelper,this.timeService,this.browserStorageService),this.sAztTakeTestCallApiService=new va(this.commonService,this.zipDataService,this.browserStorageService,this.testMarketFeedbackService,this.encryptionHelper,this.testLogExamResultAnswerService,this.sAztTestQuestionService,this.sAztTestResultTrackService,this.frontExamResultUploadService,this.frontExamService),this.followerRenderQuest=new ft.p,this.questsLoadState={startLoad:!1,loadPercent:0,hasErrs:!1,errData:new Array},this.isMobileScreenSize=(new xe).checkByWidth(),this.allTakeTestLayouts=M,this.backToLink="",this.homeLink="/student/classroom/0",this.hashId="",this.tenantId=1,this.curCateId=0,this.isSubmittingAnswer=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-base-test-component"]],hostBindings:function(e,o){1&e&&t.NdJ("resize",function(s){return o.onResize(s)},!1,t.Jf7)},features:[t.qOj],decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})(),Ut=(()=>{class n extends T.Q{constructor(){super(...arguments),this.changeShowType=new t.vpe,this.openQuitDialog=new t.vpe,this.showUploadEssayFilesDialog=new t.vpe,this.openSubmitExam=new t.vpe,this.selectStudentEvent=new t.vpe,this.changeAnswerFiles=new t.vpe,this.setOneChoiceAnswerEmitter=new t.vpe,this.setTrueFalseAnswerEmitter=new t.vpe,this.setFillAnswerEmitter=new t.vpe,this.setEssayAnswerEmitter=new t.vpe,this.setResultTracking=new t.vpe,this.sendAudioForQuestion=new t.vpe,this.submitTestToApi=new t.vpe,this.allTakeTestSteps=x,this.allTakeTestLayouts=M,this.allowContextMenu=!Q.N.production}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-take-test-base-layout"]],inputs:{sAztTestResizeService:"sAztTestResizeService",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService",currentTakeTestStepData:"currentTakeTestStepData",followerRenderQuest:"followerRenderQuest",questsLoadState:"questsLoadState",isMobileScreenSize:"isMobileScreenSize",homeLink:"homeLink",backToLink:"backToLink"},outputs:{changeShowType:"changeShowType",openQuitDialog:"openQuitDialog",showUploadEssayFilesDialog:"showUploadEssayFilesDialog",openSubmitExam:"openSubmitExam",selectStudentEvent:"selectStudentEvent",changeAnswerFiles:"changeAnswerFiles",setOneChoiceAnswerEmitter:"setOneChoiceAnswerEmitter",setTrueFalseAnswerEmitter:"setTrueFalseAnswerEmitter",setFillAnswerEmitter:"setFillAnswerEmitter",setEssayAnswerEmitter:"setEssayAnswerEmitter",setResultTracking:"setResultTracking",sendAudioForQuestion:"sendAudioForQuestion",submitTestToApi:"submitTestToApi"},features:[t.qOj],decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})();var Ot=l(56548),we=l(8720);class hs{constructor(){this.isDestroy=!1}}var Se=l(99413),ve=l(9437),ke=l(63038),xs=l(91581),Ct=l(44345);function Ts(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_please_select_one_correct_answer")," "))}function bs(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_please_select_corrects_answer")," "))}const Ae=function(n){return{"selected-answer border-selected-answer":n}},Nt=function(n,i,e,o){return{"border-radius":n,width:i,height:e,"line-height:":o}},Oe=function(n){return{"border-selected-answer":n}};function ws(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7),t.NdJ("click",function(){const a=t.CHM(e),s=a.$implicit,r=a.index,c=t.oxw(2);return t.KtG(c.setOneChoiceAnswer(s,r,s.alpha,s.key))}),t.TgZ(2,"button",8),t.ALo(3,"isOneChoiceAnswer"),t.ALo(4,"isOneChoiceAnswer"),t.ALo(5,"isOneChoiceAnswer"),t.ALo(6,"isOneChoiceAnswer"),t._uU(7),t.qZA(),t.TgZ(8,"div",9),t._UZ(9,"azt-dynamic-hook",10),t.qZA()()()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("ngClass",t.VKq(13,Ae,e.checked))("ngStyle",t.l5B(15,Nt,t.lcZ(3,5,o.question)?"50%":"none",t.lcZ(4,7,o.question)&&o.fontSize>1.6?o.fontSize+"em":"40px",t.lcZ(5,9,o.question)&&o.fontSize>1.6?o.fontSize+"em":"40px",t.lcZ(6,11,o.question)&&o.fontSize>1.6?o.fontSize+"em":"40px")),t.xp6(5),t.hij(" ",e.alpha?e.alpha:e.key," "),t.xp6(1),t.Q6J("ngClass",t.VKq(20,Oe,e.checked)),t.xp6(1),t.Q6J("content",e.content)}}function Ss(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"span",2),t.YNc(3,Ts,3,3,"span",0),t.ALo(4,"isOneChoiceAnswer"),t.YNc(5,bs,3,3,"span",0),t.ALo(6,"isMultipleChoiceAnswer"),t.qZA()(),t.TgZ(7,"div",3)(8,"div",4),t.YNc(9,ws,10,22,"div",5),t.qZA()(),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",t.lcZ(4,7,e.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,9,e.question)),t.xp6(3),t.Udp("font-size",e.fontSize+"em")("line-height",e.fontSize<1.5?e.fontSize+.5:"1.7"),t.xp6(1),t.Q6J("ngForOf",e.question.answers)}}function vs(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_please_select_answer_true_or_false")," "))}const ks=function(n,i,e,o){return{"border-radius":n,width:i,height:e,"line-height:":o,cursor:"default"}},Ce=function(n){return{"border-selected-answer selected-answer":n}};function As(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",12)(1,"button",8),t.ALo(2,"isTrueFalseAnswer"),t.ALo(3,"isTrueFalseAnswer"),t.ALo(4,"isTrueFalseAnswer"),t.ALo(5,"isTrueFalseAnswer"),t._uU(6),t.qZA(),t.TgZ(7,"div",9),t._UZ(8,"azt-dynamic-hook",10),t.qZA(),t.TgZ(9,"button",13),t.NdJ("click",function(){const a=t.CHM(e),s=a.$implicit,r=a.index,c=t.oxw(2);return t.KtG(c.setTrueFalseAnswer(s,r,s.alpha,s.key,"T"))}),t.ALo(10,"isTrueFalseAnswer"),t.ALo(11,"isTrueFalseAnswer"),t.ALo(12,"isTrueFalseAnswer"),t.ALo(13,"isTrueFalseAnswer"),t.TgZ(14,"span",14),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()(),t.TgZ(17,"button",15),t.NdJ("click",function(){const a=t.CHM(e),s=a.$implicit,r=a.index,c=t.oxw(2);return t.KtG(c.setTrueFalseAnswer(s,r,s.alpha,s.key,"F"))}),t.ALo(18,"isTrueFalseAnswer"),t.ALo(19,"isTrueFalseAnswer"),t.ALo(20,"isTrueFalseAnswer"),t.ALo(21,"isTrueFalseAnswer"),t.TgZ(22,"span",14),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(39,Ae,null!=e.checked))("ngStyle",t.l5B(41,ks,t.lcZ(2,11,o.question)?"50%":"none",t.lcZ(3,13,o.question)&&o.fontSize>1.6?o.fontSize+"em":"40px",t.lcZ(4,15,o.question)&&o.fontSize>1.6?o.fontSize+"em":"40px",t.lcZ(5,17,o.question)&&o.fontSize>1.6?o.fontSize+"em":"40px")),t.xp6(5),t.hij(" ",(e.alpha?e.alpha:e.key).toLowerCase(),") "),t.xp6(1),t.Q6J("ngClass",t.VKq(46,Oe,null!=e.checked)),t.xp6(1),t.Q6J("content",e.content),t.xp6(1),t.Q6J("ngStyle",t.l5B(48,Nt,t.lcZ(10,19,o.question)?"50%":"none",t.lcZ(11,21,o.question)&&o.fontSize>1.6?o.fontSize+"em":"40px",t.lcZ(12,23,o.question)&&o.fontSize>1.6?o.fontSize+"em":"40px",t.lcZ(13,25,o.question)&&o.fontSize>1.6?o.fontSize+"em":"40px"))("ngClass",t.VKq(53,Ce,null!=e.checked&&1==e.checked)),t.xp6(6),t.Oqu(t.lcZ(16,27,"lang_auto_dung")),t.xp6(2),t.Q6J("ngStyle",t.l5B(55,Nt,t.lcZ(18,29,o.question)?"50%":"none",t.lcZ(19,31,o.question)&&o.fontSize>1.6?o.fontSize+"em":"40px",t.lcZ(20,33,o.question)&&o.fontSize>1.6?o.fontSize+"em":"40px",t.lcZ(21,35,o.question)&&o.fontSize>1.6?o.fontSize+"em":"40px"))("ngClass",t.VKq(60,Ce,null!=e.checked&&0==e.checked)),t.xp6(6),t.Oqu(t.lcZ(24,37,"lang_auto_sai"))}}function Os(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"span",2),t.YNc(3,vs,3,3,"span",0),t.ALo(4,"isTrueFalseAnswer"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4),t.YNc(7,As,25,62,"div",11),t.qZA()(),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",t.lcZ(4,6,e.question)),t.xp6(3),t.Udp("font-size",e.fontSize+"em")("line-height",e.fontSize<1.5?e.fontSize+.5:"1.7"),t.xp6(1),t.Q6J("ngForOf",e.question.answers)}}const Cs=function(n){return{"list-answer-mobile":n}};function ys(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",16)(2,"div",1)(3,"span",2),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",17)(7,"div",18)(8,"textarea",19,20),t.NdJ("input",function(){t.CHM(e);const a=t.MAs(9),s=t.oxw();return t.KtG(s.setFillAnswer(a.value))}),t.ALo(10,"mytranslate"),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(10,Cs,e.isMobileDevice)),t.xp6(3),t.Oqu(t.lcZ(5,6,"lang_auto_nhap_dap_an")),t.xp6(4),t.s9C("placeholder",t.lcZ(10,8,"lang_auto_dap_an_cua_ban")),t.Q6J("value",e.question.essayText),t.uIk("isImage",!1)("question_id",e.question.id)}}function Is(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",21)(2,"div",1)(3,"span",2),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",18)(7,"textarea",19,22),t.NdJ("input",function(){t.CHM(e);const a=t.MAs(8),s=t.oxw();return t.KtG(s.setEssayAnswer(a.value))}),t.ALo(9,"mytranslate"),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,5,"lang_auto_bai_lam")),t.xp6(3),t.s9C("placeholder",t.lcZ(9,7,"lang_auto_bai_lam_cua_ban")),t.Q6J("value",e.question.essayText),t.uIk("isImage",!1)("question_id",e.question.id)}}let ye=(()=>{class n extends T.Q{constructor(){super(...arguments),this.fontSize=1,this.setResultTracking=new t.vpe,this.setOneChoiceAnswerEmitter=new t.vpe,this.setTrueFalseAnswerEmitter=new t.vpe,this.setFillAnswerEmitter=new t.vpe,this.setEssayAnswerEmitter=new t.vpe,this.configRenderService=new we.v}setOneChoiceAnswer(e,o,a,s){if(!s&&!a)return;let r=[this.questionIndex.toString(),a??"",s??"",this.question.id.toString()];this.setResultTracking.emit(r),this.setOneChoiceAnswerEmitter.emit({questionId:this.question.id,answerConfig:e,answerIndex:o})}setTrueFalseAnswer(e,o,a,s,r){e.status=r,a&&(a+="-"+r),s&&(s+="-"+r);let c=[this.questionIndex.toString(),a??"",s??"",this.question.id.toString()];this.setResultTracking.emit(c),this.setTrueFalseAnswerEmitter.emit({questionId:this.question.id,answerConfig:e,answerIndex:o})}setFillAnswer(e){this.setFillAnswerEmitter.emit({questionId:this.question.id,value:e})}setEssayAnswer(e){this.setEssayAnswerEmitter.emit({questionId:this.question.id,value:e})}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-question-answer-view-for-student-at-step-page"]],inputs:{question:"question",questionIndex:"questionIndex",fontSize:"fontSize"},outputs:{setResultTracking:"setResultTracking",setOneChoiceAnswerEmitter:"setOneChoiceAnswerEmitter",setTrueFalseAnswerEmitter:"setTrueFalseAnswerEmitter",setFillAnswerEmitter:"setFillAnswerEmitter",setEssayAnswerEmitter:"setEssayAnswerEmitter"},features:[t.qOj],decls:9,vars:14,consts:[[4,"ngIf"],[1,"strike"],[1,"font-medium","text-slate-600","dark:text-slate-500"],[1,"p-3"],[1,"list-answer"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[1,"item-answer","inline-flex","items-center","cursor-pointer","hover-border-primary",3,"click"],[1,"btn","border-slate-400","mr-3",3,"ngClass","ngStyle"],[1,"answer-content","p-2","border","border-slate-400","dark:border-darkmode-400","rounded-md",3,"ngClass"],[3,"content"],["class","item-answer flex items-center mt-2 cursor-pointer hover-border-primary",4,"ngFor","ngForOf"],[1,"item-answer","flex","items-center","mt-2","cursor-pointer","hover-border-primary"],[1,"btn","border-slate-400","nohover","rounded-full","ml-2","mr-2",3,"ngStyle","ngClass","click"],[1,"text-xs"],[1,"btn","border-slate-400","nohover","rounded-full","mr-2",3,"ngStyle","ngClass","click"],[1,"azt-answer",3,"ngClass"],[1,"flex","items-center","justify-between","w-full"],[1,"azt-answer-content","p-3","w-full"],["autoResize","",1,"w-full","form-control",3,"placeholder","value","input"],["curEssayFillInput",""],[1,"azt-answer"],["curEssayAnswerInput",""]],template:function(e,o){1&e&&(t.YNc(0,Ss,10,11,"ng-container",0),t.ALo(1,"isOneChoiceAnswer"),t.ALo(2,"isMultipleChoiceAnswer"),t.YNc(3,Os,8,8,"ng-container",0),t.ALo(4,"isTrueFalseAnswer"),t.YNc(5,ys,11,12,"ng-container",0),t.ALo(6,"isFillAnswer"),t.YNc(7,Is,10,9,"ng-container",0),t.ALo(8,"isEssayAnswer")),2&e&&(t.Q6J("ngIf",t.lcZ(1,4,o.question)||t.lcZ(2,6,o.question)),t.xp6(3),t.Q6J("ngIf",t.lcZ(4,8,o.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,10,o.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(8,12,o.question)))},dependencies:[_.mk,_.sg,_.O5,_.PC,ke.m,Ct.O,p.JV,p.Uy,p.F_,p.eH,p.ck,p.rp],encapsulation:2}),n})();const zs=function(n){return{"skeleton-box-loading":n}};function Es(n,i){if(1&n&&t._UZ(0,"div",6),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,zs,e.isFirstRender))}}function Zs(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"azt-test-audio-ui",15),t.NdJ("sendAudioEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.sendAudioEmit.emit(a))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("questionObj",e.question)("isShowList",!0)("totalLimit",((null==e.examObj?null:e.examObj.limitAudio)||-1)>0?(null==e.examObj?null:e.examObj.limitAudio)||-1:0)}}function Qs(n,i){if(1&n&&(t.TgZ(0,"div",16),t._uU(1),t.ALo(2,"isOfflineExam"),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);let o;t.xp6(1),t.AsE(" ",e.customQuestionLabel+" "+((null!=e.question.labelIndex?e.question.labelIndex:e.index)+(null!==(o=e.startQuestionIndex)&&void 0!==o?o:1))," ",t.lcZ(2,2,e.examObj)?" ("+t.lcZ(3,4,"lang_auto_hoi_de_thi_offline")+") ":null," ")}}const js=function(n){return{"pr-7":n}};function Ls(n,i){if(1&n&&(t.TgZ(0,"div",21)(1,"b",22),t._uU(2),t.ALo(3,"isTrueFalseAnswer"),t.qZA(),t.TgZ(4,"div",23),t._UZ(5,"azt-dynamic-hook",17),t.qZA()()),2&n){const e=i.$implicit,o=t.oxw(4);let a;t.xp6(1),t.Q6J("ngClass",t.VKq(5,js,o.fontSize>1.5)),t.xp6(1),t.Oqu(t.lcZ(3,3,o.question)?(null!==(a=e.alpha)&&void 0!==a?a:e.key).toLowerCase()+")":(null!==(a=e.alpha)&&void 0!==a?a:e.key)+"."),t.xp6(3),t.Q6J("content",e.content)}}const Fs=function(n){return{"remove-grid":n}};function Ms(n,i){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,Ls,6,7,"div",20),t.qZA()),2&n){const e=t.oxw(3);t.Q6J("ngClass",t.VKq(3,Fs,e.fontSize>1.5))("answerSizeManager",e.answerSizeManager),t.xp6(1),t.Q6J("ngForOf",e.question.answers)}}function Ds(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",7),t._UZ(2,"azt-dynamic-hook",17),t.qZA(),t.YNc(3,Ms,2,5,"div",18),t.ALo(4,"isTrueFalseAnswer"),t.ALo(5,"isOneChoiceAnswer"),t.BQk()),2&n){const e=t.oxw(2);let o;t.xp6(2),t.Q6J("content",null!==(o=e.question.content)&&void 0!==o?o:""),t.xp6(1),t.Q6J("ngIf",(t.lcZ(4,2,e.question)||t.lcZ(5,4,e.question))&&e.question.answers&&e.question.answers.length>0&&e.overTime)}}const qs=function(n){return{"pb-2":n}};function Rs(n,i){if(1&n&&(t.TgZ(0,"div",7)(1,"div",8),t.GkF(2,9),t.TgZ(3,"div",10),t.YNc(4,Zs,1,3,"azt-test-audio-ui",11),t.TgZ(5,"div",12),t.YNc(6,Qs,4,6,"div",13),t.qZA(),t.YNc(7,Ds,6,6,"ng-container",14),t.ALo(8,"isOfflineExam"),t.qZA()(),t.GkF(9,9),t.qZA()),2&n){const e=t.oxw(),o=t.MAs(5),a=t.MAs(7),s=t.MAs(9);t.xp6(1),t.Udp("font-size",e.fontSize+"em")("line-height",e.fontSize<1.5?e.fontSize+.5:"1.7"),t.Q6J("id","question_render_container_"+e.question.id)("ngClass",t.VKq(13,qs,e.question.attachments.length>0)),t.xp6(1),t.Q6J("ngTemplateOutlet",o),t.xp6(2),t.Q6J("ngIf",e.question.attachments.length>0),t.xp6(2),t.Q6J("ngIf",!e.hideQuestionLabel),t.xp6(1),t.Q6J("ngIf",!t.lcZ(8,11,e.examObj)),t.xp6(2),t.Q6J("ngTemplateOutlet",e.overTime?s:a)}}const Us=function(n){return{"mt-4":n}};function Ns(n,i){if(1&n&&(t.TgZ(0,"div",25),t._UZ(1,"azt-dynamic-hook",17),t.qZA()),2&n){const e=t.oxw(3);let o;t.Q6J("ngClass",t.VKq(2,Us,e.isMobile)),t.xp6(1),t.Q6J("content",null!==(o=null==e.question.groupInfo?null:e.question.groupInfo.groupContent)&&void 0!==o?o:"")}}function Js(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Ns,2,4,"div",24),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.question.groupInfo?null:e.question.groupInfo.isFirstInGroup)}}function Bs(n,i){if(1&n&&t.YNc(0,Js,2,1,"ng-container",14),2&n){const e=t.oxw();t.Q6J("ngIf",!(null!=e.examObj&&e.examObj.hideGroupQuestion)||(null==e.question?null:e.question.isRoleTeacher))}}function Ps(n,i){if(1&n&&t.GkF(0,9),2&n){t.oxw();const e=t.MAs(3);t.Q6J("ngTemplateOutlet",e)}}function Hs(n,i){if(1&n&&(t.TgZ(0,"div",29),t.GkF(1,9),t.qZA()),2&n){t.oxw();const e=t.MAs(3);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Gs(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"azt-question-answer-view-for-student-at-step-page",30),t.NdJ("setResultTracking",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setResultTracking.emit(a))})("setOneChoiceAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setOneChoiceAnswerEmitter.emit(a))})("setTrueFalseAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setTrueFalseAnswerEmitter.emit(a))})("setFillAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setFillAnswerEmitter.emit(a))})("setEssayAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setEssayAnswerEmitter.emit(a))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("question",e.question)("questionIndex",e.index)("fontSize",e.fontSize)}}function Ys(n,i){if(1&n&&(t.YNc(0,Ps,1,1,"ng-container",26),t.YNc(1,Hs,2,1,"div",27),t.YNc(2,Gs,1,3,"ng-template",null,28,t.W1O)),2&n){const e=t.oxw();t.Q6J("ngIf",e.takeTestLayout==e.allTakeTestLayouts.LIST_QUESTION),t.xp6(1),t.Q6J("ngIf",e.takeTestLayout!=e.allTakeTestLayouts.LIST_QUESTION)}}function Ws(n,i){if(1&n&&(t.TgZ(0,"span",36),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.question.choseAnswer," ")}}function Ks(n,i){1&n&&(t.TgZ(0,"span")(1,"b",37),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_chua_tra_loi")))}function Vs(n,i){if(1&n&&(t.TgZ(0,"div",33)(1,"p",34),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Ws,2,1,"span",35),t.YNc(5,Ks,4,3,"span",14),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,3,"lang_auto_dap_an_cua_ban"),":"),t.xp6(2),t.Q6J("ngIf",e.question.choseAnswer&&e.question.choseAnswer.length&&""!=e.question.choseAnswer[0]),t.xp6(1),t.Q6J("ngIf",!e.question.choseAnswer||!e.question.choseAnswer.length||""==e.question.choseAnswer[0])}}function $s(n,i){if(1&n&&(t.TgZ(0,"span",39)(1,"b",40),t._uU(2),t.qZA(),t.TgZ(3,"b",41),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu((e.alpha?e.alpha:e.key).toLowerCase()+") - "),t.xp6(2),t.Oqu(t.lcZ(5,2,e.checked?"lang_auto_dung":"lang_auto_sai"))}}function Xs(n,i){if(1&n&&(t.ynx(0),t.YNc(1,$s,6,4,"span",38),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.question.answers)}}function tr(n,i){1&n&&(t.TgZ(0,"span")(1,"b",37),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_chua_tra_loi")))}function er(n,i){if(1&n&&(t.TgZ(0,"div",33)(1,"p",34),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Xs,2,1,"ng-container",14),t.YNc(5,tr,4,3,"span",14),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,3,"lang_auto_dap_an_cua_ban"),":"),t.xp6(2),t.Q6J("ngIf",e.hasAnswerChecking()),t.xp6(1),t.Q6J("ngIf",!e.hasAnswerChecking())}}function nr(n,i){if(1&n&&t._UZ(0,"textarea",45),2&n){const e=t.oxw(3);t.Q6J("value",e.question.choseAnswer),t.uIk("question_id",e.question.id)}}function or(n,i){if(1&n&&(t._UZ(0,"textarea",45),t.ALo(1,"mytranslate")),2&n){const e=t.oxw(3);t.Q6J("value",t.lcZ(1,2,"lang_auto_thi_sinh_chua_nhap_thong_tin")),t.uIk("question_id",e.question.id)}}const ir=function(n){return{"w-100":n}};function ar(n,i){if(1&n&&(t.TgZ(0,"div",33)(1,"p",34),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",42)(5,"div",43),t.YNc(6,nr,1,2,"textarea",44),t.YNc(7,or,2,4,"textarea",44),t.qZA()()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,4,"lang_auto_dap_an_cua_ban"),":"),t.xp6(2),t.Q6J("ngClass",t.VKq(6,ir,e.isMobile)),t.xp6(2),t.Q6J("ngIf",e.question.choseAnswer&&e.question.choseAnswer.length&&""!=e.question.choseAnswer[0]),t.xp6(1),t.Q6J("ngIf",!e.question.choseAnswer||!e.question.choseAnswer.length||""==e.question.choseAnswer[0])}}function sr(n,i){if(1&n&&(t.TgZ(0,"div",31),t.YNc(1,Vs,6,5,"div",32),t.ALo(2,"isOneChoiceAnswer"),t.YNc(3,er,6,5,"div",32),t.ALo(4,"isTrueFalseAnswer"),t.YNc(5,ar,8,8,"div",32),t.ALo(6,"isEssayAnswer"),t.ALo(7,"isFillAnswer"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,e.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,e.question)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,7,e.question)||t.lcZ(7,9,e.question))}}let yt=(()=>{class n extends T.Q{startRenderQuestion(){!this.question||this.disableRender||this.flagObjectComponent.isDestroy?this.disableRender&&!this.flagObjectComponent.isDestroy&&this.doneRender.emit():this.questionRenderService.parseRenderQuestion(this.question,this.configRenderService).then(()=>{this.flagObjectComponent.isDestroy||this.doneRender.emit()}).catch(e=>{this.flagObjectComponent.isDestroy||this.showErrorSnack(e.message)})}get customQuestionLabel(){return(this.commonService.castJsonToObj(this.expandInfo??"{}")??{}).label??"C\xe2u"}hasAnswerChecking(){return null!=this.question.answers.filter(e=>1==e.checked)}ngOnChanges(){this.fontSize&&(this.mathJaxImage&&this.configRenderService.setMaxJaxRenderMode("svg"),this.startRenderQuestion())}ngDoCheck(){if(this.isRenderElement)return;const e=document.getElementById("question_render_element_"+this.question.id);e&&(this.disableLazy||e.getAttribute("start_loading")&&"true"==e.getAttribute("start_loading"))&&(this.isRenderElement||(this.isFirstRender&&(this.startRenderQuestion(),this.follower.doneItemPartQuest()),this.isFirstRender=!1,this.isRenderElement=!0))}ngOnInit(){super.ngOnInit(),this.backToLink=`/test/answer-test/${this.configExam?.tenantId??0}/${this.configExam?.categoryId??0}/${this.configExam?.hashId}/${this.curResultId}`,this.mathJaxImage&&this.configRenderService.setMaxJaxRenderMode("svg"),this.flagObjectComponent.isDestroy=!1}ngOnDestroy(){this.flagObjectComponent.isDestroy=!0,super.ngOnDestroy()}constructor(e){super(),this.questionRenderService=e,this.follower=new ft.p,this.mathJaxImage=!1,this.disableLazy=!1,this.disableRender=!1,this.index=0,this.last=!1,this.hideQuestionLabel=!1,this.answerSizeManager=0,this.fontSize=1,this.orgExamObjs=[],this.isMobile=!1,this.overTime=!1,this.setOneChoiceAnswerEmitter=new t.vpe,this.setTrueFalseAnswerEmitter=new t.vpe,this.setFillAnswerEmitter=new t.vpe,this.setEssayAnswerEmitter=new t.vpe,this.sendAudioEmit=new t.vpe,this.setResultTracking=new t.vpe,this.nextQuestionEmitter=new t.vpe,this.prevQuestionEmitter=new t.vpe,this.doneRender=new t.vpe,this.allTakeTestLayouts=M,this.isFirstRender=!0,this.isRenderElement=!1,this.flagObjectComponent=new hs,this.backToLink="",this.configRenderService=new we.v}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(he.h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-question-standalone-for-student-at-full-test"]],inputs:{follower:"follower",mathJaxImage:"mathJaxImage",disableLazy:"disableLazy",disableRender:"disableRender",curResultId:"curResultId",index:"index",last:"last",questionListLength:"questionListLength",configExam:"configExam",expandInfo:"expandInfo",question:"question",hideQuestionLabel:"hideQuestionLabel",answerSizeManager:"answerSizeManager",fontSize:"fontSize",orgExamObjs:"orgExamObjs",startQuestionIndex:"startQuestionIndex",isMobile:"isMobile",takeTestLayout:"takeTestLayout",overTime:"overTime",examObj:"examObj"},outputs:{setOneChoiceAnswerEmitter:"setOneChoiceAnswerEmitter",setTrueFalseAnswerEmitter:"setTrueFalseAnswerEmitter",setFillAnswerEmitter:"setFillAnswerEmitter",setEssayAnswerEmitter:"setEssayAnswerEmitter",sendAudioEmit:"sendAudioEmit",setResultTracking:"setResultTracking",nextQuestionEmitter:"nextQuestionEmitter",prevQuestionEmitter:"prevQuestionEmitter",doneRender:"doneRender"},features:[t.qOj,t.TTD],decls:10,vars:3,consts:[["load_effect_lazy","",1,"question-standalone-box",3,"id"],["class","question-standalone-loader-box",3,"ngClass",4,"ngIf","ngIfElse"],["elementRended",""],["showQuestionGroupContent",""],["normalShowTpl",""],["overTimeTpl",""],[1,"question-standalone-loader-box",3,"ngClass"],[1,"question-standalone-content-box"],[1,"question-standalone-container","mb-0","no-border-question","border-slate-200/60","dark:border-darkmode-400",3,"id","ngClass"],[3,"ngTemplateOutlet"],[1,"question-standalone-main-content"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter",4,"ngIf"],[1,"flex","items-center","justify-between"],["class","question-standalone-label",4,"ngIf"],[4,"ngIf"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter"],[1,"question-standalone-label"],[3,"content"],["class","row answers",3,"ngClass","answerSizeManager",4,"ngIf"],[1,"row","answers",3,"ngClass","answerSizeManager"],["class","answer col-sm-12 col-md-6",4,"ngFor","ngForOf"],[1,"answer","col-sm-12","col-md-6"],[1,"answer-label",3,"ngClass"],[1,"answer-content"],["class","group-content-of-question-standalone",3,"ngClass",4,"ngIf"],[1,"group-content-of-question-standalone",3,"ngClass"],[3,"ngTemplateOutlet",4,"ngIf"],["class","ml-auto mr-auto w-full",4,"ngIf"],["viewQuestionAnswerBox",""],[1,"ml-auto","mr-auto","w-full"],[3,"question","questionIndex","fontSize","setResultTracking","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter"],[1,"answer-box","ml-auto","mr-auto"],["class","answer-content-front",4,"ngIf"],[1,"answer-content-front"],[1,"h5","mb-0","mr-2",2,"align-self","center"],["class","answer-review","style","background-color: rgba(243, 156, 18, 1); color: rgb(255, 255, 255)",4,"ngIf"],[1,"answer-review",2,"background-color","rgba(243, 156, 18, 1)","color","rgb(255, 255, 255)"],[2,"color","#cd1324","font-weight","450"],["class","mr-2",4,"ngFor","ngForOf"],[1,"mr-2"],[2,"font-weight","450"],[1,"text-warning",2,"font-weight","450"],[1,"row",2,"width","80%",3,"ngClass"],[1,"col-sm-12","mb-1"],["autoResize","","class","form-control mt-1","readonly","",3,"value",4,"ngIf"],["autoResize","","readonly","",1,"form-control","mt-1",3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,Es,1,3,"div",1),t.YNc(2,Rs,10,15,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,Bs,1,1,"ng-template",null,3,t.W1O),t.YNc(6,Ys,4,2,"ng-template",null,4,t.W1O),t.YNc(8,sr,8,11,"ng-template",null,5,t.W1O)),2&e){const a=t.MAs(3);t.Q6J("id","question_render_element_"+o.question.id),t.xp6(1),t.Q6J("ngIf",!o.isRenderElement)("ngIfElse",a)}},dependencies:[_.mk,_.sg,_.O5,_.tP,Se.C,ve.T,ke.m,xs.s,ye,Ct.O,p.JV,p.CL,p.Uy,p.eH,p.ck,p.rp],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-shadow);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262ae!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:darkgrey;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),n})();var It=l(45061);function rr(n,i){if(1&n&&(t.TgZ(0,"p",9),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e)}}function lr(n,i){if(1&n&&(t.TgZ(0,"div")(1,"p")(2,"strong"),t._uU(3),t.qZA()(),t.YNc(4,rr,2,1,"p",8),t.qZA()),2&n){const e=i.$implicit,o=i.index;t.xp6(3),t.AsE("",o+1,". ",e.message,":"),t.xp6(1),t.Q6J("ngForOf",e.data)}}let zt=(()=>{class n extends T.Q{goBackToExamDetails(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.currentTakeTestStepData.examObj.hashId,"?backto="+encodeURIComponent(this.backToLink))}reloadCurrentPage(){location.reload()}ngOnInit(){super.ngOnInit()}constructor(){super()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-test-bank-frontend-load-question-error-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",questsLoadState:"questsLoadState",backToLink:"backToLink"},features:[t.qOj],decls:32,vars:28,consts:[[2,"display","flex","justify-content","center"],[2,"margin","50px","border","1px solid #9e9e9e","padding","20px 50px","border-radius","10px","background","#fafafa","overflow-wrap","break-word","line-height","25px"],[2,"color","#f44336","font-size","18px","font-weight","500","text-transform","uppercase","margin-bottom","20px","text-align","center"],[2,"text-transform","lowercase"],[4,"ngFor","ngForOf"],[1,"mt-5","text-center"],["azt-track-service","take-test-4_EDv4k0GO7",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["azt-track-service","take-test-Z7YL5G4GC5F",1,"btn","btn-sm","btn-primary",3,"click"],["style","color: #795548; font-size: small",4,"ngFor","ngForOf"],[2,"color","#795548","font-size","small"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"strong"),t._uU(12),t.qZA()(),t.TgZ(13,"p"),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"p"),t._uU(17),t.ALo(18,"mytranslate"),t.TgZ(19,"strong"),t._uU(20),t.TgZ(21,"span",3),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()(),t.YNc(24,lr,5,3,"div",4),t.TgZ(25,"p",5)(26,"button",6),t.NdJ("click",function(){return o.goBackToExamDetails()}),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"button",7),t.NdJ("click",function(){return o.reloadCurrentPage()}),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()()()),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,12,"lang_auto_xay_ra_loi_trong_qua_trinh_tai_de_thi")),t.xp6(3),t.Oqu(t.lcZ(7,14,"lang_auto_ban_co_the_click_nao_nut_thu_lai_de_thu_tai_lai_de_thi")),t.xp6(3),t.hij(" ",t.lcZ(10,16,"lang_auto_ma_de_thi")+": "," "),t.xp6(3),t.AsE("",o.currentTakeTestStepData.examObj.hashId," - ",o.currentTakeTestStepData.termExamResultId,""),t.xp6(2),t.hij("",t.lcZ(15,18,"lang_auto_phan_tram_de_thi_da_tai_duoc")+": "+o.questsLoadState.loadPercent,"%"),t.xp6(3),t.hij(" ",t.lcZ(18,20,"lang_auto_so_luong_phat_hien")+": "," "),t.xp6(3),t.hij(" ",o.questsLoadState.errData.length," "),t.xp6(2),t.Oqu(t.lcZ(23,22,"lang_auto_loi")),t.xp6(2),t.Q6J("ngForOf",o.questsLoadState.errData),t.xp6(3),t.hij(" ",t.lcZ(28,24,"lang_core_print_exam_back")," "),t.xp6(3),t.hij(" ",t.lcZ(31,26,"lang_auto_thu_lai")," "))},dependencies:[_.sg,p.JV],encapsulation:2}),n})();var Jt=l(30617);function cr(n,i){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"p",5)(1,"mat-icon",25),t._uU(2,"schedule"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.ALo(6,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_thoi_gian_duoc_phep_vao_thi"),": ",t.lcZ(5,5,e.currentTakeTestStepData.examObj.startTime)," - ",t.lcZ(6,7,e.currentTakeTestStepData.examObj.endTime)," ")}}function _r(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",26),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"app-testbank-frontend-count-down-box",27),t.NdJ("endCountDownEvent",function(a){t.CHM(e);const s=t.oxw();return t.KtG(a&&s.submitTestToApi(!0))}),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,4,"lang_auto_hay_kiem_tra_lai_bai_lam_cua_ban_he_thong_se_tu_dong_nop_bai_sau"),": "),t.xp6(2),t.Q6J("totalSecond",e.currentTakeTestStepData.autoSubmitAfterSeconds)("useCountDown",!0),t.xp6(1),t.hij(" ",t.lcZ(5,6,"lang_auto_hoac_ban_co_the_nop_bai_ngay_bang_cach_an_nut_ben_duoi")," ")}}function ur(n,i){1&n&&(t.ynx(0),t.TgZ(1,"mat-icon",25),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.BQk()),2&n&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_het_gio_lam_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_bai"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_neu_nop_muon_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function pr(n,i){1&n&&(t.TgZ(0,"mat-icon",25),t._uU(1,"timer_off"),t.qZA(),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate")),2&n&&(t.xp6(2),t.lnq(" ",t.lcZ(3,3,"lang_auto_ban_da_qua_gio_nop_bai_thi_hay_an_nut"),' "',t.lcZ(4,5,"lang_auto_nop_muon"),'" ',t.lcZ(5,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function mr(n,i){if(1&n&&(t.TgZ(0,"div",31)(1,"div",32),t._UZ(2,"azt-question-standalone-for-student-at-full-test",33),t.qZA()()),2&n){const e=i.$implicit,o=i.index,a=t.oxw(2);t.xp6(2),t.Q6J("startQuestionIndex",a.currentTakeTestStepData.examObj.startQuestionIndex)("expandInfo",a.currentTakeTestStepData.examObj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",a.followerRenderQuest)("takeTestLayout",a.allTakeTestLayouts.STEP_QUESTION)("isMobile",a.isMobile)("examObj",a.currentTakeTestStepData.examObj)("question",e)("fontSize",a.sAztTestResizeService.fontSize)("index",o)("overTime",!0)("questionListLength",a.currentTakeTestStepData.viewQuestionObjs.length)}}function dr(n,i){if(1&n&&(t.TgZ(0,"mat-tab",28),t.ALo(1,"mytranslate"),t.TgZ(2,"div",34),t.Hsn(3),t.qZA()()),2&n){const e=t.oxw(2);t.s9C("label",t.lcZ(1,1,"lang_auto_tu_luan")+" ("+e.files.length+")")}}function gr(n,i){if(1&n&&(t.TgZ(0,"mat-tab-group")(1,"mat-tab",28),t.ALo(2,"mytranslate"),t.YNc(3,mr,3,13,"div",29),t.qZA(),t.YNc(4,dr,4,3,"mat-tab",30),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.s9C("label",t.lcZ(2,3,"lang_auto_trac_nghiem")),t.xp6(2),t.Q6J("ngForOf",e.currentTakeTestStepData.viewQuestionObjs),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.hasEssayQuestion)}}function fr(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",35)(1,"div",36)(2,"button",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goBackToExamDetails())}),t.O4$(),t.TgZ(3,"svg",38),t._UZ(4,"path",39)(5,"line",40),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(8,"div",41)(9,"button",42),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.submitTestToApi(!0))}),t.O4$(),t.TgZ(10,"svg",43),t._UZ(11,"path",44)(12,"path",45)(13,"path",46),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(6),t.hij(" ",t.lcZ(7,2,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.currentTakeTestStepData.countDownSecond<-300?t.lcZ(15,4,"lang_auto_nop_muon"):t.lcZ(16,6,"lang_powerpoint_frontend_detail_submit")," ")}}const hr=["*"];let Et=(()=>{class n extends T.Q{submitTestToApi(e){this.submitTestEvent.emit(e)}goBackToExamDetails(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.currentTakeTestStepData.examObj.hashId,"?backto="+encodeURIComponent(this.backToLink))}ngOnInit(){super.ngOnInit()}constructor(){super(),this.submitTestEvent=new t.vpe,this.allTakeTestLayouts=M}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-test-bank-frontend-over-time-of-exam"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",questsLoadState:"questsLoadState",backToLink:"backToLink",isMobile:"isMobile",files:"files",followerRenderQuest:"followerRenderQuest",sAztTestResizeService:"sAztTestResizeService",userObj:"userObj"},outputs:{submitTestEvent:"submitTestEvent"},features:[t.qOj],ngContentSelectors:hr,decls:42,vars:33,consts:[[1,"p-3",2,"padding-bottom","50px"],[1,"box","p-5","m-3"],[1,"text-center"],[1,"text-lg","font-medium"],[1,"font-medium"],[1,"flex","justify-center","items-center","mt-2"],[1,"flex","items-center","mr-3"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide","mr-2"],["x1","10","x2","14","y1","2","y2","2"],["x1","12","x2","15","y1","14","y2","11"],["cx","12","cy","14","r","8"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["cx","12","cy","12","r","10"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["x1","12","y1","17","x2","12.01","y2","17"],["class","flex justify-center items-center mt-2",4,"ngIf"],[1,"font-medium","mt-2"],["class","p-3 m-2 text-center text-pending",4,"ngIf"],[1,"mt-3","text-danger","font-medium","text-center"],[4,"ngIf","ngIfElse"],["notActualEndTime",""],[3,"ngTemplateOutlet"],["questionAndAnswerTpl",""],["submitButtonBox",""],[2,"vertical-align","bottom"],[1,"p-3","m-2","text-center","text-pending"],[3,"totalSecond","useCountDown","endCountDownEvent"],[3,"label"],["class","mb-3 mt-2",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[1,"mb-3","mt-2"],[1,"azt-question","box","text-left","relative"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","takeTestLayout","isMobile","examObj","question","fontSize","index","overTime","questionListLength"],[1,"box","mt-2"],[1,"mt-2","flex","justify-center"],[1,"-intro-x","mr-4"],["azt-track-service","take-test-zYDkrlktkR",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2","text-danger"],["d","M18.36 6.64a9 9 0 1 1-12.73 0"],["x1","12","y1","2","x2","12","y2","12"],[1,"intro-x"],["azt-track-service","take-test-HI_SB5_l-P",1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5"],["d","M8 18h1"],["d","M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z"]],template:function(e,o){if(1&e&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.qZA(),t.TgZ(5,"p",4),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"div",5)(9,"div",6),t.O4$(),t.TgZ(10,"svg",7),t._UZ(11,"line",8)(12,"line",9)(13,"circle",10),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(17,"div",11),t.O4$(),t.TgZ(18,"svg",12),t._UZ(19,"circle",13)(20,"path",14)(21,"line",15),t.qZA(),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()(),t.YNc(24,cr,7,9,"p",16),t.kcU(),t.TgZ(25,"p",17),t._uU(26),t.ALo(27,"mytranslate"),t.ALo(28,"mytranslate"),t.ALo(29,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()(),t.YNc(30,_r,6,8,"div",18),t.qZA(),t.TgZ(31,"div",19),t.YNc(32,ur,7,9,"ng-container",20),t.YNc(33,pr,6,9,"ng-template",null,21,t.W1O),t.qZA(),t.GkF(35,22)(36,22)(37,22),t.qZA(),t.YNc(38,gr,5,5,"ng-template",null,23,t.W1O),t.YNc(40,fr,17,8,"ng-template",null,24,t.W1O)),2&e){const a=t.MAs(34),s=t.MAs(39),r=t.MAs(41);t.xp6(4),t.Oqu(o.currentTakeTestStepData.examObj.name),t.xp6(2),t.AsE("",t.lcZ(7,19,"lang_auto_ma_de"),": ",o.currentTakeTestStepData.examObj.hashId,""),t.xp6(8),t.lnq(" ",t.lcZ(15,21,"lang_auto_thoi_gian"),": ",o.currentTakeTestStepData.examObj.minutes," ",t.lcZ(16,23,"lang_auto_phut")," "),t.xp6(8),t.AsE(" ",t.lcZ(23,25,"lang_auto_so_cau"),": ",o.currentTakeTestStepData.countQuestion," "),t.xp6(2),t.Q6J("ngIf",o.currentTakeTestStepData.examObj.startTime&&o.currentTakeTestStepData.examObj.endTime),t.xp6(2),t.HOy(" ",t.lcZ(27,27,"lang_auto_thi_sinh"),": ",null==o.userObj?null:o.userObj.fullName," ",t.lcZ(28,29,"lang_auto_-_vao_thi_luc"),": ",t.lcZ(29,31,null==o.currentTakeTestStepData.testingResultObj?null:o.currentTakeTestStepData.testingResultObj.startedTest)," "),t.xp6(4),t.Q6J("ngIf",o.currentTakeTestStepData.autoSubmitAfterSeconds),t.xp6(2),t.Q6J("ngIf",o.currentTakeTestStepData.isActualEndTime)("ngIfElse",a),t.xp6(3),t.Q6J("ngTemplateOutlet",r),t.xp6(1),t.Q6J("ngTemplateOutlet",s),t.xp6(1),t.Q6J("ngTemplateOutlet",r)}},dependencies:[_.sg,_.O5,_.tP,Jt.Hw,ht.uX,ht.SP,yt,G,p.JV,p.$n],encapsulation:2}),n})(),Zt=(()=>{class n extends T.Q{onResize(){var e=()=>!(this.currentTakeTestStepData.currentStep!=x.START_TEST||!this.currentTakeTestStepData.showFullScreenRequired||this.sAztFullScreenService.checkFullScreen()||this.sAztFullScreenVisibleService.isSendingToApi()||!this.sAztFullScreenVisibleService.isAllowTrackFullScreen());e()&&setTimeout(()=>{e()&&(this.sAztFullScreenVisibleService.setSendingToApiStatus(!0),this.waitDestroy(this.frontExamTrackService.apiFrontExamTrackSaveObjPost({examId:this.currentTakeTestStepData.examObj.id,name:"exit_full_screen",examResultId:this.currentTakeTestStepData.termExamResultId??0}).subscribe(a=>{a.success&&this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_che_do_toan_man_hinh"),setTimeout(()=>{this.sAztFullScreenVisibleService.setSendingToApiStatus(!1)},1e3)})))},5e3)}ngOnInit(){this.onResize(),super.ngOnInit()}constructor(e,o){super(),this.frontExamTrackService=e,this.sAztFullScreenVisibleService=o,this.sAztFullScreenService=new H}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.FQ),t.Y36(kt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-tracking-full-screen-event"]],hostBindings:function(e,o){1&e&&t.NdJ("resize",function(s){return o.onResize(s)},!1,t.Jf7)},inputs:{currentTakeTestStepData:"currentTakeTestStepData"},features:[t.qOj],decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})(),Qt=(()=>{class n extends T.Q{visibilitychange(){var e=()=>!(this.currentTakeTestStepData.currentStep!=x.START_TEST||!this.currentTakeTestStepData.showFullScreenRequired||this.sAztFullScreenVisibleService.isSendingToApi()||!this.sAztFullScreenVisibleService.isAllowTrackVisible()||"visible"==document.visibilityState);e()&&setTimeout(()=>{e()&&(this.sAztFullScreenVisibleService.setSendingToApiStatus(!0),this.waitDestroy(this.frontExamTrackService.apiFrontExamTrackSaveObjPost({examId:this.currentTakeTestStepData.examObj.id,name:"blur_window",examResultId:this.currentTakeTestStepData.termExamResultId??0}).subscribe(a=>{a.success&&this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_bai_thi"),setTimeout(()=>{this.sAztFullScreenVisibleService.setSendingToApiStatus(!1)},1e3)})))},5e3)}ngOnInit(){super.ngOnInit()}constructor(e,o){super(),this.frontExamTrackService=e,this.sAztFullScreenVisibleService=o}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.FQ),t.Y36(kt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-tracking-visible-event"]],hostBindings:function(e,o){1&e&&t.NdJ("visibilitychange",function(s){return o.visibilitychange(s)},!1,t.evT)},inputs:{currentTakeTestStepData:"currentTakeTestStepData"},features:[t.qOj],decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})(),jt=(()=>{class n extends T.Q{constructor(){super(...arguments),this.isConfirmReload=!0}stopConfirm(){this.isConfirmReload=!1}askBeforeCloseWindow(e){if(this.isConfirmReload)return console.log("go he"),e.returnValue=!1}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-leave-window-event"]],hostBindings:function(e,o){1&e&&t.NdJ("beforeunload",function(s){return o.askBeforeCloseWindow(s)},!1,t.Jf7)},features:[t.qOj],decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})();function xr(n,i){1&n&&(t.TgZ(0,"span",6),t._uU(1,"*"),t.qZA())}const Tr=function(n,i){return{"col-span-1":n,"col-span-2":i}},br=function(n){return{answeredQuestion:n}};function wr(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"button",3),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.layoutType==r.allTakeTestLayouts.LIST_QUESTION?r.sAztTestNextBackQuestionService.scrollTo(s):r.sAztTestNextBackQuestionService.goTo(r.currentTakeTestStepData,s))}),t.TgZ(3,"span",4),t._uU(4),t.YNc(5,xr,2,0,"span",5),t.qZA()()(),t.BQk()}if(2&n){const e=i.$implicit,o=i.index,a=t.oxw();let s;t.xp6(1),t.Q6J("ngClass",t.WLB(5,Tr,!a.isMobileScreenSize&&a.layoutType==a.allTakeTestLayouts.STEP_QUESTION,a.isMobileScreenSize||a.layoutType!=a.allTakeTestLayouts.STEP_QUESTION)),t.xp6(1),t.Q6J("ngClass",t.VKq(8,br,e.status)),t.xp6(2),t.AsE(" ",o+(null!==(s=a.currentTakeTestStepData.examObj.startQuestionIndex)&&void 0!==s?s:1)<=9?"0":"","",o+(null!==(s=a.currentTakeTestStepData.examObj.startQuestionIndex)&&void 0!==s?s:1)," "),t.xp6(1),t.Q6J("ngIf",a.layoutType==a.allTakeTestLayouts.STEP_QUESTION&&(null==a.currentTakeTestStepData.nextBackQuestionModel||null==a.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj?null:a.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id)==e.id)}}const Sr=function(n){return{"sheet-screen-monitor":n}};let Bt=(()=>{class n extends T.Q{constructor(){super(...arguments),this.allTakeTestLayouts=M}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-list-shortcut-question-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",requiredNextBackQuestionModel:"requiredNextBackQuestionModel",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService",isMobileScreenSize:"isMobileScreenSize",layoutType:"layoutType"},features:[t.qOj],decls:2,vars:4,consts:[[1,"grid","grid-cols-10","gap-2","sheet-screen",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"ngClass"],["azt-track-service","take-test-wdi0TAS3bgU",1,"rounded-md","border","border-slate-400","p-1","w-full","active",3,"ngClass","click"],[1,"relative"],["class","relative","style","color: #ffa700; top: -7px",4,"ngIf"],[1,"relative",2,"color","#ffa700","top","-7px"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,wr,6,10,"ng-container",1),t.qZA()),2&e&&(t.Q6J("ngClass",t.VKq(2,Sr,!o.isMobileScreenSize&&o.currentTakeTestStepData.isShowVideoMonitor)),t.xp6(1),t.Q6J("ngForOf",o.currentTakeTestStepData.viewQuestionObjs))},dependencies:[_.mk,_.sg,_.O5],styles:[".answeredQuestion[_ngcontent-%COMP%]{background-color:#2c60a6!important;color:#fff!important;border-color:#2c60a6}"]}),n})();const vr=function(n){return[n]};let Lt=(()=>{class n extends T.Q{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-wait-to-test-time-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",homeLink:"homeLink"},features:[t.qOj],decls:11,vars:17,consts:[[1,"pb-4"],[1,"alert","alert-danger"],[1,"text-center","clickable","mt-2"],["azt-track-service","take-test-8oUvqrS4hCo",1,"link__color","link__hover",3,"routerLink"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA(),t.TgZ(6,"div",2)(7,"a",3),t.ALo(8,"navigationLocalize"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(2),t.lnq(" ",t.lcZ(3,5,o.currentTakeTestStepData.errorMessage)," ",t.lcZ(4,7,"lang_auto_vui_long_quay_lai_vao_luc"),": ",t.lcZ(5,9,o.currentTakeTestStepData.examObj.startTime)," "),t.xp6(5),t.Q6J("routerLink",t.VKq(15,vr,t.lcZ(8,11,o.homeLink))),t.xp6(2),t.Oqu(t.lcZ(10,13,"lang_auto_quay_lai_trang_chu")))},dependencies:[m.rH,p.Jy,p.JV,p.$n],encapsulation:2}),n})();function kr(n,i){1&n&&(t.TgZ(0,"div",3),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_frontend_you_are_not_upload_any_essay_files"),"\n"))}function Ar(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",4)(2,"div")(3,"button",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showUploadEssayFilesDialogEvent.emit())}),t.O4$(),t.TgZ(4,"svg",6),t._UZ(5,"path",7)(6,"path",8)(7,"path",9),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(10,"p",10),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.BQk()}2&n&&(t.xp6(8),t.hij(" ",t.lcZ(9,2,"lang_testbank_frontend_upload_essay_files")," "),t.xp6(3),t.Oqu(t.lcZ(12,4,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets")))}let Ft=(()=>{class n extends T.Q{constructor(){super(...arguments),this.showUploadEssayFilesDialogEvent=new t.vpe,this.changeAnswerFilesEvent=new t.vpe}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-upload-essay-file-at-over-time-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData"},outputs:{showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",changeAnswerFilesEvent:"changeAnswerFilesEvent"},features:[t.qOj],decls:3,vars:3,consts:[["class","p-3 m-2 alert alert-danger",4,"ngIf"],[4,"ngIf"],[3,"answerFiles","changeAnswerFiles"],[1,"p-3","m-2","alert","alert-danger"],[1,"text-center","mt-1","mb-2"],["azt-track-service","take-test-EkxWzdqkfZ",1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5"],["d","M8 18h1"],["d","M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z"],[1,"h6","mb-2","mt-1"]],template:function(e,o){1&e&&(t.YNc(0,kr,3,3,"div",0),t.YNc(1,Ar,13,6,"ng-container",1),t.TgZ(2,"app-sort-essay-files-box",2),t.NdJ("changeAnswerFiles",function(s){return o.changeAnswerFilesEvent.emit(s)}),t.qZA()),2&e&&(t.Q6J("ngIf",0==o.currentTakeTestStepData.files.length),t.xp6(1),t.Q6J("ngIf",o.currentTakeTestStepData.allowUploadEssayFileWhenEndTime),t.xp6(1),t.Q6J("answerFiles",o.currentTakeTestStepData.files))},dependencies:[_.O5,Ot.I,p.JV],encapsulation:2}),n})();function Or(n,i){if(1&n&&t._UZ(0,"app-testbank-frontend-count-down-box",28),2&n){const e=t.oxw();t.Q6J("totalSecond",e.currentTakeTestStepData.countDownSecond)("useCountDown",!1)}}function Cr(n,i){1&n&&(t._uU(0),t.ALo(1,"mytranslate")),2&n&&t.hij(" ",t.lcZ(1,1,"lang_auto_khong_gioi_han")," ")}function yr(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"a",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showUploadEssayFilesDialogEvent.emit())}),t.O4$(),t.TgZ(2,"svg",30),t._UZ(3,"path",31),t.qZA(),t.kcU(),t.TgZ(4,"span",22),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"lang_auto_dinh_kem_tu_luan")))}let Pt=(()=>{class n extends T.Q{constructor(){super(...arguments),this.openSubmitExamEvent=new t.vpe,this.showUploadEssayFilesDialogEvent=new t.vpe,this.openQuitDialogEvent=new t.vpe}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-simple-test-header-box-for-mobile"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData"},outputs:{openSubmitExamEvent:"openSubmitExamEvent",showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",openQuitDialogEvent:"openQuitDialogEvent"},features:[t.qOj],decls:36,vars:10,consts:[[1,"fixed","w-full","bg-black-100","text-white","items-center","flex","top-0","left-0","ng-star-inserted","p-3","z-index-1000"],[1,"w-full","grid","grid-cols-12","gap-3","items-center","justify-between","ml-0","mr-0"],[1,"col-span-3","self-center"],["azt-track-service","take-test-hTmjtImrd1N",1,"col-span-6","text-center","pl-0","pr-0","self-center"],[1,"text-white","mr-1","clickable",2,"vertical-align","middle","width","20px","font-size","20px","font-weight","500","margin-right","5px"],[3,"totalSecond","useCountDown",4,"ngIf","ngIfElse"],["unlimitedTimeTpl",""],[1,"col-span-3","pl-0","pr-1","text-right","self-center"],["azt-track-service","main-component-WXDHmEOSWA",1,"btn","btn-transparent","p-0",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-circle-ellipsis","w-6","h-6","flex-none"],["cx","12","cy","12","r","10"],["d","M17 12h.01"],["d","M12 12h.01"],["d","M7 12h.01"],["xPosition","before"],["actionMenu","matMenu"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["azt-track-service","take-test-qCh4rHipyZ7",1,"dropdown-item","clickable","text-success",2,"align-items","center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide","lucide-send-horizontal","mr-2"],["d","m3 3 3 9-3 9 19-9Z"],["d","M6 12h16"],[2,"vertical-align","middle"],[4,"ngIf"],["azt-track-service","take-test-Sv-5CQ5vRW_",1,"dropdown-item","clickable","text-danger",2,"align-items","center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","mr-2"],["d","M18.36 6.64a9 9 0 1 1-12.73 0"],["x1","12","y1","2","x2","12","y2","12"],[3,"totalSecond","useCountDown"],["azt-track-service","take-test-Hl-nLDepRGa",1,"dropdown-item","clickable",2,"align-items","center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide","lucide-paperclip","mr-2"],["d","m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3)(4,"mat-icon",4),t._uU(5,"av_timer"),t.qZA(),t.YNc(6,Or,1,2,"app-testbank-frontend-count-down-box",5),t.YNc(7,Cr,2,3,"ng-template",null,6,t.W1O),t.qZA(),t.TgZ(9,"div",7)(10,"a",8),t.NdJ("click",function(s){return s.stopPropagation()}),t.O4$(),t.TgZ(11,"svg",9),t._UZ(12,"circle",10)(13,"path",11)(14,"path",12)(15,"path",13),t.qZA()()()()(),t.kcU(),t.TgZ(16,"mat-menu",14,15)(18,"div",16)(19,"ul",17)(20,"li")(21,"a",18),t.NdJ("click",function(){return o.openSubmitExamEvent.emit()}),t.O4$(),t.TgZ(22,"svg",19),t._UZ(23,"path",20)(24,"path",21),t.qZA(),t.kcU(),t.TgZ(25,"span",22),t._uU(26),t.ALo(27,"mytranslate"),t.qZA()()(),t.YNc(28,yr,7,3,"li",23),t.TgZ(29,"li")(30,"a",24),t.NdJ("click",function(){return o.openQuitDialogEvent.emit()}),t.O4$(),t.TgZ(31,"svg",25),t._UZ(32,"path",26)(33,"line",27),t.qZA(),t._uU(34),t.ALo(35,"mytranslate"),t.qZA()()()()()),2&e){const a=t.MAs(8),s=t.MAs(17);t.xp6(6),t.Q6J("ngIf",!o.currentTakeTestStepData.isUnLimitedTime)("ngIfElse",a),t.xp6(4),t.Q6J("matMenuTriggerFor",s),t.xp6(16),t.Oqu(t.lcZ(27,6,"lang_auto_nop_bai")),t.xp6(2),t.Q6J("ngIf",o.currentTakeTestStepData.hasEssayQuestion),t.xp6(6),t.hij(" ",t.lcZ(35,8,"lang_auto_thoat")," ")}},dependencies:[_.O5,Jt.Hw,N.VK,N.p6,G,p.JV],encapsulation:2}),n})();function Ir(n,i){if(1&n&&(t.O4$(),t.kcU(),t._UZ(0,"app-testbank-frontend-count-down-box",47)),2&n){const e=t.oxw();t.Q6J("totalSecond",e.currentTakeTestStepData.countDownSecond)("useCountDown",!1)}}function zr(n,i){1&n&&(t.O4$(),t._uU(0),t.ALo(1,"mytranslate")),2&n&&t.hij(" ",t.lcZ(1,1,"lang_auto_khong_gioi_han")," ")}function Er(n,i){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",48),t._UZ(2,"line",35)(3,"line",36)(4,"line",37)(5,"line",38)(6,"line",39)(7,"line",40),t.qZA()())}function Zr(n,i){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",49),t._UZ(2,"rect",43)(3,"rect",44)(4,"path",45)(5,"path",46),t.qZA()())}function Qr(n,i){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",50),t._UZ(2,"rect",51)(3,"rect",52)(4,"rect",53),t.qZA()())}function jr(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.sAztFullScreenService.showFullScreen())}),t.O4$(),t.TgZ(1,"svg",26),t._UZ(2,"path",57)(3,"path",58)(4,"path",59)(5,"path",60),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()}2&n&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_toan_man_hinh")," "))}function Lr(n,i){if(1&n&&(t.TgZ(0,"div",54),t.YNc(1,jr,8,3,"button",55),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isMobileScreenSize)}}function Fr(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",54)(1,"button",61),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showUploadEssayFilesDialogEvent.emit())}),t.O4$(),t.TgZ(2,"svg",26),t._UZ(3,"path",62),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&n&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_dinh_kem_bai_tu_luan")," "))}const Ht=function(n){return{"bg-primary text-white font-medium":n}};function Mr(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"a",63),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeShowTypeEvent.emit(a.allTakeTestLayouts.GROUP_QUESTION))}),t.O4$(),t.TgZ(2,"svg",64),t._UZ(3,"rect",51)(4,"rect",52)(5,"rect",53),t.qZA(),t.kcU(),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(4,Ht,e.layoutType===e.allTakeTestLayouts.GROUP_QUESTION)),t.xp6(6),t.hij(" ",t.lcZ(8,2,"lang_azt_display_questions_by_group")," ")}}let Gt=(()=>{class n extends T.Q{constructor(){super(...arguments),this.openQuitDialogEvent=new t.vpe,this.changeShowTypeEvent=new t.vpe,this.showUploadEssayFilesDialogEvent=new t.vpe,this.openSubmitExamEvent=new t.vpe,this.sAztFullScreenService=new H,this.allTakeTestLayouts=M,this.isAllQuestionInGroup=!0}ngOnInit(){this.isAllQuestionInGroup=!this.currentTakeTestStepData.viewQuestionObjs.some(e=>!e?.groupInfo?.groupId)}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-simple-test-header-box-for-desktop"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",sAztTestResizeService:"sAztTestResizeService",layoutType:"layoutType",isMobileScreenSize:"isMobileScreenSize"},outputs:{openQuitDialogEvent:"openQuitDialogEvent",changeShowTypeEvent:"changeShowTypeEvent",showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",openSubmitExamEvent:"openSubmitExamEvent"},features:[t.qOj],decls:77,vars:39,consts:[[1,"fixed","w-full","box","rounded-none","items-center","flex","top-0","left-0","ng-star-inserted","p-3","z-index-1000","border-b","border-slate-200","dark:border-darkmode-400"],["azt-track-service","take-test-E4FLezP4kF",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[1,"relative","mx-auto"],[1,"text-md","font-medium"],[1,"mr-6"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[3,"totalSecond","useCountDown",4,"ngIf","ngIfElse"],["unlimitedTimeTpl",""],[1,"flex","items-center","dropdown","mr-3"],["azt-track-service","take-test-DqyfiYKf45",1,"btn","btn-sm","btn-secondary","mr-2",3,"disabled","matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-zoom-out"],["cx","11","cy","11","r","8"],["x1","21","x2","16.65","y1","21","y2","16.65"],["x1","8","x2","14","y1","11","y2","11"],["azt-track-service","take-test-lcadhTPzm",1,"btn","btn-sm","btn-secondary",3,"disabled","matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-zoom-in"],["x1","11","x2","11","y1","8","y2","14"],["azt-track-service","take-test-UBz-4Fa9hv",1,"btn","btn-sm","btn-secondary",3,"matMenuTriggerFor"],[4,"ngIf"],["class","mr-2",4,"ngIf"],["azt-track-service","take-test-U5gleH2CsWW",1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5"],["d","M8 18h1"],["d","M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z"],["layoutTypeMenu","matMenu"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","simple-test-header-box-for-desktop-LwFLoUqqHP",1,"dropdown-item","items-center",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-list","w-4","h-4","mr-2"],["x1","8","x2","21","y1","6","y2","6"],["x1","8","x2","21","y1","12","y2","12"],["x1","8","x2","21","y1","18","y2","18"],["x1","3","x2","3.01","y1","6","y2","6"],["x1","3","x2","3.01","y1","12","y2","12"],["x1","3","x2","3.01","y1","18","y2","18"],["azt-track-service","simple-test-header-box-for-desktop-BUfzS1hKTY",1,"dropdown-item","items-center",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-computer","w-4","h-4","mr-2"],["width","14","height","8","x","5","y","2","rx","2"],["width","20","height","8","x","2","y","14","rx","2"],["d","M6 18h2"],["d","M12 18h6"],[3,"totalSecond","useCountDown"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-list","w-4","h-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-computer","w-4","h-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-layout-panel-left","w-4","h-4"],["width","7","height","18","x","3","y","3","rx","1"],["width","7","height","7","x","14","y","3","rx","1"],["width","7","height","7","x","14","y","14","rx","1"],[1,"mr-2"],["azt-track-service","take-test-7o7YbIPIyM","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","take-test-7o7YbIPIyM",1,"btn","btn-sm","btn-secondary",3,"click"],["d","M8 3H5a2 2 0 0 0-2 2v3"],["d","M21 8V5a2 2 0 0 0-2-2h-3"],["d","M3 16v3a2 2 0 0 0 2 2h3"],["d","M16 21h3a2 2 0 0 0 2-2v-3"],["azt-track-service","take-test-EYDOxzj8YnB",1,"btn","btn-sm","btn-secondary",3,"click"],["d","m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"],["azt-track-service","simple-test-header-box-for-desktop-NNYZn1EpUR",1,"dropdown-item","items-center",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-layout-panel-left","w-4","h-4","mr-2"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"button",1),t.NdJ("click",function(){return o.openQuitDialogEvent.emit()}),t.O4$(),t.TgZ(3,"svg",2),t._UZ(4,"polyline",3),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(7,"div",4)(8,"span",5),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"div",6)(12,"div",7),t.O4$(),t.TgZ(13,"svg",8),t._UZ(14,"circle",9)(15,"polyline",10),t.qZA(),t.YNc(16,Ir,1,2,"app-testbank-frontend-count-down-box",11),t.YNc(17,zr,2,3,"ng-template",null,12,t.W1O),t.qZA()(),t.kcU(),t.TgZ(19,"div",13)(20,"button",14),t.NdJ("click",function(){return o.sAztTestResizeService.zoomOut()}),t.ALo(21,"mytranslate"),t.TgZ(22,"span"),t.O4$(),t.TgZ(23,"svg",15),t._UZ(24,"circle",16)(25,"line",17)(26,"line",18),t.qZA()()(),t.kcU(),t.TgZ(27,"button",19),t.NdJ("click",function(){return o.sAztTestResizeService.zoomIn()}),t.ALo(28,"mytranslate"),t.TgZ(29,"span"),t.O4$(),t.TgZ(30,"svg",20),t._UZ(31,"circle",16)(32,"line",17)(33,"line",21)(34,"line",18),t.qZA()()()(),t.kcU(),t.TgZ(35,"div",13)(36,"button",22),t.YNc(37,Er,8,0,"span",23),t.YNc(38,Zr,6,0,"span",23),t.YNc(39,Qr,5,0,"span",23),t.qZA()(),t.YNc(40,Lr,2,1,"div",24),t.YNc(41,Fr,6,3,"div",24),t.TgZ(42,"div")(43,"button",25),t.NdJ("click",function(){return o.openSubmitExamEvent.emit()}),t.O4$(),t.TgZ(44,"svg",26),t._UZ(45,"path",27)(46,"path",28)(47,"path",29),t.qZA(),t._uU(48),t.ALo(49,"mytranslate"),t.qZA()()(),t.kcU(),t.TgZ(50,"mat-menu",null,30)(52,"div",31)(53,"ul",32)(54,"li")(55,"a",33),t.NdJ("click",function(){return o.changeShowTypeEvent.emit(o.allTakeTestLayouts.LIST_QUESTION)}),t.O4$(),t.TgZ(56,"svg",34),t._UZ(57,"line",35)(58,"line",36)(59,"line",37)(60,"line",38)(61,"line",39)(62,"line",40),t.qZA(),t.kcU(),t.TgZ(63,"span"),t._uU(64),t.ALo(65,"mytranslate"),t.qZA()()(),t.TgZ(66,"li")(67,"a",41),t.NdJ("click",function(){return o.changeShowTypeEvent.emit(o.allTakeTestLayouts.STEP_QUESTION)}),t.O4$(),t.TgZ(68,"svg",42),t._UZ(69,"rect",43)(70,"rect",44)(71,"path",45)(72,"path",46),t.qZA(),t.kcU(),t.TgZ(73,"span"),t._uU(74),t.ALo(75,"mytranslate"),t.qZA()()(),t.YNc(76,Mr,9,6,"li",23),t.qZA()()()),2&e){const a=t.MAs(18),s=t.MAs(51);t.xp6(5),t.hij(" ",t.lcZ(6,21,"lang_button_back")," "),t.xp6(4),t.AsE("",t.lcZ(10,23,"lang_auto_thi_sinh"),": ",o.currentTakeTestStepData.testingUserObj.fullName,""),t.xp6(7),t.Q6J("ngIf",!o.currentTakeTestStepData.isUnLimitedTime)("ngIfElse",a),t.xp6(4),t.Q6J("disabled",o.sAztTestResizeService.fontSize<=1)("matTooltip",t.lcZ(21,25,"lang_take_test_zoom_out")),t.xp6(7),t.Q6J("disabled",o.sAztTestResizeService.fontSize>=2)("matTooltip",t.lcZ(28,27,"lang_take_test_zoom_in")),t.xp6(9),t.Q6J("matMenuTriggerFor",s),t.xp6(1),t.Q6J("ngIf",o.layoutType===o.allTakeTestLayouts.LIST_QUESTION),t.xp6(1),t.Q6J("ngIf",o.layoutType===o.allTakeTestLayouts.STEP_QUESTION),t.xp6(1),t.Q6J("ngIf",o.layoutType===o.allTakeTestLayouts.GROUP_QUESTION),t.xp6(1),t.Q6J("ngIf",o.currentTakeTestStepData.showFullScreenRequired),t.xp6(1),t.Q6J("ngIf",o.currentTakeTestStepData.hasEssayQuestion),t.xp6(7),t.hij(" ",t.lcZ(49,29,"lang_auto_nop_bai")," "),t.xp6(7),t.Q6J("ngClass",t.VKq(35,Ht,o.layoutType===o.allTakeTestLayouts.LIST_QUESTION)),t.xp6(9),t.hij(" ",t.lcZ(65,31,"lang_auto_show_list")," "),t.xp6(3),t.Q6J("ngClass",t.VKq(37,Ht,o.layoutType===o.allTakeTestLayouts.STEP_QUESTION)),t.xp6(7),t.hij(" ",t.lcZ(75,33,"lang_auto_show_unit")," "),t.xp6(2),t.Q6J("ngIf",o.isAllQuestionInGroup)}},dependencies:[_.mk,_.O5,N.VK,N.p6,P.gM,G,p.JV],encapsulation:2}),n})();function Dr(n,i){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",50),t._UZ(2,"line",33)(3,"line",34)(4,"line",35)(5,"line",36)(6,"line",37)(7,"line",38),t.qZA()())}function qr(n,i){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",51),t._UZ(2,"rect",41)(3,"rect",42)(4,"path",43)(5,"path",44),t.qZA()())}function Rr(n,i){1&n&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",52),t._UZ(2,"rect",47)(3,"rect",48)(4,"rect",49),t.qZA()())}function Ur(n,i){if(1&n&&t._UZ(0,"app-testbank-frontend-count-down-box",53),2&n){const e=t.oxw();t.Q6J("totalSecond",e.currentTakeTestStepData.countDownSecond)("useCountDown",!1)}}function Nr(n,i){1&n&&(t._uU(0),t.ALo(1,"mytranslate")),2&n&&t.hij(" ",t.lcZ(1,1,"lang_auto_khong_gioi_han")," ")}function Jr(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"a",54),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showUploadEssayFilesDialogEvent.emit())}),t.O4$(),t.TgZ(2,"svg",55),t._UZ(3,"path",56),t.qZA(),t.kcU(),t.TgZ(4,"span",24),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"lang_auto_dinh_kem_tu_luan")))}let Yt=(()=>{class n extends T.Q{constructor(){super(...arguments),this.changeShowTypeEvent=new t.vpe,this.openSubmitExamEvent=new t.vpe,this.showUploadEssayFilesDialogEvent=new t.vpe,this.openQuitDialogEvent=new t.vpe,this.allTakeTestLayouts=M}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-simple-test-footer-box-for-mobile"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",layoutType:"layoutType"},outputs:{changeShowTypeEvent:"changeShowTypeEvent",openSubmitExamEvent:"openSubmitExamEvent",showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",openQuitDialogEvent:"openQuitDialogEvent"},features:[t.qOj],decls:75,vars:23,consts:[[1,"fixed","w-full","bg-black-100","text-white","items-center","flex","bottom-0","left-0","ng-star-inserted","p-3"],[1,"w-full","grid","grid-cols-12","gap-3","justify-between","clickable"],[1,"col-span-3","flex","pr-1","menu-control"],[1,"btn","text-white","p-0","border-0",3,"matMenuTriggerFor"],[4,"ngIf"],["azt-track-service","take-test-6mIR-7BLuro",1,"col-span-6","pl-0","pr-0","text-center","self-center"],[1,"text-white","mr-1","clickable",2,"vertical-align","middle","width","20px","font-size","20px","font-weight","500","margin-right","5px"],[3,"totalSecond","useCountDown",4,"ngIf","ngIfElse"],["unlimitedTimeTpl",""],["azt-track-service","take-test-hTmjtImrd1N",1,"col-span-3","text-right","pl-0","self-center"],["azt-track-service","main-component-VVGowes4-G",1,"btn","btn-transparent","p-0",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-circle-ellipsis","w-6","h-6","flex-none"],["cx","12","cy","12","r","10"],["d","M17 12h.01"],["d","M12 12h.01"],["d","M7 12h.01"],["xPosition","before"],["actionMenu","matMenu"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["azt-track-service","take-test-qCh4rHipyZ7",1,"dropdown-item","clickable","text-success",2,"align-items","center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide","lucide-send-horizontal","mr-2"],["d","m3 3 3 9-3 9 19-9Z"],["d","M6 12h16"],[2,"vertical-align","middle"],["azt-track-service","take-test-Sv-5CQ5vRW_",1,"dropdown-item","clickable","text-danger",2,"align-items","center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","mr-2"],["d","M18.36 6.64a9 9 0 1 1-12.73 0"],["x1","12","y1","2","x2","12","y2","12"],["layoutTypeMenu","matMenu"],[1,"dropdown-menu","show","relative","w-56"],["azt-track-service","simple-test-footer-box-for-mobile-39mJtPR3D",1,"dropdown-item","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-list","w-4","h-4","mr-2"],["x1","8","x2","21","y1","6","y2","6"],["x1","8","x2","21","y1","12","y2","12"],["x1","8","x2","21","y1","18","y2","18"],["x1","3","x2","3.01","y1","6","y2","6"],["x1","3","x2","3.01","y1","12","y2","12"],["x1","3","x2","3.01","y1","18","y2","18"],["azt-track-service","simple-test-footer-box-for-mobile-J4o_xpi4Ao",1,"dropdown-item","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-computer","w-4","h-4","mr-2"],["width","14","height","8","x","5","y","2","rx","2"],["width","20","height","8","x","2","y","14","rx","2"],["d","M6 18h2"],["d","M12 18h6"],["azt-track-service","simple-test-footer-box-for-mobile-NTsjx_8n-J",1,"dropdown-item","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-layout-panel-left","w-4","h-4","mr-2"],["width","7","height","18","x","3","y","3","rx","1"],["width","7","height","7","x","14","y","3","rx","1"],["width","7","height","7","x","14","y","14","rx","1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-list","w-5","h-5"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-computer","w-5","h-5"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-layout-panel-left","w-5","h-5"],[3,"totalSecond","useCountDown"],["azt-track-service","take-test-Hl-nLDepRGa",1,"dropdown-item","clickable",2,"align-items","center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide","lucide-paperclip","mr-2"],["d","m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),t.YNc(4,Dr,8,0,"span",4),t.YNc(5,qr,6,0,"span",4),t.YNc(6,Rr,5,0,"span",4),t.qZA()(),t.TgZ(7,"div",5)(8,"mat-icon",6),t._uU(9,"av_timer"),t.qZA(),t.YNc(10,Ur,1,2,"app-testbank-frontend-count-down-box",7),t.YNc(11,Nr,2,3,"ng-template",null,8,t.W1O),t.qZA(),t.TgZ(13,"div",9)(14,"a",10),t.NdJ("click",function(s){return s.stopPropagation()}),t.O4$(),t.TgZ(15,"svg",11),t._UZ(16,"circle",12)(17,"path",13)(18,"path",14)(19,"path",15),t.qZA()()()()(),t.kcU(),t.TgZ(20,"mat-menu",16,17)(22,"div",18)(23,"ul",19)(24,"li")(25,"a",20),t.NdJ("click",function(){return o.openSubmitExamEvent.emit()}),t.O4$(),t.TgZ(26,"svg",21),t._UZ(27,"path",22)(28,"path",23),t.qZA(),t.kcU(),t.TgZ(29,"span",24),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()(),t.YNc(32,Jr,7,3,"li",4),t.TgZ(33,"li")(34,"a",25),t.NdJ("click",function(){return o.openQuitDialogEvent.emit()}),t.O4$(),t.TgZ(35,"svg",26),t._UZ(36,"path",27)(37,"line",28),t.qZA(),t._uU(38),t.ALo(39,"mytranslate"),t.qZA()()()()(),t.kcU(),t.TgZ(40,"mat-menu",null,29)(42,"div",30)(43,"ul",19)(44,"li")(45,"a",31),t.NdJ("click",function(){return o.changeShowTypeEvent.emit(o.allTakeTestLayouts.LIST_QUESTION)}),t.O4$(),t.TgZ(46,"svg",32),t._UZ(47,"line",33)(48,"line",34)(49,"line",35)(50,"line",36)(51,"line",37)(52,"line",38),t.qZA(),t.kcU(),t.TgZ(53,"span"),t._uU(54),t.ALo(55,"mytranslate"),t.qZA()()(),t.TgZ(56,"li")(57,"a",39),t.NdJ("click",function(){return o.changeShowTypeEvent.emit(o.allTakeTestLayouts.STEP_QUESTION)}),t.O4$(),t.TgZ(58,"svg",40),t._UZ(59,"rect",41)(60,"rect",42)(61,"path",43)(62,"path",44),t.qZA(),t.kcU(),t.TgZ(63,"span"),t._uU(64),t.ALo(65,"mytranslate"),t.qZA()()(),t.TgZ(66,"li")(67,"a",45),t.NdJ("click",function(){return o.changeShowTypeEvent.emit(o.allTakeTestLayouts.GROUP_QUESTION)}),t.O4$(),t.TgZ(68,"svg",46),t._UZ(69,"rect",47)(70,"rect",48)(71,"rect",49),t.qZA(),t.kcU(),t.TgZ(72,"span"),t._uU(73),t.ALo(74,"mytranslate"),t.qZA()()()()()()),2&e){const a=t.MAs(12),s=t.MAs(21),r=t.MAs(41);t.xp6(3),t.Q6J("matMenuTriggerFor",r),t.xp6(1),t.Q6J("ngIf",o.layoutType===o.allTakeTestLayouts.LIST_QUESTION),t.xp6(1),t.Q6J("ngIf",o.layoutType===o.allTakeTestLayouts.STEP_QUESTION),t.xp6(1),t.Q6J("ngIf",o.layoutType===o.allTakeTestLayouts.GROUP_QUESTION),t.xp6(4),t.Q6J("ngIf",!o.currentTakeTestStepData.isUnLimitedTime)("ngIfElse",a),t.xp6(4),t.Q6J("matMenuTriggerFor",s),t.xp6(16),t.Oqu(t.lcZ(31,13,"lang_auto_nop_bai")),t.xp6(2),t.Q6J("ngIf",o.currentTakeTestStepData.hasEssayQuestion),t.xp6(6),t.hij(" ",t.lcZ(39,15,"lang_auto_thoat")," "),t.xp6(16),t.hij(" ",t.lcZ(55,17,"lang_auto_show_list")," "),t.xp6(10),t.hij(" ",t.lcZ(65,19,"lang_auto_show_unit")," "),t.xp6(9),t.hij(" ",t.lcZ(74,21,"lang_azt_display_questions_by_group")," ")}},dependencies:[_.O5,Jt.Hw,N.VK,N.p6,G,p.JV],encapsulation:2}),n})();function Br(n,i){1&n&&t._UZ(0,"app-coazt-leave-window-event")}function Pr(n,i){if(1&n&&t.GkF(0,12),2&n){t.oxw();const e=t.MAs(18);t.Q6J("ngTemplateOutlet",e)}}const Hr=function(n,i){return{"container-content-mobile":n,"container-content-desktop":i}};function Gr(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",14),t.NdJ("contextmenu",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.allowContextMenu)}),t.TgZ(2,"div",15),t.GkF(3,12),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(3),o=t.MAs(6);t.xp6(2),t.Q6J("ngClass",t.WLB(2,Hr,e.isMobileScreenSize,!e.isMobileScreenSize)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}function Yr(n,i){if(1&n&&(t._UZ(0,"azt-loading-effect",16),t.ALo(1,"mytranslate")),2&n){const e=t.oxw(3);t.Q6J("currentStatusObj",e.statusObj)("customText",t.lcZ(1,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function Wr(n,i){if(1&n&&t.GkF(0,12),2&n){t.oxw(3);const e=t.MAs(22);t.Q6J("ngTemplateOutlet",e)}}function Kr(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Gr,4,5,"ng-container",1),t.YNc(2,Yr,2,4,"azt-loading-effect",13),t.YNc(3,Wr,1,1,"ng-container",2),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.xp6(1),t.Q6J("ngIf",e.questsLoadState.startLoad),t.xp6(1),t.Q6J("ngIf",!e.questsLoadState.startLoad&&e.questsLoadState.hasErrs)}}function Vr(n,i){if(1&n&&t.GkF(0,12),2&n){t.oxw(2);const e=t.MAs(20);t.Q6J("ngTemplateOutlet",e)}}function $r(n,i){if(1&n&&t.GkF(0,12),2&n){t.oxw(2);const e=t.MAs(10);t.Q6J("ngTemplateOutlet",e)}}function Xr(n,i){if(1&n&&t.GkF(0,12),2&n){t.oxw(2);const e=t.MAs(16);t.Q6J("ngTemplateOutlet",e)}}const tl=function(n,i,e,o){return[n,i,e,o]},Ie=function(n,i){return[n,i]};function el(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Kr,4,3,"ng-container",1),t.YNc(2,Vr,1,1,"ng-container",2),t.YNc(3,$r,1,1,"ng-container",2),t.YNc(4,Xr,1,1,"ng-container",2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.l5B(4,tl,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep)),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.WAIT_TO_TEST_TIME),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CHOOSE_STUDENT),t.xp6(1),t.Q6J("ngIf",t.WLB(9,Ie,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5).includes(e.currentTakeTestStepData.currentStep))}}function nl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-coazt-simple-test-header-box-for-desktop",23),t.NdJ("openQuitDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openQuitDialog.emit())})("changeShowTypeEvent",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.changeShowType.emit(a))})("showUploadEssayFilesDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showUploadEssayFilesDialog.emit())})("openSubmitExamEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openSubmitExam.emit())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("sAztTestResizeService",e.sAztTestResizeService)("layoutType",e.allTakeTestLayouts.LIST_QUESTION)("isMobileScreenSize",e.isMobileScreenSize)}}function ol(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-coazt-simple-test-header-box-for-mobile",24),t.NdJ("openSubmitExamEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openQuitDialog.emit())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)}}function il(n,i){if(1&n&&(t.TgZ(0,"div",25)(1,"span",26),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.currentTakeTestStepData.testingUserObj.fullName)}}function al(n,i){if(1&n&&t.GkF(0,12),2&n){t.oxw(2);const e=t.MAs(12);t.Q6J("ngTemplateOutlet",e)}}function sl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-coazt-simple-test-footer-box-for-mobile",27),t.NdJ("changeShowTypeEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.changeShowType.emit())})("openSubmitExamEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openQuitDialog.emit())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("layoutType",e.allTakeTestLayouts.LIST_QUESTION)}}const rl=function(n,i){return{"margin-question-bar-for-simple-test-for-desktop":n,"margin-question-bar-for-simple-test-for-mobile":i}},ll=function(n,i){return{"monitor-screen":n,"monitor-screen-mobile":i}};function cl(n,i){if(1&n&&(t.YNc(0,nl,1,4,"app-coazt-simple-test-header-box-for-desktop",17),t.YNc(1,ol,1,1,"app-coazt-simple-test-header-box-for-mobile",18),t.TgZ(2,"div",19),t._UZ(3,"div",20),t.YNc(4,il,3,1,"div",21),t.GkF(5,12),t.YNc(6,al,1,1,"ng-container",2),t.qZA(),t.YNc(7,sl,1,2,"app-coazt-simple-test-footer-box-for-mobile",22)),2&n){const e=t.oxw(),o=t.MAs(8);t.Q6J("ngIf",!e.isMobileScreenSize),t.xp6(1),t.Q6J("ngIf",e.isMobileScreenSize),t.xp6(1),t.Q6J("ngClass",t.WLB(8,rl,!e.isMobileScreenSize,e.isMobileScreenSize)),t.xp6(1),t.Q6J("ngClass",t.WLB(11,ll,!e.isMobileScreenSize,e.isMobileScreenSize)),t.xp6(1),t.Q6J("ngIf",e.isMobileScreenSize),t.xp6(1),t.Q6J("ngTemplateOutlet",o),t.xp6(1),t.Q6J("ngIf",e.isMobileScreenSize),t.xp6(1),t.Q6J("ngIf",e.isMobileScreenSize)}}function _l(n,i){if(1&n&&t._UZ(0,"azt-loaded-img",34),2&n){const e=t.oxw(2);t.Q6J("imgSrc",e.currentTakeTestStepData.examObj.examHeader)}}function ul(n,i){if(1&n&&(t.TgZ(0,"div",35),t._UZ(1,"div",36),t.ALo(2,"safeNormalHtmlContent"),t.qZA()),2&n){const e=t.oxw(2);let o;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,null!==(o=null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.header)&&void 0!==o?o:""),t.oJD)}}function pl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",37)(1,"div",38)(2,"azt-question-standalone-for-student-at-full-test",39),t.NdJ("setOneChoiceAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setOneChoiceAnswerEmitter.emit(a))})("setTrueFalseAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setTrueFalseAnswerEmitter.emit(a))})("setFillAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setFillAnswerEmitter.emit(a))})("setEssayAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setEssayAnswerEmitter.emit(a))})("setResultTracking",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setResultTracking.emit(a))})("nextQuestionEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.sAztTestNextBackQuestionService.nextTo(s.currentTakeTestStepData,a))})("prevQuestionEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.sAztTestNextBackQuestionService.backTo(s.currentTakeTestStepData,a))})("sendAudioEmit",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.sendAudioForQuestion.emit(a))}),t.qZA()()()}if(2&n){const e=i.$implicit,o=i.index,a=t.oxw(2);t.xp6(1),t.s9C("id","question_all_"+e.id),t.xp6(1),t.Q6J("startQuestionIndex",a.currentTakeTestStepData.examObj.startQuestionIndex)("expandInfo",a.currentTakeTestStepData.examObj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",a.followerRenderQuest)("takeTestLayout",a.allTakeTestLayouts.LIST_QUESTION)("isMobile",a.isMobileScreenSize)("examObj",a.currentTakeTestStepData.examObj)("question",e)("fontSize",a.sAztTestResizeService.fontSize)("overTime",!1)("index",o)}}function ml(n,i){if(1&n&&t.GkF(0,12),2&n){t.oxw(2);const e=t.MAs(14);t.Q6J("ngTemplateOutlet",e)}}function dl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",28)(1,"div",29)(2,"app-sort-essay-files-box",30),t.NdJ("changeAnswerFiles",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.changeAnswerFiles.emit(a))}),t.qZA(),t.YNc(3,_l,1,1,"azt-loaded-img",31),t.YNc(4,ul,3,3,"div",32),t.YNc(5,pl,3,13,"div",33),t.qZA(),t.YNc(6,ml,1,1,"ng-container",2),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("answerFiles",e.currentTakeTestStepData.files),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.examObj.examHeader),t.xp6(1),t.Q6J("ngIf",null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.allowHeader),t.xp6(1),t.Q6J("ngForOf",e.currentTakeTestStepData.viewQuestionObjs),t.xp6(1),t.Q6J("ngIf",!e.isMobileScreenSize)}}const gl=function(n){return{joinByExamHashId:n}};function fl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-join-classroom-box",40),t.NdJ("selectStudentEvent",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.selectStudentEvent.emit(a))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("joinClassroomByType",t.VKq(1,gl,e.currentTakeTestStepData.examObj.hashId))}}function hl(n,i){if(1&n&&t._UZ(0,"app-coazt-list-shortcut-question-box",43),2&n){const e=t.oxw(2);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("isMobileScreenSize",e.isMobileScreenSize)("layoutType",e.allTakeTestLayouts.LIST_QUESTION)}}function xl(n,i){if(1&n&&(t.TgZ(0,"div",41),t.YNc(1,hl,1,5,"app-coazt-list-shortcut-question-box",42),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.nextBackQuestionModel)}}function Tl(n,i){if(1&n&&t._UZ(0,"app-coazt-list-shortcut-question-box",43),2&n){const e=t.oxw(2);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("isMobileScreenSize",e.isMobileScreenSize)("layoutType",e.allTakeTestLayouts.LIST_QUESTION)}}function bl(n,i){if(1&n&&(t.TgZ(0,"div",44,45)(2,"div",46)(3,"div",41)(4,"h3",47),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.YNc(7,Tl,1,5,"app-coazt-list-shortcut-question-box",42),t.qZA()()()),2&n){const e=t.MAs(1),o=t.oxw();t.xp6(2),t.uIk("style","width:"+e.offsetWidth+"px",t.Ckj),t.xp6(3),t.hij(" ",t.lcZ(6,3,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(2),t.Q6J("ngIf",o.currentTakeTestStepData.nextBackQuestionModel)}}function wl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-test-bank-frontend-over-time-of-exam",48),t.NdJ("submitTestEvent",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.submitTestToApi.emit(a))}),t.TgZ(1,"app-coazt-upload-essay-file-at-over-time-box",49),t.NdJ("showUploadEssayFilesDialogEvent",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showUploadEssayFilesDialog.emit())})("changeAnswerFilesEvent",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.changeAnswerFiles.emit(a))}),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)("isMobile",e.isMobileScreenSize)("files",e.currentTakeTestStepData.files)("followerRenderQuest",e.followerRenderQuest)("sAztTestResizeService",e.sAztTestResizeService)("userObj",e.currentTakeTestStepData.testingUserObj),t.xp6(1),t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)}}const Sl=function(n){return[n]};function vl(n,i){if(1&n&&(t.TgZ(0,"div",50)(1,"div",51)(2,"div",52),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",53)(6,"a",54),t.ALo(7,"navigationLocalize"),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,3,e.currentTakeTestStepData.errorMessage)),t.xp6(3),t.Q6J("routerLink",t.VKq(9,Sl,t.lcZ(7,5,e.homeLink))),t.xp6(2),t.Oqu(t.lcZ(9,7,"lang_auto_quay_lai_trang_chu"))}}function kl(n,i){if(1&n&&t._UZ(0,"app-coazt-wait-to-test-time-box",55),2&n){const e=t.oxw();t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("homeLink",e.homeLink)}}function Al(n,i){if(1&n&&t._UZ(0,"app-test-bank-frontend-load-question-error-box",56),2&n){const e=t.oxw();t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)}}const Ol=function(n,i,e,o,a,s,r,c){return[n,i,e,o,a,s,r,c]};let Cl=(()=>{class n extends Ut{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-take-test-in-list-layout"]],features:[t.qOj],decls:23,vars:17,consts:[[3,"currentTakeTestStepData"],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],["mainTakeTestContentTpl",""],["showListQuestionTpl",""],["chooseStudentTpl",""],["listQuestionsSelectedInMobile",""],["listQuestionSelectedInDesktop",""],["overTimeTpl",""],["commonErrorTpl",""],["waitToTestTimeTpl",""],["lstQuestHasErrTpl",""],[3,"ngTemplateOutlet"],[3,"currentStatusObj","customText",4,"ngIf"],[1,"p-0",3,"contextmenu"],[1,"content","relative",2,"padding","0 10px",3,"ngClass"],[3,"currentStatusObj","customText"],[3,"currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize","openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent",4,"ngIf"],[3,"currentTakeTestStepData","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[1,"pb-4",3,"ngClass"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["class","p-1 text-center mt-1",4,"ngIf"],[3,"currentTakeTestStepData","layoutType","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[3,"currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize","openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent"],[3,"currentTakeTestStepData","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent"],[1,"p-1","text-center","mt-1"],[2,"vertical-align","middle","font-weight","420"],[3,"currentTakeTestStepData","layoutType","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent"],[1,"grid","grid-cols-12","gap-5","mt-5"],[1,"col-span-12","lg:col-span-9","sm:mt-0"],[3,"answerFiles","changeAnswerFiles"],["id","examHeader","class","mb-1",3,"imgSrc",4,"ngIf"],["class","box p-3 mb-3",4,"ngIf"],["class","mt-2",4,"ngFor","ngForOf"],["id","examHeader",1,"mb-1",3,"imgSrc"],[1,"box","p-3","mb-3"],[2,"line-height","1.5",3,"innerHTML"],[1,"mt-2"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","takeTestLayout","isMobile","examObj","question","fontSize","overTime","index","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],[3,"joinClassroomByType","selectStudentEvent"],[1,"box","p-3"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType",4,"ngIf"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType"],[1,"col-span-12","lg:col-span-3","mt-3"],["listQuestionBar",""],[1,"top_gameBar"],[1,"text-md","font-medium","mb-3"],[3,"currentTakeTestStepData","questsLoadState","backToLink","isMobile","files","followerRenderQuest","sAztTestResizeService","userObj","submitTestEvent"],[3,"currentTakeTestStepData","showUploadEssayFilesDialogEvent","changeAnswerFilesEvent"],[1,"box","pt-6"],[1,"text-center","pb-4"],[1,"block","text-danger","text-center"],[1,"text-center","clickable","mt-2"],["azt-track-service","main-component-_qI7rWD5S",1,"link__color","link__hover",3,"routerLink"],[3,"currentTakeTestStepData","homeLink"],[3,"currentTakeTestStepData","questsLoadState","backToLink"]],template:function(e,o){1&e&&(t._UZ(0,"app-coazt-tracking-full-screen-event",0)(1,"app-coazt-tracking-visible-event",0),t.YNc(2,Br,1,0,"app-coazt-leave-window-event",1),t.YNc(3,Pr,1,1,"ng-container",2),t.YNc(4,el,5,12,"div",1),t.YNc(5,cl,8,14,"ng-template",null,3,t.W1O),t.YNc(7,dl,7,5,"ng-template",null,4,t.W1O),t.YNc(9,fl,1,3,"ng-template",null,5,t.W1O),t.YNc(11,xl,2,1,"ng-template",null,6,t.W1O),t.YNc(13,bl,8,5,"ng-template",null,7,t.W1O),t.YNc(15,wl,2,9,"ng-template",null,8,t.W1O),t.YNc(17,vl,10,11,"ng-template",null,9,t.W1O),t.YNc(19,kl,1,2,"ng-template",null,10,t.W1O),t.YNc(21,Al,1,3,"ng-template",null,11,t.W1O)),2&e&&(t.Q6J("currentTakeTestStepData",o.currentTakeTestStepData),t.xp6(1),t.Q6J("currentTakeTestStepData",o.currentTakeTestStepData),t.xp6(1),t.Q6J("ngIf",!t.WLB(5,Ie,o.allTakeTestSteps.START_TEST,o.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST).includes(o.currentTakeTestStepData.currentStep)||o.questsLoadState.startLoad||o.questsLoadState.hasErrs),t.xp6(1),t.Q6J("ngIf",o.currentTakeTestStepData.currentStep==o.allTakeTestSteps.SHOW_ERROR_MESSAGE),t.xp6(1),t.Q6J("ngIf",t.qlk(8,Ol,o.allTakeTestSteps.WAIT_TO_TEST_TIME,o.allTakeTestSteps.CHOOSE_STUDENT,o.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,o.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5,o.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,o.allTakeTestSteps.SHOW_FULL_SCREEN,o.allTakeTestSteps.SHOW_VIDEO_REQUIRED,o.allTakeTestSteps.START_TEST).includes(o.currentTakeTestStepData.currentStep)))},dependencies:[m.rH,_.mk,_.sg,_.O5,_.tP,oe.y,E.l,Ot.I,yt,It.P,zt,Et,Zt,Qt,jt,Bt,Lt,Ft,Pt,Gt,Yt,p.Jy,p.JV,p.fF],styles:[".top_gameBar[_ngcontent-%COMP%]{position:fixed;top:87px;right:10px;min-width:23.5vw}.margin-question-bar-for-simple-test-for-desktop[_ngcontent-%COMP%]{margin-top:calc(3rem + 30px)!important}.margin-question-bar-for-simple-test-for-mobile[_ngcontent-%COMP%]{margin-top:calc(3rem + 27px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)!important}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.container-content-mobile[_ngcontent-%COMP%]{padding-bottom:400px!important}.container-content-desktop[_ngcontent-%COMP%]{padding-bottom:20px!important}"]}),n})();function yl(n,i){1&n&&t._UZ(0,"app-coazt-leave-window-event")}function Il(n,i){if(1&n&&t.GkF(0,11),2&n){t.oxw();const e=t.MAs(16);t.Q6J("ngTemplateOutlet",e)}}const zl=function(n,i){return{"container-content-mobile":n,"container-content-desktop":i}};function El(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",13),t.NdJ("contextmenu",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.allowContextMenu)}),t.TgZ(2,"div",14),t.GkF(3,11),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(3),o=t.MAs(6);t.xp6(2),t.Q6J("ngClass",t.WLB(2,zl,e.isMobileScreenSize,!e.isMobileScreenSize)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}function Zl(n,i){if(1&n&&(t._UZ(0,"azt-loading-effect",15),t.ALo(1,"mytranslate")),2&n){const e=t.oxw(3);t.Q6J("currentStatusObj",e.statusObj)("customText",t.lcZ(1,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function Ql(n,i){if(1&n&&t.GkF(0,11),2&n){t.oxw(3);const e=t.MAs(20);t.Q6J("ngTemplateOutlet",e)}}function jl(n,i){if(1&n&&(t.ynx(0),t.YNc(1,El,4,5,"ng-container",1),t.YNc(2,Zl,2,4,"azt-loading-effect",12),t.YNc(3,Ql,1,1,"ng-container",2),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.xp6(1),t.Q6J("ngIf",e.questsLoadState.startLoad),t.xp6(1),t.Q6J("ngIf",!e.questsLoadState.startLoad&&e.questsLoadState.hasErrs)}}function Ll(n,i){if(1&n&&t.GkF(0,11),2&n){t.oxw(2);const e=t.MAs(18);t.Q6J("ngTemplateOutlet",e)}}function Fl(n,i){if(1&n&&t.GkF(0,11),2&n){t.oxw(2);const e=t.MAs(10);t.Q6J("ngTemplateOutlet",e)}}function Ml(n,i){if(1&n&&t.GkF(0,11),2&n){t.oxw(2);const e=t.MAs(14);t.Q6J("ngTemplateOutlet",e)}}const Dl=function(n,i,e,o){return[n,i,e,o]},ze=function(n,i){return[n,i]};function ql(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,jl,4,3,"ng-container",1),t.YNc(2,Ll,1,1,"ng-container",2),t.YNc(3,Fl,1,1,"ng-container",2),t.YNc(4,Ml,1,1,"ng-container",2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.l5B(4,Dl,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep)),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.WAIT_TO_TEST_TIME),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CHOOSE_STUDENT),t.xp6(1),t.Q6J("ngIf",t.WLB(9,ze,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5).includes(e.currentTakeTestStepData.currentStep))}}function Rl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-coazt-simple-test-header-box-for-desktop",22),t.NdJ("openQuitDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openQuitDialog.emit())})("changeShowTypeEvent",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.changeShowType.emit(a))})("showUploadEssayFilesDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showUploadEssayFilesDialog.emit())})("openSubmitExamEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openSubmitExam.emit())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("sAztTestResizeService",e.sAztTestResizeService)("layoutType",e.allTakeTestLayouts.STEP_QUESTION)("isMobileScreenSize",e.isMobileScreenSize)}}function Ul(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-coazt-simple-test-header-box-for-mobile",23),t.NdJ("openSubmitExamEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openQuitDialog.emit())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)}}function Nl(n,i){if(1&n&&(t.TgZ(0,"div",24)(1,"span",25),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.currentTakeTestStepData.testingUserObj.fullName)}}function Jl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-coazt-simple-test-footer-box-for-mobile",26),t.NdJ("changeShowTypeEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.changeShowType.emit())})("openSubmitExamEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openQuitDialog.emit())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("layoutType",e.allTakeTestLayouts.STEP_QUESTION)}}const Bl=function(n,i){return{"margin-question-bar-for-simple-test-for-desktop":n,"margin-question-bar-for-simple-test-for-mobile":i}},Pl=function(n,i){return{"monitor-screen":n,"monitor-screen-mobile":i}};function Hl(n,i){if(1&n&&(t.YNc(0,Rl,1,4,"app-coazt-simple-test-header-box-for-desktop",16),t.YNc(1,Ul,1,1,"app-coazt-simple-test-header-box-for-mobile",17),t.TgZ(2,"div",18),t._UZ(3,"div",19),t.YNc(4,Nl,3,1,"div",20),t.GkF(5,11)(6,11),t.qZA(),t.YNc(7,Jl,1,2,"app-coazt-simple-test-footer-box-for-mobile",21)),2&n){const e=t.oxw(),o=t.MAs(8),a=t.MAs(12);t.Q6J("ngIf",!e.isMobileScreenSize),t.xp6(1),t.Q6J("ngIf",e.isMobileScreenSize),t.xp6(1),t.Q6J("ngClass",t.WLB(8,Bl,!e.isMobileScreenSize,e.isMobileScreenSize)),t.xp6(1),t.Q6J("ngClass",t.WLB(11,Pl,!e.isMobileScreenSize,e.isMobileScreenSize)),t.xp6(1),t.Q6J("ngIf",e.isMobileScreenSize),t.xp6(1),t.Q6J("ngTemplateOutlet",o),t.xp6(1),t.Q6J("ngTemplateOutlet",a),t.xp6(1),t.Q6J("ngIf",e.isMobileScreenSize)}}function Gl(n,i){if(1&n&&(t.TgZ(0,"div",29),t._UZ(1,"div",30),t.ALo(2,"safeNormalHtmlContent"),t.qZA()),2&n){const e=t.oxw(2);let o;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,null!==(o=null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.header)&&void 0!==o?o:""),t.oJD)}}function Yl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33)(2,"azt-question-standalone-for-student-at-full-test",34),t.NdJ("setOneChoiceAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setOneChoiceAnswerEmitter.emit(a))})("setTrueFalseAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setTrueFalseAnswerEmitter.emit(a))})("setFillAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setFillAnswerEmitter.emit(a))})("setEssayAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setEssayAnswerEmitter.emit(a))})("setResultTracking",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setResultTracking.emit(a))})("nextQuestionEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.sAztTestNextBackQuestionService.nextTo(s.currentTakeTestStepData,a))})("prevQuestionEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.sAztTestNextBackQuestionService.backTo(s.currentTakeTestStepData,a))})("sendAudioEmit",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.sendAudioForQuestion.emit(a))}),t.qZA()()()}if(2&n){const e=i.$implicit,o=i.index,a=i.last,s=t.oxw(3);t.xp6(1),t.s9C("id","question_"+e.id),t.Q6J("hidden",o!=s.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex),t.xp6(1),t.Q6J("startQuestionIndex",s.currentTakeTestStepData.examObj.startQuestionIndex)("expandInfo",s.currentTakeTestStepData.examObj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",s.followerRenderQuest)("takeTestLayout",s.allTakeTestLayouts.STEP_QUESTION)("isMobile",s.isMobileScreenSize)("examObj",s.currentTakeTestStepData.examObj)("question",e)("index",o)("last",a)("overTime",!1)("fontSize",s.sAztTestResizeService.fontSize)("questionListLength",s.currentTakeTestStepData.viewQuestionObjs.length)}}function Wl(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Yl,3,16,"div",31),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.currentTakeTestStepData.viewQuestionObjs)}}function Kl(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-sort-essay-files-box",27),t.NdJ("changeAnswerFiles",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.changeAnswerFiles.emit(a))}),t.qZA(),t.YNc(1,Gl,3,3,"div",28),t.YNc(2,Wl,2,1,"ng-container",1)}if(2&n){const e=t.oxw();t.Q6J("answerFiles",e.currentTakeTestStepData.files),t.xp6(1),t.Q6J("ngIf",null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.allowHeader),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.nextBackQuestionModel)}}const Vl=function(n){return{joinByExamHashId:n}};function $l(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-join-classroom-box",35),t.NdJ("selectStudentEvent",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.selectStudentEvent.emit(a))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("joinClassroomByType",t.VKq(1,Vl,e.currentTakeTestStepData.examObj.hashId))}}function Xl(n,i){if(1&n&&t._UZ(0,"app-coazt-list-shortcut-question-box",38),2&n){const e=t.oxw(2);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("isMobileScreenSize",e.isMobileScreenSize)("layoutType",e.allTakeTestLayouts.STEP_QUESTION)}}function tc(n,i){if(1&n&&(t.TgZ(0,"div",36),t.YNc(1,Xl,1,5,"app-coazt-list-shortcut-question-box",37),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.nextBackQuestionModel)}}function ec(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-test-bank-frontend-over-time-of-exam",39),t.NdJ("submitTestEvent",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.submitTestToApi.emit(a))}),t.TgZ(1,"app-coazt-upload-essay-file-at-over-time-box",40),t.NdJ("showUploadEssayFilesDialogEvent",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showUploadEssayFilesDialog.emit())})("changeAnswerFilesEvent",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.changeAnswerFiles.emit(a))}),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)("isMobile",e.isMobileScreenSize)("files",e.currentTakeTestStepData.files)("followerRenderQuest",e.followerRenderQuest)("sAztTestResizeService",e.sAztTestResizeService)("userObj",e.currentTakeTestStepData.testingUserObj),t.xp6(1),t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)}}const nc=function(n){return[n]};function oc(n,i){if(1&n&&(t.TgZ(0,"div",41)(1,"div",42)(2,"div",43),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",44)(6,"a",45),t.ALo(7,"navigationLocalize"),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,3,e.currentTakeTestStepData.errorMessage)),t.xp6(3),t.Q6J("routerLink",t.VKq(9,nc,t.lcZ(7,5,e.homeLink))),t.xp6(2),t.Oqu(t.lcZ(9,7,"lang_auto_quay_lai_trang_chu"))}}function ic(n,i){if(1&n&&t._UZ(0,"app-coazt-wait-to-test-time-box",46),2&n){const e=t.oxw();t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("homeLink",e.homeLink)}}function ac(n,i){if(1&n&&t._UZ(0,"app-test-bank-frontend-load-question-error-box",47),2&n){const e=t.oxw();t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)}}const sc=function(n,i,e,o,a,s,r,c){return[n,i,e,o,a,s,r,c]};let rc=(()=>{class n extends Ut{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-take-test-in-step-layout"]],features:[t.qOj],decls:21,vars:17,consts:[[3,"currentTakeTestStepData"],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],["mainTakeTestContentTpl",""],["showStepQuestionTpl",""],["chooseStudentTpl",""],["listQuestionsSelectedInMobile",""],["overTimeTpl",""],["commonErrorTpl",""],["waitToTestTimeTpl",""],["lstQuestHasErrTpl",""],[3,"ngTemplateOutlet"],[3,"currentStatusObj","customText",4,"ngIf"],[1,"p-0",3,"contextmenu"],[1,"content","relative",2,"padding","0 10px",3,"ngClass"],[3,"currentStatusObj","customText"],[3,"currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize","openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent",4,"ngIf"],[3,"currentTakeTestStepData","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[1,"pb-4",3,"ngClass"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["class","p-1 text-center mt-1",4,"ngIf"],[3,"currentTakeTestStepData","layoutType","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[3,"currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize","openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent"],[3,"currentTakeTestStepData","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent"],[1,"p-1","text-center","mt-1"],[2,"vertical-align","middle","font-weight","420"],[3,"currentTakeTestStepData","layoutType","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent"],[3,"answerFiles","changeAnswerFiles"],["class","box p-3 mb-3",4,"ngIf"],[1,"box","p-3","mb-3"],[2,"line-height","1.5",3,"innerHTML"],["class","mt-4","style","animation-delay: 0.05s",4,"ngFor","ngForOf"],[1,"mt-4",2,"animation-delay","0.05s"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id","hidden"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","takeTestLayout","isMobile","examObj","question","index","last","overTime","fontSize","questionListLength","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],[3,"joinClassroomByType","selectStudentEvent"],[1,"box","p-3"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType",4,"ngIf"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType"],[3,"currentTakeTestStepData","questsLoadState","backToLink","isMobile","files","followerRenderQuest","sAztTestResizeService","userObj","submitTestEvent"],[3,"currentTakeTestStepData","showUploadEssayFilesDialogEvent","changeAnswerFilesEvent"],[1,"box","pt-6"],[1,"text-center","pb-4"],[1,"block","text-danger","text-center"],[1,"text-center","clickable","mt-2"],["azt-track-service","main-component-_qI7rWD5S",1,"link__color","link__hover",3,"routerLink"],[3,"currentTakeTestStepData","homeLink"],[3,"currentTakeTestStepData","questsLoadState","backToLink"]],template:function(e,o){1&e&&(t._UZ(0,"app-coazt-tracking-full-screen-event",0)(1,"app-coazt-tracking-visible-event",0),t.YNc(2,yl,1,0,"app-coazt-leave-window-event",1),t.YNc(3,Il,1,1,"ng-container",2),t.YNc(4,ql,5,12,"div",1),t.YNc(5,Hl,8,14,"ng-template",null,3,t.W1O),t.YNc(7,Kl,3,3,"ng-template",null,4,t.W1O),t.YNc(9,$l,1,3,"ng-template",null,5,t.W1O),t.YNc(11,tc,2,1,"ng-template",null,6,t.W1O),t.YNc(13,ec,2,9,"ng-template",null,7,t.W1O),t.YNc(15,oc,10,11,"ng-template",null,8,t.W1O),t.YNc(17,ic,1,2,"ng-template",null,9,t.W1O),t.YNc(19,ac,1,3,"ng-template",null,10,t.W1O)),2&e&&(t.Q6J("currentTakeTestStepData",o.currentTakeTestStepData),t.xp6(1),t.Q6J("currentTakeTestStepData",o.currentTakeTestStepData),t.xp6(1),t.Q6J("ngIf",!t.WLB(5,ze,o.allTakeTestSteps.START_TEST,o.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST).includes(o.currentTakeTestStepData.currentStep)||o.questsLoadState.startLoad||o.questsLoadState.hasErrs),t.xp6(1),t.Q6J("ngIf",o.currentTakeTestStepData.currentStep==o.allTakeTestSteps.SHOW_ERROR_MESSAGE),t.xp6(1),t.Q6J("ngIf",t.qlk(8,sc,o.allTakeTestSteps.WAIT_TO_TEST_TIME,o.allTakeTestSteps.CHOOSE_STUDENT,o.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,o.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5,o.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,o.allTakeTestSteps.SHOW_FULL_SCREEN,o.allTakeTestSteps.SHOW_VIDEO_REQUIRED,o.allTakeTestSteps.START_TEST).includes(o.currentTakeTestStepData.currentStep)))},dependencies:[m.rH,_.mk,_.sg,_.O5,_.tP,E.l,Ot.I,yt,It.P,zt,Et,Zt,Qt,jt,Bt,Lt,Ft,Pt,Gt,Yt,p.Jy,p.JV,p.fF],styles:[".margin-question-bar-for-simple-test-for-desktop[_ngcontent-%COMP%], .margin-question-bar-for-simple-test-for-mobile[_ngcontent-%COMP%]{margin-top:calc(3rem + 24px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)!important}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.container-content-mobile[_ngcontent-%COMP%]{padding-bottom:400px!important}.container-content-desktop[_ngcontent-%COMP%]{padding-bottom:20px!important}"]}),n})();function lc(n,i){1&n&&t._UZ(0,"app-coazt-leave-window-event")}function cc(n,i){if(1&n&&t.GkF(0,12),2&n){t.oxw();const e=t.MAs(18);t.Q6J("ngTemplateOutlet",e)}}const _c=function(n,i){return{"container-content-mobile":n,"container-content-desktop":i}};function uc(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",14),t.NdJ("contextmenu",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.allowContextMenu)}),t.TgZ(2,"div",15),t.GkF(3,12),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(3),o=t.MAs(6);t.xp6(2),t.Q6J("ngClass",t.WLB(2,_c,e.isMobileScreenSize,!e.isMobileScreenSize)),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}function pc(n,i){if(1&n&&(t._UZ(0,"azt-loading-effect",16),t.ALo(1,"mytranslate")),2&n){const e=t.oxw(3);t.Q6J("currentStatusObj",e.statusObj)("customText",t.lcZ(1,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function mc(n,i){if(1&n&&t.GkF(0,12),2&n){t.oxw(3);const e=t.MAs(22);t.Q6J("ngTemplateOutlet",e)}}function dc(n,i){if(1&n&&(t.ynx(0),t.YNc(1,uc,4,5,"ng-container",1),t.YNc(2,pc,2,4,"azt-loading-effect",13),t.YNc(3,mc,1,1,"ng-container",2),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.xp6(1),t.Q6J("ngIf",e.questsLoadState.startLoad),t.xp6(1),t.Q6J("ngIf",!e.questsLoadState.startLoad&&e.questsLoadState.hasErrs)}}function gc(n,i){if(1&n&&t.GkF(0,12),2&n){t.oxw(2);const e=t.MAs(20);t.Q6J("ngTemplateOutlet",e)}}function fc(n,i){if(1&n&&t.GkF(0,12),2&n){t.oxw(2);const e=t.MAs(10);t.Q6J("ngTemplateOutlet",e)}}function hc(n,i){if(1&n&&t.GkF(0,12),2&n){t.oxw(2);const e=t.MAs(16);t.Q6J("ngTemplateOutlet",e)}}const xc=function(n,i,e,o){return[n,i,e,o]},Ee=function(n,i){return[n,i]};function Tc(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,dc,4,3,"ng-container",1),t.YNc(2,gc,1,1,"ng-container",2),t.YNc(3,fc,1,1,"ng-container",2),t.YNc(4,hc,1,1,"ng-container",2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.l5B(4,xc,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep)),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.WAIT_TO_TEST_TIME),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CHOOSE_STUDENT),t.xp6(1),t.Q6J("ngIf",t.WLB(9,Ee,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5).includes(e.currentTakeTestStepData.currentStep))}}function bc(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-coazt-simple-test-header-box-for-desktop",25),t.NdJ("openQuitDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openQuitDialog.emit())})("changeShowTypeEvent",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.changeShowType.emit(a))})("showUploadEssayFilesDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showUploadEssayFilesDialog.emit())})("openSubmitExamEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openSubmitExam.emit())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("sAztTestResizeService",e.sAztTestResizeService)("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)("isMobileScreenSize",e.isMobileScreenSize)}}function wc(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-coazt-simple-test-header-box-for-mobile",26),t.NdJ("openSubmitExamEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openQuitDialog.emit())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)}}function Sc(n,i){if(1&n&&(t.TgZ(0,"div",27)(1,"span",28),t._uU(2),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.currentTakeTestStepData.testingUserObj.fullName)}}function vc(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-coazt-simple-test-footer-box-for-mobile",29),t.NdJ("changeShowTypeEvent",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.changeShowType.emit(a))})("openSubmitExamEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openQuitDialog.emit())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)}}const kc=function(n,i){return{"monitor-screen":n,"monitor-screen-mobile":i}};function Ac(n,i){if(1&n&&(t.YNc(0,bc,1,4,"app-coazt-simple-test-header-box-for-desktop",17),t.YNc(1,wc,1,1,"app-coazt-simple-test-header-box-for-mobile",18),t.TgZ(2,"div",19),t._UZ(3,"div",20),t.YNc(4,Sc,3,1,"div",21),t.TgZ(5,"div",22),t.GkF(6,12),t.qZA(),t._UZ(7,"div",23),t.qZA(),t.YNc(8,vc,1,2,"app-coazt-simple-test-footer-box-for-mobile",24)),2&n){const e=t.oxw(),o=t.MAs(8);t.Q6J("ngIf",!e.isMobileScreenSize),t.xp6(1),t.Q6J("ngIf",e.isMobileScreenSize),t.xp6(2),t.Q6J("ngClass",t.WLB(6,kc,!e.isMobileScreenSize,e.isMobileScreenSize)),t.xp6(1),t.Q6J("ngIf",e.isMobileScreenSize),t.xp6(2),t.Q6J("ngTemplateOutlet",o),t.xp6(2),t.Q6J("ngIf",e.isMobileScreenSize)}}function Oc(n,i){if(1&n&&(t.TgZ(0,"div",49)(1,"div",50)(2,"div",51),t._UZ(3,"azt-dynamic-hook",52),t.qZA()()()),2&n){const e=t.oxw().$implicit,o=t.oxw(2);let a;t.xp6(2),t.Udp("font-size",o.sAztTestResizeService.fontSize+"em")("line-height",o.sAztTestResizeService.fontSize<1.5?o.sAztTestResizeService.fontSize+.5:"1.7"),t.xp6(1),t.Q6J("content",null!==(a=null==e.groupInfo?null:e.groupInfo.groupContent)&&void 0!==a?a:"")}}function Cc(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Oc,4,5,"div",48),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",null==e.groupInfo?null:e.groupInfo.isFirstInGroup)}}function yc(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",53)(2,"azt-question-standalone-for-student-at-full-test",54),t.NdJ("setOneChoiceAnswerEmitter",function(a){const r=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.setOneChoiceAnswer(a,r))})("setTrueFalseAnswerEmitter",function(a){const r=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.setTrueFalseAnswer(a,r))})("setFillAnswerEmitter",function(a){const r=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.setFillAnswer(a,r))})("setEssayAnswerEmitter",function(a){const r=t.CHM(e).index,c=t.oxw(2);return t.KtG(c.setEssayAnswer(a,r))})("setResultTracking",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setResultTracking.emit(a))})("nextQuestionEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.sAztTestNextBackQuestionService.nextTo(s.currentTakeTestStepData,a))})("prevQuestionEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.sAztTestNextBackQuestionService.backTo(s.currentTakeTestStepData,a))})("sendAudioEmit",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.sendAudioForQuestion.emit(a))}),t.qZA()(),t.BQk()}if(2&n){const e=i.$implicit,o=t.oxw(2);let a;t.xp6(1),t.s9C("id","question_in_group_"+e.id),t.xp6(1),t.Q6J("startQuestionIndex",o.currentTakeTestStepData.examObj.startQuestionIndex)("expandInfo",o.currentTakeTestStepData.examObj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",o.followerRenderQuest)("takeTestLayout",o.allTakeTestLayouts.GROUP_QUESTION)("isMobile",o.isMobileScreenSize)("examObj",o.currentTakeTestStepData.examObj)("question",e)("fontSize",o.sAztTestResizeService.fontSize)("overTime",!1)("index",null!==(a=e.startQuestionIndexWidthViewGroup)&&void 0!==a?a:0)}}const Ic=function(n){return{"text-primary":n}};function zc(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",56)(1,"a",57),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().index,s=t.oxw(2);return t.KtG(s.setQuestionInGroup(a))}),t.TgZ(2,"div",58)(3,"div",59)(4,"div",60),t._uU(5),t.qZA()(),t.TgZ(6,"div",61)(7,"div",62),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"div",63),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()()()()}if(2&n){const e=t.oxw(),o=e.index,a=e.$implicit,s=t.oxw(2);t.xp6(2),t.Q6J("ngClass",t.VKq(12,Ic,o===s.indexGroup)),t.xp6(1),t.vpz("background: conic-gradient(#1e40afe6 ",a.totalCompletedQuestion/a.totalQuestion*100,"%, #e2e8f0 ",a.totalCompletedQuestion/a.totalQuestion*100,"%)"),t.xp6(2),t.hij(" ",a.totalCompletedQuestion+"/"+a.totalQuestion," "),t.xp6(3),t.hij(" ",t.lcZ(9,8,"lang_auto_nhom")+" "+(o+1)," "),t.xp6(3),t.hij(" ",a.totalQuestion+" "+t.lcZ(12,10,"lang_notice_question")," ")}}function Ec(n,i){if(1&n&&(t.ynx(0),t.YNc(1,zc,13,14,"div",55),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e&&(null==e||null==e.questionList?null:e.questionList.length))}}function Zc(n,i){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",64),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.prevIndexGroup())}),t.O4$(),t.TgZ(1,"svg",65),t._UZ(2,"path",66)(3,"path",67),t.qZA(),t.kcU(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_cau")+" "+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup-1].startLabel+" - "+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup-1].endLabel,"")}}function Qc(n,i){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.nextIndexGroup())}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.O4$(),t.TgZ(4,"svg",69),t._UZ(5,"path",70)(6,"path",71),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_cau")+" "+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1].startLabel+" - "+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1].endLabel,"")}}function jc(n,i){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",72),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.submitExam())}),t.O4$(),t.TgZ(1,"svg",73),t._UZ(2,"path",74)(3,"path",75)(4,"path",76),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()}2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_nop_bai")," "))}const Lc=function(n,i){return{"btn-primary-soft":n,"btn-outline-secondary":i}};function Fc(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",77),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.goToQuestion(s.id))}),t.TgZ(1,"span",78),t._uU(2),t.qZA()()}if(2&n){const e=i.$implicit,o=t.oxw(2);let a;t.Q6J("ngClass",t.WLB(3,Lc,e.status,!e.status)),t.xp6(2),t.AsE(" ",(null!==(a=e.startQuestionIndexWidthViewGroup)&&void 0!==a?a:0)+(null!==(a=o.currentTakeTestStepData.examObj.startQuestionIndex)&&void 0!==a?a:1)<=9?"0":"","",(null!==(a=e.startQuestionIndexWidthViewGroup)&&void 0!==a?a:0)+(null!==(a=o.currentTakeTestStepData.examObj.startQuestionIndex)&&void 0!==a?a:1)," ")}}const Mc=function(n,i){return{"height-showListQuestion":n,"height-hiddenListQuestion":i}};function Dc(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",30),t.YNc(1,Cc,2,1,"ng-container",31),t.TgZ(2,"div",32),t.YNc(3,yc,3,13,"ng-container",31),t.qZA()(),t.TgZ(4,"div",33)(5,"div",34)(6,"div",35)(7,"div",36)(8,"ng-scrollbar",37)(9,"div",38),t.YNc(10,Ec,2,1,"ng-container",31),t.qZA()()()(),t.TgZ(11,"div",39)(12,"button",40),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleShowListQuestionInGroup())}),t.O4$(),t.TgZ(13,"svg",41),t._UZ(14,"path",42),t.qZA()(),t.YNc(15,Zc,7,3,"button",43),t.YNc(16,Qc,7,3,"button",44),t.YNc(17,jc,7,3,"button",45),t.qZA()(),t.kcU(),t.TgZ(18,"div",46),t.YNc(19,Fc,3,6,"button",47),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("ngClass",t.WLB(9,Mc,e.isShowListQuestionInGroup,!e.isShowListQuestionInGroup)),t.xp6(1),t.Q6J("ngForOf",e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].questionList),t.xp6(2),t.Q6J("ngForOf",null==e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup]?null:e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].questionList),t.xp6(5),t.Q6J("visibility","always"),t.xp6(2),t.Q6J("ngForOf",e.currentTakeTestStepData.viewQuestionInGroupList),t.xp6(5),t.Q6J("ngIf",e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup-1]),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1]),t.xp6(1),t.Q6J("ngIf",!e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1]),t.xp6(2),t.Q6J("ngForOf",null==e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup]?null:e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].questionList)}}const qc=function(n){return{joinByExamHashId:n}};function Rc(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-join-classroom-box",79),t.NdJ("selectStudentEvent",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.selectStudentEvent.emit(a))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("joinClassroomByType",t.VKq(1,qc,e.currentTakeTestStepData.examObj.hashId))}}function Uc(n,i){if(1&n&&t._UZ(0,"app-coazt-list-shortcut-question-box",82),2&n){const e=t.oxw(2);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("isMobileScreenSize",e.isMobileScreenSize)("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)}}function Nc(n,i){if(1&n&&(t.TgZ(0,"div",80),t.YNc(1,Uc,1,5,"app-coazt-list-shortcut-question-box",81),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.nextBackQuestionModel)}}function Jc(n,i){if(1&n&&t._UZ(0,"app-coazt-list-shortcut-question-box",82),2&n){const e=t.oxw(2);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("isMobileScreenSize",e.isMobileScreenSize)("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)}}function Bc(n,i){if(1&n&&(t.TgZ(0,"div",83,84)(2,"div",85)(3,"div",80)(4,"h3",86),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.YNc(7,Jc,1,5,"app-coazt-list-shortcut-question-box",81),t.qZA()()()),2&n){const e=t.MAs(1),o=t.oxw();t.xp6(2),t.uIk("style","width:"+e.offsetWidth+"px",t.Ckj),t.xp6(3),t.hij(" ",t.lcZ(6,3,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(2),t.Q6J("ngIf",o.currentTakeTestStepData.nextBackQuestionModel)}}function Pc(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-test-bank-frontend-over-time-of-exam",87),t.NdJ("submitTestEvent",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.submitTestToApi.emit(a))}),t.TgZ(1,"app-coazt-upload-essay-file-at-over-time-box",88),t.NdJ("showUploadEssayFilesDialogEvent",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showUploadEssayFilesDialog.emit())})("changeAnswerFilesEvent",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.changeAnswerFiles.emit(a))}),t.qZA()()}if(2&n){const e=t.oxw();t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)("isMobile",e.isMobileScreenSize)("files",e.currentTakeTestStepData.files)("followerRenderQuest",e.followerRenderQuest)("sAztTestResizeService",e.sAztTestResizeService)("userObj",e.currentTakeTestStepData.testingUserObj),t.xp6(1),t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)}}const Hc=function(n){return[n]};function Gc(n,i){if(1&n&&(t.TgZ(0,"div",89)(1,"div",90)(2,"div",91),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",92)(6,"a",93),t.ALo(7,"navigationLocalize"),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,3,e.currentTakeTestStepData.errorMessage)),t.xp6(3),t.Q6J("routerLink",t.VKq(9,Hc,t.lcZ(7,5,e.homeLink))),t.xp6(2),t.Oqu(t.lcZ(9,7,"lang_auto_quay_lai_trang_chu"))}}function Yc(n,i){if(1&n&&t._UZ(0,"app-coazt-wait-to-test-time-box",94),2&n){const e=t.oxw();t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("homeLink",e.homeLink)}}function Wc(n,i){if(1&n&&t._UZ(0,"app-test-bank-frontend-load-question-error-box",95),2&n){const e=t.oxw();t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)}}const Kc=function(n,i,e,o,a,s,r,c){return[n,i,e,o,a,s,r,c]};let Vc=(()=>{class n extends Ut{constructor(){super(...arguments),this.indexGroup=0,this.isShowListQuestionInGroup=!0}toggleShowListQuestionInGroup(){this.isShowListQuestionInGroup=!this.isShowListQuestionInGroup;const e=document.getElementById("contentBlock"),o=document.getElementById("lucide-chevron-up");o&&e&&(this.isShowListQuestionInGroup?(e.style.maxHeight="60px",o.style.transform="rotate(0)"):(e.style.maxHeight="0px",o.style.transform="rotate(180deg)"))}setQuestionInGroup(e){this.indexGroup=e}goToQuestion(e){document.getElementById("question_in_group_"+e)?.scrollIntoView({behavior:"smooth"})}setStatusAnswer(e){this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].questionList[e]&&(this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].questionList[e].status=!0,this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].totalCompletedQuestion=this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].questionList.filter(o=>o.status).length)}setOneChoiceAnswer(e,o){this.setOneChoiceAnswerEmitter.emit(e),this.setStatusAnswer(o)}setTrueFalseAnswer(e,o){this.setTrueFalseAnswerEmitter.emit(e),this.setStatusAnswer(o)}setFillAnswer(e,o){this.setFillAnswerEmitter.emit(e),this.setStatusAnswer(o)}setEssayAnswer(e,o){this.setEssayAnswerEmitter.emit(e),this.setStatusAnswer(o)}prevIndexGroup(){this.indexGroup--}nextIndexGroup(){this.indexGroup++}submitExam(){this.openSubmitExam.emit()}convertViewQuestionToQuestionInGroup(){this.currentTakeTestStepData.viewQuestionInGroupList=[],this.currentTakeTestStepData.viewQuestionObjs.forEach((e,o)=>{const a=e?.groupInfo?.groupId??0;e.startQuestionIndexWidthViewGroup=o,this.currentTakeTestStepData.viewQuestionInGroupList[a]||(this.currentTakeTestStepData.viewQuestionInGroupList[a]={groupId:a,totalQuestion:0,totalCompletedQuestion:0,startLabel:0,endLabel:0,questionList:[]}),this.currentTakeTestStepData.viewQuestionInGroupList[a].questionList.push(e)}),this.currentTakeTestStepData.viewQuestionInGroupList=this.currentTakeTestStepData.viewQuestionInGroupList.filter(e=>e&&e.questionList.length).map(e=>(e.totalQuestion=e.questionList.length,e.totalCompletedQuestion=e.questionList.filter(o=>o.status).length,e.startLabel=(e.questionList[0].startQuestionIndexWidthViewGroup??0)+1,e.endLabel=(e.questionList[e.totalQuestion-1].startQuestionIndexWidthViewGroup??0)+1,e))}getIndexGroup(){}ngOnInit(){super.ngOnInit(),this.convertViewQuestionToQuestionInGroup(),this.currentTakeTestStepData.examObj.hideGroupQuestion=1}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-take-test-in-group-layout"]],features:[t.qOj],decls:23,vars:17,consts:[[3,"currentTakeTestStepData"],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],["mainTakeTestContentTpl",""],["showListQuestionTpl",""],["chooseStudentTpl",""],["listQuestionsSelectedInMobile",""],["listQuestionSelectedInDesktop",""],["overTimeTpl",""],["commonErrorTpl",""],["waitToTestTimeTpl",""],["lstQuestHasErrTpl",""],[3,"ngTemplateOutlet"],[3,"currentStatusObj","customText",4,"ngIf"],[1,"p-0",3,"contextmenu"],[1,"content","relative",2,"padding","0 10px",3,"ngClass"],[3,"currentStatusObj","customText"],[3,"currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize","openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent",4,"ngIf"],[3,"currentTakeTestStepData","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[1,"pb-4"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["class","p-1 text-center mt-1",4,"ngIf"],[1,"azt-hidden","lg:block"],[1,"lg:hidden"],[3,"currentTakeTestStepData","layoutType","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[3,"currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize","openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent"],[3,"currentTakeTestStepData","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent"],[1,"p-1","text-center","mt-1"],[2,"vertical-align","middle","font-weight","420"],[3,"currentTakeTestStepData","layoutType","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent"],[1,"intro-y","grid","grid-cols-12","gap-5","mt-55px","transition-3",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","h-full","py-5","pr-5","overflow-auto","custom-scroll"],[1,"box","fixed","w-full","bottom-0","left-0","rounded-none","border-t","border-slate-200","z-10"],[1,"flex","items-center"],[1,"flex","items-center","mr-auto"],[1,"h-full","box-group-question"],["track","all","pointerEventsMethod","scrollbar",3,"visibility"],[1,"flex","items-center","p-3","user-select-none"],[1,"ml-auto","flex","itemcs-center","p-3"],["azt-track-service","take-test-in-group-layout-xO-By9VnKm",1,"btn","btn-outline-secondary","border-3","rounded-full","p-3","mr-3","w-10","h-10",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","id","lucide-chevron-up",1,"lucide","flex-none","lucide-chevron-up","w-4","h-4","transition-3"],["d","m18 15-6-6-6 6"],["azt-track-service","take-test-in-group-layout-V5eoQGwsJZ","class","btn btn-outline-primary w-32 mr-3",3,"click",4,"ngIf"],["azt-track-service","take-test-in-group-layout-RNRQEspWcj","class","btn btn-outline-primary w-32",3,"click",4,"ngIf"],["azt-track-service","take-test-in-group-layout-9--9DqoAy_","class","btn btn-primary w-32",3,"click",4,"ngIf"],["id","contentBlock",1,"shadow","border-t","border-slate-200/60","flex","items-center","flex-wrap","px-3","pb-3","questionListInGroup"],["azt-track-service","take-test-in-group-layout-2fFqi7pOaJ","class","btn p-4 border-slate-300 dark:border-darkmode-400 relative mr-3 mt-3 user-select-none","style","width: 55px; height: 30px;",3,"ngClass","click",4,"ngFor","ngForOf"],["class","col-span-12 md:col-span-6 px-4 py-4 box overflow-auto custom-scroll rounded-none",4,"ngIf"],[1,"col-span-12","md:col-span-6","px-4","py-4","box","overflow-auto","custom-scroll","rounded-none"],[1,"font-medium","h-full"],[1,"group-content-of-question-standalone",2,"padding-bottom","100px"],[3,"content"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","takeTestLayout","isMobile","examObj","question","fontSize","overTime","index","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],["class","mr-5",4,"ngIf"],[1,"mr-5"],["azt-track-service","take-test-in-group-layout-Go4BLT6di",1,"cursor-pointer",3,"click"],[1,"flex","items-center","transition-3",3,"ngClass"],[1,"azt-progress-circle"],[1,"azt-progress-value","text-xs","font-medium"],[1,"ml-2","whitespace-nowrap"],[1,"font-medium","uppercase"],[1,"text-upercase","text-xs"],["azt-track-service","take-test-in-group-layout-V5eoQGwsJZ",1,"btn","btn-outline-primary","w-32","mr-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-move-left","w-4","h-4","mr-2"],["d","M6 8L2 12L6 16"],["d","M2 12H22"],["azt-track-service","take-test-in-group-layout-RNRQEspWcj",1,"btn","btn-outline-primary","w-32",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-arrow-right","w-4","h-4","ml-2"],["d","M5 12h14"],["d","m12 5 7 7-7 7"],["azt-track-service","take-test-in-group-layout-9--9DqoAy_",1,"btn","btn-primary","w-32",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5"],["d","M8 18h1"],["d","M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z"],["azt-track-service","take-test-in-group-layout-2fFqi7pOaJ",1,"btn","p-4","border-slate-300","dark:border-darkmode-400","relative","mr-3","mt-3","user-select-none",2,"width","55px","height","30px",3,"ngClass","click"],[1,"absolute","absolute-center"],[3,"joinClassroomByType","selectStudentEvent"],[1,"box","p-3"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType",4,"ngIf"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType"],[1,"col-span-12","lg:col-span-3","mt-3"],["listQuestionBar",""],[1,"top_gameBar"],[1,"text-md","font-medium","mb-3"],[3,"currentTakeTestStepData","questsLoadState","backToLink","isMobile","files","followerRenderQuest","sAztTestResizeService","userObj","submitTestEvent"],[3,"currentTakeTestStepData","showUploadEssayFilesDialogEvent","changeAnswerFilesEvent"],[1,"box","pt-6"],[1,"text-center","pb-4"],[1,"block","text-danger","text-center"],[1,"text-center","clickable","mt-2"],["azt-track-service","main-component-_qI7rWD5S",1,"link__color","link__hover",3,"routerLink"],[3,"currentTakeTestStepData","homeLink"],[3,"currentTakeTestStepData","questsLoadState","backToLink"]],template:function(e,o){1&e&&(t._UZ(0,"app-coazt-tracking-full-screen-event",0)(1,"app-coazt-tracking-visible-event",0),t.YNc(2,lc,1,0,"app-coazt-leave-window-event",1),t.YNc(3,cc,1,1,"ng-container",2),t.YNc(4,Tc,5,12,"div",1),t.YNc(5,Ac,9,9,"ng-template",null,3,t.W1O),t.YNc(7,Dc,20,12,"ng-template",null,4,t.W1O),t.YNc(9,Rc,1,3,"ng-template",null,5,t.W1O),t.YNc(11,Nc,2,1,"ng-template",null,6,t.W1O),t.YNc(13,Bc,8,5,"ng-template",null,7,t.W1O),t.YNc(15,Pc,2,9,"ng-template",null,8,t.W1O),t.YNc(17,Gc,10,11,"ng-template",null,9,t.W1O),t.YNc(19,Yc,1,2,"ng-template",null,10,t.W1O),t.YNc(21,Wc,1,3,"ng-template",null,11,t.W1O)),2&e&&(t.Q6J("currentTakeTestStepData",o.currentTakeTestStepData),t.xp6(1),t.Q6J("currentTakeTestStepData",o.currentTakeTestStepData),t.xp6(1),t.Q6J("ngIf",!t.WLB(5,Ee,o.allTakeTestSteps.START_TEST,o.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST).includes(o.currentTakeTestStepData.currentStep)||o.questsLoadState.startLoad||o.questsLoadState.hasErrs),t.xp6(1),t.Q6J("ngIf",o.currentTakeTestStepData.currentStep==o.allTakeTestSteps.SHOW_ERROR_MESSAGE),t.xp6(1),t.Q6J("ngIf",t.qlk(8,Kc,o.allTakeTestSteps.WAIT_TO_TEST_TIME,o.allTakeTestSteps.CHOOSE_STUDENT,o.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,o.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5,o.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,o.allTakeTestSteps.SHOW_FULL_SCREEN,o.allTakeTestSteps.SHOW_VIDEO_REQUIRED,o.allTakeTestSteps.START_TEST).includes(o.currentTakeTestStepData.currentStep)))},dependencies:[m.rH,_.mk,_.sg,_.O5,_.tP,E.l,yt,Ct.O,It.P,g.KC,zt,Et,Zt,Qt,jt,Bt,Lt,Ft,Pt,Gt,Yt,p.Jy,p.JV],styles:[".top_gameBar[_ngcontent-%COMP%]{position:fixed;top:87px;right:10px;min-width:23.5vw}.margin-question-bar-for-simple-test-for-desktop[_ngcontent-%COMP%]{margin-top:calc(3rem + 30px)!important}.border-2[_ngcontent-%COMP%]   .margin-question-bar-for-simple-test-for-mobile[_ngcontent-%COMP%]{margin-top:calc(3rem + 27px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)!important}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.container-content-mobile[_ngcontent-%COMP%]{padding-bottom:400px!important}.container-content-desktop[_ngcontent-%COMP%]{padding-bottom:20px!important}.border-3[_ngcontent-%COMP%]{border-width:3px}.transition-3[_ngcontent-%COMP%]{transition:all .3s}.height-showListQuestion[_ngcontent-%COMP%]{height:calc(100vh - 180px)}.height-hiddenListQuestion[_ngcontent-%COMP%]{height:calc(100vh - 127px)}.mt-55px[_ngcontent-%COMP%]{margin-top:55px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.border-color-primary[_ngcontent-%COMP%]{border-color:rgb(var(--color-primary)/var(--tw-text-opacity))}.absolute-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.azt-progress-circle[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem;border-radius:50%;display:grid;place-items:center;animation:.4s ease-out reverse;transition:all .5s}.azt-progress-value[_ngcontent-%COMP%]{display:block;height:calc(100% - 6px);width:calc(100% - 6px);background-color:#fff;border-radius:50%;display:grid;place-items:center;transition:all .5s}.questionListInGroup[_ngcontent-%COMP%]{max-height:60px;transition:max-height .3s ease-out}.box-group-question[_ngcontent-%COMP%]{width:calc(100vw - 600px);height:64px}  .content{padding:0!important}  .dark .azt-progress-value{background-color:#28334e}"]}),n})();function $c(n,i){if(1&n&&t._UZ(0,"azt-loading-effect",2),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function Xc(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-coazt-take-test-in-list-layout",5),t.NdJ("changeShowType",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.changeShowType(a))})("openQuitDialog",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.openQuitDialog())})("showUploadEssayFilesDialog",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.showUploadEssayFilesDialog())})("openSubmitExam",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.openSubmitExam())})("selectStudentEvent",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.selectStudentEvent(a))})("changeAnswerFiles",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.changeAnswerFiles(a))})("setOneChoiceAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setQuestionOneChoiceAnswer(a))})("setTrueFalseAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setQuestionTrueFalseAnswer(a))})("setFillAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setQuestionFillAnswer(a))})("setEssayAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setQuestionEssayAnswer(a))})("setResultTracking",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setResultTracking(a))})("sendAudioForQuestion",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.sendAudioForQuestion(a))})("submitTestToApi",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.submitTestToApi(a))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("sAztTestResizeService",e.sAztTestResizeService)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("currentTakeTestStepData",e.currentTakeTestStepData)("followerRenderQuest",e.followerRenderQuest)("questsLoadState",e.questsLoadState)("isMobileScreenSize",e.isMobileScreenSize)("homeLink",e.homeLink)("backToLink",e.backToLink)}}function t_(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-coazt-take-test-in-step-layout",5),t.NdJ("changeShowType",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.changeShowType(a))})("openQuitDialog",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.openQuitDialog())})("showUploadEssayFilesDialog",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.showUploadEssayFilesDialog())})("openSubmitExam",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.openSubmitExam())})("selectStudentEvent",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.selectStudentEvent(a))})("changeAnswerFiles",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.changeAnswerFiles(a))})("setOneChoiceAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setQuestionOneChoiceAnswer(a))})("setTrueFalseAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setQuestionTrueFalseAnswer(a))})("setFillAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setQuestionFillAnswer(a))})("setEssayAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setQuestionEssayAnswer(a))})("setResultTracking",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setResultTracking(a))})("sendAudioForQuestion",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.sendAudioForQuestion(a))})("submitTestToApi",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.submitTestToApi(a))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("sAztTestResizeService",e.sAztTestResizeService)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("currentTakeTestStepData",e.currentTakeTestStepData)("followerRenderQuest",e.followerRenderQuest)("questsLoadState",e.questsLoadState)("isMobileScreenSize",e.isMobileScreenSize)("homeLink",e.homeLink)("backToLink",e.backToLink)}}function e_(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-coazt-take-test-in-group-layout",5),t.NdJ("changeShowType",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.changeShowType(a))})("openQuitDialog",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.openQuitDialog())})("showUploadEssayFilesDialog",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.showUploadEssayFilesDialog())})("openSubmitExam",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.openSubmitExam())})("selectStudentEvent",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.selectStudentEvent(a))})("changeAnswerFiles",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.changeAnswerFiles(a))})("setOneChoiceAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setQuestionOneChoiceAnswer(a))})("setTrueFalseAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setQuestionTrueFalseAnswer(a))})("setFillAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setQuestionFillAnswer(a))})("setEssayAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setQuestionEssayAnswer(a))})("setResultTracking",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.setResultTracking(a))})("sendAudioForQuestion",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.sendAudioForQuestion(a))})("submitTestToApi",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.submitTestToApi(a))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("sAztTestResizeService",e.sAztTestResizeService)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("currentTakeTestStepData",e.currentTakeTestStepData)("followerRenderQuest",e.followerRenderQuest)("questsLoadState",e.questsLoadState)("isMobileScreenSize",e.isMobileScreenSize)("homeLink",e.homeLink)("backToLink",e.backToLink)}}function n_(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Xc,1,8,"app-coazt-take-test-in-list-layout",4),t.YNc(2,t_,1,8,"app-coazt-take-test-in-step-layout",4),t.YNc(3,e_,1,8,"app-coazt-take-test-in-group-layout",4),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.layoutType==e.allTakeTestLayouts.LIST_QUESTION),t.xp6(1),t.Q6J("ngIf",e.layoutType==e.allTakeTestLayouts.STEP_QUESTION),t.xp6(1),t.Q6J("ngIf",e.layoutType==e.allTakeTestLayouts.GROUP_QUESTION)}}function o_(n,i){if(1&n&&t.YNc(0,n_,4,3,"ng-container",3),2&n){const e=t.oxw();t.Q6J("ngIf",e.currentTakeTestStepData)}}const Ze="azota_take_test_layout";let i_=(()=>{class n extends be{changeShowType(e){this.layoutType=e,this.browserStorageService.saveSimpleStorage(Ze,this.layoutType)}getShowType(){const e=this.browserStorageService.getSimpleStorage(Ze);this.layoutType=e&&"undefined"!==e?e:M.LIST_QUESTION}startShowTestContent(e,o){return this.sAztTakeTestCallApiService.getSyncQuestionDataFromApi(this.questsLoadState,this.followerRenderQuest,this.questionRenderService,e,a=>{if(this.currentTakeTestStepData=a,this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown)return o(void 0);this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown=!0,this.intervalExamTime(),this.intervalToGetServerTime(),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData),this.sAztTakeTestCallApiService.getImagesThatUploadAtMobileQrCodeFromApi(this.currentTakeTestStepData.uploadHashCode,s=>{null!=s&&(this.currentTakeTestStepData.files=s)}),this.intervalToSendTestDataToApi(),o(void 0)})}getInitDataFromApi(){let e=new j(this.hashId,this.browserStorageService).getPassword(),o=new j(this.hashId,this.browserStorageService).hasInfo(),a=Q.N.production||Q.N.isProdAzotaVn;this.initStatusObj(),this.waitDestroy(a?this.frontExamService.apiFrontExamInitDataGet(this.hashId,e,o?1:0,this.sAztTestDeviceIdService.getDeviceId(),0).subscribe(s=>{const r=this.encryptionHelper.result(s);this.processInitData(""!=e,r)}):this.frontExamService.apiFrontExamInitDataForDevServerGet(this.hashId,e,o?1:0,this.sAztTestDeviceIdService.getDeviceId(),0).subscribe(s=>{this.processInitData(""!=e,s)}))}ngOnInit(){super.ngOnInit(),this.initParams(),this.getShowType()}constructor(){super(),this.layoutType=M.LIST_QUESTION}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-take-test"]],features:[t.qOj],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[4,"ngIf"],[3,"sAztTestResizeService","sAztTestNextBackQuestionService","currentTakeTestStepData","followerRenderQuest","questsLoadState","isMobileScreenSize","homeLink","backToLink","changeShowType","openQuitDialog","showUploadEssayFilesDialog","openSubmitExam","selectStudentEvent","changeAnswerFiles","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","sendAudioForQuestion","submitTestToApi",4,"ngIf"],[3,"sAztTestResizeService","sAztTestNextBackQuestionService","currentTakeTestStepData","followerRenderQuest","questsLoadState","isMobileScreenSize","homeLink","backToLink","changeShowType","openQuitDialog","showUploadEssayFilesDialog","openSubmitExam","selectStudentEvent","changeAnswerFiles","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","sendAudioForQuestion","submitTestToApi"]],template:function(e,o){if(1&e&&(t.YNc(0,$c,1,1,"azt-loading-effect",0),t.YNc(1,o_,1,1,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[_.O5,E.l,Cl,rc,Vc],encapsulation:2}),n})();class Qe{setQuestionAnswers(i,e){return i.viewQuestionObjs.forEach(o=>{let a=e.find(s=>1==s.answered&&s.id==o.id);null!=a&&(o.practiceCheckAnswer=a.correct?"correct":"wrong",o.numberOfChecks=a.correct?1:2)}),i}hasWrongAnswer(i){return null!=i.viewQuestionObjs.find(e=>"wrong"==e.practiceCheckAnswer)}calculateStartQuestionPosition(i,e){return Math.floor(i/e)*e}findLastQuestionObjThatHasAnswer(i){return i.viewQuestionObjs.slice().reverse().find(o=>null!=o.practiceCheckAnswer)}}let a_=(()=>{class n extends T.Q{constructor(){super(...arguments),this.showUploadEssayFilesDialog=new t.vpe,this.selectStudentEvent=new t.vpe,this.changeAnswerFiles=new t.vpe,this.setOneChoiceAnswerEmitter=new t.vpe,this.setTrueFalseAnswerEmitter=new t.vpe,this.setFillAnswerEmitter=new t.vpe,this.setEssayAnswerEmitter=new t.vpe,this.setResultTracking=new t.vpe,this.sendAudioForQuestion=new t.vpe,this.submitTestToApi=new t.vpe,this.allTakeTestSteps=x,this.allTakeTestLayouts=M,this.allowContextMenu=!Q.N.production}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-take-training-base-layout"]],inputs:{sAztTestResizeService:"sAztTestResizeService",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService",sAztTestQuestionService:"sAztTestQuestionService",currentTakeTestStepData:"currentTakeTestStepData",followerRenderQuest:"followerRenderQuest",questsLoadState:"questsLoadState",isMobileScreenSize:"isMobileScreenSize",homeLink:"homeLink",backToLink:"backToLink",tenantId:"tenantId",curCateId:"curCateId"},outputs:{showUploadEssayFilesDialog:"showUploadEssayFilesDialog",selectStudentEvent:"selectStudentEvent",changeAnswerFiles:"changeAnswerFiles",setOneChoiceAnswerEmitter:"setOneChoiceAnswerEmitter",setTrueFalseAnswerEmitter:"setTrueFalseAnswerEmitter",setFillAnswerEmitter:"setFillAnswerEmitter",setEssayAnswerEmitter:"setEssayAnswerEmitter",setResultTracking:"setResultTracking",sendAudioForQuestion:"sendAudioForQuestion",submitTestToApi:"submitTestToApi"},features:[t.qOj],decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})();var s_=l(36621),r_=l(94603),l_=l(42242),c_=l(15422),__=l(63529);function u_(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"span",4),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showExplainOfQuestion.emit())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_testbank_frontend_you_dont_know_how_to_do_it")+"? "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"lang_testbank_frontend_please_use_the_hint")," "))}function p_(n,i){if(1&n&&(t.TgZ(0,"div",6)(1,"div",4),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",7),t._UZ(5,"azt-dynamic-hook",8),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_testbank_hint")," "),t.xp6(3),t.Q6J("content",e.questionObj.help)}}function m_(n,i){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,u_,7,6,"div",2),t.YNc(2,p_,6,4,"div",3),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isShowExplain),t.xp6(1),t.Q6J("ngIf",e.isShowExplain)}}let d_=(()=>{class n extends T.Q{constructor(){super(...arguments),this.isShowExplain=!1,this.showExplainOfQuestion=new t.vpe}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-question-explain-box-for-student-at-step-test"]],inputs:{isShowExplain:"isShowExplain",questionObj:"questionObj",renderConfigObj:"renderConfigObj"},outputs:{showExplainOfQuestion:"showExplainOfQuestion"},features:[t.qOj],decls:1,vars:1,consts:[["class","p-3",4,"ngIf"],[1,"p-3"],[4,"ngIf"],["class","p-3 mt-4",4,"ngIf"],[1,"font-medium"],[1,"btn-text-primary","font-medium",3,"click"],[1,"p-3","mt-4"],[1,"mt-2"],[3,"content"]],template:function(e,o){1&e&&t.YNc(0,m_,3,2,"div",0),2&e&&t.Q6J("ngIf",o.questionObj.help)},dependencies:[_.O5,Ct.O,p.JV],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-shadow);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262ae!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:darkgrey;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),n})();const g_=function(n){return{"skeleton-box-loading":n}};function f_(n,i){if(1&n&&t._UZ(0,"div",10),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(1,g_,e.renderConfigObj.isFirstRender))}}function h_(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"azt-test-audio-ui",18),t.NdJ("sendAudioEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.sendAudioEmit.emit(a))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("questionObj",e.questionObj)("isShowList",!0)("totalLimit",(e.examObj.limitAudio||-1)>0?e.examObj.limitAudio||-1:0)}}const x_=function(n){return{"pb-2":n}};function T_(n,i){if(1&n&&(t.TgZ(0,"div",11)(1,"div",12),t._UZ(2,"azt-question-group-content-box",13),t.TgZ(3,"div",14),t.YNc(4,h_,1,3,"azt-test-audio-ui",15),t.TgZ(5,"div",16),t._UZ(6,"azt-question-label-box",17),t.qZA(),t._UZ(7,"azt-question-content-box",13),t.qZA()()()),2&n){const e=t.oxw();t.xp6(1),t.Udp("font-size",e.fontSize+"em")("line-height",e.fontSize&&e.fontSize<1.5?e.fontSize+.5:"1.7"),t.Q6J("id","question_render_container_"+e.questionObj.id)("ngClass",t.VKq(17,x_,e.questionObj.attachments.length>0)),t.xp6(1),t.Q6J("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj),t.xp6(2),t.Q6J("ngIf",e.questionObj.attachments.length>0),t.xp6(2),t.Q6J("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj)("curQuestionIndex",e.curQuestionIndex),t.xp6(1),t.Q6J("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj)}}function b_(n,i){1&n&&t._UZ(0,"div",19)}let w_=(()=>{class n extends s_.R{showExplainOfQuestion(){this.showHintAnswer.emit()}ngOnInit(){super.ngOnInit();let e=new r_.m(!0,!0,!1);super.initData(e,this.follower,this.questionObj),this.listenFontChanged&&this.waitDestroy(this.listenFontChanged.subscribe(()=>{this.reRenderContent()}))}constructor(){super(),this.follower=new ft.p,this.curQuestionIndex=0,this.fontSize=1,this.isShowExplain=!1,this.currentAnswerIsCorrect=!1,this.setOneChoiceAnswerEmitter=new t.vpe,this.setTrueFalseAnswerEmitter=new t.vpe,this.setFillAnswerEmitter=new t.vpe,this.setEssayAnswerEmitter=new t.vpe,this.sendAudioEmit=new t.vpe,this.setResultTracking=new t.vpe,this.showHintAnswer=new t.vpe}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-question-standalone-for-step-test"]],inputs:{examObj:"examObj",questionObj:"questionObj",follower:"follower",curQuestionIndex:"curQuestionIndex",fontSize:"fontSize",listenFontChanged:"listenFontChanged",isShowExplain:"isShowExplain",currentAnswerIsCorrect:"currentAnswerIsCorrect"},outputs:{setOneChoiceAnswerEmitter:"setOneChoiceAnswerEmitter",setTrueFalseAnswerEmitter:"setTrueFalseAnswerEmitter",setFillAnswerEmitter:"setFillAnswerEmitter",setEssayAnswerEmitter:"setEssayAnswerEmitter",sendAudioEmit:"sendAudioEmit",setResultTracking:"setResultTracking",showHintAnswer:"showHintAnswer"},features:[t.qOj],decls:11,vars:10,consts:[[1,"question-standalone-step-container-box","box"],[1,"question-standalone-step-question-box","p-3"],["load_effect_lazy","",1,"question-standalone-box",2,"box-shadow","none","margin","0px",3,"id"],["class","question-standalone-loader-box",3,"ngClass",4,"ngIf","ngIfElse"],["elementRended",""],[1,"question-standalone-step-answer-container-box"],[1,"ml-auto","mr-auto","w-full","relative"],[3,"question","questionIndex","fontSize","setResultTracking","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter"],["class","absolute w-full h-full top-0 left-0 z-50",4,"ngIf"],[3,"questionObj","renderConfigObj","isShowExplain","showExplainOfQuestion"],[1,"question-standalone-loader-box",3,"ngClass"],[1,"question-standalone-content-box"],[1,"question-standalone-container",2,"padding","0px",3,"id","ngClass"],[3,"examObj","questionObj","renderConfigObj"],[1,"question-standalone-main-content"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter",4,"ngIf"],[1,"flex","items-center","justify-between"],[3,"examObj","questionObj","renderConfigObj","curQuestionIndex"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter"],[1,"absolute","w-full","h-full","top-0","left-0","z-50"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,f_,1,3,"div",3),t.YNc(4,T_,8,19,"ng-template",null,4,t.W1O),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"azt-question-answer-view-for-student-at-step-page",7),t.NdJ("setResultTracking",function(s){return o.setResultTracking.emit(s)})("setOneChoiceAnswerEmitter",function(s){return o.setOneChoiceAnswerEmitter.emit(s)})("setTrueFalseAnswerEmitter",function(s){return o.setTrueFalseAnswerEmitter.emit(s)})("setFillAnswerEmitter",function(s){return o.setFillAnswerEmitter.emit(s)})("setEssayAnswerEmitter",function(s){return o.setEssayAnswerEmitter.emit(s)}),t.qZA(),t.YNc(9,b_,1,0,"div",8),t.qZA()(),t.TgZ(10,"azt-question-explain-box-for-student-at-step-test",9),t.NdJ("showExplainOfQuestion",function(){return o.showExplainOfQuestion()}),t.qZA()()),2&e){const a=t.MAs(5);t.xp6(2),t.Q6J("id","question_render_element_"+o.questionObj.id),t.xp6(1),t.Q6J("ngIf",!o.renderConfigObj.isRenderElement)("ngIfElse",a),t.xp6(5),t.Q6J("question",o.questionObj)("questionIndex",o.curQuestionIndex)("fontSize",o.fontSize),t.xp6(1),t.Q6J("ngIf",o.currentAnswerIsCorrect),t.xp6(1),t.Q6J("questionObj",o.questionObj)("renderConfigObj",o.renderConfigObj)("isShowExplain",o.isShowExplain)}},dependencies:[_.mk,_.O5,Se.C,ve.T,ye,l_.J,c_.L,__.w,d_],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;inset:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)),var(--tw-shadow);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262ae!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:darkgrey;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),n})();function S_(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",1),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeFullScreenMode())}),t.ALo(1,"mytranslate"),t.TgZ(2,"span",2),t._UZ(3,"lucide-icon",3),t.qZA()()}2&n&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_toan_man_hinh"))}function v_(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",1),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeFullScreenMode())}),t.ALo(1,"mytranslate"),t.TgZ(2,"span",2),t._UZ(3,"lucide-icon",4),t.qZA()()}2&n&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_tested_list_exit_full_screen"))}let k_=(()=>{class n extends T.Q{constructor(){super(...arguments),this.sAztFullScreenService=new H,this.isFullScreenMode=!1}changeFullScreenMode(){this.isFullScreenMode?this.sAztFullScreenService.exitFullscreen():this.sAztFullScreenService.showFullScreen(),this.isFullScreenMode=!this.isFullScreenMode}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-full-screen-mode-box"]],features:[t.qOj],decls:2,vars:2,consts:[["class","btn btn-sm btn-secondary",3,"matTooltip","click",4,"ngIf"],[1,"btn","btn-sm","btn-secondary",3,"matTooltip","click"],[1,"w-4","h-4"],["name","maximize"],["name","minimize"]],template:function(e,o){1&e&&(t.YNc(0,S_,4,3,"button",0),t.YNc(1,v_,4,3,"button",0)),2&e&&(t.Q6J("ngIf",!o.isFullScreenMode),t.xp6(1),t.Q6J("ngIf",o.isFullScreenMode))},dependencies:[_.O5,P.gM,k.Nh5,p.JV],encapsulation:2}),n})();function A_(n,i){1&n&&(t.O4$(),t.kcU(),t.ynx(0),t._uU(1),t.ALo(2,"mytranslate"),t.BQk()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_button_back")))}function O_(n,i){if(1&n&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_thi_sinh"),": ",e.currentTakeTestStepData.testingUserObj.fullName,"")}}function C_(n,i){if(1&n&&(t.O4$(),t.kcU(),t._UZ(0,"app-testbank-frontend-count-down-box",25)),2&n){const e=t.oxw();t.Q6J("totalSecond",e.currentTakeTestStepData.countDownSecond)("useCountDown",!1)}}function y_(n,i){1&n&&(t.O4$(),t._uU(0),t.ALo(1,"mytranslate")),2&n&&t.hij(" ",t.lcZ(1,1,"lang_auto_khong_gioi_han")," ")}let I_=(()=>{class n extends T.Q{constructor(){super(...arguments),this.openQuitDialogEvent=new t.vpe}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-training-header-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",sAztTestResizeService:"sAztTestResizeService",isMobileScreenSize:"isMobileScreenSize"},outputs:{openQuitDialogEvent:"openQuitDialogEvent"},features:[t.qOj],decls:34,vars:12,consts:[[1,"fixed","w-full","bg-white","items-center","flex","top-0","left-0","ng-star-inserted","p-3",2,"z-index","111","border-bottom","1px solid #ccc"],["azt-track-service","training-header-box-phEe7AjEd",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[4,"ngIf"],[1,"relative","mx-auto"],["class","text-md font-medium",4,"ngIf"],[1,"mr-6"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[3,"totalSecond","useCountDown",4,"ngIf","ngIfElse"],["unlimitedTimeTpl",""],[1,"flex","items-center","dropdown","mr-3"],["azt-track-service","take-test-DqyfiYKf45",1,"btn","btn-sm","btn-secondary","mr-2",3,"disabled","matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-zoom-out"],["cx","11","cy","11","r","8"],["x1","21","x2","16.65","y1","21","y2","16.65"],["x1","8","x2","14","y1","11","y2","11"],["azt-track-service","take-test-lcadhTPzm",1,"btn","btn-sm","btn-secondary",3,"disabled","matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-zoom-in"],["x1","11","x2","11","y1","8","y2","14"],[1,"flex","items-center","dropdown"],[1,"text-md","font-medium"],[3,"totalSecond","useCountDown"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"button",1),t.NdJ("click",function(){return o.openQuitDialogEvent.emit()}),t.O4$(),t.TgZ(3,"svg",2),t._UZ(4,"polyline",3),t.qZA(),t.YNc(5,A_,3,3,"ng-container",4),t.qZA()(),t.kcU(),t.TgZ(6,"div",5),t.YNc(7,O_,3,4,"span",6),t.qZA(),t.TgZ(8,"div",7)(9,"div",8),t.O4$(),t.TgZ(10,"svg",9),t._UZ(11,"circle",10)(12,"polyline",11),t.qZA(),t.YNc(13,C_,1,2,"app-testbank-frontend-count-down-box",12),t.YNc(14,y_,2,3,"ng-template",null,13,t.W1O),t.qZA()(),t.kcU(),t.TgZ(16,"div",14)(17,"button",15),t.NdJ("click",function(){return o.sAztTestResizeService.zoomOut()}),t.ALo(18,"mytranslate"),t.TgZ(19,"span"),t.O4$(),t.TgZ(20,"svg",16),t._UZ(21,"circle",17)(22,"line",18)(23,"line",19),t.qZA()()(),t.kcU(),t.TgZ(24,"button",20),t.NdJ("click",function(){return o.sAztTestResizeService.zoomIn()}),t.ALo(25,"mytranslate"),t.TgZ(26,"span"),t.O4$(),t.TgZ(27,"svg",21),t._UZ(28,"circle",17)(29,"line",18)(30,"line",22)(31,"line",19),t.qZA()()()(),t.kcU(),t.TgZ(32,"div",23),t._UZ(33,"app-coazt-full-screen-mode-box"),t.qZA()()),2&e){const a=t.MAs(15);t.xp6(5),t.Q6J("ngIf",!o.isMobileScreenSize),t.xp6(2),t.Q6J("ngIf",!o.isMobileScreenSize),t.xp6(6),t.Q6J("ngIf",!o.currentTakeTestStepData.isUnLimitedTime)("ngIfElse",a),t.xp6(4),t.Q6J("disabled",o.sAztTestResizeService.fontSize<=1)("matTooltip",t.lcZ(18,8,"lang_take_test_zoom_out")),t.xp6(7),t.Q6J("disabled",o.sAztTestResizeService.fontSize>=2)("matTooltip",t.lcZ(25,10,"lang_take_test_zoom_in"))}},dependencies:[_.O5,P.gM,G,k_,p.JV],encapsulation:2}),n})(),z_=(()=>{class n extends F.e{btnCloseDialog(e){this.dialogRef.close(e)}constructor(e,o){super(o,e),this.dialogRef=e,this.data=o}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.so,8),t.Y36(S.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["confirm-reset-answer"]],features:[t.qOj],decls:20,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[1,"text-md","font-medium","flex","items-center","px-3","pt-3"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mt-2"],[3,"defaultHeight"],[1,"text-xs","text-slate-500","dark:text-slate-400","p-3","pt-0",3,"innerHtml"],[1,"p-3","text-right"],["azt-track-service","confirm-reset-answer-IROMXJMuQD",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","confirm-reset-answer-Dau1W0YPOB",1,"btn","w-24","btn-primary",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"polygon",5)(6,"line",6)(7,"line",7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(10,"div",8)(11,"azt-mat-dialog-content",9),t._UZ(12,"div",10),t.qZA()()()(),t.TgZ(13,"div",11)(14,"button",12),t.NdJ("click",function(){return o.btnCloseDialog(!1)}),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.TgZ(17,"button",13),t.NdJ("click",function(){return o.btnCloseDialog(!0)}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(8),t.hij(" ",t.lcZ(9,5,"lang_auto_canh_bao")," "),t.xp6(3),t.Q6J("defaultHeight",60),t.xp6(1),t.Q6J("innerHtml",o.data.content,t.oJD),t.xp6(3),t.hij(" ",t.lcZ(16,7,"lang_auto_huy")," "),t.xp6(3),t.hij(" ",t.lcZ(19,9,"lang_auto_xac_nhan")," "))},dependencies:[xt.R,p.JV],encapsulation:2}),n})();function E_(n,i){if(1&n&&(t.TgZ(0,"button",13)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=t.oxw().index;t.xp6(2),t.Oqu(e+1)}}function Z_(n,i){if(1&n&&(t.TgZ(0,"button",14)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=t.oxw().index;t.xp6(2),t.Oqu(e+1)}}function Q_(n,i){if(1&n&&(t.TgZ(0,"button",15)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=t.oxw().index;t.xp6(2),t.Oqu(e+1)}}function j_(n,i){if(1&n&&(t.TgZ(0,"div",9),t.YNc(1,E_,3,1,"button",10),t.YNc(2,Z_,3,1,"button",11),t.YNc(3,Q_,3,1,"button",12),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",!e.practiceCheckAnswer),t.xp6(1),t.Q6J("ngIf","wrong"===e.practiceCheckAnswer||"correct"===e.practiceCheckAnswer&&e.numberOfChecks&&e.numberOfChecks>1),t.xp6(1),t.Q6J("ngIf","correct"===e.practiceCheckAnswer&&e.numberOfChecks&&e.numberOfChecks<=1)}}const L_=function(){return[]};let F_=(()=>{class n extends F.e{constructor(e,o){super(o,e),this.dialogRef=e,this.data=o,this.isDialog=!1}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.so,8),t.Y36(S.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["show-answer-dialog"]],features:[t.qOj],decls:13,vars:10,consts:[[1,"box","py-4","px-4"],[1,"flex","items-center"],[1,"text-md","font-medium","inline-block","mr-2"],[1,"border","border-slate-200","dark:border-darkmode-400","mt-2","overflow-auto"],["pointerEventsMethod","scrollbar",2,"max-height","50vh",3,"visibility","autoHeightDisabled"],[1,"flex","items-center","p-3",2,"flex-wrap","wrap","padding-right","0"],["class","mr-3 mb-3 answer-training-block h-full",4,"ngFor","ngForOf"],[1,"text-right","mt-4"],["azt-track-service","preview-offline-exam-pMnvQqQQGlC",1,"btn","btn-primary","w-24",3,"click"],[1,"mr-3","mb-3","answer-training-block","h-full"],["class","btn border-slate-400 btn-sm w-full h-full",4,"ngIf"],["class","btn border-slate-400 btn-sm w-full h-full bg-slate-400 dark:bg-darkmode-800",4,"ngIf"],["class","btn border-slate-400 btn-sm w-full h-full btn-success text-white",4,"ngIf"],[1,"btn","border-slate-400","btn-sm","w-full","h-full"],[1,"btn","border-slate-400","btn-sm","w-full","h-full","bg-slate-400","dark:bg-darkmode-800"],[1,"btn","border-slate-400","btn-sm","w-full","h-full","btn-success","text-white"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",3)(6,"ng-scrollbar",4)(7,"div",5),t.YNc(8,j_,4,3,"div",6),t.qZA()()(),t.TgZ(9,"div",7)(10,"button",8),t.NdJ("click",function(){return o.closeDialog()}),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()()),2&e){let a;t.xp6(3),t.hij(" ",t.lcZ(4,5,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(3),t.Q6J("visibility","hover")("autoHeightDisabled",!1),t.xp6(2),t.Q6J("ngForOf",null!==(a=o.data.questionList)&&void 0!==a?a:t.DdM(9,L_)),t.xp6(3),t.hij(" ",t.lcZ(12,7,"lang_auto_dong")," ")}},dependencies:[_.sg,_.O5,g.KC,p.JV],encapsulation:2}),n})();function M_(n,i){1&n&&(t.TgZ(0,"div"),t.O4$(),t.TgZ(1,"svg",9),t._UZ(2,"polyline",10),t.qZA()())}function D_(n,i){1&n&&t._UZ(0,"div",11)}function q_(n,i){if(1&n&&(t.TgZ(0,"div",7),t.YNc(1,M_,3,0,"div",4),t.YNc(2,D_,1,0,"div",8),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf","correct"===e.practiceCheckAnswer&&1==e.numberOfChecks),t.xp6(1),t.Q6J("ngIf","correct"===e.practiceCheckAnswer&&1!=e.numberOfChecks||"correct"!==e.practiceCheckAnswer)}}function R_(n,i){1&n&&t._UZ(0,"div",13)}function U_(n,i){1&n&&(t.TgZ(0,"div",7),t.O4$(),t.TgZ(1,"svg",14),t._UZ(2,"path",15)(3,"path",16),t.qZA()())}function N_(n,i){1&n&&(t.TgZ(0,"div",7),t.O4$(),t.TgZ(1,"svg",9),t._UZ(2,"polyline",10),t.qZA()())}function J_(n,i){1&n&&(t.TgZ(0,"div",7),t.O4$(),t.TgZ(1,"svg",17),t._UZ(2,"polyline",10),t.qZA()())}function B_(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,R_,1,0,"div",12),t.YNc(2,U_,4,0,"div",6),t.YNc(3,N_,3,0,"div",6),t.YNc(4,J_,3,0,"div",6),t.qZA()),2&n){const e=t.oxw(),o=e.index,a=e.$implicit,s=t.oxw(3);t.xp6(1),t.Q6J("ngIf",o>s.curQuestion),t.xp6(1),t.Q6J("ngIf","wrong"===a.practiceCheckAnswer),t.xp6(1),t.Q6J("ngIf","correct"===a.practiceCheckAnswer&&1==a.numberOfChecks),t.xp6(1),t.Q6J("ngIf","correct"===a.practiceCheckAnswer&&1!=a.numberOfChecks)}}function P_(n,i){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,q_,3,2,"div",6),t.YNc(2,B_,5,4,"div",4),t.qZA()),2&n){const e=i.index,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e===o.curQuestion),t.xp6(1),t.Q6J("ngIf",e!==o.curQuestion)}}function H_(n,i){if(1&n&&(t.ynx(0),t.YNc(1,P_,3,2,"li",5),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.questionList)}}function G_(n,i){1&n&&t._UZ(0,"div",19)}function Y_(n,i){1&n&&t._UZ(0,"div",13)}function W_(n,i){1&n&&(t.TgZ(0,"div",7),t.O4$(),t.TgZ(1,"svg",14),t._UZ(2,"path",15)(3,"path",16),t.qZA()())}function K_(n,i){1&n&&(t.TgZ(0,"div",7),t.O4$(),t.TgZ(1,"svg",9),t._UZ(2,"polyline",10),t.qZA()())}function V_(n,i){1&n&&(t.TgZ(0,"div",7),t.O4$(),t.TgZ(1,"svg",17),t._UZ(2,"polyline",10),t.qZA()())}function $_(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Y_,1,0,"div",12),t.YNc(2,W_,4,0,"div",6),t.YNc(3,K_,3,0,"div",6),t.YNc(4,V_,3,0,"div",6),t.qZA()),2&n){const e=t.oxw(2),o=e.index,a=e.$implicit,s=t.oxw(3);t.xp6(1),t.Q6J("ngIf",o>s.curQuestion),t.xp6(1),t.Q6J("ngIf","wrong"===a.practiceCheckAnswer),t.xp6(1),t.Q6J("ngIf","correct"===a.practiceCheckAnswer&&1==a.numberOfChecks),t.xp6(1),t.Q6J("ngIf","correct"===a.practiceCheckAnswer&&1!=a.numberOfChecks)}}function X_(n,i){if(1&n&&(t.ynx(0),t.YNc(1,G_,1,0,"div",18),t.YNc(2,$_,5,4,"div",4),t.BQk()),2&n){const e=t.oxw().index,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e===o.curQuestion),t.xp6(1),t.Q6J("ngIf",e!==o.curQuestion)}}function tu(n,i){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,X_,3,2,"ng-container",4),t.qZA()),2&n){const e=i.index,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e>=o.startQuestionPositionInPagination&&e<o.startQuestionPositionInPagination+o.numberOfShowItem)}}function eu(n,i){if(1&n&&(t.ynx(0),t.YNc(1,tu,2,1,"li",5),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.questionList)}}function nu(n,i){if(1&n&&(t.TgZ(0,"div",1)(1,"nav",2)(2,"ul",3),t.YNc(3,H_,2,1,"ng-container",4),t.YNc(4,eu,2,1,"ng-container",4),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.questionList.length<=e.numberOfShowItem),t.xp6(1),t.Q6J("ngIf",e.questionList.length>e.numberOfShowItem)}}let ou=(()=>{class n extends T.Q{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["list-status-answer"]],inputs:{questionList:"questionList",curQuestion:"curQuestion",startQuestionPositionInPagination:"startQuestionPositionInPagination",numberOfShowItem:"numberOfShowItem"},features:[t.qOj],decls:1,vars:1,consts:[["class","azt-hidden md:block",4,"ngIf"],[1,"azt-hidden","md:block"],[1,"inline-block",2,"vertical-align","middle"],[1,"pagination","items-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","mx-1",4,"ngIf"],[1,"mx-1"],["class","w-4 h-4 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","4","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","text-success"],["points","20 6 9 17 4 12"],[1,"w-4","h-4","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400"],["class","w-2 h-2 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400 mx-1",4,"ngIf"],[1,"w-2","h-2","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400","mx-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","w-4","h-4","text-danger"],["d","M18 6 6 18"],["d","m6 6 12 12"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","4","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","text-warning"],["class","w-4 h-4 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400 mx-1",4,"ngIf"],[1,"w-4","h-4","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400","mx-1"]],template:function(e,o){1&e&&t.YNc(0,nu,5,2,"div",0),2&e&&t.Q6J("ngIf",o.questionList.length)},dependencies:[_.sg,_.O5],encapsulation:2}),n})();function iu(n,i){if(1&n&&t._UZ(0,"azt-loading-effect",3),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function au(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_frontend_well_done")," "))}function su(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_frontend_pay_more_attention_okay")," "))}function ru(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_frontend_keep_up_the_good_work_keep_going")," "))}function lu(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_frontend_keep_trying_harder_okay")," "))}function cu(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",38),t._UZ(2,"lucide-icon",39),t.qZA(),t.TgZ(3,"div",40)(4,"div",41),t.YNc(5,au,3,3,"span",20),t.YNc(6,su,3,3,"span",20),t.qZA(),t.TgZ(7,"div",42),t.YNc(8,ru,3,3,"span",20),t.YNc(9,lu,3,3,"span",20),t.qZA()(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(5),t.Q6J("ngIf",e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.numberOfChecks<=1),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.numberOfChecks>1),t.xp6(2),t.Q6J("ngIf",e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.numberOfChecks<=1),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.numberOfChecks>1)}}function _u(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",43),t._UZ(1,"lucide-icon",7),t.qZA(),t.TgZ(2,"div",40)(3,"div",41)(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"div",42)(8,"span")(9,"span"),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"a",44),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.currentTakeTestStepData.nextBackQuestionModel.isLastQuestion?a.finishTrainingTest():a.skipQuestion())}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()()()()}2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,3,"lang_testbank_frontend_not_correct")+"!"),t.xp6(5),t.Oqu(t.lcZ(11,5,"lang_testbank_frontend_try_again_or_you_can")+" "),t.xp6(3),t.hij(" ",t.lcZ(14,7,"lang_testbank_frontend_skip")," "))}function uu(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"div",22)(2,"div",23),t.YNc(3,cu,10,4,"ng-container",24),t.YNc(4,_u,15,9,"ng-template",null,25,t.W1O),t.TgZ(6,"div",26)(7,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.closeStatusBoxAnswer())}),t.TgZ(8,"span",28),t._UZ(9,"lucide-icon",29),t.qZA()()()(),t.TgZ(10,"div",16)(11,"div",30),t.O4$(),t.TgZ(12,"svg",31)(13,"filter",32),t._UZ(14,"feOffset",33)(15,"feGaussianBlur",34),t.TgZ(16,"feComponentTransfer"),t._UZ(17,"feFuncA",35),t.qZA(),t.TgZ(18,"feMerge"),t._UZ(19,"feMergeNode")(20,"feMergeNode",36),t.qZA()(),t._UZ(21,"polyline",37),t.qZA()()()()()}if(2&n){const e=t.MAs(5),o=t.oxw(2);t.xp6(3),t.Q6J("ngIf","correct"==o.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer)("ngIfElse",e)}}function pu(n,i){1&n&&(t.TgZ(0,"span",47),t._UZ(1,"azt-loading-ui"),t.qZA())}function mu(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.checkAnswerQuestionByApi(!1))}),t.YNc(1,pu,2,0,"span",46),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",!e.sAztTestQuestionService.checkQuestionHasAnswer(e.currentTakeTestStepData,e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id)),t.xp6(1),t.Q6J("ngIf",e.isCheckingAnswer),t.xp6(2),t.Oqu(t.lcZ(4,3,null==e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer?"lang_testbank_check":"lang_testbank_try_again"))}}function du(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.currentTakeTestStepData.nextBackQuestionModel.isLastQuestion?a.finishTrainingTest():a.nextQuestion())}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,1,e.currentTakeTestStepData.nextBackQuestionModel.isLastQuestion?"lang_testbank_frontend_view_results":"lang_testbank_next_question"))}}function gu(n,i){1&n&&(t.ynx(0),t.TgZ(1,"div",49),t._UZ(2,"div",50)(3,"div",51),t.qZA(),t.BQk())}function fu(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"button",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.resetAnswerQuestion())}),t.TgZ(2,"span",6),t._UZ(3,"lucide-icon",7),t.qZA(),t.TgZ(4,"span",8),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"button",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showAnswerDialog())}),t.TgZ(8,"span",10),t._UZ(9,"lucide-icon",11),t.qZA(),t.TgZ(10,"span",12),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.TgZ(13,"div",13),t._UZ(14,"list-status-answer",14),t.qZA()(),t.TgZ(15,"div",15)(16,"div",16),t.YNc(17,uu,22,2,"div",17),t.YNc(18,mu,5,5,"button",18),t.YNc(19,du,4,3,"button",19),t.YNc(20,gu,4,0,"ng-container",20),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("disabled",!e.hasWrongAnswer||e.currentTakeTestStepData.nextBackQuestionModel.isLastQuestion),t.xp6(4),t.hij(" ",t.lcZ(6,11,"lang_testbank_start_over")," "),t.xp6(6),t.hij(" ",t.lcZ(12,13,"lang_auto_cau")+" "+(e.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex+1)+"/"+e.currentTakeTestStepData.viewQuestionObjs.length," "),t.xp6(3),t.Q6J("questionList",e.currentTakeTestStepData.viewQuestionObjs)("curQuestion",e.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex)("startQuestionPositionInPagination",e.startQuestionPositionInPagination)("numberOfShowItem",e.limitNumberQuestionsInPagination),t.xp6(3),t.Q6J("ngIf",e.isShowAnswerStatusBox&&e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer&&e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.numberOfChecks),t.xp6(1),t.Q6J("ngIf",null==e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer||"wrong"===e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer),t.xp6(1),t.Q6J("ngIf","correct"===e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer),t.xp6(1),t.Q6J("ngIf",e.isShowSuccessAnimationBox)}}let hu=(()=>{class n extends T.Q{checkAnswerQuestionByApi(e){e||(this.isCheckingAnswer=!0);let o=this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj,a={questionId:o.id,answerContent:[{index:999,content:""}]};const s={examResultId:this.currentTakeTestStepData.termExamResultId,answer:e?a:this.sAztTestQuestionService.getAnswerOfQuestion(this.currentTakeTestStepData,o.id)??a};this.waitDestroy(this.frontExamResultService.apiFrontExamResultSaveQuestionResultEncryptPost(this.encryptionHelper.payload(s),this.currentTakeTestStepData.examObj.hashId).subscribe(r=>{if(!r.success)return this.isCheckingAnswer=!1,this.errorStatusObj(r.message,!0);let c=r.data;o.numberOfChecks=(o.numberOfChecks??0)+1,e?o.practiceCheckAnswer="wrong":(this.isShowAnswerStatusBox=!0,o.practiceCheckAnswer=c?.correct?"correct":"wrong","correct"==o.practiceCheckAnswer&&(this.isShowSuccessAnimationBox=!0,o.numberOfChecks<=1&&this.trainingAudioSuccess.play())),"correct"!==o.practiceCheckAnswer&&(this.hasWrongAnswer=!0),this.isCheckingAnswer=!1}))}finishTrainingTest(){this.initStatusObj(),this.waitDestroy(this.frontExamService.apiFrontExamFinishExamResultGet(this.currentTakeTestStepData.examObj.hashId??"",this.currentTakeTestStepData.termExamResultId).subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message,!0);if(e.data?.status){try{this.localStorageObject.clearAllCache(),this.sAztFullScreenService.exitFullscreen()}catch{}this.stopStatusObj(),this.myNavigation(`/test/submit-test/${this.tenantId}/${this.curCateId}/${this.currentTakeTestStepData.examObj.hashId}/${this.currentTakeTestStepData.termExamResultId}`)}}))}skipQuestion(){this.currentTakeTestStepData=this.sAztTestNextBackQuestionService.nextTo(this.currentTakeTestStepData,this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj),this.startQuestionPositionInPagination=this.sAztTrainingService.calculateStartQuestionPosition(this.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex,this.limitNumberQuestionsInPagination),this.isShowSuccessAnimationBox=!1}nextQuestion(){this.currentTakeTestStepData=this.sAztTestNextBackQuestionService.nextTo(this.currentTakeTestStepData,this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj),this.startQuestionPositionInPagination=this.sAztTrainingService.calculateStartQuestionPosition(this.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex,this.limitNumberQuestionsInPagination),this.isShowSuccessAnimationBox=!1}resetAnswerQuestion(){const o={content:this.commonService.myTranslateInstant("lang_testbank_when_confirming_the_system_will_reset_all_the_answers_you_have_chosen")+"!"};this.sAztDialogService.open(z_,{data:o,width:"500px"}).afterClosed().subscribe(s=>{s&&(this.initStatusObj(),this.waitDestroy(this.frontExamService.apiFrontExamResetExamResultGet(this.currentTakeTestStepData.examObj.hashId??"",this.currentTakeTestStepData.termExamResultId).subscribe(r=>{if(!r.success)return this.errorStatusObj(r.message,!0);this.sAztTestQuestionService.clearAllData(this.currentTakeTestStepData),this.stopStatusObj(),this.resetTrainingTestEvent.emit()})))})}showHintAnswer(){this.currentTakeTestStepData=this.sAztTestQuestionService.setShowHint(this.currentTakeTestStepData,this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id),"correct"!==this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer&&this.checkAnswerQuestionByApi(!0)}showAnswerDialog(){this.sAztDialogService.open(F_,{data:{questionList:this.currentTakeTestStepData.viewQuestionObjs},width:"800px"})}closeStatusBoxAnswer(){this.isShowAnswerStatusBox=!1}ngOnInit(){let e=this.sAztTrainingService.findLastQuestionObjThatHasAnswer(this.currentTakeTestStepData);null!=e&&(this.currentTakeTestStepData=this.sAztTestNextBackQuestionService.nextTo(this.currentTakeTestStepData,e)),this.hasWrongAnswer=this.sAztTrainingService.hasWrongAnswer(this.currentTakeTestStepData),this.startQuestionPositionInPagination=this.sAztTrainingService.calculateStartQuestionPosition(this.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex,this.limitNumberQuestionsInPagination)}constructor(e,o,a,s,r){super(),this.localStorageObject=e,this.frontExamResultService=o,this.frontExamService=a,this.sAztDialogService=s,this.encryptionHelper=r,this.resetTrainingTestEvent=new t.vpe,this.sAztTrainingService=new Qe,this.hasWrongAnswer=!1,this.startQuestionPositionInPagination=0,this.limitNumberQuestionsInPagination=15,this.isShowAnswerStatusBox=!1,this.isShowSuccessAnimationBox=!1,this.trainingAudioSuccess=new Audio("/assets/audio/correct.mp3"),this.isCheckingAnswer=!1,this.sAztFullScreenService=new H}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(fe.y),t.Y36(I.CA),t.Y36(I.Tg),t.Y36(bt.C),t.Y36(ge.C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-training-footer-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",requiredNextBackQuestionModel:"requiredNextBackQuestionModel",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService",sAztTestQuestionService:"sAztTestQuestionService",tenantId:"tenantId",curCateId:"curCateId"},outputs:{resetTrainingTestEvent:"resetTrainingTestEvent"},features:[t.qOj],decls:4,vars:2,consts:[[1,"box","z-50","rounded-none","fixed","flex","items-center","bottom-0","left-0","p-3","w-full"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"flex","items-center","mr-auto"],["azt-track-service","take-training-q7-dI4je6b",1,"btn","border-transparent","shadow-none","btn-outline-primary","mr-2",3,"disabled","click"],[1,"w-5","h-5"],["name","rotate-ccw"],[1,"azt-hidden","md:block","ml-2"],["azt-track-service","take-training-QglPB2g4wq",1,"btn","border-transparent","shadow-none","btn-outline-primary","mr-2",3,"click"],[1,"w-5","h-5","mr-2"],["name","clipboard-list"],[1,"font-medium"],[1,"list-status-answer"],[3,"questionList","curQuestion","startQuestionPositionInPagination","numberOfShowItem"],[1,"ml-auto"],[1,"relative"],["class","box-status",4,"ngIf"],["azt-track-service","take-training-Vy9M0G9VK1u","class","btn btn-primary w-32",3,"disabled","click",4,"ngIf"],["azt-track-service","take-training-EtpBWukccKO","class","btn btn-primary w-48",3,"click",4,"ngIf"],[4,"ngIf"],[1,"box-status"],[1,"box","box-status-answer","absolute","p-3"],[1,"flex","items-center","relative"],[4,"ngIf","ngIfElse"],["incorrectTpl",""],[1,"absolute",2,"top","-8px","right","-8px"],["azt-track-service","take-training-7mWj7MPCixD",1,"btn","btn-sm","btn-outline-danger","btn-transparent",3,"click"],[1,"w-4","h-4","inline-block"],["name","x"],[1,"absolute","icon-triangle"],["width","20","height","12",1,"_10uuq40"],["id","uid-feedback-popover-21-dropshadow","height","150%"],["dx","0","dy","1","result","offsetblur"],["in","SourceAlpha","stdDeviation","2"],["type","linear","slope","0.1"],["in","SourceGraphic"],["fill","white","points","0,0 10,12 20,0","stroke","rgba(0, 0, 0, 0.1)","filter","url(#uid-feedback-popover-21-dropshadow"],[1,"w-10","h-10","text-pending"],["name","star"],[1,"ml-3"],[1,"font-medium","text-lg"],[1,"mt-0.5"],[1,"w-10","h-10","text-primary"],["azt-track-service","take-training-CInmJPjmtb",1,"btn-text-primary","font-medium",3,"click"],["azt-track-service","take-training-Vy9M0G9VK1u",1,"btn","btn-primary","w-32",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","take-training-EtpBWukccKO",1,"btn","btn-primary","w-48",3,"click"],[1,"pyro"],[1,"before"],[1,"after"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,iu,1,1,"azt-loading-effect",1),t.YNc(2,fu,21,15,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[_.O5,E.l,Tt.n,k.Nh5,ou,p.JV],styles:[".box-status-answer[_ngcontent-%COMP%]{width:280px;top:-110px;right:50px}.icon-triangle[_ngcontent-%COMP%]{top:7px;right:55px}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.pyro[_ngcontent-%COMP%] > .before[_ngcontent-%COMP%], .pyro[_ngcontent-%COMP%] > .after[_ngcontent-%COMP%]{position:absolute;width:5px;height:5px;border-radius:50%;box-shadow:0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff;animation:1s _ngcontent-%COMP%_bang ease-out infinite backwards,1s _ngcontent-%COMP%_gravity ease-in infinite backwards,5s _ngcontent-%COMP%_position linear infinite backwards}.pyro[_ngcontent-%COMP%] > .after[_ngcontent-%COMP%]{animation-delay:1.25s,1.25s,1.25s;animation-duration:1.25s,1.25s,6.25s}@keyframes _ngcontent-%COMP%_bang{to{box-shadow:198px -66.6666666667px #ff007b,-200px -58.6666666667px #ffd500,-95px 29.3333333333px #b300ff,36px -276.6666666667px #f200ff,66px -10.6666666667px #ff004c,-224px -255.6666666667px #ff00d4,79px -173.6666666667px #5eff00,-205px -110.6666666667px #ffc800,34px -379.6666666667px #4cff00,-72px -105.6666666667px #ff00c8,53px -46.6666666667px #ffb700,225px 73.3333333333px #f04,-78px -311.6666666667px #8cff00,-201px -247.6666666667px #bf0,-229px -95.6666666667px #02f,-49px -220.6666666667px #ff5900,-131px -190.6666666667px #0f5,-20px -296.6666666667px #90f,-155px -.6666666667px #ff0040,58px 29.3333333333px #ff005d,-104px -254.6666666667px #0ef,-32px -240.6666666667px #0026ff,-158px -158.6666666667px #ff4d00,208px -369.6666666667px #0cf,66px -46.6666666667px #00ff40,54px -187.6666666667px #ffc800,201px -115.6666666667px #00ff37,71px -164.6666666667px #d0f,247px -276.6666666667px #6aff00,227px -172.6666666667px #0df,-185px -25.6666666667px #ff4000,-124px -63.6666666667px #fb0,93px -143.6666666667px #ff004c,171px 18.3333333333px #00ff6f,157px -23.6666666667px #90f,98px -146.6666666667px #6f0,-22px -142.6666666667px #fffb00,-77px -164.6666666667px #a600ff,61px -146.6666666667px #ff009d,51px -87.6666666667px #f0e,17px -60.6666666667px #6200ff,-36px -94.6666666667px #ff004c,-118px -152.6666666667px #0f9,-133px -281.6666666667px #f03,-2px 17.3333333333px #005eff,169px -89.6666666667px #90f,-134px 68.3333333333px #d9ff00,-100px 18.3333333333px #ff6e00,8px -337.6666666667px #e500ff,-28px -121.6666666667px #f20,6px -217.6666666667px #62ff00}}@keyframes _ngcontent-%COMP%_gravity{to{transform:translateY(200px);-moz-transform:translateY(200px);-webkit-transform:translateY(200px);-o-transform:translateY(200px);-ms-transform:translateY(200px);opacity:0}}@keyframes _ngcontent-%COMP%_position{0%,19.9%{margin-top:10%;margin-left:40%}20%,39.9%{margin-top:40%;margin-left:30%}40%,59.9%{margin-top:20%;margin-left:70%}60%,79.9%{margin-top:30%;margin-left:20%}80%,99.9%{margin-top:30%;margin-left:80%}}"]}),n})();const xu=["trainingFooterBox"],Tu=["leaveWindowBox"];function bu(n,i){if(1&n&&t._UZ(0,"azt-loading-effect",2),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function wu(n,i){1&n&&t._UZ(0,"app-coazt-leave-window-event",null,13)}function Su(n,i){if(1&n&&t.GkF(0,14),2&n){t.oxw();const e=t.MAs(15);t.Q6J("ngTemplateOutlet",e)}}const vu=function(n,i){return{"container-content-mobile":n,"container-content-desktop":i}};function ku(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",16),t.NdJ("contextmenu",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.allowContextMenu)}),t.TgZ(2,"div",17),t.GkF(3,14),t.qZA()(),t.BQk()}if(2&n){t.oxw(3);const e=t.MAs(7),o=t.oxw(2);t.xp6(2),t.Q6J("ngClass",t.WLB(2,vu,o.isMobileScreenSize,!o.isMobileScreenSize)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Au(n,i){if(1&n&&(t._UZ(0,"azt-loading-effect",18),t.ALo(1,"mytranslate")),2&n){const e=t.oxw(5);t.Q6J("currentStatusObj",e.statusObj)("customText",t.lcZ(1,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function Ou(n,i){if(1&n&&t.GkF(0,14),2&n){t.oxw(3);const e=t.MAs(19);t.Q6J("ngTemplateOutlet",e)}}function Cu(n,i){if(1&n&&(t.ynx(0),t.YNc(1,ku,4,5,"ng-container",3),t.YNc(2,Au,2,4,"azt-loading-effect",15),t.YNc(3,Ou,1,1,"ng-container",5),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.xp6(1),t.Q6J("ngIf",e.questsLoadState.startLoad),t.xp6(1),t.Q6J("ngIf",!e.questsLoadState.startLoad&&e.questsLoadState.hasErrs)}}function yu(n,i){if(1&n&&t.GkF(0,14),2&n){t.oxw(2);const e=t.MAs(17);t.Q6J("ngTemplateOutlet",e)}}function Iu(n,i){if(1&n&&t.GkF(0,14),2&n){t.oxw(2);const e=t.MAs(11);t.Q6J("ngTemplateOutlet",e)}}function zu(n,i){if(1&n&&t.GkF(0,14),2&n){t.oxw(2);const e=t.MAs(13);t.Q6J("ngTemplateOutlet",e)}}const Eu=function(n,i,e,o){return[n,i,e,o]},je=function(n,i){return[n,i]};function Zu(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Cu,4,3,"ng-container",3),t.YNc(2,yu,1,1,"ng-container",5),t.YNc(3,Iu,1,1,"ng-container",5),t.YNc(4,zu,1,1,"ng-container",5),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.l5B(4,Eu,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep)),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.WAIT_TO_TEST_TIME),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CHOOSE_STUDENT),t.xp6(1),t.Q6J("ngIf",t.WLB(9,je,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5).includes(e.currentTakeTestStepData.currentStep))}}function Qu(n,i){if(1&n&&(t.TgZ(0,"div",24)(1,"span",25),t._uU(2),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(2),t.Oqu(e.currentTakeTestStepData.testingUserObj.fullName)}}function ju(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-coazt-training-footer-box",26,27),t.NdJ("resetTrainingTestEvent",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.reloadPage())}),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("sAztTestQuestionService",e.sAztTestQuestionService)("tenantId",e.tenantId)("curCateId",e.curCateId)}}const Lu=function(n,i){return{"margin-question-bar-for-training-for-desktop":n,"margin-question-bar-for-training-for-mobile":i}},Fu=function(n,i){return{"monitor-screen":n,"monitor-screen-mobile":i}};function Mu(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-coazt-training-header-box",19),t.NdJ("openQuitDialogEvent",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.openQuitDialogEvent.emit())}),t.qZA(),t.TgZ(1,"div",20),t._UZ(2,"div",21),t.YNc(3,Qu,3,1,"div",22),t.GkF(4,14),t.qZA(),t.YNc(5,ju,2,6,"app-coazt-training-footer-box",23)}if(2&n){t.oxw();const e=t.MAs(9),o=t.oxw(2);t.Q6J("currentTakeTestStepData",o.currentTakeTestStepData)("sAztTestResizeService",o.sAztTestResizeService)("isMobileScreenSize",o.isMobileScreenSize),t.xp6(1),t.Q6J("ngClass",t.WLB(8,Lu,!o.isMobileScreenSize,o.isMobileScreenSize)),t.xp6(1),t.Q6J("ngClass",t.WLB(11,Fu,!o.isMobileScreenSize,o.isMobileScreenSize)),t.xp6(1),t.Q6J("ngIf",o.isMobileScreenSize),t.xp6(1),t.Q6J("ngTemplateOutlet",e),t.xp6(1),t.Q6J("ngIf",o.currentTakeTestStepData.nextBackQuestionModel)}}function Du(n,i){if(1&n&&(t.TgZ(0,"div",30),t._UZ(1,"div",31),t.ALo(2,"safeNormalHtmlContent"),t.qZA()),2&n){const e=t.oxw(4);let o;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,null!==(o=null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.header)&&void 0!==o?o:""),t.oJD)}}function qu(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",33)(1,"div",34)(2,"azt-question-standalone-for-step-test",35),t.NdJ("setOneChoiceAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(5);return t.KtG(s.setOneChoiceAnswerEmitter.emit(a))})("setTrueFalseAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(5);return t.KtG(s.setTrueFalseAnswerEmitter.emit(a))})("setFillAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(5);return t.KtG(s.setFillAnswerEmitter.emit(a))})("setEssayAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(5);return t.KtG(s.setEssayAnswerEmitter.emit(a))})("setResultTracking",function(a){t.CHM(e);const s=t.oxw(5);return t.KtG(s.setResultTracking.emit(a))})("sendAudioEmit",function(a){t.CHM(e);const s=t.oxw(5);return t.KtG(s.sendAudioForQuestion.emit(a))})("showHintAnswer",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(null==a.trainingFooterBox?null:a.trainingFooterBox.showHintAnswer())}),t.qZA()()()}if(2&n){const e=i.$implicit,o=t.oxw(5);let a;t.xp6(1),t.s9C("id","question_"+e.id),t.Q6J("hidden",e.id!=o.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id),t.xp6(1),t.Q6J("examObj",o.currentTakeTestStepData.examObj)("questionObj",e)("follower",o.followerRenderQuest)("curQuestionIndex",o.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex)("fontSize",o.sAztTestResizeService.fontSize)("isShowExplain",null!==(a=e.isShowHint)&&void 0!==a&&a)("currentAnswerIsCorrect","correct"===e.practiceCheckAnswer)}}function Ru(n,i){if(1&n&&(t.ynx(0),t.YNc(1,qu,3,9,"div",32),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.currentTakeTestStepData.viewQuestionObjs)}}function Uu(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-sort-essay-files-box",28),t.NdJ("changeAnswerFiles",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.changeAnswerFiles.emit(a))}),t.qZA(),t.YNc(1,Du,3,3,"div",29),t.YNc(2,Ru,2,1,"ng-container",3)}if(2&n){const e=t.oxw(3);t.Q6J("answerFiles",e.currentTakeTestStepData.files),t.xp6(1),t.Q6J("ngIf",null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.allowHeader),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.nextBackQuestionModel)}}const Nu=function(n){return{joinByExamHashId:n}};function Ju(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-join-classroom-box",36),t.NdJ("selectStudentEvent",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.selectStudentEvent.emit(a))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("joinClassroomByType",t.VKq(1,Nu,e.currentTakeTestStepData.examObj.hashId))}}function Bu(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-test-bank-frontend-over-time-of-exam",37),t.NdJ("submitTestEvent",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.submitTestToApi.emit(a))}),t.TgZ(1,"app-coazt-upload-essay-file-at-over-time-box",38),t.NdJ("showUploadEssayFilesDialogEvent",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.showUploadEssayFilesDialog.emit())})("changeAnswerFilesEvent",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.changeAnswerFiles.emit(a))}),t.qZA()()}if(2&n){const e=t.oxw(3);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)("isMobile",e.isMobileScreenSize)("files",e.currentTakeTestStepData.files)("followerRenderQuest",e.followerRenderQuest)("sAztTestResizeService",e.sAztTestResizeService)("userObj",e.currentTakeTestStepData.testingUserObj),t.xp6(1),t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)}}const Pu=function(n){return[n]};function Hu(n,i){if(1&n&&(t.TgZ(0,"div",39)(1,"div",40)(2,"div",41),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",42)(6,"a",43),t.ALo(7,"navigationLocalize"),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()()()),2&n){const e=t.oxw(3);t.xp6(3),t.Oqu(t.lcZ(4,3,e.currentTakeTestStepData.errorMessage)),t.xp6(3),t.Q6J("routerLink",t.VKq(9,Pu,t.lcZ(7,5,e.homeLink))),t.xp6(2),t.Oqu(t.lcZ(9,7,"lang_auto_quay_lai_trang_chu"))}}function Gu(n,i){if(1&n&&t._UZ(0,"app-coazt-wait-to-test-time-box",44),2&n){const e=t.oxw(3);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("homeLink",e.homeLink)}}function Yu(n,i){if(1&n&&t._UZ(0,"app-test-bank-frontend-load-question-error-box",45),2&n){const e=t.oxw(3);t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)}}const Wu=function(n,i,e,o,a,s,r,c){return[n,i,e,o,a,s,r,c]};function Ku(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"app-coazt-tracking-full-screen-event",4)(2,"app-coazt-tracking-visible-event",4),t.YNc(3,wu,2,0,"app-coazt-leave-window-event",3),t.YNc(4,Su,1,1,"ng-container",5),t.YNc(5,Zu,5,12,"div",3),t.YNc(6,Mu,6,14,"ng-template",null,6,t.W1O),t.YNc(8,Uu,3,3,"ng-template",null,7,t.W1O),t.YNc(10,Ju,1,3,"ng-template",null,8,t.W1O),t.YNc(12,Bu,2,9,"ng-template",null,9,t.W1O),t.YNc(14,Hu,10,11,"ng-template",null,10,t.W1O),t.YNc(16,Gu,1,2,"ng-template",null,11,t.W1O),t.YNc(18,Yu,1,3,"ng-template",null,12,t.W1O),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData),t.xp6(1),t.Q6J("currentTakeTestStepData",e.currentTakeTestStepData),t.xp6(1),t.Q6J("ngIf",t.WLB(5,je,e.allTakeTestSteps.START_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST).includes(e.currentTakeTestStepData.currentStep)&&!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.xp6(1),t.Q6J("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.SHOW_ERROR_MESSAGE),t.xp6(1),t.Q6J("ngIf",t.qlk(8,Wu,e.allTakeTestSteps.WAIT_TO_TEST_TIME,e.allTakeTestSteps.CHOOSE_STUDENT,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep))}}function Vu(n,i){if(1&n&&t.YNc(0,Ku,20,17,"ng-container",3),2&n){const e=t.oxw();t.Q6J("ngIf",e.currentTakeTestStepData)}}let $u=(()=>{class n extends a_{constructor(){super(...arguments),this.openQuitDialogEvent=new t.vpe}reloadPage(){this.leaveWindowBox?.stopConfirm(),setTimeout(()=>{window.location.reload()},0)}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-take-training-in-step-layout"]],viewQuery:function(e,o){if(1&e&&(t.Gf(xu,5),t.Gf(Tu,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.trainingFooterBox=a.first),t.iGM(a=t.CRH())&&(o.leaveWindowBox=a.first)}},outputs:{openQuitDialogEvent:"openQuitDialogEvent"},features:[t.qOj],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[4,"ngIf"],[3,"currentTakeTestStepData"],[3,"ngTemplateOutlet",4,"ngIf"],["mainTakeTestContentTpl",""],["showStepQuestionTpl",""],["chooseStudentTpl",""],["overTimeTpl",""],["commonErrorTpl",""],["waitToTestTimeTpl",""],["lstQuestHasErrTpl",""],["leaveWindowBox",""],[3,"ngTemplateOutlet"],[3,"currentStatusObj","customText",4,"ngIf"],[1,"p-0",3,"contextmenu"],[1,"content","relative",2,"padding","0 10px",3,"ngClass"],[3,"currentStatusObj","customText"],[3,"currentTakeTestStepData","sAztTestResizeService","isMobileScreenSize","openQuitDialogEvent"],[1,"pb-4",3,"ngClass"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["class","p-1 text-center mt-1",4,"ngIf"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","sAztTestQuestionService","tenantId","curCateId","resetTrainingTestEvent",4,"ngIf"],[1,"p-1","text-center","mt-1"],[2,"vertical-align","middle","font-weight","420"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","sAztTestQuestionService","tenantId","curCateId","resetTrainingTestEvent"],["trainingFooterBox",""],[3,"answerFiles","changeAnswerFiles"],["class","box p-3 mb-3",4,"ngIf"],[1,"box","p-3","mb-3"],[2,"line-height","1.5",3,"innerHTML"],["class","mt-4","style","animation-delay: 0.05s",4,"ngFor","ngForOf"],[1,"mt-4",2,"animation-delay","0.05s"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id","hidden"],[3,"examObj","questionObj","follower","curQuestionIndex","fontSize","isShowExplain","currentAnswerIsCorrect","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","sendAudioEmit","showHintAnswer"],[3,"joinClassroomByType","selectStudentEvent"],[3,"currentTakeTestStepData","questsLoadState","backToLink","isMobile","files","followerRenderQuest","sAztTestResizeService","userObj","submitTestEvent"],[3,"currentTakeTestStepData","showUploadEssayFilesDialogEvent","changeAnswerFilesEvent"],[1,"box","pt-6"],[1,"text-center","pb-4"],[1,"block","text-danger","text-center"],[1,"text-center","clickable","mt-2"],["azt-track-service","main-component-_qI7rWD5S",1,"link__color","link__hover",3,"routerLink"],[3,"currentTakeTestStepData","homeLink"],[3,"currentTakeTestStepData","questsLoadState","backToLink"]],template:function(e,o){if(1&e&&(t.YNc(0,bu,1,1,"azt-loading-effect",0),t.YNc(1,Vu,1,1,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[m.rH,_.mk,_.sg,_.O5,_.tP,E.l,Ot.I,w_,It.P,zt,Et,Zt,Qt,jt,Lt,Ft,I_,hu,p.Jy,p.JV,p.fF],styles:[".margin-question-bar-for-training-for-desktop[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.margin-question-bar-for-training-for-mobile[_ngcontent-%COMP%]{margin-top:calc(3rem + 20px)!important}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.container-content-mobile[_ngcontent-%COMP%]{padding-bottom:400px!important}.container-content-desktop[_ngcontent-%COMP%]{padding-bottom:20px!important}"]}),n})();const Xu=["trainingFooterBox"],tp=["leaveWindowBox"];function ep(n,i){if(1&n&&t._UZ(0,"azt-loading-effect",2),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function np(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-coazt-take-training-in-step-layout",4),t.NdJ("openQuitDialogEvent",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openQuitDialog())})("showUploadEssayFilesDialog",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showUploadEssayFilesDialog())})("openSubmitExam",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openSubmitExam())})("selectStudentEvent",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.selectStudentEvent(a))})("changeAnswerFiles",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.changeAnswerFiles(a))})("setOneChoiceAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setQuestionOneChoiceAnswer(a))})("setTrueFalseAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setQuestionTrueFalseAnswer(a))})("setFillAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setQuestionFillAnswer(a))})("setEssayAnswerEmitter",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setQuestionEssayAnswer(a))})("setResultTracking",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.setResultTracking(a))})("sendAudioForQuestion",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.sendAudioForQuestion(a))})("submitTestToApi",function(a){t.CHM(e);const s=t.oxw(2);return t.KtG(s.submitTestToApi(a))}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("sAztTestResizeService",e.sAztTestResizeService)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("sAztTestQuestionService",e.sAztTestQuestionService)("currentTakeTestStepData",e.currentTakeTestStepData)("followerRenderQuest",e.followerRenderQuest)("questsLoadState",e.questsLoadState)("isMobileScreenSize",e.isMobileScreenSize)("homeLink",e.homeLink)("backToLink",e.backToLink)("tenantId",e.tenantId)("curCateId",e.curCateId)}}function op(n,i){if(1&n&&t.YNc(0,np,2,11,"ng-container",3),2&n){const e=t.oxw();t.Q6J("ngIf",e.currentTakeTestStepData)}}let ip=(()=>{class n extends be{reloadPage(){this.leaveWindowBox?.stopConfirm(),setTimeout(()=>{window.location.reload()},0)}startShowTestContent(e,o){return this.sAztTakeTestCallApiService.getHistoryAnswerOfTrainingFromApi(this.currentTakeTestStepData,(a,s)=>{if(a)return o(a);e=(new Qe).setQuestionAnswers(e,s),this.sAztTakeTestCallApiService.getSyncQuestionDataFromApi(this.questsLoadState,this.followerRenderQuest,this.questionRenderService,e,r=>{if(this.currentTakeTestStepData=r,this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown)return o(void 0);this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown=!0,this.intervalExamTime(),this.intervalToGetServerTime(),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData),this.sAztTakeTestCallApiService.getImagesThatUploadAtMobileQrCodeFromApi(this.currentTakeTestStepData.uploadHashCode,c=>{null!=c&&(this.currentTakeTestStepData.files=c)}),this.intervalToSendTestDataToApi(),o(void 0)})})}getInitDataFromApi(){let e=new j(this.hashId,this.browserStorageService).getPassword(),o=new j(this.hashId,this.browserStorageService).hasInfo(),a=Q.N.production||Q.N.isProdAzotaVn;this.initStatusObj(),this.waitDestroy(a?this.frontExamService.apiFrontExamInitDataGet(this.hashId,e,o?1:0,this.sAztTestDeviceIdService.getDeviceId(),1).subscribe(s=>{const r=this.encryptionHelper.result(s);this.processInitData(""!=e,r)}):this.frontExamService.apiFrontExamInitDataForDevServerGet(this.hashId,e,o?1:0,this.sAztTestDeviceIdService.getDeviceId(),1).subscribe(s=>{this.processInitData(""!=e,s)}))}ngOnInit(){this.initParams(),super.ngOnInit()}constructor(){super(),this.allTakeTestSteps=x,this.allowContextMenu=!Q.N.production}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-coazt-take-training"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Xu,5),t.Gf(tp,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.trainingFooterBox=a.first),t.iGM(a=t.CRH())&&(o.leaveWindowBox=a.first)}},features:[t.qOj],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[4,"ngIf"],[3,"sAztTestResizeService","sAztTestNextBackQuestionService","sAztTestQuestionService","currentTakeTestStepData","followerRenderQuest","questsLoadState","isMobileScreenSize","homeLink","backToLink","tenantId","curCateId","openQuitDialogEvent","showUploadEssayFilesDialog","openSubmitExam","selectStudentEvent","changeAnswerFiles","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","sendAudioForQuestion","submitTestToApi"]],template:function(e,o){if(1&e&&(t.YNc(0,ep,1,1,"azt-loading-effect",0),t.YNc(1,op,1,1,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[_.O5,E.l,$u],encapsulation:2}),n})();var Le=l(68932),ap=l(26385),sp=l(63278),rp=l(88131),lp=l(85904),cp=l(43614);function _p(n,i){if(1&n&&t._UZ(0,"azt-loading-effect",2),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function up(n,i){if(1&n&&(t._UZ(0,"img",23),t.ALo(1,"mycdn")),2&n){const e=t.oxw().$implicit;t.s9C("src",t.lcZ(1,1,e.avatar),t.LSH)}}function pp(n,i){if(1&n&&t._UZ(0,"azt-create-avatar",24),2&n){const e=t.oxw().$implicit;t.Q6J("nameCreateAvatar",e.fullName)("size",30)}}function mp(n,i){if(1&n&&t._UZ(0,"img",25),2&n){const e=t.oxw().$implicit;t.Q6J("nameImages",e.nameImages)}}function dp(n,i){if(1&n&&(t.TgZ(0,"p",20),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"formatOnlyDateByUserUnitPipe"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_ngay_sinh"),": "),t.xp6(3),t.Oqu(t.lcZ(5,4,e.birthday))}}function gp(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_Diem"),"\xa0",e.mark,"")}}function fp(n,i){1&n&&(t.TgZ(0,"span",26),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_test_result_not_marked_essay")," "))}function hp(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_co_diem")," "))}function xp(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",7)(1,"button",8),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.selectStudentAction(s))}),t.TgZ(2,"div",9)(3,"div",10)(4,"div",11),t.YNc(5,up,2,3,"img",12),t.YNc(6,pp,1,2,"azt-create-avatar",13),t.qZA()(),t.TgZ(7,"div",14)(8,"div",15)(9,"p",16),t._uU(10),t.ALo(11,"slice"),t.qZA(),t.TgZ(12,"div",17),t.YNc(13,mp,1,1,"img",18),t.qZA(),t.YNc(14,dp,6,6,"p",19),t.TgZ(15,"p",20),t.YNc(16,gp,3,4,"span",21),t.YNc(17,fp,3,3,"span",22),t.YNc(18,hp,3,3,"span",21),t.qZA()()()()()()}if(2&n){const e=i.$implicit;let o;t.xp6(1),t.Q6J("disabled",!e.examResultId),t.xp6(4),t.Q6J("ngIf",e.avatar),t.xp6(1),t.Q6J("ngIf",!e.avatar),t.xp6(3),t.s9C("matTooltip",e.fullName&&e.fullName.length>25?e.fullName:""),t.xp6(1),t.hij(" ",e.fullName&&e.fullName.length>25?t.Dn7(11,10,e.fullName,0,25)+"..":e.fullName," "),t.xp6(3),t.Q6J("ngIf",e.nameImages&&(null!==(o=e.id)&&void 0!==o?o:0)<=0),t.xp6(1),t.Q6J("ngIf",e.birthday),t.xp6(2),t.Q6J("ngIf",e.examResultId&&e.examResultConfirmedAt),t.xp6(1),t.Q6J("ngIf",e.examResultId&&!e.examResultConfirmedAt),t.xp6(1),t.Q6J("ngIf",!e.examResultId)}}function Tp(n,i){if(1&n&&(t.TgZ(0,"div",3)(1,"h3",4),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",5),t.YNc(7,xp,19,14,"div",6),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.lnq("",t.lcZ(3,4,e.classroomGroupObj.groupObj.name)," - ",t.lcZ(4,6,e.classroomGroupObj.classroomObj.name),": ",t.lcZ(5,8,"lang_auto_danh_sach_hoc_sinh"),""),t.xp6(5),t.Q6J("ngForOf",e.classroomGroupObj.classroomObj.studentObjs)}}let bp=(()=>{class n extends T.Q{selectStudentAction(e){this.selectStudentEvent.emit(e)}onSearchBox(e){this.searchContentObj=e}sortStudents(){this.classroomGroupObj.classroomObj.studentObjs=0==this.classroomGroupObj.classroomObj.sortType?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.classroomGroupObj.classroomObj.studentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.classroomGroupObj.classroomObj.studentObjs)??[],"pos","id")}getData(){this.initStatusObj(),this.waitDestroy(this.frontOfflineShareService.apiFrontOfflineShareGetShareOfflineDataPost({examHashId:this.examHashId,shareHashId:this.shareOfflineCode,classroomId:this.classroomGroupObj.classroomObj.id}).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);let a=this.commonService.concatMultipleArray(o.data?.classroomGroupObjs.map(s=>s.classroomObjs)??[]).find(s=>s.id==this.classroomGroupObj.classroomObj.id);a&&(this.classroomGroupObj.classroomObj=a),this.sortStudents(),this.stopStatusObj()}))}ngOnInit(){if(super.ngOnInit(),this.classroomGroupObj.classroomObj.dataInApi)return this.sortStudents();this.getData()}constructor(e,o){super(),this.frontOfflineShareService=e,this.sortService=o,this.selectStudentEvent=new t.vpe,this.searchContentObj=new sp.h}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Le.bF),t.Y36(rp.V))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-choose-student-in-share-offline-result"]],inputs:{classroomGroupObj:"classroomGroupObj",examHashId:"examHashId",shareOfflineCode:"shareOfflineCode"},outputs:{selectStudentEvent:"selectStudentEvent"},features:[t.qOj],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"block-main","mt-3"],[1,"font-medium","mb-3"],[1,"grid","grid-cols-12","p-2","pt-4","box",2,"background-color","#fff","min-height","100px"],["class","col-span-12 sm:col-span-12 md:col-span-4 lg:col-span-3 mb-3 px-2",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-12","md:col-span-4","lg:col-span-3","mb-3","px-2"],["azt-track-service","share-offline-result-cxL-TXi9YY",1,"flex","items-center","p-3","rounded-md","bg-slate-100","dark:bg-darkmode-300","w-full",2,"min-height","80px",3,"disabled","click"],[1,"grid","grid-cols-12","gap-2","ml-0","mr-0","justify-content-between",2,"width","100%"],[1,"col-span-3"],[1,"flex","items-center",2,"height","100%","justify-content","center"],["style","vertical-align: middle; margin-top: 2px; border-radius: 50%","width","30","height","30",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"col-span-9","pl-0"],[1,"text-left"],[1,"h5","mb-1","card-custom-title","font-bold",3,"matTooltip"],[1,"block-img"],["class","stdinfo-fullname mb-1 img-name-fluid","style","height: auto","appDrawNameImage","","loading","lazy",3,"nameImages",4,"ngIf"],["class","text-xs mb-0",4,"ngIf"],[1,"text-xs","mb-0"],[4,"ngIf"],["class","text-pending",4,"ngIf"],["width","30","height","30",2,"vertical-align","middle","margin-top","2px","border-radius","50%",3,"src"],[3,"nameCreateAvatar","size"],["appDrawNameImage","","loading","lazy",1,"stdinfo-fullname","mb-1","img-name-fluid",2,"height","auto",3,"nameImages"],[1,"text-pending"]],template:function(e,o){if(1&e&&(t.YNc(0,_p,1,1,"azt-loading-effect",0),t.YNc(1,Tp,8,10,"ng-template",null,1,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[_.sg,_.O5,P.gM,E.l,lp.g,cp.L,_.OU,p.JV,p.QN,p.YK],encapsulation:2}),n})();function wp(n,i){if(1&n&&t._UZ(0,"azt-loading-effect",3),2&n){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function Sp(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"a",11),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.backToClassroomList())}),t.TgZ(2,"span",12),t.O4$(),t.TgZ(3,"svg",13),t._UZ(4,"polyline",14),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_student_join_classroom_back_to_classrooms_list")," "))}function vp(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.YNc(1,Sp,7,3,"div",9),t.TgZ(2,"app-choose-student-in-share-offline-result",10),t.NdJ("selectStudentEvent",function(a){t.CHM(e);const s=t.oxw(3);return t.KtG(s.chooseStudentSuccess(a))}),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.allClassroomObjs.length>1),t.xp6(1),t.Q6J("classroomGroupObj",e.currentClassroomGroupObj)("examHashId",e.examHashIdParam)("shareOfflineCode",e.shareOfflineCodeParam)}}function kp(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"azt-list-classroom-view-for-join-classroom",16),t.NdJ("clickToClassroomEmitter",function(a){t.CHM(e);const s=t.oxw(4);return t.KtG(s.clickToClassroomEvent(a))}),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("isExpandAll",!0)("classroomGroupData",e.classroomWithGroup)}}function Ap(n,i){if(1&n&&t.YNc(0,kp,1,2,"azt-list-classroom-view-for-join-classroom",15),2&n){const e=t.oxw(3);t.Q6J("ngIf",e.classroomWithGroup)}}function Op(n,i){if(1&n&&(t.TgZ(0,"div",6),t.YNc(1,vp,3,4,"div",7),t.YNc(2,Ap,1,1,"ng-template",null,8,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.currentClassroomGroupObj)("ngIfElse",e)}}function Cp(n,i){1&n&&(t.TgZ(0,"div",17)(1,"div",18),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_giao_vien_chua_cho_xem_ket_qua_thi")," "))}function yp(n,i){if(1&n&&(t.YNc(0,Op,4,2,"div",4),t.YNc(1,Cp,4,3,"ng-template",null,5,t.W1O)),2&n){const e=t.MAs(2),o=t.oxw();t.Q6J("ngIf",o.allClassroomObjs.length)("ngIfElse",e)}}let Fe=(()=>{class n extends T.Q{chooseStudentSuccess(e){this.myNavigationWithQueryString(`/test/answer-test/${this.examObj?.tenantId??0}/${this.examObj?.categoryId??0}/${this.examObj?.hashId}/${e.examResultId}`,`?offline=${this.shareOfflineCodeParam}&backto=${this.returnLink}`)}backToClassroomList(){this.commonService.myNavigationWithoutHistory("/test/share-offline-result/"+this.examHashIdParam+"/"+this.shareOfflineCodeParam+"/-1"),this.getParamUrl(),this.currentClassroomGroupObj=void 0}clickToClassroomEvent(e){let o=this.allClassroomObjs.find(a=>a.id==e.classroomObj.id);o&&(this.commonService.myNavigationWithoutHistory("/test/share-offline-result/"+this.examHashIdParam+"/"+this.shareOfflineCodeParam+"/"+o.id),this.getParamUrl(),this.currentClassroomGroupObj={groupObj:e.classroomGroupObj,classroomObj:o})}getData(){if(!this.examHashIdParam||!this.shareOfflineCodeParam)return;let e={examHashId:this.examHashIdParam,shareHashId:this.shareOfflineCodeParam,classroomId:-1!=this.classroomIdParam?this.classroomIdParam:void 0};this.initStatusObj(),this.waitDestroy(this.frontOfflineShareService.apiFrontOfflineShareGetShareOfflineDataPost(e).subscribe(o=>{if(!o.success)return this.forceShowErrorBox(o.message);if(this.examObj=o.data?.examObj,this.classroomWithGroup=(o.data?.classroomGroupObjs??[]).map(r=>({groupObj:r.groupObj,isOwned:!0,classroomObjs:r.classroomObjs})),this.allClassroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroup.map(r=>r.classroomObjs)),-1!=this.classroomIdParam){let r=this.allClassroomObjs.find(u=>u.id==this.classroomIdParam),c=this.classroomWithGroup.find(u=>u.classroomObjs.find(d=>d.id==this.classroomIdParam));if(r&&c)return this.currentClassroomGroupObj={groupObj:c.groupObj,classroomObj:r},void this.successStatusObj()}let a=1==this.allClassroomObjs.length?this.commonService.getFirstOfArray(this.allClassroomObjs):void 0,s=this.classroomWithGroup.find(r=>r.classroomObjs.find(c=>c.id==a?.id));a&&s&&(this.currentClassroomGroupObj={groupObj:s.groupObj,classroomObj:a}),this.successStatusObj()}))}getParamUrl(){this.examHashIdParam=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.shareOfflineCodeParam=this.commonService.getMyParam(this.activeRoute,"offline_code")??"",this.classroomIdParam=this.commonService.getMyParamToNumber(this.activeRoute,"classroom_id")??-1,this.returnLink="/test/share-offline-result/"+this.examHashIdParam+"/"+this.shareOfflineCodeParam+"/"+this.classroomIdParam,this.backToLink="/student/classroom/0"}ngOnInit(){this.getParamUrl(),this.getData(),super.ngOnInit()}constructor(e,o){super(),this.frontOfflineShareService=e,this.activeRoute=o,this.backToLink="",this.returnLink="",this.shareOfflineCodeParam="",this.classroomIdParam=-1,this.examHashIdParam="",this.allClassroomObjs=[],this.currentClassroomGroupObj=void 0,this.classroomWithGroup=[]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Le.bF),t.Y36(m.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-share-offline-result"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["class","mt-5",4,"ngIf","ngIfElse"],["noClassroom",""],[1,"mt-5"],[4,"ngIf","ngIfElse"],["showChooseClassrooms",""],[4,"ngIf"],[3,"classroomGroupObj","examHashId","shareOfflineCode","selectStudentEvent"],["azt-track-service","share-offline-result-kZ8e0tmTZ",1,"display-inline-block",3,"click"],[1,"text-primary","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["points","15 18 9 12 15 6"],[3,"isExpandAll","classroomGroupData","clickToClassroomEmitter",4,"ngIf"],[3,"isExpandAll","classroomGroupData","clickToClassroomEmitter"],[1,"block-empty","mt-5"],["role","alert",1,"alert","alert-danger","text-center"]],template:function(e,o){if(1&e&&(t.TgZ(0,"student-layout",0),t.YNc(1,wp,1,1,"azt-loading-effect",1),t.YNc(2,yp,3,2,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.Q6J("headerBackToLink",o.backToLink),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",a)}},dependencies:[_.O5,E.l,ap.h,lt.L,bp,p.JV],encapsulation:2}),n})();const Ip=[{path:"",component:eo,canActivate:[rt.J],children:[{path:":hash_id",component:Xn},{path:"category/:tenant_id/:cate_id/:page",component:ln},{path:"submit-test/:tenant_id/:cate_id/:hash_id/:result_id",component:xa},{path:"take-test/:tenant_id/:cate_id/:hash_id",component:i_},{path:"take-training/:tenant_id/:cate_id/:hash_id",component:ip},{path:"answer-test/:tenant_id/:cate_id/:hash_id/:result_id",component:Ui},{path:"share-offline-result/:hash_id/:offline_code",component:Fe},{path:"share-offline-result/:hash_id/:offline_code/:classroom_id",component:Fe}]}];let zp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(Ip),m.Bz,dt.fQ]}),n})(),Ep=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:y.f8,useValue:Q.N.azt_tiny_mce_script_src}],imports:[m.Bz,_.ez,O.j,y.Z_,zp,h.u5,h.UX,S.Is,b.Z,z.xC,f.QG,at.W,st.f,C.d,k.qyJ.pick(k.ciZ),g.kb,q.l1,A.N]}),n})()},97151:(tt,D,l)=>{"use strict";l.d(D,{g:()=>k});var _=l(10217),S=l(89156),m=l(65879),y=l(23433),A=l(46558);let k=(()=>{class z{constructor(f,g){this.mobileWebviewService=f,this.commonService=g}shareFileWithBlob(f,g){if(this.commonService.isMobileWebview(void 0)){S.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");let O=new FileReader;O.readAsDataURL(f),O.onloadend=()=>{let b=O.result;"string"==typeof b&&(this.mobileWebviewService.sendShareFileBase64(g,String(b)),S.G.closeLoadingEffect(100))}}else _.saveAs(f,g)}shareFileWithBase64(f,g){this.commonService.isMobileWebview(void 0)?this.mobileWebviewService.sendShareFileBase64(g,f):_.saveAs(f,g)}}return z.\u0275fac=function(f){return new(f||z)(m.LFG(y.r),m.LFG(A.z))},z.\u0275prov=m.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})()},45337:(tt,D,l)=>{"use strict";l.d(D,{T:()=>S});var _=l(65879),h=l(46558);let S=(()=>{class m{resizeDrawerHeight(A,k){if(this.autoResizeHeight=A,this.drawer=k,this.drawer&&this.autoResizeHeight){let z=()=>{let g=document.querySelector(".azt-drawer-content"),O=document.querySelector(".azt-draw-left");if(O&&O instanceof HTMLElement&&g&&g instanceof HTMLElement){let b=g;b.style.minHeight=this.isOpenSideNav?O.clientHeight+10+"px":"auto"}},q=new ResizeObserver(g=>{z()}),f=document.querySelector(".azt-draw-left");f&&q.observe(f),z()}}openDrawer(){this.drawer?.open(),this.isOpenSideNav=!0}closeDrawer(){this.drawer?.close(),this.isOpenSideNav=!1}toggleDrawer(){this.drawer?.toggle(),this.isOpenSideNav=!this.isOpenSideNav}openedChange(A){this.isOpenSideNav=A,this.resizeDrawerHeight(this.autoResizeHeight)}changeToMobileMode(A){A?(this.mode="over",this.hasBackdrop=!0):(this.mode="side",this.hasBackdrop=!1)}constructor(A){this.commonService=A,this.hasBackdrop=!!this.commonService.isMobileOrTable(),this.mode=this.commonService.isMobileOrTable()?"over":"side",this.isShowActions=(this.commonService.isMobileOrTable(),!0),this.isOpenSideNav=!this.commonService.isMobileOrTable(),this.autoResizeHeight=!1}}return m.\u0275fac=function(A){return new(A||m)(_.LFG(h.z))},m.\u0275prov=_.Yz7({token:m,factory:m.\u0275fac,providedIn:null}),m})()},89156:(tt,D,l)=>{"use strict";l.d(D,{G:()=>_});let _=(()=>{class h{static openLoadingEffect(m){h.getDomElement().style.display="flex",setTimeout(()=>{h.changeMsgLoadingEffect(m)},50)}static closeLoadingEffect(m){return new Promise(y=>{setTimeout(()=>{const A=h.getDomElement();A&&(A.style.display="none"),y(!0)},m)})}static changeMsgLoadingEffect(m){h.getDomContent().innerText=m}static getDomContent(){return document.getElementById(h.idStatusContent)??document.createElement("span")}static getDomElement(){return document.getElementById(h.idComponent)??this.createDomElement()}static createDomElement(){const m=document.createElement("div");return m.id=h.idComponent,m.setAttribute("style","position: fixed;display: flex;width: 100vw;height: 100%;background: #000000c7;color: #ffffff;font-size: 20px;font-weight: lighter;justify-content: center;align-items: center;cursor: progress;z-index: 9999;top: 0;left: 0;"),m.style.display="none",m.innerHTML=`\n        <div class="text-center" style="height: 85%; overflow-x: auto;">\n            <div class="flex justify-center mt-5">\n                <svg width="20" viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                        <g transform="translate(2 1)" stroke="currentColor" stroke-width="1.5">\n                            <circle cx="42.601" cy="11.462" r="5" fill-opacity="1" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="1;0;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="49.063" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;1;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="42.601" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;1;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="49.125" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;1;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;1;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="4.938" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;1;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="11.462" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;1;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="5" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;0;1" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                        </g>\n                    </g>\n                </svg>\n            </div>\n            <div style="margin-top: 10px;position: relative;">\n                <span id="${h.idStatusContent}"></span>\n            </div>\n        </div>`,document.body.appendChild(m),m}}return h.idComponent="azt-status-loading-effect",h.idStatusContent="azt-status-loading-effect-content",h})()},10217:function(tt,D){var l,h;void 0!==(h="function"==typeof(l=function(){"use strict";function m(f,g,O){var b=new XMLHttpRequest;b.open("GET",f),b.responseType="blob",b.onload=function(){q(b.response,g,O)},b.onerror=function(){console.error("could not download file")},b.send()}function y(f){var g=new XMLHttpRequest;g.open("HEAD",f,!1);try{g.send()}catch{}return 200<=g.status&&299>=g.status}function A(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(g)}}var k="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,z=k.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),q=k.saveAs||("object"!=typeof window||window!==k?function(){}:"download"in HTMLAnchorElement.prototype&&!z?function(f,g,O){var b=k.URL||k.webkitURL,C=document.createElement("a");C.download=g=g||f.name||"download",C.rel="noopener","string"==typeof f?(C.href=f,C.origin===location.origin?A(C):y(C.href)?m(f,g,O):A(C,C.target="_blank")):(C.href=b.createObjectURL(f),setTimeout(function(){b.revokeObjectURL(C.href)},4e4),setTimeout(function(){A(C)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,O){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(function S(f,g){return typeof g>"u"?g={autoBom:!1}:"object"!=typeof g&&(console.warn("Deprecated: Expected third argument to be a object"),g={autoBom:!g}),g.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\ufeff",f],{type:f.type}):f}(f,O),g);else if(y(f))m(f,g,O);else{var b=document.createElement("a");b.href=f,b.target="_blank",setTimeout(function(){A(b)})}}:function(f,g,O,b){if((b=b||open("","_blank"))&&(b.document.title=b.document.body.innerText="downloading..."),"string"==typeof f)return m(f,g,O);var C="application/octet-stream"===f.type,at=/constructor/i.test(k.HTMLElement)||k.safari,Q=/CriOS\/[\d]+/.test(navigator.userAgent);if((Q||C&&at||z)&&typeof FileReader<"u"){var st=new FileReader;st.onloadend=function(){var L=st.result;L=Q?L:L.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=L:location=L,b=null},st.readAsDataURL(f)}else{var dt=k.URL||k.webkitURL,rt=dt.createObjectURL(f);b?b.location=rt:location.href=rt,b=null,setTimeout(function(){dt.revokeObjectURL(rt)},4e4)}});k.saveAs=q.saveAs=q,tt.exports=q})?l.apply(D,[]):l)&&(tt.exports=h)}}]);