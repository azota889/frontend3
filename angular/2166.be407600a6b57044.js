"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[2166],{98140:(nt,F,c)=>{c.d(F,{a:()=>Lt});var i=c(65879),r=c(47496),s=c(78226),A=c(6585),j=c(69862),L=c(56223),U=c(19347),J=c(65592),q=c(72164),Z=c(61713),tt=c(98603),et=c(82228),H=c(95273);let ot=(()=>{class p{constructor(m){this.http=m,this.apiKey="AIzaSyCnVr7hAO9K6J2uIHVnAA3U2bD1gir2_Eo"}getVideoDetails(m){return this.http.get(`https://www.googleapis.com/youtube/v3/videos?id=${m}&key=${this.apiKey}&part=snippet`)}}return p.\u0275fac=function(m){return new(m||p)(i.LFG(j.eN))},p.\u0275prov=i.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var V=c(96814),E=c(74104),it=c(78497),M=c(71646),$=c(65422),K=c(37722),W=c(36727);function z(p,v){if(1&p){const m=i.EpF();i.TgZ(0,"div",11)(1,"div",12)(2,"input",13,14),i.NdJ("change",function(_){i.CHM(m);const y=i.oxw();return i.KtG(y.uploadFile(_))}),i.qZA(),i.TgZ(4,"div",15),i.NdJ("click",function(){i.CHM(m);const _=i.MAs(3);return i.KtG(_.click())}),i.TgZ(5,"div",16)(6,"div",17)(7,"span",18),i._UZ(8,"lucide-icon",19),i.qZA(),i.TgZ(9,"span",20),i._uU(10),i.ALo(11,"mytranslate"),i.qZA()(),i.TgZ(12,"div",21),i._uU(13),i.ALo(14,"mytranslate"),i.TgZ(15,"a",22),i.NdJ("click",function(_){return _.stopPropagation()}),i._uU(16),i.ALo(17,"mytranslate"),i.qZA()()()()()()}2&p&&(i.xp6(10),i.hij(" ",i.lcZ(11,3,"lang_wsuper_admin_upload_file_choose_file_upload")," "),i.xp6(3),i.hij(" ",i.lcZ(14,5,"lang_auto_azota_support_file_type")," .docx, .azt, .pdf, .pptx, .ppt "),i.xp6(3),i.hij(" ",i.lcZ(17,7,"lang_auto_tim_hieu_them")," "))}function Q(p,v){1&p&&(i.TgZ(0,"div",31)(1,"div",32),i._uU(2),i.ALo(3,"mytranslate"),i.qZA()()),2&p&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function T(p,v){if(1&p&&i._UZ(0,"azt-preview-file",36),2&p){const m=i.oxw(3);i.Q6J("fileUrl",m.docsLinkControl.value)("customHeight",m.boxContentHeight)("fileType",m.shareTypeDocument)}}function N(p,v){if(1&p&&(i.TgZ(0,"div",33)(1,"div",34),i.YNc(2,T,1,3,"azt-preview-file",35),i.qZA()()),2&p){const m=i.oxw(2);i.xp6(2),i.Q6J("ngIf",m.docsLinkControl.value)}}function f(p,v){if(1&p){const m=i.EpF();i.TgZ(0,"div",23)(1,"div",24)(2,"div",25)(3,"input",26),i.NdJ("input",function(){i.CHM(m);const _=i.oxw();return i.KtG(_.getVideoNameFromUrl())}),i.ALo(4,"mytranslate"),i.qZA()(),i.TgZ(5,"div",27),i._UZ(6,"input",28),i.ALo(7,"mytranslate"),i.qZA(),i.YNc(8,Q,4,3,"div",29),i.qZA(),i.YNc(9,N,3,1,"div",30),i.qZA()}if(2&p){const m=i.oxw();i.xp6(3),i.s9C("placeholder",i.lcZ(4,6,"homework_view"==m.data.type?"lang_document_insert_lecture_video_Google_docs_dropbox_link":"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),i.Q6J("formControl",m.docsLinkControl),i.xp6(3),i.s9C("placeholder",i.lcZ(7,8,"lang_document_insert_lecture_file_name")+"..."),i.Q6J("formControl",m.fileNameControl),i.xp6(2),i.Q6J("ngIf",m.fileNameControl.invalid),i.xp6(1),i.Q6J("ngIf",m.checkShowPreviewLink())}}function t(p,v){1&p&&(i.TgZ(0,"span",37),i._UZ(1,"azt-loading-ui"),i.qZA())}let P=(()=>{class p extends q.e{onTabChanged(m){this.selectedIndex=m.index,this.shareTypeDocument=0==this.selectedIndex?s.s.exam:s.s.google_docs}btnCloseDialog(){this.dialogRef.close()}uploadFile(m){let O,_=m.target,y=_.files;if(null!==y)for(let I in y)"length"!=I&&"item"!=I&&(console.log(y[I].type),(0,Z.D_)(y[I].type)||(0,Z.ZA)(y[I].type)||(0,Z._4)(y[I].type)||(0,Z.Wv)(y[I].type)||(0,Z.Or)(y[I].type)||(0,Z.F0)(y[I].type)||y[I].name.toLowerCase().endsWith(".azt")?(0,Z.EO)(y[I].size)<=200?O=y[I]:this.showErrorSnack("lang_auto_vui_long_chon_file_khong_qua_200_mb"):this.showErrorSnack("lang_document_the_file_format_is_not_supported_in_reference"));O&&(this.loadingUpload=!0,this.startUploadFile(O).then(I=>{let X=this.sAztFileTypeService.getTypeFileByMime(I);X?(this.dialogRef.close({name:I.name??"",refId:0,groupType:this.groupTypeFile,type:X,link:I.url??""}),this.loadingUpload=!1):(this.loadingUpload=!1,this.showErrorSnack("lang_document_the_file_format_is_not_supported_in_reference"))})),_.files=null}startUploadFile(m){return new Promise((h,_)=>{(0,Z.hv)(m).then(y=>{this.apiUploadService.uploadToCdnForBusinessPlugins(y).subscribe(O=>{O.type!=j.dt.UploadProgress&&(1==O.success&&O.data?h({...O.data}):_(new Error(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",O.message??"none"))))})})})}checkShowPreviewLink(){return!(!this.docsLinkControl.valid||!((0,Z.jL)(this.docsLinkControl.value)||(0,Z.fE)(this.docsLinkControl.value)||(0,Z.xN)(this.docsLinkControl.value)))}getNameVideo(m){return new J.y(h=>{this.youtubeService.getVideoDetails(m).subscribe(_=>{h.next(_.items&&_.items.length?_.items[0].snippet.title:"undefined"),h.complete()},_=>{h.next(void 0),h.complete()})})}getVideoNameFromUrl(){this.data.type==A.K.homework_view&&(0,Z.xN)(this.docsLinkControl.value)&&(this.shareTypeDocument=s.s.video,this.getNameVideo((0,Z.qS)(this.docsLinkControl.value)??"").subscribe(m=>{m&&this.fileNameControl.setValue(m)}))}confirmUpload(){if(this.docsLinkControl.valid&&(0,Z.Lm)(this.docsLinkControl.value)&&this.fileNameControl.valid&&(this.loadingUpload=!0,this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:this.docsLinkControl.value?this.docsLinkControl.value:""})),this.docsLinkControl.valid&&(0,Z.xN)(this.docsLinkControl.value)&&this.fileNameControl.valid){this.loadingUpload=!0;let m={name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:(0,Z.GU)(this.docsLinkControl.value)?this.docsLinkControl.value:""};this.dialogRef.close(m)}}ngOnInit(){super.ngOnInit(),this.shareTypeDocument=this.commonService.getEnumTypeWithDefault(s.s,this.data.type,s.s.unknown),this.groupTypeFile=this.commonService.getEnumTypeWithDefault(A.K,this.data.type,A.K.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}ngAfterViewInit(){this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}constructor(m,h,_,y,O,I,X){super(X,I),this.sAZTranslateService=m,this.http=h,this.apiUploadService=_,this.sAztFileTypeService=y,this.youtubeService=O,this.dialogRef=I,this.data=X,this.docsLinkControl=new L.NI("",{nonNullable:!0,validators:[L.kI.required]}),this.fileNameControl=new L.NI("",{nonNullable:!0,validators:[L.kI.required]}),this.shareTypeDocument=s.s.exam,this.groupTypeFile=A.K.document,this.allDocumentGroupTypes=A.K,this.boxContentHeight=0,this.loadingUpload=!1,this.selectedIndex=0}}return p.\u0275fac=function(m){return new(m||p)(i.Y36(tt.W),i.Y36(j.eN),i.Y36(et.W),i.Y36(H.v),i.Y36(ot),i.Y36(U.so,8),i.Y36(U.WI,8))},p.\u0275cmp=i.Xpm({type:p,selectors:[["add-document-session-dialog"]],features:[i.qOj],decls:20,vars:17,consts:[["id","box-add-link-content",1,"box","scroll-menu-test",2,"height","80vh"],[1,"p-3"],[3,"selectedIndex","selectedTabChange"],[3,"label"],[2,"height","auto"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"form-group"],[1,"intro","mt-4"],["type","file","name","fileHomework",2,"display","none",3,"change"],["formChoseFile",""],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md",3,"click"],[1,"px-4","pb-8","mt-8","text-center","cursor-pointer","relative"],[1,"flex","items-center",2,"justify-content","center"],[1,"w-5","h-5","mr-2","text-success","inline-block"],["name","file-spreadsheet"],[1,"text-primary","mr-1"],[1,"text-slate-500","text-xs","mt-1"],["azt-track-service","upload-document-GHbxbRMZOV","href","https://docs.azota.vn/docs/huong-dan-su-dung/de-thi/chon-file-keo-tha-file-de-tao-de/","target","_blank",1,"text-primary",3,"click"],[1,"px-2"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"formControl","placeholder","input"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],["class","h-full px-3",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[3,"fileUrl","customHeight","fileType"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(m,h){1&m&&(i.TgZ(0,"div",0)(1,"div")(2,"azt-mat-dialog-content")(3,"div",1)(4,"mat-tab-group",2),i.NdJ("selectedTabChange",function(y){return h.onTabChanged(y)}),i._UZ(5,"mat-tab",3),i.ALo(6,"mytranslate"),i._UZ(7,"mat-tab",3),i.ALo(8,"mytranslate"),i.qZA(),i.TgZ(9,"div",4),i.YNc(10,z,18,9,"div",5),i.YNc(11,f,10,10,"div",6),i.qZA()()()(),i.TgZ(12,"div",7)(13,"button",8),i.NdJ("click",function(){return h.btnCloseDialog()}),i._uU(14),i.ALo(15,"mytranslate"),i.qZA(),i.TgZ(16,"button",9),i.NdJ("click",function(){return h.confirmUpload()}),i.YNc(17,t,2,0,"span",10),i._uU(18),i.ALo(19,"mytranslate"),i.qZA()()()),2&m&&(i.xp6(4),i.Q6J("selectedIndex",h.selectedIndex),i.xp6(1),i.s9C("label",i.lcZ(6,9,"lang_auto_upload_file")),i.xp6(2),i.s9C("label",i.lcZ(8,11,"lang_config_educational_program_use_link")),i.xp6(3),i.Q6J("ngIf",0==h.selectedIndex),i.xp6(1),i.Q6J("ngIf",1==h.selectedIndex),i.xp6(3),i.hij(" ",i.lcZ(15,13,"lang_auto_dong")," "),i.xp6(2),i.Q6J("disabled",h.fileNameControl.invalid||h.loadingUpload),i.xp6(1),i.Q6J("ngIf",h.loadingUpload),i.xp6(1),i.hij(" ",i.lcZ(19,15,"lang_auto_luu")," "))},dependencies:[V.O5,E.uX,E.SP,L.Fj,L.JJ,L.oH,it.R,M.n,$.k,K.Nh5,W.JV],encapsulation:2}),p})();function S(p,v){1&p&&(i.TgZ(0,"div",16)(1,"div",17),i._uU(2),i.ALo(3,"mytranslate"),i.qZA()()),2&p&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function D(p,v){if(1&p&&i._UZ(0,"azt-preview-file",18),2&p){const m=i.oxw(2);i.Q6J("fileUrl",m.embedLinkControl.value)("fileType",m.shareTypeFile)}}function k(p,v){1&p&&(i.TgZ(0,"span",19),i._UZ(1,"azt-loading-ui"),i.qZA())}function at(p,v){if(1&p){const m=i.EpF();i.ynx(0),i.TgZ(1,"div",3)(2,"div",4)(3,"input",5),i.NdJ("input",function(){i.CHM(m);const _=i.oxw();return i.KtG(_.getVideoNameFromUrl())}),i.ALo(4,"mytranslate"),i.qZA()(),i.TgZ(5,"div",6),i._UZ(6,"input",7),i.ALo(7,"mytranslate"),i.qZA(),i.YNc(8,S,4,3,"div",8),i.qZA(),i.TgZ(9,"div",9)(10,"div",10),i.YNc(11,D,1,2,"azt-preview-file",11),i.qZA()(),i.TgZ(12,"div",12)(13,"button",13),i.NdJ("click",function(){i.CHM(m);const _=i.oxw();return i.KtG(_.btnCloseDialog())}),i._uU(14),i.ALo(15,"mytranslate"),i.qZA(),i.TgZ(16,"button",14),i.NdJ("click",function(){i.CHM(m);const _=i.oxw();return i.KtG(_.confirmUpload())}),i.YNc(17,k,2,0,"span",15),i._uU(18),i.ALo(19,"mytranslate"),i.qZA()(),i.BQk()}if(2&p){const m=i.oxw();i.xp6(3),i.s9C("placeholder",i.lcZ(4,10,"lang_document_insert_lecture_video_link")+"..."),i.Q6J("formControl",m.embedLinkControl),i.xp6(3),i.s9C("placeholder",i.lcZ(7,12,"lang_document_insert_lecture_video_name")+"..."),i.Q6J("formControl",m.fileNameControl),i.xp6(2),i.Q6J("ngIf",m.fileNameControl.invalid),i.xp6(3),i.Q6J("ngIf",m.embedLinkControl.value),i.xp6(3),i.hij(" ",i.lcZ(15,14,"lang_auto_dong")," "),i.xp6(2),i.Q6J("disabled",!m.isValidEmbedUrl()||m.fileNameControl.invalid||m.statusObj.loading),i.xp6(1),i.Q6J("ngIf",m.statusObj.loading),i.xp6(1),i.hij(" ",i.lcZ(19,16,"lang_auto_luu")," ")}}function ht(p,v){1&p&&(i.TgZ(0,"div",16)(1,"div",17),i._uU(2),i.ALo(3,"mytranslate"),i.qZA()()),2&p&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function kt(p,v){if(1&p&&i._UZ(0,"azt-preview-file",23),2&p){const m=i.oxw(2);i.Q6J("fileUrl",m.docsLinkControl.value)("customHeight",m.boxContentHeight)("fileType",m.shareTypeFile)}}function yt(p,v){1&p&&(i.TgZ(0,"span",19),i._UZ(1,"azt-loading-ui"),i.qZA())}function Ot(p,v){if(1&p){const m=i.EpF();i.ynx(0),i.TgZ(1,"div",3)(2,"div",4),i._UZ(3,"input",7),i.ALo(4,"mytranslate"),i.qZA(),i.TgZ(5,"div",6),i._UZ(6,"input",7),i.ALo(7,"mytranslate"),i.qZA(),i.YNc(8,ht,4,3,"div",8),i.qZA(),i.TgZ(9,"div",9)(10,"div",20),i.YNc(11,kt,1,3,"azt-preview-file",21),i.qZA()(),i.TgZ(12,"div",22)(13,"button",13),i.NdJ("click",function(){i.CHM(m);const _=i.oxw();return i.KtG(_.btnCloseDialog())}),i._uU(14),i.ALo(15,"mytranslate"),i.qZA(),i.TgZ(16,"button",14),i.NdJ("click",function(){i.CHM(m);const _=i.oxw();return i.KtG(_.confirmUpload())}),i.YNc(17,yt,2,0,"span",15),i._uU(18),i.ALo(19,"mytranslate"),i.qZA()(),i.BQk()}if(2&p){const m=i.oxw();i.xp6(3),i.s9C("placeholder",i.lcZ(4,10,"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),i.Q6J("formControl",m.docsLinkControl),i.xp6(3),i.s9C("placeholder",i.lcZ(7,12,"lang_document_insert_lecture_file_name")+"..."),i.Q6J("formControl",m.fileNameControl),i.xp6(2),i.Q6J("ngIf",m.fileNameControl.invalid),i.xp6(3),i.Q6J("ngIf",m.docsLinkControl.value),i.xp6(3),i.hij(" ",i.lcZ(15,14,"lang_auto_dong")," "),i.xp6(2),i.Q6J("disabled",!m.isValidDocsUrl()||m.fileNameControl.invalid||m.statusObj.loading),i.xp6(1),i.Q6J("ngIf",m.statusObj.loading),i.xp6(1),i.hij(" ",i.lcZ(19,16,"lang_auto_luu")," ")}}let B=(()=>{class p extends q.e{btnCloseDialog(){this.dialogRef.close()}isValidEmbedUrl(){return(0,Z.xN)(this.embedLinkControl.value)}isValidDocsUrl(){return(0,Z.Lm)(this.docsLinkControl.value)}getNameVideo(m){return new J.y(h=>{this.youtubeService.getVideoDetails(m).subscribe(_=>{h.next(_.items&&_.items.length?_.items[0].snippet.title:"undefined"),h.complete()},_=>{h.next(void 0),h.complete()})})}getVideoNameFromUrl(){this.getNameVideo((0,Z.qS)(this.embedLinkControl.value)??"").subscribe(m=>{m&&this.fileNameControl.setValue(m)})}confirmUpload(){if(this.data.type==s.s.video&&this.embedLinkControl.valid&&(0,Z.xN)(this.embedLinkControl.value)&&this.fileNameControl.valid){this.initStatusObj();let m={name:this.fileNameControl.value,type:this.shareTypeFile,groupType:A.K.video,link:(0,Z.GU)(this.embedLinkControl.value)?this.embedLinkControl.value:""};this.dialogRef.close(m)}this.data.type==s.s.google_docs&&this.docsLinkControl.valid&&(0,Z.Lm)(this.docsLinkControl.value)&&this.fileNameControl.valid&&(this.initStatusObj(),this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeFile,groupType:A.K.video,link:this.docsLinkControl.value?this.docsLinkControl.value:""}))}ngOnInit(){super.ngOnInit(),this.shareTypeFile=this.commonService.getEnumTypeWithDefault(s.s,this.data.type,s.s.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??700}constructor(m,h,_,y,O){super(O,y),this.sAZTranslateService=m,this.http=h,this.youtubeService=_,this.dialogRef=y,this.data=O,this.embedLinkControl=new L.NI("",{nonNullable:!0,validators:[L.kI.required]}),this.docsLinkControl=new L.NI("",{nonNullable:!0,validators:[L.kI.required]}),this.fileNameControl=new L.NI("",{nonNullable:!0,validators:[L.kI.required]}),this.shareTypeFile=s.s.video,this.boxContentHeight=0}}return p.\u0275fac=function(m){return new(m||p)(i.Y36(tt.W),i.Y36(j.eN),i.Y36(ot),i.Y36(U.so,8),i.Y36(U.WI,8))},p.\u0275cmp=i.Xpm({type:p,selectors:[["add-video-session"]],features:[i.qOj],decls:4,vars:2,consts:[[1,"box","mt-3","relative",2,"height","80vh"],["id","box-add-link-content",1,"h-full","flex","flex-col","mx-auto"],[4,"ngIf"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"formControl","placeholder","input"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-3","mx-auto",2,"max-width","720px"],[3,"fileUrl","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[3,"fileUrl","fileType"],[1,"w-4","h-4","inline-block","mr-2"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[3,"fileUrl","customHeight","fileType"]],template:function(m,h){1&m&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,at,20,18,"ng-container",2),i.YNc(3,Ot,20,18,"ng-container",2),i.qZA()()),2&m&&(i.xp6(2),i.Q6J("ngIf","video"==h.data.type),i.xp6(1),i.Q6J("ngIf","google_docs"==h.data.type))},dependencies:[V.O5,L.Fj,L.JJ,L.oH,M.n,$.k,W.JV],encapsulation:2}),p})();var Y=c(87789),ft=c(2783),ut=c(77988);function xt(p,v){1&p&&i._UZ(0,"azt-loading-ui",11)}function R(p,v){1&p&&(i.TgZ(0,"span"),i._uU(1," + "),i.qZA())}function wt(p,v){if(1&p&&(i.ynx(0),i.TgZ(1,"button",8),i.NdJ("click",function(h){return h.stopPropagation()}),i.YNc(2,xt,1,0,"azt-loading-ui",9),i.YNc(3,R,2,0,"span",10),i.Hsn(4),i.qZA(),i.BQk()),2&p){const m=i.oxw(),h=i.MAs(4);i.xp6(1),i.Tol("btn btn-transparent w-48 block "+m.customClass),i.Q6J("disabled",m.loadingUpload)("matMenuTriggerFor",h),i.xp6(1),i.Q6J("ngIf",m.loadingUpload),i.xp6(1),i.Q6J("ngIf",!m.loadingUpload)}}function Zt(p,v){1&p&&i._UZ(0,"azt-loading-ui",11)}function Tt(p,v){1&p&&(i.TgZ(0,"span"),i._uU(1," + "),i.qZA())}function It(p,v){if(1&p&&(i.TgZ(0,"span",12),i.NdJ("click",function(h){return h.stopPropagation()}),i.YNc(1,Zt,1,0,"azt-loading-ui",9),i.YNc(2,Tt,2,0,"span",10),i.TgZ(3,"span"),i._uU(4),i.ALo(5,"mytranslate"),i.ALo(6,"mytranslate"),i.qZA()()),2&p){const m=i.oxw(),h=i.MAs(4);i.Q6J("matMenuTriggerFor",h),i.xp6(1),i.Q6J("ngIf",m.loadingUpload),i.xp6(1),i.Q6J("ngIf",!m.loadingUpload),i.xp6(2),i.AsE("",i.lcZ(5,5,"lang_button_add")," ",i.lcZ(6,7,"lang_auto_tai_lieu"),"")}}const Pt=[[["span"]]],Mt=["span"];let Lt=(()=>{class p extends r.Q{showAddLinkDialog(m){this.loadingUpload=!0,this.sAztDialogService.open(B,{width:m==s.s.video?"750px":"950px",data:{showUp:!0,type:m},restoreFocus:!1}).afterClosed().subscribe(_=>{_?(this.emitFileDocument.emit({name:_.name,refId:0,groupType:_.groupType,type:_.type,link:_.link}),this.loadingUpload=!1):this.loadingUpload=!1})}showAddDocumentDialog(m){this.loadingUpload=!0,this.sAztDialogService.open(P,{width:"950px",data:{showUp:!0,type:m},restoreFocus:!1}).afterClosed().subscribe(_=>{_?(this.emitFileDocument.emit({name:_.name,refId:0,groupType:_.groupType,type:_.type,link:_.link}),this.loadingUpload=!1):this.loadingUpload=!1})}ngOnInit(){super.ngOnInit()}constructor(m,h,_,y){super(),this.apiUploadService=m,this.classroomService=h,this.sAztFileTypeService=_,this.sAztDialogService=y,this.isBtn=!0,this.customClass="",this.emitFileDocument=new i.vpe,this.loadingUpload=!1}}return p.\u0275fac=function(m){return new(m||p)(i.Y36(et.W),i.Y36(Y.um),i.Y36(H.v),i.Y36(ft.C))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-upload-document-for-session"]],inputs:{isBtn:"isBtn",customClass:"customClass"},outputs:{emitFileDocument:"emitFileDocument"},features:[i.qOj],ngContentSelectors:Mt,decls:27,vars:14,consts:[[4,"ngIf","ngIfElse"],["otherBtnTemplate",""],["xPosition","after"],["addDocumentMenu","matMenu"],[1,"dropdown-menu","show","relative","w-72"],[1,"dropdown-content"],["azt-track-service","list-educational-program-sessions-alTxPjwR-Y",1,"dropdown-item",2,"align-items","center",3,"click"],[1,"dropdown-item",2,"align-items","center",3,"click"],["azt-track-service","list-educational-program-sessions-rZNJK7p4k4",2,"text-align","left",3,"disabled","matMenuTriggerFor","click"],["type","bootstrap-spinner",4,"ngIf"],[4,"ngIf"],["type","bootstrap-spinner"],["azt-track-service","add-or-edit-educational-program-wqT22r4zB",1,"clickable",2,"text-align","left",3,"matMenuTriggerFor","click"]],template:function(m,h){if(1&m&&(i.F$t(Pt),i.YNc(0,wt,5,6,"ng-container",0),i.YNc(1,It,7,9,"ng-template",null,1,i.W1O),i.TgZ(3,"mat-menu",2,3)(5,"div",4)(6,"ul",5)(7,"li")(8,"a",6),i.NdJ("click",function(){return h.showAddLinkDialog("video")}),i.TgZ(9,"span"),i._uU(10),i.ALo(11,"mytranslate"),i.qZA()()(),i.TgZ(12,"li")(13,"a",7),i.NdJ("click",function(){return h.showAddDocumentDialog("document")}),i.TgZ(14,"span"),i._uU(15),i.ALo(16,"mytranslate"),i.qZA()()(),i.TgZ(17,"li")(18,"a",7),i.NdJ("click",function(){return h.showAddDocumentDialog("homework")}),i.TgZ(19,"span"),i._uU(20),i.ALo(21,"mytranslate"),i.qZA()()(),i.TgZ(22,"li")(23,"a",7),i.NdJ("click",function(){return h.showAddDocumentDialog("homework_view")}),i.TgZ(24,"span"),i._uU(25),i.ALo(26,"mytranslate"),i.qZA()()()()()()),2&m){const _=i.MAs(2);i.Q6J("ngIf",h.isBtn)("ngIfElse",_),i.xp6(10),i.hij(" ",i.lcZ(11,6,"lang_config_educational_program_add_ytb_link")," "),i.xp6(5),i.hij(" ",i.lcZ(16,8,"lang_config_educational_program_add_document")," "),i.xp6(5),i.hij(" ",i.lcZ(21,10,"lang_config_educational_program_add_homework")," "),i.xp6(5),i.hij(" ",i.lcZ(26,12,"lang_config_educational_program_add_homework_view")," ")}},dependencies:[V.O5,ut.VK,ut.p6,M.n,W.JV],encapsulation:2}),p})()},84049:(nt,F,c)=>{c.d(F,{$:()=>i});class i{constructor(){this.currentDate=new Date,this.studentId=-1,this.checkboxMonth=[{selected:!1,month:1,year:this.currentDate.getFullYear()},{selected:!1,month:2,year:this.currentDate.getFullYear()},{selected:!1,month:3,year:this.currentDate.getFullYear()},{selected:!1,month:4,year:this.currentDate.getFullYear()},{selected:!1,month:5,year:this.currentDate.getFullYear()},{selected:!1,month:6,year:this.currentDate.getFullYear()},{selected:!1,month:7,year:this.currentDate.getFullYear()},{selected:!1,month:8,year:this.currentDate.getFullYear()},{selected:!1,month:9,year:this.currentDate.getFullYear()},{selected:!1,month:10,year:this.currentDate.getFullYear()},{selected:!1,month:11,year:this.currentDate.getFullYear()},{selected:!1,month:12,year:this.currentDate.getFullYear()}]}}},22166:(nt,F,c)=>{c.r(F),c.d(F,{AzotaBusinessModule:()=>mi});var i=c(96814),r=c(56223),s=c(19347),A=c(21266),j=c(42273),L=c(42753),U=c(67742),J=c(37722),q=c(21494),Z=c(25391),tt=c(95545),et=c(84155),H=c(78217),ot=c(96238),V=c(69162),E=c(82481),it=c(71026),M=c(47496),$=c(63278),K=c(29023),W=c(73445),z=c(23680),Q=c(44683),T=c(13217),N=c(72164),f=c(84003),t=c(65879),P=c(46e3),S=c(70342),D=c(71646),k=c(36727);function at(o,l){1&o&&(t.TgZ(0,"h3",4),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_dat_lai_mat_khau")," "))}function ht(o,l){1&o&&t._UZ(0,"azt-loading-ui",11)}function kt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",5),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span",6),t._uU(5),t.qZA()(),t.TgZ(6,"div",5),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"div",7)(10,"button",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.dialogRef.close())}),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"button",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.confirmResetPass())}),t.YNc(14,ht,1,0,"azt-loading-ui",10),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,7,"lang_core_ban_co_chac_chan_dat_lai_mat_khau")," "),t.xp6(3),t.Oqu(e.data.name),t.xp6(2),t.hij(" ",t.lcZ(8,9,"lang_core_neu_chac_chan_hay_chon_tiep_tuc_de_dat_lai")," "),t.xp6(4),t.Oqu(t.lcZ(12,11,"lang_cms_common_close_btn")),t.xp6(2),t.Q6J("disabled",e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(16,13,"lang_powerpoint_frontend_detail_continue")," ")}}function yt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",12),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",13),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"span",6),t._uU(8),t.qZA()(),t.TgZ(9,"div",7),t._UZ(10,"input",14),t.TgZ(11,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.showCopySuccess())}),t.O4$(),t.TgZ(12,"svg",16),t._UZ(13,"rect",17)(14,"path",18),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(17,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.dialogRef.close())}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,8,"lang_auto_dat_lai_mat_khau_thanh_cong")," "),t.xp6(3),t.hij(" ",t.lcZ(6,10,"lang_core_dat_lai_mat_khau_note")," "),t.xp6(3),t.Oqu(e.data.name),t.xp6(2),t.Q6J("disabled",!0)("value",e.passwordNew),t.xp6(1),t.Q6J("cdkCopyToClipboard",e.copyPassword()),t.xp6(4),t.hij(" ",t.lcZ(16,12,"lang_auto_copy")," "),t.xp6(3),t.Oqu(t.lcZ(19,14,"lang_homework_export_homework_complete"))}}let Ot=(()=>{class o extends N.e{confirmResetPass(){this.getApiResetPass()}copyPassword(){return this.passwordNew}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}getApiResetPass(){this.initStatusObj(),this.domainUsersManagementService.apiDomainUsersManagementResetDomainUsersPasswordPost({userId:this.data.id}).subscribe({next:n=>{this.passwordNew=n.data??"",this.isAccept=!0,this.stopStatusObj()},error:n=>{this.errorStatusObj(n.error.message,!0)}})}ngOnInit(){super.ngOnInit()}constructor(e,n,a){super(a,n),this.domainUsersManagementService=e,this.dialogRef=n,this.data=a,this.isAccept=!1,this.passwordNew=""}ngOnDestroy(){super.ngOnDestroy()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(P.k),t.Y36(s.so,8),t.Y36(s.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["azt-reset-pasword"]],features:[t._Bn([{provide:K.fM,useClass:Q.WG,deps:[z.Ad,W.o8]},{provide:K.ab,useFactory:T.fX,deps:[f.D]}]),t.qOj],decls:5,vars:3,consts:[[1,"box","p-5"],[1,"container-fluid","mb-1","overflow-hidden","document-market-list","w-full"],["class","text-md font-medium truncate mr-auto mb-2",4,"ngIf"],[4,"ngIf"],[1,"text-md","font-medium","truncate","mr-auto","mb-2"],[1,"text-slate-500"],[1,"font-medium"],[1,"flex","justify-center","mt-5"],["azt-track-service","reset-password-diaglog-Jkn-zarZu",1,"mr-2","btn","btn-secondary",3,"click"],["azt-track-service","reset-password-diaglog-d5x6c9spAk",1,"btn","btn-primary",3,"disabled","click"],["class","loading-upload mr-2","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-2"],[1,"text-slate-500","text-success"],[1,"text-slate-500","mt-2"],["type","text",1,"form-control",3,"disabled","value"],["azt-track-service","reset-password-diaglog-1T3L9ZyoV",1,"ml-2","btn","btn-secondary","btn-copy",3,"cdkCopyToClipboard","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-copy","mr-1"],["width","14","height","14","x","8","y","8","rx","2","ry","2"],["d","M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"],["azt-track-service","reset-password-diaglog-47vs7pIDvd",1,"btn","btn-primary","mt-3","w-full",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,at,3,3,"h3",2),t.YNc(3,kt,17,15,"div",3),t.YNc(4,yt,20,16,"div",3),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngIf",!n.isAccept),t.xp6(1),t.Q6J("ngIf",!n.isAccept),t.xp6(1),t.Q6J("ngIf",n.isAccept))},dependencies:[i.O5,S.i3,D.n,k.JV],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]}),o})();var B=c(2783),Y=c(43389),ft=c(83306),ut=c(25368),xt=c(48419),R=c(98129);function wt(o,l){1&o&&(t.TgZ(0,"div",10),t._UZ(1,"azt-loading-effect"),t.qZA())}function Zt(o,l){1&o&&(t.TgZ(0,"div",15),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_khong_co_tai_khoan")," "))}function Tt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",21),t._UZ(2,"azt-student-info-box",22),t.qZA(),t.TgZ(3,"td",23)(4,"button",24),t.NdJ("click",function(){const d=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.openDialogResetPass(d))}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}if(2&o){const e=l.$implicit;t.xp6(2),t.Q6J("name",e.fullName)("phone",e.phone)("email",e.email)("gender",e.gender)("birthday",e.birthday),t.xp6(3),t.hij(" ",t.lcZ(6,6,"lang_core_dat_lai_mat_khau")," ")}}function It(o,l){if(1&o&&(t.TgZ(0,"div")(1,"div",16)(2,"table",17)(3,"thead")(4,"tr")(5,"th",18),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t._UZ(8,"th",19),t.qZA()(),t.TgZ(9,"tbody"),t.YNc(10,Tt,7,8,"tr",20),t.qZA()()()()),2&o){const e=t.oxw(2);t.xp6(6),t.Oqu(t.lcZ(7,2,"lang_auto_ho_va_ten")),t.xp6(4),t.Q6J("ngForOf",e.listUser)}}function Pt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"azt-paging",27),t.NdJ("goToPaginationPage",function(a){t.CHM(e);const d=t.oxw(3);return t.KtG(d.setPageStudent(a))}),t.ALo(1,"ceilTotalPage"),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("totalPaginationPage",t.xi3(1,2,e.totalUser,e.pageSize))("paging",e.page)}}function Mt(o,l){if(1&o&&(t.TgZ(0,"div",25),t._UZ(1,"div"),t.YNc(2,Pt,2,5,"azt-paging",26),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.totalUser>e.pageSize),t.xp6(1),t.AsE(" ",e.totalUser," ",t.lcZ(4,3,"lang_student_frontend_fooder_account")," ")}}function Lt(o,l){if(1&o&&(t.TgZ(0,"div",11),t.YNc(1,Zt,3,3,"div",12),t.YNc(2,It,11,4,"div",13),t.YNc(3,Mt,5,5,"div",14),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0==e.listUser.length&&0==e.totalUser),t.xp6(1),t.Q6J("ngIf",e.totalUser>0),t.xp6(1),t.Q6J("ngIf",e.totalUser>0)}}let p=(()=>{class o extends M.Q{search(e){this.searchContentObj.setLoading(!0),this.searchContentObj=e,this.setPageStudent(1)}setPageStudent(e){this.myNavigationWithQueryString("/business/account-management","?page="+e),this.page=e,this.getData()}openDialogResetPass(e){this.sAztDialogService.open(Ot,{width:"500px",restoreFocus:!1,data:{id:e.id,name:e.fullName}}).afterClosed().subscribe(n=>{n&&this.getData()})}getData(){this.initStatusObj(),this.waitDestroy(this.domainUsersManagementService.apiDomainUsersManagementGetUsersInDomainPost({page:this.page,pageSize:this.pageSize,textSearch:this.searchContentObj.searchContent}).subscribe({next:n=>{this.listUser=n.data?.objs??[],this.totalUser=n.data?.total??0,this.stopStatusObj(),this.searchContentObj.setLoading(!1)},error:n=>{this.errorStatusObj(n.error.message,!0),this.searchContentObj.setLoading(!1)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_quan_ly_tai_khoan",image:"lang_cms_test_image"}),this.page=Number(this.commonService.getMyQueryParam("page")??"1"),super.ngOnInit(),this.getData()}constructor(e,n){super(),this.sAztDialogService=e,this.domainUsersManagementService=n,this.backLink="/business/dashboard",this.listUser=[],this.totalUser=0,this.page=1,this.pageSize=20,this.searchContentObj=new $.h}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(B.C),t.Y36(P.k))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-azota-business-account-management"]],features:[t.qOj],decls:14,vars:11,consts:[[3,"headerBackToLink"],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["class","flex w-full justify-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"flex","w-full","justify-center"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-2 pb-3",4,"ngIf"],[1,"mt-10","text-center"],[2,"height","100%"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap",2,"padding-left","0"],[4,"ngFor","ngForOf"],[1,"!py-3.5","clickable","w-full"],[3,"name","phone","email","gender","birthday"],[1,"text-center",2,"min-width","170px"],["azt-track-service","class-list-details-s9VkYOpJZKc",1,"btn","btn-primary","shadow-md","w-full","sm:w-auto",3,"click"],[1,"flex","justify-between","items-center","mt-2","pb-3"],[3,"totalPaginationPage","paging","goToPaginationPage",4,"ngIf"],[3,"totalPaginationPage","paging","goToPaginationPage"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.NdJ("onSearch",function(d){return n.search(d.searchObj)}),t.ALo(10,"mytranslate"),t.qZA()()()(),t.YNc(11,wt,2,0,"div",8),t.YNc(12,Lt,4,3,"ng-template",null,9,t.W1O),t.qZA()()),2&e){const a=t.MAs(13);t.Q6J("headerBackToLink",n.backLink),t.xp6(4),t.hij(" ",t.lcZ(5,7,"lang_core_quan_ly_tai_khoan")," "),t.xp6(5),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",n.searchContentObj),t.xp6(2),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",a)}},dependencies:[i.sg,i.O5,Y.l,ft.L,ut.W,xt.a,R._,k.JV,k.po],encapsulation:2}),o})();var v=c(52572),m=c(37398),h=c(26306);class _{static tuitionFeeValidator(l){const e=l;return e?e.value?_.validateTuitionFee(e.value)?(e.setErrors(null),null):(e.setErrors({wrongFormatTuitionFee:!0}),{wrongFormatTuitionFee:!0,identityRevealed:!0}):(e.setErrors(null),null):null}static validateTuitionFee(l){return l.match(/^\d{1,3}(\.\d{3})*$/)}}var y=c(91765),O=c(78226),I=c(6585),X=c(18616),pt=c(43242),Qt=c(36294),Yt=c(19167),gt=c(72358),oe=c(51261),zt=c(64170),jt=c(98525),dt=c(67679);function ne(o,l){1&o&&(t.TgZ(0,"div",16),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij("*",t.lcZ(2,1,"lang_core_vui_long_nhap_ten_chuong_trinh"),""))}function ie(o,l){if(1&o&&(t.TgZ(0,"mat-option",9),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const e=l.$implicit;t.Q6J("value",null==e.schoolLevel?null:e.schoolLevel.id),t.xp6(1),t.hij(" ",t.lcZ(2,2,null==e.schoolLevel?null:e.schoolLevel.key)," ")}}function ae(o,l){1&o&&(t.TgZ(0,"div",16),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij("*",t.lcZ(2,1,"lang_auto_vui_long_chon_khoi_hoc"),""))}function re(o,l){if(1&o&&(t.TgZ(0,"mat-option",17),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const e=l.$implicit;t.Q6J("value",e.id)("hidden",43==e.id),t.xp6(1),t.hij(" ",t.lcZ(2,3,e.key)," ")}}function se(o,l){1&o&&(t.TgZ(0,"div",16),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij("*",t.lcZ(2,1,"lang_auto_vui_long_chon_mon_hoc"),""))}let Bt=(()=>{class o extends M.Q{setListSubject(){let e=this.schoolAndLevelObjs.schoolLevelSubjectObjs.find(n=>this.form.controls.schoolLevelId.value==n.schoolLevel?.id);this.listSchoolSubjectObjs=e?.schoolSubjectObjs??[],this.form.controls.schoolSubjectId.setValue(this.listSchoolSubjectObjs.find(n=>n.id==this.form.controls.schoolSubjectId.value)?.id??0)}setValueAmount(){var e=this.commonService.formatMoney(this.form.controls.tuition.value??""),n=this.getPositionCaret()+(e.length-this.form.controls.tuition.value.length);this.form.controls.tuition.setValue(e),this.goToPositionCaret(n)}getPositionCaret(){try{return document.getElementById("tuition").selectionEnd??0}catch{return 0}}goToPositionCaret(e){try{document.getElementById("tuition").setSelectionRange(e,e)}catch{}}initData(){this.form.patchValue({educationalProgramName:this.educationalProgramObj?.name??"",schoolLevelId:this.educationalProgramObj?.schoolLevelId??0,schoolSubjectId:this.educationalProgramObj?.schoolSubjectId??0,tuition:(this.educationalProgramObj?.fee??0)>0?this.educationalProgramObj?.fee?.toString():"0",description:this.educationalProgramObj?.description??""}),this.setListSubject(),(this.educationalProgramObj?.fee?.toString().length??0)>3&&this.setValueAmount()}ngOnInit(){super.ngOnInit(),this.form=this.programForm.controls.generalFormGroup,this.avoidWarningError(()=>{this.initData()})}constructor(){super(),this.listSchoolSubjectObjs=[]}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-educational-program-general-info-form"]],inputs:{programForm:"programForm",schoolAndLevelObjs:"schoolAndLevelObjs",educationalProgramObj:"educationalProgramObj"},features:[t.qOj],decls:37,vars:33,consts:[[3,"formGroup"],[1,"mt-1"],["for","educationalProgramName",1,"form-label","font-medium","text-sm"],["id","educationalProgramName","formControlName","educationalProgramName","type","text",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-2"],["for","schoolLevelId",1,"form-label","font-medium","text-sm"],["appearance","outline"],["formControlName","schoolLevelId",3,"selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","schoolSubjectId",1,"form-label","font-medium","text-sm"],["formControlName","schoolSubjectId"],[3,"value","hidden",4,"ngFor","ngForOf"],["for","description",1,"form-label","font-medium","text-sm"],["formControlName","description",1,"description",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],[3,"value","hidden"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0)(1,"div",0)(2,"div",1)(3,"label",2),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t._UZ(6,"input",3),t.ALo(7,"mytranslate"),t.YNc(8,ne,3,3,"div",4),t.qZA(),t.TgZ(9,"div",5)(10,"label",6),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"mat-form-field",7)(14,"mat-select",8),t.NdJ("selectionChange",function(){return n.setListSubject()}),t.TgZ(15,"mat-option",9),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.YNc(18,ie,3,4,"mat-option",10),t.qZA()(),t.YNc(19,ae,3,3,"div",4),t.qZA(),t.TgZ(20,"div",5)(21,"label",11),t._uU(22),t.ALo(23,"mytranslate"),t.qZA(),t.TgZ(24,"mat-form-field",7)(25,"mat-select",12)(26,"mat-option",9),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.YNc(29,re,3,5,"mat-option",13),t.qZA()(),t.YNc(30,se,3,3,"div",4),t.qZA(),t.TgZ(31,"div",5)(32,"label",14),t._uU(33),t.ALo(34,"mytranslate"),t.qZA(),t._UZ(35,"textarea",15),t.ALo(36,"mytranslate"),t.qZA()()()),2&e&&(t.Q6J("formGroup",n.programForm),t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(3),t.hij(" ",t.lcZ(5,17,"lang_core_ten_chuong_trinh")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(7,19,"lang_core_nhap_ten_chuong_trinh")+" ..."),t.xp6(2),t.Q6J("ngIf",n.form.controls.educationalProgramName.errors),t.xp6(3),t.hij(" ",t.lcZ(12,21,"lang_auto_khoi_hoc")," "),t.xp6(4),t.Q6J("value",0),t.xp6(1),t.hij("---",t.lcZ(17,23,"lang_auto_chon_khoi"),""),t.xp6(2),t.Q6J("ngForOf",null==n.schoolAndLevelObjs?null:n.schoolAndLevelObjs.schoolLevelSubjectObjs),t.xp6(1),t.Q6J("ngIf",n.form.controls.schoolLevelId.errors),t.xp6(3),t.hij(" ",t.lcZ(23,25,"lang_auto_mon_hoc")," "),t.xp6(4),t.Q6J("value",0),t.xp6(1),t.hij(" ",t.lcZ(28,27,"lang_auto_---chon_mon")," "),t.xp6(2),t.Q6J("ngForOf",n.listSchoolSubjectObjs),t.xp6(1),t.Q6J("ngIf",n.form.controls.schoolSubjectId.errors),t.xp6(3),t.hij(" ",t.lcZ(34,29,"lang_auto_mo_ta")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(36,31,"lang_auto_nhap_noi_dung")))},dependencies:[i.sg,i.O5,z.ey,zt.KE,jt.gD,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,dt.M,k.JV],styles:[".box-info[_ngcontent-%COMP%]{background:white;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:white;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:white}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-20px}.btn-add-session[_ngcontent-%COMP%]:hover{background:rgb(250,250,250)}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:darkgray}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:skyblue;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:rgba(118,124,127,.7411764706)!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:rgba(89,99,103,.7411764706)!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]}),o})();var bt=c(15828),Rt=c(82228),Dt=c(95273),Nt=c(8524),Gt=c(98140);function le(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",6)(1,"azt-document-type-file",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,d=t.oxw();return t.KtG(d.previewDocumentFileDialog(a))}),t.qZA(),t.TgZ(2,"div",8),t.O4$(),t.TgZ(3,"svg",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,d=t.oxw();return t.KtG(d.removeObj(a))}),t._UZ(4,"path",10)(5,"path",11),t.qZA()()()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("type",e.documentType)("name",e.name)("url",e.link)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("customClass","w-4 h-4")("textWidth","90%")}}function ce(o,l){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,le,6,8,"div",5),t.qZA()),2&o){const e=l.$implicit;t.xp6(1),t.Q6J("ngIf",!e.willRemove)}}let de=(()=>{class o extends M.Q{uploadFileEmitted(e){this.listDocumentObjs.push({id:this.commonService.getVirtualIdWithoutInList(!0,this.listDocumentObjs.map(n=>n.id)),name:e.name??"",link:e.link??"",type:e.type??"",documentType:this.commonService.getEnumTypeWithDefault(O.s,e.type??"",O.s.unknown),groupType:this.commonService.getEnumTypeWithDefault(I.K,e.groupType??"",I.K.unknown),willRemove:!1}),this.listDocumentObjsChange.emit(this.listDocumentObjs)}removeObj(e){this.listDocumentObjs.map(n=>n.willRemove=n.id==e.id||n.willRemove),this.listDocumentObjsChange.emit(this.listDocumentObjs)}previewDocumentFileDialog(e){const n={name:e.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(e.type),type:e.type,url:e.link};this.sAztDialogService.open(bt.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...n,index:0},showDownloadIcon:!1},restoreFocus:!1})}ngOnInit(){super.ngOnInit()}constructor(e,n,a){super(),this.apiUploadService=e,this.sAztDialogService=n,this.sAztFileTypeService=a,this.listDocumentObjsChange=new t.vpe}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Rt.W),t.Y36(B.C),t.Y36(Dt.v))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-educational-program-document-form"]],inputs:{listDocumentObjs:"listDocumentObjs"},outputs:{listDocumentObjsChange:"listDocumentObjsChange"},features:[t.qOj],decls:7,vars:5,consts:[[1,"mt-2","flex","justify-between"],["for","description",1,"text-sm","mb-1","items-center","font-medium"],[1,"flex","justify-end","btn-add-document"],[3,"isBtn","emitFileDocument"],[4,"ngFor","ngForOf"],["class","items-center mb-2 relative",4,"ngIf"],[1,"items-center","mb-2","relative"],[1,"clickable",3,"type","name","url","showBorder","onlyOneLine","iconVerticalStyle","customClass","textWidth","click"],[1,"flex","absolute","right-0",2,"width","13px","height","13px","top","3px"],["xmlns","http://www.w3.org/2000/svg","width","13","height","13","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","ml-1",3,"click"],["d","M18 6 6 18"],["d","m6 6 12 12"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"label",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",2)(5,"app-upload-document-for-session",3),t.NdJ("emitFileDocument",function(d){return n.uploadFileEmitted(d)}),t.qZA()()(),t.YNc(6,ce,2,1,"div",4)),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_testbank_document_list_header_title")," "),t.xp6(3),t.Q6J("isBtn",!1),t.xp6(1),t.Q6J("ngForOf",n.listDocumentObjs))},dependencies:[i.sg,i.O5,Nt.F,Gt.a,k.JV],styles:[".box-info[_ngcontent-%COMP%]{background:white;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:white;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:white}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-20px}.btn-add-session[_ngcontent-%COMP%]:hover{background:rgb(250,250,250)}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:darkgray}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:skyblue;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:rgba(118,124,127,.7411764706)!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:rgba(89,99,103,.7411764706)!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]}),o})();var me=c(69862),vt=c(61713);function ue(o,l){1&o&&t._UZ(0,"azt-loading-ui",22)}function pe(o,l){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,""==e.controls.iconLink.value?"lang_core_them_anh":"lang_auto_tai_len")," ")}}function ge(o,l){1&o&&(t.TgZ(0,"small",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij("*",t.lcZ(2,1,"lang_core_vui_long_nhap_ten_sach"),""))}function _e(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"input",8,9),t.NdJ("change",function(a){const u=t.CHM(e).$implicit,w=t.oxw();return t.KtG(w.uploadBookImageEvent(a,u))}),t.qZA(),t.TgZ(4,"div",10)(5,"div",11),t._UZ(6,"img",12),t.ALo(7,"convertCdnLinkOfGitHub"),t.ALo(8,"mycdn"),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"div",13),t.NdJ("click",function(){const d=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.previewBookImageDialog(d))}),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"div",14),t.NdJ("click",function(){t.CHM(e);const a=t.MAs(3);return t.KtG(a.click())}),t.YNc(15,ue,1,0,"azt-loading-ui",15),t.YNc(16,pe,3,3,"div",16),t.qZA()(),t.TgZ(17,"button",17),t.NdJ("click",function(){const d=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.removeBookForm(d))}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()(),t.TgZ(20,"div",18),t._UZ(21,"input",19),t.ALo(22,"mytranslate"),t._UZ(23,"textarea",20),t.ALo(24,"mytranslate"),t.YNc(25,ge,3,3,"small",21),t.qZA()()}if(2&o){const e=l.$implicit;t.Q6J("formGroup",e)("hidden",e.controls.willRemove.value),t.xp6(2),t.Q6J("hidden",!0),t.xp6(4),t.s9C("src",""==e.controls.iconLink.value?t.lcZ(7,17,"images/business-book.svg"):t.lcZ(8,19,e.controls.iconLink.value),t.LSH),t.s9C("alt",t.lcZ(9,21,"lang_core_anh_sach")),t.xp6(4),t.Q6J("hidden",""==e.controls.iconLink.value),t.xp6(1),t.AsE(" ",t.lcZ(12,23,"lang_test_market_view_question")," ",t.lcZ(13,25,"lang_testbank_update_exam_image")," "),t.xp6(3),t.Q6J("ngClass",""==e.controls.iconLink.value?"":"btn-edit-image"),t.xp6(1),t.Q6J("ngIf",e.controls.isUploadingImage.value),t.xp6(1),t.Q6J("ngIf",!e.controls.isUploadingImage.value),t.xp6(2),t.hij(" ",t.lcZ(19,27,"lang_button_delete")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(22,29,"lang_core_ten_sach")),t.Q6J("value",e.controls.name.value),t.xp6(2),t.s9C("placeholder",t.lcZ(24,31,"lang_auto_mo_ta")),t.Q6J("value",e.controls.description.value),t.xp6(2),t.Q6J("ngIf",e.controls.name.invalid)}}let he=(()=>{class o extends M.Q{previewBookImageDialog(e){this.sAztDialogService.open(bt.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:e.controls.name.value,mimes:"image/jpeg",url:e.controls.iconLink.value,index:-1}},restoreFocus:!1})}changeFileImageAction(e,n){var a=void 0;if(null!==e)for(let d in e)"length"!=d&&"item"!=d&&((0,vt.Or)(e[d].type)?(0,vt.EO)(e[d].size)<=5?a=e[d]:this.showErrorSnack("lang_auto_vui_long_chon_anh_co_kich_thuoc_nho_hon_5mb"):this.showErrorSnack("lang_core_file_khong_ho_tro_vui_long_chon_dung_file_anh"));a?this.startUploadFile(a).then(d=>{n.controls.iconLink.setValue(d.url??""),n.controls.isUploadingImage.setValue(!1)}):n.controls.isUploadingImage.setValue(!1)}startUploadFile(e){return new Promise((n,a)=>{(0,vt.hv)(e).then(d=>{this.apiUploadService.uploadToCdnForBusinessPlugins(d).subscribe(u=>{u.type!=me.dt.UploadProgress&&(1==u.success&&u.data?n({...u.data}):a(new Error(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",u.message??"none"))))})})})}removeBookForm(e){e.patchValue({willRemove:!0,name:"empty"}),this.bookFormArray.controls.map(n=>n.controls.id.value==e.controls.id.value?e:n),this.programForm.controls.bookFormArray=this.bookFormArray,this.programForm.updateValueAndValidity()}addMoreBookForm(){this.bookFormArray.push(new r.cw({id:new r.NI(this.commonService.getVirtualIdWithoutInList(!0,this.bookFormArray.getRawValue().map(e=>e.id)),{nonNullable:!0,validators:[r.kI.required]}),name:new r.NI("",{nonNullable:!0,validators:[r.kI.required,y._.noWhiteSpace]}),description:new r.NI("",{nonNullable:!0}),iconLink:new r.NI("",{nonNullable:!0}),willRemove:new r.NI(!1,{nonNullable:!0,validators:[r.kI.required]}),isUploadingImage:new r.NI(!1,{nonNullable:!0,validators:[r.kI.required]})})),this.programForm.controls.bookFormArray=this.bookFormArray,this.programForm.updateValueAndValidity()}initFormArray(){this.bookFormArray.clear(),this.bookObjs.forEach(e=>{this.bookFormArray.push(new r.cw({id:new r.NI(e.id,{nonNullable:!0,validators:[r.kI.required]}),name:new r.NI(e.name,{nonNullable:!0,validators:[r.kI.required,y._.noWhiteSpace]}),description:new r.NI(e.description??"",{nonNullable:!0}),iconLink:new r.NI(e.iconLink??"",{nonNullable:!0}),willRemove:new r.NI(!1,{nonNullable:!0,validators:[r.kI.required]}),isUploadingImage:new r.NI(!1,{nonNullable:!0,validators:[r.kI.required]})}))})}ngOnInit(){super.ngOnInit(),this.bookFormArray=this.programForm.controls.bookFormArray,this.avoidWarningError(()=>{this.initFormArray()})}constructor(e,n){super(),this.apiUploadService=e,this.sAztDialogService=n,this.uploadBookImageEvent=(a,d)=>{d.controls.isUploadingImage.setValue(!0);let x=a.target.files;try{this.changeFileImageAction(x,d)}catch(g){alert(g),d.controls.isUploadingImage.setValue(!1)}}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Rt.W),t.Y36(B.C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-educational-program-book-form"]],inputs:{programForm:"programForm",bookObjs:"bookObjs"},features:[t.qOj],decls:11,vars:11,consts:[[1,"mt-3","flex","justify-between"],["for","description",1,"form-label","font-medium","text-sm"],["azt-track-service","add-or-edit-educational-program--eJ6MP8NK",1,"btn-add-document","text-sm","clickable",3,"click"],[3,"formGroup"],["formArrayName","bookFormArray"],["class","flex mt-2 box-book",3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"flex","mt-2","box-book",3,"formGroup","hidden"],[1,"pb-1"],["type","file","id","box-left-file-input",1,"form-control","file-input",3,"hidden","change"],["iconBook",""],[1,"box-image"],[1,"flex",2,"height","87px"],["id","blah",3,"src","alt"],["azt-track-service","add-or-edit-educational-program-4lu0PqnQg",1,"btn-edit-image","add-image-label","clickable",2,"margin-bottom","10px",3,"hidden","click"],["azt-track-service","add-or-edit-educational-program-ySondJc2qe",1,"add-image-label","clickable",3,"ngClass","click"],["class","loading-upload","type","bootstrap-spinner",4,"ngIf"],[4,"ngIf"],["azt-track-service","add-or-edit-educational-program-TGWpE3kwi6",1,"btn","btn-danger",3,"click"],[1,"ml-3",2,"width","100%"],["type","text","formControlName","name",1,"form-control","input-name-book","mb-1",3,"placeholder","value"],["formControlName","description",1,"form-control","textarea-description",3,"placeholder","value"],["class","text-danger text-left mt-1",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload"],[1,"text-danger","text-left","mt-1"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"label",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",2),t.NdJ("click",function(){return n.addMoreBookForm()}),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"form",3)(9,"div",4),t.YNc(10,_e,26,33,"div",5),t.qZA()()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_core_sach")," "),t.xp6(3),t.AsE("+ ",t.lcZ(6,7,"lang_button_add")," ",t.lcZ(7,9,"lang_core_sach"),""),t.xp6(3),t.Q6J("formGroup",n.programForm),t.xp6(2),t.Q6J("ngForOf",n.bookFormArray.controls))},dependencies:[i.mk,i.sg,i.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,r.CE,dt.M,D.n,k.JV,k.QN,k.Bo],styles:[".box-info[_ngcontent-%COMP%]{background:white;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:white;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:white}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-20px}.btn-add-session[_ngcontent-%COMP%]:hover{background:rgb(250,250,250)}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:darkgray}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:skyblue;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:rgba(118,124,127,.7411764706)!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:rgba(89,99,103,.7411764706)!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]}),o})();var fe=c(88489),xe=c(85929),mt=c(92596),be=c(93523);function ve(o,l){if(1&o){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,d=t.oxw();return t.KtG(d.removeSessionForm(a))}),t._UZ(1,"path",23)(2,"path",24),t.qZA()}}function Ce(o,l){1&o&&(t.TgZ(0,"div",25)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(2),t.hij("*",t.lcZ(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function Ae(o,l){if(1&o){const e=t.EpF();t.O4$(),t.TgZ(0,"svg",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,d=t.oxw().$implicit,u=t.oxw();return t.KtG(u.removeDescriptionForm(d,a))}),t._UZ(1,"path",23)(2,"path",24),t.qZA()}}function ke(o,l){1&o&&(t.TgZ(0,"div",32)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(2),t.hij("*",t.lcZ(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function ye(o,l){if(1&o&&(t.TgZ(0,"div",26)(1,"div",27),t._UZ(2,"input",28),t.ALo(3,"mytranslate"),t.YNc(4,Ae,3,0,"svg",29),t.qZA(),t.YNc(5,ke,4,3,"div",30),t.qZA()),2&o){const e=l.$implicit,n=t.oxw().$implicit;t.Q6J("formGroup",e)("hidden",e.controls.willRemove.value),t.xp6(1),t.MGl("id","description-conten-session-",e.controls.id.value,""),t.xp6(1),t.s9C("placeholder",t.lcZ(3,6,"lang_core_nhap_noi_dung_buoi_hoc")),t.xp6(2),t.Q6J("ngIf",n.controls.totalDescriptionNotDeleted.value>1),t.xp6(1),t.Q6J("ngIf",e.controls.content.errors)}}function Oe(o,l){1&o&&(t.ynx(0),t.TgZ(1,"div",43),t._UZ(2,"img",44),t.ALo(3,"convertCdnLinkOfGitHub"),t.qZA(),t.BQk()),2&o&&(t.xp6(2),t.Q6J("src",t.lcZ(3,1,"images/type_file/unknown-file.svg"),t.LSH))}function we(o,l){1&o&&(t.ynx(0),t.TgZ(1,"div",45),t._UZ(2,"lucide-icon",46),t.qZA(),t.BQk())}function Ze(o,l){1&o&&(t.ynx(0),t.TgZ(1,"div",47),t._UZ(2,"lucide-icon",48),t.qZA(),t.BQk())}const Te=function(o){return[o]},Ie=function(o){return{backto:o}};function Pe(o,l){if(1&o&&(t.TgZ(0,"div",34)(1,"a",35),t.ALo(2,"localize"),t.TgZ(3,"div",36)(4,"div",37),t.YNc(5,Oe,4,3,"ng-container",38),t.YNc(6,we,3,0,"ng-container",38),t.YNc(7,Ze,3,0,"ng-container",38),t.qZA(),t.TgZ(8,"div",39)(9,"div",40)(10,"span",41,42),t._uU(12),t.qZA()()()()()()),2&o){const e=t.MAs(11),n=t.oxw().$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("routerLink",t.VKq(11,Te,t.lcZ(2,9,n.controls.type.value==a.allDocumentTypes.exam?"/admin/testbank/exam-results-list/0/"+(null==n.controls.refId?null:n.controls.refId.value)+"/0":"/admin/testbank/homework-results-list/0/"+n.controls.id.value+"/0")))("queryParams",t.VKq(13,Ie,a.currentUrl)),t.xp6(4),t.Q6J("ngIf",!n.controls.type.value),t.xp6(1),t.Q6J("ngIf",n.controls.type.value==a.allDocumentTypes.exam),t.xp6(1),t.Q6J("ngIf",n.controls.type.value==a.allDocumentTypes.homework),t.xp6(3),t.s9C("matTooltip",n.controls.name.value),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.xp6(2),t.hij(" ",n.controls.name.value," ")}}function Me(o,l){if(1&o&&(t.TgZ(0,"div",26),t.YNc(1,Pe,13,15,"div",33),t.qZA()),2&o){const e=l.$implicit,n=t.oxw(2);t.Q6J("formGroup",e)("hidden",e.controls.willRemove.value),t.xp6(1),t.Q6J("ngIf",e.controls.type.value===n.allDocumentTypes.exam||e.controls.type.value===n.allDocumentTypes.homework)}}function Le(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",34)(1,"azt-document-type-file",49),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,d=t.oxw(2);return t.KtG(d.previewDocumentFileDialog(a))}),t.qZA(),t.TgZ(2,"div",50),t.O4$(),t.TgZ(3,"svg",51),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,d=t.oxw().$implicit,u=t.oxw();return t.KtG(u.removeDocumentForm(d,a))}),t._UZ(4,"path",23)(5,"path",24),t.qZA()()()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("type",e.controls.documentType.value)("name",e.controls.name.value)("url",e.controls.link.value)("showBorder",!1)("iconVerticalStyle","baseline")("customClass","w-4 h-4 image-fit")("textWidth","100%")}}function ze(o,l){if(1&o&&(t.TgZ(0,"div",26),t.YNc(1,Le,6,7,"div",33),t.qZA()),2&o){const e=l.$implicit,n=t.oxw(2);t.Q6J("formGroup",e)("hidden",e.controls.willRemove.value),t.xp6(1),t.Q6J("ngIf",e.controls.type.value!==n.allDocumentTypes.exam&&e.controls.type.value!==n.allDocumentTypes.homework)}}function je(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"h3",7),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.YNc(5,ve,3,0,"svg",8),t.qZA(),t.YNc(6,Ce,4,3,"div",9),t.YNc(7,ye,6,8,"div",10),t.TgZ(8,"div",11)(9,"div",12)(10,"span",13),t.NdJ("click",function(){const d=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.addMoreDescriptionForm(d))}),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"mytranslate"),t.qZA()()(),t.TgZ(14,"div",14)(15,"div",15)(16,"span",16),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()(),t.TgZ(19,"div",17),t.YNc(20,Me,2,3,"div",10),t.TgZ(21,"div",18)(22,"a",19),t.NdJ("click",function(){const d=t.CHM(e).index,u=t.oxw();return t.KtG(u.redirectToCreateNewDocument(d))}),t.TgZ(23,"span",20),t._uU(24,"+"),t.qZA(),t._uU(25),t.ALo(26,"mytranslate"),t.qZA()()()(),t.TgZ(27,"div",14)(28,"div",15)(29,"span",16),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()(),t.TgZ(32,"div",17),t.YNc(33,ze,2,3,"div",10),t.TgZ(34,"div",18)(35,"app-upload-document-for-session",21),t.NdJ("emitFileDocument",function(a){const u=t.CHM(e).$implicit,w=t.oxw();return t.KtG(w.uploadFileEmitted(a,u))}),t.TgZ(36,"span"),t._uU(37),t.ALo(38,"mytranslate"),t.qZA()()()()()()}if(2&o){const e=l.$implicit,n=t.oxw();t.Q6J("formGroup",e)("hidden",e.controls.willRemove.value),t.xp6(3),t.AsE("",t.lcZ(4,19,"lang_core_buoi")," ",e.controls.session.value,""),t.xp6(2),t.Q6J("ngIf",n.programForm.controls.totalSessionNotDeleted.value>1),t.xp6(1),t.Q6J("ngIf",e.controls.totalDescriptionNotDeleted.value<=0),t.xp6(1),t.Q6J("ngForOf",e.controls.descriptionObjs.controls),t.xp6(4),t.AsE(" + ",t.lcZ(12,21,"lang_button_add")," ",t.lcZ(13,23,"lang_auto_noi_dung").toLowerCase()," "),t.xp6(6),t.Oqu(t.lcZ(18,25,"lang_cms_auto_gen_test_exam_title")),t.xp6(3),t.Q6J("ngForOf",e.controls.documentObjs.controls),t.xp6(2),t.Tol("btn btn-transparent w-48 block font-weight-400"),t.xp6(3),t.hij(" ",t.lcZ(26,27,"lang_business_assign_exams")," "),t.xp6(5),t.Oqu(t.lcZ(31,29,"lang_testbank_document_list_header_title")),t.xp6(3),t.Q6J("ngForOf",e.controls.documentObjs.controls),t.xp6(2),t.Q6J("isBtn",!0)("customClass"," font-weight-400"),t.xp6(2),t.Oqu(t.lcZ(38,31,"lang_core_dinh_kem_tai_lieu"))}}let De=(()=>{class o extends M.Q{previewDocumentFileDialog(e){const n={name:e.controls.name.value,mimes:this.sAztFileTypeService.getMineTypeByFileType(e.controls.type.value),type:e.controls.type.value,url:e.controls.link.value};this.sAztDialogService.open(bt.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...n,index:0},showDownloadIcon:!1},restoreFocus:!1})}addNewSession(){let e=this.commonService.concatMultipleArray(this.sessionFormArray.controls.map(d=>d.controls.descriptionObjs).map(d=>d.controls.map(u=>u.controls.id.value))),n=this.sessionFormArray.controls.map(d=>d.controls.sessionId.value),a=new r.cw({id:new r.NI(this.commonService.getVirtualIdWithoutInList(!0,e),{nonNullable:!0,validators:[r.kI.required]}),content:new r.NI("",{nonNullable:!0,validators:[r.kI.required]}),willRemove:new r.NI(!1,{nonNullable:!0,validators:[r.kI.required]})});this.sessionFormArray.push(new r.cw({sessionId:new r.NI(this.commonService.getVirtualIdWithoutInList(!0,n),{nonNullable:!0,validators:[r.kI.required]}),session:new r.NI(0,{nonNullable:!0,validators:[r.kI.required]}),documentObjs:new r.Oe([]),totalDocumentNotDeleted:new r.NI(0,{nonNullable:!0,validators:[r.kI.required]}),descriptionObjs:new r.Oe([a],{validators:[r.kI.required,r.kI.minLength(1)]}),totalDescriptionNotDeleted:new r.NI(1,{nonNullable:!0,validators:[r.kI.required]}),isUploadingImage:new r.NI(!1,{nonNullable:!0,validators:[r.kI.required]}),willRemove:new r.NI(!1,{nonNullable:!0,validators:[r.kI.required]})})),this.updateFormData()}removeSessionForm(e){e.controls.sessionId.value<0?this.sessionFormArray.controls=this.sessionFormArray.controls.filter(n=>n.controls.sessionId.value!=e.controls.sessionId.value):(e.controls.willRemove.setValue(!0),e.controls.descriptionObjs.controls.map(n=>{n.controls.content.setValue(n.controls.content.defaultValue&&""!=n.controls.content.defaultValue?n.controls.content.defaultValue:"remove")})),this.sessionFormArray.controls.map(n=>n.controls.sessionId.value==e.controls.sessionId.value?e:n),this.updateFormData()}addMoreDescriptionForm(e){let n=this.commonService.concatMultipleArray(this.sessionFormArray.controls.map(a=>a.controls.descriptionObjs).map(a=>a.controls.map(d=>d.controls.id.value)));e.controls.descriptionObjs.push(new r.cw({id:new r.NI(this.commonService.getVirtualIdWithoutInList(!0,n),{nonNullable:!0,validators:[r.kI.required]}),content:new r.NI("",{nonNullable:!0,validators:[r.kI.required]}),willRemove:new r.NI(!1,{nonNullable:!0,validators:[r.kI.required]})})),this.sessionFormArray.controls.map(a=>a.controls.sessionId.value==e.controls.sessionId.value?e:a),this.updateFormData()}removeDescriptionForm(e,n){e.controls.descriptionObjs.controls.map(a=>{a.controls.willRemove.setValue(a.controls.id.value==n.controls.id.value||a.controls.willRemove.value),a.controls.content.setValue(a.controls.id.value==n.controls.id.value?a.controls.content.defaultValue&&""!=a.controls.content.defaultValue?a.controls.content.defaultValue:"remove":a.controls.content.value)}),this.sessionFormArray.controls.map(a=>a.controls.sessionId.value==e.controls.sessionId.value?e:a),this.updateFormData()}removeDocumentForm(e,n){e.controls.documentObjs.controls.map(a=>a.controls.willRemove.setValue(a.controls.id.value==n.controls.id.value||a.controls.willRemove.value)),this.sessionFormArray.controls.map(a=>a.controls.sessionId.value==e.controls.sessionId.value?e:a),this.updateFormData()}uploadFileEmitted(e,n){n&&this.addDataFormDocument({url:e.link,name:e.name,extension:e.type},e.groupType,n)}addDataFormDocument(e,n,a){a.controls.documentObjs.push(new r.cw({id:new r.NI(this.commonService.getVirtualIdWithoutInList(!0,[]),{nonNullable:!0,validators:[r.kI.required]}),name:new r.NI(e.name??"",{nonNullable:!0,validators:[r.kI.required]}),link:new r.NI(e.url??"",{nonNullable:!0,validators:[r.kI.required]}),type:new r.NI(e.extension??"",{nonNullable:!0,validators:[r.kI.required]}),documentType:new r.NI(this.commonService.getEnumTypeWithDefault(O.s,e.extension??"",O.s.unknown),{nonNullable:!0,validators:[r.kI.required]}),groupType:new r.NI(n,{nonNullable:!0}),willRemove:new r.NI(!1,{nonNullable:!0,validators:[r.kI.required]})})),a.controls.isUploadingImage.setValue(!1),this.sessionFormArray.controls.map(u=>u.controls.sessionId.value==a.controls.sessionId.value?a:u),this.updateFormData()}redirectToCreateNewDocument(e){const n=this.programForm.getRawValue(),a=this.zipDataService.convertContentGzip(this.serializeJson(n));this.browserStorageService.saveSessionStorage(`${this.programFormService.key+this.educationalProgramObj?.id}`,a),this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backTo=${this.currentUrl}&programId=${this.educationalProgramObj?.id}&levelId=${this.educationalProgramObj?.schoolLevelId??0}&subjectId=${this.educationalProgramObj?.schoolSubjectId??0}&indexSession=${e}`)}initFormArray(){this.sessionFormArray.clear();const e=this.extractValueFromZipData();e?e.sessionFormArray.forEach(this.processItem.bind(this)):this.convertSessionDtoToSessionFormArray(this.sessionObjs).forEach(this.processItem.bind(this)),this.sessionObjs.length<=0&&this.addNewSession(),this.updateFormData()}updateFormData(){let e=1;this.sessionFormArray.controls.forEach(n=>{n.controls.willRemove.value||(n.controls.session.setValue(e),e+=1),n.controls.totalDescriptionNotDeleted.setValue(n.controls.descriptionObjs.controls.filter(a=>!a.controls.willRemove.value).length),n.controls.totalDocumentNotDeleted.setValue(n.controls.documentObjs.controls.filter(a=>!a.controls.willRemove.value).length)}),this.programForm.controls.totalSessionNotDeleted.setValue(this.programForm.controls.sessionFormArray.controls.filter(n=>!n.controls.willRemove.value).length),this.programForm.controls.sessionFormArray=this.sessionFormArray,this.programForm.updateValueAndValidity()}extractValueFromZipData(){const e=this.browserStorageService.getSessionStorage(`${this.programFormService.key+this.educationalProgramObj?.id}`);if(!e)return;const n=this.zipDataService.decodeContentGzip(e);return this.castJsonToObj(n)}createDocumentFormGroup(e){return new r.cw({id:new r.NI(e.id,{nonNullable:!0,validators:[r.kI.required]}),refId:new r.NI(e.refId??0,{nonNullable:!0}),name:new r.NI(e.name??"",{nonNullable:!0,validators:[r.kI.required]}),link:new r.NI(e.link??"",{nonNullable:!0}),type:new r.NI(e.type,{nonNullable:!0,validators:[r.kI.required]}),documentType:new r.NI(this.commonService.getEnumTypeWithDefault(O.s,e.type,O.s.unknown),{nonNullable:!0,validators:[r.kI.required]}),groupType:new r.NI("",{nonNullable:!0}),willRemove:new r.NI(!1,{nonNullable:!0,validators:[r.kI.required]})})}createDescriptionFormGroup(e){return new r.cw({id:new r.NI(e.id,{nonNullable:!0,validators:[r.kI.required]}),content:new r.NI(e.content,{nonNullable:!0,validators:[r.kI.required]}),willRemove:new r.NI(!1,{nonNullable:!0,validators:[r.kI.required]})})}processItem(e){const n=e.documentObjs.filter(d=>d&&!d.willRemove).map(this.createDocumentFormGroup.bind(this)),a=e.descriptionObjs.filter(d=>document&&!d.willRemove).map(this.createDescriptionFormGroup.bind(this));this.sessionFormArray.push(new r.cw({sessionId:new r.NI(e.sessionId,{nonNullable:!0,validators:[r.kI.required]}),session:new r.NI(0,{nonNullable:!0,validators:[r.kI.required]}),documentObjs:new r.Oe(n),totalDocumentNotDeleted:new r.NI(0,{nonNullable:!0,validators:[r.kI.required]}),descriptionObjs:new r.Oe(a,{validators:[r.kI.required,r.kI.minLength(1)]}),totalDescriptionNotDeleted:new r.NI(a.length,{nonNullable:!0,validators:[r.kI.required]}),isUploadingImage:new r.NI(!1,{nonNullable:!0,validators:[r.kI.required]}),willRemove:new r.NI(!1,{nonNullable:!0,validators:[r.kI.required]})}))}convertSessionDtoToSessionFormArray(e){let n=[];return e.forEach(a=>{let d=[];a.documents.forEach(x=>{d.push({id:x.id,refId:x.refId,name:x.name??"",link:x.link,type:x.type,documentType:x.type,willRemove:!1})});let u=[];a.contents.forEach(x=>{u.push({id:x.id,content:x.content,willRemove:!1})}),n.push({sessionId:a.id,documentObjs:d,descriptionObjs:u,totalDescriptionNotDeleted:0,totalDocumentNotDeleted:0,session:a.sort,isUploadingImage:!1,willRemove:!1})}),n}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.sessionFormArray=this.programForm.controls.sessionFormArray,this.avoidWarningError(()=>{this.initFormArray()})}constructor(e,n,a,d,u,w){super(),this.cd=e,this.sAztDialogService=n,this.sAztFileTypeService=a,this.browserStorageService=d,this.zipDataService=u,this.programFormService=w,this.sessionObjs=[],this.currentUrl=this.commonService.getCurrentUrlWithoutLocale(),this.allDocumentTypes=O.s}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.sBO),t.Y36(B.C),t.Y36(Dt.v),t.Y36(fe.n),t.Y36(xe.a),t.Y36(Yt.t))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-educational-program-session-form"]],inputs:{programForm:"programForm",sessionObjs:"sessionObjs",educationalProgramObj:"educationalProgramObj"},features:[t.qOj],decls:7,vars:5,consts:[[3,"formGroup"],["formArrayName","sessionFormArray"],["class","box pt-3 pl-3 pr-3 mt-3",3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"flex","justify-center"],["azt-track-service","add-or-edit-educational-program-22QBASGLIe",1,"btn-add-session","mt-2","clickable",3,"click"],[1,"box","pt-3","pl-3","pr-3","mt-3",3,"formGroup","hidden"],[1,"flex"],[1,"text-md","font-medium","truncate","mr-auto"],["xmlns","http://www.w3.org/2000/svg","width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-x clickable ml-1",3,"click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted mt-2",4,"ngIf"],[3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"flex","justify-start","py-2"],[1,"btn-add-document","text-sm","px-3"],["azt-track-service","add-or-edit-educational-program-izd-G_-kRf",1,"clickable",3,"click"],[1,"azt-answer"],[1,"strike"],[1,"uppercase","text-slate-600","text-xs"],[1,"flex","items-center","mt-3","pb-3","scroll"],[1,"btn-add-document","text-sm"],["azt-track-service","session-form-7wsWmtscNU",2,"text-align","left",3,"click"],[1,"inline-block"],[3,"isBtn","customClass","emitFileDocument"],["xmlns","http://www.w3.org/2000/svg","width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","ml-1",3,"click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"text-xs","font-medium","text-danger","ng-star-inserted","mt-2"],[3,"formGroup","hidden"],[1,"flex","items-center",3,"id"],["type","text","formControlName","content",1,"form-control","mt-2","mb-2",3,"placeholder"],["xmlns","http://www.w3.org/2000/svg","width","12","height","12","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-x clickable btn-clear-form-content ml-1",3,"click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","12","height","12","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","btn-clear-form-content","ml-1",3,"click"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],["class","flex items-center mr-4",4,"ngIf"],[1,"flex","items-center","mr-4"],["azt-track-service","session-form-uEv4oFbN4",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[4,"ngIf"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"w-4","h-4","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],[1,"w-4","h-4","text-pending"],["name","file-check"],[1,"w-4","h-4","text-primary"],["name","file-text"],[1,"clickable",3,"type","name","url","showBorder","iconVerticalStyle","customClass","textWidth","click"],[1,"flex","justify-end",2,"width","13px","height","13px"],["xmlns","http://www.w3.org/2000/svg","width","13","height","13","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","ml-1",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0)(1,"div",1),t.YNc(2,je,39,33,"div",2),t.TgZ(3,"div",3)(4,"div",4),t.NdJ("click",function(){return n.addNewSession()}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()()),2&e&&(t.Q6J("formGroup",n.programForm),t.xp6(2),t.Q6J("ngForOf",n.sessionFormArray.controls),t.xp6(3),t.hij("+ ",t.lcZ(6,3,"lang_core_them_bui_hoc"),""))},dependencies:[A.rH,i.sg,i.O5,mt.gM,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,r.CE,dt.M,be.Q,Nt.F,J.Nh5,Gt.a,E.lO,k.JV,k.Bo],styles:[".box-info[_ngcontent-%COMP%]{background:white;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:white;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:white}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-20px}.btn-add-session[_ngcontent-%COMP%]:hover{background:rgb(250,250,250)}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:darkgray}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:skyblue;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:rgba(118,124,127,.7411764706)!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:rgba(89,99,103,.7411764706)!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]}),o})();function Ne(o,l){1&o&&t._UZ(0,"azt-loading-effect")}function Se(o,l){if(1&o&&t._UZ(0,"app-educational-program-general-info-form",20),2&o){const e=t.oxw(2);t.Q6J("programForm",e.form)("educationalProgramObj",e.educationalProgramObj)("schoolAndLevelObjs",e.schoolAndLevelObjs)}}function Fe(o,l){if(1&o&&t._UZ(0,"app-educational-program-book-form",21),2&o){const e=t.oxw(2);t.Q6J("programForm",e.form)("bookObjs",e.bookObjs)}}function Ue(o,l){1&o&&(t.TgZ(0,"span",22),t._UZ(1,"azt-loading-ui"),t.qZA())}const Ee=function(o){return[o]};function Je(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"form",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),t.YNc(5,Se,1,3,"app-educational-program-general-info-form",8),t.TgZ(6,"app-educational-program-document-form",9),t.NdJ("listDocumentObjsChange",function(a){t.CHM(e);const d=t.oxw();return t.KtG(d.generalDocumentObjs=a)}),t.qZA(),t.YNc(7,Fe,1,2,"app-educational-program-book-form",10),t.ALo(8,"async"),t.ALo(9,"allowFeatureBusinessForUser"),t.qZA()(),t.TgZ(10,"div",11)(11,"div",12)(12,"h3",13),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"flexed-on-the-top",14)(16,"a",15),t.ALo(17,"localize"),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"button",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.saveEducationalProgram())}),t.YNc(21,Ue,2,0,"span",17),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()(),t._UZ(24,"app-educational-program-session-form",18),t.qZA()()()(),t._UZ(25,"azt-scroll-to-top-bottom",19)}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(5),t.Q6J("ngIf",e.schoolAndLevelObjs),t.xp6(1),t.Q6J("listDocumentObjs",e.generalDocumentObjs),t.xp6(1),t.Q6J("ngIf",t.lcZ(8,15,t.Dn7(9,17,"","training_center_student_book",!1))),t.xp6(6),t.hij(" ",t.lcZ(14,21,"lang_core_noi_dung_chuong_trinh")," "),t.xp6(2),t.Q6J("colorBackground","#f0f8ffe8"),t.xp6(1),t.Q6J("routerLink",t.VKq(29,Ee,t.lcZ(17,23,e.backLink))),t.xp6(2),t.Oqu(t.lcZ(19,25,"lang_cms_common_close_btn")),t.xp6(2),t.Q6J("disabled",e.form.invalid||e.isSaving),t.xp6(1),t.Q6J("ngIf",e.isSaving),t.xp6(1),t.hij(" ",t.lcZ(23,27,"lang_button_save")," "),t.xp6(2),t.Q6J("programForm",e.form)("sessionObjs",e.sessionObjs)("educationalProgramObj",e.educationalProgramObj),t.xp6(1),t.Q6J("isScrollToTop",!0)}}let Vt=(()=>{class o extends M.Q{saveEducationalProgram(){let e=this.form.getRawValue(),n=[];if(null!=this.educationalProgramId){let g=this.educationalProgramId,b=e.sessionFormArray.filter(C=>C.willRemove&&C.sessionId>0).map(C=>C.sessionId),rt=this.generalDocumentObjs.filter(C=>C.willRemove&&C.id>0).map(C=>C.id),st=this.commonService.concatMultipleArray(e.sessionFormArray.map(C=>C.documentObjs)).filter(C=>C.willRemove&&C.id>0).map(C=>C.id),lt=e.sessionFormArray.map(C=>({sessionId:C.sessionId,contentIds:C.descriptionObjs.filter(ct=>ct.willRemove&&ct.id>0).map(ct=>ct.id)})).filter(C=>C.contentIds.length>0),G=e.bookFormArray.filter(C=>C.willRemove&&C.id>0).map(C=>C.id),qt=b.map(C=>this.programService.apiProgramsProgramIdSessionsSessionIdDelete(g,C)),ui=rt.map(C=>this.programService.apiProgramsProgramIdDocumentsDocumentIdDelete(g,C)),pi=st.map(C=>this.programService.apiProgramsProgramIdDocumentsDocumentIdDelete(g,C)),gi=this.commonService.concatMultipleArray(lt.map(C=>{let ct=[];return C.contentIds.forEach(hi=>{ct.push(this.programService.apiProgramsProgramIdSessionsSessionIdContentsContentIdDelete(g,C.sessionId,hi))}),ct})),_i=G.map(C=>this.bookService.apiBooksIdDelete(C));n=this.commonService.concatMultipleArray([qt,ui,pi,gi,_i])}let a=[];e.sessionFormArray.filter(g=>!g.willRemove).forEach(g=>{a.push({id:g.sessionId>0?g.sessionId:void 0,contents:g.descriptionObjs.filter(b=>!b.willRemove).map(b=>({id:b.id>0?b.id:void 0,content:b.content})),documents:g.documentObjs.filter(b=>!b.willRemove&&b.id<=0).map(b=>({refId:b.refId,name:b.name,link:b.link,type:b.type,groupType:b.groupType}))})});let d=this.generalDocumentObjs.filter(g=>!g.willRemove&&g.id<=0).map(g=>({name:g.name,link:g.link,type:g.type,groupType:g.groupType})),u=e.bookFormArray.filter(g=>!g.willRemove).map(g=>({id:g.id>0?g.id:void 0,name:g.name,description:g.description,iconLink:g.iconLink}));var w={name:e.generalFormGroup.educationalProgramName,fee:Number(e.generalFormGroup.tuition.replace(/\./g,"")??"0"),schoolLevelId:e.generalFormGroup.schoolLevelId,schoolSubjectId:e.generalFormGroup.schoolSubjectId,description:e.generalFormGroup.description,sessions:a,documents:d,books:u};this.isSaving=!0;let x=(0,v.a)([...n,this.programService.apiProgramsIdPut(this.educationalProgramId??0,w)]);this.waitDestroy(x.subscribe({next:g=>{this.successStatusObj("lang_core_sua_chuong_trinh_thanh_cong",!0),this.commonService.myNavigation(this.backLink),this.programFormService.removeProgramDataLocal(this.educationalProgramId??0),this.isSaving=!1},error:g=>{this.errorStatusObj(g.error.message,!0),this.isSaving=!1}}))}callMultipleApi(){const n=this.bookService.apiBooksListPost({page:1,size:-1,programId:this.educationalProgramId}),a=this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl());if(this.educationalProgramId){const d=this.programService.apiProgramsIdDocumentsGet(this.educationalProgramId),u=this.programService.apiProgramsIdClassroomsListPost(this.educationalProgramId,{page:1,size:-1}),w=this.programService.apiProgramsIdGet(this.educationalProgramId),x=this.programService.apiProgramsIdSessionsGet(this.educationalProgramId);return(0,v.a)([n,d,u,w,x,a]).pipe((0,m.U)(([g,b,rt,st,lt,G])=>({bookResponse:g,documentResponse:b,classroomResponse:rt,programResponse:st,sessionResponse:lt,subjectAndLevelResponse:G})),(0,h.K)(g=>{throw g}))}return(0,v.a)([a]).pipe((0,m.U)(([d])=>({bookResponse:void 0,documentResponse:void 0,classroomResponse:void 0,programResponse:void 0,sessionResponse:void 0,subjectAndLevelResponse:d})),(0,h.K)(d=>{throw d}))}getData(){this.initStatusObj(),this.waitDestroy(this.callMultipleApi().subscribe({next:e=>{this.educationalProgramObj=e.programResponse,this.schoolAndLevelObjs=e.subjectAndLevelResponse.data,this.generalDocumentObjs=e.documentResponse?.list.map(n=>({id:n.id,name:n.name??"",link:n.link??"",type:n.type,documentType:this.commonService.getEnumTypeWithDefault(O.s,n.type,O.s.unknown),groupType:this.commonService.getEnumTypeWithDefault(I.K,n.groupType??"",I.K.unknown),willRemove:!1}))??[],this.bookObjs=e.bookResponse?.list??[],this.sessionObjs=(e?.sessionResponse?.list??[]).sort((n,a)=>n.sort-a.sort),this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_chuong_trinh_hoc",image:"lang_cms_test_image"}),super.ngOnInit(),this.educationalProgramId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.backLink=this.commonService.getMyQueryParam("backto")??`/business/educational-program/${this.educationalProgramId}`,this.getData()}constructor(e,n,a,d,u){super(),this.activeRoute=e,this.programService=n,this.commonListService=a,this.bookService=d,this.programFormService=u,this.backLink="",this.bookObjs=[],this.generalDocumentObjs=[],this.sessionObjs=[],this.isSaving=!1,this.allDocumentTypes=O.s,this.form=new r.cw({generalFormGroup:new r.cw({educationalProgramName:new r.NI("",{nonNullable:!0,validators:[r.kI.required,y._.noWhiteSpace]}),tuition:new r.NI("",{nonNullable:!0,validators:[r.kI.required,_.tuitionFeeValidator]}),schoolLevelId:new r.NI(0,{nonNullable:!0,validators:[r.kI.min(1),r.kI.pattern(/^[1-9]\d*$/)]}),schoolSubjectId:new r.NI(0,{nonNullable:!0,validators:[r.kI.min(1),r.kI.pattern(/^[1-9]\d*$/)]}),description:new r.NI("",{nonNullable:!0})}),bookFormArray:new r.Oe([]),sessionFormArray:new r.Oe([],{validators:[r.kI.required,r.kI.minLength(1)]}),totalSessionNotDeleted:new r.NI(0,{nonNullable:!0,validators:[r.kI.required]})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.gz),t.Y36(X.Z),t.Y36(pt.o),t.Y36(Qt.Z),t.Y36(Yt.t))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-or-edit-educational-program"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"formGroup"],[1,"container-fluid","mt-3","overflow-hidden","document-market-list"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","md:col-span-3"],[1,"box","p-3"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs",4,"ngIf"],[3,"listDocumentObjs","listDocumentObjsChange"],[3,"programForm","bookObjs",4,"ngIf"],[1,"col-span-12","md:col-span-9"],[1,"flex","justify-between"],[1,"text-md","font-medium","mr-auto","uppercase"],[3,"colorBackground"],["azt-track-service","dialog-confirm-EqayhO0oQs",1,"mr-3","btn","btn-secondary",2,"width","100%",3,"routerLink"],["azt-track-service","dialog-confirm-rXeH54A3ZE",1,"btn","btn-primary",2,"width","100%",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"programForm","sessionObjs","educationalProgramObj"],[3,"isScrollToTop"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs"],[3,"programForm","bookObjs"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,Ne,1,0,"azt-loading-effect",1),t.YNc(2,Je,26,31,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.Q6J("headerBackToLink",n.backLink),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",a)}},dependencies:[A.rH,i.O5,r._Y,r.JL,r.sg,Y.l,gt.M,D.n,oe.s,R._,Bt,de,he,De,i.Ov,E.lO,k.JV,k.J8],styles:[".box-info[_ngcontent-%COMP%]{background:white;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:white;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:white}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-20px}.btn-add-session[_ngcontent-%COMP%]:hover{background:rgb(250,250,250)}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:darkgray}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:skyblue;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:rgba(118,124,127,.7411764706)!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:rgba(89,99,103,.7411764706)!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]}),o})();var Kt=c(87789),qe=c(87325);function Qe(o,l){1&o&&t._UZ(0,"azt-loading-effect")}function Ye(o,l){if(1&o&&t._UZ(0,"app-educational-program-general-info-form",14),2&o){const e=t.oxw(2);t.Q6J("programForm",e.form)("educationalProgramObj",e.educationalProgramObj)("schoolAndLevelObjs",e.schoolAndLevelObjs)}}function Be(o,l){1&o&&(t.TgZ(0,"span",15),t._UZ(1,"azt-loading-ui"),t.qZA())}const Re=function(o){return[o]};function Ge(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",3)(1,"form",4)(2,"div",5)(3,"h3",6),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",7),t.YNc(7,Ye,1,3,"app-educational-program-general-info-form",8),t.qZA(),t.TgZ(8,"div",9)(9,"div",10)(10,"button",11),t.ALo(11,"localize"),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"button",12),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.saveEducationalProgram())}),t.YNc(15,Be,2,0,"span",13),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(3),t.hij(" ",t.lcZ(5,8,"lang_program_create_new_curriculum")," "),t.xp6(3),t.Q6J("ngIf",e.schoolAndLevelObjs),t.xp6(3),t.Q6J("routerLink",t.VKq(16,Re,t.lcZ(11,10,e.backLink))),t.xp6(2),t.hij(" ",t.lcZ(13,12,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",e.form.invalid||e.isSaving),t.xp6(1),t.Q6J("ngIf",e.isSaving),t.xp6(1),t.hij(" ",t.lcZ(17,14,"lang_auto_luu")," ")}}let Ve=(()=>{class o extends M.Q{saveEducationalProgram(){let e=this.form.getRawValue(),a=[];e.sessionFormArray.filter(g=>!g.willRemove).forEach(g=>{a.push({id:g.sessionId>0?g.sessionId:void 0,contents:g.descriptionObjs.filter(b=>!b.willRemove).map(b=>({id:b.id>0?b.id:void 0,content:b.content})),documents:g.documentObjs.filter(b=>!b.willRemove&&b.id<=0).map(b=>({name:b.name,link:b.link,type:b.type,groupType:""}))})});let d=this.generalDocumentObjs.filter(g=>!g.willRemove&&g.id<=0).map(g=>({name:g.name,link:g.link,type:g.type,groupType:""})),u=e.bookFormArray.filter(g=>!g.willRemove).map(g=>({id:g.id>0?g.id:void 0,name:g.name,description:g.description,iconLink:g.iconLink}));const w={name:e.generalFormGroup.educationalProgramName,fee:Number(e.generalFormGroup.tuition.replace(/\./g,"")??"0"),schoolLevelId:e.generalFormGroup.schoolLevelId,schoolSubjectId:e.generalFormGroup.schoolSubjectId,description:e.generalFormGroup.description,sessions:a,documents:d,books:u};this.isSaving=!0;let x=(0,v.a)([this.programService.apiProgramsPost(w)]);this.waitDestroy(x.subscribe({next:g=>{this.successStatusObj("lang_core_them_chuong_trinh_thanh_cong",!0);const b=g[0];b?.id&&(this.commonService.myNavigation(`/business/edit-educational-program/${b?.id}`),this.isSaving=!1)},error:g=>{this.errorStatusObj(g.error.message,!0),this.isSaving=!1}}))}getData(){this.initStatusObj(),this.waitDestroy(this.callMultipleApi().subscribe({next:e=>{this.educationalProgramObj=e.programResponse,this.schoolAndLevelObjs=e.subjectAndLevelResponse.data,this.generalDocumentObjs=e.documentResponse?.list.map(n=>({id:n.id,name:n.name??"",link:n.link??"",type:n.type,documentType:this.commonService.getEnumTypeWithDefault(O.s,n.type,O.s.unknown),groupType:this.commonService.getEnumTypeWithDefault(I.K,n.groupType??"",I.K.unknown),willRemove:!1}))??[],this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}callMultipleApi(){const e=this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl());return(0,v.a)([e]).pipe((0,m.U)(([n])=>({bookResponse:void 0,documentResponse:void 0,classroomResponse:void 0,programResponse:void 0,sessionResponse:void 0,subjectAndLevelResponse:n})),(0,h.K)(n=>{throw n}))}constructor(e,n,a,d){super(),this.activeRoute=e,this.programService=n,this.commonListService=a,this.bookService=d,this.backLink="",this.generalDocumentObjs=[],this.isSaving=!1,this.bookObjs=[],this.form=new r.cw({generalFormGroup:new r.cw({educationalProgramName:new r.NI("",{nonNullable:!0,validators:[r.kI.required,y._.noWhiteSpace]}),tuition:new r.NI("",{nonNullable:!0,validators:[r.kI.required,_.tuitionFeeValidator]}),schoolLevelId:new r.NI(0,{nonNullable:!0,validators:[r.kI.min(1),r.kI.pattern(/^[1-9]\d*$/)]}),schoolSubjectId:new r.NI(0,{nonNullable:!0,validators:[r.kI.min(1),r.kI.pattern(/^[1-9]\d*$/)]}),description:new r.NI("",{nonNullable:!0})}),bookFormArray:new r.Oe([]),sessionFormArray:new r.Oe([]),totalSessionNotDeleted:new r.NI(0,{nonNullable:!0,validators:[r.kI.required]})})}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/educational-program",this.getData()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.gz),t.Y36(Kt.Zm),t.Y36(qe.o7),t.Y36(Kt.Zp))},o.\u0275cmp=t.Xpm({type:o,selectors:[["create-general-education-program"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-y","mt-5"],[3,"formGroup"],[1,"mx-auto",2,"max-width","1000px"],[1,"font-medium","text-md","uppercase"],[1,"box","mt-5","p-3"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs",4,"ngIf"],[1,"mt-5"],[1,"text-right"],[1,"btn","btn-secondary","w-24","mr-2",3,"routerLink"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,Qe,1,0,"azt-loading-effect",1),t.YNc(2,Ge,18,18,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.Q6J("headerBackToLink",n.backLink),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",a)}},dependencies:[A.rH,i.O5,r._Y,r.JL,r.sg,Y.l,D.n,R._,Bt,E.lO,k.JV],encapsulation:2}),o})();var Ke=c(96573);function We(o,l){1&o&&t._UZ(0,"azt-loading-effect")}function He(o,l){if(1&o&&(t.TgZ(0,"div",17)(1,"span",18),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t._uU(4,": "),t.TgZ(5,"span",19),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(2),t.Oqu(t.lcZ(3,2,"lang_auto_mon_hoc")),t.xp6(4),t.Oqu(t.lcZ(7,4,e.schoolSubjectKey))}}function $e(o,l){if(1&o&&(t.TgZ(0,"div",17)(1,"span",18),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",19),t._UZ(5,"azt-see-more-content",26),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_mo_ta")," "),t.xp6(3),t.Q6J("content",e.educationalProgramObj.description)("maxLength",200)}}function Xe(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"azt-document-type-file",28),t.NdJ("click",function(){const d=t.CHM(e).$implicit,u=t.oxw(4);return t.KtG(u.previewFile(d))}),t.qZA()()}if(2&o){const e=l.$implicit;let n;t.xp6(1),t.Q6J("type",e.documentType)("name",null!==(n=e.name)&&void 0!==n?n:"")("url",e.link)("showBorder",!1)("customClass","w-4 h-4")("textWidth","100%")}}function to(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Xe,2,6,"div",27),t.BQk()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.listDocumentObjs)}}function eo(o,l){1&o&&(t.TgZ(0,"div",29),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_document_market_no_data_found")," "))}function oo(o,l){if(1&o&&(t.TgZ(0,"div",31)(1,"span",19),t._uU(2),t.qZA()()),2&o){const e=l.$implicit;t.Q6J("hidden",l.index>1),t.xp6(2),t.hij(" - ",e.name," ")}}function no(o,l){1&o&&(t.TgZ(0,"div",32),t._uU(1," ... "),t.qZA())}function io(o,l){if(1&o&&(t.TgZ(0,"div",17)(1,"span",18),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,oo,3,2,"div",30),t.YNc(5,no,2,0,"div",24),t.qZA()),2&o){const e=t.oxw(3);t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_core_sach")," "),t.xp6(2),t.Q6J("ngForOf",e.listBookObjs),t.xp6(1),t.Q6J("ngIf",e.listBookObjs.length>1)}}function ao(o,l){1&o&&(t.TgZ(0,"div",33),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_co_noi_dung")," "))}function ro(o,l){if(1&o&&(t.TgZ(0,"div",37)(1,"span",38),t._uU(2),t.qZA()()),2&o){const e=l.$implicit;t.xp6(2),t.hij(" - ",e.content," ")}}function so(o,l){if(1&o&&(t.TgZ(0,"div",34)(1,"h3",35),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,ro,3,1,"div",36),t.qZA()),2&o){const e=l.$implicit;t.Q6J("hidden",l.index>1),t.xp6(2),t.AsE(" ",t.lcZ(3,4,"lang_core_buoi")," ",e.sort," "),t.xp6(2),t.Q6J("ngForOf",e.contents)}}function lo(o,l){1&o&&(t.TgZ(0,"div",32),t._uU(1," ... "),t.qZA())}const St=function(o){return[o]},Wt=function(o){return{backTo:o}};function co(o,l){if(1&o&&(t.TgZ(0,"div",15)(1,"h3",16),t._uU(2),t.qZA(),t.TgZ(3,"div",17)(4,"span",18),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t._uU(7,": "),t.TgZ(8,"span",19),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()(),t.YNc(11,He,8,6,"div",20),t.YNc(12,$e,6,5,"div",20),t.TgZ(13,"div",17)(14,"span",18),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.YNc(17,to,2,1,"ng-container",1),t.YNc(18,eo,3,3,"ng-template",null,21,t.W1O),t.qZA(),t.YNc(20,io,6,5,"div",20),t.TgZ(21,"div",17)(22,"span",18),t._uU(23),t.ALo(24,"mytranslate"),t.qZA(),t.YNc(25,ao,3,3,"div",22),t.YNc(26,so,5,6,"div",23),t.YNc(27,lo,2,0,"div",24),t.qZA(),t.TgZ(28,"div",17)(29,"a",25),t.ALo(30,"localize"),t._uU(31),t.ALo(32,"mytranslate"),t.qZA()()()),2&o){const e=t.MAs(19),n=t.oxw(2);t.xp6(1),t.s9C("matTooltip",n.educationalProgramObj.name),t.xp6(1),t.hij(" ",n.educationalProgramObj.name," "),t.xp6(3),t.Oqu(t.lcZ(6,18,"lang_homework_create_homework_success_class")),t.xp6(4),t.AsE("",t.lcZ(10,20,"lang_homework_create_homework_success_class")," ",n.schoolLevelValue,""),t.xp6(2),t.Q6J("ngIf",n.schoolSubjectKey),t.xp6(1),t.Q6J("ngIf",n.educationalProgramObj.description&&n.educationalProgramObj.description.length>0),t.xp6(3),t.hij(" ",t.lcZ(16,22,"lang_testbank_document_list_header_title")," "),t.xp6(2),t.Q6J("ngIf",n.listDocumentObjs.length>0)("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",n.listBookObjs.length>0),t.xp6(3),t.hij(" ",t.lcZ(24,24,"lang_core_noi_dung_chuong_trinh")," "),t.xp6(2),t.Q6J("ngIf",0==n.listEducationProgramSessionObjs.length),t.xp6(1),t.Q6J("ngForOf",n.listEducationProgramSessionObjs),t.xp6(1),t.Q6J("ngIf",n.listEducationProgramSessionObjs.length>1),t.xp6(2),t.Q6J("routerLink",t.VKq(30,St,t.lcZ(30,26,"/business/edit-educational-program/"+n.educationalProgramId)))("queryParams",t.VKq(32,Wt,"/business/educational-program/"+n.educationalProgramId)),t.xp6(2),t.hij(" ",t.lcZ(32,28,"lang_testbank_folder_and_file_edit")," ")}}function mo(o,l){if(1&o&&(t.TgZ(0,"div",39)(1,"a",40),t.ALo(2,"localize"),t.TgZ(3,"div",41)(4,"div",42)(5,"div",43)(6,"div",44)(7,"h3",16),t._uU(8),t.qZA()(),t.TgZ(9,"div",45)(10,"span",19),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.TgZ(13,"div",37)(14,"span",19),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()(),t.TgZ(17,"div",46),t._uU(18),t.qZA()()()()()),2&o){const e=l.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("routerLink",t.VKq(16,St,t.lcZ(2,10,"/admin/student/classroom-details/"+e.classroomId+"/3")))("queryParams",t.VKq(18,Wt,"/business/educational-program/"+n.educationalProgramId)),t.xp6(6),t.s9C("matTooltip",e.classroomName),t.xp6(1),t.hij(" ",e.classroomName," "),t.xp6(3),t.AsE(" ",t.lcZ(12,12,"lang_student_classroom_list_detail_quantity"),": ",e.totalStudent," "),t.xp6(4),t.lnq(" ",t.lcZ(16,14,"lang_core_so_buoi_da_hoc"),": ",e.totalLearnedSession,"/",e.totalSession," "),t.xp6(3),t.hij(" ",e.learnedPercent,"% ")}}const uo=function(o){return{programId:o}};function po(o,l){if(1&o&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t.YNc(3,co,33,34,"div",6),t.qZA(),t.TgZ(4,"div",7)(5,"div",8)(6,"h3",9),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"div",10),t.YNc(10,mo,19,20,"div",11),t.qZA(),t.TgZ(11,"div",12)(12,"a",13),t.ALo(13,"localize"),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()()()(),t._UZ(16,"azt-scroll-to-top-bottom",14)),2&o){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.educationalProgramObj),t.xp6(4),t.AsE(" ",t.lcZ(8,8,"lang_core_cac_lop_hoc_chuong_trinh_nay")," (",e.listClassroomObjs.length,") "),t.xp6(3),t.Q6J("ngForOf",e.listClassroomObjs),t.xp6(2),t.Q6J("routerLink",t.VKq(14,St,t.lcZ(13,10,"/admin/student/manage-classroom/0")))("queryParams",t.VKq(16,uo,e.educationalProgramId)),t.xp6(2),t.hij(" +",t.lcZ(15,12,"lang_auto_them_lop_cho_chuong_trinh_hoc")," "),t.xp6(2),t.Q6J("isScrollToTop",!0)}}let go=(()=>{class o extends M.Q{previewFile(e){const n={name:e.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(e.type),type:e.type,url:e.link};this.sAztDialogService.open(bt.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...n,index:0},showDownloadIcon:!1},restoreFocus:!1})}callMultipleApi(){const n=this.bookService.apiBooksListPost({page:1,size:-1,programId:this.educationalProgramId}),a=this.programService.apiProgramsIdDocumentsGet(this.educationalProgramId),d=this.programService.apiProgramsIdClassroomsListPost(this.educationalProgramId,{page:1,size:-1}),u=this.programService.apiProgramsIdGet(this.educationalProgramId),w=this.programService.apiProgramsIdSessionsGet(this.educationalProgramId),x=this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl());return(0,v.a)([n,a,d,u,w,x]).pipe((0,m.U)(([g,b,rt,st,lt,G])=>({bookResponse:g,documentResponse:b,classroomResponse:rt,programResponse:st,sessionResponse:lt,subjectAndLevelResponse:G})),(0,h.K)(g=>{throw g}))}getData(){this.initStatusObj(),this.waitDestroy(this.callMultipleApi().subscribe({next:e=>{this.educationalProgramObj=e.programResponse,this.listBookObjs=e.bookResponse.list.sort((a,d)=>a.id-d.id),this.listClassroomObjs=e.classroomResponse.list,this.listDocumentObjs=e.documentResponse.list.map(a=>({...a,documentType:this.commonService.getEnumTypeWithDefault(O.s,a.type,O.s.unknown)})),this.listEducationProgramSessionObjs=e.sessionResponse.list.sort((a,d)=>a.sort-d.sort);let n=e.subjectAndLevelResponse.data?.schoolLevelSubjectObjs.find(a=>a.schoolLevel?.id==this.educationalProgramObj?.schoolLevelId);this.schoolLevelValue=n?.schoolLevel?.value?.toString()??"",this.schoolSubjectKey=n?.schoolSubjectObjs.find(a=>a.id==this.educationalProgramObj?.schoolSubjectId)?.key??"",this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_chi_tiet_chuong_trinh_hoc",image:"lang_cms_test_image"}),super.ngOnInit(),this.educationalProgramId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getData()}constructor(e,n,a,d,u,w){super(),this.activeRoute=e,this.commonListService=n,this.sAztDialogService=a,this.bookService=d,this.programService=u,this.sAztFileTypeService=w,this.backLink="/business/educational-program",this.educationalProgramId=0,this.schoolLevelValue="",this.schoolSubjectKey="",this.listDocumentObjs=[],this.listClassroomObjs=[],this.listEducationProgramSessionObjs=[],this.listBookObjs=[]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.gz),t.Y36(pt.o),t.Y36(B.C),t.Y36(Qt.Z),t.Y36(X.Z),t.Y36(Dt.v))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-educational-program-detail"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"container-fluid","mt-5","overflow-hidden","document-market-list"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","md:col-span-3"],["class","box-info p-3",4,"ngIf"],[1,"col-span-12","md:col-span-9"],[1,"box-content","p-3"],[1,"text-md","font-medium","truncate","mr-auto"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4 clickable",4,"ngFor","ngForOf"],[1,"flex","justify-start","mt-4"],[1,"btn-add-class",3,"routerLink","queryParams"],[3,"isScrollToTop"],[1,"box-info","p-3"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip"],[1,"mt-2"],[1,"text-sm","mb-1","items-center","font-medium"],[1,"text-sm"],["class","mt-2",4,"ngIf"],["emptyListDocument",""],["class","text-sm flex justify-center m-2 mb-1","style","color: gray",4,"ngIf"],["class","items-center mb-2",3,"hidden",4,"ngFor","ngForOf"],["class","flex justify-start",4,"ngIf"],["azt-track-service","detail-educational-program-zQWRXarDBe",1,"btn","btn-primary",2,"width","100%","background","rgba(22, 155, 213, 1)","border-width","0px",3,"routerLink","queryParams"],[3,"content","maxLength"],[4,"ngFor","ngForOf"],[1,"clickable",3,"type","name","url","showBorder","customClass","textWidth","click"],[1,"text-sm","flex","justify-center","m-2",2,"color","gray"],["class","items-center",3,"hidden",4,"ngFor","ngForOf"],[1,"items-center",3,"hidden"],[1,"flex","justify-start"],[1,"text-sm","flex","justify-center","m-2","mb-1",2,"color","gray"],[1,"items-center","mb-2",3,"hidden"],[1,"text-sm","font-medium","mr-auto"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"flex","items-center"],[1,"text-sm",2,"white-space","pre-line"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4","clickable"],["azt-track-service","detail-educational-program-2h2h8T3CP",3,"routerLink","queryParams"],[1,"box-info-content","zoom-in"],[1,"flex","justify-between","items-center","py-2","px-4"],[1,"col-information"],[1,"grid","items-center"],[1,"flex","items-center","mt-1"],[1,"box-percent"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,We,1,0,"azt-loading-effect",1),t.YNc(2,po,17,18,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.Q6J("headerBackToLink",n.backLink),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",a)}},dependencies:[A.rH,i.sg,i.O5,mt.gM,Y.l,Ke.c,gt.M,Nt.F,R._,E.lO,k.JV],styles:[".box-info-content[_ngcontent-%COMP%]{background:rgb(242,242,242);border-radius:5px}.box-info[_ngcontent-%COMP%]{background:white;border-radius:5px}.description[_ngcontent-%COMP%]{min-height:150px;border-radius:5px;font-size:14px;width:100%}.btn-add-class[_ngcontent-%COMP%]{color:#2262ae}.btn-add-class[_ngcontent-%COMP%]:hover{color:#2a74cf}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.text-sm[_ngcontent-%COMP%]{font-size:13px!important}.box-content[_ngcontent-%COMP%]{background:white;border-radius:5px}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:white}.box-percent[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:#a4e6f4;display:flex;align-items:center;justify-content:center;font-weight:500;border:1px solid #00a8cc}.btn-primary[_ngcontent-%COMP%]:hover{background:rgb(93,192,234)!important}.col-information[_ngcontent-%COMP%]{width:75%}"]}),o})();var Ft=c(93283);function _o(o,l){1&o&&t._UZ(0,"azt-loading-effect")}function ho(o,l){1&o&&(t.TgZ(0,"span",32),t._UZ(1,"azt-loading-ui"),t.qZA())}const Ht=function(o){return[o]},fo=function(o){return{"py-1 px-3 rounded-full bg-success text-white font-medium":o}};function xo(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",15)(1,"div",16)(2,"a",17),t.ALo(3,"localize"),t.TgZ(4,"div",18)(5,"h3",19),t._uU(6),t.qZA()(),t.TgZ(7,"div",20)(8,"span",21),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"span",22),t._uU(12),t.qZA()()(),t.TgZ(13,"div",18)(14,"span",21),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()(),t.TgZ(17,"div",18)(18,"span",21),t._uU(19),t.ALo(20,"mytranslate"),t.ALo(21,"formatMoney"),t.qZA()()(),t.TgZ(22,"div",23)(23,"button",24),t.NdJ("click",function(){const d=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.showDeleteDialog(d))}),t.ALo(24,"mytranslate"),t.YNc(25,ho,2,0,"span",25),t.O4$(),t.TgZ(26,"svg",26),t._UZ(27,"path",27)(28,"path",28)(29,"path",29)(30,"line",30)(31,"line",31),t.qZA()()()()()}if(2&o){const e=l.$implicit,n=t.oxw(3);t.xp6(2),t.Q6J("routerLink",t.VKq(24,Ht,t.lcZ(3,12,"/business/educational-program/"+e.id))),t.xp6(3),t.s9C("matTooltip",e.name),t.xp6(1),t.hij(" ",e.name," "),t.xp6(3),t.hij(" ",t.lcZ(10,14,"lang_core_so_lop_hoc"),": "),t.xp6(2),t.Q6J("ngClass",t.VKq(26,fo,e.totalClassroom)),t.xp6(1),t.Oqu(e.totalClassroom),t.xp6(3),t.AsE("",t.lcZ(16,16,"lang_core_buoi_tiet_hoc"),": ",e.totalSession,""),t.xp6(4),t.AsE("",t.lcZ(20,18,"lang_core_hoc_phi"),": ",t.lcZ(21,20,e.fee)," \u0111"),t.xp6(4),t.s9C("matTooltip",t.lcZ(24,22,"lang_auto_xoa")),t.xp6(2),t.Q6J("ngIf",n.isDeletingId==e.id)}}function bo(o,l){if(1&o&&(t.O4$(),t.kcU(),t.TgZ(0,"div",11)(1,"h3",12),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",13),t.YNc(5,xo,32,28,"div",14),t.qZA()()),2&o){const e=l.$implicit;t.Q6J("hidden",0==e.programObjs.length),t.xp6(2),t.AsE("",t.lcZ(3,4,"lang_homework_create_homework_success_class")," ",e.schoolLevelObj.value,""),t.xp6(3),t.Q6J("ngForOf",e.programObjs)}}function vo(o,l){if(1&o&&(t.TgZ(0,"div",3)(1,"h3",4),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"a",5),t.ALo(5,"localize"),t.O4$(),t.TgZ(6,"svg",6),t._UZ(7,"path",7)(8,"path",8),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()(),t.YNc(11,bo,6,6,"div",9),t.kcU(),t._UZ(12,"azt-scroll-to-top-bottom",10)),2&o){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_student_educational_program")," "),t.xp6(2),t.Q6J("routerLink",t.VKq(11,Ht,t.lcZ(5,7,"/business/create-general-educational-program"))),t.xp6(5),t.hij(" ",t.lcZ(10,9,"lang_testbank_create_new_matrix")," "),t.xp6(2),t.Q6J("ngForOf",e.groupEducationalProgramDtoObjs),t.xp6(1),t.Q6J("isScrollToTop",!0)}}let Co=(()=>{class o extends M.Q{showDeleteDialog(e){var n=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+e.name+" </div> ?";this.sAztDialogService.open(Ft.s,{data:{content:n},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(a=>{a&&(this.isDeletingId=e.id,this.waitDestroy(this.programService.apiProgramsIdDelete(e.id).subscribe({next:d=>{this.groupEducationalProgramDtoObjs.forEach(u=>u.programObjs=u.programObjs.filter(w=>w.id!=e.id)),this.isDeletingId=0,this.successStatusObj("lang_core_xoa_chuong_trinh_hoc_thanh_cong",!0)},error:d=>{this.isDeletingId=0,this.errorStatusObj(d.error.message,!0)}})))})}getSchoolLevel(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(e=>{e.success?(e.data?.schoolLevelSubjectObjs.filter(n=>n.schoolLevel).forEach(n=>{n.schoolLevel&&this.groupEducationalProgramDtoObjs.push({schoolLevelObj:n.schoolLevel,programObjs:[]})}),this.getListProgramObjs()):this.errorStatusObj(e.message,!0)}))}getListProgramObjs(){this.waitDestroy(this.programService.apiProgramsListPost({page:1,size:-1}).subscribe({next:e=>{this.groupEducationalProgramDtoObjs.forEach(n=>{n.programObjs=[...n.programObjs,...e.list.filter(a=>n.schoolLevelObj.id==a.schoolLevelId)]}),this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_student_educational_program",description:"lang_student_educational_program",image:"lang_cms_test_image"}),this.waitDestroy((0,v.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let e=this.commonService.getMyQueryParam("backto");this.backLink=e??"/business/dashboard"})),super.ngOnInit(),this.getSchoolLevel()}constructor(e,n,a,d){super(),this.activeRoute=e,this.programService=n,this.commonListService=a,this.sAztDialogService=d,this.backLink="",this.groupEducationalProgramDtoObjs=[],this.isDeletingId=0}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.gz),t.Y36(X.Z),t.Y36(pt.o),t.Y36(B.C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-azt-business-educational-program"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"flex","justify-between","mt-5",2,"flex-wrap","wrap"],[1,"text-md-title","font-medium","mr-auto","mt-1"],["azt-track-service","business-educational-program-H1qyTyPt5",1,"btn","btn-primary","px-5","py-2","mt-1",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","lucide-plus"],["d","M5 12h14"],["d","M12 5v14"],["class","mt-5",3,"hidden",4,"ngFor","ngForOf"],[3,"isScrollToTop"],[1,"mt-5",3,"hidden"],[1,"text-md-class","font-medium","truncate","mr-auto","mb-3"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-4 xl:col-span-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","xl:col-span-3"],[1,"flex","info-infrastructure"],["azt-track-service","business-educational-program-ETIELn-OoJ",1,"col-information","clickable",3,"routerLink"],[1,"flex","items-center"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip"],[1,"flex","items-center","mt-1"],[1,"text-sm"],[3,"ngClass"],[1,"flex","justify-end","items-center"],["azt-track-service","business-educational-program-Kk4G8pkpL",1,"flex","items-center","justify-center",3,"matTooltip","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-trash-2",2,"color","red"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","x2","10","y1","11","y2","17"],["x1","14","x2","14","y1","11","y2","17"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,_o,1,0,"azt-loading-effect",1),t.YNc(2,vo,13,13,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.Q6J("headerBackToLink",n.backLink),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",a)}},dependencies:[A.rH,i.mk,i.sg,i.O5,mt.gM,Y.l,gt.M,D.n,R._,E.lO,k.JV,k.ho],styles:[".btn-activity[_ngcontent-%COMP%]{padding:4px 20px;background:forestgreen;color:#fff;border-radius:10px;font-weight:500}.btn-un-activity[_ngcontent-%COMP%]{padding:4px 20px;background:darkred;color:#fff;border-radius:10px;font-weight:500}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{padding:2px 5px;width:calc(100% - 20px)}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.text-add-cs[_ngcontent-%COMP%]{font-size:14px;color:#a9a9a9;font-weight:500;padding-top:2px;padding-left:5px}.info-infrastructure[_ngcontent-%COMP%]{background:white;padding:10px;border-radius:6px;height:100%;box-shadow:0 0 9px #00000024}.btn-delete[_ngcontent-%COMP%]{padding:2px;border-radius:5px}.btn-delete[_ngcontent-%COMP%]:hover{background:rgb(240,240,240);transform:scale(1.1)}.text-md-title[_ngcontent-%COMP%]{font-size:20px}.text-md-class[_ngcontent-%COMP%]{font-size:16px}.truncate[_ngcontent-%COMP%]{width:100%!important}"]}),o})();var $t=c(45337),Ct=c(53449),Ut=c(78497);function Ao(o,l){1&o&&(t.TgZ(0,"div",19),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_vui_long_nhap_ten_phong_hoc")," "))}function ko(o,l){1&o&&(t.TgZ(0,"div",19),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_vui_long_nhap_so_cho_ngoi")," "))}function yo(o,l){1&o&&(t.TgZ(0,"div",20)(1,"span",21),t._UZ(2,"azt-loading-ui"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_dang_luu_doing")," "))}function Oo(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.saveRoom(!0))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.statusObj.loading||e.form.invalid),t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_core_luu_va_dong")," ")}}let wo=(()=>{class o extends N.e{closeDialog(){this.dialogRef.close(this.isLoadData)}saveRoom(e){var n={name:this.form.getRawValue().roomName,numberSeat:this.form.getRawValue().numberSeat};this.initStatusObj(),this.waitDestroy(this.data.room?this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsRoomIdPut(this.data.infrastructureId,this.data.room.id,n).subscribe({next:a=>{this.dialogRef.close(!0),this.successStatusObj("lang_core_sua_phong_hoc_thanh_cong",!0)},error:a=>{this.errorStatusObj(a.error.message,!0)}}):this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsPost(this.data.infrastructureId,n).subscribe({next:a=>{e?this.dialogRef.close(!0):(this.isLoadData=!0,this.form.reset(),this.stopStatusObj()),this.successStatusObj("lang_core_them_phong_hoc_thanh_cong",!0)},error:a=>{this.errorStatusObj(a.error.message,!0)}}))}ngOnInit(){}constructor(e,n,a){super(a,n),this.infrastructureService=e,this.dialogRef=n,this.data=a,this.isLoadData=!1,this.form=new r.cw({roomName:new r.NI(a.room?.name??"",{nonNullable:!0,validators:[r.kI.required]}),numberSeat:new r.NI(a.room?.numberSeat,{nonNullable:!0,validators:[r.kI.required,r.kI.pattern(/^[0-9]+$|^[1-9][0-9]*$/)]})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Ct.w),t.Y36(s.so,8),t.Y36(s.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-or-classroom"]],features:[t.qOj],decls:33,vars:27,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[2,"padding","1px"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","roomName",1,"form-label"],["type","text","id","roomName","formControlName","roomName",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","numberSeat",1,"form-label"],["type","text","id","numberSeat","formControlName","numberSeat",1,"form-control",3,"placeholder"],["class","box-save-doing",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-primary",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8","class","btn btn-info ml-2",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"box-save-doing"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-info","ml-2",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t._UZ(14,"input",9),t.ALo(15,"mytranslate"),t.YNc(16,Ao,3,3,"div",10),t.qZA(),t.TgZ(17,"div",11)(18,"label",12),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t._UZ(21,"input",13),t.ALo(22,"mytranslate"),t.YNc(23,ko,3,3,"div",10),t.qZA(),t.YNc(24,yo,5,3,"div",14),t.qZA()()()(),t.TgZ(25,"div",15)(26,"button",16),t.NdJ("click",function(){return n.closeDialog()}),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"button",17),t.NdJ("click",function(){return n.saveRoom(!1)}),t._uU(30),t.ALo(31,"mytranslate"),t.qZA(),t.YNc(32,Oo,3,4,"button",18),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(4),t.hij(" ",t.lcZ(6,13,n.data.room?"lang_auth_sua_phong_hoc":"lang_core_tao_phong_hoc")," "),t.xp6(7),t.hij(" ",t.lcZ(13,15,"lang_core_ten_phong")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(15,17,"lang_core_nhap_ten_phong")),t.xp6(2),t.Q6J("ngIf",n.form.controls.roomName.dirty&&n.form.controls.roomName.errors),t.xp6(3),t.hij(" ",t.lcZ(20,19,"lang_core_so_cho_ngoi")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(22,21,"lang_auto_nhap_so_cho_ngoi")),t.xp6(2),t.Q6J("ngIf",n.form.controls.numberSeat.dirty&&n.form.controls.numberSeat.errors),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading),t.xp6(3),t.Oqu(t.lcZ(28,23,"lang_button_close")),t.xp6(2),t.Q6J("disabled",n.statusObj.loading||n.form.invalid),t.xp6(1),t.hij(" ",t.lcZ(31,25,n.data.room?"lang_student_classroom_list_update":"lang_button_save")," "),t.xp6(2),t.Q6J("ngIf",!n.data.room))},dependencies:[i.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,dt.M,Ut.R,D.n,k.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box-save-doing[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;left:0;top:0;display:flex;justify-content:center;align-items:center;background:rgba(255,255,255,.6784313725)}"]}),o})();var At=c(77988),Et=c(32651);function Zo(o,l){if(1&o&&(t._UZ(0,"iframe",1),t.ALo(1,"safe")),2&o){const e=t.oxw();t.Q6J("src",t.lcZ(1,2,e.embedGoogleMapUrl),t.uOi)("width",e.width)}}let Xt=(()=>{class o extends M.Q{checkValidLink(){this.embedGoogleMapUrl=(0,vt.D9)(this.htmlEmbedCode)??""}onLoad(){setTimeout(()=>{this.loadedEvent.emit(!0)},0)}ngOnChanges(){this.checkValidLink()}ngOnInit(){super.ngOnInit(),this.checkValidLink()}constructor(){super(),this.width="600px",this.height="400px",this.loadedEvent=new t.vpe,this.embedGoogleMapUrl=""}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["azt-google-map-embed"]],inputs:{htmlEmbedCode:"htmlEmbedCode",width:"width",height:"height"},outputs:{loadedEvent:"loadedEvent"},features:[t.qOj,t.TTD],decls:1,vars:1,consts:[["style","border:0;","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade","style","width: -webkit-fill-available; height: auto;min-height:300px",3,"src","width",4,"ngIf"],["allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"width","-webkit-fill-available","height","auto","min-height","300px",3,"src","width"]],template:function(e,n){1&e&&t.YNc(0,Zo,2,4,"iframe",0),2&e&&t.Q6J("ngIf",n.embedGoogleMapUrl)},dependencies:[i.O5,k.CR],encapsulation:2}),o})();const To=["drawer"];function Io(o,l){1&o&&t._UZ(0,"azt-loading-effect")}function Po(o,l){1&o&&(t.TgZ(0,"span",38),t._UZ(1,"azt-loading-ui"),t.qZA())}function Mo(o,l){if(1&o&&(t.TgZ(0,"div",39),t._UZ(1,"azt-google-map-embed",40),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("htmlEmbedCode",e.obj.mapAddress)}}function Lo(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.sAztMatDrawerService.openDrawer())}),t.ALo(1,"mytranslate"),t.O4$(),t.TgZ(2,"svg",42),t._UZ(3,"rect",43)(4,"path",44)(5,"path",45),t.qZA()()}2&o&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_mo_menu"))}function zo(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.sAztMatDrawerService.closeDrawer())}),t.ALo(1,"mytranslate"),t.O4$(),t.TgZ(2,"svg",42),t._UZ(3,"rect",43)(4,"path",44)(5,"path",47),t.qZA()()}2&o&&t.s9C("matTooltip",t.lcZ(1,1,"lang_auto_dong_menu"))}function jo(o,l){1&o&&(t.TgZ(0,"span",38),t._UZ(1,"azt-loading-ui"),t.qZA())}function Do(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",50)(1,"div",51)(2,"div",52)(3,"h3",53),t._uU(4),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"div",54)(9,"button",55),t.NdJ("click",function(){const d=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.addOrUpdateRoom(d))}),t.ALo(10,"mytranslate"),t.O4$(),t.TgZ(11,"svg",56),t._UZ(12,"path",57)(13,"path",58),t.qZA()(),t.kcU(),t.TgZ(14,"button",59),t.NdJ("click",function(){const d=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.showDeleteRoomDialog(d))}),t.ALo(15,"mytranslate"),t.YNc(16,jo,2,0,"span",15),t.O4$(),t.TgZ(17,"svg",60),t._UZ(18,"path",61)(19,"path",62)(20,"path",63)(21,"line",64)(22,"line",65),t.qZA()()()()()}if(2&o){const e=l.$implicit,n=t.oxw(3);t.xp6(3),t.s9C("matTooltip",e.name),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.AsE(" ",t.lcZ(7,7,"lang_core_so_cho_ngoi"),": ",e.numberSeat," "),t.xp6(3),t.s9C("matTooltip",t.lcZ(10,9,"lang_button_edit")),t.xp6(5),t.s9C("matTooltip",t.lcZ(15,11,"lang_student_classroom_list_delete")),t.xp6(2),t.Q6J("ngIf",n.isDeletingId==e.id)}}function No(o,l){if(1&o&&(t.TgZ(0,"div")(1,"div",48),t.YNc(2,Do,23,13,"div",49),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.roomObjs)}}function So(o,l){1&o&&(t.TgZ(0,"div",66),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_danh_sach_phong_hoc_trong")," "))}const Fo=function(o,l){return{"w-85":o,"w-25":l}},Uo=function(o){return{"azt-mobile-draw-left":o}},Eo=function(o){return{"ml-25":o}},Jo=function(o){return{"ml-5":o}},qo=function(){return{height:"80%"}};function Qo(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"mat-drawer-container",3)(1,"mat-drawer",4,5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"h3",10),t._uU(8),t.qZA()(),t.TgZ(9,"div",11)(10,"span",12),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.TgZ(13,"div",11)(14,"span",12),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()(),t.TgZ(17,"div",11)(18,"span",12),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()(),t.TgZ(21,"div")(22,"div",13)(23,"div",14),t.YNc(24,Po,2,0,"span",15),t._uU(25),t.ALo(26,"mytranslate"),t.O4$(),t.TgZ(27,"svg",16),t._UZ(28,"path",17),t.qZA()()(),t.kcU(),t.TgZ(29,"mat-menu",null,18)(31,"div",19)(32,"ul",20)(33,"li")(34,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeActivity())}),t._uU(35),t.ALo(36,"mytranslate"),t.qZA()()()()()(),t.YNc(37,Mo,2,1,"div",22),t.qZA()()()(),t.TgZ(38,"mat-drawer-content",23)(39,"div",24)(40,"div",25),t.YNc(41,Lo,6,3,"button",26),t.YNc(42,zo,6,3,"button",27),t.TgZ(43,"div",28)(44,"button",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.addOrUpdateRoom())}),t.O4$(),t.TgZ(45,"svg",30),t._UZ(46,"path",31)(47,"path",32),t.qZA(),t.kcU(),t.TgZ(48,"span",12),t._uU(49),t.ALo(50,"mytranslate"),t.qZA()(),t.TgZ(51,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.addOrUpdateRoom())}),t.ALo(52,"mytranslate"),t.O4$(),t.TgZ(53,"svg",30),t._UZ(54,"path",31)(55,"path",32),t.qZA()()()(),t.kcU(),t.TgZ(56,"div",34)(57,"h2",35),t._uU(58),t.ALo(59,"mytranslate"),t.qZA(),t.YNc(60,No,3,1,"div",1),t.YNc(61,So,3,3,"ng-template",null,36,t.W1O),t.qZA()()()(),t._UZ(63,"azt-scroll-to-top-bottom",37)}if(2&o){const e=t.MAs(30),n=t.MAs(62),a=t.oxw();t.Q6J("hasBackdrop",a.sAztMatDrawerService.hasBackdrop),t.xp6(1),t.s9C("opened",a.sAztMatDrawerService.isOpenSideNav?"true":"false"),t.Q6J("ngClass",t.WLB(46,Fo,a.isMobileDevice,!a.isMobileDevice))("mode",a.sAztMatDrawerService.mode),t.xp6(2),t.Q6J("ngClass",t.VKq(49,Uo,a.isMobileDevice)),t.xp6(4),t.s9C("matTooltip",a.obj.name),t.xp6(1),t.hij(" ",a.obj.name," "),t.xp6(3),t.AsE(" ",t.lcZ(12,30,"lang_test_market_address"),": ",a.obj.address," "),t.xp6(4),t.AsE(" ",t.lcZ(16,32,"lang_auto_dien_thoai"),": ",a.obj.phone," "),t.xp6(4),t.AsE(" ",t.lcZ(20,34,"lang_auto_tong_so_phong_hoc"),": ",a.obj.totalRoom," "),t.xp6(3),t.Q6J("matMenuTriggerFor",e),t.xp6(1),t.Q6J("ngClass",1==a.obj.status?"btn-activity":"btn-not-activity"),t.xp6(1),t.Q6J("ngIf",a.isChangingActivityId==a.obj.id),t.xp6(1),t.hij(" ",t.lcZ(26,36,0==a.obj.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.xp6(10),t.hij(" ",t.lcZ(36,38,1==a.obj.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.xp6(2),t.Q6J("ngIf",a.obj.mapAddress),t.xp6(1),t.Q6J("ngClass",t.VKq(51,Eo,!a.isMobileDevice&&a.sAztMatDrawerService.isOpenSideNav)),t.xp6(1),t.Q6J("ngClass",t.VKq(53,Jo,!a.isMobileDevice&&a.sAztMatDrawerService.isOpenSideNav)),t.xp6(2),t.Q6J("ngIf",!a.sAztMatDrawerService.isOpenSideNav||a.isMobileDevice),t.xp6(1),t.Q6J("ngIf",a.sAztMatDrawerService.isOpenSideNav&&!a.isMobileDevice),t.xp6(7),t.hij(" ",t.lcZ(50,40,"lang_auto_them_phong_hoc")," "),t.xp6(2),t.Q6J("matTooltip",t.lcZ(52,42,"lang_auto_them_phong_hoc")),t.xp6(5),t.Q6J("ngStyle",t.DdM(55,qo)),t.xp6(2),t.hij(" ",t.lcZ(59,44,"lang_core_danh_sach_phong_hoc")," "),t.xp6(2),t.Q6J("ngIf",a.roomObjs.length>0)("ngIfElse",n),t.xp6(3),t.Q6J("isScrollToTop",!0)}}let Yo=(()=>{class o extends M.Q{set drawer(e){this.sAztMatDrawerService.resizeDrawerHeight(!0,e)}addOrUpdateRoom(e){this.sAztDialogService.open(wo,{data:{infrastructureId:this.infrastructureId,room:e},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(a=>{a&&this.getRooms()})}showDeleteRoomDialog(e){var n=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+e.name+" </div>";this.sAztDialogService.open(Ft.s,{data:{content:n},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(a=>{a&&(this.isDeletingId=e.id,this.waitDestroy(this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsRoomIdDelete(this.obj.id,e.id).subscribe({next:d=>{this.roomObjs=this.roomObjs.filter(u=>e.id!=u.id),this.successStatusObj("lang_core_xoa_phong_hoc_thanh_cong",!0)},error:d=>{this.errorStatusObj(d.error.message,!0),this.isDeletingId=0}})))})}changeActivity(){if(!this.obj)return;this.isChangingActivityId=this.obj.id;let e=0==this.obj.status?this.infrastructureService.apiInfrastructuresIdActivatePut(this.obj.id):this.infrastructureService.apiInfrastructuresIdDeactivatePut(this.obj.id);this.waitDestroy(e.subscribe({next:n=>{n&&this.obj?this.obj.status=0==this.obj.status?1:0:this.errorStatusObj("lang_core_co_loi_khi_doi_trang_thai",!0),this.isChangingActivityId=0},error:n=>{this.errorStatusObj(n.error.message,!0),this.isChangingActivityId=0}}))}initData(){this.initStatusObj(),this.waitDestroy(this.infrastructureService.apiInfrastructuresIdGet(this.infrastructureId).subscribe({next:e=>{this.obj=e,this.getRooms()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}getRooms(){this.initStatusObj(),this.waitDestroy(this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsGet(this.infrastructureId,-1,100).subscribe({next:e=>{this.roomObjs=e.list,this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_chi_tiet_co_so",image:"lang_cms_test_image"}),super.ngOnInit(),this.infrastructureId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.initData()}constructor(e,n,a,d){super(),this.activeRoute=e,this.infrastructureService=n,this.sAztDialogService=a,this.sAztMatDrawerService=d,this.backToLink="/business/infrastructure",this.infrastructureId=0,this.roomObjs=[],this.isChangingActivityId=0,this.isDeletingId=0}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.gz),t.Y36(Ct.w),t.Y36(B.C),t.Y36($t.T))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-list-classroom-in-infrastructure"]],viewQuery:function(e,n){if(1&e&&t.Gf(To,5),2&e){let a;t.iGM(a=t.CRH())&&(n.drawer=a.first)}},features:[t._Bn([$t.T]),t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"azt-drawer-container","mt-5",3,"hasBackdrop"],[3,"ngClass","mode","opened"],["drawer",""],[1,"azt-draw-left",2,"overflow-x","hidden",3,"ngClass"],[1,"box"],[1,"p-3"],[1,"flex","items-center"],[1,"text-md","font-medium","truncate","mr-auto","mt-2",3,"matTooltip"],[1,"flex","items-center","mt-1"],[1,"text-sm"],[1,"flex","items-center","mt-2",3,"matMenuTriggerFor"],[1,"text-sm","clickable","btn","btn-primary",3,"ngClass"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevron-down"],["d","m6 9 6 6 6-6"],["menuSelectActivity","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full","clickable",3,"click"],["class","pt-3",4,"ngIf"],[3,"ngClass"],[1,"azt-drawer-content",3,"ngClass"],[1,"flex","box","sm:h-auto","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2","text-slate-500","mb-2"],["azt-track-service","detail-infrastructure-dBQFBBora","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","detail-infrastructure-qa6EG4yZyv","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"relative","flex","ml-auto"],["azt-track-service","detail-infrastructure-LAD7A9vcci",1,"btn","btn-primary","pl-2","pr-2","py-1","azt-hidden","md:block",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","lucide-plus"],["d","M5 12h14"],["d","M12 5v14"],["azt-track-service","detail-infrastructure-sv78ldxlux",1,"btn","btn-primary","pl-2","pr-2","py-1","block","md:hidden",3,"matTooltip","click"],[1,"box","relative","p-3",3,"ngStyle"],[1,"font-medium","truncate","mr-auto"],["emptyList",""],[3,"isScrollToTop"],[1,"w-4","h-4","inline-block","mr-2"],[1,"pt-3"],[3,"htmlEmbedCode"],["azt-track-service","detail-infrastructure-dBQFBBora",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-menu","w-4","h-4"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["d","M9 3v18"],["d","m14 9 3 3-3 3"],["azt-track-service","detail-infrastructure-qa6EG4yZyv",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["d","m16 15-3-3 3-3"],[1,"grid","grid-cols-12","gap-3"],["class","col-span-12 sm:col-span-6 md:col-span-4 2xl:col-span-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","2xl:col-span-3"],[1,"flex","justify-between","info-class-room"],[1,"col-information"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip"],[1,"flex"],["azt-track-service","list-classroom-in-infrastructure--l-N2YP70a",1,"btn-flex","items-center","justify-center","mr-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","17","height","17","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pen-square",2,"color","dodgerblue"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z"],["azt-track-service","list-classroom-in-infrastructure-QSKDgXBGhe",1,"flex","items-center","justify-center",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","17","height","17","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-trash-2",2,"color","red"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","x2","10","y1","11","y2","17"],["x1","14","x2","14","y1","11","y2","17"],[1,"flex","justify-center"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,Io,1,0,"azt-loading-effect",1),t.YNc(2,Qo,64,56,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.Q6J("headerBackToLink",n.backToLink),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",a)}},dependencies:[i.mk,i.sg,i.O5,i.PC,At.VK,At.p6,Et.jA,Et.kh,Et.LW,mt.gM,Y.l,gt.M,D.n,Xt,R._,k.JV],styles:[".btn-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:forestgreen;color:#fff;border-radius:10px;font-weight:500}.btn-activity[_ngcontent-%COMP%]:hover{background:rgb(55,202,55)!important}.btn-not-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#98110c;color:#fff;border-radius:10px;font-weight:500}.btn-not-activity[_ngcontent-%COMP%]:hover{background:#b61a15!important}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{padding:2px 5px;width:calc(100% - 50px)}.info-class-room[_ngcontent-%COMP%]{background:aliceblue;padding:10px;border-radius:6px}.setting_options[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;padding:.5rem}.azt-draw-left-container[_ngcontent-%COMP%] > .mat-drawer-inner-container[_ngcontent-%COMP%]{overflow:auto!important}.hide[_ngcontent-%COMP%]{display:none!important}.hover[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{width:20px!important;height:20px!important;stroke-width:1.8px!important}*[_ngcontent-%COMP%]:focus{outline:none}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.group-content[_ngcontent-%COMP%]{padding:0!important}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:2px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}  .dark .class-active{background:rgb(53,69,103)}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]}),o})();function Bo(o,l){1&o&&(t.TgZ(0,"div",24),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_vui_long_nhap_ten_co_so")," "))}function Ro(o,l){1&o&&(t.TgZ(0,"div",24),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_vui_long_nhap_dia_chi")," "))}function Go(o,l){1&o&&(t.TgZ(0,"div",24),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function Vo(o,l){1&o&&(t.TgZ(0,"div",25)(1,"span",26),t._UZ(2,"azt-loading-ui"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_dang_luu_doing")," "))}function Ko(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.saveData(!0))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("disabled",e.statusObj.loading||e.form.controls.infrastructureName.errors||e.form.controls.phoneNumber.errors||e.form.controls.address.errors),t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_core_luu_va_dong")," ")}}let Wo=(()=>{class o extends N.e{closeDialog(){this.dialogRef.close(this.isLoadData)}saveData(e){var n={name:this.form.getRawValue().infrastructureName,address:this.form.getRawValue().address,mapAddress:this.form.getRawValue().mapAddress,phone:this.form.getRawValue().phoneNumber};this.initStatusObj(),this.waitDestroy(this.data?this.infrastructureService.apiInfrastructuresIdPut(this.data.id,n).subscribe(a=>{a.success?(this.successStatusObj("lang_core_tsua_co_so_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_core_sua_co_so_khong_thanh_cong",!0)}):this.infrastructureService.apiInfrastructuresPost(n).subscribe({next:a=>{e?this.dialogRef.close(!0):(this.isLoadData=!0,this.form.reset(),this.stopStatusObj()),this.successStatusObj("lang_core_them_co_so_thanh_cong",!0)},error:a=>{this.errorStatusObj(a.error.message,!0)}}))}ngOnInit(){}constructor(e,n,a){super(a,n),this.infrastructureService=e,this.dialogRef=n,this.data=a,this.isLoadData=!1,this.form=new r.cw({infrastructureName:new r.NI(a?.name??"",{nonNullable:!0,validators:[r.kI.required]}),address:new r.NI(a?.address??"",{nonNullable:!0,validators:[r.kI.required]}),phoneNumber:new r.NI(a?.phone??"",{nonNullable:!0,validators:[r.kI.pattern(/^[0-9\-]*$/),r.kI.minLength(10),r.kI.maxLength(10)]}),mapAddress:new r.NI(a?.mapAddress??"",{nonNullable:!0})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Ct.w),t.Y36(s.so,8),t.Y36(s.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-or-info-infrastructure"]],features:[t.qOj],decls:56,vars:51,consts:[[1,"box","infrastructure-dialog"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","list-class"],["for","infrastructureName",1,"form-label"],["type","text","id","infrastructureName","formControlName","infrastructureName",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address",1,"form-control",3,"placeholder"],["for","phoneNumber",1,"form-label"],["type","text","id","phoneNumber","formControlName","phoneNumber",1,"form-control",3,"placeholder"],["for","map",1,"form-label"],[1,"text-sm"],["azt-track-service","create-or-update-info-infrastructure-dialog-0UswBviDw","href","https://www.google.com/maps","target","_blank",2,"color","blue","text-decoration","underline"],["type","text","formControlName","mapAddress",1,"form-control",3,"placeholder"],[3,"htmlEmbedCode"],["class","box-save-doing",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-primary",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8","class","btn btn-info ml-2",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"box-save-doing"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-info","ml-2",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"azt-mat-dialog-content")(8,"div",5)(9,"div")(10,"label",6),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t._UZ(13,"input",7),t.ALo(14,"mytranslate"),t.YNc(15,Bo,3,3,"div",8),t.qZA(),t.TgZ(16,"div",9)(17,"label",10),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t._UZ(20,"input",11),t.ALo(21,"mytranslate"),t.YNc(22,Ro,3,3,"div",8),t.qZA(),t.TgZ(23,"div",9)(24,"label",12),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t._UZ(27,"input",13),t.ALo(28,"mytranslate"),t.YNc(29,Go,3,3,"div",8),t.qZA(),t.TgZ(30,"div",9)(31,"label",14),t._uU(32),t.ALo(33,"mytranslate"),t.qZA(),t.TgZ(34,"div",15),t._uU(35),t.ALo(36,"mytranslate"),t.TgZ(37,"a",16),t._uU(38,"Google Maps"),t.qZA(),t._uU(39),t.ALo(40,"mytranslate"),t._UZ(41,"br"),t._uU(42),t.ALo(43,"mytranslate"),t.qZA(),t._UZ(44,"input",17),t.ALo(45,"mytranslate"),t.qZA(),t._UZ(46,"azt-google-map-embed",18),t.YNc(47,Vo,5,3,"div",19),t.qZA()()(),t.TgZ(48,"div",20)(49,"button",21),t.NdJ("click",function(){return n.closeDialog()}),t._uU(50),t.ALo(51,"mytranslate"),t.qZA(),t.TgZ(52,"button",22),t.NdJ("click",function(){return n.saveData(!1)}),t._uU(53),t.ALo(54,"mytranslate"),t.qZA(),t.YNc(55,Ko,3,4,"button",23),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(4),t.hij(" ",t.lcZ(6,23,n.data?"lang_core_sua_co_so":"lang_core_them_co_so")," "),t.xp6(6),t.hij(" ",t.lcZ(12,25,"lang_core_ten_co_so")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(14,27,"lang_core_nhap_ten_co_so")),t.uIk("autofocus",!1),t.xp6(2),t.Q6J("ngIf",n.form.controls.infrastructureName.dirty&&n.form.controls.infrastructureName.errors),t.xp6(3),t.hij(" ",t.lcZ(19,29,"lang_test_market_address")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(21,31,"lang_core_vui_nhap_dia_chi")),t.xp6(2),t.Q6J("ngIf",n.form.controls.address.dirty&&n.form.controls.address.errors),t.xp6(3),t.hij(" ",t.lcZ(26,33,"lang_number_phone")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(28,35,"lang_auto_nhap_so_dien_thoai")),t.xp6(2),t.Q6J("ngIf",n.form.controls.phoneNumber.dirty&&n.form.controls.phoneNumber.errors),t.xp6(3),t.hij(" ",t.lcZ(33,37,"lang_auto_ban_do")," "),t.xp6(3),t.hij(" ",t.lcZ(36,39,"lang_core_khong_hoat_dong_huong_dan_copy_ma_html_map_1")," "),t.xp6(4),t.hij(" ",t.lcZ(40,41,"lang_core_khong_hoat_dong_huong_dan_copy_ma_html_map_2")," "),t.xp6(3),t.hij(" ",t.lcZ(43,43,"lang_core_khong_hoat_dong_huong_dan_copy_ma_html_map_3")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(45,45,"lang_core_dan_dia_chi_da_sao_chep")),t.xp6(2),t.Q6J("htmlEmbedCode",n.form.controls.mapAddress.value),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading),t.xp6(3),t.Oqu(t.lcZ(51,47,"lang_cms_common_close_btn")),t.xp6(2),t.Q6J("disabled",n.statusObj.loading||n.form.controls.infrastructureName.errors||n.form.controls.phoneNumber.errors||n.form.controls.address.errors),t.xp6(1),t.hij(" ",t.lcZ(54,49,n.data?"lang_student_classroom_list_update":"lang_button_save")," "),t.xp6(2),t.Q6J("ngIf",!n.data))},dependencies:[i.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,dt.M,Ut.R,D.n,Xt,k.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}.iframeViewMap[_ngcontent-%COMP%]{width:-webkit-fill-available;height:auto}iframe[_ngcontent-%COMP%]{width:-webkit-fill-available}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.text-sm[_ngcontent-%COMP%]{font-size:12px}.box-save-doing[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;left:0;top:0;display:flex;justify-content:center;align-items:center;background:rgba(255,255,255,.6784313725)}"]}),o})();function Ho(o,l){1&o&&t._UZ(0,"azt-loading-effect")}function $o(o,l){1&o&&(t.TgZ(0,"span",41),t._UZ(1,"azt-loading-ui"),t.qZA())}function Xo(o,l){1&o&&(t.TgZ(0,"span",41),t._UZ(1,"azt-loading-ui"),t.qZA())}const tn=function(o){return[o]};function en(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",14)(1,"a",15),t.ALo(2,"localize"),t.TgZ(3,"h3",16),t._uU(4),t.qZA(),t.TgZ(5,"div",17)(6,"span",18),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t._uU(9),t.qZA(),t.TgZ(10,"div",17)(11,"span",18),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t._uU(14),t.qZA(),t.TgZ(15,"div",17)(16,"span",18),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t._uU(19),t.qZA()(),t.TgZ(20,"div",19)(21,"div")(22,"div",20),t.YNc(23,$o,2,0,"span",21),t._uU(24),t.ALo(25,"mytranslate"),t.O4$(),t.TgZ(26,"svg",22),t._UZ(27,"path",23),t.qZA()(),t.kcU(),t.TgZ(28,"mat-menu",24,25)(30,"div",26)(31,"ul",27)(32,"li")(33,"button",28),t.NdJ("click",function(){const d=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.changeActivity(d))}),t._uU(34),t.ALo(35,"mytranslate"),t.qZA()()()()()(),t.TgZ(36,"div",29)(37,"button",30),t.NdJ("click",function(){const d=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.openAddOrEditInfrastructure(d))}),t.ALo(38,"mytranslate"),t.O4$(),t.TgZ(39,"svg",31),t._UZ(40,"path",32)(41,"path",33),t.qZA()(),t.kcU(),t.TgZ(42,"button",34),t.NdJ("click",function(){const d=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.showDeleteRoomDialog(d))}),t.ALo(43,"mytranslate"),t.YNc(44,Xo,2,0,"span",21),t.O4$(),t.TgZ(45,"svg",35),t._UZ(46,"path",36)(47,"path",37)(48,"path",38)(49,"line",39)(50,"line",40),t.qZA()()()()()}if(2&o){const e=l.$implicit,n=t.MAs(29),a=t.oxw(2);t.xp6(1),t.Q6J("routerLink",t.VKq(33,tn,t.lcZ(2,17,"/business/infrastructure/"+e.id))),t.xp6(2),t.s9C("matTooltip",e.name),t.xp6(1),t.hij(" ",e.name," "),t.xp6(3),t.Oqu(t.lcZ(8,19,"lang_test_market_address")),t.xp6(2),t.hij(": ",e.address," "),t.xp6(3),t.Oqu(t.lcZ(13,21,"lang_auto_dien_thoai")),t.xp6(2),t.hij(": ",e.phone," "),t.xp6(3),t.Oqu(t.lcZ(18,23,"lang_auto_tong_so_phong_hoc")),t.xp6(2),t.hij(": ",e.totalRoom," "),t.xp6(3),t.Q6J("ngClass",1==e.status?"btn-activity":"btn-un-activity")("matMenuTriggerFor",n),t.xp6(1),t.Q6J("ngIf",a.isChangingActivityId==e.id),t.xp6(1),t.hij(" ",t.lcZ(25,25,0==e.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.xp6(10),t.hij(" ",t.lcZ(35,27,1==e.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.xp6(3),t.s9C("matTooltip",t.lcZ(38,29,"lang_button_edit")),t.xp6(5),t.s9C("matTooltip",t.lcZ(43,31,"lang_student_classroom_list_delete")),t.xp6(2),t.Q6J("ngIf",a.isDeletingId==e.id)}}function on(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"h3",3),t._uU(1),t.ALo(2,"mytranslate"),t.qZA(),t.TgZ(3,"div",4),t.YNc(4,en,51,35,"div",5),t.TgZ(5,"div",6)(6,"div",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openAddOrEditInfrastructure())}),t.TgZ(7,"div",8),t.O4$(),t.TgZ(8,"svg",9),t._UZ(9,"path",10)(10,"path",11),t.qZA(),t.kcU(),t.TgZ(11,"div",12),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()()()(),t._UZ(14,"azt-scroll-to-top-bottom",13)}if(2&o){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,4,"lang_auto_quan_ly_co_so_vat_chat")," "),t.xp6(3),t.Q6J("ngForOf",e.objs),t.xp6(8),t.hij(" ",t.lcZ(13,6,"lang_auto_them_co_so")," "),t.xp6(2),t.Q6J("isScrollToTop",!0)}}let nn=(()=>{class o extends M.Q{openAddOrEditInfrastructure(e){this.sAztDialogService.open(Wo,{data:e,restoreFocus:!1,width:"800px"}).afterClosed().subscribe(n=>{n&&this.getData()})}showDeleteRoomDialog(e){var n=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+e.name+" </div> ?";this.sAztDialogService.open(Ft.s,{data:{content:n},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(a=>{a&&(this.isDeletingId=e.id,this.waitDestroy(this.infrastructureService.apiInfrastructuresIdDelete(e.id).subscribe({next:d=>{d?(this.objs=this.objs.filter(u=>u.id!=e.id),this.successStatusObj("lang_core_xoa_co_so_thanh_cong")):this.errorStatusObj("lang_core_xoa_co_so_khong_thanh_cong",!0),this.isDeletingId=0},error:d=>{this.errorStatusObj(d.error.message,!0),this.isDeletingId=0}})))})}changeActivity(e){var n=this.objs.find(d=>d.id==e.id);if(!n)return;this.isChangingActivityId=e.id;let a=0==n.status?this.infrastructureService.apiInfrastructuresIdActivatePut(e.id):this.infrastructureService.apiInfrastructuresIdDeactivatePut(e.id);this.waitDestroy(a.subscribe({next:d=>{d&&n?n.status=0==n.status?1:0:this.errorStatusObj("lang_core_co_loi_khi_doi_trang_thai",!0),this.isChangingActivityId=0},error:d=>{this.errorStatusObj(d.error.message,!0),this.isChangingActivityId=0}}))}getData(){this.initStatusObj(),this.waitDestroy(this.infrastructureService.apiInfrastructuresListPost({size:-1,page:1}).subscribe({next:e=>{this.objs=e.list??[],this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_co_so_vat_chat",image:"lang_cms_test_image"}),super.ngOnInit(),this.getData()}constructor(e,n){super(),this.infrastructureService=e,this.sAztDialogService=n,this.objs=[],this.isChangingActivityId=0,this.isDeletingId=0}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Ct.w),t.Y36(B.C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["list-infrastructure"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"text-md-title","font-medium","truncate","mr-auto","mt-5"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-5"],["class","col-span-12 sm:col-span-6 xl:col-span-3 box",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","xl:col-span-3"],["azt-track-service","list-infrastructure-0HrlOWafsi",1,"grid","items-center","btn-add-infrastructure","clickable",3,"click"],[1,"flex","justify-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-plus"],["d","M5 12h14"],["d","M12 5v14"],[1,"text-add-cs"],[3,"isScrollToTop"],[1,"col-span-12","sm:col-span-6","xl:col-span-3","box"],["azt-track-service","list-infrastructure-tBcgbalH2n",1,"clickable","block","p-3","pb-0",3,"routerLink"],[1,"text-md","font-bold","truncate","mr-auto",3,"matTooltip"],[1,"text-sm"],[1,"font-medium"],[1,"flex","justify-between","items-center","p-3"],[1,"text-sm","medium","clickable","btn","btn-primary",3,"ngClass","matMenuTriggerFor"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevron-down"],["d","m6 9 6 6 6-6"],["xPosition","before"],["menuSelectActivity","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],[1,"flex"],["azt-track-service","list-infrastructure-xLbmhq55M",1,"btn-flex","items-center","justify-center","mr-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pen-square",2,"color","dodgerblue"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z"],["azt-track-service","list-infrastructure--kkgd3LUEQ",1,"flex","items-center","justify-center",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-trash-2",2,"color","red"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","x2","10","y1","11","y2","17"],["x1","14","x2","14","y1","11","y2","17"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,Ho,1,0,"azt-loading-effect",1),t.YNc(2,on,15,8,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.Q6J("headerBackToLink","/business/dashboard"),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",a)}},dependencies:[A.rH,i.mk,i.sg,i.O5,At.VK,At.p6,mt.gM,Y.l,gt.M,D.n,R._,E.lO,k.JV],styles:[".btn-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:forestgreen;color:#fff;border-radius:10px;font-weight:500}.btn-activity[_ngcontent-%COMP%]:hover{background:rgb(55,202,55)!important}.btn-un-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:darkred;color:#fff;border-radius:10px;font-weight:500}.btn-un-activity[_ngcontent-%COMP%]:hover{background:#b61a15!important}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{width:100%}.text-add-cs[_ngcontent-%COMP%]{font-size:14px;color:#909090;font-weight:500;padding-top:2px;padding-left:5px}.info-infrastructure[_ngcontent-%COMP%], .btn-add-infrastructure[_ngcontent-%COMP%]{background:white;padding:10px;border-radius:6px;height:100%}.btn-add-infrastructure[_ngcontent-%COMP%]:hover{background:#e1e0e0}.lucide-plus[_ngcontent-%COMP%]{stroke-width:4px!important;color:#a9a9a9}.col-information[_ngcontent-%COMP%]{padding:2px 5px}.col-information[_ngcontent-%COMP%]:hover{background:rgb(240,240,240);border-radius:5px;padding:2px 5px}.btn-delete-room[_ngcontent-%COMP%]{z-index:999}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:rgb(240,240,240);border-radius:5px;padding:2px}.text-md-title[_ngcontent-%COMP%]{font-size:20px}"]}),o})();var te=c(8633),an=c(58828),rn=c(85904);function sn(o,l){1&o&&t._UZ(0,"azt-loading-effect")}function ln(o,l){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_config_educational_program_day_0"),", "))}function cn(o,l){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const e=t.oxw().$implicit;let n;t.xp6(1),t.hij("",t.lcZ(2,1,"lang_config_educational_program_day_"+(null!==(n=e.day)&&void 0!==n?n:0)),", ")}}function dn(o,l){1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_auto_hom_nay"),", "))}const mn=function(o){return{"z-index":o}};function un(o,l){if(1&o&&(t.TgZ(0,"div",25)(1,"div"),t._UZ(2,"azt-create-avatar",26),t.qZA()()),2&o){const e=l.$implicit,n=l.index,a=t.oxw(2).$implicit;t.Q6J("ngStyle",t.VKq(4,mn,a.users.length-n)),t.xp6(2),t.Q6J("linkAvatar",e.avatar)("nameCreateAvatar",e.fullName)("size",28)}}function pn(o,l){if(1&o&&(t.TgZ(0,"div",22)(1,"span",23),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,un,3,6,"div",24),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.hij("",t.lcZ(3,2,"lang_auto_giang_vien"),":\xa0"),t.xp6(2),t.Q6J("ngForOf",e.users)}}const gn=function(o){return[o]},_n=function(o){return{backTo:o}};function hn(o,l){if(1&o&&(t.TgZ(0,"div",11)(1,"div",12)(2,"h3",13),t._uU(3),t.qZA()(),t.TgZ(4,"a",14),t.ALo(5,"localize"),t.TgZ(6,"div",15)(7,"h3",16),t._uU(8),t.qZA(),t.TgZ(9,"div",17),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"div",18)(13,"span",19),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()(),t.TgZ(16,"div",20)(17,"span",19),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()(),t.YNc(20,pn,5,4,"div",21),t.qZA()()),2&o){const e=l.$implicit,n=t.oxw(4);t.xp6(3),t.AsE(" ",e.fromTime," - ",e.toTime," "),t.xp6(1),t.Q6J("routerLink",t.VKq(21,gn,t.lcZ(5,13,"/admin/student/classroom-details/"+e.classroomId+"/3")))("queryParams",t.VKq(23,_n,n.returnUrl)),t.xp6(4),t.hij(" ",e.classroomName," "),t.xp6(2),t.AsE(" ",t.lcZ(11,15,"lang_core_buoi")," ",null==e.currentSession?null:e.currentSession.sort," "),t.xp6(4),t.AsE(" ",t.lcZ(15,17,"lang_student_educational_program"),": ",null==e.program?null:e.program.name," "),t.xp6(4),t.lnq(" ",t.lcZ(19,19,"lang_core_phong_hoc"),": ",null==e.infrastructure?null:e.infrastructure.name," - ",null==e.room?null:e.room.name," "),t.xp6(2),t.Q6J("ngIf",e.users&&e.users.length>0)}}function fn(o,l){if(1&o&&(t.TgZ(0,"div",7)(1,"h2",8),t.YNc(2,ln,3,3,"span",9),t.YNc(3,cn,3,3,"span",9),t.YNc(4,dn,3,3,"span",9),t._uU(5),t.ALo(6,"date"),t.qZA(),t.YNc(7,hn,21,25,"div",10),t.qZA()),2&o){const e=l.$implicit,n=t.oxw(3);let a;t.xp6(1),t.Q6J("ngClass",n.isTodayDate(e.date)?"date-color":""),t.xp6(1),t.Q6J("ngIf",0==e.day&&!n.isTodayDate(e.date)),t.xp6(1),t.Q6J("ngIf",(null!==(a=e.day)&&void 0!==a?a:0)>0),t.xp6(1),t.Q6J("ngIf",0==e.day&&n.isTodayDate(e.date)),t.xp6(1),t.hij(" ",t.xi3(6,6,e.date,"dd/MM/yyyy")," "),t.xp6(2),t.Q6J("ngForOf",e.sessions)}}function xn(o,l){1&o&&(t.O4$(),t.kcU(),t.TgZ(0,"span",32),t._UZ(1,"azt-loading-ui"),t.qZA())}function bn(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",27)(1,"span",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(!a.sAztNextPaginationService.isLoadingNextPage&&a.getNextPage())}),t._uU(2),t.ALo(3,"mytranslate"),t.O4$(),t.TgZ(4,"svg",29),t._UZ(5,"polyline",30),t.qZA(),t.YNc(6,xn,2,0,"span",31),t.qZA()()}if(2&o){const e=t.oxw(3);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_business_instructional_work_see_more")," "),t.xp6(4),t.Q6J("ngIf",e.sAztNextPaginationService.isLoadingNextPage)}}function vn(o,l){if(1&o&&(t.ynx(0),t.YNc(1,fn,8,9,"div",5),t.YNc(2,bn,7,4,"div",6),t.BQk()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.listGroupScheduleObjs),t.xp6(1),t.Q6J("ngIf",e.listGroupScheduleObjs.length&&e.sAztNextPaginationService.hasNextPage)}}function Cn(o,l){1&o&&(t.TgZ(0,"div",33),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_list_null")," "))}function An(o,l){if(1&o&&(t.TgZ(0,"h3",3),t._uU(1),t.ALo(2,"mytranslate"),t.qZA(),t.YNc(3,vn,3,2,"ng-container",1),t.YNc(4,Cn,3,3,"ng-template",null,4,t.W1O)),2&o){const e=t.MAs(5),n=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,3,"lang_business_instructional_work_title")," "),t.xp6(2),t.Q6J("ngIf",n.listGroupScheduleObjs.length>0)("ngIfElse",e)}}let kn=(()=>{class o extends M.Q{isTodayDate(e){if(!e)return!1;var n=new Date;return n.getDay()==e.getDay()&&e.getMonth()==n.getMonth()&&n.getFullYear()==e.getFullYear()}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}formatHour(e){let n=new Date(e??"");return`${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}`}getData(e){e?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.schedulerService.apiSchedulersListPost({page:this.sAztNextPaginationService.curPage,size:this.sAztNextPaginationService.itemPerPage}).subscribe({next:n=>{this.scheduleObjs=this.scheduleObjs.concat(n.list);let a=this.commonService.arrayToDictionary(this.scheduleObjs,u=>u.currentSession?.date?.toString()??""),d=[];Object.entries(a).forEach(([u,w],x)=>{if(w.length>0){let b=w[0],rt=this.formatHour(b.currentSession?.fromTime),st=this.formatHour(b.currentSession?.toTime);var g=(w=w.sort((G,qt)=>(G.currentSession?.sort??0)-(qt.currentSession?.sort??1))).map(G=>({...G,fromTime:this.formatHour(G.currentSession?.fromTime),toTime:this.formatHour(G.currentSession?.toTime)}));const lt={date:new Date(b.currentSession?.date??""),day:b.currentSession?.day,fromTime:rt,toTime:st,sessions:g};d.push(lt)}}),this.listGroupScheduleObjs=d,this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(n.total),this.stopStatusObj()},error:n=>{this.errorStatusObj(n.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_business_instructional_work_title",image:"lang_cms_test_image"}),this.waitDestroy((0,v.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let e=this.commonService.getMyQueryParam("backto");this.backLink=e??"/business/dashboard"})),super.ngOnInit(),this.getData(!1)}constructor(e,n,a){super(),this.activeRoute=e,this.schedulerService=n,this.sAztNextPaginationService=a,this.backLink="",this.returnUrl="/business/instructional-work",this.scheduleObjs=[],this.listGroupScheduleObjs=[]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(A.gz),t.Y36(an.G),t.Y36(te.S))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-azota-business-instructional"]],features:[t._Bn([te.S]),t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"text-md-title","font-medium","truncate","mr-auto","mt-5"],["emptyList",""],["class","pt-5",4,"ngFor","ngForOf"],["class","pt-3 font-medium",4,"ngIf"],[1,"pt-5"],[1,"text-md","font-medium","truncate","mr-auto","title-day",3,"ngClass"],[4,"ngIf"],["class","flex mt-3","style","flex-wrap: wrap",4,"ngFor","ngForOf"],[1,"flex","mt-3",2,"flex-wrap","wrap"],[1,"mr-5"],[1,"text-md","font-medium",2,"white-space","pre"],["azt-track-service","business-instructional-work-wb-lhbFmj",1,"box-teaching-hour","clickable",3,"routerLink","queryParams"],[1,"flex"],[1,"text-md","font-medium","truncate","mr-auto"],[1,"session"],[1,"flex","items-center","mt-1"],[1,"text-sm"],[1,"flex","items-center","justify-between","mt-1"],["style","display: flex; align-items: center;","class","mt-1",4,"ngIf"],[1,"mt-1",2,"display","flex","align-items","center"],[2,"font-weight","500"],["class","show-tickets clickable ml-1",3,"ngStyle",4,"ngFor","ngForOf"],[1,"show-tickets","clickable","ml-1",3,"ngStyle"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"pt-3","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["points","6 9 12 15 18 9"],["class","w-4 h-4 inline-block ml-2",4,"ngIf"],[1,"w-4","h-4","inline-block","ml-2"],[1,"flex","justify-center","pt-3"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,sn,1,0,"azt-loading-effect",1),t.YNc(2,An,6,5,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(3);t.Q6J("headerBackToLink",n.backLink),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",a)}},dependencies:[A.rH,i.mk,i.sg,i.O5,i.PC,Y.l,rn.g,D.n,R._,i.uU,E.lO,k.JV],styles:[".title-day[_ngcontent-%COMP%]{color:#708090;font-weight:800}.box-teaching-hour[_ngcontent-%COMP%]{background:white;padding:15px;border:1px solid steelblue;border-radius:8px;width:100%;max-width:500px}.date-color[_ngcontent-%COMP%]{color:#4682b4}.session[_ngcontent-%COMP%]{background:whitesmoke;border-radius:5px;font-size:12px;padding:0 5px;font-weight:500}.box-teaching-hour[_ngcontent-%COMP%]:hover{background:#f9f9f9}.text-md-title[_ngcontent-%COMP%]{font-size:20px}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}"]}),o})();var yn=c(25804),On=c(84049);class Jt{static formGroupClassrooms(l){let e=l;for(let n=0;n<e.length;n++)if(e.controls[n].controls.classroomId.errors)return{identityRevealed:!0,invalidData:!0};return null}}var wn=c(75470),Zn=c(97638),Tn=c(75986),In=c(4844),Pn=c(23083);function Mn(o,l){1&o&&t._UZ(0,"azt-loading-effect")}function Ln(o,l){1&o&&(t.TgZ(0,"div",19),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_them_lop_hoc_neu_ban_muon_cap_nhat_so_tien")," "))}function zn(o,l){if(1&o&&(t.TgZ(0,"mat-option",31),t._uU(1),t.qZA()),2&o){const e=l.$implicit,n=t.oxw(3);t.Q6J("value",e.id)("disabled",n.isSelectClassroom(e.id)),t.xp6(1),t.hij(" ",e.name," ")}}function jn(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,d=t.oxw(2);return t.KtG(d.removeClassroom(a))}),t.ALo(1,"mytranslate"),t.O4$(),t.TgZ(2,"svg",33),t._UZ(3,"path",34)(4,"path",35)(5,"path",36)(6,"line",37)(7,"line",38),t.qZA()()}2&o&&t.s9C("matTooltip",t.lcZ(1,1,"lang_student_classroom_list_delete"))}function Dn(o,l){1&o&&(t.TgZ(0,"div",39),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_test_config_you_not_yet_class")," "))}function Nn(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",40)(1,"mat-checkbox",41),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",42),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,d=t.oxw(2);return t.KtG(d.removeClassroom(a))}),t.ALo(5,"mytranslate"),t.O4$(),t.TgZ(6,"svg",33),t._UZ(7,"path",34)(8,"path",35)(9,"path",36)(10,"line",37)(11,"line",38),t.qZA()()()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("checked",e.controls.isTryLearning.value),t.xp6(1),t.hij(" ",t.lcZ(3,3,"lang_core_hoc_thu")," "),t.xp6(2),t.s9C("matTooltip",t.lcZ(5,5,"lang_student_classroom_list_delete"))}}function Sn(o,l){if(1&o&&(t.TgZ(0,"div",20)(1,"form",21)(2,"div",22)(3,"div",12)(4,"div",23)(5,"mat-form-field",24)(6,"mat-select",25)(7,"mat-option",26),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.YNc(10,zn,2,3,"mat-option",27),t.qZA()(),t.YNc(11,jn,8,3,"button",28),t.qZA(),t.YNc(12,Dn,3,3,"div",29),t.qZA()(),t.YNc(13,Nn,12,7,"div",30),t.qZA()()),2&o){const e=l.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("formGroup",e),t.xp6(5),t.Q6J("formControl",e.controls.classroomId),t.xp6(1),t.Q6J("value",0),t.xp6(1),t.hij(" ---",t.lcZ(9,8,"lang_student_classroom_list_utils_create_class_new_course_choose_class")," "),t.xp6(2),t.Q6J("ngForOf",n.classroomOwner),t.xp6(1),t.Q6J("ngIf",n.isSelectedMonth()),t.xp6(1),t.Q6J("ngIf",e.controls.classroomId.errors),t.xp6(1),t.Q6J("ngIf",!n.isSelectedMonth())}}function Fn(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"azt-mat-dialog-content")(1,"div",6)(2,"div",7)(3,"div",8)(4,"h3",9),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t._UZ(7,"azt-form-enter-info-student",10),t.qZA(),t.TgZ(8,"div",11)(9,"div",12),t._UZ(10,"azt-checkbox-month",13),t.TgZ(11,"h3",14),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.YNc(14,Ln,3,3,"div",15),t.YNc(15,Sn,14,10,"div",16),t.TgZ(16,"div",17)(17,"div",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.addClassroom())}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.hij(" ",t.lcZ(6,9,"lang_auto_thong_tin_chung")," "),t.xp6(2),t.Q6J("studentForm",e.studentForm)("hasUser",!!e.data&&e.data.hasUser),t.xp6(3),t.Q6J("checkboxMonth",e.checkboxMonth)("histories",e.histories),t.xp6(2),t.hij(" ",t.lcZ(13,11,"lang_auto_lop_hoc")," "),t.xp6(2),t.Q6J("ngIf",0==e.formClassrooms.controls.length),t.xp6(1),t.Q6J("ngForOf",e.formClassrooms.controls),t.xp6(3),t.hij(" + ",t.lcZ(19,13,"lang_student_classroom_list_utils_create_class_add_class")," ")}}let Un=(()=>{class o extends N.e{removeClassroom(e){let n=this.formClassrooms.controls.filter(a=>a!=e);this.formClassrooms=new r.Oe(n)}addClassroom(){let e=this.formClassrooms.controls;e.push(new r.cw({classroomId:new r.NI(0,{nonNullable:!0,validators:[r.kI.min(1)]}),isTryLearning:new r.NI(!1,{nonNullable:!0})})),this.formClassrooms=new r.Oe(e,{validators:[Jt.formGroupClassrooms]}),this.formClassrooms.updateValueAndValidity()}isSelectClassroom(e){return null!=this.formClassrooms.controls.find(n=>n.controls.classroomId.value==e)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(e=>1==e.selected)}saveData(){var e=this.studentForm.form.getRawValue(),n=[],a=[];this.checkboxMonth.checkboxMonth.filter(u=>1==u.selected).forEach(u=>{a.push({month:u.month,year:u.year})}),this.formClassrooms.controls.forEach(u=>{n.push({classroomId:u.controls.classroomId.value,trialLearning:!(a.length>0)&&u.controls.isTryLearning.value})}),this.isSaving=!0;var d={id:this.data?this.data.id:void 0,fullName:e.fullName,gender:e.gender,phone:e.phoneNumber,email:e.email,birthday:e.birthday?this.timeService.formatDateTimeToPostToServer(new Date(e.birthday).toDateString()):void 0,password:e.password,classrooms:n,attachPayments:a,schoolName:e.school,facebookLink:e.facebookLink,identificationNumber:e.identificationNumber?Number(e.identificationNumber):void 0};this.waitDestroy(this.paymentService.apiPaymentStudentPost(d).subscribe({next:u=>{this.isSaving=!1,this.dialogRef.close(!0),this.successStatusObj(this.data?"lang_core_cap_nhat_thanh_cong_hoc_sinh_nop_tien":"lang_core_them_thanh_cong_hoc_sinh_nop_tien",!0)},error:u=>{this.isSaving=!1,this.errorStatusObj(u.error.message,!0)}}))}getClassroomName(e){var n=this.classroomOwner.filter(a=>e==a.id)??[];return n.length>0?n[0].name:""}getHistores(){this.data?this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.data.id).subscribe({next:e=>{this.histories=e.histories,this.checkboxMonth.checkboxMonth.map(a=>a.selected=null!=this.histories.find(d=>d.month==a.month&&this.currentDate.getFullYear()==d.year));var n=[];e.classrooms.forEach(a=>{n.push(new r.cw({classroomId:new r.NI(a.classroomId,{nonNullable:!0,validators:[r.kI.min(1)]}),isTryLearning:new r.NI(a.trialLearning,{nonNullable:!0})}))}),this.formClassrooms=new r.Oe(n,{validators:[Jt.formGroupClassrooms]}),this.stopStatusObj()},error:e=>{this.isSaving=!1,this.errorStatusObj(e.error.message,!0)}})):this.stopStatusObj()}getOwnerClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupListMyClassroomsGet().subscribe(e=>{e.success?(this.classroomOwner=e.data?.objs??[],this.getHistores()):(this.errorStatusObj(e.message??"lang_core_co_loi_khi_lay_danh_danh_sach_lop",!0),this.stopStatusObj())}))}ngOnInit(){super.ngOnInit(),this.getOwnerClassroom()}constructor(e,n,a,d,u,w,x){super(x,w),this.classroomGroupService=e,this.sAztDialogService=n,this.sAztTimeService=a,this.timeService=d,this.paymentService=u,this.dialogRef=w,this.data=x,this.histories=[],this.checkboxMonth=new On.$,this.studentForm=new yn.h,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,x&&(this.checkboxMonth.studentId=this.data.id,x.hasUser?this.studentForm.form=new r.cw({fullName:new r.NI(x.fullName??"",{nonNullable:!0,validators:[r.kI.required]}),gender:new r.NI(x.gender??0,{nonNullable:!0}),birthday:new r.NI(x.birthday,{nonNullable:!0}),email:new r.NI(x.email??"",{nonNullable:!0,validators:[r.kI.email,r.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new r.NI(x.phone??"",{nonNullable:!0,validators:[r.kI.required,r.kI.pattern(/^[0-9\-]*$/),r.kI.minLength(10),r.kI.maxLength(10)]}),identificationNumber:new r.NI(x.identificationNumber?x.identificationNumber.toString():"",{nonNullable:!0,validators:[r.kI.min(1),r.kI.maxLength(6),r.kI.pattern("^[0-9]*$")]}),facebookLink:new r.NI(x.facebookLink,{nonNullable:!0}),school:new r.NI(x.schoolName,{nonNullable:!0})}):this.studentForm.form.setValue({fullName:x.fullName??"",gender:x.gender??0,birthday:x.birthday,email:x.email??"",phoneNumber:x.phone??"",identificationNumber:x.identificationNumber?x.identificationNumber.toString():"",facebookLink:x.facebookLink,school:x.schoolName,password:""})),this.formClassrooms=new r.Oe([new r.cw({classroomId:new r.NI(0,{nonNullable:!0,validators:[r.kI.min(1)]}),isTryLearning:new r.NI(!1,{nonNullable:!0})})],{validators:[Jt.formGroupClassrooms]})}ngOnDestroy(){super.ngOnDestroy()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(wn.c8),t.Y36(B.C),t.Y36(f.D),t.Y36(f.D),t.Y36(Zn.t),t.Y36(s.so,8),t.Y36(s.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["azt-send-feedback"]],features:[t._Bn([{provide:K.fM,useClass:Q.WG,deps:[z.Ad,W.o8]},{provide:K.ab,useFactory:T.fX,deps:[f.D]}]),t.qOj],decls:11,vars:10,consts:[[1,"box"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","text-right","border-t","border-slate-200/60","dark:border-darkmode-400"],["azt-track-service","dialog-confirm-EqayhO0oQs",1,"mr-2","btn","btn-secondary",3,"disabled","click"],["azt-track-service","dialog-confirm-rXeH54A3ZE",1,"btn","btn-primary",3,"disabled","click"],[1,"container-fluid","mt-2","mb-2","overflow-hidden","document-market-list","w-full"],[1,"grid","grid-cols-12","px-2"],[1,"col-span-12","md:col-span-6","px-3","py-2"],[1,"text-md","font-medium","flex","items-center"],[3,"studentForm","hasUser"],[1,"col-span-12","md:col-span-6","px-3","py-2","md:border-l","md:border-slate-200/60","dark:border-darkmode-400"],[1,"w-full"],[3,"checkboxMonth","histories"],[1,"text-md","font-medium","flex","items-center","mt-2"],["class","mt-2 text-xs ml-1",4,"ngIf"],["class","form-single-class p-2 mt-1",4,"ngFor","ngForOf"],[1,"flex","justify-start"],["azt-track-service","add-or-edit-tuition-fee-mnjxAfd3U",1,"btn-add-class","clickable","mt-2",3,"click"],[1,"mt-2","text-xs","ml-1"],[1,"form-single-class","p-2","mt-1"],[3,"formGroup"],[1,"flex"],[1,"flex","items-center"],["id","classroomId","appearance","fill",1,"mt-1",2,"width","100%","background","#fff"],["name","classroomId",3,"formControl"],[3,"value"],[3,"value","disabled",4,"ngFor","ngForOf"],["azt-track-service","group-zQLSni7Q98","class","btn-delete-room ml-2",3,"matTooltip","click",4,"ngIf"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-2 flex justify-between",4,"ngIf"],[3,"value","disabled"],["azt-track-service","group-zQLSni7Q98",1,"btn-delete-room","ml-2",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-trash-2",2,"color","red"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","x2","10","y1","11","y2","17"],["x1","14","x2","14","y1","11","y2","17"],[1,"text-xs","text-danger","mt-1"],[1,"mt-2","flex","justify-between"],["formControlName","isTryLearning",1,"example-margin",3,"checked"],["azt-track-service","group-zQLSni7Q98",1,"btn-delete-room",3,"matTooltip","click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,Mn,1,0,"azt-loading-effect",1),t.YNc(2,Fn,20,15,"ng-template",null,2,t.W1O),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return n.dialogRef.close()}),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"button",5),t.NdJ("click",function(){return n.saveData()}),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&e){const a=t.MAs(3);t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",a),t.xp6(4),t.Q6J("disabled",n.isSaving),t.xp6(1),t.Oqu(t.lcZ(7,6,"lang_cms_common_close_btn")),t.xp6(2),t.Q6J("disabled",!n.isSaving&&(n.formClassrooms.invalid||n.studentForm.form.invalid)),t.xp6(1),t.Oqu(t.lcZ(10,8,"lang_button_save"))}},dependencies:[i.sg,i.O5,z.ey,Tn.oG,zt.KE,jt.gD,mt.gM,r._Y,r.JJ,r.JL,r.oH,r.sg,r.u,Y.l,dt.M,Ut.R,In.A,Pn.$,k.JV],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:aliceblue;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:lightgray;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:rgba(255,255,255,.8901960784);padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]}),o})();var En=c(68719),Jn=c(45072);function qn(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"mat-option",10),t.NdJ("click",function(){const d=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.filterByClassId(d.id))}),t._uU(1),t.qZA()}if(2&o){const e=l.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Qn(o,l){1&o&&(t.TgZ(0,"div",15),t._UZ(1,"azt-loading-effect"),t.qZA())}function Yn(o,l){1&o&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Bn(o,l){1&o&&(t.TgZ(0,"span"),t._uU(1,"/"),t.qZA())}function Rn(o,l){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,Bn,2,0,"span",18),t._uU(3),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.lastMonthPaid," "),t.xp6(1),t.Q6J("ngIf",e.lastMonthPaid),t.xp6(1),t.hij(" ",e.lastYearPaid," ")}}function Gn(o,l){1&o&&(t.TgZ(0,"span",35),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_hoc_thu")," "))}function Vn(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"tr")(1,"td",29),t.NdJ("click",function(){const d=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.addOrEditTuitionFee(d))}),t._UZ(2,"azt-student-info-box",30),t.qZA(),t.TgZ(3,"td",31),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(6,"td",32),t._uU(7),t.qZA(),t.TgZ(8,"td",33),t.YNc(9,Rn,4,3,"span",18),t.YNc(10,Gn,3,3,"span",34),t.qZA()()}if(2&o){const e=l.$implicit;let n;t.xp6(2),t.Q6J("name",e.fullName)("phone",e.phone)("email",e.email)("avatar",e.avatar)("gender",e.gender)("birthday",e.birthday)("hasUser",e.hasUser),t.xp6(2),t.Oqu(e.identificationNumber?t.xi3(5,11,e.identificationNumber,6):""),t.xp6(3),t.hij(" ",null!==(n=null==e.classroom?null:e.classroom.name)&&void 0!==n?n:""," "),t.xp6(2),t.Q6J("ngIf",e.lastMonthPaid||e.lastYearPaid),t.xp6(1),t.Q6J("ngIf",!e.lastMonthPaid||!e.lastYearPaid)}}const ee=function(){return[]};function Kn(o,l){if(1&o&&(t.TgZ(0,"div")(1,"div",23)(2,"table",24)(3,"thead")(4,"tr")(5,"th",25),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"th",26),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"th",27),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"th",27),t._uU(15),t.ALo(16,"mytranslate"),t.ALo(17,"mytranslate"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,Vn,11,14,"tr",28),t.qZA()()()()),2&o){const e=t.oxw(2);let n;t.xp6(6),t.Oqu(t.lcZ(7,6,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(10,8,"lang_auto_so_bao_danh")),t.xp6(3),t.Oqu(t.lcZ(13,10,"lang_auto_lop")),t.xp6(3),t.AsE("",t.lcZ(16,12,"lang_test_market_withdraw_time")," ",t.lcZ(17,14,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.xp6(4),t.Q6J("ngForOf",null!==(n=null==e.listPayment?null:e.listPayment.list)&&void 0!==n?n:t.DdM(16,ee))}}function Wn(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",37),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.goBack())}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_core_not_found_student"),"... "),t.xp6(3),t.Oqu(t.lcZ(5,4,"lang_powerpoint_frontend_chart_back")))}function Hn(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"azt-paging",38),t.NdJ("goToPaginationPage",function(a){t.CHM(e);const d=t.oxw(2);return t.KtG(d.setPageStudent(a))}),t.ALo(1,"ceilTotalPage"),t.qZA()}if(2&o){const e=t.oxw(2);let n;t.Q6J("totalPaginationPage",t.xi3(1,2,null!==(n=null==e.listPayment?null:e.listPayment.total)&&void 0!==n?n:0,20))("paging",e.page)}}function $n(o,l){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const e=t.oxw(2);let n;t.xp6(1),t.AsE("",null!==(n=null==e.listPayment?null:e.listPayment.total)&&void 0!==n?n:0," ",t.lcZ(2,2,"lang_auto_hoc_sinh"),"")}}function Xn(o,l){if(1&o&&(t.TgZ(0,"div",16),t.YNc(1,Yn,3,3,"div",17),t.YNc(2,Kn,20,17,"div",18),t.YNc(3,Wn,6,6,"div",19),t.TgZ(4,"div",20),t._UZ(5,"div"),t.YNc(6,Hn,2,5,"azt-paging",21),t.YNc(7,$n,3,4,"div",18),t.qZA()()),2&o){const e=t.oxw();let n,a,d,u;t.xp6(1),t.Q6J("ngIf",!e.searchContentObj.isLoading&&0==(null==e.listPayment?null:e.listPayment.total)&&""==e.searchContentObj.searchContent),t.xp6(1),t.Q6J("ngIf",(null!==(n=null==e.listPayment?null:e.listPayment.total)&&void 0!==n?n:0)>0),t.xp6(1),t.Q6J("ngIf",!e.searchContentObj.isLoading&&0==(null!==(a=null==e.listPayment?null:e.listPayment.list)&&void 0!==a?a:t.DdM(5,ee)).length&&""!=e.searchContentObj.searchContent),t.xp6(3),t.Q6J("ngIf",(null!==(d=null==e.listPayment?null:e.listPayment.total)&&void 0!==d?d:0)>20),t.xp6(1),t.Q6J("ngIf",(null!==(u=null==e.listPayment?null:e.listPayment.total)&&void 0!==u?u:0)>0)}}let ti=(()=>{class o extends M.Q{goBack(){this.searchContentObj.resetSearchContentEvent()}search(e){this.isLoading=!0,this.searchContentObj.setLoading(!0),this.searchContentObj=e,this.getData(0==(this.listPayment?.list??[]).length?this.pageStudent:1)}setPageStudent(e){this.myNavigation("/business/student-management/"+e),this.isLoading=!0,this.pageStudent=e,this.getData(this.pageStudent)}addOrEditTuitionFee(e){this.sAztDialogService.open(Un,{width:"900px",restoreFocus:!1,data:e}).afterClosed().subscribe(n=>{n&&this.getData(this.pageStudent)})}filterByClassId(e){this.classroomId=e,this.getData(this.page)}getData(e){this.page=e,this.waitDestroy(this.studentService.apiStudentsListPost({page:this.page,size:20,classroomId:this.classroomId,name:this.searchContentObj.searchContent,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!0,me:!1}).subscribe(a=>{a?(this.listPayment=a,this.isLoading=!1):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.isLoading=!1),this.searchContentObj.setLoading(!1)}))}getOwnerClassroom(){this.waitDestroy(this.classroomGroupService.apiClassroomGroupListMyClassroomsGet().subscribe(e=>{e.success?(this.classroomOwner=e.data?.objs??[],this.getData(this.page)):(this.errorStatusObj(e.message??"lang_core_co_loi_khi_lay_danh_danh_sach_lop",!0),this.isLoading=!1)}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_hoc_phi",image:"lang_cms_test_image"}),this.commonService.getTranslate("lang_core_hoc_thu").subscribe(e=>{this.langName=e}),this.waitDestroy((0,v.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let e=this.commonService.getMyQueryParam("backto");this.page=Number(this.commonService.getMyParam(this.activeRoute,"page"))??1,this.backLink=e??"/business/dashboard"})),super.ngOnInit(),this.getOwnerClassroom()}constructor(e,n,a,d){super(),this.sAztDialogService=e,this.studentService=n,this.activeRoute=a,this.classroomGroupService=d,this.backLink="",this.isLoading=!0,this.langName="",this.pageStudent=1,this.page=1,this.searchContentObj=new $.h,this.classroomOwner=[]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(B.C),t.Y36(En.V),t.Y36(A.gz),t.Y36(Jn.c))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-azota-business-tuition"]],features:[t.qOj],decls:24,vars:22,consts:[[3,"headerBackToLink"],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","grid","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["id","classroomId","appearance","fill",1,"ml-0","sm:ml-2","mt-3","sm:mt-0",2,"border-radius","5px","background","white"],["name","classroomId",3,"placeholder"],[3,"value","click"],[3,"value","click",4,"ngFor","ngForOf"],["azt-track-service","class-list-details-s9VkYOpJZKc",1,"btn","btn-primary","shadow-md","w-full","sm:w-auto",3,"click"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"w-full","flex","justify-center","items-center"],[1,"intro-y","col-span-12","overflow-auto"],["class","flex justify-center mt-5",4,"ngIf"],[4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"mt-2","pb-3","flex","justify-between","items-center"],[3,"totalPaginationPage","paging","goToPaginationPage",4,"ngIf"],[1,"flex","justify-center","mt-5"],[2,"height","100%"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","phone","email","avatar","gender","birthday","hasUser"],[1,"text-center","capitalize"],[1,"text-center",2,"min-width","100px","max-width","150px"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],[1,"text-slate-500"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"],[3,"totalPaginationPage","paging","goToPaginationPage"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.NdJ("onSearch",function(d){return n.search(d.searchObj)}),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"mat-form-field",8)(12,"mat-select",9),t.ALo(13,"mytranslate"),t.TgZ(14,"mat-option",10),t.NdJ("click",function(){return n.filterByClassId()}),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.YNc(17,qn,2,2,"mat-option",11),t.qZA()()(),t.TgZ(18,"button",12),t.NdJ("click",function(){return n.addOrEditTuitionFee()}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()(),t.YNc(21,Qn,2,0,"div",13),t.YNc(22,Xn,8,6,"ng-template",null,14,t.W1O),t.qZA()()),2&e){const a=t.MAs(23);t.Q6J("headerBackToLink",n.backLink),t.xp6(4),t.hij(" ",t.lcZ(5,12,"lang_business_tuition_fee_title_top")," "),t.xp6(5),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(10,14,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",n.searchContentObj),t.xp6(3),t.s9C("placeholder",t.lcZ(13,16,"lang_core_tim_theo_lop")),t.xp6(2),t.Q6J("value",0),t.xp6(1),t.hij(" ",t.lcZ(16,18,"lang_auto_tat_ca_cac_lop")," "),t.xp6(2),t.Q6J("ngForOf",n.classroomOwner),t.xp6(2),t.hij("+ ",t.lcZ(20,20,"lang_student_utils_add_student"),""),t.xp6(2),t.Q6J("ngIf",n.isLoading)("ngIfElse",a)}},dependencies:[i.sg,i.O5,z.ey,zt.KE,jt.gD,Y.l,ft.L,ut.W,xt.a,R._,k.JV,k.gw,k.po],encapsulation:2}),o})();function ei(o,l){1&o&&t._UZ(0,"azt-loading-effect")}const _t=function(o){return[o]};function oi(o,l){1&o&&(t.TgZ(0,"div",8)(1,"a",9),t.ALo(2,"navigationLocalize"),t.TgZ(3,"div",10)(4,"span",11),t._UZ(5,"lucide-icon",12),t.qZA(),t.TgZ(6,"div",13),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()()()),2&o&&(t.xp6(1),t.Q6J("routerLink",t.VKq(6,_t,t.lcZ(2,2,"/business/infrastructure"))),t.xp6(6),t.hij(" ",t.lcZ(8,4,"lang_business_infrastructure_title")," "))}function ni(o,l){1&o&&(t.TgZ(0,"div",8)(1,"a",14),t.ALo(2,"navigationLocalize"),t.TgZ(3,"div",10)(4,"span",11),t.O4$(),t.TgZ(5,"svg",15)(6,"g",16),t._UZ(7,"path",17),t.qZA()()(),t.kcU(),t.TgZ(8,"div",13),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()()),2&o&&(t.xp6(1),t.Q6J("routerLink",t.VKq(6,_t,t.lcZ(2,2,"/business/educational-program"))),t.xp6(8),t.hij(" ",t.lcZ(10,4,"lang_business_educational_program_title")," "))}function ii(o,l){1&o&&(t.TgZ(0,"div",8)(1,"a",18),t.ALo(2,"navigationLocalize"),t.TgZ(3,"div",10)(4,"span",11),t.O4$(),t.TgZ(5,"svg",19)(6,"g",20),t._UZ(7,"path",21),t.qZA()()(),t.kcU(),t.TgZ(8,"div",13),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()()),2&o&&(t.xp6(1),t.Q6J("routerLink",t.VKq(6,_t,t.lcZ(2,2,"/business/instructional-work"))),t.xp6(8),t.hij(" ",t.lcZ(10,4,"lang_business_instructional_work_title")," "))}function ai(o,l){1&o&&(t.TgZ(0,"div",8)(1,"a",22),t.ALo(2,"navigationLocalize"),t.TgZ(3,"div",10)(4,"span",11),t._UZ(5,"lucide-icon",23),t.qZA(),t.TgZ(6,"div",13),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()()()),2&o&&(t.xp6(1),t.Q6J("routerLink",t.VKq(6,_t,t.lcZ(2,2,"/business/student-management/1"))),t.xp6(6),t.hij(" ",t.lcZ(8,4,"lang_notify_list_students")," "))}function ri(o,l){1&o&&(t.TgZ(0,"div",8)(1,"a",22),t.ALo(2,"navigationLocalize"),t.TgZ(3,"div",10)(4,"span",11),t._UZ(5,"lucide-icon",24),t.qZA(),t.TgZ(6,"div",13),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()()()),2&o&&(t.xp6(1),t.Q6J("routerLink",t.VKq(6,_t,t.lcZ(2,2,"/business/account-management"))),t.xp6(6),t.hij(" ",t.lcZ(8,4,"lang_core_quan_ly_tai_khoan")," "))}function si(o,l){1&o&&(t.TgZ(0,"div",3)(1,"div",4),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",5)(5,"div",6),t.YNc(6,oi,9,8,"div",7),t.ALo(7,"async"),t.ALo(8,"allowFeatureBusinessForUser"),t.YNc(9,ni,11,8,"div",7),t.ALo(10,"async"),t.ALo(11,"allowFeatureBusinessForUser"),t.YNc(12,ii,11,8,"div",7),t.ALo(13,"async"),t.ALo(14,"allowFeatureBusinessForUser"),t.YNc(15,ai,9,8,"div",7),t.ALo(16,"async"),t.ALo(17,"allowFeatureBusinessForUser"),t.YNc(18,ri,9,8,"div",7),t.ALo(19,"async"),t.ALo(20,"allowFeatureBusinessForUser"),t.qZA()()()),2&o&&(t.xp6(2),t.hij(" ",t.lcZ(3,6,"lang_cms_business_dashboard_title")," "),t.xp6(4),t.Q6J("ngIf",t.lcZ(7,8,t.Dn7(8,10,"","training_center_infrastructure",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(10,14,t.Dn7(11,16,"","training_center_curriculum",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(13,20,t.Dn7(14,22,"","training_center_instructional",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(16,26,t.Dn7(17,28,"","training_center_tuition",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(19,32,t.Dn7(20,34,"","training_center_manage_account",!1))))}let li=(()=>{class o extends M.Q{ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_business_dashboard_title",description:"lang_cms_business_dashboard_description",image:"lang_cms_test_image"}),super.ngOnInit()}}return o.\u0275fac=function(){let l;return function(n){return(l||(l=t.n5z(o)))(n||o)}}(),o.\u0275cmp=t.Xpm({type:o,selectors:[["app-azota-business-dashboard"]],features:[t.qOj],decls:6,vars:7,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["isReadyBusinessPermision",""],[1,"azt-dashboard","w-full","lg:w-80%","mx-auto","mt-5"],[1,"text-lg","font-medium","intro-y"],[1,"mb-3","grid","grid-cols-12","intro-y","sm:gap-10"],[1,"col-span-12","grid","grid-cols-12","gap-6","mt-4","flex","items-center"],["class","col-span-6 md:col-span-3 intro-y","tourAnchor","azt-tour-1",4,"ngIf"],["tourAnchor","azt-tour-1",1,"col-span-6","md:col-span-3","intro-y"],["azt-track-service","dashboard-MZWdTjtFv",3,"routerLink"],[1,"box","py-8","zoom-in"],[1,"block","w-12","h-12","text-primary","mx-auto"],["name","building"],[1,"font-medium","text-center","text-base","mt-3"],["azt-track-service","dashboard-dbDZTHWC53",3,"routerLink"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 38 40","version","1.1","width","48","height","48","stroke-width","2","stroke-linecap","round"],["_ngcontent-ng-c1409655624","","transform","matrix(1 0 0 1 -313 -361 )"],["_ngcontent-ng-c1409655624","","d","M 36.0612244897959 6.99544270833333 C 36.6390556222489 7.22330729166667 37.0876350540216 7.54991319444444 37.406962785114 7.97526041666667 C 38.015206082433 8.84114583333333 38.1520608243297 9.82096354166667 37.8175270108043 10.9147135416667 L 31.5450180072029 31.5592447916667 C 31.2561024409764 32.5314670138889 30.6744697879152 33.3479817708333 29.8001200480192 34.0087890625 C 28.9257703081233 34.6695963541667 27.9943977591036 35 27.0060024009604 35 L 5.953181272509 35 C 4.78231292517007 35 3.65326130452181 34.5936414930556 2.56602641056423 33.7809244791667 C 1.47879151660664 32.9682074652778 0.722288915566227 31.9694010416667 0.296518607442977 30.7845052083333 C -0.0684273709483793 29.7667100694444 -0.0836334533813525 28.8020833333333 0.250900360144058 27.890625 C 0.250900360144058 27.8298611111111 0.273709483793517 27.6247829861111 0.319327731092437 27.275390625 C 0.364945978391357 26.9259982638889 0.395358143257303 26.6449652777778 0.410564225690276 26.4322916666667 C 0.425770308123249 26.3107638888889 0.40296118447379 26.1474609375 0.342136854741897 25.9423828125 C 0.281312525010004 25.7373046875 0.258503401360544 25.5891927083333 0.273709483793517 25.498046875 C 0.304121648659464 25.3309461805556 0.364945978391357 25.1714409722222 0.456182472989196 25.01953125 C 0.547418967587035 24.8676215277778 0.672869147659064 24.6891276041667 0.832533013205282 24.4840494791667 C 0.992196878751501 24.2789713541667 1.11764705882353 24.1004774305556 1.20888355342137 23.9485677083333 C 1.55862344937975 23.3713107638889 1.90076030412165 22.6763237847222 2.23529411764706 21.8636067708333 C 2.56982793117247 21.0508897569444 2.79791916766707 20.3559027777778 2.91956782713085 19.7786458333333 C 2.96518607442977 19.6267361111111 2.96898759503802 19.3988715277778 2.93097238895558 19.0950520833333 C 2.89295718287315 18.7912326388889 2.88915566226491 18.5785590277778 2.91956782713085 18.45703125 C 2.96518607442977 18.2899305555556 3.09443777511004 18.0772569444444 3.30732292917167 17.8190104166667 C 3.52020808323329 17.5607638888889 3.64945978391357 17.3860677083333 3.69507803121249 17.294921875 C 4.01440576230492 16.748046875 4.33373349339736 16.0492621527778 4.6530612244898 15.1985677083333 C 4.97238895558223 14.3478732638889 5.1624649859944 13.6642795138889 5.22328931572629 13.1477864583333 C 5.23849539815926 13.0110677083333 5.21948779511805 12.7680121527778 5.16626650660264 12.4186197916667 C 5.11304521808724 12.0692274305556 5.11684673869548 11.8565538194444 5.17767106842737 11.7805989583333 C 5.23849539815926 11.5831163194444 5.40576230492197 11.3514539930556 5.67947178871549 11.0856119791667 C 5.953181272509 10.8197699652778 6.12044817927171 10.6488715277778 6.1812725090036 10.5729166666667 C 6.47018807523009 10.1779513888889 6.79331732693077 9.5361328125 7.15066026410564 8.6474609375 C 7.50800320128051 7.7587890625 7.71708683473389 7.02582465277778 7.77791116446579 6.44856770833333 C 7.79311724689876 6.32703993055555 7.7703081232493 6.13335503472222 7.70948379351741 5.86751302083333 C 7.64865946378552 5.60167100694444 7.63345338135254 5.400390625 7.66386554621849 5.263671875 C 7.69427771108443 5.14214409722222 7.76270508203281 5.00542534722222 7.86914765906362 4.853515625 C 7.97559023609444 4.70160590277778 8.1124449779912 4.52690972222222 8.2797118847539 4.32942708333333 C 8.44697879151661 4.13194444444444 8.57623049219688 3.97243923611111 8.66746698679472 3.85091145833333 C 8.78911564625851 3.66861979166667 8.91456582633053 3.43695746527778 9.0438175270108 3.15592447916667 C 9.17306922769108 2.87489149305555 9.28711484593838 2.60904947916667 9.3859543817527 2.3583984375 C 9.48479391756703 2.10774739583333 9.60644257703081 1.83430989583333 9.75090036014406 1.5380859375 C 9.8953581432573 1.24186197916667 10.0436174469788 0.998806423611109 10.1956782713085 0.808919270833332 C 10.3477390956383 0.619032118055551 10.5492196878752 0.440538194444441 10.8001200480192 0.2734375 C 11.0510204081633 0.106336805555551 11.3247298919568 0.0189887152777773 11.6212484993998 0.011393229166668 C 11.9177671068427 0.00379774305555081 12.2789115646259 0.045572916666668 12.7046818727491 0.13671875 L 12.6818727490996 0.205078125 C 13.2597038815526 0.068359375 13.6474589835934 0 13.8451380552221 0 L 31.202881152461 0 C 32.328131252501 0 33.1948779511805 0.425347222222219 33.8031212484994 1.27604166666667 C 34.4113645458183 2.12673611111111 34.5482192877151 3.11414930555555 34.2136854741897 4.23828125 L 27.9639855942377 24.8828125 C 27.4165666266507 26.6905381944444 26.8729491796719 27.8564453125 26.3331332533013 28.3805338541667 C 25.7933173269308 28.9046223958333 24.8163265306122 29.1666666666667 23.4021608643457 29 L 3.58103241296519 29 C 3.17046818727491 29.1666666666667 2.88155262104842 29.2805989583333 2.71428571428571 29.5084635416667 C 2.54701880752301 29.7515190972222 2.53941576630652 30.078125 2.69147659063625 30.48828125 C 3.05642256902761 31.5516493055556 4.15126050420168 32.0833333333333 5.97599039615846 32 L 27.0288115246098 32 C 27.4697879151661 32.0833333333333 27.8955582232893 31.9656032986111 28.3061224489796 31.7301432291667 C 28.7166866746699 31.4946831597222 28.9827931172469 31.1794704861111 29.1044417767107 30.7845052083333 L 35.9471788715486 8.29427083333333 C 36.0536214485794 7.96006944444444 36.0916366546619 7.52712673611111 36.0612244897959 6.99544270833333 Z M 13.6170468187275 6.5625 L 13.1380552220888 8.02083333333333 C 13.0772308923569 8.21831597222222 13.0924369747899 8.38921440972222 13.1836734693878 8.53352864583333 C 13.2749099639856 8.67784288194444 13.4269707883153 8.75 13.639855942377 9 L 27.5078031212485 9 C 27.7054821928772 8.75 27.8993597438976 8.67784288194444 28.0894357743097 8.53352864583333 C 28.2795118047219 8.38921440972222 28.4049619847939 8.21831597222222 28.4657863145258 8.02083333333333 L 28.9447779111645 6.5625 C 29.0056022408964 6.36501736111111 28.9903961584634 6.19411892361111 28.8991596638655 6.0498046875 C 28.8079231692677 5.90549045138889 28.655862344938 5.83333333333333 28.4429771908764 6 L 14.5750300120048 6 C 14.3773509403762 5.83333333333333 14.1834733893557 5.90549045138889 13.9933973589436 6.0498046875 C 13.8033213285314 6.19411892361111 13.6778711484594 6.36501736111111 13.6170468187275 6.5625 Z M 11.7238895558223 12.3958333333333 L 11.2448979591837 13.8541666666667 C 11.1840736294518 14.0516493055556 11.1992797118848 14.2225477430556 11.2905162064826 14.3668619791667 C 11.3817527010804 14.5111762152778 11.5338135254102 14.5833333333333 11.7466986794718 15 L 25.6146458583433 15 C 25.812324929972 14.5833333333333 26.0062024809924 14.5111762152778 26.1962785114046 14.3668619791667 C 26.3863545418167 14.2225477430556 26.5118047218888 14.0516493055556 26.5726290516206 13.8541666666667 L 27.0516206482593 12.3958333333333 C 27.1124449779912 12.1983506944444 27.0972388955582 12.0274522569444 27.0060024009604 11.8831380208333 C 26.9147659063625 11.7388237847222 26.7627050820328 11.6666666666667 26.5498199279712 12 L 12.6818727490996 12 C 12.484193677471 11.6666666666667 12.2903161264506 11.7388237847222 12.1002400960384 11.8831380208333 C 11.9101640656263 12.0274522569444 11.7847138855542 12.1983506944444 11.7238895558223 12.3958333333333 Z ","fill-rule","nonzero","stroke","none","transform","matrix(1 0 0 1 313 361 )","fill","#1e3fb0"],["azt-track-service","dashboard-WiSckpXd7J",3,"routerLink"],[0,"xmlns","xlink","http://www.w3.org/1999/xlink","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 38 40","version","1.1","width","48","height","48"],["transform","matrix(1 0 0 1 -892 -177 )"],["d","M 17.1345062429058 12.9854991634133 C 18.0474839197881 13.8410485220301 18.5039727582293 14.877858337981 18.5039727582293 16.095928611266 C 18.5039727582293 17.2994980479643 18.0474839197881 18.3326826547685 17.1345062429058 19.1954824316788 C 16.2215285660235 20.058282208589 15.1252364737041 20.4896820970441 13.8456299659478 20.4896820970441 C 12.5660234581915 20.4896820970441 11.4697313658721 20.058282208589 10.5567536889898 19.1954824316788 C 9.64377601210746 18.3326826547685 9.18728717366629 17.2994980479643 9.18728717366629 16.095928611266 C 9.18728717366629 14.877858337981 9.64377601210746 13.8410485220301 10.5567536889898 12.9854991634133 C 11.4697313658721 12.1299498047964 12.5660234581915 11.702175125488 13.8456299659478 11.702175125488 C 15.1252364737041 11.702175125488 16.2215285660235 12.1299498047964 17.1345062429058 12.9854991634133 Z M 27.9716231555051 12.9854991634133 C 28.8774120317821 13.8410485220301 29.3303064699205 14.877858337981 29.3303064699205 16.095928611266 C 29.3303064699205 17.2994980479643 28.8774120317821 18.3326826547685 27.9716231555051 19.1954824316788 C 27.0658342792281 20.058282208589 25.9659477866061 20.4896820970441 24.671963677639 20.4896820970441 C 23.3923571698827 20.4896820970441 22.2960650775634 20.058282208589 21.383087400681 19.1954824316788 C 20.4701097237987 18.3326826547685 20.0136208853575 17.2994980479643 20.0136208853575 16.095928611266 C 20.0136208853575 14.877858337981 20.4701097237987 13.8410485220301 21.383087400681 12.9854991634133 C 22.2960650775634 12.1299498047964 23.3923571698827 11.702175125488 24.671963677639 11.702175125488 C 25.9659477866061 11.702175125488 27.0658342792281 12.1299498047964 27.9716231555051 12.9854991634133 Z M 32.6299659477866 20.7615727830452 C 33.1619371925842 20.5368098159509 33.679530836171 20.2866703848299 34 20.0111544896821 L 34 5.50306748466258 C 34.1827468785471 4.2414947016174 33.9527052591752 3.34606804238706 33.4926220204313 2.81678750697156 C 33.0325387816875 2.28750697155605 32.2345819144911 2.0228667038483 31.0987514188422 2 L 7.11691259931896 2 C 5.92357169882709 2.0228667038483 5.11483163072266 2.26938092582264 4.69069239500568 2.76240936977133 C 4.26655315928869 3.25543781372002 4.05448354143019 4.16899051868377 4 5.50306748466258 L 4 20.1416620189626 C 4.67272039349224 20.4751812604573 5.30892924706773 20.7651979921919 5.96311010215664 21.0117122141662 C 6.61729095724556 21.2582264361405 7.19958380628074 21.4612381483547 7.7099886492622 21.6207473508087 C 8.22039349224366 21.7802565532627 8.80268634127885 21.9143892916899 9.45686719636776 22.0231455660904 C 10.1110480514567 22.1319018404908 10.6214528944381 22.2116564417178 10.9880817253121 22.2624093697713 C 11.3547105561862 22.3131622978249 11.8579265985622 22.3421639709983 12.4977298524404 22.3494143892917 C 13.1375331063186 22.3566648075851 13.5580779417329 22.3602900167317 13.7593643586833 22.3602900167317 C 13.9606507756338 22.3602900167317 14.3668180098373 22.345789180145 14.977866061294 22.3167875069716 C 15.5889141127507 22.2877858337981 15.9088157396897 22.2732849972114 15.9375709421112 22.2732849972114 C 16.9152478244419 22.2587841606247 17.5981838819523 22.4545454545455 17.9863791146425 22.8605688789738 C 18.0726447219069 22.9475738984941 18.1445327279607 23.0128276631344 18.2020431328036 23.0563301728946 C 18.575860764283 23.4188510875627 19.0143776012107 23.7886224205243 19.5175936435868 24.1656441717791 C 19.6182368520621 22.8460680423871 20.466515323496 22.2152816508645 22.0624290578888 22.2732849972114 C 22.1343170639425 22.2732849972114 22.3967082860386 22.2841606246514 22.8496027241771 22.3059118795315 C 23.3024971623156 22.3276631344116 23.6116155883466 22.3421639709983 23.7769580022701 22.3494143892917 C 23.9423004161937 22.3566648075851 24.2693908437382 22.3639152258784 24.7582292849035 22.3711656441718 C 25.2470677260689 22.3784160624651 25.6280741581536 22.3711656441718 25.9012485811578 22.3494143892917 C 26.1744230041619 22.3276631344116 26.5662126371548 22.2950362520915 27.0766174801362 22.2515337423313 C 27.5870223231177 22.2080312325711 28.0255391600454 22.1464026770775 28.3921679909194 22.0666480758505 C 28.7587968217934 21.9868934746235 29.2045024593265 21.8890128276631 29.7292849035187 21.7730061349693 C 30.2540673477109 21.6569994422755 30.7357169882709 21.5156162855549 31.1742338251986 21.3488566648076 C 31.6127506621264 21.1820970440602 32.097994702989 20.9863357501394 32.6299659477866 20.7615727830452 Z M 37.7843359818388 18.532069157836 C 38.0862656072645 18.9090909090909 38.057510404843 19.3658672615728 37.6980703745744 19.9023982152817 C 35.9583806280742 22.0630228667038 33.2841468028755 23.8901282766313 29.6753688989784 25.3837144450641 C 30.883087400681 29.5164528722811 30.7177449867575 32.8878973786949 29.1793416572077 35.4980479643056 C 28.2304199772985 37.1366424986057 26.9148694665153 38.2097044060234 25.2326901248581 38.7172336865588 C 23.7374195989406 39.1812604573341 22.4290578887628 39.0725041829336 21.3076049943246 38.3909648633575 C 20.0711312902005 37.6514221974345 19.48164964056 36.4623535973229 19.539160045403 34.8237590630229 L 19.5175936435868 27.7328499721138 L 19.5175936435868 27.7110987172337 C 19.4025728339009 27.6820970440602 19.2264472190692 27.6385945343001 18.9892167990919 27.5805911879532 C 18.7519863791146 27.5225878416062 18.5830495648884 27.4863357501394 18.4824063564132 27.4718349135527 L 18.460839954597 34.8237590630229 C 18.51835035944 36.4768544339097 17.9216799091941 37.6659230340212 16.6708286038593 38.3909648633575 C 15.5349981082104 39.0725041829336 14.2194475974272 39.1812604573341 12.7241770715096 38.7172336865588 C 11.0419977298524 38.1952035694367 9.73363601967461 37.1076408254322 8.79909194097616 35.4545454545455 C 7.2894438138479 32.8443948689347 7.1312902005297 29.4874511991076 8.32463110102157 25.3837144450641 C 4.71585319712448 23.8901282766313 2.04161937192584 22.0630228667038 0.301929625425653 19.9023982152817 C -0.0575104048429815 19.3658672615728 -0.0862656072644722 18.9090909090909 0.21566401816118 18.532069157836 C 0.517593643586833 18.1550474065811 0.948921679909194 18.1622978248745 1.50964812712826 18.5538204127161 C 1.56715853197124 18.5828220858896 1.64982973893303 18.6335750139431 1.75766174801362 18.7060791968767 C 1.86549375709421 18.7785833798104 1.94097616345062 18.8365867261573 2 18.8800892359175 L 2 3.78471834913553 C 1.98410896708286 2.74065811489125 2.32198259553538 1.84885666480758 2.99772985244041 1.10931399888455 C 3.67347710934544 0.369771332961515 4.49300037835793 0 5.45629965947787 0 L 32.5652667423383 0 C 33.5285660234582 0 34.3480892924707 0.369771332961515 35.0238365493757 1.10931399888455 C 35.6995838062807 1.84885666480758 36.0374574347333 2.74065811489125 36 3.78471834913553 L 36 18.8800892359175 L 36.4903518728717 18.5538204127161 C 37.0510783200908 18.1622978248745 37.4824063564132 18.1550474065811 37.7843359818388 18.532069157836 Z ","fill-rule","nonzero","fill","#1e3fb0","stroke","none","transform","matrix(1 0 0 1 892 177 )"],["azt-track-service","dashboard-6wko4rwl-1",3,"routerLink"],["name","user"],["name","user-cog"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,ei,1,0,"azt-loading-effect",1),t.ALo(2,"async"),t.ALo(3,"alreadyDataForBusinessPermission"),t.YNc(4,si,21,38,"ng-template",null,2,t.W1O),t.qZA()),2&e){const a=t.MAs(5);t.Q6J("headerBackToLink","/admin/dashboard"),t.xp6(1),t.Q6J("ngIf",!t.lcZ(2,3,t.lcZ(3,5,"")))("ngIfElse",a)}},dependencies:[A.rH,i.O5,Y.l,R._,J.Nh5,i.Ov,k.Jy,k.JV,k.J8,k.XF],encapsulation:2}),o})();const ci=[{path:"",component:(()=>{class o extends M.Q{}return o.\u0275fac=function(){let l;return function(n){return(l||(l=t.n5z(o)))(n||o)}}(),o.\u0275cmp=t.Xpm({type:o,selectors:[["azota-for-business"]],features:[t.qOj],decls:2,vars:0,consts:[["id","azota-business"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[A.lC],encapsulation:2}),o})(),canActivate:[it.v],children:[{path:"dashboard",component:li},{path:"educational-program",component:Co},{path:"create-educational-program",component:Vt},{path:"create-general-educational-program",component:Ve},{path:"edit-educational-program/:id",component:Vt},{path:"educational-program/:id",component:go},{path:"infrastructure",component:nn},{path:"infrastructure/:id",component:Yo},{path:"instructional-work",component:kn},{path:"student-management/:page",component:ti},{path:"account-management",component:p}]}];let di=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[A.Bz.forChild(ci),A.Bz,E.fQ]}),o})(),mi=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[A.Bz,i.ez,V.j,L.Z_,di,tt.kb,r.u5,r.UX,s.Is,et.Z,q.xC,Z.QG,ot.W,H.d,J.qyJ.pick(J.ciZ),U.N,j.vI]}),o})()},8633:(nt,F,c)=>{c.d(F,{S:()=>r});var i=c(65879);let r=(()=>{class s{constructor(){this.itemPerPage=20,this.curPage=1,this.hasNextPage=!1,this.isLoadingNextPage=!1,this.totalRecord=0}setTotalItemPerPage(j){this.itemPerPage=j}setLoading(j){this.isLoadingNextPage=j}setNextPage(){this.curPage+=1}resetToFirstPage(){this.curPage=1}setTotalRecord(j){return this.totalRecord=j,this.hasNextPage=this.curPage*this.itemPerPage<this.totalRecord,this.hasNextPage}}return s.\u0275fac=function(j){return new(j||s)},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:null}),s})()},23083:(nt,F,c)=>{c.d(F,{$:()=>W});var i=c(29023),r=c(65879),s=c(73445),A=c(23680),j=c(44683),L=c(13217),U=c(84003),J=c(25804),q=c(84049),Z=c(47496),tt=c(2783),et=c(97638),H=c(96814),ot=c(75986),V=c(56223),E=c(71646),it=c(36727);function M(z,Q){1&z&&(r.TgZ(0,"div",4),r._UZ(1,"azt-loading-ui"),r.qZA())}function $(z,Q){if(1&z){const T=r.EpF();r.TgZ(0,"div",7)(1,"mat-checkbox",8),r.NdJ("ngModelChange",function(f){const P=r.CHM(T).$implicit;return r.KtG(P.selected=f)}),r._uU(2),r.ALo(3,"mytranslate"),r.qZA()()}if(2&z){const T=Q.$implicit;r.xp6(1),r.Q6J("ngModel",T.selected)("checked",T.selected),r.xp6(1),r.hij(" ",r.lcZ(3,3,"lang_core_thang")+" "+T.month," ")}}function K(z,Q){if(1&z&&(r.TgZ(0,"div",5),r.YNc(1,$,4,5,"div",6),r.qZA()),2&z){const T=r.oxw();r.xp6(1),r.Q6J("ngForOf",T.checkboxMonth.checkboxMonth)}}let W=(()=>{class z extends Z.Q{isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(T=>1==T.selected)}getHistoresMonth(){this.histories||(this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.checkboxMonth.studentId).subscribe({next:T=>{this.checkboxMonth.checkboxMonth.map(N=>N.selected=null!=T.histories.find(f=>f.month==N.month&&this.currentDate.getFullYear()==f.year)),this.stopStatusObj()},error:T=>{this.isSaving=!1,this.errorStatusObj(T.error.message,!0)}})))}ngOnInit(){super.ngOnInit(),this.getHistoresMonth()}constructor(T,N,f){super(),this.sAztDialogService=T,this.sAztTimeService=N,this.paymentService=f,this.checkboxMonth=new q.$,this.sendListMonth=new r.vpe,this.studentForm=new J.h,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date}ngOnDestroy(){super.ngOnDestroy()}}return z.\u0275fac=function(T){return new(T||z)(r.Y36(tt.C),r.Y36(U.D),r.Y36(et.t))},z.\u0275cmp=r.Xpm({type:z,selectors:[["azt-checkbox-month"]],inputs:{checkboxMonth:"checkboxMonth",histories:"histories"},outputs:{sendListMonth:"sendListMonth"},features:[r._Bn([{provide:i.fM,useClass:j.WG,deps:[A.Ad,s.o8]},{provide:i.ab,useFactory:L.fX,deps:[U.D]}]),r.qOj],decls:8,vars:12,consts:[[1,"w-full"],[1,"text-md","font-medium","flex","items-center"],["class","p-5 flex justify-center",4,"ngIf"],["class","mt-1 flex justify-between","style","flex-wrap: wrap",4,"ngIf"],[1,"p-5","flex","justify-center"],[1,"mt-1","flex","justify-between",2,"flex-wrap","wrap"],["class","mt-1","style","width: 84px",4,"ngFor","ngForOf"],[1,"mt-1",2,"width","84px"],[1,"example-margin",3,"ngModel","checked","ngModelChange"]],template:function(T,N){1&T&&(r.TgZ(0,"div",0)(1,"h3",1),r._uU(2),r.ALo(3,"mytranslate"),r.ALo(4,"mytranslate"),r.ALo(5,"mytranslate"),r.qZA(),r.YNc(6,M,2,0,"div",2),r.YNc(7,K,2,1,"div",3),r.qZA()),2&T&&(r.xp6(2),r.HOy(" ",r.lcZ(3,6,"lang_test_market_withdraw_time")," ",r.lcZ(4,8,"lang_core_nop_hoc_phi").toLocaleLowerCase()," ",r.lcZ(5,10,"lang_core_nam").toLocaleLowerCase()," ",N.currentDate.getFullYear()," "),r.xp6(4),r.Q6J("ngIf",N.statusObj.loading),r.xp6(1),r.Q6J("ngIf",!N.statusObj.loading))},dependencies:[H.sg,H.O5,ot.oG,V.JJ,V.On,E.n,it.JV],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:aliceblue;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:lightgray;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:rgba(255,255,255,.8901960784);padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]}),z})()},6585:(nt,F,c)=>{c.d(F,{K:()=>i});var i=function(r){return r.video="video",r.document="document",r.homework="homework",r.homework_view="homework_view",r.unknown="unknown",r}(i||{})},4844:(nt,F,c)=>{c.d(F,{A:()=>N});var i=c(47496),r=c(20553),s=c(65879),A=c(96814),j=c(32296),L=c(2032),U=c(64170),J=c(29023),q=c(56223),Z=c(37722),tt=c(76024),et=c(67679),H=c(36727);function ot(f,t){1&f&&(s.TgZ(0,"div",32),s._uU(1),s.ALo(2,"mytranslate"),s.qZA()),2&f&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function V(f,t){1&f&&(s.TgZ(0,"span"),s._uU(1),s.ALo(2,"mytranslate"),s.qZA()),2&f&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_lon_hon_0")," "))}function E(f,t){1&f&&(s.TgZ(0,"span"),s._uU(1),s.ALo(2,"mytranslate"),s.qZA()),2&f&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_khong_qua_6_chu_so")," "))}function it(f,t){if(1&f&&(s.TgZ(0,"div",35),s.YNc(1,V,3,3,"span",36),s.YNc(2,E,3,3,"span",36),s.qZA()),2&f){const P=s.oxw(2);s.xp6(1),s.Q6J("ngIf",P.studentForm.form.controls.identificationNumber.errors.min),s.xp6(1),s.Q6J("ngIf",P.studentForm.form.controls.identificationNumber.errors.maxlength||P.studentForm.form.controls.identificationNumber.errors.pattern)}}function M(f,t){if(1&f&&(s.TgZ(0,"div",1),s._UZ(1,"input",33),s.ALo(2,"mytranslate"),s.YNc(3,it,3,2,"div",34),s.qZA()),2&f){const P=s.oxw();s.xp6(1),s.s9C("placeholder",s.lcZ(2,2,"lang_auto_so_bao_danh")),s.xp6(2),s.Q6J("ngIf",P.studentForm.form.controls.identificationNumber.errors&&(P.studentForm.form.controls.identificationNumber.dirty||P.studentForm.form.controls.identificationNumber.touched))}}function $(f,t){1&f&&(s.TgZ(0,"div",32),s._uU(1),s.ALo(2,"mytranslate"),s.qZA()),2&f&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function K(f,t){1&f&&(s.TgZ(0,"div",32),s._uU(1),s.ALo(2,"mytranslate"),s.qZA()),2&f&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"lang_core_invalid_email")," "))}function W(f,t){1&f&&(s.TgZ(0,"div",32),s._uU(1),s.ALo(2,"mytranslate"),s.qZA()),2&f&&(s.xp6(1),s.hij(" ",s.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function z(f,t){if(1&f){const P=s.EpF();s.TgZ(0,"div",1)(1,"div",37),s._UZ(2,"input",38),s.ALo(3,"mytranslate"),s.TgZ(4,"button",39),s.NdJ("click",function(){s.CHM(P);const D=s.oxw();return s.KtG(D.togglePassword())}),s.TgZ(5,"span",40),s._UZ(6,"lucide-icon",41),s.qZA()()(),s.YNc(7,W,3,3,"div",3),s.qZA()}if(2&f){const P=s.oxw();s.xp6(2),s.s9C("placeholder",s.lcZ(3,4,"lang_auto_mat_khau")),s.Q6J("type",P.showPassword?"text":"password"),s.xp6(4),s.s9C("name",P.showPassword?"eye":"eye-off"),s.xp6(1),s.Q6J("ngIf",P.studentForm.form.controls.password.errors)}}function Q(f,t){1&f&&(s.TgZ(0,"div",1),s._UZ(1,"input",42),s.ALo(2,"mytranslate"),s.qZA()),2&f&&(s.xp6(1),s.s9C("placeholder",s.lcZ(2,1,"lang_wsuper_admin_add_school_enter_school")))}function T(f,t){1&f&&(s.TgZ(0,"div",1),s._UZ(1,"input",43),s.ALo(2,"mytranslate"),s.qZA()),2&f&&(s.xp6(1),s.s9C("placeholder",s.lcZ(2,1,"lang_core_nhap_link_facebook")))}let N=(()=>{class f extends i.Q{togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){super.ngOnInit(),this.studentForm.removeValidatePhoneWhenNotBusiness(this.isBusinessDomain)}constructor(){super(),this.hasUser=!1,this.showPassword=!1,this.maxDate=r.N.maxDateTimePicker,this.startAtTime=new Date("01/01/2006")}}return f.\u0275fac=function(P){return new(P||f)},f.\u0275cmp=s.Xpm({type:f,selectors:[["azt-form-enter-info-student"]],inputs:{studentForm:"studentForm",hasUser:"hasUser"},features:[s.qOj],decls:54,vars:36,consts:[[3,"formGroup"],[1,"mt-3"],["id","fullname","formControlName","fullName","autocomplete","new-name","type","text",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"flex","justify-between","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],["for","gender",1,"text-sm"],[1,"flex","justify-end"],[1,"form-check","w-20","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio",1,"form-check-input",3,"value"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender",1,"form-check-input",3,"value"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"azt-time-picker"],["azt-track-service","add_student-OL_xz2BQlY","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","add_student-6m5M85CG5t","matSuffix","",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],[3,"touchUi","hideTime","startAt"],["birthDay",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["id","numberphone","formControlName","phoneNumber","autocomplete","new-phone","type","text",1,"form-control",3,"placeholder"],["id","email","formControlName","email","type","text","autocomplete","new-email",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","appOnlyNumber","","formControlName","identificationNumber",1,"form-control",3,"placeholder"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[4,"ngIf"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-forn-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"w-4","h-4","inline-block"],[3,"name"],["id","school","formControlName","school","type","text",1,"form-control",3,"placeholder"],["id","facebookLink","formControlName","facebookLink","autocomplete","new-facebook-link","type","text",1,"form-control",3,"placeholder"]],template:function(P,S){if(1&P){const D=s.EpF();s.TgZ(0,"form",0)(1,"div",1),s._UZ(2,"input",2),s.ALo(3,"mytranslate"),s.YNc(4,ot,3,3,"div",3),s.qZA(),s.YNc(5,M,4,4,"div",4),s.TgZ(6,"div",1)(7,"div",5)(8,"label",6),s._uU(9),s.ALo(10,"mytranslate"),s.qZA(),s.TgZ(11,"div",7)(12,"div",8),s._UZ(13,"input",9),s.TgZ(14,"label",10),s._uU(15),s.ALo(16,"mytranslate"),s.qZA()(),s.TgZ(17,"div",8),s._UZ(18,"input",11),s.TgZ(19,"label",12),s._uU(20),s.ALo(21,"mytranslate"),s.qZA()()()()(),s.TgZ(22,"div",1)(23,"mat-form-field",13)(24,"input",14),s.NdJ("click",function(){s.CHM(D);const at=s.MAs(39);return s.KtG(at.open())}),s.ALo(25,"mytranslate"),s.qZA(),s.TgZ(26,"button",15),s.NdJ("click",function(at){return s.CHM(D),s.MAs(39).open(),s.KtG(at.stopPropagation())}),s.O4$(),s.TgZ(27,"svg",16),s._UZ(28,"rect",17)(29,"line",18)(30,"line",19)(31,"line",20)(32,"path",21)(33,"path",22)(34,"path",23)(35,"path",24)(36,"path",25)(37,"path",26),s.qZA()(),s.kcU(),s.TgZ(38,"ngx-mat-datetime-picker",27,28)(40,"ngx-mat-datepicker-actions")(41,"button",29),s._uU(42,"OK"),s.qZA()()()()(),s.TgZ(43,"div",1),s._UZ(44,"input",30),s.ALo(45,"mytranslate"),s.YNc(46,$,3,3,"div",3),s.qZA(),s.TgZ(47,"div",1),s._UZ(48,"input",31),s.ALo(49,"mytranslate"),s.YNc(50,K,3,3,"div",3),s.qZA(),s.YNc(51,z,8,6,"div",4),s.YNc(52,Q,3,3,"div",4),s.YNc(53,T,3,3,"div",4),s.qZA()}if(2&P){const D=s.MAs(39);s.Q6J("formGroup",S.studentForm.form),s.xp6(2),s.s9C("placeholder",s.lcZ(3,22,"lang_auto_nhap_ho_va_ten")),s.xp6(2),s.Q6J("ngIf",S.studentForm.form.controls.fullName.errors),s.xp6(1),s.Q6J("ngIf",S.studentForm.form.controls.identificationNumber),s.xp6(4),s.hij(" ",s.lcZ(10,24,"lang_auto_gioi_tinh")," "),s.xp6(4),s.Q6J("value",1),s.xp6(2),s.hij(" ",s.lcZ(16,26,"lang_auto_nam")," "),s.xp6(3),s.Q6J("value",0),s.xp6(2),s.hij(" ",s.lcZ(21,28,"lang_auto_nu")," "),s.xp6(4),s.s9C("placeholder",s.lcZ(25,30,"lang_auto_ngay_sinh")),s.Q6J("max",S.maxDate)("ngxMatDatetimePicker",D),s.xp6(14),s.Q6J("touchUi",!0)("hideTime",!0)("startAt",S.startAtTime),s.xp6(6),s.s9C("placeholder",s.lcZ(45,32,"lang_number_phone")),s.xp6(2),s.Q6J("ngIf",S.studentForm.form.controls.phoneNumber.errors),s.xp6(2),s.s9C("placeholder",s.lcZ(49,34,"lang_auto_nhap_email")),s.xp6(2),s.Q6J("ngIf",S.studentForm.form.controls.email.errors),s.xp6(1),s.Q6J("ngIf",S.studentForm.form.controls.password&&!S.hasUser&&S.isBusinessDomain),s.xp6(1),s.Q6J("ngIf",S.isBusinessDomain),s.xp6(1),s.Q6J("ngIf",S.isBusinessDomain)}},dependencies:[A.O5,j.lW,L.Nt,U.KE,U.R9,J.rZ,J.T$,J.c_,J.cL,q._Y,q.Fj,q._,q.JJ,q.JL,q.sg,q.u,Z.Nh5,tt.Y,et.M,H.JV],encapsulation:2}),f})()},25804:(nt,F,c)=>{c.d(F,{h:()=>s});var i=c(56223);class r{static isInvalidPassword(j){let U=j.value?.trim()??"";return U&&U.length<6?{isInvalidPassword:!0}:null}}class s{constructor(){this.form=new i.cw({fullName:new i.NI("",{nonNullable:!0,validators:[i.kI.required]}),gender:new i.NI(0,{nonNullable:!0}),birthday:new i.NI(void 0,{nonNullable:!0}),email:new i.NI("",{nonNullable:!0,validators:[i.kI.email,i.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new i.NI("",{nonNullable:!0,validators:[i.kI.required,i.kI.pattern(/^[0-9\-]*$/),i.kI.minLength(10),i.kI.maxLength(10)]}),identificationNumber:new i.NI("",{nonNullable:!0,validators:[i.kI.min(1),i.kI.maxLength(6),i.kI.pattern("^[0-9]*$")]}),password:new i.NI("",{nonNullable:!0,validators:[r.isInvalidPassword]}),facebookLink:new i.NI("",{nonNullable:!0}),school:new i.NI("",{nonNullable:!0})})}removeValidatePhoneWhenNotBusiness(j){j||this.form.controls.phoneNumber.removeValidators(i.kI.required)}}}}]);