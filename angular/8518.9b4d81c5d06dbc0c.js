(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[8518],{15275:(nt,N,c)=>{"use strict";c.r(N),c.d(N,{TestFrontModule:()=>Bm});var _=c(54460),S=c(10936),f=c(89163),k=c(65162),O=c(69223),y=c(15437),d=c(15343),G=c(13763),D=c(10123),x=c(25571),g=c(5502),w=c(46584),v=c(70050),E=c(7050),rt=c(91100),A=c(43234),lt=c(97099),St=c(1133),ct=c(34158),L=c(76627),b=c(59640),rn=c(37497),t=c(26860),z=c(33791),Y=c(25693);let ln=(()=>{var n;class a{isInIframe(){try{return window.self!==window.top}catch{return!0}}sendMessageToParentIframe(s){try{window.parent.postMessage(s,"*")}catch{}}sendMessageToIFrame(s,o){const i=document.getElementById(s),r=i?i.contentWindow:null;r?.postMessage(o,"*")}constructor(s){this.commonService=s}}return(n=a).\u0275fac=function(s){return new(s||n)(t.KVO(Y.R))},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),a})();var cn=c(28787),V=c(47712),j=c(18718),_n=c(22613),ae=c(69135),un=c(94743),_t=c(69715),u=c(73437);function pn(n,a){if(1&n&&(t.j41(0,"student-layout",3),t.eu8(1,4),t.k0s()),2&n){const e=t.XpG(),s=t.sdS(3);t.Y8G("headerBackToLink",e.backToLink),t.R7$(1),t.Y8G("ngTemplateOutlet",s)}}function mn(n,a){if(1&n&&(t.j41(0,"div",5),t.eu8(1,4),t.k0s()),2&n){t.XpG();const e=t.sdS(3);t.R7$(1),t.Y8G("ngTemplateOutlet",e)}}function dn(n,a){if(1&n&&t.nrm(0,"azt-loading-effect",8),2&n){const e=t.XpG(2);t.Y8G("currentStatusObj",e.statusObj)}}function gn(n,a){1&n&&(t.j41(0,"h3",21),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_danh_sach_de_thi")," "))}function fn(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,1,e.name)," ")}}function Tn(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.SpI(" ",e.name," ")}}const hn=function(n){return{active:n}},bn=function(n){return{clickable:n}},Sn=function(n){return{"truncate-bread":n}};function xn(n,a){if(1&n){const e=t.RV6();t.j41(0,"li",22)(1,"a",23),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG(3);return t.Njj(r.goBackParent(i.id?i.id:0))}),t.j41(2,"span",24,25),t.nI1(4,"mytranslate"),t.DNE(5,fn,3,3,"span",26),t.DNE(6,Tn,2,1,"span",26),t.k0s()()()}if(2&n){const e=a.$implicit,s=t.sdS(3),o=t.XpG(3);t.Y8G("ngClass",t.eq3(10,hn,e.id==o.categoryId)),t.R7$(1),t.Y8G("ngClass",t.eq3(12,bn,e.id!=o.categoryId)),t.R7$(1),t.FS9("matTooltip",t.bMT(4,8,e.name)),t.Y8G("ngClass",t.eq3(14,Sn,e.id!=o.categoryId))("isDisabledTooltip",!1)("matTooltipDisabled",s.isDisabled),t.R7$(3),t.Y8G("ngIf",-1==e.id),t.R7$(1),t.Y8G("ngIf",-1!=e.id)}}function kn(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",27),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG(3);return t.Njj(r.cateDetail(i))}),t.j41(1,"div",28)(2,"div",29),t.nrm(3,"azt-svg-icon",30),t.k0s(),t.j41(4,"div",31,25),t.EFF(6),t.k0s()()()}if(2&n){const e=a.$implicit,s=t.sdS(5);t.R7$(4),t.FS9("matTooltip",e.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",s.isDisabled),t.R7$(2),t.SpI(" ",e.name," ")}}function vn(n,a){if(1&n&&(t.j41(0,"div",42)(1,"span",43),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"span"),t.EFF(5),t.k0s()()()),2&n){const e=t.XpG(2).$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_diem_cua_ban"),": "),t.R7$(3),t.JRh(e.mark)}}function Cn(n,a){1&n&&(t.j41(0,"div",42),t.nrm(1,"div",44),t.k0s())}function wn(n,a){if(1&n){const e=t.RV6();t.j41(0,"a",35),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,i=t.XpG(3);return t.Njj(i.redirectToExamDetail(o.hashId?o.hashId:""))}),t.j41(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",29),t.nrm(5,"azt-svg-icon",39),t.k0s(),t.j41(6,"div",31,25),t.EFF(8),t.k0s(),t.j41(9,"div",40)(10,"span"),t.EFF(11),t.k0s(),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,vn,6,4,"div",41),t.DNE(15,Cn,2,0,"div",41),t.k0s()()()()}if(2&n){const e=t.sdS(7),s=t.XpG().$implicit,o=t.XpG(3);t.FS9("target",o.target),t.R7$(5),t.Y8G("size",80),t.R7$(1),t.FS9("matTooltip",s.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.R7$(2),t.SpI(" ",s.name," "),t.R7$(3),t.JRh(s.attended),t.R7$(1),t.SpI(" ",t.bMT(13,10,"lang_auto_luot_lam_de")," "),t.R7$(2),t.Y8G("ngIf",null!=s.mark),t.R7$(1),t.Y8G("ngIf",null==s.mark)}}function In(n,a){if(1&n&&(t.j41(0,"div",42)(1,"span",43),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"span"),t.EFF(5),t.k0s()()()),2&n){const e=t.XpG(2).$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_diem_cua_ban"),": "),t.R7$(3),t.JRh(e.mark)}}function On(n,a){if(1&n&&(t.j41(0,"a",45)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",29),t.nrm(5,"azt-svg-icon",39),t.k0s(),t.j41(6,"div",31,25),t.EFF(8),t.k0s(),t.j41(9,"div",40)(10,"span"),t.EFF(11),t.k0s(),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,In,6,4,"div",41),t.k0s()()()()),2&n){const e=t.sdS(7),s=t.XpG().$implicit,o=t.XpG(3);t.FS9("target",o.target),t.Y8G("href","/de-thi/"+s.hashId,t.B4B),t.R7$(5),t.Y8G("size",60),t.R7$(1),t.FS9("matTooltip",s.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.R7$(2),t.SpI(" ",s.name," "),t.R7$(3),t.JRh(s.attended),t.R7$(1),t.SpI(" ",t.bMT(13,10,"lang_auto_luot_lam_de")," "),t.R7$(2),t.Y8G("ngIf",null!=s.mark)}}function En(n,a){if(1&n&&(t.j41(0,"div",32),t.DNE(1,wn,16,12,"a",33),t.DNE(2,On,15,12,"a",34),t.k0s()),2&n){const e=t.XpG(3);t.R7$(1),t.Y8G("ngIf","_blank"!=e.target),t.R7$(1),t.Y8G("ngIf","_blank"==e.target)}}function yn(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",9),t.DNE(1,gn,3,3,"h3",10),t.j41(2,"div",11)(3,"ol",12)(4,"li",13)(5,"a",14),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.backToAllCate())}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.DNE(8,xn,7,16,"li",15),t.k0s()(),t.j41(9,"div",16),t.DNE(10,kn,7,4,"div",17),t.DNE(11,En,3,2,"div",18),t.k0s(),t.j41(12,"div",19)(13,"azt-paging",20),t.bIt("goToPaginationPage",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.goToPage(o))}),t.k0s()()()}if(2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngIf",!e.isInIframe),t.R7$(5),t.SpI(" ",t.bMT(7,6,"lang_auto_tat_ca")," "),t.R7$(2),t.Y8G("ngForOf",e.listBreadcrumb),t.R7$(2),t.Y8G("ngForOf",e.cateObjs),t.R7$(1),t.Y8G("ngForOf",e.examObjs),t.R7$(2),t.Y8G("pageObj",e.pageObj)}}function An(n,a){if(1&n&&(t.DNE(0,dn,1,1,"azt-loading-effect",6),t.DNE(1,yn,14,8,"ng-template",null,7,t.C5r)),2&n){const e=t.sdS(2),s=t.XpG();t.Y8G("ngIf",s.statusObj.loading)("ngIfElse",e)}}let zn=(()=>{var n;class a extends b.H{getListParentCate(){this.waitDestroy(this.frontExamCategoryService.apiFrontExamCategoryGetBreadcrumbsGet(this.tenantId,this.categoryId).subscribe(s=>{1==s.success?this.listBreadcrumb=s.data?.objs??new Array:this.errorStatusObj(s.message??"",!0)}))}getData(){this.backToLink=0!=this.categoryId?"/test/category/"+this.tenantId+"/0/"+this.pageObj.page:"/student/classroom/0";var s=Number(this.commonService.getMyParam(this.activeRoute,"page"));this.pageObj.setPageNumber(s>0?s:1),this.initStatusObj(),this.waitDestroy(this.frontExamPageService.apiFrontExamPageGetObjsGet(this.tenantId,this.categoryId>0?this.categoryId:0,this.pageObj.page).subscribe(o=>{1==o.success?(this.cateObjs=o.data?.categoryObjs??new Array,this.examObjs=o.data?.examObjs??new Array,this.totalExam=o.data?.totalExam??0,this.pageObj.setTotalPages(this.totalExam),this.getListParentCate(),this.successStatusObj(),setTimeout(()=>{this.checkHeight()},0)):this.errorStatusObj(o.message??"",!0)}))}goToPage(s){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+this.categoryId+"/"+s)}backToAllCate(){this.commonService.myNavigation("/test/category/"+this.tenantId+"/0/1")}cateDetail(s){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+s.id+"/1")}goBackParent(s){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+s+"/1")}redirectToExamDetail(s){this.commonService.myNavigationWithQueryString(`/de-thi/${s}`,"?backto="+encodeURIComponent(this.paramBackToLink))}resizeHeight(){var s=document.body,o=document.documentElement,i=Math.max(s.scrollHeight,s.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight);this.contentHeight=i,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}checkHeight(){var s=document.body,o=document.documentElement,i=Math.max(s.scrollHeight,s.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight);this.contentHeight=i,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}changeLogin(){this.iframeService.sendMessageToParentIframe({changeLogin:!0})}ngOnInit(){this.isInIframe=this.iframeService.isInIframe(),this.isInIframe&&(this.target="_blank"),this.waitDestroy((0,L.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.categoryId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));let s=this.commonService.getMyParam(this.activeRoute,"page");this.paramBackToLink=`/test/category/${this.tenantId}/${this.categoryId}/${s}`,this.getData(),this.userLoginStateService.loginMessage.subscribe(o=>{this.changeLogin()}),this.commonService.translateMetaData({title:"lang_auto_danh_sach_de_thi",description:"lang_auto_danh_sach_de_thi"})})),super.ngOnInit()}constructor(s,o,i,r,l){super(),this.activeRoute=s,this.frontExamCategoryService=o,this.frontExamPageService=i,this.iframeService=r,this.userLoginStateService=l,this.totalExam=0,this.tenantId=1,this.cateObjs=[],this.examObjs=[],this.listBreadcrumb=[],this.isInIframe=!1,this.target="",this.contentHeight=0,this.categoryId=0,this.backToLink="",this.paramBackToLink="",this.pageObj=new rn.d(18)}ngOnDestroy(){super.ngOnDestroy()}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(k.nX),t.rXU(z.EC),t.rXU(z.zW),t.rXU(ln),t.rXU(cn.X))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-student-index"]],hostBindings:function(s,o){1&s&&t.bIt("resize",function(r){return o.resizeHeight(r)},!1,t.tSv)},features:[t.Vt3],decls:4,vars:2,consts:[[3,"headerBackToLink",4,"ngIf"],["class","in-iframe",4,"ngIf"],["categoryTemplate",""],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[1,"in-iframe"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"mt-5","mx-auto",2,"max-width","1200px"],["class","text-md uppercase font-medium",4,"ngIf"],[1,"box","p-3","mt-5"],[1,"breadcrumb"],[1,"breadcrumb-item"],["azt-track-service","category--SCvgQNgc",3,"click"],["class","breadcrumb-item active",3,"ngClass",4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-5"],["azt-track-service","category-P9OVEFAeM7","class","col-span-6 sm:col-span-4 md:col-span-4 2xl:col-span-3",3,"click",4,"ngFor","ngForOf"],["class","col-span-6 sm:col-span-4 md:col-span-4 2xl:col-span-3 cursor-pointer",4,"ngFor","ngForOf"],[1,"mt-3","p-2"],[3,"pageObj","goToPaginationPage"],[1,"text-md","uppercase","font-medium"],[1,"breadcrumb-item","active",3,"ngClass"],["azt-track-service","category-4ZVvjZOwmm",3,"ngClass","click"],[3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[4,"ngIf"],["azt-track-service","category-P9OVEFAeM7",1,"col-span-6","sm:col-span-4","md:col-span-4","2xl:col-span-3",3,"click"],[1,"file","box","rounded-md","px-5","pt-8","pb-5","px-3","sm:px-5","relative","zoom-in","h-full"],[1,"w-3/5","mx-auto"],["type","folder",1,"w-full","h-full"],[1,"block","font-medium","mt-4","text-center","truncate","w-full",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"col-span-6","sm:col-span-4","md:col-span-4","2xl:col-span-3","cursor-pointer"],["azt-track-service","category-36xAyNdE6R","class","flex h-full",3,"target","click",4,"ngIf"],["azt-track-service","category-QMZDKTOTgR","class","flex h-full",3,"href","target",4,"ngIf"],["azt-track-service","category-36xAyNdE6R",1,"flex","h-full",3,"target","click"],[1,"file","box","rounded-md","px-5","pt-8","pb-5","px-3","sm:px-5","relative","zoom-in","w-full"],[1,"box-title","text-center"],[1,"test","p-2","pl-3","pr-3"],["type","file",3,"size"],[1,"text-slate-500","text-xs","text-center","mt-0.5"],["class","mt-0.5",4,"ngIf"],[1,"mt-0.5"],[1,"text-center","font-medium"],[2,"height","16px"],["azt-track-service","category-QMZDKTOTgR",1,"flex","h-full",3,"href","target"]],template:function(s,o){1&s&&(t.DNE(0,pn,2,2,"student-layout",0),t.DNE(1,mn,2,1,"div",1),t.DNE(2,An,3,2,"ng-template",null,2,t.C5r)),2&s&&(t.Y8G("ngIf",!o.isInIframe),t.R7$(1),t.Y8G("ngIf",o.isInIframe))},dependencies:[_.YU,_.Sq,_.bT,_.T3,V.oV,j.K,_n.q,ae.f,un.m,_t.j,u.wp],encapsulation:2}),a})();var ie=c(91640),ut=c(36484),re=c(11591),le=c(78745);function jn(n,a){1&n&&(t.qex(0),t.j41(1,"div",2)(2,"div",3)(3,"div",4),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()(),t.bVm()),2&n&&(t.R7$(4),t.SpI(" ",t.bMT(5,1,"lang_azt_this_is_ads")," "))}function Rn(n,a){1&n&&(t.qex(0),t.nrm(1,"ins",7),t.bVm())}function Fn(n,a){1&n&&(t.qex(0),t.nrm(1,"ins",8),t.bVm())}function Gn(n,a){if(1&n&&(t.j41(0,"div",2),t.DNE(1,Rn,2,0,"ng-container",6),t.DNE(2,Fn,2,0,"ng-container",6),t.k0s()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngIf","article"==e.adsType),t.R7$(1),t.Y8G("ngIf","other"==e.adsType)}}function Dn(n,a){if(1&n&&t.DNE(0,Gn,3,2,"div",5),2&n){const e=t.XpG();t.Y8G("ngIf",!e.doNotShowAds)}}let Mn=(()=>{var n;class a extends b.H{ngAfterViewInit(){this.doNotShowAds||setTimeout(()=>{try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(s){console.error("ads",s)}},900)}ngOnInit(){super.ngOnInit(),this.isDevMode=(0,t.naY)()}constructor(s){super(),this.commonService=s,this.doNotShowAds=this.isBusinessDomain||this.isMobileWebView||!A.c.production||A.c.isProdAzotaVn,this.isDevMode=!1}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(Y.R))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-test-bank-frontend-adsense"]],inputs:{adsType:"adsType"},features:[t.Vt3],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["normalMode",""],[1,"adsense-unit","mx-auto","text-center","pt-3"],[1,"flex","box","items-center","items-center","justify-center","p-5",2,"height","150px"],[1,"font-medium","text-lg"],["class","adsense-unit mx-auto text-center pt-3",4,"ngIf"],[4,"ngIf"],["data-ad-layout","in-article","data-ad-format","fluid","data-ad-client","ca-pub-5379822583140305","data-ad-slot","1586363387",1,"adsbygoogle",2,"display","block","text-align","center"],["data-ad-client","ca-pub-5379822583140305","data-ad-slot","2369932214","data-ad-format","auto","data-full-width-responsive","true",1,"adsbygoogle",2,"display","block"]],template:function(s,o){if(1&s&&(t.DNE(0,jn,6,3,"ng-container",0),t.DNE(1,Dn,1,1,"ng-template",null,1,t.C5r)),2&s){const i=t.sdS(2);t.Y8G("ngIf",o.isDevMode)("ngIfElse",i)}},dependencies:[_.bT,u.wp],encapsulation:2}),a})();var xt=c(9691),Ln=c(66729),pt=c(52811);function Qn(n,a){1&n&&t.nrm(0,"azt-loading-ui",6)}function Nn(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",3)(1,"button",4),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.getExamHistoryByHashId(!0))}),t.DNE(2,Qn,1,0,"azt-loading-ui",5),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(2),t.Y8G("ngIf",e.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_exam_detail_show_exam_history")," ")}}function Bn(n,a){1&n&&(t.j41(0,"h3",10),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_exam_detail_no_exam_history")," "))}function $n(n,a){1&n&&(t.j41(0,"h3",11),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_lich_su_lam_bai_cua_ban")," "))}function Yn(n,a){if(1&n&&(t.j41(0,"span",30),t.nrm(1,"azt-check-mark",31),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(1),t.Y8G("mark",e.mark)}}function Pn(n,a){if(1&n&&(t.qex(0),t.j41(1,"span",29),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Yn,2,1,"span",28),t.bVm()),2&n){const e=t.XpG(2).$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_diem_cua_ban"),":\xa0 "),t.R7$(2),t.Y8G("ngIf",null!=e.mark)}}function Xn(n,a){1&n&&(t.j41(0,"span",29),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_diem_trac_nghiem_cua_ban"),":\xa0 "))}function Vn(n,a){1&n&&(t.j41(0,"span",29),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_diem_cua_ban"),":\xa0 "))}function Un(n,a){if(1&n&&(t.j41(0,"span",30),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(1),t.SpI(" ",e.mark," ")}}function qn(n,a){if(1&n&&(t.qex(0),t.DNE(1,Xn,3,3,"span",32),t.DNE(2,Vn,3,3,"span",32),t.DNE(3,Un,2,1,"span",28),t.bVm()),2&n){const e=t.XpG(2).$implicit;t.R7$(1),t.Y8G("ngIf",null==e.essayMark),t.R7$(1),t.Y8G("ngIf",null!=e.essayMark),t.R7$(1),t.Y8G("ngIf",null!=e.mark)}}function Hn(n,a){1&n&&(t.j41(0,"span",29),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_diem_cua_ban"),":\xa0 "))}function Wn(n,a){if(1&n&&(t.j41(0,"span",30),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3).$implicit;t.R7$(1),t.SpI(" ",e.mark," ")}}function Jn(n,a){1&n&&(t.j41(0,"span",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_chua_co_diem")," "))}function Kn(n,a){if(1&n&&(t.qex(0),t.DNE(1,Hn,3,3,"span",32),t.DNE(2,Wn,2,1,"span",28),t.DNE(3,Jn,3,3,"span",33),t.bVm()),2&n){const e=t.XpG(2).$implicit;t.R7$(1),t.Y8G("ngIf",null!=e.essayMark),t.R7$(1),t.Y8G("ngIf",null!=e.mark&&null!=e.essayMark),t.R7$(1),t.Y8G("ngIf",null==e.essayMark)}}function Zn(n,a){1&n&&(t.j41(0,"span",30),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_chua_co_diem")," "))}function to(n,a){if(1&n&&(t.j41(0,"div",27),t.DNE(1,Pn,5,4,"ng-container",2),t.nI1(2,"isOnlyTrueFalse"),t.DNE(3,qn,4,3,"ng-container",2),t.nI1(4,"isMixTrueFalseAndEssay"),t.DNE(5,Kn,4,3,"ng-container",2),t.nI1(6,"isOnlyEssay"),t.DNE(7,Zn,3,3,"span",28),t.k0s()),2&n){const e=t.XpG().$implicit,s=t.XpG(3);t.R7$(1),t.Y8G("ngIf",t.bMT(2,4,s.examObj)),t.R7$(2),t.Y8G("ngIf",t.bMT(4,6,s.examObj)),t.R7$(2),t.Y8G("ngIf",t.bMT(6,8,s.examObj)),t.R7$(2),t.Y8G("ngIf",null==e.mark)}}function eo(n,a){1&n&&(t.j41(0,"div",27)(1,"span",29),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"span",30),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_diem_cua_ban"),":\xa0 "),t.R7$(3),t.SpI(" ",t.bMT(6,4,"lang_auto_chua_duoc_xem_diem")," "))}const Yt=function(){return{"mr-2":!0}};function no(n,a){if(1&n&&(t.j41(0,"div",21)(1,"p",17),t.nrm(2,"lucide-icon",35),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"p",36),t.EFF(6),t.k0s()()),2&n){const e=t.XpG().$implicit;t.R7$(2),t.Y8G("ngClass",t.lJ4(5,Yt)),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_auto_so_luong_dung")," "),t.R7$(3),t.SpI(" ",e.rightAnswer," ")}}const oo=function(n){return[n]},so=function(n){return{backto:n}},ce=function(){return{"ml-2":!0}};function ao(n,a){if(1&n&&(t.j41(0,"button",37),t.nI1(1,"navigationLocalize"),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"lucide-icon",38),t.k0s()),2&n){const e=t.XpG().$implicit,s=t.XpG(3);t.Y8G("routerLink",t.eq3(8,oo,t.bMT(1,4,"/test/answer-test/"+s.curTenantId+"/"+(null!=s.curCategoryId?s.curCategoryId:0)+"/"+s.hashId+"/"+e.id)))("queryParams",t.eq3(10,so,s.backToLink)),t.R7$(2),t.SpI(" ",t.bMT(3,6,"lang_auto_xem_chi_tiet_bai_lam")," "),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,ce))}}function io(n,a){1&n&&(t.j41(0,"button",39),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.Y8G("disabled",!0),t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_chua_duoc_xem_ket_qua")," "))}function ro(n,a){if(1&n&&(t.j41(0,"div",13),t.DNE(1,to,8,10,"div",14),t.DNE(2,eo,7,6,"div",14),t.j41(3,"div",15)(4,"div",16)(5,"p",17),t.nrm(6,"lucide-icon",18),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"p",19),t.EFF(10),t.k0s()(),t.DNE(11,no,7,6,"div",20),t.j41(12,"div",21)(13,"p",17),t.nrm(14,"lucide-icon",22),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"p",19),t.EFF(18),t.k0s()()(),t.j41(19,"div",23),t.DNE(20,ao,5,13,"button",24),t.DNE(21,io,3,4,"button",25),t.j41(22,"div",26),t.EFF(23),t.nI1(24,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()()()),2&n){const e=a.$implicit,s=t.XpG(3);t.R7$(1),t.Y8G("ngIf",2!=s.examObj.whenShowResult),t.R7$(1),t.Y8G("ngIf",2==s.examObj.whenShowResult),t.R7$(4),t.Y8G("ngClass",t.lJ4(18,Yt)),t.R7$(1),t.SpI(" ",t.bMT(8,12,"lang_auto_thoi_gian_lam_bai"),":\xa0 "),t.R7$(3),t.SpI(" ",s.calculateTime(e.startedTest,e.createdAt)," "),t.R7$(1),t.Y8G("ngIf",null!=e.rightAnswer&&2!=s.examObj.whenShowResult),t.R7$(3),t.Y8G("ngClass",t.lJ4(19,Yt)),t.R7$(1),t.SpI(" ",t.bMT(16,14,"lang_auto_so_cau_hoi")," "),t.R7$(3),t.SpI(" ",e.totalQuestion," "),t.R7$(2),t.Y8G("ngIf",!1!==s.examObj.allowStudentView),t.R7$(1),t.Y8G("ngIf",!1===s.examObj.allowStudentView),t.R7$(2),t.SpI(" ",t.bMT(24,16,e.createdAt)," ")}}function lo(n,a){if(1&n&&(t.qex(0),t.DNE(1,ro,25,20,"div",12),t.bVm()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",e.historyObjs)}}function co(n,a){1&n&&t.nrm(0,"azt-loading-ui",44)}function _o(n,a){1&n&&t.nrm(0,"lucide-icon",45),2&n&&t.Y8G("ngClass",t.lJ4(1,ce))}function uo(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",40)(1,"button",41),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.pagingData())}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,co,1,0,"azt-loading-ui",42),t.DNE(5,_o,1,2,"lucide-icon",43),t.k0s()()}if(2&n){const e=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_xem_them")," "),t.R7$(2),t.Y8G("ngIf",e.statusObj.loading),t.R7$(1),t.Y8G("ngIf",!e.statusObj.loading)}}function po(n,a){if(1&n&&(t.qex(0),t.DNE(1,Bn,3,3,"h3",7),t.DNE(2,$n,3,3,"h3",8),t.DNE(3,lo,2,1,"ng-container",2),t.DNE(4,uo,6,5,"div",9),t.bVm()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",!e.historyObjs.length),t.R7$(1),t.Y8G("ngIf",e.historyObjs.length>0),t.R7$(1),t.Y8G("ngIf",e.examObj&&e.historyObjs.length>0),t.R7$(1),t.Y8G("ngIf",!e.disableBtn&&e.initDataCalled)}}let mo=(()=>{var n;class a extends b.H{pagingData(){this.getExamHistoryByHashId()}calculateTime(s,o){return s?this.timeService.calculationTimeExamTested(s,o):""}getExamHistoryByHashId(s){this.initStatusObj(),this.waitDestroy(this.frontExamResultHistoryService.apiFrontExamResultHistoryGetHistoryObjsGet(this.hashId,this.page).subscribe(o=>{if(1==o.success){s&&(this.initDataCalled=!0);let i=o.data?.objs?o.data?.objs?.length:0;if(o.data?.objs)for(let r=0;r<i;r++)this.historyObjs.push(o.data.objs[r]??{});else this.initDataCalled=!0,this.errorStatusObj(o.message??"");this.page=o.data?.nextPage??"",o.data?.nextPage||(this.disableBtn=!0),this.successStatusObj()}else this.errorStatusObj(o.message??"")}))}ngOnInit(){this.backToLink=this.commonService.getCurrentUrlWithoutLocale()}constructor(s,o){super(),this.frontExamResultHistoryService=s,this.timeService=o,this.curTenantId=0,this.curCategoryId=0,this.backToLink="",this.historyObjs=[],this.page="",this.disableBtn=!1,this.initDataCalled=!1}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(z.zd),t.rXU(xt.F))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-exam-history"]],inputs:{hashId:"hashId",examObj:"examObj",curTenantId:"curTenantId",curCategoryId:"curCategoryId"},features:[t.Vt3],decls:3,vars:2,consts:[[1,"exam-history","mx-auto","mt-5",2,"max-width","560px"],["class","mx-auto w-full",4,"ngIf"],[4,"ngIf"],[1,"mx-auto","w-full"],["azt-track-service","exam-history-_84BMuODi",1,"btn","btn-outline-secondary","p-3","block","mx-auto",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"],["class","font-medium mx-auto",4,"ngIf"],["class","font-medium",4,"ngIf"],["class","mt-5 text-center",4,"ngIf"],[1,"font-medium","mx-auto"],[1,"font-medium"],["class","box mx-auto mt-5",4,"ngFor","ngForOf"],[1,"box","mx-auto","mt-5"],["class","text-center border-b border-slate-200/60 dark:border-darkmode-400 p-5",4,"ngIf"],[1,"azt-info-exam","mt-5","px-5"],[1,"flex","items-center"],[1,"text-md","flex","items-center"],["name","clock-4","size","16",3,"ngClass"],[1,"text-md","font-medium","ml-auto"],["class","flex items-center mt-3",4,"ngIf"],[1,"flex","items-center","mt-3"],["name","circle-help","size","16",3,"ngClass"],[1,"p-5"],["azt-track-service","exam-history-1BV_WDkCER","class","btn btn-secondary w-full",3,"routerLink","queryParams",4,"ngIf"],["class","btn btn-secondary w-full",3,"disabled",4,"ngIf"],[1,"mt-3","text-right","text-slate-500"],[1,"text-center","border-b","border-slate-200/60","dark:border-darkmode-400","p-5"],["class","font-medium text-lg","style","font-size: 25px;",4,"ngIf"],[1,"font-medium","text-md","mr-2"],[1,"font-medium","text-lg",2,"font-size","25px"],[3,"mark"],["class","font-medium text-md mr-2",4,"ngIf"],["class","font-medium text-md","style","font-size: 25px;",4,"ngIf"],[1,"font-medium","text-md",2,"font-size","25px"],["name","circle-check","size","16",3,"ngClass"],[1,"text-md","font-medium","text-success","ml-auto"],["azt-track-service","exam-history-1BV_WDkCER",1,"btn","btn-secondary","w-full",3,"routerLink","queryParams"],["name","chevron-right","size","16",3,"ngClass"],[1,"btn","btn-secondary","w-full",3,"disabled"],[1,"mt-5","text-center"],["azt-track-service","exam-history-tzgH_6R1Ki",1,"btn","btn-outline-secondary","btn-transparent",3,"click"],["class","ml-1",4,"ngIf"],["name","chevron-down","size","16",3,"ngClass",4,"ngIf"],[1,"ml-1"],["name","chevron-down","size","16",3,"ngClass"]],template:function(s,o){1&s&&(t.j41(0,"div",0),t.DNE(1,Nn,5,4,"div",1),t.DNE(2,po,5,4,"ng-container",2),t.k0s()),2&s&&(t.R7$(1),t.Y8G("ngIf",!o.initDataCalled),t.R7$(1),t.Y8G("ngIf",o.initDataCalled))},dependencies:[k.Wk,_.YU,_.Sq,_.bT,Ln.D,pt.R,d.WGl,u.F2,u.wp,u.PP,u.Pj,u.ZY,u.bH],encapsulation:2}),a})();function go(n,a){if(1&n&&(t.j41(0,"div",4),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.SpI(" ",t.bMT(2,1,e.hasErrorMessage)," ")}}const fo=function(n,a){return{"monitor-height":n,"mobile-monitor":a}};function To(n,a){if(1&n&&(t.j41(0,"div",28),t.nrm(1,"div",29,30),t.k0s()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngClass",t.l_i(1,fo,!e.isMobileDevice,e.isMobileDevice))}}const mt=function(){return{"mr-2":!0}};function ho(n,a){if(1&n&&(t.j41(0,"div",17)(1,"p",13),t.nrm(2,"lucide-icon",31),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"p",15),t.EFF(6),t.nI1(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.nI1(8,"mytranslate"),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.Y8G("ngClass",t.lJ4(9,mt)),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_auto_thoi_gian_vao_thi")," "),t.R7$(3),t.SpI(" ",e.examObj.startTime?t.bMT(7,5,e.examObj.startTime):t.bMT(8,7,"lang_auto_khong_thoi_han")," ")}}function bo(n,a){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_bat_dau_thi")," "))}function So(n,a){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_testbank_start_practicing")," "))}function xo(n,a){1&n&&(t.j41(0,"div",32)(1,"strong"),t.EFF(2,"(*)"),t.k0s(),t.EFF(3),t.nI1(4,"mytranslate"),t.j41(5,"b"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.j41(10,"b"),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()),2&n&&(t.R7$(3),t.SpI(" ",t.bMT(4,4,"lang_auto_he_thong_chi_gui_hinh_anh_va_am_thanh_den_giao_vien")," "),t.R7$(3),t.JRh(t.bMT(7,6,"lang_auto_trong_qua_trinh_lam_bai_thi")),t.R7$(2),t.SpI(" ",t.bMT(9,8,"lang_auto__ngay_sau_khi_ket_thuc_bai_lam_he_thong_ngung_gui_du_lieu_du_lieu_thu_thap_chi_su_dung_phuc_vu_cho_cong_tac")," "),t.R7$(3),t.JRh(t.bMT(12,10,"lang_auto_to_chuc_ky_thi")))}const ko=function(){return{"ml-1 flex":!0}};function vo(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",5)(1,"div",6)(2,"h3",7),t.EFF(3),t.k0s(),t.j41(4,"div",8),t.EFF(5),t.nI1(6,"mytranslate"),t.nrm(7,"azt-download-qr-code",9),t.k0s(),t.DNE(8,To,3,4,"div",10),t.j41(9,"div",11)(10,"div",12)(11,"p",13),t.nrm(12,"lucide-icon",14),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"p",15),t.EFF(16),t.nI1(17,"mytranslate"),t.nI1(18,"mytranslate"),t.k0s()(),t.DNE(19,ho,9,10,"div",16),t.j41(20,"div",17)(21,"p",13),t.nrm(22,"lucide-icon",18),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"p",15),t.EFF(26),t.k0s()(),t.j41(27,"div",17)(28,"p",13),t.nrm(29,"lucide-icon",19),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s(),t.j41(32,"p",15),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s()(),t.j41(35,"div",17)(36,"p",13),t.nrm(37,"lucide-icon",20),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s(),t.j41(40,"p",15),t.EFF(41),t.nI1(42,"mytranslate"),t.k0s()()(),t.j41(43,"div",21)(44,"button",22),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.redirectToTakeTest())}),t.nI1(45,"isParentViewOnly"),t.DNE(46,bo,3,3,"span",23),t.DNE(47,So,3,3,"span",23),t.nrm(48,"lucide-icon",24),t.k0s()(),t.DNE(49,xo,13,12,"div",25),t.k0s(),t.nrm(50,"app-exam-history",26)(51,"azt-test-bank-frontend-adsense",27),t.k0s()}if(2&n){const e=t.XpG();t.R7$(3),t.SpI(" ",e.examObj.name," "),t.R7$(2),t.SpI(" ",t.bMT(6,28,"lang_auto_ma_de_thi")+": "+e.examObj.hashId," "),t.R7$(2),t.Y8G("fileName","azota_exam_qr_code_"+e.examObj.hashId)("linkUrl",e.copyLinkToClipboard()),t.R7$(1),t.Y8G("ngIf",e.examObj.autoMonitor&&0!=e.examObj.autoMonitor),t.R7$(4),t.Y8G("ngClass",t.lJ4(48,mt)),t.R7$(1),t.SpI(" ",t.bMT(14,30,"lang_testbank_tested_list_time_homework")," "),t.R7$(3),t.SpI(" ",e.examObj.minutes&&e.examObj.minutes>0?e.examObj.minutes+" "+t.bMT(17,32,"lang_auto_phut"):t.bMT(18,34,"lang_auto_khong_gioi_han")," "),t.R7$(3),t.Y8G("ngIf",1!=e.examConfigObj.allowTestingEachQuestion),t.R7$(3),t.Y8G("ngClass",t.lJ4(49,mt)),t.R7$(1),t.SpI(" ",t.bMT(24,36,"lang_auto_so_luong_cau_hoi")," "),t.R7$(3),t.SpI(" ",2==e.examObj.mixQuestion?e.examObj.limitMixQuestion:e.examObj.countQuestion," "),t.R7$(3),t.Y8G("ngClass",t.lJ4(50,mt)),t.R7$(1),t.SpI(" ",t.bMT(31,38,"lang_auto_loai_de")," "),t.R7$(3),t.SpI(" ",t.bMT(34,40,e.getExamType(e.examObj))," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(51,mt)),t.R7$(1),t.SpI(" ",t.bMT(39,42,"lang_auto_so_luot_lam_de")," "),t.R7$(3),t.SpI(" ",null==e.totalAttended?0:e.totalAttended+" "+t.bMT(42,44,"lang_auto_luot")," "),t.R7$(3),t.Y8G("disabled",t.bMT(45,46,"")),t.R7$(2),t.Y8G("ngIf",1!=e.examConfigObj.allowTestingEachQuestion),t.R7$(1),t.Y8G("ngIf",1==e.examConfigObj.allowTestingEachQuestion),t.R7$(1),t.Y8G("ngClass",t.lJ4(52,ko)),t.R7$(1),t.Y8G("ngIf",e.examObj.autoMonitor&&3==e.examObj.autoMonitor),t.R7$(1),t.Y8G("examObj",e.examObj)("curTenantId",e.curTenantId)("curCategoryId",e.curCategoryId)("hashId",e.hashId),t.R7$(1),t.Y8G("adsType","other")}}let Co=(()=>{var n;class a extends b.H{copyLinkToClipboard(){return`${this.commonService.getCurrentDomain()}/de-thi/${this.examObj?.hashId}`}redirectToTakeTest(){this.commonService.myNavigationWithQueryString(1===this.examConfigObj.allowTestingEachQuestion?null!=this.curCategoryId?"/test/take-training/"+this.curTenantId+"/"+this.curCategoryId+"/"+this.hashId:"/test/take-training/"+this.curTenantId+"/0/"+this.hashId:null!=this.curCategoryId?"/test/take-test/"+this.curTenantId+"/"+this.curCategoryId+"/"+this.hashId:"/test/take-test/"+this.curTenantId+"/0/"+this.hashId,""!=this.password&&null!=this.password?"?password="+encodeURIComponent(this.password)+"?backto="+encodeURIComponent(this.backToLink):"?backto="+encodeURIComponent(this.backToLink))}getExamType(s){return this.homeworkExamService.isOnlyEssay(s)?"lang_auto_tu_luan":this.homeworkExamService.isOnlyTrueFalse(s)?"lang_auto_trac_nghiem":"lang_auto_hon_hop"}getExamByHashId(){this.initStatusObj(),this.waitDestroy(this.frontExamService.apiFrontExamGetExamObjGet(this.hashId).subscribe(s=>{if(1==s.success){if(this.hasErrorMessage=s.data?.errorMessage?s.data.errorMessage:"",this.examObj=s.data?.examObj,this.examConfigObj=s.data?.examConfigObj??{},this.totalAttended=s.data?.totalAttended??0,null!=this.examObj){this.curCategoryId=this.examObj.categoryId??0,this.curTenantId=this.examObj.tenantId??0;let o="";this.commonService.getTranslate("lang_auto_bat_dau_thi").subscribe(i=>{o=i}),this.commonService.translateMetaData({title:o+": "+this.examObj.name,description:this.examObj.name})}this.examObj?.autoMonitor&&3==this.examObj?.autoMonitor&&this.openVideoMonitor(),this.successStatusObj()}else this.errorStatusObj(s.message??"",!0)}))}openVideoMonitor(){this.sAztShowMonitorService.monitorAtStudentDashboard(this.hashId,this.examObj)}ngOnInit(){this.waitDestroy((0,L.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.hashId=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString()??"";let s=this.commonService.getMyQueryParam("offline");if(s)return this.myNavigation(`/test/share-offline-result/${this.hashId}/${s}/-1`);this.password=this.commonService.getMyQueryParam("password")??"",this.curCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.backToLink=this.commonService.getMyQueryParam("backto")??"/student/classroom/0",this.getExamByHashId()})),super.ngOnInit()}constructor(s,o,i,r,l){super(),this.activeRoute=s,this.homeworkExamService=o,this.userService=i,this.frontExamService=r,this.sAztShowMonitorService=l,this.backToLink="",this.curTenantId=0,this.curCategoryId=0,this.hashId="",this.totalAttended=0,this.hasErrorMessage="",this.password="",this.examConfigObj={}}ngOnDestroy(){this.sAztShowMonitorService.destroyMonitorAtStudentDashboard(),super.ngOnDestroy()}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(k.nX),t.rXU(ie.Z),t.rXU(ut.R),t.rXU(z.iB),t.rXU(re.J))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-student-view"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[1,"relative"],["class","alert alert-danger mt-2",4,"ngIf"],["class","intro-y mt-8",4,"ngIf"],[1,"alert","alert-danger","mt-2"],[1,"intro-y","mt-8"],[1,"box","mx-auto","mt-5","p-5",2,"max-width","560px"],[1,"text-lg","font-medium","text-center"],[1,"text-md","justify-center","font-medium","mt-2","flex","items-center"],[1,"pl-2","ml-2",3,"fileName","linkUrl"],["class","row my-2",4,"ngIf"],[1,"azt-info-exam","mt-5"],[1,"flex","items-center"],[1,"text-md","flex","items-center"],["name","clock-4","size","16",3,"ngClass"],[1,"text-md","font-medium","ml-auto"],["class","flex items-center mt-3",4,"ngIf"],[1,"flex","items-center","mt-3"],["name","circle-help","size","16",3,"ngClass"],["name","clipboard-type","size","16",3,"ngClass"],["name","users","size","16",3,"ngClass"],[1,"mt-5"],["azt-track-service","exam-details-OgNF7kiBSP",1,"btn","btn-pending","w-full","text-white",3,"disabled","click"],[4,"ngIf"],["name","chevron-right","size","16",3,"ngClass"],["class","note-exam mt-1",4,"ngIf"],[3,"examObj","curTenantId","curCategoryId","hashId"],[3,"adsType"],[1,"row","my-2"],["id","monitorScreen",1,"self-center","text-center",2,"margin","auto",3,"ngClass"],["monitorScreen",""],["name","calendar-clock","size","16",3,"ngClass"],[1,"note-exam","mt-1"]],template:function(s,o){1&s&&(t.j41(0,"student-layout",0)(1,"div",1),t.DNE(2,go,3,3,"div",2),t.DNE(3,vo,52,53,"div",3),t.k0s()()),2&s&&(t.Y8G("headerBackToLink",o.backToLink),t.R7$(2),t.Y8G("ngIf",""!=o.hasErrorMessage),t.R7$(1),t.Y8G("ngIf",""==o.hasErrorMessage&&o.examObj))},dependencies:[_.YU,_.bT,le.d,Mn,_t.j,d.WGl,mo,u.wp,u.bH,u.hx],encapsulation:2}),a})();var wo=c(97924);let Io=(()=>{var n;class a extends b.H{ngOnInit(){super.ngOnInit(),this.checkVipAccountService.loadAdsScriptInStudent(this.isBusinessDomain)}constructor(s){super(),this.checkVipAccountService=s}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(wo.K))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-test-dashboard"]],features:[t.Vt3],decls:2,vars:0,consts:[["id","testbank-frontend-layout"]],template:function(s,o){1&s&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[k.n3],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]}),a})();var _e=c(25539),ue=c(74151),kt=c(30657),Oo=c(1382),Eo=c(55465),Pt=c(50589),yo=c(72267),Ao=c(86622),zo=c(51935),pe=c(96699),B=c(17818),Xt=c(45785),vt=c(60303),me=c(63958),jo=c(72802),Ro=c(84278),de=c(42244),Fo=c(54479),Q=c(33887),ge=c(51113),Go=c(32835),Do=c(30551),Ct=c(2915);function Mo(n,a){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Lo(n,a){if(1&n){const e=t.RV6();t.j41(0,"azt-mat-dialog-content")(1,"div",4),t.nrm(2,"azt-test-result-tracking",5),t.k0s()(),t.j41(3,"div",6)(4,"button",7),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dialogRef.close())}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()}if(2&n){const e=t.XpG();let s;t.R7$(2),t.Y8G("questionObjs",e.data.questionObjs)("isShowOriginAnswer",e.data.isShowOriginAnswer)("startQuestionIndex",null!==(s=null==e.examObj?null:e.examObj.startQuestionIndex)&&void 0!==s?s:1)("dataResultObjs",e.dataResultObjs)("dataScrollObjs",e.dataScrollObjs)("ipTrackingDataObjs",e.ipTrackingDataObjs),t.R7$(3),t.SpI(" ",t.bMT(6,7,"lang_auto_thoat")," ")}}let Qo=(()=>{var n;class a extends Q._{getData(s){this.initStatusObj(),this.frontExamResultTrackService.apiFrontExamResultTrackGetObjGet(this.examHashId,s).subscribe(o=>{if(1==o.success){this.examObj=o.data?.examObj;var i=this.castJsonToObj(this.zipDataService.decodeContentGzip(o?.data?.examResultTrackObj?.trackData??""));i&&i&&([this.dataResultObjs,this.dataScrollObjs]=this.sAztTestResultTrackingService.processData(i)),this.ipTrackingDataObjs=o.data?.ipTracks??[],this.successStatusObj()}else this.errorStatusObj(o.message??"",!0);this.isLoading=!1})}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_chi_tiet_qua_trinh_lam_trac_nghiem",description:"lang_auto_chi_tiet_qua_trinh_lam_trac_nghiem",image:"lang_cms_test_image"});let s=Number(this.data.examResultIdParam?.toString());this.examHashId=this.data.hashId??"",this.getData(s),super.ngOnInit()}constructor(s,o,i,r,l){super(l,r),this.frontExamResultTrackService=s,this.zipDataService=o,this.sAztTestResultTrackingService=i,this.dialogRef=r,this.data=l,this.dataResultObjs=[],this.dataScrollObjs=[],this.ipTrackingDataObjs=[],this.backToLink="",this.examHashId="",this.isLoading=!0}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(z.Wq),t.rXU(ge.j),t.rXU(Go.i),t.rXU(f.CP,8),t.rXU(f.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-test-front-result-tracking"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box","scroll-menu-test",2,"height","calc(100vh - 200px)","min-height","75vh"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"p-3"],[3,"questionObjs","isShowOriginAnswer","startQuestionIndex","dataResultObjs","dataScrollObjs","ipTrackingDataObjs"],[1,"mt-2","pt-2","pb-2","px-3","text-right","absolute","bottom-0","right-0"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary",3,"click"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0),t.DNE(1,Mo,1,1,"azt-loading-effect",1),t.DNE(2,Lo,7,9,"ng-template",null,2,t.C5r),t.k0s()),2&s){const i=t.sdS(3);t.R7$(1),t.Y8G("ngIf",o.isLoading)("ngIfElse",i)}},dependencies:[_.bT,j.K,Do.P,Ct.U,u.wp],styles:[".container-fluid[_ngcontent-%COMP%]{background-color:#fff;width:100vh;max-height:95vh;padding:.5rem 1.25rem 1.25rem;overflow-y:auto}"]}),a})();var No=c(27842),Bo=c(2178),$=c(5601);function $o(n,a){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Yo(n,a){1&n&&(t.j41(0,"th",27),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_auto_don_vi_kien_thuc")))}function Po(n,a){if(1&n&&(t.j41(0,"td",28)(1,"span",29),t.EFF(2),t.k0s()()),2&n){const e=a.$implicit;t.R7$(2),t.JRh(e.title)}}function Xo(n,a){1&n&&(t.j41(0,"th",30),t.nrm(1,"span",31),t.k0s())}function Vo(n,a){1&n&&(t.j41(0,"span",34),t.nrm(1,"azt-loading-ui"),t.k0s())}const Uo=function(n){return{"block w-28":n}};function qo(n,a){if(1&n){const e=t.RV6();t.j41(0,"span",35),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.practiceMore(o))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("ngClass",t.eq3(4,Uo,!e.isMobileDevice)),t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_testbank_practice")," ")}}function Ho(n,a){if(1&n&&(t.j41(0,"td",28),t.DNE(1,Vo,2,0,"span",32),t.DNE(2,qo,3,6,"span",33),t.k0s()),2&n){const e=a.$implicit;t.R7$(1),t.Y8G("ngIf",e.loadingPracticeMore),t.R7$(1),t.Y8G("ngIf",!e.loadingPracticeMore)}}function Wo(n,a){1&n&&(t.j41(0,"th",36)(1,"span",31),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_skill_statistical_total_question_completed")))}function Jo(n,a){if(1&n&&(t.j41(0,"td",28)(1,"span",31),t.EFF(2),t.k0s()()),2&n){const e=a.$implicit;t.R7$(2),t.JRh(e.numberOfQuestion)}}function Ko(n,a){1&n&&(t.j41(0,"th",36)(1,"span",31),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_skill_statistical_total_question_true")))}function Zo(n,a){if(1&n&&(t.j41(0,"td",28)(1,"span",31),t.EFF(2),t.k0s()()),2&n){const e=a.$implicit;t.R7$(2),t.JRh(e.numberOfCorrectQuestion)}}function ts(n,a){1&n&&(t.j41(0,"th",36)(1,"span",31),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_ty_le")))}const fe=function(n){return{"width.%":n}};function es(n,a){if(1&n&&(t.j41(0,"td",28)(1,"div",37)(2,"div",38)(3,"span",39),t.EFF(4),t.nI1(5,"replace"),t.nI1(6,"number"),t.k0s()()()()),2&n){const e=a.$implicit;t.R7$(2),t.Y8G("ngStyle",t.eq3(9,fe,e.currentPercent)),t.R7$(2),t.JRh(e.numberOfQuestion&&e.numberOfCorrectQuestion?t.brH(5,2,t.i5U(6,6,e.currentPercent,"1.0-1"),",",".")+"%":"")}}function ns(n,a){1&n&&(t.j41(0,"th",36),t.nrm(1,"span",31),t.k0s())}const Te=function(){return{"text-success":!0}};function os(n,a){1&n&&t.nrm(0,"lucide-icon",44),2&n&&t.Y8G("ngClass",t.lJ4(1,Te))}const he=function(){return{"text-danger":!0}};function ss(n,a){1&n&&t.nrm(0,"lucide-icon",45),2&n&&t.Y8G("ngClass",t.lJ4(1,he))}const be=function(n,a){return{"text-success":n,"text-danger":a}};function as(n,a){if(1&n&&(t.j41(0,"td",28)(1,"div",40),t.DNE(2,os,1,2,"lucide-icon",41),t.DNE(3,ss,1,2,"lucide-icon",42),t.j41(4,"span",43),t.EFF(5),t.nI1(6,"replace"),t.nI1(7,"number"),t.k0s()()()),2&n){const e=a.$implicit;t.R7$(2),t.Y8G("ngIf",e.adjustment>0),t.R7$(1),t.Y8G("ngIf",e.adjustment<0),t.R7$(1),t.Y8G("ngClass",t.l_i(11,be,e.adjustment>0,e.adjustment<0)),t.R7$(1),t.SpI(" ",e.adjustment?t.brH(6,4,t.i5U(7,8,100*e.adjustment,"1.0-1"),",",".")+"%":""," ")}}function is(n,a){1&n&&t.nrm(0,"tr",46)}function rs(n,a){1&n&&t.nrm(0,"tr",47)}function ls(n,a){1&n&&t.nrm(0,"lucide-icon",44),2&n&&t.Y8G("ngClass",t.lJ4(1,Te))}function cs(n,a){1&n&&t.nrm(0,"lucide-icon",45),2&n&&t.Y8G("ngClass",t.lJ4(1,he))}function _s(n,a){if(1&n&&(t.j41(0,"div",51)(1,"div",54),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",40),t.DNE(5,ls,1,2,"lucide-icon",41),t.DNE(6,cs,1,2,"lucide-icon",42),t.j41(7,"span",43),t.EFF(8),t.nI1(9,"replace"),t.nI1(10,"number"),t.k0s()()()),2&n){const e=t.XpG().$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_auto_ty_le_truoc_do")+":"," "),t.R7$(3),t.Y8G("ngIf",e.adjustment>0),t.R7$(1),t.Y8G("ngIf",e.adjustment<0),t.R7$(1),t.Y8G("ngClass",t.l_i(14,be,e.adjustment>0,e.adjustment<0)),t.R7$(1),t.SpI(" ",e.adjustment?t.brH(9,7,t.i5U(10,11,100*e.adjustment,"1.0-1"),",",".")+"%":""," ")}}function us(n,a){1&n&&(t.j41(0,"span",34),t.nrm(1,"azt-loading-ui"),t.k0s())}const ps=function(){return{"mr-2":!0}};function ms(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",58),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.practiceMore(o))}),t.nrm(1,"lucide-icon",59),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,ps)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_testbank_practice")," "))}function ds(n,a){if(1&n&&(t.j41(0,"div",48)(1,"div",49)(2,"div",50),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",51)(6,"div",52),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",53),t.EFF(10),t.k0s()(),t.j41(11,"div",51)(12,"div",52),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"div",53),t.EFF(16),t.k0s()(),t.j41(17,"div",51)(18,"div",54),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"div",37)(22,"div",38)(23,"span",39),t.EFF(24),t.nI1(25,"replace"),t.nI1(26,"number"),t.k0s()()()(),t.DNE(27,_s,11,17,"div",55),t.j41(28,"div",56),t.DNE(29,us,2,0,"span",32),t.DNE(30,ms,4,5,"button",57),t.k0s()()),2&n){const e=a.$implicit;t.R7$(3),t.SpI(" ",t.bMT(4,11,e.title)," "),t.R7$(4),t.SpI(" ",t.bMT(8,13,"lang_skill_statistical_total_question_completed")+":"," "),t.R7$(3),t.SpI(" ",e.numberOfQuestion," "),t.R7$(3),t.SpI(" ",t.bMT(14,15,"lang_skill_statistical_total_question_true")+":"," "),t.R7$(3),t.SpI(" ",e.numberOfCorrectQuestion," "),t.R7$(3),t.SpI(" ",t.bMT(20,17,"lang_auto_ty_le")+":"," "),t.R7$(3),t.Y8G("ngStyle",t.eq3(26,fe,e.currentPercent)),t.R7$(2),t.JRh(e.numberOfQuestion&&e.numberOfCorrectQuestion?t.brH(25,19,t.i5U(26,23,e.currentPercent,"1.0-1"),",",".")+"%":""),t.R7$(3),t.Y8G("ngIf",e.adjustment),t.R7$(2),t.Y8G("ngIf",e.loadingPracticeMore),t.R7$(1),t.Y8G("ngIf",!e.loadingPracticeMore)}}const Vt=function(n,a){return{"btn-primary-soft":n,"btn-secondary-soft":a}};function gs(n,a){if(1&n){const e=t.RV6();t.j41(0,"azt-mat-dialog-content",4)(1,"div",5)(2,"b",6),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.selectPreviousDay(1))}),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"button",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.selectPreviousDay(3))}),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.selectPreviousDay(7))}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()(),t.j41(15,"table",11),t.qex(16,12),t.DNE(17,Yo,3,3,"th",13),t.DNE(18,Po,3,1,"td",14),t.bVm(),t.qex(19,15),t.DNE(20,Xo,2,0,"th",16),t.DNE(21,Ho,3,2,"td",14),t.bVm(),t.qex(22,17),t.DNE(23,Wo,4,3,"th",18),t.DNE(24,Jo,3,1,"td",14),t.bVm(),t.qex(25,19),t.DNE(26,Ko,4,3,"th",18),t.DNE(27,Zo,3,1,"td",14),t.bVm(),t.qex(28,20),t.DNE(29,ts,4,3,"th",18),t.DNE(30,es,7,11,"td",14),t.bVm(),t.qex(31,21),t.DNE(32,ns,2,0,"th",18),t.DNE(33,as,8,14,"td",14),t.bVm(),t.DNE(34,is,1,0,"tr",22),t.DNE(35,rs,1,0,"tr",23),t.k0s(),t.DNE(36,ds,31,28,"div",24),t.k0s(),t.j41(37,"div",25)(38,"button",26),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.btnCloseDialog())}),t.EFF(39),t.nI1(40,"mytranslate"),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("minHeight","200px"),t.R7$(3),t.JRh(t.bMT(4,14,"lang_testbank_frontend_student_skill_statistic_title")),t.R7$(3),t.Y8G("ngClass",t.l_i(24,Vt,1==e.currentPreviousDay,1!=e.currentPreviousDay)),t.R7$(1),t.SpI(" 1 ",t.bMT(8,16,"lang_auto_ngay")," "),t.R7$(2),t.Y8G("ngClass",t.l_i(27,Vt,3==e.currentPreviousDay,3!=e.currentPreviousDay)),t.R7$(1),t.SpI(" 3 ",t.bMT(11,18,"lang_auto_ngay")," "),t.R7$(2),t.Y8G("ngClass",t.l_i(30,Vt,7==e.currentPreviousDay,7!=e.currentPreviousDay)),t.R7$(1),t.SpI(" 7 ",t.bMT(14,20,"lang_auto_ngay")," "),t.R7$(2),t.Y8G("dataSource",e.objs),t.R7$(19),t.Y8G("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),t.R7$(1),t.Y8G("matRowDefColumns",e.displayedColumns),t.R7$(1),t.Y8G("ngForOf",e.objs),t.R7$(3),t.SpI(" ",t.bMT(40,22,"lang_auto_dong")," ")}}let Se=(()=>{var n;class a extends Q._{btnCloseDialog(){this.dialogRef.close()}selectPreviousDay(s){this.currentPreviousDay=s,this.initData(this.currentPreviousDay)}practiceMore(s){null==this.objs.find(o=>o.loadingPracticeMore)&&(s.loadingPracticeMore=!0,this.waitDestroy(this.sLearningService.apiLearningAiKnowledgeIdGet(s.id??0).subscribe(o=>{if(o.success){let i=this.commonService.getMyQueryParam("backto")??"/student/classroom/0";this.commonService.myNavigationWithQueryString("/test/take-test/"+o.data?.tenantId+"/"+o.data?.categoryId+"/"+o.data?.hashId,"?backto="+encodeURIComponent(i)),this.btnCloseDialog()}else this.showErrorSnack(o.message);s.loadingPracticeMore=!1})))}initData(s){s||this.sAztAzotaTrackingService.sendCustomEvent("CLICK_STUDENT_SKILL_STATISTIC",[]);let o=this.sAztUserService.getUserObj();s||this.initStatusObj(),this.waitDestroy(this.studentPracticeService.aiApiV1StudentPracticeTnthptProfileGet(o.id,this.data.examSchoolSubjectId,s??7).subscribe({next:i=>{this.objs=(i.knowledgeItems??[]).map(r=>({...r,loadingPracticeMore:!1,currentPercent:r.numberOfQuestion?r.numberOfCorrectQuestion/r.numberOfQuestion*100:0})),this.stopStatusObj()},error:i=>{this.errorStatusObj(i.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.initData()}constructor(s,o,i,r,l,p){super(p,l),this.sAztAzotaTrackingService=s,this.sAztUserService=o,this.sLearningService=i,this.studentPracticeService=r,this.dialogRef=l,this.objs=[],this.displayedColumns=["name","actionCol","questionTotal","questionTrue","percent","oldPercent"],this.previousDayControl=new S.MJ(7,{nonNullable:!0}),this.currentPreviousDay=7}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(No.M),t.rXU(ut.R),t.rXU(z.MU),t.rXU(Bo.K),t.rXU(f.CP,8),t.rXU(f.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["coazt-student-skill-statistic-dialog"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box","p-3","skill-statistical"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"minHeight"],[1,"flex","flex-col","sm:flex-row","sm:items-center"],[2,"align-content","center"],[1,"flex","items-center","mt-3","sm:mt-0","sm:ml-2"],["azt-track-service","student-skill-statistic-zSJvSbnQR",1,"btn",3,"ngClass","click"],["azt-track-service","student-skill-statistic-UttohfO5q_",1,"btn","ml-2",3,"ngClass","click"],["azt-track-service","student-skill-statistic-tuRhGryjOa",1,"btn","ml-2",3,"ngClass","click"],["mat-table","",1,"mat-elevation-z8","mt-2","azt-hidden","md:block",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","class","whitespace-nowrap",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actionCol"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","questionTotal"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["matColumnDef","questionTrue"],["matColumnDef","percent"],["matColumnDef","oldPercent"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","box p-3 md:hidden mt-4 border border-slate-200 dark:border-darkmode-400",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-end","pt-2","w-full","bg-white"],["azt-track-service","student-skill-statistic-6PnY6_T3S2",1,"btn","btn-secondary","w-32",3,"click"],["mat-header-cell","",1,"whitespace-nowrap"],["mat-cell",""],[1,"whitespace-nowrap"],["mat-header-cell",""],[1,"center-span"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],["azt-track-service","student-skill-statistic-cK-mF-GKd","class","text-white btn btn-pending","style","font-weight: 430",3,"ngClass","click",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","student-skill-statistic-cK-mF-GKd",1,"text-white","btn","btn-pending",2,"font-weight","430",3,"ngClass","click"],["mat-header-cell","",1,"text-center"],[1,"progress"],[1,"progress-done",3,"ngStyle"],[1,"text-md","font-medium","span-baseline-middle"],[1,"flex"],["name","arrow-big-up-dash","size","24","style","z-index: 99; align-self: center",3,"ngClass",4,"ngIf"],["name","arrow-big-down-dash","size","24","style","z-index: 99; align-self: center",3,"ngClass",4,"ngIf"],[1,"text-md","font-medium","ml-1",2,"align-content","center",3,"ngClass"],["name","arrow-big-up-dash","size","24",2,"z-index","99","align-self","center",3,"ngClass"],["name","arrow-big-down-dash","size","24",2,"z-index","99","align-self","center",3,"ngClass"],["mat-header-row",""],["mat-row",""],[1,"box","p-3","md:hidden","mt-4","border","border-slate-200","dark:border-darkmode-400"],[1,"mt-0"],[1,"text-base","font-medium"],[1,"mt-3","flex","items-center"],[1,"mr-2"],[1,"font-medium"],[1,"whitespace-nowrap","mr-2"],["class","mt-3 flex items-center",4,"ngIf"],[1,"mt-3"],["azt-track-service","student-skill-statistic-cK-mF-GKd","class","text-white btn btn-gradient-primary","style","font-weight: 430",3,"click",4,"ngIf"],["azt-track-service","student-skill-statistic-cK-mF-GKd",1,"text-white","btn","btn-gradient-primary",2,"font-weight","430",3,"click"],["name","notebook-pen","size","16",3,"ngClass"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0),t.DNE(1,$o,1,1,"azt-loading-effect",1),t.DNE(2,gs,41,33,"ng-template",null,2,t.C5r),t.k0s()),2&s){const i=t.sdS(3);t.R7$(1),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",i)}},dependencies:[_.YU,_.Sq,_.bT,_.B3,$.Zl,$.tL,$.ji,$.cC,$.YV,$.iL,$.KS,$.$R,$.YZ,$.NB,d.WGl,j.K,Ct.U,pt.R,_.QX,u.wp,u.Ss],encapsulation:2}),a})();var xe=c(10805),fs=c(92801),wt=c(99927),It=c(46899),ke=c(64160);let Ts=(()=>{var n;class a extends b.H{copyLinkToClipboard(){return`${this.commonService.getCurrentDomainWithLanguage()}/admin/testbank/test-review/${this.examIdParam}/${this.userIdParam}/${this.studentIdParam}/${this.examResultIdParam??0}`}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}ngOnInit(){super.ngOnInit()}constructor(s){super(),this.commonService=s}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(Y.R))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-testbank-test-review-show-copy-link-button"]],inputs:{examResultIdParam:"examResultIdParam",userIdParam:"userIdParam",studentIdParam:"studentIdParam",examIdParam:"examIdParam"},features:[t.Vt3],decls:4,vars:4,consts:[[1,"flex","items-center","mt-2"],["azt-track-service","show-copy-link-button-DYZc-0oRwh",1,"btn-text-primary","font-medium",3,"cdkCopyToClipboard","click"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"button",1),t.bIt("click",function(){return o.showCopySuccess()}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&s&&(t.R7$(1),t.Y8G("cdkCopyToClipboard",o.copyLinkToClipboard()),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_copy_link_gui_giao_vien")," "))},dependencies:[ke.dF,u.wp],encapsulation:2}),a})();function hs(n,a){if(1&n&&(t.j41(0,"div",11),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"b"),t.EFF(4),t.nI1(5,"number"),t.k0s()()),2&n){const e=a.$implicit,s=a.index,o=t.XpG(2);t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_combine_exam_component")+(s+1),":\xa0"),t.R7$(3),t.JRh(e+(o.totalMarkSubject?"/"+t.i5U(5,4,o.totalMarkSubject/o.totalSubject,"1.0-2"):""))}}function bs(n,a){if(1&n&&(t.qex(0),t.DNE(1,hs,6,7,"div",10),t.bVm()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngForOf",null==e.examResultObj?null:e.examResultObj.subjectMarkValues)}}function Ss(n,a){if(1&n&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(1),t.E5c("(",e.examResultObj.rightAnswer,"/",e.examResultObj.totalQuestion-e.essayQuestionObjs.length,"\xa0",t.bMT(2,3,"lang_auto_cau_brackets"),"")}}function xs(n,a){if(1&n&&(t.j41(0,"div",11),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.DNE(4,Ss,3,5,"span",12),t.k0s()),2&n){const e=t.XpG(2);t.R7$(1),t.Lme(" ",t.bMT(2,3,"lang_auto_trac_nghiem"),": ",null!=e.examResultObj.trueFalseMark?e.examResultObj.trueFalseMark:t.bMT(3,5,"lang_auto_chua_co_diem")," "),t.R7$(3),t.Y8G("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.rightAnswer))}}function ks(n,a){if(1&n&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(1),t.E5c("(",e.examResultObj.rightAnswer,"/",e.examResultObj.totalQuestion-e.essayQuestionObjs.length,"\xa0",t.bMT(2,3,"lang_auto_cau_brackets"),"")}}function vs(n,a){if(1&n&&(t.j41(0,"div",11),t.EFF(1),t.nI1(2,"mytranslate"),t.DNE(3,ks,3,5,"span",12),t.k0s()),2&n){const e=t.XpG(2);t.R7$(1),t.Lme(" ",t.bMT(2,3,"lang_auto_trac_nghiem"),": ",e.examResultObj.mark," "),t.R7$(2),t.Y8G("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.rightAnswer))}}function Cs(n,a){if(1&n&&(t.DNE(0,xs,5,7,"div",7),t.DNE(1,vs,4,5,"div",7)),2&n){const e=t.XpG();t.Y8G("ngIf",2!=(null==e.examObj?null:e.examObj.whenShowResult)&&e.trueFalseChoiceQuestionObjs.length>0&&e.examResultObj&&e.examResultObj.totalQuestion&&!e.viewPractice),t.R7$(1),t.Y8G("ngIf",e.examResultObj&&e.examResultObj.totalQuestion&&e.viewPractice)}}function ws(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(1),t.LHq(" ",t.bMT(2,4,"lang_auto_tu_luan"),": ",null==e.examResultObj?null:e.examResultObj.essayMark," (",e.essayQuestionObjs.length," ",t.bMT(3,6,"lang_auto_cau_brackets")," ")}}function Is(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",15),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(1),t.SpI(" ",t.bMT(2,4,"lang_auto_tu_luan"),": "),t.R7$(3),t.JRh(t.bMT(5,6,"lang_auto_chua_cham")),t.R7$(2),t.Lme(" (",e.essayQuestionObjs.length," ",t.bMT(7,8,"lang_auto_cau_brackets")," ")}}function Os(n,a){if(1&n&&(t.j41(0,"div",11),t.DNE(1,ws,4,8,"span",14),t.DNE(2,Is,8,10,"span",14),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",null==e.examResultObj?null:e.examResultObj.confirmedAt),t.R7$(1),t.Y8G("ngIf",!(null!=e.examResultObj&&e.examResultObj.confirmedAt))}}function Es(n,a){if(1&n&&(t.j41(0,"div",11),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Lme(" ",t.bMT(2,2,"lang_auto_so_file_da_nop"),": ",e.files.length," ")}}function ys(n,a){if(1&n&&(t.j41(0,"div",11),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Lme(" ",t.bMT(2,2,"lang_auto_so_lan_thoat_man_hinh"),": ",e.examTracks.exitFullScreen," ")}}function As(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",11),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"button",16),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.clickResultTrack())}),t.nrm(4,"lucide-icon",17),t.k0s()()}2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_xem_chi_tiet_qua_trinh_lam_bai"),": "))}function zs(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",11),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"button",18),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showResultInfors())}),t.nrm(4,"lucide-icon",19),t.k0s()()}2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_show_infos_test_submit"),": "))}function js(n,a){if(1&n&&t.nrm(0,"app-testbank-test-review-show-copy-link-button",20),2&n){const e=t.XpG();t.Y8G("examResultIdParam",e.examResultIdParam)("userIdParam",e.userIdParam)("studentIdParam",e.studentIdParam)("examIdParam",e.examIdParam)}}let Rs=(()=>{var n;class a extends b.H{get checkHasType1Question(){let s=!1;for(let o=0;o<(this.questionObjs?.length??0);o++)if(this.answerTypeService.isOneChoiceAnswer(this.questionObjs?.[o])){s=!0;break}return s}showResultInfors(){this.sAztDialogService.open(fs.$,{width:"500px",data:this.resultInfos,restoreFocus:!1})}clickResultTrack(){this.sAztDialogService.open(Qo,{width:"750px",data:{questionObjs:this.questionObjs??[],isShowOriginAnswer:this.isShowOriginAnswer,examResultIdParam:this.examResultIdParam,hashId:this.examObj?.hashId},restoreFocus:!1})}showStudentSkillStatisticDialog(){if(this.examObj?.schoolSubjectId&&(10==this.examObj?.schoolLevelId||11==this.examObj?.schoolLevelId||32==this.examObj?.schoolSubjectId&&12==this.examObj?.schoolLevelId)){let s={subjectId:this.examObj?.schoolSubjectId,levelId:this.examObj?.schoolLevelId,userId:Number(this.userIdParam??"0")};this.sAztDialogService.open(xe.g,{width:"100vw",data:s,restoreFocus:!1})}else this.sAztDialogService.open(Se,{width:"100vw",data:{examSchoolSubjectId:this.examObj?.schoolSubjectId??0},restoreFocus:!1})}ngOnInit(){super.ngOnInit(),this.totalSubject=this.examResultObj?.subjectMarkValues?.length??3,this.totalMarkSubject=this.examResultObj?.examResultStatisticObj?.examQuestionStatisticObj?.totalMark??0}constructor(s,o){super(),this.answerTypeService=s,this.sAztDialogService=o,this.essayQuestionObjs=[],this.trueFalseChoiceQuestionObjs=[],this.files=[],this.isShowOriginAnswer=!0,this.historyExamResultObjs=[],this.resultInfos=[],this.viewPractice=!1,this.totalSubject=3,this.totalMarkSubject=30}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(wt._),t.rXU(It.i))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-testbank-test-review-show-detail-info-for-student"]],inputs:{examResultIdParam:"examResultIdParam",userIdParam:"userIdParam",studentIdParam:"studentIdParam",examIdParam:"examIdParam",offlineHashIdParam:"offlineHashIdParam",studentObj:"studentObj",examObj:"examObj",examResultObj:"examResultObj",markedByObj:"markedByObj",questionObjs:"questionObjs",essayQuestionObjs:"essayQuestionObjs",trueFalseChoiceQuestionObjs:"trueFalseChoiceQuestionObjs",files:"files",isShowOriginAnswer:"isShowOriginAnswer",historyExamResultObjs:"historyExamResultObjs",examTracks:"examTracks",resultInfos:"resultInfos",viewPractice:"viewPractice"},features:[t.Vt3],decls:20,vars:14,consts:[[1,"info-exam-online"],[1,"rounded-md","bg-slate-200","dark:bg-darkmode-400","p-3",2,"border-bottom-left-radius","0","border-bottom-right-radius","0"],[1,"flex","items-center"],[1,"text-md"],[1,"info-exam-body","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2",2,"border-top-left-radius","0","border-top-right-radius","0"],[4,"ngIf","ngIfElse"],["showNormalMark",""],["class","flex items-center mt-2",4,"ngIf"],[3,"examResultIdParam","userIdParam","studentIdParam","examIdParam",4,"ngIf"],["azt-track-service","show-detail-info-box-for-student-1uCfqpiF1",1,"btn","btn-success-soft","w-full","mt-2",3,"click"],["class","flex items-center mt-2",4,"ngFor","ngForOf"],[1,"flex","items-center","mt-2"],["class","ml-2",4,"ngIf"],[1,"ml-2"],[4,"ngIf"],[1,"text-pending"],["azt-track-service","show-detail-info-box-for-student-yw3gtIAU5N",1,"btn-text-primary","ml-2",3,"click"],["name","file-clock","size","20"],["azt-track-service","show-detail-info-box-for-student-d5Ae8h9_DU",1,"btn-text-primary","ml-2",3,"click"],["name","circle-ellipsis","size","20"],[3,"examResultIdParam","userIdParam","studentIdParam","examIdParam"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3)(4,"span"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()(),t.j41(7,"div",4),t.DNE(8,bs,2,1,"ng-container",5),t.DNE(9,Cs,2,2,"ng-template",null,6,t.C5r),t.DNE(11,Os,3,2,"div",7),t.DNE(12,Es,3,4,"div",7),t.DNE(13,ys,3,4,"div",7),t.DNE(14,As,5,3,"div",7),t.DNE(15,zs,5,3,"div",7),t.DNE(16,js,1,4,"app-testbank-test-review-show-copy-link-button",8),t.k0s(),t.j41(17,"button",9),t.bIt("click",function(){return o.showStudentSkillStatisticDialog()}),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()),2&s){const i=t.sdS(10);t.R7$(5),t.SpI(" ",t.bMT(6,10,"lang_auto_thong_tin_chi_tiet")," "),t.R7$(3),t.Y8G("ngIf",2!=(null==o.examObj?null:o.examObj.whenShowResult)&&(null==o.examObj?null:o.examObj.subjectMarks)&&(null==o.examResultObj||null==o.examResultObj.subjectMarkValues?null:o.examResultObj.subjectMarkValues.length))("ngIfElse",i),t.R7$(3),t.Y8G("ngIf",2!=(null==o.examObj?null:o.examObj.whenShowResult)&&o.essayQuestionObjs.length),t.R7$(1),t.Y8G("ngIf",o.essayQuestionObjs.length),t.R7$(1),t.Y8G("ngIf",o.examTracks&&0!=(null==o.examObj?null:o.examObj.autoMonitor)),t.R7$(1),t.Y8G("ngIf",2!=(null==o.examObj?null:o.examObj.whenShowResult)&&o.checkHasType1Question&&!o.offlineHashIdParam&&o.trueFalseChoiceQuestionObjs.length>0&&(null==o.examResultObj?null:o.examResultObj.totalQuestion)&&!o.viewPractice),t.R7$(1),t.Y8G("ngIf",o.resultInfos.length&&!o.viewPractice),t.R7$(1),t.Y8G("ngIf",!o.viewPractice),t.R7$(2),t.SpI(" ",t.bMT(19,12,"lang_testbank_frontend_student_skill_statistic_button")," ")}},dependencies:[_.Sq,_.bT,d.WGl,Ts,_.QX,u.wp],encapsulation:2}),a})();function Fs(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.JRh(null!=(null==e.examResultObj?null:e.examResultObj.mark)?(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):""):t.bMT(2,1,"lang_auto_chua_co_diem"))}}function Gs(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.JRh(null!=(null==e.examResultObj?null:e.examResultObj.mark)?(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"/10"):t.bMT(2,1,"lang_auto_chua_co_diem"))}}function Ds(n,a){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_auto_chua_duoc_xem")))}let Ms=(()=>{var n;class a extends b.H{ngOnInit(){super.ngOnInit()}constructor(s){super(),this.commonService=s,this.viewPractice=!1}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(Y.R))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-testbank-test-review-show-mark-info-of-student"]],inputs:{examObj:"examObj",examResultObj:"examResultObj",viewPractice:"viewPractice"},features:[t.Vt3],decls:7,vars:6,consts:[[1,"font-medium","text-lg","flex","items-center"],[1,"mr-3"],[4,"ngIf"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"span",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Fs,3,3,"span",2),t.DNE(5,Gs,3,3,"span",2),t.DNE(6,Ds,3,3,"span",2),t.k0s()),2&s&&(t.R7$(2),t.SpI("",t.bMT(3,4,"lang_auto_diem_cuoi"),": "),t.R7$(2),t.Y8G("ngIf",2!=(null==o.examObj?null:o.examObj.whenShowResult)&&!o.viewPractice),t.R7$(1),t.Y8G("ngIf",2!=(null==o.examObj?null:o.examObj.whenShowResult)&&o.viewPractice),t.R7$(1),t.Y8G("ngIf",2==(null==o.examObj?null:o.examObj.whenShowResult)))},dependencies:[_.bT,u.wp],encapsulation:2}),a})();var Ls=c(43726);const Qs=["drawer"];function Ns(n,a){1&n&&(t.j41(0,"div",4),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_chua_co_du_lieu_nop_bai")," "))}function Bs(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",30),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.sAztMatDrawerService.openDrawer())}),t.nI1(1,"mytranslate"),t.nrm(2,"lucide-icon",31),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_mo_menu"))}function $s(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",32),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.sAztMatDrawerService.closeDrawer())}),t.nI1(1,"mytranslate"),t.nrm(2,"lucide-icon",33),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_dong_menu"))}function Ys(n,a){if(1&n&&(t.qex(0),t.j41(1,"div",34)(2,"span",35),t.nrm(3,"lucide-icon",36),t.k0s(),t.j41(4,"span"),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.bVm()),2&n){const e=t.XpG(2);t.R7$(5),t.JRh(t.bMT(6,1,"lang_answer_test_must_reach_mark_to_show_answer_1")+(null==e.examConfigObj?null:e.examConfigObj.viewAnswerResultMinMark)+t.bMT(7,3,"lang_answer_test_must_reach_mark_to_show_answer_2"))}}function Ps(n,a){1&n&&(t.j41(0,"div",37),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_note_xem_noi_dung_con_thieu")," "))}function Xs(n,a){if(1&n&&t.nrm(0,"azt-loaded-img",44),2&n){const e=t.XpG(3);t.Y8G("imgSrc",null==e.examObj?null:e.examObj.examHeader)}}function Vs(n,a){if(1&n&&(t.j41(0,"div",45),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(1),t.Lme("",t.bMT(2,2,"lang_auto_tong_so_cau_dung")," ",null==e.examResultObj?null:e.examResultObj.rightAnswer,".")}}function Us(n,a){if(1&n&&(t.j41(0,"div",45),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);let s;t.R7$(1),t.Lme(" ",t.bMT(2,2,"lang_auto_tong_so_cau_sai")," ",(null!==(s=null==e.examResultObj?null:e.examResultObj.totalQuestion)&&void 0!==s?s:0)-e.essayQuestionObjs.length-(null!==(s=null==e.examResultObj?null:e.examResultObj.rightAnswer)&&void 0!==s?s:0),". ")}}const qs=function(n,a){return{correct:n,incorrect:a}};function Hs(n,a){if(1&n&&t.nrm(0,"azt-question-standalone-for-student-at-review-page",47),2&n){const e=t.XpG(),s=e.$implicit,o=e.index,i=t.XpG(3);t.Y8G("examObj",i.examObj)("examConfig",i.examConfigObj)("isShowOriginAnswer",!i.isMixQuestionExam||i.showOriginAnswerControl.value)("questionObj",s)("curQuestionIndex",o)("follower",i.followerRenderQuest)("isOfflineMark",!(null==i.initDataResult||null==i.initDataResult.data||!i.initDataResult.data.offlineMarkObj))("userAnswersObj",i.userAnswersObj)("curExamResultId",i.examResultIdParam)("currentTab","multiple_choice_tab")("ngClass",t.l_i(11,qs,null==s?null:s.correctAnswer,!s.correctAnswer))}}function Ws(n,a){if(1&n&&t.DNE(0,Hs,1,14,"azt-question-standalone-for-student-at-review-page",46),2&n){const e=t.XpG(3);t.Y8G("ngIf",e.examObj)}}function Js(n,a){if(1&n&&(t.j41(0,"mat-tab",38),t.nI1(1,"mytranslate"),t.j41(2,"div")(3,"div",39)(4,"div",40),t.DNE(5,Xs,1,1,"azt-loaded-img",41),t.DNE(6,Vs,3,4,"div",42),t.DNE(7,Us,3,4,"div",42),t.DNE(8,Ws,1,1,"ng-template",43),t.k0s()()()()),2&n){const e=t.XpG(2);t.FS9("label",t.bMT(1,8,"lang_auto_trac_nghiem")),t.R7$(2),t.HbH(e.viewOption),t.R7$(3),t.Y8G("ngIf",null==e.examObj?null:e.examObj.examHeader),t.R7$(1),t.Y8G("ngIf","viewRight"==e.viewOption),t.R7$(1),t.Y8G("ngIf","viewWrong"==e.viewOption),t.R7$(1),t.Y8G("ngForOf",e.questionObjs)}}function Ks(n,a){if(1&n&&t.nrm(0,"azt-mark-essay-new",54),2&n){const e=t.XpG(4);let s;t.Y8G("examObj",e.examObj)("examConfig",e.examConfigObj)("showForTeacher",!1)("curSelectedTab",e.curSelectedTab)("questions",e.essayQuestionObjs)("userAnswersObj",e.userAnswersObj)("examResultObj",e.examResultObj)("files",e.files)("resultID",null!==(s=e.examResultIdParam)&&void 0!==s?s:0)}}function Zs(n,a){if(1&n&&(t.qex(0),t.DNE(1,Ks,1,9,"azt-mark-essay-new",53),t.bVm()),2&n){const e=t.XpG(3);t.R7$(1),t.Y8G("ngIf",1==e.curSelectedTab)}}function ta(n,a){if(1&n&&t.nrm(0,"azt-mark-essay",55),2&n){const e=t.XpG(3);let s;t.Y8G("examObj",e.examObj)("examConfig",e.examConfigObj)("showForTeacher",!1)("questions",e.essayQuestionObjs)("userAnswersObj",e.userAnswersObj)("examResultObj",e.examResultObj)("resultID",null!==(s=e.examResultIdParam)&&void 0!==s?s:0)("files",e.files)("iframeViewMode","view")("hasLoadedData",e.hasLoadedData)}}function ea(n,a){if(1&n&&(t.j41(0,"mat-tab",48),t.nI1(1,"mytranslate"),t.j41(2,"div",49)(3,"div",50),t.DNE(4,Zs,2,1,"ng-container",51),t.DNE(5,ta,1,10,"ng-template",null,52,t.C5r),t.k0s()()()),2&n){const e=t.sdS(6),s=t.XpG(2);t.FS9("label",t.bMT(1,3,"lang_auto_tu_luan")),t.R7$(4),t.Y8G("ngIf",s.checkMarkNote)("ngIfElse",e)}}const na=function(n,a){return{"w-85":n,"w-25":a}},oa=function(n){return{"azt-mobile-draw-left":n}},sa=function(){return[]},aa=function(n){return{"ml-5":n}};function ia(n,a){if(1&n){const e=t.RV6();t.j41(0,"mat-drawer-container",5)(1,"mat-drawer",6,7),t.bIt("closedStart",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.changeStatusNav())}),t.j41(3,"div",8)(4,"div",9)(5,"div",10),t.nrm(6,"app-testbank-test-review-show-mark-info-of-student",11),t.k0s(),t.j41(7,"div",12),t.nrm(8,"app-testbank-test-review-show-detail-info-for-student",13)(9,"app-testbank-show-offline-result",14),t.nI1(10,"mytranslate"),t.k0s()(),t.nrm(11,"azt-practice-box",15),t.k0s()(),t.j41(12,"mat-drawer-content")(13,"div",16)(14,"div",17)(15,"div",18),t.DNE(16,Bs,3,3,"button",19),t.DNE(17,$s,3,3,"button",20),t.j41(18,"div",21),t.EFF(19),t.k0s(),t.j41(20,"div",22),t.eu8(21,23),t.k0s()(),t.DNE(22,Ys,8,5,"ng-container",24),t.j41(23,"div",25),t.DNE(24,Ps,3,3,"div",26),t.j41(25,"mat-tab-group",27),t.bIt("selectedTabChange",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.onTabChanged(o))})("selectedIndexChange",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.curSelectedTab=o)}),t.DNE(26,Js,9,10,"mat-tab",28),t.DNE(27,ea,7,5,"mat-tab",29),t.k0s()()()()()()}if(2&n){const e=t.XpG(),s=t.sdS(5);let o,i;t.Y8G("hasBackdrop",e.sAztMatDrawerService.hasBackdrop),t.R7$(1),t.FS9("opened",e.sAztMatDrawerService.isOpenSideNav?"true":"false"),t.Y8G("ngClass",t.l_i(54,na,e.isMobileDevice,!e.isMobileDevice))("mode",e.sAztMatDrawerService.mode),t.R7$(2),t.Y8G("ngClass",t.eq3(57,oa,e.isMobileDevice)),t.R7$(3),t.Y8G("examObj",e.examObj)("examResultObj",e.examResultObj)("viewPractice",e.viewPractice),t.R7$(2),t.Y8G("examResultIdParam",e.examResultIdParam)("userIdParam",e.userIdParam)("studentIdParam",e.studentIdParam)("examIdParam",e.examIdParam)("offlineHashIdParam",e.offlineHashIdParam)("viewPractice",e.viewPractice)("studentObj",e.studentObj)("examObj",e.examObj)("examResultObj",e.examResultObj)("markedByObj",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.markedByObj)("questionObjs",e.questionObjs)("essayQuestionObjs",e.essayQuestionObjs)("trueFalseChoiceQuestionObjs",e.trueFalseChoiceQuestionObjs)("isShowOriginAnswer",!e.isMixQuestionExam||e.showOriginAnswerControl.value)("files",e.files)("historyExamResultObjs",null!==(o=null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.historyExamResultObjs)&&void 0!==o?o:t.lJ4(59,sa))("examTracks",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.examTracks)("resultInfos",e.resultInfos),t.R7$(1),t.Y8G("backToLink",e.backToLink)("examResultIdParam",e.examResultIdParam)("userIdParam",e.userIdParam)("studentIdParam",e.studentIdParam)("examIdParam",e.examIdParam)("examObj",e.examObj)("essayExam",!!e.essayQuestionObjs.length)("essayMark",null!=e.examResultObj&&e.examResultObj.confirmedAt?(null!==(i=null==e.examResultObj?null:e.examResultObj.essayMark)&&void 0!==i?i:0).toString():t.bMT(10,52,"lang_auto_chua_cham"))("questionObjs",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.questionObjs)("offlineMarkObj",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.offlineMarkObj)("offlineMixQuestionObj",null==e.initDataResult||null==e.initDataResult.data?null:e.initDataResult.data.offlineMixQuestionObj)("isDeletableExamResultObj",!1),t.R7$(2),t.Y8G("showLikeMobile",!0)("resultId",e.examResultIdParam)("webPage","STUDENT_VIEW_RESULT"),t.R7$(2),t.Y8G("ngClass",t.eq3(60,aa,!e.isMobileDevice&&e.sAztMatDrawerService.isOpenSideNav)),t.R7$(3),t.Y8G("ngIf",!e.sAztMatDrawerService.isOpenSideNav||e.isMobileDevice),t.R7$(1),t.Y8G("ngIf",e.sAztMatDrawerService.isOpenSideNav&&!e.isMobileDevice),t.R7$(1),t.FS9("matTooltip",null==e.examObj?null:e.examObj.name),t.R7$(1),t.SpI(" ",null==e.examObj?null:e.examObj.name," "),t.R7$(2),t.Y8G("ngTemplateOutlet",s),t.R7$(1),t.Y8G("ngIf","lang_core_dont_allow_show_answer_by_min_mark"==e.errorMessage),t.R7$(2),t.Y8G("ngIf",e.isBusinessDomain&&e.isMobileWebView),t.R7$(1),t.Y8G("selectedIndex",e.curSelectedTab),t.R7$(1),t.Y8G("ngIf",e.trueFalseChoiceQuestionObjs.length>0),t.R7$(1),t.Y8G("ngIf",e.essayQuestionObjs.length>0&&e.examObj&&e.examResultObj)}}function ra(n,a){1&n&&(t.j41(0,"button",73)(1,"span",74),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_sai")," "))}function la(n,a){1&n&&(t.j41(0,"button",75)(1,"span",74),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_dung")," "))}function ca(n,a){1&n&&(t.j41(0,"button",76)(1,"span",74),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_testbank_question_origin")," "))}function _a(n,a){1&n&&(t.j41(0,"button",77)(1,"span",78),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_testbank_question_mix")," "))}function ua(n,a){if(1&n){const e=t.RV6();t.j41(0,"li")(1,"label",79),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"div",69)(5,"input",80),t.bIt("change",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeViewOriginAnswer(o))})("click",function(o){return o.stopPropagation()}),t.k0s()()()()}if(2&n){const e=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_test_review_show_origin_answer")," "),t.R7$(3),t.Y8G("formControl",e.showOriginAnswerControl)}}const pa=function(){return{"mr-2":!0}};function ma(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",56),t.DNE(1,ra,4,3,"button",57),t.DNE(2,la,4,3,"button",58),t.DNE(3,ca,4,3,"button",59),t.DNE(4,_a,4,3,"button",60),t.j41(5,"button",61),t.nrm(6,"lucide-icon",62),t.j41(7,"span",63),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()(),t.j41(10,"mat-menu",64,65)(12,"div",66)(13,"ul",67)(14,"li")(15,"label",68),t.EFF(16),t.nI1(17,"mytranslate"),t.j41(18,"div",69)(19,"input",70),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onChangeViewOption("viewRight"))})("click",function(o){return o.stopPropagation()}),t.k0s()()()(),t.j41(20,"li")(21,"label",71),t.EFF(22),t.nI1(23,"mytranslate"),t.j41(24,"div",69)(25,"input",72),t.bIt("change",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onChangeViewOption("viewWrong"))})("click",function(o){return o.stopPropagation()}),t.k0s()()()(),t.DNE(26,ua,6,4,"li",24),t.k0s()()()}if(2&n){const e=t.sdS(11),s=t.XpG();t.R7$(1),t.Y8G("ngIf","viewWrong"===s.viewOption),t.R7$(1),t.Y8G("ngIf","viewRight"===s.viewOption),t.R7$(1),t.Y8G("ngIf",s.isMixQuestionExam&&s.showOriginAnswerControl.value),t.R7$(1),t.Y8G("ngIf",s.isMixQuestionExam&&!s.showOriginAnswerControl.value),t.R7$(1),t.Y8G("matMenuTriggerFor",e),t.R7$(1),t.Y8G("ngClass",t.lJ4(18,pa)),t.R7$(2),t.SpI(" ",t.bMT(9,12,"lang_testbank_tested_list_sort")," "),t.R7$(8),t.SpI(" ",t.bMT(17,14,"lang_auto_cau_dung")," "),t.R7$(3),t.Y8G("checked","viewRight"==s.viewOption),t.R7$(3),t.SpI(" ",t.bMT(23,16,"lang_auto_cau_sai")," "),t.R7$(3),t.Y8G("checked","viewWrong"==s.viewOption),t.R7$(1),t.Y8G("ngIf",s.isMixQuestionExam)}}let da=(()=>{var n;class a extends b.H{set drawer(s){this.sAztMatDrawerService.resizeDrawerHeight(!0,s)}onResize(s){this.isMobileDevice=s.target.innerWidth<980,this.sAztMatDrawerService.changeToMobileMode(this.isMobileDevice)}changeStatusNav(){this.isMobileDevice&&(document.body.style.overflow="auto")}onChangeViewOption(s){this.viewOption=this.viewOption==s?"viewAll":s}onTabChanged(s){this.matTabGroupIndex=s.index}changeViewOriginAnswer(s){this.sAztBrowserStorageService.saveSimpleSessionStorage("test-review-showing-answer-view",this.showOriginAnswerControl.value?"1":"0")}checkingShowAnswerConfig(){return!(!this.examConfigObj||!this.examResultObj||3!=this.examObj?.whenShowAnswer||!(this.examResultObj.mark&&this.examConfigObj.viewAnswerResultMinMark&&this.examResultObj.mark<this.examConfigObj.viewAnswerResultMinMark))}getQuestionCanFeedback(){if(Array.isArray(this.questionObjs)){let s=[];this.questionObjs.forEach(o=>{o.id&&!this.commonService.isExistInArray(s,o.id)&&s.push(o.id)}),this.waitDestroy(this.testMarketFeedbackService.apiTestMarketFeedbacksQuestionsGet(Number(this.examIdParam),s.join(",")).subscribe(o=>{if(1==o.success){let i=o.data?.objs??[];if(Array.isArray(this.questionObjs))for(let r=0;r<this.questionObjs.length;r++)i.forEach(l=>{this.questionObjs&&this.questionObjs[r].id==l.questionId&&(this.questionObjs[r].enableFeedback=l.allowFeedback)});this.successStatusObj()}else this.errorStatusObj(o.message??"",!0)}))}else this.stopStatusObj()}processConvertData(s){if(s.data){this.studentObj=this.testReviewService.mapStudentObjWithTestedObjForFrontendStudent(s.data,this.testedUserObjs,this.studentObj),this.examObj=s?.data?.examObj,this.examResultObj=s?.data?.examResultObj,this.examConfigObj=s?.data?.examConfigObj,this.files=this.commonService.myParseJson(this.examResultObj?.files??"")??[],this.resultInfos=this.commonService.willDeleteParseJson(this.examResultObj?.infors??"")??[],this.errorMessage=s?.data?.errorMessage??"";const o=this.commonService.castJsonToClassObjs(_e.I,JSON.stringify(s.data.questionObjs??[]));this.followerRenderQuest.setNumQuest(o?.length||0),this.questionObjs=o,this.questionObjs?.forEach(m=>{m.correctAnswer=this.commonService.isExistInArray(s?.data?.correctQuestionIds,m.id),m.isRoleTeacher=!1}),this.docxService.replaceCanvasBackgroundTS(this.questionObjs??[]),this.questionObjs=this.testReviewService.addIndexLabelToQuestionObjs(this.questionObjs),this.essayQuestionObjs=this.testReviewService.getEssayQuestionObjs(this.questionObjs),this.trueFalseChoiceQuestionObjs=this.testReviewService.getTrueFalseQuestionObjs(this.questionObjs),0==this.trueFalseChoiceQuestionObjs.length&&(this.curSelectedTab=1),this.userAnswersObj=this.testReviewService.convertAnswersArr(this.castJsonToObj(s.data.examResultObj?.answers??"")??[]);let i=0,r=0;this.questionObjs?.forEach((m,T)=>{m.labelIndex=T,this.examConfigObj?.resetQuestionIndex&&m.groupInfo&&m.groupInfo.groupId&&(i!=m.groupInfo.groupId&&(i=m.groupInfo.groupId,r=0),m.labelIndex=r,r++)}),this.isMixQuestionExam=!!this.questionObjs?.find(m=>m.answers.find(T=>T.alpha&&T.alpha!=T.key)),this.examResultIdParam=this.examResultObj?.id??0,this.examIdParam=this.examObj?.id?.toString()??"0",this.userIdParam=this.examResultObj?.userId?.toString()??"0",this.studentIdParam=this.examResultObj?.studentId?.toString()??this.studentObj?.id.toString()??"0",this.getQuestionCanFeedback(),this.hasLoadedData=!0;const l=this.envService.getVersionMarkNote(this.envService.getEnvValue("classliveUrl")??""),p=1e6;if(this.examResultObj?.result){const m=this.castJsonToObj(this.examResultObj?.result??"");this.checkMarkNote=!(!m||!m.urlDataMark)}else this.checkMarkNote=l>p}}ngOnInit(){this.waitDestroy((0,L.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.offlineHashIdParam=this.commonService.getMyQueryParam("offline"),this.examResultIdParam=Number(this.activeRoute.snapshot.paramMap.get("result_id")),this.userIdParam=this.activeRoute.snapshot.paramMap.get("user_id")??void 0,this.studentIdParam=this.activeRoute.snapshot.paramMap.get("student_id")??void 0,this.examIdParam=this.activeRoute.snapshot.paramMap.get("exam_id")??void 0,this.initDataResult&&this.processConvertData(this.initDataResult),this.showOriginAnswerControl.setValue("1"==this.sAztBrowserStorageService.getSimpleSessionStorage("test-review-showing-answer-view"))})),this.answerBoxService.switchEssayTabMessage.subscribe(s=>{s&&(this.curSelectedTab=1,setTimeout(()=>{window.scroll(0,0)},0))}),super.ngOnInit()}constructor(s,o,i,r,l,p,m,T,I){super(),this.activeRoute=s,this.docxService=o,this.envService=i,this.sAztBrowserStorageService=r,this.testReviewService=l,this.answerBoxService=p,this.exportResultService=m,this.testMarketFeedbackService=T,this.sAztMatDrawerService=I,this.viewPractice=!1,this.curSelectedTab=0,this.backToLink="",this.examResultIdParam=0,this.viewOption="viewAll",this.matTabGroupIndex=0,this.userAnswersObj={},this.files=[],this.resultInfos=[],this.essayQuestionObjs=[],this.trueFalseChoiceQuestionObjs=[],this.showOriginAnswerControl=new S.MJ(!1,{nonNullable:!0}),this.followerRenderQuest=new kt.e,this.isMixQuestionExam=!1,this.hasLoadedData=!1,this.checkMarkNote=!1,this.errorMessage=""}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(k.nX),t.rXU(Oo.I),t.rXU(Eo.t),t.rXU(Pt.z),t.rXU(yo.E),t.rXU(Ao.C),t.rXU(zo.h),t.rXU(pe.l_),t.rXU(ue.n))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-test-review-for-student"]],viewQuery:function(s,o){if(1&s&&t.GBs(Qs,5),2&s){let i;t.mGM(i=t.lsd())&&(o.drawer=i.first)}},inputs:{initDataResult:"initDataResult",testedUserObjs:"testedUserObjs",viewPractice:"viewPractice"},features:[t.Jv_([ue.n]),t.Vt3],decls:6,vars:2,consts:[["id","test-review-for-student",1,"azt-result-list",3,"resize"],["class","p-3 m-3 text-center alert text-slate-500 font-medium",4,"ngIf","ngIfElse"],["hasResult",""],["ShowCorrectIncorrectFilterTpl",""],[1,"p-3","m-3","text-center","alert","text-slate-500","font-medium"],[1,"azt-drawer-container","mt-5",2,"height","auto",3,"hasBackdrop"],[3,"ngClass","mode","opened","closedStart"],["drawer",""],[1,"azt-draw-left",2,"overflow-x","hidden",3,"ngClass"],[1,"box"],[1,"info-user","border-b","border-slate-200/60","dark:border-darkmode-400","p-3"],[3,"examObj","examResultObj","viewPractice"],[1,"p-3"],[3,"examResultIdParam","userIdParam","studentIdParam","examIdParam","offlineHashIdParam","viewPractice","studentObj","examObj","examResultObj","markedByObj","questionObjs","essayQuestionObjs","trueFalseChoiceQuestionObjs","isShowOriginAnswer","files","historyExamResultObjs","examTracks","resultInfos"],[3,"backToLink","examResultIdParam","userIdParam","studentIdParam","examIdParam","examObj","essayExam","essayMark","questionObjs","offlineMarkObj","offlineMixQuestionObj","isDeletableExamResultObj"],[1,"mt-3","block",3,"showLikeMobile","resultId","webPage"],[1,"azt-drawer-content","azt-test-review-for-teacher-new","relative",3,"ngClass"],[1,"p-0","slide-main"],[1,"flex","box","sm:h-auto","items-center","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2","text-slate-500","mb-5"],["azt-track-service","test-review-for-student-ZI4M15FHLQ","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","test-review-for-student-lnUiT-MGaoA","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"truncate","font-medium","mx-auto","text-slate-600","dark:text-slate-300",2,"max-width","50%",3,"matTooltip"],[1,"relative","flex"],[3,"ngTemplateOutlet"],[4,"ngIf"],[1,"box","flex-1"],["class","p-3 text-warning",4,"ngIf"],[3,"selectedIndex","selectedTabChange","selectedIndexChange"],[3,"label",4,"ngIf"],["id","tabEssay",3,"label",4,"ngIf"],["azt-track-service","test-review-for-student-ZI4M15FHLQ",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["name","panel-left-open","size","16"],["azt-track-service","test-review-for-student-lnUiT-MGaoA",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["name","panel-left-close","size","16"],[1,"alert","alert-danger","mb-5",2,"align-items","center"],[1,"w-4","h-4","mr-2"],["name","octagon-alert","size","18"],[1,"p-3","text-warning"],[3,"label"],[1,"azt-student-list"],[1,"p-3",2,"padding-bottom","80px"],["style","display: block","class","mb-1",3,"imgSrc",4,"ngIf"],["class","p-2 font-bold",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"mb-1",2,"display","block",3,"imgSrc"],[1,"p-2","font-bold"],["class","relative",3,"examObj","examConfig","isShowOriginAnswer","questionObj","curQuestionIndex","follower","isOfflineMark","userAnswersObj","curExamResultId","currentTab","ngClass",4,"ngIf"],[1,"relative",3,"examObj","examConfig","isShowOriginAnswer","questionObj","curQuestionIndex","follower","isOfflineMark","userAnswersObj","curExamResultId","currentTab","ngClass"],["id","tabEssay",3,"label"],["id","markEssay"],[1,"p-3",2,"padding-bottom","20px"],[4,"ngIf","ngIfElse"],["isFrameMark",""],[3,"examObj","examConfig","showForTeacher","curSelectedTab","questions","userAnswersObj","examResultObj","files","resultID",4,"ngIf"],[3,"examObj","examConfig","showForTeacher","curSelectedTab","questions","userAnswersObj","examResultObj","files","resultID"],[3,"examObj","examConfig","showForTeacher","questions","userAnswersObj","examResultObj","resultID","files","iframeViewMode","hasLoadedData"],[1,"filter","flex"],["class","btn btn-sm btn-danger ml-2","style","cursor: default; padding: 6px 4px",4,"ngIf"],["class","btn btn-sm btn-success ml-2","style","cursor: default; padding: 6px 4px",4,"ngIf"],["class","btn btn-sm btn-pending mx-2","style","cursor: default; padding: 6px 4px",4,"ngIf"],["class","btn btn-sm btn-secondary mx-2","style","cursor: default; padding: 6px 4px",4,"ngIf"],[1,"btn","btn-sm",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],[1,"azt-hidden","md:block"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["for","viewRight",1,"dropdown-item","cursor-pointer"],[1,"form-check","form-switch","ml-auto"],["azt-track-service","test-review-for-student-AzpxXYDv2dW","id","viewRight","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change","click"],["for","viewWrong",1,"dropdown-item","cursor-pointer"],["azt-track-service","test-review-for-student-FiRglRqPWZP","id","viewWrong","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change","click"],[1,"btn","btn-sm","btn-danger","ml-2",2,"cursor","default","padding","6px 4px"],[1,"text-white","block"],[1,"btn","btn-sm","btn-success","ml-2",2,"cursor","default","padding","6px 4px"],[1,"btn","btn-sm","btn-pending","mx-2",2,"cursor","default","padding","6px 4px"],[1,"btn","btn-sm","btn-secondary","mx-2",2,"cursor","default","padding","6px 4px"],[1,"block"],["for","show-origin-answer",1,"dropdown-item","cursor-pointer"],["azt-track-service","test-review-for-student-FiRglRqPWZP","id","show-origin-answer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"formControl","change","click"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0),t.bIt("resize",function(r){return o.onResize(r)},!1,t.tSv),t.DNE(1,Ns,3,3,"div",1),t.DNE(2,ia,28,62,"ng-template",null,2,t.C5r),t.k0s(),t.DNE(4,ma,27,19,"ng-template",null,3,t.C5r)),2&s){const i=t.sdS(3);t.R7$(1),t.Y8G("ngIf",!(null!=o.initDataResult&&null!=o.initDataResult.data&&o.initDataResult.data.examResultObj||null!=o.initDataResult&&null!=o.initDataResult.data&&o.initDataResult.data.historyExamResultObjs))("ngIfElse",i)}},dependencies:[_.YU,_.Sq,_.bT,_.T3,B.kk,B.Cp,Xt.qe,Xt.$C,Xt.$l,vt.mq,vt.T8,V.oV,me.H,jo.f,Ro.x,de.X,S.Zm,S.BC,S.l_,d.WGl,Fo.t,Rs,Ms,Ls.U,u.wp],encapsulation:2}),a})();function ga(n,a){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function fa(n,a){if(1&n&&t.nrm(0,"azt-test-review-for-student",4),2&n){const e=t.XpG();t.Y8G("initDataResult",e.initDataAnswerTest)}}let Ta=(()=>{var n;class a extends b.H{redirectToBackLink(){let s=this.commonService.getMyQueryParam("backto")??"/student/classroom/0";this.backToLink=this.commonService.getMyQueryParam("offline")?s||"/student/classroom/0":s}translateMetaTitle(s){this.commonService.getTranslate("lang_auto_ket_qua").subscribe(o=>{this.commonService.translateMetaData({title:o+": "+s,description:o+": "+s,image:"lang_cms_test_image"})})}getAndProcessDataForStudent(){this.initStatusObj(),this.waitDestroy((0,L.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var s=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString();let o=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),i=this.commonService.getMyQueryParam("offline")??"",r=this.commonService.myTranslateInstant("lang_auto_ket_qua");this.frontExamResultService.apiFrontExamResultGetExamAnswerGet(s,o,i).subscribe(l=>{1==l.success?(this.initDataAnswerTest=l,this.headerTitle=`${r}: ${l?.data?.examObj?.name}`,this.translateMetaTitle(l.data?.examObj?.name),this.successStatusObj()):this.errorStatusObj(l.message??"",!0)})}))}ngOnInit(){this.getAndProcessDataForStudent(),this.redirectToBackLink(),super.ngOnInit()}constructor(s,o){super(),this.activeRoute=s,this.frontExamResultService=o,this.headerTitle="",this.backToLink=""}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(k.nX),t.rXU(z.Ry))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-answer-test"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"initDataResult"]],template:function(s,o){if(1&s&&(t.j41(0,"student-layout",0),t.DNE(1,ga,1,1,"azt-loading-effect",1),t.DNE(2,fa,1,1,"ng-template",null,2,t.C5r),t.k0s()),2&s){const i=t.sdS(3);t.Y8G("headerBackToLink",o.backToLink),t.R7$(1),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",i)}},dependencies:[_.bT,j.K,da,_t.j],encapsulation:2}),a})();var ha=c(9280);function ba(n,a){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Sa(n,a){1&n&&(t.j41(0,"div")(1,"div",13)(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_auto_co_loi_khi_tai_ket_qua_vui_long_tai_lai_trang_hoac_thu_lai_sau")))}function xa(n,a){if(1&n&&(t.j41(0,"span",34),t.EFF(1),t.k0s()),2&n){const e=t.XpG(5);t.R7$(1),t.SpI(" ",(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"")," ")}}function ka(n,a){if(1&n&&(t.qex(0),t.j41(1,"span",32),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,xa,2,1,"span",33),t.bVm()),2&n){const e=t.XpG(4);t.R7$(2),t.SpI("",t.bMT(3,2,"lang_auto_diem_cua_ban"),":"),t.R7$(2),t.Y8G("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.mark))}}function va(n,a){1&n&&(t.j41(0,"span",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_auto_diem_trac_nghiem_cua_ban"),":"))}function Ca(n,a){1&n&&(t.j41(0,"span",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_auto_diem_cua_ban"),":"))}function wa(n,a){if(1&n&&(t.j41(0,"span",34),t.EFF(1),t.k0s()),2&n){const e=t.XpG(5);t.R7$(1),t.SpI(" ",(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"")," ")}}function Ia(n,a){if(1&n&&(t.qex(0),t.DNE(1,va,3,3,"span",35),t.DNE(2,Ca,3,3,"span",35),t.DNE(3,wa,2,1,"span",33),t.bVm()),2&n){const e=t.XpG(4);t.R7$(1),t.Y8G("ngIf",null==(null==e.examResultObj?null:e.examResultObj.essayMark)),t.R7$(1),t.Y8G("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.essayMark)),t.R7$(1),t.Y8G("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.mark))}}function Oa(n,a){1&n&&(t.j41(0,"span",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_auto_diem_cua_ban"),":"))}function Ea(n,a){if(1&n&&(t.j41(0,"span",37),t.EFF(1),t.k0s()),2&n){const e=t.XpG(5);t.R7$(1),t.SpI(" ",(null==e.examResultObj?null:e.examResultObj.mark)+(null!=e.examResultObj&&null!=e.examResultObj.examResultStatisticObj&&null!=e.examResultObj.examResultStatisticObj.examQuestionStatisticObj&&e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark?"/"+(null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalMark):"")," ")}}function ya(n,a){1&n&&(t.j41(0,"span",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_auto_chua_co_diem")))}function Aa(n,a){if(1&n&&(t.qex(0),t.DNE(1,Oa,3,3,"span",35),t.DNE(2,Ea,2,1,"span",36),t.DNE(3,ya,3,3,"span",31),t.bVm()),2&n){const e=t.XpG(4);t.R7$(1),t.Y8G("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.essayMark)),t.R7$(1),t.Y8G("ngIf",null!=(null==e.examResultObj?null:e.examResultObj.mark)&&null!=(null==e.examResultObj?null:e.examResultObj.essayMark)),t.R7$(1),t.Y8G("ngIf",null==(null==e.examResultObj?null:e.examResultObj.essayMark))}}function za(n,a){1&n&&(t.j41(0,"span",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_auto_chua_co_diem")))}function ja(n,a){if(1&n&&(t.j41(0,"div",29),t.DNE(1,ka,5,4,"ng-container",30),t.nI1(2,"isOnlyTrueFalse"),t.DNE(3,Ia,4,3,"ng-container",30),t.nI1(4,"isMixTrueFalseAndEssay"),t.DNE(5,Aa,4,3,"ng-container",30),t.nI1(6,"isOnlyEssay"),t.DNE(7,za,3,3,"span",31),t.k0s()),2&n){const e=t.XpG(3);t.R7$(1),t.Y8G("ngIf",t.bMT(2,4,e.examObj)),t.R7$(2),t.Y8G("ngIf",t.bMT(4,6,e.examObj)),t.R7$(2),t.Y8G("ngIf",t.bMT(6,8,e.examObj)),t.R7$(2),t.Y8G("ngIf",null==(null==e.examResultObj?null:e.examResultObj.mark))}}function Ra(n,a){1&n&&(t.j41(0,"span",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_auto_diem_cua_ban"),":"))}function Fa(n,a){if(1&n&&(t.j41(0,"div",29),t.DNE(1,Ra,3,3,"span",35),t.j41(2,"span",34),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(1),t.Y8G("ngIf",null==(null==e.examResultObj?null:e.examResultObj.essayMark)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_auto_chua_duoc_xem_diem")," ")}}const ve=function(){return{"mr-2":!0}};function Ga(n,a){if(1&n&&(t.j41(0,"div",39)(1,"p",21),t.nrm(2,"lucide-icon",40),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"p",23),t.EFF(6),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(2),t.Y8G("ngClass",t.lJ4(5,ve)),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_auto_thi_sinh")," "),t.R7$(3),t.SpI(" ",null!=e.studentObj&&e.studentObj.fullName?null==e.studentObj?null:e.studentObj.fullName:null==e.userObj?null:e.userObj.fullName," ")}}const Da=function(){return{"mr-2 text-success":!0}};function Ma(n,a){if(1&n&&(t.j41(0,"div",20)(1,"p",21),t.nrm(2,"lucide-icon",41),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"p",42),t.EFF(6),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(2),t.Y8G("ngClass",t.lJ4(5,Da)),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_auto_so_luong_trac_nghiem_dung")," "),t.R7$(3),t.SpI(" ",null==e.examResultObj?null:e.examResultObj.rightAnswer," ")}}const La=function(){return{"mr-2 text-danger":!0}};function Qa(n,a){if(1&n&&(t.j41(0,"div",20)(1,"p",21),t.nrm(2,"lucide-icon",43),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"p",44),t.EFF(6),t.k0s()()),2&n){const e=t.XpG(3);let s;t.R7$(2),t.Y8G("ngClass",t.lJ4(5,La)),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_auto_so_cau_sai")," "),t.R7$(3),t.SpI(" ",(null!==(s=null==e.examResultObj||null==e.examResultObj.examResultStatisticObj||null==e.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:e.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalTrueFalseQuestion)&&void 0!==s?s:0)-(null!==(s=null==e.examResultObj?null:e.examResultObj.rightAnswer)&&void 0!==s?s:0)," ")}}function Na(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",52)(1,"button",53),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.showStudentSkillStatisticDialog())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_testbank_frontend_student_skill_statistic_button")," "))}const Ce=function(n,a){return{"md:col-span-4":n,"md:col-span-6":a}},Ut=function(){return{"ml-1 flex":!0}};function Ba(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",45),t.DNE(2,Na,4,3,"div",46),t.j41(3,"div",47)(4,"button",48),t.bIt("click",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.redirectToTakeTraining())}),t.EFF(5),t.nI1(6,"mytranslate"),t.nrm(7,"lucide-icon",49),t.k0s()(),t.j41(8,"div",47)(9,"button",50),t.bIt("click",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.redirectToAnswerTest())}),t.EFF(10),t.nI1(11,"mytranslate"),t.nrm(12,"lucide-icon",51),t.k0s()()(),t.bVm()}if(2&n){const e=t.XpG(3);t.R7$(2),t.Y8G("ngIf",e.isShowStudentSkillStatistic),t.R7$(1),t.Y8G("ngClass",t.l_i(11,Ce,e.isShowStudentSkillStatistic,!e.isShowStudentSkillStatistic)),t.R7$(2),t.SpI(" ",t.bMT(6,7,"lang_testbank_frontend_practice_again")," "),t.R7$(2),t.Y8G("ngClass",t.lJ4(14,Ut)),t.R7$(1),t.Y8G("ngClass",t.l_i(15,Ce,e.isShowStudentSkillStatistic,!e.isShowStudentSkillStatistic)),t.R7$(2),t.SpI(" ",t.bMT(11,9,"lang_auto_xem_dap_an_chi_tiet")," "),t.R7$(2),t.Y8G("ngClass",t.lJ4(18,Ut))}}function $a(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",57)(1,"button",58),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.showStudentSkillStatisticDialog())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_testbank_frontend_student_skill_statistic_button")," "))}function Ya(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",50),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.redirectToAnswerTest())}),t.EFF(1),t.nI1(2,"mytranslate"),t.nrm(3,"lucide-icon",51),t.k0s()}2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_xem_dap_an_chi_tiet")," "),t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Ut)))}function Pa(n,a){1&n&&(t.j41(0,"button",59),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.Y8G("disabled",!0),t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_chua_duoc_xem_ket_qua")," "))}const Xa=function(n){return{"md:col-span-6":n}};function Va(n,a){if(1&n&&(t.j41(0,"div",45),t.DNE(1,$a,4,3,"div",54),t.j41(2,"div",47),t.DNE(3,Ya,4,5,"button",55),t.DNE(4,Pa,3,4,"button",56),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(1),t.Y8G("ngIf",e.isShowStudentSkillStatistic),t.R7$(1),t.Y8G("ngClass",t.eq3(4,Xa,e.isShowStudentSkillStatistic)),t.R7$(1),t.Y8G("ngIf",!1!==(null==e.examObj?null:e.examObj.allowStudentView)),t.R7$(1),t.Y8G("ngIf",!1===(null==e.examObj?null:e.examObj.allowStudentView))}}const Ua=function(){return{"mr-2 text-slate-500":!0}};function qa(n,a){if(1&n&&(t.j41(0,"div",14)(1,"h2",15),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()(),t.DNE(4,ja,8,10,"div",16),t.DNE(5,Fa,5,4,"div",16),t.j41(6,"h3",17),t.EFF(7),t.k0s(),t.j41(8,"div",18),t.DNE(9,Ga,7,6,"div",19),t.j41(10,"div",20)(11,"p",21),t.nrm(12,"lucide-icon",22),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"p",23),t.EFF(16),t.k0s()(),t.DNE(17,Ma,7,6,"div",24),t.DNE(18,Qa,7,6,"div",24),t.j41(19,"div",20)(20,"p",21),t.nrm(21,"lucide-icon",25),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"p",26),t.EFF(25),t.k0s()()(),t.j41(26,"div",27),t.DNE(27,Ba,13,19,"ng-container",9),t.DNE(28,Va,5,6,"ng-template",null,28,t.C5r),t.k0s()),2&n){const e=t.sdS(29),s=t.XpG(2);let o;t.R7$(2),t.JRh(t.bMT(3,15,"lang_auto_bai_lam_cua_ban_da_duoc_gui_di")),t.R7$(2),t.Y8G("ngIf",2!=(null==s.examObj?null:s.examObj.whenShowResult)),t.R7$(1),t.Y8G("ngIf",2==(null==s.examObj?null:s.examObj.whenShowResult)),t.R7$(2),t.SpI(" ",null==s.examObj?null:s.examObj.name," "),t.R7$(2),t.Y8G("ngIf",(null==s.studentObj?null:s.studentObj.fullName)||(null==s.userObj?null:s.userObj.fullName)),t.R7$(3),t.Y8G("ngClass",t.lJ4(21,ve)),t.R7$(1),t.SpI(" ",t.bMT(14,17,"lang_auto_thoi_gian_lam_bai")," "),t.R7$(3),t.SpI(" ",s.timeTested," "),t.R7$(1),t.Y8G("ngIf",null!=(null==s.examResultObj?null:s.examResultObj.rightAnswer)),t.R7$(1),t.Y8G("ngIf",(null==s.examResultObj||null==s.examResultObj.examResultStatisticObj||null==s.examResultObj.examResultStatisticObj.examQuestionStatisticObj?null:s.examResultObj.examResultStatisticObj.examQuestionStatisticObj.totalTrueFalseQuestion)&&2!=(null==s.examObj?null:s.examObj.whenShowResult)),t.R7$(3),t.Y8G("ngClass",t.lJ4(22,Ua)),t.R7$(1),t.SpI(" ",t.bMT(23,19,"lang_auto_so_cau_hoi")," "),t.R7$(3),t.SpI(" ",null!==(o=null==s.examResultObj?null:s.examResultObj.totalQuestion)&&void 0!==o?o:0," "),t.R7$(2),t.Y8G("ngIf",1==s.examConfigObj.allowTestingEachQuestion)("ngIfElse",e)}}const Ha=function(n){return{"max-width":n}};function Wa(n,a){if(1&n&&(t.j41(0,"div",4)(1,"div",5),t.nrm(2,"div",6),t.j41(3,"div",7)(4,"div",8),t.DNE(5,Sa,5,3,"div",9),t.DNE(6,qa,30,23,"ng-template",null,10,t.C5r),t.k0s(),t.j41(8,"div",11),t.nrm(9,"azt-practice-box",12),t.k0s()()()()),2&n){const e=t.sdS(7),s=t.XpG();t.R7$(4),t.Y8G("ngStyle",t.eq3(5,Ha,0!==s.suggestPractice.length||s.checkMobileScreen?"100%":"650px")),t.R7$(1),t.Y8G("ngIf",""!=s.statusObj.errorMessage)("ngIfElse",e),t.R7$(4),t.Y8G("resultId",s.resultId)("webPage","STUDENT_SUBMIT_TEST")}}let Ja=(()=>{var n;class a extends b.H{showStudentSkillStatisticDialog(){if(this.examObj?.schoolSubjectId&&(10==this.examObj?.schoolLevelId||11==this.examObj?.schoolLevelId||32==this.examObj?.schoolSubjectId&&12==this.examObj?.schoolLevelId)){let s={subjectId:this.examObj?.schoolSubjectId,levelId:this.examObj?.schoolLevelId,userId:Number(this.userObj?.id??"0")};this.sAztDialogService.open(xe.g,{width:"100vw",data:s,restoreFocus:!1})}else this.sAztDialogService.open(Se,{width:"100vw",data:{examSchoolSubjectId:this.examObj?.schoolSubjectId??0},restoreFocus:!1})}redirectToAnswerTest(){this.commonService.myNavigationWithQueryString("/test/answer-test/"+this.tenantId+"/"+this.curCategoryId+"/"+this.hashId+"/"+this.resultId,"?backto="+encodeURIComponent(this.returnLink))}redirectToTakeTraining(){this.commonService.myNavigationWithQueryString(null!=this.curCategoryId?"/test/take-training/"+this.tenantId+"/"+this.curCategoryId+"/"+this.hashId:"/test/take-training/"+this.tenantId+"/0/"+this.hashId,"?backto="+encodeURIComponent(this.backToLink))}getExamResult(){this.initStatusObj(),this.waitDestroy(this.frontExamResultService.apiFrontExamResultGetObjGet(this.hashId,this.resultId).subscribe(s=>{if(1==s.success){this.hasErrorMessage=s.message?s.message:"",this.examObj=s.data?.examObj,this.examResultObj=s.data?.examResultObj,this.studentObj=s.data?.studentObj,this.examConfigObj=s.data?.examConfigObj??{};var o=new Date(s.data?.examResultObj?.startedTest??""),i=new Date(s.data?.examResultObj?.createdAt??"");this.timeTested=this.timeService.calculationTimeExamTested(o,i);let r="";this.commonService.getTranslate("lang_auto_nop_bai").subscribe(l=>{r=l}),this.commonService.translateMetaData({title:r+": "+this.examObj?.name,description:this.examObj?.name}),this.getSuggestExam()}else this.errorStatusObj(s.message??"",!0)}))}getSuggestExam(){this.waitDestroy(this.practiceService.apiPracticeSuggestGet(this.resultId).subscribe(s=>{1==s.success?(this.suggestPractice=s.data?.objs??[],this.successStatusObj()):this.errorStatusObj(s.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,L.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var s=this.commonService.getMyParam(this.activeRoute,"hash_id")?.toString();this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id")),this.curCategoryId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.resultId=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),this.hashId=s||"",this.userObj=this.userService.getUserObj(),this.getExamResult()})),this.backToLink=`/de-thi/${this.hashId}`,this.returnLink=`/test/submit-test/${this.tenantId}/${this.curCategoryId}/${this.hashId}/${this.resultId}`,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??"",super.ngOnInit(),this.checkMobileScreen=!this.commonService.compareDeviceScreen(768)}constructor(s,o,i,r,l,p){super(),this.sAztDialogService=s,this.activeRoute=o,this.frontExamResultService=i,this.timeService=r,this.userService=l,this.practiceService=p,this.backToLink="",this.paramBackToLink="",this.returnLink="",this.hashId="",this.curCategoryId=0,this.resultId=0,this.tenantId=0,this.examConfigObj={},this.seconds="",this.minutes="",this.hours="",this.days="",this.hasErrorMessage="",this.timeTested="",this.checkMobileScreen=!1,this.isShowStudentSkillStatistic=!0,this.suggestPractice=[]}ngOnDestroy(){super.ngOnDestroy()}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(It.i),t.rXU(k.nX),t.rXU(z.Ry),t.rXU(xt.F),t.rXU(ut.R),t.rXU(ha.Bv))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-submit-test"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y","mt-8"],[1,"grid","grid-cols-12","gap-5"],[1,"md:col-span-2"],[1,"col-span-12","md:col-span-8"],[1,"box","mx-auto","mt-5",3,"ngStyle"],[4,"ngIf","ngIfElse"],["notError",""],[1,"mt-5","mx-auto"],[3,"resultId","webPage"],[1,"alert","alert-danger"],[2,"text-align","center","padding-top","30px"],[1,"text-lg","font-bold"],["class","text-center border-b border-slate-200/60 dark:border-darkmode-400 p-5",4,"ngIf"],[1,"text-md","font-medium","text-center","mt-3","px-5"],[1,"azt-info-exam","mt-5","px-5"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center","mt-3"],[1,"text-md","flex","items-center"],["name","clock","size","16",3,"ngClass"],[1,"text-md","font-medium","ml-auto"],["class","flex items-center mt-3",4,"ngIf"],["name","circle-alert","size","16",3,"ngClass"],[1,"text-md","text-slate-500","font-medium","ml-auto"],[1,"p-5"],["testingFlow",""],[1,"text-center","border-b","border-slate-200/60","dark:border-darkmode-400","p-5"],[4,"ngIf"],["class","font-medium text-lg text-danger",4,"ngIf"],[1,"font-medium","text-md","mr-2"],["class","font-medium text-lg","style","font-size: 25px",4,"ngIf"],[1,"font-medium","text-lg",2,"font-size","25px"],["class","font-medium text-md mr-2",4,"ngIf"],["class","font-medium text-lg",4,"ngIf"],[1,"font-medium","text-lg"],[1,"font-medium","text-lg","text-danger"],[1,"flex","items-center"],["name","user","size","16",3,"ngClass"],["name","circle-check","size","16",3,"ngClass"],[1,"text-md","font-medium","text-success","ml-auto"],["name","circle-x","size","16",3,"ngClass"],[1,"text-md","font-medium","text-danger","ml-auto"],[1,"grid","grid-cols-12","gap-3"],["class","col-span-12 md:col-span-4",4,"ngIf"],[1,"col-span-12",3,"ngClass"],["azt-track-service","submit-test-ikX9fXn-mw",1,"btn","btn-outline-pending","w-full",3,"click"],["name","clipboard-pen-line","size","16",3,"ngClass"],["azt-track-service","submit-test-ikX9fXn-mw",1,"btn","btn-outline-primary","w-full",3,"click"],["name","chevron-right","size","16",3,"ngClass"],[1,"col-span-12","md:col-span-4"],["azt-track-service","submit-test-ITr-NliUJ",1,"btn","btn-success-soft","w-full",3,"click"],["class","col-span-12 md:col-span-6",4,"ngIf"],["azt-track-service","submit-test-ikX9fXn-mw","class","btn btn-outline-primary w-full",3,"click",4,"ngIf"],["class","btn btn-outline-primary w-full",3,"disabled",4,"ngIf"],[1,"col-span-12","md:col-span-6"],["azt-track-service","submit-test-hLGhKp2-Fl",1,"btn","btn-success-soft","w-full",3,"click"],[1,"btn","btn-outline-primary","w-full",3,"disabled"]],template:function(s,o){if(1&s&&(t.j41(0,"student-layout",0),t.DNE(1,ba,1,1,"azt-loading-effect",1),t.DNE(2,Wa,10,7,"ng-template",null,2,t.C5r),t.k0s()),2&s){const i=t.sdS(3);t.Y8G("headerBackToLink",o.backToLink),t.R7$(1),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",i)}},dependencies:[_.YU,_.bT,_.B3,j.K,de.X,_t.j,d.WGl,u.wp,u.PP,u.Pj,u.ZY],encapsulation:2}),a})();var Ot=c(18447),Et=c(69372),yt=c(5424),Ka=c(59702),R=function(n){return n.LIST_QUESTION="LIST_QUESTION",n.STEP_QUESTION="STEP_QUESTION",n.TRAINING_QUESTION="TRAINING_QUESTION",n.GROUP_QUESTION="GROUP_QUESTION",n}(R||{}),we=c(85710),Za=c(40949),Ie=c(20512);let ti=(()=>{var n;class a{constructor(s,o,i,r,l){this.commonService=s,this.cdnService=o,this.trackJsExceptionService=i,this.answerTypeService=r,this.userService=l,this.labelsImg=new Image,this.questionLabelMap=[],this.abcdLabelPos={},this.subscription=new we.yU}cancelSubscription(){this.subscription.unsubscribe()}makeRetry(s,o,i,r,l,p,m,T){s.crossOrigin="anonymous",s.setAttribute("totalRetry","0"),s.onerror=()=>{let I=parseInt(s.getAttribute("totalRetry")||"0");if(I++,I<=o)setTimeout(()=>{if(I>Math.floor(o/2))s.src=this.cdnService.getMyCdn(s.src);else{let W=s.src.split("?")[0];s.src=W+"?t="+Date.now()}s.setAttribute("totalRetry",I.toString())},i);else{var st=0,P=this.userService.getUserObj();P&&P.id&&(st=P.id);let W=document.URL.split("?")[0].split("/"),J={userId:st,trackKey:"V2_ERR_DISPLAY",name:"Track l\u1ed7i kh\xf4ng hi\u1ec3n th\u1ecb c\xe2u h\u1ecfi v2",userAgent:navigator.userAgent,url:document.URL,content:s.src,error:W[W.length-1]};if(this.subscription.add(this.trackJsExceptionService.apiTrackJsExceptionSaveObjPost(J).subscribe(()=>{console.log("Track l\u1ed7i th\xe0nh c\xf4ng!")})),(r||0===r)&&l&&p&&m){m[r].mixDataImg=this.cdnService.convertCdnLinkOfGitHub("svgs/Img_dat-01.svg");let K=document.getElementById("questionPlaceholder_"+r);K?.setAttribute("loadSuccess","0");let Z=document.getElementById("media_content_all_"+m[r].id);Z?.setAttribute("loadSuccess","0");const at=tt=>{"0"===tt?.getAttribute("loadSuccess")&&(T?this.prepareImageForOtherTypes(p,r,m):this.prepareImageToDrawForType1(l,p,r,m))};Z?Z.onclick=()=>{at(Z)}:K&&(K.onclick=()=>{at(K)})}}}}prepareImageToDrawForType1(s,o,i,r){if(o.metaData&&o.metaData.question){let l=1+s.length,p=0,m=new Image;m.crossOrigin="anonymous",m.onload=()=>{p++,p==l&&this.drawEachQuestion(s,o,i,m,T,r)},this.makeRetry(m,3,1e3,i,s,o,r),m.src=this.cdnService.getMyCdn(o.metaData.question.url||"");let T=[];for(let I=0;I<s.length;I++)T[I]=new Image,T[I].crossOrigin="anonymous",T[I].onload=()=>{p++,p==l&&this.drawEachQuestion(s,o,i,m,T,r)},this.makeRetry(T[I],3,1e3,i,s,o,r),T[I].src=this.cdnService.getMyCdn(s[I].content)}}prepareImageForOtherTypes(s,o,i){if(s.metaData&&s.metaData.question){let r=document.createElement("canvas");r.width=s.metaData.question.width+10,r.height=s.metaData.question.height;let l=r.getContext("2d"),p=new Image;p.crossOrigin="anonymous";const m=s.metaData.question.remove.x,T=s.metaData.question.remove.y;p.onload=()=>{l?.drawImage(p,10,0),l?.drawImage(this.labelsImg,this.questionLabelMap[o].left,this.questionLabelMap[o].top,this.questionLabelMap[o].width,this.questionLabelMap[o].height,m,T,this.questionLabelMap[o].width,this.questionLabelMap[o].height),i[o].mixDataImg=r.toDataURL("image/png")},this.makeRetry(p,3,1e3,void 0,void 0,void 0,void 0,"others"),p.src=this.cdnService.getMyCdn(s.metaData.question.url||"")}}drawEachQuestion(s,o,i,r,l,p){if(o.metaData&&o.metaData.answers&&o.metaData.question){let m=document.createElement("canvas");m.width=o.metaData.question.width+15,m.height=o.metaData.question.height;let T=m.getContext("2d");T?.drawImage(r,15,0),T?.drawImage(this.labelsImg,this.questionLabelMap[i].left,this.questionLabelMap[i].top,this.questionLabelMap[i].width,this.questionLabelMap[i].height,o.metaData.question.remove.x,o.metaData.question.remove.y,this.questionLabelMap[i].width,this.questionLabelMap[i].height);let I=l[0],st=0,P=0,W=0,J=o.metaData.answers[0].x,K=o.metaData.answers[0].y;st=J,P=J+I.width,W=J+I.width;let Z=l[0].height-o.metaData.answers[0].height;T?.drawImage(I,J,K);let at=s[0].alpha?s[0].alpha:s[0].key,tt=0;if(s[0].alpha){let C=s[0].key;for(let F=0;F<s.length;F++)if(C==s[F].alpha){tt=F;break}}let Tt={left:void 0!==o.metaData.answers[tt].remove.xAns?J+(o.metaData.answers[tt].remove.xAns||0):o.metaData.answers[0].remove.x,top:void 0!==o.metaData.answers[tt].remove.yAns?K+(o.metaData.answers[tt].remove.yAns||0):o.metaData.answers[0].remove.y,width:o.metaData.answers[0].remove.width,height:o.metaData.answers[0].remove.height};this.abcdLabelPos&&this.abcdLabelPos.hasOwnProperty(at)&&T?.drawImage(this.labelsImg,this.abcdLabelPos[at].left,this.abcdLabelPos[at].top,o.metaData.answers[0].remove.width,o.metaData.answers[0].remove.height,Tt.left,Tt.top,Tt.width,Tt.height),p[i].answerLabelsMockup[`label-${s[0].alpha?s[0].alpha:s[0].key}`]=Tt;for(let C=1;C<s.length;C++){let F=o.metaData.answers[C].x,it=o.metaData.answers[C].y;if(st+30<F){let X=[W,P];F<Math.max(...X)&&(F=Math.max(...X),F+l[C].width>m.width&&(F-=F+l[C].width-m.width),o.metaData.answers[C].remove.x=F),P+=l[C].width}else if(P=st+l[C].width,it+=Z,Z+=l[C].height-o.metaData.answers[C].height,it+l[C].height>m.height){let X=it+l[C].height-m.height;it-=X,o.metaData.answers[C].remove.y-=X}T?.drawImage(l[C],F,it);let ht=C,se=s[C].alpha?s[C].alpha:s[C].key;if(s[C].alpha){let X=s[C].key;for(let et=0;et<s.length;et++)if(X==s[et].alpha){ht=et;break}}let bt={left:void 0!==o.metaData.answers[ht].remove.xAns?F+(o.metaData.answers[ht].remove.xAns||0):o.metaData.answers[C].remove.x,top:void 0!==o.metaData.answers[ht].remove.yAns?it+(o.metaData.answers[ht].remove.yAns||0):o.metaData.answers[C].remove.y,width:o.metaData.answers[C].remove.width,height:o.metaData.answers[C].remove.height};this.abcdLabelPos&&this.abcdLabelPos.hasOwnProperty(se||"a")&&T?.drawImage(this.labelsImg,this.abcdLabelPos[se||"a"].left,this.abcdLabelPos[se||"b"].top,o.metaData.answers[C].remove.width,o.metaData.answers[C].remove.height,bt.left,bt.top,bt.width,bt.height),p[i].answerLabelsMockup[`label-${s[C].alpha?s[C].alpha:s[C].key}`]=bt,C==s.length-1&&(p[i].mixDataImg=m.toDataURL("image/png"),document.getElementById("media_content_all_"+p[i].id)?.setAttribute("loadSuccess","1"),document.getElementById("questionPlaceholder_"+i)?.setAttribute("loadSuccess","1"))}}}}return(n=a).\u0275fac=function(s){return new(s||n)(t.KVO(Y.R),t.KVO(Za.B),t.KVO(Ie.rk),t.KVO(wt._),t.KVO(ut.R))},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),a})();var Oe=c(29501),Ee=c(58227),ye=c(32639),ei=c(47592),h=function(n){return n[n.INIT=0]="INIT",n[n.LOGIN_DIALOG=1]="LOGIN_DIALOG",n[n.PAYMENT_DIALOG=2]="PAYMENT_DIALOG",n[n.INFO_REQUIRED_DIALOG=3]="INFO_REQUIRED_DIALOG",n[n.WAIT_TO_TEST_TIME=4]="WAIT_TO_TEST_TIME",n[n.CHOOSE_STUDENT=5]="CHOOSE_STUDENT",n[n.SEQUENCE_STEP=6]="SEQUENCE_STEP",n[n.SHOW_ESSAY_WARNING_DIALOG=7]="SHOW_ESSAY_WARNING_DIALOG",n[n.SHOW_FULL_SCREEN=8]="SHOW_FULL_SCREEN",n[n.SHOW_VIDEO_REQUIRED=9]="SHOW_VIDEO_REQUIRED",n[n.RUN_OUT_OF_TIME_AFTER_TEST=10]="RUN_OUT_OF_TIME_AFTER_TEST",n[n.RUN_OUT_OF_TIME_WHEN_F5=11]="RUN_OUT_OF_TIME_WHEN_F5",n[n.START_TEST=12]="START_TEST",n[n.SHOW_ERROR_MESSAGE=13]="SHOW_ERROR_MESSAGE",n}(h||{});class U{constructor(){this.customDocument={...document}}showFullScreen(){try{const a=document.documentElement;let e=a.requestFullscreen||a.webkitRequestFullscreen||a.mozRequestFullscreen||a.msRequestFullscreen;e&&e.call(a)}catch{}}exitFullscreen(){try{const a=document;if(window.innerHeight==screen.height){let e=a.exitFullscreen||a.webkitExitFullscreen||a.msExitFullscreen;e&&e.call(a)}}catch{}}checkFullScreen(){switch(this.detectBrowserName()){case"chrome":case"firefox":return document.fullscreenElement;default:return this.customDocument.webkitFullscreenElement}}detectBrowserName(){const a=navigator.userAgent.toLowerCase();return a.match(/chrome|chromium|crios/i)?"chrome":a.match(/firefox|fxios/i)?"firefox":a.match(/safari/i)?"safari":a.match(/opr\//i)?"opera":a.match(/edg/i)?"edge":"other"}}let At=(()=>{var n;class a{constructor(){this.allowTrackVisible=!0,this.allowTrackFullScreen=!0,this._isSendingToApi=!1}reset(){this.allowTrackVisible=!0,this.allowTrackFullScreen=!0}isAllowTrackVisible(){return this.allowTrackVisible}setAllowTrackVisibleStatus(s){this.allowTrackVisible=s}isAllowTrackFullScreen(){return this.allowTrackFullScreen}setAllowTrackFullScreenStatus(s){this.allowTrackFullScreen=s}setSendingToApiStatus(s){this._isSendingToApi=s}isSendingToApi(){return this._isSendingToApi}}return(n=a).\u0275fac=function(s){return new(s||n)},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),a})();class M{getPassword(){return this.browserStorageService.getSimpleStorage(this.PASSWORD_LOCAL_STORAGE_KEY+this.examHashId)}savePassword(a){null==a||""==a||this.browserStorageService.saveSimpleStorage(this.PASSWORD_LOCAL_STORAGE_KEY+this.examHashId,a)}removePassword(){this.browserStorageService.removeSimpleStorage(this.PASSWORD_LOCAL_STORAGE_KEY+this.examHashId)}hasInfo(){return null!=this.browserStorageService.getSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId)}getInfo(){return this.browserStorageService.getSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId)}saveInfo(a){null==a||""==a||this.browserStorageService.saveSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId,a)}removeInfo(){this.browserStorageService.removeSimpleStorage(this.USER_INFO_LOCAL_STORAGE_KEY+this.examHashId)}constructor(a,e){this.examHashId=a,this.browserStorageService=e,this.PASSWORD_LOCAL_STORAGE_KEY="password_",this.USER_INFO_LOCAL_STORAGE_KEY="userInfoV3_"}}class qt{sendAudioForQuestion(a,e){if(!a.termExamResultId)return a;var s=a.viewQuestionObjs;let o=s.find(i=>i.id==e.obj?.id);return o&&(1==e.play?o.limitPlay=(o.limitPlay??0)+1:(o.limitPlay=(o.limitPlay??0)-1,o.limitAudio=(o.limitAudio??0)+1,o.audioLimitObjs?.map(i=>i.status=i.index!=e.index&&i.status)),this.saveAudioLimitStorage(a.examObj,a.termExamResultId,s),a.viewQuestionObjs=s),a}addAudioInfoToQuestionObjs(a,e){return e.forEach(s=>{if(s.attachments.length<=0)return;s.audioLimitObjs=[];let o=(a.limitAudio??0)-(s.limitAudio??0);for(var i=0;i<o;i++)s.audioLimitObjs.push({index:i,status:!0})}),e}saveAudioLimitStorage(a,e,s){let o=s.filter(i=>i.attachments.length>0).map(i=>({questionId:i.id,limitTimes:i.limitAudio,limitPlay:i.limitPlay}));o.length>0&&this.browserStorageService.saveSimpleStorage("limitAudioV6_"+a.id+"_"+e,JSON.stringify(o))}getLimitAudioFromLocalStorage(a,e){return this.commonService.myParseJson(this.browserStorageService.getSimpleStorage("limitAudioV6_"+a.id+"_"+e)??"")??[]}constructor(a,e){this.commonService=a,this.browserStorageService=e}}class ni{getQuestionThatCanFeedbackFromApi(a,e){let s=a.viewQuestionObjs,o=this.commonService.uniqueArray(s.map(i=>i.id)??[]);this.waitDestroy(this.testMarketFeedbackService.apiTestMarketFeedbacksQuestionsGet(a.examObj.id,o.join(",")).subscribe(i=>i.success?(i.data?.objs?.forEach(r=>{let l=s.find(p=>p.id==r.questionId);l&&(l.enableFeedback=r.allowFeedback)}),e(void 0,s)):e(i.message,[])))}getDataSyncFromApi(a,e){this.waitDestroy(this.testLogExamResultAnswerService.listExamResultAnswers(a.termExamResultId??0).subscribe(s=>{if(!s.success)return e(void 0);let o={version:s.version??"",code:s.code??0,success:s.success??0,data:{content:s.data?.content??"",typeHash:0,keyHash:""},detailMessage:"",message:s.message??""},r=this.encryptionHelper.result(o)?.data??{answers:[],files:"",infors:"",updatedAt:s?.data?.updated_at??"",resultTrack:""};e(r)}))}setSyncDataFromApi(a,e,s){let o=this.sAztTestResultTrackService.getStudentAnswerFromLocalStorage(s.examObj,a.termExamResultId??0);return e&&e.updatedAt?(s.resultTracks=this.commonService.myParseJson(this.zipDataService.decodeContentGzip(e.resultTrack??""))??[],o?new Date(e.updatedAt).getTime()<o.saveTime?(s.answerList=o.answers??new Array,s.files=this.commonService.myParseJson(o.files)??[],s.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(s.viewQuestionObjs,s.answerList)):(s.answerList=e.answers??new Array,s.files=this.commonService.myParseJson(e.files)??[],s.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(s.viewQuestionObjs,s.answerList)):(s.answerList=e.answers??new Array,s.files=this.commonService.myParseJson(e.files??"")??[],s.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(s.viewQuestionObjs,s.answerList))):o&&(s.answerList=o.answers??[],s.files=this.commonService.myParseJson(o.files)??[],s.viewQuestionObjs=this.sAztTestQuestionService.reBindDataQuestion(s.viewQuestionObjs,s.answerList)),s}saveAnswerAndTrackInfoToApi(a){var e=this.commonService.myClone(a.resultTracks);try{let s={answers:a.answerList,files:JSON.stringify(a.files),infors:new M(a?.examObj.hashId??"",this.browserStorageService).getInfo()??"",resultTrack:this.zipDataService.convertContentGzip(JSON.stringify(e)),updatedAt:""},o=this.encryptionHelper.payload(s);this.testLogExamResultAnswerService.answerExamResult(o,a.termExamResultId??0).subscribe(i=>{})}catch{}}getSyncQuestionDataFromApi(a,e,s,o,i){if(o.hasAlreadyGenerateQuestion)return i(o);this.getDataSyncFromApi(o,r=>{this.getQuestionThatCanFeedbackFromApi(o,(l,p)=>{this.sAztTestQuestionService.generateQuestionView(a,e,s,o.viewQuestionObjs,m=>{if(l||(o.viewQuestionObjs=p),r&&(o=this.setSyncDataFromApi(o,r,o)),!m)return i(o);o.viewQuestionObjs=m,o.hasAlreadyGenerateQuestion=!0,i(o)})})})}getHistoryAnswerOfTrainingFromApi(a,e){null!=a.trainingAnswerQuestions&&e(void 0,a.trainingAnswerQuestions),this.waitDestroy(this.frontExamService.apiFrontExamReloadExamResultGet(a.examObj.hashId??"").subscribe(s=>{if(!s.success)return e(s.message,[]);const i=this.encryptionHelper.result(s)?.data?.questions??[];return e(void 0,i)}))}updateEssayFilesToApi(a){return new Promise(e=>{let s={hashCode:a.uploadHashCode,files:JSON.stringify(a.files)};this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost(s).subscribe(o=>{o.success&&e(!0)})})}getImagesThatUploadAtMobileQrCodeFromApi(a,e){if(!a)return e(void 0);this.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(a).subscribe(s=>{if(!s.success)return e(void 0);let o=this.commonService.myParseJson(s.data?.tmpObj?.files??"")??[];return e(o)})}destroyAll(){this.subscriptions.unsubscribe()}waitDestroy(a){this.subscriptions.add(a)}constructor(a,e,s,o,i,r,l,p,m,T){this.commonService=a,this.zipDataService=e,this.browserStorageService=s,this.testMarketFeedbackService=o,this.encryptionHelper=i,this.testLogExamResultAnswerService=r,this.sAztTestQuestionService=l,this.sAztTestResultTrackService=p,this.frontExamResultUploadService=m,this.frontExamService=T,this.subscriptions=new we.yU}}class Ae{checkByWidth(){return window.innerWidth<1200}}class ze{makeDeviceId(a=10){for(var e="",i=0;i<a;i++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}getDeviceId(){var a=this.browserStorageService.getSimpleStorage("device_session");return this.deviceId=a||this.makeDeviceId(20),this.browserStorageService.saveSimpleStorage("device_session",this.deviceId),this.deviceId}constructor(a){this.browserStorageService=a,this.deviceId=""}}class oi{init(a){if(null!=a.nextBackQuestionModel||a.viewQuestionObjs.length<=0)return a;let e=this.commonService.getFirstOfArray(a.viewQuestionObjs);if(null==e)return a;let s={curQuestionIndex:e.index??0,curQuestionObj:e,isLastQuestion:this.commonService.getLastOfArray(a.viewQuestionObjs)?.id==e.id};return a.nextBackQuestionModel=s,a}nextTo(a,e){if(null==(a=this.init(a)).nextBackQuestionModel)return a;let o=this.commonService.getItemAtIndexOfArray(a.viewQuestionObjs,(e.index??0)+1);return null==o||(a.nextBackQuestionModel.curQuestionIndex=o.index??0,a.nextBackQuestionModel.curQuestionObj=o,a.nextBackQuestionModel.isLastQuestion=this.commonService.getLastOfArray(a.viewQuestionObjs)?.id==o.id),a}backTo(a,e){if(null==(a=this.init(a)).nextBackQuestionModel)return a;let o=this.commonService.getItemAtIndexOfArray(a.viewQuestionObjs,(e.index??0)-1);return null==o||(a.nextBackQuestionModel.curQuestionIndex=o.index??0,a.nextBackQuestionModel.curQuestionObj=o,a.nextBackQuestionModel.isLastQuestion=this.commonService.getLastOfArray(a.viewQuestionObjs)?.id==o.id),a}goTo(a,e){if(null==(a=this.init(a)).nextBackQuestionModel)return a;let s=a.viewQuestionObjs.find(o=>o.id==e.id);return null==s||(a.nextBackQuestionModel.curQuestionIndex=s.index??0,a.nextBackQuestionModel.curQuestionObj=s,a.nextBackQuestionModel.isLastQuestion=this.commonService.getLastOfArray(a.viewQuestionObjs)?.id==s.id),a}scrollTo(a){console.log("question_all_"+a.id);var e=document.getElementById("question_all_"+a.id);e&&window.scrollTo({top:e.offsetTop-90,behavior:"smooth"})}constructor(a){this.commonService=a}}class si{takeAnswerForQuestion(a,e){return e.forEach(s=>{a.forEach(o=>{if(o.questionId==s.id)if(this.answerTypeService.isFillAnswer(s)||this.answerTypeService.isEssayAnswer(s))s.choseAnswer=[o.answerContent[0].content];else if((this.answerTypeService.isOneChoiceAnswer(s)||this.answerTypeService.isMultipleChoiceAnswer(s))&&s.answers)s.choseAnswer=[(s.answers[i=o.answerContent[0].index].alpha?s.answers[i].alpha:s.answers[i].key)??""];else if(this.answerTypeService.isTrueFalseAnswer(s)){var i=o.answerContent[0].index;let l=this.commonService.myTranslateInstant("T"==o.answerContent[0].status?"lang_auto_dung":"lang_auto_sai");s.choseAnswer?.push((s.answers[i].alpha?s.answers[i].alpha:s.answers[i].key)?.toLowerCase()+") - "+(l??""))}})}),e}reBindDataQuestion(a,e){var s=[];return a.forEach(o=>{e.forEach(i=>{if(i.questionId==o.id){if(this.answerTypeService.isEssayAnswer(o))(r=i.answerContent&&i.answerContent.length>0?i.answerContent[0].content:"")&&(o.essayText=r);else if(this.answerTypeService.isFillAnswer(o)){var r;(r=i.answerContent&&i.answerContent.length>0?i.answerContent[0].content:"")&&(o.essayText=r)}else for(var l of o.answers)if(this.answerTypeService.isTrueFalseAnswer(o))l.checked=this.compareTrueFalseQuestionContent(l,i.answerContent);else{if(this.compareContent(l,i.answerContent&&i.answerContent.length>0?i.answerContent[0]:{index:0,content:""})){l.checked=!0;break}l.checked=!1}o.status=!0}}),s.push(o)}),s}getEssayQuestionIds(a){return a.filter(e=>this.answerTypeService.isEssayAnswer(e)).map(e=>e.id)}changeQuestionContent(a,e,s){var o=[],i=new qt(this.commonService,this.browserStorageService).getLimitAudioFromLocalStorage(a,e);return s.forEach((r,l)=>{if(r.essayText=this.answerTypeService.isEssayAnswer(r)?"":r.essayText,r.essayText=this.answerTypeService.isFillAnswer(r)?"":r.essayText,a.limitAudio)if(i.length>0){var p=i.find(m=>m.questionId==r.id);p&&null!=p.limitTimes&&null!=p.limitPlay&&(r.limitAudio=p.limitTimes+p.limitPlay,r.limitPlay=0)}else r.attachments.length>0&&(r.limitAudio=0,r.limitPlay=0);r={...r,index:l,status:!1},o.push(r)}),a.limitAudio?new qt(this.commonService,this.browserStorageService).addAudioInfoToQuestionObjs(a,o):o}setShowHint(a,e){let s=a.viewQuestionObjs.find(o=>o.id==e);return s&&(s.isShowHint=!0),a}setQuestionTrueFalseAnswer(a,e){let s=a.examObj,o=a.viewQuestionObjs,i=a.answerList,r=i.find(m=>m.questionId==e.questionId),l={index:e.answerIndex,content:e.answerConfig.key,status:e.answerConfig.status},p={questionId:e.questionId,answerContent:[l]};if(r){let m=r.answerContent.find(T=>T.index==l.index&&T.content==l.content);m?m.status=l.status:r.answerContent.push(l)}else i.push(p);return o=this.changeStatusOfTrueFalseAnswer(s,o,e),o=this.changeStatusOfQuestion(o,e.questionId,!0),a.viewQuestionObjs=o,a.answerList=i,a}setQuestionOneChoiceAnswer(a,e){let s=a.examObj,o=a.viewQuestionObjs,i=a.answerList,r=i.find(p=>p.questionId==e.questionId);var l={questionId:e.questionId,answerContent:[{index:e.answerIndex,content:e.answerConfig.key}]};return r?r.answerContent=l.answerContent:i.push(l),o=this.changeStatusOfOneChoiceAnswer(s,o,e),o=this.changeStatusOfQuestion(o,e.questionId,!0),a.viewQuestionObjs=o,a.answerList=i,a}setQuestionFillAnswer(a,e){return this.setQuestionEssayAnswer(a,{questionId:e.questionId,value:e.value})}setQuestionEssayAnswer(a,e){let s=a.answerList.find(r=>r.questionId==e.questionId),o=""==e.value.trim(),i={questionId:e.questionId,answerContent:[{index:0,content:e.value}]};return a.viewQuestionObjs=this.changeEssayTextQuestion(a.viewQuestionObjs,e.questionId,e.value),a.viewQuestionObjs=this.changeStatusOfQuestion(a.viewQuestionObjs,e.questionId,!o),s?o?(a.answerList=a.answerList.filter(r=>r.questionId!=e.questionId),a):(s.answerContent=i.answerContent,a):(a.answerList.push(i),a)}changeEssayTextQuestion(a,e,s){let o=a.find(i=>i.id==e);return o&&(o.essayText=s),a}changeStatusOfQuestion(a,e,s){let o=a.find(i=>i.id==e);return o&&(o.status=s),a}changeStatusOfOneChoiceAnswer(a,e,s){let o=e.find(l=>l.id==s.questionId);if(!o||!o.answers.length||(o.answers.map((l,p)=>l.checked=p==s.answerIndex),!this.commonService.isMobileOrTable()))return e;let i=this.commonService.myTranslateInstant("lang_auto_cau"),r=this.commonService.myTranslateInstant("lang_auto_chon");return this.commonService.snackChoiceAnswer(i+" "+((o.index??0)+(a.startQuestionIndex??1))+" - "+r+" "+(s.answerConfig.alpha?s.answerConfig.alpha:s.answerConfig.key)),e}changeStatusOfTrueFalseAnswer(a,e,s){let o=e.find(T=>T.id==s.questionId);if(!o||!o.answers.length)return e;let i="T"==s.answerConfig?.status;if(o.answers[s.answerIndex].checked=o.answers[s.answerIndex].checked!=i?i:void 0,!this.commonService.isMobileOrTable())return e;let r=this.commonService.myTranslateInstant("lang_auto_cau"),l=this.commonService.myTranslateInstant("lang_auto_chon"),p=this.commonService.myTranslateInstant("lang_auto_dung"),m=this.commonService.myTranslateInstant("lang_auto_sai");return this.commonService.snackChoiceAnswer(r+" "+((o.index??0)+(a.startQuestionIndex??1))+" - "+l+" "+(s.answerConfig.alpha?s.answerConfig.alpha:s.answerConfig.key)+(s.answerConfig.status?" - "+("T"==s.answerConfig.status?p:m):"")),e}getAnswerOfQuestion(a,e){return a.answerList.find(s=>s.questionId==e)}checkQuestionHasAnswer(a,e){let s=a.answerList.find(o=>o.questionId==e);return!!s&&s.answerContent.length>0}resetQuestionIndex(a,e){if(!e)return a;let s=0,o=0;return a.forEach((i,r)=>{i.groupInfo?.groupId&&(s!=i.groupInfo.groupId&&(o=0),i.labelIndex=o,o++,s=i.groupInfo.groupId)}),a}generateQuestionView(a,e,s,o,i){a.startLoad=!0,e.setNumQuest(o.length),s.parseRenderQuestions(o,r=>{a.loadPercent=Math.floor(r)}).then(r=>{a.startLoad=!1,a.hasErrs=!1,i(r)}).catch(r=>{a.startLoad=!1,a.hasErrs=!0,a.errData=r,i(void 0)})}calculateNewCountDown(a){return a.isAutoSubmit=!a.isUnLimitedTime&&a.countDownSecond<=0&&a.countDownSecond>=-90,a.isActualEndTime=!a.isUnLimitedTime&&a.countDownSecond>=-300,a.autoSubmitAfterSeconds=a.isAutoSubmit?a.countDownSecond+90:void 0,a.allowUploadEssayFileWhenEndTime=a.isAutoSubmit&&a.countDownSecond>=-200,a}clearAllData(a){new M(a.examObj.hashId??"",this.browserStorageService).removeInfo(),this.browserStorageService.removeSimpleStorage("saveResultTrack_"+a.examObj.hashId+"_"+a.termExamResultId),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+a.examObj.hashId+"_"+a.termExamResultId),this.browserStorageService.removeSimpleStorage("saveDataV4_"+a.examObj.id+"_"+a.termExamResultId),this.browserStorageService.removeSimpleStorage("limitAudioV6_"+a.examObj.id+"_"+a.termExamResultId),this.localStorageObject.clearAllCache(),this.sAztFullScreenService.exitFullscreen(),this.sAztShowMonitorService.destroyMonitorAtStudentDashboard()}compareContent(a,e){return a.key==e.content}compareTrueFalseQuestionContent(a,e){let s=e.find(o=>o.content==a.key);if(s)return"T"==s.status}constructor(a,e,s,o,i){this.commonService=a,this.answerTypeService=e,this.browserStorageService=s,this.localStorageObject=o,this.sAztShowMonitorService=i,this.sAztFullScreenService=new U}}class ai{constructor(){this.fontSize=1}changeSizeImgOrMathJax(a){let e=document.getElementsByClassName("img-docx"),s=document.getElementsByClassName("MJX-TEX");e.length&&Array.from(e).forEach(o=>{if(o instanceof HTMLElement){let i=o.offsetWidth;o.style.width=a?i+10+"px":i-10+"px",o.style.height="auto"}}),s.length&&Array.from(s).forEach(o=>{o instanceof HTMLElement&&(o.style.fontSize=this.fontSize+"em")})}zoomIn(){this.fontSize<2&&(this.fontSize+=.1,this.changeSizeImgOrMathJax(!0))}zoomOut(){this.fontSize>1&&(this.fontSize-=.1,this.changeSizeImgOrMathJax(!1))}}class ii{saveAnswerAndTrackInfoToLocalStorage(a){if(!a.termExamResultId||!a.testingUserObj)return;let e=a.examObj,s=a.termExamResultId,o=a.answerList,i=a.files,p={autoSubmit:void 0,serverCountDown:a.countDownSecond,examMinutes:e.minutes,saveStudentId:a.testingUserObj.id,saveDeviceId:this.sAztTestDeviceIdService.getDeviceId(),deviceType:this.commonService.deviceType()},m={answers:o,notes:[],files:JSON.stringify(i),infors:new M(e.hashId??"",this.browserStorageService).getInfo()??"",trackInfos:JSON.stringify(p),saveTime:(new Date).getTime()};this.saveStudentAnswerToLocalStorage(e,s,m)}saveStudentAnswerToLocalStorage(a,e,s){this.browserStorageService.saveSimpleStorageWithRemoveOverCapacity(this.SAVE_STUDENT_ANSWER_LOCAL_STORAGE_KEY+a.id+"_"+e,JSON.stringify(this.encryptionHelper.payload(s)),[a.id.toString(),a.hashId??""])}getStudentAnswerFromLocalStorage(a,e){var s=this.commonService.myParseJson(this.browserStorageService.getSimpleStorage("saveDataV4_"+a.id+"_"+e)??"");return this.encryptionHelper.result({success:1,version:"",code:1,detailMessage:"",message:"",data:s})?.data}removeStudentAnswerInLocalStorage(a,e){this.browserStorageService.removeSimpleStorage(this.SAVE_STUDENT_ANSWER_LOCAL_STORAGE_KEY+a.id+"_"+e)}getResultTrackFromLocalStorage(a,e){let s=this.browserStorageService.getSimpleStorage(this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY+(a.hashId??"")+"_"+e);return this.commonService.myParseJson(s??"")??[]}setResultTracking(a,e){if(!a.termExamResultId)return a;let s=a.termExamResultId,o=a.examObj,i=a.resultTracks;return i.push([...e,this.timeService.getCurrentSecond().toString()]),this.browserStorageService.saveSimpleStorageWithRemoveOverCapacity(this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY+(o.hashId??"")+"_"+s,JSON.stringify(i),[o.id.toString(),o.hashId??""]),a.resultTracks=i,a}removeResultTracking(a,e){this.browserStorageService.removeSimpleStorage(this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY+a.hashId+"_"+e)}constructor(a,e,s,o){this.commonService=a,this.encryptionHelper=e,this.timeService=s,this.browserStorageService=o,this.sAztTestDeviceIdService=new ze(this.browserStorageService),this.SAVE_RESULT_TRACK_LOCAL_STORAGE_KEY="saveResultTrack_",this.SAVE_STUDENT_ANSWER_LOCAL_STORAGE_KEY="saveDataV4_"}}var ri=c(41715);class zt{defaultTime(a=!1){return{hour:0,minute:0,second:0,almostEnd:a,hourStr:"00",minuteStr:"00",secondStr:"00"}}parseTime(a){const e=Math.floor(a/3600),o=Math.floor(a%3600/60),i=a%60;return{hour:e,minute:o,second:i,almostEnd:0==e&&0==o,hourStr:e<10?"0"+e:e.toString(),minuteStr:o<10?"0"+o:o.toString(),secondStr:i<10?"0"+i:i.toString()}}}const li=function(n){return{"time-almost-end":n}};let q=(()=>{var n;class a extends b.H{intervalTime(){let s=this.totalSecond,o=this.timeService.getCurrentSecond();const i=new Ot.B,r=(0,Et.Y)(1e3).pipe((0,yt.Q)(i));this.waitDestroy(r.subscribe(l=>{this.timeCount=(new zt).parseTime(this.totalSecond);let p=this.timeService.getCurrentSecond();this.totalSecond=s-(p-o),this.totalSecond<=0&&(i.next(!0),this.endCountDownEvent.emit(!0))}))}ngOnChanges(){this.timeCount=(new zt).parseTime(this.totalSecond)}ngOnInit(){super.ngOnInit(),this.timeCount=(new zt).parseTime(this.totalSecond),this.useCountDown&&this.intervalTime()}constructor(s){super(),this.timeService=s,this.endCountDownEvent=new t.bkB,this.timeCount=(new zt).defaultTime()}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(xt.F))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-testbank-frontend-count-down-box"]],inputs:{totalSecond:"totalSecond",useCountDown:"useCountDown"},outputs:{endCountDownEvent:"endCountDownEvent"},features:[t.Vt3,t.OA$],decls:2,vars:6,consts:[[1,"font-medium",3,"ngClass"]],template:function(s,o){1&s&&(t.j41(0,"span",0),t.EFF(1),t.k0s()),2&s&&(t.Y8G("ngClass",t.eq3(4,li,o.timeCount.almostEnd)),t.R7$(1),t.E5c("",o.timeCount.hourStr," : ",o.timeCount.minuteStr," : ",o.timeCount.secondStr,""))},dependencies:[_.YU],encapsulation:2}),a})();function ci(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(1),t.E5c(" ",t.bMT(2,3,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi"),"\xa0",t.bMT(3,5,"lang_auto_va")," ",t.bMT(4,7,"lang_testbank_submit_test_multiplechoice_question_left_1").toLowerCase()+e.data.totalTrueFalseLeftBlank+t.bMT(5,9,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function _i(n,a){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi")+". "," "))}function ui(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_testbank_submit_test_multiplechoice_question_left_1")+e.data.totalTrueFalseLeftBlank+t.bMT(3,3,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function pi(n,a){if(1&n&&(t.j41(0,"div",15)(1,"span",17)(2,"span",18),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,ci,6,11,"span",19),t.DNE(6,_i,3,3,"span",19),t.DNE(7,ui,4,5,"span",19),t.j41(8,"span"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()),2&n){const e=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,5,"lang_auto_canh_bao")+": "," "),t.R7$(2),t.Y8G("ngIf",e.data.notHasFiles&&e.data.totalTrueFalseLeftBlank),t.R7$(1),t.Y8G("ngIf",e.data.notHasFiles&&!e.data.totalTrueFalseLeftBlank),t.R7$(1),t.Y8G("ngIf",e.data.totalTrueFalseLeftBlank&&!e.data.notHasFiles),t.R7$(2),t.SpI(" ",t.bMT(10,7,"lang_auto_ban_co_chac_muon_ket_thuc_bai_thi")," ")}}const je=function(){return{"mr-2 text-success":!0}};function mi(n,a){if(1&n&&(t.qex(0),t.j41(1,"h3",9),t.nrm(2,"lucide-icon",10),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",11)(6,"span",12),t.EFF(7),t.nI1(8,"mytranslate"),t.nrm(9,"app-testbank-frontend-count-down-box",13),t.k0s()(),t.DNE(10,pi,11,9,"div",14),t.j41(11,"div",15)(12,"p",16),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()(),t.bVm()),2&n){const e=t.XpG();t.R7$(2),t.Y8G("ngClass",t.lJ4(13,je)),t.R7$(1),t.SpI(" ",t.bMT(4,7,"lang_powerpoint_frontend_detail_dialog")+" ?"," "),t.R7$(4),t.SpI(" ",t.bMT(8,9,"lang_auto_thoi_gian_lam_bai_cua_ban_con"),": "),t.R7$(2),t.Y8G("totalSecond",e.data.countDownSecond)("useCountDown",!0),t.R7$(1),t.Y8G("ngIf",e.data.notHasFiles||e.data.totalTrueFalseLeftBlank),t.R7$(3),t.SpI(" ",t.bMT(14,11,"lang_auto_khi_xac_nhan_nop_bai_ban_se_khong_the_sua_lai_bai_thi_cua_minh_hay_dot")," ")}}function di(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(1),t.E5c(" ",t.bMT(2,3,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi"),"\xa0",t.bMT(3,5,"lang_auto_va")," ",t.bMT(4,7,"lang_testbank_submit_test_multiplechoice_question_left_1").toLowerCase()+e.data.totalTrueFalseLeftBlank+t.bMT(5,9,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function gi(n,a){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi")+". "," "))}function fi(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&n){const e=t.XpG(3);t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_testbank_submit_test_multiplechoice_question_left_1")+e.data.totalTrueFalseLeftBlank+t.bMT(3,3,"lang_testbank_submit_test_multiplechoice_question_left_2")," ")}}function Ti(n,a){if(1&n&&(t.j41(0,"div",15)(1,"span",17)(2,"span",18),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,di,6,11,"span",19),t.DNE(6,gi,3,3,"span",19),t.DNE(7,fi,4,5,"span",19),t.j41(8,"span"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()),2&n){const e=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,5,"lang_auto_canh_bao")+": "," "),t.R7$(2),t.Y8G("ngIf",e.data.notHasFiles&&e.data.totalTrueFalseLeftBlank),t.R7$(1),t.Y8G("ngIf",e.data.notHasFiles&&!e.data.totalTrueFalseLeftBlank),t.R7$(1),t.Y8G("ngIf",e.data.totalTrueFalseLeftBlank&&!e.data.notHasFiles),t.R7$(2),t.SpI(" ",t.bMT(10,7,"lang_auto_ban_co_chac_muon_ket_thuc_bai_thi")," ")}}function hi(n,a){if(1&n&&(t.j41(0,"h3",9),t.nrm(1,"lucide-icon",10),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Ti,11,9,"div",14),t.j41(5,"div",15)(6,"p",16),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngClass",t.lJ4(8,je)),t.R7$(1),t.SpI(" ",t.bMT(3,4,"lang_powerpoint_frontend_detail_dialog")+" ?"," "),t.R7$(2),t.Y8G("ngIf",e.data.notHasFiles||e.data.totalTrueFalseLeftBlank),t.R7$(3),t.SpI(" ",t.bMT(8,6,"lang_auto_khi_xac_nhan_nop_bai_ban_se_khong_the_sua_lai_bai_thi_cua_minh_hay_dot")," ")}}function bi(n,a){1&n&&(t.j41(0,"span",20),t.nrm(1,"azt-loading-ui"),t.k0s())}let Si=(()=>{var n;class a extends Q._{enableSubmitBtn(){this.data.notHasFiles?setTimeout(()=>{this.countTimeEnable>0&&(this.countTimeEnable--,this.enableSubmitBtn())},1e3):this.countTimeEnable=0}btnCloseDialog(){this.dialogRef.close(!1)}confirmFinish(){this.dialogRef.close(!0)}ngOnInit(){super.ngOnInit(),this.enableSubmitBtn()}constructor(s,o,i,r){super(r,i),this.commonService=s,this.globalService=o,this.dialogRef=i,this.countTimeEnable=5}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(Y.R),t.rXU(ri.r),t.rXU(f.CP,8),t.rXU(f.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-confirm-exam-dialog"]],features:[t.Vt3],decls:14,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[4,"ngIf","ngIfElse"],["unlimitedTpl",""],[1,"p-3","flex","justify-end"],["azt-track-service","comfirm-exam-GwLo2uv__",1,"btn","btn-secondary","w-40","mr-2",2,"vertical-align","middle",3,"click"],["azt-track-service","comfirm-exam-x-4M3WDlkE",1,"btn","w-40","btn-primary",2,"vertical-align","middle",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-md","font-medium","flex","items-center"],["name","file-check-2","size","24",3,"ngClass"],[1,"mt-5","flex","items-center"],[1,"text-md"],[3,"totalSecond","useCountDown"],["class","mt-2",4,"ngIf"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"text-danger"],[1,"font-medium"],[4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.DNE(3,mi,15,14,"ng-container",3),t.DNE(4,hi,9,9,"ng-template",null,4,t.C5r),t.k0s()(),t.j41(6,"div",5)(7,"button",6),t.bIt("click",function(){return o.btnCloseDialog()}),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"button",7),t.bIt("click",function(){return o.confirmFinish()}),t.DNE(11,bi,2,0,"span",8),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()),2&s){const i=t.sdS(5);t.R7$(3),t.Y8G("ngIf",!o.data.isUnLimitedTime)("ngIfElse",i),t.R7$(5),t.SpI(" ",t.bMT(9,7,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",o.countTimeEnable>0),t.R7$(1),t.Y8G("ngIf",o.countTimeEnable>0),t.R7$(1),t.Lme(" ",t.bMT(13,9,"lang_auto_nop_bai")," ",o.countTimeEnable>0?"("+o.countTimeEnable+")":""," ")}},dependencies:[_.YU,_.bT,pt.R,d.WGl,q,u.wp],encapsulation:2}),a})();const xi=function(){return{"mr-2 text-pending":!0}};let ki=(()=>{var n;class a extends Q._{closeDialog(){this.dialogRef.close()}ngOnInit(){super.ngOnInit()}constructor(s,o,i){super(i,o),this.commonService=s,this.dialogRef=o}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(Y.R),t.rXU(f.CP,8),t.rXU(f.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-essay-warning-dialog"]],features:[t.Vt3],decls:17,vars:14,consts:[[1,"bg-white"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["name","badge-info","size","24",3,"ngClass"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"p-3","flex","items-center"],[1,"flex","items-center","mr-auto"],["azt-track-service","check-essay-_8FjX2B80z",1,"btn","w-24","btn-primary",3,"click"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",5)(8,"p",6),t.EFF(9),t.nI1(10,"mytranslate"),t.nI1(11,"mytranslate"),t.k0s()()()(),t.j41(12,"div",7),t.nrm(13,"div",8),t.j41(14,"button",9),t.bIt("click",function(){return o.closeDialog()}),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()),2&s&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(13,xi)),t.R7$(1),t.SpI(" ",t.bMT(6,5,"lang_auto_day_la_bai_thi_hon_hop_co_tu_luan_de_tra_loi_cau_hoi_tu_luan")," "),t.R7$(4),t.Lme("",t.bMT(10,7,"lang_auto_ban_co_the_lam_truc_tiep_tren_he_thong_hoac_lam_ra_giay_chup_anh_roi_gui_qua"),' "',t.bMT(11,9,"lang_auto_dinh_kem_tu_luan"),'"'),t.R7$(6),t.SpI(" ",t.bMT(16,11,"lang_auto_toi_da_hieu")," "))},dependencies:[_.YU,d.WGl,u.wp],encapsulation:2}),a})();function vi(n,a){if(1&n&&(t.j41(0,"div",9)(1,"span",10),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"app-testbank-frontend-count-down-box",11),t.k0s()()),2&n){const e=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_thoi_gian_lam_bai_cua_ban_con"),": "),t.R7$(2),t.Y8G("totalSecond",e.data.countDownSecond)("useCountDown",!0)}}const Ci=function(){return{"mr-2 text-danger":!0}};let wi=(()=>{var n;class a extends Q._{confirmQuit(){this.dialogRef.close(!0)}btnCloseDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit()}constructor(s,o,i){super(i,o),this.commonService=s,this.dialogRef=o}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(Y.R),t.rXU(f.CP,8),t.rXU(f.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-exit-exam"]],features:[t.Vt3],decls:15,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["name","triangle-alert","size","24",3,"ngClass"],["class","mt-5 flex items-center",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","exit-exam-kt6CrvSrn7",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","exit-exam-HDzj9p0Z53",1,"btn","w-24","btn-primary",3,"click"],[1,"mt-5","flex","items-center"],[1,"text-md"],[3,"totalSecond","useCountDown"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,vi,5,5,"div",5),t.k0s()(),t.j41(8,"div",6)(9,"button",7),t.bIt("click",function(){return o.btnCloseDialog()}),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"button",8),t.bIt("click",function(){return o.confirmQuit()}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()()),2&s&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(11,Ci)),t.R7$(1),t.SpI(" ",t.bMT(6,5,"lang_testbank_frontend_are_your_sure_go_back")+" ?"," "),t.R7$(2),t.Y8G("ngIf",!o.data.isUnLimitedTime),t.R7$(3),t.SpI(" ",t.bMT(11,7,"lang_auto_dong")," "),t.R7$(3),t.SpI(" ",t.bMT(14,9,"lang_auto_xac_nhan")," "))},dependencies:[_.YU,_.bT,d.WGl,q,u.wp],encapsulation:2}),a})();var Ii=c(39307);function Oi(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",8)(1,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.goToRegister())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_dang_ky")," "))}function Ei(n,a){1&n&&(t.j41(0,"div",11)(1,"p",12),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_ban_da_co_tai_khoan")," "))}const yi=function(){return{"mr-2 text-pending":!0}};let Ai=(()=>{var n;class a extends Q._{goToRegister(){this.redirectService.redirectRegisterForStudent()}goToLogin(){this.redirectService.redirectToLoginBackLinkWithFromRegister(`${this.router.url}`)}ngOnInit(){super.ngOnInit()}constructor(s,o,i,r){super(r,i),this.router=s,this.redirectService=o,this.dialogRef=i}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(k.Ix),t.rXU(Ii.m),t.rXU(f.CP,8),t.rXU(f.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-login-required-dialog"]],features:[t.Vt3],decls:14,vars:10,consts:[[1,"box","p-5"],[1,"border-slate-200/60","dark:border-darkmode-400","text-center"],[1,"p-5"],[1,"inline-block","mb-3"],[1,"font-medium","flex","items-center"],["name","octagon-alert","size","24",3,"ngClass"],["class","mx-auto",4,"ngIf"],["class","font-medium mb-3 mt-3",4,"ngIf"],[1,"mx-auto"],["azt-track-service","submit-name-UNDqa4pBGe9",1,"btn","w-24","btn-primary",3,"click"],["azt-track-service","submit-name-DfdZNdp-7E-",1,"btn","w-24","btn-primary",3,"click"],[1,"font-medium","mb-3","mt-3"],[1,"text-xs","text-slate-500","dark:text-slate-400"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),t.nrm(5,"lucide-icon",5),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.DNE(8,Oi,4,3,"div",6),t.DNE(9,Ei,4,3,"div",7),t.j41(10,"div",8)(11,"button",9),t.bIt("click",function(){return o.goToLogin()}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()()()),2&s&&(t.R7$(5),t.Y8G("ngClass",t.lJ4(9,yi)),t.R7$(1),t.SpI(" ",t.bMT(7,5,o.isBusinessDomain?"lang_business_ban_can_phai_dang_nhap_tai_khoan_de_lam_bai_thi":"lang_auto_ban_can_phai_dang_ky_tai_khoan_de_lam_bai_thi")," "),t.R7$(2),t.Y8G("ngIf",!o.isBusinessDomain),t.R7$(1),t.Y8G("ngIf",!o.isBusinessDomain),t.R7$(3),t.SpI(" ",t.bMT(13,7,"lang_auto_dang_nhap")," "))},dependencies:[_.YU,_.bT,d.WGl,u.wp],encapsulation:2}),a})();const zi=function(){return{"mr-2 text-pending":!0}};let ji=(()=>{var n;class a extends Q._{confirmQuit(){this.dialogRef.close(!0)}ngOnInit(){super.ngOnInit()}constructor(s,o,i){super(i,o),this.commonService=s,this.dialogRef=o}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(Y.R),t.rXU(f.CP,8),t.rXU(f.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-monitor-screen"]],features:[t.Vt3],decls:16,vars:20,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["name","octagon-alert","size","24",3,"ngClass"],[1,"mb-0","h5"],[1,"p-3","text-right","items-center"],["azt-track-service","monitoring-dialog-dvRk43CCy8",1,"btn","w-24","btn-primary",3,"click"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.j41(5,"p",5),t.EFF(6),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.nI1(9,"mytranslate"),t.nI1(10,"mytranslate"),t.nI1(11,"mytranslate"),t.k0s()()()(),t.j41(12,"div",6)(13,"button",7),t.bIt("click",function(){return o.confirmQuit()}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()),2&s&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(19,zi)),t.R7$(2),t.SjE(" ",t.bMT(7,7,"lang_auto_day_la_bai_thi_duoc"),' "',t.bMT(8,9,"lang_auto_giam_sat"),'"',t.bMT(9,11,"lang_auto__vui_long_bam"),' "',t.bMT(10,13,"lang_auto_xac_nhan"),'" ',t.bMT(11,15,"lang_auto_de_tiep_tuc_bai_thi")," "),t.R7$(8),t.SpI(" ",t.bMT(15,17,"lang_auto_xac_nhan")," "))},dependencies:[_.YU,d.WGl,u.wp],encapsulation:2}),a})();var dt=c(15766),Re=c(47426),Ri=c(74960),Fi=c(4375);const ot=function(n){return{"mt-3":n}};function Gi(n,a){if(1&n&&(t.j41(0,"div",15)(1,"div",16)(2,"div",17),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.nrm(5,"input",18),t.k0s(),t.j41(6,"div",19)(7,"i"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()),2&n){const e=t.XpG(),o=e.$implicit;t.Y8G("ngClass",t.eq3(8,ot,0!==e.index)),t.R7$(3),t.SpI(" ",t.bMT(4,4,"lang_testbank_frontend_please_enter_full_name")," "),t.R7$(2),t.Y8G("formControl",o.anonymousFullNameFormControl),t.R7$(3),t.JRh(t.bMT(9,6,"lang_testbank_frontend_anonymous_account_need_enter_full_name"))}}function Di(n,a){if(1&n&&(t.j41(0,"div",15)(1,"div",16)(2,"div",17),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.nrm(5,"input",18),t.k0s(),t.j41(6,"div",20)(7,"i"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()),2&n){const e=t.XpG(),o=e.$implicit;t.Y8G("ngClass",t.eq3(8,ot,0!==e.index)),t.R7$(3),t.SpI(" ",t.bMT(4,4,"lang_auto_mat_khau_bai_thi")," "),t.R7$(2),t.Y8G("formControl",o.passwordFormControl),t.R7$(3),t.JRh(t.bMT(9,6,"lang_auto_neu_ban_chua_co_mat_khau_cua_bai_thi_vui_long_lien_he_giao_vien_cua_ban"))}}function Mi(n,a){if(1&n&&(t.j41(0,"div",15)(1,"div",16)(2,"div",17),t.EFF(3),t.k0s(),t.nrm(4,"input",18),t.k0s()()),2&n){const e=t.XpG(),o=e.$implicit;t.Y8G("ngClass",t.eq3(3,ot,0!==e.index)),t.R7$(3),t.SpI(" ",o.textInputInfoField.title," "),t.R7$(1),t.Y8G("formControl",o.textInputInfoField.textInputFormControl)}}function Li(n,a){if(1&n&&(t.j41(0,"div",26)(1,"div",27)(2,"div",28),t.nrm(3,"input",29),t.k0s(),t.j41(4,"label",30,31),t.EFF(6),t.k0s()()()),2&n){const e=a.$implicit,s=a.index,o=t.sdS(5),i=t.XpG(2).index;t.R7$(3),t.Y8G("id","checkboxData_"+i+"_"+s)("formControl",e.checkboxFormControl),t.R7$(1),t.FS9("matTooltip",e.optionName),t.Y8G("for","checkboxData_"+i+"_"+s)("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.R7$(2),t.SpI(" ",e.optionName," ")}}function Qi(n,a){if(1&n&&(t.j41(0,"div",15)(1,"div",21)(2,"div",22)(3,"span",23),t.EFF(4),t.k0s()(),t.j41(5,"div",24),t.DNE(6,Li,7,7,"div",25),t.k0s()()()),2&n){const e=t.XpG(),o=e.$implicit;t.Y8G("ngClass",t.eq3(3,ot,0!==e.index)),t.R7$(4),t.JRh(o.checkboxInfoField.title),t.R7$(2),t.Y8G("ngForOf",o.checkboxInfoField.data)}}function Ni(n,a){if(1&n&&(t.j41(0,"div",33)(1,"div",27)(2,"div",28),t.nrm(3,"input",34),t.k0s(),t.j41(4,"label",30,31),t.EFF(6),t.k0s()()()),2&n){const e=a.$implicit,s=a.index,o=t.sdS(5),i=t.XpG(2),r=i.index,l=i.$implicit;t.R7$(3),t.Y8G("id","radioInfoField_"+r+"_"+s)("formControl",l.radioInfoField.radioFormControl)("value",e.optionName),t.R7$(1),t.FS9("matTooltip",e.optionName),t.Y8G("for","radioInfoField_"+r+"_"+s)("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.R7$(2),t.SpI(" ",e.optionName," ")}}function Bi(n,a){if(1&n&&(t.j41(0,"div",15)(1,"div",21)(2,"div",22)(3,"span",23),t.EFF(4),t.k0s()(),t.j41(5,"div",24),t.DNE(6,Ni,7,8,"div",32),t.k0s()()()),2&n){const e=t.XpG(),o=e.$implicit;t.Y8G("ngClass",t.eq3(3,ot,0!==e.index)),t.R7$(4),t.JRh(o.radioInfoField.title),t.R7$(2),t.Y8G("ngForOf",o.radioInfoField.data)}}function $i(n,a){if(1&n&&(t.j41(0,"mat-option",41),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.FS9("value",e.optionName),t.R7$(1),t.JRh(e.optionName)}}function Yi(n,a){if(1&n&&(t.j41(0,"div",15)(1,"div",35)(2,"span",36),t.EFF(3),t.k0s(),t.j41(4,"div",37)(5,"mat-form-field",38)(6,"mat-select",39),t.DNE(7,$i,2,2,"mat-option",40),t.k0s()()()()()),2&n){const e=t.XpG(),o=e.$implicit;t.Y8G("ngClass",t.eq3(4,ot,0!==e.index)),t.R7$(3),t.JRh(o.dropDownMenuInfoField.title),t.R7$(3),t.Y8G("formControl",o.dropDownMenuInfoField.dropDownFormControl),t.R7$(1),t.Y8G("ngForOf",o.dropDownMenuInfoField.data)}}function Pi(n,a){if(1&n&&(t.qex(0),t.j41(1,"div",13),t.DNE(2,Gi,10,10,"div",14),t.DNE(3,Di,10,10,"div",14),t.DNE(4,Mi,5,5,"div",14),t.DNE(5,Qi,7,5,"div",14),t.DNE(6,Bi,7,5,"div",14),t.DNE(7,Yi,8,6,"div",14),t.k0s(),t.bVm()),2&n){const e=a.$implicit;t.R7$(2),t.Y8G("ngIf",e.anonymousFullNameFormControl),t.R7$(1),t.Y8G("ngIf",e.passwordFormControl),t.R7$(1),t.Y8G("ngIf",e.textInputInfoField),t.R7$(1),t.Y8G("ngIf",e.checkboxInfoField),t.R7$(1),t.Y8G("ngIf",e.radioInfoField),t.R7$(1),t.Y8G("ngIf",e.dropDownMenuInfoField)}}function Xi(n,a){1&n&&(t.j41(0,"span",42),t.nrm(1,"azt-loading-ui"),t.k0s())}const Vi=function(){return{"mr-2 text-pending":!0}};let Ui=(()=>{var n;class a extends Q._{handleConfirm(){this.initStatusObj();let o,s=[];this.infoObjs.forEach(i=>{let r={contents:[]};i.checkboxInfoField&&(r.index=i.checkboxInfoField.rawIndex,r.type=i.checkboxInfoField.type,r.title=i.checkboxInfoField.title,r.isFullName=i.checkboxInfoField.isFullName,i.checkboxInfoField.data.forEach(l=>{l.checkboxFormControl.value&&r.contents.push(l.optionName)}),s.push(r)),i.radioInfoField&&(r.index=i.radioInfoField.rawIndex,r.type=i.radioInfoField.type,r.title=i.radioInfoField.title,r.isFullName=i.radioInfoField.isFullName,r.contents.push(i.radioInfoField.radioFormControl.value),s.push(r)),i.dropDownMenuInfoField&&(r.index=i.dropDownMenuInfoField.rawIndex,r.type=i.dropDownMenuInfoField.type,r.title=i.dropDownMenuInfoField.title,r.isFullName=i.dropDownMenuInfoField.isFullName,r.contents.push(i.dropDownMenuInfoField.dropDownFormControl.value),s.push(r)),i.textInputInfoField&&(r.index=i.textInputInfoField.rawIndex,r.type=i.textInputInfoField.type,r.title=i.textInputInfoField.title,r.isFullName=i.textInputInfoField.isFullName,r.contents.push(i.textInputInfoField.textInputFormControl.value),s.push(r))}),this.data.obj.enterAnonymousFullNameRequired&&(o=this.form.controls.anonymousFullNameFormControl?.value,this.hasFullNameFieldInConfigData&&(o=this.commonService.getFirstOfArray(s.find(i=>i.isFullName)?.contents??[]))),this.updateAnonymousFullName(o,i=>{i&&this.showErrorSnack(i),this.data.obj.passwordRequired&&new M(this.data.obj.examObj.hashId??"",this.browserStorageService).savePassword(this.form.controls.passwordFormControl?.value),this.data.obj.enterInfoRequired&&new M(this.data.obj.examObj.hashId??"",this.browserStorageService).saveInfo(JSON.stringify(s)),this.dialogRef.close(!0)})}updateAnonymousFullName(s,o){if(null==s)return o(void 0);this.waitDestroy(this.userInfoService.apiUserInfoChangeNamePost({id:0,name:s}).subscribe(i=>o(i.success?void 0:i.message)))}initFieldForm(){this.data.obj.enterAnonymousFullNameRequired&&!this.hasFullNameFieldInConfigData&&this.form.controls.anonymousFullNameFormControl&&(console.log("go he"),this.form.controls.anonymousFullNameFormControl.setValue(""),this.infoObjs.push({anonymousFullNameFormControl:this.form.controls.anonymousFullNameFormControl})),this.data.obj.passwordRequired&&this.form.controls.passwordFormControl&&(this.form.controls.passwordFormControl.setValue(""),this.infoObjs.push({passwordFormControl:this.form.controls.passwordFormControl})),new M(this.data.obj.examObj.hashId??"",this.browserStorageService).hasInfo()||this.data.obj.infoFields.forEach((s,o)=>{switch(s.type){case 1:let i={checkboxInfoField:{rawIndex:o,type:s.type,title:s.title??"",isFullName:s.isFullName??!1,data:[],checkboxFormArray:new S.Yp([],qi(1))}};s.contents.forEach((T,I)=>{i.checkboxInfoField?.data.push({index:I,optionName:T,checkboxFormControl:new S.MJ(!1,{nonNullable:!0})})}),i.checkboxInfoField?.data.forEach(T=>i.checkboxInfoField?.checkboxFormArray.push(T.checkboxFormControl)),this.infoObjs.push(i);break;case 2:let r=this.commonService.getFirstOfArray(s.contents),l={radioInfoField:{rawIndex:o,type:s.type,title:s.title??"",isFullName:s.isFullName??!1,data:[],radioFormControl:new S.MJ(r??"",{nonNullable:!0,validators:[dt.M.noWhiteSpace]})}};s.contents.forEach((T,I)=>{l.radioInfoField?.data.push({index:I,optionName:T})}),this.infoObjs.push(l);break;case 3:let p={dropDownMenuInfoField:{rawIndex:o,type:s.type,title:s.title??"",isFullName:s.isFullName??!1,data:[],dropDownFormControl:new S.MJ("",{nonNullable:!0,validators:[dt.M.noWhiteSpace]})}};s.contents.forEach((T,I)=>{p.dropDownMenuInfoField?.data.push({index:I,optionName:T})}),this.infoObjs.push(p);break;default:let m={textInputInfoField:{rawIndex:o,type:s.type??0,title:s.title??"",isFullName:s.isFullName??!1,textInputFormControl:new S.MJ("",{nonNullable:!0,validators:[dt.M.noWhiteSpace]})}};this.infoObjs.push(m)}}),this.infoObjs.forEach(s=>{s.anonymousFullNameFormControl&&(this.form.controls.anonymousFullNameFormControl=s.anonymousFullNameFormControl),s.passwordFormControl&&(this.form.controls.passwordFormControl=s.passwordFormControl),s.checkboxInfoField&&this.form.controls.checkboxInfoField?.push(s.checkboxInfoField.checkboxFormArray),s.radioInfoField&&this.form.controls.radioInfoField?.push(s.radioInfoField.radioFormControl),s.dropDownMenuInfoField&&this.form.controls.dropDownMenuInfoField?.push(s.dropDownMenuInfoField.dropDownFormControl),s.textInputInfoField&&this.form.controls.textInputInfoField?.push(s.textInputInfoField.textInputFormControl)})}ngOnInit(){super.ngOnInit(),this.hasFullNameFieldInConfigData=null!=this.data.obj.infoFields.find(s=>s.isFullName),this.initFieldForm()}constructor(s,o,i,r){super(r,i),this.userInfoService=s,this.browserStorageService=o,this.dialogRef=i,this.form=new S.gE({passwordFormControl:new S.MJ("empty",{nonNullable:!0,validators:[dt.M.noWhiteSpace]}),anonymousFullNameFormControl:new S.MJ("empty",{nonNullable:!0,validators:[dt.M.noWhiteSpace]}),checkboxInfoField:new S.Yp([]),radioInfoField:new S.Yp([]),dropDownMenuInfoField:new S.Yp([]),textInputInfoField:new S.Yp([])}),this.infoObjs=[],this.hasFullNameFieldInConfigData=!1}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(Ie.fv),t.rXU(Pt.z),t.rXU(f.CP,8),t.rXU(f.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-submit-info"]],features:[t.Vt3],decls:19,vars:16,consts:[["id","test-info-form",3,"formGroup"],[1,"box"],[1,"border-b","border-slate-200","dark:border-darkmode-400"],[1,"p-3","mb-0","border-b","border-slate-200","dark:border-darkmode-400"],[1,"intro-x","font-bold","flex","items-center"],["name","octagon-alert","size","24",3,"ngClass"],[1,"intro-x","text-xs","text-slate-600","mt-1"],[1,"mt-3","pb-3"],[3,"defaultHeight"],[4,"ngFor","ngForOf"],[1,"text-right","p-3"],["azt-track-service","submit-info-5wWwRj07M5L",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"px-2",2,"margin-left","5px"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"input-group"],[1,"input-group-text","font-medium","whitespace-nowrap",2,"min-width","134px"],["type","text",1,"form-control",3,"formControl"],[1,"pt-1","text-xs"],[1,"pt-1","text-xs","text-danger"],[1,"border","border","border-slate-200","dark:border-darkmode-400","rounded-md"],[1,"p-3","bg-slate-100","dark:bg-darkmode-400","border-b","border-slate-200","dark:border-darkmode-400"],[1,"font-medium"],[1,"grid","grid-cols-12","gap-3","p-3"],["class","col-span-12 md:col-span-4 mb-1",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4","mb-1"],[1,"flex","items-center"],[1,"form-check","mr-2"],["type","checkbox",1,"form-check-input","ml-2",3,"id","formControl"],[1,"cursor-pointer","truncate",3,"for","matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","col-span-12 sm:col-span-12 md:col-span-4 mb-1",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-12","md:col-span-4","mb-1"],["type","radio",1,"form-check-input","ml-2",3,"id","formControl","value"],[1,"input-group","w-full"],[1,"input-group-text","font-medium","whitespace-nowrap",2,"min-width","134px","transform","translateX(3px)","z-index","2"],[1,"w-full","overflow-hidden"],["appearance","outline"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(s,o){1&s&&(t.j41(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.nrm(5,"lucide-icon",5),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"h6",6),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"div",7)(12,"azt-mat-dialog-content",8),t.DNE(13,Pi,8,6,"ng-container",9),t.k0s()()(),t.j41(14,"div",10)(15,"button",11),t.bIt("click",function(){return o.handleConfirm()}),t.DNE(16,Xi,2,0,"span",12),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()()()()),2&s&&(t.Y8G("formGroup",o.form),t.R7$(5),t.Y8G("ngClass",t.lJ4(15,Vi)),t.R7$(1),t.SpI(" ",t.bMT(7,9,"lang_auto_vui_long_nhap_them_thong_tin_de_bat_dau_bai_thi")," "),t.R7$(3),t.SpI(" ",t.bMT(10,11,"lang_auto_nhung_thong_tin_nay_se_giup_giao_vien_dinh_danh_va_cham_diem_cho_ban")," "),t.R7$(3),t.Y8G("defaultHeight",55),t.R7$(1),t.Y8G("ngForOf",o.infoObjs),t.R7$(2),t.Y8G("disabled",!o.form.valid||o.statusObj.loading),t.R7$(1),t.Y8G("ngIf",o.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(18,13,"lang_auto_xac_nhan")," "))},dependencies:[_.YU,_.Sq,_.bT,Re.wT,Ri.rl,Fi.VO,V.oV,S.qT,S.me,S.Zm,S.Fm,S.BC,S.cb,S.l_,S.j4,Ct.U,ae.f,pt.R,d.WGl,u.wp],encapsulation:2}),a})();function qi(n=1){return e=>e.getRawValue().filter(o=>o).length>=n?null:{required:!0}}var Hi=c(57654);const Wi=function(){return{"mr-2":!0}};let Ji=(()=>{var n;class a extends b.H{copyLinkToClipboard(s){return s}clickCopyLink(){this.showSuccessSnack("lang_auto_copy_link_thanh_cong")}bindUrlToQrCode(s){this.urlToUploadEssayFilesInMobile=`${this.commonService.getCurrentDomain()}/n/${s}`}ngOnInit(){super.ngOnInit(),this.bindUrlToQrCode(this.uploadHashCode)}constructor(){super(),this.urlToUploadEssayFilesInMobile=""}}return(n=a).\u0275fac=function(s){return new(s||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-qr-code-of-upload-essay-files"]],inputs:{uploadHashCode:"uploadHashCode"},features:[t.Vt3],decls:16,vars:15,consts:[[1,"p-2","mt-3"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"mt-3"],[1,"mt-2","flex","items-center"],["type","text","readonly","",1,"w-full","p-2","bg-white","mr-2",3,"value"],["azt-track-service","upload-image-X_utJrb2bC",1,"btn","btn-outline-primary","flex-none",3,"cdkCopyToClipboard","click"],["name","copy","size","16",3,"ngClass"],[1,"ml-2",3,"fileName","linkUrl"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"span",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",3)(6,"div"),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",4),t.nrm(10,"input",5),t.j41(11,"button",6),t.bIt("click",function(){return o.clickCopyLink()}),t.nrm(12,"lucide-icon",7),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.nrm(15,"azt-download-qr-code",8),t.k0s()()()),2&s&&(t.R7$(3),t.JRh(t.bMT(4,8,"lang_auto_hoac_nop_bang_dien_thoai")),t.R7$(4),t.SpI(" ",t.bMT(8,10,"lang_auto_vao_trinh_duyet_bang_dien_thoai_truy_cap_duong_dan_sau_de_tai_bai_thi_tu_luan_len")," "),t.R7$(3),t.FS9("value",o.urlToUploadEssayFilesInMobile),t.R7$(1),t.Y8G("cdkCopyToClipboard",o.copyLinkToClipboard(o.urlToUploadEssayFilesInMobile)),t.R7$(1),t.Y8G("ngClass",t.lJ4(14,Wi)),t.R7$(1),t.SpI(" ",t.bMT(14,12,"lang_auto_sao_chep")," "),t.R7$(2),t.Y8G("fileName","azota_upload_essay_files")("linkUrl",o.copyLinkToClipboard(o.urlToUploadEssayFilesInMobile)))},dependencies:[_.YU,ke.dF,le.d,d.WGl,u.wp],encapsulation:2}),a})();function Ki(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-azt-essay-files-upload-box",3),t.bIt("changeEssayFilesEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.changeEssayFiles(o))})("cancelChangeEssayFilesEvent",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.cancelChangeEssayFiles())})("uploadActionsEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.uploadActionsEvent(o))}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("uploadHashCode",e.data.uploadHashCode)("showCancelButton",!0)}}function Zi(n,a){if(1&n&&t.nrm(0,"app-coazt-qr-code-of-upload-essay-files",4),2&n){const e=t.XpG();t.Y8G("uploadHashCode",e.data.uploadHashCode)}}let tr=(()=>{var n;class a extends Q._{changeEssayFiles(s){this.data.isFullScreenRequired&&this.sAztFullScreenService.showFullScreen(),this.dialogRef.close(s)}cancelChangeEssayFiles(){this.data.isFullScreenRequired&&this.sAztFullScreenService.showFullScreen(),this.dialogRef.close(void 0)}uploadActionsEvent(s){return"SELECT_FILE"==s?(this.sAztFullScreenVisibleService.setAllowTrackFullScreenStatus(!1),void this.sAztFullScreenVisibleService.setAllowTrackVisibleStatus(!1)):"SELECTED"==s?this.sAztFullScreenVisibleService.setAllowTrackVisibleStatus(!0):void 0}constructor(s,o,i){super(i,o),this.sAztFullScreenVisibleService=s,this.dialogRef=o,this.sAztFullScreenService=new U}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(At),t.rXU(f.CP,8),t.rXU(f.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-upload-essay-files-dialog"]],features:[t.Vt3],decls:3,vars:3,consts:[["scrollViewport","","pointerEventsMethod","scrollbar",1,"upload-essay-dialog-box",2,"--scrollbar-size","5px","height","100%",3,"visibility"],[3,"uploadHashCode","showCancelButton","changeEssayFilesEvent","cancelChangeEssayFilesEvent","uploadActionsEvent",4,"ngIf"],[3,"uploadHashCode",4,"ngIf"],[3,"uploadHashCode","showCancelButton","changeEssayFilesEvent","cancelChangeEssayFilesEvent","uploadActionsEvent"],[3,"uploadHashCode"]],template:function(s,o){1&s&&(t.j41(0,"ng-scrollbar",0),t.DNE(1,Ki,1,2,"app-azt-essay-files-upload-box",1),t.DNE(2,Zi,1,1,"app-coazt-qr-code-of-upload-essay-files",2),t.k0s()),2&s&&(t.Y8G("visibility","hover"),t.R7$(1),t.Y8G("ngIf",o.data.uploadHashCode),t.R7$(1),t.Y8G("ngIf",!o.isMobileDevice&&o.data.uploadHashCode))},dependencies:[_.bT,Hi.t,g.Yh,g.Gl,Ji],encapsulation:2}),a})(),Fe=(()=>{var n;class a extends b.H{onResize(){this.isMobileScreenSize=(new Ae).checkByWidth()}goBackToExamDetails(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.currentTakeTestStepData.examObj.hashId,"?backto="+encodeURIComponent(this.backToLink))}checkScrollToShowTopBar(){return window.scrollY>50}selectStudentEvent(s){this.getInitDataFromApi()}showUploadEssayFilesDialog(){this.sAztFullScreenVisibleService.reset(),document.getElementById("monitorScreenTakeTest")?.style.setProperty("display","none"),this.sAztDialogService.open(tr,{data:{uploadHashCode:this.currentTakeTestStepData.uploadHashCode,isFullScreenRequired:this.currentTakeTestStepData.showFullScreenRequired},restoreFocus:!1,width:"100vw",maxWidth:"100vw",height:"100vh",backdropClass:"azt-backdrop-full-width-height",disableClose:!0}).afterClosed().subscribe(o=>{this.sAztFullScreenVisibleService.reset(),null!=o&&(window.scrollTo({top:0}),this.currentTakeTestStepData.files=o,window.scrollTo({top:0}),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData),this.sAztTakeTestCallApiService.saveAnswerAndTrackInfoToApi(this.currentTakeTestStepData),this.currentTakeTestStepData.showFullScreenRequired&&this.sAztFullScreenService.showFullScreen(),this.openVideoMonitor())})}changeAnswerFiles(s){this.currentTakeTestStepData.files=s,this.sAztTakeTestCallApiService.updateEssayFilesToApi(this.currentTakeTestStepData).then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")})}openVideoMonitor(){this.currentTakeTestStepData.showVideoRequired&&(document.getElementById("monitorScreenTakeTest")?.style?.setProperty("display","block"),this.sAztShowMonitorService.monitorAtTestPage({roomId:this.hashId,examConfig:this.currentTakeTestStepData.examObj,examId:this.currentTakeTestStepData.examObj.id,resultId:this.currentTakeTestStepData.termExamResultId,userList:[]},this.currentTakeTestStepData.testingUserObj,s=>{s&&(this.currentTakeTestStepData.isShowVideoMonitor=!0)}))}intervalExamTime(){if(this.currentTakeTestStepData?.isUnLimitedTime)return;const s=new Ot.B,o=(0,Et.Y)(1e3).pipe((0,yt.Q)(s));this.waitDestroy(o.subscribe(i=>{if(this.currentTakeTestStepData.countDownSecond<=0)this.getServerTime(r=>{if(this.currentTakeTestStepData.countDownSecond<=0)return this.currentTakeTestStepData.viewQuestionObjs=this.sAztTestQuestionService.takeAnswerForQuestion(this.currentTakeTestStepData.answerList,this.currentTakeTestStepData.viewQuestionObjs),this.currentTakeTestStepData.isAutoSubmit=!0,this.processByStep(h.RUN_OUT_OF_TIME_AFTER_TEST,this.currentTakeTestStepData),this.sAztDialogService.dialog.closeAll(),s.next(!0)});else{let r=this.timeService.getCurrentSecond();this.currentTakeTestStepData.countDownSecond=this.currentTakeTestStepData.rawCountDownSecond-(r-this.currentTakeTestStepData.clientTimeSecond),this.currentTakeTestStepData=this.sAztTestQuestionService.calculateNewCountDown(this.currentTakeTestStepData)}}))}intervalToGetServerTime(){if(this.currentTakeTestStepData?.isUnLimitedTime)return;const s=new Ot.B,o=(0,Et.Y)(1e3*this.commonService.getRandomNumber(200,300)).pipe((0,yt.Q)(s));this.waitDestroy(o.subscribe(i=>{this.getServerTime(r=>{})}))}getServerTime(s){this.waitDestroy(this.frontExamService.apiFrontExamGetTimeExamObjGet().subscribe(o=>{o.success&&o.data?.curServerTime?(this.currentTakeTestStepData.currentServerTime=o.data.curServerTime,this.currentTakeTestStepData.countDownSecond=this.currentTakeTestStepData.startTestTimeAtServerTime+60*(this.currentTakeTestStepData.examObj.minutes??0)-this.currentTakeTestStepData.currentServerTime,this.currentTakeTestStepData.clientTimeSecond=this.timeService.getCurrentSecond(),this.currentTakeTestStepData.rawCountDownSecond=this.currentTakeTestStepData.countDownSecond,this.currentTakeTestStepData=this.sAztTestQuestionService.calculateNewCountDown(this.currentTakeTestStepData),s(!0)):s(!1)}))}intervalToSendTestDataToApi(){const s=new Ot.B,o=(0,Et.Y)(1e3*this.commonService.getRandomNumber(120,180)).pipe((0,yt.Q)(s));this.waitDestroy(o.subscribe(i=>{this.sAztTakeTestCallApiService.saveAnswerAndTrackInfoToApi(this.currentTakeTestStepData)}))}openQuitDialog(){this.sAztDialogService.open(wi,{data:{countDownSecond:this.currentTakeTestStepData.countDownSecond,isUnLimitedTime:this.currentTakeTestStepData.isUnLimitedTime},restoreFocus:!1,width:"450px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(o=>{o&&this.goBackToExamDetails()})}openSubmitExam(){let s=this.currentTakeTestStepData.answerList.filter(r=>!this.commonService.isExistInArray(this.currentTakeTestStepData.essayQuestionIds,r.questionId)).length;this.sAztDialogService.open(Si,{data:{countDownSecond:this.currentTakeTestStepData.countDownSecond,isUnLimitedTime:this.currentTakeTestStepData.isUnLimitedTime,notHasFiles:this.currentTakeTestStepData.hasEssayQuestion&&0==this.currentTakeTestStepData.files.length,totalTrueFalseLeftBlank:this.currentTakeTestStepData.countQuestion-this.currentTakeTestStepData.countEssayQuestion-s},restoreFocus:!1,width:"550px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(r=>{r&&this.submitTestToApi(!1)})}sendAudioForQuestion(s){this.currentTakeTestStepData=this.sAztTestAudioService.sendAudioForQuestion(this.currentTakeTestStepData,s)}setResultTracking(s){this.currentTakeTestStepData=this.sAztTestResultTrackService.setResultTracking(this.currentTakeTestStepData,s)}setQuestionOneChoiceAnswer(s){this.currentTakeTestStepData=this.sAztTestQuestionService.setQuestionOneChoiceAnswer(this.currentTakeTestStepData,s),this.sAztTakeTestCallApiService.saveAnswerAndTrackInfoToApi(this.currentTakeTestStepData),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData)}setQuestionTrueFalseAnswer(s){this.currentTakeTestStepData=this.sAztTestQuestionService.setQuestionTrueFalseAnswer(this.currentTakeTestStepData,s),this.sAztTakeTestCallApiService.saveAnswerAndTrackInfoToApi(this.currentTakeTestStepData),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData)}setQuestionFillAnswer(s){this.currentTakeTestStepData=this.sAztTestQuestionService.setQuestionFillAnswer(this.currentTakeTestStepData,s),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData)}setQuestionEssayAnswer(s){this.currentTakeTestStepData=this.sAztTestQuestionService.setQuestionEssayAnswer(this.currentTakeTestStepData,s),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData)}submitTestToApi(s){if(this.isSubmittingAnswer)return;this.isSubmittingAnswer=!0,this.initStatusObj();var o=new M(this.hashId,this.browserStorageService).getInfo(),i=this.commonService.myClone(this.currentTakeTestStepData.resultTracks);let r=JSON.stringify({type:"exam",id:this.currentTakeTestStepData.examObj.id,user:this.currentTakeTestStepData.examObj.tenantId});var l={autoSubmit:s,serverCountDown:this.currentTakeTestStepData.countDownSecond,examMinutes:this.currentTakeTestStepData.examObj.minutes,saveStudentId:this.currentTakeTestStepData.testingUserObj.id,saveDeviceId:this.sAztTestDeviceIdService.getDeviceId(),deviceType:this.commonService.deviceType()};let p={answers:this.currentTakeTestStepData.answerList,notes:[],files:JSON.stringify(this.currentTakeTestStepData.files),infors:o,trackInfos:JSON.stringify(l),resultTrack:this.zipDataService.convertContentGzip(JSON.stringify(i)),saveTime:0,id:this.currentTakeTestStepData.termExamResultId??0};this.waitDestroy(this.frontExamResultService.apiFrontExamResultSaveResultEncryptPost(this.encryptionHelper.payload(p),r,this.hashId).subscribe(m=>{1==m.success?(this.sAztTestQuestionService.clearAllData(this.currentTakeTestStepData),this.commonService.myNavigationWithQueryString("/test/submit-test/"+this.tenantId+"/"+this.curCateId+"/"+this.hashId+"/"+m.data?.id,"?backto="+encodeURIComponent(this.backToLink))):s?(this.showErrorSnack(m.message),setTimeout(()=>{this.isSubmittingAnswer=!1,this.submitTestToApi(!0)},5e3)):(this.isSubmittingAnswer=!1,this.errorStatusObj(m.message,!0))}))}processInitData(s,o){if(!(o&&o?.success&&o?.data&&o.data.examObj))return this.errorStatusObj(o?.message??"",!0);let i=o?.data?.errorMessage??"",r=""!=i,l={examObj:o.data.examObj,examConfigObj:o.data.examConfigObj,infoFields:this.commonService.myParseJson(o.data.examObj.infoFieldsV2??"")??[],authUserObj:this.userService.getUserObj(),studentObj:o.data.studentObj,termExamResultId:o.data.testingExamResultObj?.id,testingResultObj:o.data.testingExamResultObj,testingUserObj:this.homeworkExamService.mustInClassroom(o.data.examObj)?o.data.studentObj??this.userService.getUserObj():this.userService.getUserObj(),uploadHashCode:o.data?.hashCodeUpload??"",currentStep:h.INIT,sequenceSteps:[h.SHOW_ESSAY_WARNING_DIALOG,h.SHOW_FULL_SCREEN,h.SHOW_VIDEO_REQUIRED],questionTestObjs:o.data.questionObjs,viewQuestionObjs:this.commonService.castJsonToClassObjs(_e.I,JSON.stringify(o.data.questionObjs))??[],viewQuestionInGroupList:[],hasEssayQuestion:this.sAztTestQuestionService.getEssayQuestionIds(o.data.questionObjs).length>0,countEssayQuestion:this.sAztTestQuestionService.getEssayQuestionIds(o.data.questionObjs).length,essayQuestionIds:this.sAztTestQuestionService.getEssayQuestionIds(o.data.questionObjs),countQuestion:o.data.questionObjs.length,isAnonymousUser:this.userService.isAnonymousRoleOfCurrentUser(),isShowVideoMonitor:!1,startTestTimeAtServerTime:o.data?.startServerSecond??0,currentServerTime:o.data?.currentServerSecond??0,countDownSecond:o.data?.countDownSecond??0,rawCountDownSecond:o.data?.countDownSecond??0,isUnLimitedTime:(o.data.examObj.minutes??0)<=0,clientTimeSecond:this.timeService.getCurrentSecond(),isAutoSubmit:!1,isActualEndTime:!1,allowUploadEssayFileWhenEndTime:!0,autoSubmitAfterSeconds:void 0,loginRequired:!1,errorMessage:i,waitToTestTime:"lang_core_time_smaller_than_start_time"===i,isUnPurchased:"lang_core_does_not_owner_exam"===i,passwordRequired:"lang_core_exam_password_invalid"===i,isInvalidPassword:"lang_core_exam_password_invalid"===i&&s,showFullScreenRequired:null!=o.data.examObj.autoMonitor&&0!=o.data.examObj.autoMonitor&&!this.isMobileDevice,showVideoRequired:null!=o.data.examObj.autoMonitor&&3==o.data.examObj.autoMonitor,enterAnonymousFullNameRequired:!!this.userService.isAnonymousName(this.userService.getUserObj()),enterInfoRequired:!1,chooseStudentRequired:!1,isRunOutOfTime:!1,resultTracks:[],files:[],answerList:[],trainingAnswerQuestions:void 0,nextBackQuestionModel:void 0,hasAlreadyGenerateQuestion:!1,hasAlreadyRunIntervalCountDown:!1};return l=this.sAztTestQuestionService.calculateNewCountDown(l),this.commonService.translateMetaData({title:l.examObj.name,description:l.examObj.name}),l.testingResultObj&&(l.resultTracks=this.sAztTestResultTrackService.getResultTrackFromLocalStorage(l.examObj,l.testingResultObj.id),l.viewQuestionObjs=this.sAztTestQuestionService.changeQuestionContent(l.examObj,l.testingResultObj.id,l.viewQuestionObjs),this.sAztTestAudioService.saveAudioLimitStorage(l.examObj,l.testingResultObj.id,l.viewQuestionObjs)),l.viewQuestionObjs=this.sAztTestQuestionService.resetQuestionIndex(l.viewQuestionObjs,l.examConfigObj?.resetQuestionIndex??!1),l=this.sAztTestNextBackQuestionService.init(l),l.enterInfoRequired=1==l.examObj.enterInfo&&l.infoFields.length>0&&!new M(this.hashId,this.browserStorageService).getInfo(),l.loginRequired=!this.homeworkExamService.allowAnonymousUser(l.examObj)&&l.isAnonymousUser,l.chooseStudentRequired=this.homeworkExamService.mustInClassroom(l.examObj)&&null==l.studentObj,l.isRunOutOfTime=!r&&l.countDownSecond<=0&&!l.isUnLimitedTime,this.processByStep(l.loginRequired?h.LOGIN_DIALOG:l.isUnPurchased?h.PAYMENT_DIALOG:l.passwordRequired||l.enterAnonymousFullNameRequired||l.enterInfoRequired?h.INFO_REQUIRED_DIALOG:l.waitToTestTime?h.WAIT_TO_TEST_TIME:l.chooseStudentRequired?h.CHOOSE_STUDENT:l.isRunOutOfTime?h.RUN_OUT_OF_TIME_WHEN_F5:r?h.SHOW_ERROR_MESSAGE:h.SEQUENCE_STEP,l)}processByStep(s,o){return this.currentTakeTestStepData=o,this.currentTakeTestStepData.currentStep=s,s==h.SHOW_ERROR_MESSAGE?this.stopStatusObj():s==h.LOGIN_DIALOG?(this.sAztDialogService.open(Ai,{data:{},restoreFocus:!1,width:"450px",backdropClass:"azt-backdrop",disableClose:!0}),this.stopStatusObj()):s==h.PAYMENT_DIALOG?(this.sAztDialogService.open(Ka.Q,{data:{examObj:o.examObj},restoreFocus:!1,width:"100vw",maxWidth:"100vw",height:"100vh",backdropClass:"azt-backdrop-full-width-height",disableClose:!0}).afterClosed().subscribe(l=>{l||this.myNavigation(`/de-thi/${o.examObj.hashId}`)}),this.stopStatusObj()):s==h.INFO_REQUIRED_DIALOG?(this.sAztDialogService.open(Ui,{data:{obj:o},restoreFocus:!1,width:"750px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(r=>{r&&this.getInitDataFromApi()}),this.stopStatusObj()):s==h.RUN_OUT_OF_TIME_WHEN_F5||s==h.RUN_OUT_OF_TIME_AFTER_TEST?this.sAztTakeTestCallApiService.getSyncQuestionDataFromApi(this.questsLoadState,this.followerRenderQuest,this.questionRenderService,o,i=>(this.currentTakeTestStepData=i,this.currentTakeTestStepData.viewQuestionObjs=this.sAztTestQuestionService.takeAnswerForQuestion(o.answerList,o.viewQuestionObjs),this.stopStatusObj())):s==h.CHOOSE_STUDENT||s==h.WAIT_TO_TEST_TIME?this.stopStatusObj():s==h.SEQUENCE_STEP?this.startShowTestContent(o,i=>{if(i)return this.setProcessToErrorStep(i);let r=this.commonService.getFirstOfArray(o.sequenceSteps);return o.sequenceSteps=o.sequenceSteps.filter(l=>l!=r),this.processByStep(r||h.START_TEST,o)}):s==h.SHOW_ESSAY_WARNING_DIALOG?o.hasEssayQuestion?(this.sAztDialogService.open(ki,{data:{},restoreFocus:!1,width:"400px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(()=>{this.processByStep(h.SEQUENCE_STEP,o)}),this.stopStatusObj()):this.processByStep(h.SEQUENCE_STEP,o):s==h.SHOW_FULL_SCREEN?o.showFullScreenRequired?(this.sAztDialogService.open(ji,{data:{},restoreFocus:!1,width:"400px",backdropClass:"azt-backdrop",disableClose:!0}).afterClosed().subscribe(()=>(this.sAztFullScreenService.showFullScreen(),this.processByStep(h.SEQUENCE_STEP,o))),this.stopStatusObj()):this.processByStep(h.SEQUENCE_STEP,o):s==h.SHOW_VIDEO_REQUIRED?o.showVideoRequired?(this.openVideoMonitor(),this.processByStep(h.SEQUENCE_STEP,o)):this.processByStep(h.SEQUENCE_STEP,o):s==h.START_TEST?this.startShowTestContent(o,i=>{if(i)return this.setProcessToErrorStep(i);this.stopStatusObj()}):void this.errorStatusObj("lang_take_test_not_found_process_step",!0)}setProcessToErrorStep(s){this.currentTakeTestStepData.errorMessage=s,this.processByStep(h.SHOW_ERROR_MESSAGE,this.currentTakeTestStepData)}initParams(){this.sAztFullScreenVisibleService.reset(),this.sAztTestDeviceIdService.getDeviceId(),document.getElementById("azota-app-html")?.classList.add("azotaHtml"),this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.curCateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.hashId=(this.commonService.getMyParam(this.activeRoute,"hash_id")??"").toString(),this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id")),this.getInitDataFromApi()}ngOnInit(){super.ngOnInit()}ngOnDestroy(){document.getElementById("azota-app-html")?.classList.remove("azotaHtml"),this.mixService.cancelSubscription(),this.sAztShowMonitorService.destroyMonitorAtStudentDashboard(),this.sAztTakeTestCallApiService.destroyAll(),this.sAztDialogService.closeAll(),super.ngOnDestroy()}constructor(){super(),this.activeRoute=(0,t.WQX)(k.nX),this.userService=(0,t.WQX)(ut.R),this.mixService=(0,t.WQX)(ti),this.localStorageObject=(0,t.WQX)(Ee.G),this.zipDataService=(0,t.WQX)(ge.j),this.timeService=(0,t.WQX)(xt.F),this.browserStorageService=(0,t.WQX)(Pt.z),this.frontExamResultService=(0,t.WQX)(z.Ry),this.frontExamService=(0,t.WQX)(z.iB),this.frontExamResultUploadService=(0,t.WQX)(z.sc),this.sAztDialogService=(0,t.WQX)(It.i),this.answerTypeService=(0,t.WQX)(wt._),this.homeworkExamService=(0,t.WQX)(ie.Z),this.questionRenderService=(0,t.WQX)(ye.g),this.testMarketFeedbackService=(0,t.WQX)(pe.l_),this.encryptionHelper=(0,t.WQX)(Oe.w),this.testLogExamResultAnswerService=(0,t.WQX)(ei.dO),this.sAztShowMonitorService=(0,t.WQX)(re.J),this.sAztFullScreenVisibleService=(0,t.WQX)(At),this.sAztFullScreenService=new U,this.sAztTestResizeService=new ai,this.sAztTestNextBackQuestionService=new oi(this.commonService),this.sAztTestQuestionService=new si(this.commonService,this.answerTypeService,this.browserStorageService,this.localStorageObject,this.sAztShowMonitorService),this.sAztTestDeviceIdService=new ze(this.browserStorageService),this.sAztTestAudioService=new qt(this.commonService,this.browserStorageService),this.sAztTestResultTrackService=new ii(this.commonService,this.encryptionHelper,this.timeService,this.browserStorageService),this.sAztTakeTestCallApiService=new ni(this.commonService,this.zipDataService,this.browserStorageService,this.testMarketFeedbackService,this.encryptionHelper,this.testLogExamResultAnswerService,this.sAztTestQuestionService,this.sAztTestResultTrackService,this.frontExamResultUploadService,this.frontExamService),this.followerRenderQuest=new kt.e,this.questsLoadState={startLoad:!1,loadPercent:0,hasErrs:!1,errData:new Array},this.isMobileScreenSize=(new Ae).checkByWidth(),this.allTakeTestLayouts=R,this.backToLink="",this.homeLink="/student/classroom/0",this.hashId="",this.tenantId=1,this.curCateId=0,this.isSubmittingAnswer=!1}}return(n=a).\u0275fac=function(s){return new(s||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-base-test-component"]],hostBindings:function(s,o){1&s&&t.bIt("resize",function(r){return o.onResize(r)},!1,t.tSv)},features:[t.Vt3],decls:0,vars:0,template:function(s,o){},encapsulation:2}),a})(),Ht=(()=>{var n;class a extends b.H{constructor(){super(...arguments),this.changeShowType=new t.bkB,this.openQuitDialog=new t.bkB,this.showUploadEssayFilesDialog=new t.bkB,this.openSubmitExam=new t.bkB,this.selectStudentEvent=new t.bkB,this.changeAnswerFiles=new t.bkB,this.setOneChoiceAnswerEmitter=new t.bkB,this.setTrueFalseAnswerEmitter=new t.bkB,this.setFillAnswerEmitter=new t.bkB,this.setEssayAnswerEmitter=new t.bkB,this.setResultTracking=new t.bkB,this.sendAudioForQuestion=new t.bkB,this.submitTestToApi=new t.bkB,this.allTakeTestSteps=h,this.allTakeTestLayouts=R,this.allowContextMenu=!A.c.production,this.answerTypeService=(0,t.WQX)(wt._)}}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-test-base-layout"]],inputs:{sAztTestResizeService:"sAztTestResizeService",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService",currentTakeTestStepData:"currentTakeTestStepData",followerRenderQuest:"followerRenderQuest",questsLoadState:"questsLoadState",isMobileScreenSize:"isMobileScreenSize",homeLink:"homeLink",backToLink:"backToLink"},outputs:{changeShowType:"changeShowType",openQuitDialog:"openQuitDialog",showUploadEssayFilesDialog:"showUploadEssayFilesDialog",openSubmitExam:"openSubmitExam",selectStudentEvent:"selectStudentEvent",changeAnswerFiles:"changeAnswerFiles",setOneChoiceAnswerEmitter:"setOneChoiceAnswerEmitter",setTrueFalseAnswerEmitter:"setTrueFalseAnswerEmitter",setFillAnswerEmitter:"setFillAnswerEmitter",setEssayAnswerEmitter:"setEssayAnswerEmitter",setResultTracking:"setResultTracking",sendAudioForQuestion:"sendAudioForQuestion",submitTestToApi:"submitTestToApi"},features:[t.Vt3],decls:0,vars:0,template:function(s,o){},encapsulation:2}),a})();var gt=c(26217),Ge=c(65106);class er{constructor(){this.isDestroy=!1}}var De=c(42789),Me=c(60780),Le=c(99965),nr=c(5955),jt=c(9570);function or(n,a){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_please_select_one_correct_answer")," "))}function sr(n,a){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_please_select_corrects_answer")," "))}const ar=function(n){return{"selected-answer border-selected-answer":n}},ir=function(n,a,e,s){return{"border-radius":n,width:a,height:e,"line-height:":s}},Qe=function(n){return{"border-selected-answer":n}};function rr(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",6)(1,"div",7),t.bIt("click",function(){const o=t.eBV(e),i=o.$implicit,r=o.index,l=t.XpG(2);return t.Njj(l.setOneChoiceAnswer(i,r,i.alpha,i.key))}),t.j41(2,"button",8),t.nI1(3,"isOneChoiceAnswer"),t.nI1(4,"isOneChoiceAnswer"),t.nI1(5,"isOneChoiceAnswer"),t.nI1(6,"isOneChoiceAnswer"),t.EFF(7),t.k0s(),t.j41(8,"div",9),t.nrm(9,"azt-dynamic-hook",10),t.k0s()()()}if(2&n){const e=a.$implicit,s=t.XpG(2);t.R7$(2),t.Y8G("ngClass",t.eq3(13,ar,e.checked))("ngStyle",t.ziG(15,ir,t.bMT(3,5,s.question)?"50%":"none",t.bMT(4,7,s.question)&&s.fontSize>1.6?s.fontSize+"em":"40px",t.bMT(5,9,s.question)&&s.fontSize>1.6?s.fontSize+"em":"40px",t.bMT(6,11,s.question)&&s.fontSize>1.6?s.fontSize+"em":"40px")),t.R7$(5),t.SpI(" ",e.alpha?e.alpha:e.key," "),t.R7$(1),t.Y8G("ngClass",t.eq3(20,Qe,e.checked)),t.R7$(1),t.Y8G("content",e.content)}}function lr(n,a){if(1&n&&(t.qex(0),t.j41(1,"div",1)(2,"span",2),t.DNE(3,or,3,3,"span",0),t.nI1(4,"isOneChoiceAnswer"),t.DNE(5,sr,3,3,"span",0),t.nI1(6,"isMultipleChoiceAnswer"),t.k0s()(),t.j41(7,"div",3)(8,"div",4),t.DNE(9,rr,10,22,"div",5),t.k0s()(),t.bVm()),2&n){const e=t.XpG();t.R7$(3),t.Y8G("ngIf",t.bMT(4,7,e.question)),t.R7$(2),t.Y8G("ngIf",t.bMT(6,9,e.question)),t.R7$(3),t.xc7("font-size",e.fontSize+"em")("line-height",e.fontSize<1.5?e.fontSize+.5:"1.7"),t.R7$(1),t.Y8G("ngForOf",e.question.answers)}}const Ne=function(n,a,e){return{"border-radius":"50%",width:n,height:a,"line-height:":e}},Be=function(n){return{"border-selected-answer selected-answer":n}};function cr(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",12)(1,"div",9)(2,"span",13),t.EFF(3),t.k0s(),t.nrm(4,"azt-dynamic-hook",10),t.k0s(),t.j41(5,"button",14),t.bIt("click",function(){const o=t.eBV(e),i=o.$implicit,r=o.index,l=t.XpG(2);return t.Njj(l.setTrueFalseAnswer(i,r,i.alpha,i.key,"T"))}),t.j41(6,"span",15),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.j41(9,"button",16),t.bIt("click",function(){const o=t.eBV(e),i=o.$implicit,r=o.index,l=t.XpG(2);return t.Njj(l.setTrueFalseAnswer(i,r,i.alpha,i.key,"F"))}),t.j41(10,"span",15),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()()}if(2&n){const e=a.$implicit,s=t.XpG(2);t.R7$(1),t.Y8G("ngClass",t.eq3(13,Qe,null!=e.checked)),t.R7$(2),t.JRh((e.alpha?e.alpha:e.key).toLowerCase()+") "),t.R7$(1),t.Y8G("content",e.content),t.R7$(1),t.Y8G("ngStyle",t.sMw(15,Ne,s.fontSize>1.6?s.fontSize+"em":"40px",s.fontSize>1.6?s.fontSize+"em":"40px",s.fontSize>1.6?s.fontSize+"em":"40px"))("ngClass",t.eq3(19,Be,null!=e.checked&&1==e.checked)),t.R7$(2),t.JRh(t.bMT(8,9,"lang_auto_dung")),t.R7$(2),t.Y8G("ngStyle",t.sMw(21,Ne,s.fontSize>1.6?s.fontSize+"em":"40px",s.fontSize>1.6?s.fontSize+"em":"40px",s.fontSize>1.6?s.fontSize+"em":"40px"))("ngClass",t.eq3(25,Be,null!=e.checked&&0==e.checked)),t.R7$(2),t.JRh(t.bMT(12,11,"lang_auto_sai"))}}function _r(n,a){if(1&n&&(t.qex(0),t.j41(1,"div",1)(2,"span",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",3)(6,"div",4),t.DNE(7,cr,13,27,"div",11),t.k0s()(),t.bVm()),2&n){const e=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,6,"lang_core_please_select_answer_true_or_false")," "),t.R7$(3),t.xc7("font-size",e.fontSize+"em")("line-height",e.fontSize<1.5?e.fontSize+.5:"1.7"),t.R7$(1),t.Y8G("ngForOf",e.question.answers)}}const ur=function(n){return{"list-answer-mobile":n}};function pr(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",17)(2,"div",1)(3,"span",2),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",18)(7,"div",19)(8,"textarea",20,21),t.bIt("input",function(){t.eBV(e);const o=t.sdS(9),i=t.XpG();return t.Njj(i.setFillAnswer(o.value))}),t.nI1(10,"mytranslate"),t.k0s()()()(),t.bVm()}if(2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngClass",t.eq3(10,ur,e.isMobileDevice)),t.R7$(3),t.JRh(t.bMT(5,6,"lang_auto_nhap_dap_an")),t.R7$(4),t.FS9("placeholder",t.bMT(10,8,"lang_auto_dap_an_cua_ban")),t.Y8G("value",e.question.essayText),t.BMQ("isImage",!1)("question_id",e.question.id)}}function mr(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",22)(2,"div",1)(3,"span",2),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",19)(7,"textarea",20,23),t.bIt("input",function(){t.eBV(e);const o=t.sdS(8),i=t.XpG();return t.Njj(i.setEssayAnswer(o.value))}),t.nI1(9,"mytranslate"),t.k0s()()(),t.bVm()}if(2&n){const e=t.XpG();t.R7$(4),t.JRh(t.bMT(5,5,"lang_auto_bai_lam")),t.R7$(3),t.FS9("placeholder",t.bMT(9,7,"lang_auto_bai_lam_cua_ban")),t.Y8G("value",e.question.essayText),t.BMQ("isImage",!1)("question_id",e.question.id)}}let $e=(()=>{var n;class a extends b.H{constructor(){super(...arguments),this.fontSize=1,this.setResultTracking=new t.bkB,this.setOneChoiceAnswerEmitter=new t.bkB,this.setTrueFalseAnswerEmitter=new t.bkB,this.setFillAnswerEmitter=new t.bkB,this.setEssayAnswerEmitter=new t.bkB,this.configRenderService=new Ge.y}setOneChoiceAnswer(s,o,i,r){if(!r&&!i)return;let l=[this.questionIndex.toString(),i??"",r??"",this.question.id.toString()];this.setResultTracking.emit(l),this.setOneChoiceAnswerEmitter.emit({questionId:this.question.id,answerConfig:s,answerIndex:o})}setTrueFalseAnswer(s,o,i,r,l){if(l===s.status)return;s.status=l,i&&(i+="-"+l),r&&(r+="-"+l);let p=[this.questionIndex.toString(),i??"",r??"",this.question.id.toString()];this.setResultTracking.emit(p),this.setTrueFalseAnswerEmitter.emit({questionId:this.question.id,answerConfig:s,answerIndex:o})}setFillAnswer(s){this.setFillAnswerEmitter.emit({questionId:this.question.id,value:s})}setEssayAnswer(s){this.setEssayAnswerEmitter.emit({questionId:this.question.id,value:s})}}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["azt-question-answer-view-for-student-at-step-page"]],inputs:{question:"question",questionIndex:"questionIndex",fontSize:"fontSize"},outputs:{setResultTracking:"setResultTracking",setOneChoiceAnswerEmitter:"setOneChoiceAnswerEmitter",setTrueFalseAnswerEmitter:"setTrueFalseAnswerEmitter",setFillAnswerEmitter:"setFillAnswerEmitter",setEssayAnswerEmitter:"setEssayAnswerEmitter"},features:[t.Vt3],decls:9,vars:14,consts:[[4,"ngIf"],[1,"strike"],[1,"font-medium","text-slate-600","dark:text-slate-500"],[1,"p-3"],[1,"list-answer"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[1,"item-answer","inline-flex","items-center","cursor-pointer","hover-border-primary",3,"click"],[1,"btn","border-slate-400","mr-3",3,"ngClass","ngStyle"],[1,"answer-content","p-2","border","border-slate-400","dark:border-darkmode-400","rounded-md",3,"ngClass"],[3,"content"],["class","item-answer flex items-center mt-2 cursor-pointer hover-border-primary",4,"ngFor","ngForOf"],[1,"item-answer","flex","items-center","mt-2","cursor-pointer","hover-border-primary"],[1,"font-medium"],[1,"btn","border-slate-400","nohover","rounded-full","ml-2","mr-2",3,"ngStyle","ngClass","click"],[1,"text-xs"],[1,"btn","border-slate-400","nohover","rounded-full","mr-2",3,"ngStyle","ngClass","click"],[1,"azt-answer",3,"ngClass"],[1,"flex","items-center","justify-between","w-full"],[1,"azt-answer-content","p-3","w-full"],["autoResize","",1,"w-full","form-control",3,"placeholder","value","input"],["curEssayFillInput",""],[1,"azt-answer"],["curEssayAnswerInput",""]],template:function(s,o){1&s&&(t.DNE(0,lr,10,11,"ng-container",0),t.nI1(1,"isOneChoiceAnswer"),t.nI1(2,"isMultipleChoiceAnswer"),t.DNE(3,_r,8,8,"ng-container",0),t.nI1(4,"isTrueFalseAnswer"),t.DNE(5,pr,11,12,"ng-container",0),t.nI1(6,"isFillAnswer"),t.DNE(7,mr,10,9,"ng-container",0),t.nI1(8,"isEssayAnswer")),2&s&&(t.Y8G("ngIf",t.bMT(1,4,o.question)||t.bMT(2,6,o.question)),t.R7$(3),t.Y8G("ngIf",t.bMT(4,8,o.question)),t.R7$(2),t.Y8G("ngIf",t.bMT(6,10,o.question)),t.R7$(2),t.Y8G("ngIf",t.bMT(8,12,o.question)))},dependencies:[_.YU,_.Sq,_.bT,_.B3,Le.j,jt.x,u.wp,u.V6,u.nn,u.Zm,u.N3,u.FC],encapsulation:2}),a})();const dr=function(n){return{"skeleton-box-loading":n}};function gr(n,a){if(1&n&&t.nrm(0,"div",6),2&n){const e=t.XpG();t.Y8G("ngClass",t.eq3(1,dr,e.isFirstRender))}}function fr(n,a){if(1&n){const e=t.RV6();t.j41(0,"azt-test-audio-ui",15),t.bIt("sendAudioEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.sendAudioEmit.emit(o))}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("questionObj",e.question)("isShowList",!0)("totalLimit",((null==e.examObj?null:e.examObj.limitAudio)||-1)>0?(null==e.examObj?null:e.examObj.limitAudio)||-1:0)}}function Tr(n,a){if(1&n&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"isOfflineExam"),t.nI1(3,"mytranslate"),t.k0s()),2&n){const e=t.XpG(2);let s;t.R7$(1),t.Lme(" ",e.customQuestionLabel+" "+((null!=e.question.labelIndex?e.question.labelIndex:e.index)+(null!==(s=e.startQuestionIndex)&&void 0!==s?s:1))," ",t.bMT(2,2,e.examObj)?" ("+t.bMT(3,4,"lang_auto_hoi_de_thi_offline")+") ":null," ")}}const hr=function(n){return{"pr-7":n}};function br(n,a){if(1&n&&(t.j41(0,"div",21)(1,"b",22),t.EFF(2),t.nI1(3,"isTrueFalseAnswer"),t.k0s(),t.j41(4,"div",23),t.nrm(5,"azt-dynamic-hook",17),t.k0s()()),2&n){const e=a.$implicit,s=t.XpG(4);let o;t.R7$(1),t.Y8G("ngClass",t.eq3(5,hr,s.fontSize>1.5)),t.R7$(1),t.JRh(t.bMT(3,3,s.question)?(null!==(o=e.alpha)&&void 0!==o?o:e.key).toLowerCase()+")":(null!==(o=e.alpha)&&void 0!==o?o:e.key)+"."),t.R7$(3),t.Y8G("content",e.content)}}const Sr=function(n){return{"remove-grid":n}};function xr(n,a){if(1&n&&(t.j41(0,"div",19),t.DNE(1,br,6,7,"div",20),t.k0s()),2&n){const e=t.XpG(3);t.Y8G("ngClass",t.eq3(3,Sr,e.fontSize>1.5))("answerSizeManager",e.answerSizeManager),t.R7$(1),t.Y8G("ngForOf",e.question.answers)}}function kr(n,a){if(1&n&&(t.qex(0),t.j41(1,"div",7),t.nrm(2,"azt-dynamic-hook",17),t.k0s(),t.DNE(3,xr,2,5,"div",18),t.nI1(4,"isTrueFalseAnswer"),t.nI1(5,"isOneChoiceAnswer"),t.bVm()),2&n){const e=t.XpG(2);let s;t.R7$(2),t.Y8G("content",null!==(s=e.question.content)&&void 0!==s?s:""),t.R7$(1),t.Y8G("ngIf",(t.bMT(4,2,e.question)||t.bMT(5,4,e.question))&&e.question.answers&&e.question.answers.length>0&&e.overTime)}}const vr=function(n){return{"pb-2":n}};function Cr(n,a){if(1&n&&(t.j41(0,"div",7)(1,"div",8),t.eu8(2,9),t.j41(3,"div",10),t.DNE(4,fr,1,3,"azt-test-audio-ui",11),t.j41(5,"div",12),t.DNE(6,Tr,4,6,"div",13),t.k0s(),t.DNE(7,kr,6,6,"ng-container",14),t.nI1(8,"isOfflineExam"),t.k0s()(),t.eu8(9,9),t.k0s()),2&n){const e=t.XpG(),s=t.sdS(5),o=t.sdS(7),i=t.sdS(9);t.R7$(1),t.xc7("font-size",e.fontSize+"em")("line-height",e.fontSize<1.5?e.fontSize+.5:"1.7"),t.Y8G("id","question_render_container_"+e.question.id)("ngClass",t.eq3(13,vr,e.question.attachments.length>0)),t.R7$(1),t.Y8G("ngTemplateOutlet",s),t.R7$(2),t.Y8G("ngIf",e.question.attachments.length>0),t.R7$(2),t.Y8G("ngIf",!e.hideQuestionLabel),t.R7$(1),t.Y8G("ngIf",!t.bMT(8,11,e.examObj)),t.R7$(2),t.Y8G("ngTemplateOutlet",e.overTime?i:o)}}const wr=function(n){return{"mt-4":n}};function Ir(n,a){if(1&n&&(t.j41(0,"div",25),t.nrm(1,"azt-dynamic-hook",17),t.k0s()),2&n){const e=t.XpG(3);let s;t.Y8G("ngClass",t.eq3(2,wr,e.isMobile)),t.R7$(1),t.Y8G("content",null!==(s=null==e.question.groupInfo?null:e.question.groupInfo.groupContent)&&void 0!==s?s:"")}}function Or(n,a){if(1&n&&(t.qex(0),t.DNE(1,Ir,2,4,"div",24),t.bVm()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngIf",null==e.question.groupInfo?null:e.question.groupInfo.isFirstInGroup)}}function Er(n,a){if(1&n&&t.DNE(0,Or,2,1,"ng-container",14),2&n){const e=t.XpG();t.Y8G("ngIf",!(null!=e.examObj&&e.examObj.hideGroupQuestion)||(null==e.question?null:e.question.isRoleTeacher))}}function yr(n,a){if(1&n&&t.eu8(0,9),2&n){t.XpG();const e=t.sdS(3);t.Y8G("ngTemplateOutlet",e)}}function Ar(n,a){if(1&n&&(t.j41(0,"div",29),t.eu8(1,9),t.k0s()),2&n){t.XpG();const e=t.sdS(3);t.R7$(1),t.Y8G("ngTemplateOutlet",e)}}function zr(n,a){if(1&n){const e=t.RV6();t.j41(0,"azt-question-answer-view-for-student-at-step-page",30),t.bIt("setResultTracking",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setResultTracking.emit(o))})("setOneChoiceAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setOneChoiceAnswerEmitter.emit(o))})("setTrueFalseAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setTrueFalseAnswerEmitter.emit(o))})("setFillAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setFillAnswerEmitter.emit(o))})("setEssayAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setEssayAnswerEmitter.emit(o))}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("question",e.question)("questionIndex",e.index)("fontSize",e.fontSize)}}function jr(n,a){if(1&n&&(t.DNE(0,yr,1,1,"ng-container",26),t.DNE(1,Ar,2,1,"div",27),t.DNE(2,zr,1,3,"ng-template",null,28,t.C5r)),2&n){const e=t.XpG();t.Y8G("ngIf",e.takeTestLayout==e.allTakeTestLayouts.LIST_QUESTION),t.R7$(1),t.Y8G("ngIf",e.takeTestLayout!=e.allTakeTestLayouts.LIST_QUESTION)}}function Rr(n,a){if(1&n&&(t.j41(0,"span",36),t.EFF(1),t.k0s()),2&n){const e=t.XpG(3);t.R7$(1),t.SpI(" ",e.question.choseAnswer," ")}}function Fr(n,a){1&n&&(t.j41(0,"span")(1,"b",37),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_chua_tra_loi")))}function Gr(n,a){if(1&n&&(t.j41(0,"div",33)(1,"p",34),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Rr,2,1,"span",35),t.DNE(5,Fr,4,3,"span",14),t.k0s()),2&n){const e=t.XpG(2);t.R7$(2),t.SpI("",t.bMT(3,3,"lang_auto_dap_an_cua_ban"),":"),t.R7$(2),t.Y8G("ngIf",e.question.choseAnswer&&e.question.choseAnswer.length&&""!=e.question.choseAnswer[0]),t.R7$(1),t.Y8G("ngIf",!e.question.choseAnswer||!e.question.choseAnswer.length||""==e.question.choseAnswer[0])}}function Dr(n,a){if(1&n&&(t.j41(0,"span",39)(1,"b",40),t.EFF(2),t.k0s(),t.j41(3,"b",41),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&n){const e=a.$implicit;t.R7$(2),t.JRh((e.alpha?e.alpha:e.key).toLowerCase()+") - "),t.R7$(2),t.JRh(t.bMT(5,2,e.checked?"lang_auto_dung":"lang_auto_sai"))}}function Mr(n,a){if(1&n&&(t.qex(0),t.DNE(1,Dr,6,4,"span",38),t.bVm()),2&n){const e=t.XpG(3);t.R7$(1),t.Y8G("ngForOf",e.question.answers)}}function Lr(n,a){1&n&&(t.j41(0,"span")(1,"b",37),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_chua_tra_loi")))}function Qr(n,a){if(1&n&&(t.j41(0,"div",33)(1,"p",34),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Mr,2,1,"ng-container",14),t.DNE(5,Lr,4,3,"span",14),t.k0s()),2&n){const e=t.XpG(2);t.R7$(2),t.SpI("",t.bMT(3,3,"lang_auto_dap_an_cua_ban"),":"),t.R7$(2),t.Y8G("ngIf",e.hasAnswerChecking()),t.R7$(1),t.Y8G("ngIf",!e.hasAnswerChecking())}}function Nr(n,a){if(1&n&&t.nrm(0,"textarea",45),2&n){const e=t.XpG(3);t.Y8G("value",e.question.choseAnswer),t.BMQ("question_id",e.question.id)}}function Br(n,a){if(1&n&&(t.nrm(0,"textarea",45),t.nI1(1,"mytranslate")),2&n){const e=t.XpG(3);t.Y8G("value",t.bMT(1,2,"lang_auto_thi_sinh_chua_nhap_thong_tin")),t.BMQ("question_id",e.question.id)}}const $r=function(n){return{"w-100":n}};function Yr(n,a){if(1&n&&(t.j41(0,"div",33)(1,"p",34),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",42)(5,"div",43),t.DNE(6,Nr,1,2,"textarea",44),t.DNE(7,Br,2,4,"textarea",44),t.k0s()()()),2&n){const e=t.XpG(2);t.R7$(2),t.SpI("",t.bMT(3,4,"lang_auto_dap_an_cua_ban"),":"),t.R7$(2),t.Y8G("ngClass",t.eq3(6,$r,e.isMobile)),t.R7$(2),t.Y8G("ngIf",e.question.choseAnswer&&e.question.choseAnswer.length&&""!=e.question.choseAnswer[0]),t.R7$(1),t.Y8G("ngIf",!e.question.choseAnswer||!e.question.choseAnswer.length||""==e.question.choseAnswer[0])}}function Pr(n,a){if(1&n&&(t.j41(0,"div",31),t.DNE(1,Gr,6,5,"div",32),t.nI1(2,"isOneChoiceAnswer"),t.DNE(3,Qr,6,5,"div",32),t.nI1(4,"isTrueFalseAnswer"),t.DNE(5,Yr,8,8,"div",32),t.nI1(6,"isEssayAnswer"),t.nI1(7,"isFillAnswer"),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",t.bMT(2,3,e.question)),t.R7$(2),t.Y8G("ngIf",t.bMT(4,5,e.question)),t.R7$(2),t.Y8G("ngIf",t.bMT(6,7,e.question)||t.bMT(7,9,e.question))}}let Rt=(()=>{var n;class a extends b.H{startRenderQuestion(){!this.question||this.disableRender||this.flagObjectComponent.isDestroy?this.disableRender&&!this.flagObjectComponent.isDestroy&&this.doneRender.emit():this.questionRenderService.parseRenderQuestion(this.question,this.configRenderService).then(()=>{this.flagObjectComponent.isDestroy||this.doneRender.emit()}).catch(s=>{this.flagObjectComponent.isDestroy||this.showErrorSnack(s.message)})}get customQuestionLabel(){return(this.commonService.castJsonToObj(this.expandInfo??"{}")??{}).label??"C\xe2u"}hasAnswerChecking(){return null!=this.question.answers.filter(s=>1==s.checked)}ngOnChanges(){this.fontSize&&(this.mathJaxImage&&this.configRenderService.setMaxJaxRenderMode("svg"),this.startRenderQuestion())}ngDoCheck(){if(this.isRenderElement)return;const s=document.getElementById("question_render_element_"+this.question.id);s&&(this.disableLazy||s.getAttribute("start_loading")&&"true"==s.getAttribute("start_loading"))&&(this.isRenderElement||(this.isFirstRender&&(this.startRenderQuestion(),this.follower.doneItemPartQuest()),this.isFirstRender=!1,this.isRenderElement=!0))}ngOnInit(){super.ngOnInit(),this.backToLink=`/test/answer-test/${this.configExam?.tenantId??0}/${this.configExam?.categoryId??0}/${this.configExam?.hashId}/${this.curResultId}`,this.mathJaxImage&&this.configRenderService.setMaxJaxRenderMode("svg"),this.flagObjectComponent.isDestroy=!1}ngOnDestroy(){this.flagObjectComponent.isDestroy=!0,super.ngOnDestroy()}constructor(s){super(),this.questionRenderService=s,this.follower=new kt.e,this.mathJaxImage=!1,this.disableLazy=!1,this.disableRender=!1,this.index=0,this.last=!1,this.hideQuestionLabel=!1,this.answerSizeManager=0,this.fontSize=1,this.orgExamObjs=[],this.isMobile=!1,this.overTime=!1,this.setOneChoiceAnswerEmitter=new t.bkB,this.setTrueFalseAnswerEmitter=new t.bkB,this.setFillAnswerEmitter=new t.bkB,this.setEssayAnswerEmitter=new t.bkB,this.sendAudioEmit=new t.bkB,this.setResultTracking=new t.bkB,this.nextQuestionEmitter=new t.bkB,this.prevQuestionEmitter=new t.bkB,this.doneRender=new t.bkB,this.allTakeTestLayouts=R,this.isFirstRender=!0,this.isRenderElement=!1,this.flagObjectComponent=new er,this.backToLink="",this.configRenderService=new Ge.y}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(ye.g))},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-question-standalone-for-student-at-full-test"]],inputs:{follower:"follower",mathJaxImage:"mathJaxImage",disableLazy:"disableLazy",disableRender:"disableRender",curResultId:"curResultId",index:"index",last:"last",questionListLength:"questionListLength",configExam:"configExam",expandInfo:"expandInfo",question:"question",hideQuestionLabel:"hideQuestionLabel",answerSizeManager:"answerSizeManager",fontSize:"fontSize",orgExamObjs:"orgExamObjs",startQuestionIndex:"startQuestionIndex",isMobile:"isMobile",takeTestLayout:"takeTestLayout",overTime:"overTime",examObj:"examObj"},outputs:{setOneChoiceAnswerEmitter:"setOneChoiceAnswerEmitter",setTrueFalseAnswerEmitter:"setTrueFalseAnswerEmitter",setFillAnswerEmitter:"setFillAnswerEmitter",setEssayAnswerEmitter:"setEssayAnswerEmitter",sendAudioEmit:"sendAudioEmit",setResultTracking:"setResultTracking",nextQuestionEmitter:"nextQuestionEmitter",prevQuestionEmitter:"prevQuestionEmitter",doneRender:"doneRender"},features:[t.Vt3,t.OA$],decls:10,vars:3,consts:[["load_effect_lazy","",1,"question-standalone-box",3,"id"],["class","question-standalone-loader-box",3,"ngClass",4,"ngIf","ngIfElse"],["elementRended",""],["showQuestionGroupContent",""],["normalShowTpl",""],["overTimeTpl",""],[1,"question-standalone-loader-box",3,"ngClass"],[1,"question-standalone-content-box"],[1,"question-standalone-container","mb-0","no-border-question","border-slate-200/60","dark:border-darkmode-400",3,"id","ngClass"],[3,"ngTemplateOutlet"],[1,"question-standalone-main-content"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter",4,"ngIf"],[1,"flex","items-center","justify-between"],["class","question-standalone-label",4,"ngIf"],[4,"ngIf"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter"],[1,"question-standalone-label"],[3,"content"],["class","row answers",3,"ngClass","answerSizeManager",4,"ngIf"],[1,"row","answers",3,"ngClass","answerSizeManager"],["class","answer col-sm-12 col-md-6",4,"ngFor","ngForOf"],[1,"answer","col-sm-12","col-md-6"],[1,"answer-label",3,"ngClass"],[1,"answer-content"],["class","group-content-of-question-standalone",3,"ngClass",4,"ngIf"],[1,"group-content-of-question-standalone",3,"ngClass"],[3,"ngTemplateOutlet",4,"ngIf"],["class","ml-auto mr-auto w-full",4,"ngIf"],["viewQuestionAnswerBox",""],[1,"ml-auto","mr-auto","w-full"],[3,"question","questionIndex","fontSize","setResultTracking","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter"],[1,"answer-box","ml-auto","mr-auto"],["class","answer-content-front",4,"ngIf"],[1,"answer-content-front"],[1,"h5","mb-0","mr-2",2,"align-self","center"],["class","answer-review","style","background-color: rgba(243, 156, 18, 1); color: rgb(255, 255, 255)",4,"ngIf"],[1,"answer-review",2,"background-color","rgba(243, 156, 18, 1)","color","rgb(255, 255, 255)"],[2,"color","#cd1324","font-weight","450"],["class","mr-2",4,"ngFor","ngForOf"],[1,"mr-2"],[2,"font-weight","450"],[1,"text-warning",2,"font-weight","450"],[1,"row",2,"width","80%",3,"ngClass"],[1,"col-sm-12","mb-1"],["autoResize","","class","form-control mt-1","readonly","",3,"value",4,"ngIf"],["autoResize","","readonly","",1,"form-control","mt-1",3,"value"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0),t.DNE(1,gr,1,3,"div",1),t.DNE(2,Cr,10,15,"ng-template",null,2,t.C5r),t.k0s(),t.DNE(4,Er,1,1,"ng-template",null,3,t.C5r),t.DNE(6,jr,4,2,"ng-template",null,4,t.C5r),t.DNE(8,Pr,8,11,"ng-template",null,5,t.C5r)),2&s){const i=t.sdS(3);t.Y8G("id","question_render_element_"+o.question.id),t.R7$(1),t.Y8G("ngIf",!o.isRenderElement)("ngIfElse",i)}},dependencies:[_.YU,_.Sq,_.bT,_.T3,De.N,Me.c,Le.j,nr.C,$e,jt.x,u.wp,u.st,u.V6,u.Zm,u.N3,u.FC],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262ae!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:#a9a9a9;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),a})();var Ft=c(47952);function Xr(n,a){if(1&n&&(t.j41(0,"p",9),t.EFF(1),t.k0s()),2&n){const e=a.$implicit;t.R7$(1),t.JRh(e)}}function Vr(n,a){if(1&n&&(t.j41(0,"div")(1,"p")(2,"strong"),t.EFF(3),t.k0s()(),t.DNE(4,Xr,2,1,"p",8),t.k0s()),2&n){const e=a.$implicit,s=a.index;t.R7$(3),t.Lme("",s+1,". ",e.message,":"),t.R7$(1),t.Y8G("ngForOf",e.data)}}let Gt=(()=>{var n;class a extends b.H{goBackToExamDetails(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.currentTakeTestStepData.examObj.hashId,"?backto="+encodeURIComponent(this.backToLink))}reloadCurrentPage(){location.reload()}ngOnInit(){super.ngOnInit()}constructor(){super()}}return(n=a).\u0275fac=function(s){return new(s||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-test-bank-frontend-load-question-error-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",questsLoadState:"questsLoadState",backToLink:"backToLink"},features:[t.Vt3],decls:32,vars:28,consts:[[2,"display","flex","justify-content","center"],[2,"margin","50px","border","1px solid #9e9e9e","padding","20px 50px","border-radius","10px","background","#fafafa","overflow-wrap","break-word","line-height","25px"],[2,"color","#f44336","font-size","18px","font-weight","500","text-transform","uppercase","margin-bottom","20px","text-align","center"],[2,"text-transform","lowercase"],[4,"ngFor","ngForOf"],[1,"mt-5","text-center"],["azt-track-service","take-test-4_EDv4k0GO7",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["azt-track-service","take-test-Z7YL5G4GC5F",1,"btn","btn-sm","btn-primary",3,"click"],["style","color: #795548; font-size: small",4,"ngFor","ngForOf"],[2,"color","#795548","font-size","small"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"h3",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"p"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"p"),t.EFF(9),t.nI1(10,"mytranslate"),t.j41(11,"strong"),t.EFF(12),t.k0s()(),t.j41(13,"p"),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.j41(16,"p"),t.EFF(17),t.nI1(18,"mytranslate"),t.j41(19,"strong"),t.EFF(20),t.j41(21,"span",3),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()(),t.DNE(24,Vr,5,3,"div",4),t.j41(25,"p",5)(26,"button",6),t.bIt("click",function(){return o.goBackToExamDetails()}),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"button",7),t.bIt("click",function(){return o.reloadCurrentPage()}),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()()()),2&s&&(t.R7$(3),t.JRh(t.bMT(4,12,"lang_auto_xay_ra_loi_trong_qua_trinh_tai_de_thi")),t.R7$(3),t.JRh(t.bMT(7,14,"lang_auto_ban_co_the_click_nao_nut_thu_lai_de_thu_tai_lai_de_thi")),t.R7$(3),t.SpI(" ",t.bMT(10,16,"lang_auto_ma_de_thi")+": "," "),t.R7$(3),t.Lme("",o.currentTakeTestStepData.examObj.hashId," - ",o.currentTakeTestStepData.termExamResultId,""),t.R7$(2),t.SpI("",t.bMT(15,18,"lang_auto_phan_tram_de_thi_da_tai_duoc")+": "+o.questsLoadState.loadPercent,"%"),t.R7$(3),t.SpI(" ",t.bMT(18,20,"lang_auto_so_luong_phat_hien")+": "," "),t.R7$(3),t.SpI(" ",o.questsLoadState.errData.length," "),t.R7$(2),t.JRh(t.bMT(23,22,"lang_auto_loi")),t.R7$(2),t.Y8G("ngForOf",o.questsLoadState.errData),t.R7$(3),t.SpI(" ",t.bMT(28,24,"lang_core_print_exam_back")," "),t.R7$(3),t.SpI(" ",t.bMT(31,26,"lang_auto_thu_lai")," "))},dependencies:[_.Sq,u.wp],encapsulation:2}),a})();const Wt=function(){return{"mr-1":!0}};function Ur(n,a){if(1&n&&(t.j41(0,"p",5),t.nrm(1,"lucide-icon",19),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngClass",t.lJ4(10,Wt)),t.R7$(1),t.E5c(" ",t.bMT(3,4,"lang_auto_thoi_gian_duoc_phep_vao_thi"),": ",t.bMT(4,6,e.currentTakeTestStepData.examObj.startTime)," - ",t.bMT(5,8,e.currentTakeTestStepData.examObj.endTime)," ")}}function qr(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"app-testbank-frontend-count-down-box",21),t.bIt("endCountDownEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(o&&i.submitTestToApi(!0))}),t.k0s(),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()}if(2&n){const e=t.XpG();t.R7$(1),t.SpI(" ",t.bMT(2,4,"lang_auto_hay_kiem_tra_lai_bai_lam_cua_ban_he_thong_se_tu_dong_nop_bai_sau"),": "),t.R7$(2),t.Y8G("totalSecond",e.currentTakeTestStepData.autoSubmitAfterSeconds)("useCountDown",!0),t.R7$(1),t.SpI(" ",t.bMT(5,6,"lang_auto_hoac_ban_co_the_nop_bai_ngay_bang_cach_an_nut_ben_duoi")," ")}}function Hr(n,a){1&n&&(t.qex(0),t.nrm(1,"lucide-icon",22),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.bVm()),2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(10,Wt)),t.R7$(1),t.E5c(" ",t.bMT(3,4,"lang_auto_ban_da_het_gio_lam_bai_thi_hay_an_nut"),' "',t.bMT(4,6,"lang_auto_nop_bai"),'" ',t.bMT(5,8,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_neu_nop_muon_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function Wr(n,a){1&n&&(t.nrm(0,"lucide-icon",22),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate")),2&n&&(t.Y8G("ngClass",t.lJ4(10,Wt)),t.R7$(1),t.E5c(" ",t.bMT(2,4,"lang_auto_ban_da_qua_gio_nop_bai_thi_hay_an_nut"),' "',t.bMT(3,6,"lang_auto_nop_muon"),'" ',t.bMT(4,8,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function Jr(n,a){if(1&n&&(t.j41(0,"div",26)(1,"div",27),t.nrm(2,"azt-question-standalone-for-student-at-full-test",28),t.k0s()()),2&n){const e=a.$implicit,s=a.index,o=t.XpG(2);t.R7$(2),t.Y8G("startQuestionIndex",o.currentTakeTestStepData.examObj.startQuestionIndex)("expandInfo",o.currentTakeTestStepData.examObj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",o.followerRenderQuest)("takeTestLayout",o.allTakeTestLayouts.STEP_QUESTION)("isMobile",o.isMobile)("examObj",o.currentTakeTestStepData.examObj)("question",e)("fontSize",o.sAztTestResizeService.fontSize)("index",s)("overTime",!0)("questionListLength",o.currentTakeTestStepData.viewQuestionObjs.length)}}function Kr(n,a){if(1&n&&(t.j41(0,"mat-tab",23),t.nI1(1,"mytranslate"),t.j41(2,"div",29),t.SdG(3),t.k0s()()),2&n){const e=t.XpG(2);t.FS9("label",t.bMT(1,1,"lang_auto_tu_luan")+" ("+e.files.length+")")}}function Zr(n,a){if(1&n&&(t.j41(0,"mat-tab-group")(1,"mat-tab",23),t.nI1(2,"mytranslate"),t.DNE(3,Jr,3,13,"div",24),t.k0s(),t.DNE(4,Kr,4,3,"mat-tab",25),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.FS9("label",t.bMT(2,3,"lang_auto_trac_nghiem")),t.R7$(2),t.Y8G("ngForOf",e.currentTakeTestStepData.viewQuestionObjs),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.hasEssayQuestion)}}const tl=function(){return{"mr-2 text-danger":!0}},Jt=function(){return{"mr-2":!0}};function el(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",30)(1,"div",31)(2,"button",32),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.goBackToExamDetails())}),t.nrm(3,"lucide-icon",33),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",34)(7,"button",35),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.submitTestToApi(!0))}),t.nrm(8,"lucide-icon",36),t.EFF(9),t.nI1(10,"mytranslate"),t.nI1(11,"mytranslate"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(3),t.Y8G("ngClass",t.lJ4(10,tl)),t.R7$(1),t.SpI(" ",t.bMT(5,4,"lang_auto_thoat")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(11,Jt)),t.R7$(1),t.SpI(" ",e.currentTakeTestStepData.countDownSecond<-300?t.bMT(10,6,"lang_auto_nop_muon"):t.bMT(11,8,"lang_powerpoint_frontend_detail_submit")," ")}}const nl=["*"];let Dt=(()=>{var n;class a extends b.H{submitTestToApi(s){this.submitTestEvent.emit(s)}goBackToExamDetails(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.currentTakeTestStepData.examObj.hashId,"?backto="+encodeURIComponent(this.backToLink))}ngOnInit(){super.ngOnInit()}constructor(){super(),this.submitTestEvent=new t.bkB,this.allTakeTestLayouts=R}}return(n=a).\u0275fac=function(s){return new(s||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-test-bank-frontend-over-time-of-exam"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",questsLoadState:"questsLoadState",backToLink:"backToLink",isMobile:"isMobile",files:"files",followerRenderQuest:"followerRenderQuest",sAztTestResizeService:"sAztTestResizeService",userObj:"userObj"},outputs:{submitTestEvent:"submitTestEvent"},features:[t.Vt3],ngContentSelectors:nl,decls:36,vars:37,consts:[[1,"p-3",2,"padding-bottom","50px"],[1,"box","p-5","m-3"],[1,"text-center"],[1,"text-lg","font-medium"],[1,"font-medium"],[1,"flex","justify-center","items-center","mt-2"],[1,"flex","items-center","mr-3"],["name","timer","size","20",3,"ngClass"],[1,"flex","items-center"],["name","circle-help","size","20",3,"ngClass"],["class","flex justify-center items-center mt-2",4,"ngIf"],[1,"font-medium","mt-2"],["class","p-3 m-2 text-center text-pending",4,"ngIf"],[1,"mt-3","text-danger","font-medium","text-center"],[4,"ngIf","ngIfElse"],["notActualEndTime",""],[3,"ngTemplateOutlet"],["questionAndAnswerTpl",""],["submitButtonBox",""],["name","clock","size","24",3,"ngClass"],[1,"p-3","m-2","text-center","text-pending"],[3,"totalSecond","useCountDown","endCountDownEvent"],["name","timer-off","size","24",3,"ngClass"],[3,"label"],["class","mb-3 mt-2",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[1,"mb-3","mt-2"],[1,"azt-question","box","text-left","relative"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","takeTestLayout","isMobile","examObj","question","fontSize","index","overTime","questionListLength"],[1,"box","mt-2"],[1,"mt-2","flex","justify-center"],[1,"-intro-x","mr-4"],["azt-track-service","take-test-zYDkrlktkR",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","power","size","16",3,"ngClass"],[1,"intro-x"],["azt-track-service","take-test-HI_SB5_l-P",1,"btn","btn-sm","btn-primary",3,"click"],["name","file-pen-line","size","16",3,"ngClass"]],template:function(s,o){if(1&s&&(t.NAR(),t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.k0s(),t.j41(5,"p",4),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"div",5)(9,"div",6),t.nrm(10,"lucide-icon",7),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"div",8),t.nrm(15,"lucide-icon",9),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.DNE(18,Ur,6,11,"p",10),t.j41(19,"p",11),t.EFF(20),t.nI1(21,"mytranslate"),t.nI1(22,"mytranslate"),t.nI1(23,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s()(),t.DNE(24,qr,6,8,"div",12),t.k0s(),t.j41(25,"div",13),t.DNE(26,Hr,6,11,"ng-container",14),t.DNE(27,Wr,5,11,"ng-template",null,15,t.C5r),t.k0s(),t.eu8(29,16)(30,16)(31,16),t.k0s(),t.DNE(32,Zr,5,5,"ng-template",null,17,t.C5r),t.DNE(34,el,12,12,"ng-template",null,18,t.C5r)),2&s){const i=t.sdS(28),r=t.sdS(33),l=t.sdS(35);t.R7$(4),t.JRh(o.currentTakeTestStepData.examObj.name),t.R7$(2),t.Lme("",t.bMT(7,21,"lang_auto_ma_de"),": ",o.currentTakeTestStepData.examObj.hashId,""),t.R7$(4),t.Y8G("ngClass",t.lJ4(35,Jt)),t.R7$(1),t.E5c(" ",t.bMT(12,23,"lang_auto_thoi_gian"),": ",o.currentTakeTestStepData.examObj.minutes," ",t.bMT(13,25,"lang_auto_phut")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(36,Jt)),t.R7$(1),t.Lme(" ",t.bMT(17,27,"lang_auto_so_cau"),": ",o.currentTakeTestStepData.countQuestion," "),t.R7$(2),t.Y8G("ngIf",o.currentTakeTestStepData.examObj.startTime&&o.currentTakeTestStepData.examObj.endTime),t.R7$(2),t.LHq(" ",t.bMT(21,29,"lang_auto_thi_sinh"),": ",null==o.userObj?null:o.userObj.fullName," ",t.bMT(22,31,"lang_auto_-_vao_thi_luc"),": ",t.bMT(23,33,null==o.currentTakeTestStepData.testingResultObj?null:o.currentTakeTestStepData.testingResultObj.startedTest)," "),t.R7$(4),t.Y8G("ngIf",o.currentTakeTestStepData.autoSubmitAfterSeconds),t.R7$(2),t.Y8G("ngIf",o.currentTakeTestStepData.isActualEndTime)("ngIfElse",i),t.R7$(3),t.Y8G("ngTemplateOutlet",l),t.R7$(1),t.Y8G("ngTemplateOutlet",r),t.R7$(1),t.Y8G("ngTemplateOutlet",l)}},dependencies:[_.YU,_.Sq,_.bT,_.T3,vt.mq,vt.T8,Rt,d.WGl,q,u.wp,u.bH],encapsulation:2}),a})(),Mt=(()=>{var n;class a extends b.H{onResize(){var s=()=>!(this.currentTakeTestStepData.currentStep!=h.START_TEST||!this.currentTakeTestStepData.showFullScreenRequired||this.sAztFullScreenService.checkFullScreen()||this.sAztFullScreenVisibleService.isSendingToApi()||!this.sAztFullScreenVisibleService.isAllowTrackFullScreen());s()&&setTimeout(()=>{s()&&(this.sAztFullScreenVisibleService.setSendingToApiStatus(!0),this.waitDestroy(this.frontExamTrackService.apiFrontExamTrackSaveObjPost({examId:this.currentTakeTestStepData.examObj.id,name:"exit_full_screen",examResultId:this.currentTakeTestStepData.termExamResultId??0}).subscribe(i=>{i.success&&this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_che_do_toan_man_hinh"),setTimeout(()=>{this.sAztFullScreenVisibleService.setSendingToApiStatus(!1)},1e3)})))},5e3)}ngOnInit(){this.onResize(),super.ngOnInit()}constructor(s,o){super(),this.frontExamTrackService=s,this.sAztFullScreenVisibleService=o,this.sAztFullScreenService=new U}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(z.XJ),t.rXU(At))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-tracking-full-screen-event"]],hostBindings:function(s,o){1&s&&t.bIt("resize",function(r){return o.onResize(r)},!1,t.tSv)},inputs:{currentTakeTestStepData:"currentTakeTestStepData"},features:[t.Vt3],decls:0,vars:0,template:function(s,o){},encapsulation:2}),a})(),Lt=(()=>{var n;class a extends b.H{visibilitychange(){var s=()=>!(this.currentTakeTestStepData.currentStep!=h.START_TEST||!this.currentTakeTestStepData.showFullScreenRequired||this.sAztFullScreenVisibleService.isSendingToApi()||!this.sAztFullScreenVisibleService.isAllowTrackVisible()||"visible"==document.visibilityState);s()&&setTimeout(()=>{s()&&(this.sAztFullScreenVisibleService.setSendingToApiStatus(!0),this.waitDestroy(this.frontExamTrackService.apiFrontExamTrackSaveObjPost({examId:this.currentTakeTestStepData.examObj.id,name:"blur_window",examResultId:this.currentTakeTestStepData.termExamResultId??0}).subscribe(i=>{i.success&&this.commonService.snackWarning("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_bai_thi"),setTimeout(()=>{this.sAztFullScreenVisibleService.setSendingToApiStatus(!1)},1e3)})))},5e3)}ngOnInit(){super.ngOnInit()}constructor(s,o){super(),this.frontExamTrackService=s,this.sAztFullScreenVisibleService=o}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(z.XJ),t.rXU(At))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-tracking-visible-event"]],hostBindings:function(s,o){1&s&&t.bIt("visibilitychange",function(r){return o.visibilitychange(r)},!1,t.EBC)},inputs:{currentTakeTestStepData:"currentTakeTestStepData"},features:[t.Vt3],decls:0,vars:0,template:function(s,o){},encapsulation:2}),a})(),Qt=(()=>{var n;class a extends b.H{constructor(){super(...arguments),this.isConfirmReload=!0}stopConfirm(){this.isConfirmReload=!1}askBeforeCloseWindow(s){if(this.isConfirmReload)return console.log("go he"),s.returnValue=!1}}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-leave-window-event"]],hostBindings:function(s,o){1&s&&t.bIt("beforeunload",function(r){return o.askBeforeCloseWindow(r)},!1,t.tSv)},features:[t.Vt3],decls:0,vars:0,template:function(s,o){},encapsulation:2}),a})();function ol(n,a){1&n&&(t.j41(0,"span",6),t.EFF(1,"*"),t.k0s())}const sl=function(n,a){return{"col-span-1":n,"col-span-2":a}},al=function(n,a){return{"btn-primary-soft":n,"btn-outline-secondary":a}};function il(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",2)(2,"button",3),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.layoutType==r.allTakeTestLayouts.LIST_QUESTION?r.sAztTestNextBackQuestionService.scrollTo(i):r.sAztTestNextBackQuestionService.goTo(r.currentTakeTestStepData,i))}),t.j41(3,"span",4),t.EFF(4),t.DNE(5,ol,2,0,"span",5),t.k0s()()(),t.bVm()}if(2&n){const e=a.$implicit,s=a.index,o=t.XpG();let i;t.R7$(1),t.Y8G("ngClass",t.l_i(5,sl,!o.isMobileScreenSize&&o.layoutType==o.allTakeTestLayouts.STEP_QUESTION,o.isMobileScreenSize||o.layoutType!=o.allTakeTestLayouts.STEP_QUESTION)),t.R7$(1),t.Y8G("ngClass",t.l_i(8,al,e.status,!e.status)),t.R7$(2),t.Lme(" ",s+(null!==(i=o.currentTakeTestStepData.examObj.startQuestionIndex)&&void 0!==i?i:1)<=9?"0":"","",s+(null!==(i=o.currentTakeTestStepData.examObj.startQuestionIndex)&&void 0!==i?i:1)," "),t.R7$(1),t.Y8G("ngIf",o.layoutType==o.allTakeTestLayouts.STEP_QUESTION&&(null==o.currentTakeTestStepData.nextBackQuestionModel||null==o.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj?null:o.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id)==e.id)}}const rl=function(n){return{"sheet-screen-monitor":n}};let Nt=(()=>{var n;class a extends b.H{constructor(){super(...arguments),this.allTakeTestLayouts=R}}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-list-shortcut-question-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",requiredNextBackQuestionModel:"requiredNextBackQuestionModel",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService",isMobileScreenSize:"isMobileScreenSize",layoutType:"layoutType"},features:[t.Vt3],decls:2,vars:4,consts:[[1,"grid","grid-cols-10","gap-2","sheet-screen",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"ngClass"],["azt-track-service","take-test-wdi0TAS3bgU",1,"btn","p-4","border-slate-300","dark:border-darkmode-400","relative","user-select-none","w-full","h-full",3,"ngClass","click"],[1,"absolute","absolute-center"],["class","relative","style","color: #ffa700; top: -7px",4,"ngIf"],[1,"relative",2,"color","#ffa700","top","-7px"]],template:function(s,o){1&s&&(t.j41(0,"div",0),t.DNE(1,il,6,11,"ng-container",1),t.k0s()),2&s&&(t.Y8G("ngClass",t.eq3(2,rl,!o.isMobileScreenSize&&o.currentTakeTestStepData.isShowVideoMonitor)),t.R7$(1),t.Y8G("ngForOf",o.currentTakeTestStepData.viewQuestionObjs))},dependencies:[_.YU,_.Sq,_.bT],styles:[".absolute-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}"]}),a})();const ll=function(n){return[n]};let Bt=(()=>{var n;class a extends b.H{}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-wait-to-test-time-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",homeLink:"homeLink"},features:[t.Vt3],decls:11,vars:17,consts:[[1,"pb-4"],[1,"alert","alert-danger"],[1,"text-center","clickable","mt-2"],["azt-track-service","take-test-8oUvqrS4hCo",1,"link__color","link__hover",3,"routerLink"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.k0s(),t.j41(6,"div",2)(7,"a",3),t.nI1(8,"navigationLocalize"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()),2&s&&(t.R7$(2),t.E5c(" ",t.bMT(3,5,o.currentTakeTestStepData.errorMessage)," ",t.bMT(4,7,"lang_auto_vui_long_quay_lai_vao_luc"),": ",t.bMT(5,9,o.currentTakeTestStepData.examObj.startTime)," "),t.R7$(5),t.Y8G("routerLink",t.eq3(15,ll,t.bMT(8,11,o.homeLink))),t.R7$(2),t.JRh(t.bMT(10,13,"lang_auto_quay_lai_trang_chu")))},dependencies:[k.Wk,u.F2,u.wp,u.bH],encapsulation:2}),a})();function cl(n,a){1&n&&(t.j41(0,"div",3),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_testbank_frontend_you_are_not_upload_any_essay_files"),"\n"))}const _l=function(){return{"mr-2":!0}};function ul(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",4)(2,"div")(3,"button",5),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showUploadEssayFilesDialogEvent.emit())}),t.nrm(4,"lucide-icon",6),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"p",7),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.bVm()}2&n&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(7,_l)),t.R7$(1),t.SpI(" ",t.bMT(6,3,"lang_testbank_frontend_upload_essay_files")," "),t.R7$(3),t.JRh(t.bMT(9,5,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets")))}let $t=(()=>{var n;class a extends b.H{constructor(){super(...arguments),this.showUploadEssayFilesDialogEvent=new t.bkB,this.changeAnswerFilesEvent=new t.bkB}}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-upload-essay-file-at-over-time-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData"},outputs:{showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",changeAnswerFilesEvent:"changeAnswerFilesEvent"},features:[t.Vt3],decls:3,vars:3,consts:[["class","p-3 m-2 alert alert-danger",4,"ngIf"],[4,"ngIf"],[3,"answerFiles","changeAnswerFiles"],[1,"p-3","m-2","alert","alert-danger"],[1,"text-center","mt-1","mb-2"],["azt-track-service","take-test-EkxWzdqkfZ",1,"btn","btn-sm","btn-primary",3,"click"],["name","file-pen-line","size","16",3,"ngClass"],[1,"h6","mb-2","mt-1"]],template:function(s,o){1&s&&(t.DNE(0,cl,3,3,"div",0),t.DNE(1,ul,10,8,"ng-container",1),t.j41(2,"app-sort-essay-files-box",2),t.bIt("changeAnswerFiles",function(r){return o.changeAnswerFilesEvent.emit(r)}),t.k0s()),2&s&&(t.Y8G("ngIf",0==o.currentTakeTestStepData.files.length),t.R7$(1),t.Y8G("ngIf",o.currentTakeTestStepData.allowUploadEssayFileWhenEndTime),t.R7$(1),t.Y8G("answerFiles",o.currentTakeTestStepData.files))},dependencies:[_.YU,_.bT,gt.s,d.WGl,u.wp],encapsulation:2}),a})();function pl(n,a){1&n&&t.nrm(0,"lucide-icon",26)}function ml(n,a){1&n&&t.nrm(0,"lucide-icon",27)}function dl(n,a){1&n&&t.nrm(0,"lucide-icon",28)}function gl(n,a){if(1&n&&t.nrm(0,"app-testbank-frontend-count-down-box",29),2&n){const e=t.XpG();t.Y8G("totalSecond",e.currentTakeTestStepData.countDownSecond)("useCountDown",!1)}}function fl(n,a){1&n&&(t.j41(0,"span",30),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_auto_khong_gioi_han")))}function Tl(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",31),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showUploadEssayFilesDialogEvent.emit())}),t.nrm(1,"lucide-icon",32),t.k0s()}}const Kt=function(n){return{"bg-primary text-white font-medium":n}},ft=function(){return{"mr-2":!0}};function hl(n,a){if(1&n){const e=t.RV6();t.j41(0,"li")(1,"a",33),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.changeShowTypeEvent.emit(o.allTakeTestLayouts.GROUP_QUESTION))}),t.nrm(2,"lucide-icon",34),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngClass",t.eq3(5,Kt,e.layoutType===e.allTakeTestLayouts.GROUP_QUESTION)),t.R7$(1),t.Y8G("ngClass",t.lJ4(7,ft)),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_azt_display_questions_by_group")," ")}}const bl=function(){return{"text-danger":!0}};let Zt=(()=>{var n;class a extends b.H{constructor(){super(...arguments),this.openSubmitExamEvent=new t.bkB,this.changeShowTypeEvent=new t.bkB,this.showUploadEssayFilesDialogEvent=new t.bkB,this.openQuitDialogEvent=new t.bkB,this.allTakeTestLayouts=R,this.isAllQuestionInGroup=!0}ngOnInit(){this.isAllQuestionInGroup=!this.currentTakeTestStepData.viewQuestionObjs.some(s=>!s?.groupInfo?.groupId)}}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-simple-test-header-box-for-mobile"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",layoutType:"layoutType"},outputs:{openSubmitExamEvent:"openSubmitExamEvent",changeShowTypeEvent:"changeShowTypeEvent",showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",openQuitDialogEvent:"openQuitDialogEvent"},features:[t.Vt3],decls:39,vars:33,consts:[[1,"fixed","w-full","box","border-b","border-slate-200","dark:border-darkmode-400","rounded-none","items-center","flex","top-0","left-0","ng-star-inserted","p-3","z-index-1000"],[1,"flex","items-center","w-full"],[1,"mr-auto","flex","items-center"],["azt-track-service","main-component-WXDHmEOSWA","matRipple","",1,"btn","btn-outline-secondary","rounded-full","w-8","h-8","border-0","shadow-none","p-1",3,"click"],["name","power","size","16","strokeWidth","2",3,"ngClass"],[1,"ml-2","flex","items-center"],[1,"flex","items-center","dropdown","mr-2"],["azt-track-service","take-test-UBz-4Fa9hv","matRipple","",1,"btn","btn-sm","btn-outline-secondary",2,"height","30px",3,"matMenuTriggerFor"],["name","list","size","20",4,"ngIf"],["name","computer","size","20",4,"ngIf"],["name","layout-panel-left","size","20",4,"ngIf"],[1,"inline-flex","border","border-slate-200","dark:border-darkmode-400","p-1","rounded-md","items-center","justify-center","mr-2"],["name","timer","size","20","strokeWidth","2",3,"ngClass"],[3,"totalSecond","useCountDown",4,"ngIf","ngIfElse"],["unlimitedTimeTpl",""],["class","btn btn-sm btn-outline-secondary mr-2","matRipple","",3,"click",4,"ngIf"],["matRipple","",1,"btn","btn-sm","btn-primary",3,"click"],["name","file-pen-line","size","16",3,"ngClass"],["layoutTypeMenu","matMenu"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","simple-test-header-box-for-desktop-LwFLoUqqHP","matRipple","",1,"dropdown-item","font-medium","mb-1","items-center",3,"ngClass","click"],["name","list","size","16",3,"ngClass"],["azt-track-service","simple-test-header-box-for-desktop-BUfzS1hKTY","matRipple","",1,"dropdown-item","font-medium","mb-1","items-center",3,"ngClass","click"],["name","computer","size","16",3,"ngClass"],[4,"ngIf"],["name","list","size","20"],["name","computer","size","20"],["name","layout-panel-left","size","20"],[3,"totalSecond","useCountDown"],[1,"font-medium"],["matRipple","",1,"btn","btn-sm","btn-outline-secondary","mr-2",3,"click"],["name","paperclip","size","16"],["azt-track-service","simple-test-header-box-for-desktop-NNYZn1EpUR","matRipple","",1,"dropdown-item","font-medium","items-center",3,"ngClass","click"],["name","layout-panel-left","size","16",3,"ngClass"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),t.bIt("click",function(){return o.openQuitDialogEvent.emit()}),t.nrm(4,"lucide-icon",4),t.k0s()(),t.j41(5,"div",5)(6,"div",6)(7,"button",7),t.DNE(8,pl,1,0,"lucide-icon",8),t.DNE(9,ml,1,0,"lucide-icon",9),t.DNE(10,dl,1,0,"lucide-icon",10),t.k0s()(),t.j41(11,"div",11),t.nrm(12,"lucide-icon",12),t.DNE(13,gl,1,2,"app-testbank-frontend-count-down-box",13),t.DNE(14,fl,3,3,"ng-template",null,14,t.C5r),t.k0s(),t.DNE(16,Tl,2,0,"button",15),t.j41(17,"button",16),t.bIt("click",function(){return o.openSubmitExamEvent.emit()}),t.nrm(18,"lucide-icon",17),t.j41(19,"span"),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()()(),t.j41(22,"mat-menu",null,18)(24,"div",19)(25,"ul",20)(26,"li")(27,"a",21),t.bIt("click",function(){return o.changeShowTypeEvent.emit(o.allTakeTestLayouts.LIST_QUESTION)}),t.nrm(28,"lucide-icon",22),t.j41(29,"span"),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()(),t.j41(32,"li")(33,"a",23),t.bIt("click",function(){return o.changeShowTypeEvent.emit(o.allTakeTestLayouts.STEP_QUESTION)}),t.nrm(34,"lucide-icon",24),t.j41(35,"span"),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s()()(),t.DNE(38,hl,6,8,"li",25),t.k0s()()()),2&s){const i=t.sdS(15),r=t.sdS(23);t.R7$(4),t.Y8G("ngClass",t.lJ4(24,bl)),t.R7$(3),t.Y8G("matMenuTriggerFor",r),t.R7$(1),t.Y8G("ngIf",o.layoutType===o.allTakeTestLayouts.LIST_QUESTION),t.R7$(1),t.Y8G("ngIf",o.layoutType===o.allTakeTestLayouts.STEP_QUESTION),t.R7$(1),t.Y8G("ngIf",o.layoutType===o.allTakeTestLayouts.GROUP_QUESTION),t.R7$(2),t.Y8G("ngClass",t.lJ4(25,ft)),t.R7$(1),t.Y8G("ngIf",!o.currentTakeTestStepData.isUnLimitedTime)("ngIfElse",i),t.R7$(3),t.Y8G("ngIf",o.currentTakeTestStepData.hasEssayQuestion),t.R7$(2),t.Y8G("ngClass",t.lJ4(26,ft)),t.R7$(2),t.JRh(t.bMT(21,18,"lang_auto_nop_bai")),t.R7$(7),t.Y8G("ngClass",t.eq3(27,Kt,o.layoutType===o.allTakeTestLayouts.LIST_QUESTION)),t.R7$(1),t.Y8G("ngClass",t.lJ4(29,ft)),t.R7$(2),t.SpI(" ",t.bMT(31,20,"lang_auto_show_list")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(30,Kt,o.layoutType===o.allTakeTestLayouts.STEP_QUESTION)),t.R7$(1),t.Y8G("ngClass",t.lJ4(32,ft)),t.R7$(2),t.SpI(" ",t.bMT(37,22,"lang_auto_show_unit")," "),t.R7$(2),t.Y8G("ngIf",o.isAllQuestionInGroup)}},dependencies:[_.YU,_.bT,B.kk,B.Cp,Re.r6,d.WGl,q,u.wp],encapsulation:2}),a})();function Sl(n,a){if(1&n&&t.nrm(0,"app-testbank-frontend-count-down-box",30),2&n){const e=t.XpG();t.Y8G("totalSecond",e.currentTakeTestStepData.countDownSecond)("useCountDown",!1)}}function xl(n,a){1&n&&(t.EFF(0),t.nI1(1,"mytranslate")),2&n&&t.SpI(" ",t.bMT(1,1,"lang_auto_khong_gioi_han")," ")}function kl(n,a){1&n&&t.nrm(0,"lucide-icon",31)}function vl(n,a){1&n&&t.nrm(0,"lucide-icon",32)}function Cl(n,a){1&n&&t.nrm(0,"lucide-icon",33)}const H=function(){return{"mr-2":!0}};function wl(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",36),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.sAztFullScreenService.showFullScreen())}),t.nrm(1,"lucide-icon",37),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,H)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_toan_man_hinh")," "))}function Il(n,a){if(1&n&&(t.j41(0,"div",34),t.DNE(1,wl,4,5,"button",35),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",!e.isMobileScreenSize)}}function Ol(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",34)(1,"button",38),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showUploadEssayFilesDialogEvent.emit())}),t.nrm(2,"lucide-icon",39),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,H)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_dinh_kem_bai_tu_luan")," "))}const te=function(n){return{"btn-primary":n}};function El(n,a){if(1&n){const e=t.RV6();t.j41(0,"li")(1,"a",40),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.changeShowTypeEvent.emit(o.allTakeTestLayouts.GROUP_QUESTION))}),t.nrm(2,"lucide-icon",41),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngClass",t.eq3(5,te,e.layoutType===e.allTakeTestLayouts.GROUP_QUESTION)),t.R7$(1),t.Y8G("ngClass",t.lJ4(7,H)),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_azt_display_questions_by_group")," ")}}let ee=(()=>{var n;class a extends b.H{constructor(){super(...arguments),this.openQuitDialogEvent=new t.bkB,this.changeShowTypeEvent=new t.bkB,this.showUploadEssayFilesDialogEvent=new t.bkB,this.openSubmitExamEvent=new t.bkB,this.sAztFullScreenService=new U,this.allTakeTestLayouts=R,this.isAllQuestionInGroup=!0}ngOnInit(){this.isAllQuestionInGroup=!this.currentTakeTestStepData.viewQuestionObjs.some(s=>!s?.groupInfo?.groupId)}}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-simple-test-header-box-for-desktop"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",sAztTestResizeService:"sAztTestResizeService",layoutType:"layoutType",isMobileScreenSize:"isMobileScreenSize"},outputs:{openQuitDialogEvent:"openQuitDialogEvent",changeShowTypeEvent:"changeShowTypeEvent",showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",openSubmitExamEvent:"openSubmitExamEvent"},features:[t.Vt3],decls:52,vars:47,consts:[[1,"fixed","w-full","box","rounded-none","items-center","flex","top-0","left-0","ng-star-inserted","p-3","z-index-1000","border-b","border-slate-200","dark:border-darkmode-400"],["azt-track-service","take-test-E4FLezP4kF",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","chevron-left","size","20"],[1,"relative","mx-auto"],[1,"text-md","font-medium"],[1,"mr-6"],[1,"flex","items-center"],["name","timer","size","20",3,"ngClass"],[3,"totalSecond","useCountDown",4,"ngIf","ngIfElse"],["unlimitedTimeTpl",""],[1,"flex","items-center","dropdown","mr-3"],["azt-track-service","take-test-DqyfiYKf45",1,"btn","btn-sm","btn-secondary","mr-2",3,"disabled","matTooltip","click"],["name","zoom-out","size","20"],["azt-track-service","take-test-lcadhTPzm",1,"btn","btn-sm","btn-secondary",3,"disabled","matTooltip","click"],["name","zoom-in","size","20"],["azt-track-service","take-test-UBz-4Fa9hv",1,"btn","btn-sm","btn-secondary",3,"matMenuTriggerFor"],["name","list","size","20",4,"ngIf"],["name","computer","size","20",4,"ngIf"],["name","layout-panel-left","size","20",4,"ngIf"],["class","mr-2",4,"ngIf"],["azt-track-service","take-test-U5gleH2CsWW",1,"btn","btn-sm","btn-primary",3,"click"],["name","file-pen-line","size","16",3,"ngClass"],["layoutTypeMenu","matMenu"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","simple-test-header-box-for-desktop-LwFLoUqqHP",1,"dropdown-item","mb-1","items-center",3,"ngClass","click"],["name","list","size","16",3,"ngClass"],["azt-track-service","simple-test-header-box-for-desktop-BUfzS1hKTY",1,"dropdown-item","mb-1","items-center",3,"ngClass","click"],["name","computer","size","16",3,"ngClass"],[4,"ngIf"],[3,"totalSecond","useCountDown"],["name","list","size","20"],["name","computer","size","20"],["name","layout-panel-left","size","20"],[1,"mr-2"],["azt-track-service","take-test-7o7YbIPIyM","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","take-test-7o7YbIPIyM",1,"btn","btn-sm","btn-secondary",3,"click"],["name","maximize","size","16",3,"ngClass"],["azt-track-service","take-test-EYDOxzj8YnB",1,"btn","btn-sm","btn-secondary",3,"click"],["name","paperclip","size","16",3,"ngClass"],["azt-track-service","simple-test-header-box-for-desktop-NNYZn1EpUR",1,"dropdown-item","items-center",3,"ngClass","click"],["name","layout-panel-left","size","16",3,"ngClass"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0)(1,"div")(2,"button",1),t.bIt("click",function(){return o.openQuitDialogEvent.emit()}),t.nrm(3,"lucide-icon",2),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",3)(7,"span",4),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.j41(10,"div",5)(11,"div",6),t.nrm(12,"lucide-icon",7),t.DNE(13,Sl,1,2,"app-testbank-frontend-count-down-box",8),t.DNE(14,xl,2,3,"ng-template",null,9,t.C5r),t.k0s()(),t.j41(16,"div",10)(17,"button",11),t.bIt("click",function(){return o.sAztTestResizeService.zoomOut()}),t.nI1(18,"mytranslate"),t.nrm(19,"lucide-icon",12),t.k0s(),t.j41(20,"button",13),t.bIt("click",function(){return o.sAztTestResizeService.zoomIn()}),t.nI1(21,"mytranslate"),t.nrm(22,"lucide-icon",14),t.k0s()(),t.j41(23,"div",10)(24,"button",15),t.DNE(25,kl,1,0,"lucide-icon",16),t.DNE(26,vl,1,0,"lucide-icon",17),t.DNE(27,Cl,1,0,"lucide-icon",18),t.k0s()(),t.DNE(28,Il,2,1,"div",19),t.DNE(29,Ol,5,5,"div",19),t.j41(30,"div")(31,"button",20),t.bIt("click",function(){return o.openSubmitExamEvent.emit()}),t.nrm(32,"lucide-icon",21),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s()()(),t.j41(35,"mat-menu",null,22)(37,"div",23)(38,"ul",24)(39,"li")(40,"a",25),t.bIt("click",function(){return o.changeShowTypeEvent.emit(o.allTakeTestLayouts.LIST_QUESTION)}),t.nrm(41,"lucide-icon",26),t.j41(42,"span"),t.EFF(43),t.nI1(44,"mytranslate"),t.k0s()()(),t.j41(45,"li")(46,"a",27),t.bIt("click",function(){return o.changeShowTypeEvent.emit(o.allTakeTestLayouts.STEP_QUESTION)}),t.nrm(47,"lucide-icon",28),t.j41(48,"span"),t.EFF(49),t.nI1(50,"mytranslate"),t.k0s()()(),t.DNE(51,El,6,8,"li",29),t.k0s()()()),2&s){const i=t.sdS(15),r=t.sdS(36);t.R7$(4),t.SpI(" ",t.bMT(5,25,"lang_button_back")," "),t.R7$(4),t.Lme("",t.bMT(9,27,"lang_auto_thi_sinh"),": ",o.currentTakeTestStepData.testingUserObj.fullName,""),t.R7$(4),t.Y8G("ngClass",t.lJ4(39,H)),t.R7$(1),t.Y8G("ngIf",!o.currentTakeTestStepData.isUnLimitedTime)("ngIfElse",i),t.R7$(4),t.Y8G("disabled",o.sAztTestResizeService.fontSize<=1)("matTooltip",t.bMT(18,29,"lang_take_test_zoom_out")),t.R7$(3),t.Y8G("disabled",o.sAztTestResizeService.fontSize>=2)("matTooltip",t.bMT(21,31,"lang_take_test_zoom_in")),t.R7$(4),t.Y8G("matMenuTriggerFor",r),t.R7$(1),t.Y8G("ngIf",o.layoutType===o.allTakeTestLayouts.LIST_QUESTION),t.R7$(1),t.Y8G("ngIf",o.layoutType===o.allTakeTestLayouts.STEP_QUESTION),t.R7$(1),t.Y8G("ngIf",o.layoutType===o.allTakeTestLayouts.GROUP_QUESTION),t.R7$(1),t.Y8G("ngIf",o.currentTakeTestStepData.showFullScreenRequired),t.R7$(1),t.Y8G("ngIf",o.currentTakeTestStepData.hasEssayQuestion),t.R7$(3),t.Y8G("ngClass",t.lJ4(40,H)),t.R7$(1),t.SpI(" ",t.bMT(34,33,"lang_auto_nop_bai")," "),t.R7$(7),t.Y8G("ngClass",t.eq3(41,te,o.layoutType===o.allTakeTestLayouts.LIST_QUESTION)),t.R7$(1),t.Y8G("ngClass",t.lJ4(43,H)),t.R7$(2),t.SpI(" ",t.bMT(44,35,"lang_auto_show_list")," "),t.R7$(3),t.Y8G("ngClass",t.eq3(44,te,o.layoutType===o.allTakeTestLayouts.STEP_QUESTION)),t.R7$(1),t.Y8G("ngClass",t.lJ4(46,H)),t.R7$(2),t.SpI(" ",t.bMT(50,37,"lang_auto_show_unit")," "),t.R7$(2),t.Y8G("ngIf",o.isAllQuestionInGroup)}},dependencies:[_.YU,_.bT,B.kk,B.Cp,V.oV,d.WGl,q,u.wp],encapsulation:2}),a})();function yl(n,a){if(1&n&&t.nrm(0,"app-testbank-frontend-count-down-box",24),2&n){const e=t.XpG();t.Y8G("totalSecond",e.currentTakeTestStepData.countDownSecond)("useCountDown",!1)}}function Al(n,a){1&n&&(t.j41(0,"span",25),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_auto_khong_gioi_han")))}const ne=function(n){return{"btn-primary text-white":n}};function zl(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",26),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.changeShowTypeEvent.emit(o.allTakeTestLayouts.GROUP_QUESTION))}),t.nrm(1,"lucide-icon",27),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("ngClass",t.eq3(1,ne,e.layoutType===e.allTakeTestLayouts.GROUP_QUESTION))}}function jl(n,a){if(1&n&&t.nrm(0,"app-coazt-list-shortcut-question-box",28),2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("isMobileScreenSize",!0)("layoutType",e.allTakeTestLayouts.LIST_QUESTION)}}const Ye=function(){return{"mr-2":!0}};function Rl(n,a){if(1&n){const e=t.RV6();t.j41(0,"li")(1,"a",29),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showUploadEssayFilesDialogEvent.emit())}),t.nrm(2,"lucide-icon",30),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()}2&n&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Ye)),t.R7$(2),t.JRh(t.bMT(5,2,"lang_auto_dinh_kem_tu_luan")))}const Fl=function(){return{"mr-2 text-primary":!0}},Gl=function(){return{"mr-2 text-danger":!0}};let Pe=(()=>{var n;class a extends b.H{constructor(){super(...arguments),this.setQuestionInGroupEvent=new t.bkB,this.toggleShowListQuestionInGroupEvent=new t.bkB,this.prevIndexGroupEvent=new t.bkB,this.nextIndexGroupEvent=new t.bkB,this.submitExamEvent=new t.bkB,this.goToQuestionEvent=new t.bkB,this.changeShowTypeEvent=new t.bkB,this.openSubmitExamEvent=new t.bkB,this.showUploadEssayFilesDialogEvent=new t.bkB,this.openQuitDialogEvent=new t.bkB,this.allTakeTestLayouts=R,this.isAllQuestionInGroup=!0}ngOnInit(){this.isAllQuestionInGroup=!this.currentTakeTestStepData.viewQuestionObjs.some(s=>!s?.groupInfo?.groupId)}}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-simple-test-menu-bar"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",layoutType:"layoutType",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService"},outputs:{setQuestionInGroupEvent:"setQuestionInGroupEvent",toggleShowListQuestionInGroupEvent:"toggleShowListQuestionInGroupEvent",prevIndexGroupEvent:"prevIndexGroupEvent",nextIndexGroupEvent:"nextIndexGroupEvent",submitExamEvent:"submitExamEvent",goToQuestionEvent:"goToQuestionEvent",changeShowTypeEvent:"changeShowTypeEvent",openSubmitExamEvent:"openSubmitExamEvent",showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",openQuitDialogEvent:"openQuitDialogEvent"},features:[t.Vt3],decls:35,vars:24,consts:[[1,"dropdown-menu","show","relative","mb-2"],[1,"dropdown-content"],[1,"p-1","flex","items-center"],[1,"inline-flex","border","whitespace-nowrap","border-slate-200","dark:border-darkmode-400","p-1","rounded-md","items-center","justify-center","mr-2"],["name","timer","size","20","strokeWidth","2",3,"ngClass"],[3,"totalSecond","useCountDown",4,"ngIf","ngIfElse"],["unlimitedTimeTpl",""],["azt-track-service","simple-test-menu-bar-lV1kU-823",1,"btn","btn-sm","btn-outline-secondary","mr-2",3,"ngClass","click"],["name","list","size","16"],["azt-track-service","simple-test-menu-bar-EvCVyvwQzF",1,"btn","btn-sm","btn-outline-secondary","mr-2",3,"ngClass","click"],["name","computer","size","16"],["azt-track-service","simple-test-menu-bar-8YbUT33pgv","class","btn btn-sm btn-outline-secondary",3,"ngClass","click",4,"ngIf"],[1,"dropdown-divider","border-slate-200","dark:border-darkmode-400"],[1,"p-0","-m-2"],[1,"height-200px"],["track","all","pointerEventsMethod","scrollbar",3,"visibility"],["scrollbarRef",""],[1,"p-2"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType",4,"ngIf"],["azt-track-service","take-test-qCh4rHipyZ7",1,"dropdown-item","font-medium",2,"align-items","center",3,"click"],["name","file-pen-line","size","16",3,"ngClass"],[4,"ngIf"],["azt-track-service","take-test-Sv-5CQ5vRW_",1,"dropdown-item","font-medium",2,"align-items","center",3,"click"],["name","power","size","16",3,"ngClass"],[3,"totalSecond","useCountDown"],[1,"font-medium"],["azt-track-service","simple-test-menu-bar-8YbUT33pgv",1,"btn","btn-sm","btn-outline-secondary",3,"ngClass","click"],["name","layout-panel-left","size","16"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType"],["azt-track-service","take-test-Hl-nLDepRGa",1,"dropdown-item","font-medium",2,"align-items","center",3,"click"],["name","paperclip","size","16",3,"ngClass"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0)(1,"ul",1)(2,"li",2)(3,"div",3),t.nrm(4,"lucide-icon",4),t.DNE(5,yl,1,2,"app-testbank-frontend-count-down-box",5),t.DNE(6,Al,3,3,"ng-template",null,6,t.C5r),t.k0s(),t.j41(8,"button",7),t.bIt("click",function(){return o.changeShowTypeEvent.emit(o.allTakeTestLayouts.LIST_QUESTION)}),t.nrm(9,"lucide-icon",8),t.k0s(),t.j41(10,"button",9),t.bIt("click",function(){return o.changeShowTypeEvent.emit(o.allTakeTestLayouts.STEP_QUESTION)}),t.nrm(11,"lucide-icon",10),t.k0s(),t.DNE(12,zl,2,3,"button",11),t.k0s(),t.j41(13,"li"),t.nrm(14,"hr",12),t.k0s(),t.j41(15,"li",13)(16,"div",14)(17,"ng-scrollbar",15,16)(19,"div",17),t.DNE(20,jl,1,5,"app-coazt-list-shortcut-question-box",18),t.k0s()()()(),t.j41(21,"li"),t.nrm(22,"hr",12),t.k0s(),t.j41(23,"li")(24,"a",19),t.bIt("click",function(){return o.openSubmitExamEvent.emit()}),t.nrm(25,"lucide-icon",20),t.j41(26,"span"),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()(),t.DNE(29,Rl,6,5,"li",21),t.j41(30,"li")(31,"a",22),t.bIt("click",function(){return o.openQuitDialogEvent.emit()}),t.nrm(32,"lucide-icon",23),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s()()()()),2&s){const i=t.sdS(7);t.R7$(4),t.Y8G("ngClass",t.lJ4(17,Ye)),t.R7$(1),t.Y8G("ngIf",!o.currentTakeTestStepData.isUnLimitedTime)("ngIfElse",i),t.R7$(3),t.Y8G("ngClass",t.eq3(18,ne,o.layoutType===o.allTakeTestLayouts.LIST_QUESTION)),t.R7$(2),t.Y8G("ngClass",t.eq3(20,ne,o.layoutType===o.allTakeTestLayouts.STEP_QUESTION)),t.R7$(2),t.Y8G("ngIf",o.isAllQuestionInGroup),t.R7$(5),t.Y8G("visibility","always"),t.R7$(3),t.Y8G("ngIf",o.currentTakeTestStepData.nextBackQuestionModel),t.R7$(5),t.Y8G("ngClass",t.lJ4(22,Fl)),t.R7$(2),t.JRh(t.bMT(28,13,"lang_auto_nop_bai")),t.R7$(2),t.Y8G("ngIf",o.currentTakeTestStepData.hasEssayQuestion),t.R7$(3),t.Y8G("ngClass",t.lJ4(23,Gl)),t.R7$(1),t.SpI(" ",t.bMT(34,15,"lang_auto_thoat")," ")}},dependencies:[_.YU,_.bT,d.WGl,g.Yh,q,Nt,u.wp],styles:[".border-3[_ngcontent-%COMP%]{border-width:3px}.transition-3[_ngcontent-%COMP%]{transition:all .3s}.height-showListQuestion[_ngcontent-%COMP%]{height:calc(100vh - 180px)}.height-hiddenListQuestion[_ngcontent-%COMP%]{height:calc(100vh - 127px)}.mt-55px[_ngcontent-%COMP%]{margin-top:55px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.border-color-primary[_ngcontent-%COMP%]{border-color:rgb(var(--color-primary)/var(--tw-text-opacity))}.absolute-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.azt-progress-circle[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem;border-radius:50%;display:grid;place-items:center;animation:.4s ease-out reverse;transition:all .5s}.azt-progress-value[_ngcontent-%COMP%]{display:block;height:calc(100% - 6px);width:calc(100% - 6px);background-color:#fff;border-radius:50%;display:grid;place-items:center;transition:all .5s}.questionListInGroup[_ngcontent-%COMP%]{max-height:60px;transition:max-height .3s ease-out}.box-group-question[_ngcontent-%COMP%]{width:100vw;height:64px}.max-height-400px[_ngcontent-%COMP%]{max-height:400px}.height-200px[_ngcontent-%COMP%]{height:200px}.h-48px[_ngcontent-%COMP%]{height:48px}.p-0[_ngcontent-%COMP%]{padding:0}.-m-2[_ngcontent-%COMP%]{margin:-.5rem}  .dark .azt-progress-value{background-color:#28334e}"]}),a})(),Xe=(()=>{var n;class a extends b.H{constructor(){super(...arguments),this.changeShowTypeEvent=new t.bkB,this.openSubmitExamEvent=new t.bkB,this.showUploadEssayFilesDialogEvent=new t.bkB,this.openQuitDialogEvent=new t.bkB,this.allTakeTestLayouts=R,this.isAllQuestionInGroup=!0}ngOnInit(){this.isAllQuestionInGroup=!this.currentTakeTestStepData.viewQuestionObjs.some(s=>!s?.groupInfo?.groupId)}}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-simple-test-footer-box-for-mobile"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",layoutType:"layoutType",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService"},outputs:{changeShowTypeEvent:"changeShowTypeEvent",openSubmitExamEvent:"openSubmitExamEvent",showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",openQuitDialogEvent:"openQuitDialogEvent"},features:[t.Vt3],decls:6,vars:4,consts:[[1,"pos-tool"],[1,"btn","box","rounded-full","shadow-md","border","border-slate-200","dark:border-darkmode-400","w-16","h-16",3,"matMenuTriggerFor"],["name","layout-grid","size","20"],["xPosition","before"],["actionMenu","matMenu"],[3,"currentTakeTestStepData","layoutType","sAztTestNextBackQuestionService","submitExamEvent","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0)(1,"button",1),t.nrm(2,"lucide-icon",2),t.k0s()(),t.j41(3,"mat-menu",3,4)(5,"app-coazt-simple-test-menu-bar",5),t.bIt("submitExamEvent",function(){return o.openSubmitExamEvent.emit()})("changeShowTypeEvent",function(r){return o.changeShowTypeEvent.emit(r)})("openSubmitExamEvent",function(){return o.openSubmitExamEvent.emit()})("showUploadEssayFilesDialogEvent",function(){return o.showUploadEssayFilesDialogEvent.emit()})("openQuitDialogEvent",function(){return o.openQuitDialogEvent.emit()}),t.k0s()()),2&s){const i=t.sdS(4);t.R7$(1),t.Y8G("matMenuTriggerFor",i),t.R7$(4),t.Y8G("currentTakeTestStepData",o.currentTakeTestStepData)("layoutType",o.layoutType)("sAztTestNextBackQuestionService",o.sAztTestNextBackQuestionService)}},dependencies:[B.kk,B.Cp,d.WGl,Pe],styles:[".pos-tool[_ngcontent-%COMP%]{position:fixed;bottom:60px;right:25px;z-index:999}.pb-400[_ngcontent-%COMP%]{padding-bottom:400px}.h-40px[_ngcontent-%COMP%]{height:40px}"]}),a})();function Dl(n,a){1&n&&t.nrm(0,"app-coazt-leave-window-event")}function Ml(n,a){if(1&n&&t.eu8(0,11),2&n){t.XpG();const e=t.sdS(16);t.Y8G("ngTemplateOutlet",e)}}const Ll=function(n,a){return{"container-content-mobile":n,"container-content-desktop":a}};function Ql(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",13),t.bIt("contextmenu",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.allowContextMenu)}),t.j41(2,"div",14),t.eu8(3,11),t.k0s()(),t.bVm()}if(2&n){const e=t.XpG(3),s=t.sdS(6);t.R7$(2),t.Y8G("ngClass",t.l_i(2,Ll,e.isMobileScreenSize,!e.isMobileScreenSize)),t.R7$(1),t.Y8G("ngTemplateOutlet",s)}}function Nl(n,a){if(1&n&&(t.nrm(0,"azt-loading-effect",15),t.nI1(1,"mytranslate")),2&n){const e=t.XpG(3);t.Y8G("currentStatusObj",e.statusObj)("customText",t.bMT(1,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function Bl(n,a){if(1&n&&t.eu8(0,11),2&n){t.XpG(3);const e=t.sdS(20);t.Y8G("ngTemplateOutlet",e)}}function $l(n,a){if(1&n&&(t.qex(0),t.DNE(1,Ql,4,5,"ng-container",1),t.DNE(2,Nl,2,4,"azt-loading-effect",12),t.DNE(3,Bl,1,1,"ng-container",2),t.bVm()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngIf",!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.R7$(1),t.Y8G("ngIf",e.questsLoadState.startLoad),t.R7$(1),t.Y8G("ngIf",!e.questsLoadState.startLoad&&e.questsLoadState.hasErrs)}}function Yl(n,a){if(1&n&&t.eu8(0,11),2&n){t.XpG(2);const e=t.sdS(18);t.Y8G("ngTemplateOutlet",e)}}function Pl(n,a){if(1&n&&t.eu8(0,11),2&n){t.XpG(2);const e=t.sdS(10);t.Y8G("ngTemplateOutlet",e)}}function Xl(n,a){if(1&n&&t.eu8(0,11),2&n){t.XpG(2);const e=t.sdS(14);t.Y8G("ngTemplateOutlet",e)}}const Vl=function(n,a,e,s){return[n,a,e,s]},Ve=function(n,a){return[n,a]};function Ul(n,a){if(1&n&&(t.j41(0,"div"),t.DNE(1,$l,4,3,"ng-container",1),t.DNE(2,Yl,1,1,"ng-container",2),t.DNE(3,Pl,1,1,"ng-container",2),t.DNE(4,Xl,1,1,"ng-container",2),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",t.ziG(4,Vl,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep)),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.WAIT_TO_TEST_TIME),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CHOOSE_STUDENT),t.R7$(1),t.Y8G("ngIf",t.l_i(9,Ve,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5).includes(e.currentTakeTestStepData.currentStep))}}function ql(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-header-box-for-desktop",22),t.bIt("openQuitDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openQuitDialog.emit())})("changeShowTypeEvent",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(o))})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.showUploadEssayFilesDialog.emit())})("openSubmitExamEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openSubmitExam.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("sAztTestResizeService",e.sAztTestResizeService)("layoutType",e.allTakeTestLayouts.LIST_QUESTION)("isMobileScreenSize",e.isMobileScreenSize)}}function Hl(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-header-box-for-mobile",23),t.bIt("changeShowTypeEvent",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(o))})("openSubmitExamEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openQuitDialog.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("layoutType",e.allTakeTestLayouts.LIST_QUESTION)}}function Wl(n,a){if(1&n&&(t.j41(0,"div",24)(1,"span",25),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_thi_sinh")+": "+e.currentTakeTestStepData.testingUserObj.fullName," ")}}function Jl(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-footer-box-for-mobile",26),t.bIt("changeShowTypeEvent",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(o))})("openSubmitExamEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openQuitDialog.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("layoutType",e.allTakeTestLayouts.LIST_QUESTION)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)}}const Kl=function(n,a){return{"margin-question-bar-for-simple-test-for-desktop":n,"margin-question-bar-for-simple-test-for-mobile":a}},Zl=function(n,a){return{"monitor-screen":n,"monitor-screen-mobile":a}};function tc(n,a){if(1&n&&(t.DNE(0,ql,1,4,"app-coazt-simple-test-header-box-for-desktop",16),t.DNE(1,Hl,1,2,"app-coazt-simple-test-header-box-for-mobile",17),t.j41(2,"div",18),t.nrm(3,"div",19),t.DNE(4,Wl,4,3,"div",20),t.eu8(5,11),t.k0s(),t.DNE(6,Jl,1,3,"app-coazt-simple-test-footer-box-for-mobile",21)),2&n){const e=t.XpG(),s=t.sdS(8);t.Y8G("ngIf",!e.isMobileScreenSize),t.R7$(1),t.Y8G("ngIf",e.isMobileScreenSize),t.R7$(1),t.Y8G("ngClass",t.l_i(7,Kl,!e.isMobileScreenSize,e.isMobileScreenSize)),t.R7$(1),t.Y8G("ngClass",t.l_i(10,Zl,!e.isMobileScreenSize,e.isMobileScreenSize)),t.R7$(1),t.Y8G("ngIf",e.isMobileScreenSize),t.R7$(1),t.Y8G("ngTemplateOutlet",s),t.R7$(1),t.Y8G("ngIf",e.isMobileScreenSize)}}function ec(n,a){if(1&n&&t.nrm(0,"azt-loaded-img",33),2&n){const e=t.XpG(2);t.Y8G("imgSrc",e.currentTakeTestStepData.examObj.examHeader)}}function nc(n,a){if(1&n&&(t.j41(0,"div",34),t.nrm(1,"div",35),t.nI1(2,"safeNormalHtmlContent"),t.k0s()),2&n){const e=t.XpG(2);let s;t.R7$(1),t.Y8G("innerHTML",t.bMT(2,1,null!==(s=null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.header)&&void 0!==s?s:""),t.npT)}}function oc(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",36)(1,"div",37)(2,"azt-question-standalone-for-student-at-full-test",38),t.bIt("setOneChoiceAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setOneChoiceAnswerEmitter.emit(o))})("setTrueFalseAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setTrueFalseAnswerEmitter.emit(o))})("setFillAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setFillAnswerEmitter.emit(o))})("setEssayAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setEssayAnswerEmitter.emit(o))})("setResultTracking",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setResultTracking.emit(o))})("nextQuestionEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.sAztTestNextBackQuestionService.nextTo(i.currentTakeTestStepData,o))})("prevQuestionEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.sAztTestNextBackQuestionService.backTo(i.currentTakeTestStepData,o))})("sendAudioEmit",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.sendAudioForQuestion.emit(o))}),t.k0s()()()}if(2&n){const e=a.$implicit,s=a.index,o=t.XpG(2);t.R7$(1),t.FS9("id","question_all_"+e.id),t.R7$(1),t.Y8G("startQuestionIndex",o.currentTakeTestStepData.examObj.startQuestionIndex)("expandInfo",o.currentTakeTestStepData.examObj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",o.followerRenderQuest)("takeTestLayout",o.allTakeTestLayouts.LIST_QUESTION)("isMobile",o.isMobileScreenSize)("examObj",o.currentTakeTestStepData.examObj)("question",e)("fontSize",o.sAztTestResizeService.fontSize)("overTime",!1)("index",s)}}function sc(n,a){if(1&n&&t.eu8(0,11),2&n){t.XpG(2);const e=t.sdS(12);t.Y8G("ngTemplateOutlet",e)}}function ac(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",27)(1,"div",28)(2,"app-sort-essay-files-box",29),t.bIt("changeAnswerFiles",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.changeAnswerFiles.emit(o))}),t.k0s(),t.DNE(3,ec,1,1,"azt-loaded-img",30),t.DNE(4,nc,3,3,"div",31),t.DNE(5,oc,3,13,"div",32),t.k0s(),t.DNE(6,sc,1,1,"ng-container",2),t.k0s()}if(2&n){const e=t.XpG();t.R7$(2),t.Y8G("answerFiles",e.currentTakeTestStepData.files),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.examObj.examHeader),t.R7$(1),t.Y8G("ngIf",null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.allowHeader),t.R7$(1),t.Y8G("ngForOf",e.currentTakeTestStepData.viewQuestionObjs),t.R7$(1),t.Y8G("ngIf",!e.isMobileScreenSize)}}const ic=function(n){return{joinByExamHashId:n}};function rc(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-join-classroom-box",39),t.bIt("selectStudentEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.selectStudentEvent.emit(o))}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("joinClassroomByType",t.eq3(1,ic,e.currentTakeTestStepData.examObj.hashId))}}function lc(n,a){if(1&n&&t.nrm(0,"app-coazt-list-shortcut-question-box",46),2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("isMobileScreenSize",e.isMobileScreenSize)("layoutType",e.allTakeTestLayouts.LIST_QUESTION)}}function cc(n,a){if(1&n&&(t.j41(0,"div",40,41)(2,"div",42)(3,"div",43)(4,"h3",44),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,lc,1,5,"app-coazt-list-shortcut-question-box",45),t.k0s()()()),2&n){const e=t.sdS(1),s=t.XpG();t.R7$(2),t.BMQ("style","width:"+e.offsetWidth+"px",t.$dS),t.R7$(3),t.SpI(" ",t.bMT(6,3,"lang_auto_danh_sach_cau_hoi")," "),t.R7$(2),t.Y8G("ngIf",s.currentTakeTestStepData.nextBackQuestionModel)}}function _c(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-test-bank-frontend-over-time-of-exam",47),t.bIt("submitTestEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.submitTestToApi.emit(o))}),t.j41(1,"app-coazt-upload-essay-file-at-over-time-box",48),t.bIt("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showUploadEssayFilesDialog.emit())})("changeAnswerFilesEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.changeAnswerFiles.emit(o))}),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)("isMobile",e.isMobileScreenSize)("files",e.currentTakeTestStepData.files)("followerRenderQuest",e.followerRenderQuest)("sAztTestResizeService",e.sAztTestResizeService)("userObj",e.currentTakeTestStepData.testingUserObj),t.R7$(1),t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)}}const uc=function(n){return[n]};function pc(n,a){if(1&n&&(t.j41(0,"div",49)(1,"div",50)(2,"div",51),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",52)(6,"a",53),t.nI1(7,"navigationLocalize"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,3,e.currentTakeTestStepData.errorMessage)),t.R7$(3),t.Y8G("routerLink",t.eq3(9,uc,t.bMT(7,5,e.homeLink))),t.R7$(2),t.JRh(t.bMT(9,7,"lang_auto_quay_lai_trang_chu"))}}function mc(n,a){if(1&n&&t.nrm(0,"app-coazt-wait-to-test-time-box",54),2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("homeLink",e.homeLink)}}function dc(n,a){if(1&n&&t.nrm(0,"app-test-bank-frontend-load-question-error-box",55),2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)}}const gc=function(n,a,e,s,o,i,r,l){return[n,a,e,s,o,i,r,l]};let fc=(()=>{var n;class a extends Ht{}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-test-in-list-layout"]],features:[t.Vt3],decls:21,vars:17,consts:[[3,"currentTakeTestStepData"],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],["mainTakeTestContentTpl",""],["showListQuestionTpl",""],["chooseStudentTpl",""],["listQuestionSelectedInDesktop",""],["overTimeTpl",""],["commonErrorTpl",""],["waitToTestTimeTpl",""],["lstQuestHasErrTpl",""],[3,"ngTemplateOutlet"],[3,"currentStatusObj","customText",4,"ngIf"],[1,"p-0",3,"contextmenu"],[1,"content","relative",2,"padding","0 10px",3,"ngClass"],[3,"currentStatusObj","customText"],[3,"currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize","openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent",4,"ngIf"],[3,"currentTakeTestStepData","layoutType","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[1,"pb-4",3,"ngClass"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["class","p-1 text-center mt-1",4,"ngIf"],[3,"currentTakeTestStepData","layoutType","sAztTestNextBackQuestionService","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[3,"currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize","openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent"],[3,"currentTakeTestStepData","layoutType","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent"],[1,"p-1","text-center","mt-1"],[1,"font-medium"],[3,"currentTakeTestStepData","layoutType","sAztTestNextBackQuestionService","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent"],[1,"grid","grid-cols-12","gap-5","mt-5"],[1,"col-span-12","lg:col-span-9","sm:mt-0"],[3,"answerFiles","changeAnswerFiles"],["id","examHeader","class","mb-1",3,"imgSrc",4,"ngIf"],["class","box p-3 mb-3",4,"ngIf"],["class","mt-2",4,"ngFor","ngForOf"],["id","examHeader",1,"mb-1",3,"imgSrc"],[1,"box","p-3","mb-3"],[2,"line-height","1.5",3,"innerHTML"],[1,"mt-2"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","takeTestLayout","isMobile","examObj","question","fontSize","overTime","index","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],[3,"joinClassroomByType","selectStudentEvent"],[1,"col-span-12","lg:col-span-3","mt-3"],["listQuestionBar",""],[1,"top_gameBar"],[1,"box","p-3"],[1,"text-md","font-medium","mb-3"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType",4,"ngIf"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType"],[3,"currentTakeTestStepData","questsLoadState","backToLink","isMobile","files","followerRenderQuest","sAztTestResizeService","userObj","submitTestEvent"],[3,"currentTakeTestStepData","showUploadEssayFilesDialogEvent","changeAnswerFilesEvent"],[1,"box","pt-6"],[1,"text-center","pb-4"],[1,"block","text-danger","text-center"],[1,"text-center","clickable","mt-2"],["azt-track-service","main-component-_qI7rWD5S",1,"link__color","link__hover",3,"routerLink"],[3,"currentTakeTestStepData","homeLink"],[3,"currentTakeTestStepData","questsLoadState","backToLink"]],template:function(s,o){1&s&&(t.nrm(0,"app-coazt-tracking-full-screen-event",0)(1,"app-coazt-tracking-visible-event",0),t.DNE(2,Dl,1,0,"app-coazt-leave-window-event",1),t.DNE(3,Ml,1,1,"ng-container",2),t.DNE(4,Ul,5,12,"div",1),t.DNE(5,tc,7,13,"ng-template",null,3,t.C5r),t.DNE(7,ac,7,5,"ng-template",null,4,t.C5r),t.DNE(9,rc,1,3,"ng-template",null,5,t.C5r),t.DNE(11,cc,8,5,"ng-template",null,6,t.C5r),t.DNE(13,_c,2,9,"ng-template",null,7,t.C5r),t.DNE(15,pc,10,11,"ng-template",null,8,t.C5r),t.DNE(17,mc,1,2,"ng-template",null,9,t.C5r),t.DNE(19,dc,1,3,"ng-template",null,10,t.C5r)),2&s&&(t.Y8G("currentTakeTestStepData",o.currentTakeTestStepData),t.R7$(1),t.Y8G("currentTakeTestStepData",o.currentTakeTestStepData),t.R7$(1),t.Y8G("ngIf",!t.l_i(5,Ve,o.allTakeTestSteps.START_TEST,o.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST).includes(o.currentTakeTestStepData.currentStep)||o.questsLoadState.startLoad||o.questsLoadState.hasErrs),t.R7$(1),t.Y8G("ngIf",o.currentTakeTestStepData.currentStep==o.allTakeTestSteps.SHOW_ERROR_MESSAGE),t.R7$(1),t.Y8G("ngIf",t.lV(8,gc,o.allTakeTestSteps.WAIT_TO_TEST_TIME,o.allTakeTestSteps.CHOOSE_STUDENT,o.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,o.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5,o.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,o.allTakeTestSteps.SHOW_FULL_SCREEN,o.allTakeTestSteps.SHOW_VIDEO_REQUIRED,o.allTakeTestSteps.START_TEST).includes(o.currentTakeTestStepData.currentStep)))},dependencies:[k.Wk,_.YU,_.Sq,_.bT,_.T3,me.H,j.K,gt.s,Rt,Ft.l,Gt,Dt,Mt,Lt,Qt,Nt,Bt,$t,Zt,ee,Xe,u.F2,u.wp,u._y],styles:[".top_gameBar[_ngcontent-%COMP%]{position:fixed;top:87px;right:10px;min-width:23.5vw}.margin-question-bar-for-simple-test-for-desktop[_ngcontent-%COMP%]{margin-top:calc(3rem + 30px)!important}.margin-question-bar-for-simple-test-for-mobile[_ngcontent-%COMP%]{margin-top:calc(3rem + 27px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)!important}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.container-content-mobile[_ngcontent-%COMP%]{padding-bottom:400px!important}.container-content-desktop[_ngcontent-%COMP%]{padding-bottom:20px!important}"]}),a})();function Tc(n,a){1&n&&t.nrm(0,"app-coazt-leave-window-event")}function hc(n,a){if(1&n&&t.eu8(0,11),2&n){t.XpG();const e=t.sdS(16);t.Y8G("ngTemplateOutlet",e)}}const bc=function(n,a){return{"container-content-mobile":n,"container-content-desktop":a}};function Sc(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",13),t.bIt("contextmenu",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.allowContextMenu)}),t.j41(2,"div",14),t.eu8(3,11),t.k0s()(),t.bVm()}if(2&n){const e=t.XpG(3),s=t.sdS(6);t.R7$(2),t.Y8G("ngClass",t.l_i(2,bc,e.isMobileScreenSize,!e.isMobileScreenSize)),t.R7$(1),t.Y8G("ngTemplateOutlet",s)}}function xc(n,a){if(1&n&&(t.nrm(0,"azt-loading-effect",15),t.nI1(1,"mytranslate")),2&n){const e=t.XpG(3);t.Y8G("currentStatusObj",e.statusObj)("customText",t.bMT(1,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function kc(n,a){if(1&n&&t.eu8(0,11),2&n){t.XpG(3);const e=t.sdS(20);t.Y8G("ngTemplateOutlet",e)}}function vc(n,a){if(1&n&&(t.qex(0),t.DNE(1,Sc,4,5,"ng-container",1),t.DNE(2,xc,2,4,"azt-loading-effect",12),t.DNE(3,kc,1,1,"ng-container",2),t.bVm()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngIf",!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.R7$(1),t.Y8G("ngIf",e.questsLoadState.startLoad),t.R7$(1),t.Y8G("ngIf",!e.questsLoadState.startLoad&&e.questsLoadState.hasErrs)}}function Cc(n,a){if(1&n&&t.eu8(0,11),2&n){t.XpG(2);const e=t.sdS(18);t.Y8G("ngTemplateOutlet",e)}}function wc(n,a){if(1&n&&t.eu8(0,11),2&n){t.XpG(2);const e=t.sdS(10);t.Y8G("ngTemplateOutlet",e)}}function Ic(n,a){if(1&n&&t.eu8(0,11),2&n){t.XpG(2);const e=t.sdS(14);t.Y8G("ngTemplateOutlet",e)}}const Oc=function(n,a,e,s){return[n,a,e,s]},Ue=function(n,a){return[n,a]};function Ec(n,a){if(1&n&&(t.j41(0,"div"),t.DNE(1,vc,4,3,"ng-container",1),t.DNE(2,Cc,1,1,"ng-container",2),t.DNE(3,wc,1,1,"ng-container",2),t.DNE(4,Ic,1,1,"ng-container",2),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",t.ziG(4,Oc,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep)),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.WAIT_TO_TEST_TIME),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CHOOSE_STUDENT),t.R7$(1),t.Y8G("ngIf",t.l_i(9,Ue,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5).includes(e.currentTakeTestStepData.currentStep))}}function yc(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-header-box-for-desktop",22),t.bIt("openQuitDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openQuitDialog.emit())})("changeShowTypeEvent",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(o))})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.showUploadEssayFilesDialog.emit())})("openSubmitExamEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openSubmitExam.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("sAztTestResizeService",e.sAztTestResizeService)("layoutType",e.allTakeTestLayouts.STEP_QUESTION)("isMobileScreenSize",e.isMobileScreenSize)}}function Ac(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-header-box-for-mobile",23),t.bIt("changeShowTypeEvent",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(o))})("openSubmitExamEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openQuitDialog.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("layoutType",e.allTakeTestLayouts.STEP_QUESTION)}}function zc(n,a){if(1&n&&(t.j41(0,"div",24)(1,"span",25),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_thi_sinh")+": "+e.currentTakeTestStepData.testingUserObj.fullName," ")}}function jc(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-footer-box-for-mobile",26),t.bIt("changeShowTypeEvent",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(o))})("openSubmitExamEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openQuitDialog.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("layoutType",e.allTakeTestLayouts.STEP_QUESTION)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)}}const Rc=function(n,a){return{"margin-question-bar-for-simple-test-for-desktop":n,"margin-question-bar-for-simple-test-for-mobile":a}},Fc=function(n,a){return{"monitor-screen":n,"monitor-screen-mobile":a}};function Gc(n,a){if(1&n&&(t.DNE(0,yc,1,4,"app-coazt-simple-test-header-box-for-desktop",16),t.DNE(1,Ac,1,2,"app-coazt-simple-test-header-box-for-mobile",17),t.j41(2,"div",18),t.nrm(3,"div",19),t.DNE(4,zc,4,3,"div",20),t.eu8(5,11)(6,11),t.k0s(),t.DNE(7,jc,1,3,"app-coazt-simple-test-footer-box-for-mobile",21)),2&n){const e=t.XpG(),s=t.sdS(8),o=t.sdS(12);t.Y8G("ngIf",!e.isMobileScreenSize),t.R7$(1),t.Y8G("ngIf",e.isMobileScreenSize),t.R7$(1),t.Y8G("ngClass",t.l_i(8,Rc,!e.isMobileScreenSize,e.isMobileScreenSize)),t.R7$(1),t.Y8G("ngClass",t.l_i(11,Fc,!e.isMobileScreenSize,e.isMobileScreenSize)),t.R7$(1),t.Y8G("ngIf",e.isMobileScreenSize),t.R7$(1),t.Y8G("ngTemplateOutlet",s),t.R7$(1),t.Y8G("ngTemplateOutlet",o),t.R7$(1),t.Y8G("ngIf",e.isMobileScreenSize)}}function Dc(n,a){if(1&n&&(t.j41(0,"div",29),t.nrm(1,"div",30),t.nI1(2,"safeNormalHtmlContent"),t.k0s()),2&n){const e=t.XpG(2);let s;t.R7$(1),t.Y8G("innerHTML",t.bMT(2,1,null!==(s=null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.header)&&void 0!==s?s:""),t.npT)}}function Mc(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",32)(1,"div",33)(2,"azt-question-standalone-for-student-at-full-test",34),t.bIt("setOneChoiceAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setOneChoiceAnswerEmitter.emit(o))})("setTrueFalseAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setTrueFalseAnswerEmitter.emit(o))})("setFillAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setFillAnswerEmitter.emit(o))})("setEssayAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setEssayAnswerEmitter.emit(o))})("setResultTracking",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setResultTracking.emit(o))})("nextQuestionEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sAztTestNextBackQuestionService.nextTo(i.currentTakeTestStepData,o))})("prevQuestionEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sAztTestNextBackQuestionService.backTo(i.currentTakeTestStepData,o))})("sendAudioEmit",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sendAudioForQuestion.emit(o))}),t.k0s()()()}if(2&n){const e=a.$implicit,s=a.index,o=a.last,i=t.XpG(3);t.R7$(1),t.FS9("id","question_"+e.id),t.Y8G("hidden",s!=i.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex),t.R7$(1),t.Y8G("startQuestionIndex",i.currentTakeTestStepData.examObj.startQuestionIndex)("expandInfo",i.currentTakeTestStepData.examObj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",i.followerRenderQuest)("takeTestLayout",i.allTakeTestLayouts.STEP_QUESTION)("isMobile",i.isMobileScreenSize)("examObj",i.currentTakeTestStepData.examObj)("question",e)("index",s)("last",o)("overTime",!1)("fontSize",i.sAztTestResizeService.fontSize)("questionListLength",i.currentTakeTestStepData.viewQuestionObjs.length)}}function Lc(n,a){if(1&n&&(t.qex(0),t.DNE(1,Mc,3,16,"div",31),t.bVm()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",e.currentTakeTestStepData.viewQuestionObjs)}}function Qc(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-sort-essay-files-box",27),t.bIt("changeAnswerFiles",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.changeAnswerFiles.emit(o))}),t.k0s(),t.DNE(1,Dc,3,3,"div",28),t.DNE(2,Lc,2,1,"ng-container",1)}if(2&n){const e=t.XpG();t.Y8G("answerFiles",e.currentTakeTestStepData.files),t.R7$(1),t.Y8G("ngIf",null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.allowHeader),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel)}}const Nc=function(n){return{joinByExamHashId:n}};function Bc(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-join-classroom-box",35),t.bIt("selectStudentEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.selectStudentEvent.emit(o))}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("joinClassroomByType",t.eq3(1,Nc,e.currentTakeTestStepData.examObj.hashId))}}function $c(n,a){if(1&n&&t.nrm(0,"app-coazt-list-shortcut-question-box",38),2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("isMobileScreenSize",e.isMobileScreenSize)("layoutType",e.allTakeTestLayouts.STEP_QUESTION)}}function Yc(n,a){if(1&n&&(t.j41(0,"div",36),t.DNE(1,$c,1,5,"app-coazt-list-shortcut-question-box",37),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel)}}function Pc(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-test-bank-frontend-over-time-of-exam",39),t.bIt("submitTestEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.submitTestToApi.emit(o))}),t.j41(1,"app-coazt-upload-essay-file-at-over-time-box",40),t.bIt("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showUploadEssayFilesDialog.emit())})("changeAnswerFilesEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.changeAnswerFiles.emit(o))}),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)("isMobile",e.isMobileScreenSize)("files",e.currentTakeTestStepData.files)("followerRenderQuest",e.followerRenderQuest)("sAztTestResizeService",e.sAztTestResizeService)("userObj",e.currentTakeTestStepData.testingUserObj),t.R7$(1),t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)}}const Xc=function(n){return[n]};function Vc(n,a){if(1&n&&(t.j41(0,"div",41)(1,"div",42)(2,"div",43),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",44)(6,"a",45),t.nI1(7,"navigationLocalize"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,3,e.currentTakeTestStepData.errorMessage)),t.R7$(3),t.Y8G("routerLink",t.eq3(9,Xc,t.bMT(7,5,e.homeLink))),t.R7$(2),t.JRh(t.bMT(9,7,"lang_auto_quay_lai_trang_chu"))}}function Uc(n,a){if(1&n&&t.nrm(0,"app-coazt-wait-to-test-time-box",46),2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("homeLink",e.homeLink)}}function qc(n,a){if(1&n&&t.nrm(0,"app-test-bank-frontend-load-question-error-box",47),2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)}}const Hc=function(n,a,e,s,o,i,r,l){return[n,a,e,s,o,i,r,l]};let Wc=(()=>{var n;class a extends Ht{}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-test-in-step-layout"]],features:[t.Vt3],decls:21,vars:17,consts:[[3,"currentTakeTestStepData"],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],["mainTakeTestContentTpl",""],["showStepQuestionTpl",""],["chooseStudentTpl",""],["listQuestionsSelectedInMobile",""],["overTimeTpl",""],["commonErrorTpl",""],["waitToTestTimeTpl",""],["lstQuestHasErrTpl",""],[3,"ngTemplateOutlet"],[3,"currentStatusObj","customText",4,"ngIf"],[1,"p-0",3,"contextmenu"],[1,"content","relative",2,"padding","0 10px",3,"ngClass"],[3,"currentStatusObj","customText"],[3,"currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize","openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent",4,"ngIf"],[3,"currentTakeTestStepData","layoutType","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[1,"pb-4",3,"ngClass"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["class","p-1 text-center mt-1",4,"ngIf"],[3,"currentTakeTestStepData","layoutType","sAztTestNextBackQuestionService","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[3,"currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize","openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent"],[3,"currentTakeTestStepData","layoutType","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent"],[1,"p-1","text-center","mt-1"],[1,"font-medium"],[3,"currentTakeTestStepData","layoutType","sAztTestNextBackQuestionService","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent"],[3,"answerFiles","changeAnswerFiles"],["class","box p-3 mb-3",4,"ngIf"],[1,"box","p-3","mb-3"],[2,"line-height","1.5",3,"innerHTML"],["class","mt-4","style","animation-delay: 0.05s",4,"ngFor","ngForOf"],[1,"mt-4",2,"animation-delay","0.05s"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id","hidden"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","takeTestLayout","isMobile","examObj","question","index","last","overTime","fontSize","questionListLength","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],[3,"joinClassroomByType","selectStudentEvent"],[1,"box","p-3"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType",4,"ngIf"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType"],[3,"currentTakeTestStepData","questsLoadState","backToLink","isMobile","files","followerRenderQuest","sAztTestResizeService","userObj","submitTestEvent"],[3,"currentTakeTestStepData","showUploadEssayFilesDialogEvent","changeAnswerFilesEvent"],[1,"box","pt-6"],[1,"text-center","pb-4"],[1,"block","text-danger","text-center"],[1,"text-center","clickable","mt-2"],["azt-track-service","main-component-_qI7rWD5S",1,"link__color","link__hover",3,"routerLink"],[3,"currentTakeTestStepData","homeLink"],[3,"currentTakeTestStepData","questsLoadState","backToLink"]],template:function(s,o){1&s&&(t.nrm(0,"app-coazt-tracking-full-screen-event",0)(1,"app-coazt-tracking-visible-event",0),t.DNE(2,Tc,1,0,"app-coazt-leave-window-event",1),t.DNE(3,hc,1,1,"ng-container",2),t.DNE(4,Ec,5,12,"div",1),t.DNE(5,Gc,8,14,"ng-template",null,3,t.C5r),t.DNE(7,Qc,3,3,"ng-template",null,4,t.C5r),t.DNE(9,Bc,1,3,"ng-template",null,5,t.C5r),t.DNE(11,Yc,2,1,"ng-template",null,6,t.C5r),t.DNE(13,Pc,2,9,"ng-template",null,7,t.C5r),t.DNE(15,Vc,10,11,"ng-template",null,8,t.C5r),t.DNE(17,Uc,1,2,"ng-template",null,9,t.C5r),t.DNE(19,qc,1,3,"ng-template",null,10,t.C5r)),2&s&&(t.Y8G("currentTakeTestStepData",o.currentTakeTestStepData),t.R7$(1),t.Y8G("currentTakeTestStepData",o.currentTakeTestStepData),t.R7$(1),t.Y8G("ngIf",!t.l_i(5,Ue,o.allTakeTestSteps.START_TEST,o.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST).includes(o.currentTakeTestStepData.currentStep)||o.questsLoadState.startLoad||o.questsLoadState.hasErrs),t.R7$(1),t.Y8G("ngIf",o.currentTakeTestStepData.currentStep==o.allTakeTestSteps.SHOW_ERROR_MESSAGE),t.R7$(1),t.Y8G("ngIf",t.lV(8,Hc,o.allTakeTestSteps.WAIT_TO_TEST_TIME,o.allTakeTestSteps.CHOOSE_STUDENT,o.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,o.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5,o.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,o.allTakeTestSteps.SHOW_FULL_SCREEN,o.allTakeTestSteps.SHOW_VIDEO_REQUIRED,o.allTakeTestSteps.START_TEST).includes(o.currentTakeTestStepData.currentStep)))},dependencies:[k.Wk,_.YU,_.Sq,_.bT,_.T3,j.K,gt.s,Rt,Ft.l,Gt,Dt,Mt,Lt,Qt,Nt,Bt,$t,Zt,ee,Xe,u.F2,u.wp,u._y],styles:[".margin-question-bar-for-simple-test-for-desktop[_ngcontent-%COMP%], .margin-question-bar-for-simple-test-for-mobile[_ngcontent-%COMP%]{margin-top:calc(3rem + 24px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)!important}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.container-content-mobile[_ngcontent-%COMP%]{padding-bottom:400px!important}.container-content-desktop[_ngcontent-%COMP%]{padding-bottom:20px!important}"]}),a})();const Jc=function(n){return{"bg-primary/10":n}},Kc=function(n){return{"text-primary":n}};function Zc(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",18)(1,"a",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG().index,i=t.XpG();return t.Njj(i.setQuestionInGroup(o))}),t.j41(2,"div",20)(3,"div",21)(4,"div",22),t.EFF(5),t.k0s()(),t.j41(6,"div",23)(7,"div",24),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"div",25),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()()()()}if(2&n){const e=t.XpG(),s=e.index,o=e.$implicit,i=t.XpG();t.Y8G("ngClass",t.eq3(14,Jc,s===i.indexGroup)),t.R7$(1),t.FS9("id","azt_group_"+o.groupId),t.R7$(1),t.Y8G("ngClass",t.eq3(16,Kc,s===i.indexGroup)),t.R7$(1),t.tcI("background: conic-gradient(#1e40afe6 ",o.totalCompletedQuestion/o.totalQuestion*100,"%, #e2e8f0 ",o.totalCompletedQuestion/o.totalQuestion*100,"%)"),t.R7$(2),t.SpI(" ",o.totalCompletedQuestion+"/"+o.totalQuestion," "),t.R7$(3),t.SpI(" ",t.bMT(9,10,"lang_auto_nhom")+" "+(s+1)," "),t.R7$(3),t.SpI(" ",o.totalQuestion+" "+t.bMT(12,12,"lang_notice_question")," ")}}function t_(n,a){if(1&n&&(t.qex(0),t.DNE(1,Zc,13,18,"div",17),t.bVm()),2&n){const e=a.$implicit;t.R7$(1),t.Y8G("ngIf",e&&(null==e||null==e.questionList?null:e.questionList.length))}}const qe=function(){return{"mr-2":!0}};function e_(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",26),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.prevIndexGroup())}),t.nrm(1,"lucide-icon",27),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngClass",t.lJ4(6,qe)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_auto_nhom")+" "+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup-1].groupId+" ("+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup-1].totalQuestion+" "+t.bMT(5,4,"lang_auto_cau_thuong")+")","")}}const n_=function(){return{"ml-2":!0}};function o_(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",28),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.nextIndexGroup())}),t.j41(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s(),t.nrm(5,"lucide-icon",29),t.k0s()}if(2&n){const e=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_nhom")+" "+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1].groupId+" ("+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1].totalQuestion+" "+t.bMT(4,4,"lang_auto_cau_thuong")+")",""),t.R7$(3),t.Y8G("ngClass",t.lJ4(6,n_))}}function s_(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",30),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.submitExamEvent.emit())}),t.nrm(1,"lucide-icon",31),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,qe)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_nop_bai")," "))}const a_=function(n,a){return{"btn-primary-soft":n,"btn-outline-secondary":a}};function i_(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",32),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.goToQuestionEvent.emit(i.id))}),t.j41(1,"span",33),t.EFF(2),t.k0s()()}if(2&n){const e=a.$implicit,s=t.XpG();let o;t.Y8G("ngClass",t.l_i(2,a_,e.status,!e.status)),t.R7$(2),t.SpI(" ",(null!==(o=null!=(null==e?null:e.labelIndex)?e.labelIndex:null!==(o=e.startQuestionIndexWidthViewGroup)&&void 0!==o?o:0)&&void 0!==o?o:0)+(null!==(o=s.currentTakeTestStepData.examObj.startQuestionIndex)&&void 0!==o?o:1)," ")}}const r_=function(){return{"transition-3":!0}};let l_=(()=>{var n;class a extends b.H{nextIndexGroup(){this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup+1]&&(this.scrollable.scrollToElement(`#azt_group_${this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup+1].groupId}`),this.nextIndexGroupEvent.emit())}prevIndexGroup(){this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup-1]&&(this.scrollable.scrollToElement(`#azt_group_${this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup-1].groupId}`),this.prevIndexGroupEvent.emit())}setQuestionInGroup(s){this.indexGroup!==s&&this.currentTakeTestStepData.viewQuestionInGroupList[s]&&(this.scrollable.scrollToElement(`#azt_group_${this.currentTakeTestStepData.viewQuestionInGroupList[s].groupId}`,{left:this.indexGroup<s?-20:-150}),this.setQuestionInGroupEvent.emit(s))}constructor(){super(),this.setQuestionInGroupEvent=new t.bkB,this.toggleShowListQuestionInGroupEvent=new t.bkB,this.prevIndexGroupEvent=new t.bkB,this.nextIndexGroupEvent=new t.bkB,this.submitExamEvent=new t.bkB,this.goToQuestionEvent=new t.bkB}ngOnInit(){}}return(n=a).\u0275fac=function(s){return new(s||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-simple-test-footer-box-for-group-layout"]],viewQuery:function(s,o){if(1&s&&t.GBs(g.Yh,7),2&s){let i;t.mGM(i=t.lsd())&&(o.scrollable=i.first)}},inputs:{currentTakeTestStepData:"currentTakeTestStepData",indexGroup:"indexGroup",layoutType:"layoutType"},outputs:{setQuestionInGroupEvent:"setQuestionInGroupEvent",toggleShowListQuestionInGroupEvent:"toggleShowListQuestionInGroupEvent",prevIndexGroupEvent:"prevIndexGroupEvent",nextIndexGroupEvent:"nextIndexGroupEvent",submitExamEvent:"submitExamEvent",goToQuestionEvent:"goToQuestionEvent"},features:[t.Vt3],decls:19,vars:9,consts:[[1,"box","fixed","w-full","bottom-0","left-0","rounded-none","border-t","border-slate-200","z-999"],[1,"flex","items-center"],[1,"flex","items-center","mr-auto"],[1,"h-full","box-group-question"],["track","all","pointerEventsMethod","scrollbar",3,"visibility"],["scrollbarRef",""],[1,"flex","items-center","p-2","user-select-none"],[4,"ngFor","ngForOf"],[1,"ml-auto","flex","itemcs-center","p-3"],["azt-track-service","take-test-in-group-layout-xO-By9VnKm",1,"btn","btn-outline-secondary","border-3","rounded-full","p-3","mr-3","w-10","h-10",3,"click"],["name","chevron-up","size","16",3,"ngClass"],["azt-track-service","take-test-in-group-layout-V5eoQGwsJZ","class","btn btn-outline-primary mr-3",3,"click",4,"ngIf"],["azt-track-service","take-test-in-group-layout-RNRQEspWcj","class","btn btn-outline-primary",3,"click",4,"ngIf"],["azt-track-service","take-test-in-group-layout-9--9DqoAy_","class","btn btn-primary",3,"click",4,"ngIf"],["id","contentBlock",1,"shadow","border-t","border-slate-200/60","px-3","pb-3","questionListInGroup"],[1,"mt-0"],["azt-track-service","take-test-in-group-layout-2fFqi7pOaJ","class","btn p-4 border-slate-300 dark:border-darkmode-400 relative mr-3 mt-3 user-select-none","style","width: 55px; height: 30px;",3,"ngClass","click",4,"ngFor","ngForOf"],["class","p-1 mr-5 rounded-md",3,"ngClass",4,"ngIf"],[1,"p-1","mr-5","rounded-md",3,"ngClass"],["azt-track-service","take-test-in-group-layout-Go4BLT6di",1,"cursor-pointer",3,"id","click"],[1,"flex","items-center","transition-3",3,"ngClass"],[1,"azt-progress-circle"],[1,"azt-progress-value","text-xs","font-medium"],[1,"ml-2","whitespace-nowrap"],[1,"font-medium","uppercase"],[1,"text-upercase","text-xs"],["azt-track-service","take-test-in-group-layout-V5eoQGwsJZ",1,"btn","btn-outline-primary","mr-3",3,"click"],["name","move-left","size","16",3,"ngClass"],["azt-track-service","take-test-in-group-layout-RNRQEspWcj",1,"btn","btn-outline-primary",3,"click"],["name","move-right","size","16",3,"ngClass"],["azt-track-service","take-test-in-group-layout-9--9DqoAy_",1,"btn","btn-primary",3,"click"],["name","file-pen-line","size","16",3,"ngClass"],["azt-track-service","take-test-in-group-layout-2fFqi7pOaJ",1,"btn","p-4","border-slate-300","dark:border-darkmode-400","relative","mr-3","mt-3","user-select-none",2,"width","55px","height","30px",3,"ngClass","click"],[1,"absolute","absolute-center"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ng-scrollbar",4,5)(6,"div",6),t.DNE(7,t_,2,1,"ng-container",7),t.k0s()()()(),t.j41(8,"div",8)(9,"button",9),t.bIt("click",function(){return o.toggleShowListQuestionInGroupEvent.emit()}),t.nrm(10,"lucide-icon",10),t.k0s(),t.DNE(11,e_,6,7,"button",11),t.DNE(12,o_,6,7,"button",12),t.DNE(13,s_,4,5,"button",13),t.k0s()(),t.j41(14,"div",14)(15,"ng-scrollbar",4,5)(17,"div",15),t.DNE(18,i_,3,5,"button",16),t.k0s()()()()),2&s&&(t.R7$(4),t.Y8G("visibility","always"),t.R7$(3),t.Y8G("ngForOf",o.currentTakeTestStepData.viewQuestionInGroupList),t.R7$(3),t.Y8G("ngClass",t.lJ4(8,r_)),t.R7$(1),t.Y8G("ngIf",o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup-1]),t.R7$(1),t.Y8G("ngIf",o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup+1]),t.R7$(1),t.Y8G("ngIf",!o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup+1]),t.R7$(2),t.Y8G("visibility","always"),t.R7$(3),t.Y8G("ngForOf",null==o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup]?null:o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup].questionList))},dependencies:[_.YU,_.Sq,_.bT,d.WGl,g.Yh,u.wp],styles:[".border-3[_ngcontent-%COMP%]{border-width:3px}.transition-3[_ngcontent-%COMP%]{transition:all .3s}.mt-55px[_ngcontent-%COMP%]{margin-top:55px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.border-color-primary[_ngcontent-%COMP%]{border-color:rgb(var(--color-primary)/var(--tw-text-opacity))}.absolute-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.azt-progress-circle[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem;border-radius:50%;display:grid;place-items:center;animation:.4s ease-out reverse;transition:all .5s}.azt-progress-value[_ngcontent-%COMP%]{display:block;height:calc(100% - 6px);width:calc(100% - 6px);background-color:#fff;border-radius:50%;display:grid;place-items:center;transition:all .5s}.questionListInGroup[_ngcontent-%COMP%]{height:60px;max-height:60px;transition:max-height .3s ease-out}.box-group-question[_ngcontent-%COMP%]{width:calc(100vw - 600px);height:64px}  .dark .azt-progress-value{background-color:#28334e}"]}),a})();const c_=function(n){return{"text-primary":n}};function __(n,a){if(1&n){const e=t.RV6();t.j41(0,"li")(1,"a",24),t.bIt("click",function(){const i=t.eBV(e).index,r=t.XpG();return t.Njj(r.setQuestionInGroupEvent.emit(i))}),t.j41(2,"div",25)(3,"div",7)(4,"div",8),t.EFF(5),t.k0s()(),t.j41(6,"div",9)(7,"div",10),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"div",11),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()()()()}if(2&n){const e=a.$implicit,s=a.index,o=t.XpG();t.R7$(1),t.FS9("id","azt_group_"+e.groupId),t.R7$(1),t.Y8G("ngClass",t.eq3(13,c_,s===o.indexGroup)),t.R7$(1),t.tcI("background: conic-gradient(#1e40afe6 ",e.totalCompletedQuestion/e.totalQuestion*100,"%, #e2e8f0 ",e.totalCompletedQuestion/e.totalQuestion*100,"%)"),t.R7$(2),t.SpI(" ",e.totalCompletedQuestion+"/"+e.totalQuestion," "),t.R7$(3),t.SpI(" ",t.bMT(9,9,"lang_auto_nhom")+" "+(s+1)," "),t.R7$(3),t.SpI(" ",e.totalQuestion+" "+t.bMT(12,11,"lang_notice_question")," ")}}const u_=function(n,a){return{"rotate-180deg":n,"rotate-0":a}};let p_=(()=>{var n;class a extends b.H{nextIndexGroup(){this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup+1]&&(this.scrollable.scrollToElement(`#azt_group_${this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup+1].groupId}`),this.nextIndexGroupEvent.emit())}prevIndexGroup(){this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup-1]&&(this.scrollable.scrollToElement(`#azt_group_${this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup-1].groupId}`),this.prevIndexGroupEvent.emit())}constructor(){super(),this.setQuestionInGroupEvent=new t.bkB,this.toggleShowListQuestionInGroupEvent=new t.bkB,this.prevIndexGroupEvent=new t.bkB,this.nextIndexGroupEvent=new t.bkB,this.submitExamEvent=new t.bkB,this.goToQuestionEvent=new t.bkB,this.changeShowTypeEvent=new t.bkB,this.openSubmitExamEvent=new t.bkB,this.showUploadEssayFilesDialogEvent=new t.bkB,this.openQuitDialogEvent=new t.bkB,this.allTakeTestLayouts=R}ngOnInit(){}}return(n=a).\u0275fac=function(s){return new(s||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-simple-test-footer-box-for-group-layout-mobile"]],viewQuery:function(s,o){if(1&s&&t.GBs(g.Yh,7),2&s){let i;t.mGM(i=t.lsd())&&(o.scrollable=i.first)}},inputs:{currentTakeTestStepData:"currentTakeTestStepData",indexGroup:"indexGroup",layoutType:"layoutType",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService"},outputs:{setQuestionInGroupEvent:"setQuestionInGroupEvent",toggleShowListQuestionInGroupEvent:"toggleShowListQuestionInGroupEvent",prevIndexGroupEvent:"prevIndexGroupEvent",nextIndexGroupEvent:"nextIndexGroupEvent",submitExamEvent:"submitExamEvent",goToQuestionEvent:"goToQuestionEvent",changeShowTypeEvent:"changeShowTypeEvent",openSubmitExamEvent:"openSubmitExamEvent",showUploadEssayFilesDialogEvent:"showUploadEssayFilesDialogEvent",openQuitDialogEvent:"openQuitDialogEvent"},features:[t.Vt3],decls:30,vars:22,consts:[[1,"box","fixed","w-full","bottom-0","left-0","rounded-none","border-t","border-slate-200","z-999"],[1,"flex","items-center"],[1,"p-2","mr-auto"],[1,"py-1","px-3","mr-5","rounded-md","bg-primary/10"],[1,"cursor-pointer",3,"id","matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],[1,"flex","items-center","transition-3","text-primary"],[1,"azt-progress-circle"],[1,"azt-progress-value","text-xs","font-medium"],[1,"ml-2","whitespace-nowrap"],[1,"font-medium","uppercase"],[1,"text-upercase","text-xs"],[1,"ml-2","transition-3",3,"ngClass"],["name","chevron-down","size","20"],[1,"ml-3","pr-2"],[1,"btn","btn-outline-secondary","rounded-full","h-48px","w-48px",3,"matMenuTriggerFor"],["name","layout-grid","size","20"],["xPosition","before"],["questionGroupListMenu","matMenu"],[1,"dropdown-menu","show","white-scroll","relative","w-64","mb-2"],[1,"dropdown-content","max-height-400px","overflow-auto","custom-scroll"],[4,"ngFor","ngForOf"],["actionMenu","matMenu"],[3,"currentTakeTestStepData","layoutType","sAztTestNextBackQuestionService","submitExamEvent","goToQuestionEvent","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent"],["azt-track-service","simple-test-footer-box-for-group-layout-mobile-ka0g-91UQ",1,"cursor-pointer","dropdown-item",3,"id","click"],[1,"flex","items-center","transition-3",3,"ngClass"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4,5)(6,"div",6)(7,"div",7)(8,"div",8),t.EFF(9),t.k0s()(),t.j41(10,"div",9)(11,"div",10),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"div",11),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",12),t.nrm(18,"lucide-icon",13),t.k0s()()()()(),t.j41(19,"div",14)(20,"button",15),t.nrm(21,"lucide-icon",16),t.k0s()()()(),t.j41(22,"mat-menu",17,18)(24,"div",19)(25,"ul",20),t.DNE(26,__,13,15,"li",21),t.k0s()()(),t.j41(27,"mat-menu",17,22)(29,"app-coazt-simple-test-menu-bar",23),t.bIt("submitExamEvent",function(){return o.submitExamEvent.emit()})("goToQuestionEvent",function(r){return o.goToQuestionEvent.emit(r)})("changeShowTypeEvent",function(r){return o.changeShowTypeEvent.emit(r)})("openSubmitExamEvent",function(){return o.openSubmitExamEvent.emit()})("showUploadEssayFilesDialogEvent",function(){return o.showUploadEssayFilesDialogEvent.emit()})("openQuitDialogEvent",function(){return o.openQuitDialogEvent.emit()}),t.k0s()()),2&s){const i=t.sdS(5),r=t.sdS(23),l=t.sdS(28);t.R7$(4),t.FS9("id","azt_group_"+o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup].groupId),t.Y8G("matMenuTriggerFor",r),t.R7$(3),t.tcI("background: conic-gradient(#1e40afe6 ",o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup].totalCompletedQuestion/o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup].totalQuestion*100,"%, #e2e8f0 ",o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup].totalCompletedQuestion/o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup].totalQuestion*100,"%)"),t.R7$(2),t.SpI(" ",o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup].totalCompletedQuestion+"/"+o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup].totalQuestion," "),t.R7$(3),t.SpI(" ",t.bMT(13,15,"lang_auto_nhom")+" "+(o.indexGroup+1)," "),t.R7$(3),t.SpI(" ",o.currentTakeTestStepData.viewQuestionInGroupList[o.indexGroup].totalQuestion+" "+t.bMT(16,17,"lang_notice_question")," "),t.R7$(2),t.Y8G("ngClass",t.l_i(19,u_,i.menuOpen,!i.menuOpen)),t.R7$(3),t.Y8G("matMenuTriggerFor",l),t.R7$(6),t.Y8G("ngForOf",o.currentTakeTestStepData.viewQuestionInGroupList),t.R7$(3),t.Y8G("currentTakeTestStepData",o.currentTakeTestStepData)("layoutType",o.allTakeTestLayouts.GROUP_QUESTION)("sAztTestNextBackQuestionService",o.sAztTestNextBackQuestionService)}},dependencies:[_.YU,_.Sq,B.kk,B.Cp,d.WGl,Pe,u.wp],styles:[".border-3[_ngcontent-%COMP%]{border-width:3px}.transition-3[_ngcontent-%COMP%]{transition:all .3s}.mt-55px[_ngcontent-%COMP%]{margin-top:55px}.h-55px[_ngcontent-%COMP%]{height:55px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.border-color-primary[_ngcontent-%COMP%]{border-color:rgb(var(--color-primary)/var(--tw-text-opacity))}.absolute-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.azt-progress-circle[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem;border-radius:50%;display:grid;place-items:center;animation:.4s ease-out reverse;transition:all .5s}.azt-progress-value[_ngcontent-%COMP%]{display:block;height:calc(100% - 6px);width:calc(100% - 6px);background-color:#fff;border-radius:50%;display:grid;place-items:center;transition:all .5s}.questionListInGroup[_ngcontent-%COMP%]{max-height:60px;transition:max-height .3s ease-out}.box-group-question[_ngcontent-%COMP%]{width:100vw;height:64px}.max-height-400px[_ngcontent-%COMP%]{max-height:400px}.h-48px[_ngcontent-%COMP%]{height:48px}.w-48px[_ngcontent-%COMP%]{width:48px}  .dark .azt-progress-value{background-color:#28334e}.rotate-180deg[_ngcontent-%COMP%]{transform:rotate(-180deg)}.rotate-0[_ngcontent-%COMP%]{transform:rotate(0)}"]}),a})();function m_(n,a){1&n&&t.nrm(0,"app-coazt-leave-window-event")}function d_(n,a){if(1&n&&t.eu8(0,14),2&n){t.XpG();const e=t.sdS(22);t.Y8G("ngTemplateOutlet",e)}}const g_=function(n,a){return{"container-content-mobile":n,"container-content-desktop":a}};function f_(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",16),t.bIt("contextmenu",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.allowContextMenu)}),t.j41(2,"div",17),t.eu8(3,14),t.k0s()(),t.bVm()}if(2&n){const e=t.XpG(3),s=t.sdS(6);t.R7$(2),t.Y8G("ngClass",t.l_i(2,g_,e.isMobileScreenSize,!e.isMobileScreenSize)),t.R7$(1),t.Y8G("ngTemplateOutlet",s)}}function T_(n,a){if(1&n&&(t.nrm(0,"azt-loading-effect",18),t.nI1(1,"mytranslate")),2&n){const e=t.XpG(3);t.Y8G("currentStatusObj",e.statusObj)("customText",t.bMT(1,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function h_(n,a){if(1&n&&t.eu8(0,14),2&n){t.XpG(3);const e=t.sdS(26);t.Y8G("ngTemplateOutlet",e)}}function b_(n,a){if(1&n&&(t.qex(0),t.DNE(1,f_,4,5,"ng-container",1),t.DNE(2,T_,2,4,"azt-loading-effect",15),t.DNE(3,h_,1,1,"ng-container",2),t.bVm()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngIf",!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.R7$(1),t.Y8G("ngIf",e.questsLoadState.startLoad),t.R7$(1),t.Y8G("ngIf",!e.questsLoadState.startLoad&&e.questsLoadState.hasErrs)}}function S_(n,a){if(1&n&&t.eu8(0,14),2&n){t.XpG(2);const e=t.sdS(24);t.Y8G("ngTemplateOutlet",e)}}function x_(n,a){if(1&n&&t.eu8(0,14),2&n){t.XpG(2);const e=t.sdS(14);t.Y8G("ngTemplateOutlet",e)}}function k_(n,a){if(1&n&&t.eu8(0,14),2&n){t.XpG(2);const e=t.sdS(20);t.Y8G("ngTemplateOutlet",e)}}const v_=function(n,a,e,s){return[n,a,e,s]},He=function(n,a){return[n,a]};function C_(n,a){if(1&n&&(t.j41(0,"div"),t.DNE(1,b_,4,3,"ng-container",1),t.DNE(2,S_,1,1,"ng-container",2),t.DNE(3,x_,1,1,"ng-container",2),t.DNE(4,k_,1,1,"ng-container",2),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",t.ziG(4,v_,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep)),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.WAIT_TO_TEST_TIME),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CHOOSE_STUDENT),t.R7$(1),t.Y8G("ngIf",t.l_i(9,He,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5).includes(e.currentTakeTestStepData.currentStep))}}function w_(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-header-box-for-desktop",28),t.bIt("openQuitDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openQuitDialog.emit())})("changeShowTypeEvent",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(o))})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.showUploadEssayFilesDialog.emit())})("openSubmitExamEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openSubmitExam.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("sAztTestResizeService",e.sAztTestResizeService)("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)("isMobileScreenSize",e.isMobileScreenSize)}}function I_(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-header-box-for-mobile",29),t.bIt("changeShowTypeEvent",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(o))})("openSubmitExamEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openQuitDialog.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)("currentTakeTestStepData",e.currentTakeTestStepData)}}function O_(n,a){if(1&n&&(t.j41(0,"div",30)(1,"span",31),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_thi_sinh")+": "+e.currentTakeTestStepData.testingUserObj.fullName," ")}}function E_(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-footer-box-for-group-layout",32),t.bIt("setQuestionInGroupEvent",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setQuestionInGroup(o))})("toggleShowListQuestionInGroupEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.toggleShowListQuestionInGroup())})("prevIndexGroupEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.prevIndexGroup())})("nextIndexGroupEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.nextIndexGroup())})("submitExamEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.submitExam())})("goToQuestionEvent",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.goToQuestion(o))}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("indexGroup",e.indexGroup)("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)}}function y_(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-simple-test-footer-box-for-group-layout-mobile",33),t.bIt("setQuestionInGroupEvent",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setQuestionInGroup(o))})("toggleShowListQuestionInGroupEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.toggleShowListQuestionInGroup())})("prevIndexGroupEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.prevIndexGroup())})("nextIndexGroupEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.nextIndexGroup())})("submitExamEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.submitExam())})("goToQuestionEvent",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.goToQuestion(o))})("changeShowTypeEvent",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeShowType.emit(o))})("openSubmitExamEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openSubmitExam.emit())})("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.showUploadEssayFilesDialog.emit())})("openQuitDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openQuitDialog.emit())}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("indexGroup",e.indexGroup)("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)}}const A_=function(n,a){return{"monitor-screen":n,"monitor-screen-mobile":a}};function z_(n,a){if(1&n&&(t.DNE(0,w_,1,4,"app-coazt-simple-test-header-box-for-desktop",19),t.DNE(1,I_,1,2,"app-coazt-simple-test-header-box-for-mobile",20),t.j41(2,"div",21),t.nrm(3,"div",22),t.DNE(4,O_,4,3,"div",23),t.j41(5,"div",24),t.eu8(6,14),t.k0s(),t.j41(7,"div",25),t.eu8(8,14),t.k0s()(),t.DNE(9,E_,1,3,"app-coazt-simple-test-footer-box-for-group-layout",26),t.DNE(10,y_,1,4,"app-coazt-simple-test-footer-box-for-group-layout-mobile",27)),2&n){const e=t.XpG(),s=t.sdS(8),o=t.sdS(10);t.Y8G("ngIf",!e.isMobileScreenSize),t.R7$(1),t.Y8G("ngIf",e.isMobileScreenSize),t.R7$(2),t.Y8G("ngClass",t.l_i(8,A_,!e.isMobileScreenSize,e.isMobileScreenSize)),t.R7$(1),t.Y8G("ngIf",e.isMobileScreenSize),t.R7$(2),t.Y8G("ngTemplateOutlet",s),t.R7$(2),t.Y8G("ngTemplateOutlet",o),t.R7$(1),t.Y8G("ngIf",!e.isMobileScreenSize),t.R7$(1),t.Y8G("ngIf",e.isMobileScreenSize)}}const j_=function(n,a){return{"height-showListQuestion":n,"height-hiddenListQuestion":a}};function R_(n,a){if(1&n&&(t.j41(0,"div",34),t.qex(1),t.j41(2,"div",35)(3,"div",36)(4,"div",37),t.nrm(5,"azt-dynamic-hook",38),t.k0s()()(),t.bVm(),t.j41(6,"div",39),t.eu8(7,14),t.k0s()()),2&n){const e=t.XpG(),s=t.sdS(12);let o;t.Y8G("ngClass",t.l_i(7,j_,e.isShowListQuestionInGroup,!e.isShowListQuestionInGroup)),t.R7$(4),t.xc7("font-size",e.sAztTestResizeService.fontSize+"em")("line-height",e.sAztTestResizeService.fontSize<1.5?e.sAztTestResizeService.fontSize+.5:"1.7"),t.R7$(1),t.Y8G("content",null!==(o=null==e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].groupInfo?null:e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].groupInfo.groupContent)&&void 0!==o?o:""),t.R7$(2),t.Y8G("ngTemplateOutlet",s)}}function F_(n,a){if(1&n&&(t.qex(0),t.j41(1,"div",50)(2,"div",36)(3,"div",37),t.nrm(4,"azt-dynamic-hook",38),t.k0s()()(),t.bVm()),2&n){const e=t.XpG(2);let s;t.R7$(3),t.xc7("font-size",e.sAztTestResizeService.fontSize+"em")("line-height",e.sAztTestResizeService.fontSize<1.5?e.sAztTestResizeService.fontSize+.5:"1.7"),t.R7$(1),t.Y8G("content",null!==(s=null==e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].groupInfo?null:e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].groupInfo.groupContent)&&void 0!==s?s:"")}}function G_(n,a){if(1&n&&(t.j41(0,"div",51)(1,"span",31),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_thi_sinh")+": "+e.currentTakeTestStepData.testingUserObj.fullName," ")}}const We=function(){return{"mr-2":!0}};function D_(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",52),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.prevIndexGroup())}),t.nrm(1,"lucide-icon",53),t.k0s()}2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(1,We)))}const M_=function(){return{"ml-2":!0}};function L_(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",54),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.nextIndexGroup())}),t.j41(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.k0s(),t.nrm(5,"lucide-icon",55),t.k0s()}if(2&n){const e=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_nhom")+" "+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1].groupId+" ("+e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1].totalQuestion+" "+t.bMT(4,4,"lang_auto_cau_thuong")+")",""),t.R7$(3),t.Y8G("ngClass",t.lJ4(6,M_))}}function Q_(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",56),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.submitExam())}),t.nrm(1,"lucide-icon",57),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,We)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_nop_bai")," "))}function N_(n,a){1&n&&(t.j41(0,"span"),t.nrm(1,"lucide-icon",58),t.k0s())}function B_(n,a){1&n&&(t.j41(0,"span"),t.nrm(1,"lucide-icon",59),t.k0s())}function $_(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",40)(1,"div",41),t.DNE(2,F_,5,5,"ng-container",1),t.k0s(),t.j41(3,"div",42),t.DNE(4,G_,4,3,"div",43),t.eu8(5,14),t.j41(6,"div",44),t.DNE(7,D_,2,2,"button",45),t.DNE(8,L_,6,7,"button",46),t.DNE(9,Q_,4,5,"button",47),t.k0s()()(),t.j41(10,"div",48)(11,"button",49),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.toggleViewMobile())}),t.DNE(12,N_,2,0,"span",1),t.DNE(13,B_,2,0,"span",1),t.k0s()()}if(2&n){const e=t.XpG(),s=t.sdS(12);t.R7$(1),t.Y8G("hidden",!e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].isShowGroupMobile),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].groupInfo),t.R7$(1),t.Y8G("hidden",e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].isShowGroupMobile),t.R7$(1),t.Y8G("ngIf",e.isMobileScreenSize),t.R7$(1),t.Y8G("ngTemplateOutlet",s),t.R7$(2),t.Y8G("ngIf",e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup-1]),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1]),t.R7$(1),t.Y8G("ngIf",!e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup+1]),t.R7$(3),t.Y8G("ngIf",e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].isShowGroupMobile),t.R7$(1),t.Y8G("ngIf",!e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].isShowGroupMobile)}}function Y_(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",62)(1,"app-sort-essay-files-box",63),t.bIt("changeAnswerFiles",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeAnswerFiles.emit(o))}),t.k0s()()}if(2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("answerFiles",e.currentTakeTestStepData.files)}}function P_(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",65)(1,"div",66)(2,"azt-question-standalone-for-student-at-full-test",67),t.bIt("setOneChoiceAnswerEmitter",function(o){const r=t.eBV(e).index,l=t.XpG(3);return t.Njj(l.setOneChoiceAnswer(o,r))})("setTrueFalseAnswerEmitter",function(o){const r=t.eBV(e).index,l=t.XpG(3);return t.Njj(l.setTrueFalseAnswer(o,r))})("setFillAnswerEmitter",function(o){const r=t.eBV(e).index,l=t.XpG(3);return t.Njj(l.setFillAnswer(o,r))})("setEssayAnswerEmitter",function(o){const r=t.eBV(e).index,l=t.XpG(3);return t.Njj(l.setEssayAnswer(o,r))})("setResultTracking",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setResultTracking.emit(o))})("nextQuestionEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sAztTestNextBackQuestionService.nextTo(i.currentTakeTestStepData,o))})("prevQuestionEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sAztTestNextBackQuestionService.backTo(i.currentTakeTestStepData,o))})("sendAudioEmit",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sendAudioForQuestion.emit(o))}),t.k0s()()()}if(2&n){const e=a.$implicit,s=t.XpG().index,o=t.XpG(2);let i;t.Y8G("hidden",s!==o.indexGroup),t.R7$(1),t.FS9("id","question_in_group_"+e.id),t.R7$(1),t.Y8G("startQuestionIndex",o.currentTakeTestStepData.examObj.startQuestionIndex)("expandInfo",o.currentTakeTestStepData.examObj.expandInfo)("disableRender",!0)("disableLazy",!0)("follower",o.followerRenderQuest)("takeTestLayout",o.allTakeTestLayouts.GROUP_QUESTION)("isMobile",o.isMobileScreenSize)("examObj",o.currentTakeTestStepData.examObj)("question",e)("fontSize",o.sAztTestResizeService.fontSize)("overTime",!1)("index",null!==(i=e.startQuestionIndexWidthViewGroup)&&void 0!==i?i:0)}}function X_(n,a){if(1&n&&(t.qex(0),t.DNE(1,P_,3,14,"div",64),t.bVm()),2&n){const e=a.$implicit;t.R7$(1),t.Y8G("ngForOf",null==e?null:e.questionList)}}function V_(n,a){if(1&n&&(t.DNE(0,Y_,2,1,"div",60),t.DNE(1,X_,2,1,"ng-container",61)),2&n){const e=t.XpG();t.Y8G("ngIf",null==e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup]?null:e.currentTakeTestStepData.viewQuestionInGroupList[e.indexGroup].isExistEssay),t.R7$(1),t.Y8G("ngForOf",e.currentTakeTestStepData.viewQuestionInGroupList)}}const U_=function(n){return{joinByExamHashId:n}};function q_(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-join-classroom-box",68),t.bIt("selectStudentEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.selectStudentEvent.emit(o))}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("joinClassroomByType",t.eq3(1,U_,e.currentTakeTestStepData.examObj.hashId))}}function H_(n,a){if(1&n&&t.nrm(0,"app-coazt-list-shortcut-question-box",71),2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("isMobileScreenSize",e.isMobileScreenSize)("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)}}function W_(n,a){if(1&n&&(t.j41(0,"div",69),t.DNE(1,H_,1,5,"app-coazt-list-shortcut-question-box",70),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel)}}function J_(n,a){if(1&n&&t.nrm(0,"app-coazt-list-shortcut-question-box",71),2&n){const e=t.XpG(2);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("isMobileScreenSize",e.isMobileScreenSize)("layoutType",e.allTakeTestLayouts.GROUP_QUESTION)}}function K_(n,a){if(1&n&&(t.j41(0,"div",72,73)(2,"div",74)(3,"div",69)(4,"h3",75),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,J_,1,5,"app-coazt-list-shortcut-question-box",70),t.k0s()()()),2&n){const e=t.sdS(1),s=t.XpG();t.R7$(2),t.BMQ("style","width:"+e.offsetWidth+"px",t.$dS),t.R7$(3),t.SpI(" ",t.bMT(6,3,"lang_auto_danh_sach_cau_hoi")," "),t.R7$(2),t.Y8G("ngIf",s.currentTakeTestStepData.nextBackQuestionModel)}}function Z_(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-test-bank-frontend-over-time-of-exam",76),t.bIt("submitTestEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.submitTestToApi.emit(o))}),t.j41(1,"app-coazt-upload-essay-file-at-over-time-box",77),t.bIt("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showUploadEssayFilesDialog.emit())})("changeAnswerFilesEvent",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.changeAnswerFiles.emit(o))}),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)("isMobile",e.isMobileScreenSize)("files",e.currentTakeTestStepData.files)("followerRenderQuest",e.followerRenderQuest)("sAztTestResizeService",e.sAztTestResizeService)("userObj",e.currentTakeTestStepData.testingUserObj),t.R7$(1),t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)}}const tu=function(n){return[n]};function eu(n,a){if(1&n&&(t.j41(0,"div",78)(1,"div",79)(2,"div",80),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",81)(6,"a",82),t.nI1(7,"navigationLocalize"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,3,e.currentTakeTestStepData.errorMessage)),t.R7$(3),t.Y8G("routerLink",t.eq3(9,tu,t.bMT(7,5,e.homeLink))),t.R7$(2),t.JRh(t.bMT(9,7,"lang_auto_quay_lai_trang_chu"))}}function nu(n,a){if(1&n&&t.nrm(0,"app-coazt-wait-to-test-time-box",83),2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("homeLink",e.homeLink)}}function ou(n,a){if(1&n&&t.nrm(0,"app-test-bank-frontend-load-question-error-box",84),2&n){const e=t.XpG();t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)}}const su=function(n,a,e,s,o,i,r,l){return[n,a,e,s,o,i,r,l]};let au=(()=>{var n;class a extends Ht{constructor(){super(...arguments),this.indexGroup=0,this.isShowListQuestionInGroup=!0}toggleShowListQuestionInGroup(){this.isShowListQuestionInGroup=!this.isShowListQuestionInGroup;const s=document.getElementById("contentBlock"),o=document.getElementById("lucide-chevron-up");o&&s&&(this.isShowListQuestionInGroup?(s.style.maxHeight="60px",o.style.transform="rotate(0)"):(s.style.maxHeight="0px",o.style.transform="rotate(180deg)"))}setQuestionInGroup(s){this.indexGroup!=s&&(this.indexGroup=s,this.scrollQuestion())}goToQuestion(s){document.getElementById("question_in_group_"+s)?.scrollIntoView({behavior:"smooth"})}setStatusAnswer(s,o){this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].questionList[s]&&(this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].questionList[s].status=o,this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].totalCompletedQuestion=this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].questionList.filter(i=>i.status).length)}setOneChoiceAnswer(s,o){this.setOneChoiceAnswerEmitter.emit(s),this.setStatusAnswer(o,!0)}setTrueFalseAnswer(s,o){this.setTrueFalseAnswerEmitter.emit(s),this.setStatusAnswer(o,void 0!==s?.answerConfig?.checked)}setFillAnswer(s,o){this.setFillAnswerEmitter.emit(s),this.setStatusAnswer(o,""!==s.value)}setEssayAnswer(s,o){this.setEssayAnswerEmitter.emit(s),this.setStatusAnswer(o,""!==s.value)}prevIndexGroup(){this.indexGroup--,this.scrollQuestion()}nextIndexGroup(){this.indexGroup++,this.scrollQuestion()}submitExam(){this.openSubmitExam.emit()}toggleViewMobile(){this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].isShowGroupMobile=!this.currentTakeTestStepData.viewQuestionInGroupList[this.indexGroup].isShowGroupMobile}convertViewQuestionToQuestionInGroup(){this.currentTakeTestStepData.viewQuestionInGroupList=[],this.currentTakeTestStepData.viewQuestionObjs.forEach((s,o)=>{const i=s?.groupInfo?.groupId??0;s.startQuestionIndexWidthViewGroup=o,this.currentTakeTestStepData.viewQuestionInGroupList[i]||(this.currentTakeTestStepData.viewQuestionInGroupList[i]={groupInfo:s?.groupInfo,groupId:i,isExistEssay:!1,isShowGroupMobile:!0,totalQuestion:0,totalCompletedQuestion:0,startLabel:0,endLabel:0,questionList:[]}),this.currentTakeTestStepData.viewQuestionInGroupList[i].questionList.push(s)}),this.currentTakeTestStepData.viewQuestionInGroupList=this.currentTakeTestStepData.viewQuestionInGroupList.filter(s=>s&&s.questionList.length).map(s=>(s.totalQuestion=s.questionList.length,s.totalCompletedQuestion=s.questionList.filter(o=>o.status).length,s.startLabel=(s.questionList[0].startQuestionIndexWidthViewGroup??0)+1,s.endLabel=(s.questionList[s.totalQuestion-1].startQuestionIndexWidthViewGroup??0)+1,s.isExistEssay=s.questionList.filter(o=>this.answerTypeService.isEssayAnswer(o)).length>0,s))}scrollQuestion(){const s=this.isMobileScreenSize?document.getElementById("questionListMobile"):document.getElementById("questionList");s&&(s.scrollTop=0)}ngOnInit(){super.ngOnInit(),this.convertViewQuestionToQuestionInGroup(),this.currentTakeTestStepData.examObj.hideGroupQuestion=1}ngOnDestroy(){super.ngOnDestroy(),this.currentTakeTestStepData.examObj.hideGroupQuestion=0}}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-test-in-group-layout"]],features:[t.Vt3],decls:27,vars:17,consts:[[3,"currentTakeTestStepData"],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],["mainTakeTestContentTpl",""],["showListQuestionTplDesktop",""],["showListQuestionTplMobile",""],["questionList",""],["chooseStudentTpl",""],["listQuestionsSelectedInMobile",""],["listQuestionSelectedInDesktop",""],["overTimeTpl",""],["commonErrorTpl",""],["waitToTestTimeTpl",""],["lstQuestHasErrTpl",""],[3,"ngTemplateOutlet"],[3,"currentStatusObj","customText",4,"ngIf"],[1,"p-0",3,"contextmenu"],[1,"content","relative",2,"padding","0","min-height","100vh",3,"ngClass"],[3,"currentStatusObj","customText"],[3,"currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize","openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent",4,"ngIf"],[3,"layoutType","currentTakeTestStepData","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[1,"pb-4"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["class","p-1 text-center mt-1",4,"ngIf"],[1,"azt-hidden","lg:block"],[1,"lg:hidden"],[3,"currentTakeTestStepData","indexGroup","layoutType","setQuestionInGroupEvent","toggleShowListQuestionInGroupEvent","prevIndexGroupEvent","nextIndexGroupEvent","submitExamEvent","goToQuestionEvent",4,"ngIf"],[3,"currentTakeTestStepData","indexGroup","layoutType","sAztTestNextBackQuestionService","setQuestionInGroupEvent","toggleShowListQuestionInGroupEvent","prevIndexGroupEvent","nextIndexGroupEvent","submitExamEvent","goToQuestionEvent","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent",4,"ngIf"],[3,"currentTakeTestStepData","sAztTestResizeService","layoutType","isMobileScreenSize","openQuitDialogEvent","changeShowTypeEvent","showUploadEssayFilesDialogEvent","openSubmitExamEvent"],[3,"layoutType","currentTakeTestStepData","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent"],[1,"p-1","text-center","mt-1"],[1,"font-medium"],[3,"currentTakeTestStepData","indexGroup","layoutType","setQuestionInGroupEvent","toggleShowListQuestionInGroupEvent","prevIndexGroupEvent","nextIndexGroupEvent","submitExamEvent","goToQuestionEvent"],[3,"currentTakeTestStepData","indexGroup","layoutType","sAztTestNextBackQuestionService","setQuestionInGroupEvent","toggleShowListQuestionInGroupEvent","prevIndexGroupEvent","nextIndexGroupEvent","submitExamEvent","goToQuestionEvent","changeShowTypeEvent","openSubmitExamEvent","showUploadEssayFilesDialogEvent","openQuitDialogEvent"],[1,"intro-y","grid","grid-cols-12","gap-5","mt-55px","transition-3",3,"ngClass"],[1,"col-span-6","px-4","py-4","box","overflow-auto","custom-scroll","rounded-none"],[1,"font-medium","h-full"],[1,"group-content-of-question-standalone",2,"padding-bottom","100px"],[3,"content"],["id","questionList",1,"col-span-6","h-full","py-5","pr-5","overflow-auto","custom-scroll"],[1,"intro-y","mt-6","transition-3","height-list-question-mobile"],[1,"group-content","h-full",3,"hidden"],["id","questionListMobile",1,"question-content","pb-400","overflow-auto","h-full",3,"hidden"],["class","p-1 text-center mt-2",4,"ngIf"],[1,"flex","items-center","justify-center","p-3"],["azt-track-service","take-test-in-group-layout-V5eoQGwsJZ","class","btn btn-outline-primary h-40px mr-3",3,"click",4,"ngIf"],["azt-track-service","take-test-in-group-layout-RNRQEspWcj","class","btn btn-outline-primary h-40px w-full",3,"click",4,"ngIf"],["azt-track-service","take-test-in-group-layout-9--9DqoAy_","class","btn btn-primary h-40px w-32",3,"click",4,"ngIf"],[1,"pos-tool"],["azt-track-service","take-test-in-group-layout-Wdat3Pseg",1,"btn","box","rounded-full","shadow-lg","border","border-slate-200","dark:border-darkmode-400","w-16","h-16",3,"click"],[1,"px-4","py-4","h-full","box","overflow-auto","custom-scroll","rounded-none"],[1,"p-1","text-center","mt-2"],["azt-track-service","take-test-in-group-layout-V5eoQGwsJZ",1,"btn","btn-outline-primary","h-40px","mr-3",3,"click"],["name","move-left","size","16",3,"ngClass"],["azt-track-service","take-test-in-group-layout-RNRQEspWcj",1,"btn","btn-outline-primary","h-40px","w-full",3,"click"],["name","move-right","size","16",3,"ngClass"],["azt-track-service","take-test-in-group-layout-9--9DqoAy_",1,"btn","btn-primary","h-40px","w-32",3,"click"],["name","file-pen-line","size","16",3,"ngClass"],["name","list-todo","size","20"],["name","file-text","size","20"],["class","mt-5",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"mt-5"],[3,"answerFiles","changeAnswerFiles"],[3,"hidden",4,"ngFor","ngForOf"],[3,"hidden"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id"],[3,"startQuestionIndex","expandInfo","disableRender","disableLazy","follower","takeTestLayout","isMobile","examObj","question","fontSize","overTime","index","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","nextQuestionEmitter","prevQuestionEmitter","sendAudioEmit"],[3,"joinClassroomByType","selectStudentEvent"],[1,"box","p-3"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType",4,"ngIf"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","isMobileScreenSize","layoutType"],[1,"col-span-12","lg:col-span-3","mt-3"],["listQuestionBar",""],[1,"top_gameBar"],[1,"text-md","font-medium","mb-3"],[3,"currentTakeTestStepData","questsLoadState","backToLink","isMobile","files","followerRenderQuest","sAztTestResizeService","userObj","submitTestEvent"],[3,"currentTakeTestStepData","showUploadEssayFilesDialogEvent","changeAnswerFilesEvent"],[1,"box","pt-6"],[1,"text-center","pb-4"],[1,"block","text-danger","text-center"],[1,"text-center","clickable","mt-2"],["azt-track-service","main-component-_qI7rWD5S",1,"link__color","link__hover",3,"routerLink"],[3,"currentTakeTestStepData","homeLink"],[3,"currentTakeTestStepData","questsLoadState","backToLink"]],template:function(s,o){1&s&&(t.nrm(0,"app-coazt-tracking-full-screen-event",0)(1,"app-coazt-tracking-visible-event",0),t.DNE(2,m_,1,0,"app-coazt-leave-window-event",1),t.DNE(3,d_,1,1,"ng-container",2),t.DNE(4,C_,5,12,"div",1),t.DNE(5,z_,11,11,"ng-template",null,3,t.C5r),t.DNE(7,R_,8,10,"ng-template",null,4,t.C5r),t.DNE(9,$_,14,10,"ng-template",null,5,t.C5r),t.DNE(11,V_,2,2,"ng-template",null,6,t.C5r),t.DNE(13,q_,1,3,"ng-template",null,7,t.C5r),t.DNE(15,W_,2,1,"ng-template",null,8,t.C5r),t.DNE(17,K_,8,5,"ng-template",null,9,t.C5r),t.DNE(19,Z_,2,9,"ng-template",null,10,t.C5r),t.DNE(21,eu,10,11,"ng-template",null,11,t.C5r),t.DNE(23,nu,1,2,"ng-template",null,12,t.C5r),t.DNE(25,ou,1,3,"ng-template",null,13,t.C5r)),2&s&&(t.Y8G("currentTakeTestStepData",o.currentTakeTestStepData),t.R7$(1),t.Y8G("currentTakeTestStepData",o.currentTakeTestStepData),t.R7$(1),t.Y8G("ngIf",!t.l_i(5,He,o.allTakeTestSteps.START_TEST,o.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST).includes(o.currentTakeTestStepData.currentStep)||o.questsLoadState.startLoad||o.questsLoadState.hasErrs),t.R7$(1),t.Y8G("ngIf",o.currentTakeTestStepData.currentStep==o.allTakeTestSteps.SHOW_ERROR_MESSAGE),t.R7$(1),t.Y8G("ngIf",t.lV(8,su,o.allTakeTestSteps.WAIT_TO_TEST_TIME,o.allTakeTestSteps.CHOOSE_STUDENT,o.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,o.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5,o.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,o.allTakeTestSteps.SHOW_FULL_SCREEN,o.allTakeTestSteps.SHOW_VIDEO_REQUIRED,o.allTakeTestSteps.START_TEST).includes(o.currentTakeTestStepData.currentStep)))},dependencies:[k.Wk,_.YU,_.Sq,_.bT,_.T3,j.K,gt.s,Rt,jt.x,Ft.l,d.WGl,Gt,Dt,Mt,Lt,Qt,Nt,Bt,$t,Zt,ee,l_,p_,u.F2,u.wp],styles:[".top_gameBar[_ngcontent-%COMP%]{position:fixed;top:87px;right:10px;min-width:23.5vw}.margin-question-bar-for-simple-test-for-desktop[_ngcontent-%COMP%]{margin-top:calc(3rem + 30px)!important}.border-2[_ngcontent-%COMP%]   .margin-question-bar-for-simple-test-for-mobile[_ngcontent-%COMP%]{margin-top:calc(3rem + 27px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(var(--vh, 1vh) * 100 - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-screen-monitor[_ngcontent-%COMP%]{max-height:calc(var(--vh, 1vh) * 100 - 400px)!important}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.container-content-desktop[_ngcontent-%COMP%]{padding-bottom:20px!important}.border-3[_ngcontent-%COMP%]{border-width:3px}.transition-3[_ngcontent-%COMP%]{transition:all .3s}.height-showListQuestion[_ngcontent-%COMP%]{height:calc(var(--vh, 1vh) * 100 - 55px - 125px)}.height-hiddenListQuestion[_ngcontent-%COMP%]{height:calc(var(--vh, 1vh) * 100 - 55px - 72px)}.mt-55px[_ngcontent-%COMP%]{margin-top:55px}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.border-color-primary[_ngcontent-%COMP%]{border-color:rgb(var(--color-primary)/var(--tw-text-opacity))}.absolute-center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.azt-progress-circle[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem;border-radius:50%;display:grid;place-items:center;animation:.4s ease-out reverse;transition:all .5s}.azt-progress-value[_ngcontent-%COMP%]{display:block;height:calc(100% - 6px);width:calc(100% - 6px);background-color:#fff;border-radius:50%;display:grid;place-items:center;transition:all .5s}.questionListInGroup[_ngcontent-%COMP%]{max-height:60px;transition:max-height .3s ease-out}.box-group-question[_ngcontent-%COMP%]{width:calc(100vw - 600px);height:64px}  .dark .azt-progress-value{background-color:#28334e}.height-list-question-mobile[_ngcontent-%COMP%]{height:calc(var(--vh, 1vh) * 100 - 110px)}.pos-tool[_ngcontent-%COMP%]{position:fixed;bottom:80px;right:25px;z-index:999}.pb-400[_ngcontent-%COMP%]{padding-bottom:400px}.h-40px[_ngcontent-%COMP%]{height:40px}"]}),a})();function iu(n,a){if(1&n&&t.nrm(0,"azt-loading-effect",2),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function ru(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-take-test-in-list-layout",5),t.bIt("changeShowType",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeShowType(o))})("openQuitDialog",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.openQuitDialog())})("showUploadEssayFilesDialog",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.showUploadEssayFilesDialog())})("openSubmitExam",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.openSubmitExam())})("selectStudentEvent",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.selectStudentEvent(o))})("changeAnswerFiles",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeAnswerFiles(o))})("setOneChoiceAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionOneChoiceAnswer(o))})("setTrueFalseAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionTrueFalseAnswer(o))})("setFillAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionFillAnswer(o))})("setEssayAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionEssayAnswer(o))})("setResultTracking",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setResultTracking(o))})("sendAudioForQuestion",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sendAudioForQuestion(o))})("submitTestToApi",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.submitTestToApi(o))}),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("sAztTestResizeService",e.sAztTestResizeService)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("currentTakeTestStepData",e.currentTakeTestStepData)("followerRenderQuest",e.followerRenderQuest)("questsLoadState",e.questsLoadState)("isMobileScreenSize",e.isMobileScreenSize)("homeLink",e.homeLink)("backToLink",e.backToLink)}}function lu(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-take-test-in-step-layout",5),t.bIt("changeShowType",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeShowType(o))})("openQuitDialog",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.openQuitDialog())})("showUploadEssayFilesDialog",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.showUploadEssayFilesDialog())})("openSubmitExam",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.openSubmitExam())})("selectStudentEvent",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.selectStudentEvent(o))})("changeAnswerFiles",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeAnswerFiles(o))})("setOneChoiceAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionOneChoiceAnswer(o))})("setTrueFalseAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionTrueFalseAnswer(o))})("setFillAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionFillAnswer(o))})("setEssayAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionEssayAnswer(o))})("setResultTracking",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setResultTracking(o))})("sendAudioForQuestion",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sendAudioForQuestion(o))})("submitTestToApi",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.submitTestToApi(o))}),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("sAztTestResizeService",e.sAztTestResizeService)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("currentTakeTestStepData",e.currentTakeTestStepData)("followerRenderQuest",e.followerRenderQuest)("questsLoadState",e.questsLoadState)("isMobileScreenSize",e.isMobileScreenSize)("homeLink",e.homeLink)("backToLink",e.backToLink)}}function cu(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-take-test-in-group-layout",5),t.bIt("changeShowType",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeShowType(o))})("openQuitDialog",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.openQuitDialog())})("showUploadEssayFilesDialog",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.showUploadEssayFilesDialog())})("openSubmitExam",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.openSubmitExam())})("selectStudentEvent",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.selectStudentEvent(o))})("changeAnswerFiles",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeAnswerFiles(o))})("setOneChoiceAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionOneChoiceAnswer(o))})("setTrueFalseAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionTrueFalseAnswer(o))})("setFillAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionFillAnswer(o))})("setEssayAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setQuestionEssayAnswer(o))})("setResultTracking",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.setResultTracking(o))})("sendAudioForQuestion",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.sendAudioForQuestion(o))})("submitTestToApi",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.submitTestToApi(o))}),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("sAztTestResizeService",e.sAztTestResizeService)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("currentTakeTestStepData",e.currentTakeTestStepData)("followerRenderQuest",e.followerRenderQuest)("questsLoadState",e.questsLoadState)("isMobileScreenSize",e.isMobileScreenSize)("homeLink",e.homeLink)("backToLink",e.backToLink)}}function _u(n,a){if(1&n&&(t.qex(0),t.DNE(1,ru,1,8,"app-coazt-take-test-in-list-layout",4),t.DNE(2,lu,1,8,"app-coazt-take-test-in-step-layout",4),t.DNE(3,cu,1,8,"app-coazt-take-test-in-group-layout",4),t.bVm()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngIf",e.layoutType==e.allTakeTestLayouts.LIST_QUESTION),t.R7$(1),t.Y8G("ngIf",e.layoutType==e.allTakeTestLayouts.STEP_QUESTION),t.R7$(1),t.Y8G("ngIf",e.layoutType==e.allTakeTestLayouts.GROUP_QUESTION)}}function uu(n,a){if(1&n&&t.DNE(0,_u,4,3,"ng-container",3),2&n){const e=t.XpG();t.Y8G("ngIf",e.currentTakeTestStepData)}}const Je="azota_take_test_layout";let pu=(()=>{var n;class a extends Fe{changeShowType(s){this.layoutType=s,this.browserStorageService.saveSimpleStorage(Je+"_"+this.hashId,this.layoutType)}getShowType(){const s=this.browserStorageService.getSimpleStorage(Je+"_"+this.hashId);this.layoutType=s&&"undefined"!==s?s:R.LIST_QUESTION}startShowTestContent(s,o){return this.sAztTakeTestCallApiService.getSyncQuestionDataFromApi(this.questsLoadState,this.followerRenderQuest,this.questionRenderService,s,i=>{if(this.currentTakeTestStepData=i,this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown)return o(void 0);this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown=!0,this.intervalExamTime(),this.intervalToGetServerTime(),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData),this.sAztTakeTestCallApiService.getImagesThatUploadAtMobileQrCodeFromApi(this.currentTakeTestStepData.uploadHashCode,r=>{null!=r&&(this.currentTakeTestStepData.files=r)}),this.intervalToSendTestDataToApi(),o(void 0)})}getInitDataFromApi(){let s=new M(this.hashId,this.browserStorageService).getPassword(),o=new M(this.hashId,this.browserStorageService).hasInfo(),i=A.c.production||A.c.isProdAzotaVn;this.initStatusObj(),this.waitDestroy(i?this.frontExamService.apiFrontExamInitDataGet(this.hashId,s,o?1:0,this.sAztTestDeviceIdService.getDeviceId(),0).subscribe(r=>{const l=this.encryptionHelper.result(r);this.processInitData(""!=s,l)}):this.frontExamService.apiFrontExamInitDataForDevServerGet(this.hashId,s,o?1:0,this.sAztTestDeviceIdService.getDeviceId(),0).subscribe(r=>{this.processInitData(""!=s,r)}))}ngOnInit(){super.ngOnInit(),this.initParams(),this.getShowType()}constructor(){super(),this.layoutType=R.LIST_QUESTION}}return(n=a).\u0275fac=function(s){return new(s||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-test"]],features:[t.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[4,"ngIf"],[3,"sAztTestResizeService","sAztTestNextBackQuestionService","currentTakeTestStepData","followerRenderQuest","questsLoadState","isMobileScreenSize","homeLink","backToLink","changeShowType","openQuitDialog","showUploadEssayFilesDialog","openSubmitExam","selectStudentEvent","changeAnswerFiles","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","sendAudioForQuestion","submitTestToApi",4,"ngIf"],[3,"sAztTestResizeService","sAztTestNextBackQuestionService","currentTakeTestStepData","followerRenderQuest","questsLoadState","isMobileScreenSize","homeLink","backToLink","changeShowType","openQuitDialog","showUploadEssayFilesDialog","openSubmitExam","selectStudentEvent","changeAnswerFiles","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","sendAudioForQuestion","submitTestToApi"]],template:function(s,o){if(1&s&&(t.DNE(0,iu,1,1,"azt-loading-effect",0),t.DNE(1,uu,1,1,"ng-template",null,1,t.C5r)),2&s){const i=t.sdS(2);t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",i)}},dependencies:[_.bT,j.K,fc,Wc,au],encapsulation:2}),a})();class Ke{setQuestionAnswers(a,e){return a.viewQuestionObjs.forEach(s=>{let o=e.find(i=>1==i.answered&&i.id==s.id);null!=o&&(s.practiceCheckAnswer=o.correct?"correct":"wrong",s.numberOfChecks=o.correct?1:2)}),a}hasWrongAnswer(a){return null!=a.viewQuestionObjs.find(e=>"wrong"==e.practiceCheckAnswer)}calculateStartQuestionPosition(a,e){return Math.floor(a/e)*e}findLastQuestionObjThatHasAnswer(a){return a.viewQuestionObjs.slice().reverse().find(s=>null!=s.practiceCheckAnswer)}}let mu=(()=>{var n;class a extends b.H{constructor(){super(...arguments),this.showUploadEssayFilesDialog=new t.bkB,this.selectStudentEvent=new t.bkB,this.changeAnswerFiles=new t.bkB,this.setOneChoiceAnswerEmitter=new t.bkB,this.setTrueFalseAnswerEmitter=new t.bkB,this.setFillAnswerEmitter=new t.bkB,this.setEssayAnswerEmitter=new t.bkB,this.setResultTracking=new t.bkB,this.sendAudioForQuestion=new t.bkB,this.submitTestToApi=new t.bkB,this.allTakeTestSteps=h,this.allTakeTestLayouts=R,this.allowContextMenu=!A.c.production}}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-training-base-layout"]],inputs:{sAztTestResizeService:"sAztTestResizeService",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService",sAztTestQuestionService:"sAztTestQuestionService",currentTakeTestStepData:"currentTakeTestStepData",followerRenderQuest:"followerRenderQuest",questsLoadState:"questsLoadState",isMobileScreenSize:"isMobileScreenSize",homeLink:"homeLink",backToLink:"backToLink",tenantId:"tenantId",curCateId:"curCateId"},outputs:{showUploadEssayFilesDialog:"showUploadEssayFilesDialog",selectStudentEvent:"selectStudentEvent",changeAnswerFiles:"changeAnswerFiles",setOneChoiceAnswerEmitter:"setOneChoiceAnswerEmitter",setTrueFalseAnswerEmitter:"setTrueFalseAnswerEmitter",setFillAnswerEmitter:"setFillAnswerEmitter",setEssayAnswerEmitter:"setEssayAnswerEmitter",setResultTracking:"setResultTracking",sendAudioForQuestion:"sendAudioForQuestion",submitTestToApi:"submitTestToApi"},features:[t.Vt3],decls:0,vars:0,template:function(s,o){},encapsulation:2}),a})();var du=c(64486),gu=c(66793),fu=c(58447),Tu=c(54313),hu=c(34660);function bu(n,a){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"span",4),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"button",5),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.showExplainOfQuestion.emit())}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()}2&n&&(t.R7$(2),t.JRh(t.bMT(3,2,"lang_testbank_frontend_you_dont_know_how_to_do_it")+"? "),t.R7$(3),t.SpI(" ",t.bMT(6,4,"lang_testbank_frontend_please_use_the_hint")," "))}function Su(n,a){if(1&n&&(t.j41(0,"div",6)(1,"div",4),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",7),t.nrm(5,"azt-dynamic-hook",8),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_testbank_hint")," "),t.R7$(3),t.Y8G("content",e.questionObj.help)}}function xu(n,a){if(1&n&&(t.j41(0,"div",1),t.DNE(1,bu,7,6,"div",2),t.DNE(2,Su,6,4,"div",3),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",!e.isShowExplain),t.R7$(1),t.Y8G("ngIf",e.isShowExplain)}}let ku=(()=>{var n;class a extends b.H{constructor(){super(...arguments),this.isShowExplain=!1,this.showExplainOfQuestion=new t.bkB}}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["azt-question-explain-box-for-student-at-step-test"]],inputs:{isShowExplain:"isShowExplain",questionObj:"questionObj",renderConfigObj:"renderConfigObj"},outputs:{showExplainOfQuestion:"showExplainOfQuestion"},features:[t.Vt3],decls:1,vars:1,consts:[["class","p-3",4,"ngIf"],[1,"p-3"],[4,"ngIf"],["class","p-3 mt-4",4,"ngIf"],[1,"font-medium"],[1,"btn-text-primary","font-medium",3,"click"],[1,"p-3","mt-4"],[1,"mt-2"],[3,"content"]],template:function(s,o){1&s&&t.DNE(0,xu,3,2,"div",0),2&s&&t.Y8G("ngIf",o.questionObj.help)},dependencies:[_.bT,jt.x,u.wp],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262ae!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:#a9a9a9;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),a})();const vu=function(n){return{"skeleton-box-loading":n}};function Cu(n,a){if(1&n&&t.nrm(0,"div",10),2&n){const e=t.XpG();t.Y8G("ngClass",t.eq3(1,vu,e.renderConfigObj.isFirstRender))}}function wu(n,a){if(1&n){const e=t.RV6();t.j41(0,"azt-test-audio-ui",18),t.bIt("sendAudioEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.sendAudioEmit.emit(o))}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("questionObj",e.questionObj)("isShowList",!0)("totalLimit",(e.examObj.limitAudio||-1)>0?e.examObj.limitAudio||-1:0)}}const Iu=function(n){return{"pb-2":n}};function Ou(n,a){if(1&n&&(t.j41(0,"div",11)(1,"div",12),t.nrm(2,"azt-question-group-content-box",13),t.j41(3,"div",14),t.DNE(4,wu,1,3,"azt-test-audio-ui",15),t.j41(5,"div",16),t.nrm(6,"azt-question-label-box",17),t.k0s(),t.nrm(7,"azt-question-content-box",13),t.k0s()()()),2&n){const e=t.XpG();t.R7$(1),t.xc7("font-size",e.fontSize+"em")("line-height",e.fontSize&&e.fontSize<1.5?e.fontSize+.5:"1.7"),t.Y8G("id","question_render_container_"+e.questionObj.id)("ngClass",t.eq3(17,Iu,e.questionObj.attachments.length>0)),t.R7$(1),t.Y8G("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj),t.R7$(2),t.Y8G("ngIf",e.questionObj.attachments.length>0),t.R7$(2),t.Y8G("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj)("curQuestionIndex",e.curQuestionIndex),t.R7$(1),t.Y8G("examObj",e.examObj)("questionObj",e.questionObj)("renderConfigObj",e.renderConfigObj)}}function Eu(n,a){1&n&&t.nrm(0,"div",19)}let yu=(()=>{var n;class a extends du.I{showExplainOfQuestion(){this.showHintAnswer.emit()}ngOnInit(){super.ngOnInit();let s=new gu.C(!0,!0,!1);super.initData(s,this.follower,this.questionObj),this.listenFontChanged&&this.waitDestroy(this.listenFontChanged.subscribe(()=>{this.reRenderContent()}))}constructor(){super(),this.follower=new kt.e,this.curQuestionIndex=0,this.fontSize=1,this.isShowExplain=!1,this.currentAnswerIsCorrect=!1,this.setOneChoiceAnswerEmitter=new t.bkB,this.setTrueFalseAnswerEmitter=new t.bkB,this.setFillAnswerEmitter=new t.bkB,this.setEssayAnswerEmitter=new t.bkB,this.sendAudioEmit=new t.bkB,this.setResultTracking=new t.bkB,this.showHintAnswer=new t.bkB}}return(n=a).\u0275fac=function(s){return new(s||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["azt-question-standalone-for-step-test"]],inputs:{examObj:"examObj",questionObj:"questionObj",follower:"follower",curQuestionIndex:"curQuestionIndex",fontSize:"fontSize",listenFontChanged:"listenFontChanged",isShowExplain:"isShowExplain",currentAnswerIsCorrect:"currentAnswerIsCorrect"},outputs:{setOneChoiceAnswerEmitter:"setOneChoiceAnswerEmitter",setTrueFalseAnswerEmitter:"setTrueFalseAnswerEmitter",setFillAnswerEmitter:"setFillAnswerEmitter",setEssayAnswerEmitter:"setEssayAnswerEmitter",sendAudioEmit:"sendAudioEmit",setResultTracking:"setResultTracking",showHintAnswer:"showHintAnswer"},features:[t.Vt3],decls:11,vars:10,consts:[[1,"question-standalone-step-container-box","box"],[1,"question-standalone-step-question-box","p-3"],["load_effect_lazy","",1,"question-standalone-box",2,"box-shadow","none","margin","0px",3,"id"],["class","question-standalone-loader-box",3,"ngClass",4,"ngIf","ngIfElse"],["elementRended",""],[1,"question-standalone-step-answer-container-box"],[1,"ml-auto","mr-auto","w-full","relative"],[3,"question","questionIndex","fontSize","setResultTracking","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter"],["class","absolute w-full h-full top-0 left-0 z-50",4,"ngIf"],[3,"questionObj","renderConfigObj","isShowExplain","showExplainOfQuestion"],[1,"question-standalone-loader-box",3,"ngClass"],[1,"question-standalone-content-box"],[1,"question-standalone-container",2,"padding","0px",3,"id","ngClass"],[3,"examObj","questionObj","renderConfigObj"],[1,"question-standalone-main-content"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter",4,"ngIf"],[1,"flex","items-center","justify-between"],[3,"examObj","questionObj","renderConfigObj","curQuestionIndex"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter"],[1,"absolute","w-full","h-full","top-0","left-0","z-50"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.DNE(3,Cu,1,3,"div",3),t.DNE(4,Ou,8,19,"ng-template",null,4,t.C5r),t.k0s()(),t.j41(6,"div",5)(7,"div",6)(8,"azt-question-answer-view-for-student-at-step-page",7),t.bIt("setResultTracking",function(r){return o.setResultTracking.emit(r)})("setOneChoiceAnswerEmitter",function(r){return o.setOneChoiceAnswerEmitter.emit(r)})("setTrueFalseAnswerEmitter",function(r){return o.setTrueFalseAnswerEmitter.emit(r)})("setFillAnswerEmitter",function(r){return o.setFillAnswerEmitter.emit(r)})("setEssayAnswerEmitter",function(r){return o.setEssayAnswerEmitter.emit(r)}),t.k0s(),t.DNE(9,Eu,1,0,"div",8),t.k0s()(),t.j41(10,"azt-question-explain-box-for-student-at-step-test",9),t.bIt("showExplainOfQuestion",function(){return o.showExplainOfQuestion()}),t.k0s()()),2&s){const i=t.sdS(5);t.R7$(2),t.Y8G("id","question_render_element_"+o.questionObj.id),t.R7$(1),t.Y8G("ngIf",!o.renderConfigObj.isRenderElement)("ngIfElse",i),t.R7$(5),t.Y8G("question",o.questionObj)("questionIndex",o.curQuestionIndex)("fontSize",o.fontSize),t.R7$(1),t.Y8G("ngIf",o.currentAnswerIsCorrect),t.R7$(1),t.Y8G("questionObj",o.questionObj)("renderConfigObj",o.renderConfigObj)("isShowExplain",o.isShowExplain)}},dependencies:[_.YU,_.bT,De.N,Me.c,$e,fu.y,Tu.$,hu.S,ku],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262ae!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:#a9a9a9;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),a})();function Au(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",1),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.changeFullScreenMode())}),t.nI1(1,"mytranslate"),t.nrm(2,"lucide-icon",2),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_toan_man_hinh"))}function zu(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",1),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.changeFullScreenMode())}),t.nI1(1,"mytranslate"),t.nrm(2,"lucide-icon",3),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_tested_list_exit_full_screen"))}let ju=(()=>{var n;class a extends b.H{constructor(){super(...arguments),this.sAztFullScreenService=new U,this.isFullScreenMode=!1}changeFullScreenMode(){this.isFullScreenMode?this.sAztFullScreenService.exitFullscreen():this.sAztFullScreenService.showFullScreen(),this.isFullScreenMode=!this.isFullScreenMode}}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-full-screen-mode-box"]],features:[t.Vt3],decls:2,vars:2,consts:[["class","btn btn-sm btn-secondary",3,"matTooltip","click",4,"ngIf"],[1,"btn","btn-sm","btn-secondary",3,"matTooltip","click"],["name","maximize","size","18"],["name","minimize","size","18"]],template:function(s,o){1&s&&(t.DNE(0,Au,3,3,"button",0),t.DNE(1,zu,3,3,"button",0)),2&s&&(t.Y8G("ngIf",!o.isFullScreenMode),t.R7$(1),t.Y8G("ngIf",o.isFullScreenMode))},dependencies:[_.bT,V.oV,d.WGl,u.wp],encapsulation:2}),a})();function Ru(n,a){1&n&&(t.qex(0),t.EFF(1),t.nI1(2,"mytranslate"),t.bVm()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_button_back")))}function Fu(n,a){if(1&n&&(t.j41(0,"span",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Lme("",t.bMT(2,2,"lang_auto_thi_sinh"),": ",e.currentTakeTestStepData.testingUserObj.fullName,"")}}function Gu(n,a){if(1&n&&t.nrm(0,"app-testbank-frontend-count-down-box",18),2&n){const e=t.XpG();t.Y8G("totalSecond",e.currentTakeTestStepData.countDownSecond)("useCountDown",!1)}}function Du(n,a){1&n&&(t.EFF(0),t.nI1(1,"mytranslate")),2&n&&t.SpI(" ",t.bMT(1,1,"lang_auto_khong_gioi_han")," ")}const Ze=function(){return{"mr-2":!0}};let Mu=(()=>{var n;class a extends b.H{constructor(){super(...arguments),this.openQuitDialogEvent=new t.bkB}}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-training-header-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",sAztTestResizeService:"sAztTestResizeService",isMobileScreenSize:"isMobileScreenSize"},outputs:{openQuitDialogEvent:"openQuitDialogEvent"},features:[t.Vt3],decls:22,vars:16,consts:[[1,"fixed","w-full","bg-white","items-center","flex","top-0","left-0","ng-star-inserted","p-3",2,"z-index","111","border-bottom","1px solid #ccc"],["azt-track-service","training-header-box-phEe7AjEd",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["name","chevron-left","size","20",3,"ngClass"],[4,"ngIf"],[1,"relative","mx-auto"],["class","text-md font-medium",4,"ngIf"],[1,"mr-6"],[1,"flex","items-center"],["name","timer","size","20",3,"ngClass"],[3,"totalSecond","useCountDown",4,"ngIf","ngIfElse"],["unlimitedTimeTpl",""],[1,"flex","items-center","dropdown","mr-3"],["azt-track-service","take-test-DqyfiYKf45",1,"btn","btn-sm","btn-secondary","mr-2",3,"disabled","matTooltip","click"],["name","zoom-out","size","18"],["azt-track-service","take-test-lcadhTPzm",1,"btn","btn-sm","btn-secondary",3,"disabled","matTooltip","click"],["name","zoom-in","size","18"],[1,"flex","items-center","dropdown"],[1,"text-md","font-medium"],[3,"totalSecond","useCountDown"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0)(1,"div")(2,"button",1),t.bIt("click",function(){return o.openQuitDialogEvent.emit()}),t.nrm(3,"lucide-icon",2),t.DNE(4,Ru,3,3,"ng-container",3),t.k0s()(),t.j41(5,"div",4),t.DNE(6,Fu,3,4,"span",5),t.k0s(),t.j41(7,"div",6)(8,"div",7),t.nrm(9,"lucide-icon",8),t.DNE(10,Gu,1,2,"app-testbank-frontend-count-down-box",9),t.DNE(11,Du,2,3,"ng-template",null,10,t.C5r),t.k0s()(),t.j41(13,"div",11)(14,"button",12),t.bIt("click",function(){return o.sAztTestResizeService.zoomOut()}),t.nI1(15,"mytranslate"),t.nrm(16,"lucide-icon",13),t.k0s(),t.j41(17,"button",14),t.bIt("click",function(){return o.sAztTestResizeService.zoomIn()}),t.nI1(18,"mytranslate"),t.nrm(19,"lucide-icon",15),t.k0s()(),t.j41(20,"div",16),t.nrm(21,"app-coazt-full-screen-mode-box"),t.k0s()()),2&s){const i=t.sdS(12);t.R7$(3),t.Y8G("ngClass",t.lJ4(14,Ze)),t.R7$(1),t.Y8G("ngIf",!o.isMobileScreenSize),t.R7$(2),t.Y8G("ngIf",!o.isMobileScreenSize),t.R7$(3),t.Y8G("ngClass",t.lJ4(15,Ze)),t.R7$(1),t.Y8G("ngIf",!o.currentTakeTestStepData.isUnLimitedTime)("ngIfElse",i),t.R7$(4),t.Y8G("disabled",o.sAztTestResizeService.fontSize<=1)("matTooltip",t.bMT(15,10,"lang_take_test_zoom_out")),t.R7$(3),t.Y8G("disabled",o.sAztTestResizeService.fontSize>=2)("matTooltip",t.bMT(18,12,"lang_take_test_zoom_in"))}},dependencies:[_.YU,_.bT,V.oV,d.WGl,q,ju,u.wp],encapsulation:2}),a})();const Lu=function(){return{"mr-2 text-pending":!0}};let Qu=(()=>{var n;class a extends Q._{btnCloseDialog(s){this.dialogRef.close(s)}constructor(s,o){super(o,s),this.dialogRef=s,this.data=o}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(f.CP,8),t.rXU(f.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["confirm-reset-answer"]],features:[t.Vt3],decls:17,vars:13,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[1,"text-md","font-medium","flex","items-center","px-3","pt-3"],["name","octagon-alert","size","24",3,"ngClass"],[1,"mt-2"],[3,"defaultHeight"],[1,"text-xs","text-slate-500","dark:text-slate-400","p-3","pt-0",3,"innerHtml"],[1,"p-3","text-right"],["azt-track-service","confirm-reset-answer-IROMXJMuQD",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","confirm-reset-answer-Dau1W0YPOB",1,"btn","w-24","btn-primary",3,"click"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",5)(8,"azt-mat-dialog-content",6),t.nrm(9,"div",7),t.k0s()()()(),t.j41(10,"div",8)(11,"button",9),t.bIt("click",function(){return o.btnCloseDialog(!1)}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",10),t.bIt("click",function(){return o.btnCloseDialog(!0)}),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()),2&s&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(12,Lu)),t.R7$(1),t.SpI(" ",t.bMT(6,6,"lang_auto_canh_bao")," "),t.R7$(3),t.Y8G("defaultHeight",60),t.R7$(1),t.Y8G("innerHtml",o.data.content,t.npT),t.R7$(3),t.SpI(" ",t.bMT(13,8,"lang_auto_huy")," "),t.R7$(3),t.SpI(" ",t.bMT(16,10,"lang_auto_xac_nhan")," "))},dependencies:[_.YU,Ct.U,d.WGl,u.wp],encapsulation:2}),a})();function Nu(n,a){if(1&n&&(t.j41(0,"button",13)(1,"span"),t.EFF(2),t.k0s()()),2&n){const e=t.XpG().index;t.R7$(2),t.JRh(e+1)}}function Bu(n,a){if(1&n&&(t.j41(0,"button",14)(1,"span"),t.EFF(2),t.k0s()()),2&n){const e=t.XpG().index;t.R7$(2),t.JRh(e+1)}}function $u(n,a){if(1&n&&(t.j41(0,"button",15)(1,"span"),t.EFF(2),t.k0s()()),2&n){const e=t.XpG().index;t.R7$(2),t.JRh(e+1)}}function Yu(n,a){if(1&n&&(t.j41(0,"div",9),t.DNE(1,Nu,3,1,"button",10),t.DNE(2,Bu,3,1,"button",11),t.DNE(3,$u,3,1,"button",12),t.k0s()),2&n){const e=a.$implicit;t.R7$(1),t.Y8G("ngIf",!e.practiceCheckAnswer),t.R7$(1),t.Y8G("ngIf","wrong"===e.practiceCheckAnswer||"correct"===e.practiceCheckAnswer&&e.numberOfChecks&&e.numberOfChecks>1),t.R7$(1),t.Y8G("ngIf","correct"===e.practiceCheckAnswer&&e.numberOfChecks&&e.numberOfChecks<=1)}}const Pu=function(){return[]};let Xu=(()=>{var n;class a extends Q._{constructor(s,o){super(o,s),this.dialogRef=s,this.data=o,this.isDialog=!1}closeDialog(){this.dialogRef.close()}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(f.CP,8),t.rXU(f.Vh,8))},n.\u0275cmp=t.VBU({type:n,selectors:[["show-answer-dialog"]],features:[t.Vt3],decls:13,vars:10,consts:[[1,"box","py-4","px-4"],[1,"flex","items-center"],[1,"text-md","font-medium","inline-block","mr-2"],[1,"border","border-slate-200","dark:border-darkmode-400","mt-2","overflow-auto"],["pointerEventsMethod","scrollbar",2,"max-height","50vh",3,"visibility","autoHeightDisabled"],[1,"flex","items-center","p-3",2,"flex-wrap","wrap","padding-right","0"],["class","mr-3 mb-3 answer-training-block h-full",4,"ngFor","ngForOf"],[1,"text-right","mt-4"],["azt-track-service","preview-offline-exam-pMnvQqQQGlC",1,"btn","btn-primary","w-24",3,"click"],[1,"mr-3","mb-3","answer-training-block","h-full"],["class","btn border-slate-400 btn-sm w-full h-full",4,"ngIf"],["class","btn border-slate-400 btn-sm w-full h-full bg-slate-400 dark:bg-darkmode-800",4,"ngIf"],["class","btn border-slate-400 btn-sm w-full h-full btn-success text-white",4,"ngIf"],[1,"btn","border-slate-400","btn-sm","w-full","h-full"],[1,"btn","border-slate-400","btn-sm","w-full","h-full","bg-slate-400","dark:bg-darkmode-800"],[1,"btn","border-slate-400","btn-sm","w-full","h-full","btn-success","text-white"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"span",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",3)(6,"ng-scrollbar",4)(7,"div",5),t.DNE(8,Yu,4,3,"div",6),t.k0s()()(),t.j41(9,"div",7)(10,"button",8),t.bIt("click",function(){return o.closeDialog()}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()()),2&s){let i;t.R7$(3),t.SpI(" ",t.bMT(4,5,"lang_auto_danh_sach_cau_hoi")," "),t.R7$(3),t.Y8G("visibility","hover")("autoHeightDisabled",!1),t.R7$(2),t.Y8G("ngForOf",null!==(i=o.data.questionList)&&void 0!==i?i:t.lJ4(9,Pu)),t.R7$(3),t.SpI(" ",t.bMT(12,7,"lang_auto_dong")," ")}},dependencies:[_.Sq,_.bT,g.Yh,u.wp],encapsulation:2}),a})();const oe=function(){return{"text-success":!0}};function Vu(n,a){1&n&&(t.j41(0,"div"),t.nrm(1,"lucide-icon",9),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(1,oe)))}function Uu(n,a){1&n&&t.nrm(0,"div",10)}function qu(n,a){if(1&n&&(t.j41(0,"div",7),t.DNE(1,Vu,2,2,"div",4),t.DNE(2,Uu,1,0,"div",8),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("ngIf","correct"===e.practiceCheckAnswer&&1==e.numberOfChecks),t.R7$(1),t.Y8G("ngIf","correct"===e.practiceCheckAnswer&&1!=e.numberOfChecks||"correct"!==e.practiceCheckAnswer)}}function Hu(n,a){1&n&&t.nrm(0,"div",12)}const tn=function(){return{"text-danger":!0}};function Wu(n,a){1&n&&(t.j41(0,"div",7),t.nrm(1,"lucide-icon",13),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(1,tn)))}function Ju(n,a){1&n&&(t.j41(0,"div",7),t.nrm(1,"lucide-icon",9),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(1,oe)))}const en=function(){return{"text-warning":!0}};function Ku(n,a){1&n&&(t.j41(0,"div",7),t.nrm(1,"lucide-icon",9),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(1,en)))}function Zu(n,a){if(1&n&&(t.j41(0,"div"),t.DNE(1,Hu,1,0,"div",11),t.DNE(2,Wu,2,2,"div",6),t.DNE(3,Ju,2,2,"div",6),t.DNE(4,Ku,2,2,"div",6),t.k0s()),2&n){const e=t.XpG(),s=e.index,o=e.$implicit,i=t.XpG(3);t.R7$(1),t.Y8G("ngIf",s>i.curQuestion),t.R7$(1),t.Y8G("ngIf","wrong"===o.practiceCheckAnswer),t.R7$(1),t.Y8G("ngIf","correct"===o.practiceCheckAnswer&&1==o.numberOfChecks),t.R7$(1),t.Y8G("ngIf","correct"===o.practiceCheckAnswer&&1!=o.numberOfChecks)}}function tp(n,a){if(1&n&&(t.j41(0,"li"),t.DNE(1,qu,3,2,"div",6),t.DNE(2,Zu,5,4,"div",4),t.k0s()),2&n){const e=a.index,s=t.XpG(3);t.R7$(1),t.Y8G("ngIf",e===s.curQuestion),t.R7$(1),t.Y8G("ngIf",e!==s.curQuestion)}}function ep(n,a){if(1&n&&(t.qex(0),t.DNE(1,tp,3,2,"li",5),t.bVm()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",e.questionList)}}function np(n,a){1&n&&t.nrm(0,"div",15)}function op(n,a){1&n&&t.nrm(0,"div",12)}function sp(n,a){1&n&&(t.j41(0,"div",7),t.nrm(1,"lucide-icon",13),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(1,tn)))}function ap(n,a){1&n&&(t.j41(0,"div",7),t.nrm(1,"lucide-icon",9),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(1,oe)))}function ip(n,a){1&n&&(t.j41(0,"div",7),t.nrm(1,"lucide-icon",9),t.k0s()),2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(1,en)))}function rp(n,a){if(1&n&&(t.j41(0,"div"),t.DNE(1,op,1,0,"div",11),t.DNE(2,sp,2,2,"div",6),t.DNE(3,ap,2,2,"div",6),t.DNE(4,ip,2,2,"div",6),t.k0s()),2&n){const e=t.XpG(2),s=e.index,o=e.$implicit,i=t.XpG(3);t.R7$(1),t.Y8G("ngIf",s>i.curQuestion),t.R7$(1),t.Y8G("ngIf","wrong"===o.practiceCheckAnswer),t.R7$(1),t.Y8G("ngIf","correct"===o.practiceCheckAnswer&&1==o.numberOfChecks),t.R7$(1),t.Y8G("ngIf","correct"===o.practiceCheckAnswer&&1!=o.numberOfChecks)}}function lp(n,a){if(1&n&&(t.qex(0),t.DNE(1,np,1,0,"div",14),t.DNE(2,rp,5,4,"div",4),t.bVm()),2&n){const e=t.XpG().index,s=t.XpG(3);t.R7$(1),t.Y8G("ngIf",e===s.curQuestion),t.R7$(1),t.Y8G("ngIf",e!==s.curQuestion)}}function cp(n,a){if(1&n&&(t.j41(0,"li"),t.DNE(1,lp,3,2,"ng-container",4),t.k0s()),2&n){const e=a.index,s=t.XpG(3);t.R7$(1),t.Y8G("ngIf",e>=s.startQuestionPositionInPagination&&e<s.startQuestionPositionInPagination+s.numberOfShowItem)}}function _p(n,a){if(1&n&&(t.qex(0),t.DNE(1,cp,2,1,"li",5),t.bVm()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",e.questionList)}}function up(n,a){if(1&n&&(t.j41(0,"div",1)(1,"nav",2)(2,"ul",3),t.DNE(3,ep,2,1,"ng-container",4),t.DNE(4,_p,2,1,"ng-container",4),t.k0s()()()),2&n){const e=t.XpG();t.R7$(3),t.Y8G("ngIf",e.questionList.length<=e.numberOfShowItem),t.R7$(1),t.Y8G("ngIf",e.questionList.length>e.numberOfShowItem)}}let pp=(()=>{var n;class a extends b.H{}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["list-status-answer"]],inputs:{questionList:"questionList",curQuestion:"curQuestion",startQuestionPositionInPagination:"startQuestionPositionInPagination",numberOfShowItem:"numberOfShowItem"},features:[t.Vt3],decls:1,vars:1,consts:[["class","azt-hidden md:block",4,"ngIf"],[1,"azt-hidden","md:block"],[1,"inline-block",2,"vertical-align","middle"],[1,"pagination","items-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","mx-1",4,"ngIf"],[1,"mx-1"],["class","w-4 h-4 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400",4,"ngIf"],["name","check","size","16",3,"ngClass"],[1,"w-4","h-4","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400"],["class","w-2 h-2 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400 mx-1",4,"ngIf"],[1,"w-2","h-2","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400","mx-1"],["name","x","size","16",3,"ngClass"],["class","w-4 h-4 rounded-full border-w-2 border-slate-400 dark:border-darkmode-400 mx-1",4,"ngIf"],[1,"w-4","h-4","rounded-full","border-w-2","border-slate-400","dark:border-darkmode-400","mx-1"]],template:function(s,o){1&s&&t.DNE(0,up,5,2,"div",0),2&s&&t.Y8G("ngIf",o.questionList.length)},dependencies:[_.YU,_.Sq,_.bT,d.WGl],encapsulation:2}),a})();function mp(n,a){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function dp(n,a){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_testbank_frontend_well_done")," "))}function gp(n,a){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_testbank_frontend_pay_more_attention_okay")," "))}function fp(n,a){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_testbank_frontend_keep_up_the_good_work_keep_going")," "))}function Tp(n,a){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_testbank_frontend_keep_trying_harder_okay")," "))}function hp(n,a){if(1&n&&(t.qex(0),t.j41(1,"div",32),t.nrm(2,"lucide-icon",33),t.k0s(),t.j41(3,"div",34)(4,"div",35),t.DNE(5,dp,3,3,"span",20),t.DNE(6,gp,3,3,"span",20),t.k0s(),t.j41(7,"div",36),t.DNE(8,fp,3,3,"span",20),t.DNE(9,Tp,3,3,"span",20),t.k0s()(),t.bVm()),2&n){const e=t.XpG(3);t.R7$(5),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.numberOfChecks<=1),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.numberOfChecks>1),t.R7$(2),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.numberOfChecks<=1),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.numberOfChecks>1)}}function bp(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",37),t.nrm(1,"lucide-icon",38),t.k0s(),t.j41(2,"div",34)(3,"div",35)(4,"span"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"div",36)(8,"span")(9,"span"),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"a",39),t.bIt("click",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.currentTakeTestStepData.nextBackQuestionModel.isLastQuestion?o.finishTrainingTest():o.skipQuestion())}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()()()}2&n&&(t.R7$(5),t.JRh(t.bMT(6,3,"lang_testbank_frontend_not_correct")+"!"),t.R7$(5),t.JRh(t.bMT(11,5,"lang_testbank_frontend_try_again_or_you_can")+" "),t.R7$(3),t.SpI(" ",t.bMT(14,7,"lang_testbank_frontend_skip")," "))}function Sp(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",21)(1,"div",22)(2,"div",23),t.DNE(3,hp,10,4,"ng-container",24),t.DNE(4,bp,15,9,"ng-template",null,25,t.C5r),t.j41(6,"div",26)(7,"button",27),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.closeStatusBoxAnswer())}),t.j41(8,"span",28),t.nrm(9,"lucide-icon",29),t.k0s()()()(),t.j41(10,"div",16)(11,"div",30),t.nrm(12,"lucide-icon",31),t.k0s()()()()}if(2&n){const e=t.sdS(5),s=t.XpG(2);t.R7$(3),t.Y8G("ngIf","correct"==s.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer)("ngIfElse",e)}}function xp(n,a){1&n&&(t.j41(0,"span",42),t.nrm(1,"azt-loading-ui"),t.k0s())}function kp(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",40),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.checkAnswerQuestionByApi(!1))}),t.DNE(1,xp,2,0,"span",41),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&n){const e=t.XpG(2);t.Y8G("disabled",!e.sAztTestQuestionService.checkQuestionHasAnswer(e.currentTakeTestStepData,e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id)),t.R7$(1),t.Y8G("ngIf",e.isCheckingAnswer),t.R7$(2),t.JRh(t.bMT(4,3,null==e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer?"lang_testbank_check":"lang_testbank_try_again"))}}function vp(n,a){if(1&n){const e=t.RV6();t.j41(0,"button",43),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.currentTakeTestStepData.nextBackQuestionModel.isLastQuestion?o.finishTrainingTest():o.nextQuestion())}),t.j41(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()}if(2&n){const e=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,1,e.currentTakeTestStepData.nextBackQuestionModel.isLastQuestion?"lang_testbank_frontend_view_results":"lang_testbank_next_question"))}}function Cp(n,a){1&n&&(t.qex(0),t.j41(1,"div",44),t.nrm(2,"div",45)(3,"div",46),t.k0s(),t.bVm())}function wp(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",4)(1,"button",5),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.resetAnswerQuestion())}),t.j41(2,"span",6),t.nrm(3,"lucide-icon",7),t.k0s(),t.j41(4,"span",8),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"button",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showAnswerDialog())}),t.j41(8,"span",10),t.nrm(9,"lucide-icon",11),t.k0s(),t.j41(10,"span",12),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",13),t.nrm(14,"list-status-answer",14),t.k0s()(),t.j41(15,"div",15)(16,"div",16),t.DNE(17,Sp,13,2,"div",17),t.DNE(18,kp,5,5,"button",18),t.DNE(19,vp,4,3,"button",19),t.DNE(20,Cp,4,0,"ng-container",20),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(1),t.Y8G("disabled",!e.hasWrongAnswer||e.currentTakeTestStepData.nextBackQuestionModel.isLastQuestion),t.R7$(4),t.SpI(" ",t.bMT(6,11,"lang_testbank_start_over")," "),t.R7$(6),t.SpI(" ",t.bMT(12,13,"lang_auto_cau")+" "+(e.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex+1)+"/"+e.currentTakeTestStepData.viewQuestionObjs.length," "),t.R7$(3),t.Y8G("questionList",e.currentTakeTestStepData.viewQuestionObjs)("curQuestion",e.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex)("startQuestionPositionInPagination",e.startQuestionPositionInPagination)("numberOfShowItem",e.limitNumberQuestionsInPagination),t.R7$(3),t.Y8G("ngIf",e.isShowAnswerStatusBox&&e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer&&e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.numberOfChecks),t.R7$(1),t.Y8G("ngIf",null==e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer||"wrong"===e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer),t.R7$(1),t.Y8G("ngIf","correct"===e.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer),t.R7$(1),t.Y8G("ngIf",e.isShowSuccessAnimationBox)}}let Ip=(()=>{var n;class a extends b.H{checkAnswerQuestionByApi(s){s||(this.isCheckingAnswer=!0);let o=this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj,i={questionId:o.id,answerContent:[{index:999,content:""}]};const r={examResultId:this.currentTakeTestStepData.termExamResultId,answer:s?i:this.sAztTestQuestionService.getAnswerOfQuestion(this.currentTakeTestStepData,o.id)??i};this.waitDestroy(this.frontExamResultService.apiFrontExamResultSaveQuestionResultEncryptPost(this.encryptionHelper.payload(r),this.currentTakeTestStepData.examObj.hashId).subscribe(l=>{if(!l.success)return this.isCheckingAnswer=!1,this.errorStatusObj(l.message,!0);let p=l.data;o.numberOfChecks=(o.numberOfChecks??0)+1,s?o.practiceCheckAnswer="wrong":(this.isShowAnswerStatusBox=!0,o.practiceCheckAnswer=p?.correct?"correct":"wrong","correct"==o.practiceCheckAnswer&&(this.isShowSuccessAnimationBox=!0,o.numberOfChecks<=1&&this.trainingAudioSuccess.play())),"correct"!==o.practiceCheckAnswer&&(this.hasWrongAnswer=!0),this.isCheckingAnswer=!1}))}finishTrainingTest(){this.initStatusObj(),this.waitDestroy(this.frontExamService.apiFrontExamFinishExamResultGet(this.currentTakeTestStepData.examObj.hashId??"",this.currentTakeTestStepData.termExamResultId).subscribe(s=>{if(!s.success)return this.errorStatusObj(s.message,!0);if(s.data?.status){try{this.localStorageObject.clearAllCache(),this.sAztFullScreenService.exitFullscreen()}catch{}this.stopStatusObj(),this.myNavigation(`/test/submit-test/${this.tenantId}/${this.curCateId}/${this.currentTakeTestStepData.examObj.hashId}/${this.currentTakeTestStepData.termExamResultId}`)}}))}skipQuestion(){this.currentTakeTestStepData=this.sAztTestNextBackQuestionService.nextTo(this.currentTakeTestStepData,this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj),this.startQuestionPositionInPagination=this.sAztTrainingService.calculateStartQuestionPosition(this.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex,this.limitNumberQuestionsInPagination),this.isShowSuccessAnimationBox=!1}nextQuestion(){this.currentTakeTestStepData=this.sAztTestNextBackQuestionService.nextTo(this.currentTakeTestStepData,this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj),this.startQuestionPositionInPagination=this.sAztTrainingService.calculateStartQuestionPosition(this.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex,this.limitNumberQuestionsInPagination),this.isShowSuccessAnimationBox=!1}resetAnswerQuestion(){const o={content:this.commonService.myTranslateInstant("lang_testbank_when_confirming_the_system_will_reset_all_the_answers_you_have_chosen")+"!"};this.sAztDialogService.open(Qu,{data:o,width:"500px"}).afterClosed().subscribe(r=>{r&&(this.initStatusObj(),this.waitDestroy(this.frontExamService.apiFrontExamResetExamResultGet(this.currentTakeTestStepData.examObj.hashId??"",this.currentTakeTestStepData.termExamResultId).subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message,!0);this.sAztTestQuestionService.clearAllData(this.currentTakeTestStepData),this.stopStatusObj(),this.resetTrainingTestEvent.emit()})))})}showHintAnswer(){this.currentTakeTestStepData=this.sAztTestQuestionService.setShowHint(this.currentTakeTestStepData,this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id),"correct"!==this.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.practiceCheckAnswer&&this.checkAnswerQuestionByApi(!0)}showAnswerDialog(){this.sAztDialogService.open(Xu,{data:{questionList:this.currentTakeTestStepData.viewQuestionObjs},width:"800px"})}closeStatusBoxAnswer(){this.isShowAnswerStatusBox=!1}ngOnInit(){let s=this.sAztTrainingService.findLastQuestionObjThatHasAnswer(this.currentTakeTestStepData);null!=s&&(this.currentTakeTestStepData=this.sAztTestNextBackQuestionService.nextTo(this.currentTakeTestStepData,s)),this.hasWrongAnswer=this.sAztTrainingService.hasWrongAnswer(this.currentTakeTestStepData),this.startQuestionPositionInPagination=this.sAztTrainingService.calculateStartQuestionPosition(this.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex,this.limitNumberQuestionsInPagination)}constructor(s,o,i,r,l){super(),this.localStorageObject=s,this.frontExamResultService=o,this.frontExamService=i,this.sAztDialogService=r,this.encryptionHelper=l,this.resetTrainingTestEvent=new t.bkB,this.sAztTrainingService=new Ke,this.hasWrongAnswer=!1,this.startQuestionPositionInPagination=0,this.limitNumberQuestionsInPagination=15,this.isShowAnswerStatusBox=!1,this.isShowSuccessAnimationBox=!1,this.trainingAudioSuccess=new Audio("/assets/audio/correct.mp3"),this.isCheckingAnswer=!1,this.sAztFullScreenService=new U}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(Ee.G),t.rXU(z.Ry),t.rXU(z.iB),t.rXU(It.i),t.rXU(Oe.w))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-training-footer-box"]],inputs:{currentTakeTestStepData:"currentTakeTestStepData",requiredNextBackQuestionModel:"requiredNextBackQuestionModel",sAztTestNextBackQuestionService:"sAztTestNextBackQuestionService",sAztTestQuestionService:"sAztTestQuestionService",tenantId:"tenantId",curCateId:"curCateId"},outputs:{resetTrainingTestEvent:"resetTrainingTestEvent"},features:[t.Vt3],decls:4,vars:2,consts:[[1,"box","z-50","rounded-none","fixed","flex","items-center","bottom-0","left-0","p-3","w-full"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"flex","items-center","mr-auto"],["azt-track-service","take-training-q7-dI4je6b",1,"btn","border-transparent","shadow-none","btn-outline-primary","mr-2",3,"disabled","click"],[1,"w-5","h-5"],["name","rotate-ccw","size","20"],[1,"azt-hidden","md:block","ml-2"],["azt-track-service","take-training-QglPB2g4wq",1,"btn","border-transparent","shadow-none","btn-outline-primary","mr-2",3,"click"],[1,"w-5","h-5","mr-2"],["name","clipboard-list","size","20"],[1,"font-medium"],[1,"list-status-answer"],[3,"questionList","curQuestion","startQuestionPositionInPagination","numberOfShowItem"],[1,"ml-auto"],[1,"relative"],["class","box-status",4,"ngIf"],["azt-track-service","take-training-Vy9M0G9VK1u","class","btn btn-primary w-32",3,"disabled","click",4,"ngIf"],["azt-track-service","take-training-EtpBWukccKO","class","btn btn-primary w-48",3,"click",4,"ngIf"],[4,"ngIf"],[1,"box-status"],[1,"box","box-status-answer","absolute","p-3"],[1,"flex","items-center","relative"],[4,"ngIf","ngIfElse"],["incorrectTpl",""],[1,"absolute",2,"top","-8px","right","-8px"],["azt-track-service","take-training-7mWj7MPCixD",1,"btn","btn-sm","btn-outline-danger","btn-transparent",3,"click"],[1,"w-4","h-4","inline-block"],["name","x","size","18"],[1,"absolute","icon-triangle"],["name","chevron-down","size","20"],[1,"w-10","h-10","text-pending"],["name","star","size","40"],[1,"ml-3"],[1,"font-medium","text-lg"],[1,"mt-0.5"],[1,"w-10","h-10","text-primary"],["name","rotate-ccw","size","40"],["azt-track-service","take-training-CInmJPjmtb",1,"btn-text-primary","font-medium",3,"click"],["azt-track-service","take-training-Vy9M0G9VK1u",1,"btn","btn-primary","w-32",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","take-training-EtpBWukccKO",1,"btn","btn-primary","w-48",3,"click"],[1,"pyro"],[1,"before"],[1,"after"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0),t.DNE(1,mp,1,1,"azt-loading-effect",1),t.DNE(2,wp,21,15,"ng-template",null,2,t.C5r),t.k0s()),2&s){const i=t.sdS(3);t.R7$(1),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",i)}},dependencies:[_.bT,j.K,pt.R,d.WGl,pp,u.wp],styles:[".box-status-answer[_ngcontent-%COMP%]{width:280px;top:-110px;right:50px}.icon-triangle[_ngcontent-%COMP%]{top:7px;right:55px}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.pyro[_ngcontent-%COMP%] > .before[_ngcontent-%COMP%], .pyro[_ngcontent-%COMP%] > .after[_ngcontent-%COMP%]{position:absolute;width:5px;height:5px;border-radius:50%;box-shadow:0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff,0 0 #fff;animation:1s _ngcontent-%COMP%_bang ease-out infinite backwards,1s _ngcontent-%COMP%_gravity ease-in infinite backwards,5s _ngcontent-%COMP%_position linear infinite backwards}.pyro[_ngcontent-%COMP%] > .after[_ngcontent-%COMP%]{animation-delay:1.25s,1.25s,1.25s;animation-duration:1.25s,1.25s,6.25s}@keyframes _ngcontent-%COMP%_bang{to{box-shadow:246px 73.3333333333px #f0d,-53px -16.6666666667px #3f0,-229px 51.3333333333px #ffc800,-8px -326.6666666667px #ffd900,-52px 54.3333333333px #0fc,-113px -347.6666666667px #0f4,-104px -207.6666666667px #73ff00,-9px -355.6666666667px #ffbf00,-195px -143.6666666667px #fbff00,236px -285.6666666667px #f90,26px -352.6666666667px #f50,9px -296.6666666667px #00ff40,33px -152.6666666667px #00ff15,104px 81.3333333333px #7300ff,9px -372.6666666667px #ffa600,-133px 4.3333333333px #aeff00,58px -350.6666666667px #ff00ea,-154px -145.6666666667px #ff0095,29px -31.6666666667px #ff4000,113px -35.6666666667px #b0f,-216px -293.6666666667px #7bff00,205px -370.6666666667px #d0f,111px 19.3333333333px #00ffae,181px -189.6666666667px #00fff2,-145px -194.6666666667px #30f,-11px -89.6666666667px #00ff6a,64px -34.6666666667px #ff0059,168px -48.6666666667px #ff6200,137px -115.6666666667px #00c8ff,-91px 31.3333333333px #c8ff00,-84px 80.3333333333px #00ff84,-21px -333.6666666667px #95ff00,-225px -298.6666666667px #e500ff,142px -396.6666666667px #0f1,-44px -175.6666666667px #8c00ff,215px -97.6666666667px #0026ff,155px 51.3333333333px #ff00a6,-183px -253.6666666667px #f2ff00,227px -279.6666666667px #b0f,40px -308.6666666667px #ff00c3,130px -165.6666666667px #ff0400,-42px -227.6666666667px #0ff,244px -55.6666666667px #2bff00,-107px 9.3333333333px #0059ff,49px -352.6666666667px #ff5900,246px -207.6666666667px #84ff00,122px -300.6666666667px #0bf,231px -407.6666666667px #ff0026,62px -235.6666666667px #ff009d,-150px -143.6666666667px #ff00f2,27px -144.6666666667px #07f}}@keyframes _ngcontent-%COMP%_gravity{to{transform:translateY(200px);-moz-transform:translateY(200px);-webkit-transform:translateY(200px);-o-transform:translateY(200px);-ms-transform:translateY(200px);opacity:0}}@keyframes _ngcontent-%COMP%_position{0%,19.9%{margin-top:10%;margin-left:40%}20%,39.9%{margin-top:40%;margin-left:30%}40%,59.9%{margin-top:20%;margin-left:70%}60%,79.9%{margin-top:30%;margin-left:20%}80%,99.9%{margin-top:30%;margin-left:80%}}"]}),a})();const Op=["trainingFooterBox"],Ep=["leaveWindowBox"];function yp(n,a){if(1&n&&t.nrm(0,"azt-loading-effect",2),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Ap(n,a){1&n&&t.nrm(0,"app-coazt-leave-window-event",null,13)}function zp(n,a){if(1&n&&t.eu8(0,14),2&n){t.XpG();const e=t.sdS(15);t.Y8G("ngTemplateOutlet",e)}}const jp=function(n,a){return{"container-content-mobile":n,"container-content-desktop":a}};function Rp(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",16),t.bIt("contextmenu",function(){t.eBV(e);const o=t.XpG(5);return t.Njj(o.allowContextMenu)}),t.j41(2,"div",17),t.eu8(3,14),t.k0s()(),t.bVm()}if(2&n){t.XpG(3);const e=t.sdS(7),s=t.XpG(2);t.R7$(2),t.Y8G("ngClass",t.l_i(2,jp,s.isMobileScreenSize,!s.isMobileScreenSize)),t.R7$(1),t.Y8G("ngTemplateOutlet",e)}}function Fp(n,a){if(1&n&&(t.nrm(0,"azt-loading-effect",18),t.nI1(1,"mytranslate")),2&n){const e=t.XpG(5);t.Y8G("currentStatusObj",e.statusObj)("customText",t.bMT(1,2,"lang_auto_dang_tai_du_lieu_de_thi")+": "+e.questsLoadState.loadPercent+"%")}}function Gp(n,a){if(1&n&&t.eu8(0,14),2&n){t.XpG(3);const e=t.sdS(19);t.Y8G("ngTemplateOutlet",e)}}function Dp(n,a){if(1&n&&(t.qex(0),t.DNE(1,Rp,4,5,"ng-container",3),t.DNE(2,Fp,2,4,"azt-loading-effect",15),t.DNE(3,Gp,1,1,"ng-container",5),t.bVm()),2&n){const e=t.XpG(4);t.R7$(1),t.Y8G("ngIf",!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.R7$(1),t.Y8G("ngIf",e.questsLoadState.startLoad),t.R7$(1),t.Y8G("ngIf",!e.questsLoadState.startLoad&&e.questsLoadState.hasErrs)}}function Mp(n,a){if(1&n&&t.eu8(0,14),2&n){t.XpG(2);const e=t.sdS(17);t.Y8G("ngTemplateOutlet",e)}}function Lp(n,a){if(1&n&&t.eu8(0,14),2&n){t.XpG(2);const e=t.sdS(11);t.Y8G("ngTemplateOutlet",e)}}function Qp(n,a){if(1&n&&t.eu8(0,14),2&n){t.XpG(2);const e=t.sdS(13);t.Y8G("ngTemplateOutlet",e)}}const Np=function(n,a,e,s){return[n,a,e,s]},nn=function(n,a){return[n,a]};function Bp(n,a){if(1&n&&(t.j41(0,"div"),t.DNE(1,Dp,4,3,"ng-container",3),t.DNE(2,Mp,1,1,"ng-container",5),t.DNE(3,Lp,1,1,"ng-container",5),t.DNE(4,Qp,1,1,"ng-container",5),t.k0s()),2&n){const e=t.XpG(3);t.R7$(1),t.Y8G("ngIf",t.ziG(4,Np,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep)),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.WAIT_TO_TEST_TIME),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.CHOOSE_STUDENT),t.R7$(1),t.Y8G("ngIf",t.l_i(9,nn,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5).includes(e.currentTakeTestStepData.currentStep))}}function $p(n,a){if(1&n&&(t.j41(0,"div",24)(1,"span",25),t.EFF(2),t.k0s()()),2&n){const e=t.XpG(4);t.R7$(2),t.JRh(e.currentTakeTestStepData.testingUserObj.fullName)}}function Yp(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-training-footer-box",26,27),t.bIt("resetTrainingTestEvent",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.reloadPage())}),t.k0s()}if(2&n){const e=t.XpG(4);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("requiredNextBackQuestionModel",e.currentTakeTestStepData.nextBackQuestionModel)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("sAztTestQuestionService",e.sAztTestQuestionService)("tenantId",e.tenantId)("curCateId",e.curCateId)}}const Pp=function(n,a){return{"margin-question-bar-for-training-for-desktop":n,"margin-question-bar-for-training-for-mobile":a}},Xp=function(n,a){return{"monitor-screen":n,"monitor-screen-mobile":a}};function Vp(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-coazt-training-header-box",19),t.bIt("openQuitDialogEvent",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.openQuitDialogEvent.emit())}),t.k0s(),t.j41(1,"div",20),t.nrm(2,"div",21),t.DNE(3,$p,3,1,"div",22),t.eu8(4,14),t.k0s(),t.DNE(5,Yp,2,6,"app-coazt-training-footer-box",23)}if(2&n){t.XpG();const e=t.sdS(9),s=t.XpG(2);t.Y8G("currentTakeTestStepData",s.currentTakeTestStepData)("sAztTestResizeService",s.sAztTestResizeService)("isMobileScreenSize",s.isMobileScreenSize),t.R7$(1),t.Y8G("ngClass",t.l_i(8,Pp,!s.isMobileScreenSize,s.isMobileScreenSize)),t.R7$(1),t.Y8G("ngClass",t.l_i(11,Xp,!s.isMobileScreenSize,s.isMobileScreenSize)),t.R7$(1),t.Y8G("ngIf",s.isMobileScreenSize),t.R7$(1),t.Y8G("ngTemplateOutlet",e),t.R7$(1),t.Y8G("ngIf",s.currentTakeTestStepData.nextBackQuestionModel)}}function Up(n,a){if(1&n&&(t.j41(0,"div",30),t.nrm(1,"div",31),t.nI1(2,"safeNormalHtmlContent"),t.k0s()),2&n){const e=t.XpG(4);let s;t.R7$(1),t.Y8G("innerHTML",t.bMT(2,1,null!==(s=null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.header)&&void 0!==s?s:""),t.npT)}}function qp(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",33)(1,"div",34)(2,"azt-question-standalone-for-step-test",35),t.bIt("setOneChoiceAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(5);return t.Njj(i.setOneChoiceAnswerEmitter.emit(o))})("setTrueFalseAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(5);return t.Njj(i.setTrueFalseAnswerEmitter.emit(o))})("setFillAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(5);return t.Njj(i.setFillAnswerEmitter.emit(o))})("setEssayAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(5);return t.Njj(i.setEssayAnswerEmitter.emit(o))})("setResultTracking",function(o){t.eBV(e);const i=t.XpG(5);return t.Njj(i.setResultTracking.emit(o))})("sendAudioEmit",function(o){t.eBV(e);const i=t.XpG(5);return t.Njj(i.sendAudioForQuestion.emit(o))})("showHintAnswer",function(){t.eBV(e);const o=t.XpG(5);return t.Njj(null==o.trainingFooterBox?null:o.trainingFooterBox.showHintAnswer())}),t.k0s()()()}if(2&n){const e=a.$implicit,s=t.XpG(5);let o;t.R7$(1),t.FS9("id","question_"+e.id),t.Y8G("hidden",e.id!=s.currentTakeTestStepData.nextBackQuestionModel.curQuestionObj.id),t.R7$(1),t.Y8G("examObj",s.currentTakeTestStepData.examObj)("questionObj",e)("follower",s.followerRenderQuest)("curQuestionIndex",s.currentTakeTestStepData.nextBackQuestionModel.curQuestionIndex)("fontSize",s.sAztTestResizeService.fontSize)("isShowExplain",null!==(o=e.isShowHint)&&void 0!==o&&o)("currentAnswerIsCorrect","correct"===e.practiceCheckAnswer)}}function Hp(n,a){if(1&n&&(t.qex(0),t.DNE(1,qp,3,9,"div",32),t.bVm()),2&n){const e=t.XpG(4);t.R7$(1),t.Y8G("ngForOf",e.currentTakeTestStepData.viewQuestionObjs)}}function Wp(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-sort-essay-files-box",28),t.bIt("changeAnswerFiles",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeAnswerFiles.emit(o))}),t.k0s(),t.DNE(1,Up,3,3,"div",29),t.DNE(2,Hp,2,1,"ng-container",3)}if(2&n){const e=t.XpG(3);t.Y8G("answerFiles",e.currentTakeTestStepData.files),t.R7$(1),t.Y8G("ngIf",null==e.currentTakeTestStepData.examConfigObj?null:e.currentTakeTestStepData.examConfigObj.allowHeader),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.nextBackQuestionModel)}}const Jp=function(n){return{joinByExamHashId:n}};function Kp(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-join-classroom-box",36),t.bIt("selectStudentEvent",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.selectStudentEvent.emit(o))}),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("joinClassroomByType",t.eq3(1,Jp,e.currentTakeTestStepData.examObj.hashId))}}function Zp(n,a){if(1&n){const e=t.RV6();t.j41(0,"app-test-bank-frontend-over-time-of-exam",37),t.bIt("submitTestEvent",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.submitTestToApi.emit(o))}),t.j41(1,"app-coazt-upload-essay-file-at-over-time-box",38),t.bIt("showUploadEssayFilesDialogEvent",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.showUploadEssayFilesDialog.emit())})("changeAnswerFilesEvent",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.changeAnswerFiles.emit(o))}),t.k0s()()}if(2&n){const e=t.XpG(3);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)("isMobile",e.isMobileScreenSize)("files",e.currentTakeTestStepData.files)("followerRenderQuest",e.followerRenderQuest)("sAztTestResizeService",e.sAztTestResizeService)("userObj",e.currentTakeTestStepData.testingUserObj),t.R7$(1),t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)}}const tm=function(n){return[n]};function em(n,a){if(1&n&&(t.j41(0,"div",39)(1,"div",40)(2,"div",41),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",42)(6,"a",43),t.nI1(7,"navigationLocalize"),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()),2&n){const e=t.XpG(3);t.R7$(3),t.JRh(t.bMT(4,3,e.currentTakeTestStepData.errorMessage)),t.R7$(3),t.Y8G("routerLink",t.eq3(9,tm,t.bMT(7,5,e.homeLink))),t.R7$(2),t.JRh(t.bMT(9,7,"lang_auto_quay_lai_trang_chu"))}}function nm(n,a){if(1&n&&t.nrm(0,"app-coazt-wait-to-test-time-box",44),2&n){const e=t.XpG(3);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("homeLink",e.homeLink)}}function om(n,a){if(1&n&&t.nrm(0,"app-test-bank-frontend-load-question-error-box",45),2&n){const e=t.XpG(3);t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData)("questsLoadState",e.questsLoadState)("backToLink",e.backToLink)}}const sm=function(n,a,e,s,o,i,r,l){return[n,a,e,s,o,i,r,l]};function am(n,a){if(1&n&&(t.qex(0),t.nrm(1,"app-coazt-tracking-full-screen-event",4)(2,"app-coazt-tracking-visible-event",4),t.DNE(3,Ap,2,0,"app-coazt-leave-window-event",3),t.DNE(4,zp,1,1,"ng-container",5),t.DNE(5,Bp,5,12,"div",3),t.DNE(6,Vp,6,14,"ng-template",null,6,t.C5r),t.DNE(8,Wp,3,3,"ng-template",null,7,t.C5r),t.DNE(10,Kp,1,3,"ng-template",null,8,t.C5r),t.DNE(12,Zp,2,9,"ng-template",null,9,t.C5r),t.DNE(14,em,10,11,"ng-template",null,10,t.C5r),t.DNE(16,nm,1,2,"ng-template",null,11,t.C5r),t.DNE(18,om,1,3,"ng-template",null,12,t.C5r),t.bVm()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData),t.R7$(1),t.Y8G("currentTakeTestStepData",e.currentTakeTestStepData),t.R7$(1),t.Y8G("ngIf",t.l_i(5,nn,e.allTakeTestSteps.START_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST).includes(e.currentTakeTestStepData.currentStep)&&!e.questsLoadState.startLoad&&!e.questsLoadState.hasErrs),t.R7$(1),t.Y8G("ngIf",e.currentTakeTestStepData.currentStep==e.allTakeTestSteps.SHOW_ERROR_MESSAGE),t.R7$(1),t.Y8G("ngIf",t.lV(8,sm,e.allTakeTestSteps.WAIT_TO_TEST_TIME,e.allTakeTestSteps.CHOOSE_STUDENT,e.allTakeTestSteps.RUN_OUT_OF_TIME_AFTER_TEST,e.allTakeTestSteps.RUN_OUT_OF_TIME_WHEN_F5,e.allTakeTestSteps.SHOW_ESSAY_WARNING_DIALOG,e.allTakeTestSteps.SHOW_FULL_SCREEN,e.allTakeTestSteps.SHOW_VIDEO_REQUIRED,e.allTakeTestSteps.START_TEST).includes(e.currentTakeTestStepData.currentStep))}}function im(n,a){if(1&n&&t.DNE(0,am,20,17,"ng-container",3),2&n){const e=t.XpG();t.Y8G("ngIf",e.currentTakeTestStepData)}}let rm=(()=>{var n;class a extends mu{constructor(){super(...arguments),this.openQuitDialogEvent=new t.bkB}reloadPage(){this.leaveWindowBox?.stopConfirm(),setTimeout(()=>{window.location.reload()},0)}}return(n=a).\u0275fac=function(){let e;return function(o){return(e||(e=t.xGo(n)))(o||n)}}(),n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-training-in-step-layout"]],viewQuery:function(s,o){if(1&s&&(t.GBs(Op,5),t.GBs(Ep,5)),2&s){let i;t.mGM(i=t.lsd())&&(o.trainingFooterBox=i.first),t.mGM(i=t.lsd())&&(o.leaveWindowBox=i.first)}},outputs:{openQuitDialogEvent:"openQuitDialogEvent"},features:[t.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[4,"ngIf"],[3,"currentTakeTestStepData"],[3,"ngTemplateOutlet",4,"ngIf"],["mainTakeTestContentTpl",""],["showStepQuestionTpl",""],["chooseStudentTpl",""],["overTimeTpl",""],["commonErrorTpl",""],["waitToTestTimeTpl",""],["lstQuestHasErrTpl",""],["leaveWindowBox",""],[3,"ngTemplateOutlet"],[3,"currentStatusObj","customText",4,"ngIf"],[1,"p-0",3,"contextmenu"],[1,"content","relative",2,"padding","0 10px",3,"ngClass"],[3,"currentStatusObj","customText"],[3,"currentTakeTestStepData","sAztTestResizeService","isMobileScreenSize","openQuitDialogEvent"],[1,"pb-4",3,"ngClass"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["class","p-1 text-center mt-1",4,"ngIf"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","sAztTestQuestionService","tenantId","curCateId","resetTrainingTestEvent",4,"ngIf"],[1,"p-1","text-center","mt-1"],[2,"vertical-align","middle","font-weight","420"],[3,"currentTakeTestStepData","requiredNextBackQuestionModel","sAztTestNextBackQuestionService","sAztTestQuestionService","tenantId","curCateId","resetTrainingTestEvent"],["trainingFooterBox",""],[3,"answerFiles","changeAnswerFiles"],["class","box p-3 mb-3",4,"ngIf"],[1,"box","p-3","mb-3"],[2,"line-height","1.5",3,"innerHTML"],["class","mt-4","style","animation-delay: 0.05s",4,"ngFor","ngForOf"],[1,"mt-4",2,"animation-delay","0.05s"],[1,"azt-question","box","mt-1","pl-0","pr-0","relative",3,"id","hidden"],[3,"examObj","questionObj","follower","curQuestionIndex","fontSize","isShowExplain","currentAnswerIsCorrect","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","sendAudioEmit","showHintAnswer"],[3,"joinClassroomByType","selectStudentEvent"],[3,"currentTakeTestStepData","questsLoadState","backToLink","isMobile","files","followerRenderQuest","sAztTestResizeService","userObj","submitTestEvent"],[3,"currentTakeTestStepData","showUploadEssayFilesDialogEvent","changeAnswerFilesEvent"],[1,"box","pt-6"],[1,"text-center","pb-4"],[1,"block","text-danger","text-center"],[1,"text-center","clickable","mt-2"],["azt-track-service","main-component-_qI7rWD5S",1,"link__color","link__hover",3,"routerLink"],[3,"currentTakeTestStepData","homeLink"],[3,"currentTakeTestStepData","questsLoadState","backToLink"]],template:function(s,o){if(1&s&&(t.DNE(0,yp,1,1,"azt-loading-effect",0),t.DNE(1,im,1,1,"ng-template",null,1,t.C5r)),2&s){const i=t.sdS(2);t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",i)}},dependencies:[k.Wk,_.YU,_.Sq,_.bT,_.T3,j.K,gt.s,yu,Ft.l,Gt,Dt,Mt,Lt,Qt,Bt,$t,Mu,Ip,u.F2,u.wp,u._y],styles:[".margin-question-bar-for-training-for-desktop[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.margin-question-bar-for-training-for-mobile[_ngcontent-%COMP%]{margin-top:calc(3rem + 20px)!important}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.lucide-icon[_ngcontent-%COMP%]{stroke-width:2!important}.container-content-mobile[_ngcontent-%COMP%]{padding-bottom:400px!important}.container-content-desktop[_ngcontent-%COMP%]{padding-bottom:20px!important}"]}),a})();const lm=["trainingFooterBox"],cm=["leaveWindowBox"];function _m(n,a){if(1&n&&t.nrm(0,"azt-loading-effect",2),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function um(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"app-coazt-take-training-in-step-layout",4),t.bIt("openQuitDialogEvent",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openQuitDialog())})("showUploadEssayFilesDialog",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.showUploadEssayFilesDialog())})("openSubmitExam",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.openSubmitExam())})("selectStudentEvent",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.selectStudentEvent(o))})("changeAnswerFiles",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.changeAnswerFiles(o))})("setOneChoiceAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setQuestionOneChoiceAnswer(o))})("setTrueFalseAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setQuestionTrueFalseAnswer(o))})("setFillAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setQuestionFillAnswer(o))})("setEssayAnswerEmitter",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setQuestionEssayAnswer(o))})("setResultTracking",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.setResultTracking(o))})("sendAudioForQuestion",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.sendAudioForQuestion(o))})("submitTestToApi",function(o){t.eBV(e);const i=t.XpG(2);return t.Njj(i.submitTestToApi(o))}),t.k0s(),t.bVm()}if(2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("sAztTestResizeService",e.sAztTestResizeService)("sAztTestNextBackQuestionService",e.sAztTestNextBackQuestionService)("sAztTestQuestionService",e.sAztTestQuestionService)("currentTakeTestStepData",e.currentTakeTestStepData)("followerRenderQuest",e.followerRenderQuest)("questsLoadState",e.questsLoadState)("isMobileScreenSize",e.isMobileScreenSize)("homeLink",e.homeLink)("backToLink",e.backToLink)("tenantId",e.tenantId)("curCateId",e.curCateId)}}function pm(n,a){if(1&n&&t.DNE(0,um,2,11,"ng-container",3),2&n){const e=t.XpG();t.Y8G("ngIf",e.currentTakeTestStepData)}}let mm=(()=>{var n;class a extends Fe{reloadPage(){this.leaveWindowBox?.stopConfirm(),setTimeout(()=>{window.location.reload()},0)}startShowTestContent(s,o){return this.sAztTakeTestCallApiService.getHistoryAnswerOfTrainingFromApi(this.currentTakeTestStepData,(i,r)=>{if(i)return o(i);s=(new Ke).setQuestionAnswers(s,r),this.sAztTakeTestCallApiService.getSyncQuestionDataFromApi(this.questsLoadState,this.followerRenderQuest,this.questionRenderService,s,l=>{if(this.currentTakeTestStepData=l,this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown)return o(void 0);this.currentTakeTestStepData.hasAlreadyRunIntervalCountDown=!0,this.intervalExamTime(),this.intervalToGetServerTime(),this.sAztTestResultTrackService.saveAnswerAndTrackInfoToLocalStorage(this.currentTakeTestStepData),this.sAztTakeTestCallApiService.getImagesThatUploadAtMobileQrCodeFromApi(this.currentTakeTestStepData.uploadHashCode,p=>{null!=p&&(this.currentTakeTestStepData.files=p)}),this.intervalToSendTestDataToApi(),o(void 0)})})}getInitDataFromApi(){let s=new M(this.hashId,this.browserStorageService).getPassword(),o=new M(this.hashId,this.browserStorageService).hasInfo(),i=A.c.production||A.c.isProdAzotaVn;this.initStatusObj(),this.waitDestroy(i?this.frontExamService.apiFrontExamInitDataGet(this.hashId,s,o?1:0,this.sAztTestDeviceIdService.getDeviceId(),1).subscribe(r=>{const l=this.encryptionHelper.result(r);this.processInitData(""!=s,l)}):this.frontExamService.apiFrontExamInitDataForDevServerGet(this.hashId,s,o?1:0,this.sAztTestDeviceIdService.getDeviceId(),1).subscribe(r=>{this.processInitData(""!=s,r)}))}ngOnInit(){this.initParams(),super.ngOnInit()}constructor(){super(),this.allTakeTestSteps=h,this.allowContextMenu=!A.c.production}}return(n=a).\u0275fac=function(s){return new(s||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["app-coazt-take-training"]],viewQuery:function(s,o){if(1&s&&(t.GBs(lm,5),t.GBs(cm,5)),2&s){let i;t.mGM(i=t.lsd())&&(o.trainingFooterBox=i.first),t.mGM(i=t.lsd())&&(o.leaveWindowBox=i.first)}},features:[t.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[4,"ngIf"],[3,"sAztTestResizeService","sAztTestNextBackQuestionService","sAztTestQuestionService","currentTakeTestStepData","followerRenderQuest","questsLoadState","isMobileScreenSize","homeLink","backToLink","tenantId","curCateId","openQuitDialogEvent","showUploadEssayFilesDialog","openSubmitExam","selectStudentEvent","changeAnswerFiles","setOneChoiceAnswerEmitter","setTrueFalseAnswerEmitter","setFillAnswerEmitter","setEssayAnswerEmitter","setResultTracking","sendAudioForQuestion","submitTestToApi"]],template:function(s,o){if(1&s&&(t.DNE(0,_m,1,1,"azt-loading-effect",0),t.DNE(1,pm,1,1,"ng-template",null,1,t.C5r)),2&s){const i=t.sdS(2);t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",i)}},dependencies:[_.bT,j.K,rm],encapsulation:2}),a})();var on=c(28541),dm=c(4975),gm=c(27208),fm=c(68774),Tm=c(68323),hm=c(90796);function bm(n,a){if(1&n&&t.nrm(0,"azt-loading-effect",2),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Sm(n,a){if(1&n&&(t.nrm(0,"img",23),t.nI1(1,"mycdn")),2&n){const e=t.XpG().$implicit;t.FS9("src",t.bMT(1,1,e.avatar),t.B4B)}}function xm(n,a){if(1&n&&t.nrm(0,"azt-create-avatar",24),2&n){const e=t.XpG().$implicit;t.Y8G("nameCreateAvatar",e.fullName)("size",30)}}function km(n,a){if(1&n&&t.nrm(0,"img",25),2&n){const e=t.XpG().$implicit;t.Y8G("nameImages",e.nameImages)}}function vm(n,a){if(1&n&&(t.j41(0,"p",20),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span"),t.EFF(4),t.nI1(5,"formatOnlyDateByUserUnitPipe"),t.k0s()()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_ngay_sinh"),": "),t.R7$(3),t.JRh(t.bMT(5,4,e.birthday))}}function Cm(n,a){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.Lme("",t.bMT(2,2,"lang_auto_Diem"),"\xa0",e.mark,"")}}function wm(n,a){1&n&&(t.j41(0,"span",26),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_test_result_not_marked_essay")," "))}function Im(n,a){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_chua_co_diem")," "))}function Om(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",7)(1,"button",8),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.selectStudentAction(i))}),t.j41(2,"div",9)(3,"div",10)(4,"div",11),t.DNE(5,Sm,2,3,"img",12),t.DNE(6,xm,1,2,"azt-create-avatar",13),t.k0s()(),t.j41(7,"div",14)(8,"div",15)(9,"p",16),t.EFF(10),t.nI1(11,"slice"),t.k0s(),t.j41(12,"div",17),t.DNE(13,km,1,1,"img",18),t.k0s(),t.DNE(14,vm,6,6,"p",19),t.j41(15,"p",20),t.DNE(16,Cm,3,4,"span",21),t.DNE(17,wm,3,3,"span",22),t.DNE(18,Im,3,3,"span",21),t.k0s()()()()()()}if(2&n){const e=a.$implicit;let s;t.R7$(1),t.Y8G("disabled",!e.examResultId),t.R7$(4),t.Y8G("ngIf",e.avatar),t.R7$(1),t.Y8G("ngIf",!e.avatar),t.R7$(3),t.FS9("matTooltip",e.fullName&&e.fullName.length>25?e.fullName:""),t.R7$(1),t.SpI(" ",e.fullName&&e.fullName.length>25?t.brH(11,10,e.fullName,0,25)+"..":e.fullName," "),t.R7$(3),t.Y8G("ngIf",e.nameImages&&(null!==(s=e.id)&&void 0!==s?s:0)<=0),t.R7$(1),t.Y8G("ngIf",e.birthday),t.R7$(2),t.Y8G("ngIf",e.examResultId&&e.examResultConfirmedAt),t.R7$(1),t.Y8G("ngIf",e.examResultId&&!e.examResultConfirmedAt),t.R7$(1),t.Y8G("ngIf",!e.examResultId)}}function Em(n,a){if(1&n&&(t.j41(0,"div",3)(1,"h3",4),t.EFF(2),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",5),t.DNE(7,Om,19,14,"div",6),t.k0s()()),2&n){const e=t.XpG();t.R7$(2),t.E5c("",t.bMT(3,4,e.classroomGroupObj.groupObj.name)," - ",t.bMT(4,6,e.classroomGroupObj.classroomObj.name),": ",t.bMT(5,8,"lang_auto_danh_sach_hoc_sinh"),""),t.R7$(5),t.Y8G("ngForOf",e.classroomGroupObj.classroomObj.studentObjs)}}let ym=(()=>{var n;class a extends b.H{selectStudentAction(s){this.selectStudentEvent.emit(s)}onSearchBox(s){this.searchContentObj=s}sortStudents(){this.classroomGroupObj.classroomObj.studentObjs=0==this.classroomGroupObj.classroomObj.sortType?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.classroomGroupObj.classroomObj.studentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.classroomGroupObj.classroomObj.studentObjs)??[],"pos","id")}getData(){this.initStatusObj(),this.waitDestroy(this.frontOfflineShareService.apiFrontOfflineShareGetShareOfflineDataPost({examHashId:this.examHashId,shareHashId:this.shareOfflineCode,classroomId:this.classroomGroupObj.classroomObj.id}).subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);let i=this.commonService.concatMultipleArray(o.data?.classroomGroupObjs.map(r=>r.classroomObjs)??[]).find(r=>r.id==this.classroomGroupObj.classroomObj.id);i&&(this.classroomGroupObj.classroomObj=i),this.sortStudents(),this.stopStatusObj()}))}ngOnInit(){if(super.ngOnInit(),this.classroomGroupObj.classroomObj.dataInApi)return this.sortStudents();this.getData()}constructor(s,o){super(),this.frontOfflineShareService=s,this.sortService=o,this.selectStudentEvent=new t.bkB,this.searchContentObj=new gm.Z}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(on.pC),t.rXU(fm.g))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-choose-student-in-share-offline-result"]],inputs:{classroomGroupObj:"classroomGroupObj",examHashId:"examHashId",shareOfflineCode:"shareOfflineCode"},outputs:{selectStudentEvent:"selectStudentEvent"},features:[t.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"block-main","mt-3"],[1,"font-medium","mb-3"],[1,"grid","grid-cols-12","p-2","pt-4","box",2,"background-color","#fff","min-height","100px"],["class","col-span-12 sm:col-span-12 md:col-span-4 lg:col-span-3 mb-3 px-2",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-12","md:col-span-4","lg:col-span-3","mb-3","px-2"],["azt-track-service","share-offline-result-cxL-TXi9YY",1,"flex","items-center","p-3","rounded-md","bg-slate-100","dark:bg-darkmode-300","w-full",2,"min-height","80px",3,"disabled","click"],[1,"grid","grid-cols-12","gap-2","ml-0","mr-0","justify-content-between",2,"width","100%"],[1,"col-span-3"],[1,"flex","items-center",2,"height","100%","justify-content","center"],["style","vertical-align: middle; margin-top: 2px; border-radius: 50%","width","30","height","30",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"col-span-9","pl-0"],[1,"text-left"],[1,"h5","mb-1","card-custom-title","font-bold",3,"matTooltip"],[1,"block-img"],["class","stdinfo-fullname mb-1 img-name-fluid","style","height: auto","appDrawNameImage","","loading","lazy",3,"nameImages",4,"ngIf"],["class","text-xs mb-0",4,"ngIf"],[1,"text-xs","mb-0"],[4,"ngIf"],["class","text-pending",4,"ngIf"],["width","30","height","30",2,"vertical-align","middle","margin-top","2px","border-radius","50%",3,"src"],[3,"nameCreateAvatar","size"],["appDrawNameImage","","loading","lazy",1,"stdinfo-fullname","mb-1","img-name-fluid",2,"height","auto",3,"nameImages"],[1,"text-pending"]],template:function(s,o){if(1&s&&(t.DNE(0,bm,1,1,"azt-loading-effect",0),t.DNE(1,Em,8,10,"ng-template",null,1,t.C5r)),2&s){const i=t.sdS(2);t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",i)}},dependencies:[_.Sq,_.bT,V.oV,j.K,Tm.p,hm.y,_.P9,u.wp,u.nf,u.vv],encapsulation:2}),a})();function Am(n,a){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}const zm=function(){return{"mr-2":!0}};function jm(n,a){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"a",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG(4);return t.Njj(o.backToClassroomList())}),t.j41(2,"span",12),t.nrm(3,"lucide-icon",13),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()}2&n&&(t.R7$(3),t.Y8G("ngClass",t.lJ4(4,zm)),t.R7$(1),t.SpI(" ",t.bMT(5,2,"lang_student_join_classroom_back_to_classrooms_list")," "))}function Rm(n,a){if(1&n){const e=t.RV6();t.j41(0,"div"),t.DNE(1,jm,6,5,"div",9),t.j41(2,"app-choose-student-in-share-offline-result",10),t.bIt("selectStudentEvent",function(o){t.eBV(e);const i=t.XpG(3);return t.Njj(i.chooseStudentSuccess(o))}),t.k0s()()}if(2&n){const e=t.XpG(3);t.R7$(1),t.Y8G("ngIf",e.allClassroomObjs.length>1),t.R7$(1),t.Y8G("classroomGroupObj",e.currentClassroomGroupObj)("examHashId",e.examHashIdParam)("shareOfflineCode",e.shareOfflineCodeParam)}}function Fm(n,a){if(1&n){const e=t.RV6();t.j41(0,"azt-list-classroom-view-for-join-classroom",15),t.bIt("clickToClassroomEmitter",function(o){t.eBV(e);const i=t.XpG(4);return t.Njj(i.clickToClassroomEvent(o))}),t.k0s()}if(2&n){const e=t.XpG(4);t.Y8G("isExpandAll",!0)("classroomGroupData",e.classroomWithGroup)}}function Gm(n,a){if(1&n&&t.DNE(0,Fm,1,2,"azt-list-classroom-view-for-join-classroom",14),2&n){const e=t.XpG(3);t.Y8G("ngIf",e.classroomWithGroup)}}function Dm(n,a){if(1&n&&(t.j41(0,"div",6),t.DNE(1,Rm,3,4,"div",7),t.DNE(2,Gm,1,1,"ng-template",null,8,t.C5r),t.k0s()),2&n){const e=t.sdS(3),s=t.XpG(2);t.R7$(1),t.Y8G("ngIf",s.currentClassroomGroupObj)("ngIfElse",e)}}function Mm(n,a){1&n&&(t.j41(0,"div",16)(1,"div",17),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_giao_vien_chua_cho_xem_ket_qua_thi")," "))}function Lm(n,a){if(1&n&&(t.DNE(0,Dm,4,2,"div",4),t.DNE(1,Mm,4,3,"ng-template",null,5,t.C5r)),2&n){const e=t.sdS(2),s=t.XpG();t.Y8G("ngIf",s.allClassroomObjs.length)("ngIfElse",e)}}let sn=(()=>{var n;class a extends b.H{chooseStudentSuccess(s){this.myNavigationWithQueryString(`/test/answer-test/${this.examObj?.tenantId??0}/${this.examObj?.categoryId??0}/${this.examObj?.hashId}/${s.examResultId}`,`?offline=${this.shareOfflineCodeParam}&backto=${this.returnLink}`)}backToClassroomList(){this.commonService.myNavigationWithoutHistory("/test/share-offline-result/"+this.examHashIdParam+"/"+this.shareOfflineCodeParam+"/-1"),this.getParamUrl(),this.currentClassroomGroupObj=void 0}clickToClassroomEvent(s){let o=this.allClassroomObjs.find(i=>i.id==s.classroomObj.id);o&&(this.commonService.myNavigationWithoutHistory("/test/share-offline-result/"+this.examHashIdParam+"/"+this.shareOfflineCodeParam+"/"+o.id),this.getParamUrl(),this.currentClassroomGroupObj={groupObj:s.classroomGroupObj,classroomObj:o})}getData(){if(!this.examHashIdParam||!this.shareOfflineCodeParam)return;let s={examHashId:this.examHashIdParam,shareHashId:this.shareOfflineCodeParam,classroomId:-1!=this.classroomIdParam?this.classroomIdParam:void 0};this.initStatusObj(),this.waitDestroy(this.frontOfflineShareService.apiFrontOfflineShareGetShareOfflineDataPost(s).subscribe(o=>{if(!o.success)return this.forceShowErrorBox(o.message);if(this.examObj=o.data?.examObj,this.classroomWithGroup=(o.data?.classroomGroupObjs??[]).map(l=>({groupObj:l.groupObj,isOwned:!0,classroomObjs:l.classroomObjs})),this.allClassroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroup.map(l=>l.classroomObjs)),-1!=this.classroomIdParam){let l=this.allClassroomObjs.find(m=>m.id==this.classroomIdParam),p=this.classroomWithGroup.find(m=>m.classroomObjs.find(T=>T.id==this.classroomIdParam));if(l&&p)return this.currentClassroomGroupObj={groupObj:p.groupObj,classroomObj:l},void this.successStatusObj()}let i=1==this.allClassroomObjs.length?this.commonService.getFirstOfArray(this.allClassroomObjs):void 0,r=this.classroomWithGroup.find(l=>l.classroomObjs.find(p=>p.id==i?.id));i&&r&&(this.currentClassroomGroupObj={groupObj:r.groupObj,classroomObj:i}),this.successStatusObj()}))}getParamUrl(){this.examHashIdParam=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.shareOfflineCodeParam=this.commonService.getMyParam(this.activeRoute,"offline_code")??"",this.classroomIdParam=this.commonService.getMyParamToNumber(this.activeRoute,"classroom_id")??-1,this.returnLink="/test/share-offline-result/"+this.examHashIdParam+"/"+this.shareOfflineCodeParam+"/"+this.classroomIdParam,this.backToLink="/student/classroom/0"}ngOnInit(){this.getParamUrl(),this.getData(),super.ngOnInit()}constructor(s,o){super(),this.frontOfflineShareService=s,this.activeRoute=o,this.backToLink="",this.returnLink="",this.shareOfflineCodeParam="",this.classroomIdParam=-1,this.examHashIdParam="",this.allClassroomObjs=[],this.currentClassroomGroupObj=void 0,this.classroomWithGroup=[]}}return(n=a).\u0275fac=function(s){return new(s||n)(t.rXU(on.pC),t.rXU(k.nX))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-share-offline-result"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["class","mt-5",4,"ngIf","ngIfElse"],["noClassroom",""],[1,"mt-5"],[4,"ngIf","ngIfElse"],["showChooseClassrooms",""],[4,"ngIf"],[3,"classroomGroupObj","examHashId","shareOfflineCode","selectStudentEvent"],["azt-track-service","share-offline-result-kZ8e0tmTZ",1,"display-inline-block",3,"click"],[1,"text-primary","flex","items-center"],["name","chevron-left","size","16",3,"ngClass"],[3,"isExpandAll","classroomGroupData","clickToClassroomEmitter",4,"ngIf"],[3,"isExpandAll","classroomGroupData","clickToClassroomEmitter"],[1,"block-empty","mt-5"],["role","alert",1,"alert","alert-danger","text-center"]],template:function(s,o){if(1&s&&(t.j41(0,"student-layout",0),t.DNE(1,Am,1,1,"azt-loading-effect",1),t.DNE(2,Lm,3,2,"ng-template",null,2,t.C5r),t.k0s()),2&s){const i=t.sdS(3);t.Y8G("headerBackToLink",o.backToLink),t.R7$(1),t.Y8G("ngIf",o.statusObj.loading)("ngIfElse",i)}},dependencies:[_.YU,_.bT,j.K,dm.B,_t.j,d.WGl,ym,u.wp],encapsulation:2}),a})();const Qm=[{path:"",component:Io,canActivate:[ct.L],children:[{path:":hash_id",component:Co},{path:"category/:tenant_id/:cate_id/:page",component:zn},{path:"submit-test/:tenant_id/:cate_id/:hash_id/:result_id",component:Ja},{path:"take-test/:tenant_id/:cate_id/:hash_id",component:pu},{path:"take-training/:tenant_id/:cate_id/:hash_id",component:mm},{path:"answer-test/:tenant_id/:cate_id/:hash_id/:result_id",component:Ta},{path:"share-offline-result/:hash_id/:offline_code",component:sn},{path:"share-offline-result/:hash_id/:offline_code/:classroom_id",component:sn}]}];let Nm=(()=>{var n;class a{}return(n=a).\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[k.iI.forChild(Qm),k.iI,St.XE]}),a})(),Bm=(()=>{var n;class a{}return(n=a).\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({providers:[{provide:O.vn,useValue:A.c.azt_tiny_mce_script_src}],imports:[k.iI,_.MD,w.s,O.sv,Nm,S.YN,S.X1,f.hM,v.L,G.Lk,x.xv,rt.Q,lt.B,E.b,d.flO.pick(d.Ptg),g.Id,D.AC,y.f]}),a})()},10296:(nt,N,c)=>{"use strict";c.d(N,{R:()=>d});var _=c(43277),f=c(18148),k=c(26860),O=c(18350),y=c(25693);let d=(()=>{var G;class D{constructor(g,w){this.mobileWebviewService=g,this.commonService=w}shareFileWithBlob(g,w){if(this.commonService.isMobileWebview(void 0)){f.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");let v=new FileReader;v.readAsDataURL(g),v.onloadend=()=>{let E=v.result;"string"==typeof E&&(this.mobileWebviewService.sendShareFileBase64(w,String(E)),f.L.closeLoadingEffect(100))}}else _.saveAs(g,w)}shareFileWithBase64(g,w){this.commonService.isMobileWebview(void 0)?this.mobileWebviewService.sendShareFileBase64(w,g):_.saveAs(g,w)}}return(G=D).\u0275fac=function(g){return new(g||G)(k.KVO(O.f),k.KVO(y.R))},G.\u0275prov=k.jDH({token:G,factory:G.\u0275fac,providedIn:"root"}),D})()},74151:(nt,N,c)=>{"use strict";c.d(N,{n:()=>f});var _=c(26860),S=c(25693);let f=(()=>{var k;class O{resizeDrawerHeight(d,G){if(this.autoResizeHeight=d,this.drawer=G,this.drawer&&this.autoResizeHeight){let D=()=>{let w=document.querySelector(".azt-drawer-content"),v=document.querySelector(".azt-draw-left");if(v&&v instanceof HTMLElement&&w&&w instanceof HTMLElement){let E=w;E.style.minHeight=this.isOpenSideNav?v.clientHeight+10+"px":"auto"}},x=new ResizeObserver(w=>{D()}),g=document.querySelector(".azt-draw-left");g&&x.observe(g),D()}}openDrawer(){this.drawer?.open(),this.isOpenSideNav=!0}closeDrawer(){this.drawer?.close(),this.isOpenSideNav=!1}toggleDrawer(){this.drawer?.toggle(),this.isOpenSideNav=!this.isOpenSideNav}openedChange(d){this.isOpenSideNav=d,this.resizeDrawerHeight(this.autoResizeHeight)}changeToMobileMode(d){d?(this.mode="over",this.hasBackdrop=!0):(this.mode="side",this.hasBackdrop=!1)}constructor(d){this.commonService=d,this.hasBackdrop=!!this.commonService.isMobileOrTable(),this.mode=this.commonService.isMobileOrTable()?"over":"side",this.isShowActions=(this.commonService.isMobileOrTable(),!0),this.isOpenSideNav=!this.commonService.isMobileOrTable(),this.autoResizeHeight=!1}}return(k=O).\u0275fac=function(d){return new(d||k)(_.KVO(S.R))},k.\u0275prov=_.jDH({token:k,factory:k.\u0275fac,providedIn:null}),O})()},18148:(nt,N,c)=>{"use strict";c.d(N,{L:()=>_});let _=(()=>{var S;class f{static openLoadingEffect(O){f.getDomElement().style.display="flex",setTimeout(()=>{f.changeMsgLoadingEffect(O)},50)}static closeLoadingEffect(O){return new Promise(y=>{setTimeout(()=>{const d=f.getDomElement();d&&(d.style.display="none"),y(!0)},O)})}static changeMsgLoadingEffect(O){f.getDomContent().innerText=O}static getDomContent(){return document.getElementById(f.idStatusContent)??document.createElement("span")}static getDomElement(){return document.getElementById(f.idComponent)??this.createDomElement()}static createDomElement(){const O=document.createElement("div");return O.id=f.idComponent,O.setAttribute("style","position: fixed;display: flex;width: 100vw;height: 100%;background: #000000c7;color: #ffffff;font-size: 20px;font-weight: lighter;justify-content: center;align-items: center;cursor: progress;z-index: 9999;top: 0;left: 0;"),O.style.display="none",O.innerHTML=`\n        <div class="text-center" style="height: 85%; overflow-x: auto;">\n            <div class="flex justify-center mt-5">\n                <svg width="20" viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                        <g transform="translate(2 1)" stroke="currentColor" stroke-width="1.5">\n                            <circle cx="42.601" cy="11.462" r="5" fill-opacity="1" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="1;0;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="49.063" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;1;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="42.601" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;1;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="49.125" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;1;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;1;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="4.938" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;1;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="11.462" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;1;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="5" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;0;1" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                        </g>\n                    </g>\n                </svg>\n            </div>\n            <div style="margin-top: 10px;position: relative;">\n                <span id="${f.idStatusContent}"></span>\n            </div>\n        </div>`,document.body.appendChild(O),O}}return(S=f).idComponent="azt-status-loading-effect",S.idStatusContent="azt-status-loading-effect-content",f})()},43277:function(nt,N){var c,S;void 0!==(S="function"==typeof(c=function(){"use strict";function k(x,g,w){var v=new XMLHttpRequest;v.open("GET",x),v.responseType="blob",v.onload=function(){D(v.response,g,w)},v.onerror=function(){console.error("could not download file")},v.send()}function O(x){var g=new XMLHttpRequest;g.open("HEAD",x,!1);try{g.send()}catch{}return 200<=g.status&&299>=g.status}function y(x){try{x.dispatchEvent(new MouseEvent("click"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),x.dispatchEvent(g)}}var d="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,G=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),D=d.saveAs||("object"!=typeof window||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!G?function(x,g,w){var v=d.URL||d.webkitURL,E=document.createElement("a");E.download=g=g||x.name||"download",E.rel="noopener","string"==typeof x?(E.href=x,E.origin===location.origin?y(E):O(E.href)?k(x,g,w):y(E,E.target="_blank")):(E.href=v.createObjectURL(x),setTimeout(function(){v.revokeObjectURL(E.href)},4e4),setTimeout(function(){y(E)},0))}:"msSaveOrOpenBlob"in navigator?function(x,g,w){if(g=g||x.name||"download","string"!=typeof x)navigator.msSaveOrOpenBlob(function f(x,g){return typeof g>"u"?g={autoBom:!1}:"object"!=typeof g&&(console.warn("Deprecated: Expected third argument to be a object"),g={autoBom:!g}),g.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(x.type)?new Blob(["\ufeff",x],{type:x.type}):x}(x,w),g);else if(O(x))k(x,g,w);else{var v=document.createElement("a");v.href=x,v.target="_blank",setTimeout(function(){y(v)})}}:function(x,g,w,v){if((v=v||open("","_blank"))&&(v.document.title=v.document.body.innerText="downloading..."),"string"==typeof x)return k(x,g,w);var E="application/octet-stream"===x.type,rt=/constructor/i.test(d.HTMLElement)||d.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||E&&rt||G)&&typeof FileReader<"u"){var lt=new FileReader;lt.onloadend=function(){var L=lt.result;L=A?L:L.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=L:location=L,v=null},lt.readAsDataURL(x)}else{var St=d.URL||d.webkitURL,ct=St.createObjectURL(x);v?v.location=ct:location.href=ct,v=null,setTimeout(function(){St.revokeObjectURL(ct)},4e4)}});d.saveAs=D.saveAs=D,nt.exports=D})?c.apply(N,[]):c)&&(nt.exports=S)}}]);