(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[7037],{918:(q,N,_)=>{"use strict";_.r(N),_.d(N,{HomeworkFrontModule:()=>en});var A=_(96814),l=_(56223),H=_(19347),x=_(21266),T=_(42753),k=_(37722),p=_(21494),r=_(25391),w=_(95545),m=_(69162),s=_(84155),c=_(78217),g=_(35529),b=_(78030),j=_(82481),J=_(43048),M=_(47496),t=_(65879);let R=(()=>{class n extends M.Q{}return n.\u0275fac=function(){let a;return function(o){return(a||(a=t.n5z(n)))(o||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["app-test-dashboard"]],features:[t.qOj],decls:2,vars:0,consts:[["id","homework-frontend-layout"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[x.lC],encapsulation:2}),n})();var E=_(49671),K=_(69862),at=_(52572),P=_(61713),X=_(15828),lt=_(96286),tt=_(72164),et=_(79998),L=_(36727);let ct=(()=>{class n extends tt.e{btnCloseDialog(){this.dialogRef.close()}goToLogin(){this.btnCloseDialog();let e=`${this.router.url}`;e+=(-1!==e.indexOf("?")?"&studentId=":"?studentId=")+this.data.studentObj?.id,this.redirectService.redirectToLoginBackLinkWithFromRegister(e)}get noteUserInfo(){let e=`${this.commonService.myTranslateInstant("lang_auto_hoc_sinh")} <b>${this.data.studentObj?.fullName}</b> ${this.commonService.myTranslateInstant("lang_auto_da_duoc_chon_boi_tai_khoan")} `;return e+=this.data.studentObj?.userEmail?`${this.commonService.myTranslateInstant("lang_auto_da_duoc_chon_boi_email")} <b>${this.data.studentObj?.userEmail}</b>`:this.data.studentObj?.last4DigitPhone?`${this.commonService.myTranslateInstant("lang_auto_voi_sdt_co_duoi")} - xxx xxx <b>${this.data.studentObj?.last4DigitPhone}</b>`:`${this.commonService.myTranslateInstant("lang_auto_voi_ten_zalo")} - <b>${this.data.studentObj?.zaloName}</b>`,e+=` ${this.commonService.myTranslateInstant("lang_auto__dang_nhap_de_tiep_tuc")}`,e}constructor(e,o,i,d){super(d,i),this.router=e,this.redirectService=o,this.dialogRef=i,this.data=d}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.F0),t.Y36(et.z),t.Y36(H.so,8),t.Y36(H.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-require-login"]],features:[t.qOj],decls:20,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400",3,"innerHTML"],[1,"p-3","text-right"],["azt-track-service","require-login-hxjup4A1RzX",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","require-login-6uxsepMgXlJ",1,"btn","w-24","btn-primary",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"polygon",5)(6,"line",6)(7,"line",7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(10,"div",8),t._UZ(11,"p",9),t.ALo(12,"safeAdminHtmlContent"),t.qZA()()(),t.TgZ(13,"div",10)(14,"button",11),t.NdJ("click",function(){return o.btnCloseDialog()}),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.TgZ(17,"button",12),t.NdJ("click",function(){return o.goToLogin()}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(8),t.hij(" ",t.lcZ(9,4,"lang_auto_hoc_sinh_nay_da_duoc_chon"),"! "),t.xp6(3),t.Q6J("innerHTML",t.lcZ(12,6,o.noteUserInfo),t.oJD),t.xp6(4),t.hij(" ",t.lcZ(16,8,"lang_auto_dong")," "),t.xp6(3),t.hij(" ",t.lcZ(19,10,"lang_auto_dang_nhap")," "))},dependencies:[L.JV,L.Tm]}),n})();var nt=_(71646);function mt(n,a){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",15)(1,"button",16),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.redirectToRegister())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_button_register")," "))}function dt(n,a){1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"div",17)(1,"p",18),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_homework_homework_frontend_submit_homework_have_account"),"? "))}function _t(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3",6),t.O4$(),t.TgZ(4,"svg",7),t._UZ(5,"polygon",8)(6,"line",9)(7,"line",10),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.YNc(10,mt,4,3,"div",11),t.YNc(11,dt,4,3,"div",12),t.kcU(),t.TgZ(12,"div",13)(13,"button",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.redirectToLogin())}),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()()()}if(2&n){const e=t.oxw(2);t.xp6(8),t.hij(" ",t.lcZ(9,4,e.isBusinessDomain?"lang_business_homework_frontend_submit_homework_register_account_submit":"lang_homework_homework_frontend_submit_homework_register_account_submit")," "),t.xp6(2),t.Q6J("ngIf",!e.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",!e.isBusinessDomain),t.xp6(3),t.hij(" ",t.lcZ(15,6,"lang_button_login")," ")}}function ut(n,a){1&n&&(t.TgZ(0,"span",25),t._UZ(1,"azt-loading-ui"),t.qZA())}function ht(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",19)(2,"p",20),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"p",21),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"div",22)(9,"button",23),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.confirmQuit())}),t.YNc(10,ut,2,0,"span",24),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,4,e.isBusinessDomain?"lang_business_homework_frontend_submit_homework_register_account_submit":"lang_homework_homework_frontend_submit_homework_register_account_submit"),"!"),t.xp6(3),t.Oqu(t.lcZ(7,6,"lang_button_register")),t.xp6(4),t.Q6J("ngIf",e.isLoading),t.xp6(1),t.hij(" ",t.lcZ(12,8,"lang_button_confirm")," ")}}function gt(n,a){if(1&n&&(t.TgZ(0,"div",1),t.YNc(1,_t,16,8,"div",2),t.YNc(2,ht,13,10,"div",2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0==e.viewType),t.xp6(1),t.Q6J("ngIf",1==e.viewType)}}let pt=(()=>{class n extends tt.e{confirmQuit(){this.dialogRef.close(!0)}checkType(e){"redirect_register"==e?this.viewType=0:"submit_name"==e&&(this.viewType=1)}redirectToRegister(){this.redirectService.redirectRegisterForStudent(),this.dialogRef.close()}redirectToLogin(){this.redirectService.redirectToLoginBackLinkWithFromRegister(`${this.router.url}`),this.dialogRef.close()}ngOnInit(){this.data&&this.checkType(this.data.type),super.ngOnInit()}constructor(e,o,i,d){super(d,i),this.router=e,this.redirectService=o,this.dialogRef=i,this.data=d,this.isLoading=!1,this.viewType=0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.F0),t.Y36(et.z),t.Y36(H.so,8),t.Y36(H.WI,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-message-dialog"]],features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],["class","school-info box p-5","style","min-width: 400px",4,"ngIf"],[1,"school-info","box","p-5",2,"min-width","400px"],[1,"border-slate-200/60","dark:border-darkmode-400","text-center"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],["class","mx-auto mt-2",4,"ngIf"],["class","mb-2 text-md font-medium mt-2 ",4,"ngIf"],[1,"mx-auto"],["azt-track-service","message-dialog-VmueIbouAH",1,"btn","w-24","btn-primary",3,"click"],[1,"mx-auto","mt-2"],["azt-track-service","message-dialog-mbvZs1BXU4",1,"btn","w-24","btn-primary",3,"click"],[1,"mb-2","text-md","font-medium","mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"text-center"],[1,"mb-1","font-md"],[1,"mb-0","font-md","text-primary"],[1,"flex","float-right","mt-3"],["azt-track-service","message-dialog-YNMh3yP3xz",1,"btn","w-40","btn-primary",2,"margin-left","15px",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,o){1&e&&t.YNc(0,gt,3,2,"div",0),2&e&&t.Q6J("ngIf",null==o.data?null:o.data.isShow)},dependencies:[A.O5,nt.n,L.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;margin:0 10px -18px;background:#000;width:2px;display:block;height:35px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();var ft=_(77757),wt=_(18699),z=_(97540),bt=_(12993),vt=_(82228),B=_(85929),kt=_(78953),xt=_(45468),yt=_(2783),Ot=_(92596),jt=_(47929),$=_(91675),Ct=_(37783),St=_(6486),At=_(18881),W=_(32965),ot=_(30617);function Mt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,d=t.oxw(2);return t.KtG(d.viewDetailHistory(null==i?null:i.id))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_xem_chi_tiet")))}function Tt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",17)(1,"a",18),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw(4);return t.KtG(v.onShowFile(d,-1))}),t.TgZ(2,"mat-icon",19),t._uU(3,"attach_file"),t.qZA(),t.TgZ(4,"span",20),t._uU(5),t.qZA()()()}if(2&n){const e=a.$implicit;t.xp6(4),t.Q6J("title",e.name),t.xp6(1),t.Oqu(e.name)}}function Zt(n,a){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,Tt,6,2,"div",16),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.fileParse)}}function Ht(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",17)(1,"a",23),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw(5);return t.KtG(v.onShowFile(d,-1))}),t.TgZ(2,"mat-icon",19),t._uU(3,"attach_file"),t.qZA(),t.TgZ(4,"span",20),t._uU(5),t.qZA()()()}if(2&n){const e=a.$implicit;t.xp6(4),t.Q6J("title",e.name),t.xp6(1),t.Oqu(e.name)}}function Pt(n,a){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,Ht,6,2,"div",16),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.fileParse)}}function Lt(n,a){if(1&n&&(t.TgZ(0,"p",8),t._UZ(1,"azt-check-mark",30),t.qZA()),2&n){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("mark",e.point)}}function It(n,a){if(1&n&&(t.TgZ(0,"div",24)(1,"div",25),t.YNc(2,Lt,2,1,"p",26),t.qZA(),t.TgZ(3,"div",27)(4,"span",28),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t._UZ(7,"div",29),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.Q6J("ngIf",!e.hideMark),t.xp6(3),t.Oqu(t.lcZ(6,3,"lang_homework_homework_frontend_utils_comment")),t.xp6(2),t.Q6J("innerHTML",e.note,t.oJD)}}function Ft(n,a){if(1&n&&(t.TgZ(0,"div",21),t.YNc(1,Pt,2,1,"div",12),t.YNc(2,It,8,5,"div",22),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.fileParse&&e.fileParse.length>0),t.xp6(1),t.Q6J("ngIf",null!=e&&null!=e.confirmedAt)}}function Dt(n,a){if(1&n&&(t.TgZ(0,"div",6)(1,"div",7)(2,"span",8),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA(),t.YNc(6,Mt,3,3,"a",9),t.qZA(),t.TgZ(7,"div",7)(8,"span",10),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"span",11),t._uU(12),t.qZA()()(),t.YNc(13,Zt,2,1,"div",12),t.YNc(14,Ft,3,2,"div",13),t.qZA()),2&n){const e=a.$implicit;t.xp6(3),t.AsE("",t.lcZ(4,7,"lang_auto_nop_luc"),": ",t.lcZ(5,9,e.createdAt),""),t.xp6(3),t.Q6J("ngIf",e.result),t.xp6(3),t.hij("",t.lcZ(10,11,"lang_homework_homework_frontend_utils_request_submit"),": "),t.xp6(3),t.Oqu(e.resendNote),t.xp6(1),t.Q6J("ngIf",!e.result&&e.files),t.xp6(1),t.Q6J("ngIf",e.result)}}function Ut(n,a){if(1&n&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"span",4),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()(),t.YNc(6,Dt,15,13,"div",5),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,2,"lang_homework_homework_frontend_utils_history_submit")),t.xp6(2),t.Q6J("ngForOf",e.dataAnswerHistory)}}let Nt=(()=>{class n extends M.Q{viewDetailHistory(e){this.commonService.myNavigation("/homework/switch-view-homework/"+this.dataHomeworkObj?.id+"/"+this.dataHomeworkObj?.hashId+"/"+e)}onFileClose(){this.isShowPreviewFile=!1}onShowFile(e,o){this.isShowPreviewFile=!0;let i={...e,index:o};this.previewFileEmit.emit(i)}constructor(e){super(),this.cdnService=e,this.previewFileEmit=new t.vpe,this.isShowPreviewFile=!1,this.answerFile=null}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(W.E))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-answer-history"]],inputs:{dataAnswerHistory:"dataAnswerHistory",dataHomeworkObj:"dataHomeworkObj"},outputs:{previewFileEmit:"previewFileEmit"},features:[t.qOj],decls:1,vars:1,consts:[["class","card-box mt-3",4,"ngIf"],[1,"card-box","mt-3"],[1,"row","top-row"],[1,"col-12","text-center"],[1,"h5","text-white"],["class","ml-0 mr-0 mt-4 attach-container p-2",4,"ngFor","ngForOf"],[1,"ml-0","mr-0","mt-4","attach-container","p-2"],[1,"flex-title","mt-2","pl-3","pr-3"],[1,"mb-0"],["azt-track-service","answer-history-oWctyE3L2bg",3,"click",4,"ngIf"],[1,"mb-0",2,"font-weight","400"],[1,"text-danger","text-bold"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],["class","mt-2",4,"ngIf"],["azt-track-service","answer-history-oWctyE3L2bg",3,"click"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],["azt-track-service","answer-history--J0jh8HNJVI","target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px",3,"click"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6",3,"title"],[1,"mt-2"],["class","row justify-content-between mt-2","style","margin: 16px!important;",4,"ngIf"],["azt-track-service","answer-history-F80xamrrLdV","target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px",3,"click"],[1,"row","justify-content-between","mt-2",2,"margin","16px!important"],[1,"col-sm-3","col-md-3","col-lg-3","_col-left_result","text-center"],["class","mb-0",4,"ngIf"],[1,"col-sm-8","col-md-8","col-lg-8","_col-right_result"],[1,"h5","title"],[1,"content-homework","pt-3",3,"innerHTML"],[3,"mark"]],template:function(e,o){1&e&&t.YNc(0,Ut,7,4,"div",0),2&e&&t.Q6J("ngIf",o.dataAnswerHistory&&o.dataAnswerHistory.length>0)},dependencies:[A.sg,A.O5,ot.Hw,$.B,L.JV,L.$n],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(0,167,208);border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}@font-face{font-family:handwriting_font;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px;font-family:handwriting_font!important}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4;font-family:handwriting_font!important}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}.student_obj[_ngcontent-%COMP%]{padding:5px;min-height:69px}"]}),n})();function Jt(n,a){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_homework_frontend_come_back_at")+t.lcZ(3,3,null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.startDate))}}function Et(n,a){if(1&n&&(t.TgZ(0,"div")(1,"div",5)(2,"div",6),t.O4$(),t.TgZ(3,"svg",7),t._UZ(4,"path",8)(5,"path",9)(6,"path",10)(7,"path",11)(8,"path",12)(9,"path",13)(10,"path",14),t.qZA(),t.kcU(),t.TgZ(11,"div",15),t._uU(12),t.ALo(13,"mytranslate"),t.YNc(14,Jt,4,5,"span",2),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(12),t.hij(" ",t.lcZ(13,2,e.statusObj.errorMessage)," "),t.xp6(2),t.Q6J("ngIf","lang_core_not_start_homework_obj"==e.statusObj.errorMessage&&(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.startDate))}}function zt(n,a){if(1&n&&(t.TgZ(0,"div",20)(1,"div",21)(2,"h3",22),t._uU(3),t.qZA(),t.TgZ(4,"div",23),t._UZ(5,"azt-download-qr-code",24),t.qZA()(),t.TgZ(6,"div",25)(7,"span",21),t.O4$(),t.TgZ(8,"svg",26),t._UZ(9,"path",27)(10,"path",28)(11,"path",29)(12,"path",30)(13,"rect",31)(14,"rect",32),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.kcU(),t.TgZ(17,"span",33)(18,"span"),t._uU(19),t.qZA()()()()()),2&n){const e=t.oxw(2);t.xp6(3),t.hij(" ",null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.name," "),t.xp6(2),t.Q6J("fileName","azota_submit_homework_qrcode_"+e.homeworkHashId)("linkUrl",e.copyLinkToClipboard()),t.xp6(10),t.hij(" ",t.lcZ(16,5,"lang_homework_homework_frontend_submit_homework_code_homework"),": "),t.xp6(4),t.Oqu(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.hashId)}}function Qt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",16),t.YNc(1,zt,20,7,"div",17),t.TgZ(2,"div",18)(3,"app-select-student-to-join-classroom",19),t.NdJ("selectChild",function(i){t.CHM(e);const d=t.oxw();return t.KtG(d.closeChooseStudent(i))})("approvedByName",function(i){t.CHM(e);const d=t.oxw();return t.KtG(d.approvedToClass(i))}),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",(null==e.obj?null:e.obj.homeworkObj)&&(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.hashId)&&""!=(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.hashId)),t.xp6(2),t.Q6J("data",e.chooseChildData)}}function qt(n,a){1&n&&(t.TgZ(0,"div",36)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_core_over_time_deadline")))}function Yt(n,a){if(1&n&&(t.TgZ(0,"div",25)(1,"span",21),t.O4$(),t.TgZ(2,"svg",47),t._UZ(3,"path",64)(4,"circle",65),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.kcU(),t.TgZ(7,"span",42),t._uU(8),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(5),t.hij(" ",t.lcZ(6,2,"lang_auto_ten_hoc_sinh")+":"," "),t.xp6(3),t.hij(" ",e.currentChild.fullName," ")}}function Rt(n,a){if(1&n&&(t.TgZ(0,"div",66)(1,"span",21),t.O4$(),t.TgZ(2,"svg",47),t._UZ(3,"rect",67)(4,"line",68)(5,"line",69)(6,"line",70)(7,"path",71)(8,"path",72)(9,"path",73)(10,"path",74)(11,"path",75)(12,"path",76),t.qZA(),t._uU(13),t.ALo(14,"mytranslate"),t.kcU(),t.TgZ(15,"span",42),t._uU(16),t.ALo(17,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(13),t.hij(" ",t.lcZ(14,2,"lang_auto_bat_dau_nop")+":"," "),t.xp6(3),t.hij(" ",t.lcZ(17,4,null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.startDate)," ")}}function Bt(n,a){if(1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"span",42),t._uU(1),t.ALo(2,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Oqu(t.lcZ(2,1,null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.deadline))}}function $t(n,a){1&n&&(t.O4$(),t.kcU(),t.TgZ(0,"span",42),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_homework_homework_frontend_submit_homework_not_time")))}function Wt(n,a){if(1&n&&t._UZ(0,"img",85),2&n){const e=t.oxw().$implicit;t.Q6J("src",e.url,t.LSH)}}function Vt(n,a){if(1&n&&(t._UZ(0,"img",85),t.ALo(1,"convertCdnLinkOfGitHub")),2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.Q6J("src",t.lcZ(1,1,o.getFileIcon(e)),t.LSH)}}function Gt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",77)(1,"div",78)(2,"a",79),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw(3);return t.KtG(v.onShowFile(d,-1))}),t.TgZ(3,"div",80),t.YNc(4,Wt,1,1,"img",81),t.YNc(5,Vt,2,3,"img",81),t.qZA(),t.TgZ(6,"div",82)(7,"p",83),t._uU(8),t.qZA(),t.TgZ(9,"div",84),t._uU(10),t.qZA()()()()()}if(2&n){const e=a.$implicit,o=t.oxw(3);let i,d;t.xp6(4),t.Q6J("ngIf",null==e.mimes?null:e.mimes.includes("image")),t.xp6(1),t.Q6J("ngIf",!(null!=e.mimes&&e.mimes.includes("image"))),t.xp6(2),t.Q6J("matTooltip",null!==(i=e.name)&&void 0!==i?i:""),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Oqu(o.getFileType(null!==(d=e.mimes)&&void 0!==d?d:""))}}function Kt(n,a){1&n&&(t.TgZ(0,"div",103)(1,"div",104)(2,"div",105)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&n&&(t.xp6(4),t.hij("",t.lcZ(5,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark"),"!"))}function Xt(n,a){1&n&&(t.TgZ(0,"div",106)(1,"h5",107),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_homework_homework_frontend_submit_homework_loading_wait_it"),"!"))}function te(n,a){if(1&n&&(t.TgZ(0,"div",110)(1,"h5",111),t._uU(2),t.qZA(),t.TgZ(3,"div",112),t._UZ(4,"progress",113),t.qZA()()),2&n){const e=a.$implicit;t.xp6(2),t.Oqu(e.fileName),t.xp6(2),t.s9C("value",e.uploadProgress)}}function ee(n,a){if(1&n&&(t.TgZ(0,"div",108),t.YNc(1,te,5,2,"div",109),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.Q6J("ngForOf",e.convertObjToArray(e.fileUploadQueue))}}function ne(n,a){1&n&&(t.TgZ(0,"div",106)(1,"h5",114),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_homework_homework_frontend_submit_homework_submit_success"),"!"))}function oe(n,a){if(1&n&&(t.TgZ(0,"div",130)(1,"video",131),t._UZ(2,"source",132),t.ALo(3,"safe"),t.qZA(),t.TgZ(4,"div",133)(5,"div",134)(6,"span",135),t._UZ(7,"lucide-icon",136),t.qZA()()()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("src",t.lcZ(3,1,e.url+"#t=5"),t.LSH)}}function ie(n,a){if(1&n&&(t._UZ(0,"img",137),t.ALo(1,"mycdn")),2&n){const e=t.oxw().$implicit;t.Q6J("src",t.lcZ(1,1,e.thumb),t.LSH)}}function re(n,a){if(1&n){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",138),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,d=t.oxw(6);return t.KtG(d.removeImg(i.url))}),t.O4$(),t.TgZ(1,"svg",139),t._UZ(2,"line",140)(3,"line",141),t.qZA()()}}function se(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",117)(1,"div",118),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw(6);return t.KtG(v.onShowFile(d,-1))}),t.YNc(2,oe,8,3,"div",119),t.ALo(3,"isVideo"),t.YNc(4,ie,2,3,"ng-template",null,120,t.W1O),t.qZA(),t.TgZ(6,"div",121)(7,"button",122),t.NdJ("click",function(){const d=t.CHM(e).index,v=t.oxw(6);return t.KtG(v.switchAttributeArray(v.answerFileList,d,d-1))}),t.O4$(),t.TgZ(8,"svg",123),t._UZ(9,"polyline",124),t.qZA()(),t.kcU(),t.TgZ(10,"input",125,126),t.NdJ("keyup.enter",function(){const d=t.CHM(e).index,v=t.MAs(11),Z=t.oxw(6);return t.KtG(Z.switchAttributeArrayInput(d,v.value))})("change",function(){const d=t.CHM(e).index,v=t.MAs(11),Z=t.oxw(6);return t.KtG(Z.switchAttributeArrayInput(d,v.value))}),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"button",127),t.NdJ("click",function(){const d=t.CHM(e).index,v=t.oxw(6);return t.KtG(v.switchAttributeArray(v.answerFileList,d,d+1))}),t.O4$(),t.TgZ(14,"svg",123),t._UZ(15,"polyline",128),t.qZA()()(),t.YNc(16,re,4,0,"div",129),t.qZA()}if(2&n){const e=a.$implicit,o=a.index,i=t.MAs(5),d=t.oxw(6);let v;t.xp6(2),t.Q6J("ngIf",t.lcZ(3,7,null!==(v=e.mimes)&&void 0!==v?v:""))("ngIfElse",i),t.xp6(8),t.s9C("id","input_page_"+o),t.s9C("max",null==d.answerFileList?null:d.answerFileList.length),t.s9C("value",o+1),t.s9C("placeholder",t.lcZ(12,9,"lang_auto_trang_so")),t.xp6(6),t.Q6J("ngIf",!(null!=d.obj&&d.obj.isMarked&&d.isShowGreenCheckbox(e.url)))}}function ae(n,a){if(1&n&&(t.TgZ(0,"div",115),t.YNc(1,se,17,11,"div",116),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.Q6J("ngForOf",e.answerFileList)}}function le(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,Kt,6,3,"div",90),t.YNc(2,Xt,4,3,"div",91),t.YNc(3,ee,2,1,"div",92),t.YNc(4,ne,4,3,"div",91),t.YNc(5,ae,2,1,"div",93),t.TgZ(6,"div",94),t.O4$(),t.TgZ(7,"svg",47),t._UZ(8,"path",95)(9,"polyline",96)(10,"line",97),t.qZA(),t.kcU(),t.TgZ(11,"span",98),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"input",99,100),t.NdJ("change",function(i){t.CHM(e);const d=t.oxw(4);return t.KtG(d.selectFile(i))}),t.qZA()(),t.TgZ(16,"div",101)(17,"span",102),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==e.obj?null:e.obj.isMarked),t.xp6(1),t.Q6J("ngIf",e.statusObjData.loading),t.xp6(1),t.Q6J("ngIf",e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.Q6J("ngIf",(null==e.answerFileList?null:e.answerFileList.length)&&(null==e.rawAnswerFileList?null:e.rawAnswerFileList.length)&&e.isSubmit),t.xp6(1),t.Q6J("ngIf",null==e.answerFileList?null:e.answerFileList.length),t.xp6(7),t.Oqu(t.lcZ(13,7,"lang_auto_upload_file")),t.xp6(6),t.Oqu(t.lcZ(19,9,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets"))}}function ce(n,a){1&n&&(t.TgZ(0,"div",103)(1,"div",104)(2,"div",105)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&n&&(t.xp6(4),t.hij("",t.lcZ(5,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark"),"!"))}function me(n,a){if(1&n&&(t.ynx(0),t._UZ(1,"video",147),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.url+"#t=5",t.LSH)}}function de(n,a){if(1&n&&(t._UZ(0,"img",148),t.ALo(1,"mycdn")),2&n){const e=t.oxw().$implicit;t.Q6J("src",t.lcZ(1,1,e.thumb),t.LSH)}}function _e(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",117)(1,"div",143),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw(6);return t.KtG(v.onShowFile(d,-1))}),t.YNc(2,me,2,1,"ng-container",61),t.ALo(3,"isVideo"),t.YNc(4,de,2,3,"ng-template",null,144,t.W1O),t.qZA(),t.TgZ(6,"div",121)(7,"button",145),t.O4$(),t.TgZ(8,"svg",123),t._UZ(9,"polyline",124),t.qZA()(),t.kcU(),t._UZ(10,"input",146,126),t.ALo(12,"mytranslate"),t.TgZ(13,"button",145),t.O4$(),t.TgZ(14,"svg",123),t._UZ(15,"polyline",128),t.qZA()()()()}if(2&n){const e=a.$implicit,o=a.index,i=t.MAs(5),d=t.oxw(6);let v;t.xp6(2),t.Q6J("ngIf",t.lcZ(3,6,null!==(v=e.mimes)&&void 0!==v?v:""))("ngIfElse",i),t.xp6(8),t.s9C("id","input_page_"+o),t.s9C("max",null==d.answerFileList?null:d.answerFileList.length),t.s9C("value",o+1),t.s9C("placeholder",t.lcZ(12,8,"lang_auto_trang_so"))}}function ue(n,a){if(1&n&&(t.TgZ(0,"div",115),t.YNc(1,_e,16,10,"div",116),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.Q6J("ngForOf",e.answerFileList)}}function he(n,a){1&n&&(t.TgZ(0,"div",149)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_homework_homework_frontend_submit_homework_end_time_submit")))}function ge(n,a){if(1&n&&(t.ynx(0),t.YNc(1,ce,6,3,"div",90),t.YNc(2,ue,2,1,"div",93),t.YNc(3,he,4,3,"div",142),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==e.obj?null:e.obj.isMarked),t.xp6(1),t.Q6J("ngIf",null==e.answerFileList?null:e.answerFileList.length),t.xp6(1),t.Q6J("ngIf",(null==e.obj?null:e.obj.isOverTime)&&!(null!=e.obj&&e.obj.isMarked))}}function pe(n,a){1&n&&(t.TgZ(0,"span",152),t._UZ(1,"azt-loading-ui"),t.qZA())}function fe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",150),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.submitHomework())}),t.YNc(1,pe,2,0,"span",151),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("disabled",e.statusObjData.loading||!(null!=e.answerFileList&&e.answerFileList.length)||(null==e.obj?null:e.obj.isMarked)||e.isNotChangeData),t.xp6(1),t.Q6J("ngIf",e.statusObjData.loading),t.xp6(1),t.hij(" ",null!=e.obj&&e.obj.isMarked?t.lcZ(3,3,"lang_homework_homework_frontend_submit_homework_submitted"):t.lcZ(4,5,"lang_homework_homework_frontend_submit_homework_submit")," ")}}function we(n,a){1&n&&(t.TgZ(0,"span",152),t._UZ(1,"azt-loading-ui"),t.qZA())}function be(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",153),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.submitHomework())}),t.YNc(1,we,2,0,"span",151),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("disabled",e.statusObjData.loading||!(null!=e.answerFileList&&e.answerFileList.length)||(null==e.obj?null:e.obj.isOverTime)),t.xp6(1),t.Q6J("ngIf",e.statusObjData.loading),t.xp6(1),t.hij(" ",null!=e.obj&&e.obj.isMarked?t.lcZ(3,3,"lang_homework_homework_frontend_submit_homework_submitted"):t.lcZ(4,5,"lang_homework_homework_frontend_submit_homework_submit")," ")}}function ve(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",86),t.YNc(2,le,20,11,"ng-container",2),t.YNc(3,ge,4,3,"ng-container",2),t.qZA(),t.TgZ(4,"div",87),t.YNc(5,fe,5,7,"button",88),t.YNc(6,be,5,7,"button",89),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",!(null!=e.obj&&e.obj.isOverTime)),t.xp6(1),t.Q6J("ngIf",null==e.obj?null:e.obj.isOverTime),t.xp6(2),t.Q6J("ngIf",!(null!=e.obj&&e.obj.isOverTime)),t.xp6(1),t.Q6J("ngIf",null==e.obj?null:e.obj.isOverTime)}}function ke(n,a){if(1&n&&(t.ynx(0),t._UZ(1,"video",147),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.url+"#t=5",t.LSH)}}function xe(n,a){if(1&n&&(t._UZ(0,"img",148),t.ALo(1,"mycdn")),2&n){const e=t.oxw().$implicit;t.Q6J("src",t.lcZ(1,1,e.thumb),t.LSH)}}function ye(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",117)(1,"div",161),t.NdJ("click",function(){const d=t.CHM(e).$implicit,v=t.oxw(5);return t.KtG(v.onShowFile(d,-1))}),t.YNc(2,ke,2,1,"ng-container",61),t.ALo(3,"isVideo"),t.YNc(4,xe,2,3,"ng-template",null,162,t.W1O),t.qZA(),t.TgZ(6,"div",121)(7,"button",145),t.O4$(),t.TgZ(8,"svg",123),t._UZ(9,"polyline",124),t.qZA()(),t.kcU(),t._UZ(10,"input",146,126),t.ALo(12,"mytranslate"),t.TgZ(13,"button",145),t.O4$(),t.TgZ(14,"svg",123),t._UZ(15,"polyline",128),t.qZA()()()()}if(2&n){const e=a.$implicit,o=a.index,i=t.MAs(5),d=t.oxw(5);let v;t.xp6(2),t.Q6J("ngIf",t.lcZ(3,6,null!==(v=e.mimes)&&void 0!==v?v:""))("ngIfElse",i),t.xp6(8),t.s9C("id","input_page_"+o),t.s9C("max",null==d.answerFileList?null:d.answerFileList.length),t.s9C("value",o+1),t.s9C("placeholder",t.lcZ(12,8,"lang_auto_trang_so"))}}function Oe(n,a){if(1&n&&(t.TgZ(0,"div",160),t.YNc(1,ye,16,10,"div",116),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.answerFileList)}}function je(n,a){1&n&&(t.TgZ(0,"div",163),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark")," "))}function Ce(n,a){1&n&&t._UZ(0,"p",172)}function Se(n,a){if(1&n&&(t.TgZ(0,"p",172),t._UZ(1,"azt-check-mark",173),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.Q6J("mark",e.answerObj.point)}}function Ae(n,a){if(1&n&&t._UZ(0,"div",178),2&n){const e=t.oxw(6);t.Q6J("innerHTML",e.answerObj.note,t.oJD)}}function Me(n,a){if(1&n&&t._UZ(0,"div",179),2&n){const e=t.oxw(6);t.Q6J("innerHTML",e.answerObj.note,t.oJD)}}function Te(n,a){if(1&n&&t._UZ(0,"div",180),2&n){const e=t.oxw(6);t.Q6J("innerHTML",e.answerObj.note,t.oJD)}}function Ze(n,a){if(1&n&&t._UZ(0,"div",181),2&n){const e=t.oxw(6);t.Q6J("innerHTML",e.answerObj.note,t.oJD)}}function He(n,a){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Ae,1,1,"div",174),t.YNc(2,Me,1,1,"div",175),t.YNc(3,Te,1,1,"div",176),t.YNc(4,Ze,1,1,"div",177),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.Q6J("ngIf","font_chu_in"==e.answerObj.txtCommentFont),t.xp6(1),t.Q6J("ngIf","font_chu_in_\u0111am"==e.answerObj.txtCommentFont),t.xp6(1),t.Q6J("ngIf","font_chu_dep_z"==e.answerObj.txtCommentFont),t.xp6(1),t.Q6J("ngIf","font_chu_in_nghieng"==e.answerObj.txtCommentFont)}}function Pe(n,a){if(1&n&&(t._UZ(0,"div",182),t.ALo(1,"safeAdminHtmlContent")),2&n){const e=t.oxw(5);t.Q6J("innerHTML",t.lcZ(1,1,e.answerObj.note),t.oJD)}}function Le(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",164)(1,"h5",156),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t._uU(4,"\xa0("),t.TgZ(5,"a",165),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return t.KtG(i.viewDetail())}),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t._uU(8,") "),t.qZA(),t.TgZ(9,"div",166)(10,"div",167),t.YNc(11,Ce,1,0,"p",168),t.YNc(12,Se,2,1,"p",168),t.qZA(),t.TgZ(13,"div",169)(14,"h4",170),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.YNc(17,He,5,4,"div",61),t.YNc(18,Pe,2,3,"ng-template",null,171,t.W1O),t.qZA()()}if(2&n){const e=t.MAs(19),o=t.oxw(4);t.xp6(2),t.Oqu(t.lcZ(3,7,"lang_homework_homework_frontend_submit_homework_result")),t.xp6(4),t.Oqu(t.lcZ(7,9,"lang_homework_homework_frontend_submit_homework_view_detail_result")),t.xp6(5),t.Q6J("ngIf",!o.isHideMark&&null==o.answerObj.point),t.xp6(1),t.Q6J("ngIf",!o.isHideMark&&null!=o.answerObj.point),t.xp6(3),t.Oqu(t.lcZ(16,11,"lang_homework_homework_frontend_submit_homework_comment")),t.xp6(2),t.Q6J("ngIf",o.answerObj&&null!=o.answerObj.txtCommentFont||null!=o.answerObj.txtCommentFont)("ngIfElse",e)}}function Ie(n,a){if(1&n&&(t.TgZ(0,"div",154)(1,"div",155)(2,"h5",156),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()(),t.YNc(9,Oe,2,1,"div",157),t.YNc(10,je,3,3,"div",158),t.YNc(11,Le,20,13,"ng-template",159),t.qZA()),2&n){const e=t.oxw(3);t.xp6(3),t.Oqu(t.lcZ(4,6,"lang_homework_homework_frontend_submit_homework_assignment")),t.xp6(3),t.AsE("\xa0(",t.lcZ(7,8,"lang_homework_homework_frontend_submit_homework_time_submit"),": ",t.lcZ(8,10,null==e.answerObj?null:e.answerObj.createdAt),")"),t.xp6(3),t.Q6J("ngIf",null==e.answerFileList?null:e.answerFileList.length),t.xp6(1),t.Q6J("ngIf",null!=e.answerObj&&(null==e.obj?null:e.obj.isMarked)&&e.whenShowAnswer),t.xp6(1),t.Q6J("ngIf",null!=e.answerObj&&(null==e.obj?null:e.obj.isMarked)&&!e.whenShowAnswer)}}function Fe(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",37)(2,"div",21)(3,"h3",22),t._uU(4),t.qZA(),t.TgZ(5,"div",23),t._UZ(6,"azt-download-qr-code",24),t.qZA()(),t.TgZ(7,"div",25)(8,"span",21),t.O4$(),t.TgZ(9,"svg",26),t._UZ(10,"path",27)(11,"path",28)(12,"path",29)(13,"path",30)(14,"rect",31)(15,"rect",32),t.qZA(),t._uU(16),t.ALo(17,"mytranslate"),t.kcU(),t.TgZ(18,"span",33)(19,"span"),t._uU(20),t.qZA()()()(),t.TgZ(21,"div",25)(22,"span",21),t.O4$(),t.TgZ(23,"svg",26),t._UZ(24,"rect",38)(25,"rect",39)(26,"rect",40)(27,"rect",41),t.qZA(),t._uU(28),t.ALo(29,"mytranslate"),t.kcU(),t.TgZ(30,"span",42),t._uU(31),t.qZA()()(),t.YNc(32,Yt,9,4,"div",43),t.TgZ(33,"div",44),t.YNc(34,Rt,18,6,"div",45),t.TgZ(35,"div",46)(36,"span",21),t.O4$(),t.TgZ(37,"svg",47),t._UZ(38,"path",48)(39,"path",49)(40,"path",50)(41,"path",51)(42,"path",52)(43,"line",53),t.qZA(),t._uU(44),t.ALo(45,"mytranslate"),t.YNc(46,Bt,3,3,"span",54),t.YNc(47,$t,3,3,"span",54),t.qZA()()()(),t.kcU(),t.TgZ(48,"div",20)(49,"div",55),t._UZ(50,"azt-dynamic-hook",56),t.qZA(),t.TgZ(51,"div",57)(52,"div",58),t.YNc(53,Gt,11,5,"div",59),t.qZA()()(),t.TgZ(54,"div",60),t.YNc(55,ve,7,4,"ng-container",61),t.YNc(56,Ie,12,12,"ng-template",null,62,t.W1O),t.TgZ(58,"app-answer-history",63),t.NdJ("previewFileEmit",function(i){t.CHM(e);const d=t.oxw(2);return t.KtG(d.onShowFileTwo(i))}),t.qZA()(),t.BQk()}if(2&n){const e=t.MAs(57),o=t.oxw(2);let i;t.xp6(4),t.hij(" ",null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.name," "),t.xp6(2),t.Q6J("fileName","azota_submit_homework_qrcode_"+o.homeworkHashId)("linkUrl",o.copyLinkToClipboard()),t.xp6(10),t.hij(" ",t.lcZ(17,18,"lang_homework_homework_frontend_submit_homework_code_homework"),": "),t.xp6(4),t.Oqu(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.hashId),t.xp6(8),t.hij(" ",t.lcZ(29,20,"lang_auto_lop")+":"," "),t.xp6(3),t.hij(" ",o.currentChild||null!=o.obj&&null!=o.obj.classroomObj&&o.obj.classroomObj.name?null==o.obj||null==o.obj.classroomObj?null:o.obj.classroomObj.name:""," "),t.xp6(1),t.Q6J("ngIf",o.currentChild),t.xp6(2),t.Q6J("ngIf",null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.startDate),t.xp6(10),t.hij(" ",t.lcZ(45,22,"lang_homework_homework_frontend_submit_homework_dealine"),":\xa0 "),t.xp6(2),t.Q6J("ngIf",null!=(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.deadline)),t.xp6(1),t.Q6J("ngIf",null==(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.deadline)),t.xp6(3),t.Q6J("content",null!==(i=null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.content)&&void 0!==i?i:""),t.xp6(3),t.Q6J("ngForOf",o.files),t.xp6(2),t.Q6J("ngIf",null==o.answerObj||null!=o.answerObj&&null==o.answerObj.confirmedAt)("ngIfElse",e),t.xp6(3),t.Q6J("dataAnswerHistory",o.answerHistory)("dataHomeworkObj",null==o.obj?null:o.obj.homeworkObj)}}function De(n,a){if(1&n&&(t.ynx(0),t.YNc(1,qt,4,3,"div",34),t.YNc(2,Fe,59,24,"ng-template",null,35,t.W1O),t.BQk()),2&n){const e=t.MAs(3),o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.showErrorOvertime)("ngIfElse",e)}}let Ue=(()=>{class n extends M.Q{copyLinkToClipboard(){return`${this.commonService.getCurrentDomain()}/bai-tap/${this.homeworkHashId}`}getFileType(e){let o=(0,P.Z9)(e),i=this.commonService.myTranslateInstant("lang_auto_hinh_anh")??"",d=this.commonService.myTranslateInstant("lang_auto_video")??"",v=this.commonService.myTranslateInstant("lang_auto_am_thanh")??"",Z=this.commonService.myTranslateInstant("lang_auto_tai_lieu")??"";return"image"==o?i:"video"==o?d:"audio"==o?v:Z}getFileIcon(e){let o=(0,P.Z9)(e.mimes??"");return"image"==o?e.url??"images/jpg-icon.png":"video"==o?"images/video_sample.png":"audio"==o?"images/audio_sample.png":"pdf"==o?"images/ext_pdf_filetype_icon_176234.svg":"images/documents.png"}isShowGreenCheckbox(e){if(this.rawAnswerFileList&&this.rawAnswerFileList.length>0)for(let o=0;o<this.rawAnswerFileList.length;o++)if(this.rawAnswerFileList[o].url===e)return!0;return!1}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(e,o){let i={...e,index:o};this.sAztDialogService.open(X.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:i},restoreFocus:!1})}onShowFileTwo(e){this.isShowPreviewFile=!0,this.sAztDialogService.open(X.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:e},restoreFocus:!1})}addFileWithProcess(e){e&&(this.isNotChangeData=!1,this.answerFileList?.push(e));let o=this.answerFileList?.length??0;for(let i=0;i<o;i++)this.answerFileList&&!this.answerFileList?.[i].lastModified&&(this.answerFileList[i].lastModified=(new Date).getTime()),this.answerFileList&&!this.answerFileList[i].thumb&&(this.answerFileList[i].thumb=this.homeworkExamService.getThumbWithObj(this.answerFileList[i]));this.answerFileList&&this.answerFileList.length>0&&this.answerFileList.sort((i,d)=>i.lastModified&&d.lastModified?i.lastModified-d.lastModified:0)}switchAttributeArray(e,o,i){if(this.answerFileList&&this.answerFileList?.length){if(this.answerFileList?.length<=o||this.answerFileList.length<=i||o<0||i<0)return;let d=this.castObj(this.answerFileList[o]);this.answerFileList[o]=this.castObj(this.answerFileList[i])??{},this.answerFileList[i]=d??{}}}switchAttributeArrayInput(e,o){let i=Number(o)-1;i<=0?i=0:this.answerFileList&&i>=this.answerFileList?.length&&(i=this.answerFileList.length),this.answerFileList?.splice(i,0,this.answerFileList.splice(e,1)[0])}showAllSubmit(){this.commonService.myNavigation("/student/classroom/0")}viewDetail(){let e=this.commonService.getCurrentUrlWithoutLocale();this.commonService.myNavigationWithQueryString("/homework/switch-view-homework/"+this.answerObj?.id+"/"+this.homeworkHashId,"?backto="+e)}viewDetailHistory(e){let o=this.commonService.getCurrentUrlWithoutLocale();this.commonService.myNavigationWithQueryString("/homework/switch-view-homework/"+this.obj?.homeworkObj?.id+"/"+this.homeworkHashId+"/"+e,"?backto="+o)}openChooseStudent(e){1==e?(this.chooseChildData.isPendingApproved=!1,this.chooseChildData.isShow=!0):(this.chooseChildData.isPendingApproved=!0,this.chooseChildData.isShow=!0)}closeChooseStudent(e){0==e.studentObj?.isVerified||1==e.classObj?.freeChooseName?this.frontStudentService.apiFrontStudentAddStudentToClassForHomeworkGet(this.homeworkHashId,this.obj?.classroomObj?.id??0,e.studentObj?.id??0).subscribe(o=>{o.success?(this.getData(),this.selectChild=!1,this.isPendingApproved=!1):this.showErrorSnack(o.message??"")}):this.userService.isLoginAndNotAnonymous()?this.userService.getUserObj().id==e.studentObj?.parentId?(this.urlStudentId=0,this.getData(),this.selectChild=!1,this.isPendingApproved=!1,this.normalFlow=!0):this.sAztDialogService.open(lt.P,{width:"600px",data:{studentObj:e.studentObj,classId:e.classId,isShow:!0},restoreFocus:!1}).afterClosed().subscribe(v=>{switch(v){case"success":this.showSuccessSnack("lang_auto_yeu_cau_cua_ban_da_duoc_gui_toi_cho_giao_vien");break;case"error":this.showErrorSnack("lang_auto_chua_the_gui_yeu_cau_vui_long_thu_lai")}}):this.sAztDialogService.open(ct,{data:{studentObj:e.studentObj,isShow:!0},restoreFocus:!1})}approvedToClass(e){this.waitDestroy(this.frontStudentService.apiFrontStudentSaveStudentForHomeworkPost({fullName:e.nameEmit??"",homeworkHashId:this.homeworkHashId}).subscribe(i=>{1==i.success?this.getData():this.showErrorSnack(i.message??"")}))}fillData(){if(this.files=this.commonService.myParseJson(this.obj?.homeworkObj?.files??"")??[],null==this.files&&(this.files=new Array),this.obj?.answerObj&&this.obj.answerObj.files&&(this.answerFileList=this.commonService.myParseJson(this.obj.answerObj.files),this.rawAnswerFileList=this.commonService.myClone(this.answerFileList),this.isNotChangeData=!0),this.obj?.answerHistoryObjs){for(let o=0;o<this.obj.answerHistoryObjs.length;o++)this.resendNote=this.obj.answerHistoryObjs[0].resendNote,this.hasResentComment=!0,this.obj.answerHistoryObjs[o].result&&(this.obj.answerHistoryObjs[o].note=this.commonService.willDeleteParseJson(this.obj.answerHistoryObjs[o].result??"").comment);this.answerHistory=this.obj.answerHistoryObjs??[];for(let o=0;o<this.answerHistory.length;o++){if(this.answerHistory[o].result){var e=this.commonService.willDeleteParseJson(this.answerHistory[o].resultNote??"");this.answerHistory[o].hideMark=!(!e||!e?.IsHideMark)&&e?.IsHideMark}if(this.answerHistory[o].files)if(this.answerHistory[o].files?.includes("<z>:")){let i=this.zipDataService.decodeContentGzip(this.answerHistory[o].files??"");this.answerHistory[o].fileParse=this.commonService.myParseJson(i)}else this.answerHistory[o].fileParse=this.commonService.myParseJson(this.answerHistory[o].files??"")}}this.obj?.answerObj&&(this.answerObj=this.obj.answerObj,this.hasResentComment=!1),this.answerObj&&this.answerObj.result&&(this.answerObj.note=null!=this.commonService.willDeleteParseJson(this.answerObj.result)?this.commonService.willDeleteParseJson(this.answerObj.result).comment:"",this.answerObj.txtCommentFont=this.commonService.willDeleteParseJson(this.commonService.willDeleteParseJson(this.answerObj.result).staticTextConfig)?.txtCommentFont,this.isHideMark=null!=this.commonService.willDeleteParseJson(this.answerObj.result)&&this.commonService.willDeleteParseJson(this.answerObj.result).hideMark),null!=this.answerObj?.resultNote&&null==this.answerObj?.note&&(this.answerObj.note=null!=this.commonService.willDeleteParseJson(this.answerObj.resultNote)?this.commonService.willDeleteParseJson(this.answerObj.resultNote).Note:""),this.currentChild=this.obj?.studentObj?this.obj.studentObj:{...this.userService.getUserObj(),id:0,classroomId:0,parentId:0,gender:0}}getData(){this.initStatusObj(),this.frontHomeworkService.apiFrontHomeworkGetObjGet(this.homeworkHashId).subscribe(e=>{if(1==e.success){this.zipDataService.convertAnswersHistories(e.data),this.zipDataService.convertSubmittedAnswersObj(e.data?.answerObj),this.obj=e.data,this.dataProcess=e.data,this.obj?.homeworkObj&&this.zipDataService.convertHomeworkObj(this.obj?.homeworkObj);let o=this.commonService.myTranslateInstant("lang_auto_lop");if(this.commonService.translateMetaData({title:this.obj?.homeworkObj?.name+`- ${o}:`+this.obj?.classroomObj?.name,description:this.obj?.homeworkObj?.content}),this.whenShowAnswer=this.obj?.homeworkObj?.whenShowAnswer??0,1==this.obj?.homeworkObj?.mustVerified)if(this.userService.isNotLoginAndNotAnonymous())this.sAztDialogService.open(pt,{data:{type:"redirect_register",isShow:!0},restoreFocus:!1}),this.openChooseStudent(1),this.chooseChildData.studentObjs=this.obj.studentObjs,this.chooseChildData.classObj=this.obj.classroomObj,this.selectChild=!0,this.normalFlow=!1;else if(this.obj?.studentObj&&1==this.obj.studentObj.isVerified)if(this.urlStudentId){let i=this.obj?.studentObjs?.filter(d=>d.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={classroomObjs:[],studentObjs:this.obj?.studentObjs,studentObj:i?.[0],classObj:this.obj.classroomObj,isPendingApproved:!1,isShow:!0}}else this.fillData(),this.selectChild=!1,this.normalFlow=!0;else if(this.obj?.studentObj&&0==this.obj.studentObj.isVerified)if(this.urlStudentId){let i=this.obj?.studentObjs?.filter(d=>d.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={classroomObjs:[],studentObjs:this.obj?.studentObjs,studentObj:i?.[0],classObj:this.obj.classroomObj,isPendingApproved:!1,isShow:!0}}else this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(2),this.chooseChildData.studentObj=null!=this.dataProcess?.studentObj?{...this.dataProcess?.studentObj,avatar:"",last4DigitPhone:"",zaloName:"",userEmail:""}:void 0;else if(this.urlStudentId){let i=this.obj?.studentObjs?.filter(d=>d.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={classroomObjs:[],studentObjs:this.obj?.studentObjs,studentObj:i?.[0],classObj:this.obj?.classroomObj,isPendingApproved:!1,isShow:!0}}else this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(1),this.chooseChildData.studentObjs=this.dataProcess?.studentObjs??[],this.chooseChildData.classObj=this.dataProcess?.classroomObj;else if(null==this.obj?.studentObj)if(this.urlStudentId){let i=this.obj?.studentObjs?.filter(d=>d.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={classroomObjs:[],studentObjs:this.obj?.studentObjs??[],studentObj:i?.[0],classObj:this.obj?.classroomObj,isPendingApproved:!1,isShow:!0}}else this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(1),this.chooseChildData.studentObjs=this.dataProcess?.studentObjs??[],this.chooseChildData.classObj=this.dataProcess?.classroomObj;else if(this.urlStudentId){let i=this.obj?.studentObjs?.filter(d=>d.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={classroomObjs:[],studentObjs:this.obj?.studentObjs,studentObj:i?.[0],classObj:this.obj.classroomObj,isPendingApproved:!1,isShow:!0}}else this.isPendingApproved=!1,this.selectChild=!1,this.fillData(),this.normalFlow=!0;this.successStatusObj()}else this.obj=e.data,this.errorStatusObj(e.message??"",!0)})}convertObjToArray(e){let o=[];for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&o.push(e[i]);return o}removeImg(e){let o=this.answerFileList?.filter(i=>i.url!==e);this.answerFileList=o,this.isNotChangeData=!1}submitHomework(){let e={homeworkHashId:this.obj?.homeworkObj?.hashId??"",studentId:this.currentChild?.id??0,files:JSON.stringify(this.answerFileList)};if("[]"!=e.files){this.isSubmit=!1,this.statusObjData={loading:!0,errorMessage:""};let o=JSON.stringify({type:"homework",id:this.obj?.homeworkObj?.id,user:this.obj?.homeworkObj?.tenantId});this.frontAnswerService.apiFrontAnswerSaveObjPost(e,o).subscribe(i=>{1==i.success?(this.localStorageObject.clearAllCache(),this.isSubmit=!0,this.statusObjData={loading:!1,errorMessage:""},this.rawAnswerFileList=this.commonService.myClone(this.answerFileList),this.showSuccessSnack("lang_auto_ban_da_nop_bai_thanh_cong"),this.isNotChangeData=!0,this.hasResentComment=!1):(this.showErrorSnack(i.message??""),this.statusObjData={loading:!1,errorMessage:""},this.isSubmit=!1)},i=>{this.logs.push("Err:"+i)})}else this.showErrorSnack("lang_auto_bai_lam_chua_day_du_vui_long_thu_lai")}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_student_view_exercise_title",description:"lang_cms_student_view_exercise_description",image:"lang_cms_test_image"}),(0,at.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([e,o])=>{""!=this.commonService.getMyQueryParam("backto")&&(this.backToLink=this.commonService.getMyQueryParam("backto")??"/student/classroom/0");var i=this.commonService.getMyQueryParam("studentId")??"0";this.urlStudentId=parseInt(i,10),this.homeworkHashId=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.getData()}),super.ngOnInit()}constructor(e,o,i,d,v,Z,Y,D,Q,I,U){var u;super(),u=this,this.activeRoute=e,this.myPdfService=o,this.localStorageObject=i,this.frontHomeworkService=d,this.frontAnswerService=v,this.frontStudentService=Z,this.apiUploadService=Y,this.zipDataService=D,this.userService=Q,this.homeworkExamService=I,this.sAztDialogService=U,this.homeworkHashId="",this.statusObjData={loading:!1,errorMessage:""},this.files=[],this.hasResentComment=!1,this.isSubmit=!1,this.answerHistory=[],this.isShowPreviewFile=!1,this.showErrorOvertime=!1,this.logs=[],this.isShowErrorsBox=!1,this.isHideMark=!1,this.fileUploadQueue=[],this.uploadCount=0,this.selectChild=!1,this.isPendingApproved=!1,this.messageDialogData={type:"",isShow:!1},this.normalFlow=!1,this.chooseChildData={classroomObjs:[],studentObjs:[],isPendingApproved:!1,isShow:!1},this.backToLink="/student/classroom/0",this.sendRequestData={studentObj:void 0,classId:-1,isShow:!1},this.countUpload=1,this.isNotChangeData=!1,this.whenShowAnswer=0,this.selectFile=function(){var F=(0,E.Z)(function*(y){let h=y.target.files;try{for(let f in h)if("length"!=f&&"item"!=f)if((0,P.zQ)(h[f].type))if((0,P.EO)(h[f].size)<=200)if(u.statusObjData={loading:!0,errorMessage:""},(0,P._4)(h[f].type)){let S=yield u.myPdfService.getImageWithPdf(h[f]);u.answerFile=h?h[f]:u.answerFile,u.uploadFiles(S,u.uploadCount),u.uploadCount+=1}else u.answerFile=h?h[f]:u.answerFile,u.answerFile&&(u.statusObjData={loading:!0,errorMessage:""},u.uploadFile(u.answerFile,u.uploadCount),u.uploadCount+=1);else u.showErrorSnack("lang_auto_vui_long_chon_file_khong_qua_200_mb");else u.showErrorSnack("lang_auto_error_file_no_support_homework_front_end");y.target.value="",u.isSubmit=!1}catch(f){alert("errors:"+f)}});return function(y){return F.apply(this,arguments)}}(),this.uploadFileVideo=function(){var F=(0,E.Z)(function*(y,C){u.waitDestroy(u.apiUploadService.uploadToVimeoProgress("front_homework",y,{qrcode:void 0,homeworkId:u.obj?.homeworkObj?.id,teacherId:u.obj?.homeworkObj?.tenantId}).subscribe(h=>{h.isOnProgress?u.fileUploadQueue.hasOwnProperty(C)?(u.fileUploadQueue[C].uploadProgress=Math.round(h.percentage??0),u.fileUploadQueue[C].fileName=y.name):u.fileUploadQueue[C]={uploadProgress:0,fileName:y.name}:1==h.success?(delete u.fileUploadQueue[C],Array.isArray(u.answerFileList)||(u.answerFileList=[]),u.addFileWithProcess({...h.data,lastModified:y.lastModified}),u.statusObjData={loading:!1,errorMessage:""}):h.hasOwnProperty("code")&&401==h.code?u.countUpload<=3&&setTimeout(()=>{u.countUpload++,u.uploadFileVideo(y,C)},15e3):(u.statusObjData={loading:!1,errorMessage:""},u.commonService.snackError("lang_auto_khong_upload_duoc_tep_tin_vui_long_thu_lai_sau_ten: "+y.name))}))});return function(y,C){return F.apply(this,arguments)}}(),this.uploadFiles=function(){var F=(0,E.Z)(function*(y,C){for(let O=0;O<y.length;O++){const h=y[O];yield(0,P.hv)(h).then(f=>{u.apiUploadService.uploadToCdnProgressForFrontendHomework(f).subscribe(S=>{S.type!=K.dt.UploadProgress&&(1==S.success?(delete u.fileUploadQueue[C],Array.isArray(u.answerFileList)||(u.answerFileList=[]),u.addFileWithProcess({...S.data,lastModified:f.lastModified})):(u.statusObjData={loading:!1,errorMessage:""},u.showErrorSnack("lang_auto_khong_upload_duoc_tep_tin_ten:"+h.name)))})}),O===y.length-1&&(u.statusObjData={loading:!1,errorMessage:""})}});return function(y,C){return F.apply(this,arguments)}}(),this.uploadFile=function(){var F=(0,E.Z)(function*(y,C){u.isSubmit=!1,((0,P.Or)(y.type)||(0,P.Wv)(y.type)||(0,P.F0)(y.type)||(0,P._4)(y.type)||(0,P.D_)(y.type))&&(0,P.hv)(y).then(O=>{u.apiUploadService.uploadToCdnProgressForFrontendHomework(O).subscribe(h=>{if(h.type!=K.dt.UploadProgress)1==h.success?(delete u.fileUploadQueue[C],Array.isArray(u.answerFileList)||(u.answerFileList=[]),u.addFileWithProcess({...h.data,lastModified:O.lastModified}),u.statusObjData={loading:!1,errorMessage:""}):(u.statusObjData={loading:!1,errorMessage:""},u.showErrorSnack(u.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_ten",y.name,h.message??"none")));else{let f=(h.loaded??0)/(h.total??1)*100;u.fileUploadQueue.hasOwnProperty(C)?(u.fileUploadQueue[C].uploadProgress=f,u.fileUploadQueue[C].fileName=y.name):u.fileUploadQueue[C]={uploadProgress:0,fileName:y.name}}})})});return function(y,C){return F.apply(this,arguments)}}(),this.captureFile=function(){var F=(0,E.Z)(function*(y){let h=y.target.files;try{for(let f in h)if("length"!=f&&"item"!=f)if((0,P.zQ)(h[f].type))if((0,P.EO)(h[f].size)<=200)if(u.statusObjData={loading:!0,errorMessage:""},(0,P._4)(h[f].type)){let S=yield u.myPdfService.getImageWithPdf(h[f]);u.answerFile=h?h[f]:u.answerFile,u.uploadFiles(S,u.uploadCount),u.uploadCount+=1}else u.answerFile=h?h[f]:u.answerFile,u.answerFile&&(u.statusObjData={loading:!0,errorMessage:""},u.uploadFile(u.answerFile,u.uploadCount),u.uploadCount+=1);else u.showErrorSnack("lang_auto_vui_long_chon_file_khong_qua_200_mb");else u.showErrorSnack("lang_auto_error_file_no_support_homework_front_end");y.target.value="",u.isSubmit=!1}catch(f){alert(f)}});return function(y){return F.apply(this,arguments)}}(),this.answerFile=null,this.form=new l.cw({file_data:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),file_capture:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),file:new l.NI("",{nonNullable:!0,validators:[l.kI.required]})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.gz),t.Y36(ft.z),t.Y36(wt.y),t.Y36(z.WY),t.Y36(z.XL),t.Y36(bt.Dn),t.Y36(vt.W),t.Y36(B.a),t.Y36(kt.U),t.Y36(xt.v),t.Y36(yt.C))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-submit-homework"]],features:[t.qOj],decls:6,vars:4,consts:[[3,"headerBackToLink"],[1,"intro-x","mt-5"],[4,"ngIf"],[1,"box","mx-auto"],["class","azt-select-child",4,"ngIf"],[1,"w-full"],[1,"text-center","p-3",2,"display","block"],["width","84","height","84","viewBox","0 0 84 84","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M14 77H63C64.8565 77 66.637 76.2625 67.9497 74.9497C69.2625 73.637 70 71.8565 70 70V26.25L50.75 7H21C19.1435 7 17.363 7.7375 16.0503 9.05025C14.7375 10.363 14 12.1435 14 14V28","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M49 7V28H70","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M10.5 43.75L28 61.25","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M28 43.75L10.5 61.25","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M42 28H35","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M63 44H35","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M63 61H35","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-2"],[1,"azt-select-child"],["class","p-3 border-b border-slate-200/60 dark:border-darkmode-400",4,"ngIf"],[1,"mt-5"],[3,"data","selectChild","approvedByName"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"flex","items-center"],[1,"text-lg","font-medium","mr-auto"],[1,"w-auto","flex"],[3,"fileName","linkUrl"],[1,"mt-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],[1,"ml-1","font-bold","text-pirmary"],["class","alert alert-danger mt-3",4,"ngIf","ngIfElse"],["Normal",""],[1,"alert","alert-danger","mt-3"],[1,"azt-info-homework","p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],["x","3","y","3","width","7","height","7"],["x","14","y","3","width","7","height","7"],["x","14","y","14","width","7","height","7"],["x","3","y","14","width","7","height","7"],[1,"ml-1","font-medium"],["class","mt-2",4,"ngIf"],[1,"flex","flex-col","sm:flex-row"],["class","time-create mr-10 mt-2",4,"ngIf"],[1,"time-deadline","mt-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M4.18 4.18A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18"],["d","M21 15.5V6a2 2 0 0 0-2-2H9.5"],["d","M16 2v4"],["d","M3 10h7"],["d","M21 10h-5.5"],["x1","2","y1","2","x2","22","y2","22"],["class","ml-1 font-medium",4,"ngIf"],[1,"azt-content-homework"],[3,"content"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 lg:col-span-3",4,"ngFor","ngForOf"],[1,"p-3"],[4,"ngIf","ngIfElse"],["Result",""],[3,"dataAnswerHistory","dataHomeworkObj","previewFileEmit"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"time-create","mr-10","mt-2"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],[1,"col-span-12","lg:col-span-3"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3","zoom-in"],["azt-track-service","submit-homework-JKHK228AaC",1,"flex","w-full","items-center",3,"click"],[1,"w-12","h-12","image-fit","lg:mr-1"],["class","rounded-md",3,"src",4,"ngIf"],[1,"ml-2","mt-0",2,"max-width","80%"],[1,"font-medium","truncate",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"rounded-md",3,"src"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","pt-4"],[1,"text-center","mt-5"],["azt-track-service","submit-homework-SVOZH1hPhT","class","btn w-24 btn-primary",3,"disabled","click",4,"ngIf"],["azt-track-service","submit-homework-srzM6zkJC9X","class","btn w-24 btn-danger",3,"disabled","click",4,"ngIf"],["class","row ml-0 mr-0",4,"ngIf"],["class","text-center mt-4 mb-4",4,"ngIf"],["class","grid grid-cols-12 gap-1 mt-1 mb-1 pb-3 pt-3 px-3 attach-container",4,"ngIf"],["class","grid grid-cols-10 gap-5 pl-4 pr-5",4,"ngIf"],[1,"px-4","flex","items-center","justify-center","cursor-pointer","relative",2,"margin-top","80px"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-primary","mr-1"],["id","horizontal-form-1","type","file","id","inp_hidden","multiple","",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"],["fileCapture",""],[1,"px-4","pb-4","mt-1","flex","items-center","justify-center","cursor-pointer","relative"],[1,"block","text-slate-600","dark:text-slate-500"],[1,"row","ml-0","mr-0"],[1,"col-12"],[1,"alert","alert-danger","text-center",2,"margin-bottom","1.25rem"],[1,"text-center","mt-4","mb-4"],[1,"text-md","font-medium"],[1,"grid","grid-cols-12","gap-1","mt-1","mb-1","pb-3","pt-3","px-3","attach-container"],["class","col-span-6 md:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-6","md:col-span-4","lg:col-span-2"],[1,"text-md","font-medium","truncate"],[1,"progress-container"],["max","100",2,"width","100%","height","20px","background-color","#1e40af",3,"value"],[1,"text-md","font-medium","text-success"],[1,"grid","grid-cols-10","gap-5","pl-4","pr-5"],["class","col-span-5 md:col-span-2 relative cursor-pointer",4,"ngFor","ngForOf"],[1,"col-span-5","md:col-span-2","relative","cursor-pointer"],["azt-track-service","submit-homework-U3JvmWJWyL","_target","blank",1,"image-fit","h-32",3,"click"],["class","preview-video rounded-md relative overflow-hidden",4,"ngIf","ngIfElse"],["notFileVideo",""],[1,"flex","items-center","rounded-md","border","border-slate-200","dark:border-darkmode-400","overflow-hidden",2,"border-top-left-radius","0","border-top-right-radius","0"],["azt-track-service","submit-homework-oCv304vr_j",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["points","15 18 9 12 15 6"],["type","text","type","number","min","1",1,"form-control","text-center",2,"border","none","line-height","0.25rem","border-radius","0",3,"id","max","value","placeholder","keyup.enter","change"],["myInput",""],["azt-track-service","submit-homework-sWozCmSRRn",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none",3,"click"],["points","9 18 15 12 9 6"],["azt-track-service","submit-homework-OKXWiY1X2a","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],[1,"preview-video","rounded-md","relative","overflow-hidden"],["preload","metadata",1,"rounded-md","border","border-slate-200","dark:border-darkmode-400",2,"height","8rem","width","100%","object-fit","cover","border-bottom-left-radius","0","border-bottom-right-radius","0"],["type","video/mp4",3,"src"],[1,"azt-fill"],[1,"azt-fill-icon"],[1,"w-6","h-6","inline-block"],["name","video"],["alt","Azota-Image-Loading",1,"border","border-slate-200","dark:border-darkmode-400","rounded-md",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","object-fit","contain",3,"src"],["azt-track-service","submit-homework-OKXWiY1X2a",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","w-4","h-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],["class","alert alert-danger text-center mt-2 ml-5 mr-5","style","margin-bottom: 1.25rem",4,"ngIf"],["azt-track-service","submit-homework-MxLAiMtc7R","_target","blank",1,"image-fit","h-32",3,"click"],["notFileVideoOverTime",""],["disabled","",1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none"],["type","text","type","number","min","1","disabled","",1,"form-control","text-center",2,"border","none","line-height","0.25rem","border-radius","0",3,"id","max","value","placeholder"],[1,"rounded-md","border-bottom-0",3,"src"],["alt","Azota-Image-Loading",1,"rounded-md","w-fit",2,"border-bottom-left-radius","0","border-bottom-right-radius","0",3,"src"],[1,"alert","alert-danger","text-center","mt-2","ml-5","mr-5",2,"margin-bottom","1.25rem"],["azt-track-service","submit-homework-SVOZH1hPhT",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","submit-homework-srzM6zkJC9X",1,"btn","w-24","btn-danger",3,"disabled","click"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","dark:border-darkmode-400","rounded-md","pt-4"],[1,"flex"],[1,"text-md","ml-3","font-medium","text-dark"],["class","grid grid-cols-10 gap-5 pl-4 pr-5 mt-3",4,"ngIf"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf"],[3,"ngIf"],[1,"grid","grid-cols-10","gap-5","pl-4","pr-5","mt-3"],["azt-track-service","submit-homework-r1g0ks59mJK","_target","blank",1,"image-fit","h-32","border","border-slate-200","dark:border-darkmode-400","rounded-md",2,"border-bottom","0","border-bottom-left-radius","0","border-bottom-right-radius","0",3,"click"],["notFileVideoResult",""],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[1,"flex","mt-3"],["azt-track-service","submit-homework-wmQuG3uTIJb",2,"color","rgba(0, 167, 208, 1)","cursor","pointer",3,"click"],[1,"grid","grid-cols-4","gap-3","mt-3","auto-cols-auto",2,"margin","16px!important"],[1,"col-span-4","sm:col-span-1","md:col-span-1","relative","text-center","border-2","border-dashed","dark:border-darkmode-400","p-8","content-homework"],["class","mb-0",4,"ngIf"],[1,"col-span-4","sm:col-span-3","md:col-start-2","md:col-end-4","relative","border-2","border-dashed","dark:border-darkmode-400","p-3"],[1,"text-md","ml-3","font-medium","text-dark","title"],["fontText",""],[1,"mb-0"],[3,"mark"],["class","content-homework pt-3 text-writing",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-bold",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-beautiful",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-italy",3,"innerHTML",4,"ngIf"],[1,"content-homework","pt-3","text-writing",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-bold",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-beautiful",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-italy",3,"innerHTML"],["id","azt-view-comment",1,"pt-3",3,"innerHTML"]],template:function(e,o){1&e&&(t.TgZ(0,"student-layout",0)(1,"div",1),t.YNc(2,Et,15,4,"div",2),t.TgZ(3,"div",3),t.YNc(4,Qt,4,2,"div",4),t.YNc(5,De,4,2,"ng-container",2),t.qZA()()()),2&e&&(t.Q6J("headerBackToLink",o.backToLink),t.xp6(2),t.Q6J("ngIf",""!=o.statusObj.errorMessage),t.xp6(2),t.Q6J("ngIf",o.selectChild),t.xp6(1),t.Q6J("ngIf",o.normalFlow))},dependencies:[A.sg,A.O5,Ot.gM,jt.p,$.B,Ct.W,nt.n,St.O,At.L,k.Nh5,Nt,L.JV,L.QN,L.Tm,L.CR,L.Bo,L.$n,L.ul],styles:['@font-face{font-family:font_chu_dep;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}@font-face{font-family:font_chu_in;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/Roboto-Thin.ttf)}@font-face{font-family:font_chu_in_nghieng;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/MyriadPro-It.otf)}@font-face{font-family:font_chu_in_dam;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/MyriadPro-BoldIt.otf)}.text-writing[_ngcontent-%COMP%]{font-family:font_chu_in!important;font-weight:700}.text-writing-beautiful[_ngcontent-%COMP%]{font-family:font_chu_dep!important}.text-writing-italy[_ngcontent-%COMP%]{font-family:font_chu_in_nghieng!important}.text-writing-bold[_ngcontent-%COMP%]{font-family:font_chu_in_dam!important}.content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px}.title[_ngcontent-%COMP%]{position:absolute;top:-11px;background:#fff}.progress-container[_ngcontent-%COMP%]{position:relative;display:block;background:#eee;height:20px;border-radius:6px;overflow:hidden}.progress-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;height:100%;background:#1e40af}progress[_ngcontent-%COMP%]{accent-color:#1e40af}[_ngcontent-%COMP%]::-webkit-progress-value{background-color:#1e40af}[_ngcontent-%COMP%]::-moz-progress-bar{background-color:#1e40af}']}),n})();var V=_(75270);let it=(()=>{class n extends M.Q{getData(e,o){this.initStatusObj(),o?this.frontAnswerHistoryService.apiFrontAnswerHistoryGetObjGet(this.homeworkHashId,o).subscribe(i=>{1==i.success?(this.switchViewHomework(i),this.successStatusObj()):this.errorStatusObj(i.message??"",!0)}):this.frontAnswerService.apiFrontAnswerGetObjGet(this.homeworkHashId,e).subscribe(i=>{1==i.success?(this.switchViewHomework(i),this.successStatusObj()):this.errorStatusObj(i.message??"",!0)})}switchViewHomework(e){if(e){this.zipDataService.convertSubmittedAnswersHistoryObj(e.data?.answerObj);let o=e.data,i=this.castObj(o?.answerObj);if(null!=i){let d=this.commonService.myParseJson(i?.result??"");this.commonService.myNavigationWithQueryString(this.historyId?d&&d?.urlDataMark?`/homework/view-homework-new/${i.id}/${this.homeworkHashId}/${this.historyId}`:`/homework/view-homework/${i.id}/${this.homeworkHashId}/${this.historyId}`:d&&d?.urlDataMark?`/homework/view-homework-new/${i.id}/${this.homeworkHashId}`:`/homework/view-homework/${i.id}/${this.homeworkHashId}`,`?backto=${encodeURIComponent(this.backToLink)}`)}}}ngOnInit(){this.classliveUrl=this.envService.getEnvValue("classliveUrl")??"";let e=this.commonService.getMyParam(this.activeRoute,"id")??"";const o=parseInt(e,10);if(this.homeworkHashId=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.commonService.getMyParam(this.activeRoute,"history_id")){let i=this.commonService.getMyParam(this.activeRoute,"history_id")??"";this.historyId=parseInt(i,10),this.getData(o,this.historyId)}else this.getData(o);this.commonService.translateMetaData({title:"lang_cms_student_view_exercise_title",description:"lang_cms_student_view_exercise_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,o,i,d,v){super(),this.activeRoute=e,this.frontAnswerService=o,this.frontAnswerHistoryService=i,this.zipDataService=d,this.envService=v,this.backToLink="",this.homeworkHashId="",this.historyId=0,this.classliveUrl=""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.gz),t.Y36(z.XL),t.Y36(z.ln),t.Y36(B.a),t.Y36(V.h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-switch-view-homework"]],features:[t.qOj],decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})();var Ne=_(88489),Je=_(85904),Ee=_(62703);const ze=function(n){return{height:n}};function Qe(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",21)(2,"azt-mark-note",22,23),t.NdJ("handleBackLink",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.goBack())}),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngStyle",t.VKq(5,ze,e.sizeMarkEditor.height+"px")),t.xp6(1),t.Q6J("dataMarkNote",e.jsonData)("modeView","student")("showBackLink",!0)("showCopyLinkTeacher",!0)}}function qe(n,a){if(1&n&&(t.TgZ(0,"div",24)(1,"div",25),t._UZ(2,"azt-check-mark",26),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("mark",null==e.result||null==e.result.answerObj?null:e.result.answerObj.point)}}let rt=(()=>{class n extends M.Q{getSizeMarkEditor(e){this.sizeMarkEditor=e}checkModeUiEditor(e){this.initDataEditor="dark"==e?{height:450,menubar:!1,skin:"oxide-dark",readonly:1,content_css:"dark",plugins:["emoticons advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | emoticons",emoticons_database:"emojis",content_style:"@font-face { font-family: font_chu_dep; src: url('https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf');} body { font-family: font_chu_dep; color: red; font-size: 18pt; line-height: initial;};"}:{height:450,menubar:!1,readonly:1,plugins:["emoticons advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | emoticons",emoticons_database:"emojis",content_style:"@font-face { font-family: font_chu_dep; src: url('https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf');} body { font-family: font_chu_dep; color: red; font-size: 18pt; line-height: initial;};"}}goBack(){""!=this.backToLink&&null!=this.backToLink?this.commonService.myNavigationBySpecialQueryString(this.backToLink):this.commonService.myNavigation("/bai-tap/"+this.homeworkHashId)}fillData(e){if(e){if(this.zipDataService.convertSubmittedAnswersHistoryObj(e.data?.answerObj),this.result=e.data,this.files=this.commonService.myParseJson(e.data?.answerObj?.files??"")??[],null!==this.files)for(let D=0;D<this.files.length;D++)this.files&&(this.files[D].url=this.cdnService.getMyCdn(this.files[D].url??""),this.files[D].thumb=this.cdnService.getMyCdn(this.files[D].thumb??""));let o=this.castObj(this.result?.answerObj),i=this.result?.studentObj,d=this.result?.classroomObj,v=this.result?.homeworkObj?{...this.result.homeworkObj,permissionObj:{}}:void 0,Z=this.commonService.myParseJson(o?.result??""),Y=this.castJsonToObj(this.result?.answerObj?.resultNote??"");this.commentExercise=Y?.Note??"",this.jsonData.cmd="initMNote",this.jsonData.mode="edit",this.jsonData.answer_obj=o,this.jsonData.student_obj=i,this.jsonData.classroom_obj=d,this.jsonData.homework_obj=v,Z&&Z.hasOwnProperty("hideMark")&&(this.jsonData.hideMark=Z.hideMark),this.dataMarkNote=this.jsonData}}getData(e,o){this.initStatusObj(),this.errorMessage="",o?this.frontAnswerHistoryService.apiFrontAnswerHistoryGetObjGet(this.homeworkHashId,o).subscribe(i=>{1==i.success?(this.fillData(i),this.successStatusObj()):(this.errorStatusObj(i.message??"",!0),this.errorMessage=i?.message)}):this.frontAnswerService.apiFrontAnswerGetObjGet(this.homeworkHashId,e).subscribe(i=>{1==i.success?(this.fillData(i),this.successStatusObj()):(this.errorStatusObj(i.message??"",!0),this.errorMessage=i.message)})}copyLinkToClipboard(){const e=this.getMyParam(this.activeRoute,"id");return`${this.commonService.getCurrentDomainWithLanguage()}/admin/homework/switch-mark-exercise/${e}/${this.homeworkHashId}`}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}ngAfterViewInit(){window.addEventListener("message",this.handleIframe)}ngOnInit(){this.commonService.compareDeviceScreen(768)&&(document.body.style.overflowY="hidden");let o=this.commonService.getMyParam(this.activeRoute,"id")??"";const i=parseInt(o,10);this.homeworkHashId=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.backToLink=this.commonService.getMyQueryParam("backto")??"";let d=""==this.browserStorageService.getStorage("mode_ui")?"light":this.browserStorageService.getStorage("mode_ui")??"light";if(this.checkModeUiEditor(d),this.commonService.getMyParam(this.activeRoute,"history_id")){let v=this.commonService.getMyParam(this.activeRoute,"history_id")??"";const Z=parseInt(v,10);this.getData(i,Z)}else this.getData(i);this.commonService.translateMetaData({title:"lang_cms_student_view_exercise_title",description:"lang_cms_student_view_exercise_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){document.body.style.overflowY="auto"}constructor(e,o,i,d,v,Z,Y){super(),this.activeRoute=e,this.frontAnswerService=o,this.frontAnswerHistoryService=i,this.cdnService=d,this.zipDataService=v,this.envService=Z,this.browserStorageService=Y,this.homeworkHashId="",this.isMarked=!1,this.jsonData={},this.backToLink="",this.dataMarkNote={},this.files=[],this.sizeMarkEditor={width:200,height:800},this.commentExercise="",this.initDataEditor={},this.handleIframe=D=>{if("MNoteLoadComplete"==D.data){const Q=document.getElementById("mNote"),I=Q?Q.contentWindow:null;if(null!==I){let U=this.castObj(this.result?.answerObj);if(null!=U){let h=this.commonService.willDeleteParseJson(U?.result??"");if(null!=h){for(let S=0;S<h.pages.length;S++)h.pages[S].backgroundImage&&(h.pages[S].backgroundImage=this.cdnService.getMyCdn(h.pages[S].backgroundImage)),h.pages[S].draw&&(h.pages[S].draw=this.cdnService.getMyCdn(h.pages[S].draw));h=JSON.stringify(h),U.result=h}let f=this.commonService.willDeleteParseJson(U?.files??"");if(null!=f){for(let S=0;S<f.length;S++)f[S].url&&(f[S].url=this.cdnService.getMyCdn(f[S].url)),f[S].thumb&&(f[S].thumb=this.cdnService.getMyCdn(f[S].thumb));f=JSON.stringify(f),U.files=f}}let u=this.result?.studentObj,F=this.result?.classroomObj,y=this.result?.homeworkObj,C=this.commonService.willDeleteParseJson(U?.result??""),O=!(!C||!C.hasOwnProperty("hideMark"))&&C.hideMark;if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(let h=0;h<(this.jsonData.pages?.length??0);h++)this.jsonData.pages?.[h].hasOwnProperty("backgroundImage")&&(this.jsonData.pages[h].backgroundImage=this.cdnService.getMyCdn(this.jsonData.pages[h].backgroundImage??"")),this.jsonData.pages?.[h].hasOwnProperty("draw")&&(this.jsonData.pages[h].draw=this.cdnService.getMyCdn(this.jsonData.pages[h].draw??""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="view",this.jsonData.answer_obj=U,this.jsonData.student_obj=u,this.jsonData.classroom_obj=F,this.jsonData.homework_obj=y,this.jsonData.hideMark=O,I.postMessage(this.jsonData,"*");else{let h=[];this.files.forEach(f=>{h.push({backgroundImage:f.url})}),I.postMessage({cmd:"initMNote",pages:h,answer_obj:U,student_obj:u,classroom_obj:F,homework_obj:y,mode:"view",hideMark:O},"*")}}}}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.gz),t.Y36(z.XL),t.Y36(z.ln),t.Y36(W.E),t.Y36(B.a),t.Y36(V.h),t.Y36(Ne.n))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-homework-new"]],features:[t.qOj],decls:28,vars:16,consts:[[1,"content",2,"padding","0 12px"],[1,"grid","grid-cols-12","gap-3","mt-3"],[4,"ngIf"],[1,"col-span-12","md:col-span-4","mark-general"],[1,"box"],[1,"p-2"],[1,"box-head"],[1,"font-medium"],[1,"flex","items-center","mt-2"],[1,"info-student","flex","items-center"],[3,"nameCreateAvatar","size"],[1,"info","ml-2"],[1,"text-md"],[1,"text-xs"],["class","score ml-auto flex items-center",4,"ngIf"],[1,"comment","mt-3"],[1,"font-medium","text-md"],[1,"comment-editor","mt-2"],["apiKey","ldij13v1886vlrnk42g9bvngyqdc6gxpe8l0n9mo8gdjpg9d",3,"ngModel","disabled","init","ngModelChange"],[1,"mt-3","block","md:hidden"],["azt-track-service","view-homework-new-Ak95y0gQ__",1,"btn","btn-secondary","w-full",3,"click"],[1,"col-span-12","md:col-span-8","mark-editor",3,"ngStyle"],[3,"dataMarkNote","modeView","showBackLink","showCopyLinkTeacher","handleBackLink"],["aztMarkNote",""],[1,"score","ml-auto","flex","items-center"],[1,"border","border-slate-200","dark:border-darkmode-400","rounded-md","p-2","text-danger","text-center","font-medium",2,"width","60px"],[3,"mark"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,Qe,4,7,"ng-container",2),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h3",7),t._uU(8),t.qZA(),t.TgZ(9,"div",8)(10,"div",9),t._UZ(11,"azt-create-avatar",10),t.TgZ(12,"div",11)(13,"p",12),t._uU(14),t.qZA(),t.TgZ(15,"p",13),t._uU(16),t.qZA()()(),t.YNc(17,qe,3,1,"div",14),t.qZA()(),t.TgZ(18,"div",15)(19,"p",16),t._uU(20),t.ALo(21,"mytranslate"),t.qZA(),t.TgZ(22,"div",17)(23,"editor",18),t.NdJ("ngModelChange",function(d){return o.commentExercise=d}),t.qZA()()(),t.TgZ(24,"div",19)(25,"button",20),t.NdJ("click",function(){return o.goBack()}),t._uU(26),t.ALo(27,"mytranslate"),t.qZA()()()()()()()),2&e&&(t.xp6(2),t.Q6J("ngIf",o.jsonData.answer_obj),t.xp6(6),t.hij(" ",null==o.result||null==o.result.homeworkObj?null:o.result.homeworkObj.name," "),t.xp6(3),t.Q6J("nameCreateAvatar",null==o.result||null==o.result.studentObj?null:o.result.studentObj.fullName)("size",35),t.xp6(3),t.hij(" ",null==o.result||null==o.result.studentObj?null:o.result.studentObj.fullName," "),t.xp6(2),t.hij(" ",null==o.result||null==o.result.classroomObj?null:o.result.classroomObj.name," "),t.xp6(1),t.Q6J("ngIf",!o.dataMarkNote.hideMark),t.xp6(3),t.hij(" ",t.lcZ(21,12,"lang_auto_nhan_xet")," "),t.xp6(3),t.Q6J("ngModel",o.commentExercise)("disabled",!0)("init",o.initDataEditor),t.xp6(3),t.hij(" ",t.lcZ(27,14,"lang_auto_quay_lai")," "))},dependencies:[A.O5,A.PC,T.PG,l.JJ,l.On,Je.g,$.B,Ee.H,L.JV],styles:[".btn-score[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center}.choose-score[_ngcontent-%COMP%]{max-width:80%;margin-left:auto;margin-right:auto}.toolbar-list[_ngcontent-%COMP%]{width:100%;padding:5px;position:absolute;top:0;left:0;display:flex;align-items:center;border-bottom-left-radius:0;border-bottom-right-radius:0}.btn-icon[_ngcontent-%COMP%]{padding:10px;min-width:auto;line-height:initial}.toolbar-item[_ngcontent-%COMP%]{margin:0 3px}.toolbar-item[_ngcontent-%COMP%]:first-child{margin-left:0}.btn-icon-child[_ngcontent-%COMP%]{padding:5px}.azt-toolbar-active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(var(--color-slate-200)/var(--tw-bg-opacity))}  .dark .azt-toolbar-active{--tw-bg-opacity: 1;background-color:rgb(var(--color-darkmode-200)/var(--tw-bg-opacity))}@media screen and (max-width: 768px){.choose-score[_ngcontent-%COMP%]{max-width:80%}}"]}),n})();var Ye=_(70342),Re=_(32296),G=_(77988),Be=_(43389);function $e(n,a){if(1&n&&(t.TgZ(0,"h4",12),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE(" ",null==e.result||null==e.result.studentObj?null:e.result.studentObj.fullName,", ",null==e.result||null==e.result.classroomObj?null:e.result.classroomObj.name," ")}}function We(n,a){1&n&&t._UZ(0,"azt-loading-effect")}function Ve(n,a){if(1&n&&(t.TgZ(0,"div",16)(1,"div",17),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,1,e.errorMessage))}}function Ge(n,a){if(1&n&&(t.TgZ(0,"div",18),t._UZ(1,"iframe",19),t.ALo(2,"safe"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("src",t.lcZ(2,1,e.whiteListMNoteIframeSrc),t.uOi)}}function Ke(n,a){if(1&n&&(t.TgZ(0,"div")(1,"div",13),t.YNc(2,Ve,4,3,"div",14),t.qZA()(),t.YNc(3,Ge,3,3,"div",15)),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",""!=e.errorMessage),t.xp6(1),t.Q6J("ngIf",""==e.errorMessage)}}let st=(()=>{class n extends M.Q{goBack(){this.commonService.myNavigation(""!=this.backToLink&&null!=this.backToLink?this.backToLink:"/bai-tap/"+this.homeworkHashId)}fillData(e){if(e){if(this.zipDataService.convertSubmittedAnswersHistoryObj(e.data?.answerObj),this.result=e.data,this.files=this.commonService.myParseJson(e.data?.answerObj?.files??"")??[],null!==this.files)for(let i=0;i<this.files.length;i++)this.files&&(this.files[i].url=this.cdnService.getMyCdn(this.files[i].url??""),this.files[i].thumb=this.cdnService.getMyCdn(this.files[i].thumb??""));if(e.data?.answerObj?.confirmedAt){this.isMarked=!0;var o=this.commonService.myParseJson(this.cdnService.getMyCdn(e?.data?.answerObj?.result??""));o&&(this.jsonData=o,null===this.jsonData&&(this.isMarked=!1))}}}getData(e,o){this.initStatusObj(),this.errorMessage="",o?this.frontAnswerHistoryService.apiFrontAnswerHistoryGetObjGet(this.homeworkHashId,o).subscribe(i=>{1==i.success?(this.fillData(i),this.successStatusObj()):(this.errorStatusObj(i.message??"",!0),this.errorMessage=i?.message)}):this.frontAnswerService.apiFrontAnswerGetObjGet(this.homeworkHashId,e).subscribe(i=>{1==i.success?(this.fillData(i),this.successStatusObj()):(this.errorStatusObj(i.message??"",!0),this.errorMessage=i.message)})}copyLinkToClipboard(){const e=this.getMyParam(this.activeRoute,"id");return`${this.commonService.getCurrentDomainWithLanguage()}/admin/homework/switch-mark-exercise/${e}/${this.homeworkHashId}`}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}ngAfterViewInit(){window.addEventListener("message",this.handleIframe)}ngOnInit(){this.whiteListMNoteIframeSrc=this.envService.getEnvValue("classliveUrl")??"";let e=this.commonService.getMyParam(this.activeRoute,"id")??"";const o=parseInt(e,10);if(this.homeworkHashId=this.commonService.getMyParam(this.activeRoute,"hash_id")??"",this.backToLink=this.commonService.getMyQueryParam("backto")??"",this.commonService.getMyParam(this.activeRoute,"history_id")){let i=this.commonService.getMyParam(this.activeRoute,"history_id")??"";const d=parseInt(i,10);this.getData(o,d)}else this.getData(o);this.commonService.translateMetaData({title:"lang_cms_student_view_exercise_title",description:"lang_cms_student_view_exercise_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(e,o,i,d,v,Z){super(),this.activeRoute=e,this.frontAnswerService=o,this.frontAnswerHistoryService=i,this.cdnService=d,this.zipDataService=v,this.envService=Z,this.homeworkHashId="",this.isMarked=!1,this.whiteListMNoteIframeSrc="",this.backToLink="",this.files=[],this.handleIframe=Y=>{if("MNoteLoadComplete"==Y.data){const D=document.getElementById("mNote"),Q=D?D.contentWindow:null;if(null!==Q){let I=this.result?.hasOwnProperty("answerObj")?this.castObj(this.result.answerObj)??void 0:void 0;if(this.result?.hasOwnProperty("answerObj")){let O=this.commonService.willDeleteParseJson(I?.result??"");if(null!=O){for(let f=0;f<O.pages.length;f++)O.pages[f].backgroundImage&&(O.pages[f].backgroundImage=this.cdnService.getMyCdn(O.pages[f].backgroundImage)),O.pages[f].draw&&(O.pages[f].draw=this.cdnService.getMyCdn(O.pages[f].draw));O=JSON.stringify(O),null!=I&&(I.result=O)}let h=this.commonService.willDeleteParseJson(I?.files??"");if(null!=h){for(let f=0;f<h.length;f++)h[f].url&&(h[f].url=this.cdnService.getMyCdn(h[f].url)),h[f].thumb&&(h[f].thumb=this.cdnService.getMyCdn(h[f].thumb));h=JSON.stringify(h),null!=I&&(I.files=h)}}let U=this.result?.hasOwnProperty("studentObj")?this.result.studentObj:void 0,u=this.result?.hasOwnProperty("classroomObj")?this.result.classroomObj:void 0,F=this.result?.hasOwnProperty("homeworkObj")?this.result.homeworkObj:void 0,y=this.commonService.willDeleteParseJson(I?.result??""),C=!(!y||!y.hasOwnProperty("hideMark"))&&y.hideMark;if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(let O=0;O<(this.jsonData.pages?.length??0);O++)this.jsonData.pages?.[O].hasOwnProperty("backgroundImage")&&(this.jsonData.pages[O].backgroundImage=this.cdnService.getMyCdn(this.jsonData.pages[O].backgroundImage??"")),this.jsonData.pages?.[O].hasOwnProperty("draw")&&(this.jsonData.pages[O].draw=this.cdnService.getMyCdn(this.jsonData.pages[O].draw??""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="view",this.jsonData.answer_obj=I,this.jsonData.student_obj=U,this.jsonData.classroom_obj=u,this.jsonData.homework_obj=F,this.jsonData.hideMark=C,Q.postMessage(this.jsonData,"*");else{let O=[];this.files.forEach(h=>{O.push({backgroundImage:h.url})}),Q.postMessage({cmd:"initMNote",pages:O,answer_obj:I,student_obj:U,classroom_obj:u,homework_obj:F,mode:"view",hideMark:C},"*")}}}}}ngOnDestroy(){window.removeEventListener("message",this.handleIframe),super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x.gz),t.Y36(z.XL),t.Y36(z.ln),t.Y36(W.E),t.Y36(B.a),t.Y36(V.h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-exercise"]],features:[t.qOj],decls:20,vars:11,consts:[["id","markContainer",1,"maxW1000","pt-3"],[1,"flex","justify-between","titleRow"],[1,"col","center-row"],["azt-track-service","view-homework-zMU7uFOiO","mat-button","",3,"title","click"],[1,"col","center-row",2,"justify-content","center"],["class","studentInfo","style","padding-right: 10px;",4,"ngIf"],[1,"col","center-row",2,"justify-content","flex-end"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["azt-track-service","view-homework-Q8Fmec__8U","mat-menu-item","",3,"cdkCopyToClipboard","click"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"studentInfo",2,"padding-right","10px"],[1,"flex","justify-center","py-5"],["class","w-full text-center",4,"ngIf"],["class","card-box listPhotos","style","overflow : hidden",4,"ngIf"],[1,"w-full","text-center"],[1,"alert","text-danger"],[1,"card-box","listPhotos",2,"overflow","hidden"],["id","mNote","frameborder","0",2,"width","100%","height","100%",3,"src"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),t.NdJ("click",function(){return o.goBack()}),t.ALo(4,"mytranslate"),t._uU(5,"keyboard_arrow_left"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,$e,2,2,"h4",5),t.qZA(),t.TgZ(8,"div",6)(9,"button",7)(10,"mat-icon"),t._uU(11,"more_vert"),t.qZA()(),t.TgZ(12,"mat-menu",null,8)(14,"button",9),t.NdJ("click",function(){return o.showCopySuccess()}),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()(),t.YNc(17,We,1,0,"azt-loading-effect",10),t.YNc(18,Ke,4,2,"ng-template",null,11,t.W1O),t.qZA()),2&e){const i=t.MAs(13),d=t.MAs(19);t.xp6(3),t.s9C("title",t.lcZ(4,7,"lang_auto_quay_lai")),t.xp6(4),t.Q6J("ngIf",null==o.result?null:o.result.answerObj),t.xp6(2),t.Q6J("matMenuTriggerFor",i),t.xp6(5),t.Q6J("cdkCopyToClipboard",o.copyLinkToClipboard()),t.xp6(1),t.Oqu(t.lcZ(16,9,"lang_homework_homework_frontend_utils_copy_send_teacher")),t.xp6(2),t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",d)}},dependencies:[A.O5,Ye.i3,Re.RK,ot.Hw,G.VK,G.OP,G.p6,Be.l,L.JV,L.CR],styles:["#markContainer[_ngcontent-%COMP%]{position:relative}.center-row[_ngcontent-%COMP%]{display:flex;align-items:center}.titleRow[_ngcontent-%COMP%]{background-color:#00a7d0;height:40px;margin:0;color:#fff}.titleRow[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.titleRow[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500;font-size:16px;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}.titleRow[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin-right:5px}button[_ngcontent-%COMP%]{border:none}.listPhotos[_ngcontent-%COMP%]{width:100%;position:fixed;top:40px;bottom:0}.file[_ngcontent-%COMP%]{border-width:0px;background:inherit;background-color:#f2f2f2;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e5e5e5;border-left:0px;border-right:0px;border-radius:0;box-shadow:none}.file[_ngcontent-%COMP%]:first-child{margin-top:52px}.file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.back[_ngcontent-%COMP%]{padding:15px 10px}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}.block[_ngcontent-%COMP%]{padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.add-click[_ngcontent-%COMP%]{display:flex}.add-icon[_ngcontent-%COMP%]{margin-top:5px}.file-custom[_ngcontent-%COMP%]{margin-top:6px}.description__share[_ngcontent-%COMP%]{margin-top:10px}.description__share[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#666;margin-right:15px;padding:5px 10px 0}.row-check[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:10px 0}.col-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}.exercise[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:25px 0 15px;border-bottom:1px solid #eee}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;border-radius:5px;padding:10px 25px}.files-custom[_ngcontent-%COMP%]{margin:0}.btn-share[_ngcontent-%COMP%]{border:1px solid #eee}.score-exercise[_ngcontent-%COMP%]{background-color:#ea3d19;border-radius:50%;padding:3px 5px 3px 7px;color:#fff;font-weight:600;margin:0 10px}#listNumber[_ngcontent-%COMP%]{display:contents}#markNumber[_ngcontent-%COMP%]{position:absolute;top:40px;right:50%;z-index:9;margin-right:-60px;color:#fff;text-transform:uppercase;width:120px}@media (min-width: 1000px){.mark-edit[_ngcontent-%COMP%]{width:250px}.file[_ngcontent-%COMP%]:first-child{margin-top:0}.listPhotos[_ngcontent-%COMP%]{width:1000px}}"]}),n})();const Xe=[{path:"",component:R,canActivate:[J.J],children:[{path:":hash_id",component:Ue},{path:"view-homework/:id/:hash_id",component:st},{path:"view-homework/:id/:hash_id/:history_id",component:st},{path:"switch-view-homework/:id/:hash_id",component:it},{path:"switch-view-homework/:id/:hash_id/:history_id",component:it},{path:"view-homework-new/:id/:hash_id",component:rt},{path:"view-homework-new/:id/:hash_id/:history_id",component:rt}]}];let tn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[x.Bz.forChild(Xe),x.Bz,j.fQ]}),n})(),en=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[w.kb,x.Bz,A.ez,m.j,T.Z_,l.u5,l.UX,H.Is,s.Z,p.xC,tn,r.QG,b.W,c.d,k.qyJ.pick(k.ciZ),g.k]}),n})()},97151:(q,N,_)=>{"use strict";_.d(N,{g:()=>p});var A=_(10217),H=_(89156),x=_(65879),T=_(23433),k=_(46558);let p=(()=>{class r{constructor(m,s){this.mobileWebviewService=m,this.commonService=s}shareFileWithBlob(m,s){if(this.commonService.isMobileWebview(void 0)){H.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");let c=new FileReader;c.readAsDataURL(m),c.onloadend=()=>{let g=c.result;"string"==typeof g&&(this.mobileWebviewService.sendShareFileBase64(s,String(g)),H.G.closeLoadingEffect(100))}}else A.saveAs(m,s)}shareFileWithBase64(m,s){this.commonService.isMobileWebview(void 0)?this.mobileWebviewService.sendShareFileBase64(s,m):A.saveAs(m,s)}}return r.\u0275fac=function(m){return new(m||r)(x.LFG(T.r),x.LFG(k.z))},r.\u0275prov=x.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},88131:(q,N,_)=>{"use strict";_.d(N,{V:()=>H});var A=_(65879),l=_(46558);let H=(()=>{class x{sortFirstNameStudentsInClass(k){var p=this.commonService.myClone(k),r=[],w="results";return p.forEach(m=>{m.hasOwnProperty(w)&&(m[w]=this.sortFirstNameStudents(m[w])),r.push(m)}),r}sortFirstNameStudents(k){var p=[...k];if(Array.isArray(p)){var r="fullName",w="birthday",m="id";return p.sort((s,c)=>{if(s.hasOwnProperty(r)&&c.hasOwnProperty(r)){var g=this.getFirstName(s[r])+"_"+s[r]?.toString().trim()+"_"+(s.hasOwnProperty(w)&&s[w]?s[w]:"")+"_"+(s.hasOwnProperty(m)&&s[m]?s[m]:""),b=this.getFirstName(c[r])+"_"+c[r]?.toString().trim()+"_"+(c.hasOwnProperty(w)&&c[w]?c[w]:"")+"_"+(c.hasOwnProperty(m)&&c[m]?c[m]:"");return g=g.toString().toUpperCase(),b=b.toString().toUpperCase(),this.collator.compare(g,b)}return 0})}return p}sortTimeDESC(k){for(var p=this.commonService.myClone(k),r=[],w=[],s="createdAt",c=0;c<p.length;c++)p[c].hasOwnProperty(s)&&(null!=p[c][s]&&""!=p[c][s]?r.push(p[c]):w.push(p[c]));for(c=0;c<r.length;c++){let M;for(var g=c+1;g<r.length;g++)if(r[c].hasOwnProperty(s)&&r[g].hasOwnProperty(s)){var b;b=Math.floor(new Date(r[c][s]).getTime()/1e3),Math.floor(new Date(r[g][s]).getTime()/1e3)>b&&(M=r[c],r[c]=r[g],r[g]=M)}}return r.concat(w)}sortTimeASC(k){for(var p=this.commonService.myClone(k),r=[],w=[],s="createdAt",c=0;c<p.length;c++)p[c].hasOwnProperty(s)&&(null!=p[c][s]&&""!=p[c][s]?r.push(p[c]):w.push(p[c]));for(c=0;c<r.length;c++){let M;for(var g=c+1;g<r.length;g++)if(r[c].hasOwnProperty(s)&&r[g].hasOwnProperty(s)){var b;b=Math.floor(new Date(r[c][s]).getTime()/1e3),Math.floor(new Date(r[g][s]).getTime()/1e3)<b&&(M=r[c],r[c]=r[g],r[g]=M)}}return r.concat(w)}sortMarkDESC(k,p){for(var r=this.commonService.myClone(k),w="confirmedAt",m="mark",s=0;s<r.length;s++){let j;for(var c=s+1;c<r.length;c++)r[s].hasOwnProperty(w)&&r[c].hasOwnProperty(w)&&r[s].hasOwnProperty(m)&&r[c].hasOwnProperty(m)&&(p?(null!=r[c][w]?r[c][m]:null==r[c][w]&&null!=r[c][m]?-1:-2)>(null!=r[s][w]?r[s][m]:null==r[s][w]&&null!=r[s][m]?-1:-2)&&(j=r[s],r[s]=r[c],r[c]=j):(null!=r[c][m]?r[c][m]:-1)>(null!=r[s][m]?r[s][m]:-1)&&(j=r[s],r[s]=r[c],r[c]=j))}return r}sortMarkASC(k,p){for(var r=this.commonService.myClone(k),w="confirmedAt",m="mark",s=0;s<r.length;s++){let j;for(var c=s+1;c<r.length;c++)r[s].hasOwnProperty(w)&&r[c].hasOwnProperty(w)&&r[s].hasOwnProperty(m)&&r[c].hasOwnProperty(m)&&(p?(null!=r[c][w]?r[c][m]:null==r[c][w]&&null!=r[c][m]?-1:-2)<(null!=r[s][w]?r[s][m]:null==r[s][w]&&null!=r[s][m]?-1:-2)&&(j=r[s],r[s]=r[c],r[c]=j):r[c][m]<r[s][m]&&(j=r[s],r[s]=r[c],r[c]=j))}return r}sortTimeStudentsInClass(k,p){var r=this.commonService.myClone(k),w=[],m="results";return r.forEach(s=>{s.hasOwnProperty(m)&&(s[m]=1==p?this.sortTimeDESC(s[m]):this.sortTimeASC(s[m])),w.push(s)}),w}sortMarkStudentsInClass(k,p,r){var w=this.commonService.myClone(k),m=[],s="results";return w.forEach(c=>{c.hasOwnProperty(s)&&(c[s]=1==p?this.sortMarkDESC(c[s],r):this.sortMarkASC(c[s],r)),m.push(c)}),m}sortGroupName(k){var p=this.commonService.myClone(k);if(p){var r="name";return p.sort((w,m)=>{if(w.hasOwnProperty(r)&&m.hasOwnProperty(r)){var s=this.getGroupName(w[r]?.toString().trim()),c=this.getGroupName(m[r]?.toString().trim());return s=s.toString().toUpperCase(),c=c.toString().toUpperCase(),this.collator.compare(s,c)}return 0})}return p}sortArrayByMultipleObjectKeyAsc(k,p,r){var w=this.commonService.myClone(k);return w&&(w.sort((m,s)=>{if(m.hasOwnProperty(p)&&s.hasOwnProperty(p)&&m.hasOwnProperty(r)&&s.hasOwnProperty(r)){if("pos"==p&&"id"==r){var c=m[p]<s[p]?-1:m[p]==s[p]?0:1;return 0==c?m[r]<s[r]?-1:m[r]==s[r]?0:1:c}var b=this.collator.compare(this.getFirstName(m[p]?.toString().trim()),this.getFirstName(s[p]?.toString().trim()));return 0==b?this.collator.compare(this.getFirstName(m[r]?.toString().trim()),this.getFirstName(s[r]?.toString().trim())):b}return 0}),w)}getFirstName(k){return null!=k?k.toString().trim().split(" ").slice(-1).join(" ").toUpperCase():""}getGroupName(k){return null!=k?k.toString().trim().split(" ").slice(-1).join("").toLowerCase():""}constructor(k){this.commonService=k,this.collator=new Intl.Collator("vi",{sensitivity:"variant",usage:"sort"})}}return x.\u0275fac=function(k){return new(k||x)(A.LFG(l.z))},x.\u0275prov=A.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},89156:(q,N,_)=>{"use strict";_.d(N,{G:()=>A});let A=(()=>{class l{static openLoadingEffect(x){l.getDomElement().style.display="flex",setTimeout(()=>{l.changeMsgLoadingEffect(x)},50)}static closeLoadingEffect(x){return new Promise(T=>{setTimeout(()=>{const k=l.getDomElement();k&&(k.style.display="none"),T(!0)},x)})}static changeMsgLoadingEffect(x){l.getDomContent().innerText=x}static getDomContent(){return document.getElementById(l.idStatusContent)??document.createElement("span")}static getDomElement(){return document.getElementById(l.idComponent)??this.createDomElement()}static createDomElement(){const x=document.createElement("div");return x.id=l.idComponent,x.setAttribute("style","position: fixed;display: flex;width: 100vw;height: 100%;background: #000000c7;color: #ffffff;font-size: 20px;font-weight: lighter;justify-content: center;align-items: center;cursor: progress;z-index: 9999;top: 0;left: 0;"),x.style.display="none",x.innerHTML=`\n        <div class="text-center" style="height: 85%; overflow-x: auto;">\n            <div class="flex justify-center mt-5">\n                <svg width="20" viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                        <g transform="translate(2 1)" stroke="currentColor" stroke-width="1.5">\n                            <circle cx="42.601" cy="11.462" r="5" fill-opacity="1" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="1;0;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="49.063" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;1;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="42.601" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;1;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="49.125" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;1;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;1;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="4.938" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;1;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="11.462" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;1;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="5" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;0;1" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                        </g>\n                    </g>\n                </svg>\n            </div>\n            <div style="margin-top: 10px;position: relative;">\n                <span id="${l.idStatusContent}"></span>\n            </div>\n        </div>`,document.body.appendChild(x),x}}return l.idComponent="azt-status-loading-effect",l.idStatusContent="azt-status-loading-effect-content",l})()},37783:(q,N,_)=>{"use strict";_.d(N,{W:()=>s});var A=_(47496),l=_(65879),H=_(96814),x=_(70342),T=_(77988),k=_(92596),p=_(67742),r=_(36727);function w(c,g){if(1&c){const b=l.EpF();l.O4$(),l.kcU(),l.ynx(0),l.TgZ(1,"div",24)(2,"p",25),l._uU(3),l.ALo(4,"mytranslate"),l.qZA(),l.TgZ(5,"p",25),l._uU(6),l.ALo(7,"mytranslate"),l.qZA(),l.TgZ(8,"div",26),l._UZ(9,"input",27),l.TgZ(10,"button",28),l.NdJ("click",function(){l.CHM(b);const J=l.oxw();return l.KtG(J.showCopySuccess())}),l.O4$(),l.TgZ(11,"svg",29),l._UZ(12,"rect",30)(13,"path",31),l.qZA(),l._uU(14),l.ALo(15,"mytranslate"),l.qZA()()(),l.BQk()}if(2&c){const b=l.oxw();l.xp6(3),l.Oqu(l.lcZ(4,5,"lang_auto_hoac")),l.xp6(3),l.Oqu(l.lcZ(7,7,"lang_classroom_QR_join_link_copy")),l.xp6(3),l.Q6J("value",b.linkUrl),l.xp6(1),l.Q6J("cdkCopyToClipboard",b.copyLinkToClipboard(b.linkUrl)),l.xp6(4),l.hij(" ",l.lcZ(15,9,"lang_auto_sao_chep")," ")}}const m=function(c){return{"w-80":c}};let s=(()=>{class c extends A.Q{constructor(){super(...arguments),this.linkUrl="",this.fileName="",this.showLink=!1,this.qrCodeDownloadLink=""}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}copyLinkToClipboard(b){return b}onChangeURL(b){this.qrCodeDownloadLink=b}downloadQrCode(){try{let b=""!=this.fileName?this.commonService.createFileNameExportFile([this.fileName])+".jpg":this.commonService.createFileNameExportFile(["azota-qr-code-"])+".jpg";this.commonService.downloadFileByUrl(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity,b)}catch{console.log("Download QrCode error")}}}return c.\u0275fac=function(){let g;return function(j){return(g||(g=l.n5z(c)))(j||c)}}(),c.\u0275cmp=l.Xpm({type:c,selectors:[["azt-download-qr-code"]],inputs:{linkUrl:"linkUrl",fileName:"fileName",showLink:"showLink"},features:[l.qOj],decls:28,vars:16,consts:[["azt-track-service","download-qr-code-hiQXy_iTc",1,"btn","btn-outline-primary","btn-transparent","p-1",3,"matMenuTriggerFor","matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],["showQrCode","matMenu"],["azt-track-service","download-qr-code-9t-9Wiu2xv",1,"box","p-3","text-center",3,"ngClass","click"],[2,"background","#fff","padding","5px"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | convertCdnLinkOfGitHub",3,"allowEmptyString","qrdata","elementType","width","errorCorrectionLevel","qrCodeURL"],["azt-track-service","download-qr-code-RqVBz6g1z7",1,"btn","btn-outline-primary","btn-transparent","btn-sm","mx-auto","mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],[4,"ngIf"],[1,"text-center"],[1,"h5","mt-2","font-medium"],[1,"azt-copy","relative","mt-2","intro-x"],["type","text","readonly","",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10",2,"padding-right","120px",3,"value"],["azt-track-service","download-qr-code-yW-aFu0tO",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"cdkCopyToClipboard","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"]],template:function(b,j){if(1&b&&(l.TgZ(0,"button",0),l.ALo(1,"mytranslate"),l.O4$(),l.TgZ(2,"svg",1),l._UZ(3,"rect",2)(4,"rect",3)(5,"rect",4)(6,"path",5)(7,"path",6)(8,"path",7)(9,"path",8)(10,"path",9)(11,"path",10)(12,"path",11)(13,"path",12)(14,"path",13),l.qZA()(),l.kcU(),l.TgZ(15,"mat-menu",null,14)(17,"div",15),l.NdJ("click",function(M){return M.stopPropagation()}),l.TgZ(18,"div",16)(19,"qrcode",17),l.NdJ("qrCodeURL",function(M){return j.onChangeURL(M)}),l.qZA()(),l.TgZ(20,"a",18),l.NdJ("click",function(){return j.downloadQrCode()}),l.O4$(),l.TgZ(21,"svg",19),l._UZ(22,"path",20)(23,"polyline",21)(24,"line",22),l.qZA(),l._uU(25),l.ALo(26,"mytranslate"),l.qZA(),l.YNc(27,w,16,11,"ng-container",23),l.qZA()()),2&b){const J=l.MAs(16);l.s9C("matTooltip",l.lcZ(1,10,"lang_auto_quet_hoac_tai_ma_qr_code")),l.Q6J("matMenuTriggerFor",J),l.xp6(17),l.Q6J("ngClass",l.VKq(14,m,j.showLink)),l.xp6(2),l.Q6J("allowEmptyString",!0)("qrdata",j.linkUrl)("elementType","url")("width",128)("errorCorrectionLevel","M"),l.xp6(6),l.hij(" ",l.lcZ(26,12,"lang_auto_tai_ve_may")," "),l.xp6(2),l.Q6J("ngIf",j.showLink)}},dependencies:[H.mk,H.O5,x.i3,T.VK,T.p6,k.gM,p.V,r.JV],encapsulation:2}),c})()},10217:function(q,N){var _,l;void 0!==(l="function"==typeof(_=function(){"use strict";function x(m,s,c){var g=new XMLHttpRequest;g.open("GET",m),g.responseType="blob",g.onload=function(){w(g.response,s,c)},g.onerror=function(){console.error("could not download file")},g.send()}function T(m){var s=new XMLHttpRequest;s.open("HEAD",m,!1);try{s.send()}catch{}return 200<=s.status&&299>=s.status}function k(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(s)}}var p="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=p.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),w=p.saveAs||("object"!=typeof window||window!==p?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(m,s,c){var g=p.URL||p.webkitURL,b=document.createElement("a");b.download=s=s||m.name||"download",b.rel="noopener","string"==typeof m?(b.href=m,b.origin===location.origin?k(b):T(b.href)?x(m,s,c):k(b,b.target="_blank")):(b.href=g.createObjectURL(m),setTimeout(function(){g.revokeObjectURL(b.href)},4e4),setTimeout(function(){k(b)},0))}:"msSaveOrOpenBlob"in navigator?function(m,s,c){if(s=s||m.name||"download","string"!=typeof m)navigator.msSaveOrOpenBlob(function H(m,s){return typeof s>"u"?s={autoBom:!1}:"object"!=typeof s&&(console.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\ufeff",m],{type:m.type}):m}(m,c),s);else if(T(m))x(m,s,c);else{var g=document.createElement("a");g.href=m,g.target="_blank",setTimeout(function(){k(g)})}}:function(m,s,c,g){if((g=g||open("","_blank"))&&(g.document.title=g.document.body.innerText="downloading..."),"string"==typeof m)return x(m,s,c);var b="application/octet-stream"===m.type,j=/constructor/i.test(p.HTMLElement)||p.safari,J=/CriOS\/[\d]+/.test(navigator.userAgent);if((J||b&&j||r)&&typeof FileReader<"u"){var M=new FileReader;M.onloadend=function(){var E=M.result;E=J?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=E:location=E,g=null},M.readAsDataURL(m)}else{var t=p.URL||p.webkitURL,R=t.createObjectURL(m);g?g.location=R:location.href=R,g=null,setTimeout(function(){t.revokeObjectURL(R)},4e4)}});p.saveAs=w.saveAs=w,q.exports=w})?_.apply(N,[]):_)&&(q.exports=l)}}]);