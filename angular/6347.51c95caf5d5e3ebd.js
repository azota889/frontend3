"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[6347],{88760:(An,Rt,v)=>{v.d(Rt,{y:()=>$o});var at=v(52572),c=v(47496),e=v(65879),l=v(21266),x=v(78226),t=v(87789),ut=v(84003),H=v(96814),St=v(43389),ht=v(93283),wt=v(6585),ct=v(15828),i=v(86),yt=v(2783),st=v(82228),mt=v(95273),_t=v(77988),gt=v(92596),R=v(93523),j=v(71646),J=v(8524),tt=v(37722),nt=v(98140),ot=v(29023),ft=v(56223),Mt=v(73445),oe=v(23680),Ee=v(44683),ie=v(13217);class _e{static addNewEducationalProgramFormValidator(D){let p=D,w=p.controls.weekdayConfig;if(w&&w.length){let N=0,I=0;return w.controls.forEach(F=>{let W=!1,lt={invalidTime:!1,requireTime:!1,invalidInfrastructure:!1,identityRevealed:!0};F.controls.selected.value?(F.controls.infrastructureId.value||(W=!0,lt.invalidInfrastructure=!0),F.controls.startTime.value&&F.controls.endTime.value?new Date("1970-01-01T"+F.controls.startTime.value).getTime()>=new Date("1970-01-01T"+F.controls.endTime.value).getTime()?(W=!0,lt.invalidTime=!0):lt.invalidTime=!1:(W=!0,lt.requireTime=!0),F.setErrors(W?lt:null),I++):F.setErrors(null),F.invalid&&N++},w),N||!I?(p.setErrors({invalidData:!0}),{identityRevealed:!0,invalidData:!0}):(p.setErrors(null),null)}return p.setErrors(null),null}}var Se=v(20553),ln=v(98603),cn=v(87325),Ne=v(32296),be=v(2032),ue=v(64170),ve=v(98525),Ge=v(30292),Pe=v(67679),mn=v(95545),je=v(36727),Ve=v(82481);const $e=["startTime"];function pe(b,D){1&b&&e._UZ(0,"azt-loading-effect",4)}function dn(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(p);const N=e.oxw(2);return e.KtG(N.saveEducationalProgramEmit.emit(!1))}),e.O4$(),e.TgZ(1,"svg",43),e._UZ(2,"polyline",44),e.qZA(),e.kcU(),e.TgZ(3,"span",45),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}if(2&b){const p=e.oxw(2);e.Q6J("disabled",p.isSavingProgram),e.xp6(4),e.Oqu(e.lcZ(5,2,"lang_auto_huy"))}}function Re(b,D){1&b&&e._UZ(0,"lucide-icon",50)}function Sn(b,D){1&b&&e._UZ(0,"lucide-icon",51)}function _n(b,D){1&b&&e._UZ(0,"lucide-icon",59)}const Ke=function(b){return{"border border-primary":b}};function un(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"div",55)(1,"div",56),e.NdJ("click",function(){const I=e.CHM(p).$implicit,F=e.oxw().$implicit,W=e.oxw(2).$implicit,lt=e.oxw(2);let pt;return e.KtG(lt.selectSubject(null!==(pt=W.id)&&void 0!==pt?pt:0,null!==(pt=F.id)&&void 0!==pt?pt:0,I))}),e.TgZ(2,"span",57),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.YNc(5,_n,1,0,"lucide-icon",58),e.qZA()()}if(2&b){const p=D.$implicit;e.Q6J("ngClass",e.VKq(5,Ke,p.selected)),e.xp6(3),e.Oqu(e.lcZ(4,3,p.name)),e.xp6(2),e.Q6J("ngIf",p.selected)}}function Nn(b,D){if(1&b&&(e.ynx(0),e.TgZ(1,"h3",52)(2,"span",53),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.YNc(5,un,6,7,"div",54),e.BQk()),2&b){const p=D.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,2,p.name)," "),e.xp6(2),e.Q6J("ngForOf",p.childs)}}function pn(b,D){if(1&b&&(e.ynx(0),e.YNc(1,Nn,6,4,"ng-container",18),e.BQk()),2&b){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",p.subjects)}}function gn(b,D){if(1&b){const p=e.EpF();e.ynx(0),e.TgZ(1,"h3",46)(2,"span",47),e.NdJ("click",function(){const I=e.CHM(p).$implicit,F=e.oxw(2);let W;return e.KtG(F.showEducationalProgramSubject(null!==(W=I.id)&&void 0!==W?W:0))}),e._uU(3),e.ALo(4,"mytranslate"),e.YNc(5,Re,1,0,"lucide-icon",48),e.YNc(6,Sn,1,0,"lucide-icon",49),e.qZA()(),e.YNc(7,pn,2,1,"ng-container",19),e.BQk()}if(2&b){const p=D.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,4,p.name)," "),e.xp6(2),e.Q6J("ngIf",p.showChild),e.xp6(1),e.Q6J("ngIf",!p.showChild),e.xp6(1),e.Q6J("ngIf",p.showChild)}}function jn(b,D){1&b&&(e.ynx(0),e.TgZ(1,"small",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&b&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_validate"),""))}function Mn(b,D){1&b&&(e.ynx(0),e.TgZ(1,"small",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&b&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_no_program_yet"),""))}function ge(b,D){if(1&b){const p=e.EpF();e.ynx(0),e.TgZ(1,"div",62),e.NdJ("click",function(){e.CHM(p);const N=e.oxw().$implicit,I=e.oxw(2);return e.KtG(I.openWeekdayConfig(N.controls.id.value))}),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.BQk()}if(2&b){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("formGroup",p),e.xp6(2),e.Oqu(e.lcZ(4,2,p.controls.name.value))}}function X(b,D){1&b&&(e.TgZ(0,"button",83),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&b&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_huy")))}function Te(b,D){1&b&&(e.TgZ(0,"button",84),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&b&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_xac_nhan")))}function ae(b,D){1&b&&e._UZ(0,"p",85)}function Ue(b,D){1&b&&(e.TgZ(0,"mat-label"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&b&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_business_config_educational_program_select_infrastructure")))}function Ce(b,D){if(1&b&&(e.TgZ(0,"mat-option",86),e._uU(1),e.qZA()),2&b){const p=D.$implicit;e.s9C("value",p.id),e.xp6(1),e.Oqu(p.name)}}function ke(b,D){1&b&&(e.ynx(0),e.TgZ(1,"small",87),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&b&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_time_validate"),""))}function Nt(b,D){1&b&&(e.ynx(0),e.TgZ(1,"small",87),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&b&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_testbank_test_config_end_time_bigger_time_star"),""))}function we(b,D){1&b&&(e.ynx(0),e._UZ(1,"br"),e.TgZ(2,"small",88),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.BQk()),2&b&&(e.xp6(3),e.hij("* ",e.lcZ(4,1,"lang_business_config_educational_program_infrastructure_validate"),""))}function ze(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"div",63)(1,"div",64)(2,"span",65),e.NdJ("click",function(){e.CHM(p);const N=e.oxw().$implicit,I=e.oxw(2);return e.KtG(I.openWeekdayConfig(N.controls.id.value))}),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"lucide-icon",66),e.NdJ("click",function(){e.CHM(p);const N=e.oxw().$implicit,I=e.oxw(2);return e.KtG(I.openWeekdayConfig(N.controls.id.value))}),e.qZA(),e.TgZ(6,"div",67)(7,"div",68)(8,"div",69),e._UZ(9,"input",70),e.ALo(10,"mytranslate"),e._UZ(11,"ngx-mat-timepicker",71,72),e.qZA(),e.TgZ(13,"span",73),e._uU(14,"\xa0-\xa0"),e.qZA(),e.TgZ(15,"div",69),e._UZ(16,"input",74),e.ALo(17,"mytranslate"),e._UZ(18,"ngx-mat-timepicker",71,75),e.qZA(),e.YNc(20,X,3,3,"ng-template",null,76,e.W1O),e.YNc(22,Te,3,3,"ng-template",null,77,e.W1O),e.YNc(24,ae,1,0,"ng-template",null,78,e.W1O),e.TgZ(26,"lucide-icon",79),e.NdJ("click",function(){e.CHM(p);const N=e.oxw().$implicit,I=e.oxw(2);return e.KtG(I.openWeekdayConfig(N.controls.id.value))}),e.qZA()(),e.TgZ(27,"mat-form-field",80),e.YNc(28,Ue,3,3,"mat-label",19),e.TgZ(29,"mat-select",81),e.NdJ("openedChange",function(N){e.CHM(p);const I=e.oxw().$implicit,F=e.oxw(2);return e.KtG(F.touchedMatSelect(N,I))}),e.YNc(30,Ce,2,2,"mat-option",82),e.qZA()(),e.YNc(31,ke,4,3,"ng-container",19),e.YNc(32,Nt,4,3,"ng-container",19),e.YNc(33,we,5,3,"ng-container",19),e.qZA()()()}if(2&b){const p=e.MAs(12),w=e.MAs(19),N=e.MAs(21),I=e.MAs(23),F=e.MAs(25),W=e.oxw().$implicit,lt=e.oxw(2);e.Q6J("formGroup",W)("ngClass",e.VKq(29,Ke,W.controls.selected.value)),e.xp6(3),e.Oqu(e.lcZ(4,23,W.controls.name.value)),e.xp6(6),e.s9C("placeholder",e.lcZ(10,25,"lang_auto_tu")),e.Q6J("ngxMatTimepicker",p)("format",24),e.xp6(2),e.Q6J("editableHintTmpl",F)("enableKeyboardInput",!0)("cancelBtnTmpl",N)("confirmBtnTmpl",I),e.xp6(5),e.s9C("placeholder",e.lcZ(17,27,"lang_auto_den")),e.Q6J("ngxMatTimepicker",w)("format",24),e.xp6(2),e.Q6J("editableHintTmpl",F)("enableKeyboardInput",!0)("cancelBtnTmpl",N)("confirmBtnTmpl",I),e.xp6(10),e.Q6J("ngIf",W.errors&&W.errors.invalidInfrastructure&&!W.controls.infrastructureId.touched),e.xp6(1),e.Q6J("value",W.controls.infrastructureId.value),e.xp6(1),e.Q6J("ngForOf",lt.listInfrastructureObjs),e.xp6(1),e.Q6J("ngIf",W.errors&&W.errors.requireTime),e.xp6(1),e.Q6J("ngIf",W.errors&&W.errors.invalidTime),e.xp6(1),e.Q6J("ngIf",W.errors&&W.errors.invalidInfrastructure)}}function hn(b,D){if(1&b&&(e.ynx(0),e.YNc(1,ge,5,4,"ng-container",19),e.YNc(2,ze,34,31,"div",61),e.BQk()),2&b){const p=D.$implicit;e.xp6(1),e.Q6J("ngIf",!p.controls.selected.value),e.xp6(1),e.Q6J("ngIf",p.controls.selected.value)}}function ne(b,D){1&b&&(e.ynx(0),e.TgZ(1,"small",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&b&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_start_time_validate"),""))}function kt(b,D){1&b&&(e.TgZ(0,"span",35),e._UZ(1,"azt-loading-ui"),e.qZA())}function Fe(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"div",89)(1,"button",90),e.NdJ("click",function(){e.CHM(p);const N=e.oxw(2);return e.KtG(N.saveEducationalProgram())}),e.YNc(2,kt,2,0,"span",91),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()}if(2&b){const p=e.oxw(2);e.xp6(1),e.Q6J("disabled",p.form.invalid||p.isSavingProgram),e.xp6(1),e.Q6J("ngIf",p.isSavingProgram),e.xp6(1),e.hij(" ",e.lcZ(4,3,"lang_auto_luu")," ")}}const zt=function(b){return{"mt-2":b}},ye=function(){return{"width.px":"auto","height.%":100}},Yt=function(b){return[b]},he=function(b){return{backTo:b}},se=function(b,D){return{hiddenVisible:b,visibleIpt:D}};function me(b,D){if(1&b){const p=e.EpF();e.YNc(0,dn,6,4,"button",5),e.TgZ(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"h3",11),e._uU(7,"1"),e.qZA()(),e.TgZ(8,"span",12),e._uU(9),e.ALo(10,"mytranslate"),e.qZA(),e.TgZ(11,"lucide-icon",13),e.NdJ("click",function(){e.CHM(p);const N=e.oxw();return e.KtG(N.reloadAllEducationalProgram())}),e.qZA()(),e.TgZ(12,"div",14)(13,"div",15)(14,"ng-scrollbar",16)(15,"div",17),e.YNc(16,gn,8,6,"ng-container",18),e.YNc(17,jn,4,3,"ng-container",19),e.YNc(18,Mn,4,3,"ng-container",19),e.qZA()()(),e.TgZ(19,"div",17)(20,"a",20),e.ALo(21,"localize"),e.O4$(),e.TgZ(22,"svg",21),e._UZ(23,"line",22)(24,"line",23),e.qZA(),e.kcU(),e.TgZ(25,"span",24),e._uU(26),e.ALo(27,"mytranslate"),e.qZA()()()()(),e.TgZ(28,"div",8)(29,"div",9)(30,"div",10)(31,"h3",11),e._uU(32,"2"),e.qZA()(),e.TgZ(33,"span",25),e._uU(34),e.ALo(35,"mytranslate"),e.qZA()(),e.TgZ(36,"div",26)(37,"div",27)(38,"ng-scrollbar",16)(39,"div",28),e.YNc(40,hn,3,2,"ng-container",18),e.qZA()()()()(),e.TgZ(41,"div",8)(42,"div",9)(43,"div",10)(44,"h3",11),e._uU(45,"3"),e.qZA()(),e.TgZ(46,"span",25),e._uU(47),e.ALo(48,"mytranslate"),e.qZA()(),e.TgZ(49,"div",29)(50,"div",30)(51,"ng-scrollbar",16)(52,"div",31)(53,"mat-form-field",32)(54,"input",33),e.NdJ("click",function(){e.CHM(p);const N=e.oxw();return e.KtG(N.openDateTimePicker(1))}),e.qZA(),e.TgZ(55,"button",34),e.NdJ("click",function(N){return e.CHM(p),e.oxw().openDateTimePicker(1),e.KtG(N.stopPropagation())}),e.TgZ(56,"span",35),e._UZ(57,"lucide-icon",36),e.qZA()(),e.TgZ(58,"ngx-mat-datetime-picker",37,38)(60,"ngx-mat-datepicker-actions")(61,"button",39),e._uU(62),e.ALo(63,"mytranslate"),e.qZA(),e.TgZ(64,"button",40),e._uU(65,"OK"),e.qZA()()()(),e.YNc(66,ne,4,3,"ng-container",19),e.qZA()()(),e.YNc(67,Fe,5,5,"div",41),e.qZA()()()()}if(2&b){const p=e.MAs(59),w=e.oxw();e.Q6J("ngIf",w.programObj),e.xp6(2),e.Q6J("ngClass",e.VKq(39,zt,w.programObj)),e.xp6(7),e.Oqu(e.lcZ(10,27,"lang_config_educational_program_select_new")),e.xp6(5),e.Q6J("visibility","hover")("ngStyle",e.DdM(41,ye)),e.xp6(2),e.Q6J("ngForOf",w.listEducationalProgramObjs),e.xp6(1),e.Q6J("ngIf",!w.form.controls.chooseProgramId.value&&w.listEducationalProgramObjs.length>0),e.xp6(1),e.Q6J("ngIf",!w.listEducationalProgramObjs.length),e.xp6(2),e.Q6J("routerLink",e.VKq(42,Yt,e.lcZ(21,29,"/business/create-general-educational-program")))("queryParams",e.VKq(44,he,w.currentURL)),e.xp6(6),e.Oqu(e.lcZ(27,31,"lang_config_educational_program_add_new")),e.xp6(8),e.Oqu(e.lcZ(35,33,"lang_config_educational_program_add_time")),e.xp6(3),e.Q6J("ngClass",e.WLB(46,se,w.form.controls.stepChoose.value<2,w.form.controls.stepChoose.value>=2)),e.xp6(1),e.Q6J("visibility","hover")("ngStyle",e.DdM(49,ye)),e.xp6(2),e.Q6J("ngForOf",w.form.controls.weekdayConfig.controls),e.xp6(7),e.Oqu(e.lcZ(48,35,"lang_config_educational_program_add_start_time")),e.xp6(3),e.Q6J("ngClass",e.WLB(50,se,w.form.controls.stepChoose.value<3,w.form.controls.stepChoose.value>=3)),e.xp6(1),e.Q6J("visibility","hover")("ngStyle",e.DdM(53,ye)),e.xp6(3),e.Q6J("max",w.maxDate)("ngxMatDatetimePicker",p),e.xp6(4),e.Q6J("touchUi",!0)("hideTime",!0),e.xp6(4),e.Oqu(e.lcZ(63,37,"lang_auto_dong")),e.xp6(4),e.Q6J("ngIf",w.form.controls.startTimeEducationalProgram.invalid),e.xp6(1),e.Q6J("ngIf",!w.statusObj.loading)}}let We=(()=>{class b extends c.Q{openDateTimePicker(p){1==p&&this.startTime&&this.startTime.open()}showEducationalProgramSubject(p){this.listEducationalProgramObjs.forEach(w=>{w.id==p&&(w.showChild=!w.showChild,w.showChild||w.subjects.forEach(N=>{N.childs?.find(I=>I.id==this.form.controls.chooseProgramId.value)&&(this.form.controls.stepChoose.setValue(1),this.form.controls.chooseProgramId.setValue(0))}))}),this.initForm()}selectSubject(p,w,N){this.listEducationalProgramObjs.forEach(I=>{I.id==p?I.subjects.forEach(F=>{F.id==w?F.childs?.forEach(W=>{W.id==N.id?(W.selected=!W.selected,this.form.controls.chooseProgramId.setValue(W.selected?N.id:0),this.form.controls.stepChoose.setValue(W.selected?2:1)):W.selected=!1}):F.childs?.map(W=>W.selected=!1)}):I.subjects.map(F=>F.childs?.map(W=>W.selected=!1))})}reloadAllEducationalProgram(){this.initForm(),this.initData()}openWeekdayConfig(p){this.form.controls.weekdayConfig.controls.forEach(w=>{w.controls.id.value==p&&w.controls.selected.setValue(!w.controls.selected.value)})}touchedMatSelect(p,w){p?w.controls.infrastructureId.markAsTouched():w.controls.infrastructureId.markAsUntouched()}saveEducationalProgram(){this.isSavingProgram=!0;let p={programId:this.form.controls.chooseProgramId.value,studyingTimes:this.convertStudyTimes(),startTime:this.timeService.formatDateTimeToPostToServer(this.form.controls.startTimeEducationalProgram.value)};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdProgramsPost(this.classroomId,p).subscribe({next:w=>{this.showSuccessSnack("lang_educational_program_save_success_educational_program"),this.isSavingProgram=!1,this.saveEducationalProgramEmit.emit(!0)},error:w=>{this.isSavingProgram=!1,this.errorStatusObj(w.error.message,!0)}}))}convertStudyTimes(){let p=[];return this.form.controls.weekdayConfig.controls.forEach(w=>{if(w.controls.selected.value){let N={days:w.controls.id.value,fromHour:new Date("1970-01-01T"+w.controls.startTime.value).getHours(),fromMinute:new Date("1970-01-01T"+w.controls.startTime.value).getMinutes(),toHour:new Date("1970-01-01T"+w.controls.endTime.value).getHours(),toMinute:new Date("1970-01-01T"+w.controls.endTime.value).getMinutes(),roomId:w.controls.infrastructureId.value};p.push(N)}}),p}convertSubjectList(p,w){let N=[];return p.forEach(I=>{if(I.schoolLevelId==w)if(N.filter(W=>W.id==I.schoolSubjectId&&W.levelId==I.schoolLevelId).length)N.forEach(W=>{W.id==I.schoolSubjectId&&W.levelId==I.schoolLevelId&&(W.childs?.find(lt=>lt==I)||W.childs?.push(I))});else{let W={id:I.schoolSubjectId,levelId:I.schoolLevelId,name:this.schoolSubjectObjs.find(lt=>lt.id==I.schoolSubjectId)?.name,childs:[I]};N.push(W)}}),N}convertProgramInfo(p){let w=[],N=this.sAZTranslateService.myTranslateInstant("lang_auto_lop")??"L\u1edbp",I=this.sAZTranslateService.myTranslateInstant("lang_core_buoi")??"Bu\u1ed5i";return p.forEach(F=>{if(F.name=`${F.name} (${F.totalSession} ${I})`,!w.filter(lt=>lt.id==F.schoolLevelId).length){let lt={id:F.schoolLevelId,name:N+" "+F.schoolLevelId,subjects:this.convertSubjectList(p,F.schoolLevelId),showChild:!1};w.push(lt)}}),w.sort((F,W)=>(W.id??0)-(F.id??0))}convertListInfrastructure(p){let w=[],N=this.commonService.myTranslateInstant("lang_infrastructure_seat")??"";return p.forEach(I=>{I.name=`${I.infrastructure?.name??""} - ${I.name} (${I.numberSeat} ${N})`,w.push(I)}),w}getAllInfrastructure(){this.waitDestroy(this.infrastructureService.apiInfrastructuresRoomsGet().subscribe({next:p=>{this.listInfrastructureObjs=this.convertListInfrastructure(p.list),this.stopStatusObj()},error:p=>{this.errorStatusObj(p.error.message,!0)}}))}initForm(){this.form.controls.chooseProgramId.setValue(0),this.form.controls.startTimeEducationalProgram.setValue(""),this.form.controls.weekdayConfig.clear();for(let p=0;p<7;p++){let w=new ft.cw({id:new ft.NI(p,{nonNullable:!0}),name:new ft.NI("lang_config_educational_program_day_"+p,{nonNullable:!0}),startTime:new ft.NI("",{nonNullable:!0}),endTime:new ft.NI("",{nonNullable:!0}),infrastructureId:new ft.NI(0,{nonNullable:!0}),selected:new ft.NI(!1,{nonNullable:!0}),invalidTime:new ft.NI(!1,{nonNullable:!0})});this.form.controls.weekdayConfig.push(w)}}initData(){this.initStatusObj(),this.waitDestroy(this.programService.apiProgramsListPost({page:0,size:-1}).subscribe({next:p=>{this.listEducationalProgramObjs=this.convertProgramInfo(p.list),this.getAllInfrastructure()},error:p=>{this.errorStatusObj(p.error.message,!0)}}))}getSubjectObjs(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(p=>{1==p.success?(this.schoolSubjectObjs=p.data?.schoolSubjectObjs??[],this.initData()):(this.errorStatusObj(p.message??""),this.initData())}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard",this.getSubjectObjs()}ngAfterViewChecked(){this.form.controls.weekdayConfig.controls.filter(w=>w.controls.selected).length?2==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(3):3==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(2),this.cd.detectChanges()}ngDoCheck(){this.cd.detectChanges()}constructor(p,w,N,I,F,W,lt){super(),this.cd=p,this.timeService=w,this.classroomService=N,this.programService=I,this.infrastructureService=F,this.sAZTranslateService=W,this.commonListService=lt,this.saveEducationalProgramEmit=new e.vpe,this.backLink="",this.currentURL=this.commonService.getCurrentUrlWithoutLocale(),this.listEducationalProgramObjs=[],this.listInfrastructureObjs=[],this.maxDate=Se.N.maxDateTimePicker,this.curStep=1,this.isSavingProgram=!1,this.schoolSubjectObjs=[],this.form=new ft.cw({chooseProgramId:new ft.NI(0,{nonNullable:!0,validators:[ft.kI.required,ft.kI.min(1)]}),startTimeEducationalProgram:new ft.NI("",{nonNullable:!0,validators:[ft.kI.required]}),weekdayConfig:new ft.Oe([]),stepChoose:new ft.NI(1,{nonNullable:!0})},{validators:[_e.addNewEducationalProgramFormValidator]}),this.initForm()}}return b.\u0275fac=function(p){return new(p||b)(e.Y36(e.sBO),e.Y36(ut.D),e.Y36(t.um),e.Y36(t.Zm),e.Y36(t.wp),e.Y36(ln.W),e.Y36(cn.o7))},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-add-new-educational-program"]],viewQuery:function(p,w){if(1&p&&e.Gf($e,5),2&p){let N;e.iGM(N=e.CRH())&&(w.startTime=N.first)}},inputs:{classroomId:"classroomId",programObj:"programObj"},outputs:{saveEducationalProgramEmit:"saveEducationalProgramEmit"},features:[e._Bn([{provide:ot.fM,useClass:Ee.WG,deps:[oe.Ad,Mt.o8]},{provide:ot.ab,useFactory:ie.tF,deps:[ut.D]}]),e.qOj],decls:5,vars:3,consts:[[1,"mx-auto","mt-3","pb-2"],[3,"formGroup"],["class","block pb-5",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"block","pb-5"],["class","btn btn-transparent",3,"disabled","click",4,"ngIf"],[1,"box","px-4","pt-5"],[1,"grid","grid-cols-12",3,"ngClass"],[1,"col-span-12","md:col-span-4"],[1,"flex","px-2","pb-3","items-center"],[1,"bg-info","text-white","h-8","w-8","text-center",2,"border-radius","50%"],[1,"font-bold","text-xl"],[1,"ml-2",2,"vertical-align","middle","font-weight","420","word-break","break-all"],["name","refresh-ccw",1,"ml-2","clickable",2,"vertical-align","baseline!important","width","18px!important","height","18px!important",3,"click"],[1,"border","border-slate-300",2,"border-bottom","0","border-left","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto"],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"],[2,"padding-right","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],["azt-track-service","add-new-educational-programs-eY0H_Hziew",1,"btn","btn-sm","btn-primary","shadow-md","w-full","block","mx-auto","mt-3","mb-3",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-6","mr-2"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[2,"vertical-align","middle","font-size","14px!important"],[1,"ml-2",2,"vertical-align","middle","font-weight","420"],[1,"border","border-slate-300",2,"height","100%","border-bottom","0","border-left","0","border-right","0"],["formArrayName","weekdayConfig",1,"mt-2","pb-2",2,"height","calc(100vh - 205px)","overflow-y","auto",3,"ngClass"],[2,"padding-right","1rem","padding-left","1rem"],[1,"border","border-slate-300",2,"border-bottom","0","border-right","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],[1,"mt-2",2,"padding-left","1rem","padding-right","1rem"],["appearance","outline"],["matInput","","formControlName","startTimeEducationalProgram","readonly","",3,"max","ngxMatDatetimePicker","click"],["matSuffix","",2,"font-size","18px",3,"click"],[1,"w-4","h-4","inline-block"],["name","calendar-clock"],[3,"touchUi","hideTime"],["startTime",""],["mat-raised-button","","color","secondary","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["class","text-right mt-3 mb-3",4,"ngIf"],[1,"btn","btn-transparent",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[1,"azt-hidden","sm:block"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px!important; height: 18px!important; vertical-align: top;",4,"ngIf"],["name","chevron-right","style","width: 18px!important; height: 18px!important; vertical-align: top;",4,"ngIf"],["name","chevron-down",2,"width","18px!important","height","18px!important","vertical-align","top"],["name","chevron-right",2,"width","18px!important","height","18px!important","vertical-align","top"],[1,"flex","mt-1","ml-2",2,"font-weight","420","font-size","15px"],[1,"clickable",2,"align-items","center"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 clickable",3,"ngClass",4,"ngFor","ngForOf"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable",3,"ngClass"],["azt-track-service","add-new-educational-programs-bahN75vF_Q",1,"flex","w-full","justify-between",3,"click"],[2,"vertical-align","middle","text-align","left"],["name","check-square","class","text-primary","style","width: 18px!important; height: 18px!important; vertical-align: top;",4,"ngIf"],["name","check-square",1,"text-primary",2,"width","18px!important","height","18px!important","vertical-align","top"],[1,"text-danger","mt-3","float-left","text-left"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3  text-left relative",3,"formGroup","ngClass",4,"ngIf"],["azt-track-service","add-new-educational-programs-FanOWsky0S",1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable","text-left",3,"formGroup","click"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","text-left","relative",3,"formGroup","ngClass"],[1,"flex","justify-between","flex-wrap"],["azt-track-service","add-new-educational-programs-UqgywYmnzK",1,"clickable",3,"click"],["name","check-square",1,"text-primary","ml-2","clickable","change-block-hidden",2,"width","18px!important","height","18px!important","vertical-align","top",3,"click"],[1,"block","md:ml-2","w-full"],[1,"flex","justify-between",2,"align-items","center"],[2,"width","100%","height","38px","align-items","center"],["type","text","formControlName","startTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],[3,"editableHintTmpl","enableKeyboardInput","cancelBtnTmpl","confirmBtnTmpl"],["timeStartPicker",""],[1,"text-center",2,"vertical-align","middle","align-self","center"],["type","text","formControlName","endTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],["timeEndPicker",""],["cancelBtn",""],["confirmBtn",""],["dialHint",""],["name","check-square",1,"text-primary","ml-2","clickable","hiddenIpt","md:inlineBlockIpt",2,"width","18px!important","height","18px!important","vertical-align","top",3,"click"],["appearance","outline",1,"mt-2","bg-white","rounded"],["formControlName","infrastructureId",3,"value","openedChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","secondary",2,"margin-right","10px"],["mat-raised-button","","color","primary"],[1,"small"],[3,"value"],[1,"text-danger","mt-2"],[1,"text-danger","mt-1"],[1,"text-right","mt-3","mb-3"],["azt-track-service","add-new-educational-programs-R3hLoR84Ua",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block",4,"ngIf"]],template:function(p,w){if(1&p&&(e.TgZ(0,"div",0)(1,"form",1),e.YNc(2,pe,1,0,"azt-loading-effect",2),e.YNc(3,me,68,54,"ng-template",null,3,e.W1O),e.qZA()()),2&p){const N=e.MAs(4);e.xp6(1),e.Q6J("formGroup",w.form),e.xp6(1),e.Q6J("ngIf",w.statusObj.loading)("ngIfElse",N)}},dependencies:[l.rH,H.mk,H.sg,H.O5,H.PC,oe.ey,Ne.lW,be.Nt,ue.KE,ue.hX,ue.R9,ve.gD,ot.rZ,ot.T$,ot.c_,ot.dW,ot.cL,Ge.ft,Ge.Bi,ft._Y,ft.Fj,ft.JJ,ft.JL,ft.sg,ft.u,ft.CE,St.l,Pe.M,j.n,tt.Nh5,mn.KC,je.JV,Ve.lO],encapsulation:2}),b})();function Xe(b,D){if(1&b&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&b){const p=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,p.errorApiMessage)," ")}}function fn(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"app-add-new-educational-program",6),e.NdJ("saveEducationalProgramEmit",function(N){e.CHM(p);const I=e.oxw(2);return e.KtG(I.emitDataReloadSession(N))}),e.qZA()}if(2&b){const p=e.oxw(2);e.Q6J("classroomId",p.classroomId)("programObj",p.programObj)}}function xn(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(p);const N=e.oxw(3);return e.KtG(N.addNewEducationalProgram())}),e._UZ(1,"lucide-icon",13),e.TgZ(2,"span",14),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()}2&b&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"lang_educational_program_select_another")))}function tn(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"div",17)(1,"a",18),e.NdJ("click",function(){const I=e.CHM(p).$implicit,F=e.oxw(4);return e.KtG(F.previewFile(I))}),e._UZ(2,"azt-document-type-file",19),e.qZA()()}if(2&b){const p=D.$implicit;let w;e.xp6(2),e.Q6J("type",p.documentType)("name",null!==(w=p.name)&&void 0!==w?w:"")("url",p.link)("iconVerticalStyle","baseline")("customClass","w-6 h-6")}}function bn(b,D){if(1&b&&(e.ynx(0),e.TgZ(1,"div",15),e.YNc(2,tn,3,5,"div",16),e.qZA(),e.BQk()),2&b){const p=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",p.generalDocumentObjs)}}function vn(b,D){1&b&&e._UZ(0,"lucide-icon",24)}function It(b,D){1&b&&e._UZ(0,"lucide-icon",25)}function Kt(b,D){1&b&&(e.TgZ(0,"button",34),e._UZ(1,"lucide-icon",35),e.TgZ(2,"span",14),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()),2&b&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"lang_student_absence")))}function Tn(b,D){1&b&&(e.TgZ(0,"button",36),e._UZ(1,"lucide-icon",35),e.qZA())}function Cn(b,D){if(1&b&&(e.TgZ(0,"div",31),e.YNc(1,Kt,5,3,"button",32),e.ALo(2,"async"),e.ALo(3,"allowFeatureBusinessForUser"),e.YNc(4,Tn,2,0,"button",33),e.ALo(5,"async"),e.ALo(6,"allowFeatureBusinessForUser"),e.qZA()),2&b){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.lcZ(2,2,e.Dn7(3,4,"","training_center_student_attendance",!0))),e.xp6(3),e.Q6J("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.lcZ(5,8,e.Dn7(6,10,"","training_center_student_attendance",!0)))}}function y(b,D){if(1&b&&(e.ynx(0),e.TgZ(1,"span",42),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&b){const p=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_test_market_address")+": "+(null==p.room.infrastructure?null:p.room.infrastructure.name)+" - "+p.room.name)}}const q=function(b){return{"text-slate-700":b}};function T(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"div",37),e.NdJ("click",function(){e.CHM(p);const N=e.oxw().$implicit,I=e.oxw(5);return e.KtG(I.expandSessionObj(N))}),e.TgZ(1,"div",38)(2,"h3",39)(3,"span",40),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"span",41),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,y,4,3,"ng-container",5),e.qZA()()}if(2&b){const p=e.oxw().$implicit;e.xp6(3),e.Q6J("ngClass",e.VKq(8,q,p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(5,4,"lang_core_buoi")+" "+p.sort),e.xp6(3),e.Oqu(e.lcZ(8,6,"lang_config_educational_program_day_"+p.day)+", "+p.dateSession+" "+p.timeSession),e.xp6(2),e.Q6J("ngIf",p.room)}}function O(b,D){if(1&b&&(e.ynx(0),e.TgZ(1,"span",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&b){const p=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_test_market_address")+": "+(null==p.room.infrastructure?null:p.room.infrastructure.name)+" - "+p.room.name)}}function P(b,D){if(1&b&&(e.ynx(0),e.TgZ(1,"p",61),e._uU(2),e.qZA(),e.BQk()),2&b){const p=D.$implicit;e.xp6(2),e.hij("",p.content," ")}}const it=function(b,D){return{"text-slate-600":b,"text-warning":D}};function xt(b,D){if(1&b&&(e.TgZ(0,"div",49)(1,"div",50)(2,"span",51),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.YNc(5,P,3,1,"ng-container",11),e.qZA()),2&b){const p=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngClass",e.WLB(5,it,p.outOfDate,!p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(4,3,"lang_auto_noi_dung")),e.xp6(2),e.Q6J("ngForOf",p.contents)}}function fe(b,D){1&b&&(e.ynx(0),e.TgZ(1,"div",73),e._UZ(2,"img",74),e.ALo(3,"convertCdnLinkOfGitHub"),e.qZA(),e.BQk()),2&b&&(e.xp6(2),e.Q6J("src",e.lcZ(3,1,"images/type_file/unknown-file.svg"),e.LSH))}function qt(b,D){1&b&&(e.ynx(0),e.TgZ(1,"div",75),e._UZ(2,"lucide-icon",76),e.qZA(),e.BQk())}function Bn(b,D){1&b&&(e.ynx(0),e.TgZ(1,"div",77),e._UZ(2,"lucide-icon",78),e.qZA(),e.BQk())}function In(b,D){if(1&b&&(e.TgZ(0,"small",79),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&b){const p=e.oxw().$implicit;e.xp6(1),e.lnq("",e.lcZ(2,3,"lang_auto_da_nop"),":\xa0",p.totalFinish,"/",p.totalAttendee,"")}}const Oe=function(b,D){return{"text-success":b,"text-slate-700/50":D}};function Ot(b,D){if(1&b&&(e.TgZ(0,"small",80),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&b){const p=e.oxw().$implicit;e.Q6J("ngClass",e.WLB(4,Oe,p.totalFinish,!p.totalFinish)),e.xp6(1),e.Oqu(e.lcZ(2,2,p.totalFinish?"lang_auto_da_nop":"lang_auto_chua_nop"))}}function Gt(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"small",81),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"button",82),e.NdJ("click",function(N){e.CHM(p);const I=e.oxw().$implicit,F=e.oxw(2).$implicit;return e.oxw(5).editMarkCoefficient(I,F),N.stopPropagation(),e.KtG(N.preventDefault())}),e.ALo(4,"mytranslate"),e.O4$(),e.TgZ(5,"svg",83),e._UZ(6,"path",84)(7,"path",85),e.qZA()()()}if(2&b){const p=e.oxw().$implicit;e.xp6(1),e.AsE("",e.lcZ(2,3,"lang_student_score_factor"),":\xa0",p.markCoefficient," "),e.xp6(2),e.s9C("matTooltip",e.lcZ(4,5,"lang_student_edit_mark_coefficient"))}}const Wt=function(b){return[b]},Me=function(b){return{backto:b}};function Ln(b,D){if(1&b&&(e.TgZ(0,"div",62)(1,"a",63),e.ALo(2,"localize"),e.TgZ(3,"div",64)(4,"div",65),e.YNc(5,fe,4,3,"ng-container",5),e.YNc(6,qt,3,0,"ng-container",5),e.YNc(7,Bn,3,0,"ng-container",5),e.qZA(),e.TgZ(8,"div",66)(9,"div",67)(10,"span",68,69),e._uU(12),e.qZA(),e.YNc(13,In,3,5,"small",70),e.YNc(14,Ot,3,7,"small",71),e.YNc(15,Gt,8,7,"small",72),e.qZA()()()()()),2&b){const p=D.$implicit,w=e.MAs(11),N=e.oxw(7);let I;e.xp6(1),e.Q6J("routerLink",e.VKq(14,Wt,e.lcZ(2,12,p.documentType==N.allDocumentTypes.exam?N.teacherRole?"/admin/testbank/exam-results-list/"+(null!==(I=p.categoryId)&&void 0!==I?I:0)+"/"+p.refId+"/0":"/de-thi/"+p.hashId:N.teacherRole?"/admin/testbank/homework-results-list/"+(null!==(I=p.classroomId)&&void 0!==I?I:0)+"/"+p.refId+"/"+p.hashId:"/bai-tap/"+p.hashId)))("queryParams",e.VKq(16,Me,N.currentUrl)),e.xp6(4),e.Q6J("ngIf",!p.type),e.xp6(1),e.Q6J("ngIf","exam"==p.type),e.xp6(1),e.Q6J("ngIf","homework"==p.type),e.xp6(3),e.s9C("matTooltip",p.name),e.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",w.isDisabled),e.xp6(2),e.hij(" ",p.name," "),e.xp6(1),e.Q6J("ngIf",N.teacherRole),e.xp6(1),e.Q6J("ngIf",!N.teacherRole),e.xp6(1),e.Q6J("ngIf",N.teacherRole)}}const Dn=function(b,D,p,w,N,I){return{backto:b,classroomId:D,programId:p,sessionId:w,levelId:N,subjectId:I}},Hn=function(b,D){return{"text-slate-600":b,"btn-text-primary":D}};function Ze(b,D){if(1&b&&(e.TgZ(0,"a",86),e.ALo(1,"localize"),e.TgZ(2,"span",87),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()),2&b){const p=e.oxw(2).$implicit,w=e.oxw(5);let N;e.Q6J("routerLink",e.VKq(8,Wt,e.lcZ(1,4,"/admin/testbank/create-new-document/0")))("queryParams",e.HTZ(10,Dn,w.currentUrl,w.classroomId,p.programId,p.id,null!==(N=null==w.programObj?null:w.programObj.schoolLevelId)&&void 0!==N?N:0,null!==(N=null==w.programObj?null:w.programObj.schoolSubjectId)&&void 0!==N?N:0))("ngClass",e.WLB(17,Hn,p.outOfDate,!p.outOfDate)),e.xp6(3),e.hij("+ ",e.lcZ(4,6,"lang_business_assign_exams"),"")}}function Vt(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"div",102)(1,"a",103),e.NdJ("click",function(N){e.CHM(p);const I=e.oxw(2).$implicit,F=e.oxw(2).$implicit,W=e.oxw(4).$implicit;let pt;return e.oxw(5).removeDocumentFromSession(W,null!==(pt=I.sessionId)&&void 0!==pt?pt:0,I.id,F),N.preventDefault(),e.KtG(N.stopPropagation())}),e.TgZ(2,"span",104),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",105),e.qZA()()()}2&b&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function Dt(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"li")(1,"a",99),e.NdJ("click",function(){e.CHM(p);const N=e.oxw().$implicit,I=e.oxw(11);return e.KtG(I.previewFile(N))}),e._UZ(2,"azt-document-type-file",100),e.YNc(3,Vt,5,3,"div",101),e.qZA()()}if(2&b){const p=e.oxw().$implicit,w=e.oxw(11);let N;e.xp6(2),e.Q6J("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(N=p.name)&&void 0!==N?N:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",w.teacherRole)}}function de(b,D){if(1&b&&(e.ynx(0),e.YNc(1,Dt,4,8,"li",5),e.BQk()),2&b){const p=e.oxw(2).$implicit,w=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==w.allDocumentGroupTypes.video)}}const re=function(b){return{"dropdown-menu-scroll":b}};function En(b,D){if(1&b&&(e.ynx(0),e.TgZ(1,"h3",93)(2,"span",94),e._uU(3),e.ALo(4,"mytranslate"),e._UZ(5,"lucide-icon",24),e.qZA()(),e.TgZ(6,"mat-menu",95,96)(8,"div",97)(9,"ul",98),e.YNc(10,de,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&b){const p=e.MAs(7),w=e.oxw().$implicit,N=e.oxw(4).last,I=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",p),e.xp6(2),e.hij(" ",e.lcZ(4,4,"lang_config_educational_program_"+w.name)," "),e.xp6(6),e.Q6J("ngClass",e.VKq(6,re,I&&N||w.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",w.documentObjs)}}function Pn(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"div",102)(1,"a",108),e.NdJ("click",function(N){e.CHM(p);const I=e.oxw(2).$implicit,F=e.oxw(2).$implicit,W=e.oxw(4).$implicit;let pt;return e.oxw(5).removeDocumentFromSession(W,null!==(pt=I.sessionId)&&void 0!==pt?pt:0,I.id,F),N.preventDefault(),e.KtG(N.stopPropagation())}),e.TgZ(2,"span",104),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",105),e.qZA()()()}2&b&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function en(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"li")(1,"a",107),e.NdJ("click",function(){e.CHM(p);const N=e.oxw().$implicit,I=e.oxw(11);return e.KtG(I.previewFile(N))}),e._UZ(2,"azt-document-type-file",100),e.YNc(3,Pn,5,3,"div",101),e.qZA()()}if(2&b){const p=e.oxw().$implicit,w=e.oxw(11);let N;e.xp6(2),e.Q6J("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(N=p.name)&&void 0!==N?N:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",w.teacherRole)}}function Z(b,D){if(1&b&&(e.ynx(0),e.YNc(1,en,4,8,"li",5),e.BQk()),2&b){const p=e.oxw(2).$implicit,w=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==w.allDocumentGroupTypes.document)}}function z(b,D){if(1&b&&(e.ynx(0),e.TgZ(1,"h3",93)(2,"span",94),e._uU(3),e.ALo(4,"mytranslate"),e._UZ(5,"lucide-icon",24),e.qZA()(),e.TgZ(6,"mat-menu",95,106)(8,"div",97)(9,"ul",98),e.YNc(10,Z,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&b){const p=e.MAs(7),w=e.oxw().$implicit,N=e.oxw(4).last,I=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",p),e.xp6(2),e.hij(" ",e.lcZ(4,4,"lang_config_educational_program_"+w.name)," "),e.xp6(6),e.Q6J("ngClass",e.VKq(6,re,I&&N||w.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",w.documentObjs)}}function f(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"div",102)(1,"a",111),e.NdJ("click",function(N){e.CHM(p);const I=e.oxw(2).$implicit,F=e.oxw(2).$implicit,W=e.oxw(4).$implicit;let pt;return e.oxw(5).removeDocumentFromSession(W,null!==(pt=I.sessionId)&&void 0!==pt?pt:0,I.id,F),N.preventDefault(),e.KtG(N.stopPropagation())}),e.TgZ(2,"span",104),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",105),e.qZA()()()}2&b&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function A(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"li")(1,"a",110),e.NdJ("click",function(){e.CHM(p);const N=e.oxw().$implicit,I=e.oxw(11);return e.KtG(I.previewFile(N))}),e._UZ(2,"azt-document-type-file",100),e.YNc(3,f,5,3,"div",101),e.qZA()()}if(2&b){const p=e.oxw().$implicit,w=e.oxw(11);let N;e.xp6(2),e.Q6J("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(N=p.name)&&void 0!==N?N:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",w.teacherRole)}}function L(b,D){if(1&b&&(e.ynx(0),e.YNc(1,A,4,8,"li",5),e.BQk()),2&b){const p=e.oxw(2).$implicit,w=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==w.allDocumentGroupTypes.homework)}}function G(b,D){if(1&b&&(e.ynx(0),e.TgZ(1,"h3",93)(2,"span",94),e._uU(3),e.ALo(4,"mytranslate"),e._UZ(5,"lucide-icon",24),e.qZA()(),e.TgZ(6,"mat-menu",95,109)(8,"div",97)(9,"ul",98),e.YNc(10,L,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&b){const p=e.MAs(7),w=e.oxw().$implicit,N=e.oxw(4).last,I=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",p),e.xp6(2),e.hij(" ",e.lcZ(4,4,"lang_config_educational_program_"+w.name)," "),e.xp6(6),e.Q6J("ngClass",e.VKq(6,re,I&&N||w.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",w.documentObjs)}}function dt(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"div",102)(1,"a",114),e.NdJ("click",function(N){e.CHM(p);const I=e.oxw(2).$implicit,F=e.oxw(2).$implicit,W=e.oxw(4).$implicit;let pt;return e.oxw(5).removeDocumentFromSession(W,null!==(pt=I.sessionId)&&void 0!==pt?pt:0,I.id,F),N.preventDefault(),e.KtG(N.stopPropagation())}),e.TgZ(2,"span",104),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",105),e.qZA()()()}2&b&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function Pt(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"li")(1,"a",113),e.NdJ("click",function(){e.CHM(p);const N=e.oxw().$implicit,I=e.oxw(11);return e.KtG(I.previewFile(N))}),e._UZ(2,"azt-document-type-file",100),e.YNc(3,dt,5,3,"div",101),e.qZA()()}if(2&b){const p=e.oxw().$implicit,w=e.oxw(11);let N;e.xp6(2),e.Q6J("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(N=p.name)&&void 0!==N?N:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",w.teacherRole)}}function Xt(b,D){if(1&b&&(e.ynx(0),e.YNc(1,Pt,4,8,"li",5),e.BQk()),2&b){const p=e.oxw(2).$implicit,w=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==w.allDocumentGroupTypes.homework_view)}}function te(b,D){if(1&b&&(e.ynx(0),e.TgZ(1,"h3",93)(2,"span",94),e._uU(3),e.ALo(4,"mytranslate"),e._UZ(5,"lucide-icon",24),e.qZA()(),e.TgZ(6,"mat-menu",95,112)(8,"div",97)(9,"ul",98),e.YNc(10,Xt,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&b){const p=e.MAs(7),w=e.oxw().$implicit,N=e.oxw(4).last,I=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",p),e.xp6(2),e.hij(" ",e.lcZ(4,4,"lang_config_educational_program_"+w.name)," "),e.xp6(6),e.Q6J("ngClass",e.VKq(6,re,I&&N||w.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",w.documentObjs)}}function nn(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"div",102)(1,"a",117),e.NdJ("click",function(N){e.CHM(p);const I=e.oxw(2).$implicit,F=e.oxw(2).$implicit,W=e.oxw(4).$implicit;let pt;return e.oxw(5).removeDocumentFromSession(W,null!==(pt=I.sessionId)&&void 0!==pt?pt:0,I.id,F),N.preventDefault(),e.KtG(N.stopPropagation())}),e.TgZ(2,"span",104),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",105),e.qZA()()()}2&b&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function Je(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"li")(1,"a",116),e.NdJ("click",function(){e.CHM(p);const N=e.oxw().$implicit,I=e.oxw(11);return e.KtG(I.previewFile(N))}),e._UZ(2,"azt-document-type-file",100),e.YNc(3,nn,5,3,"div",101),e.qZA()()}if(2&b){const p=e.oxw().$implicit,w=e.oxw(11);let N;e.xp6(2),e.Q6J("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(N=p.name)&&void 0!==N?N:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",w.teacherRole)}}function on(b,D){if(1&b&&(e.ynx(0),e.YNc(1,Je,4,8,"li",5),e.BQk()),2&b){const p=e.oxw(2).$implicit,w=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==w.allDocumentGroupTypes.unknown)}}function Xn(b,D){if(1&b&&(e.ynx(0),e.TgZ(1,"h3",93)(2,"span",94),e._uU(3),e.ALo(4,"mytranslate"),e._UZ(5,"lucide-icon",24),e.qZA()(),e.TgZ(6,"mat-menu",95,115)(8,"div",97)(9,"ul",98),e.YNc(10,on,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&b){const p=e.MAs(7),w=e.oxw().$implicit,N=e.oxw(4).last,I=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",p),e.xp6(2),e.hij(" ",e.lcZ(4,4,"lang_config_educational_program_"+w.name)," "),e.xp6(6),e.Q6J("ngClass",e.VKq(6,re,I&&N||w.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",w.documentObjs)}}function vo(b,D){if(1&b&&(e.TgZ(0,"div",92),e.YNc(1,En,11,8,"ng-container",5),e.YNc(2,z,11,8,"ng-container",5),e.YNc(3,G,11,8,"ng-container",5),e.YNc(4,te,11,8,"ng-container",5),e.YNc(5,Xn,11,8,"ng-container",5),e.qZA()),2&b){const p=D.$implicit,w=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==w.allDocumentGroupTypes.video&&p.documentObjs.length),e.xp6(1),e.Q6J("ngIf",p.name==w.allDocumentGroupTypes.document&&p.documentObjs.length),e.xp6(1),e.Q6J("ngIf",p.name==w.allDocumentGroupTypes.homework&&p.documentObjs.length),e.xp6(1),e.Q6J("ngIf",p.name==w.allDocumentGroupTypes.homework_view&&p.documentObjs.length),e.xp6(1),e.Q6J("ngIf",p.name==w.allDocumentGroupTypes.unknown&&p.documentObjs.length)}}function Uo(b,D){if(1&b&&(e.ynx(0),e.YNc(1,vo,6,5,"div",91),e.BQk()),2&b){const p=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngForOf",p.groupDocumentObjs)}}function an(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"div",102)(1,"a",122),e.NdJ("click",function(){e.CHM(p);const N=e.oxw().$implicit,I=e.oxw(4).$implicit,F=e.oxw(5);let W;return e.KtG(F.removeDocumentFromSession(I,null!==(W=N.sessionId)&&void 0!==W?W:0,N.id))}),e.TgZ(2,"span",104),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",105),e.qZA()()()}2&b&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function To(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"div",119)(1,"a",120),e.NdJ("click",function(){const I=e.CHM(p).$implicit,F=e.oxw(9);return e.KtG(F.previewFile(I))}),e._UZ(2,"azt-document-type-file",121),e.qZA(),e.YNc(3,an,5,3,"div",101),e.qZA()}if(2&b){const p=D.$implicit,w=e.oxw(9);let N;e.xp6(2),e.Q6J("type",p.documentType)("name",null!==(N=p.name)&&void 0!==N?N:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",w.teacherRole)}}function zo(b,D){if(1&b&&e.YNc(0,To,4,5,"div",118),2&b){const p=e.oxw(3).$implicit;e.Q6J("ngForOf",p.normalDocumentObjs)}}function $t(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"app-upload-document-for-session",123),e.NdJ("emitFileDocument",function(N){e.CHM(p);const I=e.oxw(3).$implicit,F=e.oxw(5);return e.KtG(F.uploadFileEmitted(N,I))}),e.TgZ(1,"span",87),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()}if(2&b){const p=e.oxw(3).$implicit;e.Q6J("isBtn",!0)("customClass",p.outOfDate?"text-slate-600":"text-primary"),e.xp6(2),e.Oqu(e.lcZ(3,3,"lang_educational_program_add_document"))}}function kn(b,D){if(1&b&&(e.TgZ(0,"div",53),e.YNc(1,Uo,2,1,"ng-container",88),e.YNc(2,zo,1,1,"ng-template",null,89,e.W1O),e.TgZ(4,"div",62),e.YNc(5,$t,4,5,"app-upload-document-for-session",90),e.qZA()()),2&b){const p=e.MAs(3),w=e.oxw(2).$implicit,N=e.oxw(5);e.xp6(1),e.Q6J("ngIf",w.groupDocumentObjs.length)("ngIfElse",p),e.xp6(4),e.Q6J("ngIf",N.teacherRole)}}function wn(b,D){1&b&&(e.TgZ(0,"div",124)(1,"div",125)(2,"span",126),e._UZ(3,"azt-loading-ui",127),e.qZA()()()),2&b&&(e.xp6(3),e.Q6J("type","oval"))}function yn(b,D){if(1&b&&(e.TgZ(0,"a",132),e.ALo(1,"localize"),e._UZ(2,"lucide-icon",133),e.TgZ(3,"span",134),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&b){const p=e.oxw(3).$implicit,w=e.oxw(5);e.Q6J("routerLink",e.VKq(8,Wt,e.lcZ(1,4,"/admin/student/attendance-student/"+w.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.VKq(10,Me,"/admin/student/classroom-details/"+w.classroomId+"/3?sessionId="+p.id+"&backto="+w.backLink)),e.xp6(4),e.AsE("",e.lcZ(5,6,"lang_student_attendance_student"),""," ("+p.totalJoinedStudent+"/"+p.totalStudent+")","")}}function Co(b,D){if(1&b&&(e.TgZ(0,"a",135),e.ALo(1,"localize"),e._UZ(2,"lucide-icon",136),e.TgZ(3,"span",134),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&b){const p=e.oxw(3).$implicit,w=e.oxw(5);e.Q6J("routerLink",e.VKq(7,Wt,e.lcZ(1,3,"/admin/student/distribute-document/"+w.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.VKq(9,Me,"/admin/student/classroom-details/"+w.classroomId+"/3?sessionId="+p.id+"&backto="+w.backLink)),e.xp6(4),e.Oqu(e.lcZ(5,5,"lang_student_distribute_books"))}}function ko(b,D){if(1&b&&(e.TgZ(0,"a",137),e.ALo(1,"localize"),e._UZ(2,"lucide-icon",138),e.TgZ(3,"span",134),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&b){const p=e.oxw(3).$implicit,w=e.oxw(5);e.Q6J("routerLink",e.VKq(7,Wt,e.lcZ(1,3,"/admin/student/submit-score/"+w.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.VKq(9,Me,"/admin/student/classroom-details/"+w.classroomId+"/3?sessionId="+p.id+"&backto="+w.backLink)),e.xp6(4),e.Oqu(e.lcZ(5,5,"lang_student_enter_score"))}}function wo(b,D){if(1&b&&(e.TgZ(0,"div",56)(1,"div",50)(2,"span",51),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.TgZ(5,"div",128),e.YNc(6,yn,6,12,"a",129),e.ALo(7,"async"),e.ALo(8,"allowFeatureBusinessForUser"),e.YNc(9,Co,6,11,"a",130),e.ALo(10,"async"),e.ALo(11,"allowFeatureBusinessForUser"),e.YNc(12,ko,6,11,"a",131),e.ALo(13,"async"),e.ALo(14,"allowFeatureBusinessForUser"),e.qZA()()),2&b){const p=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngClass",e.WLB(25,it,p.outOfDate,!p.outOfDate)),e.xp6(1),e.hij(" ",e.lcZ(4,5,"lang_auto_hanh_dong")," "),e.xp6(3),e.Q6J("ngIf",e.lcZ(7,7,e.Dn7(8,9,"","training_center_student_attendance",!1))),e.xp6(3),e.Q6J("ngIf",e.lcZ(10,13,e.Dn7(11,15,"","training_center_student_book",!1))),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,19,e.Dn7(14,21,"","training_center_student_mark",!1)))}}function to(b,D){if(1&b&&(e.TgZ(0,"div",56)(1,"div",50)(2,"span",51),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.TgZ(5,"div",128)(6,"div",139)(7,"span"),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"span",140),e._uU(11),e.ALo(12,"mytranslate"),e.qZA()()()()),2&b){const p=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngClass",e.WLB(10,it,p.outOfDate,!p.outOfDate)),e.xp6(1),e.hij(" ",e.lcZ(4,4,"lang_auto_hanh_dong")," "),e.xp6(5),e.Oqu(e.lcZ(9,6,"lang_business_requested_leave_with_a_reason")),e.xp6(3),e.Oqu(null!=p.studentAttendance&&p.studentAttendance.reason?null==p.studentAttendance?null:p.studentAttendance.reason:e.lcZ(12,8,"lang_student_absence_no_reason"))}}function yo(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"div",43)(1,"div",44),e.NdJ("click",function(){e.CHM(p);const N=e.oxw().$implicit,I=e.oxw(5);return e.KtG(I.expandSessionObj(N))}),e.TgZ(2,"h3",45)(3,"span",46),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"span",47),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,O,4,3,"ng-container",5),e.qZA(),e.YNc(10,xt,6,8,"div",48),e.TgZ(11,"div",49)(12,"div",50)(13,"span",51),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()(),e.TgZ(16,"div",52)(17,"div",53),e.YNc(18,Ln,16,18,"div",54),e.YNc(19,Ze,5,20,"a",55),e.qZA()()(),e.TgZ(20,"div",56)(21,"div",50)(22,"span",51),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()(),e.TgZ(25,"div",52),e.YNc(26,kn,6,3,"div",57),e.YNc(27,wn,4,1,"div",58),e.qZA()(),e.YNc(28,wo,15,28,"div",59),e.ALo(29,"async"),e.ALo(30,"allowFeatureBusinessForUser"),e.ALo(31,"async"),e.ALo(32,"allowFeatureBusinessForUser"),e.ALo(33,"async"),e.ALo(34,"allowFeatureBusinessForUser"),e.YNc(35,to,13,13,"div",59),e.ALo(36,"async"),e.ALo(37,"allowFeatureBusinessForUser"),e.qZA()}if(2&b){const p=e.oxw().$implicit,w=e.oxw(5);e.uIk("id","session-"+p.id),e.xp6(3),e.Q6J("ngClass",e.VKq(48,q,p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(5,16,"lang_core_buoi")+" "+p.sort),e.xp6(3),e.Oqu(e.lcZ(8,18,"lang_config_educational_program_day_"+p.day)+", "+p.dateSession+" "+p.timeSession),e.xp6(2),e.Q6J("ngIf",p.room),e.xp6(1),e.Q6J("ngIf",p.contents&&p.contents.length),e.xp6(3),e.Q6J("ngClass",e.WLB(50,it,p.outOfDate,!p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(15,20,"lang_cms_auto_gen_test_exam_title")),e.xp6(4),e.Q6J("ngForOf",p.examHomeworkObjs),e.xp6(1),e.Q6J("ngIf",w.teacherRole),e.xp6(3),e.Q6J("ngClass",e.WLB(53,it,p.outOfDate,!p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(24,22,"lang_testbank_document_list_header_title")),e.xp6(3),e.Q6J("ngIf",!p.isDeletingDocument&&!p.isUploadingDocument),e.xp6(1),e.Q6J("ngIf",p.isDeletingDocument||p.isUploadingDocument),e.xp6(1),e.Q6J("ngIf",(e.lcZ(29,24,e.Dn7(30,26,"","training_center_student_attendance",!1))||e.lcZ(31,30,e.Dn7(32,32,"","training_center_student_book",!1))||e.lcZ(33,36,e.Dn7(34,38,"","training_center_student_mark",!1)))&&w.teacherRole),e.xp6(7),e.Q6J("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.lcZ(36,42,e.Dn7(37,44,"","training_center_student_attendance",!0))&&!w.teacherRole)}}function eo(b,D){if(1&b&&(e.TgZ(0,"div",27),e.YNc(1,Cn,7,14,"div",28),e.YNc(2,T,10,10,"div",29),e.YNc(3,yo,38,56,"div",30),e.qZA()),2&b){const p=D.$implicit,w=e.oxw(5);e.xp6(1),e.Q6J("ngIf",!w.teacherRole),e.xp6(1),e.Q6J("ngIf",!p.isExpanded),e.xp6(1),e.Q6J("ngIf",p.isExpanded)}}function Fo(b,D){if(1&b&&(e.ynx(0),e.YNc(1,eo,4,3,"div",26),e.BQk()),2&b){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",p.programObjs)}}function Jo(b,D){if(1&b){const p=e.EpF();e.ynx(0),e.TgZ(1,"h3",20)(2,"span",21),e.NdJ("click",function(){const I=e.CHM(p).$implicit;return e.KtG(I.expand=!I.expand)}),e._uU(3),e.ALo(4,"mytranslate"),e.YNc(5,vn,1,0,"lucide-icon",22),e.YNc(6,It,1,0,"lucide-icon",23),e.qZA()(),e.YNc(7,Fo,2,1,"ng-container",5),e.BQk()}if(2&b){const p=D.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,4,p.monthName)," "),e.xp6(2),e.Q6J("ngIf",p.expand),e.xp6(1),e.Q6J("ngIf",!p.expand),e.xp6(1),e.Q6J("ngIf",p.expand)}}function Oo(b,D){if(1&b&&(e.ynx(0),e.TgZ(1,"div",7)(2,"div",8)(3,"h3",9),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.YNc(6,xn,5,3,"button",10),e.qZA(),e.YNc(7,bn,3,1,"ng-container",5),e.qZA(),e.ynx(8),e.YNc(9,Jo,8,6,"ng-container",11),e.BQk()()),2&b){const p=e.oxw(2);e.xp6(4),e.hij(" ",e.lcZ(5,4,"lang_educational_program_general_documents")," "),e.xp6(2),e.Q6J("ngIf",p.teacherRole),e.xp6(1),e.Q6J("ngIf",p.generalDocumentObjs.length),e.xp6(2),e.Q6J("ngForOf",p.groupProgramSessionObjs)}}function qo(b,D){1&b&&(e.TgZ(0,"h3",147),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&b&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_config_educational_program_add_new_description")," "))}function Ie(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"button",148),e.NdJ("click",function(){e.CHM(p);const N=e.oxw(4);return e.KtG(N.addNewEducationalProgram())}),e.TgZ(1,"span",149),e._UZ(2,"lucide-icon",150),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&b&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_config_educational_program_select_new")))}function On(b,D){if(1&b&&(e.TgZ(0,"div",143)(1,"h3",144),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,qo,3,3,"h3",145),e.YNc(5,Ie,6,3,"button",146),e.qZA()),2&b){const p=e.oxw(3);e.xp6(2),e.hij(" ",e.lcZ(3,3,"lang_config_educational_program_no_have_yet")," "),e.xp6(2),e.Q6J("ngIf",p.teacherRole),e.xp6(1),e.Q6J("ngIf",p.teacherRole)}}function Un(b,D){1&b&&(e.TgZ(0,"h3",147),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&b&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_config_educational_program_add_new_session_desc")," "))}function zn(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"button",152),e.NdJ("click",function(){e.CHM(p);const N=e.oxw(4);return e.KtG(N.editEducationalProgram())}),e.TgZ(1,"span",149),e._UZ(2,"lucide-icon",153),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&b&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_config_educational_program_edit_btn")))}function Qo(b,D){if(1&b&&(e.TgZ(0,"div",143)(1,"h3",144),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,Un,3,3,"h3",145),e.YNc(5,zn,6,3,"button",151),e.qZA()),2&b){const p=e.oxw(3);e.xp6(2),e.hij(" ",e.lcZ(3,3,"lang_config_educational_program_no_have_session_yet")," "),e.xp6(2),e.Q6J("ngIf",p.teacherRole),e.xp6(1),e.Q6J("ngIf",p.teacherRole)}}function Yo(b,D){if(1&b&&(e.ynx(0),e.YNc(1,On,6,5,"div",141),e.YNc(2,Qo,6,5,"ng-template",null,142,e.W1O),e.BQk()),2&b){const p=e.MAs(3),w=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!w.programObj)("ngIfElse",p)}}function Bo(b,D){if(1&b&&(e.YNc(0,fn,1,2,"app-add-new-educational-program",4),e.YNc(1,Oo,10,6,"ng-container",5),e.YNc(2,Yo,4,2,"ng-container",5)),2&b){const p=e.oxw();e.Q6J("ngIf",p.showAddNewEducationalProgram),e.xp6(1),e.Q6J("ngIf",!p.showAddNewEducationalProgram&&p.programSessionObjs.length),e.xp6(1),e.Q6J("ngIf",!p.showAddNewEducationalProgram&&p.programSessionObjs.length<=0)}}let Ho=(()=>{class b extends c.Q{emitDataReloadSession(p){p?(this.initStatusObj(),this.programObj=void 0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter.emit()):this.showAddNewEducationalProgram=!1}editMarkCoefficient(p,w){this.sAztDialogService.open(i.h,{data:{id:p.markId??0,name:"",coefficient:p.markCoefficient,programId:w.programId,classroomId:this.classroomId,sessionId:w.id,isOnlyCoefficient:!0,documentName:p.name,documentType:p.type},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(I=>{I&&this.reloadSessionDataOfProgram(w)})}reloadSessionDataOfProgram(p){p.isLoadingData=!0,this.reloadSessionDataEmitter.emit(p)}addNewEducationalProgram(){this.showAddNewEducationalProgram=!this.showAddNewEducationalProgram}editEducationalProgram(){let p=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/business/edit-educational-program/"+this.programObj?.id,"?backTo="+p)}removeDocumentFromSession(p,w,N,I){var F=(p.normalDocumentObjs.filter(lt=>lt.id==N)[0].name??"")+" - "+this.commonService.myTranslateInstant("lang_core_buoi")+" "+p.sort.toString(),W=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+F+" </div> ?";this.sAztDialogService.open(ht.s,{data:{content:W},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(lt=>{lt&&(p.isDeletingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsDocumentIdDelete(this.classroomId,w,N).subscribe({next:pt=>{I&&(I.documentObjs=I.documentObjs.filter(Ct=>Ct.id!=N)),p.normalDocumentObjs=p.normalDocumentObjs.filter(Ct=>Ct.id!=N),this.showSuccessSnack("lang_config_educational_program_remove_document_link_successfully"),p.isDeletingDocument=!1},error:pt=>{p.isDeletingDocument=!1,this.errorStatusObj(pt.error.message,!0)}})))})}uploadFileEmitted(p,w){w.isUploadingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsPost(this.classroomId,w.id,p).subscribe({next:N=>{this.reloadSessionDataOfProgram(w),w.isUploadingDocument=!1,this.showSuccessSnack("lang_config_educational_program_add_document_link_successfully")},error:N=>{w.isUploadingDocument=!1,this.errorStatusObj(N.error.message,!0)}}))}expandSessionObj(p){p.isExpanded=!p.isExpanded,this.changeSessionDataEmitter.emit(p)}previewFile(p){const w={name:p.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(p.type),type:p.type,url:p.link};this.sAztDialogService.open(ct.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...w,index:0},showDownloadIcon:!1},restoreFocus:!1})}ngAfterViewInit(){let p=this.programSessionObjs.find(w=>w.isExpanded);if(p){let w=document.getElementById("session-"+p.id);window.scrollTo({top:w?.offsetTop})}}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.backLink||(this.backLink="/admin/student/manage-classroom/0")}constructor(p,w,N,I,F){super(),this.sAztDialogService=p,this.cd=w,this.apiUploadService=N,this.classroomService=I,this.sAztFileTypeService=F,this.backLink="",this.errorApiMessage="",this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter=new e.vpe,this.changeSessionDataEmitter=new e.vpe,this.allDocumentTypes=x.s,this.allDocumentGroupTypes=wt.K,this.showAddNewEducationalProgram=!1,this.currentUrl=this.commonService.getCurrentUrlWithoutLocale()}}return b.\u0275fac=function(p){return new(p||b)(e.Y36(yt.C),e.Y36(e.sBO),e.Y36(st.W),e.Y36(t.um),e.Y36(mt.v))},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-list-sessions"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",errorApiMessage:"errorApiMessage",generalDocumentObjs:"generalDocumentObjs",programSessionObjs:"programSessionObjs",groupProgramSessionObjs:"groupProgramSessionObjs",programObj:"programObj"},outputs:{reloadSessionDataEmitter:"reloadSessionDataEmitter",changeSessionDataEmitter:"changeSessionDataEmitter"},features:[e.qOj],decls:4,vars:2,consts:[[1,"container","educational-program-width"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf","ngIfElse"],["noApiError",""],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[3,"classroomId","programObj","saveEducationalProgramEmit",4,"ngIf"],[4,"ngIf"],[3,"classroomId","programObj","saveEducationalProgramEmit"],[1,"box","p-3","mb-3"],[1,"flex",2,"justify-content","space-between","align-items","center"],[1,"font-medium","text-md"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4","class","btn btn-primary btn-sm text-white","style","cursor: default",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4",1,"btn","btn-primary","btn-sm","text-white",2,"cursor","default",3,"click"],["name","refresh-cw",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"ml-1",2,"vertical-align","middle"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],["azt-track-service","list-educational-program-sessions-tZA6KoGtc",1,"cursor-pointer","hover:slate-100",3,"click"],[3,"type","name","url","iconVerticalStyle","customClass"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px!important; height: 18px!important; vertical-align: top;",4,"ngIf"],["name","chevron-right","style","width: 18px!important; height: 18px!important; vertical-align: top;",4,"ngIf"],["name","chevron-down",2,"width","18px!important","height","18px!important","vertical-align","top"],["name","chevron-right",2,"width","18px!important","height","18px!important","vertical-align","top"],["class","relative mt-2",4,"ngFor","ngForOf"],[1,"relative","mt-2"],["class","absolute","style","right: 5px; top: 5px; z-index: 99",4,"ngIf"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9","class","box p-3 mb-3 cursor-pointer clickable expanded-box",3,"click",4,"ngIf"],["class","box p-3 mb-3","style","user-select: none",4,"ngIf"],[1,"absolute",2,"right","5px","top","5px","z-index","99"],["class","btn btn-warning btn-sm text-slate-600 change-block-hidden","style","cursor: default",4,"ngIf"],["class","btn btn-warning btn-sm text-slate-600 change-hidden-block","style","cursor: default; padding: 3px",4,"ngIf"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-block-hidden",2,"cursor","default"],["name","user-x",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-hidden-block",2,"cursor","default","padding","3px"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9",1,"box","p-3","mb-3","cursor-pointer","clickable","expanded-box",3,"click"],[1,"heading"],[1,"font-medium","pr-5","md:pr-auto"],[2,"font-weight","420",3,"ngClass"],[1,"ml-2","text-slate-500",2,"font-weight","400"],[1,"text-slate-500",2,"font-weight","400"],[1,"box","p-3","mb-3",2,"user-select","none"],["azt-track-service","list-educational-program-sessions-AdTUEEwTH6",1,"heading","cursor-pointer","expanded-box-open","pb-2",3,"click"],[1,"font","pr-5","md:pr-auto"],[1,"font-medium",3,"ngClass"],[1,"ml-2","text-slate-500"],["class","azt-answer",4,"ngIf"],[1,"azt-answer"],[1,"strike"],[1,"uppercase",3,"ngClass"],[1,"azt-answer-content","p-3","w-full"],[1,"grid","grid-cols-12","items-center","gap-3"],["class","col-span-12 md:col-span-3",4,"ngFor","ngForOf"],["style","text-align: left","azt-track-service","list-educational-program-sessions-7tcWVQIX5M","class","btn btn-transparent w-48 block",3,"routerLink","queryParams","ngClass",4,"ngIf"],[1,"azt-answer","mt-1"],["class","grid grid-cols-12 items-center gap-3",4,"ngIf"],["class","grid grid-cols-12 gap-2",4,"ngIf"],["class","azt-answer mt-1",4,"ngIf"],[1,"text-slate-500"],[1,"text-danger","font-medium"],[1,"col-span-12","md:col-span-3"],["azt-track-service","list-educational-program-sessions-osVwsOKGN",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-700/50 mb-0","style","font-size: 13px",4,"ngIf"],["class","mb-0","style","font-size: 13px",3,"ngClass",4,"ngIf"],["class","text-primary mb-0 relative","style","font-size: 13px",4,"ngIf"],[1,"w-8","h-8","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],[1,"w-8","h-8","text-pending"],["name","file-check"],[1,"w-8","h-8","text-primary"],["name","file-text"],[1,"text-slate-700/50","mb-0",2,"font-size","13px"],[1,"mb-0",2,"font-size","13px",3,"ngClass"],[1,"text-primary","mb-0","relative",2,"font-size","13px"],["azt-track-service","list-educational-program-sessions-mHY0DeFrF",1,"w-4","h-4","inline-block",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","13","height","13","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil",2,"vertical-align","text-top"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],["azt-track-service","list-educational-program-sessions-7tcWVQIX5M",1,"btn","btn-transparent","w-48","block",2,"text-align","left",3,"routerLink","queryParams","ngClass"],[1,"uppercase"],[4,"ngIf","ngIfElse"],["normalViewDocument",""],[3,"isBtn","customClass","emitFileDocument",4,"ngIf"],["class","col-span-12 md:col-span-2 relative",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-2","relative"],[1,"flex","px-3",2,"font-weight","420","font-size","15px",3,"matMenuTriggerFor"],[1,"clickable","w-full","text-primary",2,"align-items","center"],["xPosition","after"],["matMenuVideo","matMenu"],[1,"dropdown-menu","show","w-72"],[1,"dropdown-content",3,"ngClass"],["azt-track-service","list-educational-program-sessions-9Uh-D7fBV",1,"dropdown-item","relative",2,"align-items","center",3,"click"],[2,"width","100%",3,"type","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["class","absolute top-0 right-0 p-1 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-50"],["azt-track-service","list-educational-program-sessions-b0R49s83kG",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[1,"w-4","h-4","inline-block",3,"matTooltip"],["name","x"],["matMenuDocument","matMenu"],["azt-track-service","list-educational-program-sessions-3xvwjvQpPm",1,"dropdown-item","relative",2,"align-items","center",3,"click"],["azt-track-service","list-educational-program-sessions-wmJtTG9lgc",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuHomework","matMenu"],["azt-track-service","list-educational-program-sessions-0ddxB4xw-G",1,"dropdown-item","relative",2,"align-items","center",3,"click"],["azt-track-service","list-educational-program-sessions-H_Fu6rJpUs",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuHomeworkView","matMenu"],["azt-track-service","list-educational-program-sessions-URYQZ4M5Qb",1,"dropdown-item","relative",2,"align-items","center",3,"click"],["azt-track-service","list-educational-program-sessions-MHIjTu_EQr",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuUnknown","matMenu"],["azt-track-service","list-educational-program-sessions-yixL-fRljl",1,"dropdown-item","relative",2,"align-items","center",3,"click"],["azt-track-service","list-educational-program-sessions-bjX0o_IOex",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["class","col-span-12 md:col-span-3 relative",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-3","relative"],["azt-track-service","list-educational-program-sessions-0reisrghN1",1,"cursor-pointer","hover:slate-100",3,"click"],[3,"type","name","url","customClass"],["azt-track-service","list-educational-program-sessions-E4pIFQJwz",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[3,"isBtn","customClass","emitFileDocument"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","text-center","p-4",2,"align-items","center"],[1,"w-6","h-6","mx-auto","flex"],[3,"type"],[1,"azt-answer-content","py-2","w-full","flex"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"routerLink","queryParams"],["name","users",2,"width","18px !important","height","18px !important","vertical-align","middle"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","book",2,"width","18px !important","height","18px !important","vertical-align","middle"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","clipboard-signature",2,"width","18px !important","height","18px !important","vertical-align","middle"],[1,"font-medium"],[1,"text-danger"],["class","box px-4 py-5 text-center mx-auto mt-3",4,"ngIf","ngIfElse"],["hasProgramObj",""],[1,"box","px-4","py-5","text-center","mx-auto","mt-3"],[2,"font-weight","450","font-size","15.5px"],["class","mt-3","style","font-weight: 400; font-size: 14px",4,"ngIf"],["azt-track-service","config-educational-program-UuVaYM-oC","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","400","font-size","14px"],["azt-track-service","config-educational-program-UuVaYM-oC",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],[1,"w-4","h-4","inline-block","mr-2"],["name","plus"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","edit"]],template:function(p,w){if(1&p&&(e.TgZ(0,"div",0),e.YNc(1,Xe,3,3,"div",1),e.YNc(2,Bo,3,3,"ng-template",null,2,e.W1O),e.qZA()),2&p){const N=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!w.statusObj.loading&&w.errorApiMessage)("ngIfElse",N)}},dependencies:[l.rH,H.mk,H.sg,H.O5,_t.VK,_t.p6,gt.gM,R.Q,j.n,J.F,tt.Nh5,nt.a,We,H.Ov,je.JV,je.Bo,je.J8,Ve.lO],encapsulation:2}),b})();function no(b,D){1&b&&e._UZ(0,"azt-loading-effect")}function Go(b,D){if(1&b){const p=e.EpF();e.TgZ(0,"div",2)(1,"app-list-sessions",3),e.NdJ("reloadSessionDataEmitter",function(N){e.CHM(p);const I=e.oxw();return e.KtG(I.reloadSessionData(N))})("changeSessionDataEmitter",function(N){e.CHM(p);const I=e.oxw();return e.KtG(I.changeSessionData(N))}),e.qZA()()}if(2&b){const p=e.oxw();e.xp6(1),e.Q6J("teacherRole",p.teacherRole)("classroomId",p.classroomId)("backLink",p.backLink)("errorApiMessage",p.errorApiMessage)("generalDocumentObjs",p.generalDocumentObjs)("programSessionObjs",p.programSessionObjs)("groupProgramSessionObjs",p.groupProgramSessionObjs)("programObj",p.programObj)}}let Vo=(()=>{class b extends c.Q{changeSessionData(p){this.programSessionObjs.map(w=>w.id==p.id?p:w),this.teacherRole&&this.commonService.myNavigationWithQueryString(`/admin/student/classroom-details/${this.classroomId}/3`,`?sessionId=${p.id}${this.backLink?"&backTo="+this.backLink:""}`)}reloadSessionData(p){this.initData(p)}convertNormalDocumentByGroup(p){let w={};return p.forEach(N=>{N.groupType&&(w.hasOwnProperty(N.groupType)||(w[N.groupType]=[]),w[N.groupType].push(N))}),w}processData(p){let w=this.commonService.arrayToDictionary(p,I=>I.groupType?I.groupType:"unknown"),N=[];return Object.entries(w).forEach(([I,F],W)=>{F.length>0&&N.push({name:I,documentObjs:F})}),N}convertDocumentsOfSession(p,w){let N=(new Date).toDateString(),I=!1;return p.forEach((F,W)=>{F.normalDocumentObjs=F.allDocumentObjs.filter(Ct=>"exam"!=Ct.type&&"homework"!=Ct.type),F.examHomeworkObjs=F.allDocumentObjs.filter(Ct=>"exam"==Ct.type||"homework"==Ct.type),F.groupDocumentObjs=this.processData(F.normalDocumentObjs),F.indexSession=F.sort;let lt="",pt="";if(F.fromTime){let Ct=new Date(F.fromTime),xe=new Date(Ct.toDateString()),oo=new Date(N),io=Math.floor((xe.getTime()-oo.getTime())/1e3);F.dateSession=this.timeService.getFormatDate(F.fromTime),F.outOfDate=io<0,F.monthSession=Ct.getMonth()+1,F.yearSession=Ct.getFullYear(),lt+=this.addZeroToTime(Ct.getHours())+":"+this.addZeroToTime(Ct.getMinutes()),pt=this.timeService.calculationTimeAgoOnlyDate(xe,oo)}if(F.toTime){let Ct=new Date(F.toTime);lt+=" - "+this.addZeroToTime(Ct.getHours())+":"+this.addZeroToTime(Ct.getMinutes())}lt+=pt?" ("+pt+")":"",F.timeSession=lt,I||(F.isExpanded=w?F.isExpanded:!F.outOfDate,F.isExpanded&&(I=!0))}),p}addZeroToTime(p){return p<10?"0"+p:p.toString()}getSchoolLeaveObjs(p,w){p.length&&!this.teacherRole?this.waitDestroy(this.studentService.apiStudentsAttendancesMeGet(this.classroomId).subscribe({next:N=>{p.map(I=>{I.studentAttendance=N.list.find(F=>F.sessionId==I.id)}),w(p)},error:N=>{this.errorStatusObj(N.error.message,!0),w(p)}})):w(p)}initData(p){p||(this.initStatusObj(),this.programSessionObjs=[],this.programObj=void 0,this.generalDocumentObjs=[]),this.groupProgramSessionObjs=[];let w=this.teacherRole?this.classroomService.apiClassroomsClassroomIdProgramsProgramIdGet(this.classroomId,0):this.classroomService.apiClassroomsClassroomIdStudentsProgramsProgramIdGet(this.classroomId,0);this.waitDestroy(w.subscribe({next:N=>{this.generalDocumentObjs=N.generalDocuments.map(F=>({...F,documentType:this.commonService.getEnumTypeWithDefault(x.s,F.type,x.s.unknown)})),this.programObj=N.program;let I=N.sessions.map(F=>({...F,isExpanded:!1,isLoadingData:!1,isDeletingDocument:!1,isUploadingDocument:!1,normalDocumentObjs:[],examHomeworkObjs:[],groupDocumentObjs:[],indexSession:0,yearSession:0,monthSession:0,allDocumentObjs:F.documents.map(W=>({...W,documentType:this.commonService.getEnumTypeWithDefault(x.s,W.type,x.s.unknown)}))}));I=this.convertDocumentsOfSession(I,!!p),this.getSchoolLeaveObjs(I,F=>{if(p){let Ct=F.find(xe=>xe.id==p.id);this.programSessionObjs=this.programSessionObjs.map(xe=>xe.id==Ct?.id?{...Ct,isExpanded:xe.isExpanded}:xe)}else this.programSessionObjs=F;this.sessionId&&this.programSessionObjs.map(Ct=>Ct.isExpanded=Ct.id==this.sessionId);let W=this.commonService.arrayToDictionary(this.programSessionObjs,Ct=>Ct.monthSession?.toString()+"/"+Ct.yearSession?.toString()),lt=this.commonService.myTranslateInstant("lang_core_thang")??"Th\xe1ng",pt=(new Date).getMonth()+1+"/"+(new Date).getFullYear();Object.entries(W).forEach(([Ct,xe],oo)=>{let io=xe.find(Zn=>Zn.isExpanded);this.groupProgramSessionObjs.push({monthName:lt+" "+Ct,programObjs:xe,expand:!(Ct!=pt&&!io)})}),this.stopStatusObj()})},error:N=>{this.errorApiMessage=N.error.message,this.errorStatusObj(N.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.initData(void 0)}constructor(p,w,N,I){super(),this.classroomService=p,this.timeService=w,this.studentService=N,this.activeRoute=I,this.sessionId=0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.errorApiMessage=""}}return b.\u0275fac=function(p){return new(p||b)(e.Y36(t.um),e.Y36(ut.D),e.Y36(t.VT),e.Y36(l.gz))},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-view-educational-program"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",sessionId:"sessionId"},features:[e.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-y","relative",2,"min-height","calc(100vh - 550px)"],[3,"teacherRole","classroomId","backLink","errorApiMessage","generalDocumentObjs","programSessionObjs","groupProgramSessionObjs","programObj","reloadSessionDataEmitter","changeSessionDataEmitter"]],template:function(p,w){if(1&p&&(e.YNc(0,no,1,0,"azt-loading-effect",0),e.YNc(1,Go,2,8,"ng-template",null,1,e.W1O)),2&p){const N=e.MAs(2);e.Q6J("ngIf",w.statusObj.loading)("ngIfElse",N)}},dependencies:[H.O5,St.l,Ho],encapsulation:2}),b})(),$o=(()=>{class b extends c.Q{ngOnInit(){this.waitDestroy((0,at.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let p=this.commonService.getMyQueryParam("backto");this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))??0,this.backLink=p??this.backLink??"/business/dashboard",this.sessionId=Number(this.commonService.getMyQueryParam("sessionId"))})),super.ngOnInit()}constructor(p){super(),this.activeRoute=p,this.classroomId=0,this.sessionId=0,this.backLink=""}}return b.\u0275fac=function(p){return new(p||b)(e.Y36(l.gz))},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-educational-program"]],inputs:{isStudent:"isStudent"},features:[e.qOj],decls:1,vars:4,consts:[[3,"teacherRole","classroomId","sessionId","backLink"]],template:function(p,w){1&p&&e._UZ(0,"app-view-educational-program",0),2&p&&e.Q6J("teacherRole",!w.isStudent)("classroomId",w.classroomId)("sessionId",w.sessionId)("backLink",w.backLink)},dependencies:[Vo],encapsulation:2}),b})()},86:(An,Rt,v)=>{v.d(Rt,{h:()=>mt});var at=v(56223),c=v(19347),e=v(72164),l=v(91765),x=v(65879),t=v(68172),ut=v(96814),H=v(67679),St=v(71646),ht=v(36727);function wt(_t,gt){1&_t&&(x.TgZ(0,"div",17),x._uU(1),x.ALo(2,"mytranslate"),x.qZA()),2&_t&&(x.xp6(1),x.hij(" *",x.lcZ(2,1,"lang_auto_vui_long_nhap_ten_dau_diem")," "))}function ct(_t,gt){if(1&_t&&(x.TgZ(0,"div",15)(1,"label",8),x._uU(2),x.ALo(3,"mytranslate"),x.qZA(),x._UZ(4,"input",16),x.ALo(5,"mytranslate"),x.YNc(6,wt,3,3,"div",10),x.qZA()),2&_t){const R=x.oxw();x.xp6(2),x.hij(" ",x.lcZ(3,3,"lang_student_name_component_score")," "),x.xp6(2),x.s9C("placeholder",x.lcZ(5,5,"lang_student_enter_name_component_score")),x.xp6(2),x.Q6J("ngIf",R.form.controls.name.dirty&&R.form.controls.name.errors)}}function i(_t,gt){if(1&_t&&(x.TgZ(0,"div",15)(1,"label",8),x._uU(2),x.ALo(3,"mytranslate"),x.qZA(),x._UZ(4,"input",18),x.ALo(5,"mytranslate"),x.qZA()),2&_t){const R=x.oxw();x.xp6(2),x.hij(" ",x.lcZ(3,3,"homework"==R.data.documentType?"lang_auto_bai_tap":"lang_auto_de_thi"),": "),x.xp6(2),x.s9C("placeholder",x.lcZ(5,5,"lang_student_enter_name_component_score")),x.Q6J("value",R.data.documentName)}}function yt(_t,gt){1&_t&&(x.TgZ(0,"div",17),x._uU(1),x.ALo(2,"mytranslate"),x.qZA()),2&_t&&(x.xp6(1),x.hij(" *",x.lcZ(2,1,"lang_auto_he_so_diem_phai_la_so")," "))}function st(_t,gt){1&_t&&(x.TgZ(0,"span",19),x._UZ(1,"azt-loading-ui"),x.qZA())}let mt=(()=>{class _t extends e.e{setValueCoeffcient(){var R=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(R)??0)}createStartingPoint(){let R={name:this.form.getRawValue().name,coefficient:this.form.getRawValue().coefficient,programId:this.data.programId,classroomId:this.data.classroomId,sessionId:this.data.sessionId};this.waitDestroy(this.data.id?this.commonMarkService.apiCommonMarksIdPut(this.data.id,R).subscribe(j=>{j?(this.showSuccessSnack("lang_core_sua_dau_diem_thanh_cong"),this.dialogRef.close(R)):this.errorStatusObj("lang_core_sua_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}):this.commonMarkService.apiCommonMarksPost(R).subscribe(j=>{j?(this.showSuccessSnack("lang_core_them_dau_diem_thanh_cong"),this.dialogRef.close(R)):this.errorStatusObj("lang_core_them_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}))}ngOnInit(){}constructor(R,j,J){super(J,j),this.commonMarkService=R,this.dialogRef=j,this.data=J,this.form=new at.cw({name:new at.NI({value:J.name??"",disabled:0==J.canEditName},{nonNullable:!0,validators:[at.kI.required,l._.noWhiteSpace]}),coefficient:new at.NI(J.coefficient,{nonNullable:!0,validators:[at.kI.required,at.kI.pattern(/^[1-9]\d*$/)]})})}}return _t.\u0275fac=function(R){return new(R||_t)(x.Y36(t.Q),x.Y36(c.so,8),x.Y36(c.WI))},_t.\u0275cmp=x.Xpm({type:_t,selectors:[["app-create-or-classroom"]],features:[x.qOj],decls:25,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"placeholder","input"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","text-right"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"value","placeholder"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(R,j){1&R&&(x.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),x._uU(5),x.ALo(6,"mytranslate"),x.qZA()(),x.TgZ(7,"div",5),x.YNc(8,ct,7,7,"div",6),x.YNc(9,i,6,7,"div",6),x.TgZ(10,"div",7)(11,"label",8),x._uU(12),x.ALo(13,"mytranslate"),x.qZA(),x.TgZ(14,"input",9),x.NdJ("input",function(){return j.setValueCoeffcient()}),x.ALo(15,"mytranslate"),x.qZA(),x.YNc(16,yt,3,3,"div",10),x.qZA()()(),x.TgZ(17,"div",11)(18,"button",12),x.NdJ("click",function(){return j.dialogRef.close()}),x._uU(19),x.ALo(20,"mytranslate"),x.qZA(),x.TgZ(21,"button",13),x.NdJ("click",function(){return j.createStartingPoint()}),x.YNc(22,st,2,0,"span",14),x._uU(23),x.ALo(24,"mytranslate"),x.qZA()()()()),2&R&&(x.xp6(1),x.Q6J("formGroup",j.form),x.xp6(4),x.hij(" ",x.lcZ(6,11,j.data.id?j.data.isOnlyCoefficient?"lang_student_edit_mark_coefficient":"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),x.xp6(3),x.Q6J("ngIf",!j.data.isOnlyCoefficient),x.xp6(1),x.Q6J("ngIf",j.data.isOnlyCoefficient),x.xp6(3),x.hij(" ",x.lcZ(13,13,"lang_student_score_factor")," "),x.xp6(2),x.s9C("placeholder",x.lcZ(15,15,"lang_student_enter_score_factor")),x.xp6(2),x.Q6J("ngIf",j.form.controls.coefficient.dirty&&j.form.controls.coefficient.errors),x.xp6(3),x.Oqu(x.lcZ(20,17,"lang_button_cancel")),x.xp6(2),x.Q6J("disabled",j.form.controls.name.errors&&!j.data.isOnlyCoefficient||j.form.controls.coefficient.errors),x.xp6(1),x.Q6J("ngIf",j.statusObj.loading),x.xp6(1),x.hij(" ",x.lcZ(24,19,"lang_button_save")," "))},dependencies:[ut.O5,at._Y,at.Fj,at.wV,at.JJ,at.JL,at.sg,at.u,H.M,St.n,ht.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box[_ngcontent-%COMP%]{margin-top:1px}.hidden-scroll[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hidden-scroll[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),_t})()},33195:(An,Rt,v)=>{v.d(Rt,{B:()=>en});var at=v(47496),c=v(89156),e=v(63278),l=v(86),x=v(29023),t=v(73445),ut=v(23680),H=v(19347),St=v(44683),ht=v(13217),wt=v(72164),ct=v(84003),i=v(65879),yt=v(46558),st=v(2783),mt=v(97151),_t=v(38228),gt=v(68719),R=v(96814),j=v(92596),J=v(91675),tt=v(78497),nt=v(71646),ot=v(48419),ft=v(77988),Mt=v(36727);function oe(Z,z){1&Z&&(i.TgZ(0,"span",13),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"lang_core_thang")))}function Ee(Z,z){if(1&Z&&(i.TgZ(0,"span",13),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z){const f=i.oxw();i.xp6(1),i.AsE("",i.lcZ(2,2,"lang_core_thang")," ",f.dataFilter.monthSelected,"")}}function ie(Z,z){1&Z&&(i.TgZ(0,"span",13),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"lang_core_nam")))}function _e(Z,z){if(1&Z&&(i.TgZ(0,"span",13),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z){const f=i.oxw();i.xp6(1),i.AsE("",i.lcZ(2,2,"lang_core_nam")," ",f.dataFilter.yearSelected,"")}}function Se(Z,z){1&Z&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"lang_auto_tat_ca")))}function ln(Z,z){if(1&Z&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z){const f=i.oxw().index;i.xp6(1),i.AsE("",i.lcZ(2,2,"lang_core_thang")," ",f,"")}}function cn(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"li",14),i.NdJ("click",function(){const G=i.CHM(f).index,dt=i.oxw();return i.KtG(dt.selectMonth(G))}),i.YNc(1,Se,3,3,"span",15),i.YNc(2,ln,3,4,"span",15),i.qZA()}if(2&Z){const f=z.index,A=i.oxw();i.Q6J("ngClass",A.dataFilter.monthSelected==f?"color-select":""),i.xp6(1),i.Q6J("ngIf",0==f),i.xp6(1),i.Q6J("ngIf",f>0)}}function Ne(Z,z){1&Z&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"lang_auto_tat_ca")))}function be(Z,z){if(1&Z&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z){const f=i.oxw().index,A=i.oxw();i.xp6(1),i.AsE("",i.lcZ(2,2,"lang_core_nam")," ",A.currentDate.getFullYear()-(f-1),"")}}function ue(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"li",16),i.NdJ("click",function(){const G=i.CHM(f).index,dt=i.oxw();return i.KtG(dt.selectYear(G))}),i.YNc(1,Ne,3,3,"span",15),i.YNc(2,be,3,4,"span",15),i.qZA()}if(2&Z){const f=z.index,A=i.oxw();i.Q6J("ngClass",!A.dataFilter.yearSelected||A.currentDate.getFullYear()-(A.dataFilter.yearSelected-1)!=f&&0!=A.dataFilter.yearSelected?"":"color-select"),i.xp6(1),i.Q6J("ngIf",0==f),i.xp6(1),i.Q6J("ngIf",f>0)}}const ve=function(){return[]};let Ge=(()=>{class Z extends at.Q{selectMonth(f){this.isApply=!0,this.dataFilter.monthSelected=f,this.sendFilter.emit(this.dataFilter)}selectYear(f){this.isApply=!0,this.dataFilter.yearSelected=f>0?this.currentDate.getFullYear()-(f-1):f,this.sendFilter.emit(this.dataFilter)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.sendFilter=new i.vpe,this.isLoading=!1,this.currentDate=new Date,this.isApply=!1,this.dataFilter={monthSelected:void 0,yearSelected:void 0}}}return Z.\u0275fac=function(f){return new(f||Z)},Z.\u0275cmp=i.Xpm({type:Z,selectors:[["azt-filter-box"]],inputs:{isLoading:"isLoading"},outputs:{sendFilter:"sendFilter"},features:[i.qOj],decls:24,vars:13,consts:[[1,"flex","items-center","font-medium"],[1,"font-medium","mr-2","color",2,"color","#1e40af"],[1,"border-box","hover","p-1","clickable","mr-1",3,"matMenuTriggerFor"],["class","p-1",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevron-down"],["d","m6 9 6 6 6-6"],["xPosition","before"],["filterByMonth","matMenu"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content","overflow-hidden","overflow-y-auto","h-56"],["azt-track-service","azt-filter-box-0A_xsGZ5B","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],["filterByYear","matMenu"],["azt-track-service","azt-filter-box-orpcyuG7jD","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-1"],["azt-track-service","azt-filter-box-0A_xsGZ5B",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"],[4,"ngIf"],["azt-track-service","azt-filter-box-orpcyuG7jD",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"]],template:function(f,A){if(1&f&&(i.TgZ(0,"div",0)(1,"div",1),i._uU(2),i.ALo(3,"mytranslate"),i.qZA(),i.TgZ(4,"div",2),i.YNc(5,oe,3,3,"span",3),i.YNc(6,Ee,3,4,"span",3),i.O4$(),i.TgZ(7,"svg",4),i._UZ(8,"path",5),i.qZA()(),i.kcU(),i.TgZ(9,"div",2),i.YNc(10,ie,3,3,"span",3),i.YNc(11,_e,3,4,"span",3),i.O4$(),i.TgZ(12,"svg",4),i._UZ(13,"path",5),i.qZA()()(),i.kcU(),i.TgZ(14,"mat-menu",6,7)(16,"div",8)(17,"ul",9),i.YNc(18,cn,3,3,"li",10),i.qZA()()(),i.TgZ(19,"mat-menu",6,11)(21,"div",8)(22,"ul",9),i.YNc(23,ue,3,3,"li",12),i.qZA()()()),2&f){const L=i.MAs(15),G=i.MAs(20);i.xp6(2),i.hij(" ",i.lcZ(3,9,"lang_testbank_tested_list_sort"),": "),i.xp6(2),i.Q6J("matMenuTriggerFor",L),i.xp6(1),i.Q6J("ngIf",!A.dataFilter.monthSelected),i.xp6(1),i.Q6J("ngIf",A.dataFilter.monthSelected&&A.dataFilter.monthSelected>0),i.xp6(3),i.Q6J("matMenuTriggerFor",G),i.xp6(1),i.Q6J("ngIf",!A.dataFilter.yearSelected),i.xp6(1),i.Q6J("ngIf",A.dataFilter.yearSelected&&A.dataFilter.yearSelected>0),i.xp6(7),i.Q6J("ngForOf",i.DdM(11,ve).constructor(13)),i.xp6(5),i.Q6J("ngForOf",i.DdM(12,ve).constructor(10))}},dependencies:[R.mk,R.sg,R.O5,ft.VK,ft.p6,Mt.JV],styles:[".w-max-content[_ngcontent-%COMP%]{width:-webkit-fill-available;min-width:max-content}.border-left[_ngcontent-%COMP%]{border-left:1px solid rgb(201,201,201)}.background-powderblue[_ngcontent-%COMP%]{background:powderblue}.hover[_ngcontent-%COMP%]:hover{background:mintcream}.color-select[_ngcontent-%COMP%]{background-color:#eef1f6}.border-box[_ngcontent-%COMP%]{border:1px solid #1e40af;padding:2px 5px;border-radius:10px}.box-name[_ngcontent-%COMP%]{background:lightgrey}"]}),Z})();var Pe=v(60381),mn=v(37722);const je=["table_score_student"];function Ve(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"div",11)(1,"button",12),i.NdJ("click",function(){i.CHM(f);const L=i.oxw();return i.KtG(L.downloadTableScore())}),i.TgZ(2,"div",13),i._UZ(3,"lucide-icon",14),i.qZA(),i.TgZ(4,"span"),i._uU(5),i.ALo(6,"mytranslate"),i.qZA()()()}2&Z&&(i.xp6(5),i.Oqu(i.lcZ(6,1,"lang_student_export_a_grade_sheet")))}function $e(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"div",15)(1,"lucide-icon",16),i.NdJ("click",function(){i.CHM(f);const L=i.oxw();return i.KtG(L.downloadTableScore())}),i.ALo(2,"mytranslate"),i.qZA(),i.O4$(),i.TgZ(3,"svg",17),i.NdJ("click",function(){i.CHM(f);const L=i.oxw();return i.KtG(L.closeDiaglog.emit(L.isEdit))}),i.ALo(4,"mytranslate"),i._UZ(5,"path",18)(6,"path",19),i.qZA()()}2&Z&&(i.xp6(1),i.s9C("matTooltip",i.lcZ(2,2,"lang_student_export_a_grade_sheet")),i.xp6(2),i.s9C("matTooltip",i.lcZ(4,4,"lang_auto_thoat")))}function pe(Z,z){1&Z&&i._UZ(0,"azt-loading-ui",26)}function dn(Z,z){if(1&Z&&(i.TgZ(0,"div",45),i._uU(1),i.ALo(2,"mytranslate"),i.ALo(3,"formatOnlyDateByUserUnitPipe"),i.qZA()),2&Z){const f=i.oxw().$implicit;i.xp6(1),i.AsE(" ",i.lcZ(2,2,"lang_student_profile_utils_homework_answer_created_at"),": ",i.lcZ(3,4,f.createdAt)," ")}}function Re(Z,z){if(1&Z&&(i.TgZ(0,"div",45)(1,"span"),i._uU(2),i.ALo(3,"mytranslate"),i.qZA(),i.TgZ(4,"span",46),i._uU(5),i.qZA()()),2&Z){const f=i.oxw().$implicit;i.xp6(2),i.Oqu(i.lcZ(3,2,"lang_auto_he_so")),i.xp6(3),i.Oqu(f.coefficient)}}function Sn(Z,z){if(1&Z&&(i.TgZ(0,"div",47),i._UZ(1,"azt-check-mark",48),i.qZA()),2&Z){const f=i.oxw().$implicit;i.xp6(1),i.Q6J("mark",f.marks.length>0?f.marks[0]:"")}}function _n(Z,z){if(1&Z&&(i.TgZ(0,"div",47),i._UZ(1,"azt-check-mark",48),i.qZA()),2&Z){const f=i.oxw().$implicit,A=i.oxw(2);i.xp6(1),i.Q6J("mark",A.returnValue(f))}}function Ke(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"input",49),i.NdJ("input",function(L){i.CHM(f);const G=i.oxw().$implicit,dt=i.oxw(2);return i.KtG(dt.handleMarkStudent(L,G.id))}),i.ALo(1,"mytranslate"),i.ALo(2,"mytranslate"),i.qZA()}if(2&Z){const f=i.oxw().$implicit,A=i.oxw(2);i.s9C("matTooltip",i.lcZ(1,4,"lang_core_diem_duoc_tach_boi_dau_cach")),i.MGl("id","input_point_",f.id.toString(),""),i.s9C("placeholder",i.lcZ(2,6,"lang_auto_nhap_diem")),i.Q6J("value",A.returnValue(f))}}function un(Z,z){1&Z&&(i.O4$(),i.TgZ(0,"svg",53),i.ALo(1,"mytranslate"),i.ALo(2,"mytranslate"),i._UZ(3,"path",32)(4,"path",33),i.qZA()),2&Z&&i.hYB("matTooltip","",i.lcZ(1,2,"lang_auto_sua")," ",i.lcZ(2,4,"lang_auto_diem"),"")}function Nn(Z,z){1&Z&&(i.O4$(),i.TgZ(0,"svg",54),i.ALo(1,"mytranslate"),i._UZ(2,"path",18)(3,"path",19),i.qZA()),2&Z&&i.s9C("matTooltip",i.lcZ(1,1,"lang_editor_common_cancel"))}function pn(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"button",50),i.NdJ("click",function(){i.CHM(f);const L=i.oxw().$implicit,G=i.oxw(2);return i.KtG(G.viewInput(L.id==G.inputPointSelect?-1:L.id))}),i.YNc(1,un,5,6,"svg",51),i.YNc(2,Nn,4,3,"svg",52),i.qZA()}if(2&Z){const f=i.oxw().$implicit,A=i.oxw(2);i.xp6(1),i.Q6J("ngIf",A.inputPointSelect!=f.id),i.xp6(1),i.Q6J("ngIf",A.inputPointSelect==f.id)}}function gn(Z,z){1&Z&&i._UZ(0,"azt-loading-ui",58)}function jn(Z,z){1&Z&&(i.O4$(),i.TgZ(0,"svg",59),i._UZ(1,"path",60),i.qZA())}function Mn(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"button",55),i.NdJ("click",function(){i.CHM(f);const L=i.oxw().$implicit,G=i.oxw(2);return i.KtG(G.saveMark(L))}),i.ALo(1,"mytranslate"),i.YNc(2,gn,1,0,"azt-loading-ui",56),i.YNc(3,jn,2,0,"svg",57),i.qZA()}if(2&Z){const f=i.oxw(3);i.s9C("matTooltip",i.lcZ(1,4,"lang_button_save")),i.Q6J("disabled",f.isSave),i.xp6(2),i.Q6J("ngIf",f.isSave),i.xp6(1),i.Q6J("ngIf",!f.isSave)}}function ge(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"tr")(1,"td")(2,"div",27)(3,"div"),i._uU(4),i.YNc(5,dn,4,6,"div",28),i.YNc(6,Re,6,4,"div",29),i.qZA(),i.TgZ(7,"button",30),i.NdJ("click",function(){const G=i.CHM(f).$implicit,dt=i.oxw(2);return i.KtG(dt.editScore(G))}),i.ALo(8,"mytranslate"),i.O4$(),i.TgZ(9,"svg",31),i._UZ(10,"path",32)(11,"path",33),i.qZA()()()(),i.kcU(),i.TgZ(12,"td",34)(13,"div",35),i.YNc(14,Sn,2,1,"div",36),i.YNc(15,_n,2,1,"div",36),i.YNc(16,Ke,3,8,"input",37),i.YNc(17,pn,3,2,"button",38),i.YNc(18,Mn,4,6,"button",39),i.qZA()(),i.TgZ(19,"td",40),i.O4$(),i.TgZ(20,"svg",41),i.NdJ("click",function(){const G=i.CHM(f).$implicit,dt=i.oxw(2);return i.KtG(dt.goToEditPoint(G))}),i.ALo(21,"mytranslate"),i._UZ(22,"path",42)(23,"polyline",43)(24,"line",44),i.qZA()()()}if(2&Z){const f=z.$implicit,A=i.oxw(2);i.xp6(4),i.hij(" ",f.name," "),i.xp6(1),i.Q6J("ngIf",f.createdAt&&!A.isStudent),i.xp6(1),i.Q6J("ngIf",f.coefficient),i.xp6(1),i.s9C("matTooltip",i.lcZ(8,10,"lang_student_sua_dau_diem")),i.xp6(7),i.Q6J("ngIf","homework"==f.objectType),i.xp6(1),i.Q6J("ngIf","homework"!=f.objectType&&A.inputPointSelect!=f.id),i.xp6(1),i.Q6J("ngIf","homework"!=f.objectType&&A.inputPointSelect==f.id),i.xp6(1),i.Q6J("ngIf",f.canEditMark&&!A.listMarkNew),i.xp6(1),i.Q6J("ngIf",f.canEditMark&&A.listMarkNew&&A.listMarkNew.id==f.id),i.xp6(2),i.s9C("matTooltip",i.lcZ(21,12,"lang_core_go_to_enter_score"))}}function X(Z,z){1&Z&&i._UZ(0,"azt-loading-ui",26)}const Te=function(){return[]};function ae(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"azt-mat-dialog-content")(1,"div",20),i.YNc(2,pe,1,0,"azt-loading-ui",21),i.TgZ(3,"azt-filter-box",22),i.NdJ("sendFilter",function(L){i.CHM(f);const G=i.oxw();return i.KtG(G.filterData(L))}),i.qZA()(),i.TgZ(4,"table",23)(5,"tbody"),i.YNc(6,ge,25,14,"tr",10),i.TgZ(7,"tr")(8,"td"),i._uU(9),i.ALo(10,"mytranslate"),i.qZA(),i.TgZ(11,"td",24)(12,"div",25),i.YNc(13,X,1,0,"azt-loading-ui",21),i._uU(14),i.qZA()()()()()()}if(2&Z){const f=i.oxw();let A;i.xp6(2),i.Q6J("ngIf",f.statusObj.loading),i.xp6(4),i.Q6J("ngForOf",null!==(A=f.data.marks)&&void 0!==A?A:i.DdM(8,Te)),i.xp6(3),i.hij(" ",i.lcZ(10,6,"lang_business_diem_tong_ket")," "),i.xp6(2),i.Q6J("colSpan",2),i.xp6(2),i.Q6J("ngIf",f.isSave),i.xp6(1),i.hij(" ",f.data.averageMark," ")}}function Ue(Z,z){if(1&Z&&(i.TgZ(0,"div",45)(1,"span"),i._uU(2),i.ALo(3,"mytranslate"),i.qZA(),i.TgZ(4,"span",46),i._uU(5),i.qZA()()),2&Z){const f=i.oxw().$implicit;i.xp6(2),i.Oqu(i.lcZ(3,2,"lang_auto_he_so")),i.xp6(3),i.Oqu(f.coefficient)}}function Ce(Z,z){if(1&Z&&(i.TgZ(0,"div",47),i._UZ(1,"azt-check-mark",48),i.qZA()),2&Z){const f=i.oxw().$implicit;i.xp6(1),i.Q6J("mark",f.marks.length>0?f.marks[0]:"")}}function ke(Z,z){if(1&Z&&(i.TgZ(0,"div",47),i._UZ(1,"azt-check-mark",48),i.qZA()),2&Z){const f=i.oxw().$implicit,A=i.oxw(2);i.xp6(1),i.Q6J("mark",A.returnValue(f))}}function Nt(Z,z){if(1&Z&&(i.TgZ(0,"tr")(1,"td")(2,"div",27)(3,"div"),i._uU(4),i.YNc(5,Ue,6,4,"div",29),i.qZA()()(),i.TgZ(6,"td",65),i.YNc(7,Ce,2,1,"div",36),i.YNc(8,ke,2,1,"div",36),i.qZA()()),2&Z){const f=z.$implicit;i.xp6(4),i.hij(" ",f.name," "),i.xp6(1),i.Q6J("ngIf",f.coefficient),i.xp6(2),i.Q6J("ngIf","homework"==f.objectType),i.xp6(1),i.Q6J("ngIf","homework"!=f.objectType)}}function we(Z,z){if(1&Z&&(i.TgZ(0,"table",61)(1,"thead")(2,"tr")(3,"th",62),i._uU(4),i.ALo(5,"mytranslate"),i.qZA(),i.TgZ(6,"th",63),i._uU(7),i.ALo(8,"mytranslate"),i.qZA()()(),i.TgZ(9,"tbody"),i.YNc(10,Nt,9,4,"tr",10),i.TgZ(11,"tr")(12,"td"),i._uU(13),i.ALo(14,"mytranslate"),i.qZA(),i.TgZ(15,"td")(16,"div",64),i._uU(17),i.qZA()()()()()),2&Z){const f=i.oxw();let A;i.xp6(4),i.Oqu(i.lcZ(5,5,"lang_student_name_component_score")),i.xp6(3),i.Oqu(i.lcZ(8,7,"lang_testbank_update_exam_point")),i.xp6(3),i.Q6J("ngForOf",null!==(A=f.data.marks)&&void 0!==A?A:i.DdM(11,Te)),i.xp6(3),i.hij(" ",i.lcZ(14,9,"lang_business_diem_tong_ket")," "),i.xp6(4),i.hij(" ",f.data.averageMark," ")}}function ze(Z,z){if(1&Z&&i._UZ(0,"azt-check-mark",48),2&Z){const f=i.oxw().$implicit;i.Q6J("mark",f.marks.length>0?f.marks[0]:"")}}function hn(Z,z){if(1&Z&&i._UZ(0,"azt-check-mark",48),2&Z){const f=i.oxw().$implicit,A=i.oxw();i.Q6J("mark",A.returnValue(f))}}function ne(Z,z){if(1&Z&&(i.TgZ(0,"tr")(1,"td",9),i._uU(2),i.qZA(),i.TgZ(3,"td",9),i._uU(4),i.qZA(),i.TgZ(5,"td",9),i._uU(6),i.qZA(),i.TgZ(7,"td",9),i.YNc(8,ze,1,1,"azt-check-mark",66),i.YNc(9,hn,1,1,"azt-check-mark",66),i.qZA()()),2&Z){const f=z.$implicit,A=z.index,L=i.oxw();i.xp6(1),i.uIk("excelRow",A+1)("excelColumn",0)("excelStyle",L.styleTdNormal),i.xp6(1),i.hij(" ",f.name?A+1:""," "),i.xp6(1),i.uIk("excelRow",A+1)("excelColumn",1)("excelStyle",L.styleTdNormalLeft),i.xp6(1),i.hij(" ",f.name," "),i.xp6(1),i.uIk("excelRow",A+1)("excelColumn",2)("excelStyle",L.styleTdNotNumberNormal),i.xp6(1),i.hij(" ",f.coefficient," "),i.xp6(1),i.uIk("excelRow",A+1)("excelColumn",3)("excelStyle",L.styleTdNotNumberNormal),i.xp6(1),i.Q6J("ngIf","homework"==f.objectType),i.xp6(1),i.Q6J("ngIf","homework"!=f.objectType)}}let kt=(()=>{class Z extends at.Q{filterData(f){this.dataFilter=f,this.initStatusObj(),this.getStudent()}getStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.classroomId,getBook:!1,getMark:!0,getAttendance:!1,getPayment:!1,me:this.isStudent??!1}).subscribe({next:A=>{A.list.length>0&&(this.data=A.list[0]),this.stopStatusObj()},error:A=>{this.errorStatusObj(A.error.message,!0)}}))}downloadTableScore(){c.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var f=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_score_student,!0);let A=this.commonService.createFileNameExportFile(["bang_diem_hoc_sinh"+this.data.fullName])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(f,A),c.G.closeLoadingEffect(200)}goToEditPoint(f){this.closeDiaglog.emit(),this.myNavigationWithQueryString("/admin/student/submit-score/"+f.classroomId+"/"+f.programId+"/"+f.sessionId,"?studentId="+this.data.id)}viewInput(f){this.inputPointSelect=f}handleMarkStudent(f,A){var L=this.commonService.handlePointByValueInput(f);this.listMarkNew={id:A,points:L.length>0?L:[-1]}}saveMark(f){this.isSave=!0,this.listMarkNew&&this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:f.programId,classroomId:f.classroomId,sessionId:f.sessionId,students:[{id:this.data.id,listMarks:[this.listMarkNew]}]}).subscribe(L=>{L?(this.data.marks?.filter(G=>G.id==f.id)?.forEach(G=>G.marks=this.listMarkNew?.points?.find(dt=>-1==dt)?[]:this.listMarkNew?.points??G.marks),this.getStudent(),this.listMarkNew=void 0,this.inputPointSelect=-1,this.isEdit=!0,this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)):this.errorStatusObj("lang_auto_cap_nhat_diem_khong_thanh_cong",!0),this.isSave=!1}))}editScore(f){f&&this.sAztDialogService.open(l.h,{data:{...f,canEditName:f.canEditMark},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(A=>{if(A){try{var L=this.data.marks?.find(G=>G.id==f.id);L&&(L.coefficient=A.coefficient,L.name=A.name)}catch{}this.isEdit=!0}})}returnValue(f){return(f.marks??[]).join(" ")}ngOnInit(){super.ngOnInit()}constructor(f,A,L,G,dt){super(),this.sAztDialogService=f,this.sAztTimeService=A,this.shareFileFlutterService=L,this.exportExcelService=G,this.studentService=dt,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.closeDiaglog=new i.vpe,this.inputPointSelect=-1,this.isSave=!1,this.isEdit=!1,this.commonService=(0,i.f3M)(yt.z)}ngOnDestroy(){super.ngOnDestroy()}}return Z.\u0275fac=function(f){return new(f||Z)(i.Y36(st.C),i.Y36(ct.D),i.Y36(mt.g),i.Y36(_t.L),i.Y36(gt.V))},Z.\u0275cmp=i.Xpm({type:Z,selectors:[["azt-view-table-score-single"]],viewQuery:function(f,A){if(1&f&&i.Gf(je,5),2&f){let L;i.iGM(L=i.CRH())&&(A.table_score_student=L.first)}},inputs:{data:"data",isStudent:"isStudent"},outputs:{closeDiaglog:"closeDiaglog"},features:[i._Bn([{provide:x.fM,useClass:St.WG,deps:[ut.Ad,t.o8]},{provide:x.ab,useFactory:ht.fX,deps:[ct.D]}]),i.qOj],decls:34,vars:58,consts:[["class","flex justify-end mb-5",4,"ngIf"],[1,"box"],[1,"pt-5","px-5","flex","justify-between","items-start"],[3,"name","phone","email","avatar","gender","hasUser"],["class","flex",4,"ngIf"],[4,"ngIf"],["class","table table-report","style","white-space: initial; display: table",4,"ngIf"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score_student",""],[1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","mb-5"],["azt-track-service","view-table-score-single-vS0yZHQHw",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],[1,"w-4","mr-2"],["name","download"],[1,"flex"],["name","download",1,"clickable",2,"width","20px !important","height","20px !important",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","ml-2",3,"matTooltip","click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"pt-3","px-5","flex","justify-end","items-center"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[3,"sendFilter"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[3,"colSpan"],[1,"flex","justify-center","font-bold","items-center"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"flex","items-center"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp",1,"w-5","h-5","inline-block","ml-1",2,"color","gray",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],[1,"text-center",2,"padding","0"],[1,"flex","items-center",2,"position","relative"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltip","id","value","placeholder","input",4,"ngIf"],["azt-track-service","view-table-score-single-lX3L0QoGBo","class","inline-block btn-edit-point zoom-in",3,"click",4,"ngIf"],["azt-track-service","view-table-score-single-uJE-8eAu46","class","inline-block btn-edit-point zoom-in",3,"matTooltip","disabled","click",4,"ngIf"],[1,"text-center",2,"padding","0 10px 0 0"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-external-link","zoom-in","clickable",2,"color","gray",3,"matTooltip","click"],["d","M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"],["points","15 3 21 3 21 9"],["x1","10","x2","21","y1","14","y2","3"],[1,"mt-0.5","text-xs","text-slate-500"],[1,"inline-block","ml-1"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltip","id","value","placeholder","input"],["azt-track-service","view-table-score-single-lX3L0QoGBo",1,"inline-block","btn-edit-point","zoom-in",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-pencil",3,"matTooltip",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-x",3,"matTooltip",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil",3,"matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x",3,"matTooltip"],["azt-track-service","view-table-score-single-uJE-8eAu46",1,"inline-block","btn-edit-point","zoom-in",3,"matTooltip","disabled","click"],["class","loading-upload","type","bootstrap-spinner",4,"ngIf"],["style","color: green;","xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-check",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-check",2,"color","green"],["d","M20 6 9 17l-5-5"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"flex","justify-center","font-bold"],[1,"text-center"],[3,"mark",4,"ngIf"]],template:function(f,A){if(1&f&&(i.YNc(0,Ve,7,3,"div",0),i.TgZ(1,"div",1)(2,"div",2),i._UZ(3,"azt-student-info-box",3),i.YNc(4,$e,7,6,"div",4),i.qZA(),i.YNc(5,ae,15,9,"azt-mat-dialog-content",5),i.YNc(6,we,18,12,"table",6),i.qZA(),i.TgZ(7,"table",7,8)(9,"thead")(10,"tr")(11,"th",9),i._uU(12),i.ALo(13,"mytranslate"),i.qZA(),i.TgZ(14,"th",9),i._uU(15),i.ALo(16,"mytranslate"),i.qZA(),i.TgZ(17,"th",9),i._uU(18),i.ALo(19,"mytranslate"),i.qZA(),i.TgZ(20,"th",9),i._uU(21),i.ALo(22,"mytranslate"),i.qZA()()(),i.TgZ(23,"tbody"),i.YNc(24,ne,10,17,"tr",10),i.TgZ(25,"tr")(26,"td",9),i._uU(27),i.qZA(),i.TgZ(28,"td",9),i._uU(29),i.ALo(30,"mytranslate"),i.qZA(),i._UZ(31,"td"),i.TgZ(32,"td",9),i._uU(33),i.qZA()()()()),2&f){let L,G,dt,Pt,Xt,te;i.Q6J("ngIf",A.isStudent),i.xp6(3),i.Q6J("name",A.data.fullName)("phone",A.data.phone)("email",A.data.email)("avatar",A.data.avatar)("gender",A.data.gender)("hasUser",A.data.hasUser),i.xp6(1),i.Q6J("ngIf",!A.isStudent),i.xp6(1),i.Q6J("ngIf",!A.isStudent),i.xp6(1),i.Q6J("ngIf",A.isStudent),i.xp6(1),i.Q6J("border",1),i.xp6(4),i.uIk("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",A.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(13,47,"lang_student_export_excel_no")," "),i.xp6(2),i.uIk("excelWidth",10)("excelRow",0)("excelColumn",1)("excelStyle",A.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(16,49,"lang_student_name_component_score")," "),i.xp6(2),i.uIk("excelWidth",10)("excelRow",0)("excelColumn",2)("excelStyle",A.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(19,51,"lang_auto_he_so")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",A.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(22,53,"lang_testbank_update_exam_point")," "),i.xp6(3),i.Q6J("ngForOf",null!==(L=A.data.marks)&&void 0!==L?L:i.DdM(57,Te)),i.xp6(2),i.uIk("excelRow",(null!==(G=null==A.data.marks?null:A.data.marks.length)&&void 0!==G?G:0)+1)("excelColumn",0)("excelStyle",A.styleTdNormal),i.xp6(1),i.hij(" ",(null!==(dt=null==A.data.marks?null:A.data.marks.length)&&void 0!==dt?dt:0)+1," "),i.xp6(1),i.uIk("excelRow",(null!==(Pt=null==A.data.marks?null:A.data.marks.length)&&void 0!==Pt?Pt:0)+1)("excelColumn",1)("excelStyle",A.styleTdNormal),i.xp6(1),i.hij(" ",i.lcZ(30,55,"lang_business_diem_tong_ket")," "),i.xp6(2),i.uIk("excelRow",(null!==(Xt=null==A.data.marks?null:A.data.marks.length)&&void 0!==Xt?Xt:0)+1)("excelColumn",3)("excelStyle",A.styleTdNormal),i.xp6(1),i.uIk("excelRow",(null!==(te=null==A.data.marks?null:A.data.marks.length)&&void 0!==te?te:0)+1)("excelColumn",4)("excelStyle",A.styleTdNotNumberNormal),i.xp6(1),i.hij(" ",A.data.averageMark," ")}},dependencies:[R.sg,R.O5,j.gM,J.B,tt.R,nt.n,ot.a,Ge,Pe.$Z,mn.Nh5,Mt.JV,Mt.YK],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),Z})(),Fe=(()=>{class Z extends wt.e{closeDiaglog(f){this.dialogRef.close(f)}ngOnInit(){super.ngOnInit()}constructor(f,A){super(A,f),this.dialogRef=f,this.data=A}ngOnDestroy(){super.ngOnDestroy()}}return Z.\u0275fac=function(f){return new(f||Z)(i.Y36(H.so,8),i.Y36(H.WI,8))},Z.\u0275cmp=i.Xpm({type:Z,selectors:[["azt-table-score-single"]],features:[i._Bn([{provide:x.fM,useClass:St.WG,deps:[ut.Ad,t.o8]},{provide:x.ab,useFactory:ht.fX,deps:[ct.D]}]),i.qOj],decls:1,vars:1,consts:[[3,"data","closeDiaglog"]],template:function(f,A){1&f&&(i.TgZ(0,"azt-view-table-score-single",0),i.NdJ("closeDiaglog",function(G){return A.closeDiaglog(G)}),i.qZA()),2&f&&i.Q6J("data",A.data)},dependencies:[kt],encapsulation:2}),Z})();var zt=v(52572),ye=v(93283),Yt=v(68172),he=v(59708),se=v(21266),me=v(43389),We=v(83306),Xe=v(51261),fn=v(25368);const xn=["table_score"];function tn(Z,z){1&Z&&(i.TgZ(0,"div",6)(1,"h3",7),i._uU(2),i.ALo(3,"mytranslate"),i.qZA()()),2&Z&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"lang_student_enter_score")))}function bn(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"button",17),i.NdJ("click",function(){i.CHM(f);const L=i.oxw(2);return i.KtG(L.createNewScore())}),i.O4$(),i.TgZ(1,"svg",18),i._UZ(2,"line",19)(3,"line",20),i.qZA(),i.kcU(),i.TgZ(4,"span"),i._uU(5),i.ALo(6,"mytranslate"),i.qZA()()}2&Z&&(i.xp6(5),i.Oqu(i.lcZ(6,1,"lang_student_enter_new_component_score")))}function vn(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"button",21),i.NdJ("click",function(){i.CHM(f);const L=i.oxw(2);return i.KtG(L.downloadTableScore())}),i.TgZ(1,"div",22),i._UZ(2,"lucide-icon",23),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.ALo(5,"mytranslate"),i.qZA()()}2&Z&&(i.xp6(4),i.Oqu(i.lcZ(5,1,"lang_student_export_a_grade_sheet")))}function It(Z,z){1&Z&&i._UZ(0,"azt-loading-ui",26)}function Kt(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"button",24),i.NdJ("click",function(){i.CHM(f);const L=i.oxw(2);return i.KtG(L.saveMark())}),i.YNc(1,It,1,0,"azt-loading-ui",25),i._uU(2),i.ALo(3,"mytranslate"),i.qZA()}if(2&Z){const f=i.oxw(2);i.Q6J("disabled",0==f.listStudentMark.length||f.isSave),i.xp6(1),i.Q6J("ngIf",f.isSave),i.xp6(1),i.hij(" ",i.lcZ(3,3,"lang_auto_luu")," ")}}function Tn(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"azt-search-box",11),i.NdJ("onSearch",function(L){i.CHM(f);const G=i.oxw();return i.KtG(G.onSearchBox(L.searchObj))}),i.ALo(4,"mytranslate"),i.qZA()(),i.TgZ(5,"div",12),i.YNc(6,bn,7,3,"button",13),i.YNc(7,vn,6,3,"button",14),i.TgZ(8,"flexed-on-the-top",15),i.YNc(9,Kt,4,5,"button",16),i.qZA()()()()}if(2&Z){const f=i.oxw();i.xp6(3),i.Q6J("isServerSearch",!0)("placeholder",i.lcZ(4,6,"lang_core_tim_theo_ten_phone_email")),i.xp6(3),i.Q6J("ngIf","ENTER_SCORE"==f.screenType),i.xp6(1),i.Q6J("ngIf","TABLE_SCORE"==f.screenType),i.xp6(1),i.Q6J("colorBackground","#f0f8ffe8"),i.xp6(1),i.Q6J("ngIf","ENTER_SCORE"==f.screenType)}}function Cn(Z,z){1&Z&&i._UZ(0,"azt-loading-effect")}function y(Z,z){1&Z&&(i.TgZ(0,"div",32),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function q(Z,z){if(1&Z&&(i.TgZ(0,"div",48)(1,"span"),i._uU(2),i.ALo(3,"mytranslate"),i.qZA(),i.TgZ(4,"span",49),i._uU(5),i.qZA()()),2&Z){const f=i.oxw().$implicit;i.xp6(2),i.Oqu(i.lcZ(3,2,"lang_auto_he_so")),i.xp6(3),i.Oqu(f.coefficient)}}function T(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"button",50),i.NdJ("click",function(){i.CHM(f);const L=i.oxw().$implicit,G=i.oxw(3);return i.KtG(G.createNewScore(L))}),i.ALo(1,"mytranslate"),i.O4$(),i.TgZ(2,"svg",51),i._UZ(3,"path",52)(4,"path",53),i.qZA()()}2&Z&&i.s9C("matTooltip",i.lcZ(1,1,"lang_student_sua_dau_diem"))}function O(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"button",54),i.NdJ("click",function(){i.CHM(f);const L=i.oxw().$implicit,G=i.oxw(3);return i.KtG(G.deleteMark(L))}),i.ALo(1,"mytranslate"),i.O4$(),i.TgZ(2,"svg",55),i._UZ(3,"path",56)(4,"path",57)(5,"path",58)(6,"line",59)(7,"line",60),i.qZA()()}2&Z&&i.s9C("matTooltip",i.lcZ(1,1,"lang_button_delete"))}function P(Z,z){if(1&Z&&(i.TgZ(0,"th",40)(1,"div",41)(2,"div",42)(3,"div",43),i._uU(4),i.qZA(),i.TgZ(5,"div",44),i.YNc(6,q,6,4,"div",45),i.YNc(7,T,5,3,"button",46),i.YNc(8,O,8,3,"button",47),i.qZA()()()()),2&Z){const f=z.$implicit,A=i.oxw(3);i.xp6(3),i.s9C("matTooltip",f.name),i.xp6(1),i.Oqu(f.name),i.xp6(2),i.Q6J("ngIf",f.coefficient),i.xp6(1),i.Q6J("ngIf",!A.isStudent),i.xp6(1),i.Q6J("ngIf",f.canEditName)}}function it(Z,z){1&Z&&(i.TgZ(0,"th",61),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"lang_business_diem_tong_ket")))}function xt(Z,z){if(1&Z&&(i.TgZ(0,"div",71),i._UZ(1,"azt-check-mark",72),i.qZA()),2&Z){const f=i.oxw().$implicit;i.xp6(1),i.Q6J("mark",f.marks.length>0?f.marks[0]:"")}}function fe(Z,z){if(1&Z&&(i.TgZ(0,"div",71),i._UZ(1,"azt-check-mark",72),i.qZA()),2&Z){const f=i.oxw().$implicit,A=i.oxw(4);i.xp6(1),i.Q6J("mark",A.returnValue(f))}}function qt(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"input",73),i.NdJ("input",function(L){i.CHM(f);const G=i.oxw().index,dt=i.oxw().index,Pt=i.oxw(3);return i.KtG(Pt.handleMarkStudent(L,dt,G))}),i.ALo(1,"mytranslate"),i.ALo(2,"mytranslate"),i.qZA()}if(2&Z){const f=i.oxw().$implicit,A=i.oxw().$implicit,L=i.oxw(3);i.s9C("matTooltip",i.lcZ(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),i.s9C("id",f.id.toString()+"-"+A.id.toString()),i.s9C("placeholder",i.lcZ(2,7,"lang_auto_nhap_diem")),i.Q6J("matTooltipDisabled",!f.canEditMark)("value",L.returnValue(f))}}function Bn(Z,z){if(1&Z&&(i.TgZ(0,"td",67),i.YNc(1,xt,2,1,"div",68),i.YNc(2,fe,2,1,"div",68),i.YNc(3,qt,3,9,"input",69),i._UZ(4,"div",70),i.qZA()),2&Z){const f=z.$implicit,A=i.oxw().$implicit,L=i.oxw(3);i.Q6J("hidden","TABLE_SCORE"==L.screenType),i.xp6(1),i.Q6J("ngIf","homework"==f.objectType),i.xp6(1),i.Q6J("ngIf","homework"!=f.objectType&&(!f.canEditMark||"ENTER_SCORE"!=L.screenType)),i.xp6(1),i.Q6J("ngIf","homework"!=f.objectType&&f.canEditMark),i.xp6(1),i.MGl("id","error-",f.id.toString()+"-"+A.id.toString(),""),i.Q6J("hidden",!0)}}function In(Z,z){if(1&Z&&(i.TgZ(0,"td")(1,"div",74),i._uU(2),i.qZA()()),2&Z){const f=i.oxw().$implicit;i.xp6(2),i.hij(" ",f.averageMark," ")}}const Oe=function(){return[]};function Ot(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"tr",62)(1,"td",63),i.NdJ("click",function(){const G=i.CHM(f).$implicit,dt=i.oxw(3);return i.KtG(dt.openDialogTableSingle(G))}),i._UZ(2,"azt-student-info-box",64),i.qZA(),i.TgZ(3,"td",65),i._uU(4),i.ALo(5,"formatStudentCodeToNumber"),i.qZA(),i.YNc(6,Bn,5,6,"td",66),i.YNc(7,In,3,1,"td",30),i.qZA()}if(2&Z){const f=z.$implicit,A=i.oxw(3);let L;i.Q6J("id","row_student_"+f.id),i.xp6(2),i.Q6J("name",f.fullName)("phone",f.phone)("email",f.email)("avatar",f.avatar)("gender",f.gender)("hasUser",f.hasUser),i.xp6(2),i.Oqu(f.identificationNumber?i.xi3(5,10,f.identificationNumber,6):""),i.xp6(2),i.Q6J("ngForOf",null!==(L=f.marks)&&void 0!==L?L:i.DdM(13,Oe)),i.xp6(1),i.Q6J("ngIf","TABLE_SCORE"==A.screenType)}}function Gt(Z,z){if(1&Z&&(i.TgZ(0,"div",33)(1,"drag-scroll")(2,"table",34)(3,"thead")(4,"tr")(5,"th",35),i._uU(6),i.ALo(7,"mytranslate"),i.qZA(),i.TgZ(8,"th",36),i._uU(9),i.ALo(10,"mytranslate"),i.qZA(),i.YNc(11,P,9,5,"th",37),i.YNc(12,it,3,3,"th",38),i.qZA()(),i.TgZ(13,"tbody"),i.YNc(14,Ot,8,14,"tr",39),i.qZA()()()()),2&Z){const f=i.oxw(2);let A,L;i.xp6(6),i.Oqu(i.lcZ(7,5,"lang_auto_ho_va_ten")),i.xp6(3),i.Oqu(i.lcZ(10,7,"lang_auto_so_bao_danh")),i.xp6(2),i.Q6J("ngForOf",null!==(A=null==f.dataMark?null:f.dataMark.list)&&void 0!==A?A:i.DdM(9,Oe)),i.xp6(1),i.Q6J("ngIf","TABLE_SCORE"==f.screenType),i.xp6(2),i.Q6J("ngForOf",null!==(L=null==f.dataStudent?null:f.dataStudent.list)&&void 0!==L?L:i.DdM(10,Oe))}}function Wt(Z,z){if(1&Z&&(i.TgZ(0,"div"),i._UZ(1,"azt-view-table-score-single",76),i.qZA()),2&Z){const f=z.$implicit,A=i.oxw(3);i.xp6(1),i.Q6J("data",f)("isStudent",A.isStudent)}}function Me(Z,z){if(1&Z&&(i.TgZ(0,"div"),i.YNc(1,Wt,2,2,"div",75),i.qZA()),2&Z){const f=i.oxw(2);let A;i.xp6(1),i.Q6J("ngForOf",null!==(A=null==f.dataStudent?null:f.dataStudent.list)&&void 0!==A?A:i.DdM(1,Oe))}}function Ln(Z,z){if(1&Z){const f=i.EpF();i.TgZ(0,"azt-paging",80),i.NdJ("goToPaginationPage",function(L){i.CHM(f);const G=i.oxw(3);return i.KtG(G.setPageStudent(L))}),i.ALo(1,"ceilTotalPage"),i.qZA()}if(2&Z){const f=i.oxw(3);i.Q6J("totalPaginationPage",i.xi3(1,2,f.dataStudent.total,20))("paging",f.pageStudent)}}function Dn(Z,z){if(1&Z&&(i.TgZ(0,"div",12),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z){const f=i.oxw(3);i.xp6(1),i.AsE(" ",f.dataStudent.total," ",i.lcZ(2,2,"lang_notify_list_students")," ")}}function Hn(Z,z){if(1&Z&&(i.TgZ(0,"div",77),i._UZ(1,"div"),i.YNc(2,Ln,2,5,"azt-paging",78),i.YNc(3,Dn,3,4,"div",79),i.qZA()),2&Z){const f=i.oxw(2);i.xp6(2),i.Q6J("ngIf",f.dataStudent.total>20),i.xp6(1),i.Q6J("ngIf",!f.isStudent)}}function Ze(Z,z){if(1&Z&&(i.TgZ(0,"div",27),i.YNc(1,y,3,3,"div",28),i.YNc(2,Gt,15,11,"div",29),i.YNc(3,Me,2,2,"div",30),i.qZA(),i.YNc(4,Hn,4,2,"div",31)),2&Z){const f=i.oxw();let A,L,G;i.xp6(1),i.Q6J("ngIf",!f.isStudent&&0==(null==f.dataStudent||null==f.dataStudent.list?null:f.dataStudent.list.length)&&0==(null!==(A=null==f.dataStudent?null:f.dataStudent.total)&&void 0!==A?A:0)),i.xp6(1),i.Q6J("ngIf",!f.isStudent&&(null!==(L=null==f.dataStudent||null==f.dataStudent.list?null:f.dataStudent.list.length)&&void 0!==L?L:0)>0),i.xp6(1),i.Q6J("ngIf",f.isStudent),i.xp6(1),i.Q6J("ngIf",f.dataStudent&&f.dataStudent.total&&(null!==(G=null==f.dataStudent?null:f.dataStudent.total)&&void 0!==G?G:0)>0)}}function Vt(Z,z){if(1&Z&&(i.TgZ(0,"th",83),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&Z){const f=z.$implicit,A=z.index,L=i.oxw(2);i.uIk("excelWidth",20)("excelRow",0)("excelColumn",6+A)("excelStyle",L.styleThNormal),i.xp6(1),i.AsE(" ",f.name+"\n"," "," ("+i.lcZ(2,6,"lang_auto_he_so")+" "+f.coefficient+")"," ")}}function Dt(Z,z){if(1&Z&&i._UZ(0,"azt-check-mark",72),2&Z){const f=i.oxw().$implicit;i.Q6J("mark",f.marks.length>0?f.marks[0]:"")}}function de(Z,z){if(1&Z&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&Z){const f=i.oxw().$implicit,A=i.oxw(3);i.xp6(1),i.hij(" ",A.returnValue(f)," ")}}function re(Z,z){if(1&Z&&(i.TgZ(0,"td",83),i.YNc(1,Dt,1,1,"azt-check-mark",85),i.YNc(2,de,2,1,"span",30),i.qZA()),2&Z){const f=z.$implicit,A=z.index,L=i.oxw().index,G=i.oxw(2);i.uIk("excelRow",L+1)("excelColumn",6+A)("excelStyle",G.styleTdNormal),i.xp6(1),i.Q6J("ngIf","homework"==f.objectType),i.xp6(1),i.Q6J("ngIf","homework"!=f.objectType)}}function En(Z,z){if(1&Z&&(i.TgZ(0,"tr")(1,"td",83),i._uU(2),i.qZA(),i.TgZ(3,"td",83),i._uU(4),i.qZA(),i.TgZ(5,"td",83),i._uU(6),i.qZA(),i.TgZ(7,"td",83),i._uU(8),i.qZA(),i.TgZ(9,"td",83),i._uU(10),i.ALo(11,"formatOnlyDateByUserUnitPipe"),i.qZA(),i.TgZ(12,"td",83),i._uU(13),i.ALo(14,"mytranslate"),i.ALo(15,"mytranslate"),i.qZA(),i.YNc(16,re,3,5,"td",84),i.TgZ(17,"td",83),i._uU(18),i.qZA()()),2&Z){const f=z.$implicit,A=z.index,L=i.oxw(2);let G,dt;i.xp6(1),i.uIk("excelRow",A+1)("excelColumn",0)("excelStyle",L.styleTdNormal),i.xp6(1),i.hij(" ",null!=f&&f.fullName?A+1:""," "),i.xp6(1),i.uIk("excelRow",A+1)("excelColumn",1)("excelStyle",L.styleTdNormalLeft),i.xp6(1),i.hij(" ",null==f?null:f.fullName," "),i.xp6(1),i.uIk("excelRow",A+1)("excelColumn",2)("excelStyle",L.styleTdNotNumberNormal),i.xp6(1),i.hij(" ",null==f?null:f.phone," "),i.xp6(1),i.uIk("excelRow",A+1)("excelColumn",3)("excelStyle",L.styleTdNormal),i.xp6(1),i.hij(" ",null==f?null:f.email," "),i.xp6(1),i.uIk("excelRow",A+1)("excelColumn",4)("excelStyle",L.styleTdNormal),i.xp6(1),i.hij(" ",i.lcZ(11,29,null==f?null:f.birthday)," "),i.xp6(2),i.uIk("excelRow",A+1)("excelColumn",5)("excelStyle",L.styleTdNormal),i.xp6(1),i.hij(" ",1==(null==f?null:f.gender)?i.lcZ(14,31,"lang_student_export_excel_gender_male"):0==(null==f?null:f.gender)?i.lcZ(15,33,"lang_student_export_excel_gender_female"):""," "),i.xp6(3),i.Q6J("ngForOf",null!==(G=f.marks)&&void 0!==G?G:i.DdM(35,Oe)),i.xp6(1),i.uIk("excelRow",A+1)("excelColumn",6+(null!==(dt=null==f.marks?null:f.marks.length)&&void 0!==dt?dt:0))("excelStyle",L.styleTdNotNumberNormal),i.xp6(1),i.hij(" ",f.averageMark," ")}}function Pn(Z,z){if(1&Z&&(i.TgZ(0,"table",81,82)(2,"thead")(3,"tr")(4,"th",83),i._uU(5),i.ALo(6,"mytranslate"),i.qZA(),i.TgZ(7,"th",83),i._uU(8),i.ALo(9,"mytranslate"),i.qZA(),i.TgZ(10,"th",83),i._uU(11),i.ALo(12,"mytranslate"),i.qZA(),i.TgZ(13,"th",83),i._uU(14),i.ALo(15,"mytranslate"),i.qZA(),i.TgZ(16,"th",83),i._uU(17),i.ALo(18,"mytranslate"),i.qZA(),i.TgZ(19,"th",83),i._uU(20),i.ALo(21,"mytranslate"),i.qZA(),i.YNc(22,Vt,3,8,"th",84),i.TgZ(23,"th",83),i._uU(24),i.ALo(25,"mytranslate"),i.qZA()()(),i.TgZ(26,"tbody"),i.YNc(27,En,19,36,"tr",75),i.qZA()()),2&Z){const f=i.oxw();let A,L,G;i.Q6J("border",1),i.xp6(4),i.uIk("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",f.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(6,38,"lang_student_export_excel_no")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",f.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(9,40,"lang_student_export_excel_full_name")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",f.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(12,42,"lang_number_phone")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",f.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(15,44,"lang_student_export_excel_email")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",f.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(18,46,"lang_student_export_excel_birthday")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",f.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(21,48,"lang_student_export_excel_gender")," "),i.xp6(2),i.Q6J("ngForOf",null!==(A=null==f.dataMark?null:f.dataMark.list)&&void 0!==A?A:i.DdM(52,Oe)),i.xp6(1),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",6+(null!==(L=null==f.dataMark||null==f.dataMark.list?null:f.dataMark.list.length)&&void 0!==L?L:0))("excelStyle",f.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(25,50,"lang_business_diem_tong_ket")," "),i.xp6(3),i.Q6J("ngForOf",null!==(G=null==f.dataStudent?null:f.dataStudent.list)&&void 0!==G?G:i.DdM(53,Oe))}}let en=(()=>{class Z extends at.Q{setPageStudent(f){this.myNavigationWithQueryString("/admin/student/"+("ENTER_SCORE"==this.screenType?"submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"classroom-details/"+this.classroomId+"/4"),"?page="+f),this.initStatusObj(),this.pageStudent=f,this.getListStudent()}openDialogTableSingle(f){"ENTER_SCORE"!=this.screenType&&this.sAztDialogService.open(Fe,{width:"700px",restoreFocus:!1,data:f}).afterClosed().subscribe(A=>{A&&this.getListStudent()})}onSearchBox(f){this.searchContentObj=f,this.setPageStudent(1),this.initStatusObj()}downloadTableScore(){c.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var f=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let A=this.commonService.createFileNameExportFile(["bang_diem_lop_"+this.classroomObj?.name])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(f,A),c.G.closeLoadingEffect(200)}handlePointByValueInput(f){var A=f.target;let L=""===A.value.trim()?"":A.value;L=L.replace(/[^\d\s,\.]/g,""),L=L.replace(/,/g,"."),L=L.replace(/\s+/g," "),L=L.replace(/\.{2,}/g,"."),L=L.replace(/(?:^|\s)\./g," 0."),L=L.replace(/^\s+/,""),L=L.replace(/\.\s/g," ");var G=L.split(" ");if(G.length>0){var dt=""!=G[G.length-1]?G[G.length-1]:G[G.length-2];Number(dt)>-1?dt.split(".").length>1&&dt.split(".")[1].length>2&&(L=L.substring(0,L.length-1)):L=L.replace(/\.$/," ")}return A.value=L,L.split(" ").filter(te=>""!=te).map(te=>parseFloat(te))}handleMarkStudent(f,A,L){var G=this.handlePointByValueInput(f);G=0==G.length?[-1]:G;var dt=this.dataStudent.list[A],Pt=this.dataMark.list[L],Xt=this.listStudentMark.findIndex(Je=>Je.id==dt.id);if(Xt>-1){var te=(this.listStudentMark[Xt].listMarks??[]).findIndex(Je=>Je.id==Pt.id);te>-1?this.listStudentMark[Xt].listMarks[te].points=G:this.listStudentMark[Xt].listMarks?.push({id:Pt.id,points:G})}else this.listStudentMark.push({id:dt.id,listMarks:[{id:Pt.id,points:G}]})}returnValue(f){return(f.marks??[]).join(" ")}saveMark(){this.isSave=!0,this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listStudentMark}).subscribe({next:A=>{this.getListStudent(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0),this.isSave=!1},error:A=>{this.errorStatusObj(A.error.message,!0),this.isSave=!1}}))}createNewScore(f){this.isStudent||this.sAztDialogService.open(l.h,{data:f||{programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(L=>{L&&this.getListMark()})}getListMark(){this.waitDestroy(this.commonMarkService.apiCommonMarksListPost({page:this.pageMark,size:1e3,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId}).subscribe({next:A=>{this.dataMark=A,this.getListStudent()},error:A=>{this.errorStatusObj(A.error.message,!0)}}))}deleteMark(f){var A=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+f.name+" </div> ?";this.sAztDialogService.open(ye.s,{data:{content:A},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(L=>{L&&this.waitDestroy(this.commonMarkService.apiCommonMarksIdDelete(f.id).subscribe({next:G=>{this.getListMark()},error:G=>{this.errorStatusObj(G.error.message,!0)}}))})}getClassroomObj(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(f=>{1==f.success&&(this.classroomObj=f.data?.obj,this.successStatusObj())}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageStudent,size:20,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent}).subscribe({next:A=>{this.dataStudent=A,setTimeout(()=>this.scrollElementStudentById(),500),this.stopStatusObj()},error:A=>{this.errorStatusObj(A.error.message,!0)}}))}scrollElementStudentById(){if(this.studentId){var f=document.getElementById("row_student_"+this.studentId);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}}ngOnInit(){(0,zt.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.studentId=this.commonService.getMyQueryParam("studentId"),this.pageStudent=Number(this.commonService.getMyQueryParam("page")??"1")}),super.ngOnInit(),"ENTER_SCORE"==this.screenType?this.getListMark():this.getListStudent(),this.getClassroomObj()}constructor(f,A,L,G,dt,Pt,Xt){super(),this.commonMarkService=f,this.studentService=A,this.sAztDialogService=L,this.classroomService=G,this.exportExcelService=dt,this.activeRoute=Pt,this.shareFileFlutterService=Xt,this.screenType="ENTER_SCORE",this.classroomId=0,this.programId=0,this.sessionId=0,this.isStudent=!0,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.pageStudent=1,this.pageMark=1,this.listStudentMark=[],this.isSave=!1,this.searchContentObj=new e.h}}return Z.\u0275fac=function(f){return new(f||Z)(i.Y36(Yt.Q),i.Y36(gt.V),i.Y36(st.C),i.Y36(he.u),i.Y36(_t.L),i.Y36(se.gz),i.Y36(mt.g))},Z.\u0275cmp=i.Xpm({type:Z,selectors:[["app-table-score"]],viewQuery:function(f,A){if(1&f&&i.Gf(xn,5),2&f){let L;i.iGM(L=i.CRH())&&(A.table_answer=L.first)}},inputs:{screenType:"screenType",classroomId:"classroomId",programId:"programId",sessionId:"sessionId",isStudent:"isStudent"},features:[i.qOj],decls:7,vars:5,consts:[[1,"grid","grid-cols-12","gap-6","mt-5"],["class","col-span-12 md:col-span-6",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12",4,"ngIf"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","placeholder","onSearch"],[1,"flex","justify-end"],["azt-track-service","enter-score-ULGPeBf6V","class","btn btn-primary flex mr-2",3,"click",4,"ngIf"],["azt-track-service","table-score-n5S54LPUX","class","btn btn-primary flex btn-download-excel",3,"click",4,"ngIf"],[3,"colorBackground"],["azt-track-service","enter-score-OlvWZNI2DZ","class","btn btn-primary shadow-md sm:mt-0 ml-2",3,"disabled","click",4,"ngIf"],["azt-track-service","enter-score-ULGPeBf6V",1,"btn","btn-primary","flex","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","flex","items-center","justify-center"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],["azt-track-service","table-score-n5S54LPUX",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],[1,"w-5","h-5","mr-2"],["name","download"],["azt-track-service","enter-score-OlvWZNI2DZ",1,"btn","btn-primary","shadow-md","sm:mt-0","ml-2",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["class","block","style","height: 100%",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-10","text-center"],[1,"block",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center","style","max-width: 120px !important",4,"ngFor","ngForOf"],["class","text-center whitespace-nowrap",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"text-center",2,"max-width","120px !important"],[1,"flex","items-center","justify-center"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],[1,"flex","justify-between",2,"width","max-content"],["class","col-score","class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["azt-track-service","enter-score-YQX6a-qxwK","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],["azt-track-service","table-score-8Xr_zTWDT","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],["azt-track-service","enter-score-YQX6a-qxwK",1,"inline-block","ml-1",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],["azt-track-service","table-score-8Xr_zTWDT",1,"inline-block","ml-1",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-trash-2",2,"color","red"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","x2","10","y1","11","y2","17"],["x1","14","x2","14","y1","11","y2","17"],[1,"text-center","whitespace-nowrap"],[3,"id"],["azt-track-service","table-score-iwGAjYKV2",1,"!py-3.5","clickable",3,"click"],[3,"name","phone","email","avatar","gender","hasUser"],[1,"text-center","capitalize"],["class","text-center",3,"hidden",4,"ngFor","ngForOf"],[1,"text-center",3,"hidden"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input"],[1,"flex","justify-center","font-bold"],[4,"ngFor","ngForOf"],[3,"data","isStudent"],[1,"flex","justify-between","items-center","mt-5"],[3,"totalPaginationPage","paging","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score",""],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[3,"mark",4,"ngIf"]],template:function(f,A){if(1&f&&(i.TgZ(0,"div",0),i.YNc(1,tn,4,3,"div",1),i.YNc(2,Tn,10,8,"div",2),i.qZA(),i.YNc(3,Cn,1,0,"azt-loading-effect",3),i.YNc(4,Ze,5,4,"ng-template",null,4,i.W1O),i.YNc(6,Pn,28,54,"table",5)),2&f){const L=i.MAs(5);i.xp6(1),i.Q6J("ngIf","ENTER_SCORE"==A.screenType),i.xp6(1),i.Q6J("ngIf",!A.isStudent),i.xp6(1),i.Q6J("ngIf",A.statusObj.loading)("ngIfElse",L),i.xp6(3),i.Q6J("ngIf","TABLE_SCORE"==A.screenType)}},dependencies:[R.sg,R.O5,j.gM,me.l,We.L,J.B,nt.n,Xe.s,fn.W,ot.a,Pe.HU,Pe.$Z,mn.Nh5,kt,Mt.JV,Mt.gw,Mt.YK,Mt.po],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}@media (max-width: 639px){.btn-download-excel[_ngcontent-%COMP%]{width:100%!important}}.box-point-homework[_ngcontent-%COMP%]{min-width:120px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}"]}),Z})()},93733:(An,Rt,v)=>{v.d(Rt,{Y:()=>x});var at=v(47496),c=v(65879),e=v(21266),l=v(33195);let x=(()=>{class t extends at.Q{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor(H){super(),this.activeRoute=H,this.classroomId=0}}return t.\u0275fac=function(H){return new(H||t)(c.Y36(e.gz))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-grand-board"]],inputs:{isStudent:"isStudent"},features:[c.qOj],decls:1,vars:5,consts:[[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(H,St){1&H&&c._UZ(0,"app-table-score",0),2&H&&c.Q6J("isStudent",St.isStudent)("screenType","TABLE_SCORE")("classroomId",St.classroomId)("programId",0)("sessionId",0)},dependencies:[l.B],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),t})()},15623:(An,Rt,v)=>{v.d(Rt,{A:()=>Cn});var at=v(8633),c=v(47496),e=function(y){return y[y.ADD_NEW=0]="ADD_NEW",y[y.UPDATE=1]="UPDATE",y[y.DELETE=2]="DELETE",y}(e||{}),l=v(65879),x=v(87789),t=v(21266),ut=v(96814),H=v(92596),St=v(43389),ht=v(71646),wt=v(69862),ct=v(56223),i=v(91765),yt=v(61713),st=v(78953),mt=v(82228),_t=v(2032);let gt=(()=>{class y{constructor(T){this.el=T}ngAfterViewInit(){this.adjustTextAreaHeight(this.el.nativeElement)}adjustTextAreaHeight(T){T.style.overflow="hidden",T.style.height="auto",T.style.height=T.scrollHeight+30+"px"}ngDoCheck(){this.el&&this.adjustTextAreaHeight(this.el.nativeElement)}}return y.\u0275fac=function(T){return new(T||y)(l.Y36(l.SBq))},y.\u0275dir=l.lG2({type:y,selectors:[["textarea","autoResize",""]]}),y})();var R=v(37722),j=v(15828),J=v(2783);function tt(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"div",2)(1,"div",3)(2,"a",4),l.NdJ("click",function(){const it=l.CHM(T).$implicit,xt=l.oxw();return l.KtG(xt.onShowFile(it,-1))}),l.TgZ(3,"div",5),l._UZ(4,"img",6),l.TgZ(5,"span",7),l.NdJ("click",function(){const it=l.CHM(T).$implicit,xt=l.oxw();return l.KtG(xt.removeFile(it))}),l.O4$(),l.TgZ(6,"svg",8),l._UZ(7,"line",9)(8,"line",10),l.qZA()()()()()()}if(2&y){const T=q.$implicit;l.xp6(4),l.Q6J("src",T.url,l.LSH)}}let nt=(()=>{class y extends c.Q{onShowFile(T,O){let P={...T,index:O};this.sAztDialogService.open(j.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:P},restoreFocus:!1})}removeFile(T){this.files=this.files.filter(O=>O.url!=T.url),this.filesChange.emit(this.files)}constructor(T){super(),this.sAztDialogService=T,this.filesChange=new l.vpe}}return y.\u0275fac=function(T){return new(T||y)(l.Y36(J.C))},y.\u0275cmp=l.Xpm({type:y,selectors:[["app-new-list-images"]],inputs:{files:"files"},outputs:{filesChange:"filesChange"},features:[l.qOj],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","gap-3","mb-3"],["class","col-span-12 md:col-span-6 xl:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","xl:col-span-4","lg:col-span-2"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-1","pr-2","pl-2"],["azt-track-service","list-images-jCIgoLK9i",1,"flex","w-full","items-center",3,"click"],[1,"w-full","h-28","image-fit","zoom-in"],[1,"rounded-md",3,"src"],["azt-track-service","list-images-3VlAbiB3VZ",1,"cursor-pointer","absolute","top-0","right-0","-mt-2","-mr-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-danger","text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","stroke-1.5","h-4","w-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"]],template:function(T,O){1&T&&(l.TgZ(0,"div",0),l.YNc(1,tt,9,1,"div",1),l.qZA()),2&T&&(l.xp6(1),l.Q6J("ngForOf",O.files))},dependencies:[ut.sg],encapsulation:2}),y})();var ot=v(36727);function ft(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"app-new-list-images",13),l.NdJ("filesChange",function(P){l.CHM(T);const it=l.oxw();return l.KtG(it.files=P)}),l.qZA()}if(2&y){const T=l.oxw();l.Q6J("files",T.files)}}function Mt(y,q){1&y&&(l.TgZ(0,"span",14),l._UZ(1,"azt-loading-ui"),l.qZA())}function oe(y,q){1&y&&(l.TgZ(0,"span",15),l._UZ(1,"azt-loading-ui"),l.qZA())}let Ee=(()=>{class y extends c.Q{saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();var T={content:this.contentFormControl.value??"",classroomId:this.classroomId,imageLinks:this.files.map(O=>O.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsPost(T).subscribe({next:O=>{this.successStatusObj("lang_business_news_add_new_post_success",!0),this.contentFormControl.setValue(""),this.files=[],this.changePostObjEvent.emit({...O,isShowEditForm:!1,hasLoveEmotion:!1,isShowCommentBox:!1})},error:O=>{this.errorStatusObj(O.error.message,!0)}}))}}onFileSelected(T){let P=T.target,it=P.files,xt=it?it[0]:null;null!=xt&&(this.isUploadFile=!0,(0,yt.hv)(xt).then(fe=>{this.apiUploadService.uploadToCdnForBusinessNews(fe).subscribe(qt=>{qt.type!=wt.dt.UploadProgress&&(1==qt.success?this.files?.push({...qt.data}):this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",qt.message??"none")),this.isUploadFile=!1)})})),P.files=null}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(T,O,P){super(),this.newsService=T,this.userService=O,this.apiUploadService=P,this.changePostObjEvent=new l.vpe,this.contentFormControl=new ct.NI("",{nonNullable:!0,validators:[i._.noWhiteSpace]}),this.files=[],this.isUploadFile=!1}}return y.\u0275fac=function(T){return new(T||y)(l.Y36(x.Yc),l.Y36(st.U),l.Y36(mt.W))},y.\u0275cmp=l.Xpm({type:y,selectors:[["app-news-add-new-post"]],inputs:{classroomId:"classroomId"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[l.qOj],decls:19,vars:14,consts:[[1,"box"],[1,"relative","w-full","pt-3","pr-3","pl-3"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","pt-3",3,"files","filesChange",4,"ngIf"],[1,"text-right","box-button"],[1,"w-full","flex","sm:justify-between","justify-end","items-center"],["type","file","accept","image/png, image/gif, image/jpeg",1,"opacity-0","cursor-pointer",2,"display","none",3,"change"],["formChoseFile",""],["azt-track-service","add-new-post-YUr68bfqj5",1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle",3,"click"],["class","w-4 h-4 inline-block ml-2 mr-2",4,"ngIf"],["name","image",1,"zoom-in",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip"],["azt-track-service","add-new-post-D1kcZnYwie","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"pt-3",3,"files","filesChange"],[1,"w-4","h-4","inline-block","ml-2","mr-2"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(T,O){if(1&T){const P=l.EpF();l.TgZ(0,"div",0)(1,"div",1)(2,"textarea",2),l.ALo(3,"mytranslate"),l._uU(4,"        "),l.qZA(),l.YNc(5,ft,1,1,"app-new-list-images",3),l.qZA(),l.TgZ(6,"div",4)(7,"div",5)(8,"div")(9,"input",6,7),l.NdJ("change",function(xt){return O.onFileSelected(xt)}),l.qZA(),l.TgZ(11,"span",8),l.NdJ("click",function(){l.CHM(P);const xt=l.MAs(10);return l.KtG(xt.click())}),l.YNc(12,Mt,2,0,"span",9),l._UZ(13,"lucide-icon",10),l.ALo(14,"mytranslate"),l.qZA()(),l.TgZ(15,"button",11),l.NdJ("click",function(){return O.saveNewPost()}),l.YNc(16,oe,2,0,"span",12),l._uU(17),l.ALo(18,"mytranslate"),l.qZA()()()()}2&T&&(l.xp6(2),l.s9C("placeholder",l.lcZ(3,8,"lang_business_news_post_content")),l.Q6J("formControl",O.contentFormControl),l.xp6(3),l.Q6J("ngIf",O.files.length),l.xp6(7),l.Q6J("ngIf",O.isUploadFile),l.xp6(1),l.s9C("matTooltip",l.lcZ(14,10,"lang_core_tai_anh")),l.xp6(2),l.Q6J("disabled",""==O.contentFormControl.value||O.statusObj.loading),l.xp6(1),l.Q6J("ngIf",O.statusObj.loading),l.xp6(1),l.hij(" ",l.lcZ(18,12,"lang_business_news_add_new_post_button")," "))},dependencies:[ut.O5,_t.Nt,H.gM,ct.Fj,ct.JJ,ct.oH,gt,ht.n,R.Nh5,nt,ot.JV],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0;height:25px}.box-button[_ngcontent-%COMP%]{padding:5px 10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}"]}),y})();var ie=v(19347),_e=v(72164),Se=v(78497);function ln(y,q){1&y&&(l.TgZ(0,"span",9),l._UZ(1,"azt-loading-ui"),l.qZA())}let cn=(()=>{class y extends _e.e{btnCloseDialog(T){this.dialogRef.close(T)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsIdDelete(this.postObj.id).subscribe({next:T=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:T=>{this.errorStatusObj(T.error.message,!0)}}))}constructor(T,O,P){super(P,O),this.newsService=T,this.dialogRef=O,this.data=P,this.postObj=P}}return y.\u0275fac=function(T){return new(T||y)(l.Y36(x.Yc),l.Y36(ie.so,8),l.Y36(ie.WI,8))},y.\u0275cmp=l.Xpm({type:y,selectors:[["app-delete-news-post-confirm-dialog"]],features:[l.qOj],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","text-right"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(T,O){1&T&&(l.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),l._uU(5),l.ALo(6,"mytranslate"),l.TgZ(7,"b",4),l._uU(8),l.qZA(),l._uU(9,"? "),l.qZA()()()(),l.TgZ(10,"div",5)(11,"button",6),l.NdJ("click",function(){return O.btnCloseDialog(!1)}),l._uU(12),l.ALo(13,"mytranslate"),l.qZA(),l.TgZ(14,"button",7),l.NdJ("click",function(){return O.confirmDelete()}),l.YNc(15,ln,2,0,"span",8),l._uU(16),l.ALo(17,"mytranslate"),l.qZA()()()),2&T&&(l.xp6(5),l.hij(" ",l.lcZ(6,5,"lang_business_news_are_your_sure_to_delete_news_post"),"\xa0 "),l.xp6(3),l.Oqu(O.postObj.content),l.xp6(4),l.hij(" ",l.lcZ(13,7,"lang_cms_common_close_btn")," "),l.xp6(3),l.Q6J("ngIf",O.statusObj.loading),l.xp6(1),l.hij(" ",l.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[ut.O5,Se.R,ht.n,ot.JV],encapsulation:2}),y})();var Ne=v(77988),be=v(85904);function ue(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"a",4),l.NdJ("click",function(){l.CHM(T);const P=l.oxw(2);return l.KtG(P.clickToSeeMore())}),l._uU(1),l.ALo(2,"mytranslate"),l.qZA()}2&y&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"lang_cms_common_see_more")))}function ve(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"a",4),l.NdJ("click",function(){l.CHM(T);const P=l.oxw(2);return l.KtG(P.clickToShowShortContent())}),l._uU(1),l.ALo(2,"mytranslate"),l.qZA()}2&y&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"lang_cms_common_see_short_content")))}function Ge(y,q){if(1&y&&(l.TgZ(0,"div"),l._UZ(1,"span",2),l.ALo(2,"safeAdminHtmlContent"),l.YNc(3,ue,3,3,"a",3),l.YNc(4,ve,3,3,"a",3),l.qZA()),2&y){const T=l.oxw();l.xp6(1),l.Q6J("innerHTML",l.lcZ(2,3,T.showContent),l.oJD),l.xp6(2),l.Q6J("ngIf",T.showSeeMoreButton&&T.content.length>T.maxLength),l.xp6(1),l.Q6J("ngIf",T.showShortContentButton&&T.content.length>T.maxLength)}}function Pe(y,q){if(1&y&&(l._UZ(0,"span",10),l.ALo(1,"safeAdminHtmlContent")),2&y){const T=l.oxw(2);l.Q6J("innerHTML",l.lcZ(1,1,T.showContent),l.oJD)}}function mn(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"a",4),l.NdJ("click",function(){l.CHM(T);const P=l.oxw(2);return l.KtG(P.clickToSeeMore())}),l._uU(1),l.ALo(2,"mytranslate"),l.qZA()}if(2&y){const T=l.oxw(2);l.Akn("position: absolute; bottom: 0; right: 0; background-color: "+T.backgroundColor),l.xp6(1),l.hij("...",l.lcZ(2,3,"lang_cms_common_see_more"),"")}}function je(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"a",4),l.NdJ("click",function(){l.CHM(T);const P=l.oxw(2);return l.KtG(P.clickToShowShortContent())}),l._uU(1),l.ALo(2,"mytranslate"),l.qZA()}2&y&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"lang_cms_common_see_short_content")))}function Ve(y,q){if(1&y&&(l.TgZ(0,"div",5),l._UZ(1,"div",6),l.ALo(2,"safeAdminHtmlContent"),l._UZ(3,"div",6,7),l.ALo(5,"safeAdminHtmlContent"),l.YNc(6,Pe,2,3,"span",8),l.YNc(7,mn,3,5,"a",9),l.YNc(8,je,3,3,"a",3),l.qZA()),2&y){const T=l.MAs(4),O=l.oxw();l.xp6(1),l.Akn(O.styleContent),l.Q6J("innerHTML",l.lcZ(2,9,O.showContent),l.oJD),l.xp6(2),l.Akn("white-space: pre-line; position: absolute; visibility: hidden; line-height: 20px"),l.Q6J("innerHTML",l.lcZ(5,11,O.showContent),l.oJD),l.xp6(3),l.Q6J("ngIf",O.showShortContentButton),l.xp6(1),l.Q6J("ngIf",O.showSeeMoreButton&&T.offsetHeight>20*O.maxLine),l.xp6(1),l.Q6J("ngIf",O.showShortContentButton&&T.offsetHeight>20*O.maxLine)}}let $e=(()=>{class y extends c.Q{clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let T=this.commonService.removeTagHtml(this.content);if(this.maxLength&&T.length>this.maxLength)this.showContent=this.showSeeMoreButton?T.substring(0,this.maxLength)+"...":this.content;else if(this.maxLine){this.showContent=this.content;var O=(20*this.maxLine).toString();this.styleContent=this.showSeeMoreButton?"white-space: pre-line; max-height: "+O+"px; overflow: hidden; position: relative; line-height: 20px;":"white-space: pre-line; line-height: 20px; visibility: hidden; position: absolute;"}else this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content;this.showContent=this.showContent+" "}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}constructor(){super(),this.content="",this.backgroundColor="white",this.styleContent="white-space: pre-line;",this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}}return y.\u0275fac=function(T){return new(T||y)},y.\u0275cmp=l.Xpm({type:y,selectors:[["azt-see-more-multiple-lines"]],inputs:{content:"content",maxLength:"maxLength",maxLine:"maxLine",backgroundColor:"backgroundColor"},features:[l.qOj,l.TTD],decls:2,vars:2,consts:[[4,"ngIf"],["style","position: relative; white-space: break-spaces;",4,"ngIf"],[2,"white-space","pre-line","white-space","break-spaces",3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"],[2,"position","relative","white-space","break-spaces"],[3,"innerHTML"],["contentElementHide",""],["style","white-space: pre-line;",3,"innerHTML",4,"ngIf"],["class","btn-text-primary",3,"style","click",4,"ngIf"],[2,"white-space","pre-line",3,"innerHTML"]],template:function(T,O){1&T&&(l.YNc(0,Ge,5,5,"div",0),l.YNc(1,Ve,9,13,"div",1)),2&T&&(l.Q6J("ngIf",O.maxLength),l.xp6(1),l.Q6J("ngIf",O.maxLine&&!O.maxLength))},dependencies:[ut.O5,ot.JV,ot.Tm],encapsulation:2}),y})();var pe=function(y){return y[y.ADD_NEW=0]="ADD_NEW",y[y.UPDATE=1]="UPDATE",y[y.DELETE=2]="DELETE",y}(pe||{}),dn=v(64170),Re=v(49042);function Sn(y,q){1&y&&(l.TgZ(0,"span",10),l._UZ(1,"azt-loading-ui"),l.qZA())}let _n=(()=>{class y extends c.Q{saveNewComment(){this.commentContentFormControl.value.trim()&&(this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsPost(this.postObj.id,{content:this.commentContentFormControl.value}).subscribe({next:O=>{this.successStatusObj(),this.commentContentFormControl.setValue(""),this.changeCommentObjEvent.emit({...O,isShowEditForm:!1,allowDelete:!0,allowEdit:!0})},error:O=>{this.errorStatusObj(O.error.message,!0)}})))}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(T,O){super(),this.newsService=T,this.userService=O,this.changeCommentObjEvent=new l.vpe,this.commentContentFormControl=new ct.NI("",{nonNullable:!0,validators:[i._.noWhiteSpace]})}}return y.\u0275fac=function(T){return new(T||y)(l.Y36(x.Yc),l.Y36(st.U))},y.\u0275cmp=l.Xpm({type:y,selectors:[["app-news-add-new-comments"]],inputs:{postObj:"postObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[l.qOj],decls:13,vars:13,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","",2,"resize","auto","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],["azt-track-service","add-new-comment-tIKt3rAhD",1,"btn","btn-secondary","btn-sm","zoom-in",3,"matTooltip","disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex-none","w-4","h-4","zoom-in"],["name","send",2,"color","#1e40af"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(T,O){1&T&&(l.TgZ(0,"div",0),l._UZ(1,"azt-create-avatar",1),l.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),l.NdJ("enterKey",function(){return!(""==O.commentContentFormControl.value||O.statusObj.loading)&&O.saveNewComment()}),l.ALo(5,"mytranslate"),l._uU(6,"            "),l.qZA()(),l.TgZ(7,"div",5)(8,"button",6),l.NdJ("click",function(){return O.saveNewComment()}),l.ALo(9,"mytranslate"),l.YNc(10,Sn,2,0,"span",7),l.TgZ(11,"span",8),l._UZ(12,"lucide-icon",9),l.qZA()()()()()),2&T&&(l.xp6(1),l.Q6J("nameCreateAvatar",O.userObj.fullName)("linkAvatar",O.userObj.avatar)("size",30),l.xp6(3),l.s9C("placeholder",l.lcZ(5,9,"lang_core_viet_binh_luan")),l.Q6J("enableInMobile",!1)("formControl",O.commentContentFormControl),l.xp6(4),l.s9C("matTooltip",l.lcZ(9,11,"lang_business_news_add_new_post_button")),l.Q6J("disabled",""==O.commentContentFormControl.value||O.statusObj.loading),l.xp6(2),l.Q6J("ngIf",O.statusObj.loading))},dependencies:[ut.O5,_t.Nt,dn.KE,H.gM,ct.Fj,ct.JJ,ct.oH,be.g,gt,Re.Y,ht.n,R.Nh5,ot.JV],encapsulation:2}),y})();function Ke(y,q){1&y&&(l.TgZ(0,"span",9),l._UZ(1,"azt-loading-ui"),l.qZA())}let un=(()=>{class y extends _e.e{btnCloseDialog(T){this.dialogRef.close(T)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdDelete(this.postObj.id,this.commentObj.id).subscribe({next:T=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:T=>{this.errorStatusObj(T.error.message,!0)}}))}constructor(T,O,P){super(P,O),this.newsService=T,this.dialogRef=O,this.data=P,this.postObj=P.postObj,this.commentObj=P.commentObj}}return y.\u0275fac=function(T){return new(T||y)(l.Y36(x.Yc),l.Y36(ie.so,8),l.Y36(ie.WI,8))},y.\u0275cmp=l.Xpm({type:y,selectors:[["app-delete-news-post-comment-confirm-dialog"]],features:[l.qOj],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","text-right"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(T,O){1&T&&(l.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),l._uU(5),l.ALo(6,"mytranslate"),l.TgZ(7,"b",4),l._uU(8),l.qZA(),l._uU(9,"? "),l.qZA()()()(),l.TgZ(10,"div",5)(11,"button",6),l.NdJ("click",function(){return O.btnCloseDialog(!1)}),l._uU(12),l.ALo(13,"mytranslate"),l.qZA(),l.TgZ(14,"button",7),l.NdJ("click",function(){return O.confirmDelete()}),l.YNc(15,Ke,2,0,"span",8),l._uU(16),l.ALo(17,"mytranslate"),l.qZA()()()),2&T&&(l.xp6(5),l.hij(" ",l.lcZ(6,5,"lang_business_news_are_your_sure_to_delete_news_post_comment"),"\xa0 "),l.xp6(3),l.Oqu(O.commentObj.content),l.xp6(4),l.hij(" ",l.lcZ(13,7,"lang_cms_common_close_btn")," "),l.xp6(3),l.Q6J("ngIf",O.statusObj.loading),l.xp6(1),l.hij(" ",l.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[ut.O5,Se.R,ht.n,ot.JV],encapsulation:2}),y})();function Nn(y,q){if(1&y&&(l.TgZ(0,"button",15),l.O4$(),l.TgZ(1,"svg",16),l._UZ(2,"circle",17)(3,"circle",18)(4,"circle",19),l.qZA()()),2&y){l.oxw();const T=l.MAs(12);l.Q6J("matMenuTriggerFor",T)}}function pn(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"li")(1,"a",20),l.NdJ("click",function(){l.CHM(T);const P=l.oxw();return l.KtG(P.editCommentEvent())}),l.O4$(),l.TgZ(2,"svg",21),l._UZ(3,"path",22)(4,"path",23),l.qZA(),l._uU(5),l.ALo(6,"mytranslate"),l.qZA()()}2&y&&(l.xp6(5),l.hij(" ",l.lcZ(6,1,"lang_auto_sua")," "))}function gn(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"li")(1,"a",24),l.NdJ("click",function(){l.CHM(T);const P=l.oxw();return l.KtG(P.deleteCommentEvent())}),l.O4$(),l.TgZ(2,"svg",25),l._UZ(3,"polyline",26)(4,"path",27),l.qZA(),l._uU(5),l.ALo(6,"mytranslate"),l.qZA()()}2&y&&(l.xp6(5),l.hij(" ",l.lcZ(6,1,"lang_auto_xoa")," "))}let jn=(()=>{class y extends c.Q{editCommentEvent(){this.commentObj.isShowEditForm=!0,this.changeCommentObjEvent.emit({actionType:pe.UPDATE,commentObj:this.commentObj})}deleteCommentEvent(){this.sAztDialogService.open(un,{width:"700px",data:{postObj:this.postObj,commentObj:this.commentObj},restoreFocus:!1}).afterClosed().subscribe(O=>{O&&this.changeCommentObjEvent.emit({actionType:pe.DELETE,commentObj:this.commentObj})})}constructor(T){super(),this.sAztDialogService=T,this.changeCommentObjEvent=new l.vpe}}return y.\u0275fac=function(T){return new(T||y)(l.Y36(J.C))},y.\u0275cmp=l.Xpm({type:y,selectors:[["app-news-view-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[l._Bn([at.S]),l.qOj],decls:20,vars:13,consts:[[1,"flex","mb-3","comment-body"],[1,"image-fit","mt-2"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"flex","items-center","justify-start"],[1,"box-content","px-3","py-2","ml-3"],[1,"font-medium","whitespace-nowrap"],[3,"content","maxLine","backgroundColor"],[1,"btn-show","ml-1"],["class","clickable p-1 hover:bg-slate-100 dark:hover:bg-darkmode-400","style","border-radius: 50%","data-tw-toggle","dropdown",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],[4,"ngIf"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5","ml-3"],["data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"border-radius","50%",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],["azt-track-service","comments-post-dialog-a0fkWfZtZk",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","comments-post-dialog-_pPBuSnF37",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(T,O){1&T&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"azt-create-avatar",2),l.qZA(),l.TgZ(3,"div")(4,"div",3)(5,"div",4)(6,"div",5),l._uU(7),l.qZA(),l._UZ(8,"azt-see-more-multiple-lines",6),l.qZA(),l.TgZ(9,"div",7),l.YNc(10,Nn,5,1,"button",8),l.TgZ(11,"mat-menu",9,10)(13,"div",11)(14,"ul",12),l.YNc(15,pn,7,3,"li",13),l.YNc(16,gn,7,3,"li",13),l.qZA()()()()(),l.TgZ(17,"div",14),l._uU(18),l.ALo(19,"relativeTime"),l.qZA()()()),2&T&&(l.xp6(2),l.Q6J("nameCreateAvatar",null==O.commentObj.user?null:O.commentObj.user.fullName)("linkAvatar",null==O.commentObj.user?null:O.commentObj.user.avatar)("size",30),l.xp6(5),l.hij(" ",null==O.commentObj.user?null:O.commentObj.user.fullName,"\xa0 "),l.xp6(1),l.Q6J("content",O.commentObj.content)("maxLine",5)("backgroundColor","#f5f5f5"),l.xp6(2),l.Q6J("ngIf",O.commentObj.allowDelete||O.commentObj.allowEdit),l.xp6(5),l.Q6J("ngIf",O.commentObj.allowEdit),l.xp6(1),l.Q6J("ngIf",O.commentObj.allowDelete),l.xp6(2),l.Oqu(l.lcZ(19,11,O.commentObj.createdAt)))},dependencies:[ut.O5,Ne.VK,Ne.p6,be.g,$e,ot.JV,ot.Yy],styles:[".btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:transparent}.comment-body[_ngcontent-%COMP%]:hover   .btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgb(var(--color-slate-500)/var(--tw-text-opacity))}.box-content[_ngcontent-%COMP%]{border-radius:5px;background-color:#f5f5f5}"]}),y})();function Mn(y,q){1&y&&(l.TgZ(0,"span",12),l._UZ(1,"azt-loading-ui"),l.qZA())}let ge=(()=>{class y extends c.Q{cancel(){this.commentObj.isShowEditForm=!1,this.changeCommentObjEvent.emit(this.commentObj)}saveNewComment(){if(this.commentContentFormControl.value.trim()){this.initStatusObj();var T={content:this.commentContentFormControl.value};this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdPut(this.postObj.id,this.commentObj.id,T).subscribe({next:O=>{this.successStatusObj(),this.commentObj.isShowEditForm=!1,this.commentObj.content=T.content,this.changeCommentObjEvent.emit(this.commentObj),this.commentContentFormControl.setValue("")},error:O=>{this.errorStatusObj(O.error.message,!0)}}))}}ngOnInit(){this.userObj=this.userService.getUserObj(),this.commentContentFormControl.setValue(this.commentObj.content)}constructor(T,O){super(),this.newsService=T,this.userService=O,this.changeCommentObjEvent=new l.vpe,this.commentContentFormControl=new ct.NI("",{nonNullable:!0,validators:[i._.noWhiteSpace]})}}return y.\u0275fac=function(T){return new(T||y)(l.Y36(x.Yc),l.Y36(st.U))},y.\u0275cmp=l.Xpm({type:y,selectors:[["app-news-edit-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[l.qOj],decls:17,vars:16,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","","row","5",2,"resize","none","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],[1,"flex","items-center","justify-center"],["azt-track-service","edit-comment-725iQWOtdo","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-comment-FFY36YTq2a",1,"btn","btn-outline-secondary","btn-sm",3,"matTooltip","disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex-none","w-4","h-4"],["name","send"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(T,O){1&T&&(l.TgZ(0,"div",0),l._UZ(1,"azt-create-avatar",1),l.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),l.NdJ("enterKey",function(){return!(""==O.commentContentFormControl.value||O.statusObj.loading)&&O.saveNewComment()}),l.ALo(5,"mytranslate"),l._uU(6,"            "),l.qZA()(),l.TgZ(7,"div",5)(8,"div",6)(9,"button",7),l.NdJ("click",function(){return O.cancel()}),l._uU(10),l.ALo(11,"mytranslate"),l.qZA(),l.TgZ(12,"button",8),l.NdJ("click",function(){return O.saveNewComment()}),l.ALo(13,"mytranslate"),l.YNc(14,Mn,2,0,"span",9),l.TgZ(15,"span",10),l._UZ(16,"lucide-icon",11),l.qZA()()()()()()),2&T&&(l.xp6(1),l.Q6J("nameCreateAvatar",O.userObj.fullName)("linkAvatar",O.userObj.avatar)("size",30),l.xp6(3),l.s9C("placeholder",l.lcZ(5,10,"lang_core_viet_binh_luan")),l.Q6J("enableInMobile",!1)("formControl",O.commentContentFormControl),l.xp6(6),l.hij(" ",l.lcZ(11,12,"lang_cms_common_close_btn")," "),l.xp6(2),l.s9C("matTooltip",l.lcZ(13,14,"lang_business_news_add_new_post_button")),l.Q6J("disabled",""==O.commentContentFormControl.value||O.statusObj.loading),l.xp6(2),l.Q6J("ngIf",O.statusObj.loading))},dependencies:[ut.O5,_t.Nt,dn.KE,H.gM,ct.Fj,ct.JJ,ct.oH,be.g,gt,Re.Y,ht.n,R.Nh5,ot.JV],encapsulation:2}),y})();function X(y,q){if(1&y){const T=l.EpF();l.ynx(0),l.TgZ(1,"app-news-view-comment",6),l.NdJ("changeCommentObjEvent",function(P){l.CHM(T);const it=l.oxw(2);return l.KtG(it.changeCommentObj(P.actionType,P.commentObj))}),l.qZA(),l.BQk()}if(2&y){const T=l.oxw().$implicit,O=l.oxw();l.xp6(1),l.Q6J("postObj",O.postObj)("commentObj",T)}}function Te(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"div",2)(1,"app-news-edit-comment",6),l.NdJ("changeCommentObjEvent",function(P){l.CHM(T);const it=l.oxw(2);return l.KtG(it.changeCommentObj(it.enumNewsCommentActionType.UPDATE,P))}),l.qZA()()}if(2&y){const T=l.oxw().$implicit,O=l.oxw();l.xp6(1),l.Q6J("postObj",O.postObj)("commentObj",T)}}function ae(y,q){if(1&y&&(l.TgZ(0,"div"),l.YNc(1,X,2,2,"ng-container",4),l.YNc(2,Te,2,2,"ng-template",null,5,l.W1O),l.qZA()),2&y){const T=q.$implicit,O=l.MAs(3);l.xp6(1),l.Q6J("ngIf",!T.isShowEditForm)("ngIfElse",O)}}function Ue(y,q){1&y&&(l.TgZ(0,"span",10),l._UZ(1,"azt-loading-ui"),l.qZA())}function Ce(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"div",7)(1,"span",8),l.NdJ("click",function(){l.CHM(T);const P=l.oxw();return l.KtG(!P.sAztNextPaginationService.isLoadingNextPage&&P.getNextPage())}),l._uU(2),l.ALo(3,"mytranslate"),l.YNc(4,Ue,2,0,"span",9),l.qZA()()}if(2&y){const T=l.oxw();l.xp6(2),l.hij(" ",l.lcZ(3,2,"lang_business_news_load_more_comments")," "),l.xp6(2),l.Q6J("ngIf",T.sAztNextPaginationService.isLoadingNextPage)}}let ke=(()=>{class y extends c.Q{changeCommentObj(T,O){T==pe.ADD_NEW?(this.commentObjs.unshift(O),this.postObj.totalComment+=1):T==pe.UPDATE?this.commentObjs=this.commentObjs.map(P=>P.id==O.id?O:P):(this.postObj.totalComment-=1,this.commentObjs=this.commentObjs.filter(P=>P.id!=O.id))}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(T){T?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsGet(this.postObj.id,this.sAztNextPaginationService.curPage,this.sAztNextPaginationService.itemPerPage).subscribe({next:O=>{O.list.forEach(P=>{this.commentObjs.push({...P,isShowEditForm:!1,allowEdit:P.tenantId==this.userObj.id,allowDelete:!this.isStudent||P.tenantId==this.userObj.id})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(O.total),this.stopStatusObj()},error:O=>{this.errorStatusObj(O.error.message,!0)}}))}ngOnInit(){this.sAztNextPaginationService.setTotalItemPerPage(10),this.getData(!1)}constructor(T,O,P){super(),this.newsService=T,this.userService=O,this.sAztNextPaginationService=P,this.commentObjs=[],this.enumNewsCommentActionType=pe,this.userObj=this.userService.getUserObj()}}return y.\u0275fac=function(T){return new(T||y)(l.Y36(x.Yc),l.Y36(st.U),l.Y36(at.S))},y.\u0275cmp=l.Xpm({type:y,selectors:[["app-news-list-comments"]],inputs:{isStudent:"isStudent",postObj:"postObj"},features:[l._Bn([at.S]),l.qOj],decls:4,vars:3,consts:[[4,"ngFor","ngForOf"],["class","mb-2 font-medium",4,"ngIf"],[1,"pb-2"],[3,"postObj","changeCommentObjEvent"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"postObj","commentObj","changeCommentObjEvent"],[1,"mb-2","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["class","w-4 h-4 inline-block ml-2",4,"ngIf"],[1,"w-4","h-4","inline-block","ml-2"]],template:function(T,O){1&T&&(l.YNc(0,ae,4,2,"div",0),l.YNc(1,Ce,5,4,"div",1),l.TgZ(2,"div",2)(3,"app-news-add-new-comments",3),l.NdJ("changeCommentObjEvent",function(it){return O.changeCommentObj(O.enumNewsCommentActionType.ADD_NEW,it)}),l.qZA()()),2&T&&(l.Q6J("ngForOf",O.commentObjs),l.xp6(1),l.Q6J("ngIf",O.commentObjs.length&&O.sAztNextPaginationService.hasNextPage),l.xp6(2),l.Q6J("postObj",O.postObj))},dependencies:[ut.sg,ut.O5,ht.n,_n,jn,ge,ot.JV],encapsulation:2}),y})();const Nt=function(y,q){return{"heart-selected":y,"heart-non-selected":q}};let we=(()=>{class y extends c.Q{changeEmotionEvent(){this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion+=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj),this.waitDestroy(this.newsService.apiNewsNewsIdEmotionsPost(this.postObj.id).subscribe({next:T=>{this.successStatusObj()},error:T=>{this.errorStatusObj(T.error.message,!0),this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion-=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj)}}))}showCommentObjs(){this.postObj.isShowCommentBox=!0,this.changePostObjEvent.emit(this.postObj)}constructor(T){super(),this.newsService=T,this.changePostObjEvent=new l.vpe}}return y.\u0275fac=function(T){return new(T||y)(l.Y36(x.Yc))},y.\u0275cmp=l.Xpm({type:y,selectors:[["app-news-emotions"]],inputs:{postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[l.qOj],decls:12,vars:6,consts:[[1,"flex","pb-3",2,"align-items","center"],[1,"flex","mr-5","clickable",2,"align-items","center"],["azt-track-service","emotions-02_zwrttZ",1,"w-5","h-5","mr-2","zoom-in","heart-label",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","#000000","stroke-width","3","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-heart",3,"ngClass"],["d","M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"],["azt-track-service","emotions-Yt4v8qy-f6",1,"flex","clickable",2,"align-items","center",3,"click"],["azt-track-service","news-board-QZ9ykDAa8s",1,"w-5","h-5","mr-2","zoom-in"],["name","message-square"]],template:function(T,O){1&T&&(l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){return O.changeEmotionEvent()}),l.O4$(),l.TgZ(3,"svg",3),l._UZ(4,"path",4),l.qZA()(),l.kcU(),l.TgZ(5,"span"),l._uU(6),l.qZA()(),l.TgZ(7,"div",5),l.NdJ("click",function(){return O.showCommentObjs()}),l.TgZ(8,"button",6),l._UZ(9,"lucide-icon",7),l.qZA(),l.TgZ(10,"span"),l._uU(11),l.qZA()()()),2&T&&(l.xp6(3),l.Q6J("ngClass",l.WLB(3,Nt,O.postObj.hasLoveEmotion,!O.postObj.hasLoveEmotion)),l.xp6(3),l.Oqu(O.postObj.totalEmotion),l.xp6(5),l.Oqu(O.postObj.totalComment))},dependencies:[ut.mk,R.Nh5],styles:['@charset "UTF-8";.heart-label[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.5em;align-self:center;transition:color .2s ease-in-out;color:#aab8c2}.heart-non-selected[_ngcontent-%COMP%]{background:transparent}.heart-non-selected[_ngcontent-%COMP%]:hover{stroke:#7f6167!important}.heart-selected[_ngcontent-%COMP%]{fill:#e2264d!important;stroke:#e2264d!important;will-change:font-size;animation:heart 1s cubic-bezier(.17,.89,.32,1.49)}']}),y})();var ze=v(95273);function hn(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"a",3),l.NdJ("click",function(){const it=l.CHM(T).$implicit,xt=l.oxw();return l.KtG(xt.onShowFile(it))}),l._UZ(1,"img",4),l.qZA()}if(2&y){const T=q.$implicit;l.xp6(1),l.Q6J("src",T.imageLink,l.LSH)}}let ne=(()=>{class y extends c.Q{onShowFile(T){this.sAztDialogService.open(j.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:"image_post"+T.id,mimes:"image/jpeg",url:T.imageLink,index:-1}},restoreFocus:!1})}constructor(T,O){super(),this.sAztDialogService=T,this.sAztFileTypeService=O,this.images=[]}}return y.\u0275fac=function(T){return new(T||y)(l.Y36(J.C),l.Y36(ze.v))},y.\u0275cmp=l.Xpm({type:y,selectors:[["app-list-images-post"]],inputs:{images:"images"},features:[l.qOj],decls:3,vars:1,consts:[[1,"outerContainer"],[1,"containerw3","containerw3-margin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(T,O){1&T&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,hn,2,1,"a",2),l.qZA()()),2&T&&(l.xp6(2),l.Q6J("ngForOf",O.images))},dependencies:[ut.sg],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:arial}.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:300px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:300px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}@media (max-width: 767px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:150px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:150px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:150px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}@media (max-width: 400px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:100px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:100px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}']}),y})();function kt(y,q){if(1&y&&l.GkF(0,14),2&y){l.oxw();const T=l.MAs(17);l.Q6J("ngTemplateOutlet",T)}}function Fe(y,q){if(1&y&&(l.TgZ(0,"div"),l._UZ(1,"hr",10)(2,"app-news-list-comments",15),l.qZA()),2&y){const T=l.oxw();l.xp6(2),l.Q6J("isStudent",T.isStudent)("postObj",T.postObj)}}function zt(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"div",16)(1,"button",17),l.O4$(),l.TgZ(2,"svg",18),l._UZ(3,"circle",19)(4,"circle",20)(5,"circle",21),l.qZA()(),l.kcU(),l.TgZ(6,"mat-menu",22,23)(8,"div",24)(9,"ul",25)(10,"li")(11,"a",26),l.NdJ("click",function(){l.CHM(T);const P=l.oxw();return l.KtG(P.editPostEvent())}),l.O4$(),l.TgZ(12,"svg",27),l._UZ(13,"path",28)(14,"path",29),l.qZA(),l._uU(15),l.ALo(16,"mytranslate"),l.qZA()(),l.kcU(),l.TgZ(17,"li")(18,"a",30),l.NdJ("click",function(){l.CHM(T);const P=l.oxw();return l.KtG(P.deletePostEvent())}),l.O4$(),l.TgZ(19,"svg",31),l._UZ(20,"polyline",32)(21,"path",33),l.qZA(),l._uU(22),l.ALo(23,"mytranslate"),l.qZA()()()()()()}if(2&y){const T=l.MAs(7);l.xp6(1),l.Q6J("matMenuTriggerFor",T),l.xp6(14),l.hij(" ",l.lcZ(16,3,"lang_auto_sua")," "),l.xp6(7),l.hij(" ",l.lcZ(23,5,"lang_auto_xoa")," ")}}let ye=(()=>{class y extends c.Q{editPostEvent(){this.postObj.isShowEditForm=!0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}deletePostEvent(){this.sAztDialogService.open(cn,{width:"700px",data:this.postObj,restoreFocus:!1}).afterClosed().subscribe(O=>{O&&this.changePostObjEvent.emit({actionType:e.DELETE,postObj:this.postObj})})}changeEmotionEventEvent(T){this.postObj=T,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}constructor(T){super(),this.sAztDialogService=T,this.changePostObjEvent=new l.vpe}}return y.\u0275fac=function(T){return new(T||y)(l.Y36(J.C))},y.\u0275cmp=l.Xpm({type:y,selectors:[["app-news-view-post"]],inputs:{postObj:"postObj",isStudent:"isStudent"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[l.qOj],decls:18,vars:13,consts:[[1,"flex","items-center","mb-3"],[1,"w-9","h-9","image-fit"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3"],[1,"font-medium","whitespace-nowrap"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"pb-3"],[3,"content","maxLine"],[3,"images"],[1,"mb-3"],[1,"mb-3",3,"postObj","changePostObjEvent"],[4,"ngIf"],["newsEditOrDeleteNews",""],[3,"ngTemplateOutlet"],[1,"mb-3",3,"isStudent","postObj"],[1,"ml-auto"],["data-tw-toggle","dropdown",1,"absolute","clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"top","10px","right","10px","border-radius","50%",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],["azt-track-service","news-board-5U9HMbLBxY",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","news-board-35uylGIW_W",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(T,O){if(1&T&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"azt-create-avatar",2),l.qZA(),l.TgZ(3,"div",3)(4,"a",4),l._uU(5),l.qZA(),l.TgZ(6,"div",5),l._uU(7),l.ALo(8,"relativeTime"),l.qZA()()(),l.YNc(9,kt,1,1,"ng-container",6),l.TgZ(10,"div",7),l._UZ(11,"azt-see-more-multiple-lines",8),l.qZA(),l._UZ(12,"app-list-images-post",9)(13,"hr",10),l.TgZ(14,"app-news-emotions",11),l.NdJ("changePostObjEvent",function(it){return O.changeEmotionEventEvent(it)}),l.qZA(),l.YNc(15,Fe,3,2,"div",12),l.YNc(16,zt,24,7,"ng-template",null,13,l.W1O)),2&T){let P;l.xp6(2),l.Q6J("nameCreateAvatar",null==O.postObj.user?null:O.postObj.user.fullName)("linkAvatar",null==O.postObj.user?null:O.postObj.user.avatar)("size",36),l.xp6(3),l.hij("",null==O.postObj.user?null:O.postObj.user.fullName,"\xa0"),l.xp6(2),l.Oqu(l.lcZ(8,11,O.postObj.createdAt)),l.xp6(2),l.Q6J("ngIf",!O.isStudent),l.xp6(2),l.Q6J("content",O.postObj.content)("maxLine",0==(null!==(P=null==O.postObj.images?null:O.postObj.images.length)&&void 0!==P?P:0)?O.postObj.content.length:10),l.xp6(1),l.Q6J("images",O.postObj.images),l.xp6(2),l.Q6J("postObj",O.postObj),l.xp6(1),l.Q6J("ngIf",O.postObj.isShowCommentBox)}},dependencies:[ut.O5,ut.tP,Ne.VK,Ne.p6,be.g,$e,ke,we,ne,ot.JV,ot.Yy],encapsulation:2}),y})();function Yt(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"app-new-list-images",15),l.NdJ("filesChange",function(P){l.CHM(T);const it=l.oxw();return l.KtG(it.files=P)}),l.qZA()}if(2&y){const T=l.oxw();l.Q6J("files",T.files)}}function he(y,q){1&y&&(l.TgZ(0,"span",16),l._UZ(1,"azt-loading-ui"),l.qZA())}function se(y,q){1&y&&(l.TgZ(0,"span",17),l._UZ(1,"azt-loading-ui"),l.qZA())}let me=(()=>{class y extends c.Q{cancel(){this.postObj.isShowEditForm=!1,this.changePostObjEvent.emit(this.postObj)}saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();let T={content:this.contentFormControl.value??"",classroomId:this.postObj.id,imageLinks:this.files.map(O=>O.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsIdPut(this.postObj.id,T).subscribe({next:O=>{this.successStatusObj("lang_cms_update_success",!0);let P=[];this.files.forEach(it=>{P.push({id:0,newsId:this.postObj?.id??0,imageLink:it.url??"",createdAt:void 0})}),this.postObj.isShowEditForm=!1,this.postObj.content=T.content,this.postObj.images=P,this.changePostObjEvent.emit(this.postObj),this.contentFormControl.setValue(""),this.files=[]},error:O=>{this.errorStatusObj(O.error.message,!0)}}))}}onFileSelected(T){let P=T.target,it=P.files,xt=it?it[0]:null;null!=xt&&(this.isUploadFile=!0,(0,yt.hv)(xt).then(fe=>{this.apiUploadService.uploadToCdnForBusinessNews(fe).subscribe(qt=>{qt.type!=wt.dt.UploadProgress&&(1==qt.success?this.files?.push({...qt.data}):this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",qt.message??"none")),this.isUploadFile=!1)})})),P.files=null}ngOnInit(){this.userObj=this.userService.getUserObj(),this.contentFormControl.setValue(this.postObj.content),(this.postObj.images??[]).forEach(T=>{this.files.push({name:"",mimes:"image/jpeg",url:T.imageLink})})}constructor(T,O,P){super(),this.newsService=T,this.userService=O,this.apiUploadService=P,this.changePostObjEvent=new l.vpe,this.contentFormControl=new ct.NI("",{nonNullable:!0,validators:[i._.noWhiteSpace]}),this.files=[],this.isUploadFile=!1}}return y.\u0275fac=function(T){return new(T||y)(l.Y36(x.Yc),l.Y36(st.U),l.Y36(mt.W))},y.\u0275cmp=l.Xpm({type:y,selectors:[["app-news-edit-post"]],inputs:{classroomId:"classroomId",postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[l.qOj],decls:24,vars:20,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"relative","w-full","ml-3",2,"border-radius","5px"],["matInput","","autoResize","","row","5",1,"border-none",2,"resize","none","height","85px",3,"formControl","placeholder"],[3,"files","filesChange",4,"ngIf"],[1,"text-right","pt-1","pb-1"],[1,"flex","items-center","justify-end","w-auto"],["type","file","accept","image/png, image/gif, image/jpeg",1,"opacity-0","cursor-pointer",2,"display","none",3,"change"],["formChoseFile",""],[1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle",3,"click"],["class","w-4 h-4 inline-block ml-2 mr-2",4,"ngIf"],["name","image",1,"zoom-in",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip"],["azt-track-service","edit-post-3W8T83tTj_","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-post-NaJeb-mmLZ","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"files","filesChange"],[1,"w-4","h-4","inline-block","ml-2","mr-2"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(T,O){if(1&T){const P=l.EpF();l.TgZ(0,"div")(1,"div",0),l._UZ(2,"azt-create-avatar",1),l.TgZ(3,"div",2)(4,"textarea",3),l.ALo(5,"mytranslate"),l._uU(6,"            "),l.qZA()()(),l.YNc(7,Yt,1,1,"app-new-list-images",4),l.TgZ(8,"div",5)(9,"div",6)(10,"div")(11,"input",7,8),l.NdJ("change",function(xt){return O.onFileSelected(xt)}),l.qZA(),l.TgZ(13,"span",9),l.NdJ("click",function(){l.CHM(P);const xt=l.MAs(12);return l.KtG(xt.click())}),l.YNc(14,he,2,0,"span",10),l._UZ(15,"lucide-icon",11),l.ALo(16,"mytranslate"),l.qZA()(),l.TgZ(17,"button",12),l.NdJ("click",function(){return O.cancel()}),l._uU(18),l.ALo(19,"mytranslate"),l.qZA(),l.TgZ(20,"button",13),l.NdJ("click",function(){return O.saveNewPost()}),l.YNc(21,se,2,0,"span",14),l._uU(22),l.ALo(23,"mytranslate"),l.qZA()()()()}2&T&&(l.xp6(2),l.Q6J("nameCreateAvatar",O.userObj.fullName)("linkAvatar",O.userObj.avatar)("size",36),l.xp6(2),l.s9C("placeholder",l.lcZ(5,12,"lang_business_news_post_content")),l.Q6J("formControl",O.contentFormControl),l.xp6(3),l.Q6J("ngIf",O.files.length),l.xp6(7),l.Q6J("ngIf",O.isUploadFile),l.xp6(1),l.s9C("matTooltip",l.lcZ(16,14,"lang_core_tai_anh")),l.xp6(3),l.hij(" ",l.lcZ(19,16,"lang_cms_common_close_btn")," "),l.xp6(2),l.Q6J("disabled",""==O.contentFormControl.value||O.statusObj.loading),l.xp6(1),l.Q6J("ngIf",O.statusObj.loading),l.xp6(1),l.hij(" ",l.lcZ(23,18,"lang_business_news_update_post_button")," "))},dependencies:[ut.O5,_t.Nt,H.gM,ct.Fj,ct.JJ,ct.oH,be.g,gt,ht.n,R.Nh5,nt,ot.JV],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0}"]}),y})();function We(y,q){1&y&&(l.TgZ(0,"div",3),l._UZ(1,"azt-loading-effect"),l.qZA())}function Xe(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"div",6)(1,"app-news-add-new-post",7),l.NdJ("changePostObjEvent",function(P){l.CHM(T);const it=l.oxw(2);return l.KtG(it.changePostObj(it.enumNewsPostActionType.ADD_NEW,P))}),l.qZA()()}if(2&y){const T=l.oxw(2);l.xp6(1),l.Q6J("classroomId",T.classroomId)}}function fn(y,q){if(1&y){const T=l.EpF();l.ynx(0),l.TgZ(1,"app-news-view-post",11),l.NdJ("changePostObjEvent",function(P){l.CHM(T);const it=l.oxw(3);return l.KtG(it.changePostObj(P.actionType,P.postObj))}),l.qZA(),l.BQk()}if(2&y){const T=l.oxw().$implicit,O=l.oxw(2);l.xp6(1),l.Q6J("isStudent",O.isStudent)("postObj",T)}}function xn(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"app-news-edit-post",12),l.NdJ("changePostObjEvent",function(P){l.CHM(T);const it=l.oxw(3);return l.KtG(it.changePostObj(it.enumNewsPostActionType.UPDATE,P))}),l.qZA()}if(2&y){const T=l.oxw().$implicit,O=l.oxw(2);l.Q6J("postObj",T)("classroomId",O.classroomId)}}function tn(y,q){if(1&y&&(l.TgZ(0,"div",8),l.YNc(1,fn,2,2,"ng-container",9),l.YNc(2,xn,1,2,"ng-template",null,10,l.W1O),l.qZA()),2&y){const T=q.$implicit,O=l.MAs(3);l.xp6(1),l.Q6J("ngIf",!T.isShowEditForm)("ngIfElse",O)}}function bn(y,q){1&y&&(l.TgZ(0,"div",6)(1,"div",13)(2,"div",14),l.O4$(),l.TgZ(3,"svg",15),l._UZ(4,"path",16)(5,"path",17)(6,"path",18)(7,"path",19)(8,"path",20)(9,"path",21),l.qZA(),l.kcU(),l.TgZ(10,"p",22),l._uU(11),l.ALo(12,"mytranslate"),l.qZA()()()()),2&y&&(l.xp6(11),l.Oqu(l.lcZ(12,1,"lang_student_news_there_is_no_news")+"!"))}function vn(y,q){1&y&&(l.TgZ(0,"span",26),l._UZ(1,"azt-loading-ui"),l.qZA())}function It(y,q){if(1&y){const T=l.EpF();l.TgZ(0,"button",27),l.NdJ("click",function(){l.CHM(T);const P=l.oxw(3);return l.KtG(P.getNextPage())}),l.ALo(1,"mytranslate"),l.O4$(),l.TgZ(2,"svg",28),l._UZ(3,"polyline",29),l.qZA()()}2&y&&l.s9C("matTooltip",l.lcZ(1,1,"lang_auto_hien_ban_ghi_cu_hon"))}function Kt(y,q){if(1&y&&(l.TgZ(0,"div",6)(1,"div",23),l.YNc(2,vn,2,0,"span",24),l.YNc(3,It,4,3,"ng-template",null,25,l.W1O),l.qZA()()),2&y){const T=l.MAs(4),O=l.oxw(2);l.xp6(2),l.Q6J("ngIf",O.sAztNextPaginationService.isLoadingNextPage)("ngIfElse",T)}}function Tn(y,q){if(1&y&&(l.YNc(0,Xe,2,1,"div",4),l.YNc(1,tn,4,2,"div",5),l.YNc(2,bn,13,3,"div",4),l.YNc(3,Kt,5,2,"div",4)),2&y){const T=l.oxw();l.Q6J("ngIf",!T.isStudent),l.xp6(1),l.Q6J("ngForOf",T.postObjs),l.xp6(1),l.Q6J("ngIf",T.postObjs.length<=0),l.xp6(1),l.Q6J("ngIf",T.postObjs.length&&T.sAztNextPaginationService.hasNextPage)}}let Cn=(()=>{class y extends c.Q{changePostObj(T,O){T==e.ADD_NEW?this.postObjs.unshift(O):this.postObjs=T==e.UPDATE?this.postObjs.map(P=>P.id==O.id?O:P):this.postObjs.filter(P=>P.id!=O.id)}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(T){var O={size:this.sAztNextPaginationService.itemPerPage,page:this.sAztNextPaginationService.curPage,classroomId:this.classroomId,student:this.isStudent};T?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsListPost(O).subscribe({next:P=>{let it={page:1,size:-1,newsIds:P.list.map(xt=>xt.id).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsEmotionsListPost(it).subscribe({next:xt=>{let fe=this.commonService.arrayToUniqueDictionary(xt.list??[],qt=>qt.newsId.toString());P.list.forEach(qt=>{this.postObjs.push({...qt,hasLoveEmotion:fe.hasOwnProperty(qt.id),isShowEditForm:!1,isShowCommentBox:!1})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(P.total),this.stopStatusObj()},error:xt=>{this.errorStatusObj(xt.error.message,!0)}}))},error:P=>{this.errorStatusObj(P.error.message,!0)}}))}getDataFirstTime(){this.postObjs=[],this.sAztNextPaginationService.resetToFirstPage(),this.getData(!1)}ngOnChanges(){this.getDataFirstTime()}ngOnInit(){super.ngOnInit()}constructor(T,O,P){super(),this.newsService=T,this.activeRoute=O,this.sAztNextPaginationService=P,this.postObjs=[],this.enumNewsPostActionType=e}}return y.\u0275fac=function(T){return new(T||y)(l.Y36(x.Yc),l.Y36(t.gz),l.Y36(at.S))},y.\u0275cmp=l.Xpm({type:y,selectors:[["app-news-board"]],inputs:{isStudent:"isStudent",classroomId:"classroomId"},features:[l._Bn([at.S]),l.qOj,l.TTD],decls:4,vars:2,consts:[[1,"grid","grid-cols-12"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start mb-3",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start box p-3 mb-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","mb-3"],[3,"classroomId","changePostObjEvent"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","box","p-3","mb-3"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"isStudent","postObj","changePostObjEvent"],[3,"postObj","classroomId","changePostObjEvent"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","87","height","102","viewBox","0 0 87 102","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M66.6719 13.9999L75.9738 81.8427L76.8095 88.649C77.0787 90.8417 75.5194 92.8374 73.3268 93.1066L14.7665 100.297C12.5739 100.566 10.5781 99.0069 10.3089 96.8142L1.29312 23.3867C1.1585 22.2904 1.93813 21.2925 3.03447 21.1579C3.0414 21.157 3.04832 21.1562 3.05526 21.1554L7.91363 20.6104M11.8422 20.1698L16.4292 19.6552L11.8422 20.1698Z","fill","white"],["d","M67.9103 13.8302C67.8165 13.1462 67.186 12.6678 66.5021 12.7615C65.8181 12.8553 65.3397 13.4858 65.4335 14.1697L67.9103 13.8302ZM75.9738 81.8427L77.2144 81.6903C77.2137 81.6845 77.213 81.6787 77.2122 81.6729L75.9738 81.8427ZM76.8095 88.649L78.0502 88.4967L76.8095 88.649ZM73.3268 93.1066L73.4791 94.3473L73.3268 93.1066ZM14.7665 100.297L14.9189 101.538L14.7665 100.297ZM10.3089 96.8142L11.5496 96.6619L10.3089 96.8142ZM3.05526 21.1554L3.1946 22.3976L3.05526 21.1554ZM8.05297 21.8527C8.73902 21.7757 9.23279 21.1572 9.15583 20.4711C9.07888 19.7851 8.46034 19.2913 7.77428 19.3682L8.05297 21.8527ZM11.7028 18.9276C11.0168 19.0045 10.523 19.6231 10.5999 20.3091C10.6769 20.9952 11.2954 21.4889 11.9815 21.412L11.7028 18.9276ZM16.5685 20.8974C17.2546 20.8205 17.7484 20.2019 17.6714 19.5159C17.5945 18.8298 16.9759 18.3361 16.2899 18.413L16.5685 20.8974ZM65.4335 14.1697L74.7353 82.0125L77.2122 81.6729L67.9103 13.8302L65.4335 14.1697ZM74.7331 81.995L75.5688 88.8013L78.0502 88.4967L77.2144 81.6903L74.7331 81.995ZM75.5688 88.8013C75.7539 90.3088 74.6819 91.6809 73.1744 91.866L73.4791 94.3473C76.357 93.994 78.4035 91.3745 78.0502 88.4967L75.5688 88.8013ZM73.1744 91.866L14.6142 99.0563L14.9189 101.538L73.4791 94.3473L73.1744 91.866ZM14.6142 99.0563C13.1067 99.2414 11.7347 98.1694 11.5496 96.6619L9.0682 96.9666C9.42156 99.8445 12.041 101.891 14.9189 101.538L14.6142 99.0563ZM11.5496 96.6619L2.5338 23.2344L0.0524334 23.539L9.0682 96.9666L11.5496 96.6619ZM2.5338 23.2344C2.48332 22.8232 2.77568 22.449 3.18681 22.3986L2.88213 19.9172C1.10059 20.1359 -0.166313 21.7575 0.0524334 23.539L2.5338 23.2344ZM3.18681 22.3986C3.1894 22.3982 3.192 22.3979 3.1946 22.3976L2.91592 19.9132C2.90465 19.9145 2.89339 19.9158 2.88213 19.9172L3.18681 22.3986ZM3.1946 22.3976L8.05297 21.8527L7.77428 19.3682L2.91592 19.9132L3.1946 22.3976ZM11.9815 21.412L16.5685 20.8974L16.2899 18.413L11.7028 18.9276L11.9815 21.412Z","fill","#1F64E7"],["fill-rule","evenodd","clip-rule","evenodd","d","M64.14 18.2692L72.5596 79.7529L73.3169 85.9212C73.5609 87.9083 72.1669 89.7146 70.2033 89.9557L17.7613 96.3948C15.7978 96.6359 14.0082 95.2204 13.7642 93.2333L5.61416 26.8568C5.47955 25.7605 6.25918 24.7626 7.35551 24.628L13.8431 23.8314","fill","#E8F0FE"],["d","M20.9219 4C20.9219 2.48122 22.1531 1.25 23.6719 1.25H69.2286C69.9577 1.25 70.6569 1.5395 71.1726 2.05485L84.6158 15.4898C85.1319 16.0056 85.4219 16.7053 85.4219 17.4349V80C85.4219 81.5188 84.1907 82.75 82.6719 82.75H23.6719C22.1531 82.75 20.9219 81.5188 20.9219 80V4Z","fill","white","stroke","#1F64E7","stroke-width","2.5"],["d","M69.6719 2.40283V14C69.6719 15.6569 71.015 17 72.6719 17H80.6055","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M31 17H57M31 29H74M31 42H74M31 55H74M31 68H57","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"],[1,"flex","justify-center"],["class","w-4 h-4 inline-block mr-2",4,"ngIf","ngIfElse"],["doneLoadNextPage",""],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","trash-homework-tab-C69nk6waYbG",1,"btn","btn-transparent",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(T,O){if(1&T&&(l.TgZ(0,"div",0),l.YNc(1,We,2,0,"div",1),l.YNc(2,Tn,4,4,"ng-template",null,2,l.W1O),l.qZA()),2&T){const P=l.MAs(3);l.xp6(1),l.Q6J("ngIf",O.statusObj.loading)("ngIfElse",P)}},dependencies:[ut.sg,ut.O5,H.gM,St.l,ht.n,Ee,ye,me,ot.JV],encapsulation:2}),y})()},9345:(An,Rt,v)=>{v.d(Rt,{u:()=>gt});var at=v(56223),c=v(72164),e=v(76359),l=v(47180),x=v(65879),t=v(75470),ut=v(90592),H=v(96814),St=v(19347);function ht(R,j){1&R&&(x.TgZ(0,"div",12)(1,"span",13),x._UZ(2,"azt-loading-ui"),x.qZA()())}function wt(R,j){1&R&&(x.TgZ(0,"div",35)(1,"div",36),x._uU(2),x.ALo(3,"mytranslate"),x.qZA()()),2&R&&(x.xp6(2),x.hij(" ",x.lcZ(3,1,"lang_testbank_test_config_you_not_yet_class")," "))}function ct(R,j){1&R&&(x.TgZ(0,"div",37),x._uU(1),x.ALo(2,"mytranslate"),x.qZA()),2&R&&(x.xp6(1),x.hij(" ",x.lcZ(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_class_click_choose"),". "))}function i(R,j){if(1&R){const J=x.EpF();x.TgZ(0,"input",50),x.NdJ("keyup",function(){x.CHM(J);const nt=x.oxw().index,ot=x.oxw(2);return x.KtG(ot.validateInput(nt))}),x.ALo(1,"mytranslate"),x.qZA()}if(2&R){const J=x.oxw(),nt=J.$implicit;x.MGl("id","input-event-",J.index,""),x.s9C("value",nt.nameClass),x.s9C("placeholder",x.lcZ(1,3,"lang_auto_nhap_ten_lop"))}}function yt(R,j){if(1&R){const J=x.EpF();x.TgZ(0,"textarea",51),x.NdJ("keyup",function(){x.CHM(J);const nt=x.oxw().index,ot=x.oxw(2);return x.KtG(ot.validateInput(nt))}),x.ALo(1,"mytranslate"),x.qZA()}if(2&R){const J=x.oxw(),nt=J.$implicit;x.MGl("id","input-event-",J.index,""),x.s9C("value",nt.nameClass),x.s9C("placeholder",x.lcZ(1,3,"lang_auto_nhap_ten_lop"))}}function st(R,j){if(1&R){const J=x.EpF();x.TgZ(0,"div",38)(1,"div",39)(2,"div",40),x.YNc(3,i,2,5,"input",41),x.YNc(4,yt,2,5,"textarea",42),x.qZA(),x.TgZ(5,"div",43)(6,"button",44),x.NdJ("click",function(){const ot=x.CHM(J).$implicit,ft=x.oxw(2);return x.KtG(ft.clearInput(ot.id))}),x.O4$(),x.TgZ(7,"svg",45),x._UZ(8,"line",46)(9,"line",47),x.qZA()()()(),x.kcU(),x.TgZ(10,"div",48,49),x._uU(12),x.ALo(13,"mytranslate"),x.qZA()()}if(2&R){const J=j.index,tt=x.oxw(2);x.xp6(3),x.Q6J("ngIf",0==tt.isMobile),x.xp6(1),x.Q6J("ngIf",1==tt.isMobile),x.xp6(6),x.MGl("id","logerror",J,""),x.xp6(2),x.hij(" ",x.lcZ(13,4,"lang_student_classroom_list_utils_create_class_new_course_choose_class_dont_class_null"),". ")}}function mt(R,j){if(1&R){const J=x.EpF();x.TgZ(0,"form",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h3",18),x._uU(5),x.ALo(6,"mytranslate"),x._UZ(7,"azt-list-classroom-count-checked",19),x.qZA(),x.TgZ(8,"div",20)(9,"div",21)(10,"azt-list-classroom-check-all",22),x.NdJ("changeCheckboxEvent",function(nt){x.CHM(J);const ot=x.oxw();return x.KtG(ot.changeCheckboxEvent(nt))}),x.qZA()(),x.TgZ(11,"div",23),x._UZ(12,"azt-is-show-check-classroom",24),x.qZA()()(),x.TgZ(13,"div",25)(14,"ng-scrollbar",26)(15,"azt-list-classroom-checkbox",27),x.NdJ("objsChange",function(nt){x.CHM(J);const ot=x.oxw();return x.KtG(ot.classroomObjs=nt)})("changeCheckboxEvent",function(nt){x.CHM(J);const ot=x.oxw();return x.KtG(ot.changeCheckboxEvent(nt))}),x.qZA()()(),x.YNc(16,wt,4,3,"div",28),x.qZA(),x.TgZ(17,"div",29)(18,"div",30),x._uU(19),x.ALo(20,"mytranslate"),x.qZA(),x.TgZ(21,"div",31),x.YNc(22,ct,3,3,"div",32),x.TgZ(23,"div",33),x.YNc(24,st,14,6,"div",34),x.qZA()()()()()}if(2&R){const J=x.oxw();x.Q6J("formGroup",J.form),x.xp6(5),x.hij(" ",x.lcZ(6,17,"lang_auto_danh_sach_cac_lop"),"\xa0 "),x.xp6(2),x.Q6J("formArray",J.form.controls.classroomIds),x.xp6(3),x.Q6J("formArray",J.form.controls.classroomIds)("objs",J.classroomObjs)("permissionName",J.permissionTypes.classroom),x.xp6(2),x.Q6J("form",J.form),x.xp6(2),x.Q6J("visibility","hover")("autoHeightDisabled",!1),x.xp6(1),x.Q6J("form",J.form)("formArrayName","classroomIds")("objs",J.classroomObjs)("permissionName",J.permissionTypes.classroom),x.xp6(1),x.Q6J("ngIf",null==J.form.controls.classroomIds.errors?null:J.form.controls.classroomIds.errors.classroomCheckBoxValidatorWithoutWhoAllow),x.xp6(3),x.hij(" ",x.lcZ(20,19,"lang_student_classroom_list_utils_create_class_new_course_choose_class_respective_class")," "),x.xp6(3),x.Q6J("ngIf",0==J.dataUpgradeClass.length),x.xp6(2),x.Q6J("ngForOf",J.dataUpgradeClass)}}function _t(R,j){1&R&&(x.TgZ(0,"span",52),x._UZ(1,"azt-loading-ui"),x.qZA())}let gt=(()=>{class R extends c.e{closeDialog(){this.dialogRef.close()}validateInput(J){let tt=document.getElementById("input-event-"+J),nt=tt?tt.value:"";if(""==nt){let ot=document.getElementById("logerror"+J);ot&&(ot.style.display="block")}if(""!=nt){let ot=document.getElementById("logerror"+J);ot&&(ot.style.display="none")}}handleUpgrade(){if(0!=this.dataUpgradeClass.length){let J=!0;this.sendDataUpgradeClass=[];for(let tt=0;tt<this.dataUpgradeClass.length;tt++){let nt=document.getElementById("input-event-"+tt),ot=nt?nt.value:"";""==ot&&(J=!1),this.validateInput(tt),this.sendDataUpgradeClass.push({oldId:this.dataUpgradeClass[tt].id,newName:ot,year:this.increaseYear(this.dataUpgradeClass[tt].year)})}1==J&&this.upgradeClassroomGroup()}else this.viewErrorSelected=!1}increaseYear(J){if(null!=J||null!=J){let tt=J.split(" ")[0],nt=parseInt(tt,10)+1;return nt+" - "+(nt+1)}}changeCheckboxEvent(J){const tt=this.sAztClassroomCheckboxService.findClassroomWithNoPermission(this.classroomObjs,e.y.classroom),nt=this.sAztClassroomCheckboxService.getClassroomIdsChecked(this.classroomObjs,tt,this.form.controls.classroomIds.value),ot=nt.concat(this.dataUpgradeClass.map(Mt=>Mt.id??0));let ft=ot.filter(Mt=>ot.indexOf(Mt)===ot.lastIndexOf(Mt));nt.length>this.dataUpgradeClass.length?this.dataUpgradeClass=this.dataUpgradeClass.concat(this.classroomObjs.filter(Mt=>ft.includes(Mt.id??0)).map(Mt=>{let _e,oe=Mt.name,Ee=Mt.year,ie=oe?.match(/\d+/g);if(null==ie)_e=oe;else{let Se=parseInt(ie[0].toString(),10)+1;_e=oe?.replace(ie[0],Se.toString())}return{id:Mt.id,nameClass:_e,year:Ee}})):ft.forEach(Mt=>{this.dataUpgradeClass.splice(this.dataUpgradeClass.findIndex(oe=>oe.id===Mt),1)})}clearInput(J){setTimeout(()=>{document.getElementById("azt-checkbox-item-"+J)?.click()},0)}upgradeClassroomGroup(){this.initStatusObj();for(var J=[],tt=0;tt<this.sendDataUpgradeClass.length;tt++)J.push({oldId:this.sendDataUpgradeClass[tt].oldId??0,newName:this.sendDataUpgradeClass[tt].newName??"",year:this.sendDataUpgradeClass[tt].year??""});this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpgradeClassroomPost(J).subscribe(nt=>{1==nt.success?(nt.data?.isDuplicatedClassroomName?this.errorStatusObj(nt.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(),this.errorStatusObj("lang_auto_tao_lop_cho_khoa_moi_khong_thanh_cong",!0))}))}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet().subscribe(J=>{if(J.success){var tt=J?.data?.classroomData??[];for(let nt=0;nt<tt.length;nt++)null!=tt[nt].groupObj&&-1!=tt[nt].groupObj?.id&&(this.classroomObjs=this.classroomObjs.concat(tt[nt].classroomObjs??[])),null==tt[nt].groupObj&&(this.classroomObjs=this.classroomObjs.concat(tt[nt].classroomObjs??[]));this.classroomObjs=this.classroomObjs.filter(nt=>!nt.isShareClassroom),this.successStatusObj()}else this.errorStatusObj(J.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getClassroomObjs(),super.ngOnInit()}constructor(J,tt,nt,ot){super(void 0,ot),this.classroomGroupService=J,this.sAztClassroomCheckboxService=tt,this.location=nt,this.dialogRef=ot,this.classroomObjs=[],this.dataUpgradeClass=[],this.sendDataUpgradeClass=[],this.selectedAll=!1,this.viewErrorSelected=!0,this.isMobile=this.commonService.isMobileOrTable(),this.permissionTypes=e.y,this.form=new at.cw({classroomIds:new at.Oe([]),whoAllow:new at.NI(0,{nonNullable:!0}),isShowCheckClass:new at.NI(!1,{nonNullable:!0})},{validators:[l.h.classroomCheckBoxValidatorWithoutWhoAllow]})}}return R.\u0275fac=function(J){return new(J||R)(x.Y36(t.c8),x.Y36(ut.f),x.Y36(H.Ye),x.Y36(St.so,8))},R.\u0275cmp=x.Xpm({type:R,selectors:[["app-create-class-new-course"]],features:[x.qOj],decls:21,vars:17,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-1"],[3,"defaultHeight"],["class","flex items-center h-full",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","text-right"],["azt-track-service","create-classroom-new-course-dialog-k_ZG3G-AAS",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","create-classroom-new-course-dialog-OvOUaKHkJOv",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex","items-center","h-full"],[1,"w-6","h-6","inline-block","mx-auto"],[3,"formGroup"],[1,"p-3","pt-0"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","pb-1","mt-2"],[1,"p-3","bg-slate-100","dark:bg-darkmode-400","flex","flex-col","sm:flex-row","sm:h-auto","sm:items-center"],[1,"mr-auto"],[3,"formArray"],[1,"flex","mt-2","sm:mt-0"],[1,"mr-3"],[3,"formArray","objs","permissionName","changeCheckboxEvent"],[1,"mr-0"],[3,"form"],[1,"classroom_list"],["pointerEventsMethod","scrollbar",3,"visibility","autoHeightDisabled"],[3,"form","formArrayName","objs","permissionName","objsChange","changeCheckboxEvent"],["class","w-full p-2",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["class","text-center m-3",4,"ngIf"],[1,"grid","grid-cols-12","gap-2","ml-2","mr-2","mb-2"],["class","col-span-12 md:col-span-6 2xl:col-span-4 p2",4,"ngFor","ngForOf"],[1,"w-full","p-2"],[1,"text-left","text-danger"],[1,"text-center","m-3"],[1,"col-span-12","md:col-span-6","2xl:col-span-4","p2"],[1,"flex","items-center","p-1","rounded"],[1,"col-span-10","m-0","p-2",2,"width","100%"],["class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],["class","text-area-form","rows","2","wrap","soft","class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],[1,"col-span-2","m-0","p-1","text-center"],["azt-track-service","create-classroom-new-course-dialog-NjCJ7r_T8U",1,"btn","btn-sm","btn-secondary","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"alert","alert-danger","mt-1",2,"margin","auto","padding","5px 10px","display","none",3,"id"],["ab",""],["type","text",1,"form-control",3,"id","value","placeholder","keyup"],["rows","2","wrap","soft","type","text",1,"form-control",3,"id","value","placeholder","keyup"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(J,tt){if(1&J&&(x.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),x._uU(4),x.ALo(5,"mytranslate"),x.qZA(),x.TgZ(6,"div",4),x._uU(7),x.ALo(8,"mytranslate"),x.qZA()(),x.TgZ(9,"azt-mat-dialog-content",5),x.YNc(10,ht,3,0,"div",6),x.YNc(11,mt,25,21,"ng-template",null,7,x.W1O),x.qZA()(),x.TgZ(13,"div",8)(14,"button",9),x.NdJ("click",function(){return tt.closeDialog()}),x._uU(15),x.ALo(16,"mytranslate"),x.qZA(),x.TgZ(17,"button",10),x.NdJ("click",function(){return tt.handleUpgrade()}),x.YNc(18,_t,2,0,"span",11),x._uU(19),x.ALo(20,"mytranslate"),x.qZA()()()),2&J){const nt=x.MAs(12);x.xp6(4),x.hij(" ",x.lcZ(5,9,"lang_student_classroom_list_create_class_new_cousre")," "),x.xp6(3),x.Oqu(x.lcZ(8,11,"lang_student_classroom_list_utils_create_class_new_course_conten_review")),x.xp6(2),x.Q6J("defaultHeight",55),x.xp6(1),x.Q6J("ngIf",tt.statusObj.loading)("ngIfElse",nt),x.xp6(5),x.hij(" ",x.lcZ(16,13,"lang_button_cancel")," "),x.xp6(2),x.Q6J("disabled",tt.form.invalid),x.xp6(1),x.Q6J("ngIf",tt.statusObj.loading),x.xp6(1),x.hij(" ",x.lcZ(20,15,"lang_button_save")," ")}},encapsulation:2}),R})()},48795:(An,Rt,v)=>{v.d(Rt,{v:()=>zs});var at=v(21266),c=v(82481),e=v(71026),l=v(52572),x=v(47496),t=v(65879),ut=v(78820),H=v(96814),St=v(98129),ht=v(37722),wt=v(88760),ct=v(8633),i=v(63278),yt=v(54),st=v(43389),mt=v(71646),_t=v(25368),gt=v(92596),R=v(93523),j=v(36727);function J(s,h){1&s&&(t._UZ(0,"lucide-icon",11),t.ALo(1,"mytranslate")),2&s&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_published"))}function tt(s,h){1&s&&(t._UZ(0,"lucide-icon",12),t.ALo(1,"mytranslate")),2&s&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_Unpublished"))}function nt(s,h){if(1&s&&(t.TgZ(0,"div")(1,"div",8),t.YNc(2,J,2,3,"lucide-icon",9),t.YNc(3,tt,2,3,"lucide-icon",10),t.qZA()()),2&s){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",1==n.document.homework.isPublished),t.xp6(1),t.Q6J("ngIf",1!=n.document.homework.isPublished)}}function ot(s,h){1&s&&(t._UZ(0,"lucide-icon",15),t.ALo(1,"mytranslate")),2&s&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_published"))}function ft(s,h){1&s&&(t._UZ(0,"lucide-icon",12),t.ALo(1,"mytranslate")),2&s&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_Unpublished"))}function Mt(s,h){if(1&s&&(t.TgZ(0,"div",13),t.YNc(1,ot,2,3,"lucide-icon",14),t.YNc(2,ft,2,3,"lucide-icon",10),t.qZA()),2&s){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",1==(null==n.document.exam?null:n.document.exam.isPublished)),t.xp6(1),t.Q6J("ngIf",1!=(null==n.document.exam?null:n.document.exam.isPublished))}}function oe(s,h){if(1&s&&(t.TgZ(0,"div",16)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&s){const n=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_luot_lam")+": "+n.document.exam.attended)}}function Ee(s,h){if(1&s&&(t.TgZ(0,"div",16)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&s){const n=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_da_nop")+": "+n.document.homework.count+"/"+n.document.homework.totalStudent)}}const ie=function(s){return{"mt-3":s}};let _e=(()=>{class s extends x.Q{}return s.\u0275fac=function(){let h;return function(m){return(h||(h=t.n5z(s)))(m||s)}}(),s.\u0275cmp=t.Xpm({type:s,selectors:[["exam-exercises-block"]],inputs:{document:"document",index:"index"},features:[t.qOj],decls:11,vars:11,consts:[[1,"flex","items-center","cursor-pointer","hover:bg-slate-100","rounded-md","p-2",2,"text-align","left","border","none","box-shadow","none",3,"ngClass"],[1,"flex-none","image-fit","rounded-md","overflow-hidden"],[4,"ngIf","ngIfElse"],["ExamIcon",""],[1,"ml-4","mr-auto","w-2/3"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-500 text-xs mt-0.5 font-medium",4,"ngIf"],[1,"w-12","h-12","text-primary"],["name","file-text","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-text","matTooltipShowDelay","1000",3,"matTooltip"],["name","file","matTooltipShowDelay","1000",3,"matTooltip"],[1,"w-12","h-12","text-pending"],["name","file-check","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-check","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5","font-medium"]],template:function(n,m){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,nt,4,2,"div",2),t.YNc(3,Mt,3,2,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(5,"div",4)(6,"div",5,6),t._uU(8),t.qZA(),t.YNc(9,oe,4,3,"div",7),t.YNc(10,Ee,4,3,"div",7),t.qZA()()),2&n){const u=t.MAs(4),C=t.MAs(7);t.Q6J("ngClass",t.VKq(9,ie,0!==m.index)),t.xp6(2),t.Q6J("ngIf",m.document.homework)("ngIfElse",u),t.xp6(4),t.s9C("matTooltip",m.document.exam?m.document.exam.name:null==m.document.homework?null:m.document.homework.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",C.isDisabled),t.xp6(2),t.hij(" ",m.document.exam?m.document.exam.name:null==m.document.homework?null:m.document.homework.name," "),t.xp6(1),t.Q6J("ngIf",m.document.exam),t.xp6(1),t.Q6J("ngIf",m.document.homework)}},dependencies:[H.mk,H.O5,gt.gM,R.Q,ht.Nh5,j.JV],encapsulation:2}),s})();function Se(s,h){1&s&&t._UZ(0,"azt-loading-effect")}function ln(s,h){1&s&&(t.TgZ(0,"h2",16),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_list_of_assigned_assignments")))}function cn(s,h){1&s&&(t.TgZ(0,"h2",16),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_search_results")))}function Ne(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2);return t.KtG(u.backToDocumentList())}),t.TgZ(1,"span",18),t._UZ(2,"lucide-icon",19),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&s&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_auto_quay_lai")))}function be(s,h){1&s&&t._UZ(0,"azt-loading-effect")}const ue=function(s){return[s]},ve=function(s){return{backto:s}};function Ge(s,h){if(1&s&&(t.TgZ(0,"a",34),t.ALo(1,"localize"),t._UZ(2,"exam-exercises-block",35),t.qZA()),2&s){const n=t.oxw(2),m=n.$implicit,u=n.index,C=t.oxw(6);t.Q6J("routerLink",t.lcZ(1,4,t.VKq(6,ue,"/admin/testbank/homework-results-list/"+m.homework.classroomId+"/"+m.homework.id+"/"+m.homework.hashId)))("queryParams",t.VKq(8,ve,"/admin/student/classroom-details/"+C.classroomId+"/1")),t.xp6(2),t.Q6J("document",m)("index",u)}}function Pe(s,h){if(1&s&&(t.TgZ(0,"a",36),t.ALo(1,"localize"),t._UZ(2,"exam-exercises-block",35),t.qZA()),2&s){const n=t.oxw(2),m=n.$implicit,u=n.index,C=t.oxw(6);t.Q6J("routerLink",t.lcZ(1,4,t.VKq(6,ue,"/bai-tap/"+m.homework.hashId)))("queryParams",t.VKq(8,ve,"/student/classroom-details/"+C.classroomId+"/1")),t.xp6(2),t.Q6J("document",m)("index",u)}}function mn(s,h){if(1&s&&(t.ynx(0),t.YNc(1,Ge,3,10,"a",32),t.YNc(2,Pe,3,10,"a",33),t.BQk()),2&s){const n=t.oxw(7);t.xp6(1),t.Q6J("ngIf",!n.isStudent),t.xp6(1),t.Q6J("ngIf",n.isStudent)}}function je(s,h){if(1&s&&(t.TgZ(0,"a",39),t.ALo(1,"localize"),t._UZ(2,"exam-exercises-block",35),t.qZA()),2&s){const n=t.oxw(2),m=n.$implicit,u=n.index,C=t.oxw(6);let E;t.Q6J("routerLink",t.lcZ(1,4,t.VKq(6,ue,"/admin/testbank/exam-results-list/"+(null!==(E=null==m.exam?null:m.exam.categoryId)&&void 0!==E?E:0)+"/"+(null==m.exam?null:m.exam.id)+"/0")))("queryParams",t.VKq(8,ve,"/admin/student/classroom-details/"+C.classroomId+"/1")),t.xp6(2),t.Q6J("document",m)("index",u)}}function Ve(s,h){if(1&s&&(t.TgZ(0,"a",40),t.ALo(1,"localize"),t._UZ(2,"exam-exercises-block",35),t.qZA()),2&s){const n=t.oxw(2),m=n.$implicit,u=n.index,C=t.oxw(6);t.Q6J("routerLink",t.lcZ(1,4,t.VKq(6,ue,"/de-thi/"+(null==m.exam?null:m.exam.hashId))))("queryParams",t.VKq(8,ve,"/student/classroom-details/"+C.classroomId+"/1")),t.xp6(2),t.Q6J("document",m)("index",u)}}function $e(s,h){if(1&s&&(t.YNc(0,je,3,10,"a",37),t.YNc(1,Ve,3,10,"a",38)),2&s){const n=t.oxw(7);t.Q6J("ngIf",!n.isStudent),t.xp6(1),t.Q6J("ngIf",n.isStudent)}}function pe(s,h){if(1&s&&(t.TgZ(0,"div",30),t.YNc(1,mn,3,2,"ng-container",0),t.YNc(2,$e,2,2,"ng-template",null,31,t.W1O),t.qZA()),2&s){const n=h.$implicit,m=t.MAs(3);t.xp6(1),t.Q6J("ngIf",n.homework)("ngIfElse",m)}}function dn(s,h){if(1&s&&(t.TgZ(0,"div",28),t.YNc(1,pe,4,2,"div",29),t.qZA()),2&s){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.documentList)}}function Re(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div")(1,"div")(2,"button",23),t.NdJ("click",function(){const C=t.CHM(n).$implicit;return t.KtG(C.isExpand=!C.isExpand)}),t.TgZ(3,"span",24),t._UZ(4,"lucide-icon",25),t.qZA(),t.TgZ(5,"span",26),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"getDayOfWeek"),t.ALo(9,"mytranslate"),t.ALo(10,"formatOnlyDateByUserUnitPipe"),t.qZA()()(),t.YNc(11,dn,2,1,"div",27),t.qZA()}if(2&s){const n=h.$implicit;t.xp6(4),t.s9C("name",n.isExpand?"chevron-down":"chevron-right"),t.xp6(2),t.Oqu(t.lcZ(7,3,t.lcZ(8,5,n.assignmentDate))+", "+t.lcZ(9,7,"lang_testbank_powerpoint_date")+" "+t.lcZ(10,9,n.assignmentDate)),t.xp6(5),t.Q6J("ngIf",n.isExpand)}}function Sn(s,h){1&s&&(t.TgZ(0,"span",44),t._UZ(1,"azt-loading-ui"),t.qZA())}function _n(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",41)(1,"span",42),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(4);return t.KtG(!u.sAztNextPaginationService.isLoadingNextPage&&u.getNextPage())}),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,Sn,2,0,"span",43),t.qZA()()}if(2&s){const n=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_business_document_get_more_documents")," "),t.xp6(2),t.Q6J("ngIf",n.sAztNextPaginationService.isLoadingNextPage)}}function Ke(s,h){if(1&s&&(t.ynx(0),t.YNc(1,Re,12,11,"div",21),t.YNc(2,_n,5,4,"div",22),t.BQk()),2&s){const n=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n.listGroupDocumentObjs),t.xp6(1),t.Q6J("ngIf",n.sAztNextPaginationService.hasNextPage)}}function un(s,h){1&s&&(t.TgZ(0,"div",45)(1,"div",46),t.O4$(),t.TgZ(2,"svg",47),t._UZ(3,"path",48)(4,"path",49)(5,"path",50)(6,"path",51)(7,"path",52)(8,"path",53),t.qZA(),t.kcU(),t.TgZ(9,"p",54),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()),2&s&&(t.xp6(10),t.Oqu(t.lcZ(11,1,"lang_student_there_are_no_exercises_or_tests_yet")+"!"))}function Nn(s,h){if(1&s&&(t.TgZ(0,"div",14),t.YNc(1,Ke,3,2,"ng-container",0),t.YNc(2,un,12,3,"ng-template",null,20,t.W1O),t.qZA()),2&s){const n=t.MAs(3),m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",m.listGroupDocumentObjs.length>0)("ngIfElse",n)}}function pn(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"azt-search-box",6),t.NdJ("onSearch",function(u){t.CHM(n);const C=t.oxw();return t.KtG(C.searchDocumentObjs(u.searchObj))}),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",7)(7,"button",8),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.openEditor())}),t.TgZ(8,"span",9),t._UZ(9,"lucide-icon",10),t.qZA(),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()(),t.TgZ(12,"div",11),t.YNc(13,ln,3,3,"h2",12),t.YNc(14,cn,3,3,"h2",12),t.YNc(15,Ne,6,3,"button",13),t.qZA(),t.TgZ(16,"div",14),t.YNc(17,be,1,0,"azt-loading-effect",0),t.qZA(),t.YNc(18,Nn,4,2,"ng-template",null,15,t.W1O),t.qZA()}if(2&s){const n=t.MAs(19),m=t.oxw();t.xp6(4),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(5,9,"lang_auto_tim_kiem"))("searchContentObj",m.searchContentObj),t.xp6(6),t.hij(" ",t.lcZ(11,11,"lang_student_new_assignment")," "),t.xp6(3),t.Q6J("ngIf",!m.isShowSearchResult),t.xp6(1),t.Q6J("ngIf",m.isShowSearchResult),t.xp6(1),t.Q6J("ngIf",m.isShowSearchResult),t.xp6(2),t.Q6J("ngIf",m.searchContentObj.isLoading)("ngIfElse",n)}}let gn=(()=>{class s extends x.Q{openEditor(){let n=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backto=${encodeURIComponent(n)}&classroomId=${this.classroomId}`)}backToDocumentList(){this.isShowSearchResult=!1,this.searchContentObj.searchContent="",this.getData(!1)}resetData(){this.listDocumentObjs=[]}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}searchDocumentObjs(n){this.searchContentObj=n,this.searchContentObj.setLoading(!0),this.resetData(),this.getData(!1)}getData(n){n?this.sAztNextPaginationService.setLoading(!0):this.searchContentObj.searchContent||this.initStatusObj();let m={categoryId:void 0,documentType:"file",shareType:void 0,fileType:void 0,classroomId:this.classroomId,name:this.searchContentObj.searchContent?this.searchContentObj.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:0,page:this.sAztNextPaginationService.curPage,itemPerPage:this.sAztNextPaginationService.itemPerPage};this.isShowSearchResult=!!this.searchContentObj.searchContent,this.waitDestroy(this.documentService.apiDocumentsGet(m.categoryId,m.documentType,m.shareType,m.fileType,m.classroomId,m.name,m.suggestExamPurpose,m.lite,m.getGlobal,m.page,m.itemPerPage).subscribe(u=>{u.success?(this.listDocumentObjs=this.listDocumentObjs.concat(u.data?.documentObjs??[]),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(u.data?.total??0),this.processData(this.listDocumentObjs),this.searchContentObj.setLoading(!1),this.stopStatusObj()):(this.searchContentObj.setLoading(!1),this.errorStatusObj(u.message,!0))}))}processData(n){let m=this.commonService.arrayToDictionary(n,C=>C.exam?new Date(C.exam.createdAt??0).toDateString():new Date(C?.homework?.createdAt??0).toDateString()),u=[];Object.entries(m).forEach(([C,E],Y)=>{if(E.length>0){let et=E[0];u.push({isExpand:!0,assignmentDate:et.exam?et.exam.createdAt:et.homework?.createdAt,documentList:E})}}),this.listGroupDocumentObjs=u}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getData(!1)}constructor(n,m,u){super(),this.documentService=n,this.activeRoute=m,this.sAztNextPaginationService=u,this.classroomId=0,this.listGroupDocumentObjs=[],this.listDocumentObjs=[],this.isShowSearchResult=!1,this.searchContentObj=new i.h}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(yt.Zg),t.Y36(at.gz),t.Y36(ct.S))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-exam-exercises"]],inputs:{isStudent:"isStudent"},features:[t._Bn([ct.S]),t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","exam-exercises-jkv8YmKddH",1,"btn","btn-primary","text-white","shadow-md",3,"click"],[1,"w-4","h-4","mr-2"],["name","plus"],[1,"col-span-12","flex","items-center"],["class","text-lg font-medium mr-5",4,"ngIf"],["azt-track-service","exam-exercises-TXjuRofaLz","class","btn-text-primary font-medium ml-auto",3,"click",4,"ngIf"],[1,"col-span-12"],["doneLoadingSearch",""],[1,"text-lg","font-medium","mr-5"],["azt-track-service","exam-exercises-TXjuRofaLz",1,"btn-text-primary","font-medium","ml-auto",3,"click"],[1,"w-4","h-4","inline-block","mr-1"],["name","chevron-left"],["emptyList",""],[4,"ngFor","ngForOf"],["class","mt-2 font-medium",4,"ngIf"],["azt-track-service","exam-exercises-gYn61cneD",1,"flex","items-center","py-3","pr-3","hover:text-primary",3,"click"],[1,"w-6","h-6","inline-block"],[3,"name"],[1,"font-medium","ml-3"],["class","box p-3",4,"ngIf"],[1,"box","p-3"],["class","document",4,"ngFor","ngForOf"],[1,"document"],["isExamDocument",""],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams"],[3,"document","index"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams"],[1,"mt-2","font-medium"],["azt-track-service","exam-exercises-4meI3XYSV",1,"clickable",3,"click"],["class","w-4 h-4 inline-block ml-2",4,"ngIf"],[1,"w-4","h-4","inline-block","ml-2"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","87","height","102","viewBox","0 0 87 102","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M66.6719 13.9999L75.9738 81.8427L76.8095 88.649C77.0787 90.8417 75.5194 92.8374 73.3268 93.1066L14.7665 100.297C12.5739 100.566 10.5781 99.0069 10.3089 96.8142L1.29312 23.3867C1.1585 22.2904 1.93813 21.2925 3.03447 21.1579C3.0414 21.157 3.04832 21.1562 3.05526 21.1554L7.91363 20.6104M11.8422 20.1698L16.4292 19.6552L11.8422 20.1698Z","fill","white"],["d","M67.9103 13.8302C67.8165 13.1462 67.186 12.6678 66.5021 12.7615C65.8181 12.8553 65.3397 13.4858 65.4335 14.1697L67.9103 13.8302ZM75.9738 81.8427L77.2144 81.6903C77.2137 81.6845 77.213 81.6787 77.2122 81.6729L75.9738 81.8427ZM76.8095 88.649L78.0502 88.4967L76.8095 88.649ZM73.3268 93.1066L73.4791 94.3473L73.3268 93.1066ZM14.7665 100.297L14.9189 101.538L14.7665 100.297ZM10.3089 96.8142L11.5496 96.6619L10.3089 96.8142ZM3.05526 21.1554L3.1946 22.3976L3.05526 21.1554ZM8.05297 21.8527C8.73902 21.7757 9.23279 21.1572 9.15583 20.4711C9.07888 19.7851 8.46034 19.2913 7.77428 19.3682L8.05297 21.8527ZM11.7028 18.9276C11.0168 19.0045 10.523 19.6231 10.5999 20.3091C10.6769 20.9952 11.2954 21.4889 11.9815 21.412L11.7028 18.9276ZM16.5685 20.8974C17.2546 20.8205 17.7484 20.2019 17.6714 19.5159C17.5945 18.8298 16.9759 18.3361 16.2899 18.413L16.5685 20.8974ZM65.4335 14.1697L74.7353 82.0125L77.2122 81.6729L67.9103 13.8302L65.4335 14.1697ZM74.7331 81.995L75.5688 88.8013L78.0502 88.4967L77.2144 81.6903L74.7331 81.995ZM75.5688 88.8013C75.7539 90.3088 74.6819 91.6809 73.1744 91.866L73.4791 94.3473C76.357 93.994 78.4035 91.3745 78.0502 88.4967L75.5688 88.8013ZM73.1744 91.866L14.6142 99.0563L14.9189 101.538L73.4791 94.3473L73.1744 91.866ZM14.6142 99.0563C13.1067 99.2414 11.7347 98.1694 11.5496 96.6619L9.0682 96.9666C9.42156 99.8445 12.041 101.891 14.9189 101.538L14.6142 99.0563ZM11.5496 96.6619L2.5338 23.2344L0.0524334 23.539L9.0682 96.9666L11.5496 96.6619ZM2.5338 23.2344C2.48332 22.8232 2.77568 22.449 3.18681 22.3986L2.88213 19.9172C1.10059 20.1359 -0.166313 21.7575 0.0524334 23.539L2.5338 23.2344ZM3.18681 22.3986C3.1894 22.3982 3.192 22.3979 3.1946 22.3976L2.91592 19.9132C2.90465 19.9145 2.89339 19.9158 2.88213 19.9172L3.18681 22.3986ZM3.1946 22.3976L8.05297 21.8527L7.77428 19.3682L2.91592 19.9132L3.1946 22.3976ZM11.9815 21.412L16.5685 20.8974L16.2899 18.413L11.7028 18.9276L11.9815 21.412Z","fill","#1F64E7"],["fill-rule","evenodd","clip-rule","evenodd","d","M64.14 18.2692L72.5596 79.7529L73.3169 85.9212C73.5609 87.9083 72.1669 89.7146 70.2033 89.9557L17.7613 96.3948C15.7978 96.6359 14.0082 95.2204 13.7642 93.2333L5.61416 26.8568C5.47955 25.7605 6.25918 24.7626 7.35551 24.628L13.8431 23.8314","fill","#E8F0FE"],["d","M20.9219 4C20.9219 2.48122 22.1531 1.25 23.6719 1.25H69.2286C69.9577 1.25 70.6569 1.5395 71.1726 2.05485L84.6158 15.4898C85.1319 16.0056 85.4219 16.7053 85.4219 17.4349V80C85.4219 81.5188 84.1907 82.75 82.6719 82.75H23.6719C22.1531 82.75 20.9219 81.5188 20.9219 80V4Z","fill","white","stroke","#1F64E7","stroke-width","2.5"],["d","M69.6719 2.40283V14C69.6719 15.6569 71.015 17 72.6719 17H80.6055","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M31 17H57M31 29H74M31 42H74M31 55H74M31 68H57","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"]],template:function(n,m){if(1&n&&(t.YNc(0,Se,1,0,"azt-loading-effect",0),t.YNc(1,pn,20,13,"ng-template",null,1,t.W1O)),2&n){const u=t.MAs(2);t.Q6J("ngIf",m.statusObj.loading)("ngIfElse",u)}},dependencies:[at.rH,H.sg,H.O5,st.l,mt.n,_t.W,ht.Nh5,_e,j.JV,j.YK,j.WN,c.lO],encapsulation:2}),s})();var jn=v(93733),Mn=v(15623),ge=v(86825),X=v(56223),Te=v(65592),ae=v(89156),Ue=v(97694),Ce=v(29023),ke=v(23680),Nt=v(19347),we=v(64170),ze=v(44683),hn=v(13217),ne=v(72164),kt=v(84003),Fe=v(25804),zt=v(20553),ye=v(97151),Yt=v(4021),he=v(74104),se=v(27118),me=v(78497),We=v(28079),Xe=v(4844);const fn=["fileSelect"];function xn(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",20),t.NdJ("click",function(u){t.CHM(n);const C=t.MAs(3),E=t.oxw(2);return t.KtG(E.isMobileWebView?u.preventDefault:C.click())})("filesChangeEmitter",function(u){t.CHM(n);const C=t.oxw(2);return t.KtG(C.onFileSelected(u))}),t.TgZ(1,"div",21)(2,"input",22,23),t.NdJ("change",function(u){t.CHM(n);const C=t.oxw(2);return t.KtG(C.onFileSelected(u.target.files))}),t.qZA(),t.TgZ(4,"div",24)(5,"span",25),t._UZ(6,"lucide-icon",26),t.qZA(),t.TgZ(7,"span",27),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()}2&s&&(t.xp6(8),t.hij(" ",t.lcZ(9,2,"lang_auto_keo_tha_file_excel")," "),t.xp6(2),t.hij(" ",t.lcZ(11,4,"lang_auto_hoc_click_de_chon_file")," "))}function tn(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31)(4,"div",32)(5,"div",33),t._UZ(6,"img",34),t.ALo(7,"convertCdnLinkOfGitHub"),t.qZA(),t.TgZ(8,"div",35)(9,"p",36,37),t._uU(11),t.qZA(),t.TgZ(12,"div",38),t._uU(13),t.qZA()(),t.TgZ(14,"div",39)(15,"button",40),t.NdJ("click",function(u){t.CHM(n);const C=t.oxw(2);return t.KtG(C.removeFile(u))}),t.ALo(16,"mytranslate"),t.TgZ(17,"span",41),t._UZ(18,"lucide-icon",42),t.qZA()()()()()()()()}if(2&s){const n=t.MAs(10),m=t.oxw(2);t.xp6(6),t.Q6J("src",t.lcZ(7,7,"images/excel.png"),t.LSH),t.xp6(3),t.s9C("matTooltip",null==m.file?null:m.file.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",n.isDisabled),t.xp6(2),t.hij(" ",m.file?m.file.name:""," "),t.xp6(2),t.hij(" ",m.fileMb+"mb"," "),t.xp6(2),t.s9C("matTooltip",t.lcZ(16,9,"lang_auto_xoa"))}}function bn(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"a",43),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2);return t.KtG(u.exportDefaultListStudent())}),t.TgZ(1,"span",44),t._UZ(2,"lucide-icon",45),t.qZA(),t.TgZ(3,"span",46),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&s&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_student_utils_download_file")," "))}function vn(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"a",43),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2);return t.KtG(u.exportListStudent())}),t.TgZ(1,"span",44),t._UZ(2,"lucide-icon",45),t.qZA(),t.TgZ(3,"span",46),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&s&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_student_utils_export_list_student")," "))}function It(s,h){if(1&s&&(t.TgZ(0,"div",14)(1,"div",15),t.YNc(2,xn,12,6,"div",16),t.YNc(3,tn,19,11,"ng-template",null,17,t.W1O),t.TgZ(5,"div",18),t.YNc(6,bn,6,3,"a",19),t.YNc(7,vn,6,3,"a",19),t.qZA()()()),2&s){const n=t.MAs(4),m=t.oxw();t.xp6(2),t.Q6J("ngIf",!m.file)("ngIfElse",n),t.xp6(4),t.Q6J("ngIf",0==(null==m.studentObjs?null:m.studentObjs.length)||m.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",0!=(null==m.studentObjs?null:m.studentObjs.length)&&!m.isBusinessDomain)}}function Kt(s,h){if(1&s&&(t.TgZ(0,"div",50)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&s){const n=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,1,n.msgError),"!")}}function Tn(s,h){if(1&s&&(t.TgZ(0,"div",47),t._UZ(1,"azt-form-enter-info-student",48),t.YNc(2,Kt,4,3,"div",49),t.qZA()),2&s){const n=t.oxw();t.xp6(1),t.Q6J("studentForm",n.studentForm),t.xp6(1),t.Q6J("ngIf",""!==n.msgError)}}function Cn(s,h){1&s&&(t.TgZ(0,"span",51),t._UZ(1,"azt-loading-ui"),t.qZA())}function y(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"azt-export-excel-for-student-list",52),t.NdJ("exportDataDone",function(u){t.CHM(n);const C=t.oxw();return t.KtG(C.exportStudentListDone(u))}),t.qZA()}if(2&s){const n=t.oxw();t.Q6J("objs",n.exportStudentObjs)}}let q=(()=>{class s extends ne.e{exportDefaultListStudent(){this.exportStudentObjs=[{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_1"),phone:"0123456789",email:"nguyenvana@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:1,birthday:new Date(2001,1,23),gender:1,classroomId:0,parentId:0,facebookLink:"https://www.facebook.com/azotavn",nameSchool:"Tr\u01b0\u1eddng THPT Azota"},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_2"),phone:"0123456790",email:"phamthib@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:2,birthday:new Date(2001,5,25),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_3"),phone:"0123456791",email:"C@Gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:3,birthday:new Date(2002,5,25),gender:1,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_4"),phone:"0112348478",email:"tranthid@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:4,birthday:new Date(2002,2,23),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_5"),phone:"0123456793",email:void 0,password:this.isBusinessDomain?"aBc@123":"",identificationNumber:void 0,birthday:void 0,gender:0,classroomId:0,parentId:0}]}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.studentObjs)}exportStudentListDone(n){let m=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(n,m)}changeNameDownloadFile(n){return this.commonService.createFileNameExportFile([n])+".xlsx"}onFileSelected(n){this.file=n?n[0]:this.file,this.fileMb=this.getFileMB(this.file?.size??0),this.file&&["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(this.file.type)||(this.file=null,this.showErrorSnack("lang_auto_vui_long_chon_dung_tep_tin_excel"))}getFileMB(n){return n&&n>0?(n/=1048576).toFixed(2):0}removeFile(n){n.stopPropagation(),this.fileSelect&&(this.fileSelect.nativeElement.value=null),this.file=null}showImportExcel(n){this.importExcel=n}confirmAction(){let n=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.importExcel)this.file&&(1==this.selected.value?this.waitDestroy(this.studentService.apiStudentSaveStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(m=>{1==m.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_student_utils_add_success")):(this.btnCloseDialog(!1),this.errorStatusObj(m.message??"",!0))})):2==this.selected.value&&this.waitDestroy(this.studentService.apiStudentUpdateStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(m=>{1==m.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.btnCloseDialog(!1),this.errorStatusObj(m.message??"",!0))})));else if(this.studentForm.form.valid){let m={fullName:n.fullName,phone:n.phoneNumber,identificationNumber:n.identificationNumber?Number(n.identificationNumber):void 0,email:n.email,gender:Number(n.gender),birthday:n.birthday,classroomId:this.classroomObj.id??0,password:n.password,facebookLink:n.facebookLink,schoolName:n.school};this.waitDestroy(this.studentService.apiStudentSaveObjPost(m).subscribe(u=>{1==u.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.stopStatusObj(),this.msgError=u.message??"")}))}}btnCloseDialog(n){this.dialogRef.close(n)}selectedIndexChange(n){if(this.selected.setValue(n),this.showImportExcel(0!=n),this.file){let m=document.getElementById("button-remove-export");m&&m.click()}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){super.ngOnInit()}constructor(n,m,u,C,E){super(E,C),this.shareFileFlutterService=n,this.studentService=m,this.timeService=u,this.dialogRef=C,this.data=E,this.studentForm=new Fe.h,this.selected=new X.NI(0,{nonNullable:!0}),this.importExcel=!1,this.birthDay="",this.msgError="",this.maxDate=zt.N.maxDateTimePicker,this.showPassword=!1,this.fileMb=0,this.file=null,this.studentObjs=E.studentObjs,this.classroomObj=E.classroomObj}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(ye.g),t.Y36(Yt.VT),t.Y36(kt.D),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-add-student"]],viewQuery:function(n,m){if(1&n&&t.Gf(fn,5),2&n){let u;t.iGM(u=t.CRH())&&(m.fileSelect=u.first)}},features:[t._Bn([{provide:Ce.fM,useClass:ze.WG,deps:[ke.Ad,ze.o8]},{provide:Ce.ab,useFactory:hn.fX,deps:[kt.D]},{provide:we.o2,useValue:{floatLabel:"never"}}]),t.qOj],decls:32,vars:30,consts:[[1,"box","scroll-menu-test"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[3,"selectedIndex","selectedIndexChange"],[3,"label"],[1,"px-3","pt-3",2,"min-height","69px"],[1,"p-3",2,"min-height","80px"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","add_student-g5-sbau_Ya",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","add_student-I6Q3FiuU2e",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"form-group"],[1,"intro","mt-4"],["class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md","appDragDrop","","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",3,"click","filesChangeEmitter",4,"ngIf","ngIfElse"],["exitsFile",""],[1,"mt-2","text-center"],["azt-track-service","add_teacher-pukPV3tL4","class","btn text-primary btn-transparent","target","_self",3,"click",4,"ngIf"],["appDragDrop","","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md",3,"click","filesChangeEmitter"],[1,"px-4","pb-8","mt-8","flex","items-center","justify-center","text-center","cursor-pointer","relative"],["id","horizontal-form-1","type","file",1,"top-0","left-0","absolute","opacity-0",2,"width","1px",3,"change"],["fileSelect",""],[1,"flex","items-center"],[1,"w-5","h-5","mr-2","text-success","inline-block"],["name","file-spreadsheet"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"matTooltip","click"],[1,"w-4","h-4","inline-block"],["name","trash-2"],["azt-track-service","add_teacher-pukPV3tL4","target","_self",1,"btn","text-primary","btn-transparent",3,"click"],[1,"w-5","h-5","mr-2","inline-block"],["name","download-cloud"],[1,"text-primary"],[1,"px-2"],[3,"studentForm"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"w-4","h-4","inline-block","mr-2"],[3,"objs","exportDataDone"]],template:function(n,m){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"mat-tab-group",3),t.NdJ("selectedIndexChange",function(C){return m.selectedIndexChange(C)}),t.TgZ(5,"mat-tab",4),t.ALo(6,"mytranslate"),t.TgZ(7,"div",5),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()(),t.TgZ(10,"mat-tab",4),t.ALo(11,"mytranslate"),t.TgZ(12,"div",6),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()(),t.TgZ(15,"mat-tab",4),t.ALo(16,"mytranslate"),t.TgZ(17,"div",6),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()(),t.TgZ(20,"div"),t.YNc(21,It,8,4,"div",7),t.YNc(22,Tn,3,2,"div",8),t.qZA()()()(),t.TgZ(23,"div",9)(24,"button",10),t.NdJ("click",function(){return m.btnCloseDialog(!1)}),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"button",11),t.NdJ("click",function(){return m.confirmAction()}),t.YNc(28,Cn,2,0,"span",12),t._uU(29),t.ALo(30,"mytranslate"),t.qZA()()(),t.YNc(31,y,1,1,"azt-export-excel-for-student-list",13)),2&n&&(t.xp6(4),t.Q6J("selectedIndex",m.selected.value),t.xp6(1),t.s9C("label",t.lcZ(6,14,"lang_student_utils_add_student")),t.xp6(3),t.hij("*",t.lcZ(9,16,"lang_student_utils_enter_profile_student"),"."),t.xp6(2),t.s9C("label",t.lcZ(11,18,"lang_student_utils_quick_add_excel")),t.xp6(3),t.hij("*",t.lcZ(14,20,"lang_student_utils_choose_excel"),"."),t.xp6(2),t.s9C("label",t.lcZ(16,22,"lang_student_utils_quick_add_phone_and_email")),t.xp6(3),t.hij("*",t.lcZ(19,24,"lang_student_utils_quick_add_width_excel"),"."),t.xp6(3),t.Q6J("ngIf",0!=m.selected.value),t.xp6(1),t.Q6J("ngIf",0==m.selected.value),t.xp6(3),t.hij(" ",t.lcZ(26,26,"lang_cms_common_close_btn")," "),t.xp6(2),t.Q6J("disabled",m.statusObj.loading||m.studentForm.form.invalid&&!m.importExcel||null==m.file&&m.importExcel),t.xp6(1),t.Q6J("ngIf",m.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(30,28,"lang_cms_common_confirm_btn")," "),t.xp6(2),t.Q6J("ngIf",m.exportStudentObjs))},dependencies:[H.O5,he.uX,he.SP,gt.gM,se.N,me.R,R.Q,We.S,mt.n,Xe.A,ht.Nh5,j.JV,j.Bo],styles:[".file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:aliceblue}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}.hover-cancel[_ngcontent-%COMP%]:hover{background-color:#ebe9e9}.hover-save[_ngcontent-%COMP%]:hover{background-color:#ff3526}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}.input-custom[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:3px;padding-left:12px;padding-top:10px}.block-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.block-text[_ngcontent-%COMP%]{width:60px;color:#757575!important;font-size:16px}.block-input[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:space-evenly}"]}),s})();function T(s,h){1&s&&(t.TgZ(0,"span",10),t._UZ(1,"azt-loading-ui"),t.qZA())}let O=(()=>{class s extends ne.e{btnCloseDialog(n){this.dialogRef.close(n)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentDeleteObjGet(this.studentObj.id??0).subscribe(n=>{1==n.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")):(this.btnCloseDialog(!1),this.errorStatusObj(n.message??"",!0))}))}constructor(n,m,u){super(u,m),this.studentService=n,this.dialogRef=m,this.data=u,this.studentObj=u.studentObj,this.classroomObj=u.classroomObj}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(Yt.VT),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-delete-student"]],features:[t.qOj],decls:22,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger",2,"word-break","break-word"],[1,"text-danger"],[1,"p-3","text-right"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,m){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"b",4),t._uU(8),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"b",5),t._uU(12),t.qZA(),t._uU(13,"? "),t.qZA()()()(),t.TgZ(14,"div",6)(15,"button",7),t.NdJ("click",function(){return m.btnCloseDialog(!1)}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"button",8),t.NdJ("click",function(){return m.confirmDelete()}),t.YNc(19,T,2,0,"span",9),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,7,"lang_student_utils_delete_student_first"),"\xa0 "),t.xp6(3),t.Oqu(m.studentObj.fullName),t.xp6(1),t.hij("\xa0 ",t.lcZ(10,9,"lang_student_utils_delete_student_last"),":\xa0 "),t.xp6(3),t.Oqu(m.classroomObj.name),t.xp6(4),t.hij(" ",t.lcZ(17,11,"lang_cms_common_close_btn")," "),t.xp6(3),t.Q6J("ngIf",m.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(21,13,"lang_cms_common_confirm_btn")," "))},dependencies:[H.O5,me.R,mt.n,j.JV],encapsulation:2}),s})();var P=v(33328);function it(s,h){1&s&&(t.TgZ(0,"span",9),t._UZ(1,"azt-loading-ui"),t.qZA())}let xt=(()=>{class s extends ne.e{confirmAction(){let n=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.studentForm.form.valid){let m={id:this.studentObj.id??0,fullName:n.fullName,phone:n.phoneNumber,email:n.email,identificationNumber:n.identificationNumber?Number(n.identificationNumber):void 0,gender:Number(n.gender),birthday:n.birthday,classroomId:this.classroomObj.id??0,facebookLink:n.facebookLink,schoolName:n.school};this.waitDestroy(this.studentService.apiStudentUpdateObjPost(m).subscribe(u=>{1==u.success?(this.btnCloseDialog(!0),this.successStatusObj("lang_cms_utils_update_folder_success",!0)):(this.msgError=u.message??"",this.stopStatusObj())}))}}btnCloseDialog(n){this.dialogRef.close(n)}ngOnInit(){super.ngOnInit()}constructor(n,m,u){super(u,m),this.studentService=n,this.dialogRef=m,this.data=u,this.msgError="",this.maxDate=zt.N.maxDateTimePicker,this.studentForm=new Fe.h,this.studentObj=u.studentObj,this.classroomObj=u.classroomObj,this.studentForm.form=new X.cw({fullName:new X.NI(this.studentObj.fullName??"",{nonNullable:!0,validators:[X.kI.required]}),gender:new X.NI(this.studentObj.gender,{nonNullable:!0}),birthday:new X.NI(this.studentObj.birthday,{nonNullable:!0}),email:new X.NI(this.studentObj.email??"",{nonNullable:!0,validators:[P.z.isInvalidEmail,X.kI.email,X.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new X.NI(this.studentObj.phone??"",{nonNullable:!0,validators:[X.kI.required,X.kI.pattern(/^[0-9\-]*$/),X.kI.minLength(10),X.kI.maxLength(10)]}),identificationNumber:new X.NI(this.commonService.padLeadingZeros(this.studentObj.identificationNumber??void 0,6),{nonNullable:!0,validators:[X.kI.min(1),X.kI.maxLength(6),X.kI.pattern("^[0-9]*$")]}),facebookLink:new X.NI(this.studentObj?.moreInfo?.facebookLink,{nonNullable:!0}),school:new X.NI(this.studentObj?.moreInfo?.schoolName,{nonNullable:!0})})}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(Yt.VT),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-edit-student"]],features:[t._Bn([{provide:Ce.fM,useClass:ze.WG,deps:[ke.Ad,ze.o8]},{provide:Ce.ab,useFactory:hn.fX,deps:[kt.D]},{provide:we.o2,useValue:{floatLabel:"never"}}]),t.qOj],decls:16,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"studentForm"],[1,"p-3","text-right"],["azt-track-service","edit_student-jfiMakvRbsA",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","edit_student-Q_oCb2JwMVm",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,m){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t._UZ(7,"azt-form-enter-info-student",4),t.qZA()()(),t.TgZ(8,"div",5)(9,"button",6),t.NdJ("click",function(){return m.btnCloseDialog(!1)}),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"button",7),t.NdJ("click",function(){return m.confirmAction()}),t.YNc(13,it,2,0,"span",8),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,6,"lang_student_utils_edit_student")," "),t.xp6(2),t.Q6J("studentForm",m.studentForm),t.xp6(3),t.hij(" ",t.lcZ(11,8,"lang_cms_common_close_btn")," "),t.xp6(2),t.Q6J("disabled",m.statusObj.loading||m.studentForm.form.invalid),t.xp6(1),t.Q6J("ngIf",m.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(15,10,"lang_button_update")," "))},dependencies:[H.O5,me.R,mt.n,Xe.A,j.JV],encapsulation:2}),s})();var fe=v(87325);function qt(s,h){if(1&s&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&s){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_zalo_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==n.extraDataObj?null:n.extraDataObj.reApprovedZaloFullName)}}function Bn(s,h){if(1&s&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&s){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_so_dien_thoai_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==n.extraDataObj?null:n.extraDataObj.reApprovedPhone)}}function In(s,h){if(1&s&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&s){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_email_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==n.extraDataObj?null:n.extraDataObj.reApprovedEmail)}}function Oe(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.TgZ(6,"span",9),t._uU(7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"span",10),t._uU(11),t.qZA(),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.YNc(14,qt,5,4,"span",11),t.YNc(15,Bn,5,4,"span",11),t.YNc(16,In,5,4,"span",11),t.TgZ(17,"div",12)(18,"div",13),t.NdJ("click",function(){const C=t.CHM(n).$implicit,E=t.oxw();return t.KtG(E.reApproveStudent(C.studentId,C.id))}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"div",14),t.NdJ("click",function(){const C=t.CHM(n).$implicit,E=t.oxw();return t.KtG(E.delRequestNotice(C.id))}),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()()()()}if(2&s){const n=h.$implicit;t.xp6(4),t.hij(" ",t.lcZ(5,10,"lang_student_utils_reques_notice_list_student"),"\xa0 "),t.xp6(3),t.Oqu(n.studentName),t.xp6(1),t.hij("\xa0 ",t.lcZ(9,12,"lang_student_utils_reques_notice_list_class"),"\xa0 "),t.xp6(3),t.hij("",n.classroomName," "),t.xp6(1),t.hij("\xa0 ",t.lcZ(13,14,"lang_student_utils_reques_notice_list_dont_select_name"),". "),t.xp6(2),t.Q6J("ngIf",null==n.extraDataObj?null:n.extraDataObj.reApprovedZaloFullName),t.xp6(1),t.Q6J("ngIf",null==n.extraDataObj?null:n.extraDataObj.reApprovedPhone),t.xp6(1),t.Q6J("ngIf",null==n.extraDataObj?null:n.extraDataObj.reApprovedEmail),t.xp6(3),t.Oqu(t.lcZ(20,16,"lang_student_utils_reques_notice_list_unlock_select_again")),t.xp6(3),t.Oqu(t.lcZ(23,18,"lang_button_skip"))}}let Ot=(()=>{class s extends ne.e{reApproveStudent(n,m){this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(n??0).subscribe(u=>{1==u.success?(this.delRequestNotice(m),this.showSuccessSnack("lang_auto_mo_khoa_cho_hoc_sinh_thanh_cong")):this.errorStatusObj(u.message??"",!0)}))}delRequestNotice(n){this.waitDestroy(this.noticeService.apiNoticeDeleteObjGet(n).subscribe(m=>{1==m.success?(this.noticeObjs=this.noticeObjs.filter(u=>u.id!=n),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(m.message??"",!0)}))}btnCloseDialog(n){this.dialogRef.close(n)}constructor(n,m,u,C){super(C,u),this.studentService=n,this.noticeService=m,this.dialogRef=u,this.data=C,this.classroomObj=C.classroomObj,this.noticeObjs=C.noticeObjs}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(Yt.VT),t.Y36(fe.L$),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-re-approve-request"]],features:[t.qOj],decls:9,vars:4,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","scroll-menu-test"],[1,"p-3"],["class","ml-2 mb-2 mr-2 noticeobj",4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","request_notice_list-fcVrrBJYoFq",1,"btn","w-24","btn-secondary",3,"click"],[1,"ml-2","mb-2","mr-2","noticeobj"],[1,"pt-1","pb-1","clickable"],[1,"notify__content"],[1,"notify__name",2,"word-break","break-word"],[1,"notify__name"],["class","block",4,"ngIf"],[1,"mt-2","flex","justify-end"],["azt-track-service","request_notice_list-LmGuEaUfXP2",1,"notify__btn","bg-info",3,"click"],["azt-track-service","request_notice_list-K5qVGrBSxAh",1,"notify__btn","ml-3",3,"click"],[1,"block"]],template:function(n,m){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2),t.YNc(4,Oe,24,20,"div",3),t.qZA()()(),t.TgZ(5,"div",4)(6,"button",5),t.NdJ("click",function(){return m.btnCloseDialog(!1)}),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("ngForOf",m.noticeObjs),t.xp6(3),t.hij(" ",t.lcZ(8,2,"lang_cms_common_close_btn")," "))},dependencies:[H.sg,H.O5,me.R,j.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:90;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;background:rgba(0,0,0,.5607843137);min-height:100vh}.school-info[_ngcontent-%COMP%]{z-index:91;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.noticeobj[_ngcontent-%COMP%]{background-color:#ecebeb;border-radius:5px;border:1px solid #e5e5e5}.notify__name[_ngcontent-%COMP%]{font-weight:500}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px 15px}.notify__btn[_ngcontent-%COMP%]{text-align:center;border-radius:5px;padding:5px;color:#000;font-size:14px;background-color:#fff;border:1px solid #cecdcd;width:-moz-fit-content;width:fit-content}.bg-info[_ngcontent-%COMP%]{color:#fff!important;border:1px solid #00a7d0!important;background-color:#00a7d0}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.note[_ngcontent-%COMP%]{font-style:italic;font-size:15px;font-weight:600}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),s})();var Gt=v(84049),Wt=v(97638),Me=v(23083);let Ln=(()=>{class s extends ne.e{btnCloseDialog(){this.dialogRef.close(!1)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(n=>1==n.selected)}saveData(){this.initStatusObj();var n=[];this.checkboxMonth.checkboxMonth.filter(u=>1==u.selected).forEach(u=>{n.push({month:u.month,year:u.year})}),this.waitDestroy(this.paymentService.apiPaymentPost({payments:n,studentId:this.data}).subscribe({next:u=>{this.successStatusObj("lang_cms_utils_update_folder_success",!0),this.dialogRef.close(!0)},error:u=>{this.errorStatusObj(u.error.message,!0)}}))}constructor(n,m,u){super(u,m),this.paymentService=n,this.dialogRef=m,this.data=u,this.checkboxMonth=new Gt.$,this.checkboxMonth.studentId=u}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(Wt.t),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},s.\u0275cmp=t.Xpm({type:s,selectors:[["azt-dialog-checkbox-month"]],features:[t.qOj],decls:11,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[3,"checkboxMonth"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-primary",3,"disabled","click"]],template:function(n,m){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"azt-checkbox-month",3),t.qZA()(),t.TgZ(4,"div",4)(5,"button",5),t.NdJ("click",function(){return m.btnCloseDialog()}),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return m.saveData()}),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("checkboxMonth",m.checkboxMonth),t.xp6(3),t.hij(" ",t.lcZ(7,4,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",!m.isSelectedMonth()||m.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(10,6,"lang_business_news_update_post_button")," "))},dependencies:[Me.$,j.JV],encapsulation:2}),s})();var Dn=v(88131),Hn=v(38228),Ze=v(2783),Vt=v(68719),Dt=v(46558),de=v(94690),re=v(7289),En=v(27161),Pn=v(45468);let en=(()=>{class s{constructor(n,m,u,C,E,Y){this.commonService=n,this.examPageResultService=m,this.permissionService=u,this.globalService=C,this.answerTypeService=E,this.homeworkExamService=Y}getTestedAllResultByClassroomId(n,m,u,C){return this.globalService.startIntervalFunc(n),this.getTestedOfExamResultByClassroomId(n,m,"all",u,C)}getTestedOfExamResultByClassroomId(n,m,u,C,E){return new Te.y(Y=>{this.examPageResultService.apiExamPageResultGetObjV2Get(m).subscribe(et=>{if(1==et.success){let At=et.data?.examObj,Ae=this.hasEssay(et.data?.examQuestionObjs??[]),Eo=et.data?.classroomWithAvatarAndStudentObjs??new Array;this.permissionService.hasViewExamPermission("exam",At)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",At)?this.getAllExamResultObjs(n,[],m,"",xo=>{if(xo.hasOwnProperty("success")&&1==xo.success){let Fs=this.mergeStudentWithAvatar(xo.studentWithResultObjs??[]),Qi={};Fs?.forEach(bo=>{let bs=bo.parentId??"0";Qi.hasOwnProperty(bs)||(Qi[bs]=bo.examResultObjs??[])});let xs=E;if(this.homeworkExamService.mustInClassroom(At)&&Eo.length>0)for(let bo=0;bo<Eo.length;bo++)if(Eo[bo].classroomObj?.id==C){let Bt=Eo[bo].studentObjs??[];if(Bt.length>0)for(let Ht=0;Ht<Bt.length;Ht++){let ks=Bt[Ht].parentId??"0";Qi.hasOwnProperty(ks)?(Array.isArray(Bt[Ht].examResultObjs)||(Bt[Ht].examResultObjs=[]),Bt[Ht].examResultObjs=this.findExamResultOfStudent(Bt[Ht].examResultObjs?.concat(Qi[ks])??[],Bt[Ht].id??"0")):Bt[Ht].examResultObjs=this.findExamResultOfStudent(Bt[Ht].examResultObjs??[],Bt[Ht].id??"0");let ws=this.filterExamResultByType(Bt[Ht].examResultObjs??[],"first"),ys=this.filterExamResultByType(Bt[Ht].examResultObjs??[],"last"),Os=this.filterExamResultByType(Bt[Ht].examResultObjs??[],"highest");xs.forEach(Po=>{if(Po.dataExam||(Po.dataExam=[]),Po.parentId==Bt[Ht].parentId||Po.id.toString()==Bt[Ht].id){let Yi=ws.hasOwnProperty(Bt[Ht].parentId??0)?ws[Bt[Ht].parentId??0]:void 0,Bi=ys.hasOwnProperty(Bt[Ht].parentId??0)?ys[Bt[Ht].parentId??0]:void 0,Zs=Os.hasOwnProperty(Bt[Ht].parentId??0)?Os[Bt[Ht].parentId??0]:void 0,Js={id:At?.id??0,name:At?.name??"",firstPoint:Yi?this.checkMarkStatus(Yi,Ae):void 0,lastPoint:Bi?this.checkMarkStatus(Bi,Ae):void 0,highestPoint:Zs?this.checkMarkStatus(Zs,Ae):void 0};Po.dataExam.push(Js)}Po.dataExam.sort((Yi,Bi)=>(Yi.id??0)-(Bi.id??0))},xs)}break}Y.next({status:200,success:1,data:xs,message:"successful"}),Y.complete()}else Y.next({status:xo.code,success:0,data:E,message:xo.message??""}),Y.complete()}):(Y.next({status:200,success:1,data:E,message:"successful"}),Y.complete())}else Y.next({status:et.code,success:0,data:E,message:et.message??""}),Y.complete()})})}getAllExamResultObjs(n,m,u,C,E){this.examPageResultService.apiExamPageResultGetObjsV2Get(u,"export",C).subscribe(Y=>{1==Y.success?(Y.data?.objs&&m.push(...Y.data.objs),Y.data?.nextPage?this.globalService.isStopIntervalFunc(n)?E({studentWithResultObjs:m,success:1}):setTimeout(()=>{this.getAllExamResultObjs(n,m,u,Y.data?.nextPage??"",E)},300):E({studentWithResultObjs:m,success:1})):E({code:Y.code,studentWithResultObjs:[],success:0,message:Y.message??""})})}filterExamResultOnTest(n,m,u){var C={};return n.forEach(E=>{var Y=this.commonService.myClone(E)??{};if(Y.testStatus)C[Y.userId??0]=Y.testStatus;else if(Y.startedTest&&u)if(m.endTime){var et=Math.floor(new Date(m.endTime).getTime()/1e3);C[Y.userId??0]=u<=et+60*(m.minutes??0)+600?0:-1}else{var At=Y.startedTest?Math.floor(new Date(Y.startedTest).getTime()/1e3):0;C[Y.userId??0]=u<=At+86400?0:-1}else C[Y.userId??0]=0}),C}mergeStudentWithAvatar(n){var m=[];return n.forEach(u=>{var C=m.filter(Y=>Y.parentId==u.parentId);if(C&&0!=C.length)for(var E=0;E<m.length;E++)m[E].parentId==u.parentId&&(m[E].examResultObjs=m[E].examResultObjs?.concat(u.examResultObjs??[]));else m.push(u)}),m}findExamResultOfStudent(n,m){var u=[];return n.forEach(C=>{(C.studentId==m||null==C.studentId)&&u.push(C)}),u}createStudentWithResult(n,m,u){return{id:n.id,userId:n.parentId,studentId:n.id,identificationNumber:m.examResultStatisticObj?.offlineMarkInfoObj?.studentCode??0,offlineMixQuestionHashId:m.examResultStatisticObj?.offlineMarkInfoObj?.offlineMixquestionHashId??0,gender:n.gender,fullName:n.fullName,avatar:n.avatar,birthday:n.birthday,mark:m.hasOwnProperty("mark")?m.mark:null,confirmedAt:m.hasOwnProperty("confirmedAt")?m.confirmedAt:null,startedTest:m.hasOwnProperty("startedTest")?m.startedTest:null,createdAt:m.hasOwnProperty("createdAt")?m.createdAt:null,status:u,totalExamResultObjs:0}}filterExamResultByType(n,m){var u={};if(n.length>1)n.forEach((E,Y)=>{var et=this.commonService.myClone(E);E.testStatus&&(et.resultId=et.id,et.indexTest=Y,"last"==m&&(u[et.userId??0]=et),"first"==m&&(u.hasOwnProperty(et.userId??0)||(u[et.userId??0]=et)),"highest"==m)&&(u.hasOwnProperty(et.userId??0)?(u[et.userId??0].mark??-1)<=(et.mark??-1)&&(u[et.userId??0]=et):u[et.userId??0]=et)});else{var C=this.commonService.myClone(n[0]??{});C.resultId=C.testStatus?C.id:0,C.indexTest=0,u[C.userId??0]=C}return u}hasEssay(n){let m=!1;for(let u=0;u<n.length;u++)if(this.answerTypeService.isEssayAnswer(n[u])){m=!0;break}return m}checkMarkStatus(n,m){return m?1==n.testStatus?n.confirmedAt?n.mark:-1:void 0:1==n.testStatus?n.mark:void 0}}return s.\u0275fac=function(n){return new(n||s)(t.LFG(Dt.z),t.LFG(yt.DR),t.LFG(de.j),t.LFG(re.q),t.LFG(En.i),t.LFG(Pn.v))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var Z=v(30617),z=v(77988),f=v(85904),A=v(37783),L=v(76024),G=v(71299),dt=v(48419),Pt=v(60381);const Xt=["parent"];function te(s,h){1&s&&(t.TgZ(0,"div",38),t._UZ(1,"azt-loading-effect"),t.qZA())}function nn(s,h){if(1&s&&t._UZ(0,"azt-download-qr-code",52),2&s){const n=t.oxw(2);t.Q6J("fileName",n.convertNameForQR())("linkUrl",n.copyLinkToClipboard())("showLink",!1)}}function Je(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3);return t.KtG(u.exportListStudent())}),t.TgZ(1,"span",65),t._UZ(2,"lucide-icon",66),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&s&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_student_utils_export_list_student")," "))}function on(s,h){1&s&&(t.TgZ(0,"span",65),t._UZ(1,"azt-loading-ui"),t.qZA())}function Xn(s,h){1&s&&(t.TgZ(0,"span",65),t._UZ(1,"lucide-icon",66),t.qZA())}function vo(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"button",67),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3);return t.KtG(u.exportExcelForScoreOfClassroom())}),t.YNc(1,on,2,0,"span",68),t.YNc(2,Xn,2,0,"span",69),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&s){const n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",n.loadingExport),t.xp6(1),t.Q6J("ngIf",!n.loadingExport),t.xp6(1),t.hij(" ",t.lcZ(4,3,"lang_auto_xuat_bang_diem")," ")}}function Uo(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"button",70),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3);return t.KtG(u.addStudentDialog(u.classroomObj))}),t.TgZ(1,"span",71),t._UZ(2,"lucide-icon",72),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&s&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_them_hoc_sinh")," "))}function an(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"button",73),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3);return t.KtG(u.openDialogAutoNumbering())}),t.TgZ(1,"span",71),t._UZ(2,"lucide-icon",74),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&s&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_danh_so_bao_danh")," "))}function To(s,h){if(1&s&&(t.TgZ(0,"button",75)(1,"span",76),t._UZ(2,"lucide-icon",77),t.qZA()()),2&s){t.oxw(3);const n=t.MAs(5);t.Q6J("matMenuTriggerFor",n)}}function zo(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",53)(1,"div",54)(2,"div",55)(3,"azt-search-box",56),t.NdJ("onSearch",function(u){t.CHM(n);const C=t.oxw(2);return t.KtG(C.onSearchBox(u.searchObj))}),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",57),t.YNc(6,Je,5,3,"button",58),t.ALo(7,"viewPermission"),t.YNc(8,vo,5,5,"button",59),t.ALo(9,"viewPermission"),t.YNc(10,Uo,5,3,"button",60),t.ALo(11,"editPermission"),t.YNc(12,an,5,3,"button",61),t.ALo(13,"editPermission"),t.TgZ(14,"div",62),t.YNc(15,To,3,1,"button",63),t.qZA()()()()}if(2&s){const n=t.oxw(2);t.xp6(3),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(4,7,"lang_core_tim_theo_ten_phone_email")),t.xp6(3),t.Q6J("ngIf",t.xi3(7,9,n.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(9,12,n.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(11,15,n.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(13,18,n.classroomObj,"student")),t.xp6(3),t.Q6J("ngIf",null!=(null==n.classroomObj?null:n.classroomObj.permissionObj))}}function $t(s,h){1&s&&(t.TgZ(0,"th",85),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.lnq("",t.lcZ(2,3,"lang_core_thang")," - ",t.lcZ(3,5,"lang_core_nam")," ",t.lcZ(4,7,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""))}function kn(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"mat-icon",103),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2),C=u.index,E=u.$implicit,Y=t.oxw(3);return t.KtG(Y.onPositionChange("up",C-1,E.id,null==Y.classroomObj?null:Y.classroomObj.id))}),t._uU(1," keyboard_arrow_up "),t.qZA()}}function wn(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"mat-icon",104),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2),C=u.index,E=u.$implicit,Y=t.oxw(3);return t.KtG(Y.onPositionChange("down",C+1,E.id,null==Y.classroomObj?null:Y.classroomObj.id))}),t._uU(1," keyboard_arrow_down "),t.qZA()}}function yn(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",98),t.YNc(1,kn,2,0,"mat-icon",99),t.TgZ(2,"input",100,101),t.NdJ("keyup.enter",function(){t.CHM(n);const u=t.MAs(3),C=t.oxw(),E=C.index,Y=C.$implicit,et=t.oxw(3);return t.KtG(et.onPositionChange(u.value,E,Y.id,null==et.classroomObj?null:et.classroomObj.id))}),t.qZA(),t.YNc(4,wn,2,0,"mat-icon",102),t.qZA()}if(2&s){const n=t.oxw().index,m=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0!=n),t.xp6(1),t.s9C("value",n+1),t.xp6(2),t.Q6J("ngIf",m.listStudents&&n!=m.listStudents.length-1)}}function Co(s,h){if(1&s&&(t.TgZ(0,"div",105),t._uU(1),t.qZA()),2&s){const n=t.oxw().index;t.xp6(1),t.hij(" ",n+1," ")}}function ko(s,h){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s){const n=t.oxw(3).$implicit;t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_core_thang")," ",n.lastMonthPaid,"")}}function wo(s,h){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s){const n=t.oxw(3).$implicit;t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_core_nam")," ",n.lastYearPaid,"")}}function to(s,h){if(1&s&&(t.TgZ(0,"span"),t.YNc(1,ko,3,4,"span",36),t._uU(2," - "),t.YNc(3,wo,3,4,"span",36),t.qZA()),2&s){const n=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",n.lastMonthPaid),t.xp6(2),t.Q6J("ngIf",n.lastYearPaid)}}function yo(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"td",94)(1,"div",95),t.YNc(2,to,4,2,"span",36),t.TgZ(3,"button",106),t.NdJ("click",function(){t.CHM(n);const u=t.oxw().$implicit,C=t.oxw(3);return t.KtG(C.openDialogCheckboxMonth(u))}),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.O4$(),t.TgZ(6,"svg",107),t._UZ(7,"path",108)(8,"path",109)(9,"path",110)(10,"path",111)(11,"path",112)(12,"path",113),t.qZA()()()()}if(2&s){const n=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf",n.lastMonthPaid||n.lastYearPaid),t.xp6(1),t.hYB("matTooltip","",t.lcZ(4,3,"lang_cms_auto_gen_test_select")," ",t.lcZ(5,5,"lang_auto_month"),"")}}function eo(s,h){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s){const n=t.oxw().$implicit;t.xp6(1),t.lnq(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework," ",t.lcZ(2,3,"lang_student_classroom_list_detail_homework")," ")}}function Fo(s,h){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s){const n=t.oxw().$implicit;t.xp6(1),t.lnq(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam," ",t.lcZ(2,3,"lang_student_classroom_list_detail_exam")," ")}}function Jo(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"a",114),t.NdJ("click",function(){t.CHM(n);const u=t.oxw().$implicit,C=t.oxw(3);return t.KtG(C.editStudentDialog(u))}),t.O4$(),t.TgZ(1,"svg",115),t._UZ(2,"path",116)(3,"path",117),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&s&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_sua")," "))}function Oo(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"a",118),t.NdJ("click",function(){t.CHM(n);const u=t.oxw().$implicit,C=t.oxw(3);return t.KtG(C.deleteStudentDialog(u))}),t.TgZ(1,"span",119),t._UZ(2,"lucide-icon",120),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&s&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_button_delete")," "))}function qo(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"tr")(1,"td",87),t.YNc(2,yn,5,3,"div",88),t.ALo(3,"editPermission"),t.YNc(4,Co,2,1,"ng-template",null,89,t.W1O),t.qZA(),t.TgZ(6,"td",90),t.NdJ("click",function(){const C=t.CHM(n).$implicit,E=t.oxw(3);return t.KtG(E.goToProfile(C.classroomId,C.id))}),t._UZ(7,"azt-student-info-box",91),t.qZA(),t.TgZ(8,"td",92),t._uU(9),t.ALo(10,"formatStudentCodeToNumber"),t.qZA(),t.YNc(11,yo,13,7,"td",93),t.TgZ(12,"td",94),t.YNc(13,eo,3,5,"span",36),t.qZA(),t.TgZ(14,"td",94),t.YNc(15,Fo,3,5,"span",36),t.qZA(),t.TgZ(16,"td",94)(17,"div",95),t.YNc(18,Jo,6,3,"a",96),t.ALo(19,"editPermission"),t.YNc(20,Oo,5,3,"a",97),t.ALo(21,"editPermission"),t.qZA()()()}if(2&s){const n=h.$implicit,m=t.MAs(5),u=t.oxw(3);t.xp6(2),t.Q6J("ngIf",1==(null==u.classroomObj?null:u.classroomObj.sortType)&&t.xi3(3,15,u.classroomObj,"student"))("ngIfElse",m),t.xp6(5),t.Q6J("name",n.fullName)("phone",n.phone)("email",n.email)("avatar",n.avatar)("identificationNumber",n.identificationNumber)("gender",n.gender)("hasUser",1==n.isVerified),t.xp6(2),t.Oqu(n.identificationNumber?t.xi3(10,18,n.identificationNumber,6):""),t.xp6(2),t.Q6J("ngIf",u.isBusinessDomain),t.xp6(2),t.Q6J("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework)),t.xp6(2),t.Q6J("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam)),t.xp6(3),t.Q6J("ngIf",t.xi3(19,21,u.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(21,24,u.classroomObj,"student"))}}const Ie=function(){return["fullName","phone","email"]};function On(s,h){if(1&s&&(t.TgZ(0,"div",78)(1,"drag-scroll")(2,"table",79)(3,"thead")(4,"tr")(5,"th",80)(6,"div",81),t.ALo(7,"mytranslate"),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()(),t.TgZ(10,"th",82),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"th",83),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.YNc(16,$t,5,9,"th",84),t.TgZ(17,"th",85),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"th",85),t._uU(21),t.ALo(22,"mytranslate"),t.qZA(),t.TgZ(23,"th",85),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()()(),t.TgZ(26,"tbody"),t.YNc(27,qo,22,27,"tr",86),t.ALo(28,"appFilter"),t.qZA()()()()),2&s){const n=t.oxw(2);t.xp6(6),t.hYB("matTooltip","",t.lcZ(7,13,"lang_student_classroom_list_detail_quantity"),": ",null!=n.classroomObj&&n.classroomObj.countStudents?null==n.classroomObj?null:n.classroomObj.countStudents:0,""),t.Q6J("matTooltipDisabled",n.isMobileDevice),t.xp6(2),t.lnq("",t.lcZ(9,15,n.isMobileDevice?"":"lang_student_classroom_list_detail_quantity"),"",n.isMobileDevice?"":": ","",null!=n.classroomObj&&n.classroomObj.countStudents?null==n.classroomObj?null:n.classroomObj.countStudents:0,""),t.xp6(3),t.Oqu(t.lcZ(12,17,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(15,19,"lang_auto_so_bao_danh")),t.xp6(2),t.Q6J("ngIf",n.isBusinessDomain),t.xp6(2),t.hij(" ",t.lcZ(19,21,"lang_auto_bai_tap_da_lam")," "),t.xp6(3),t.hij(" ",t.lcZ(22,23,"lang_auto_de_thi_da_lam")," "),t.xp6(3),t.Oqu(t.lcZ(25,25,"lang_auto_hanh_dong")),t.xp6(3),t.Q6J("ngForOf",t.Dn7(28,27,n.listStudents,n.searchContentObj.searchContent,t.DdM(31,Ie)))}}function Un(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"button",132),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3);return t.KtG(u.addStudentDialog(u.classroomObj))}),t.TgZ(1,"span",71),t._UZ(2,"lucide-icon",72),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&s&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_them_hoc_sinh")," "))}function zn(s,h){if(1&s&&(t.TgZ(0,"div",121)(1,"div",122),t.O4$(),t.TgZ(2,"svg",123),t._UZ(3,"path",124)(4,"path",125)(5,"path",126)(6,"path",127)(7,"path",128)(8,"path",129),t.qZA(),t.kcU(),t.TgZ(9,"div",130),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.YNc(12,Un,5,3,"button",131),t.ALo(13,"editPermission"),t.qZA()()),2&s){const n=t.oxw(2);let m;t.xp6(10),t.hij(" ",t.lcZ(11,2,"lang_student_classroom_list_detail_not_student")," "),t.xp6(2),t.Q6J("ngIf",t.xi3(13,4,n.classroomObj,"student")&&0==(null!==(m=null==n.listStudents?null:n.listStudents.length)&&void 0!==m?m:0))}}function Qo(s,h){if(1&s&&(t.TgZ(0,"a",148),t.ALo(1,"mytranslate"),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"formatStudentCodeToNumber"),t.ALo(6,"mytranslate"),t._uU(7),t.qZA()),2&s){const n=t.oxw().$implicit;t.pbR("matTooltip","\n\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(1,7,"lang_first_and_last_name"),": ",n.fullName,"\n\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(2,9,"lang_number_phone"),": ",n.phone?n.phone:t.lcZ(3,11,"lang_not_data"),"\n\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(4,13,"lang_auto_so_bao_danh"),": ",n.identificationNumber?t.xi3(5,15,n.identificationNumber,6):t.lcZ(6,18,"lang_not_data"),""),t.xp6(7),t.hij(" ",n.fullName," \xa0 ")}}function Yo(s,h){if(1&s&&(t.TgZ(0,"div",149),t._uU(1),t.qZA()),2&s){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.phone," ")}}function Bo(s,h){if(1&s&&(t.TgZ(0,"div",150),t._uU(1),t.qZA()),2&s){const n=t.oxw().$implicit;t.s9C("matTooltip",n.email),t.xp6(1),t.hij(" ",n.email," ")}}function Ho(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"a",159),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2).$implicit,C=t.oxw(2);return t.KtG(C.editStudentDialog(u))}),t.O4$(),t.TgZ(1,"svg",115),t._UZ(2,"path",116)(3,"path",117),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&s&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_sua")," "))}function no(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"a",160),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2).$implicit,C=t.oxw(2);return t.KtG(C.deleteStudentDialog(u))}),t.TgZ(1,"span",119),t._UZ(2,"lucide-icon",120),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&s&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_button_delete")," "))}function Go(s,h){if(1&s&&(t.TgZ(0,"div",151)(1,"a",152)(2,"span",153),t._UZ(3,"lucide-icon",154),t.qZA()(),t.TgZ(4,"mat-menu",null,155)(6,"div",156)(7,"ul",6)(8,"li"),t.YNc(9,Ho,6,3,"a",157),t.ALo(10,"editPermission"),t.qZA(),t.TgZ(11,"li"),t.YNc(12,no,5,3,"a",158),t.ALo(13,"editPermission"),t.qZA()()()()()),2&s){const n=t.MAs(5),m=t.oxw(3);t.xp6(1),t.Q6J("matMenuTriggerFor",n),t.xp6(8),t.Q6J("ngIf",t.xi3(10,3,m.classroomObj,"student")),t.xp6(3),t.Q6J("ngIf",t.xi3(13,6,m.classroomObj,"student"))}}function Vo(s,h){1&s&&(t.TgZ(0,"div",166)(1,"span",119),t._UZ(2,"lucide-icon",167),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&s&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_co_tai_khoan")," "))}function $o(s,h){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s){const n=t.oxw(2).$implicit;t.xp6(1),t.lnq(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework," ",t.lcZ(2,3,"lang_student_classroom_list_detail_homework")," ")}}function b(s,h){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s){const n=t.oxw(2).$implicit;t.xp6(1),t.lnq(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam," ",t.lcZ(2,3,"lang_student_classroom_list_detail_exam")," ")}}function D(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"mat-icon",172),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3),C=u.index,E=u.$implicit,Y=t.oxw(2);return t.KtG(Y.onPositionChange("up",C-1,E.id,null==Y.classroomObj?null:Y.classroomObj.id))}),t._uU(1," keyboard_arrow_up "),t.qZA()}}function p(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"mat-icon",173),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3),C=u.index,E=u.$implicit,Y=t.oxw(2);return t.KtG(Y.onPositionChange("down",C+1,E.id,null==Y.classroomObj?null:Y.classroomObj.id))}),t._uU(1," keyboard_arrow_down "),t.qZA()}}function w(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",161)(1,"div",168)(2,"div",169),t.YNc(3,D,2,0,"mat-icon",170),t.TgZ(4,"input",100,101),t.NdJ("keyup.enter",function(){t.CHM(n);const u=t.MAs(5),C=t.oxw(2),E=C.index,Y=C.$implicit,et=t.oxw(2);return t.KtG(et.onPositionChange(u.value,E,Y.id,null==et.classroomObj?null:et.classroomObj.id))}),t.qZA(),t.YNc(6,p,2,0,"mat-icon",171),t.qZA()()()}if(2&s){const n=t.oxw(2).index,m=t.oxw(2);t.xp6(3),t.Q6J("ngIf",0!=n),t.xp6(1),t.s9C("value",n+1),t.xp6(2),t.Q6J("ngIf",m.listStudents&&n!=m.listStudents.length-1)}}function N(s,h){if(1&s&&(t.TgZ(0,"div")(1,"div",161)(2,"div",162),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",163),t._uU(6),t.ALo(7,"formatStudentCodeToNumber"),t.qZA()(),t.TgZ(8,"div",161)(9,"div",162),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"div",163),t._uU(13),t.ALo(14,"mytranslate"),t.ALo(15,"mytranslate"),t.qZA()(),t.TgZ(16,"div",161)(17,"div",162),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"div",163),t._uU(21),t.ALo(22,"formatOnlyDateByUserUnitPipe"),t.qZA()(),t.TgZ(23,"div",161)(24,"div",162),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"div",163),t.YNc(28,Vo,5,3,"div",164),t.qZA()(),t.TgZ(29,"div",161)(30,"div",162),t._uU(31),t.ALo(32,"mytranslate"),t.qZA(),t.TgZ(33,"div",163),t.YNc(34,$o,3,5,"span",36),t.qZA()(),t.TgZ(35,"div",161)(36,"div",162),t._uU(37),t.ALo(38,"mytranslate"),t.qZA(),t.TgZ(39,"div",163),t.YNc(40,b,3,5,"span",36),t.qZA()(),t.YNc(41,w,7,3,"div",165),t.ALo(42,"editPermission"),t.qZA()),2&s){const n=t.oxw().$implicit,m=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,13,"lang_auto_so_bao_danh")," "),t.xp6(3),t.hij(" ",n.identificationNumber?t.xi3(7,15,n.identificationNumber,6):""," "),t.xp6(4),t.hij(" ",t.lcZ(11,18,"lang_gender")," "),t.xp6(3),t.hij(" ",0==n.gender?t.lcZ(14,20,"lang_auto_nu"):t.lcZ(15,22,"lang_auto_nam")," "),t.xp6(5),t.hij(" ",t.lcZ(19,24,"lang_birthday")," "),t.xp6(3),t.hij(" ",t.lcZ(22,26,n.birthday)," "),t.xp6(4),t.hij(" ",t.lcZ(26,28,"lang_testbank_folder_and_file_status")," "),t.xp6(3),t.Q6J("ngIf",1==n.isVerified),t.xp6(3),t.hij(" ",t.lcZ(32,30,"lang_auto_bai_tap_da_lam")," "),t.xp6(3),t.Q6J("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework)),t.xp6(3),t.hij(" ",t.lcZ(38,32,"lang_auto_de_thi_da_lam")," "),t.xp6(3),t.Q6J("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam)),t.xp6(1),t.Q6J("ngIf",1==(null==m.classroomObj?null:m.classroomObj.sortType)&&t.xi3(42,34,m.classroomObj,"student"))}}function I(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",133)(1,"div",134)(2,"div",135)(3,"div",136),t.NdJ("click",function(){const C=t.CHM(n).$implicit,E=t.oxw(2);return t.KtG(E.goToProfile(C.classroomId,C.id))}),t.TgZ(4,"div",137),t._UZ(5,"azt-create-avatar",138),t.ALo(6,"anonymousPhone"),t.ALo(7,"mycdn"),t.qZA(),t.TgZ(8,"div",139),t.YNc(9,Qo,8,20,"a",140),t.YNc(10,Yo,2,1,"div",141),t.YNc(11,Bo,2,2,"div",142),t.qZA()(),t.YNc(12,Go,14,9,"div",143),t.ALo(13,"editPermission"),t.qZA(),t.TgZ(14,"button",144),t.NdJ("click",function(){const C=t.CHM(n).index,E=t.oxw(2);return t.KtG(E.toggleExpandedContent(C))}),t.TgZ(15,"span",145),t._UZ(16,"lucide-icon",146),t.qZA()()(),t.TgZ(17,"div",147),t.YNc(18,N,43,37,"div",36),t.qZA()()}if(2&s){const n=h.$implicit,m=h.index,u=t.oxw(2);t.xp6(5),t.MGl("matTooltip","",0==n.parentId||1==n.isAnonymous?null:" Id: "+n.parentId+(""!=t.lcZ(6,12,n.parentPhone)?" - Phone: "+n.parentPhone:"")+" - Name: "+n.parentFullName," "),t.Q6J("nameCreateAvatar",n.fullName)("linkAvatar",t.lcZ(7,14,n.avatar))("size",36),t.xp6(4),t.Q6J("ngIf",n.fullName),t.xp6(1),t.Q6J("ngIf",n.phone),t.xp6(1),t.Q6J("ngIf",n.email),t.xp6(1),t.Q6J("ngIf",t.xi3(13,16,u.classroomObj,"student")),t.xp6(3),t.ekj("rotate-180",u.expandedItemIndex===m),t.xp6(2),t.Q6J("@expandCollapse",u.expandedItemIndex===m?"open":"closed"),t.xp6(1),t.Q6J("ngIf",u.expandedItemIndex===m)}}function F(s,h){if(1&s&&(t.TgZ(0,"div",39)(1,"div",40)(2,"h2",41),t._uU(3),t.qZA(),t.TgZ(4,"span",42),t._uU(5),t.qZA(),t.YNc(6,nn,1,3,"azt-download-qr-code",43),t.qZA(),t._UZ(7,"azt-share",44),t.qZA(),t.YNc(8,zo,16,21,"div",45),t.TgZ(9,"div",46)(10,"div",47),t.YNc(11,On,29,32,"div",48),t.ALo(12,"appFilter"),t.YNc(13,zn,14,7,"div",49),t.ALo(14,"appFilter"),t.qZA(),t.TgZ(15,"div",50),t.YNc(16,I,19,19,"div",51),t.ALo(17,"appFilter"),t.qZA()()),2&s){const n=t.oxw();let m;t.xp6(3),t.hij(" ",null==n.classroomObj?null:n.classroomObj.name," "),t.xp6(2),t.hij("( ",null==n.classroomObj?null:n.classroomObj.year," )"),t.xp6(1),t.Q6J("ngIf",n.joinClassroomLink),t.xp6(1),t.Q6J("backToLink",n.backToLink)("objectCodeType",1)("objectCode","CLASSROOM")("objectId",n.classroomId)("classroomWithPermissionObj",n.classroomObj),t.xp6(1),t.Q6J("ngIf",n.hasStudents||(null!==(m=null==n.listStudents?null:n.listStudents.length)&&void 0!==m?m:0)>0),t.xp6(3),t.Q6J("ngIf",t.Dn7(12,12,n.listStudents,n.searchContentObj.searchContent,t.DdM(24,Ie)).length>0),t.xp6(2),t.Q6J("ngIf",!n.hasStudents||0==t.Dn7(14,16,n.listStudents,n.searchContentObj.searchContent,t.DdM(25,Ie)).length),t.xp6(3),t.Q6J("ngForOf",t.Dn7(17,20,n.listStudents,n.searchContentObj.searchContent,t.DdM(26,Ie)))}}function W(s,h){1&s&&(t.O4$(),t.kcU(),t.TgZ(0,"span",174),t._UZ(1,"lucide-icon",175),t.qZA())}function lt(s,h){1&s&&(t.TgZ(0,"span",174),t._UZ(1,"lucide-icon",175),t.qZA())}function pt(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"li",28)(1,"button",176),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.openDialogAutoNumbering())}),t.O4$(),t.TgZ(2,"svg",8),t._UZ(3,"path",177)(4,"path",178)(5,"path",179)(6,"path",180)(7,"rect",181)(8,"rect",182),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()}2&s&&(t.xp6(9),t.hij(" ",t.lcZ(10,1,"lang_auto_danh_so_bao_danh")," "))}function Ct(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"li",28)(1,"button",29),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.exportListStudent())}),t.O4$(),t.TgZ(2,"svg",30),t._UZ(3,"path",31)(4,"polyline",32)(5,"line",33)(6,"line",34)(7,"line",35),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&s&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_student_utils_export_list_student")," "))}function xe(s,h){if(1&s){const n=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"li")(1,"div",183),t.NdJ("click",function(u){return u.stopPropagation()}),t.TgZ(2,"input",184),t.NdJ("change",function(){t.CHM(n);const u=t.oxw();let C;return t.KtG(u.changeAnonymousStudentStatus(null!==(C=null==u.classroomObj?null:u.classroomObj.id)&&void 0!==C?C:0,u.checkAddStudent.value))}),t.qZA(),t.TgZ(3,"label",185),t._uU(4),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()()()}if(2&s){const n=t.oxw();t.xp6(2),t.Q6J("formControl",n.checkAddStudent)("checked",1==(null==n.classroomObj?null:n.classroomObj.showAddStudent)),t.xp6(2),t.hij(" ",n.checkAddStudent.value?t.lcZ(5,3,"lang_student_classroom_list_detail_on"):t.lcZ(6,5,"lang_student_classroom_list_detail_off")," ")}}function oo(s,h){if(1&s){const n=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"azt-export-excel-for-student-list",186),t.NdJ("exportDataDone",function(u){t.CHM(n);const C=t.oxw();return t.KtG(C.exportStudentListDone(u))}),t.qZA()}if(2&s){const n=t.oxw();t.Q6J("objs",n.exportStudentObjs)}}let io=(()=>{class s extends x.Q{onSearchBox(n){this.searchContentObj=n}toggleExpandedContent(n){this.expandedItemIndex=this.expandedItemIndex===n?-1:n}copyLinkToClipboard(){return this.joinClassroomLink}convertNameForQR(){return"QR_Join_Classroom_"+this.commonService.convertVietnameseToEnglish(this.classroomObj?.name??this.classroomObj?.hashId??"")}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.listStudents)}exportStudentListDone(n){let m=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(n,m)}exportExcelForScoreOfClassroom(){this.loadingExport=!0;let n="";ae.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??""),this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataGetAllExamObjsOfClassroomIdGet(Number(this.classroomId)).subscribe(m=>{1==m.success?m.data?.objs&&m.data?.objs.length?this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(u=>{if(1==u.success){let C=u.data?.objs??new Array;this.prepareDataForExportScore(m.data?.objs??[],C).subscribe(E=>{let Y=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"",et=this.commonService.createFileNameExportFile([Y,this.classroomObj?.name??""]);if(this.commonService.myTranslate(["lang_auto_tap_tin_dang_duoc_tai_xuong"]).subscribe(At=>{n=At.lang_auto_tap_tin_dang_duoc_tai_xuong,ae.G.changeMsgLoadingEffect(n)}),this.classroomObj){const At=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,E,m.data?.objs);this.shareFileFlutterService.shareFileWithBlob(At,et+".xlsx")}ae.G.closeLoadingEffect(200),this.loadingExport=!1})}else this.errorStatusObj(u.message??"",!0),ae.G.closeLoadingEffect(10),this.loadingExport=!1})):this.exportExcelForScoreHomeworkOfClassroom():(this.errorStatusObj(m.message??"",!0),ae.G.closeLoadingEffect(10),this.loadingExport=!1)}))}exportExcelForScoreHomeworkOfClassroom(){this.loadingExport=!0;let n=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"";this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(m=>{if(1==m.success){let u=this.commonService.createFileNameExportFile([n,this.classroomObj?.name??""]);if(this.classroomObj){const C=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,m.data?.objs??[]);this.shareFileFlutterService.shareFileWithBlob(C,u+".xlsx")}}else this.errorStatusObj(m.message??"",!0);ae.G.closeLoadingEffect(10),this.loadingExport=!1}))}prepareDataForExportScore(n,m){return new Te.y(u=>{let C=this.commonService.myTranslateInstant("lang_export_classroom_score_counter_message")??"",E=0,Y=n.length,et=At=>{E<Y?(ae.G.changeMsgLoadingEffect(C+n[E].name+" ("+(E+1)+"/"+Y+")"),this.waitDestroy(this.exportClassroomScoreApiService.getTestedAllResultByClassroomId("export_classroom",n[E].id??0,this.classroomId,At).subscribe(Ae=>{1==Ae.success?(Ae.data&&(At=[...Ae.data]),E++,et(At)):u.error(Ae.message)}))):(u.next(At),u.complete())};et(m)})}getNoticeObjsRequest(){this.waitDestroy(this.noticeService.apiNoticeGetAllNoticeRequestForClassGet(this.classroomId).subscribe(n=>{1==n.success?(n.data?.objs?.length??0)>0&&this.sAztDialogService.open(Ot,{width:"750px",data:{noticeObjs:n.data?.objs??[],classroomObj:this.classroomObj},restoreFocus:!1}):this.showErrorSnack("lang_auto_loi_khong_load_duoc_du_lieu_lop_hoc")}))}changeSortType(n){this.waitDestroy(this.classroomService.apiClassroomChangeSortTypeGet(this.classroomId,n).subscribe(m=>{1==m.success?(this.checkSortListStudent(n),this.classroomObj?.sortType&&(this.classroomObj.sortType=n),this.getData()):this.errorStatusObj(m.message??"",!0)}))}checkSortListStudent(n){this.listStudents=0==n?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.rawStudentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.rawStudentObjs)??[],"pos","id")}onPositionChange(n,m,u,C){let E="up"==n?1:"down"==n?2:3,Y=3==E?n??"":"",et=parseInt(Y,10);this.waitDestroy(this.classroomService.apiClassroomChangePositionStudentGet(Number(3!=E?m:et),Number(u),Number(C),Number(E)).subscribe(Ae=>{1==Ae.success?this.getData():this.showErrorSnack(""==Y&&3==E?"lang_auto_loi_nhap_so_de_thay_doi_vi_tri_hs":"lang_auto_loi_khong_the_doi_vi_tri_hs")}))}changeAnonymousStudentStatus(n,m){this.waitDestroy(m?this.classroomService.apiClassroomChangeShowAddStudentGet(n,1).subscribe(u=>{1==u.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(u.message??"",!0)}):this.classroomService.apiClassroomChangeShowAddStudentGet(n,0).subscribe(u=>{1==u.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(u.message??"",!0)}))}addStudentDialog(n){this.sAztDialogService.open(q,{width:"750px",data:{studentObjs:this.listStudents,classroomObj:n},restoreFocus:!1}).afterClosed().subscribe(u=>{u&&this.getData()})}deleteStudentDialog(n){this.sAztDialogService.open(O,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(u=>{u&&this.getData()})}editStudentDialog(n){this.sAztDialogService.open(xt,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(u=>{u&&this.getData()})}openDialogAutoNumbering(){this.sAztDialogService.open(Ue.G,{data:{classroomWithGroup:[],type:2,listCheckBox:this.classroomObj?.id?[this.classroomObj.id]:[],totalStudent:this.classroomObj?.countStudents},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(m=>{m&&this.getData()})}openDialogCheckboxMonth(n){this.sAztDialogService.open(Ln,{width:"454px",restoreFocus:!1,data:n.id}).afterClosed().subscribe(m=>{m&&this.getListStudentApiNew()})}goToProfile(n,m){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+m,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${n}/0`))}goToMergeStudent(n){this.commonService.myNavigation("/admin/student/merge-student/"+n)}translateExportNote(){let n="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),m="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),u="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),C="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four");this.export=[n,m,u,C]}getData(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.classroomId).subscribe(n=>{if(1==n.success){this.classroomObj=n?.data?.classroomObj,this.permissionObj=this.classroomObj?.permissionObj,this.checkAddStudent.setValue(1==this.classroomObj?.showAddStudent),this.rawStudentObjs=n?.data?.studentObjs,this.checkSortListStudent(n?.data?.classroomObj?.sortType);let u=this.commonService.getCurrentDomain();this.joinClassroomLink=`${u}/${this.commonService.getCurrentLang()}/student/join-classroom/${this.classroomObj?.hashId}`,this.countStudent=n?.data?.studentObjs?.length,this.hasStudents=!!(n?.data?.studentObjs&&n.data.studentObjs.length>0),this.getListStudentApiNew(),this.getNoticeObjsRequest(),this.successStatusObj()}else this.errorStatusObj(n.message??"",!0)}))}getListStudentApiNew(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:this.listStudents?.length??0,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:!1}).subscribe(m=>{m?m.list.forEach(u=>{var C=this.listStudents?.find(E=>E.id==u.id);C&&(C.lastMonthPaid=u.lastMonthPaid,C.lastYearPaid=u.lastYearPaid)}):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}checkValidFormIdentify(n){this.validFormIdentify=n.target instanceof HTMLInputElement&&Number(n.target.value)<=999999-(this.listStudents?.length??0)}handleTabActive(n){this.tabActive=n}ngOnInit(){super.ngOnInit(),this.translateExportNote(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"));let n=this.commonService.getMyQueryParam("backto");this.backToLink=n??"/admin/student/manage-classroom/0",this.getData()}constructor(n,m,u,C,E,Y,et,At,Ae,Eo,xo){super(),this.shareFileFlutterService=n,this.classroomService=m,this.classroomExportDataService=u,this.noticeService=C,this.activeRoute=E,this.sortService=Y,this.studentProfileV2Service=et,this.exportExcelService=At,this.sAztDialogService=Ae,this.studentService=Eo,this.exportClassroomScoreApiService=xo,this.checkAddStudent=new X.NI(!1,{nonNullable:!0}),this.backToLink="",this.classroomId=0,this.export=[""],this.hasStudents=!1,this.validFormIdentify=!0,this.loadingExport=!1,this.expandedItemIndex=-1,this.joinClassroomLink="",this.tabActive=1,this.mouseDown=!1,this.searchContentObj=new i.h,this.form=new X.cw({searchContent:new X.NI("",{nonNullable:!0,validators:[X.kI.required]}),startIdentifyIndex:new X.NI("",{nonNullable:!0,validators:[X.kI.min(1),X.kI.max(999999),X.kI.pattern(/^[0-9]*$/)]})})}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(ye.g),t.Y36(ut.um),t.Y36(Yt.Tg),t.Y36(fe.L$),t.Y36(at.gz),t.Y36(Dn.V),t.Y36(Yt.LU),t.Y36(Hn.L),t.Y36(Ze.C),t.Y36(Vt.V),t.Y36(en))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-student-list"]],viewQuery:function(n,m){if(1&n&&t.Gf(Xt,5),2&n){let u;t.iGM(u=t.CRH())&&(m.slider=u.first)}},features:[t.qOj],decls:58,vars:32,consts:[[1,"grid","grid-cols-12","gap-6"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menu","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-details-NcMQ164X2B1",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M9 17H7A5 5 0 0 1 7 7h2"],["d","M15 7h2a5 5 0 1 1 0 10h-2"],["x1","8","y1","12","x2","16","y2","12"],["azt-track-service","class-list-details-woiwIJfYoz7",1,"dropdown-item","w-full",3,"click"],["d","M11 5h4"],["d","M11 9h7"],["d","M11 13h10"],["d","m3 17 3 3 3-3"],["d","M6 18V4"],["class","w-4 h-4 ml-2 text-success inline-block flex-none",4,"ngIf"],["azt-track-service","class-list-details-dc7h-1UoWkq",1,"dropdown-item","w-full",3,"click"],["x1","10","y1","6","x2","21","y2","6"],["x1","10","y1","12","x2","21","y2","12"],["x1","10","y1","18","x2","21","y2","18"],["d","M4 6h1v4"],["d","M4 10h2"],["d","M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"],[1,"ml-1",3,"matTooltip"],["class","block lg:hidden",4,"ngIf"],[1,"block","lg:hidden"],["azt-track-service","class-list-details-EPPk_ECcOhT",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","file-text","data-lucide","file-text",1,"lucide","lucide-file-text","flex-none","w-4","h-4","mr-2"],["d","M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],[4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[1,"col-span-12","intro-y","flex","justify-between","items-center"],[1,"flex","items-center","mt-2"],[1,"text-lg","font-medium","mr-2"],[1,"mr-2"],[3,"fileName","linkUrl","showLink",4,"ngIf"],[3,"backToLink","objectCodeType","objectCode","objectId","classroomWithPermissionObj"],["class","col-span-12",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[1,"azt-hidden","md:block"],["style","height: 100%",4,"ngIf"],["class","box p-3 flex items-center","style","min-height: 216px;",4,"ngIf"],[1,"md:hidden"],["class","box p-3 mt-3",4,"ngFor","ngForOf"],[3,"fileName","linkUrl","showLink"],[1,"col-span-12"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"isServerSearch","placeholder","onSearch"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-details-s9VkYOpJZKc","class","btn btn-primary btn-sm shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details--hDdQw7XTpD","class","btn btn-primary btn-sm shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-sm btn-primary shadow-md mr-2 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-_DnbWckI_DG","class","btn btn-sm px-2 box shadow-md mr-2 azt-hidden md:flex hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],[1,"dropdown"],["class","dropdown-toggle btn px-2 box",3,"matMenuTriggerFor",4,"ngIf"],["azt-track-service","class-list-details-s9VkYOpJZKc",1,"btn","btn-primary","btn-sm","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],[1,"flex-none","inline-block","w-4","h-4","mr-2"],["name","file-text"],["azt-track-service","class-list-details--hDdQw7XTpD",1,"btn","btn-primary","btn-sm","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["class","flex-none inline-block w-4 h-4 mr-2",4,"ngIf"],["class","flex-none inline-block w-4 h-4 mr-2 ",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-sm","btn-primary","shadow-md","mr-2","w-full","sm:w-auto",3,"click"],[1,"w-4","h-4","flex-none","inline-block","mr-2"],["name","plus"],["azt-track-service","class-list-details-_DnbWckI_DG",1,"btn","btn-sm","px-2","box","shadow-md","mr-2","azt-hidden","md:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary"],[1,"dropdown-toggle","btn","px-2","box",3,"matMenuTriggerFor"],[1,"w-4","h-4","flex","items-center","justify-center"],["name","settings"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"text-center",2,"width","60px","padding","0 !important"],[2,"width","60px",3,"matTooltipDisabled","matTooltip"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],["class","text-center whitespace-nowrap",4,"ngIf"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],[2,"padding","5px 5px 5px 0"],["style","width: 100%; text-align: center; border-right: 1px solid #ccc; display: inline-grid; padding: 5px",4,"ngIf","ngIfElse"],["sttStudent",""],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","phone","email","avatar","identificationNumber","gender","hasUser"],[1,"text-center","capitalize"],["class","text-center",4,"ngIf"],[1,"text-center"],[1,"flex","justify-center","items-center"],["azt-track-service","class-list-details-IXPw9fo4fxc","class","flex items-center mr-3",3,"click",4,"ngIf"],["azt-track-service","class-list-details-O6dc04lZp9g","class","flex items-center text-danger",3,"click",4,"ngIf"],[2,"width","100%","text-align","center","border-right","1px solid #ccc","display","inline-grid","padding","5px"],["azt-track-service","class-list-details-DAInj2oep","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["type","text","appOnlyNumber","",1,"form-control","text-center",2,"padding","4px",3,"value","keyup.enter"],["myInput",""],["azt-track-service","class-list-details-piloTgTGAq","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-DAInj2oep",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","class-list-details-piloTgTGAq",1,"clickable",2,"width","100%","text-align","center",3,"click"],[1,"text-center","font-bold"],["azt-track-service","student-list-eJc79Svrw",1,"w-5","inline-block","ml-1","zoom-in",2,"margin-top","-2px","color","gray",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-calendar-search"],["d","M21 12V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h7.5"],["d","M16 2v4"],["d","M8 2v4"],["d","M3 10h18"],["d","M18 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6v0Z"],["d","m22 22-1.5-1.5"],["azt-track-service","class-list-details-IXPw9fo4fxc",1,"flex","items-center","mr-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","class-list-details-O6dc04lZp9g",1,"flex","items-center","text-danger",3,"click"],[1,"w-4","h-4","mr-2","inline-block"],["name","trash-2"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","82","height","90","viewBox","0 0 82 90","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M29.1186 60.3066C29.0404 60.8599 29 61.4252 29 62C29 68.6274 34.3726 74 41 74C47.6274 74 53 68.6274 53 62C53 61.4252 52.9596 60.8599 52.8815 60.3066H82V87C82 88.6569 80.6569 90 79 90H3C1.34315 90 0 88.6569 0 87V60.3066H29.1186Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M54 60C54 67.1797 48.1797 73 41 73C33.8203 73 28 67.1797 28 60C28 59.7674 28.0061 59.5362 28.0182 59.3066H0L9.56044 31.0389C9.9726 29.8202 11.1159 29 12.4023 29H69.5977C70.8842 29 72.0274 29.8202 72.4396 31.0389L82 59.3066H53.9818C53.9939 59.5362 54 59.7674 54 60Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M52.0976 60.9545C52.0976 66.5025 47.129 72 41 72C34.871 72 29.9024 66.5025 29.9024 60.9545C29.9024 60.7748 29.9077 59.5962 29.918 59.4188H9L17.1614 39.5755C17.5132 38.6338 18.4891 38 19.5873 38H62.4127C63.5109 38 64.4868 38.6338 64.8387 39.5755L73 59.4188H52.082C52.0923 59.5962 52.0976 60.7748 52.0976 60.9545Z","fill","#E8F0FE"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 59.5123V86C1.25 86.9665 2.0335 87.75 3 87.75H79C79.9665 87.75 80.75 86.9665 80.75 86V59.5123L71.2554 31.4393C71.015 30.7285 70.3481 30.25 69.5977 30.25H12.4023C11.6519 30.25 10.985 30.7285 10.7446 31.4393L1.25 59.5123Z","stroke","#1F64E7","stroke-width","2.5"],["d","M14 59C17.9366 59 22.1849 59 26.7449 59C28.6212 59 28.6212 60.3186 28.6212 61C28.6212 67.6274 34.1174 73 40.8973 73C47.6772 73 53.1734 67.6274 53.1734 61C53.1734 60.3186 53.1734 59 55.0496 59H80M6.57373 59H9H6.57373Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M66.0996 6.30273L55 18.7559M40.0996 2V18.7559V2ZM14 6.30273L25.0996 18.7559L14 6.30273Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-3"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],[1,"box","p-3","mt-3"],[1,"flex","items-center","text-sm"],[1,"flex","items-start","px-3"],["azt-track-service","class-list-details-PLih7noFG",1,"flex","items-center",3,"click"],[1,"w-9","h-9","image-fit","zoom-in"],[3,"matTooltip","nameCreateAvatar","linkAvatar","size"],[1,"ml-4",2,"max-width","150px"],["class","font-medium",3,"matTooltip",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",3,"matTooltip",4,"ngIf"],["class","absolute right-0 top-0 mr-6 mt-3 dropdown",4,"ngIf"],["azt-track-service","class-list-details-pefaSVrkl",1,"ml-auto","mr-3","p-1","mt-6","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"click"],[1,"w-5","h-5","inline-block"],["name","chevron-down"],[1,"mt-2"],[1,"font-medium",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-slate-500","text-xs","mt-0.5",3,"matTooltip"],[1,"absolute","right-0","top-0","mr-6","mt-3","dropdown"],[1,"dropdown-toggle","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"matMenuTriggerFor"],[1,"w-5","h-5","text-slate-500"],["name","more-horizontal"],["menuAction","matMenu"],[1,"dropdown-menu","show","relative","w-56"],["azt-track-service","class-list-details-Q6L3Qb4nL-","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-xA4MDIyq3o","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Q6L3Qb4nL-",1,"dropdown-item",3,"click"],["azt-track-service","class-list-details-xA4MDIyq3o",1,"dropdown-item",3,"click"],[1,"flex","items-center","p-3","border-t","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md"],[1,"ml-auto"],["class","flex items-center justify-center text-success",4,"ngIf"],["class","flex items-center p-3 border-t border-slate-200/60 dark:border-darkmode-400",4,"ngIf"],[1,"flex","items-center","justify-center","text-success"],["name","check-square"],[1,"w-full"],[2,"width","100%","text-align","center","display","inline-grid","padding","5px"],["azt-track-service","class-list-details-uQr-XCrTnlF","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Ad3KhS_O8H4","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-uQr-XCrTnlF",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","class-list-details-Ad3KhS_O8H4",1,"clickable",2,"width","100%","text-align","center",3,"click"],[1,"w-4","h-4","ml-2","text-success","inline-block","flex-none"],["name","check"],["azt-track-service","class-list-details-dQQjeblrGNo",1,"dropdown-item","w-full",3,"click"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],["azt-track-service","student-list-I77ChHGFW",1,"form-check","form-switch","p-2",3,"click"],["type","checkbox","id","check-add-student",1,"show-code","form-check-input","mr-1",3,"formControl","checked","change"],["for","check-add-student",1,"form-check-label","ml-0"],[3,"objs","exportDataDone"]],template:function(n,m){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,te,2,0,"div",1),t.YNc(2,F,18,27,"ng-template",null,2,t.W1O),t.qZA(),t.TgZ(4,"mat-menu",3,4)(6,"div",5)(7,"ul",6)(8,"li")(9,"button",7),t.NdJ("click",function(){return m.goToMergeStudent(null==m.classroomObj?null:m.classroomObj.id)}),t.O4$(),t.TgZ(10,"svg",8),t._UZ(11,"path",9)(12,"path",10)(13,"line",11),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(16,"li")(17,"button",12),t.NdJ("click",function(){return m.changeSortType(0)}),t.O4$(),t.TgZ(18,"svg",8),t._UZ(19,"path",13)(20,"path",14)(21,"path",15)(22,"path",16)(23,"path",17),t.qZA(),t._uU(24),t.ALo(25,"mytranslate"),t.YNc(26,W,2,0,"span",18),t.qZA()(),t.kcU(),t.TgZ(27,"li")(28,"button",19),t.NdJ("click",function(){return m.changeSortType(1)}),t.O4$(),t.TgZ(29,"svg",8),t._UZ(30,"line",20)(31,"line",21)(32,"line",22)(33,"path",23)(34,"path",24)(35,"path",25),t.qZA(),t.kcU(),t.TgZ(36,"span",26),t.ALo(37,"mytranslate"),t._uU(38),t.ALo(39,"mytranslate"),t.qZA(),t.YNc(40,lt,2,0,"span",18),t.qZA()(),t.YNc(41,pt,11,3,"li",27),t.ALo(42,"editPermission"),t.YNc(43,Ct,10,3,"li",27),t.ALo(44,"viewPermission"),t.TgZ(45,"li",28)(46,"button",29),t.NdJ("click",function(){return m.exportExcelForScoreOfClassroom()}),t.O4$(),t.TgZ(47,"svg",30),t._UZ(48,"path",31)(49,"polyline",32)(50,"line",33)(51,"line",34)(52,"line",35),t.qZA(),t._uU(53),t.ALo(54,"mytranslate"),t.qZA()(),t.YNc(55,xe,7,7,"li",36),t.ALo(56,"editPermission"),t.qZA()()(),t.YNc(57,oo,1,1,"azt-export-excel-for-student-list",37)),2&n){const u=t.MAs(3);t.xp6(1),t.Q6J("ngIf",m.statusObj.loading)("ngIfElse",u),t.xp6(13),t.hij(" ",t.lcZ(15,13,"lang_student_classroom_list_detail_merge_student")," "),t.xp6(10),t.hij(" ",t.lcZ(25,15,"lang_student_classroom_list_detail_sort_name")," "),t.xp6(2),t.Q6J("ngIf",0==(null==m.classroomObj?null:m.classroomObj.sortType)),t.xp6(10),t.s9C("matTooltip",t.lcZ(37,17,"lang_student_classroom_list_detail_request")),t.xp6(2),t.Oqu(t.lcZ(39,19,"lang_student_classroom_list_detail_change")),t.xp6(2),t.Q6J("ngIf",0!=(null==m.classroomObj?null:m.classroomObj.sortType)),t.xp6(1),t.Q6J("ngIf",t.xi3(42,21,m.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(44,24,m.classroomObj,"student")),t.xp6(10),t.hij(" ",t.lcZ(54,27,"lang_auto_xuat_bang_diem")," "),t.xp6(2),t.Q6J("ngIf",t.xi3(56,29,m.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",m.exportStudentObjs)}},dependencies:[H.sg,H.O5,Z.Hw,z.VK,z.p6,gt.gM,X.Wl,X.JJ,X.oH,st.l,f.g,A.W,L.Y,We.S,mt.n,G.y,_t.W,dt.a,Pt.HU,Pt.$Z,ht.Nh5,j.JV,j.QN,j.om,j.Wr,j.Pf,j.J7,j.gw,j.YK],encapsulation:2,data:{animation:[(0,ge.X$)("expandCollapse",[(0,ge.SB)("open",(0,ge.oB)({height:"*"})),(0,ge.SB)("closed",(0,ge.oB)({height:"0px"})),(0,ge.eR)("open <=> closed",[(0,ge.jt)("0.3s ease-in-out")])])]}}),s})();const Gn=function(s){return{"text-white bg-primary":s}},Zn=function(s){return[s]};function Hi(s,h){if(1&s&&(t.TgZ(0,"a",23),t.ALo(1,"localize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",24),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&s){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(7,Gn,3===n.tabActive))("routerLink",t.VKq(9,Zn,t.lcZ(1,3,"/admin/student/classroom-details/"+n.classroomId+"/3"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_student_educational_program"))}}function Gi(s,h){if(1&s&&(t.TgZ(0,"a",25),t.ALo(1,"localize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",8),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&s){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(7,Gn,4===n.tabActive))("routerLink",t.VKq(9,Zn,t.lcZ(1,3,"/admin/student/classroom-details/"+n.classroomId+"/4"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_student_grade_sheet"))}}function Vi(s,h){1&s&&(t.TgZ(0,"div",19)(1,"div",20),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",19),t.YNc(5,Hi,7,11,"a",21),t.ALo(6,"async"),t.ALo(7,"allowFeatureBusinessForUser"),t.YNc(8,Gi,7,11,"a",22),t.ALo(9,"async"),t.ALo(10,"allowFeatureBusinessForUser"),t.qZA()()),2&s&&(t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_student_extensions")," "),t.xp6(3),t.Q6J("ngIf",t.lcZ(6,5,t.Dn7(7,7,"","training_center_curriculum_in_classroom",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(9,11,t.Dn7(10,13,"","training_center_student_mark",!1))))}function $i(s,h){1&s&&(t.TgZ(0,"div",26),t._UZ(1,"app-student-list"),t.qZA())}function ui(s,h){1&s&&(t.TgZ(0,"div",27),t._UZ(1,"app-exam-exercises",28),t.qZA()),2&s&&(t.xp6(1),t.Q6J("isStudent",!1))}function bt(s,h){if(1&s&&(t.TgZ(0,"div",29),t._UZ(1,"app-news-board",30),t.qZA()),2&s){const n=t.oxw();t.xp6(1),t.Q6J("classroomId",n.classroomId)("isStudent",!1)}}function Vn(s,h){1&s&&(t.TgZ(0,"div",31),t._UZ(1,"app-educational-program",28),t.qZA()),2&s&&(t.xp6(1),t.Q6J("isStudent",!1))}function ao(s,h){1&s&&(t.TgZ(0,"div",32),t._UZ(1,"app-grand-board",28),t.qZA()),2&s&&(t.xp6(1),t.Q6J("isStudent",!1))}const Ft=function(s){return{"font-medium text-white bg-primary":s}};let so=(()=>{class s extends x.Q{getClassroomName(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(n=>{n&&n.success&&(this.classroomName=n.data?.obj?.name??"",this.setTitle())}))}setTitle(){0==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_student_list_title")+": "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_student_list_description",image:"lang_cms_test_image"})):1==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_document_list_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_document_list_description",image:"lang_cms_test_image"})):2==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_news_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_news_board_description",image:"lang_cms_test_image"})):3==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_program_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_program_description",image:"lang_cms_test_image"})):4==this.tabActive&&(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_mark_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_mark_board_description",image:"lang_cms_test_image"}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,l.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.tabActive=Number(this.commonService.getMyParam(this.activeRoute,"tabId")),this.classroomName?this.setTitle():this.getClassroomName()}));let n=this.commonService.getMyQueryParam("backto");this.backToLink=n&&""!=n?n:"/admin/student/manage-classroom/0"}constructor(n,m){super(),this.activeRoute=n,this.classroomService=m,this.backToLink="",this.tabActive=0,this.classroomId=0,this.classroomName="",this.headerTitle=""}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(at.gz),t.Y36(ut.um))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-teacher-classroom-details"]],features:[t.qOj],decls:38,vars:53,consts:[[3,"headerBackToLink","headerTitle"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","md:col-span-3","lg:col-span-2"],[1,"md:p-3","md:border-r","border-slate-200","dark:border-darkmode-400"],["azt-track-service","class-list-details-DVvCIvEs15",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],[1,"w-4","h-4","mr-2","flex-none"],["name","user"],["azt-track-service","class-list-details-Kp8HMxHLJW",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","calendar-check"],["azt-track-service","class-list-details-Fqqucj0PCd",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","newspaper"],["class","mt-3",4,"ngIf"],[1,"col-span-12","md:col-span-9","lg:col-span-10"],[1,"mt-3","md:px-3"],["class","student-list",4,"ngIf"],["class","exam-exercises",4,"ngIf"],["class","news-board",4,"ngIf"],["class","educational-program",4,"ngIf"],["class","grand-board",4,"ngIf"],[1,"mt-3"],[1,"font-medium","uppercase"],["azt-track-service","class-list-details-BDKFcoR84En","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-d91Lw-r2PR8","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-BDKFcoR84En",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","library"],["azt-track-service","class-list-details-d91Lw-r2PR8",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],[1,"student-list"],[1,"exam-exercises"],[3,"isStudent"],[1,"news-board"],[3,"classroomId","isStudent"],[1,"educational-program"],[1,"grand-board"]],template:function(n,m){1&n&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.ALo(6,"localize"),t.TgZ(7,"div",5),t._UZ(8,"lucide-icon",6),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"a",7),t.ALo(13,"localize"),t.TgZ(14,"div",5),t._UZ(15,"lucide-icon",8),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()(),t.TgZ(19,"a",9),t.ALo(20,"localize"),t.TgZ(21,"div",5),t._UZ(22,"lucide-icon",10),t.qZA(),t.TgZ(23,"span"),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()()(),t.YNc(26,Vi,11,17,"div",11),t.ALo(27,"async"),t.ALo(28,"allowFeatureBusinessForUser"),t.ALo(29,"async"),t.ALo(30,"allowFeatureBusinessForUser"),t.qZA()(),t.TgZ(31,"div",12)(32,"div",13),t.YNc(33,$i,2,0,"div",14),t.YNc(34,ui,2,1,"div",15),t.YNc(35,bt,2,2,"div",16),t.YNc(36,Vn,2,1,"div",17),t.YNc(37,ao,2,1,"div",18),t.qZA()()()()),2&n&&(t.Q6J("headerBackToLink",m.backToLink)("headerTitle",m.classroomName),t.xp6(5),t.Q6J("ngClass",t.VKq(41,Gn,0===m.tabActive))("routerLink",t.VKq(43,Zn,t.lcZ(6,17,"/admin/student/classroom-details/"+m.classroomId+"/0"))),t.xp6(5),t.Oqu(t.lcZ(11,19,"lang_cms_classroom_student_list_title")),t.xp6(2),t.Q6J("ngClass",t.VKq(45,Gn,1===m.tabActive))("routerLink",t.VKq(47,Zn,t.lcZ(13,21,"/admin/student/classroom-details/"+m.classroomId+"/1"))),t.xp6(5),t.Oqu(t.lcZ(18,23,"lang_document_exam_exercises")),t.xp6(2),t.Q6J("ngClass",t.VKq(49,Ft,2===m.tabActive))("routerLink",t.VKq(51,Zn,t.lcZ(20,25,"/admin/student/classroom-details/"+m.classroomId+"/2"))),t.xp6(5),t.Oqu(t.lcZ(25,27,"lang_student_news_board")),t.xp6(2),t.Q6J("ngIf",t.lcZ(27,29,t.Dn7(28,31,"","training_center_curriculum_in_classroom",!1))||t.lcZ(29,35,t.Dn7(30,37,"","training_center_student_mark",!1))),t.xp6(7),t.Q6J("ngIf",0===m.tabActive),t.xp6(1),t.Q6J("ngIf",1===m.tabActive),t.xp6(1),t.Q6J("ngIf",2===m.tabActive),t.xp6(1),t.Q6J("ngIf",3===m.tabActive),t.xp6(1),t.Q6J("ngIf",4===m.tabActive))},dependencies:[at.rH,H.mk,H.O5,St._,ht.Nh5,wt.y,gn,jn.Y,Mn.A,io,H.Ov,j.JV,j.J8,c.lO],encapsulation:2}),s})();var Ro=v(83306),Ri=v(51261);function Ko(s,h){1&s&&t._UZ(0,"azt-loading-effect")}function pi(s,h){1&s&&t._UZ(0,"azt-loading-ui",17)}function Ki(s,h){1&s&&(t.TgZ(0,"div",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Le(s,h){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s){const n=t.oxw(2).$implicit;t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_core_thang")," ",n.lastMonthPaid,"")}}function Wi(s,h){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s){const n=t.oxw(2).$implicit;t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_core_nam")," ",n.lastYearPaid,"")}}function qe(s,h){if(1&s&&(t.TgZ(0,"span"),t.YNc(1,Le,3,4,"span",32),t._uU(2," - "),t.YNc(3,Wi,3,4,"span",32),t.qZA()),2&s){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",n.lastMonthPaid),t.xp6(2),t.Q6J("ngIf",n.lastYearPaid)}}function gi(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"tr")(1,"td",27),t._UZ(2,"azt-student-info-box",28),t.qZA(),t.TgZ(3,"td",29),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(6,"td",30)(7,"div",31),t.YNc(8,qe,4,2,"span",32),t.TgZ(9,"button",33),t.NdJ("click",function(){const C=t.CHM(n).$implicit,E=t.oxw(3);return t.KtG(E.openDialogCheckboxMonth(C))}),t.ALo(10,"mytranslate"),t.ALo(11,"mytranslate"),t.O4$(),t.TgZ(12,"svg",34),t._UZ(13,"path",35)(14,"path",36)(15,"path",37)(16,"path",38)(17,"path",39)(18,"path",40),t.qZA()()()(),t.kcU(),t.TgZ(19,"td",41)(20,"div",42),t._uU(21),t.ALo(22,"mytranslate"),t.ALo(23,"mytranslate"),t.qZA()(),t.TgZ(24,"td",41)(25,"div",42),t._uU(26),t.ALo(27,"mytranslate"),t.ALo(28,"mytranslate"),t.qZA()(),t.TgZ(29,"td",30)(30,"div",43)(31,"input",44),t.NdJ("change",function(u){const E=t.CHM(n).$implicit,Y=t.oxw(3);return t.KtG(Y.setAttendance("receivedDocument",E.id,u))}),t.qZA()()(),t.TgZ(32,"td",30)(33,"div",43)(34,"input",45),t.NdJ("change",function(u){const E=t.CHM(n).$implicit,Y=t.oxw(3);return t.KtG(Y.setAttendance("absent",E.id,u))}),t.qZA()()(),t.TgZ(35,"td",30)(36,"textarea",46),t.NdJ("input",function(u){const E=t.CHM(n).$implicit,Y=t.oxw(3);return t.KtG(Y.setReasonAttendance(E.id,u))}),t.ALo(37,"mytranslate"),t.qZA()()()}if(2&s){const n=h.$implicit;let m,u;t.xp6(2),t.Q6J("name",n.fullName)("phone",n.phone)("email",n.email)("avatar",n.avatar)("gender",n.gender)("hasUser",n.hasUser),t.xp6(2),t.Oqu(n.identificationNumber?t.xi3(5,22,n.identificationNumber,6):""),t.xp6(4),t.Q6J("ngIf",n.lastMonthPaid||n.lastYearPaid),t.xp6(1),t.hYB("matTooltip","",t.lcZ(10,25,"lang_cms_auto_gen_test_select")," ",t.lcZ(11,27,"lang_auto_month"),""),t.xp6(10),t.Q6J("ngClass",n.totalRemainHomework>0||n.noHomework?"darkgray":n.finishHomework?"yellowgreen":"red"),t.xp6(2),t.hij(" ",t.lcZ(22,29,n.totalRemainHomework>0?t.lcZ(23,31,"lang_auto_chua_hoan_thanh")+" ("+n.totalRemainHomework.toString()+")":n.noHomework?"lang_auto_hoan_thanh":n.finishHomework?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.xp6(3),t.Q6J("ngClass",n.totalRemainExam>0||n.noExam?"darkgray":n.finishExam?"yellowgreen":"red"),t.xp6(2),t.hij(" ",t.lcZ(27,33,n.totalRemainExam>0?t.lcZ(28,35,"lang_auto_chua_hoan_thanh")+" ("+n.totalRemainExam.toString()+")":n.noExam?"lang_auto_hoan_thanh":n.finishExam?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.xp6(5),t.Q6J("id","received_document_"+n.id)("checked",null!==(m=null==n.attendance?null:n.attendance.receivedDocument)&&void 0!==m?m:0),t.xp6(3),t.Q6J("id","absent_"+n.id)("checked",null!==(u=null==n.attendance?null:n.attendance.absent)&&void 0!==u?u:0),t.xp6(2),t.s9C("placeholder",t.lcZ(37,37,"lang_business_reason_for_leave")),t.Q6J("id","attendance_reason_"+n.id)("disabled",!(null!=n.attendance&&n.attendance.absent))("value",null==n.attendance?null:n.attendance.reason)}}function hi(s,h){if(1&s&&(t.TgZ(0,"div",19)(1,"table",20)(2,"thead")(3,"tr")(4,"th",21),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"th",22),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"th",23),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"mytranslate"),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"th",24),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"th",25),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"th",23)(22,"div"),t._uU(23),t.ALo(24,"mytranslate"),t.qZA(),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"th",23),t._uU(28),t.ALo(29,"mytranslate"),t.qZA(),t.TgZ(30,"th",23),t._uU(31),t.ALo(32,"mytranslate"),t.qZA()()(),t.TgZ(33,"tbody"),t.YNc(34,gi,38,39,"tr",26),t.qZA()()()),2&s){const n=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,12,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(9,14,"lang_auto_so_bao_danh")),t.xp6(3),t.lnq("",t.lcZ(12,16,"lang_core_thang")," - ",t.lcZ(13,18,"lang_core_nam")," ",t.lcZ(14,20,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.xp6(5),t.Oqu(t.lcZ(17,22,"lang_student_frontend_dashboard_homework")),t.xp6(3),t.Oqu(t.lcZ(20,24,"lang_auto_only_de_thi")),t.xp6(4),t.hij(" ",t.lcZ(24,26,"lang_core_da_phat")," "),t.xp6(2),t.hij(" ",t.lcZ(26,28,"lang_auto_tai_lieu")," "),t.xp6(3),t.hij(" ",t.lcZ(29,30,"lang_business_vang_mat")," "),t.xp6(3),t.Oqu(t.lcZ(32,32,"lang_auto_ly_do")),t.xp6(3),t.Q6J("ngForOf",n.listStudent)}}function Xi(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"azt-paging",50),t.NdJ("goToPaginationPage",function(u){t.CHM(n);const C=t.oxw(3);return t.KtG(C.setPageStudent(u))}),t.ALo(1,"ceilTotalPage"),t.qZA()}if(2&s){const n=t.oxw(3);t.Q6J("totalPaginationPage",t.xi3(1,2,n.totalStudent,n.sizePage))("paging",n.pageStudent)}}function fi(s,h){if(1&s&&(t.TgZ(0,"div",47),t._UZ(1,"div"),t.YNc(2,Xi,2,5,"azt-paging",48),t.TgZ(3,"div",49),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&s){const n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",n.totalStudent>n.sizePage),t.xp6(2),t.AsE(" ",n.totalStudent," ",t.lcZ(5,3,"lang_notify_list_students")," ")}}function De(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"h3",5),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",6)(6,"div",7)(7,"div",8)(8,"azt-search-box",9),t.NdJ("onSearch",function(u){t.CHM(n);const C=t.oxw();return t.KtG(C.onSearchBox(u.searchObj))}),t.ALo(9,"mytranslate"),t.qZA()(),t.TgZ(10,"flexed-on-the-top",10)(11,"button",11),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.saveAttendance())}),t.YNc(12,pi,1,0,"azt-loading-ui",12),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()()()()(),t.TgZ(15,"div",13),t.YNc(16,Ki,3,3,"div",14),t.YNc(17,hi,35,34,"div",15),t.qZA(),t.YNc(18,fi,6,5,"div",16)}if(2&s){const n=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,10,"lang_student_attendance_student")),t.xp6(5),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(9,12,"lang_core_tim_theo_ten_phone_email")),t.xp6(2),t.Q6J("colorBackground","#f0f8ffe8"),t.xp6(1),t.Q6J("disabled",n.isSave),t.xp6(1),t.Q6J("ngIf",n.isSave),t.xp6(1),t.hij(" ",t.lcZ(14,14,"lang_auto_luu")," "),t.xp6(3),t.Q6J("ngIf",0==n.listStudent.length&&0==n.totalStudent),t.xp6(1),t.Q6J("ngIf",n.listStudent.length>0),t.xp6(1),t.Q6J("ngIf",n.totalStudent>0)}}let xi=(()=>{class s extends x.Q{openDialogCheckboxMonth(n){this.sAztDialogService.open(Ln,{width:"454px",restoreFocus:!1,data:n.id}).afterClosed().subscribe(m=>{m&&this.getListStudent()})}setPageStudent(n){var m="/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,u="?page="+n+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(m,u),this.initStatusObj(),this.pageStudent=n,this.getListStudent()}onSearchBox(n){this.searchContentObj=n,this.setPageStudent(1)}setAttendance(n,m,u){var C=u.target,E=C.checked?1:0,Y=this.listStudent.find(At=>At.id==m);if(Y){var et=this.listAttendanceNew.find(Ae=>Ae.id==m);let At=document.getElementById("attendance_reason_"+m);"absent"==n?(Y.attendance.absent=E,C.checked?Y.attendance.receivedDocument=0:(Y.attendance.reason="",At.value="")):(Y.attendance.receivedDocument=E,C.checked&&(Y.attendance.absent=0,Y.attendance.reason="",At.value="")),et?(et.absent=Y.attendance?.absent,et.receivedDocument=Y.attendance?.receivedDocument,et.reason=At.value):this.listAttendanceNew.push({id:m,absent:Y.attendance?.absent,receivedDocument:Y.attendance?.receivedDocument,reason:At.value})}}setReasonAttendance(n,m){var u=m.target,C=this.listStudent.find(Y=>Y.id==n);if(C){var E=this.listAttendanceNew.find(Y=>Y.id==n);E?E.reason=u.value:this.listAttendanceNew.push({id:n,absent:C.attendance?.absent,receivedDocument:C.attendance?.receivedDocument,reason:u.value})}}saveAttendance(){this.isSave=!0;let n={programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listAttendanceNew};0==this.listAttendanceNew.length&&(this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),this.isSave=!1),this.waitDestroy(this.studentService.apiStudentsAttendancesPost(n).subscribe(m=>{m.success?(this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageStudent,size:this.sizePage,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!0,getAttendance:!0,me:!1}).subscribe(m=>{m?(m.list.forEach(u=>{u.attendance||(u.attendance={id:0,programId:this.programId,sessionId:this.sessionId,classroomId:this.classroomId,studentId:u.id,absent:0,permission:0,reason:""})},m.list),this.listStudent=m.list,this.totalStudent=m.total??0,this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,l.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageStudent=Number(this.commonService.getMyQueryParam("page")??"1")});let n=this.commonService.getMyQueryParam("backto");this.backToLink=n??`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent(),super.ngOnInit()}constructor(n,m,u){super(),this.activeRoute=n,this.studentService=m,this.sAztDialogService=u,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.sizePage=20,this.isSave=!1,this.listStudent=[],this.listAttendanceNew=[],this.searchContentObj=new i.h}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(at.gz),t.Y36(Vt.V),t.Y36(Ze.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-attendance-student"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","placeholder","onSearch"],[3,"colorBackground"],["azt-track-service","attendance-student-Tj_9J-QZu",1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%; min-width: 1100px",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"mt-10","text-center"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[1,"text-center","whitespace-nowrap","px-3"],[1,"text-center","whitespace-nowrap","px-2"],[4,"ngFor","ngForOf"],[1,"!py-3.5","clickable"],[3,"name","phone","email","avatar","gender","hasUser"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[4,"ngIf"],["azt-track-service","attendance-student-j17JbU3oZS",1,"w-5","h-5","inline-block","ml-1","zoom-in",2,"margin-top","-2px","color","gray",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-calendar-search"],["d","M21 12V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h7.5"],["d","M16 2v4"],["d","M8 2v4"],["d","M3 10h18"],["d","M18 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6v0Z"],["d","m22 22-1.5-1.5"],[1,"text-center",3,"ngClass"],[1,"mx-auto",2,"width","max-content"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"id","checked","change"],["type","checkbox",1,"show-code","form-check-input","form-check-input-absent",3,"id","checked","change"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value","input"],[1,"flex","justify-between","items-center","mt-5"],[3,"totalPaginationPage","paging","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"totalPaginationPage","paging","goToPaginationPage"]],template:function(n,m){if(1&n&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,Ko,1,0,"azt-loading-effect",1),t.YNc(2,De,19,16,"ng-template",null,2,t.W1O),t.qZA()),2&n){const u=t.MAs(3);t.Q6J("headerBackToLink",m.backToLink),t.xp6(1),t.Q6J("ngIf",m.statusObj.loading)("ngIfElse",u)}},dependencies:[H.mk,H.sg,H.O5,gt.gM,st.l,Ro.L,mt.n,Ri.s,_t.W,dt.a,St._,j.JV,j.gw,j.po],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),s})();var bi=v(36294);function ta(s,h){1&s&&t._UZ(0,"azt-loading-effect")}function Wo(s,h){1&s&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_list_null")," "))}const ea=function(s){return{width:s}};function vi(s,h){if(1&s&&(t.TgZ(0,"div",23)(1,"div",24)(2,"div",25,26),t._UZ(4,"img",27),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",28)(7,"div",29),t._uU(8),t.qZA(),t.TgZ(9,"div",30),t._uU(10),t.qZA()()()()),2&s){const n=h.$implicit,m=t.MAs(3);t.xp6(4),t.s9C("src",""!=n.iconLink&&n.iconLink?n.iconLink:"https://mockup.textandtool.com/images/diendanh/u4711.svg",t.LSH),t.s9C("alt",t.lcZ(5,6,"lang_core_anh_sach")),t.xp6(2),t.Q6J("ngStyle",t.VKq(8,ea,"calc(100% -  "+(m.offsetWidth+12)+"px)")),t.xp6(1),t.s9C("matTooltip",n.name),t.xp6(1),t.Oqu(n.name),t.xp6(2),t.Oqu(n.description)}}function Ti(s,h){1&s&&(t.TgZ(0,"div",31),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Ci(s,h){if(1&s&&(t.TgZ(0,"th",38)(1,"div",39),t._uU(2),t.qZA()()),2&s){const n=h.$implicit;t.xp6(1),t.s9C("matTooltip",n.name),t.xp6(1),t.hij(" ",n.name," ")}}const ro=function(){return[]};function Xo(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"td",44)(1,"div",45)(2,"input",46),t.NdJ("change",function(u){t.CHM(n);const C=t.oxw().$implicit,E=t.oxw(3);return t.KtG(E.setStatusBook(C,u))}),t.qZA()()()}if(2&s){const n=h.$implicit,m=t.oxw().$implicit,u=t.oxw(3);let C;t.xp6(2),t.MGl("id","input-book-",n.id,""),t.Q6J("value",n.id)("checked",u.checkStatusDistribute(n,null!==(C=m.books)&&void 0!==C?C:t.DdM(3,ro)))}}function ki(s,h){if(1&s&&(t.TgZ(0,"tr")(1,"td",40),t._UZ(2,"azt-student-info-box",41),t.qZA(),t.TgZ(3,"td",42),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.YNc(6,Xo,3,4,"td",43),t.qZA()),2&s){const n=h.$implicit,m=t.oxw(3);let u;t.xp6(2),t.Q6J("name",n.fullName)("phone",n.phone)("email",n.email)("avatar",n.avatar)("gender",n.gender)("hasUser",n.hasUser),t.xp6(2),t.Oqu(n.identificationNumber?t.xi3(5,8,n.identificationNumber,6):""),t.xp6(2),t.Q6J("ngForOf",null!==(u=null==m.listBook?null:m.listBook.list)&&void 0!==u?u:t.DdM(11,ro))}}function wi(s,h){if(1&s&&(t.TgZ(0,"div",32)(1,"drag-scroll")(2,"table",33)(3,"thead")(4,"tr")(5,"th",34),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"th",35),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.YNc(11,Ci,3,2,"th",36),t.qZA()(),t.TgZ(12,"tbody"),t.YNc(13,ki,7,12,"tr",37),t.qZA()()()()),2&s){const n=t.oxw(2);let m;t.xp6(6),t.Oqu(t.lcZ(7,4,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(10,6,"lang_auto_so_bao_danh")),t.xp6(2),t.Q6J("ngForOf",null!==(m=null==n.listBook?null:n.listBook.list)&&void 0!==m?m:t.DdM(8,ro)),t.xp6(2),t.Q6J("ngForOf",n.listStudent)}}function Zo(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",47),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",48),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2);return t.KtG(u.search(u.searchContentObj))}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_core_not_found_student"),"... "),t.xp6(3),t.Oqu(t.lcZ(5,4,"lang_powerpoint_frontend_chart_back")))}function Ao(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"azt-paging",16),t.NdJ("goToPaginationPage",function(u){t.CHM(n);const C=t.oxw(3);return t.KtG(C.setPageStudent(u))}),t.ALo(1,"ceilTotalPage"),t.qZA()}if(2&s){const n=t.oxw(3);t.Q6J("totalPaginationPage",t.xi3(1,2,n.totalStudent,n.sizePage))("paging",n.pageStudent)}}function lo(s,h){if(1&s&&(t.TgZ(0,"div",49),t._UZ(1,"div"),t.YNc(2,Ao,2,5,"azt-paging",50),t.TgZ(3,"div",51),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&s){const n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",n.totalStudent>n.sizePage),t.xp6(2),t.AsE(" ",n.totalStudent," ",t.lcZ(5,3,"lang_notify_list_students")," ")}}function So(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",10)(1,"div",11),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Wo,3,3,"div",12),t.TgZ(5,"div",13),t.YNc(6,vi,11,10,"div",14),t.qZA(),t.TgZ(7,"div",15)(8,"azt-paging",16),t.NdJ("goToPaginationPage",function(u){t.CHM(n);const C=t.oxw();return t.KtG(C.setPageBook(u))}),t.qZA()()(),t.TgZ(9,"div",17),t.YNc(10,Ti,3,3,"div",18),t.YNc(11,wi,14,9,"div",19),t.YNc(12,Zo,6,6,"div",20),t.qZA(),t.YNc(13,lo,6,5,"div",21)}if(2&s){const n=t.oxw();let m,u;t.xp6(2),t.Oqu(t.lcZ(3,9,"lang_core_thong_tin_sach")),t.xp6(2),t.Q6J("ngIf",!(null!=n.listBook&&n.listBook.list&&0!=(null==n.listBook?null:n.listBook.total)||""!=n.searchContentObj.searchContent)),t.xp6(2),t.Q6J("ngForOf",null!==(m=null==n.listBook?null:n.listBook.list)&&void 0!==m?m:t.DdM(11,ro)),t.xp6(2),t.Q6J("totalPaginationPage",(null!==(u=null==n.listBook?null:n.listBook.total)&&void 0!==u?u:0)/12)("paging",1),t.xp6(2),t.Q6J("ngIf",0==n.listStudent.length&&""==n.searchContentObj.searchContent),t.xp6(1),t.Q6J("ngIf",n.listStudent.length>0),t.xp6(1),t.Q6J("ngIf",0==n.listStudent.length&&""!=n.searchContentObj.searchContent),t.xp6(1),t.Q6J("ngIf",n.totalStudent>0)}}let yi=(()=>{class s extends x.Q{setPageStudent(n){var m="/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,u="?page="+n+"&backto="+encodeURIComponent(this.backLink);this.myNavigationWithQueryString(m,u),this.initStatusObj(),this.pageStudent=n,this.getListStudent()}search(n){this.searchContentObj=n,this.setPageStudent(1)}setPageBook(n){this.pageBook=n,this.getBooks()}checkStatusDistribute(n,m){for(let u=0;u<m.length;u++)if(m[u].bookId==n.id)return!0;return!1}getBooks(){this.waitDestroy(this.bookService.apiBooksListPost({page:this.pageBook,size:12,programId:this.programId}).subscribe(m=>{m?(this.listBook=m,this.getListStudent()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_sach",!0)}))}setStatusBook(n,m){var u=m.target;if(u.checked){var C={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:n.id,bookId:Number(u.value),activate:u.checked};this.waitDestroy(this.studentService.apiStudentsBooksPatch(C).subscribe(Y=>{Y.success||(document.getElementById("input-book-"+u.value).checked=!u.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}else{var E={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:n.id,bookId:Number(u.value)};this.waitDestroy(this.studentService.apiStudentsBooksDeletePost(E).subscribe(Y=>{Y.success||(document.getElementById("input-book-"+u.value).checked=!u.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageStudent,size:this.sizePage,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!0,getMark:!0,getPayment:!1,getAttendance:!0,me:!1}).subscribe(m=>{m?(this.listStudent=m.list,this.totalStudent=m.total??0,this.stopStatusObj(),this.searchContentObj.setLoading(!1)):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.searchContentObj.setLoading(!1))}))}ngOnInit(){(0,l.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageStudent=Number(this.commonService.getMyQueryParam("page")??"1")});let n=this.commonService.getMyQueryParam("backto");this.backLink=n??`/admin/student/classroom-details/${this.classroomId}/3`,this.getBooks(),super.ngOnInit()}constructor(n,m,u){super(),this.bookService=n,this.studentService=m,this.activeRoute=u,this.backLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageBook=1,this.totalStudent=0,this.pageStudent=1,this.sizePage=20,this.listStudent=[],this.searchContentObj=new i.h}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(bi.Z),t.Y36(Vt.V),t.Y36(at.gz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-distribute-documents"]],features:[t.qOj],decls:14,vars:11,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","mt-3"],[1,"text-base","font-medium","mb-2"],["class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-3"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%",4,"ngIf"],["class","flex justify-center mt-2",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4"],[1,"flex","w-70","box-book"],[1,"box-image"],["imageBook",""],["id","blah",3,"src","alt"],[1,"ml-3",3,"ngStyle"],[1,"text-sm","font-medium","truncate",3,"matTooltip"],[1,"scroll"],[1,"mt-10","text-center"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center whitespace-nowrap","style","max-width: 100px !important",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-center","whitespace-nowrap",2,"max-width","100px !important"],[1,"truncate",3,"matTooltip"],[1,"!py-3.5","clickable"],[3,"name","phone","email","avatar","gender","hasUser"],[1,"text-center","capitalize"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input","mr-1",3,"id","value","checked","change"],[1,"flex","justify-center","mt-2"],[1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"totalPaginationPage","paging","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"]],template:function(n,m){if(1&n&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.NdJ("onSearch",function(C){return m.search(C.searchObj)}),t.ALo(10,"mytranslate"),t.qZA()()()()(),t.YNc(11,ta,1,0,"azt-loading-effect",8),t.YNc(12,So,14,12,"ng-template",null,9,t.W1O),t.qZA()),2&n){const u=t.MAs(13);t.Q6J("headerBackToLink",m.backLink),t.xp6(4),t.Oqu(t.lcZ(5,7,"lang_student_distribute_books")),t.xp6(5),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",m.searchContentObj),t.xp6(2),t.Q6J("ngIf",m.statusObj.loading)("ngIfElse",u)}},dependencies:[H.sg,H.O5,H.PC,gt.gM,st.l,Ro.L,_t.W,dt.a,St._,Pt.HU,Pt.$Z,j.JV,j.gw,j.po],styles:[".add-image-label[_ngcontent-%COMP%]{background:skyblue;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;left:17px;font-size:10px;text-align:center;border-radius:2px}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:12px}.textarea-description[_ngcontent-%COMP%]{height:69px;max-height:70px;border-radius:5px;font-size:12px}.box-image[_ngcontent-%COMP%]{height:102px;width:76px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:72px;max-height:98px;margin:auto}.box-book[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:5px;padding:.5rem;height:118px;min-width:300px}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.scroll[_ngcontent-%COMP%]{overflow:auto;max-height:78px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px;width:8px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:darkgray}"]}),s})();var na=v(33195);let oa=(()=>{class s extends x.Q{ngOnInit(){(0,l.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id"));let n=this.commonService.getMyQueryParam("studentId"),m=this.commonService.getMyQueryParam("backTo");this.backToLink=n?"/admin/student/classroom-details/"+this.classroomId+"/4":m||"/admin/student/classroom-details/"+this.classroomId+"/3"}),super.ngOnInit()}constructor(n){super(),this.activeRoute=n,this.backToLink="",this.isShowData=!1,this.classroomId=0,this.programId=0,this.sessionId=0}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(at.gz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-enter-score"]],features:[t.qOj],decls:2,vars:6,consts:[[3,"headerBackToLink"],[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(n,m){1&n&&(t.TgZ(0,"teacher-layout",0),t._UZ(1,"app-table-score",1),t.qZA()),2&n&&(t.Q6J("headerBackToLink",m.backToLink),t.xp6(1),t.Q6J("isStudent",!1)("screenType","ENTER_SCORE")("classroomId",m.classroomId)("programId",m.programId)("sessionId",m.sessionId))},dependencies:[St._,na.B],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),s})();var Oi=v(9345),Fn=v(75470),No=v(87466),Zi=v(98525),V=v(67679);function vs(s,h){1&s&&(t.TgZ(0,"div",32),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}function vt(s,h){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const n=t.oxw(2);t.xp6(1),t.hij("- ",n.selectedYearValue+1,"")}}function Jn(s,h){if(1&s&&(t.TgZ(0,"mat-option",33),t._uU(1),t.YNc(2,vt,2,1,"span",34),t.qZA()),2&s){const n=h.$implicit,m=t.oxw();t.Q6J("value",n),t.xp6(1),t.hij("",n," "),t.xp6(1),t.Q6J("ngIf",m.selectedYearValue==n)}}function Qe(s,h){1&s&&(t.TgZ(0,"div",35),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" *",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_school_year"),". "))}function qn(s,h){if(1&s&&(t.TgZ(0,"span",43),t._uU(1),t.qZA()),2&s){const n=t.oxw(3).$implicit;t.xp6(1),t.Oqu(n.groupObj.name)}}function $n(s,h){if(1&s&&(t.TgZ(0,"span",44),t._uU(1),t.qZA()),2&s){const n=t.oxw(3).$implicit;t.s9C("matTooltip",n.groupObj.name),t.xp6(1),t.Oqu(n.groupObj.name)}}function co(s,h){if(1&s&&(t.TgZ(0,"mat-radio-button",40),t.YNc(1,qn,2,1,"span",41),t.YNc(2,$n,2,2,"span",42),t.qZA()),2&s){const n=t.oxw(2).$implicit;t.Q6J("value",n.groupObj.id),t.xp6(1),t.Q6J("ngIf",n.groupObj.name&&n.groupObj.name.length<15),t.xp6(1),t.Q6J("ngIf",n.groupObj.name&&n.groupObj.name.length>=15)}}function ti(s,h){if(1&s&&(t.TgZ(0,"div",38),t.YNc(1,co,3,3,"mat-radio-button",39),t.qZA()),2&s){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null!=n.groupObj)}}function mo(s,h){if(1&s&&(t.TgZ(0,"div",45)(1,"mat-radio-button",40),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&s){const n=t.oxw(2);t.xp6(1),t.Q6J("value",n.fakeGroupValue),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_student_classroom_list_other")," ")}}function _o(s,h){if(1&s&&(t.ynx(0),t.YNc(1,ti,2,1,"div",36),t.YNc(2,mo,4,4,"div",37),t.BQk()),2&s){const n=h.$implicit;t.xp6(1),t.Q6J("ngIf",null!=n.groupObj&&-1!=n.groupObj.id),t.xp6(1),t.Q6J("ngIf",null==n.groupObj)}}function Ai(s,h){1&s&&(t.TgZ(0,"div",46),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_name_group")," "))}function ia(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"a",47),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.isShowCreateGroupOfClassroomOfClassroomBox(!0))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_+_them_nhom")))}function Ye(s,h){1&s&&(t._UZ(0,"input",48,49),t.ALo(2,"mytranslate")),2&s&&t.s9C("placeholder",t.lcZ(2,1,"lang_auto_ten_nhom_vd_khoi_1_khoi_2"))}function le(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",50)(1,"button",51),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.createNewGroupOfClassroom())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",52),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.isShowCreateGroupOfClassroomOfClassroomBox(!1))}),t.O4$(),t.TgZ(5,"svg",53),t._UZ(6,"line",54)(7,"line",55),t.qZA()()()}if(2&s){const n=t.oxw();t.xp6(1),t.Q6J("disabled",n.form.controls.nameGroup.errors),t.xp6(1),t.Oqu(t.lcZ(3,2,"lang_auto_tao_nhom"))}}function ei(s,h){1&s&&(t.TgZ(0,"div",56),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" *",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_enter_name_group"),". "))}function ni(s,h){1&s&&(t.TgZ(0,"span",59),t._UZ(1,"azt-loading-ui"),t.qZA())}function Si(s,h){if(1&s){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",57),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.saveClassroomObj())}),t.YNc(2,ni,2,0,"span",58),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&s){const n=t.oxw();t.xp6(1),t.Q6J("disabled",n.statusObj.loading||n.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(4,3,"lang_button_save")," ")}}function Qn(s,h){1&s&&(t.TgZ(0,"span",59),t._UZ(1,"azt-loading-ui"),t.qZA())}function oi(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.updateClassroomObj())}),t.YNc(1,Qn,2,0,"span",58),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()}if(2&s){const n=t.oxw();t.Q6J("disabled",n.statusObj.loading||n.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(3,3,"lang_button_update")," ")}}let jo=(()=>{class s extends ne.e{closeDialog(){this.dialogRef.close(!!this.hasCreateNewGroup)}createNewGroupOfClassroom(){if(this.initStatusObj(),this.form.controls.nameGroup.valid){this.isShowCreateGroupOfClassroom=!1;let n={groupName:this.form.getRawValue().nameGroup};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomGroupPost(n).subscribe(m=>{1==m.success?(this.hasCreateNewGroup=!0,this.getClassroomObjs(),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):this.errorStatusObj(m.message??"",!0)}))}}isShowCreateGroupOfClassroomOfClassroomBox(n){this.form.controls.nameGroup.setValue(""),this.isShowCreateGroupOfClassroom=n}updateClassroomObj(){this.initStatusObj();let m=this.form.getRawValue().group;-1==m&&(m=void 0);let u={id:this.classroomObj?.id??0,classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:m??0};0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid?this.stopStatusObj():this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomWithGroupPost(u).subscribe(C=>{1==C.success?C.data?.isDuplicatedClassroomName?(this.errorStatusObj(C.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0),this.dialogRef.close(!!this.hasCreateNewGroup)):(this.successStatusObj("lang_auto_sua_lop_hoc_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(!!this.hasCreateNewGroup),this.errorStatusObj("lang_auto_sua_lop_hoc_khong_thanh_cong",!0))}))}saveClassroomObj(){this.initStatusObj();let m=this.form.getRawValue().group;-1==m&&(m=void 0);let u={classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:m};0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid?this.stopStatusObj():this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(u).subscribe(C=>{1==C.success?C.data?.isDuplicatedClassroomName?(this.showErrorSnack(C.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac"),this.closeDialog()):(this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_auto_them_lop_hoc_khong_thanh_cong",!0),this.closeDialog())}))}handleData(){let n=(new Date).getFullYear();for(let E=n-20;E<=n+40;E++)this.years.push(E);null!=this.classroomObj&&(null==this.classroomObj.year&&(this.classroomObj.year=""),null==this.classroomObj.classroomGroupId&&(this.classroomObj.classroomGroupId=this.fakeGroupValue));let m=this.classroomObj?this.classroomObj?.year?.split(" ")[0]:"";this.selectedYearValue=""!=m?parseInt(m??"",10):n;let u=this.classroomObj?this.classroomObj.classroomGroupId:this.fakeGroupValue;this.form=new X.cw({nameClass:new X.NI(this.classroomObj?this.classroomObj.name:"",{nonNullable:!0,validators:[X.kI.required]}),nameGroup:new X.NI("",{nonNullable:!0,validators:[X.kI.required]}),group:new X.NI(u,{nonNullable:!0,validators:[X.kI.required]}),year:new X.NI(this.selectedYearValue,{nonNullable:!0,validators:[X.kI.required]})})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet().subscribe(n=>{1==n.success?(this.activeClassroomData=n?.data?.classroomData,this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){this.handleData(),this.getClassroomObjs()}constructor(n,m,u){super(u,m),this.classroomGroupService=n,this.dialogRef=m,this.data=u,this.selectedYearValue=0,this.isShowCreateGroupOfClassroom=!1,this.fakeGroupValue=-1,this.years=[],this.hasCreateNewGroup=!1,this.classroomObj=u.classroomObj,this.form=new X.cw({nameClass:new X.NI("",{nonNullable:!0,validators:[X.kI.required]}),nameGroup:new X.NI("",{nonNullable:!0,validators:[X.kI.required]}),group:new X.NI(0,{nonNullable:!0,validators:[X.kI.required]}),year:new X.NI(0,{nonNullable:!0,validators:[X.kI.required]})})}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(Fn.c8),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-create-or-classroom"]],features:[t.qOj],decls:46,vars:33,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","nameClass",1,"form-label"],["type","text","id","nameClass","formControlName","nameClass",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","year",1,"form-label"],["appearance","outline"],["formControlName","year","id","year",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-xs text-danger mt-1","style","width: 100%; margin: auto;",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["formControlName","group"],[1,"grid","grid-cols-10","gap-4","sm:gap-6","azt-create-update-classroom","px-3"],[4,"ngFor","ngForOf"],["class","text-danger text-danger mt-1",4,"ngIf"],[1,"p-3","flex","flex-col","md:flex-row","md:items-center"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN","class","m-1 btn-text-primary",3,"click",4,"ngIf"],["type","text","class","form-control mr-2","style","width: auto","formControlName","nameGroup",3,"placeholder",4,"ngIf"],["class","flex",4,"ngIf"],["class","text-danger pl-5 pb-2","style","max-width: 250px;",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],[4,"ngIf","ngIfElse"],["updateData",""],[1,"text-xs","text-danger","mt-1"],[3,"value"],[4,"ngIf"],[1,"text-xs","text-danger","mt-1",2,"width","100%","margin","auto"],["class","col-span-12 sm:col-span-4 md:col-span-3 xl:col-span-3 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-4 md:col-span-3 xl:col-span-3",4,"ngIf"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3","w-full"],["color","primary","class","w-full",3,"value",4,"ngIf"],["color","primary",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer;",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3"],[1,"text-danger","text-danger","mt-1"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN",1,"m-1","btn-text-primary",3,"click"],["type","text","formControlName","nameGroup",1,"form-control","mr-2",2,"width","auto",3,"placeholder"],["nameGroup",""],[1,"flex"],["azt-track-service","create-or-update-classroom-dialog-93qcHBpjZM3",1,"btn","block","btn-primary","mr-2","ml-0","md:ml-2","mt-2","md:mt-0",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-F4XQrjncsAd",1,"btn","block","btn-secondary","mt-2","md:mt-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"text-danger","pl-5","pb-2",2,"max-width","250px"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"]],template:function(n,m){if(1&n&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"azt-mat-dialog-content")(9,"div",5)(10,"div",6)(11,"label",7),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t._UZ(14,"input",8),t.ALo(15,"mytranslate"),t.YNc(16,vs,3,3,"div",9),t.qZA(),t.TgZ(17,"div",10)(18,"label",11),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"mat-form-field",12)(22,"mat-select",13),t.NdJ("valueChange",function(C){return m.selectedYearValue=C}),t.YNc(23,Jn,3,3,"mat-option",14),t.qZA()(),t.YNc(24,Qe,3,3,"div",15),t.qZA(),t.TgZ(25,"div",16)(26,"div",17),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"div",18)(30,"mat-radio-group",19)(31,"div",20),t.YNc(32,_o,3,2,"ng-container",21),t.qZA()(),t.YNc(33,Ai,3,3,"div",22),t.TgZ(34,"div",23),t.YNc(35,ia,3,3,"a",24),t.YNc(36,Ye,3,3,"input",25),t.YNc(37,le,8,4,"div",26),t.qZA(),t.YNc(38,ei,3,3,"div",27),t.qZA()()()()(),t.TgZ(39,"div",28)(40,"button",29),t.NdJ("click",function(){return m.closeDialog()}),t._uU(41),t.ALo(42,"mytranslate"),t.qZA(),t.YNc(43,Si,5,5,"ng-container",30),t.YNc(44,oi,4,5,"ng-template",null,31,t.W1O),t.qZA()()()),2&n){const u=t.MAs(45);t.xp6(1),t.Q6J("formGroup",m.form),t.xp6(4),t.hij(" ",m.classroomObj?t.lcZ(7,21,"lang_student_classroom_list_utils_create_class_update_class"):t.lcZ(6,19,"lang_student_classroom_list_utils_create_class_add_class")," "),t.xp6(7),t.hij(" ",t.lcZ(13,23,"lang_auto_ten_lop")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(15,25,"lang_auto_nhap_ten_lop")),t.xp6(2),t.Q6J("ngIf",m.form.controls.nameClass.dirty&&m.form.controls.nameClass.errors),t.xp6(3),t.hij(" ",t.lcZ(20,27,"lang_auto_nam_hoc")," "),t.xp6(3),t.Q6J("value",m.selectedYearValue),t.xp6(1),t.Q6J("ngForOf",m.years),t.xp6(1),t.Q6J("ngIf",m.form.controls.year.dirty&&m.form.controls.year.errors),t.xp6(3),t.hij(" ",t.lcZ(28,29,"lang_student_classroom_list_utils_create_class_choose_group_class")," "),t.xp6(5),t.Q6J("ngForOf",m.activeClassroomData),t.xp6(1),t.Q6J("ngIf",m.form.controls.group.dirty&&m.form.controls.group.errors),t.xp6(2),t.Q6J("ngIf",0==m.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",1==m.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",m.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",m.isShowCreateGroupOfClassroom&&m.form.controls.nameGroup.dirty&&m.form.controls.nameGroup.errors),t.xp6(3),t.Oqu(t.lcZ(42,31,"lang_button_cancel")),t.xp6(2),t.Q6J("ngIf",!m.classroomObj)("ngIfElse",u)}},dependencies:[H.sg,H.O5,ke.ey,we.KE,No.VQ,No.U0,Zi.gD,gt.gM,X._Y,X.Fj,X.JJ,X.JL,X.sg,X.u,V.M,me.R,mt.n,j.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),s})();function aa(s,h){1&s&&(t.TgZ(0,"span",10),t._UZ(1,"azt-loading-ui"),t.qZA())}let sa=(()=>{class s extends ne.e{closeDialog(n){this.dialogRef.close(n)}deleteGroupOfClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomGroupGet(this.currentGroupOfClassroomDataThatIsEdited?.id??0).subscribe(n=>{1==n.success?(this.showSuccessSnack("lang_auto_xoa_nhom_thanh_cong"),this.successStatusObj(),this.closeDialog(!0)):(this.errorStatusObj(n.message??"",!0),this.dialogRef.close())}))}constructor(n,m,u){super(u,m),this.classroomGroupService=n,this.dialogRef=m,this.data=u,this.currentGroupOfClassroomDataThatIsEdited=u.groupObj}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(Fn.c8),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-delete-group"]],features:[t.qOj],decls:17,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-danger",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,m){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"span",5),t._uU(8),t.qZA()()()()(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return m.closeDialog(!1)}),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return m.deleteGroupOfClassroom()}),t.YNc(14,aa,2,0,"span",9),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,6,"lang_student_classroom_list_utils_delete_group")," "),t.xp6(3),t.Oqu(null==m.currentGroupOfClassroomDataThatIsEdited?null:m.currentGroupOfClassroomDataThatIsEdited.name),t.xp6(3),t.hij(" ",t.lcZ(12,8,"lang_button_cancel")," "),t.xp6(2),t.Q6J("disabled",1==m.statusObj.loading),t.xp6(1),t.Q6J("ngIf",m.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(16,10,"lang_button_delete")," "))},dependencies:[H.O5,mt.n,j.JV],encapsulation:2}),s})();var ra=v(23433);function uo(s,h){1&s&&(t.TgZ(0,"span",10),t._UZ(1,"azt-loading-ui"),t.qZA())}let la=(()=>{class s extends ne.e{closeDialog(n){this.dialogRef.close(n)}deleteClassroomObj(){this.classroomObj.isShareClassroom?this.updateClasstoGroup():(this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomObjGet(this.classroomObj?.id??0).subscribe(n=>{1==n.success?(this.successStatusObj("lang_auto_xoa_lop_hoc_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_auto_xoa_lop_hoc_khong_thanh_cong",!0),this.dialogRef.close())})))}updateClasstoGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classroomObj.id}).subscribe(m=>{1==m.success?(this.successStatusObj("lang_core_xoa_nhom_lop_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_core_xoa_nhom_lop_khong_thanh_cong",!0),this.closeDialog(!1))})}constructor(n,m,u){super(u,m),this.classroomGroupService=n,this.dialogRef=m,this.data=u,this.classroomObj=u.classroomObj}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(Fn.c8),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-teacher-delete-classroom"]],features:[t.qOj],decls:18,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","text-right"],["azt-track-service","delete-classroom-plZFV82pDhH",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-classroom-f8Z8p51QYG8",1,"btn","w-24","btn-danger",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,m){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.TgZ(8,"span",5),t._uU(9),t.qZA()()()()(),t.TgZ(10,"div",6)(11,"button",7),t.NdJ("click",function(){return m.closeDialog(!1)}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"button",8),t.NdJ("click",function(){return m.deleteClassroomObj()}),t.YNc(15,uo,2,0,"span",9),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(5),t.AsE(" ",m.classroomObj.isShareClassroom?t.lcZ(6,7,"lang_core_bo_quyen_luu_y_sau_khi_xoa_lop_duoc_chia_se"):""," ",t.lcZ(7,9,"lang_student_classroom_list_utils_delete_class")," "),t.xp6(4),t.Oqu(m.classroomObj.name),t.xp6(3),t.hij(" ",t.lcZ(13,11,"lang_button_cancel")," "),t.xp6(2),t.Q6J("disabled",1==m.statusObj.loading),t.xp6(1),t.Q6J("ngIf",m.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(17,13,"lang_button_delete")," "))},dependencies:[H.O5,mt.n,j.JV],encapsulation:2}),s})();function ca(s,h){1&s&&(t.TgZ(0,"span",15),t._UZ(1,"azt-loading-ui"),t.qZA())}function ma(s,h){if(1&s&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s){const n=t.oxw(3).$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.groupObj.name))}}function da(s,h){if(1&s&&(t.TgZ(0,"span",24),t.ALo(1,"mytranslate"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&s){const n=t.oxw(3).$implicit;t.s9C("matTooltip",t.lcZ(1,2,n.groupObj.name)),t.xp6(2),t.Oqu(t.lcZ(3,4,n.groupObj.name))}}function Ni(s,h){if(1&s&&(t.TgZ(0,"mat-radio-button",20),t.YNc(1,ma,3,3,"span",21),t.YNc(2,da,4,6,"span",22),t.qZA()),2&s){const n=t.oxw(2).$implicit;t.Q6J("value",n.groupObj.id),t.xp6(1),t.Q6J("ngIf",n.groupObj.name&&n.groupObj.name.length<15),t.xp6(1),t.Q6J("ngIf",n.groupObj.name&&n.groupObj.name.length>=15)}}function _a(s,h){if(1&s&&(t.TgZ(0,"div",18),t.YNc(1,Ni,3,3,"mat-radio-button",19),t.qZA()),2&s){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null!=n.groupObj)}}function ua(s,h){1&s&&(t.TgZ(0,"div",25)(1,"mat-radio-button",20),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&s&&(t.xp6(1),t.Q6J("value",0),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_student_classroom_list_other")," "))}function pa(s,h){if(1&s&&(t.ynx(0),t.YNc(1,_a,2,1,"div",16),t.YNc(2,ua,4,4,"div",17),t.BQk()),2&s){const n=h.$implicit;t.xp6(1),t.Q6J("ngIf",null!=n.groupObj),t.xp6(1),t.Q6J("ngIf",null==n.groupObj)}}function ga(s,h){1&s&&(t.TgZ(0,"span",26),t._UZ(1,"azt-loading-ui"),t.qZA())}let ha=(()=>{class s extends ne.e{closeDialog(){this.dialogRef.close()}chooseGroup(){let n=this.form.getRawValue();this.groupId=-1==n.groupId?void 0:n.groupId}updateClasstoGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classId,groupId:this.groupId}).subscribe(m=>{1==m.success?(this.successStatusObj("lang_core_di_chuyen_nhom_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_core_di_chuyen_nhom_khong_thanh_cong",!0),this.closeDialog())})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet().subscribe(m=>{if(1==m.success){this.activeClassroomData=m?.data?.classroomData;for(let C=0;C<(this.activeClassroomData?.length??0);C++){var u=this.activeClassroomData[C]?.classroomObjs;for(let E=0;E<u.length;E++)u[E].id==this.classId&&(this.form=new X.cw({groupId:new X.NI(null==this.activeClassroomData[C].groupObj?.id?0:this.activeClassroomData[C].groupObj?.id,{nonNullable:!0,validators:[X.kI.required]})}))}this.successStatusObj()}else this.errorStatusObj(m.message??"",!0)}))}ngOnInit(){this.getClassroomObjs()}constructor(n,m,u){super(u,m),this.classroomGroupService=n,this.dialogRef=m,this.data=u,this.classId=0,this.classId=u.classId,this.form=new X.cw({groupId:new X.NI(void 0,{nonNullable:!0,validators:[X.kI.required]})})}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(Fn.c8),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-move-classroom-to-group"]],features:[t.qOj],decls:22,vars:14,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class","list-group"],[1,"pt-2"],["class","w-4 h-4 inline-block",4,"ngIf"],["formControlName","groupId",3,"change"],[1,"grid","grid-cols-12","gap-4","sm:gap-6","azt-create-update-classroom"],[4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6",4,"ngIf"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6","w-full"],["color","primary","size","small","class","w-full",3,"value",4,"ngIf"],["color","primary","size","small",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer;",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,m){1&n&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6),t.YNc(10,ca,2,0,"span",7),t.TgZ(11,"mat-radio-group",8),t.NdJ("change",function(){return m.chooseGroup()}),t.TgZ(12,"div",9),t.YNc(13,pa,3,2,"ng-container",10),t.qZA()()()()()(),t.TgZ(14,"div",11)(15,"button",12),t.NdJ("click",function(){return m.closeDialog()}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"button",13),t.NdJ("click",function(){return m.updateClasstoGroup()}),t.YNc(19,ga,2,0,"span",14),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()),2&n&&(t.xp6(1),t.Q6J("formGroup",m.form),t.xp6(4),t.hij(" ",t.lcZ(6,8,"lang_core_chon_nhom_lop_muon_chuyen_sang")," "),t.xp6(5),t.Q6J("ngIf",m.statusObj.loading),t.xp6(3),t.Q6J("ngForOf",m.activeClassroomData),t.xp6(3),t.Oqu(t.lcZ(17,10,"lang_button_cancel")),t.xp6(2),t.Q6J("disabled",m.form.controls.groupId.errors),t.xp6(1),t.Q6J("ngIf",m.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(21,12,"lang_button_update")," "))},dependencies:[H.sg,H.O5,No.VQ,No.U0,gt.gM,X._Y,X.JJ,X.JL,X.sg,X.u,V.M,me.R,mt.n,j.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:210px;vertical-align:middle;cursor:pointer;margin-left:-5px}.list-group[_ngcontent-%COMP%]   .mdc-radio__inner-circle[_ngcontent-%COMP%]{border-width:7px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio__background[_ngcontent-%COMP%]{width:15px!important;height:15px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]   .mdc-radio__native-control[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{padding:calc((var(--mdc-radio-state-layer-size, 30px) - 20px) / 2)}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{display:flex!important;width:auto!important;height:auto!important}@media (max-width: 767px){.truncate[_ngcontent-%COMP%]{max-width:190px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),s})();function fa(s,h){if(1&s&&(t.TgZ(0,"div",14)(1,"a",15),t.NdJ("click",function(m){return m.stopPropagation()}),t.O4$(),t.TgZ(2,"svg",16),t._UZ(3,"circle",17)(4,"circle",18)(5,"circle",19),t.qZA()()()),2&s){t.oxw();const n=t.MAs(15);t.xp6(1),t.Q6J("matMenuTriggerFor",n)}}function ji(s,h){1&s&&(t.TgZ(0,"div",20)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&s&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_homework_add_home_work_share")))}function xa(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"li")(1,"a",21),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.editClassroomDialog())}),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"path",23)(4,"path",24),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&s&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_sua_lop")," "))}function ba(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"li")(1,"a",25),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.copyClassroomObj())}),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"rect",26)(4,"path",27),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&s&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_nhan_ban_lop")," "))}function va(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"li")(1,"a",28),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.moveClassroomToStorage())}),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"ellipse",29)(4,"path",30)(5,"path",31),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&s&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_dua_vao_luu_tru")," "))}function po(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"li")(1,"a",32),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.moveSharedClassroomToStorage())}),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"ellipse",29)(4,"path",30)(5,"path",31),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&s&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_dua_vao_luu_tru")," "))}function Ta(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"li")(1,"a",33),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.moveClassroomFromStorageToActive())}),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"path",34)(4,"path",35)(5,"path",36)(6,"path",37),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&s&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_khoi_phuc")," "))}function Ca(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"li")(1,"a",38),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.moveSharedClassroomFromStorageToActive())}),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"path",34)(4,"path",35)(5,"path",36)(6,"path",37),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&s&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_khoi_phuc")," "))}function ka(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"li")(1,"a",38),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.updateClassroom())}),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"path",39)(4,"path",40)(5,"path",41)(6,"path",42)(7,"path",43),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&s&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_core_sua_di_chuyen")," "))}function wa(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"li")(1,"a",44),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.deleteClassroomDialog())}),t.O4$(),t.TgZ(2,"svg",45),t._UZ(3,"polyline",46)(4,"path",47),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&s&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_xoa_lop")," "))}let ya=(()=>{class s extends x.Q{goToListStudent(){let n=this.commonService.getMyQueryParam("programId");this.commonService.myNavigation("/admin/student/classroom-details/"+this.classroomObj.id+(n?"/3":"/0"))}goToMergeList(){this.commonService.myNavigation("/admin/student/merge-student/"+this.classroomObj.id)}updateClassroom(){this.sAztDialogService.open(ha,{data:{classId:this.classroomObj.id},width:"550px",restoreFocus:!1}).afterClosed().subscribe(m=>{m&&this.eventOfClassroomMenu.emit(!0)})}moveClassroomToStorage(){this.classroomGroupService.apiClassroomGroupMoveClassroomToStorageGet(this.classroomObj.id??0).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj("lang_auto_dua_vao_luu_tru_khong_thanh_cong")})}moveSharedClassroomToStorage(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:5}).subscribe(m=>{1==m.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj(m.message??"")})}moveClassroomFromStorageToActive(){this.classroomGroupService.apiClassroomGroupRestoreClassroomGet(this.classroomObj.id??0).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj("lang_auto_khoi_phuc_lop_hoc_khong_thanh_cong")})}moveSharedClassroomFromStorageToActive(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:2}).subscribe(m=>{1==m.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj(m.message??"")})}editClassroomDialog(){this.sAztDialogService.open(jo,{data:{classroomObj:this.classroomObj},width:"550px",restoreFocus:!1}).afterClosed().subscribe(m=>{m&&this.eventOfClassroomMenu.emit(!0)})}deleteClassroomDialog(){this.sAztDialogService.open(la,{width:"400px",data:{classroomObj:this.classroomObj},restoreFocus:!1}).afterClosed().subscribe(m=>{m&&this.eventOfClassroomMenu.emit(!0)})}copyClassroomObj(){this.showSuccessSnack("lang_auto_dang_nhan_ban_lop_hoc_vui_long_doi_trong_giay_lat_doing"),this.classroomGroupService.apiClassroomGroupCopyClassroomGet(this.classroomObj.id??0).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_nhan_ban_lop_hoc_thanh_cong",!0)):this.errorStatusObj("lang_auto_nhan_ban_lop_hoc_khong_thanh_cong",!0)})}ngOnInit(){super.ngOnInit()}constructor(n,m,u){super(),this.classroomGroupService=n,this.permissionTeamService=m,this.sAztDialogService=u,this.eventOfClassroomMenu=new t.vpe,this.screenTemplate=""}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(Fn.c8),t.Y36(Fn.sb),t.Y36(Ze.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["azt-information-class-box"]],inputs:{classroomObj:"classroomObj",screenTemplate:"screenTemplate"},outputs:{eventOfClassroomMenu:"eventOfClassroomMenu"},features:[t.qOj],decls:29,vars:31,consts:[["azt-track-service","information-class-box-lTAPwcAOtkX",1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-4","relative","cursor-pointer",3,"click"],[1,"flex","items-center"],[1,"block","font-medium","truncate",2,"max-width","70%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","ml-auto",4,"ngIf"],[1,"flex"],[1,"text-slate-500","mr-auto","text-xs","mt-2"],[1,"text-slate-500","text-xs","mt-2"],["class","ribbon",4,"ngIf"],["xPosition","before"],["classroomMenuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[4,"ngIf"],[1,"ml-auto"],["azt-track-service","information-class-box-tDPvhBl5vWp","aria-expanded","false","data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],[1,"ribbon"],["azt-track-service","information-class-box-Y6FVEqAKljD",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","information-class-box-1Z4loYYCXOT",1,"dropdown-item",3,"click"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],["azt-track-service","information-class-box-yNwo0EZravB",1,"dropdown-item",3,"click"],["cx","12","cy","5","rx","9","ry","3"],["d","M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"],["d","M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"],["azt-track-service","information-class-box-OkjnS3UN_Xz",1,"dropdown-item",3,"click"],["azt-track-service","information-class-box-5V-axi1fKp3",1,"dropdown-item",3,"click"],["d","M10 2h4"],["d","M12 14v-4"],["d","M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6"],["d","M9 17H4v5"],["azt-track-service","information-class-box-yPIM4KNi4qL",1,"dropdown-item",3,"click"],["d","M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22"],["d","m18 2 4 4-4 4"],["d","M2 6h1.9c1.5 0 2.9.9 3.6 2.2"],["d","M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8"],["d","m18 14 4 4-4 4"],["azt-track-service","information-class-box-4Glzv5SSUAO",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(n,m){if(1&n&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return m.goToListStudent()}),t.TgZ(1,"div",1)(2,"a",2,3),t._uU(4),t.qZA(),t.YNc(5,fa,6,1,"div",4),t.qZA(),t.TgZ(6,"div",5)(7,"div",6),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"div",7),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.YNc(13,ji,4,3,"div",8),t.qZA(),t.TgZ(14,"mat-menu",9,10)(16,"div",11)(17,"ul",12),t.YNc(18,xa,7,3,"li",13),t.ALo(19,"editPermission"),t.YNc(20,ba,7,3,"li",13),t.ALo(21,"fullPermission"),t.YNc(22,va,8,3,"li",13),t.YNc(23,po,8,3,"li",13),t.YNc(24,Ta,9,3,"li",13),t.YNc(25,Ca,9,3,"li",13),t.YNc(26,ka,10,3,"li",13),t.YNc(27,wa,7,3,"li",13),t.ALo(28,"deletePermission"),t.qZA()()()),2&n){const u=t.MAs(3);t.xp6(2),t.s9C("matTooltip",m.classroomObj.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",u.isDisabled),t.xp6(2),t.hij(" ",m.classroomObj.name," "),t.xp6(1),t.Q6J("ngIf",m.classroomObj.permissionObj),t.xp6(3),t.AsE(" ",t.lcZ(9,18,"lang_auto_si_so"),": ",m.classroomObj.countStudents," "),t.xp6(3),t.AsE(" ",t.lcZ(12,20,"lang_auto_nam_hoc"),": ",m.classroomObj.year," "),t.xp6(2),t.Q6J("ngIf",m.classroomObj.isShareClassroom),t.xp6(5),t.Q6J("ngIf",""==m.screenTemplate&&t.xi3(19,22,m.classroomObj,"classroom")),t.xp6(2),t.Q6J("ngIf",""==m.screenTemplate&&t.xi3(21,25,m.classroomObj,"classroom")),t.xp6(2),t.Q6J("ngIf",""==m.screenTemplate&&!m.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",""==m.screenTemplate&&m.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf","storage"==m.screenTemplate),t.xp6(1),t.Q6J("ngIf","showListPeopleWhoWillShare"==m.screenTemplate),t.xp6(1),t.Q6J("ngIf",""==m.screenTemplate&&m.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",t.xi3(28,28,m.classroomObj,"classroom"))}},dependencies:[H.O5,z.VK,z.p6,gt.gM,R.Q,j.JV,j.NK,j.Pf,j.Z_],styles:[".ribbon[_ngcontent-%COMP%]{position:absolute;right:-2px;top:-2px;z-index:1;overflow:hidden;width:45px;height:45px;text-align:right}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:7px;color:#fff;text-transform:uppercase;text-align:center;font-weight:700;line-height:12px;transform:rotate(45deg);-webkit-transform:rotate(45deg);width:55px;display:block;background:linear-gradient(#68cc00 0%,rgba(104,204,0,.61) 100%);box-shadow:0 3px 10px -5px #636363;position:absolute;top:6px;right:-14px}.ml-auto[_ngcontent-%COMP%]{z-index:999}"]}),s})();const Oa=["showMenuGroupOfClassroom"];function Za(s,h){1&s&&(t.O4$(),t.kcU(),t.TgZ(0,"span",63),t._uU(1,"1"),t.qZA())}function Aa(s,h){1&s&&(t.O4$(),t.kcU(),t._UZ(0,"azt-loading-effect"))}function Sa(s,h){if(1&s&&(t.O4$(),t.kcU(),t.TgZ(0,"div"),t.GkF(1,65),t.qZA()),2&s){t.oxw(2);const n=t.MAs(50);t.xp6(1),t.Q6J("ngTemplateOutlet",n)}}function Na(s,h){if(1&s&&(t.O4$(),t.kcU(),t.TgZ(0,"div"),t.GkF(1,65),t.qZA()),2&s){t.oxw(2);const n=t.MAs(52);t.xp6(1),t.Q6J("ngTemplateOutlet",n)}}function ja(s,h){if(1&s&&(t.O4$(),t.YNc(0,Sa,2,1,"div",64),t.YNc(1,Na,2,1,"div",64)),2&s){const n=t.oxw();t.Q6J("ngIf",0==n.showStorageClassroom),t.xp6(1),t.Q6J("ngIf",1==n.showStorageClassroom)}}function Ma(s,h){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const n=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",n.groupObj.name," ")}}function Ia(s,h){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s){const n=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.groupObj.name)," ")}}function La(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"button",88),t.NdJ("click",function(u){return u.stopPropagation()})("click",function(){t.CHM(n);const u=t.oxw(2).$implicit,C=t.oxw(2);return t.KtG(C.saveCurrentGroupOfClassroomThatIsEdited(u.groupObj))}),t.O4$(),t.TgZ(1,"svg",89),t._UZ(2,"circle",90)(3,"circle",91)(4,"circle",92),t.qZA()()}if(2&s){t.oxw();const n=t.MAs(8);t.Q6J("matMenuTriggerFor",n)}}function Da(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",93)(1,"azt-information-class-box",94),t.NdJ("eventOfClassroomMenu",function(u){t.CHM(n);const C=t.oxw(4);return t.KtG(C.eventOfClassroomMenu(u))}),t.qZA()()}if(2&s){const n=h.$implicit;t.xp6(1),t.Q6J("classroomObj",n)}}function Ea(s,h){1&s&&(t.TgZ(0,"div",95),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_classroom_list_class_null"),"."))}const sn=function(){return["name"]};function Pa(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",70)(1,"div",71)(2,"h2",72),t.YNc(3,Ma,2,1,"span",64),t.YNc(4,Ia,3,3,"span",64),t.qZA(),t.TgZ(5,"div",73),t.YNc(6,La,5,1,"button",74),t.TgZ(7,"mat-menu",null,75)(9,"div",76)(10,"button",77),t.NdJ("click",function(u){return u.stopPropagation()})("click",function(){t.CHM(n);const u=t.oxw(3),C=t.MAs(63);return t.KtG(u.cancelEdit(C))}),t.O4$(),t.TgZ(11,"svg",78),t._UZ(12,"path",79)(13,"path",80),t.qZA(),t.kcU(),t.TgZ(14,"span"),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()(),t.TgZ(17,"button",81),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3);return t.KtG(u.deleteGroupDialog())}),t.O4$(),t.TgZ(18,"svg",82),t._UZ(19,"polyline",83)(20,"path",84),t.qZA(),t.kcU(),t.TgZ(21,"span"),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()()()()(),t.TgZ(24,"div",85),t.YNc(25,Da,2,1,"div",86),t.ALo(26,"appFilter"),t.YNc(27,Ea,3,3,"div",87),t.ALo(28,"appFilter"),t.qZA()()}if(2&s){const n=t.oxw().$implicit,m=t.oxw(2),u=t.MAs(54);t.xp6(3),t.Q6J("ngIf",-1!=n.groupObj.id),t.xp6(1),t.Q6J("ngIf",-1==n.groupObj.id),t.xp6(2),t.Q6J("ngIf",-1!=n.groupObj.id),t.xp6(4),t.Q6J("matMenuTriggerFor",u),t.xp6(5),t.Oqu(t.lcZ(16,8,"lang_button_edit")),t.xp6(7),t.Oqu(t.lcZ(23,10,"lang_button_delete")),t.xp6(3),t.Q6J("ngForOf",t.Dn7(26,12,n.classroomObjs,m.searchContentObj.searchContent,t.DdM(20,sn))),t.xp6(2),t.Q6J("ngIf",0==(null==n.classroomObjs?null:n.classroomObjs.length)||0==t.Dn7(28,16,n.classroomObjs,m.searchContentObj.searchContent,t.DdM(21,sn)).length)}}function Ua(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",100)(1,"azt-information-class-box",94),t.NdJ("eventOfClassroomMenu",function(u){t.CHM(n);const C=t.oxw(4);return t.KtG(C.eventOfClassroomMenu(u))}),t.qZA()()}if(2&s){const n=h.$implicit;t.xp6(1),t.Q6J("classroomObj",n)}}function za(s,h){1&s&&(t.TgZ(0,"div",101),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_class_null")," "))}function Fa(s,h){if(1&s&&(t.TgZ(0,"div",70)(1,"div",96)(2,"h2",97),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",85),t.YNc(6,Ua,2,1,"div",98),t.ALo(7,"appFilter"),t.YNc(8,za,3,3,"div",99),t.ALo(9,"appFilter"),t.qZA()()),2&s){const n=t.oxw().$implicit,m=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,3,"lang_student_classroom_list_other")," "),t.xp6(3),t.Q6J("ngForOf",t.Dn7(7,5,n.classroomObjs,m.searchContentObj.searchContent,t.DdM(13,sn))),t.xp6(2),t.Q6J("ngIf",0==(null==n.classroomObjs?null:n.classroomObjs.length)||0==t.Dn7(9,9,n.classroomObjs,m.searchContentObj.searchContent,t.DdM(14,sn)).length)}}const Ja=function(){return[]};function qa(s,h){if(1&s&&(t.O4$(),t.kcU(),t.TgZ(0,"div",68),t.YNc(1,Pa,29,22,"div",69),t.YNc(2,Fa,10,15,"div",69),t.ALo(3,"appFilter"),t.qZA()),2&s){const n=h.$implicit,m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null!=n.groupObj&&n.classroomObjs!=t.DdM(6,Ja)),t.xp6(1),t.Q6J("ngIf",null==n.groupObj&&t.Dn7(3,2,n.classroomObjs,m.searchContentObj.searchContent,t.DdM(7,sn)).length>0)}}const Qa=function(s){return[s]};function Ya(s,h){if(1&s&&(t.O4$(),t.kcU(),t.TgZ(0,"div",102),t.ALo(1,"navigationLocalize"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&s){const n=t.oxw(2);t.Q6J("routerLink",t.VKq(7,Qa,t.lcZ(1,3,"/admin/student/manage-classroom/1"))),t.xp6(2),t.AsE("",t.lcZ(3,5,"lang_student_classroom_list_storage")," (",n.totalStorageClassroom,")")}}function Ba(s,h){if(1&s&&(t.O4$(),t.YNc(0,qa,4,8,"div",66),t.YNc(1,Ya,4,9,"div",67)),2&s){const n=t.oxw();t.Q6J("ngForOf",n.activeClassroomData),t.xp6(1),t.Q6J("ngIf",n.totalStorageClassroom&&n.totalStorageClassroom>0)}}function Ha(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",100)(1,"azt-information-class-box",103),t.NdJ("eventOfClassroomMenu",function(u){t.CHM(n);const C=t.oxw(2);return t.KtG(C.eventOfClassroomMenu(u))}),t.qZA()()}if(2&s){const n=h.$implicit;t.xp6(1),t.Q6J("classroomObj",n)("screenTemplate","showListPeopleWhoWillShare")}}function Ga(s,h){1&s&&(t.TgZ(0,"div",95),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_classroom_list_class_null"),"."))}function Va(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",100)(1,"azt-information-class-box",103),t.NdJ("eventOfClassroomMenu",function(u){t.CHM(n);const C=t.oxw(2);return t.KtG(C.eventOfClassroomMenu(u))}),t.qZA()()}if(2&s){const n=h.$implicit;t.xp6(1),t.Q6J("classroomObj",n)("screenTemplate","storage")}}function $a(s,h){1&s&&(t.TgZ(0,"div",95),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_classroom_list_class_null"),"."))}function Ra(s,h){if(1&s&&(t.O4$(),t.kcU(),t.TgZ(0,"div",68)(1,"div",70)(2,"div",96)(3,"h2",97),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",85),t.YNc(7,Ha,2,2,"div",98),t.ALo(8,"appFilter"),t.YNc(9,Ga,3,3,"div",87),t.ALo(10,"appFilter"),t.qZA()(),t.TgZ(11,"div",70)(12,"div",96)(13,"h2",97),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()(),t.TgZ(16,"div",85),t.YNc(17,Va,2,2,"div",98),t.ALo(18,"appFilter"),t.YNc(19,$a,3,3,"div",87),t.ALo(20,"appFilter"),t.qZA()()()),2&s){const n=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,6,"lang_auto_lop_duoc_chia_se")," "),t.xp6(3),t.Q6J("ngForOf",t.Dn7(8,8,n.sharedStorageClassroomData,n.searchContentObj.searchContent,t.DdM(26,sn))),t.xp6(2),t.Q6J("ngIf",0==(null==n.sharedStorageClassroomData?null:n.sharedStorageClassroomData.length)||0==t.Dn7(10,12,n.sharedStorageClassroomData,n.searchContentObj.searchContent,t.DdM(27,sn)).length),t.xp6(5),t.hij(" ",t.lcZ(15,16,"lang_student_classroom_list_other")," "),t.xp6(3),t.Q6J("ngForOf",t.Dn7(18,18,n.storageClassroomData,n.searchContentObj.searchContent,t.DdM(28,sn))),t.xp6(2),t.Q6J("ngIf",0==(null==n.storageClassroomData?null:n.storageClassroomData.length)||0==t.Dn7(20,22,n.storageClassroomData,n.searchContentObj.searchContent,t.DdM(29,sn)).length)}}function Ka(s,h){1&s&&(t.TgZ(0,"div",104),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_enter_name_group")," "))}function Wa(s,h){1&s&&(t.O4$(),t.TgZ(0,"svg",105),t._UZ(1,"polyline",106),t.qZA())}function Xa(s,h){1&s&&(t.O4$(),t.TgZ(0,"svg",105),t._UZ(1,"polyline",106),t.qZA())}function ts(s,h){1&s&&(t.O4$(),t.TgZ(0,"svg",105),t._UZ(1,"polyline",106),t.qZA())}let es=(()=>{class s extends x.Q{onSearchBox(n){this.searchContentObj=n}eventOfClassroomMenu(n){n&&this.getClassroomObjs()}saveCurrentGroupOfClassroomThatIsEdited(n){this.currentGroupOfClassroomDataThatIsEdited=this.commonService.myClone(n)}cancelEdit(n){n.value=this.currentGroupOfClassroomDataThatIsEdited?.name??""}createClassroomDialog(){this.sAztDialogService.open(jo,{data:{classroomObj:void 0},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(m=>{m&&this.getClassroomObjs()})}createClassroomForNewCourseDialog(){this.sAztDialogService.open(Oi.u,{restoreFocus:!1}).afterClosed().subscribe(m=>{m&&this.getClassroomObjs()})}changeFilter(n){this.typeFilter=n,this.getClassroomObjs()}deleteGroupDialog(){this.sAztDialogService.open(sa,{width:"400px",data:{groupObj:this.currentGroupOfClassroomDataThatIsEdited},restoreFocus:!1}).afterClosed().subscribe(m=>{m&&(this.eventOfGroupMenu.emit(!0),this.getClassroomObjs())})}updateGroupOfClassroom(n){if(""!=n){var m={groupId:this.currentGroupOfClassroomDataThatIsEdited?.id??0,name:n};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomGroupPost(m).subscribe(u=>{1==u.success?(this.successStatusObj("lang_auto_cap_nhat_nhom_thanh_cong",!0),this.getClassroomObjs()):this.errorStatusObj(u.message??"",!0)}))}else this.checkErrorInputUpdateGroupOfClassroom(n)}checkErrorInputUpdateGroupOfClassroom(n){return""==n.trim()}openDialogAutomaticIdentification(){this.sAztDialogService.open(Ue.G,{data:{classroomWithGroup:this.activeClassroomData??[],type:1,listCheckBox:[],totalStudent:0},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(n=>{n&&this.getClassroomObjs()})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet(this.typeFilter).subscribe(n=>{n.success?(this.activeClassroomData=n?.data?.classroomData,this.sharedStorageClassroomData=n?.data?.storeSharedClassData,this.storageClassroomData=n?.data?.storeClassData,this.totalStorageClassroom=(n?.data?.totalStorage??0)+(n?.data?.totalSharedStorage??0),this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,l.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n=this.commonService.getMyParam(this.activeRoute,"id")?.toString();this.showStorageClassroom="1"==n;let m=this.commonService.getMyQueryParam("programId");this.backToLink=m&&""!=m?"/business/educational-program/"+m:this.showStorageClassroom?"/admin/student/manage-classroom/0":this.backToLink="/admin/dashboard",this.getClassroomObjs()})),this.mobileWebviewService.sendSimpleMessage("OPEN_CLASSES"),this.commonService.translateMetaData({title:"lang_cms_classroom_list_title",description:"lang_cms_classroom_list_description",image:"lang_cms_test_image"})}constructor(n,m,u,C){super(),this.activeRoute=n,this.classroomGroupService=m,this.sAztDialogService=u,this.mobileWebviewService=C,this.eventOfGroupMenu=new t.vpe,this.backToLink="",this.showStorageClassroom=!1,this.typeFilter="",this.searchContentObj=new i.h}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(at.gz),t.Y36(Fn.c8),t.Y36(Ze.C),t.Y36(ra.r))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-teacher-classroom"]],viewQuery:function(n,m){if(1&n&&t.Gf(Oa,5),2&n){let u;t.iGM(u=t.CRH())&&(m.showMenuGroupOfClassroom=u.first)}},outputs:{eventOfGroupMenu:"eventOfGroupMenu"},features:[t.qOj],decls:127,vars:60,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-8"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12",2,"z-index","1"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"isServerSearch","placeholder","onSearch"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-8xXjbgXLYr8","tourAnchor","azt-tour-2",1,"btn","btn-primary","shadow-md","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-1"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[1,"dropdown-toggle","btn","px-2","box","block","lg:hidden","hover:bg-slate-100","dark:hover-bg:darkmode-400",3,"matMenuTriggerFor"],[1,"w-5","h-5","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4"],["azt-track-service","class-list-GeLpgTC3SuL",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","class-list-ok7MlxqP6m9",1,"btn","px-2","box","shadow-md","azt-hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-2"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],["tourAnchor","azt-tour-2",1,"ml-2","shadow-md","dropdown-toggle","btn","px-2","box","block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],["class","py-1 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[4,"ngIf","ngIfElse"],["doneLoading",""],["showActiveClassroomTpl",""],["showStorageClassroomClassroomTpl",""],["xPosition","after"],["matMenuGroupOfClassroom",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["azt-track-service","class-list-G1Mkx8IXu63",1,"modal-body"],[1,"text-base","font-medium","mr-auto"],["azt-track-service","class-list-0AWKcuGUws",3,"click"],["type","text","aria-label","default input example",1,"form-control","mt-2",3,"value","placeholder"],["nameGroup",""],["class","alert alert-danger p-1 mt-2",4,"ngIf"],[1,"text-right","mt-3",2,"display","flex","justify-content","space-between"],["azt-track-service","class-list-qHpiXjTg249",1,"btn","w-24","btn-secondary","mr-2"],["azt-track-service","class-list-lVV77oiaCLP",1,"btn","w-24","btn-primary",3,"disabled","click"],["xPosition","before"],["menuClassList","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["menuFilter","matMenu"],["width","18","height","18","x","3","y","3","rx","2"],["d","M7 8h10"],["d","M7 12h10"],["d","M7 16h10"],["xmlns","http://www.w3.org/2000/svg","class","lucide lucide-activity w-4 h-4 ml-2","style","color: green;","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["points","16 11 18 13 22 9"],["d","M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z"],["d","M6 9.01V9"],["d","m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[4,"ngIf"],[3,"ngTemplateOutlet"],["class","intro-y",4,"ngFor","ngForOf"],["azt-track-service","class-list-9gXcamWSz","class","btn-text-primary font-medium cursor-pointer mt-4",3,"routerLink",4,"ngIf"],[1,"intro-y"],["class","azt-group mt-6",4,"ngIf"],[1,"azt-group","mt-6"],[1,"intro-x","flex","items-center","mb-2"],[1,"text-lg","font-medium","truncate","mr-3"],[1,"dropdown","mb-1"],["azt-track-service","class-list-U9X02wc0f","class","dropdown-toggle p-1 hover:bg-gray dark:hover:bg-darkmode-400 rounded-md","aria-expanded","false","data-tw-toggle","dropdown",3,"matMenuTriggerFor","click",4,"ngIf"],["menu","matMenu"],[1,"box","grid"],["azt-track-service","class-list-9ufWL4LIlj","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","pr-3","btn-edit","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2",2,"display","initial"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","class-list-Qqdrk4Sj2Q",1,"pr-3","btn-delete","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2",2,"display","initial"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 lg:col-span-4 xl:col-span-3 2xl:col-span-2",4,"ngFor","ngForOf"],["class","text-center col-span-12 p-2",4,"ngIf"],["azt-track-service","class-list-U9X02wc0f","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","p-1","hover:bg-gray","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-4","h-4"],["cx","12","cy","12","r","1"],["cx","12","cy","5","r","1"],["cx","12","cy","19","r","1"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2"],[3,"classroomObj","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"],[1,"intro-x","flex","items-center","mb-3"],[1,"text-lg","font-medium","truncate","mr-auto"],["class","col-span-12 sm:col-span-4 md:col-span-3 2xl:col-span-2",4,"ngFor","ngForOf"],["class","col-span-12 p-2",4,"ngIf"],[1,"col-span-12","sm:col-span-4","md:col-span-3","2xl:col-span-2"],[1,"col-span-12","p-2"],["azt-track-service","class-list-9gXcamWSz",1,"btn-text-primary","font-medium","cursor-pointer","mt-4",3,"routerLink"],[3,"classroomObj","screenTemplate","eventOfClassroomMenu"],[1,"alert","alert-danger","p-1","mt-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","ml-2",2,"color","green"],["points","20 6 9 17 4 12"]],template:function(n,m){if(1&n){const u=t.EpF();t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"azt-search-box",7),t.NdJ("onSearch",function(E){return m.onSearchBox(E.searchObj)}),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"div",8)(13,"button",9),t.NdJ("click",function(){return m.createClassroomDialog()}),t.O4$(),t.TgZ(14,"svg",10),t._UZ(15,"line",11)(16,"line",12),t.qZA(),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(19,"button",13)(20,"span",14),t.O4$(),t.TgZ(21,"svg",15),t._UZ(22,"line",11)(23,"line",12),t.qZA()()(),t.kcU(),t.TgZ(24,"button",16),t.NdJ("click",function(){return m.createClassroomForNewCourseDialog()}),t.O4$(),t.TgZ(25,"svg",10),t._UZ(26,"line",11)(27,"line",12),t.qZA(),t._uU(28),t.ALo(29,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(30,"button",17),t.NdJ("click",function(){return m.openDialogAutomaticIdentification()}),t.O4$(),t.TgZ(31,"svg",18),t._UZ(32,"path",19)(33,"path",20)(34,"path",21)(35,"path",22)(36,"rect",23)(37,"rect",24),t.qZA(),t._uU(38),t.ALo(39,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(40,"button",25),t.O4$(),t.TgZ(41,"svg",10),t._UZ(42,"polygon",26),t.qZA(),t._uU(43),t.ALo(44,"mytranslate"),t.YNc(45,Za,2,0,"span",27),t.qZA()()(),t.YNc(46,Aa,1,0,"azt-loading-effect",28),t.YNc(47,ja,2,2,"ng-template",null,29,t.W1O),t.qZA()()(),t.YNc(49,Ba,2,2,"ng-template",null,30,t.W1O),t.YNc(51,Ra,21,30,"ng-template",null,31,t.W1O),t.kcU(),t.TgZ(53,"mat-menu",32,33)(55,"div",34)(56,"div",35)(57,"div",36)(58,"h2",37),t._uU(59),t.ALo(60,"mytranslate"),t.qZA(),t.TgZ(61,"div",38),t.NdJ("click",function(E){return E.stopPropagation()}),t._UZ(62,"input",39,40),t.ALo(64,"mytranslate"),t.YNc(65,Ka,3,3,"div",41),t.qZA(),t.TgZ(66,"div",42)(67,"button",43),t._uU(68),t.ALo(69,"mytranslate"),t.qZA(),t.TgZ(70,"button",44),t.NdJ("click",function(){t.CHM(u);const E=t.MAs(63);return t.KtG(m.updateGroupOfClassroom(E.value))}),t._uU(71),t.ALo(72,"mytranslate"),t.qZA()()()()()(),t.TgZ(73,"mat-menu",45,46)(75,"div",47)(76,"ul",48)(77,"li")(78,"button",49),t.NdJ("click",function(){return m.createClassroomForNewCourseDialog()}),t.O4$(),t.TgZ(79,"svg",18),t._UZ(80,"line",11)(81,"line",12),t.qZA(),t._uU(82),t.ALo(83,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(84,"li")(85,"button",50),t.NdJ("click",function(){return m.openDialogAutomaticIdentification()}),t.O4$(),t.TgZ(86,"svg",18),t._UZ(87,"path",19)(88,"path",20)(89,"path",21)(90,"path",22)(91,"rect",23)(92,"rect",24),t.qZA(),t._uU(93),t.ALo(94,"mytranslate"),t.qZA()()()()(),t.kcU(),t.TgZ(95,"mat-menu",45,51)(97,"div",47)(98,"ul",48)(99,"li")(100,"button",49),t.NdJ("click",function(){return m.changeFilter("")}),t.O4$(),t.TgZ(101,"svg",18),t._UZ(102,"rect",52)(103,"path",53)(104,"path",54)(105,"path",55),t.qZA(),t._uU(106),t.ALo(107,"mytranslate"),t.YNc(108,Wa,2,0,"svg",56),t.qZA()(),t.kcU(),t.TgZ(109,"li")(110,"button",50),t.NdJ("click",function(){return m.changeFilter("owner")}),t.O4$(),t.TgZ(111,"svg",18),t._UZ(112,"path",57)(113,"circle",58)(114,"polyline",59),t.qZA(),t._uU(115),t.ALo(116,"mytranslate"),t.YNc(117,Xa,2,0,"svg",56),t.qZA()(),t.kcU(),t.TgZ(118,"li")(119,"button",49),t.NdJ("click",function(){return m.changeFilter("user")}),t.O4$(),t.TgZ(120,"svg",18),t._UZ(121,"path",60)(122,"path",61)(123,"path",62),t.qZA(),t._uU(124),t.ALo(125,"mytranslate"),t.YNc(126,ts,2,0,"svg",56),t.qZA()()()()()}if(2&n){const u=t.MAs(48),C=t.MAs(63),E=t.MAs(74),Y=t.MAs(96);t.Q6J("headerBackToLink",m.backToLink),t.xp6(4),t.hij(" ",m.showStorageClassroom?t.lcZ(5,28,"lang_auto_kho_luu_tru"):t.lcZ(6,30,"lang_student_classroom_list_header_title")," "),t.xp6(6),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(11,32,"lang_student_classroom_list_sort_name_class")),t.xp6(7),t.hij(" ",t.lcZ(18,34,"lang_student_classroom_list_create_class")," "),t.xp6(2),t.Q6J("matMenuTriggerFor",E),t.xp6(9),t.hij(" ",t.lcZ(29,36,"lang_student_classroom_list_create_class_new_cousre")," "),t.xp6(10),t.hij(" ",t.lcZ(39,38,"lang_auto_danh_so_bao_danh")," "),t.xp6(2),t.Q6J("matMenuTriggerFor",Y),t.xp6(3),t.hij(" ",t.lcZ(44,40,"lang_homework_homework_score_list_sort")," "),t.xp6(2),t.Q6J("ngIf",""!=m.typeFilter),t.xp6(1),t.Q6J("ngIf",m.statusObj.loading)("ngIfElse",u),t.xp6(13),t.Oqu(t.lcZ(60,42,"lang_student_classroom_list_update_group")),t.xp6(3),t.s9C("value",null==m.currentGroupOfClassroomDataThatIsEdited?null:m.currentGroupOfClassroomDataThatIsEdited.name),t.s9C("placeholder",t.lcZ(64,44,"lang_auto_nhap_ten_nhom")),t.xp6(3),t.Q6J("ngIf",""==C.value||m.checkErrorInputUpdateGroupOfClassroom(C.value)),t.xp6(3),t.hij(" ",t.lcZ(69,46,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",""==C.value.trim()),t.xp6(1),t.hij(" ",t.lcZ(72,48,"lang_student_classroom_list_update")," "),t.xp6(11),t.hij(" ",t.lcZ(83,50,"lang_student_classroom_list_create_class_new_cousre")," "),t.xp6(11),t.hij(" ",t.lcZ(94,52,"lang_auto_danh_so_bao_danh")," "),t.xp6(13),t.hij(" ",t.lcZ(107,54,"lang_homework_content_store_all")," "),t.xp6(2),t.Q6J("ngIf",""==m.typeFilter),t.xp6(7),t.hij(" ",t.lcZ(116,56,"lang_core_lop_cua_toi")," "),t.xp6(2),t.Q6J("ngIf","owner"==m.typeFilter),t.xp6(7),t.hij(" ",t.lcZ(125,58,"lang_auto_lop_duoc_chia_se")," "),t.xp6(2),t.Q6J("ngIf","user"==m.typeFilter)}},dependencies:[at.rH,H.sg,H.O5,H.tP,z.VK,z.p6,st.l,ya,_t.W,St._,j.Jy,j.JV,j.om],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),s})(),ns=(()=>{class s extends x.Q{}return s.\u0275fac=function(){let h;return function(m){return(h||(h=t.n5z(s)))(m||s)}}(),s.\u0275cmp=t.Xpm({type:s,selectors:[["homework-master-page"]],features:[t.qOj],decls:2,vars:0,consts:[["id","student-layout"]],template:function(n,m){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[at.lC],encapsulation:2}),s})(),os=(()=>{class s extends x.Q{constructor(){super(...arguments),this.closeDialog=new t.vpe}confirmQuit(){this.closeDialog.emit(!0)}btnCloseDialog(){this.closeDialog.emit(!1)}}return s.\u0275fac=function(){let h;return function(m){return(h||(h=t.n5z(s)))(m||s)}}(),s.\u0275cmp=t.Xpm({type:s,selectors:[["app-merge-student-confirm-box"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:18,vars:11,consts:[[1,"box","school-info_bg"],[1,"school-info","p-4"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],[1,"intro"],[1,"text-base","font-medium","mr-auto"],[1,"text-right","mt-3"],["azt-track-service","confirm-merge-Yvv9eaXGFnm",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q",1,"btn","w-24","btn-primary",2,"margin-left","15px",3,"click"]],template:function(n,m){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),t._uU(7),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA()(),t._UZ(10,"br"),t.TgZ(11,"div",7)(12,"button",8),t.NdJ("click",function(){return m.btnCloseDialog()}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"button",9),t.NdJ("click",function(){return m.confirmQuit()}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()()()()),2&n&&(t.xp6(7),t.hij("",null!=m.data&&m.data.type&&"update_phone_student"==(null==m.data?null:m.data.type)?t.lcZ(8,3,"lang_student_utils_confirm_merge_verifi")+"?":t.lcZ(9,5,"lang_student_utils_confirm_merge_confirm")+"?"," "),t.xp6(6),t.hij(" ",t.lcZ(14,7,"lang_cms_common_close_btn")," "),t.xp6(3),t.hij(" ",t.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[j.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;margin-left:auto;margin-right:auto}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}"]}),s})();function is(s,h){1&s&&t._UZ(0,"azt-loading-effect")}const rn=function(s){return{"bg-success":s}};function ee(s,h){if(1&s&&(t.TgZ(0,"div",21)(1,"b"),t._uU(2),t.qZA()()),2&s){const n=t.oxw().$implicit,m=t.oxw(2);t.Q6J("ngClass",t.VKq(2,rn,m.haveSelected(n))),t.xp6(2),t.Oqu(n.fullName)}}function jt(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",19),t.NdJ("click",function(){const C=t.CHM(n).$implicit,E=t.oxw(2);return t.KtG(E.selectObj(C))}),t.YNc(1,ee,3,4,"div",20),t.qZA()}if(2&s){const n=h.$implicit,m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!m.inMergeObjs(n))}}function ce(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div")(1,"div",22),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"b",23),t._uU(5),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.TgZ(8,"b",23),t._uU(9),t.qZA(),t._uU(10,"\xa0\xa0"),t.TgZ(11,"span",24),t.NdJ("click",function(){const C=t.CHM(n).index,E=t.oxw(2);return t.KtG(E.removeMergeArray(C))}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()()}if(2&s){const n=h.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_student_merge_student_merge_student")," "),t.xp6(3),t.Oqu(null==n.from?null:n.from.fullName),t.xp6(1),t.hij(" ",t.lcZ(7,7,"lang_student_merge_student_return")," "),t.xp6(3),t.Oqu(null==n.to?null:n.to.fullName),t.xp6(3),t.Oqu(t.lcZ(13,9,"lang_auto_xoa"))}}function go(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",22)(1,"div",26)(2,"b"),t._uU(3),t.qZA(),t.TgZ(4,"button",27),t.NdJ("click",function(){t.CHM(n);const u=t.oxw().$implicit,C=t.oxw(2);return t.KtG(C.revertStudent(u.id))}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}if(2&s){const n=t.oxw().$implicit;t.xp6(3),t.Oqu(n.fullName),t.xp6(2),t.hij(" ",t.lcZ(6,2,"lang_button_revert")," ")}}function Ts(s,h){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,go,7,4,"div",25),t.qZA()),2&s){const n=h.$implicit,m=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!m.inMergeObjs(n))}}function Mo(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",4)(1,"mat-tab-group",5)(2,"mat-tab",6),t.ALo(3,"mytranslate"),t.TgZ(4,"div",7)(5,"div",8)(6,"div",9),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,jt,2,1,"div",10),t.qZA(),t.TgZ(10,"div",11)(11,"div",12)(12,"div",13)(13,"div",9),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.YNc(16,ce,14,11,"div",14),t.TgZ(17,"div",15)(18,"button",16),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.showConfirmBox())}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()()()()(),t.TgZ(21,"mat-tab",6),t.ALo(22,"mytranslate"),t.TgZ(23,"div",17)(24,"div",18)(25,"div")(26,"div",15),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.YNc(29,Ts,2,1,"div",14),t.qZA()()()()()()}if(2&s){const n=t.oxw();t.xp6(1),t.Q6J("selectedIndex",n.selectedIndex),t.xp6(1),t.s9C("label",t.lcZ(3,11,"lang_student_merge_student_lable")),t.xp6(5),t.hij(" ",t.lcZ(8,13,"lang_student_merge_student_required_click_merge")," "),t.xp6(2),t.Q6J("ngForOf",n.studentObjs),t.xp6(5),t.hij(" ",t.lcZ(15,15,"lang_student_merge_student_list_student_merge")," "),t.xp6(2),t.Q6J("ngForOf",n.studentMergeObjs),t.xp6(2),t.Q6J("disabled",n.studentMergeObjs&&n.studentMergeObjs.length<1),t.xp6(1),t.hij(" ",t.lcZ(20,17,"lang_student_merge_student_start_merge_list")," "),t.xp6(2),t.s9C("label",t.lcZ(22,19,"lang_student_merge_student_revert")),t.xp6(6),t.hij(" ",t.lcZ(28,21,"lang_student_merge_student_list_submitted")," "),t.xp6(2),t.Q6J("ngForOf",n.studentMergeListObjs)}}function Io(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"app-merge-student-confirm-box",28),t.NdJ("closeDialog",function(u){t.CHM(n);const C=t.oxw();return t.KtG(C.closeConfirmDialog(u))}),t.qZA()}if(2&s){const n=t.oxw();t.Q6J("data",n.confirmBox)}}let ho=(()=>{class s extends x.Q{showConfirmBox(){this.confirmBox={isShow:!0}}closeConfirmDialog(n){this.confirmBox={isShow:!1},n&&this.sendToServer()}inMergeObjs(n){let m=!1,u=this.studentMergeObjs?.length??0;for(let C=0;C<u;C++)(this.studentMergeObjs?.[C].from?.id==n.id||this.studentMergeObjs?.[C].to?.id==n.id)&&(m=!0);return m}haveSelected(n){let m=!1;for(let u=0;u<this.selectObjs.length;u++)this.selectObjs[u].id==n.id&&(m=!0);return m}selectObj(n){this.haveSelected(n)?this.selectObjs=[]:this.selectObjs.push(n),2==this.selectObjs.length&&(this.studentMergeObjs.push({from:this.selectObjs[0],to:this.selectObjs[1]}),this.selectObjs=[])}removeMergeArray(n){this.studentMergeObjs?.[n]&&this.studentMergeObjs.splice(n,1)}sendToServer(){const n=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.initStatusObj();let m=[],u=this.studentMergeObjs?.length??0;for(let et=0;et<u;et++){var C=this.studentMergeObjs?.[et].from?.id,E=this.studentMergeObjs?.[et].to?.id;C&&E&&m.push({fromId:C,toId:E})}this.waitDestroy(this.mergeStudentService.apiMergeStudentMergeObjsPost({classroomId:n,mergeObjs:m}).subscribe(et=>{1==et.success?(this.showSuccessSnack("lang_auto_gop_danh_sach_thanh_cong"),this.studentMergeObjs=[],this.selectObjs=[],this.getListMergeStudent(),this.getData(),this.selectedIndex=1,this.successStatusObj()):this.errorStatusObj(et.message??"",!0)}))}getData(){this.initStatusObj();const n=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetObjsByClassroomGet(n).subscribe(m=>{1==m.success?(this.studentObjs=this.sortService.sortFirstNameStudents(m?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(m.message??"",!0)}))}getListMergeStudent(){this.initStatusObj();const n=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetMergedObjsGet(n).subscribe(m=>{1==m.success?(this.studentMergeListObjs=this.sortService.sortFirstNameStudents(m?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(m.message??"",!0)}))}revertStudent(n){this.waitDestroy(this.mergeStudentService.apiMergeStudentRevertMergeObjGet(n).subscribe(m=>{1==m.success?(this.showSuccessSnack("lang_auto_khoi_phuc_thanh_cong"),this.getData(),this.getListMergeStudent(),this.selectedIndex=0):this.errorStatusObj(m.message??"",!0)}))}ngOnInit(){this.classroomId=this.commonService.getMyParam(this.activeRoute,"id"),this.backToLink="/admin/student/classroom-details/"+this.classroomId+"/0",this.getData(),this.getListMergeStudent()}constructor(n,m,u,C){super(),this.activeRoute=n,this.studentService=m,this.mergeStudentService=u,this.sortService=C,this.selectObjs=[],this.studentMergeObjs=[],this.confirmBox={isShow:!1},this.selectedIndex=0,this.isMobile=this.commonService.isMobileOrTable(),this.backToLink=""}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(at.gz),t.Y36(Yt.VT),t.Y36(Yt._Y),t.Y36(Dn.V))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-merge-student"]],features:[t.qOj],decls:5,vars:4,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"data","closeDialog",4,"ngIf"],[1,"container","mt-3"],[3,"selectedIndex"],[3,"label"],[1,"flex","mt-3"],[1,"p-2"],[1,"m-2"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click",4,"ngFor","ngForOf"],[1,"p-2",2,"width","70%"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mt-2"],["azt-track-service","merge-student-g45UTcIj35h",1,"pl-2","pr-2","mt-2","btn","btn-primary",3,"disabled","click"],[1,"d-flex"],[1,"w-full","sm-w-50"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click"],["class","m-2 clickable ","style"," border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important;",3,"ngClass",4,"ngIf"],[1,"m-2","clickable",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important",3,"ngClass"],[1,"m-2","p-2",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important"],[2,"font-weight","600"],[1,"clickable","text-danger",3,"click"],["class","m-2 p-2","style"," border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important;",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],["azt-track-service","merge-student-v4iYHGvaLN8",1,"hover-button","clickable",3,"click"],[3,"data","closeDialog"]],template:function(n,m){if(1&n&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,is,1,0,"azt-loading-effect",1),t.YNc(2,Mo,30,23,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,Io,1,1,"app-merge-student-confirm-box",3)),2&n){const u=t.MAs(3);t.Q6J("headerBackToLink",m.backToLink),t.xp6(1),t.Q6J("ngIf",m.statusObj.loading)("ngIfElse",u),t.xp6(3),t.Q6J("ngIf",m.confirmBox.isShow)}},dependencies:[H.mk,H.sg,H.O5,he.uX,he.SP,st.l,St._,os,j.JV],styles:["a[_ngcontent-%COMP%]:hover{text-decoration:none}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex;text-decoration:none;margin-top:10px}.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff}b[_ngcontent-%COMP%]{font-weight:400}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px}.header__top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.header__work[_ngcontent-%COMP%]{display:flex}.header__gift[_ngcontent-%COMP%]{position:relative;margin-right:24px;margin-top:5px}.gift__link[_ngcontent-%COMP%]{color:#fff}.girt__count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:#fe4531;border-radius:50%;width:16px;height:16px;color:#fff;padding:0;text-align:center;font-weight:700;font-size:9px}.header__work[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.header__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-top:2px}.body[_ngcontent-%COMP%]{margin:0 auto;text-align:center;color:#fff}.body__block[_ngcontent-%COMP%]{min-width:300px;padding:35px 0;margin:0 auto;background-color:#009cbe;border:none;border-radius:5px}.block__text[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin:0}.body__about[_ngcontent-%COMP%]{margin-top:25px}.about__title[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.about__desc[_ngcontent-%COMP%]{text-align:justify}.desc__title[_ngcontent-%COMP%]{font-weight:700}.btn-add-azo[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;padding:13px 40px;border-radius:10px}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}  .mat-tab-label:hover{color:#000}.hover-button[_ngcontent-%COMP%]:hover{color:#3f51b5}.text-danger[_ngcontent-%COMP%]:hover{color:#f44336!important}@media (min-width: 640px){.sm-w-50[_ngcontent-%COMP%]{width:450px}}"]}),s})();var as=v(88489);let Rn=(()=>{class s{countChecked(n){var m=0;for(var u in n)!0===n[u]&&(m+=1);return m}getDefaultFilterObj(n){var m=this.localStorageSlug+n;if(this.listFilterObjs[m])return this.listFilterObjs[m];var u=this.getInitFilterObj(),C=this.browserStorageService.getSimpleStorage(m),E=this.commonService.castJsonToObj(C??"");return E&&(u=E),u}saveFilterObj(n,m){var u=this.localStorageSlug+n;this.listFilterObjs[u]=m,this.browserStorageService.saveSimpleStorage(u,this.commonService.serializeJson(m))}getInitFilterObj(){return{getHasMark:!1,getNotMarked:!1,getNotDone:!1,getResendAnswer:!1,classroomId:0,studentId:0}}constructor(n,m){this.commonService=n,this.browserStorageService=m,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}}return s.\u0275fac=function(n){return new(n||s)(t.LFG(Dt.z),t.LFG(as.n))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var ii=v(91675);function Be(s,h){if(1&s&&(t.TgZ(0,"span"),t._uU(1,"\xa0"),t.TgZ(2,"span",21),t._uU(3),t.qZA()()),2&s){const n=t.oxw();t.xp6(3),t.Oqu(n.totalCustomFilter)}}function Mi(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"li")(1,"label",22),t.NdJ("click",function(u){return u.stopPropagation()}),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"div",10)(5,"input",23),t.NdJ("change",function(){t.CHM(n);const u=t.oxw();return u.filterObj.getResendAnswer=!u.filterObj.getResendAnswer,t.KtG(u.changeFilter())}),t.qZA()()()()}if(2&s){const n=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_student_profile_filter_get_resend_answer")," "),t.xp6(3),t.Q6J("checked",n.filterObj.getResendAnswer)}}let Qt=(()=>{class s extends x.Q{changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}clearFilter(){this.filterObj=this.studentProfileFilterService.getInitFilterObj(),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilter()}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}constructor(n){super(),this.studentProfileFilterService=n,this.filterType="",this.changeFilterEvent=new t.vpe,this.totalCustomFilter=0}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(Rn))},s.\u0275cmp=t.Xpm({type:s,selectors:[["student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},features:[t.qOj],decls:41,vars:24,consts:[[1,"btn","btn-sm",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-0","md:mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["azt-track-service","filter-menu-SVYEFVdq9z","for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-OF32qNGQY8","for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-EpBgopx3Iv","for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","filter-menu-2gPTdI1ODd",3,"click"],["azt-track-service","filter-menu-cGVj55-Aac",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["azt-track-service","filter-menu-FWtx2ole8G","for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"]],template:function(n,m){if(1&n&&(t.TgZ(0,"button",0),t.O4$(),t.TgZ(1,"svg",1),t._UZ(2,"polygon",2),t.qZA(),t.kcU(),t.TgZ(3,"span",3),t._uU(4),t.ALo(5,"mytranslate"),t.YNc(6,Be,4,1,"span",4),t.qZA()(),t.TgZ(7,"mat-menu",5,6)(9,"div",7)(10,"ul",8)(11,"li")(12,"label",9),t.NdJ("click",function(C){return C.stopPropagation()}),t._uU(13),t.ALo(14,"mytranslate"),t.TgZ(15,"div",10)(16,"input",11),t.NdJ("change",function(){return m.filterObj.getHasMark=!m.filterObj.getHasMark,m.changeFilter()}),t.qZA()()()(),t.TgZ(17,"li")(18,"label",12),t.NdJ("click",function(C){return C.stopPropagation()}),t._uU(19),t.ALo(20,"mytranslate"),t.TgZ(21,"div",10)(22,"input",13),t.NdJ("change",function(){return m.filterObj.getNotMarked=!m.filterObj.getNotMarked,m.changeFilter()}),t.qZA()()()(),t.TgZ(23,"li")(24,"label",14),t.NdJ("click",function(C){return C.stopPropagation()}),t._uU(25),t.ALo(26,"mytranslate"),t.TgZ(27,"div",10)(28,"input",15),t.NdJ("change",function(){return m.filterObj.getNotDone=!m.filterObj.getNotDone,m.changeFilter()}),t.qZA()()()(),t.YNc(29,Mi,6,4,"li",4),t.TgZ(30,"li"),t._UZ(31,"hr",16),t.qZA(),t.TgZ(32,"li")(33,"div",17)(34,"button",18),t._uU(35),t.ALo(36,"mytranslate"),t.qZA(),t.TgZ(37,"div",19),t.NdJ("click",function(C){return C.stopPropagation()}),t.TgZ(38,"button",20),t.NdJ("click",function(){return m.clearFilter()}),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()()()()()()()),2&n){const u=t.MAs(8);t.Q6J("matMenuTriggerFor",u),t.xp6(4),t.hij(" ",t.lcZ(5,12,"lang_testbank_tested_list_sort")," "),t.xp6(2),t.Q6J("ngIf",m.totalCustomFilter>0),t.xp6(7),t.hij(" ",t.lcZ(14,14,"lang_student_profile_filter_get_has_mark")," "),t.xp6(3),t.Q6J("checked",m.filterObj.getHasMark),t.xp6(3),t.hij(" ",t.lcZ(20,16,"lang_student_profile_filter_get_not_marked")," "),t.xp6(3),t.Q6J("checked",m.filterObj.getNotMarked),t.xp6(3),t.hij(" ",t.lcZ(26,18,"exam"==m.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),t.xp6(3),t.Q6J("checked",m.filterObj.getNotDone),t.xp6(1),t.Q6J("ngIf","homework"==m.filterType),t.xp6(6),t.Oqu(t.lcZ(36,20,"lang_button_close")),t.xp6(4),t.Oqu(t.lcZ(40,22,"lang_button_delete"))}},dependencies:[H.O5,z.VK,z.p6,j.JV],encapsulation:2}),s})();function fo(s,h){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t._UZ(3,"azt-check-mark",18),t.qZA()),2&s){const n=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_point"),": "),t.xp6(2),t.Q6J("mark",n.resultMarkObj.point)}}function ai(s,h){1&s&&(t.TgZ(0,"span",19),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function ss(s,h){if(1&s&&(t.ynx(0),t.YNc(1,fo,4,4,"span",14),t.YNc(2,ai,3,3,"span",17),t.BQk()),2&s){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",n.resultMarkObj.confirmedAt),t.xp6(1),t.Q6J("ngIf",!n.resultMarkObj.confirmedAt)}}function rs(s,h){1&s&&(t.TgZ(0,"span",20),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_statistical_not_exem_yet")," "))}function ls(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){const C=t.CHM(n).$implicit,E=t.oxw();return t.KtG(E.clickToExamObj(C))}),t.TgZ(1,"div",8),t.O4$(),t.TgZ(2,"svg",9),t._UZ(3,"path",10),t.qZA()(),t.kcU(),t.TgZ(4,"div",11)(5,"p",12),t._uU(6),t.qZA(),t.TgZ(7,"div",13),t.YNc(8,ss,3,2,"ng-container",14),t.YNc(9,rs,3,3,"span",15),t.qZA(),t.TgZ(10,"div",16),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()()}if(2&s){const n=h.$implicit,m=h.index;t.Gre("clickable zoom-in flex items-center ",m>0?"mt-3":""," pb-2"),t.xp6(5),t.s9C("matTooltip",n.name),t.xp6(1),t.AsE("",m+1,". ",n.name,""),t.xp6(2),t.Q6J("ngIf",n.resultMarkObj),t.xp6(1),t.Q6J("ngIf",!n.resultMarkObj),t.xp6(2),t.AsE("",t.lcZ(12,10,"lang_student_profile_utils_list_exam_created_at"),": ",t.lcZ(13,12,n.createdAt),"")}}function cs(s,h){1&s&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_list_null")))}function ms(s,h){1&s&&t._UZ(0,"azt-loading-effect")}function Lo(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",22),t.YNc(1,ms,1,0,"azt-loading-effect",14),t.TgZ(2,"button",23),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.getNextExamResultObjs())}),t.ALo(3,"mytranslate"),t.O4$(),t.TgZ(4,"svg",24),t._UZ(5,"polyline",25),t.qZA()()()}if(2&s){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.s9C("matTooltip",t.lcZ(3,3,"lang_student_profile_utils_list_exam_tooltip_view")),t.Q6J("disabled",!n.examNextPage)}}let Kn=(()=>{class s extends x.Q{clickToExamObj(n){n.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("exam",n)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+n.id+"/"+n.resultMarkObj?.userId+"/"+n.resultMarkObj?.studentId+"/"+(n.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(n.categoryId??0)+"/"+n.id+"/0","?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.examNextPage="",this.getNextExamResultObjs()}getNextExamResultObjs(){this.initStatusObj();var n=this.studentProfileFilterService.getDefaultFilterObj("exam");n.classroomId=this.classroomId,n.studentId=this.studentId,n.nextPage=this.examNextPage,this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(n).subscribe(m=>{1==m.success?(this.examObjs=this.examObjs.concat(m.data?.objs??[]),this.examNextPage=m.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextExamResultObjs()}constructor(n,m,u){super(),this.studentProfileV2Service=n,this.studentProfileFilterService=m,this.permissionService=u,this.backToLink="",this.examObjs=[],this.examNextPage=""}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(Yt.LU),t.Y36(Rn),t.Y36(de.j))},s.\u0275cmp=t.Xpm({type:s,selectors:[["student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink"},features:[t.qOj],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","list-exam-pw607HPZy",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","list-exam-pw607HPZy",3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"w-12","h-12","text-pending","bi","bi-file-earmark-check-fill"],["d","M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm1.354 4.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708.708z"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],["azt-track-service","list-exam-wvCfNB667b",1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(n,m){1&n&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"student-profile-filter-menu",2),t.NdJ("changeFilterEvent",function(){return m.reInitData()}),t.qZA()(),t.TgZ(5,"div",3),t.YNc(6,ls,14,14,"div",4),t.YNc(7,cs,3,3,"div",5),t.YNc(8,Lo,6,5,"div",6),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"lang_student_profile_utils_list_exam_list_submitted")),t.xp6(2),t.Q6J("filterType","exam"),t.xp6(2),t.Q6J("ngForOf",m.examObjs),t.xp6(1),t.Q6J("ngIf",0==m.examObjs.length&&!m.examNextPage),t.xp6(1),t.Q6J("ngIf",m.examObjs.length>0&&m.examNextPage))},dependencies:[H.sg,H.O5,gt.gM,st.l,ii.B,Qt,j.JV,j.$n],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),s})();function si(s,h){1&s&&(t.TgZ(0,"span",11),t._UZ(1,"azt-loading-ui"),t.qZA())}let Ii=(()=>{class s extends ne.e{confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id??0).subscribe(n=>{1==n.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(n.message??"",!0))}))}btnCloseDialog(n){this.dialogRef.close(n)}constructor(n,m,u){super(u,m),this.studentService=n,this.dialogRef=m,this.data=u,this.studentObj=u.studentObj,this.classroomObj=u.classroomObj}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(Yt.VT),t.Y36(Nt.so,8),t.Y36(Nt.WI,8))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-delete-parent"]],features:[t.qOj],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","text-right"],["azt-track-service","delete-parent-OCYQzQEUBJ",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-parent-q0ZQYEQFkD",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,m){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"b",4),t._uU(8),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"span",5),t._uU(12),t.qZA(),t._uU(13,"\xa0 "),t.TgZ(14,"span",6),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()()(),t.TgZ(17,"div",7)(18,"button",8),t.NdJ("click",function(){return m.btnCloseDialog(!1)}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"button",9),t.NdJ("click",function(){return m.confirmDelete()}),t.YNc(22,si,2,0,"span",10),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),t.xp6(3),t.Oqu(m.studentObj.fullName),t.xp6(1),t.hij(" ",t.lcZ(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),t.xp6(2),t.s9C("matTooltip",m.classroomObj.name),t.xp6(1),t.hij(" ",m.classroomObj.name,""),t.xp6(3),t.hij("* ",t.lcZ(16,13,"lang_student_utils_delete_parent_reques"),""),t.xp6(4),t.hij(" ",t.lcZ(20,15,"lang_cms_common_close_btn")," "),t.xp6(3),t.Q6J("ngIf",m.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[H.O5,gt.gM,me.R,mt.n,j.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:98;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137)}.school-info[_ngcontent-%COMP%]{z-index:99;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;border-radius:5px;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 2px 0 0;white-space:nowrap}.text-note[_ngcontent-%COMP%]{display:block;font-style:italic;font-size:15px;color:#000;font-weight:600;text-align:center;margin:10px 0}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),s})();function ri(s,h){1&s&&t._UZ(0,"azt-loading-effect")}function li(s,h){if(1&s&&(t._UZ(0,"img",38),t.ALo(1,"mycdn")),2&s){const n=t.oxw(3);t.s9C("src",t.lcZ(1,1,n.studentObj.avatar),t.LSH)}}function ds(s,h){if(1&s&&t._UZ(0,"azt-create-avatar",39),2&s){const n=t.oxw(3);t.Q6J("nameCreateAvatar",n.studentObj.fullName)("size",128)}}function Wn(s,h){1&s&&(t.TgZ(0,"div",40)(1,"span",41),t._UZ(2,"lucide-icon",42),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&s&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_da_co_tai_khoan")," "))}function _s(s,h){if(1&s&&(t.TgZ(0,"div",20)(1,"span",17),t._UZ(2,"lucide-icon",43),t.qZA(),t.TgZ(3,"span",19),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&s){const n=t.oxw(3);t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_so_bao_danh")+": "+n.studentObj.code," ")}}function Li(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(4);return t.KtG(u.editStudentDialog(u.studentObj))}),t.TgZ(1,"div",49),t._UZ(2,"lucide-icon",50),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&s&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_button_edit")," "))}function Di(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"button",51),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(4);return t.KtG(u.deleteStudentDialog(u.studentObj))}),t.TgZ(1,"div",52),t._UZ(2,"lucide-icon",53),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&s&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function us(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(4);return t.KtG(u.deleteParentOfStudentDialog(u.studentObj))}),t.TgZ(1,"div",55),t._UZ(2,"lucide-icon",56),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&s&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_student_profile_utils_account_student_required_verifie")," "))}function Ei(s,h){if(1&s&&(t.TgZ(0,"div",44),t.YNc(1,Li,5,3,"button",45),t.ALo(2,"editPermission"),t.YNc(3,Di,5,3,"button",46),t.ALo(4,"fullPermission"),t.ALo(5,"editPermission"),t.YNc(6,us,5,3,"button",47),t.ALo(7,"editPermission"),t.qZA()),2&s){const n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.xi3(2,3,n.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(4,6,n.classroomObj,"student")||t.xi3(5,9,n.classroomObj,"student")),t.xp6(3),t.Q6J("ngIf",0!=n.studentObj.parentId&&t.xi3(7,12,n.classroomObj,"student"))}}function ci(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"button",59),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(4);return t.KtG(u.deleteStudentDialog(u.studentObj))}),t.TgZ(1,"div",52),t._UZ(2,"lucide-icon",53),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&s&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function Pi(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",44)(1,"button",57),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3);return t.KtG(u.editStudentDialog(u.studentObj))}),t.TgZ(2,"div",49),t._UZ(3,"lucide-icon",50),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.YNc(6,ci,5,3,"button",58),t.ALo(7,"fullPermission"),t.ALo(8,"editPermission"),t.qZA()}if(2&s){const n=t.oxw(3);t.xp6(4),t.hij(" ",t.lcZ(5,2,"lang_button_edit")," "),t.xp6(2),t.Q6J("ngIf",t.xi3(7,4,n.classroomObj,"student")||t.xi3(8,7,n.classroomObj,"student"))}}function Ui(s,h){if(1&s&&(t.ynx(0),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),t.YNc(5,li,2,3,"img",8),t.YNc(6,ds,1,2,"azt-create-avatar",9),t.qZA(),t.TgZ(7,"div",10)(8,"div",11),t._uU(9),t.qZA(),t.YNc(10,Wn,5,3,"div",12),t.qZA()()(),t.TgZ(11,"div",13)(12,"div",14),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"div",15)(16,"div",16)(17,"span",17),t._UZ(18,"lucide-icon",18),t.qZA(),t.TgZ(19,"span",19),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()(),t.TgZ(22,"div",20)(23,"span",17),t._UZ(24,"lucide-icon",21),t.qZA(),t.TgZ(25,"span",22),t._uU(26),t.qZA()(),t.TgZ(27,"div",20)(28,"span",17),t._UZ(29,"lucide-icon",23),t.qZA(),t.TgZ(30,"span",19),t._uU(31),t.ALo(32,"mytranslate"),t.ALo(33,"formatOnlyDateByUserUnitPipe"),t.qZA()(),t.TgZ(34,"div",20)(35,"span",17),t._UZ(36,"lucide-icon",24),t.qZA(),t.TgZ(37,"span",19),t._uU(38),t.ALo(39,"mytranslate"),t.ALo(40,"mytranslate"),t.ALo(41,"mytranslate"),t.qZA()(),t.YNc(42,_s,6,3,"div",25),t.TgZ(43,"div",20)(44,"span",17),t._UZ(45,"lucide-icon",26),t.qZA(),t.TgZ(46,"span",19),t._uU(47),t.ALo(48,"mytranslate"),t.ALo(49,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()(),t.TgZ(50,"div",20),t.O4$(),t.TgZ(51,"svg",27),t._UZ(52,"path",28)(53,"path",29)(54,"path",30)(55,"path",31)(56,"path",32)(57,"circle",33),t.qZA(),t.kcU(),t.TgZ(58,"span",19),t._uU(59),t.ALo(60,"mytranslate"),t.qZA()(),t.TgZ(61,"div",20)(62,"span",17),t._UZ(63,"lucide-icon",34),t.qZA(),t.TgZ(64,"span",19),t._uU(65),t.ALo(66,"mytranslate"),t.TgZ(67,"a",35),t._uU(68,"https://www.facebook.com"),t.qZA()()(),t.TgZ(69,"div",20)(70,"span",17),t._UZ(71,"lucide-icon",36),t.qZA(),t.TgZ(72,"span",19),t._uU(73),t.ALo(74,"mytranslate"),t.qZA()()()()(),t.YNc(75,Ei,8,15,"div",37),t.ALo(76,"editPermission"),t.YNc(77,Pi,9,10,"div",37),t.ALo(78,"editPermission"),t.BQk()),2&s){const n=t.oxw(2);t.xp6(5),t.Q6J("ngIf",n.studentObj.avatar),t.xp6(1),t.Q6J("ngIf",!n.studentObj.avatar),t.xp6(2),t.s9C("matTooltip",n.studentObj.fullName),t.xp6(1),t.Oqu(n.studentObj.fullName),t.xp6(1),t.Q6J("ngIf",1==n.studentObj.isVerified),t.xp6(3),t.Oqu(t.lcZ(14,22,"lang_auto_thong_tin")),t.xp6(7),t.AsE(" ",t.lcZ(21,24,"lang_number_phone"),": ",n.studentObj.phone," "),t.xp6(5),t.s9C("matTooltip",n.studentObj.email),t.xp6(1),t.hij("Email: ",n.studentObj.email,""),t.xp6(5),t.AsE(" ",t.lcZ(32,26,"lang_birthday"),": ",t.lcZ(33,28,n.studentObj.birthday)," "),t.xp6(7),t.AsE(" ",t.lcZ(39,30,"lang_gender"),": ",1==n.studentObj.gender?t.lcZ(40,32,"lang_gender_male"):t.lcZ(41,34,"lang_gender_female")," "),t.xp6(4),t.Q6J("ngIf",n.studentObj.code),t.xp6(5),t.AsE(" ",t.lcZ(48,36,"lang_student_profile_utils_account_student_Last_login"),": ",t.lcZ(49,38,n.studentObj.lastActivity)," "),t.xp6(12),t.hij(" ",t.lcZ(60,40,"lang_auto_truong")+": THPT Chuy\xean Chu V\u0103n An",""),t.xp6(6),t.hij(" ",t.lcZ(66,42,"lang_student_link_facebook")+": "," "),t.xp6(8),t.hij(" ",t.lcZ(74,44,"lang_student_current_classes")+": 12A1, 12A3, 12A4"," "),t.xp6(2),t.Q6J("ngIf",0!=n.studentObj.parentId&&t.xi3(76,46,n.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",0==n.studentObj.parentId&&t.xi3(78,49,n.classroomObj,"student"))}}function zi(s,h){1&s&&(t.TgZ(0,"div",60)(1,"span",61),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&s&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_profile_student_not_found")))}function mi(s,h){if(1&s&&(t.YNc(0,Ui,79,52,"ng-container",1),t.YNc(1,zi,4,3,"ng-template",null,3,t.W1O)),2&s){const n=t.MAs(2),m=t.oxw();t.Q6J("ngIf",m.studentObj)("ngIfElse",n)}}let di=(()=>{class s extends x.Q{deleteStudentDialog(n){this.sAztDialogService.open(O,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(u=>{u&&this.commonService.myNavigation(this.paramBackToLink)})}editStudentDialog(n){this.sAztDialogService.open(xt,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(u=>{u&&(this.reInitComponentEvent.emit(),this.getData())})}deleteParentOfStudentDialog(n){this.sAztDialogService.open(Ii,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(u=>{u&&(this.reInitComponentEvent.emit(),this.getData())})}getData(){this.initStatusObj(),this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0}).subscribe(m=>{1==m.success?(m.data?.studentObj&&m.data?.classroomObj&&m.data.classroomObj.permissionObj&&(this.studentObj=m.data.studentObj,this.classroomObj=m.data.classroomObj),this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.getData()}constructor(n,m){super(),this.studentProfileV2Service=n,this.sAztDialogService=m,this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new t.vpe}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(Yt.LU),t.Y36(Ze.C))},s.\u0275cmp=t.Xpm({type:s,selectors:[["detail-account-student"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[t.qOj],decls:4,vars:2,consts:[[1,"intro-y","box","px-5","pt-5"],[4,"ngIf","ngIfElse"],["doneLoading",""],["noStudentObj",""],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[1,"grid","grid-cols-12","items-center"],[1,"col-span-3","lg:col-span-2","avt-profile","w-20","h-20","sm:w-24","sm:h-24","flex-none","image-fit","relative"],["class","border rounded-full","alt","","width","128","height","128",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"ml-5","col-span-9","lg:col-span-10"],[1,"truncate","sm:whitespace-normal","font-medium","text-lg",3,"matTooltip"],["class","text-slate-500 flex items-center",4,"ngIf"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],[1,"font-medium","lg:mt-3"],[1,"flex","flex-col","justify-center","lg:items-start","mt-4"],[1,"sm:whitespace-normal","flex","items-center","w-full"],[1,"w-4","h-4","mr-2","inline-block"],["name","phone"],[1,"truncate"],[1,"sm:whitespace-normal","flex","items-center","mt-3","w-full"],["name","mail"],[1,"truncate",3,"matTooltip"],["name","calendar-days"],["name","user"],["class","sm:whitespace-normal flex items-center mt-3 w-full",4,"ngIf"],["name","activity"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","m4 6 8-4 8 4"],["d","m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2"],["d","M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4"],["d","M18 5v17"],["d","M6 5v17"],["cx","12","cy","9","r","2"],["name","facebook"],["azt-track-service","detail-account-student-lgtIigrH7","href","https://www.facebook.com/","target","_blank",1,"btn-text-primary","font-medium"],["name","layers"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],["alt","","width","128","height","128",1,"border","rounded-full",3,"src"],[3,"nameCreateAvatar","size"],[1,"text-slate-500","flex","items-center"],[1,"w-4","h-4","mr-2","text-success","inline-block"],["name","shield-check"],["name","binary"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["azt-track-service","detail-account-student-rzLFlIWrx","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-zZpuvJmKGS","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-hml3hBaXHE","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-rzLFlIWrx",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-primary"],["name","pencil"],["azt-track-service","detail-account-student-zZpuvJmKGS",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-danger"],["name","trash-2"],["azt-track-service","detail-account-student-hml3hBaXHE",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-warning"],["name","shield-alert"],["azt-track-service","detail-account-student-WgNDrDRXqF",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","detail-account-student-njjAOAGlF5","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-njjAOAGlF5",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-5"],[1,"block","sm:inline"]],template:function(n,m){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,ri,1,0,"azt-loading-effect",1),t.YNc(2,mi,3,2,"ng-template",null,2,t.W1O),t.qZA()),2&n){const u=t.MAs(3);t.xp6(1),t.Q6J("ngIf",m.statusObj.loading)("ngIfElse",u)}},dependencies:[H.O5,gt.gM,st.l,f.g,ht.Nh5,j.JV,j.QN,j.NK,j.Pf,j.$n,j.YK],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]}),s})();function Fi(s,h){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t._UZ(3,"azt-check-mark",22),t.qZA()),2&s){const n=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_point"),": "),t.xp6(2),t.Q6J("mark",n.resultMarkObj.point)}}function Ji(s,h){1&s&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_profile_not_mark_result")," "))}function ps(s,h){if(1&s&&(t.TgZ(0,"span"),t.YNc(1,Fi,4,4,"span",18),t.YNc(2,Ji,3,3,"span",21),t.qZA()),2&s){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",n.resultMarkObj.confirmedAt),t.xp6(1),t.Q6J("ngIf",!n.resultMarkObj.confirmedAt)}}function qi(s,h){1&s&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_profile_no_result")," "))}function gs(s,h){if(1&s&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s){const n=t.oxw().$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_student_profile_resend_answer_required"),": ",n.resendAnswerObj.resendNote," ")}}function hs(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){const C=t.CHM(n).$implicit,E=t.oxw();return t.KtG(E.clickToHomeworkObj(C))}),t.TgZ(1,"div",8),t.O4$(),t.TgZ(2,"svg",9),t._UZ(3,"path",10)(4,"polyline",11)(5,"line",12)(6,"line",13)(7,"line",14),t.qZA()(),t.kcU(),t.TgZ(8,"div",15)(9,"p",16),t._uU(10),t.qZA(),t.TgZ(11,"div",17),t.YNc(12,ps,3,2,"span",18),t.YNc(13,qi,3,3,"span",19),t.YNc(14,gs,3,4,"span",19),t.qZA(),t.TgZ(15,"div",20),t._uU(16),t.ALo(17,"mytranslate"),t.ALo(18,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()()}if(2&s){const n=h.$implicit,m=h.index;t.Gre("clickable zoom-in flex items-center ",m>0?"mt-5":""," pb-2"),t.xp6(9),t.s9C("matTooltip",n.name),t.xp6(1),t.AsE("",m+1,". ",n.name,""),t.xp6(2),t.Q6J("ngIf",n.resultMarkObj),t.xp6(1),t.Q6J("ngIf",!n.resultMarkObj&&!n.resendAnswerObj),t.xp6(1),t.Q6J("ngIf",!n.resultMarkObj&&n.resendAnswerObj),t.xp6(2),t.AsE("",t.lcZ(17,11,"lang_student_profile_utils_homework_answer_created_at"),": ",t.lcZ(18,13,n.createdAt),"")}}function Cs(s,h){1&s&&(t.TgZ(0,"div",25),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_list_null")))}function fs(s,h){1&s&&t._UZ(0,"azt-loading-effect")}function d(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",26),t.YNc(1,fs,1,0,"azt-loading-effect",18),t.TgZ(2,"button",27),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.getNextHomeworkAnswerObjs())}),t.ALo(3,"mytranslate"),t.O4$(),t.TgZ(4,"svg",28),t._UZ(5,"polyline",29),t.qZA()()()}if(2&s){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.s9C("matTooltip",t.lcZ(3,3,"lang_auto_hien_ban_ghi_cu_hon")),t.Q6J("disabled",!n.homeworkNextPage)}}let a=(()=>{class s extends x.Q{clickToHomeworkObj(n){n.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("homework",n)?this.commonService.myNavigationWithQueryString("/admin/homework/switch-mark-exercise/"+n.resultMarkObj?.resultId+"/"+n.hashId+"/"+(this.studentId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(n.classroomId??0)+"/"+n.id+"/"+n.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var n=this.studentProfileFilterService.getDefaultFilterObj("homework");n.classroomId=this.classroomId,n.studentId=this.studentId,n.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(n).subscribe(m=>{1==m.success?(this.homeworkObjs=this.homeworkObjs.concat(m.data?.objs??[]),this.homeworkNextPage=m.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}constructor(n,m,u){super(),this.studentProfileV2Service=n,this.studentProfileFilterService=m,this.permissionService=u,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(Yt.LU),t.Y36(Rn),t.Y36(de.j))},s.\u0275cmp=t.Xpm({type:s,selectors:[["student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink"},features:[t.qOj],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-12","h-12","text-primary"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],["azt-track-service","homework-answer-MWO-mgLYZ_",1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(n,m){1&n&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"student-profile-filter-menu",2),t.NdJ("changeFilterEvent",function(){return m.reInitData()}),t.qZA()(),t.TgZ(5,"div",3),t.YNc(6,hs,19,15,"div",4),t.YNc(7,Cs,3,3,"div",5),t.YNc(8,d,6,5,"div",6),t.qZA()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"lang_student_profile_utils_homework_answer_list_submitted")),t.xp6(2),t.Q6J("filterType","homework"),t.xp6(2),t.Q6J("ngForOf",m.homeworkObjs),t.xp6(1),t.Q6J("ngIf",0==m.homeworkObjs.length&&!m.homeworkNextPage),t.xp6(1),t.Q6J("ngIf",m.homeworkObjs.length>0&&m.homeworkNextPage))},dependencies:[H.sg,H.O5,gt.gM,st.l,ii.B,Qt,j.JV,j.$n],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),s})();var o=v(66469),r=v(95287);function _(s,h){if(1&s&&(t.TgZ(0,"span"),t._UZ(1,"lucide-icon",15),t.qZA()),2&s){const n=t.oxw().$implicit;t.xp6(1),t.s9C("name",n.showChild?"chevron-up":"chevron-down")}}function g(s,h){if(1&s&&(t.TgZ(0,"span",18),t._uU(1),t.qZA()),2&s){const n=t.oxw(2).$implicit;t.xp6(1),t.Oqu(n.averageMark)}}const k=function(s){return{"width.%":s}};function S(s,h){if(1&s&&(t.TgZ(0,"div",16),t.YNc(1,g,2,1,"span",17),t.qZA()),2&s){const n=t.oxw().$implicit;t.Q6J("ngStyle",t.VKq(2,k,10*n.averageMark)),t.xp6(1),t.Q6J("ngIf",n.averageMark>1)}}function M(s,h){if(1&s&&(t.TgZ(0,"div",19),t._UZ(1,"knowledge-by-subject-student",20),t.qZA()),2&s){const n=t.oxw().$implicit,m=t.oxw();t.xp6(1),t.Q6J("knowledgeDetailObjs",n.children)("countLevelNode",m.countLevelNode+1)}}const U=function(s,h,n,m,u){return{"mt-3":s,"border-none":h,"bg-slate-100":n,"bg-white":m,"pb-0":u}},B=function(s){return{cursor:s}},Q=function(s,h){return{"font-medium":s,"font-normal":h}},K=function(s){return{"padding-left.px":s}};function $(s,h){if(1&s){const n=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t.NdJ("click",function(){const C=t.CHM(n).$implicit,E=t.oxw();return t.KtG(E.showChildKnowledgeData(C))}),t.TgZ(3,"h3",4),t._uU(4),t.ALo(5,"mytranslate"),t.YNc(6,_,2,1,"span",5),t.qZA()(),t.TgZ(7,"div",6)(8,"h3",7),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"b"),t._uU(12),t.qZA(),t._uU(13,"/"),t.TgZ(14,"b"),t._uU(15),t.qZA(),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.TgZ(18,"div",8)(19,"div",9)(20,"span",10),t._uU(21,"0"),t.qZA(),t.TgZ(22,"div",11),t.YNc(23,S,2,4,"div",12),t.qZA(),t.TgZ(24,"span",13),t._uU(25,"10"),t.qZA()()()(),t.YNc(26,M,2,2,"div",14),t.qZA()}if(2&s){const n=h.$implicit,m=h.first,u=h.last,C=t.oxw();t.Q6J("ngClass",t.qbA(19,U,m&&0==C.countLevelNode,u,C.countLevelNode%2!=0,C.countLevelNode%2==0,n.showChild)),t.xp6(2),t.Akn(t.VKq(25,B,n.children&&n.children.length?"pointer":"default")),t.xp6(1),t.Q6J("ngClass",t.WLB(27,Q,0==C.countLevelNode||n.showChild,0!=C.countLevelNode&&!n.showChild))("ngStyle",t.VKq(30,K,5*C.countLevelNode)),t.xp6(1),t.hij(" ",t.lcZ(5,13,n.name)," "),t.xp6(2),t.Q6J("ngIf",n.children&&n.children.length),t.xp6(3),t.hij(" ",t.lcZ(10,15,"lang_auto_tra_loi_dung"),":\xa0"),t.xp6(3),t.Oqu(n.totalCorrectQuestion),t.xp6(3),t.Oqu(n.totalQuestion),t.xp6(1),t.hij("\xa0",t.lcZ(17,17,"azt_lang_sugg_question")," "),t.xp6(7),t.Q6J("ngIf",n.averageMark),t.xp6(3),t.Q6J("ngIf",n.children&&n.children.length&&n.showChild)}}let rt=(()=>{class s extends x.Q{showChildKnowledgeData(n){n.children&&n.children.length&&(n.showChild=!n.showChild)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.knowledgeDetailObjs=[],this.countLevelNode=1}}return s.\u0275fac=function(n){return new(n||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["knowledge-by-subject-student"]],inputs:{knowledgeDetailObjs:"knowledgeDetailObjs",countLevelNode:"countLevelNode"},features:[t.qOj],decls:1,vars:1,consts:[["class","border-b border-slate-200/60 dark:border-darkmode-400","style","padding: 10px 24px; margin-left: -24px; margin-right: -24px;",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center",3,"click"],[1,"",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr","pr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],["style","margin-top: 10px",4,"ngIf"],[2,"vertical-align","top","height","16px!important","width","16px!important",3,"name"],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[2,"margin-top","10px"],[3,"knowledgeDetailObjs","countLevelNode"]],template:function(n,m){1&n&&t.YNc(0,$,27,32,"div",0),2&n&&t.Q6J("ngForOf",m.knowledgeDetailObjs)},dependencies:[H.mk,H.sg,H.O5,H.PC,ht.Nh5,s,j.JV],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}.pb-0[_ngcontent-%COMP%]{padding-bottom:0!important}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),s})();function Tt(s,h){1&s&&t._UZ(0,"azt-loading-effect")}function Lt(s,h){if(1&s&&(t.TgZ(0,"span",23),t._uU(1),t.qZA()),2&s){const n=t.oxw(2).$implicit;t.xp6(1),t.Oqu(n.averageMark)}}const Et=function(s){return{"width.%":s}};function Ut(s,h){if(1&s&&(t.TgZ(0,"div",21),t.YNc(1,Lt,2,1,"span",22),t.qZA()),2&s){const n=t.oxw().$implicit;t.Q6J("ngStyle",t.VKq(2,Et,10*n.averageMark)),t.xp6(1),t.Q6J("ngIf",n.averageMark&&n.averageMark>1)}}function Zt(s,h){1&s&&(t.TgZ(0,"div",24)(1,"span",25),t._UZ(2,"azt-loading-ui"),t.qZA()())}function Jt(s,h){1&s&&(t.ynx(0),t.TgZ(1,"div",27)(2,"span",28),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.BQk()),2&s&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_profile_student_not_support_subject")))}function He(s,h){if(1&s&&(t.ynx(0),t.TgZ(1,"div",37)(2,"h4",30),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t._UZ(5,"knowledge-by-subject-student",38),t.BQk()),2&s){const n=t.oxw(3).$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,3,"lang_student_profile_result_by_topic")," "),t.xp6(2),t.Q6J("knowledgeDetailObjs",n.knowledgeDataObjs)("countLevelNode",0)}}function Yn(s,h){if(1&s&&(t.TgZ(0,"span",23),t._uU(1),t.qZA()),2&s){const n=t.oxw(2).$implicit;t.xp6(1),t.Oqu(n.averageMark)}}const Do=function(s,h,n,m){return{"bg-orange-600":s,"bg-red-600":h,"bg-green-600":n,"bg-blue-600":m}};function _i(s,h){if(1&s&&(t.TgZ(0,"div",50),t.YNc(1,Yn,2,1,"span",22),t.qZA()),2&s){const n=t.oxw().$implicit;t.Q6J("ngClass",t.l5B(3,Do,1==n.id,3==n.id,2==n.id,4==n.id))("ngStyle",t.VKq(8,Et,10*n.averageMark)),t.xp6(1),t.Q6J("ngIf",n.averageMark>1)}}const As=function(s){return{"border-none":s}};function Ss(s,h){if(1&s&&(t.TgZ(0,"div",40)(1,"div",41)(2,"div",42)(3,"h3",43),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",44)(7,"h3",43),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"b"),t._uU(11),t.qZA(),t._uU(12,"/"),t.TgZ(13,"b"),t._uU(14),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()(),t.TgZ(17,"div",45)(18,"div",46)(19,"span",47),t._uU(20,"0"),t.qZA(),t.TgZ(21,"div",48),t.YNc(22,_i,2,10,"div",49),t.qZA(),t.TgZ(23,"span",18),t._uU(24,"10"),t.qZA()()()()()),2&s){const n=h.$implicit;t.Q6J("ngClass",t.VKq(13,As,h.last)),t.xp6(4),t.hij(" ",t.lcZ(5,7,n.name)," "),t.xp6(4),t.hij(" ",t.lcZ(9,9,"lang_auto_tra_loi_dung"),":\xa0"),t.xp6(3),t.Oqu(n.totalCorrectQuestion),t.xp6(3),t.Oqu(n.totalQuestion),t.xp6(1),t.hij("\xa0",t.lcZ(16,11,"azt_lang_sugg_question")," "),t.xp6(7),t.Q6J("ngIf",n.averageMark)}}function Ns(s,h){if(1&s&&(t.ynx(0),t.TgZ(1,"div",37)(2,"h4",30),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.YNc(5,Ss,25,15,"div",39),t.BQk()),2&s){const n=t.oxw(3).$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_student_profile_result_by_difficulty_level")," "),t.xp6(2),t.Q6J("ngForOf",n.difficultyDataObjs)}}function js(s,h){if(1&s&&(t.TgZ(0,"div",29)(1,"h4",30),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()(),t.TgZ(4,"div",31)(5,"div",32)(6,"div",33)(7,"div",34),t._UZ(8,"div",35),t.qZA()()()(),t.YNc(9,He,6,5,"ng-container",36),t.YNc(10,Ns,6,4,"ng-container",36)),2&s){const n=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_student_profile_exam_point_by_time")," "),t.xp6(6),t.Q6J("chart",n.chart),t.xp6(1),t.Q6J("ngIf",n.knowledgeDataObjs&&n.knowledgeDataObjs.length),t.xp6(1),t.Q6J("ngIf",n.difficultyDataObjs&&n.difficultyDataObjs.length)}}function Ms(s,h){if(1&s&&(t.YNc(0,Jt,5,3,"ng-container",1),t.YNc(1,js,11,6,"ng-template",null,26,t.W1O)),2&s){const n=t.MAs(2),m=t.oxw().$implicit;t.Q6J("ngIf",m.errorGetData)("ngIfElse",n)}}function Is(s,h){if(1&s){const n=t.EpF();t.ynx(0),t.TgZ(1,"mat-expansion-panel",7),t.NdJ("opened",function(){const C=t.CHM(n).index,E=t.oxw(2);return t.KtG(E.getStatisticalById(C))}),t.TgZ(2,"mat-expansion-panel-header",8)(3,"div",9)(4,"div",10)(5,"h3",11),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"mytranslate"),t.qZA()(),t.TgZ(9,"div",12)(10,"div",13)(11,"span",14),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"span",15),t._uU(15,"0"),t.qZA(),t.TgZ(16,"div",16),t.YNc(17,Ut,2,4,"div",17),t.qZA(),t.TgZ(18,"span",18),t._uU(19,"10"),t.qZA()()()()(),t.YNc(20,Zt,3,0,"div",19),t.YNc(21,Ms,3,2,"ng-template",null,20,t.W1O),t.qZA(),t.BQk()}if(2&s){const n=h.$implicit,m=h.index,u=t.MAs(22);t.xp6(1),t.Q6J("expanded",0==m),t.xp6(5),t.AsE(" ",t.lcZ(7,7,n.subjectName)," ","("+t.lcZ(8,9,n.levelName)+")"," "),t.xp6(6),t.Oqu(t.lcZ(13,11,"lang_auto_diem_trung_binh")),t.xp6(5),t.Q6J("ngIf",n.averageMark),t.xp6(3),t.Q6J("ngIf",n.isLoading)("ngIfElse",u)}}function Ls(s,h){if(1&s&&(t.TgZ(0,"div",3)(1,"div",4)(2,"mat-accordion",5),t.YNc(3,Is,23,13,"ng-container",6),t.qZA()()()),2&s){const n=t.oxw();t.xp6(3),t.Q6J("ngForOf",n.levelSubjectObjs)}}let Ds=(()=>{class s extends x.Q{getStatisticalById(n){this.levelSubjectObjs.length&&this.levelSubjectObjs[n]&&(this.levelSubjectObjs[n].isLoading=!0,this.levelSubjectObjs[n].errorGetData=!1,this.examPageResultService.apiExamPageResultListStudentProfileByFieldGet(this.studentId,this.levelSubjectObjs[n].levelId??0,this.levelSubjectObjs[n].subjectId??0).subscribe(m=>{1==m.success&&m.data?(this.levelSubjectObjs[n].difficultyDataObjs=m.data.difficulty??[],this.levelSubjectObjs[n].knowledgeDataObjs=m.data.knowledge??[],this.levelSubjectObjs[n].chart=this.createChart(m.data.examResults??[]),this.levelSubjectObjs[n].isLoading=!1,this.levelSubjectObjs[n].errorGetData=!1):(this.levelSubjectObjs[n].isLoading=!1,this.levelSubjectObjs[n].errorGetData=!0,this.errorStatusObj(m.message??"",!0))}))}createChart(n){let m=this.commonService.myTranslateInstant("lang_auto_Diem")??"",u=this.commonService.myTranslateInstant("lang_student_profile_exam_point_by_time")??"",C=[],E=[];return n.forEach(et=>{C.push(et.mark??0),E.push(this.sAztTimeService.formatFullDateTimeWithoutSecondByUserUnit(et.createdAt))}),new o.kL({chart:{type:"line",style:{fontFamily:"Arial"}},title:{style:{wordWrap:"break-word","text-align":"center"},text:u,useHTML:!0},colors:["#2361ae"],credits:{enabled:!1},xAxis:{categories:E},yAxis:{title:{text:m}},series:[{name:m,type:"line",data:C}]})}getDataSubject(){this.initStatusObj(),this.examPageResultService.apiExamPageResultListStudentProfileByLevelSubjectsGet(this.studentId).subscribe(n=>{1==n.success&&n.data?(this.levelSubjectObjs=n.data.objs??[],this.getStatisticalById(0),this.stopStatusObj()):this.errorStatusObj(n.message??"",!0)})}ngOnInit(){super.ngOnInit(),this.getDataSubject()}constructor(n,m,u){super(),this.examPageResultService=n,this.sAztDialogService=m,this.sAztTimeService=u,this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new t.vpe,this.levelSubjectObjs=[],this.chart=new o.kL}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(yt.DR),t.Y36(Ze.C),t.Y36(kt.D))},s.\u0275cmp=t.Xpm({type:s,selectors:[["detail-by-subject-student"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[t.qOj],decls:4,vars:2,consts:[[1,"intro-y"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"px-5"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[2,"margin-top","0.75rem",3,"expanded","opened"],[1,"pad-mobile"],[1,"grid","grid-cols-12","gap-3","gap-mobile","items-center","w-full","justify-between"],[1,"col-span-12","lg:col-span-3"],[1,"font-medium","mr-3"],[1,"col-span-12","lg:col-span-9","text-center"],[1,"flex","profile-flr","pr-5",2,"align-items","center"],[1,"text-md",2,"vertical-align","middle","margin-right","15px"],[1,"text-md",2,"vertical-align","middle","margin-right","5px"],[1,"w-avg-profile","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],["class","flex justify-center mt-3",4,"ngIf","ngIfElse"],["doneLoadingPage",""],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[1,"flex","justify-center","mt-3"],[1,"w-6","h-6","inline-block"],["hasData",""],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"report-box","intro-x","mt-3"],[1,"box","p-5"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[4,"ngIf"],[1,"w-auto","text-left","bg-gray-200","mt-3",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[3,"knowledgeDetailObjs","countLevelNode"],["class","border-b border-slate-200/60 dark:border-darkmode-400 mt-2 py-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","mt-2","py-3",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 text-right p-0.5 leading-none",3,"ngClass","ngStyle",4,"ngIf"],[1,"h-6","text-blue-100","text-right","p-0.5","leading-none",3,"ngClass","ngStyle"]],template:function(n,m){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,Tt,1,0,"azt-loading-effect",1),t.YNc(2,Ls,4,1,"ng-template",null,2,t.W1O),t.qZA()),2&n){const u=t.MAs(3);t.xp6(1),t.Q6J("ngIf",m.statusObj.loading)("ngIfElse",u)}},dependencies:[H.mk,H.sg,H.O5,H.PC,r.pp,r.ib,r.yz,st.l,mt.n,o.Dm,rt,j.JV],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),s})();const Es=function(s){return{"margin-bottom":s}},Us=[{path:"",component:ns,canActivate:[e.v],children:[{path:"merge-student/:id",component:ho},{path:"profile-student/:classroom_id/:id",component:(()=>{class s extends x.Q{reInitOtherComponent(){this.listExam?.reInitData(),this.listHomework?.reInitData()}ngOnInit(){var n=this.commonService.getMyParam(this.activeRoute,"classroom_id"),m=this.commonService.getMyParam(this.activeRoute,"id");this.classroomId=parseInt(n||"",10),this.studentId=parseInt(m||"",10),this.backToLink="/admin/student/profile-student/"+this.classroomId+"/"+this.studentId,this.commonService.getMyQueryParam("backto")&&(this.paramBackToLink=this.commonService.getMyQueryParam("backto")??""),this.commonService.translateMetaData({title:"lang_cms_student_detail_title",description:"lang_cms_test_config_description",image:"lang_cms_student_detail_description"}),super.ngOnInit()}constructor(n){super(),this.activeRoute=n,this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink=""}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(at.gz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["student-profile"]],viewQuery:function(n,m){if(1&n&&(t.Gf(Kn,5),t.Gf(Kn,5)),2&n){let u;t.iGM(u=t.CRH())&&(m.listExam=u.first),t.iGM(u=t.CRH())&&(m.listHomework=u.first)}},features:[t.qOj],decls:14,vars:18,consts:[[3,"headerBackToLink"],["id","profileStudent",1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"studentId","classroomId","backToLink","paramBackToLink","reInitComponentEvent"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","classroomId","backToLink"],["listExam",""],[1,"intro-y","box","col-span-12","lg:col-span-6",3,"ngStyle"],["listHomework",""],[1,"mt-3","mb-3","text-lg",2,"font-weight","450"]],template:function(n,m){1&n&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"detail-account-student",3),t.NdJ("reInitComponentEvent",function(){return m.reInitOtherComponent()}),t.qZA(),t.TgZ(4,"div",4)(5,"div",5),t._UZ(6,"student-profile-list-exams",6,7),t.qZA(),t.TgZ(8,"div",8),t._UZ(9,"student-profile-list-homeworks",6,9),t.qZA()(),t.TgZ(11,"p",10),t._uU(12,"B\xc1O C\xc1O K\u1ebeT QU\u1ea2 H\u1eccC T\u1eacP"),t.qZA(),t.TgZ(13,"detail-by-subject-student",3),t.NdJ("reInitComponentEvent",function(){return m.reInitOtherComponent()}),t.qZA()()()()),2&n&&(t.Q6J("headerBackToLink","/admin/student/classroom-details/"+m.classroomId+"/0"),t.xp6(3),t.Q6J("studentId",m.studentId)("classroomId",m.classroomId)("backToLink",m.backToLink)("paramBackToLink",m.paramBackToLink),t.xp6(3),t.Q6J("studentId",m.studentId)("classroomId",m.classroomId)("backToLink",m.backToLink),t.xp6(2),t.Q6J("ngStyle",t.VKq(16,Es,m.isMobileWebView?"200px":"0")),t.xp6(1),t.Q6J("studentId",m.studentId)("classroomId",m.classroomId)("backToLink",m.backToLink),t.xp6(4),t.Q6J("studentId",m.studentId)("classroomId",m.classroomId)("backToLink",m.backToLink)("paramBackToLink",m.paramBackToLink))},dependencies:[H.PC,St._,di,a,Kn,Ds],encapsulation:2}),s})()},{path:"manage-classroom/:id",component:es},{path:"classroom-details/:id/:tabId",component:so},{path:"attendance-student/:classroom_id/:program_id/:session_id",component:xi},{path:"distribute-document/:classroom_id/:program_id/:session_id",component:yi},{path:"submit-score/:classroom_id/:program_id/:session_id",component:oa},{path:"class-details/:id",redirectTo:"classroom-details/:id/0"},{path:"manage-class/:id",redirectTo:"manage-classroom/:id"},{path:"student-list",redirectTo:"manage-classroom/0",pathMatch:"full"}]}];let zs=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[at.Bz.forChild(Us),at.Bz,c.fQ]}),s})()},56347:(An,Rt,v)=>{v.d(Rt,{M:()=>j});var at=v(96814),c=v(56223),e=v(19347),l=v(21266),x=v(42753),t=v(66469),ut=v(37722),H=v(21494),St=v(60381),ht=v(25391),wt=v(30292),ct=v(95545),i=v(69162),yt=v(84155),st=v(78217),mt=v(96238),_t=v(22166),gt=v(48795),R=v(65879);let j=(()=>{class J{}return J.\u0275fac=function(nt){return new(nt||J)},J.\u0275mod=R.oAB({type:J}),J.\u0275inj=R.cJS({imports:[l.Bz,at.ez,i.j,wt.Yy,x.Z_,c.u5,c.UX,e.Is,yt.Z,H.xC,gt.v,ht.QG,mt.W,st.d,St.l1,ut.qyJ.pick(ut.ciZ),ct.kb,t.SD,_t.AzotaBusinessModule]}),J})()},91675:(An,Rt,v)=>{v.d(Rt,{B:()=>ct});var at=v(47496),c=v(65879),e=v(96814),l=v(92596),x=v(36727);function t(i,yt){1&i&&(c.TgZ(0,"span",2),c.ALo(1,"mytranslate"),c._uU(2),c.ALo(3,"mytranslate"),c.qZA()),2&i&&(c.s9C("matTooltip",c.lcZ(1,2,"lang_auto_dat")),c.xp6(2),c.Oqu(c.lcZ(3,4,"lang_auto_d_upper")))}function ut(i,yt){1&i&&(c.TgZ(0,"span",2),c.ALo(1,"mytranslate"),c._uU(2),c.ALo(3,"mytranslate"),c.qZA()),2&i&&(c.s9C("matTooltip",c.lcZ(1,2,"lang_auto_chua_dat")),c.xp6(2),c.Oqu(c.lcZ(3,4,"lang_auto_cd_upper")))}function H(i,yt){1&i&&(c.TgZ(0,"span",2),c.ALo(1,"mytranslate"),c._uU(2),c.ALo(3,"mytranslate"),c.qZA()),2&i&&(c.s9C("matTooltip",c.lcZ(1,2,"lang_auto_hoan_thanh")),c.xp6(2),c.Oqu(c.lcZ(3,4,"lang_auto_tag_ht")))}function St(i,yt){1&i&&(c.TgZ(0,"span",2),c.ALo(1,"mytranslate"),c._uU(2),c.ALo(3,"mytranslate"),c.qZA()),2&i&&(c.s9C("matTooltip",c.lcZ(1,2,"lang_auto_chua_hoan_thanh")),c.xp6(2),c.hij("",c.lcZ(3,4,"lang_auto_tag_CHT")," "))}function ht(i,yt){1&i&&(c.TgZ(0,"span",2),c.ALo(1,"mytranslate"),c._uU(2),c.ALo(3,"mytranslate"),c.qZA()),2&i&&(c.s9C("matTooltip",c.lcZ(1,2,"lang_auto_hoan_thanh_tot")),c.xp6(2),c.Oqu(c.lcZ(3,4,"lang_auto_tag_HTT")))}function wt(i,yt){if(1&i&&(c.TgZ(0,"span",3),c._uU(1),c.qZA()),2&i){const st=c.oxw();c.xp6(1),c.Oqu(st.mark)}}let ct=(()=>{class i extends at.Q{constructor(){super(...arguments),this.mark=0}}return i.\u0275fac=function(){let yt;return function(mt){return(yt||(yt=c.n5z(i)))(mt||i)}}(),i.\u0275cmp=c.Xpm({type:i,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[c.qOj],decls:6,vars:6,consts:[["class","text-mark mb-0",3,"matTooltip",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],[1,"text-mark","mb-0",3,"matTooltip"],[1,"text-mark","mb-0"]],template:function(st,mt){1&st&&(c.YNc(0,t,4,6,"span",0),c.YNc(1,ut,4,6,"span",0),c.YNc(2,H,4,6,"span",0),c.YNc(3,St,4,6,"span",0),c.YNc(4,ht,4,6,"span",0),c.YNc(5,wt,2,1,"span",1)),2&st&&(c.Q6J("ngIf","1000"==mt.mark),c.xp6(1),c.Q6J("ngIf","1001"==mt.mark),c.xp6(1),c.Q6J("ngIf","2000"==mt.mark),c.xp6(1),c.Q6J("ngIf","2001"==mt.mark),c.xp6(1),c.Q6J("ngIf","3000"==mt.mark),c.xp6(1),c.Q6J("ngIf","2001"!=mt.mark&&"2000"!=mt.mark&&"1001"!=mt.mark&&"1000"!=mt.mark&&"3000"!=mt.mark))},dependencies:[e.O5,l.gM,x.JV],encapsulation:2}),i})()},30292:(An,Rt,v)=>{v.d(Rt,{ft:()=>di,Bi:()=>hs,Yy:()=>fs});var at=v(42495),c=v(65879),e=v(69594);class l extends Error{}class x extends l{constructor(a){super(`Invalid DateTime: ${a.toMessage()}`)}}class t extends l{constructor(a){super(`Invalid Duration: ${a.toMessage()}`)}}class ut extends l{constructor(a){super(`Invalid Interval: ${a.toMessage()}`)}}class H extends l{constructor(a){super(`Invalid unit ${a}`),Object.setPrototypeOf(this,H.prototype)}}class St extends l{constructor(a){super(`${a} is an invalid or unknown zone specifier`),Object.setPrototypeOf(this,St.prototype)}}class ht extends l{constructor(a){super(a),Object.setPrototypeOf(this,ht.prototype)}}class wt extends l{constructor(a){super(a),Object.setPrototypeOf(this,wt.prototype)}}class ct extends l{constructor(){super("Zone is an abstract class"),Object.setPrototypeOf(this,ct.prototype)}}class yt{get type(){throw new ct}get ianaName(){return this.name}get name(){throw new ct}get isUniversal(){throw new ct}offsetName(a,o){throw new ct}formatOffset(a,o){throw new ct}offset(a){throw new ct}equals(a){throw new ct}get isValid(){throw new ct}}var st=Intl;let mt={};const _t={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let gt={};class R extends yt{static create(a){return gt[a]||(gt[a]=new R(a)),gt[a]}static resetCache(){gt={},mt={}}static isValidSpecifier(a){return this.isValidZone(a)}static isValidZone(a){if(!a)return!1;try{return new st.DateTimeFormat("en-US",{timeZone:a}).format(),!0}catch{return!1}}constructor(a){super(),this._zoneName=a,this._valid=R.isValidZone(a)}get type(){return"iana"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(a,{format:o,locale:r}={}){return dt(a,o,r,this.name)}formatOffset(a,o){return nn(this.offset(a),o)}offset(a){const o=new Date(a);if(isNaN(+o))return NaN;const r=function(rt){if(!mt[rt])try{mt[rt]=new st.DateTimeFormat("en-US",{hour12:!1,timeZone:rt,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})}catch{throw new St(rt)}return mt[rt]}(this.name);let _;const[g,k,S,M,U,B,Q]=typeof r.formatToParts==typeof isNaN?function(rt,Tt){const Lt=rt.formatToParts(Tt),Et=[];for(let Ut=0;Ut<Lt.length;Ut++){const{type:Zt,value:Jt}=Lt[Ut],He=_t[Zt];"era"===Zt?Et[He]=Jt:Gt(He)||(Et[He]=parseInt(Jt,10))}return Et}(r,o):function(rt,Tt){const Lt=rt.format(Tt).replace(/\u200E/g,""),Et=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(Lt),[,Ut,Zt,Jt,He,Yn,Do,_i]=Et;return[Jt,Ut,Zt,He,Yn,Do,_i]}(r,o);"BC"===M&&(_=1-Math.abs(+g));let K=+o;const $=K%1e3;return K-=$>=0?$:1e3+$,(f({year:_||+g,month:+k,day:+S,hour:+(24===U?0:U),minute:+B,second:+Q,millisecond:0})-K)/6e4}equals(a){return"iana"===a.type&&a.name===this.name}get isValid(){return this._valid}}const j="numeric",J="short",tt="long",nt={year:j,month:j,day:j},ot={year:j,month:J,day:j},ft={year:j,month:J,day:j,weekday:J},Mt={year:j,month:tt,day:j},oe={year:j,month:tt,day:j,weekday:tt},Ee={hour:j,minute:j},ie={hour:j,minute:j,second:j},_e={hour:j,minute:j,second:j,timeZoneName:J},Se={hour:j,minute:j,second:j,timeZoneName:tt},ln={hour:j,minute:j,hourCycle:"h23"},cn={hour:j,minute:j,second:j,hourCycle:"h23"},Ne={hour:j,minute:j,second:j,hourCycle:"h23",timeZoneName:J},be={hour:j,minute:j,second:j,hourCycle:"h23",timeZoneName:tt},ue={year:j,month:j,day:j,hour:j,minute:j},ve={year:j,month:j,day:j,hour:j,minute:j,second:j},Ge={year:j,month:J,day:j,hour:j,minute:j},Pe={year:j,month:J,day:j,hour:j,minute:j,second:j},mn={year:j,month:J,day:j,weekday:J,hour:j,minute:j},je={year:j,month:tt,day:j,hour:j,minute:j,timeZoneName:J},Ve={year:j,month:tt,day:j,hour:j,minute:j,second:j,timeZoneName:J},$e={year:j,month:tt,day:j,weekday:tt,hour:j,minute:j,timeZoneName:tt},pe={year:j,month:tt,day:j,weekday:tt,hour:j,minute:j,second:j,timeZoneName:tt},dn=["January","February","March","April","May","June","July","August","September","October","November","December"],Re=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Sn=["J","F","M","A","M","J","J","A","S","O","N","D"];function _n(d){switch(d){case"narrow":return[...Sn];case"short":return[...Re];case"long":return[...dn];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"]}}const Ke=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],un=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Nn=["M","T","W","T","F","S","S"];function pn(d){switch(d){case"narrow":return[...Nn];case"short":return[...un];case"long":return[...Ke];case"numeric":return["1","2","3","4","5","6","7"]}}const gn=["AM","PM"],jn=["Before Christ","Anno Domini"],Mn=["BC","AD"],ge=["B","A"];function X(d){switch(d){case"narrow":return[...ge];case"short":return[...Mn];case"long":return[...jn]}}let Te={},ae={};function Ue(d,a={}){const o=JSON.stringify([d,a]);let r=ae[o];return r||(r=new st.DateTimeFormat(d,a),ae[o]=r),r}let ke,Ce={},Nt={};function we(d,a,o,r){return"en"===d.listingMode()?o(a):r(a)}class ze{constructor(a,o,r){const{padTo:_,floor:g}=r,k=function(S,M){var U={};for(var B in S)Object.prototype.hasOwnProperty.call(S,B)&&M.indexOf(B)<0&&(U[B]=S[B]);if(null!=S&&"function"==typeof Object.getOwnPropertySymbols){var Q=0;for(B=Object.getOwnPropertySymbols(S);Q<B.length;Q++)M.indexOf(B[Q])<0&&Object.prototype.propertyIsEnumerable.call(S,B[Q])&&(U[B[Q]]=S[B[Q]])}return U}(r,["padTo","floor"]);if(this._padTo=_||0,this._floor=g||!1,!o||Object.keys(k).length>0){const S=Object.assign({useGrouping:!1},r);this._padTo>0&&(S.minimumIntegerDigits=_),this._inf=function(M,U){const B=JSON.stringify([M,U]);let Q=Ce[B];return Q||(Q=new st.NumberFormat(M,U),Ce[B]=Q),Q}(a,S)}}format(a){if(this._inf){const o=this._floor?Math.floor(a):a;return this._inf.format(o)}return Dt(this._floor?Math.floor(a):Pn(a,3),this._padTo)}}class hn{get dtf(){return this._dtf}constructor(a,o,r){let _;if(this._opts=r,this._opts.timeZone)this._dt=a;else if("fixed"===a.zone.type){const k=a.offset/60*-1,S=k>=0?`Etc/GMT+${k}`:`Etc/GMT${k}`;0!==a.offset&&R.create(S).isValid?(_=S,this._dt=a):(_="UTC",this._dt=0===a.offset?a:a.setZone("UTC").plus({minutes:a.offset}),this._originalZone=a.zone)}else"system"===a.zone.type?this._dt=a:"iana"===a.zone.type?(this._dt=a,_=a.zone.name):(_="UTC",this._dt=a.setZone("UTC").plus({minutes:a.offset}),this._originalZone=a.zone);const g=Object.assign(Object.assign({},this._opts),{timeZone:this._opts.timeZone||_});this._dtf=Ue(o,g)}format(){return this._originalZone?this.formatToParts().map(({value:a})=>a).join(""):this.dtf.format(this._dt.toJSDate())}formatToParts(){const a=this.dtf.formatToParts(this._dt.toJSDate());return this._originalZone?a.map(o=>{if("timeZoneName"===o.type){const r=this._originalZone.offsetName(this._dt.ts,{locale:this._dt.locale,format:this._opts.timeZoneName});return Object.assign(Object.assign({},o),{value:r})}return o}):a}resolvedOptions(){return this._dtf.resolvedOptions()}}class ne{constructor(a,o,r){this._opts=Object.assign({style:"long"},r),!o&&Ln()&&(this._rtf=function(_,g={}){const k=JSON.stringify([_,g]);let S=Nt[k];return S||(S=new st.RelativeTimeFormat(_,g),Nt[k]=S),S}(a,r))}format(a,o){return this._rtf?this._rtf.format(a,o):function(r,_,g="always",k=!1){const S=bt.normalizeUnit(r),M={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."],milliseconds:[]}[S],U=-1===["hours","minutes","seconds"].indexOf(S);if("auto"===g&&U){const rt="days"===S;switch(_){case 1:return rt?"tomorrow":`next ${M[0]}`;case-1:return rt?"yesterday":`last ${M[0]}`;case 0:return rt?"today":`this ${M[0]}`}}const B=Object.is(_,-0)||_<0,Q=Math.abs(_),K=1===Q,$=k?K?M[1]:M[2]||M[1]:K?M[0]:S;return B?`${Q} ${$} ago`:`in ${Q} ${$}`}(o,a,this._opts.numeric,"long"!==this._opts.style)}formatToParts(a,o){return this._rtf?this._rtf.formatToParts(a,o):[]}}let kt=(()=>{class d{get fastNumbers(){return void 0===this._fastNumbersCached&&(this._fastNumbersCached=this._supportsFastNumbers()),this._fastNumbersCached}constructor(o,r,_,g,k){const[S,M,U]=function(B){const Q=B.indexOf("-x-");-1!==Q&&(B=B.substring(0,Q));const K=B.indexOf("-u-");if(-1===K)return[B];{let $,rt;try{$=Ue(B).resolvedOptions(),rt=B}catch{const Ut=B.substring(0,K);$=Ue(Ut).resolvedOptions(),rt=Ut}const{numberingSystem:Tt,calendar:Lt}=$;return[rt,Tt,Lt]}}(o);var B,Q,K;this.locale=S,this.numberingSystem=r||M,this.outputCalendar=_||U,this._intl=(B=this.locale,Q=this.numberingSystem,((K=this.outputCalendar)||Q)&&(B.includes("-u-")||(B+="-u"),K&&(B+=`-ca-${K}`),Q&&(B+=`-nu-${Q}`)),B),this._weekSettings=g,this._weekdaysCache={format:{},standalone:{}},this._monthsCache={format:{},standalone:{}},this._meridiemCache=void 0,this._eraCache={},this._specifiedLocale=k,this._fastNumbersCached=void 0}static create(o,r,_,g,k=!1){const S=o||It.defaultLocale,M=S||(k?"en-US":(ke||(ke=(new st.DateTimeFormat).resolvedOptions().locale),ke)),U=r||It.defaultNumberingSystem,B=_||It.defaultOutputCalendar,Q=Ze(g)||It.defaultWeekSettings;return new d(M,U,B,Q,S)}static fromObject({locale:o,numberingSystem:r,outputCalendar:_,weekSettings:g}={}){return d.create(o,r,_,g)}static fromOpts(o){return d.create(o.locale,o.numberingSystem,o.outputCalendar,o.weekSettings,o.defaultToEN)}static resetCache(){ke=void 0,Te={},ae={},Ce={},Nt={}}clone(o){return o&&0!==Object.getOwnPropertyNames(o).length?d.create(o.locale||this._specifiedLocale,o.numberingSystem||this.numberingSystem,o.outputCalendar||this.outputCalendar,Ze(o.weekSettings)||this._weekSettings,o.defaultToEN||!1):this}dtFormatter(o,r={}){return new hn(o,this._intl,r)}equals(o){return this.locale===o.locale&&this.numberingSystem===o.numberingSystem&&this.outputCalendar===o.outputCalendar}eras(o){return we(this,o,X,r=>{const _={era:r};return this._eraCache[r]||(this._eraCache[r]=[V.utc(-40,1,1),V.utc(2017,1,1)].map(g=>this.extract(g,_,"era"))),this._eraCache[r]})}extract(o,r,_){const g=this.dtFormatter(o,r).formatToParts().find(k=>k.type.toLowerCase()===_.toLowerCase());if(!g)throw new Error(`Invalid extract field ${_}`);return g.value}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getStartOfWeek(){return this.getWeekSettings().firstDay}getWeekSettings(){return this._weekSettings?this._weekSettings:Dn()?this._getCachedWeekInfo(this.locale):an}getWeekendDays(){return this.getWeekSettings().weekend}isEnglish(){return!!~["en","en-us"].indexOf(this.locale.toLowerCase())||new st.DateTimeFormat(this._intl).resolvedOptions().locale.startsWith("en-us")}listFormatter(o={}){return function(r,_={}){const g=JSON.stringify([r,_]);let k=Te[g];return k||(k=new st.ListFormat(r,_),Te[g]=k),k}(this._intl,o)}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}meridiems(){return we(this,"long",()=>gn,()=>(void 0===this._meridiemCache&&(this._meridiemCache=[V.utc(2016,11,13,9),V.utc(2016,11,13,19)].map(o=>this.extract(o,{hour:"numeric",hourCycle:"h12"},"dayPeriod"))),this._meridiemCache))}months(o,r=!1){return we(this,o,_n,_=>{const g=r?{month:_,day:"numeric"}:{month:_},k=r?"format":"standalone";return this._monthsCache[k][_]||(this._monthsCache[k][_]=function(S){const M=[];for(let U=1;U<=12;U++){const B=V.utc(2009,U,1);M.push(S(B))}return M}(S=>this.extract(S,g,"month"))),this._monthsCache[k][_]})}numberFormatter(o={}){return new ze(this._intl,this.fastNumbers,o)}redefaultToEN(o={}){return this.clone(Object.assign(Object.assign({},o),{defaultToEN:!0}))}redefaultToSystem(o={}){return this.clone(Object.assign(Object.assign({},o),{defaultToEN:!1}))}relFormatter(o={}){return new ne(this._intl,this.isEnglish(),o)}weekdays(o,r=!1){return we(this,o,pn,_=>{const g=r?{weekday:_,year:"numeric",month:"long",day:"numeric"}:{weekday:_},k=r?"format":"standalone";return this._weekdaysCache[k][_]||(this._weekdaysCache[k][_]=function(S){const M=[];for(let U=1;U<=7;U++){const B=V.utc(2016,11,13+U);M.push(S(B))}return M}(S=>this.extract(S,g,"weekday"))),this._weekdaysCache[k][_]})}_getCachedWeekInfo(o){let r=d._weekInfoCache[o];if(!r){const _=new st.Locale(o);r="getWeekInfo"in _?_.getWeekInfo():_.weekInfo,d._weekInfoCache[o]=r}return r}_supportsFastNumbers(){return(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===st.DateTimeFormat(this._intl).resolvedOptions().numberingSystem)}}return d._weekInfoCache={},d})(),Fe=null;class zt extends yt{static get utcInstance(){return null===Fe&&(Fe=new zt(0)),Fe}get isValid(){return!0}get ianaName(){return 0===this._fixed?"Etc/UTC":`Etc/GMT${nn(-this._fixed,"narrow")}`}get name(){return 0===this._fixed?"UTC":`UTC${nn(this._fixed,"narrow")}`}get type(){return"fixed"}get isUniversal(){return!0}constructor(a){super(),this._fixed=a}static instance(a){return 0===a?zt.utcInstance:new zt(a)}static parseSpecifier(a){if(a){const o=a.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(o)return new zt(Pt(o[1],o[2]))}return null}offsetName(){return this.name}formatOffset(a,o){return nn(this._fixed,o)}offset(){return this._fixed}equals(a){return"fixed"===a.type&&a._fixed===this._fixed}}class ye extends yt{constructor(a){super(),this._zoneName=a,Object.setPrototypeOf(this,ye.prototype)}get type(){return"invalid"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let Yt=null;class he extends yt{static get instance(){return null===Yt&&(Yt=new he),Yt}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(a,{format:o,locale:r}){return dt(a,o,r)}formatOffset(a,o){return nn(this.offset(a),o)}offset(a){return-new Date(a).getTimezoneOffset()}equals(a){return"system"===a.type}get isValid(){return!0}}const se=(d,a)=>{if(Gt(d)||null===d)return a;if(d instanceof yt)return d;if("string"==typeof d){const o=d.toLowerCase();return"default"===o?a:"local"===o||"system"===o?he.instance:"utc"===o||"gmt"===o?zt.utcInstance:zt.parseSpecifier(o)||R.create(d)}return Wt(d)?zt.instance(d):"object"==typeof d&&"offset"in d&&"function"==typeof d.offset?d:new ye(d)};let me,We,Xe,fn,xn=()=>Date.now(),tn="system",bn=60,vn=!1;class It{static set defaultLocale(a){me=a}static get defaultLocale(){return me}static set defaultNumberingSystem(a){We=a}static get defaultNumberingSystem(){return We}static set defaultOutputCalendar(a){Xe=a}static get defaultOutputCalendar(){return Xe}static set defaultWeekSettings(a){fn=Ze(a)}static get defaultWeekSettings(){return fn}static set defaultZone(a){tn=a}static get defaultZone(){return se(tn,he.instance)}static set defaultZoneLike(a){tn=a}static set now(a){xn=a}static get now(){return xn}static set throwOnInvalid(a){vn=a}static get throwOnInvalid(){return vn}static set twoDigitCutoffYear(a){bn=a%100}static get twoDigitCutoffYear(){return bn}static resetCaches(){kt.resetCache(),R.resetCache()}}class Kt{constructor(a,o){this.reason=a,this.explanation=o,this._formattedExplanation="",o&&(this._formattedExplanation=`: ${o}`)}toMessage(){return`${this.reason}${this._formattedExplanation}`}}const Tn=[0,31,59,90,120,151,181,212,243,273,304,334],Cn=[0,31,60,91,121,152,182,213,244,274,305,335];function y(d,a){return new Kt("unit out of range",`you specified ${a} (of type ${typeof a}) as a ${d}, which is invalid`)}function q(d,a,o){return o+(en(d)?Cn:Tn)[a-1]}function T(d,a){const o=en(d)?Cn:Tn,r=o.findIndex(_=>_<a);return{month:r+1,day:a-o[r]}}function O(d,a,o){const r=new Date(Date.UTC(d,a-1,o));d<100&&d>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const _=r.getUTCDay();return 0===_?7:_}function P(d,a=an.minimalDays,o=an.firstDay){const{year:r,month:_,day:g}=d,k=q(r,_,g),S=In(O(r,_,g),o);let M,U=Math.floor((k-S+14-a)/7);return U<1?(M=r-1,U=L(M,a,o)):U>L(r,a,o)?(M=r+1,U=1):M=r,Object.assign({weekYear:M,weekNumber:U,weekday:S},Je(d))}function it(d,a=an.minimalDays,o=an.firstDay){const{weekYear:r,weekNumber:_,weekday:g}=d,k=In(O(r,1,a),o),S=Z(r);let M,U=7*_+g-k-7+a;U<1?(M=r-1,U+=Z(M)):U>S?(M=r+1,U-=Z(r)):M=r;const{month:B,day:Q}=T(M,U);return Object.assign({year:M,month:B,day:Q},Je(d))}function xt(d){const{year:a,month:o,day:r}=d,_=q(a,o,r);return Object.assign({year:a,ordinal:_},Je(d))}function fe(d){const{year:a,ordinal:o}=d,{month:r,day:_}=T(a,o);return Object.assign({year:a,month:r,day:_},Je(d))}function qt(d){const a=Me(d.year),o=Vt(d.month,1,12),r=Vt(d.day,1,z(d.year,d.month));return a?o?!r&&y("day",d.day):y("month",d.month):y("year",d.year)}function Bn(d){const{hour:a,minute:o,second:r,millisecond:_}=d,g=Vt(a,0,23)||24===a&&0===o&&0===r&&0===_,k=Vt(o,0,59),S=Vt(r,0,59),M=Vt(_,0,999);return g?k?S?!M&&y("millisecond",_):y("second",r):y("minute",o):y("hour",a)}function In(d,a){return(d-a+7)%7+1}function Oe(d,a){if(Ot(d.localWeekday)||Ot(d.localWeekNumber)||Ot(d.localWeekYear)){if(Ot(d.weekday)||Ot(d.weekNumber)||Ot(d.weekYear))throw new ht("Cannot mix locale-based week fields with ISO-based week fields");return Ot(d.localWeekday)&&(d.weekday=d.localWeekday),Ot(d.localWeekNumber)&&(d.weekNumber=d.localWeekNumber),Ot(d.localWeekYear)&&(d.weekYear=d.localWeekYear),delete d.localWeekday,delete d.localWeekNumber,delete d.localWeekYear,{minDaysInFirstWeek:a.getMinDaysInFirstWeek(),startOfWeek:a.getStartOfWeek()}}return{minDaysInFirstWeek:an.minimalDays,startOfWeek:an.firstDay}}function Ot(d){return void 0!==d}function Gt(d){return void 0===d}function Wt(d){return"number"==typeof d}function Me(d){return Wt(d)&&d%1==0}function Ln(){try{return void 0!==st&&!!st.RelativeTimeFormat}catch{return!1}}function Dn(){try{return void 0!==st&&!!st.Locale&&("weekInfo"in st.Locale.prototype||"getWeekInfo"in st.Locale.prototype)}catch{return!1}}function Hn(d,a,o){if(0!==d.length)return d.reduce((r,_)=>{const g=[a(_),_];return o(r[0],g[0])===r[0]?r:g},[a(d[0]),d[0]])[1]}function Ze(d){if(d){if("object"!=typeof d)throw new wt("Week settings must be an object");if(!Vt(d.firstDay,1,7)||!Vt(d.minimalDays,1,7)||!Array.isArray(d.weekend)||d.weekend.some(a=>!Vt(a,1,7)))throw new wt("Invalid week settings");return{firstDay:d.firstDay,minimalDays:d.minimalDays,weekend:d.weekend}}}function Vt(d,a,o){return Me(d)&&d>=a&&d<=o}function Dt(d,a=2){const o=+d<0?"-":"",r=o?-1*+d:d;let _;return _=r.toString().length<a?("0".repeat(a)+r).slice(-a):r.toString(),`${o}${_}`}function de(d){if(d)return parseInt(d,10)}function re(d){if(d)return parseFloat(d)}function En(d){if(!Gt(d)&&null!==d&&""!==d){const a=1e3*parseFloat("0."+d);return Math.floor(a)}}function Pn(d,a,o=!1){const r=Math.pow(10,a);return(o?Math.trunc:Math.round)(d*r)/r}function en(d){return d%4==0&&(d%100!=0||d%400==0)}function Z(d){return en(d)?366:365}function z(d,a){const o=(r=a-1)-12*Math.floor(r/12)+1;var r;return[31,en(d+(a-o)/12)?29:28,31,30,31,30,31,31,30,31,30,31][o-1]}function f(d){let a=Date.UTC(d.year,d.month-1,d.day,d.hour,d.minute,d.second,d.millisecond);return d.year<100&&d.year>=0&&(a=new Date(a),a.setUTCFullYear(d.year,d.month-1,d.day)),+a}function A(d,a,o){return-In(O(d,1,a),o)+a-1}function L(d,a=4,o=1){const r=A(d,a,o),_=A(d+1,a,o);return(Z(d)-r+_)/7}function G(d){return d>99?d:d>It.twoDigitCutoffYear?1900+d:2e3+d}function dt(d,a,o,r){const _=new Date(d),k=Object.assign({timeZoneName:a},{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:r}),S=new st.DateTimeFormat(o,k).formatToParts(_).find(M=>"timezonename"===M.type.toLowerCase());return S?S.value:null}function Pt(d,a){let o=parseInt(d,10);Number.isNaN(o)&&(o=0);const r=parseInt(a,10)||0;return 60*o+(o<0||Object.is(o,-0)?-r:r)}function Xt(d){const a=Number(d);if("boolean"==typeof d||""===d||Number.isNaN(a))throw new wt(`Invalid unit value ${d}`);return a}function te(d,a){return Object.keys(d).reduce((o,r)=>(null!=d[r]&&(o[a(r)]=Xt(d[r])),o),{})}function nn(d,a){const o=Math.trunc(Math.abs(d/60)),r=Math.trunc(Math.abs(d%60)),_=d>=0?"+":"-";switch(a){case"short":return`${_}${Dt(o,2)}:${Dt(r,2)}`;case"narrow":return`${_}${o}${r>0?`:${r}`:""}`;case"techie":return`${_}${Dt(o,2)}${Dt(r,2)}`;default:throw new RangeError(`Value format ${a} is out of range for property format`)}}function Je(d){return a=d,["hour","minute","second","millisecond"].reduce((r,_)=>(r[_]=a[_],r),{});var a}const on=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Xn=on.slice(0).reverse(),vo=["years","months","days","hours","minutes","seconds","milliseconds"],Uo={year:"year",years:"year",quarter:"quarter",quarters:"quarter",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",localweeknumber:"localWeekNumber",localweeknumbers:"localWeekNumber",localweekday:"localWeekday",localweekdays:"localWeekday",localweekyear:"localWeekYear",localweekyears:"localWeekYear",minute:"minute",minutes:"minute",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"},an={firstDay:1,minimalDays:4,weekend:[6,7]};function To(d,a){let o="";for(const r of d)o+=r.literal?r.val:a(r.val);return o}const zo={D:nt,DD:ot,DDD:Mt,DDDD:oe,t:Ee,tt:ie,ttt:_e,tttt:Se,T:ln,TT:cn,TTT:Ne,TTTT:be,f:ue,ff:Ge,fff:je,ffff:$e,F:ve,FF:Pe,FFF:Ve,FFFF:pe};class $t{constructor(a,o){this._opts=o,this._loc=a,this._systemLoc=void 0}static create(a,o={}){return new $t(a,o)}static macroTokenToFormatOpts(a){return zo[a]}static parseFormat(a){let o=null,r="",_=!1;const g=[];for(let k=0;k<a.length;k++){const S=a.charAt(k);"'"===S?(r.length>0&&g.push({literal:_||/^\s+$/.test(r),val:r}),o=null,r="",_=!_):_||S===o?r+=S:(r.length>0&&g.push({literal:/^\s+$/.test(r),val:r}),r=S,o=S)}return r.length>0&&g.push({literal:_||/^\s+$/.test(r),val:r}),g}dtFormatter(a,o={}){return this._loc.dtFormatter(a,Object.assign(Object.assign({},this._opts),o))}formatDateTime(a,o){return this.dtFormatter(a,o).format()}formatDateTimeFromString(a,o){const r="en"===this._loc.listingMode(),_=this._loc.outputCalendar&&"gregory"!==this._loc.outputCalendar,g=(K,$)=>this._loc.extract(a,K,$),k=K=>a.isOffsetFixed&&0===a.offset&&K.allowZ?"Z":a.isValid?a.zone.formatOffset(a.ts,K.format):"",M=(K,$)=>{return r?(rt=a,_n(K)[rt.month-1]):g($?{month:K}:{month:K,day:"numeric"},"month");var rt},U=(K,$)=>{return r?(rt=a,pn(K)[rt.weekday-1]):g($?{weekday:K}:{weekday:K,month:"long",day:"numeric"},"weekday");var rt},B=K=>{const $=$t.macroTokenToFormatOpts(K);return $?this.formatWithSystemDefault(a,$):K},Q=K=>{return r?($=a,X(K)[$.year<0?0:1]):g({era:K},"era");var $};return To($t.parseFormat(o),K=>{switch(K){case"S":return this.num(a.millisecond);case"u":case"SSS":return this.num(a.millisecond,3);case"s":return this.num(a.second);case"ss":return this.num(a.second,2);case"uu":return this.num(Math.floor(a.millisecond/10),2);case"uuu":return this.num(Math.floor(a.millisecond/100));case"m":return this.num(a.minute);case"mm":return this.num(a.minute,2);case"h":return this.num(a.hour%12==0?12:a.hour%12);case"hh":return this.num(a.hour%12==0?12:a.hour%12,2);case"H":return this.num(a.hour);case"HH":return this.num(a.hour,2);case"Z":return k({format:"narrow",allowZ:this._opts.allowZ});case"ZZ":return k({format:"short",allowZ:this._opts.allowZ});case"ZZZ":return k({format:"techie",allowZ:this._opts.allowZ});case"ZZZZ":return a.zone.offsetName(a.ts,{format:"short",locale:this._loc.locale})||"";case"ZZZZZ":return a.zone.offsetName(a.ts,{format:"long",locale:this._loc.locale})||"";case"z":return a.zoneName||"";case"a":return r?gn[a.hour<12?0:1]:g({hour:"numeric",hourCycle:"h12"},"dayPeriod");case"d":return _?g({day:"numeric"},"day"):this.num(a.day);case"dd":return _?g({day:"2-digit"},"day"):this.num(a.day,2);case"c":case"E":return this.num(a.weekday);case"ccc":return U("short",!0);case"cccc":return U("long",!0);case"ccccc":return U("narrow",!0);case"EEE":return U("short",!1);case"EEEE":return U("long",!1);case"EEEEE":return U("narrow",!1);case"L":return _?g({month:"numeric",day:"numeric"},"month"):this.num(a.month);case"LL":return _?g({month:"2-digit",day:"numeric"},"month"):this.num(a.month,2);case"LLL":return M("short",!0);case"LLLL":return M("long",!0);case"LLLLL":return M("narrow",!0);case"M":return _?g({month:"numeric"},"month"):this.num(a.month);case"MM":return _?g({month:"2-digit"},"month"):this.num(a.month,2);case"MMM":return M("short",!1);case"MMMM":return M("long",!1);case"MMMMM":return M("narrow",!1);case"y":return _?g({year:"numeric"},"year"):this.num(a.year);case"yy":return _?g({year:"2-digit"},"year"):this.num(parseInt(a.year.toString().slice(-2),10),2);case"yyyy":return _?g({year:"numeric"},"year"):this.num(a.year,4);case"yyyyyy":return _?g({year:"numeric"},"year"):this.num(a.year,6);case"G":return Q("short");case"GG":return Q("long");case"GGGGG":return Q("narrow");case"kk":return this.num(parseInt(a.weekYear.toString().slice(-2),10),2);case"kkkk":return this.num(a.weekYear,4);case"W":return this.num(a.weekNumber);case"WW":return this.num(a.weekNumber,2);case"o":return this.num(a.ordinal);case"ooo":return this.num(a.ordinal,3);case"q":return this.num(a.quarter);case"qq":return this.num(a.quarter,2);case"X":return this.num(Math.floor(a.ts/1e3));case"x":return this.num(a.ts);default:return B(K)}})}formatDateTimeParts(a,o){return this.dtFormatter(a,o).formatToParts()}formatDurationFromString(a,o){const r=k=>{switch(k[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"M":return"months";case"y":return"years";default:return}},_=$t.parseFormat(o),g=_.reduce((k,{literal:S,val:M})=>S?k:k.concat(M),[]);return To(_,(k=>S=>{const M=r(S);return M?this.num(k.get(M),S.length):S})(a.shiftTo(...g.map(r).filter(k=>!!k))))}formatInterval(a,o={}){if(!a.isValid)throw Error("Invalid Interval provided!");return this.dtFormatter(a.start,o).dtf.formatRange(a.start.toJSDate(),a.end.toJSDate())}formatWithSystemDefault(a,o){return void 0===this._systemLoc&&(this._systemLoc=this._loc.redefaultToSystem()),this._systemLoc.dtFormatter(a,Object.assign(Object.assign({},this._opts),o)).format()}num(a,o=0){if(this._opts.forceSimple)return Dt(a,o);const r=Object.assign({},this._opts);return o>0&&(r.padTo=o),this._loc.numberFormatter(r).format(a)}resolvedOptions(a,o={}){return this.dtFormatter(a,o).resolvedOptions()}}function kn(...d){const a=d.reduce((o,r)=>o+r.source,"");return RegExp(`^${a}$`)}function wn(...d){return a=>d.reduce(([o,r,_],g)=>{const[k,S,M]=g(a,_);return[Object.assign(Object.assign({},o),k),S||r,M]},[{},null,1]).slice(0,2)}function yn(d,...a){if(null==d)return[null,null];for(const[o,r]of a){const _=o.exec(d);if(_)return r(_)}return[null,null]}function Co(...d){return(a,o)=>{const r={};let _;for(_=0;_<d.length;_++)r[d[_]]=de(a[o+_]);return[r,null,o+_]}}const ko=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,wo=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,to=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,yo=RegExp(`${to.source}(?:${wo.source}?(?:\\[(${ko.source})\\])?)?`),eo=RegExp(`(?:T${yo.source})?`),Fo=Co("weekYear","weekNumber","weekday"),Jo=Co("year","ordinal"),Oo=RegExp(`${to.source} ?(?:${wo.source}|(${ko.source}))?`),qo=RegExp(`(?: ${Oo.source})?`);function Ie(d,a,o){return Gt(d[a])?o:de(d[a])}function On(d,a){return[{hour:Ie(d,a,0),minute:Ie(d,a+1,0),second:Ie(d,a+2,0),millisecond:En(d[a+3])},null,a+4]}function Un(d,a){const o=!d[a]&&!d[a+1],r=Pt(d[a+1],d[a+2]);return[{},o?null:zt.instance(r),a+3]}function zn(d,a){return[{},d[a]?R.create(d[a]):null,a+1]}const Qo=RegExp(`^T?${to.source}$`),Yo=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Bo(d){const[a,o,r,_,g,k,S,M,U]=d,B=a.startsWith("-"),Q=!!M&&M.startsWith("-"),K=($,rt=!1)=>"number"==typeof $&&(rt||$&&B)?-$:$;return[{years:K(re(o)),months:K(re(r)),weeks:K(re(_)),days:K(re(g)),hours:K(re(k)),minutes:K(re(S)),seconds:K(re(M),"-0"===M),milliseconds:K(En(U),Q)}]}const Ho={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function no(d,a,o,r,_,g,k){let S;return d&&(S=d.length>3?Ke.indexOf(d)+1:un.indexOf(d)+1),{year:2===a.length?G(de(a)):de(a),month:Re.indexOf(o)+1,day:de(r),hour:de(_),minute:de(g),second:de(k),weekday:S}}const Go=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Vo(d){const[,a,o,r,_,g,k,S,M,U,B,Q]=d,K=no(a,_,r,o,g,k,S);let $;return $=M?Ho[M]:U?0:Pt(B,Q),[K,new zt($)]}const $o=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,b=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,D=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function p(d){const[,a,o,r,_,g,k,S]=d;return[no(a,_,r,o,g,k,S),zt.utcInstance]}function w(d){const[,a,o,r,_,g,k,S]=d;return[no(a,S,o,r,_,g,k),zt.utcInstance]}const N=kn(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,eo),I=kn(/(\d{4})-?W(\d\d)(?:-?(\d))?/,eo),F=kn(/(\d{4})-?(\d{3})/,eo),W=kn(yo),lt=wn(function(d,a){return[{year:Ie(d,a,0),month:Ie(d,a+1,1),day:Ie(d,a+2,1)},null,a+3]},On,Un,zn),pt=wn(Fo,On,Un,zn),Ct=wn(Jo,On,Un,zn),xe=wn(On,Un,zn),oo=kn(/(\d{4})-(\d\d)-(\d\d)/,qo),io=kn(Oo),Gn=wn(On,Un,zn),Zn={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Hi=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Zn),$i=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Zn);function ui(d,a){var o;let r=null!==(o=a.milliseconds)&&void 0!==o?o:0;for(const _ of Xn.slice(1))a[_]&&(r+=a[_]*d[_].milliseconds);return r}class bt{static get _INVALID(){return"Invalid Duration"}get conversionAccuracy(){return this._conversionAccuracy}get days(){return this.isValid?this._values.days||0:NaN}get hours(){return this.isValid?this._values.hours||0:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this._invalid}get locale(){return this.isValid?this._loc.locale:void 0}get matrix(){return this._matrix}get milliseconds(){return this.isValid?this._values.milliseconds||0:NaN}get minutes(){return this.isValid?this._values.minutes||0:NaN}get months(){return this.isValid?this._values.months||0:NaN}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get quarters(){return this.isValid?this._values.quarters||0:NaN}get seconds(){return this.isValid?this._values.seconds||0:NaN}get weeks(){return this.isValid?this._values.weeks||0:NaN}get years(){return this.isValid?this._values.years||0:NaN}constructor(a){let o,r;"longterm"===a.conversionAccuracy?(r="longterm",o=$i):(r="casual",o=Hi),a.matrix&&(o=a.matrix),this._values=a.values||{},this._loc=a.loc||kt.create(),this._conversionAccuracy=r,this._invalid=a.invalid||null,this._matrix=o,this._isLuxonDuration=!0}static fromDurationLike(a){if(Wt(a))return bt.fromMillis(a);if(bt.isDuration(a))return a;if("object"==typeof a)return bt.fromObject(a);throw new wt(`Unknown duration argument ${a} of type ${typeof a}`)}static fromISO(a,o){const[r]=yn(a,[Yo,Bo]);return r?bt.fromObject(r,o):bt.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromISOTime(a,o={}){const[r]=yn(a,[Qo,wn(On)]);return r?bt.fromObject(r,o):bt.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromMillis(a,o={}){return bt.fromObject({milliseconds:a},o)}static fromObject(a,o={}){if(null==a||"object"!=typeof a)throw new wt("Duration.fromObject: argument expected to be an object, got "+(null===a?"null":typeof a));return new bt({values:te(a,bt.normalizeUnit),loc:kt.fromObject(o),conversionAccuracy:o.conversionAccuracy,matrix:o.matrix})}static invalid(a,o){if(!a)throw new wt("need to specify a reason the Duration is invalid");const r=a instanceof Kt?a:new Kt(a,o);if(It.throwOnInvalid)throw new t(r);return new bt({invalid:r})}static isDuration(a){return!!a&&a._isLuxonDuration||!1}static normalizeUnit(a){const o={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",localWeekNumber:"localWeekNumbers",localWeekYear:"localWeekYears",localWeekday:"localWeekdays",localWeekNumbers:"localWeekNumbers",localWeekYears:"localWeekYears",localWeekdays:"localWeekdays",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[a];if(!o)throw new H(a);return o}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this._values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}as(a){return this.shiftTo(a).get(a)}equals(a){if(!this.isValid||!a.isValid||!this._loc.equals(a._loc))return!1;for(const _ of on)if(r=a._values[_],!(void 0===(o=this._values[_])||0===o?void 0===r||0===r:o===r))return!1;var o,r;return!0}get(a){return this[bt.normalizeUnit(a)]}getMaxUnit(a=!1){const o=a?vo:on,r=this.shiftTo(...o).toObject();return o.find(_=>(r[_]||0)>0)||Xn[0]}mapUnits(a){if(!this.isValid)return this;const o={};return Object.keys(this._values).forEach(r=>{o[r]=Xt(a(this._values[r],r))}),this._clone(this,{values:o},!0)}minus(a){if(!this.isValid)return this;const o=bt.fromDurationLike(a);return this.plus(o.negate())}negate(){if(!this.isValid)return this;const a={};return Object.keys(this._values).forEach(o=>{a[o]=0===this._values[o]?0:-this._values[o]}),this._clone(this,{values:a},!0)}normalize(){if(!this.isValid)return this;const a=this.toObject();return function(o,r){const _=ui(o,r)<0?-1:1;Xn.reduce((g,k)=>{if(Gt(r[k]))return g;if(g){const M=o[k][g],U=Math.floor(r[g]*_/M);r[k]+=U*_,r[g]-=U*M*_}return k},null),on.reduce((g,k)=>{if(Gt(r[k]))return g;if(g){const S=r[g]%1;r[g]-=S,r[k]+=S*o[g][k]}return k},null)}(this._matrix,a),this._clone(this,{values:a},!0)}plus(a){if(!this.isValid)return this;const o=bt.fromDurationLike(a),r={};return on.forEach(_=>{void 0===o._values[_]&&void 0===this._values[_]||(r[_]=o.get(_)+this.get(_))}),this._clone(this,{values:r},!0)}reconfigure({locale:a,numberingSystem:o,conversionAccuracy:r,matrix:_}={}){const g={loc:this._loc.clone({locale:a,numberingSystem:o}),matrix:_,conversionAccuracy:r};return this._clone(this,g)}rescale(){if(!this.isValid)return this;const a=function(o={}){return Object.entries(o).reduce((r,[_,g])=>(0!==g&&(r[_]=g),r),{})}(this.normalize().shiftToAll().toObject());return this._clone(this,{values:a},!0)}set(a){if(!this.isValid)return this;const o=Object.assign(Object.assign({},this._values),te(a,bt.normalizeUnit));return this._clone(this,{values:o})}shiftTo(...a){if(!this.isValid||0===a.length)return this;a=a.map(k=>bt.normalizeUnit(k));const o={},r={},_=this.toObject();let g;return on.forEach(k=>{if(a.indexOf(k)>=0){g=k;let S=0;Object.keys(r).forEach(U=>{S+=this._matrix[U][k]*r[U],r[U]=0}),Wt(_[k])&&(S+=_[k]);const M=Math.trunc(S);o[k]=M,r[k]=(1e3*S-1e3*M)/1e3}else Wt(_[k])&&(r[k]=_[k])}),Object.keys(r).forEach(k=>{const S=r[k];0!==S&&(o[g]+=k===g?S:S/this._matrix[g][k])}),this._clone(this,{values:o},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}toFormat(a,o={floor:!0}){const r=Object.assign(Object.assign({},o),{floor:!1!==o.round&&!1!==o.floor});return this.isValid?$t.create(this._loc,r).formatDurationFromString(this,a):bt._INVALID}toHuman(a={}){if(!this.isValid)return bt._INVALID;const o=this.getMaxUnit(!0),r=a.onlyHumanUnits?vo:on,_=this.shiftTo(...r.slice(r.indexOf(o))).toObject(),g=r.map(S=>{const M=_[S];return Gt(M)||0===M?null:this._loc.numberFormatter(Object.assign(Object.assign({style:"unit",unitDisplay:"long"},a),{unit:S.slice(0,-1)})).format(M)}).filter(S=>S),k=Object.assign({type:"conjunction",style:a.listStyle||"narrow"},a);return this._loc.listFormatter(k).format(g)}toISO(){if(!this.isValid)return null;let a="P";return 0!==this.years&&(a+=this.years+"Y"),0===this.months&&0===this.quarters||(a+=this.months+3*this.quarters+"M"),0!==this.weeks&&(a+=this.weeks+"W"),0!==this.days&&(a+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(a+="T"),0!==this.hours&&(a+=this.hours+"H"),0!==this.minutes&&(a+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(a+=Pn(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===a&&(a+="T0S"),a}toISOTime(a={}){if(!this.isValid)return null;const o=this.toMillis();return o<0||o>=864e5?null:(a=Object.assign(Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},a),{includeOffset:!1}),V.fromMillis(o,{zone:"UTC"}).toISOTime(a))}toJSON(){return this.toISO()}toMillis(){return this.isValid?ui(this.matrix,this._values):NaN}toObject(){return this.isValid?Object.assign({},this._values):{}}toString(){return this.toISO()}valueOf(){return this.toMillis()}_clone(a,o,r=!1){const _={values:r?o.values:Object.assign(Object.assign({},a._values),o.values||{}),loc:a._loc.clone(o.loc),conversionAccuracy:o.conversionAccuracy||a.conversionAccuracy,matrix:o.matrix||a.matrix};return new bt(_)}}const Vn="Invalid Interval";function ao(d){if(V.isDateTime(d))return d;if(d&&d.valueOf&&Wt(d.valueOf()))return V.fromJSDate(d);if(d&&"object"==typeof d)return V.fromObject(d);throw new wt(`Unknown datetime argument: ${d}, of type ${typeof d}`)}class Ft{get end(){return this.isValid?this._e:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this.invalidReason}get start(){return this.isValid?this._s:null}constructor(a){this._s=a.start,this._e=a.end,this._invalid=a.invalid||null,this._isLuxonInterval=!0}static after(a,o){const r=bt.fromDurationLike(o),_=ao(a);return new Ft({start:_,end:_?_.plus(r):void 0})}static before(a,o){const r=bt.fromDurationLike(o),_=ao(a);return new Ft({start:_?_.minus(r):void 0,end:_})}static fromDateTimes(a,o){const r=ao(a),_=ao(o);return S=_,((k=r)&&k.isValid?S&&S.isValid?S<k?Ft.invalid("end before start",`The end of an interval must be after its start, but you had start=${k.toISO()} and end=${S.toISO()}`):void 0:Ft.invalid("missing or invalid end"):Ft.invalid("missing or invalid start"))||new Ft({start:r,end:_});var k,S}static fromISO(a,o={}){const[r,_]=(a||"").split("/",2);if(r&&_){let g,k,S,M;try{g=V.fromISO(r,o),k=g.isValid}catch{k=!1}try{S=V.fromISO(_,o),M=S.isValid}catch{M=!1}if(k&&M)return Ft.fromDateTimes(g,S);if(k){const U=bt.fromISO(_,o);if(U.isValid)return Ft.after(g,U)}else if(M){const U=bt.fromISO(r,o);if(U.isValid)return Ft.before(S,U)}}return Ft.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static invalid(a,o){if(!a)throw new wt("need to specify a reason the Interval is invalid");const r=a instanceof Kt?a:new Kt(a,o);if(It.throwOnInvalid)throw new ut(r);return new Ft({invalid:r})}static isInterval(a){return!!a&&a._isLuxonInterval||!1}static merge(a){const[o,r]=a.sort((_,g)=>_._s.valueOf()-g._s.valueOf()).reduce(([_,g],k)=>g?g.overlaps(k)||g.abutsStart(k)?[_,g.union(k)]:[_.concat([g]),k]:[_,k],[[],null]);return r&&o.push(r),o}static xor(a){let o=null,r=0;const _=[],g=a.map(S=>[{time:S._s,type:"s"},{time:S._e,type:"e"}]),k=Array.prototype.concat(...g).sort((S,M)=>+S.time-+M.time);for(const S of k)r+="s"===S.type?1:-1,1===r?o=S.time:(o&&o.valueOf()!==S.time.valueOf()&&_.push(Ft.fromDateTimes(o,S.time)),o=null);return Ft.merge(_)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this._s.toISO()}, end: ${this._e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}abutsEnd(a){return+a._e==+this._s}abutsStart(a){return+this._e==+a._s}contains(a){return this._s<=a&&this._e>a}count(a="milliseconds",o){if(!this.isValid)return NaN;const r=this.start.startOf(a,o);let _;return _=o?.useLocaleWeeks?this.end.reconfigure({locale:r.locale}):this.end,_=_.startOf(a,o),Math.floor(_.diff(r,a).get(a))+ +(_.valueOf()!==this.end.valueOf())}difference(...a){return Ft.xor([this].concat(a)).map(o=>this.intersection(o)).filter(o=>o&&!o.isEmpty())}divideEqually(a){return this.isValid?this.splitBy({milliseconds:this.length()/a}).slice(0,a):[]}engulfs(a){return!!this.isValid&&this._s<=a._s&&this._e>=a._e}equals(a){return!(!this.isValid||!a.isValid)&&this._s.equals(a._s)&&this._e.equals(a._e)}hasSame(a){return!!this.isValid&&(this.isEmpty()||this._e.minus(1).hasSame(this._s,a))}intersection(a){if(!this.isValid)return this;const o=this._s>a._s?this._s:a._s,r=this._e<a._e?this._e:a._e;return o>=r?null:Ft.fromDateTimes(o,r)}isAfter(a){return!!this.isValid&&this._s>a}isBefore(a){return!!this.isValid&&this._e<=a}isEmpty(){return this._s.valueOf()===this._e.valueOf()}length(a="milliseconds"){return this.toDuration(a).get(a)}mapEndpoints(a){return Ft.fromDateTimes(a(this._s),a(this._e))}overlaps(a){return this._e>a._s&&this._s<a._e}set({start:a,end:o}={}){return this.isValid?Ft.fromDateTimes(a||this._s,o||this._e):this}splitAt(...a){const o=a.map(ao).filter(k=>this.contains(k)).sort((k,S)=>k.toMillis()-S.toMillis()),r=[];let _=this._s,g=0;for(;_<this._e;){const k=o[g]||this._e,S=+k>+this._e?this._e:k;r.push(Ft.fromDateTimes(_,S)),_=S,g+=1}return r}splitBy(a){const o=bt.fromDurationLike(a);if(!this.isValid||!o.isValid||0===o.as("milliseconds"))return[];let r,_=this._s,g=1;const k=[];for(;_<this._e;){const S=this.start.plus(o.mapUnits(M=>M*g));r=+S>+this._e?this._e:S,k.push(Ft.fromDateTimes(_,r)),_=r,g+=1}return k}toDuration(a="milliseconds",o={}){return this.isValid?this._e.diff(this._s,a,o):bt.invalid(this._invalid.reason)}toFormat(a,{separator:o=" - "}={}){return this.isValid?`${this._s.toFormat(a)}${o}${this._e.toFormat(a)}`:Vn}toISO(a={}){return this.isValid?`${this._s.toISO(a)}/${this._e.toISO(a)}`:Vn}toISODate(){return this.isValid?`${this._s.toISODate()}/${this._e.toISODate()}`:Vn}toISOTime(a={}){return this.isValid?`${this._s.toISOTime(a)}/${this._e.toISOTime(a)}`:Vn}toLocaleString(a=nt,o={}){return this.isValid?$t.create(this._s.loc.clone(o),a).formatInterval(this):Vn}toString(){return this.isValid?`[${this._s.toISO()} \u2013 ${this._e.toISO()})`:Vn}union(a){return this.isValid?Ft.fromDateTimes(this._s<a._s?this._s:a._s,this._e>a._e?this._e:a._e):this}}class so{static eras(a="short",{locale:o}={}){return kt.create(o,void 0,"gregory").eras(a)}static features(){return{relative:Ln(),localeWeek:Dn()}}static getMinimumDaysInFirstWeek({locale:a,locObj:o}={}){return(o||kt.create(a)).getMinDaysInFirstWeek()}static getStartOfWeek({locale:a,locObj:o}={}){return(o||kt.create(a)).getStartOfWeek()}static getWeekendWeekdays({locale:a,locObj:o}={}){return(o||kt.create(a)).getWeekendDays().slice()}static hasDST(a=It.defaultZone){const o=V.now().setZone(a).set({month:12});return!a.isUniversal&&o.offset!==o.set({month:6}).offset}static isValidIANAZone(a){return R.isValidZone(a)}static meridiems({locale:a}={}){return kt.create(a).meridiems()}static months(a="long",{locale:o=null,locObj:r=null,numberingSystem:_=null,outputCalendar:g="gregory"}={}){return(r||kt.create(o,_,g)).months(a)}static monthsFormat(a="long",{locale:o,locObj:r,numberingSystem:_,outputCalendar:g="gregory"}={}){return(r||kt.create(o,_,g)).months(a,!0)}static normalizeZone(a){return se(a,It.defaultZone)}static weekdays(a="long",{locale:o,locObj:r,numberingSystem:_}={}){return(r||kt.create(o,_)).weekdays(a)}static weekdaysFormat(a="long",{locale:o,locObj:r,numberingSystem:_}={}){return(r||kt.create(o,_)).weekdays(a,!0)}}function Ro(d,a){const o=_=>_.toUTC(0,{keepLocalTime:!0}).startOf("days").valueOf(),r=o(a)-o(d);return Math.floor(bt.fromMillis(r).as("days"))}const Ko={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},pi={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ki=Ko.hanidec.replace(/[\[|\]]/g,"").split("");function Le(d,a=""){return new RegExp(`${Ko[d.numberingSystem||"latn"]}${a}`)}function qe(d,a=(o=>o)){return{regex:d,deser:([o])=>a(function(r){const _=parseInt(r,10);if(!isNaN(_))return _;let g="";for(let k=0;k<r.length;k++){const S=r.charCodeAt(k);if(-1!==r[k].search(Ko.hanidec))g+=Ki.indexOf(r[k]);else for(const M in pi){const[U,B]=pi[M];if(S>=U&&S<=B){g+=S-U;break}}}return parseInt(g,10)}(o))}}const gi=`[ ${String.fromCharCode(160)}]`,hi=new RegExp(gi,"g");function Xi(d){return d.replace(/\./g,"\\.?").replace(hi,gi)}function fi(d){return d.replace(/\./g,"").replace(hi," ").toLowerCase()}function De(d,a){return{regex:RegExp(d.map(Xi).join("|")),deser:([o])=>d.findIndex(r=>fi(o)===fi(r))+a}}function xi(d,a){return{regex:d,deser:([,o,r])=>Pt(o,r),groups:a}}function bi(d){return{regex:d,deser:([a])=>a}}const ta={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Wo;function ea(d){return!!d&&!!d.invalidReason}function vi(d,a){return Array.prototype.concat(...d.map(o=>function(r,_){if(r.literal)return r;const g=ro($t.macroTokenToFormatOpts(r.val),_);return null==g||g.includes(void 0)?r:g}(o,a)))}function Ti(d,a,o){const r=vi($t.parseFormat(o),d),_=r.map(k=>function(S,M){const U=Le(M),B=Le(M,"{2}"),Q=Le(M,"{3}"),K=Le(M,"{4}"),$=Le(M,"{6}"),rt=Le(M,"{1,2}"),Tt=Le(M,"{1,3}"),Lt=Le(M,"{1,6}"),Et=Le(M,"{1,9}"),Ut=Le(M,"{2,4}"),Zt=Le(M,"{4,6}"),Jt=Yn=>{return{regex:RegExp((Do=Yn.val,Do.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([_i])=>_i,literal:!0};var Do},He=(Yn=>{if(S.literal)return Jt(Yn);switch(Yn.val){case"G":return De(M.eras("short"),0);case"GG":return De(M.eras("long"),0);case"y":return qe(Lt);case"yy":case"kk":return qe(Ut,G);case"yyyy":case"kkkk":return qe(K);case"yyyyy":return qe(Zt);case"yyyyyy":return qe($);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return qe(rt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return qe(B);case"MMM":return De(M.months("short",!0),1);case"MMMM":return De(M.months("long",!0),1);case"LLL":return De(M.months("short",!1),1);case"LLLL":return De(M.months("long",!1),1);case"o":case"S":return qe(Tt);case"ooo":case"SSS":return qe(Q);case"u":return bi(Et);case"a":return De(M.meridiems(),0);case"E":case"c":return qe(U);case"EEE":return De(M.weekdays("short",!1),1);case"EEEE":return De(M.weekdays("long",!1),1);case"ccc":return De(M.weekdays("short",!0),1);case"cccc":return De(M.weekdays("long",!0),1);case"Z":case"ZZ":return xi(new RegExp(`([+-]${rt.source})(?::(${B.source}))?`),2);case"ZZZ":return xi(new RegExp(`([+-]${rt.source})(${B.source})?`),2);case"z":return bi(/[a-z_+-/]{1,256}?/i);default:return Jt(Yn)}})(S)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Object.assign(Object.assign({},He),{token:S})}(k,d)),g=_.find(ea);if(g)return{input:a,tokens:r,invalidReason:g.invalidReason};{const k=`^${_.map(rt=>rt.regex).reduce((rt,Tt)=>`${rt}(${Tt.source})`,"")}$`,S=RegExp(k,"i"),[M,U]=function($,rt,Tt){const Lt=rt.exec($),Et={};if(null!==Lt){let Ut=1;Tt.forEach(Zt=>{const Jt=Zt.groups?Zt.groups+1:1;Zt.literal||(Et[Zt.token.val[0]]=Zt.deser(Lt.slice(Ut,Ut+Jt))),Ut+=Jt})}return[Lt,Et]}(a,S,_),[B,Q,K]=U?function($){let rt,Tt=null;return Ot($.z)&&(Tt=R.create($.z)),Ot($.Z)&&(Tt||(Tt=new zt(+$.Z)),rt=+$.Z),Ot($.q)&&($.M=3*($.q-1)+1),Ot($.h)&&(+$.h<12&&1===$.a?$.h=$.h+12:12===$.h&&0===$.a&&($.h=0)),0===$.G&&$.y&&($.y=-$.y),Ot($.u)&&($.S=En($.u)||0),[Object.keys($).reduce((Lt,Et)=>{const Ut=(Zt=>{switch(Zt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(Et);return Ut&&(Lt[Ut]=$[Et]),Lt},{}),Tt,rt]}(U):[null,null,void 0];if("a"in U&&"H"in U)throw new ht("Can't include meridiem when specifying 24-hour format");return{input:a,tokens:r,regex:S,rawMatches:M,matches:U,result:B,zone:Q,specificOffset:K}}}function Ci(d){return d.replace(/\u202F/g," ")}function ro(d,a){if(!d)return null;const o=$t.create(a,d).dtFormatter((void 0===Wo&&(Wo=V.fromMillis(1555555555555,{locale:a.locale})),Wo)),r=o.formatToParts(),_=o.resolvedOptions();return r.map(g=>function(k,S,M){const{type:U,value:B}=k;if("literal"===U){const rt=/^\s+$/.test(B);return{literal:!rt,val:rt?" ":B}}let K=U;"hour"===U&&(K=null!=S.hour12?S.hour12?"hour12":"hour24":null!=S.hourCycle?"h11"===S.hourCycle||"h12"===S.hourCycle?"hour12":"hour24":M.hour12?"hour12":"hour24");let $=ta[K];if("object"==typeof $&&($=$[S[U]]),$)return{literal:!1,val:$}}(g,d,_))}const Xo="Invalid DateTime",ki=864e13;function wi(d,a,o){let r=d-60*a*1e3;const _=o.offset(r);if(a===_)return[r,a];r-=60*(_-a)*1e3;const g=o.offset(r);return _===g?[r,_]:[d-60*Math.min(_,g)*1e3,Math.max(_,g)]}function Zo(d,a){const o=new Date(d+=60*a*1e3);return{year:o.getUTCFullYear(),month:o.getUTCMonth()+1,day:o.getUTCDate(),hour:o.getUTCHours(),minute:o.getUTCMinutes(),second:o.getUTCSeconds(),millisecond:o.getUTCMilliseconds()}}function Ao(d,a,o){return wi(f(d),a,o)}function lo(d,a,o,r,_,g){const{setZone:k,zone:S}=o;if(d&&0!==Object.keys(d).length||a){const M=a||S,U=V.fromObject(d||void 0,Object.assign(Object.assign({},o),{zone:M,specificOffset:g}));return k?U:U.setZone(S)}return V.invalid(new Kt("unparsable",`the input "${_}" can't be parsed as ${r}`))}function So(d,a,o=!0){return d.isValid?$t.create(kt.create("en-US"),{allowZ:o,forceSimple:!0}).formatDateTimeFromString(d,a):null}const yi={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0},na={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},oa={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Oi=["year","month","day","hour","minute","second","millisecond"],Fn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],No=["year","ordinal","hour","minute","second","millisecond"];function Zi(d){const a=Uo[d.toLowerCase()];if(!a)throw new H(d);return a}class V{get day(){return this.isValid?this._c.day:NaN}get daysInMonth(){return z(this.year,this.month)}get daysInYear(){return this.isValid?Z(this.year):NaN}get hour(){return this.isValid?this._c.hour:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:void 0}get invalidReason(){return this._invalid?this._invalid.reason:void 0}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return en(this.year)}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isValid(){return null===this._invalid}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get loc(){return this.isValid?this._loc.clone():void 0}get localWeekNumber(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekYear:NaN}get localWeekday(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekday:NaN}get locale(){return this.isValid?this._loc.locale:void 0}get millisecond(){return this.isValid?this._c.millisecond:NaN}get minute(){return this.isValid?this._c.minute:NaN}get month(){return this.isValid?this._c.month:NaN}get monthLong(){return this.isValid?so.months("long",{locObj:this._loc})[this.month-1]:null}get monthShort(){return this.isValid?so.months("short",{locObj:this._loc})[this.month-1]:null}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get offset(){return this.isValid?+this._o:NaN}get offsetNameLong(){return this.isValid?this.zone.offsetName(this._ts,{format:"long",locale:this.locale}):null}get offsetNameShort(){return this.isValid?this.zone.offsetName(this._ts,{format:"short",locale:this.locale}):null}get ordinal(){return this.isValid?xt(this._c).ordinal:NaN}get outputCalendar(){return this.isValid?this._loc.outputCalendar:void 0}get quarter(){return this.isValid?Math.ceil(this._c.month/3):NaN}get second(){return this.isValid?this._c.second:NaN}get ts(){return this._ts}get weekNumber(){return this.isValid?this._possiblyCachedWeekData(this).weekNumber:NaN}get weekYear(){return this.isValid?this._possiblyCachedWeekData(this).weekYear:NaN}get weekday(){return this.isValid?this._possiblyCachedWeekData(this).weekday:NaN}get weekdayLong(){return this.isValid?so.weekdays("long",{locObj:this._loc})[this.weekday-1]:null}get weekdayShort(){return this.isValid?so.weekdays("short",{locObj:this._loc})[this.weekday-1]:null}get weeksInLocalWeekYear(){return this.isValid?L(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}get weeksInWeekYear(){return this.isValid?L(this.weekYear):NaN}get year(){return this.isValid?this._c.year:NaN}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}constructor(a){const o=a.zone||It.defaultZone;let r,_,g=a.invalid||(Number.isNaN(a.ts)?new Kt("invalid timestamp"):null)||(o.isValid?null:V._unsupportedZone(o));if(this._ts=Gt(a.ts)?It.now():a.ts,!g)if(a.old&&a.old.ts===this._ts&&a.old.zone.equals(o))[_,r]=[a.old.c,a.old.o];else{const k=o.offset(this._ts);_=Zo(this._ts,k),g=Number.isNaN(_.year)?new Kt("invalid input"):null,_=g?void 0:_,r=g?void 0:k}this._zone=o,this._loc=a.loc||kt.create(),this._invalid=g,this._weekData=null,this._c=_,this._o=r,this._isLuxonDateTime=!0}static expandFormat(a,o={}){return vi($t.parseFormat(a),kt.fromObject(o)).map(r=>r.val).join("")}static fromFormat(a,o,r={}){if(Gt(a)||Gt(o))throw new wt("fromFormat requires an input string and a format");const{locale:_,numberingSystem:g}=r,k=kt.fromOpts({locale:_,numberingSystem:g,defaultToEN:!0}),[S,M,U,B]=function(Q,K,$){const{result:rt,zone:Tt,specificOffset:Lt,invalidReason:Et}=Ti(Q,Ci(K),Ci($));return[rt,Tt,Lt,Et]}(k,a,o);return B?V.invalid(B):lo(S,M||null,r,`format ${o}`,a,U)}static fromFormatExplain(a,o,r={}){const{locale:_,numberingSystem:g}=r;return Ti(kt.fromOpts({locale:_,numberingSystem:g,defaultToEN:!0}),a,o)}static fromHTTP(a,o={}){const[r,_]=yn(a,[$o,p],[b,p],[D,w]);return lo(r,_,o,"HTTP",a)}static fromISO(a,o={}){const[r,_]=yn(a,[N,lt],[I,pt],[F,Ct],[W,xe]);return lo(r,_,o,"ISO 8601",a)}static fromJSDate(a,o={}){const r="[object Date]"===Object.prototype.toString.call(a)?a.valueOf():NaN;if(Number.isNaN(r))return V.invalid("invalid input");const g=se(o.zone,It.defaultZone);return g.isValid?new V({ts:r,zone:g,loc:kt.fromObject(o)}):V.invalid(V._unsupportedZone(g))}static fromMillis(a,o={}){if(Wt(a))return a<-ki||a>ki?V.invalid("Timestamp out of range"):new V({ts:a,zone:se(o.zone,It.defaultZone),loc:kt.fromObject(o)});throw new wt(`fromMillis requires a numerical input, but received a ${typeof a} with value ${a}`)}static fromObject(a={},o={}){const r=se(o.zone,It.defaultZone);if(!r.isValid)return V.invalid(V._unsupportedZone(r));const _=kt.fromObject(o),g=te(a,Zi),k=It.now(),S=Wt(o.specificOffset)?o.specificOffset:r.offset(k),M=Ot(g.ordinal),U=Ot(g.year),B=Ot(g.month)||Ot(g.day),Q=U||B,K=g.weekYear||g.weekNumber;if((Q||M)&&K)throw new ht("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(B&&M)throw new ht("Can't mix ordinal dates with month/day");const $=K||g.weekday&&!Q,{minDaysInFirstWeek:rt,startOfWeek:Tt}=Oe(g,_),Lt=Zo(k,S),Et={containsGregor:Q,containsOrdinal:M,loc:_,normalized:g,obj:a,offsetProvis:S,useWeekData:$,zoneToUse:r};return $?V._buildObject(Et,Fn,na,P(Lt,rt,Tt)):M?V._buildObject(Et,No,oa,xt(Lt)):V._buildObject(Et,Oi,yi,Lt)}static fromRFC2822(a,o={}){const[r,_]=yn(a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[Go,Vo]);return lo(r,_,o,"RFC 2822",a)}static fromSQL(a,o={}){const[r,_]=yn(a,[oo,lt],[io,Gn]);return lo(r,_,o,"SQL",a)}static fromSeconds(a,o={}){if(!Wt(a))throw new wt("fromSeconds requires a numerical input");return new V({ts:1e3*a,zone:se(o.zone,It.defaultZone),loc:kt.fromObject(o)})}static fromString(a,o,r={}){return V.fromFormat(a,o,r)}static fromStringExplain(a,o,r={}){return V.fromFormatExplain(a,o,r)}static invalid(a,o){if(!a)throw new wt("need to specify a reason the DateTime is invalid");const r=a instanceof Kt?a:new Kt(a,o);if(It.throwOnInvalid)throw new x(r);return new V({invalid:r})}static isDateTime(a){return!(!a||!a._isLuxonDateTime)}static local(...a){const[o,r]=this._lastOpts(a),[_,g,k,S,M,U,B]=r;return V._quickDT({year:_,month:g,day:k,hour:S,minute:M,second:U,millisecond:B},o)}static max(...a){if(!a.every(V.isDateTime))throw new wt("max requires all arguments be DateTimes");return Hn(a,o=>o.valueOf(),Math.max)}static min(...a){if(!a.every(V.isDateTime))throw new wt("min requires all arguments be DateTimes");return Hn(a,o=>o.valueOf(),Math.min)}static now(){return new V({})}static parseFormatForOpts(a,o={}){const r=ro(a,kt.fromObject(o));return r?r.map(_=>_?_.val:null).join(""):null}static utc(...a){const[o,r]=this._lastOpts(a),[_,g,k,S,M,U,B]=r;return o.zone=zt.utcInstance,this._quickDT({year:_,month:g,day:k,hour:S,minute:M,second:U,millisecond:B},o)}static _buildObject(a,o,r,_){let g=!1;o.forEach(Q=>{Ot(a.normalized[Q])?g=!0:a.normalized[Q]=g?r[Q]:_[Q]});const k=(a.useWeekData?function(Q,K=4,$=1){const rt=Me(Q.weekYear),Tt=Vt(Q.weekNumber,1,L(Q.weekYear,K,$)),Lt=Vt(Q.weekday,1,7);return rt?Tt?!Lt&&y("weekday",Q.weekday):y("week",Q.weekNumber):y("weekYear",Q.weekYear)}(a.normalized):a.containsOrdinal?function(Q){const K=Me(Q.year),$=Vt(Q.ordinal,1,Z(Q.year));return K?!$&&y("ordinal",Q.ordinal):y("year",Q.year)}(a.normalized):qt(a.normalized))||Bn(a.normalized);if(k)return V.invalid(k);const S=a.useWeekData?it(a.normalized):a.containsOrdinal?fe(a.normalized):a.normalized,[M,U]=Ao(S,a.offsetProvis,a.zoneToUse),B=new V({ts:M,zone:a.zoneToUse,o:U,loc:a.loc});return a.normalized.weekday&&a.containsGregor&&a.obj.weekday!==B.weekday?V.invalid("mismatched weekday",`you can't specify both a weekday of ${a.normalized.weekday} and a date of ${B.toISO()}`):B.isValid?B:V.invalid(B._invalid)}static _diffRelative(a,o,r){const _=!!Gt(r.round)||r.round,g=(S,M)=>(S=Pn(S,_||r.calendary?0:2,!0),o._loc.clone(r).relFormatter(r).format(S,M)),k=S=>r.calendary?o.hasSame(a,S)?0:o.startOf(S).diff(a.startOf(S),S).get(S):o.diff(a,S).get(S);if(r.unit)return g(k(r.unit),r.unit);for(const S of r.units){const M=k(S);if(Math.abs(M)>=1)return g(M,S)}return g(a>o?-0:0,r.units[r.units.length-1])}static _lastOpts(a){let o,r={};return a.length>0&&"object"==typeof a[a.length-1]?(r=a.pop(),o=a):o=Array.from(a),[r,o]}static _quickDT(a,o){const r=se(o.zone,It.defaultZone),_=kt.fromObject(o),g=It.now();let k,S;if(Ot(a.year)){for(const B of Oi)Gt(a[B])&&(a[B]=yi[B]);const M=qt(a)||Bn(a);if(M)return V.invalid(M);const U=r.offset(g);[k,S]=Ao(a,U,r)}else k=g;return new V({ts:k,zone:r,loc:_,o:S})}static _unsupportedZone(a){return new Kt("unsupported zone",`the zone "${a.name}" is not supported`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}diff(a,o="milliseconds",r={}){if(!this.isValid||!a.isValid)return bt.invalid(this.invalidReason||a.invalidReason,"created by diffing an invalid DateTime");const _=(S=o,Array.isArray(S)?S:[S]).map(bt.normalizeUnit),g=a.valueOf()>this.valueOf(),k=((d,a,o,r)=>{let[_,g,k,S]=function(Q,K,$){const rt=[["years",(Zt,Jt)=>Jt.year-Zt.year],["quarters",(Zt,Jt)=>Jt.quarter-Zt.quarter+4*(Jt.year-Zt.year)],["months",(Zt,Jt)=>Jt.month-Zt.month+12*(Jt.year-Zt.year)],["weeks",(Zt,Jt)=>{const He=Ro(Zt,Jt);return(He-He%7)/7}],["days",Ro]],Tt={},Lt=Q;let Et,Ut;for(const[Zt,Jt]of rt)$.indexOf(Zt)>=0&&(Et=Zt,Tt[Zt]=Jt(Q,K),Ut=Lt.plus(Tt),Ut>K?(Tt[Zt]--,(Q=Lt.plus(Tt))>K&&(Ut=Q,Tt[Zt]--,Q=Lt.plus(Tt))):Q=Ut);return[Q,Tt,Ut,Et]}(d,a,o);const M=+a-+_,U=o.filter(Q=>["hours","minutes","seconds","milliseconds"].indexOf(Q)>=0);0===U.length&&(k<a&&(k=_.plus({[S]:1})),k!==_&&(g[S]=(g[S]||0)+M/(+k-+_)));const B=bt.fromObject(g,r);return U.length>0?bt.fromMillis(M,r).shiftTo(...U).plus(B):B})(g?this:a,g?a:this,_,Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},r));var S;return g?k.negate():k}diffNow(a="milliseconds",o={}){return this.diff(V.now(),a,o)}endOf(a,{useLocaleWeeks:o=!1}={}){return this.plus({[a]:1}).startOf(a,{useLocaleWeeks:o}).minus({milliseconds:1})}equals(a){return this.valueOf()===a.valueOf()&&this.zone.equals(a.zone)&&this._loc.equals(a._loc)}get(a){return this[a]}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const a=864e5,o=6e4,r=f(this._c),_=this.zone.offset(r-a),g=this.zone.offset(r+a),k=this.zone.offset(r-_*o),S=this.zone.offset(r-g*o);if(k===S)return[this];const M=r-k*o,U=r-S*o,B=Zo(M,k),Q=Zo(U,S);return B.hour===Q.hour&&B.minute===Q.minute&&B.second===Q.second&&B.millisecond===Q.millisecond?[this._clone({ts:M}),this._clone({ts:U})]:[this]}hasSame(a,o,r){if(!this.isValid)return!1;const _=a.valueOf(),g=this.setZone(a.zone,{keepLocalTime:!0});return+g.startOf(o)<=_&&_<=+g.endOf(o,r)}minus(a){if(!this.isValid)return this;const o=bt.fromDurationLike(a).negate();return this._clone(this._adjustTime(o))}plus(a){if(!this.isValid)return this;const o=bt.fromDurationLike(a);return this._clone(this._adjustTime(o))}reconfigure(a){const o=this._loc.clone(a);return this._clone({loc:o})}resolvedLocaleOptions(a={}){const{locale:o,numberingSystem:r,calendar:_}=$t.create(this._loc.clone(a),a).resolvedOptions(this);return{locale:o,numberingSystem:r,outputCalendar:_}}set(a){if(!this.isValid)return this;const o=te(a,Zi),{minDaysInFirstWeek:r,startOfWeek:_}=Oe(o,this.loc),g=Ot(o.weekYear)||Ot(o.weekNumber)||Ot(o.weekday),k=Ot(o.ordinal),S=Ot(o.year),M=Ot(o.month)||Ot(o.day);if((S||M||k)&&(o.weekYear||o.weekNumber))throw new ht("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(M&&k)throw new ht("Can't mix ordinal dates with month/day");let Q;g?Q=it(Object.assign(Object.assign({},P(this._c,r,_)),o),r,_):Gt(o.ordinal)?(Q=Object.assign(Object.assign({},this.toObject()),o),Gt(o.day)&&(Q.day=Math.min(z(Q.year,Q.month),Q.day))):Q=fe(Object.assign(Object.assign({},xt(this._c)),o));const[K,$]=Ao(Q,this._o,this.zone);return this._clone({ts:K,o:$})}setLocale(a){return this.reconfigure({locale:a})}setZone(a,{keepLocalTime:o=!1,keepCalendarTime:r=!1}={}){if((a=se(a,It.defaultZone)).equals(this.zone))return this;if(a.isValid){let _=this._ts;if(o||r){const g=a.offset(this._ts);_=Ao(this.toObject(),g,a)[0]}return this._clone({ts:_,zone:a})}return V.invalid(V._unsupportedZone(a))}startOf(a,{useLocaleWeeks:o=!1}={}){if(!this.isValid)return this;const r={},_=bt.normalizeUnit(a);switch(_){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0}if("weeks"===_)if(o){const g=this.loc.getStartOfWeek(),{weekday:k}=this;k<g&&(r.weekNumber=this.weekNumber-1),r.weekday=g}else r.weekday=1;if("quarters"===_){const g=Math.ceil(this.month/3);r.month=3*(g-1)+1}return this.set(r)}toBSON(){return this.toJSDate()}toFormat(a,o={}){return this.isValid?$t.create(this._loc.redefaultToEN(o)).formatDateTimeFromString(this,a):Xo}toHTTP(){return So(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toISO({format:a="extended",suppressSeconds:o=!1,suppressMilliseconds:r=!1,includeOffset:_=!0,extendedZone:g=!1}={}){if(!this.isValid)return null;const k="extended"===a;return[this._toISODate(k),"T",this._toISOTime(k,o,r,_,g)].join("")}toISODate({format:a="extended"}={format:"extended"}){return this.isValid?this._toISODate("extended"===a):null}toISOTime({suppressMilliseconds:a=!1,suppressSeconds:o=!1,includeOffset:r=!0,includePrefix:_=!1,extendedZone:g=!1,format:k="extended"}={}){return this.isValid?[_?"T":"",this._toISOTime("extended"===k,o,a,r,g)].join(""):null}toISOWeekDate(){return So(this,"kkkk-'W'WW-c")}toJSDate(){return new Date(this.isValid?this._ts:NaN)}toJSON(){return this.toISO()}toLocal(){return this.setZone(It.defaultZone)}toLocaleParts(a={}){return this.isValid?$t.create(this._loc.clone(a),a).formatDateTimeParts(this):[]}toLocaleString(a=nt,o={}){return this.isValid?$t.create(this._loc.clone(o),a).formatDateTime(this):Xo}toMillis(){return this.isValid?this.ts:NaN}toObject(a={includeConfig:!1}){if(!this.isValid)return{};const o=Object.assign({},this._c);return a.includeConfig&&(o.outputCalendar=this.outputCalendar,o.numberingSystem=this._loc.numberingSystem,o.locale=this._loc.locale),o}toRFC2822(){return So(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toRelative(a={}){if(!this.isValid)return null;const o=a.base||V.fromObject({},{zone:this.zone}),r=a.padding?this<o?-a.padding:a.padding:0;let _=["years","months","days","hours","minutes","seconds"],g=a.unit;return Array.isArray(a.unit)&&(_=a.unit,g=void 0),V._diffRelative(o,this.plus(r),Object.assign(Object.assign({},a),{numeric:"always",units:_,unit:g}))}toRelativeCalendar(a={}){return this.isValid?V._diffRelative(a.base||V.fromObject({},{zone:this.zone}),this,Object.assign(Object.assign({},a),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}toSQL(a={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(a)}`:null}toSQLDate(){return this.isValid?this._toISODate(!0):null}toSQLTime({includeOffset:a=!0,includeZone:o=!1,includeOffsetSpace:r=!0}={}){let _="HH:mm:ss.SSS";return(o||a)&&(r&&(_+=" "),o?_+="z":a&&(_+="ZZ")),So(this,_,!0)}toSeconds(){return this.isValid?this._ts/1e3:NaN}toString(){return this.isValid?this.toISO():Xo}toUTC(a=0,o={}){return this.setZone(zt.instance(a),o)}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}until(a){return Ft.fromDateTimes(this,a)}valueOf(){return this.toMillis()}_adjustTime(a){const o=this._o,r=this._c.year+Math.trunc(a.years),_=this._c.month+Math.trunc(a.months)+3*Math.trunc(a.quarters),g=Object.assign(Object.assign({},this._c),{year:r,month:_,day:Math.min(this._c.day,z(r,_))+Math.trunc(a.days)+7*Math.trunc(a.weeks)}),k=bt.fromObject({years:a.years-Math.trunc(a.years),quarters:a.quarters-Math.trunc(a.quarters),months:a.months-Math.trunc(a.months),weeks:a.weeks-Math.trunc(a.weeks),days:a.days-Math.trunc(a.days),hours:a.hours,minutes:a.minutes,seconds:a.seconds,milliseconds:a.milliseconds}).as("milliseconds"),S=f(g);let[M,U]=wi(S,o,this.zone);return 0!==k&&(M+=k,U=this.zone.offset(M)),{ts:M,o:U}}_clone(a){const o={ts:this._ts,zone:this.zone,c:this._c,o:this._o,loc:this._loc,invalid:this._invalid||void 0};return new V(Object.assign(Object.assign(Object.assign({},o),a),{old:o}))}_possiblyCachedLocalWeekData(a){return a._localWeekData||(a._localWeekData=P(a._c,a.loc.getMinDaysInFirstWeek(),a.loc.getStartOfWeek())),a._localWeekData}_possiblyCachedWeekData(a){return null===a._weekData&&(a._weekData=P(a._c)),a._weekData}_toISODate(a){const o=this._c.year>9999||this._c.year<0;let r="";return o&&this._c.year>=0&&(r+="+"),r+=Dt(this._c.year,o?6:4),a?(r+="-",r+=Dt(this._c.month),r+="-",r+=Dt(this._c.day)):(r+=Dt(this._c.month),r+=Dt(this._c.day)),r}_toISOTime(a,o,r,_,g){let k=Dt(this._c.hour);return a?(k+=":",k+=Dt(this._c.minute),0===this._c.millisecond&&0===this._c.second&&o||(k+=":")):k+=Dt(this._c.minute),0===this._c.millisecond&&0===this._c.second&&o||(k+=Dt(this._c.second),0===this._c.millisecond&&r||(k+=".",k+=Dt(this._c.millisecond,3))),_&&(this.isOffsetFixed&&0===this.offset&&!g?k+="Z":this._o<0?(k+="-",k+=Dt(Math.trunc(-this._o/60)),k+=":",k+=Dt(Math.trunc(-this._o%60))):(k+="+",k+=Dt(Math.trunc(this._o/60)),k+=":",k+=Dt(Math.trunc(this._o%60)))),g&&(k+="["+this.zone.ianaName+"]"),k}}V.DATETIME_FULL=je,V.DATETIME_FULL_WITH_SECONDS=Ve,V.DATETIME_HUGE=$e,V.DATETIME_HUGE_WITH_SECONDS=pe,V.DATETIME_MED=Ge,V.DATETIME_MED_WITH_SECONDS=Pe,V.DATETIME_MED_WITH_WEEKDAY=mn,V.DATETIME_SHORT=ue,V.DATETIME_SHORT_WITH_SECONDS=ve,V.DATE_FULL=Mt,V.DATE_HUGE=oe,V.DATE_MED=ot,V.DATE_MED_WITH_WEEKDAY=ft,V.DATE_SHORT=nt,V.TIME_24_SIMPLE=ln,V.TIME_24_WITH_LONG_OFFSET=be,V.TIME_24_WITH_SECONDS=cn,V.TIME_24_WITH_SHORT_OFFSET=Ne,V.TIME_SIMPLE=Ee,V.TIME_WITH_LONG_OFFSET=Se,V.TIME_WITH_SECONDS=ie,V.TIME_WITH_SHORT_OFFSET=_e;var vt=v(96814),Jn=v(19347),Qe=v(32296),qn=v(81274),$n=v(65619),co=v(78645),ti=v(59773),mo=v(67081),_o=v(99397),Ai=v(37398),ia=v(93997),Ye=v(86825),le=v(56223),ei=v(4300),ni=v(98525),Si=v(23680),Qn=v(64170),oi=v(30617),jo=v(2032),aa=v(68484);const sa=["clockFace"],ra=["clockHand"],uo=function(d){return{transform:d}};function la(d,a){if(1&d&&(c.TgZ(0,"button",9),c.ALo(1,"activeHour"),c._uU(2),c.ALo(3,"timeLocalizer"),c.qZA()),2&d){const o=a.$implicit,r=c.oxw();c.Q6J("color",c.Dn7(1,4,o.time,null==r.selectedTime?null:r.selectedTime.time,r.isClockFaceDisabled)?r.color:void 0)("ngStyle",c.VKq(11,uo,"rotateZ(-"+o.angle+"deg)"))("disabled",o.disabled),c.xp6(2),c.hij(" ",c.xi3(3,8,o.time,r.timeUnit.HOUR)," ")}}function ca(d,a){if(1&d&&(c.TgZ(0,"div",12)(1,"button",9),c.ALo(2,"activeMinute"),c._uU(3),c.ALo(4,"timeLocalizer"),c.ALo(5,"minutesFormatter"),c.qZA()()),2&d){const o=a.$implicit,r=c.oxw(2);c.Q6J("ngStyle",c.VKq(16,uo,"rotateZ("+o.angle+"deg)")),c.xp6(1),c.Q6J("color",c.gM2(2,5,o.time,null==r.selectedTime?null:r.selectedTime.time,r.minutesGap,r.isClockFaceDisabled)?r.color:void 0)("ngStyle",c.VKq(18,uo,"rotateZ(-"+o.angle+"deg)"))("disabled",o.disabled),c.xp6(2),c.hij(" ",c.xi3(4,10,c.xi3(5,13,o.time,r.minutesGap),r.timeUnit.MINUTE)," ")}}function ma(d,a){if(1&d&&(c.TgZ(0,"div",10),c.YNc(1,ca,6,20,"div",11),c.qZA()),2&d){const o=c.oxw();c.xp6(1),c.Q6J("ngForOf",o.faceTime)("ngForTrackBy",o.trackByTime)}}function da(d,a){1&d&&c.Hsn(0,0,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}const Ni=function(d){return{$implicit:d}};function _a(d,a){if(1&d&&(c.TgZ(0,"div",12),c.YNc(1,da,1,0,"ng-content",14),c.qZA()),2&d){const o=a.$implicit;c.oxw(2);const r=c.MAs(1);c.Q6J("ngStyle",c.VKq(3,uo,"rotateZ("+o.angle+"deg)")),c.xp6(1),c.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",c.VKq(5,Ni,o))}}function ua(d,a){1&d&&c.Hsn(0,1,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function pa(d,a){if(1&d&&(c.TgZ(0,"div",17),c.YNc(1,ua,1,0,"ng-content",14),c.qZA()),2&d){const o=a.$implicit,r=c.oxw(3),_=c.MAs(1);c.Udp("top","calc(50% - "+r.innerClockFaceSize+"px)")("height",r.innerClockFaceSize,"px"),c.Q6J("ngStyle",c.VKq(7,uo,"rotateZ("+o.angle+"deg)")),c.xp6(1),c.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",c.VKq(9,Ni,o))}}function ga(d,a){if(1&d&&(c.TgZ(0,"div",15),c.YNc(1,pa,2,11,"div",16),c.ALo(2,"slice"),c.qZA()),2&d){const o=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",c.Dn7(2,2,o.faceTime,12,24))("ngForTrackBy",o.trackByTime)}}function ha(d,a){if(1&d&&(c.TgZ(0,"div",10),c.YNc(1,_a,2,7,"div",11),c.ALo(2,"slice"),c.YNc(3,ga,3,6,"div",13),c.qZA()),2&d){const o=c.oxw();c.xp6(1),c.Q6J("ngForOf",c.Dn7(2,3,o.faceTime,0,12))("ngForTrackBy",o.trackByTime),c.xp6(2),c.Q6J("ngIf",o.faceTime.length>12)}}function fa(d,a){if(1&d&&(c.TgZ(0,"button",18),c._UZ(1,"span",19),c.qZA()),2&d){const o=c.oxw();c.Q6J("color",o.color)}}const ji=["*","*"],xa=function(d){return{"clock-face__clock-hand_minute":d}};function ba(d,a){if(1&d){const o=c.EpF();c.TgZ(0,"div",5),c.NdJ("@scaleInOut.done",function(){c.CHM(o);const _=c.oxw(2);return c.KtG(_.animationDone())}),c.TgZ(1,"p"),c._uU(2,"Current time would be invalid in this period."),c.qZA()()}2&d&&c.Q6J("@scaleInOut",void 0)}function va(d,a){if(1&d&&c.YNc(0,ba,3,1,"div",4),2&d){const o=c.oxw();c.Q6J("ngIf",!o.isPeriodAvailable)}}const po=function(d){return{active:d}};function Ta(d,a){if(1&d){const o=c.EpF();c.TgZ(0,"input",2),c.NdJ("ngModelChange",function(_){c.CHM(o);const g=c.oxw();return c.KtG(g.time=_)})("input",function(){c.CHM(o);const _=c.oxw();return c.KtG(_.updateTime())})("focus",function(_){c.CHM(o);const g=c.oxw();return c.KtG(g.saveTimeAndChangeTimeUnit(_,g.timeUnit))}),c.ALo(1,"timeLocalizer"),c.qZA()}if(2&d){const o=c.oxw();c.Q6J("ngClass",c.VKq(8,po,o.isActive))("ngModel",c.Dn7(1,4,o.time,o.timeUnit,!0))("disabled",o.disabled)("ngxMatTimepickerAutofocus",o.isActive)}}function Ca(d,a){if(1&d){const o=c.EpF();c.TgZ(0,"input",3),c.NdJ("ngModelChange",function(_){c.CHM(o);const g=c.oxw();return c.KtG(g.onModelChange(_))})("input",function(){c.CHM(o);const _=c.oxw();return c.KtG(_.updateTime())})("focus",function(_){c.CHM(o);const g=c.oxw();return c.KtG(g.saveTimeAndChangeTimeUnit(_,g.timeUnit))})("keydown",function(_){c.CHM(o);const g=c.oxw();return c.KtG(g.onKeydown(_))})("keypress",function(_){c.CHM(o);const g=c.oxw();return c.KtG(g.changeTimeByKeyboard(_))}),c.ALo(1,"timeLocalizer"),c.ALo(2,"ngxMatTimepickerParser"),c.qZA()}if(2&d){const o=c.oxw();c.Q6J("ngClass",c.VKq(11,po,o.isActive))("ngModel",c.Dn7(1,4,c.xi3(2,8,o.time,o.timeUnit),o.timeUnit,!0))("disabled",o.disabled)("ngxMatTimepickerAutofocus",o.isActive)}}function ka(d,a){if(1&d){const o=c.EpF();c.TgZ(0,"ngx-mat-timepicker-period",7),c.NdJ("periodChanged",function(_){c.CHM(o);const g=c.oxw();return c.KtG(g.changePeriod(_))}),c.qZA()}if(2&d){const o=c.oxw();c.Q6J("selectedPeriod",o.period)("activeTimeUnit",o.activeTimeUnit)("maxTime",o.maxTime)("minTime",o.minTime)("format",o.format)("hours",o.hours)("minutes",o.minutes)("selectedHour",o.hour)("meridiems",o.meridiems)}}function wa(d,a){1&d&&c.GkF(0)}function ya(d,a){1&d&&(c.TgZ(0,"small",11),c._uU(1," * use arrows ("),c.TgZ(2,"span"),c._uU(3,"\u21c5"),c.qZA(),c._uU(4,") to change the time"),c.qZA())}const Oa=function(d){return{"timepicker-dial__hint-container--hidden":d}};function Za(d,a){if(1&d&&(c.TgZ(0,"div",8),c.YNc(1,wa,1,0,"ng-container",9),c.YNc(2,ya,5,0,"ng-template",null,10,c.W1O),c.qZA()),2&d){const o=c.MAs(3),r=c.oxw();c.Q6J("ngClass",c.VKq(2,Oa,!r.isHintVisible)),c.xp6(1),c.Q6J("ngTemplateOutlet",r.editableHintTmpl?r.editableHintTmpl:o)}}function Aa(d,a){1&d&&c.GkF(0)}function Sa(d,a){if(1&d&&(c.TgZ(0,"div"),c.YNc(1,Aa,1,0,"ng-container",3),c.qZA()),2&d){c.oxw();const o=c.MAs(4);c.xp6(1),c.Q6J("ngTemplateOutlet",o)}}function Na(d,a){1&d&&c.GkF(0)}function ja(d,a){if(1&d&&c.YNc(0,Na,1,0,"ng-container",3),2&d){c.oxw();const o=c.MAs(4);c.Q6J("ngTemplateOutlet",o)}}function Ma(d,a){1&d&&c.Hsn(0)}const Ia=["*"];function La(d,a){if(1&d&&(c.TgZ(0,"button",14),c._uU(1,"CANCEL "),c.qZA()),2&d){const o=c.oxw();c.Q6J("color",o.color)}}function Da(d,a){if(1&d&&(c.TgZ(0,"button",14),c._uU(1,"OK "),c.qZA()),2&d){const o=c.oxw();c.Q6J("color",o.color)}}function Ea(d,a){if(1&d){const o=c.EpF();c.TgZ(0,"ngx-mat-timepicker-24-hours-face",17),c.NdJ("hourChange",function(_){c.CHM(o);const g=c.oxw(2);return c.KtG(g.onHourChange(_))})("hourSelected",function(_){c.CHM(o);const g=c.oxw(2);return c.KtG(g.onHourSelected(_))}),c.ALo(1,"async"),c.qZA()}if(2&d){const o=c.oxw(2);c.Q6J("color",o.color)("selectedHour",c.lcZ(1,5,o.selectedHour))("minTime",o.data.minTime)("maxTime",o.data.maxTime)("format",o.data.format)}}function sn(d,a){if(1&d){const o=c.EpF();c.TgZ(0,"ngx-mat-timepicker-12-hours-face",18),c.NdJ("hourChange",function(_){c.CHM(o);const g=c.oxw(2);return c.KtG(g.onHourChange(_))})("hourSelected",function(_){c.CHM(o);const g=c.oxw(2);return c.KtG(g.onHourSelected(_))}),c.ALo(1,"async"),c.ALo(2,"async"),c.qZA()}if(2&d){const o=c.oxw(2);c.Q6J("color",o.color)("selectedHour",c.lcZ(1,5,o.selectedHour))("period",c.lcZ(2,7,o.selectedPeriod))("minTime",o.data.minTime)("maxTime",o.data.maxTime)}}function Pa(d,a){if(1&d&&(c.TgZ(0,"div"),c.YNc(1,Ea,2,7,"ngx-mat-timepicker-24-hours-face",15),c.YNc(2,sn,3,9,"ng-template",null,16,c.W1O),c.qZA()),2&d){const o=c.MAs(3),r=c.oxw();c.xp6(1),c.Q6J("ngIf",24===r.data.format)("ngIfElse",o)}}function Ua(d,a){if(1&d){const o=c.EpF();c.TgZ(0,"ngx-mat-timepicker-minutes-face",19),c.NdJ("minuteChange",function(_){c.CHM(o);const g=c.oxw();return c.KtG(g.onMinuteChange(_))}),c.ALo(1,"async"),c.ALo(2,"async"),c.ALo(3,"async"),c.qZA()}if(2&d){const o=c.oxw();let r;c.Q6J("color",o.color)("selectedMinute",c.lcZ(1,8,o.selectedMinute))("selectedHour",null==(r=c.lcZ(2,10,o.selectedHour))?null:r.time)("minTime",o.data.minTime)("maxTime",o.data.maxTime)("format",o.data.format)("period",c.lcZ(3,12,o.selectedPeriod))("minutesGap",o.data.minutesGap)}}function za(d,a){1&d&&c.GkF(0)}function Fa(d,a){1&d&&c.GkF(0)}function Ja(d,a){if(1&d&&(c.TgZ(0,"button",14),c._uU(1,"CANCEL "),c.qZA()),2&d){const o=c.oxw();c.Q6J("color",o.color)}}function qa(d,a){if(1&d&&(c.TgZ(0,"button",14),c._uU(1,"OK "),c.qZA()),2&d){const o=c.oxw();c.Q6J("color",o.color)}}function Qa(d,a){if(1&d){const o=c.EpF();c.TgZ(0,"ngx-mat-timepicker-24-hours-face",17),c.NdJ("hourChange",function(_){c.CHM(o);const g=c.oxw(2);return c.KtG(g.onHourChange(_))})("hourSelected",function(_){c.CHM(o);const g=c.oxw(2);return c.KtG(g.onHourSelected(_))}),c.ALo(1,"async"),c.qZA()}if(2&d){const o=c.oxw(2);c.Q6J("color",o.color)("selectedHour",c.lcZ(1,5,o.selectedHour))("minTime",o.data.minTime)("maxTime",o.data.maxTime)("format",o.data.format)}}function Ya(d,a){if(1&d){const o=c.EpF();c.TgZ(0,"ngx-mat-timepicker-12-hours-face",18),c.NdJ("hourChange",function(_){c.CHM(o);const g=c.oxw(2);return c.KtG(g.onHourChange(_))})("hourSelected",function(_){c.CHM(o);const g=c.oxw(2);return c.KtG(g.onHourSelected(_))}),c.ALo(1,"async"),c.ALo(2,"async"),c.qZA()}if(2&d){const o=c.oxw(2);c.Q6J("color",o.color)("selectedHour",c.lcZ(1,5,o.selectedHour))("period",c.lcZ(2,7,o.selectedPeriod))("minTime",o.data.minTime)("maxTime",o.data.maxTime)}}function Ba(d,a){if(1&d&&(c.TgZ(0,"div"),c.YNc(1,Qa,2,7,"ngx-mat-timepicker-24-hours-face",15),c.YNc(2,Ya,3,9,"ng-template",null,16,c.W1O),c.qZA()),2&d){const o=c.MAs(3),r=c.oxw();c.xp6(1),c.Q6J("ngIf",24===r.data.format)("ngIfElse",o)}}function Ha(d,a){if(1&d){const o=c.EpF();c.TgZ(0,"ngx-mat-timepicker-minutes-face",19),c.NdJ("minuteChange",function(_){c.CHM(o);const g=c.oxw();return c.KtG(g.onMinuteChange(_))}),c.ALo(1,"async"),c.ALo(2,"async"),c.ALo(3,"async"),c.qZA()}if(2&d){const o=c.oxw();let r;c.Q6J("color",o.color)("selectedMinute",c.lcZ(1,8,o.selectedMinute))("selectedHour",null==(r=c.lcZ(2,10,o.selectedHour))?null:r.time)("minTime",o.data.minTime)("maxTime",o.data.maxTime)("format",o.data.format)("period",c.lcZ(3,12,o.selectedPeriod))("minutesGap",o.data.minutesGap)}}function Ga(d,a){1&d&&c.GkF(0)}function Va(d,a){1&d&&c.GkF(0)}function $a(d,a){1&d&&c._UZ(0,"ngx-mat-timepicker-standalone")}function Ra(d,a){1&d&&(c.O4$(),c.TgZ(0,"svg",2),c._UZ(1,"path",3),c.qZA())}const Ka=[[["","ngxMatTimepickerToggleIcon",""]]],Wa=["[ngxMatTimepickerToggleIcon]"];function Xa(d,a){if(1&d&&(c.TgZ(0,"mat-option",12),c._uU(1),c.qZA()),2&d){const o=a.$implicit;c.Q6J("value",o),c.xp6(1),c.Oqu(o)}}function ts(d,a){if(1&d){const o=c.EpF();c.TgZ(0,"mat-form-field",9)(1,"mat-select",10),c.NdJ("selectionChange",function(_){c.CHM(o);const g=c.oxw();return c.KtG(g.changePeriod(_))}),c.YNc(2,Xa,2,2,"mat-option",11),c.qZA()()}if(2&d){const o=c.oxw();c.Q6J("color",o.color),c.xp6(1),c.Q6J("disabled",o.disabled||o.isChangePeriodDisabled)("ngModel",o.period),c.xp6(1),c.Q6J("ngForOf",o.periods)}}function es(d,a){1&d&&c.GkF(0)}function ns(d,a){if(1&d&&(c.TgZ(0,"ngx-mat-timepicker-toggle",13)(1,"span",14),c.YNc(2,es,1,0,"ng-container",15),c.qZA()()),2&d){const o=c.oxw(),r=c.MAs(8),_=c.MAs(10);c.Q6J("for",r)("disabled",o.disabled),c.xp6(2),c.Q6J("ngTemplateOutlet",o.toggleIcon||_)}}function os(d,a){1&d&&(c.TgZ(0,"mat-icon"),c._uU(1,"watch_later"),c.qZA())}const is=function(d){return{"ngx-mat-timepicker--disabled":d}};var rn=function(d){return d.TWELVE="hh:mm a",d.TWELVE_SHORT="h:m a",d.TWENTY_FOUR="HH:mm",d.TWENTY_FOUR_SHORT="H:m",d}(rn||{}),ee=function(d){return d.AM="AM",d.PM="PM",d}(ee||{});let jt=(()=>{class d{static formatHour(o,r,_){if(this.isTwentyFour(r))return o;const g=_===ee.AM?o:o+12;return _===ee.AM&&12===g?0:_===ee.PM&&24===g?12:g}static formatTime(o,r){if(!o)return"Invalid Time";const _=this.parseTime(o,r).setLocale(this.defaultLocale);if(!_.isValid)return"Invalid time";const g=!this.isTwentyFour(r.format);return g?_.toLocaleString({...V.TIME_SIMPLE,hour12:g}).replace(/\u200E/g,""):_.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static fromDateTimeToString(o,r){return o.reconfigure({numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}).toFormat(this.isTwentyFour(r)?rn.TWENTY_FOUR:rn.TWELVE)}static isBetween(o,r,_,g="minutes"){const k="hours"===g?g:void 0;return this.isSameOrBefore(o,_,k)&&this.isSameOrAfter(o,r,k)}static isSameOrAfter(o,r,_="minutes"){return"hours"===_?o.hour>=r.hour:o.hasSame(r,_)||o.valueOf()>r.valueOf()}static isSameOrBefore(o,r,_="minutes"){return"hours"===_?o.hour<=r.hour:o.hasSame(r,_)||o.valueOf()<=r.valueOf()}static isTimeAvailable(o,r,_,g,k,S){if(!o)return;const M=this.parseTime(o,{format:S}),U=M.minute;if(k&&U==U&&U%k!=0)throw new Error(`Your minutes - ${U} doesn't match your minutesGap - ${k}`);const B=r&&!_&&this.isSameOrAfter(M,r,g),Q=_&&!r&&this.isSameOrBefore(M,_,g),K=r&&_&&this.isBetween(M,r,_,g);return B||Q||K||!r&&!_}static isTwentyFour(o){return 24===o}static parseTime(o,r){const _=this._getLocaleOptionsByTime(o,r);let g=rn.TWENTY_FOUR_SHORT;return o.match(/\s/g)&&(o=o.replace(/\.\s*/g,""),g=rn.TWELVE_SHORT),V.fromFormat(o.replace(/\s+/g," "),g,{numberingSystem:_.numberingSystem,locale:_.locale})}static toLocaleTimeString(o,r={}){const{format:_=this.defaultFormat,locale:g=this.defaultLocale}=r;let k="h12",S=rn.TWELVE_SHORT;return this.isTwentyFour(_)&&(k="h23",S=rn.TWENTY_FOUR_SHORT),V.fromFormat(o,S).reconfigure({locale:g,numberingSystem:r.numberingSystem,defaultToEN:r.defaultToEN,outputCalendar:r.outputCalendar}).toLocaleString({...V.TIME_SIMPLE,hourCycle:k})}static _getLocaleOptionsByTime(o,r){const{numberingSystem:_,locale:g}=V.now().reconfigure({locale:r.locale,numberingSystem:r.numberingSystem,outputCalendar:r.outputCalendar,defaultToEN:r.defaultToEN}).resolvedLocaleOptions();return isNaN(parseInt(o,10))?{numberingSystem:_,locale:g}:{numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}}}return d.defaultFormat=12,d.defaultLocale="en-US",d.defaultNumberingSystem="latn",d})();var ce=function(d){return d[d.HOUR=0]="HOUR",d[d.MINUTE=1]="MINUTE",d}(ce||{});const go=new c.OlP("NGX_MAT_TIMEPICKER_CONFIG"),Mo={time:12,angle:360},Io={time:0,angle:360};let ho=(()=>{class d{constructor(){this._hour$=new $n.X(Mo),this._minute$=new $n.X(Io),this._period$=new $n.X(ee.AM)}set hour(o){this._hour$.next(o)}set minute(o){this._minute$.next(o)}set period(o){(o===ee.AM||o===ee.PM)&&this._period$.next(o)}get selectedHour(){return this._hour$.asObservable()}get selectedMinute(){return this._minute$.asObservable()}get selectedPeriod(){return this._period$.asObservable()}getFullTime(o){const r=this._hour$.getValue().time,_=this._minute$.getValue().time,M=`${r??Mo.time}:${_??Io.time} ${12===o?this._period$.getValue():""}`.trim();return jt.formatTime(M,{format:o})}setDefaultTimeIfAvailable(o,r,_,g,k){o||this._resetTime();try{jt.isTimeAvailable(o,r,_,"minutes",k)&&this._setDefaultTime(o,g)}catch(S){console.error(S)}}_resetTime(){this.hour={...Mo},this.minute={...Io},this.period=ee.AM}_setDefaultTime(o,r){const _=jt.parseTime(o,{format:r});if(_.isValid){const g=o.substring(o.length-2).toUpperCase(),k=_.hour;this.hour={...Mo,time:as(k,g)},this.minute={...Io,time:_.minute},this.period=g}else this._resetTime()}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275prov=c.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();function as(d,a){switch(a){case ee.AM:return 0===d?12:d;case ee.PM:return 12===d?12:d-12;default:return d}}let Rn=(()=>{class d{get backdropClick(){return this._backdropClick$.asObservable().pipe((0,mo.d)({bufferSize:1,refCount:!0}))}get keydownEvent(){return this._keydownEvent$.asObservable().pipe((0,mo.d)({bufferSize:1,refCount:!0}))}constructor(){this._backdropClick$=new co.x,this._keydownEvent$=new co.x}dispatchEvent(o){switch(o.type){case"click":this._backdropClick$.next(o);break;case"keydown":this._keydownEvent$.next(o);break;default:throw new Error("no such event type")}}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275prov=c.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const ii=new c.OlP("TimeLocale",{providedIn:"root",factory:()=>jt.defaultLocale});let Be=(()=>{class d{get locale(){return this._locale}constructor(o){this._locale=o}updateLocale(o){this._locale=o||this._initialLocale}}return d.\u0275fac=function(o){return new(o||d)(c.LFG(ii))},d.\u0275prov=c.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Mi=(()=>{class d{set color(o){this._color=o}get color(){return this._color}get defaultTime(){return this._defaultTime}set defaultTime(o){this._defaultTime=o,this._setDefaultTime(o)}get _locale(){return this._timepickerLocaleSrv.locale}constructor(o,r,_,g){this._timepickerSrv=o,this._eventSrv=r,this._timepickerLocaleSrv=_,this.data=g,this.activeTimeUnit=ce.HOUR,this.timeUnit=ce,this._color="primary",this._subsCtrl$=new co.x,this.color=g.color,this.defaultTime=g.defaultTime}changePeriod(o){this._timepickerSrv.period=o,this._onTimeChange()}changeTimeUnit(o){this.activeTimeUnit=o}close(){this.data.timepickerBaseRef.close()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._defineTime(),this.selectedHour=this._timepickerSrv.selectedHour.pipe((0,mo.d)({bufferSize:1,refCount:!0})),this.selectedMinute=this._timepickerSrv.selectedMinute.pipe((0,mo.d)({bufferSize:1,refCount:!0})),this.selectedPeriod=this._timepickerSrv.selectedPeriod.pipe((0,mo.d)({bufferSize:1,refCount:!0})),this.data.timepickerBaseRef.timeUpdated.pipe((0,ti.R)(this._subsCtrl$)).subscribe({next:o=>{o&&this._setDefaultTime(o)}})}onHourChange(o){this._timepickerSrv.hour=o,this._onTimeChange()}onHourSelected(o){this.data.hoursOnly||this.changeTimeUnit(ce.MINUTE),this.data.timepickerBaseRef.hourSelected.next(o)}onKeydown(o){this._eventSrv.dispatchEvent(o),o.stopPropagation()}onMinuteChange(o){this._timepickerSrv.minute=o,this._onTimeChange()}setTime(){this.data.timepickerBaseRef.timeSet.emit(this._timepickerSrv.getFullTime(this.data.format)),this.close()}_defineTime(){const o=this.data.minTime;if(o&&!this.data.time&&!this.data.defaultTime){const r=jt.fromDateTimeToString(o,this.data.format);this._setDefaultTime(r)}}_onTimeChange(){const o=jt.toLocaleTimeString(this._timepickerSrv.getFullTime(this.data.format),{locale:this._locale,format:this.data.format});this.data.timepickerBaseRef.timeChanged.emit(o)}_setDefaultTime(o){this._timepickerSrv.setDefaultTimeIfAvailable(o,this.data.minTime,this.data.maxTime,this.data.format,this.data.minutesGap)}}return d.\u0275fac=function(o){return new(o||d)(c.Y36(ho),c.Y36(Rn),c.Y36(Be),c.Y36(go))},d.\u0275dir=c.lG2({type:d,selectors:[["","ngxMatTimepickerBase",""]],hostBindings:function(o,r){1&o&&c.NdJ("keydown",function(g){return r.onKeydown(g)})},inputs:{color:"color",defaultTime:"defaultTime"},standalone:!0}),d})();class Qt{static disableHours(a,o){return o.min||o.max?a.map(r=>{const _=jt.isTwentyFour(o.format)?r.time:jt.formatHour(r.time,o.format,o.period),g=V.fromObject({hour:_}).toFormat(rn.TWELVE);return{...r,disabled:!jt.isTimeAvailable(g,o.min,o.max,"hours")}}):a}static disableMinutes(a,o,r){if(r.min||r.max){const _=jt.formatHour(o,r.format,r.period);let g=V.fromObject({hour:_,minute:0});return a.map(k=>(g=g.set({minute:k.time}),{...k,disabled:!jt.isTimeAvailable(g.toFormat(rn.TWELVE),r.min,r.max,"minutes")}))}return a}static getHours(a){return Array(a).fill(1).map((o,r)=>{const g=o+r;return{time:24===g?0:g,angle:30*g}})}static getMinutes(a=1){const _=[];for(let g=0;g<60;g++){const k=6*g;g%a==0&&_.push({time:g,angle:0!==k?k:360})}return _}static isDigit(a){return!!([46,8,9,27,13].some(o=>o===a.keyCode)||65===a.keyCode&&(!0===a.ctrlKey||!0===a.metaKey)||67===a.keyCode&&(!0===a.ctrlKey||!0===a.metaKey)||88===a.keyCode&&(!0===a.ctrlKey||!0===a.metaKey)||a.keyCode>=35&&a.keyCode<=40)||!((a.keyCode<48||a.keyCode>57)&&(a.keyCode<96||a.keyCode>105))}}var fo=function(d){return d.hour="hour",d.minute="minute",d}(fo||{});let ai=(()=>{class d{get _locale(){return this._timepickerLocaleSrv.locale}constructor(o){this._timepickerLocaleSrv=o}transform(o,r,_=!1){if(null==o||""===o)return"";switch(r){case ce.HOUR:return this._formatTime(fo.hour,o,0===o||_?"HH":"H");case ce.MINUTE:return this._formatTime(fo.minute,o,"mm");default:throw new Error(`There is no Time Unit with type ${r}`)}}_formatTime(o,r,_){try{return V.fromObject({[o]:+r}).setLocale(this._locale).toFormat(_)}catch{throw new Error(`Cannot format provided time - ${r} to locale - ${this._locale}`)}}}return d.\u0275fac=function(o){return new(o||d)(c.Y36(Be,16))},d.\u0275pipe=c.Yjl({name:"timeLocalizer",type:d,pure:!0,standalone:!0}),d})(),ss=(()=>{class d{transform(o,r=5){return o&&(o%r==0?o:"")}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275pipe=c.Yjl({name:"minutesFormatter",type:d,pure:!0,standalone:!0}),d})(),rs=(()=>{class d{transform(o,r,_,g){return null!=o&&!g&&r===o&&o%(_||5)==0}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275pipe=c.Yjl({name:"activeMinute",type:d,pure:!0,standalone:!0}),d})(),ls=(()=>{class d{transform(o,r,_){return null!=o&&!_&&o===r}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275pipe=c.Yjl({name:"activeHour",type:d,pure:!0,standalone:!0}),d})();const Lo_small_height="75px",Lo_small_top="calc(50% - 75px)",Lo_large_height="103px",Lo_large_top="calc(50% - 103px)";let Kn=(()=>{class d{constructor(){this.color="primary",this.innerClockFaceSize=85,this.timeChange=new c.vpe,this.timeSelected=new c.vpe,this.timeUnit=ce}ngAfterViewInit(){this._setClockHandPosition(),this._addTouchEvents()}ngOnChanges(o){const r=o.faceTime,_=o.selectedTime;r&&r.currentValue&&_&&_.currentValue&&(this.selectedTime=this.faceTime.find(g=>g.time===this.selectedTime.time)),_&&_.currentValue&&this._setClockHandPosition(),r&&r.currentValue&&setTimeout(()=>this._selectAvailableTime())}ngOnDestroy(){this._removeTouchEvents()}onMousedown(o){o.preventDefault(),this._isStarted=!0}onMouseup(o){o.preventDefault(),this._isStarted=!1}selectTime(o){if(!this._isStarted&&o instanceof MouseEvent&&"click"!==o.type)return;const r=this.clockFace.nativeElement.getBoundingClientRect(),_=r.left+r.width/2,g=r.top+r.height/2,k=180*Math.atan(Math.abs(o.clientX-_)/Math.abs(o.clientY-g))/Math.PI,S=function ms(d,a,o,r,_){return r>a&&o>=d?180-_:r>a&&o<d?180+_:r<a&&o<d?360-_:_}(_,g,o.clientX,o.clientY,k),M=this.format&&this._isInnerClockFace(_,g,o.clientX,o.clientY),Q=(function cs(d,a){return Math.round(d/a)*a}(S,this.unit===ce.MINUTE?6*(this.minutesGap||1):30)||360)+(M?360:0),K=this.faceTime.find($=>$.angle===Q);K&&!K.disabled&&(this.timeChange.next(K),this._isStarted||this.timeSelected.next(K.time))}trackByTime(o,r){return r.time}_addTouchEvents(){this._touchStartHandler=this.onMousedown.bind(this),this._touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this._touchEndHandler)}_decreaseClockHand(){this.clockHand.nativeElement.style.height=Lo_small_height,this.clockHand.nativeElement.style.top=Lo_small_top}_increaseClockHand(){this.clockHand.nativeElement.style.height=Lo_large_height,this.clockHand.nativeElement.style.top=Lo_large_top}_isInnerClockFace(o,r,_,g){return Math.sqrt(Math.pow(_-o,2)+Math.pow(g-r,2))<this.innerClockFaceSize}_removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this._touchEndHandler)}_selectAvailableTime(){const o=this.faceTime.find(r=>this.selectedTime.time===r.time);if(this.isClockFaceDisabled=this.faceTime.every(r=>r.disabled),o&&o.disabled&&!this.isClockFaceDisabled){const r=this.faceTime.find(_=>!_.disabled);this.timeChange.next(r)}}_setClockHandPosition(){jt.isTwentyFour(this.format)&&(this.selectedTime.time>12||0===this.selectedTime.time?this._decreaseClockHand():this._increaseClockHand()),this.selectedTime&&(this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`)}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275cmp=c.Xpm({type:d,selectors:[["ngx-mat-timepicker-face"]],viewQuery:function(o,r){if(1&o&&(c.Gf(sa,7),c.Gf(ra,7,c.SBq)),2&o){let _;c.iGM(_=c.CRH())&&(r.clockFace=_.first),c.iGM(_=c.CRH())&&(r.clockHand=_.first)}},hostBindings:function(o,r){1&o&&c.NdJ("mousedown",function(g){return r.onMousedown(g)})("mouseup",function(g){return r.onMouseup(g)})("click",function(g){return r.selectTime(g)})("touchmove",function(g){return r.selectTime(g.changedTouches[0])})("touchend",function(g){return r.selectTime(g.changedTouches[0])})("mousemove",function(g){return r.selectTime(g)})},inputs:{color:"color",faceTime:"faceTime",format:"format",minutesGap:"minutesGap",selectedTime:"selectedTime",unit:"unit"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},standalone:!0,features:[c.TTD,c.jDz],ngContentSelectors:ji,decls:11,vars:9,consts:[["hourButton",""],["minutesFace",""],[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"color","ngClass","hidden"],["clockHand",""],["mat-mini-fab","",3,"color",4,"ngIf"],[1,"clock-face__center",3,"color"],["mat-mini-fab","","disableRipple","",1,"mat-elevation-z0",3,"color","ngStyle","disabled"],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],["class","clock-face__inner",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"top","ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"],["mat-mini-fab","",3,"color"],[1,"clock-face__clock-hand_minute_dot"]],template:function(o,r){if(1&o&&(c.F$t(ji),c.YNc(0,la,4,13,"ng-template",null,0,c.W1O),c.YNc(2,ma,2,2,"ng-template",null,1,c.W1O),c.TgZ(4,"div",2,3),c.YNc(6,ha,4,7,"div",4),c.TgZ(7,"mat-toolbar",5,6),c.YNc(9,fa,2,1,"button",7),c.qZA(),c._UZ(10,"mat-toolbar",8),c.qZA()),2&o){const _=c.MAs(3);c.xp6(6),c.Q6J("ngIf",r.unit!==r.timeUnit.MINUTE)("ngIfElse",_),c.xp6(1),c.Q6J("color",r.color)("ngClass",c.VKq(7,xa,r.unit===r.timeUnit.MINUTE))("hidden",r.isClockFaceDisabled),c.xp6(2),c.Q6J("ngIf",r.unit===r.timeUnit.MINUTE),c.xp6(1),c.Q6J("color",r.color)}},dependencies:[Qe.ot,Qe.nh,vt.PC,vt.ax,vt.O5,vt.tP,qn.g0,qn.Ye,vt.mk,vt.OU,ls,rs,ss,ai],styles:["ngx-mat-timepicker-face .clock-face{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;box-sizing:border-box;background-color:#c8c8c880!important}ngx-mat-timepicker-face .clock-face__inner{position:absolute;top:0;left:0;width:100%;height:100%}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void{box-shadow:none;background-color:transparent}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void>span.mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face .clock-face__container{margin-left:-2px}ngx-mat-timepicker-face .clock-face__number{position:absolute;transform-origin:25px 100%;width:50px;text-align:center;z-index:2;top:calc(50% - 125px);left:calc(50% - 25px)}ngx-mat-timepicker-face .clock-face__number--outer{height:125px}ngx-mat-timepicker-face .clock-face__number--outer>span{font-size:16px}ngx-mat-timepicker-face .clock-face__number--inner>span{font-size:14px}ngx-mat-timepicker-face .clock-face__clock-hand{height:103px;width:2px;padding:0;transform-origin:1px 100%;position:absolute;top:calc(50% - 103px);z-index:1}ngx-mat-timepicker-face .clock-face__center{width:8px;height:8px;padding:0;position:absolute;border-radius:50%;top:50%;left:50%;margin:-4px}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button{position:absolute;top:-22px;left:calc(50% - 20px);box-sizing:content-box;display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button .clock-face__clock-hand_minute_dot{display:block;width:4px;height:4px;background:#FFF;border-radius:50%}@media (max-device-width: 1023px) and (orientation: landscape){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}@media screen and (max-width: 360px){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}\n"],encapsulation:2,changeDetection:0}),d})(),si=(()=>{class d{set color(o){this._color=o}get color(){return this._color}constructor(){this.minuteChange=new c.vpe,this.minutesList=[],this.timeUnit=ce,this._color="primary"}ngOnChanges(o){if(o.period&&o.period.currentValue){const r=Qt.getMinutes(this.minutesGap);this.minutesList=Qt.disableMinutes(r,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275cmp=c.Xpm({type:d,selectors:[["ngx-mat-timepicker-minutes-face"]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",minutesGap:"minutesGap",period:"period",selectedHour:"selectedHour",selectedMinute:"selectedMinute"},outputs:{minuteChange:"minuteChange"},standalone:!0,features:[c.TTD,c.jDz],decls:1,vars:5,consts:[[3,"color","faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(o,r){1&o&&(c.TgZ(0,"ngx-mat-timepicker-face",0),c.NdJ("timeChange",function(g){return r.minuteChange.next(g)}),c.qZA()),2&o&&c.Q6J("color",r.color)("faceTime",r.minutesList)("selectedTime",r.selectedMinute)("minutesGap",r.minutesGap)("unit",r.timeUnit.MINUTE)},dependencies:[Kn],encapsulation:2}),d})(),Ii=(()=>{class d{set color(o){this._color=o}get color(){return this._color}set format(o){this._format=o,this.hoursList=Qt.getHours(this._format)}get format(){return this._format}constructor(){this.hourChange=new c.vpe,this.hourSelected=new c.vpe,this.hoursList=[],this._color="primary",this._format=24}onTimeSelected(o){this.hourSelected.next(o)}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275dir=c.lG2({type:d,selectors:[["","ngxMatTimepickerHoursFace",""]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",selectedHour:"selectedHour"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"},standalone:!0}),d})(),ri=(()=>{class d extends Ii{constructor(){super(),this.format=12}ngOnChanges(o){o.period&&o.period.currentValue&&(this.hoursList=Qt.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275cmp=c.Xpm({type:d,selectors:[["ngx-mat-timepicker-12-hours-face"]],inputs:{period:"period"},standalone:!0,features:[c.qOj,c.TTD,c.jDz],decls:1,vars:3,consts:[[3,"color","selectedTime","faceTime","timeChange","timeSelected"]],template:function(o,r){1&o&&(c.TgZ(0,"ngx-mat-timepicker-face",0),c.NdJ("timeChange",function(g){return r.hourChange.next(g)})("timeSelected",function(g){return r.onTimeSelected(g)}),c.qZA()),2&o&&c.Q6J("color",r.color)("selectedTime",r.selectedHour)("faceTime",r.hoursList)},dependencies:[Kn],encapsulation:2,changeDetection:0}),d})(),li=(()=>{class d extends Ii{constructor(){super(),this.format=24}ngAfterContentInit(){this.hoursList=Qt.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275cmp=c.Xpm({type:d,selectors:[["ngx-mat-timepicker-24-hours-face"]],standalone:!0,features:[c.qOj,c.jDz],decls:1,vars:4,consts:[[3,"color","selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(o,r){1&o&&(c.TgZ(0,"ngx-mat-timepicker-face",0),c.NdJ("timeChange",function(g){return r.hourChange.next(g)})("timeSelected",function(g){return r.onTimeSelected(g)}),c.qZA()),2&o&&c.Q6J("color",r.color)("selectedTime",r.selectedHour)("faceTime",r.hoursList)("format",r.format)},dependencies:[Kn],encapsulation:2,changeDetection:0}),d})(),ds=(()=>{class d{constructor(o){this._overlay=o,this.isPeriodAvailable=!0,this.overlayScrollStrategy=this._overlay.scrollStrategies.reposition(),this.periodChanged=new c.vpe,this.timePeriod=ee}animationDone(){this.isPeriodAvailable=!0}changePeriod(o){this.isPeriodAvailable=this._isSwitchPeriodAvailable(o),this.isPeriodAvailable&&this.periodChanged.next(o)}_getDisabledTimeByPeriod(o){switch(this.activeTimeUnit){case ce.HOUR:return Qt.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:o});case ce.MINUTE:return Qt.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:o});default:throw new Error("no such NgxMatTimepickerUnits")}}_isSwitchPeriodAvailable(o){return!this._getDisabledTimeByPeriod(o).every(_=>_.disabled)}}return d.\u0275fac=function(o){return new(o||d)(c.Y36(e.aV))},d.\u0275cmp=c.Xpm({type:d,selectors:[["ngx-mat-timepicker-period"]],inputs:{activeTimeUnit:"activeTimeUnit",format:"format",hours:"hours",maxTime:"maxTime",meridiems:"meridiems",minTime:"minTime",minutes:"minutes",selectedHour:"selectedHour",selectedPeriod:"selectedPeriod"},outputs:{periodChanged:"periodChanged"},standalone:!0,features:[c.jDz],decls:7,vars:12,consts:[["cdkOverlayOrigin","",1,"timepicker-period"],["eventPanelOrigin","cdkOverlayOrigin"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["cdkConnectedOverlay","","cdkConnectedOverlayPanelClass","todo-remove-pointer-events-if-necessary",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayPositionStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(o,r){if(1&o&&(c.TgZ(0,"div",0,1)(2,"button",2),c.NdJ("click",function(){return r.changePeriod(r.timePeriod.AM)}),c._uU(3),c.qZA(),c.TgZ(4,"button",2),c.NdJ("click",function(){return r.changePeriod(r.timePeriod.PM)}),c._uU(5),c.qZA()(),c.YNc(6,va,1,1,"ng-template",3)),2&o){const _=c.MAs(1);c.xp6(2),c.Q6J("ngClass",c.VKq(8,po,r.selectedPeriod===r.timePeriod.AM)),c.xp6(1),c.Oqu(r.meridiems[0]),c.xp6(1),c.Q6J("ngClass",c.VKq(10,po,r.selectedPeriod===r.timePeriod.PM)),c.xp6(1),c.Oqu(r.meridiems[1]),c.xp6(1),c.Q6J("cdkConnectedOverlayScrollStrategy",r.overlayScrollStrategy)("cdkConnectedOverlayPositionStrategy",r.overlayPositionStrategy)("cdkConnectedOverlayOrigin",_)("cdkConnectedOverlayOpen",!r.isPeriodAvailable)}},dependencies:[e.xu,vt.mk,e.pI,vt.O5],styles:[".timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{opacity:.5;padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;user-select:none;outline:none;border-radius:3px;transition:background-color .5s;color:inherit}.timepicker-period__btn.active[_ngcontent-%COMP%]{opacity:1}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:#00000012}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:#0000008c;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:700;color:#fff}"],data:{animation:[(0,Ye.X$)("scaleInOut",[(0,Ye.eR)(":enter",[(0,Ye.oB)({transform:"scale(0)"}),(0,Ye.jt)(".2s",(0,Ye.oB)({transform:"scale(1)"})),(0,Ye.vP)([(0,Ye.jt)("3s",(0,Ye.oB)({opacity:1})),(0,Ye.jt)(".3s",(0,Ye.oB)({opacity:0}))])])])]}}),d})(),Wn=(()=>{class d{get _locale(){return this._timepickerLocaleSrv.locale}constructor(o){this._timepickerLocaleSrv=o,this._numberingSystem=V.local().setLocale(this._locale).resolvedLocaleOptions().numberingSystem}transform(o,r=ce.HOUR){return null==o||""===o?"":isNaN(+o)?r===ce.MINUTE?this._parseTime(o,"mm",fo.minute).toString():this._parseTime(o,"HH",fo.hour).toString():`${o}`}_parseTime(o,r,_){const g=V.fromFormat(String(o),r,{numberingSystem:this._numberingSystem})[_];if(!isNaN(g))return g;throw new Error(`Cannot parse time - ${o}`)}}return d.\u0275fac=function(o){return new(o||d)(c.Y36(Be,16))},d.\u0275pipe=c.Yjl({name:"ngxMatTimepickerParser",type:d,pure:!0,standalone:!0}),d.\u0275prov=c.Yz7({token:d,factory:d.\u0275fac}),d})(),_s=(()=>{class d{constructor(o,r){this._element=o,this._document=r,this._activeElement=this._document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this._element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this._activeElement.focus({preventScroll:!0}))}}return d.\u0275fac=function(o){return new(o||d)(c.Y36(c.SBq),c.Y36(vt.K0,8))},d.\u0275dir=c.lG2({type:d,selectors:[["","ngxMatTimepickerAutofocus",""]],inputs:{isFocusActive:["ngxMatTimepickerAutofocus","isFocusActive"]},standalone:!0,features:[c.TTD]}),d})();function Li(){this.selectionStart=this.selectionEnd}let Di=(()=>{class d{get _selectedTime(){if(this.time)return this.timeList.find(o=>o.time===+this.time)}constructor(o,r){this._elRef=o,this._timeParserPipe=r,this.focused=new c.vpe,this.timeChanged=new c.vpe,this.timeUnitChanged=new c.vpe,this.unfocused=new c.vpe}changeTimeByKeyboard(o){const r=String.fromCharCode(o.keyCode);(function us(d,a,o){if(/\d/.test(a))return Ei(d+a,o)})(this.time,r,this.timeList)&&o.preventDefault()}ngAfterViewInit(){this._elRef.nativeElement.querySelector("input").addEventListener("select",Li,!1)}ngOnDestroy(){this._elRef.nativeElement.querySelector("input").removeEventListener("select",Li)}onKeydown(o){Qt.isDigit(o)?this._changeTimeByArrow(o.keyCode):o.preventDefault()}onModelChange(o){this.time=this._timeParserPipe.transform(o,this.timeUnit)}saveTimeAndChangeTimeUnit(o,r){o.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(r),this.focused.next()}updateTime(){this._selectedTime&&(this.timeChanged.next(this._selectedTime),this.previousTime=this._selectedTime.time)}_addTime(o){return`0${+this.time+o}`.substr(-2)}_changeTimeByArrow(o){let r;38===o?r=this._addTime(this.minutesGap||1):40===o&&(r=this._addTime(-1*(this.minutesGap||1))),Ei(r,this.timeList)||(this.time=r,this.updateTime())}}return d.\u0275fac=function(o){return new(o||d)(c.Y36(c.SBq),c.Y36(Wn))},d.\u0275cmp=c.Xpm({type:d,selectors:[["ngx-mat-timepicker-dial-control"]],inputs:{disabled:"disabled",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{focused:"focused",timeChanged:"timeChanged",timeUnitChanged:"timeUnitChanged",unfocused:"unfocused"},standalone:!0,features:[c._Bn([Wn]),c.jDz],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus","keydown","keypress"]],template:function(o,r){if(1&o&&(c.YNc(0,Ta,2,10,"input",0),c.YNc(1,Ca,3,13,"ng-template",null,1,c.W1O)),2&o){const _=c.MAs(2);c.Q6J("ngIf",!r.isEditable)("ngIfElse",_)}},dependencies:[vt.O5,le.u5,le.Fj,le.JJ,le.On,vt.mk,_s,Wn,ai],styles:[".timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:center;color:inherit}.timepicker-dial__control[_ngcontent-%COMP%]:focus{outline:none;background-color:#0000001a}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]}),d})();function Ei(d,a){const o=a.find(r=>r.time===+d);return!o||o&&o.disabled}let mi,ci=(()=>{class d{set color(o){this._color=o}get color(){return this._color}get hourString(){return`${this.hour}`}get minuteString(){return`${this.minute}`}get _locale(){return this._localeSrv.locale}constructor(o){this._localeSrv=o,this.hourChanged=new c.vpe,this.meridiems=so.meridiems({locale:this._locale}),this.minuteChanged=new c.vpe,this.periodChanged=new c.vpe,this.timeUnit=ce,this.timeUnitChanged=new c.vpe,this._color="primary"}changeHour(o){this.hourChanged.next(o)}changeMinute(o){this.minuteChanged.next(o)}changePeriod(o){this.periodChanged.next(o)}changeTimeUnit(o){this.timeUnitChanged.next(o)}hideHint(){this.isHintVisible=!1}ngOnChanges(o){const r=o.period&&o.period.currentValue;if(r||o.format&&o.format.currentValue){const _=Qt.getHours(this.format);this.hours=Qt.disableHours(_,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(r||o.hour&&o.hour.currentValue){const _=Qt.getMinutes(this.minutesGap);this.minutes=Qt.disableMinutes(_,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}showHint(){this.isHintVisible=!0}}return d.\u0275fac=function(o){return new(o||d)(c.Y36(Be))},d.\u0275cmp=c.Xpm({type:d,selectors:[["ngx-mat-timepicker-dial"]],inputs:{activeTimeUnit:"activeTimeUnit",color:"color",editableHintTmpl:"editableHintTmpl",format:"format",hour:"hour",hoursOnly:"hoursOnly",isEditable:"isEditable",maxTime:"maxTime",minTime:"minTime",minute:"minute",minutesGap:"minutesGap",period:"period"},outputs:{hourChanged:"hourChanged",minuteChanged:"minuteChanged",periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged"},standalone:!0,features:[c.TTD,c.jDz],decls:9,vars:14,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],["class","timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(o,r){1&o&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-mat-timepicker-dial-control",3),c.NdJ("timeUnitChanged",function(g){return r.changeTimeUnit(g)})("timeChanged",function(g){return r.changeHour(g)})("focused",function(){return r.showHint()})("unfocused",function(){return r.hideHint()}),c.qZA(),c.TgZ(4,"span"),c._uU(5,":"),c.qZA(),c.TgZ(6,"ngx-mat-timepicker-dial-control",4),c.NdJ("timeUnitChanged",function(g){return r.changeTimeUnit(g)})("timeChanged",function(g){return r.changeMinute(g)})("focused",function(){return r.showHint()})("unfocused",function(){return r.hideHint()}),c.qZA()(),c.YNc(7,ka,1,9,"ngx-mat-timepicker-period",5),c.qZA(),c.YNc(8,Za,4,4,"div",6),c.qZA()),2&o&&(c.xp6(3),c.Q6J("timeList",r.hours)("time",r.hourString)("timeUnit",r.timeUnit.HOUR)("isActive",r.activeTimeUnit===r.timeUnit.HOUR)("isEditable",r.isEditable),c.xp6(3),c.Q6J("timeList",r.minutes)("time",r.minuteString)("timeUnit",r.timeUnit.MINUTE)("isActive",r.activeTimeUnit===r.timeUnit.MINUTE)("isEditable",r.isEditable)("minutesGap",r.minutesGap)("disabled",r.hoursOnly),c.xp6(1),c.Q6J("ngIf",24!==r.format),c.xp6(1),c.Q6J("ngIf",r.isEditable||r.editableHintTmpl))},dependencies:[Di,vt.O5,ds,vt.mk,vt.tP],styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:center}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),d})(),Pi=(()=>{class d{}return d.\u0275fac=function(o){return new(o||d)},d.\u0275cmp=c.Xpm({type:d,selectors:[["ngx-mat-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},standalone:!0,features:[c.jDz],ngContentSelectors:Ia,decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[4,"ngTemplateOutlet"]],template:function(o,r){if(1&o&&(c.F$t(),c.YNc(0,Sa,2,1,"div",0),c.YNc(1,ja,1,1,"ng-template",null,1,c.W1O),c.YNc(3,Ma,1,0,"ng-template",null,2,c.W1O)),2&o){const _=c.MAs(2);c.Q6J("ngIf",r.appendToInput)("ngIfElse",_)}},dependencies:[vt.O5,vt.tP],encapsulation:2}),d})(),Ui=(()=>{class d extends Mi{constructor(o,r,_,g,k){super(_,g,k,o),this.data=o,this._dialogRef=r}close(){this._dialogRef.close()}}return d.\u0275fac=function(o){return new(o||d)(c.Y36(Jn.WI),c.Y36(Jn.so),c.Y36(ho),c.Y36(Rn),c.Y36(Be))},d.\u0275cmp=c.Xpm({type:d,selectors:[["ngx-mat-timepicker-dialog"]],standalone:!0,features:[c.qOj,c.jDz],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["mat-dialog-content",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],["mat-dialog-actions",""],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(o,r){if(1&o&&(c.YNc(0,La,2,1,"ng-template",null,0,c.W1O),c.YNc(2,Da,2,1,"ng-template",null,1,c.W1O),c.TgZ(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),c.NdJ("periodChanged",function(g){return r.changePeriod(g)})("timeUnitChanged",function(g){return r.changeTimeUnit(g)})("hourChanged",function(g){return r.onHourChange(g)})("minuteChanged",function(g){return r.onMinuteChange(g)}),c.ALo(9,"async"),c.ALo(10,"async"),c.ALo(11,"async"),c.qZA()(),c.TgZ(12,"div",7)(13,"div",8),c.YNc(14,Pa,4,2,"div",9),c.YNc(15,Ua,4,14,"ngx-mat-timepicker-minutes-face",10),c.qZA()()()()(),c.TgZ(16,"div",11)(17,"div",12),c.NdJ("click",function(){return r.close()}),c.YNc(18,za,1,0,"ng-container",13),c.qZA(),c.TgZ(19,"div",12),c.NdJ("click",function(){return r.setTime()}),c.YNc(20,Fa,1,0,"ng-container",13),c.qZA()()),2&o){const _=c.MAs(1),g=c.MAs(3);let k,S;c.xp6(5),c.Q6J("appendToInput",r.data.appendToInput)("inputElement",r.data.inputElement),c.xp6(1),c.Q6J("ngClass",r.data.timepickerClass),c.xp6(1),c.ekj("is-editable",r.data.enableKeyboardInput),c.Q6J("color",r.color),c.xp6(1),c.Q6J("color",r.color)("format",r.data.format)("hour",null==(k=c.lcZ(9,23,r.selectedHour))?null:k.time)("minute",null==(S=c.lcZ(10,25,r.selectedMinute))?null:S.time)("period",c.lcZ(11,27,r.selectedPeriod))("activeTimeUnit",r.activeTimeUnit)("minTime",r.data.minTime)("maxTime",r.data.maxTime)("isEditable",r.data.enableKeyboardInput)("editableHintTmpl",r.data.editableHintTmpl)("minutesGap",r.data.minutesGap)("hoursOnly",r.data.hoursOnly),c.xp6(5),c.Q6J("ngSwitch",r.activeTimeUnit),c.xp6(1),c.Q6J("ngSwitchCase",r.timeUnit.HOUR),c.xp6(1),c.Q6J("ngSwitchCase",r.timeUnit.MINUTE),c.xp6(3),c.Q6J("ngTemplateOutlet",r.data.cancelBtnTmpl?r.data.cancelBtnTmpl:_),c.xp6(2),c.Q6J("ngTemplateOutlet",r.data.confirmBtnTmpl?r.data.confirmBtnTmpl:g)}},dependencies:[vt.Ov,vt.mk,vt.O5,vt.RF,vt.n9,vt.tP,Qe.ot,Qe.lW,Jn.Is,Jn.xY,Jn.H8,qn.g0,qn.Ye,Pi,ci,li,ri,si],styles:["div.ngx-mat-timepicker-dialog>mat-dialog-container{padding-top:0}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content]{padding:0;max-height:85vh}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header.is-editable{height:auto}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] .clock-face{margin:16px}div.ngx-mat-timepicker-dialog>mat-dialog-container div[mat-dialog-actions]{justify-content:flex-end;display:flex}\n"],encapsulation:2}),d})(),zi=(()=>{class d extends Mi{constructor(o,r,_,g){super(r,_,g,o),this.data=o}close(){this.data.timepickerBaseRef.close()}}return d.\u0275fac=function(o){return new(o||d)(c.Y36(go),c.Y36(ho),c.Y36(Rn),c.Y36(Be))},d.\u0275cmp=c.Xpm({type:d,selectors:[["ngx-mat-timepicker-standalone"]],hostVars:2,hostBindings:function(o,r){2&o&&c.ekj("mat-app-background",!0)},standalone:!0,features:[c.qOj,c.jDz],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["cdkTrapFocus",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"ngx-mat-timepicker-standalone-actions"],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(o,r){if(1&o&&(c.YNc(0,Ja,2,1,"ng-template",null,0,c.W1O),c.YNc(2,qa,2,1,"ng-template",null,1,c.W1O),c.TgZ(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),c.NdJ("periodChanged",function(g){return r.changePeriod(g)})("timeUnitChanged",function(g){return r.changeTimeUnit(g)})("hourChanged",function(g){return r.onHourChange(g)})("minuteChanged",function(g){return r.onMinuteChange(g)}),c.ALo(9,"async"),c.ALo(10,"async"),c.ALo(11,"async"),c.qZA()(),c.TgZ(12,"div",7)(13,"div",8),c.YNc(14,Ba,4,2,"div",9),c.YNc(15,Ha,4,14,"ngx-mat-timepicker-minutes-face",10),c.qZA()()()(),c.TgZ(16,"div",11)(17,"div",12),c.NdJ("click",function(){return r.close()}),c.YNc(18,Ga,1,0,"ng-container",13),c.qZA(),c.TgZ(19,"div",12),c.NdJ("click",function(){return r.setTime()}),c.YNc(20,Va,1,0,"ng-container",13),c.qZA()()()),2&o){const _=c.MAs(1),g=c.MAs(3);let k,S;c.xp6(5),c.Q6J("appendToInput",r.data.appendToInput)("inputElement",r.data.inputElement),c.xp6(1),c.Q6J("ngClass",r.data.timepickerClass),c.xp6(1),c.ekj("is-editable",r.data.enableKeyboardInput),c.Q6J("color",r.color),c.xp6(1),c.Q6J("color",r.color)("format",r.data.format)("hour",null==(k=c.lcZ(9,23,r.selectedHour))?null:k.time)("minute",null==(S=c.lcZ(10,25,r.selectedMinute))?null:S.time)("period",c.lcZ(11,27,r.selectedPeriod))("activeTimeUnit",r.activeTimeUnit)("minTime",r.data.minTime)("maxTime",r.data.maxTime)("isEditable",r.data.enableKeyboardInput)("editableHintTmpl",r.data.editableHintTmpl)("minutesGap",r.data.minutesGap)("hoursOnly",r.data.hoursOnly),c.xp6(5),c.Q6J("ngSwitch",r.activeTimeUnit),c.xp6(1),c.Q6J("ngSwitchCase",r.timeUnit.HOUR),c.xp6(1),c.Q6J("ngSwitchCase",r.timeUnit.MINUTE),c.xp6(3),c.Q6J("ngTemplateOutlet",r.data.cancelBtnTmpl?r.data.cancelBtnTmpl:_),c.xp6(2),c.Q6J("ngTemplateOutlet",r.data.confirmBtnTmpl?r.data.confirmBtnTmpl:g)}},dependencies:[Qe.ot,Qe.lW,ei.rt,ei.mK,Pi,vt.mk,qn.g0,qn.Ye,ci,vt.RF,vt.n9,vt.O5,li,ri,si,vt.tP,vt.Ov],styles:["ngx-mat-timepicker-standalone{display:block;border-radius:4px;box-shadow:0 0 5px 2px #00000040;overflow:hidden}ngx-mat-timepicker-standalone ngx-mat-timepicker-content{display:block}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header.is-editable{height:auto}ngx-mat-timepicker-standalone ngx-mat-timepicker-content .clock-face{margin:16px}ngx-mat-timepicker-standalone .ngx-mat-timepicker-standalone-actions{display:flex;flex-direction:row;justify-content:flex-end;padding:0 16px 16px}\n"],encapsulation:2}),d})(),di=(()=>{class d{set appendToInput(o){this._appendToInput=(0,at.Ig)(o)}set color(o){this._color=o}get color(){return this._color}get disabled(){return this._timepickerInput&&this._timepickerInput.disabled}set enableKeyboardInput(o){this._enableKeyboardInput=(0,at.Ig)(o)}get enableKeyboardInput(){return this._enableKeyboardInput}get format(){return this._timepickerInput?this._timepickerInput.format:this._format}set format(o){this._format=jt.isTwentyFour(o)?24:12}get inputElement(){return this._timepickerInput&&this._timepickerInput.element}get maxTime(){return this._timepickerInput?this._timepickerInput.max:this.max}get minTime(){return this._timepickerInput?this._timepickerInput.min:this.min}get minutesGap(){return this._minutesGap}set minutesGap(o){null!=o&&(o=Math.floor(o),this._minutesGap=o<=59?o:1)}get overlayOrigin(){return this._timepickerInput?this._timepickerInput.cdkOverlayOrigin:void 0}get time(){return this._timepickerInput&&this._timepickerInput.value}constructor(o,r,_){this._eventService=o,this._dialog=r,this._overlay=_,this.closed=new c.vpe,this.hourSelected=new c.vpe,this.hoursOnly=!1,this.id="ngx_mat_timepicker_"+ ++d.nextId,this.isEsc=!0,this.opened=new c.vpe,this.overlayPositions=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:0},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:0}],this.showPicker=!1,this.timeChanged=new c.vpe,this.timeSet=new c.vpe,this.timeUpdated=new $n.X(void 0),this._appendToInput=!1,this._color="primary",this._enableKeyboardInput=!1,this._format=12}close(){this._appendToInput?this._overlayRef&&this._overlayRef.dispose():this._dialogRef&&this._dialogRef.close(),this.inputElement.focus(),this.showPicker=!1,this.closed.emit()}open(){mi={timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this._appendToInput,hoursOnly:this.hoursOnly,timepickerClass:this.timepickerClass,inputElement:this.inputElement,color:this.color},this._appendToInput?this.showPicker=!0:(this._dialogRef=this._dialog.open(Ui,{panelClass:"ngx-mat-timepicker-dialog",data:{...mi}}),this._dialogRef.afterClosed().subscribe(()=>{this.closed.emit()})),this.opened.emit()}registerInput(o){if(this._timepickerInput)throw console.warn("Input for this timepicker was already set",o.element),Error("A Timepicker can only be associated with a single input.");this._timepickerInput=o}unregisterInput(){this._timepickerInput=void 0}updateTime(o){this.timeUpdated.next(o)}}return d.nextId=0,d.\u0275fac=function(o){return new(o||d)(c.Y36(Rn),c.Y36(Jn.uw),c.Y36(e.aV))},d.\u0275cmp=c.Xpm({type:d,selectors:[["ngx-mat-timepicker"]],hostVars:1,hostBindings:function(o,r){2&o&&c.Ikx("id",r.id)},inputs:{appendToInput:"appendToInput",color:"color",enableKeyboardInput:"enableKeyboardInput",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",defaultTime:"defaultTime",disableAnimation:"disableAnimation",editableHintTmpl:"editableHintTmpl",hoursOnly:"hoursOnly",isEsc:"isEsc",max:"max",min:"min",preventOverlayClick:"preventOverlayClick",timepickerClass:"timepickerClass"},outputs:{closed:"closed",hourSelected:"hourSelected",opened:"opened",timeChanged:"timeChanged",timeSet:"timeSet"},standalone:!0,features:[c._Bn([{provide:go,useFactory:()=>mi}]),c.jDz],decls:1,vars:4,consts:[["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","backdropClick"]],template:function(o,r){1&o&&(c.YNc(0,$a,1,0,"ng-template",0),c.NdJ("backdropClick",function(){return r.close()})),2&o&&c.Q6J("cdkConnectedOverlayPositions",r.overlayPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayOrigin",r.overlayOrigin)("cdkConnectedOverlayOpen",r.showPicker)},dependencies:[e.pI,zi],encapsulation:2}),d})(),Fi=(()=>{class d{}return d.\u0275fac=function(o){return new(o||d)},d.\u0275dir=c.lG2({type:d,selectors:[["","ngxMatTimepickerToggleIcon",""]],standalone:!0}),d})(),Ji=(()=>{class d{get disabled(){return void 0===this._disabled?this.timepicker?.disabled:this._disabled}set disabled(o){this._disabled=o}open(o){this.timepicker&&(this.timepicker.open(),o.stopPropagation())}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275cmp=c.Xpm({type:d,selectors:[["ngx-mat-timepicker-toggle"]],contentQueries:function(o,r,_){if(1&o&&c.Suo(_,Fi,7),2&o){let g;c.iGM(g=c.CRH())&&(r.customIcon=g.first)}},inputs:{disabled:"disabled",timepicker:["for","timepicker"]},standalone:!0,features:[c.jDz],ngContentSelectors:Wa,decls:3,vars:2,consts:[["color","","mat-icon-button","","type","button",1,"ngx-mat-timepicker-toggle","mat-elevation-z0",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","class","ngx-mat-timepicker-toggle-default-icon","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",1,"ngx-mat-timepicker-toggle-default-icon"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(o,r){1&o&&(c.F$t(Ka),c.TgZ(0,"button",0),c.NdJ("click",function(g){return r.open(g)}),c.YNc(1,Ra,2,0,"svg",1),c.Hsn(2),c.qZA()),2&o&&(c.Q6J("disabled",r.disabled),c.xp6(1),c.Q6J("ngIf",!r.customIcon))},dependencies:[Qe.ot,Qe.RK,vt.O5],styles:["button.ngx-mat-timepicker-toggle{background-color:transparent;text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer;box-shadow:none}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{margin:auto}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}body .ngx-mat-timepicker-toggle{color:#0000008a}\n"],encapsulation:2}),d})(),qi=(()=>{class d{set color(o){this._color=o}get color(){return this._color}set floatLabel(o){this._floatLabel=o}get floatLabel(){return this._floatLabel}constructor(o){this._timeParser=o,this.id=d.nextId++,this.timeChanged=new c.vpe,this._color="primary",this._floatLabel="auto"}changeTime(o){o.stopPropagation();const r=o.data,_=function ps(d,a){if(/\d/.test(a))return+(d+a)}(String(this.time),r);this._changeTimeIfValid(_)}decrease(){if(!this.disabled){let o=+this.time-1;o<this.min&&(o=this.max),this._isSelectedTimeDisabled(o)&&(o=this._getAvailableTime(o,this._getPrevAvailableTime.bind(this))),o!==this.time&&this.timeChanged.emit(o)}}increase(){if(!this.disabled){let o=+this.time+1;o>this.max&&(o=this.min),this._isSelectedTimeDisabled(o)&&(o=this._getAvailableTime(o,this._getNextAvailableTime.bind(this))),o!==this.time&&this.timeChanged.emit(o)}}ngOnChanges(o){o.timeList&&null!=this.time&&this._isSelectedTimeDisabled(this.time)&&this._setAvailableTime()}onBlur(){this.isFocused=!1,this._previousTime!==this.time&&this._changeTimeIfValid(+this.time)}onFocus(){this.isFocused=!0,this._previousTime=this.time}onKeydown(o){switch(o.stopPropagation(),Qt.isDigit(o)||o.preventDefault(),o.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==o.key&&o.preventDefault()}onModelChange(o){this.time=+this._timeParser.transform(o,this.timeUnit)}_changeTimeIfValid(o){if(!isNaN(o)){if(this.time=o,this.time>this.max){const r=String(o);this.time=+r[r.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}_getAvailableTime(o,r){return r(this.timeList.findIndex(k=>k.time===o))??this.time}_getNextAvailableTime(o){const r=this.timeList,_=r.length;for(let g=o+1;g<_;g++){const k=r[g];if(!k.disabled)return k.time}}_getPrevAvailableTime(o){for(let r=o;r>=0;r--){const _=this.timeList[r];if(!_.disabled)return _.time}}_isSelectedTimeDisabled(o){return this.timeList.find(r=>r.time===o).disabled}_setAvailableTime(){this.time=this.timeList.find(o=>!o.disabled).time,this.timeChanged.emit(this.time)}}return d.nextId=0,d.\u0275fac=function(o){return new(o||d)(c.Y36(Wn))},d.\u0275cmp=c.Xpm({type:d,selectors:[["ngx-mat-timepicker-time-control"]],inputs:{color:"color",disabled:"disabled",floatLabel:"floatLabel",max:"max",min:"min",placeholder:"placeholder",preventTyping:"preventTyping",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[c._Bn([Wn]),c.TTD,c.jDz],decls:13,vars:17,consts:[[1,"ngx-mat-timepicker-control",3,"color","floatLabel","ngClass"],["matInput","","maxlength","2",3,"id","name","ngModel","placeholder","disabled","ngModelChange","keydown","beforeinput","focus","blur"],["matSuffix","",1,"arrows-wrap"],["role","button",1,"arrow",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","18","viewBox","0 0 24 24","width","18"],["d","M0 0h24v24H0z","fill","none"],["d","M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"],["d","M0 0h24v24H0V0z","fill","none"],["d","M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"]],template:function(o,r){1&o&&(c.TgZ(0,"mat-form-field",0)(1,"input",1),c.NdJ("ngModelChange",function(g){return r.onModelChange(g)})("keydown",function(g){return r.onKeydown(g)})("beforeinput",function(g){return r.changeTime(g)})("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()}),c.ALo(2,"timeLocalizer"),c.ALo(3,"ngxMatTimepickerParser"),c.qZA(),c.TgZ(4,"div",2)(5,"span",3),c.NdJ("click",function(){return r.increase()}),c.O4$(),c.TgZ(6,"svg",4),c._UZ(7,"path",5)(8,"path",6),c.qZA()(),c.kcU(),c.TgZ(9,"span",3),c.NdJ("click",function(){return r.decrease()}),c.O4$(),c.TgZ(10,"svg",4),c._UZ(11,"path",7)(12,"path",8),c.qZA()()()()),2&o&&(c.Q6J("color",r.color)("floatLabel",r.floatLabel)("ngClass",c.VKq(15,po,r.isFocused)),c.xp6(1),c.MGl("id","ngx_mat_timepicker_field_",r.id,"")("name","ngx_mat_timepicker_field_",r.id,""),c.Q6J("ngModel",c.Dn7(2,8,c.xi3(3,12,r.time,r.timeUnit),r.timeUnit,!0))("placeholder",r.placeholder)("disabled",r.disabled))},dependencies:[Qn.lN,Qn.KE,Qn.R9,vt.mk,jo.c,jo.Nt,le.u5,le.Fj,le.JJ,le.nD,le.On,Wn,ai],styles:[".ngx-mat-timepicker-control[_ngcontent-%COMP%]{width:60px;min-width:60px}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%]{position:relative;z-index:1}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{text-align:center;opacity:.5;height:15px;cursor:pointer;transition:opacity .2s;-webkit-user-select:none;user-select:none}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0}),d})(),gs=(()=>{class d{get color(){return this._color}set color(o){this._color=o}get defaultTime(){return this._defaultTime}set defaultTime(o){this._defaultTime=o,this._isDefaultTime=!!o}get floatLabel(){return this._floatLabel}set floatLabel(o){this._floatLabel=o}get format(){return this._format}set format(o){jt.isTwentyFour(o)?(this._format=24,this.minHour=0,this.maxHour=23):(this._format=12,this.minHour=1,this.maxHour=12),this.hoursList=Qt.getHours(this._format),o&&this._previousFormat&&this._previousFormat!==this._format&&this._updateTime(this.timepickerTime),this._previousFormat=this._format}get max(){return this._max}set max(o){this._max="string"!=typeof o?o:jt.parseTime(o,{locale:this._locale,format:this.format})}get min(){return this._min}set min(o){this._min="string"!=typeof o?o:jt.parseTime(o,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(o,r){this._timepickerService=o,this._timepickerLocaleSrv=r,this.hour$=new $n.X(void 0),this.maxHour=12,this.minHour=1,this.minute$=new $n.X(void 0),this.period=ee.AM,this.periods=[ee.AM,ee.PM],this.timeChanged=new c.vpe,this.timeUnit=ce,this._color="primary",this._floatLabel="auto",this._format=12,this._isFirstTimeChange=!0,this._subsCtrl$=new co.x,this._onChange=()=>{},this._onTouched=()=>{}}changeHour(o){this._timepickerService.hour=this.hoursList.find(r=>r.time===o),this._changeTime()}changeMinute(o){this._timepickerService.minute=this.minutesList.find(r=>r.time===o),this._changeTime()}changePeriod(o){this._timepickerService.period=o.value,this._changeTime()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._initTime(this.defaultTime),this.hoursList=Qt.getHours(this._format),this.minutesList=Qt.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this._timepickerService.selectedHour.pipe((0,_o.b)(o=>this._selectedHour=o?.time),(0,Ai.U)(this._changeDefaultTimeValue.bind(this)),(0,_o.b)(()=>this.isTimeRangeSet&&this._updateAvailableMinutes())).subscribe({next:o=>this.hour$.next(o)}),this._timepickerService.selectedMinute.pipe((0,Ai.U)(this._changeDefaultTimeValue.bind(this)),(0,_o.b)(()=>this._isFirstTimeChange=!1)).subscribe({next:o=>this.minute$.next(o)}),12===this.format&&this._timepickerService.selectedPeriod.pipe((0,ia.x)(),(0,_o.b)(o=>this.period=o),(0,_o.b)(o=>this.isChangePeriodDisabled=this._isPeriodDisabled(o)),(0,ti.R)(this._subsCtrl$)).subscribe(()=>this.isTimeRangeSet&&this._updateAvailableTime())}onTimeSet(o){this._updateTime(o),this._emitLocalTimeChange(o)}registerOnChange(o){this._onChange=o}registerOnTouched(o){this._onTouched=o}setDisabledState(o){this.disabled=o}writeValue(o){o?this._initTime(o):this._resetTime()}_changeDefaultTimeValue(o){return!this._isDefaultTime&&this._isFirstTimeChange?{...o,time:null}:o}_changeTime(){if(!isNaN(this.hour$.getValue()?.time)&&!isNaN(this.minute$.getValue()?.time)){const o=this._timepickerService.getFullTime(this.format);this.timepickerTime=o,this._emitLocalTimeChange(o)}}_emitLocalTimeChange(o){const r=jt.toLocaleTimeString(o,{format:this.format,locale:this._locale});this._onChange(r),this._onTouched(r),this.timeChanged.emit(r)}_initTime(o){if(!jt.isTimeAvailable(o,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this._updateTime(jt.fromDateTimeToString(this.min,this.format));if(this.max)return void this._updateTime(jt.fromDateTimeToString(this.max,this.format))}this._updateTime(o)}_isPeriodDisabled(o){return Qt.disableHours(Qt.getHours(12),{min:this.min,max:this.max,format:12,period:o===ee.AM?ee.PM:ee.AM}).every(r=>r.disabled)}_resetTime(){this._timepickerService.hour={angle:0,time:null},this._timepickerService.minute={angle:0,time:null}}_updateAvailableHours(){this.hoursList=Qt.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableMinutes(){this.minutesList=Qt.disableMinutes(this.minutesList,this._selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableTime(){this._updateAvailableHours(),this._selectedHour&&this._updateAvailableMinutes()}_updateTime(o){if(o){const r=jt.formatTime(o,{locale:this._locale,format:this.format});this._timepickerService.setDefaultTimeIfAvailable(r,this.min,this.max,this.format),this.timepickerTime=r}}}return d.\u0275fac=function(o){return new(o||d)(c.Y36(ho),c.Y36(Be))},d.\u0275cmp=c.Xpm({type:d,selectors:[["ngx-mat-timepicker-field"]],inputs:{color:"color",defaultTime:"defaultTime",floatLabel:"floatLabel",format:"format",max:"max",min:"min",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",controlOnly:"controlOnly",disabled:"disabled",toggleIcon:"toggleIcon"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[c._Bn([ho,{provide:le.JU,useExisting:d,multi:!0}]),c.jDz],decls:11,vars:32,consts:[[1,"ngx-mat-timepicker",3,"ngClass"],[1,"ngx-mat-timepicker__control--first",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],[1,"separator-colon","ngx-mat-timepicker__control--second"],[1,"ngx-mat-timepicker__control--third",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],["class","period-select ngx-mat-timepicker__control--forth",3,"color",4,"ngIf"],["class","ngx-mat-timepicker__toggle",3,"for","disabled",4,"ngIf"],[3,"color","min","max","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl","timeSet"],["timepicker",""],["defaultIcon",""],[1,"period-select","ngx-mat-timepicker__control--forth",3,"color"],[3,"disabled","ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ngx-mat-timepicker__toggle",3,"for","disabled"],["ngxMatTimepickerToggleIcon",""],[4,"ngTemplateOutlet"]],template:function(o,r){if(1&o&&(c.TgZ(0,"div",0)(1,"ngx-mat-timepicker-time-control",1),c.NdJ("timeChanged",function(g){return r.changeHour(g)}),c.qZA(),c.TgZ(2,"span",2),c._uU(3,":"),c.qZA(),c.TgZ(4,"ngx-mat-timepicker-time-control",3),c.NdJ("timeChanged",function(g){return r.changeMinute(g)}),c.qZA(),c.YNc(5,ts,3,4,"mat-form-field",4),c.YNc(6,ns,3,3,"ngx-mat-timepicker-toggle",5),c.qZA(),c.TgZ(7,"ngx-mat-timepicker",6,7),c.NdJ("timeSet",function(g){return r.onTimeSet(g)}),c.qZA(),c.YNc(9,os,2,0,"ng-template",null,8,c.W1O)),2&o){let _,g;c.Q6J("ngClass",c.VKq(30,is,r.disabled)),c.xp6(1),c.Q6J("color",r.color)("floatLabel",r.floatLabel)("placeholder","HH")("time",null==(_=r.hour$.getValue())?null:_.time)("min",r.minHour)("max",r.maxHour)("timeUnit",r.timeUnit.HOUR)("disabled",r.disabled)("timeList",r.hoursList)("preventTyping",r.isTimeRangeSet),c.xp6(3),c.Q6J("color",r.color)("floatLabel",r.floatLabel)("placeholder","MM")("time",null==(g=r.minute$.getValue())?null:g.time)("min",0)("max",59)("timeUnit",r.timeUnit.MINUTE)("disabled",r.disabled)("timeList",r.minutesList)("preventTyping",r.isTimeRangeSet),c.xp6(1),c.Q6J("ngIf",24!==r.format),c.xp6(1),c.Q6J("ngIf",!r.controlOnly),c.xp6(1),c.Q6J("color",r.color)("min",r.min)("max",r.max)("defaultTime",r.timepickerTime)("format",r.format)("cancelBtnTmpl",r.cancelBtnTmpl)("confirmBtnTmpl",r.confirmBtnTmpl)}},dependencies:[vt.mk,qi,vt.O5,Qn.lN,Qn.KE,ni.LD,ni.gD,Si.ey,le.u5,le.JJ,le.On,vt.ax,Si.Ng,Ji,Fi,vt.tP,di,oi.Ps,oi.Hw],styles:[".ngx-mat-timepicker{display:flex;align-items:center;height:100%}.ngx-mat-timepicker--disabled{background:rgba(0,0,0,.07);pointer-events:none}.ngx-mat-timepicker .separator-colon{margin-left:5px;margin-right:5px}.ngx-mat-timepicker .period-select{width:60px;min-width:60px;margin-left:8px;text-align:center}.ngx-mat-timepicker__control--first{order:1}.ngx-mat-timepicker__control--second{order:2}.ngx-mat-timepicker__control--third{order:3}.ngx-mat-timepicker__control--forth{order:4}.ngx-mat-timepicker__toggle{order:4;margin-bottom:1.5em;margin-left:4px}.ngx-mat-timepicker__toggle span.mat-button-wrapper{font-size:24px}\n"],encapsulation:2,changeDetection:0}),d})(),hs=(()=>{class d{get element(){return this._elementRef&&this._elementRef.nativeElement}get format(){return this._format}set format(o){this._format=jt.isTwentyFour(+o)?24:12,o&&this._previousFormat&&this._previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this._previousFormat=this._format}get max(){return this._max}set max(o){this._max="string"!=typeof o?o:jt.parseTime(o,{locale:this._locale,format:this.format})}get min(){return this._min}set min(o){this._min="string"!=typeof o?o:jt.parseTime(o,{locale:this._locale,format:this.format})}set timepicker(o){this._registerTimepicker(o)}get value(){return this._value?jt.toLocaleTimeString(this._value,{format:this.format,locale:this._locale}):""}set value(o){if(!o)return this._value="",void this._updateInputValue();const r=jt.formatTime(o,{locale:this._locale,format:this.format});if(jt.isTimeAvailable(r,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=r,void this._updateInputValue();console.warn("Selected time doesn't match min or max value")}set _defaultTime(o){this._timepicker.defaultTime=jt.formatTime(o,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(o,r,_){this._elementRef=o,this._timepickerLocaleSrv=r,this._matFormField=_,this.cdkOverlayOrigin=new e.xu(this._matFormField?this._matFormField.getConnectedOverlayOrigin():this._elementRef),this._format=12,this._subsCtrl$=new co.x,this._value="",this.onTouched=()=>{},this._onChange=()=>{}}ngOnChanges(o){const r=o.value;r&&r.currentValue&&(this._defaultTime=r.currentValue)}ngOnDestroy(){this._unregisterTimepicker(),this._subsCtrl$.next(),this._subsCtrl$.complete()}onClick(o){this.disableClick||(this._timepicker.open(),o.stopPropagation())}registerOnChange(o){this._onChange=o}registerOnTouched(o){this.onTouched=o}setDisabledState(o){this.disabled=o}updateValue(o){this.value=o.target.value,this._onChange(this.value)}writeValue(o){this.value=o,o&&(this._defaultTime=o)}_registerTimepicker(o){if(!o)throw new Error("NgxMatTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxMatTimepicker directive");this._timepicker=o,this._timepicker.registerInput(this),this._timepicker.timeSet.pipe((0,ti.R)(this._subsCtrl$)).subscribe(r=>{this.value=r,this._onChange(this.value),this.onTouched(),this._defaultTime=this._value})}_unregisterTimepicker(){this._timepicker&&this._timepicker.unregisterInput()}_updateInputValue(){this._elementRef.nativeElement.value=this.value}}return d.\u0275fac=function(o){return new(o||d)(c.Y36(c.SBq),c.Y36(Be),c.Y36(Qn.KE,8))},d.\u0275dir=c.lG2({type:d,selectors:[["","ngxMatTimepicker",""]],hostVars:2,hostBindings:function(o,r){1&o&&c.NdJ("blur",function(){return r.onTouched()})("click",function(g){return r.onClick(g)})("change",function(g){return r.updateValue(g)}),2&o&&(c.Ikx("disabled",r.disabled),c.uIk("cdkOverlayOrigin",r.cdkOverlayOrigin))},inputs:{format:"format",max:"max",min:"min",timepicker:["ngxMatTimepicker","timepicker"],value:"value",disableClick:"disableClick",disabled:"disabled"},standalone:!0,features:[c._Bn([{provide:le.JU,useExisting:d,multi:!0}]),c.TTD]}),d})(),fs=(()=>{class d{static setLocale(o){return{ngModule:d,providers:[{provide:ii,useValue:o},{provide:go,useValue:void 0},Be]}}}return d.\u0275fac=function(o){return new(o||d)},d.\u0275mod=c.oAB({type:d}),d.\u0275inj=c.cJS({providers:[Be,{provide:Qe.Ew,useValue:{color:"void"}}],imports:[vt.ez,ei.rt,le.u5,Qe.ot,Qn.lN,Jn.Is,jo.c,ni.LD,qn.g0,oi.Ps,e.U8,aa.eL,di,ci,Di,Ui,Kn,si,zi,Ji,ri,li,gs,qi]}),d})()}}]);