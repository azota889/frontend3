"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[6093,9621],{7919:(E,v,l)=>{l.d(v,{Z:()=>t});var i=l(48891);let t=(()=>{var p;class g{constructor(e){this.el=e,this.hasDecimalPoint=!1,this.hasNegativeSign=!1,this.navigationKeys=["Backspace","Delete","Tab","Escape","Enter","Home","End","ArrowLeft","ArrowRight","Clear","Copy","Paste"],this.decimal=!1,this.decimalSeparator=".",this.decimalSeparator1=".",this.decimalSeparator2=",",this.allowNegatives=!1,this.allowPaste=!0,this.negativeSign="-",this.min=-1/0,this.max=1/0,this.regex=null,this.inputElement=e.nativeElement}ngOnChanges(e){if(e.pattern&&(this.regex=this.pattern?RegExp(this.pattern):null),e.min){const n=Number(this.min);this.min=isNaN(n)?-1/0:n}if(e.max){const n=Number(this.max);this.max=isNaN(n)?1/0:n}}onBeforeInput(e){if(isNaN(Number(e.data))){if(e.data===this.decimalSeparator1||e.data===this.decimalSeparator2||e.data===this.negativeSign&&this.allowNegatives)return;e.preventDefault(),e.stopPropagation()}}onKeyDown(e){if(this.navigationKeys.indexOf(e.key)>-1||("a"===e.key||"KeyA"===e.code)&&!0===e.ctrlKey||("c"===e.key||"KeyC"===e.code)&&!0===e.ctrlKey||("v"===e.key||"KeyV"===e.code)&&!0===e.ctrlKey||("x"===e.key||"KeyX"===e.code)&&!0===e.ctrlKey||("a"===e.key||"KeyA"===e.code)&&!0===e.metaKey||("c"===e.key||"KeyC"===e.code)&&!0===e.metaKey||("v"===e.key||"KeyV"===e.code)&&!0===e.metaKey||("x"===e.key||"KeyX"===e.code)&&!0===e.metaKey)return;let n="";var o=e.key;if(e.key===this.decimalSeparator2&&(o=this.decimalSeparator1),this.decimal&&o===this.decimalSeparator1)return n=this.forecastValue(o),n.split(this.decimalSeparator1).length>2||(this.hasDecimalPoint=n.indexOf(this.decimalSeparator1)>-1,this.setNewValue(o)),void e.preventDefault();if(o===this.negativeSign&&this.allowNegatives)return n=this.forecastValue(o),n.charAt(0)!==this.negativeSign||n.split(this.negativeSign).length>2?void e.preventDefault():void(this.hasNegativeSign=n.split(this.negativeSign).length>-1);if(" "===o||isNaN(Number(o)))return void e.preventDefault();if(n=n||this.forecastValue(o),this.regex&&!this.regex.test(n))return void e.preventDefault();const a=Number(n);(a>this.max||a<this.min)&&e.preventDefault()}onPaste(e){if(!0===this.allowPaste){let n="";window.clipboardData?n=window.clipboardData.getData("text"):e.clipboardData&&e.clipboardData.getData&&(n=e.clipboardData.getData("text/plain")),this.pasteData(n),e.preventDefault()}else e.preventDefault(),e.stopPropagation()}onDrop(e){const n=e.dataTransfer?.getData("text")??"";this.inputElement.focus(),this.pasteData(n),e.preventDefault()}pasteData(e){e=this.replaceDecimalSeparator(e);const n=this.sanitizeInput(e);if(!n.includes(this.negativeSign)||!this.hasNegativeSign||this.getSelection().includes(this.negativeSign)){if(!document.execCommand("insertText",!1,n))if(this.inputElement.setRangeText){const{selectionStart:a,selectionEnd:c}=this.inputElement;this.inputElement.setRangeText(n,a??0,c??0,"end"),typeof window.InstallTrigger<"u"&&this.inputElement.dispatchEvent(new Event("input",{cancelable:!0}))}else this.insertAtCursor(this.inputElement,n);this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator1)>-1),this.hasNegativeSign=this.inputElement.value.indexOf(this.negativeSign)>-1}}setNewValue(e){e=this.replaceDecimalSeparator(e),this.insertAtCursor(this.inputElement,e),this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator1)>-1),this.hasNegativeSign=this.inputElement.value.indexOf(this.negativeSign)>-1}insertAtCursor(e,n){const o=e.selectionStart??0,a=e.selectionEnd??0;e.value=e.value.substring(0,o)+n+e.value.substring(a,e.value.length);const c=o+n.length;e.focus(),e.setSelectionRange(c,c),this.triggerEvent(e,"input")}triggerEvent(e,n){if("createEvent"in document){const o=document.createEvent("HTMLEvents");o.initEvent(n,!1,!0),e.dispatchEvent(o)}}sanitizeInput(e){let o,n="";o=this.decimal&&this.isValidDecimal(e)?new RegExp(`${this.getNegativeSignRegExp()}[^0-9${this.decimalSeparator1}]`,"g"):new RegExp(`${this.getNegativeSignRegExp()}[^0-9]`,"g"),n=e.replace(o,"");const a=this.inputElement.maxLength;if(a>0){const c=a-this.inputElement.value.length+(n.includes(`${this.negativeSign}`)?1:0);n=c>0?n.substring(0,c):""}return n}getNegativeSignRegExp(){return!this.allowNegatives||this.hasNegativeSign&&!this.getSelection().includes(this.negativeSign)?"":`(?!^${this.negativeSign})`}isValidDecimal(e){if(this.hasDecimalPoint){const n=this.getSelection();return n&&n.indexOf(this.decimalSeparator1)>-1?e.split(this.decimalSeparator1).length<=2:e.indexOf(this.decimalSeparator1)<0}return e.split(this.decimalSeparator1).length<=2}getSelection(){return this.inputElement.value.substring(this.inputElement.selectionStart??0,this.inputElement.selectionEnd??0)}forecastValue(e){const o=this.inputElement.selectionEnd??0,a=this.inputElement.value;return a.substring(0,this.inputElement.selectionStart??0)+e+a.substring(o)}replaceDecimalSeparator(e){return e.replace(",",this.decimalSeparator).replace(".",this.decimalSeparator)}}return(p=g).\u0275fac=function(e){return new(e||p)(i.rXU(i.aKT))},p.\u0275dir=i.FsC({type:p,selectors:[["","appOnlyNumber",""]],hostBindings:function(e,n){1&e&&i.bIt("beforeinput",function(a){return n.onBeforeInput(a)})("keydown",function(a){return n.onKeyDown(a)})("paste",function(a){return n.onPaste(a)})("drop",function(a){return n.onDrop(a)})},inputs:{decimal:"decimal",decimalSeparator:"decimalSeparator",decimalSeparator1:"decimalSeparator1",decimalSeparator2:"decimalSeparator2",allowNegatives:"allowNegatives",allowPaste:"allowPaste",negativeSign:"negativeSign",min:"min",max:"max",pattern:"pattern"},features:[i.OA$]}),g})()},40111:(E,v,l)=>{l.d(v,{k:()=>h});var i=l(64198),t=l(73202),p=l(48891),g=l(53793);let h=(()=>{var e;class n{getMineTypeByFileType(a){let r="";switch(this.commonService.getEnumTypeWithDefault(t.d,a,t.d.unknown)){case t.d.doc:case t.d.docx:r="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case t.d.ppt:case t.d.pptx:r="application/vnd.openxmlformats-officedocument.presentationml.presentation";break;case t.d.xlsx:r="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case t.d.pdf:r="application/pdf";break;case t.d.video:case t.d.mp4:r="video/mp4";break;case t.d.mov:r="video/mov";break;case t.d.webm:r="video/webm";break;case t.d.quicktime:r="video/quicktime";break;case t.d.audio:r="audio/mpeg";break;case t.d.mp3:r="audio/mp3";break;case t.d.wav:r="audio/wav";break;case t.d.jpeg:case t.d.image:r="image/jpeg";break;case t.d.google_docs:r="google_docs"}return r}getMineTypeByExtension(a){switch(new RegExp(/(?:\.([^.]+))?$/).exec(a)?.[1]){case"pdf":return"application/pdf";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"xsl":case"csv":return"application/vnd.ms-excel";case"jpg":return"image/jpg";case"jpge":return"image/jpge";default:return"application/json-patch+json"}}getTypeFileByMime(a){return a.mimes&&(0,i.I7)(a.mimes)||a.name?.toLowerCase().endsWith(".azt")?t.d.docx:a.mimes&&(0,i.nL)(a.mimes)?t.d.xlsx:a.mimes&&(0,i.JK)(a.mimes)?t.d.audio:a.mimes&&(0,i.cZ)(a.mimes)?t.d.video:a.mimes&&(0,i.wu)(a.mimes)?t.d.image:a.mimes&&(0,i.Ev)(a.mimes)?t.d.pdf:a.mimes&&(0,i.rl)(a.mimes)?t.d.powerpoint:void 0}constructor(a){this.commonService=a}}return(e=n).\u0275fac=function(a){return new(a||e)(p.KVO(g.R))},e.\u0275prov=p.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),n})()},66729:(E,v,l)=>{l.d(v,{D:()=>f});var i=l(59640),t=l(48891),p=l(54460),g=l(47712),h=l(76975);function e(s,m){1&s&&(t.j41(0,"span",2),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&s&&(t.FS9("matTooltip",t.bMT(1,2,"lang_auto_dat")),t.R7$(2),t.JRh(t.bMT(3,4,"lang_auto_d_upper")))}function n(s,m){1&s&&(t.j41(0,"span",2),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&s&&(t.FS9("matTooltip",t.bMT(1,2,"lang_auto_chua_dat")),t.R7$(2),t.JRh(t.bMT(3,4,"lang_auto_cd_upper")))}function o(s,m){1&s&&(t.j41(0,"span",2),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&s&&(t.FS9("matTooltip",t.bMT(1,2,"lang_auto_hoan_thanh")),t.R7$(2),t.JRh(t.bMT(3,4,"lang_auto_tag_ht")))}function a(s,m){1&s&&(t.j41(0,"span",2),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&s&&(t.FS9("matTooltip",t.bMT(1,2,"lang_auto_chua_hoan_thanh")),t.R7$(2),t.SpI("",t.bMT(3,4,"lang_auto_tag_CHT")," "))}function c(s,m){1&s&&(t.j41(0,"span",2),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&s&&(t.FS9("matTooltip",t.bMT(1,2,"lang_auto_hoan_thanh_tot")),t.R7$(2),t.JRh(t.bMT(3,4,"lang_auto_tag_HTT")))}function r(s,m){if(1&s&&(t.j41(0,"span",3),t.EFF(1),t.k0s()),2&s){const d=t.XpG();t.R7$(),t.JRh(d.mark)}}let f=(()=>{var s;class m extends i.H{constructor(){super(...arguments),this.mark=0}}return(s=m).\u0275fac=(()=>{let d;return function(u){return(d||(d=t.xGo(s)))(u||s)}})(),s.\u0275cmp=t.VBU({type:s,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[t.Vt3],decls:6,vars:6,consts:[["class","text-mark mb-0",3,"matTooltip",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],[1,"text-mark","mb-0",3,"matTooltip"],[1,"text-mark","mb-0"]],template:function(_,u){1&_&&t.DNE(0,e,4,6,"span",0)(1,n,4,6,"span",0)(2,o,4,6,"span",0)(3,a,4,6,"span",0)(4,c,4,6,"span",0)(5,r,2,1,"span",1),2&_&&(t.Y8G("ngIf","1000"==u.mark),t.R7$(),t.Y8G("ngIf","1001"==u.mark),t.R7$(),t.Y8G("ngIf","2000"==u.mark),t.R7$(),t.Y8G("ngIf","2001"==u.mark),t.R7$(),t.Y8G("ngIf","3000"==u.mark),t.R7$(),t.Y8G("ngIf","2001"!=u.mark&&"2000"!=u.mark&&"1001"!=u.mark&&"1000"!=u.mark&&"3000"!=u.mark))},dependencies:[p.bT,g.oV,h.wp],encapsulation:2}),m})()},20013:(E,v,l)=>{l.d(v,{T:()=>o});var i=l(48891),t=l(9516),p=l(54460),g=l(52811);const h=["*"];function e(a,c){1&a&&i.SdG(0,0,["*ngIf","!isUploadFile"])}function n(a,c){1&a&&(i.j41(0,"span",5),i.nrm(1,"azt-loading-ui"),i.k0s())}let o=(()=>{var a;class c extends t.L{constructor(){super(...arguments),this.uploadComplete=new i.bkB}emitUploadComplete(f){f.length>0&&this.uploadComplete.emit(f[0])}}return(a=c).\u0275fac=(()=>{let r;return function(s){return(r||(r=i.xGo(a)))(s||a)}})(),a.\u0275cmp=i.VBU({type:a,selectors:[["azt-upload-single-box"]],outputs:{uploadComplete:"uploadComplete"},features:[i.Vt3],ngContentSelectors:h,decls:6,vars:3,consts:[["formChoseFile",""],[1,"flex","items-center","justify-center","h-full",3,"click"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"change","cancel","accept"],[4,"ngIf"],["class","w-4 h-4 inline-block",4,"ngIf"],[1,"w-4","h-4","inline-block"]],template:function(f,s){if(1&f){const m=i.RV6();i.NAR(),i.j41(0,"div",1),i.bIt("click",function(){i.eBV(m);const _=i.sdS(2);return i.Njj(s.onOpenFileDictionary()&&_.click())}),i.j41(1,"input",2,0),i.bIt("change",function(_){return i.eBV(m),i.Njj(s.onFileSelected(_))})("cancel",function(_){return i.eBV(m),i.Njj(s.onCancelSelect(_))}),i.k0s(),i.DNE(3,e,1,0,"ng-content",3),i.j41(4,"div"),i.DNE(5,n,2,0,"span",4),i.k0s()()}2&f&&(i.R7$(),i.FS9("accept",s.fileType),i.R7$(2),i.Y8G("ngIf",!s.isUploadFile),i.R7$(2),i.Y8G("ngIf",s.isUploadFile))},dependencies:[p.bT,g.R],encapsulation:2}),c})()}}]);