"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[3009],{44683:(k,b,i)=>{i.d(b,{WG:()=>_,o8:()=>v});var o=i(29023),n=i(65879),f=i(16676),C=i.n(f),A=i(46558);const m=C()||f,v=new n.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function d(){return{useUtc:!1}}});function u(l,c){const t=Array(l);for(let a=0;a<l;a++)t[a]=c(a);return t}let _=(()=>{class l extends o.fM{constructor(t){super(),this._options=t,this.commonService=(0,n.f3M)(A.z),this._localeData={firstDayOfWeek:0,longMonths:"",shortMonths:"",dates:"",longDaysOfWeek:"",shortDaysOfWeek:"",narrowDaysOfWeek:""},m.locale(),this.setLocale(this.commonService.getCurrentLang()||m.locale())}setLocale(t){super.setLocale(t);const a=m.localeData(t);this._localeData={firstDayOfWeek:a.firstDayOfWeek(),longMonths:a.months(),shortMonths:a.monthsShort(),dates:u(31,g=>this.createDate(2017,0,g+1).format("D")),longDaysOfWeek:a.weekdays(),shortDaysOfWeek:a.weekdaysShort(),narrowDaysOfWeek:a.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"===t?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return"long"===t?this._localeData.longDaysOfWeek:"short"===t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,a,g){if(a<0||a>11)throw Error(`Invalid month index "${a}". Month index has to be between 0 and 11.`);if(g<1)throw Error(`Invalid date "${g}". Date has to be greater than 0.`);const O=this._createMoment({year:t,month:a,date:g}).locale(this.locale);if(!O.isValid())throw Error(`Invalid date "${g}" for month with index "${a}".`);return O}today(){return this._createMoment().locale(this.locale)}parse(t,a){return t&&"string"==typeof t?this._createMoment(t,a,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,a){if(t=this.clone(t),!this.isValid(t))throw Error("MomentDateAdapter: Cannot format invalid date.");return t.format(a)}addCalendarYears(t,a){return this.clone(t).add({years:a})}addCalendarMonths(t,a){return this.clone(t).add({months:a})}addCalendarDays(t,a){return this.clone(t).add({days:a})}toIso8601(t){return this.clone(t).format()}deserialize(t){let a;if(t instanceof Date)a=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;a=this._createMoment(t,m.ISO_8601).locale(this.locale)}return a&&this.isValid(a)?this._createMoment(a).locale(this.locale):super.deserialize(t)}isDateInstance(t){return m.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return m.invalid()}getHour(t){return t.hours()}getMinute(t){return t.minutes()}getSecond(t){return t.seconds()}setHour(t,a){t.hours(a)}setMinute(t,a){t.minutes(a)}setSecond(t,a){t.seconds(a)}_createMoment(t,a,g){const{strict:O,useUtc:y}=this._options||{};return y?m.utc(t,a,g,O):m(t,a,g,O)}}return l.\u0275fac=function(t){return new(t||l)(n.LFG(v,8))},l.\u0275prov=n.Yz7({token:l,factory:l.\u0275fac}),l})()},76359:(k,b,i)=>{i.d(b,{y:()=>o});var o=function(n){return n[n.homework=0]="homework",n[n.exam=1]="exam",n[n.classroom=2]="classroom",n[n.student=3]="student",n}(o||{})},47180:(k,b,i)=>{i.d(b,{h:()=>o});class o{static classroomCheckBoxValidator(f){const C=f,A=C.controls.whoAllow.value,m=C.controls.classroomIds;return A&&m?2!=A||o.countCheckBox(m.value)>=1?(C.controls.classroomIds.setErrors(null),null):(C.controls.classroomIds.setErrors({classroomCheckBoxValidator:!0}),{identityRevealed:!0}):null}static classroomCheckBoxValidatorWithoutWhoAllow(f){const C=f,A=C.controls.classroomIds;return A?o.countCheckBox(A.value)>=1?(C.controls.classroomIds.setErrors(null),null):(C.controls.classroomIds.setErrors({classroomCheckBoxValidatorWithoutWhoAllow:!0}),{identityRevealed:!0}):null}static countCheckBox(f){return f.filter(C=>C).length}}},7081:(k,b,i)=>{i.d(b,{M:()=>d});var o=i(47496),n=i(65879),f=i(96814),C=i(56223),A=i(67679),m=i(6653);function v(u,_){if(1&u&&(n.TgZ(0,"div")(1,"form",1)(2,"div",2),n._UZ(3,"input",3),n.TgZ(4,"label",4),n._uU(5),n.ALo(6,"mytranslate"),n.qZA()()()()),2&u){const l=n.oxw();n.xp6(1),n.Q6J("formGroup",l.form),n.xp6(4),n.hij(" ",n.lcZ(6,2,"lang_core_display_the_selected_classes")," ")}}let d=(()=>{class u extends o.Q{}return u.\u0275fac=function(){let _;return function(c){return(_||(_=n.n5z(u)))(c||u)}}(),u.\u0275cmp=n.Xpm({type:u,selectors:[["azt-is-show-check-classroom"]],inputs:{form:"form"},features:[n.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],[1,"form-check"],["id","show-checked","formControlName","isShowCheckClass","type","checkbox",1,"form-check-input"],["for","show-checked",1,"form-check-label"]],template:function(l,c){1&l&&n.YNc(0,v,7,4,"div",0),2&l&&n.Q6J("ngIf",c.form)},dependencies:[f.O5,C._Y,C.Wl,C.JJ,C.JL,C.sg,C.u,A.M,m.JV],encapsulation:2}),u})()},76476:(k,b,i)=>{i.d(b,{V:()=>u});var o=i(65879),n=i(56223),f=i(47496),C=i(90592),A=i(96814),m=i(6653);function v(_,l){1&_&&(o.ynx(0),o._uU(1),o.ALo(2,"mytranslate"),o.BQk()),2&_&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"lang_remove_all_classroom")," "))}function d(_,l){1&_&&(o._uU(0),o.ALo(1,"mytranslate")),2&_&&o.hij(" ",o.lcZ(1,1,"lang_select_all_classroom")," ")}let u=(()=>{class _ extends f.Q{toggleAllCheckBox(c){let t=c.target.checked,a=this.sAztClassroomCheckboxService.findClassroomWithNoPermission(this.objs,this.permissionName);if(this.formArray)for(var g=0;g<this.formArray.controls.length;g++)this.objs[g]&&null!=this.objs[g].permissionObj&&!this.commonService.isExistInArray(a,this.objs[g].id)&&this.formArray.controls[g].setValue(t);this.calculateIsCheckAll(),this.changeCheckboxEvent.emit(void 0)}clearAllCheckBox(){var c=this.sAztClassroomCheckboxService.findClassroomWithNoPermission(this.objs,this.permissionName);if(this.formArray)for(var t=0;t<this.formArray.controls.length;t++)this.objs[t]&&null!=this.objs[t].permissionObj&&!this.commonService.isExistInArray(c,this.objs[t].id)&&this.formArray.controls[t].setValue(!1);this.calculateIsCheckAll(),this.changeCheckboxEvent.emit(void 0)}checkAllCheckBox(){var c=this.sAztClassroomCheckboxService.findClassroomWithNoPermission(this.objs,this.permissionName);if(this.formArray)for(var t=0;t<this.formArray.controls.length;t++)this.objs[t]&&null!=this.objs[t].permissionObj&&!this.commonService.isExistInArray(c,this.objs[t].id)&&this.formArray.controls[t].setValue(!0);this.calculateIsCheckAll(),this.changeCheckboxEvent.emit(void 0)}calculateIsCheckAll(){for(var c=!0,t=this.sAztClassroomCheckboxService.findClassroomWithNoPermission(this.objs,this.permissionName),a=0;a<this.formArray.controls.length;a++)this.objs[a]&&null!=this.objs[a].permissionObj&&!this.commonService.isExistInArray(t,this.objs[a].id)&&(this.formArray.controls[a].value||(c=!1));this.isCheckAll=c}ngOnInit(){super.ngOnInit(),this.calculateIsCheckAll(),this.formArray.valueChanges.subscribe(c=>{this.calculateIsCheckAll()})}constructor(c){super(),this.sAztClassroomCheckboxService=c,this.changeCheckboxEvent=new o.vpe,this.formArray=new n.Oe([]),this.objs=[],this.isCheckAll=!1}}return _.\u0275fac=function(c){return new(c||_)(o.Y36(C.f))},_.\u0275cmp=o.Xpm({type:_,selectors:[["azt-list-classroom-check-all"]],inputs:{formArray:"formArray",objs:"objs",permissionName:"permissionName"},outputs:{changeCheckboxEvent:"changeCheckboxEvent"},features:[o.qOj],decls:7,vars:4,consts:[[3,"hidden"],[1,"form-check"],["id","checkbox-all","type","checkbox",1,"form-check-input",3,"checked","change"],["for","checkbox-all",1,"form-check-label"],[4,"ngIf","ngIfElse"],["elseTemplate",""]],template:function(c,t){if(1&c&&(o.TgZ(0,"span",0)(1,"div",1)(2,"input",2),o.NdJ("change",function(g){return t.toggleAllCheckBox(g)}),o.qZA(),o.TgZ(3,"label",3),o.YNc(4,v,3,3,"ng-container",4),o.YNc(5,d,2,3,"ng-template",null,5,o.W1O),o.qZA()()()),2&c){const a=o.MAs(6);o.Q6J("hidden",t.objs.length<=0),o.xp6(2),o.Q6J("checked",t.isCheckAll),o.xp6(2),o.Q6J("ngIf",t.isCheckAll)("ngIfElse",a)}},dependencies:[A.O5,m.JV],encapsulation:2}),_})()},68547:(k,b,i)=>{i.d(b,{B:()=>U});var o=i(65879),n=i(56223),f=i(19347),C=i(72164),A=i(91765),m=i(75470),v=i(96814),d=i(67679),u=i(6653);function _(r,p){1&r&&(o.TgZ(0,"div",11)(1,"span"),o._uU(2),o.ALo(3,"mytranslate"),o.qZA()()),2&r&&(o.xp6(2),o.hij(" ",o.lcZ(3,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}let l=(()=>{class r extends C.e{btnCloseDialog(){this.dialogRef.close()}saveClass(){if(this.form.invalid||this.statusObj.loading)this.showErrorSnack("lang_auto_vui_long_dien_day_du_thong_tin");else{this.initStatusObj();let e=(new Date).getFullYear(),h={classroomName:this.getFormValue().className,year:`${e} - ${e+1}`};this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(h).subscribe(x=>{1==x.success?(this.successStatusObj(),this.showSuccessSnack("lang_auto_tao_thanh_cong_lop_hoc"),this.dialogRef.close(x.data)):(this.stopStatusObj(),this.showErrorSnack("lang_auto_tao_lop_hoc_khong_thanh_cong_vui_long_kiem_tra_lai_du_lieu"))})}}getFormValue(){return this.form.getRawValue()}ngOnInit(){super.ngOnInit()}constructor(e,s,h){super(h,s),this.classroomGroupService=e,this.dialogRef=s,this.data=h,this.form=new n.cw({className:new n.NI("",{nonNullable:!0,validators:[n.kI.required,A._.noWhiteSpace]})})}}return r.\u0275fac=function(e){return new(e||r)(o.Y36(m.c8),o.Y36(f.so,8),o.Y36(f.WI))},r.\u0275cmp=o.Xpm({type:r,selectors:[["create-classroom"]],features:[o.qOj],decls:18,vars:15,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],[1,"mt-2"],["type","text","formControlName","className",1,"form-control",3,"placeholder"],["class","text-xs text-danger font-medium mt-1",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","create-classroom-dialog-U1melptHG5",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-classroom-dialog-UgZXPvjLFu",1,"btn","w-24","btn-primary",3,"disabled","click"],[1,"text-xs","text-danger","font-medium","mt-1"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),o._uU(5),o.ALo(6,"mytranslate"),o.qZA(),o.TgZ(7,"div",5),o._UZ(8,"input",6),o.ALo(9,"mytranslate"),o.qZA(),o.YNc(10,_,4,3,"div",7),o.qZA()(),o.TgZ(11,"div",8)(12,"button",9),o.NdJ("click",function(){return s.btnCloseDialog()}),o._uU(13),o.ALo(14,"mytranslate"),o.qZA(),o.TgZ(15,"button",10),o.NdJ("click",function(){return s.saveClass()}),o._uU(16),o.ALo(17,"mytranslate"),o.qZA()()()()),2&e&&(o.xp6(1),o.Q6J("formGroup",s.form),o.xp6(4),o.hij(" ",o.lcZ(6,7,"lang_auto_tao_lop")," "),o.xp6(3),o.s9C("placeholder",o.lcZ(9,9,"lang_auto_nhap_ten_lop")),o.xp6(2),o.Q6J("ngIf",s.form.controls.className.dirty&&s.form.controls.className.errors),o.xp6(3),o.hij(" ",o.lcZ(14,11,"lang_auto_dong")," "),o.xp6(2),o.Q6J("disabled",s.form.invalid),o.xp6(1),o.hij(" ",o.lcZ(17,13,"lang_auto_luu")," "))},dependencies:[v.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,d.M,u.JV],encapsulation:2}),r})();var c=i(76359),t=i(47496),a=i(2783),g=i(90592),O=i(92596);function y(r,p){if(1&r){const e=o.EpF();o.TgZ(0,"div",2)(1,"div",3)(2,"div",4),o._uU(3),o.ALo(4,"mytranslate"),o.TgZ(5,"a",5),o.NdJ("click",function(){o.CHM(e);const h=o.oxw();return o.KtG(h.openDialogCreateClassroom())}),o._uU(6),o.ALo(7,"mytranslate"),o.qZA(),o._uU(8),o.ALo(9,"mytranslate"),o.qZA()()()}2&r&&(o.xp6(3),o.hij(" ",o.lcZ(4,3,"lang_auto_thay_co_chua_tao_lop_vui_long_click")," "),o.xp6(3),o.hij(" ",o.lcZ(7,5,"lang_testbank_test_config_come_in")," "),o.xp6(2),o.hij(" ",o.lcZ(9,7,"lang_testbank_test_config_create_classroom"),". "))}function E(r,p){1&r&&(o.ynx(0),o.TgZ(1,"div",9)(2,"span",10),o._uU(3),o.ALo(4,"mytranslate"),o.qZA()(),o.BQk()),2&r&&(o.xp6(3),o.Oqu(o.lcZ(4,1,"lang_testbank_no_classes_are_selected")))}function j(r,p){if(1&r&&(o.TgZ(0,"span",21),o._uU(1),o.ALo(2,"slice"),o.qZA()),2&r){const e=o.oxw(3).index,s=o.oxw(3);o.s9C("matTooltip",s.objs[e].name),o.xp6(1),o.AsE("",o.Dn7(2,3,s.objs[e].name,0,25)+"..."," (",s.objs[e].countStudents,")")}}function D(r,p){if(1&r&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&r){const e=o.oxw(3).index,s=o.oxw(3);o.xp6(1),o.AsE("",s.objs[e].name," (",s.objs[e].countStudents,")")}}function T(r,p){1&r&&(o.TgZ(0,"span",22),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&r&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"lang_testbank_test_config_share")," "))}function M(r,p){if(1&r){const e=o.EpF();o.TgZ(0,"div",16)(1,"input",17),o.NdJ("change",function(){o.CHM(e);const h=o.oxw(2).index,x=o.oxw(3);return o.KtG(x.changeCheckboxEventLocal(x.objs[h]))}),o.qZA(),o.TgZ(2,"label",18),o.YNc(3,j,3,7,"span",19),o.YNc(4,D,2,2,"span",1),o.YNc(5,T,3,3,"span",20),o.ALo(6,"fullPermission"),o.qZA()()}if(2&r){const e=o.oxw(2).index,s=o.oxw(3);let h,x;o.xp6(1),o.s9C("id","azt-checkbox-item-"+s.objs[e].id),o.s9C("value",s.objs[e].id),o.Q6J("formControlName",e),o.xp6(1),o.s9C("for","azt-checkbox-item-"+s.objs[e].id),o.xp6(1),o.Q6J("ngIf",(null!==(h=null==s.objs[e].name?null:s.objs[e].name.length)&&void 0!==h?h:0)>25),o.xp6(1),o.Q6J("ngIf",(null!==(x=null==s.objs[e].name?null:s.objs[e].name.length)&&void 0!==x?x:0)<=25),o.xp6(1),o.Q6J("ngIf",!o.xi3(6,7,s.objs[e],"classroom"))}}function L(r,p){if(1&r&&(o.TgZ(0,"span",21),o._uU(1),o.ALo(2,"slice"),o.qZA()),2&r){const e=o.oxw(3).index,s=o.oxw(3);o.s9C("matTooltip",s.objs[e].name),o.xp6(1),o.AsE("",o.Dn7(2,3,s.objs[e].name,0,25)+"..."," (",s.objs[e].countStudents,")")}}function N(r,p){if(1&r&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&r){const e=o.oxw(3).index,s=o.oxw(3);o.xp6(1),o.AsE("",s.objs[e].name," (",s.objs[e].countStudents,")")}}function z(r,p){1&r&&(o.TgZ(0,"span",22),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&r&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"lang_testbank_test_config_share")," "))}function w(r,p){if(1&r){const e=o.EpF();o.TgZ(0,"div",16)(1,"input",23),o.NdJ("change",function(){o.CHM(e);const h=o.oxw(2).index,x=o.oxw(3);return o.KtG(x.changeCheckboxEventLocal(x.objs[h]))}),o.qZA(),o.TgZ(2,"label",24),o.YNc(3,L,3,7,"span",19),o.YNc(4,N,2,2,"span",1),o.YNc(5,z,3,3,"span",20),o.ALo(6,"fullPermission"),o.qZA()()}if(2&r){const e=o.oxw(2).index,s=o.oxw(3);let h,x;o.xp6(1),o.s9C("id","azt-checkbox-item-"+e),o.s9C("value",s.objs[e].id),o.Q6J("disabled",!0)("formControlName",e),o.xp6(1),o.s9C("for","azt-checkbox-item-"+e),o.xp6(1),o.Q6J("ngIf",(null!==(h=null==s.objs[e].name?null:s.objs[e].name.length)&&void 0!==h?h:0)>25),o.xp6(1),o.Q6J("ngIf",(null!==(x=null==s.objs[e].name?null:s.objs[e].name.length)&&void 0!==x?x:0)<=25),o.xp6(1),o.Q6J("ngIf",!o.xi3(6,8,s.objs[e],"classroom"))}}function P(r,p){if(1&r&&(o.TgZ(0,"div",14),o.YNc(1,M,7,10,"div",15),o.ALo(2,"createPermission"),o.YNc(3,w,7,11,"div",15),o.ALo(4,"createPermission"),o.qZA()),2&r){const e=o.oxw().index,s=o.oxw(3);o.xp6(1),o.Q6J("ngIf",null!=s.objs[e].permissionObj&&o.xi3(2,2,s.objs[e],s.listPermissionTypes[s.permissionName])),o.xp6(2),o.Q6J("ngIf",!(null!=s.objs[e].permissionObj&&o.xi3(4,5,s.objs[e],s.listPermissionTypes[s.permissionName])))}}function S(r,p){if(1&r&&(o.ynx(0),o.YNc(1,P,5,8,"div",13),o.BQk()),2&r){const e=p.$implicit,s=p.index,h=o.oxw(3);o.xp6(1),o.Q6J("ngIf",h.objs[s]&&(null==h.form.controls.isShowCheckClass||!h.form.controls.isShowCheckClass.value||h.form.controls.isShowCheckClass.value&&e.value))}}function Z(r,p){if(1&r&&(o.TgZ(0,"div",11),o.YNc(1,S,2,1,"ng-container",12),o.qZA()),2&r){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.formArray.controls)}}function W(r,p){if(1&r&&(o.TgZ(0,"div")(1,"form",6),o.YNc(2,E,5,3,"ng-container",7),o.YNc(3,Z,2,1,"ng-template",null,8,o.W1O),o.qZA()()),2&r){const e=o.MAs(4),s=o.oxw();o.xp6(1),o.Q6J("formGroup",s.form),o.xp6(1),o.Q6J("ngIf",!s.hasSelectedClassroom&&s.form.controls.isShowCheckClass.value)("ngIfElse",e)}}let U=(()=>{class r extends t.Q{changeCheckboxEventLocal(e){this.changeCheckboxEvent.emit(e)}initClassroomCheckbox(){this.formArray.clear();var e=[];if(this.homeworkObj?.classroomId&&e.push(this.homeworkObj.classroomId),this.examClassroomObjs.length)for(var s=0;s<this.examClassroomObjs.length;s++){let x=this.examClassroomObjs[s].classroomId;x&&e.push(x)}for(null!=this.shareClassroomIds&&(e=this.shareClassroomIds),s=0;s<this.objs.length;s++){var h=!1;let I=this.objs[s].id;null!=I&&e.includes(I)&&(h=!0),this.addNewCheckBox(this.formArray,h)}}addNewCheckBox(e,s){const h=new n.NI(s,{nonNullable:!0});e.push(h)}checkShowCreateClassroom(){var e=this.sAztClassroomCheckboxService.findClassroomWithNoFullPermission(this.objs,this.permissionName);this.showCreateNewClassroom=e.length===this.objs.length}changeClassroomObjs(e){this.objs.push(e),this.checkShowCreateClassroom(),this.initClassroomCheckbox(),this.objsChange.emit(this.objs)}openDialogCreateClassroom(){this.sAztDialogService.open(l,{data:{},width:"500px",restoreFocus:!1}).afterClosed().subscribe(s=>{s&&s.obj&&this.changeClassroomObjs(s.obj)})}fillClassroomIdConfig(){const e=this.getMyQueryParam("classroomId");if(e)for(let s=0;s<this.formArray.controls.length;s++)this.objs[s].id===Number(e)&&this.formArray.controls[s].setValue(!0)}ngOnInit(){super.ngOnInit(),this.objs.map(e=>e.name=this.commonService.myTranslateInstant(e.name)??""),this.checkShowCreateClassroom(),this.formArray=this.form.controls.classroomIds,this.initClassroomCheckbox(),this.form.controls.classroomIds.valueChanges.subscribe(e=>{this.hasSelectedClassroom=this.formArray.controls.filter(s=>s.value).length>0}),this.form.controls.isShowCheckClass.valueChanges.subscribe(e=>{this.hasSelectedClassroom=this.formArray.controls.filter(s=>s.value).length>0}),this.fillClassroomIdConfig()}constructor(e,s){super(),this.sAztDialogService=e,this.sAztClassroomCheckboxService=s,this.changeCheckboxEvent=new o.vpe,this.formArray=new n.Oe([]),this.objs=[],this.objsChange=new o.vpe,this.permissionName=c.y.homework,this.examClassroomObjs=[],this.shareClassroomIds=void 0,this.listPermissionTypes=c.y,this.showCreateNewClassroom=!1,this.hasSelectedClassroom=!1}}return r.\u0275fac=function(e){return new(e||r)(o.Y36(a.C),o.Y36(g.f))},r.\u0275cmp=o.Xpm({type:r,selectors:[["azt-list-classroom-checkbox"]],inputs:{form:"form",objs:"objs",permissionName:"permissionName",homeworkObj:"homeworkObj",examClassroomObjs:"examClassroomObjs",shareClassroomIds:"shareClassroomIds"},outputs:{changeCheckboxEvent:"changeCheckboxEvent",objsChange:"objsChange"},features:[o.qOj],decls:2,vars:2,consts:[["class","mt-2",4,"ngIf"],[4,"ngIf"],[1,"mt-2"],[1,"p-3"],[1,"text-create"],["azt-track-service","azt-list-classroom-checkbox-6scHm7Ch1-",1,"btn-text-primary",3,"click"],[3,"formGroup"],[4,"ngIf","ngIfElse"],["checkedBox",""],[1,"flex","items-center",2,"height","220px"],[1,"mx-auto"],["formArrayName","classroomIds",1,"grid","grid-cols-12","gap-3","p-3"],[4,"ngFor","ngForOf"],["class","col-span-12 md:col-span-6 mt-2",4,"ngIf"],[1,"col-span-12","md:col-span-6","mt-2"],["class","azt-checkbox-item",4,"ngIf"],[1,"azt-checkbox-item"],["type","checkbox",1,"form-check-input",3,"id","formControlName","value","change"],[1,"form-check-label",2,"vertical-align","middle",3,"for"],[3,"matTooltip",4,"ngIf"],["class","ml-2 py-0.5 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[3,"matTooltip"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["type","checkbox",1,"form-check-input",3,"id","disabled","formControlName","value","change"],[1,"form-check-label",3,"for"]],template:function(e,s){1&e&&(o.YNc(0,y,10,9,"div",0),o.YNc(1,W,5,3,"div",1)),2&e&&(o.Q6J("ngIf",s.showCreateNewClassroom),o.xp6(1),o.Q6J("ngIf",s.form))},dependencies:[v.sg,v.O5,O.gM,n._Y,n.Wl,n.JJ,n.JL,n.sg,n.u,n.CE,d.M,v.OU,u.JV,u.NK,u.nq],encapsulation:2}),r})()},86717:(k,b,i)=>{i.d(b,{f:()=>A});var o=i(56223),n=i(47496),f=i(65879),C=i(6653);let A=(()=>{class m extends n.Q{countCheckbox(){this.totalCheckBox=this.formArray.controls.length,this.totalChecked=this.formArray.getRawValue().filter(d=>d).length}ngOnInit(){super.ngOnInit(),this.countCheckbox(),this.formArray.valueChanges.subscribe(d=>{this.countCheckbox()})}constructor(){super(),this.formArray=new o.Oe([]),this.totalCheckBox=0,this.totalChecked=0}}return m.\u0275fac=function(d){return new(d||m)},m.\u0275cmp=f.Xpm({type:m,selectors:[["azt-list-classroom-count-checked"]],inputs:{formArray:"formArray"},features:[f.qOj],decls:2,vars:3,template:function(d,u){1&d&&(f._uU(0),f.ALo(1,"mytranslate")),2&d&&f.hij("(",f.lcZ(1,1,"lang_auto_da_chon")+": "+u.totalChecked+"/"+u.totalCheckBox,")")},dependencies:[C.JV],encapsulation:2}),m})()},90592:(k,b,i)=>{i.d(b,{f:()=>A});var o=i(76359),n=i(65879),f=i(46558),C=i(94690);let A=(()=>{class m{constructor(d,u){this.commonService=d,this.permissionService=u}findClassroomWithNoPermission(d,u){var _=[];return d.forEach(l=>{(null==l.permissionObj||!this.permissionService.hasCreatePermission(o.y[u],l))&&(this.commonService.isExistInArray(_,l.id)||void 0!==l.id&&_.push(l.id))}),_}findClassroomWithNoFullPermission(d,u){let _=[];return d.forEach(l=>{(null==l.permissionObj||!this.permissionService.hasFullPermission(o.y[u],l))&&_.push(l)}),_}getClassroomIdsChecked(d,u,_){for(var l=[],c=0;c<_.length;c++)if(_[c]&&d[c]){var t=d[c].id;null!=t&&!this.commonService.isExistInArray(u,t)&&l.push(t)}return l}}return m.\u0275fac=function(d){return new(d||m)(n.LFG(f.z),n.LFG(C.j))},m.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);