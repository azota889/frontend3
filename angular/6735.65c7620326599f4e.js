"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[6735],{82509:(k,S,o)=>{o.d(S,{f:()=>a});var n=o(52572),e=o(47394),r=o(65879),E=o(21266),O=o(46558);let a=(()=>{class u{checkActiveRouter(){for(var N=!1,C=0;C<this.changeActiveRouter.length;C++){var c=this.changeActiveRouter[C],g=this.commonService.getCurrentUrl(),w="/"+this.commonService.getCurrentLang()+c;0===g.indexOf(w)&&(N=!0)}const m=this.el.nativeElement;m&&(N?(m.classList.remove("side-menu--active"),m.classList.add("side-menu--active")):m.classList.remove("side-menu--active"))}ngOnInit(){this.subscriptions.add((0,n.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.checkActiveRouter()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}constructor(N,C,c){this.el=N,this.activeRoute=C,this.commonService=c,this.subscriptions=new e.w0,this.changeActiveRouter=[]}}return u.\u0275fac=function(N){return new(N||u)(r.Y36(r.SBq),r.Y36(E.gz),r.Y36(O.z))},u.\u0275dir=r.lG2({type:u,selectors:[["","changeActiveRouter",""]],inputs:{changeActiveRouter:"changeActiveRouter"}}),u})()},93523:(k,S,o)=>{o.d(S,{Q:()=>e});var n=o(65879);let e=(()=>{class r{constructor(O){this.elementRef=O,this.isDisabled=!1}onEnter(){const O=this.elementRef.nativeElement;this.isDisabled=O.offsetWidth==O.scrollWidth}}return r.\u0275fac=function(O){return new(O||r)(n.Y36(n.SBq))},r.\u0275dir=n.lG2({type:r,selectors:[["","isDisabledTooltip",""]],hostBindings:function(O,a){1&O&&n.NdJ("mouseenter",function(){return a.onEnter()})},inputs:{isDisabled:["isDisabledTooltip","isDisabled"]},exportAs:["isDisabled"]}),r})()},44589:(k,S,o)=>{o.d(S,{r:()=>r});var n=o(65879),e=o(46558);let r=(()=>{class E{constructor(a){this.commonService=a}getTypeObjNotice(a){return"NEW_SHARE_CLASS_PERMISSION"==a.type?"L\u1edbp: "+a.classroomName:"NEW_SHARE_HOMEWORK_PERMISSION"==a.type?"B\xe0i t\u1eadp: "+a.homeworkName:"NEW_SHARE_EXAM_PERMISSION"==a.type?"\u0110\u1ec1 thi: "+a.examName:"NEW_SHARE_CATEGORY_PERMISSION"==a.type?"Th\u01b0 m\u1ee5c: "+a.examName:""}getRouterLinkForNoticeObj(a,u){var M=this.redirectToPage(a,!0,u);return"string"==typeof M?M:""}getQueryParamForNoticeObj(a){var u=this.redirectToPage(a,!1);return"object"==typeof u?u:null}redirectToPage(a,u,M){switch(a.type){case"NEW_ANSWER":case"NEW_SHARE_HOMEWORK_PERMISSION":return u?`/admin/testbank/homework-results-list/${a.classroomId}/${a.homeworkId}/${a.homeworkHashId}`:null;case"HAS_MARK":case"NEW_HOMEWORK":case"RESEND_ANSWER":return u?`/bai-tap/${a.homeworkHashId}`:null;case"NEW_EXAM_SUBMIT":return u?`/admin/testbank/test-review/${a.examId}/${a.parentId}/${a.studentId}/${a.examResultId}`:null;case"NEW_EXAM":return u?`/de-thi/${a.examHashId}`:"";case"EXAM_HAS_MARK":return u?`/test/answer-test/${a.parentId}/0/${a.examHashId}/${a.examResultId}`:null;case"NEW_SHARE_CLASS_PERMISSION":return 1==a.isMultipleClassroom?u?"/admin/student/manage-classroom/0":"":u?"/admin/student/classroom-details/"+a.classroomId+"/0":"";case"NEW_SHARE_CATEGORY_PERMISSION":return u?`/admin/testbank/document-management/0/${a.examId}/1`:{data:this.commonService.serializeJson({shareType:`user_${a.senderId}`})};case"NEW_SHARE_EXAM_PERMISSION":return u?`/admin/testbank/exam-results-list/0/${a.examId}/0`:null;case"NEW_QA_EXAM_ASK":case"NEW_QA_HOMEWORK_ASK":return u?"/admin/teacher-qa/view-question/"+Number(a.extraDataObj?.qaQuestionId):null;case"NEW_QA_EXAM_ANSWER":case"NEW_QA_HOMEWORK_ANSWER":return u?"/student-qa/view-question/"+Number(a.extraDataObj?.qaQuestionId):null;case"NEW_ASSIGN":return u?"/admin/student/manage-classroom/0":null;case"SHARE_AZOTA_BANK_QUESTION":return u?"/auth/account-setting/0/3":null;case"NEW_REQUEST_REAPPROVE":return u?`/admin/student/classroom-details/${a.classroomId}/0`:null;case"NEW_SHARE_PERMISSION":return null;case"NEW_CLASSROOM_NEWS":return u?M?`/student/classroom-details/${a.classroomId}/2`:`/admin/student/classroom-details/${a.classroomId}/2`:null;default:return u?"/student/classroom/0":null}}}return E.\u0275fac=function(a){return new(a||E)(n.LFG(e.z))},E.\u0275prov=n.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},7289:(k,S,o)=>{o.d(S,{q:()=>r});var n=o(65879),e=o(46558);let r=(()=>{class E{constructor(a){this.commonService=a,this.stopInterval={},this.global_interval_objs=[],this.global_interval={},this.global_data_obj={}}setGlobalData(a,u){this.global_data_obj[a]=u}getGlobalData(a){if(this.global_data_obj.hasOwnProperty(a))return this.commonService.castJsonToObj(this.global_data_obj[a])}getRawGlobalData(a){if(this.global_data_obj.hasOwnProperty(a))return this.global_data_obj[a]}removeGlobalData(a){this.global_data_obj.hasOwnProperty(a)&&delete this.global_data_obj[a]}plusGlobalInterval(a){return this.global_interval.hasOwnProperty(a)?this.global_interval[a]+=1:this.global_interval[a]=1,this.getGlobalInterval(a)}getGlobalInterval(a){return this.global_interval.hasOwnProperty(a)?this.global_interval[a]:void 0}pushIntervalObjs(a){this.global_interval_objs.push(a)}getIntervalObjs(){return this.global_interval_objs}emptyIntervalObjs(){this.global_interval_objs=[]}startIntervalFunc(a){this.stopInterval[a]=!1}stopIntervalFunc(a){this.stopInterval[a]=!0}isStopIntervalFunc(a){return!(!this.stopInterval.hasOwnProperty(a)||1!=this.stopInterval[a])}}return E.\u0275fac=function(a){return new(a||E)(n.LFG(e.z))},E.\u0275prov=n.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},73882:(k,S,o)=>{o.d(S,{H:()=>Q});var n=o(47496),e=o(65879),r=o(21266),E=o(78953),O=o(88489),a=o(28872),u=o(84003),M=o(79998),N=o(96814),C=o(77988),c=o(92596),g=o(85904),w=o(36727);function m(d,L){if(1&d){const _=e.EpF();e.ynx(0),e.TgZ(1,"button",4),e.NdJ("click",function(){e.CHM(_);const s=e.oxw();return e.KtG(s.gotoLogin())}),e.O4$(),e.TgZ(2,"svg",5),e._UZ(3,"path",6)(4,"polyline",7)(5,"line",8),e.qZA(),e._uU(6),e.ALo(7,"mytranslate"),e.qZA(),e.BQk()}2&d&&(e.xp6(6),e.hij(" ",e.lcZ(7,1,"lang_auto_dang_nhap")," "))}function I(d,L){if(1&d){const _=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(){e.CHM(_);const s=e.oxw();return e.KtG(s.avtClick())}),e._UZ(1,"azt-create-avatar",10),e.qZA()}if(2&d){const _=e.oxw(),A=e.MAs(4);e.Q6J("matMenuTriggerFor",_.isMobileWebView?null:A),e.xp6(1),e.Q6J("nameCreateAvatar",null==_.userObj?null:_.userObj.fullName)("size",32)("linkAvatar",null==_.userObj?null:_.userObj.avatar)}}const x=function(d){return[d]},z=function(d){return{return_url:d,user_click:"true"}};function f(d,L){if(1&d&&(e.TgZ(0,"li")(1,"a",19),e.ALo(2,"navigationLocalize"),e.O4$(),e.TgZ(3,"svg",5),e._UZ(4,"circle",20)(5,"polyline",21)(6,"line",22),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()()),2&d){const _=e.oxw(3);e.xp6(1),e.Q6J("routerLink",e.VKq(7,x,e.lcZ(2,3,"/auth/register")))("queryParams",e.VKq(9,z,_.returnUrl)),e.xp6(6),e.hij(" \xa0",e.lcZ(8,5,"lang_auto_dang_ky")," ")}}const b=function(d){return{return_url:d,from:"register",user_click:"true"}};function y(d,L){if(1&d&&(e.ynx(0),e.YNc(1,f,9,11,"li",17),e.TgZ(2,"li")(3,"a",18),e.ALo(4,"navigationLocalize"),e.O4$(),e.TgZ(5,"svg",5),e._UZ(6,"path",6)(7,"polyline",7)(8,"line",8),e.qZA(),e._uU(9),e.ALo(10,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(11,"li"),e._UZ(12,"hr",16),e.qZA(),e.BQk()),2&d){const _=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!_.isBusinessDomain),e.xp6(2),e.Q6J("routerLink",e.VKq(8,x,e.lcZ(4,4,"/auth/login")))("queryParams",e.VKq(10,b,_.returnUrl)),e.xp6(6),e.hij(" ",e.lcZ(10,6,"lang_auto_dang_nhap")," ")}}function R(d,L){if(1&d&&(e.O4$(),e.kcU(),e.TgZ(0,"li")(1,"a",55),e.ALo(2,"navigationLocalize"),e.O4$(),e.TgZ(3,"svg",5),e._UZ(4,"polyline",56)(5,"line",57)(6,"polyline",58)(7,"line",59),e.qZA(),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()),2&d){const _=e.oxw(3);e.xp6(1),e.Q6J("routerLink",e.VKq(6,x,e.lcZ(2,2,_.isTeacherDashboard?"/student/classroom/0":"/admin/dashboard"))),e.xp6(7),e.hij(" ",e.lcZ(9,4,_.isTeacherDashboard?"lang_auto_vao_man_hoc_sinh":"lang_auto_vao_man_giao_vien")," ")}}function U(d,L){if(1&d){const _=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"li")(1,"a",60),e.NdJ("click",function(){e.CHM(_);const s=e.oxw(3);return e.KtG(s.switchModeUI("dark"))}),e.O4$(),e.TgZ(2,"svg",5),e._UZ(3,"path",61),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&d&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"lang_auto_che_de_toi")," "))}function K(d,L){if(1&d){const _=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"li")(1,"a",62),e.NdJ("click",function(){e.CHM(_);const s=e.oxw(3);return e.KtG(s.switchModeUI("light"))}),e.O4$(),e.TgZ(2,"svg",5),e._UZ(3,"circle",63)(4,"path",64)(5,"path",65)(6,"path",66)(7,"path",67)(8,"path",68)(9,"path",69)(10,"path",70)(11,"path",71),e.qZA(),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()()}2&d&&(e.xp6(12),e.hij(" ",e.lcZ(13,1,"lang_auto_che_de_sang")," "))}function J(d,L){1&d&&(e.O4$(),e.kcU(),e.TgZ(0,"li")(1,"a",72),e.ALo(2,"navigationLocalize"),e.O4$(),e.TgZ(3,"svg",5),e._UZ(4,"path",73)(5,"path",74),e.qZA(),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()),2&d&&(e.xp6(1),e.Q6J("routerLink",e.VKq(6,x,e.lcZ(2,2,"/auth/account-setting/0/2"))),e.xp6(5),e.hij(" ",e.lcZ(7,4,"lang_dashboard_remove_teacher_role")," "))}function H(d,L){1&d&&(e.O4$(),e.kcU(),e.TgZ(0,"li")(1,"a",75),e.ALo(2,"navigationLocalize"),e.O4$(),e.TgZ(3,"svg",5),e._UZ(4,"path",73)(5,"path",74),e.qZA(),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()),2&d&&(e.xp6(1),e.Q6J("routerLink",e.VKq(6,x,e.lcZ(2,2,"/auth/account-setting/1/2"))),e.xp6(5),e.hij(" ",e.lcZ(7,4,"lang_dashboard_become_teacher_role")," "))}function j(d,L){if(1&d){const _=e.EpF();e.ynx(0),e.TgZ(1,"li")(2,"a",23),e.ALo(3,"navigationLocalize"),e.O4$(),e.TgZ(4,"svg",5),e._UZ(5,"path",24)(6,"circle",25),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,R,10,8,"li",17),e.YNc(10,U,6,3,"li",17),e.YNc(11,K,14,3,"li",17),e.YNc(12,J,8,8,"li",17),e.YNc(13,H,8,8,"li",17),e.kcU(),e.TgZ(14,"li")(15,"a",26),e.NdJ("click",function(){e.CHM(_);const s=e.oxw(2);return e.KtG(s.reloadBrowser())}),e.O4$(),e.TgZ(16,"svg",27),e._UZ(17,"path",28)(18,"path",29)(19,"path",30)(20,"path",31),e.qZA(),e._uU(21),e.ALo(22,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(23,"li"),e._UZ(24,"hr",16),e.qZA(),e.TgZ(25,"li")(26,"a",32),e.ALo(27,"navigationLocalize"),e.O4$(),e.TgZ(28,"svg",5),e._UZ(29,"path",33)(30,"path",34)(31,"path",35)(32,"path",36)(33,"line",37),e.qZA(),e._uU(34),e.ALo(35,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(36,"li")(37,"a",38),e.ALo(38,"navigationLocalize"),e.O4$(),e.TgZ(39,"svg",5),e._UZ(40,"rect",39)(41,"rect",40)(42,"rect",41)(43,"path",42)(44,"path",43)(45,"path",44)(46,"path",45)(47,"path",46)(48,"path",47)(49,"path",48)(50,"path",49)(51,"path",50),e.qZA(),e._uU(52),e.ALo(53,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(54,"li")(55,"a",51),e.ALo(56,"navigationLocalize"),e.O4$(),e.TgZ(57,"svg",5),e._UZ(58,"path",52)(59,"polyline",53)(60,"line",54),e.qZA(),e._uU(61),e.ALo(62,"mytranslate"),e.qZA()(),e.BQk()}if(2&d){const _=e.oxw(2);e.xp6(2),e.Q6J("routerLink",e.VKq(32,x,e.lcZ(3,14,_.isTeacherDashboard?"/auth/account-setting/0/0":"/auth/account-setting/1/0"))),e.xp6(5),e.hij(" ",e.lcZ(8,16,"lang_auto_tai_khoan")," "),e.xp6(2),e.Q6J("ngIf",_.isTeacherRole),e.xp6(1),e.Q6J("ngIf","light"==_.modeUI),e.xp6(1),e.Q6J("ngIf","dark"==_.modeUI),e.xp6(1),e.Q6J("ngIf",_.isTeacherDashboard),e.xp6(1),e.Q6J("ngIf",!_.isTeacherRole&&!_.isTeacherDashboard&&!_.isBusinessDomain),e.xp6(8),e.hij(" ",e.lcZ(22,18,"lang_dashboard_footer_refresh")," "),e.xp6(5),e.Q6J("routerLink",e.VKq(34,x,e.lcZ(27,20,"/auth/login-scan/0"))),e.xp6(8),e.hij(" ",e.lcZ(35,22,"lang_auto_qr_dang_nhap")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(36,x,e.lcZ(38,24,"/auth/create-qr-forgot-pass/0"))),e.xp6(15),e.hij(" ",e.lcZ(53,26,"lang_auto_tao_qr_quen_mat_khau")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(38,x,e.lcZ(56,28,"/auth/logout"))),e.xp6(6),e.hij(" ",e.lcZ(62,30,"lang_auto_dang_xuat")," ")}}function q(d,L){if(1&d&&(e.TgZ(0,"div",11)(1,"ul",12)(2,"li",13)(3,"div",14),e.ALo(4,"mytranslate"),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"div",15),e._uU(8),e.ALo(9,"mytranslate"),e.ALo(10,"mytranslate"),e.qZA()(),e.TgZ(11,"li"),e._UZ(12,"hr",16),e.qZA(),e.YNc(13,y,13,12,"ng-container",17),e.YNc(14,j,63,40,"ng-container",17),e.qZA()()),2&d){const _=e.oxw();e.xp6(3),e.MGl("matTooltip"," ",_.isAnonymous?e.lcZ(4,5,"lang_auto_tai_khoan_an_danh"):null==_.userObj?null:_.userObj.fullName,""),e.xp6(2),e.hij(" ",_.isAnonymous?e.lcZ(6,7,"lang_auto_tai_khoan_an_danh"):null==_.userObj?null:_.userObj.fullName," "),e.xp6(3),e.hij(" ",null!=_.userObj&&null!=_.userObj.roles&&_.userObj.roles.includes("TEACHER")?e.lcZ(9,9,"lang_auto_giao_vien"):e.lcZ(10,11,"lang_auto_hoc_sinh")," "),e.xp6(5),e.Q6J("ngIf",_.isAnonymous),e.xp6(1),e.Q6J("ngIf",!_.isAnonymous)}}let Q=(()=>{class d extends n.Q{gotoLogin(){this.redirectService.redirectToLoginBackLinkWithFromRegister(`${this.router.url}`)}reloadBrowser(){var A=this.commonService.getCurrentUrl();if(A.match(/(\?|&)+t=(\d)+/)){var s=A.includes("&t=")?A.replace(/\&t=(\d)+/,"&t="+this.timeService.getCurrentSecond()):A.replace(/\?t=(\d)+/,"?t="+this.timeService.getCurrentSecond());location.replace(s)}else A=A.includes("?")?A+"&t="+this.timeService.getCurrentSecond():A+"?t="+this.timeService.getCurrentSecond(),location.replace(A)}switchModeUI(_){let A=document.getElementById("azota-app-html");this.modeUI=_,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?A&&(A.classList.remove("dark"),A.classList.add("light")):A&&(A.classList.remove("light"),A.classList.add("dark"))}avtClick(){this.isMobileWebView&&this.redirectService.redirectToPath("/auth/account-setting/0/0")}ngOnInit(){this.returnUrl=this.commonService.getMyQueryParam("return_url")||this.commonService.getCurrentUrl(),this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":this.browserStorageService.getStorage("mode_ui")??"light",this.switchModeUI(this.modeUI),this.userObj=this.userService.getUserObj(),this.isAnonymous=this.userService.isAnonymousRoleOfCurrentUser(),this.isTeacherRole=this.userService.isTeacherRole(),this.userLoginStateService.loginMessage.subscribe(_=>{this.userObj=this.userService.getUserObj(),this.isAnonymous=this.userService.isAnonymousRoleOfCurrentUser()}),super.ngOnInit()}constructor(_,A,s,T,l,D){super(),this.router=_,this.userService=A,this.browserStorageService=s,this.userLoginStateService=T,this.timeService=l,this.redirectService=D,this.isTeacherDashboard=!0,this.returnUrl="",this.modeUI="",this.isAnonymous=!1,this.isTeacherRole=!1}}return d.\u0275fac=function(_){return new(_||d)(e.Y36(r.F0),e.Y36(E.U),e.Y36(O.n),e.Y36(a.u),e.Y36(u.D),e.Y36(M.z))},d.\u0275cmp=e.Xpm({type:d,selectors:[["header-account-menu"]],inputs:{isTeacherDashboard:"isTeacherDashboard"},features:[e.qOj],decls:6,vars:3,consts:[[4,"ngIf","ngIfElse"],["loggedIn",""],["accountMenu","matMenu"],["class","dropdown-menu show relative w-56",4,"ngIf"],["azt-track-service","header-account-menu-zWAvNkVhjVM",1,"btn","btn-sm","btn-outline-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"],["points","10 17 15 12 10 7"],["x1","15","y1","12","x2","3","y2","12"],["azt-track-service","header-account-menu-S984kCyEl",1,"dropdown-toggle","w-8","h-8","rounded-full","overflow-hidden","shadow-lg","image-fit","zoom-in",3,"matMenuTriggerFor","click"],[3,"nameCreateAvatar","size","linkAvatar"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[1,"p-2"],[1,"font-medium","truncate",3,"matTooltip"],[1,"text-xs","text-slate-600","-mt-0.5","dark:text-slate-500"],[1,"dropdown-divider","border-slate-200","dark:border-darkmode-400"],[4,"ngIf"],["azt-track-service","header-account-menu-eSx-v39GRMc",1,"dropdown-item",3,"routerLink","queryParams"],["azt-track-service","header-account-menu-vlcN2DxtbR2",1,"dropdown-item",3,"routerLink","queryParams"],["cx","12","cy","12","r","10"],["points","12 16 16 12 12 8"],["x1","8","y1","12","x2","16","y2","12"],["azt-track-service","header-account-menu-e-GHKcQA8vZ",1,"dropdown-item",3,"routerLink"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["azt-track-service","header-account-menu-SEi5xr4uPic",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["d","M21 2v6h-6"],["d","M3 12a9 9 0 0 1 15-6.7L21 8"],["d","M3 22v-6h6"],["d","M21 12a9 9 0 0 1-15 6.7L3 16"],["azt-track-service","header-account-menu--T0bM_cz_i7",1,"dropdown-item",3,"routerLink"],["d","M3 7V5a2 2 0 0 1 2-2h2"],["d","M17 3h2a2 2 0 0 1 2 2v2"],["d","M21 17v2a2 2 0 0 1-2 2h-2"],["d","M7 21H5a2 2 0 0 1-2-2v-2"],["x1","7","y1","12","x2","17","y2","12"],["azt-track-service","header-account-menu-XYfAXj_Jl4e",1,"dropdown-item",3,"routerLink"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],["azt-track-service","header-account-menu-mn5LIp-0AtS",1,"dropdown-item",3,"routerLink"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16 17 21 12 16 7"],["x1","21","y1","12","x2","9","y2","12"],["azt-track-service","header-account-menu-Q26_sXs6gkC",1,"dropdown-item",3,"routerLink"],["points","17 11 21 7 17 3"],["x1","21","y1","7","x2","9","y2","7"],["points","7 21 3 17 7 13"],["x1","15","y1","17","x2","3","y2","17"],["azt-track-service","header-account-menu-iNoUc0CT5wP",1,"dropdown-item",3,"click"],["d","M12 3a6.364 6.364 0 0 0 9 9 9 9 0 1 1-9-9Z"],["azt-track-service","header-account-menu-CI1BdC7HViT",1,"dropdown-item",3,"click"],["cx","12","cy","12","r","4"],["d","M12 2v2"],["d","M12 20v2"],["d","m4.93 4.93 1.41 1.41"],["d","m17.66 17.66 1.41 1.41"],["d","M2 12h2"],["d","M20 12h2"],["d","m6.34 17.66-1.41 1.41"],["d","m19.07 4.93-1.41 1.41"],["azt-track-service","header-account-menu-VzCUMIT5BDg",1,"dropdown-item",3,"routerLink"],["d","M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"],["d","m9 12 2 2 4-4"],["azt-track-service","header-account-menu-jozmhaRatuz",1,"dropdown-item",3,"routerLink"]],template:function(_,A){if(1&_&&(e.YNc(0,m,8,3,"ng-container",0),e.YNc(1,I,2,4,"ng-template",null,1,e.W1O),e.TgZ(3,"mat-menu",null,2),e.YNc(5,q,15,13,"div",3),e.qZA()),2&_){const s=e.MAs(2);e.Q6J("ngIf",!A.userService.isLogin())("ngIfElse",s),e.xp6(5),e.Q6J("ngIf",!A.isMobileWebView)}},dependencies:[r.rH,N.O5,C.VK,C.p6,c.gM,g.g,w.Jy,w.JV],encapsulation:2}),d})()},48244:(k,S,o)=>{o.d(S,{y:()=>le});var n=o(47496),e=o(65879),r=o(44589),E=o(78953),O=o(50749),a=o(7289),u=o(79998),M=o(23433),N=o(21266),C=o(96814),c=o(77988),g=o(92596),w=o(85904),m=o(93523),I=o(71646),x=o(36727);function z(t,p){1&t&&(e.O4$(),e.kcU(),e.TgZ(0,"div",9),e._UZ(1,"azt-loading-ui"),e.qZA())}function f(t,p){if(1&t&&(e.O4$(),e.kcU(),e.TgZ(0,"div",10),e._uU(1),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.hij(" ",i.unreadNotification," ")}}function b(t,p){1&t&&(e.TgZ(0,"div",16),e._UZ(1,"azt-loading-ui",17),e.qZA())}function y(t,p){if(1&t&&(e.TgZ(0,"div",20),e.GkF(1,21),e.qZA()),2&t){e.oxw(3);const i=e.MAs(10);e.xp6(1),e.Q6J("ngTemplateOutlet",i)}}function R(t,p){1&t&&(e.TgZ(0,"div",22),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_chua_co_thong_bao_nao")," "))}function U(t,p){if(1&t&&(e.YNc(0,y,2,1,"div",18),e.YNc(1,R,3,3,"ng-template",null,19,e.W1O)),2&t){const i=e.MAs(2),v=e.oxw(2);e.Q6J("ngIf",v.commonNoticeData.length>0)("ngIfElse",i)}}function K(t,p){if(1&t&&(e.TgZ(0,"div",11)(1,"div",12)(2,"div",13),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.YNc(5,b,2,0,"div",14),e.YNc(6,U,3,2,"ng-template",null,15,e.W1O),e.qZA()()),2&t){const i=e.MAs(7),v=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"lang_auto_thong_bao")),e.xp6(2),e.Q6J("ngIf",v.statusObj.loading)("ngIfElse",i)}}function J(t,p){if(1&t&&(e.ynx(0),e._UZ(1,"azt-create-avatar",40),e.BQk()),2&t){const i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("linkAvatar",i.senderAvatar)("nameCreateAvatar",i.senderName)("size",48)}}function H(t,p){if(1&t&&e._UZ(0,"azt-create-avatar",43),2&t){const i=e.oxw(3).$implicit;e.Q6J("nameCreateAvatar",i.senderName)("size",48)}}function j(t,p){1&t&&(e._UZ(0,"azt-create-avatar",44),e.ALo(1,"convertCdnLinkOfGitHub")),2&t&&e.Q6J("linkAvatar",e.lcZ(1,2,"images/logo.svg"))("size",48)}function q(t,p){if(1&t&&(e.YNc(0,H,1,2,"azt-create-avatar",41),e.YNc(1,j,2,4,"azt-create-avatar",42)),2&t){const i=e.oxw(2).$implicit;e.Q6J("ngIf","SHARE_AZOTA_BANK_QUESTION"!=i.type),e.xp6(1),e.Q6J("ngIf","SHARE_AZOTA_BANK_QUESTION"==i.type)}}function Q(t,p){if(1&t&&(e.ynx(0),e.TgZ(1,"span",45,46),e._uU(3),e.qZA(),e.BQk()),2&t){const i=e.MAs(2),v=e.oxw(2).$implicit;e.xp6(1),e.s9C("matTooltip",v.senderName),e.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),e.xp6(2),e.hij(" ",v.senderName," ")}}function d(t,p){if(1&t&&(e.TgZ(0,"span",45,46),e._uU(2),e.qZA()),2&t){const i=e.MAs(1),v=e.oxw(3).$implicit;e.s9C("matTooltip",v.studentName),e.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",i.isDisabled),e.xp6(2),e.hij(" ",v.studentName," ")}}function L(t,p){1&t&&(e.TgZ(0,"span",49),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_notice_re_approved_student_account")," "))}function _(t,p){1&t&&(e.TgZ(0,"span",49),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_notice_bank_question")," "))}function A(t,p){if(1&t&&(e.YNc(0,d,3,4,"span",47),e.YNc(1,L,3,3,"span",48),e.YNc(2,_,3,3,"span",48)),2&t){const i=e.oxw(2).$implicit;e.Q6J("ngIf","SHARE_AZOTA_BANK_QUESTION"!=i.type&&"NEW_REQUEST_REAPPROVE"!=i.type),e.xp6(1),e.Q6J("ngIf","NEW_REQUEST_REAPPROVE"==i.type),e.xp6(1),e.Q6J("ngIf","SHARE_AZOTA_BANK_QUESTION"==i.type)}}function s(t,p){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"span",50),e._uU(3),e.qZA()()),2&t){const i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ","lang_auto_ban_moi_duoc_phan_quyen_cho_lop"," "),e.xp6(2),e.Oqu(i.classroomName)}}function T(t,p){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&t){const i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_giao_vien_da_cham_diem_bai_tap")," "),e.xp6(3),e.Oqu(i.homeworkName)}}function l(t,p){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&t){const i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_da_nop_bai_tap")," "),e.xp6(3),e.Oqu(i.homeworkName)}}function D(t,p){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()),2&t){const i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,3,"lang_auto_co_bai_tap")," "),e.xp6(3),e.Oqu(i.homeworkName),e.xp6(1),e.hij(" ",e.lcZ(6,5,"lang_auto_moi_duoc_giao")," ")}}function B(t,p){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&t){const i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_co_yeu_cau_nop_lai_bai_tap")," "),e.xp6(3),e.Oqu(i.homeworkName)}}function P(t,p){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&t){const i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_da_nop_bai_thi")," "),e.xp6(3),e.Oqu(i.examName)}}function Y(t,p){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&t){const i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_co_bai_thi_moi")," "),e.xp6(3),e.Oqu(i.examName)}}function W(t,p){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()),2&t){const i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,3,"lang_auto_bai_thi")," "),e.xp6(3),e.Oqu(i.examName),e.xp6(1),e.hij(" ",e.lcZ(6,5,"lang_auto_da_duco_cham_diem")," ")}}function V(t,p){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&t){const i=e.oxw(2).$implicit,v=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_ban_moi_duoc_phan_quyen_cho")," "),e.xp6(3),e.Oqu(v.processNoticeService.getTypeObjNotice(i))}}function X(t,p){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&t){const i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_hoc_sinh_moi_dat_cho_ban_cau_hoi_trong_de_thi")," "),e.xp6(3),e.Oqu(i.examName)}}function ee(t,p){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&t){const i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_hoc_sinh_moi_dat_cho_ban_cau_hoi_trong_bai_tap")," "),e.xp6(3),e.Oqu(i.homeworkName)}}function te(t,p){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&t){const i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_giao_vien_da_tra_loi_cau_hoi_cua_ban_o_de_thi")," "),e.xp6(3),e.Oqu(i.examName)}}function ne(t,p){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&t){const i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_auto_giao_vien_da_tra_loi_cau_hoi_cua_ban_o_bai_tap")," "),e.xp6(3),e.Oqu(i.homeworkName)}}function oe(t,p){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.ALo(3,"mytranslate"),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.ALo(6,"mytranslate"),e.qZA()),2&t){const i=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_notice_you")+" "+(i.totalApproved?e.lcZ(3,3,"lang_notice_approved")+" "+i.totalApproved+" "+e.lcZ(4,5,"lang_notice_question"):"")+(i.totalApproved&&i.totalRejected?", ":" ")+(i.totalRejected?e.lcZ(5,7,"lang_notice_rejected")+" "+i.totalRejected+" "+e.lcZ(6,9,"lang_notice_question"):"")," ")}}function ae(t,p){if(1&t&&(e.TgZ(0,"span")(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.TgZ(4,"b"),e._uU(5),e.qZA()()()),2&t){const i=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,2,"lang_news_feed_notice_has_new")," "),e.xp6(3),e.hij(" ",i.classroomName," ")}}function ie(t,p){if(1&t&&(e.TgZ(0,"span")(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.TgZ(4,"b"),e._uU(5),e.qZA(),e._uU(6),e.ALo(7,"mytranslate"),e.TgZ(8,"b"),e._uU(9),e.qZA(),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()()),2&t){const i=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,5,"lang_auto_hoc_sinh")," "),e.xp6(3),e.Oqu(i.studentName),e.xp6(1),e.hij(" ",e.lcZ(7,7,"lang_auto_lop")," "),e.xp6(3),e.hij(" ",i.classroomName," "),e.xp6(1),e.hij(" ",e.lcZ(11,9,"lang_auto_khong_chon_duoc_ten_do_da_co_ban_chon_mat")," ")}}const G=function(t){return[t]},re=function(t){return{"mt-3":t}};function se(t,p){if(1&t&&(e.TgZ(0,"a",29),e.ALo(1,"navigationLocalize"),e.TgZ(2,"div",30)(3,"div",31),e.YNc(4,J,2,3,"ng-container",32),e.YNc(5,q,2,2,"ng-template",null,33,e.W1O),e.qZA(),e.TgZ(7,"div",34)(8,"div",35),e.YNc(9,Q,4,4,"ng-container",32),e.YNc(10,A,3,3,"ng-template",null,36,e.W1O),e.TgZ(12,"div",37),e._uU(13),e.ALo(14,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()(),e.TgZ(15,"div",38),e.YNc(16,s,4,2,"span",39),e.YNc(17,T,5,4,"span",39),e.YNc(18,l,5,4,"span",39),e.YNc(19,D,7,7,"span",39),e.YNc(20,B,5,4,"span",39),e.YNc(21,P,5,4,"span",39),e.YNc(22,Y,5,4,"span",39),e.YNc(23,W,7,7,"span",39),e.YNc(24,V,5,4,"span",39),e.YNc(25,X,5,4,"span",39),e.YNc(26,ee,5,4,"span",39),e.YNc(27,te,5,4,"span",39),e.YNc(28,ne,5,4,"span",39),e.YNc(29,oe,7,11,"span",39),e.YNc(30,ae,6,4,"span",39),e.YNc(31,ie,12,11,"span",39),e.qZA()()()()),2&t){const i=e.MAs(6),v=e.MAs(11),Z=e.oxw(),h=Z.$implicit,F=Z.index,$=e.oxw(2);e.Q6J("routerLink",e.VKq(28,G,e.lcZ(1,24,$.processNoticeService.getRouterLinkForNoticeObj(h,$.role))))("queryParams",$.processNoticeService.getQueryParamForNoticeObj(h)),e.xp6(2),e.Q6J("ngClass",e.VKq(30,re,0!==F)),e.xp6(2),e.Q6J("ngIf","NEW_SHARE_CLASS_PERMISSION"==h.type||"NEW_SHARE_CATEGORY_PERMISSION"==h.type||"NEW_CLASSROOM_NEWS"==h.type||"NEW_SHARE_HOMEWORK_PERMISSION"==h.type||"NEW_SHARE_EXAM_PERMISSION"==h.type)("ngIfElse",i),e.xp6(5),e.Q6J("ngIf","NEW_SHARE_CLASS_PERMISSION"==h.type||"NEW_SHARE_CATEGORY_PERMISSION"==h.type||"NEW_CLASSROOM_NEWS"==h.type||"NEW_SHARE_HOMEWORK_PERMISSION"==h.type||"NEW_SHARE_EXAM_PERMISSION"==h.type)("ngIfElse",v),e.xp6(4),e.hij(" ",e.lcZ(14,26,h.createdAt)," "),e.xp6(3),e.Q6J("ngIf","NEW_ASSIGN"==h.type),e.xp6(1),e.Q6J("ngIf","HAS_MARK"==h.type),e.xp6(1),e.Q6J("ngIf","NEW_ANSWER"==h.type),e.xp6(1),e.Q6J("ngIf","NEW_HOMEWORK"==h.type),e.xp6(1),e.Q6J("ngIf","RESEND_ANSWER"==h.type),e.xp6(1),e.Q6J("ngIf","NEW_EXAM_SUBMIT"==h.type),e.xp6(1),e.Q6J("ngIf","NEW_EXAM"==h.type),e.xp6(1),e.Q6J("ngIf","EXAM_HAS_MARK"==h.type),e.xp6(1),e.Q6J("ngIf","NEW_SHARE_CLASS_PERMISSION"==h.type||"NEW_SHARE_CATEGORY_PERMISSION"==h.type||"NEW_SHARE_HOMEWORK_PERMISSION"==h.type||"NEW_SHARE_EXAM_PERMISSION"==h.type),e.xp6(1),e.Q6J("ngIf","NEW_QA_EXAM_ASK"==h.type),e.xp6(1),e.Q6J("ngIf","NEW_QA_HOMEWORK_ASK"==h.type),e.xp6(1),e.Q6J("ngIf","NEW_QA_EXAM_ANSWER"==h.type),e.xp6(1),e.Q6J("ngIf","NEW_QA_HOMEWORK_ANSWER"==h.type),e.xp6(1),e.Q6J("ngIf","SHARE_AZOTA_BANK_QUESTION"==h.type&&(h.totalApproved>0||h.totalRejected>0)),e.xp6(1),e.Q6J("ngIf","NEW_CLASSROOM_NEWS"==h.type),e.xp6(1),e.Q6J("ngIf","NEW_REQUEST_REAPPROVE"==h.type)}}function _e(t,p){if(1&t&&(e.ynx(0),e.YNc(1,se,32,32,"a",28),e.BQk()),2&t){const i=p.$implicit;e.xp6(1),e.Q6J("ngIf","NEW_SHARE_PERMISSION"!=i.type)}}function ce(t,p){if(1&t&&(e.YNc(0,_e,2,1,"ng-container",23),e._UZ(1,"hr",24),e.TgZ(2,"div",25),e.ALo(3,"navigationLocalize"),e.TgZ(4,"div",26)(5,"a",27),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()()),2&t){const i=e.oxw();e.Q6J("ngForOf",i.commonNoticeData),e.xp6(2),e.Q6J("routerLink",e.VKq(7,G,e.lcZ(3,3,"/notify/"+i.role+"/0/0/0"))),e.xp6(4),e.hij(" ",e.lcZ(7,5,"lang_auto_xem_tat_ca")," ")}}let le=(()=>{class t extends n.Q{removeNoticeNumber(i){"notification"==i&&(this.frontSAztCommonService.apiFrontCommonMarkNotificationAsReadGet(this.role).subscribe(v=>{1==v.success&&(this.resetNotification(0),this.getHeaderInfo())}),this.isMobileWebView)?this.redirectService.redirectToPath("/notify/0/0/0/0"):"avatar"==i&&this.frontSAztCommonService.apiFrontCommonMarkPlusPaymentAsReadGet().subscribe(v=>{1==v.success&&(this.resetNotification(1),this.getHeaderInfo())})}resetNotification(i){var v="back_header_infors_"+this.userService.getUserObj().id,Z=this.globalService.getGlobalData(v);Z&&Z.data&&(1==i&&(Z.data.plusAzo=0),0==i&&(Z.data.unreadNotification=0,this.sendReadNoticeToWebviewOfFlutter()),this.globalService.setGlobalData(v,this.serializeJson(Z)))}reGetNoticeObjs(){var i="back_header_infors_"+this.userService.getUserObj().id;this.globalService.removeGlobalData(i),this.getHeaderInfo()}sendReadNoticeToWebviewOfFlutter(){this.isMobileWebView&&this.mobileWebviewService.sendSimpleMessage("OPEN_NOTIFICATION")}getHeaderInfo(){var i="back_header_infors_"+this.userService.getUserObj().id,v=this.globalService.getGlobalData(i);v?(this.unreadNotification=v.data?.unreadNotification??0,this.commonNoticeData=v.data?.commonNoticeObjs??[],this.unreadNotification<=0&&this.sendReadNoticeToWebviewOfFlutter()):(this.initStatusObj(),this.frontSAztCommonService.apiFrontCommonGetHeaderInfoGet(this.role).subscribe(Z=>{1==Z.success&&(this.unreadNotification=Z.data?.unreadNotification??0,this.globalService.setGlobalData(i,this.serializeJson(Z)),this.commonNoticeData=Z.data?.commonNoticeObjs??new Array,this.unreadNotification<=0&&this.sendReadNoticeToWebviewOfFlutter()),this.stopStatusObj()}))}ngOnInit(){super.ngOnInit(),this.getHeaderInfo()}constructor(i,v,Z,h,F,$){super(),this.processNoticeService=i,this.userService=v,this.frontSAztCommonService=Z,this.globalService=h,this.redirectService=F,this.mobileWebviewService=$,this.role=0,this.commonNoticeData=[],this.unreadNotification=0,this.waitDestroy(this.mobileWebviewService.getHeaderReloadNoticeSubscriber().subscribe(()=>{this.reGetNoticeObjs()}))}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(r.r),e.Y36(E.U),e.Y36(O.j$),e.Y36(a.q),e.Y36(u.z),e.Y36(M.r))},t.\u0275cmp=e.Xpm({type:t,selectors:[["header-notice-box"]],inputs:{role:"role"},features:[e.qOj],decls:11,vars:4,consts:[["azt-track-service","header-notice-box-DtIJA3xWHnn",1,"dropdown-toggle","notification","cursor-pointer","relative",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"notification__icon","dark:text-slate-500"],["d","M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"],["d","M13.73 21a2 2 0 0 1-3.46 0"],["class","w-3 h-3 mx-auto inline-block",4,"ngIf"],["class","absolute bg-danger text-white rounded-full font-bold","style","top: -5px; right: -5px; font-size: 7px; overflow: hidden; width: 15px; height: 15px; line-height: 15px; text-align: center",4,"ngIf"],["notification","matMenu"],["class","notification-content dropdown-menu show relative pt-2",4,"ngIf"],["listNoticeBox",""],[1,"w-3","h-3","mx-auto","inline-block"],[1,"absolute","bg-danger","text-white","rounded-full","font-bold",2,"top","-5px","right","-5px","font-size","7px","overflow","hidden","width","15px","height","15px","line-height","15px","text-align","center"],[1,"notification-content","dropdown-menu","show","relative","pt-2"],[1,"notification-content__box","dropdown-content",2,"padding","10px"],[1,"notification-content__title"],["class","w-4 h-4 mx-auto mb-4",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"w-4","h-4","mx-auto","mb-4"],["type","bootstrap-spinner"],["class","notice-azt",4,"ngIf","ngIfElse"],["noNotification",""],[1,"notice-azt"],[3,"ngTemplateOutlet"],[1,"w-full","text-center","text-slate-500","mt-0.5","mb-4"],[4,"ngFor","ngForOf"],[1,"dropdown-divider","border-gray/[0.08]","mt-3"],["azt-track-service","header-notice-box-m_8Z0tdYOsZ",1,"clickable","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"routerLink"],[1,"text-center","p-3"],[1,"text-primary","text-center"],["azt-track-service","header-notice-box-oq6rCRY8JsN",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","header-notice-box-oq6rCRY8JsN",3,"routerLink","queryParams"],[1,"cursor-pointer","dropdown-item","relative","flex","items-center",3,"ngClass"],[1,"w-12","h-12","flex-none","image-fit","mr-1"],[4,"ngIf","ngIfElse"],["otherTemplate",""],[1,"ml-2","overflow-hidden","w-full"],[1,"flex","items-center"],["notSharePermission",""],[1,"text-xs","text-slate-400","ml-auto","whitespace-nowrap"],[1,"text-slate-500","mt-0.5"],[4,"ngIf"],[3,"linkAvatar","nameCreateAvatar","size"],[3,"nameCreateAvatar","size",4,"ngIf"],[3,"linkAvatar","size",4,"ngIf"],[3,"nameCreateAvatar","size"],[3,"linkAvatar","size"],[1,"font-medium","truncate","mr-5",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","font-medium truncate mr-5",3,"matTooltip","isDisabledTooltip","matTooltipDisabled",4,"ngIf"],["class","font-medium mr-5",4,"ngIf"],[1,"font-medium","mr-5"],[1,"notify__name"]],template:function(i,v){if(1&i&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return v.statusObj.loading?"":v.removeNoticeNumber("notification")}),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"path",2)(3,"path",3),e.qZA(),e.YNc(4,z,2,0,"div",4),e.YNc(5,f,2,1,"div",5),e.qZA(),e.kcU(),e.TgZ(6,"mat-menu",null,6),e.YNc(8,K,8,5,"div",7),e.qZA(),e.YNc(9,ce,8,9,"ng-template",null,8,e.W1O)),2&i){const Z=e.MAs(7);e.Q6J("matMenuTriggerFor",v.isMobileWebView?null:Z),e.xp6(4),e.Q6J("ngIf",v.statusObj.loading),e.xp6(1),e.Q6J("ngIf",v.unreadNotification&&!v.statusObj.loading),e.xp6(3),e.Q6J("ngIf",!v.isMobileWebView)}},dependencies:[N.rH,C.mk,C.sg,C.O5,C.tP,c.VK,c.p6,g.gM,w.g,m.Q,I.n,x.Jy,x.JV,x.Bo,x.$n],encapsulation:2}),t})()},69198:(k,S,o)=>{o.d(S,{q:()=>u});var n=o(47496),e=o(65879),r=o(88489),E=o(96814),O=o(77988),a=o(36727);let u=(()=>{class M extends n.Q{switchThemeColor(C){let c=document.getElementById("azota-app-html");if(this.themeColor=C,this.browserStorageService.saveStorage("theme_color",this.themeColor),c)switch(this.themeColor){case"theme-0":default:c.classList.remove("theme-1"),c.classList.remove("theme-2"),c.classList.remove("theme-3"),c.classList.remove("theme-4"),c.classList.add("theme-0");break;case"theme-1":c.classList.remove("theme-2"),c.classList.remove("theme-3"),c.classList.remove("theme-4"),c.classList.add("theme-1");break;case"theme-2":c.classList.remove("theme-1"),c.classList.remove("theme-3"),c.classList.remove("theme-4"),c.classList.add("theme-2");break;case"theme-3":c.classList.remove("theme-2"),c.classList.remove("theme-1"),c.classList.remove("theme-4"),c.classList.add("theme-3");break;case"theme-4":c.classList.remove("theme-2"),c.classList.remove("theme-3"),c.classList.remove("theme-1"),c.classList.add("theme-4")}}constructor(C){super(),this.browserStorageService=C,this.themeColor=""}ngOnInit(){this.themeColor=""==this.browserStorageService.getStorage("theme_color")?"theme-0":this.browserStorageService.getStorage("theme_color")??"theme-0",this.switchThemeColor(this.themeColor),super.ngOnInit()}}return M.\u0275fac=function(C){return new(C||M)(e.Y36(r.n))},M.\u0275cmp=e.Xpm({type:M,selectors:[["header-setting-color"]],features:[e.qOj],decls:15,vars:9,consts:[[1,"btn","text-white","dark:text-slate-400","btn-transparent",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide"],["d","M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"],["cx","12","cy","12","r","3"],["colorScheme","matMenu"],[1,"shadow-md","box","border","rounded-full","h-12","flex","items-center","justify-center",2,"width","310px"],[1,"mr-4","azt-hidden","sm:block","text-slate-600","dark:text-slate-200"],["azt-track-service","header-setting-color-g80N0ZDzpOl",1,"block","w-8","h-8","cursor-pointer","bg-blue-800","rounded-full","border-4","mr-1","hover:border-slate-200",3,"ngClass","click"],["azt-track-service","header-setting-color-f0erHQBoT8j",1,"block","w-8","h-8","cursor-pointer","bg-emerald-900","rounded-full","border-4","mr-1","hover:border-slate-200",3,"ngClass","click"],["azt-track-service","header-setting-color-Eccyc9Z3zmY",1,"block","w-8","h-8","cursor-pointer","bg-blue-900","rounded-full","border-4","mr-1","hover:border-slate-200",3,"ngClass","click"],["azt-track-service","header-setting-color-MP7tzsvAjbz",1,"block","w-8","h-8","cursor-pointer","bg-cyan-900","rounded-full","border-4","mr-1","hover:border-slate-200",3,"ngClass","click"],["azt-track-service","header-setting-color-vEcbCLVYrjP",1,"block","w-8","h-8","cursor-pointer","bg-indigo-900","rounded-full","border-4","hover:border-slate-200",3,"ngClass","click"]],template:function(C,c){if(1&C&&(e.TgZ(0,"button",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"path",2)(3,"circle",3),e.qZA()(),e.kcU(),e.TgZ(4,"mat-menu",null,4)(6,"div",5)(7,"div",6),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"a",7),e.NdJ("click",function(){return c.switchThemeColor("theme-0")}),e.qZA(),e.TgZ(11,"a",8),e.NdJ("click",function(){return c.switchThemeColor("theme-1")}),e.qZA(),e.TgZ(12,"a",9),e.NdJ("click",function(){return c.switchThemeColor("theme-2")}),e.qZA(),e.TgZ(13,"a",10),e.NdJ("click",function(){return c.switchThemeColor("theme-3")}),e.qZA(),e.TgZ(14,"a",11),e.NdJ("click",function(){return c.switchThemeColor("theme-4")}),e.qZA()()()),2&C){const g=e.MAs(5);e.Q6J("matMenuTriggerFor",g),e.xp6(8),e.Oqu(e.lcZ(9,7,"lang_auto_bang_mau")),e.xp6(2),e.Q6J("ngClass","theme-0"==c.themeColor?"border-slate-300 dark:border-darkmode-800/80":"border-white dark:border-darkmode-600"),e.xp6(1),e.Q6J("ngClass","theme-1"==c.themeColor?"border-slate-300 dark:border-darkmode-800/80":"border-white dark:border-darkmode-600"),e.xp6(1),e.Q6J("ngClass","theme-2"==c.themeColor?"border-slate-300 dark:border-darkmode-800/80":"border-white dark:border-darkmode-600"),e.xp6(1),e.Q6J("ngClass","theme-3"==c.themeColor?"border-slate-300 dark:border-darkmode-800/80":"border-white dark:border-darkmode-600"),e.xp6(1),e.Q6J("ngClass","theme-4"==c.themeColor?"border-slate-300 dark:border-darkmode-800/80":"border-white dark:border-darkmode-600")}},dependencies:[E.mk,O.VK,O.p6,a.JV],encapsulation:2}),M})()},85904:(k,S,o)=>{o.d(S,{g:()=>c});var n=o(47496),e=o(65879),r=o(45468),E=o(96814),O=o(92596),a=o(36727);const u=function(g,w){return{width:g,height:w}};function M(g,w){if(1&g&&(e.ynx(0),e._UZ(1,"img",2),e.ALo(2,"mycdn"),e.BQk()),2&g){const m=e.oxw();e.xp6(1),e.s9C("matTooltip",m.customTooltip?m.customTooltip:m.nameCreateAvatar),e.Q6J("matTooltipDisabled",!m.customTooltip&&!m.nameCreateAvatar)("src",e.lcZ(2,4,m.linkAvatar),e.LSH)("ngStyle",e.WLB(6,u,m.size+"px",m.size+"px"))}}const N=function(g,w,m){return{width:g,height:w,"font-size":m}};function C(g,w){if(1&g&&(e.TgZ(0,"div",3),e._uU(1),e.qZA()),2&g){const m=e.oxw();e.s9C("matTooltip",m.customTooltip?m.customTooltip:m.nameCreateAvatar),e.Q6J("matTooltipDisabled",!m.customTooltip&&!m.nameCreateAvatar)("ngStyle",e.kEZ(4,N,m.size+"px",m.size+"px",(m.size/2>48?48:m.size/2)+"px")),e.xp6(1),e.hij(" ",m.returnNameAvatar," ")}}let c=(()=>{class g extends n.Q{createNewAvatar(){try{this.nameCreateAvatar=this.homeworkExamService.removeInvalidChars(this.nameCreateAvatar).trim()}catch{this.nameCreateAvatar=this.nameCreateAvatar}var I=this.commonService.convertVietnameseToEnglish(this.nameCreateAvatar??"").toUpperCase().split(" ");this.returnNameAvatar=1==I.length?I[0]?I[0].charAt(0):"A":I[0].charAt(0)+I[I.length-1].charAt(0)}ngOnInit(){this.createNewAvatar()}ngOnChanges(){this.createNewAvatar()}constructor(m){super(),this.homeworkExamService=m,this.size=0,this.returnNameAvatar=""}}return g.\u0275fac=function(m){return new(m||g)(e.Y36(r.v))},g.\u0275cmp=e.Xpm({type:g,selectors:[["azt-create-avatar"]],inputs:{nameCreateAvatar:"nameCreateAvatar",linkAvatar:"linkAvatar",size:"size",customTooltip:"customTooltip"},features:[e.qOj,e.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"border","border-slate-200","dark:border-darkmode-400",2,"border-radius","50%",3,"matTooltip","matTooltipDisabled","src","ngStyle"],["id","create-avatar",1,"create-avatar-class","border","border-slate-200","dark:border-darkmode-400",2,"display","inline-flex","justify-content","center","align-items","center","background-color","#dddddd","border-radius","50%","color","#000","font-weight","500","margin","auto",3,"matTooltip","matTooltipDisabled","ngStyle"]],template:function(m,I){if(1&m&&(e.YNc(0,M,3,9,"ng-container",0),e.YNc(1,C,2,8,"ng-template",null,1,e.W1O)),2&m){const x=e.MAs(2);e.Q6J("ngIf",I.linkAvatar)("ngIfElse",x)}},dependencies:[E.O5,E.PC,O.gM,a.QN],encapsulation:2}),g})()},24097:(k,S,o)=>{o.d(S,{e:()=>I});var n=o(47496),e=o(20553),r=o(65879),E=o(44589),O=o(78953),a=o(50749),u=o(16722),M=o(23433),N=o(96814),C=o(77988),c=o(71646),g=o(36727);function w(x,z){1&x&&(r.TgZ(0,"span",8),r._UZ(1,"azt-loading-ui"),r.qZA())}function m(x,z){if(1&x){const f=r.EpF();r.TgZ(0,"li")(1,"a",9),r.NdJ("click",function(){const R=r.CHM(f).$implicit,U=r.oxw();return r.KtG(U.switchLanguage(R.value))}),r._UZ(2,"img",10),r.ALo(3,"convertCdnLinkOfGitHub"),r._uU(4),r.ALo(5,"mytranslate"),r.qZA()()}if(2&x){const f=z.$implicit;r.xp6(2),r.s9C("alt",f),r.Q6J("src",r.lcZ(3,3,f.img),r.LSH),r.xp6(2),r.hij(" ",r.lcZ(5,5,f.label)," ")}}let I=(()=>{class x extends n.Q{getImgLanguage(f){for(var b=0;b<this.languageList.length;b++)f==this.languageList[b].value&&(this.imgLanguage=this.languageList[b].img)}initLanguages(){for(var f=[],b=e.N.listLanguages,y=0;y<b.length;y++){var R=b[y];f.push({value:R,label:"lang_core_language_"+R,img:"flag/"+R+".svg"})}this.languageList=f}switchLanguage(f){f&&f!=this.commonService.getCurrentLang()&&(this.userService.isLogin()?(this.initStatusObj(),this.waitDestroy(this.userLangService.apiUserLangSwitchLangGet(f).subscribe(b=>{1==b.success?(this.mobileWebviewService.sendChangeLanguage(f),setTimeout(()=>{this.stopStatusObj(),this.switchLanguageService.redirectToNewLanguage(f)},100)):this.errorStatusObj(b.message??"",!0)}))):(this.mobileWebviewService.sendChangeLanguage(f),setTimeout(()=>{this.switchLanguageService.redirectToNewLanguage(f)},100)))}ngOnInit(){this.initLanguages(),this.getImgLanguage(this.commonService.getCurrentLang()),this.imgLanguage||this.getImgLanguage(e.N.defaultLanguage)}constructor(f,b,y,R,U){super(),this.processNoticeService=f,this.userService=b,this.userLangService=y,this.switchLanguageService=R,this.mobileWebviewService=U,this.imgLanguage="",this.languageList=[]}}return x.\u0275fac=function(f){return new(f||x)(r.Y36(E.r),r.Y36(O.U),r.Y36(a.Ew),r.Y36(u.L),r.Y36(M.r))},x.\u0275cmp=r.Xpm({type:x,selectors:[["azt-switch-language"]],features:[r.qOj],decls:11,vars:8,consts:[[1,"btn","btn-transparent","p-1",3,"matMenuTriggerFor"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"hidden"],[3,"src","alt"],["switchlanguage","matMenu"],[1,"dropdown-menu","show","w-32","relative"],[1,"dropdown-content"],[4,"ngFor","ngForOf"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","azt-switch-language-2NtpICqDxdj",1,"dropdown-item",3,"click"],[1,"w-5","h-5","mr-2",3,"src","alt"]],template:function(f,b){if(1&f&&(r.TgZ(0,"button",0),r.YNc(1,w,2,0,"span",1),r.TgZ(2,"span",2),r._uU(3,"\xa0"),r.qZA(),r._UZ(4,"img",3),r.ALo(5,"convertCdnLinkOfGitHub"),r.qZA(),r.TgZ(6,"mat-menu",null,4)(8,"div",5)(9,"ul",6),r.YNc(10,m,6,7,"li",7),r.qZA()()()),2&f){const y=r.MAs(7);r.Q6J("matMenuTriggerFor",y),r.xp6(1),r.Q6J("ngIf",b.statusObj.loading),r.xp6(1),r.Q6J("hidden",!b.statusObj.loading),r.xp6(2),r.s9C("alt",b.imgLanguage),r.Q6J("src",r.lcZ(5,6,b.imgLanguage),r.LSH),r.xp6(6),r.Q6J("ngForOf",b.languageList)}},dependencies:[N.sg,N.O5,C.VK,C.p6,c.n,g.JV,g.Bo],encapsulation:2}),x})()},42753:(k,S,o)=>{o.d(S,{PG:()=>_,Z_:()=>A});var n=o(65879),e=o(96814),r=o(56223),E=o(92438),O=o(74911),a=o(78645),u=o(59773),M=o(48180),N=o(21441),C=o(67081);function c(s,T){}const g=()=>{const s=typeof window<"u"?window:void 0;return s&&s.tinymce?s.tinymce:null};let w=(()=>{class s{constructor(){this.onBeforePaste=new n.vpe,this.onBlur=new n.vpe,this.onClick=new n.vpe,this.onContextMenu=new n.vpe,this.onCopy=new n.vpe,this.onCut=new n.vpe,this.onDblclick=new n.vpe,this.onDrag=new n.vpe,this.onDragDrop=new n.vpe,this.onDragEnd=new n.vpe,this.onDragGesture=new n.vpe,this.onDragOver=new n.vpe,this.onDrop=new n.vpe,this.onFocus=new n.vpe,this.onFocusIn=new n.vpe,this.onFocusOut=new n.vpe,this.onKeyDown=new n.vpe,this.onKeyPress=new n.vpe,this.onKeyUp=new n.vpe,this.onMouseDown=new n.vpe,this.onMouseEnter=new n.vpe,this.onMouseLeave=new n.vpe,this.onMouseMove=new n.vpe,this.onMouseOut=new n.vpe,this.onMouseOver=new n.vpe,this.onMouseUp=new n.vpe,this.onPaste=new n.vpe,this.onSelectionChange=new n.vpe,this.onActivate=new n.vpe,this.onAddUndo=new n.vpe,this.onBeforeAddUndo=new n.vpe,this.onBeforeExecCommand=new n.vpe,this.onBeforeGetContent=new n.vpe,this.onBeforeRenderUI=new n.vpe,this.onBeforeSetContent=new n.vpe,this.onChange=new n.vpe,this.onClearUndos=new n.vpe,this.onDeactivate=new n.vpe,this.onDirty=new n.vpe,this.onExecCommand=new n.vpe,this.onGetContent=new n.vpe,this.onHide=new n.vpe,this.onInit=new n.vpe,this.onInitNgModel=new n.vpe,this.onLoadContent=new n.vpe,this.onNodeChange=new n.vpe,this.onPostProcess=new n.vpe,this.onPostRender=new n.vpe,this.onPreInit=new n.vpe,this.onPreProcess=new n.vpe,this.onProgressState=new n.vpe,this.onRedo=new n.vpe,this.onRemove=new n.vpe,this.onReset=new n.vpe,this.onResizeEditor=new n.vpe,this.onSaveContent=new n.vpe,this.onSetAttrib=new n.vpe,this.onObjectResizeStart=new n.vpe,this.onObjectResized=new n.vpe,this.onObjectSelected=new n.vpe,this.onSetContent=new n.vpe,this.onShow=new n.vpe,this.onSubmit=new n.vpe,this.onUndo=new n.vpe,this.onVisualAid=new n.vpe}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275dir=n.lG2({type:s,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),s})();const m=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],I=(s,T,l)=>(0,E.R)(s,T).pipe((0,u.R)(l)),f=(s,T)=>"string"==typeof s?s.split(",").map(l=>l.trim()):Array.isArray(s)?s:T;let b=0;const R=s=>typeof s<"u"&&"textarea"===s.tagName.toLowerCase(),U=s=>typeof s>"u"||""===s?[]:Array.isArray(s)?s:s.split(" "),K=(s,T)=>U(s).concat(U(T)),J=()=>{},H=s=>null==s,Q=(()=>{let s={script$:null};return{load:(D,B)=>s.script$||(s.script$=(0,O.P)(()=>{const P=D.createElement("script");return P.referrerPolicy="origin",P.type="application/javascript",P.src=B,D.head.appendChild(P),(0,E.R)(P,"load").pipe((0,M.q)(1),(0,N.h)(void 0))}).pipe((0,C.d)({bufferSize:1,refCount:!0}))),reinitialize:()=>{s={script$:null}}}})(),d=new n.OlP("TINYMCE_SCRIPT_SRC"),L={provide:r.JU,useExisting:(0,n.Gpc)(()=>_),multi:!0};let _=(()=>{class s extends w{constructor(l,D,B,P){super(),this.platformId=B,this.tinymceScriptSrc=P,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=J,this.destroy$=new a.x,this.initialise=()=>{const Y={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:K(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:W=>{this._editor=W,I(W,"init",this.destroy$).subscribe(()=>{this.initEditor(W)}),((s,T,l)=>{(s=>{const T=f(s.ignoreEvents,[]);return f(s.allowedEvents,m).filter(D=>m.includes(D)&&!T.includes(D))})(s).forEach(B=>{const P=s[B];I(T,B.substring(2),l).subscribe(Y=>{P.observers.length>0&&s.ngZone.run(()=>P.emit({event:Y,editor:T}))})})})(this,W,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(W)}};R(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{g().init(Y)})},this._elementRef=l,this.ngZone=D}set disabled(l){this._disabled=l,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(l?"readonly":"design"):this._editor.setMode(l?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(l){this._editor&&this._editor.initialized?this._editor.setContent(H(l)?"":l):this.initialValue=null===l?void 0:l}registerOnChange(l){this.onChangeCallback=l}registerOnTouched(l){this.onTouchedCallback=l}setDisabledState(l){this.disabled=l}ngAfterViewInit(){(0,e.NF)(this.platformId)&&(this.id=this.id||(s=>{const l=(new Date).getTime(),D=Math.floor(1e9*Math.random());return b++,"tiny-angular_"+D+b+String(l)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==g()?this.initialise():this._element&&this._element.ownerDocument&&Q.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,u.R)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==g()&&g().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,R(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return H(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(l){I(l,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),I(l,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(l))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{l.setContent(this.initialValue),l.getContent()!==this.initialValue&&this.emitOnChange(l),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(l)})}emitOnChange(l){this.onChangeCallback&&this.onChangeCallback(l.getContent({format:this.outputFormat}))}}return s.\u0275fac=function(l){return new(l||s)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(n.Lbi),n.Y36(d,8))},s.\u0275cmp=n.Xpm({type:s,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[n._Bn([L]),n.qOj,n.jDz],decls:1,vars:0,template:function(l,D){1&l&&n.YNc(0,c,0,0,"ng-template")},dependencies:[e.ez,r.u5],styles:["[_nghost-%COMP%]{display:block}"]}),s})(),A=(()=>{class s{}return s.\u0275fac=function(l){return new(l||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({imports:[_]}),s})()}}]);