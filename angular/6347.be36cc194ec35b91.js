"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[6347],{60:(xe,Ut,g)=>{g.d(Ut,{v:()=>Zt});var rt=g(56223),n=g(47496),e=g(6050),c=g(63278),C=g(10533),t=g(65879),yt=g(21266),$=g(87789),i=g(2783),St=g(27113),bt=g(96814),Lt=g(92596),lt=g(43389),it=g(93523),X=g(25368),at=g(1103),vt=g(60381),Nt=g(37722),et=g(36727);function F(kt,K){if(1&kt){const P=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"azt-search-box",8),t.NdJ("onSearch",function(xt){t.CHM(P);const Ct=t.oxw();return t.KtG(Ct.onSearchBox(xt.searchObj))}),t.ALo(3,"mytranslate"),t.qZA()()()}2&kt&&(t.xp6(2),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(3,2,"lang_core_tim_theo_ten_phone_email")))}function E(kt,K){1&kt&&t._UZ(0,"azt-loading-effect")}function pt(kt,K){if(1&kt){const P=t.EpF();t.TgZ(0,"tr",18)(1,"td"),t._UZ(2,"azt-student-info-box",19),t.qZA(),t.TgZ(3,"td",20),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(6,"td",20),t._uU(7),t.ALo(8,"formatOnlyDateByUserUnitPipe"),t.qZA(),t.TgZ(9,"td",20)(10,"div",21),t._UZ(11,"textarea",22),t.ALo(12,"mytranslate"),t.TgZ(13,"span",23,24),t.NdJ("click",function(){const Ct=t.CHM(P).$implicit,Dt=t.oxw(3);return t.KtG(Dt.showAllComment(Ct))}),t.ALo(15,"mytranslate"),t._UZ(16,"lucide-icon",25),t.qZA()()()()}if(2&kt){const P=K.$implicit,ht=t.MAs(14);t.Q6J("id","row_student_"+P.id),t.xp6(2),t.Q6J("name",P.fullName)("parentFullName",P.parentFullName)("parentId",P.parentId)("parentPhone",P.parentPhone)("avatar",P.avatar)("gender",P.gender)("hasUser",P.hasUser)("schoolName",P.schoolName)("classrooms",P.classrooms)("joinedAt",P.joinedAt),t.xp6(2),t.Oqu(P.identificationNumber?t.xi3(5,20,P.identificationNumber,6):""),t.xp6(3),t.Oqu(t.lcZ(8,23,null!=P.assessments&&P.assessments[0]?null==P.assessments||null==P.assessments[0]?null:P.assessments[0].createdAt:"")),t.xp6(4),t.s9C("placeholder",t.lcZ(12,25,"lang_azt_enter_comment")),t.Q6J("id","assessment_content_"+P.id)("disabled",!0)("value",P.lastAssessmentComment),t.xp6(2),t.s9C("matTooltip",t.lcZ(15,27,"lang_student_show_all_comment")),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",ht.isDisabled)}}function tt(kt,K){if(1&kt&&(t.TgZ(0,"div",12)(1,"drag-scroll")(2,"table",13)(3,"thead")(4,"tr")(5,"th",14),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"th",15),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"th",15),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"th",16),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,pt,17,29,"tr",17),t.qZA()()()()),2&kt){const P=t.oxw(2);t.xp6(6),t.Oqu(t.lcZ(7,5,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(10,7,"lang_auto_so_bao_danh")),t.xp6(3),t.Oqu(t.lcZ(13,9,"lang_azt_comments_date")),t.xp6(3),t.Oqu(t.lcZ(16,11,"lang_azt_comments_consciousness_and_academic_performance")),t.xp6(3),t.Q6J("ngForOf",P.listStudent)}}function ut(kt,K){if(1&kt&&(t.TgZ(0,"div",9),t.YNc(1,E,1,0,"azt-loading-effect",10),t.YNc(2,tt,19,13,"ng-template",null,11,t.W1O),t.qZA()),2&kt){const P=t.MAs(3),ht=t.oxw();t.xp6(1),t.Q6J("ngIf",ht.statusObj.loading)("ngIfElse",P)}}function ft(kt,K){1&kt&&t._UZ(0,"azt-loading-effect")}function _t(kt,K){1&kt&&(t.TgZ(0,"div",29),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&kt&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_azt_no_comments_yet")," "))}function Ft(kt,K){if(1&kt&&(t.TgZ(0,"div",32)(1,"div",33)(2,"p",34),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"formatOnlyDateByUserUnitPipe"),t.qZA()(),t._UZ(6,"div",35),t.ALo(7,"safeNormalHtmlContent"),t.qZA()),2&kt){const P=K.$implicit;t.xp6(3),t.AsE("",t.lcZ(4,3,"lang_student_add_comment_date"),": ",t.lcZ(5,5,P.updatedAt),""),t.xp6(3),t.Q6J("innerHTML",t.lcZ(7,7,P.comment),t.oJD)}}function Bt(kt,K){if(1&kt&&(t.TgZ(0,"div",30),t.YNc(1,Ft,8,9,"div",31),t.qZA()),2&kt){const P=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",null==P.firstStudent?null:P.firstStudent.assessments)}}function Rt(kt,K){if(1&kt&&(t.YNc(0,_t,3,3,"div",27),t.YNc(1,Bt,2,1,"ng-template",null,28,t.W1O)),2&kt){const P=t.MAs(2),ht=t.oxw(2);t.Q6J("ngIf",!(null!=ht.firstStudent&&ht.firstStudent.assessments&&null!=ht.firstStudent&&null!=ht.firstStudent.assessments&&ht.firstStudent.assessments.length))("ngIfElse",P)}}function re(kt,K){if(1&kt&&(t.TgZ(0,"div",1),t.YNc(1,ft,1,0,"azt-loading-effect",10),t.YNc(2,Rt,3,2,"ng-template",null,26,t.W1O),t.qZA()),2&kt){const P=t.MAs(3),ht=t.oxw();t.xp6(1),t.Q6J("ngIf",ht.statusObj.loading)("ngIfElse",P)}}let Zt=(()=>{class kt extends n.Q{onSearchBox(P){this.searchContentObj=P,this.getData()}showAllComment(P){this.sAztDialogService.open(C.h,{width:"700px",restoreFocus:!1,data:{student:P,isTeacher:!1}}).afterClosed().subscribe(ht=>{ht&&this.getData()})}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!0}).subscribe({next:ht=>{ht.list.length&&(this.listStudent=[]),ht.list.forEach(Ct=>{let Dt=this.sAztAssessmentStudentService.getLastAssessmentStudent(Ct);this.listStudent.push({...Ct,commentControl:new rt.cw({id:new rt.NI(0,{nonNullable:!0}),updatedAt:new rt.NI(Dt?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new rt.NI(Dt?.comment??"",{nonNullable:!0}),isEditted:new rt.NI(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(Ct.assessments),editComment:!1}),this.firstStudent=this.listStudent?.[0]?this.listStudent[0]:void 0,this.firstStudent=this.convertBreakLine(this.firstStudent)}),this.pageObj.setTotalPages(ht.total??0),this.successStatusObj()},error:ht=>{this.errorStatusObj(ht.error.message,!0)}}))}convertBreakLine(P){if(!P)return;const ht=P.assessments?.map(xt=>({...xt,comment:xt.comment?.replace(/\n/g,"<br/>")}));return{...P,assessments:ht}}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getData()}constructor(P,ht,xt,Ct){super(),this.activeRoute=P,this.studentService=ht,this.sAztDialogService=xt,this.sAztAssessmentStudentService=Ct,this.classroomId=0,this.searchContentObj=new c.h,this.pageObj=new e.m(20),this.listStudent=[]}}return kt.\u0275fac=function(P){return new(P||kt)(t.Y36(yt.gz),t.Y36($.VT),t.Y36(i.C),t.Y36(St.c))},kt.\u0275cmp=t.Xpm({type:kt,selectors:[["app-assessment-board"]],inputs:{isStudent:"isStudent"},features:[t.qOj],decls:8,vars:6,consts:[[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","col-span-12 lg:col-span-12 2xl:col-span-12 mt-4",4,"ngIf"],["class","col-span-12 overflow-auto",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"isServerSearch","placeholder","onSearch"],[1,"col-span-12","overflow-auto"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","10px"],[1,"whitespace-nowrap","text-center"],[1,"whitespace-nowrap"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"flex","items-center"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value"],[1,"w-6","h-6","ml-4","inline-block","clickable",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","click"],["c","isDisabled"],["name","history"],["doneLoadingStudent",""],["class","mt-2 py-3 px-5 mb-3 text-center","style","height: 55px",4,"ngIf","ngIfElse"],["hasData",""],[1,"mt-2","py-3","px-5","mb-3","text-center",2,"height","55px"],[1,"py-3","px-5","box","mt-4"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"flex","mb-2",2,"align-items","center"],[1,"font-bold","mb-0"],[1,"box","bg-slate-200","dark:bg-darkmode-400","p-2",3,"innerHTML"]],template:function(P,ht){1&P&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.YNc(5,F,4,4,"div",3),t.YNc(6,ut,4,2,"div",4),t.YNc(7,re,4,2,"div",5),t.qZA()),2&P&&(t.xp6(3),t.Oqu(t.lcZ(4,4,"lang_azt_comments")),t.xp6(2),t.Q6J("ngIf",!ht.isStudent),t.xp6(1),t.Q6J("ngIf",!ht.isStudent),t.xp6(1),t.Q6J("ngIf",ht.isStudent))},dependencies:[bt.sg,bt.O5,Lt.gM,lt.l,it.Q,X.W,at.a,vt.HU,vt.$Z,Nt.Nh5,et.JV,et.fF,et.gw,et.YK],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),kt})()},78595:(xe,Ut,g)=>{g.d(Ut,{E:()=>re});var rt=g(25672),n=g(47496),e=g(6050),c=g(63278),C=function(Zt){return Zt.none="None",Zt.asc="Asc",Zt.desc="Desc",Zt}(C||{}),t=g(65879),yt=g(21266),$=g(2783),i=g(87789),St=g(96814),bt=g(43389),Lt=g(25368),lt=g(1103),it=g(89765),X=g(36727);function at(Zt,kt){1&Zt&&(t.TgZ(0,"div",11),t._UZ(1,"azt-loading-effect"),t.qZA())}function vt(Zt,kt){1&Zt&&(t.TgZ(0,"div",15),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&Zt&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Nt(Zt,kt){1&Zt&&(t.TgZ(0,"span"),t._uU(1,"/"),t.qZA())}function et(Zt,kt){if(1&Zt&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,Nt,2,0,"span",3),t._uU(3),t.qZA()),2&Zt){const K=t.oxw().$implicit;t.xp6(1),t.hij(" ",K.lastMonthPaid," "),t.xp6(1),t.Q6J("ngIf",K.lastMonthPaid),t.xp6(1),t.hij(" ",K.lastYearPaid," ")}}function F(Zt,kt){1&Zt&&(t.TgZ(0,"span",34),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&Zt&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_hoc_thu")," "))}function E(Zt,kt){if(1&Zt){const K=t.EpF();t.TgZ(0,"tr")(1,"td",28),t.NdJ("click",function(){const xt=t.CHM(K).$implicit,Ct=t.oxw(5);return t.KtG(Ct.addOrEditTuitionFee(xt))}),t._UZ(2,"azt-student-info-box",29),t.qZA(),t.TgZ(3,"td",30),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(6,"td",31),t._uU(7),t.qZA(),t.TgZ(8,"td",32),t.YNc(9,et,4,3,"span",3),t.YNc(10,F,3,3,"span",33),t.qZA()()}if(2&Zt){const K=kt.$implicit;let P;t.xp6(2),t.Q6J("name",K.fullName)("avatar",K.avatar)("gender",K.gender)("schoolName",K.schoolName)("hasUser",K.hasUser)("classrooms",K.classrooms)("joinedAt",K.joinedAt),t.xp6(2),t.Oqu(K.identificationNumber?t.xi3(5,11,K.identificationNumber,6):""),t.xp6(3),t.hij(" ",null!==(P=null==K.classroom?null:K.classroom.name)&&void 0!==P?P:""," "),t.xp6(2),t.Q6J("ngIf",!K.isTrial),t.xp6(1),t.Q6J("ngIf",K.isTrial)}}const pt=function(Zt){return{"text-primary stroke-width-2.5":Zt}},tt=function(){return[]};function ut(Zt,kt){if(1&Zt){const K=t.EpF();t.TgZ(0,"div")(1,"div",16)(2,"table",17)(3,"thead")(4,"tr")(5,"th",18),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"th",19),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"th",20),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"th",20)(15,"div",21),t.NdJ("click",function(){t.CHM(K);const ht=t.oxw(4);return t.KtG(ht.sortTimeTuitionFree())}),t._uU(16),t.ALo(17,"mytranslate"),t.ALo(18,"mytranslate"),t.TgZ(19,"div",22),t.O4$(),t.TgZ(20,"svg",23),t._UZ(21,"polyline",24),t.qZA(),t.TgZ(22,"svg",25),t._UZ(23,"polyline",26),t.qZA()()()()()(),t.kcU(),t.TgZ(24,"tbody"),t.YNc(25,E,11,14,"tr",27),t.qZA()()()()}if(2&Zt){const K=t.oxw(4);let P;t.xp6(6),t.Oqu(t.lcZ(7,8,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(10,10,"lang_auto_so_bao_danh")),t.xp6(3),t.Oqu(t.lcZ(13,12,"lang_auto_lop")),t.xp6(4),t.AsE(" ",t.lcZ(17,14,"lang_test_market_withdraw_time")," ",t.lcZ(18,16,"lang_core_nop_hoc_phi").toLocaleLowerCase()," "),t.xp6(4),t.Q6J("ngClass",t.VKq(18,pt,K.timeSort===K.typeTimeSort.asc)),t.xp6(2),t.Q6J("ngClass",t.VKq(20,pt,K.timeSort===K.typeTimeSort.desc)),t.xp6(3),t.Q6J("ngForOf",null!==(P=null==K.listPaymentView?null:K.listPaymentView.list)&&void 0!==P?P:t.DdM(22,tt))}}function ft(Zt,kt){if(1&Zt){const K=t.EpF();t.TgZ(0,"div",35),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",36),t.NdJ("click",function(){t.CHM(K);const ht=t.oxw(4);return t.KtG(ht.goBack())}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&Zt&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_core_not_found_student"),"... "),t.xp6(3),t.Oqu(t.lcZ(5,4,"lang_powerpoint_frontend_chart_back")))}function _t(Zt,kt){if(1&Zt&&(t.TgZ(0,"div",12),t.YNc(1,vt,3,3,"div",13),t.YNc(2,ut,26,23,"div",3),t.YNc(3,ft,6,6,"div",14),t.qZA()),2&Zt){const K=t.oxw(3);let P,ht;t.xp6(1),t.Q6J("ngIf",!K.searchContentObj.isLoading&&0==(null==K.listPaymentView?null:K.listPaymentView.total)&&""==K.searchContentObj.searchContent),t.xp6(1),t.Q6J("ngIf",(null!==(P=null==K.listPaymentView?null:K.listPaymentView.total)&&void 0!==P?P:0)>0),t.xp6(1),t.Q6J("ngIf",!K.searchContentObj.isLoading&&0==(null!==(ht=null==K.listPaymentView?null:K.listPaymentView.list)&&void 0!==ht?ht:t.DdM(3,tt)).length&&""!=K.searchContentObj.searchContent)}}function Ft(Zt,kt){if(1&Zt&&t.YNc(0,_t,4,4,"div",4),2&Zt){const K=t.oxw(2);t.Q6J("ngIf",!K.isStudent)}}function Bt(Zt,kt){if(1&Zt){const K=t.EpF();t.ynx(0),t.TgZ(1,"div",5)(2,"div",6)(3,"div",7)(4,"azt-search-box",8),t.NdJ("onSearch",function(ht){t.CHM(K);const xt=t.oxw();return t.KtG(xt.onSearchBox(ht.searchObj))}),t.ALo(5,"mytranslate"),t.qZA()()()(),t.YNc(6,at,2,0,"div",9),t.YNc(7,Ft,1,1,"ng-template",null,10,t.W1O),t.BQk()}if(2&Zt){const K=t.MAs(8),P=t.oxw();t.xp6(4),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(5,5,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",P.searchContentObj),t.xp6(2),t.Q6J("ngIf",P.statusObj.loading)("ngIfElse",K)}}function Rt(Zt,kt){1&Zt&&(t.TgZ(0,"div",12),t._UZ(1,"detail-tuition-fee-student"),t.qZA())}let re=(()=>{class Zt extends n.Q{onSearchBox(K){this.searchContentObj=K,this.getData()}addOrEditTuitionFee(K){this.sAztDialogService.open(rt.i,{width:"900px",restoreFocus:!1,data:K}).afterClosed().subscribe(P=>{P&&this.getData()})}goBack(){this.searchContentObj.resetSearchContentEvent()}sortTimeTuitionFree(){switch(this.timeSort){case"None":this.listPaymentView?.list.sort((K,P)=>K.isTrial&&!P.isTrial?1:!K.isTrial&&P.isTrial?-1:null===K.lastYearPaid||null===K.lastMonthPaid?1:null===P.lastYearPaid||null===P.lastMonthPaid?-1:K.lastYearPaid!==P.lastYearPaid?(K.lastYearPaid??0)-(P.lastYearPaid??0):(K.lastMonthPaid??0)-(P.lastMonthPaid??0)),this.timeSort=C.asc;break;case"Asc":this.listPaymentView?.list.sort((K,P)=>K.isTrial&&!P.isTrial?1:!K.isTrial&&P.isTrial?-1:null===K.lastYearPaid||null===K.lastMonthPaid?1:null===P.lastYearPaid||null===P.lastMonthPaid?-1:K.lastYearPaid!==P.lastYearPaid?(P.lastYearPaid??0)-(K.lastYearPaid??0):(P.lastMonthPaid??0)-(K.lastMonthPaid??0)),this.timeSort=C.desc;break;case"Desc":this.listPaymentView=this.commonService.myClone(this.listPayment),this.timeSort=C.none}}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:this.isStudent,getAssessment:!1}).subscribe({next:P=>{this.listPayment=P,this.listPaymentView=this.commonService.myClone(this.listPayment),this.pageObj.setTotalPages(P.total??0),this.successStatusObj()},error:P=>{this.errorStatusObj(P.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.isStudent||this.getData()}constructor(K,P,ht){super(),this.activeRoute=K,this.sAztDialogService=P,this.studentService=ht,this.pageStudent=1,this.searchContentObj=new c.h,this.classroomId=0,this.pageObj=new e.m(20),this.timeSort=C.none,this.typeTimeSort=C}}return Zt.\u0275fac=function(K){return new(K||Zt)(t.Y36(yt.gz),t.Y36($.C),t.Y36(i.VT))},Zt.\u0275cmp=t.Xpm({type:Zt,selectors:[["app-tuition-fee-board"]],inputs:{isStudent:"isStudent"},features:[t.qOj],decls:7,vars:5,consts:[[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],[4,"ngIf"],["class","intro-y col-span-12 overflow-auto",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","grid","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"w-full","flex","justify-center","items-center"],[1,"intro-y","col-span-12","overflow-auto"],["class","flex justify-center mt-5",4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"flex","justify-center","mt-5"],[2,"height","100%"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap","text-center",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],["azt-track-service","tuition-fee-board-IUt4-_5WI",1,"flex","items-center","cursor-pointer",3,"click"],[1,"flex","items-center","flex-col","ml-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4",3,"ngClass"],["points","18 15 12 9 6 15"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","-mt-2",3,"ngClass"],["points","6 9 12 15 18 9"],[4,"ngFor","ngForOf"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center",2,"min-width","100px","max-width","150px"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],[1,"text-slate-500"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"]],template:function(K,P){1&K&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.YNc(5,Bt,9,7,"ng-container",3),t.YNc(6,Rt,2,0,"div",4),t.qZA()),2&K&&(t.xp6(3),t.hij(" ",t.lcZ(4,3,P.isStudent?"lang_student_tuition_fee_info":"lang_business_tuition_fee_title_top")," "),t.xp6(2),t.Q6J("ngIf",!P.isStudent),t.xp6(1),t.Q6J("ngIf",P.isStudent))},dependencies:[St.mk,St.sg,St.O5,bt.l,Lt.W,lt.a,it.V,X.JV,X.gw],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),Zt})()},89765:(xe,Ut,g)=>{g.d(Ut,{V:()=>lt});var rt=g(47496),n=g(65879),e=g(87789),c=g(96814),C=g(71646),t=g(60381),yt=g(36727);function $(it,X){1&it&&(n.TgZ(0,"tr",9)(1,"td",10)(2,"span",11),n._UZ(3,"azt-loading-ui"),n.qZA()()())}function i(it,X){if(1&it&&(n.TgZ(0,"tr")(1,"td",9),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),n.qZA(),n.TgZ(6,"td"),n._uU(7),n.qZA(),n.TgZ(8,"td",9)(9,"span",15),n._uU(10),n.ALo(11,"mytranslate"),n.qZA()()()),2&it){const at=X.$implicit,vt=X.index;n.xp6(2),n.Oqu(vt+1),n.xp6(2),n.Oqu(n.lcZ(5,4,at.createdAt)),n.xp6(3),n.Oqu(at.month+"/"+at.year),n.xp6(3),n.hij(" ",n.lcZ(11,6,"lang_student_tuition_fee_paid")," ")}}function St(it,X){if(1&it&&(n.ynx(0),n.YNc(1,i,12,8,"tr",14),n.BQk()),2&it){const at=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",at.historyTuitionFeeList)}}function bt(it,X){1&it&&(n.TgZ(0,"tr")(1,"td",16),n._uU(2),n.ALo(3,"mytranslate"),n.qZA()()),2&it&&(n.xp6(2),n.hij(" ",n.lcZ(3,1,"lang_student_profile_not_data_view")," "))}function Lt(it,X){if(1&it&&(n.YNc(0,St,2,1,"ng-container",12),n.YNc(1,bt,4,3,"ng-template",null,13,n.W1O)),2&it){const at=n.MAs(2),vt=n.oxw();n.Q6J("ngIf",vt.historyTuitionFeeList.length)("ngIfElse",at)}}let lt=(()=>{class it extends rt.Q{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentMeGet().subscribe(at=>{at?(this.historyTuitionFeeList=at.histories,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(at){super(),this.paymentService=at,this.historyTuitionFeeList=[]}}return it.\u0275fac=function(at){return new(at||it)(n.Y36(e.te))},it.\u0275cmp=n.Xpm({type:it,selectors:[["detail-tuition-fee-student"]],features:[n.qOj],decls:22,vars:14,consts:[[1,"detail-attendance"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],["class","text-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],["noTuitionFee",""],[4,"ngFor","ngForOf"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(at,vt){if(1&at&&(n.TgZ(0,"div",0)(1,"div",1)(2,"drag-scroll")(3,"table",2)(4,"thead",3)(5,"tr")(6,"th",4),n._uU(7),n.ALo(8,"mytranslate"),n.qZA(),n.TgZ(9,"th",5),n._uU(10),n.ALo(11,"mytranslate"),n.qZA(),n.TgZ(12,"th",5),n._uU(13),n.ALo(14,"mytranslate"),n.qZA(),n.TgZ(15,"th",6),n._uU(16),n.ALo(17,"mytranslate"),n.qZA()()(),n.TgZ(18,"tbody"),n.YNc(19,$,4,0,"tr",7),n.YNc(20,Lt,3,2,"ng-template",null,8,n.W1O),n.qZA()()()()()),2&at){const Nt=n.MAs(21);n.xp6(7),n.hij(" ",n.lcZ(8,6,"lang_auto_stt")," "),n.xp6(3),n.hij(" ",n.lcZ(11,8,"lang_student_payment_time")," "),n.xp6(3),n.hij(" ",n.lcZ(14,10,"lang_student_monthly_tuition_fee")," "),n.xp6(3),n.hij(" ",n.lcZ(17,12,"lang_student_status")," "),n.xp6(3),n.Q6J("ngIf",vt.statusObj.loading)("ngIfElse",Nt)}},dependencies:[c.sg,c.O5,C.n,t.HU,t.$Z,yt.JV,yt.$n],encapsulation:2}),it})()},27113:(xe,Ut,g)=>{g.d(Ut,{c:()=>e});var rt=g(56223),n=g(65879);let e=(()=>{class c{makeListFormArrayComment(t,yt){let $=new rt.Oe([]);return t&&t.forEach(i=>{$.push(new rt.cw({id:new rt.NI({value:i.id,disabled:!yt},{nonNullable:!0}),updatedAt:new rt.NI({value:i.updatedAt?.toString()??"",disabled:!yt},{nonNullable:!0}),comment:new rt.NI({value:i.comment??"",disabled:!yt},{nonNullable:!0}),isEditted:new rt.NI(!1,{nonNullable:!0})}))}),$}getLastAssessmentStudent(t){if(t.assessments&&t.assessments.length)return t.assessments[0]}}return c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=n.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},10533:(xe,Ut,g)=>{g.d(Ut,{h:()=>K});var rt=g(29023),n=g(65879),e=g(56223),c=g(73445),C=g(23680),t=g(19347),yt=g(44683),$=g(13217),i=g(72164),St=g(46558),bt=g(84003),Lt=g(27113),lt=g(97151),it=g(38228),X=g(68719),at=g(96814),vt=g(92596),Nt=g(67679),et=g(78497),F=g(71646),E=g(1103),pt=g(37722),tt=g(36727);function ut(P,ht){if(1&P){const xt=n.EpF();n.TgZ(0,"button",14),n.NdJ("click",function(){n.CHM(xt);const Dt=n.oxw();return n.KtG(Dt.changeEditStatus(!0))}),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()}2&P&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"lang_auto_sua")," "))}function ft(P,ht){if(1&P){const xt=n.EpF();n.TgZ(0,"button",15),n.NdJ("click",function(){n.CHM(xt);const Dt=n.oxw();return n.KtG(Dt.changeEditStatus(!1))}),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()}if(2&P){const xt=n.oxw();n.Q6J("disabled",xt.isSave),n.xp6(1),n.hij(" ",n.lcZ(2,2,"lang_auto_huy_sua")," ")}}function _t(P,ht){if(1&P){const xt=n.EpF();n.TgZ(0,"button",16),n.NdJ("click",function(){n.CHM(xt);const Dt=n.oxw();return n.KtG(Dt.saveEdit())}),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()}if(2&P){const xt=n.oxw();n.Q6J("disabled",xt.isSave||xt.countChangedComment()),n.xp6(1),n.hij(" ",n.lcZ(2,2,"lang_auto_luu")," ")}}function Ft(P,ht){1&P&&(n.TgZ(0,"div",17)(1,"span",18),n._UZ(2,"azt-loading-ui"),n.qZA()())}function Bt(P,ht){1&P&&(n.TgZ(0,"div",21),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&P&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"lang_azt_no_comments_yet")," "))}function Rt(P,ht){if(1&P){const xt=n.EpF();n.TgZ(0,"button",30),n.NdJ("click",function(){n.CHM(xt);const Dt=n.oxw().$implicit,ee=n.oxw(3);return n.KtG(ee.deleteAssesment(Dt.controls.id.value))}),n._UZ(1,"lucide-icon",31),n.ALo(2,"mytranslate"),n.qZA()}if(2&P){const xt=n.oxw(4);n.Q6J("disabled",xt.isSave),n.xp6(1),n.s9C("matTooltip",n.lcZ(2,2,"lang_auto_xoa"))}}function re(P,ht){if(1&P){const xt=n.EpF();n.TgZ(0,"div",24)(1,"form",25)(2,"div",26)(3,"p",27),n._uU(4),n.ALo(5,"mytranslate"),n.ALo(6,"formatOnlyDateByUserUnitPipe"),n.qZA(),n.YNc(7,Rt,3,4,"button",28),n.qZA(),n.TgZ(8,"textarea",29),n.NdJ("change",function(){const ee=n.CHM(xt).$implicit;return n.KtG(ee.controls.isEditted.setValue(!0))}),n.qZA()()()}if(2&P){const xt=ht.$implicit,Ct=n.oxw(3);n.xp6(1),n.Q6J("formGroup",xt),n.xp6(3),n.AsE("",n.lcZ(5,4,"lang_student_add_comment_date"),": ",n.lcZ(6,6,xt.controls.updatedAt.value),""),n.xp6(3),n.Q6J("ngIf",Ct.isEdit)}}function Zt(P,ht){if(1&P&&(n.TgZ(0,"div",22),n.YNc(1,re,9,8,"div",23),n.qZA()),2&P){const xt=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",null==xt.data.student.listCommentControl?null:xt.data.student.listCommentControl.controls)}}function kt(P,ht){if(1&P&&(n.YNc(0,Bt,3,3,"div",19),n.YNc(1,Zt,2,1,"ng-template",null,20,n.W1O)),2&P){const xt=n.MAs(2),Ct=n.oxw();n.Q6J("ngIf",!Ct.data.student.assessments||!Ct.data.student.assessments.length)("ngIfElse",xt)}}let K=(()=>{class P extends i.e{filterData(xt){this.dataFilter=xt,this.initStatusObj()}countChangedComment(){return!!this.data.student.listCommentControl?.controls.filter(Ct=>Ct.controls.isEditted.value&&!Ct.controls.comment.value)?.length}saveEdit(){this.isSave=!0,this.changeEditStatus(!1),this.initStatusObj();let xt=this.data.student.listCommentControl?.controls.filter(Dt=>Dt.controls.isEditted.value).map(Dt=>({id:Dt.controls.id.value,studentId:this.data.student.id,comment:Dt.controls.comment.value}))??[];if(!xt.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost({classroomId:this.data.student.classroomId,studentAssessments:xt}).subscribe(Dt=>{Dt.success?(this.showSuccessSnack("lang_student_edit_comment_successfully"),this.isEdit=!1,this.hasChanged=!0,this.getStudent()):this.errorStatusObj("lang_student_edit_comment_unsuccessfully",!0),this.isSave=!1}))}deleteAssesment(xt){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsIdAssessmentsDelete(xt).subscribe(Ct=>{Ct.success?(this.getStudent(!0),this.showSuccessSnack("lang_student_delete_comment_successfully"),this.hasChanged=!0):this.errorStatusObj("lang_student_delete_comment_unsuccessfully",!0)}))}changeEditStatus(xt){this.isEdit=xt,this.data.student.listCommentControl?.controls.map(Ct=>xt?Ct.enable():Ct.disable())}getStudent(xt){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.student.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.student.classroomId,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!1,me:!this.data.isTeacher,getAssessment:!0}).subscribe({next:Dt=>{if(Dt.list.length){let ee=this.sAztAssessmentStudentService.getLastAssessmentStudent(Dt.list[0]);this.data.student={...Dt.list[0],commentControl:new e.cw({id:new e.NI(0,{nonNullable:!0}),updatedAt:new e.NI(ee?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new e.NI(ee?.comment??"",{nonNullable:!0}),isEditted:new e.NI(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(Dt.list[0].assessments,xt)}}this.stopStatusObj()},error:Dt=>{this.errorStatusObj(Dt.error.message,!0)}}))}closeDialog(){this.dialogRef.close(this.hasChanged)}ngOnInit(){super.ngOnInit()}constructor(xt,Ct,Dt,ee,ue,pe,ae){super(ae,pe),this.sAztAssessmentStudentService=xt,this.sAztTimeService=Ct,this.shareFileFlutterService=Dt,this.exportExcelService=ee,this.studentService=ue,this.dialogRef=pe,this.data=ae,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.isSave=!1,this.isEdit=!1,this.hasChanged=!1,this.commonService=(0,n.f3M)(St.z)}ngOnDestroy(){super.ngOnDestroy()}}return P.\u0275fac=function(xt){return new(xt||P)(n.Y36(Lt.c),n.Y36(bt.D),n.Y36(lt.g),n.Y36(it.L),n.Y36(X.V),n.Y36(t.so,8),n.Y36(t.WI,8))},P.\u0275cmp=n.Xpm({type:P,selectors:[["azt-student-comments"]],features:[n._Bn([{provide:rt.fM,useClass:yt.WG,deps:[C.Ad,c.o8]},{provide:rt.ab,useFactory:$.fX,deps:[bt.D]}]),n.qOj],decls:17,vars:17,consts:[[1,"box"],[1,"px-5","py-3","border-b","border-slate-300"],[1,"flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[2,"align-self","center"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","ml-2",3,"matTooltip","click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"flex","justify-end"],["azt-track-service","show-all-comment-dialog-LbiztBEnN","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3","class","btn btn-sm btn-secondary-soft mr-2",3,"disabled","click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r","class","btn btn-sm btn-primary",3,"disabled","click",4,"ngIf"],["class","p-5 text-center",4,"ngIf","ngIfElse"],["doneLoading",""],["azt-track-service","show-all-comment-dialog-LbiztBEnN",1,"btn","btn-sm","btn-secondary",3,"click"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3",1,"btn","btn-sm","btn-secondary-soft","mr-2",3,"disabled","click"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r",1,"btn","btn-sm","btn-primary",3,"disabled","click"],[1,"p-5","text-center"],[1,"w-8","h-8","inline-block","mr-2"],["class","mt-2 py-3 px-5 mb-2 text-center","style","height: 55px",4,"ngIf","ngIfElse"],["hasData",""],[1,"mt-2","py-3","px-5","mb-2","text-center",2,"height","55px"],[1,"py-3","px-5"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[3,"formGroup"],[1,"flex","mb-2",2,"align-items","center"],[1,"font-bold","mb-0"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP","class","btn btn-transparent btn-outline-secondary btn-sm",3,"disabled","click",4,"ngIf"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"change"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP",1,"btn","btn-transparent","btn-outline-secondary","btn-sm",3,"disabled","click"],["name","trash-2",2,"width","16px !important","height","16px !important",3,"matTooltip"]],template:function(xt,Ct){if(1&xt&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2),n._UZ(3,"azt-student-info-box",3),n.TgZ(4,"div",4),n.O4$(),n.TgZ(5,"svg",5),n.NdJ("click",function(){return Ct.closeDialog()}),n.ALo(6,"mytranslate"),n._UZ(7,"path",6)(8,"path",7),n.qZA()()(),n.kcU(),n.TgZ(9,"div",8),n.YNc(10,ut,3,3,"button",9),n.YNc(11,ft,3,4,"button",10),n.YNc(12,_t,3,4,"button",11),n.qZA()(),n.TgZ(13,"azt-mat-dialog-content"),n.YNc(14,Ft,3,0,"div",12),n.YNc(15,kt,3,2,"ng-template",null,13,n.W1O),n.qZA()()),2&xt){const Dt=n.MAs(16);n.xp6(3),n.Q6J("name",Ct.data.student.fullName)("parentFullName",Ct.data.student.parentFullName)("parentId",Ct.data.student.parentId)("parentPhone",Ct.data.student.parentPhone)("phone",Ct.data.student.phone)("email",Ct.data.student.email)("avatar",Ct.data.student.avatar)("gender",Ct.data.student.gender)("hasUser",Ct.data.student.hasUser),n.xp6(2),n.s9C("matTooltip",n.lcZ(6,15,"lang_auto_dong")),n.xp6(5),n.Q6J("ngIf",!Ct.isEdit&&Ct.data.isTeacher),n.xp6(1),n.Q6J("ngIf",Ct.isEdit),n.xp6(1),n.Q6J("ngIf",Ct.isEdit),n.xp6(2),n.Q6J("ngIf",Ct.statusObj.loading)("ngIfElse",Dt)}},dependencies:[at.sg,at.O5,vt.gM,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,Nt.M,et.R,F.n,E.a,pt.Nh5,tt.JV,tt.YK],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),P})()},94767:(xe,Ut,g)=>{g.d(Ut,{y:()=>ti});var rt=g(52572),n=g(47496),e=g(65879),c=g(21266),C=g(78226),t=g(87789),yt=g(84003),$=g(96814),i=g(43389),St=g(93283),bt=g(6585),Lt=g(15828),lt=g(86),it=g(61713),X=g(2783),at=g(82228),vt=g(95273),Nt=g(77988),et=g(92596),F=g(93523),E=g(71646),pt=g(8524),tt=g(37722),ut=g(98140),ft=g(29023),_t=g(56223),Ft=g(73445),Bt=g(23680),Rt=g(44683),re=g(13217);class Zt{static addNewEducationalProgramFormValidator(z){let p=z,T=p.controls.weekdayConfig;if(!T.length)return p.setErrors(null),null;let A=0,D=0;return T.controls.forEach(J=>{let mt=!1,It={invalidTime:!1,requireTime:!1,invalidInfrastructure:!1,identityRevealed:!0};J.controls.selected.value?(J.controls.infrastructureId.value||(mt=!0,It.invalidInfrastructure=!0),J.controls.startTime.value&&J.controls.endTime.value?new Date("1970-01-01T"+J.controls.startTime.value).getTime()>=new Date("1970-01-01T"+J.controls.endTime.value).getTime()?(mt=!0,It.invalidTime=!0):It.invalidTime=!1:(mt=!0,It.requireTime=!0),J.setErrors(mt?It:null),D++):J.setErrors(null),J.invalid&&A++},T),A||!D?(p.setErrors({invalidData:!0}),{identityRevealed:!0,invalidData:!0}):(p.setErrors(null),null)}}var kt=g(20553),K=g(98603),P=g(87325),ht=g(32296),xt=g(2032),Ct=g(64170),Dt=g(98525),ee=g(30292),ue=g(67679),pe=g(95545),ae=g(36727);const Pe=["startTime"];function ze(v,z){1&v&&e._UZ(0,"azt-loading-effect",4)}function Ke(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(p);const A=e.oxw(2);return e.KtG(A.saveEducationalProgramEmit.emit(!1))}),e.O4$(),e.TgZ(1,"svg",43),e._UZ(2,"polyline",44),e.qZA(),e.kcU(),e.TgZ(3,"span",45),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}if(2&v){const p=e.oxw(2);e.Q6J("disabled",p.isSavingProgram),e.xp6(4),e.Oqu(e.lcZ(5,2,"lang_auto_huy"))}}function Ue(v,z){1&v&&e._UZ(0,"lucide-icon",50)}function We(v,z){1&v&&e._UZ(0,"lucide-icon",51)}function Fe(v,z){1&v&&e._UZ(0,"lucide-icon",59)}const de=function(v){return{"border border-primary":v}};function Je(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",55)(1,"div",56),e.NdJ("click",function(){const D=e.CHM(p).$implicit,J=e.oxw().$implicit,mt=e.oxw(2).$implicit,It=e.oxw(2);let Pt;return e.KtG(It.selectSubject(null!==(Pt=mt.id)&&void 0!==Pt?Pt:0,null!==(Pt=J.id)&&void 0!==Pt?Pt:0,D))}),e.TgZ(2,"span",57),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.YNc(5,Fe,1,0,"lucide-icon",58),e.qZA()()}if(2&v){const p=z.$implicit;e.Q6J("ngClass",e.VKq(5,de,p.selected)),e.xp6(3),e.Oqu(e.lcZ(4,3,p.name)),e.xp6(2),e.Q6J("ngIf",p.selected)}}function Xe(v,z){if(1&v&&(e.ynx(0),e.TgZ(1,"h3",52)(2,"span",53),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.YNc(5,Je,6,7,"div",54),e.BQk()),2&v){const p=z.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,2,p.name)," "),e.xp6(2),e.Q6J("ngForOf",p.children)}}function qe(v,z){if(1&v&&(e.ynx(0),e.YNc(1,Xe,6,4,"ng-container",18),e.BQk()),2&v){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",p.subjects)}}function Qe(v,z){if(1&v){const p=e.EpF();e.ynx(0),e.TgZ(1,"h3",46)(2,"span",47),e.NdJ("click",function(){const D=e.CHM(p).$implicit,J=e.oxw(2);let mt;return e.KtG(J.showEducationalProgramSubject(null!==(mt=D.id)&&void 0!==mt?mt:0))}),e._uU(3),e.ALo(4,"mytranslate"),e.YNc(5,Ue,1,0,"lucide-icon",48),e.YNc(6,We,1,0,"lucide-icon",49),e.qZA()(),e.YNc(7,qe,2,1,"ng-container",19),e.BQk()}if(2&v){const p=z.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,4,p.name)," "),e.xp6(2),e.Q6J("ngIf",p.showChild),e.xp6(1),e.Q6J("ngIf",!p.showChild),e.xp6(1),e.Q6J("ngIf",p.showChild)}}function tn(v,z){1&v&&(e.ynx(0),e.TgZ(1,"small",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&v&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_validate"),""))}function en(v,z){1&v&&(e.ynx(0),e.TgZ(1,"small",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&v&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_no_program_yet"),""))}function nn(v,z){if(1&v){const p=e.EpF();e.ynx(0),e.TgZ(1,"div",62),e.NdJ("click",function(){e.CHM(p);const A=e.oxw().$implicit,D=e.oxw(2);return e.KtG(D.openWeekdayConfig(A.controls.id.value))}),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.BQk()}if(2&v){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("formGroup",p),e.xp6(2),e.Oqu(e.lcZ(4,2,p.controls.name.value))}}function Ye(v,z){1&v&&(e.TgZ(0,"button",83),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&v&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_huy")))}function Te(v,z){1&v&&(e.TgZ(0,"button",84),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&v&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_xac_nhan")))}function ye(v,z){1&v&&e._UZ(0,"p",85)}function ke(v,z){1&v&&(e.TgZ(0,"mat-label"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&v&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_business_config_educational_program_select_infrastructure")," "))}function Ne(v,z){if(1&v&&(e.TgZ(0,"mat-option",86),e._uU(1),e.qZA()),2&v){const p=z.$implicit;e.s9C("value",p.id),e.xp6(1),e.Oqu(p.name)}}function Se(v,z){1&v&&(e.ynx(0),e.TgZ(1,"small",87),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&v&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_time_validate"),""))}function ve(v,z){1&v&&(e.ynx(0),e.TgZ(1,"small",87),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&v&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_testbank_test_config_end_time_bigger_time_star"),""))}function Ie(v,z){1&v&&(e.ynx(0),e._UZ(1,"br"),e.TgZ(2,"small",88),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.BQk()),2&v&&(e.xp6(3),e.hij("* ",e.lcZ(4,1,"lang_business_config_educational_program_infrastructure_validate"),""))}function be(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",63)(1,"div",64)(2,"span",65),e.NdJ("click",function(){e.CHM(p);const A=e.oxw().$implicit,D=e.oxw(2);return e.KtG(D.openWeekdayConfig(A.controls.id.value))}),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"lucide-icon",66),e.NdJ("click",function(){e.CHM(p);const A=e.oxw().$implicit,D=e.oxw(2);return e.KtG(D.openWeekdayConfig(A.controls.id.value))}),e.qZA(),e.TgZ(6,"div",67)(7,"div",68)(8,"div",69),e._UZ(9,"input",70),e.ALo(10,"mytranslate"),e._UZ(11,"ngx-mat-timepicker",71,72),e.qZA(),e.TgZ(13,"span",73),e._uU(14,"\xa0-\xa0"),e.qZA(),e.TgZ(15,"div",69),e._UZ(16,"input",74),e.ALo(17,"mytranslate"),e._UZ(18,"ngx-mat-timepicker",71,75),e.qZA(),e.YNc(20,Ye,3,3,"ng-template",null,76,e.W1O),e.YNc(22,Te,3,3,"ng-template",null,77,e.W1O),e.YNc(24,ye,1,0,"ng-template",null,78,e.W1O),e.TgZ(26,"lucide-icon",79),e.NdJ("click",function(){e.CHM(p);const A=e.oxw().$implicit,D=e.oxw(2);return e.KtG(D.openWeekdayConfig(A.controls.id.value))}),e.qZA()(),e.TgZ(27,"mat-form-field",80),e.YNc(28,ke,3,3,"mat-label",19),e.TgZ(29,"mat-select",81),e.NdJ("openedChange",function(A){e.CHM(p);const D=e.oxw().$implicit,J=e.oxw(2);return e.KtG(J.touchedMatSelect(A,D))}),e.YNc(30,Ne,2,2,"mat-option",82),e.qZA()(),e.YNc(31,Se,4,3,"ng-container",19),e.YNc(32,ve,4,3,"ng-container",19),e.YNc(33,Ie,5,3,"ng-container",19),e.qZA()()()}if(2&v){const p=e.MAs(12),T=e.MAs(19),A=e.MAs(21),D=e.MAs(23),J=e.MAs(25),mt=e.oxw().$implicit,It=e.oxw(2);e.Q6J("formGroup",mt)("ngClass",e.VKq(29,de,mt.controls.selected.value)),e.xp6(3),e.Oqu(e.lcZ(4,23,mt.controls.name.value)),e.xp6(6),e.s9C("placeholder",e.lcZ(10,25,"lang_auto_tu")),e.Q6J("ngxMatTimepicker",p)("format",24),e.xp6(2),e.Q6J("editableHintTmpl",J)("enableKeyboardInput",!0)("cancelBtnTmpl",A)("confirmBtnTmpl",D),e.xp6(5),e.s9C("placeholder",e.lcZ(17,27,"lang_auto_den")),e.Q6J("ngxMatTimepicker",T)("format",24),e.xp6(2),e.Q6J("editableHintTmpl",J)("enableKeyboardInput",!0)("cancelBtnTmpl",A)("confirmBtnTmpl",D),e.xp6(10),e.Q6J("ngIf",mt.errors&&mt.errors.invalidInfrastructure&&!mt.controls.infrastructureId.touched),e.xp6(1),e.Q6J("value",mt.controls.infrastructureId.value),e.xp6(1),e.Q6J("ngForOf",It.listInfrastructureObjs),e.xp6(1),e.Q6J("ngIf",mt.errors&&mt.errors.requireTime),e.xp6(1),e.Q6J("ngIf",mt.errors&&mt.errors.invalidTime),e.xp6(1),e.Q6J("ngIf",mt.errors&&mt.errors.invalidInfrastructure)}}function we(v,z){if(1&v&&(e.ynx(0),e.YNc(1,nn,5,4,"ng-container",19),e.YNc(2,be,34,31,"div",61),e.BQk()),2&v){const p=z.$implicit;e.xp6(1),e.Q6J("ngIf",!p.controls.selected.value),e.xp6(1),e.Q6J("ngIf",p.controls.selected.value)}}function on(v,z){1&v&&(e.ynx(0),e.TgZ(1,"small",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&v&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_start_time_validate"),""))}function Jt(v,z){1&v&&(e.TgZ(0,"span",35),e._UZ(1,"azt-loading-ui"),e.qZA())}function je(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",89)(1,"button",90),e.NdJ("click",function(){e.CHM(p);const A=e.oxw(2);return e.KtG(A.saveEducationalProgram())}),e.YNc(2,Jt,2,0,"span",91),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()}if(2&v){const p=e.oxw(2);e.xp6(1),e.Q6J("disabled",p.form.invalid||p.isSavingProgram),e.xp6(1),e.Q6J("ngIf",p.isSavingProgram),e.xp6(1),e.hij(" ",e.lcZ(4,3,"lang_auto_luu")," ")}}const Wt=function(v){return{"mt-2":v}},U=function(){return{"width.px":"auto","height.%":100}},Ot=function(v){return[v]},j=function(v){return{backTo:v}},b=function(v,z){return{hiddenVisible:v,visibleIpt:z}};function G(v,z){if(1&v){const p=e.EpF();e.YNc(0,Ke,6,4,"button",5),e.TgZ(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"h3",11),e._uU(7,"1"),e.qZA()(),e.TgZ(8,"span",12),e._uU(9),e.ALo(10,"mytranslate"),e.qZA(),e.TgZ(11,"lucide-icon",13),e.NdJ("click",function(){e.CHM(p);const A=e.oxw();return e.KtG(A.reloadAllEducationalProgram())}),e.qZA()(),e.TgZ(12,"div",14)(13,"div",15)(14,"ng-scrollbar",16)(15,"div",17),e.YNc(16,Qe,8,6,"ng-container",18),e.YNc(17,tn,4,3,"ng-container",19),e.YNc(18,en,4,3,"ng-container",19),e.qZA()()(),e.TgZ(19,"div",17)(20,"a",20),e.ALo(21,"navigationLocalize"),e.O4$(),e.TgZ(22,"svg",21),e._UZ(23,"line",22)(24,"line",23),e.qZA(),e.kcU(),e.TgZ(25,"span",24),e._uU(26),e.ALo(27,"mytranslate"),e.qZA()()()()(),e.TgZ(28,"div",8)(29,"div",9)(30,"div",10)(31,"h3",11),e._uU(32,"2"),e.qZA()(),e.TgZ(33,"span",25),e._uU(34),e.ALo(35,"mytranslate"),e.qZA()(),e.TgZ(36,"div",26)(37,"div",27)(38,"ng-scrollbar",16)(39,"div",28),e.YNc(40,we,3,2,"ng-container",18),e.qZA()()()()(),e.TgZ(41,"div",8)(42,"div",9)(43,"div",10)(44,"h3",11),e._uU(45,"3"),e.qZA()(),e.TgZ(46,"span",25),e._uU(47),e.ALo(48,"mytranslate"),e.qZA()(),e.TgZ(49,"div",29)(50,"div",30)(51,"ng-scrollbar",16)(52,"div",31)(53,"mat-form-field",32)(54,"input",33),e.NdJ("click",function(){e.CHM(p);const A=e.oxw();return e.KtG(A.openDateTimePicker(1))}),e.qZA(),e.TgZ(55,"button",34),e.NdJ("click",function(A){return e.CHM(p),e.oxw().openDateTimePicker(1),e.KtG(A.stopPropagation())}),e.TgZ(56,"span",35),e._UZ(57,"lucide-icon",36),e.qZA()(),e.TgZ(58,"ngx-mat-datetime-picker",37,38)(60,"ngx-mat-datepicker-actions")(61,"button",39),e._uU(62),e.ALo(63,"mytranslate"),e.qZA(),e.TgZ(64,"button",40),e._uU(65,"OK"),e.qZA()()()(),e.YNc(66,on,4,3,"ng-container",19),e.qZA()()(),e.YNc(67,je,5,5,"div",41),e.qZA()()()()}if(2&v){const p=e.MAs(59),T=e.oxw();e.Q6J("ngIf",T.programObj),e.xp6(2),e.Q6J("ngClass",e.VKq(39,Wt,T.programObj)),e.xp6(7),e.Oqu(e.lcZ(10,27,"lang_config_educational_program_select_new")),e.xp6(5),e.Q6J("visibility","hover")("ngStyle",e.DdM(41,U)),e.xp6(2),e.Q6J("ngForOf",T.listEducationalProgramObjs),e.xp6(1),e.Q6J("ngIf",!T.form.controls.chooseProgramId.value&&T.listEducationalProgramObjs.length>0),e.xp6(1),e.Q6J("ngIf",!T.listEducationalProgramObjs.length),e.xp6(2),e.Q6J("routerLink",e.VKq(42,Ot,e.lcZ(21,29,"/business/create-general-educational-program")))("queryParams",e.VKq(44,j,T.currentURL)),e.xp6(6),e.Oqu(e.lcZ(27,31,"lang_config_educational_program_add_new")),e.xp6(8),e.Oqu(e.lcZ(35,33,"lang_config_educational_program_add_time")),e.xp6(3),e.Q6J("ngClass",e.WLB(46,b,T.form.controls.stepChoose.value<2,T.form.controls.stepChoose.value>=2)),e.xp6(1),e.Q6J("visibility","hover")("ngStyle",e.DdM(49,U)),e.xp6(2),e.Q6J("ngForOf",T.form.controls.weekdayConfig.controls),e.xp6(7),e.Oqu(e.lcZ(48,35,"lang_config_educational_program_add_start_time")),e.xp6(3),e.Q6J("ngClass",e.WLB(50,b,T.form.controls.stepChoose.value<3,T.form.controls.stepChoose.value>=3)),e.xp6(1),e.Q6J("visibility","hover")("ngStyle",e.DdM(53,U)),e.xp6(3),e.Q6J("max",T.maxDate)("ngxMatDatetimePicker",p),e.xp6(4),e.Q6J("touchUi",!0)("hideTime",!0),e.xp6(4),e.Oqu(e.lcZ(63,37,"lang_auto_dong")),e.xp6(4),e.Q6J("ngIf",T.form.controls.startTimeEducationalProgram.invalid),e.xp6(1),e.Q6J("ngIf",!T.statusObj.loading)}}let w=(()=>{class v extends n.Q{openDateTimePicker(p){1==p&&this.startTime&&this.startTime.open()}showEducationalProgramSubject(p){this.listEducationalProgramObjs.forEach(T=>{T.id==p&&(T.showChild=!T.showChild,T.showChild||T.subjects.forEach(A=>{A.children?.find(D=>D.id==this.form.controls.chooseProgramId.value)&&(this.form.controls.stepChoose.setValue(1),this.form.controls.chooseProgramId.setValue(0))}))}),this.initForm()}selectSubject(p,T,A){this.listEducationalProgramObjs.forEach(D=>{D.id==p?D.subjects.forEach(J=>{J.id==T?J.children?.forEach(mt=>{mt.id==A.id?(mt.selected=!mt.selected,this.form.controls.chooseProgramId.setValue(mt.selected?A.id:0),this.form.controls.stepChoose.setValue(mt.selected?2:1)):mt.selected=!1}):J.children?.map(mt=>mt.selected=!1)}):D.subjects.map(J=>J.children?.map(mt=>mt.selected=!1))})}reloadAllEducationalProgram(){this.initForm(),this.initData()}openWeekdayConfig(p){this.form.controls.weekdayConfig.controls.forEach(T=>{T.controls.id.value==p&&T.controls.selected.setValue(!T.controls.selected.value)})}touchedMatSelect(p,T){p?T.controls.infrastructureId.markAsTouched():T.controls.infrastructureId.markAsUntouched()}saveEducationalProgram(){this.isSavingProgram=!0;let p={programId:this.form.controls.chooseProgramId.value,studyingTimes:this.convertStudyTimes(),startTime:this.timeService.formatDateTimeToPostToServer(this.form.controls.startTimeEducationalProgram.value)};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdProgramsPost(this.classroomId,p).subscribe({next:T=>{this.showSuccessSnack("lang_educational_program_save_success_educational_program"),this.isSavingProgram=!1,this.saveEducationalProgramEmit.emit(!0)},error:T=>{this.isSavingProgram=!1,this.errorStatusObj(T.error.message,!0)}}))}convertStudyTimes(){let p=[];return this.form.controls.weekdayConfig.controls.forEach(T=>{if(T.controls.selected.value){let A={days:T.controls.id.value,fromHour:new Date("1970-01-01T"+T.controls.startTime.value).getHours(),fromMinute:new Date("1970-01-01T"+T.controls.startTime.value).getMinutes(),toHour:new Date("1970-01-01T"+T.controls.endTime.value).getHours(),toMinute:new Date("1970-01-01T"+T.controls.endTime.value).getMinutes(),roomId:T.controls.infrastructureId.value};p.push(A)}}),p}convertSubjectList(p,T){let A=[];return p.forEach(D=>{if(D.schoolLevelId==T)if(A.filter(mt=>mt.id==D.schoolSubjectId&&mt.levelId==D.schoolLevelId).length)A.forEach(mt=>{mt.id==D.schoolSubjectId&&mt.levelId==D.schoolLevelId&&(mt.children?.find(It=>It==D)||mt.children?.push(D))});else{let mt={id:D.schoolSubjectId,levelId:D.schoolLevelId,name:this.schoolSubjectObjs.find(It=>It.id==D.schoolSubjectId)?.name,children:[D]};A.push(mt)}}),A}convertProgramInfo(p){let T=[],A=this.sAZTranslateService.myTranslateInstant("lang_auto_lop")??"L\u1edbp",D=this.sAZTranslateService.myTranslateInstant("lang_core_buoi")??"Bu\u1ed5i";return p.forEach(J=>{if(J.name=`${J.name} (${J.totalSession} ${D})`,!T.filter(It=>It.id==J.schoolLevelId).length){let It={id:J.schoolLevelId,name:A+" "+J.schoolLevelId,subjects:this.convertSubjectList(p,J.schoolLevelId),showChild:!1};T.push(It)}}),T.sort((J,mt)=>(mt.id??0)-(J.id??0))}convertListInfrastructure(p){let T=[],A=this.commonService.myTranslateInstant("lang_infrastructure_seat")??"";return p.forEach(D=>{D.name=`${D.infrastructure?.name??""} - ${D.name} (${D.numberSeat} ${A})`,T.push(D)}),T}getAllInfrastructure(){this.waitDestroy(this.infrastructureService.apiInfrastructuresRoomsGet().subscribe({next:p=>{this.listInfrastructureObjs=this.convertListInfrastructure(p.list),this.stopStatusObj()},error:p=>{this.errorStatusObj(p.error.message,!0)}}))}initForm(){this.form.controls.chooseProgramId.setValue(0),this.form.controls.startTimeEducationalProgram.setValue(""),this.form.controls.weekdayConfig.clear();for(let p=0;p<7;p++){let T=new _t.cw({id:new _t.NI(p,{nonNullable:!0}),name:new _t.NI("lang_config_educational_program_day_"+p,{nonNullable:!0}),startTime:new _t.NI("",{nonNullable:!0}),endTime:new _t.NI("",{nonNullable:!0}),infrastructureId:new _t.NI(0,{nonNullable:!0}),selected:new _t.NI(!1,{nonNullable:!0}),invalidTime:new _t.NI(!1,{nonNullable:!0})});this.form.controls.weekdayConfig.push(T)}}initData(){this.initStatusObj(),this.waitDestroy(this.programService.apiProgramsListPost({page:0,size:-1}).subscribe({next:p=>{this.listEducationalProgramObjs=this.convertProgramInfo(p.list),this.getAllInfrastructure()},error:p=>{this.errorStatusObj(p.error.message,!0)}}))}getSubjectObjs(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(p=>{1==p.success?(this.schoolSubjectObjs=this.commonService.concatMultipleArray(p.data?.schoolLevelSubjectObjs.map(T=>T.schoolSubjectObjs)??[]),this.initData()):(this.errorStatusObj(p.message??""),this.initData())}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard",this.getSubjectObjs()}ngAfterViewChecked(){this.form.controls.weekdayConfig.controls.filter(T=>T.controls.selected).length?2==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(3):3==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(2),this.cd.detectChanges()}ngDoCheck(){this.cd.detectChanges()}constructor(p,T,A,D,J,mt,It){super(),this.cd=p,this.timeService=T,this.classroomService=A,this.programService=D,this.infrastructureService=J,this.sAZTranslateService=mt,this.commonListService=It,this.saveEducationalProgramEmit=new e.vpe,this.backLink="",this.currentURL=this.commonService.getCurrentUrlWithoutLocale(),this.listEducationalProgramObjs=[],this.listInfrastructureObjs=[],this.maxDate=kt.N.maxDateTimePicker,this.curStep=1,this.isSavingProgram=!1,this.schoolSubjectObjs=[],this.form=new _t.cw({chooseProgramId:new _t.NI(0,{nonNullable:!0,validators:[_t.kI.required,_t.kI.min(1)]}),startTimeEducationalProgram:new _t.NI("",{nonNullable:!0,validators:[_t.kI.required]}),weekdayConfig:new _t.Oe([]),stepChoose:new _t.NI(1,{nonNullable:!0})},{validators:[Zt.addNewEducationalProgramFormValidator]}),this.initForm()}}return v.\u0275fac=function(p){return new(p||v)(e.Y36(e.sBO),e.Y36(yt.D),e.Y36(t.um),e.Y36(t.Zm),e.Y36(t.wp),e.Y36(K.W),e.Y36(P.o7))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-add-new-educational-program"]],viewQuery:function(p,T){if(1&p&&e.Gf(Pe,5),2&p){let A;e.iGM(A=e.CRH())&&(T.startTime=A.first)}},inputs:{classroomId:"classroomId",programObj:"programObj"},outputs:{saveEducationalProgramEmit:"saveEducationalProgramEmit"},features:[e._Bn([{provide:ft.fM,useClass:Rt.WG,deps:[Bt.Ad,Ft.o8]},{provide:ft.ab,useFactory:re.tF,deps:[yt.D]}]),e.qOj],decls:5,vars:3,consts:[[1,"mx-auto","mt-3","pb-2"],[3,"formGroup"],["class","block pb-5",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"block","pb-5"],["azt-track-service","add-new-educational-program-V_itz7ADg","class","btn btn-transparent",3,"disabled","click",4,"ngIf"],[1,"box","px-4","pt-5"],[1,"grid","grid-cols-12",3,"ngClass"],[1,"col-span-12","md:col-span-4"],[1,"flex","px-2","pb-3","items-center"],[1,"bg-info","text-white","h-8","w-8","text-center",2,"border-radius","50%"],[1,"font-bold","text-xl"],[1,"ml-2",2,"vertical-align","middle","font-weight","420","word-break","break-all"],["name","refresh-ccw",1,"ml-2","clickable",2,"vertical-align","baseline !important","width","18px !important","height","18px !important",3,"click"],[1,"border","border-slate-300",2,"border-bottom","0","border-left","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto"],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"],[2,"padding-right","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],["azt-track-service","add-new-educational-programs-eY0H_Hziew",1,"btn","btn-sm","btn-primary","shadow-md","w-full","block","mx-auto","mt-3","mb-3",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-6","mr-2"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[2,"vertical-align","middle","font-size","14px !important"],[1,"ml-2",2,"vertical-align","middle","font-weight","420"],[1,"border","border-slate-300",2,"height","100%","border-bottom","0","border-left","0","border-right","0"],["formArrayName","weekdayConfig",1,"mt-2","pb-2",2,"height","calc(100vh - 205px)","overflow-y","auto",3,"ngClass"],[2,"padding-right","1rem","padding-left","1rem"],[1,"border","border-slate-300",2,"border-bottom","0","border-right","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],[1,"mt-2",2,"padding-left","1rem","padding-right","1rem"],["appearance","outline"],["matInput","","formControlName","startTimeEducationalProgram","readonly","",3,"max","ngxMatDatetimePicker","click"],["matSuffix","",2,"font-size","18px",3,"click"],[1,"w-4","h-4","inline-block"],["name","calendar-clock"],[3,"touchUi","hideTime"],["startTime",""],["mat-raised-button","","color","secondary","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["class","text-right mt-3 mb-3",4,"ngIf"],["azt-track-service","add-new-educational-program-V_itz7ADg",1,"btn","btn-transparent",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[1,"azt-hidden","sm:block"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-right","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-down",2,"width","18px !important","height","18px !important","vertical-align","top"],["name","chevron-right",2,"width","18px !important","height","18px !important","vertical-align","top"],[1,"flex","mt-1","ml-2",2,"font-weight","420","font-size","15px"],[1,"clickable",2,"align-items","center"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 clickable",3,"ngClass",4,"ngFor","ngForOf"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable",3,"ngClass"],["azt-track-service","add-new-educational-programs-bahN75vF_Q",1,"flex","w-full","justify-between",3,"click"],[2,"vertical-align","middle","text-align","left"],["name","check-square","class","text-primary","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","check-square",1,"text-primary",2,"width","18px !important","height","18px !important","vertical-align","top"],[1,"text-danger","mt-3","float-left","text-left"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 text-left relative",3,"formGroup","ngClass",4,"ngIf"],["azt-track-service","add-new-educational-programs-FanOWsky0S",1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable","text-left",3,"formGroup","click"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","text-left","relative",3,"formGroup","ngClass"],[1,"flex","justify-between","flex-wrap"],["azt-track-service","add-new-educational-programs-UqgywYmnzK",1,"clickable",3,"click"],["name","check-square",1,"text-primary","ml-2","clickable","change-block-hidden",2,"width","18px !important","height","18px !important","vertical-align","top",3,"click"],[1,"block","md:ml-2","w-full"],[1,"flex","justify-between",2,"align-items","center"],[2,"width","100%","height","38px","align-items","center"],["type","text","formControlName","startTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],[3,"editableHintTmpl","enableKeyboardInput","cancelBtnTmpl","confirmBtnTmpl"],["timeStartPicker",""],[1,"text-center",2,"vertical-align","middle","align-self","center"],["type","text","formControlName","endTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],["timeEndPicker",""],["cancelBtn",""],["confirmBtn",""],["dialHint",""],["name","check-square",1,"text-primary","ml-2","clickable","hiddenIpt","md:inlineBlockIpt",2,"width","18px !important","height","18px !important","vertical-align","top",3,"click"],["appearance","outline",1,"mt-2","bg-white","rounded"],["formControlName","infrastructureId",3,"value","openedChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","secondary",2,"margin-right","10px"],["mat-raised-button","","color","primary"],[1,"small"],[3,"value"],[1,"text-danger","mt-2"],[1,"text-danger","mt-1"],[1,"text-right","mt-3","mb-3"],["azt-track-service","add-new-educational-programs-R3hLoR84Ua",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block",4,"ngIf"]],template:function(p,T){if(1&p&&(e.TgZ(0,"div",0)(1,"form",1),e.YNc(2,ze,1,0,"azt-loading-effect",2),e.YNc(3,G,68,54,"ng-template",null,3,e.W1O),e.qZA()()),2&p){const A=e.MAs(4);e.xp6(1),e.Q6J("formGroup",T.form),e.xp6(1),e.Q6J("ngIf",T.statusObj.loading)("ngIfElse",A)}},dependencies:[c.rH,$.mk,$.sg,$.O5,$.PC,Bt.ey,ht.lW,xt.Nt,Ct.KE,Ct.hX,Ct.R9,Dt.gD,ft.rZ,ft.T$,ft.c_,ft.dW,ft.cL,ee.ft,ee.Bi,_t._Y,_t.Fj,_t.JJ,_t.JL,_t.sg,_t.u,_t.CE,i.l,ue.M,E.n,tt.Nh5,pe.KC,ae.Jy,ae.JV],encapsulation:2}),v})();function q(v,z){if(1&v&&(e.ynx(0),e.TgZ(1,"p",5),e._uU(2),e.qZA(),e.BQk()),2&v){const p=z.$implicit;e.xp6(2),e.hij("",p.content," ")}}function Q(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){e.CHM(p);const A=e.oxw(2);return e.KtG(A.editContent())}),e.O4$(),e.TgZ(1,"svg",7),e._UZ(2,"path",8)(3,"path",9),e.qZA()()}}function wt(v,z){if(1&v&&(e.TgZ(0,"div",2)(1,"div"),e.YNc(2,q,3,1,"ng-container",3),e.qZA(),e.YNc(3,Q,4,0,"div",4),e.qZA()),2&v){const p=e.oxw();e.xp6(2),e.Q6J("ngForOf",p.contents),e.xp6(1),e.Q6J("ngIf",p.teacherRole)}}function Et(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"button",22),e.ALo(1,"mytranslate"),e.O4$(),e.TgZ(2,"svg",23),e.NdJ("click",function(){e.CHM(p);const A=e.oxw().$implicit,D=e.oxw(2);return e.KtG(D.removeContent(A))}),e._UZ(3,"path",24)(4,"path",25),e.qZA()()}if(2&v){const p=e.oxw(3);e.s9C("matTooltip",e.lcZ(1,2,"lang_button_delete")),e.Q6J("disabled",p.statusObj.loading)}}function se(v,z){1&v&&(e.TgZ(0,"div",26)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&v&&(e.xp6(2),e.hij("*",e.lcZ(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function I(v,z){if(1&v&&(e.TgZ(0,"div")(1,"div",18),e._UZ(2,"input",19),e.ALo(3,"mytranslate"),e.YNc(4,Et,5,4,"button",20),e.qZA(),e.YNc(5,se,4,3,"div",21),e.qZA()),2&v){const p=z.$implicit,T=e.oxw(2);e.xp6(2),e.s9C("placeholder",e.lcZ(3,5,"lang_core_nhap_noi_dung_buoi_hoc")),e.Q6J("formControl",p.controls.content)("disabled",T.statusObj.loading),e.xp6(2),e.Q6J("ngIf",T.listFormContent.controls.length>1),e.xp6(1),e.Q6J("ngIf",p.controls.content.errors)}}function R(v,z){1&v&&e._UZ(0,"azt-loading-ui",27)}function Z(v,z){1&v&&(e.O4$(),e.TgZ(0,"svg",28),e._UZ(1,"path",29)(2,"polyline",30)(3,"polyline",31),e.qZA())}const S=function(){return[]};function H(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",10),e.YNc(1,I,6,7,"div",3),e.TgZ(2,"div",11)(3,"button",12),e.NdJ("click",function(){e.CHM(p);const A=e.oxw();return e.KtG(A.viewContent())}),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"button",13),e.NdJ("click",function(){e.CHM(p);const A=e.oxw();return e.KtG(A.addContent())}),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.TgZ(9,"button",14),e.NdJ("click",function(){e.CHM(p);const A=e.oxw();return e.KtG(A.saveContent())}),e.YNc(10,R,1,0,"azt-loading-ui",15),e.YNc(11,Z,4,0,"svg",16),e.TgZ(12,"span",17),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()()()()}if(2&v){const p=e.oxw();let T;e.xp6(1),e.Q6J("ngForOf",null!==(T=null==p.listFormContent?null:p.listFormContent.controls)&&void 0!==T?T:e.DdM(15,S)),e.xp6(2),e.Q6J("disabled",p.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(5,9,"lang_button_cancel")," "),e.xp6(2),e.Q6J("disabled",p.statusObj.loading||p.isEmptyContent()),e.xp6(1),e.hij(" + ",e.lcZ(8,11,"lang_button_add")," "),e.xp6(2),e.Q6J("disabled",p.statusObj.loading||p.isEmptyContent()),e.xp6(1),e.Q6J("ngIf",p.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!p.statusObj.loading),e.xp6(2),e.hij(" ",e.lcZ(14,13,"lang_button_save")," ")}}let Mt=(()=>{class v extends n.Q{isEmptyContent(){return!!this.listFormContent.controls.find(p=>p.controls.content.errors)}editContent(){this.listFormContent=new _t.Oe(this.contents.map(p=>new _t.cw({contentId:new _t.NI(p.id,{nonNullable:!0,validators:[_t.kI.required]}),content:new _t.NI(p.content,{nonNullable:!0,validators:[_t.kI.required]})})))}addContent(){var p=this.listFormContent.controls.map(T=>T.getRawValue().contentId);this.listFormContent.controls.push(new _t.cw({contentId:new _t.NI(this.commonService.getVirtualIdWithoutInList(!0,p),{nonNullable:!0,validators:[_t.kI.required]}),content:new _t.NI("",{nonNullable:!0,validators:[_t.kI.required]})}))}removeContent(p){this.listFormContent.controls=this.listFormContent.controls.filter(T=>T!=p)}viewContent(){this.listFormContent.clear()}saveContent(){this.initStatusObj();let p={contents:this.listFormContent?.controls.map(T=>({id:T.getRawValue().contentId<0?0:T.getRawValue().contentId,content:T.getRawValue().content}))??[]};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdPut(this.classroomId,this.sessionId,p).subscribe({next:T=>{this.showSuccessSnack("lang_auto_chinh_sua_thanh_cong"),this.close.emit(!0)},error:T=>{this.errorStatusObj(T.error.message,!0)}}))}ngOnInit(){super.ngOnInit()}constructor(p){super(),this.classroomService=p,this.contents=[],this.close=new e.vpe,this.listFormContent=new _t.Oe([])}}return v.\u0275fac=function(p){return new(p||v)(e.Y36(t.um))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-education-program-session-content-form"]],inputs:{teacherRole:"teacherRole",contents:"contents",classroomId:"classroomId",sessionId:"sessionId"},outputs:{close:"close"},features:[e._Bn([{provide:ft.fM,useClass:Rt.WG,deps:[Bt.Ad,Ft.o8]},{provide:ft.ab,useFactory:re.tF,deps:[yt.D]}]),e.qOj],decls:2,vars:2,consts:[["class","flex justify-between items-center",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"flex","justify-between","items-center"],[4,"ngFor","ngForOf"],["azt-track-service","edit-content-session-clV7wEeRi","class","mr-2 ml-1",3,"click",4,"ngIf"],[1,"text-danger","font-medium"],["azt-track-service","edit-content-session-clV7wEeRi",1,"mr-2","ml-1",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil","zoom-in"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],[1,"mb-2"],[1,"mt-2","flex","justify-end"],["azt-track-service","edit-content-session-fb5Kcem4lN",1,"btn","btn-secondary","py-1",3,"disabled","click"],["azt-track-service","edit-content-session-LUmRlMXNo0",1,"btn","btn-info","py-1","ml-2",3,"disabled","click"],["azt-track-service","edit-content-session-u3EiKdwIT9",1,"btn","btn-primary","ml-2","py-1",3,"disabled","click"],["style","height: 16px; width: 16px;",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-save",4,"ngIf"],[1,"ml-2"],[1,"flex","items-center"],["type","text",1,"form-control","mt-2","mb-2",3,"formControl","disabled","placeholder"],["class","btn btn-light ml-2 px-2",3,"matTooltip","disabled",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],[1,"btn","btn-light","ml-2","px-2",3,"matTooltip","disabled"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","btn-clear-form-content",3,"click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],[2,"height","16px","width","16px"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-save"],["d","M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"],["points","17 21 17 13 7 13 7 21"],["points","7 3 7 8 15 8"]],template:function(p,T){1&p&&(e.YNc(0,wt,4,2,"div",0),e.YNc(1,H,15,16,"div",1)),2&p&&(e.Q6J("ngIf",0==T.listFormContent.controls.length),e.xp6(1),e.Q6J("ngIf",T.listFormContent.controls.length>0))},dependencies:[$.sg,$.O5,et.gM,_t.Fj,_t.JJ,_t.oH,E.n,ae.JV],encapsulation:2}),v})();function le(v,z){if(1&v&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&v){const p=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,p.errorApiMessage)," ")}}function hn(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"app-add-new-educational-program",6),e.NdJ("saveEducationalProgramEmit",function(A){e.CHM(p);const D=e.oxw(2);return e.KtG(D.emitDataReloadSession(A))}),e.qZA()}if(2&v){const p=e.oxw(2);e.Q6J("classroomId",p.classroomId)("programObj",p.programObj)}}function Le(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(p);const A=e.oxw(3);return e.KtG(A.addNewEducationalProgram())}),e._UZ(1,"lucide-icon",13),e.TgZ(2,"span",14),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()}2&v&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"lang_educational_program_select_another")))}function fn(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",17)(1,"a",18),e.NdJ("auxclick",function(A){const J=e.CHM(p).$implicit,mt=e.oxw(4);return e.KtG(mt.previewFile(J,A))})("click",function(A){const J=e.CHM(p).$implicit,mt=e.oxw(4);return e.KtG(mt.previewFile(J,A))}),e._UZ(2,"azt-document-type-file",19),e.qZA()()}if(2&v){const p=z.$implicit;let T;e.xp6(2),e.Q6J("type",p.documentType)("name",null!==(T=p.name)&&void 0!==T?T:"")("url",p.link)("iconVerticalStyle","baseline")("customClass","w-6 h-6")}}function Yn(v,z){if(1&v&&(e.ynx(0),e.TgZ(1,"div",15),e.YNc(2,fn,3,5,"div",16),e.qZA(),e.BQk()),2&v){const p=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",p.generalDocumentObjs)}}function Nn(v,z){1&v&&e._UZ(0,"lucide-icon",24)}function jn(v,z){1&v&&e._UZ(0,"lucide-icon",25)}function Me(v,z){1&v&&(e.TgZ(0,"button",34),e._UZ(1,"lucide-icon",35),e.TgZ(2,"span",14),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()),2&v&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"lang_student_absence")))}function xn(v,z){1&v&&(e.TgZ(0,"button",36),e._UZ(1,"lucide-icon",35),e.qZA())}function Be(v,z){if(1&v&&(e.TgZ(0,"div",31),e.YNc(1,Me,5,3,"button",32),e.ALo(2,"async"),e.ALo(3,"allowFeatureBusinessForUser"),e.YNc(4,xn,2,0,"button",33),e.ALo(5,"async"),e.ALo(6,"allowFeatureBusinessForUser"),e.qZA()),2&v){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.lcZ(2,2,e.Dn7(3,4,"","training_center_student_attendance",!0))),e.xp6(3),e.Q6J("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.lcZ(5,8,e.Dn7(6,10,"","training_center_student_attendance",!0)))}}function Ln(v,z){if(1&v&&(e.ynx(0),e.TgZ(1,"span",42),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&v){const p=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_test_market_address")+": "+(null==p.room.infrastructure?null:p.room.infrastructure.name)+" - "+p.room.name)}}const Yt=function(v){return{"text-slate-700":v}};function ge(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",37),e.NdJ("click",function(){e.CHM(p);const A=e.oxw().$implicit,D=e.oxw(5);return e.KtG(D.expandSessionObj(A))}),e.TgZ(1,"div",38)(2,"h3",39)(3,"span",40),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"span",41),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,Ln,4,3,"ng-container",5),e.qZA()()}if(2&v){const p=e.oxw().$implicit;e.xp6(3),e.Q6J("ngClass",e.VKq(8,Yt,p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(5,4,"lang_core_buoi")+" "+p.sort),e.xp6(3),e.Oqu(e.lcZ(8,6,"lang_config_educational_program_day_"+p.day)+", "+p.dateSession+" "+p.timeSession),e.xp6(2),e.Q6J("ngIf",p.room)}}function De(v,z){if(1&v&&(e.ynx(0),e.TgZ(1,"span",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&v){const p=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_test_market_address")+": "+(null==p.room.infrastructure?null:p.room.infrastructure.name)+" - "+p.room.name)}}const He=function(v,z){return{"text-slate-600":v,"text-warning":z}};function Bn(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",49)(1,"div",50)(2,"span",51),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.TgZ(5,"app-education-program-session-content-form",61),e.NdJ("close",function(A){e.CHM(p);const D=e.oxw(2).$implicit,J=e.oxw(5);return e.KtG(J.reloadData(A,D))}),e.qZA()()}if(2&v){const p=e.oxw(2).$implicit,T=e.oxw(5);e.xp6(2),e.Q6J("ngClass",e.WLB(8,He,p.outOfDate,!p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(4,6,"lang_auto_noi_dung")),e.xp6(2),e.Q6J("contents",p.contents)("teacherRole",T.teacherRole)("classroomId",T.classroomId)("sessionId",p.id)}}function Hn(v,z){1&v&&(e.ynx(0),e.TgZ(1,"div",73),e._UZ(2,"img",74),e.ALo(3,"convertCdnLinkOfGitHub"),e.qZA(),e.BQk()),2&v&&(e.xp6(2),e.Q6J("src",e.lcZ(3,1,"images/type_file/unknown-file.svg"),e.LSH))}function Gn(v,z){1&v&&(e.ynx(0),e.TgZ(1,"div",75),e._UZ(2,"lucide-icon",76),e.qZA(),e.BQk())}function Dn(v,z){1&v&&(e.ynx(0),e.TgZ(1,"div",77),e._UZ(2,"lucide-icon",78),e.qZA(),e.BQk())}function Oe(v,z){if(1&v&&(e.TgZ(0,"small",79),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&v){const p=e.oxw().$implicit;e.xp6(1),e.lnq(" ",e.lcZ(2,3,"lang_auto_da_nop"),":\xa0",p.totalFinish,"/",p.totalAttendee," ")}}const Xt=function(v,z){return{"text-success":v,"text-slate-700/50":z}};function Ge(v,z){if(1&v&&(e.TgZ(0,"small",80),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&v){const p=e.oxw().$implicit;e.Q6J("ngClass",e.WLB(4,Xt,p.totalFinish,!p.totalFinish)),e.xp6(1),e.hij(" ",e.lcZ(2,2,p.totalFinish?"lang_auto_da_nop":"lang_auto_chua_nop")," ")}}function an(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"small",81),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"button",82),e.NdJ("click",function(A){e.CHM(p);const D=e.oxw().$implicit,J=e.oxw(2).$implicit;return e.oxw(5).editMarkCoefficient(D,J),A.stopPropagation(),e.KtG(A.preventDefault())}),e.ALo(4,"mytranslate"),e.O4$(),e.TgZ(5,"svg",83),e._UZ(6,"path",84)(7,"path",85),e.qZA()()()}if(2&v){const p=e.oxw().$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,3,"lang_student_score_factor"),":\xa0",p.markCoefficient," "),e.xp6(2),e.s9C("matTooltip",e.lcZ(4,5,"lang_student_edit_mark_coefficient"))}}const Re=function(v){return[v]},sn=function(v){return{backto:v}};function vn(v,z){if(1&v&&(e.TgZ(0,"div",62)(1,"a",63),e.ALo(2,"navigationLocalize"),e.TgZ(3,"div",64)(4,"div",65),e.YNc(5,Hn,4,3,"ng-container",5),e.YNc(6,Gn,3,0,"ng-container",5),e.YNc(7,Dn,3,0,"ng-container",5),e.qZA(),e.TgZ(8,"div",66)(9,"div",67)(10,"span",68,69),e._uU(12),e.qZA(),e.YNc(13,Oe,3,5,"small",70),e.YNc(14,Ge,3,7,"small",71),e.YNc(15,an,8,7,"small",72),e.qZA()()()()()),2&v){const p=z.$implicit,T=e.MAs(11),A=e.oxw(7);let D;e.xp6(1),e.Q6J("routerLink",e.VKq(14,Re,e.lcZ(2,12,p.documentType==A.allDocumentTypes.exam?A.teacherRole?"/admin/testbank/exam-results-list/"+(null!==(D=p.categoryId)&&void 0!==D?D:0)+"/"+p.refId+"/0":"/de-thi/"+p.hashId:A.teacherRole?"/admin/testbank/homework-results-list/"+(null!==(D=p.classroomId)&&void 0!==D?D:0)+"/"+p.refId+"/"+p.hashId:"/bai-tap/"+p.hashId)))("queryParams",e.VKq(16,sn,A.currentUrl)),e.xp6(4),e.Q6J("ngIf",!p.type),e.xp6(1),e.Q6J("ngIf","exam"==p.type),e.xp6(1),e.Q6J("ngIf","homework"==p.type),e.xp6(3),e.s9C("matTooltip",p.name),e.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",T.isDisabled),e.xp6(2),e.hij(" ",p.name," "),e.xp6(1),e.Q6J("ngIf",A.teacherRole),e.xp6(1),e.Q6J("ngIf",!A.teacherRole),e.xp6(1),e.Q6J("ngIf",A.teacherRole)}}const cn=function(v,z,p,T,A,D){return{backto:v,classroomId:z,programId:p,sessionId:T,levelId:A,subjectId:D}},kn=function(v,z){return{"text-slate-600":v,"btn-text-primary":z}};function wn(v,z){if(1&v&&(e.TgZ(0,"a",86),e.ALo(1,"navigationLocalize"),e.TgZ(2,"span",87),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()),2&v){const p=e.oxw(2).$implicit,T=e.oxw(5);let A;e.Q6J("routerLink",e.VKq(8,Re,e.lcZ(1,4,"/admin/testbank/create-new-document/0")))("queryParams",e.HTZ(10,cn,T.currentUrl,T.classroomId,p.programId,p.id,null!==(A=null==T.programObj?null:T.programObj.schoolLevelId)&&void 0!==A?A:0,null!==(A=null==T.programObj?null:T.programObj.schoolSubjectId)&&void 0!==A?A:0))("ngClass",e.WLB(17,kn,p.outOfDate,!p.outOfDate)),e.xp6(3),e.hij("+ ",e.lcZ(4,6,"lang_business_assign_exams"),"")}}function Rn(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",104)(1,"a",105),e.NdJ("click",function(A){e.CHM(p);const D=e.oxw(2).$implicit,J=e.oxw(3).$implicit,mt=e.oxw(4).$implicit;let Pt;return e.oxw(5).removeDocumentFromSession(mt,null!==(Pt=D.sessionId)&&void 0!==Pt?Pt:0,D.id,J),A.preventDefault(),e.KtG(A.stopPropagation())}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&v&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function k(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"li")(1,"a",101),e.NdJ("auxclick",function(A){e.CHM(p);const D=e.oxw().$implicit,J=e.oxw(12);return e.KtG(J.previewFile(D,A))})("click",function(A){e.CHM(p);const D=e.oxw().$implicit,J=e.oxw(12);return e.KtG(J.previewFile(D,A))}),e._UZ(2,"azt-document-type-file",102),e.YNc(3,Rn,5,3,"div",103),e.qZA()()}if(2&v){const p=e.oxw().$implicit,T=e.oxw(12);let A;e.xp6(2),e.Q6J("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(A=p.name)&&void 0!==A?A:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",T.teacherRole)}}function Y(v,z){if(1&v&&(e.ynx(0),e.YNc(1,k,4,10,"li",5),e.BQk()),2&v){const p=e.oxw(3).$implicit,T=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==T.allDocumentGroupTypes.video)}}const f=function(v){return{"dropdown-menu-scroll":v}};function N(v,z){if(1&v&&(e.ynx(0),e.TgZ(1,"h3",94)(2,"span",95),e._UZ(3,"lucide-icon",96),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",97,98)(8,"div",99)(9,"ul",100),e.YNc(10,Y,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&v){const p=e.MAs(7),T=e.oxw(2).$implicit,A=e.oxw(4).last,D=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",T.documentObjs.length?p:null),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_config_educational_program_"+T.name),""," ("+T.documentObjs.length+")"," "),e.xp6(5),e.Q6J("ngClass",e.VKq(7,f,D&&A||T.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",T.documentObjs)}}function W(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",104)(1,"a",110),e.NdJ("click",function(A){e.CHM(p);const D=e.oxw(2).$implicit,J=e.oxw(3).$implicit,mt=e.oxw(4).$implicit;let Pt;return e.oxw(5).removeDocumentFromSession(mt,null!==(Pt=D.sessionId)&&void 0!==Pt?Pt:0,D.id,J),A.preventDefault(),e.KtG(A.stopPropagation())}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&v&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function zt(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"li")(1,"a",109),e.NdJ("auxclick",function(A){e.CHM(p);const D=e.oxw().$implicit,J=e.oxw(12);return e.KtG(J.previewFile(D,A))})("click",function(A){e.CHM(p);const D=e.oxw().$implicit,J=e.oxw(12);return e.KtG(J.previewFile(D,A))}),e._UZ(2,"azt-document-type-file",102),e.YNc(3,W,5,3,"div",103),e.qZA()()}if(2&v){const p=e.oxw().$implicit,T=e.oxw(12);let A;e.xp6(2),e.Q6J("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(A=p.name)&&void 0!==A?A:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",T.teacherRole)}}function te(v,z){if(1&v&&(e.ynx(0),e.YNc(1,zt,4,10,"li",5),e.BQk()),2&v){const p=e.oxw(3).$implicit,T=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==T.allDocumentGroupTypes.document)}}function En(v,z){if(1&v&&(e.ynx(0),e.TgZ(1,"h3",94)(2,"span",95),e._UZ(3,"lucide-icon",96),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",97,108)(8,"div",99)(9,"ul",100),e.YNc(10,te,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&v){const p=e.MAs(7),T=e.oxw(2).$implicit,A=e.oxw(4).last,D=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",T.documentObjs.length?p:null),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_config_educational_program_"+T.name),""," ("+T.documentObjs.length+")"," "),e.xp6(5),e.Q6J("ngClass",e.VKq(7,f,D&&A||T.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",T.documentObjs)}}function Ve(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",104)(1,"a",114),e.NdJ("click",function(A){e.CHM(p);const D=e.oxw(2).$implicit,J=e.oxw(3).$implicit,mt=e.oxw(4).$implicit;let Pt;return e.oxw(5).removeDocumentFromSession(mt,null!==(Pt=D.sessionId)&&void 0!==Pt?Pt:0,D.id,J),A.preventDefault(),e.KtG(A.stopPropagation())}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&v&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function Wn(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"li")(1,"a",113),e.NdJ("auxclick",function(A){e.CHM(p);const D=e.oxw().$implicit,J=e.oxw(12);return e.KtG(J.previewFile(D,A))})("click",function(A){e.CHM(p);const D=e.oxw().$implicit,J=e.oxw(12);return e.KtG(J.previewFile(D,A))}),e._UZ(2,"azt-document-type-file",102),e.YNc(3,Ve,5,3,"div",103),e.qZA()()}if(2&v){const p=e.oxw().$implicit,T=e.oxw(12);let A;e.xp6(2),e.Q6J("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(A=p.name)&&void 0!==A?A:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",T.teacherRole)}}function po(v,z){if(1&v&&(e.ynx(0),e.YNc(1,Wn,4,10,"li",5),e.BQk()),2&v){const p=e.oxw(3).$implicit,T=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==T.allDocumentGroupTypes.homework)}}function Do(v,z){if(1&v&&(e.ynx(0),e.TgZ(1,"h3",94)(2,"span",95),e._UZ(3,"lucide-icon",96),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",111,112)(8,"div",99)(9,"ul",100),e.YNc(10,po,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&v){const p=e.MAs(7),T=e.oxw(2).$implicit,A=e.oxw(4).last,D=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",T.documentObjs.length?p:null),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_config_educational_program_"+T.name),""," ("+T.documentObjs.length+")"," "),e.xp6(5),e.Q6J("ngClass",e.VKq(7,f,D&&A||T.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",T.documentObjs)}}function bn(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",104)(1,"a",118),e.NdJ("click",function(A){e.CHM(p);const D=e.oxw(2).$implicit,J=e.oxw(3).$implicit,mt=e.oxw(4).$implicit;let Pt;return e.oxw(5).removeDocumentFromSession(mt,null!==(Pt=D.sessionId)&&void 0!==Pt?Pt:0,D.id,J),A.preventDefault(),e.KtG(A.stopPropagation())}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&v&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function go(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"li")(1,"a",116),e.NdJ("auxclick",function(A){e.CHM(p);const D=e.oxw().$implicit,J=e.oxw(12);return e.KtG(J.previewFile(D,A))})("click",function(A){e.CHM(p);const D=e.oxw().$implicit,J=e.oxw(12);return e.KtG(J.previewFile(D,A))}),e._UZ(2,"azt-document-type-file",117),e.YNc(3,bn,5,3,"div",103),e.qZA()()}if(2&v){const p=e.oxw().$implicit,T=e.oxw(12);let A;e.xp6(2),e.Q6J("truncateString",!1)("type",p.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(A=p.name)&&void 0!==A?A:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",T.teacherRole)}}function Vn(v,z){if(1&v&&(e.ynx(0),e.YNc(1,go,4,10,"li",5),e.BQk()),2&v){const p=e.oxw(3).$implicit,T=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==T.allDocumentGroupTypes.homework_view)}}function he(v,z){if(1&v&&(e.ynx(0),e.TgZ(1,"h3",94)(2,"span",95),e._UZ(3,"lucide-icon",96),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",111,115)(8,"div",99)(9,"ul",100),e.YNc(10,Vn,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&v){const p=e.MAs(7),T=e.oxw(2).$implicit,A=e.oxw(4).last,D=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",T.documentObjs.length?p:null),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_config_educational_program_"+T.name),""," ("+T.documentObjs.length+")"," "),e.xp6(5),e.Q6J("ngClass",e.VKq(7,f,D&&A||T.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",T.documentObjs)}}function On(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",104)(1,"a",122),e.NdJ("click",function(A){e.CHM(p);const D=e.oxw(2).$implicit,J=e.oxw(3).$implicit,mt=e.oxw(4).$implicit;let Pt;return e.oxw(5).removeDocumentFromSession(mt,null!==(Pt=D.sessionId)&&void 0!==Pt?Pt:0,D.id,J),A.preventDefault(),e.KtG(A.stopPropagation())}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&v&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function yn(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"li")(1,"a",121),e.NdJ("auxclick",function(A){e.CHM(p);const D=e.oxw().$implicit,J=e.oxw(12);return e.KtG(J.previewFile(D,A))})("click",function(A){e.CHM(p);const D=e.oxw().$implicit,J=e.oxw(12);return e.KtG(J.previewFile(D,A))}),e._UZ(2,"azt-document-type-file",117),e.YNc(3,On,5,3,"div",103),e.qZA()()}if(2&v){const p=e.oxw().$implicit,T=e.oxw(12);let A;e.xp6(2),e.Q6J("truncateString",!1)("type",p.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(A=p.name)&&void 0!==A?A:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",T.teacherRole)}}function Zn(v,z){if(1&v&&(e.ynx(0),e.YNc(1,yn,4,10,"li",5),e.BQk()),2&v){const p=e.oxw(3).$implicit,T=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==T.allDocumentGroupTypes.unknown)}}function ho(v,z){if(1&v&&(e.ynx(0),e.TgZ(1,"h3",94)(2,"span",95),e._UZ(3,"lucide-icon",96),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",111,119)(8,"div",120)(9,"ul",100),e.YNc(10,Zn,2,1,"ng-container",11),e.qZA()()(),e.BQk()),2&v){const p=e.MAs(7),T=e.oxw(2).$implicit,A=e.oxw(4).last,D=e.oxw(2).last;e.xp6(1),e.Q6J("matMenuTriggerFor",p),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_config_educational_program_"+T.name),""," ("+T.documentObjs.length+")"," "),e.xp6(5),e.Q6J("ngClass",e.VKq(7,f,D&&A||T.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",T.documentObjs)}}function fo(v,z){if(1&v&&(e.TgZ(0,"div",93),e.YNc(1,N,11,9,"ng-container",5),e.YNc(2,En,11,9,"ng-container",5),e.YNc(3,Do,11,9,"ng-container",5),e.YNc(4,he,11,9,"ng-container",5),e.YNc(5,ho,11,9,"ng-container",5),e.qZA()),2&v){const p=e.oxw().$implicit,T=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==T.allDocumentGroupTypes.video),e.xp6(1),e.Q6J("ngIf",p.name==T.allDocumentGroupTypes.document),e.xp6(1),e.Q6J("ngIf",p.name==T.allDocumentGroupTypes.homework),e.xp6(1),e.Q6J("ngIf",p.name==T.allDocumentGroupTypes.homework_view),e.xp6(1),e.Q6J("ngIf",p.name==T.allDocumentGroupTypes.unknown&&p.documentObjs.length)}}function Xn(v,z){if(1&v&&(e.ynx(0),e.YNc(1,fo,6,5,"div",92),e.BQk()),2&v){const p=z.$implicit,T=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name!=T.allDocumentGroupTypes.unknown||p.name==T.allDocumentGroupTypes.unknown&&p.documentObjs.length)}}function to(v,z){if(1&v&&(e.ynx(0),e.YNc(1,Xn,2,1,"ng-container",11),e.BQk()),2&v){const p=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngForOf",p.groupDocumentObjs)}}function _n(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",104)(1,"a",127),e.NdJ("click",function(){e.CHM(p);const A=e.oxw().$implicit,D=e.oxw(4).$implicit,J=e.oxw(5);let mt;return e.KtG(J.removeDocumentFromSession(D,null!==(mt=A.sessionId)&&void 0!==mt?mt:0,A.id))}),e.TgZ(2,"span",106),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",107),e.qZA()()()}2&v&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function An(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",124)(1,"a",125),e.NdJ("auxclick",function(A){const J=e.CHM(p).$implicit,mt=e.oxw(9);return e.KtG(mt.previewFile(J,A))})("click",function(A){const J=e.CHM(p).$implicit,mt=e.oxw(9);return e.KtG(mt.previewFile(J,A))}),e._UZ(2,"azt-document-type-file",126),e.qZA(),e.YNc(3,_n,5,3,"div",103),e.qZA()}if(2&v){const p=z.$implicit,T=e.oxw(9);let A;e.xp6(2),e.Q6J("type",p.documentType)("name",null!==(A=p.name)&&void 0!==A?A:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",T.teacherRole)}}function Eo(v,z){if(1&v&&e.YNc(0,An,4,5,"div",123),2&v){const p=e.oxw(3).$implicit;e.Q6J("ngForOf",p.normalDocumentObjs)}}function Po(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"app-upload-document-for-session",128),e.NdJ("emitFileDocument",function(A){e.CHM(p);const D=e.oxw(3).$implicit,J=e.oxw(5);return e.KtG(J.uploadFileEmitted(A,D))}),e.TgZ(1,"span",87),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()}if(2&v){const p=e.oxw(3).$implicit;e.Q6J("isBtn",!0)("customClass",p.outOfDate?"text-slate-600":"text-primary"),e.xp6(2),e.Oqu(e.lcZ(3,3,"lang_educational_program_add_document"))}}function xo(v,z){if(1&v&&(e.TgZ(0,"div",53),e.YNc(1,to,2,1,"ng-container",88),e.YNc(2,Eo,1,1,"ng-template",null,89,e.W1O),e.TgZ(4,"div",90),e.YNc(5,Po,4,5,"app-upload-document-for-session",91),e.qZA()()),2&v){const p=e.MAs(3),T=e.oxw(2).$implicit,A=e.oxw(5);e.xp6(1),e.Q6J("ngIf",T.groupDocumentObjs.length)("ngIfElse",p),e.xp6(4),e.Q6J("ngIf",A.teacherRole)}}function zo(v,z){1&v&&(e.TgZ(0,"div",129)(1,"div",130)(2,"span",131),e._UZ(3,"azt-loading-ui",132),e.qZA()()()),2&v&&(e.xp6(3),e.Q6J("type","oval"))}function Sn(v,z){if(1&v&&(e.TgZ(0,"a",140),e.ALo(1,"navigationLocalize"),e._UZ(2,"lucide-icon",141),e.TgZ(3,"span",139),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&v){const p=e.oxw(3).$implicit,T=e.oxw(5);e.Q6J("routerLink",e.VKq(8,Re,e.lcZ(1,4,"/admin/student/attendance-student/"+T.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.VKq(10,sn,"/admin/student/classroom-details/"+T.classroomId+"/3?sessionId="+p.id+"&backto="+T.backLink)),e.xp6(4),e.AsE("",e.lcZ(5,6,"lang_student_attendance_student"),""," ("+p.totalJoinedStudent+"/"+p.totalStudent+")","")}}function In(v,z){if(1&v&&(e.TgZ(0,"a",142),e.ALo(1,"navigationLocalize"),e._UZ(2,"lucide-icon",143),e.TgZ(3,"span",139),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&v){const p=e.oxw(3).$implicit,T=e.oxw(5);e.Q6J("routerLink",e.VKq(7,Re,e.lcZ(1,3,"/admin/student/distribute-document/"+T.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.VKq(9,sn,"/admin/student/classroom-details/"+T.classroomId+"/3?sessionId="+p.id+"&backto="+T.backLink)),e.xp6(4),e.Oqu(e.lcZ(5,5,"lang_student_distribute_books"))}}function Pn(v,z){if(1&v&&(e.TgZ(0,"a",144),e.ALo(1,"navigationLocalize"),e._UZ(2,"lucide-icon",145),e.TgZ(3,"span",139),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&v){const p=e.oxw(3).$implicit,T=e.oxw(5);e.Q6J("routerLink",e.VKq(7,Re,e.lcZ(1,3,"/admin/student/submit-score/"+T.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.VKq(9,sn,"/admin/student/classroom-details/"+T.classroomId+"/3?sessionId="+p.id+"&backto="+T.backLink)),e.xp6(4),e.Oqu(e.lcZ(5,5,"lang_student_enter_score"))}}function zn(v,z){if(1&v&&(e.TgZ(0,"div",56)(1,"div",50)(2,"span",51),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.TgZ(5,"div",133),e.YNc(6,Sn,6,12,"a",134),e.ALo(7,"async"),e.ALo(8,"allowFeatureBusinessForUser"),e.YNc(9,In,6,11,"a",135),e.ALo(10,"async"),e.ALo(11,"allowFeatureBusinessForUser"),e.YNc(12,Pn,6,11,"a",136),e.ALo(13,"async"),e.ALo(14,"allowFeatureBusinessForUser"),e.TgZ(15,"a",137),e.ALo(16,"navigationLocalize"),e._UZ(17,"lucide-icon",138),e.TgZ(18,"span",139),e._uU(19),e.ALo(20,"mytranslate"),e.qZA()()()()),2&v){const p=e.oxw(2).$implicit,T=e.oxw(5);e.xp6(2),e.Q6J("ngClass",e.WLB(32,He,p.outOfDate,!p.outOfDate)),e.xp6(1),e.hij(" ",e.lcZ(4,8,"lang_auto_hanh_dong")," "),e.xp6(3),e.Q6J("ngIf",e.lcZ(7,10,e.Dn7(8,12,"","training_center_student_attendance",!1))),e.xp6(3),e.Q6J("ngIf",e.lcZ(10,16,e.Dn7(11,18,"","training_center_student_book",!1))),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,22,e.Dn7(14,24,"","training_center_student_mark",!1))),e.xp6(3),e.Q6J("routerLink",e.VKq(35,Re,e.lcZ(16,28,"/admin/student/add-comment/"+T.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.VKq(37,sn,"/admin/student/classroom-details/"+T.classroomId+"/3?sessionId="+p.id+"&backto="+T.backLink)),e.xp6(4),e.Oqu(e.lcZ(20,30,"lang_auto_nhap_nhan_xet"))}}function Uo(v,z){if(1&v&&(e.TgZ(0,"div",56)(1,"div",50)(2,"span",51),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.TgZ(5,"div",133)(6,"div",146)(7,"span"),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"span",147),e._uU(11),e.ALo(12,"mytranslate"),e.qZA()()()()),2&v){const p=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngClass",e.WLB(10,He,p.outOfDate,!p.outOfDate)),e.xp6(1),e.hij(" ",e.lcZ(4,4,"lang_auto_hanh_dong")," "),e.xp6(5),e.Oqu(e.lcZ(9,6,"lang_business_requested_leave_with_a_reason")),e.xp6(3),e.Oqu(null!=p.studentAttendance&&p.studentAttendance.reason?null==p.studentAttendance?null:p.studentAttendance.reason:e.lcZ(12,8,"lang_student_absence_no_reason"))}}function Fo(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",43)(1,"div",44),e.NdJ("click",function(){e.CHM(p);const A=e.oxw().$implicit,D=e.oxw(5);return e.KtG(D.expandSessionObj(A))}),e.TgZ(2,"h3",45)(3,"span",46),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"span",47),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,De,4,3,"ng-container",5),e.qZA(),e.YNc(10,Bn,6,11,"div",48),e.TgZ(11,"div",49)(12,"div",50)(13,"span",51),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()(),e.TgZ(16,"div",52)(17,"div",53),e.YNc(18,vn,16,18,"div",54),e.YNc(19,wn,5,20,"a",55),e.qZA()()(),e.TgZ(20,"div",56)(21,"div",50)(22,"span",51),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()(),e.TgZ(25,"div",52),e.YNc(26,xo,6,3,"div",57),e.YNc(27,zo,4,1,"div",58),e.qZA()(),e.YNc(28,zn,21,39,"div",59),e.ALo(29,"async"),e.ALo(30,"allowFeatureBusinessForUser"),e.ALo(31,"async"),e.ALo(32,"allowFeatureBusinessForUser"),e.ALo(33,"async"),e.ALo(34,"allowFeatureBusinessForUser"),e.YNc(35,Uo,13,13,"div",59),e.ALo(36,"async"),e.ALo(37,"allowFeatureBusinessForUser"),e.qZA()}if(2&v){const p=e.oxw().$implicit,T=e.oxw(5);e.uIk("id","session-"+p.id),e.xp6(3),e.Q6J("ngClass",e.VKq(48,Yt,p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(5,16,"lang_core_buoi")+" "+p.sort),e.xp6(3),e.Oqu(e.lcZ(8,18,"lang_config_educational_program_day_"+p.day)+", "+p.dateSession+" "+p.timeSession),e.xp6(2),e.Q6J("ngIf",p.room),e.xp6(1),e.Q6J("ngIf",p.contents&&p.contents.length),e.xp6(3),e.Q6J("ngClass",e.WLB(50,He,p.outOfDate,!p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(15,20,"lang_cms_auto_gen_test_exam_title")),e.xp6(4),e.Q6J("ngForOf",p.examHomeworkObjs),e.xp6(1),e.Q6J("ngIf",T.teacherRole),e.xp6(3),e.Q6J("ngClass",e.WLB(53,He,p.outOfDate,!p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(24,22,"lang_testbank_document_list_header_title")),e.xp6(3),e.Q6J("ngIf",!p.isDeletingDocument&&!p.isUploadingDocument),e.xp6(1),e.Q6J("ngIf",p.isDeletingDocument||p.isUploadingDocument),e.xp6(1),e.Q6J("ngIf",(e.lcZ(29,24,e.Dn7(30,26,"","training_center_student_attendance",!1))||e.lcZ(31,30,e.Dn7(32,32,"","training_center_student_book",!1))||e.lcZ(33,36,e.Dn7(34,38,"","training_center_student_mark",!1)))&&T.teacherRole),e.xp6(7),e.Q6J("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.lcZ(36,42,e.Dn7(37,44,"","training_center_student_attendance",!0))&&!T.teacherRole)}}function Jo(v,z){if(1&v&&(e.TgZ(0,"div",27),e.YNc(1,Be,7,14,"div",28),e.YNc(2,ge,10,10,"div",29),e.YNc(3,Fo,38,56,"div",30),e.qZA()),2&v){const p=z.$implicit,T=e.oxw(5);e.xp6(1),e.Q6J("ngIf",!T.teacherRole),e.xp6(1),e.Q6J("ngIf",!p.isExpanded),e.xp6(1),e.Q6J("ngIf",p.isExpanded)}}function qo(v,z){if(1&v&&(e.ynx(0),e.YNc(1,Jo,4,3,"div",26),e.BQk()),2&v){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",p.programObjs)}}function eo(v,z){if(1&v){const p=e.EpF();e.ynx(0),e.TgZ(1,"h3",20)(2,"span",21),e.NdJ("click",function(){const D=e.CHM(p).$implicit;return e.KtG(D.expand=!D.expand)}),e._uU(3),e.ALo(4,"mytranslate"),e.YNc(5,Nn,1,0,"lucide-icon",22),e.YNc(6,jn,1,0,"lucide-icon",23),e.qZA()(),e.YNc(7,qo,2,1,"ng-container",5),e.BQk()}if(2&v){const p=z.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,4,p.monthName)," "),e.xp6(2),e.Q6J("ngIf",p.expand),e.xp6(1),e.Q6J("ngIf",!p.expand),e.xp6(1),e.Q6J("ngIf",p.expand)}}function Qo(v,z){if(1&v&&(e.ynx(0),e.TgZ(1,"div",7)(2,"div",8)(3,"h3",9),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.YNc(6,Le,5,3,"button",10),e.qZA(),e.YNc(7,Yn,3,1,"ng-container",5),e.qZA(),e.ynx(8),e.YNc(9,eo,8,6,"ng-container",11),e.BQk()()),2&v){const p=e.oxw(2);e.xp6(4),e.hij(" ",e.lcZ(5,4,"lang_educational_program_general_documents")," "),e.xp6(2),e.Q6J("ngIf",p.teacherRole),e.xp6(1),e.Q6J("ngIf",p.generalDocumentObjs.length),e.xp6(2),e.Q6J("ngForOf",p.groupProgramSessionObjs)}}function Yo(v,z){1&v&&(e.TgZ(0,"h3",154),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&v&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_config_educational_program_add_new_description")," "))}function Bo(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"button",155),e.NdJ("click",function(){e.CHM(p);const A=e.oxw(4);return e.KtG(A.addNewEducationalProgram())}),e.TgZ(1,"span",156),e._UZ(2,"lucide-icon",157),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&v&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_config_educational_program_select_new")))}function Ho(v,z){if(1&v&&(e.TgZ(0,"div",150)(1,"h3",151),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,Yo,3,3,"h3",152),e.YNc(5,Bo,6,3,"button",153),e.qZA()),2&v){const p=e.oxw(3);e.xp6(2),e.hij(" ",e.lcZ(3,3,"lang_config_educational_program_no_have_yet")," "),e.xp6(2),e.Q6J("ngIf",p.teacherRole),e.xp6(1),e.Q6J("ngIf",p.teacherRole)}}function Go(v,z){1&v&&(e.TgZ(0,"h3",154),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&v&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_config_educational_program_add_new_session_desc")," "))}function vo(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"button",159),e.NdJ("click",function(){e.CHM(p);const A=e.oxw(4);return e.KtG(A.editEducationalProgram())}),e.TgZ(1,"span",156),e._UZ(2,"lucide-icon",160),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&v&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_config_educational_program_edit_btn")))}function Ro(v,z){if(1&v&&(e.TgZ(0,"div",150)(1,"h3",151),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,Go,3,3,"h3",152),e.YNc(5,vo,6,3,"button",158),e.qZA()),2&v){const p=e.oxw(3);e.xp6(2),e.hij(" ",e.lcZ(3,3,"lang_config_educational_program_no_have_session_yet")," "),e.xp6(2),e.Q6J("ngIf",p.teacherRole),e.xp6(1),e.Q6J("ngIf",p.teacherRole)}}function Vo(v,z){if(1&v&&(e.ynx(0),e.YNc(1,Ho,6,5,"div",148),e.YNc(2,Ro,6,5,"ng-template",null,149,e.W1O),e.BQk()),2&v){const p=e.MAs(3),T=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!T.programObj)("ngIfElse",p)}}function $o(v,z){if(1&v&&(e.YNc(0,hn,1,2,"app-add-new-educational-program",4),e.YNc(1,Qo,10,6,"ng-container",5),e.YNc(2,Vo,4,2,"ng-container",5)),2&v){const p=e.oxw();e.Q6J("ngIf",p.showAddNewEducationalProgram),e.xp6(1),e.Q6J("ngIf",!p.showAddNewEducationalProgram&&p.programSessionObjs.length),e.xp6(1),e.Q6J("ngIf",!p.showAddNewEducationalProgram&&p.programSessionObjs.length<=0)}}let Ko=(()=>{class v extends n.Q{emitDataReloadSession(p){p?(this.initStatusObj(),this.programObj=void 0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter.emit()):this.showAddNewEducationalProgram=!1}editMarkCoefficient(p,T){this.sAztDialogService.open(lt.h,{data:{id:p.markId??0,name:"",coefficient:p.markCoefficient,programId:T.programId,classroomId:this.classroomId,sessionId:T.id,isOnlyCoefficient:!0,documentName:p.name,documentType:p.type},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(D=>{D&&this.reloadSessionDataOfProgram(T)})}reloadData(p,T){p&&this.reloadSessionDataOfProgram(T)}reloadSessionDataOfProgram(p){p.isLoadingData=!0,this.reloadSessionDataEmitter.emit(p)}addNewEducationalProgram(){this.showAddNewEducationalProgram=!this.showAddNewEducationalProgram}editEducationalProgram(){let p=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/business/edit-educational-program/"+this.programObj?.id,"?backTo="+p)}removeDocumentFromSession(p,T,A,D){var J=(p.normalDocumentObjs.filter(It=>It.id==A)[0].name??"")+" - "+this.commonService.myTranslateInstant("lang_core_buoi")+" "+p.sort.toString(),mt=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+J+" </div> ?";this.sAztDialogService.open(St.s,{data:{content:mt},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(It=>{It&&(p.isDeletingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsDocumentIdDelete(this.classroomId,T,A).subscribe({next:Pt=>{D&&(D.documentObjs=D.documentObjs.filter(Tt=>Tt.id!=A)),p.normalDocumentObjs=p.normalDocumentObjs.filter(Tt=>Tt.id!=A),this.showSuccessSnack("lang_config_educational_program_remove_document_link_successfully"),p.isDeletingDocument=!1},error:Pt=>{p.isDeletingDocument=!1,this.errorStatusObj(Pt.error.message,!0)}})))})}uploadFileEmitted(p,T){T.isUploadingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsPost(this.classroomId,T.id,p).subscribe({next:A=>{this.reloadSessionDataOfProgram(T),T.isUploadingDocument=!1,this.showSuccessSnack("lang_config_educational_program_add_document_link_successfully")},error:A=>{T.isUploadingDocument=!1,this.errorStatusObj(A.error.message,!0)}}))}expandSessionObj(p){p.isExpanded=!p.isExpanded,this.changeSessionDataEmitter.emit(p)}previewFile(p,T){if(this.isBusinessDomain&&p.type==C.s.video&&(0,it.oW)(p.link??""))window.open(p.link,"_blank");else{const A={name:p.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(p.type),type:p.type,url:p.link};this.sAztDialogService.open(Lt.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...A,index:0},showDownloadIcon:!1},restoreFocus:!1})}}ngAfterViewInit(){let p=this.programSessionObjs.find(T=>T.isExpanded);if(p){let T=document.getElementById("session-"+p.id);window.scrollTo({top:T?.offsetTop})}}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.backLink||(this.backLink="/admin/student/manage-classroom/0")}constructor(p,T,A,D,J){super(),this.sAztDialogService=p,this.cd=T,this.apiUploadService=A,this.classroomService=D,this.sAztFileTypeService=J,this.backLink="",this.errorApiMessage="",this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter=new e.vpe,this.changeSessionDataEmitter=new e.vpe,this.allDocumentTypes=C.s,this.allDocumentGroupTypes=bt.K,this.showAddNewEducationalProgram=!1,this.currentUrl=this.commonService.getCurrentUrlWithoutLocale()}}return v.\u0275fac=function(p){return new(p||v)(e.Y36(X.C),e.Y36(e.sBO),e.Y36(at.W),e.Y36(t.um),e.Y36(vt.v))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-list-sessions"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",errorApiMessage:"errorApiMessage",generalDocumentObjs:"generalDocumentObjs",programSessionObjs:"programSessionObjs",groupProgramSessionObjs:"groupProgramSessionObjs",programObj:"programObj"},outputs:{reloadSessionDataEmitter:"reloadSessionDataEmitter",changeSessionDataEmitter:"changeSessionDataEmitter"},features:[e.qOj],decls:4,vars:2,consts:[[1,"container","educational-program-width"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf","ngIfElse"],["noApiError",""],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[3,"classroomId","programObj","saveEducationalProgramEmit",4,"ngIf"],[4,"ngIf"],[3,"classroomId","programObj","saveEducationalProgramEmit"],[1,"box","p-3","mb-3"],[1,"flex",2,"justify-content","space-between","align-items","center"],[1,"font-medium","text-md"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4","class","btn btn-primary btn-sm text-white","style","cursor: default",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4",1,"btn","btn-primary","btn-sm","text-white",2,"cursor","default",3,"click"],["name","refresh-cw",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"ml-1",2,"vertical-align","middle"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],["azt-track-service","list-educational-program-sessions-tZA6KoGtc",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","iconVerticalStyle","customClass"],[1,"flex","mt-5",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-right","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-down",2,"width","18px !important","height","18px !important","vertical-align","top"],["name","chevron-right",2,"width","18px !important","height","18px !important","vertical-align","top"],["class","relative mt-2",4,"ngFor","ngForOf"],[1,"relative","mt-2"],["class","absolute","style","right: 5px; top: 5px; z-index: 99",4,"ngIf"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9","class","box p-3 mb-3 cursor-pointer clickable expanded-box",3,"click",4,"ngIf"],["class","box p-3 mb-3","style","user-select: none",4,"ngIf"],[1,"absolute",2,"right","5px","top","5px","z-index","99"],["class","btn btn-warning btn-sm text-slate-600 change-block-hidden","style","cursor: default",4,"ngIf"],["class","btn btn-warning btn-sm text-slate-600 change-hidden-block","style","cursor: default; padding: 3px",4,"ngIf"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-block-hidden",2,"cursor","default"],["name","user-x",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-hidden-block",2,"cursor","default","padding","3px"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9",1,"box","p-3","mb-3","cursor-pointer","clickable","expanded-box",3,"click"],[1,"heading"],[1,"font-medium","pr-5","md:pr-auto"],[2,"font-weight","420",3,"ngClass"],[1,"ml-2","text-slate-500",2,"font-weight","400"],[1,"text-slate-500",2,"font-weight","400"],[1,"box","p-3","mb-3",2,"user-select","none"],["azt-track-service","list-educational-program-sessions-AdTUEEwTH6",1,"heading","cursor-pointer","expanded-box-open","pb-2",3,"click"],[1,"font","pr-5","md:pr-auto"],[1,"font-medium",3,"ngClass"],[1,"ml-2","text-slate-500"],["class","azt-answer",4,"ngIf"],[1,"azt-answer"],[1,"strike"],[1,"uppercase",3,"ngClass"],[1,"azt-answer-content","p-3","w-full"],[1,"grid","grid-cols-12","items-center","gap-3"],["class","col-span-12 md:col-span-3",4,"ngFor","ngForOf"],["style","text-align: left","azt-track-service","list-educational-program-sessions-7tcWVQIX5M","class","btn btn-transparent w-48 block",3,"routerLink","queryParams","ngClass",4,"ngIf"],[1,"azt-answer","mt-1"],["class","grid grid-cols-12 items-center gap-3",4,"ngIf"],["class","grid grid-cols-12 gap-2",4,"ngIf"],["class","azt-answer mt-1",4,"ngIf"],[1,"text-slate-500"],[3,"contents","teacherRole","classroomId","sessionId","close"],[1,"col-span-12","md:col-span-3"],["azt-track-service","list-educational-program-sessions-osVwsOKGN",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-700/50 mb-0","style","font-size: 13px",4,"ngIf"],["class","mb-0","style","font-size: 13px",3,"ngClass",4,"ngIf"],["class","text-primary mb-0 relative","style","font-size: 13px",4,"ngIf"],[1,"w-8","h-8","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],[1,"w-8","h-8","text-pending"],["name","file-check"],[1,"w-8","h-8","text-primary"],["name","file-text"],[1,"text-slate-700/50","mb-0",2,"font-size","13px"],[1,"mb-0",2,"font-size","13px",3,"ngClass"],[1,"text-primary","mb-0","relative",2,"font-size","13px"],["azt-track-service","list-educational-program-sessions-mHY0DeFrF",1,"w-4","h-4","inline-block",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","13","height","13","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil",2,"vertical-align","text-top"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],["azt-track-service","list-educational-program-sessions-7tcWVQIX5M",1,"btn","btn-transparent","w-48","block",2,"text-align","left",3,"routerLink","queryParams","ngClass"],[1,"uppercase"],[4,"ngIf","ngIfElse"],["normalViewDocument",""],[1,"col-span-12","md:col-span-2"],[3,"isBtn","customClass","emitFileDocument",4,"ngIf"],["class","col-span-12 md:col-span-2 relative",4,"ngIf"],[1,"col-span-12","md:col-span-2","relative"],[1,"flex","px-3",2,"font-weight","420","font-size","15px",3,"matMenuTriggerFor"],[1,"clickable","w-full","text-primary",2,"align-items","center"],["name","arrow-down-circle",2,"width","18px !important","height","18px !important","vertical-align","top"],["xPosition","after"],["matMenuVideo","matMenu"],[1,"dropdown-menu","show","w-80"],[1,"dropdown-content",3,"ngClass"],["azt-track-service","list-educational-program-sessions-9Uh-D7fBV",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","textWidth","type","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["class","absolute top-0 right-0 p-1 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-50"],["azt-track-service","list-educational-program-sessions-b0R49s83kG",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[1,"w-4","h-4","inline-block",3,"matTooltip"],["name","x"],["matMenuDocument","matMenu"],["azt-track-service","list-educational-program-sessions-3xvwjvQpPm",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-wmJtTG9lgc",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["xPosition","before"],["matMenuHomework","matMenu"],["azt-track-service","list-educational-program-sessions-0ddxB4xw-G",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-H_Fu6rJpUs",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuHomeworkView","matMenu"],["azt-track-service","list-educational-program-sessions-URYQZ4M5Qb",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","type","textWidth","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["azt-track-service","list-educational-program-sessions-MHIjTu_EQr",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuUnknown","matMenu"],[1,"dropdown-menu","show","w-72"],["azt-track-service","list-educational-program-sessions-yixL-fRljl",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-bjX0o_IOex",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["class","col-span-12 md:col-span-3 relative",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-3","relative"],["azt-track-service","list-educational-program-sessions-0reisrghN1",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","customClass"],["azt-track-service","list-educational-program-sessions-E4pIFQJwz",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[3,"isBtn","customClass","emitFileDocument"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","text-center","p-4",2,"align-items","center"],[1,"w-6","h-6","mx-auto","flex"],[3,"type"],[1,"azt-answer-content","py-2","w-full","flex"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-dM0Vh7XPW",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","message-circle",2,"width","18px !important","height","18px !important","vertical-align","middle"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"routerLink","queryParams"],["name","users",2,"width","18px !important","height","18px !important","vertical-align","middle"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","book",2,"width","18px !important","height","18px !important","vertical-align","middle"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","clipboard-signature",2,"width","18px !important","height","18px !important","vertical-align","middle"],[1,"font-medium"],[1,"text-danger"],["class","box px-4 py-5 text-center mx-auto mt-3",4,"ngIf","ngIfElse"],["hasProgramObj",""],[1,"box","px-4","py-5","text-center","mx-auto","mt-3"],[2,"font-weight","450","font-size","15.5px"],["class","mt-3","style","font-weight: 400; font-size: 14px",4,"ngIf"],["azt-track-service","config-educational-program-UuVaYM-oC","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","400","font-size","14px"],["azt-track-service","config-educational-program-UuVaYM-oC",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],[1,"w-4","h-4","inline-block","mr-2"],["name","plus"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","edit"]],template:function(p,T){if(1&p&&(e.TgZ(0,"div",0),e.YNc(1,le,3,3,"div",1),e.YNc(2,$o,3,3,"ng-template",null,2,e.W1O),e.qZA()),2&p){const A=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!T.statusObj.loading&&T.errorApiMessage)("ngIfElse",A)}},dependencies:[c.rH,$.mk,$.sg,$.O5,Nt.VK,Nt.p6,et.gM,F.Q,E.n,pt.F,tt.Nh5,ut.a,w,Mt,$.Ov,ae.Jy,ae.JV,ae.Bo,ae.J8],encapsulation:2}),v})();function Wo(v,z){1&v&&e._UZ(0,"azt-loading-effect")}function bo(v,z){if(1&v){const p=e.EpF();e.TgZ(0,"div",2)(1,"app-list-sessions",3),e.NdJ("reloadSessionDataEmitter",function(A){e.CHM(p);const D=e.oxw();return e.KtG(D.reloadSessionData(A))})("changeSessionDataEmitter",function(A){e.CHM(p);const D=e.oxw();return e.KtG(D.changeSessionData(A))}),e.qZA()()}if(2&v){const p=e.oxw();e.xp6(1),e.Q6J("teacherRole",p.teacherRole)("classroomId",p.classroomId)("backLink",p.backLink)("errorApiMessage",p.errorApiMessage)("generalDocumentObjs",p.generalDocumentObjs)("programSessionObjs",p.programSessionObjs)("groupProgramSessionObjs",p.groupProgramSessionObjs)("programObj",p.programObj)}}let Xo=(()=>{class v extends n.Q{changeSessionData(p){this.programSessionObjs.map(T=>T.id==p.id?p:T),this.teacherRole&&this.commonService.myNavigationWithQueryString(`/admin/student/classroom-details/${this.classroomId}/3`,`?sessionId=${p.id}${this.backLink?"&backTo="+this.backLink:""}`)}reloadSessionData(p){this.initData(p)}convertNormalDocumentByGroup(p){let T={};return p.forEach(A=>{A.groupType&&(T.hasOwnProperty(A.groupType)||(T[A.groupType]=[]),T[A.groupType].push(A))}),T}processData(p){let T=this.commonService.arrayToDictionary(p,D=>D.groupType?D.groupType:"unknown"),A=[{name:"video",documentObjs:[]},{name:"document",documentObjs:[]},{name:"homework",documentObjs:[]},{name:"homework_view",documentObjs:[]},{name:"unknown",documentObjs:[]}];return Object.entries(T).forEach(([D,J],mt)=>{if(J.length>0){let It={name:D,documentObjs:J};"video"==It.name&&(A[0]=It),"document"==It.name&&(A[1]=It),"homework"==It.name&&(A[2]=It),"homework_view"==It.name&&(A[3]=It),"unknown"==It.name&&(A[4]=It)}}),A}convertDocumentsOfSession(p,T){let A=(new Date).toDateString(),D=!1;return p.forEach((J,mt)=>{J.normalDocumentObjs=J.allDocumentObjs.filter(Tt=>"exam"!=Tt.type&&"homework"!=Tt.type),J.examHomeworkObjs=J.allDocumentObjs.filter(Tt=>"exam"==Tt.type||"homework"==Tt.type),J.groupDocumentObjs=this.processData(J.normalDocumentObjs),J.indexSession=J.sort;let It="",Pt="";if(J.fromTime){let Tt=new Date(J.fromTime),fe=new Date(Tt.toDateString()),Ee=new Date(A),Kt=Math.floor((fe.getTime()-Ee.getTime())/1e3);J.dateSession=this.timeService.getFormatDate(J.fromTime),J.outOfDate=Kt<0,J.monthSession=Tt.getMonth()+1,J.yearSession=Tt.getFullYear(),It+=this.addZeroToTime(Tt.getHours())+":"+this.addZeroToTime(Tt.getMinutes()),Pt=this.timeService.calculationTimeAgoOnlyDate(fe,Ee)}if(J.toTime){let Tt=new Date(J.toTime);It+=" - "+this.addZeroToTime(Tt.getHours())+":"+this.addZeroToTime(Tt.getMinutes())}It+=Pt?" ("+Pt+")":"",J.timeSession=It,D||(J.isExpanded=T?J.isExpanded:!J.outOfDate,J.isExpanded&&(D=!0))}),p}addZeroToTime(p){return p<10?"0"+p:p.toString()}getSchoolLeaveObjs(p,T){p.length&&!this.teacherRole?this.waitDestroy(this.studentService.apiStudentsAttendancesMeGet(this.classroomId).subscribe({next:A=>{p.map(D=>{D.studentAttendance=A.list.find(J=>J.sessionId==D.id)}),T(p)},error:A=>{this.errorStatusObj(A.error.message,!0),T(p)}})):T(p)}initData(p){p||(this.initStatusObj(),this.programSessionObjs=[],this.programObj=void 0,this.generalDocumentObjs=[]),this.groupProgramSessionObjs=[];let T=this.teacherRole?this.classroomService.apiClassroomsClassroomIdProgramsProgramIdGet(this.classroomId,0):this.classroomService.apiClassroomsClassroomIdStudentsProgramsProgramIdGet(this.classroomId,0);this.waitDestroy(T.subscribe({next:A=>{this.generalDocumentObjs=A.generalDocuments.map(J=>({...J,documentType:this.commonService.getEnumTypeWithDefault(C.s,J.type,C.s.unknown)})),this.programObj=A.program;let D=A.sessions.map(J=>({...J,isExpanded:!1,isLoadingData:!1,isDeletingDocument:!1,isUploadingDocument:!1,normalDocumentObjs:[],examHomeworkObjs:[],groupDocumentObjs:[],indexSession:0,yearSession:0,monthSession:0,allDocumentObjs:J.documents.map(mt=>({...mt,documentType:this.commonService.getEnumTypeWithDefault(C.s,mt.type,C.s.unknown)}))}));D=this.convertDocumentsOfSession(D,!!p),this.getSchoolLeaveObjs(D,J=>{if(p){let Tt=J.find(fe=>fe.id==p.id);this.programSessionObjs=this.programSessionObjs.map(fe=>fe.id==Tt?.id?{...Tt,isExpanded:fe.isExpanded}:fe)}else this.programSessionObjs=J;this.sessionId&&this.programSessionObjs.map(Tt=>Tt.isExpanded=Tt.id==this.sessionId);let mt=this.commonService.arrayToDictionary(this.programSessionObjs,Tt=>Tt.monthSession?.toString()+"/"+Tt.yearSession?.toString()),It=this.commonService.myTranslateInstant("lang_core_thang")??"Th\xe1ng",Pt=(new Date).getMonth()+1+"/"+(new Date).getFullYear();Object.entries(mt).forEach(([Tt,fe],Ee)=>{let Kt=fe.find(Co=>Co.isExpanded);this.groupProgramSessionObjs.push({monthName:It+" "+Tt,programObjs:fe,expand:!(Tt!=Pt&&!Kt)})}),this.stopStatusObj()})},error:A=>{this.errorApiMessage=A.error.message,this.errorStatusObj(A.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.initData(void 0)}constructor(p,T,A,D){super(),this.classroomService=p,this.timeService=T,this.studentService=A,this.activeRoute=D,this.sessionId=0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.errorApiMessage=""}}return v.\u0275fac=function(p){return new(p||v)(e.Y36(t.um),e.Y36(yt.D),e.Y36(t.VT),e.Y36(c.gz))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-view-educational-program"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",sessionId:"sessionId"},features:[e.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-y","relative",2,"min-height","calc(100vh - 550px)"],[3,"teacherRole","classroomId","backLink","errorApiMessage","generalDocumentObjs","programSessionObjs","groupProgramSessionObjs","programObj","reloadSessionDataEmitter","changeSessionDataEmitter"]],template:function(p,T){if(1&p&&(e.YNc(0,Wo,1,0,"azt-loading-effect",0),e.YNc(1,bo,2,8,"ng-template",null,1,e.W1O)),2&p){const A=e.MAs(2);e.Q6J("ngIf",T.statusObj.loading)("ngIfElse",A)}},dependencies:[$.O5,i.l,Ko],encapsulation:2}),v})(),ti=(()=>{class v extends n.Q{ngOnInit(){this.waitDestroy((0,rt.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let p=this.commonService.getMyQueryParam("backto");this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))??0,this.backLink=p??this.backLink??"/business/dashboard",this.sessionId=Number(this.commonService.getMyQueryParam("sessionId"))})),super.ngOnInit()}constructor(p){super(),this.activeRoute=p,this.classroomId=0,this.sessionId=0,this.backLink=""}}return v.\u0275fac=function(p){return new(p||v)(e.Y36(c.gz))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-educational-program"]],inputs:{isStudent:"isStudent"},features:[e.qOj],decls:1,vars:4,consts:[[3,"teacherRole","classroomId","sessionId","backLink"]],template:function(p,T){1&p&&e._UZ(0,"app-view-educational-program",0),2&p&&e.Q6J("teacherRole",!T.isStudent)("classroomId",T.classroomId)("sessionId",T.sessionId)("backLink",T.backLink)},dependencies:[Xo],encapsulation:2}),v})()},86:(xe,Ut,g)=>{g.d(Ut,{h:()=>at});var rt=g(56223),n=g(19347),e=g(72164),c=g(91765),C=g(65879),t=g(68172),yt=g(96814),$=g(67679),i=g(71646),St=g(36727);function bt(vt,Nt){1&vt&&(C.TgZ(0,"div",17),C._uU(1),C.ALo(2,"mytranslate"),C.qZA()),2&vt&&(C.xp6(1),C.hij(" *",C.lcZ(2,1,"lang_auto_vui_long_nhap_ten_dau_diem")," "))}function Lt(vt,Nt){if(1&vt&&(C.TgZ(0,"div",15)(1,"label",8),C._uU(2),C.ALo(3,"mytranslate"),C.qZA(),C._UZ(4,"input",16),C.ALo(5,"mytranslate"),C.YNc(6,bt,3,3,"div",10),C.qZA()),2&vt){const et=C.oxw();C.xp6(2),C.hij(" ",C.lcZ(3,3,"lang_student_name_component_score")," "),C.xp6(2),C.s9C("placeholder",C.lcZ(5,5,"lang_student_enter_name_component_score")),C.xp6(2),C.Q6J("ngIf",et.form.controls.name.dirty&&et.form.controls.name.errors)}}function lt(vt,Nt){if(1&vt&&(C.TgZ(0,"div",15)(1,"label",8),C._uU(2),C.ALo(3,"mytranslate"),C.qZA(),C._UZ(4,"input",18),C.ALo(5,"mytranslate"),C.qZA()),2&vt){const et=C.oxw();C.xp6(2),C.hij(" ",C.lcZ(3,3,"homework"==et.data.documentType?"lang_auto_bai_tap":"lang_auto_de_thi"),": "),C.xp6(2),C.s9C("placeholder",C.lcZ(5,5,"lang_student_enter_name_component_score")),C.Q6J("value",et.data.documentName)}}function it(vt,Nt){1&vt&&(C.TgZ(0,"div",17),C._uU(1),C.ALo(2,"mytranslate"),C.qZA()),2&vt&&(C.xp6(1),C.hij(" *",C.lcZ(2,1,"lang_auto_he_so_diem_phai_la_so")," "))}function X(vt,Nt){1&vt&&(C.TgZ(0,"span",19),C._UZ(1,"azt-loading-ui"),C.qZA())}let at=(()=>{class vt extends e.e{setValueCoeffcient(){var et=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(et)??0)}createStartingPoint(){let et={name:this.form.getRawValue().name,coefficient:this.form.getRawValue().coefficient,programId:this.data.programId,classroomId:this.data.classroomId,sessionId:this.data.sessionId};this.waitDestroy(this.data.id?this.commonMarkService.apiCommonMarksIdPut(this.data.id,et).subscribe(F=>{F?(this.showSuccessSnack("lang_core_sua_dau_diem_thanh_cong"),this.dialogRef.close(et)):this.errorStatusObj("lang_core_sua_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}):this.commonMarkService.apiCommonMarksPost(et).subscribe(F=>{F?(this.showSuccessSnack("lang_core_them_dau_diem_thanh_cong"),this.dialogRef.close(et)):this.errorStatusObj("lang_core_them_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}))}ngOnInit(){}constructor(et,F,E){super(E,F),this.commonMarkService=et,this.dialogRef=F,this.data=E,this.form=new rt.cw({name:new rt.NI({value:E.name??"",disabled:0==E.canEditName},{nonNullable:!0,validators:[rt.kI.required,c._.noWhiteSpace]}),coefficient:new rt.NI(E.coefficient,{nonNullable:!0,validators:[rt.kI.required,rt.kI.pattern(/^[1-9]\d*$/)]})})}}return vt.\u0275fac=function(et){return new(et||vt)(C.Y36(t.Q),C.Y36(n.so,8),C.Y36(n.WI))},vt.\u0275cmp=C.Xpm({type:vt,selectors:[["app-create-score-dialog"]],features:[C.qOj],decls:25,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"placeholder","input"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"value","placeholder"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(et,F){1&et&&(C.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),C._uU(5),C.ALo(6,"mytranslate"),C.qZA()(),C.TgZ(7,"div",5),C.YNc(8,Lt,7,7,"div",6),C.YNc(9,lt,6,7,"div",6),C.TgZ(10,"div",7)(11,"label",8),C._uU(12),C.ALo(13,"mytranslate"),C.qZA(),C.TgZ(14,"input",9),C.NdJ("input",function(){return F.setValueCoeffcient()}),C.ALo(15,"mytranslate"),C.qZA(),C.YNc(16,it,3,3,"div",10),C.qZA()()(),C.TgZ(17,"div",11)(18,"button",12),C.NdJ("click",function(){return F.dialogRef.close()}),C._uU(19),C.ALo(20,"mytranslate"),C.qZA(),C.TgZ(21,"button",13),C.NdJ("click",function(){return F.createStartingPoint()}),C.YNc(22,X,2,0,"span",14),C._uU(23),C.ALo(24,"mytranslate"),C.qZA()()()()),2&et&&(C.xp6(1),C.Q6J("formGroup",F.form),C.xp6(4),C.hij(" ",C.lcZ(6,11,F.data.id?F.data.isOnlyCoefficient?"lang_student_edit_mark_coefficient":"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),C.xp6(3),C.Q6J("ngIf",!F.data.isOnlyCoefficient),C.xp6(1),C.Q6J("ngIf",F.data.isOnlyCoefficient),C.xp6(3),C.hij(" ",C.lcZ(13,13,"lang_student_score_factor")," "),C.xp6(2),C.s9C("placeholder",C.lcZ(15,15,"lang_student_enter_score_factor")),C.xp6(2),C.Q6J("ngIf",F.form.controls.coefficient.dirty&&F.form.controls.coefficient.errors),C.xp6(3),C.Oqu(C.lcZ(20,17,"lang_button_cancel")),C.xp6(2),C.Q6J("disabled",F.form.controls.name.errors&&!F.data.isOnlyCoefficient||F.form.controls.coefficient.errors),C.xp6(1),C.Q6J("ngIf",F.statusObj.loading),C.xp6(1),C.hij(" ",C.lcZ(24,19,"lang_button_save")," "))},dependencies:[yt.O5,rt._Y,rt.Fj,rt.wV,rt.JJ,rt.JL,rt.sg,rt.u,$.M,i.n,St.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box[_ngcontent-%COMP%]{margin-top:1px}.hidden-scroll[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hidden-scroll[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),vt})()},81176:(xe,Ut,g)=>{g.d(Ut,{m:()=>Wt});var rt=g(29023),n=g(73445),e=g(23680),c=g(19347),C=g(44683),t=g(13217),yt=g(72164),$=g(84003),i=g(65879),St=g(46558),bt=g(47496),Lt=g(89156),lt=g(86),it=g(2783),X=g(97151),at=g(38228),vt=g(68719),Nt=g(96814),et=g(92596),F=g(91675),E=g(78497),pt=g(71646),tt=g(1103),ut=g(77988),ft=g(36727);function _t(U,Ot){1&U&&(i.TgZ(0,"span",13),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&U&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"lang_core_thang")))}function Ft(U,Ot){if(1&U&&(i.TgZ(0,"span",13),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&U){const j=i.oxw();i.xp6(1),i.AsE("",i.lcZ(2,2,"lang_core_thang")," ",j.dataFilter.monthSelected,"")}}function Bt(U,Ot){1&U&&(i.TgZ(0,"span",13),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&U&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"lang_core_nam")))}function Rt(U,Ot){if(1&U&&(i.TgZ(0,"span",13),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&U){const j=i.oxw();i.xp6(1),i.AsE("",i.lcZ(2,2,"lang_core_nam")," ",j.dataFilter.yearSelected,"")}}function re(U,Ot){1&U&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&U&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"lang_auto_tat_ca")))}function Zt(U,Ot){if(1&U&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&U){const j=i.oxw().index;i.xp6(1),i.AsE("",i.lcZ(2,2,"lang_core_thang")," ",j,"")}}function kt(U,Ot){if(1&U){const j=i.EpF();i.TgZ(0,"li",14),i.NdJ("click",function(){const w=i.CHM(j).index,q=i.oxw();return i.KtG(q.selectMonth(w))}),i.YNc(1,re,3,3,"span",15),i.YNc(2,Zt,3,4,"span",15),i.qZA()}if(2&U){const j=Ot.index,b=i.oxw();i.Q6J("ngClass",b.dataFilter.monthSelected==j?"color-select":""),i.xp6(1),i.Q6J("ngIf",0==j),i.xp6(1),i.Q6J("ngIf",j>0)}}function K(U,Ot){1&U&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&U&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"lang_auto_tat_ca")))}function P(U,Ot){if(1&U&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&U){const j=i.oxw().index,b=i.oxw();i.xp6(1),i.AsE("",i.lcZ(2,2,"lang_core_nam")," ",b.currentDate.getFullYear()-(j-1),"")}}function ht(U,Ot){if(1&U){const j=i.EpF();i.TgZ(0,"li",16),i.NdJ("click",function(){const w=i.CHM(j).index,q=i.oxw();return i.KtG(q.selectYear(w))}),i.YNc(1,K,3,3,"span",15),i.YNc(2,P,3,4,"span",15),i.qZA()}if(2&U){const j=Ot.index,b=i.oxw();i.Q6J("ngClass",!b.dataFilter.yearSelected||b.currentDate.getFullYear()-(b.dataFilter.yearSelected-1)!=j&&0!=b.dataFilter.yearSelected?"":"color-select"),i.xp6(1),i.Q6J("ngIf",0==j),i.xp6(1),i.Q6J("ngIf",j>0)}}const xt=function(){return[]};let Ct=(()=>{class U extends bt.Q{selectMonth(j){this.isApply=!0,this.dataFilter.monthSelected=j,this.sendFilter.emit(this.dataFilter)}selectYear(j){this.isApply=!0,this.dataFilter.yearSelected=j>0?this.currentDate.getFullYear()-(j-1):j,this.sendFilter.emit(this.dataFilter)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.sendFilter=new i.vpe,this.isLoading=!1,this.currentDate=new Date,this.isApply=!1,this.dataFilter={monthSelected:void 0,yearSelected:void 0}}}return U.\u0275fac=function(j){return new(j||U)},U.\u0275cmp=i.Xpm({type:U,selectors:[["azt-filter-box"]],inputs:{isLoading:"isLoading"},outputs:{sendFilter:"sendFilter"},features:[i.qOj],decls:24,vars:13,consts:[[1,"flex","items-center","font-medium"],[1,"font-medium","mr-2","color",2,"color","#1e40af"],[1,"border-box","hover","p-1","clickable","mr-1",3,"matMenuTriggerFor"],["class","p-1",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevron-down"],["d","m6 9 6 6 6-6"],["xPosition","before"],["filterByMonth","matMenu"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content","overflow-hidden","overflow-y-auto","h-56"],["azt-track-service","azt-filter-box-0A_xsGZ5B","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],["filterByYear","matMenu"],["azt-track-service","azt-filter-box-orpcyuG7jD","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-1"],["azt-track-service","azt-filter-box-0A_xsGZ5B",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"],[4,"ngIf"],["azt-track-service","azt-filter-box-orpcyuG7jD",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"]],template:function(j,b){if(1&j&&(i.TgZ(0,"div",0)(1,"div",1),i._uU(2),i.ALo(3,"mytranslate"),i.qZA(),i.TgZ(4,"div",2),i.YNc(5,_t,3,3,"span",3),i.YNc(6,Ft,3,4,"span",3),i.O4$(),i.TgZ(7,"svg",4),i._UZ(8,"path",5),i.qZA()(),i.kcU(),i.TgZ(9,"div",2),i.YNc(10,Bt,3,3,"span",3),i.YNc(11,Rt,3,4,"span",3),i.O4$(),i.TgZ(12,"svg",4),i._UZ(13,"path",5),i.qZA()()(),i.kcU(),i.TgZ(14,"mat-menu",6,7)(16,"div",8)(17,"ul",9),i.YNc(18,kt,3,3,"li",10),i.qZA()()(),i.TgZ(19,"mat-menu",6,11)(21,"div",8)(22,"ul",9),i.YNc(23,ht,3,3,"li",12),i.qZA()()()),2&j){const G=i.MAs(15),w=i.MAs(20);i.xp6(2),i.hij(" ",i.lcZ(3,9,"lang_testbank_tested_list_sort"),": "),i.xp6(2),i.Q6J("matMenuTriggerFor",G),i.xp6(1),i.Q6J("ngIf",!b.dataFilter.monthSelected),i.xp6(1),i.Q6J("ngIf",b.dataFilter.monthSelected&&b.dataFilter.monthSelected>0),i.xp6(3),i.Q6J("matMenuTriggerFor",w),i.xp6(1),i.Q6J("ngIf",!b.dataFilter.yearSelected),i.xp6(1),i.Q6J("ngIf",b.dataFilter.yearSelected&&b.dataFilter.yearSelected>0),i.xp6(7),i.Q6J("ngForOf",i.DdM(11,xt).constructor(13)),i.xp6(5),i.Q6J("ngForOf",i.DdM(12,xt).constructor(10))}},dependencies:[Nt.mk,Nt.sg,Nt.O5,ut.VK,ut.p6,ft.JV],styles:[".w-max-content[_ngcontent-%COMP%]{width:-webkit-fill-available;min-width:max-content}.border-left[_ngcontent-%COMP%]{border-left:1px solid rgb(201,201,201)}.background-powderblue[_ngcontent-%COMP%]{background:powderblue}.hover[_ngcontent-%COMP%]:hover{background:mintcream}.color-select[_ngcontent-%COMP%]{background-color:#eef1f6}.border-box[_ngcontent-%COMP%]{border:1px solid #1e40af;padding:2px 5px;border-radius:10px}.box-name[_ngcontent-%COMP%]{background:lightgrey}"]}),U})();var Dt=g(60381),ee=g(37722);const ue=["table_score_student"];function pe(U,Ot){if(1&U){const j=i.EpF();i.TgZ(0,"div",11)(1,"button",12),i.NdJ("click",function(){i.CHM(j);const G=i.oxw();return i.KtG(G.downloadTableScore())}),i.TgZ(2,"div",13),i._UZ(3,"lucide-icon",14),i.qZA(),i.TgZ(4,"span"),i._uU(5),i.ALo(6,"mytranslate"),i.qZA()()()}2&U&&(i.xp6(5),i.Oqu(i.lcZ(6,1,"lang_student_export_a_grade_sheet")))}function ae(U,Ot){if(1&U){const j=i.EpF();i.TgZ(0,"div",15)(1,"lucide-icon",16),i.NdJ("click",function(){i.CHM(j);const G=i.oxw();return i.KtG(G.downloadTableScore())}),i.ALo(2,"mytranslate"),i.qZA(),i.O4$(),i.TgZ(3,"svg",17),i.NdJ("click",function(){i.CHM(j);const G=i.oxw();return i.KtG(G.closeDiaglog.emit(G.isEdit))}),i.ALo(4,"mytranslate"),i._UZ(5,"path",18)(6,"path",19),i.qZA()()}2&U&&(i.xp6(1),i.s9C("matTooltip",i.lcZ(2,2,"lang_student_export_a_grade_sheet")),i.xp6(2),i.s9C("matTooltip",i.lcZ(4,4,"lang_auto_thoat")))}function Pe(U,Ot){1&U&&i._UZ(0,"azt-loading-ui",26)}function ze(U,Ot){if(1&U&&(i.TgZ(0,"div",39),i._uU(1),i.ALo(2,"mytranslate"),i.ALo(3,"formatOnlyDateByUserUnitPipe"),i.qZA()),2&U){const j=i.oxw().$implicit;i.xp6(1),i.AsE(" ",i.lcZ(2,2,"lang_student_profile_utils_homework_answer_created_at"),": ",i.lcZ(3,4,j.createdAt)," ")}}function Ke(U,Ot){if(1&U&&(i.TgZ(0,"div",39)(1,"span"),i._uU(2),i.ALo(3,"mytranslate"),i.qZA(),i.TgZ(4,"span",40),i._uU(5),i.qZA()()),2&U){const j=i.oxw().$implicit;i.xp6(2),i.Oqu(i.lcZ(3,2,"lang_auto_he_so")),i.xp6(3),i.Oqu(j.coefficient)}}function Ue(U,Ot){if(1&U){const j=i.EpF();i.TgZ(0,"button",41),i.NdJ("click",function(){i.CHM(j);const G=i.oxw().$implicit,w=i.oxw(2);return i.KtG(w.editScore(G))}),i.ALo(1,"mytranslate"),i.O4$(),i.TgZ(2,"svg",42),i._UZ(3,"path",43)(4,"path",44),i.qZA()()}2&U&&i.s9C("matTooltip",i.lcZ(1,1,"lang_student_sua_dau_diem"))}function We(U,Ot){if(1&U&&(i.TgZ(0,"div",45),i._UZ(1,"azt-check-mark",46),i.qZA()),2&U){const j=i.oxw().$implicit;i.xp6(1),i.Q6J("mark",j.marks.length>0?j.marks[0]:"")}}function Fe(U,Ot){if(1&U&&(i.TgZ(0,"div",45),i._UZ(1,"azt-check-mark",46),i.qZA()),2&U){const j=i.oxw().$implicit,b=i.oxw(2);i.xp6(1),i.Q6J("mark",b.returnValue(j))}}function de(U,Ot){if(1&U){const j=i.EpF();i.TgZ(0,"input",47),i.NdJ("input",function(G){i.CHM(j);const w=i.oxw().$implicit,q=i.oxw(2);return i.KtG(q.handleMarkStudent(G,w.id))}),i.ALo(1,"mytranslate"),i.ALo(2,"mytranslate"),i.qZA()}if(2&U){const j=i.oxw().$implicit,b=i.oxw(2);i.s9C("matTooltip",i.lcZ(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),i.MGl("id","input_point_",j.id.toString(),""),i.s9C("placeholder",i.lcZ(2,7,"lang_auto_nhap_diem")),i.Q6J("disabled",b.isStudent)("value",b.returnValue(j))}}function Je(U,Ot){1&U&&(i.O4$(),i.TgZ(0,"svg",51),i.ALo(1,"mytranslate"),i.ALo(2,"mytranslate"),i._UZ(3,"path",43)(4,"path",44),i.qZA()),2&U&&i.hYB("matTooltip","",i.lcZ(1,2,"lang_auto_sua")," ",i.lcZ(2,4,"lang_auto_diem"),"")}function Xe(U,Ot){1&U&&(i.O4$(),i.TgZ(0,"svg",52),i.ALo(1,"mytranslate"),i._UZ(2,"path",18)(3,"path",19),i.qZA()),2&U&&i.s9C("matTooltip",i.lcZ(1,1,"lang_editor_common_cancel"))}function qe(U,Ot){if(1&U){const j=i.EpF();i.TgZ(0,"button",48),i.NdJ("click",function(){i.CHM(j);const G=i.oxw().$implicit,w=i.oxw(2);return i.KtG(w.viewInput(G.id==w.inputPointSelect?-1:G.id))}),i.YNc(1,Je,5,6,"svg",49),i.YNc(2,Xe,4,3,"svg",50),i.qZA()}if(2&U){const j=i.oxw().$implicit,b=i.oxw(2);i.xp6(1),i.Q6J("ngIf",b.inputPointSelect!=j.id),i.xp6(1),i.Q6J("ngIf",b.inputPointSelect==j.id)}}function Qe(U,Ot){1&U&&i._UZ(0,"azt-loading-ui",56)}function tn(U,Ot){1&U&&(i.O4$(),i.TgZ(0,"svg",57),i._UZ(1,"path",58),i.qZA())}function en(U,Ot){if(1&U){const j=i.EpF();i.TgZ(0,"button",53),i.NdJ("click",function(){i.CHM(j);const G=i.oxw().$implicit,w=i.oxw(2);return i.KtG(w.saveMark(G))}),i.ALo(1,"mytranslate"),i.YNc(2,Qe,1,0,"azt-loading-ui",54),i.YNc(3,tn,2,0,"svg",55),i.qZA()}if(2&U){const j=i.oxw(3);i.s9C("matTooltip",i.lcZ(1,4,"lang_button_save")),i.Q6J("disabled",j.isSave),i.xp6(2),i.Q6J("ngIf",j.isSave),i.xp6(1),i.Q6J("ngIf",!j.isSave)}}function nn(U,Ot){if(1&U){const j=i.EpF();i.O4$(),i.TgZ(0,"svg",59),i.NdJ("click",function(){i.CHM(j);const G=i.oxw().$implicit,w=i.oxw(2);return i.KtG(w.goToEditPoint(G))}),i.ALo(1,"mytranslate"),i._UZ(2,"path",60)(3,"polyline",61)(4,"line",62),i.qZA()}2&U&&i.s9C("matTooltip",i.lcZ(1,1,"lang_core_go_to_enter_score"))}function Ye(U,Ot){if(1&U&&(i.TgZ(0,"tr")(1,"td")(2,"div",27)(3,"div"),i._uU(4),i.YNc(5,ze,4,6,"div",28),i.YNc(6,Ke,6,4,"div",29),i.qZA(),i.YNc(7,Ue,5,3,"button",30),i.qZA()(),i.TgZ(8,"td",31)(9,"div",32),i.YNc(10,We,2,1,"div",33),i.YNc(11,Fe,2,1,"div",33),i.YNc(12,de,3,9,"input",34),i.YNc(13,qe,3,2,"button",35),i.YNc(14,en,4,6,"button",36),i.qZA()(),i.TgZ(15,"td",37),i.YNc(16,nn,5,3,"svg",38),i.qZA()()),2&U){const j=Ot.$implicit,b=i.oxw(2);i.xp6(4),i.hij(" ",j.name," "),i.xp6(1),i.Q6J("ngIf",j.createdAt&&!b.isStudent),i.xp6(1),i.Q6J("ngIf",j.coefficient),i.xp6(1),i.Q6J("ngIf",!b.isStudent),i.xp6(3),i.Q6J("ngIf","homework"==j.objectType),i.xp6(1),i.Q6J("ngIf","homework"!=j.objectType&&b.inputPointSelect!=j.id),i.xp6(1),i.Q6J("ngIf","homework"!=j.objectType&&b.inputPointSelect==j.id),i.xp6(1),i.Q6J("ngIf",!b.isStudent&&j.canEditMark&&!b.listMarkNew),i.xp6(1),i.Q6J("ngIf",!b.isStudent&&j.canEditMark&&b.listMarkNew&&b.listMarkNew.id==j.id),i.xp6(2),i.Q6J("ngIf",!b.isStudent&&j.programId&&j.sessionId)}}function Te(U,Ot){1&U&&i._UZ(0,"azt-loading-ui",26)}const ye=function(){return[]};function ke(U,Ot){if(1&U){const j=i.EpF();i.TgZ(0,"azt-mat-dialog-content")(1,"div",20),i.YNc(2,Pe,1,0,"azt-loading-ui",21),i.TgZ(3,"azt-filter-box",22),i.NdJ("sendFilter",function(G){i.CHM(j);const w=i.oxw();return i.KtG(w.filterData(G))}),i.qZA()(),i.TgZ(4,"table",23)(5,"tbody"),i.YNc(6,Ye,17,10,"tr",10),i.TgZ(7,"tr")(8,"td"),i._uU(9),i.ALo(10,"mytranslate"),i.qZA(),i.TgZ(11,"td",24)(12,"div",25),i.YNc(13,Te,1,0,"azt-loading-ui",21),i._uU(14),i.qZA()()()()()()}if(2&U){const j=i.oxw();let b;i.xp6(2),i.Q6J("ngIf",j.statusObj.loading),i.xp6(4),i.Q6J("ngForOf",null!==(b=j.data.marks)&&void 0!==b?b:i.DdM(8,ye)),i.xp6(3),i.hij(" ",i.lcZ(10,6,"lang_business_diem_tong_ket")," "),i.xp6(2),i.Q6J("colSpan",2),i.xp6(2),i.Q6J("ngIf",j.isSave),i.xp6(1),i.hij(" ",j.data.averageMark," ")}}function Ne(U,Ot){if(1&U&&(i.TgZ(0,"div",39)(1,"span"),i._uU(2),i.ALo(3,"mytranslate"),i.qZA(),i.TgZ(4,"span",40),i._uU(5),i.qZA()()),2&U){const j=i.oxw().$implicit;i.xp6(2),i.Oqu(i.lcZ(3,2,"lang_auto_he_so")),i.xp6(3),i.Oqu(j.coefficient)}}function Se(U,Ot){if(1&U&&(i.TgZ(0,"div",45),i._UZ(1,"azt-check-mark",46),i.qZA()),2&U){const j=i.oxw().$implicit;i.xp6(1),i.Q6J("mark",j.marks.length>0?j.marks[0]:"")}}function ve(U,Ot){if(1&U&&(i.TgZ(0,"div",45),i._UZ(1,"azt-check-mark",46),i.qZA()),2&U){const j=i.oxw().$implicit,b=i.oxw(2);i.xp6(1),i.Q6J("mark",b.returnValue(j))}}function Ie(U,Ot){if(1&U&&(i.TgZ(0,"tr")(1,"td")(2,"div",27)(3,"div"),i._uU(4),i.YNc(5,Ne,6,4,"div",29),i.qZA()()(),i.TgZ(6,"td",67),i.YNc(7,Se,2,1,"div",33),i.YNc(8,ve,2,1,"div",33),i.qZA()()),2&U){const j=Ot.$implicit;i.xp6(4),i.hij(" ",j.name," "),i.xp6(1),i.Q6J("ngIf",j.coefficient),i.xp6(2),i.Q6J("ngIf","homework"==j.objectType),i.xp6(1),i.Q6J("ngIf","homework"!=j.objectType)}}function be(U,Ot){if(1&U&&(i.TgZ(0,"table",63)(1,"thead")(2,"tr")(3,"th",64),i._uU(4),i.ALo(5,"mytranslate"),i.qZA(),i.TgZ(6,"th",65),i._uU(7),i.ALo(8,"mytranslate"),i.qZA()()(),i.TgZ(9,"tbody"),i.YNc(10,Ie,9,4,"tr",10),i.TgZ(11,"tr")(12,"td"),i._uU(13),i.ALo(14,"mytranslate"),i.qZA(),i.TgZ(15,"td")(16,"div",66),i._uU(17),i.qZA()()()()()),2&U){const j=i.oxw();let b;i.xp6(4),i.Oqu(i.lcZ(5,5,"lang_student_name_component_score")),i.xp6(3),i.Oqu(i.lcZ(8,7,"lang_testbank_update_exam_point")),i.xp6(3),i.Q6J("ngForOf",null!==(b=j.data.marks)&&void 0!==b?b:i.DdM(11,ye)),i.xp6(3),i.hij(" ",i.lcZ(14,9,"lang_business_diem_tong_ket")," "),i.xp6(4),i.hij(" ",j.data.averageMark," ")}}function we(U,Ot){if(1&U&&i._UZ(0,"azt-check-mark",46),2&U){const j=i.oxw().$implicit;i.Q6J("mark",j.marks.length>0?j.marks[0]:"")}}function on(U,Ot){if(1&U&&i._UZ(0,"azt-check-mark",46),2&U){const j=i.oxw().$implicit,b=i.oxw();i.Q6J("mark",b.returnValue(j))}}function Jt(U,Ot){if(1&U&&(i.TgZ(0,"tr")(1,"td",9),i._uU(2),i.qZA(),i.TgZ(3,"td",9),i._uU(4),i.qZA(),i.TgZ(5,"td",9),i._uU(6),i.qZA(),i.TgZ(7,"td",9),i.YNc(8,we,1,1,"azt-check-mark",68),i.YNc(9,on,1,1,"azt-check-mark",68),i.qZA()()),2&U){const j=Ot.$implicit,b=Ot.index,G=i.oxw();i.xp6(1),i.uIk("excelRow",b+1)("excelColumn",0)("excelStyle",G.styleTdNormal),i.xp6(1),i.hij(" ",j.name?b+1:""," "),i.xp6(1),i.uIk("excelRow",b+1)("excelColumn",1)("excelStyle",G.styleTdNormalLeft),i.xp6(1),i.hij(" ",j.name," "),i.xp6(1),i.uIk("excelRow",b+1)("excelColumn",2)("excelStyle",G.styleTdNotNumberNormal),i.xp6(1),i.hij(" ",j.coefficient," "),i.xp6(1),i.uIk("excelRow",b+1)("excelColumn",3)("excelStyle",G.styleTdNotNumberNormal),i.xp6(1),i.Q6J("ngIf","homework"==j.objectType),i.xp6(1),i.Q6J("ngIf","homework"!=j.objectType)}}let je=(()=>{class U extends bt.Q{filterData(j){this.dataFilter=j,this.initStatusObj(),this.getStudent()}getStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.classroomId,getBook:!1,getMark:!0,getAttendance:!1,getPayment:!1,me:this.isStudent??!1,getAssessment:!1}).subscribe({next:b=>{b.list.length&&(this.data=b.list[0]),this.stopStatusObj()},error:b=>{this.errorStatusObj(b.error.message,!0)}}))}downloadTableScore(){Lt.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var j=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_score_student,!0);let b=this.commonService.createFileNameExportFile(["bang_diem_hoc_sinh"+this.data.fullName])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(j,b),Lt.G.closeLoadingEffect(200)}goToEditPoint(j){this.closeDiaglog.emit(),this.myNavigationWithQueryString("/admin/student/submit-score/"+j.classroomId+"/"+j.programId+"/"+j.sessionId,"?studentId="+this.data.id)}viewInput(j){this.inputPointSelect=j}handleMarkStudent(j,b){if(!this.isStudent){var G=this.commonService.handlePointByValueInput(j);this.listMarkNew={id:b,points:G.length>0?G:[-1]}}}saveMark(j){this.isSave=!0,this.listMarkNew&&this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:j.programId,classroomId:j.classroomId,sessionId:j.sessionId,students:[{id:this.data.id,listMarks:[this.listMarkNew]}]}).subscribe(G=>{G?(this.data.marks?.filter(w=>w.id==j.id)?.forEach(w=>w.marks=this.listMarkNew?.points?.find(q=>-1==q)?[]:this.listMarkNew?.points??w.marks),this.getStudent(),this.listMarkNew=void 0,this.inputPointSelect=-1,this.isEdit=!0,this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)):this.errorStatusObj("lang_auto_cap_nhat_diem_khong_thanh_cong",!0),this.isSave=!1}))}editScore(j){j&&this.sAztDialogService.open(lt.h,{data:{...j,canEditName:j.canEditMark},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(b=>{if(b){try{var G=this.data.marks?.find(w=>w.id==j.id);G&&(G.coefficient=b.coefficient,G.name=b.name)}catch{}this.isEdit=!0}})}returnValue(j){return(j.marks??[]).join(" ")}ngOnInit(){super.ngOnInit()}constructor(j,b,G,w,q){super(),this.sAztDialogService=j,this.sAztTimeService=b,this.shareFileFlutterService=G,this.exportExcelService=w,this.studentService=q,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.closeDiaglog=new i.vpe,this.inputPointSelect=-1,this.isSave=!1,this.isEdit=!1,this.commonService=(0,i.f3M)(St.z)}ngOnDestroy(){super.ngOnDestroy()}}return U.\u0275fac=function(j){return new(j||U)(i.Y36(it.C),i.Y36($.D),i.Y36(X.g),i.Y36(at.L),i.Y36(vt.V))},U.\u0275cmp=i.Xpm({type:U,selectors:[["azt-view-table-score-single"]],viewQuery:function(j,b){if(1&j&&i.Gf(ue,5),2&j){let G;i.iGM(G=i.CRH())&&(b.table_score_student=G.first)}},inputs:{data:"data",isStudent:"isStudent",viewDialog:"viewDialog"},outputs:{closeDiaglog:"closeDiaglog"},features:[i._Bn([{provide:rt.fM,useClass:C.WG,deps:[e.Ad,n.o8]},{provide:rt.ab,useFactory:t.fX,deps:[$.D]}]),i.qOj],decls:34,vars:61,consts:[["class","flex justify-end mb-5",4,"ngIf"],[1,"box"],[1,"pt-5","px-5","flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],["class","flex",4,"ngIf"],[4,"ngIf"],["class","table table-report","style","white-space: initial; display: table",4,"ngIf"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score_student",""],[1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","mb-5"],["azt-track-service","view-table-score-single-vS0yZHQHw",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],[1,"w-4","mr-2"],["name","download"],[1,"flex"],["name","download",1,"clickable",2,"width","20px !important","height","20px !important",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","ml-2",3,"matTooltip","click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"pt-3","px-5","flex","justify-end","items-center"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[3,"sendFilter"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[3,"colSpan"],[1,"flex","justify-center","font-bold","items-center"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"flex","items-center"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp","style","color: gray","class","w-5 h-5 inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"text-center",2,"padding","0"],[1,"flex","items-center",2,"position","relative"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltip","id","disabled","value","placeholder","input",4,"ngIf"],["azt-track-service","view-table-score-single-lX3L0QoGBo","class","inline-block btn-edit-point zoom-in",3,"click",4,"ngIf"],["azt-track-service","view-table-score-single-uJE-8eAu46","class","inline-block btn-edit-point zoom-in",3,"matTooltip","disabled","click",4,"ngIf"],[1,"text-center",2,"padding","0 10px 0 10px"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","style","color: gray;","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-external-link zoom-in clickable",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[1,"inline-block","ml-1"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp",1,"w-5","h-5","inline-block","ml-1",2,"color","gray",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltip","id","disabled","value","placeholder","input"],["azt-track-service","view-table-score-single-lX3L0QoGBo",1,"inline-block","btn-edit-point","zoom-in",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-pencil",3,"matTooltip",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-x",3,"matTooltip",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil",3,"matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x",3,"matTooltip"],["azt-track-service","view-table-score-single-uJE-8eAu46",1,"inline-block","btn-edit-point","zoom-in",3,"matTooltip","disabled","click"],["class","loading-upload","type","bootstrap-spinner",4,"ngIf"],["style","color: green;","xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-check",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-check",2,"color","green"],["d","M20 6 9 17l-5-5"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-external-link","zoom-in","clickable",2,"color","gray",3,"matTooltip","click"],["d","M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"],["points","15 3 21 3 21 9"],["x1","10","x2","21","y1","14","y2","3"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"flex","justify-center","font-bold"],[1,"text-center"],[3,"mark",4,"ngIf"]],template:function(j,b){if(1&j&&(i.YNc(0,pe,7,3,"div",0),i.TgZ(1,"div",1)(2,"div",2),i._UZ(3,"azt-student-info-box",3),i.YNc(4,ae,7,6,"div",4),i.qZA(),i.YNc(5,ke,15,9,"azt-mat-dialog-content",5),i.YNc(6,be,18,12,"table",6),i.qZA(),i.TgZ(7,"table",7,8)(9,"thead")(10,"tr")(11,"th",9),i._uU(12),i.ALo(13,"mytranslate"),i.qZA(),i.TgZ(14,"th",9),i._uU(15),i.ALo(16,"mytranslate"),i.qZA(),i.TgZ(17,"th",9),i._uU(18),i.ALo(19,"mytranslate"),i.qZA(),i.TgZ(20,"th",9),i._uU(21),i.ALo(22,"mytranslate"),i.qZA()()(),i.TgZ(23,"tbody"),i.YNc(24,Jt,10,17,"tr",10),i.TgZ(25,"tr")(26,"td",9),i._uU(27),i.qZA(),i.TgZ(28,"td",9),i._uU(29),i.ALo(30,"mytranslate"),i.qZA(),i._UZ(31,"td"),i.TgZ(32,"td",9),i._uU(33),i.qZA()()()()),2&j){let G,w,q,Q,wt,Et;i.Q6J("ngIf",b.isStudent&&!b.viewDialog),i.xp6(3),i.Q6J("name",b.data.fullName)("parentFullName",b.data.parentFullName)("parentId",b.data.parentId)("parentPhone",b.data.parentPhone)("phone",b.data.phone)("email",b.data.email)("avatar",b.data.avatar)("gender",b.data.gender)("hasUser",b.data.hasUser),i.xp6(1),i.Q6J("ngIf",b.viewDialog),i.xp6(1),i.Q6J("ngIf",b.viewDialog),i.xp6(1),i.Q6J("ngIf",b.isStudent&&!b.viewDialog),i.xp6(1),i.Q6J("border",1),i.xp6(4),i.uIk("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",b.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(13,50,"lang_student_export_excel_no")," "),i.xp6(2),i.uIk("excelWidth",10)("excelRow",0)("excelColumn",1)("excelStyle",b.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(16,52,"lang_student_name_component_score")," "),i.xp6(2),i.uIk("excelWidth",10)("excelRow",0)("excelColumn",2)("excelStyle",b.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(19,54,"lang_auto_he_so")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",b.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(22,56,"lang_testbank_update_exam_point")," "),i.xp6(3),i.Q6J("ngForOf",null!==(G=b.data.marks)&&void 0!==G?G:i.DdM(60,ye)),i.xp6(2),i.uIk("excelRow",(null!==(w=null==b.data.marks?null:b.data.marks.length)&&void 0!==w?w:0)+1)("excelColumn",0)("excelStyle",b.styleTdNormal),i.xp6(1),i.hij(" ",(null!==(q=null==b.data.marks?null:b.data.marks.length)&&void 0!==q?q:0)+1," "),i.xp6(1),i.uIk("excelRow",(null!==(Q=null==b.data.marks?null:b.data.marks.length)&&void 0!==Q?Q:0)+1)("excelColumn",1)("excelStyle",b.styleTdNormal),i.xp6(1),i.hij(" ",i.lcZ(30,58,"lang_business_diem_tong_ket")," "),i.xp6(2),i.uIk("excelRow",(null!==(wt=null==b.data.marks?null:b.data.marks.length)&&void 0!==wt?wt:0)+1)("excelColumn",3)("excelStyle",b.styleTdNormal),i.xp6(1),i.uIk("excelRow",(null!==(Et=null==b.data.marks?null:b.data.marks.length)&&void 0!==Et?Et:0)+1)("excelColumn",4)("excelStyle",b.styleTdNotNumberNormal),i.xp6(1),i.hij(" ",b.data.averageMark," ")}},dependencies:[Nt.sg,Nt.O5,et.gM,F.B,E.R,pt.n,tt.a,Ct,Dt.$Z,ee.Nh5,ft.JV,ft.YK],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),U})(),Wt=(()=>{class U extends yt.e{closeDiaglog(j){this.dialogRef.close(j)}ngOnInit(){super.ngOnInit()}constructor(j,b){super(b,j),this.dialogRef=j,this.data=b}ngOnDestroy(){super.ngOnDestroy()}}return U.\u0275fac=function(j){return new(j||U)(i.Y36(c.so,8),i.Y36(c.WI,8))},U.\u0275cmp=i.Xpm({type:U,selectors:[["azt-table-score-single"]],features:[i._Bn([{provide:rt.fM,useClass:C.WG,deps:[e.Ad,n.o8]},{provide:rt.ab,useFactory:t.fX,deps:[$.D]}]),i.qOj],decls:1,vars:3,consts:[[3,"data","isStudent","viewDialog","closeDiaglog"]],template:function(j,b){1&j&&(i.TgZ(0,"azt-view-table-score-single",0),i.NdJ("closeDiaglog",function(w){return b.closeDiaglog(w)}),i.qZA()),2&j&&i.Q6J("data",b.data.student)("isStudent",!b.data.isTeacher)("viewDialog",!0)},dependencies:[je],encapsulation:2}),U})()},9400:(xe,Ut,g)=>{g.d(Ut,{B:()=>j});var rt=g(52572),n=g(47496),e=g(89156),c=g(6050),C=g(93283),t=g(63278),yt=g(86),$=g(81176),i=g(65879),St=g(68172),bt=g(68719),Lt=g(84003),lt=g(2783),it=g(59708),X=g(38228),at=g(21266),vt=g(97151),Nt=g(96814),et=g(92596),F=g(43389),E=g(83306),pt=g(91675),tt=g(71646),ut=g(51261),ft=g(25368),_t=g(1103),Ft=g(60381),Bt=g(37722),Rt=g(36727);const re=["table_score"];function Zt(b,G){1&b&&(i.TgZ(0,"div",6)(1,"h3",7),i._uU(2),i.ALo(3,"mytranslate"),i.qZA()()),2&b&&(i.xp6(2),i.Oqu(i.lcZ(3,1,"lang_student_enter_score")))}function kt(b,G){if(1&b){const w=i.EpF();i.TgZ(0,"button",17),i.NdJ("click",function(){i.CHM(w);const Q=i.oxw(2);return i.KtG(Q.createNewScore())}),i.O4$(),i.TgZ(1,"svg",18),i._UZ(2,"line",19)(3,"line",20),i.qZA(),i.kcU(),i.TgZ(4,"span"),i._uU(5),i.ALo(6,"mytranslate"),i.qZA()()}2&b&&(i.xp6(5),i.Oqu(i.lcZ(6,1,"lang_student_enter_new_component_score")))}function K(b,G){if(1&b){const w=i.EpF();i.TgZ(0,"button",21),i.NdJ("click",function(){i.CHM(w);const Q=i.oxw(2);return i.KtG(Q.downloadTableScore())}),i.TgZ(1,"div",22),i._UZ(2,"lucide-icon",23),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.ALo(5,"mytranslate"),i.qZA()()}2&b&&(i.xp6(4),i.Oqu(i.lcZ(5,1,"lang_student_export_a_grade_sheet")))}function P(b,G){1&b&&i._UZ(0,"azt-loading-ui",26)}function ht(b,G){if(1&b){const w=i.EpF();i.TgZ(0,"button",24),i.NdJ("click",function(){i.CHM(w);const Q=i.oxw(2);return i.KtG(Q.saveMark())}),i.YNc(1,P,1,0,"azt-loading-ui",25),i._uU(2),i.ALo(3,"mytranslate"),i.qZA()}if(2&b){const w=i.oxw(2);i.Q6J("disabled",0==w.listStudentMark.length||w.isSave),i.xp6(1),i.Q6J("ngIf",w.isSave),i.xp6(1),i.hij(" ",i.lcZ(3,3,"lang_auto_luu")," ")}}function xt(b,G){if(1&b){const w=i.EpF();i.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"azt-search-box",11),i.NdJ("onSearch",function(Q){i.CHM(w);const wt=i.oxw();return i.KtG(wt.onSearchBox(Q.searchObj))}),i.ALo(4,"mytranslate"),i.qZA()(),i.TgZ(5,"div",12),i.YNc(6,kt,7,3,"button",13),i.YNc(7,K,6,3,"button",14),i.TgZ(8,"flexed-on-the-top",15),i.YNc(9,ht,4,5,"button",16),i.qZA()()()()}if(2&b){const w=i.oxw();i.xp6(3),i.Q6J("isServerSearch",!0)("placeholder",i.lcZ(4,6,"lang_core_tim_theo_ten_phone_email")),i.xp6(3),i.Q6J("ngIf","ENTER_SCORE"==w.screenType),i.xp6(1),i.Q6J("ngIf","TABLE_SCORE"==w.screenType),i.xp6(1),i.Q6J("colorBackground","#f0f8ffe8"),i.xp6(1),i.Q6J("ngIf","ENTER_SCORE"==w.screenType)}}function Ct(b,G){1&b&&i._UZ(0,"azt-loading-effect")}function Dt(b,G){1&b&&(i.TgZ(0,"div",32),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&b&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function ee(b,G){if(1&b&&(i.TgZ(0,"div",48)(1,"span"),i._uU(2),i.ALo(3,"mytranslate"),i.qZA(),i.TgZ(4,"span",49),i._uU(5),i.qZA()()),2&b){const w=i.oxw().$implicit;i.xp6(2),i.Oqu(i.lcZ(3,2,"lang_auto_he_so")),i.xp6(3),i.Oqu(w.coefficient)}}function ue(b,G){if(1&b){const w=i.EpF();i.TgZ(0,"button",50),i.NdJ("click",function(){i.CHM(w);const Q=i.oxw().$implicit,wt=i.oxw(3);return i.KtG(wt.createNewScore(Q))}),i.ALo(1,"mytranslate"),i.O4$(),i.TgZ(2,"svg",51),i._UZ(3,"path",52)(4,"path",53),i.qZA()()}2&b&&i.s9C("matTooltip",i.lcZ(1,1,"lang_student_sua_dau_diem"))}function pe(b,G){if(1&b){const w=i.EpF();i.TgZ(0,"button",54),i.NdJ("click",function(){i.CHM(w);const Q=i.oxw().$implicit,wt=i.oxw(3);return i.KtG(wt.deleteMark(Q))}),i.ALo(1,"mytranslate"),i.O4$(),i.TgZ(2,"svg",55),i._UZ(3,"path",56)(4,"path",57)(5,"path",58)(6,"line",59)(7,"line",60),i.qZA()()}2&b&&i.s9C("matTooltip",i.lcZ(1,1,"lang_button_delete"))}function ae(b,G){if(1&b&&(i.TgZ(0,"th",40)(1,"div",41)(2,"div",42)(3,"div",43),i._uU(4),i.qZA(),i.TgZ(5,"div",44),i.YNc(6,ee,6,4,"div",45),i.YNc(7,ue,5,3,"button",46),i.YNc(8,pe,8,3,"button",47),i.qZA()()()()),2&b){const w=G.$implicit,q=i.oxw(3);i.xp6(3),i.s9C("matTooltip",w.name),i.xp6(1),i.Oqu(w.name),i.xp6(2),i.Q6J("ngIf",w.coefficient),i.xp6(1),i.Q6J("ngIf",!q.isStudent),i.xp6(1),i.Q6J("ngIf",w.canEditName)}}function Pe(b,G){1&b&&(i.TgZ(0,"th",61),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&b&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"lang_business_diem_tong_ket")))}function ze(b,G){if(1&b&&(i.TgZ(0,"div",71),i._UZ(1,"azt-check-mark",72),i.qZA()),2&b){const w=i.oxw().$implicit;i.xp6(1),i.Q6J("mark",w.marks.length>0?w.marks[0]:"")}}function Ke(b,G){if(1&b&&(i.TgZ(0,"div",71),i._UZ(1,"azt-check-mark",72),i.qZA()),2&b){const w=i.oxw().$implicit,q=i.oxw(4);i.xp6(1),i.Q6J("mark",q.returnValue(w))}}function Ue(b,G){if(1&b){const w=i.EpF();i.TgZ(0,"input",73),i.NdJ("input",function(Q){i.CHM(w);const wt=i.oxw().index,Et=i.oxw().index,se=i.oxw(3);return i.KtG(se.handleMarkStudent(Q,Et,wt))}),i.ALo(1,"mytranslate"),i.ALo(2,"mytranslate"),i.qZA()}if(2&b){const w=i.oxw().$implicit,q=i.oxw().$implicit,Q=i.oxw(3);i.s9C("matTooltip",i.lcZ(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),i.s9C("id",w.id.toString()+"-"+q.id.toString()),i.s9C("placeholder",i.lcZ(2,7,"lang_auto_nhap_diem")),i.Q6J("matTooltipDisabled",!w.canEditMark)("value",Q.returnValue(w))}}function We(b,G){if(1&b&&(i.TgZ(0,"td",67),i.YNc(1,ze,2,1,"div",68),i.YNc(2,Ke,2,1,"div",68),i.YNc(3,Ue,3,9,"input",69),i._UZ(4,"div",70),i.qZA()),2&b){const w=G.$implicit,q=i.oxw().$implicit,Q=i.oxw(3);i.Q6J("hidden","TABLE_SCORE"==Q.screenType),i.xp6(1),i.Q6J("ngIf","homework"==w.objectType),i.xp6(1),i.Q6J("ngIf","homework"!=w.objectType&&(!w.canEditMark||"ENTER_SCORE"!=Q.screenType)),i.xp6(1),i.Q6J("ngIf","homework"!=w.objectType&&w.canEditMark),i.xp6(1),i.MGl("id","error-",w.id.toString()+"-"+q.id.toString(),""),i.Q6J("hidden",!0)}}function Fe(b,G){if(1&b&&(i.TgZ(0,"td")(1,"div",74),i._uU(2),i.qZA()()),2&b){const w=i.oxw().$implicit;i.xp6(2),i.hij(" ",w.averageMark," ")}}const de=function(){return[]};function Je(b,G){if(1&b){const w=i.EpF();i.TgZ(0,"tr",62)(1,"td",63),i.NdJ("click",function(){const wt=i.CHM(w).$implicit,Et=i.oxw(3);return i.KtG(Et.openDialogTableSingle(wt))}),i._UZ(2,"azt-student-info-box",64),i.qZA(),i.TgZ(3,"td",65),i._uU(4),i.ALo(5,"formatStudentCodeToNumber"),i.qZA(),i.YNc(6,We,5,6,"td",66),i.YNc(7,Fe,3,1,"td",30),i.qZA()}if(2&b){const w=G.$implicit,q=i.oxw(3);let Q;i.Q6J("id","row_student_"+w.id),i.xp6(2),i.Q6J("name",w.fullName)("parentFullName",w.parentFullName)("parentId",w.parentId)("parentPhone",w.parentPhone)("avatar",w.avatar)("gender",w.gender)("hasUser",w.hasUser)("schoolName",w.schoolName)("classrooms",w.classrooms)("joinedAt",w.joinedAt),i.xp6(2),i.Oqu(w.identificationNumber?i.xi3(5,14,w.identificationNumber,6):""),i.xp6(2),i.Q6J("ngForOf",null!==(Q=w.marks)&&void 0!==Q?Q:i.DdM(17,de)),i.xp6(1),i.Q6J("ngIf","TABLE_SCORE"==q.screenType)}}function Xe(b,G){if(1&b&&(i.TgZ(0,"div",33)(1,"drag-scroll")(2,"table",34)(3,"thead")(4,"tr")(5,"th",35),i._uU(6),i.ALo(7,"mytranslate"),i.qZA(),i.TgZ(8,"th",36),i._uU(9),i.ALo(10,"mytranslate"),i.qZA(),i.YNc(11,ae,9,5,"th",37),i.YNc(12,Pe,3,3,"th",38),i.qZA()(),i.TgZ(13,"tbody"),i.YNc(14,Je,8,18,"tr",39),i.qZA()()()()),2&b){const w=i.oxw(2);let q,Q;i.xp6(6),i.Oqu(i.lcZ(7,5,"lang_auto_ho_va_ten")),i.xp6(3),i.Oqu(i.lcZ(10,7,"lang_auto_so_bao_danh")),i.xp6(2),i.Q6J("ngForOf",null!==(q=null==w.dataMark?null:w.dataMark.list)&&void 0!==q?q:i.DdM(9,de)),i.xp6(1),i.Q6J("ngIf","TABLE_SCORE"==w.screenType),i.xp6(2),i.Q6J("ngForOf",null!==(Q=null==w.dataStudent?null:w.dataStudent.list)&&void 0!==Q?Q:i.DdM(10,de))}}function qe(b,G){if(1&b&&(i.TgZ(0,"div",77),i._UZ(1,"azt-student-info-box",78),i.TgZ(2,"div",79)(3,"div",80),i._uU(4),i.ALo(5,"mytranslate"),i.qZA(),i.TgZ(6,"div",80),i._uU(7),i.qZA()()()),2&b){const w=G.$implicit;i.xp6(1),i.Q6J("name",w.fullName)("parentFullName",w.parentFullName)("parentId",w.parentId)("parentPhone",w.parentPhone)("phone",w.phone)("email",w.email)("avatar",w.avatar)("gender",w.gender)("hasUser",w.hasUser),i.xp6(3),i.hij(" ",i.lcZ(5,11,"lang_business_diem_tong_ket")," "),i.xp6(3),i.hij(" ",w.averageMark," ")}}function Qe(b,G){1&b&&i._UZ(0,"lucide-icon",85)}function tn(b,G){1&b&&i._UZ(0,"lucide-icon",86)}function en(b,G){if(1&b&&(i.TgZ(0,"div",96)(1,"span"),i._uU(2),i.ALo(3,"mytranslate"),i.qZA(),i.TgZ(4,"span",49),i._uU(5),i.qZA()()),2&b){const w=i.oxw().$implicit;i.xp6(2),i.Oqu(i.lcZ(3,2,"lang_auto_he_so")),i.xp6(3),i.Oqu(w.coefficient)}}function nn(b,G){if(1&b&&(i.TgZ(0,"div",97),i._UZ(1,"azt-check-mark",72),i.qZA()),2&b){const w=i.oxw().$implicit;i.xp6(1),i.Q6J("mark",w.marks.length>0?w.marks[0]:"")}}function Ye(b,G){if(1&b&&(i.TgZ(0,"div",97),i._UZ(1,"azt-check-mark",72),i.qZA()),2&b){const w=i.oxw().$implicit,q=i.oxw(6);i.xp6(1),i.Q6J("mark",q.returnValue(w))}}function Te(b,G){if(1&b&&(i.TgZ(0,"tr")(1,"td")(2,"div",92)(3,"div"),i._uU(4),i.YNc(5,en,6,4,"div",93),i.qZA()()(),i.TgZ(6,"td",94),i.YNc(7,nn,2,1,"div",95),i.YNc(8,Ye,2,1,"div",95),i.qZA()()),2&b){const w=G.$implicit;i.xp6(4),i.hij(" ",w.name," "),i.xp6(1),i.Q6J("ngIf",w.coefficient),i.xp6(2),i.Q6J("ngIf","homework"==w.objectType),i.xp6(1),i.Q6J("ngIf","homework"!=w.objectType)}}function ye(b,G){if(1&b&&(i.TgZ(0,"div",88)(1,"table",89)(2,"thead")(3,"tr")(4,"th",90),i._uU(5),i.ALo(6,"mytranslate"),i.qZA(),i.TgZ(7,"th",91),i._uU(8),i.ALo(9,"mytranslate"),i.qZA()()(),i.TgZ(10,"tbody"),i.YNc(11,Te,9,4,"tr",76),i.qZA()()()),2&b){const w=i.oxw(2).$implicit;i.xp6(5),i.Oqu(i.lcZ(6,3,"lang_student_name_component_score")),i.xp6(3),i.Oqu(i.lcZ(9,5,"lang_testbank_update_exam_point")),i.xp6(3),i.Q6J("ngForOf",w.marks)}}function ke(b,G){if(1&b&&(i.ynx(0),i.YNc(1,ye,12,7,"div",87),i.BQk()),2&b){const w=i.oxw(4);i.xp6(1),i.Q6J("ngIf",w.isStudent)}}function Ne(b,G){if(1&b){const w=i.EpF();i.TgZ(0,"div")(1,"h3",81)(2,"span",82),i.NdJ("click",function(){const wt=i.CHM(w).$implicit;return i.KtG(wt.expand=!wt.expand)}),i._uU(3),i.ALo(4,"mytranslate"),i.YNc(5,Qe,1,0,"lucide-icon",83),i.YNc(6,tn,1,0,"lucide-icon",84),i.qZA()(),i.YNc(7,ke,2,1,"ng-container",30),i.qZA()}if(2&b){const w=G.$implicit;i.xp6(3),i.AsE(" ",i.lcZ(4,5,"lang_core_thang")," ",w.date," "),i.xp6(2),i.Q6J("ngIf",w.expand),i.xp6(1),i.Q6J("ngIf",!w.expand),i.xp6(1),i.Q6J("ngIf",w.expand)}}function Se(b,G){if(1&b&&(i.TgZ(0,"div"),i.YNc(1,qe,8,13,"div",75),i.YNc(2,Ne,8,7,"div",76),i.qZA()),2&b){const w=i.oxw(2);let q;i.xp6(1),i.Q6J("ngForOf",null!==(q=null==w.dataStudent?null:w.dataStudent.list)&&void 0!==q?q:i.DdM(2,de)),i.xp6(1),i.Q6J("ngForOf",w.listGroupMarkDate)}}function ve(b,G){if(1&b){const w=i.EpF();i.TgZ(0,"azt-paging",101),i.NdJ("goToPaginationPage",function(Q){i.CHM(w);const wt=i.oxw(3);return i.KtG(wt.setPageStudent(Q))}),i.qZA()}if(2&b){const w=i.oxw(3);i.Q6J("pageObj",w.pageObj)}}function Ie(b,G){if(1&b&&(i.TgZ(0,"div",12),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&b){const w=i.oxw(3);i.xp6(1),i.AsE(" ",w.dataStudent.total," ",i.lcZ(2,2,"lang_notify_list_students")," ")}}function be(b,G){if(1&b&&(i.TgZ(0,"div",98),i._UZ(1,"div"),i.YNc(2,ve,1,1,"azt-paging",99),i.YNc(3,Ie,3,4,"div",100),i.qZA()),2&b){const w=i.oxw(2);i.xp6(2),i.Q6J("ngIf",w.dataStudent.total>w.pageObj.pageSize),i.xp6(1),i.Q6J("ngIf",!w.isStudent)}}function we(b,G){if(1&b&&(i.TgZ(0,"div",27),i.YNc(1,Dt,3,3,"div",28),i.YNc(2,Xe,15,11,"div",29),i.YNc(3,Se,3,3,"div",30),i.qZA(),i.YNc(4,be,4,2,"div",31)),2&b){const w=i.oxw();let q,Q,wt;i.xp6(1),i.Q6J("ngIf",!w.isStudent&&0==(null==w.dataStudent||null==w.dataStudent.list?null:w.dataStudent.list.length)&&0==(null!==(q=null==w.dataStudent?null:w.dataStudent.total)&&void 0!==q?q:0)),i.xp6(1),i.Q6J("ngIf",!w.isStudent&&(null!==(Q=null==w.dataStudent||null==w.dataStudent.list?null:w.dataStudent.list.length)&&void 0!==Q?Q:0)>0),i.xp6(1),i.Q6J("ngIf",w.isStudent),i.xp6(1),i.Q6J("ngIf",w.dataStudent&&w.dataStudent.total&&(null!==(wt=null==w.dataStudent?null:w.dataStudent.total)&&void 0!==wt?wt:0)>0)}}function on(b,G){if(1&b&&(i.TgZ(0,"th",104),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&b){const w=G.$implicit,q=G.index,Q=i.oxw(2);i.uIk("excelWidth",20)("excelRow",0)("excelColumn",6+q)("excelStyle",Q.styleThNormal),i.xp6(1),i.AsE(" ",w.name+"\n"," "," ("+i.lcZ(2,6,"lang_auto_he_so")+" "+w.coefficient+")"," ")}}function Jt(b,G){if(1&b&&i._UZ(0,"azt-check-mark",72),2&b){const w=i.oxw().$implicit;i.Q6J("mark",w.marks.length>0?w.marks[0]:"")}}function je(b,G){if(1&b&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&b){const w=i.oxw().$implicit,q=i.oxw(3);i.xp6(1),i.hij(" ",q.returnValue(w)," ")}}function Wt(b,G){if(1&b&&(i.TgZ(0,"td",104),i.YNc(1,Jt,1,1,"azt-check-mark",106),i.YNc(2,je,2,1,"span",30),i.qZA()),2&b){const w=G.$implicit,q=G.index,Q=i.oxw().index,wt=i.oxw(2);i.uIk("excelRow",Q+1)("excelColumn",6+q)("excelStyle",wt.styleTdNormal),i.xp6(1),i.Q6J("ngIf","homework"==w.objectType),i.xp6(1),i.Q6J("ngIf","homework"!=w.objectType)}}function U(b,G){if(1&b&&(i.TgZ(0,"tr")(1,"td",104),i._uU(2),i.qZA(),i.TgZ(3,"td",104),i._uU(4),i.qZA(),i.TgZ(5,"td",104),i._uU(6),i.qZA(),i.TgZ(7,"td",104),i._uU(8),i.qZA(),i.TgZ(9,"td",104),i._uU(10),i.ALo(11,"formatOnlyDateByUserUnitPipe"),i.qZA(),i.TgZ(12,"td",104),i._uU(13),i.ALo(14,"mytranslate"),i.ALo(15,"mytranslate"),i.qZA(),i.YNc(16,Wt,3,5,"td",105),i.TgZ(17,"td",104),i._uU(18),i.qZA()()),2&b){const w=G.$implicit,q=G.index,Q=i.oxw(2);let wt,Et;i.xp6(1),i.uIk("excelRow",q+1)("excelColumn",0)("excelStyle",Q.styleTdNormal),i.xp6(1),i.hij(" ",null!=w&&w.fullName?q+1:""," "),i.xp6(1),i.uIk("excelRow",q+1)("excelColumn",1)("excelStyle",Q.styleTdNormalLeft),i.xp6(1),i.hij(" ",null==w?null:w.fullName," "),i.xp6(1),i.uIk("excelRow",q+1)("excelColumn",2)("excelStyle",Q.styleTdNotNumberNormal),i.xp6(1),i.hij(" ",null==w?null:w.phone," "),i.xp6(1),i.uIk("excelRow",q+1)("excelColumn",3)("excelStyle",Q.styleTdNormal),i.xp6(1),i.hij(" ",null==w?null:w.email," "),i.xp6(1),i.uIk("excelRow",q+1)("excelColumn",4)("excelStyle",Q.styleTdNormal),i.xp6(1),i.hij(" ",i.lcZ(11,29,null==w?null:w.birthday)," "),i.xp6(2),i.uIk("excelRow",q+1)("excelColumn",5)("excelStyle",Q.styleTdNormal),i.xp6(1),i.hij(" ",1==(null==w?null:w.gender)?i.lcZ(14,31,"lang_student_export_excel_gender_male"):0==(null==w?null:w.gender)?i.lcZ(15,33,"lang_student_export_excel_gender_female"):""," "),i.xp6(3),i.Q6J("ngForOf",null!==(wt=w.marks)&&void 0!==wt?wt:i.DdM(35,de)),i.xp6(1),i.uIk("excelRow",q+1)("excelColumn",6+(null!==(Et=null==w.marks?null:w.marks.length)&&void 0!==Et?Et:0))("excelStyle",Q.styleTdNotNumberNormal),i.xp6(1),i.hij(" ",w.averageMark," ")}}function Ot(b,G){if(1&b&&(i.TgZ(0,"table",102,103)(2,"thead")(3,"tr")(4,"th",104),i._uU(5),i.ALo(6,"mytranslate"),i.qZA(),i.TgZ(7,"th",104),i._uU(8),i.ALo(9,"mytranslate"),i.qZA(),i.TgZ(10,"th",104),i._uU(11),i.ALo(12,"mytranslate"),i.qZA(),i.TgZ(13,"th",104),i._uU(14),i.ALo(15,"mytranslate"),i.qZA(),i.TgZ(16,"th",104),i._uU(17),i.ALo(18,"mytranslate"),i.qZA(),i.TgZ(19,"th",104),i._uU(20),i.ALo(21,"mytranslate"),i.qZA(),i.YNc(22,on,3,8,"th",105),i.TgZ(23,"th",104),i._uU(24),i.ALo(25,"mytranslate"),i.qZA()()(),i.TgZ(26,"tbody"),i.YNc(27,U,19,36,"tr",76),i.qZA()()),2&b){const w=i.oxw();let q,Q,wt;i.Q6J("border",1),i.xp6(4),i.uIk("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",w.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(6,38,"lang_student_export_excel_no")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",w.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(9,40,"lang_student_export_excel_full_name")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",w.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(12,42,"lang_number_phone")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",w.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(15,44,"lang_student_export_excel_email")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",w.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(18,46,"lang_student_export_excel_birthday")," "),i.xp6(2),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",w.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(21,48,"lang_student_export_excel_gender")," "),i.xp6(2),i.Q6J("ngForOf",null!==(q=null==w.dataMark?null:w.dataMark.list)&&void 0!==q?q:i.DdM(52,de)),i.xp6(1),i.uIk("excelWidth",20)("excelRow",0)("excelColumn",6+(null!==(Q=null==w.dataMark||null==w.dataMark.list?null:w.dataMark.list.length)&&void 0!==Q?Q:0))("excelStyle",w.styleThNormal),i.xp6(1),i.hij(" ",i.lcZ(25,50,"lang_business_diem_tong_ket")," "),i.xp6(3),i.Q6J("ngForOf",null!==(wt=null==w.dataStudent?null:w.dataStudent.list)&&void 0!==wt?wt:i.DdM(53,de))}}let j=(()=>{class b extends n.Q{goToProfile(w,q){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+w+"/"+q,"?backto="+encodeURIComponent("ENTER_SCORE"==this.screenType?"/admin/student/submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"/admin/student/classroom-details/"+this.classroomId+"/4"))}setPageStudent(w){this.myNavigationWithQueryString("/admin/student/"+("ENTER_SCORE"==this.screenType?"submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"classroom-details/"+this.classroomId+"/4"),"?page="+w),this.initStatusObj(),this.pageObj.setPageNumber(w),this.getListStudent()}openDialogTableSingle(w){"ENTER_SCORE"!=this.screenType?this.sAztDialogService.open($.m,{width:"750px",restoreFocus:!1,data:{student:w,isTeacher:!0}}).afterClosed().subscribe(q=>{q&&this.getListStudent()}):(w.classroomId||w.id)&&this.goToProfile(w.classroomId,w.id)}onSearchBox(w){this.searchContentObj=w,this.setPageStudent(1),this.initStatusObj()}downloadTableScore(){e.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var w=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let q=this.commonService.createFileNameExportFile(["bang_diem_lop_"+this.classroomObj?.name])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(w,q),e.G.closeLoadingEffect(200)}handlePointByValueInput(w){var q=w.target;let Q=""===q.value.trim()?"":q.value;Q=Q.replace(/[^\d\s,\.]/g,""),Q=Q.replace(/,/g,"."),Q=Q.replace(/\s+/g," "),Q=Q.replace(/\.{2,}/g,"."),Q=Q.replace(/(?:^|\s)\./g," 0."),Q=Q.replace(/^\s+/,""),Q=Q.replace(/\.\s/g," ");var wt=Q.split(" ");if(wt.length>0){var Et=""!=wt[wt.length-1]?wt[wt.length-1]:wt[wt.length-2];Number(Et)>-1?Et.split(".").length>1&&Et.split(".")[1].length>2&&(Q=Q.substring(0,Q.length-1)):Q=Q.replace(/\.$/," ")}return q.value=Q,Q.split(" ").filter(R=>""!=R).map(R=>parseFloat(R))}handleMarkStudent(w,q,Q){var wt=this.handlePointByValueInput(w);wt=0==wt.length?[-1]:wt;var Et=this.dataStudent.list[q],se=this.dataMark.list[Q],I=this.listStudentMark.findIndex(S=>S.id==Et.id);if(I>-1){var R=(this.listStudentMark[I].listMarks??[]).findIndex(S=>S.id==se.id);R>-1?this.listStudentMark[I].listMarks[R].points=wt:this.listStudentMark[I].listMarks?.push({id:se.id,points:wt})}else this.listStudentMark.push({id:Et.id,listMarks:[{id:se.id,points:wt}]})}returnValue(w){return(w.marks??[]).join(" ")}saveMark(){this.isSave=!0,this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listStudentMark}).subscribe({next:q=>{this.getListStudent(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0),this.isSave=!1},error:q=>{this.errorStatusObj(q.error.message,!0),this.isSave=!1}}))}createNewScore(w){this.isStudent||this.sAztDialogService.open(yt.h,{data:w||{programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(Q=>{Q&&this.getListMark()})}getListMark(){this.waitDestroy(this.commonMarkService.apiCommonMarksListPost({page:this.pageMark,size:1e3,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId}).subscribe({next:q=>{this.dataMark=q,this.getListStudent()},error:q=>{this.errorStatusObj(q.error.message,!0)}}))}deleteMark(w){var q=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+w.name+" </div> ?";this.sAztDialogService.open(C.s,{data:{content:q},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(Q=>{Q&&this.waitDestroy(this.commonMarkService.apiCommonMarksIdDelete(w.id).subscribe({next:wt=>{this.getListMark()},error:wt=>{this.errorStatusObj(wt.error.message,!0)}}))})}getClassroomObj(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(w=>{1==w.success&&(this.classroomObj=w.data?.obj,this.successStatusObj())}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1}).subscribe({next:q=>{this.dataStudent=q,this.pageObj.setTotalPages(this.dataStudent?.total??0),this.isStudent?this.handleGroupMarkByDate(q.list):setTimeout(()=>this.scrollElementStudentById(),500),this.stopStatusObj()},error:q=>{this.errorStatusObj(q.error.message,!0)}}))}handleGroupMarkByDate(w){let q=[];w.forEach(wt=>{let Et=wt.marks?.map(se=>({...se,monthAndYear:this.sAztTimeService.formatDateToMonthYear(se.createdAt)}))??[];q=q.concat(Et)});let Q=this.commonService.arrayToDictionary(q,wt=>wt.monthAndYear);this.listGroupMarkDate=Object.entries(Q).map(([wt,Et])=>({date:wt,marks:Et,expand:!1}))}scrollElementStudentById(){if(this.studentId){var w=document.getElementById("row_student_"+this.studentId);w&&w.scrollIntoView({behavior:"smooth",block:"start"})}}ngOnInit(){(0,rt.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.studentId=this.commonService.getMyQueryParam("studentId"),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))}),super.ngOnInit(),"ENTER_SCORE"==this.screenType?this.getListMark():this.getListStudent(),this.getClassroomObj()}constructor(w,q,Q,wt,Et,se,I,R){super(),this.commonMarkService=w,this.studentService=q,this.sAztTimeService=Q,this.sAztDialogService=wt,this.classroomService=Et,this.exportExcelService=se,this.activeRoute=I,this.shareFileFlutterService=R,this.screenType="ENTER_SCORE",this.classroomId=0,this.programId=0,this.sessionId=0,this.isStudent=!0,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.pageMark=1,this.listStudentMark=[],this.listGroupMarkDate=[],this.isSave=!1,this.pageObj=new c.m(20),this.searchContentObj=new t.h}}return b.\u0275fac=function(w){return new(w||b)(i.Y36(St.Q),i.Y36(bt.V),i.Y36(Lt.D),i.Y36(lt.C),i.Y36(it.u),i.Y36(X.L),i.Y36(at.gz),i.Y36(vt.g))},b.\u0275cmp=i.Xpm({type:b,selectors:[["app-table-score"]],viewQuery:function(w,q){if(1&w&&i.Gf(re,5),2&w){let Q;i.iGM(Q=i.CRH())&&(q.table_answer=Q.first)}},inputs:{screenType:"screenType",classroomId:"classroomId",programId:"programId",sessionId:"sessionId",isStudent:"isStudent"},features:[i.qOj],decls:7,vars:5,consts:[[1,"grid","grid-cols-12","gap-6","mt-5"],["class","col-span-12 md:col-span-6",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12",4,"ngIf"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","placeholder","onSearch"],[1,"flex","justify-end"],["azt-track-service","enter-score-ULGPeBf6V","class","btn btn-primary flex mr-2",3,"click",4,"ngIf"],["azt-track-service","table-score-n5S54LPUX","class","btn btn-primary flex btn-download-excel",3,"click",4,"ngIf"],[3,"colorBackground"],["azt-track-service","enter-score-OlvWZNI2DZ","class","btn btn-primary shadow-md sm:mt-0 ml-2",3,"disabled","click",4,"ngIf"],["azt-track-service","enter-score-ULGPeBf6V",1,"btn","btn-primary","flex","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","flex","items-center","justify-center"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],["azt-track-service","table-score-n5S54LPUX",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],[1,"w-5","h-5","mr-2"],["name","download"],["azt-track-service","enter-score-OlvWZNI2DZ",1,"btn","btn-primary","shadow-md","sm:mt-0","ml-2",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["class","block","style","height: 100%",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-10","text-center"],[1,"block",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center","style","max-width: 120px !important",4,"ngFor","ngForOf"],["class","text-center whitespace-nowrap",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"text-center",2,"max-width","120px !important"],[1,"flex","items-center","justify-center"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],[1,"flex","justify-between",2,"width","max-content"],["class","col-score","class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["azt-track-service","enter-score-YQX6a-qxwK","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],["azt-track-service","table-score-8Xr_zTWDT","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],["azt-track-service","enter-score-YQX6a-qxwK",1,"inline-block","ml-1",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],["azt-track-service","table-score-8Xr_zTWDT",1,"inline-block","ml-1",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-trash-2",2,"color","red"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","x2","10","y1","11","y2","17"],["x1","14","x2","14","y1","11","y2","17"],[1,"text-center","whitespace-nowrap"],[3,"id"],["azt-track-service","table-score-iwGAjYKV2",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",3,"hidden",4,"ngFor","ngForOf"],[1,"text-center",3,"hidden"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input"],[1,"flex","justify-center","font-bold"],["class","box p-3 mb-5 flex justify-between",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"box","p-3","mb-5","flex","justify-between"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"text-center"],[1,"font-bold"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","table-score-4mYihdNPO",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px!important; height: 18px!important; vertical-align: top;",4,"ngIf"],["name","chevron-right","style","width: 18px!important; height: 18px!important; vertical-align: top;",4,"ngIf"],["name","chevron-down",2,"width","18px!important","height","18px!important","vertical-align","top"],["name","chevron-right",2,"width","18px!important","height","18px!important","vertical-align","top"],["class","box mt-3 mb-1",4,"ngIf"],[1,"box","mt-3","mb-1"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","100px"],[1,"flex","items-center"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],[1,"text-center","font-bold"],["style","max-width: 100px",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[2,"max-width","100px"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score",""],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[3,"mark",4,"ngIf"]],template:function(w,q){if(1&w&&(i.TgZ(0,"div",0),i.YNc(1,Zt,4,3,"div",1),i.YNc(2,xt,10,8,"div",2),i.qZA(),i.YNc(3,Ct,1,0,"azt-loading-effect",3),i.YNc(4,we,5,4,"ng-template",null,4,i.W1O),i.YNc(6,Ot,28,54,"table",5)),2&w){const Q=i.MAs(5);i.xp6(1),i.Q6J("ngIf","ENTER_SCORE"==q.screenType),i.xp6(1),i.Q6J("ngIf",!q.isStudent),i.xp6(1),i.Q6J("ngIf",q.statusObj.loading)("ngIfElse",Q),i.xp6(3),i.Q6J("ngIf","TABLE_SCORE"==q.screenType)}},dependencies:[Nt.sg,Nt.O5,et.gM,F.l,E.L,pt.B,tt.n,ut.s,ft.W,_t.a,Ft.HU,Ft.$Z,Bt.Nh5,Rt.JV,Rt.gw,Rt.YK],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}@media (max-width: 639px){.btn-download-excel[_ngcontent-%COMP%]{width:100%!important}}.box-point-homework[_ngcontent-%COMP%]{min-width:120px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}"]}),b})()},93733:(xe,Ut,g)=>{g.d(Ut,{Y:()=>C});var rt=g(47496),n=g(65879),e=g(21266),c=g(9400);let C=(()=>{class t extends rt.Q{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor($){super(),this.activeRoute=$,this.classroomId=0}}return t.\u0275fac=function($){return new($||t)(n.Y36(e.gz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-grand-board"]],inputs:{isStudent:"isStudent"},features:[n.qOj],decls:1,vars:5,consts:[[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function($,i){1&$&&n._UZ(0,"app-table-score",0),2&$&&n.Q6J("isStudent",i.isStudent)("screenType","TABLE_SCORE")("classroomId",i.classroomId)("programId",0)("sessionId",0)},dependencies:[c.B],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),t})()},55358:(xe,Ut,g)=>{g.d(Ut,{R:()=>pt});var rt=g(47496),n=g(65879),e=g(87789),c=g(21266),C=g(96814),t=g(43389),yt=g(85904),$=g(36727);function i(tt,ut){1&tt&&n._UZ(0,"azt-loading-effect")}const St=function(tt){return{"text-white":tt}};function bt(tt,ut){if(1&tt&&(n.TgZ(0,"div",20),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&tt){const ft=n.oxw(),Ft=ft.$implicit;n.Q6J("ngClass",n.VKq(4,St,0===ft.index)),n.xp6(1),n.Oqu(Ft.averageMark+" "+n.lcZ(2,2,"lang_auto_diem"))}}function Lt(tt,ut){if(1&tt&&(n.TgZ(0,"div",20),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()),2&tt){const ft=n.oxw();n.Q6J("ngClass",n.VKq(4,St,0===ft.index&&ft.$implicit.averageMark)),n.xp6(1),n.Oqu(n.lcZ(2,2,"lang_not_data"))}}function lt(tt,ut){1&tt&&(n.TgZ(0,"div",21),n.O4$(),n.TgZ(1,"svg",22),n._UZ(2,"path",23),n.TgZ(3,"g",24),n._UZ(4,"path",25),n.qZA(),n.TgZ(5,"defs")(6,"clipPath",26),n._UZ(7,"rect",27),n.qZA()()()())}function it(tt,ut){1&tt&&(n.TgZ(0,"div",28),n.O4$(),n.TgZ(1,"svg",22),n._UZ(2,"path",29),n.TgZ(3,"g",30),n._UZ(4,"path",25),n.qZA(),n.TgZ(5,"defs")(6,"clipPath",31),n._UZ(7,"rect",27),n.qZA()()()())}function X(tt,ut){1&tt&&(n.TgZ(0,"div",32),n.O4$(),n.TgZ(1,"svg",22),n._UZ(2,"path",33),n.TgZ(3,"g",34),n._UZ(4,"path",25),n.qZA(),n.TgZ(5,"defs")(6,"clipPath",35),n._UZ(7,"rect",27),n.qZA()()()())}const at=function(tt,ut,ft){return{"p-5 bg-primary text-white":tt,"p-3":ut,"border border-primary p-4 border-w-2":ft}},vt=function(tt){return{"text-base":tt}};function Nt(tt,ut){if(1&tt){const ft=n.EpF();n.TgZ(0,"div",7),n.NdJ("click",function(){const Bt=n.CHM(ft).$implicit,Rt=n.oxw(3);return n.KtG(Rt.goToProfile(Bt.classroomId,Bt.id))}),n.TgZ(1,"div",8)(2,"span",9),n._uU(3),n.qZA()(),n.TgZ(4,"div",10)(5,"div",11),n._UZ(6,"azt-create-avatar",12),n.qZA(),n.TgZ(7,"div",13)(8,"div",14),n._uU(9),n.qZA(),n.YNc(10,bt,3,6,"div",15),n.YNc(11,Lt,3,6,"div",15),n.qZA()(),n.TgZ(12,"div",16),n.YNc(13,lt,8,0,"div",17),n.YNc(14,it,8,0,"div",18),n.YNc(15,X,8,0,"div",19),n.qZA()()}if(2&tt){const ft=ut.$implicit,_t=ut.index;n.Q6J("ngClass",n.kEZ(12,at,0===_t&&ft.averageMark,0!==_t||!ft.averageMark,(2===_t||1===_t)&&ft.averageMark)),n.xp6(3),n.Oqu(_t+1),n.xp6(3),n.Q6J("linkAvatar",ft.avatar)("nameCreateAvatar",ft.fullName)("size",0===_t?48:44),n.xp6(2),n.Q6J("ngClass",n.VKq(16,vt,0===_t)),n.xp6(1),n.Oqu(ft.fullName),n.xp6(1),n.Q6J("ngIf",ft.averageMark),n.xp6(1),n.Q6J("ngIf",!ft.averageMark),n.xp6(2),n.Q6J("ngIf",0===_t&&ft.averageMark),n.xp6(1),n.Q6J("ngIf",1===_t&&ft.averageMark),n.xp6(1),n.Q6J("ngIf",2===_t&&ft.averageMark)}}function et(tt,ut){if(1&tt&&(n.TgZ(0,"div",4)(1,"div",5),n._uU(2),n.ALo(3,"mytranslate"),n.qZA(),n.YNc(4,Nt,16,18,"div",6),n.qZA()),2&tt){const ft=n.oxw(2);n.xp6(2),n.hij(" ",n.lcZ(3,2,"lang_azt_leaderboard")," "),n.xp6(2),n.Q6J("ngForOf",ft.dataStudent.list)}}function F(tt,ut){1&tt&&(n.TgZ(0,"div",36)(1,"div",37),n.O4$(),n.TgZ(2,"svg",38),n._UZ(3,"path",39)(4,"path",40)(5,"path",41)(6,"path",42)(7,"path",43)(8,"path",44),n.qZA(),n.kcU(),n.TgZ(9,"p",45),n._uU(10),n.ALo(11,"mytranslate"),n.qZA()()()),2&tt&&(n.xp6(10),n.Oqu(n.lcZ(11,1,"lang_not_data")+"!"))}function E(tt,ut){if(1&tt&&(n.YNc(0,et,5,4,"div",2),n.YNc(1,F,12,3,"ng-template",null,3,n.W1O)),2&tt){const ft=n.MAs(2),_t=n.oxw();n.Q6J("ngIf",_t.dataStudent&&_t.dataStudent.list&&_t.dataStudent.list.length)("ngIfElse",ft)}}let pt=(()=>{class tt extends rt.Q{goToProfile(ft,_t){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+ft+"/"+_t,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${ft}/5`))}getListStudent(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1e3,name:"",programId:0,classroomId:this.classroomId,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1}).subscribe({next:_t=>{this.dataStudent=_t,this.dataStudent.list.sort((Ft,Bt)=>(Bt.averageMark??0)-(Ft.averageMark??0)),this.stopStatusObj()},error:_t=>{this.errorStatusObj(_t.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getListStudent()}constructor(ft,_t){super(),this.studentService=ft,this.activeRoute=_t,this.classroomId=0}}return tt.\u0275fac=function(ft){return new(ft||tt)(n.Y36(e.VT),n.Y36(c.gz))},tt.\u0275cmp=n.Xpm({type:tt,selectors:[["app-leader-board"]],inputs:{isStudent:"isStudent"},features:[n.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["class","p-4 leaderboard rounded-lg",4,"ngIf","ngIfElse"],["emptyData",""],[1,"p-4","leaderboard","rounded-lg"],[1,"text-xl","text-center","font-medium"],["azt-track-service","leaderboard-dDzfaXSYR","class","flex items-center box rounded-25px mt-4 intro-x zoom-in p-3","style","min-height: 92px",3,"ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","leaderboard-dDzfaXSYR",1,"flex","items-center","box","rounded-25px","mt-4","intro-x","zoom-in","p-3",2,"min-height","92px",3,"ngClass","click"],[1,"w-5","h-5","rounded-full","border","border-w-2","border-slate-200","dark:border-slate-400","flex","items-center","justify-center"],[1,"text-xs","font-medium"],[1,"mx-3","flex","items-center"],[1,"image-fit","zoom-in"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4"],[1,"font-medium",3,"ngClass"],["class","text-slate-600 mt-0.5 text-xs font-medium",3,"ngClass",4,"ngIf"],[1,"ml-auto"],["class","icon-top-1",4,"ngIf"],["class","icon-top-2",4,"ngIf"],["class","icon-top-3",4,"ngIf"],[1,"text-slate-600","mt-0.5","text-xs","font-medium",3,"ngClass"],[1,"icon-top-1"],["width","40","height","40","viewBox","0 0 40 40","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17.9929 1.16429C19.2341 0.444284 20.7659 0.444285 22.0071 1.16429L28.65 5.01776L35.3087 8.84395C36.5528 9.55886 37.3187 10.8854 37.3158 12.3203L37.3 20L37.3158 27.6797C37.3187 29.1146 36.5528 30.4411 35.3087 31.1561L28.65 34.9822L22.0071 38.8357C20.7659 39.5557 19.2341 39.5557 17.9929 38.8357L11.35 34.9822L4.69135 31.1561C3.4472 30.4411 2.68131 29.1146 2.68425 27.6797L2.7 20L2.68425 12.3203C2.68131 10.8854 3.4472 9.55886 4.69135 8.84395L11.35 5.01776L17.9929 1.16429Z","fill","#FFD54B"],["clip-path","url(#clip0_199_17919)"],["d","M20 15L23.3333 20L27.5 16.6667L25.8333 25H14.1667L12.5 16.6667L16.6667 20L20 15Z","fill","white","stroke","white","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_199_17919"],["width","20","height","20","fill","white","transform","translate(10 10)"],[1,"icon-top-2"],["d","M17.9929 1.16429C19.2341 0.444284 20.7659 0.444285 22.0071 1.16429L28.65 5.01776L35.3087 8.84395C36.5528 9.55886 37.3187 10.8854 37.3158 12.3203L37.3 20L37.3158 27.6797C37.3187 29.1146 36.5528 30.4411 35.3087 31.1561L28.65 34.9822L22.0071 38.8357C20.7659 39.5557 19.2341 39.5557 17.9929 38.8357L11.35 34.9822L4.69135 31.1561C3.4472 30.4411 2.68131 29.1146 2.68425 27.6797L2.7 20L2.68425 12.3203C2.68131 10.8854 3.4472 9.55886 4.69135 8.84395L11.35 5.01776L17.9929 1.16429Z","fill","#E1E1E2"],["clip-path","url(#clip0_199_17945)"],["id","clip0_199_17945"],[1,"icon-top-3"],["d","M17.9929 1.16429C19.2341 0.444284 20.7659 0.444285 22.0071 1.16429L28.65 5.01776L35.3087 8.84395C36.5528 9.55886 37.3187 10.8854 37.3158 12.3203L37.3 20L37.3158 27.6797C37.3187 29.1146 36.5528 30.4411 35.3087 31.1561L28.65 34.9822L22.0071 38.8357C20.7659 39.5557 19.2341 39.5557 17.9929 38.8357L11.35 34.9822L4.69135 31.1561C3.4472 30.4411 2.68131 29.1146 2.68425 27.6797L2.7 20L2.68425 12.3203C2.68131 10.8854 3.4472 9.55886 4.69135 8.84395L11.35 5.01776L17.9929 1.16429Z","fill","#F6B191"],["clip-path","url(#clip0_199_17968)"],["id","clip0_199_17968"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","82","height","90","viewBox","0 0 82 90","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M29.1186 60.3066C29.0404 60.8599 29 61.4252 29 62C29 68.6274 34.3726 74 41 74C47.6274 74 53 68.6274 53 62C53 61.4252 52.9596 60.8599 52.8815 60.3066H82V87C82 88.6569 80.6569 90 79 90H3C1.34315 90 0 88.6569 0 87V60.3066H29.1186Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M54 60C54 67.1797 48.1797 73 41 73C33.8203 73 28 67.1797 28 60C28 59.7674 28.0061 59.5362 28.0182 59.3066H0L9.56044 31.0389C9.9726 29.8202 11.1159 29 12.4023 29H69.5977C70.8842 29 72.0274 29.8202 72.4396 31.0389L82 59.3066H53.9818C53.9939 59.5362 54 59.7674 54 60Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M52.0976 60.9545C52.0976 66.5025 47.129 72 41 72C34.871 72 29.9024 66.5025 29.9024 60.9545C29.9024 60.7748 29.9077 59.5962 29.918 59.4188H9L17.1614 39.5755C17.5132 38.6338 18.4891 38 19.5873 38H62.4127C63.5109 38 64.4868 38.6338 64.8387 39.5755L73 59.4188H52.082C52.0923 59.5962 52.0976 60.7748 52.0976 60.9545Z","fill","#E8F0FE"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 59.5123V86C1.25 86.9665 2.0335 87.75 3 87.75H79C79.9665 87.75 80.75 86.9665 80.75 86V59.5123L71.2554 31.4393C71.015 30.7285 70.3481 30.25 69.5977 30.25H12.4023C11.6519 30.25 10.985 30.7285 10.7446 31.4393L1.25 59.5123Z","stroke","#1F64E7","stroke-width","2.5"],["d","M14 59C17.9366 59 22.1849 59 26.7449 59C28.6212 59 28.6212 60.3186 28.6212 61C28.6212 67.6274 34.1174 73 40.8973 73C47.6772 73 53.1734 67.6274 53.1734 61C53.1734 60.3186 53.1734 59 55.0496 59H80M6.57373 59H9H6.57373Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M66.0996 6.30273L55 18.7559M40.0996 2V18.7559V2ZM14 6.30273L25.0996 18.7559L14 6.30273Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"]],template:function(ft,_t){if(1&ft&&(n.YNc(0,i,1,0,"azt-loading-effect",0),n.YNc(1,E,3,2,"ng-template",null,1,n.W1O)),2&ft){const Ft=n.MAs(2);n.Q6J("ngIf",_t.statusObj.loading)("ngIfElse",Ft)}},dependencies:[C.mk,C.sg,C.O5,t.l,yt.g,$.JV],styles:[".leaderboard[_ngcontent-%COMP%]{background:#dae3fe;border-radius:30px}.rounded-25px[_ngcontent-%COMP%]{border-radius:25px}"]}),tt})()},50447:(xe,Ut,g)=>{g.d(Ut,{A:()=>se});var rt=g(8633),n=g(47496),e=function(I){return I[I.ADD_NEW=0]="ADD_NEW",I[I.UPDATE=1]="UPDATE",I[I.DELETE=2]="DELETE",I}(e||{}),c=g(65879),C=g(87789),t=g(21266),yt=g(96814),$=g(92596),i=g(43389),St=g(71646),bt=g(56223),Lt=g(91765),lt=g(63120),it=g(78953),X=g(82228),at=g(2032),vt=g(63038),Nt=g(32443),et=g(37722),F=g(15828),E=g(2783);function pt(I,R){if(1&I){const Z=c.EpF();c.TgZ(0,"div",2)(1,"div",3)(2,"a",4),c.NdJ("click",function(){const Mt=c.CHM(Z).$implicit,le=c.oxw();return c.KtG(le.onShowFile(Mt,-1))}),c.TgZ(3,"div",5),c._UZ(4,"img",6),c.TgZ(5,"span",7),c.NdJ("click",function(){const Mt=c.CHM(Z).$implicit,le=c.oxw();return c.KtG(le.removeFile(Mt))}),c.O4$(),c.TgZ(6,"svg",8),c._UZ(7,"line",9)(8,"line",10),c.qZA()()()()()()}if(2&I){const Z=R.$implicit;c.xp6(4),c.Q6J("src",Z.url,c.LSH)}}let tt=(()=>{class I extends n.Q{onShowFile(Z,S){let H={...Z,index:S};this.sAztDialogService.open(F.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:H},restoreFocus:!1})}removeFile(Z){this.files=this.files.filter(S=>S.url!=Z.url),this.filesChange.emit(this.files)}constructor(Z){super(),this.sAztDialogService=Z,this.filesChange=new c.vpe}}return I.\u0275fac=function(Z){return new(Z||I)(c.Y36(E.C))},I.\u0275cmp=c.Xpm({type:I,selectors:[["app-new-list-images"]],inputs:{files:"files"},outputs:{filesChange:"filesChange"},features:[c.qOj],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","gap-3","mb-3"],["class","col-span-12 md:col-span-6 xl:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","xl:col-span-4","lg:col-span-2"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-1","pr-2","pl-2"],["azt-track-service","list-images-jCIgoLK9i",1,"flex","w-full","items-center",3,"click"],[1,"w-full","h-28","image-fit","zoom-in"],[1,"rounded-md",3,"src"],["azt-track-service","list-images-3VlAbiB3VZ",1,"cursor-pointer","absolute","top-0","right-0","-mt-2","-mr-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-danger","text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","stroke-1.5","h-4","w-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"]],template:function(Z,S){1&Z&&(c.TgZ(0,"div",0),c.YNc(1,pt,9,1,"div",1),c.qZA()),2&Z&&(c.xp6(1),c.Q6J("ngForOf",S.files))},dependencies:[yt.sg],encapsulation:2}),I})();var ut=g(36727);function ft(I,R){if(1&I){const Z=c.EpF();c.TgZ(0,"app-new-list-images",14),c.NdJ("filesChange",function(H){c.CHM(Z);const Mt=c.oxw();return c.KtG(Mt.files=H)}),c.qZA()}if(2&I){const Z=c.oxw();c.Q6J("files",Z.files)}}function _t(I,R){1&I&&(c.TgZ(0,"span",15),c._UZ(1,"azt-loading-ui"),c.qZA())}const Ft=function(I){return[I]};let Bt=(()=>{class I extends n.Q{saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();var Z={content:this.contentFormControl.value??"",classroomId:this.classroomId,imageLinks:this.files.map(S=>S.url).filter(this.commonService.notEmpty),isLockComment:this.isLockComment?1:0};this.waitDestroy(this.newsService.apiNewsPost(Z).subscribe({next:S=>{this.successStatusObj("lang_business_news_add_new_post_success",!0),this.contentFormControl.setValue(""),this.files=[],this.changePostObjEvent.emit({...S,isShowEditForm:!1,hasLoveEmotion:!1,isShowCommentBox:!1})},error:S=>{this.errorStatusObj(S.error.message,!0)}}))}}handleUploadComplete(Z){this.files.push(...Z)}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(Z,S,H){super(),this.newsService=Z,this.userService=S,this.apiUploadService=H,this.changePostObjEvent=new c.vpe,this.contentFormControl=new bt.NI("",{nonNullable:!0,validators:[Lt._.noWhiteSpace]}),this.files=[],this.isLockComment=!1,this.allUploadToCdnMenuTypes=lt.j6,this.allUploadFileTypes=lt.AZ}}return I.\u0275fac=function(Z){return new(Z||I)(c.Y36(C.Yc),c.Y36(it.U),c.Y36(X.W))},I.\u0275cmp=c.Xpm({type:I,selectors:[["app-news-add-new-post"]],inputs:{classroomId:"classroomId"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[c.qOj],decls:20,vars:21,consts:[[1,"box"],[1,"relative","w-full","pt-3","pr-3","pl-3"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","pt-3",3,"files","filesChange",4,"ngIf"],[1,"text-right","box-button"],[1,"w-full","flex","sm:justify-between","justify-end","items-center"],[1,"btn","btn-outline-secondary","btn-sm","mr-2","p-0","border-0",3,"matTooltip","click"],[1,"w-6","h-6","inline-block"],[3,"name"],[3,"uploadToCdnMenu","fileType","uploadComplete"],["azt-track-service","add-new-post-YUr68bfqj5",1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",1,"zoom-in",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip"],["azt-track-service","add-new-post-D1kcZnYwie","type","button",1,"btn","btn-primary","btn-sm","w-24",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"pt-3",3,"files","filesChange"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(Z,S){1&Z&&(c.TgZ(0,"div",0)(1,"div",1)(2,"textarea",2),c.ALo(3,"mytranslate"),c._uU(4,"        "),c.qZA(),c.YNc(5,ft,1,1,"app-new-list-images",3),c.qZA(),c.TgZ(6,"div",4)(7,"div",5)(8,"button",6),c.NdJ("click",function(){return S.isLockComment=!S.isLockComment}),c.ALo(9,"mytranslate"),c.TgZ(10,"span",7),c._UZ(11,"lucide-icon",8),c.qZA()(),c.TgZ(12,"azt-upload-multiple-box",9),c.NdJ("uploadComplete",function(Mt){return S.handleUploadComplete(Mt)}),c.TgZ(13,"span",10),c._UZ(14,"lucide-icon",11),c.ALo(15,"mytranslate"),c.qZA()(),c.TgZ(16,"button",12),c.NdJ("click",function(){return S.saveNewPost()}),c.YNc(17,_t,2,0,"span",13),c._uU(18),c.ALo(19,"mytranslate"),c.qZA()()()()),2&Z&&(c.xp6(2),c.s9C("placeholder",c.lcZ(3,11,"lang_business_news_post_content")),c.Q6J("formControl",S.contentFormControl),c.xp6(3),c.Q6J("ngIf",S.files.length),c.xp6(3),c.s9C("matTooltip",c.lcZ(9,13,S.isLockComment?"lang_student_comment_lock":"lang_student_unlock_comments")),c.xp6(3),c.Q6J("name",S.isLockComment?"lock":"unlock"),c.xp6(1),c.Q6J("uploadToCdnMenu",S.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",c.VKq(19,Ft,S.allUploadFileTypes.IMAGE)),c.xp6(2),c.s9C("matTooltip",c.lcZ(15,15,"lang_core_tai_anh")),c.xp6(2),c.Q6J("disabled",""==S.contentFormControl.value||S.statusObj.loading),c.xp6(1),c.Q6J("ngIf",S.statusObj.loading),c.xp6(1),c.hij(" ",c.lcZ(19,17,"lang_business_news_add_new_post_button")," "))},dependencies:[yt.O5,at.Nt,$.gM,bt.Fj,bt.JJ,bt.oH,vt.m,St.n,Nt.B,et.Nh5,tt,ut.JV],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0;height:25px}.box-button[_ngcontent-%COMP%]{padding:5px 10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}"]}),I})();var Rt=g(19347),re=g(72164),Zt=g(78497);function kt(I,R){1&I&&(c.TgZ(0,"span",9),c._UZ(1,"azt-loading-ui"),c.qZA())}let K=(()=>{class I extends re.e{btnCloseDialog(Z){this.dialogRef.close(Z)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsIdDelete(this.postObj.id).subscribe({next:Z=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:Z=>{this.errorStatusObj(Z.error.message,!0)}}))}constructor(Z,S,H){super(H,S),this.newsService=Z,this.dialogRef=S,this.data=H,this.postObj=H}}return I.\u0275fac=function(Z){return new(Z||I)(c.Y36(C.Yc),c.Y36(Rt.so,8),c.Y36(Rt.WI,8))},I.\u0275cmp=c.Xpm({type:I,selectors:[["app-delete-news-post-confirm-dialog"]],features:[c.qOj],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(Z,S){1&Z&&(c.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),c._uU(5),c.ALo(6,"mytranslate"),c.TgZ(7,"b",4),c._uU(8),c.qZA(),c._uU(9,"? "),c.qZA()()()(),c.TgZ(10,"div",5)(11,"button",6),c.NdJ("click",function(){return S.btnCloseDialog(!1)}),c._uU(12),c.ALo(13,"mytranslate"),c.qZA(),c.TgZ(14,"button",7),c.NdJ("click",function(){return S.confirmDelete()}),c.YNc(15,kt,2,0,"span",8),c._uU(16),c.ALo(17,"mytranslate"),c.qZA()()()),2&Z&&(c.xp6(5),c.hij(" ",c.lcZ(6,5,"lang_business_news_are_your_sure_to_delete_news_post"),"\xa0 "),c.xp6(3),c.Oqu(S.postObj.content),c.xp6(4),c.hij(" ",c.lcZ(13,7,"lang_cms_common_close_btn")," "),c.xp6(3),c.Q6J("ngIf",S.statusObj.loading),c.xp6(1),c.hij(" ",c.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[yt.O5,Zt.R,St.n,ut.JV],encapsulation:2}),I})();var P=g(77988),ht=g(85904),xt=g(98082),Ct=function(I){return I[I.ADD_NEW=0]="ADD_NEW",I[I.UPDATE=1]="UPDATE",I[I.DELETE=2]="DELETE",I}(Ct||{}),Dt=g(64170),ee=g(49042);function ue(I,R){1&I&&(c.TgZ(0,"span",10),c._UZ(1,"azt-loading-ui"),c.qZA())}let pe=(()=>{class I extends n.Q{saveNewComment(){this.commentContentFormControl.value.trim()&&(this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsPost(this.postObj.id,{content:this.commentContentFormControl.value}).subscribe({next:S=>{this.successStatusObj(),this.commentContentFormControl.setValue(""),this.changeCommentObjEvent.emit({...S,isShowEditForm:!1,allowDelete:!0,allowEdit:!0})},error:S=>{this.errorStatusObj(S.error.message,!0)}})))}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(Z,S){super(),this.newsService=Z,this.userService=S,this.changeCommentObjEvent=new c.vpe,this.commentContentFormControl=new bt.NI("",{nonNullable:!0,validators:[Lt._.noWhiteSpace]})}}return I.\u0275fac=function(Z){return new(Z||I)(c.Y36(C.Yc),c.Y36(it.U))},I.\u0275cmp=c.Xpm({type:I,selectors:[["app-news-add-new-comments"]],inputs:{postObj:"postObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[c.qOj],decls:13,vars:13,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","",2,"resize","auto","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],["azt-track-service","add-new-comment-tIKt3rAhD",1,"btn","btn-secondary","btn-sm","zoom-in",3,"matTooltip","disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex-none","w-4","h-4","zoom-in"],["name","send",2,"color","#1e40af"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(Z,S){1&Z&&(c.TgZ(0,"div",0),c._UZ(1,"azt-create-avatar",1),c.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),c.NdJ("enterKey",function(){return!(""==S.commentContentFormControl.value||S.statusObj.loading)&&S.saveNewComment()}),c.ALo(5,"mytranslate"),c._uU(6,"            "),c.qZA()(),c.TgZ(7,"div",5)(8,"button",6),c.NdJ("click",function(){return S.saveNewComment()}),c.ALo(9,"mytranslate"),c.YNc(10,ue,2,0,"span",7),c.TgZ(11,"span",8),c._UZ(12,"lucide-icon",9),c.qZA()()()()()),2&Z&&(c.xp6(1),c.Q6J("nameCreateAvatar",S.userObj.fullName)("linkAvatar",S.userObj.avatar)("size",30),c.xp6(3),c.s9C("placeholder",c.lcZ(5,9,"lang_core_viet_binh_luan")),c.Q6J("enableInMobile",!1)("formControl",S.commentContentFormControl),c.xp6(4),c.s9C("matTooltip",c.lcZ(9,11,"lang_business_news_add_new_post_button")),c.Q6J("disabled",""==S.commentContentFormControl.value||S.statusObj.loading),c.xp6(2),c.Q6J("ngIf",S.statusObj.loading))},dependencies:[yt.O5,at.Nt,Dt.KE,$.gM,bt.Fj,bt.JJ,bt.oH,ht.g,vt.m,ee.Y,St.n,et.Nh5,ut.JV],encapsulation:2}),I})();function ae(I,R){1&I&&(c.TgZ(0,"span",9),c._UZ(1,"azt-loading-ui"),c.qZA())}let Pe=(()=>{class I extends re.e{btnCloseDialog(Z){this.dialogRef.close(Z)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdDelete(this.postObj.id,this.commentObj.id).subscribe({next:Z=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:Z=>{this.errorStatusObj(Z.error.message,!0)}}))}constructor(Z,S,H){super(H,S),this.newsService=Z,this.dialogRef=S,this.data=H,this.postObj=H.postObj,this.commentObj=H.commentObj}}return I.\u0275fac=function(Z){return new(Z||I)(c.Y36(C.Yc),c.Y36(Rt.so,8),c.Y36(Rt.WI,8))},I.\u0275cmp=c.Xpm({type:I,selectors:[["app-delete-news-post-comment-confirm-dialog"]],features:[c.qOj],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(Z,S){1&Z&&(c.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),c._uU(5),c.ALo(6,"mytranslate"),c.TgZ(7,"b",4),c._uU(8),c.qZA(),c._uU(9,"? "),c.qZA()()()(),c.TgZ(10,"div",5)(11,"button",6),c.NdJ("click",function(){return S.btnCloseDialog(!1)}),c._uU(12),c.ALo(13,"mytranslate"),c.qZA(),c.TgZ(14,"button",7),c.NdJ("click",function(){return S.confirmDelete()}),c.YNc(15,ae,2,0,"span",8),c._uU(16),c.ALo(17,"mytranslate"),c.qZA()()()),2&Z&&(c.xp6(5),c.hij(" ",c.lcZ(6,5,"lang_business_news_are_your_sure_to_delete_news_post_comment"),"\xa0 "),c.xp6(3),c.Oqu(S.commentObj.content),c.xp6(4),c.hij(" ",c.lcZ(13,7,"lang_cms_common_close_btn")," "),c.xp6(3),c.Q6J("ngIf",S.statusObj.loading),c.xp6(1),c.hij(" ",c.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[yt.O5,Zt.R,St.n,ut.JV],encapsulation:2}),I})();function ze(I,R){if(1&I&&(c.TgZ(0,"button",15),c.O4$(),c.TgZ(1,"svg",16),c._UZ(2,"circle",17)(3,"circle",18)(4,"circle",19),c.qZA()()),2&I){c.oxw();const Z=c.MAs(12);c.Q6J("matMenuTriggerFor",Z)}}function Ke(I,R){if(1&I){const Z=c.EpF();c.TgZ(0,"li")(1,"a",20),c.NdJ("click",function(){c.CHM(Z);const H=c.oxw();return c.KtG(H.editCommentEvent())}),c.O4$(),c.TgZ(2,"svg",21),c._UZ(3,"path",22)(4,"path",23),c.qZA(),c._uU(5),c.ALo(6,"mytranslate"),c.qZA()()}2&I&&(c.xp6(5),c.hij(" ",c.lcZ(6,1,"lang_auto_sua")," "))}function Ue(I,R){if(1&I){const Z=c.EpF();c.TgZ(0,"li")(1,"a",24),c.NdJ("click",function(){c.CHM(Z);const H=c.oxw();return c.KtG(H.deleteCommentEvent())}),c.O4$(),c.TgZ(2,"svg",25),c._UZ(3,"polyline",26)(4,"path",27),c.qZA(),c._uU(5),c.ALo(6,"mytranslate"),c.qZA()()}2&I&&(c.xp6(5),c.hij(" ",c.lcZ(6,1,"lang_auto_xoa")," "))}let We=(()=>{class I extends n.Q{editCommentEvent(){this.commentObj.isShowEditForm=!0,this.changeCommentObjEvent.emit({actionType:Ct.UPDATE,commentObj:this.commentObj})}deleteCommentEvent(){this.sAztDialogService.open(Pe,{width:"700px",data:{postObj:this.postObj,commentObj:this.commentObj},restoreFocus:!1}).afterClosed().subscribe(S=>{S&&this.changeCommentObjEvent.emit({actionType:Ct.DELETE,commentObj:this.commentObj})})}constructor(Z){super(),this.sAztDialogService=Z,this.changeCommentObjEvent=new c.vpe}}return I.\u0275fac=function(Z){return new(Z||I)(c.Y36(E.C))},I.\u0275cmp=c.Xpm({type:I,selectors:[["app-news-view-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[c._Bn([rt.S]),c.qOj],decls:20,vars:13,consts:[[1,"flex","mb-3","comment-body"],[1,"image-fit","mt-2"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"flex","items-center","justify-start"],[1,"box-content","px-3","py-2","ml-3"],[1,"font-medium","whitespace-nowrap"],[3,"content","maxLine","backgroundColor"],[1,"btn-show","ml-1"],["class","clickable p-1 hover:bg-slate-100 dark:hover:bg-darkmode-400","style","border-radius: 50%","data-tw-toggle","dropdown",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],[4,"ngIf"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5","ml-3"],["data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"border-radius","50%",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],["azt-track-service","comments-post-dialog-a0fkWfZtZk",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","comments-post-dialog-_pPBuSnF37",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(Z,S){1&Z&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"azt-create-avatar",2),c.qZA(),c.TgZ(3,"div")(4,"div",3)(5,"div",4)(6,"div",5),c._uU(7),c.qZA(),c._UZ(8,"azt-see-more-multiple-lines",6),c.qZA(),c.TgZ(9,"div",7),c.YNc(10,ze,5,1,"button",8),c.TgZ(11,"mat-menu",9,10)(13,"div",11)(14,"ul",12),c.YNc(15,Ke,7,3,"li",13),c.YNc(16,Ue,7,3,"li",13),c.qZA()()()()(),c.TgZ(17,"div",14),c._uU(18),c.ALo(19,"relativeTime"),c.qZA()()()),2&Z&&(c.xp6(2),c.Q6J("nameCreateAvatar",null==S.commentObj.user?null:S.commentObj.user.fullName)("linkAvatar",null==S.commentObj.user?null:S.commentObj.user.avatar)("size",30),c.xp6(5),c.hij(" ",null==S.commentObj.user?null:S.commentObj.user.fullName,"\xa0 "),c.xp6(1),c.Q6J("content",S.commentObj.content)("maxLine",5)("backgroundColor","#f5f5f5"),c.xp6(2),c.Q6J("ngIf",S.commentObj.allowDelete||S.commentObj.allowEdit),c.xp6(5),c.Q6J("ngIf",S.commentObj.allowEdit),c.xp6(1),c.Q6J("ngIf",S.commentObj.allowDelete),c.xp6(2),c.Oqu(c.lcZ(19,11,S.commentObj.createdAt)))},dependencies:[yt.O5,P.VK,P.p6,ht.g,xt.l,ut.JV,ut.Yy],styles:[".btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:transparent}.comment-body[_ngcontent-%COMP%]:hover   .btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgb(var(--color-slate-500)/var(--tw-text-opacity))}.box-content[_ngcontent-%COMP%]{border-radius:5px;background-color:#f5f5f5}"]}),I})();function Fe(I,R){1&I&&(c.TgZ(0,"span",12),c._UZ(1,"azt-loading-ui"),c.qZA())}let de=(()=>{class I extends n.Q{cancel(){this.commentObj.isShowEditForm=!1,this.changeCommentObjEvent.emit(this.commentObj)}saveNewComment(){if(this.commentContentFormControl.value.trim()){this.initStatusObj();var Z={content:this.commentContentFormControl.value};this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdPut(this.postObj.id,this.commentObj.id,Z).subscribe({next:S=>{this.successStatusObj(),this.commentObj.isShowEditForm=!1,this.commentObj.content=Z.content,this.changeCommentObjEvent.emit(this.commentObj),this.commentContentFormControl.setValue("")},error:S=>{this.errorStatusObj(S.error.message,!0)}}))}}ngOnInit(){this.userObj=this.userService.getUserObj(),this.commentContentFormControl.setValue(this.commentObj.content)}constructor(Z,S){super(),this.newsService=Z,this.userService=S,this.changeCommentObjEvent=new c.vpe,this.commentContentFormControl=new bt.NI("",{nonNullable:!0,validators:[Lt._.noWhiteSpace]})}}return I.\u0275fac=function(Z){return new(Z||I)(c.Y36(C.Yc),c.Y36(it.U))},I.\u0275cmp=c.Xpm({type:I,selectors:[["app-news-edit-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[c.qOj],decls:17,vars:16,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","","row","5",2,"resize","none","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"flex","justify-end","p-1","absolute",2,"bottom","5px","right","5px"],[1,"flex","items-center","justify-center"],["azt-track-service","edit-comment-725iQWOtdo","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-comment-FFY36YTq2a",1,"btn","btn-outline-secondary","btn-sm",3,"matTooltip","disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex-none","w-4","h-4"],["name","send"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(Z,S){1&Z&&(c.TgZ(0,"div",0),c._UZ(1,"azt-create-avatar",1),c.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),c.NdJ("enterKey",function(){return!(""==S.commentContentFormControl.value||S.statusObj.loading)&&S.saveNewComment()}),c.ALo(5,"mytranslate"),c._uU(6,"            "),c.qZA()(),c.TgZ(7,"div",5)(8,"div",6)(9,"button",7),c.NdJ("click",function(){return S.cancel()}),c._uU(10),c.ALo(11,"mytranslate"),c.qZA(),c.TgZ(12,"button",8),c.NdJ("click",function(){return S.saveNewComment()}),c.ALo(13,"mytranslate"),c.YNc(14,Fe,2,0,"span",9),c.TgZ(15,"span",10),c._UZ(16,"lucide-icon",11),c.qZA()()()()()()),2&Z&&(c.xp6(1),c.Q6J("nameCreateAvatar",S.userObj.fullName)("linkAvatar",S.userObj.avatar)("size",30),c.xp6(3),c.s9C("placeholder",c.lcZ(5,10,"lang_core_viet_binh_luan")),c.Q6J("enableInMobile",!1)("formControl",S.commentContentFormControl),c.xp6(6),c.hij(" ",c.lcZ(11,12,"lang_cms_common_close_btn")," "),c.xp6(2),c.s9C("matTooltip",c.lcZ(13,14,"lang_business_news_add_new_post_button")),c.Q6J("disabled",""==S.commentContentFormControl.value||S.statusObj.loading),c.xp6(2),c.Q6J("ngIf",S.statusObj.loading))},dependencies:[yt.O5,at.Nt,Dt.KE,$.gM,bt.Fj,bt.JJ,bt.oH,ht.g,vt.m,ee.Y,St.n,et.Nh5,ut.JV],encapsulation:2}),I})();function Je(I,R){if(1&I){const Z=c.EpF();c.ynx(0),c.TgZ(1,"app-news-view-comment",6),c.NdJ("changeCommentObjEvent",function(H){c.CHM(Z);const Mt=c.oxw(2);return c.KtG(Mt.changeCommentObj(H.actionType,H.commentObj))}),c.qZA(),c.BQk()}if(2&I){const Z=c.oxw().$implicit,S=c.oxw();c.xp6(1),c.Q6J("postObj",S.postObj)("commentObj",Z)}}function Xe(I,R){if(1&I){const Z=c.EpF();c.TgZ(0,"div",2)(1,"app-news-edit-comment",6),c.NdJ("changeCommentObjEvent",function(H){c.CHM(Z);const Mt=c.oxw(2);return c.KtG(Mt.changeCommentObj(Mt.enumNewsCommentActionType.UPDATE,H))}),c.qZA()()}if(2&I){const Z=c.oxw().$implicit,S=c.oxw();c.xp6(1),c.Q6J("postObj",S.postObj)("commentObj",Z)}}function qe(I,R){if(1&I&&(c.TgZ(0,"div"),c.YNc(1,Je,2,2,"ng-container",4),c.YNc(2,Xe,2,2,"ng-template",null,5,c.W1O),c.qZA()),2&I){const Z=R.$implicit,S=c.MAs(3);c.xp6(1),c.Q6J("ngIf",!Z.isShowEditForm)("ngIfElse",S)}}function Qe(I,R){1&I&&(c.TgZ(0,"span",10),c._UZ(1,"azt-loading-ui"),c.qZA())}function tn(I,R){if(1&I){const Z=c.EpF();c.TgZ(0,"div",7)(1,"span",8),c.NdJ("click",function(){c.CHM(Z);const H=c.oxw();return c.KtG(!H.sAztNextPaginationService.isLoadingNextPage&&H.getNextPage())}),c._uU(2),c.ALo(3,"mytranslate"),c.YNc(4,Qe,2,0,"span",9),c.qZA()()}if(2&I){const Z=c.oxw();c.xp6(2),c.hij(" ",c.lcZ(3,2,"lang_business_news_load_more_comments")," "),c.xp6(2),c.Q6J("ngIf",Z.sAztNextPaginationService.isLoadingNextPage)}}let en=(()=>{class I extends n.Q{changeCommentObj(Z,S){Z==Ct.ADD_NEW?(this.commentObjs.unshift(S),this.postObj.totalComment+=1):Z==Ct.UPDATE?this.commentObjs=this.commentObjs.map(H=>H.id==S.id?S:H):(this.postObj.totalComment-=1,this.commentObjs=this.commentObjs.filter(H=>H.id!=S.id))}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(Z){Z?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsGet(this.postObj.id,this.sAztNextPaginationService.curPage,this.sAztNextPaginationService.itemPerPage).subscribe({next:S=>{S.list.forEach(H=>{this.commentObjs.push({...H,isShowEditForm:!1,allowEdit:H.tenantId==this.userObj.id,allowDelete:!this.isStudent||H.tenantId==this.userObj.id})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(S.total),this.stopStatusObj()},error:S=>{this.errorStatusObj(S.error.message,!0)}}))}ngOnInit(){this.sAztNextPaginationService.setTotalItemPerPage(10),this.getData(!1)}constructor(Z,S,H){super(),this.newsService=Z,this.userService=S,this.sAztNextPaginationService=H,this.commentObjs=[],this.enumNewsCommentActionType=Ct,this.userObj=this.userService.getUserObj()}}return I.\u0275fac=function(Z){return new(Z||I)(c.Y36(C.Yc),c.Y36(it.U),c.Y36(rt.S))},I.\u0275cmp=c.Xpm({type:I,selectors:[["app-news-list-comments"]],inputs:{isStudent:"isStudent",postObj:"postObj"},features:[c._Bn([rt.S]),c.qOj],decls:4,vars:3,consts:[[4,"ngFor","ngForOf"],["class","mb-2 font-medium",4,"ngIf"],[1,"pb-2"],[3,"postObj","changeCommentObjEvent"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"postObj","commentObj","changeCommentObjEvent"],[1,"mb-2","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["class","w-4 h-4 inline-block ml-2",4,"ngIf"],[1,"w-4","h-4","inline-block","ml-2"]],template:function(Z,S){1&Z&&(c.YNc(0,qe,4,2,"div",0),c.YNc(1,tn,5,4,"div",1),c.TgZ(2,"div",2)(3,"app-news-add-new-comments",3),c.NdJ("changeCommentObjEvent",function(Mt){return S.changeCommentObj(S.enumNewsCommentActionType.ADD_NEW,Mt)}),c.qZA()()),2&Z&&(c.Q6J("ngForOf",S.commentObjs),c.xp6(1),c.Q6J("ngIf",S.commentObjs.length&&S.sAztNextPaginationService.hasNextPage),c.xp6(2),c.Q6J("postObj",S.postObj))},dependencies:[yt.sg,yt.O5,St.n,pe,We,de,ut.JV],encapsulation:2}),I})();function nn(I,R){1&I&&(c.TgZ(0,"div",2)(1,"span",3),c._UZ(2,"lucide-icon",4),c.qZA(),c.TgZ(3,"span"),c._uU(4),c.ALo(5,"mytranslate"),c.qZA()()),2&I&&(c.xp6(4),c.Oqu(c.lcZ(5,1,"lang_student_comment_feature_disabled")))}const Ye=function(I,R){return{"heart-selected":I,"heart-non-selected":R}};function Te(I,R){if(1&I){const Z=c.EpF();c.TgZ(0,"div",5)(1,"div",6)(2,"button",7),c.NdJ("click",function(){c.CHM(Z);const H=c.oxw();return c.KtG(H.changeEmotionEvent())}),c.O4$(),c.TgZ(3,"svg",8),c._UZ(4,"path",9),c.qZA()(),c.kcU(),c.TgZ(5,"span"),c._uU(6),c.qZA()(),c.TgZ(7,"div",10),c.NdJ("click",function(){c.CHM(Z);const H=c.oxw();return c.KtG(H.showCommentObjs())}),c.TgZ(8,"button",11),c._UZ(9,"lucide-icon",12),c.qZA(),c.TgZ(10,"span"),c._uU(11),c.qZA()()()}if(2&I){const Z=c.oxw();c.xp6(3),c.Q6J("ngClass",c.WLB(3,Ye,Z.postObj.hasLoveEmotion,!Z.postObj.hasLoveEmotion)),c.xp6(3),c.Oqu(Z.postObj.totalEmotion),c.xp6(5),c.Oqu(Z.postObj.totalComment)}}let ye=(()=>{class I extends n.Q{changeEmotionEvent(){this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion+=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj),this.waitDestroy(this.newsService.apiNewsNewsIdEmotionsPost(this.postObj.id).subscribe({next:Z=>{this.successStatusObj()},error:Z=>{this.errorStatusObj(Z.error.message,!0),this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion-=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj)}}))}showCommentObjs(){this.postObj.isShowCommentBox=!0,this.changePostObjEvent.emit(this.postObj)}constructor(Z){super(),this.newsService=Z,this.changePostObjEvent=new c.vpe}}return I.\u0275fac=function(Z){return new(Z||I)(c.Y36(C.Yc))},I.\u0275cmp=c.Xpm({type:I,selectors:[["app-news-emotions"]],inputs:{postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[c.qOj],decls:2,vars:2,consts:[["class","flex items-center justify-center pb-3 text-slate-500",4,"ngIf"],["class","flex pb-3","style","align-items: center",4,"ngIf"],[1,"flex","items-center","justify-center","pb-3","text-slate-500"],[1,"w-4","h-4","inline-block","mr-2"],["name","message-circle-off"],[1,"flex","pb-3",2,"align-items","center"],[1,"flex","mr-5","clickable",2,"align-items","center"],["azt-track-service","emotions-02_zwrttZ",1,"w-5","h-5","mr-2","zoom-in","heart-label",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","#000000","stroke-width","3","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-heart",3,"ngClass"],["d","M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"],["azt-track-service","emotions-Yt4v8qy-f6",1,"flex","clickable",2,"align-items","center",3,"click"],["azt-track-service","news-board-QZ9ykDAa8s",1,"w-5","h-5","mr-2","zoom-in"],["name","message-square"]],template:function(Z,S){1&Z&&(c.YNc(0,nn,6,3,"div",0),c.YNc(1,Te,12,6,"div",1)),2&Z&&(c.Q6J("ngIf",S.postObj.isLockComment),c.xp6(1),c.Q6J("ngIf",!S.postObj.isLockComment))},dependencies:[yt.mk,yt.O5,et.Nh5,ut.JV],styles:['@charset "UTF-8";.heart-label[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.5em;align-self:center;transition:color .2s ease-in-out;color:#aab8c2}.heart-non-selected[_ngcontent-%COMP%]{background:transparent}.heart-non-selected[_ngcontent-%COMP%]:hover{stroke:#7f6167!important}.heart-selected[_ngcontent-%COMP%]{fill:#e2264d!important;stroke:#e2264d!important;will-change:font-size;animation:heart 1s cubic-bezier(.17,.89,.32,1.49)}']}),I})();var ke=g(95273);function Ne(I,R){if(1&I){const Z=c.EpF();c.TgZ(0,"a",3),c.NdJ("click",function(){const Mt=c.CHM(Z).$implicit,le=c.oxw();return c.KtG(le.onShowFile(Mt))}),c._UZ(1,"img",4),c.qZA()}if(2&I){const Z=R.$implicit;c.xp6(1),c.Q6J("src",Z.imageLink,c.LSH)}}let Se=(()=>{class I extends n.Q{onShowFile(Z){this.sAztDialogService.open(F.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:"image_post"+Z.id,mimes:"image/jpeg",url:Z.imageLink,index:-1}},restoreFocus:!1})}constructor(Z,S){super(),this.sAztDialogService=Z,this.sAztFileTypeService=S,this.images=[]}}return I.\u0275fac=function(Z){return new(Z||I)(c.Y36(E.C),c.Y36(ke.v))},I.\u0275cmp=c.Xpm({type:I,selectors:[["app-list-images-post"]],inputs:{images:"images"},features:[c.qOj],decls:3,vars:1,consts:[[1,"outerContainer"],[1,"containerw3","containerw3-margin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(Z,S){1&Z&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,Ne,2,1,"a",2),c.qZA()()),2&Z&&(c.xp6(2),c.Q6J("ngForOf",S.images))},dependencies:[yt.sg],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:arial}.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:300px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:300px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}@media (max-width: 767px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:150px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:150px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:150px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}@media (max-width: 400px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:100px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:100px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}']}),I})();function ve(I,R){if(1&I&&c.GkF(0,14),2&I){c.oxw();const Z=c.MAs(17);c.Q6J("ngTemplateOutlet",Z)}}function Ie(I,R){if(1&I&&(c.TgZ(0,"div"),c._UZ(1,"hr",10)(2,"app-news-list-comments",15),c.qZA()),2&I){const Z=c.oxw();c.xp6(2),c.Q6J("isStudent",Z.isStudent)("postObj",Z.postObj)}}function be(I,R){if(1&I){const Z=c.EpF();c.TgZ(0,"div",16)(1,"button",17),c.O4$(),c.TgZ(2,"svg",18),c._UZ(3,"circle",19)(4,"circle",20)(5,"circle",21),c.qZA()(),c.kcU(),c.TgZ(6,"mat-menu",22,23)(8,"div",24)(9,"ul",25)(10,"li")(11,"a",26),c.NdJ("click",function(){c.CHM(Z);const H=c.oxw();return c.KtG(H.editPostEvent())}),c.O4$(),c.TgZ(12,"svg",27),c._UZ(13,"path",28)(14,"path",29),c.qZA(),c._uU(15),c.ALo(16,"mytranslate"),c.qZA()(),c.kcU(),c.TgZ(17,"li")(18,"a",30),c.NdJ("click",function(){c.CHM(Z);const H=c.oxw();return c.KtG(H.deletePostEvent())}),c.O4$(),c.TgZ(19,"svg",31),c._UZ(20,"polyline",32)(21,"path",33),c.qZA(),c._uU(22),c.ALo(23,"mytranslate"),c.qZA()(),c.kcU(),c.TgZ(24,"li")(25,"label",34),c.NdJ("click",function(H){return H.stopPropagation()}),c.TgZ(26,"div",35)(27,"span",36),c._UZ(28,"lucide-icon",37),c.qZA(),c._uU(29),c.ALo(30,"mytranslate"),c.qZA(),c.TgZ(31,"div",38)(32,"input",39),c.NdJ("change",function(){c.CHM(Z);const H=c.oxw();return c.KtG(H.changeLockCommentStatus())}),c.qZA()()()()()()()()}if(2&I){const Z=c.MAs(7),S=c.oxw();c.xp6(1),c.Q6J("matMenuTriggerFor",Z),c.xp6(14),c.hij(" ",c.lcZ(16,5,"lang_auto_sua")," "),c.xp6(7),c.hij(" ",c.lcZ(23,7,"lang_auto_xoa")," "),c.xp6(7),c.hij(" ",c.lcZ(30,9,"lang_student_comment_lock")," "),c.xp6(3),c.Q6J("formControl",S.isLockComment)}}let we=(()=>{class I extends n.Q{editPostEvent(){this.postObj.isShowEditForm=!0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}deletePostEvent(){this.sAztDialogService.open(K,{width:"700px",data:this.postObj,restoreFocus:!1}).afterClosed().subscribe(S=>{S&&this.changePostObjEvent.emit({actionType:e.DELETE,postObj:this.postObj})})}changeLockCommentStatus(){const Z=this.isLockComment.value;this.waitDestroy((Z?this.newsService.apiNewsIdLockCommentsPut:this.newsService.apiNewsIdUnlockCommentsPut).call(this.newsService,this.postObj.id).subscribe({next:()=>{const H=Z?"lang_student_comment_lock":"lang_student_unlock_comments";this.postObj.isLockComment=Z?1:0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj}),this.showSuccessSnack(H)},error:H=>{this.errorStatusObj(H.error.message,!0)}}))}changeEmotionEventEvent(Z){this.postObj=Z,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}ngOnInit(){super.ngOnInit(),this.isLockComment.setValue(!!this.postObj.isLockComment)}constructor(Z,S){super(),this.sAztDialogService=Z,this.newsService=S,this.changePostObjEvent=new c.vpe,this.isLockComment=new bt.NI(!1)}}return I.\u0275fac=function(Z){return new(Z||I)(c.Y36(E.C),c.Y36(C.Yc))},I.\u0275cmp=c.Xpm({type:I,selectors:[["app-news-view-post"]],inputs:{postObj:"postObj",isStudent:"isStudent"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[c.qOj],decls:18,vars:13,consts:[[1,"flex","items-center","mb-3"],[1,"w-9","h-9","image-fit"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3"],[1,"font-medium","whitespace-nowrap"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"pb-3"],[3,"content","maxLine"],[3,"images"],[1,"mb-3"],[1,"mb-3",3,"postObj","changePostObjEvent"],[4,"ngIf"],["newsEditOrDeleteNews",""],[3,"ngTemplateOutlet"],[1,"mb-3",3,"isStudent","postObj"],[1,"ml-auto"],["data-tw-toggle","dropdown",1,"absolute","clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"top","10px","right","10px","border-radius","50%",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","news-board-5U9HMbLBxY",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","news-board-35uylGIW_W",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],["azt-track-service","view-post-HeRBfG3bI","for","commentLock",1,"dropdown-item","cursor-pointer",3,"click"],[1,"flex","items-center"],[1,"flex-none","w-4","h-4","inline-block","mr-2"],["name","lock"],[1,"form-check","form-switch","ml-auto"],["id","commentLock","type","checkbox",1,"form-check-input","ml-2",3,"formControl","change"]],template:function(Z,S){if(1&Z&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"azt-create-avatar",2),c.qZA(),c.TgZ(3,"div",3)(4,"a",4),c._uU(5),c.qZA(),c.TgZ(6,"div",5),c._uU(7),c.ALo(8,"relativeTime"),c.qZA()()(),c.YNc(9,ve,1,1,"ng-container",6),c.TgZ(10,"div",7),c._UZ(11,"azt-see-more-multiple-lines",8),c.qZA(),c._UZ(12,"app-list-images-post",9)(13,"hr",10),c.TgZ(14,"app-news-emotions",11),c.NdJ("changePostObjEvent",function(Mt){return S.changeEmotionEventEvent(Mt)}),c.qZA(),c.YNc(15,Ie,3,2,"div",12),c.YNc(16,be,33,11,"ng-template",null,13,c.W1O)),2&Z){let H;c.xp6(2),c.Q6J("nameCreateAvatar",null==S.postObj.user?null:S.postObj.user.fullName)("linkAvatar",null==S.postObj.user?null:S.postObj.user.avatar)("size",36),c.xp6(3),c.hij("",null==S.postObj.user?null:S.postObj.user.fullName,"\xa0"),c.xp6(2),c.Oqu(c.lcZ(8,11,S.postObj.createdAt)),c.xp6(2),c.Q6J("ngIf",!S.isStudent),c.xp6(2),c.Q6J("content",S.postObj.content)("maxLine",0==(null!==(H=null==S.postObj.images?null:S.postObj.images.length)&&void 0!==H?H:0)?S.postObj.content.length:10),c.xp6(1),c.Q6J("images",S.postObj.images),c.xp6(2),c.Q6J("postObj",S.postObj),c.xp6(1),c.Q6J("ngIf",S.postObj.isShowCommentBox)}},dependencies:[yt.O5,yt.tP,P.VK,P.p6,bt.Wl,bt.JJ,bt.oH,ht.g,xt.l,et.Nh5,en,ye,Se,ut.JV,ut.Yy],encapsulation:2}),I})();function on(I,R){if(1&I){const Z=c.EpF();c.TgZ(0,"app-new-list-images",13),c.NdJ("filesChange",function(H){c.CHM(Z);const Mt=c.oxw();return c.KtG(Mt.files=H)}),c.qZA()}if(2&I){const Z=c.oxw();c.Q6J("files",Z.files)}}function Jt(I,R){1&I&&(c.TgZ(0,"span",14),c._UZ(1,"azt-loading-ui"),c.qZA())}const je=function(I){return[I]};let Wt=(()=>{class I extends n.Q{cancel(){this.postObj.isShowEditForm=!1,this.changePostObjEvent.emit(this.postObj)}saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();let Z={content:this.contentFormControl.value??"",classroomId:this.postObj.id,imageLinks:this.files.map(S=>S.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsIdPut(this.postObj.id,Z).subscribe({next:S=>{this.successStatusObj("lang_cms_update_success",!0);let H=[];this.files.forEach(Mt=>{H.push({id:0,newsId:this.postObj?.id??0,imageLink:Mt.url??"",createdAt:void 0})}),this.postObj.isShowEditForm=!1,this.postObj.content=Z.content,this.postObj.images=H,this.changePostObjEvent.emit(this.postObj),this.contentFormControl.setValue(""),this.files=[]},error:S=>{this.errorStatusObj(S.error.message,!0)}}))}}handleUploadComplete(Z){this.files.push(...Z)}ngOnInit(){this.userObj=this.userService.getUserObj(),this.contentFormControl.setValue(this.postObj.content),(this.postObj.images??[]).forEach(Z=>{this.files.push({name:"",mimes:"image/jpeg",url:Z.imageLink})})}constructor(Z,S,H){super(),this.newsService=Z,this.userService=S,this.apiUploadService=H,this.changePostObjEvent=new c.vpe,this.contentFormControl=new bt.NI("",{nonNullable:!0,validators:[Lt._.noWhiteSpace]}),this.files=[],this.allUploadToCdnMenuTypes=lt.j6,this.allUploadFileTypes=lt.AZ}}return I.\u0275fac=function(Z){return new(Z||I)(c.Y36(C.Yc),c.Y36(it.U),c.Y36(X.W))},I.\u0275cmp=c.Xpm({type:I,selectors:[["app-news-edit-post"]],inputs:{classroomId:"classroomId",postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[c.qOj],decls:21,vars:23,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"relative","w-full","ml-3",2,"border-radius","5px"],["matInput","","autoResize","","row","5",1,"border-none",2,"resize","none","height","85px",3,"formControl","placeholder"],[3,"files","filesChange",4,"ngIf"],[1,"text-right","pt-1","pb-1"],[1,"flex","items-center","justify-end","sm:w-auto"],[3,"uploadToCdnMenu","fileType","uploadComplete"],[1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",1,"zoom-in",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip"],["azt-track-service","edit-post-3W8T83tTj_","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-post-NaJeb-mmLZ","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"files","filesChange"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(Z,S){1&Z&&(c.TgZ(0,"div")(1,"div",0),c._UZ(2,"azt-create-avatar",1),c.TgZ(3,"div",2)(4,"textarea",3),c.ALo(5,"mytranslate"),c._uU(6,"            "),c.qZA()()(),c.YNc(7,on,1,1,"app-new-list-images",4),c.TgZ(8,"div",5)(9,"div",6)(10,"azt-upload-multiple-box",7),c.NdJ("uploadComplete",function(Mt){return S.handleUploadComplete(Mt)}),c.TgZ(11,"span",8),c._UZ(12,"lucide-icon",9),c.ALo(13,"mytranslate"),c.qZA()(),c.TgZ(14,"button",10),c.NdJ("click",function(){return S.cancel()}),c._uU(15),c.ALo(16,"mytranslate"),c.qZA(),c.TgZ(17,"button",11),c.NdJ("click",function(){return S.saveNewPost()}),c.YNc(18,Jt,2,0,"span",12),c._uU(19),c.ALo(20,"mytranslate"),c.qZA()()()()),2&Z&&(c.xp6(2),c.Q6J("nameCreateAvatar",S.userObj.fullName)("linkAvatar",S.userObj.avatar)("size",36),c.xp6(2),c.s9C("placeholder",c.lcZ(5,13,"lang_business_news_post_content")),c.Q6J("formControl",S.contentFormControl),c.xp6(3),c.Q6J("ngIf",S.files.length),c.xp6(3),c.Q6J("uploadToCdnMenu",S.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",c.VKq(21,je,S.allUploadFileTypes.IMAGE)),c.xp6(2),c.s9C("matTooltip",c.lcZ(13,15,"lang_core_tai_anh")),c.xp6(3),c.hij(" ",c.lcZ(16,17,"lang_cms_common_close_btn")," "),c.xp6(2),c.Q6J("disabled",""==S.contentFormControl.value||S.statusObj.loading),c.xp6(1),c.Q6J("ngIf",S.statusObj.loading),c.xp6(1),c.hij(" ",c.lcZ(20,19,"lang_business_news_update_post_button")," "))},dependencies:[yt.O5,at.Nt,$.gM,bt.Fj,bt.JJ,bt.oH,ht.g,vt.m,St.n,Nt.B,et.Nh5,tt,ut.JV],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0}"]}),I})();function U(I,R){1&I&&(c.TgZ(0,"div",3),c._UZ(1,"azt-loading-effect"),c.qZA())}function Ot(I,R){if(1&I){const Z=c.EpF();c.TgZ(0,"div",6)(1,"app-news-add-new-post",7),c.NdJ("changePostObjEvent",function(H){c.CHM(Z);const Mt=c.oxw(2);return c.KtG(Mt.changePostObj(Mt.enumNewsPostActionType.ADD_NEW,H))}),c.qZA()()}if(2&I){const Z=c.oxw(2);c.xp6(1),c.Q6J("classroomId",Z.classroomId)}}function j(I,R){if(1&I){const Z=c.EpF();c.ynx(0),c.TgZ(1,"app-news-view-post",11),c.NdJ("changePostObjEvent",function(H){c.CHM(Z);const Mt=c.oxw(3);return c.KtG(Mt.changePostObj(H.actionType,H.postObj))}),c.qZA(),c.BQk()}if(2&I){const Z=c.oxw().$implicit,S=c.oxw(2);c.xp6(1),c.Q6J("isStudent",S.isStudent)("postObj",Z)}}function b(I,R){if(1&I){const Z=c.EpF();c.TgZ(0,"app-news-edit-post",12),c.NdJ("changePostObjEvent",function(H){c.CHM(Z);const Mt=c.oxw(3);return c.KtG(Mt.changePostObj(Mt.enumNewsPostActionType.UPDATE,H))}),c.qZA()}if(2&I){const Z=c.oxw().$implicit,S=c.oxw(2);c.Q6J("postObj",Z)("classroomId",S.classroomId)}}function G(I,R){if(1&I&&(c.TgZ(0,"div",8),c.YNc(1,j,2,2,"ng-container",9),c.YNc(2,b,1,2,"ng-template",null,10,c.W1O),c.qZA()),2&I){const Z=R.$implicit,S=c.MAs(3);c.xp6(1),c.Q6J("ngIf",!Z.isShowEditForm)("ngIfElse",S)}}function w(I,R){1&I&&(c.TgZ(0,"div",6)(1,"div",13)(2,"div",14),c.O4$(),c.TgZ(3,"svg",15),c._UZ(4,"path",16)(5,"path",17)(6,"path",18)(7,"path",19)(8,"path",20)(9,"path",21),c.qZA(),c.kcU(),c.TgZ(10,"p",22),c._uU(11),c.ALo(12,"mytranslate"),c.qZA()()()()),2&I&&(c.xp6(11),c.Oqu(c.lcZ(12,1,"lang_student_news_there_is_no_news")+"!"))}function q(I,R){1&I&&(c.TgZ(0,"span",26),c._UZ(1,"azt-loading-ui"),c.qZA())}function Q(I,R){if(1&I){const Z=c.EpF();c.TgZ(0,"button",27),c.NdJ("click",function(){c.CHM(Z);const H=c.oxw(3);return c.KtG(H.getNextPage())}),c.ALo(1,"mytranslate"),c.O4$(),c.TgZ(2,"svg",28),c._UZ(3,"polyline",29),c.qZA()()}2&I&&c.s9C("matTooltip",c.lcZ(1,1,"lang_auto_hien_ban_ghi_cu_hon"))}function wt(I,R){if(1&I&&(c.TgZ(0,"div",6)(1,"div",23),c.YNc(2,q,2,0,"span",24),c.YNc(3,Q,4,3,"ng-template",null,25,c.W1O),c.qZA()()),2&I){const Z=c.MAs(4),S=c.oxw(2);c.xp6(2),c.Q6J("ngIf",S.sAztNextPaginationService.isLoadingNextPage)("ngIfElse",Z)}}function Et(I,R){if(1&I&&(c.YNc(0,Ot,2,1,"div",4),c.YNc(1,G,4,2,"div",5),c.YNc(2,w,13,3,"div",4),c.YNc(3,wt,5,2,"div",4)),2&I){const Z=c.oxw();c.Q6J("ngIf",!Z.isStudent),c.xp6(1),c.Q6J("ngForOf",Z.postObjs),c.xp6(1),c.Q6J("ngIf",Z.postObjs.length<=0),c.xp6(1),c.Q6J("ngIf",Z.postObjs.length&&Z.sAztNextPaginationService.hasNextPage)}}let se=(()=>{class I extends n.Q{changePostObj(Z,S){switch(Z){case e.ADD_NEW:this.postObjs.unshift(S);break;case e.UPDATE:this.postObjs=this.postObjs.map(H=>H.id==S.id?S:H);break;case e.DELETE:this.postObjs=this.postObjs.filter(H=>H.id!=S.id)}}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(Z){var S={size:this.sAztNextPaginationService.itemPerPage,page:this.sAztNextPaginationService.curPage,classroomId:this.classroomId,student:this.isStudent};Z?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsListPost(S).subscribe({next:H=>{let Mt={page:1,size:-1,newsIds:H.list.map(le=>le.id).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsEmotionsListPost(Mt).subscribe({next:le=>{let hn=this.commonService.arrayToUniqueDictionary(le.list??[],Le=>Le.newsId.toString());H.list.forEach(Le=>{this.postObjs.push({...Le,hasLoveEmotion:hn.hasOwnProperty(Le.id),isShowEditForm:!1,isShowCommentBox:!1})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(H.total),this.stopStatusObj()},error:le=>{this.errorStatusObj(le.error.message,!0)}}))},error:H=>{this.errorStatusObj(H.error.message,!0)}}))}getDataFirstTime(){this.postObjs=[],this.sAztNextPaginationService.resetToFirstPage(),this.getData(!1)}ngOnChanges(){this.getDataFirstTime()}ngOnInit(){super.ngOnInit()}constructor(Z,S,H){super(),this.newsService=Z,this.activeRoute=S,this.sAztNextPaginationService=H,this.postObjs=[],this.enumNewsPostActionType=e}}return I.\u0275fac=function(Z){return new(Z||I)(c.Y36(C.Yc),c.Y36(t.gz),c.Y36(rt.S))},I.\u0275cmp=c.Xpm({type:I,selectors:[["app-news-board"]],inputs:{isStudent:"isStudent",classroomId:"classroomId"},features:[c._Bn([rt.S]),c.qOj,c.TTD],decls:4,vars:2,consts:[[1,"grid","grid-cols-12"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start mb-3",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start box p-3 mb-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","mb-3"],[3,"classroomId","changePostObjEvent"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","box","p-3","mb-3"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"isStudent","postObj","changePostObjEvent"],[3,"postObj","classroomId","changePostObjEvent"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","87","height","102","viewBox","0 0 87 102","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M66.6719 13.9999L75.9738 81.8427L76.8095 88.649C77.0787 90.8417 75.5194 92.8374 73.3268 93.1066L14.7665 100.297C12.5739 100.566 10.5781 99.0069 10.3089 96.8142L1.29312 23.3867C1.1585 22.2904 1.93813 21.2925 3.03447 21.1579C3.0414 21.157 3.04832 21.1562 3.05526 21.1554L7.91363 20.6104M11.8422 20.1698L16.4292 19.6552L11.8422 20.1698Z","fill","white"],["d","M67.9103 13.8302C67.8165 13.1462 67.186 12.6678 66.5021 12.7615C65.8181 12.8553 65.3397 13.4858 65.4335 14.1697L67.9103 13.8302ZM75.9738 81.8427L77.2144 81.6903C77.2137 81.6845 77.213 81.6787 77.2122 81.6729L75.9738 81.8427ZM76.8095 88.649L78.0502 88.4967L76.8095 88.649ZM73.3268 93.1066L73.4791 94.3473L73.3268 93.1066ZM14.7665 100.297L14.9189 101.538L14.7665 100.297ZM10.3089 96.8142L11.5496 96.6619L10.3089 96.8142ZM3.05526 21.1554L3.1946 22.3976L3.05526 21.1554ZM8.05297 21.8527C8.73902 21.7757 9.23279 21.1572 9.15583 20.4711C9.07888 19.7851 8.46034 19.2913 7.77428 19.3682L8.05297 21.8527ZM11.7028 18.9276C11.0168 19.0045 10.523 19.6231 10.5999 20.3091C10.6769 20.9952 11.2954 21.4889 11.9815 21.412L11.7028 18.9276ZM16.5685 20.8974C17.2546 20.8205 17.7484 20.2019 17.6714 19.5159C17.5945 18.8298 16.9759 18.3361 16.2899 18.413L16.5685 20.8974ZM65.4335 14.1697L74.7353 82.0125L77.2122 81.6729L67.9103 13.8302L65.4335 14.1697ZM74.7331 81.995L75.5688 88.8013L78.0502 88.4967L77.2144 81.6903L74.7331 81.995ZM75.5688 88.8013C75.7539 90.3088 74.6819 91.6809 73.1744 91.866L73.4791 94.3473C76.357 93.994 78.4035 91.3745 78.0502 88.4967L75.5688 88.8013ZM73.1744 91.866L14.6142 99.0563L14.9189 101.538L73.4791 94.3473L73.1744 91.866ZM14.6142 99.0563C13.1067 99.2414 11.7347 98.1694 11.5496 96.6619L9.0682 96.9666C9.42156 99.8445 12.041 101.891 14.9189 101.538L14.6142 99.0563ZM11.5496 96.6619L2.5338 23.2344L0.0524334 23.539L9.0682 96.9666L11.5496 96.6619ZM2.5338 23.2344C2.48332 22.8232 2.77568 22.449 3.18681 22.3986L2.88213 19.9172C1.10059 20.1359 -0.166313 21.7575 0.0524334 23.539L2.5338 23.2344ZM3.18681 22.3986C3.1894 22.3982 3.192 22.3979 3.1946 22.3976L2.91592 19.9132C2.90465 19.9145 2.89339 19.9158 2.88213 19.9172L3.18681 22.3986ZM3.1946 22.3976L8.05297 21.8527L7.77428 19.3682L2.91592 19.9132L3.1946 22.3976ZM11.9815 21.412L16.5685 20.8974L16.2899 18.413L11.7028 18.9276L11.9815 21.412Z","fill","#1F64E7"],["fill-rule","evenodd","clip-rule","evenodd","d","M64.14 18.2692L72.5596 79.7529L73.3169 85.9212C73.5609 87.9083 72.1669 89.7146 70.2033 89.9557L17.7613 96.3948C15.7978 96.6359 14.0082 95.2204 13.7642 93.2333L5.61416 26.8568C5.47955 25.7605 6.25918 24.7626 7.35551 24.628L13.8431 23.8314","fill","#E8F0FE"],["d","M20.9219 4C20.9219 2.48122 22.1531 1.25 23.6719 1.25H69.2286C69.9577 1.25 70.6569 1.5395 71.1726 2.05485L84.6158 15.4898C85.1319 16.0056 85.4219 16.7053 85.4219 17.4349V80C85.4219 81.5188 84.1907 82.75 82.6719 82.75H23.6719C22.1531 82.75 20.9219 81.5188 20.9219 80V4Z","fill","white","stroke","#1F64E7","stroke-width","2.5"],["d","M69.6719 2.40283V14C69.6719 15.6569 71.015 17 72.6719 17H80.6055","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M31 17H57M31 29H74M31 42H74M31 55H74M31 68H57","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"],[1,"flex","justify-center"],["class","w-4 h-4 inline-block mr-2",4,"ngIf","ngIfElse"],["doneLoadNextPage",""],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","trash-homework-tab-C69nk6waYbG",1,"btn","btn-transparent",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(Z,S){if(1&Z&&(c.TgZ(0,"div",0),c.YNc(1,U,2,0,"div",1),c.YNc(2,Et,4,4,"ng-template",null,2,c.W1O),c.qZA()),2&Z){const H=c.MAs(3);c.xp6(1),c.Q6J("ngIf",S.statusObj.loading)("ngIfElse",H)}},dependencies:[yt.sg,yt.O5,$.gM,i.l,St.n,Bt,we,Wt,ut.JV],encapsulation:2}),I})()},9345:(xe,Ut,g)=>{g.d(Ut,{u:()=>Nt});var rt=g(56223),n=g(72164),e=g(76359),c=g(47180),C=g(65879),t=g(75470),yt=g(13978),$=g(96814),i=g(19347);function St(et,F){1&et&&(C.TgZ(0,"div",11)(1,"span",12),C._UZ(2,"azt-loading-ui"),C.qZA()())}function bt(et,F){if(1&et&&(C.TgZ(0,"span"),C._uU(1),C.ALo(2,"mytranslate"),C.qZA()),2&et){const E=C.oxw(2);C.xp6(1),C.Oqu(" ("+E.dataUpgradeClass.length+" "+C.lcZ(2,1,"lang_testbank_test_list_classes")+")")}}function Lt(et,F){1&et&&(C.TgZ(0,"div",25),C._uU(1),C.ALo(2,"mytranslate"),C.qZA()),2&et&&(C.xp6(1),C.hij("",C.lcZ(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_class_click_choose"),"."))}function lt(et,F){if(1&et){const E=C.EpF();C.TgZ(0,"input",38),C.NdJ("keyup",function(){C.CHM(E);const tt=C.oxw().index,ut=C.oxw(2);return C.KtG(ut.validateInput(tt))}),C.ALo(1,"mytranslate"),C.qZA()}if(2&et){const E=C.oxw(),tt=E.$implicit;C.MGl("id","input-event-",E.index,""),C.s9C("value",tt.nameClass),C.s9C("placeholder",C.lcZ(1,3,"lang_auto_nhap_ten_lop"))}}function it(et,F){if(1&et){const E=C.EpF();C.TgZ(0,"textarea",39),C.NdJ("keyup",function(){C.CHM(E);const tt=C.oxw().index,ut=C.oxw(2);return C.KtG(ut.validateInput(tt))}),C.ALo(1,"mytranslate"),C.qZA()}if(2&et){const E=C.oxw(),tt=E.$implicit;C.MGl("id","input-event-",E.index,""),C.s9C("value",tt.nameClass),C.s9C("placeholder",C.lcZ(1,3,"lang_auto_nhap_ten_lop"))}}function X(et,F){if(1&et){const E=C.EpF();C.TgZ(0,"div",26)(1,"div",27)(2,"div",28),C.YNc(3,lt,2,5,"input",29),C.YNc(4,it,2,5,"textarea",30),C.qZA(),C.TgZ(5,"div",31)(6,"button",32),C.NdJ("click",function(){const ut=C.CHM(E).$implicit,ft=C.oxw(2);return C.KtG(ft.clearInput(ut.id))}),C.O4$(),C.TgZ(7,"svg",33),C._UZ(8,"line",34)(9,"line",35),C.qZA()()()(),C.kcU(),C.TgZ(10,"div",36,37),C._uU(12),C.ALo(13,"mytranslate"),C.qZA()()}if(2&et){const E=F.index,pt=C.oxw(2);C.xp6(3),C.Q6J("ngIf",0==pt.isMobile),C.xp6(1),C.Q6J("ngIf",1==pt.isMobile),C.xp6(6),C.MGl("id","logerror",E,""),C.xp6(2),C.hij(" ",C.lcZ(13,4,"lang_student_classroom_list_utils_create_class_new_course_choose_class_dont_class_null"),". ")}}function at(et,F){if(1&et){const E=C.EpF();C.TgZ(0,"form",13)(1,"div",14)(2,"div",15)(3,"azt-list-classroom-checkbox",16),C.NdJ("changeCheckboxEvent",function(){C.CHM(E);const tt=C.oxw();return C.KtG(tt.changeCheckboxEvent())}),C.qZA()(),C.TgZ(4,"div",17)(5,"div",18),C._uU(6),C.ALo(7,"mytranslate"),C.YNc(8,bt,3,3,"span",19),C.qZA(),C.TgZ(9,"div",20)(10,"ng-scrollbar",21),C.YNc(11,Lt,3,3,"div",22),C.TgZ(12,"div",23),C.YNc(13,X,14,6,"div",24),C.qZA()()()()()()}if(2&et){const E=C.oxw();C.Q6J("formGroup",E.form),C.xp6(3),C.Q6J("form",E.form)("classroomGroupData",E.classroomWithGroup)("permissionName",E.permissionTypes.classroom)("defaultCssClass","classroom-box-in-dialog"),C.xp6(3),C.hij(" ",C.lcZ(7,11,"lang_student_classroom_list_utils_create_class_new_course_choose_class_respective_class")," "),C.xp6(2),C.Q6J("ngIf",E.dataUpgradeClass.length),C.xp6(2),C.Q6J("visibility","hover")("autoHeightDisabled",!0),C.xp6(1),C.Q6J("ngIf",0==E.dataUpgradeClass.length),C.xp6(2),C.Q6J("ngForOf",E.dataUpgradeClass)}}function vt(et,F){1&et&&(C.TgZ(0,"span",40),C._UZ(1,"azt-loading-ui"),C.qZA())}let Nt=(()=>{class et extends n.e{closeDialog(){this.dialogRef.close()}validateInput(E){let pt=document.getElementById("input-event-"+E),tt=pt?pt.value:"";if(""==tt){let ut=document.getElementById("logerror"+E);ut&&(ut.style.display="block")}if(""!=tt){let ut=document.getElementById("logerror"+E);ut&&(ut.style.display="none")}}handleUpgrade(){if(0!=this.dataUpgradeClass.length){let E=!0;this.sendDataUpgradeClass=[];for(let pt=0;pt<this.dataUpgradeClass.length;pt++){let tt=document.getElementById("input-event-"+pt),ut=tt?tt.value:"";""==ut&&(E=!1),this.validateInput(pt),this.sendDataUpgradeClass.push({oldId:this.dataUpgradeClass[pt].id,newName:ut,year:this.increaseYear(this.dataUpgradeClass[pt].year)})}1==E&&this.upgradeClassroomGroup()}else this.viewErrorSelected=!1}increaseYear(E){if(null!=E||null!=E){let pt=E.split(" ")[0],tt=parseInt(pt,10)+1;return tt+" - "+(tt+1)}}changeCheckboxEvent(){const E=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray),pt=E.concat(this.dataUpgradeClass.map(ut=>ut.id??0));let tt=pt.filter(ut=>pt.indexOf(ut)===pt.lastIndexOf(ut));E.length>this.dataUpgradeClass.length?this.dataUpgradeClass=this.dataUpgradeClass.concat(this.classroomObjs.filter(ut=>tt.includes(ut.id??0)).map(ut=>{let Bt,ft=ut.name,_t=ut.year,Ft=ft?.match(/\d+/g);if(null==Ft)Bt=ft;else{let Rt=parseInt(Ft[0].toString(),10)+1;Bt=ft?.replace(Ft[0],Rt.toString())}return{id:ut.id,nameClass:Bt,year:_t}})):tt.forEach(ut=>{this.dataUpgradeClass.splice(this.dataUpgradeClass.findIndex(ft=>ft.id===ut),1)})}clearInput(E){setTimeout(()=>{document.getElementById("azt-checkbox-item-"+E)?.click()},0)}upgradeClassroomGroup(){this.initStatusObj();for(var E=[],pt=0;pt<this.sendDataUpgradeClass.length;pt++)E.push({oldId:this.sendDataUpgradeClass[pt].oldId??0,newName:this.sendDataUpgradeClass[pt].newName??"",year:this.sendDataUpgradeClass[pt].year??""});this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpgradeClassroomPost(E).subscribe(tt=>{1==tt.success?(tt.data?.isDuplicatedClassroomName?this.errorStatusObj(tt.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(),this.errorStatusObj("lang_auto_tao_lop_cho_khoa_moi_khong_thanh_cong",!0))}))}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(E=>{E.success?(this.classroomWithGroup=E.data?.activeClassroomData??[],this.classroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroup.map(pt=>pt.classroomObjs)),this.successStatusObj()):this.errorStatusObj(E.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getClassroomObjs(),super.ngOnInit()}constructor(E,pt,tt,ut){super(void 0,ut),this.classroomGroupService=E,this.sAztClassroomCheckboxService=pt,this.location=tt,this.dialogRef=ut,this.classroomObjs=[],this.dataUpgradeClass=[],this.sendDataUpgradeClass=[],this.selectedAll=!1,this.viewErrorSelected=!0,this.isMobile=this.commonService.isMobileOrTable(),this.permissionTypes=e.y,this.classroomWithGroup=[],this.form=new rt.cw({classroomFormArray:new rt.Oe([]),whoAllow:new rt.NI(0,{nonNullable:!0})},{validators:[c.h.classroomInGroupCheckBoxValidatorWithoutWhoAllow]})}}return et.\u0275fac=function(E){return new(E||et)(C.Y36(t.c8),C.Y36(yt.f),C.Y36($.Ye),C.Y36(i.so,8))},et.\u0275cmp=C.Xpm({type:et,selectors:[["app-create-class-new-course"]],features:[C.qOj],decls:20,vars:16,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"font-medium","text-base"],[1,"leading-relaxed","text-slate-500","text-xs"],["class","flex items-center h-full",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","flex","justify-end"],["azt-track-service","create-classroom-new-course-dialog-k_ZG3G-AAS",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","create-classroom-new-course-dialog-OvOUaKHkJOv",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex","items-center","h-full"],[1,"w-6","h-6","inline-block","mx-auto"],[3,"formGroup"],[1,"p-3","pt-0"],[1,"azt-list-classroom"],[3,"form","classroomGroupData","permissionName","defaultCssClass","changeCheckboxEvent"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3","font-medium"],[4,"ngIf"],[2,"height","150px"],["track","vertical","pointerEventsMethod","scrollbar",1,"w-full",3,"visibility","autoHeightDisabled"],["style","height: 130px","class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-2","p-2"],["class","col-span-12 md:col-span-6 2xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center",2,"height","130px"],[1,"col-span-12","md:col-span-6","2xl:col-span-4"],[1,"flex","items-center","p-1","rounded"],[1,"col-span-10",2,"width","100%"],["class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],["class","text-area-form","rows","2","wrap","soft","class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],[1,"col-span-2","m-0","p-1","text-center"],["azt-track-service","create-classroom-new-course-dialog-NjCJ7r_T8U",1,"btn","btn-sm","btn-secondary","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"alert","alert-danger","mt-1",2,"margin","auto","padding","5px 10px","display","none",3,"id"],["ab",""],["type","text",1,"form-control",3,"id","value","placeholder","keyup"],["rows","2","wrap","soft","type","text",1,"form-control",3,"id","value","placeholder","keyup"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(E,pt){if(1&E&&(C.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),C._uU(4),C.ALo(5,"mytranslate"),C.qZA(),C.TgZ(6,"div",4),C._uU(7),C.ALo(8,"mytranslate"),C.qZA()(),C.YNc(9,St,3,0,"div",5),C.YNc(10,at,14,13,"ng-template",null,6,C.W1O),C.qZA(),C.TgZ(12,"div",7)(13,"button",8),C.NdJ("click",function(){return pt.closeDialog()}),C._uU(14),C.ALo(15,"mytranslate"),C.qZA(),C.TgZ(16,"button",9),C.NdJ("click",function(){return pt.handleUpgrade()}),C.YNc(17,vt,2,0,"span",10),C._uU(18),C.ALo(19,"mytranslate"),C.qZA()()()),2&E){const tt=C.MAs(11);C.xp6(4),C.hij(" ",C.lcZ(5,8,"lang_student_classroom_list_create_class_new_cousre")," "),C.xp6(3),C.Oqu(C.lcZ(8,10,"lang_student_classroom_list_utils_create_class_new_course_conten_review")),C.xp6(2),C.Q6J("ngIf",pt.statusObj.loading)("ngIfElse",tt),C.xp6(5),C.hij(" ",C.lcZ(15,12,"lang_button_cancel")," "),C.xp6(2),C.Q6J("disabled",pt.form.invalid),C.xp6(1),C.Q6J("ngIf",pt.statusObj.loading),C.xp6(1),C.hij(" ",C.lcZ(19,14,"lang_button_save")," ")}},encapsulation:2}),et})()},4014:(xe,Ut,g)=>{g.d(Ut,{v:()=>Bs});var rt=g(21266),n=g(82481),e=g(71026),c=g(52572),C=g(47496),t=g(65879),yt=g(78820),$=g(96814),i=g(98129),St=g(37722),bt=g(94767),Lt=g(8633),lt=g(63278),it=g(71518),X=g(77988),at=g(43389),vt=g(71646),Nt=g(25368),et=g(92596),F=g(93523),E=g(36727);function pt(r,x){1&r&&(t._UZ(0,"lucide-icon",11),t.ALo(1,"mytranslate")),2&r&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_published"))}function tt(r,x){1&r&&(t._UZ(0,"lucide-icon",12),t.ALo(1,"mytranslate")),2&r&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_Unpublished"))}function ut(r,x){if(1&r&&(t.TgZ(0,"div")(1,"div",8),t.YNc(2,pt,2,3,"lucide-icon",9),t.YNc(3,tt,2,3,"lucide-icon",10),t.qZA()()),2&r){const o=t.oxw();t.xp6(2),t.Q6J("ngIf",1==o.document.homework.isPublished),t.xp6(1),t.Q6J("ngIf",1!=o.document.homework.isPublished)}}function ft(r,x){1&r&&(t._UZ(0,"lucide-icon",15),t.ALo(1,"mytranslate")),2&r&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_published"))}function _t(r,x){1&r&&(t._UZ(0,"lucide-icon",12),t.ALo(1,"mytranslate")),2&r&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_Unpublished"))}function Ft(r,x){if(1&r&&(t.TgZ(0,"div",13),t.YNc(1,ft,2,3,"lucide-icon",14),t.YNc(2,_t,2,3,"lucide-icon",10),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",1==(null==o.document.exam?null:o.document.exam.isPublished)),t.xp6(1),t.Q6J("ngIf",1!=(null==o.document.exam?null:o.document.exam.isPublished))}}function Bt(r,x){if(1&r&&(t.TgZ(0,"div",16)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&r){const o=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_luot_lam")+": "+o.document.exam.attended)}}function Rt(r,x){if(1&r&&(t.TgZ(0,"div",16)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&r){const o=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_da_nop")+": "+o.document.homework.count+"/"+o.document.homework.totalStudent)}}const re=function(r){return{"mt-3":r}};let Zt=(()=>{class r extends C.Q{}return r.\u0275fac=function(){let x;return function(_){return(x||(x=t.n5z(r)))(_||r)}}(),r.\u0275cmp=t.Xpm({type:r,selectors:[["exam-exercises-block"]],inputs:{document:"document",index:"index"},features:[t.qOj],decls:11,vars:11,consts:[[1,"flex","items-center","cursor-pointer","hover:bg-slate-100","rounded-md","p-2",2,"text-align","left","border","none","box-shadow","none",3,"ngClass"],[1,"flex-none","image-fit","rounded-md","overflow-hidden"],[4,"ngIf","ngIfElse"],["ExamIcon",""],[1,"ml-4","mr-auto","w-2/3"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-500 text-xs mt-0.5 font-medium",4,"ngIf"],[1,"w-12","h-12","text-primary"],["name","file-text","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-text","matTooltipShowDelay","1000",3,"matTooltip"],["name","file","matTooltipShowDelay","1000",3,"matTooltip"],[1,"w-12","h-12","text-pending"],["name","file-check","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-check","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5","font-medium"]],template:function(o,_){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,ut,4,2,"div",2),t.YNc(3,Ft,3,2,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(5,"div",4)(6,"div",5,6),t._uU(8),t.qZA(),t.YNc(9,Bt,4,3,"div",7),t.YNc(10,Rt,4,3,"div",7),t.qZA()()),2&o){const d=t.MAs(4),O=t.MAs(7);t.Q6J("ngClass",t.VKq(9,re,0!==_.index)),t.xp6(2),t.Q6J("ngIf",_.document.homework)("ngIfElse",d),t.xp6(4),t.s9C("matTooltip",_.document.exam?_.document.exam.name:null==_.document.homework?null:_.document.homework.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",O.isDisabled),t.xp6(2),t.hij(" ",_.document.exam?_.document.exam.name:null==_.document.homework?null:_.document.homework.name," "),t.xp6(1),t.Q6J("ngIf",_.document.exam),t.xp6(1),t.Q6J("ngIf",_.document.homework)}},dependencies:[$.mk,$.O5,et.gM,F.Q,St.Nh5,E.JV],encapsulation:2}),r})();function kt(r,x){1&r&&t._UZ(0,"azt-loading-effect")}function K(r,x){1&r&&(t.TgZ(0,"span",44),t._UZ(1,"azt-loading-ui"),t.qZA())}function P(r,x){1&r&&(t.O4$(),t.kcU(),t.TgZ(0,"span",45)(1,"span",46),t._uU(2,"1"),t.qZA()())}function ht(r,x){1&r&&(t.TgZ(0,"span"),t._uU(1,"\xa0"),t.TgZ(2,"span",47),t._uU(3,"1"),t.qZA()())}function xt(r,x){1&r&&(t.TgZ(0,"h2",48),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_list_of_assigned_assignments")))}function Ct(r,x){1&r&&(t.TgZ(0,"h2",48),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_search_results")))}function Dt(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(2);return t.KtG(d.backToDocumentList())}),t.TgZ(1,"span",50),t._UZ(2,"lucide-icon",51),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&r&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_auto_quay_lai")))}function ee(r,x){1&r&&t._UZ(0,"azt-loading-effect")}const ue=function(r){return[r]},pe=function(r,x){return{backto:r,filterBy:x}};function ae(r,x){if(1&r&&(t.TgZ(0,"a",67),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",68),t.qZA()),2&r){const o=t.oxw(2),_=o.$implicit,d=o.index,O=t.oxw(6);t.Q6J("routerLink",t.VKq(6,ue,t.lcZ(1,4,"/admin/testbank/homework-results-list/"+_.homework.classroomId+"/"+_.homework.id+"/"+_.homework.hashId)))("queryParams",t.WLB(8,pe,"/admin/student/classroom-details/"+O.classroomId+"/1",O.typeFilter)),t.xp6(2),t.Q6J("document",_)("index",d)}}function Pe(r,x){if(1&r&&(t.TgZ(0,"a",69),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",68),t.qZA()),2&r){const o=t.oxw(2),_=o.$implicit,d=o.index,O=t.oxw(6);t.Q6J("routerLink",t.VKq(6,ue,t.lcZ(1,4,"/bai-tap/"+_.homework.hashId)))("queryParams",t.WLB(8,pe,"/student/classroom-details/"+O.classroomId+"/1",O.typeFilter)),t.xp6(2),t.Q6J("document",_)("index",d)}}function ze(r,x){if(1&r&&(t.ynx(0),t.YNc(1,ae,3,11,"a",65),t.YNc(2,Pe,3,11,"a",66),t.BQk()),2&r){const o=t.oxw(7);t.xp6(1),t.Q6J("ngIf",!o.isStudent),t.xp6(1),t.Q6J("ngIf",o.isStudent)}}function Ke(r,x){if(1&r&&(t.TgZ(0,"a",72),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",68),t.qZA()),2&r){const o=t.oxw(2),_=o.$implicit,d=o.index,O=t.oxw(6);let B;t.Q6J("routerLink",t.VKq(6,ue,t.lcZ(1,4,"/admin/testbank/exam-results-list/"+(null!==(B=null==_.exam?null:_.exam.categoryId)&&void 0!==B?B:0)+"/"+(null==_.exam?null:_.exam.id)+"/0")))("queryParams",t.WLB(8,pe,"/admin/student/classroom-details/"+O.classroomId+"/1",O.typeFilter)),t.xp6(2),t.Q6J("document",_)("index",d)}}function Ue(r,x){if(1&r&&(t.TgZ(0,"a",73),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",68),t.qZA()),2&r){const o=t.oxw(2),_=o.$implicit,d=o.index,O=t.oxw(6);t.Q6J("routerLink",t.VKq(6,ue,t.lcZ(1,4,"/de-thi/"+(null==_.exam?null:_.exam.hashId))))("queryParams",t.WLB(8,pe,"/student/classroom-details/"+O.classroomId+"/1",O.typeFilter)),t.xp6(2),t.Q6J("document",_)("index",d)}}function We(r,x){if(1&r&&(t.YNc(0,Ke,3,11,"a",70),t.YNc(1,Ue,3,11,"a",71)),2&r){const o=t.oxw(7);t.Q6J("ngIf",!o.isStudent),t.xp6(1),t.Q6J("ngIf",o.isStudent)}}function Fe(r,x){if(1&r&&(t.TgZ(0,"div",63),t.YNc(1,ze,3,2,"ng-container",0),t.YNc(2,We,2,2,"ng-template",null,64,t.W1O),t.qZA()),2&r){const o=x.$implicit,_=t.MAs(3);t.xp6(1),t.Q6J("ngIf",o.homework)("ngIfElse",_)}}function de(r,x){if(1&r&&(t.TgZ(0,"div",61),t.YNc(1,Fe,4,2,"div",62),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",o.documentList)}}function Je(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div")(1,"div")(2,"button",56),t.NdJ("click",function(){const O=t.CHM(o).$implicit;return t.KtG(O.isExpand=!O.isExpand)}),t.TgZ(3,"span",57),t._UZ(4,"lucide-icon",58),t.qZA(),t.TgZ(5,"span",59),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"getDayOfWeek"),t.ALo(9,"mytranslate"),t.ALo(10,"formatOnlyDateByUserUnitPipe"),t.qZA()()(),t.YNc(11,de,2,1,"div",60),t.qZA()}if(2&r){const o=x.$implicit;t.xp6(4),t.s9C("name",o.isExpand?"chevron-down":"chevron-right"),t.xp6(2),t.Oqu(t.lcZ(7,3,t.lcZ(8,5,o.assignmentDate))+", "+t.lcZ(9,7,"lang_testbank_powerpoint_date")+" "+t.lcZ(10,9,o.assignmentDate)),t.xp6(5),t.Q6J("ngIf",o.isExpand)}}function Xe(r,x){1&r&&(t.TgZ(0,"span",77),t._UZ(1,"azt-loading-ui"),t.qZA())}function qe(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",74)(1,"span",75),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(4);return t.KtG(!d.sAztNextPaginationService.isLoadingNextPage&&d.getNextPage())}),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,Xe,2,0,"span",76),t.qZA()()}if(2&r){const o=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_business_document_get_more_documents")," "),t.xp6(2),t.Q6J("ngIf",o.sAztNextPaginationService.isLoadingNextPage)}}function Qe(r,x){if(1&r&&(t.ynx(0),t.YNc(1,Je,12,11,"div",54),t.YNc(2,qe,5,4,"div",55),t.BQk()),2&r){const o=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",o.listGroupDocumentObjs),t.xp6(1),t.Q6J("ngIf",o.sAztNextPaginationService.hasNextPage)}}function tn(r,x){1&r&&(t.TgZ(0,"div",78)(1,"div",79),t.O4$(),t.TgZ(2,"svg",80),t._UZ(3,"path",81)(4,"path",82)(5,"path",83)(6,"path",84)(7,"path",85)(8,"path",86),t.qZA(),t.kcU(),t.TgZ(9,"p",87),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()),2&r&&(t.xp6(10),t.Oqu(t.lcZ(11,1,"lang_student_there_are_no_exercises_or_tests_yet")+"!"))}function en(r,x){if(1&r&&(t.TgZ(0,"div",52),t.YNc(1,Qe,3,2,"ng-container",0),t.YNc(2,tn,12,3,"ng-template",null,53,t.W1O),t.qZA()),2&r){const o=t.MAs(3),_=t.oxw(2);t.xp6(1),t.Q6J("ngIf",_.listGroupDocumentObjs.length>0)("ngIfElse",o)}}function nn(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",22)(1,"div",23)(2,"div",24)(3,"div",25)(4,"div",26)(5,"azt-search-box",27),t.NdJ("onSearch",function(d){t.CHM(o);const O=t.oxw();return t.KtG(O.searchDocumentObjs(d.searchObj))}),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"button",28),t.YNc(8,K,2,0,"span",29),t.O4$(),t.TgZ(9,"svg",30),t._UZ(10,"polygon",31),t.qZA(),t.YNc(11,P,3,0,"span",32),t.kcU(),t.TgZ(12,"span",33),t._uU(13),t.ALo(14,"mytranslate"),t.YNc(15,ht,4,0,"span",34),t.qZA()()(),t.TgZ(16,"div",35)(17,"button",36),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.openEditor())}),t.TgZ(18,"span",37),t._UZ(19,"lucide-icon",38),t.qZA(),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()(),t.TgZ(22,"div",39),t.YNc(23,xt,3,3,"h2",40),t.YNc(24,Ct,3,3,"h2",40),t.YNc(25,Dt,6,3,"button",41),t.qZA(),t.TgZ(26,"div",42),t.YNc(27,ee,1,0,"azt-loading-effect",0),t.qZA(),t.YNc(28,en,4,2,"ng-template",null,43,t.W1O),t.qZA()}if(2&r){const o=t.MAs(29),_=t.oxw(),d=t.MAs(4);t.xp6(5),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(6,14,"lang_auto_tim_kiem"))("searchContentObj",_.searchContentObj),t.xp6(2),t.Q6J("matMenuTriggerFor",d),t.xp6(1),t.Q6J("ngIf",_.loadingFilter),t.xp6(3),t.Q6J("ngIf",""!=_.typeFilter),t.xp6(2),t.hij(" ",t.lcZ(14,16,"lang_homework_homework_score_list_sort")," "),t.xp6(2),t.Q6J("ngIf",""!=_.typeFilter),t.xp6(5),t.hij(" ",t.lcZ(21,18,"lang_student_new_assignment")," "),t.xp6(3),t.Q6J("ngIf",!_.isShowSearchResult),t.xp6(1),t.Q6J("ngIf",_.isShowSearchResult),t.xp6(1),t.Q6J("ngIf",_.isShowSearchResult),t.xp6(2),t.Q6J("ngIf",_.searchContentObj.isLoading||_.loadingFilter)("ngIfElse",o)}}function Ye(r,x){1&r&&(t.O4$(),t.TgZ(0,"svg",88),t._UZ(1,"polyline",89),t.qZA())}function Te(r,x){1&r&&(t.O4$(),t.TgZ(0,"svg",88),t._UZ(1,"polyline",89),t.qZA())}let ye=(()=>{class r extends C.Q{changeFilter(o){this.typeFilter=o,this.loadingFilter=!0,this.resetData(),this.commonService.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/1","?filterBy="+o),this.getData(!0)}openEditor(){let o=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backto=${encodeURIComponent(o)}&classroomId=${this.classroomId}`)}backToDocumentList(){this.isShowSearchResult=!1,this.searchContentObj.searchContent="",this.getData(!1)}resetData(){this.listDocumentObjs=[]}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}searchDocumentObjs(o){this.searchContentObj=o,this.searchContentObj.setLoading(!0),this.resetData(),this.getData(!1)}getData(o){o?this.sAztNextPaginationService.setLoading(!0):this.searchContentObj.searchContent||this.initStatusObj();let _={categoryId:void 0,documentType:"file",shareType:void 0,fileType:this.typeFilter?this.typeFilter:void 0,classroomId:this.classroomId,name:this.searchContentObj.searchContent?this.searchContentObj.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:0,page:this.sAztNextPaginationService.curPage,itemPerPage:this.sAztNextPaginationService.itemPerPage};this.isShowSearchResult=!!this.searchContentObj.searchContent,this.waitDestroy(this.documentService.apiDocumentsGet(_.categoryId,_.documentType,_.shareType,_.fileType,_.classroomId,_.name,_.suggestExamPurpose,_.lite,_.getGlobal,_.page,_.itemPerPage).subscribe(d=>{d.success?(this.listDocumentObjs=this.listDocumentObjs.concat(d.data?.documentObjs??[]),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(d.data?.total??0),this.processData(this.listDocumentObjs),this.searchContentObj.setLoading(!1),this.stopStatusObj()):(this.searchContentObj.setLoading(!1),this.errorStatusObj(d.message,!0)),this.loadingFilter=!1}))}processData(o){let _=this.commonService.arrayToDictionary(o,O=>O.exam?new Date(O.exam.createdAt??0).toDateString():new Date(O?.homework?.createdAt??0).toDateString()),d=[];Object.entries(_).forEach(([O,B],ot)=>{if(B.length>0){let At=B[0];d.push({isExpand:!0,assignmentDate:At.exam?At.exam.createdAt:At.homework?.createdAt,documentList:B})}}),this.listGroupDocumentObjs=d}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.typeFilter=this.commonService.getMyQueryParam("filterBy")??"",this.getData(!1)}constructor(o,_,d){super(),this.documentService=o,this.activeRoute=_,this.sAztNextPaginationService=d,this.classroomId=0,this.listGroupDocumentObjs=[],this.listDocumentObjs=[],this.isShowSearchResult=!1,this.searchContentObj=new lt.h,this.typeFilter="",this.loadingFilter=!1}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(it.Zg),t.Y36(rt.gz),t.Y36(Lt.S))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-exam-exercises"]],inputs:{isStudent:"isStudent"},features:[t._Bn([Lt.S]),t.qOj],decls:36,vars:13,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","after"],["menuFilter","matMenu"],[1,"dropdown-menu","w-32","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-2"],["width","18","height","18","x","3","y","3","rx","2"],["d","M7 8h10"],["d","M7 12h10"],["d","M7 16h10"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.75","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-2"],["d","M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"],["d","M14 2v4a2 2 0 0 0 2 2h4"],["d","M10 9H8"],["d","M16 13H8"],["d","M16 17H8"],["xmlns","http://www.w3.org/2000/svg","class","lucide lucide-activity w-4 h-4 ml-2","style","color: green","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","#000000","stroke-width","1.75","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-2"],["d","m9 15 2 2 4-4"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"flex","w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[1,"mr-2","w-full","sm:w-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["tourAnchor","azt-tour-2",1,"shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["class","w-3 h-4 mr-1 inline-block",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-0","md:mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],["class","sm:hidden w-5 h-5 flex items-center justify-center absolute rounded-full bg-primary right-0 top-0 -mr-2 -mt-2",4,"ngIf"],[1,"azt-hidden","sm:block"],[4,"ngIf"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","exam-exercises-jkv8YmKddH",1,"btn","btn-primary","text-white","shadow-md",3,"click"],[1,"w-4","h-4","mr-2"],["name","plus"],[1,"col-span-12","flex","items-center","mt-5"],["class","text-lg font-medium mr-5",4,"ngIf"],["azt-track-service","exam-exercises-TXjuRofaLz","class","btn-text-primary font-medium ml-auto",3,"click",4,"ngIf"],[1,"col-span-12","mt-5"],["doneLoadingSearch",""],[1,"w-3","h-4","mr-1","inline-block"],[1,"sm:hidden","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","bg-primary","right-0","top-0","-mr-2","-mt-2"],[1,"rounded-full","bg-primary","text-white","cursor-pointer","font-medium"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[1,"text-lg","font-medium","mr-5"],["azt-track-service","exam-exercises-TXjuRofaLz",1,"btn-text-primary","font-medium","ml-auto",3,"click"],[1,"w-4","h-4","inline-block","mr-1"],["name","chevron-left"],[1,"col-span-12"],["emptyList",""],[4,"ngFor","ngForOf"],["class","mt-2 font-medium",4,"ngIf"],["azt-track-service","exam-exercises-gYn61cneD",1,"flex","items-center","py-3","pr-3","hover:text-primary",3,"click"],[1,"w-6","h-6","inline-block"],[3,"name"],[1,"font-medium","ml-3"],["class","box p-3",4,"ngIf"],[1,"box","p-3"],["class","document",4,"ngFor","ngForOf"],[1,"document"],["isExamDocument",""],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams"],[3,"document","index"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams"],[1,"mt-2","font-medium"],["azt-track-service","exam-exercises-4meI3XYSV",1,"clickable",3,"click"],["class","w-4 h-4 inline-block ml-2",4,"ngIf"],[1,"w-4","h-4","inline-block","ml-2"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","87","height","102","viewBox","0 0 87 102","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M66.6719 13.9999L75.9738 81.8427L76.8095 88.649C77.0787 90.8417 75.5194 92.8374 73.3268 93.1066L14.7665 100.297C12.5739 100.566 10.5781 99.0069 10.3089 96.8142L1.29312 23.3867C1.1585 22.2904 1.93813 21.2925 3.03447 21.1579C3.0414 21.157 3.04832 21.1562 3.05526 21.1554L7.91363 20.6104M11.8422 20.1698L16.4292 19.6552L11.8422 20.1698Z","fill","white"],["d","M67.9103 13.8302C67.8165 13.1462 67.186 12.6678 66.5021 12.7615C65.8181 12.8553 65.3397 13.4858 65.4335 14.1697L67.9103 13.8302ZM75.9738 81.8427L77.2144 81.6903C77.2137 81.6845 77.213 81.6787 77.2122 81.6729L75.9738 81.8427ZM76.8095 88.649L78.0502 88.4967L76.8095 88.649ZM73.3268 93.1066L73.4791 94.3473L73.3268 93.1066ZM14.7665 100.297L14.9189 101.538L14.7665 100.297ZM10.3089 96.8142L11.5496 96.6619L10.3089 96.8142ZM3.05526 21.1554L3.1946 22.3976L3.05526 21.1554ZM8.05297 21.8527C8.73902 21.7757 9.23279 21.1572 9.15583 20.4711C9.07888 19.7851 8.46034 19.2913 7.77428 19.3682L8.05297 21.8527ZM11.7028 18.9276C11.0168 19.0045 10.523 19.6231 10.5999 20.3091C10.6769 20.9952 11.2954 21.4889 11.9815 21.412L11.7028 18.9276ZM16.5685 20.8974C17.2546 20.8205 17.7484 20.2019 17.6714 19.5159C17.5945 18.8298 16.9759 18.3361 16.2899 18.413L16.5685 20.8974ZM65.4335 14.1697L74.7353 82.0125L77.2122 81.6729L67.9103 13.8302L65.4335 14.1697ZM74.7331 81.995L75.5688 88.8013L78.0502 88.4967L77.2144 81.6903L74.7331 81.995ZM75.5688 88.8013C75.7539 90.3088 74.6819 91.6809 73.1744 91.866L73.4791 94.3473C76.357 93.994 78.4035 91.3745 78.0502 88.4967L75.5688 88.8013ZM73.1744 91.866L14.6142 99.0563L14.9189 101.538L73.4791 94.3473L73.1744 91.866ZM14.6142 99.0563C13.1067 99.2414 11.7347 98.1694 11.5496 96.6619L9.0682 96.9666C9.42156 99.8445 12.041 101.891 14.9189 101.538L14.6142 99.0563ZM11.5496 96.6619L2.5338 23.2344L0.0524334 23.539L9.0682 96.9666L11.5496 96.6619ZM2.5338 23.2344C2.48332 22.8232 2.77568 22.449 3.18681 22.3986L2.88213 19.9172C1.10059 20.1359 -0.166313 21.7575 0.0524334 23.539L2.5338 23.2344ZM3.18681 22.3986C3.1894 22.3982 3.192 22.3979 3.1946 22.3976L2.91592 19.9132C2.90465 19.9145 2.89339 19.9158 2.88213 19.9172L3.18681 22.3986ZM3.1946 22.3976L8.05297 21.8527L7.77428 19.3682L2.91592 19.9132L3.1946 22.3976ZM11.9815 21.412L16.5685 20.8974L16.2899 18.413L11.7028 18.9276L11.9815 21.412Z","fill","#1F64E7"],["fill-rule","evenodd","clip-rule","evenodd","d","M64.14 18.2692L72.5596 79.7529L73.3169 85.9212C73.5609 87.9083 72.1669 89.7146 70.2033 89.9557L17.7613 96.3948C15.7978 96.6359 14.0082 95.2204 13.7642 93.2333L5.61416 26.8568C5.47955 25.7605 6.25918 24.7626 7.35551 24.628L13.8431 23.8314","fill","#E8F0FE"],["d","M20.9219 4C20.9219 2.48122 22.1531 1.25 23.6719 1.25H69.2286C69.9577 1.25 70.6569 1.5395 71.1726 2.05485L84.6158 15.4898C85.1319 16.0056 85.4219 16.7053 85.4219 17.4349V80C85.4219 81.5188 84.1907 82.75 82.6719 82.75H23.6719C22.1531 82.75 20.9219 81.5188 20.9219 80V4Z","fill","white","stroke","#1F64E7","stroke-width","2.5"],["d","M69.6719 2.40283V14C69.6719 15.6569 71.015 17 72.6719 17H80.6055","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M31 17H57M31 29H74M31 42H74M31 55H74M31 68H57","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","ml-2",2,"color","green"],["points","20 6 9 17 4 12"]],template:function(o,_){if(1&o&&(t.YNc(0,kt,1,0,"azt-loading-effect",0),t.YNc(1,nn,30,20,"ng-template",null,1,t.W1O),t.TgZ(3,"mat-menu",2,3)(5,"div",4)(6,"ul",5)(7,"li")(8,"button",6),t.NdJ("click",function(){return _.changeFilter("")}),t.O4$(),t.TgZ(9,"svg",7),t._UZ(10,"rect",8)(11,"path",9)(12,"path",10)(13,"path",11),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(16,"li")(17,"button",12),t.NdJ("click",function(){return _.changeFilter("homework")}),t.O4$(),t.TgZ(18,"svg",13),t._UZ(19,"path",14)(20,"path",15)(21,"path",16)(22,"path",17)(23,"path",18),t.qZA(),t._uU(24),t.ALo(25,"mytranslate"),t.YNc(26,Ye,2,0,"svg",19),t.qZA()(),t.kcU(),t.TgZ(27,"li")(28,"button",6),t.NdJ("click",function(){return _.changeFilter("exam")}),t.O4$(),t.TgZ(29,"svg",20),t._UZ(30,"path",14)(31,"path",15)(32,"path",21),t.qZA(),t._uU(33),t.ALo(34,"mytranslate"),t.YNc(35,Te,2,0,"svg",19),t.qZA()()()()()),2&o){const d=t.MAs(2);t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",d),t.xp6(14),t.hij(" ",t.lcZ(15,7,"lang_auto_tat_ca")," "),t.xp6(10),t.hij(" ",t.lcZ(25,9,"lang_auto_bai_tap")," "),t.xp6(2),t.Q6J("ngIf","homework"==_.typeFilter),t.xp6(7),t.hij(" ",t.lcZ(34,11,"lang_auto_de_thi")," "),t.xp6(2),t.Q6J("ngIf","exam"==_.typeFilter)}},dependencies:[rt.rH,$.sg,$.O5,X.VK,X.p6,at.l,vt.n,Nt.W,St.Nh5,Zt,E.Jy,E.JV,E.YK,E.WN],encapsulation:2}),r})();var ke=g(93733),Ne=g(50447),Se=g(60),ve=g(6050),Ie=g(87789),be=g(1103),we=g(60381);function on(r,x){1&r&&t._UZ(0,"azt-loading-effect")}function Jt(r,x){if(1&r&&(t.TgZ(0,"tr",15)(1,"td",16),t._UZ(2,"azt-student-info-box",17),t.qZA(),t.TgZ(3,"td",18),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(6,"td",18),t._uU(7),t.qZA(),t.TgZ(8,"td",18),t._uU(9),t.qZA(),t.TgZ(10,"td",18),t._uU(11),t.qZA(),t.TgZ(12,"td",18),t._uU(13),t.qZA()()),2&r){const o=x.$implicit;t.Q6J("id","row_student_"+o.id),t.xp6(2),t.Q6J("name",o.fullName)("parentFullName",o.parentFullName)("parentId",o.parentId)("parentPhone",o.parentPhone)("avatar",o.avatar)("gender",o.gender)("hasUser",o.hasUser)("schoolName",o.schoolName)("classrooms",o.classrooms)("joinedAt",o.joinedAt),t.xp6(2),t.Oqu(o.identificationNumber?t.xi3(5,16,o.identificationNumber,6):""),t.xp6(3),t.Oqu(null==o.attendanceStatistic?null:o.attendanceStatistic.totalAttend),t.xp6(2),t.Oqu(null==o.attendanceStatistic?null:o.attendanceStatistic.totalAbsence),t.xp6(2),t.Oqu(null==o.attendanceStatistic?null:o.attendanceStatistic.totalAbsentPermission),t.xp6(2),t.Oqu(null==o.attendanceStatistic?null:o.attendanceStatistic.totalAbsentNoPermission)}}function je(r,x){if(1&r&&(t.TgZ(0,"div",9)(1,"drag-scroll")(2,"table",10)(3,"thead")(4,"tr")(5,"th",11),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"th",12),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"th",12),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"th",12),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.TgZ(17,"th",13),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"th",13),t._uU(21),t.ALo(22,"mytranslate"),t.qZA()()(),t.TgZ(23,"tbody"),t.YNc(24,Jt,14,19,"tr",14),t.qZA()()()()),2&r){const o=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,7,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(10,9,"lang_auto_so_bao_danh")),t.xp6(3),t.Oqu(t.lcZ(13,11,"lang_student_number_of_sessions_attended")),t.xp6(3),t.Oqu(t.lcZ(16,13,"lang_student_number_of_sessions_missed")),t.xp6(3),t.Oqu(t.lcZ(19,15,"lang_student_number_of_approved_absences")),t.xp6(3),t.Oqu(t.lcZ(22,17,"lang_student_number_of_unauthorized_absences")),t.xp6(3),t.Q6J("ngForOf",o.listStudent)}}let Wt=(()=>{class r extends C.Q{onSearchBox(o){this.searchContentObj=o,this.getData()}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!0,me:this.isStudent,getAssessment:!1}).subscribe({next:_=>{this.listStudent=_.list,this.pageObj.setTotalPages(_.total??0),this.successStatusObj()},error:_=>{this.errorStatusObj(_.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getData()}constructor(o,_){super(),this.activeRoute=o,this.studentService=_,this.classroomId=0,this.searchContentObj=new lt.h,this.pageObj=new ve.m(20),this.listStudent=[]}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(rt.gz),t.Y36(Ie.VT))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-attendance-board"]],inputs:{isStudent:"isStudent"},features:[t.qOj],decls:13,vars:9,consts:[[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"isServerSearch","placeholder","onSearch"],[1,"col-span-12","overflow-auto"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap","text-center",2,"padding-left","10px","width","250px"],[1,"whitespace-nowrap","text-center"],[1,"text-center"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[2,"width","250px"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"]],template:function(o,_){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"azt-search-box",5),t.NdJ("onSearch",function(O){return _.onSearchBox(O.searchObj)}),t.ALo(8,"mytranslate"),t.qZA()()(),t.TgZ(9,"div",6),t.YNc(10,on,1,0,"azt-loading-effect",7),t.YNc(11,je,25,19,"ng-template",null,8,t.W1O),t.qZA()()),2&o){const d=t.MAs(12);t.xp6(3),t.Oqu(t.lcZ(4,5,"lang_azt_attendance")),t.xp6(4),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(8,7,"lang_core_tim_theo_ten_phone_email")),t.xp6(3),t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",d)}},dependencies:[$.sg,$.O5,at.l,Nt.W,be.a,we.HU,we.$Z,E.JV,E.gw],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),r})();var U=g(78595),Ot=g(55358),j=g(86825),b=g(56223),G=g(65592),w=g(44760),q=g(89156),Q=g(19347),wt=g(84049),Et=g(72164),se=g(97638),I=g(23083);let R=(()=>{class r extends Et.e{btnCloseDialog(){this.dialogRef.close(!1)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(o=>1==o.selected)}saveData(){this.initStatusObj();var o=[];this.checkboxMonth.checkboxMonth.filter(d=>1==d.selected).forEach(d=>{o.push({month:d.month,year:d.year})}),this.waitDestroy(this.paymentService.apiPaymentPost({payments:o,studentId:this.data}).subscribe({next:d=>{this.successStatusObj("lang_cms_utils_update_folder_success",!0),this.dialogRef.close(!0)},error:d=>{this.errorStatusObj(d.error.message,!0)}}))}constructor(o,_,d){super(d,_),this.paymentService=o,this.dialogRef=_,this.data=d,this.checkboxMonth=new wt.$,this.checkboxMonth.studentId=d}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(se.t),t.Y36(Q.so,8),t.Y36(Q.WI,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["azt-dialog-checkbox-month"]],features:[t.qOj],decls:11,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[3,"checkboxMonth"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-primary",3,"disabled","click"]],template:function(o,_){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"azt-checkbox-month",3),t.qZA()(),t.TgZ(4,"div",4)(5,"button",5),t.NdJ("click",function(){return _.btnCloseDialog()}),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return _.saveData()}),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&o&&(t.xp6(3),t.Q6J("checkboxMonth",_.checkboxMonth),t.xp6(3),t.hij(" ",t.lcZ(7,4,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",!_.isSelectedMonth()||_.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(10,6,"lang_business_news_update_post_button")," "))},dependencies:[I.$,E.JV],encapsulation:2}),r})();var Z=g(97694),S=g(29023),H=g(23680),Mt=g(64170),le=g(44683),hn=g(13217),Le=g(84003),fn=g(25804),Yn=g(63120),Nn=g(20553),jn=g(97151),Me=g(4021),xn=g(74104),Be=g(78497),Ln=g(28079),Yt=g(4844),ge=g(19127),De=g(95545);const He=["fileSelect"];function Bn(r,x){if(1&r&&(t.TgZ(0,"span",27),t._uU(1),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.Oqu((null==o.cellData?null:o.cellData.fullName)+": ")}}function Hn(r,x){if(1&r&&(t.TgZ(0,"span",28),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&r){const o=x.$implicit,_=x.index,d=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,o.errorMessage)+(_===d.errors.length-1?" ("+t.lcZ(3,3,"lang_auto_line")+" "+d.row+")":", ")," ")}}function Gn(r,x){if(1&r&&(t.TgZ(0,"div",24),t.YNc(1,Bn,2,1,"span",25),t.YNc(2,Hn,4,5,"span",26),t.qZA()),2&r){const o=x.$implicit;t.xp6(1),t.Q6J("ngIf",null==o.cellData?null:o.cellData.fullName),t.xp6(1),t.Q6J("ngForOf",o.errors)}}function Dn(r,x){if(1&r&&(t.TgZ(0,"div",19)(1,"div",20),t._uU(2),t.qZA(),t.TgZ(3,"div",21)(4,"ng-scrollbar",22),t.YNc(5,Gn,3,2,"div",23),t.qZA()()()),2&r){const o=t.oxw(2);t.xp6(2),t.Oqu("T\u1ed5ng s\u1ed1 l\u1ed7i: "+o.errorImportFile.length),t.xp6(2),t.Q6J("visibility","hover")("autoHeightDisabled",!1),t.xp6(1),t.Q6J("ngForOf",o.errorImportFile)}}const Oe=function(r){return[r]};function Xt(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",29)(1,"azt-upload-single-document-to-editor",30),t.NdJ("emitFiles",function(d){t.CHM(o);const O=t.oxw(2);return t.KtG(O.handleUploadComplete(d))}),t.TgZ(2,"div",31)(3,"div",32)(4,"span",33),t._UZ(5,"lucide-icon",34),t.qZA(),t.TgZ(6,"span",35),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()()}if(2&r){const o=t.oxw(2);t.xp6(1),t.Q6J("fileType",t.VKq(7,Oe,o.allUploadFileTypes.EXCEL)),t.xp6(6),t.hij(" ",t.lcZ(8,3,"lang_auto_keo_tha_file_excel")," "),t.xp6(2),t.hij(" ",t.lcZ(10,5,"lang_auto_hoc_click_de_chon_file")," ")}}function Ge(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"div",40)(5,"div",41),t._UZ(6,"img",42),t.ALo(7,"convertCdnLinkOfGitHub"),t.qZA(),t.TgZ(8,"div",43)(9,"p",44,45),t._uU(11),t.qZA(),t.TgZ(12,"div",46),t._uU(13),t.qZA()(),t.TgZ(14,"div",47)(15,"button",48),t.NdJ("click",function(d){t.CHM(o);const O=t.oxw(2);return t.KtG(O.removeFile(d))}),t.ALo(16,"mytranslate"),t.TgZ(17,"span",49),t._UZ(18,"lucide-icon",50),t.qZA()()()()()()()()}if(2&r){const o=t.MAs(10),_=t.oxw(2);t.xp6(6),t.Q6J("src",t.lcZ(7,7,"images/excel.png"),t.LSH),t.xp6(3),t.s9C("matTooltip",null==_.file?null:_.file.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.xp6(2),t.hij(" ",_.file?_.file.name:""," "),t.xp6(2),t.hij(" ",_.fileMb+"mb"," "),t.xp6(2),t.s9C("matTooltip",t.lcZ(16,9,"lang_auto_xoa"))}}function an(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"a",51),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(2);return t.KtG(d.exportDefaultListStudent())}),t.TgZ(1,"span",52),t._UZ(2,"lucide-icon",53),t.qZA(),t.TgZ(3,"span",54),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&r&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_student_utils_download_file")," "))}function Re(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"a",51),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(2);return t.KtG(d.exportListStudent())}),t.TgZ(1,"span",52),t._UZ(2,"lucide-icon",53),t.qZA(),t.TgZ(3,"span",54),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&r&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_student_utils_export_list_student")," "))}function sn(r,x){if(1&r&&(t.TgZ(0,"div",12),t.YNc(1,Dn,6,4,"div",13),t.TgZ(2,"div",14),t.YNc(3,Xt,11,9,"div",15),t.YNc(4,Ge,19,11,"ng-template",null,16,t.W1O),t.TgZ(6,"div",17),t.YNc(7,an,6,3,"a",18),t.YNc(8,Re,6,3,"a",18),t.qZA()()()),2&r){const o=t.MAs(5),_=t.oxw();t.xp6(1),t.Q6J("ngIf",_.errorImportFile.length),t.xp6(2),t.Q6J("ngIf",!_.file)("ngIfElse",o),t.xp6(4),t.Q6J("ngIf",0==(null==_.studentObjs?null:_.studentObjs.length)||_.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",0!=(null==_.studentObjs?null:_.studentObjs.length)&&!_.isBusinessDomain)}}function vn(r,x){if(1&r&&(t.TgZ(0,"div",58)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&r){const o=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,1,o.msgError),"!")}}function cn(r,x){if(1&r&&(t.TgZ(0,"div",55),t._UZ(1,"azt-form-enter-info-student",56),t.YNc(2,vn,4,3,"div",57),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.Q6J("studentForm",o.studentForm),t.xp6(1),t.Q6J("ngIf",""!==o.msgError)}}function kn(r,x){1&r&&(t.TgZ(0,"span",59),t._UZ(1,"azt-loading-ui"),t.qZA())}function wn(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"azt-export-excel-for-student-list",60),t.NdJ("exportDataDone",function(d){t.CHM(o);const O=t.oxw();return t.KtG(O.exportStudentListDone(d))}),t.qZA()}if(2&r){const o=t.oxw();t.Q6J("objs",o.exportStudentObjs)}}let Rn=(()=>{class r extends Et.e{exportDefaultListStudent(){this.exportStudentObjs=[{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_1"),phone:"0123456789",email:"nguyenvana@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:1,birthday:new Date(2001,1,23),gender:1,classroomId:0,parentId:0,facebookLink:"https://www.facebook.com/azotavn",schoolName:"Tr\u01b0\u1eddng THPT Azota"},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_2"),phone:"0123456790",email:"phamthib@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:2,birthday:new Date(2001,5,25),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_3"),phone:"0123456791",email:"C@Gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:3,birthday:new Date(2002,5,25),gender:1,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_4"),phone:"0112348478",email:"tranthid@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:4,birthday:new Date(2002,2,23),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_5"),phone:"0123456793",email:void 0,password:this.isBusinessDomain?"aBc@123":"",identificationNumber:void 0,birthday:void 0,gender:0,classroomId:0,parentId:0}]}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.studentObjs)}exportStudentListDone(o){let _=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(o,_)}changeNameDownloadFile(o){return this.commonService.createFileNameExportFile([o])+".xlsx"}handleUploadComplete(o){this.file=o,this.fileMb=this.getFileMB(this.file?.size??0)}getFileMB(o){return o&&o>0?(o/=1048576).toFixed(2):0}removeFile(o){o.stopPropagation(),this.fileSelect&&(this.fileSelect.nativeElement.value=null),this.file=null}showImportExcel(o){this.importExcel=o}confirmAction(){let o=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.importExcel)this.file&&(1==this.selected.value?this.waitDestroy(this.studentService.apiStudentSaveStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(_=>{1==_.success?_.data?.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_student_utils_add_success")):(this.errorStatusObj("lang_student_error_uploading_file_please_check_again",!0),this.errorImportFile=_.data?.errors??[],this.file=null):(this.btnCloseDialog(!1),this.errorStatusObj(_.message??"",!0))})):2==this.selected.value&&this.waitDestroy(this.studentService.apiStudentUpdateStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(_=>{1==_.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.btnCloseDialog(!1),this.errorStatusObj(_.message??"",!0))})));else if(this.studentForm.form.valid){let _={fullName:o.fullName,phone:o.phoneNumber,identificationNumber:o.identificationNumber?Number(o.identificationNumber):void 0,email:o.email,gender:Number(o.gender),birthday:o.birthday,classroomId:this.classroomObj.id??0,password:o.password,facebookLink:o.facebookLink,schoolName:o.school};this.waitDestroy(this.studentService.apiStudentSaveObjPost(_).subscribe(d=>{1==d.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.stopStatusObj(),this.msgError=d.message??"")}))}}btnCloseDialog(o){this.dialogRef.close(o)}selectedIndexChange(o){if(this.selected.setValue(o),this.showImportExcel(0!=o),this.file){let _=document.getElementById("button-remove-export");_&&_.click()}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){super.ngOnInit()}constructor(o,_,d,O){super(O,d),this.shareFileFlutterService=o,this.studentService=_,this.dialogRef=d,this.data=O,this.studentForm=new fn.h,this.selected=new b.NI(0,{nonNullable:!0}),this.importExcel=!1,this.birthDay="",this.msgError="",this.maxDate=Nn.N.maxDateTimePicker,this.showPassword=!1,this.fileMb=0,this.errorImportFile=[],this.allUploadFileTypes=Yn.AZ,this.file=null,this.studentObjs=O.studentObjs,this.classroomObj=O.classroomObj}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(jn.g),t.Y36(Me.VT),t.Y36(Q.so,8),t.Y36(Q.WI,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-add-student"]],viewQuery:function(o,_){if(1&o&&t.Gf(He,5),2&o){let d;t.iGM(d=t.CRH())&&(_.fileSelect=d.first)}},features:[t._Bn([{provide:S.fM,useClass:le.WG,deps:[H.Ad,le.o8]},{provide:S.ab,useFactory:hn.fX,deps:[Le.D]},{provide:Mt.o2,useValue:{floatLabel:"never"}}]),t.qOj],decls:23,vars:21,consts:[[1,"box","scroll-menu-test"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[3,"selectedIndex","selectedIndexChange"],[3,"label"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","add_student-g5-sbau_Ya",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","add_student-I6Q3FiuU2e",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"form-group"],["class","mt-4",4,"ngIf"],[1,"intro","mt-4"],["class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md",4,"ngIf","ngIfElse"],["exitsFile",""],[1,"mt-2","text-center"],["azt-track-service","add_teacher-pukPV3tL4","class","btn text-primary btn-transparent","target","_self",3,"click",4,"ngIf"],[1,"mt-4"],[1,"text-danger","font-medium","text-right"],[1,"overflow-auto","p-2","mt-2","border-slate-200","dark:border-darkmode-400","border","box",2,"height","120px","padding-right","5px"],["pointerEventsMethod","scrollbar",1,"w-full","h-full",3,"visibility","autoHeightDisabled"],["class","mb-2 text-xs",4,"ngFor","ngForOf"],[1,"mb-2","text-xs"],["class","font-medium",4,"ngIf"],["class","font-medium text-danger",4,"ngFor","ngForOf"],[1,"font-medium"],[1,"font-medium","text-danger"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[3,"fileType","emitFiles"],[1,"px-4","pb-8","mt-8","flex","items-center","justify-center","text-center","cursor-pointer","relative"],[1,"flex","items-center"],[1,"w-5","h-5","mr-2","text-success","inline-block"],["name","file-spreadsheet"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"matTooltip","click"],[1,"w-4","h-4","inline-block"],["name","trash-2"],["azt-track-service","add_teacher-pukPV3tL4","target","_self",1,"btn","text-primary","btn-transparent",3,"click"],[1,"w-5","h-5","mr-2","inline-block"],["name","download-cloud"],[1,"text-primary"],[1,"px-2"],[3,"studentForm"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"w-4","h-4","inline-block","mr-2"],[3,"objs","exportDataDone"]],template:function(o,_){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"mat-tab-group",3),t.NdJ("selectedIndexChange",function(O){return _.selectedIndexChange(O)}),t._UZ(5,"mat-tab",4),t.ALo(6,"mytranslate"),t._UZ(7,"mat-tab",4),t.ALo(8,"mytranslate"),t._UZ(9,"mat-tab",4),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div"),t.YNc(12,sn,9,5,"div",5),t.YNc(13,cn,3,2,"div",6),t.qZA()()()(),t.TgZ(14,"div",7)(15,"button",8),t.NdJ("click",function(){return _.btnCloseDialog(!1)}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"button",9),t.NdJ("click",function(){return _.confirmAction()}),t.YNc(19,kn,2,0,"span",10),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()(),t.YNc(22,wn,1,1,"azt-export-excel-for-student-list",11)),2&o&&(t.xp6(4),t.Q6J("selectedIndex",_.selected.value),t.xp6(1),t.s9C("label",t.lcZ(6,11,"lang_student_utils_add_student")),t.xp6(2),t.s9C("label",t.lcZ(8,13,"lang_student_utils_quick_add_excel")),t.xp6(2),t.s9C("label",t.lcZ(10,15,"lang_student_utils_quick_add_phone_and_email")),t.xp6(3),t.Q6J("ngIf",0!=_.selected.value),t.xp6(1),t.Q6J("ngIf",0==_.selected.value),t.xp6(3),t.hij(" ",t.lcZ(17,17,"lang_cms_common_close_btn")," "),t.xp6(2),t.Q6J("disabled",_.statusObj.loading||_.studentForm.form.invalid&&!_.importExcel||null==_.file&&_.importExcel),t.xp6(1),t.Q6J("ngIf",_.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(21,19,"lang_cms_common_confirm_btn")," "),t.xp6(2),t.Q6J("ngIf",_.exportStudentObjs))},dependencies:[$.sg,$.O5,xn.uX,xn.SP,et.gM,Be.R,F.Q,Ln.S,vt.n,Yt.A,ge.K,St.Nh5,De.KC,E.JV,E.Bo],styles:[".file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:aliceblue}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}.hover-cancel[_ngcontent-%COMP%]:hover{background-color:#ebe9e9}.hover-save[_ngcontent-%COMP%]:hover{background-color:#ff3526}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}.input-custom[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:3px;padding-left:12px;padding-top:10px}.block-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.block-text[_ngcontent-%COMP%]{width:60px;color:#757575!important;font-size:16px}.block-input[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:space-evenly}"]}),r})();var k=g(96573);function Y(r,x){if(1&r&&(t.TgZ(0,"div",21)(1,"span",22),t._uU(2),t.ALo(3,"mytranslate"),t._UZ(4,"azt-see-more-content",23),t.qZA()()),2&r){const o=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_hoc_sinh"),":\xa0 "),t.xp6(2),t.Q6J("content",o.listStudentsNames)("maxLength",200)}}function f(r,x){1&r&&(t.TgZ(0,"span",24),t._UZ(1,"azt-loading-ui"),t.qZA())}let N=(()=>{class r extends Et.e{btnCloseDialog(o){this.dialogRef.close(o)}confirmDelete(){this.initStatusObj();let o=this.listStudentObjs.map(d=>d.id);this.waitDestroy(this.studentService.apiStudentDeleteObjsPost({classroomId:this.classroomObj.id,studentIds:o}).subscribe(d=>{1==d.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(d.message,!0),this.btnCloseDialog(!1))}))}constructor(o,_,d){super(d,_),this.studentService=o,this.dialogRef=_,this.data=d,this.listStudentsNames="",this.listStudentObjs=d.listStudentObjs,this.classroomObj=d.classroomObj,this.listStudentsNames=d.listStudentObjs.map(O=>O.fullName).join(", ")}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(Me.VT),t.Y36(Q.so,8),t.Y36(Q.WI,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-delete-list-student"]],features:[t.qOj],decls:36,vars:20,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center","mb-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-danger"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],[1,"font-medium","text-danger"],[2,"text-transform","lowercase"],[1,"text-danger"],[1,"contentBoxName"],[3,"defaultHeight"],[1,"p-2","w-64","sm:w-full"],["class","text-slate-500 dark:text-slate-400 mb-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","delete_list_student-ixh0YFkn_",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","delete_list_student--8oV9RBQ9X",1,"btn","btn-danger",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-slate-500","dark:text-slate-400","mb-2"],[1,"font-medium"],[3,"content","maxLength"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(o,_){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"path",5)(6,"path",6)(7,"path",7)(8,"line",8)(9,"line",9),t.qZA(),t.kcU(),t.TgZ(10,"span"),t._uU(11),t.ALo(12,"mytranslate"),t.TgZ(13,"span",10),t._uU(14),t.qZA(),t._uU(15," \xa0 "),t.TgZ(16,"span",11),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t._uU(19),t.ALo(20,"mytranslate"),t.TgZ(21,"span",12),t._uU(22),t.qZA(),t._uU(23," ? "),t.qZA()(),t.TgZ(24,"div",13)(25,"azt-mat-dialog-content",14)(26,"div",15),t.YNc(27,Y,5,5,"div",16),t.qZA()()()()(),t.TgZ(28,"div",17)(29,"button",18),t.NdJ("click",function(){return _.btnCloseDialog(!1)}),t._uU(30),t.ALo(31,"mytranslate"),t.qZA(),t.TgZ(32,"button",19),t.NdJ("click",function(){return _.confirmDelete()}),t.YNc(33,f,2,0,"span",20),t._uU(34),t.ALo(35,"mytranslate"),t.qZA()()()),2&o&&(t.xp6(11),t.hij(" ",t.lcZ(12,10,"lang_auto_ban_co_chac_chan_muon_xoa"),"\xa0 "),t.xp6(3),t.Oqu(_.data.listStudentObjs.length),t.xp6(3),t.Oqu(t.lcZ(18,12,"lang_auto_hoc_sinh")),t.xp6(2),t.hij(" ",t.lcZ(20,14,"lang_student_utils_delete_student_last"),":\xa0 "),t.xp6(3),t.Oqu(_.classroomObj.name),t.xp6(3),t.Q6J("defaultHeight",70),t.xp6(2),t.Q6J("ngIf",""!=_.listStudentsNames),t.xp6(3),t.hij(" ",t.lcZ(31,16,"lang_cms_common_close_btn")," "),t.xp6(3),t.Q6J("ngIf",_.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(35,18,"lang_cms_common_confirm_btn")," "))},dependencies:[$.O5,k.c,Be.R,vt.n,E.JV],encapsulation:2}),r})();var W=g(27573),zt=g(5977),te=g(87325);function En(r,x){if(1&r&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_zalo_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==o.extraDataObj?null:o.extraDataObj.reApprovedZaloFullName)}}function Ve(r,x){if(1&r&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_so_dien_thoai_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==o.extraDataObj?null:o.extraDataObj.reApprovedPhone)}}function Wn(r,x){if(1&r&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_email_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==o.extraDataObj?null:o.extraDataObj.reApprovedEmail)}}function po(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.TgZ(6,"span",9),t._uU(7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"span",10),t._uU(11),t.qZA(),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.YNc(14,En,5,4,"span",11),t.YNc(15,Ve,5,4,"span",11),t.YNc(16,Wn,5,4,"span",11),t.TgZ(17,"div",12)(18,"div",13),t.NdJ("click",function(){const O=t.CHM(o).$implicit,B=t.oxw();return t.KtG(B.reApproveStudent(O.studentId,O.id))}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"div",14),t.NdJ("click",function(){const O=t.CHM(o).$implicit,B=t.oxw();return t.KtG(B.rejectApproveRequest(O.studentId,O.id))}),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()()()()}if(2&r){const o=x.$implicit;t.xp6(4),t.hij(" ",t.lcZ(5,10,"lang_student_utils_reques_notice_list_student"),"\xa0 "),t.xp6(3),t.Oqu(o.studentName),t.xp6(1),t.hij(" \xa0 ",t.lcZ(9,12,"lang_student_utils_reques_notice_list_class"),"\xa0 "),t.xp6(3),t.Oqu(o.classroomName),t.xp6(1),t.hij(" \xa0 ",t.lcZ(13,14,"lang_student_utils_reques_notice_list_dont_select_name"),". "),t.xp6(2),t.Q6J("ngIf",null==o.extraDataObj?null:o.extraDataObj.reApprovedZaloFullName),t.xp6(1),t.Q6J("ngIf",null==o.extraDataObj?null:o.extraDataObj.reApprovedPhone),t.xp6(1),t.Q6J("ngIf",null==o.extraDataObj?null:o.extraDataObj.reApprovedEmail),t.xp6(3),t.hij(" ",t.lcZ(20,16,"lang_student_utils_reques_notice_list_unlock_select_again")," "),t.xp6(3),t.Oqu(t.lcZ(23,18,"lang_button_skip"))}}let Do=(()=>{class r extends Et.e{reApproveStudent(o,_){this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(o??0).subscribe(d=>{1==d.success?(this.showSuccessSnack("lang_auto_mo_khoa_cho_hoc_sinh_thanh_cong"),this.noticeObjs=this.noticeObjs.filter(O=>O.id!=_),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(d.message??"",!0)}))}rejectApproveRequest(o,_){this.waitDestroy(this.studentService.apiStudentRejectMappingRequestGet(o??0).subscribe(d=>{1==d.success?(this.noticeObjs=this.noticeObjs.filter(O=>O.id!=_),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(d.message??"",!0)}))}btnCloseDialog(o){this.dialogRef.close(o)}constructor(o,_,d,O){super(O,d),this.studentService=o,this.noticeService=_,this.dialogRef=d,this.data=O,this.classroomObj=O.classroomObj,this.noticeObjs=O.noticeObjs}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(Me.VT),t.Y36(te.L$),t.Y36(Q.so,8),t.Y36(Q.WI,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-re-approve-request"]],features:[t.qOj],decls:9,vars:4,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","scroll-menu-test"],[1,"p-3"],["class","ml-2 mb-2 mr-2 noticeobj",4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","request_notice_list-fcVrrBJYoFq",1,"btn","w-24","btn-secondary",3,"click"],[1,"ml-2","mb-2","mr-2","noticeobj"],[1,"pt-1","pb-1"],[1,"notify__content"],[1,"notify__name",2,"word-break","break-word"],[1,"notify__name"],["class","block",4,"ngIf"],[1,"mt-2","flex","justify-end"],["azt-track-service","request_notice_list-LmGuEaUfXP2",1,"notify__btn","bg-info","clickable",3,"click"],["azt-track-service","request_notice_list-K5qVGrBSxAh",1,"notify__btn","ml-3","clickable",3,"click"],[1,"block"]],template:function(o,_){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2),t.YNc(4,po,24,20,"div",3),t.qZA()()(),t.TgZ(5,"div",4)(6,"button",5),t.NdJ("click",function(){return _.btnCloseDialog(!1)}),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()()),2&o&&(t.xp6(4),t.Q6J("ngForOf",_.noticeObjs),t.xp6(3),t.hij(" ",t.lcZ(8,2,"lang_cms_common_close_btn")," "))},dependencies:[$.sg,$.O5,Be.R,E.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:90;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;background:rgba(0,0,0,.5607843137);min-height:100vh}.school-info[_ngcontent-%COMP%]{z-index:91;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.noticeobj[_ngcontent-%COMP%]{background-color:#ecebeb;border-radius:5px;border:1px solid #e5e5e5}.notify__name[_ngcontent-%COMP%]{font-weight:500}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px 15px}.notify__btn[_ngcontent-%COMP%]{text-align:center;border-radius:5px;padding:5px;color:#000;font-size:14px;background-color:#fff;border:1px solid #cecdcd;width:-moz-fit-content;width:fit-content}.bg-info[_ngcontent-%COMP%]{color:#fff!important;border:1px solid #00a7d0!important;background-color:#00a7d0}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.note[_ngcontent-%COMP%]{font-style:italic;font-size:15px;font-weight:600}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),r})();var bn=g(73445),go=g(33328),Vn=g(67679);function he(r,x){if(1&r&&(t.TgZ(0,"div",5),t._UZ(1,"input",6),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.Q6J("value",o.data.student.phone)}}function On(r,x){if(1&r&&(t.TgZ(0,"div",5),t._UZ(1,"input",18),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.Q6J("value",o.data.student.email)}}function yn(r,x){1&r&&(t.TgZ(0,"div",19),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Zn(r,x){1&r&&(t.TgZ(0,"div",19)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&r&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function ho(r,x){1&r&&(t.TgZ(0,"span",20),t._UZ(1,"azt-loading-ui"),t.qZA())}let fo=(()=>{class r extends Et.e{confirmCreate(){this.initStatusObj(),this.studentService.apiStudentCreateStudentUserPost({id:this.data.student.id,password:this.studentForm.form.controls.password?.value??""}).subscribe({next:_=>{this.successStatusObj("lang_business_create_account_successfully",!0),this.dialogRef.close(!0)},error:_=>{this.errorStatusObj(_.error.message??"lang_business_create_account_unsuccessfully",!0)}})}btnCloseDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit(),this.studentForm.form=new b.cw({fullName:new b.NI(this.data.student.fullName??"",{nonNullable:!0,validators:[b.kI.required]}),gender:new b.NI(this.data.student.gender,{nonNullable:!0}),birthday:new b.NI(this.data.student.birthday,{nonNullable:!0}),email:new b.NI(this.data.student.email??"",{nonNullable:!0,validators:[go.z.isInvalidEmail,b.kI.email,b.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new b.NI(this.data.student.phone??"",{nonNullable:!0,validators:[b.kI.required,b.kI.pattern(/^[0-9\-]*$/),b.kI.minLength(10),b.kI.maxLength(10)]}),identificationNumber:new b.NI(this.commonService.padLeadingZeros(this.data.student.identificationNumber??void 0,6),{nonNullable:!0,validators:[b.kI.min(1),b.kI.maxLength(6),b.kI.pattern("^[0-9]*$")]}),facebookLink:new b.NI(this.data.student?.moreInfo?.facebookLink,{nonNullable:!0}),school:new b.NI(this.data.student?.moreInfo?.schoolName,{nonNullable:!0}),password:new b.NI("",{nonNullable:!0,validators:[b.kI.required,b.kI.minLength(6)]})})}constructor(o,_,d){super(d,_),this.studentService=o,this.dialogRef=_,this.data=d,this.showPassword=!1,this.studentForm=new fn.h}ngOnDestroy(){super.ngOnDestroy()}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(Me.VT),t.Y36(Q.so,8),t.Y36(Q.WI,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["azt-create-user-business"]],features:[t._Bn([{provide:S.fM,useClass:le.WG,deps:[H.Ad,bn.o8]},{provide:S.ab,useFactory:hn.fX,deps:[Le.D]}]),t.qOj],decls:29,vars:22,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"formGroup"],[1,"mt-3"],["autocomplete","new-phone","type","text","disabled","",1,"form-control",3,"value"],["class","mt-3",4,"ngIf"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-forn-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"w-4","h-4","inline-block"],[3,"name"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],["type","text","autocomplete","new-email","disabled","",1,"form-control",3,"value"],[1,"text-xs","text-danger","mt-1"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(o,_){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"form",4)(8,"div",5),t._UZ(9,"input",6),t.qZA(),t.YNc(10,he,2,1,"div",7),t.YNc(11,On,2,1,"div",7),t.TgZ(12,"div",5)(13,"div",8),t._UZ(14,"input",9),t.ALo(15,"mytranslate"),t.TgZ(16,"button",10),t.NdJ("click",function(){return _.showPassword=!_.showPassword}),t.TgZ(17,"span",11),t._UZ(18,"lucide-icon",12),t.qZA()()(),t.YNc(19,yn,3,3,"div",13),t.YNc(20,Zn,4,3,"div",13),t.qZA()()()()(),t.TgZ(21,"div",14)(22,"button",15),t.NdJ("click",function(){return _.btnCloseDialog()}),t._uU(23),t.ALo(24,"mytranslate"),t.qZA(),t.TgZ(25,"button",16),t.NdJ("click",function(){return _.confirmCreate()}),t.YNc(26,ho,2,0,"span",17),t._uU(27),t.ALo(28,"mytranslate"),t.qZA()()()),2&o&&(t.xp6(5),t.hij(" ",t.lcZ(6,14,"lang_business_create_account")," "),t.xp6(2),t.Q6J("formGroup",_.studentForm.form),t.xp6(2),t.Q6J("value",_.data.student.fullName),t.xp6(1),t.Q6J("ngIf",_.data.student.phone),t.xp6(1),t.Q6J("ngIf",_.data.student.email),t.xp6(3),t.s9C("placeholder",t.lcZ(15,16,"lang_auto_mat_khau")),t.Q6J("type",_.showPassword?"text":"password"),t.xp6(4),t.s9C("name",_.showPassword?"eye":"eye-off"),t.xp6(1),t.Q6J("ngIf",null==_.studentForm.form.controls.password||null==_.studentForm.form.controls.password.errors?null:_.studentForm.form.controls.password.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==_.studentForm.form.controls.password||null==_.studentForm.form.controls.password.errors?null:_.studentForm.form.controls.password.errors.required),t.xp6(3),t.hij(" ",t.lcZ(24,18,"lang_auto_dong")," "),t.xp6(2),t.Q6J("disabled",(null==_.studentForm.form.controls.password?null:_.studentForm.form.controls.password.invalid)||_.statusObj.loading),t.xp6(1),t.Q6J("ngIf",_.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(28,20,"lang_auto_luu")," "))},dependencies:[$.O5,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,Vn.M,Be.R,vt.n,St.Nh5,E.JV],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]}),r})();var Xn=g(88131),to=g(38228),_n=g(2783),An=g(68719),Eo=g(46558),Po=g(94690),xo=g(7289),zo=g(27161),Sn=g(45468);let In=(()=>{class r{constructor(o,_,d,O,B,ot){this.commonService=o,this.examPageResultService=_,this.permissionService=d,this.globalService=O,this.answerTypeService=B,this.homeworkExamService=ot}getTestedAllResultByClassroomId(o,_,d,O){return this.globalService.startIntervalFunc(o),this.getTestedOfExamResultByClassroomId(o,_,"all",d,O)}getTestedOfExamResultByClassroomId(o,_,d,O,B){return new G.y(ot=>{this.examPageResultService.apiExamPageResultGetObjV2Get(_).subscribe(At=>{if(1==At.success){let Gt=At.data?.examObj,$e=this.hasEssay(At.data?.examQuestionObjs??[]),jo=At.data?.classroomWithAvatarAndStudentObjs??new Array;this.permissionService.hasViewExamPermission("exam",Gt)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",Gt)?this.getAllExamResultObjs(o,[],_,"",mo=>{if(mo.hasOwnProperty("success")&&1==mo.success){let Hs=this.mergeStudentWithAvatar(mo.studentWithResultObjs??[]),ta={};Hs?.forEach(uo=>{let bs=uo.parentId??"0";ta.hasOwnProperty(bs)||(ta[bs]=uo.examResultObjs??[])});let vs=B;if(this.homeworkExamService.mustInClassroom(Gt)&&jo.length>0)for(let uo=0;uo<jo.length;uo++)if(jo[uo].classroomObj?.id==O){let _e=jo[uo].studentObjs??[];if(_e.length>0)for(let me=0;me<_e.length;me++){let ks=_e[me].parentId??"0";ta.hasOwnProperty(ks)?(Array.isArray(_e[me].examResultObjs)||(_e[me].examResultObjs=[]),_e[me].examResultObjs=this.findExamResultOfStudent(_e[me].examResultObjs?.concat(ta[ks])??[],_e[me].id??"0")):_e[me].examResultObjs=this.findExamResultOfStudent(_e[me].examResultObjs??[],_e[me].id??"0");let ws=this.filterExamResultByType(_e[me].examResultObjs??[],"first"),Os=this.filterExamResultByType(_e[me].examResultObjs??[],"last"),ys=this.filterExamResultByType(_e[me].examResultObjs??[],"highest");vs.forEach(Lo=>{if(Lo.dataExam||(Lo.dataExam=[]),Lo.parentId==_e[me].parentId||Lo.id.toString()==_e[me].id){let ea=ws.hasOwnProperty(_e[me].parentId??0)?ws[_e[me].parentId??0]:void 0,na=Os.hasOwnProperty(_e[me].parentId??0)?Os[_e[me].parentId??0]:void 0,Zs=ys.hasOwnProperty(_e[me].parentId??0)?ys[_e[me].parentId??0]:void 0,Gs={id:Gt?.id??0,name:Gt?.name??"",firstPoint:ea?this.checkMarkStatus(ea,$e):void 0,lastPoint:na?this.checkMarkStatus(na,$e):void 0,highestPoint:Zs?this.checkMarkStatus(Zs,$e):void 0};Lo.dataExam.push(Gs)}Lo.dataExam.sort((ea,na)=>(ea.id??0)-(na.id??0))},vs)}break}ot.next({status:200,success:1,data:vs,message:"successful"}),ot.complete()}else ot.next({status:mo.code,success:0,data:B,message:mo.message??""}),ot.complete()}):(ot.next({status:200,success:1,data:B,message:"successful"}),ot.complete())}else ot.next({status:At.code,success:0,data:B,message:At.message??""}),ot.complete()})})}getAllExamResultObjs(o,_,d,O,B){this.examPageResultService.apiExamPageResultGetObjsV2Get(d,"export",O).subscribe(ot=>{1==ot.success?(ot.data?.objs&&_.push(...ot.data.objs),ot.data?.nextPage?this.globalService.isStopIntervalFunc(o)?B({studentWithResultObjs:_,success:1}):setTimeout(()=>{this.getAllExamResultObjs(o,_,d,ot.data?.nextPage??"",B)},300):B({studentWithResultObjs:_,success:1})):B({code:ot.code,studentWithResultObjs:[],success:0,message:ot.message??""})})}filterExamResultOnTest(o,_,d){var O={};return o.forEach(B=>{var ot=this.commonService.myClone(B)??{};if(ot.testStatus)O[ot.userId??0]=ot.testStatus;else if(ot.startedTest&&d)if(_.endTime){var At=Math.floor(new Date(_.endTime).getTime()/1e3);O[ot.userId??0]=d<=At+60*(_.minutes??0)+600?0:-1}else{var Gt=ot.startedTest?Math.floor(new Date(ot.startedTest).getTime()/1e3):0;O[ot.userId??0]=d<=Gt+86400?0:-1}else O[ot.userId??0]=0}),O}mergeStudentWithAvatar(o){var _=[];return o.forEach(d=>{var O=_.filter(ot=>ot.parentId==d.parentId);if(O&&0!=O.length)for(var B=0;B<_.length;B++)_[B].parentId==d.parentId&&(_[B].examResultObjs=_[B].examResultObjs?.concat(d.examResultObjs??[]));else _.push(d)}),_}findExamResultOfStudent(o,_){var d=[];return o.forEach(O=>{(O.studentId==_||null==O.studentId)&&d.push(O)}),d}createStudentWithResult(o,_,d){return{id:o.id,userId:o.parentId,studentId:o.id,identificationNumber:_.examResultStatisticObj?.offlineMarkInfoObj?.studentCode??0,offlineMixQuestionHashId:_.examResultStatisticObj?.offlineMarkInfoObj?.offlineMixquestionHashId??0,gender:o.gender,fullName:o.fullName,avatar:o.avatar,birthday:o.birthday,mark:_.hasOwnProperty("mark")?_.mark:null,confirmedAt:_.hasOwnProperty("confirmedAt")?_.confirmedAt:null,startedTest:_.hasOwnProperty("startedTest")?_.startedTest:null,createdAt:_.hasOwnProperty("createdAt")?_.createdAt:null,status:d,totalExamResultObjs:0,checkBoxGroupControl:new b.cw({isShow:new b.NI(!1,{nonNullable:!0}),selectedCheckbox:new b.NI(!1,{nonNullable:!0})})}}filterExamResultByType(o,_){var d={};if(o.length>1)o.forEach((B,ot)=>{var At=this.commonService.myClone(B);B.testStatus&&(At.resultId=At.id,At.indexTest=ot,"last"==_&&(d[At.userId??0]=At),"first"==_&&(d.hasOwnProperty(At.userId??0)||(d[At.userId??0]=At)),"highest"==_)&&(d.hasOwnProperty(At.userId??0)?(d[At.userId??0].mark??-1)<=(At.mark??-1)&&(d[At.userId??0]=At):d[At.userId??0]=At)});else{var O=this.commonService.myClone(o[0]??{});O.resultId=O.testStatus?O.id:0,O.indexTest=0,d[O.userId??0]=O}return d}hasEssay(o){let _=!1;for(let d=0;d<o.length;d++)if(this.answerTypeService.isEssayAnswer(o[d])){_=!0;break}return _}checkMarkStatus(o,_){return _?1==o.testStatus?o.confirmedAt?o.mark:-1:void 0:1==o.testStatus?o.mark:void 0}}return r.\u0275fac=function(o){return new(o||r)(t.LFG(Eo.z),t.LFG(it.DR),t.LFG(Po.j),t.LFG(xo.q),t.LFG(zo.i),t.LFG(Sn.v))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Pn=g(30617),zn=g(85904),Uo=g(97931),Fo=g(76024),Jo=g(46504);const qo=["parent"];function eo(r,x){1&r&&(t.TgZ(0,"div",10),t._UZ(1,"azt-loading-effect"),t.qZA())}function Qo(r,x){if(1&r&&t._UZ(0,"azt-download-qr-code",28),2&r){const o=t.oxw(2);t.Q6J("fileName",o.convertNameForQR())("linkUrl",o.copyLinkToClipboard())("showLink",!o.isMobileDevice)}}function Yo(r,x){if(1&r&&(t.TgZ(0,"button",31)(1,"span",32),t._UZ(2,"lucide-icon",33),t.qZA()()),2&r){t.oxw(3);const o=t.MAs(5);t.Q6J("matMenuTriggerFor",o)}}function Bo(r,x){if(1&r&&(t.TgZ(0,"div",29),t.YNc(1,Yo,3,1,"button",30),t.qZA()),2&r){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null!=(null==o.classroomObj?null:o.classroomObj.permissionObj))}}function Ho(r,x){if(1&r&&(t.TgZ(0,"span",47),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r){const o=t.oxw(3);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_da_chon")," ",o.totalCheckboxSelected,"")}}function Go(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(3);return t.KtG(d.deleteListStudentDialog())}),t.O4$(),t.TgZ(1,"svg",49),t._UZ(2,"path",50)(3,"path",51)(4,"path",52)(5,"line",53)(6,"line",54),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()}2&r&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_xoa")," "))}function vo(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"button",55),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(3);return t.KtG(d.exportListStudent())}),t.TgZ(1,"span",56),t._UZ(2,"lucide-icon",57),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&r&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_student_utils_export_list_student")," "))}function Ro(r,x){1&r&&(t.TgZ(0,"span",56),t._UZ(1,"azt-loading-ui"),t.qZA())}function Vo(r,x){1&r&&(t.TgZ(0,"span",56),t._UZ(1,"lucide-icon",57),t.qZA())}function $o(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(3);return t.KtG(d.exportExcelForScoreOfClassroom())}),t.YNc(1,Ro,2,0,"span",59),t.YNc(2,Vo,2,0,"span",59),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&r){const o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",o.loadingExport),t.xp6(1),t.Q6J("ngIf",!o.loadingExport),t.xp6(1),t.hij(" ",t.lcZ(4,3,"lang_auto_xuat_bang_diem")," ")}}function Ko(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(3);return t.KtG(d.addStudentDialog(d.classroomObj))}),t.TgZ(1,"span",61),t._UZ(2,"lucide-icon",62),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&r&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_them_hoc_sinh")," "))}function Wo(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"button",63),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(3);return t.KtG(d.openDialogAutoNumbering())}),t.TgZ(1,"span",61),t._UZ(2,"lucide-icon",64),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&r&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_danh_so_bao_danh")," "))}function bo(r,x){if(1&r&&(t.TgZ(0,"button",65)(1,"span",32),t._UZ(2,"lucide-icon",33),t.qZA()()),2&r){t.oxw(3);const o=t.MAs(5);t.Q6J("matMenuTriggerFor",o)}}function Xo(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",34)(1,"div",35)(2,"div",36)(3,"azt-search-box",37),t.NdJ("onSearch",function(d){t.CHM(o);const O=t.oxw(2);return t.KtG(O.onSearchBox(d.searchObj))}),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",38),t.YNc(6,Ho,3,4,"span",39),t.YNc(7,Go,9,3,"button",40),t.YNc(8,vo,5,3,"button",41),t.ALo(9,"viewPermission"),t.YNc(10,$o,5,5,"button",42),t.ALo(11,"viewPermission"),t.YNc(12,Ko,5,3,"button",43),t.ALo(13,"editPermission"),t.YNc(14,Wo,5,3,"button",44),t.ALo(15,"editPermission"),t.TgZ(16,"div",45),t.YNc(17,bo,3,1,"button",46),t.qZA()()()()}if(2&r){const o=t.oxw(2);t.xp6(3),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(4,9,"lang_core_tim_theo_ten_phone_email")),t.xp6(3),t.Q6J("ngIf",o.totalCheckboxSelected>0&&!(o.isMobileDevice||o.isMobileWebView)),t.xp6(1),t.Q6J("ngIf",o.totalCheckboxSelected>0&&!(o.isMobileDevice||o.isMobileWebView)),t.xp6(1),t.Q6J("ngIf",t.xi3(9,11,o.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(11,14,o.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(13,17,o.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(15,20,o.classroomObj,"student")),t.xp6(3),t.Q6J("ngIf",null!=(null==o.classroomObj?null:o.classroomObj.permissionObj))}}function ti(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"input",90),t.NdJ("change",function(){t.CHM(o);const d=t.oxw(4);return t.KtG(d.selectSingleStudent())}),t.qZA()}if(2&r){const o=t.oxw().$implicit;t.Q6J("formControl",o.checked)}}function v(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"mat-icon",96),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(2),O=d.index,B=d.$implicit,ot=t.oxw(3);return t.KtG(ot.onPositionChange("up",O-1,B.id,null==ot.classroomObj?null:ot.classroomObj.id))}),t._uU(1," keyboard_arrow_up "),t.qZA()}}function z(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"mat-icon",97),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(2),O=d.index,B=d.$implicit,ot=t.oxw(3);return t.KtG(ot.onPositionChange("down",O+1,B.id,null==ot.classroomObj?null:ot.classroomObj.id))}),t._uU(1," keyboard_arrow_down "),t.qZA()}}function p(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",91),t.YNc(1,v,2,0,"mat-icon",92),t.TgZ(2,"input",93,94),t.NdJ("keyup.enter",function(){t.CHM(o);const d=t.MAs(3),O=t.oxw(),B=O.index,ot=O.$implicit,At=t.oxw(3);return t.KtG(At.onPositionChange(d.value,B,ot.id,null==At.classroomObj?null:At.classroomObj.id))}),t.qZA(),t.YNc(4,z,2,0,"mat-icon",95),t.qZA()}if(2&r){const o=t.oxw().index,_=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0!=o),t.xp6(1),t.s9C("value",o+1),t.xp6(2),t.Q6J("ngIf",_.listStudents&&o!=_.listStudents.length-1)}}function T(r,x){if(1&r&&(t.TgZ(0,"div",98),t._uU(1),t.qZA()),2&r){const o=t.oxw().index;t.xp6(1),t.hij(" ",o+1," ")}}function A(r,x){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.lnq(" ",null==o.documentAttendedObj?null:o.documentAttendedObj.totalHomeworkAnswer," / ",null==o.totalDocumentObj?null:o.totalDocumentObj.totalHomework," ",t.lcZ(2,3,"lang_student_classroom_list_detail_homework")," ")}}function D(r,x){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.lnq(" ",null==o.documentAttendedObj?null:o.documentAttendedObj.totalExamResult," / ",null==o.totalDocumentObj?null:o.totalDocumentObj.totalExam," ",t.lcZ(2,3,"lang_student_classroom_list_detail_exam")," ")}}function J(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"button",99),t.NdJ("click",function(){t.CHM(o);const d=t.oxw().$implicit,O=t.oxw(3);return t.KtG(O.editStudentDialog(d))}),t.O4$(),t.TgZ(1,"svg",100),t._UZ(2,"path",101)(3,"path",102),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&r&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_sua")," "))}function mt(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"button",103),t.NdJ("click",function(){t.CHM(o);const d=t.oxw().$implicit,O=t.oxw(3);return t.KtG(O.deleteStudentDialog(d))}),t.TgZ(1,"span",104),t._UZ(2,"lucide-icon",105),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&r&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_button_delete")," "))}function It(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"button",106),t.NdJ("click",function(){t.CHM(o);const d=t.oxw().$implicit,O=t.oxw(3);return t.KtG(O.openDialogResetPass(d))}),t.O4$(),t.TgZ(1,"svg",107),t._UZ(2,"path",108)(3,"path",109)(4,"path",110)(5,"path",111)(6,"path",112),t.qZA(),t.kcU(),t.TgZ(7,"span",113),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&r&&(t.xp6(8),t.Oqu(t.lcZ(9,1,"lang_core_dat_lai_mat_khau")))}function Pt(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"button",114),t.NdJ("click",function(){t.CHM(o);const d=t.oxw().$implicit,O=t.oxw(3);return t.KtG(O.openDialogCreateUser(d))}),t.O4$(),t.TgZ(1,"svg",115),t._UZ(2,"path",116)(3,"circle",117)(4,"line",118)(5,"line",119),t.qZA(),t.kcU(),t.TgZ(6,"span",113),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&r&&(t.xp6(7),t.Oqu(t.lcZ(8,1,"lang_business_create_account")))}const Tt=function(r){return{opacity:r}};function fe(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"tr",75)(1,"td",76),t.YNc(2,ti,1,1,"input",77),t.qZA(),t.TgZ(3,"td",78),t.YNc(4,p,5,3,"div",79),t.ALo(5,"editPermission"),t.YNc(6,T,2,1,"ng-template",null,80,t.W1O),t.qZA(),t.TgZ(8,"td",81),t.NdJ("click",function(){const O=t.CHM(o).$implicit,B=t.oxw(3);return t.KtG(B.goToProfile(O.classroomId,O.id))}),t._UZ(9,"azt-student-info-box",82),t.qZA(),t.TgZ(10,"td",83),t._uU(11),t.ALo(12,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(13,"td",84),t.YNc(14,A,3,5,"span",7),t.qZA(),t.TgZ(15,"td",84),t.YNc(16,D,3,5,"span",7),t.qZA(),t.TgZ(17,"td",84)(18,"div",85),t.YNc(19,J,6,3,"button",86),t.ALo(20,"editPermission"),t.YNc(21,mt,5,3,"button",87),t.ALo(22,"editPermission"),t.YNc(23,It,10,3,"button",88),t.ALo(24,"editPermission"),t.YNc(25,Pt,9,3,"button",89),t.ALo(26,"editPermission"),t.qZA()()()}if(2&r){const o=x.$implicit,_=t.MAs(7),d=t.oxw(3);t.Q6J("ngStyle",t.VKq(42,Tt,null!=o.checked&&o.checked.value?"0.6":"1")),t.xp6(2),t.Q6J("ngIf",void 0!==o.checked),t.xp6(2),t.Q6J("ngIf",1==(null==d.classroomObj?null:d.classroomObj.sortType)&&t.xi3(5,24,d.classroomObj,"student"))("ngIfElse",_),t.xp6(5),t.Q6J("name",o.fullName)("parentFullName",o.parentFullName)("parentId",o.parentId)("parentPhone",o.parentPhone)("avatar",o.avatar)("identificationNumber",o.identificationNumber)("gender",o.gender)("hasUser",1==o.isVerified)("schoolName",o.schoolName)("classrooms",null==o.moreInfo?null:o.moreInfo.classrooms)("joinedAt",null==o.moreInfo?null:o.moreInfo.joinedAt)("phone",o.phone)("email",o.email),t.xp6(2),t.Oqu(o.identificationNumber?t.xi3(12,27,o.identificationNumber,6):""),t.xp6(3),t.Q6J("ngIf",(null==o.documentAttendedObj?null:o.documentAttendedObj.totalHomeworkAnswer)||(null==o.totalDocumentObj?null:o.totalDocumentObj.totalHomework)),t.xp6(2),t.Q6J("ngIf",(null==o.documentAttendedObj?null:o.documentAttendedObj.totalExamResult)||(null==o.totalDocumentObj?null:o.totalDocumentObj.totalExam)),t.xp6(3),t.Q6J("ngIf",t.xi3(20,30,d.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(22,33,d.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(24,36,d.classroomObj,"student")&&d.isBusinessDomain&&o.parentId),t.xp6(2),t.Q6J("ngIf",t.xi3(26,39,d.classroomObj,"student")&&d.isBusinessDomain&&!o.parentId)}}const Ee=function(){return["fullName","phone","email"]};function Kt(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",66)(1,"drag-scroll")(2,"table",67)(3,"thead")(4,"tr")(5,"th")(6,"input",68),t.NdJ("change",function(){t.CHM(o);const d=t.oxw(2);return t.KtG(d.selectAllStudentsObjs())}),t.qZA()(),t.TgZ(7,"th",69)(8,"div",70),t.ALo(9,"mytranslate"),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"th",71),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"th",72),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"th",73),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"th",73),t._uU(22),t.ALo(23,"mytranslate"),t.qZA(),t.TgZ(24,"th",73),t._uU(25),t.ALo(26,"mytranslate"),t.qZA()()(),t.TgZ(27,"tbody"),t.YNc(28,fe,27,44,"tr",74),t.ALo(29,"appFilter"),t.qZA()()()()}if(2&r){const o=t.oxw(2);t.xp6(6),t.Q6J("formControl",o.isSelectAllFormControl),t.xp6(2),t.hYB("matTooltip","",t.lcZ(9,13,"lang_student_classroom_list_detail_quantity"),": ",null!=o.classroomObj&&o.classroomObj.countStudents?null==o.classroomObj?null:o.classroomObj.countStudents:0,""),t.Q6J("matTooltipDisabled",o.isMobileDevice),t.xp6(2),t.lnq(" ",t.lcZ(11,15,o.isMobileDevice?"":"lang_student_classroom_list_detail_quantity"),"",o.isMobileDevice?"":": ","",null!=o.classroomObj&&o.classroomObj.countStudents?null==o.classroomObj?null:o.classroomObj.countStudents:0," "),t.xp6(3),t.Oqu(t.lcZ(14,17,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(17,19,"lang_auto_so_bao_danh")),t.xp6(3),t.hij(" ",t.lcZ(20,21,"lang_auto_bai_tap_da_lam")," "),t.xp6(3),t.hij(" ",t.lcZ(23,23,"lang_auto_de_thi_da_lam")," "),t.xp6(3),t.Oqu(t.lcZ(26,25,"lang_auto_hanh_dong")),t.xp6(3),t.Q6J("ngForOf",t.Dn7(29,27,o.listStudents,o.searchContentObj.searchContent,t.DdM(31,Ee)))}}function Un(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"button",131),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(3);return t.KtG(d.addStudentDialog(d.classroomObj))}),t.TgZ(1,"span",61),t._UZ(2,"lucide-icon",62),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&r&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_them_hoc_sinh")," "))}function Co(r,x){if(1&r&&(t.TgZ(0,"div",120)(1,"div",121),t.O4$(),t.TgZ(2,"svg",122),t._UZ(3,"path",123)(4,"path",124)(5,"path",125)(6,"path",126)(7,"path",127)(8,"path",128),t.qZA(),t.kcU(),t.TgZ(9,"div",129),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.YNc(12,Un,5,3,"button",130),t.ALo(13,"editPermission"),t.qZA()()),2&r){const o=t.oxw(2);let _;t.xp6(10),t.hij(" ",t.lcZ(11,2,"lang_student_classroom_list_detail_not_student")," "),t.xp6(2),t.Q6J("ngIf",t.xi3(13,4,o.classroomObj,"student")&&0==(null!==(_=null==o.listStudents?null:o.listStudents.length)&&void 0!==_?_:0))}}function oa(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div")(1,"input",68),t.NdJ("change",function(){t.CHM(o);const d=t.oxw(2);return t.KtG(d.selectAllStudentsObjs())}),t.qZA(),t.TgZ(2,"span",132),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()}if(2&r){const o=t.oxw(2);t.xp6(1),t.Q6J("formControl",o.isSelectAllFormControl),t.xp6(2),t.Oqu(t.lcZ(4,2,"lang_auto_tat_ca"))}}const ei=function(r){return{"w-full":r}};function xi(r,x){if(1&r&&(t.TgZ(0,"span",133),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r){const o=t.oxw(2);t.Q6J("ngClass",t.VKq(5,ei,o.isMobileDevice||o.isMobileWebView)),t.xp6(1),t.AsE("",t.lcZ(2,3,"lang_auto_da_chon")," ",o.totalCheckboxSelected,"")}}function ia(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"button",134),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(2);return t.KtG(d.deleteListStudentDialog())}),t.O4$(),t.TgZ(1,"svg",49),t._UZ(2,"path",50)(3,"path",51)(4,"path",52)(5,"line",53)(6,"line",54),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()}2&r&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_xoa")," "))}function rn(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"input",90),t.NdJ("change",function(){t.CHM(o);const d=t.oxw(3);return t.KtG(d.selectSingleStudent())}),t.qZA()}if(2&r){const o=t.oxw().$implicit;t.Q6J("formControl",o.checked)}}function aa(r,x){if(1&r&&(t.TgZ(0,"a",150),t.ALo(1,"mytranslate"),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"formatStudentCodeToNumber"),t.ALo(6,"mytranslate"),t._uU(7),t.qZA()),2&r){const o=t.oxw().$implicit;t.pbR("matTooltip","\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(1,7,"lang_first_and_last_name"),": ",o.fullName,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(2,9,"lang_number_phone"),": ",o.phone?o.phone:t.lcZ(3,11,"lang_not_data"),"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(4,13,"lang_auto_so_bao_danh"),": ",o.identificationNumber?t.xi3(5,15,o.identificationNumber,6):t.lcZ(6,18,"lang_not_data"),""),t.xp6(7),t.hij(" ",o.fullName," \xa0 ")}}function mn(r,x){if(1&r&&(t.TgZ(0,"div",151),t._uU(1),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.phone," ")}}function vi(r,x){if(1&r&&(t.TgZ(0,"div",152),t._uU(1),t.qZA()),2&r){const o=t.oxw().$implicit;t.s9C("matTooltip",o.email),t.xp6(1),t.hij(" ",o.email," ")}}function bi(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"a",161),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(2).$implicit,O=t.oxw(2);return t.KtG(O.editStudentDialog(d))}),t.O4$(),t.TgZ(1,"svg",100),t._UZ(2,"path",101)(3,"path",102),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&r&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_sua")," "))}function sa(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"a",162),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(2).$implicit,O=t.oxw(2);return t.KtG(O.deleteStudentDialog(d))}),t.TgZ(1,"span",104),t._UZ(2,"lucide-icon",105),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&r&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_button_delete")," "))}function Ci(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"a",164),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(3).$implicit,O=t.oxw(2);return t.KtG(O.openDialogResetPass(d))}),t.O4$(),t.TgZ(1,"svg",107),t._UZ(2,"path",108)(3,"path",109)(4,"path",110)(5,"path",111)(6,"path",112),t.qZA(),t.kcU(),t.TgZ(7,"span",113),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&r&&(t.xp6(8),t.Oqu(t.lcZ(9,1,"lang_core_dat_lai_mat_khau")))}function ln(r,x){if(1&r&&(t.TgZ(0,"li"),t.YNc(1,Ci,10,3,"a",163),t.ALo(2,"editPermission"),t.qZA()),2&r){const o=t.oxw(2).$implicit,_=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,_.classroomObj,"student")&&o.parentId)}}function Ti(r,x){if(1&r&&(t.TgZ(0,"div",153)(1,"a",154)(2,"span",155),t._UZ(3,"lucide-icon",156),t.qZA()(),t.TgZ(4,"mat-menu",null,157)(6,"div",158)(7,"ul",6)(8,"li"),t.YNc(9,bi,6,3,"a",159),t.ALo(10,"editPermission"),t.qZA(),t.TgZ(11,"li"),t.YNc(12,sa,5,3,"a",160),t.ALo(13,"editPermission"),t.qZA(),t.YNc(14,ln,3,4,"li",7),t.qZA()()()()),2&r){const o=t.MAs(5),_=t.oxw(3);t.xp6(1),t.Q6J("matMenuTriggerFor",o),t.xp6(8),t.Q6J("ngIf",t.xi3(10,4,_.classroomObj,"student")),t.xp6(3),t.Q6J("ngIf",t.xi3(13,7,_.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",_.isBusinessDomain)}}function ki(r,x){1&r&&(t.TgZ(0,"div",170)(1,"span",104),t._UZ(2,"lucide-icon",171),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&r&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_co_tai_khoan")," "))}function ra(r,x){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r){const o=t.oxw(2).$implicit;t.xp6(1),t.lnq(" ",null==o.documentAttendedObj?null:o.documentAttendedObj.totalHomeworkAnswer," / ",null==o.totalDocumentObj?null:o.totalDocumentObj.totalHomework," ",t.lcZ(2,3,"lang_student_classroom_list_detail_homework")," ")}}function ni(r,x){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r){const o=t.oxw(2).$implicit;t.xp6(1),t.lnq(" ",null==o.documentAttendedObj?null:o.documentAttendedObj.totalExamResult," / ",null==o.totalDocumentObj?null:o.totalDocumentObj.totalExam," ",t.lcZ(2,3,"lang_student_classroom_list_detail_exam")," ")}}function la(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"mat-icon",176),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(3),O=d.index,B=d.$implicit,ot=t.oxw(2);return t.KtG(ot.onPositionChange("up",O-1,B.id,null==ot.classroomObj?null:ot.classroomObj.id))}),t._uU(1," keyboard_arrow_up "),t.qZA()}}function wi(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"mat-icon",177),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(3),O=d.index,B=d.$implicit,ot=t.oxw(2);return t.KtG(ot.onPositionChange("down",O+1,B.id,null==ot.classroomObj?null:ot.classroomObj.id))}),t._uU(1," keyboard_arrow_down "),t.qZA()}}function Oi(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",165)(1,"div",172)(2,"div",173),t.YNc(3,la,2,0,"mat-icon",174),t.TgZ(4,"input",93,94),t.NdJ("keyup.enter",function(){t.CHM(o);const d=t.MAs(5),O=t.oxw(2),B=O.index,ot=O.$implicit,At=t.oxw(2);return t.KtG(At.onPositionChange(d.value,B,ot.id,null==At.classroomObj?null:At.classroomObj.id))}),t.qZA(),t.YNc(6,wi,2,0,"mat-icon",175),t.qZA()()()}if(2&r){const o=t.oxw(2).index,_=t.oxw(2);t.xp6(3),t.Q6J("ngIf",0!=o),t.xp6(1),t.s9C("value",o+1),t.xp6(2),t.Q6J("ngIf",_.listStudents&&o!=_.listStudents.length-1)}}function yi(r,x){if(1&r&&(t.TgZ(0,"div")(1,"div",165)(2,"div",166),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",167),t._uU(6),t.ALo(7,"formatStudentCodeToNumber"),t.qZA()(),t.TgZ(8,"div",165)(9,"div",166),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"div",167),t._uU(13),t.ALo(14,"mytranslate"),t.ALo(15,"mytranslate"),t.qZA()(),t.TgZ(16,"div",165)(17,"div",166),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"div",167),t._uU(21),t.ALo(22,"formatOnlyDateByUserUnitPipe"),t.qZA()(),t.TgZ(23,"div",165)(24,"div",166),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"div",167),t.YNc(28,ki,5,3,"div",168),t.qZA()(),t.TgZ(29,"div",165)(30,"div",166),t._uU(31),t.ALo(32,"mytranslate"),t.qZA(),t.TgZ(33,"div",167),t.YNc(34,ra,3,5,"span",7),t.qZA()(),t.TgZ(35,"div",165)(36,"div",166),t._uU(37),t.ALo(38,"mytranslate"),t.qZA(),t.TgZ(39,"div",167),t.YNc(40,ni,3,5,"span",7),t.qZA()(),t.YNc(41,Oi,7,3,"div",169),t.ALo(42,"editPermission"),t.qZA()),2&r){const o=t.oxw().$implicit,_=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,13,"lang_auto_so_bao_danh")," "),t.xp6(3),t.hij(" ",o.identificationNumber?t.xi3(7,15,o.identificationNumber,6):""," "),t.xp6(4),t.hij(" ",t.lcZ(11,18,"lang_gender")," "),t.xp6(3),t.hij(" ",0==o.gender?t.lcZ(14,20,"lang_auto_nu"):t.lcZ(15,22,"lang_auto_nam")," "),t.xp6(5),t.hij(" ",t.lcZ(19,24,"lang_birthday")," "),t.xp6(3),t.hij(" ",t.lcZ(22,26,o.birthday)," "),t.xp6(4),t.hij(" ",t.lcZ(26,28,"lang_testbank_folder_and_file_status")," "),t.xp6(3),t.Q6J("ngIf",1==o.isVerified),t.xp6(3),t.hij(" ",t.lcZ(32,30,"lang_auto_bai_tap_da_lam")," "),t.xp6(3),t.Q6J("ngIf",(null==o.documentAttendedObj?null:o.documentAttendedObj.totalHomeworkAnswer)||(null==o.totalDocumentObj?null:o.totalDocumentObj.totalHomework)),t.xp6(3),t.hij(" ",t.lcZ(38,32,"lang_auto_de_thi_da_lam")," "),t.xp6(3),t.Q6J("ngIf",(null==o.documentAttendedObj?null:o.documentAttendedObj.totalExamResult)||(null==o.totalDocumentObj?null:o.totalDocumentObj.totalExam)),t.xp6(1),t.Q6J("ngIf",1==(null==_.classroomObj?null:_.classroomObj.sortType)&&t.xi3(42,34,_.classroomObj,"student"))}}function Zi(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",135)(1,"div",136),t.YNc(2,rn,1,1,"input",77),t.TgZ(3,"div",137)(4,"div",138),t.NdJ("click",function(){const O=t.CHM(o).$implicit,B=t.oxw(2);return t.KtG(B.goToProfile(O.classroomId,O.id))}),t.TgZ(5,"div",139),t._UZ(6,"azt-create-avatar",140),t.ALo(7,"anonymousPhone"),t.ALo(8,"mycdn"),t.qZA(),t.TgZ(9,"div",141),t.YNc(10,aa,8,20,"a",142),t.YNc(11,mn,2,1,"div",143),t.YNc(12,vi,2,2,"div",144),t.qZA()(),t.YNc(13,Ti,15,10,"div",145),t.ALo(14,"editPermission"),t.qZA(),t.TgZ(15,"button",146),t.NdJ("click",function(){const O=t.CHM(o).index,B=t.oxw(2);return t.KtG(B.toggleExpandedContent(O))}),t.TgZ(16,"span",147),t._UZ(17,"lucide-icon",148),t.qZA()()(),t.TgZ(18,"div",149),t.YNc(19,yi,43,37,"div",7),t.qZA()()}if(2&r){const o=x.$implicit,_=x.index,d=t.oxw(2);t.Q6J("ngStyle",t.VKq(21,Tt,null!=o.checked&&o.checked.value?"0.6":"1")),t.xp6(2),t.Q6J("ngIf",void 0!==o.checked),t.xp6(4),t.MGl("matTooltip","",0==o.parentId||1==o.isAnonymous?null:" Id: "+o.parentId+(""!=t.lcZ(7,14,o.parentPhone)?" - Phone: "+o.parentPhone:"")+" - Name: "+o.parentFullName," "),t.Q6J("nameCreateAvatar",o.fullName)("linkAvatar",t.lcZ(8,16,o.avatar))("size",36),t.xp6(4),t.Q6J("ngIf",o.fullName),t.xp6(1),t.Q6J("ngIf",o.phone),t.xp6(1),t.Q6J("ngIf",o.email),t.xp6(1),t.Q6J("ngIf",t.xi3(14,18,d.classroomObj,"student")),t.xp6(3),t.ekj("rotate-180",d.expandedItemIndex===_),t.xp6(2),t.Q6J("@expandCollapse",d.expandedItemIndex===_?"open":"closed"),t.xp6(1),t.Q6J("ngIf",d.expandedItemIndex===_)}}function oi(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"button",179),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(3);return t.KtG(d.addStudentDialog(d.classroomObj))}),t.TgZ(1,"span",61),t._UZ(2,"lucide-icon",62),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&r&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_them_hoc_sinh")," "))}function Ai(r,x){if(1&r&&(t.TgZ(0,"div",120)(1,"div",121),t.O4$(),t.TgZ(2,"svg",122),t._UZ(3,"path",123)(4,"path",124)(5,"path",125)(6,"path",126)(7,"path",127)(8,"path",128),t.qZA(),t.kcU(),t.TgZ(9,"div",129),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.YNc(12,oi,5,3,"button",178),t.ALo(13,"editPermission"),t.qZA()()),2&r){const o=t.oxw(2);let _;t.xp6(10),t.hij(" ",t.lcZ(11,2,"lang_student_classroom_list_detail_not_student")," "),t.xp6(2),t.Q6J("ngIf",t.xi3(13,4,o.classroomObj,"student")&&0==(null!==(_=null==o.listStudents?null:o.listStudents.length)&&void 0!==_?_:0))}}function Si(r,x){if(1&r&&(t.TgZ(0,"div",11)(1,"div",12)(2,"h2",13),t._uU(3),t.qZA(),t.TgZ(4,"span",14),t._uU(5),t.qZA(),t.YNc(6,Qo,1,3,"azt-download-qr-code",15),t.qZA(),t.TgZ(7,"div",12),t._UZ(8,"azt-share",16),t.YNc(9,Bo,2,1,"div",17),t.qZA()(),t.YNc(10,Xo,18,23,"div",18),t.TgZ(11,"div",19)(12,"div",20),t.YNc(13,Kt,30,32,"div",21),t.ALo(14,"appFilter"),t.YNc(15,Co,14,7,"div",22),t.ALo(16,"appFilter"),t.qZA(),t.TgZ(17,"div",23)(18,"div",24),t.YNc(19,oa,5,4,"div",7),t.TgZ(20,"div",12),t.YNc(21,xi,3,7,"span",25),t.YNc(22,ia,9,3,"button",26),t.qZA()(),t.YNc(23,Zi,20,23,"div",27),t.ALo(24,"appFilter"),t.YNc(25,Ai,14,7,"div",22),t.ALo(26,"appFilter"),t.qZA()()),2&r){const o=t.oxw();t.xp6(3),t.hij(" ",null==o.classroomObj?null:o.classroomObj.name," "),t.xp6(2),t.hij("( ",null==o.classroomObj?null:o.classroomObj.year," )"),t.xp6(1),t.Q6J("ngIf",o.joinClassroomLink),t.xp6(2),t.Q6J("backToLink",o.backToLink)("objectCodeType",1)("objectCode","CLASSROOM")("objectId",o.classroomId)("classroomWithPermissionObj",o.classroomObj),t.xp6(1),t.Q6J("ngIf",!o.hasStudents||!(null!=o.listStudents&&o.listStudents.length)),t.xp6(1),t.Q6J("ngIf",o.hasStudents||(null==o.listStudents?null:o.listStudents.length)),t.xp6(3),t.Q6J("ngIf",t.Dn7(14,17,o.listStudents,o.searchContentObj.searchContent,t.DdM(33,Ee)).length>0),t.xp6(2),t.Q6J("ngIf",!o.hasStudents||0==t.Dn7(16,21,o.listStudents,o.searchContentObj.searchContent,t.DdM(34,Ee)).length),t.xp6(4),t.Q6J("ngIf",o.listStudents&&o.listStudents.length>0),t.xp6(2),t.Q6J("ngIf",o.totalCheckboxSelected>0),t.xp6(1),t.Q6J("ngIf",o.totalCheckboxSelected>0),t.xp6(1),t.Q6J("ngForOf",t.Dn7(24,25,o.listStudents,o.searchContentObj.searchContent,t.DdM(35,Ee))),t.xp6(2),t.Q6J("ngIf",!o.hasStudents||0==t.Dn7(26,29,o.listStudents,o.searchContentObj.searchContent,t.DdM(36,Ee)).length)}}function To(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"li")(1,"button",180),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.goToMergeStudent(null==d.classroomObj?null:d.classroomObj.id))}),t.O4$(),t.TgZ(2,"svg",49),t._UZ(3,"path",181)(4,"path",182)(5,"line",183),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&r&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_student_classroom_list_detail_merge_student")," "))}function ko(r,x){1&r&&(t.O4$(),t.kcU(),t.TgZ(0,"span",191),t._UZ(1,"lucide-icon",192),t.qZA())}function no(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"li")(1,"button",184),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.changeSortType(0))}),t.O4$(),t.TgZ(2,"svg",49),t._UZ(3,"path",185)(4,"path",186)(5,"path",187)(6,"path",188)(7,"path",189),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.YNc(10,ko,2,0,"span",190),t.qZA()()}if(2&r){const o=t.oxw();t.xp6(8),t.hij(" ",t.lcZ(9,2,"lang_student_classroom_list_detail_sort_name")," "),t.xp6(2),t.Q6J("ngIf",0==(null==o.classroomObj?null:o.classroomObj.sortType))}}function wo(r,x){1&r&&(t.TgZ(0,"span",191),t._UZ(1,"lucide-icon",192),t.qZA())}function Ii(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"li")(1,"button",193),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.changeSortType(1))}),t.O4$(),t.TgZ(2,"svg",49),t._UZ(3,"line",194)(4,"line",195)(5,"line",196)(6,"path",197)(7,"path",198)(8,"path",199),t.qZA(),t.kcU(),t.TgZ(9,"span",200),t.ALo(10,"mytranslate"),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.YNc(13,wo,2,0,"span",190),t.qZA()()}if(2&r){const o=t.oxw();t.xp6(9),t.s9C("matTooltip",t.lcZ(10,3,"lang_student_classroom_list_detail_request")),t.xp6(2),t.Oqu(t.lcZ(12,5,"lang_student_classroom_list_detail_change")),t.xp6(2),t.Q6J("ngIf",0!=(null==o.classroomObj?null:o.classroomObj.sortType))}}function ca(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"li",201)(1,"button",202),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.openDialogAutoNumbering())}),t.O4$(),t.TgZ(2,"svg",49),t._UZ(3,"path",203)(4,"path",204)(5,"path",205)(6,"path",206)(7,"rect",207)(8,"rect",208),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()}2&r&&(t.xp6(9),t.hij(" ",t.lcZ(10,1,"lang_auto_danh_so_bao_danh")," "))}function _a(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"li",201)(1,"button",209),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.exportListStudent())}),t.O4$(),t.TgZ(2,"svg",210),t._UZ(3,"path",211)(4,"polyline",212)(5,"line",213)(6,"line",214)(7,"line",215),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&r&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_student_utils_export_list_student")," "))}function Mi(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"li",201)(1,"button",209),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.exportExcelForScoreOfClassroom())}),t.O4$(),t.TgZ(2,"svg",210),t._UZ(3,"path",211)(4,"polyline",212)(5,"line",213)(6,"line",214)(7,"line",215),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&r&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_auto_xuat_bang_diem")," "))}function ma(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"li")(1,"div",216),t.NdJ("click",function(d){return d.stopPropagation()}),t.TgZ(2,"input",217),t.NdJ("change",function(){t.CHM(o);const d=t.oxw();let O;return t.KtG(d.changeAnonymousStudentStatus(null!==(O=null==d.classroomObj?null:d.classroomObj.id)&&void 0!==O?O:0,d.checkAddStudent.value))}),t.qZA(),t.TgZ(3,"label",218),t._uU(4),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()()()}if(2&r){const o=t.oxw();t.xp6(2),t.Q6J("formControl",o.checkAddStudent)("checked",1==(null==o.classroomObj?null:o.classroomObj.showAddStudent)),t.xp6(2),t.hij(" ",o.checkAddStudent.value?t.lcZ(5,3,"lang_student_classroom_list_detail_on"):t.lcZ(6,5,"lang_student_classroom_list_detail_off")," ")}}function da(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"azt-export-excel-for-student-list",219),t.NdJ("exportDataDone",function(d){t.CHM(o);const O=t.oxw();return t.KtG(O.exportStudentListDone(d))}),t.qZA()}if(2&r){const o=t.oxw();t.Q6J("objs",o.exportStudentObjs)}}let Ni=(()=>{class r extends C.Q{onSearchBox(o){this.searchContentObj=o}toggleExpandedContent(o){this.expandedItemIndex=this.expandedItemIndex===o?-1:o}copyLinkToClipboard(){return this.joinClassroomLink}convertNameForQR(){return"QR_Join_Classroom_"+this.commonService.convertVietnameseToEnglish(this.classroomObj?.name??this.classroomObj?.hashId??"")}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.listStudents)}exportStudentListDone(o){let _=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(o,_)}exportExcelForScoreOfClassroom(){this.loadingExport=!0;let o="";q.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??""),this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataGetAllExamObjsOfClassroomIdGet(Number(this.classroomId)).subscribe(_=>{1==_.success?_.data?.objs&&_.data?.objs.length?this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(d=>{if(1==d.success){let O=d.data?.objs??new Array;this.prepareDataForExportScore(_.data?.objs??[],O).subscribe(B=>{let ot=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"",At=this.commonService.createFileNameExportFile([ot,this.classroomObj?.name??""]);if(this.commonService.myTranslate(["lang_auto_tap_tin_dang_duoc_tai_xuong"]).subscribe(Gt=>{o=Gt.lang_auto_tap_tin_dang_duoc_tai_xuong,q.G.changeMsgLoadingEffect(o)}),this.classroomObj){const Gt=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,B,_.data?.objs);this.shareFileFlutterService.shareFileWithBlob(Gt,At+".xlsx")}q.G.closeLoadingEffect(200),this.loadingExport=!1})}else this.errorStatusObj(d.message??"",!0),q.G.closeLoadingEffect(10),this.loadingExport=!1})):this.exportExcelForScoreHomeworkOfClassroom():(this.errorStatusObj(_.message,!0),q.G.closeLoadingEffect(10),this.loadingExport=!1)}))}exportExcelForScoreHomeworkOfClassroom(){this.loadingExport=!0;let o=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"";this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(_=>{if(1==_.success){let d=this.commonService.createFileNameExportFile([o,this.classroomObj?.name??""]);if(this.classroomObj){const O=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,_.data?.objs??[]);this.shareFileFlutterService.shareFileWithBlob(O,d+".xlsx")}}else this.errorStatusObj(_.message??"",!0);q.G.closeLoadingEffect(10),this.loadingExport=!1}))}prepareDataForExportScore(o,_){return new G.y(d=>{let O=this.commonService.myTranslateInstant("lang_export_classroom_score_counter_message")??"",B=0,ot=o.length,At=Gt=>{B<ot?(q.G.changeMsgLoadingEffect(O+o[B].name+" ("+(B+1)+"/"+ot+")"),this.waitDestroy(this.exportClassroomScoreApiService.getTestedAllResultByClassroomId("export_classroom",o[B].id??0,this.classroomId,Gt).subscribe($e=>{1==$e.success?($e.data&&(Gt=[...$e.data]),B++,At(Gt)):d.error($e.message)}))):(d.next(Gt),d.complete())};At(_)})}getNoticeObjsRequest(){this.waitDestroy(this.noticeService.apiNoticeGetAllNoticeRequestForClassGet(this.classroomId).subscribe(o=>{1==o.success?(o.data?.objs?.length??0)>0&&this.sAztDialogService.open(Do,{width:"750px",data:{noticeObjs:o.data?.objs??[],classroomObj:this.classroomObj},restoreFocus:!1}):this.showErrorSnack("lang_auto_loi_khong_load_duoc_du_lieu_lop_hoc")}))}changeSortType(o){this.waitDestroy(this.classroomService.apiClassroomChangeSortTypeGet(this.classroomId,o).subscribe(_=>{1==_.success?(this.checkSortListStudent(o),this.classroomObj?.sortType&&(this.classroomObj.sortType=o),this.getData()):this.errorStatusObj(_.message,!0)}))}checkSortListStudent(o){this.listStudents=0==o?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.rawStudentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.rawStudentObjs)??[],"pos","id"),this.listStudents?.forEach(_=>{_.checked=new b.NI(!1,{nonNullable:!0})})}onPositionChange(o,_,d,O){let B="up"==o?1:"down"==o?2:3,ot=3==B?o??"":"",At=parseInt(ot,10);this.waitDestroy(this.classroomService.apiClassroomChangePositionStudentGet(Number(3!=B?_:At),Number(d),Number(O),Number(B)).subscribe($e=>{1==$e.success?this.getData():this.showErrorSnack(""==ot&&3==B?"lang_auto_loi_nhap_so_de_thay_doi_vi_tri_hs":"lang_auto_loi_khong_the_doi_vi_tri_hs")}))}changeAnonymousStudentStatus(o,_){this.waitDestroy(_?this.classroomService.apiClassroomChangeShowAddStudentGet(o,1).subscribe(d=>{1==d.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(d.message,!0)}):this.classroomService.apiClassroomChangeShowAddStudentGet(o,0).subscribe(d=>{1==d.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(d.message,!0)}))}addStudentDialog(o){this.sAztDialogService.open(Rn,{width:"750px",data:{studentObjs:this.listStudents,classroomObj:o},restoreFocus:!1}).afterClosed().subscribe(d=>{d&&this.getData()})}deleteStudentDialog(o){this.sAztDialogService.open(W.F,{data:{studentObj:o,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(d=>{d&&this.getData()})}deleteListStudentDialog(){let o=this.listStudents?.filter(d=>d.checked?.value);this.sAztDialogService.open(N,{data:{listStudentObjs:o,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(d=>{d&&this.getData()})}editStudentDialog(o){this.sAztDialogService.open(zt.W,{data:{studentObj:o,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(d=>{d&&this.getData()})}openDialogAutoNumbering(){this.sAztDialogService.open(Z.G,{data:{needGetClassroomGroups:!1,type:2,listCheckBox:this.classroomObj?.id?[this.classroomObj.id]:[],totalStudent:this.classroomObj?.countStudents},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(_=>{_&&this.getData()})}openDialogCheckboxMonth(o){this.sAztDialogService.open(R,{width:"454px",restoreFocus:!1,data:o.id}).afterClosed().subscribe(_=>{_&&this.getListStudentApiNew()})}goToProfile(o,_){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+o+"/"+_,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${o}/0`))}goToMergeStudent(o){this.commonService.myNavigation("/admin/student/merge-student/"+o)}translateExportNote(){let o="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),_="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),d="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),O="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four");this.export=[o,_,d,O]}openDialogResetPass(o){this.sAztDialogService.open(w.g,{width:"500px",restoreFocus:!1,data:{id:o.parentId,name:o.fullName}}).afterClosed().subscribe(_=>{_&&this.getData()})}openDialogCreateUser(o){this.sAztDialogService.open(fo,{width:"500px",restoreFocus:!1,data:{student:o}}).afterClosed().subscribe(_=>{_&&this.getData()})}getData(){this.initStatusObj(),this.resetCheckboxesStatus(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.classroomId).subscribe(o=>{if(1==o.success){this.classroomObj=o?.data?.classroomObj,this.permissionObj=this.classroomObj?.permissionObj,this.checkAddStudent.setValue(1==this.classroomObj?.showAddStudent),this.rawStudentObjs=o?.data?.studentObjs,this.checkSortListStudent(o?.data?.classroomObj?.sortType);let d=this.commonService.getCurrentDomain();this.joinClassroomLink=`${d}/${this.commonService.getCurrentLang()}/student/join-classroom/${this.classroomObj?.hashId}`,this.hasStudents=!!o.data?.studentObjs.length,this.getListStudentApiNew(),this.getNoticeObjsRequest(),this.successStatusObj()}else this.errorStatusObj(o.message,!0)}))}getListStudentApiNew(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:this.listStudents?.length??0,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:!1,getAssessment:!1}).subscribe(_=>{_?_.list.forEach(d=>{var O=this.listStudents?.find(B=>B.id==d.id);O&&(O.lastMonthPaid=d.lastMonthPaid,O.lastYearPaid=d.lastYearPaid,O.schoolName=d.schoolName,O.facebookLink=O.moreInfo?.facebookLink)}):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}selectAllStudentsObjs(){this.listStudents?.forEach(o=>{o.checked?.setValue(this.isSelectAllFormControl.value)}),this.selectSingleStudent()}selectSingleStudent(){this.totalCheckboxSelected=this.listStudents?.filter(o=>o.checked?.value)?.length??0,this.isSelectAllFormControl.setValue(this.totalCheckboxSelected===this.listStudents?.length&&this.totalCheckboxSelected>0)}resetCheckboxesStatus(){this.totalCheckboxSelected=0,this.isSelectAllFormControl.setValue(!1)}ngOnInit(){super.ngOnInit(),this.translateExportNote(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"));let o=this.commonService.getMyQueryParam("backto");this.backToLink=o??"/admin/student/manage-classroom/0",this.getData()}constructor(o,_,d,O,B,ot,At,Gt,$e,jo,mo){super(),this.shareFileFlutterService=o,this.classroomService=_,this.classroomExportDataService=d,this.noticeService=O,this.activeRoute=B,this.sortService=ot,this.studentProfileV2Service=At,this.exportExcelService=Gt,this.sAztDialogService=$e,this.studentService=jo,this.exportClassroomScoreApiService=mo,this.checkAddStudent=new b.NI(!1,{nonNullable:!0}),this.backToLink="",this.classroomId=0,this.export=[""],this.hasStudents=!1,this.loadingExport=!1,this.expandedItemIndex=-1,this.joinClassroomLink="",this.totalCheckboxSelected=0,this.isSelectAllFormControl=new b.NI(!1,{nonNullable:!0}),this.searchContentObj=new lt.h,this.form=new b.cw({startIdentifyIndex:new b.NI("",{nonNullable:!0,validators:[b.kI.min(1),b.kI.max(999999),b.kI.pattern(/^[0-9]*$/)]})})}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(jn.g),t.Y36(yt.um),t.Y36(Me.Tg),t.Y36(te.L$),t.Y36(rt.gz),t.Y36(Xn.V),t.Y36(Me.LU),t.Y36(to.L),t.Y36(_n.C),t.Y36(An.V),t.Y36(In))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-student-list"]],viewQuery:function(o,_){if(1&o&&t.Gf(qo,5),2&o){let d;t.iGM(d=t.CRH())&&(_.slider=d.first)}},features:[t.qOj],decls:19,vars:19,consts:[[1,"grid","grid-cols-12","mt-5"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menu","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],[4,"ngIf"],["class","block lg:hidden",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[1,"col-span-12","intro-y","flex","justify-between","items-center","mb-5"],[1,"flex","items-center"],[1,"text-lg","font-medium","mr-2"],[1,"mr-2"],[3,"fileName","linkUrl","showLink",4,"ngIf"],[3,"backToLink","objectCodeType","objectCode","objectId","classroomWithPermissionObj"],["class","dropdown ml-2","style","align-self: end",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[1,"azt-hidden","md:block"],["style","height: 100%",4,"ngIf"],["class","box p-3 flex items-center","style","min-height: 216px",4,"ngIf"],[1,"md:hidden"],[1,"flex","mt-3",2,"justify-content","space-between"],["class","inline-block mr-2",3,"ngClass",4,"ngIf"],["azt-track-service","student-list-zQB1VhlhP6","class","btn btn-sm btn-danger mr-2",3,"click",4,"ngIf"],["class","box p-3 mt-3",3,"ngStyle",4,"ngFor","ngForOf"],[3,"fileName","linkUrl","showLink"],[1,"dropdown","ml-2",2,"align-self","end"],["class","dropdown-toggle btn btn-sm btn-outline-secondary",3,"matMenuTriggerFor",4,"ngIf"],[1,"dropdown-toggle","btn","btn-sm","btn-outline-secondary",3,"matMenuTriggerFor"],[1,"w-4","h-4","flex","items-center","justify-center"],["name","settings"],[1,"col-span-12"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"isServerSearch","placeholder","onSearch"],[1,"w-full","sm:w-auto","flex","items-center"],["class","inline-block mr-2",4,"ngIf"],["azt-track-service","student-list-1PSK0ENR-","class","btn btn-sm btn-danger mr-2",3,"click",4,"ngIf"],["azt-track-service","class-list-details-s9VkYOpJZKc","class","btn btn-primary btn-sm shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details--hDdQw7XTpD","class","btn btn-primary btn-sm shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-sm btn-primary shadow-md mr-2 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-_DnbWckI_DG","class","btn btn-sm px-2 box shadow-md mr-2 azt-hidden md:flex hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],[1,"dropdown"],["class","dropdown-toggle btn px-2 box",3,"matMenuTriggerFor",4,"ngIf"],[1,"inline-block","mr-2"],["azt-track-service","student-list-1PSK0ENR-",1,"btn","btn-sm","btn-danger","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["azt-track-service","class-list-details-s9VkYOpJZKc",1,"btn","btn-primary","btn-sm","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],[1,"flex-none","inline-block","w-4","h-4","mr-2"],["name","file-text"],["azt-track-service","class-list-details--hDdQw7XTpD",1,"btn","btn-primary","btn-sm","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["class","flex-none inline-block w-4 h-4 mr-2",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-sm","btn-primary","shadow-md","mr-2","w-full","sm:w-auto",3,"click"],[1,"w-4","h-4","flex-none","inline-block","mr-2"],["name","plus"],["azt-track-service","class-list-details-_DnbWckI_DG",1,"btn","btn-sm","px-2","box","shadow-md","mr-2","azt-hidden","md:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary"],[1,"dropdown-toggle","btn","px-2","box",3,"matMenuTriggerFor"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-5",2,"white-space","initial","display","table"],["type","checkbox",1,"form-check-input",3,"formControl","change"],[1,"text-center",2,"width","60px","padding","0 !important"],[2,"width","60px",3,"matTooltipDisabled","matTooltip"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-center",2,"width","30px"],["class","form-check-input flex-none","type","checkbox",3,"formControl","change",4,"ngIf"],[2,"width","60px","padding","5px 5px 5px 0"],["style","width: 100%; text-align: center; border-right: 1px solid #ccc; display: inline-grid; padding: 5px",4,"ngIf","ngIfElse"],["sttStudent",""],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","identificationNumber","gender","hasUser","schoolName","classrooms","joinedAt","phone","email"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],["azt-track-service","class-list-details-IXPw9fo4fxc","class","btn btn-sm btn-outline-primary mr-3",3,"click",4,"ngIf"],["azt-track-service","class-list-details-O6dc04lZp9g","class","btn btn-sm btn-outline-danger mr-3",3,"click",4,"ngIf"],["azt-track-service","student-list-hM337DYZ_","class","btn btn-sm mr-3",3,"click",4,"ngIf"],["azt-track-service","student-list-qGNig67L4","class","btn btn-sm mr-3",3,"click",4,"ngIf"],["type","checkbox",1,"form-check-input","flex-none",3,"formControl","change"],[2,"width","100%","text-align","center","border-right","1px solid #ccc","display","inline-grid","padding","5px"],["azt-track-service","class-list-details-DAInj2oep","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["type","text","appOnlyNumber","",1,"form-control","text-center",2,"padding","4px",3,"value","keyup.enter"],["myInput",""],["azt-track-service","class-list-details-piloTgTGAq","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-DAInj2oep",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","class-list-details-piloTgTGAq",1,"clickable",2,"width","100%","text-align","center",3,"click"],[1,"text-center","font-bold"],["azt-track-service","class-list-details-IXPw9fo4fxc",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","class-list-details-O6dc04lZp9g",1,"btn","btn-sm","btn-outline-danger","mr-3",3,"click"],[1,"w-4","h-4","mr-2","inline-block"],["name","trash-2"],["azt-track-service","student-list-hM337DYZ_",1,"btn","btn-sm","mr-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide","flex-none"],["d","M21 6H3"],["d","M7 12H3"],["d","M7 18H3"],["d","M12 18a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L11 14"],["d","M11 10v4h4"],[2,"text-wrap","nowrap"],["azt-track-service","student-list-qGNig67L4",1,"btn","btn-sm","mr-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide","flex-none","lucide-user-plus"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["x1","19","x2","19","y1","8","y2","14"],["x1","22","x2","16","y1","11","y2","11"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","82","height","90","viewBox","0 0 82 90","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M29.1186 60.3066C29.0404 60.8599 29 61.4252 29 62C29 68.6274 34.3726 74 41 74C47.6274 74 53 68.6274 53 62C53 61.4252 52.9596 60.8599 52.8815 60.3066H82V87C82 88.6569 80.6569 90 79 90H3C1.34315 90 0 88.6569 0 87V60.3066H29.1186Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M54 60C54 67.1797 48.1797 73 41 73C33.8203 73 28 67.1797 28 60C28 59.7674 28.0061 59.5362 28.0182 59.3066H0L9.56044 31.0389C9.9726 29.8202 11.1159 29 12.4023 29H69.5977C70.8842 29 72.0274 29.8202 72.4396 31.0389L82 59.3066H53.9818C53.9939 59.5362 54 59.7674 54 60Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M52.0976 60.9545C52.0976 66.5025 47.129 72 41 72C34.871 72 29.9024 66.5025 29.9024 60.9545C29.9024 60.7748 29.9077 59.5962 29.918 59.4188H9L17.1614 39.5755C17.5132 38.6338 18.4891 38 19.5873 38H62.4127C63.5109 38 64.4868 38.6338 64.8387 39.5755L73 59.4188H52.082C52.0923 59.5962 52.0976 60.7748 52.0976 60.9545Z","fill","#E8F0FE"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 59.5123V86C1.25 86.9665 2.0335 87.75 3 87.75H79C79.9665 87.75 80.75 86.9665 80.75 86V59.5123L71.2554 31.4393C71.015 30.7285 70.3481 30.25 69.5977 30.25H12.4023C11.6519 30.25 10.985 30.7285 10.7446 31.4393L1.25 59.5123Z","stroke","#1F64E7","stroke-width","2.5"],["d","M14 59C17.9366 59 22.1849 59 26.7449 59C28.6212 59 28.6212 60.3186 28.6212 61C28.6212 67.6274 34.1174 73 40.8973 73C47.6772 73 53.1734 67.6274 53.1734 61C53.1734 60.3186 53.1734 59 55.0496 59H80M6.57373 59H9H6.57373Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M66.0996 6.30273L55 18.7559M40.0996 2V18.7559V2ZM14 6.30273L25.0996 18.7559L14 6.30273Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-3"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],[1,"ml-2"],[1,"inline-block","mr-2",3,"ngClass"],["azt-track-service","student-list-zQB1VhlhP6",1,"btn","btn-sm","btn-danger","mr-2",3,"click"],[1,"box","p-3","mt-3",3,"ngStyle"],[1,"flex","items-center","text-sm"],[1,"flex","items-start","px-3"],["azt-track-service","class-list-details-PLih7noFG",1,"flex","items-center",3,"click"],[1,"w-9","h-9","image-fit","zoom-in"],[3,"matTooltip","nameCreateAvatar","linkAvatar","size"],[1,"ml-4",2,"max-width","150px"],["class","font-medium",3,"matTooltip",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",3,"matTooltip",4,"ngIf"],["class","absolute right-0 top-0 mr-6 mt-3 dropdown",4,"ngIf"],["azt-track-service","class-list-details-pefaSVrkl",1,"ml-auto","mr-3","p-1","mt-6","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"click"],[1,"w-5","h-5","inline-block"],["name","chevron-down"],[1,"mt-2"],[1,"font-medium",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-slate-500","text-xs","mt-0.5",3,"matTooltip"],[1,"absolute","right-0","top-0","mr-6","mt-3","dropdown"],[1,"dropdown-toggle","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"matMenuTriggerFor"],[1,"w-5","h-5","text-slate-500"],["name","more-horizontal"],["menuAction","matMenu"],[1,"dropdown-menu","show","relative","w-56"],["azt-track-service","class-list-details-Q6L3Qb4nL-","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-xA4MDIyq3o","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Q6L3Qb4nL-",1,"dropdown-item",3,"click"],["azt-track-service","class-list-details-xA4MDIyq3o",1,"dropdown-item",3,"click"],["azt-track-service","student-list-BQ1zew8XrF","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","student-list-BQ1zew8XrF",1,"dropdown-item",3,"click"],[1,"flex","items-center","p-3","border-t","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md"],[1,"ml-auto"],["class","flex items-center justify-center text-success",4,"ngIf"],["class","flex items-center p-3 border-t border-slate-200/60 dark:border-darkmode-400",4,"ngIf"],[1,"flex","items-center","justify-center","text-success"],["name","check-square"],[1,"w-full"],[2,"width","100%","text-align","center","display","inline-grid","padding","5px"],["azt-track-service","class-list-details-uQr-XCrTnlF","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Ad3KhS_O8H4","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-uQr-XCrTnlF",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","class-list-details-Ad3KhS_O8H4",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","student-list-z7Lql-3ZDJ","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","student-list-z7Lql-3ZDJ",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],["azt-track-service","class-list-details-NcMQ164X2B1",1,"dropdown-item","w-full",3,"click"],["d","M9 17H7A5 5 0 0 1 7 7h2"],["d","M15 7h2a5 5 0 1 1 0 10h-2"],["x1","8","y1","12","x2","16","y2","12"],["azt-track-service","class-list-details-woiwIJfYoz7",1,"dropdown-item","w-full",3,"click"],["d","M11 5h4"],["d","M11 9h7"],["d","M11 13h10"],["d","m3 17 3 3 3-3"],["d","M6 18V4"],["class","w-4 h-4 ml-2 text-success inline-block flex-none",4,"ngIf"],[1,"w-4","h-4","ml-2","text-success","inline-block","flex-none"],["name","check"],["azt-track-service","class-list-details-dc7h-1UoWkq",1,"dropdown-item","w-full",3,"click"],["x1","10","y1","6","x2","21","y2","6"],["x1","10","y1","12","x2","21","y2","12"],["x1","10","y1","18","x2","21","y2","18"],["d","M4 6h1v4"],["d","M4 10h2"],["d","M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"],[1,"ml-1",3,"matTooltip"],[1,"block","lg:hidden"],["azt-track-service","class-list-details-dQQjeblrGNo",1,"dropdown-item","w-full",3,"click"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],["azt-track-service","class-list-details-EPPk_ECcOhT",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","file-text","data-lucide","file-text",1,"lucide","lucide-file-text","flex-none","w-4","h-4","mr-2"],["d","M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],["azt-track-service","student-list-I77ChHGFW",1,"form-check","form-switch","p-2",3,"click"],["type","checkbox","id","check-add-student",1,"show-code","form-check-input","mr-1",3,"formControl","checked","change"],["for","check-add-student",1,"form-check-label","ml-0"],[3,"objs","exportDataDone"]],template:function(o,_){if(1&o&&(t.TgZ(0,"div",0),t.YNc(1,eo,2,0,"div",1),t.YNc(2,Si,27,37,"ng-template",null,2,t.W1O),t.qZA(),t.TgZ(4,"mat-menu",3,4)(6,"div",5)(7,"ul",6),t.YNc(8,To,8,3,"li",7),t.YNc(9,no,11,4,"li",7),t.YNc(10,Ii,14,7,"li",7),t.YNc(11,ca,11,3,"li",8),t.ALo(12,"editPermission"),t.YNc(13,_a,10,3,"li",8),t.ALo(14,"viewPermission"),t.YNc(15,Mi,10,3,"li",8),t.YNc(16,ma,7,7,"li",7),t.ALo(17,"editPermission"),t.qZA()()(),t.YNc(18,da,1,1,"azt-export-excel-for-student-list",9)),2&o){const d=t.MAs(3);t.xp6(1),t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",d),t.xp6(7),t.Q6J("ngIf",_.hasStudents||(null==_.listStudents?null:_.listStudents.length)),t.xp6(1),t.Q6J("ngIf",_.hasStudents||(null==_.listStudents?null:_.listStudents.length)),t.xp6(1),t.Q6J("ngIf",_.hasStudents||(null==_.listStudents?null:_.listStudents.length)),t.xp6(1),t.Q6J("ngIf",t.xi3(12,10,_.classroomObj,"student")&&(_.hasStudents||(null==_.listStudents?null:_.listStudents.length))),t.xp6(2),t.Q6J("ngIf",t.xi3(14,13,_.classroomObj,"student")&&(_.hasStudents||(null==_.listStudents?null:_.listStudents.length))),t.xp6(2),t.Q6J("ngIf",_.hasStudents||(null==_.listStudents?null:_.listStudents.length)),t.xp6(1),t.Q6J("ngIf",t.xi3(17,16,_.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",_.exportStudentObjs)}},dependencies:[$.mk,$.sg,$.O5,$.PC,Pn.Hw,X.VK,X.p6,et.gM,b.Wl,b.JJ,b.oH,at.l,zn.g,Uo.W,Fo.Y,Ln.S,vt.n,Jo.y,Nt.W,be.a,we.HU,we.$Z,St.Nh5,E.JV,E.QN,E.om,E.Wr,E.Pf,E.J7,E.gw,E.YK],encapsulation:2,data:{animation:[(0,j.X$)("expandCollapse",[(0,j.SB)("open",(0,j.oB)({height:"*"})),(0,j.SB)("closed",(0,j.oB)({height:"0px"})),(0,j.eR)("open <=> closed",[(0,j.jt)("0.3s ease-in-out")])])]}}),r})();const st=function(r){return{"text-white bg-primary":r}},Cn=function(r){return[r]};function qt(r,x){if(1&r&&(t.TgZ(0,"a",32),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",33),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&r){const o=t.oxw(2);t.Q6J("ngClass",t.VKq(7,st,3===o.tabActive))("routerLink",t.VKq(9,Cn,t.lcZ(1,3,"/admin/student/classroom-details/"+o.classroomId+"/3"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_student_educational_program"))}}function Fn(r,x){if(1&r&&(t.TgZ(0,"a",34),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",8),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&r){const o=t.oxw(2);t.Q6J("ngClass",t.VKq(7,st,4===o.tabActive))("routerLink",t.VKq(9,Cn,t.lcZ(1,3,"/admin/student/classroom-details/"+o.classroomId+"/4"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_student_grade_sheet"))}}function dn(r,x){if(1&r&&(t.TgZ(0,"a",35),t.ALo(1,"navigationLocalize"),t.O4$(),t.TgZ(2,"svg",36),t._UZ(3,"path",37)(4,"path",38)(5,"path",39),t.qZA(),t.kcU(),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()),2&r){const o=t.oxw(2);t.Q6J("ngClass",t.VKq(7,st,6===o.tabActive))("routerLink",t.VKq(9,Cn,t.lcZ(1,3,"/admin/student/classroom-details/"+o.classroomId+"/6"))),t.xp6(7),t.Oqu(t.lcZ(8,5,"lang_azt_assessment_board"))}}function Jn(r,x){if(1&r&&(t.TgZ(0,"a",40),t.ALo(1,"navigationLocalize"),t.O4$(),t.TgZ(2,"svg",41),t._UZ(3,"path",42)(4,"circle",43)(5,"path",44),t.qZA(),t.kcU(),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()),2&r){const o=t.oxw(2);t.Q6J("ngClass",t.VKq(7,st,7===o.tabActive))("routerLink",t.VKq(9,Cn,t.lcZ(1,3,"/admin/student/classroom-details/"+o.classroomId+"/7"))),t.xp6(7),t.Oqu(t.lcZ(8,5,"lang_azt_attendance_board"))}}function $n(r,x){if(1&r&&(t.TgZ(0,"a",45),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",46),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&r){const o=t.oxw(2);t.Q6J("ngClass",t.VKq(7,st,8===o.tabActive))("routerLink",t.VKq(9,Cn,t.lcZ(1,3,"/admin/student/classroom-details/"+o.classroomId+"/8"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_azt_tuition_fee_board"))}}function oo(r,x){if(1&r&&(t.TgZ(0,"a",47),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",48),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&r){const o=t.oxw(2);t.Q6J("ngClass",t.VKq(7,st,5===o.tabActive))("routerLink",t.VKq(9,Cn,t.lcZ(1,3,"/admin/student/classroom-details/"+o.classroomId+"/5"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_azt_leaderboard"))}}function ii(r,x){if(1&r&&(t.TgZ(0,"a",49),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",50),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&r){const o=t.oxw(2);t.Q6J("ngClass",t.VKq(7,st,4===o.tabActive))("routerLink",t.VKq(9,Cn,t.lcZ(1,3,"/business/message/classroom/"+o.classroomId))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_business_dashboard_business_messages"))}}function io(r,x){if(1&r&&(t.TgZ(0,"div",23)(1,"div",24),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",23),t.YNc(5,qt,7,11,"a",25),t.ALo(6,"async"),t.ALo(7,"allowFeatureBusinessForUser"),t.YNc(8,Fn,7,11,"a",26),t.ALo(9,"async"),t.ALo(10,"allowFeatureBusinessForUser"),t.YNc(11,dn,9,11,"a",27),t.ALo(12,"async"),t.ALo(13,"allowFeatureBusinessForUser"),t.YNc(14,Jn,9,11,"a",28),t.ALo(15,"async"),t.ALo(16,"allowFeatureBusinessForUser"),t.YNc(17,$n,7,11,"a",29),t.ALo(18,"async"),t.ALo(19,"allowFeatureBusinessForUser"),t.YNc(20,oo,7,11,"a",30),t.ALo(21,"async"),t.ALo(22,"allowFeatureBusinessForUser"),t.YNc(23,ii,7,11,"a",31),t.qZA()()),2&r){const o=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,8,"lang_student_extensions")," "),t.xp6(3),t.Q6J("ngIf",t.lcZ(6,10,t.Dn7(7,12,"","training_center_curriculum_in_classroom",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(9,16,t.Dn7(10,18,"","training_center_student_mark",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(12,22,t.Dn7(13,24,"","training_center_student_mark",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(15,28,t.Dn7(16,30,"","training_center_student_mark",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(18,34,t.Dn7(19,36,"","training_center_student_mark",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(21,40,t.Dn7(22,42,"","training_center_student_mark",!1))),t.xp6(3),t.Q6J("ngIf",o.businessChatService.ready)}}function ao(r,x){1&r&&(t.TgZ(0,"div",51),t._UZ(1,"app-student-list"),t.qZA())}function ji(r,x){1&r&&(t.TgZ(0,"div",52),t._UZ(1,"app-exam-exercises",53),t.qZA()),2&r&&(t.xp6(1),t.Q6J("isStudent",!1))}function ua(r,x){if(1&r&&(t.TgZ(0,"div",54),t._UZ(1,"app-news-board",55),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.Q6J("classroomId",o.classroomId)("isStudent",!1)}}function un(r,x){1&r&&(t.TgZ(0,"div",56),t._UZ(1,"app-educational-program",53),t.qZA()),2&r&&(t.xp6(1),t.Q6J("isStudent",!1))}function Ze(r,x){1&r&&(t.TgZ(0,"div",57),t._UZ(1,"app-grand-board",53),t.qZA()),2&r&&(t.xp6(1),t.Q6J("isStudent",!1))}function ai(r,x){1&r&&(t.TgZ(0,"div",58)(1,"div",59),t._UZ(2,"app-leader-board",53),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("isStudent",!1))}function si(r,x){1&r&&(t.TgZ(0,"div",60)(1,"div",61),t._UZ(2,"app-assessment-board",53),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("isStudent",!1))}function Li(r,x){1&r&&(t.TgZ(0,"div",62)(1,"div",61),t._UZ(2,"app-attendance-board",53),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("isStudent",!1))}function qn(r,x){1&r&&(t.TgZ(0,"div",63)(1,"div",61),t._UZ(2,"app-tuition-fee-board",53),t.qZA()()),2&r&&(t.xp6(2),t.Q6J("isStudent",!1))}const ri=function(r){return{"font-medium text-white bg-primary":r}};let li=(()=>{class r extends C.Q{getClassroomName(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(o=>{o&&o.success&&(this.classroomName=o.data?.obj?.name??"",this.setTitle())}))}setTitle(){0==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_student_list_title")+": "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_student_list_description",image:"lang_cms_test_image"})):1==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_document_list_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_document_list_description",image:"lang_cms_test_image"})):2==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_news_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_news_board_description",image:"lang_cms_test_image"})):3==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_program_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_program_description",image:"lang_cms_test_image"})):4==this.tabActive&&(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_mark_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_mark_board_description",image:"lang_cms_test_image"}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,c.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.tabActive=Number(this.commonService.getMyParam(this.activeRoute,"tabId")),this.classroomName?this.setTitle():this.getClassroomName()}));let o=this.commonService.getMyQueryParam("backto");this.backToLink=o&&""!=o?o:"/admin/student/manage-classroom/0"}constructor(o,_){super(),this.activeRoute=o,this.classroomService=_,this.backToLink="",this.tabActive=0,this.classroomId=0,this.classroomName="",this.headerTitle=""}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(rt.gz),t.Y36(yt.um))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-teacher-classroom-details"]],features:[t.qOj],decls:42,vars:57,consts:[[3,"headerBackToLink","headerTitle"],[1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-3","lg:col-span-2"],[1,"pr-3","pt-5","md:border-r","border-slate-200","dark:border-darkmode-400"],["azt-track-service","class-list-details-DVvCIvEs15",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],[1,"w-4","h-4","mr-2","flex-none"],["name","user"],["azt-track-service","class-list-details-Kp8HMxHLJW",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","calendar-check"],["azt-track-service","class-list-details-Fqqucj0PCd",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","newspaper"],["class","mt-3",4,"ngIf"],[1,"col-span-12","md:col-span-9","lg:col-span-10"],[1,"mt-5","md:px-3"],["class","student-list",4,"ngIf"],["class","exam-exercises",4,"ngIf"],["class","news-board",4,"ngIf"],["class","educational-program",4,"ngIf"],["class","grand-board",4,"ngIf"],["class","leaderboard",4,"ngIf"],["class","assessment-board",4,"ngIf"],["class","attendance-board",4,"ngIf"],["class","tuition-fee-board",4,"ngIf"],[1,"mt-3"],[1,"font-medium","uppercase"],["azt-track-service","class-list-details-BDKFcoR84En","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-d91Lw-r2PR8","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-FPGtD1jfL","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-6GuZeDQM8J","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-kEUyL-yGqV","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-wEO2JkXskB","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-N0iHUsnRAc","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-BDKFcoR84En",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","library"],["azt-track-service","class-list-details-d91Lw-r2PR8",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["azt-track-service","class-list-details-FPGtD1jfL",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"],["d","M13 8H7"],["d","M17 12H7"],["azt-track-service","class-list-details-6GuZeDQM8J",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["d","m8 11 2 2 4-4"],["cx","11","cy","11","r","8"],["d","m21 21-4.3-4.3"],["azt-track-service","class-list-details-kEUyL-yGqV",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","clipboard-list"],["azt-track-service","class-list-details-wEO2JkXskB",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","medal"],["azt-track-service","class-list-details-N0iHUsnRAc",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","mail"],[1,"student-list"],[1,"exam-exercises"],[3,"isStudent"],[1,"news-board"],[3,"classroomId","isStudent"],[1,"educational-program"],[1,"grand-board"],[1,"leaderboard"],[1,"mx-auto",2,"max-width","500px"],[1,"assessment-board"],[1,"mx-auto"],[1,"attendance-board"],[1,"tuition-fee-board"]],template:function(o,_){1&o&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.ALo(6,"navigationLocalize"),t.TgZ(7,"div",5),t._UZ(8,"lucide-icon",6),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"a",7),t.ALo(13,"navigationLocalize"),t.TgZ(14,"div",5),t._UZ(15,"lucide-icon",8),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()(),t.TgZ(19,"a",9),t.ALo(20,"navigationLocalize"),t.TgZ(21,"div",5),t._UZ(22,"lucide-icon",10),t.qZA(),t.TgZ(23,"span"),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()()(),t.YNc(26,io,24,46,"div",11),t.ALo(27,"async"),t.ALo(28,"allowFeatureBusinessForUser"),t.ALo(29,"async"),t.ALo(30,"allowFeatureBusinessForUser"),t.qZA()(),t.TgZ(31,"div",12)(32,"div",13),t.YNc(33,ao,2,0,"div",14),t.YNc(34,ji,2,1,"div",15),t.YNc(35,ua,2,2,"div",16),t.YNc(36,un,2,1,"div",17),t.YNc(37,Ze,2,1,"div",18),t.YNc(38,ai,3,1,"div",19),t.YNc(39,si,3,1,"div",20),t.YNc(40,Li,3,1,"div",21),t.YNc(41,qn,3,1,"div",22),t.qZA()()()()),2&o&&(t.Q6J("headerBackToLink",_.backToLink)("headerTitle",_.classroomName),t.xp6(5),t.Q6J("ngClass",t.VKq(45,st,0===_.tabActive))("routerLink",t.VKq(47,Cn,t.lcZ(6,21,"/admin/student/classroom-details/"+_.classroomId+"/0"))),t.xp6(5),t.Oqu(t.lcZ(11,23,"lang_cms_classroom_student_list_title")),t.xp6(2),t.Q6J("ngClass",t.VKq(49,st,1===_.tabActive))("routerLink",t.VKq(51,Cn,t.lcZ(13,25,"/admin/student/classroom-details/"+_.classroomId+"/1"))),t.xp6(5),t.Oqu(t.lcZ(18,27,"lang_document_exam_exercises")),t.xp6(2),t.Q6J("ngClass",t.VKq(53,ri,2===_.tabActive))("routerLink",t.VKq(55,Cn,t.lcZ(20,29,"/admin/student/classroom-details/"+_.classroomId+"/2"))),t.xp6(5),t.Oqu(t.lcZ(25,31,"lang_student_news_board")),t.xp6(2),t.Q6J("ngIf",t.lcZ(27,33,t.Dn7(28,35,"","training_center_curriculum_in_classroom",!1))||t.lcZ(29,39,t.Dn7(30,41,"","training_center_student_mark",!1))),t.xp6(7),t.Q6J("ngIf",0===_.tabActive),t.xp6(1),t.Q6J("ngIf",1===_.tabActive),t.xp6(1),t.Q6J("ngIf",2===_.tabActive),t.xp6(1),t.Q6J("ngIf",3===_.tabActive),t.xp6(1),t.Q6J("ngIf",4===_.tabActive),t.xp6(1),t.Q6J("ngIf",5===_.tabActive),t.xp6(1),t.Q6J("ngIf",6===_.tabActive),t.xp6(1),t.Q6J("ngIf",7===_.tabActive),t.xp6(1),t.Q6J("ngIf",8===_.tabActive))},dependencies:[rt.rH,$.mk,$.O5,i._,St.Nh5,bt.y,ye,ke.Y,Ne.A,Se.v,Wt,U.E,Ot.R,Ni,$.Ov,E.Jy,E.JV,E.J8],encapsulation:2}),r})();var ci=g(83306),Di=g(51261);function pa(r,x){1&r&&t._UZ(0,"azt-loading-ui",16)}function so(r,x){1&r&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function ga(r,x){1&r&&t._UZ(0,"azt-loading-effect")}function ha(r,x){1&r&&(t.TgZ(0,"span"),t._uU(1,"/"),t.qZA())}function fa(r,x){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,ha,2,0,"span",32),t._uU(3),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.lastMonthPaid,""),t.xp6(1),t.Q6J("ngIf",o.lastMonthPaid),t.xp6(1),t.hij("",o.lastYearPaid," ")}}function xa(r,x){1&r&&(t.TgZ(0,"span",48),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_hoc_thu")," "))}function Ei(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"tr")(1,"td",27),t.NdJ("click",function(){const O=t.CHM(o).$implicit,B=t.oxw(3);return t.KtG(B.goToProfile(O.classroomId,O.id))}),t._UZ(2,"azt-student-info-box",28),t.qZA(),t.TgZ(3,"td",29),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(6,"td",30)(7,"div",31),t.YNc(8,fa,4,3,"span",32),t.YNc(9,xa,3,3,"span",33),t.TgZ(10,"button",34),t.NdJ("click",function(){const O=t.CHM(o).$implicit,B=t.oxw(3);return t.KtG(B.openDialogCheckboxMonth(O))}),t.ALo(11,"mytranslate"),t.ALo(12,"mytranslate"),t.O4$(),t.TgZ(13,"svg",35),t._UZ(14,"path",36)(15,"path",37)(16,"path",38)(17,"path",39)(18,"path",40)(19,"path",41),t.qZA()()()(),t.kcU(),t.TgZ(20,"td",42)(21,"div",43),t._uU(22),t.ALo(23,"mytranslate"),t.ALo(24,"mytranslate"),t.qZA()(),t.TgZ(25,"td",42)(26,"div",43),t._uU(27),t.ALo(28,"mytranslate"),t.ALo(29,"mytranslate"),t.qZA()(),t.TgZ(30,"td",30)(31,"div",44)(32,"input",45),t.NdJ("change",function(d){const B=t.CHM(o).$implicit,ot=t.oxw(3);return t.KtG(ot.setAttendance("receivedDocument",B.id,d))}),t.qZA()()(),t.TgZ(33,"td",30)(34,"div",44)(35,"input",46),t.NdJ("change",function(d){const B=t.CHM(o).$implicit,ot=t.oxw(3);return t.KtG(ot.setAttendance("absent",B.id,d))}),t.qZA()()(),t.TgZ(36,"td",30)(37,"textarea",47),t.NdJ("input",function(d){const B=t.CHM(o).$implicit,ot=t.oxw(3);return t.KtG(ot.setReasonAttendance(B.id,d))}),t.ALo(38,"mytranslate"),t.qZA()()()}if(2&r){const o=x.$implicit;let _,d;t.xp6(2),t.Q6J("name",o.fullName)("avatar",o.avatar)("gender",o.gender)("parentFullName",o.parentFullName)("parentId",o.parentId)("parentPhone",o.parentPhone)("hasUser",o.hasUser)("schoolName",o.schoolName)("classrooms",o.classrooms)("joinedAt",o.joinedAt),t.xp6(2),t.Oqu(o.identificationNumber?t.xi3(5,27,o.identificationNumber,6):""),t.xp6(4),t.Q6J("ngIf",o.lastMonthPaid||o.lastYearPaid),t.xp6(1),t.Q6J("ngIf",!o.lastMonthPaid||!o.lastYearPaid),t.xp6(1),t.hYB("matTooltip","",t.lcZ(11,30,"lang_cms_auto_gen_test_select")," ",t.lcZ(12,32,"lang_auto_month"),""),t.xp6(10),t.Q6J("ngClass",o.totalRemainHomework>0||o.noHomework?"darkgray":o.finishHomework?"yellowgreen":"red"),t.xp6(2),t.hij(" ",t.lcZ(23,34,o.totalRemainHomework>0?t.lcZ(24,36,"lang_auto_chua_hoan_thanh")+" ("+o.totalRemainHomework.toString()+")":o.noHomework?"lang_auto_hoan_thanh":o.finishHomework?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.xp6(3),t.Q6J("ngClass",o.totalRemainExam>0||o.noExam?"darkgray":o.finishExam?"yellowgreen":"red"),t.xp6(2),t.hij(" ",t.lcZ(28,38,o.totalRemainExam>0?t.lcZ(29,40,"lang_auto_chua_hoan_thanh")+" ("+o.totalRemainExam.toString()+")":o.noExam?"lang_auto_hoan_thanh":o.finishExam?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.xp6(5),t.Q6J("id","received_document_"+o.id)("checked",null!==(_=null==o.attendance?null:o.attendance.receivedDocument)&&void 0!==_?_:0),t.xp6(3),t.Q6J("id","absent_"+o.id)("checked",null!==(d=null==o.attendance?null:o.attendance.absent)&&void 0!==d?d:0),t.xp6(2),t.s9C("placeholder",t.lcZ(38,42,"lang_business_reason_for_leave")),t.Q6J("id","attendance_reason_"+o.id)("disabled",!(null!=o.attendance&&o.attendance.absent))("value",null==o.attendance?null:o.attendance.reason)}}function va(r,x){if(1&r&&(t.TgZ(0,"div",19)(1,"table",20)(2,"thead")(3,"tr")(4,"th",21),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"th",22),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"th",23),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"th",24),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.TgZ(17,"th",25),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"th",23)(21,"div"),t._uU(22),t.ALo(23,"mytranslate"),t.qZA(),t._uU(24),t.ALo(25,"mytranslate"),t.qZA(),t.TgZ(26,"th",23),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"th",23),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()(),t.TgZ(32,"tbody"),t.YNc(33,Ei,39,44,"tr",26),t.qZA()()()),2&r){const o=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,11,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(9,13,"lang_auto_so_bao_danh")),t.xp6(3),t.AsE("",t.lcZ(12,15,"lang_test_market_withdraw_time")," ",t.lcZ(13,17,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.xp6(4),t.Oqu(t.lcZ(16,19,"lang_student_frontend_dashboard_homework")),t.xp6(3),t.Oqu(t.lcZ(19,21,"lang_auto_only_de_thi")),t.xp6(4),t.hij(" ",t.lcZ(23,23,"lang_core_da_phat")," "),t.xp6(2),t.hij(" ",t.lcZ(25,25,"lang_auto_tai_lieu")," "),t.xp6(3),t.hij(" ",t.lcZ(28,27,"lang_business_vang_mat")," "),t.xp6(3),t.Oqu(t.lcZ(31,29,"lang_auto_ly_do")),t.xp6(3),t.Q6J("ngForOf",o.listStudent)}}function ba(r,x){if(1&r&&t.YNc(0,va,34,31,"div",18),2&r){const o=t.oxw();t.Q6J("ngIf",o.listStudent.length>0)}}function Ca(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"azt-paging",52),t.NdJ("goToPaginationPage",function(d){t.CHM(o);const O=t.oxw(2);return t.KtG(O.setPageStudent(d))}),t.qZA()}if(2&r){const o=t.oxw(2);t.Q6J("pageObj",o.pageObj)}}function Ta(r,x){if(1&r&&(t.TgZ(0,"div",49),t._UZ(1,"div"),t.YNc(2,Ca,1,1,"azt-paging",50),t.TgZ(3,"div",51),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&r){const o=t.oxw();t.xp6(2),t.Q6J("ngIf",o.totalStudent>o.pageObj.pageSize),t.xp6(2),t.AsE(" ",o.totalStudent," ",t.lcZ(5,3,"lang_notify_list_students")," ")}}let ka=(()=>{class r extends C.Q{openDialogCheckboxMonth(o){this.sAztDialogService.open(R,{width:"454px",restoreFocus:!1,data:o.id}).afterClosed().subscribe(_=>{_&&this.getListStudent()})}goToProfile(o,_){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+o+"/"+_,"?backto="+encodeURIComponent("/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(o){var _="/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,d="?page="+o+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(_,d),this.initStatusObj(),this.pageObj.setPageNumber(o),this.getListStudent()}onSearchBox(o){this.searchContentObj=o,this.setPageStudent(1)}setAttendance(o,_,d){var O=d.target,B=O.checked?1:0,ot=this.listStudent.find(Gt=>Gt.id==_);if(ot){var At=this.listAttendanceNew.find($e=>$e.id==_);let Gt=document.getElementById("attendance_reason_"+_);"absent"==o?(ot.attendance.absent=B,O.checked?ot.attendance.receivedDocument=0:(ot.attendance.reason="",Gt.value="")):(ot.attendance.receivedDocument=B,O.checked&&(ot.attendance.absent=0,ot.attendance.reason="",Gt.value="")),At?(At.absent=ot.attendance?.absent,At.receivedDocument=ot.attendance?.receivedDocument,At.reason=Gt.value):this.listAttendanceNew.push({id:_,absent:ot.attendance?.absent,receivedDocument:ot.attendance?.receivedDocument,reason:Gt.value})}}setReasonAttendance(o,_){var d=_.target,O=this.listStudent.find(ot=>ot.id==o);if(O){var B=this.listAttendanceNew.find(ot=>ot.id==o);B?B.reason=d.value:this.listAttendanceNew.push({id:o,absent:O.attendance?.absent,receivedDocument:O.attendance?.receivedDocument,reason:d.value})}}saveAttendance(){this.isSave=!0;let o={programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listAttendanceNew};if(0==this.listAttendanceNew.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAttendancesPost(o).subscribe(_=>{_.success?(this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!0,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(_=>{_?(_.list.forEach(d=>{d.attendance||(d.attendance={id:0,programId:this.programId,sessionId:this.sessionId,classroomId:this.classroomId,studentId:d.id,absent:0,permission:0,reason:""})},_.list),this.listStudent=_.list,this.totalStudent=_.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,c.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let o=this.commonService.getMyQueryParam("backto");this.backToLink=o??`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent(),super.ngOnInit()}constructor(o,_,d){super(),this.activeRoute=o,this.studentService=_,this.sAztDialogService=d,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.listAttendanceNew=[],this.searchContentObj=new lt.h,this.pageObj=new ve.m(20)}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(rt.gz),t.Y36(An.V),t.Y36(_n.C))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-attendance-student"]],features:[t.qOj],decls:22,vars:19,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","searchContentObj","placeholder","onSearch"],[3,"colorBackground"],["azt-track-service","attendance-student-Tj_9J-QZu",1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","flex justify-between items-center mt-5",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"mt-10","text-center"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[1,"text-center","whitespace-nowrap","px-3"],[1,"text-center","whitespace-nowrap","px-2"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[4,"ngIf"],["class","darkgray",4,"ngIf"],["azt-track-service","attendance-student-j17JbU3oZS",1,"w-5","h-5","inline-block","ml-1","zoom-in",2,"margin-top","-2px","color","gray",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-calendar-search"],["d","M21 12V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h7.5"],["d","M16 2v4"],["d","M8 2v4"],["d","M3 10h18"],["d","M18 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6v0Z"],["d","m22 22-1.5-1.5"],[1,"text-center",3,"ngClass"],[1,"mx-auto",2,"width","max-content"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"id","checked","change"],["type","checkbox",1,"show-code","form-check-input","form-check-input-absent",3,"id","checked","change"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value","input"],[1,"darkgray"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"pageObj","goToPaginationPage"]],template:function(o,_){if(1&o&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.NdJ("onSearch",function(O){return _.onSearchBox(O.searchObj)}),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"flexed-on-the-top",8)(12,"button",9),t.NdJ("click",function(){return _.saveAttendance()}),t.YNc(13,pa,1,0,"azt-loading-ui",10),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()()(),t.TgZ(16,"div",11),t.YNc(17,so,3,3,"div",12),t.YNc(18,ga,1,0,"azt-loading-effect",13),t.YNc(19,ba,1,1,"ng-template",null,14,t.W1O),t.qZA(),t.YNc(21,Ta,6,5,"div",15),t.qZA()),2&o){const d=t.MAs(20);t.Q6J("headerBackToLink",_.backToLink),t.xp6(4),t.Oqu(t.lcZ(5,13,"lang_student_attendance_student")),t.xp6(5),t.Q6J("isServerSearch",!0)("searchContentObj",_.searchContentObj)("placeholder",t.lcZ(10,15,"lang_core_tim_theo_ten_phone_email")),t.xp6(2),t.Q6J("colorBackground","#f0f8ffe8"),t.xp6(1),t.Q6J("disabled",_.isSave),t.xp6(1),t.Q6J("ngIf",_.isSave),t.xp6(1),t.hij(" ",t.lcZ(15,17,"lang_auto_luu")," "),t.xp6(3),t.Q6J("ngIf",0==_.listStudent.length&&0==_.totalStudent),t.xp6(1),t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",d),t.xp6(3),t.Q6J("ngIf",_.totalStudent>0)}},dependencies:[$.mk,$.sg,$.O5,et.gM,at.l,ci.L,vt.n,Di.s,Nt.W,be.a,i._,E.JV,E.gw],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),r})();var wa=g(36294);function Pi(r,x){1&r&&t._UZ(0,"azt-loading-effect")}function Oa(r,x){1&r&&(t.TgZ(0,"div",22),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_list_null")," "))}const ya=function(r){return{width:r}};function Za(r,x){if(1&r&&(t.TgZ(0,"div",23)(1,"div",24)(2,"div",25,26),t._UZ(4,"img",27),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",28)(7,"div",29),t._uU(8),t.qZA(),t.TgZ(9,"div",30),t._uU(10),t.qZA()()()()),2&r){const o=x.$implicit,_=t.MAs(3);t.xp6(4),t.s9C("src",""!=o.iconLink&&o.iconLink?o.iconLink:"https://mockup.textandtool.com/images/diendanh/u4711.svg",t.LSH),t.s9C("alt",t.lcZ(5,6,"lang_core_anh_sach")),t.xp6(2),t.Q6J("ngStyle",t.VKq(8,ya,"calc(100% -  "+(_.offsetWidth+12)+"px)")),t.xp6(1),t.s9C("matTooltip",o.name),t.xp6(1),t.Oqu(o.name),t.xp6(2),t.Oqu(o.description)}}function ro(r,x){1&r&&(t.TgZ(0,"div",31),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Aa(r,x){if(1&r&&(t.TgZ(0,"th",38)(1,"div",39),t._uU(2),t.qZA()()),2&r){const o=x.$implicit;t.xp6(1),t.s9C("matTooltip",o.name),t.xp6(1),t.hij(" ",o.name," ")}}const Oo=function(){return[]};function Sa(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"td",44)(1,"div",45)(2,"input",46),t.NdJ("change",function(d){t.CHM(o);const O=t.oxw().$implicit,B=t.oxw(3);return t.KtG(B.setStatusBook(O,d))}),t.qZA()()()}if(2&r){const o=x.$implicit,_=t.oxw().$implicit,d=t.oxw(3);let O;t.xp6(2),t.MGl("id","input-book-",o.id,""),t.Q6J("value",o.id)("checked",d.checkStatusDistribute(o,null!==(O=_.books)&&void 0!==O?O:t.DdM(3,Oo)))}}function Ia(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"tr")(1,"td",40),t.NdJ("click",function(){const O=t.CHM(o).$implicit,B=t.oxw(3);return t.KtG(B.goToProfile(O.classroomId,O.id))}),t._UZ(2,"azt-student-info-box",41),t.qZA(),t.TgZ(3,"td",42),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.YNc(6,Sa,3,4,"td",43),t.qZA()}if(2&r){const o=x.$implicit,_=t.oxw(3);let d;t.xp6(2),t.Q6J("name",o.fullName)("parentFullName",o.parentFullName)("parentId",o.parentId)("parentPhone",o.parentPhone)("avatar",o.avatar)("gender",o.gender)("hasUser",o.hasUser)("schoolName",o.schoolName)("classrooms",o.classrooms)("joinedAt",o.joinedAt),t.xp6(2),t.Oqu(o.identificationNumber?t.xi3(5,12,o.identificationNumber,6):""),t.xp6(2),t.Q6J("ngForOf",null!==(d=null==_.listBook?null:_.listBook.list)&&void 0!==d?d:t.DdM(15,Oo))}}function Ma(r,x){if(1&r&&(t.TgZ(0,"div",32)(1,"drag-scroll")(2,"table",33)(3,"thead")(4,"tr")(5,"th",34),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"th",35),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.YNc(11,Aa,3,2,"th",36),t.qZA()(),t.TgZ(12,"tbody"),t.YNc(13,Ia,7,16,"tr",37),t.qZA()()()()),2&r){const o=t.oxw(2);let _;t.xp6(6),t.Oqu(t.lcZ(7,4,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(10,6,"lang_auto_so_bao_danh")),t.xp6(2),t.Q6J("ngForOf",null!==(_=null==o.listBook?null:o.listBook.list)&&void 0!==_?_:t.DdM(8,Oo)),t.xp6(2),t.Q6J("ngForOf",o.listStudent)}}function Na(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",47),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",48),t.NdJ("click",function(){t.CHM(o);const d=t.oxw(2);return t.KtG(d.search(d.searchContentObj))}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_core_not_found_student"),"... "),t.xp6(3),t.Oqu(t.lcZ(5,4,"lang_powerpoint_frontend_chart_back")))}function ja(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"azt-paging",16),t.NdJ("goToPaginationPage",function(d){t.CHM(o);const O=t.oxw(3);return t.KtG(O.setPageStudent(d))}),t.qZA()}if(2&r){const o=t.oxw(3);t.Q6J("pageObj",o.pageStudentObj)}}function La(r,x){if(1&r&&(t.TgZ(0,"div",49),t._UZ(1,"div"),t.YNc(2,ja,1,1,"azt-paging",50),t.TgZ(3,"div",51),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&r){const o=t.oxw(2);t.xp6(2),t.Q6J("ngIf",o.totalStudent>o.pageStudentObj.pageSize),t.xp6(2),t.AsE(" ",o.totalStudent," ",t.lcZ(5,3,"lang_notify_list_students")," ")}}function Da(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",10)(1,"div",11),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Oa,3,3,"div",12),t.TgZ(5,"div",13),t.YNc(6,Za,11,10,"div",14),t.qZA(),t.TgZ(7,"div",15)(8,"azt-paging",16),t.NdJ("goToPaginationPage",function(d){t.CHM(o);const O=t.oxw();return t.KtG(O.setPageBook(d))}),t.qZA()()(),t.TgZ(9,"div",17),t.YNc(10,ro,3,3,"div",18),t.YNc(11,Ma,14,9,"div",19),t.YNc(12,Na,6,6,"div",20),t.qZA(),t.YNc(13,La,6,5,"div",21)}if(2&r){const o=t.oxw();let _;t.xp6(2),t.Oqu(t.lcZ(3,8,"lang_core_thong_tin_sach")),t.xp6(2),t.Q6J("ngIf",!(null!=o.listBook&&o.listBook.list&&0!=(null==o.listBook?null:o.listBook.total)||""!=o.searchContentObj.searchContent)),t.xp6(2),t.Q6J("ngForOf",null!==(_=null==o.listBook?null:o.listBook.list)&&void 0!==_?_:t.DdM(10,Oo)),t.xp6(2),t.Q6J("pageObj",o.pageBookObj),t.xp6(2),t.Q6J("ngIf",0==o.listStudent.length&&""==o.searchContentObj.searchContent),t.xp6(1),t.Q6J("ngIf",o.listStudent.length>0),t.xp6(1),t.Q6J("ngIf",0==o.listStudent.length&&""!=o.searchContentObj.searchContent),t.xp6(1),t.Q6J("ngIf",o.totalStudent>0)}}let Ea=(()=>{class r extends C.Q{setPageStudent(o){var _="/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,d="?page="+o+"&backto="+encodeURIComponent(this.backLink);this.myNavigationWithQueryString(_,d),this.initStatusObj(),this.pageStudentObj.setPageNumber(o),this.getListStudent()}goToProfile(o,_){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+o+"/"+_,"?backto="+encodeURIComponent("/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}search(o){this.searchContentObj=o,this.setPageStudent(1)}setPageBook(o){this.pageBookObj.setPageNumber(o),this.getBooks()}checkStatusDistribute(o,_){for(let d=0;d<_.length;d++)if(_[d].bookId==o.id)return!0;return!1}getBooks(){this.waitDestroy(this.bookService.apiBooksListPost({page:this.pageBookObj.page,size:this.pageBookObj.pageSize,programId:this.programId}).subscribe(_=>{_?(this.listBook=_,this.pageBookObj.setTotalPages(this.listBook.total??0),this.getListStudent()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_sach",!0)}))}setStatusBook(o,_){var d=_.target;if(d.checked){var O={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:o.id,bookId:Number(d.value),activate:d.checked};this.waitDestroy(this.studentService.apiStudentsBooksPatch(O).subscribe(ot=>{ot.success||(document.getElementById("input-book-"+d.value).checked=!d.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}else{var B={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:o.id,bookId:Number(d.value)};this.waitDestroy(this.studentService.apiStudentsBooksDeletePost(B).subscribe(ot=>{ot.success||(document.getElementById("input-book-"+d.value).checked=!d.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageStudentObj.page,size:this.pageStudentObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!0,getMark:!0,getPayment:!1,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(_=>{_?(this.listStudent=_.list,this.totalStudent=_.total??0,this.pageStudentObj.setTotalPages(this.totalStudent),this.stopStatusObj(),this.searchContentObj.setLoading(!1)):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.searchContentObj.setLoading(!1))}))}ngOnInit(){(0,c.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageStudentObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let o=this.commonService.getMyQueryParam("backto");this.backLink=o??`/admin/student/classroom-details/${this.classroomId}/3`,this.getBooks(),super.ngOnInit()}constructor(o,_,d){super(),this.bookService=o,this.studentService=_,this.activeRoute=d,this.backLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.totalStudent=0,this.pageStudent=1,this.listStudent=[],this.searchContentObj=new lt.h,this.pageBookObj=new ve.m(20),this.pageStudentObj=new ve.m(20)}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(wa.Z),t.Y36(An.V),t.Y36(rt.gz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-distribute-documents"]],features:[t.qOj],decls:14,vars:11,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","mt-3"],[1,"text-base","font-medium","mb-2"],["class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-3"],[3,"pageObj","goToPaginationPage"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%",4,"ngIf"],["class","flex justify-center mt-2",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4"],[1,"flex","w-70","box-book"],[1,"box-image"],["imageBook",""],["id","blah",3,"src","alt"],[1,"ml-3",3,"ngStyle"],[1,"text-sm","font-medium","truncate",3,"matTooltip"],[1,"scroll"],[1,"mt-10","text-center"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center whitespace-nowrap","style","max-width: 100px !important",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-center","whitespace-nowrap",2,"max-width","100px !important"],[1,"truncate",3,"matTooltip"],[1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input","mr-1",3,"id","value","checked","change"],[1,"flex","justify-center","mt-2"],[1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"]],template:function(o,_){if(1&o&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.NdJ("onSearch",function(O){return _.search(O.searchObj)}),t.ALo(10,"mytranslate"),t.qZA()()()()(),t.YNc(11,Pi,1,0,"azt-loading-effect",8),t.YNc(12,Da,14,11,"ng-template",null,9,t.W1O),t.qZA()),2&o){const d=t.MAs(13);t.Q6J("headerBackToLink",_.backLink),t.xp6(4),t.Oqu(t.lcZ(5,7,"lang_student_distribute_books")),t.xp6(5),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",_.searchContentObj),t.xp6(2),t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",d)}},dependencies:[$.sg,$.O5,$.PC,et.gM,at.l,ci.L,Nt.W,be.a,i._,we.HU,we.$Z,E.JV,E.gw],styles:[".add-image-label[_ngcontent-%COMP%]{background:skyblue;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;left:17px;font-size:10px;text-align:center;border-radius:2px}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:12px}.textarea-description[_ngcontent-%COMP%]{height:69px;max-height:70px;border-radius:5px;font-size:12px}.box-image[_ngcontent-%COMP%]{height:102px;width:76px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:72px;max-height:98px;margin:auto}.box-book[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:5px;padding:.5rem;height:118px;min-width:300px}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.scroll[_ngcontent-%COMP%]{overflow:auto;max-height:78px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px;width:8px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:darkgray}"]}),r})();var Pa=g(9400);let za=(()=>{class r extends C.Q{ngOnInit(){(0,c.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id"));let o=this.commonService.getMyQueryParam("studentId"),_=this.commonService.getMyQueryParam("backTo");this.backToLink=o?"/admin/student/classroom-details/"+this.classroomId+"/4":_||"/admin/student/classroom-details/"+this.classroomId+"/3"}),super.ngOnInit()}constructor(o){super(),this.activeRoute=o,this.backToLink="",this.isShowData=!1,this.classroomId=0,this.programId=0,this.sessionId=0}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(rt.gz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-enter-score"]],features:[t.qOj],decls:2,vars:6,consts:[[3,"headerBackToLink"],[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(o,_){1&o&&(t.TgZ(0,"teacher-layout",0),t._UZ(1,"app-table-score",1),t.qZA()),2&o&&(t.Q6J("headerBackToLink",_.backToLink),t.xp6(1),t.Q6J("isStudent",!1)("screenType","ENTER_SCORE")("classroomId",_.classroomId)("programId",_.programId)("sessionId",_.sessionId))},dependencies:[i._,Pa.B],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),r})();var Ua=g(9345),Mn=g(75470),yo=g(87466),Fa=g(98525);function Ja(r,x){1&r&&(t.TgZ(0,"div",33),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}function qa(r,x){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const o=t.oxw(2);t.xp6(1),t.hij("- ",o.selectedYearValue+1,"")}}function Qa(r,x){if(1&r&&(t.TgZ(0,"mat-option",34),t._uU(1),t.YNc(2,qa,2,1,"span",35),t.qZA()),2&r){const o=x.$implicit,_=t.oxw();t.Q6J("value",o),t.xp6(1),t.hij(" ",o," "),t.xp6(1),t.Q6J("ngIf",_.selectedYearValue==o)}}function Ya(r,x){1&r&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" *",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_school_year"),". "))}function Ba(r,x){if(1&r&&(t.TgZ(0,"span",41),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,o.groupObj.name))}}function Ha(r,x){if(1&r&&(t.TgZ(0,"span",42),t.ALo(1,"mytranslate"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&r){const o=t.oxw().$implicit;t.s9C("matTooltip",t.lcZ(1,2,o.groupObj.name)),t.xp6(2),t.Oqu(t.lcZ(3,4,o.groupObj.name))}}function Ga(r,x){if(1&r&&(t.ynx(0),t.TgZ(1,"div",37)(2,"mat-radio-button",38),t.YNc(3,Ba,3,3,"span",39),t.ALo(4,"mytranslate"),t.YNc(5,Ha,4,6,"span",40),t.ALo(6,"mytranslate"),t.qZA()(),t.BQk()),2&r){const o=x.$implicit;t.xp6(2),t.Q6J("value",o.groupObj.id),t.xp6(1),t.Q6J("ngIf",o.groupObj.name&&t.lcZ(4,3,o.groupObj.name).length<15),t.xp6(2),t.Q6J("ngIf",o.groupObj.name&&t.lcZ(6,5,o.groupObj.name).length>=15)}}function Ra(r,x){1&r&&(t.TgZ(0,"div",43),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_name_group")," "))}function Va(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"a",44),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.isShowCreateGroupOfClassroomOfClassroomBox(!0))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_+_them_nhom")," "))}function $a(r,x){1&r&&(t._UZ(0,"input",45,46),t.ALo(2,"mytranslate")),2&r&&t.s9C("placeholder",t.lcZ(2,1,"lang_auto_ten_nhom_vd_khoi_1_khoi_2"))}function Ka(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",47)(1,"button",48),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.createNewGroupOfClassroom())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",49),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.isShowCreateGroupOfClassroomOfClassroomBox(!1))}),t.O4$(),t.TgZ(5,"svg",50),t._UZ(6,"line",51)(7,"line",52),t.qZA()()()}if(2&r){const o=t.oxw();t.xp6(1),t.Q6J("disabled",o.form.controls.nameGroup.errors),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_auto_tao_nhom")," ")}}function Wa(r,x){1&r&&(t.TgZ(0,"div",53),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" *",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_enter_name_group"),". "))}function Xa(r,x){1&r&&(t.TgZ(0,"span",56),t._UZ(1,"azt-loading-ui"),t.qZA())}function ts(r,x){if(1&r){const o=t.EpF();t.ynx(0),t.TgZ(1,"button",54),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.saveClassroomObj(!1))}),t.YNc(2,Xa,2,0,"span",55),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&r){const o=t.oxw();t.xp6(1),t.Q6J("disabled",o.statusObj.loading||o.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading&&"save"==o.activeButton),t.xp6(1),t.hij(" ",t.lcZ(4,3,"lang_button_save")," ")}}function es(r,x){1&r&&(t.TgZ(0,"span",56),t._UZ(1,"azt-loading-ui"),t.qZA())}function ns(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.updateClassroomObj())}),t.YNc(1,es,2,0,"span",55),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()}if(2&r){const o=t.oxw();t.Q6J("disabled",o.statusObj.loading||o.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(3,3,"lang_button_update")," ")}}function os(r,x){1&r&&(t.TgZ(0,"span",56),t._UZ(1,"azt-loading-ui"),t.qZA())}function is(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.saveClassroomObj(!0))}),t.YNc(1,os,2,0,"span",55),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()}if(2&r){const o=t.oxw();t.Q6J("disabled",o.statusObj.loading||o.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading&&"save_and_close"==o.activeButton),t.xp6(1),t.hij(" ",t.lcZ(3,3,"lang_core_luu_va_dong")," ")}}let zi=(()=>{class r extends Et.e{closeDialog(){this.dialogRef.close(!!this.hasCreateNewGroup)}createNewGroupOfClassroom(){if(this.initStatusObj(),this.form.controls.nameGroup.valid){this.isShowCreateGroupOfClassroom=!1;let o={groupName:this.form.getRawValue().nameGroup};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomGroupPost(o).subscribe(_=>{1==_.success?(this.hasCreateNewGroup=!0,this.getClassroomObjs(),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):this.errorStatusObj(_.message??"",!0)}))}}isShowCreateGroupOfClassroomOfClassroomBox(o){this.form.controls.nameGroup.setValue(""),this.isShowCreateGroupOfClassroom=o}updateClassroomObj(){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;let _=this.form.getRawValue().group;_=_!=this.fakeGroupValue?_:void 0;let d={id:this.classroomObj?.id??0,classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:_??0};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomWithGroupPost(d).subscribe(O=>{1==O.success?O.data?.isDuplicatedClassroomName?this.errorStatusObj(O.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):(this.successStatusObj("lang_auto_sua_lop_hoc_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_auto_sua_lop_hoc_khong_thanh_cong",!0)}))}saveClassroomObj(o){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;this.initStatusObj(),this.activeButton=o?"save_and_close":"save";let d=this.form.getRawValue().group;d=d!=this.fakeGroupValue?d:void 0;let O={classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:d};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(O).subscribe(B=>{if(1==B.success)if(B.data?.isDuplicatedClassroomName)this.errorStatusObj(B.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0);else{this.successStatusObj("lang_auto_them_lop_thanh_cong",!0);let ot=B.data?.obj.id;o&&(this.dialogRef.close(),this.commonService.myNavigation(`/admin/student/classroom-details/${ot}/0`)),this.form.controls.nameClass.setValue(""),this.form.markAsPristine()}else this.errorStatusObj("lang_auto_them_lop_hoc_khong_thanh_cong",!0)}))}handleData(){let o=(new Date).getFullYear();for(let B=o-20;B<=o+40;B++)this.years.push(B);null!=this.classroomObj&&(null==this.classroomObj.year&&(this.classroomObj.year=""),null==this.classroomObj.classroomGroupId&&(this.classroomObj.classroomGroupId=this.fakeGroupValue));let _=this.classroomObj?this.classroomObj?.year?.split(" ")[0]:"";this.selectedYearValue=""!=_?parseInt(_??"",10):o;let d=this.classroomObj?this.classroomObj.classroomGroupId:this.fakeGroupValue;this.form=new b.cw({nameClass:new b.NI(this.classroomObj?this.classroomObj.name:"",{nonNullable:!0,validators:[b.kI.required]}),nameGroup:new b.NI("",{nonNullable:!0,validators:[b.kI.required]}),group:new b.NI(d,{nonNullable:!0,validators:[b.kI.required]}),year:new b.NI(this.selectedYearValue,{nonNullable:!0,validators:[b.kI.required]})})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(o=>{1==o.success?(this.activeClassroomData=o?.data?.activeClassroomData,this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}ngOnInit(){this.handleData(),this.getClassroomObjs()}constructor(o,_,d){super(d,_),this.classroomGroupService=o,this.dialogRef=_,this.data=d,this.selectedYearValue=0,this.isShowCreateGroupOfClassroom=!1,this.fakeGroupValue=-2,this.years=[],this.hasCreateNewGroup=!1,this.activeButton="save",this.classroomObj=d.classroomObj,this.form=new b.cw({nameClass:new b.NI("",{nonNullable:!0,validators:[b.kI.required]}),nameGroup:new b.NI("",{nonNullable:!0,validators:[b.kI.required]}),group:new b.NI(0,{nonNullable:!0,validators:[b.kI.required]}),year:new b.NI(0,{nonNullable:!0,validators:[b.kI.required]})})}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(Mn.c8),t.Y36(Q.so,8),t.Y36(Q.WI,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-create-or-classroom"]],features:[t.qOj],decls:47,vars:34,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","nameClass",1,"form-label"],["type","text","id","nameClass","formControlName","nameClass",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","year",1,"form-label"],["appearance","outline"],["formControlName","year","id","year",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-xs text-danger mt-1","style","width: 100%; margin: auto",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["formControlName","group"],[1,"grid","grid-cols-10","gap-4","sm:gap-6","azt-create-update-classroom","px-3"],[4,"ngFor","ngForOf"],["class","text-danger text-danger mt-1",4,"ngIf"],[1,"p-3","flex","flex-col","md:flex-row","md:items-center"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN","class","m-1 btn-text-primary",3,"click",4,"ngIf"],["type","text","class","form-control mr-2","style","width: auto","formControlName","nameGroup",3,"placeholder",4,"ngIf"],["class","flex",4,"ngIf"],["class","text-danger pl-5 pb-2","style","max-width: 250px",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],[4,"ngIf","ngIfElse"],["updateData",""],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl","class","btn btn-info",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[4,"ngIf"],[1,"text-xs","text-danger","mt-1",2,"width","100%","margin","auto"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3","w-full"],["color","primary",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"text-danger","text-danger","mt-1"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN",1,"m-1","btn-text-primary",3,"click"],["type","text","formControlName","nameGroup",1,"form-control","mr-2",2,"width","auto",3,"placeholder"],["nameGroup",""],[1,"flex"],["azt-track-service","create-or-update-classroom-dialog-93qcHBpjZM3",1,"btn","block","btn-primary","mr-2","ml-0","md:ml-2","mt-2","md:mt-0",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-F4XQrjncsAd",1,"btn","block","btn-secondary","mt-2","md:mt-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"text-danger","pl-5","pb-2",2,"max-width","250px"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","w-24","btn-primary","mr-2",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl",1,"btn","btn-info",3,"disabled","click"]],template:function(o,_){if(1&o&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"azt-mat-dialog-content")(9,"div",5)(10,"div",6)(11,"label",7),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t._UZ(14,"input",8),t.ALo(15,"mytranslate"),t.YNc(16,Ja,3,3,"div",9),t.qZA(),t.TgZ(17,"div",10)(18,"label",11),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"mat-form-field",12)(22,"mat-select",13),t.NdJ("valueChange",function(O){return _.selectedYearValue=O}),t.YNc(23,Qa,3,3,"mat-option",14),t.qZA()(),t.YNc(24,Ya,3,3,"div",15),t.qZA(),t.TgZ(25,"div",16)(26,"div",17),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"div",18)(30,"mat-radio-group",19)(31,"div",20),t.YNc(32,Ga,7,7,"ng-container",21),t.qZA()(),t.YNc(33,Ra,3,3,"div",22),t.TgZ(34,"div",23),t.YNc(35,Va,3,3,"a",24),t.YNc(36,$a,3,3,"input",25),t.YNc(37,Ka,8,4,"div",26),t.qZA(),t.YNc(38,Wa,3,3,"div",27),t.qZA()()()()(),t.TgZ(39,"div",28)(40,"button",29),t.NdJ("click",function(){return _.closeDialog()}),t._uU(41),t.ALo(42,"mytranslate"),t.qZA(),t.YNc(43,ts,5,5,"ng-container",30),t.YNc(44,ns,4,5,"ng-template",null,31,t.W1O),t.YNc(46,is,4,5,"button",32),t.qZA()()()),2&o){const d=t.MAs(45);t.xp6(1),t.Q6J("formGroup",_.form),t.xp6(4),t.hij(" ",_.classroomObj?t.lcZ(7,22,"lang_student_classroom_list_utils_create_class_update_class"):t.lcZ(6,20,"lang_student_classroom_list_utils_create_class_add_class")," "),t.xp6(7),t.hij(" ",t.lcZ(13,24,"lang_auto_ten_lop")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(15,26,"lang_auto_nhap_ten_lop")),t.xp6(2),t.Q6J("ngIf",_.form.controls.nameClass.dirty&&_.form.controls.nameClass.errors),t.xp6(3),t.hij(" ",t.lcZ(20,28,"lang_auto_nam_hoc")," "),t.xp6(3),t.Q6J("value",_.selectedYearValue),t.xp6(1),t.Q6J("ngForOf",_.years),t.xp6(1),t.Q6J("ngIf",_.form.controls.year.dirty&&_.form.controls.year.errors),t.xp6(3),t.hij(" ",t.lcZ(28,30,"lang_student_classroom_list_utils_create_class_choose_group_class")," "),t.xp6(5),t.Q6J("ngForOf",_.activeClassroomData),t.xp6(1),t.Q6J("ngIf",_.form.controls.group.dirty&&_.form.controls.group.errors),t.xp6(2),t.Q6J("ngIf",0==_.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",1==_.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",_.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",_.isShowCreateGroupOfClassroom&&_.form.controls.nameGroup.dirty&&_.form.controls.nameGroup.errors),t.xp6(3),t.Oqu(t.lcZ(42,32,"lang_button_cancel")),t.xp6(2),t.Q6J("ngIf",!_.classroomObj)("ngIfElse",d),t.xp6(3),t.Q6J("ngIf",!_.classroomObj)}},dependencies:[$.sg,$.O5,H.ey,Mt.KE,yo.VQ,yo.U0,Fa.gD,et.gM,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,Vn.M,Be.R,vt.n,E.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),r})();var as=g(23433),ss=g(35149);let Ui=(()=>{class r extends ss.w{reloadClassrooms(){this.getClassroomObjs()}eventOfClassroomMenu(o){o&&this.getClassroomObjs()}updateGroupSuccessEvent(o){o&&this.getClassroomObjs()}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet(this.typeFilter).subscribe(o=>{o.success?(this.classroomGroupData=(this.isShowActiveClassroom?o?.data?.activeClassroomData:o?.data?.storageClassroomData)??[],this.totalStorageClassroom=this.commonService.concatMultipleArray(o?.data?.storageClassroomData?.map(_=>_.classroomObjs)??[]).length,this.isShowActiveClassroom||(this.classroomGroupData=this.classroomGroupData.filter(_=>_.classroomObjs.length>0)),this.initData(),this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}constructor(){super(),this.typeFilter="all",this.classroomGroupService=(0,t.f3M)(Mn.c8),this.isShowActiveClassroom=!1,this.totalStorageClassroom=0}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-base-show-classrooms"]],inputs:{typeFilter:"typeFilter"},features:[t.qOj],decls:0,vars:0,template:function(o,_){},encapsulation:2}),r})();function rs(r,x){1&r&&(t.TgZ(0,"span",10),t._UZ(1,"azt-loading-ui"),t.qZA())}let Tn=(()=>{class r extends Et.e{closeDialog(o){this.dialogRef.close(o)}deleteClassroomObj(){this.classroomObj.isShareClassroom?this.updateClassroomToGroup():(this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomObjGet(this.classroomObj?.id??0).subscribe(o=>{1==o.success?(this.successStatusObj("lang_auto_xoa_lop_hoc_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_auto_xoa_lop_hoc_khong_thanh_cong",!0),this.dialogRef.close())})))}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classroomObj.id}).subscribe(_=>{1==_.success?(this.successStatusObj("lang_core_xoa_nhom_lop_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_core_xoa_nhom_lop_khong_thanh_cong",!0),this.closeDialog(!1))})}constructor(o,_,d){super(d,_),this.classroomGroupService=o,this.dialogRef=_,this.data=d,this.classroomObj=d.classroomObj}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(Mn.c8),t.Y36(Q.so,8),t.Y36(Q.WI,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-teacher-delete-classroom"]],features:[t.qOj],decls:18,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-classroom-plZFV82pDhH",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-classroom-f8Z8p51QYG8",1,"btn","w-24","btn-danger",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(o,_){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.TgZ(8,"span",5),t._uU(9),t.qZA()()()()(),t.TgZ(10,"div",6)(11,"button",7),t.NdJ("click",function(){return _.closeDialog(!1)}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"button",8),t.NdJ("click",function(){return _.deleteClassroomObj()}),t.YNc(15,rs,2,0,"span",9),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()),2&o&&(t.xp6(5),t.AsE(" ",_.classroomObj.isShareClassroom?t.lcZ(6,7,"lang_core_bo_quyen_luu_y_sau_khi_xoa_lop_duoc_chia_se"):""," ",t.lcZ(7,9,"lang_student_classroom_list_utils_delete_class")," "),t.xp6(4),t.Oqu(_.classroomObj.name),t.xp6(3),t.hij(" ",t.lcZ(13,11,"lang_button_cancel")," "),t.xp6(2),t.Q6J("disabled",1==_.statusObj.loading),t.xp6(1),t.Q6J("ngIf",_.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(17,13,"lang_button_delete")," "))},dependencies:[$.O5,vt.n,E.JV],encapsulation:2}),r})();function Ce(r,x){1&r&&(t.TgZ(0,"span",15),t._UZ(1,"azt-loading-ui"),t.qZA())}function Vt(r,x){if(1&r&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r){const o=t.oxw(3).$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,o.groupObj.name))}}function Ae(r,x){if(1&r&&(t.TgZ(0,"span",24),t.ALo(1,"mytranslate"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&r){const o=t.oxw(3).$implicit;t.s9C("matTooltip",t.lcZ(1,2,o.groupObj.name)),t.xp6(2),t.Oqu(t.lcZ(3,4,o.groupObj.name))}}function lo(r,x){if(1&r&&(t.TgZ(0,"mat-radio-button",20),t.YNc(1,Vt,3,3,"span",21),t.YNc(2,Ae,4,6,"span",22),t.qZA()),2&r){const o=t.oxw(2).$implicit;t.Q6J("value",o.groupObj.id),t.xp6(1),t.Q6J("ngIf",o.groupObj.name&&o.groupObj.name.length<15),t.xp6(1),t.Q6J("ngIf",o.groupObj.name&&o.groupObj.name.length>=15)}}function Cs(r,x){if(1&r&&(t.TgZ(0,"div",18),t.YNc(1,lo,3,3,"mat-radio-button",19),t.qZA()),2&r){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null!=o.groupObj)}}function Zo(r,x){1&r&&(t.TgZ(0,"div",25)(1,"mat-radio-button",20),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&r&&(t.xp6(1),t.Q6J("value",0),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_student_classroom_list_other")," "))}function Ao(r,x){if(1&r&&(t.ynx(0),t.YNc(1,Cs,2,1,"div",16),t.YNc(2,Zo,4,4,"div",17),t.BQk()),2&r){const o=x.$implicit;t.xp6(1),t.Q6J("ngIf",null!=o.groupObj),t.xp6(1),t.Q6J("ngIf",null==o.groupObj)}}function co(r,x){1&r&&(t.TgZ(0,"span",26),t._UZ(1,"azt-loading-ui"),t.qZA())}let ls=(()=>{class r extends Et.e{closeDialog(){this.dialogRef.close()}chooseGroup(){let o=this.form.getRawValue();this.groupId=o.groupId!=this.fakeGroupValue?o.groupId:void 0}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classId,groupId:this.groupId}).subscribe(_=>{1==_.success?(this.successStatusObj("lang_core_di_chuyen_nhom_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_core_di_chuyen_nhom_khong_thanh_cong",!0),this.closeDialog())})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(o=>{if(1==o.success){for(var _ of(this.activeClassroomData=o?.data?.activeClassroomData??[],this.activeClassroomData))_.classroomObjs.find(B=>B.id==this.classId)&&(this.form=new b.cw({groupId:new b.NI(_.groupObj.id,{nonNullable:!0,validators:[b.kI.required]})}));this.successStatusObj()}else this.errorStatusObj(o.message??"",!0)}))}ngOnInit(){this.getClassroomObjs()}constructor(o,_,d){super(d,_),this.classroomGroupService=o,this.dialogRef=_,this.data=d,this.classId=0,this.fakeGroupValue=-2,this.classId=d.classId,this.form=new b.cw({groupId:new b.NI(void 0,{nonNullable:!0,validators:[b.kI.required]})})}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(Mn.c8),t.Y36(Q.so,8),t.Y36(Q.WI,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-move-classroom-to-group"]],features:[t.qOj],decls:22,vars:14,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class","list-group"],[1,"pt-2"],["class","w-4 h-4 inline-block",4,"ngIf"],["formControlName","groupId",3,"change"],[1,"grid","grid-cols-12","gap-4","sm:gap-6","azt-create-update-classroom"],[4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6",4,"ngIf"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6","w-full"],["color","primary","size","small","class","w-full",3,"value",4,"ngIf"],["color","primary","size","small",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(o,_){1&o&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6),t.YNc(10,Ce,2,0,"span",7),t.TgZ(11,"mat-radio-group",8),t.NdJ("change",function(){return _.chooseGroup()}),t.TgZ(12,"div",9),t.YNc(13,Ao,3,2,"ng-container",10),t.qZA()()()()()(),t.TgZ(14,"div",11)(15,"button",12),t.NdJ("click",function(){return _.closeDialog()}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"button",13),t.NdJ("click",function(){return _.updateClassroomToGroup()}),t.YNc(19,co,2,0,"span",14),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()),2&o&&(t.xp6(1),t.Q6J("formGroup",_.form),t.xp6(4),t.hij(" ",t.lcZ(6,8,"lang_core_chon_nhom_lop_muon_chuyen_sang")," "),t.xp6(5),t.Q6J("ngIf",_.statusObj.loading),t.xp6(3),t.Q6J("ngForOf",_.activeClassroomData),t.xp6(3),t.Oqu(t.lcZ(17,10,"lang_button_cancel")),t.xp6(2),t.Q6J("disabled",_.form.controls.groupId.errors),t.xp6(1),t.Q6J("ngIf",_.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(21,12,"lang_button_update")," "))},dependencies:[$.sg,$.O5,yo.VQ,yo.U0,et.gM,b._Y,b.JJ,b.JL,b.sg,b.u,Vn.M,Be.R,vt.n,E.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:210px;vertical-align:middle;cursor:pointer;margin-left:-5px}.list-group[_ngcontent-%COMP%]   .mdc-radio__inner-circle[_ngcontent-%COMP%]{border-width:7px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio__background[_ngcontent-%COMP%]{width:15px!important;height:15px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]   .mdc-radio__native-control[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{padding:calc((var(--mdc-radio-state-layer-size, 30px) - 20px) / 2)}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{display:flex!important;width:auto!important;height:auto!important}@media (max-width: 767px){.truncate[_ngcontent-%COMP%]{max-width:190px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),r})();function So(r,x){1&r&&(t.TgZ(0,"div",15)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&r&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_homework_add_home_work_share")))}function Fi(r,x){if(1&r&&(t.TgZ(0,"div",16)(1,"a",17),t.NdJ("click",function(_){return _.preventDefault()}),t.TgZ(2,"span",18),t._UZ(3,"lucide-icon",19),t.qZA()()()),2&r){t.oxw();const o=t.MAs(17);t.xp6(1),t.Q6J("matMenuTriggerFor",o)}}function pn(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"li")(1,"a",20),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.editClassroomDialog())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",22)(4,"path",23),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&r&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_sua_lop")," "))}function Ji(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"li")(1,"a",24),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.copyClassroomObj())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"rect",25)(4,"path",26),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&r&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_nhan_ban_lop")," "))}function ce(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"li")(1,"a",27),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.moveClassroomToStorage())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"ellipse",28)(4,"path",29)(5,"path",30),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&r&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_dua_vao_luu_tru")," "))}function _o(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"li")(1,"a",31),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.moveSharedClassroomToStorage())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"ellipse",28)(4,"path",29)(5,"path",30),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&r&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_dua_vao_luu_tru")," "))}function _i(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"li")(1,"a",32),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.moveClassroomFromStorageToActive())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",33)(4,"path",34)(5,"path",35)(6,"path",36),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&r&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_khoi_phuc")," "))}function cs(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"li")(1,"a",37),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.moveSharedClassroomFromStorageToActive())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",33)(4,"path",34)(5,"path",35)(6,"path",36),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&r&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_khoi_phuc")," "))}function _s(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"li")(1,"a",37),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.updateClassroom())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",38)(4,"path",39)(5,"path",40)(6,"path",41)(7,"path",42),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&r&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_core_sua_di_chuyen")," "))}function ms(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"li")(1,"a",43),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.deleteClassroomDialog())}),t.O4$(),t.TgZ(2,"svg",44),t._UZ(3,"polyline",45)(4,"path",46),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&r&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_xoa_lop")," "))}const ds=function(r){return[r]};let qi=(()=>{class r extends C.Q{goToMergeList(){this.commonService.myNavigation("/admin/student/merge-student/"+this.classroomObj.id)}updateClassroom(){this.sAztDialogService.open(ls,{data:{classId:this.classroomObj.id},width:"550px",restoreFocus:!1}).afterClosed().subscribe(_=>{_&&this.eventOfClassroomMenu.emit(!0)})}moveClassroomToStorage(){this.classroomGroupService.apiClassroomGroupMoveClassroomToStorageGet(this.classroomObj.id??0).subscribe(o=>{1==o.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj("lang_auto_dua_vao_luu_tru_khong_thanh_cong")})}moveSharedClassroomToStorage(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:5}).subscribe(_=>{1==_.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj(_.message??"")})}moveClassroomFromStorageToActive(){this.classroomGroupService.apiClassroomGroupRestoreClassroomGet(this.classroomObj.id??0).subscribe(o=>{1==o.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj("lang_auto_khoi_phuc_lop_hoc_khong_thanh_cong")})}moveSharedClassroomFromStorageToActive(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:2}).subscribe(_=>{1==_.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj(_.message??"")})}editClassroomDialog(){this.sAztDialogService.open(zi,{data:{classroomObj:this.classroomObj},width:"550px",restoreFocus:!1}).afterClosed().subscribe(_=>{_&&this.eventOfClassroomMenu.emit(!0)})}deleteClassroomDialog(){this.sAztDialogService.open(Tn,{width:"400px",data:{classroomObj:this.classroomObj},restoreFocus:!1}).afterClosed().subscribe(_=>{_&&this.eventOfClassroomMenu.emit(!0)})}copyClassroomObj(){this.showSuccessSnack("lang_auto_dang_nhan_ban_lop_hoc_vui_long_doi_trong_giay_lat_doing"),this.classroomGroupService.apiClassroomGroupCopyClassroomGet(this.classroomObj.id??0).subscribe(o=>{1==o.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_nhan_ban_lop_hoc_thanh_cong",!0)):this.errorStatusObj("lang_auto_nhan_ban_lop_hoc_khong_thanh_cong",!0)})}ngOnInit(){super.ngOnInit(),this.programId=this.commonService.getMyQueryParam("programId")}constructor(o,_,d){super(),this.classroomGroupService=o,this.permissionTeamService=_,this.sAztDialogService=d,this.eventOfClassroomMenu=new t.vpe,this.screenTemplate=""}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(Mn.c8),t.Y36(Mn.sb),t.Y36(_n.C))},r.\u0275cmp=t.Xpm({type:r,selectors:[["azt-information-class-box"]],inputs:{classroomObj:"classroomObj",screenTemplate:"screenTemplate"},outputs:{eventOfClassroomMenu:"eventOfClassroomMenu"},features:[t.qOj],decls:31,vars:36,consts:[[1,"relative"],["azt-track-service","information-class-box-lTAPwcAOtkX",1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-4","cursor-pointer","block",2,"background","#eee",3,"routerLink"],[1,"flex","items-center"],[1,"block","font-medium","truncate",2,"max-width","70%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"flex"],[1,"text-slate-500","mr-auto","text-xs","mt-2"],[1,"text-slate-500","text-xs","mt-2"],["class","ribbon",4,"ngIf"],["class","ml-auto absolute top-0 right-0","style","margin: 15px",4,"ngIf"],["xPosition","before"],["classroomMenuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[4,"ngIf"],[1,"ribbon"],[1,"ml-auto","absolute","top-0","right-0",2,"margin","15px"],["azt-track-service","information-class-box-tDPvhBl5vWp",1,"clickable","flex","items-center","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],[1,"w-5","h-5","text-slate-500","inline-block"],["name","more-horizontal"],["azt-track-service","information-class-box-Y6FVEqAKljD",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","information-class-box-1Z4loYYCXOT",1,"dropdown-item",3,"click"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],["azt-track-service","information-class-box-yNwo0EZravB",1,"dropdown-item",3,"click"],["cx","12","cy","5","rx","9","ry","3"],["d","M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"],["d","M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"],["azt-track-service","information-class-box-OkjnS3UN_Xz",1,"dropdown-item",3,"click"],["azt-track-service","information-class-box-5V-axi1fKp3",1,"dropdown-item",3,"click"],["d","M10 2h4"],["d","M12 14v-4"],["d","M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6"],["d","M9 17H4v5"],["azt-track-service","information-class-box-yPIM4KNi4qL",1,"dropdown-item",3,"click"],["d","M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22"],["d","m18 2 4 4-4 4"],["d","M2 6h1.9c1.5 0 2.9.9 3.6 2.2"],["d","M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8"],["d","m18 14 4 4-4 4"],["azt-track-service","information-class-box-4Glzv5SSUAO",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(o,_){if(1&o&&(t.TgZ(0,"div",0)(1,"a",1),t.ALo(2,"navigationLocalize"),t.TgZ(3,"div",2)(4,"a",3,4),t._uU(6),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div",7),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()(),t.YNc(14,So,4,3,"div",8),t.qZA(),t.YNc(15,Fi,4,1,"div",9),t.qZA(),t.TgZ(16,"mat-menu",10,11)(18,"div",12)(19,"ul",13),t.YNc(20,pn,7,3,"li",14),t.ALo(21,"editPermission"),t.YNc(22,Ji,7,3,"li",14),t.ALo(23,"fullPermission"),t.YNc(24,ce,8,3,"li",14),t.YNc(25,_o,8,3,"li",14),t.YNc(26,_i,9,3,"li",14),t.YNc(27,cs,9,3,"li",14),t.YNc(28,_s,10,3,"li",14),t.YNc(29,ms,7,3,"li",14),t.ALo(30,"deletePermission"),t.qZA()()()),2&o){const d=t.MAs(5);t.xp6(1),t.Q6J("routerLink",t.VKq(34,ds,t.lcZ(2,19,"/admin/student/classroom-details/"+_.classroomObj.id+(_.programId?"/3":"/0")))),t.xp6(3),t.s9C("matTooltip",_.classroomObj.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",d.isDisabled),t.xp6(2),t.hij(" ",_.classroomObj.name," "),t.xp6(3),t.AsE("",t.lcZ(10,21,"lang_auto_si_so"),": ",_.classroomObj.countStudents,""),t.xp6(3),t.AsE("",t.lcZ(13,23,"lang_auto_nam_hoc"),": ",_.classroomObj.year,""),t.xp6(2),t.Q6J("ngIf",_.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",_.classroomObj.permissionObj),t.xp6(5),t.Q6J("ngIf",""==_.screenTemplate&&t.xi3(21,25,_.classroomObj,"classroom")),t.xp6(2),t.Q6J("ngIf",""==_.screenTemplate&&t.xi3(23,28,_.classroomObj,"classroom")),t.xp6(2),t.Q6J("ngIf",""==_.screenTemplate&&!_.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",""==_.screenTemplate&&_.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf","storage"==_.screenTemplate),t.xp6(1),t.Q6J("ngIf","showListPeopleWhoWillShare"==_.screenTemplate),t.xp6(1),t.Q6J("ngIf",""==_.screenTemplate&&_.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",t.xi3(30,31,_.classroomObj,"classroom"))}},dependencies:[$.O5,X.VK,X.p6,et.gM,rt.rH,St.Nh5,F.Q,E.Jy,E.JV,E.NK,E.Pf,E.Z_],styles:[".ribbon[_ngcontent-%COMP%]{position:absolute;right:-2px;top:-2px;z-index:1;overflow:hidden;width:45px;height:45px;text-align:right}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:7px;color:#fff;text-transform:uppercase;text-align:center;font-weight:700;line-height:12px;transform:rotate(45deg);-webkit-transform:rotate(45deg);width:55px;display:block;background:linear-gradient(#68cc00 0%,rgba(104,204,0,.61) 100%);box-shadow:0 3px 10px -5px #636363;position:absolute;top:6px;right:-14px}.ml-auto[_ngcontent-%COMP%]{z-index:999}"]}),r})();function Io(r,x){1&r&&(t.TgZ(0,"span",10),t._UZ(1,"azt-loading-ui"),t.qZA())}let Mo=(()=>{class r extends Et.e{closeDialog(o){this.dialogRef.close(o)}deleteGroupOfClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomGroupGet(this.currentGroupOfClassroomDataThatIsEdited?.id??0).subscribe(o=>{1==o.success?(this.showSuccessSnack("lang_auto_xoa_nhom_thanh_cong"),this.successStatusObj(),this.closeDialog(!0)):(this.errorStatusObj(o.message??"",!0),this.dialogRef.close())}))}constructor(o,_,d){super(d,_),this.classroomGroupService=o,this.dialogRef=_,this.data=d,this.currentGroupOfClassroomDataThatIsEdited=d.groupObj}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(Mn.c8),t.Y36(Q.so,8),t.Y36(Q.WI,8))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-delete-group"]],features:[t.qOj],decls:17,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-danger",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(o,_){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"span",5),t._uU(8),t.qZA()()()()(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return _.closeDialog(!1)}),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return _.deleteGroupOfClassroom()}),t.YNc(14,Io,2,0,"span",9),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()),2&o&&(t.xp6(5),t.hij(" ",t.lcZ(6,6,"lang_student_classroom_list_utils_delete_group")," "),t.xp6(3),t.Oqu(null==_.currentGroupOfClassroomDataThatIsEdited?null:_.currentGroupOfClassroomDataThatIsEdited.name),t.xp6(3),t.hij(" ",t.lcZ(12,8,"lang_button_cancel")," "),t.xp6(2),t.Q6J("disabled",1==_.statusObj.loading),t.xp6(1),t.Q6J("ngIf",_.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(16,10,"lang_button_delete")," "))},dependencies:[$.O5,vt.n,E.JV],encapsulation:2}),r})();function mi(r,x){1&r&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",30),t._UZ(2,"path",31),t.qZA()())}function Qi(r,x){1&r&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",32),t._UZ(2,"path",33),t.qZA()())}function di(r,x){if(1&r&&(t.TgZ(0,"button",34),t.NdJ("click",function(_){return _.stopPropagation()}),t.O4$(),t.TgZ(1,"svg",35),t._UZ(2,"circle",36)(3,"circle",37)(4,"circle",38),t.qZA()()),2&r){t.oxw();const o=t.MAs(12);t.Q6J("matMenuTriggerFor",o)}}function ui(r,x){1&r&&(t.TgZ(0,"div",39),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_enter_name_group")," "))}let Yi=(()=>{class r extends C.Q{collapseByGroupId(o){this.collapseByGroupIdEvent.emit(o)}deleteGroupDialog(){this.sAztDialogService.open(Mo,{width:"400px",data:{groupObj:this.groupObj},restoreFocus:!1}).afterClosed().subscribe(_=>{_&&this.updateGroupSuccessEvent.emit(!0)})}updateGroupOfClassroom(o){if(""!=o.trim()){var _={groupId:this.groupObj?.id??0,name:o};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomGroupPost(_).subscribe(d=>{1==d.success?(this.successStatusObj("lang_auto_cap_nhat_nhom_thanh_cong",!0),this.updateGroupSuccessEvent.emit(!0)):this.errorStatusObj(d.message??"",!0)}))}}constructor(o,_){super(),this.classroomGroupService=o,this.sAztDialogService=_,this.updateGroupSuccessEvent=new t.vpe,this.collapseByGroupIdEvent=new t.vpe}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(Mn.c8),t.Y36(_n.C))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-teacher-classroom-show-group-box"]],inputs:{groupObj:"groupObj"},outputs:{updateGroupSuccessEvent:"updateGroupSuccessEvent",collapseByGroupIdEvent:"collapseByGroupIdEvent"},features:[t.qOj],decls:48,vars:31,consts:[[1,"flex","items-center"],[1,"text-lg","font-medium","truncate","mr-3"],["azt-track-service","azt-list-classroom-view-mpTg8jgQkF",1,"flex","items-center","clickable",3,"click"],[4,"ngIf"],[1,"font-medium","truncate"],[1,"dropdown"],["azt-track-service","class-list-U9X02wc0f","class","dropdown-toggle p-1 hover:bg-gray dark:hover:bg-darkmode-400 rounded-md","aria-expanded","false","data-tw-toggle","dropdown",3,"matMenuTriggerFor","click",4,"ngIf"],["menu","matMenu"],[1,"box","grid"],["azt-track-service","class-list-9ufWL4LIlj","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","pr-3","btn-edit","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2",2,"display","initial"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","class-list-Qqdrk4Sj2Q",1,"pr-3","btn-delete","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2",2,"display","initial"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],["xPosition","after"],["matMenuGroupOfClassroom",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["azt-track-service","class-list-G1Mkx8IXu63",1,"modal-body"],[1,"text-base","font-medium","mr-auto"],["azt-track-service","class-list-0AWKcuGUws",3,"click"],["type","text","aria-label","default input example",1,"form-control","mt-2",3,"value","placeholder"],["nameGroup",""],["class","alert alert-danger p-1 mt-2",4,"ngIf"],[1,"text-right","mt-3",2,"display","flex","justify-content","space-between"],["azt-track-service","class-list-qHpiXjTg249",1,"btn","w-24","btn-secondary","mr-2"],["azt-track-service","class-list-lVV77oiaCLP",1,"btn","w-24","btn-primary",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevron-down"],["d","m6 9 6 6 6-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevron-right"],["d","m9 18 6-6-6-6"],["azt-track-service","class-list-U9X02wc0f","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","p-1","hover:bg-gray","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-4","h-4"],["cx","12","cy","12","r","1"],["cx","12","cy","5","r","1"],["cx","12","cy","19","r","1"],[1,"alert","alert-danger","p-1","mt-2"]],template:function(o,_){if(1&o){const d=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t.NdJ("click",function(){return _.collapseByGroupId(_.groupObj)}),t.YNc(3,mi,3,0,"span",3),t.YNc(4,Qi,3,0,"span",3),t.TgZ(5,"h2",4),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"mytranslate"),t.qZA()()(),t.TgZ(9,"div",5),t.YNc(10,di,5,1,"button",6),t.TgZ(11,"mat-menu",null,7)(13,"div",8)(14,"button",9),t.NdJ("click",function(B){return B.stopPropagation()}),t.O4$(),t.TgZ(15,"svg",10),t._UZ(16,"path",11)(17,"path",12),t.qZA(),t.kcU(),t.TgZ(18,"span"),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()(),t.TgZ(21,"button",13),t.NdJ("click",function(){return _.deleteGroupDialog()}),t.O4$(),t.TgZ(22,"svg",14),t._UZ(23,"polyline",15)(24,"path",16),t.qZA(),t.kcU(),t.TgZ(25,"span"),t._uU(26),t.ALo(27,"mytranslate"),t.qZA()()()()()(),t.TgZ(28,"mat-menu",17,18)(30,"div",19)(31,"div",20)(32,"div",21)(33,"h2",22),t._uU(34),t.ALo(35,"mytranslate"),t.qZA(),t.TgZ(36,"div",23),t.NdJ("click",function(B){return B.stopPropagation()}),t._UZ(37,"input",24,25),t.ALo(39,"mytranslate"),t.YNc(40,ui,3,3,"div",26),t.qZA(),t.TgZ(41,"div",27)(42,"button",28),t._uU(43),t.ALo(44,"mytranslate"),t.qZA(),t.TgZ(45,"button",29),t.NdJ("click",function(){t.CHM(d);const B=t.MAs(38);return t.KtG(_.updateGroupOfClassroom(B.value))}),t._uU(46),t.ALo(47,"mytranslate"),t.qZA()()()()()()}if(2&o){const d=t.MAs(29),O=t.MAs(38);t.xp6(3),t.Q6J("ngIf",_.groupObj.isExpand),t.xp6(1),t.Q6J("ngIf",!_.groupObj.isExpand),t.xp6(2),t.AsE("",t.lcZ(7,15,_.groupObj.name)," ","("+_.groupObj.totalViewClassrooms+" "+t.lcZ(8,17,"lang_testbank_test_list_classes")+")",""),t.xp6(4),t.Q6J("ngIf",_.groupObj.id>0),t.xp6(4),t.Q6J("matMenuTriggerFor",d),t.xp6(5),t.Oqu(t.lcZ(20,19,"lang_button_edit")),t.xp6(7),t.Oqu(t.lcZ(27,21,"lang_button_delete")),t.xp6(8),t.Oqu(t.lcZ(35,23,"lang_student_classroom_list_update_group")),t.xp6(3),t.s9C("value",_.groupObj.name),t.s9C("placeholder",t.lcZ(39,25,"lang_auto_nhap_ten_nhom")),t.xp6(3),t.Q6J("ngIf",""==O.value.trim()),t.xp6(3),t.hij(" ",t.lcZ(44,27,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",""==O.value.trim()),t.xp6(1),t.hij(" ",t.lcZ(47,29,"lang_student_classroom_list_update")," ")}},dependencies:[$.O5,X.VK,X.p6,E.JV],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),r})();function Kn(r,x){1&r&&t._UZ(0,"azt-loading-effect")}function us(r,x){1&r&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",11),t._UZ(2,"path",12)(3,"path",13),t.qZA()())}function Bi(r,x){1&r&&(t.TgZ(0,"span",14),t.O4$(),t.TgZ(1,"svg",15),t._UZ(2,"path",16)(3,"path",17),t.qZA()())}function Hi(r,x){if(1&r){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",25)(2,"azt-information-class-box",26),t.NdJ("eventOfClassroomMenu",function(d){t.CHM(o);const O=t.oxw(5);return t.KtG(O.eventOfClassroomMenu(d))}),t.qZA()(),t.BQk()}if(2&r){const o=x.$implicit;t.xp6(1),t.Q6J("hidden",!o.isShowClassroom),t.xp6(1),t.Q6J("classroomObj",o)}}function ps(r,x){if(1&r&&(t.TgZ(0,"div",24),t.YNc(1,Hi,3,2,"ng-container",9),t.qZA()),2&r){const o=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",o.classroomObjs)}}function Gi(r,x){1&r&&(t.TgZ(0,"div",27),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_classroom_list_class_null"),"."))}function pi(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",19)(1,"app-teacher-classroom-show-group-box",20),t.NdJ("updateGroupSuccessEvent",function(d){t.CHM(o);const O=t.oxw(3);return t.KtG(O.updateGroupSuccessEvent(d))})("collapseByGroupIdEvent",function(){t.CHM(o);const d=t.oxw().$implicit,O=t.oxw(2);return t.KtG(O.collapseByGroupId(d.groupObj))}),t.qZA(),t.TgZ(2,"div",21),t.YNc(3,ps,2,1,"div",22),t.YNc(4,Gi,3,3,"div",23),t.qZA()()}if(2&r){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("groupObj",o.groupObj),t.xp6(1),t.Q6J("hidden",!o.groupObj.isExpand),t.xp6(1),t.Q6J("ngIf",o.classroomObjs.length),t.xp6(1),t.Q6J("ngIf",0==o.classroomObjs.length)}}function Ri(r,x){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,pi,5,4,"div",18),t.qZA()),2&r){const o=x.$implicit;t.xp6(1),t.Q6J("ngIf",o.groupObj.isShowGroup)}}const Vi=function(r){return[r]};function $i(r,x){if(1&r&&(t.TgZ(0,"div",28),t.ALo(1,"navigationLocalize"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&r){const o=t.oxw(2);t.Q6J("routerLink",t.VKq(7,Vi,t.lcZ(1,3,"/admin/student/manage-classroom/1"))),t.xp6(2),t.AsE(" ",t.lcZ(3,5,"lang_student_classroom_list_storage")," (",o.totalStorageClassroom,") ")}}function gi(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"azt-search-box",5),t.NdJ("onSearch",function(d){t.CHM(o);const O=t.oxw();return t.KtG(O.searchByName(d.searchObj))}),t.ALo(3,"mytranslate"),t.qZA()(),t.TgZ(4,"span",6),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.collapseAll(!d.isExpandAll))}),t.YNc(5,us,4,0,"span",7),t.YNc(6,Bi,4,0,"span",8),t.qZA()(),t.YNc(7,Ri,2,1,"div",9),t.YNc(8,$i,4,9,"div",10)}if(2&r){const o=t.oxw();t.xp6(2),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(3,6,"lang_testbank_test_list_search_class")),t.xp6(3),t.Q6J("ngIf",!o.isExpandAll),t.xp6(1),t.Q6J("ngIf",o.isExpandAll),t.xp6(1),t.Q6J("ngForOf",o.viewClassroomGroupObjs),t.xp6(1),t.Q6J("ngIf",o.totalStorageClassroom)}}let hi=(()=>{class r extends Ui{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!0}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-teacher-active-classrooms"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"box","p-3"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"isServerSearch","placeholder","onSearch"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],[4,"ngIf"],["class","clickable",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","class-list-9gXcamWSz","class","btn-text-primary font-medium cursor-pointer",3,"routerLink",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevrons-up-down"],["d","m7 15 5 5 5-5"],["d","m7 9 5-5 5 5"],[1,"clickable"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevrons-down-up"],["d","m7 20 5-5 5 5"],["d","m7 4 5 5 5-5"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"groupObj","updateGroupSuccessEvent","collapseByGroupIdEvent"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"classroomObj","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"],["azt-track-service","class-list-9gXcamWSz",1,"btn-text-primary","font-medium","cursor-pointer",3,"routerLink"]],template:function(o,_){if(1&o&&(t.TgZ(0,"div",0),t.YNc(1,Kn,1,0,"azt-loading-effect",1),t.YNc(2,gi,9,8,"ng-template",null,2,t.W1O),t.qZA()),2&o){const d=t.MAs(3);t.xp6(1),t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",d)}},dependencies:[rt.rH,$.sg,$.O5,at.l,qi,Nt.W,Yi,E.Jy,E.JV],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),r})();function Ki(r,x){1&r&&t._UZ(0,"azt-loading-effect")}function Wi(r,x){1&r&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",10),t._UZ(2,"path",11)(3,"path",12),t.qZA()())}function gs(r,x){1&r&&(t.TgZ(0,"span",13),t.O4$(),t.TgZ(1,"svg",14),t._UZ(2,"path",15)(3,"path",16),t.qZA()())}function Xi(r,x){if(1&r){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",24)(2,"azt-information-class-box",25),t.NdJ("eventOfClassroomMenu",function(d){t.CHM(o);const O=t.oxw(5);return t.KtG(O.eventOfClassroomMenu(d))}),t.qZA()(),t.BQk()}if(2&r){const o=x.$implicit;t.xp6(1),t.Q6J("hidden",!o.isShowClassroom),t.xp6(1),t.Q6J("classroomObj",o)("screenTemplate","storage")}}function hs(r,x){if(1&r&&(t.TgZ(0,"div",23),t.YNc(1,Xi,3,3,"ng-container",9),t.qZA()),2&r){const o=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",o.classroomObjs)}}function fs(r,x){1&r&&(t.TgZ(0,"div",26),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_classroom_list_class_null"),"."))}function Ts(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",18)(1,"app-teacher-classroom-show-group-box",19),t.NdJ("updateGroupSuccessEvent",function(d){t.CHM(o);const O=t.oxw(3);return t.KtG(O.updateGroupSuccessEvent(d))})("collapseByGroupIdEvent",function(){t.CHM(o);const d=t.oxw().$implicit,O=t.oxw(2);return t.KtG(O.collapseByGroupId(d.groupObj))}),t.qZA(),t.TgZ(2,"div",20),t.YNc(3,hs,2,1,"div",21),t.YNc(4,fs,3,3,"div",22),t.qZA()()}if(2&r){const o=t.oxw().$implicit;t.xp6(1),t.Q6J("groupObj",o.groupObj),t.xp6(1),t.Q6J("hidden",!o.groupObj.isExpand),t.xp6(1),t.Q6J("ngIf",o.classroomObjs.length),t.xp6(1),t.Q6J("ngIf",0==o.classroomObjs.length)}}function xs(r,x){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,Ts,5,4,"div",17),t.qZA()),2&r){const o=x.$implicit;t.xp6(1),t.Q6J("ngIf",o.groupObj.isShowGroup)}}function m(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"azt-search-box",5),t.NdJ("onSearch",function(d){t.CHM(o);const O=t.oxw();return t.KtG(O.searchByName(d.searchObj))}),t.ALo(3,"mytranslate"),t.qZA()(),t.TgZ(4,"span",6),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.collapseAll(!d.isExpandAll))}),t.YNc(5,Wi,4,0,"span",7),t.YNc(6,gs,4,0,"span",8),t.qZA()(),t.YNc(7,xs,2,1,"div",9)}if(2&r){const o=t.oxw();t.xp6(2),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(3,5,"lang_testbank_test_list_search_class")),t.xp6(3),t.Q6J("ngIf",!o.isExpandAll),t.xp6(1),t.Q6J("ngIf",o.isExpandAll),t.xp6(1),t.Q6J("ngForOf",o.viewClassroomGroupObjs)}}let s=(()=>{class r extends Ui{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!1}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-teacher-archive-classrooms"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"box","p-3"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"isServerSearch","placeholder","onSearch"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],[4,"ngIf"],["class","clickable",4,"ngIf"],[4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevrons-up-down"],["d","m7 15 5 5 5-5"],["d","m7 9 5-5 5 5"],[1,"clickable"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevrons-down-up"],["d","m7 20 5-5 5 5"],["d","m7 4 5 5 5-5"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"groupObj","updateGroupSuccessEvent","collapseByGroupIdEvent"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"classroomObj","screenTemplate","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"]],template:function(o,_){if(1&o&&(t.TgZ(0,"div",0),t.YNc(1,Ki,1,0,"azt-loading-effect",1),t.YNc(2,m,8,7,"ng-template",null,2,t.W1O),t.qZA()),2&o){const d=t.MAs(3);t.xp6(1),t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",d)}},dependencies:[$.sg,$.O5,at.l,qi,Nt.W,Yi,E.JV],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),r})();const a=["childActiveClassrooms"],l=["childArchiveClassrooms"];function u(r,x){1&r&&(t.O4$(),t.kcU(),t.TgZ(0,"span",47),t._uU(1,"1"),t.qZA())}function h(r,x){1&r&&t._UZ(0,"azt-loading-effect")}const y=function(){return[]};function M(r,x){if(1&r&&(t.ynx(0),t._UZ(1,"app-teacher-active-classrooms",49,50),t.BQk()),2&r){const o=t.oxw(2);t.xp6(1),t.Q6J("classroomGroupData",t.DdM(2,y))("typeFilter",o.typeFilter)}}function L(r,x){if(1&r&&t._UZ(0,"app-teacher-archive-classrooms",49,51),2&r){const o=t.oxw(2);t.Q6J("classroomGroupData",t.DdM(2,y))("typeFilter",o.typeFilter)}}function V(r,x){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,M,3,3,"ng-container",27),t.YNc(2,L,2,3,"ng-template",null,48,t.W1O),t.qZA()),2&r){const o=t.MAs(3),_=t.oxw();t.xp6(1),t.Q6J("ngIf",_.isShowActiveClassroom)("ngIfElse",o)}}function ct(r,x){1&r&&(t.O4$(),t.TgZ(0,"svg",52),t._UZ(1,"polyline",53),t.qZA())}function nt(r,x){1&r&&(t.O4$(),t.TgZ(0,"svg",52),t._UZ(1,"polyline",53),t.qZA())}function gt(r,x){1&r&&(t.O4$(),t.TgZ(0,"svg",52),t._UZ(1,"polyline",53),t.qZA())}let dt=(()=>{class r extends C.Q{changeFilter(o){this.typeFilter=o}createClassroomDialog(){this.sAztDialogService.open(zi,{data:{classroomObj:void 0},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(_=>{_&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}createClassroomForNewCourseDialog(){this.sAztDialogService.open(Ua.u,{restoreFocus:!1}).afterClosed().subscribe(_=>{_&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}openDialogAutomaticIdentification(){this.sAztDialogService.open(Z.G,{data:{needGetClassroomGroups:!0,type:1,listCheckBox:[],totalStudent:0},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(o=>{o&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}ngOnInit(){this.waitDestroy((0,c.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var o=this.commonService.getMyParam(this.activeRoute,"id")?.toString();this.isShowActiveClassroom="0"==o;let _=this.commonService.getMyQueryParam("programId");this.backToLink=_&&""!=_?"/business/educational-program/"+_:this.isShowActiveClassroom?"/admin/dashboard":"/admin/student/manage-classroom/0"})),this.mobileWebviewService.sendSimpleMessage("OPEN_CLASSES"),this.commonService.translateMetaData({title:"lang_cms_classroom_list_title",description:"lang_cms_classroom_list_description",image:"lang_cms_test_image"})}constructor(o,_,d){super(),this.activeRoute=o,this.sAztDialogService=_,this.mobileWebviewService=d,this.backToLink="",this.typeFilter="all",this.isShowActiveClassroom=!1}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(rt.gz),t.Y36(_n.C),t.Y36(as.r))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-teacher-classroom"]],viewQuery:function(o,_){if(1&o&&(t.Gf(a,5),t.Gf(l,5)),2&o){let d;t.iGM(d=t.CRH())&&(_.viewActiveClassrooms=d.first),t.iGM(d=t.CRH())&&(_.viewArchiveClassrooms=d.first)}},features:[t.qOj],decls:101,vars:41,consts:[[3,"headerBackToLink"],[1,"mt-5"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[1,"text-xl","font-medium"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-8xXjbgXLYr8","tourAnchor","azt-tour-2",1,"btn","btn-primary","shadow-md","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-1"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[1,"dropdown-toggle","btn","px-2","box","block","lg:hidden","hover:bg-slate-100","dark:hover-bg:darkmode-400",3,"matMenuTriggerFor"],[1,"w-5","h-5","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4"],["azt-track-service","class-list-GeLpgTC3SuL",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","class-list-ok7MlxqP6m9",1,"btn","px-2","box","shadow-md","azt-hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-2"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],["tourAnchor","azt-tour-2",1,"ml-2","shadow-md","dropdown-toggle","btn","px-2","box","block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],["class","py-1 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12",2,"z-index","1"],[4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menuClassList","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["menuFilter","matMenu"],["width","18","height","18","x","3","y","3","rx","2"],["d","M7 8h10"],["d","M7 12h10"],["d","M7 16h10"],["xmlns","http://www.w3.org/2000/svg","class","lucide lucide-activity w-4 h-4 ml-2","style","color: green","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["points","16 11 18 13 22 9"],["d","M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z"],["d","M6 9.01V9"],["d","m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["showArchiveBox",""],[3,"classroomGroupData","typeFilter"],["childActiveClassrooms",""],["childArchiveClassrooms",""],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","ml-2",2,"color","green"],["points","20 6 9 17 4 12"]],template:function(o,_){if(1&o&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"div",5)(9,"button",6),t.NdJ("click",function(){return _.createClassroomDialog()}),t.O4$(),t.TgZ(10,"svg",7),t._UZ(11,"line",8)(12,"line",9),t.qZA(),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(15,"button",10)(16,"span",11),t.O4$(),t.TgZ(17,"svg",12),t._UZ(18,"line",8)(19,"line",9),t.qZA()()(),t.kcU(),t.TgZ(20,"button",13),t.NdJ("click",function(){return _.createClassroomForNewCourseDialog()}),t.O4$(),t.TgZ(21,"svg",7),t._UZ(22,"line",8)(23,"line",9),t.qZA(),t._uU(24),t.ALo(25,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(26,"button",14),t.NdJ("click",function(){return _.openDialogAutomaticIdentification()}),t.O4$(),t.TgZ(27,"svg",15),t._UZ(28,"path",16)(29,"path",17)(30,"path",18)(31,"path",19)(32,"rect",20)(33,"rect",21),t.qZA(),t._uU(34),t.ALo(35,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(36,"button",22),t.O4$(),t.TgZ(37,"svg",7),t._UZ(38,"polygon",23),t.qZA(),t._uU(39),t.ALo(40,"mytranslate"),t.YNc(41,u,2,0,"span",24),t.qZA()()(),t.kcU(),t.TgZ(42,"div",25)(43,"div",26),t.YNc(44,h,1,0,"azt-loading-effect",27),t.YNc(45,V,4,2,"ng-template",null,28,t.W1O),t.qZA()()()(),t.TgZ(47,"mat-menu",29,30)(49,"div",31)(50,"ul",32)(51,"li")(52,"button",33),t.NdJ("click",function(){return _.createClassroomForNewCourseDialog()}),t.O4$(),t.TgZ(53,"svg",15),t._UZ(54,"line",8)(55,"line",9),t.qZA(),t._uU(56),t.ALo(57,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(58,"li")(59,"button",34),t.NdJ("click",function(){return _.openDialogAutomaticIdentification()}),t.O4$(),t.TgZ(60,"svg",15),t._UZ(61,"path",16)(62,"path",17)(63,"path",18)(64,"path",19)(65,"rect",20)(66,"rect",21),t.qZA(),t._uU(67),t.ALo(68,"mytranslate"),t.qZA()()()()(),t.kcU(),t.TgZ(69,"mat-menu",29,35)(71,"div",31)(72,"ul",32)(73,"li")(74,"button",33),t.NdJ("click",function(){return _.changeFilter("all")}),t.O4$(),t.TgZ(75,"svg",15),t._UZ(76,"rect",36)(77,"path",37)(78,"path",38)(79,"path",39),t.qZA(),t._uU(80),t.ALo(81,"mytranslate"),t.YNc(82,ct,2,0,"svg",40),t.qZA()(),t.kcU(),t.TgZ(83,"li")(84,"button",34),t.NdJ("click",function(){return _.changeFilter("owner")}),t.O4$(),t.TgZ(85,"svg",15),t._UZ(86,"path",41)(87,"circle",42)(88,"polyline",43),t.qZA(),t._uU(89),t.ALo(90,"mytranslate"),t.YNc(91,nt,2,0,"svg",40),t.qZA()(),t.kcU(),t.TgZ(92,"li")(93,"button",33),t.NdJ("click",function(){return _.changeFilter("user")}),t.O4$(),t.TgZ(94,"svg",15),t._UZ(95,"path",44)(96,"path",45)(97,"path",46),t.qZA(),t._uU(98),t.ALo(99,"mytranslate"),t.YNc(100,gt,2,0,"svg",40),t.qZA()()()()()),2&o){const d=t.MAs(46),O=t.MAs(48),B=t.MAs(70);t.Q6J("headerBackToLink",_.backToLink),t.xp6(5),t.hij(" ",_.isShowActiveClassroom?t.lcZ(6,19,"lang_student_classroom_list_header_title"):t.lcZ(7,21,"lang_auto_kho_luu_tru")," "),t.xp6(8),t.hij(" ",t.lcZ(14,23,"lang_student_classroom_list_create_class")," "),t.xp6(2),t.Q6J("matMenuTriggerFor",O),t.xp6(9),t.hij(" ",t.lcZ(25,25,"lang_student_classroom_list_create_class_new_cousre")," "),t.xp6(10),t.hij(" ",t.lcZ(35,27,"lang_auto_danh_so_bao_danh")," "),t.xp6(2),t.Q6J("matMenuTriggerFor",B),t.xp6(3),t.hij(" ",t.lcZ(40,29,"lang_homework_homework_score_list_sort")," "),t.xp6(2),t.Q6J("ngIf","all"!=_.typeFilter),t.xp6(3),t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",d),t.xp6(12),t.hij(" ",t.lcZ(57,31,"lang_student_classroom_list_create_class_new_cousre")," "),t.xp6(11),t.hij(" ",t.lcZ(68,33,"lang_auto_danh_so_bao_danh")," "),t.xp6(13),t.hij(" ",t.lcZ(81,35,"lang_homework_content_store_all")," "),t.xp6(2),t.Q6J("ngIf",""==_.typeFilter),t.xp6(7),t.hij(" ",t.lcZ(90,37,"lang_core_lop_cua_toi")," "),t.xp6(2),t.Q6J("ngIf","owner"==_.typeFilter),t.xp6(7),t.hij(" ",t.lcZ(99,39,"lang_auto_lop_duoc_chia_se")," "),t.xp6(2),t.Q6J("ngIf","user"==_.typeFilter)}},dependencies:[$.O5,X.VK,X.p6,at.l,i._,hi,s,E.JV],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),r})(),jt=(()=>{class r extends C.Q{}return r.\u0275fac=function(){let x;return function(_){return(x||(x=t.n5z(r)))(_||r)}}(),r.\u0275cmp=t.Xpm({type:r,selectors:[["homework-master-page"]],features:[t.qOj],decls:2,vars:0,consts:[["id","student-layout"]],template:function(o,_){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[rt.lC],encapsulation:2}),r})(),Qt=(()=>{class r extends C.Q{constructor(){super(...arguments),this.closeDialog=new t.vpe}confirmQuit(){this.closeDialog.emit(!0)}btnCloseDialog(){this.closeDialog.emit(!1)}}return r.\u0275fac=function(){let x;return function(_){return(x||(x=t.n5z(r)))(_||r)}}(),r.\u0275cmp=t.Xpm({type:r,selectors:[["app-merge-student-confirm-box"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:18,vars:11,consts:[[1,"box","school-info_bg"],[1,"school-info","p-4"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],[1,"intro"],[1,"text-base","font-medium","mr-auto"],[1,"text-right","mt-3"],["azt-track-service","confirm-merge-Yvv9eaXGFnm",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q",1,"btn","w-24","btn-primary",2,"margin-left","15px",3,"click"]],template:function(o,_){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),t._uU(7),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA()(),t._UZ(10,"br"),t.TgZ(11,"div",7)(12,"button",8),t.NdJ("click",function(){return _.btnCloseDialog()}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"button",9),t.NdJ("click",function(){return _.confirmQuit()}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()()()()),2&o&&(t.xp6(7),t.hij("",null!=_.data&&_.data.type&&"update_phone_student"==(null==_.data?null:_.data.type)?t.lcZ(8,3,"lang_student_utils_confirm_merge_verifi")+"?":t.lcZ(9,5,"lang_student_utils_confirm_merge_confirm")+"?"," "),t.xp6(6),t.hij(" ",t.lcZ(14,7,"lang_cms_common_close_btn")," "),t.xp6(3),t.hij(" ",t.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[E.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;margin-left:auto;margin-right:auto}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}"]}),r})();function $t(r,x){1&r&&t._UZ(0,"azt-loading-effect")}const ne=function(r){return{"bg-success":r}};function oe(r,x){if(1&r&&(t.TgZ(0,"div",21)(1,"b"),t._uU(2),t.qZA()()),2&r){const o=t.oxw().$implicit,_=t.oxw(2);t.Q6J("ngClass",t.VKq(2,ne,_.haveSelected(o))),t.xp6(2),t.Oqu(o.fullName)}}function Ht(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",19),t.NdJ("click",function(){const O=t.CHM(o).$implicit,B=t.oxw(2);return t.KtG(B.selectObj(O))}),t.YNc(1,oe,3,4,"div",20),t.qZA()}if(2&r){const o=x.$implicit,_=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!_.inMergeObjs(o))}}function ie(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div")(1,"div",22),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"b",23),t._uU(5),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.TgZ(8,"b",23),t._uU(9),t.qZA(),t._uU(10,"\xa0\xa0"),t.TgZ(11,"span",24),t.NdJ("click",function(){const O=t.CHM(o).index,B=t.oxw(2);return t.KtG(B.removeMergeArray(O))}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()()}if(2&r){const o=x.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_student_merge_student_merge_student")," "),t.xp6(3),t.Oqu(null==o.from?null:o.from.fullName),t.xp6(1),t.hij(" ",t.lcZ(7,7,"lang_student_merge_student_return")," "),t.xp6(3),t.Oqu(null==o.to?null:o.to.fullName),t.xp6(3),t.Oqu(t.lcZ(13,9,"lang_auto_xoa"))}}function gn(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",22)(1,"div",26)(2,"b"),t._uU(3),t.qZA(),t.TgZ(4,"button",27),t.NdJ("click",function(){t.CHM(o);const d=t.oxw().$implicit,O=t.oxw(2);return t.KtG(O.revertStudent(d.id))}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}if(2&r){const o=t.oxw().$implicit;t.xp6(3),t.Oqu(o.fullName),t.xp6(2),t.hij(" ",t.lcZ(6,2,"lang_button_revert")," ")}}function Qn(r,x){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,gn,7,4,"div",25),t.qZA()),2&r){const o=x.$implicit,_=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!_.inMergeObjs(o))}}function No(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"div",4)(1,"mat-tab-group",5)(2,"mat-tab",6),t.ALo(3,"mytranslate"),t.TgZ(4,"div",7)(5,"div",8)(6,"div",9),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,Ht,2,1,"div",10),t.qZA(),t.TgZ(10,"div",11)(11,"div",12)(12,"div",13)(13,"div",9),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.YNc(16,ie,14,11,"div",14),t.TgZ(17,"div",15)(18,"button",16),t.NdJ("click",function(){t.CHM(o);const d=t.oxw();return t.KtG(d.showConfirmBox())}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()()()()(),t.TgZ(21,"mat-tab",6),t.ALo(22,"mytranslate"),t.TgZ(23,"div",17)(24,"div",18)(25,"div")(26,"div",15),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.YNc(29,Qn,2,1,"div",14),t.qZA()()()()()()}if(2&r){const o=t.oxw();t.xp6(1),t.Q6J("selectedIndex",o.selectedIndex),t.xp6(1),t.s9C("label",t.lcZ(3,11,"lang_student_merge_student_lable")),t.xp6(5),t.hij(" ",t.lcZ(8,13,"lang_student_merge_student_required_click_merge")," "),t.xp6(2),t.Q6J("ngForOf",o.studentObjs),t.xp6(5),t.hij(" ",t.lcZ(15,15,"lang_student_merge_student_list_student_merge")," "),t.xp6(2),t.Q6J("ngForOf",o.studentMergeObjs),t.xp6(2),t.Q6J("disabled",o.studentMergeObjs&&o.studentMergeObjs.length<1),t.xp6(1),t.hij(" ",t.lcZ(20,17,"lang_student_merge_student_start_merge_list")," "),t.xp6(2),t.s9C("label",t.lcZ(22,19,"lang_student_merge_student_revert")),t.xp6(6),t.hij(" ",t.lcZ(28,21,"lang_student_merge_student_list_submitted")," "),t.xp6(2),t.Q6J("ngForOf",o.studentMergeListObjs)}}function fi(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"app-merge-student-confirm-box",28),t.NdJ("closeDialog",function(d){t.CHM(o);const O=t.oxw();return t.KtG(O.closeConfirmDialog(d))}),t.qZA()}if(2&r){const o=t.oxw();t.Q6J("data",o.confirmBox)}}let As=(()=>{class r extends C.Q{showConfirmBox(){this.confirmBox={isShow:!0}}closeConfirmDialog(o){this.confirmBox={isShow:!1},o&&this.sendToServer()}inMergeObjs(o){let _=!1,d=this.studentMergeObjs?.length??0;for(let O=0;O<d;O++)(this.studentMergeObjs?.[O].from?.id==o.id||this.studentMergeObjs?.[O].to?.id==o.id)&&(_=!0);return _}haveSelected(o){let _=!1;for(let d=0;d<this.selectObjs.length;d++)this.selectObjs[d].id==o.id&&(_=!0);return _}selectObj(o){this.haveSelected(o)?this.selectObjs=[]:this.selectObjs.push(o),2==this.selectObjs.length&&(this.studentMergeObjs.push({from:this.selectObjs[0],to:this.selectObjs[1]}),this.selectObjs=[])}removeMergeArray(o){this.studentMergeObjs?.[o]&&this.studentMergeObjs.splice(o,1)}sendToServer(){const o=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.initStatusObj();let _=[],d=this.studentMergeObjs?.length??0;for(let At=0;At<d;At++){var O=this.studentMergeObjs?.[At].from?.id,B=this.studentMergeObjs?.[At].to?.id;O&&B&&_.push({fromId:O,toId:B})}this.waitDestroy(this.mergeStudentService.apiMergeStudentMergeObjsPost({classroomId:o,mergeObjs:_}).subscribe(At=>{1==At.success?(this.showSuccessSnack("lang_auto_gop_danh_sach_thanh_cong"),this.studentMergeObjs=[],this.selectObjs=[],this.getListMergeStudent(),this.getData(),this.selectedIndex=1,this.successStatusObj()):this.errorStatusObj(At.message??"",!0)}))}getData(){this.initStatusObj();const o=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetObjsByClassroomGet(o).subscribe(_=>{1==_.success?(this.studentObjs=this.sortService.sortFirstNameStudents(_?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(_.message??"",!0)}))}getListMergeStudent(){this.initStatusObj();const o=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetMergedObjsGet(o).subscribe(_=>{1==_.success?(this.studentMergeListObjs=this.sortService.sortFirstNameStudents(_?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(_.message??"",!0)}))}revertStudent(o){this.waitDestroy(this.mergeStudentService.apiMergeStudentRevertMergeObjGet(o).subscribe(_=>{1==_.success?(this.showSuccessSnack("lang_auto_khoi_phuc_thanh_cong"),this.getData(),this.getListMergeStudent(),this.selectedIndex=0):this.errorStatusObj(_.message??"",!0)}))}ngOnInit(){this.classroomId=this.commonService.getMyParam(this.activeRoute,"id"),this.backToLink="/admin/student/classroom-details/"+this.classroomId+"/0",this.getData(),this.getListMergeStudent()}constructor(o,_,d,O){super(),this.activeRoute=o,this.studentService=_,this.mergeStudentService=d,this.sortService=O,this.selectObjs=[],this.studentMergeObjs=[],this.confirmBox={isShow:!1},this.selectedIndex=0,this.isMobile=this.commonService.isMobileOrTable(),this.backToLink=""}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(rt.gz),t.Y36(Me.VT),t.Y36(Me._Y),t.Y36(Xn.V))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-merge-student"]],features:[t.qOj],decls:5,vars:4,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"data","closeDialog",4,"ngIf"],[1,"container","mt-3"],[3,"selectedIndex"],[3,"label"],[1,"flex","mt-3"],[1,"p-2"],[1,"m-2"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click",4,"ngFor","ngForOf"],[1,"p-2",2,"width","70%"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mt-2"],["azt-track-service","merge-student-g45UTcIj35h",1,"pl-2","pr-2","mt-2","btn","btn-primary",3,"disabled","click"],[1,"d-flex"],[1,"w-full","sm-w-50"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click"],["class","m-2 clickable ","style"," border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important;",3,"ngClass",4,"ngIf"],[1,"m-2","clickable",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important",3,"ngClass"],[1,"m-2","p-2",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important"],[2,"font-weight","600"],[1,"clickable","text-danger",3,"click"],["class","m-2 p-2","style"," border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important;",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],["azt-track-service","merge-student-v4iYHGvaLN8",1,"hover-button","clickable",3,"click"],[3,"data","closeDialog"]],template:function(o,_){if(1&o&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,$t,1,0,"azt-loading-effect",1),t.YNc(2,No,30,23,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,fi,1,1,"app-merge-student-confirm-box",3)),2&o){const d=t.MAs(3);t.Q6J("headerBackToLink",_.backToLink),t.xp6(1),t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",d),t.xp6(3),t.Q6J("ngIf",_.confirmBox.isShow)}},dependencies:[$.mk,$.sg,$.O5,xn.uX,xn.SP,at.l,i._,Qt,E.JV],styles:["a[_ngcontent-%COMP%]:hover{text-decoration:none}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex;text-decoration:none;margin-top:10px}.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff}b[_ngcontent-%COMP%]{font-weight:400}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px}.header__top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.header__work[_ngcontent-%COMP%]{display:flex}.header__gift[_ngcontent-%COMP%]{position:relative;margin-right:24px;margin-top:5px}.gift__link[_ngcontent-%COMP%]{color:#fff}.girt__count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:#fe4531;border-radius:50%;width:16px;height:16px;color:#fff;padding:0;text-align:center;font-weight:700;font-size:9px}.header__work[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.header__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-top:2px}.body[_ngcontent-%COMP%]{margin:0 auto;text-align:center;color:#fff}.body__block[_ngcontent-%COMP%]{min-width:300px;padding:35px 0;margin:0 auto;background-color:#009cbe;border:none;border-radius:5px}.block__text[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin:0}.body__about[_ngcontent-%COMP%]{margin-top:25px}.about__title[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.about__desc[_ngcontent-%COMP%]{text-align:justify}.desc__title[_ngcontent-%COMP%]{font-weight:700}.btn-add-azo[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;padding:13px 40px;border-radius:10px}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}  .mat-tab-label:hover{color:#000}.hover-button[_ngcontent-%COMP%]:hover{color:#3f51b5}.text-danger[_ngcontent-%COMP%]:hover{color:#f44336!important}@media (min-width: 640px){.sm-w-50[_ngcontent-%COMP%]{width:450px}}"]}),r})();var Ss=g(22751);function Is(r,x){1&r&&t._UZ(0,"azt-loading-effect")}function Ms(r,x){if(1&r&&t._UZ(0,"azt-student-profile",3),2&r){const o=t.oxw();t.Q6J("studentId",o.studentId)("select",o.select)("classroomId",o.classroomId)("backToLink",o.backToLink)("paramBackToLink",o.paramBackToLink)("classroomList",o.classroomList)("isTeacherDashboard",!0)}}let Ns=(()=>{class r extends C.Q{getListClassroomByStudentId(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2ListStudentClassroomsGet(this.studentId).subscribe(o=>{1===o.success?(this.classroomList=o.data?.objs??[],this.classroomList.find(_=>_.id+"-"+_.studentId==this.select.value)||this.select.setValue(""),this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,c.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var o=this.commonService.getMyParam(this.activeRoute,"classroom_id"),_=this.commonService.getMyParam(this.activeRoute,"id");this.classroomId=parseInt(o||"",10),this.studentId=parseInt(_||"",10),this.backToLink="/admin/student/profile-student/"+this.classroomId+"/"+this.studentId,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??this.backToLink,this.commonService.translateMetaData({title:"lang_cms_student_detail_title",description:"lang_cms_test_config_description",image:"lang_cms_student_detail_description"}),this.select.setValue(this.classroomId+"-"+this.studentId),this.getListClassroomByStudentId()}))}constructor(o,_,d){super(),this.sAztDialogService=o,this.activeRoute=_,this.studentProfileV2Service=d,this.select=new b.NI("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[]}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(_n.C),t.Y36(rt.gz),t.Y36(Me.LU))},r.\u0275cmp=t.Xpm({type:r,selectors:[["student-profile"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"studentId","select","classroomId","backToLink","paramBackToLink","classroomList","isTeacherDashboard"]],template:function(o,_){if(1&o&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,Is,1,0,"azt-loading-effect",1),t.YNc(2,Ms,1,7,"ng-template",null,2,t.W1O),t.qZA()),2&o){const d=t.MAs(3);t.Q6J("headerBackToLink",_.paramBackToLink),t.xp6(1),t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",d)}},dependencies:[$.O5,at.l,Ss.d,i._],encapsulation:2}),r})();var js=g(10533),Ls=g(27113);function Ds(r,x){1&r&&t._UZ(0,"azt-loading-ui",15)}function Es(r,x){1&r&&t._UZ(0,"azt-loading-effect")}function Ps(r,x){1&r&&(t.TgZ(0,"div",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function zs(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"tr")(1,"td",25),t.NdJ("click",function(){const O=t.CHM(o).$implicit,B=t.oxw(3);return t.KtG(B.goToProfile(O.classroomId,O.id))}),t._UZ(2,"azt-student-info-box",26),t.qZA(),t.TgZ(3,"td",27),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(6,"td",28)(7,"div",29)(8,"span"),t._uU(9),t.ALo(10,"formatOnlyDateByUserUnitPipe"),t.qZA()()(),t.TgZ(11,"td",28)(12,"form",30)(13,"textarea",31),t.NdJ("change",function(){const O=t.CHM(o).$implicit;return t.KtG(O.commentControl.controls.isEditted.setValue(!0))}),t.ALo(14,"mytranslate"),t.qZA()()(),t.TgZ(15,"td",28)(16,"span",32,33),t.NdJ("click",function(){const O=t.CHM(o).$implicit,B=t.oxw(3);return t.KtG(B.showAllComment(O))}),t.ALo(18,"mytranslate"),t._UZ(19,"lucide-icon",34),t.qZA()()()}if(2&r){const o=x.$implicit,_=t.MAs(17);t.xp6(2),t.Q6J("name",o.fullName)("avatar",o.avatar)("gender",o.gender)("parentFullName",o.parentFullName)("parentId",o.parentId)("parentPhone",o.parentPhone)("hasUser",o.hasUser)("schoolName",o.schoolName)("classrooms",o.classrooms)("joinedAt",o.joinedAt),t.xp6(2),t.Oqu(o.identificationNumber?t.xi3(5,18,o.identificationNumber,6):""),t.xp6(5),t.hij(" ",t.lcZ(10,21,o.commentControl.controls.updatedAt.value)," "),t.xp6(3),t.Q6J("formGroup",o.commentControl),t.xp6(1),t.s9C("placeholder",t.lcZ(14,23,"lang_auto_nhap_nhan_xet")),t.Q6J("id","add_comment_"+o.id),t.xp6(3),t.s9C("matTooltip",t.lcZ(18,25,"lang_student_show_all_comment")),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",_.isDisabled)}}function Us(r,x){if(1&r&&(t.TgZ(0,"div",19)(1,"table",20)(2,"thead")(3,"tr")(4,"th",21),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"th",22),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"th",23),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"th",23),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t._UZ(16,"th",23),t.qZA()(),t.TgZ(17,"tbody"),t.YNc(18,zs,20,27,"tr",24),t.qZA()()()),2&r){const o=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(9,7,"lang_auto_so_bao_danh")),t.xp6(3),t.Oqu(t.lcZ(12,9,"lang_student_add_comment_date")),t.xp6(3),t.Oqu(t.lcZ(15,11,"lang_student_add_comment")),t.xp6(4),t.Q6J("ngForOf",o.listStudent)}}function Fs(r,x){if(1&r&&(t.YNc(0,Ps,3,3,"div",16),t.YNc(1,Us,19,13,"div",17)),2&r){const o=t.oxw();t.Q6J("ngIf",0==o.listStudent.length&&0==o.totalStudent),t.xp6(1),t.Q6J("ngIf",o.listStudent.length>0)}}function Js(r,x){if(1&r){const o=t.EpF();t.TgZ(0,"azt-paging",38),t.NdJ("goToPaginationPage",function(d){t.CHM(o);const O=t.oxw(2);return t.KtG(O.setPageStudent(d))}),t.qZA()}if(2&r){const o=t.oxw(2);t.Q6J("pageObj",o.pageObj)}}function qs(r,x){if(1&r&&(t.TgZ(0,"div",35),t._UZ(1,"div"),t.YNc(2,Js,1,1,"azt-paging",36),t.TgZ(3,"div",37),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&r){const o=t.oxw();t.xp6(2),t.Q6J("ngIf",o.totalStudent>o.pageObj.pageSize),t.xp6(2),t.AsE(" ",o.totalStudent," ",t.lcZ(5,3,"lang_notify_list_students")," ")}}const Ys=[{path:"",component:jt,canActivate:[e.v],children:[{path:"merge-student/:id",component:As},{path:"profile-student/:classroom_id/:id",component:Ns},{path:"manage-classroom/:id",component:dt},{path:"classroom-details/:id/:tabId",component:li},{path:"attendance-student/:classroom_id/:program_id/:session_id",component:ka},{path:"add-comment/:classroom_id/:program_id/:session_id",component:(()=>{class r extends C.Q{goToProfile(o,_){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+o+"/"+_,"?backto="+encodeURIComponent("/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(o){var _="/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,d="?page="+o+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(_,d),this.initStatusObj(),this.pageObj.setPageNumber(o),this.getListStudent()}onSearchBox(o){this.searchContentObj=o,this.setPageStudent(1)}showAllComment(o){this.sAztDialogService.open(js.h,{width:"700px",restoreFocus:!1,data:{student:o,isTeacher:!0}}).afterClosed().subscribe(_=>{_&&this.getListStudent()})}countChangedComment(){let o=0;return this.listStudent.forEach(_=>{_.commentControl.controls.isEditted.value&&!_.commentControl.controls.comment.value&&o++}),1==o}saveComment(){this.isSave=!0;let o=this.listStudent.filter(d=>d.commentControl.controls.isEditted.value&&d.commentControl.controls.comment.value).map(d=>({id:0,studentId:d.id,comment:d.commentControl.controls.comment.value}))??[],_={classroomId:this.classroomId,studentAssessments:o};if(0==o.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost(_).subscribe(d=>{d.success?(this.initStatusObj(),this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!0}).subscribe(_=>{_?(_.list.length&&(this.listStudent=[]),_.list.forEach(d=>{let O=this.sAztAssessmentStudentService.getLastAssessmentStudent(d);this.listStudent.push({...d,commentControl:new b.cw({id:new b.NI(0,{nonNullable:!0}),updatedAt:new b.NI(O?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new b.NI(O?.comment??"",{nonNullable:!0}),isEditted:new b.NI(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(d.assessments),editComment:!1})}),this.totalStudent=_.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,c.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"));let o=this.commonService.getMyQueryParam("backto");this.backToLink=o??`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent()}),super.ngOnInit()}constructor(o,_,d,O){super(),this.sAztAssessmentStudentService=o,this.activeRoute=_,this.studentService=d,this.sAztDialogService=O,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.searchContentObj=new lt.h,this.pageObj=new ve.m(20)}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(Ls.c),t.Y36(rt.gz),t.Y36(An.V),t.Y36(_n.C))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-add-student-comment"]],features:[t.qOj],decls:21,vars:18,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","searchContentObj","placeholder","onSearch"],[3,"colorBackground"],[1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","flex justify-between items-center mt-5",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[1,"mt-10","text-center"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[3,"formGroup"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"id","placeholder","change"],[1,"w-6","h-6","mr-2","inline-block","clickable",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","click"],["c","isDisabled"],["name","history"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"pageObj","goToPaginationPage"]],template:function(o,_){if(1&o&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.NdJ("onSearch",function(O){return _.onSearchBox(O.searchObj)}),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"flexed-on-the-top",8)(12,"button",9),t.NdJ("click",function(){return _.saveComment()}),t.YNc(13,Ds,1,0,"azt-loading-ui",10),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()()(),t.TgZ(16,"div",11),t.YNc(17,Es,1,0,"azt-loading-effect",12),t.YNc(18,Fs,2,2,"ng-template",null,13,t.W1O),t.qZA(),t.YNc(20,qs,6,5,"div",14),t.qZA()),2&o){const d=t.MAs(19);t.Q6J("headerBackToLink",_.backToLink),t.xp6(4),t.Oqu(t.lcZ(5,12,"lang_student_assessment_student")),t.xp6(5),t.Q6J("isServerSearch",!0)("searchContentObj",_.searchContentObj)("placeholder",t.lcZ(10,14,"lang_core_tim_theo_ten_phone_email")),t.xp6(2),t.Q6J("colorBackground","#f0f8ffe8"),t.xp6(1),t.Q6J("disabled",_.isSave||_.countChangedComment()),t.xp6(1),t.Q6J("ngIf",_.isSave),t.xp6(1),t.hij(" ",t.lcZ(15,16,"lang_auto_luu")," "),t.xp6(3),t.Q6J("ngIf",_.statusObj.loading)("ngIfElse",d),t.xp6(3),t.Q6J("ngIf",_.totalStudent>0)}},dependencies:[$.sg,$.O5,et.gM,b._Y,b.Fj,b.JJ,b.JL,b.sg,b.u,at.l,ci.L,Vn.M,F.Q,vt.n,Di.s,Nt.W,be.a,i._,St.Nh5,E.JV,E.gw,E.YK],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),r})()},{path:"distribute-document/:classroom_id/:program_id/:session_id",component:Ea},{path:"submit-score/:classroom_id/:program_id/:session_id",component:za},{path:"class-details/:id",redirectTo:"classroom-details/:id/0"},{path:"manage-class/:id",redirectTo:"manage-classroom/:id"},{path:"student-list",redirectTo:"manage-classroom/0",pathMatch:"full"}]}];let Bs=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[rt.Bz.forChild(Ys),rt.Bz,n.fQ]}),r})()},56347:(xe,Ut,g)=>{g.d(Ut,{M:()=>F});var rt=g(96814),n=g(56223),e=g(19347),c=g(21266),C=g(42753),t=g(66469),yt=g(37722),$=g(21494),i=g(60381),St=g(25391),bt=g(30292),Lt=g(95545),lt=g(29942),it=g(84155),X=g(78217),at=g(24090),vt=g(59423),Nt=g(4014),et=g(65879);let F=(()=>{class E{}return E.\u0275fac=function(tt){return new(tt||E)},E.\u0275mod=et.oAB({type:E}),E.\u0275inj=et.cJS({imports:[c.Bz,rt.ez,lt.j,bt.Yy,C.Z_,n.u5,n.UX,e.Is,it.Z,$.xC,Nt.v,St.QG,at.W,X.d,i.l1,yt.qyJ.pick(yt.ciZ),Lt.kb,t.SD,vt.AzotaBusinessModule]}),E})()},63038:(xe,Ut,g)=>{g.d(Ut,{m:()=>n});var rt=g(65879);let n=(()=>{class e{constructor(C){this.el=C}onInput(){this.adjustTextAreaHeight(this.el.nativeElement)}ngAfterViewInit(){this.adjustTextAreaHeight(this.el.nativeElement)}adjustTextAreaHeight(C){C.style.overflow="hidden",C.style.height="auto",C.style.height=C.scrollHeight+30+"px"}}return e.\u0275fac=function(C){return new(C||e)(rt.Y36(rt.SBq))},e.\u0275dir=rt.lG2({type:e,selectors:[["textarea","autoResize",""]],hostBindings:function(C,t){1&C&&rt.NdJ("input",function($){return t.onInput($.target.value)})}}),e})()},98082:(xe,Ut,g)=>{g.d(Ut,{l:()=>Lt});var rt=g(47496),n=g(65879),e=g(96814),c=g(36727);function C(lt,it){if(1&lt){const X=n.EpF();n.TgZ(0,"a",4),n.NdJ("click",function(){n.CHM(X);const vt=n.oxw(2);return n.KtG(vt.clickToSeeMore())}),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()}2&lt&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"lang_cms_common_see_more")))}function t(lt,it){if(1&lt){const X=n.EpF();n.TgZ(0,"a",4),n.NdJ("click",function(){n.CHM(X);const vt=n.oxw(2);return n.KtG(vt.clickToShowShortContent())}),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()}2&lt&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"lang_cms_common_see_short_content")))}function yt(lt,it){if(1&lt&&(n.TgZ(0,"div"),n._UZ(1,"span",2),n.ALo(2,"safeNormalHtmlContent"),n.YNc(3,C,3,3,"a",3),n.YNc(4,t,3,3,"a",3),n.qZA()),2&lt){const X=n.oxw();n.xp6(1),n.Q6J("innerHTML",n.lcZ(2,3,X.showContent),n.oJD),n.xp6(2),n.Q6J("ngIf",X.showSeeMoreButton&&X.content.length>X.maxLength),n.xp6(1),n.Q6J("ngIf",X.showShortContentButton&&X.content.length>X.maxLength)}}function $(lt,it){if(1&lt&&(n._UZ(0,"span",10),n.ALo(1,"safeNormalHtmlContent")),2&lt){const X=n.oxw(2);n.Q6J("innerHTML",n.lcZ(1,1,X.showContent),n.oJD)}}function i(lt,it){if(1&lt){const X=n.EpF();n.TgZ(0,"a",4),n.NdJ("click",function(){n.CHM(X);const vt=n.oxw(2);return n.KtG(vt.clickToSeeMore())}),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()}if(2&lt){const X=n.oxw(2);n.Akn("position: absolute; bottom: 0; right: 0; background-color: "+X.backgroundColor),n.xp6(1),n.hij(" ...",n.lcZ(2,3,"lang_cms_common_see_more")," ")}}function St(lt,it){if(1&lt){const X=n.EpF();n.TgZ(0,"a",4),n.NdJ("click",function(){n.CHM(X);const vt=n.oxw(2);return n.KtG(vt.clickToShowShortContent())}),n._uU(1),n.ALo(2,"mytranslate"),n.qZA()}2&lt&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"lang_cms_common_see_short_content")))}function bt(lt,it){if(1&lt&&(n.TgZ(0,"div",5),n._UZ(1,"div",6),n.ALo(2,"safeNormalHtmlContent"),n._UZ(3,"div",6,7),n.ALo(5,"safeNormalHtmlContent"),n.YNc(6,$,2,3,"span",8),n.YNc(7,i,3,5,"a",9),n.YNc(8,St,3,3,"a",3),n.qZA()),2&lt){const X=n.MAs(4),at=n.oxw();n.xp6(1),n.Akn(at.styleContent),n.Q6J("innerHTML",n.lcZ(2,9,at.showContent),n.oJD),n.xp6(2),n.Akn("white-space: pre-line; position: absolute; visibility: hidden; line-height: 20px"),n.Q6J("innerHTML",n.lcZ(5,11,at.showContent),n.oJD),n.xp6(3),n.Q6J("ngIf",at.showShortContentButton),n.xp6(1),n.Q6J("ngIf",at.showSeeMoreButton&&X.offsetHeight>20*at.maxLine),n.xp6(1),n.Q6J("ngIf",at.showShortContentButton&&X.offsetHeight>20*at.maxLine)}}let Lt=(()=>{class lt extends rt.Q{clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let X=this.commonService.removeTagHtml(this.content);if(this.maxLength&&X.length>this.maxLength)this.showContent=this.showSeeMoreButton?X.substring(0,this.maxLength)+"...":this.content;else if(this.maxLine){this.showContent=this.content;var at=(20*this.maxLine).toString();this.styleContent=this.showSeeMoreButton?"white-space: pre-line; max-height: "+at+"px; overflow: hidden; position: relative; line-height: 20px;":"white-space: pre-line; line-height: 20px; visibility: hidden; position: absolute;"}else this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content;this.showContent=this.showContent+" "}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}constructor(){super(),this.content="",this.backgroundColor="white",this.styleContent="white-space: pre-line;",this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}}return lt.\u0275fac=function(X){return new(X||lt)},lt.\u0275cmp=n.Xpm({type:lt,selectors:[["azt-see-more-multiple-lines"]],inputs:{content:"content",maxLength:"maxLength",maxLine:"maxLine",backgroundColor:"backgroundColor"},features:[n.qOj,n.TTD],decls:2,vars:2,consts:[[4,"ngIf"],["style","position: relative; white-space: break-spaces",4,"ngIf"],[2,"white-space","pre-line","white-space","break-spaces",3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"],[2,"position","relative","white-space","break-spaces"],[3,"innerHTML"],["contentElementHide",""],["style","white-space: pre-line",3,"innerHTML",4,"ngIf"],["class","btn-text-primary",3,"style","click",4,"ngIf"],[2,"white-space","pre-line",3,"innerHTML"]],template:function(X,at){1&X&&(n.YNc(0,yt,5,5,"div",0),n.YNc(1,bt,9,13,"div",1)),2&X&&(n.Q6J("ngIf",at.maxLength),n.xp6(1),n.Q6J("ngIf",at.maxLine&&!at.maxLength))},dependencies:[e.O5,c.JV,c.fF],encapsulation:2}),lt})()},91675:(xe,Ut,g)=>{g.d(Ut,{B:()=>Lt});var rt=g(47496),n=g(65879),e=g(96814),c=g(92596),C=g(36727);function t(lt,it){1&lt&&(n.TgZ(0,"span",2),n.ALo(1,"mytranslate"),n._uU(2),n.ALo(3,"mytranslate"),n.qZA()),2&lt&&(n.s9C("matTooltip",n.lcZ(1,2,"lang_auto_dat")),n.xp6(2),n.Oqu(n.lcZ(3,4,"lang_auto_d_upper")))}function yt(lt,it){1&lt&&(n.TgZ(0,"span",2),n.ALo(1,"mytranslate"),n._uU(2),n.ALo(3,"mytranslate"),n.qZA()),2&lt&&(n.s9C("matTooltip",n.lcZ(1,2,"lang_auto_chua_dat")),n.xp6(2),n.Oqu(n.lcZ(3,4,"lang_auto_cd_upper")))}function $(lt,it){1&lt&&(n.TgZ(0,"span",2),n.ALo(1,"mytranslate"),n._uU(2),n.ALo(3,"mytranslate"),n.qZA()),2&lt&&(n.s9C("matTooltip",n.lcZ(1,2,"lang_auto_hoan_thanh")),n.xp6(2),n.Oqu(n.lcZ(3,4,"lang_auto_tag_ht")))}function i(lt,it){1&lt&&(n.TgZ(0,"span",2),n.ALo(1,"mytranslate"),n._uU(2),n.ALo(3,"mytranslate"),n.qZA()),2&lt&&(n.s9C("matTooltip",n.lcZ(1,2,"lang_auto_chua_hoan_thanh")),n.xp6(2),n.hij("",n.lcZ(3,4,"lang_auto_tag_CHT")," "))}function St(lt,it){1&lt&&(n.TgZ(0,"span",2),n.ALo(1,"mytranslate"),n._uU(2),n.ALo(3,"mytranslate"),n.qZA()),2&lt&&(n.s9C("matTooltip",n.lcZ(1,2,"lang_auto_hoan_thanh_tot")),n.xp6(2),n.Oqu(n.lcZ(3,4,"lang_auto_tag_HTT")))}function bt(lt,it){if(1&lt&&(n.TgZ(0,"span",3),n._uU(1),n.qZA()),2&lt){const X=n.oxw();n.xp6(1),n.Oqu(X.mark)}}let Lt=(()=>{class lt extends rt.Q{constructor(){super(...arguments),this.mark=0}}return lt.\u0275fac=function(){let it;return function(at){return(it||(it=n.n5z(lt)))(at||lt)}}(),lt.\u0275cmp=n.Xpm({type:lt,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[n.qOj],decls:6,vars:6,consts:[["class","text-mark mb-0",3,"matTooltip",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],[1,"text-mark","mb-0",3,"matTooltip"],[1,"text-mark","mb-0"]],template:function(X,at){1&X&&(n.YNc(0,t,4,6,"span",0),n.YNc(1,yt,4,6,"span",0),n.YNc(2,$,4,6,"span",0),n.YNc(3,i,4,6,"span",0),n.YNc(4,St,4,6,"span",0),n.YNc(5,bt,2,1,"span",1)),2&X&&(n.Q6J("ngIf","1000"==at.mark),n.xp6(1),n.Q6J("ngIf","1001"==at.mark),n.xp6(1),n.Q6J("ngIf","2000"==at.mark),n.xp6(1),n.Q6J("ngIf","2001"==at.mark),n.xp6(1),n.Q6J("ngIf","3000"==at.mark),n.xp6(1),n.Q6J("ngIf","2001"!=at.mark&&"2000"!=at.mark&&"1001"!=at.mark&&"1000"!=at.mark&&"3000"!=at.mark))},dependencies:[e.O5,c.gM,C.JV],encapsulation:2}),lt})()},22751:(xe,Ut,g)=>{g.d(Ut,{d:()=>Rn});var rt=g(56223),n=g(47496),e=g(65879),c=g(4021),C=g(46558),t=g(88489);let yt=(()=>{class k{countChecked(f){var N=0;for(var W in f)!0===f[W]&&(N+=1);return N}getDefaultFilterObj(f){var N=this.localStorageSlug+f;if(this.listFilterObjs[N])return this.listFilterObjs[N];var W=this.getInitFilterObj(),zt=this.browserStorageService.getSimpleStorage(N),te=this.commonService.castJsonToObj(zt??"");return te&&(W=te),W}saveFilterObj(f,N){var W=this.localStorageSlug+f;this.listFilterObjs[W]=N,this.browserStorageService.saveSimpleStorage(W,this.commonService.serializeJson(N))}getInitFilterObj(){return{getHasMark:!1,getNotMarked:!1,getNotDone:!1,getResendAnswer:!1,classroomId:0,studentId:0}}constructor(f,N){this.commonService=f,this.browserStorageService=N,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}}return k.\u0275fac=function(f){return new(f||k)(e.LFG(C.z),e.LFG(t.n))},k.\u0275prov=e.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();var $=g(94690),i=g(96814),St=g(92596),bt=g(43389),Lt=g(91675),lt=g(77988),it=g(36727);function X(k,Y){if(1&k&&(e.TgZ(0,"span"),e._uU(1,"\xa0"),e.TgZ(2,"span",21),e._uU(3),e.qZA()()),2&k){const f=e.oxw();e.xp6(3),e.Oqu(f.totalCustomFilter)}}function at(k,Y){if(1&k){const f=e.EpF();e.TgZ(0,"li")(1,"label",22),e.NdJ("click",function(W){return W.stopPropagation()}),e._uU(2),e.ALo(3,"mytranslate"),e.TgZ(4,"div",10)(5,"input",23),e.NdJ("change",function(){e.CHM(f);const W=e.oxw();return W.filterObj.getResendAnswer=!W.filterObj.getResendAnswer,e.KtG(W.changeFilter())}),e.qZA()()()()}if(2&k){const f=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,2,"lang_student_profile_filter_get_resend_answer")," "),e.xp6(3),e.Q6J("checked",f.filterObj.getResendAnswer)}}let vt=(()=>{class k extends n.Q{changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}clearFilter(){this.filterObj=this.studentProfileFilterService.getInitFilterObj(),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilter()}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}constructor(f){super(),this.studentProfileFilterService=f,this.filterType="",this.changeFilterEvent=new e.vpe,this.totalCustomFilter=0}}return k.\u0275fac=function(f){return new(f||k)(e.Y36(yt))},k.\u0275cmp=e.Xpm({type:k,selectors:[["azt-student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},features:[e.qOj],decls:41,vars:24,consts:[[1,"btn","btn-sm",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-0","md:mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["azt-track-service","filter-menu-SVYEFVdq9z","for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-OF32qNGQY8","for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-EpBgopx3Iv","for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","filter-menu-2gPTdI1ODd",3,"click"],["azt-track-service","filter-menu-cGVj55-Aac",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["azt-track-service","filter-menu-FWtx2ole8G","for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"]],template:function(f,N){if(1&f&&(e.TgZ(0,"button",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"polygon",2),e.qZA(),e.kcU(),e.TgZ(3,"span",3),e._uU(4),e.ALo(5,"mytranslate"),e.YNc(6,X,4,1,"span",4),e.qZA()(),e.TgZ(7,"mat-menu",5,6)(9,"div",7)(10,"ul",8)(11,"li")(12,"label",9),e.NdJ("click",function(zt){return zt.stopPropagation()}),e._uU(13),e.ALo(14,"mytranslate"),e.TgZ(15,"div",10)(16,"input",11),e.NdJ("change",function(){return N.filterObj.getHasMark=!N.filterObj.getHasMark,N.changeFilter()}),e.qZA()()()(),e.TgZ(17,"li")(18,"label",12),e.NdJ("click",function(zt){return zt.stopPropagation()}),e._uU(19),e.ALo(20,"mytranslate"),e.TgZ(21,"div",10)(22,"input",13),e.NdJ("change",function(){return N.filterObj.getNotMarked=!N.filterObj.getNotMarked,N.changeFilter()}),e.qZA()()()(),e.TgZ(23,"li")(24,"label",14),e.NdJ("click",function(zt){return zt.stopPropagation()}),e._uU(25),e.ALo(26,"mytranslate"),e.TgZ(27,"div",10)(28,"input",15),e.NdJ("change",function(){return N.filterObj.getNotDone=!N.filterObj.getNotDone,N.changeFilter()}),e.qZA()()()(),e.YNc(29,at,6,4,"li",4),e.TgZ(30,"li"),e._UZ(31,"hr",16),e.qZA(),e.TgZ(32,"li")(33,"div",17)(34,"button",18),e._uU(35),e.ALo(36,"mytranslate"),e.qZA(),e.TgZ(37,"div",19),e.NdJ("click",function(zt){return zt.stopPropagation()}),e.TgZ(38,"button",20),e.NdJ("click",function(){return N.clearFilter()}),e._uU(39),e.ALo(40,"mytranslate"),e.qZA()()()()()()()),2&f){const W=e.MAs(8);e.Q6J("matMenuTriggerFor",W),e.xp6(4),e.hij(" ",e.lcZ(5,12,"lang_testbank_tested_list_sort")," "),e.xp6(2),e.Q6J("ngIf",N.totalCustomFilter>0),e.xp6(7),e.hij(" ",e.lcZ(14,14,"lang_student_profile_filter_get_has_mark")," "),e.xp6(3),e.Q6J("checked",N.filterObj.getHasMark),e.xp6(3),e.hij(" ",e.lcZ(20,16,"lang_student_profile_filter_get_not_marked")," "),e.xp6(3),e.Q6J("checked",N.filterObj.getNotMarked),e.xp6(3),e.hij(" ",e.lcZ(26,18,"exam"==N.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),e.xp6(3),e.Q6J("checked",N.filterObj.getNotDone),e.xp6(1),e.Q6J("ngIf","homework"==N.filterType),e.xp6(6),e.Oqu(e.lcZ(36,20,"lang_button_close")),e.xp6(4),e.Oqu(e.lcZ(40,22,"lang_button_delete"))}},dependencies:[i.O5,lt.VK,lt.p6,it.JV],encapsulation:2}),k})();function Nt(k,Y){if(1&k&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e._UZ(3,"azt-check-mark",18),e.qZA()),2&k){const f=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_point"),": "),e.xp6(2),e.Q6J("mark",f.resultMarkObj.point)}}function et(k,Y){1&k&&(e.TgZ(0,"span",19),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&k&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function F(k,Y){if(1&k&&(e.ynx(0),e.YNc(1,Nt,4,4,"span",14),e.YNc(2,et,3,3,"span",17),e.BQk()),2&k){const f=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",f.resultMarkObj.confirmedAt),e.xp6(1),e.Q6J("ngIf",!f.resultMarkObj.confirmedAt)}}function E(k,Y){1&k&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&k&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_testbank_statistical_not_exem_yet")," "))}function pt(k,Y){if(1&k){const f=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){const zt=e.CHM(f).$implicit,te=e.oxw();return e.KtG(te.clickToExamObj(zt))}),e.TgZ(1,"div",8),e.O4$(),e.TgZ(2,"svg",9),e._UZ(3,"path",10),e.qZA()(),e.kcU(),e.TgZ(4,"div",11)(5,"p",12),e._uU(6),e.qZA(),e.TgZ(7,"div",13),e.YNc(8,F,3,2,"ng-container",14),e.YNc(9,E,3,3,"span",15),e.qZA(),e.TgZ(10,"div",16),e._uU(11),e.ALo(12,"mytranslate"),e.ALo(13,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()()()}if(2&k){const f=Y.$implicit,N=Y.index;e.Gre("clickable zoom-in flex items-center ",N>0?"mt-3":""," pb-2"),e.xp6(5),e.s9C("matTooltip",f.name),e.xp6(1),e.AsE("",N+1,". ",f.name,""),e.xp6(2),e.Q6J("ngIf",f.resultMarkObj),e.xp6(1),e.Q6J("ngIf",!f.resultMarkObj),e.xp6(2),e.AsE("",e.lcZ(12,10,"lang_student_profile_utils_list_exam_created_at"),": ",e.lcZ(13,12,f.createdAt),"")}}function tt(k,Y){1&k&&(e.TgZ(0,"div",21),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&k&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_list_null")))}function ut(k,Y){1&k&&e._UZ(0,"azt-loading-effect")}function ft(k,Y){if(1&k){const f=e.EpF();e.TgZ(0,"div",22),e.YNc(1,ut,1,0,"azt-loading-effect",14),e.TgZ(2,"button",23),e.NdJ("click",function(){e.CHM(f);const W=e.oxw();return e.KtG(W.getNextExamResultObjs())}),e.ALo(3,"mytranslate"),e.O4$(),e.TgZ(4,"svg",24),e._UZ(5,"polyline",25),e.qZA()()()}if(2&k){const f=e.oxw();e.xp6(1),e.Q6J("ngIf",f.statusObj.loading),e.xp6(1),e.s9C("matTooltip",e.lcZ(3,3,"lang_student_profile_utils_list_exam_tooltip_view")),e.Q6J("disabled",!f.examNextPage)}}let _t=(()=>{class k extends n.Q{clickToExamObj(f){this.isTeacher?f.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("exam",f)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+f.id+"/"+f.resultMarkObj?.userId+"/"+f.resultMarkObj?.studentId+"/"+(f.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(f.categoryId??0)+"/"+f.id+"/0","?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(f.resultMarkObj?.resultId?"/test/answer-test/"+f.resultMarkObj?.userId+"/0/"+f.hashId+"/"+(f.resultMarkObj?.resultId??0):"/de-thi/"+f.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.examNextPage="",this.getNextExamResultObjs()}getNextExamResultObjs(){this.initStatusObj();var f=this.studentProfileFilterService.getDefaultFilterObj("exam");f.classroomId=this.classroomId,f.studentId=this.studentId,f.nextPage=this.examNextPage,this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(f).subscribe(N=>{1==N.success?(this.examObjs=this.examObjs.concat(N.data?.objs??[]),this.examNextPage=N.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextExamResultObjs()}constructor(f,N,W){super(),this.studentProfileV2Service=f,this.studentProfileFilterService=N,this.permissionService=W,this.backToLink="",this.isTeacher=!0,this.examObjs=[],this.examNextPage=""}}return k.\u0275fac=function(f){return new(f||k)(e.Y36(c.LU),e.Y36(yt),e.Y36($.j))},k.\u0275cmp=e.Xpm({type:k,selectors:[["azt-student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",isTeacher:"isTeacher"},features:[e.qOj],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","list-exam-pw607HPZy",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","list-exam-pw607HPZy",3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"w-12","h-12","text-pending","bi","bi-file-earmark-check-fill"],["d","M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm1.354 4.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708.708z"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],["azt-track-service","list-exam-wvCfNB667b",1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(f,N){1&f&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"azt-student-profile-filter-menu",2),e.NdJ("changeFilterEvent",function(){return N.reInitData()}),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,pt,14,14,"div",4),e.YNc(7,tt,3,3,"div",5),e.YNc(8,ft,6,5,"div",6),e.qZA()),2&f&&(e.xp6(2),e.Oqu(e.lcZ(3,5,"lang_student_profile_utils_list_exam_list_submitted")),e.xp6(2),e.Q6J("filterType","exam"),e.xp6(2),e.Q6J("ngForOf",N.examObjs),e.xp6(1),e.Q6J("ngIf",0==N.examObjs.length&&!N.examNextPage),e.xp6(1),e.Q6J("ngIf",N.examObjs.length>0&&N.examNextPage))},dependencies:[i.sg,i.O5,St.gM,bt.l,Lt.B,vt,it.JV,it.$n],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),k})();var Ft=g(2783),Bt=g(21266),Rt=g(23680),re=g(64170),Zt=g(98525),kt=g(19347),K=g(72164),P=g(78497),ht=g(71646);function xt(k,Y){1&k&&(e.TgZ(0,"span",11),e._UZ(1,"azt-loading-ui"),e.qZA())}let Ct=(()=>{class k extends K.e{confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id??0).subscribe(f=>{1==f.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(f.message??"",!0))}))}btnCloseDialog(f){this.dialogRef.close(f)}constructor(f,N,W){super(W,N),this.studentService=f,this.dialogRef=N,this.data=W,this.studentObj=W.studentObj,this.classroomObj=W.classroomObj}}return k.\u0275fac=function(f){return new(f||k)(e.Y36(c.VT),e.Y36(kt.so,8),e.Y36(kt.WI,8))},k.\u0275cmp=e.Xpm({type:k,selectors:[["app-delete-parent"]],features:[e.qOj],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-parent-OCYQzQEUBJ",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-parent-q0ZQYEQFkD",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(f,N){1&f&&(e.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),e._uU(5),e.ALo(6,"mytranslate"),e.TgZ(7,"b",4),e._uU(8),e.qZA(),e._uU(9),e.ALo(10,"mytranslate"),e.TgZ(11,"span",5),e._uU(12),e.qZA(),e._uU(13,"\xa0 "),e.TgZ(14,"span",6),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()()()()(),e.TgZ(17,"div",7)(18,"button",8),e.NdJ("click",function(){return N.btnCloseDialog(!1)}),e._uU(19),e.ALo(20,"mytranslate"),e.qZA(),e.TgZ(21,"button",9),e.NdJ("click",function(){return N.confirmDelete()}),e.YNc(22,xt,2,0,"span",10),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()()()),2&f&&(e.xp6(5),e.hij(" ",e.lcZ(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),e.xp6(3),e.Oqu(N.studentObj.fullName),e.xp6(1),e.hij(" ",e.lcZ(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),e.xp6(2),e.s9C("matTooltip",N.classroomObj.name),e.xp6(1),e.hij(" ",N.classroomObj.name,""),e.xp6(3),e.hij("* ",e.lcZ(16,13,"lang_student_utils_delete_parent_reques"),""),e.xp6(4),e.hij(" ",e.lcZ(20,15,"lang_cms_common_close_btn")," "),e.xp6(3),e.Q6J("ngIf",N.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[i.O5,St.gM,P.R,ht.n,it.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:98;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137)}.school-info[_ngcontent-%COMP%]{z-index:99;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;border-radius:5px;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 2px 0 0;white-space:nowrap}.text-note[_ngcontent-%COMP%]{display:block;font-style:italic;font-size:15px;color:#000;font-weight:600;text-align:center;margin:10px 0}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),k})();var Dt=g(27573),ee=g(5977),ue=g(37722),pe=g(1103);function ae(k,Y){1&k&&e._UZ(0,"azt-loading-effect")}function Pe(k,Y){if(1&k){const f=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(f);const W=e.oxw(4);return e.KtG(W.editStudentDialog(W.studentObj))}),e.TgZ(1,"div",15),e._UZ(2,"lucide-icon",16),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&k&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_button_edit")," "))}function ze(k,Y){if(1&k){const f=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(f);const W=e.oxw(4);return e.KtG(W.deleteStudentDialog(W.studentObj))}),e.TgZ(1,"div",18),e._UZ(2,"lucide-icon",19),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&k&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function Ke(k,Y){if(1&k){const f=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(f);const W=e.oxw(4);return e.KtG(W.deleteParentOfStudentDialog(W.studentObj))}),e.TgZ(1,"div",21),e._UZ(2,"lucide-icon",22),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&k&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_student_profile_utils_account_student_required_verifie")," "))}const Ue=function(k){return[k]};function We(k,Y){if(1&k&&(e.TgZ(0,"button",23),e.ALo(1,"navigationLocalize"),e.TgZ(2,"div",15),e._UZ(3,"lucide-icon",24),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()),2&k){const f=e.oxw(4);e.Q6J("routerLink",e.VKq(6,Ue,e.lcZ(1,2,"/business/message/student/"+f.studentObj.id))),e.xp6(4),e.hij(" ",e.lcZ(5,4,"lang_business_dashboard_business_messages")," ")}}function Fe(k,Y){if(1&k&&(e.TgZ(0,"div",9),e.YNc(1,Pe,5,3,"button",10),e.ALo(2,"editPermission"),e.YNc(3,ze,5,3,"button",11),e.ALo(4,"fullPermission"),e.ALo(5,"editPermission"),e.YNc(6,Ke,5,3,"button",12),e.ALo(7,"editPermission"),e.YNc(8,We,6,8,"button",13),e.qZA()),2&k){const f=e.oxw(3);e.xp6(1),e.Q6J("ngIf",e.xi3(2,4,f.classroomObj,"student")),e.xp6(2),e.Q6J("ngIf",e.xi3(4,7,f.classroomObj,"student")||e.xi3(5,10,f.classroomObj,"student")),e.xp6(3),e.Q6J("ngIf",0!=f.studentObj.parentId&&e.xi3(7,13,f.classroomObj,"student")),e.xp6(2),e.Q6J("ngIf",f.businessChatService.ready&&f.studentObj.parentId>0)}}function de(k,Y){if(1&k){const f=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(f);const W=e.oxw(4);return e.KtG(W.deleteStudentDialog(W.studentObj))}),e.TgZ(1,"div",18),e._UZ(2,"lucide-icon",19),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&k&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function Je(k,Y){if(1&k){const f=e.EpF();e.TgZ(0,"div",9)(1,"button",25),e.NdJ("click",function(){e.CHM(f);const W=e.oxw(3);return e.KtG(W.editStudentDialog(W.studentObj))}),e.TgZ(2,"div",15),e._UZ(3,"lucide-icon",16),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.YNc(6,de,5,3,"button",26),e.ALo(7,"fullPermission"),e.ALo(8,"editPermission"),e.qZA()}if(2&k){const f=e.oxw(3);e.xp6(4),e.hij(" ",e.lcZ(5,2,"lang_button_edit")," "),e.xp6(2),e.Q6J("ngIf",e.xi3(7,4,f.classroomObj,"student")||e.xi3(8,7,f.classroomObj,"student"))}}const Xe=function(){return[]};function qe(k,Y){if(1&k&&(e.ynx(0),e.TgZ(1,"div",4)(2,"div",5),e._UZ(3,"azt-student-info-box",6),e.qZA(),e.TgZ(4,"div",7),e.YNc(5,Fe,9,16,"div",8),e.ALo(6,"editPermission"),e.qZA()(),e.YNc(7,Je,9,10,"div",8),e.ALo(8,"editPermission"),e.BQk()),2&k){const f=e.oxw(2);let N;e.xp6(3),e.Q6J("name",f.studentObj.fullName)("parentFullName",f.studentObj.parentFullName)("parentId",f.studentObj.parentId)("parentPhone",f.studentObj.parentPhone)("email",f.studentObj.email)("birthday",f.studentObj.birthday)("avatar",f.studentObj.avatar)("gender",f.studentObj.gender)("schoolName",null==f.studentObj.moreInfo?null:f.studentObj.moreInfo.schoolName)("facebookLink",null==f.studentObj.moreInfo?null:f.studentObj.moreInfo.facebookLink)("identificationNumber",f.studentObj.identificationNumber)("hasUser",1==f.studentObj.isVerified)("classrooms",null!==(N=null==f.studentObj.moreInfo?null:f.studentObj.moreInfo.classrooms)&&void 0!==N?N:e.DdM(22,Xe))("joinedAt",null==f.studentObj.moreInfo?null:f.studentObj.moreInfo.joinedAt),e.xp6(2),e.Q6J("ngIf",f.isTeacher&&0!=f.studentObj.parentId&&e.xi3(6,16,f.classroomObj,"student")),e.xp6(2),e.Q6J("ngIf",f.isTeacher&&0==f.studentObj.parentId&&e.xi3(8,19,f.classroomObj,"student"))}}function Qe(k,Y){1&k&&(e.TgZ(0,"div",28)(1,"span",29),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&k&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_profile_student_not_found")))}function tn(k,Y){if(1&k&&(e.YNc(0,qe,9,23,"ng-container",1),e.YNc(1,Qe,4,3,"ng-template",null,3,e.W1O)),2&k){const f=e.MAs(2),N=e.oxw();e.Q6J("ngIf",N.studentObj)("ngIfElse",f)}}const en=function(k){return{"pb-5":k}};let nn=(()=>{class k extends n.Q{deleteStudentDialog(f){this.sAztDialogService.open(Dt.F,{data:{studentObj:f,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(W=>{W&&this.commonService.myNavigation(this.paramBackToLink)})}editStudentDialog(f){this.sAztDialogService.open(ee.W,{data:{studentObj:f,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(W=>{W&&(this.reInitComponentEvent.emit(),this.getData())})}deleteParentOfStudentDialog(f){this.sAztDialogService.open(Ct,{data:{studentObj:f,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(W=>{W&&(this.reInitComponentEvent.emit(),this.getData())})}getData(){this.initStatusObj(),this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0}).subscribe(N=>{1==N.success?(N.data?.studentObj&&N.data?.classroomObj&&N.data.classroomObj.permissionObj&&(this.studentObj=N.data.studentObj,this.classroomObj=N.data.classroomObj),this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.getData()}constructor(f,N){super(),this.studentProfileV2Service=f,this.sAztDialogService=N,this.classroomList=[],this.backToLink="",this.paramBackToLink="",this.isTeacher=!0,this.reInitComponentEvent=new e.vpe}}return k.\u0275fac=function(f){return new(f||k)(e.Y36(c.LU),e.Y36(Ft.C))},k.\u0275cmp=e.Xpm({type:k,selectors:[["azt-detail-account-student"]],inputs:{classroomId:"classroomId",studentId:"studentId",classroomList:"classroomList",backToLink:"backToLink",paramBackToLink:"paramBackToLink",isTeacher:"isTeacher"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.qOj],decls:4,vars:5,consts:[[1,"intro-y","box","px-5","pt-5",3,"ngClass"],[4,"ngIf","ngIfElse"],["doneLoading",""],["noStudentObj",""],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[3,"name","parentFullName","parentId","parentPhone","email","birthday","avatar","gender","schoolName","facebookLink","identificationNumber","hasUser","classrooms","joinedAt"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["azt-track-service","detail-account-student-rzLFlIWrx","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-zZpuvJmKGS","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-hml3hBaXHE","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"routerLink",4,"ngIf"],["azt-track-service","detail-account-student-rzLFlIWrx",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-primary"],["name","pencil"],["azt-track-service","detail-account-student-zZpuvJmKGS",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-danger"],["name","trash-2"],["azt-track-service","detail-account-student-hml3hBaXHE",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-warning"],["name","shield-alert"],[1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"routerLink"],["name","mail"],["azt-track-service","detail-account-student-WgNDrDRXqF",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","detail-account-student-njjAOAGlF5","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-njjAOAGlF5",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-5"],[1,"block","sm:inline"]],template:function(f,N){if(1&f&&(e.TgZ(0,"div",0),e.YNc(1,ae,1,0,"azt-loading-effect",1),e.YNc(2,tn,3,2,"ng-template",null,2,e.W1O),e.qZA()),2&f){const W=e.MAs(3);e.Q6J("ngClass",e.VKq(3,en,!N.studentObj)),e.xp6(1),e.Q6J("ngIf",N.statusObj.loading)("ngIfElse",W)}},dependencies:[i.mk,i.O5,Bt.rH,ue.Nh5,bt.l,pe.a,it.Jy,it.JV,it.NK,it.Pf],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]}),k})();var Ye=g(81176),Te=g(87789);let ye=(()=>{class k extends n.Q{constructor(f,N){super(),this.studentService=f,this.sAztDialogService=N,this.studentId=0,this.selectClassroomId=0,this.isTeacherRole=!0,this.avgPoint=0}showTotalPointDetail(){this.sAztDialogService.open(Ye.m,{width:"700px",restoreFocus:!1,data:{student:this.studentObj,isTeacher:this.isTeacherRole}}).afterClosed().subscribe(f=>{this.getInfoAttendance()})}getInfoAttendance(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsStudentIdProfileGet(this.studentId,this.selectClassroomId).subscribe(f=>{f?(this.attendanceObj=f,this.avgPoint=f.averageMark??0,this.studentObj=f.student,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnChanges(){this.getInfoAttendance()}ngOnInit(){super.ngOnInit()}}return k.\u0275fac=function(f){return new(f||k)(e.Y36(Te.VT),e.Y36(Ft.C))},k.\u0275cmp=e.Xpm({type:k,selectors:[["azt-detail-attendance"]],inputs:{studentId:"studentId",selectClassroomId:"selectClassroomId",isTeacherRole:"isTeacherRole"},features:[e.qOj,e.TTD],decls:60,vars:23,consts:[[1,"detail-attendance"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"box","flex","items-center","p-5"],[1,"box-content","mx-auto","text-center"],[1,"btn","btn-sm","btn-primary-soft","p-1"],[1,"w-6","h-6"],["name","star"],[1,"mt-4"],[1,"ml-2","link__hover","link__color",3,"click"],[1,"text-2xl","text-primary","font-medium"],[1,"col-span-12","md:col-span-3"],[1,"box","zoom-in","flex","items-center","p-5"],["name","check"],[1,"btn","btn-sm","btn-secondary-soft","p-1"],["name","power-off"],[1,"text-2xl","text-secondary","font-medium"],[1,"btn","btn-sm","btn-pending-soft","p-1"],["name","alert-octagon"],[1,"text-2xl","text-pending","font-medium"],[1,"btn","btn-sm","btn-danger-soft","p-1"],["name","x-octagon"],[1,"text-2xl","text-danger","font-medium"]],template:function(f,N){1&f&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"div",6),e._UZ(7,"lucide-icon",7),e.qZA()(),e.TgZ(8,"div",8),e._uU(9),e.ALo(10,"mytranslate"),e.TgZ(11,"a",9),e.NdJ("click",function(){return N.showTotalPointDetail()}),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()(),e.TgZ(14,"div",10),e._uU(15),e.qZA()()()(),e.TgZ(16,"div",11)(17,"div",12)(18,"div",4)(19,"button",5)(20,"div",6),e._UZ(21,"lucide-icon",13),e.qZA()(),e.TgZ(22,"div",8),e._uU(23),e.ALo(24,"mytranslate"),e.qZA(),e.TgZ(25,"div",10),e._uU(26),e.qZA()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",4)(30,"button",14)(31,"div",6),e._UZ(32,"lucide-icon",15),e.qZA()(),e.TgZ(33,"div",8),e._uU(34),e.ALo(35,"mytranslate"),e.qZA(),e.TgZ(36,"div",16),e._uU(37),e.qZA()()()(),e.TgZ(38,"div",11)(39,"div",12)(40,"div",4)(41,"button",17)(42,"div",6),e._UZ(43,"lucide-icon",18),e.qZA()(),e.TgZ(44,"div",8),e._uU(45),e.ALo(46,"mytranslate"),e.qZA(),e.TgZ(47,"div",19),e._uU(48),e.qZA()()()(),e.TgZ(49,"div",11)(50,"div",12)(51,"div",4)(52,"button",20)(53,"div",6),e._UZ(54,"lucide-icon",21),e.qZA()(),e.TgZ(55,"div",8),e._uU(56),e.ALo(57,"mytranslate"),e.qZA(),e.TgZ(58,"div",22),e._uU(59),e.qZA()()()()()()),2&f&&(e.xp6(9),e.hij(" ",e.lcZ(10,11,"lang_business_diem_tong_ket")," "),e.xp6(3),e.hij("(",e.lcZ(13,13,"lang_auto_xem_chi_tiet"),")"),e.xp6(3),e.Oqu(N.avgPoint),e.xp6(8),e.Oqu(e.lcZ(24,15,"lang_student_number_of_sessions_attended")),e.xp6(3),e.Oqu(null==N.attendanceObj?null:N.attendanceObj.totalAttend),e.xp6(8),e.Oqu(e.lcZ(35,17,"lang_student_number_of_sessions_missed")),e.xp6(3),e.Oqu(null==N.attendanceObj?null:N.attendanceObj.totalAbsence),e.xp6(8),e.Oqu(e.lcZ(46,19,"lang_student_number_of_approved_absences")),e.xp6(3),e.Oqu(null==N.attendanceObj?null:N.attendanceObj.totalAbsentPermission),e.xp6(8),e.Oqu(e.lcZ(57,21,"lang_student_number_of_unauthorized_absences")),e.xp6(3),e.Oqu(null==N.attendanceObj?null:N.attendanceObj.totalAbsentWithoutPermission))},dependencies:[ue.Nh5,it.JV],encapsulation:2}),k})();var ke=g(60381);function Ne(k,Y){if(1&k&&(e.TgZ(0,"tr")(1,"td",10),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()()),2&k){const f=Y.$implicit,N=Y.index;e.xp6(2),e.Oqu(N+1),e.xp6(2),e.Oqu(f.bookName),e.xp6(2),e.Oqu(e.lcZ(7,3,f.createdAt))}}function Se(k,Y){if(1&k&&(e.ynx(0),e.YNc(1,Ne,8,5,"tr",9),e.BQk()),2&k){const f=e.oxw();e.xp6(1),e.Q6J("ngForOf",f.bookDistributionList)}}function ve(k,Y){1&k&&(e.TgZ(0,"tr")(1,"td",11),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&k&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_student_profile_not_data_view")," "))}let Ie=(()=>{class k extends n.Q{getInfoBookDistribution(){this.waitDestroy(this.studentService.apiStudentsStudentIdBooksGet(this.studentId).subscribe(f=>{f?(this.bookDistributionList=f.list,this.totalBookDistribution=f.total):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getInfoBookDistribution()}constructor(f){super(),this.studentService=f,this.studentId=0,this.bookDistributionList=[],this.totalBookDistribution=0}}return k.\u0275fac=function(f){return new(f||k)(e.Y36(Te.VT))},k.\u0275cmp=e.Xpm({type:k,selectors:[["azt-detail-book-distribution"]],inputs:{studentId:"studentId"},features:[e.qOj],decls:22,vars:14,consts:[[1,"text-right","mt-4"],[1,"font-medium"],[1,"box","mt-2"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[4,"ngIf","ngIfElse"],["noDistribution",""],[4,"ngFor","ngForOf"],[1,"text-center"],["colspan","3",1,"text-center"]],template:function(f,N){if(1&f&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()(),e.TgZ(4,"div",2)(5,"drag-scroll")(6,"table",3)(7,"thead",4)(8,"tr")(9,"th",5),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"th",6),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"th",6),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,Se,2,1,"ng-container",7),e.YNc(20,ve,4,3,"ng-template",null,8,e.W1O),e.qZA()()()()),2&f){const W=e.MAs(21);e.xp6(2),e.hij(" ",e.lcZ(3,6,"lang_student_total")+": "+N.totalBookDistribution," "),e.xp6(8),e.hij(" ",e.lcZ(11,8,"lang_auto_stt")," "),e.xp6(3),e.hij(" ",e.lcZ(14,10,"lang_core_ten_sach")," "),e.xp6(3),e.hij(" ",e.lcZ(17,12,"lang_auto_thoi_gian")," "),e.xp6(3),e.Q6J("ngIf",N.bookDistributionList.length)("ngIfElse",W)}},dependencies:[i.sg,i.O5,ke.HU,ke.$Z,it.JV,it.$n],encapsulation:2}),k})();var be=g(66469),we=g(71518),on=g(84003),Jt=g(95287);function je(k,Y){if(1&k&&(e.TgZ(0,"span"),e._UZ(1,"lucide-icon",15),e.qZA()),2&k){const f=e.oxw().$implicit;e.xp6(1),e.s9C("name",f.showChild?"chevron-up":"chevron-down")}}function Wt(k,Y){if(1&k&&(e.TgZ(0,"span",18),e._uU(1),e.qZA()),2&k){const f=e.oxw(2).$implicit;e.xp6(1),e.Oqu(f.averageMark)}}const U=function(k){return{"width.%":k}};function Ot(k,Y){if(1&k&&(e.TgZ(0,"div",16),e.YNc(1,Wt,2,1,"span",17),e.qZA()),2&k){const f=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,U,10*f.averageMark)),e.xp6(1),e.Q6J("ngIf",f.averageMark>1)}}function j(k,Y){if(1&k&&(e.TgZ(0,"div",19),e._UZ(1,"azt-knowledge-by-subject-student",20),e.qZA()),2&k){const f=e.oxw().$implicit,N=e.oxw();e.xp6(1),e.Q6J("knowledgeDetailObjs",f.children)("countLevelNode",N.countLevelNode+1)}}const b=function(k,Y,f,N,W){return{"mt-3":k,"border-none":Y,"bg-slate-100":f,"bg-white":N,"pb-0":W}},G=function(k){return{cursor:k}},w=function(k,Y){return{"font-medium":k,"font-normal":Y}},q=function(k){return{"padding-left.px":k}};function Q(k,Y){if(1&k){const f=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e.NdJ("click",function(){const zt=e.CHM(f).$implicit,te=e.oxw();return e.KtG(te.showChildKnowledgeData(zt))}),e.TgZ(3,"h3",4),e._uU(4),e.ALo(5,"mytranslate"),e.YNc(6,je,2,1,"span",5),e.qZA()(),e.TgZ(7,"div",6)(8,"h3",7),e._uU(9),e.ALo(10,"mytranslate"),e.TgZ(11,"b"),e._uU(12),e.qZA(),e._uU(13,"/"),e.TgZ(14,"b"),e._uU(15),e.qZA(),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9)(20,"span",10),e._uU(21,"0"),e.qZA(),e.TgZ(22,"div",11),e.YNc(23,Ot,2,4,"div",12),e.qZA(),e.TgZ(24,"span",13),e._uU(25,"10"),e.qZA()()()(),e.YNc(26,j,2,2,"div",14),e.qZA()}if(2&k){const f=Y.$implicit,N=Y.first,W=Y.last,zt=e.oxw();e.Q6J("ngClass",e.qbA(19,b,N&&0==zt.countLevelNode,W,zt.countLevelNode%2!=0,zt.countLevelNode%2==0,f.showChild)),e.xp6(2),e.Akn(e.VKq(25,G,f.children&&f.children.length?"pointer":"default")),e.xp6(1),e.Q6J("ngClass",e.WLB(27,w,0==zt.countLevelNode||f.showChild,0!=zt.countLevelNode&&!f.showChild))("ngStyle",e.VKq(30,q,5*zt.countLevelNode)),e.xp6(1),e.hij(" ",e.lcZ(5,13,f.name)," "),e.xp6(2),e.Q6J("ngIf",f.children&&f.children.length),e.xp6(3),e.hij(" ",e.lcZ(10,15,"lang_auto_tra_loi_dung"),":\xa0"),e.xp6(3),e.Oqu(f.totalCorrectQuestion),e.xp6(3),e.Oqu(f.totalQuestion),e.xp6(1),e.hij("\xa0",e.lcZ(17,17,"azt_lang_sugg_question")," "),e.xp6(7),e.Q6J("ngIf",f.averageMark),e.xp6(3),e.Q6J("ngIf",f.children&&f.children.length&&f.showChild)}}let wt=(()=>{class k extends n.Q{showChildKnowledgeData(f){f.children&&f.children.length&&(f.showChild=!f.showChild)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.knowledgeDetailObjs=[],this.countLevelNode=1}}return k.\u0275fac=function(f){return new(f||k)},k.\u0275cmp=e.Xpm({type:k,selectors:[["azt-knowledge-by-subject-student"]],inputs:{knowledgeDetailObjs:"knowledgeDetailObjs",countLevelNode:"countLevelNode"},features:[e.qOj],decls:1,vars:1,consts:[["class","border-b border-slate-200/60 dark:border-darkmode-400","style","padding: 10px 24px; margin-left: -24px; margin-right: -24px;",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center",3,"click"],[1,"",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr","pr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],["style","margin-top: 10px",4,"ngIf"],[2,"vertical-align","top","height","16px!important","width","16px!important",3,"name"],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[2,"margin-top","10px"],[3,"knowledgeDetailObjs","countLevelNode"]],template:function(f,N){1&f&&e.YNc(0,Q,27,32,"div",0),2&f&&e.Q6J("ngForOf",N.knowledgeDetailObjs)},dependencies:[i.mk,i.sg,i.O5,i.PC,ue.Nh5,k,it.JV],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}.pb-0[_ngcontent-%COMP%]{padding-bottom:0!important}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),k})();function Et(k,Y){1&k&&e._UZ(0,"azt-loading-effect")}function se(k,Y){if(1&k&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&k){const f=e.oxw(2).$implicit;e.xp6(1),e.Oqu(f.averageMark)}}const I=function(k){return{"width.%":k}};function R(k,Y){if(1&k&&(e.TgZ(0,"div",21),e.YNc(1,se,2,1,"span",22),e.qZA()),2&k){const f=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,I,10*f.averageMark)),e.xp6(1),e.Q6J("ngIf",f.averageMark&&f.averageMark>1)}}function Z(k,Y){1&k&&(e.TgZ(0,"div",24)(1,"span",25),e._UZ(2,"azt-loading-ui"),e.qZA()())}function S(k,Y){1&k&&(e.ynx(0),e.TgZ(1,"div",27)(2,"span",28),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.BQk()),2&k&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"lang_profile_student_not_support_subject")))}function H(k,Y){if(1&k&&(e.ynx(0),e.TgZ(1,"div",37)(2,"h4",30),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e._UZ(5,"azt-knowledge-by-subject-student",38),e.BQk()),2&k){const f=e.oxw(3).$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,3,"lang_student_profile_result_by_topic")," "),e.xp6(2),e.Q6J("knowledgeDetailObjs",f.knowledgeDataObjs)("countLevelNode",0)}}function Mt(k,Y){if(1&k&&(e.TgZ(0,"span",23),e._uU(1),e.qZA()),2&k){const f=e.oxw(2).$implicit;e.xp6(1),e.Oqu(f.averageMark)}}const le=function(k,Y,f,N){return{"bg-orange-600":k,"bg-red-600":Y,"bg-green-600":f,"bg-blue-600":N}};function hn(k,Y){if(1&k&&(e.TgZ(0,"div",50),e.YNc(1,Mt,2,1,"span",22),e.qZA()),2&k){const f=e.oxw().$implicit;e.Q6J("ngClass",e.l5B(3,le,1==f.id,3==f.id,2==f.id,4==f.id))("ngStyle",e.VKq(8,I,10*f.averageMark)),e.xp6(1),e.Q6J("ngIf",f.averageMark>1)}}const Le=function(k){return{"border-none":k}};function fn(k,Y){if(1&k&&(e.TgZ(0,"div",40)(1,"div",41)(2,"div",42)(3,"h3",43),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"div",44)(7,"h3",43),e._uU(8),e.ALo(9,"mytranslate"),e.TgZ(10,"b"),e._uU(11),e.qZA(),e._uU(12,"/"),e.TgZ(13,"b"),e._uU(14),e.qZA(),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()(),e.TgZ(17,"div",45)(18,"div",46)(19,"span",47),e._uU(20,"0"),e.qZA(),e.TgZ(21,"div",48),e.YNc(22,hn,2,10,"div",49),e.qZA(),e.TgZ(23,"span",18),e._uU(24,"10"),e.qZA()()()()()),2&k){const f=Y.$implicit;e.Q6J("ngClass",e.VKq(13,Le,Y.last)),e.xp6(4),e.hij(" ",e.lcZ(5,7,f.name)," "),e.xp6(4),e.hij(" ",e.lcZ(9,9,"lang_auto_tra_loi_dung"),":\xa0"),e.xp6(3),e.Oqu(f.totalCorrectQuestion),e.xp6(3),e.Oqu(f.totalQuestion),e.xp6(1),e.hij("\xa0",e.lcZ(16,11,"azt_lang_sugg_question")," "),e.xp6(7),e.Q6J("ngIf",f.averageMark)}}function Yn(k,Y){if(1&k&&(e.ynx(0),e.TgZ(1,"div",37)(2,"h4",30),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.YNc(5,fn,25,15,"div",39),e.BQk()),2&k){const f=e.oxw(3).$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_student_profile_result_by_difficulty_level")," "),e.xp6(2),e.Q6J("ngForOf",f.difficultyDataObjs)}}function Nn(k,Y){if(1&k&&(e.TgZ(0,"div",29)(1,"h4",30),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()(),e.TgZ(4,"div",31)(5,"div",32)(6,"div",33)(7,"div",34),e._UZ(8,"div",35),e.qZA()()()(),e.YNc(9,H,6,5,"ng-container",36),e.YNc(10,Yn,6,4,"ng-container",36)),2&k){const f=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,4,"lang_student_profile_exam_point_by_time")," "),e.xp6(6),e.Q6J("chart",f.chart),e.xp6(1),e.Q6J("ngIf",f.knowledgeDataObjs&&f.knowledgeDataObjs.length),e.xp6(1),e.Q6J("ngIf",f.difficultyDataObjs&&f.difficultyDataObjs.length)}}function jn(k,Y){if(1&k&&(e.YNc(0,S,5,3,"ng-container",1),e.YNc(1,Nn,11,6,"ng-template",null,26,e.W1O)),2&k){const f=e.MAs(2),N=e.oxw().$implicit;e.Q6J("ngIf",N.errorGetData)("ngIfElse",f)}}function Me(k,Y){if(1&k){const f=e.EpF();e.ynx(0),e.TgZ(1,"mat-expansion-panel",7),e.NdJ("opened",function(){const zt=e.CHM(f).index,te=e.oxw(2);return e.KtG(te.getStatisticalById(zt))}),e.TgZ(2,"mat-expansion-panel-header",8)(3,"div",9)(4,"div",10)(5,"h3",11),e._uU(6),e.ALo(7,"mytranslate"),e.ALo(8,"mytranslate"),e.qZA()(),e.TgZ(9,"div",12)(10,"div",13)(11,"span",14),e._uU(12),e.ALo(13,"mytranslate"),e.qZA(),e.TgZ(14,"span",15),e._uU(15,"0"),e.qZA(),e.TgZ(16,"div",16),e.YNc(17,R,2,4,"div",17),e.qZA(),e.TgZ(18,"span",18),e._uU(19,"10"),e.qZA()()()()(),e.YNc(20,Z,3,0,"div",19),e.YNc(21,jn,3,2,"ng-template",null,20,e.W1O),e.qZA(),e.BQk()}if(2&k){const f=Y.$implicit,N=e.MAs(22);e.xp6(6),e.AsE(" ",e.lcZ(7,6,f.subjectName)," ","("+e.lcZ(8,8,f.levelName)+")"," "),e.xp6(6),e.Oqu(e.lcZ(13,10,"lang_auto_diem_trung_binh")),e.xp6(5),e.Q6J("ngIf",f.averageMark),e.xp6(3),e.Q6J("ngIf",f.isLoading)("ngIfElse",N)}}function xn(k,Y){if(1&k&&(e.TgZ(0,"div",3)(1,"div",4)(2,"mat-accordion",5),e.YNc(3,Me,23,12,"ng-container",6),e.qZA()()()),2&k){const f=e.oxw();e.xp6(3),e.Q6J("ngForOf",f.levelSubjectObjs)}}let Be=(()=>{class k extends n.Q{getStatisticalById(f){this.levelSubjectObjs.length&&this.levelSubjectObjs[f]&&(this.levelSubjectObjs[f].isLoading=!0,this.levelSubjectObjs[f].errorGetData=!1,this.studentService.apiStudentsStudentIdFieldGet(this.studentId,this.levelSubjectObjs[f].levelId??0,this.levelSubjectObjs[f].subjectId??0).subscribe({next:N=>{N?(this.levelSubjectObjs[f].difficultyDataObjs=N.difficulty??[],this.levelSubjectObjs[f].knowledgeDataObjs=N.knowledge??[],this.levelSubjectObjs[f].chart=this.createChart(N.examResults??[]),this.levelSubjectObjs[f].isLoading=!1,this.levelSubjectObjs[f].errorGetData=!1):(this.levelSubjectObjs[f].isLoading=!1,this.levelSubjectObjs[f].errorGetData=!0,this.stopStatusObj())},error:N=>{this.levelSubjectObjs[f].isLoading=!1,this.levelSubjectObjs[f].errorGetData=!0,this.errorStatusObj(N.error.message??"",!0)}}))}createChart(f){let N=this.commonService.myTranslateInstant("lang_auto_Diem")??"",W=this.commonService.myTranslateInstant("lang_student_profile_exam_point_by_time")??"",zt=[],te=[];return f.forEach(Ve=>{zt.push(Ve.mark??0),te.push(this.sAztTimeService.formatFullDateTimeWithoutSecondByUserUnit(Ve.createdAt))}),new be.kL({chart:{type:"line",style:{fontFamily:"Arial"}},title:{style:{wordWrap:"break-word","text-align":"center"},text:W,useHTML:!0},colors:["#2361ae"],credits:{enabled:!1},xAxis:{categories:te},yAxis:{title:{text:N}},series:[{name:N,type:"line",data:zt}]})}getDataSubject(){this.initStatusObj(),this.isBusinessDomain?this.studentService.apiStudentsStudentIdAverageLevelSubjectMarksGet(this.studentId).subscribe({next:f=>{this.levelSubjectObjs=f.list??[],this.getStatisticalById(0),this.stopStatusObj()},error:f=>{this.errorStatusObj(f.error.message,!0)}}):this.examPageResultService.apiExamPageResultListStudentProfileByLevelSubjectsGet(this.studentId).subscribe(f=>{1==f.success&&f.data?(this.levelSubjectObjs=f.data.objs??[],this.getStatisticalById(0),this.stopStatusObj()):this.errorStatusObj(f.message??"",!0)})}ngOnInit(){super.ngOnInit(),this.getDataSubject()}constructor(f,N,W){super(),this.examPageResultService=f,this.studentService=N,this.sAztTimeService=W,this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new e.vpe,this.levelSubjectObjs=[],this.chart=new be.kL}}return k.\u0275fac=function(f){return new(f||k)(e.Y36(we.DR),e.Y36(Te.VT),e.Y36(on.D))},k.\u0275cmp=e.Xpm({type:k,selectors:[["azt-detail-by-subject-student"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.qOj],decls:4,vars:2,consts:[[1,"intro-y"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"px-5"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[2,"margin-top","0.75rem",3,"opened"],[1,"pad-mobile"],[1,"grid","grid-cols-12","gap-3","gap-mobile","items-center","w-full","justify-between"],[1,"col-span-12","lg:col-span-3"],[1,"font-medium","mr-3"],[1,"col-span-12","lg:col-span-9","text-center"],[1,"flex","profile-flr","pr-5",2,"align-items","center"],[1,"text-md",2,"vertical-align","middle","margin-right","15px"],[1,"text-md",2,"vertical-align","middle","margin-right","5px"],[1,"w-avg-profile","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],["class","flex justify-center mt-3",4,"ngIf","ngIfElse"],["doneLoadingPage",""],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[1,"flex","justify-center","mt-3"],[1,"w-6","h-6","inline-block"],["hasData",""],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"report-box","intro-x","mt-3"],[1,"box","p-5"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[4,"ngIf"],[1,"w-auto","text-left","bg-gray-200","mt-3",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[3,"knowledgeDetailObjs","countLevelNode"],["class","border-b border-slate-200/60 dark:border-darkmode-400 mt-2 py-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","mt-2","py-3",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 text-right p-0.5 leading-none",3,"ngClass","ngStyle",4,"ngIf"],[1,"h-6","text-blue-100","text-right","p-0.5","leading-none",3,"ngClass","ngStyle"]],template:function(f,N){if(1&f&&(e.TgZ(0,"div",0),e.YNc(1,Et,1,0,"azt-loading-effect",1),e.YNc(2,xn,4,1,"ng-template",null,2,e.W1O),e.qZA()),2&f){const W=e.MAs(3);e.xp6(1),e.Q6J("ngIf",N.statusObj.loading)("ngIfElse",W)}},dependencies:[i.mk,i.sg,i.O5,i.PC,Jt.pp,Jt.ib,Jt.yz,be.Dm,bt.l,ht.n,wt,it.JV],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),k})();function Ln(k,Y){if(1&k&&(e.TgZ(0,"tr")(1,"td",10),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td",10)(9,"span",11),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()()()),2&k){const f=Y.$implicit,N=Y.index;let W;e.xp6(2),e.Oqu(N+1),e.xp6(2),e.Oqu(e.lcZ(5,4,null!==(W=f.updatedAt)&&void 0!==W?W:f.createdAt)),e.xp6(3),e.Oqu(f.month+"/"+f.year),e.xp6(3),e.hij(" ",e.lcZ(11,6,"lang_student_tuition_fee_paid")," ")}}function Yt(k,Y){if(1&k&&(e.ynx(0),e.YNc(1,Ln,12,8,"tr",9),e.BQk()),2&k){const f=e.oxw();e.xp6(1),e.Q6J("ngForOf",f.historyTuitionFeeList)}}function ge(k,Y){1&k&&(e.TgZ(0,"tr")(1,"td",12),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&k&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_student_profile_not_data_view")," "))}let De=(()=>{class k extends n.Q{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.studentId).subscribe(f=>{f?this.historyTuitionFeeList=f.histories:this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(f){super(),this.paymentService=f,this.studentId=0,this.historyTuitionFeeList=[]}}return k.\u0275fac=function(f){return new(f||k)(e.Y36(Te.te))},k.\u0275cmp=e.Xpm({type:k,selectors:[["azt-detail-tuition-fee"]],inputs:{studentId:"studentId"},features:[e.qOj],decls:22,vars:14,consts:[[1,"detail-attendance"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],[4,"ngIf","ngIfElse"],["noTuitionFee",""],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(f,N){if(1&f&&(e.TgZ(0,"div",0)(1,"div",1)(2,"drag-scroll")(3,"table",2)(4,"thead",3)(5,"tr")(6,"th",4),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.TgZ(9,"th",5),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"th",5),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"th",6),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,Yt,2,1,"ng-container",7),e.YNc(20,ge,4,3,"ng-template",null,8,e.W1O),e.qZA()()()()()),2&f){const W=e.MAs(21);e.xp6(7),e.hij(" ",e.lcZ(8,6,"lang_auto_stt")," "),e.xp6(3),e.hij(" ",e.lcZ(11,8,"lang_student_payment_time")," "),e.xp6(3),e.hij(" ",e.lcZ(14,10,"lang_student_monthly_tuition_fee")," "),e.xp6(3),e.hij(" ",e.lcZ(17,12,"lang_student_status")," "),e.xp6(3),e.Q6J("ngIf",N.historyTuitionFeeList.length)("ngIfElse",W)}},dependencies:[i.sg,i.O5,ke.HU,ke.$Z,it.JV,it.$n],encapsulation:2}),k})();function He(k,Y){if(1&k&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e._UZ(3,"azt-check-mark",22),e.qZA()),2&k){const f=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_point"),": "),e.xp6(2),e.Q6J("mark",f.resultMarkObj.point)}}function Bn(k,Y){1&k&&(e.TgZ(0,"span",23),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&k&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_student_profile_not_mark_result")," "))}function Hn(k,Y){if(1&k&&(e.TgZ(0,"span"),e.YNc(1,He,4,4,"span",18),e.YNc(2,Bn,3,3,"span",21),e.qZA()),2&k){const f=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",f.resultMarkObj.confirmedAt),e.xp6(1),e.Q6J("ngIf",!f.resultMarkObj.confirmedAt)}}function Gn(k,Y){1&k&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&k&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_student_profile_no_result")," "))}function Dn(k,Y){if(1&k&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&k){const f=e.oxw().$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,"lang_student_profile_resend_answer_required"),": ",f.resendAnswerObj.resendNote," ")}}function Oe(k,Y){if(1&k){const f=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){const zt=e.CHM(f).$implicit,te=e.oxw();return e.KtG(te.clickToHomeworkObj(zt))}),e.TgZ(1,"div",8),e.O4$(),e.TgZ(2,"svg",9),e._UZ(3,"path",10)(4,"polyline",11)(5,"line",12)(6,"line",13)(7,"line",14),e.qZA()(),e.kcU(),e.TgZ(8,"div",15)(9,"p",16),e._uU(10),e.qZA(),e.TgZ(11,"div",17),e.YNc(12,Hn,3,2,"span",18),e.YNc(13,Gn,3,3,"span",19),e.YNc(14,Dn,3,4,"span",19),e.qZA(),e.TgZ(15,"div",20),e._uU(16),e.ALo(17,"mytranslate"),e.ALo(18,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()()()}if(2&k){const f=Y.$implicit,N=Y.index;e.Gre("clickable zoom-in flex items-center ",N>0?"mt-5":""," pb-2"),e.xp6(9),e.s9C("matTooltip",f.name),e.xp6(1),e.AsE("",N+1,". ",f.name,""),e.xp6(2),e.Q6J("ngIf",f.resultMarkObj),e.xp6(1),e.Q6J("ngIf",!f.resultMarkObj&&!f.resendAnswerObj),e.xp6(1),e.Q6J("ngIf",!f.resultMarkObj&&f.resendAnswerObj),e.xp6(2),e.AsE("",e.lcZ(17,11,"lang_student_profile_utils_homework_answer_created_at"),": ",e.lcZ(18,13,f.createdAt),"")}}function Xt(k,Y){1&k&&(e.TgZ(0,"div",25),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&k&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_list_null")))}function Ge(k,Y){1&k&&e._UZ(0,"azt-loading-effect")}function an(k,Y){if(1&k){const f=e.EpF();e.TgZ(0,"div",26),e.YNc(1,Ge,1,0,"azt-loading-effect",18),e.TgZ(2,"button",27),e.NdJ("click",function(){e.CHM(f);const W=e.oxw();return e.KtG(W.getNextHomeworkAnswerObjs())}),e.ALo(3,"mytranslate"),e.O4$(),e.TgZ(4,"svg",28),e._UZ(5,"polyline",29),e.qZA()()()}if(2&k){const f=e.oxw();e.xp6(1),e.Q6J("ngIf",f.statusObj.loading),e.xp6(1),e.s9C("matTooltip",e.lcZ(3,3,"lang_auto_hien_ban_ghi_cu_hon")),e.Q6J("disabled",!f.homeworkNextPage)}}let Re=(()=>{class k extends n.Q{clickToHomeworkObj(f){this.isTeacher?f.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("homework",f)?this.commonService.myNavigationWithQueryString("/admin/homework/switch-mark-exercise/"+f.resultMarkObj?.resultId+"/"+f.hashId+"/"+(this.studentId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(f.classroomId??0)+"/"+f.id+"/"+f.hashId,"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(f.resultMarkObj?.resultId?"/homework/switch-view-homework/"+f.resultMarkObj?.resultId+"/"+f.hashId:"/bai-tap/"+f.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var f=this.studentProfileFilterService.getDefaultFilterObj("homework");f.classroomId=this.classroomId,f.studentId=this.studentId,f.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(f).subscribe(N=>{1==N.success?(this.homeworkObjs=this.homeworkObjs.concat(N.data?.objs??[]),this.homeworkNextPage=N.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}constructor(f,N,W){super(),this.studentProfileV2Service=f,this.studentProfileFilterService=N,this.permissionService=W,this.isTeacher=!0,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}}return k.\u0275fac=function(f){return new(f||k)(e.Y36(c.LU),e.Y36(yt),e.Y36($.j))},k.\u0275cmp=e.Xpm({type:k,selectors:[["azt-student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",isTeacher:"isTeacher",backToLink:"backToLink"},features:[e.qOj],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-12","h-12","text-primary"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],["azt-track-service","homework-answer-MWO-mgLYZ_",1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(f,N){1&f&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"azt-student-profile-filter-menu",2),e.NdJ("changeFilterEvent",function(){return N.reInitData()}),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,Oe,19,15,"div",4),e.YNc(7,Xt,3,3,"div",5),e.YNc(8,an,6,5,"div",6),e.qZA()),2&f&&(e.xp6(2),e.Oqu(e.lcZ(3,5,"lang_student_profile_utils_homework_answer_list_submitted")),e.xp6(2),e.Q6J("filterType","homework"),e.xp6(2),e.Q6J("ngForOf",N.homeworkObjs),e.xp6(1),e.Q6J("ngIf",0==N.homeworkObjs.length&&!N.homeworkNextPage),e.xp6(1),e.Q6J("ngIf",N.homeworkObjs.length>0&&N.homeworkNextPage))},dependencies:[i.sg,i.O5,St.gM,bt.l,Lt.B,vt,it.JV,it.$n],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),k})();function sn(k,Y){if(1&k&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&k){const f=Y.$implicit;e.Q6J("value",f.id+"-"+f.studentId),e.xp6(1),e.hij(" ",f.name," ")}}function vn(k,Y){if(1&k&&(e.TgZ(0,"div",21)(1,"p",18),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e._UZ(4,"azt-detail-attendance",22),e.qZA()),2&k){const f=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,"lang_student_attendance_point_info")),e.xp6(2),e.Q6J("studentId",f.studentId)("isTeacherRole",f.isTeacherDashboard)("selectClassroomId",f.classroomId)}}function cn(k,Y){if(1&k&&(e.TgZ(0,"div",21)(1,"p",18),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e._UZ(4,"azt-detail-tuition-fee",23),e.qZA()),2&k){const f=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"lang_student_tuition_fee_info")),e.xp6(2),e.Q6J("studentId",f.studentId)}}function kn(k,Y){if(1&k&&(e.TgZ(0,"div",21)(1,"p",18),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e._UZ(4,"azt-detail-book-distribution",23),e.qZA()),2&k){const f=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"lang_student_book_distribution_info")),e.xp6(2),e.Q6J("studentId",f.studentId)}}const wn=function(k){return{"margin-bottom":k}};let Rn=(()=>{class k extends n.Q{reInitOtherComponent(){this.listExam?.reInitData(),this.listHomework?.reInitData()}getListClassroomByStudentId(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2ListStudentClassroomsGet(this.studentId).subscribe(f=>{1===f.success?(this.classroomList=f.data?.objs??[],this.classroomList.find(N=>N.id+"-"+N.studentId==this.select.value)||this.select.setValue("")):this.errorStatusObj(f.message??"",!0)}))}selectedClassroom(f){let N=f.value.split("-")[0],W=f.value.split("-")[1],zt=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString((this.isTeacherDashboard?"/admin":"")+"/student/profile-student/"+N+"/"+W,zt?"?backTo="+encodeURIComponent(zt):""),this.reInitOtherComponent()}ngOnInit(){super.ngOnInit()}constructor(f,N,W){super(),this.sAztDialogService=f,this.activeRoute=N,this.studentProfileV2Service=W,this.select=new rt.NI("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[],this.isTeacherDashboard=!0}}return k.\u0275fac=function(f){return new(f||k)(e.Y36(Ft.C),e.Y36(Bt.gz),e.Y36(c.LU))},k.\u0275cmp=e.Xpm({type:k,selectors:[["azt-student-profile"]],viewQuery:function(f,N){if(1&f&&(e.Gf(_t,5),e.Gf(_t,5)),2&f){let W;e.iGM(W=e.CRH())&&(N.listExam=W.first),e.iGM(W=e.CRH())&&(N.listHomework=W.first)}},inputs:{select:"select",classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink",classroomList:"classroomList",isTeacherDashboard:"isTeacherDashboard"},features:[e.qOj],decls:29,vars:37,consts:[["id","profileStudent",1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","flex","items-center","mb-3","flex-wrap"],[1,"text-xl","font-medium"],[1,"ml-5","box",2,"font-size","12px"],["appearance","outline"],["name","classroom",3,"formControl","selectionChange"],[3,"value","disabled"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"studentId","classroomList","classroomId","backToLink","paramBackToLink","isTeacher","reInitComponentEvent"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","isTeacher","classroomId","backToLink"],["listExam",""],[1,"intro-y","box","col-span-12","lg:col-span-6",3,"ngStyle"],["listHomework",""],["class","mt-5",4,"ngIf"],[1,"mt-4"],[1,"mb-3","text-base","font-medium"],[3,"studentId","classroomId","backToLink","paramBackToLink","reInitComponentEvent"],[3,"value"],[1,"mt-5"],[3,"studentId","isTeacherRole","selectClassroomId"],[3,"studentId"]],template:function(f,N){1&f&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",3)(6,"mat-form-field",4)(7,"mat-select",5),e.NdJ("selectionChange",function(zt){return N.selectedClassroom(zt)}),e.TgZ(8,"mat-option",6),e._uU(9),e.ALo(10,"mytranslate"),e.qZA(),e.YNc(11,sn,2,2,"mat-option",7),e.qZA()()()(),e.TgZ(12,"div",8)(13,"azt-detail-account-student",9),e.NdJ("reInitComponentEvent",function(){return N.reInitOtherComponent()}),e.qZA(),e.TgZ(14,"div",10)(15,"div",11),e._UZ(16,"azt-student-profile-list-exams",12,13),e.qZA(),e.TgZ(18,"div",14),e._UZ(19,"azt-student-profile-list-homeworks",12,15),e.qZA()(),e.YNc(21,vn,5,6,"div",16),e.YNc(22,cn,5,4,"div",16),e.YNc(23,kn,5,4,"div",16),e.TgZ(24,"div",17)(25,"p",18),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"azt-detail-by-subject-student",19),e.NdJ("reInitComponentEvent",function(){return N.reInitOtherComponent()}),e.qZA()()()()),2&f&&(e.xp6(3),e.hij(" ",e.lcZ(4,29,"lang_student_classroom_profile_student")," "),e.xp6(4),e.Q6J("formControl",N.select),e.xp6(1),e.Q6J("value","")("disabled",!0),e.xp6(1),e.hij(" ---",e.lcZ(10,31,"lang_auto_chon_lop"),"--- "),e.xp6(2),e.Q6J("ngForOf",N.classroomList),e.xp6(2),e.Q6J("studentId",N.studentId)("classroomList",N.classroomList)("classroomId",N.classroomId)("backToLink",N.backToLink)("paramBackToLink",N.paramBackToLink)("isTeacher",N.isTeacherDashboard),e.xp6(3),e.Q6J("studentId",N.studentId)("isTeacher",N.isTeacherDashboard)("classroomId",N.classroomId)("backToLink",N.backToLink),e.xp6(2),e.Q6J("ngStyle",e.VKq(35,wn,N.isMobileWebView?"200px":"0")),e.xp6(1),e.Q6J("studentId",N.studentId)("isTeacher",N.isTeacherDashboard)("classroomId",N.classroomId)("backToLink",N.backToLink),e.xp6(2),e.Q6J("ngIf",N.isBusinessDomain),e.xp6(1),e.Q6J("ngIf",N.isBusinessDomain),e.xp6(1),e.Q6J("ngIf",N.isBusinessDomain),e.xp6(3),e.Oqu(e.lcZ(27,33,"lang_student_academic_results_report")),e.xp6(2),e.Q6J("studentId",N.studentId)("classroomId",N.classroomId)("backToLink",N.backToLink)("paramBackToLink",N.paramBackToLink))},dependencies:[i.sg,i.O5,i.PC,Rt.ey,re.KE,Zt.gD,rt.JJ,rt.oH,nn,ye,Ie,Be,De,Re,_t,it.JV],encapsulation:2}),k})()},30292:(xe,Ut,g)=>{g.d(Ut,{ft:()=>hi,Bi:()=>fs,Yy:()=>xs});var rt=g(42495),n=g(65879),e=g(69594);class c extends Error{}class C extends c{constructor(s){super(`Invalid DateTime: ${s.toMessage()}`)}}class t extends c{constructor(s){super(`Invalid Duration: ${s.toMessage()}`)}}class yt extends c{constructor(s){super(`Invalid Interval: ${s.toMessage()}`)}}class $ extends c{constructor(s){super(`Invalid unit ${s}`),Object.setPrototypeOf(this,$.prototype)}}class i extends c{constructor(s){super(`${s} is an invalid or unknown zone specifier`),Object.setPrototypeOf(this,i.prototype)}}class St extends c{constructor(s){super(s),Object.setPrototypeOf(this,St.prototype)}}class bt extends c{constructor(s){super(s),Object.setPrototypeOf(this,bt.prototype)}}class Lt extends c{constructor(){super("Zone is an abstract class"),Object.setPrototypeOf(this,Lt.prototype)}}class it{get type(){throw new Lt}get ianaName(){return this.name}get name(){throw new Lt}get isUniversal(){throw new Lt}offsetName(s,a){throw new Lt}formatOffset(s,a){throw new Lt}offset(s){throw new Lt}equals(s){throw new Lt}get isValid(){throw new Lt}}var X=Intl;let at={};const vt={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Nt={};class et extends it{static create(s){return Nt[s]||(Nt[s]=new et(s)),Nt[s]}static resetCache(){Nt={},at={}}static isValidSpecifier(s){return this.isValidZone(s)}static isValidZone(s){if(!s)return!1;try{return new X.DateTimeFormat("en-US",{timeZone:s}).format(),!0}catch{return!1}}constructor(s){super(),this._zoneName=s,this._valid=et.isValidZone(s)}get type(){return"iana"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(s,{format:a,locale:l}={}){return f(s,a,l,this.name)}formatOffset(s,a){return te(this.offset(s),a)}offset(s){const a=new Date(s);if(isNaN(+a))return NaN;const l=function(jt){if(!at[jt])try{at[jt]=new X.DateTimeFormat("en-US",{hour12:!1,timeZone:jt,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})}catch{throw new i(jt)}return at[jt]}(this.name);let u;const[h,y,M,L,V,ct,nt]=typeof l.formatToParts==typeof isNaN?function(jt,Qt){const $t=jt.formatToParts(Qt),ne=[];for(let oe=0;oe<$t.length;oe++){const{type:Ht,value:ie}=$t[oe],gn=vt[Ht];"era"===Ht?ne[gn]=ie:ge(gn)||(ne[gn]=parseInt(ie,10))}return ne}(l,a):function(jt,Qt){const $t=jt.format(Qt).replace(/\u200E/g,""),ne=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec($t),[,oe,Ht,ie,gn,Qn,No,fi]=ne;return[ie,oe,Ht,gn,Qn,No,fi]}(l,a);"BC"===L&&(u=1-Math.abs(+h));let gt=+a;const dt=gt%1e3;return gt-=dt>=0?dt:1e3+dt,(wn({year:u||+h,month:+y,day:+M,hour:+(24===V?0:V),minute:+ct,second:+nt,millisecond:0})-gt)/6e4}equals(s){return"iana"===s.type&&s.name===this.name}get isValid(){return this._valid}}const F="numeric",E="short",pt="long",tt={year:F,month:F,day:F},ut={year:F,month:E,day:F},ft={year:F,month:E,day:F,weekday:E},_t={year:F,month:pt,day:F},Ft={year:F,month:pt,day:F,weekday:pt},Bt={hour:F,minute:F},Rt={hour:F,minute:F,second:F},re={hour:F,minute:F,second:F,timeZoneName:E},Zt={hour:F,minute:F,second:F,timeZoneName:pt},kt={hour:F,minute:F,hourCycle:"h23"},K={hour:F,minute:F,second:F,hourCycle:"h23"},P={hour:F,minute:F,second:F,hourCycle:"h23",timeZoneName:E},ht={hour:F,minute:F,second:F,hourCycle:"h23",timeZoneName:pt},xt={year:F,month:F,day:F,hour:F,minute:F},Ct={year:F,month:F,day:F,hour:F,minute:F,second:F},Dt={year:F,month:E,day:F,hour:F,minute:F},ee={year:F,month:E,day:F,hour:F,minute:F,second:F},ue={year:F,month:E,day:F,weekday:E,hour:F,minute:F},pe={year:F,month:pt,day:F,hour:F,minute:F,timeZoneName:E},ae={year:F,month:pt,day:F,hour:F,minute:F,second:F,timeZoneName:E},Pe={year:F,month:pt,day:F,weekday:pt,hour:F,minute:F,timeZoneName:pt},ze={year:F,month:pt,day:F,weekday:pt,hour:F,minute:F,second:F,timeZoneName:pt},Ke=["January","February","March","April","May","June","July","August","September","October","November","December"],Ue=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],We=["J","F","M","A","M","J","J","A","S","O","N","D"];function Fe(m){switch(m){case"narrow":return[...We];case"short":return[...Ue];case"long":return[...Ke];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"]}}const de=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Je=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Xe=["M","T","W","T","F","S","S"];function qe(m){switch(m){case"narrow":return[...Xe];case"short":return[...Je];case"long":return[...de];case"numeric":return["1","2","3","4","5","6","7"]}}const Qe=["AM","PM"],tn=["Before Christ","Anno Domini"],en=["BC","AD"],nn=["B","A"];function Ye(m){switch(m){case"narrow":return[...nn];case"short":return[...en];case"long":return[...tn]}}let Te={},ye={};function ke(m,s={}){const a=JSON.stringify([m,s]);let l=ye[a];return l||(l=new X.DateTimeFormat(m,s),ye[a]=l),l}let Se,Ne={},ve={};function Ie(m,s,a,l){return"en"===m.listingMode()?a(s):l(s)}class be{constructor(s,a,l){const{padTo:u,floor:h}=l,y=function(M,L){var V={};for(var ct in M)Object.prototype.hasOwnProperty.call(M,ct)&&L.indexOf(ct)<0&&(V[ct]=M[ct]);if(null!=M&&"function"==typeof Object.getOwnPropertySymbols){var nt=0;for(ct=Object.getOwnPropertySymbols(M);nt<ct.length;nt++)L.indexOf(ct[nt])<0&&Object.prototype.propertyIsEnumerable.call(M,ct[nt])&&(V[ct[nt]]=M[ct[nt]])}return V}(l,["padTo","floor"]);if(this._padTo=u||0,this._floor=h||!1,!a||Object.keys(y).length>0){const M=Object.assign({useGrouping:!1},l);this._padTo>0&&(M.minimumIntegerDigits=u),this._inf=function(L,V){const ct=JSON.stringify([L,V]);let nt=Ne[ct];return nt||(nt=new X.NumberFormat(L,V),Ne[ct]=nt),nt}(s,M)}}format(s){if(this._inf){const a=this._floor?Math.floor(s):s;return this._inf.format(a)}return Xt(this._floor?Math.floor(s):sn(s,3),this._padTo)}}class we{get dtf(){return this._dtf}constructor(s,a,l){let u;if(this._opts=l,this._opts.timeZone)this._dt=s;else if("fixed"===s.zone.type){const y=s.offset/60*-1,M=y>=0?`Etc/GMT+${y}`:`Etc/GMT${y}`;0!==s.offset&&et.create(M).isValid?(u=M,this._dt=s):(u="UTC",this._dt=0===s.offset?s:s.setZone("UTC").plus({minutes:s.offset}),this._originalZone=s.zone)}else"system"===s.zone.type?this._dt=s:"iana"===s.zone.type?(this._dt=s,u=s.zone.name):(u="UTC",this._dt=s.setZone("UTC").plus({minutes:s.offset}),this._originalZone=s.zone);const h=Object.assign(Object.assign({},this._opts),{timeZone:this._opts.timeZone||u});this._dtf=ke(a,h)}format(){return this._originalZone?this.formatToParts().map(({value:s})=>s).join(""):this.dtf.format(this._dt.toJSDate())}formatToParts(){const s=this.dtf.formatToParts(this._dt.toJSDate());return this._originalZone?s.map(a=>{if("timeZoneName"===a.type){const l=this._originalZone.offsetName(this._dt.ts,{locale:this._dt.locale,format:this._opts.timeZoneName});return Object.assign(Object.assign({},a),{value:l})}return a}):s}resolvedOptions(){return this._dtf.resolvedOptions()}}class on{constructor(s,a,l){this._opts=Object.assign({style:"long"},l),!a&&Bn()&&(this._rtf=function(u,h={}){const y=JSON.stringify([u,h]);let M=ve[y];return M||(M=new X.RelativeTimeFormat(u,h),ve[y]=M),M}(s,l))}format(s,a){return this._rtf?this._rtf.format(s,a):function(l,u,h="always",y=!1){const M=Tt.normalizeUnit(l),L={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."],milliseconds:[]}[M],V=-1===["hours","minutes","seconds"].indexOf(M);if("auto"===h&&V){const jt="days"===M;switch(u){case 1:return jt?"tomorrow":`next ${L[0]}`;case-1:return jt?"yesterday":`last ${L[0]}`;case 0:return jt?"today":`this ${L[0]}`}}const ct=Object.is(u,-0)||u<0,nt=Math.abs(u),gt=1===nt,dt=y?gt?L[1]:L[2]||L[1]:gt?L[0]:M;return ct?`${nt} ${dt} ago`:`in ${nt} ${dt}`}(a,s,this._opts.numeric,"long"!==this._opts.style)}formatToParts(s,a){return this._rtf?this._rtf.formatToParts(s,a):[]}}let Jt=(()=>{class m{get fastNumbers(){return void 0===this._fastNumbersCached&&(this._fastNumbersCached=this._supportsFastNumbers()),this._fastNumbersCached}constructor(a,l,u,h,y){const[M,L,V]=function(ct){const nt=ct.indexOf("-x-");-1!==nt&&(ct=ct.substring(0,nt));const gt=ct.indexOf("-u-");if(-1===gt)return[ct];{let dt,jt;try{dt=ke(ct).resolvedOptions(),jt=ct}catch{const oe=ct.substring(0,gt);dt=ke(oe).resolvedOptions(),jt=oe}const{numberingSystem:Qt,calendar:$t}=dt;return[jt,Qt,$t]}}(a);var ct,nt,gt;this.locale=M,this.numberingSystem=l||L,this.outputCalendar=u||V,this._intl=(ct=this.locale,nt=this.numberingSystem,((gt=this.outputCalendar)||nt)&&(ct.includes("-u-")||(ct+="-u"),gt&&(ct+=`-ca-${gt}`),nt&&(ct+=`-nu-${nt}`)),ct),this._weekSettings=h,this._weekdaysCache={format:{},standalone:{}},this._monthsCache={format:{},standalone:{}},this._meridiemCache=void 0,this._eraCache={},this._specifiedLocale=y,this._fastNumbersCached=void 0}static create(a,l,u,h,y=!1){const M=a||R.defaultLocale,L=M||(y?"en-US":(Se||(Se=(new X.DateTimeFormat).resolvedOptions().locale),Se)),V=l||R.defaultNumberingSystem,ct=u||R.defaultOutputCalendar,nt=Dn(h)||R.defaultWeekSettings;return new m(L,V,ct,nt,M)}static fromObject({locale:a,numberingSystem:l,outputCalendar:u,weekSettings:h}={}){return m.create(a,l,u,h)}static fromOpts(a){return m.create(a.locale,a.numberingSystem,a.outputCalendar,a.weekSettings,a.defaultToEN)}static resetCache(){Se=void 0,Te={},ye={},Ne={},ve={}}clone(a){return a&&0!==Object.getOwnPropertyNames(a).length?m.create(a.locale||this._specifiedLocale,a.numberingSystem||this.numberingSystem,a.outputCalendar||this.outputCalendar,Dn(a.weekSettings)||this._weekSettings,a.defaultToEN||!1):this}dtFormatter(a,l={}){return new we(a,this._intl,l)}equals(a){return this.locale===a.locale&&this.numberingSystem===a.numberingSystem&&this.outputCalendar===a.outputCalendar}eras(a){return Ie(this,a,Ye,l=>{const u={era:l};return this._eraCache[l]||(this._eraCache[l]=[st.utc(-40,1,1),st.utc(2017,1,1)].map(h=>this.extract(h,u,"era"))),this._eraCache[l]})}extract(a,l,u){const h=this.dtFormatter(a,l).formatToParts().find(y=>y.type.toLowerCase()===u.toLowerCase());if(!h)throw new Error(`Invalid extract field ${u}`);return h.value}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getStartOfWeek(){return this.getWeekSettings().firstDay}getWeekSettings(){return this._weekSettings?this._weekSettings:Hn()?this._getCachedWeekInfo(this.locale):bn}getWeekendDays(){return this.getWeekSettings().weekend}isEnglish(){return!!~["en","en-us"].indexOf(this.locale.toLowerCase())||new X.DateTimeFormat(this._intl).resolvedOptions().locale.startsWith("en-us")}listFormatter(a={}){return function(l,u={}){const h=JSON.stringify([l,u]);let y=Te[h];return y||(y=new X.ListFormat(l,u),Te[h]=y),y}(this._intl,a)}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}meridiems(){return Ie(this,"long",()=>Qe,()=>(void 0===this._meridiemCache&&(this._meridiemCache=[st.utc(2016,11,13,9),st.utc(2016,11,13,19)].map(a=>this.extract(a,{hour:"numeric",hourCycle:"h12"},"dayPeriod"))),this._meridiemCache))}months(a,l=!1){return Ie(this,a,Fe,u=>{const h=l?{month:u,day:"numeric"}:{month:u},y=l?"format":"standalone";return this._monthsCache[y][u]||(this._monthsCache[y][u]=function(M){const L=[];for(let V=1;V<=12;V++){const ct=st.utc(2009,V,1);L.push(M(ct))}return L}(M=>this.extract(M,h,"month"))),this._monthsCache[y][u]})}numberFormatter(a={}){return new be(this._intl,this.fastNumbers,a)}redefaultToEN(a={}){return this.clone(Object.assign(Object.assign({},a),{defaultToEN:!0}))}redefaultToSystem(a={}){return this.clone(Object.assign(Object.assign({},a),{defaultToEN:!1}))}relFormatter(a={}){return new on(this._intl,this.isEnglish(),a)}weekdays(a,l=!1){return Ie(this,a,qe,u=>{const h=l?{weekday:u,year:"numeric",month:"long",day:"numeric"}:{weekday:u},y=l?"format":"standalone";return this._weekdaysCache[y][u]||(this._weekdaysCache[y][u]=function(M){const L=[];for(let V=1;V<=7;V++){const ct=st.utc(2016,11,13+V);L.push(M(ct))}return L}(M=>this.extract(M,h,"weekday"))),this._weekdaysCache[y][u]})}_getCachedWeekInfo(a){let l=m._weekInfoCache[a];if(!l){const u=new X.Locale(a);l="getWeekInfo"in u?u.getWeekInfo():u.weekInfo,m._weekInfoCache[a]=l}return l}_supportsFastNumbers(){return(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===X.DateTimeFormat(this._intl).resolvedOptions().numberingSystem)}}return m._weekInfoCache={},m})(),je=null;class Wt extends it{static get utcInstance(){return null===je&&(je=new Wt(0)),je}get isValid(){return!0}get ianaName(){return 0===this._fixed?"Etc/UTC":`Etc/GMT${te(-this._fixed,"narrow")}`}get name(){return 0===this._fixed?"UTC":`UTC${te(this._fixed,"narrow")}`}get type(){return"fixed"}get isUniversal(){return!0}constructor(s){super(),this._fixed=s}static instance(s){return 0===s?Wt.utcInstance:new Wt(s)}static parseSpecifier(s){if(s){const a=s.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(a)return new Wt(N(a[1],a[2]))}return null}offsetName(){return this.name}formatOffset(s,a){return te(this._fixed,a)}offset(){return this._fixed}equals(s){return"fixed"===s.type&&s._fixed===this._fixed}}class U extends it{constructor(s){super(),this._zoneName=s,Object.setPrototypeOf(this,U.prototype)}get type(){return"invalid"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let Ot=null;class j extends it{static get instance(){return null===Ot&&(Ot=new j),Ot}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(s,{format:a,locale:l}){return f(s,a,l)}formatOffset(s,a){return te(this.offset(s),a)}offset(s){return-new Date(s).getTimezoneOffset()}equals(s){return"system"===s.type}get isValid(){return!0}}const b=(m,s)=>{if(ge(m)||null===m)return s;if(m instanceof it)return m;if("string"==typeof m){const a=m.toLowerCase();return"default"===a?s:"local"===a||"system"===a?j.instance:"utc"===a||"gmt"===a?Wt.utcInstance:Wt.parseSpecifier(a)||et.create(m)}return De(m)?Wt.instance(m):"object"==typeof m&&"offset"in m&&"function"==typeof m.offset?m:new U(m)};let G,w,q,Q,wt=()=>Date.now(),Et="system",se=60,I=!1;class R{static set defaultLocale(s){G=s}static get defaultLocale(){return G}static set defaultNumberingSystem(s){w=s}static get defaultNumberingSystem(){return w}static set defaultOutputCalendar(s){q=s}static get defaultOutputCalendar(){return q}static set defaultWeekSettings(s){Q=Dn(s)}static get defaultWeekSettings(){return Q}static set defaultZone(s){Et=s}static get defaultZone(){return b(Et,j.instance)}static set defaultZoneLike(s){Et=s}static set now(s){wt=s}static get now(){return wt}static set throwOnInvalid(s){I=s}static get throwOnInvalid(){return I}static set twoDigitCutoffYear(s){se=s%100}static get twoDigitCutoffYear(){return se}static resetCaches(){Jt.resetCache(),et.resetCache()}}class Z{constructor(s,a){this.reason=s,this.explanation=a,this._formattedExplanation="",a&&(this._formattedExplanation=`: ${a}`)}toMessage(){return`${this.reason}${this._formattedExplanation}`}}const S=[0,31,59,90,120,151,181,212,243,273,304,334],H=[0,31,60,91,121,152,182,213,244,274,305,335];function Mt(m,s){return new Z("unit out of range",`you specified ${s} (of type ${typeof s}) as a ${m}, which is invalid`)}function le(m,s,a){return a+(vn(m)?H:S)[s-1]}function hn(m,s){const a=vn(m)?H:S,l=a.findIndex(u=>u<s);return{month:l+1,day:s-a[l]}}function Le(m,s,a){const l=new Date(Date.UTC(m,s-1,a));m<100&&m>=0&&l.setUTCFullYear(l.getUTCFullYear()-1900);const u=l.getUTCDay();return 0===u?7:u}function fn(m,s=bn.minimalDays,a=bn.firstDay){const{year:l,month:u,day:h}=m,y=le(l,u,h),M=Be(Le(l,u,h),a);let L,V=Math.floor((y-M+14-s)/7);return V<1?(L=l-1,V=k(L,s,a)):V>k(l,s,a)?(L=l+1,V=1):L=l,Object.assign({weekYear:L,weekNumber:V,weekday:M},En(m))}function Yn(m,s=bn.minimalDays,a=bn.firstDay){const{weekYear:l,weekNumber:u,weekday:h}=m,y=Be(Le(l,1,s),a),M=cn(l);let L,V=7*u+h-y-7+s;V<1?(L=l-1,V+=cn(L)):V>M?(L=l+1,V-=cn(l)):L=l;const{month:ct,day:nt}=hn(L,V);return Object.assign({year:L,month:ct,day:nt},En(m))}function Nn(m){const{year:s,month:a,day:l}=m,u=le(s,a,l);return Object.assign({year:s,ordinal:u},En(m))}function jn(m){const{year:s,ordinal:a}=m,{month:l,day:u}=hn(s,a);return Object.assign({year:s,month:l,day:u},En(m))}function Me(m){const s=He(m.year),a=Oe(m.month,1,12),l=Oe(m.day,1,kn(m.year,m.month));return s?a?!l&&Mt("day",m.day):Mt("month",m.month):Mt("year",m.year)}function xn(m){const{hour:s,minute:a,second:l,millisecond:u}=m,h=Oe(s,0,23)||24===s&&0===a&&0===l&&0===u,y=Oe(a,0,59),M=Oe(l,0,59),L=Oe(u,0,999);return h?y?M?!L&&Mt("millisecond",u):Mt("second",l):Mt("minute",a):Mt("hour",s)}function Be(m,s){return(m-s+7)%7+1}function Ln(m,s){if(Yt(m.localWeekday)||Yt(m.localWeekNumber)||Yt(m.localWeekYear)){if(Yt(m.weekday)||Yt(m.weekNumber)||Yt(m.weekYear))throw new St("Cannot mix locale-based week fields with ISO-based week fields");return Yt(m.localWeekday)&&(m.weekday=m.localWeekday),Yt(m.localWeekNumber)&&(m.weekNumber=m.localWeekNumber),Yt(m.localWeekYear)&&(m.weekYear=m.localWeekYear),delete m.localWeekday,delete m.localWeekNumber,delete m.localWeekYear,{minDaysInFirstWeek:s.getMinDaysInFirstWeek(),startOfWeek:s.getStartOfWeek()}}return{minDaysInFirstWeek:bn.minimalDays,startOfWeek:bn.firstDay}}function Yt(m){return void 0!==m}function ge(m){return void 0===m}function De(m){return"number"==typeof m}function He(m){return De(m)&&m%1==0}function Bn(){try{return void 0!==X&&!!X.RelativeTimeFormat}catch{return!1}}function Hn(){try{return void 0!==X&&!!X.Locale&&("weekInfo"in X.Locale.prototype||"getWeekInfo"in X.Locale.prototype)}catch{return!1}}function Gn(m,s,a){if(0!==m.length)return m.reduce((l,u)=>{const h=[s(u),u];return a(l[0],h[0])===l[0]?l:h},[s(m[0]),m[0]])[1]}function Dn(m){if(m){if("object"!=typeof m)throw new bt("Week settings must be an object");if(!Oe(m.firstDay,1,7)||!Oe(m.minimalDays,1,7)||!Array.isArray(m.weekend)||m.weekend.some(s=>!Oe(s,1,7)))throw new bt("Invalid week settings");return{firstDay:m.firstDay,minimalDays:m.minimalDays,weekend:m.weekend}}}function Oe(m,s,a){return He(m)&&m>=s&&m<=a}function Xt(m,s=2){const a=+m<0?"-":"",l=a?-1*+m:m;let u;return u=l.toString().length<s?("0".repeat(s)+l).slice(-s):l.toString(),`${a}${u}`}function Ge(m){if(m)return parseInt(m,10)}function an(m){if(m)return parseFloat(m)}function Re(m){if(!ge(m)&&null!==m&&""!==m){const s=1e3*parseFloat("0."+m);return Math.floor(s)}}function sn(m,s,a=!1){const l=Math.pow(10,s);return(a?Math.trunc:Math.round)(m*l)/l}function vn(m){return m%4==0&&(m%100!=0||m%400==0)}function cn(m){return vn(m)?366:365}function kn(m,s){const a=(l=s-1)-12*Math.floor(l/12)+1;var l;return[31,vn(m+(s-a)/12)?29:28,31,30,31,30,31,31,30,31,30,31][a-1]}function wn(m){let s=Date.UTC(m.year,m.month-1,m.day,m.hour,m.minute,m.second,m.millisecond);return m.year<100&&m.year>=0&&(s=new Date(s),s.setUTCFullYear(m.year,m.month-1,m.day)),+s}function Rn(m,s,a){return-Be(Le(m,1,s),a)+s-1}function k(m,s=4,a=1){const l=Rn(m,s,a),u=Rn(m+1,s,a);return(cn(m)-l+u)/7}function Y(m){return m>99?m:m>R.twoDigitCutoffYear?1900+m:2e3+m}function f(m,s,a,l){const u=new Date(m),y=Object.assign({timeZoneName:s},{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:l}),M=new X.DateTimeFormat(a,y).formatToParts(u).find(L=>"timezonename"===L.type.toLowerCase());return M?M.value:null}function N(m,s){let a=parseInt(m,10);Number.isNaN(a)&&(a=0);const l=parseInt(s,10)||0;return 60*a+(a<0||Object.is(a,-0)?-l:l)}function W(m){const s=Number(m);if("boolean"==typeof m||""===m||Number.isNaN(s))throw new bt(`Invalid unit value ${m}`);return s}function zt(m,s){return Object.keys(m).reduce((a,l)=>(null!=m[l]&&(a[s(l)]=W(m[l])),a),{})}function te(m,s){const a=Math.trunc(Math.abs(m/60)),l=Math.trunc(Math.abs(m%60)),u=m>=0?"+":"-";switch(s){case"short":return`${u}${Xt(a,2)}:${Xt(l,2)}`;case"narrow":return`${u}${a}${l>0?`:${l}`:""}`;case"techie":return`${u}${Xt(a,2)}${Xt(l,2)}`;default:throw new RangeError(`Value format ${s} is out of range for property format`)}}function En(m){return s=m,["hour","minute","second","millisecond"].reduce((l,u)=>(l[u]=s[u],l),{});var s}const Ve=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Wn=Ve.slice(0).reverse(),po=["years","months","days","hours","minutes","seconds","milliseconds"],Do={year:"year",years:"year",quarter:"quarter",quarters:"quarter",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",localweeknumber:"localWeekNumber",localweeknumbers:"localWeekNumber",localweekday:"localWeekday",localweekdays:"localWeekday",localweekyear:"localWeekYear",localweekyears:"localWeekYear",minute:"minute",minutes:"minute",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"},bn={firstDay:1,minimalDays:4,weekend:[6,7]};function go(m,s){let a="";for(const l of m)a+=l.literal?l.val:s(l.val);return a}const Vn={D:tt,DD:ut,DDD:_t,DDDD:Ft,t:Bt,tt:Rt,ttt:re,tttt:Zt,T:kt,TT:K,TTT:P,TTTT:ht,f:xt,ff:Dt,fff:pe,ffff:Pe,F:Ct,FF:ee,FFF:ae,FFFF:ze};class he{constructor(s,a){this._opts=a,this._loc=s,this._systemLoc=void 0}static create(s,a={}){return new he(s,a)}static macroTokenToFormatOpts(s){return Vn[s]}static parseFormat(s){let a=null,l="",u=!1;const h=[];for(let y=0;y<s.length;y++){const M=s.charAt(y);"'"===M?(l.length>0&&h.push({literal:u||/^\s+$/.test(l),val:l}),a=null,l="",u=!u):u||M===a?l+=M:(l.length>0&&h.push({literal:/^\s+$/.test(l),val:l}),l=M,a=M)}return l.length>0&&h.push({literal:u||/^\s+$/.test(l),val:l}),h}dtFormatter(s,a={}){return this._loc.dtFormatter(s,Object.assign(Object.assign({},this._opts),a))}formatDateTime(s,a){return this.dtFormatter(s,a).format()}formatDateTimeFromString(s,a){const l="en"===this._loc.listingMode(),u=this._loc.outputCalendar&&"gregory"!==this._loc.outputCalendar,h=(gt,dt)=>this._loc.extract(s,gt,dt),y=gt=>s.isOffsetFixed&&0===s.offset&&gt.allowZ?"Z":s.isValid?s.zone.formatOffset(s.ts,gt.format):"",L=(gt,dt)=>{return l?(jt=s,Fe(gt)[jt.month-1]):h(dt?{month:gt}:{month:gt,day:"numeric"},"month");var jt},V=(gt,dt)=>{return l?(jt=s,qe(gt)[jt.weekday-1]):h(dt?{weekday:gt}:{weekday:gt,month:"long",day:"numeric"},"weekday");var jt},ct=gt=>{const dt=he.macroTokenToFormatOpts(gt);return dt?this.formatWithSystemDefault(s,dt):gt},nt=gt=>{return l?(dt=s,Ye(gt)[dt.year<0?0:1]):h({era:gt},"era");var dt};return go(he.parseFormat(a),gt=>{switch(gt){case"S":return this.num(s.millisecond);case"u":case"SSS":return this.num(s.millisecond,3);case"s":return this.num(s.second);case"ss":return this.num(s.second,2);case"uu":return this.num(Math.floor(s.millisecond/10),2);case"uuu":return this.num(Math.floor(s.millisecond/100));case"m":return this.num(s.minute);case"mm":return this.num(s.minute,2);case"h":return this.num(s.hour%12==0?12:s.hour%12);case"hh":return this.num(s.hour%12==0?12:s.hour%12,2);case"H":return this.num(s.hour);case"HH":return this.num(s.hour,2);case"Z":return y({format:"narrow",allowZ:this._opts.allowZ});case"ZZ":return y({format:"short",allowZ:this._opts.allowZ});case"ZZZ":return y({format:"techie",allowZ:this._opts.allowZ});case"ZZZZ":return s.zone.offsetName(s.ts,{format:"short",locale:this._loc.locale})||"";case"ZZZZZ":return s.zone.offsetName(s.ts,{format:"long",locale:this._loc.locale})||"";case"z":return s.zoneName||"";case"a":return l?Qe[s.hour<12?0:1]:h({hour:"numeric",hourCycle:"h12"},"dayPeriod");case"d":return u?h({day:"numeric"},"day"):this.num(s.day);case"dd":return u?h({day:"2-digit"},"day"):this.num(s.day,2);case"c":case"E":return this.num(s.weekday);case"ccc":return V("short",!0);case"cccc":return V("long",!0);case"ccccc":return V("narrow",!0);case"EEE":return V("short",!1);case"EEEE":return V("long",!1);case"EEEEE":return V("narrow",!1);case"L":return u?h({month:"numeric",day:"numeric"},"month"):this.num(s.month);case"LL":return u?h({month:"2-digit",day:"numeric"},"month"):this.num(s.month,2);case"LLL":return L("short",!0);case"LLLL":return L("long",!0);case"LLLLL":return L("narrow",!0);case"M":return u?h({month:"numeric"},"month"):this.num(s.month);case"MM":return u?h({month:"2-digit"},"month"):this.num(s.month,2);case"MMM":return L("short",!1);case"MMMM":return L("long",!1);case"MMMMM":return L("narrow",!1);case"y":return u?h({year:"numeric"},"year"):this.num(s.year);case"yy":return u?h({year:"2-digit"},"year"):this.num(parseInt(s.year.toString().slice(-2),10),2);case"yyyy":return u?h({year:"numeric"},"year"):this.num(s.year,4);case"yyyyyy":return u?h({year:"numeric"},"year"):this.num(s.year,6);case"G":return nt("short");case"GG":return nt("long");case"GGGGG":return nt("narrow");case"kk":return this.num(parseInt(s.weekYear.toString().slice(-2),10),2);case"kkkk":return this.num(s.weekYear,4);case"W":return this.num(s.weekNumber);case"WW":return this.num(s.weekNumber,2);case"o":return this.num(s.ordinal);case"ooo":return this.num(s.ordinal,3);case"q":return this.num(s.quarter);case"qq":return this.num(s.quarter,2);case"X":return this.num(Math.floor(s.ts/1e3));case"x":return this.num(s.ts);default:return ct(gt)}})}formatDateTimeParts(s,a){return this.dtFormatter(s,a).formatToParts()}formatDurationFromString(s,a){const l=y=>{switch(y[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"M":return"months";case"y":return"years";default:return}},u=he.parseFormat(a),h=u.reduce((y,{literal:M,val:L})=>M?y:y.concat(L),[]);return go(u,(y=>M=>{const L=l(M);return L?this.num(y.get(L),M.length):M})(s.shiftTo(...h.map(l).filter(y=>!!y))))}formatInterval(s,a={}){if(!s.isValid)throw Error("Invalid Interval provided!");return this.dtFormatter(s.start,a).dtf.formatRange(s.start.toJSDate(),s.end.toJSDate())}formatWithSystemDefault(s,a){return void 0===this._systemLoc&&(this._systemLoc=this._loc.redefaultToSystem()),this._systemLoc.dtFormatter(s,Object.assign(Object.assign({},this._opts),a)).format()}num(s,a=0){if(this._opts.forceSimple)return Xt(s,a);const l=Object.assign({},this._opts);return a>0&&(l.padTo=a),this._loc.numberFormatter(l).format(s)}resolvedOptions(s,a={}){return this.dtFormatter(s,a).resolvedOptions()}}function On(...m){const s=m.reduce((a,l)=>a+l.source,"");return RegExp(`^${s}$`)}function yn(...m){return s=>m.reduce(([a,l,u],h)=>{const[y,M,L]=h(s,u);return[Object.assign(Object.assign({},a),y),M||l,L]},[{},null,1]).slice(0,2)}function Zn(m,...s){if(null==m)return[null,null];for(const[a,l]of s){const u=a.exec(m);if(u)return l(u)}return[null,null]}function ho(...m){return(s,a)=>{const l={};let u;for(u=0;u<m.length;u++)l[m[u]]=Ge(s[a+u]);return[l,null,a+u]}}const fo=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,Xn=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,to=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,_n=RegExp(`${to.source}(?:${Xn.source}?(?:\\[(${fo.source})\\])?)?`),An=RegExp(`(?:T${_n.source})?`),Eo=ho("weekYear","weekNumber","weekday"),Po=ho("year","ordinal"),xo=RegExp(`${to.source} ?(?:${Xn.source}|(${fo.source}))?`),zo=RegExp(`(?: ${xo.source})?`);function Sn(m,s,a){return ge(m[s])?a:Ge(m[s])}function In(m,s){return[{hour:Sn(m,s,0),minute:Sn(m,s+1,0),second:Sn(m,s+2,0),millisecond:Re(m[s+3])},null,s+4]}function Pn(m,s){const a=!m[s]&&!m[s+1],l=N(m[s+1],m[s+2]);return[{},a?null:Wt.instance(l),s+3]}function zn(m,s){return[{},m[s]?et.create(m[s]):null,s+1]}const Uo=RegExp(`^T?${to.source}$`),Fo=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Jo(m){const[s,a,l,u,h,y,M,L,V]=m,ct=s.startsWith("-"),nt=!!L&&L.startsWith("-"),gt=(dt,jt=!1)=>"number"==typeof dt&&(jt||dt&&ct)?-dt:dt;return[{years:gt(an(a)),months:gt(an(l)),weeks:gt(an(u)),days:gt(an(h)),hours:gt(an(y)),minutes:gt(an(M)),seconds:gt(an(L),"-0"===L),milliseconds:gt(Re(V),nt)}]}const qo={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function eo(m,s,a,l,u,h,y){let M;return m&&(M=m.length>3?de.indexOf(m)+1:Je.indexOf(m)+1),{year:2===s.length?Y(Ge(s)):Ge(s),month:Ue.indexOf(a)+1,day:Ge(l),hour:Ge(u),minute:Ge(h),second:Ge(y),weekday:M}}const Qo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Yo(m){const[,s,a,l,u,h,y,M,L,V,ct,nt]=m,gt=eo(s,u,l,a,h,y,M);let dt;return dt=L?qo[L]:V?0:N(ct,nt),[gt,new Wt(dt)]}const Bo=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Ho=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Go=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function vo(m){const[,s,a,l,u,h,y,M]=m;return[eo(s,u,l,a,h,y,M),Wt.utcInstance]}function Ro(m){const[,s,a,l,u,h,y,M]=m;return[eo(s,M,a,l,u,h,y),Wt.utcInstance]}const Vo=On(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,An),$o=On(/(\d{4})-?W(\d\d)(?:-?(\d))?/,An),Ko=On(/(\d{4})-?(\d{3})/,An),Wo=On(_n),bo=yn(function(m,s){return[{year:Sn(m,s,0),month:Sn(m,s+1,1),day:Sn(m,s+2,1)},null,s+3]},In,Pn,zn),Xo=yn(Eo,In,Pn,zn),ti=yn(Po,In,Pn,zn),v=yn(In,Pn,zn),z=On(/(\d{4})-(\d\d)-(\d\d)/,zo),p=On(xo),T=yn(In,Pn,zn),A={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},D=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},A),It=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},A);function Pt(m,s){var a;let l=null!==(a=s.milliseconds)&&void 0!==a?a:0;for(const u of Wn.slice(1))s[u]&&(l+=s[u]*m[u].milliseconds);return l}class Tt{static get _INVALID(){return"Invalid Duration"}get conversionAccuracy(){return this._conversionAccuracy}get days(){return this.isValid?this._values.days||0:NaN}get hours(){return this.isValid?this._values.hours||0:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this._invalid}get locale(){return this.isValid?this._loc.locale:void 0}get matrix(){return this._matrix}get milliseconds(){return this.isValid?this._values.milliseconds||0:NaN}get minutes(){return this.isValid?this._values.minutes||0:NaN}get months(){return this.isValid?this._values.months||0:NaN}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get quarters(){return this.isValid?this._values.quarters||0:NaN}get seconds(){return this.isValid?this._values.seconds||0:NaN}get weeks(){return this.isValid?this._values.weeks||0:NaN}get years(){return this.isValid?this._values.years||0:NaN}constructor(s){let a,l;"longterm"===s.conversionAccuracy?(l="longterm",a=It):(l="casual",a=D),s.matrix&&(a=s.matrix),this._values=s.values||{},this._loc=s.loc||Jt.create(),this._conversionAccuracy=l,this._invalid=s.invalid||null,this._matrix=a,this._isLuxonDuration=!0}static fromDurationLike(s){if(De(s))return Tt.fromMillis(s);if(Tt.isDuration(s))return s;if("object"==typeof s)return Tt.fromObject(s);throw new bt(`Unknown duration argument ${s} of type ${typeof s}`)}static fromISO(s,a){const[l]=Zn(s,[Fo,Jo]);return l?Tt.fromObject(l,a):Tt.invalid("unparsable",`the input "${s}" can't be parsed as ISO 8601`)}static fromISOTime(s,a={}){const[l]=Zn(s,[Uo,yn(In)]);return l?Tt.fromObject(l,a):Tt.invalid("unparsable",`the input "${s}" can't be parsed as ISO 8601`)}static fromMillis(s,a={}){return Tt.fromObject({milliseconds:s},a)}static fromObject(s,a={}){if(null==s||"object"!=typeof s)throw new bt("Duration.fromObject: argument expected to be an object, got "+(null===s?"null":typeof s));return new Tt({values:zt(s,Tt.normalizeUnit),loc:Jt.fromObject(a),conversionAccuracy:a.conversionAccuracy,matrix:a.matrix})}static invalid(s,a){if(!s)throw new bt("need to specify a reason the Duration is invalid");const l=s instanceof Z?s:new Z(s,a);if(R.throwOnInvalid)throw new t(l);return new Tt({invalid:l})}static isDuration(s){return!!s&&s._isLuxonDuration||!1}static normalizeUnit(s){const a={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",localWeekNumber:"localWeekNumbers",localWeekYear:"localWeekYears",localWeekday:"localWeekdays",localWeekNumbers:"localWeekNumbers",localWeekYears:"localWeekYears",localWeekdays:"localWeekdays",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[s];if(!a)throw new $(s);return a}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this._values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}as(s){return this.shiftTo(s).get(s)}equals(s){if(!this.isValid||!s.isValid||!this._loc.equals(s._loc))return!1;for(const u of Ve)if(l=s._values[u],!(void 0===(a=this._values[u])||0===a?void 0===l||0===l:a===l))return!1;var a,l;return!0}get(s){return this[Tt.normalizeUnit(s)]}getMaxUnit(s=!1){const a=s?po:Ve,l=this.shiftTo(...a).toObject();return a.find(u=>(l[u]||0)>0)||Wn[0]}mapUnits(s){if(!this.isValid)return this;const a={};return Object.keys(this._values).forEach(l=>{a[l]=W(s(this._values[l],l))}),this._clone(this,{values:a},!0)}minus(s){if(!this.isValid)return this;const a=Tt.fromDurationLike(s);return this.plus(a.negate())}negate(){if(!this.isValid)return this;const s={};return Object.keys(this._values).forEach(a=>{s[a]=0===this._values[a]?0:-this._values[a]}),this._clone(this,{values:s},!0)}normalize(){if(!this.isValid)return this;const s=this.toObject();return function(a,l){const u=Pt(a,l)<0?-1:1;Wn.reduce((h,y)=>{if(ge(l[y]))return h;if(h){const L=a[y][h],V=Math.floor(l[h]*u/L);l[y]+=V*u,l[h]-=V*L*u}return y},null),Ve.reduce((h,y)=>{if(ge(l[y]))return h;if(h){const M=l[h]%1;l[h]-=M,l[y]+=M*a[h][y]}return y},null)}(this._matrix,s),this._clone(this,{values:s},!0)}plus(s){if(!this.isValid)return this;const a=Tt.fromDurationLike(s),l={};return Ve.forEach(u=>{void 0===a._values[u]&&void 0===this._values[u]||(l[u]=a.get(u)+this.get(u))}),this._clone(this,{values:l},!0)}reconfigure({locale:s,numberingSystem:a,conversionAccuracy:l,matrix:u}={}){const h={loc:this._loc.clone({locale:s,numberingSystem:a}),matrix:u,conversionAccuracy:l};return this._clone(this,h)}rescale(){if(!this.isValid)return this;const s=function(a={}){return Object.entries(a).reduce((l,[u,h])=>(0!==h&&(l[u]=h),l),{})}(this.normalize().shiftToAll().toObject());return this._clone(this,{values:s},!0)}set(s){if(!this.isValid)return this;const a=Object.assign(Object.assign({},this._values),zt(s,Tt.normalizeUnit));return this._clone(this,{values:a})}shiftTo(...s){if(!this.isValid||0===s.length)return this;s=s.map(y=>Tt.normalizeUnit(y));const a={},l={},u=this.toObject();let h;return Ve.forEach(y=>{if(s.indexOf(y)>=0){h=y;let M=0;Object.keys(l).forEach(V=>{M+=this._matrix[V][y]*l[V],l[V]=0}),De(u[y])&&(M+=u[y]);const L=Math.trunc(M);a[y]=L,l[y]=(1e3*M-1e3*L)/1e3}else De(u[y])&&(l[y]=u[y])}),Object.keys(l).forEach(y=>{const M=l[y];0!==M&&(a[h]+=y===h?M:M/this._matrix[h][y])}),this._clone(this,{values:a},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}toFormat(s,a={floor:!0}){const l=Object.assign(Object.assign({},a),{floor:!1!==a.round&&!1!==a.floor});return this.isValid?he.create(this._loc,l).formatDurationFromString(this,s):Tt._INVALID}toHuman(s={}){if(!this.isValid)return Tt._INVALID;const a=this.getMaxUnit(!0),l=s.onlyHumanUnits?po:Ve,u=this.shiftTo(...l.slice(l.indexOf(a))).toObject(),h=l.map(M=>{const L=u[M];return ge(L)||0===L?null:this._loc.numberFormatter(Object.assign(Object.assign({style:"unit",unitDisplay:"long"},s),{unit:M.slice(0,-1)})).format(L)}).filter(M=>M),y=Object.assign({type:"conjunction",style:s.listStyle||"narrow"},s);return this._loc.listFormatter(y).format(h)}toISO(){if(!this.isValid)return null;let s="P";return 0!==this.years&&(s+=this.years+"Y"),0===this.months&&0===this.quarters||(s+=this.months+3*this.quarters+"M"),0!==this.weeks&&(s+=this.weeks+"W"),0!==this.days&&(s+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(s+="T"),0!==this.hours&&(s+=this.hours+"H"),0!==this.minutes&&(s+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(s+=sn(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===s&&(s+="T0S"),s}toISOTime(s={}){if(!this.isValid)return null;const a=this.toMillis();return a<0||a>=864e5?null:(s=Object.assign(Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},s),{includeOffset:!1}),st.fromMillis(a,{zone:"UTC"}).toISOTime(s))}toJSON(){return this.toISO()}toMillis(){return this.isValid?Pt(this.matrix,this._values):NaN}toObject(){return this.isValid?Object.assign({},this._values):{}}toString(){return this.toISO()}valueOf(){return this.toMillis()}_clone(s,a,l=!1){const u={values:l?a.values:Object.assign(Object.assign({},s._values),a.values||{}),loc:s._loc.clone(a.loc),conversionAccuracy:a.conversionAccuracy||s.conversionAccuracy,matrix:a.matrix||s.matrix};return new Tt(u)}}const fe="Invalid Interval";function Ee(m){if(st.isDateTime(m))return m;if(m&&m.valueOf&&De(m.valueOf()))return st.fromJSDate(m);if(m&&"object"==typeof m)return st.fromObject(m);throw new bt(`Unknown datetime argument: ${m}, of type ${typeof m}`)}class Kt{get end(){return this.isValid?this._e:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this.invalidReason}get start(){return this.isValid?this._s:null}constructor(s){this._s=s.start,this._e=s.end,this._invalid=s.invalid||null,this._isLuxonInterval=!0}static after(s,a){const l=Tt.fromDurationLike(a),u=Ee(s);return new Kt({start:u,end:u?u.plus(l):void 0})}static before(s,a){const l=Tt.fromDurationLike(a),u=Ee(s);return new Kt({start:u?u.minus(l):void 0,end:u})}static fromDateTimes(s,a){const l=Ee(s),u=Ee(a);return M=u,((y=l)&&y.isValid?M&&M.isValid?M<y?Kt.invalid("end before start",`The end of an interval must be after its start, but you had start=${y.toISO()} and end=${M.toISO()}`):void 0:Kt.invalid("missing or invalid end"):Kt.invalid("missing or invalid start"))||new Kt({start:l,end:u});var y,M}static fromISO(s,a={}){const[l,u]=(s||"").split("/",2);if(l&&u){let h,y,M,L;try{h=st.fromISO(l,a),y=h.isValid}catch{y=!1}try{M=st.fromISO(u,a),L=M.isValid}catch{L=!1}if(y&&L)return Kt.fromDateTimes(h,M);if(y){const V=Tt.fromISO(u,a);if(V.isValid)return Kt.after(h,V)}else if(L){const V=Tt.fromISO(l,a);if(V.isValid)return Kt.before(M,V)}}return Kt.invalid("unparsable",`the input "${s}" can't be parsed as ISO 8601`)}static invalid(s,a){if(!s)throw new bt("need to specify a reason the Interval is invalid");const l=s instanceof Z?s:new Z(s,a);if(R.throwOnInvalid)throw new yt(l);return new Kt({invalid:l})}static isInterval(s){return!!s&&s._isLuxonInterval||!1}static merge(s){const[a,l]=s.sort((u,h)=>u._s.valueOf()-h._s.valueOf()).reduce(([u,h],y)=>h?h.overlaps(y)||h.abutsStart(y)?[u,h.union(y)]:[u.concat([h]),y]:[u,y],[[],null]);return l&&a.push(l),a}static xor(s){let a=null,l=0;const u=[],h=s.map(M=>[{time:M._s,type:"s"},{time:M._e,type:"e"}]),y=Array.prototype.concat(...h).sort((M,L)=>+M.time-+L.time);for(const M of y)l+="s"===M.type?1:-1,1===l?a=M.time:(a&&a.valueOf()!==M.time.valueOf()&&u.push(Kt.fromDateTimes(a,M.time)),a=null);return Kt.merge(u)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this._s.toISO()}, end: ${this._e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}abutsEnd(s){return+s._e==+this._s}abutsStart(s){return+this._e==+s._s}contains(s){return this._s<=s&&this._e>s}count(s="milliseconds",a){if(!this.isValid)return NaN;const l=this.start.startOf(s,a);let u;return u=a?.useLocaleWeeks?this.end.reconfigure({locale:l.locale}):this.end,u=u.startOf(s,a),Math.floor(u.diff(l,s).get(s))+ +(u.valueOf()!==this.end.valueOf())}difference(...s){return Kt.xor([this].concat(s)).map(a=>this.intersection(a)).filter(a=>a&&!a.isEmpty())}divideEqually(s){return this.isValid?this.splitBy({milliseconds:this.length()/s}).slice(0,s):[]}engulfs(s){return!!this.isValid&&this._s<=s._s&&this._e>=s._e}equals(s){return!(!this.isValid||!s.isValid)&&this._s.equals(s._s)&&this._e.equals(s._e)}hasSame(s){return!!this.isValid&&(this.isEmpty()||this._e.minus(1).hasSame(this._s,s))}intersection(s){if(!this.isValid)return this;const a=this._s>s._s?this._s:s._s,l=this._e<s._e?this._e:s._e;return a>=l?null:Kt.fromDateTimes(a,l)}isAfter(s){return!!this.isValid&&this._s>s}isBefore(s){return!!this.isValid&&this._e<=s}isEmpty(){return this._s.valueOf()===this._e.valueOf()}length(s="milliseconds"){return this.toDuration(s).get(s)}mapEndpoints(s){return Kt.fromDateTimes(s(this._s),s(this._e))}overlaps(s){return this._e>s._s&&this._s<s._e}set({start:s,end:a}={}){return this.isValid?Kt.fromDateTimes(s||this._s,a||this._e):this}splitAt(...s){const a=s.map(Ee).filter(y=>this.contains(y)).sort((y,M)=>y.toMillis()-M.toMillis()),l=[];let u=this._s,h=0;for(;u<this._e;){const y=a[h]||this._e,M=+y>+this._e?this._e:y;l.push(Kt.fromDateTimes(u,M)),u=M,h+=1}return l}splitBy(s){const a=Tt.fromDurationLike(s);if(!this.isValid||!a.isValid||0===a.as("milliseconds"))return[];let l,u=this._s,h=1;const y=[];for(;u<this._e;){const M=this.start.plus(a.mapUnits(L=>L*h));l=+M>+this._e?this._e:M,y.push(Kt.fromDateTimes(u,l)),u=l,h+=1}return y}toDuration(s="milliseconds",a={}){return this.isValid?this._e.diff(this._s,s,a):Tt.invalid(this._invalid.reason)}toFormat(s,{separator:a=" - "}={}){return this.isValid?`${this._s.toFormat(s)}${a}${this._e.toFormat(s)}`:fe}toISO(s={}){return this.isValid?`${this._s.toISO(s)}/${this._e.toISO(s)}`:fe}toISODate(){return this.isValid?`${this._s.toISODate()}/${this._e.toISODate()}`:fe}toISOTime(s={}){return this.isValid?`${this._s.toISOTime(s)}/${this._e.toISOTime(s)}`:fe}toLocaleString(s=tt,a={}){return this.isValid?he.create(this._s.loc.clone(a),s).formatInterval(this):fe}toString(){return this.isValid?`[${this._s.toISO()} \u2013 ${this._e.toISO()})`:fe}union(s){return this.isValid?Kt.fromDateTimes(this._s<s._s?this._s:s._s,this._e>s._e?this._e:s._e):this}}class Un{static eras(s="short",{locale:a}={}){return Jt.create(a,void 0,"gregory").eras(s)}static features(){return{relative:Bn(),localeWeek:Hn()}}static getMinimumDaysInFirstWeek({locale:s,locObj:a}={}){return(a||Jt.create(s)).getMinDaysInFirstWeek()}static getStartOfWeek({locale:s,locObj:a}={}){return(a||Jt.create(s)).getStartOfWeek()}static getWeekendWeekdays({locale:s,locObj:a}={}){return(a||Jt.create(s)).getWeekendDays().slice()}static hasDST(s=R.defaultZone){const a=st.now().setZone(s).set({month:12});return!s.isUniversal&&a.offset!==a.set({month:6}).offset}static isValidIANAZone(s){return et.isValidZone(s)}static meridiems({locale:s}={}){return Jt.create(s).meridiems()}static months(s="long",{locale:a=null,locObj:l=null,numberingSystem:u=null,outputCalendar:h="gregory"}={}){return(l||Jt.create(a,u,h)).months(s)}static monthsFormat(s="long",{locale:a,locObj:l,numberingSystem:u,outputCalendar:h="gregory"}={}){return(l||Jt.create(a,u,h)).months(s,!0)}static normalizeZone(s){return b(s,R.defaultZone)}static weekdays(s="long",{locale:a,locObj:l,numberingSystem:u}={}){return(l||Jt.create(a,u)).weekdays(s)}static weekdaysFormat(s="long",{locale:a,locObj:l,numberingSystem:u}={}){return(l||Jt.create(a,u)).weekdays(s,!0)}}function Co(m,s){const a=u=>u.toUTC(0,{keepLocalTime:!0}).startOf("days").valueOf(),l=a(s)-a(m);return Math.floor(Tt.fromMillis(l).as("days"))}const ei={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},xi={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ia=ei.hanidec.replace(/[\[|\]]/g,"").split("");function rn(m,s=""){return new RegExp(`${ei[m.numberingSystem||"latn"]}${s}`)}function mn(m,s=(a=>a)){return{regex:m,deser:([a])=>s(function(l){const u=parseInt(l,10);if(!isNaN(u))return u;let h="";for(let y=0;y<l.length;y++){const M=l.charCodeAt(y);if(-1!==l[y].search(ei.hanidec))h+=ia.indexOf(l[y]);else for(const L in xi){const[V,ct]=xi[L];if(M>=V&&M<=ct){h+=M-V;break}}}return parseInt(h,10)}(a))}}const vi=`[ ${String.fromCharCode(160)}]`,bi=new RegExp(vi,"g");function sa(m){return m.replace(/\./g,"\\.?").replace(bi,vi)}function Ci(m){return m.replace(/\./g,"").replace(bi," ").toLowerCase()}function ln(m,s){return{regex:RegExp(m.map(sa).join("|")),deser:([a])=>m.findIndex(l=>Ci(a)===Ci(l))+s}}function Ti(m,s){return{regex:m,deser:([,a,l])=>N(a,l),groups:s}}function ki(m){return{regex:m,deser:([s])=>s}}const ra={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let ni;function la(m){return!!m&&!!m.invalidReason}function wi(m,s){return Array.prototype.concat(...m.map(a=>function(l,u){if(l.literal)return l;const h=Zi(he.macroTokenToFormatOpts(l.val),u);return null==h||h.includes(void 0)?l:h}(a,s)))}function Oi(m,s,a){const l=wi(he.parseFormat(a),m),u=l.map(y=>function(M,L){const V=rn(L),ct=rn(L,"{2}"),nt=rn(L,"{3}"),gt=rn(L,"{4}"),dt=rn(L,"{6}"),jt=rn(L,"{1,2}"),Qt=rn(L,"{1,3}"),$t=rn(L,"{1,6}"),ne=rn(L,"{1,9}"),oe=rn(L,"{2,4}"),Ht=rn(L,"{4,6}"),ie=Qn=>{return{regex:RegExp((No=Qn.val,No.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([fi])=>fi,literal:!0};var No},gn=(Qn=>{if(M.literal)return ie(Qn);switch(Qn.val){case"G":return ln(L.eras("short"),0);case"GG":return ln(L.eras("long"),0);case"y":return mn($t);case"yy":case"kk":return mn(oe,Y);case"yyyy":case"kkkk":return mn(gt);case"yyyyy":return mn(Ht);case"yyyyyy":return mn(dt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return mn(jt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return mn(ct);case"MMM":return ln(L.months("short",!0),1);case"MMMM":return ln(L.months("long",!0),1);case"LLL":return ln(L.months("short",!1),1);case"LLLL":return ln(L.months("long",!1),1);case"o":case"S":return mn(Qt);case"ooo":case"SSS":return mn(nt);case"u":return ki(ne);case"a":return ln(L.meridiems(),0);case"E":case"c":return mn(V);case"EEE":return ln(L.weekdays("short",!1),1);case"EEEE":return ln(L.weekdays("long",!1),1);case"ccc":return ln(L.weekdays("short",!0),1);case"cccc":return ln(L.weekdays("long",!0),1);case"Z":case"ZZ":return Ti(new RegExp(`([+-]${jt.source})(?::(${ct.source}))?`),2);case"ZZZ":return Ti(new RegExp(`([+-]${jt.source})(${ct.source})?`),2);case"z":return ki(/[a-z_+-/]{1,256}?/i);default:return ie(Qn)}})(M)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Object.assign(Object.assign({},gn),{token:M})}(y,m)),h=u.find(la);if(h)return{input:s,tokens:l,invalidReason:h.invalidReason};{const y=`^${u.map(jt=>jt.regex).reduce((jt,Qt)=>`${jt}(${Qt.source})`,"")}$`,M=RegExp(y,"i"),[L,V]=function(dt,jt,Qt){const $t=jt.exec(dt),ne={};if(null!==$t){let oe=1;Qt.forEach(Ht=>{const ie=Ht.groups?Ht.groups+1:1;Ht.literal||(ne[Ht.token.val[0]]=Ht.deser($t.slice(oe,oe+ie))),oe+=ie})}return[$t,ne]}(s,M,u),[ct,nt,gt]=V?function(dt){let jt,Qt=null;return Yt(dt.z)&&(Qt=et.create(dt.z)),Yt(dt.Z)&&(Qt||(Qt=new Wt(+dt.Z)),jt=+dt.Z),Yt(dt.q)&&(dt.M=3*(dt.q-1)+1),Yt(dt.h)&&(+dt.h<12&&1===dt.a?dt.h=dt.h+12:12===dt.h&&0===dt.a&&(dt.h=0)),0===dt.G&&dt.y&&(dt.y=-dt.y),Yt(dt.u)&&(dt.S=Re(dt.u)||0),[Object.keys(dt).reduce(($t,ne)=>{const oe=(Ht=>{switch(Ht){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(ne);return oe&&($t[oe]=dt[ne]),$t},{}),Qt,jt]}(V):[null,null,void 0];if("a"in V&&"H"in V)throw new St("Can't include meridiem when specifying 24-hour format");return{input:s,tokens:l,regex:M,rawMatches:L,matches:V,result:ct,zone:nt,specificOffset:gt}}}function yi(m){return m.replace(/\u202F/g," ")}function Zi(m,s){if(!m)return null;const a=he.create(s,m).dtFormatter((void 0===ni&&(ni=st.fromMillis(1555555555555,{locale:s.locale})),ni)),l=a.formatToParts(),u=a.resolvedOptions();return l.map(h=>function(y,M,L){const{type:V,value:ct}=y;if("literal"===V){const jt=/^\s+$/.test(ct);return{literal:!jt,val:jt?" ":ct}}let gt=V;"hour"===V&&(gt=null!=M.hour12?M.hour12?"hour12":"hour24":null!=M.hourCycle?"h11"===M.hourCycle||"h12"===M.hourCycle?"hour12":"hour24":L.hour12?"hour12":"hour24");let dt=ra[gt];if("object"==typeof dt&&(dt=dt[M[V]]),dt)return{literal:!1,val:dt}}(h,m,u))}const oi="Invalid DateTime",Ai=864e13;function Si(m,s,a){let l=m-60*s*1e3;const u=a.offset(l);if(s===u)return[l,s];l-=60*(u-s)*1e3;const h=a.offset(l);return u===h?[l,u]:[m-60*Math.min(u,h)*1e3,Math.max(u,h)]}function To(m,s){const a=new Date(m+=60*s*1e3);return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds()}}function ko(m,s,a){return Si(wn(m),s,a)}function no(m,s,a,l,u,h){const{setZone:y,zone:M}=a;if(m&&0!==Object.keys(m).length||s){const L=s||M,V=st.fromObject(m||void 0,Object.assign(Object.assign({},a),{zone:L,specificOffset:h}));return y?V:V.setZone(M)}return st.invalid(new Z("unparsable",`the input "${u}" can't be parsed as ${l}`))}function wo(m,s,a=!0){return m.isValid?he.create(Jt.create("en-US"),{allowZ:a,forceSimple:!0}).formatDateTimeFromString(m,s):null}const Ii={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ca={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},_a={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Mi=["year","month","day","hour","minute","second","millisecond"],ma=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],da=["year","ordinal","hour","minute","second","millisecond"];function Ni(m){const s=Do[m.toLowerCase()];if(!s)throw new $(m);return s}class st{get day(){return this.isValid?this._c.day:NaN}get daysInMonth(){return kn(this.year,this.month)}get daysInYear(){return this.isValid?cn(this.year):NaN}get hour(){return this.isValid?this._c.hour:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:void 0}get invalidReason(){return this._invalid?this._invalid.reason:void 0}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return vn(this.year)}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isValid(){return null===this._invalid}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get loc(){return this.isValid?this._loc.clone():void 0}get localWeekNumber(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekYear:NaN}get localWeekday(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekday:NaN}get locale(){return this.isValid?this._loc.locale:void 0}get millisecond(){return this.isValid?this._c.millisecond:NaN}get minute(){return this.isValid?this._c.minute:NaN}get month(){return this.isValid?this._c.month:NaN}get monthLong(){return this.isValid?Un.months("long",{locObj:this._loc})[this.month-1]:null}get monthShort(){return this.isValid?Un.months("short",{locObj:this._loc})[this.month-1]:null}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get offset(){return this.isValid?+this._o:NaN}get offsetNameLong(){return this.isValid?this.zone.offsetName(this._ts,{format:"long",locale:this.locale}):null}get offsetNameShort(){return this.isValid?this.zone.offsetName(this._ts,{format:"short",locale:this.locale}):null}get ordinal(){return this.isValid?Nn(this._c).ordinal:NaN}get outputCalendar(){return this.isValid?this._loc.outputCalendar:void 0}get quarter(){return this.isValid?Math.ceil(this._c.month/3):NaN}get second(){return this.isValid?this._c.second:NaN}get ts(){return this._ts}get weekNumber(){return this.isValid?this._possiblyCachedWeekData(this).weekNumber:NaN}get weekYear(){return this.isValid?this._possiblyCachedWeekData(this).weekYear:NaN}get weekday(){return this.isValid?this._possiblyCachedWeekData(this).weekday:NaN}get weekdayLong(){return this.isValid?Un.weekdays("long",{locObj:this._loc})[this.weekday-1]:null}get weekdayShort(){return this.isValid?Un.weekdays("short",{locObj:this._loc})[this.weekday-1]:null}get weeksInLocalWeekYear(){return this.isValid?k(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}get weeksInWeekYear(){return this.isValid?k(this.weekYear):NaN}get year(){return this.isValid?this._c.year:NaN}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}constructor(s){const a=s.zone||R.defaultZone;let l,u,h=s.invalid||(Number.isNaN(s.ts)?new Z("invalid timestamp"):null)||(a.isValid?null:st._unsupportedZone(a));if(this._ts=ge(s.ts)?R.now():s.ts,!h)if(s.old&&s.old.ts===this._ts&&s.old.zone.equals(a))[u,l]=[s.old.c,s.old.o];else{const y=a.offset(this._ts);u=To(this._ts,y),h=Number.isNaN(u.year)?new Z("invalid input"):null,u=h?void 0:u,l=h?void 0:y}this._zone=a,this._loc=s.loc||Jt.create(),this._invalid=h,this._weekData=null,this._c=u,this._o=l,this._isLuxonDateTime=!0}static expandFormat(s,a={}){return wi(he.parseFormat(s),Jt.fromObject(a)).map(l=>l.val).join("")}static fromFormat(s,a,l={}){if(ge(s)||ge(a))throw new bt("fromFormat requires an input string and a format");const{locale:u,numberingSystem:h}=l,y=Jt.fromOpts({locale:u,numberingSystem:h,defaultToEN:!0}),[M,L,V,ct]=function(nt,gt,dt){const{result:jt,zone:Qt,specificOffset:$t,invalidReason:ne}=Oi(nt,yi(gt),yi(dt));return[jt,Qt,$t,ne]}(y,s,a);return ct?st.invalid(ct):no(M,L||null,l,`format ${a}`,s,V)}static fromFormatExplain(s,a,l={}){const{locale:u,numberingSystem:h}=l;return Oi(Jt.fromOpts({locale:u,numberingSystem:h,defaultToEN:!0}),s,a)}static fromHTTP(s,a={}){const[l,u]=Zn(s,[Bo,vo],[Ho,vo],[Go,Ro]);return no(l,u,a,"HTTP",s)}static fromISO(s,a={}){const[l,u]=Zn(s,[Vo,bo],[$o,Xo],[Ko,ti],[Wo,v]);return no(l,u,a,"ISO 8601",s)}static fromJSDate(s,a={}){const l="[object Date]"===Object.prototype.toString.call(s)?s.valueOf():NaN;if(Number.isNaN(l))return st.invalid("invalid input");const h=b(a.zone,R.defaultZone);return h.isValid?new st({ts:l,zone:h,loc:Jt.fromObject(a)}):st.invalid(st._unsupportedZone(h))}static fromMillis(s,a={}){if(De(s))return s<-Ai||s>Ai?st.invalid("Timestamp out of range"):new st({ts:s,zone:b(a.zone,R.defaultZone),loc:Jt.fromObject(a)});throw new bt(`fromMillis requires a numerical input, but received a ${typeof s} with value ${s}`)}static fromObject(s={},a={}){const l=b(a.zone,R.defaultZone);if(!l.isValid)return st.invalid(st._unsupportedZone(l));const u=Jt.fromObject(a),h=zt(s,Ni),y=R.now(),M=De(a.specificOffset)?a.specificOffset:l.offset(y),L=Yt(h.ordinal),V=Yt(h.year),ct=Yt(h.month)||Yt(h.day),nt=V||ct,gt=h.weekYear||h.weekNumber;if((nt||L)&&gt)throw new St("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(ct&&L)throw new St("Can't mix ordinal dates with month/day");const dt=gt||h.weekday&&!nt,{minDaysInFirstWeek:jt,startOfWeek:Qt}=Ln(h,u),$t=To(y,M),ne={containsGregor:nt,containsOrdinal:L,loc:u,normalized:h,obj:s,offsetProvis:M,useWeekData:dt,zoneToUse:l};return dt?st._buildObject(ne,ma,ca,fn($t,jt,Qt)):L?st._buildObject(ne,da,_a,Nn($t)):st._buildObject(ne,Mi,Ii,$t)}static fromRFC2822(s,a={}){const[l,u]=Zn(s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[Qo,Yo]);return no(l,u,a,"RFC 2822",s)}static fromSQL(s,a={}){const[l,u]=Zn(s,[z,bo],[p,T]);return no(l,u,a,"SQL",s)}static fromSeconds(s,a={}){if(!De(s))throw new bt("fromSeconds requires a numerical input");return new st({ts:1e3*s,zone:b(a.zone,R.defaultZone),loc:Jt.fromObject(a)})}static fromString(s,a,l={}){return st.fromFormat(s,a,l)}static fromStringExplain(s,a,l={}){return st.fromFormatExplain(s,a,l)}static invalid(s,a){if(!s)throw new bt("need to specify a reason the DateTime is invalid");const l=s instanceof Z?s:new Z(s,a);if(R.throwOnInvalid)throw new C(l);return new st({invalid:l})}static isDateTime(s){return!(!s||!s._isLuxonDateTime)}static local(...s){const[a,l]=this._lastOpts(s),[u,h,y,M,L,V,ct]=l;return st._quickDT({year:u,month:h,day:y,hour:M,minute:L,second:V,millisecond:ct},a)}static max(...s){if(!s.every(st.isDateTime))throw new bt("max requires all arguments be DateTimes");return Gn(s,a=>a.valueOf(),Math.max)}static min(...s){if(!s.every(st.isDateTime))throw new bt("min requires all arguments be DateTimes");return Gn(s,a=>a.valueOf(),Math.min)}static now(){return new st({})}static parseFormatForOpts(s,a={}){const l=Zi(s,Jt.fromObject(a));return l?l.map(u=>u?u.val:null).join(""):null}static utc(...s){const[a,l]=this._lastOpts(s),[u,h,y,M,L,V,ct]=l;return a.zone=Wt.utcInstance,this._quickDT({year:u,month:h,day:y,hour:M,minute:L,second:V,millisecond:ct},a)}static _buildObject(s,a,l,u){let h=!1;a.forEach(nt=>{Yt(s.normalized[nt])?h=!0:s.normalized[nt]=h?l[nt]:u[nt]});const y=(s.useWeekData?function(nt,gt=4,dt=1){const jt=He(nt.weekYear),Qt=Oe(nt.weekNumber,1,k(nt.weekYear,gt,dt)),$t=Oe(nt.weekday,1,7);return jt?Qt?!$t&&Mt("weekday",nt.weekday):Mt("week",nt.weekNumber):Mt("weekYear",nt.weekYear)}(s.normalized):s.containsOrdinal?function(nt){const gt=He(nt.year),dt=Oe(nt.ordinal,1,cn(nt.year));return gt?!dt&&Mt("ordinal",nt.ordinal):Mt("year",nt.year)}(s.normalized):Me(s.normalized))||xn(s.normalized);if(y)return st.invalid(y);const M=s.useWeekData?Yn(s.normalized):s.containsOrdinal?jn(s.normalized):s.normalized,[L,V]=ko(M,s.offsetProvis,s.zoneToUse),ct=new st({ts:L,zone:s.zoneToUse,o:V,loc:s.loc});return s.normalized.weekday&&s.containsGregor&&s.obj.weekday!==ct.weekday?st.invalid("mismatched weekday",`you can't specify both a weekday of ${s.normalized.weekday} and a date of ${ct.toISO()}`):ct.isValid?ct:st.invalid(ct._invalid)}static _diffRelative(s,a,l){const u=!!ge(l.round)||l.round,h=(M,L)=>(M=sn(M,u||l.calendary?0:2,!0),a._loc.clone(l).relFormatter(l).format(M,L)),y=M=>l.calendary?a.hasSame(s,M)?0:a.startOf(M).diff(s.startOf(M),M).get(M):a.diff(s,M).get(M);if(l.unit)return h(y(l.unit),l.unit);for(const M of l.units){const L=y(M);if(Math.abs(L)>=1)return h(L,M)}return h(s>a?-0:0,l.units[l.units.length-1])}static _lastOpts(s){let a,l={};return s.length>0&&"object"==typeof s[s.length-1]?(l=s.pop(),a=s):a=Array.from(s),[l,a]}static _quickDT(s,a){const l=b(a.zone,R.defaultZone),u=Jt.fromObject(a),h=R.now();let y,M;if(Yt(s.year)){for(const ct of Mi)ge(s[ct])&&(s[ct]=Ii[ct]);const L=Me(s)||xn(s);if(L)return st.invalid(L);const V=l.offset(h);[y,M]=ko(s,V,l)}else y=h;return new st({ts:y,zone:l,loc:u,o:M})}static _unsupportedZone(s){return new Z("unsupported zone",`the zone "${s.name}" is not supported`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}diff(s,a="milliseconds",l={}){if(!this.isValid||!s.isValid)return Tt.invalid(this.invalidReason||s.invalidReason,"created by diffing an invalid DateTime");const u=(M=a,Array.isArray(M)?M:[M]).map(Tt.normalizeUnit),h=s.valueOf()>this.valueOf(),y=((m,s,a,l)=>{let[u,h,y,M]=function(nt,gt,dt){const jt=[["years",(Ht,ie)=>ie.year-Ht.year],["quarters",(Ht,ie)=>ie.quarter-Ht.quarter+4*(ie.year-Ht.year)],["months",(Ht,ie)=>ie.month-Ht.month+12*(ie.year-Ht.year)],["weeks",(Ht,ie)=>{const gn=Co(Ht,ie);return(gn-gn%7)/7}],["days",Co]],Qt={},$t=nt;let ne,oe;for(const[Ht,ie]of jt)dt.indexOf(Ht)>=0&&(ne=Ht,Qt[Ht]=ie(nt,gt),oe=$t.plus(Qt),oe>gt?(Qt[Ht]--,(nt=$t.plus(Qt))>gt&&(oe=nt,Qt[Ht]--,nt=$t.plus(Qt))):nt=oe);return[nt,Qt,oe,ne]}(m,s,a);const L=+s-+u,V=a.filter(nt=>["hours","minutes","seconds","milliseconds"].indexOf(nt)>=0);0===V.length&&(y<s&&(y=u.plus({[M]:1})),y!==u&&(h[M]=(h[M]||0)+L/(+y-+u)));const ct=Tt.fromObject(h,l);return V.length>0?Tt.fromMillis(L,l).shiftTo(...V).plus(ct):ct})(h?this:s,h?s:this,u,Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},l));var M;return h?y.negate():y}diffNow(s="milliseconds",a={}){return this.diff(st.now(),s,a)}endOf(s,{useLocaleWeeks:a=!1}={}){return this.plus({[s]:1}).startOf(s,{useLocaleWeeks:a}).minus({milliseconds:1})}equals(s){return this.valueOf()===s.valueOf()&&this.zone.equals(s.zone)&&this._loc.equals(s._loc)}get(s){return this[s]}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const s=864e5,a=6e4,l=wn(this._c),u=this.zone.offset(l-s),h=this.zone.offset(l+s),y=this.zone.offset(l-u*a),M=this.zone.offset(l-h*a);if(y===M)return[this];const L=l-y*a,V=l-M*a,ct=To(L,y),nt=To(V,M);return ct.hour===nt.hour&&ct.minute===nt.minute&&ct.second===nt.second&&ct.millisecond===nt.millisecond?[this._clone({ts:L}),this._clone({ts:V})]:[this]}hasSame(s,a,l){if(!this.isValid)return!1;const u=s.valueOf(),h=this.setZone(s.zone,{keepLocalTime:!0});return+h.startOf(a)<=u&&u<=+h.endOf(a,l)}minus(s){if(!this.isValid)return this;const a=Tt.fromDurationLike(s).negate();return this._clone(this._adjustTime(a))}plus(s){if(!this.isValid)return this;const a=Tt.fromDurationLike(s);return this._clone(this._adjustTime(a))}reconfigure(s){const a=this._loc.clone(s);return this._clone({loc:a})}resolvedLocaleOptions(s={}){const{locale:a,numberingSystem:l,calendar:u}=he.create(this._loc.clone(s),s).resolvedOptions(this);return{locale:a,numberingSystem:l,outputCalendar:u}}set(s){if(!this.isValid)return this;const a=zt(s,Ni),{minDaysInFirstWeek:l,startOfWeek:u}=Ln(a,this.loc),h=Yt(a.weekYear)||Yt(a.weekNumber)||Yt(a.weekday),y=Yt(a.ordinal),M=Yt(a.year),L=Yt(a.month)||Yt(a.day);if((M||L||y)&&(a.weekYear||a.weekNumber))throw new St("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(L&&y)throw new St("Can't mix ordinal dates with month/day");let nt;h?nt=Yn(Object.assign(Object.assign({},fn(this._c,l,u)),a),l,u):ge(a.ordinal)?(nt=Object.assign(Object.assign({},this.toObject()),a),ge(a.day)&&(nt.day=Math.min(kn(nt.year,nt.month),nt.day))):nt=jn(Object.assign(Object.assign({},Nn(this._c)),a));const[gt,dt]=ko(nt,this._o,this.zone);return this._clone({ts:gt,o:dt})}setLocale(s){return this.reconfigure({locale:s})}setZone(s,{keepLocalTime:a=!1,keepCalendarTime:l=!1}={}){if((s=b(s,R.defaultZone)).equals(this.zone))return this;if(s.isValid){let u=this._ts;if(a||l){const h=s.offset(this._ts);u=ko(this.toObject(),h,s)[0]}return this._clone({ts:u,zone:s})}return st.invalid(st._unsupportedZone(s))}startOf(s,{useLocaleWeeks:a=!1}={}){if(!this.isValid)return this;const l={},u=Tt.normalizeUnit(s);switch(u){case"years":l.month=1;case"quarters":case"months":l.day=1;case"weeks":case"days":l.hour=0;case"hours":l.minute=0;case"minutes":l.second=0;case"seconds":l.millisecond=0}if("weeks"===u)if(a){const h=this.loc.getStartOfWeek(),{weekday:y}=this;y<h&&(l.weekNumber=this.weekNumber-1),l.weekday=h}else l.weekday=1;if("quarters"===u){const h=Math.ceil(this.month/3);l.month=3*(h-1)+1}return this.set(l)}toBSON(){return this.toJSDate()}toFormat(s,a={}){return this.isValid?he.create(this._loc.redefaultToEN(a)).formatDateTimeFromString(this,s):oi}toHTTP(){return wo(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toISO({format:s="extended",suppressSeconds:a=!1,suppressMilliseconds:l=!1,includeOffset:u=!0,extendedZone:h=!1}={}){if(!this.isValid)return null;const y="extended"===s;return[this._toISODate(y),"T",this._toISOTime(y,a,l,u,h)].join("")}toISODate({format:s="extended"}={format:"extended"}){return this.isValid?this._toISODate("extended"===s):null}toISOTime({suppressMilliseconds:s=!1,suppressSeconds:a=!1,includeOffset:l=!0,includePrefix:u=!1,extendedZone:h=!1,format:y="extended"}={}){return this.isValid?[u?"T":"",this._toISOTime("extended"===y,a,s,l,h)].join(""):null}toISOWeekDate(){return wo(this,"kkkk-'W'WW-c")}toJSDate(){return new Date(this.isValid?this._ts:NaN)}toJSON(){return this.toISO()}toLocal(){return this.setZone(R.defaultZone)}toLocaleParts(s={}){return this.isValid?he.create(this._loc.clone(s),s).formatDateTimeParts(this):[]}toLocaleString(s=tt,a={}){return this.isValid?he.create(this._loc.clone(a),s).formatDateTime(this):oi}toMillis(){return this.isValid?this.ts:NaN}toObject(s={includeConfig:!1}){if(!this.isValid)return{};const a=Object.assign({},this._c);return s.includeConfig&&(a.outputCalendar=this.outputCalendar,a.numberingSystem=this._loc.numberingSystem,a.locale=this._loc.locale),a}toRFC2822(){return wo(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toRelative(s={}){if(!this.isValid)return null;const a=s.base||st.fromObject({},{zone:this.zone}),l=s.padding?this<a?-s.padding:s.padding:0;let u=["years","months","days","hours","minutes","seconds"],h=s.unit;return Array.isArray(s.unit)&&(u=s.unit,h=void 0),st._diffRelative(a,this.plus(l),Object.assign(Object.assign({},s),{numeric:"always",units:u,unit:h}))}toRelativeCalendar(s={}){return this.isValid?st._diffRelative(s.base||st.fromObject({},{zone:this.zone}),this,Object.assign(Object.assign({},s),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}toSQL(s={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(s)}`:null}toSQLDate(){return this.isValid?this._toISODate(!0):null}toSQLTime({includeOffset:s=!0,includeZone:a=!1,includeOffsetSpace:l=!0}={}){let u="HH:mm:ss.SSS";return(a||s)&&(l&&(u+=" "),a?u+="z":s&&(u+="ZZ")),wo(this,u,!0)}toSeconds(){return this.isValid?this._ts/1e3:NaN}toString(){return this.isValid?this.toISO():oi}toUTC(s=0,a={}){return this.setZone(Wt.instance(s),a)}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}until(s){return Kt.fromDateTimes(this,s)}valueOf(){return this.toMillis()}_adjustTime(s){const a=this._o,l=this._c.year+Math.trunc(s.years),u=this._c.month+Math.trunc(s.months)+3*Math.trunc(s.quarters),h=Object.assign(Object.assign({},this._c),{year:l,month:u,day:Math.min(this._c.day,kn(l,u))+Math.trunc(s.days)+7*Math.trunc(s.weeks)}),y=Tt.fromObject({years:s.years-Math.trunc(s.years),quarters:s.quarters-Math.trunc(s.quarters),months:s.months-Math.trunc(s.months),weeks:s.weeks-Math.trunc(s.weeks),days:s.days-Math.trunc(s.days),hours:s.hours,minutes:s.minutes,seconds:s.seconds,milliseconds:s.milliseconds}).as("milliseconds"),M=wn(h);let[L,V]=Si(M,a,this.zone);return 0!==y&&(L+=y,V=this.zone.offset(L)),{ts:L,o:V}}_clone(s){const a={ts:this._ts,zone:this.zone,c:this._c,o:this._o,loc:this._loc,invalid:this._invalid||void 0};return new st(Object.assign(Object.assign(Object.assign({},a),s),{old:a}))}_possiblyCachedLocalWeekData(s){return s._localWeekData||(s._localWeekData=fn(s._c,s.loc.getMinDaysInFirstWeek(),s.loc.getStartOfWeek())),s._localWeekData}_possiblyCachedWeekData(s){return null===s._weekData&&(s._weekData=fn(s._c)),s._weekData}_toISODate(s){const a=this._c.year>9999||this._c.year<0;let l="";return a&&this._c.year>=0&&(l+="+"),l+=Xt(this._c.year,a?6:4),s?(l+="-",l+=Xt(this._c.month),l+="-",l+=Xt(this._c.day)):(l+=Xt(this._c.month),l+=Xt(this._c.day)),l}_toISOTime(s,a,l,u,h){let y=Xt(this._c.hour);return s?(y+=":",y+=Xt(this._c.minute),0===this._c.millisecond&&0===this._c.second&&a||(y+=":")):y+=Xt(this._c.minute),0===this._c.millisecond&&0===this._c.second&&a||(y+=Xt(this._c.second),0===this._c.millisecond&&l||(y+=".",y+=Xt(this._c.millisecond,3))),u&&(this.isOffsetFixed&&0===this.offset&&!h?y+="Z":this._o<0?(y+="-",y+=Xt(Math.trunc(-this._o/60)),y+=":",y+=Xt(Math.trunc(-this._o%60))):(y+="+",y+=Xt(Math.trunc(this._o/60)),y+=":",y+=Xt(Math.trunc(this._o%60)))),h&&(y+="["+this.zone.ianaName+"]"),y}}st.DATETIME_FULL=pe,st.DATETIME_FULL_WITH_SECONDS=ae,st.DATETIME_HUGE=Pe,st.DATETIME_HUGE_WITH_SECONDS=ze,st.DATETIME_MED=Dt,st.DATETIME_MED_WITH_SECONDS=ee,st.DATETIME_MED_WITH_WEEKDAY=ue,st.DATETIME_SHORT=xt,st.DATETIME_SHORT_WITH_SECONDS=Ct,st.DATE_FULL=_t,st.DATE_HUGE=Ft,st.DATE_MED=ut,st.DATE_MED_WITH_WEEKDAY=ft,st.DATE_SHORT=tt,st.TIME_24_SIMPLE=kt,st.TIME_24_WITH_LONG_OFFSET=ht,st.TIME_24_WITH_SECONDS=K,st.TIME_24_WITH_SHORT_OFFSET=P,st.TIME_SIMPLE=Bt,st.TIME_WITH_LONG_OFFSET=Zt,st.TIME_WITH_SECONDS=Rt,st.TIME_WITH_SHORT_OFFSET=re;var qt=g(96814),Fn=g(19347),dn=g(32296),Jn=g(81274),$n=g(65619),oo=g(78645),ii=g(59773),io=g(67081),ao=g(99397),ji=g(37398),ua=g(93997),un=g(86825),Ze=g(56223),ai=g(4300),si=g(98525),Li=g(23680),qn=g(64170),ri=g(30617),li=g(2032),ci=g(68484);const Di=["clockFace"],pa=["clockHand"],so=function(m){return{transform:m}};function ga(m,s){if(1&m&&(n.TgZ(0,"button",9),n.ALo(1,"activeHour"),n._uU(2),n.ALo(3,"timeLocalizer"),n.qZA()),2&m){const a=s.$implicit,l=n.oxw();n.Q6J("color",n.Dn7(1,4,a.time,null==l.selectedTime?null:l.selectedTime.time,l.isClockFaceDisabled)?l.color:void 0)("ngStyle",n.VKq(11,so,"rotateZ(-"+a.angle+"deg)"))("disabled",a.disabled),n.xp6(2),n.hij(" ",n.xi3(3,8,a.time,l.timeUnit.HOUR)," ")}}function ha(m,s){if(1&m&&(n.TgZ(0,"div",12)(1,"button",9),n.ALo(2,"activeMinute"),n._uU(3),n.ALo(4,"timeLocalizer"),n.ALo(5,"minutesFormatter"),n.qZA()()),2&m){const a=s.$implicit,l=n.oxw(2);n.Q6J("ngStyle",n.VKq(16,so,"rotateZ("+a.angle+"deg)")),n.xp6(1),n.Q6J("color",n.gM2(2,5,a.time,null==l.selectedTime?null:l.selectedTime.time,l.minutesGap,l.isClockFaceDisabled)?l.color:void 0)("ngStyle",n.VKq(18,so,"rotateZ(-"+a.angle+"deg)"))("disabled",a.disabled),n.xp6(2),n.hij(" ",n.xi3(4,10,n.xi3(5,13,a.time,l.minutesGap),l.timeUnit.MINUTE)," ")}}function fa(m,s){if(1&m&&(n.TgZ(0,"div",10),n.YNc(1,ha,6,20,"div",11),n.qZA()),2&m){const a=n.oxw();n.xp6(1),n.Q6J("ngForOf",a.faceTime)("ngForTrackBy",a.trackByTime)}}function xa(m,s){1&m&&n.Hsn(0,0,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}const Ei=function(m){return{$implicit:m}};function va(m,s){if(1&m&&(n.TgZ(0,"div",12),n.YNc(1,xa,1,0,"ng-content",14),n.qZA()),2&m){const a=s.$implicit;n.oxw(2);const l=n.MAs(1);n.Q6J("ngStyle",n.VKq(3,so,"rotateZ("+a.angle+"deg)")),n.xp6(1),n.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",n.VKq(5,Ei,a))}}function ba(m,s){1&m&&n.Hsn(0,1,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function Ca(m,s){if(1&m&&(n.TgZ(0,"div",17),n.YNc(1,ba,1,0,"ng-content",14),n.qZA()),2&m){const a=s.$implicit,l=n.oxw(3),u=n.MAs(1);n.Udp("top","calc(50% - "+l.innerClockFaceSize+"px)")("height",l.innerClockFaceSize,"px"),n.Q6J("ngStyle",n.VKq(7,so,"rotateZ("+a.angle+"deg)")),n.xp6(1),n.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",n.VKq(9,Ei,a))}}function Ta(m,s){if(1&m&&(n.TgZ(0,"div",15),n.YNc(1,Ca,2,11,"div",16),n.ALo(2,"slice"),n.qZA()),2&m){const a=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",n.Dn7(2,2,a.faceTime,12,24))("ngForTrackBy",a.trackByTime)}}function ka(m,s){if(1&m&&(n.TgZ(0,"div",10),n.YNc(1,va,2,7,"div",11),n.ALo(2,"slice"),n.YNc(3,Ta,3,6,"div",13),n.qZA()),2&m){const a=n.oxw();n.xp6(1),n.Q6J("ngForOf",n.Dn7(2,3,a.faceTime,0,12))("ngForTrackBy",a.trackByTime),n.xp6(2),n.Q6J("ngIf",a.faceTime.length>12)}}function wa(m,s){if(1&m&&(n.TgZ(0,"button",18),n._UZ(1,"span",19),n.qZA()),2&m){const a=n.oxw();n.Q6J("color",a.color)}}const Pi=["*","*"],Oa=function(m){return{"clock-face__clock-hand_minute":m}};function ya(m,s){if(1&m){const a=n.EpF();n.TgZ(0,"div",5),n.NdJ("@scaleInOut.done",function(){n.CHM(a);const u=n.oxw(2);return n.KtG(u.animationDone())}),n.TgZ(1,"p"),n._uU(2,"Current time would be invalid in this period."),n.qZA()()}2&m&&n.Q6J("@scaleInOut",void 0)}function Za(m,s){if(1&m&&n.YNc(0,ya,3,1,"div",4),2&m){const a=n.oxw();n.Q6J("ngIf",!a.isPeriodAvailable)}}const ro=function(m){return{active:m}};function Aa(m,s){if(1&m){const a=n.EpF();n.TgZ(0,"input",2),n.NdJ("ngModelChange",function(u){n.CHM(a);const h=n.oxw();return n.KtG(h.time=u)})("input",function(){n.CHM(a);const u=n.oxw();return n.KtG(u.updateTime())})("focus",function(u){n.CHM(a);const h=n.oxw();return n.KtG(h.saveTimeAndChangeTimeUnit(u,h.timeUnit))}),n.ALo(1,"timeLocalizer"),n.qZA()}if(2&m){const a=n.oxw();n.Q6J("ngClass",n.VKq(8,ro,a.isActive))("ngModel",n.Dn7(1,4,a.time,a.timeUnit,!0))("disabled",a.disabled)("ngxMatTimepickerAutofocus",a.isActive)}}function Oo(m,s){if(1&m){const a=n.EpF();n.TgZ(0,"input",3),n.NdJ("ngModelChange",function(u){n.CHM(a);const h=n.oxw();return n.KtG(h.onModelChange(u))})("input",function(){n.CHM(a);const u=n.oxw();return n.KtG(u.updateTime())})("focus",function(u){n.CHM(a);const h=n.oxw();return n.KtG(h.saveTimeAndChangeTimeUnit(u,h.timeUnit))})("keydown",function(u){n.CHM(a);const h=n.oxw();return n.KtG(h.onKeydown(u))})("keypress",function(u){n.CHM(a);const h=n.oxw();return n.KtG(h.changeTimeByKeyboard(u))}),n.ALo(1,"timeLocalizer"),n.ALo(2,"ngxMatTimepickerParser"),n.qZA()}if(2&m){const a=n.oxw();n.Q6J("ngClass",n.VKq(11,ro,a.isActive))("ngModel",n.Dn7(1,4,n.xi3(2,8,a.time,a.timeUnit),a.timeUnit,!0))("disabled",a.disabled)("ngxMatTimepickerAutofocus",a.isActive)}}function Sa(m,s){if(1&m){const a=n.EpF();n.TgZ(0,"ngx-mat-timepicker-period",7),n.NdJ("periodChanged",function(u){n.CHM(a);const h=n.oxw();return n.KtG(h.changePeriod(u))}),n.qZA()}if(2&m){const a=n.oxw();n.Q6J("selectedPeriod",a.period)("activeTimeUnit",a.activeTimeUnit)("maxTime",a.maxTime)("minTime",a.minTime)("format",a.format)("hours",a.hours)("minutes",a.minutes)("selectedHour",a.hour)("meridiems",a.meridiems)}}function Ia(m,s){1&m&&n.GkF(0)}function Ma(m,s){1&m&&(n.TgZ(0,"small",11),n._uU(1," * use arrows ("),n.TgZ(2,"span"),n._uU(3,"\u21c5"),n.qZA(),n._uU(4,") to change the time"),n.qZA())}const Na=function(m){return{"timepicker-dial__hint-container--hidden":m}};function ja(m,s){if(1&m&&(n.TgZ(0,"div",8),n.YNc(1,Ia,1,0,"ng-container",9),n.YNc(2,Ma,5,0,"ng-template",null,10,n.W1O),n.qZA()),2&m){const a=n.MAs(3),l=n.oxw();n.Q6J("ngClass",n.VKq(2,Na,!l.isHintVisible)),n.xp6(1),n.Q6J("ngTemplateOutlet",l.editableHintTmpl?l.editableHintTmpl:a)}}function La(m,s){1&m&&n.GkF(0)}function Da(m,s){if(1&m&&(n.TgZ(0,"div"),n.YNc(1,La,1,0,"ng-container",3),n.qZA()),2&m){n.oxw();const a=n.MAs(4);n.xp6(1),n.Q6J("ngTemplateOutlet",a)}}function Ea(m,s){1&m&&n.GkF(0)}function Pa(m,s){if(1&m&&n.YNc(0,Ea,1,0,"ng-container",3),2&m){n.oxw();const a=n.MAs(4);n.Q6J("ngTemplateOutlet",a)}}function za(m,s){1&m&&n.Hsn(0)}const Ua=["*"];function Mn(m,s){if(1&m&&(n.TgZ(0,"button",14),n._uU(1,"CANCEL "),n.qZA()),2&m){const a=n.oxw();n.Q6J("color",a.color)}}function yo(m,s){if(1&m&&(n.TgZ(0,"button",14),n._uU(1,"OK "),n.qZA()),2&m){const a=n.oxw();n.Q6J("color",a.color)}}function Fa(m,s){if(1&m){const a=n.EpF();n.TgZ(0,"ngx-mat-timepicker-24-hours-face",17),n.NdJ("hourChange",function(u){n.CHM(a);const h=n.oxw(2);return n.KtG(h.onHourChange(u))})("hourSelected",function(u){n.CHM(a);const h=n.oxw(2);return n.KtG(h.onHourSelected(u))}),n.ALo(1,"async"),n.qZA()}if(2&m){const a=n.oxw(2);n.Q6J("color",a.color)("selectedHour",n.lcZ(1,5,a.selectedHour))("minTime",a.data.minTime)("maxTime",a.data.maxTime)("format",a.data.format)}}function Ja(m,s){if(1&m){const a=n.EpF();n.TgZ(0,"ngx-mat-timepicker-12-hours-face",18),n.NdJ("hourChange",function(u){n.CHM(a);const h=n.oxw(2);return n.KtG(h.onHourChange(u))})("hourSelected",function(u){n.CHM(a);const h=n.oxw(2);return n.KtG(h.onHourSelected(u))}),n.ALo(1,"async"),n.ALo(2,"async"),n.qZA()}if(2&m){const a=n.oxw(2);n.Q6J("color",a.color)("selectedHour",n.lcZ(1,5,a.selectedHour))("period",n.lcZ(2,7,a.selectedPeriod))("minTime",a.data.minTime)("maxTime",a.data.maxTime)}}function qa(m,s){if(1&m&&(n.TgZ(0,"div"),n.YNc(1,Fa,2,7,"ngx-mat-timepicker-24-hours-face",15),n.YNc(2,Ja,3,9,"ng-template",null,16,n.W1O),n.qZA()),2&m){const a=n.MAs(3),l=n.oxw();n.xp6(1),n.Q6J("ngIf",24===l.data.format)("ngIfElse",a)}}function Qa(m,s){if(1&m){const a=n.EpF();n.TgZ(0,"ngx-mat-timepicker-minutes-face",19),n.NdJ("minuteChange",function(u){n.CHM(a);const h=n.oxw();return n.KtG(h.onMinuteChange(u))}),n.ALo(1,"async"),n.ALo(2,"async"),n.ALo(3,"async"),n.qZA()}if(2&m){const a=n.oxw();let l;n.Q6J("color",a.color)("selectedMinute",n.lcZ(1,8,a.selectedMinute))("selectedHour",null==(l=n.lcZ(2,10,a.selectedHour))?null:l.time)("minTime",a.data.minTime)("maxTime",a.data.maxTime)("format",a.data.format)("period",n.lcZ(3,12,a.selectedPeriod))("minutesGap",a.data.minutesGap)}}function Ya(m,s){1&m&&n.GkF(0)}function Ba(m,s){1&m&&n.GkF(0)}function Ha(m,s){if(1&m&&(n.TgZ(0,"button",14),n._uU(1,"CANCEL "),n.qZA()),2&m){const a=n.oxw();n.Q6J("color",a.color)}}function Ga(m,s){if(1&m&&(n.TgZ(0,"button",14),n._uU(1,"OK "),n.qZA()),2&m){const a=n.oxw();n.Q6J("color",a.color)}}function Ra(m,s){if(1&m){const a=n.EpF();n.TgZ(0,"ngx-mat-timepicker-24-hours-face",17),n.NdJ("hourChange",function(u){n.CHM(a);const h=n.oxw(2);return n.KtG(h.onHourChange(u))})("hourSelected",function(u){n.CHM(a);const h=n.oxw(2);return n.KtG(h.onHourSelected(u))}),n.ALo(1,"async"),n.qZA()}if(2&m){const a=n.oxw(2);n.Q6J("color",a.color)("selectedHour",n.lcZ(1,5,a.selectedHour))("minTime",a.data.minTime)("maxTime",a.data.maxTime)("format",a.data.format)}}function Va(m,s){if(1&m){const a=n.EpF();n.TgZ(0,"ngx-mat-timepicker-12-hours-face",18),n.NdJ("hourChange",function(u){n.CHM(a);const h=n.oxw(2);return n.KtG(h.onHourChange(u))})("hourSelected",function(u){n.CHM(a);const h=n.oxw(2);return n.KtG(h.onHourSelected(u))}),n.ALo(1,"async"),n.ALo(2,"async"),n.qZA()}if(2&m){const a=n.oxw(2);n.Q6J("color",a.color)("selectedHour",n.lcZ(1,5,a.selectedHour))("period",n.lcZ(2,7,a.selectedPeriod))("minTime",a.data.minTime)("maxTime",a.data.maxTime)}}function $a(m,s){if(1&m&&(n.TgZ(0,"div"),n.YNc(1,Ra,2,7,"ngx-mat-timepicker-24-hours-face",15),n.YNc(2,Va,3,9,"ng-template",null,16,n.W1O),n.qZA()),2&m){const a=n.MAs(3),l=n.oxw();n.xp6(1),n.Q6J("ngIf",24===l.data.format)("ngIfElse",a)}}function Ka(m,s){if(1&m){const a=n.EpF();n.TgZ(0,"ngx-mat-timepicker-minutes-face",19),n.NdJ("minuteChange",function(u){n.CHM(a);const h=n.oxw();return n.KtG(h.onMinuteChange(u))}),n.ALo(1,"async"),n.ALo(2,"async"),n.ALo(3,"async"),n.qZA()}if(2&m){const a=n.oxw();let l;n.Q6J("color",a.color)("selectedMinute",n.lcZ(1,8,a.selectedMinute))("selectedHour",null==(l=n.lcZ(2,10,a.selectedHour))?null:l.time)("minTime",a.data.minTime)("maxTime",a.data.maxTime)("format",a.data.format)("period",n.lcZ(3,12,a.selectedPeriod))("minutesGap",a.data.minutesGap)}}function Wa(m,s){1&m&&n.GkF(0)}function Xa(m,s){1&m&&n.GkF(0)}function ts(m,s){1&m&&n._UZ(0,"ngx-mat-timepicker-standalone")}function es(m,s){1&m&&(n.O4$(),n.TgZ(0,"svg",2),n._UZ(1,"path",3),n.qZA())}const ns=[[["","ngxMatTimepickerToggleIcon",""]]],os=["[ngxMatTimepickerToggleIcon]"];function is(m,s){if(1&m&&(n.TgZ(0,"mat-option",12),n._uU(1),n.qZA()),2&m){const a=s.$implicit;n.Q6J("value",a),n.xp6(1),n.Oqu(a)}}function zi(m,s){if(1&m){const a=n.EpF();n.TgZ(0,"mat-form-field",9)(1,"mat-select",10),n.NdJ("selectionChange",function(u){n.CHM(a);const h=n.oxw();return n.KtG(h.changePeriod(u))}),n.YNc(2,is,2,2,"mat-option",11),n.qZA()()}if(2&m){const a=n.oxw();n.Q6J("color",a.color),n.xp6(1),n.Q6J("disabled",a.disabled||a.isChangePeriodDisabled)("ngModel",a.period),n.xp6(1),n.Q6J("ngForOf",a.periods)}}function as(m,s){1&m&&n.GkF(0)}function ss(m,s){if(1&m&&(n.TgZ(0,"ngx-mat-timepicker-toggle",13)(1,"span",14),n.YNc(2,as,1,0,"ng-container",15),n.qZA()()),2&m){const a=n.oxw(),l=n.MAs(8),u=n.MAs(10);n.Q6J("for",l)("disabled",a.disabled),n.xp6(2),n.Q6J("ngTemplateOutlet",a.toggleIcon||u)}}function Ui(m,s){1&m&&(n.TgZ(0,"mat-icon"),n._uU(1,"watch_later"),n.qZA())}const rs=function(m){return{"ngx-mat-timepicker--disabled":m}};var Tn=function(m){return m.TWELVE="hh:mm a",m.TWELVE_SHORT="h:m a",m.TWENTY_FOUR="HH:mm",m.TWENTY_FOUR_SHORT="H:m",m}(Tn||{}),Ce=function(m){return m.AM="AM",m.PM="PM",m}(Ce||{});let Vt=(()=>{class m{static formatHour(a,l,u){if(this.isTwentyFour(l))return a;const h=u===Ce.AM?a:a+12;return u===Ce.AM&&12===h?0:u===Ce.PM&&24===h?12:h}static formatTime(a,l){if(!a)return"Invalid Time";const u=this.parseTime(a,l).setLocale(this.defaultLocale);if(!u.isValid)return"Invalid time";const h=!this.isTwentyFour(l.format);return h?u.toLocaleString({...st.TIME_SIMPLE,hour12:h}).replace(/\u200E/g,""):u.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static fromDateTimeToString(a,l){return a.reconfigure({numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}).toFormat(this.isTwentyFour(l)?Tn.TWENTY_FOUR:Tn.TWELVE)}static isBetween(a,l,u,h="minutes"){const y="hours"===h?h:void 0;return this.isSameOrBefore(a,u,y)&&this.isSameOrAfter(a,l,y)}static isSameOrAfter(a,l,u="minutes"){return"hours"===u?a.hour>=l.hour:a.hasSame(l,u)||a.valueOf()>l.valueOf()}static isSameOrBefore(a,l,u="minutes"){return"hours"===u?a.hour<=l.hour:a.hasSame(l,u)||a.valueOf()<=l.valueOf()}static isTimeAvailable(a,l,u,h,y,M){if(!a)return;const L=this.parseTime(a,{format:M}),V=L.minute;if(y&&V==V&&V%y!=0)throw new Error(`Your minutes - ${V} doesn't match your minutesGap - ${y}`);const ct=l&&!u&&this.isSameOrAfter(L,l,h),nt=u&&!l&&this.isSameOrBefore(L,u,h),gt=l&&u&&this.isBetween(L,l,u,h);return ct||nt||gt||!l&&!u}static isTwentyFour(a){return 24===a}static parseTime(a,l){const u=this._getLocaleOptionsByTime(a,l);let h=Tn.TWENTY_FOUR_SHORT;return a.match(/\s/g)&&(a=a.replace(/\.\s*/g,""),h=Tn.TWELVE_SHORT),st.fromFormat(a.replace(/\s+/g," "),h,{numberingSystem:u.numberingSystem,locale:u.locale})}static toLocaleTimeString(a,l={}){const{format:u=this.defaultFormat,locale:h=this.defaultLocale}=l;let y="h12",M=Tn.TWELVE_SHORT;return this.isTwentyFour(u)&&(y="h23",M=Tn.TWENTY_FOUR_SHORT),st.fromFormat(a,M).reconfigure({locale:h,numberingSystem:l.numberingSystem,defaultToEN:l.defaultToEN,outputCalendar:l.outputCalendar}).toLocaleString({...st.TIME_SIMPLE,hourCycle:y})}static _getLocaleOptionsByTime(a,l){const{numberingSystem:u,locale:h}=st.now().reconfigure({locale:l.locale,numberingSystem:l.numberingSystem,outputCalendar:l.outputCalendar,defaultToEN:l.defaultToEN}).resolvedLocaleOptions();return isNaN(parseInt(a,10))?{numberingSystem:u,locale:h}:{numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}}}return m.defaultFormat=12,m.defaultLocale="en-US",m.defaultNumberingSystem="latn",m})();var Ae=function(m){return m[m.HOUR=0]="HOUR",m[m.MINUTE=1]="MINUTE",m}(Ae||{});const lo=new n.OlP("NGX_MAT_TIMEPICKER_CONFIG"),Zo={time:12,angle:360},Ao={time:0,angle:360};let co=(()=>{class m{constructor(){this._hour$=new $n.X(Zo),this._minute$=new $n.X(Ao),this._period$=new $n.X(Ce.AM)}set hour(a){this._hour$.next(a)}set minute(a){this._minute$.next(a)}set period(a){(a===Ce.AM||a===Ce.PM)&&this._period$.next(a)}get selectedHour(){return this._hour$.asObservable()}get selectedMinute(){return this._minute$.asObservable()}get selectedPeriod(){return this._period$.asObservable()}getFullTime(a){const l=this._hour$.getValue().time,u=this._minute$.getValue().time,L=`${l??Zo.time}:${u??Ao.time} ${12===a?this._period$.getValue():""}`.trim();return Vt.formatTime(L,{format:a})}setDefaultTimeIfAvailable(a,l,u,h,y){a||this._resetTime();try{Vt.isTimeAvailable(a,l,u,"minutes",y)&&this._setDefaultTime(a,h)}catch(M){console.error(M)}}_resetTime(){this.hour={...Zo},this.minute={...Ao},this.period=Ce.AM}_setDefaultTime(a,l){const u=Vt.parseTime(a,{format:l});if(u.isValid){const h=a.substring(a.length-2).toUpperCase(),y=u.hour;this.hour={...Zo,time:ls(y,h)},this.minute={...Ao,time:u.minute},this.period=h}else this._resetTime()}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();function ls(m,s){switch(s){case Ce.AM:return 0===m?12:m;case Ce.PM:return 12===m?12:m-12;default:return m}}let So=(()=>{class m{get backdropClick(){return this._backdropClick$.asObservable().pipe((0,io.d)({bufferSize:1,refCount:!0}))}get keydownEvent(){return this._keydownEvent$.asObservable().pipe((0,io.d)({bufferSize:1,refCount:!0}))}constructor(){this._backdropClick$=new oo.x,this._keydownEvent$=new oo.x}dispatchEvent(a){switch(a.type){case"click":this._backdropClick$.next(a);break;case"keydown":this._keydownEvent$.next(a);break;default:throw new Error("no such event type")}}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const Fi=new n.OlP("TimeLocale",{providedIn:"root",factory:()=>Vt.defaultLocale});let pn=(()=>{class m{get locale(){return this._locale}constructor(a){this._locale=a}updateLocale(a){this._locale=a||this._initialLocale}}return m.\u0275fac=function(a){return new(a||m)(n.LFG(Fi))},m.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),Ji=(()=>{class m{set color(a){this._color=a}get color(){return this._color}get defaultTime(){return this._defaultTime}set defaultTime(a){this._defaultTime=a,this._setDefaultTime(a)}get _locale(){return this._timepickerLocaleSrv.locale}constructor(a,l,u,h){this._timepickerSrv=a,this._eventSrv=l,this._timepickerLocaleSrv=u,this.data=h,this.activeTimeUnit=Ae.HOUR,this.timeUnit=Ae,this._color="primary",this._subsCtrl$=new oo.x,this.color=h.color,this.defaultTime=h.defaultTime}changePeriod(a){this._timepickerSrv.period=a,this._onTimeChange()}changeTimeUnit(a){this.activeTimeUnit=a}close(){this.data.timepickerBaseRef.close()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._defineTime(),this.selectedHour=this._timepickerSrv.selectedHour.pipe((0,io.d)({bufferSize:1,refCount:!0})),this.selectedMinute=this._timepickerSrv.selectedMinute.pipe((0,io.d)({bufferSize:1,refCount:!0})),this.selectedPeriod=this._timepickerSrv.selectedPeriod.pipe((0,io.d)({bufferSize:1,refCount:!0})),this.data.timepickerBaseRef.timeUpdated.pipe((0,ii.R)(this._subsCtrl$)).subscribe({next:a=>{a&&this._setDefaultTime(a)}})}onHourChange(a){this._timepickerSrv.hour=a,this._onTimeChange()}onHourSelected(a){this.data.hoursOnly||this.changeTimeUnit(Ae.MINUTE),this.data.timepickerBaseRef.hourSelected.next(a)}onKeydown(a){this._eventSrv.dispatchEvent(a),a.stopPropagation()}onMinuteChange(a){this._timepickerSrv.minute=a,this._onTimeChange()}setTime(){this.data.timepickerBaseRef.timeSet.emit(this._timepickerSrv.getFullTime(this.data.format)),this.close()}_defineTime(){const a=this.data.minTime;if(a&&!this.data.time&&!this.data.defaultTime){const l=Vt.fromDateTimeToString(a,this.data.format);this._setDefaultTime(l)}}_onTimeChange(){const a=Vt.toLocaleTimeString(this._timepickerSrv.getFullTime(this.data.format),{locale:this._locale,format:this.data.format});this.data.timepickerBaseRef.timeChanged.emit(a)}_setDefaultTime(a){this._timepickerSrv.setDefaultTimeIfAvailable(a,this.data.minTime,this.data.maxTime,this.data.format,this.data.minutesGap)}}return m.\u0275fac=function(a){return new(a||m)(n.Y36(co),n.Y36(So),n.Y36(pn),n.Y36(lo))},m.\u0275dir=n.lG2({type:m,selectors:[["","ngxMatTimepickerBase",""]],hostBindings:function(a,l){1&a&&n.NdJ("keydown",function(h){return l.onKeydown(h)})},inputs:{color:"color",defaultTime:"defaultTime"},standalone:!0}),m})();class ce{static disableHours(s,a){return a.min||a.max?s.map(l=>{const u=Vt.isTwentyFour(a.format)?l.time:Vt.formatHour(l.time,a.format,a.period),h=st.fromObject({hour:u}).toFormat(Tn.TWELVE);return{...l,disabled:!Vt.isTimeAvailable(h,a.min,a.max,"hours")}}):s}static disableMinutes(s,a,l){if(l.min||l.max){const u=Vt.formatHour(a,l.format,l.period);let h=st.fromObject({hour:u,minute:0});return s.map(y=>(h=h.set({minute:y.time}),{...y,disabled:!Vt.isTimeAvailable(h.toFormat(Tn.TWELVE),l.min,l.max,"minutes")}))}return s}static getHours(s){return Array(s).fill(1).map((a,l)=>{const h=a+l;return{time:24===h?0:h,angle:30*h}})}static getMinutes(s=1){const u=[];for(let h=0;h<60;h++){const y=6*h;h%s==0&&u.push({time:h,angle:0!==y?y:360})}return u}static isDigit(s){return!!([46,8,9,27,13].some(a=>a===s.keyCode)||65===s.keyCode&&(!0===s.ctrlKey||!0===s.metaKey)||67===s.keyCode&&(!0===s.ctrlKey||!0===s.metaKey)||88===s.keyCode&&(!0===s.ctrlKey||!0===s.metaKey)||s.keyCode>=35&&s.keyCode<=40)||!((s.keyCode<48||s.keyCode>57)&&(s.keyCode<96||s.keyCode>105))}}var _o=function(m){return m.hour="hour",m.minute="minute",m}(_o||{});let _i=(()=>{class m{get _locale(){return this._timepickerLocaleSrv.locale}constructor(a){this._timepickerLocaleSrv=a}transform(a,l,u=!1){if(null==a||""===a)return"";switch(l){case Ae.HOUR:return this._formatTime(_o.hour,a,0===a||u?"HH":"H");case Ae.MINUTE:return this._formatTime(_o.minute,a,"mm");default:throw new Error(`There is no Time Unit with type ${l}`)}}_formatTime(a,l,u){try{return st.fromObject({[a]:+l}).setLocale(this._locale).toFormat(u)}catch{throw new Error(`Cannot format provided time - ${l} to locale - ${this._locale}`)}}}return m.\u0275fac=function(a){return new(a||m)(n.Y36(pn,16))},m.\u0275pipe=n.Yjl({name:"timeLocalizer",type:m,pure:!0,standalone:!0}),m})(),cs=(()=>{class m{transform(a,l=5){return a&&(a%l==0?a:"")}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275pipe=n.Yjl({name:"minutesFormatter",type:m,pure:!0,standalone:!0}),m})(),_s=(()=>{class m{transform(a,l,u,h){return null!=a&&!h&&l===a&&a%(u||5)==0}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275pipe=n.Yjl({name:"activeMinute",type:m,pure:!0,standalone:!0}),m})(),ms=(()=>{class m{transform(a,l,u){return null!=a&&!u&&a===l}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275pipe=n.Yjl({name:"activeHour",type:m,pure:!0,standalone:!0}),m})();const Io_small_height="75px",Io_small_top="calc(50% - 75px)",Io_large_height="103px",Io_large_top="calc(50% - 103px)";let Mo=(()=>{class m{constructor(){this.color="primary",this.innerClockFaceSize=85,this.timeChange=new n.vpe,this.timeSelected=new n.vpe,this.timeUnit=Ae}ngAfterViewInit(){this._setClockHandPosition(),this._addTouchEvents()}ngOnChanges(a){const l=a.faceTime,u=a.selectedTime;l&&l.currentValue&&u&&u.currentValue&&(this.selectedTime=this.faceTime.find(h=>h.time===this.selectedTime.time)),u&&u.currentValue&&this._setClockHandPosition(),l&&l.currentValue&&setTimeout(()=>this._selectAvailableTime())}ngOnDestroy(){this._removeTouchEvents()}onMousedown(a){a.preventDefault(),this._isStarted=!0}onMouseup(a){a.preventDefault(),this._isStarted=!1}selectTime(a){if(!this._isStarted&&a instanceof MouseEvent&&"click"!==a.type)return;const l=this.clockFace.nativeElement.getBoundingClientRect(),u=l.left+l.width/2,h=l.top+l.height/2,y=180*Math.atan(Math.abs(a.clientX-u)/Math.abs(a.clientY-h))/Math.PI,M=function qi(m,s,a,l,u){return l>s&&a>=m?180-u:l>s&&a<m?180+u:l<s&&a<m?360-u:u}(u,h,a.clientX,a.clientY,y),L=this.format&&this._isInnerClockFace(u,h,a.clientX,a.clientY),nt=(function ds(m,s){return Math.round(m/s)*s}(M,this.unit===Ae.MINUTE?6*(this.minutesGap||1):30)||360)+(L?360:0),gt=this.faceTime.find(dt=>dt.angle===nt);gt&&!gt.disabled&&(this.timeChange.next(gt),this._isStarted||this.timeSelected.next(gt.time))}trackByTime(a,l){return l.time}_addTouchEvents(){this._touchStartHandler=this.onMousedown.bind(this),this._touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this._touchEndHandler)}_decreaseClockHand(){this.clockHand.nativeElement.style.height=Io_small_height,this.clockHand.nativeElement.style.top=Io_small_top}_increaseClockHand(){this.clockHand.nativeElement.style.height=Io_large_height,this.clockHand.nativeElement.style.top=Io_large_top}_isInnerClockFace(a,l,u,h){return Math.sqrt(Math.pow(u-a,2)+Math.pow(h-l,2))<this.innerClockFaceSize}_removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this._touchEndHandler)}_selectAvailableTime(){const a=this.faceTime.find(l=>this.selectedTime.time===l.time);if(this.isClockFaceDisabled=this.faceTime.every(l=>l.disabled),a&&a.disabled&&!this.isClockFaceDisabled){const l=this.faceTime.find(u=>!u.disabled);this.timeChange.next(l)}}_setClockHandPosition(){Vt.isTwentyFour(this.format)&&(this.selectedTime.time>12||0===this.selectedTime.time?this._decreaseClockHand():this._increaseClockHand()),this.selectedTime&&(this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`)}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=n.Xpm({type:m,selectors:[["ngx-mat-timepicker-face"]],viewQuery:function(a,l){if(1&a&&(n.Gf(Di,7),n.Gf(pa,7,n.SBq)),2&a){let u;n.iGM(u=n.CRH())&&(l.clockFace=u.first),n.iGM(u=n.CRH())&&(l.clockHand=u.first)}},hostBindings:function(a,l){1&a&&n.NdJ("mousedown",function(h){return l.onMousedown(h)})("mouseup",function(h){return l.onMouseup(h)})("click",function(h){return l.selectTime(h)})("touchmove",function(h){return l.selectTime(h.changedTouches[0])})("touchend",function(h){return l.selectTime(h.changedTouches[0])})("mousemove",function(h){return l.selectTime(h)})},inputs:{color:"color",faceTime:"faceTime",format:"format",minutesGap:"minutesGap",selectedTime:"selectedTime",unit:"unit"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},standalone:!0,features:[n.TTD,n.jDz],ngContentSelectors:Pi,decls:11,vars:9,consts:[["hourButton",""],["minutesFace",""],[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"color","ngClass","hidden"],["clockHand",""],["mat-mini-fab","",3,"color",4,"ngIf"],[1,"clock-face__center",3,"color"],["mat-mini-fab","","disableRipple","",1,"mat-elevation-z0",3,"color","ngStyle","disabled"],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],["class","clock-face__inner",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"top","ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"],["mat-mini-fab","",3,"color"],[1,"clock-face__clock-hand_minute_dot"]],template:function(a,l){if(1&a&&(n.F$t(Pi),n.YNc(0,ga,4,13,"ng-template",null,0,n.W1O),n.YNc(2,fa,2,2,"ng-template",null,1,n.W1O),n.TgZ(4,"div",2,3),n.YNc(6,ka,4,7,"div",4),n.TgZ(7,"mat-toolbar",5,6),n.YNc(9,wa,2,1,"button",7),n.qZA(),n._UZ(10,"mat-toolbar",8),n.qZA()),2&a){const u=n.MAs(3);n.xp6(6),n.Q6J("ngIf",l.unit!==l.timeUnit.MINUTE)("ngIfElse",u),n.xp6(1),n.Q6J("color",l.color)("ngClass",n.VKq(7,Oa,l.unit===l.timeUnit.MINUTE))("hidden",l.isClockFaceDisabled),n.xp6(2),n.Q6J("ngIf",l.unit===l.timeUnit.MINUTE),n.xp6(1),n.Q6J("color",l.color)}},dependencies:[dn.ot,dn.nh,qt.PC,qt.ax,qt.O5,qt.tP,Jn.g0,Jn.Ye,qt.mk,qt.OU,ms,_s,cs,_i],styles:["ngx-mat-timepicker-face .clock-face{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;box-sizing:border-box;background-color:#c8c8c880!important}ngx-mat-timepicker-face .clock-face__inner{position:absolute;top:0;left:0;width:100%;height:100%}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void{box-shadow:none;background-color:transparent}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void>span.mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face .clock-face__container{margin-left:-2px}ngx-mat-timepicker-face .clock-face__number{position:absolute;transform-origin:25px 100%;width:50px;text-align:center;z-index:2;top:calc(50% - 125px);left:calc(50% - 25px)}ngx-mat-timepicker-face .clock-face__number--outer{height:125px}ngx-mat-timepicker-face .clock-face__number--outer>span{font-size:16px}ngx-mat-timepicker-face .clock-face__number--inner>span{font-size:14px}ngx-mat-timepicker-face .clock-face__clock-hand{height:103px;width:2px;padding:0;transform-origin:1px 100%;position:absolute;top:calc(50% - 103px);z-index:1}ngx-mat-timepicker-face .clock-face__center{width:8px;height:8px;padding:0;position:absolute;border-radius:50%;top:50%;left:50%;margin:-4px}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button{position:absolute;top:-22px;left:calc(50% - 20px);box-sizing:content-box;display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button .clock-face__clock-hand_minute_dot{display:block;width:4px;height:4px;background:#FFF;border-radius:50%}@media (max-device-width: 1023px) and (orientation: landscape){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}@media screen and (max-width: 360px){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}\n"],encapsulation:2,changeDetection:0}),m})(),mi=(()=>{class m{set color(a){this._color=a}get color(){return this._color}constructor(){this.minuteChange=new n.vpe,this.minutesList=[],this.timeUnit=Ae,this._color="primary"}ngOnChanges(a){if(a.period&&a.period.currentValue){const l=ce.getMinutes(this.minutesGap);this.minutesList=ce.disableMinutes(l,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=n.Xpm({type:m,selectors:[["ngx-mat-timepicker-minutes-face"]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",minutesGap:"minutesGap",period:"period",selectedHour:"selectedHour",selectedMinute:"selectedMinute"},outputs:{minuteChange:"minuteChange"},standalone:!0,features:[n.TTD,n.jDz],decls:1,vars:5,consts:[[3,"color","faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(a,l){1&a&&(n.TgZ(0,"ngx-mat-timepicker-face",0),n.NdJ("timeChange",function(h){return l.minuteChange.next(h)}),n.qZA()),2&a&&n.Q6J("color",l.color)("faceTime",l.minutesList)("selectedTime",l.selectedMinute)("minutesGap",l.minutesGap)("unit",l.timeUnit.MINUTE)},dependencies:[Mo],encapsulation:2}),m})(),Qi=(()=>{class m{set color(a){this._color=a}get color(){return this._color}set format(a){this._format=a,this.hoursList=ce.getHours(this._format)}get format(){return this._format}constructor(){this.hourChange=new n.vpe,this.hourSelected=new n.vpe,this.hoursList=[],this._color="primary",this._format=24}onTimeSelected(a){this.hourSelected.next(a)}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275dir=n.lG2({type:m,selectors:[["","ngxMatTimepickerHoursFace",""]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",selectedHour:"selectedHour"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"},standalone:!0}),m})(),di=(()=>{class m extends Qi{constructor(){super(),this.format=12}ngOnChanges(a){a.period&&a.period.currentValue&&(this.hoursList=ce.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=n.Xpm({type:m,selectors:[["ngx-mat-timepicker-12-hours-face"]],inputs:{period:"period"},standalone:!0,features:[n.qOj,n.TTD,n.jDz],decls:1,vars:3,consts:[[3,"color","selectedTime","faceTime","timeChange","timeSelected"]],template:function(a,l){1&a&&(n.TgZ(0,"ngx-mat-timepicker-face",0),n.NdJ("timeChange",function(h){return l.hourChange.next(h)})("timeSelected",function(h){return l.onTimeSelected(h)}),n.qZA()),2&a&&n.Q6J("color",l.color)("selectedTime",l.selectedHour)("faceTime",l.hoursList)},dependencies:[Mo],encapsulation:2,changeDetection:0}),m})(),ui=(()=>{class m extends Qi{constructor(){super(),this.format=24}ngAfterContentInit(){this.hoursList=ce.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=n.Xpm({type:m,selectors:[["ngx-mat-timepicker-24-hours-face"]],standalone:!0,features:[n.qOj,n.jDz],decls:1,vars:4,consts:[[3,"color","selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(a,l){1&a&&(n.TgZ(0,"ngx-mat-timepicker-face",0),n.NdJ("timeChange",function(h){return l.hourChange.next(h)})("timeSelected",function(h){return l.onTimeSelected(h)}),n.qZA()),2&a&&n.Q6J("color",l.color)("selectedTime",l.selectedHour)("faceTime",l.hoursList)("format",l.format)},dependencies:[Mo],encapsulation:2,changeDetection:0}),m})(),Yi=(()=>{class m{constructor(a){this._overlay=a,this.isPeriodAvailable=!0,this.overlayScrollStrategy=this._overlay.scrollStrategies.reposition(),this.periodChanged=new n.vpe,this.timePeriod=Ce}animationDone(){this.isPeriodAvailable=!0}changePeriod(a){this.isPeriodAvailable=this._isSwitchPeriodAvailable(a),this.isPeriodAvailable&&this.periodChanged.next(a)}_getDisabledTimeByPeriod(a){switch(this.activeTimeUnit){case Ae.HOUR:return ce.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:a});case Ae.MINUTE:return ce.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:a});default:throw new Error("no such NgxMatTimepickerUnits")}}_isSwitchPeriodAvailable(a){return!this._getDisabledTimeByPeriod(a).every(u=>u.disabled)}}return m.\u0275fac=function(a){return new(a||m)(n.Y36(e.aV))},m.\u0275cmp=n.Xpm({type:m,selectors:[["ngx-mat-timepicker-period"]],inputs:{activeTimeUnit:"activeTimeUnit",format:"format",hours:"hours",maxTime:"maxTime",meridiems:"meridiems",minTime:"minTime",minutes:"minutes",selectedHour:"selectedHour",selectedPeriod:"selectedPeriod"},outputs:{periodChanged:"periodChanged"},standalone:!0,features:[n.jDz],decls:7,vars:12,consts:[["cdkOverlayOrigin","",1,"timepicker-period"],["eventPanelOrigin","cdkOverlayOrigin"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["cdkConnectedOverlay","","cdkConnectedOverlayPanelClass","todo-remove-pointer-events-if-necessary",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayPositionStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(a,l){if(1&a&&(n.TgZ(0,"div",0,1)(2,"button",2),n.NdJ("click",function(){return l.changePeriod(l.timePeriod.AM)}),n._uU(3),n.qZA(),n.TgZ(4,"button",2),n.NdJ("click",function(){return l.changePeriod(l.timePeriod.PM)}),n._uU(5),n.qZA()(),n.YNc(6,Za,1,1,"ng-template",3)),2&a){const u=n.MAs(1);n.xp6(2),n.Q6J("ngClass",n.VKq(8,ro,l.selectedPeriod===l.timePeriod.AM)),n.xp6(1),n.Oqu(l.meridiems[0]),n.xp6(1),n.Q6J("ngClass",n.VKq(10,ro,l.selectedPeriod===l.timePeriod.PM)),n.xp6(1),n.Oqu(l.meridiems[1]),n.xp6(1),n.Q6J("cdkConnectedOverlayScrollStrategy",l.overlayScrollStrategy)("cdkConnectedOverlayPositionStrategy",l.overlayPositionStrategy)("cdkConnectedOverlayOrigin",u)("cdkConnectedOverlayOpen",!l.isPeriodAvailable)}},dependencies:[e.xu,qt.mk,e.pI,qt.O5],styles:[".timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{opacity:.5;padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;user-select:none;outline:none;border-radius:3px;transition:background-color .5s;color:inherit}.timepicker-period__btn.active[_ngcontent-%COMP%]{opacity:1}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:#00000012}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:#0000008c;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:700;color:#fff}"],data:{animation:[(0,un.X$)("scaleInOut",[(0,un.eR)(":enter",[(0,un.oB)({transform:"scale(0)"}),(0,un.jt)(".2s",(0,un.oB)({transform:"scale(1)"})),(0,un.vP)([(0,un.jt)("3s",(0,un.oB)({opacity:1})),(0,un.jt)(".3s",(0,un.oB)({opacity:0}))])])])]}}),m})(),Kn=(()=>{class m{get _locale(){return this._timepickerLocaleSrv.locale}constructor(a){this._timepickerLocaleSrv=a,this._numberingSystem=st.local().setLocale(this._locale).resolvedLocaleOptions().numberingSystem}transform(a,l=Ae.HOUR){return null==a||""===a?"":isNaN(+a)?l===Ae.MINUTE?this._parseTime(a,"mm",_o.minute).toString():this._parseTime(a,"HH",_o.hour).toString():`${a}`}_parseTime(a,l,u){const h=st.fromFormat(String(a),l,{numberingSystem:this._numberingSystem})[u];if(!isNaN(h))return h;throw new Error(`Cannot parse time - ${a}`)}}return m.\u0275fac=function(a){return new(a||m)(n.Y36(pn,16))},m.\u0275pipe=n.Yjl({name:"ngxMatTimepickerParser",type:m,pure:!0,standalone:!0}),m.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac}),m})(),us=(()=>{class m{constructor(a,l){this._element=a,this._document=l,this._activeElement=this._document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this._element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this._activeElement.focus({preventScroll:!0}))}}return m.\u0275fac=function(a){return new(a||m)(n.Y36(n.SBq),n.Y36(qt.K0,8))},m.\u0275dir=n.lG2({type:m,selectors:[["","ngxMatTimepickerAutofocus",""]],inputs:{isFocusActive:["ngxMatTimepickerAutofocus","isFocusActive"]},standalone:!0,features:[n.TTD]}),m})();function Bi(){this.selectionStart=this.selectionEnd}let Hi=(()=>{class m{get _selectedTime(){if(this.time)return this.timeList.find(a=>a.time===+this.time)}constructor(a,l){this._elRef=a,this._timeParserPipe=l,this.focused=new n.vpe,this.timeChanged=new n.vpe,this.timeUnitChanged=new n.vpe,this.unfocused=new n.vpe}changeTimeByKeyboard(a){const l=String.fromCharCode(a.keyCode);(function ps(m,s,a){if(/\d/.test(s))return Gi(m+s,a)})(this.time,l,this.timeList)&&a.preventDefault()}ngAfterViewInit(){this._elRef.nativeElement.querySelector("input").addEventListener("select",Bi,!1)}ngOnDestroy(){this._elRef.nativeElement.querySelector("input").removeEventListener("select",Bi)}onKeydown(a){ce.isDigit(a)?this._changeTimeByArrow(a.keyCode):a.preventDefault()}onModelChange(a){this.time=this._timeParserPipe.transform(a,this.timeUnit)}saveTimeAndChangeTimeUnit(a,l){a.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(l),this.focused.next()}updateTime(){this._selectedTime&&(this.timeChanged.next(this._selectedTime),this.previousTime=this._selectedTime.time)}_addTime(a){return`0${+this.time+a}`.substr(-2)}_changeTimeByArrow(a){let l;38===a?l=this._addTime(this.minutesGap||1):40===a&&(l=this._addTime(-1*(this.minutesGap||1))),Gi(l,this.timeList)||(this.time=l,this.updateTime())}}return m.\u0275fac=function(a){return new(a||m)(n.Y36(n.SBq),n.Y36(Kn))},m.\u0275cmp=n.Xpm({type:m,selectors:[["ngx-mat-timepicker-dial-control"]],inputs:{disabled:"disabled",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{focused:"focused",timeChanged:"timeChanged",timeUnitChanged:"timeUnitChanged",unfocused:"unfocused"},standalone:!0,features:[n._Bn([Kn]),n.jDz],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus","keydown","keypress"]],template:function(a,l){if(1&a&&(n.YNc(0,Aa,2,10,"input",0),n.YNc(1,Oo,3,13,"ng-template",null,1,n.W1O)),2&a){const u=n.MAs(2);n.Q6J("ngIf",!l.isEditable)("ngIfElse",u)}},dependencies:[qt.O5,Ze.u5,Ze.Fj,Ze.JJ,Ze.On,qt.mk,us,Kn,_i],styles:[".timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:center;color:inherit}.timepicker-dial__control[_ngcontent-%COMP%]:focus{outline:none;background-color:#0000001a}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]}),m})();function Gi(m,s){const a=s.find(l=>l.time===+m);return!a||a&&a.disabled}let gi,pi=(()=>{class m{set color(a){this._color=a}get color(){return this._color}get hourString(){return`${this.hour}`}get minuteString(){return`${this.minute}`}get _locale(){return this._localeSrv.locale}constructor(a){this._localeSrv=a,this.hourChanged=new n.vpe,this.meridiems=Un.meridiems({locale:this._locale}),this.minuteChanged=new n.vpe,this.periodChanged=new n.vpe,this.timeUnit=Ae,this.timeUnitChanged=new n.vpe,this._color="primary"}changeHour(a){this.hourChanged.next(a)}changeMinute(a){this.minuteChanged.next(a)}changePeriod(a){this.periodChanged.next(a)}changeTimeUnit(a){this.timeUnitChanged.next(a)}hideHint(){this.isHintVisible=!1}ngOnChanges(a){const l=a.period&&a.period.currentValue;if(l||a.format&&a.format.currentValue){const u=ce.getHours(this.format);this.hours=ce.disableHours(u,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(l||a.hour&&a.hour.currentValue){const u=ce.getMinutes(this.minutesGap);this.minutes=ce.disableMinutes(u,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}showHint(){this.isHintVisible=!0}}return m.\u0275fac=function(a){return new(a||m)(n.Y36(pn))},m.\u0275cmp=n.Xpm({type:m,selectors:[["ngx-mat-timepicker-dial"]],inputs:{activeTimeUnit:"activeTimeUnit",color:"color",editableHintTmpl:"editableHintTmpl",format:"format",hour:"hour",hoursOnly:"hoursOnly",isEditable:"isEditable",maxTime:"maxTime",minTime:"minTime",minute:"minute",minutesGap:"minutesGap",period:"period"},outputs:{hourChanged:"hourChanged",minuteChanged:"minuteChanged",periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged"},standalone:!0,features:[n.TTD,n.jDz],decls:9,vars:14,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],["class","timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(a,l){1&a&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-mat-timepicker-dial-control",3),n.NdJ("timeUnitChanged",function(h){return l.changeTimeUnit(h)})("timeChanged",function(h){return l.changeHour(h)})("focused",function(){return l.showHint()})("unfocused",function(){return l.hideHint()}),n.qZA(),n.TgZ(4,"span"),n._uU(5,":"),n.qZA(),n.TgZ(6,"ngx-mat-timepicker-dial-control",4),n.NdJ("timeUnitChanged",function(h){return l.changeTimeUnit(h)})("timeChanged",function(h){return l.changeMinute(h)})("focused",function(){return l.showHint()})("unfocused",function(){return l.hideHint()}),n.qZA()(),n.YNc(7,Sa,1,9,"ngx-mat-timepicker-period",5),n.qZA(),n.YNc(8,ja,4,4,"div",6),n.qZA()),2&a&&(n.xp6(3),n.Q6J("timeList",l.hours)("time",l.hourString)("timeUnit",l.timeUnit.HOUR)("isActive",l.activeTimeUnit===l.timeUnit.HOUR)("isEditable",l.isEditable),n.xp6(3),n.Q6J("timeList",l.minutes)("time",l.minuteString)("timeUnit",l.timeUnit.MINUTE)("isActive",l.activeTimeUnit===l.timeUnit.MINUTE)("isEditable",l.isEditable)("minutesGap",l.minutesGap)("disabled",l.hoursOnly),n.xp6(1),n.Q6J("ngIf",24!==l.format),n.xp6(1),n.Q6J("ngIf",l.isEditable||l.editableHintTmpl))},dependencies:[Hi,qt.O5,Yi,qt.mk,qt.tP],styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:center}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),m})(),Ri=(()=>{class m{}return m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=n.Xpm({type:m,selectors:[["ngx-mat-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},standalone:!0,features:[n.jDz],ngContentSelectors:Ua,decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[4,"ngTemplateOutlet"]],template:function(a,l){if(1&a&&(n.F$t(),n.YNc(0,Da,2,1,"div",0),n.YNc(1,Pa,1,1,"ng-template",null,1,n.W1O),n.YNc(3,za,1,0,"ng-template",null,2,n.W1O)),2&a){const u=n.MAs(2);n.Q6J("ngIf",l.appendToInput)("ngIfElse",u)}},dependencies:[qt.O5,qt.tP],encapsulation:2}),m})(),Vi=(()=>{class m extends Ji{constructor(a,l,u,h,y){super(u,h,y,a),this.data=a,this._dialogRef=l}close(){this._dialogRef.close()}}return m.\u0275fac=function(a){return new(a||m)(n.Y36(Fn.WI),n.Y36(Fn.so),n.Y36(co),n.Y36(So),n.Y36(pn))},m.\u0275cmp=n.Xpm({type:m,selectors:[["ngx-mat-timepicker-dialog"]],standalone:!0,features:[n.qOj,n.jDz],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["mat-dialog-content",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],["mat-dialog-actions",""],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(a,l){if(1&a&&(n.YNc(0,Mn,2,1,"ng-template",null,0,n.W1O),n.YNc(2,yo,2,1,"ng-template",null,1,n.W1O),n.TgZ(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),n.NdJ("periodChanged",function(h){return l.changePeriod(h)})("timeUnitChanged",function(h){return l.changeTimeUnit(h)})("hourChanged",function(h){return l.onHourChange(h)})("minuteChanged",function(h){return l.onMinuteChange(h)}),n.ALo(9,"async"),n.ALo(10,"async"),n.ALo(11,"async"),n.qZA()(),n.TgZ(12,"div",7)(13,"div",8),n.YNc(14,qa,4,2,"div",9),n.YNc(15,Qa,4,14,"ngx-mat-timepicker-minutes-face",10),n.qZA()()()()(),n.TgZ(16,"div",11)(17,"div",12),n.NdJ("click",function(){return l.close()}),n.YNc(18,Ya,1,0,"ng-container",13),n.qZA(),n.TgZ(19,"div",12),n.NdJ("click",function(){return l.setTime()}),n.YNc(20,Ba,1,0,"ng-container",13),n.qZA()()),2&a){const u=n.MAs(1),h=n.MAs(3);let y,M;n.xp6(5),n.Q6J("appendToInput",l.data.appendToInput)("inputElement",l.data.inputElement),n.xp6(1),n.Q6J("ngClass",l.data.timepickerClass),n.xp6(1),n.ekj("is-editable",l.data.enableKeyboardInput),n.Q6J("color",l.color),n.xp6(1),n.Q6J("color",l.color)("format",l.data.format)("hour",null==(y=n.lcZ(9,23,l.selectedHour))?null:y.time)("minute",null==(M=n.lcZ(10,25,l.selectedMinute))?null:M.time)("period",n.lcZ(11,27,l.selectedPeriod))("activeTimeUnit",l.activeTimeUnit)("minTime",l.data.minTime)("maxTime",l.data.maxTime)("isEditable",l.data.enableKeyboardInput)("editableHintTmpl",l.data.editableHintTmpl)("minutesGap",l.data.minutesGap)("hoursOnly",l.data.hoursOnly),n.xp6(5),n.Q6J("ngSwitch",l.activeTimeUnit),n.xp6(1),n.Q6J("ngSwitchCase",l.timeUnit.HOUR),n.xp6(1),n.Q6J("ngSwitchCase",l.timeUnit.MINUTE),n.xp6(3),n.Q6J("ngTemplateOutlet",l.data.cancelBtnTmpl?l.data.cancelBtnTmpl:u),n.xp6(2),n.Q6J("ngTemplateOutlet",l.data.confirmBtnTmpl?l.data.confirmBtnTmpl:h)}},dependencies:[qt.Ov,qt.mk,qt.O5,qt.RF,qt.n9,qt.tP,dn.ot,dn.lW,Fn.Is,Fn.xY,Fn.H8,Jn.g0,Jn.Ye,Ri,pi,ui,di,mi],styles:["div.ngx-mat-timepicker-dialog>mat-dialog-container{padding-top:0}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content]{padding:0;max-height:85vh}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header.is-editable{height:auto}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] .clock-face{margin:16px}div.ngx-mat-timepicker-dialog>mat-dialog-container div[mat-dialog-actions]{justify-content:flex-end;display:flex}\n"],encapsulation:2}),m})(),$i=(()=>{class m extends Ji{constructor(a,l,u,h){super(l,u,h,a),this.data=a}close(){this.data.timepickerBaseRef.close()}}return m.\u0275fac=function(a){return new(a||m)(n.Y36(lo),n.Y36(co),n.Y36(So),n.Y36(pn))},m.\u0275cmp=n.Xpm({type:m,selectors:[["ngx-mat-timepicker-standalone"]],hostVars:2,hostBindings:function(a,l){2&a&&n.ekj("mat-app-background",!0)},standalone:!0,features:[n.qOj,n.jDz],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["cdkTrapFocus",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"ngx-mat-timepicker-standalone-actions"],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(a,l){if(1&a&&(n.YNc(0,Ha,2,1,"ng-template",null,0,n.W1O),n.YNc(2,Ga,2,1,"ng-template",null,1,n.W1O),n.TgZ(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),n.NdJ("periodChanged",function(h){return l.changePeriod(h)})("timeUnitChanged",function(h){return l.changeTimeUnit(h)})("hourChanged",function(h){return l.onHourChange(h)})("minuteChanged",function(h){return l.onMinuteChange(h)}),n.ALo(9,"async"),n.ALo(10,"async"),n.ALo(11,"async"),n.qZA()(),n.TgZ(12,"div",7)(13,"div",8),n.YNc(14,$a,4,2,"div",9),n.YNc(15,Ka,4,14,"ngx-mat-timepicker-minutes-face",10),n.qZA()()()(),n.TgZ(16,"div",11)(17,"div",12),n.NdJ("click",function(){return l.close()}),n.YNc(18,Wa,1,0,"ng-container",13),n.qZA(),n.TgZ(19,"div",12),n.NdJ("click",function(){return l.setTime()}),n.YNc(20,Xa,1,0,"ng-container",13),n.qZA()()()),2&a){const u=n.MAs(1),h=n.MAs(3);let y,M;n.xp6(5),n.Q6J("appendToInput",l.data.appendToInput)("inputElement",l.data.inputElement),n.xp6(1),n.Q6J("ngClass",l.data.timepickerClass),n.xp6(1),n.ekj("is-editable",l.data.enableKeyboardInput),n.Q6J("color",l.color),n.xp6(1),n.Q6J("color",l.color)("format",l.data.format)("hour",null==(y=n.lcZ(9,23,l.selectedHour))?null:y.time)("minute",null==(M=n.lcZ(10,25,l.selectedMinute))?null:M.time)("period",n.lcZ(11,27,l.selectedPeriod))("activeTimeUnit",l.activeTimeUnit)("minTime",l.data.minTime)("maxTime",l.data.maxTime)("isEditable",l.data.enableKeyboardInput)("editableHintTmpl",l.data.editableHintTmpl)("minutesGap",l.data.minutesGap)("hoursOnly",l.data.hoursOnly),n.xp6(5),n.Q6J("ngSwitch",l.activeTimeUnit),n.xp6(1),n.Q6J("ngSwitchCase",l.timeUnit.HOUR),n.xp6(1),n.Q6J("ngSwitchCase",l.timeUnit.MINUTE),n.xp6(3),n.Q6J("ngTemplateOutlet",l.data.cancelBtnTmpl?l.data.cancelBtnTmpl:u),n.xp6(2),n.Q6J("ngTemplateOutlet",l.data.confirmBtnTmpl?l.data.confirmBtnTmpl:h)}},dependencies:[dn.ot,dn.lW,ai.rt,ai.mK,Ri,qt.mk,Jn.g0,Jn.Ye,pi,qt.RF,qt.n9,qt.O5,ui,di,mi,qt.tP,qt.Ov],styles:["ngx-mat-timepicker-standalone{display:block;border-radius:4px;box-shadow:0 0 5px 2px #00000040;overflow:hidden}ngx-mat-timepicker-standalone ngx-mat-timepicker-content{display:block}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header.is-editable{height:auto}ngx-mat-timepicker-standalone ngx-mat-timepicker-content .clock-face{margin:16px}ngx-mat-timepicker-standalone .ngx-mat-timepicker-standalone-actions{display:flex;flex-direction:row;justify-content:flex-end;padding:0 16px 16px}\n"],encapsulation:2}),m})(),hi=(()=>{class m{set appendToInput(a){this._appendToInput=(0,rt.Ig)(a)}set color(a){this._color=a}get color(){return this._color}get disabled(){return this._timepickerInput&&this._timepickerInput.disabled}set enableKeyboardInput(a){this._enableKeyboardInput=(0,rt.Ig)(a)}get enableKeyboardInput(){return this._enableKeyboardInput}get format(){return this._timepickerInput?this._timepickerInput.format:this._format}set format(a){this._format=Vt.isTwentyFour(a)?24:12}get inputElement(){return this._timepickerInput&&this._timepickerInput.element}get maxTime(){return this._timepickerInput?this._timepickerInput.max:this.max}get minTime(){return this._timepickerInput?this._timepickerInput.min:this.min}get minutesGap(){return this._minutesGap}set minutesGap(a){null!=a&&(a=Math.floor(a),this._minutesGap=a<=59?a:1)}get overlayOrigin(){return this._timepickerInput?this._timepickerInput.cdkOverlayOrigin:void 0}get time(){return this._timepickerInput&&this._timepickerInput.value}constructor(a,l,u){this._eventService=a,this._dialog=l,this._overlay=u,this.closed=new n.vpe,this.hourSelected=new n.vpe,this.hoursOnly=!1,this.id="ngx_mat_timepicker_"+ ++m.nextId,this.isEsc=!0,this.opened=new n.vpe,this.overlayPositions=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:0},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:0}],this.showPicker=!1,this.timeChanged=new n.vpe,this.timeSet=new n.vpe,this.timeUpdated=new $n.X(void 0),this._appendToInput=!1,this._color="primary",this._enableKeyboardInput=!1,this._format=12}close(){this._appendToInput?this._overlayRef&&this._overlayRef.dispose():this._dialogRef&&this._dialogRef.close(),this.inputElement.focus(),this.showPicker=!1,this.closed.emit()}open(){gi={timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this._appendToInput,hoursOnly:this.hoursOnly,timepickerClass:this.timepickerClass,inputElement:this.inputElement,color:this.color},this._appendToInput?this.showPicker=!0:(this._dialogRef=this._dialog.open(Vi,{panelClass:"ngx-mat-timepicker-dialog",data:{...gi}}),this._dialogRef.afterClosed().subscribe(()=>{this.closed.emit()})),this.opened.emit()}registerInput(a){if(this._timepickerInput)throw console.warn("Input for this timepicker was already set",a.element),Error("A Timepicker can only be associated with a single input.");this._timepickerInput=a}unregisterInput(){this._timepickerInput=void 0}updateTime(a){this.timeUpdated.next(a)}}return m.nextId=0,m.\u0275fac=function(a){return new(a||m)(n.Y36(So),n.Y36(Fn.uw),n.Y36(e.aV))},m.\u0275cmp=n.Xpm({type:m,selectors:[["ngx-mat-timepicker"]],hostVars:1,hostBindings:function(a,l){2&a&&n.Ikx("id",l.id)},inputs:{appendToInput:"appendToInput",color:"color",enableKeyboardInput:"enableKeyboardInput",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",defaultTime:"defaultTime",disableAnimation:"disableAnimation",editableHintTmpl:"editableHintTmpl",hoursOnly:"hoursOnly",isEsc:"isEsc",max:"max",min:"min",preventOverlayClick:"preventOverlayClick",timepickerClass:"timepickerClass"},outputs:{closed:"closed",hourSelected:"hourSelected",opened:"opened",timeChanged:"timeChanged",timeSet:"timeSet"},standalone:!0,features:[n._Bn([{provide:lo,useFactory:()=>gi}]),n.jDz],decls:1,vars:4,consts:[["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","backdropClick"]],template:function(a,l){1&a&&(n.YNc(0,ts,1,0,"ng-template",0),n.NdJ("backdropClick",function(){return l.close()})),2&a&&n.Q6J("cdkConnectedOverlayPositions",l.overlayPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayOrigin",l.overlayOrigin)("cdkConnectedOverlayOpen",l.showPicker)},dependencies:[e.pI,$i],encapsulation:2}),m})(),Ki=(()=>{class m{}return m.\u0275fac=function(a){return new(a||m)},m.\u0275dir=n.lG2({type:m,selectors:[["","ngxMatTimepickerToggleIcon",""]],standalone:!0}),m})(),Wi=(()=>{class m{get disabled(){return void 0===this._disabled?this.timepicker?.disabled:this._disabled}set disabled(a){this._disabled=a}open(a){this.timepicker&&(this.timepicker.open(),a.stopPropagation())}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=n.Xpm({type:m,selectors:[["ngx-mat-timepicker-toggle"]],contentQueries:function(a,l,u){if(1&a&&n.Suo(u,Ki,7),2&a){let h;n.iGM(h=n.CRH())&&(l.customIcon=h.first)}},inputs:{disabled:"disabled",timepicker:["for","timepicker"]},standalone:!0,features:[n.jDz],ngContentSelectors:os,decls:3,vars:2,consts:[["color","","mat-icon-button","","type","button",1,"ngx-mat-timepicker-toggle","mat-elevation-z0",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","class","ngx-mat-timepicker-toggle-default-icon","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",1,"ngx-mat-timepicker-toggle-default-icon"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(a,l){1&a&&(n.F$t(ns),n.TgZ(0,"button",0),n.NdJ("click",function(h){return l.open(h)}),n.YNc(1,es,2,0,"svg",1),n.Hsn(2),n.qZA()),2&a&&(n.Q6J("disabled",l.disabled),n.xp6(1),n.Q6J("ngIf",!l.customIcon))},dependencies:[dn.ot,dn.RK,qt.O5],styles:["button.ngx-mat-timepicker-toggle{background-color:transparent;text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer;box-shadow:none}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{margin:auto}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}body .ngx-mat-timepicker-toggle{color:#0000008a}\n"],encapsulation:2}),m})(),Xi=(()=>{class m{set color(a){this._color=a}get color(){return this._color}set floatLabel(a){this._floatLabel=a}get floatLabel(){return this._floatLabel}constructor(a){this._timeParser=a,this.id=m.nextId++,this.timeChanged=new n.vpe,this._color="primary",this._floatLabel="auto"}changeTime(a){a.stopPropagation();const l=a.data,u=function gs(m,s){if(/\d/.test(s))return+(m+s)}(String(this.time),l);this._changeTimeIfValid(u)}decrease(){if(!this.disabled){let a=+this.time-1;a<this.min&&(a=this.max),this._isSelectedTimeDisabled(a)&&(a=this._getAvailableTime(a,this._getPrevAvailableTime.bind(this))),a!==this.time&&this.timeChanged.emit(a)}}increase(){if(!this.disabled){let a=+this.time+1;a>this.max&&(a=this.min),this._isSelectedTimeDisabled(a)&&(a=this._getAvailableTime(a,this._getNextAvailableTime.bind(this))),a!==this.time&&this.timeChanged.emit(a)}}ngOnChanges(a){a.timeList&&null!=this.time&&this._isSelectedTimeDisabled(this.time)&&this._setAvailableTime()}onBlur(){this.isFocused=!1,this._previousTime!==this.time&&this._changeTimeIfValid(+this.time)}onFocus(){this.isFocused=!0,this._previousTime=this.time}onKeydown(a){switch(a.stopPropagation(),ce.isDigit(a)||a.preventDefault(),a.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==a.key&&a.preventDefault()}onModelChange(a){this.time=+this._timeParser.transform(a,this.timeUnit)}_changeTimeIfValid(a){if(!isNaN(a)){if(this.time=a,this.time>this.max){const l=String(a);this.time=+l[l.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}_getAvailableTime(a,l){return l(this.timeList.findIndex(y=>y.time===a))??this.time}_getNextAvailableTime(a){const l=this.timeList,u=l.length;for(let h=a+1;h<u;h++){const y=l[h];if(!y.disabled)return y.time}}_getPrevAvailableTime(a){for(let l=a;l>=0;l--){const u=this.timeList[l];if(!u.disabled)return u.time}}_isSelectedTimeDisabled(a){return this.timeList.find(l=>l.time===a).disabled}_setAvailableTime(){this.time=this.timeList.find(a=>!a.disabled).time,this.timeChanged.emit(this.time)}}return m.nextId=0,m.\u0275fac=function(a){return new(a||m)(n.Y36(Kn))},m.\u0275cmp=n.Xpm({type:m,selectors:[["ngx-mat-timepicker-time-control"]],inputs:{color:"color",disabled:"disabled",floatLabel:"floatLabel",max:"max",min:"min",placeholder:"placeholder",preventTyping:"preventTyping",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[n._Bn([Kn]),n.TTD,n.jDz],decls:13,vars:17,consts:[[1,"ngx-mat-timepicker-control",3,"color","floatLabel","ngClass"],["matInput","","maxlength","2",3,"id","name","ngModel","placeholder","disabled","ngModelChange","keydown","beforeinput","focus","blur"],["matSuffix","",1,"arrows-wrap"],["role","button",1,"arrow",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","18","viewBox","0 0 24 24","width","18"],["d","M0 0h24v24H0z","fill","none"],["d","M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"],["d","M0 0h24v24H0V0z","fill","none"],["d","M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"]],template:function(a,l){1&a&&(n.TgZ(0,"mat-form-field",0)(1,"input",1),n.NdJ("ngModelChange",function(h){return l.onModelChange(h)})("keydown",function(h){return l.onKeydown(h)})("beforeinput",function(h){return l.changeTime(h)})("focus",function(){return l.onFocus()})("blur",function(){return l.onBlur()}),n.ALo(2,"timeLocalizer"),n.ALo(3,"ngxMatTimepickerParser"),n.qZA(),n.TgZ(4,"div",2)(5,"span",3),n.NdJ("click",function(){return l.increase()}),n.O4$(),n.TgZ(6,"svg",4),n._UZ(7,"path",5)(8,"path",6),n.qZA()(),n.kcU(),n.TgZ(9,"span",3),n.NdJ("click",function(){return l.decrease()}),n.O4$(),n.TgZ(10,"svg",4),n._UZ(11,"path",7)(12,"path",8),n.qZA()()()()),2&a&&(n.Q6J("color",l.color)("floatLabel",l.floatLabel)("ngClass",n.VKq(15,ro,l.isFocused)),n.xp6(1),n.MGl("id","ngx_mat_timepicker_field_",l.id,"")("name","ngx_mat_timepicker_field_",l.id,""),n.Q6J("ngModel",n.Dn7(2,8,n.xi3(3,12,l.time,l.timeUnit),l.timeUnit,!0))("placeholder",l.placeholder)("disabled",l.disabled))},dependencies:[qn.lN,qn.KE,qn.R9,qt.mk,li.c,li.Nt,Ze.u5,Ze.Fj,Ze.JJ,Ze.nD,Ze.On,Kn,_i],styles:[".ngx-mat-timepicker-control[_ngcontent-%COMP%]{width:60px;min-width:60px}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%]{position:relative;z-index:1}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{text-align:center;opacity:.5;height:15px;cursor:pointer;transition:opacity .2s;-webkit-user-select:none;user-select:none}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0}),m})(),hs=(()=>{class m{get color(){return this._color}set color(a){this._color=a}get defaultTime(){return this._defaultTime}set defaultTime(a){this._defaultTime=a,this._isDefaultTime=!!a}get floatLabel(){return this._floatLabel}set floatLabel(a){this._floatLabel=a}get format(){return this._format}set format(a){Vt.isTwentyFour(a)?(this._format=24,this.minHour=0,this.maxHour=23):(this._format=12,this.minHour=1,this.maxHour=12),this.hoursList=ce.getHours(this._format),a&&this._previousFormat&&this._previousFormat!==this._format&&this._updateTime(this.timepickerTime),this._previousFormat=this._format}get max(){return this._max}set max(a){this._max="string"!=typeof a?a:Vt.parseTime(a,{locale:this._locale,format:this.format})}get min(){return this._min}set min(a){this._min="string"!=typeof a?a:Vt.parseTime(a,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(a,l){this._timepickerService=a,this._timepickerLocaleSrv=l,this.hour$=new $n.X(void 0),this.maxHour=12,this.minHour=1,this.minute$=new $n.X(void 0),this.period=Ce.AM,this.periods=[Ce.AM,Ce.PM],this.timeChanged=new n.vpe,this.timeUnit=Ae,this._color="primary",this._floatLabel="auto",this._format=12,this._isFirstTimeChange=!0,this._subsCtrl$=new oo.x,this._onChange=()=>{},this._onTouched=()=>{}}changeHour(a){this._timepickerService.hour=this.hoursList.find(l=>l.time===a),this._changeTime()}changeMinute(a){this._timepickerService.minute=this.minutesList.find(l=>l.time===a),this._changeTime()}changePeriod(a){this._timepickerService.period=a.value,this._changeTime()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._initTime(this.defaultTime),this.hoursList=ce.getHours(this._format),this.minutesList=ce.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this._timepickerService.selectedHour.pipe((0,ao.b)(a=>this._selectedHour=a?.time),(0,ji.U)(this._changeDefaultTimeValue.bind(this)),(0,ao.b)(()=>this.isTimeRangeSet&&this._updateAvailableMinutes())).subscribe({next:a=>this.hour$.next(a)}),this._timepickerService.selectedMinute.pipe((0,ji.U)(this._changeDefaultTimeValue.bind(this)),(0,ao.b)(()=>this._isFirstTimeChange=!1)).subscribe({next:a=>this.minute$.next(a)}),12===this.format&&this._timepickerService.selectedPeriod.pipe((0,ua.x)(),(0,ao.b)(a=>this.period=a),(0,ao.b)(a=>this.isChangePeriodDisabled=this._isPeriodDisabled(a)),(0,ii.R)(this._subsCtrl$)).subscribe(()=>this.isTimeRangeSet&&this._updateAvailableTime())}onTimeSet(a){this._updateTime(a),this._emitLocalTimeChange(a)}registerOnChange(a){this._onChange=a}registerOnTouched(a){this._onTouched=a}setDisabledState(a){this.disabled=a}writeValue(a){a?this._initTime(a):this._resetTime()}_changeDefaultTimeValue(a){return!this._isDefaultTime&&this._isFirstTimeChange?{...a,time:null}:a}_changeTime(){if(!isNaN(this.hour$.getValue()?.time)&&!isNaN(this.minute$.getValue()?.time)){const a=this._timepickerService.getFullTime(this.format);this.timepickerTime=a,this._emitLocalTimeChange(a)}}_emitLocalTimeChange(a){const l=Vt.toLocaleTimeString(a,{format:this.format,locale:this._locale});this._onChange(l),this._onTouched(l),this.timeChanged.emit(l)}_initTime(a){if(!Vt.isTimeAvailable(a,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this._updateTime(Vt.fromDateTimeToString(this.min,this.format));if(this.max)return void this._updateTime(Vt.fromDateTimeToString(this.max,this.format))}this._updateTime(a)}_isPeriodDisabled(a){return ce.disableHours(ce.getHours(12),{min:this.min,max:this.max,format:12,period:a===Ce.AM?Ce.PM:Ce.AM}).every(l=>l.disabled)}_resetTime(){this._timepickerService.hour={angle:0,time:null},this._timepickerService.minute={angle:0,time:null}}_updateAvailableHours(){this.hoursList=ce.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableMinutes(){this.minutesList=ce.disableMinutes(this.minutesList,this._selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableTime(){this._updateAvailableHours(),this._selectedHour&&this._updateAvailableMinutes()}_updateTime(a){if(a){const l=Vt.formatTime(a,{locale:this._locale,format:this.format});this._timepickerService.setDefaultTimeIfAvailable(l,this.min,this.max,this.format),this.timepickerTime=l}}}return m.\u0275fac=function(a){return new(a||m)(n.Y36(co),n.Y36(pn))},m.\u0275cmp=n.Xpm({type:m,selectors:[["ngx-mat-timepicker-field"]],inputs:{color:"color",defaultTime:"defaultTime",floatLabel:"floatLabel",format:"format",max:"max",min:"min",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",controlOnly:"controlOnly",disabled:"disabled",toggleIcon:"toggleIcon"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[n._Bn([co,{provide:Ze.JU,useExisting:m,multi:!0}]),n.jDz],decls:11,vars:32,consts:[[1,"ngx-mat-timepicker",3,"ngClass"],[1,"ngx-mat-timepicker__control--first",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],[1,"separator-colon","ngx-mat-timepicker__control--second"],[1,"ngx-mat-timepicker__control--third",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],["class","period-select ngx-mat-timepicker__control--forth",3,"color",4,"ngIf"],["class","ngx-mat-timepicker__toggle",3,"for","disabled",4,"ngIf"],[3,"color","min","max","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl","timeSet"],["timepicker",""],["defaultIcon",""],[1,"period-select","ngx-mat-timepicker__control--forth",3,"color"],[3,"disabled","ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ngx-mat-timepicker__toggle",3,"for","disabled"],["ngxMatTimepickerToggleIcon",""],[4,"ngTemplateOutlet"]],template:function(a,l){if(1&a&&(n.TgZ(0,"div",0)(1,"ngx-mat-timepicker-time-control",1),n.NdJ("timeChanged",function(h){return l.changeHour(h)}),n.qZA(),n.TgZ(2,"span",2),n._uU(3,":"),n.qZA(),n.TgZ(4,"ngx-mat-timepicker-time-control",3),n.NdJ("timeChanged",function(h){return l.changeMinute(h)}),n.qZA(),n.YNc(5,zi,3,4,"mat-form-field",4),n.YNc(6,ss,3,3,"ngx-mat-timepicker-toggle",5),n.qZA(),n.TgZ(7,"ngx-mat-timepicker",6,7),n.NdJ("timeSet",function(h){return l.onTimeSet(h)}),n.qZA(),n.YNc(9,Ui,2,0,"ng-template",null,8,n.W1O)),2&a){let u,h;n.Q6J("ngClass",n.VKq(30,rs,l.disabled)),n.xp6(1),n.Q6J("color",l.color)("floatLabel",l.floatLabel)("placeholder","HH")("time",null==(u=l.hour$.getValue())?null:u.time)("min",l.minHour)("max",l.maxHour)("timeUnit",l.timeUnit.HOUR)("disabled",l.disabled)("timeList",l.hoursList)("preventTyping",l.isTimeRangeSet),n.xp6(3),n.Q6J("color",l.color)("floatLabel",l.floatLabel)("placeholder","MM")("time",null==(h=l.minute$.getValue())?null:h.time)("min",0)("max",59)("timeUnit",l.timeUnit.MINUTE)("disabled",l.disabled)("timeList",l.minutesList)("preventTyping",l.isTimeRangeSet),n.xp6(1),n.Q6J("ngIf",24!==l.format),n.xp6(1),n.Q6J("ngIf",!l.controlOnly),n.xp6(1),n.Q6J("color",l.color)("min",l.min)("max",l.max)("defaultTime",l.timepickerTime)("format",l.format)("cancelBtnTmpl",l.cancelBtnTmpl)("confirmBtnTmpl",l.confirmBtnTmpl)}},dependencies:[qt.mk,Xi,qt.O5,qn.lN,qn.KE,si.LD,si.gD,Li.ey,Ze.u5,Ze.JJ,Ze.On,qt.ax,Li.Ng,Wi,Ki,qt.tP,hi,ri.Ps,ri.Hw],styles:[".ngx-mat-timepicker{display:flex;align-items:center;height:100%}.ngx-mat-timepicker--disabled{background:rgba(0,0,0,.07);pointer-events:none}.ngx-mat-timepicker .separator-colon{margin-left:5px;margin-right:5px}.ngx-mat-timepicker .period-select{width:60px;min-width:60px;margin-left:8px;text-align:center}.ngx-mat-timepicker__control--first{order:1}.ngx-mat-timepicker__control--second{order:2}.ngx-mat-timepicker__control--third{order:3}.ngx-mat-timepicker__control--forth{order:4}.ngx-mat-timepicker__toggle{order:4;margin-bottom:1.5em;margin-left:4px}.ngx-mat-timepicker__toggle span.mat-button-wrapper{font-size:24px}\n"],encapsulation:2,changeDetection:0}),m})(),fs=(()=>{class m{get element(){return this._elementRef&&this._elementRef.nativeElement}get format(){return this._format}set format(a){this._format=Vt.isTwentyFour(+a)?24:12,a&&this._previousFormat&&this._previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this._previousFormat=this._format}get max(){return this._max}set max(a){this._max="string"!=typeof a?a:Vt.parseTime(a,{locale:this._locale,format:this.format})}get min(){return this._min}set min(a){this._min="string"!=typeof a?a:Vt.parseTime(a,{locale:this._locale,format:this.format})}set timepicker(a){this._registerTimepicker(a)}get value(){return this._value?Vt.toLocaleTimeString(this._value,{format:this.format,locale:this._locale}):""}set value(a){if(!a)return this._value="",void this._updateInputValue();const l=Vt.formatTime(a,{locale:this._locale,format:this.format});if(Vt.isTimeAvailable(l,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=l,void this._updateInputValue();console.warn("Selected time doesn't match min or max value")}set _defaultTime(a){this._timepicker.defaultTime=Vt.formatTime(a,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(a,l,u){this._elementRef=a,this._timepickerLocaleSrv=l,this._matFormField=u,this.cdkOverlayOrigin=new e.xu(this._matFormField?this._matFormField.getConnectedOverlayOrigin():this._elementRef),this._format=12,this._subsCtrl$=new oo.x,this._value="",this.onTouched=()=>{},this._onChange=()=>{}}ngOnChanges(a){const l=a.value;l&&l.currentValue&&(this._defaultTime=l.currentValue)}ngOnDestroy(){this._unregisterTimepicker(),this._subsCtrl$.next(),this._subsCtrl$.complete()}onClick(a){this.disableClick||(this._timepicker.open(),a.stopPropagation())}registerOnChange(a){this._onChange=a}registerOnTouched(a){this.onTouched=a}setDisabledState(a){this.disabled=a}updateValue(a){this.value=a.target.value,this._onChange(this.value)}writeValue(a){this.value=a,a&&(this._defaultTime=a)}_registerTimepicker(a){if(!a)throw new Error("NgxMatTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxMatTimepicker directive");this._timepicker=a,this._timepicker.registerInput(this),this._timepicker.timeSet.pipe((0,ii.R)(this._subsCtrl$)).subscribe(l=>{this.value=l,this._onChange(this.value),this.onTouched(),this._defaultTime=this._value})}_unregisterTimepicker(){this._timepicker&&this._timepicker.unregisterInput()}_updateInputValue(){this._elementRef.nativeElement.value=this.value}}return m.\u0275fac=function(a){return new(a||m)(n.Y36(n.SBq),n.Y36(pn),n.Y36(qn.KE,8))},m.\u0275dir=n.lG2({type:m,selectors:[["","ngxMatTimepicker",""]],hostVars:2,hostBindings:function(a,l){1&a&&n.NdJ("blur",function(){return l.onTouched()})("click",function(h){return l.onClick(h)})("change",function(h){return l.updateValue(h)}),2&a&&(n.Ikx("disabled",l.disabled),n.uIk("cdkOverlayOrigin",l.cdkOverlayOrigin))},inputs:{format:"format",max:"max",min:"min",timepicker:["ngxMatTimepicker","timepicker"],value:"value",disableClick:"disableClick",disabled:"disabled"},standalone:!0,features:[n._Bn([{provide:Ze.JU,useExisting:m,multi:!0}]),n.TTD]}),m})(),xs=(()=>{class m{static setLocale(a){return{ngModule:m,providers:[{provide:Fi,useValue:a},{provide:lo,useValue:void 0},pn]}}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275mod=n.oAB({type:m}),m.\u0275inj=n.cJS({providers:[pn,{provide:dn.Ew,useValue:{color:"void"}}],imports:[qt.ez,ai.rt,Ze.u5,dn.ot,qn.lN,Fn.Is,li.c,si.LD,Jn.g0,ri.Ps,e.U8,ci.eL,hi,pi,Hi,Vi,Mo,mi,$i,Wi,di,ui,hs,Xi]}),m})()}}]);