"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[4505],{47635:(Me,Kt,p)=>{p.d(Kt,{c:()=>Tt});var w=p(10936),i=p(66257),n=p(48725),ot=p(59640),e=p(37497),t=p(27208),T=p(18586),x=p(48891),o=p(65162),yt=p(95624),zt=p(46899),St=p(25898),ct=p(54460),Nt=p(47712),J=p(18718),bt=p(22613),st=p(69135),Ct=p(32099),q=p(5800),P=p(10123),Z=p(15343),z=p(76975);const gt=tt=>({"text-primary stroke-width-2.5":tt}),Ot=tt=>({"text-primary stroke-width-2.5":tt,"-mt-2":!0});function $t(tt,pt){1&tt&&(x.j41(0,"div",10),x.EFF(1),x.nI1(2,"mytranslate"),x.k0s()),2&tt&&(x.R7$(),x.SpI(" ",x.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Rt(tt,pt){if(1&tt){const L=x.RV6();x.j41(0,"div",11)(1,"div",12)(2,"azt-search-box",13),x.nI1(3,"mytranslate"),x.bIt("onSearch",function(At){x.eBV(L);const ae=x.XpG();return x.Njj(ae.onSearchBox(At.searchObj))}),x.k0s()()()}2&tt&&(x.R7$(2),x.Y8G("isServerSearch",!0)("placeholder",x.bMT(3,2,"lang_core_tim_theo_ten_phone_email")))}function fe(tt,pt){if(1&tt&&x.nrm(0,"azt-loading-effect",15),2&tt){const L=x.XpG(2);x.Y8G("currentStatusObj",L.statusObj)}}function be(tt,pt){if(1&tt&&(x.j41(0,"div",25),x.nrm(1,"lucide-icon",26)(2,"lucide-icon",27),x.k0s()),2&tt){const L=x.XpG().$implicit,_t=x.XpG(3);x.R7$(),x.Y8G("ngClass",x.eq3(2,gt,L.typeFieldSort===_t.typeFieldSort.asc)),x.R7$(),x.Y8G("ngClass",x.eq3(4,Ot,L.typeFieldSort===_t.typeFieldSort.desc))}}function It(tt,pt){if(1&tt){const L=x.RV6();x.j41(0,"th",22)(1,"div",23),x.bIt("click",function(){const At=x.eBV(L).$implicit,ae=x.XpG(3);return x.Njj(ae.sortTableByFieldName(At))}),x.EFF(2),x.nI1(3,"mytranslate"),x.DNE(4,be,3,6,"div",24),x.k0s()()}if(2&tt){const L=pt.$implicit;x.R7$(),x.Aen(L.customStyle),x.HbH(L.customClassCss),x.R7$(),x.SpI(" ",x.bMT(3,6,L.key)," "),x.R7$(2),x.Y8G("ngIf",!L.ignore)}}function Qt(tt,pt){if(1&tt){const L=x.RV6();x.j41(0,"tr",28)(1,"td"),x.nrm(2,"azt-student-info-box",29),x.k0s(),x.j41(3,"td",30),x.EFF(4),x.nI1(5,"formatStudentCodeToNumber"),x.k0s(),x.j41(6,"td",30),x.EFF(7),x.nI1(8,"formatOnlyDateByUserUnitPipe"),x.k0s(),x.j41(9,"td",30)(10,"div",31),x.nrm(11,"textarea",32),x.nI1(12,"mytranslate"),x.j41(13,"span",33,1),x.nI1(15,"mytranslate"),x.bIt("click",function(){const At=x.eBV(L).$implicit,ae=x.XpG(3);return x.Njj(ae.showAllComment(At))}),x.nrm(16,"lucide-icon",34),x.k0s()()()()}if(2&tt){const L=pt.$implicit,_t=x.sdS(14);x.Y8G("id","row_student_"+L.id),x.R7$(2),x.Y8G("name",L.fullName)("parentFullName",L.parentFullName)("parentId",L.parentId)("phone",L.phone)("parentPhone",L.parentPhone)("avatar",L.avatar)("gender",L.gender)("hasUser",L.hasUser)("schoolName",L.schoolName)("classrooms",L.classrooms)("joinedAt",L.joinedAt)("identificationNumber",L.identificationNumber),x.R7$(2),x.JRh(L.identificationNumber?x.i5U(5,22,L.identificationNumber,6):""),x.R7$(3),x.JRh(x.bMT(8,25,null!=L.assessments&&L.assessments[0]?null==L.assessments||null==L.assessments[0]?null:L.assessments[0].createdAt:"")),x.R7$(4),x.FS9("placeholder",x.bMT(12,27,"lang_azt_enter_comment")),x.Y8G("id","assessment_content_"+L.id)("disabled",!0)("value",L.lastAssessmentComment),x.R7$(2),x.FS9("matTooltip",x.bMT(15,29,"lang_student_show_all_comment")),x.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",_t.isDisabled)}}function Pt(tt,pt){if(1&tt){const L=x.RV6();x.j41(0,"azt-paging",38),x.bIt("goToPaginationPage",function(At){x.eBV(L);const ae=x.XpG(4);return x.Njj(ae.setPageStudent(At))}),x.k0s()}if(2&tt){const L=x.XpG(4);x.Y8G("pageObj",L.pageObj)}}function Ft(tt,pt){if(1&tt&&(x.j41(0,"div",39),x.EFF(1),x.nI1(2,"mytranslate"),x.k0s()),2&tt){const L=x.XpG(4);x.R7$(),x.Lme("",L.totalStudent," ",x.bMT(2,2,"lang_notify_list_students"),"")}}function Wt(tt,pt){if(1&tt&&(x.j41(0,"div",35),x.nrm(1,"div"),x.DNE(2,Pt,1,1,"azt-paging",36)(3,Ft,3,4,"div",37),x.k0s()),2&tt){const L=x.XpG(3);x.R7$(2),x.Y8G("ngIf",L.totalStudent>L.pageObj.pageSize),x.R7$(),x.Y8G("ngIf",!L.isStudent)}}function le(tt,pt){if(1&tt&&(x.j41(0,"div",16)(1,"drag-scroll")(2,"table",17)(3,"thead")(4,"tr",18),x.DNE(5,It,5,8,"th",19),x.k0s()(),x.j41(6,"tbody"),x.DNE(7,Qt,17,31,"tr",20),x.k0s()()()(),x.DNE(8,Wt,4,2,"div",21)),2&tt){const L=x.XpG(2);x.R7$(5),x.Y8G("ngForOf",L.sortTableByFieldNameService.fieldNameList),x.R7$(2),x.Y8G("ngForOf",L.listStudent),x.R7$(),x.Y8G("ngIf",L.listStudent&&L.totalStudent&&L.totalStudent>0)}}function Mt(tt,pt){if(1&tt&&(x.j41(0,"div",5),x.DNE(1,fe,1,1,"azt-loading-effect",14)(2,le,9,3,"ng-template",null,0,x.C5r),x.k0s()),2&tt){const L=x.sdS(3),_t=x.XpG();x.R7$(),x.Y8G("ngIf",_t.statusObj.loading)("ngIfElse",L)}}function Xt(tt,pt){if(1&tt&&x.nrm(0,"azt-loading-effect",15),2&tt){const L=x.XpG(2);x.Y8G("currentStatusObj",L.statusObj)}}function Bt(tt,pt){1&tt&&(x.j41(0,"div",41),x.EFF(1),x.nI1(2,"mytranslate"),x.k0s()),2&tt&&(x.R7$(),x.SpI(" ",x.bMT(2,1,"lang_azt_no_comments_yet")," "))}function Dt(tt,pt){if(1&tt&&(x.j41(0,"div",44)(1,"div",45)(2,"p",46),x.EFF(3),x.nI1(4,"mytranslate"),x.nI1(5,"formatOnlyDateByUserUnitPipe"),x.k0s()(),x.nrm(6,"div",47),x.nI1(7,"safeNormalHtmlContent"),x.k0s()),2&tt){const L=pt.$implicit;x.R7$(3),x.Lme("",x.bMT(4,3,"lang_student_add_comment_date"),": ",x.bMT(5,5,L.updatedAt),""),x.R7$(3),x.Y8G("innerHTML",x.bMT(7,7,L.comment),x.npT)}}function Gt(tt,pt){if(1&tt&&(x.j41(0,"div",42),x.DNE(1,Dt,8,9,"div",43),x.k0s()),2&tt){const L=x.XpG(3);x.R7$(),x.Y8G("ngForOf",null==L.firstStudent?null:L.firstStudent.assessments)}}function qt(tt,pt){if(1&tt&&x.DNE(0,Bt,3,3,"div",40)(1,Gt,2,1,"ng-template",null,3,x.C5r),2&tt){const L=x.sdS(2),_t=x.XpG(2);x.Y8G("ngIf",!(null!=_t.firstStudent&&_t.firstStudent.assessments&&null!=_t.firstStudent&&null!=_t.firstStudent.assessments&&_t.firstStudent.assessments.length))("ngIfElse",L)}}function Se(tt,pt){if(1&tt&&(x.j41(0,"div",5),x.DNE(1,Xt,1,1,"azt-loading-effect",14)(2,qt,3,2,"ng-template",null,2,x.C5r),x.k0s()),2&tt){const L=x.sdS(3),_t=x.XpG();x.R7$(),x.Y8G("ngIf",_t.statusObj.loading)("ngIfElse",L)}}let Tt=(()=>{var tt;class pt extends ot.H{onSearchBox(_t){this.searchContentObj=_t,this.getData()}showAllComment(_t){this.sAztDialogService.open(T.U,{width:"700px",restoreFocus:!1,data:{student:_t,isTeacher:!1}}).afterClosed().subscribe(At=>{At&&this.getData()})}setPageStudent(_t){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/6","?page="+_t),this.pageObj.setPageNumber(_t),this.getData()}sortTableByFieldName(_t){_t.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(_t),this.getData())}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!0,order:this.orderObj}).subscribe({next:At=>{At.list.length&&(this.listStudent=[]),this.totalStudent=At.total,At.list.forEach(ae=>{let Ne=this.sAztAssessmentStudentService.getLastAssessmentStudent(ae);this.listStudent.push({...ae,commentControl:new w.gE({id:new w.MJ(0,{nonNullable:!0}),updatedAt:new w.MJ(Ne?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new w.MJ(Ne?.comment??"",{nonNullable:!0}),isEditted:new w.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(ae.assessments),editComment:!1}),this.firstStudent=this.listStudent?.[0]?this.listStudent[0]:void 0,this.firstStudent=this.convertBreakLine(this.firstStudent)}),this.totalStudent=At.total,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()},error:At=>{this.errorStatusObj(At.error.message,!0)}}))}convertBreakLine(_t){if(!_t)return;const At=_t.assessments?.map(ae=>({...ae,comment:ae.comment?.replace(/\n/g,"<br/>")}));return{..._t,assessments:At}}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentDate",key:"lang_azt_comments_date",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentComment",key:"lang_azt_comments_consciousness_and_academic_performance",ignore:!0,typeFieldSort:i.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(_t,At,ae,Ne,He){super(),this.activeRoute=_t,this.studentService=At,this.sAztDialogService=ae,this.sAztAssessmentStudentService=Ne,this.sortTableByFieldNameService=He,this.classroomId=0,this.searchContentObj=new t.Z,this.pageObj=new e.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=i.H}}return(tt=pt).\u0275fac=function(_t){return new(_t||tt)(x.rXU(o.nX),x.rXU(yt.b0),x.rXU(zt.i),x.rXU(St.n),x.rXU(n.s))},tt.\u0275cmp=x.VBU({type:tt,selectors:[["app-assessment-board"]],inputs:{isStudent:"isStudent"},features:[x.Jv_([n.s]),x.Vt3],decls:9,vars:7,consts:[["doneLoading",""],["c","isDisabled"],["doneLoadingStudent",""],["hasData",""],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12 mt-4",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"mt-1"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"onSearch","isServerSearch","placeholder"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","assesment-board-oI-Jn2-vQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[3,"id"],[3,"name","parentFullName","parentId","phone","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","identificationNumber"],[1,"text-center","capitalize"],[1,"flex","items-center"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value"],[1,"w-6","h-6","ml-4","inline-block","clickable",3,"click","matTooltip","isDisabledTooltip","matTooltipDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"flex","justify-end"],["class","mt-2 py-3 px-5 mb-3 text-center","style","height: 55px",4,"ngIf","ngIfElse"],[1,"mt-2","py-3","px-5","mb-3","text-center",2,"height","55px"],[1,"py-3","px-5","box","mt-4"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"flex","mb-2",2,"align-items","center"],[1,"font-bold","mb-0"],[1,"box","bg-slate-200","dark:bg-darkmode-400","p-2",3,"innerHTML"]],template:function(_t,At){1&_t&&(x.j41(0,"div",4)(1,"div",5)(2,"h3",6),x.EFF(3),x.nI1(4,"mytranslate"),x.k0s(),x.DNE(5,$t,3,3,"div",7),x.k0s(),x.DNE(6,Rt,4,4,"div",8)(7,Mt,4,2,"div",9)(8,Se,4,2,"div",9),x.k0s()),2&_t&&(x.R7$(3),x.JRh(x.bMT(4,5,"lang_azt_comments")),x.R7$(2),x.Y8G("ngIf",At.isMobileDevice&&At.listStudent.length>0&&!At.isStudent),x.R7$(),x.Y8G("ngIf",!At.isStudent),x.R7$(),x.Y8G("ngIf",!At.isStudent),x.R7$(),x.Y8G("ngIf",At.isStudent))},dependencies:[ct.YU,ct.Sq,ct.bT,Nt.oV,J.K,bt.q,st.f,Ct.W,q.B,P.jd,P.Ew,Z.WGl,z.wp,z._y,z.Po,z.vv],encapsulation:2}),pt})()},33791:(Me,Kt,p)=>{p.d(Kt,{E:()=>Se});var w=p(10127),i=p(66257),n=p(48725),ot=p(59640),e=p(37497),t=p(27208),T=p(48891),x=p(65162),o=p(46899),yt=p(95624),zt=p(54460),St=p(18718),ct=p(22613),Nt=p(32099),J=p(5800),bt=p(10123),st=p(15343),Ct=p(85127),q=p(76975);const P=()=>[],Z=Tt=>({"text-primary stroke-width-2.5":Tt}),z=Tt=>({"text-primary stroke-width-2.5":Tt,"-mt-2":!0});function gt(Tt,tt){1&Tt&&(T.j41(0,"div",7),T.EFF(1),T.nI1(2,"mytranslate"),T.k0s()),2&Tt&&(T.R7$(),T.SpI(" ",T.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Ot(Tt,tt){if(1&Tt&&(T.j41(0,"div",13),T.nrm(1,"azt-loading-effect",14),T.k0s()),2&Tt){const pt=T.XpG(2);T.R7$(),T.Y8G("currentStatusObj",pt.statusObj)}}function $t(Tt,tt){1&Tt&&(T.j41(0,"div",20),T.EFF(1),T.nI1(2,"mytranslate"),T.k0s()),2&Tt&&(T.R7$(),T.SpI(" ",T.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Rt(Tt,tt){if(1&Tt&&(T.j41(0,"div",29),T.nrm(1,"lucide-icon",30)(2,"lucide-icon",31),T.k0s()),2&Tt){const pt=T.XpG().$implicit,L=T.XpG(5);T.R7$(),T.Y8G("ngClass",T.eq3(2,Z,pt.typeFieldSort===L.typeFieldSort.asc)),T.R7$(),T.Y8G("ngClass",T.eq3(4,z,pt.typeFieldSort===L.typeFieldSort.desc))}}function fe(Tt,tt){if(1&Tt){const pt=T.RV6();T.j41(0,"th",26)(1,"div",27),T.bIt("click",function(){const _t=T.eBV(pt).$implicit,At=T.XpG(5);return T.Njj(At.sortTableByFieldName(_t))}),T.EFF(2),T.nI1(3,"mytranslate"),T.DNE(4,Rt,3,6,"div",28),T.k0s()()}if(2&Tt){const pt=tt.$implicit;T.R7$(),T.Aen(pt.customStyle),T.HbH(pt.customClassCss),T.R7$(),T.SpI(" ",T.bMT(3,6,pt.key)," "),T.R7$(2),T.Y8G("ngIf",!pt.ignore)}}function be(Tt,tt){1&Tt&&(T.j41(0,"span"),T.EFF(1,"/"),T.k0s())}function It(Tt,tt){if(1&Tt&&(T.j41(0,"span"),T.EFF(1),T.DNE(2,be,2,0,"span",5),T.EFF(3),T.k0s()),2&Tt){const pt=T.XpG().$implicit;T.R7$(),T.SpI(" ",pt.lastMonthPaid," "),T.R7$(),T.Y8G("ngIf",pt.lastMonthPaid),T.R7$(),T.SpI(" ",pt.lastYearPaid," ")}}function Qt(Tt,tt){1&Tt&&(T.j41(0,"span",38),T.EFF(1),T.nI1(2,"mytranslate"),T.k0s()),2&Tt&&(T.R7$(),T.SpI(" ",T.bMT(2,1,"lang_core_hoc_thu")," "))}function Pt(Tt,tt){if(1&Tt){const pt=T.RV6();T.j41(0,"tr")(1,"td",32),T.bIt("click",function(){const _t=T.eBV(pt).$implicit,At=T.XpG(5);return T.Njj(At.addOrEditTuitionFee(_t))}),T.nrm(2,"azt-student-info-box",33),T.k0s(),T.j41(3,"td",34),T.EFF(4),T.nI1(5,"formatStudentCodeToNumber"),T.k0s(),T.j41(6,"td",35),T.EFF(7),T.k0s(),T.j41(8,"td",36),T.DNE(9,It,4,3,"span",5)(10,Qt,3,3,"span",37),T.k0s()()}if(2&Tt){let pt;const L=tt.$implicit;T.R7$(2),T.Y8G("name",L.fullName)("avatar",L.avatar)("gender",L.gender)("schoolName",L.schoolName)("hasUser",L.hasUser)("classrooms",L.classrooms)("joinedAt",L.joinedAt)("phone",L.phone)("identificationNumber",L.identificationNumber),T.R7$(2),T.JRh(L.identificationNumber?T.i5U(5,13,L.identificationNumber,6):""),T.R7$(3),T.SpI(" ",null!==(pt=null==L.classroom?null:L.classroom.name)&&void 0!==pt?pt:""," "),T.R7$(2),T.Y8G("ngIf",!L.isTrial),T.R7$(),T.Y8G("ngIf",L.isTrial)}}function Ft(Tt,tt){if(1&Tt&&(T.j41(0,"div")(1,"div",21)(2,"drag-scroll")(3,"table",22)(4,"thead")(5,"tr",23),T.DNE(6,fe,5,8,"th",24),T.k0s()(),T.j41(7,"tbody"),T.DNE(8,Pt,11,16,"tr",25),T.k0s()()()()()),2&Tt){let pt;const L=T.XpG(4);T.R7$(6),T.Y8G("ngForOf",L.sortTableByFieldNameService.fieldNameList),T.R7$(2),T.Y8G("ngForOf",null!==(pt=null==L.listPayment?null:L.listPayment.list)&&void 0!==pt?pt:T.lJ4(2,P))}}function Wt(Tt,tt){if(1&Tt){const pt=T.RV6();T.j41(0,"div",39),T.EFF(1),T.nI1(2,"mytranslate"),T.j41(3,"span",40),T.bIt("click",function(){T.eBV(pt);const _t=T.XpG(4);return T.Njj(_t.goBack())}),T.EFF(4),T.nI1(5,"mytranslate"),T.k0s()()}2&Tt&&(T.R7$(),T.SpI(" ",T.bMT(2,2,"lang_core_not_found_student"),"... "),T.R7$(3),T.JRh(T.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function le(Tt,tt){if(1&Tt&&(T.j41(0,"div",17),T.DNE(1,$t,3,3,"div",18)(2,Ft,9,3,"div",5)(3,Wt,6,6,"div",19),T.k0s()),2&Tt){let pt,L;const _t=T.XpG(3);T.R7$(),T.Y8G("ngIf",!_t.searchContentObj.isLoading&&0==(null==_t.listPayment?null:_t.listPayment.total)&&""==_t.searchContentObj.searchContent),T.R7$(),T.Y8G("ngIf",(null!==(pt=null==_t.listPayment?null:_t.listPayment.total)&&void 0!==pt?pt:0)>0),T.R7$(),T.Y8G("ngIf",!_t.searchContentObj.isLoading&&0==(null!==(L=null==_t.listPayment?null:_t.listPayment.list)&&void 0!==L?L:T.lJ4(3,P)).length&&""!=_t.searchContentObj.searchContent)}}function Mt(Tt,tt){if(1&Tt){const pt=T.RV6();T.j41(0,"azt-paging",44),T.bIt("goToPaginationPage",function(_t){T.eBV(pt);const At=T.XpG(4);return T.Njj(At.setPageStudent(_t))}),T.k0s()}if(2&Tt){const pt=T.XpG(4);T.Y8G("pageObj",pt.pageObj)}}function Xt(Tt,tt){if(1&Tt&&(T.j41(0,"div",45),T.EFF(1),T.nI1(2,"mytranslate"),T.k0s()),2&Tt){const pt=T.XpG(4);T.R7$(),T.Lme("",pt.listPayment.total," ",T.bMT(2,2,"lang_notify_list_students"),"")}}function Bt(Tt,tt){if(1&Tt&&(T.j41(0,"div",41),T.nrm(1,"div"),T.DNE(2,Mt,1,1,"azt-paging",42)(3,Xt,3,4,"div",43),T.k0s()),2&Tt){const pt=T.XpG(3);T.R7$(2),T.Y8G("ngIf",pt.listPayment.total>pt.pageObj.pageSize),T.R7$(),T.Y8G("ngIf",!pt.isStudent)}}function Dt(Tt,tt){if(1&Tt&&T.DNE(0,le,4,4,"div",15)(1,Bt,4,2,"div",16),2&Tt){let pt;const L=T.XpG(2);T.Y8G("ngIf",!L.isStudent),T.R7$(),T.Y8G("ngIf",L.listPayment&&L.listPayment.total&&(null!==(pt=null==L.listPayment?null:L.listPayment.total)&&void 0!==pt?pt:0)>0)}}function Gt(Tt,tt){if(1&Tt){const pt=T.RV6();T.qex(0),T.j41(1,"div",8)(2,"div",9)(3,"div",10)(4,"azt-search-box",11),T.nI1(5,"mytranslate"),T.bIt("onSearch",function(_t){T.eBV(pt);const At=T.XpG();return T.Njj(At.onSearchBox(_t.searchObj))}),T.k0s()()()(),T.DNE(6,Ot,2,1,"div",12)(7,Dt,2,2,"ng-template",null,0,T.C5r),T.bVm()}if(2&Tt){const pt=T.sdS(8),L=T.XpG();T.R7$(4),T.Y8G("isServerSearch",!0)("placeholder",T.bMT(5,5,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",L.searchContentObj),T.R7$(2),T.Y8G("ngIf",L.statusObj.loading)("ngIfElse",pt)}}function qt(Tt,tt){1&Tt&&(T.j41(0,"div",46),T.nrm(1,"detail-tuition-fee-student"),T.k0s())}let Se=(()=>{var Tt;class tt extends ot.H{onSearchBox(L){this.searchContentObj=L,this.getData()}addOrEditTuitionFee(L){this.sAztDialogService.open(w.B,{width:"900px",restoreFocus:!1,data:L}).afterClosed().subscribe(_t=>{_t&&this.getData()})}goBack(){this.searchContentObj.resetSearchContentEvent("EMIT_EVENT")}sortTableByFieldName(L){L.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(L),this.getData())}setPageStudent(L){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/8","?page="+L),this.pageObj.setPageNumber(L),this.getData()}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:this.isStudent,getAssessment:!1,order:this.orderObj}).subscribe({next:_t=>{this.listPayment=_t,this.pageObj.setTotalPages(_t.total??0),this.successStatusObj()},error:_t=>{this.errorStatusObj(_t.error.message,!0)}}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"classroom.name",key:"lang_auto_lop",ignore:!0,typeFieldSort:i.H.none,customClassCss:"text-center whitespace-nowrap"},{fieldName:"payment",key:"lang_azt_tuition_fee_submission_time",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.isStudent||this.getData()}constructor(L,_t,At,ae){super(),this.activeRoute=L,this.sAztDialogService=_t,this.studentService=At,this.sortTableByFieldNameService=ae,this.pageStudent=1,this.searchContentObj=new t.Z,this.classroomId=0,this.pageObj=new e.d(50),this.typeFieldSort=i.H}}return(Tt=tt).\u0275fac=function(L){return new(L||Tt)(T.rXU(x.nX),T.rXU(o.i),T.rXU(yt.b0),T.rXU(n.s))},Tt.\u0275cmp=T.VBU({type:Tt,selectors:[["app-tuition-fee-board"]],inputs:{isStudent:"isStudent"},features:[T.Jv_([n.s]),T.Vt3],decls:8,vars:6,consts:[["doneLoading",""],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[4,"ngIf"],["class","intro-y col-span-12 overflow-auto",4,"ngIf"],[1,"mt-1"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","grid","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],[1,"w-full","flex","justify-center","items-center"],[3,"currentStatusObj"],["class","intro-y col-span-12",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"intro-y","col-span-12"],["class","flex justify-center mt-5",4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"flex","justify-center","mt-5"],[1,"intro-y",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"cursor-pointer"],["azt-track-service","tuition-fee-board-WXuxcVronQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt","phone","identificationNumber"],[1,"text-center","capitalize"],[1,"text-center",2,"min-width","100px","max-width","150px"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],[1,"text-slate-500"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"flex","justify-end"],[1,"intro-y","col-span-12","overflow-auto"]],template:function(L,_t){1&L&&(T.j41(0,"div",1)(1,"div",2)(2,"h3",3),T.EFF(3),T.nI1(4,"mytranslate"),T.k0s(),T.DNE(5,gt,3,3,"div",4),T.k0s(),T.DNE(6,Gt,9,7,"ng-container",5)(7,qt,2,0,"div",6),T.k0s()),2&L&&(T.R7$(3),T.SpI(" ",T.bMT(4,4,_t.isStudent?"lang_student_tuition_fee_info":"lang_business_tuition_fee_title_top")," "),T.R7$(2),T.Y8G("ngIf",(_t.isMobileDevice||_t.isMobileWebView)&&!_t.isStudent),T.R7$(),T.Y8G("ngIf",!_t.isStudent),T.R7$(),T.Y8G("ngIf",_t.isStudent))},dependencies:[zt.YU,zt.Sq,zt.bT,St.K,ct.q,Nt.W,J.B,bt.jd,bt.Ew,st.WGl,Ct.k,q.wp,q.Po],encapsulation:2}),tt})()},85127:(Me,Kt,p)=>{p.d(Kt,{k:()=>Nt});var w=p(59640),i=p(48891),n=p(95624),ot=p(54460),e=p(52811),t=p(10123),T=p(76975);function x(J,bt){1&J&&(i.j41(0,"div"),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&J&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function o(J,bt){1&J&&(i.j41(0,"tr",11)(1,"td",12)(2,"span",13),i.nrm(3,"azt-loading-ui"),i.k0s()()())}function yt(J,bt){if(1&J&&(i.j41(0,"tr")(1,"td",11),i.EFF(2),i.k0s(),i.j41(3,"td"),i.EFF(4),i.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),i.k0s(),i.j41(6,"td"),i.EFF(7),i.k0s(),i.j41(8,"td",11)(9,"span",16),i.EFF(10),i.nI1(11,"mytranslate"),i.k0s()()()),2&J){const st=bt.$implicit,Ct=bt.index;i.R7$(2),i.JRh(Ct+1),i.R7$(2),i.JRh(i.bMT(5,4,st.createdAt)),i.R7$(3),i.JRh(st.month+"/"+st.year),i.R7$(3),i.SpI(" ",i.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function zt(J,bt){if(1&J&&(i.qex(0),i.DNE(1,yt,12,8,"tr",15),i.bVm()),2&J){const st=i.XpG(2);i.R7$(),i.Y8G("ngForOf",st.historyTuitionFeeList)}}function St(J,bt){1&J&&(i.j41(0,"tr")(1,"td",17),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()()),2&J&&(i.R7$(2),i.SpI(" ",i.bMT(3,1,"lang_student_profile_not_data_view")," "))}function ct(J,bt){if(1&J&&i.DNE(0,zt,2,1,"ng-container",14)(1,St,4,3,"ng-template",null,1,i.C5r),2&J){const st=i.sdS(2),Ct=i.XpG();i.Y8G("ngIf",Ct.historyTuitionFeeList.length)("ngIfElse",st)}}let Nt=(()=>{var J;class bt extends w.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentMeGet().subscribe(Ct=>{Ct?(this.historyTuitionFeeList=Ct.histories,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(Ct){super(),this.paymentService=Ct,this.historyTuitionFeeList=[]}}return(J=bt).\u0275fac=function(Ct){return new(Ct||J)(i.rXU(n.WG))},J.\u0275cmp=i.VBU({type:J,selectors:[["detail-tuition-fee-student"]],features:[i.Vt3],decls:23,vars:15,consts:[["doneLoading",""],["noTuitionFee",""],[1,"detail-attendance"],[4,"ngIf"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],["class","text-center",4,"ngIf","ngIfElse"],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(Ct,q){if(1&Ct&&(i.j41(0,"div",2),i.DNE(1,x,3,3,"div",3),i.j41(2,"div",4)(3,"drag-scroll")(4,"table",5)(5,"thead",6)(6,"tr")(7,"th",7),i.EFF(8),i.nI1(9,"mytranslate"),i.k0s(),i.j41(10,"th",8),i.EFF(11),i.nI1(12,"mytranslate"),i.k0s(),i.j41(13,"th",8),i.EFF(14),i.nI1(15,"mytranslate"),i.k0s(),i.j41(16,"th",9),i.EFF(17),i.nI1(18,"mytranslate"),i.k0s()()(),i.j41(19,"tbody"),i.DNE(20,o,4,0,"tr",10)(21,ct,3,2,"ng-template",null,0,i.C5r),i.k0s()()()()()),2&Ct){const P=i.sdS(22);i.R7$(),i.Y8G("ngIf",q.isMobileDevice||q.isMobileWebView),i.R7$(7),i.SpI(" ",i.bMT(9,7,"lang_auto_stt")," "),i.R7$(3),i.SpI(" ",i.bMT(12,9,"lang_student_payment_time")," "),i.R7$(3),i.SpI(" ",i.bMT(15,11,"lang_student_monthly_tuition_fee")," "),i.R7$(3),i.SpI(" ",i.bMT(18,13,"lang_student_status")," "),i.R7$(3),i.Y8G("ngIf",q.statusObj.loading)("ngIfElse",P)}},dependencies:[ot.Sq,ot.bT,e.R,t.jd,t.Ew,T.wp,T.bH],encapsulation:2}),bt})()},25898:(Me,Kt,p)=>{p.d(Kt,{n:()=>n});var w=p(10936),i=p(48891);let n=(()=>{var ot;class e{makeListFormArrayComment(T,x){let o=new w.Yp([]);return T&&T.forEach(yt=>{o.push(new w.gE({id:new w.MJ({value:yt.id,disabled:!x},{nonNullable:!0}),updatedAt:new w.MJ({value:yt.updatedAt?.toString()??"",disabled:!x},{nonNullable:!0}),comment:new w.MJ({value:yt.comment??"",disabled:!x},{nonNullable:!0}),isEditted:new w.MJ(!1,{nonNullable:!0})}))}),o}getLastAssessmentStudent(T){if(T.assessments&&T.assessments.length)return T.assessments[0]}}return(ot=e).\u0275fac=function(T){return new(T||ot)},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),e})()},18586:(Me,Kt,p)=>{p.d(Kt,{U:()=>le});var w=p(81519),i=p(48891),n=p(10936),ot=p(34514),e=p(47426),t=p(89163),T=p(99503),x=p(79347),o=p(33887),yt=p(62095),zt=p(9691),St=p(25898),ct=p(10296),Nt=p(67638),J=p(40609),bt=p(54460),st=p(47712),Ct=p(81587),q=p(2915),P=p(52811),Z=p(5800),z=p(15343),gt=p(76975);const Ot=()=>({"ml-2 cursor-pointer":!0});function $t(Mt,Xt){if(1&Mt){const Bt=i.RV6();i.j41(0,"button",13),i.bIt("click",function(){i.eBV(Bt);const Gt=i.XpG();return i.Njj(Gt.changeEditStatus(!0))}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}2&Mt&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_auto_sua")," "))}function Rt(Mt,Xt){if(1&Mt){const Bt=i.RV6();i.j41(0,"button",14),i.bIt("click",function(){i.eBV(Bt);const Gt=i.XpG();return i.Njj(Gt.changeEditStatus(!1))}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}if(2&Mt){const Bt=i.XpG();i.Y8G("disabled",Bt.isSave),i.R7$(),i.SpI(" ",i.bMT(2,2,"lang_auto_huy_sua")," ")}}function fe(Mt,Xt){if(1&Mt){const Bt=i.RV6();i.j41(0,"button",15),i.bIt("click",function(){i.eBV(Bt);const Gt=i.XpG();return i.Njj(Gt.saveEdit())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}if(2&Mt){const Bt=i.XpG();i.Y8G("disabled",Bt.isSave||Bt.countChangedComment()),i.R7$(),i.SpI(" ",i.bMT(2,2,"lang_auto_luu")," ")}}function be(Mt,Xt){1&Mt&&(i.j41(0,"div",16)(1,"span",17),i.nrm(2,"azt-loading-ui"),i.k0s()())}function It(Mt,Xt){1&Mt&&(i.j41(0,"div",19),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&Mt&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"lang_azt_no_comments_yet")," "))}function Qt(Mt,Xt){if(1&Mt){const Bt=i.RV6();i.j41(0,"button",28),i.bIt("click",function(){i.eBV(Bt);const Gt=i.XpG().$implicit,qt=i.XpG(3);return i.Njj(qt.deleteAssesment(Gt.controls.id.value))}),i.nrm(1,"lucide-icon",29),i.nI1(2,"mytranslate"),i.k0s()}if(2&Mt){const Bt=i.XpG(4);i.Y8G("disabled",Bt.isSave),i.R7$(),i.FS9("matTooltip",i.bMT(2,2,"lang_auto_xoa"))}}function Pt(Mt,Xt){if(1&Mt){const Bt=i.RV6();i.j41(0,"div",22)(1,"form",23)(2,"div",24)(3,"p",25),i.EFF(4),i.nI1(5,"mytranslate"),i.nI1(6,"formatOnlyDateByUserUnitPipe"),i.k0s(),i.DNE(7,Qt,3,4,"button",26),i.k0s(),i.j41(8,"textarea",27),i.bIt("change",function(){const Gt=i.eBV(Bt).$implicit;return i.Njj(Gt.controls.isEditted.setValue(!0))}),i.k0s()()()}if(2&Mt){const Bt=Xt.$implicit,Dt=i.XpG(3);i.R7$(),i.Y8G("formGroup",Bt),i.R7$(3),i.Lme("",i.bMT(5,4,"lang_student_add_comment_date"),": ",i.bMT(6,6,Bt.controls.updatedAt.value),""),i.R7$(3),i.Y8G("ngIf",Dt.isEdit)}}function Ft(Mt,Xt){if(1&Mt&&(i.j41(0,"div",20),i.DNE(1,Pt,9,8,"div",21),i.k0s()),2&Mt){const Bt=i.XpG(2);i.R7$(),i.Y8G("ngForOf",null==Bt.data.student.listCommentControl?null:Bt.data.student.listCommentControl.controls)}}function Wt(Mt,Xt){if(1&Mt&&i.DNE(0,It,3,3,"div",18)(1,Ft,2,1,"ng-template",null,1,i.C5r),2&Mt){const Bt=i.sdS(2),Dt=i.XpG();i.Y8G("ngIf",!Dt.data.student.assessments||!Dt.data.student.assessments.length)("ngIfElse",Bt)}}let le=(()=>{var Mt;class Xt extends o._{filterData(Dt){this.dataFilter=Dt,this.initStatusObj()}countChangedComment(){return!!this.data.student.listCommentControl?.controls.filter(Gt=>Gt.controls.isEditted.value&&!Gt.controls.comment.value)?.length}saveEdit(){this.isSave=!0,this.changeEditStatus(!1),this.initStatusObj();let Dt=this.data.student.listCommentControl?.controls.filter(qt=>qt.controls.isEditted.value).map(qt=>({id:qt.controls.id.value,studentId:this.data.student.id,comment:qt.controls.comment.value}))??[];if(!Dt.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost({classroomId:this.data.student.classroomId,studentAssessments:Dt}).subscribe(qt=>{qt.success?(this.showSuccessSnack("lang_student_edit_comment_successfully"),this.isEdit=!1,this.hasChanged=!0,this.getStudent()):this.errorStatusObj("lang_student_edit_comment_unsuccessfully",!0),this.isSave=!1}))}deleteAssesment(Dt){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsIdAssessmentsDelete(Dt).subscribe(Gt=>{Gt.success?(this.getStudent(!0),this.showSuccessSnack("lang_student_delete_comment_successfully"),this.hasChanged=!0):this.errorStatusObj("lang_student_delete_comment_unsuccessfully",!0)}))}changeEditStatus(Dt){this.isEdit=Dt,this.data.student.listCommentControl?.controls.map(Gt=>Dt?Gt.enable():Gt.disable())}getStudent(Dt){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.student.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.student.classroomId,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!1,me:!this.data.isTeacher,getAssessment:!0}).subscribe({next:qt=>{if(qt.list.length){let Se=this.sAztAssessmentStudentService.getLastAssessmentStudent(qt.list[0]);this.data.student={...qt.list[0],commentControl:new n.gE({id:new n.MJ(0,{nonNullable:!0}),updatedAt:new n.MJ(Se?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new n.MJ(Se?.comment??"",{nonNullable:!0}),isEditted:new n.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(qt.list[0].assessments,Dt)}}this.stopStatusObj()},error:qt=>{this.errorStatusObj(qt.error.message,!0)}}))}closeDialog(){this.dialogRef.close(this.hasChanged)}ngOnInit(){super.ngOnInit()}constructor(Dt,Gt,qt,Se,Tt,tt,pt){super(pt,tt),this.sAztAssessmentStudentService=Dt,this.sAztTimeService=Gt,this.shareFileFlutterService=qt,this.exportExcelService=Se,this.studentService=Tt,this.dialogRef=tt,this.data=pt,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.isSave=!1,this.isEdit=!1,this.hasChanged=!1,this.commonService=(0,i.WQX)(yt.R)}ngOnDestroy(){super.ngOnDestroy()}}return(Mt=Xt).\u0275fac=function(Dt){return new(Dt||Mt)(i.rXU(St.n),i.rXU(zt.F),i.rXU(ct.R),i.rXU(Nt.x),i.rXU(J.b),i.rXU(t.CP,8),i.rXU(t.Vh,8))},Mt.\u0275cmp=i.VBU({type:Mt,selectors:[["azt-student-comments"]],features:[i.Jv_([{provide:w.$O,useClass:T.fb,deps:[e.Ju,ot.ij]},{provide:w.vq,useFactory:x.fJ,deps:[zt.F]}]),i.Vt3],decls:15,vars:19,consts:[["doneLoading",""],["hasData",""],[1,"box"],[1,"px-5","py-3","border-b","border-slate-300"],[1,"flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[2,"align-self","center"],["name","x","size","16",3,"click","matTooltip","ngClass"],[1,"flex","justify-end"],["azt-track-service","show-all-comment-dialog-LbiztBEnN","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3","class","btn btn-sm btn-secondary-soft mr-2",3,"disabled","click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r","class","btn btn-sm btn-primary",3,"disabled","click",4,"ngIf"],["class","p-5 text-center",4,"ngIf","ngIfElse"],["azt-track-service","show-all-comment-dialog-LbiztBEnN",1,"btn","btn-sm","btn-secondary",3,"click"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3",1,"btn","btn-sm","btn-secondary-soft","mr-2",3,"click","disabled"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r",1,"btn","btn-sm","btn-primary",3,"click","disabled"],[1,"p-5","text-center"],[1,"w-8","h-8","inline-block","mr-2"],["class","mt-2 py-3 px-5 mb-2 text-center","style","height: 55px",4,"ngIf","ngIfElse"],[1,"mt-2","py-3","px-5","mb-2","text-center",2,"height","55px"],[1,"py-3","px-5"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[3,"formGroup"],[1,"flex","mb-2","items-center"],[1,"font-bold","mb-0"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP","class","btn btn-transparent btn-outline-secondary btn-sm",3,"disabled","click",4,"ngIf"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"change"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP",1,"btn","btn-transparent","btn-outline-secondary","btn-sm",3,"click","disabled"],["name","trash-2","size","16",3,"matTooltip"]],template:function(Dt,Gt){if(1&Dt){const qt=i.RV6();i.j41(0,"div",2)(1,"div",3)(2,"div",4),i.nrm(3,"azt-student-info-box",5),i.j41(4,"div",6)(5,"lucide-icon",7),i.nI1(6,"mytranslate"),i.bIt("click",function(){return i.eBV(qt),i.Njj(Gt.closeDialog())}),i.k0s()()(),i.j41(7,"div",8),i.DNE(8,$t,3,3,"button",9)(9,Rt,3,4,"button",10)(10,fe,3,4,"button",11),i.k0s()(),i.j41(11,"azt-mat-dialog-content"),i.DNE(12,be,3,0,"div",12)(13,Wt,3,2,"ng-template",null,0,i.C5r),i.k0s()()}if(2&Dt){const qt=i.sdS(14);i.R7$(3),i.Y8G("name",Gt.data.student.fullName)("parentFullName",Gt.data.student.parentFullName)("parentId",Gt.data.student.parentId)("parentPhone",Gt.data.student.parentPhone)("phone",Gt.data.student.phone)("email",Gt.data.student.email)("avatar",Gt.data.student.avatar)("gender",Gt.data.student.gender)("hasUser",Gt.data.student.hasUser),i.R7$(2),i.FS9("matTooltip",i.bMT(6,16,"lang_auto_dong")),i.Y8G("ngClass",i.lJ4(18,Ot)),i.R7$(3),i.Y8G("ngIf",!Gt.isEdit&&Gt.data.isTeacher),i.R7$(),i.Y8G("ngIf",Gt.isEdit),i.R7$(),i.Y8G("ngIf",Gt.isEdit),i.R7$(2),i.Y8G("ngIf",Gt.statusObj.loading)("ngIfElse",qt)}},dependencies:[bt.YU,bt.Sq,bt.bT,st.oV,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,Ct.t,q.U,P.R,Z.B,z.WGl,gt.wp,gt.vv],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),Xt})()},66067:(Me,Kt,p)=>{p.d(Kt,{E:()=>_o});var w=p(76627),i=p(59640),n=p(48891),ot=p(65162),e=p(73202),t=p(95624),T=p(9691),x=p(54460),o=p(18718),yt=p(64198),zt=p(75421),St=p(93518),ct=p(53043),Nt=p(69307),J=p(46899),bt=p(40111),st=p(17818),Ct=p(47426),q=p(47712),P=p(69135),Z=p(52811),z=p(91584),gt=p(15343),Ot=p(23750),$t=p(81519),Rt=p(10936),fe=p(34514),be=p(99503),It=p(79347);class Qt{static addNewEducationalProgramFormValidator(G){let k=G,b=k.controls.weekdayConfig;if(!b.length)return k.setErrors(null),null;let S=0,D=0;return b.controls.forEach(Y=>{let ut=!1,wt={invalidTime:!1,requireTime:!1,invalidInfrastructure:!1,identityRevealed:!0};Y.controls.selected.value?(Y.controls.infrastructureId.value||(ut=!0,wt.invalidInfrastructure=!0),Y.controls.startTime.value&&Y.controls.endTime.value?new Date("1970-01-01T"+Y.controls.startTime.value).getTime()>=new Date("1970-01-01T"+Y.controls.endTime.value).getTime()?(ut=!0,wt.invalidTime=!0):wt.invalidTime=!1:(ut=!0,wt.requireTime=!0),Y.setErrors(ut?wt:null),D++):Y.setErrors(null),Y.invalid&&S++},b),S||!D?(k.setErrors({invalidData:!0}),{identityRevealed:!0,invalidData:!0}):(k.setErrors(null),null)}}var Pt=p(43234),Ft=p(66772),Wt=p(84828),le=p(39471),Mt=p(97839),Xt=p(95670),Bt=p(4375),Dt=p(20378),Gt=p(81587),qt=p(43166),Se=p(5502),Tt=p(44233),tt=p(76975);const pt=["startTime"],L=v=>({"mt-2":v}),_t=()=>({"ml-2 clickable":!0}),At=()=>({"width.px":"auto","height.%":100}),ae=v=>[v],Ne=v=>({backTo:v}),He=()=>({"mr-2":!0}),an=(v,G)=>({hiddenVisible:v,visibleIpt:G}),Ke=v=>({"border border-primary":v}),qe=()=>({"text-primary":!0});function _n(v,G){if(1&v&&n.nrm(0,"azt-loading-effect",11),2&v){const k=n.XpG();n.Y8G("currentStatusObj",k.statusObj)}}function dn(v,G){if(1&v){const k=n.RV6();n.j41(0,"button",45),n.bIt("click",function(){n.eBV(k);const S=n.XpG(2);return n.Njj(S.saveEducationalProgramEmit.emit(!1))}),n.nrm(1,"lucide-icon",46),n.j41(2,"span",47),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()()}if(2&v){const k=n.XpG(2);n.Y8G("disabled",k.isSavingProgram),n.R7$(3),n.JRh(n.bMT(4,2,"lang_auto_huy"))}}function un(v,G){1&v&&n.nrm(0,"lucide-icon",52)}function rn(v,G){1&v&&n.nrm(0,"lucide-icon",53)}function tn(v,G){1&v&&n.nrm(0,"lucide-icon",61),2&v&&n.Y8G("ngClass",n.lJ4(1,qe))}function en(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",57)(1,"div",58),n.bIt("click",function(){let S;const D=n.eBV(k).$implicit,Y=n.XpG().$implicit,ut=n.XpG(2).$implicit,wt=n.XpG(2);return n.Njj(wt.selectSubject(null!==(S=ut.id)&&void 0!==S?S:0,null!==(S=Y.id)&&void 0!==S?S:0,D))}),n.j41(2,"span",59),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s(),n.DNE(5,tn,1,2,"lucide-icon",60),n.k0s()()}if(2&v){const k=G.$implicit;n.Y8G("ngClass",n.eq3(5,Ke,k.selected)),n.R7$(3),n.JRh(n.bMT(4,3,k.name)),n.R7$(2),n.Y8G("ngIf",k.selected)}}function nn(v,G){if(1&v&&(n.qex(0),n.j41(1,"h3",54)(2,"span",55),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()(),n.DNE(5,en,6,7,"div",56),n.bVm()),2&v){const k=G.$implicit;n.R7$(3),n.SpI(" ",n.bMT(4,2,k.name)," "),n.R7$(2),n.Y8G("ngForOf",k.children)}}function it(v,G){if(1&v&&(n.qex(0),n.DNE(1,nn,6,4,"ng-container",25),n.bVm()),2&v){const k=n.XpG().$implicit;n.R7$(),n.Y8G("ngForOf",k.subjects)}}function Ut(v,G){if(1&v){const k=n.RV6();n.qex(0),n.j41(1,"h3",48),n.bIt("click",function(){let S;const D=n.eBV(k).$implicit,Y=n.XpG(2);return n.Njj(Y.showEducationalProgramSubject(null!==(S=D.id)&&void 0!==S?S:0))}),n.j41(2,"span",49),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s(),n.DNE(5,un,1,0,"lucide-icon",50)(6,rn,1,0,"lucide-icon",51),n.k0s(),n.DNE(7,it,2,1,"ng-container",26),n.bVm()}if(2&v){const k=G.$implicit;n.R7$(3),n.SpI(" ",n.bMT(4,4,k.name)," "),n.R7$(2),n.Y8G("ngIf",k.showChild),n.R7$(),n.Y8G("ngIf",!k.showChild),n.R7$(),n.Y8G("ngIf",k.showChild)}}function at(v,G){1&v&&(n.qex(0),n.j41(1,"small",62),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.bVm()),2&v&&(n.R7$(2),n.SpI("* ",n.bMT(3,1,"lang_business_config_educational_program_validate"),""))}function et(v,G){1&v&&(n.qex(0),n.j41(1,"small",62),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.bVm()),2&v&&(n.R7$(2),n.SpI("* ",n.bMT(3,1,"lang_business_config_educational_program_no_program_yet"),""))}function lt(v,G){if(1&v){const k=n.RV6();n.qex(0),n.j41(1,"div",64),n.bIt("click",function(){n.eBV(k);const S=n.XpG().$implicit,D=n.XpG(2);return n.Njj(D.openWeekdayConfig(S.controls.id.value))}),n.j41(2,"span"),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()(),n.bVm()}if(2&v){const k=n.XpG().$implicit;n.R7$(),n.Y8G("formGroup",k),n.R7$(2),n.JRh(n.bMT(4,2,k.controls.name.value))}}function Zt(v,G){1&v&&(n.j41(0,"button",81),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&v&&(n.R7$(),n.JRh(n.bMT(2,1,"lang_auto_huy")))}function pe(v,G){1&v&&(n.j41(0,"button",82),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&v&&(n.R7$(),n.JRh(n.bMT(2,1,"lang_auto_xac_nhan")))}function te(v,G){1&v&&n.nrm(0,"p",83)}function Oe(v,G){1&v&&(n.j41(0,"mat-label"),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&v&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"lang_business_config_educational_program_select_infrastructure")," "))}function de(v,G){if(1&v&&(n.j41(0,"mat-option",84),n.EFF(1),n.k0s()),2&v){const k=G.$implicit;n.FS9("value",k.id),n.R7$(),n.JRh(k.name)}}function ve(v,G){1&v&&(n.qex(0),n.j41(1,"small",85),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.bVm()),2&v&&(n.R7$(2),n.SpI("* ",n.bMT(3,1,"lang_business_config_educational_program_time_validate"),""))}function re(v,G){1&v&&(n.qex(0),n.j41(1,"small",85),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.bVm()),2&v&&(n.R7$(2),n.SpI("* ",n.bMT(3,1,"lang_testbank_test_config_end_time_bigger_time_star"),""))}function Ie(v,G){1&v&&(n.qex(0),n.nrm(1,"br"),n.j41(2,"small",86),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s(),n.bVm()),2&v&&(n.R7$(3),n.SpI("* ",n.bMT(4,1,"lang_business_config_educational_program_infrastructure_validate"),""))}function Ge(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",65)(1,"div",66)(2,"span",67),n.bIt("click",function(){n.eBV(k);const S=n.XpG().$implicit,D=n.XpG(2);return n.Njj(D.openWeekdayConfig(S.controls.id.value))}),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s(),n.j41(5,"lucide-icon",68),n.bIt("click",function(){n.eBV(k);const S=n.XpG().$implicit,D=n.XpG(2);return n.Njj(D.openWeekdayConfig(S.controls.id.value))}),n.k0s(),n.j41(6,"div",69)(7,"div",70)(8,"div",71),n.nrm(9,"input",72),n.nI1(10,"mytranslate"),n.nrm(11,"ngx-mat-timepicker",73,2),n.k0s(),n.j41(13,"span",74),n.EFF(14,"\xa0-\xa0"),n.k0s(),n.j41(15,"div",71),n.nrm(16,"input",75),n.nI1(17,"mytranslate"),n.nrm(18,"ngx-mat-timepicker",73,3),n.k0s(),n.DNE(20,Zt,3,3,"ng-template",null,4,n.C5r)(22,pe,3,3,"ng-template",null,5,n.C5r)(24,te,1,0,"ng-template",null,6,n.C5r),n.j41(26,"lucide-icon",76),n.bIt("click",function(){n.eBV(k);const S=n.XpG().$implicit,D=n.XpG(2);return n.Njj(D.openWeekdayConfig(S.controls.id.value))}),n.k0s()(),n.j41(27,"mat-form-field",77),n.DNE(28,Oe,3,3,"mat-label",26),n.j41(29,"mat-select",78,7),n.bIt("openedChange",function(S){n.eBV(k);const D=n.XpG().$implicit,Y=n.XpG(2);return n.Njj(Y.touchedMatSelect(S,D))}),n.j41(31,"mat-option"),n.nrm(32,"ngx-mat-select-search",79),n.nI1(33,"mytranslate"),n.nI1(34,"mytranslate"),n.k0s(),n.DNE(35,de,2,2,"mat-option",80),n.k0s()(),n.DNE(36,ve,4,3,"ng-container",26)(37,re,4,3,"ng-container",26)(38,Ie,5,3,"ng-container",26),n.k0s()()()}if(2&v){const k=n.sdS(12),b=n.sdS(19),S=n.sdS(21),D=n.sdS(23),Y=n.sdS(25),ut=n.sdS(30),wt=n.XpG().$implicit,Jt=n.XpG(2);n.Y8G("formGroup",wt)("ngClass",n.eq3(36,Ke,wt.controls.selected.value)),n.R7$(3),n.JRh(n.bMT(4,26,wt.controls.name.value)),n.R7$(6),n.FS9("placeholder",n.bMT(10,28,"lang_auto_tu")),n.Y8G("ngxMatTimepicker",k)("format",24),n.R7$(2),n.Y8G("editableHintTmpl",Y)("enableKeyboardInput",!0)("cancelBtnTmpl",S)("confirmBtnTmpl",D),n.R7$(5),n.FS9("placeholder",n.bMT(17,30,"lang_auto_den")),n.Y8G("ngxMatTimepicker",b)("format",24),n.R7$(2),n.Y8G("editableHintTmpl",Y)("enableKeyboardInput",!0)("cancelBtnTmpl",S)("confirmBtnTmpl",D),n.R7$(10),n.Y8G("ngIf",wt.errors&&wt.errors.invalidInfrastructure&&!wt.controls.infrastructureId.touched),n.R7$(),n.Y8G("value",wt.controls.infrastructureId.value),n.R7$(3),n.FS9("placeholderLabel",n.bMT(33,32,"lang_bot_common_search_by_name")),n.FS9("noEntriesFoundLabel",n.bMT(34,34,"lang_bot_common_search_not_found")),n.Y8G("formControl",ut.searchControl),n.R7$(3),n.Y8G("ngForOf",ut.filter(Jt.listInfrastructureObjs,"name")),n.R7$(),n.Y8G("ngIf",wt.errors&&wt.errors.requireTime),n.R7$(),n.Y8G("ngIf",wt.errors&&wt.errors.invalidTime),n.R7$(),n.Y8G("ngIf",wt.errors&&wt.errors.invalidInfrastructure)}}function Be(v,G){if(1&v&&(n.qex(0),n.DNE(1,lt,5,4,"ng-container",26)(2,Ge,39,38,"div",63),n.bVm()),2&v){const k=G.$implicit;n.R7$(),n.Y8G("ngIf",!k.controls.selected.value),n.R7$(),n.Y8G("ngIf",k.controls.selected.value)}}function Ye(v,G){1&v&&(n.qex(0),n.j41(1,"small",62),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.bVm()),2&v&&(n.R7$(2),n.SpI("* ",n.bMT(3,1,"lang_business_config_educational_program_start_time_validate"),""))}function fn(v,G){1&v&&n.nrm(0,"azt-loading-ui",90)}function $e(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",87)(1,"button",88),n.bIt("click",function(){n.eBV(k);const S=n.XpG(2);return n.Njj(S.saveEducationalProgram())}),n.DNE(2,fn,1,0,"azt-loading-ui",89),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()()}if(2&v){const k=n.XpG(2);n.R7$(),n.Y8G("disabled",k.form.invalid||k.isSavingProgram),n.R7$(),n.Y8G("ngIf",k.isSavingProgram),n.R7$(),n.SpI(" ",n.bMT(4,3,"lang_auto_luu")," ")}}function B(v,G){if(1&v){const k=n.RV6();n.DNE(0,dn,5,4,"button",12),n.j41(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"div",17)(6,"h3",18),n.EFF(7,"1"),n.k0s()(),n.j41(8,"span",19),n.EFF(9),n.nI1(10,"mytranslate"),n.k0s(),n.j41(11,"lucide-icon",20),n.bIt("click",function(){n.eBV(k);const S=n.XpG();return n.Njj(S.reloadAllEducationalProgram())}),n.k0s()(),n.j41(12,"div",21)(13,"div",22)(14,"ng-scrollbar",23)(15,"div",24),n.DNE(16,Ut,8,6,"ng-container",25)(17,at,4,3,"ng-container",26)(18,et,4,3,"ng-container",26),n.k0s()()(),n.j41(19,"div",24)(20,"a",27),n.nI1(21,"navigationLocalize"),n.nrm(22,"lucide-icon",28),n.j41(23,"span",29),n.EFF(24),n.nI1(25,"mytranslate"),n.k0s()()()()(),n.j41(26,"div",15)(27,"div",16)(28,"div",17)(29,"h3",18),n.EFF(30,"2"),n.k0s()(),n.j41(31,"span",30),n.EFF(32),n.nI1(33,"mytranslate"),n.k0s()(),n.j41(34,"div",31)(35,"div",32)(36,"ng-scrollbar",23)(37,"div",33),n.DNE(38,Be,3,2,"ng-container",25),n.k0s()()()()(),n.j41(39,"div",15)(40,"div",16)(41,"div",17)(42,"h3",18),n.EFF(43,"3"),n.k0s()(),n.j41(44,"span",30),n.EFF(45),n.nI1(46,"mytranslate"),n.k0s()(),n.j41(47,"div",34)(48,"div",35)(49,"ng-scrollbar",23)(50,"div",36)(51,"mat-form-field",37)(52,"input",38),n.bIt("click",function(){n.eBV(k);const S=n.XpG();return n.Njj(S.openDateTimePicker(1))}),n.k0s(),n.j41(53,"button",39),n.bIt("click",function(S){return n.eBV(k),n.XpG().openDateTimePicker(1),n.Njj(S.stopPropagation())}),n.nrm(54,"lucide-icon",40),n.k0s(),n.j41(55,"ngx-mat-datetime-picker",41,1)(57,"ngx-mat-datepicker-actions")(58,"button",42),n.EFF(59),n.nI1(60,"mytranslate"),n.k0s(),n.j41(61,"button",43),n.EFF(62,"OK"),n.k0s()()()(),n.DNE(63,Ye,4,3,"ng-container",26),n.k0s()()(),n.DNE(64,$e,5,5,"div",44),n.k0s()()()()}if(2&v){const k=n.sdS(56),b=n.XpG();n.Y8G("ngIf",b.programObj),n.R7$(2),n.Y8G("ngClass",n.eq3(41,L,b.programObj)),n.R7$(7),n.JRh(n.bMT(10,29,"lang_config_educational_program_select_new")),n.R7$(2),n.Y8G("ngClass",n.lJ4(43,_t)),n.R7$(3),n.Y8G("visibility","hover")("ngStyle",n.lJ4(44,At)),n.R7$(2),n.Y8G("ngForOf",b.listEducationalProgramObjs),n.R7$(),n.Y8G("ngIf",b.listEducationalProgramObjs.length>0&&!b.form.controls.chooseProgramId.value),n.R7$(),n.Y8G("ngIf",!b.listEducationalProgramObjs.length),n.R7$(2),n.Y8G("routerLink",n.eq3(45,ae,n.bMT(21,31,"/business/create-general-educational-program")))("queryParams",n.eq3(47,Ne,b.currentURL)),n.R7$(2),n.Y8G("ngClass",n.lJ4(49,He)),n.R7$(2),n.JRh(n.bMT(25,33,"lang_config_educational_program_add_new")),n.R7$(8),n.JRh(n.bMT(33,35,"lang_config_educational_program_add_time")),n.R7$(3),n.Y8G("ngClass",n.l_i(50,an,b.form.controls.stepChoose.value<2,b.form.controls.stepChoose.value>=2)),n.R7$(),n.Y8G("visibility","hover")("ngStyle",n.lJ4(53,At)),n.R7$(2),n.Y8G("ngForOf",b.form.controls.weekdayConfig.controls),n.R7$(7),n.JRh(n.bMT(46,37,"lang_config_educational_program_add_start_time")),n.R7$(3),n.Y8G("ngClass",n.l_i(54,an,b.form.controls.stepChoose.value<3,b.form.controls.stepChoose.value>=3)),n.R7$(),n.Y8G("visibility","hover")("ngStyle",n.lJ4(57,At)),n.R7$(3),n.Y8G("max",b.maxDate)("ngxMatDatetimePicker",k),n.R7$(3),n.Y8G("touchUi",!0)("hideTime",!0),n.R7$(4),n.JRh(n.bMT(60,39,"lang_auto_dong")),n.R7$(4),n.Y8G("ngIf",b.form.controls.startTimeEducationalProgram.invalid),n.R7$(),n.Y8G("ngIf",!b.statusObj.loading)}}let Et=(()=>{var v;class G extends i.H{openDateTimePicker(b){1==b&&this.startTime&&this.startTime.open()}showEducationalProgramSubject(b){this.listEducationalProgramObjs.forEach(S=>{S.id==b&&(S.showChild=!S.showChild,S.showChild||S.subjects.forEach(D=>{D.children?.forEach(Y=>{Y.id==this.form.controls.chooseProgramId.value&&(this.form.controls.stepChoose.setValue(1),this.form.controls.chooseProgramId.setValue(0),Y.selected=!1,this.initFormWeekly())})}))})}selectSubject(b,S,D){this.listEducationalProgramObjs.forEach(Y=>{Y.id==b?Y.subjects.forEach(ut=>{ut.id==S?ut.children?.forEach(wt=>{wt.id==D.id?(wt.selected=!wt.selected,this.form.controls.chooseProgramId.setValue(wt.selected?D.id:0),this.form.controls.stepChoose.setValue(wt.selected?2:1)):wt.selected=!1}):ut.children?.map(wt=>wt.selected=!1)}):Y.subjects.map(ut=>ut.children?.map(wt=>wt.selected=!1))})}reloadAllEducationalProgram(){this.form.controls.chooseProgramId.setValue(0),this.initFormWeekly(),this.initData()}openWeekdayConfig(b){this.form.controls.weekdayConfig.controls.forEach(S=>{S.controls.id.value==b&&S.controls.selected.setValue(!S.controls.selected.value)})}touchedMatSelect(b,S){b?S.controls.infrastructureId.markAsTouched():S.controls.infrastructureId.markAsUntouched()}saveEducationalProgram(){this.isSavingProgram=!0;let b={programId:this.form.controls.chooseProgramId.value,studyingTimes:this.convertStudyTimes(),startTime:this.timeService.formatDateTimeToPostToServer(this.form.controls.startTimeEducationalProgram.value)};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdProgramsPost(this.classroomId,b).subscribe({next:S=>{this.showSuccessSnack("lang_educational_program_save_success_educational_program"),this.isSavingProgram=!1,this.saveEducationalProgramEmit.emit(!0)},error:S=>{this.isSavingProgram=!1,this.errorStatusObj(S.error.message,!0)}}))}convertStudyTimes(){let b=[];return this.form.controls.weekdayConfig.controls.forEach(S=>{if(S.controls.selected.value){let D={days:S.controls.id.value,fromHour:new Date("1970-01-01T"+S.controls.startTime.value).getHours(),fromMinute:new Date("1970-01-01T"+S.controls.startTime.value).getMinutes(),toHour:new Date("1970-01-01T"+S.controls.endTime.value).getHours(),toMinute:new Date("1970-01-01T"+S.controls.endTime.value).getMinutes(),roomId:S.controls.infrastructureId.value};b.push(D)}}),b}convertSubjectList(b,S){let D=[];return b.forEach(Y=>{if(Y.schoolLevelId==S)if(D.filter(wt=>wt.id==Y.schoolSubjectId&&wt.levelId==Y.schoolLevelId).length)D.forEach(wt=>{wt.id==Y.schoolSubjectId&&wt.levelId==Y.schoolLevelId&&(wt.children?.find(Jt=>Jt==Y)||wt.children?.push(Y))});else{let wt={id:Y.schoolSubjectId,levelId:Y.schoolLevelId,name:this.schoolSubjectObjs.find(Jt=>Jt.id==Y.schoolSubjectId)?.name,children:[Y]};D.push(wt)}}),D}convertProgramInfo(b){let S=[],D=this.sAZTranslateService.myTranslateInstant("lang_auto_lop")??"L\u1edbp",Y=this.sAZTranslateService.myTranslateInstant("lang_core_buoi")??"Bu\u1ed5i";return b.forEach(ut=>{if(ut.name=`${ut.name} (${ut.totalSession} ${Y})`,!S.filter(Jt=>Jt.id==ut.schoolLevelId).length){let Jt={id:ut.schoolLevelId,name:D+" "+ut.schoolLevelId,subjects:this.convertSubjectList(b,ut.schoolLevelId),showChild:!1};S.push(Jt)}}),S.sort((ut,wt)=>(wt.id??0)-(ut.id??0))}convertListInfrastructure(b){let S=[],D=this.commonService.myTranslateInstant("lang_infrastructure_seat")??"";return b.forEach(Y=>{Y.name=`${Y.infrastructure?.name??""} - ${Y.name} (${Y.numberSeat} ${D})`,S.push(Y)}),S}getAllInfrastructure(){this.waitDestroy(this.infrastructureService.apiInfrastructuresRoomsGet().subscribe({next:b=>{this.listInfrastructureObjs=this.convertListInfrastructure(b.list),this.stopStatusObj()},error:b=>{this.errorStatusObj(b.error.message,!0)}}))}initFormWeekly(){this.form.controls.startTimeEducationalProgram.setValue(""),this.form.controls.weekdayConfig.clear();for(let b=0;b<7;b++){let S=new Rt.gE({id:new Rt.MJ(b,{nonNullable:!0}),name:new Rt.MJ("lang_config_educational_program_day_"+b,{nonNullable:!0}),startTime:new Rt.MJ("",{nonNullable:!0}),endTime:new Rt.MJ("",{nonNullable:!0}),infrastructureId:new Rt.MJ(0,{nonNullable:!0}),selected:new Rt.MJ(!1,{nonNullable:!0}),invalidTime:new Rt.MJ(!1,{nonNullable:!0})});this.form.controls.weekdayConfig.push(S)}}initData(){this.initStatusObj(),this.waitDestroy(this.programService.apiProgramsListPost({page:0,size:-1}).subscribe({next:b=>{this.listEducationalProgramObjs=this.convertProgramInfo(b.list),this.getAllInfrastructure()},error:b=>{this.errorStatusObj(b.error.message,!0)}}))}getSubjectObjs(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(b=>{1==b.success?(this.schoolSubjectObjs=this.commonService.concatMultipleArray(b.data?.schoolLevelSubjectObjs.map(S=>S.schoolSubjectObjs)??[]),this.initData()):(this.errorStatusObj(b.message??""),this.initData())}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard",this.getSubjectObjs()}ngAfterViewChecked(){this.form.controls.weekdayConfig.controls.filter(S=>S.controls.selected).length?2==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(3):3==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(2),this.cd.detectChanges()}ngDoCheck(){this.cd.detectChanges()}constructor(b,S,D,Y,ut,wt,Jt){super(),this.cd=b,this.timeService=S,this.classroomService=D,this.programService=Y,this.infrastructureService=ut,this.sAZTranslateService=wt,this.commonListService=Jt,this.saveEducationalProgramEmit=new n.bkB,this.backLink="",this.currentURL=this.commonService.getCurrentUrlWithoutLocale(),this.listEducationalProgramObjs=[],this.listInfrastructureObjs=[],this.maxDate=Pt.c.maxDateTimePicker,this.curStep=1,this.isSavingProgram=!1,this.schoolSubjectObjs=[],this.form=new Rt.gE({chooseProgramId:new Rt.MJ(0,{nonNullable:!0,validators:[Rt.k0.required,Rt.k0.min(1)]}),startTimeEducationalProgram:new Rt.MJ("",{nonNullable:!0,validators:[Rt.k0.required]}),weekdayConfig:new Rt.Yp([]),stepChoose:new Rt.MJ(1,{nonNullable:!0})},{validators:[Qt.addNewEducationalProgramFormValidator]}),this.initFormWeekly()}}return(v=G).\u0275fac=function(b){return new(b||v)(n.rXU(n.gRc),n.rXU(T.F),n.rXU(t.zS),n.rXU(t.sC),n.rXU(t.BU),n.rXU(Ft.o),n.rXU(Wt.Nz))},v.\u0275cmp=n.VBU({type:v,selectors:[["app-add-new-educational-program"]],viewQuery:function(b,S){if(1&b&&n.GBs(pt,5),2&b){let D;n.mGM(D=n.lsd())&&(S.startTime=D.first)}},inputs:{classroomId:"classroomId",programObj:"programObj"},outputs:{saveEducationalProgramEmit:"saveEducationalProgramEmit"},features:[n.Jv_([{provide:$t.$O,useClass:be.fb,deps:[Ct.Ju,fe.ij]},{provide:$t.vq,useFactory:It.In,deps:[T.F]}]),n.Vt3],decls:5,vars:3,consts:[["doneLoading",""],["startTime",""],["timeStartPicker",""],["timeEndPicker",""],["cancelBtn",""],["confirmBtn",""],["dialHint",""],["searchInListInfrastructure","searchInList"],[1,"mx-auto","mt-3","pb-2"],[3,"formGroup"],["class","block pb-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"block","pb-5",3,"currentStatusObj"],["azt-track-service","add-new-educational-program-V_itz7ADg","class","btn btn-transparent",3,"disabled","click",4,"ngIf"],[1,"box","px-4","pt-5"],[1,"grid","grid-cols-12",3,"ngClass"],[1,"col-span-12","md:col-span-4"],[1,"flex","px-2","pb-3","items-center"],[1,"bg-info","text-white","h-8","w-8","text-center",2,"border-radius","50%"],[1,"font-bold","text-xl"],[1,"ml-2",2,"vertical-align","middle","font-weight","420","word-break","break-all"],["name","refresh-ccw","size","18",3,"click","ngClass"],[1,"border","border-slate-300",2,"border-bottom","0","border-left","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto"],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"],[2,"padding-right","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],["azt-track-service","add-new-educational-programs-eY0H_Hziew",1,"btn","btn-sm","btn-primary","shadow-md","w-full","block","mx-auto","mt-3","mb-3",3,"routerLink","queryParams"],["name","plus","size","16",3,"ngClass"],[2,"vertical-align","middle","font-size","14px !important"],[1,"ml-2",2,"vertical-align","middle","font-weight","420"],[1,"border","border-slate-300",2,"height","100%","border-bottom","0","border-left","0","border-right","0"],["formArrayName","weekdayConfig",1,"mt-2","pb-2",2,"height","calc(100vh - 205px)","overflow-y","auto",3,"ngClass"],[2,"padding-right","1rem","padding-left","1rem"],[1,"border","border-slate-300",2,"border-bottom","0","border-right","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],[1,"mt-2",2,"padding-left","1rem","padding-right","1rem"],["appearance","outline"],["matInput","","formControlName","startTimeEducationalProgram","readonly","",3,"click","max","ngxMatDatetimePicker"],["matSuffix","",2,"font-size","18px",3,"click"],["name","calendar-clock","size","16"],[3,"touchUi","hideTime"],["mat-raised-button","","color","secondary","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["class","text-right mt-3 mb-3",4,"ngIf"],["azt-track-service","add-new-educational-program-V_itz7ADg",1,"btn","btn-transparent",3,"click","disabled"],["name","chevron-left","size","20"],[1,"azt-hidden","sm:block","ml-1"],[1,"flex","items-center","mt-2","cursor-pointer",2,"font-weight","420","font-size","15px",3,"click"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"mr-2"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],[1,"flex","mt-1","ml-2",2,"font-weight","420","font-size","15px"],[1,"clickable",2,"align-items","center"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 clickable",3,"ngClass",4,"ngFor","ngForOf"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable",3,"ngClass"],["azt-track-service","add-new-educational-programs-bahN75vF_Q",1,"flex","items-center","w-full","justify-between",3,"click"],[2,"vertical-align","middle","text-align","left"],["name","square-check","size","18",3,"ngClass",4,"ngIf"],["name","square-check","size","18",3,"ngClass"],[1,"text-danger","mt-3","float-left","text-left"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 text-left relative",3,"formGroup","ngClass",4,"ngIf"],["azt-track-service","add-new-educational-programs-FanOWsky0S",1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable","text-left",3,"click","formGroup"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","text-left","relative",3,"formGroup","ngClass"],[1,"flex","items-center","justify-between","flex-wrap"],["azt-track-service","add-new-educational-programs-UqgywYmnzK",1,"clickable",3,"click"],["name","square-check","size","18",1,"text-primary","ml-2","clickable",3,"click"],[1,"block","md:ml-2","w-full"],[1,"flex","justify-between",2,"align-items","center"],[2,"width","100%","height","38px","align-items","center"],["type","text","formControlName","startTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],[3,"editableHintTmpl","enableKeyboardInput","cancelBtnTmpl","confirmBtnTmpl"],[1,"text-center",2,"vertical-align","middle","align-self","center"],["type","text","formControlName","endTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],["name","square-check","size","18",1,"text-primary","ml-2","clickable","hiddenIpt","md:inlineBlockIpt",3,"click"],["appearance","outline",1,"mt-2","bg-white","rounded"],["searchInList","","formControlName","infrastructureId",3,"openedChange","value"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","secondary",2,"margin-right","10px"],["mat-raised-button","","color","primary"],[1,"small"],[3,"value"],[1,"text-danger","mt-2"],[1,"text-danger","mt-1"],[1,"text-right","mt-3","mb-3"],["azt-track-service","add-new-educational-programs-R3hLoR84Ua",1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(b,S){if(1&b&&(n.j41(0,"div",8)(1,"form",9),n.DNE(2,_n,1,1,"azt-loading-effect",10)(3,B,65,58,"ng-template",null,0,n.C5r),n.k0s()()),2&b){const D=n.sdS(4);n.R7$(),n.Y8G("formGroup",S.form),n.R7$(),n.Y8G("ngIf",S.statusObj.loading)("ngIfElse",D)}},dependencies:[ot.Wk,x.YU,x.Sq,x.bT,x.B3,Ct.wT,le.$z,Mt.fg,Xt.rl,Xt.nJ,Xt.yw,Bt.VO,$t.m7,$t.yF,$t.HF,$t.gx,$t.Uq,Dt.gu,Dt.wn,Rt.qT,Rt.me,Rt.BC,Rt.cb,Rt.l_,Rt.j4,Rt.JD,Rt.v8,o.K,Gt.t,Z.R,qt.x,gt.WGl,Se.Yh,Tt.U9,tt.F2,tt.wp],encapsulation:2}),G})();const A=()=>({"zoom-in":!0}),U=()=>[];function V(v,G){if(1&v&&(n.qex(0),n.j41(1,"p",5),n.EFF(2),n.k0s(),n.bVm()),2&v){const k=G.$implicit;n.R7$(2),n.SpI("",k.content," ")}}function K(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",6),n.bIt("click",function(){n.eBV(k);const S=n.XpG(2);return n.Njj(S.editContent())}),n.nrm(1,"lucide-icon",7),n.k0s()}2&v&&(n.R7$(),n.Y8G("ngClass",n.lJ4(1,A)))}function Yt(v,G){if(1&v&&(n.j41(0,"div",2)(1,"div"),n.DNE(2,V,3,1,"ng-container",3),n.k0s(),n.DNE(3,K,2,2,"div",4),n.k0s()),2&v){const k=n.XpG();n.R7$(2),n.Y8G("ngForOf",k.contents),n.R7$(),n.Y8G("ngIf",k.teacherRole)}}function he(v,G){if(1&v){const k=n.RV6();n.j41(0,"button",21),n.nI1(1,"mytranslate"),n.bIt("click",function(){n.eBV(k);const S=n.XpG().$implicit,D=n.XpG(2);return n.Njj(D.removeContent(S))}),n.nrm(2,"lucide-icon",22),n.k0s()}if(2&v){const k=n.XpG(3);n.FS9("matTooltip",n.bMT(1,2,"lang_button_delete")),n.Y8G("disabled",k.statusObj.loading)}}function me(v,G){1&v&&(n.j41(0,"div",23)(1,"span"),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s()()),2&v&&(n.R7$(2),n.SpI("*",n.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function ze(v,G){if(1&v&&(n.j41(0,"div")(1,"div",17),n.nrm(2,"input",18),n.nI1(3,"mytranslate"),n.DNE(4,he,3,4,"button",19),n.k0s(),n.DNE(5,me,4,3,"div",20),n.k0s()),2&v){const k=G.$implicit,b=n.XpG(2);n.R7$(2),n.FS9("placeholder",n.bMT(3,5,"lang_core_nhap_noi_dung_buoi_hoc")),n.Y8G("formControl",k.controls.content)("disabled",b.statusObj.loading),n.R7$(2),n.Y8G("ngIf",b.listFormContent.controls.length>1),n.R7$(),n.Y8G("ngIf",k.controls.content.errors)}}function Pe(v,G){1&v&&n.nrm(0,"azt-loading-ui",24),2&v&&n.Y8G("size",16)}function pn(v,G){1&v&&n.nrm(0,"lucide-icon",25)}function Qe(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",8),n.DNE(1,ze,6,7,"div",3),n.j41(2,"div",9)(3,"button",10),n.bIt("click",function(){n.eBV(k);const S=n.XpG();return n.Njj(S.viewContent())}),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s(),n.j41(6,"button",11),n.bIt("click",function(){n.eBV(k);const S=n.XpG();return n.Njj(S.addContent())}),n.nrm(7,"lucide-icon",12),n.j41(8,"span",13),n.EFF(9),n.nI1(10,"mytranslate"),n.k0s()(),n.j41(11,"button",14),n.bIt("click",function(){n.eBV(k);const S=n.XpG();return n.Njj(S.saveContent())}),n.DNE(12,Pe,1,1,"azt-loading-ui",15)(13,pn,1,0,"lucide-icon",16),n.j41(14,"span",13),n.EFF(15),n.nI1(16,"mytranslate"),n.k0s()()()()}if(2&v){let k;const b=n.XpG();n.R7$(),n.Y8G("ngForOf",null!==(k=null==b.listFormContent?null:b.listFormContent.controls)&&void 0!==k?k:n.lJ4(15,U)),n.R7$(2),n.Y8G("disabled",b.statusObj.loading),n.R7$(),n.SpI(" ",n.bMT(5,9,"lang_button_cancel")," "),n.R7$(2),n.Y8G("disabled",b.statusObj.loading||b.isEmptyContent()),n.R7$(3),n.SpI(" ",n.bMT(10,11,"lang_button_add")," "),n.R7$(2),n.Y8G("disabled",b.statusObj.loading||b.isEmptyContent()),n.R7$(),n.Y8G("ngIf",b.statusObj.loading),n.R7$(),n.Y8G("ngIf",!b.statusObj.loading),n.R7$(2),n.SpI(" ",n.bMT(16,13,"lang_button_save")," ")}}let R=(()=>{var v;class G extends i.H{isEmptyContent(){return!!this.listFormContent.controls.find(b=>b.controls.content.errors)}editContent(){this.listFormContent=new Rt.Yp(this.contents.map(b=>new Rt.gE({contentId:new Rt.MJ(b.id,{nonNullable:!0,validators:[Rt.k0.required]}),content:new Rt.MJ(b.content,{nonNullable:!0,validators:[Rt.k0.required]})})))}addContent(){var b=this.listFormContent.controls.map(S=>S.getRawValue().contentId);this.listFormContent.controls.push(new Rt.gE({contentId:new Rt.MJ(this.commonService.getVirtualIdWithoutInList(!0,b),{nonNullable:!0,validators:[Rt.k0.required]}),content:new Rt.MJ("",{nonNullable:!0,validators:[Rt.k0.required]})}))}removeContent(b){this.listFormContent.controls=this.listFormContent.controls.filter(S=>S!=b)}viewContent(){this.listFormContent.clear()}saveContent(){this.initStatusObj();let b={contents:this.listFormContent?.controls.map(S=>({id:S.getRawValue().contentId<0?0:S.getRawValue().contentId,content:S.getRawValue().content}))??[]};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdPut(this.classroomId,this.sessionId,b).subscribe({next:S=>{this.showSuccessSnack("lang_auto_chinh_sua_thanh_cong"),this.close.emit(!0)},error:S=>{this.errorStatusObj(S.error.message,!0)}}))}ngOnInit(){super.ngOnInit()}constructor(b){super(),this.classroomService=b,this.contents=[],this.close=new n.bkB,this.listFormContent=new Rt.Yp([])}}return(v=G).\u0275fac=function(b){return new(b||v)(n.rXU(t.zS))},v.\u0275cmp=n.VBU({type:v,selectors:[["app-education-program-session-content-form"]],inputs:{teacherRole:"teacherRole",contents:"contents",classroomId:"classroomId",sessionId:"sessionId"},outputs:{close:"close"},features:[n.Jv_([{provide:$t.$O,useClass:be.fb,deps:[Ct.Ju,fe.ij]},{provide:$t.vq,useFactory:It.In,deps:[T.F]}]),n.Vt3],decls:2,vars:2,consts:[["class","flex justify-between items-center",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"flex","justify-between","items-center"],[4,"ngFor","ngForOf"],["azt-track-service","edit-content-session-clV7wEeRi","class","mr-2 ml-1",3,"click",4,"ngIf"],[1,"text-danger","font-medium"],["azt-track-service","edit-content-session-clV7wEeRi",1,"mr-2","ml-1",3,"click"],["name","pencil-line","size","16",3,"ngClass"],[1,"mb-2"],[1,"mt-2","flex","justify-end"],["azt-track-service","edit-content-session-fb5Kcem4lN",1,"btn","btn-secondary","py-1",3,"click","disabled"],["azt-track-service","edit-content-session-LUmRlMXNo0",1,"btn","btn-info","py-1","ml-2",3,"click","disabled"],["name","plus","size","16"],[1,"ml-1"],["azt-track-service","edit-content-session-u3EiKdwIT9",1,"btn","btn-primary","ml-2","py-1",3,"click","disabled"],[3,"size",4,"ngIf"],["name","save","size","16",4,"ngIf"],[1,"flex","items-center"],["type","text",1,"form-control","mt-2","mb-2",3,"formControl","disabled","placeholder"],["class","btn btn-light ml-2 px-2",3,"matTooltip","disabled","click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],[1,"btn","btn-light","ml-2","px-2",3,"click","matTooltip","disabled"],["name","trash-2","size","20"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],[3,"size"],["name","save","size","16"]],template:function(b,S){1&b&&n.DNE(0,Yt,4,2,"div",0)(1,Qe,17,16,"div",1),2&b&&(n.Y8G("ngIf",0==S.listFormContent.controls.length),n.R7$(),n.Y8G("ngIf",S.listFormContent.controls.length>0))},dependencies:[x.YU,x.Sq,x.bT,q.oV,Rt.me,Rt.BC,Rt.l_,Z.R,gt.WGl,tt.wp],encapsulation:2}),G})();const ft=v=>({"text-slate-700":v}),X=(v,G)=>({"text-slate-600":v,"text-warning":G}),M=v=>[v],O=v=>({backto:v}),rt=()=>({"text-pending":!0}),Fe=()=>({"text-primary":!0}),ee=(v,G)=>({"text-success":v,"text-slate-700/50":G}),Ee=(v,G,k,b,S,D)=>({backto:v,classroomId:G,programId:k,sessionId:b,levelId:S,subjectId:D}),nt=(v,G)=>({"text-slate-600":v,"btn-text-primary":G}),ln=v=>({width:v}),De=v=>({"dropdown-menu-scroll":v}),An=()=>({"mr-2":!0});function Zn(v,G){if(1&v&&(n.j41(0,"div",12),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&v){const k=n.XpG();n.R7$(),n.SpI(" ",n.bMT(2,1,k.errorApiMessage)," ")}}function Ln(v,G){if(1&v){const k=n.RV6();n.j41(0,"app-add-new-educational-program",15),n.bIt("saveEducationalProgramEmit",function(S){n.eBV(k);const D=n.XpG(2);return n.Njj(D.emitDataReloadSession(S))}),n.k0s()}if(2&v){const k=n.XpG(2);n.Y8G("classroomId",k.classroomId)("programObj",k.programObj)}}function Ve(v,G){if(1&v){const k=n.RV6();n.j41(0,"button",21),n.bIt("click",function(){n.eBV(k);const S=n.XpG(3);return n.Njj(S.addNewEducationalProgram())}),n.nrm(1,"lucide-icon",22),n.j41(2,"span",23),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()()}2&v&&(n.R7$(3),n.JRh(n.bMT(4,1,"lang_educational_program_select_another")))}function ke(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",26)(1,"a",27),n.bIt("auxclick",function(S){const D=n.eBV(k).$implicit,Y=n.XpG(4);return n.Njj(Y.previewFile(D,S))})("click",function(S){const D=n.eBV(k).$implicit,Y=n.XpG(4);return n.Njj(Y.previewFile(D,S))}),n.nrm(2,"azt-document-type-file",28),n.k0s()()}if(2&v){let k;const b=G.$implicit;n.R7$(2),n.Y8G("type",b.documentType)("name",null!==(k=b.name)&&void 0!==k?k:"")("url",b.link)("iconVerticalStyle","baseline")("customClass","w-6 h-6")}}function on(v,G){if(1&v&&(n.qex(0),n.j41(1,"div",24),n.DNE(2,ke,3,5,"div",25),n.k0s(),n.bVm()),2&v){const k=n.XpG(3);n.R7$(2),n.Y8G("ngForOf",k.generalDocumentObjs)}}function gn(v,G){1&v&&n.nrm(0,"lucide-icon",33)}function Bn(v,G){1&v&&n.nrm(0,"lucide-icon",34)}function Yn(v,G){1&v&&(n.j41(0,"button",43),n.nrm(1,"lucide-icon",44),n.j41(2,"span",45),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()()),2&v&&(n.R7$(3),n.JRh(n.bMT(4,1,"lang_student_absence")))}function On(v,G){1&v&&(n.j41(0,"button",46),n.nrm(1,"lucide-icon",44),n.k0s())}function bn(v,G){if(1&v&&(n.j41(0,"div",40),n.DNE(1,Yn,5,3,"button",41),n.nI1(2,"allowFeatureBusinessForUser"),n.nI1(3,"async"),n.DNE(4,On,2,0,"button",42),n.nI1(5,"allowFeatureBusinessForUser"),n.nI1(6,"async"),n.k0s()),2&v){const k=n.XpG().$implicit;n.R7$(),n.Y8G("ngIf",(null==k.studentAttendance?null:k.studentAttendance.absent)&&n.bMT(3,5,n.i5U(2,2,"training_center_student_attendance",!0))),n.R7$(3),n.Y8G("ngIf",(null==k.studentAttendance?null:k.studentAttendance.absent)&&n.bMT(6,10,n.i5U(5,7,"training_center_student_attendance",!0)))}}function Ze(v,G){if(1&v&&(n.qex(0),n.j41(1,"span",52),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.bVm()),2&v){const k=n.XpG(2).$implicit;n.R7$(2),n.JRh(n.bMT(3,1,"lang_test_market_address")+": "+(null==k.room.infrastructure?null:k.room.infrastructure.name)+" - "+k.room.name)}}function Gn(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",47),n.bIt("click",function(){n.eBV(k);const S=n.XpG().$implicit,D=n.XpG(5);return n.Njj(D.expandSessionObj(S))}),n.j41(1,"div",48)(2,"h3",49)(3,"span",50),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s(),n.j41(6,"span",51),n.EFF(7),n.nI1(8,"mytranslate"),n.k0s()(),n.DNE(9,Ze,4,3,"ng-container",14),n.k0s()()}if(2&v){const k=n.XpG().$implicit;n.R7$(3),n.Y8G("ngClass",n.eq3(8,ft,k.outOfDate)),n.R7$(),n.JRh(n.bMT(5,4,"lang_core_buoi")+" "+k.sort),n.R7$(3),n.JRh(n.bMT(8,6,"lang_config_educational_program_day_"+k.day)+", "+k.dateSession+" "+k.timeSession),n.R7$(2),n.Y8G("ngIf",k.room)}}function qn(v,G){if(1&v&&(n.qex(0),n.j41(1,"span",70),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.bVm()),2&v){const k=n.XpG(2).$implicit;n.R7$(2),n.JRh(n.bMT(3,1,"lang_test_market_address")+": "+(null==k.room.infrastructure?null:k.room.infrastructure.name)+" - "+k.room.name)}}function vn(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",59)(1,"div",60)(2,"span",61),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()(),n.j41(5,"app-education-program-session-content-form",71),n.bIt("close",function(S){n.eBV(k);const D=n.XpG(2).$implicit,Y=n.XpG(5);return n.Njj(Y.reloadData(S,D))}),n.k0s()()}if(2&v){const k=n.XpG(2).$implicit,b=n.XpG(5);n.R7$(2),n.Y8G("ngClass",n.l_i(8,X,k.outOfDate,!k.outOfDate)),n.R7$(),n.JRh(n.bMT(4,6,"lang_auto_noi_dung")),n.R7$(2),n.Y8G("contents",k.contents)("teacherRole",b.teacherRole)("classroomId",b.classroomId)("sessionId",k.id)}}function ti(v,G){1&v&&(n.qex(0),n.j41(1,"div",82),n.nrm(2,"img",83),n.nI1(3,"convertCdnLinkOfGitHub"),n.k0s(),n.bVm()),2&v&&(n.R7$(2),n.Y8G("src",n.bMT(3,1,"images/type_file/unknown-file.svg"),n.B4B))}function ei(v,G){1&v&&(n.qex(0),n.nrm(1,"lucide-icon",84),n.bVm()),2&v&&(n.R7$(),n.Y8G("ngClass",n.lJ4(1,rt)))}function En(v,G){1&v&&(n.qex(0),n.nrm(1,"lucide-icon",85),n.bVm()),2&v&&(n.R7$(),n.Y8G("ngClass",n.lJ4(1,Fe)))}function ni(v,G){if(1&v&&(n.j41(0,"small",86),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&v){const k=n.XpG().$implicit;n.R7$(),n.E5c(" ",n.bMT(2,3,"lang_auto_da_nop"),":\xa0",k.totalFinish,"/",k.totalAttendee," ")}}function Xe(v,G){if(1&v&&(n.j41(0,"small",87),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&v){const k=n.XpG().$implicit;n.Y8G("ngClass",n.l_i(4,ee,k.totalFinish,!k.totalFinish)),n.R7$(),n.SpI(" ",n.bMT(2,2,k.totalFinish?"lang_auto_da_nop":"lang_auto_chua_nop")," ")}}function wn(v,G){if(1&v){const k=n.RV6();n.j41(0,"small",88),n.EFF(1),n.nI1(2,"mytranslate"),n.j41(3,"button",89),n.nI1(4,"mytranslate"),n.bIt("click",function(S){n.eBV(k);const D=n.XpG().$implicit,Y=n.XpG(2).$implicit;return n.XpG(5).editMarkCoefficient(D,Y),S.stopPropagation(),n.Njj(S.preventDefault())}),n.nrm(5,"lucide-icon",90),n.k0s()()}if(2&v){const k=n.XpG().$implicit;n.R7$(),n.Lme(" ",n.bMT(2,3,"lang_student_score_factor"),":\xa0",k.markCoefficient," "),n.R7$(2),n.FS9("matTooltip",n.bMT(4,5,"lang_student_edit_mark_coefficient"))}}function Nn(v,G){if(1&v&&(n.j41(0,"div",72)(1,"a",73),n.nI1(2,"navigationLocalize"),n.j41(3,"div",74)(4,"div",75),n.DNE(5,ti,4,3,"ng-container",14)(6,ei,2,2,"ng-container",14)(7,En,2,2,"ng-container",14),n.k0s(),n.j41(8,"div",76)(9,"div",77)(10,"span",78,2),n.EFF(12),n.k0s(),n.DNE(13,ni,3,5,"small",79)(14,Xe,3,7,"small",80)(15,wn,6,7,"small",81),n.k0s()()()()()),2&v){let k;const b=G.$implicit,S=n.sdS(11),D=n.XpG(7);n.R7$(),n.Y8G("routerLink",n.eq3(14,M,n.bMT(2,12,b.documentType==D.allDocumentTypes.exam?D.teacherRole?"/admin/testbank/exam-results-list/"+(null!==(k=b.categoryId)&&void 0!==k?k:0)+"/"+b.refId+"/0":"/de-thi/"+b.hashId:D.teacherRole?"/admin/testbank/homework-results-list/"+(null!==(k=b.classroomId)&&void 0!==k?k:0)+"/"+b.refId+"/"+b.hashId:"/bai-tap/"+b.hashId)))("queryParams",n.eq3(16,O,D.currentUrl)),n.R7$(4),n.Y8G("ngIf",!b.type),n.R7$(),n.Y8G("ngIf","exam"==b.type),n.R7$(),n.Y8G("ngIf","homework"==b.type),n.R7$(3),n.FS9("matTooltip",b.name),n.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",S.isDisabled),n.R7$(2),n.SpI(" ",b.name," "),n.R7$(),n.Y8G("ngIf",D.teacherRole),n.R7$(),n.Y8G("ngIf",!D.teacherRole),n.R7$(),n.Y8G("ngIf",D.teacherRole)}}function j(v,G){if(1&v&&(n.j41(0,"a",91),n.nI1(1,"navigationLocalize"),n.j41(2,"span",92),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()()),2&v){let k;const b=n.XpG(2).$implicit,S=n.XpG(5);n.Y8G("routerLink",n.eq3(8,M,n.bMT(1,4,"/admin/testbank/create-new-document/0")))("queryParams",n.l4e(10,Ee,S.currentUrl,S.classroomId,b.programId,b.id,null!==(k=null==S.programObj?null:S.programObj.schoolLevelId)&&void 0!==k?k:0,null!==(k=null==S.programObj?null:S.programObj.schoolSubjectId)&&void 0!==k?k:0))("ngClass",n.l_i(17,nt,b.outOfDate,!b.outOfDate)),n.R7$(3),n.SpI("+ ",n.bMT(4,6,"lang_business_assign_exams"),"")}}function H(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",106)(1,"a",107),n.bIt("click",function(S){let D;n.eBV(k);const Y=n.XpG(2).$implicit,ut=n.XpG(3).$implicit,wt=n.XpG(4).$implicit;return n.XpG(5).removeDocumentFromSession(wt,null!==(D=Y.sessionId)&&void 0!==D?D:0,Y.id,ut),S.preventDefault(),n.Njj(S.stopPropagation())}),n.nrm(2,"lucide-icon",108),n.nI1(3,"mytranslate"),n.k0s()()}2&v&&(n.R7$(2),n.Y8G("matTooltip",n.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function E(v,G){if(1&v){const k=n.RV6();n.j41(0,"li")(1,"a",103),n.bIt("auxclick",function(S){n.eBV(k);const D=n.XpG().$implicit,Y=n.XpG(12);return n.Njj(Y.previewFile(D,S))})("click",function(S){n.eBV(k);const D=n.XpG().$implicit,Y=n.XpG(12);return n.Njj(Y.previewFile(D,S))}),n.nrm(2,"azt-document-type-file",104),n.DNE(3,H,4,3,"div",105),n.k0s()()}if(2&v){let k;const b=n.XpG().$implicit,S=n.XpG(12);n.R7$(2),n.Y8G("truncateString",!1)("textWidth","99%")("type",b.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(k=b.name)&&void 0!==k?k:"")("url",b.link)("customClass","w-6 h-6"),n.R7$(),n.Y8G("ngIf",S.teacherRole)}}function I(v,G){if(1&v&&(n.qex(0),n.DNE(1,E,4,10,"li",14),n.bVm()),2&v){const k=n.XpG(3).$implicit,b=n.XpG(9);n.R7$(),n.Y8G("ngIf",k.name==b.allDocumentGroupTypes.video)}}function F(v,G){if(1&v&&(n.qex(0),n.j41(1,"h3",98),n.nrm(2,"lucide-icon",99),n.j41(3,"span",23),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s()(),n.j41(6,"mat-menu",100,4)(8,"div",101)(9,"ul",102),n.DNE(10,I,2,1,"ng-container",20),n.k0s()()(),n.bVm()),2&v){const k=n.sdS(7),b=n.XpG(2).$implicit,S=n.XpG(4).last,D=n.XpG(2).last;n.XpG();const Y=n.sdS(2),ut=n.XpG(2);n.R7$(),n.Y8G("matMenuTriggerFor",b.documentObjs.length?k:null),n.R7$(3),n.Lme("",n.bMT(5,6,"lang_config_educational_program_"+b.name),""," ("+b.documentObjs.length+")",""),n.R7$(4),n.Y8G("ngStyle",n.eq3(8,ln,ut.isMobileWebView?Y.offsetWidth-40+"px":"27rem")),n.R7$(),n.Y8G("ngClass",n.eq3(10,De,D&&S||b.documentObjs.length>5)),n.R7$(),n.Y8G("ngForOf",b.documentObjs)}}function kt(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",106)(1,"a",110),n.bIt("click",function(S){let D;n.eBV(k);const Y=n.XpG(2).$implicit,ut=n.XpG(3).$implicit,wt=n.XpG(4).$implicit;return n.XpG(5).removeDocumentFromSession(wt,null!==(D=Y.sessionId)&&void 0!==D?D:0,Y.id,ut),S.preventDefault(),n.Njj(S.stopPropagation())}),n.nrm(2,"lucide-icon",108),n.nI1(3,"mytranslate"),n.k0s()()}2&v&&(n.R7$(2),n.Y8G("matTooltip",n.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function se(v,G){if(1&v){const k=n.RV6();n.j41(0,"li")(1,"a",109),n.bIt("auxclick",function(S){n.eBV(k);const D=n.XpG().$implicit,Y=n.XpG(12);return n.Njj(Y.previewFile(D,S))})("click",function(S){n.eBV(k);const D=n.XpG().$implicit,Y=n.XpG(12);return n.Njj(Y.previewFile(D,S))}),n.nrm(2,"azt-document-type-file",104),n.DNE(3,kt,4,3,"div",105),n.k0s()()}if(2&v){let k;const b=n.XpG().$implicit,S=n.XpG(12);n.R7$(2),n.Y8G("truncateString",!1)("textWidth","99%")("type",b.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(k=b.name)&&void 0!==k?k:"")("url",b.link)("customClass","w-6 h-6"),n.R7$(),n.Y8G("ngIf",S.teacherRole)}}function ne(v,G){if(1&v&&(n.qex(0),n.DNE(1,se,4,10,"li",14),n.bVm()),2&v){const k=n.XpG(3).$implicit,b=n.XpG(9);n.R7$(),n.Y8G("ngIf",k.name==b.allDocumentGroupTypes.document)}}function cn(v,G){if(1&v&&(n.qex(0),n.j41(1,"h3",98),n.nrm(2,"lucide-icon",99),n.j41(3,"span",23),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s()(),n.j41(6,"mat-menu",100,5)(8,"div",101)(9,"ul",102),n.DNE(10,ne,2,1,"ng-container",20),n.k0s()()(),n.bVm()),2&v){const k=n.sdS(7),b=n.XpG(2).$implicit,S=n.XpG(4).last,D=n.XpG(2).last;n.XpG();const Y=n.sdS(2),ut=n.XpG(2);n.R7$(),n.Y8G("matMenuTriggerFor",b.documentObjs.length?k:null),n.R7$(3),n.Lme("",n.bMT(5,6,"lang_config_educational_program_"+b.name),""," ("+b.documentObjs.length+")",""),n.R7$(4),n.Y8G("ngStyle",n.eq3(8,ln,ut.isMobileWebView?Y.offsetWidth-40+"px":"27rem")),n.R7$(),n.Y8G("ngClass",n.eq3(10,De,D&&S||b.documentObjs.length>5)),n.R7$(),n.Y8G("ngForOf",b.documentObjs)}}function kn(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",106)(1,"a",112),n.bIt("click",function(S){let D;n.eBV(k);const Y=n.XpG(2).$implicit,ut=n.XpG(3).$implicit,wt=n.XpG(4).$implicit;return n.XpG(5).removeDocumentFromSession(wt,null!==(D=Y.sessionId)&&void 0!==D?D:0,Y.id,ut),S.preventDefault(),n.Njj(S.stopPropagation())}),n.nrm(2,"lucide-icon",108),n.nI1(3,"mytranslate"),n.k0s()()}2&v&&(n.R7$(2),n.Y8G("matTooltip",n.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Rn(v,G){if(1&v){const k=n.RV6();n.j41(0,"li")(1,"a",111),n.bIt("auxclick",function(S){n.eBV(k);const D=n.XpG().$implicit,Y=n.XpG(12);return n.Njj(Y.previewFile(D,S))})("click",function(S){n.eBV(k);const D=n.XpG().$implicit,Y=n.XpG(12);return n.Njj(Y.previewFile(D,S))}),n.nrm(2,"azt-document-type-file",104),n.DNE(3,kn,4,3,"div",105),n.k0s()()}if(2&v){let k;const b=n.XpG().$implicit,S=n.XpG(12);n.R7$(2),n.Y8G("truncateString",!1)("textWidth","99%")("type",b.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(k=b.name)&&void 0!==k?k:"")("url",b.link)("customClass","w-6 h-6"),n.R7$(),n.Y8G("ngIf",S.teacherRole)}}function ii(v,G){if(1&v&&(n.qex(0),n.DNE(1,Rn,4,10,"li",14),n.bVm()),2&v){const k=n.XpG(3).$implicit,b=n.XpG(9);n.R7$(),n.Y8G("ngIf",k.name==b.allDocumentGroupTypes.homework)}}function ui(v,G){if(1&v&&(n.qex(0),n.j41(1,"h3",98),n.nrm(2,"lucide-icon",99),n.j41(3,"span",23),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s()(),n.j41(6,"mat-menu",100,6)(8,"div",101)(9,"ul",102),n.DNE(10,ii,2,1,"ng-container",20),n.k0s()()(),n.bVm()),2&v){const k=n.sdS(7),b=n.XpG(2).$implicit,S=n.XpG(4).last,D=n.XpG(2).last;n.XpG();const Y=n.sdS(2),ut=n.XpG(2);n.R7$(),n.Y8G("matMenuTriggerFor",b.documentObjs.length?k:null),n.R7$(3),n.Lme("",n.bMT(5,6,"lang_config_educational_program_"+b.name),""," ("+b.documentObjs.length+")",""),n.R7$(4),n.Y8G("ngStyle",n.eq3(8,ln,ut.isMobileWebView?Y.offsetWidth-40+"px":"27rem")),n.R7$(),n.Y8G("ngClass",n.eq3(10,De,D&&S||b.documentObjs.length>5)),n.R7$(),n.Y8G("ngForOf",b.documentObjs)}}function ji(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",106)(1,"a",115),n.bIt("click",function(S){let D;n.eBV(k);const Y=n.XpG(2).$implicit,ut=n.XpG(3).$implicit,wt=n.XpG(4).$implicit;return n.XpG(5).removeDocumentFromSession(wt,null!==(D=Y.sessionId)&&void 0!==D?D:0,Y.id,ut),S.preventDefault(),n.Njj(S.stopPropagation())}),n.nrm(2,"lucide-icon",108),n.nI1(3,"mytranslate"),n.k0s()()}2&v&&(n.R7$(2),n.Y8G("matTooltip",n.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function oi(v,G){if(1&v){const k=n.RV6();n.j41(0,"li")(1,"a",113),n.bIt("auxclick",function(S){n.eBV(k);const D=n.XpG().$implicit,Y=n.XpG(12);return n.Njj(Y.previewFile(D,S))})("click",function(S){n.eBV(k);const D=n.XpG().$implicit,Y=n.XpG(12);return n.Njj(Y.previewFile(D,S))}),n.nrm(2,"azt-document-type-file",114),n.DNE(3,ji,4,3,"div",105),n.k0s()()}if(2&v){let k;const b=n.XpG().$implicit,S=n.XpG(12);n.R7$(2),n.Y8G("truncateString",!1)("type",b.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(k=b.name)&&void 0!==k?k:"")("url",b.link)("customClass","w-6 h-6"),n.R7$(),n.Y8G("ngIf",S.teacherRole)}}function Vn(v,G){if(1&v&&(n.qex(0),n.DNE(1,oi,4,10,"li",14),n.bVm()),2&v){const k=n.XpG(3).$implicit,b=n.XpG(9);n.R7$(),n.Y8G("ngIf",k.name==b.allDocumentGroupTypes.homework_view)}}function si(v,G){if(1&v&&(n.qex(0),n.j41(1,"h3",98),n.nrm(2,"lucide-icon",99),n.j41(3,"span",23),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s()(),n.j41(6,"mat-menu",100,7)(8,"div",101)(9,"ul",102),n.DNE(10,Vn,2,1,"ng-container",20),n.k0s()()(),n.bVm()),2&v){const k=n.sdS(7),b=n.XpG(2).$implicit,S=n.XpG(4).last,D=n.XpG(2).last;n.XpG();const Y=n.sdS(2),ut=n.XpG(2);n.R7$(),n.Y8G("matMenuTriggerFor",b.documentObjs.length?k:null),n.R7$(3),n.Lme("",n.bMT(5,6,"lang_config_educational_program_"+b.name),""," ("+b.documentObjs.length+")",""),n.R7$(4),n.Y8G("ngStyle",n.eq3(8,ln,ut.isMobileWebView?Y.offsetWidth-40+"px":"27rem")),n.R7$(),n.Y8G("ngClass",n.eq3(10,De,D&&S||b.documentObjs.length>5)),n.R7$(),n.Y8G("ngForOf",b.documentObjs)}}function Li(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",106)(1,"a",117),n.bIt("click",function(S){let D;n.eBV(k);const Y=n.XpG(2).$implicit,ut=n.XpG(3).$implicit,wt=n.XpG(4).$implicit;return n.XpG(5).removeDocumentFromSession(wt,null!==(D=Y.sessionId)&&void 0!==D?D:0,Y.id,ut),S.preventDefault(),n.Njj(S.stopPropagation())}),n.nrm(2,"lucide-icon",108),n.nI1(3,"mytranslate"),n.k0s()()}2&v&&(n.R7$(2),n.Y8G("matTooltip",n.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Bi(v,G){if(1&v){const k=n.RV6();n.j41(0,"li")(1,"a",116),n.bIt("auxclick",function(S){n.eBV(k);const D=n.XpG().$implicit,Y=n.XpG(12);return n.Njj(Y.previewFile(D,S))})("click",function(S){n.eBV(k);const D=n.XpG().$implicit,Y=n.XpG(12);return n.Njj(Y.previewFile(D,S))}),n.nrm(2,"azt-document-type-file",114),n.DNE(3,Li,4,3,"div",105),n.k0s()()}if(2&v){let k;const b=n.XpG().$implicit,S=n.XpG(12);n.R7$(2),n.Y8G("truncateString",!1)("type",b.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(k=b.name)&&void 0!==k?k:"")("url",b.link)("customClass","w-6 h-6"),n.R7$(),n.Y8G("ngIf",S.teacherRole)}}function yi(v,G){if(1&v&&(n.qex(0),n.DNE(1,Bi,4,10,"li",14),n.bVm()),2&v){const k=n.XpG(3).$implicit,b=n.XpG(9);n.R7$(),n.Y8G("ngIf",k.name==b.allDocumentGroupTypes.unknown)}}function Yi(v,G){if(1&v&&(n.qex(0),n.j41(1,"h3",98),n.nrm(2,"lucide-icon",99),n.j41(3,"span",23),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s()(),n.j41(6,"mat-menu",100,8)(8,"div",101)(9,"ul",102),n.DNE(10,yi,2,1,"ng-container",20),n.k0s()()(),n.bVm()),2&v){const k=n.sdS(7),b=n.XpG(2).$implicit,S=n.XpG(4).last,D=n.XpG(2).last;n.XpG();const Y=n.sdS(2),ut=n.XpG(2);n.R7$(),n.Y8G("matMenuTriggerFor",k),n.R7$(3),n.Lme("",n.bMT(5,6,"lang_config_educational_program_"+b.name),""," ("+b.documentObjs.length+")",""),n.R7$(4),n.Y8G("ngStyle",n.eq3(8,ln,ut.isMobileWebView?Y.offsetWidth-40+"px":"18rem")),n.R7$(),n.Y8G("ngClass",n.eq3(10,De,D&&S||b.documentObjs.length>5)),n.R7$(),n.Y8G("ngForOf",b.documentObjs)}}function $n(v,G){if(1&v&&(n.j41(0,"div",97),n.DNE(1,F,11,12,"ng-container",14)(2,cn,11,12,"ng-container",14)(3,ui,11,12,"ng-container",14)(4,si,11,12,"ng-container",14)(5,Yi,11,12,"ng-container",14),n.k0s()),2&v){const k=n.XpG().$implicit,b=n.XpG(9);n.R7$(),n.Y8G("ngIf",k.name==b.allDocumentGroupTypes.video),n.R7$(),n.Y8G("ngIf",k.name==b.allDocumentGroupTypes.document),n.R7$(),n.Y8G("ngIf",k.name==b.allDocumentGroupTypes.homework),n.R7$(),n.Y8G("ngIf",k.name==b.allDocumentGroupTypes.homework_view),n.R7$(),n.Y8G("ngIf",k.name==b.allDocumentGroupTypes.unknown&&k.documentObjs.length)}}function zn(v,G){if(1&v&&(n.qex(0),n.DNE(1,$n,6,5,"div",96),n.bVm()),2&v){const k=G.$implicit,b=n.XpG(9);n.R7$(),n.Y8G("ngIf",k.name!=b.allDocumentGroupTypes.unknown||k.name==b.allDocumentGroupTypes.unknown&&k.documentObjs.length)}}function Un(v,G){if(1&v&&(n.qex(0),n.DNE(1,zn,2,1,"ng-container",20),n.bVm()),2&v){const k=n.XpG(3).$implicit;n.R7$(),n.Y8G("ngForOf",k.groupDocumentObjs)}}function Xn(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",106)(1,"a",122),n.bIt("click",function(){let S;n.eBV(k);const D=n.XpG().$implicit,Y=n.XpG(4).$implicit,ut=n.XpG(5);return n.Njj(ut.removeDocumentFromSession(Y,null!==(S=D.sessionId)&&void 0!==S?S:0,D.id))}),n.nrm(2,"lucide-icon",108),n.nI1(3,"mytranslate"),n.k0s()()}2&v&&(n.R7$(2),n.Y8G("matTooltip",n.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Vi(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",119)(1,"a",120),n.bIt("auxclick",function(S){const D=n.eBV(k).$implicit,Y=n.XpG(9);return n.Njj(Y.previewFile(D,S))})("click",function(S){const D=n.eBV(k).$implicit,Y=n.XpG(9);return n.Njj(Y.previewFile(D,S))}),n.nrm(2,"azt-document-type-file",121),n.k0s(),n.DNE(3,Xn,4,3,"div",105),n.k0s()}if(2&v){let k;const b=G.$implicit,S=n.XpG(9);n.R7$(2),n.Y8G("type",b.documentType)("name",null!==(k=b.name)&&void 0!==k?k:"")("url",b.link)("customClass","w-6 h-6"),n.R7$(),n.Y8G("ngIf",S.teacherRole)}}function Ui(v,G){if(1&v&&n.DNE(0,Vi,4,5,"div",118),2&v){const k=n.XpG(3).$implicit;n.Y8G("ngForOf",k.normalDocumentObjs)}}function Oi(v,G){if(1&v){const k=n.RV6();n.j41(0,"app-upload-document-for-session",123),n.bIt("emitFileDocument",function(S){n.eBV(k);const D=n.XpG(3).$implicit,Y=n.XpG(5);return n.Njj(Y.uploadFileEmitted(S,D))}),n.j41(1,"span",92),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s()()}if(2&v){const k=n.XpG(3).$implicit;n.Y8G("isBtn",!0)("customClass",k.outOfDate?"text-slate-600":"text-primary"),n.R7$(2),n.JRh(n.bMT(3,3,"lang_educational_program_add_document"))}}function Xi(v,G){if(1&v&&(n.j41(0,"div",63),n.DNE(1,Un,2,1,"ng-container",93)(2,Ui,1,1,"ng-template",null,3,n.C5r),n.j41(4,"div",94),n.DNE(5,Oi,4,5,"app-upload-document-for-session",95),n.k0s()()),2&v){const k=n.sdS(3),b=n.XpG(2).$implicit,S=n.XpG(5);n.R7$(),n.Y8G("ngIf",b.groupDocumentObjs.length)("ngIfElse",k),n.R7$(4),n.Y8G("ngIf",S.teacherRole)}}function pi(v,G){1&v&&(n.j41(0,"div",124)(1,"div",125)(2,"span",126),n.nrm(3,"azt-loading-ui",127),n.k0s()()()),2&v&&(n.R7$(3),n.Y8G("type","oval"))}function Wi(v,G){if(1&v&&(n.j41(0,"a",135),n.nI1(1,"navigationLocalize"),n.nrm(2,"lucide-icon",136),n.j41(3,"span",134),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s()()),2&v){const k=n.XpG(3).$implicit,b=n.XpG(5);n.Y8G("routerLink",n.eq3(8,M,n.bMT(1,4,"/admin/student/attendance-student/"+b.classroomId+"/"+k.programId+"/"+k.id)))("queryParams",n.eq3(10,O,"/admin/student/classroom-details/"+b.classroomId+"/3?sessionId="+k.id+"&backto="+b.backLink)),n.R7$(4),n.Lme("",n.bMT(5,6,"lang_student_attendance_student"),""," ("+k.totalJoinedStudent+"/"+k.totalStudent+")","")}}function Ji(v,G){if(1&v&&(n.j41(0,"a",137),n.nI1(1,"navigationLocalize"),n.nrm(2,"lucide-icon",138),n.j41(3,"span",134),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s()()),2&v){const k=n.XpG(3).$implicit,b=n.XpG(5);n.Y8G("routerLink",n.eq3(7,M,n.bMT(1,3,"/admin/student/distribute-document/"+b.classroomId+"/"+k.programId+"/"+k.id)))("queryParams",n.eq3(9,O,"/admin/student/classroom-details/"+b.classroomId+"/3?sessionId="+k.id+"&backto="+b.backLink)),n.R7$(4),n.JRh(n.bMT(5,5,"lang_student_distribute_books"))}}function Hi(v,G){if(1&v&&(n.j41(0,"a",139),n.nI1(1,"navigationLocalize"),n.nrm(2,"lucide-icon",140),n.j41(3,"span",134),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s()()),2&v){const k=n.XpG(3).$implicit,b=n.XpG(5);n.Y8G("routerLink",n.eq3(7,M,n.bMT(1,3,"/admin/student/submit-score/"+b.classroomId+"/"+k.programId+"/"+k.id)))("queryParams",n.eq3(9,O,"/admin/student/classroom-details/"+b.classroomId+"/3?sessionId="+k.id+"&backto="+b.backLink)),n.R7$(4),n.JRh(n.bMT(5,5,"lang_student_enter_score"))}}function Ki(v,G){if(1&v&&(n.j41(0,"div",66)(1,"div",60)(2,"span",61),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()(),n.j41(5,"div",128),n.DNE(6,Wi,6,12,"a",129),n.nI1(7,"allowFeatureBusinessForUser"),n.nI1(8,"async"),n.DNE(9,Ji,6,11,"a",130),n.nI1(10,"allowFeatureBusinessForUser"),n.nI1(11,"async"),n.DNE(12,Hi,6,11,"a",131),n.nI1(13,"allowFeatureBusinessForUser"),n.nI1(14,"async"),n.j41(15,"a",132),n.nI1(16,"navigationLocalize"),n.nrm(17,"lucide-icon",133),n.j41(18,"span",134),n.EFF(19),n.nI1(20,"mytranslate"),n.k0s()()()()),2&v){const k=n.XpG(2).$implicit,b=n.XpG(5);n.R7$(2),n.Y8G("ngClass",n.l_i(29,X,k.outOfDate,!k.outOfDate)),n.R7$(),n.SpI(" ",n.bMT(4,8,"lang_auto_hanh_dong")," "),n.R7$(3),n.Y8G("ngIf",n.bMT(8,13,n.i5U(7,10,"training_center_student_attendance",!1))),n.R7$(3),n.Y8G("ngIf",n.bMT(11,18,n.i5U(10,15,"training_center_student_book",!1))),n.R7$(3),n.Y8G("ngIf",n.bMT(14,23,n.i5U(13,20,"training_center_student_mark",!1))),n.R7$(3),n.Y8G("routerLink",n.eq3(32,M,n.bMT(16,25,"/admin/student/add-comment/"+b.classroomId+"/"+k.programId+"/"+k.id)))("queryParams",n.eq3(34,O,"/admin/student/classroom-details/"+b.classroomId+"/3?sessionId="+k.id+"&backto="+b.backLink)),n.R7$(4),n.JRh(n.bMT(20,27,"lang_auto_nhap_nhan_xet"))}}function Qi(v,G){if(1&v&&(n.j41(0,"div",66)(1,"div",60)(2,"span",61),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()(),n.j41(5,"div",128)(6,"div",141)(7,"span"),n.EFF(8),n.nI1(9,"mytranslate"),n.k0s(),n.j41(10,"span",142),n.EFF(11),n.nI1(12,"mytranslate"),n.k0s()()()()),2&v){const k=n.XpG(2).$implicit;n.R7$(2),n.Y8G("ngClass",n.l_i(10,X,k.outOfDate,!k.outOfDate)),n.R7$(),n.SpI(" ",n.bMT(4,4,"lang_auto_hanh_dong")," "),n.R7$(5),n.JRh(n.bMT(9,6,"lang_business_requested_leave_with_a_reason")),n.R7$(3),n.JRh(null!=k.studentAttendance&&k.studentAttendance.reason?null==k.studentAttendance?null:k.studentAttendance.reason:n.bMT(12,8,"lang_student_absence_no_reason"))}}function Ei(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",53)(1,"div",54),n.bIt("click",function(){n.eBV(k);const S=n.XpG().$implicit,D=n.XpG(5);return n.Njj(D.expandSessionObj(S))}),n.j41(2,"h3",55)(3,"span",56),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s(),n.j41(6,"span",57),n.EFF(7),n.nI1(8,"mytranslate"),n.k0s()(),n.DNE(9,qn,4,3,"ng-container",14),n.k0s(),n.DNE(10,vn,6,11,"div",58),n.j41(11,"div",59)(12,"div",60)(13,"span",61),n.EFF(14),n.nI1(15,"mytranslate"),n.k0s()(),n.j41(16,"div",62)(17,"div",63),n.DNE(18,Nn,16,18,"div",64)(19,j,5,20,"a",65),n.k0s()()(),n.j41(20,"div",66)(21,"div",60)(22,"span",61),n.EFF(23),n.nI1(24,"mytranslate"),n.k0s()(),n.j41(25,"div",62),n.DNE(26,Xi,6,3,"div",67)(27,pi,4,1,"div",68),n.k0s()(),n.DNE(28,Ki,21,36,"div",69),n.nI1(29,"allowFeatureBusinessForUser"),n.nI1(30,"async"),n.nI1(31,"allowFeatureBusinessForUser"),n.nI1(32,"async"),n.nI1(33,"allowFeatureBusinessForUser"),n.nI1(34,"async"),n.DNE(35,Qi,13,13,"div",69),n.nI1(36,"allowFeatureBusinessForUser"),n.nI1(37,"async"),n.k0s()}if(2&v){const k=n.XpG().$implicit,b=n.XpG(5);n.BMQ("id","session-"+k.id),n.R7$(3),n.Y8G("ngClass",n.eq3(44,ft,k.outOfDate)),n.R7$(),n.JRh(n.bMT(5,16,"lang_core_buoi")+" "+k.sort),n.R7$(3),n.JRh(n.bMT(8,18,"lang_config_educational_program_day_"+k.day)+", "+k.dateSession+" "+k.timeSession),n.R7$(2),n.Y8G("ngIf",k.room),n.R7$(),n.Y8G("ngIf",k.contents&&k.contents.length),n.R7$(3),n.Y8G("ngClass",n.l_i(46,X,k.outOfDate,!k.outOfDate)),n.R7$(),n.JRh(n.bMT(15,20,"lang_cms_auto_gen_test_exam_title")),n.R7$(4),n.Y8G("ngForOf",k.examHomeworkObjs),n.R7$(),n.Y8G("ngIf",b.teacherRole),n.R7$(3),n.Y8G("ngClass",n.l_i(49,X,k.outOfDate,!k.outOfDate)),n.R7$(),n.JRh(n.bMT(24,22,"lang_testbank_document_list_header_title")),n.R7$(3),n.Y8G("ngIf",!k.isDeletingDocument&&!k.isUploadingDocument),n.R7$(),n.Y8G("ngIf",k.isDeletingDocument||k.isUploadingDocument),n.R7$(),n.Y8G("ngIf",(n.bMT(30,27,n.i5U(29,24,"training_center_student_attendance",!1))||n.bMT(32,32,n.i5U(31,29,"training_center_student_book",!1))||n.bMT(34,37,n.i5U(33,34,"training_center_student_mark",!1)))&&b.teacherRole),n.R7$(7),n.Y8G("ngIf",(null==k.studentAttendance?null:k.studentAttendance.absent)&&n.bMT(37,42,n.i5U(36,39,"training_center_student_attendance",!0))&&!b.teacherRole)}}function Zi(v,G){if(1&v&&(n.j41(0,"div",36),n.DNE(1,bn,7,12,"div",37)(2,Gn,10,10,"div",38)(3,Ei,38,52,"div",39),n.k0s()),2&v){const k=G.$implicit,b=n.XpG(5);n.R7$(),n.Y8G("ngIf",!b.teacherRole),n.R7$(),n.Y8G("ngIf",!k.isExpanded),n.R7$(),n.Y8G("ngIf",k.isExpanded)}}function qi(v,G){if(1&v&&(n.qex(0),n.DNE(1,Zi,4,3,"div",35),n.bVm()),2&v){const k=n.XpG().$implicit;n.R7$(),n.Y8G("ngForOf",k.programObjs)}}function to(v,G){if(1&v){const k=n.RV6();n.qex(0),n.j41(1,"h3",29)(2,"span",30),n.bIt("click",function(){const S=n.eBV(k).$implicit;return n.Njj(S.expand=!S.expand)}),n.EFF(3),n.nI1(4,"mytranslate"),n.DNE(5,gn,1,0,"lucide-icon",31)(6,Bn,1,0,"lucide-icon",32),n.k0s()(),n.DNE(7,qi,2,1,"ng-container",14),n.bVm()}if(2&v){const k=G.$implicit;n.R7$(3),n.SpI(" ",n.bMT(4,4,k.monthName)," "),n.R7$(2),n.Y8G("ngIf",k.expand),n.R7$(),n.Y8G("ngIf",!k.expand),n.R7$(),n.Y8G("ngIf",k.expand)}}function eo(v,G){if(1&v&&(n.qex(0),n.j41(1,"div",16,1)(3,"div",17)(4,"h3",18),n.EFF(5),n.nI1(6,"mytranslate"),n.k0s(),n.DNE(7,Ve,5,3,"button",19),n.k0s(),n.DNE(8,on,3,1,"ng-container",14),n.k0s(),n.qex(9),n.DNE(10,to,8,6,"ng-container",20),n.bVm()()),2&v){const k=n.XpG(2);n.R7$(5),n.SpI(" ",n.bMT(6,4,"lang_educational_program_general_documents")," "),n.R7$(2),n.Y8G("ngIf",k.teacherRole),n.R7$(),n.Y8G("ngIf",k.generalDocumentObjs.length),n.R7$(2),n.Y8G("ngForOf",k.groupProgramSessionObjs)}}function no(v,G){1&v&&(n.j41(0,"h3",148),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&v&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"lang_config_educational_program_add_new_description")," "))}function wi(v,G){if(1&v){const k=n.RV6();n.j41(0,"button",149),n.bIt("click",function(){n.eBV(k);const S=n.XpG(4);return n.Njj(S.addNewEducationalProgram())}),n.nrm(1,"lucide-icon",150),n.j41(2,"span"),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()()}2&v&&(n.R7$(),n.Y8G("ngClass",n.lJ4(4,An)),n.R7$(2),n.JRh(n.bMT(4,2,"lang_config_educational_program_select_new")))}function io(v,G){if(1&v&&(n.j41(0,"div",144)(1,"h3",145),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.DNE(4,no,3,3,"h3",146)(5,wi,5,5,"button",147),n.k0s()),2&v){const k=n.XpG(3);n.R7$(2),n.SpI(" ",n.bMT(3,3,"lang_config_educational_program_no_have_yet")," "),n.R7$(2),n.Y8G("ngIf",k.teacherRole),n.R7$(),n.Y8G("ngIf",k.teacherRole)}}function oo(v,G){1&v&&(n.j41(0,"h3",148),n.EFF(1),n.nI1(2,"mytranslate"),n.k0s()),2&v&&(n.R7$(),n.SpI(" ",n.bMT(2,1,"lang_config_educational_program_add_new_session_desc")," "))}function so(v,G){if(1&v){const k=n.RV6();n.j41(0,"button",152),n.bIt("click",function(){n.eBV(k);const S=n.XpG(4);return n.Njj(S.editEducationalProgram())}),n.nrm(1,"lucide-icon",153),n.j41(2,"span"),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s()()}2&v&&(n.R7$(),n.Y8G("ngClass",n.lJ4(4,An)),n.R7$(2),n.JRh(n.bMT(4,2,"lang_config_educational_program_edit_btn")))}function ao(v,G){if(1&v&&(n.j41(0,"div",144)(1,"h3",145),n.EFF(2),n.nI1(3,"mytranslate"),n.k0s(),n.DNE(4,oo,3,3,"h3",146)(5,so,5,5,"button",151),n.k0s()),2&v){const k=n.XpG(3);n.R7$(2),n.SpI(" ",n.bMT(3,3,"lang_config_educational_program_no_have_session_yet")," "),n.R7$(2),n.Y8G("ngIf",k.teacherRole),n.R7$(),n.Y8G("ngIf",k.teacherRole)}}function Ri(v,G){if(1&v&&(n.qex(0),n.DNE(1,io,6,5,"div",143)(2,ao,6,5,"ng-template",null,9,n.C5r),n.bVm()),2&v){const k=n.sdS(3),b=n.XpG(2);n.R7$(),n.Y8G("ngIf",!b.programObj)("ngIfElse",k)}}function ro(v,G){if(1&v&&n.DNE(0,Ln,1,2,"app-add-new-educational-program",13)(1,eo,11,6,"ng-container",14)(2,Ri,4,2,"ng-container",14),2&v){const k=n.XpG();n.Y8G("ngIf",k.showAddNewEducationalProgram),n.R7$(),n.Y8G("ngIf",!k.showAddNewEducationalProgram&&k.programSessionObjs.length),n.R7$(),n.Y8G("ngIf",!k.showAddNewEducationalProgram&&k.programSessionObjs.length<=0)}}let Mi=(()=>{var v;class G extends i.H{emitDataReloadSession(b){b?(this.initStatusObj(),this.programObj=void 0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter.emit()):this.showAddNewEducationalProgram=!1}editMarkCoefficient(b,S){this.sAztDialogService.open(Nt._,{data:{id:b.markId??0,name:"",coefficient:b.markCoefficient,programId:S.programId,classroomId:this.classroomId,sessionId:S.id,isOnlyCoefficient:!0,documentName:b.name,documentType:b.type},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(Y=>{Y&&this.reloadSessionDataOfProgram(S)})}reloadData(b,S){b&&this.reloadSessionDataOfProgram(S)}reloadSessionDataOfProgram(b){b.isLoadingData=!0,this.reloadSessionDataEmitter.emit(b)}addNewEducationalProgram(){this.showAddNewEducationalProgram=!this.showAddNewEducationalProgram}editEducationalProgram(){let b=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/business/edit-educational-program/"+this.programObj?.id,"?backTo="+b)}removeDocumentFromSession(b,S,D,Y){var ut=(b.normalDocumentObjs.filter(Jt=>Jt.id==D)[0].name??"")+" - "+this.commonService.myTranslateInstant("lang_core_buoi")+" "+b.sort.toString(),wt=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+ut+" </div> ?";this.sAztDialogService.open(zt.u,{data:{content:wt},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(Jt=>{Jt&&(b.isDeletingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsDocumentIdDelete(this.classroomId,S,D).subscribe({next:mn=>{Y&&(Y.documentObjs=Y.documentObjs.filter(Ht=>Ht.id!=D)),b.normalDocumentObjs=b.normalDocumentObjs.filter(Ht=>Ht.id!=D),this.showSuccessSnack("lang_config_educational_program_remove_document_link_successfully"),b.isDeletingDocument=!1},error:mn=>{b.isDeletingDocument=!1,this.errorStatusObj(mn.error.message,!0)}})))})}uploadFileEmitted(b,S){S.isUploadingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsPost(this.classroomId,S.id,b).subscribe({next:D=>{this.reloadSessionDataOfProgram(S),S.isUploadingDocument=!1,this.showSuccessSnack("lang_config_educational_program_add_document_link_successfully")},error:D=>{S.isUploadingDocument=!1,this.errorStatusObj(D.error.message,!0)}}))}expandSessionObj(b){b.isExpanded=!b.isExpanded,this.changeSessionDataEmitter.emit(b)}previewFile(b,S){if(this.isBusinessDomain&&b.type==e.d.video&&(0,yt.xy)(b.link??""))window.open(b.link,"_blank");else{const D={name:b.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(b.type),type:b.type,url:b.link};this.sAztDialogService.open(ct.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...D,index:0},showDownloadIcon:!1},restoreFocus:!1})}}ngAfterViewInit(){let b=this.programSessionObjs.find(S=>S.isExpanded);if(b){let S=document.getElementById("session-"+b.id);window.scrollTo({top:S?.offsetTop})}}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.backLink||(this.backLink="/admin/student/manage-classroom/0")}constructor(b,S,D,Y){super(),this.sAztDialogService=b,this.cd=S,this.classroomService=D,this.sAztFileTypeService=Y,this.backLink="",this.errorApiMessage="",this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter=new n.bkB,this.changeSessionDataEmitter=new n.bkB,this.allDocumentTypes=e.d,this.allDocumentGroupTypes=St.k,this.showAddNewEducationalProgram=!1,this.currentUrl=this.commonService.getCurrentUrlWithoutLocale()}}return(v=G).\u0275fac=function(b){return new(b||v)(n.rXU(J.i),n.rXU(n.gRc),n.rXU(t.zS),n.rXU(bt.k))},v.\u0275cmp=n.VBU({type:v,selectors:[["app-list-sessions"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",errorApiMessage:"errorApiMessage",generalDocumentObjs:"generalDocumentObjs",programSessionObjs:"programSessionObjs",groupProgramSessionObjs:"groupProgramSessionObjs",programObj:"programObj"},outputs:{reloadSessionDataEmitter:"reloadSessionDataEmitter",changeSessionDataEmitter:"changeSessionDataEmitter"},features:[n.Vt3],decls:4,vars:2,consts:[["noApiError",""],["generalDocumentsWidget",""],["c","isDisabled"],["normalViewDocument",""],["matMenuVideo","matMenu"],["matMenuDocument","matMenu"],["matMenuHomework","matMenu"],["matMenuHomeworkView","matMenu"],["matMenuUnknown","matMenu"],["hasProgramObj",""],[1,"container","educational-program-width"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf","ngIfElse"],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[3,"classroomId","programObj","saveEducationalProgramEmit",4,"ngIf"],[4,"ngIf"],[3,"saveEducationalProgramEmit","classroomId","programObj"],[1,"box","p-3","mb-3"],[1,"flex",2,"justify-content","space-between","align-items","center"],[1,"font-medium","text-md"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4","class","btn btn-primary text-white",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4",1,"btn","btn-primary","text-white",3,"click"],["name","refresh-cw","size","16"],[1,"ml-2"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],["azt-track-service","list-educational-program-sessions-tZA6KoGtc",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","iconVerticalStyle","customClass"],[1,"flex","mt-5",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","relative mt-2",4,"ngFor","ngForOf"],[1,"relative","mt-2"],["class","absolute","style","right: 5px; top: 5px; z-index: 99",4,"ngIf"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9","class","box p-3 mb-3 cursor-pointer clickable expanded-box",3,"click",4,"ngIf"],["class","box p-3 mb-3","style","user-select: none",4,"ngIf"],[1,"absolute",2,"right","5px","top","5px","z-index","99"],["class","btn btn-warning btn-sm text-slate-600 change-block-hidden","style","cursor: default",4,"ngIf"],["class","btn btn-warning btn-sm text-slate-600 change-hidden-block","style","cursor: default; padding: 3px",4,"ngIf"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-block-hidden",2,"cursor","default"],["name","user-x",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"ml-1",2,"vertical-align","middle"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-hidden-block",2,"cursor","default","padding","3px"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9",1,"box","p-3","mb-3","cursor-pointer","clickable","expanded-box",3,"click"],[1,"heading"],[1,"font-medium","pr-5","md:pr-auto"],[2,"font-weight","420",3,"ngClass"],[1,"ml-2","text-slate-500",2,"font-weight","400"],[1,"text-slate-500",2,"font-weight","400"],[1,"box","p-3","mb-3",2,"user-select","none"],["azt-track-service","list-educational-program-sessions-AdTUEEwTH6",1,"heading","cursor-pointer","expanded-box-open","pb-2",3,"click"],[1,"font","pr-5","md:pr-auto"],[1,"font-medium",3,"ngClass"],[1,"ml-2","text-slate-500"],["class","azt-answer",4,"ngIf"],[1,"azt-answer"],[1,"strike"],[1,"uppercase",3,"ngClass"],[1,"azt-answer-content","p-3","w-full"],[1,"grid","grid-cols-12","items-center","gap-3"],["class","col-span-12 md:col-span-3",4,"ngFor","ngForOf"],["style","text-align: left","azt-track-service","list-educational-program-sessions-7tcWVQIX5M","class","btn btn-transparent w-48 block",3,"routerLink","queryParams","ngClass",4,"ngIf"],[1,"azt-answer","mt-1"],["class","grid grid-cols-12 items-center gap-3",4,"ngIf"],["class","grid grid-cols-12 gap-2",4,"ngIf"],["class","azt-answer mt-1",4,"ngIf"],[1,"text-slate-500"],[3,"close","contents","teacherRole","classroomId","sessionId"],[1,"col-span-12","md:col-span-3"],["azt-track-service","list-educational-program-sessions-osVwsOKGN",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","text-slate-700/50 mb-0","style","font-size: 13px",4,"ngIf"],["class","mb-0","style","font-size: 13px",3,"ngClass",4,"ngIf"],["class","text-primary mb-0 relative flex items-center","style","font-size: 13px",4,"ngIf"],[1,"w-12","h-12","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],["name","file-check","size","48",3,"ngClass"],["name","file-text","size","48",3,"ngClass"],[1,"text-slate-700/50","mb-0",2,"font-size","13px"],[1,"mb-0",2,"font-size","13px",3,"ngClass"],[1,"text-primary","mb-0","relative","flex","items-center",2,"font-size","13px"],["matRipple","","azt-track-service","list-educational-program-sessions-mHY0DeFrF",1,"btn","btn-outline-primary","btn-sm","border-0","shadow-none","p-1",3,"click","matTooltip"],["name","square-pen","size","16"],["azt-track-service","list-educational-program-sessions-7tcWVQIX5M",1,"btn","btn-transparent","w-48","block",2,"text-align","left",3,"routerLink","queryParams","ngClass"],[1,"uppercase"],[4,"ngIf","ngIfElse"],[1,"col-span-12","md:col-span-2"],[3,"isBtn","customClass","emitFileDocument",4,"ngIf"],["class","col-span-12 md:col-span-2 relative",4,"ngIf"],[1,"col-span-12","md:col-span-2","relative"],[1,"flex","px-3","items-center","cursor-pointer","text-primary",2,"font-weight","420","font-size","15px",3,"matMenuTriggerFor"],["name","circle-arrow-down","size","18"],["xPosition","after"],[1,"dropdown-menu","show",3,"ngStyle"],[1,"dropdown-content",3,"ngClass"],["azt-track-service","list-educational-program-sessions-9Uh-D7fBV",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","textWidth","type","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["class","absolute top-0 right-0 p-1 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-50"],["azt-track-service","list-educational-program-sessions-b0R49s83kG",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["name","x","size","16",3,"matTooltip"],["azt-track-service","list-educational-program-sessions-3xvwjvQpPm",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-wmJtTG9lgc",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["azt-track-service","list-educational-program-sessions-0ddxB4xw-G",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-H_Fu6rJpUs",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["azt-track-service","list-educational-program-sessions-URYQZ4M5Qb",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","type","textWidth","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["azt-track-service","list-educational-program-sessions-MHIjTu_EQr",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["azt-track-service","list-educational-program-sessions-yixL-fRljl",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-bjX0o_IOex",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["class","col-span-12 md:col-span-3 relative",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-3","relative"],["azt-track-service","list-educational-program-sessions-0reisrghN1",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","customClass"],["azt-track-service","list-educational-program-sessions-E4pIFQJwz",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[3,"emitFileDocument","isBtn","customClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","text-center","p-4",2,"align-items","center"],[1,"w-6","h-6","mx-auto","flex"],[3,"type"],[1,"azt-answer-content","py-2","w-full","flex"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-dM0Vh7XPW",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","message-circle","size","18"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"routerLink","queryParams"],["name","users","size","18"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","book","size","18"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","clipboard-pen","size","18"],[1,"font-medium"],[1,"text-danger"],["class","box px-4 py-5 text-center mx-auto mt-3",4,"ngIf","ngIfElse"],[1,"box","px-4","py-5","text-center","mx-auto","mt-3"],[2,"font-weight","450","font-size","15.5px"],["class","mt-3","style","font-weight: 400; font-size: 14px",4,"ngIf"],["azt-track-service","config-educational-program-UuVaYM-oC","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","400","font-size","14px"],["azt-track-service","config-educational-program-UuVaYM-oC",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","plus","size","16",3,"ngClass"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","square-pen","size","16",3,"ngClass"]],template:function(b,S){if(1&b&&(n.j41(0,"div",10),n.DNE(1,Zn,3,3,"div",11)(2,ro,3,3,"ng-template",null,0,n.C5r),n.k0s()),2&b){const D=n.sdS(3);n.R7$(),n.Y8G("ngIf",!S.statusObj.loading&&S.errorApiMessage)("ngIfElse",D)}},dependencies:[ot.Wk,x.YU,x.Sq,x.bT,x.B3,st.kk,st.Cp,Ct.r6,q.oV,P.f,Z.R,z.m,gt.WGl,Ot.J,Et,R,x.Jj,tt.F2,tt.wp,tt.gt,tt.bj],encapsulation:2}),G})();function lo(v,G){if(1&v&&n.nrm(0,"azt-loading-effect",2),2&v){const k=n.XpG();n.Y8G("currentStatusObj",k.statusObj)}}function co(v,G){if(1&v){const k=n.RV6();n.j41(0,"div",3)(1,"app-list-sessions",4),n.bIt("reloadSessionDataEmitter",function(S){n.eBV(k);const D=n.XpG();return n.Njj(D.reloadSessionData(S))})("changeSessionDataEmitter",function(S){n.eBV(k);const D=n.XpG();return n.Njj(D.changeSessionData(S))}),n.k0s()()}if(2&v){const k=n.XpG();n.R7$(),n.Y8G("teacherRole",k.teacherRole)("classroomId",k.classroomId)("backLink",k.backLink)("errorApiMessage",k.errorApiMessage)("generalDocumentObjs",k.generalDocumentObjs)("programSessionObjs",k.programSessionObjs)("groupProgramSessionObjs",k.groupProgramSessionObjs)("programObj",k.programObj)}}let mo=(()=>{var v;class G extends i.H{changeSessionData(b){this.programSessionObjs.map(S=>S.id==b.id?b:S),this.teacherRole&&this.commonService.myNavigationWithQueryString(`/admin/student/classroom-details/${this.classroomId}/3`,`?sessionId=${b.id}${this.backLink?"&backTo="+this.backLink:""}`)}reloadSessionData(b){this.initData(b)}convertNormalDocumentByGroup(b){let S={};return b.forEach(D=>{D.groupType&&(S.hasOwnProperty(D.groupType)||(S[D.groupType]=[]),S[D.groupType].push(D))}),S}processData(b){let S=this.commonService.arrayToDictionary(b,Y=>Y.groupType?Y.groupType:"unknown"),D=[{name:"video",documentObjs:[]},{name:"document",documentObjs:[]},{name:"homework",documentObjs:[]},{name:"homework_view",documentObjs:[]},{name:"unknown",documentObjs:[]}];return Object.entries(S).forEach(([Y,ut],wt)=>{if(ut.length>0){let Jt={name:Y,documentObjs:ut};"video"==Jt.name&&(D[0]=Jt),"document"==Jt.name&&(D[1]=Jt),"homework"==Jt.name&&(D[2]=Jt),"homework_view"==Jt.name&&(D[3]=Jt),"unknown"==Jt.name&&(D[4]=Jt)}}),D}convertDocumentsOfSession(b,S){let D=(new Date).toDateString(),Y=!1;return b.forEach((ut,wt)=>{ut.normalDocumentObjs=ut.allDocumentObjs.filter(Ht=>"exam"!=Ht.type&&"homework"!=Ht.type),ut.examHomeworkObjs=ut.allDocumentObjs.filter(Ht=>"exam"==Ht.type||"homework"==Ht.type),ut.groupDocumentObjs=this.processData(ut.normalDocumentObjs),ut.indexSession=ut.sort;let Jt="",mn="";if(ut.fromTime){let Ht=new Date(ut.fromTime),sn=new Date(Ht.toDateString()),Ae=new Date(D),ai=Math.floor((sn.getTime()-Ae.getTime())/1e3);ut.dateSession=this.timeService.getFormatDate(ut.fromTime),ut.outOfDate=ai<0,ut.monthSession=Ht.getMonth()+1,ut.yearSession=Ht.getFullYear(),Jt+=this.addZeroToTime(Ht.getHours())+":"+this.addZeroToTime(Ht.getMinutes()),mn=this.timeService.calculationTimeAgoOnlyDate(sn,Ae)}if(ut.toTime){let Ht=new Date(ut.toTime);Jt+=" - "+this.addZeroToTime(Ht.getHours())+":"+this.addZeroToTime(Ht.getMinutes())}Jt+=mn?" ("+mn+")":"",ut.timeSession=Jt,Y||(ut.isExpanded=S?ut.isExpanded:!ut.outOfDate,ut.isExpanded&&(Y=!0))}),b}addZeroToTime(b){return b<10?"0"+b:b.toString()}getSchoolLeaveObjs(b,S){b.length&&!this.teacherRole?this.waitDestroy(this.studentService.apiStudentsAttendancesMeGet(this.classroomId).subscribe({next:D=>{b.map(Y=>{Y.studentAttendance=D.list.find(ut=>ut.sessionId==Y.id)}),S(b)},error:D=>{this.errorStatusObj(D.error.message,!0),S(b)}})):S(b)}initData(b){b||(this.initStatusObj(),this.programSessionObjs=[],this.programObj=void 0,this.generalDocumentObjs=[]),this.groupProgramSessionObjs=[];let S=this.teacherRole?this.classroomService.apiClassroomsClassroomIdProgramsProgramIdGet(this.classroomId,0):this.classroomService.apiClassroomsClassroomIdStudentsProgramsProgramIdGet(this.classroomId,0);this.waitDestroy(S.subscribe({next:D=>{this.generalDocumentObjs=D.generalDocuments.map(ut=>({...ut,documentType:this.commonService.getEnumTypeWithDefault(e.d,ut.type,e.d.unknown)})),this.programObj=D.program;let Y=D.sessions.map(ut=>({...ut,isExpanded:!1,isLoadingData:!1,isDeletingDocument:!1,isUploadingDocument:!1,normalDocumentObjs:[],examHomeworkObjs:[],groupDocumentObjs:[],indexSession:0,yearSession:0,monthSession:0,allDocumentObjs:ut.documents.map(wt=>({...wt,documentType:this.commonService.getEnumTypeWithDefault(e.d,wt.type,e.d.unknown)}))}));Y=this.convertDocumentsOfSession(Y,!!b),this.getSchoolLeaveObjs(Y,ut=>{if(b){let Ht=ut.find(sn=>sn.id==b.id);this.programSessionObjs=this.programSessionObjs.map(sn=>sn.id==Ht?.id?{...Ht,isExpanded:sn.isExpanded}:sn)}else this.programSessionObjs=ut;this.sessionId&&this.programSessionObjs.map(Ht=>Ht.isExpanded=Ht.id==this.sessionId);let wt=this.commonService.arrayToDictionary(this.programSessionObjs,Ht=>Ht.monthSession?.toString()+"/"+Ht.yearSession?.toString()),Jt=this.commonService.myTranslateInstant("lang_core_thang")??"Th\xe1ng",mn=(new Date).getMonth()+1+"/"+(new Date).getFullYear();Object.entries(wt).forEach(([Ht,sn],Ae)=>{let ai=sn.find(uo=>uo.isExpanded);this.groupProgramSessionObjs.push({monthName:Jt+" "+Ht,programObjs:sn,expand:!(Ht!=mn&&!ai)})}),this.stopStatusObj()})},error:D=>{this.errorApiMessage=D.error.message,this.errorStatusObj(D.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.initData(void 0)}constructor(b,S,D,Y){super(),this.classroomService=b,this.timeService=S,this.studentService=D,this.activeRoute=Y,this.sessionId=0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.errorApiMessage=""}}return(v=G).\u0275fac=function(b){return new(b||v)(n.rXU(t.zS),n.rXU(T.F),n.rXU(t.b0),n.rXU(ot.nX))},v.\u0275cmp=n.VBU({type:v,selectors:[["app-view-educational-program"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",sessionId:"sessionId"},features:[n.Vt3],decls:3,vars:2,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"intro-y","relative",2,"min-height","calc(100vh - 550px)"],[3,"reloadSessionDataEmitter","changeSessionDataEmitter","teacherRole","classroomId","backLink","errorApiMessage","generalDocumentObjs","programSessionObjs","groupProgramSessionObjs","programObj"]],template:function(b,S){if(1&b&&n.DNE(0,lo,1,1,"azt-loading-effect",1)(1,co,2,8,"ng-template",null,0,n.C5r),2&b){const D=n.sdS(2);n.Y8G("ngIf",S.statusObj.loading)("ngIfElse",D)}},dependencies:[x.bT,o.K,Mi],encapsulation:2}),G})(),_o=(()=>{var v;class G extends i.H{ngOnInit(){this.waitDestroy((0,w.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let b=this.commonService.getMyQueryParam("backto");this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))??0,this.backLink=b||(this.backLink??"/business/dashboard"),this.sessionId=Number(this.commonService.getMyQueryParam("sessionId"))})),super.ngOnInit()}constructor(b){super(),this.activeRoute=b,this.classroomId=0,this.sessionId=0,this.backLink=""}}return(v=G).\u0275fac=function(b){return new(b||v)(n.rXU(ot.nX))},v.\u0275cmp=n.VBU({type:v,selectors:[["app-educational-program"]],inputs:{isStudent:"isStudent"},features:[n.Vt3],decls:1,vars:4,consts:[[3,"teacherRole","classroomId","sessionId","backLink"]],template:function(b,S){1&b&&n.nrm(0,"app-view-educational-program",0),2&b&&n.Y8G("teacherRole",!S.isStudent)("classroomId",S.classroomId)("sessionId",S.sessionId)("backLink",S.backLink)},dependencies:[mo],encapsulation:2}),G})()},69307:(Me,Kt,p)=>{p.d(Kt,{_:()=>bt});var w=p(10936),i=p(89163),n=p(33887),ot=p(15766),e=p(48891),t=p(90998),T=p(54460),x=p(81587),o=p(52811),yt=p(76975);function zt(st,Ct){1&st&&(e.j41(0,"div",17),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&st&&(e.R7$(),e.SpI(" *",e.bMT(2,1,"lang_auto_vui_long_nhap_ten_dau_diem")," "))}function St(st,Ct){if(1&st&&(e.j41(0,"div",15)(1,"label",8),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"input",16),e.nI1(5,"mytranslate"),e.DNE(6,zt,3,3,"div",10),e.k0s()),2&st){const q=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,3,"lang_student_name_component_score")," "),e.R7$(2),e.FS9("placeholder",e.bMT(5,5,"lang_student_enter_name_component_score")),e.R7$(2),e.Y8G("ngIf",q.form.controls.name.dirty&&q.form.controls.name.errors)}}function ct(st,Ct){if(1&st&&(e.j41(0,"div",15)(1,"label",8),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"input",18),e.nI1(5,"mytranslate"),e.k0s()),2&st){const q=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,3,"homework"==q.data.documentType?"lang_auto_bai_tap":"lang_auto_de_thi"),": "),e.R7$(2),e.FS9("placeholder",e.bMT(5,5,"lang_student_enter_name_component_score")),e.Y8G("value",q.data.documentName)}}function Nt(st,Ct){1&st&&(e.j41(0,"div",17),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&st&&(e.R7$(),e.SpI(" *",e.bMT(2,1,"lang_auto_he_so_diem_phai_la_so")," "))}function J(st,Ct){1&st&&e.nrm(0,"azt-loading-ui",19)}let bt=(()=>{var st;class Ct extends n._{setValueCoeffcient(){var P=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(P)??0)}createStartingPoint(){let P={name:this.form.getRawValue().name,coefficient:this.form.getRawValue().coefficient,programId:this.data.programId,classroomId:this.data.classroomId,sessionId:this.data.sessionId};this.waitDestroy(this.data.id?this.commonMarkService.apiCommonMarksIdPut(this.data.id,P).subscribe(Z=>{Z?(this.showSuccessSnack("lang_core_sua_dau_diem_thanh_cong"),this.dialogRef.close(P)):this.errorStatusObj("lang_core_sua_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}):this.commonMarkService.apiCommonMarksPost(P).subscribe(Z=>{Z?(this.showSuccessSnack("lang_core_them_dau_diem_thanh_cong"),this.dialogRef.close(P)):this.errorStatusObj("lang_core_them_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}))}ngOnInit(){}constructor(P,Z,z){super(z,Z),this.commonMarkService=P,this.dialogRef=Z,this.data=z,this.form=new w.gE({name:new w.MJ({value:z.name??"",disabled:0==z.canEditName},{nonNullable:!0,validators:[w.k0.required,ot.M.noWhiteSpace]}),coefficient:new w.MJ(z.coefficient,{nonNullable:!0,validators:[w.k0.required,w.k0.pattern(/^[1-9]\d*$/)]})})}}return(st=Ct).\u0275fac=function(P){return new(P||st)(e.rXU(t.a),e.rXU(i.CP,8),e.rXU(i.Vh))},st.\u0275cmp=e.VBU({type:st,selectors:[["app-create-score-dialog"]],features:[e.Vt3],decls:25,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"input","placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"value","placeholder"],[1,"mr-1"]],template:function(P,Z){1&P&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()(),e.j41(7,"div",5),e.DNE(8,St,7,7,"div",6)(9,ct,6,7,"div",6),e.j41(10,"div",7)(11,"label",8),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"input",9),e.nI1(15,"mytranslate"),e.bIt("input",function(){return Z.setValueCoeffcient()}),e.k0s(),e.DNE(16,Nt,3,3,"div",10),e.k0s()()(),e.j41(17,"div",11)(18,"button",12),e.bIt("click",function(){return Z.dialogRef.close()}),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s(),e.j41(21,"button",13),e.bIt("click",function(){return Z.createStartingPoint()}),e.DNE(22,J,1,0,"azt-loading-ui",14),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()()()()),2&P&&(e.R7$(),e.Y8G("formGroup",Z.form),e.R7$(4),e.SpI(" ",e.bMT(6,11,Z.data.id?Z.data.isOnlyCoefficient?"lang_student_edit_mark_coefficient":"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),e.R7$(3),e.Y8G("ngIf",!Z.data.isOnlyCoefficient),e.R7$(),e.Y8G("ngIf",Z.data.isOnlyCoefficient),e.R7$(3),e.SpI(" ",e.bMT(13,13,"lang_student_score_factor")," "),e.R7$(2),e.FS9("placeholder",e.bMT(15,15,"lang_student_enter_score_factor")),e.R7$(2),e.Y8G("ngIf",Z.form.controls.coefficient.dirty&&Z.form.controls.coefficient.errors),e.R7$(3),e.JRh(e.bMT(20,17,"lang_button_cancel")),e.R7$(2),e.Y8G("disabled",Z.form.controls.name.errors&&!Z.data.isOnlyCoefficient||Z.form.controls.coefficient.errors),e.R7$(),e.Y8G("ngIf",Z.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(24,19,"lang_button_save")," "))},dependencies:[T.bT,w.qT,w.me,w.Q0,w.BC,w.cb,w.j4,w.JD,x.t,o.R,yt.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box[_ngcontent-%COMP%]{margin-top:1px}.hidden-scroll[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hidden-scroll[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),Ct})()},71703:(Me,Kt,p)=>{p.d(Kt,{V:()=>nn});var w=p(81519),i=p(34514),n=p(47426),ot=p(89163),e=p(99503),t=p(79347),T=p(33887),x=p(9691),o=p(48891),yt=p(62095),zt=p(59640),St=p(18148),ct=p(69307),Nt=p(46899),J=p(10296),bt=p(67638),st=p(40609),Ct=p(54460),q=p(47712),P=p(66729),Z=p(2915),z=p(52811),gt=p(5800),Ot=p(74637),$t=p(10123),Rt=p(15343),fe=p(76975);const be=["table_score_student"],It=()=>[],Qt=()=>({"mr-2":!0}),Pt=()=>({"text-success":!0});function Ft(it,Ut){if(1&it){const at=o.RV6();o.j41(0,"div",11)(1,"button",12),o.bIt("click",function(){o.eBV(at);const lt=o.XpG();return o.Njj(lt.downloadTableScore())}),o.nrm(2,"lucide-icon",13),o.j41(3,"span"),o.EFF(4),o.nI1(5,"mytranslate"),o.k0s()()()}2&it&&(o.R7$(2),o.Y8G("ngClass",o.lJ4(4,Qt)),o.R7$(2),o.JRh(o.bMT(5,2,"lang_student_export_a_grade_sheet")))}function Wt(it,Ut){if(1&it){const at=o.RV6();o.j41(0,"div",14)(1,"button",15),o.nI1(2,"mytranslate"),o.bIt("click",function(){o.eBV(at);const lt=o.XpG();return o.Njj(lt.downloadTableScore())}),o.nrm(3,"lucide-icon",16),o.k0s(),o.j41(4,"button",17),o.nI1(5,"mytranslate"),o.bIt("click",function(){o.eBV(at);const lt=o.XpG();return o.Njj(lt.closeDialog.emit(lt.isEdit))}),o.nrm(6,"lucide-icon",18),o.k0s()()}2&it&&(o.R7$(),o.FS9("matTooltip",o.bMT(2,2,"lang_student_export_a_grade_sheet")),o.R7$(3),o.FS9("matTooltip",o.bMT(5,4,"lang_auto_thoat")))}function le(it,Ut){1&it&&o.nrm(0,"azt-loading-ui",25)}function Mt(it,Ut){if(1&it&&(o.j41(0,"div",36),o.EFF(1),o.nI1(2,"mytranslate"),o.nI1(3,"formatOnlyDateByUserUnitPipe"),o.k0s()),2&it){const at=o.XpG().$implicit;o.R7$(),o.Lme(" ",o.bMT(2,2,"lang_student_profile_utils_homework_answer_created_at"),": ",o.bMT(3,4,at.createdAt)," ")}}function Xt(it,Ut){if(1&it&&(o.j41(0,"div",36)(1,"span"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.j41(4,"span",37),o.EFF(5),o.k0s()()),2&it){const at=o.XpG().$implicit;o.R7$(2),o.JRh(o.bMT(3,2,"lang_auto_he_so")),o.R7$(3),o.JRh(at.coefficient)}}function Bt(it,Ut){if(1&it){const at=o.RV6();o.j41(0,"button",38),o.nI1(1,"mytranslate"),o.bIt("click",function(){o.eBV(at);const lt=o.XpG().$implicit,Zt=o.XpG(2);return o.Njj(Zt.editScore(lt))}),o.nrm(2,"lucide-icon",39),o.k0s()}2&it&&o.FS9("matTooltip",o.bMT(1,1,"lang_student_sua_dau_diem"))}function Dt(it,Ut){if(1&it&&(o.j41(0,"div",40),o.nrm(1,"azt-check-mark",41),o.k0s()),2&it){const at=o.XpG().$implicit;o.R7$(),o.Y8G("mark",at.marks.length>0?at.marks[0]:"")}}function Gt(it,Ut){if(1&it&&(o.j41(0,"div",40),o.nrm(1,"azt-check-mark",41),o.k0s()),2&it){const at=o.XpG().$implicit,et=o.XpG(2);o.R7$(),o.Y8G("mark",et.returnValue(at))}}function qt(it,Ut){if(1&it){const at=o.RV6();o.j41(0,"input",42),o.nI1(1,"mytranslate"),o.nI1(2,"mytranslate"),o.bIt("input",function(lt){o.eBV(at);const Zt=o.XpG().$implicit,pe=o.XpG(2);return o.Njj(pe.handleMarkStudent(lt,Zt.id))}),o.k0s()}if(2&it){const at=o.XpG().$implicit,et=o.XpG(2);o.FS9("matTooltip",o.bMT(1,6,"lang_core_diem_duoc_tach_boi_dau_cach")),o.Mz_("id","input_point_",at.id.toString(),""),o.FS9("placeholder",o.bMT(2,8,"lang_auto_nhap_diem")),o.Y8G("disabled",et.isStudent)("value",et.returnValue(at))}}function Se(it,Ut){1&it&&(o.nrm(0,"lucide-icon",46),o.nI1(1,"mytranslate"),o.nI1(2,"mytranslate")),2&it&&o.FCK("matTooltip","",o.bMT(1,3,"lang_auto_sua")," ",o.bMT(2,5,"lang_auto_diem"),"")}function Tt(it,Ut){1&it&&(o.nrm(0,"lucide-icon",47),o.nI1(1,"mytranslate")),2&it&&o.FS9("matTooltip",o.bMT(1,1,"lang_editor_common_cancel"))}function tt(it,Ut){if(1&it){const at=o.RV6();o.j41(0,"button",43),o.bIt("click",function(){o.eBV(at);const lt=o.XpG().$implicit,Zt=o.XpG(2);return o.Njj(Zt.viewInput(lt.id==Zt.inputPointSelect?-1:lt.id))}),o.DNE(1,Se,3,7,"lucide-icon",44)(2,Tt,2,3,"lucide-icon",45),o.k0s()}if(2&it){const at=o.XpG().$implicit,et=o.XpG(2);o.R7$(),o.Y8G("ngIf",et.inputPointSelect!=at.id),o.R7$(),o.Y8G("ngIf",et.inputPointSelect==at.id)}}function pt(it,Ut){1&it&&o.nrm(0,"azt-loading-ui",51)}function L(it,Ut){1&it&&o.nrm(0,"lucide-icon",52),2&it&&o.Y8G("ngClass",o.lJ4(1,Pt))}function _t(it,Ut){if(1&it){const at=o.RV6();o.j41(0,"button",48),o.nI1(1,"mytranslate"),o.bIt("click",function(){o.eBV(at);const lt=o.XpG().$implicit,Zt=o.XpG(2);return o.Njj(Zt.saveMark(lt))}),o.DNE(2,pt,1,0,"azt-loading-ui",49)(3,L,1,2,"lucide-icon",50),o.k0s()}if(2&it){const at=o.XpG(3);o.FS9("matTooltip",o.bMT(1,4,"lang_button_save")),o.Y8G("disabled",at.isSave),o.R7$(2),o.Y8G("ngIf",at.isSave),o.R7$(),o.Y8G("ngIf",!at.isSave)}}function At(it,Ut){if(1&it){const at=o.RV6();o.j41(0,"button",53),o.nI1(1,"mytranslate"),o.bIt("click",function(){o.eBV(at);const lt=o.XpG().$implicit,Zt=o.XpG(2);return o.Njj(Zt.goToEditPoint(lt))}),o.nrm(2,"lucide-icon",54),o.k0s()}2&it&&o.FS9("matTooltip",o.bMT(1,1,"lang_core_go_to_enter_score"))}function ae(it,Ut){if(1&it&&(o.j41(0,"tr")(1,"td")(2,"div",14)(3,"div"),o.EFF(4),o.DNE(5,Mt,4,6,"div",26)(6,Xt,6,4,"div",26),o.k0s(),o.DNE(7,Bt,3,3,"button",27),o.k0s()(),o.j41(8,"td",28)(9,"div",29),o.DNE(10,Dt,2,1,"div",30)(11,Gt,2,1,"div",30)(12,qt,3,10,"input",31)(13,tt,3,2,"button",32)(14,_t,4,6,"button",33),o.k0s()(),o.j41(15,"td",34),o.DNE(16,At,3,3,"button",35),o.k0s()()),2&it){const at=Ut.$implicit,et=o.XpG(2);o.R7$(4),o.SpI(" ",at.name," "),o.R7$(),o.Y8G("ngIf",at.createdAt&&!et.isStudent),o.R7$(),o.Y8G("ngIf",at.coefficient),o.R7$(),o.Y8G("ngIf",!et.isStudent),o.R7$(3),o.Y8G("ngIf","homework"==at.objectType),o.R7$(),o.Y8G("ngIf","homework"!=at.objectType&&et.inputPointSelect!=at.id),o.R7$(),o.Y8G("ngIf","homework"!=at.objectType&&et.inputPointSelect==at.id),o.R7$(),o.Y8G("ngIf",!et.isStudent&&at.canEditMark&&!et.listMarkNew),o.R7$(),o.Y8G("ngIf",!et.isStudent&&at.canEditMark&&et.listMarkNew&&et.listMarkNew.id==at.id),o.R7$(2),o.Y8G("ngIf",!et.isStudent&&at.programId&&at.sessionId)}}function Ne(it,Ut){1&it&&o.nrm(0,"azt-loading-ui",25)}function He(it,Ut){if(1&it){const at=o.RV6();o.j41(0,"azt-mat-dialog-content")(1,"div",19),o.DNE(2,le,1,0,"azt-loading-ui",20),o.j41(3,"azt-filter-box",21),o.bIt("sendFilter",function(lt){o.eBV(at);const Zt=o.XpG();return o.Njj(Zt.filterData(lt))}),o.k0s()(),o.j41(4,"table",22)(5,"tbody"),o.DNE(6,ae,17,10,"tr",10),o.j41(7,"tr")(8,"td"),o.EFF(9),o.nI1(10,"mytranslate"),o.k0s(),o.j41(11,"td",23)(12,"div",24),o.DNE(13,Ne,1,0,"azt-loading-ui",20),o.EFF(14),o.k0s()()()()()()}if(2&it){let at;const et=o.XpG();o.R7$(2),o.Y8G("ngIf",et.statusObj.loading),o.R7$(4),o.Y8G("ngForOf",null!==(at=et.data.marks)&&void 0!==at?at:o.lJ4(8,It)),o.R7$(3),o.SpI(" ",o.bMT(10,6,"lang_business_diem_tong_ket")," "),o.R7$(2),o.Y8G("colSpan",2),o.R7$(2),o.Y8G("ngIf",et.isSave),o.R7$(),o.SpI(" ",et.data.averageMark," ")}}function an(it,Ut){if(1&it&&(o.j41(0,"div",36)(1,"span"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.j41(4,"span",37),o.EFF(5),o.k0s()()),2&it){const at=o.XpG().$implicit;o.R7$(2),o.JRh(o.bMT(3,2,"lang_auto_he_so")),o.R7$(3),o.JRh(at.coefficient)}}function Ke(it,Ut){if(1&it&&(o.j41(0,"div",40),o.nrm(1,"azt-check-mark",41),o.k0s()),2&it){const at=o.XpG().$implicit;o.R7$(),o.Y8G("mark",at.marks.length>0?at.marks[0]:"")}}function qe(it,Ut){if(1&it&&(o.j41(0,"div",40),o.nrm(1,"azt-check-mark",41),o.k0s()),2&it){const at=o.XpG().$implicit,et=o.XpG(2);o.R7$(),o.Y8G("mark",et.returnValue(at))}}function _n(it,Ut){if(1&it&&(o.j41(0,"tr")(1,"td")(2,"div",14)(3,"div"),o.EFF(4),o.DNE(5,an,6,4,"div",26),o.k0s()()(),o.j41(6,"td",59),o.DNE(7,Ke,2,1,"div",30)(8,qe,2,1,"div",30),o.k0s()()),2&it){const at=Ut.$implicit;o.R7$(4),o.SpI(" ",at.name," "),o.R7$(),o.Y8G("ngIf",at.coefficient),o.R7$(2),o.Y8G("ngIf","homework"==at.objectType),o.R7$(),o.Y8G("ngIf","homework"!=at.objectType)}}function dn(it,Ut){if(1&it&&(o.j41(0,"table",55)(1,"thead")(2,"tr")(3,"th",56),o.EFF(4),o.nI1(5,"mytranslate"),o.k0s(),o.j41(6,"th",57),o.EFF(7),o.nI1(8,"mytranslate"),o.k0s()()(),o.j41(9,"tbody"),o.DNE(10,_n,9,4,"tr",10),o.j41(11,"tr")(12,"td"),o.EFF(13),o.nI1(14,"mytranslate"),o.k0s(),o.j41(15,"td")(16,"div",58),o.EFF(17),o.k0s()()()()()),2&it){let at;const et=o.XpG();o.R7$(4),o.JRh(o.bMT(5,5,"lang_student_name_component_score")),o.R7$(3),o.JRh(o.bMT(8,7,"lang_testbank_update_exam_point")),o.R7$(3),o.Y8G("ngForOf",null!==(at=et.data.marks)&&void 0!==at?at:o.lJ4(11,It)),o.R7$(3),o.SpI(" ",o.bMT(14,9,"lang_business_diem_tong_ket")," "),o.R7$(4),o.SpI(" ",et.data.averageMark," ")}}function un(it,Ut){if(1&it&&o.nrm(0,"azt-check-mark",41),2&it){const at=o.XpG().$implicit;o.Y8G("mark",at.marks.length>0?at.marks[0]:"")}}function rn(it,Ut){if(1&it&&o.nrm(0,"azt-check-mark",41),2&it){const at=o.XpG().$implicit,et=o.XpG();o.Y8G("mark",et.returnValue(at))}}function tn(it,Ut){if(1&it&&(o.j41(0,"tr")(1,"td",9),o.EFF(2),o.k0s(),o.j41(3,"td",9),o.EFF(4),o.k0s(),o.j41(5,"td",9),o.EFF(6),o.k0s(),o.j41(7,"td",9),o.DNE(8,un,1,1,"azt-check-mark",60)(9,rn,1,1,"azt-check-mark",60),o.k0s()()),2&it){const at=Ut.$implicit,et=Ut.index,lt=o.XpG();o.R7$(),o.BMQ("excelRow",et+1)("excelColumn",0)("excelStyle",lt.styleTdNormal),o.R7$(),o.SpI(" ",at.name?et+1:""," "),o.R7$(),o.BMQ("excelRow",et+1)("excelColumn",1)("excelStyle",lt.styleTdNormalLeft),o.R7$(),o.SpI(" ",at.name," "),o.R7$(),o.BMQ("excelRow",et+1)("excelColumn",2)("excelStyle",lt.styleTdNotNumberNormal),o.R7$(),o.SpI(" ",at.coefficient," "),o.R7$(),o.BMQ("excelRow",et+1)("excelColumn",3)("excelStyle",lt.styleTdNotNumberNormal),o.R7$(),o.Y8G("ngIf","homework"==at.objectType),o.R7$(),o.Y8G("ngIf","homework"!=at.objectType)}}let en=(()=>{var it;class Ut extends zt.H{filterData(et){this.dataFilter=et,this.initStatusObj(),this.getStudent()}getStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.classroomId,getBook:!1,getMark:!0,getAttendance:!1,getPayment:!1,me:this.isStudent??!1,getAssessment:!1}).subscribe({next:lt=>{lt.list.length&&(this.data=lt.list[0]),this.stopStatusObj()},error:lt=>{this.errorStatusObj(lt.error.message,!0)}}))}downloadTableScore(){St.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var et=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_score_student,!0);let lt=this.commonService.createFileNameExportFile(["bang_diem_hoc_sinh"+this.data.fullName])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(et,lt),St.L.closeLoadingEffect(200)}goToEditPoint(et){this.closeDialog.emit(),this.myNavigationWithQueryString("/admin/student/submit-score/"+et.classroomId+"/"+et.programId+"/"+et.sessionId,"?studentId="+this.data.id)}viewInput(et){this.inputPointSelect=et}handleMarkStudent(et,lt){if(!this.isStudent){var Zt=this.commonService.handlePointByValueInput(et);this.listMarkNew={id:lt,points:Zt.length>0?Zt:[-1]}}}saveMark(et){this.isSave=!0,this.listMarkNew&&this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:et.programId,classroomId:et.classroomId,sessionId:et.sessionId,students:[{id:this.data.id,listMarks:[this.listMarkNew]}]}).subscribe(Zt=>{Zt?(this.data.marks?.filter(pe=>pe.id==et.id)?.forEach(pe=>pe.marks=this.listMarkNew?.points?.find(te=>-1==te)?[]:this.listMarkNew?.points??pe.marks),this.getStudent(),this.listMarkNew=void 0,this.inputPointSelect=-1,this.isEdit=!0,this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)):this.errorStatusObj("lang_auto_cap_nhat_diem_khong_thanh_cong",!0),this.isSave=!1}))}editScore(et){et&&this.sAztDialogService.open(ct._,{data:{...et,canEditName:et.canEditMark},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(lt=>{if(lt){try{var Zt=this.data.marks?.find(pe=>pe.id==et.id);Zt&&(Zt.coefficient=lt.coefficient,Zt.name=lt.name)}catch{}this.isEdit=!0}})}returnValue(et){return(et.marks??[]).join(" ")}ngOnInit(){super.ngOnInit()}constructor(et,lt,Zt,pe,te){super(),this.sAztDialogService=et,this.sAztTimeService=lt,this.shareFileFlutterService=Zt,this.exportExcelService=pe,this.studentService=te,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.closeDialog=new o.bkB,this.inputPointSelect=-1,this.isSave=!1,this.isEdit=!1,this.commonService=(0,o.WQX)(yt.R)}ngOnDestroy(){super.ngOnDestroy()}}return(it=Ut).\u0275fac=function(et){return new(et||it)(o.rXU(Nt.i),o.rXU(x.F),o.rXU(J.R),o.rXU(bt.x),o.rXU(st.b))},it.\u0275cmp=o.VBU({type:it,selectors:[["azt-view-table-score-single"]],viewQuery:function(et,lt){if(1&et&&o.GBs(be,5),2&et){let Zt;o.mGM(Zt=o.lsd())&&(lt.table_score_student=Zt.first)}},inputs:{data:"data",isStudent:"isStudent",viewDialog:"viewDialog"},outputs:{closeDialog:"closeDialog"},features:[o.Jv_([{provide:w.$O,useClass:e.fb,deps:[n.Ju,i.ij]},{provide:w.vq,useFactory:t.fJ,deps:[x.F]}]),o.Vt3],decls:34,vars:61,consts:[["table_score_student",""],["class","flex justify-end mb-5",4,"ngIf"],[1,"box"],[1,"pt-5","px-5","flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],["class","flex items-center",4,"ngIf"],[4,"ngIf"],["class","table table-report","style","white-space: initial; display: table",4,"ngIf"],[1,"table","table-bordered",2,"display","none",3,"border"],[1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","mb-5"],["azt-track-service","view-table-score-single-vS0yZHQHw",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","18",3,"ngClass"],[1,"flex","items-center"],["matRipple","",1,"btn","btn-sm","btn-outline-primary","border-0","mr-2","p-1",3,"click","matTooltip"],["name","download","size","20"],["matRipple","",1,"btn","btn-sm","btn-outline-secondary","border-0","p-1",3,"click","matTooltip"],["name","x","size","20"],[1,"pt-3","px-5","flex","justify-end","items-center"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[3,"sendFilter"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[3,"colSpan"],[1,"flex","justify-center","font-bold","items-center"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp","style","color: gray","class","w-5 h-5 inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"text-center",2,"padding","0"],[1,"flex","items-center",2,"position","relative"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltip","id","disabled","value","placeholder","input",4,"ngIf"],["azt-track-service","view-table-score-single-lX3L0QoGBo","class","inline-block btn-edit-point zoom-in",3,"click",4,"ngIf"],["azt-track-service","view-table-score-single-uJE-8eAu46","class","inline-block btn-edit-point zoom-in",3,"matTooltip","disabled","click",4,"ngIf"],[1,"text-center",2,"padding","0 10px 0 10px"],["class","btn btn-secondary-soft","matRipple","",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[1,"inline-block","ml-1"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp",1,"w-5","h-5","inline-block","ml-1",2,"color","gray",3,"click","matTooltip"],["name","pencil","size","16"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"input","matTooltip","id","disabled","value","placeholder"],["azt-track-service","view-table-score-single-lX3L0QoGBo",1,"inline-block","btn-edit-point","zoom-in",3,"click"],["name","pencil","size","16",3,"matTooltip",4,"ngIf"],["name","x","size","16",3,"matTooltip",4,"ngIf"],["name","pencil","size","16",3,"matTooltip"],["name","x","size","16",3,"matTooltip"],["azt-track-service","view-table-score-single-uJE-8eAu46",1,"inline-block","btn-edit-point","zoom-in",3,"click","matTooltip","disabled"],["class","loading-upload","type","bootstrap-spinner",4,"ngIf"],["name","check","size","20",3,"ngClass",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload"],["name","check","size","20",3,"ngClass"],["matRipple","",1,"btn","btn-secondary-soft",3,"click","matTooltip"],["name","external-link","size","16"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"flex","justify-center","font-bold"],[1,"text-center"],[3,"mark",4,"ngIf"]],template:function(et,lt){if(1&et&&(o.DNE(0,Ft,6,5,"div",1),o.j41(1,"div",2)(2,"div",3),o.nrm(3,"azt-student-info-box",4),o.DNE(4,Wt,7,6,"div",5),o.k0s(),o.DNE(5,He,15,9,"azt-mat-dialog-content",6)(6,dn,18,12,"table",7),o.k0s(),o.j41(7,"table",8,0)(9,"thead")(10,"tr")(11,"th",9),o.EFF(12),o.nI1(13,"mytranslate"),o.k0s(),o.j41(14,"th",9),o.EFF(15),o.nI1(16,"mytranslate"),o.k0s(),o.j41(17,"th",9),o.EFF(18),o.nI1(19,"mytranslate"),o.k0s(),o.j41(20,"th",9),o.EFF(21),o.nI1(22,"mytranslate"),o.k0s()()(),o.j41(23,"tbody"),o.DNE(24,tn,10,17,"tr",10),o.j41(25,"tr")(26,"td",9),o.EFF(27),o.k0s(),o.j41(28,"td",9),o.EFF(29),o.nI1(30,"mytranslate"),o.k0s(),o.nrm(31,"td"),o.j41(32,"td",9),o.EFF(33),o.k0s()()()()),2&et){let Zt,pe,te,Oe,de,ve;o.Y8G("ngIf",lt.isStudent&&!lt.viewDialog),o.R7$(3),o.Y8G("name",lt.data.fullName)("parentFullName",lt.data.parentFullName)("parentId",lt.data.parentId)("parentPhone",lt.data.parentPhone)("phone",lt.data.phone)("email",lt.data.email)("avatar",lt.data.avatar)("gender",lt.data.gender)("hasUser",lt.data.hasUser),o.R7$(),o.Y8G("ngIf",lt.viewDialog),o.R7$(),o.Y8G("ngIf",lt.viewDialog),o.R7$(),o.Y8G("ngIf",lt.isStudent&&!lt.viewDialog),o.R7$(),o.Y8G("border",1),o.R7$(4),o.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",lt.styleThNormal),o.R7$(),o.SpI(" ",o.bMT(13,50,"lang_student_export_excel_no")," "),o.R7$(2),o.BMQ("excelWidth",10)("excelRow",0)("excelColumn",1)("excelStyle",lt.styleThNormal),o.R7$(),o.SpI(" ",o.bMT(16,52,"lang_student_name_component_score")," "),o.R7$(2),o.BMQ("excelWidth",10)("excelRow",0)("excelColumn",2)("excelStyle",lt.styleThNormal),o.R7$(),o.SpI(" ",o.bMT(19,54,"lang_auto_he_so")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",lt.styleThNormal),o.R7$(),o.SpI(" ",o.bMT(22,56,"lang_testbank_update_exam_point")," "),o.R7$(3),o.Y8G("ngForOf",null!==(Zt=lt.data.marks)&&void 0!==Zt?Zt:o.lJ4(60,It)),o.R7$(2),o.BMQ("excelRow",(null!==(pe=null==lt.data.marks?null:lt.data.marks.length)&&void 0!==pe?pe:0)+1)("excelColumn",0)("excelStyle",lt.styleTdNormal),o.R7$(),o.SpI(" ",(null!==(te=null==lt.data.marks?null:lt.data.marks.length)&&void 0!==te?te:0)+1," "),o.R7$(),o.BMQ("excelRow",(null!==(Oe=null==lt.data.marks?null:lt.data.marks.length)&&void 0!==Oe?Oe:0)+1)("excelColumn",1)("excelStyle",lt.styleTdNormal),o.R7$(),o.SpI(" ",o.bMT(30,58,"lang_business_diem_tong_ket")," "),o.R7$(2),o.BMQ("excelRow",(null!==(de=null==lt.data.marks?null:lt.data.marks.length)&&void 0!==de?de:0)+1)("excelColumn",3)("excelStyle",lt.styleTdNormal),o.R7$(),o.BMQ("excelRow",(null!==(ve=null==lt.data.marks?null:lt.data.marks.length)&&void 0!==ve?ve:0)+1)("excelColumn",4)("excelStyle",lt.styleTdNotNumberNormal),o.R7$(),o.SpI(" ",lt.data.averageMark," ")}},dependencies:[Ct.YU,Ct.Sq,Ct.bT,n.r6,q.oV,P.D,Z.U,z.R,gt.B,Ot.E,$t.Ew,Rt.WGl,fe.wp,fe.vv],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),Ut})(),nn=(()=>{var it;class Ut extends T._{closeDialog(et){this.dialogRef.close(et)}ngOnInit(){super.ngOnInit()}constructor(et,lt){super(lt,et),this.dialogRef=et,this.data=lt}ngOnDestroy(){super.ngOnDestroy()}}return(it=Ut).\u0275fac=function(et){return new(et||it)(o.rXU(ot.CP,8),o.rXU(ot.Vh,8))},it.\u0275cmp=o.VBU({type:it,selectors:[["azt-table-score-single"]],features:[o.Jv_([{provide:w.$O,useClass:e.fb,deps:[n.Ju,i.ij]},{provide:w.vq,useFactory:t.fJ,deps:[x.F]}]),o.Vt3],decls:1,vars:3,consts:[[3,"closeDialog","data","isStudent","viewDialog"]],template:function(et,lt){1&et&&(o.j41(0,"azt-view-table-score-single",0),o.bIt("closeDialog",function(pe){return lt.closeDialog(pe)}),o.k0s()),2&et&&o.Y8G("data",lt.data.student)("isStudent",!lt.data.isTeacher)("viewDialog",!0)},dependencies:[en],encapsulation:2}),Ut})()},19857:(Me,Kt,p)=>{p.d(Kt,{g:()=>$e});var w=p(76627),i=p(59640),n=p(18148),ot=p(37497),e=p(75421),t=p(27208),T=p(69307),x=p(71703),o=p(48891),yt=p(90998),zt=p(40609),St=p(9691),ct=p(46899),Nt=p(64624),J=p(67638),bt=p(65162),st=p(10296),Ct=p(54460),q=p(47712),P=p(18718),Z=p(22613),z=p(66729),gt=p(52811),Ot=p(11002),$t=p(32099),Rt=p(5800),fe=p(10123),be=p(15343),It=p(76975);const Qt=["table_score"],Pt=()=>({"mr-2":!0}),Ft=()=>[],Wt=()=>({"text-danger":!0});function le(B,Et){1&B&&(o.j41(0,"div",10),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&B&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Mt(B,Et){if(1&B&&(o.j41(0,"div",7)(1,"h3",8),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.DNE(4,le,3,3,"div",9),o.k0s()),2&B){let A;const U=o.XpG();o.R7$(2),o.JRh(o.bMT(3,2,"lang_student_enter_score")),o.R7$(2),o.Y8G("ngIf",U.isMobileDevice&&!U.isStudent&&(null!==(A=null==U.dataStudent||null==U.dataStudent.list?null:U.dataStudent.list.length)&&void 0!==A?A:0)>0)}}function Xt(B,Et){1&B&&(o.j41(0,"div",10),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&B&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Bt(B,Et){if(1&B&&(o.j41(0,"div",7)(1,"h3",8),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.DNE(4,Xt,3,3,"div",9),o.k0s()),2&B){let A;const U=o.XpG();o.R7$(2),o.JRh(o.bMT(3,2,"lang_auto_bang_diem")),o.R7$(2),o.Y8G("ngIf",U.isMobileDevice&&!U.isStudent&&(null!==(A=null==U.dataStudent||null==U.dataStudent.list?null:U.dataStudent.list.length)&&void 0!==A?A:0)>0)}}function Dt(B,Et){if(1&B){const A=o.RV6();o.j41(0,"button",19),o.bIt("click",function(){o.eBV(A);const V=o.XpG(2);return o.Njj(V.createNewScore())}),o.nrm(1,"lucide-icon",20),o.j41(2,"span"),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s()()}2&B&&(o.R7$(),o.Y8G("ngClass",o.lJ4(4,Pt)),o.R7$(2),o.JRh(o.bMT(4,2,"lang_student_enter_new_component_score")))}function Gt(B,Et){if(1&B){const A=o.RV6();o.j41(0,"button",21),o.bIt("click",function(){o.eBV(A);const V=o.XpG(2);return o.Njj(V.downloadTableScore())}),o.nrm(1,"lucide-icon",22),o.j41(2,"span"),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s()()}2&B&&(o.R7$(),o.Y8G("ngClass",o.lJ4(4,Pt)),o.R7$(2),o.JRh(o.bMT(4,2,"lang_student_export_a_grade_sheet")))}function qt(B,Et){1&B&&o.nrm(0,"azt-loading-ui",26)}function Se(B,Et){if(1&B){const A=o.RV6();o.j41(0,"flexed-on-the-top",23)(1,"button",24),o.bIt("click",function(){o.eBV(A);const V=o.XpG(2);return o.Njj(V.saveMark())}),o.DNE(2,qt,1,0,"azt-loading-ui",25),o.EFF(3),o.nI1(4,"mytranslate"),o.k0s()()}if(2&B){const A=o.XpG(2);o.Y8G("colorBackground","#f0f8ffe8"),o.R7$(),o.Y8G("disabled",0==A.listStudentMark.length||A.isSave),o.R7$(),o.Y8G("ngIf",A.isSave),o.R7$(),o.SpI(" ",o.bMT(4,4,"lang_auto_luu")," ")}}function Tt(B,Et){if(1&B){const A=o.RV6();o.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"azt-search-box",14),o.nI1(4,"mytranslate"),o.bIt("onSearch",function(V){o.eBV(A);const K=o.XpG();return o.Njj(K.onSearchBox(V.searchObj))}),o.k0s()(),o.j41(5,"div",15),o.DNE(6,Dt,5,5,"button",16)(7,Gt,5,5,"button",17)(8,Se,5,6,"flexed-on-the-top",18),o.k0s()()()}if(2&B){const A=o.XpG();o.R7$(3),o.Y8G("isServerSearch",!0)("placeholder",o.bMT(4,5,"lang_core_tim_theo_ten_phone_email")),o.R7$(3),o.Y8G("ngIf","ENTER_SCORE"==A.screenType),o.R7$(),o.Y8G("ngIf","TABLE_SCORE"==A.screenType),o.R7$(),o.Y8G("ngIf","ENTER_SCORE"==A.screenType)}}function tt(B,Et){if(1&B&&o.nrm(0,"azt-loading-effect",27),2&B){const A=o.XpG();o.Y8G("currentStatusObj",A.statusObj)}}function pt(B,Et){1&B&&(o.j41(0,"div",33),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&B&&(o.R7$(),o.JRh(o.bMT(2,1,"lang_student_classroom_list_detail_not_student")))}function L(B,Et){if(1&B&&(o.j41(0,"div",50)(1,"span"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.j41(4,"span",51),o.EFF(5),o.k0s()()),2&B){const A=o.XpG().$implicit;o.R7$(2),o.JRh(o.bMT(3,2,"lang_auto_he_so")),o.R7$(3),o.JRh(A.coefficient)}}function _t(B,Et){if(1&B){const A=o.RV6();o.j41(0,"button",52),o.nI1(1,"mytranslate"),o.bIt("click",function(){o.eBV(A);const V=o.XpG().$implicit,K=o.XpG(3);return o.Njj(K.createNewScore(V))}),o.nrm(2,"lucide-icon",53),o.k0s()}2&B&&o.FS9("matTooltip",o.bMT(1,1,"lang_student_sua_dau_diem"))}function At(B,Et){if(1&B){const A=o.RV6();o.j41(0,"button",54),o.nI1(1,"mytranslate"),o.bIt("click",function(){o.eBV(A);const V=o.XpG().$implicit,K=o.XpG(3);return o.Njj(K.deleteMark(V))}),o.nrm(2,"lucide-icon",55),o.k0s()}2&B&&(o.FS9("matTooltip",o.bMT(1,2,"lang_button_delete")),o.R7$(2),o.Y8G("ngClass",o.lJ4(4,Wt)))}function ae(B,Et){if(1&B&&(o.j41(0,"th",42)(1,"div",43)(2,"div",44)(3,"div",45),o.EFF(4),o.k0s(),o.j41(5,"div",46),o.DNE(6,L,6,4,"div",47)(7,_t,3,3,"button",48)(8,At,3,5,"button",49),o.k0s()()()()),2&B){const A=Et.$implicit,U=o.XpG(3);o.R7$(3),o.FS9("matTooltip",A.name),o.R7$(),o.JRh(A.name),o.R7$(2),o.Y8G("ngIf",A.coefficient),o.R7$(),o.Y8G("ngIf",!U.isStudent),o.R7$(),o.Y8G("ngIf",A.canEditName)}}function Ne(B,Et){1&B&&(o.j41(0,"th",56),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&B&&(o.R7$(),o.JRh(o.bMT(2,1,"lang_business_diem_tong_ket")))}function He(B,Et){if(1&B&&(o.j41(0,"div",66),o.nrm(1,"azt-check-mark",67),o.k0s()),2&B){const A=o.XpG().$implicit;o.R7$(),o.Y8G("mark",A.marks.length>0?A.marks[0]:"")}}function an(B,Et){if(1&B&&(o.j41(0,"div",66),o.nrm(1,"azt-check-mark",67),o.k0s()),2&B){const A=o.XpG().$implicit,U=o.XpG(4);o.R7$(),o.Y8G("mark",U.returnValue(A))}}function Ke(B,Et){if(1&B){const A=o.RV6();o.j41(0,"input",68),o.nI1(1,"mytranslate"),o.nI1(2,"mytranslate"),o.bIt("input",function(V){o.eBV(A);const K=o.XpG().index,Yt=o.XpG().index,he=o.XpG(3);return o.Njj(he.handleMarkStudent(V,Yt,K))}),o.k0s()}if(2&B){const A=o.XpG().$implicit,U=o.XpG().$implicit,V=o.XpG(3);o.FS9("matTooltip",o.bMT(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),o.FS9("id",A.id.toString()+"-"+U.id.toString()),o.FS9("placeholder",o.bMT(2,7,"lang_auto_nhap_diem")),o.Y8G("matTooltipDisabled",!A.canEditMark)("value",V.returnValue(A))}}function qe(B,Et){if(1&B&&(o.j41(0,"td",62),o.DNE(1,He,2,1,"div",63)(2,an,2,1,"div",63)(3,Ke,3,9,"input",64),o.nrm(4,"div",65),o.k0s()),2&B){const A=Et.$implicit,U=o.XpG().$implicit,V=o.XpG(3);o.Y8G("hidden","TABLE_SCORE"==V.screenType),o.R7$(),o.Y8G("ngIf","homework"==A.objectType),o.R7$(),o.Y8G("ngIf","homework"!=A.objectType&&(!A.canEditMark||"ENTER_SCORE"!=V.screenType)),o.R7$(),o.Y8G("ngIf","homework"!=A.objectType&&A.canEditMark),o.R7$(),o.Mz_("id","error-",A.id.toString()+"-"+U.id.toString(),""),o.Y8G("hidden",!0)}}function _n(B,Et){if(1&B&&(o.j41(0,"td")(1,"div",69),o.EFF(2),o.k0s()()),2&B){const A=o.XpG().$implicit;o.R7$(2),o.SpI(" ",A.averageMark," ")}}function dn(B,Et){if(1&B){const A=o.RV6();o.j41(0,"tr",57)(1,"td",58),o.bIt("click",function(){const V=o.eBV(A).$implicit,K=o.XpG(3);return o.Njj(K.openDialogTableSingle(V))}),o.nrm(2,"azt-student-info-box",59),o.k0s(),o.j41(3,"td",60),o.EFF(4),o.nI1(5,"formatStudentCodeToNumber"),o.k0s(),o.DNE(6,qe,5,7,"td",61)(7,_n,3,1,"td",31),o.k0s()}if(2&B){let A;const U=Et.$implicit,V=o.XpG(3);o.Y8G("id","row_student_"+U.id),o.R7$(2),o.Y8G("name",U.fullName)("parentFullName",U.parentFullName)("parentId",U.parentId)("parentPhone",U.parentPhone)("phone",U.phone)("avatar",U.avatar)("gender",U.gender)("hasUser",U.hasUser)("schoolName",U.schoolName)("classrooms",U.classrooms)("joinedAt",U.joinedAt)("identificationNumber",U.identificationNumber),o.R7$(2),o.JRh(U.identificationNumber?o.i5U(5,16,U.identificationNumber,6):""),o.R7$(2),o.Y8G("ngForOf",null!==(A=U.marks)&&void 0!==A?A:o.lJ4(19,Ft)),o.R7$(),o.Y8G("ngIf","TABLE_SCORE"==V.screenType)}}function un(B,Et){if(1&B&&(o.j41(0,"div",34)(1,"drag-scroll")(2,"table",35)(3,"thead")(4,"tr",36)(5,"th",37),o.EFF(6),o.nI1(7,"mytranslate"),o.k0s(),o.j41(8,"th",38),o.EFF(9),o.nI1(10,"mytranslate"),o.k0s(),o.DNE(11,ae,9,5,"th",39)(12,Ne,3,3,"th",40),o.k0s()(),o.j41(13,"tbody"),o.DNE(14,dn,8,20,"tr",41),o.k0s()()()()),2&B){let A,U;const V=o.XpG(2);o.R7$(6),o.JRh(o.bMT(7,5,"lang_auto_ho_va_ten")),o.R7$(3),o.JRh(o.bMT(10,7,"lang_auto_so_bao_danh")),o.R7$(2),o.Y8G("ngForOf",null!==(A=null==V.dataMark?null:V.dataMark.list)&&void 0!==A?A:o.lJ4(9,Ft)),o.R7$(),o.Y8G("ngIf","TABLE_SCORE"==V.screenType),o.R7$(2),o.Y8G("ngForOf",null!==(U=null==V.dataStudent?null:V.dataStudent.list)&&void 0!==U?U:o.lJ4(10,Ft))}}function rn(B,Et){if(1&B&&(o.j41(0,"div",72),o.nrm(1,"azt-student-info-box",73),o.j41(2,"div",74)(3,"div",75),o.EFF(4),o.nI1(5,"mytranslate"),o.k0s(),o.j41(6,"div",75),o.EFF(7),o.k0s()()()),2&B){const A=Et.$implicit;o.R7$(),o.Y8G("name",A.fullName)("parentFullName",A.parentFullName)("parentId",A.parentId)("parentPhone",A.parentPhone)("phone",A.phone)("email",A.email)("avatar",A.avatar)("gender",A.gender)("hasUser",A.hasUser)("identificationNumber",A.identificationNumber),o.R7$(3),o.SpI(" ",o.bMT(5,12,"lang_business_diem_tong_ket")," "),o.R7$(3),o.SpI(" ",A.averageMark," ")}}function tn(B,Et){1&B&&o.nrm(0,"lucide-icon",80)}function en(B,Et){1&B&&o.nrm(0,"lucide-icon",81)}function nn(B,Et){if(1&B&&(o.j41(0,"div",91)(1,"span"),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s(),o.j41(4,"span",51),o.EFF(5),o.k0s()()),2&B){const A=o.XpG().$implicit;o.R7$(2),o.JRh(o.bMT(3,2,"lang_auto_he_so")),o.R7$(3),o.JRh(A.coefficient)}}function it(B,Et){if(1&B&&(o.j41(0,"div",92),o.nrm(1,"azt-check-mark",67),o.k0s()),2&B){const A=o.XpG().$implicit;o.R7$(),o.Y8G("mark",A.marks.length>0?A.marks[0]:"")}}function Ut(B,Et){if(1&B&&(o.j41(0,"div",92),o.nrm(1,"azt-check-mark",67),o.k0s()),2&B){const A=o.XpG().$implicit,U=o.XpG(6);o.R7$(),o.Y8G("mark",U.returnValue(A))}}function at(B,Et){if(1&B&&(o.j41(0,"tr")(1,"td")(2,"div",87)(3,"div"),o.EFF(4),o.DNE(5,nn,6,4,"div",88),o.k0s()()(),o.j41(6,"td",89),o.DNE(7,it,2,1,"div",90)(8,Ut,2,1,"div",90),o.k0s()()),2&B){const A=Et.$implicit;o.R7$(4),o.SpI(" ",A.name," "),o.R7$(),o.Y8G("ngIf",A.coefficient),o.R7$(2),o.Y8G("ngIf","homework"==A.objectType),o.R7$(),o.Y8G("ngIf","homework"!=A.objectType)}}function et(B,Et){if(1&B&&(o.j41(0,"div",83)(1,"table",84)(2,"thead")(3,"tr")(4,"th",85),o.EFF(5),o.nI1(6,"mytranslate"),o.k0s(),o.j41(7,"th",86),o.EFF(8),o.nI1(9,"mytranslate"),o.k0s()()(),o.j41(10,"tbody"),o.DNE(11,at,9,4,"tr",71),o.k0s()()()),2&B){const A=o.XpG(2).$implicit;o.R7$(5),o.JRh(o.bMT(6,3,"lang_student_name_component_score")),o.R7$(3),o.JRh(o.bMT(9,5,"lang_testbank_update_exam_point")),o.R7$(3),o.Y8G("ngForOf",A.marks)}}function lt(B,Et){if(1&B&&(o.qex(0),o.DNE(1,et,12,7,"div",82),o.bVm()),2&B){const A=o.XpG(4);o.R7$(),o.Y8G("ngIf",A.isStudent)}}function Zt(B,Et){if(1&B){const A=o.RV6();o.j41(0,"div")(1,"h3",76)(2,"span",77),o.bIt("click",function(){const V=o.eBV(A).$implicit;return o.Njj(V.expand=!V.expand)}),o.EFF(3),o.nI1(4,"mytranslate"),o.DNE(5,tn,1,0,"lucide-icon",78)(6,en,1,0,"lucide-icon",79),o.k0s()(),o.DNE(7,lt,2,1,"ng-container",31),o.k0s()}if(2&B){const A=Et.$implicit;o.R7$(3),o.Lme(" ",o.bMT(4,5,"lang_core_thang")," ",A.date," "),o.R7$(2),o.Y8G("ngIf",A.expand),o.R7$(),o.Y8G("ngIf",!A.expand),o.R7$(),o.Y8G("ngIf",A.expand)}}function pe(B,Et){if(1&B&&(o.j41(0,"div"),o.DNE(1,rn,8,14,"div",70)(2,Zt,8,7,"div",71),o.k0s()),2&B){let A;const U=o.XpG(2);o.R7$(),o.Y8G("ngForOf",null!==(A=null==U.dataStudent?null:U.dataStudent.list)&&void 0!==A?A:o.lJ4(2,Ft)),o.R7$(),o.Y8G("ngForOf",U.listGroupMarkDate)}}function te(B,Et){if(1&B){const A=o.RV6();o.j41(0,"azt-paging",96),o.bIt("goToPaginationPage",function(V){o.eBV(A);const K=o.XpG(3);return o.Njj(K.setPageStudent(V))}),o.k0s()}if(2&B){const A=o.XpG(3);o.Y8G("pageObj",A.pageObj)}}function Oe(B,Et){if(1&B&&(o.j41(0,"div",15),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&B){const A=o.XpG(3);o.R7$(),o.Lme("",A.dataStudent.total," ",o.bMT(2,2,"lang_notify_list_students"),"")}}function de(B,Et){if(1&B&&(o.j41(0,"div",93),o.nrm(1,"div"),o.DNE(2,te,1,1,"azt-paging",94)(3,Oe,3,4,"div",95),o.k0s()),2&B){const A=o.XpG(2);o.R7$(2),o.Y8G("ngIf",A.dataStudent.total>A.pageObj.pageSize),o.R7$(),o.Y8G("ngIf",!A.isStudent)}}function ve(B,Et){if(1&B&&(o.j41(0,"div",28),o.DNE(1,pt,3,3,"div",29)(2,un,15,11,"div",30)(3,pe,3,3,"div",31),o.k0s(),o.DNE(4,de,4,2,"div",32)),2&B){let A,U,V;const K=o.XpG();o.R7$(),o.Y8G("ngIf",!K.isStudent&&0==(null==K.dataStudent||null==K.dataStudent.list?null:K.dataStudent.list.length)&&0==(null!==(A=null==K.dataStudent?null:K.dataStudent.total)&&void 0!==A?A:0)),o.R7$(),o.Y8G("ngIf",!K.isStudent&&(null!==(U=null==K.dataStudent||null==K.dataStudent.list?null:K.dataStudent.list.length)&&void 0!==U?U:0)>0),o.R7$(),o.Y8G("ngIf",K.isStudent),o.R7$(),o.Y8G("ngIf",K.dataStudent&&K.dataStudent.total&&(null!==(V=null==K.dataStudent?null:K.dataStudent.total)&&void 0!==V?V:0)>0)}}function re(B,Et){if(1&B&&(o.j41(0,"th",98),o.EFF(1),o.nI1(2,"mytranslate"),o.k0s()),2&B){const A=Et.$implicit,U=Et.index,V=o.XpG(2);o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+U)("excelStyle",V.styleThNormal),o.R7$(),o.Lme(" ",A.name+"\n"," "," ("+o.bMT(2,6,"lang_auto_he_so")+" "+A.coefficient+")"," ")}}function Ie(B,Et){if(1&B&&o.nrm(0,"azt-check-mark",67),2&B){const A=o.XpG().$implicit;o.Y8G("mark",A.marks.length>0?A.marks[0]:"")}}function Ge(B,Et){if(1&B&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&B){const A=o.XpG().$implicit,U=o.XpG(3);o.R7$(),o.SpI(" ",U.returnValue(A)," ")}}function Be(B,Et){if(1&B&&(o.j41(0,"td",98),o.DNE(1,Ie,1,1,"azt-check-mark",100)(2,Ge,2,1,"span",31),o.k0s()),2&B){const A=Et.$implicit,U=Et.index,V=o.XpG().index,K=o.XpG(2);o.BMQ("excelRow",V+1)("excelColumn",6+U)("excelStyle",K.styleTdNormal),o.R7$(),o.Y8G("ngIf","homework"==A.objectType),o.R7$(),o.Y8G("ngIf","homework"!=A.objectType)}}function Ye(B,Et){if(1&B&&(o.j41(0,"tr")(1,"td",98),o.EFF(2),o.k0s(),o.j41(3,"td",98),o.EFF(4),o.k0s(),o.j41(5,"td",98),o.EFF(6),o.k0s(),o.j41(7,"td",98),o.EFF(8),o.k0s(),o.j41(9,"td",98),o.EFF(10),o.nI1(11,"formatOnlyDateByUserUnitPipe"),o.k0s(),o.j41(12,"td",98),o.EFF(13),o.nI1(14,"mytranslate"),o.nI1(15,"mytranslate"),o.k0s(),o.DNE(16,Be,3,5,"td",99),o.j41(17,"td",98),o.EFF(18),o.k0s()()),2&B){let A,U;const V=Et.$implicit,K=Et.index,Yt=o.XpG(2);o.R7$(),o.BMQ("excelRow",K+1)("excelColumn",0)("excelStyle",Yt.styleTdNormal),o.R7$(),o.SpI(" ",null!=V&&V.fullName?K+1:""," "),o.R7$(),o.BMQ("excelRow",K+1)("excelColumn",1)("excelStyle",Yt.styleTdNormalLeft),o.R7$(),o.SpI(" ",null==V?null:V.fullName," "),o.R7$(),o.BMQ("excelRow",K+1)("excelColumn",2)("excelStyle",Yt.styleTdNotNumberNormal),o.R7$(),o.SpI(" ",null==V?null:V.phone," "),o.R7$(),o.BMQ("excelRow",K+1)("excelColumn",3)("excelStyle",Yt.styleTdNormal),o.R7$(),o.SpI(" ",null==V?null:V.email," "),o.R7$(),o.BMQ("excelRow",K+1)("excelColumn",4)("excelStyle",Yt.styleTdNormal),o.R7$(),o.SpI(" ",o.bMT(11,29,null==V?null:V.birthday)," "),o.R7$(2),o.BMQ("excelRow",K+1)("excelColumn",5)("excelStyle",Yt.styleTdNormal),o.R7$(),o.SpI(" ",1==(null==V?null:V.gender)?o.bMT(14,31,"lang_student_export_excel_gender_male"):0==(null==V?null:V.gender)?o.bMT(15,33,"lang_student_export_excel_gender_female"):""," "),o.R7$(3),o.Y8G("ngForOf",null!==(A=V.marks)&&void 0!==A?A:o.lJ4(35,Ft)),o.R7$(),o.BMQ("excelRow",K+1)("excelColumn",6+(null!==(U=null==V.marks?null:V.marks.length)&&void 0!==U?U:0))("excelStyle",Yt.styleTdNotNumberNormal),o.R7$(),o.SpI(" ",V.averageMark," ")}}function fn(B,Et){if(1&B&&(o.j41(0,"table",97,1)(2,"thead")(3,"tr")(4,"th",98),o.EFF(5),o.nI1(6,"mytranslate"),o.k0s(),o.j41(7,"th",98),o.EFF(8),o.nI1(9,"mytranslate"),o.k0s(),o.j41(10,"th",98),o.EFF(11),o.nI1(12,"mytranslate"),o.k0s(),o.j41(13,"th",98),o.EFF(14),o.nI1(15,"mytranslate"),o.k0s(),o.j41(16,"th",98),o.EFF(17),o.nI1(18,"mytranslate"),o.k0s(),o.j41(19,"th",98),o.EFF(20),o.nI1(21,"mytranslate"),o.k0s(),o.DNE(22,re,3,8,"th",99),o.j41(23,"th",98),o.EFF(24),o.nI1(25,"mytranslate"),o.k0s()()(),o.j41(26,"tbody"),o.DNE(27,Ye,19,36,"tr",71),o.k0s()()),2&B){let A,U,V;const K=o.XpG();o.Y8G("border",1),o.R7$(4),o.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",K.styleThNormal),o.R7$(),o.SpI(" ",o.bMT(6,38,"lang_student_export_excel_no")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",K.styleThNormal),o.R7$(),o.SpI(" ",o.bMT(9,40,"lang_student_export_excel_full_name")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",K.styleThNormal),o.R7$(),o.SpI(" ",o.bMT(12,42,"lang_number_phone")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",K.styleThNormal),o.R7$(),o.SpI(" ",o.bMT(15,44,"lang_student_export_excel_email")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",K.styleThNormal),o.R7$(),o.SpI(" ",o.bMT(18,46,"lang_student_export_excel_birthday")," "),o.R7$(2),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",K.styleThNormal),o.R7$(),o.SpI(" ",o.bMT(21,48,"lang_student_export_excel_gender")," "),o.R7$(2),o.Y8G("ngForOf",null!==(A=null==K.dataMark?null:K.dataMark.list)&&void 0!==A?A:o.lJ4(52,Ft)),o.R7$(),o.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+(null!==(U=null==K.dataMark||null==K.dataMark.list?null:K.dataMark.list.length)&&void 0!==U?U:0))("excelStyle",K.styleThNormal),o.R7$(),o.SpI(" ",o.bMT(25,50,"lang_business_diem_tong_ket")," "),o.R7$(3),o.Y8G("ngForOf",null!==(V=null==K.dataStudent?null:K.dataStudent.list)&&void 0!==V?V:o.lJ4(53,Ft))}}let $e=(()=>{var B;class Et extends i.H{goToProfile(U,V){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+U+"/"+V,"?backto="+encodeURIComponent("ENTER_SCORE"==this.screenType?"/admin/student/submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"/admin/student/classroom-details/"+this.classroomId+"/4"))}setPageStudent(U){this.myNavigationWithQueryString("/admin/student/"+("ENTER_SCORE"==this.screenType?"submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"classroom-details/"+this.classroomId+"/4"),"?page="+U),this.initStatusObj(),this.pageObj.setPageNumber(U),this.getListStudent()}openDialogTableSingle(U){"ENTER_SCORE"!=this.screenType?this.sAztDialogService.open(x.V,{width:"750px",restoreFocus:!1,data:{student:U,isTeacher:!0}}).afterClosed().subscribe(V=>{V&&this.getListStudent()}):(U.classroomId||U.id)&&this.goToProfile(U.classroomId,U.id)}onSearchBox(U){this.searchContentObj=U,this.setPageStudent(1),this.initStatusObj()}downloadTableScore(){n.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var U=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let V=this.commonService.createFileNameExportFile(["bang_diem_lop_"+this.classroomObj?.name])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(U,V),n.L.closeLoadingEffect(200)}handlePointByValueInput(U){var V=U.target;let K=""===V.value.trim()?"":V.value;K=K.replace(/[^\d\s,\.]/g,""),K=K.replace(/,/g,"."),K=K.replace(/\s+/g," "),K=K.replace(/\.{2,}/g,"."),K=K.replace(/(?:^|\s)\./g," 0."),K=K.replace(/^\s+/,""),K=K.replace(/\.\s/g," ");var Yt=K.split(" ");if(Yt.length>0){var he=""!=Yt[Yt.length-1]?Yt[Yt.length-1]:Yt[Yt.length-2];Number(he)>-1?he.split(".").length>1&&he.split(".")[1].length>2&&(K=K.substring(0,K.length-1)):K=K.replace(/\.$/," ")}return V.value=K,K.split(" ").filter(Pe=>""!=Pe).map(Pe=>parseFloat(Pe))}handleMarkStudent(U,V,K){var Yt=this.handlePointByValueInput(U);Yt=0==Yt.length?[-1]:Yt;var he=this.dataStudent.list[V],me=this.dataMark.list[K],ze=this.listStudentMark.findIndex(Qe=>Qe.id==he.id);if(ze>-1){var Pe=(this.listStudentMark[ze].listMarks??[]).findIndex(Qe=>Qe.id==me.id);Pe>-1?this.listStudentMark[ze].listMarks[Pe].points=Yt:this.listStudentMark[ze].listMarks?.push({id:me.id,points:Yt})}else this.listStudentMark.push({id:he.id,listMarks:[{id:me.id,points:Yt}]})}returnValue(U){return(U.marks??[]).join(" ")}saveMark(){this.isSave=!0,this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listStudentMark}).subscribe({next:V=>{this.getListStudent(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0),this.isSave=!1},error:V=>{this.errorStatusObj(V.error.message,!0),this.isSave=!1}}))}createNewScore(U){this.isStudent||this.sAztDialogService.open(T._,{data:U||{programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(K=>{K&&this.getListMark()})}getListMark(){this.waitDestroy(this.commonMarkService.apiCommonMarksListPost({page:this.pageMark,size:1e3,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId}).subscribe({next:V=>{this.dataMark=V,this.getListStudent()},error:V=>{this.errorStatusObj(V.error.message,!0)}}))}deleteMark(U){var V=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+U.name+" </div> ?";this.sAztDialogService.open(e.u,{data:{content:V},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(K=>{K&&this.waitDestroy(this.commonMarkService.apiCommonMarksIdDelete(U.id).subscribe({next:Yt=>{this.getListMark()},error:Yt=>{this.errorStatusObj(Yt.error.message,!0)}}))})}getClassroomObj(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(U=>{1==U.success&&(this.classroomObj=U.data?.obj)}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1}).subscribe({next:V=>{this.dataStudent=V,this.pageObj.setTotalPages(this.dataStudent?.total??0),this.isStudent?this.handleGroupMarkByDate(V.list):setTimeout(()=>this.scrollElementStudentById(),500),this.stopStatusObj()},error:V=>{this.errorStatusObj(V.error.message,!0)}}))}handleGroupMarkByDate(U){let V=[];U.forEach(Yt=>{let he=Yt.marks?.map(me=>({...me,monthAndYear:this.sAztTimeService.formatDateToMonthYear(me.createdAt)}))??[];V=V.concat(he)});let K=this.commonService.arrayToDictionary(V,Yt=>Yt.monthAndYear);this.listGroupMarkDate=Object.entries(K).map(([Yt,he])=>({date:Yt,marks:he,expand:!1}))}scrollElementStudentById(){if(this.studentId){var U=document.getElementById("row_student_"+this.studentId);U&&U.scrollIntoView({behavior:"smooth",block:"start"})}}ngOnInit(){(0,w.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.studentId=this.commonService.getMyQueryParam("studentId"),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))}),super.ngOnInit(),"ENTER_SCORE"==this.screenType?this.getListMark():this.getListStudent(),this.getClassroomObj()}constructor(U,V,K,Yt,he,me,ze,Pe){super(),this.commonMarkService=U,this.studentService=V,this.sAztTimeService=K,this.sAztDialogService=Yt,this.classroomService=he,this.exportExcelService=me,this.activeRoute=ze,this.shareFileFlutterService=Pe,this.screenType="ENTER_SCORE",this.classroomId=0,this.programId=0,this.sessionId=0,this.isStudent=!0,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.pageMark=1,this.listStudentMark=[],this.listGroupMarkDate=[],this.isSave=!1,this.pageObj=new ot.d(50),this.searchContentObj=new t.Z}}return(B=Et).\u0275fac=function(U){return new(U||B)(o.rXU(yt.a),o.rXU(zt.b),o.rXU(St.F),o.rXU(ct.i),o.rXU(Nt.z),o.rXU(J.x),o.rXU(bt.nX),o.rXU(st.R))},B.\u0275cmp=o.VBU({type:B,selectors:[["app-table-score"]],viewQuery:function(U,V){if(1&U&&o.GBs(Qt,5),2&U){let K;o.mGM(K=o.lsd())&&(V.table_answer=K.first)}},inputs:{screenType:"screenType",classroomId:"classroomId",programId:"programId",sessionId:"sessionId",isStudent:"isStudent"},features:[o.Vt3],decls:8,vars:6,consts:[["doneLoading",""],["table_score",""],[1,"grid","grid-cols-12","gap-5","mt-5"],["class","col-span-12 md:col-span-6",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],["class","mt-1 col-span-12",4,"ngIf"],[1,"mt-1","col-span-12"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"onSearch","isServerSearch","placeholder"],[1,"flex","justify-end"],["azt-track-service","enter-score-ULGPeBf6V","class","btn btn-primary flex mr-2",3,"click",4,"ngIf"],["azt-track-service","table-score-n5S54LPUX","class","btn btn-primary flex btn-download-excel",3,"click",4,"ngIf"],[3,"colorBackground",4,"ngIf"],["azt-track-service","enter-score-ULGPeBf6V",1,"btn","btn-primary","flex","mr-2",3,"click"],["name","plus","size","20",3,"ngClass"],["azt-track-service","table-score-n5S54LPUX",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","20",3,"ngClass"],[3,"colorBackground"],["azt-track-service","enter-score-OlvWZNI2DZ",1,"btn","btn-primary","shadow-md","sm:mt-0","ml-2",3,"click","disabled"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["class","block","style","height: 100%",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-10","text-center"],[1,"block",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap",2,"padding-left","25px"],[1,"whitespace-nowrap","text-center"],["class","text-center","style","max-width: 120px !important",4,"ngFor","ngForOf"],["class","text-center whitespace-nowrap",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"text-center",2,"max-width","120px !important"],[1,"flex","items-center","justify-center"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],[1,"flex","justify-between",2,"width","max-content"],["class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["azt-track-service","enter-score-YQX6a-qxwK","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],["azt-track-service","table-score-8Xr_zTWDT","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],["azt-track-service","enter-score-YQX6a-qxwK",1,"inline-block","ml-1",3,"click","matTooltip"],["name","pencil","size","16"],["azt-track-service","table-score-8Xr_zTWDT",1,"inline-block","ml-1",3,"click","matTooltip"],["name","trash-2","size","16",3,"ngClass"],[1,"text-center","whitespace-nowrap"],[3,"id"],["azt-track-service","table-score-iwGAjYKV2",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","phone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","identificationNumber"],[1,"text-center","capitalize"],["class","text-center",3,"hidden",4,"ngFor","ngForOf"],[1,"text-center",3,"hidden"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important","type","text","class","form-control form-control-sm text-center",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"input","matTooltipDisabled","matTooltip","id","value","placeholder"],[1,"flex","justify-center","font-bold"],["class","box p-3 mb-5 flex justify-between",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"box","p-3","mb-5","flex","justify-between"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser","identificationNumber"],[1,"text-center"],[1,"font-bold"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","table-score-4mYihdNPO",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","box mt-3 mb-1",4,"ngIf"],[1,"box","mt-3","mb-1"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","100px"],[1,"flex","items-center"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],[1,"text-center","font-bold"],["style","max-width: 100px",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[2,"max-width","100px"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"table","table-bordered",2,"display","none",3,"border"],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[3,"mark",4,"ngIf"]],template:function(U,V){if(1&U&&(o.j41(0,"div",2),o.DNE(1,Mt,5,4,"div",3)(2,Bt,5,4,"div",3)(3,Tt,9,7,"div",4),o.k0s(),o.DNE(4,tt,1,1,"azt-loading-effect",5)(5,ve,5,4,"ng-template",null,0,o.C5r)(7,fn,28,54,"table",6)),2&U){const K=o.sdS(6);o.R7$(),o.Y8G("ngIf","ENTER_SCORE"==V.screenType),o.R7$(),o.Y8G("ngIf","TABLE_SCORE"==V.screenType),o.R7$(),o.Y8G("ngIf",!V.isStudent),o.R7$(),o.Y8G("ngIf",V.statusObj.loading)("ngIfElse",K),o.R7$(3),o.Y8G("ngIf","TABLE_SCORE"==V.screenType)}},dependencies:[Ct.YU,Ct.Sq,Ct.bT,q.oV,P.K,Z.q,z.D,gt.R,Ot.$,$t.W,Rt.B,fe.jd,fe.Ew,be.WGl,It.wp,It.Po,It.vv],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}@media (max-width: 639px){.btn-download-excel[_ngcontent-%COMP%]{width:100%!important}}.box-point-homework[_ngcontent-%COMP%]{min-width:120px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}"]}),Et})()},57350:(Me,Kt,p)=>{p.d(Kt,{s:()=>e});var w=p(59640),i=p(48891),n=p(65162),ot=p(19857);let e=(()=>{var t;class T extends w.H{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor(o){super(),this.activeRoute=o,this.classroomId=0}}return(t=T).\u0275fac=function(o){return new(o||t)(i.rXU(n.nX))},t.\u0275cmp=i.VBU({type:t,selectors:[["app-grand-board"]],inputs:{isStudent:"isStudent"},features:[i.Vt3],decls:1,vars:5,consts:[[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(o,yt){1&o&&i.nrm(0,"app-table-score",0),2&o&&i.Y8G("isStudent",yt.isStudent)("screenType","TABLE_SCORE")("classroomId",yt.classroomId)("programId",0)("sessionId",0)},dependencies:[ot.g],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),T})()},25622:(Me,Kt,p)=>{p.d(Kt,{b:()=>be});var w=p(59640),i=p(48891),n=p(95624),ot=p(27691),e=p(65162),t=p(36484),T=p(40949),x=p(54460),o=p(18718),yt=p(68323),zt=p(94743),St=p(76975);const ct=It=>({cursor:It}),Nt=(It,Qt,Pt)=>({"p-5 bg-primary text-white":It,"p-3":Qt,"border border-primary p-4 border-w-2":Pt}),J=It=>({"text-base":It}),bt=It=>({"text-white":It});function st(It,Qt){if(1&It&&i.nrm(0,"azt-loading-effect",3),2&It){const Pt=i.XpG();i.Y8G("currentStatusObj",Pt.statusObj)}}function Ct(It,Qt){if(1&It&&(i.j41(0,"div",22),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&It){const Pt=i.XpG(),Ft=Pt.$implicit;i.Y8G("ngClass",i.eq3(4,bt,0===Pt.index)),i.R7$(),i.JRh(Ft.averageMark+" "+i.bMT(2,2,"lang_auto_diem"))}}function q(It,Qt){if(1&It&&(i.j41(0,"div",22),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&It){const Pt=i.XpG();i.Y8G("ngClass",i.eq3(4,bt,0===Pt.index&&Pt.$implicit.averageMark)),i.R7$(),i.JRh(i.bMT(2,2,"lang_not_data"))}}function P(It,Qt){1&It&&(i.j41(0,"div",23),i.nrm(1,"azt-svg-icon",24),i.k0s()),2&It&&(i.R7$(),i.Y8G("size",40))}function Z(It,Qt){1&It&&(i.j41(0,"div",25),i.nrm(1,"azt-svg-icon",26),i.k0s()),2&It&&(i.R7$(),i.Y8G("size",40))}function z(It,Qt){1&It&&(i.j41(0,"div",27),i.nrm(1,"azt-svg-icon",28),i.k0s()),2&It&&(i.R7$(),i.Y8G("size",40))}function gt(It,Qt){if(1&It&&(i.j41(0,"div",29)(1,"div",30),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s(),i.j41(4,"div",31),i.EFF(5),i.k0s()()),2&It){const Pt=i.XpG().index,Ft=i.XpG(3);i.R7$(2),i.SpI(" ",i.bMT(3,2,"lang_azt_final_score_ranking")+" "+(Pt+1)+"/"+Ft.dataStudent.total," "),i.R7$(3),i.JRh(Ft.commentByRanking)}}function Ot(It,Qt){if(1&It){const Pt=i.RV6();i.qex(0),i.j41(1,"div",8),i.bIt("click",function(){const Wt=i.eBV(Pt).$implicit,le=i.XpG(3);return i.Njj(le.goToProfile(Wt.classroomId,Wt.id))}),i.j41(2,"div",9)(3,"span",10),i.EFF(4),i.k0s()(),i.j41(5,"div",11)(6,"div",12),i.nrm(7,"azt-create-avatar",13),i.k0s(),i.j41(8,"div",14)(9,"div",15),i.EFF(10),i.k0s(),i.DNE(11,Ct,3,6,"div",16)(12,q,3,6,"div",16),i.k0s()(),i.j41(13,"div",17),i.DNE(14,P,2,1,"div",18)(15,Z,2,1,"div",19)(16,z,2,1,"div",20),i.k0s()(),i.DNE(17,gt,6,4,"div",21),i.bVm()}if(2&It){const Pt=Qt.$implicit,Ft=Qt.index,Wt=i.XpG(3);i.R7$(),i.Y8G("ngStyle",i.eq3(15,ct,Wt.isStudent?"default":"pointer"))("ngClass",i.sMw(17,Nt,0===Ft&&Pt.averageMark,0!==Ft||!Pt.averageMark,(2===Ft||1===Ft)&&Pt.averageMark))("hidden",!(!Wt.isTqbDomain||!Wt.isStudent)&&Pt.parentId!=Wt.curUserId),i.R7$(3),i.JRh(Ft+1),i.R7$(3),i.Y8G("linkAvatar",Pt.avatar)("nameCreateAvatar",Pt.fullName)("size",0===Ft?48:44),i.R7$(2),i.Y8G("ngClass",i.eq3(21,J,0===Ft)),i.R7$(),i.JRh(Pt.fullName),i.R7$(),i.Y8G("ngIf",Pt.averageMark),i.R7$(),i.Y8G("ngIf",!Pt.averageMark),i.R7$(2),i.Y8G("ngIf",0===Ft&&Pt.averageMark),i.R7$(),i.Y8G("ngIf",1===Ft&&Pt.averageMark),i.R7$(),i.Y8G("ngIf",2===Ft&&Pt.averageMark),i.R7$(),i.Y8G("ngIf",Wt.isTqbDomain&&Wt.isStudent&&Pt.parentId===Wt.curUserId)}}function $t(It,Qt){if(1&It&&(i.j41(0,"div",5)(1,"div",6),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s(),i.DNE(4,Ot,18,23,"ng-container",7),i.k0s()),2&It){const Pt=i.XpG(2);i.R7$(2),i.SpI(" ",i.bMT(3,2,"lang_azt_leaderboard")," "),i.R7$(2),i.Y8G("ngForOf",Pt.dataStudent.list)}}function Rt(It,Qt){1&It&&(i.j41(0,"div",32)(1,"div",33),i.nrm(2,"azt-svg-icon",34),i.j41(3,"p",35),i.EFF(4),i.nI1(5,"mytranslate"),i.k0s()()()),2&It&&(i.R7$(2),i.Y8G("size",82),i.R7$(2),i.JRh(i.bMT(5,2,"lang_not_data")+"!"))}function fe(It,Qt){if(1&It&&i.DNE(0,$t,5,4,"div",4)(1,Rt,6,4,"ng-template",null,1,i.C5r),2&It){const Pt=i.sdS(2),Ft=i.XpG();i.Y8G("ngIf",Ft.dataStudent&&Ft.dataStudent.list&&Ft.dataStudent.list.length)("ngIfElse",Pt)}}let be=(()=>{var It;class Qt extends w.H{goToProfile(Ft,Wt){this.isStudent||this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+Ft+"/"+Wt,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${Ft}/5`))}getListStudent(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1e3,name:"",programId:0,classroomId:this.classroomId,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!1,order:{fieldName:"averageMark",descending:!0,ignore:!1}}).subscribe({next:Wt=>{this.dataStudent=Wt;const le=this.splitIntoGroups(this.dataStudent.list??[]);this.isTqbDomain&&this.loadTextCdn(this.cdnService.addRandomQueryParam(this.linkTopMess)).subscribe(Mt=>{const Xt=this.castJsonToObj(Mt)??[];Xt.length&&le.forEach((Bt,Dt)=>{Bt.forEach((Gt,qt)=>{Gt.parentId===this.curUserId&&0==Dt&&(this.commentByRanking=Xt[0].mess),Gt.parentId===this.curUserId&&1==Dt&&(this.commentByRanking=Xt[1].mess),Gt.parentId===this.curUserId&&2==Dt&&(this.commentByRanking=Xt[2].mess),Gt.parentId===this.curUserId&&3==Dt&&(this.commentByRanking=Xt[3].mess)})})}),this.stopStatusObj()},error:Wt=>{this.errorStatusObj(Wt.error.message,!0)}}))}loadTextCdn(Ft){return this.http.get(Ft,{responseType:"text"})}splitIntoGroups(Ft){const le=Ft.length,Mt=Math.min(4,le),Xt=Math.ceil(le/Mt);let Bt=[];for(let Dt=0;Dt<Mt;Dt++)Bt.push(Ft.slice(Dt*Xt,(Dt+1)*Xt));return Bt}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.curUserId=this.sAztUserService.getUserObj().id,this.getListStudent()}constructor(Ft,Wt,le,Mt,Xt){super(),this.studentService=Ft,this.http=Wt,this.activeRoute=le,this.sAztUserService=Mt,this.cdnService=Xt,this.classroomId=0,this.curUserId=0,this.linkTopMess="https://azota889.github.io/storage_public_v2/topmess.json",this.commentByRanking=""}}return(It=Qt).\u0275fac=function(Ft){return new(Ft||It)(i.rXU(n.b0),i.rXU(ot.Qq),i.rXU(e.nX),i.rXU(t.R),i.rXU(T.B))},It.\u0275cmp=i.VBU({type:It,selectors:[["app-leader-board"]],inputs:{isStudent:"isStudent"},features:[i.Vt3],decls:3,vars:2,consts:[["doneLoading",""],["emptyData",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["class","p-4 leaderboard rounded-lg",4,"ngIf","ngIfElse"],[1,"p-4","leaderboard","rounded-lg"],[1,"text-xl","text-center","font-medium"],[4,"ngFor","ngForOf"],["azt-track-service","leaderboard-dDzfaXSYR",1,"flex","items-center","box","rounded-25px","mt-4","intro-x","zoom-in","p-3",2,"min-height","92px",3,"click","ngStyle","ngClass","hidden"],[1,"w-5","h-5","rounded-full","border","border-w-2","border-slate-200","dark:border-slate-400","flex","items-center","justify-center"],[1,"text-xs","font-medium"],[1,"mx-3","flex","items-center"],[1,"image-fit","zoom-in"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4"],[1,"font-medium",3,"ngClass"],["class","text-slate-600 mt-0.5 text-xs font-medium",3,"ngClass",4,"ngIf"],[1,"ml-auto"],["class","icon-top-1",4,"ngIf"],["class","icon-top-2",4,"ngIf"],["class","icon-top-3",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"text-slate-600","mt-0.5","text-xs","font-medium",3,"ngClass"],[1,"icon-top-1"],["type","crown-gold",3,"size"],[1,"icon-top-2"],["type","crown-silver",3,"size"],[1,"icon-top-3"],["type","crown-copper",3,"size"],[1,"mt-4"],[1,"font-bold","uppercase","text-center"],[1,"text-center",2,"font-style","italic"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","inbox-empty",3,"size"],[1,"font-medium","mt-5"]],template:function(Ft,Wt){if(1&Ft&&i.DNE(0,st,1,1,"azt-loading-effect",2)(1,fe,3,2,"ng-template",null,0,i.C5r),2&Ft){const le=i.sdS(2);i.Y8G("ngIf",Wt.statusObj.loading)("ngIfElse",le)}},dependencies:[x.YU,x.Sq,x.bT,x.B3,o.K,yt.p,zt.m,St.wp],styles:[".leaderboard[_ngcontent-%COMP%]{background:#dae3fe;border-radius:30px}.rounded-25px[_ngcontent-%COMP%]{border-radius:25px}"]}),Qt})()},95054:(Me,Kt,p)=>{p.d(Kt,{K:()=>Qe});var w=p(26988),i=p(59640),n=function(R){return R[R.ADD_NEW=0]="ADD_NEW",R[R.UPDATE=1]="UPDATE",R[R.DELETE=2]="DELETE",R}(n||{}),ot=p(10936),e=p(48891),t=p(95624),T=p(54460),x=p(47712),o=p(18718),yt=p(52811),zt=p(94743),St=p(15343),ct=p(15766),Nt=p(39712),J=p(36484),bt=p(97839),st=p(99965),Ct=p(63349),q=p(53043),P=p(46899);const Z=()=>({"stroke-1.5":!0});function z(R,ft){if(1&R){const X=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"a",4),e.bIt("click",function(){const O=e.eBV(X).$implicit,rt=e.XpG();return e.Njj(rt.onShowFile(O,-1))}),e.j41(3,"div",5),e.nrm(4,"img",6),e.j41(5,"span",7),e.bIt("click",function(){const O=e.eBV(X).$implicit,rt=e.XpG();return e.Njj(rt.removeFile(O))}),e.nrm(6,"lucide-icon",8),e.k0s()()()()()}if(2&R){const X=ft.$implicit;e.R7$(4),e.Y8G("src",X.url,e.B4B),e.R7$(2),e.Y8G("ngClass",e.lJ4(2,Z))}}let gt=(()=>{var R;class ft extends i.H{onShowFile(M,O){let rt={...M,index:O};this.sAztDialogService.open(q.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:rt},restoreFocus:!1})}removeFile(M){this.files=this.files.filter(O=>O.url!=M.url),this.filesChange.emit(this.files)}constructor(M){super(),this.sAztDialogService=M,this.filesChange=new e.bkB}}return(R=ft).\u0275fac=function(M){return new(M||R)(e.rXU(P.i))},R.\u0275cmp=e.VBU({type:R,selectors:[["app-new-list-images"]],inputs:{files:"files"},outputs:{filesChange:"filesChange"},features:[e.Vt3],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","gap-3","mb-3"],["class","col-span-12 md:col-span-6 xl:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","xl:col-span-4","lg:col-span-2"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-1","pr-2","pl-2"],["azt-track-service","list-images-jCIgoLK9i",1,"flex","w-full","items-center",3,"click"],[1,"w-full","h-28","image-fit","zoom-in"],[1,"rounded-md",3,"src"],["azt-track-service","list-images-3VlAbiB3VZ",1,"cursor-pointer","absolute","top-0","right-0","-mt-2","-mr-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-danger","text-white",3,"click"],["name","x","size","16",3,"ngClass"]],template:function(M,O){1&M&&(e.j41(0,"div",0),e.DNE(1,z,7,3,"div",1),e.k0s()),2&M&&(e.R7$(),e.Y8G("ngForOf",O.files))},dependencies:[T.YU,T.Sq,St.WGl],encapsulation:2}),ft})();var Ot=p(76975);const $t=R=>[R],Rt=()=>({"zoom-in":!0});function fe(R,ft){if(1&R){const X=e.RV6();e.j41(0,"app-new-list-images",13),e.mxI("filesChange",function(O){e.eBV(X);const rt=e.XpG();return e.DH7(rt.files,O)||(rt.files=O),e.Njj(O)}),e.k0s()}if(2&R){const X=e.XpG();e.R50("files",X.files)}}function be(R,ft){1&R&&e.nrm(0,"azt-loading-ui",14)}let It=(()=>{var R;class ft extends i.H{saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();var M={content:this.contentFormControl.value??"",classroomId:this.classroomId,imageLinks:this.files.map(O=>O.url).filter(this.commonService.notEmpty),isLockComment:this.isLockComment?1:0,isSchool:this.isSchool};this.waitDestroy(this.newsService.apiNewsPost(M).subscribe({next:O=>{this.successStatusObj("lang_business_news_add_new_post_success",!0),this.contentFormControl.setValue(""),this.files=[],this.changePostObjEvent.emit({...O,isShowEditForm:!1,hasLoveEmotion:!1,isShowCommentBox:!1})},error:O=>{this.errorStatusObj(O.error.message,!0)}}))}}handleUploadComplete(M){this.files.push(...M)}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(M,O){super(),this.newsService=M,this.userService=O,this.changePostObjEvent=new e.bkB,this.contentFormControl=new ot.MJ("",{nonNullable:!0,validators:[ct.M.noWhiteSpace]}),this.files=[],this.isLockComment=!1,this.allUploadToCdnMenuTypes=Nt.b8,this.allUploadFileTypes=Nt.PO}}return(R=ft).\u0275fac=function(M){return new(M||R)(e.rXU(t.bH),e.rXU(J.R))},R.\u0275cmp=e.VBU({type:R,selectors:[["app-news-add-new-post"]],inputs:{classroomId:"classroomId",isSchool:"isSchool"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[e.Vt3],decls:19,vars:23,consts:[[1,"box"],[1,"relative","w-full","pt-3","pr-3","pl-3"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","pt-3",3,"files","filesChange",4,"ngIf"],[1,"text-right","box-button"],[1,"w-full","flex","sm:justify-between","justify-end","items-center"],[1,"btn","btn-outline-secondary","btn-sm","mr-2","p-0","border-0",3,"click","matTooltip"],["size","24",3,"name"],[3,"uploadComplete","uploadToCdnMenu","fileType"],["azt-track-service","add-new-post-YUr68bfqj5",1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","add-new-post-D1kcZnYwie","type","button",1,"btn","btn-primary","btn-sm","w-24",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"pt-3",3,"filesChange","files"],[1,"mr-1"]],template:function(M,O){1&M&&(e.j41(0,"div",0)(1,"div",1)(2,"textarea",2),e.nI1(3,"mytranslate"),e.EFF(4,"        "),e.k0s(),e.DNE(5,fe,1,1,"app-new-list-images",3),e.k0s(),e.j41(6,"div",4)(7,"div",5)(8,"button",6),e.nI1(9,"mytranslate"),e.bIt("click",function(){return O.isLockComment=!O.isLockComment}),e.nrm(10,"lucide-icon",7),e.k0s(),e.j41(11,"azt-upload-multiple-box",8),e.bIt("uploadComplete",function(Fe){return O.handleUploadComplete(Fe)}),e.j41(12,"span",9),e.nrm(13,"lucide-icon",10),e.nI1(14,"mytranslate"),e.k0s()(),e.j41(15,"button",11),e.bIt("click",function(){return O.saveNewPost()}),e.DNE(16,be,1,0,"azt-loading-ui",12),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()()()()),2&M&&(e.R7$(2),e.FS9("placeholder",e.bMT(3,12,"lang_business_news_post_content")),e.Y8G("formControl",O.contentFormControl),e.R7$(3),e.Y8G("ngIf",O.files.length),e.R7$(3),e.FS9("matTooltip",e.bMT(9,14,O.isLockComment?"lang_student_comment_lock":"lang_student_unlock_comments")),e.R7$(2),e.Y8G("name",O.isLockComment?"lock":"lock-open"),e.R7$(),e.Y8G("uploadToCdnMenu",O.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",e.eq3(20,$t,O.allUploadFileTypes.IMAGE)),e.R7$(2),e.FS9("matTooltip",e.bMT(14,16,"lang_core_tai_anh")),e.Y8G("ngClass",e.lJ4(22,Rt)),e.R7$(2),e.Y8G("disabled",""==O.contentFormControl.value||O.statusObj.loading),e.R7$(),e.Y8G("ngIf",O.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(18,18,"lang_business_news_add_new_post_button")," "))},dependencies:[T.YU,T.bT,bt.fg,x.oV,ot.me,ot.BC,ot.l_,st.j,yt.R,Ct.V,St.WGl,gt,Ot.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0;height:25px}.box-button[_ngcontent-%COMP%]{padding:5px 10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}"]}),ft})();var Qt=p(89163),Pt=p(33887),Ft=p(2915);function Wt(R,ft){1&R&&e.nrm(0,"azt-loading-ui",9)}let le=(()=>{var R;class ft extends Pt._{btnCloseDialog(M){this.dialogRef.close(M)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsIdDelete(this.postObj.id).subscribe({next:M=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:M=>{this.errorStatusObj(M.error.message,!0)}}))}constructor(M,O,rt){super(rt,O),this.newsService=M,this.dialogRef=O,this.data=rt,this.postObj=rt}}return(R=ft).\u0275fac=function(M){return new(M||R)(e.rXU(t.bH),e.rXU(Qt.CP,8),e.rXU(Qt.Vh,8))},R.\u0275cmp=e.VBU({type:R,selectors:[["app-delete-news-post-confirm-dialog"]],features:[e.Vt3],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(M,O){1&M&&(e.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),e.EFF(5),e.nI1(6,"mytranslate"),e.j41(7,"b",4),e.EFF(8),e.k0s(),e.EFF(9,"? "),e.k0s()()()(),e.j41(10,"div",5)(11,"button",6),e.bIt("click",function(){return O.btnCloseDialog(!1)}),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"button",7),e.bIt("click",function(){return O.confirmDelete()}),e.DNE(15,Wt,1,0,"azt-loading-ui",8),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()()),2&M&&(e.R7$(5),e.SpI(" ",e.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post"),"\xa0 "),e.R7$(3),e.JRh(O.postObj.content),e.R7$(4),e.SpI(" ",e.bMT(13,7,"lang_cms_common_close_btn")," "),e.R7$(3),e.Y8G("ngIf",O.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[T.bT,Ft.U,yt.R,Ot.wp],encapsulation:2}),ft})();var Mt=p(17818),Xt=p(68323),Bt=p(49221),Dt=function(R){return R[R.ADD_NEW=0]="ADD_NEW",R[R.UPDATE=1]="UPDATE",R[R.DELETE=2]="DELETE",R}(Dt||{}),Gt=p(95670),qt=p(43558);const Se=()=>({"text-primary flex-none zoom-in":!0});function Tt(R,ft){1&R&&e.nrm(0,"azt-loading-ui",9)}let tt=(()=>{var R;class ft extends i.H{saveNewComment(){this.commentContentFormControl.value.trim()&&(this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsPost(this.postObj.id,{content:this.commentContentFormControl.value}).subscribe({next:O=>{this.successStatusObj(),this.commentContentFormControl.setValue(""),this.changeCommentObjEvent.emit({...O,isShowEditForm:!1,allowDelete:!0,allowEdit:!0})},error:O=>{this.errorStatusObj(O.error.message,!0)}})))}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(M,O){super(),this.newsService=M,this.userService=O,this.changeCommentObjEvent=new e.bkB,this.commentContentFormControl=new ot.MJ("",{nonNullable:!0,validators:[ct.M.noWhiteSpace]})}}return(R=ft).\u0275fac=function(M){return new(M||R)(e.rXU(t.bH),e.rXU(J.R))},R.\u0275cmp=e.VBU({type:R,selectors:[["app-news-add-new-comments"]],inputs:{postObj:"postObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[e.Vt3],decls:12,vars:15,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","",2,"resize","auto","height","30px",3,"enterKey","enableInMobile","formControl","placeholder"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],["azt-track-service","add-new-comment-tIKt3rAhD",1,"btn","btn-secondary","btn-sm","zoom-in",3,"click","matTooltip","disabled"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(M,O){1&M&&(e.j41(0,"div",0),e.nrm(1,"azt-create-avatar",1),e.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),e.nI1(5,"mytranslate"),e.bIt("enterKey",function(){return!(""==O.commentContentFormControl.value||O.statusObj.loading)&&O.saveNewComment()}),e.EFF(6,"            "),e.k0s()(),e.j41(7,"div",5)(8,"button",6),e.nI1(9,"mytranslate"),e.bIt("click",function(){return O.saveNewComment()}),e.DNE(10,Tt,1,0,"azt-loading-ui",7),e.nrm(11,"lucide-icon",8),e.k0s()()()()),2&M&&(e.R7$(),e.Y8G("nameCreateAvatar",O.userObj.fullName)("linkAvatar",O.userObj.avatar)("size",30),e.R7$(3),e.FS9("placeholder",e.bMT(5,10,"lang_core_viet_binh_luan")),e.Y8G("enableInMobile",!1)("formControl",O.commentContentFormControl),e.R7$(4),e.FS9("matTooltip",e.bMT(9,12,"lang_business_news_add_new_post_button")),e.Y8G("disabled",""==O.commentContentFormControl.value||O.statusObj.loading),e.R7$(2),e.Y8G("ngIf",O.statusObj.loading),e.R7$(),e.Y8G("ngClass",e.lJ4(14,Se)))},dependencies:[T.YU,T.bT,bt.fg,Gt.rl,x.oV,ot.me,ot.BC,ot.l_,Xt.p,st.j,qt.Z,yt.R,St.WGl,Ot.wp],encapsulation:2}),ft})();function pt(R,ft){1&R&&e.nrm(0,"azt-loading-ui",9)}let L=(()=>{var R;class ft extends Pt._{btnCloseDialog(M){this.dialogRef.close(M)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdDelete(this.postObj.id,this.commentObj.id).subscribe({next:M=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:M=>{this.errorStatusObj(M.error.message,!0)}}))}constructor(M,O,rt){super(rt,O),this.newsService=M,this.dialogRef=O,this.data=rt,this.postObj=rt.postObj,this.commentObj=rt.commentObj}}return(R=ft).\u0275fac=function(M){return new(M||R)(e.rXU(t.bH),e.rXU(Qt.CP,8),e.rXU(Qt.Vh,8))},R.\u0275cmp=e.VBU({type:R,selectors:[["app-delete-news-post-comment-confirm-dialog"]],features:[e.Vt3],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(M,O){1&M&&(e.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),e.EFF(5),e.nI1(6,"mytranslate"),e.j41(7,"b",4),e.EFF(8),e.k0s(),e.EFF(9,"? "),e.k0s()()()(),e.j41(10,"div",5)(11,"button",6),e.bIt("click",function(){return O.btnCloseDialog(!1)}),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"button",7),e.bIt("click",function(){return O.confirmDelete()}),e.DNE(15,pt,1,0,"azt-loading-ui",8),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()()),2&M&&(e.R7$(5),e.SpI(" ",e.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post_comment"),"\xa0 "),e.R7$(3),e.JRh(O.commentObj.content),e.R7$(4),e.SpI(" ",e.bMT(13,7,"lang_cms_common_close_btn")," "),e.R7$(3),e.Y8G("ngIf",O.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[T.bT,Ft.U,yt.R,Ot.wp],encapsulation:2}),ft})();const _t=()=>({"text-slate-500":!0}),At=()=>({"mr-2":!0}),ae=()=>({"mr-2 text-danger":!0});function Ne(R,ft){if(1&R&&(e.j41(0,"button",15),e.nrm(1,"lucide-icon",16),e.k0s()),2&R){e.XpG();const X=e.sdS(12);e.Y8G("matMenuTriggerFor",X),e.R7$(),e.Y8G("ngClass",e.lJ4(2,_t))}}function He(R,ft){if(1&R){const X=e.RV6();e.j41(0,"li")(1,"a",17),e.bIt("click",function(){e.eBV(X);const O=e.XpG();return e.Njj(O.editCommentEvent())}),e.nrm(2,"lucide-icon",18),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&R&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(4,At)),e.R7$(),e.SpI(" ",e.bMT(4,2,"lang_auto_sua")," "))}function an(R,ft){if(1&R){const X=e.RV6();e.j41(0,"li")(1,"a",19),e.bIt("click",function(){e.eBV(X);const O=e.XpG();return e.Njj(O.deleteCommentEvent())}),e.nrm(2,"lucide-icon",20),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&R&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(4,ae)),e.R7$(),e.SpI(" ",e.bMT(4,2,"lang_auto_xoa")," "))}let Ke=(()=>{var R;class ft extends i.H{editCommentEvent(){this.commentObj.isShowEditForm=!0,this.changeCommentObjEvent.emit({actionType:Dt.UPDATE,commentObj:this.commentObj})}deleteCommentEvent(){this.sAztDialogService.open(L,{width:"700px",data:{postObj:this.postObj,commentObj:this.commentObj},restoreFocus:!1}).afterClosed().subscribe(O=>{O&&this.changeCommentObjEvent.emit({actionType:Dt.DELETE,commentObj:this.commentObj})})}constructor(M){super(),this.sAztDialogService=M,this.changeCommentObjEvent=new e.bkB}}return(R=ft).\u0275fac=function(M){return new(M||R)(e.rXU(P.i))},R.\u0275cmp=e.VBU({type:R,selectors:[["app-news-view-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[e.Jv_([w.h]),e.Vt3],decls:20,vars:13,consts:[["menuBox",""],[1,"flex","mb-3","comment-body"],[1,"image-fit","mt-2"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"flex","items-center","justify-start"],[1,"box-content","px-3","py-2","ml-3"],[1,"font-medium","whitespace-nowrap"],[3,"content","maxLine","backgroundColor"],[1,"btn-show","ml-1"],["class","clickable p-1 hover:bg-slate-100 dark:hover:bg-darkmode-400","style","border-radius: 50%","data-tw-toggle","dropdown",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],[4,"ngIf"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5","ml-3"],["data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["azt-track-service","comments-post-dialog-a0fkWfZtZk",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","comments-post-dialog-_pPBuSnF37",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"]],template:function(M,O){1&M&&(e.j41(0,"div",1)(1,"div",2),e.nrm(2,"azt-create-avatar",3),e.k0s(),e.j41(3,"div")(4,"div",4)(5,"div",5)(6,"div",6),e.EFF(7),e.k0s(),e.nrm(8,"azt-see-more-multiple-lines",7),e.k0s(),e.j41(9,"div",8),e.DNE(10,Ne,2,3,"button",9),e.j41(11,"mat-menu",10,0)(13,"div",11)(14,"ul",12),e.DNE(15,He,5,5,"li",13)(16,an,5,5,"li",13),e.k0s()()()()(),e.j41(17,"div",14),e.EFF(18),e.nI1(19,"relativeTime"),e.k0s()()()),2&M&&(e.R7$(2),e.Y8G("nameCreateAvatar",null==O.commentObj.user?null:O.commentObj.user.fullName)("linkAvatar",null==O.commentObj.user?null:O.commentObj.user.avatar)("size",30),e.R7$(5),e.SpI(" ",null==O.commentObj.user?null:O.commentObj.user.fullName,"\xa0 "),e.R7$(),e.Y8G("content",O.commentObj.content)("maxLine",5)("backgroundColor","#f5f5f5"),e.R7$(2),e.Y8G("ngIf",O.commentObj.allowDelete||O.commentObj.allowEdit),e.R7$(5),e.Y8G("ngIf",O.commentObj.allowEdit),e.R7$(),e.Y8G("ngIf",O.commentObj.allowDelete),e.R7$(2),e.JRh(e.bMT(19,11,O.commentObj.createdAt)))},dependencies:[T.YU,T.bT,Mt.kk,Mt.Cp,Xt.p,Bt.R,St.WGl,Ot.wp,Ot.NA],styles:[".btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:transparent}.comment-body[_ngcontent-%COMP%]:hover   .btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgb(var(--color-slate-500)/var(--tw-text-opacity))}.box-content[_ngcontent-%COMP%]{border-radius:5px;background-color:#f5f5f5}"]}),ft})();const qe=()=>({"text-primary":!0});function _n(R,ft){1&R&&e.nrm(0,"azt-loading-ui",11)}let dn=(()=>{var R;class ft extends i.H{cancel(){this.commentObj.isShowEditForm=!1,this.changeCommentObjEvent.emit(this.commentObj)}saveNewComment(){if(this.commentContentFormControl.value.trim()){this.initStatusObj();var M={content:this.commentContentFormControl.value};this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdPut(this.postObj.id,this.commentObj.id,M).subscribe({next:O=>{this.successStatusObj(),this.commentObj.isShowEditForm=!1,this.commentObj.content=M.content,this.changeCommentObjEvent.emit(this.commentObj),this.commentContentFormControl.setValue("")},error:O=>{this.errorStatusObj(O.error.message,!0)}}))}}ngOnInit(){this.userObj=this.userService.getUserObj(),this.commentContentFormControl.setValue(this.commentObj.content)}constructor(M,O){super(),this.newsService=M,this.userService=O,this.changeCommentObjEvent=new e.bkB,this.commentContentFormControl=new ot.MJ("",{nonNullable:!0,validators:[ct.M.noWhiteSpace]})}}return(R=ft).\u0275fac=function(M){return new(M||R)(e.rXU(t.bH),e.rXU(J.R))},R.\u0275cmp=e.VBU({type:R,selectors:[["app-news-edit-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[e.Vt3],decls:16,vars:18,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","","row","5",2,"resize","none","height","30px",3,"enterKey","enableInMobile","formControl","placeholder"],[1,"flex","justify-end","p-1","absolute",2,"bottom","5px","right","5px"],[1,"flex","items-center","justify-center"],["azt-track-service","edit-comment-725iQWOtdo","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-comment-FFY36YTq2a",1,"btn","btn-outline-secondary","btn-sm",3,"click","matTooltip","disabled"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(M,O){1&M&&(e.j41(0,"div",0),e.nrm(1,"azt-create-avatar",1),e.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),e.nI1(5,"mytranslate"),e.bIt("enterKey",function(){return!(""==O.commentContentFormControl.value||O.statusObj.loading)&&O.saveNewComment()}),e.EFF(6,"            "),e.k0s()(),e.j41(7,"div",5)(8,"div",6)(9,"button",7),e.bIt("click",function(){return O.cancel()}),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"button",8),e.nI1(13,"mytranslate"),e.bIt("click",function(){return O.saveNewComment()}),e.DNE(14,_n,1,0,"azt-loading-ui",9),e.nrm(15,"lucide-icon",10),e.k0s()()()()()),2&M&&(e.R7$(),e.Y8G("nameCreateAvatar",O.userObj.fullName)("linkAvatar",O.userObj.avatar)("size",30),e.R7$(3),e.FS9("placeholder",e.bMT(5,11,"lang_core_viet_binh_luan")),e.Y8G("enableInMobile",!1)("formControl",O.commentContentFormControl),e.R7$(6),e.SpI(" ",e.bMT(11,13,"lang_cms_common_close_btn")," "),e.R7$(2),e.FS9("matTooltip",e.bMT(13,15,"lang_business_news_add_new_post_button")),e.Y8G("disabled",""==O.commentContentFormControl.value||O.statusObj.loading),e.R7$(2),e.Y8G("ngIf",O.statusObj.loading),e.R7$(),e.Y8G("ngClass",e.lJ4(17,qe)))},dependencies:[T.YU,T.bT,bt.fg,Gt.rl,x.oV,ot.me,ot.BC,ot.l_,Xt.p,st.j,qt.Z,yt.R,St.WGl,Ot.wp],encapsulation:2}),ft})();function un(R,ft){if(1&R){const X=e.RV6();e.qex(0),e.j41(1,"app-news-view-comment",6),e.bIt("changeCommentObjEvent",function(O){e.eBV(X);const rt=e.XpG(2);return e.Njj(rt.changeCommentObj(O.actionType,O.commentObj))}),e.k0s(),e.bVm()}if(2&R){const X=e.XpG().$implicit,M=e.XpG();e.R7$(),e.Y8G("postObj",M.postObj)("commentObj",X)}}function rn(R,ft){if(1&R){const X=e.RV6();e.j41(0,"div",3)(1,"app-news-edit-comment",6),e.bIt("changeCommentObjEvent",function(O){e.eBV(X);const rt=e.XpG(2);return e.Njj(rt.changeCommentObj(rt.enumNewsCommentActionType.UPDATE,O))}),e.k0s()()}if(2&R){const X=e.XpG().$implicit,M=e.XpG();e.R7$(),e.Y8G("postObj",M.postObj)("commentObj",X)}}function tn(R,ft){if(1&R&&(e.j41(0,"div"),e.DNE(1,un,2,2,"ng-container",5)(2,rn,2,2,"ng-template",null,0,e.C5r),e.k0s()),2&R){const X=ft.$implicit,M=e.sdS(3);e.R7$(),e.Y8G("ngIf",!X.isShowEditForm)("ngIfElse",M)}}function en(R,ft){1&R&&e.nrm(0,"azt-loading-ui",10)}function nn(R,ft){if(1&R){const X=e.RV6();e.j41(0,"div",7)(1,"button",8),e.bIt("click",function(){e.eBV(X);const O=e.XpG();return e.Njj(!O.sAztNextPaginationService.isLoadingNextPage&&O.getNextPage())}),e.EFF(2),e.nI1(3,"mytranslate"),e.DNE(4,en,1,0,"azt-loading-ui",9),e.k0s()()}if(2&R){const X=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,"lang_business_news_load_more_comments")," "),e.R7$(2),e.Y8G("ngIf",X.sAztNextPaginationService.isLoadingNextPage)}}let it=(()=>{var R;class ft extends i.H{changeCommentObj(M,O){M==Dt.ADD_NEW?(this.commentObjs.unshift(O),this.postObj.totalComment+=1):M==Dt.UPDATE?this.commentObjs=this.commentObjs.map(rt=>rt.id==O.id?O:rt):(this.postObj.totalComment-=1,this.commentObjs=this.commentObjs.filter(rt=>rt.id!=O.id))}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(M){M?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsGet(this.postObj.id,this.sAztNextPaginationService.curPage,this.sAztNextPaginationService.itemPerPage).subscribe({next:O=>{O.list.forEach(rt=>{this.commentObjs.push({...rt,isShowEditForm:!1,allowEdit:rt.tenantId==this.userObj.id,allowDelete:!this.isStudent||rt.tenantId==this.userObj.id})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(O.total),this.stopStatusObj()},error:O=>{this.errorStatusObj(O.error.message,!0)}}))}ngOnInit(){this.sAztNextPaginationService.setTotalItemPerPage(10),this.getData(!1)}constructor(M,O,rt){super(),this.newsService=M,this.userService=O,this.sAztNextPaginationService=rt,this.commentObjs=[],this.enumNewsCommentActionType=Dt,this.userObj=this.userService.getUserObj()}}return(R=ft).\u0275fac=function(M){return new(M||R)(e.rXU(t.bH),e.rXU(J.R),e.rXU(w.h))},R.\u0275cmp=e.VBU({type:R,selectors:[["app-news-list-comments"]],inputs:{isStudent:"isStudent",postObj:"postObj"},features:[e.Jv_([w.h]),e.Vt3],decls:4,vars:3,consts:[["showEditForm",""],[4,"ngFor","ngForOf"],["class","mb-2 font-medium",4,"ngIf"],[1,"pb-2"],[3,"changeCommentObjEvent","postObj"],[4,"ngIf","ngIfElse"],[3,"changeCommentObjEvent","postObj","commentObj"],[1,"mb-2","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"]],template:function(M,O){1&M&&(e.DNE(0,tn,4,2,"div",1)(1,nn,5,4,"div",2),e.j41(2,"div",3)(3,"app-news-add-new-comments",4),e.bIt("changeCommentObjEvent",function(Fe){return O.changeCommentObj(O.enumNewsCommentActionType.ADD_NEW,Fe)}),e.k0s()()),2&M&&(e.Y8G("ngForOf",O.commentObjs),e.R7$(),e.Y8G("ngIf",O.commentObjs.length&&O.sAztNextPaginationService.hasNextPage),e.R7$(2),e.Y8G("postObj",O.postObj))},dependencies:[T.Sq,T.bT,yt.R,tt,Ke,dn,Ot.wp],encapsulation:2}),ft})();const Ut=R=>({clickable:R}),at=(R,ft)=>({"heart-selected":R,"heart-non-selected":ft});function et(R,ft){1&R&&(e.j41(0,"div",2)(1,"span",3),e.nrm(2,"lucide-icon",4),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&R&&(e.R7$(4),e.JRh(e.bMT(5,1,"lang_student_comment_feature_disabled")))}function lt(R,ft){if(1&R){const X=e.RV6();e.j41(0,"div",5)(1,"div",6),e.nI1(2,"isParentViewOnly"),e.j41(3,"button",7),e.nI1(4,"isParentViewOnly"),e.bIt("click",function(){e.eBV(X);const O=e.XpG();return e.Njj(O.changeEmotionEvent())}),e.nrm(5,"lucide-icon",8),e.k0s(),e.j41(6,"span"),e.EFF(7),e.k0s()(),e.j41(8,"div",9),e.nI1(9,"isParentViewOnly"),e.j41(10,"button",10),e.nI1(11,"isParentViewOnly"),e.bIt("click",function(){e.eBV(X);const O=e.XpG();return e.Njj(O.showCommentObjs())}),e.nrm(12,"lucide-icon",11),e.k0s(),e.j41(13,"span"),e.EFF(14),e.k0s()()()}if(2&R){const X=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(15,Ut,!e.bMT(2,7,""))),e.R7$(2),e.Y8G("disabled",e.bMT(4,9,"")),e.R7$(2),e.Y8G("ngClass",e.l_i(17,at,X.postObj.hasLoveEmotion,!X.postObj.hasLoveEmotion)),e.R7$(2),e.JRh(X.postObj.totalEmotion),e.R7$(),e.Y8G("ngClass",e.eq3(20,Ut,!e.bMT(9,11,""))),e.R7$(2),e.Y8G("disabled",e.bMT(11,13,"")),e.R7$(4),e.JRh(X.postObj.totalComment)}}let Zt=(()=>{var R;class ft extends i.H{changeEmotionEvent(){this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion+=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj),this.waitDestroy(this.newsService.apiNewsNewsIdEmotionsPost(this.postObj.id).subscribe({next:M=>{this.successStatusObj()},error:M=>{this.errorStatusObj(M.error.message,!0),this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion-=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj)}}))}showCommentObjs(){this.postObj.isShowCommentBox=!0,this.changePostObjEvent.emit(this.postObj)}constructor(M){super(),this.newsService=M,this.changePostObjEvent=new e.bkB}}return(R=ft).\u0275fac=function(M){return new(M||R)(e.rXU(t.bH))},R.\u0275cmp=e.VBU({type:R,selectors:[["app-news-emotions"]],inputs:{postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[e.Vt3],decls:2,vars:2,consts:[["class","flex items-center justify-center pb-3 text-slate-500",4,"ngIf"],["class","flex pb-3","style","align-items: center",4,"ngIf"],[1,"flex","items-center","justify-center","pb-3","text-slate-500"],[1,"inline-block","mr-2"],["name","message-circle-off","size","18"],[1,"flex","pb-3",2,"align-items","center"],[1,"flex","mr-5",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-02_zwrttZ",1,"mr-2","zoom-in","heart-label",3,"click","disabled"],["name","heart","size","20",3,"ngClass"],["azt-track-service","emotions-Yt4v8qy-f6",1,"flex",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-lsF85jGU0",1,"mr-2","zoom-in",3,"click","disabled"],["name","message-square","size","20"]],template:function(M,O){1&M&&e.DNE(0,et,6,3,"div",0)(1,lt,15,22,"div",1),2&M&&(e.Y8G("ngIf",O.postObj.isLockComment),e.R7$(),e.Y8G("ngIf",!O.postObj.isLockComment))},dependencies:[T.YU,T.bT,St.WGl,Ot.wp,Ot.hx],styles:['@charset "UTF-8";.heart-label[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.5em;align-self:center;transition:color .2s ease-in-out;color:#aab8c2}.heart-non-selected[_ngcontent-%COMP%]{background:transparent}.heart-non-selected[_ngcontent-%COMP%]:hover{stroke:#7f6167!important}  .heart-selected svg{fill:#e2264d!important;stroke:#e2264d!important;will-change:font-size;animation:heart 1s cubic-bezier(.17,.89,.32,1.49)}']}),ft})();var pe=p(40111);function te(R,ft){if(1&R){const X=e.RV6();e.j41(0,"a",3),e.bIt("click",function(){const O=e.eBV(X).$implicit,rt=e.XpG();return e.Njj(rt.onShowFile(O))}),e.nrm(1,"img",4),e.k0s()}if(2&R){const X=ft.$implicit;e.R7$(),e.Y8G("src",X.imageLink,e.B4B)}}let Oe=(()=>{var R;class ft extends i.H{onShowFile(M){this.sAztDialogService.open(q.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:"image_post"+M.id,mimes:"image/jpeg",url:M.imageLink,index:-1}},restoreFocus:!1})}constructor(M,O){super(),this.sAztDialogService=M,this.sAztFileTypeService=O,this.images=[]}}return(R=ft).\u0275fac=function(M){return new(M||R)(e.rXU(P.i),e.rXU(pe.k))},R.\u0275cmp=e.VBU({type:R,selectors:[["app-list-images-post"]],inputs:{images:"images"},features:[e.Vt3],decls:3,vars:1,consts:[[1,"outerContainer"],[1,"containerw3","containerw3-margin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(M,O){1&M&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,te,2,1,"a",2),e.k0s()()),2&M&&(e.R7$(2),e.Y8G("ngForOf",O.images))},dependencies:[T.Sq],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:arial}.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:300px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:300px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}@media (max-width: 767px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:150px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:150px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:150px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}@media (max-width: 400px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:100px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:100px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}']}),ft})();const de=()=>({"text-slate-500":!0}),ve=()=>({"mr-2":!0});function re(R,ft){if(1&R&&e.eu8(0,15),2&R){e.XpG();const X=e.sdS(17);e.Y8G("ngTemplateOutlet",X)}}function Ie(R,ft){if(1&R&&(e.j41(0,"div"),e.nrm(1,"hr",12)(2,"app-news-list-comments",16),e.k0s()),2&R){const X=e.XpG();e.R7$(2),e.Y8G("isStudent",X.isStudent)("postObj",X.postObj)}}function Ge(R,ft){if(1&R){const X=e.RV6();e.j41(0,"div",17)(1,"button",18),e.nrm(2,"lucide-icon",19),e.k0s(),e.j41(3,"mat-menu",20,1)(5,"div",21)(6,"ul",22)(7,"li")(8,"a",23),e.bIt("click",function(){e.eBV(X);const O=e.XpG();return e.Njj(O.editPostEvent())}),e.nrm(9,"lucide-icon",24),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()(),e.j41(12,"li")(13,"a",25),e.bIt("click",function(){e.eBV(X);const O=e.XpG();return e.Njj(O.deletePostEvent())}),e.nrm(14,"lucide-icon",26),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()(),e.j41(17,"li")(18,"label",27),e.bIt("click",function(O){return e.eBV(X),e.Njj(O.stopPropagation())}),e.j41(19,"div",28),e.nrm(20,"lucide-icon",29),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s(),e.j41(23,"div",30)(24,"input",31),e.bIt("change",function(){e.eBV(X);const O=e.XpG();return e.Njj(O.changeLockCommentStatus())}),e.k0s()()()()()()()()}if(2&R){const X=e.sdS(4),M=e.XpG();e.R7$(),e.Y8G("matMenuTriggerFor",X),e.R7$(),e.Y8G("ngClass",e.lJ4(15,de)),e.R7$(7),e.Y8G("ngClass",e.lJ4(16,ve)),e.R7$(),e.SpI(" ",e.bMT(11,9,"lang_auto_sua")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(17,ve)),e.R7$(),e.SpI(" ",e.bMT(16,11,"lang_auto_xoa")," "),e.R7$(5),e.Y8G("ngClass",e.lJ4(18,ve)),e.R7$(),e.SpI(" ",e.bMT(22,13,"lang_student_comment_lock")," "),e.R7$(3),e.Y8G("formControl",M.isLockComment)}}let Be=(()=>{var R;class ft extends i.H{editPostEvent(){this.postObj.isShowEditForm=!0,this.changePostObjEvent.emit({actionType:n.UPDATE,postObj:this.postObj})}deletePostEvent(){this.sAztDialogService.open(le,{width:"700px",data:this.postObj,restoreFocus:!1}).afterClosed().subscribe(O=>{O&&this.changePostObjEvent.emit({actionType:n.DELETE,postObj:this.postObj})})}changeLockCommentStatus(){const M=this.isLockComment.value;this.waitDestroy((M?this.newsService.apiNewsIdLockCommentsPut:this.newsService.apiNewsIdUnlockCommentsPut).call(this.newsService,this.postObj.id).subscribe({next:()=>{const rt=M?"lang_student_comment_lock":"lang_student_unlock_comments";this.postObj.isLockComment=M?1:0,this.changePostObjEvent.emit({actionType:n.UPDATE,postObj:this.postObj}),this.showSuccessSnack(rt)},error:rt=>{this.errorStatusObj(rt.error.message,!0)}}))}changeEmotionEventEvent(M){this.postObj=M,this.changePostObjEvent.emit({actionType:n.UPDATE,postObj:this.postObj})}ngOnInit(){super.ngOnInit(),this.isLockComment.setValue(!!this.postObj.isLockComment)}constructor(M,O){super(),this.sAztDialogService=M,this.newsService=O,this.changePostObjEvent=new e.bkB,this.isLockComment=new ot.MJ(!1)}}return(R=ft).\u0275fac=function(M){return new(M||R)(e.rXU(P.i),e.rXU(t.bH))},R.\u0275cmp=e.VBU({type:R,selectors:[["app-news-view-post"]],inputs:{postObj:"postObj",isStudent:"isStudent"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[e.Vt3],decls:18,vars:13,consts:[["newsEditOrDeleteNews",""],["menuBox",""],[1,"flex","items-center","mb-3"],[1,"w-9","h-9","image-fit"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3"],[1,"font-medium","whitespace-nowrap"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"pb-3"],[3,"content","maxLine"],[3,"images"],[1,"mb-3"],[1,"mb-3",3,"changePostObjEvent","postObj"],[4,"ngIf"],[3,"ngTemplateOutlet"],[1,"mb-3",3,"isStudent","postObj"],[1,"ml-auto"],["data-tw-toggle","dropdown",1,"absolute","clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"top","10px","right","10px","border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["xPosition","after"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","news-board-5U9HMbLBxY",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","news-board-35uylGIW_W",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"],["azt-track-service","view-post-HeRBfG3bI","for","commentLock",1,"dropdown-item","cursor-pointer",3,"click"],[1,"flex","items-center"],["name","lock","size","18",3,"ngClass"],[1,"form-check","form-switch","ml-auto"],["id","commentLock","type","checkbox",1,"form-check-input","ml-2",3,"change","formControl"]],template:function(M,O){if(1&M){const rt=e.RV6();e.j41(0,"div",2)(1,"div",3),e.nrm(2,"azt-create-avatar",4),e.k0s(),e.j41(3,"div",5)(4,"a",6),e.EFF(5),e.k0s(),e.j41(6,"div",7),e.EFF(7),e.nI1(8,"relativeTime"),e.k0s()()(),e.DNE(9,re,1,1,"ng-container",8),e.j41(10,"div",9),e.nrm(11,"azt-see-more-multiple-lines",10),e.k0s(),e.nrm(12,"app-list-images-post",11)(13,"hr",12),e.j41(14,"app-news-emotions",13),e.bIt("changePostObjEvent",function(ee){return e.eBV(rt),e.Njj(O.changeEmotionEventEvent(ee))}),e.k0s(),e.DNE(15,Ie,3,2,"div",14)(16,Ge,25,19,"ng-template",null,0,e.C5r)}if(2&M){let rt;e.R7$(2),e.Y8G("nameCreateAvatar",null==O.postObj.user?null:O.postObj.user.fullName)("linkAvatar",null==O.postObj.user?null:O.postObj.user.avatar)("size",36),e.R7$(3),e.SpI("",null==O.postObj.user?null:O.postObj.user.fullName,"\xa0"),e.R7$(2),e.JRh(e.bMT(8,11,O.postObj.createdAt)),e.R7$(2),e.Y8G("ngIf",!O.isStudent),e.R7$(2),e.Y8G("content",O.postObj.content)("maxLine",0==(null!==(rt=null==O.postObj.images?null:O.postObj.images.length)&&void 0!==rt?rt:0)?O.postObj.content.length:10),e.R7$(),e.Y8G("images",O.postObj.images),e.R7$(2),e.Y8G("postObj",O.postObj),e.R7$(),e.Y8G("ngIf",O.postObj.isShowCommentBox)}},dependencies:[T.YU,T.bT,T.T3,Mt.kk,Mt.Cp,ot.Zm,ot.BC,ot.l_,Xt.p,Bt.R,St.WGl,it,Zt,Oe,Ot.wp,Ot.NA],encapsulation:2}),ft})();const Ye=R=>[R],fn=()=>({"zoom-in":!0});function $e(R,ft){if(1&R){const X=e.RV6();e.j41(0,"app-new-list-images",13),e.mxI("filesChange",function(O){e.eBV(X);const rt=e.XpG();return e.DH7(rt.files,O)||(rt.files=O),e.Njj(O)}),e.k0s()}if(2&R){const X=e.XpG();e.R50("files",X.files)}}function B(R,ft){1&R&&e.nrm(0,"azt-loading-ui",14)}let Et=(()=>{var R;class ft extends i.H{cancel(){this.postObj.isShowEditForm=!1,this.changePostObjEvent.emit(this.postObj)}saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();let M={content:this.contentFormControl.value??"",classroomId:this.postObj.id,imageLinks:this.files.map(O=>O.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsIdPut(this.postObj.id,M).subscribe({next:O=>{this.successStatusObj("lang_cms_update_success",!0);let rt=[];this.files.forEach(Fe=>{rt.push({id:0,newsId:this.postObj?.id??0,imageLink:Fe.url??"",createdAt:void 0})}),this.postObj.isShowEditForm=!1,this.postObj.content=M.content,this.postObj.images=rt,this.changePostObjEvent.emit(this.postObj),this.contentFormControl.setValue(""),this.files=[]},error:O=>{this.errorStatusObj(O.error.message,!0)}}))}}handleUploadComplete(M){this.files.push(...M)}ngOnInit(){this.userObj=this.userService.getUserObj(),this.contentFormControl.setValue(this.postObj.content),(this.postObj.images??[]).forEach(M=>{this.files.push({name:"",mimes:"image/jpeg",url:M.imageLink})})}constructor(M,O){super(),this.newsService=M,this.userService=O,this.changePostObjEvent=new e.bkB,this.contentFormControl=new ot.MJ("",{nonNullable:!0,validators:[ct.M.noWhiteSpace]}),this.files=[],this.allUploadToCdnMenuTypes=Nt.b8,this.allUploadFileTypes=Nt.PO}}return(R=ft).\u0275fac=function(M){return new(M||R)(e.rXU(t.bH),e.rXU(J.R))},R.\u0275cmp=e.VBU({type:R,selectors:[["app-news-edit-post"]],inputs:{classroomId:"classroomId",postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[e.Vt3],decls:21,vars:25,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"relative","w-full","ml-3",2,"border-radius","5px"],["matInput","","autoResize","","row","5",1,"border-none",2,"resize","none","height","85px",3,"formControl","placeholder"],[3,"files","filesChange",4,"ngIf"],[1,"text-right","pt-1","pb-1"],[1,"flex","items-center","justify-end","sm:w-auto"],[3,"uploadComplete","uploadToCdnMenu","fileType"],[1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","edit-post-3W8T83tTj_","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-post-NaJeb-mmLZ","type","button",1,"btn","btn-primary","btn-sm",3,"click","disabled"],["class","mr-1",4,"ngIf"],[3,"filesChange","files"],[1,"mr-1"]],template:function(M,O){1&M&&(e.j41(0,"div")(1,"div",0),e.nrm(2,"azt-create-avatar",1),e.j41(3,"div",2)(4,"textarea",3),e.nI1(5,"mytranslate"),e.EFF(6,"            "),e.k0s()()(),e.DNE(7,$e,1,1,"app-new-list-images",4),e.j41(8,"div",5)(9,"div",6)(10,"azt-upload-multiple-box",7),e.bIt("uploadComplete",function(Fe){return O.handleUploadComplete(Fe)}),e.j41(11,"span",8),e.nrm(12,"lucide-icon",9),e.nI1(13,"mytranslate"),e.k0s()(),e.j41(14,"button",10),e.bIt("click",function(){return O.cancel()}),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s(),e.j41(17,"button",11),e.bIt("click",function(){return O.saveNewPost()}),e.DNE(18,B,1,0,"azt-loading-ui",12),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()()()()),2&M&&(e.R7$(2),e.Y8G("nameCreateAvatar",O.userObj.fullName)("linkAvatar",O.userObj.avatar)("size",36),e.R7$(2),e.FS9("placeholder",e.bMT(5,14,"lang_business_news_post_content")),e.Y8G("formControl",O.contentFormControl),e.R7$(3),e.Y8G("ngIf",O.files.length),e.R7$(3),e.Y8G("uploadToCdnMenu",O.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",e.eq3(22,Ye,O.allUploadFileTypes.IMAGE)),e.R7$(2),e.FS9("matTooltip",e.bMT(13,16,"lang_core_tai_anh")),e.Y8G("ngClass",e.lJ4(24,fn)),e.R7$(3),e.SpI(" ",e.bMT(16,18,"lang_cms_common_close_btn")," "),e.R7$(2),e.Y8G("disabled",""==O.contentFormControl.value||O.statusObj.loading),e.R7$(),e.Y8G("ngIf",O.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(20,20,"lang_business_news_update_post_button")," "))},dependencies:[T.YU,T.bT,bt.fg,x.oV,ot.me,ot.BC,ot.l_,Xt.p,st.j,yt.R,Ct.V,St.WGl,gt,Ot.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0}"]}),ft})();function A(R,ft){if(1&R){const X=e.RV6();e.j41(0,"div",12)(1,"app-news-add-new-post",13),e.bIt("changePostObjEvent",function(O){e.eBV(X);const rt=e.XpG();return e.Njj(rt.changePostObj(rt.enumNewsPostActionType.ADD_NEW,O))}),e.k0s()()}if(2&R){const X=e.XpG();e.R7$(),e.Y8G("classroomId",X.classroomId)("isSchool",X.isSchoolControl.getRawValue())}}function U(R,ft){if(1&R&&(e.j41(0,"div",14),e.nrm(1,"azt-loading-effect",15),e.k0s()),2&R){const X=e.XpG();e.R7$(),e.Y8G("currentStatusObj",X.statusObj)}}function V(R,ft){if(1&R){const X=e.RV6();e.qex(0),e.j41(1,"app-news-view-post",19),e.bIt("changePostObjEvent",function(O){e.eBV(X);const rt=e.XpG(3);return e.Njj(rt.changePostObj(O.actionType,O.postObj))}),e.k0s(),e.bVm()}if(2&R){const X=e.XpG().$implicit,M=e.XpG(2);e.R7$(),e.Y8G("isStudent",M.isStudent)("postObj",X)}}function K(R,ft){if(1&R){const X=e.RV6();e.j41(0,"app-news-edit-post",20),e.bIt("changePostObjEvent",function(O){e.eBV(X);const rt=e.XpG(3);return e.Njj(rt.changePostObj(rt.enumNewsPostActionType.UPDATE,O))}),e.k0s()}if(2&R){const X=e.XpG().$implicit,M=e.XpG(2);e.Y8G("postObj",X)("classroomId",M.classroomId)}}function Yt(R,ft){if(1&R&&(e.j41(0,"div",17),e.DNE(1,V,2,2,"ng-container",18)(2,K,1,2,"ng-template",null,1,e.C5r),e.k0s()),2&R){const X=ft.$implicit,M=e.sdS(3);e.R7$(),e.Y8G("ngIf",!X.isShowEditForm)("ngIfElse",M)}}function he(R,ft){1&R&&(e.j41(0,"div",12)(1,"div",21)(2,"div",22),e.nrm(3,"azt-svg-icon",23),e.j41(4,"p",24),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()()()()),2&R&&(e.R7$(3),e.Y8G("size",87),e.R7$(2),e.JRh(e.bMT(6,2,"lang_student_news_there_is_no_news")+"!"))}function me(R,ft){1&R&&e.nrm(0,"azt-loading-ui")}function ze(R,ft){if(1&R){const X=e.RV6();e.j41(0,"button",26),e.nI1(1,"mytranslate"),e.bIt("click",function(){e.eBV(X);const O=e.XpG(3);return e.Njj(O.getNextPage())}),e.nrm(2,"lucide-icon",27),e.k0s()}2&R&&e.FS9("matTooltip",e.bMT(1,1,"lang_auto_hien_ban_ghi_cu_hon"))}function Pe(R,ft){if(1&R&&(e.j41(0,"div",12)(1,"div",25),e.DNE(2,me,1,0,"azt-loading-ui",18)(3,ze,3,3,"ng-template",null,2,e.C5r),e.k0s()()),2&R){const X=e.sdS(4),M=e.XpG(2);e.R7$(2),e.Y8G("ngIf",M.sAztNextPaginationService.isLoadingNextPage)("ngIfElse",X)}}function pn(R,ft){if(1&R&&e.DNE(0,Yt,4,2,"div",16)(1,he,7,4,"div",10)(2,Pe,5,2,"div",10),2&R){const X=e.XpG();e.Y8G("ngForOf",X.postObjs),e.R7$(),e.Y8G("ngIf",X.postObjs.length<=0),e.R7$(),e.Y8G("ngIf",X.postObjs.length&&X.sAztNextPaginationService.hasNextPage)}}let Qe=(()=>{var R;class ft extends i.H{selectedViewNewsSchool(M){let O=(this.isStudent?"/student/classroom-details/":"/admin/student/classroom-details/")+this.classroomId+"/2";M?(this.isSchoolControl.setValue(1),this.commonService.myNavigationWithQueryString(O,"?type=1")):(this.isSchoolControl.setValue(0),this.commonService.myNavigationWithQueryString(O,"?type=0")),this.postObjs=[],this.getData(!1)}changePostObj(M,O){switch(M){case n.ADD_NEW:this.postObjs.unshift(O);break;case n.UPDATE:this.postObjs=this.postObjs.map(rt=>rt.id==O.id?O:rt);break;case n.DELETE:this.postObjs=this.postObjs.filter(rt=>rt.id!=O.id)}}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(M){var O={size:this.sAztNextPaginationService.itemPerPage,page:this.sAztNextPaginationService.curPage,classroomId:this.classroomId,student:this.isStudent,isSchool:this.isSchoolControl.getRawValue()};M?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsListPost(O).subscribe({next:rt=>{let Fe={page:1,size:-1,newsIds:rt.list.map(ee=>ee.id).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsEmotionsListPost(Fe).subscribe({next:ee=>{let Ee=this.commonService.arrayToUniqueDictionary(ee.list??[],nt=>nt.newsId.toString());rt.list.forEach(nt=>{this.postObjs.push({...nt,hasLoveEmotion:Ee.hasOwnProperty(nt.id),isShowEditForm:!1,isShowCommentBox:!1})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(rt.total),this.stopStatusObj()},error:ee=>{this.errorStatusObj(ee.error.message,!0)}}))},error:rt=>{this.errorStatusObj(rt.error.message,!0)}}))}getDataFirstTime(){this.postObjs=[],this.sAztNextPaginationService.resetToFirstPage(),this.getData(!1)}ngOnChanges(){"1"==this.getMyQueryParam("type")&&this.isSchoolControl.setValue(1),this.getDataFirstTime()}ngOnInit(){super.ngOnInit()}constructor(M,O){super(),this.newsService=M,this.sAztNextPaginationService=O,this.isSchoolControl=new ot.MJ(0,{nonNullable:!0}),this.postObjs=[],this.enumNewsPostActionType=n}}return(R=ft).\u0275fac=function(M){return new(M||R)(e.rXU(t.bH),e.rXU(w.h))},R.\u0275cmp=e.VBU({type:R,selectors:[["app-news-board"]],inputs:{isStudent:"isStudent",classroomId:"classroomId"},features:[e.Jv_([w.h]),e.Vt3,e.OA$],decls:19,vars:16,consts:[["doneLoading",""],["showEditForm",""],["doneLoadNextPage",""],[1,"grid","grid-cols-12"],[1,"col-span-12","font-medium","flex","items-center","mb-3"],[1,"flex","ml-5","items-center"],["azt-track-service","posts-x27NMu5qsN","id","classroom","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"click","value","formControl"],["for","classroom",1,"pl-2","form-check-label"],["azt-track-service","posts-KOM2BXgAQ","id","school","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"click","value","formControl"],["for","school",1,"pl-2","form-check-label"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start mb-3",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","mb-3"],[3,"changePostObjEvent","classroomId","isSchool"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start box p-3 mb-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","box","p-3","mb-3"],[4,"ngIf","ngIfElse"],[3,"changePostObjEvent","isStudent","postObj"],[3,"changePostObjEvent","postObj","classroomId"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","file-empty",3,"size"],[1,"font-medium","mt-5"],[1,"flex","justify-center"],["azt-track-service","trash-homework-tab-C69nk6waYbG",1,"btn","btn-transparent",3,"click","matTooltip"],["name","chevron-down","size","20"]],template:function(M,O){if(1&M){const rt=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"p"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",5)(6,"input",6),e.bIt("click",function(){return e.eBV(rt),e.Njj(O.selectedViewNewsSchool(!1))}),e.k0s(),e.j41(7,"label",7),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()(),e.j41(10,"div",5)(11,"input",8),e.bIt("click",function(){return e.eBV(rt),e.Njj(O.selectedViewNewsSchool(!0))}),e.k0s(),e.j41(12,"label",9),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()()(),e.DNE(15,A,2,2,"div",10)(16,U,2,1,"div",11)(17,pn,3,3,"ng-template",null,0,e.C5r),e.k0s()}if(2&M){const rt=e.sdS(18);e.R7$(3),e.JRh(e.bMT(4,10,"lang_azt_hien_ban_tin_theo")),e.R7$(3),e.Y8G("value",0)("formControl",O.isSchoolControl),e.R7$(2),e.JRh(e.bMT(9,12,"lang_auto_lop_hoc")),e.R7$(3),e.Y8G("value",1)("formControl",O.isSchoolControl),e.R7$(2),e.JRh(e.bMT(14,14,"lang_azt_truong_hoc")),e.R7$(2),e.Y8G("ngIf",!O.isStudent),e.R7$(),e.Y8G("ngIf",O.statusObj.loading)("ngIfElse",rt)}},dependencies:[T.Sq,T.bT,x.oV,ot.me,ot.Fm,ot.BC,ot.l_,o.K,yt.R,zt.m,St.WGl,It,Be,Et,Ot.wp],encapsulation:2}),ft})()},44658:(Me,Kt,p)=>{p.d(Kt,{e:()=>Ct});var w=p(10936),i=p(33887),n=p(38009),ot=p(80037),e=p(48891),t=p(21213),T=p(3780),x=p(54460),o=p(89163);function yt(q,P){1&q&&(e.j41(0,"div",12)(1,"span",13),e.nrm(2,"azt-loading-ui"),e.k0s()())}function zt(q,P){if(1&q&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&q){const Z=e.XpG(2);e.R7$(),e.JRh(" ("+Z.dataUpgradeClass.length+" "+e.bMT(2,1,"lang_testbank_test_list_classes")+")")}}function St(q,P){1&q&&(e.j41(0,"div",26),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&q&&(e.R7$(),e.SpI("",e.bMT(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_class_click_choose"),"."))}function ct(q,P){if(1&q){const Z=e.RV6();e.j41(0,"input",36),e.nI1(1,"mytranslate"),e.bIt("keyup",function(){e.eBV(Z);const gt=e.XpG().index,Ot=e.XpG(2);return e.Njj(Ot.validateInput(gt))}),e.k0s()}if(2&q){const Z=e.XpG(),z=Z.$implicit;e.Mz_("id","input-event-",Z.index,""),e.FS9("value",z.nameClass),e.FS9("placeholder",e.bMT(1,4,"lang_auto_nhap_ten_lop"))}}function Nt(q,P){if(1&q){const Z=e.RV6();e.j41(0,"textarea",37),e.nI1(1,"mytranslate"),e.bIt("keyup",function(){e.eBV(Z);const gt=e.XpG().index,Ot=e.XpG(2);return e.Njj(Ot.validateInput(gt))}),e.k0s()}if(2&q){const Z=e.XpG(),z=Z.$implicit;e.Mz_("id","input-event-",Z.index,""),e.FS9("value",z.nameClass),e.FS9("placeholder",e.bMT(1,4,"lang_auto_nhap_ten_lop"))}}function J(q,P){if(1&q){const Z=e.RV6();e.j41(0,"div",27)(1,"div",28)(2,"div",29),e.DNE(3,ct,2,6,"input",30)(4,Nt,2,6,"textarea",31),e.k0s(),e.j41(5,"div",32)(6,"button",33),e.bIt("click",function(){const gt=e.eBV(Z).$implicit,Ot=e.XpG(2);return e.Njj(Ot.clearInput(gt.id))}),e.nrm(7,"lucide-icon",34),e.k0s()()(),e.j41(8,"div",35,1),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()()}if(2&q){const Z=P.index,z=e.XpG(2);e.R7$(3),e.Y8G("ngIf",0==z.isMobile),e.R7$(),e.Y8G("ngIf",1==z.isMobile),e.R7$(4),e.Mz_("id","logerror",Z,""),e.R7$(2),e.SpI(" ",e.bMT(11,5,"lang_student_classroom_list_utils_create_class_new_course_choose_class_dont_class_null"),". ")}}function bt(q,P){if(1&q){const Z=e.RV6();e.j41(0,"form",14)(1,"div",15)(2,"div",16)(3,"azt-list-classroom-checkbox",17),e.bIt("changeCheckboxEvent",function(){e.eBV(Z);const gt=e.XpG();return e.Njj(gt.changeCheckboxEvent())})("createdNewClassroom",function(){e.eBV(Z);const gt=e.XpG();return e.Njj(gt.isCreatedNewClassroom=!0)}),e.k0s()(),e.j41(4,"div",18)(5,"div",19),e.EFF(6),e.nI1(7,"mytranslate"),e.DNE(8,zt,3,3,"span",20),e.k0s(),e.j41(9,"div",21)(10,"ng-scrollbar",22),e.DNE(11,St,3,3,"div",23),e.j41(12,"div",24),e.DNE(13,J,12,7,"div",25),e.k0s()()()()()()}if(2&q){const Z=e.XpG();e.Y8G("formGroup",Z.form),e.R7$(3),e.Y8G("form",Z.form)("classroomGroupData",Z.classroomWithGroup)("permissionName",Z.permissionTypes.classroom)("defaultCssClass","classroom-box-in-dialog"),e.R7$(3),e.SpI(" ",e.bMT(7,11,"lang_student_classroom_list_utils_create_class_new_course_choose_class_respective_class")," "),e.R7$(2),e.Y8G("ngIf",Z.dataUpgradeClass.length),e.R7$(2),e.Y8G("visibility","hover")("autoHeightDisabled",!0),e.R7$(),e.Y8G("ngIf",0==Z.dataUpgradeClass.length),e.R7$(2),e.Y8G("ngForOf",Z.dataUpgradeClass)}}function st(q,P){1&q&&e.nrm(0,"azt-loading-ui",38)}let Ct=(()=>{var q;class P extends i._{closeDialog(){this.dialogRef.close(this.isCreatedNewClassroom??!1)}validateInput(z){let gt=document.getElementById("input-event-"+z),Ot=gt?gt.value:"";if(""==Ot){let $t=document.getElementById("logerror"+z);$t&&($t.style.display="block")}if(""!=Ot){let $t=document.getElementById("logerror"+z);$t&&($t.style.display="none")}}handleUpgrade(){if(0!=this.dataUpgradeClass.length){let z=!0;this.sendDataUpgradeClass=[];for(let gt=0;gt<this.dataUpgradeClass.length;gt++){let Ot=document.getElementById("input-event-"+gt),$t=Ot?Ot.value:"";""==$t&&(z=!1),this.validateInput(gt),this.sendDataUpgradeClass.push({oldId:this.dataUpgradeClass[gt].id,newName:$t,year:this.increaseYear(this.dataUpgradeClass[gt].year)})}1==z&&this.upgradeClassroomGroup()}else this.viewErrorSelected=!1}increaseYear(z){if(null!=z||null!=z){let gt=z.split(" ")[0],Ot=parseInt(gt,10)+1;return Ot+" - "+(Ot+1)}}changeCheckboxEvent(){const z=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray),gt=z.concat(this.dataUpgradeClass.map($t=>$t.id??0));let Ot=gt.filter($t=>gt.indexOf($t)===gt.lastIndexOf($t));z.length>this.dataUpgradeClass.length?this.dataUpgradeClass=this.dataUpgradeClass.concat(this.classroomObjs.filter($t=>Ot.includes($t.id??0)).map($t=>{let It,Rt=$t.name,fe=$t.year,be=Rt?.match(/\d+/g);if(null==be)It=Rt;else{let Qt=parseInt(be[0].toString(),10)+1;It=Rt?.replace(be[0],Qt.toString())}return{id:$t.id,nameClass:It,year:fe}})):Ot.forEach($t=>{this.dataUpgradeClass.splice(this.dataUpgradeClass.findIndex(Rt=>Rt.id===$t),1)})}clearInput(z){setTimeout(()=>{document.getElementById("azt-checkbox-item-"+z)?.click()},0)}upgradeClassroomGroup(){this.initStatusObj();for(var z=[],gt=0;gt<this.sendDataUpgradeClass.length;gt++)z.push({oldId:this.sendDataUpgradeClass[gt].oldId??0,newName:this.sendDataUpgradeClass[gt].newName??"",year:this.sendDataUpgradeClass[gt].year??""});this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpgradeClassroomPost(z).subscribe(Ot=>{1==Ot.success?(Ot.data?.isDuplicatedClassroomName?this.errorStatusObj(Ot.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(this.isCreatedNewClassroom),this.errorStatusObj("lang_auto_tao_lop_cho_khoa_moi_khong_thanh_cong",!0))}))}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(z=>{z.success?(this.classroomWithGroup=z.data?.activeClassroomData??[],this.classroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroup.map(gt=>gt.classroomObjs)),this.successStatusObj()):this.errorStatusObj(z.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getClassroomObjs(),super.ngOnInit()}constructor(z,gt,Ot,$t){super(void 0,$t),this.classroomGroupService=z,this.sAztClassroomCheckboxService=gt,this.location=Ot,this.dialogRef=$t,this.classroomObjs=[],this.dataUpgradeClass=[],this.sendDataUpgradeClass=[],this.selectedAll=!1,this.viewErrorSelected=!0,this.isCreatedNewClassroom=!1,this.isMobile=this.commonService.isMobileOrTable(),this.permissionTypes=n.t,this.classroomWithGroup=[],this.form=new w.gE({classroomFormArray:new w.Yp([]),whoAllow:new w.MJ(0,{nonNullable:!0})},{validators:[ot.j.classroomInGroupCheckBoxValidatorWithoutWhoAllow]})}}return(q=P).\u0275fac=function(z){return new(z||q)(e.rXU(t.kG),e.rXU(T.Q),e.rXU(x.aZ),e.rXU(o.CP,8))},q.\u0275cmp=e.VBU({type:q,selectors:[["app-create-class-new-course"]],features:[e.Vt3],decls:20,vars:16,consts:[["doneLoading",""],["ab",""],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"font-medium","text-base"],[1,"leading-relaxed","text-slate-500","text-xs"],["class","flex items-center h-full",4,"ngIf","ngIfElse"],[1,"p-3","flex","justify-end"],["azt-track-service","create-classroom-new-course-dialog-k_ZG3G-AAS",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","create-classroom-new-course-dialog-OvOUaKHkJOv",1,"btn","w-24","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"flex","items-center","h-full"],[1,"w-6","h-6","inline-block","mx-auto"],[3,"formGroup"],[1,"p-3","pt-0"],[1,"azt-list-classroom"],[3,"changeCheckboxEvent","createdNewClassroom","form","classroomGroupData","permissionName","defaultCssClass"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3","font-medium"],[4,"ngIf"],[2,"height","150px"],["track","vertical","pointerEventsMethod","scrollbar",1,"w-full",3,"visibility","autoHeightDisabled"],["style","height: 130px","class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-2","p-2"],["class","col-span-12 md:col-span-6 2xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center",2,"height","130px"],[1,"col-span-12","md:col-span-6","2xl:col-span-4"],[1,"flex","items-center","p-1","rounded"],[1,"col-span-10",2,"width","100%"],["class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],["rows","2","wrap","soft","class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],[1,"col-span-2","m-0","p-1","text-center"],["azt-track-service","create-classroom-new-course-dialog-NjCJ7r_T8U",1,"btn","btn-sm","btn-secondary","text-danger",3,"click"],["name","x","size","20"],[1,"alert","alert-danger","mt-1",2,"margin","auto","padding","5px 10px","display","none",3,"id"],["type","text",1,"form-control",3,"keyup","id","value","placeholder"],["rows","2","wrap","soft","type","text",1,"form-control",3,"keyup","id","value","placeholder"],[1,"mr-1"]],template:function(z,gt){if(1&z){const Ot=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3",5),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"div",6),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,yt,3,0,"div",7)(10,bt,14,13,"ng-template",null,0,e.C5r),e.k0s(),e.j41(12,"div",8)(13,"button",9),e.bIt("click",function(){return e.eBV(Ot),e.Njj(gt.closeDialog())}),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"button",10),e.bIt("click",function(){return e.eBV(Ot),e.Njj(gt.handleUpgrade())}),e.DNE(17,st,1,0,"azt-loading-ui",11),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s()()()}if(2&z){const Ot=e.sdS(11);e.R7$(4),e.SpI(" ",e.bMT(5,8,"lang_student_classroom_list_create_class_new_cousre")," "),e.R7$(3),e.JRh(e.bMT(8,10,"lang_student_classroom_list_utils_create_class_new_course_conten_review")),e.R7$(2),e.Y8G("ngIf",gt.statusObj.loading)("ngIfElse",Ot),e.R7$(5),e.SpI(" ",e.bMT(15,12,"lang_button_cancel")," "),e.R7$(2),e.Y8G("disabled",gt.form.invalid),e.R7$(),e.Y8G("ngIf",gt.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(19,14,"lang_button_save")," ")}},encapsulation:2}),P})()},62484:(Me,Kt,p)=>{p.d(Kt,{I:()=>el});var w=p(65162),i=p(1133),n=p(50866),ot=p(76627),e=p(59640),t=p(48891),T=p(46134),x=p(54460),o=p(96451),yt=p(15343),zt=p(66067),St=p(26988),ct=p(27208),Nt=p(9280),J=p(17818),bt=p(18718),st=p(52811),Ct=p(32099),q=p(94743),P=p(47712),Z=p(69135),z=p(76975);const gt=r=>({"mt-3":r}),Ot=r=>({"w-2/3":r}),$t=r=>({truncate:r});function Rt(r,f){1&r&&(t.nrm(0,"lucide-icon",11),t.nI1(1,"mytranslate")),2&r&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_published"))}function fe(r,f){1&r&&(t.nrm(0,"lucide-icon",12),t.nI1(1,"mytranslate")),2&r&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_Unpublished"))}function be(r,f){if(1&r&&(t.j41(0,"div")(1,"div",8),t.DNE(2,Rt,2,3,"lucide-icon",9)(3,fe,2,3,"lucide-icon",10),t.k0s()()),2&r){const c=t.XpG();t.R7$(2),t.Y8G("ngIf",1==c.document.homework.isPublished),t.R7$(),t.Y8G("ngIf",1!=c.document.homework.isPublished)}}function It(r,f){1&r&&(t.nrm(0,"lucide-icon",15),t.nI1(1,"mytranslate")),2&r&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_published"))}function Qt(r,f){1&r&&(t.nrm(0,"lucide-icon",12),t.nI1(1,"mytranslate")),2&r&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_Unpublished"))}function Pt(r,f){if(1&r&&(t.j41(0,"div",13),t.DNE(1,It,2,3,"lucide-icon",14)(2,Qt,2,3,"lucide-icon",10),t.k0s()),2&r){const c=t.XpG();t.R7$(),t.Y8G("ngIf",1==(null==c.document.exam?null:c.document.exam.isPublished)),t.R7$(),t.Y8G("ngIf",1!=(null==c.document.exam?null:c.document.exam.isPublished))}}function Ft(r,f){if(1&r&&(t.j41(0,"div",16)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r){const c=t.XpG();t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_luot_lam")+": "+c.document.exam.attended)}}function Wt(r,f){if(1&r&&(t.j41(0,"div",16)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r){const c=t.XpG();t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_da_nop")+": "+c.document.homework.count+"/"+c.document.homework.totalStudent)}}let le=(()=>{var r;class f extends e.H{}return(r=f).\u0275fac=(()=>{let c;return function(l){return(c||(c=t.xGo(r)))(l||r)}})(),r.\u0275cmp=t.VBU({type:r,selectors:[["exam-exercises-block"]],inputs:{document:"document",index:"index"},features:[t.Vt3],decls:11,vars:17,consts:[["ExamIcon",""],["c","isDisabled"],[1,"flex","items-center","cursor-pointer","hover:bg-slate-100","rounded-md","p-2",2,"text-align","left","border","none","box-shadow","none",3,"ngClass"],[1,"flex-none","image-fit","rounded-md","overflow-hidden"],[4,"ngIf","ngIfElse"],[1,"ml-4","mr-auto",3,"ngClass"],[1,"font-medium",3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"],["class","text-slate-500 text-xs mt-0.5 font-medium",4,"ngIf"],[1,"text-primary"],["name","file-text","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-text","size","48","matTooltipShowDelay","1000",3,"matTooltip"],["name","file","size","48","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-pending"],["name","file-check","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-check","size","48","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5","font-medium"]],template:function(m,l){if(1&m&&(t.j41(0,"div",2)(1,"div",3),t.DNE(2,be,4,2,"div",4)(3,Pt,3,2,"ng-template",null,0,t.C5r),t.k0s(),t.j41(5,"div",5)(6,"div",6,1),t.EFF(8),t.k0s(),t.DNE(9,Ft,4,3,"div",7)(10,Wt,4,3,"div",7),t.k0s()()),2&m){const g=t.sdS(4),N=t.sdS(7);t.Y8G("ngClass",t.eq3(11,gt,0!==l.index)),t.R7$(2),t.Y8G("ngIf",l.document.homework)("ngIfElse",g),t.R7$(3),t.Y8G("ngClass",t.eq3(13,Ot,!l.isMobileDevice)),t.R7$(),t.FS9("matTooltip",l.document.exam?l.document.exam.name:null==l.document.homework?null:l.document.homework.name),t.Y8G("ngClass",t.eq3(15,$t,!l.isMobileDevice))("isDisabledTooltip",!1)("matTooltipDisabled",N.isDisabled),t.R7$(2),t.SpI(" ",l.document.exam?l.document.exam.name:null==l.document.homework?null:l.document.homework.name," "),t.R7$(),t.Y8G("ngIf",l.document.exam),t.R7$(),t.Y8G("ngIf",l.document.homework)}},dependencies:[x.YU,x.bT,P.oV,Z.f,yt.WGl,z.wp],encapsulation:2}),f})();const Mt=()=>({"mr-2":!0}),Xt=()=>({"mr-0 md:mr-2":!0}),Bt=r=>[r],Dt=(r,f)=>({backto:r,filterBy:f}),Gt=()=>({"ml-1":!0});function qt(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",20),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function Se(r,f){1&r&&(t.j41(0,"span",40),t.nrm(1,"azt-loading-ui"),t.k0s())}function Tt(r,f){1&r&&(t.j41(0,"span",41)(1,"span",42),t.EFF(2,"1"),t.k0s()())}function tt(r,f){1&r&&(t.j41(0,"span"),t.EFF(1," \xa0 "),t.j41(2,"span",43),t.EFF(3,"1"),t.k0s()())}function pt(r,f){1&r&&(t.j41(0,"h2",44),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_student_list_of_assigned_assignments")))}function L(r,f){1&r&&(t.j41(0,"h2",44),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.JRh(t.bMT(2,1,"lang_student_search_results")))}function _t(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",45),t.bIt("click",function(){t.eBV(c);const l=t.XpG(2);return t.Njj(l.backToDocumentList())}),t.nrm(1,"lucide-icon",46),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Mt)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_auto_quay_lai")))}function At(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",20),2&r){const c=t.XpG(2);t.Y8G("currentStatusObj",c.statusObj)}}function ae(r,f){if(1&r&&(t.j41(0,"a",60),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&r){const c=t.XpG(2),m=c.$implicit,l=c.index,g=t.XpG(6);t.Y8G("routerLink",t.eq3(6,Bt,t.bMT(1,4,"/admin/testbank/homework-results-list/"+m.homework.classroomId+"/"+m.homework.id+"/"+m.homework.hashId)))("queryParams",t.l_i(8,Dt,"/admin/student/classroom-details/"+g.classroomId+"/1",g.typeFilter)),t.R7$(2),t.Y8G("document",m)("index",l)}}function Ne(r,f){if(1&r&&(t.j41(0,"a",62),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&r){const c=t.XpG(2),m=c.$implicit,l=c.index,g=t.XpG(6);t.Y8G("routerLink",t.eq3(6,Bt,t.bMT(1,4,"/bai-tap/"+m.homework.hashId)))("queryParams",t.l_i(8,Dt,"/student/classroom-details/"+g.classroomId+"/1",g.typeFilter)),t.R7$(2),t.Y8G("document",m)("index",l)}}function He(r,f){if(1&r&&(t.qex(0),t.DNE(1,ae,3,11,"a",58)(2,Ne,3,11,"a",59),t.bVm()),2&r){const c=t.XpG(7);t.R7$(),t.Y8G("ngIf",!c.isStudent),t.R7$(),t.Y8G("ngIf",c.isStudent)}}function an(r,f){if(1&r&&(t.j41(0,"a",65),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&r){let c;const m=t.XpG(2),l=m.$implicit,g=m.index,N=t.XpG(6);t.Y8G("routerLink",t.eq3(6,Bt,t.bMT(1,4,"/admin/testbank/exam-results-list/"+(null!==(c=null==l.exam?null:l.exam.categoryId)&&void 0!==c?c:0)+"/"+(null==l.exam?null:l.exam.id)+"/0")))("queryParams",t.l_i(8,Dt,"/admin/student/classroom-details/"+N.classroomId+"/1",N.typeFilter)),t.R7$(2),t.Y8G("document",l)("index",g)}}function Ke(r,f){if(1&r&&(t.j41(0,"a",66),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&r){const c=t.XpG(2),m=c.$implicit,l=c.index,g=t.XpG(6);t.Y8G("routerLink",t.eq3(6,Bt,t.bMT(1,4,"/de-thi/"+(null==m.exam?null:m.exam.hashId))))("queryParams",t.l_i(8,Dt,"/student/classroom-details/"+g.classroomId+"/1",g.typeFilter)),t.R7$(2),t.Y8G("document",m)("index",l)}}function qe(r,f){if(1&r&&t.DNE(0,an,3,11,"a",63)(1,Ke,3,11,"a",64),2&r){const c=t.XpG(7);t.Y8G("ngIf",!c.isStudent),t.R7$(),t.Y8G("ngIf",c.isStudent)}}function _n(r,f){if(1&r&&(t.j41(0,"div",57),t.DNE(1,He,3,2,"ng-container",48)(2,qe,2,2,"ng-template",null,5,t.C5r),t.k0s()),2&r){const c=f.$implicit,m=t.sdS(3);t.R7$(),t.Y8G("ngIf",c.homework)("ngIfElse",m)}}function dn(r,f){if(1&r&&(t.j41(0,"div",55),t.DNE(1,_n,4,2,"div",56),t.k0s()),2&r){const c=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",c.documentList)}}function un(r,f){if(1&r){const c=t.RV6();t.j41(0,"div")(1,"div")(2,"button",51),t.bIt("click",function(){const l=t.eBV(c).$implicit;return t.Njj(l.isExpand=!l.isExpand)}),t.nrm(3,"lucide-icon",52),t.j41(4,"span",53),t.EFF(5),t.nI1(6,"getDayOfWeek"),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.nI1(9,"formatOnlyDateByUserUnitPipe"),t.k0s()()(),t.DNE(10,dn,2,1,"div",54),t.k0s()}if(2&r){const c=f.$implicit;t.R7$(3),t.FS9("name",c.isExpand?"chevron-down":"chevron-right"),t.R7$(2),t.JRh(t.bMT(7,5,t.bMT(6,3,c.assignmentDate))+", "+t.bMT(8,7,"lang_testbank_powerpoint_date")+" "+t.bMT(9,9,c.assignmentDate)),t.R7$(5),t.Y8G("ngIf",c.isExpand)}}function rn(r,f){1&r&&t.nrm(0,"azt-loading-ui",70)}function tn(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",67)(1,"button",68),t.bIt("click",function(){t.eBV(c);const l=t.XpG(4);return t.Njj(!l.sAztNextPaginationService.isLoadingNextPage&&l.getNextPage())}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,rn,1,0,"azt-loading-ui",69),t.k0s()()}if(2&r){const c=t.XpG(4);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_business_document_get_more_documents")," "),t.R7$(2),t.Y8G("ngIf",c.sAztNextPaginationService.isLoadingNextPage)}}function en(r,f){if(1&r&&(t.qex(0),t.DNE(1,un,11,11,"div",49)(2,tn,5,4,"div",50),t.bVm()),2&r){const c=t.XpG(3);t.R7$(),t.Y8G("ngForOf",c.listGroupDocumentObjs),t.R7$(),t.Y8G("ngIf",c.sAztNextPaginationService.hasNextPage)}}function nn(r,f){1&r&&(t.j41(0,"div",71)(1,"div",72),t.nrm(2,"azt-svg-icon",73),t.j41(3,"p",74),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&r&&(t.R7$(2),t.Y8G("size",87),t.R7$(2),t.JRh(t.bMT(5,2,"lang_student_there_are_no_exercises_or_tests_yet")+"!"))}function it(r,f){if(1&r&&(t.j41(0,"div",47),t.DNE(1,en,3,2,"ng-container",48)(2,nn,6,4,"ng-template",null,4,t.C5r),t.k0s()),2&r){const c=t.sdS(3),m=t.XpG(2);t.R7$(),t.Y8G("ngIf",m.listGroupDocumentObjs.length>0)("ngIfElse",c)}}function Ut(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24)(4,"div",25)(5,"azt-search-box",26),t.nI1(6,"mytranslate"),t.bIt("onSearch",function(l){t.eBV(c);const g=t.XpG();return t.Njj(g.searchDocumentObjs(l.searchObj))}),t.k0s()(),t.j41(7,"button",27),t.DNE(8,Se,2,0,"span",28),t.nrm(9,"lucide-icon",29),t.DNE(10,Tt,3,0,"span",30),t.j41(11,"span",31),t.EFF(12),t.nI1(13,"mytranslate"),t.DNE(14,tt,4,0,"span",32),t.k0s()()(),t.j41(15,"div",33)(16,"button",34),t.nrm(17,"lucide-icon",35),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()()(),t.j41(20,"div",36),t.DNE(21,pt,3,3,"h2",37)(22,L,3,3,"h2",37)(23,_t,5,5,"button",38),t.k0s(),t.j41(24,"div",39),t.DNE(25,At,1,1,"azt-loading-effect",6),t.k0s(),t.DNE(26,it,4,2,"ng-template",null,3,t.C5r),t.k0s()}if(2&r){const c=t.sdS(27),m=t.XpG(),l=t.sdS(4),g=t.sdS(25);t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(6,17,"lang_auto_tim_kiem"))("searchContentObj",m.searchContentObj),t.R7$(2),t.Y8G("matMenuTriggerFor",l),t.R7$(),t.Y8G("ngIf",m.loadingFilter),t.R7$(),t.Y8G("ngClass",t.lJ4(23,Xt)),t.R7$(),t.Y8G("ngIf",""!=m.typeFilter),t.R7$(2),t.SpI(" ",t.bMT(13,19,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf",""!=m.typeFilter),t.R7$(2),t.Y8G("matMenuTriggerFor",g),t.R7$(),t.Y8G("ngClass",t.lJ4(24,Mt)),t.R7$(),t.SpI(" ",t.bMT(19,21,"lang_student_new_assignment")," "),t.R7$(3),t.Y8G("ngIf",!m.isShowSearchResult),t.R7$(),t.Y8G("ngIf",m.isShowSearchResult),t.R7$(),t.Y8G("ngIf",m.isShowSearchResult),t.R7$(2),t.Y8G("ngIf",m.searchContentObj.isLoading||m.loadingFilter)("ngIfElse",c)}}function at(r,f){1&r&&t.nrm(0,"lucide-icon",75),2&r&&t.Y8G("ngClass",t.lJ4(1,Gt))}function et(r,f){1&r&&t.nrm(0,"lucide-icon",75),2&r&&t.Y8G("ngClass",t.lJ4(1,Gt))}let lt=(()=>{var r;class f extends e.H{changeFilter(m){this.typeFilter=m,this.loadingFilter=!0,this.resetData(),this.commonService.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/1","?filterBy="+m),this.getData(!0)}openEditor(){let m=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backto=${encodeURIComponent(m)}&classroomId=${this.classroomId}`)}openHomeworkScreen(){let m=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/homework/add-new-homework/0",`?backto=${encodeURIComponent(m)}&classroomId=${this.classroomId}`)}backToDocumentList(){this.isShowSearchResult=!1,this.searchContentObj.searchContent="",this.getData(!1)}resetData(){this.listDocumentObjs=[]}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}searchDocumentObjs(m){this.searchContentObj=m,this.searchContentObj.setLoading(!0),this.resetData(),this.getData(!1)}getData(m){m?this.sAztNextPaginationService.setLoading(!0):this.searchContentObj.searchContent||this.initStatusObj();let l={categoryId:void 0,documentType:"file",shareType:void 0,fileType:this.typeFilter?this.typeFilter:void 0,classroomId:this.classroomId,name:this.searchContentObj.searchContent?this.searchContentObj.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:0,page:this.sAztNextPaginationService.curPage,itemPerPage:this.sAztNextPaginationService.itemPerPage};this.isShowSearchResult=!!this.searchContentObj.searchContent,this.waitDestroy(this.documentService.apiDocumentsGet(l.categoryId,l.documentType,l.shareType,l.fileType,l.classroomId,l.name,l.suggestExamPurpose,l.lite,l.getGlobal,l.page,l.itemPerPage).subscribe(g=>{g.success?(this.listDocumentObjs=this.listDocumentObjs.concat(g.data?.documentObjs??[]),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(g.data?.total??0),this.processData(this.listDocumentObjs),this.searchContentObj.setLoading(!1),this.stopStatusObj()):(this.searchContentObj.setLoading(!1),this.errorStatusObj(g.message,!0)),this.loadingFilter=!1}))}processData(m){let l=this.commonService.arrayToDictionary(m,N=>N.exam?new Date(N.exam.createdAt??0).toDateString():new Date(N?.homework?.createdAt??0).toDateString()),g=[];Object.entries(l).forEach(([N,W],xt)=>{if(W.length>0){let Lt=W[0];g.push({isExpand:!0,assignmentDate:Lt.exam?Lt.exam.createdAt:Lt.homework?.createdAt,documentList:W})}}),this.listGroupDocumentObjs=g}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.typeFilter=this.commonService.getMyQueryParam("filterBy")??"",this.getData(!1)}constructor(m,l,g){super(),this.documentService=m,this.activeRoute=l,this.sAztNextPaginationService=g,this.classroomId=0,this.listGroupDocumentObjs=[],this.listDocumentObjs=[],this.isShowSearchResult=!1,this.searchContentObj=new ct.Z,this.typeFilter="",this.loadingFilter=!1}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(Nt.DK),t.rXU(w.nX),t.rXU(St.h))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-exam-exercises"]],inputs:{isStudent:"isStudent"},features:[t.Jv_([St.h]),t.Vt3],decls:38,vars:29,consts:[["doneLoading",""],["menuFilter","matMenu"],["menuAssignment","matMenu"],["doneLoadingSearch",""],["emptyList",""],["isExamDocument",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["xPosition","after"],[1,"dropdown-menu","w-32","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["name","notepad-text","size","16",3,"ngClass"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["name","file-text","size","16",3,"ngClass"],["name","check","size","16",3,"ngClass",4,"ngIf"],["name","file-check","size","16",3,"ngClass"],["xPosition","before"],[1,"dropdown-menu","w-40","show","relative"],["azt-track-service","exam-exercises-AuLj8R4CH",1,"dropdown-item","w-full",3,"click"],["azt-track-service","exam-exercises-2YQOMXwGnC",1,"dropdown-item","w-full",3,"click"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"flex","w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[1,"mr-2","w-full","sm:w-auto"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],["tourAnchor","azt-tour-2",1,"shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["class","w-3 h-4 mr-1 inline-block",4,"ngIf"],["name","filter","size","16",3,"ngClass"],["class","sm:hidden w-5 h-5 flex items-center justify-center absolute rounded-full bg-primary right-0 top-0 -mr-2 -mt-2",4,"ngIf"],[1,"azt-hidden","sm:block"],[4,"ngIf"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","exam-exercises-jkv8YmKddH",1,"btn","btn-primary","dropdown-toggle","text-white","shadow-md",3,"matMenuTriggerFor"],["name","plus","size","18",3,"ngClass"],[1,"col-span-12","flex","items-center","mt-5"],["class","text-lg font-medium mr-5",4,"ngIf"],["azt-track-service","exam-exercises-TXjuRofaLz","class","btn-text-primary font-medium ml-auto",3,"click",4,"ngIf"],[1,"col-span-12","mt-5"],[1,"w-3","h-4","mr-1","inline-block"],[1,"sm:hidden","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","bg-primary","right-0","top-0","-mr-2","-mt-2"],[1,"rounded-full","bg-primary","text-white","cursor-pointer","font-medium"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[1,"text-lg","font-medium","mr-5"],["azt-track-service","exam-exercises-TXjuRofaLz",1,"btn-text-primary","font-medium","ml-auto",3,"click"],["name","chevron-left","size","18",3,"ngClass"],[1,"col-span-12"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],["class","mt-2 font-medium",4,"ngIf"],["azt-track-service","exam-exercises-gYn61cneD",1,"flex","items-center","py-3","pr-3","hover:text-primary",3,"click"],["size","24",3,"name"],[1,"font-medium","ml-3"],["class","box p-3",4,"ngIf"],[1,"box","p-3"],["class","document",4,"ngFor","ngForOf"],[1,"document"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams"],[3,"document","index"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams"],[1,"mt-2","font-medium"],["azt-track-service","exam-exercises-4meI3XYSV",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","file-empty",3,"size"],[1,"font-medium","mt-5"],["name","check","size","16",3,"ngClass"]],template:function(m,l){if(1&m){const g=t.RV6();t.DNE(0,qt,1,1,"azt-loading-effect",6)(1,Ut,28,25,"ng-template",null,0,t.C5r),t.j41(3,"mat-menu",7,1)(5,"div",8)(6,"ul",9)(7,"li")(8,"button",10),t.bIt("click",function(){return t.eBV(g),t.Njj(l.changeFilter(""))}),t.nrm(9,"lucide-icon",11),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"li")(13,"button",12),t.bIt("click",function(){return t.eBV(g),t.Njj(l.changeFilter("homework"))}),t.nrm(14,"lucide-icon",13),t.EFF(15),t.nI1(16,"mytranslate"),t.DNE(17,at,1,2,"lucide-icon",14),t.k0s()(),t.j41(18,"li")(19,"button",10),t.bIt("click",function(){return t.eBV(g),t.Njj(l.changeFilter("exam"))}),t.nrm(20,"lucide-icon",15),t.EFF(21),t.nI1(22,"mytranslate"),t.DNE(23,et,1,2,"lucide-icon",14),t.k0s()()()()(),t.j41(24,"mat-menu",16,2)(26,"div",17)(27,"ul",9)(28,"li")(29,"button",18),t.bIt("click",function(){return t.eBV(g),t.Njj(l.openHomeworkScreen())}),t.nrm(30,"lucide-icon",13),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()(),t.j41(33,"li")(34,"button",19),t.bIt("click",function(){return t.eBV(g),t.Njj(l.openEditor())}),t.nrm(35,"lucide-icon",15),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s()()()()()}if(2&m){const g=t.sdS(2);t.Y8G("ngIf",l.statusObj.loading)("ngIfElse",g),t.R7$(9),t.Y8G("ngClass",t.lJ4(24,Mt)),t.R7$(),t.SpI(" ",t.bMT(11,14,"lang_auto_tat_ca")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(25,Mt)),t.R7$(),t.SpI(" ",t.bMT(16,16,"lang_auto_bai_tap")," "),t.R7$(2),t.Y8G("ngIf","homework"==l.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(26,Mt)),t.R7$(),t.SpI(" ",t.bMT(22,18,"lang_auto_de_thi")," "),t.R7$(2),t.Y8G("ngIf","exam"==l.typeFilter),t.R7$(7),t.Y8G("ngClass",t.lJ4(27,Mt)),t.R7$(),t.SpI(" ",t.bMT(32,20,"lang_student_new_homework")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(28,Mt)),t.R7$(),t.SpI(" ",t.bMT(37,22,"lang_student_new_exam")," ")}},dependencies:[w.Wk,x.YU,x.Sq,x.bT,J.kk,J.Cp,bt.K,st.R,Ct.W,q.m,yt.WGl,le,z.F2,z.wp,z.vv,z.hZ],encapsulation:2}),f})();var Zt=p(57350),pe=p(95054),te=p(47635),Oe=p(66257),de=p(48725),ve=p(37497),re=p(89163),Ie=p(33887),Ge=p(95624),Be=p(2915),Ye=p(5800),fn=p(74637),$e=p(10123);function B(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",13),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function Et(r,f){if(1&r&&(t.j41(0,"tr")(1,"td",22),t.EFF(2),t.nI1(3,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.j41(4,"td")(5,"div",23),t.nrm(6,"input",24),t.k0s()(),t.j41(7,"td")(8,"div",23),t.nrm(9,"input",24),t.k0s()(),t.j41(10,"td"),t.nrm(11,"textarea",25),t.k0s()()),2&r){const c=f.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,7,c.sessionTime)," "),t.R7$(4),t.Y8G("checked",c.receivedDocument)("disabled",!0),t.R7$(3),t.Y8G("checked",c.absent)("disabled",!0),t.R7$(2),t.Y8G("disabled",!0)("value",c.reason)}}function A(r,f){if(1&r&&(t.qex(0),t.DNE(1,Et,12,9,"tr",21),t.bVm()),2&r){const c=t.XpG(2);t.R7$(),t.Y8G("ngForOf",c.attendanceObj.list)}}function U(r,f){1&r&&(t.j41(0,"tr")(1,"td",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_homework_homework_list_not_found")," "))}function V(r,f){if(1&r&&(t.j41(0,"drag-scroll")(1,"table",14)(2,"thead")(3,"tr",15)(4,"th",16),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",17),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",18),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",18),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()(),t.j41(16,"tbody",19),t.DNE(17,A,2,1,"ng-container",20)(18,U,4,3,"ng-template",null,1,t.C5r),t.k0s()()()),2&r){const c=t.sdS(19),m=t.XpG();t.R7$(5),t.JRh(t.bMT(6,6,"lang_auto_thoi_gian")),t.R7$(3),t.JRh(t.bMT(9,8,"lang_core_da_phat_tai_lieu")),t.R7$(3),t.JRh(t.bMT(12,10,"lang_student_absence")),t.R7$(3),t.JRh(t.bMT(15,12,"lang_auto_ly_do")),t.R7$(3),t.Y8G("ngIf",m.attendanceObj&&m.attendanceObj.list.length)("ngIfElse",c)}}let K=(()=>{var r;class f extends Ie._{handleCloseDialog(){this.dialogRef.close()}filterData(m){this.dataFilter=m,this.getData()}getData(){this.initStatusObj();const m=this.data.student;this.waitDestroy(this.studentService.apiStudentsStudentIdAttendancesGet(m.id,m.classroomId,this.dataFilter?.yearSelected,this.dataFilter?.monthSelected).subscribe({next:l=>{this.attendanceObj=l,this.successStatusObj()},error:l=>{this.errorStatusObj(l.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.getData()}constructor(m,l,g){super(l,m),this.dialogRef=m,this.data=l,this.studentService=g}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(re.CP,8),t.rXU(re.Vh,8),t.rXU(Ge.b0))},r.\u0275cmp=t.VBU({type:r,selectors:[["azt-attendance-detail"]],features:[t.Vt3],decls:14,vars:11,consts:[["doneLoading",""],["emptyData",""],[1,"box","attendance-detail"],[1,"p-4"],[1,"flex"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"ml-auto"],[1,"btn","btn-outline-danger","border-0","shadow-none",3,"click"],["name","x","size","18"],[1,"mt-2","flex","justify-end","items-center"],[3,"sendFilter"],[1,"mt-0","pb-4"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[1,"box","bg-slate-200","dark:bg-darkmode-400"],[1,"whitespace-nowrap"],[1,"text-center","whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"bg-slate-100","dark:bg-darkmode-400"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"font-medium"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"checked","disabled"],["type","text",1,"form-control",2,"min-width","50px","min-height","50px",3,"disabled","value"],["colspan","4",1,"text-center"]],template:function(m,l){if(1&m){const g=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.nrm(3,"azt-student-info-box",5),t.j41(4,"div",6)(5,"button",7),t.bIt("click",function(){return t.eBV(g),t.Njj(l.handleCloseDialog())}),t.nrm(6,"lucide-icon",8),t.k0s()()(),t.j41(7,"div",9)(8,"azt-filter-box",10),t.bIt("sendFilter",function(W){return t.eBV(g),t.Njj(l.filterData(W))}),t.k0s()()(),t.j41(9,"div",11)(10,"azt-mat-dialog-content"),t.DNE(11,B,1,1,"azt-loading-effect",12)(12,V,20,14,"ng-template",null,0,t.C5r),t.k0s()()()}if(2&m){const g=t.sdS(13);t.R7$(3),t.Y8G("name",l.data.student.fullName)("parentFullName",l.data.student.parentFullName)("parentId",l.data.student.parentId)("parentPhone",l.data.student.parentPhone)("phone",l.data.student.phone)("email",l.data.student.email)("avatar",l.data.student.avatar)("gender",l.data.student.gender)("hasUser",l.data.student.hasUser),t.R7$(8),t.Y8G("ngIf",l.statusObj.loading)("ngIfElse",g)}},dependencies:[x.Sq,x.bT,bt.K,Be.U,Ye.B,fn.E,$e.jd,$e.Ew,yt.WGl,z.wp,z.vv],encapsulation:2}),f})();var Yt=p(46899),he=p(22613);const me=r=>({"text-primary stroke-width-2.5":r}),ze=r=>({"text-primary stroke-width-2.5":r,"-mt-2":!0});function Pe(r,f){1&r&&(t.j41(0,"div",9),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function pn(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",10),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function Qe(r,f){if(1&r&&(t.j41(0,"div",20),t.nrm(1,"lucide-icon",21)(2,"lucide-icon",22),t.k0s()),2&r){const c=t.XpG().$implicit,m=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.eq3(2,me,c.typeFieldSort===m.typeFieldSort.asc)),t.R7$(),t.Y8G("ngClass",t.eq3(4,ze,c.typeFieldSort===m.typeFieldSort.desc))}}function R(r,f){if(1&r){const c=t.RV6();t.j41(0,"th",17)(1,"div",18),t.bIt("click",function(){const l=t.eBV(c).$implicit,g=t.XpG(2);return t.Njj(g.sortTableByFieldName(l))}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,Qe,3,6,"div",19),t.k0s()()}if(2&r){const c=f.$implicit;t.R7$(),t.Aen(c.customStyle),t.HbH(c.customClassCss),t.R7$(),t.SpI(" ",t.bMT(3,6,c.key)," "),t.R7$(2),t.Y8G("ngIf",!c.ignore)}}function ft(r,f){if(1&r){const c=t.RV6();t.j41(0,"tr",23)(1,"td",24),t.bIt("click",function(){const l=t.eBV(c).$implicit,g=t.XpG(2);return t.Njj(g.showAttendanceDetail(l))}),t.nrm(2,"azt-student-info-box",25),t.k0s(),t.j41(3,"td",26),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",26),t.EFF(7),t.k0s(),t.j41(8,"td",26),t.EFF(9),t.k0s(),t.j41(10,"td",26),t.EFF(11),t.k0s(),t.j41(12,"td",26),t.EFF(13),t.k0s()()}if(2&r){const c=f.$implicit;t.Y8G("id","row_student_"+c.id),t.R7$(2),t.Y8G("name",c.fullName)("parentFullName",c.parentFullName)("parentId",c.parentId)("parentPhone",c.parentPhone)("phone",c.phone)("avatar",c.avatar)("gender",c.gender)("hasUser",c.hasUser)("schoolName",c.schoolName)("classrooms",c.classrooms)("joinedAt",c.joinedAt)("identificationNumber",c.identificationNumber),t.R7$(2),t.JRh(c.identificationNumber?t.i5U(5,18,c.identificationNumber,6):""),t.R7$(3),t.JRh(null==c?null:c.totalAttend),t.R7$(2),t.JRh(null==c?null:c.totalAbsence),t.R7$(2),t.JRh(null==c?null:c.totalAbsentPermission),t.R7$(2),t.JRh(null==c?null:c.totalAbsentNoPermission)}}function X(r,f){if(1&r){const c=t.RV6();t.j41(0,"azt-paging",30),t.bIt("goToPaginationPage",function(l){t.eBV(c);const g=t.XpG(3);return t.Njj(g.setPageStudent(l))}),t.k0s()}if(2&r){const c=t.XpG(3);t.Y8G("pageObj",c.pageObj)}}function M(r,f){if(1&r&&(t.j41(0,"div",31),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const c=t.XpG(3);t.R7$(),t.Lme("",c.totalStudent," ",t.bMT(2,2,"lang_notify_list_students"),"")}}function O(r,f){if(1&r&&(t.j41(0,"div",27),t.nrm(1,"div"),t.DNE(2,X,1,1,"azt-paging",28)(3,M,3,4,"div",29),t.k0s()),2&r){const c=t.XpG(2);t.R7$(2),t.Y8G("ngIf",c.totalStudent>c.pageObj.pageSize),t.R7$(),t.Y8G("ngIf",!c.isStudent)}}function rt(r,f){if(1&r&&(t.j41(0,"div",11)(1,"drag-scroll")(2,"table",12)(3,"thead")(4,"tr",13),t.DNE(5,R,5,8,"th",14),t.k0s()(),t.j41(6,"tbody"),t.DNE(7,ft,14,21,"tr",15),t.k0s()()()(),t.DNE(8,O,4,2,"div",16)),2&r){const c=t.XpG();t.R7$(5),t.Y8G("ngForOf",c.sortTableByFieldNameService.fieldNameList),t.R7$(2),t.Y8G("ngForOf",c.listStudent),t.R7$(),t.Y8G("ngIf",c.listStudent&&c.totalStudent&&c.totalStudent>0)}}let Fe=(()=>{var r;class f extends e.H{onSearchBox(m){this.searchContentObj=m,this.getData()}setPageStudent(m){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/7","?page="+m),this.pageObj.setPageNumber(m),this.getData()}sortTableByFieldName(m){m.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(m),this.getData())}showAttendanceDetail(m){this.sAztDialogService.open(K,{width:"700px",restoreFocus:!1,data:{student:m,isTeacher:!0}})}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!0,me:this.isStudent,getAssessment:!1,order:this.orderObj}).subscribe({next:l=>{this.listStudent=l.list,this.totalStudent=l.total,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()},error:l=>{this.errorStatusObj(l.error.message,!0)}}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:Oe.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:Oe.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAttend",key:"lang_student_number_of_sessions_attended",ignore:!1,typeFieldSort:Oe.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsence",key:"lang_student_number_of_sessions_missed",ignore:!1,typeFieldSort:Oe.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsentPermission",key:"lang_student_number_of_approved_absences",ignore:!1,typeFieldSort:Oe.H.none,customClassCss:"flex items-center justify-center"},{fieldName:"totalAbsentNoPermission",key:"lang_student_number_of_unauthorized_absences",ignore:!1,typeFieldSort:Oe.H.none,customClassCss:"flex items-center justify-center"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(m,l,g,N){super(),this.activeRoute=m,this.studentService=l,this.sortTableByFieldNameService=g,this.sAztDialogService=N,this.classroomId=0,this.searchContentObj=new ct.Z,this.pageObj=new ve.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=Oe.H}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(w.nX),t.rXU(Ge.b0),t.rXU(de.s),t.rXU(Yt.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-attendance-board"]],inputs:{isStudent:"isStudent"},features:[t.Jv_([de.s]),t.Vt3],decls:14,vars:10,consts:[["doneLoading",""],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"onSearch","isServerSearch","placeholder"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[1,"mt-1"],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","attendance-board-DpF9pdFzjI",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[3,"id"],["azt-track-service","attendance-board-e_tUfqKJu",1,"cursor-pointer",2,"width","250px",3,"click"],[3,"name","parentFullName","parentId","parentPhone","phone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","identificationNumber"],[1,"text-center","capitalize"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"goToPaginationPage","pageObj"],[1,"flex","justify-end"]],template:function(m,l){if(1&m){const g=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h3",3),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,Pe,3,3,"div",4),t.k0s(),t.j41(6,"div",5)(7,"div",6)(8,"azt-search-box",7),t.nI1(9,"mytranslate"),t.bIt("onSearch",function(W){return t.eBV(g),t.Njj(l.onSearchBox(W.searchObj))}),t.k0s()()(),t.j41(10,"div",2),t.DNE(11,pn,1,1,"azt-loading-effect",8)(12,rt,9,3,"ng-template",null,0,t.C5r),t.k0s()()}if(2&m){const g=t.sdS(13);t.R7$(3),t.JRh(t.bMT(4,6,"lang_azt_attendance")),t.R7$(2),t.Y8G("ngIf",l.isMobileDevice&&l.listStudent.length>0),t.R7$(3),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(9,8,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf",l.statusObj.loading)("ngIfElse",g)}},dependencies:[x.YU,x.Sq,x.bT,bt.K,he.q,Ct.W,Ye.B,$e.jd,$e.Ew,yt.WGl,z.wp,z.Po],encapsulation:2}),f})();var ee=p(33791),Ee=p(25622),nt=p(10936),ln=p(15766),De=p(31216),An=p(97839),Zn=p(99965),Ln=p(35048);const Ve=["selectStudent"],ke=r=>({flex:r}),on=r=>({" ml-5":r});function gn(r,f){1&r&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_chon_hoc_sinh_muon_gui_thong_bao")," "))}function Bn(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",14)(1,"h3",22),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"azt-select-student",23,0),t.bIt("closeBox",function(l){t.eBV(c);const g=t.XpG();return t.Njj(g.closeBoxSelectStudent(l))}),t.k0s(),t.DNE(6,gn,3,3,"div",17),t.k0s()}if(2&r){const c=t.XpG();t.R7$(2),t.JRh(t.bMT(3,4,"lang_core_chon_hoc_sinh")),t.R7$(2),t.Y8G("isDialog",!1)("data",c.data),t.R7$(2),t.Y8G("ngIf",0==c.data.studentIdsSelected.length&&c.isShowError)}}function Yn(r,f){1&r&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong_noi_dung_thong_bao")," "))}function On(r,f){1&r&&t.nrm(0,"azt-loading-ui",25)}let bn=(()=>{var r;class f extends e.H{resetForm(){this.contentFormControl.reset(),this.selectAction(this.action.getRawValue()),this.data={classroomId:this.classroomId,classroomName:this.classroomName,studentIdsSelected:[]},this.isShowError=!1,this.selectStudent&&this.selectStudent.resetAll()}selectAction(m){let g=this.commonService.myTranslateInstant(1==m?"lang_azt_ban_co_1_so_bai_thi_chua_hoan_thanh_vui_long_hoan_thanh_dung_thoi_han":2==m?"lang_azt_ban_chua_nop_hoc_phi_thang_hien_tai_vui_long_hoan_tat_hoc_phi_uca_ban":"")??"";this.contentFormControl.setValue(g)}closeBoxSelectStudent(m){m&&(m.studentIdsSelected.length>0&&(this.isShowError=!0),this.data=m)}sendNotification(){if(this.initStatusObj(),3==this.action.getRawValue()){let m={noticeProcessAction:{isNoticeTuition:!1,isNoticeFinishedLesson:!1,isNoticeAttendance:!1,isNoticeClassroomCustomContent:!0},studentIds:this.data.studentIdsSelected,title:"",body:this.contentFormControl.getRawValue()};this.waitDestroy(this.studentNotificationService.apiStudentNotificationSendCustomMsgToStudentsPost(m).subscribe({next:l=>{this.showSuccessSnack("lang_super_role_send_notice_successfully"),this.resetForm(),this.stopStatusObj()},error:l=>{this.errorStatusObj(l.error.message,!0),this.stopStatusObj()}}))}else{let m={isSendUnFinished:1==this.action.getRawValue(),isSendTuition:2==this.action.getRawValue(),title:"",content:this.contentFormControl.getRawValue()};this.waitDestroy(this.classroomNotificationService.apiClassroomNotificationClassroomIdPost(this.classroomId,m).subscribe({next:l=>{this.showSuccessSnack("lang_super_role_send_notice_successfully"),this.resetForm(),this.stopStatusObj()},error:l=>{this.errorStatusObj(l.error.message,!0),this.stopStatusObj()}}))}}ngOnInit(){super.ngOnInit(),this.data={classroomId:this.classroomId,classroomName:this.classroomName,studentIdsSelected:[]},this.selectAction(this.action.getRawValue())}constructor(m,l){super(),this.studentNotificationService=m,this.classroomNotificationService=l,this.contentFormControl=new nt.MJ("",{nonNullable:!0,validators:[ln.M.noWhiteSpace]}),this.action=new nt.MJ(1,{nonNullable:!0}),this.isShowError=!1}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(De.KB),t.rXU(Ge.M8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-send-notification"]],viewQuery:function(m,l){if(1&m&&t.GBs(Ve,5),2&m){let g;t.mGM(g=t.lsd())&&(l.selectStudent=g.first)}},inputs:{classroomName:"classroomName",classroomId:"classroomId"},features:[t.Vt3],decls:41,vars:48,consts:[["selectStudent",""],["id","sendNotification",1,"box-exam__text"],[1,"text-lg","mb-3","font-medium"],[1,"font-medium"],[1,"items-center","mt-2",3,"ngClass"],[1,"flex","items-center","mt-1"],["id","action1","type","radio",1,"form-check-input","flex-none",3,"change","formControl","value"],["for","action1",1,"pl-2","form-check-label"],[1,"flex","items-center","mt-1",3,"ngClass"],["id","action2","type","radio",1,"form-check-input","flex-none",3,"change","formControl","value"],["for","action2",1,"pl-2","form-check-label"],["id","action3","type","radio",1,"form-check-input","flex-none",3,"change","formControl","value"],["for","action3",1,"pl-2","form-check-label"],["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"mt-2"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"flex","justify-end","mt-5"],[1,"btn","btn-close","mr-3",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"font-medium","mb-2"],[3,"closeBox","isDialog","data"],[1,"text-xs","text-danger","mt-1"],[1,"mr-1"]],template:function(m,l){1&m&&(t.j41(0,"div",1)(1,"h2",2),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"h3",3),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",4)(8,"div",5)(9,"input",6),t.bIt("change",function(){return l.selectAction(1)}),t.k0s(),t.j41(10,"label",7),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",8)(14,"input",9),t.bIt("change",function(){return l.selectAction(2)}),t.k0s(),t.j41(15,"label",10),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"div",8)(19,"input",11),t.bIt("change",function(){return l.selectAction(3)}),t.k0s(),t.j41(20,"label",12),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.DNE(23,Bn,7,6,"div",13),t.j41(24,"div",14)(25,"h3",3),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.j41(28,"div",15)(29,"textarea",16),t.nI1(30,"mytranslate"),t.EFF(31,"\t\t\t"),t.k0s()(),t.DNE(32,Yn,3,3,"div",17),t.k0s(),t.j41(33,"div",18)(34,"button",19),t.bIt("click",function(){return l.resetForm()}),t.EFF(35),t.nI1(36,"mytranslate"),t.k0s(),t.j41(37,"button",20),t.bIt("click",function(){return l.sendNotification()}),t.DNE(38,On,1,0,"azt-loading-ui",21),t.EFF(39),t.nI1(40,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(2),t.SpI(" ",t.bMT(3,24,"lang_core_gui_thongBao_den_hoc_sinh")," "),t.R7$(3),t.JRh(t.bMT(6,26,"lang_core_chon_muc_dich_gui_thong_bao")),t.R7$(2),t.Y8G("ngClass",t.eq3(42,ke,!l.isMobileDevice&&!l.isMobileWebView)),t.R7$(2),t.Y8G("formControl",l.action)("value",1),t.R7$(2),t.JRh(t.bMT(12,28,"lang_core_chua_lam_bai_thi")),t.R7$(2),t.Y8G("ngClass",t.eq3(44,on,!l.isMobileDevice&&!l.isMobileWebView)),t.R7$(),t.Y8G("formControl",l.action)("value",2),t.R7$(2),t.JRh(t.bMT(17,30,"lang_core_chua_dong_hoc_phi_thang_hien_tai")),t.R7$(2),t.Y8G("ngClass",t.eq3(46,on,!l.isMobileDevice&&!l.isMobileWebView)),t.R7$(),t.Y8G("formControl",l.action)("value",3),t.R7$(2),t.JRh(t.bMT(22,32,"lang_core_tuy_chon_hoc_sinh_cu_the")),t.R7$(2),t.Y8G("ngIf",3==l.action.getRawValue()),t.R7$(3),t.JRh(t.bMT(27,34,"lang_core_noi_dung_thong_bao")),t.R7$(3),t.FS9("placeholder",t.bMT(30,36,"lang_business_news_post_content")),t.Y8G("formControl",l.contentFormControl),t.R7$(3),t.Y8G("ngIf",l.contentFormControl.dirty&&l.contentFormControl.invalid),t.R7$(2),t.Y8G("disabled",l.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(36,38,"lang_auto_dat_lai")," "),t.R7$(2),t.Y8G("disabled",l.statusObj.loading||l.contentFormControl.invalid||3==l.action.getRawValue()&&0==l.data.studentIdsSelected.length),t.R7$(),t.Y8G("ngIf",l.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(40,40,"lang_super_role_send_notice_approved_question_share")," "))},dependencies:[x.YU,x.bT,An.fg,nt.me,nt.Fm,nt.BC,nt.l_,Zn.j,st.R,Ln.w,z.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{padding:5px!important;resize:none;min-height:80px;font-size:14px;width:100%;border:none;padding:0;border-radius:5px;max-height:250px!important}"]}),f})();var Ze=p(71204),Gn=p(407),qn=p(22867),vn=p(63016),ti=p(47947),ei=p(41483),En=p(51698),ni=p(74871),Xe=p(18148),wn=p(60902),Nn=p(95412),j=p(45344);let H=(()=>{var r;class f extends Ie._{btnCloseDialog(){this.dialogRef.close(!1)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(m=>1==m.selected)}saveData(){this.initStatusObj();var m=[];this.checkboxMonth.checkboxMonth.filter(g=>1==g.selected).forEach(g=>{m.push({month:g.month,year:g.year})}),this.waitDestroy(this.paymentService.apiPaymentPost({payments:m,studentId:this.data}).subscribe({next:g=>{this.successStatusObj("lang_cms_utils_update_folder_success",!0),this.dialogRef.close(!0)},error:g=>{this.errorStatusObj(g.error.message,!0)}}))}constructor(m,l,g){super(g,l),this.paymentService=m,this.dialogRef=l,this.data=g,this.checkboxMonth=new wn.L,this.checkboxMonth.studentId=g}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(Nn.W),t.rXU(re.CP,8),t.rXU(re.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["azt-dialog-checkbox-month"]],features:[t.Vt3],decls:11,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[3,"checkboxMonth"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-primary",3,"click","disabled"]],template:function(m,l){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"azt-checkbox-month",3),t.k0s()(),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return l.btnCloseDialog()}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"button",6),t.bIt("click",function(){return l.saveData()}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(3),t.Y8G("checkboxMonth",l.checkboxMonth),t.R7$(3),t.SpI(" ",t.bMT(7,4,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",!l.isSelectedMonth()||l.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(10,6,"lang_business_news_update_post_button")," "))},dependencies:[j.u,z.wp],encapsulation:2}),f})();var E=p(87039),I=p(18666),F=p(43234),kt=p(10710),se=p(81519),ne=p(47426),cn=p(95670),kn=p(99503),Rn=p(79347),ii=p(9691),ui=p(42947),ji=p(39712),oi=p(10296),Vn=p(60303),si=p(9260),Li=p(96112),Bi=p(80859),yi=p(5502);function Yi(r,f){if(1&r&&(t.j41(0,"span",9),t.EFF(1),t.k0s()),2&r){const c=t.XpG().$implicit;t.R7$(),t.JRh((null==c.cellData?null:c.cellData.fullName)+": ")}}function $n(r,f){if(1&r&&(t.j41(0,"span",10),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&r){const c=f.$implicit,m=f.index,l=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,c.errorMessage)+(m===l.errors.length-1?" ("+t.bMT(3,3,"lang_auto_line")+" "+l.row+")":", ")," ")}}function zn(r,f){if(1&r&&(t.j41(0,"div",6),t.DNE(1,Yi,2,1,"span",7)(2,$n,4,5,"span",8),t.k0s()),2&r){const c=f.$implicit;t.R7$(),t.Y8G("ngIf",null==c.cellData?null:c.cellData.fullName),t.R7$(),t.Y8G("ngForOf",c.errors)}}let Un=(()=>{var r;class f extends e.H{}return(r=f).\u0275fac=(()=>{let c;return function(l){return(c||(c=t.xGo(r)))(l||r)}})(),r.\u0275cmp=t.VBU({type:r,selectors:[["excel-error"]],inputs:{excelErrorList:"excelErrorList"},features:[t.Vt3],decls:8,vars:6,consts:[[1,"excel-error"],[1,"flex","items-center"],[1,"font-medium","text-lg"],[1,"overflow-auto","p-2","mt-2","border-slate-200","dark:border-darkmode-400","border","box",2,"height","120px","padding-right","5px"],["pointerEventsMethod","scrollbar",1,"w-full","h-full",3,"visibility","autoHeightDisabled"],["class","mb-2 text-xs",4,"ngFor","ngForOf"],[1,"mb-2","text-xs"],["class","font-medium",4,"ngIf"],["class","font-medium text-danger",4,"ngFor","ngForOf"],[1,"font-medium"],[1,"font-medium","text-danger"]],template:function(m,l){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"p",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",3)(6,"ng-scrollbar",4),t.DNE(7,zn,3,2,"div",5),t.k0s()()()),2&m&&(t.R7$(3),t.JRh(t.bMT(4,4,"lang_auto_tong_so_loi")+" "+l.excelErrorList.length),t.R7$(3),t.Y8G("visibility","hover")("autoHeightDisabled",!1),t.R7$(),t.Y8G("ngForOf",l.excelErrorList))},dependencies:[x.Sq,x.bT,yi.Yh,z.wp],encapsulation:2}),f})();const Xn=["fileSelect"],Vi=r=>[r],Ui=()=>({"mr-2 text-success":!0}),Oi=()=>({"mr-2":!0});function Xi(r,f){if(1&r&&(t.j41(0,"div",21),t.nrm(1,"excel-error",22),t.k0s()),2&r){const c=t.XpG(2);t.R7$(),t.Y8G("excelErrorList",c.errorImportFile)}}function pi(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",23)(1,"azt-upload-single-document-to-editor",24),t.bIt("emitFiles",function(l){t.eBV(c);const g=t.XpG(2);return t.Njj(g.handleUploadComplete(l))}),t.j41(2,"div",25)(3,"div",26),t.nrm(4,"lucide-icon",27),t.j41(5,"span",28),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()}if(2&r){const c=t.XpG(2);t.R7$(),t.Y8G("fileType",t.eq3(8,Vi,c.allUploadFileTypes.EXCEL)),t.R7$(3),t.Y8G("ngClass",t.lJ4(10,Ui)),t.R7$(2),t.SpI(" ",t.bMT(7,4,"lang_auto_keo_tha_file_excel")," "),t.R7$(2),t.SpI(" ",t.bMT(9,6,"lang_auto_hoc_click_de_chon_file")," ")}}function Wi(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",29)(1,"div",30)(2,"div",31)(3,"div",32)(4,"div",33)(5,"div",34),t.nrm(6,"img",35),t.nI1(7,"convertCdnLinkOfGitHub"),t.k0s(),t.j41(8,"div",36)(9,"p",37,1),t.EFF(11),t.k0s(),t.j41(12,"div",38),t.EFF(13),t.k0s()(),t.j41(14,"div",39)(15,"button",40),t.nI1(16,"mytranslate"),t.bIt("click",function(l){t.eBV(c);const g=t.XpG(2);return t.Njj(g.removeFile(l))}),t.nrm(17,"lucide-icon",41),t.k0s()()()()()()()}if(2&r){const c=t.sdS(10),m=t.XpG(2);t.R7$(6),t.Y8G("src",t.bMT(7,7,"images/excel.png"),t.B4B),t.R7$(3),t.FS9("matTooltip",null==m.file?null:m.file.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",c.isDisabled),t.R7$(2),t.SpI(" ",m.file?m.file.name:""," "),t.R7$(2),t.SpI(" ",m.fileMb+"mb"," "),t.R7$(2),t.FS9("matTooltip",t.bMT(16,9,"lang_auto_xoa"))}}function Ji(r,f){if(1&r){const c=t.RV6();t.j41(0,"a",42),t.bIt("click",function(){t.eBV(c);const l=t.XpG(2);return t.Njj(l.exportDefaultListStudent())}),t.nrm(1,"lucide-icon",43),t.j41(2,"span",44),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Oi)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_student_utils_download_file")," "))}function Hi(r,f){if(1&r){const c=t.RV6();t.j41(0,"a",42),t.bIt("click",function(){t.eBV(c);const l=t.XpG(2);return t.Njj(l.exportListStudent())}),t.nrm(1,"lucide-icon",43),t.j41(2,"span",44),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Oi)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_student_utils_export_list_student")," "))}function Ki(r,f){if(1&r&&(t.j41(0,"div",15),t.DNE(1,Xi,2,1,"div",16),t.j41(2,"div",17),t.DNE(3,pi,10,11,"div",18)(4,Wi,18,11,"ng-template",null,0,t.C5r),t.j41(6,"div",19),t.DNE(7,Ji,5,5,"a",20)(8,Hi,5,5,"a",20),t.k0s()()()),2&r){const c=t.sdS(5),m=t.XpG();t.R7$(),t.Y8G("ngIf",m.errorImportFile.length),t.R7$(2),t.Y8G("ngIf",!m.file)("ngIfElse",c),t.R7$(4),t.Y8G("ngIf",0==(null==m.studentObjs?null:m.studentObjs.length)||m.isBusinessDomain),t.R7$(),t.Y8G("ngIf",0!=(null==m.studentObjs?null:m.studentObjs.length)&&!m.isBusinessDomain)}}function Qi(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",45)(1,"azt-form-enter-info-student",46),t.bIt("closeDialog",function(l){t.eBV(c);const g=t.XpG();return t.Njj(g.btnCloseDialog(l))}),t.k0s()()}if(2&r){const c=t.XpG();t.R7$(),t.Y8G("studentForm",c.studentForm)}}function Ei(r,f){if(1&r&&(t.j41(0,"div",47)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r){const c=t.XpG();t.R7$(2),t.SpI("",t.bMT(3,1,c.msgError),"!")}}function Zi(r,f){1&r&&t.nrm(0,"azt-loading-ui",48)}function qi(r,f){if(1&r){const c=t.RV6();t.j41(0,"azt-export-excel-for-student-list",49),t.bIt("exportDataDone",function(l){t.eBV(c);const g=t.XpG();return t.Njj(g.exportStudentListDone(l))}),t.k0s()}if(2&r){const c=t.XpG();t.Y8G("objs",c.exportStudentObjs)}}let to=(()=>{var r;class f extends Ie._{exportDefaultListStudent(){this.exportStudentObjs=[{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_1"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_1"),phone:"0123456789",email:"nguyenvana@gmail.com",password:this.isBusinessDomain||this.checkVipAccountService?"aBc@123":"",identificationNumber:1,birthday:new Date(2001,1,23),gender:1,classroomId:0,parentId:0,facebookLink:"https://www.facebook.com/azotavn",schoolName:"Tr\u01b0\u1eddng THPT Azota"},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_2"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_2"),phone:"0123456790",email:"phamthib@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:2,birthday:new Date(2001,5,25),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_3"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_3"),phone:"0123456791",email:"C@Gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:3,birthday:new Date(2002,5,25),gender:1,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_4"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_4"),phone:"0112348478",email:"tranthid@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:4,birthday:new Date(2002,2,23),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_5"),parentUserName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_username_5"),phone:"0123456793",email:void 0,password:this.isBusinessDomain?"aBc@123":"",identificationNumber:void 0,birthday:void 0,gender:0,classroomId:0,parentId:0}]}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.studentObjs)}exportStudentListDone(m){let l=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(m,l)}changeNameDownloadFile(m){return this.commonService.createFileNameExportFile([m])+".xlsx"}handleUploadComplete(m){this.file=m,this.fileMb=this.getFileMB(this.file?.size??0)}getFileMB(m){return m&&m>0?(m/=1048576).toFixed(2):0}removeFile(m){m.stopPropagation(),this.fileSelect&&(this.fileSelect.nativeElement.value=null),this.file=null}showImportExcel(m){this.importExcel=m}btnCloseDialog(m){this.dialogRef.close(m)}selectedIndexChange(m){if(this.selected.setValue(m),this.showImportExcel(0!=m),this.file){let l=document.getElementById("button-remove-export");l&&l.click()}}togglePassword(){this.showPassword=!this.showPassword}confirmAction(){let m=this.studentForm.form.getRawValue();this.initStatusObj(),this.importExcel&&this.file?this.handleExcelImport():this.studentForm.form.valid&&this.handleStudentFormSave(m)}handleExcelImport(){const m=1===this.selected.value?this.studentService.apiStudentSaveStudentWithExcelPostForm(this.classroomObj.id,this.file):this.studentService.apiStudentUpdateStudentWithExcelPostForm(this.classroomObj.id,this.file);this.waitDestroy(m.subscribe(l=>{1===l.success&&l.data?.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack(1===this.selected.value?"lang_student_utils_add_success":"lang_cms_utils_update_folder_success")):this.handleExcelError(l)}))}handleExcelError(m){1===m.success?(this.errorStatusObj("lang_student_error_uploading_file_please_check_again",!0),this.errorImportFile=m.data?.errors??[],this.file=null):(this.btnCloseDialog(!1),this.errorStatusObj(m.message??"",!0))}handleStudentFormSave(m){let l={fullName:m.fullName,phone:m.phoneNumber,identificationNumber:m.identificationNumber?Number(m.identificationNumber):void 0,email:m.email,gender:Number(m.gender),birthday:m.birthday?this.timeService.formatOnlyDateToPostToServer(m.birthday):void 0,classroomId:this.classroomObj.id??0,password:m.password,facebookLink:m.facebookLink,schoolName:m.school,userName:m.userName};this.waitDestroy(this.studentService.apiStudentSaveObjPost(l).subscribe(g=>{1===g.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_student_utils_add_success")):(this.stopStatusObj(),this.msgError=g.message??"",this.showErrorSnack(this.msgError))}))}ngOnInit(){super.ngOnInit()}constructor(m,l,g,N,W){super(W,N),this.shareFileFlutterService=m,this.studentService=l,this.timeService=g,this.dialogRef=N,this.data=W,this.studentForm=new ui.d,this.selected=new nt.MJ(0,{nonNullable:!0}),this.importExcel=!1,this.birthDay="",this.msgError="",this.maxDate=F.c.maxDateTimePicker,this.showPassword=!1,this.fileMb=0,this.errorImportFile=[],this.allUploadFileTypes=ji.PO,this.file=null,this.studentObjs=W.studentObjs,this.classroomObj=W.classroomObj}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(oi.R),t.rXU(De.b0),t.rXU(ii.F),t.rXU(re.CP,8),t.rXU(re.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-add-student"]],viewQuery:function(m,l){if(1&m&&t.GBs(Xn,5),2&m){let g;t.mGM(g=t.lsd())&&(l.fileSelect=g.first)}},features:[t.Jv_([{provide:se.$O,useClass:kn.fb,deps:[ne.Ju,kn.ij]},{provide:se.vq,useFactory:Rn.fJ,deps:[ii.F]},{provide:cn.U$,useValue:{floatLabel:"never"}}]),t.Vt3],decls:24,vars:22,consts:[["exitsFile",""],["c","isDisabled"],[1,"box","scroll-menu-test"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[3,"selectedIndexChange","selectedIndex"],[3,"label"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],["class","text-xs font-medium text-danger mt-2 mb-2 ml-3 fade",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","add_student-g5-sbau_Ya",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","add_student-I6Q3FiuU2e",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"form-group"],["class","mt-4",4,"ngIf"],[1,"intro","mt-4"],["class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md",4,"ngIf","ngIfElse"],[1,"mt-2","text-center"],["azt-track-service","add_teacher-pukPV3tL4","class","btn text-primary btn-transparent","target","_self",3,"click",4,"ngIf"],[1,"mt-4"],[3,"excelErrorList"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[3,"emitFiles","fileType"],[1,"px-4","pb-8","mt-8","flex","items-center","justify-center","text-center","cursor-pointer","relative"],[1,"flex","items-center"],["name","file-spreadsheet","size","20",3,"ngClass"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"click","matTooltip"],["name","trash-2","size","18"],["azt-track-service","add_teacher-pukPV3tL4","target","_self",1,"btn","text-primary","btn-transparent",3,"click"],["name","cloud-download","size","20",3,"ngClass"],[1,"text-primary"],[1,"px-2"],[3,"closeDialog","studentForm"],[1,"text-xs","font-medium","text-danger","mt-2","mb-2","ml-3","fade"],[1,"mr-1"],[3,"exportDataDone","objs"]],template:function(m,l){1&m&&(t.j41(0,"div",2)(1,"div",3)(2,"azt-mat-dialog-content")(3,"div",4)(4,"mat-tab-group",5),t.bIt("selectedIndexChange",function(N){return l.selectedIndexChange(N)}),t.nrm(5,"mat-tab",6),t.nI1(6,"mytranslate"),t.nrm(7,"mat-tab",6),t.nI1(8,"mytranslate"),t.nrm(9,"mat-tab",6),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div"),t.DNE(12,Ki,9,5,"div",7)(13,Qi,2,1,"div",8),t.k0s()()(),t.DNE(14,Ei,4,3,"div",9),t.k0s(),t.j41(15,"div",10)(16,"button",11),t.bIt("click",function(){return l.btnCloseDialog(!1)}),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"button",12),t.bIt("click",function(){return l.confirmAction()}),t.DNE(20,Zi,1,0,"azt-loading-ui",13),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.DNE(23,qi,1,1,"azt-export-excel-for-student-list",14)),2&m&&(t.R7$(4),t.Y8G("selectedIndex",l.selected.value),t.R7$(),t.FS9("label",t.bMT(6,12,"lang_student_utils_add_student")),t.R7$(2),t.FS9("label",t.bMT(8,14,"lang_student_utils_quick_add_excel")),t.R7$(2),t.FS9("label",t.bMT(10,16,"lang_student_utils_quick_add_phone_and_email_info")),t.R7$(3),t.Y8G("ngIf",0!=l.selected.value),t.R7$(),t.Y8G("ngIf",0==l.selected.value),t.R7$(),t.Y8G("ngIf",""!==l.msgError&&0==l.selected.value),t.R7$(3),t.SpI(" ",t.bMT(18,18,"lang_cms_common_close_btn")," "),t.R7$(2),t.Y8G("disabled",l.statusObj.loading||l.studentForm.form.invalid&&!l.importExcel||null==l.file&&l.importExcel),t.R7$(),t.Y8G("ngIf",l.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(22,20,"lang_cms_common_confirm_btn")," "),t.R7$(2),t.Y8G("ngIf",l.exportStudentObjs))},dependencies:[x.YU,x.bT,Vn.mq,Vn.T8,P.oV,Be.U,Z.f,si.m,st.R,Li.s,Bi.p,Un,yt.WGl,z.wp,z.gt],styles:[".file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#1baba10d;border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}.hover-cancel[_ngcontent-%COMP%]:hover{background-color:#ebe9e9}.hover-save[_ngcontent-%COMP%]:hover{background-color:#ff3526}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}.input-custom[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:3px;padding-left:12px;padding-top:10px}.block-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.block-text[_ngcontent-%COMP%]{width:60px;color:#757575!important;font-size:16px}.block-input[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:space-evenly}"]}),f})();var eo=p(47160);const no=()=>({"mr-2 text-danger":!0});function wi(r,f){if(1&r&&(t.j41(0,"div",16)(1,"span",17),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"azt-see-more-content",18),t.k0s()()),2&r){const c=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_hoc_sinh"),":\xa0 "),t.R7$(2),t.Y8G("content",c.listStudentsNames)("maxLength",200)}}function io(r,f){1&r&&t.nrm(0,"azt-loading-ui",19)}let oo=(()=>{var r;class f extends Ie._{btnCloseDialog(m){this.dialogRef.close(m)}confirmDelete(){this.initStatusObj();let m=this.listStudentObjs.map(g=>g.id);this.waitDestroy(this.studentService.apiStudentDeleteObjsPost({classroomId:this.classroomObj.id,studentIds:m}).subscribe(g=>{1==g.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(g.message,!0),this.btnCloseDialog(!1))}))}constructor(m,l,g){super(g,l),this.studentService=m,this.dialogRef=l,this.data=g,this.listStudentsNames="",this.listStudentObjs=g.listStudentObjs,this.classroomObj=g.classroomObj,this.listStudentsNames=g.listStudentObjs.map(N=>N.fullName).join(", ")}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(De.b0),t.rXU(re.CP,8),t.rXU(re.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-delete-list-student"]],features:[t.Vt3],decls:31,vars:22,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center","mb-2"],["name","trash-2","size","24",3,"ngClass"],[1,"font-medium","text-danger"],[2,"text-transform","lowercase"],[1,"text-danger"],[1,"contentBoxName"],[3,"defaultHeight"],[1,"p-2","w-64","sm:w-full"],["class","text-slate-500 dark:text-slate-400 mb-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","delete_list_student-ixh0YFkn_",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","delete_list_student--8oV9RBQ9X",1,"btn","btn-danger",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-slate-500","dark:text-slate-400","mb-2"],[1,"font-medium"],[3,"content","maxLength"],[1,"mr-1"]],template:function(m,l){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.j41(5,"span"),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"span",5),t.EFF(9),t.k0s(),t.EFF(10," \xa0 "),t.j41(11,"span",6),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.EFF(14),t.nI1(15,"mytranslate"),t.j41(16,"span",7),t.EFF(17),t.k0s(),t.EFF(18," ? "),t.k0s()(),t.j41(19,"div",8)(20,"azt-mat-dialog-content",9)(21,"div",10),t.DNE(22,wi,5,5,"div",11),t.k0s()()()()(),t.j41(23,"div",12)(24,"button",13),t.bIt("click",function(){return l.btnCloseDialog(!1)}),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"button",14),t.bIt("click",function(){return l.confirmDelete()}),t.DNE(28,io,1,0,"azt-loading-ui",15),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(21,no)),t.R7$(2),t.SpI(" ",t.bMT(7,11,"lang_auto_ban_co_chac_chan_muon_xoa"),"\xa0 "),t.R7$(3),t.JRh(l.data.listStudentObjs.length),t.R7$(3),t.JRh(t.bMT(13,13,"lang_auto_hoc_sinh")),t.R7$(2),t.SpI(" ",t.bMT(15,15,"lang_student_utils_delete_student_last"),":\xa0 "),t.R7$(3),t.JRh(l.classroomObj.name),t.R7$(3),t.Y8G("defaultHeight",70),t.R7$(2),t.Y8G("ngIf",""!=l.listStudentsNames),t.R7$(3),t.SpI(" ",t.bMT(26,17,"lang_cms_common_close_btn")," "),t.R7$(3),t.Y8G("ngIf",l.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(30,19,"lang_cms_common_confirm_btn")," "))},dependencies:[x.YU,x.bT,eo.l,Be.U,st.R,yt.WGl,z.wp],encapsulation:2}),f})();var so=p(14999),ao=p(46723),Ri=p(84828);function ro(r,f){if(1&r&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&r){const c=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_zalo_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==c.extraDataObj?null:c.extraDataObj.reApprovedZaloFullName)}}function Mi(r,f){if(1&r&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&r){const c=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_so_dien_thoai_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==c.extraDataObj?null:c.extraDataObj.reApprovedPhone)}}function lo(r,f){if(1&r&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&r){const c=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_auto_email_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==c.extraDataObj?null:c.extraDataObj.reApprovedEmail)}}function co(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.j41(6,"span",9),t.EFF(7),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.j41(10,"span",10),t.EFF(11),t.k0s(),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,ro,5,4,"span",11)(15,Mi,5,4,"span",11)(16,lo,5,4,"span",11),t.j41(17,"div",12)(18,"div",13),t.bIt("click",function(){const l=t.eBV(c).$implicit,g=t.XpG();return t.Njj(g.reApproveStudent(l.studentId,l.id))}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"div",14),t.bIt("click",function(){const l=t.eBV(c).$implicit,g=t.XpG();return t.Njj(g.rejectApproveRequest(l.studentId,l.id))}),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()()()()}if(2&r){const c=f.$implicit;t.R7$(4),t.SpI(" ",t.bMT(5,10,"lang_student_utils_reques_notice_list_student"),"\xa0 "),t.R7$(3),t.JRh(c.studentName),t.R7$(),t.SpI(" \xa0 ",t.bMT(9,12,"lang_student_utils_reques_notice_list_class"),"\xa0 "),t.R7$(3),t.JRh(c.classroomName),t.R7$(),t.SpI(" \xa0 ",t.bMT(13,14,"lang_student_utils_reques_notice_list_dont_select_name"),". "),t.R7$(2),t.Y8G("ngIf",null==c.extraDataObj?null:c.extraDataObj.reApprovedZaloFullName),t.R7$(),t.Y8G("ngIf",null==c.extraDataObj?null:c.extraDataObj.reApprovedPhone),t.R7$(),t.Y8G("ngIf",null==c.extraDataObj?null:c.extraDataObj.reApprovedEmail),t.R7$(3),t.SpI(" ",t.bMT(20,16,"lang_student_utils_reques_notice_list_unlock_select_again")," "),t.R7$(3),t.JRh(t.bMT(23,18,"lang_button_skip"))}}let mo=(()=>{var r;class f extends Ie._{reApproveStudent(m,l){this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(m??0).subscribe(g=>{1==g.success?(this.showSuccessSnack("lang_auto_mo_khoa_cho_hoc_sinh_thanh_cong"),this.noticeObjs=this.noticeObjs.filter(N=>N.id!=l),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(g.message??"",!0)}))}rejectApproveRequest(m,l){this.waitDestroy(this.studentService.apiStudentRejectMappingRequestGet(m??0).subscribe(g=>{1==g.success?(this.noticeObjs=this.noticeObjs.filter(N=>N.id!=l),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(g.message??"",!0)}))}btnCloseDialog(m){this.dialogRef.close(m)}constructor(m,l,g,N){super(N,g),this.studentService=m,this.noticeService=l,this.dialogRef=g,this.data=N,this.classroomObj=N.classroomObj,this.noticeObjs=N.noticeObjs}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(De.b0),t.rXU(Ri.eI),t.rXU(re.CP,8),t.rXU(re.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-re-approve-request"]],features:[t.Vt3],decls:9,vars:4,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","scroll-menu-test"],[1,"p-3"],["class","ml-2 mb-2 mr-2 noticeobj",4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","request_notice_list-fcVrrBJYoFq",1,"btn","w-24","btn-secondary",3,"click"],[1,"ml-2","mb-2","mr-2","noticeobj"],[1,"pt-1","pb-1"],[1,"notify__content"],[1,"notify__name",2,"word-break","break-word"],[1,"notify__name"],["class","block",4,"ngIf"],[1,"mt-2","flex","justify-end"],["azt-track-service","request_notice_list-LmGuEaUfXP2",1,"notify__btn","bg-info","clickable",3,"click"],["azt-track-service","request_notice_list-K5qVGrBSxAh",1,"notify__btn","ml-3","clickable",3,"click"],[1,"block"]],template:function(m,l){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2),t.DNE(4,co,24,20,"div",3),t.k0s()()(),t.j41(5,"div",4)(6,"button",5),t.bIt("click",function(){return l.btnCloseDialog(!1)}),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(4),t.Y8G("ngForOf",l.noticeObjs),t.R7$(3),t.SpI(" ",t.bMT(8,2,"lang_cms_common_close_btn")," "))},dependencies:[x.Sq,x.bT,Be.U,z.wp],styles:[".noticeobj[_ngcontent-%COMP%]{background-color:#ecebeb;border-radius:5px;border:1px solid #e5e5e5}.notify__name[_ngcontent-%COMP%]{font-weight:500}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px 15px}.notify__btn[_ngcontent-%COMP%]{text-align:center;border-radius:5px;padding:5px;color:#000;font-size:14px;background-color:#fff;border:1px solid #cecdcd;width:-moz-fit-content;width:fit-content}.bg-info[_ngcontent-%COMP%]{color:#fff!important;border:1px solid #00a7d0!important;background-color:#00a7d0}.note[_ngcontent-%COMP%]{font-style:italic;font-size:15px;font-weight:600}"]}),f})();var _o=p(34514),v=p(93493),G=p(81587);function k(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_ten_dang_nhap")," "))}function b(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_phai_nhieu_hon_3_ky_tu")," "))}function S(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_phai_it_hon_100_ky_tu")," "))}function D(r,f){1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_ten_dang_nhap_chi_chua_cac_ky_tu_hop_le_va_it_nhat_1_chu_cai")," "))}function Y(r,f){if(1&r&&(t.j41(0,"div",16),t.DNE(1,k,3,3,"span",17)(2,b,3,3,"span",17)(3,S,3,3,"span",17)(4,D,3,3,"span",17),t.k0s()),2&r){const c=t.XpG();t.R7$(),t.Y8G("ngIf",null==c.studentForm.form.controls.userName||null==c.studentForm.form.controls.userName.errors?null:c.studentForm.form.controls.userName.errors.required),t.R7$(),t.Y8G("ngIf",null==c.studentForm.form.controls.userName||null==c.studentForm.form.controls.userName.errors?null:c.studentForm.form.controls.userName.errors.isShort),t.R7$(),t.Y8G("ngIf",null==c.studentForm.form.controls.userName||null==c.studentForm.form.controls.userName.errors?null:c.studentForm.form.controls.userName.errors.isLong),t.R7$(),t.Y8G("ngIf",null==c.studentForm.form.controls.userName||null==c.studentForm.form.controls.userName.errors?null:c.studentForm.form.controls.userName.errors.isLetter)}}function ut(r,f){1&r&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function wt(r,f){1&r&&(t.j41(0,"div",16)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function Jt(r,f){1&r&&t.nrm(0,"azt-loading-ui",18)}let mn=(()=>{var r;class f extends Ie._{confirmCreate(){this.initStatusObj(),this.studentService.apiStudentCreateStudentUserPost({id:this.data.student.id,userName:this.studentForm.form.controls.userName?.value??"",password:this.studentForm.form.controls.password?.value??""}).subscribe(l=>{if(!l.success)return this.errorStatusObj(l.message??"lang_business_create_account_unsuccessfully",!0);this.successStatusObj("lang_business_create_account_successfully",!0),this.dialogRef.close(!0)})}btnCloseDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit(),this.studentForm.form=new nt.gE({fullName:new nt.MJ(this.data.student.fullName??"",{nonNullable:!0,validators:[nt.k0.required]}),userName:new nt.MJ({value:this.data.student.parentUserName??"",disabled:!!this.data.student.parentUserName},{nonNullable:!0,validators:[nt.k0.required,nt.k0.min(3),v.i.validateUserName]}),password:new nt.MJ("",{nonNullable:!0,validators:[nt.k0.required,nt.k0.minLength(6)]}),email:new nt.MJ({value:this.data.student.email??"",disabled:!!this.data.student.email},{nonNullable:!0}),phoneNumber:new nt.MJ({value:this.data.student.phone??"",disabled:!!this.data.student.phone},{nonNullable:!0})})}constructor(m,l,g){super(g,l),this.studentService=m,this.dialogRef=l,this.data=g,this.showPassword=!1,this.studentForm=new ui.d}ngOnDestroy(){super.ngOnDestroy()}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(De.b0),t.rXU(re.CP,8),t.rXU(re.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["azt-create-user-business"]],features:[t.Jv_([{provide:se.$O,useClass:kn.fb,deps:[ne.Ju,_o.ij]},{provide:se.vq,useFactory:Rn.fJ,deps:[ii.F]}]),t.Vt3],decls:29,vars:25,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"formGroup"],[1,"mt-3"],["id","username","formControlName","userName","type","text",1,"form-control",2,"margin-right","-65px","padding-right","70px",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-forn-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","20",3,"name"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","mr-2","min-width-100",3,"click"],[1,"btn","btn-primary","min-width-100",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[4,"ngIf"],[1,"mr-1"]],template:function(m,l){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"form",4)(9,"div",5),t.nrm(10,"input",6),t.nI1(11,"mytranslate"),t.DNE(12,Y,5,4,"div",7),t.k0s(),t.j41(13,"div",5)(14,"div",8),t.nrm(15,"input",9),t.nI1(16,"mytranslate"),t.j41(17,"button",10),t.bIt("click",function(){return l.showPassword=!l.showPassword}),t.nrm(18,"lucide-icon",11),t.k0s()(),t.DNE(19,ut,3,3,"div",7)(20,wt,4,3,"div",7),t.k0s()()()()(),t.j41(21,"div",12)(22,"button",13),t.bIt("click",function(){return l.btnCloseDialog()}),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"button",14),t.bIt("click",function(){return l.confirmCreate()}),t.DNE(26,Jt,1,0,"azt-loading-ui",15),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(5),t.SpI(" ",t.bMT(6,13,"lang_business_create_account")+" "+t.bMT(7,15,"lang_config_cho")+" "+l.data.student.fullName," "),t.R7$(3),t.Y8G("formGroup",l.studentForm.form),t.R7$(2),t.FS9("placeholder",t.bMT(11,17,"lang_auto_nhap_ten_dang_ky")),t.R7$(2),t.Y8G("ngIf",null==l.studentForm.form.controls.userName?null:l.studentForm.form.controls.userName.errors),t.R7$(3),t.FS9("placeholder",t.bMT(16,19,"lang_auto_mat_khau")),t.Y8G("type",l.showPassword?"text":"password"),t.R7$(3),t.FS9("name",l.showPassword?"eye":"eye-off"),t.R7$(),t.Y8G("ngIf",null==l.studentForm.form.controls.password||null==l.studentForm.form.controls.password.errors?null:l.studentForm.form.controls.password.errors.minlength),t.R7$(),t.Y8G("ngIf",null==l.studentForm.form.controls.password||null==l.studentForm.form.controls.password.errors?null:l.studentForm.form.controls.password.errors.required),t.R7$(3),t.SpI(" ",t.bMT(24,21,"lang_auto_dong")," "),t.R7$(2),t.Y8G("disabled",l.studentForm.form.invalid||l.statusObj.loading),t.R7$(),t.Y8G("ngIf",l.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(28,23,"lang_auto_luu")," "))},dependencies:[x.bT,nt.qT,nt.me,nt.BC,nt.cb,nt.j4,nt.JD,G.t,Be.U,st.R,yt.WGl,z.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]}),f})();var Ht=p(68774),sn=p(67638),Ae=p(40609),ai=p(62095),Fi=p(51913),uo=p(41715),Oo=p(99927),hn=p(91640);let Eo=(()=>{var r;class f{constructor(m,l,g,N,W,xt){this.commonService=m,this.examPageResultService=l,this.permissionService=g,this.globalService=N,this.answerTypeService=W,this.homeworkExamService=xt}getTestedAllResultByClassroomId(m,l,g,N){return this.globalService.startIntervalFunc(m),this.getTestedOfExamResultByClassroomId(m,l,"all",g,N)}getTestedOfExamResultByClassroomId(m,l,g,N,W){return new En.c(xt=>{this.examPageResultService.apiExamPageResultGetObjV2Get(l).subscribe(Lt=>{if(1==Lt.success){let _e=Lt.data?.examObj,Ue=this.hasEssay(Lt.data?.examQuestionObjs??[]),di=Lt.data?.classroomWithAvatarAndStudentObjs??new Array;this.permissionService.hasViewExamPermission("exam",_e)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",_e)?this.getAllExamResultObjs(m,[],l,"",Si=>{if(Si.hasOwnProperty("success")&&1==Si.success){let xa=this.mergeStudentWithAvatar(Si.studentWithResultObjs??[]),qo={};xa?.forEach(Ii=>{let Sa=Ii.parentId??"0";qo.hasOwnProperty(Sa)||(qo[Sa]=Ii.examResultObjs??[])});let Ta=W;if(this.homeworkExamService.mustInClassroom(_e)&&di.length>0)for(let Ii=0;Ii<di.length;Ii++)if(di[Ii].classroomObj?.id==N){let we=di[Ii].studentObjs??[];if(we.length>0)for(let Re=0;Re<we.length;Re++){let Ma=we[Re].parentId??"0";qo.hasOwnProperty(Ma)?(Array.isArray(we[Re].examResultObjs)||(we[Re].examResultObjs=[]),we[Re].examResultObjs=this.findExamResultOfStudent(we[Re].examResultObjs?.concat(qo[Ma])??[],we[Re].id??"0")):we[Re].examResultObjs=this.findExamResultOfStudent(we[Re].examResultObjs??[],we[Re].id??"0");let Fa=this.filterExamResultByType(we[Re].examResultObjs??[],"first"),Da=this.filterExamResultByType(we[Re].examResultObjs??[],"last"),Ga=this.filterExamResultByType(we[Re].examResultObjs??[],"highest");Ta.forEach(Ai=>{if(Ai.dataExam||(Ai.dataExam=[]),Ai.parentId==we[Re].parentId||Ai.id.toString()==we[Re].id){let ts=Fa.hasOwnProperty(we[Re].parentId??0)?Fa[we[Re].parentId??0]:void 0,es=Da.hasOwnProperty(we[Re].parentId??0)?Da[we[Re].parentId??0]:void 0,Na=Ga.hasOwnProperty(we[Re].parentId??0)?Ga[we[Re].parentId??0]:void 0,nl={id:_e?.id??0,name:_e?.name??"",firstPoint:ts?this.checkMarkStatus(ts,Ue):void 0,lastPoint:es?this.checkMarkStatus(es,Ue):void 0,highestPoint:Na?this.checkMarkStatus(Na,Ue):void 0};Ai.dataExam.push(nl)}Ai.dataExam.sort((ts,es)=>(ts.id??0)-(es.id??0))},Ta)}break}xt.next({status:200,success:1,data:Ta,message:"successful"}),xt.complete()}else xt.next({status:Si.code,success:0,data:W,message:Si.message??""}),xt.complete()}):(xt.next({status:200,success:1,data:W,message:"successful"}),xt.complete())}else xt.next({status:Lt.code,success:0,data:W,message:Lt.message??""}),xt.complete()})})}getAllExamResultObjs(m,l,g,N,W){this.examPageResultService.apiExamPageResultGetObjsV2Get(g,"export",N).subscribe(xt=>{1==xt.success?(xt.data?.objs&&l.push(...xt.data.objs),xt.data?.nextPage?this.globalService.isStopIntervalFunc(m)?W({studentWithResultObjs:l,success:1}):setTimeout(()=>{this.getAllExamResultObjs(m,l,g,xt.data?.nextPage??"",W)},300):W({studentWithResultObjs:l,success:1})):W({code:xt.code,studentWithResultObjs:[],success:0,message:xt.message??""})})}filterExamResultOnTest(m,l,g){var N={};return m.forEach(W=>{var xt=this.commonService.myClone(W)??{};if(xt.testStatus)N[xt.userId??0]=xt.testStatus;else if(xt.startedTest&&g)if(l.endTime){var Lt=Math.floor(new Date(l.endTime).getTime()/1e3);N[xt.userId??0]=g<=Lt+60*(l.minutes??0)+600?0:-1}else{var _e=xt.startedTest?Math.floor(new Date(xt.startedTest).getTime()/1e3):0;N[xt.userId??0]=g<=_e+86400?0:-1}else N[xt.userId??0]=0}),N}mergeStudentWithAvatar(m){var l=[];return m.forEach(g=>{var N=l.filter(xt=>xt.parentId==g.parentId);if(N&&0!=N.length)for(var W=0;W<l.length;W++)l[W].parentId==g.parentId&&(l[W].examResultObjs=l[W].examResultObjs?.concat(g.examResultObjs??[]));else l.push(g)}),l}findExamResultOfStudent(m,l){var g=[];return m.forEach(N=>{(N.studentId==l||null==N.studentId)&&g.push(N)}),g}createStudentWithResult(m,l,g){return{id:m.id,userId:m.parentId,studentId:m.id,identificationNumber:l.examResultStatisticObj?.offlineMarkInfoObj?.studentCode??0,offlineMixQuestionHashId:l.examResultStatisticObj?.offlineMarkInfoObj?.offlineMixquestionHashId??0,gender:m.gender,fullName:m.fullName,avatar:m.avatar,birthday:m.birthday,mark:l.hasOwnProperty("mark")?l.mark:null,confirmedAt:l.hasOwnProperty("confirmedAt")?l.confirmedAt:null,startedTest:l.hasOwnProperty("startedTest")?l.startedTest:null,createdAt:l.hasOwnProperty("createdAt")?l.createdAt:null,status:g,totalExamResultObjs:0,checkBoxGroupControl:new nt.gE({isShow:new nt.MJ(!1,{nonNullable:!0}),selectedCheckbox:new nt.MJ(!1,{nonNullable:!0})}),questionTypeMarks:l.questionTypeMarks??[]}}filterExamResultByType(m,l){var g={};if(m.length>1)m.forEach((W,xt)=>{var Lt=this.commonService.myClone(W);W.testStatus&&(Lt.resultId=Lt.id,Lt.indexTest=xt,"last"==l&&(g[Lt.userId??0]=Lt),"first"==l&&(g.hasOwnProperty(Lt.userId??0)||(g[Lt.userId??0]=Lt)),"highest"==l)&&(g.hasOwnProperty(Lt.userId??0)?(g[Lt.userId??0].mark??-1)<=(Lt.mark??-1)&&(g[Lt.userId??0]=Lt):g[Lt.userId??0]=Lt)});else{var N=this.commonService.myClone(m[0]??{});N.resultId=N.testStatus?N.id:0,N.indexTest=0,g[N.userId??0]=N}return g}hasEssay(m){let l=!1;for(let g=0;g<m.length;g++)if(this.answerTypeService.isEssayAnswer(m[g])){l=!0;break}return l}checkMarkStatus(m,l){return l?1==m.testStatus?m.confirmedAt?m.mark:-1:void 0:1==m.testStatus?m.mark:void 0}}return(r=f).\u0275fac=function(m){return new(m||r)(t.KVO(ai.R),t.KVO(Nt.TE),t.KVO(Fi.p),t.KVO(uo.r),t.KVO(Oo._),t.KVO(hn.Z))},r.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),f})();var wo=p(97924),ns=p(68323),po=p(78745),is=p(7919),Ro=p(41517),Mo=p(22783);const Fo=["parent"],Do=r=>({"flex-wrap":r}),gi=r=>({"w-full":r}),ri=()=>["fullName","phone","email"],Go=()=>({"mr-2 flex-none":!0}),Ce=()=>({"mr-2":!0}),hi=r=>({opacity:r}),li=r=>({"mr-3":r}),Di=()=>({"text-slate-500":!0}),go=()=>({"ml-1 text-success":!0});function os(r,f){if(1&r&&(t.j41(0,"div",13),t.nrm(1,"azt-loading-effect",14),t.k0s()),2&r){const c=t.XpG();t.R7$(),t.Y8G("currentStatusObj",c.statusObj)}}function ss(r,f){if(1&r&&t.nrm(0,"azt-download-qr-code",36),2&r){const c=t.XpG(2);t.Y8G("fileName",c.convertNameForQR())("linkUrl",c.copyLinkToClipboard())("showLink",!c.isMobileDevice)}}function No(r,f){if(1&r&&(t.j41(0,"button",39)(1,"span",40),t.nrm(2,"lucide-icon",41),t.k0s()()),2&r){t.XpG(3);const c=t.sdS(5);t.Y8G("matMenuTriggerFor",c)}}function as(r,f){if(1&r&&(t.j41(0,"div",37),t.DNE(1,No,3,1,"button",38),t.k0s()),2&r){const c=t.XpG(2);t.R7$(),t.Y8G("ngIf",null!=(null==c.classroomObj?null:c.classroomObj.permissionObj))}}function rs(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",53),t.bIt("click",function(){t.eBV(c);const l=t.XpG(3);return t.Njj(l.exportListStudent())}),t.nrm(1,"lucide-icon",54),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Go)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_student_utils_export_list_student")," "))}function $o(r,f){1&r&&t.nrm(0,"azt-loading-ui",58)}function vt(r,f){1&r&&t.nrm(0,"lucide-icon",54),2&r&&t.Y8G("ngClass",t.lJ4(1,Ce))}function Ia(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",55),t.bIt("click",function(){t.eBV(c);const l=t.XpG(3);return t.Njj(l.exportExcelForScoreOfClassroom())}),t.DNE(1,$o,1,0,"azt-loading-ui",56)(2,vt,1,2,"lucide-icon",57),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()}if(2&r){const c=t.XpG(3);t.R7$(),t.Y8G("ngIf",c.loadingExport),t.R7$(),t.Y8G("ngIf",!c.loadingExport),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_auto_xuat_bang_diem")," ")}}function ie(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",59),t.bIt("click",function(){t.eBV(c);const l=t.XpG(3);return t.Njj(l.addStudentDialog(l.classroomObj))}),t.nrm(1,"lucide-icon",60),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function Wn(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",61),t.bIt("click",function(){t.eBV(c);const l=t.XpG(3);return t.Njj(l.openDialogAutoNumbering())}),t.nrm(1,"lucide-icon",62),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_danh_so_bao_danh")," "))}function Cn(r,f){if(1&r&&(t.j41(0,"button",63),t.nrm(1,"lucide-icon",41),t.k0s()),2&r){t.XpG(3);const c=t.sdS(5);t.Y8G("matMenuTriggerFor",c)}}function Jn(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",42)(1,"div",43)(2,"div",44)(3,"azt-search-box",45),t.nI1(4,"mytranslate"),t.bIt("onSearch",function(l){t.eBV(c);const g=t.XpG(2);return t.Njj(g.onSearchBox(l.searchObj))}),t.k0s()(),t.j41(5,"div",46),t.DNE(6,rs,4,5,"button",47),t.nI1(7,"viewPermission"),t.DNE(8,Ia,5,5,"button",48),t.nI1(9,"viewPermission"),t.DNE(10,ie,4,5,"button",49),t.nI1(11,"editPermission"),t.DNE(12,Wn,4,5,"button",50),t.nI1(13,"editPermission"),t.j41(14,"div",51),t.DNE(15,Cn,2,1,"button",52),t.k0s()()()()}if(2&r){const c=t.XpG(2);t.R7$(3),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(4,7,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf",t.i5U(7,9,c.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(9,12,c.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(11,15,c.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(13,18,c.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",null!=(null==c.classroomObj?null:c.classroomObj.permissionObj))}}function ci(r,f){if(1&r&&(t.j41(0,"span",64),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const c=t.XpG(2);t.R7$(),t.Lme("",t.bMT(2,2,"lang_auto_da_chon")," ",c.totalCheckboxSelected,"")}}function fi(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",65),t.bIt("click",function(){t.eBV(c);const l=t.XpG(2);return t.Njj(l.deleteListStudentDialog())}),t.nrm(1,"lucide-icon",66),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_xoa")," "))}function ho(r,f){if(1&r){const c=t.RV6();t.j41(0,"input",89),t.bIt("change",function(){t.eBV(c);const l=t.XpG(4);return t.Njj(l.selectSingleStudent())}),t.k0s()}if(2&r){const c=t.XpG().$implicit;t.Y8G("formControl",c.checked)}}function bi(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",94),t.bIt("click",function(){t.eBV(c);const l=t.XpG(2),g=l.$implicit,N=l.index,W=t.XpG(3);return t.Njj(W.onPositionChange("up",N-1,g.id,null==W.classroomObj?null:W.classroomObj.id))}),t.nrm(1,"lucide-icon",95),t.k0s()}}function vi(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",96),t.bIt("click",function(){t.eBV(c);const l=t.XpG(2),g=l.$implicit,N=l.index,W=t.XpG(3);return t.Njj(W.onPositionChange("down",N+1,g.id,null==W.classroomObj?null:W.classroomObj.id))}),t.nrm(1,"lucide-icon",97),t.k0s()}}function zo(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",90),t.DNE(1,bi,2,0,"button",91),t.j41(2,"input",92,3),t.bIt("keyup.enter",function(){t.eBV(c);const l=t.sdS(3),g=t.XpG(),N=g.$implicit,W=g.index,xt=t.XpG(3);return t.Njj(xt.onPositionChange(l.value,W,N.id,null==xt.classroomObj?null:xt.classroomObj.id))}),t.k0s(),t.DNE(4,vi,2,0,"button",93),t.k0s()}if(2&r){const c=t.XpG().index,m=t.XpG(3);t.R7$(),t.Y8G("ngIf",0!=c),t.R7$(),t.FS9("value",c+1),t.R7$(2),t.Y8G("ngIf",m.listStudents&&c!=m.listStudents.length-1)}}function ls(r,f){if(1&r&&(t.j41(0,"div",98),t.EFF(1),t.k0s()),2&r){const c=t.XpG().index;t.R7$(),t.SpI(" ",c+1," ")}}function xn(r,f){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const c=t.XpG().$implicit;t.R7$(),t.E5c(" ",null==c.documentAttendedObj?null:c.documentAttendedObj.totalHomeworkAnswer," / ",null==c.totalDocumentObj?null:c.totalDocumentObj.totalHomework," ",t.bMT(2,3,"lang_student_classroom_list_detail_homework")," ")}}function We(r,f){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const c=t.XpG().$implicit;t.R7$(),t.E5c(" ",null==c.documentAttendedObj?null:c.documentAttendedObj.totalExamResult," / ",null==c.totalDocumentObj?null:c.totalDocumentObj.totalExam," ",t.bMT(2,3,"lang_student_classroom_list_detail_exam")," ")}}function fo(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",99),t.bIt("click",function(){t.eBV(c);const l=t.XpG().$implicit,g=t.XpG(3);return t.Njj(g.editStudentDialog(l))}),t.nrm(1,"lucide-icon",100),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_sua")," "))}function bo(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",101),t.bIt("click",function(){t.eBV(c);const l=t.XpG().$implicit,g=t.XpG(3);return t.Njj(g.deleteStudentDialog(l))}),t.nrm(1,"lucide-icon",102),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_button_delete")," "))}function Po(r,f){if(1&r){const c=t.RV6();t.j41(0,"azt-check-vip-account",103),t.bIt("checkAction",function(){t.eBV(c);const l=t.XpG().$implicit,g=t.XpG(3);return t.Njj(g.openDialogResetPass(l))}),t.nrm(1,"lucide-icon",104),t.j41(2,"span",105),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&r){const c=t.XpG(4);t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","btn btn-sm min-height-32px ml-3")("isShowBadgeVip",!c.isBusinessDomain)("isAction",!0)("trackingKey","STUDENT_RESET_PASSWORD"),t.R7$(),t.Y8G("ngClass",t.lJ4(10,Ce)),t.R7$(),t.Y8G("ngClass",t.eq3(11,li,!c.isBusinessDomain)),t.R7$(),t.JRh(t.bMT(4,8,"lang_core_dat_lai_mat_khau"))}}function Hn(r,f){if(1&r){const c=t.RV6();t.j41(0,"azt-check-vip-account",103),t.bIt("checkAction",function(){t.eBV(c);const l=t.XpG().$implicit,g=t.XpG(3);return t.Njj(g.openDialogCreateUser(l))}),t.nrm(1,"lucide-icon",106),t.j41(2,"span",105),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&r){const c=t.XpG(4);t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","btn btn-sm min-height-32px ml-3")("isShowBadgeVip",!c.isBusinessDomain)("isAction",!0)("trackingKey","STUDENT_CREATE_ACCOUNT"),t.R7$(),t.Y8G("ngClass",t.lJ4(10,Ce)),t.R7$(),t.Y8G("ngClass",t.eq3(11,li,!c.isBusinessDomain)),t.R7$(),t.JRh(t.bMT(4,8,"lang_business_create_account"))}}function vo(r,f){if(1&r){const c=t.RV6();t.j41(0,"tr",77)(1,"td",78),t.DNE(2,ho,1,1,"input",79),t.k0s(),t.j41(3,"td",80),t.DNE(4,zo,5,3,"div",81),t.nI1(5,"editPermission"),t.DNE(6,ls,2,1,"ng-template",null,2,t.C5r),t.k0s(),t.j41(8,"td",82),t.bIt("click",function(){const l=t.eBV(c).$implicit,g=t.XpG(3);return t.Njj(g.goToProfile(l.classroomId,l.id))}),t.nrm(9,"azt-student-info-box",83),t.k0s(),t.j41(10,"td",84),t.EFF(11),t.nI1(12,"formatStudentCodeToNumber"),t.k0s(),t.j41(13,"td",85),t.DNE(14,xn,3,5,"span",10),t.k0s(),t.j41(15,"td",85),t.DNE(16,We,3,5,"span",10),t.k0s(),t.j41(17,"td",85)(18,"div",40),t.DNE(19,fo,4,5,"button",86),t.nI1(20,"editPermission"),t.DNE(21,bo,4,5,"button",87),t.nI1(22,"editPermission"),t.DNE(23,Po,5,13,"azt-check-vip-account",88),t.nI1(24,"editPermission"),t.DNE(25,Hn,5,13,"azt-check-vip-account",88),t.nI1(26,"editPermission"),t.k0s()()()}if(2&r){const c=f.$implicit,m=t.sdS(7),l=t.XpG(3);t.Y8G("ngStyle",t.eq3(43,hi,null!=c.checked&&c.checked.value?"0.6":"1")),t.R7$(2),t.Y8G("ngIf",void 0!==c.checked),t.R7$(2),t.Y8G("ngIf",1==(null==l.classroomObj?null:l.classroomObj.sortType)&&t.i5U(5,25,l.classroomObj,"student"))("ngIfElse",m),t.R7$(5),t.Y8G("name",c.fullName)("parentFullName",c.parentFullName)("parentUserName",c.parentUserName)("parentId",c.parentId)("parentPhone",c.parentPhone)("avatar",c.avatar)("identificationNumber",c.identificationNumber)("gender",c.gender)("hasUser",1==c.isVerified)("schoolName",c.schoolName)("classrooms",null==c.moreInfo?null:c.moreInfo.classrooms)("joinedAt",null==c.moreInfo?null:c.moreInfo.joinedAt)("phone",c.phone)("email",c.email),t.R7$(2),t.JRh(c.identificationNumber?t.i5U(12,28,c.identificationNumber,6):""),t.R7$(3),t.Y8G("ngIf",(null==c.documentAttendedObj?null:c.documentAttendedObj.totalHomeworkAnswer)||(null==c.totalDocumentObj?null:c.totalDocumentObj.totalHomework)),t.R7$(2),t.Y8G("ngIf",(null==c.documentAttendedObj?null:c.documentAttendedObj.totalExamResult)||(null==c.totalDocumentObj?null:c.totalDocumentObj.totalExam)),t.R7$(3),t.Y8G("ngIf",t.i5U(20,31,l.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(22,34,l.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(24,37,l.classroomObj,"student")&&c.parentId),t.R7$(2),t.Y8G("ngIf",t.i5U(26,40,l.classroomObj,"student")&&!c.parentId)}}function ko(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",67)(1,"drag-scroll")(2,"table",68)(3,"thead")(4,"tr",69)(5,"th")(6,"input",70),t.bIt("change",function(){t.eBV(c);const l=t.XpG(2);return t.Njj(l.selectAllStudentsObjs())}),t.k0s()(),t.j41(7,"th",71)(8,"div",72),t.nI1(9,"mytranslate"),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"th",73),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"th",74),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"th",75),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"th",75),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"th",75),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()(),t.j41(27,"tbody"),t.DNE(28,vo,27,45,"tr",76),t.nI1(29,"appFilter"),t.k0s()()()()}if(2&r){const c=t.XpG(2);t.R7$(6),t.Y8G("formControl",c.isSelectAllFormControl),t.R7$(2),t.FCK("matTooltip","",t.bMT(9,14,"lang_student_classroom_list_detail_quantity"),": ",null!=c.classroomObj&&c.classroomObj.countStudents?null==c.classroomObj?null:c.classroomObj.countStudents:0,""),t.Y8G("matTooltipDisabled",c.isMobileDevice),t.R7$(2),t.E5c(" ",t.bMT(11,16,c.isMobileDevice?"":"lang_student_classroom_list_detail_quantity"),"",c.isMobileDevice?"":": ","",null!=c.classroomObj&&c.classroomObj.countStudents?null==c.classroomObj?null:c.classroomObj.countStudents:0," "),t.R7$(3),t.JRh(t.bMT(14,18,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(17,20,"lang_auto_so_bao_danh")),t.R7$(3),t.SpI(" ",t.bMT(20,22,"lang_auto_bai_tap_da_lam")," "),t.R7$(3),t.SpI(" ",t.bMT(23,24,"lang_auto_de_thi_da_lam")," "),t.R7$(3),t.JRh(t.bMT(26,26,"lang_auto_hanh_dong")),t.R7$(3),t.Y8G("ngForOf",t.brH(29,28,c.listStudents,c.searchContentObj.searchContent,t.lJ4(32,ri)))}}function cs(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",112),t.bIt("click",function(){t.eBV(c);const l=t.XpG(3);return t.Njj(l.addStudentDialog(l.classroomObj))}),t.nrm(1,"lucide-icon",60),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function ms(r,f){if(1&r&&(t.j41(0,"div",107)(1,"div",108),t.nrm(2,"azt-svg-icon",109),t.j41(3,"div",110),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,cs,4,5,"button",111),t.nI1(7,"editPermission"),t.k0s()()),2&r){let c;const m=t.XpG(2);t.R7$(2),t.Y8G("size",82),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_student_classroom_list_detail_not_student")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(7,5,m.classroomObj,"student")&&0==(null!==(c=null==m.listStudents?null:m.listStudents.length)&&void 0!==c?c:0))}}function _s(r,f){if(1&r){const c=t.RV6();t.j41(0,"div")(1,"input",70),t.bIt("change",function(){t.eBV(c);const l=t.XpG(2);return t.Njj(l.selectAllStudentsObjs())}),t.k0s(),t.j41(2,"span",113),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&r){const c=t.XpG(2);t.R7$(),t.Y8G("formControl",c.isSelectAllFormControl),t.R7$(2),t.JRh(t.bMT(4,2,"lang_auto_tat_ca"))}}function Ao(r,f){if(1&r&&(t.j41(0,"span",114),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const c=t.XpG(2);t.Y8G("ngClass",t.eq3(5,gi,c.isMobileDevice||c.isMobileWebView)),t.R7$(),t.Lme("",t.bMT(2,3,"lang_auto_da_chon")," ",c.totalCheckboxSelected,"")}}function ds(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",115),t.bIt("click",function(){t.eBV(c);const l=t.XpG(2);return t.Njj(l.deleteListStudentDialog())}),t.nrm(1,"lucide-icon",66),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_xoa")," "))}function ki(r,f){if(1&r){const c=t.RV6();t.j41(0,"input",89),t.bIt("change",function(){t.eBV(c);const l=t.XpG(3);return t.Njj(l.selectSingleStudent())}),t.k0s()}if(2&r){const c=t.XpG().$implicit;t.Y8G("formControl",c.checked)}}function Lo(r,f){if(1&r&&(t.j41(0,"a",130),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"formatStudentCodeToNumber"),t.nI1(6,"mytranslate"),t.EFF(7),t.k0s()),2&r){const c=t.XpG().$implicit;t.Tbm("matTooltip","\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(1,8,"lang_first_and_last_name"),": ",c.fullName,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(2,10,"lang_number_phone"),": ",c.phone?c.phone:t.bMT(3,12,"lang_not_data"),"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(4,14,"lang_auto_so_bao_danh"),": ",c.identificationNumber?t.i5U(5,16,c.identificationNumber,6):t.bMT(6,19,"lang_not_data"),""),t.R7$(7),t.SpI(" ",c.fullName," \xa0 ")}}function us(r,f){if(1&r&&(t.j41(0,"div",131),t.EFF(1),t.k0s()),2&r){const c=t.XpG().$implicit;t.R7$(),t.SpI(" ",c.phone," ")}}function ps(r,f){if(1&r&&(t.j41(0,"div",132),t.EFF(1),t.k0s()),2&r){const c=t.XpG().$implicit;t.FS9("matTooltip",c.email),t.R7$(),t.SpI(" ",c.email," ")}}function gs(r,f){if(1&r){const c=t.RV6();t.j41(0,"a",139),t.bIt("click",function(){t.eBV(c);const l=t.XpG(2).$implicit,g=t.XpG(2);return t.Njj(g.editStudentDialog(l))}),t.nrm(1,"lucide-icon",100),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_sua")," "))}function hs(r,f){if(1&r){const c=t.RV6();t.j41(0,"a",140),t.bIt("click",function(){t.eBV(c);const l=t.XpG(2).$implicit,g=t.XpG(2);return t.Njj(g.deleteStudentDialog(l))}),t.nrm(1,"lucide-icon",141),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_button_delete")," "))}function fs(r,f){if(1&r){const c=t.RV6();t.j41(0,"azt-check-vip-account",103),t.bIt("checkAction",function(){t.eBV(c);const l=t.XpG(2).$implicit,g=t.XpG(2);return t.Njj(g.openDialogResetPass(l))}),t.nrm(1,"lucide-icon",104),t.j41(2,"span",142),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","dropdown-item")("isShowBadgeVip",!0)("isAction",!0)("trackingKey","STUDENT_RESET_PASSWORD"),t.R7$(),t.Y8G("ngClass",t.lJ4(9,Ce)),t.R7$(2),t.JRh(t.bMT(4,7,"lang_core_dat_lai_mat_khau")))}function bs(r,f){if(1&r){const c=t.RV6();t.j41(0,"azt-check-vip-account",103),t.bIt("checkAction",function(){t.eBV(c);const l=t.XpG(2).$implicit,g=t.XpG(2);return t.Njj(g.openDialogCreateUser(l))}),t.nrm(1,"lucide-icon",106),t.j41(2,"span",142),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.Y8G("vipPackageType","VIP_FOR_TEACHER")("classCSSCustom","dropdown-item")("isShowBadgeVip",!0)("isAction",!0)("trackingKey","STUDENT_CREATE_ACCOUNT"),t.R7$(),t.Y8G("ngClass",t.lJ4(9,Ce)),t.R7$(2),t.JRh(t.bMT(4,7,"lang_business_create_account")))}function vs(r,f){if(1&r&&(t.j41(0,"div",133)(1,"a",134),t.nrm(2,"lucide-icon",135),t.k0s(),t.j41(3,"mat-menu",null,4)(5,"div",136)(6,"ul",9)(7,"li"),t.DNE(8,gs,4,5,"a",137),t.nI1(9,"editPermission"),t.k0s(),t.j41(10,"li"),t.DNE(11,hs,4,5,"a",138),t.nI1(12,"editPermission"),t.k0s(),t.j41(13,"li"),t.DNE(14,fs,5,10,"azt-check-vip-account",88),t.nI1(15,"editPermission"),t.DNE(16,bs,5,10,"azt-check-vip-account",88),t.nI1(17,"editPermission"),t.k0s()()()()()),2&r){const c=t.sdS(4),m=t.XpG().$implicit,l=t.XpG(2);t.R7$(),t.Y8G("matMenuTriggerFor",c),t.R7$(),t.Y8G("ngClass",t.lJ4(18,Di)),t.R7$(6),t.Y8G("ngIf",t.i5U(9,6,l.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",t.i5U(12,9,l.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",t.i5U(15,12,l.classroomObj,"student")&&m.parentId),t.R7$(2),t.Y8G("ngIf",t.i5U(17,15,l.classroomObj,"student")&&!m.parentId)}}function ks(r,f){1&r&&(t.j41(0,"div",148)(1,"span",149),t.nrm(2,"lucide-icon",150),t.k0s(),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()),2&r&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"lang_auto_co_tai_khoan")," "))}function Cs(r,f){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const c=t.XpG(2).$implicit;t.R7$(),t.E5c(" ",null==c.documentAttendedObj?null:c.documentAttendedObj.totalHomeworkAnswer," / ",null==c.totalDocumentObj?null:c.totalDocumentObj.totalHomework," ",t.bMT(2,3,"lang_student_classroom_list_detail_homework")," ")}}function xs(r,f){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const c=t.XpG(2).$implicit;t.R7$(),t.E5c(" ",null==c.documentAttendedObj?null:c.documentAttendedObj.totalExamResult," / ",null==c.totalDocumentObj?null:c.totalDocumentObj.totalExam," ",t.bMT(2,3,"lang_student_classroom_list_detail_exam")," ")}}function Ci(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",155),t.bIt("click",function(){t.eBV(c);const l=t.XpG(3),g=l.$implicit,N=l.index,W=t.XpG(2);return t.Njj(W.onPositionChange("up",N-1,g.id,null==W.classroomObj?null:W.classroomObj.id))}),t.nrm(1,"lucide-icon",95),t.k0s()}}function Ts(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",156),t.bIt("click",function(){t.eBV(c);const l=t.XpG(3),g=l.$implicit,N=l.index,W=t.XpG(2);return t.Njj(W.onPositionChange("down",N+1,g.id,null==W.classroomObj?null:W.classroomObj.id))}),t.nrm(1,"lucide-icon",97),t.k0s()}}function Ss(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",143)(1,"div",151)(2,"div",152),t.DNE(3,Ci,2,0,"button",153),t.j41(4,"input",92,3),t.bIt("keyup.enter",function(){t.eBV(c);const l=t.sdS(5),g=t.XpG(2),N=g.$implicit,W=g.index,xt=t.XpG(2);return t.Njj(xt.onPositionChange(l.value,W,N.id,null==xt.classroomObj?null:xt.classroomObj.id))}),t.k0s(),t.DNE(6,Ts,2,0,"button",154),t.k0s()()()}if(2&r){const c=t.XpG(2).index,m=t.XpG(2);t.R7$(3),t.Y8G("ngIf",0!=c),t.R7$(),t.FS9("value",c+1),t.R7$(2),t.Y8G("ngIf",m.listStudents&&c!=m.listStudents.length-1)}}function Is(r,f){if(1&r&&(t.j41(0,"div")(1,"div",143)(2,"div",144),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",145),t.EFF(6),t.nI1(7,"formatStudentCodeToNumber"),t.k0s()(),t.j41(8,"div",143)(9,"div",144),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"div",145),t.EFF(13),t.nI1(14,"mytranslate"),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",143)(17,"div",144),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"div",145),t.EFF(21),t.nI1(22,"formatOnlyDateByUserUnitPipe"),t.k0s()(),t.j41(23,"div",143)(24,"div",144),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"div",145),t.DNE(28,ks,5,3,"div",146),t.k0s()(),t.j41(29,"div",143)(30,"div",144),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.j41(33,"div",145),t.DNE(34,Cs,3,5,"span",10),t.k0s()(),t.j41(35,"div",143)(36,"div",144),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s(),t.j41(39,"div",145),t.DNE(40,xs,3,5,"span",10),t.k0s()(),t.DNE(41,Ss,7,3,"div",147),t.nI1(42,"editPermission"),t.k0s()),2&r){const c=t.XpG().$implicit,m=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,13,"lang_auto_so_bao_danh")," "),t.R7$(3),t.SpI(" ",c.identificationNumber?t.i5U(7,15,c.identificationNumber,6):""," "),t.R7$(4),t.SpI(" ",t.bMT(11,18,"lang_gender")," "),t.R7$(3),t.SpI(" ",0==c.gender?t.bMT(14,20,"lang_auto_nu"):t.bMT(15,22,"lang_auto_nam")," "),t.R7$(5),t.SpI(" ",t.bMT(19,24,"lang_birthday")," "),t.R7$(3),t.SpI(" ",t.bMT(22,26,c.birthday)," "),t.R7$(4),t.SpI(" ",t.bMT(26,28,"lang_testbank_folder_and_file_status")," "),t.R7$(3),t.Y8G("ngIf",1==c.isVerified),t.R7$(3),t.SpI(" ",t.bMT(32,30,"lang_auto_bai_tap_da_lam")," "),t.R7$(3),t.Y8G("ngIf",(null==c.documentAttendedObj?null:c.documentAttendedObj.totalHomeworkAnswer)||(null==c.totalDocumentObj?null:c.totalDocumentObj.totalHomework)),t.R7$(3),t.SpI(" ",t.bMT(38,32,"lang_auto_de_thi_da_lam")," "),t.R7$(3),t.Y8G("ngIf",(null==c.documentAttendedObj?null:c.documentAttendedObj.totalExamResult)||(null==c.totalDocumentObj?null:c.totalDocumentObj.totalExam)),t.R7$(),t.Y8G("ngIf",1==(null==m.classroomObj?null:m.classroomObj.sortType)&&t.i5U(42,34,m.classroomObj,"student"))}}function js(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",116)(1,"div",117),t.DNE(2,ki,1,1,"input",79),t.j41(3,"div",118)(4,"div",119),t.bIt("click",function(){const l=t.eBV(c).$implicit,g=t.XpG(2);return t.Njj(g.goToProfile(l.classroomId,l.id))}),t.j41(5,"div",120),t.nrm(6,"azt-create-avatar",121),t.nI1(7,"anonymousPhone"),t.nI1(8,"mycdn"),t.k0s(),t.j41(9,"div",122),t.DNE(10,Lo,8,21,"a",123)(11,us,2,1,"div",124)(12,ps,2,2,"div",125),t.k0s()(),t.DNE(13,vs,18,19,"div",126),t.nI1(14,"editPermission"),t.k0s(),t.j41(15,"button",127),t.bIt("click",function(){const l=t.eBV(c).index,g=t.XpG(2);return t.Njj(g.toggleExpandedContent(l))}),t.j41(16,"span"),t.nrm(17,"lucide-icon",128),t.k0s()()(),t.j41(18,"div",129),t.DNE(19,Is,43,37,"div",10),t.k0s()()}if(2&r){const c=f.$implicit,m=f.index,l=t.XpG(2);t.Y8G("ngStyle",t.eq3(22,hi,null!=c.checked&&c.checked.value?"0.6":"1")),t.R7$(2),t.Y8G("ngIf",void 0!==c.checked),t.R7$(4),t.Mz_("matTooltip","",0==c.parentId||1==c.isAnonymous?null:" Id: "+c.parentId+(""!=t.bMT(7,15,c.parentPhone)?" - Phone: "+c.parentPhone:"")+" - Name: "+c.parentFullName," "),t.Y8G("nameCreateAvatar",c.fullName)("linkAvatar",t.bMT(8,17,c.avatar))("size",36),t.R7$(4),t.Y8G("ngIf",c.fullName),t.R7$(),t.Y8G("ngIf",c.phone),t.R7$(),t.Y8G("ngIf",c.email),t.R7$(),t.Y8G("ngIf",t.i5U(14,19,l.classroomObj,"student")),t.R7$(3),t.AVh("rotate-180",l.expandedItemIndex===m),t.R7$(2),t.Y8G("@expandCollapse",l.expandedItemIndex===m?"open":"closed"),t.R7$(),t.Y8G("ngIf",l.expandedItemIndex===m)}}function ys(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",158),t.bIt("click",function(){t.eBV(c);const l=t.XpG(3);return t.Njj(l.addStudentDialog(l.classroomObj))}),t.nrm(1,"lucide-icon",159),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function Os(r,f){if(1&r&&(t.j41(0,"div",107)(1,"div",108),t.nrm(2,"azt-svg-icon",109),t.j41(3,"div",110),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,ys,4,5,"button",157),t.nI1(7,"editPermission"),t.k0s()()),2&r){let c;const m=t.XpG(2);t.R7$(2),t.Y8G("size",82),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_student_classroom_list_detail_not_student")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(7,5,m.classroomObj,"student")&&0==(null!==(c=null==m.listStudents?null:m.listStudents.length)&&void 0!==c?c:0))}}function Es(r,f){if(1&r&&(t.j41(0,"div",15)(1,"div",16)(2,"h2",17),t.EFF(3),t.k0s(),t.j41(4,"span",18),t.EFF(5),t.k0s(),t.DNE(6,ss,1,3,"azt-download-qr-code",19),t.k0s(),t.j41(7,"div",16),t.nrm(8,"azt-share",20),t.DNE(9,as,2,1,"div",21),t.k0s()(),t.DNE(10,Jn,16,21,"div",22),t.j41(11,"div",23),t.DNE(12,ci,3,4,"span",24)(13,fi,4,5,"button",25),t.k0s(),t.j41(14,"div",26)(15,"div",27),t.DNE(16,ko,30,33,"div",28),t.nI1(17,"appFilter"),t.DNE(18,ms,8,8,"div",29),t.nI1(19,"appFilter"),t.k0s(),t.j41(20,"div",30)(21,"div",31),t.DNE(22,_s,5,4,"div",10),t.j41(23,"div",32),t.DNE(24,Ao,3,7,"span",33)(25,ds,4,5,"button",34),t.k0s()(),t.DNE(26,js,20,24,"div",35),t.nI1(27,"appFilter"),t.DNE(28,Os,8,8,"div",29),t.nI1(29,"appFilter"),t.k0s()()),2&r){const c=t.XpG();t.Y8G("ngClass",t.eq3(38,Do,c.isMobileDevice||c.isMobileWebView)),t.R7$(),t.Y8G("ngClass",t.eq3(40,gi,c.isMobileDevice||c.isMobileWebView)),t.R7$(2),t.SpI(" ",null==c.classroomObj?null:c.classroomObj.name," "),t.R7$(2),t.SpI("( ",null==c.classroomObj?null:c.classroomObj.year," )"),t.R7$(),t.Y8G("ngIf",c.joinClassroomLink),t.R7$(),t.Y8G("ngClass",t.eq3(42,gi,c.isMobileDevice||c.isMobileWebView)),t.R7$(),t.Y8G("backToLink",c.backToLink)("objectCodeType",1)("objectCode","CLASSROOM")("objectId",c.classroomId)("classroomWithPermissionObj",c.classroomObj),t.R7$(),t.Y8G("ngIf",!c.hasStudents||!(null!=c.listStudents&&c.listStudents.length)),t.R7$(),t.Y8G("ngIf",c.hasStudents||(null==c.listStudents?null:c.listStudents.length)),t.R7$(2),t.Y8G("ngIf",c.totalCheckboxSelected>0&&!(c.isMobileDevice||c.isMobileWebView)),t.R7$(),t.Y8G("ngIf",c.totalCheckboxSelected>0&&!(c.isMobileDevice||c.isMobileWebView)),t.R7$(3),t.Y8G("ngIf",t.brH(17,22,c.listStudents,c.searchContentObj.searchContent,t.lJ4(44,ri)).length>0),t.R7$(2),t.Y8G("ngIf",!c.hasStudents||0==t.brH(19,26,c.listStudents,c.searchContentObj.searchContent,t.lJ4(45,ri)).length),t.R7$(4),t.Y8G("ngIf",c.listStudents&&c.listStudents.length>0),t.R7$(2),t.Y8G("ngIf",c.totalCheckboxSelected>0),t.R7$(),t.Y8G("ngIf",c.totalCheckboxSelected>0),t.R7$(),t.Y8G("ngForOf",t.brH(27,30,c.listStudents,c.searchContentObj.searchContent,t.lJ4(46,ri))),t.R7$(2),t.Y8G("ngIf",!c.hasStudents||0==t.brH(29,34,c.listStudents,c.searchContentObj.searchContent,t.lJ4(47,ri)).length)}}function ws(r,f){if(1&r){const c=t.RV6();t.j41(0,"li")(1,"button",160),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.goToMergeStudent(null==l.classroomObj?null:l.classroomObj.id))}),t.nrm(2,"lucide-icon",161),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_student_classroom_list_detail_merge_student")," "))}function Rs(r,f){1&r&&(t.j41(0,"span",165),t.nrm(1,"lucide-icon",166),t.k0s()),2&r&&(t.R7$(),t.Y8G("ngClass",t.lJ4(1,go)))}function Ms(r,f){if(1&r){const c=t.RV6();t.j41(0,"li")(1,"button",162),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.changeSortType(0))}),t.nrm(2,"lucide-icon",163),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,Rs,2,2,"span",164),t.k0s()()}if(2&r){const c=t.XpG();t.R7$(2),t.Y8G("ngClass",t.lJ4(5,Ce)),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_student_classroom_list_detail_sort_name")," "),t.R7$(2),t.Y8G("ngIf",0==(null==c.classroomObj?null:c.classroomObj.sortType))}}function Fs(r,f){1&r&&t.nrm(0,"lucide-icon",166),2&r&&t.Y8G("ngClass",t.lJ4(1,go))}function Ds(r,f){if(1&r){const c=t.RV6();t.j41(0,"li")(1,"button",167),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.changeSortType(1))}),t.nrm(2,"lucide-icon",168),t.j41(3,"span",169),t.nI1(4,"mytranslate"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,Fs,1,2,"lucide-icon",170),t.k0s()()}if(2&r){const c=t.XpG();t.R7$(2),t.Y8G("ngClass",t.lJ4(8,Ce)),t.R7$(),t.FS9("matTooltip",t.bMT(4,4,"lang_student_classroom_list_detail_request")),t.R7$(2),t.JRh(t.bMT(6,6,"lang_student_classroom_list_detail_change")),t.R7$(2),t.Y8G("ngIf",0!=(null==c.classroomObj?null:c.classroomObj.sortType))}}function Gs(r,f){if(1&r){const c=t.RV6();t.j41(0,"li",171)(1,"button",172),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.openDialogAutoNumbering())}),t.nrm(2,"lucide-icon",173),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_danh_so_bao_danh")," "))}function Ns(r,f){if(1&r){const c=t.RV6();t.j41(0,"li",171)(1,"button",174),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.exportListStudent())}),t.nrm(2,"lucide-icon",175),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_student_utils_export_list_student")," "))}function $s(r,f){if(1&r){const c=t.RV6();t.j41(0,"li",171)(1,"button",174),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.exportExcelForScoreOfClassroom())}),t.nrm(2,"lucide-icon",175),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Ce)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_xuat_bang_diem")," "))}function zs(r,f){if(1&r){const c=t.RV6();t.j41(0,"li")(1,"div",176),t.bIt("click",function(l){return t.eBV(c),t.Njj(l.stopPropagation())}),t.j41(2,"input",177),t.bIt("change",function(){let l;t.eBV(c);const g=t.XpG();return t.Njj(g.changeAnonymousStudentStatus(null!==(l=null==g.classroomObj?null:g.classroomObj.id)&&void 0!==l?l:0,g.checkAddStudent.value))}),t.k0s(),t.j41(3,"label",178),t.EFF(4),t.nI1(5,"mytranslate"),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&r){const c=t.XpG();t.R7$(2),t.Y8G("formControl",c.checkAddStudent)("checked",1==(null==c.classroomObj?null:c.classroomObj.showAddStudent)),t.R7$(2),t.SpI(" ",c.checkAddStudent.value?t.bMT(5,3,"lang_student_classroom_list_detail_on"):t.bMT(6,5,"lang_student_classroom_list_detail_off")," ")}}function Ps(r,f){if(1&r){const c=t.RV6();t.j41(0,"azt-export-excel-for-student-list",179),t.bIt("exportDataDone",function(l){t.eBV(c);const g=t.XpG();return t.Njj(g.exportStudentListDone(l))}),t.k0s()}if(2&r){const c=t.XpG();t.Y8G("objs",c.exportStudentObjs)}}let As=(()=>{var r;class f extends e.H{onSearchBox(m){this.searchContentObj=m}toggleExpandedContent(m){this.expandedItemIndex=this.expandedItemIndex===m?-1:m}copyLinkToClipboard(){return this.joinClassroomLink}convertNameForQR(){return"QR_Join_Classroom_"+this.commonService.convertVietnameseToEnglish(this.classroomObj?.name??this.classroomObj?.hashId??"")}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.listStudents)}exportStudentListDone(m){let l=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(m,l)}exportExcelForScoreOfClassroom(){this.loadingExport=!0;let m="";Xe.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??""),this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataGetAllExamObjsOfClassroomIdGet(Number(this.classroomId)).pipe((0,qn.n)(l=>1!==l.success?(this.errorStatusObj(l.message,!0),Xe.L.closeLoadingEffect(10),this.loadingExport=!1,(0,vn.of)(null)):l.data?.objs&&l.data?.objs.length?this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).pipe((0,ti.T)(g=>({response:l,cls:g}))):(this.exportExcelForScoreHomeworkOfClassroom(),(0,vn.of)(null))),(0,ei.p)(l=>null!==l)).subscribe(({response:l,cls:g})=>{if(1!==g.success)return this.errorStatusObj(g.message??"",!0),Xe.L.closeLoadingEffect(10),void(this.loadingExport=!1);let N=g.data?.objs??[];this.prepareDataForExportScore(l.data?.objs??[],N).subscribe(W=>{let xt=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"",Lt=this.commonService.createFileNameExportFile([xt,this.classroomObj?.name??""]);this.commonService.myTranslate(["lang_auto_tap_tin_dang_duoc_tai_xuong"]).subscribe(Ue=>{m=Ue.lang_auto_tap_tin_dang_duoc_tai_xuong,Xe.L.changeMsgLoadingEffect(m)}),this.checkVipAccountService.checkRunActionVip(W.length>F.c.limit_export,kt.W5.TEACHER,Ue=>{if(Ue){if(this.classroomObj){const di=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,W,l.data?.objs);this.shareFileFlutterService.shareFileWithBlob(di,Lt+".xlsx")}}else this.handleNonVipCase(W,Lt,l.data?.objs??[])}),Xe.L.closeLoadingEffect(200),this.loadingExport=!1})}))}exportExcelForScoreHomeworkOfClassroom(){this.loadingExport=!0;let m=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"";this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(l=>{if(1!==l.success)return this.errorStatusObj(l.message??"",!0),Xe.L.closeLoadingEffect(10),void(this.loadingExport=!1);let g=this.commonService.createFileNameExportFile([m,this.classroomObj?.name??""]);this.checkVipAccountService.checkRunActionVip((l.data?.objs?.length??0)>F.c.limit_export,kt.W5.TEACHER,W=>{if(W){if(this.classroomObj){const xt=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,l.data?.objs??[],[]);this.shareFileFlutterService.shareFileWithBlob(xt,g+".xlsx")}}else this.handleNonVipCase(l.data?.objs??[],g,[])}),Xe.L.closeLoadingEffect(10),this.loadingExport=!1}))}handleNonVipCase(m,l,g){const N={returnUrl:this.commonService.getCurrentUrlWithoutLocale(),title:"lang_azt_record_count_exceeds_limit",description:"lang_azt_export_exceeds_50_records",titleBtnDestroy:"lang_payment_return_continue_buy",trackingKey:"STUDENT_LIST_EXPORT_EXCEL"};this.sAztDialogService.open(I.Y,{data:N,hasBackdrop:!0}).afterClosed().subscribe(W=>{if(!W&&this.classroomObj){const xt=this.truncateDataExport(m),_e=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,xt,g,m.length-xt.length);this.shareFileFlutterService.shareFileWithBlob(_e,l+".xlsx")}})}prepareDataForExportScore(m,l){return new En.c(g=>{let N=this.commonService.myTranslateInstant("lang_export_classroom_score_counter_message")??"",W=0,xt=m.length,Lt=_e=>{W<xt?(Xe.L.changeMsgLoadingEffect(N+m[W].name+" ("+(W+1)+"/"+xt+")"),this.waitDestroy(this.exportClassroomScoreApiService.getTestedAllResultByClassroomId("export_classroom",m[W].id??0,this.classroomId,_e).subscribe(Ue=>{1==Ue.success?(Ue.data&&(_e=[...Ue.data]),W++,Lt(_e)):g.error(Ue.message)}))):(g.next(_e),g.complete())};Lt(l)})}getNoticeObjsRequest(){this.waitDestroy(this.noticeService.apiNoticeGetAllNoticeRequestForClassGet(this.classroomId).subscribe(m=>{1==m.success?(m.data?.objs?.length??0)>0&&this.sAztDialogService.open(mo,{width:"750px",data:{noticeObjs:m.data?.objs??[],classroomObj:this.classroomObj},restoreFocus:!1}):this.showErrorSnack("lang_auto_loi_khong_load_duoc_du_lieu_lop_hoc")}))}changeSortType(m){this.waitDestroy(this.classroomService.apiClassroomChangeSortTypeGet(this.classroomId,m).subscribe(l=>{1==l.success?(this.checkSortListStudent(m),this.classroomObj?.sortType&&(this.classroomObj.sortType=m),this.getData()):this.errorStatusObj(l.message,!0)}))}checkSortListStudent(m){this.listStudents=0==m?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.rawStudentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.rawStudentObjs)??[],"pos","id"),this.listStudents?.forEach(l=>{l.checked=new nt.MJ(!1,{nonNullable:!0})})}onPositionChange(m,l,g,N){let W="up"==m?1:"down"==m?2:3,xt=3==W?m??"":"",Lt=parseInt(xt,10);this.waitDestroy(this.classroomService.apiClassroomChangePositionStudentGet(Number(3!=W?l:Lt),Number(g),Number(N),Number(W)).subscribe(Ue=>{1==Ue.success?this.getData():this.showErrorSnack(""==xt&&3==W?"lang_auto_loi_nhap_so_de_thay_doi_vi_tri_hs":"lang_auto_loi_khong_the_doi_vi_tri_hs")}))}changeAnonymousStudentStatus(m,l){this.waitDestroy(l?this.classroomService.apiClassroomChangeShowAddStudentGet(m,1).subscribe(g=>{1==g.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(g.message,!0)}):this.classroomService.apiClassroomChangeShowAddStudentGet(m,0).subscribe(g=>{1==g.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(g.message,!0)}))}addStudentDialog(m){this.sAztDialogService.open(to,{width:"750px",data:{studentObjs:this.listStudents,classroomObj:m},restoreFocus:!1}).afterClosed().subscribe(g=>{g&&this.getData()})}deleteStudentDialog(m){this.sAztDialogService.open(so.d,{data:{studentObj:m,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(g=>{g&&this.getData()})}deleteListStudentDialog(){let m=this.listStudents?.filter(g=>g.checked?.value);this.sAztDialogService.open(oo,{data:{listStudentObjs:m,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(g=>{g&&this.getData()})}editStudentDialog(m){this.sAztDialogService.open(ao.B,{data:{studentObj:m,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(g=>{g&&this.getData()})}openDialogAutoNumbering(){this.sAztDialogService.open(E.O,{data:{needGetClassroomGroups:!1,type:2,listCheckBox:this.classroomObj?.id?[this.classroomObj.id]:[],totalStudent:this.classroomObj?.countStudents},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(l=>{l&&this.getData()})}openDialogCheckboxMonth(m){this.sAztDialogService.open(H,{width:"454px",restoreFocus:!1,data:m.id}).afterClosed().subscribe(l=>{l&&this.getListStudentApiNew()})}goToProfile(m,l){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+m+"/"+l,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${m}/0`))}goToMergeStudent(m){this.commonService.myNavigation("/admin/student/merge-student/"+m)}translateExportNote(){let m="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),l="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),g="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),N="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four");this.export=[m,l,g,N]}openDialogResetPass(m){this.sAztDialogService.open(ni.$,{width:"500px",restoreFocus:!1,data:{id:m.parentId,name:m.fullName}}).afterClosed().subscribe(l=>{l&&this.getData()})}openDialogCreateUser(m){this.sAztDialogService.open(mn,{width:"500px",restoreFocus:!1,data:{student:m}}).afterClosed().subscribe(l=>{l&&this.getData()})}getData(){this.initStatusObj(),this.resetCheckboxesStatus(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.classroomId).subscribe(m=>{if(1==m.success){this.classroomObj=m?.data?.classroomObj,this.permissionObj=this.classroomObj?.permissionObj,this.checkAddStudent.setValue(1==this.classroomObj?.showAddStudent),this.rawStudentObjs=m?.data?.studentObjs,this.checkSortListStudent(m?.data?.classroomObj?.sortType);let g=this.commonService.getCurrentDomain();this.joinClassroomLink=`${g}/${this.commonService.getCurrentLang()}/student/join-classroom/${this.classroomObj?.hashId}`,this.hasStudents=!!m.data?.studentObjs.length,this.isBusinessDomain&&this.getListStudentApiNew(),this.getNoticeObjsRequest(),this.successStatusObj()}else this.errorStatusObj(m.message,!0)}))}getListStudentApiNew(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:this.listStudents?.length??0,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:!1,getAssessment:!1}).subscribe(l=>{l?l.list.forEach(g=>{var N=this.listStudents?.find(W=>W.id==g.id);N&&(N.lastMonthPaid=g.lastMonthPaid,N.lastYearPaid=g.lastYearPaid,N.schoolName=g.schoolName,N.facebookLink=N.moreInfo?.facebookLink)}):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}selectAllStudentsObjs(){this.listStudents?.forEach(m=>{m.checked?.setValue(this.isSelectAllFormControl.value)}),this.selectSingleStudent()}selectSingleStudent(){this.totalCheckboxSelected=this.listStudents?.filter(m=>m.checked?.value)?.length??0,this.isSelectAllFormControl.setValue(this.totalCheckboxSelected===this.listStudents?.length&&this.totalCheckboxSelected>0)}resetCheckboxesStatus(){this.totalCheckboxSelected=0,this.isSelectAllFormControl.setValue(!1)}truncateDataExport(m){const l=(0,Gn.cloneDeep)(m);return m&&l?l.length>F.c.limit_export?l.slice(0,F.c.limit_export):l:[]}ngOnInit(){super.ngOnInit(),this.translateExportNote(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"));let m=this.commonService.getMyQueryParam("backto");this.backToLink=m||"/admin/student/manage-classroom/0",this.getData()}constructor(m,l,g,N,W,xt,Lt,_e,Ue,di,Si,xa){super(),this.shareFileFlutterService=m,this.classroomService=l,this.classroomExportDataService=g,this.noticeService=N,this.activeRoute=W,this.sortService=xt,this.studentProfileV2Service=Lt,this.exportExcelService=_e,this.sAztDialogService=Ue,this.studentService=di,this.exportClassroomScoreApiService=Si,this.checkVipAccountService=xa,this.checkAddStudent=new nt.MJ(!1,{nonNullable:!0}),this.backToLink="",this.classroomId=0,this.export=[""],this.hasStudents=!1,this.loadingExport=!1,this.expandedItemIndex=-1,this.joinClassroomLink="",this.totalCheckboxSelected=0,this.isSelectAllFormControl=new nt.MJ(!1,{nonNullable:!0}),this.searchContentObj=new ct.Z,this.form=new nt.gE({startIdentifyIndex:new nt.MJ("",{nonNullable:!0,validators:[nt.k0.min(1),nt.k0.max(999999),nt.k0.pattern(/^[0-9]*$/)]})})}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(oi.R),t.rXU(T.zS),t.rXU(De.$F),t.rXU(Ri.eI),t.rXU(w.nX),t.rXU(Ht.g),t.rXU(De.m_),t.rXU(sn.x),t.rXU(Yt.i),t.rXU(Ae.b),t.rXU(Eo),t.rXU(wo.K))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-student-list"]],viewQuery:function(m,l){if(1&m&&t.GBs(Fo,5),2&m){let g;t.mGM(g=t.lsd())&&(l.slider=g.first)}},features:[t.Vt3],decls:19,vars:19,consts:[["doneLoading",""],["menu","matMenu"],["sttStudent",""],["myInput",""],["menuAction","matMenu"],[1,"grid","grid-cols-12","mt-5"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["xPosition","before"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],[4,"ngIf"],["class","block lg:hidden",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],[1,"col-span-12","intro-y","flex","justify-between","items-center","mb-5",3,"ngClass"],[1,"flex","items-center",3,"ngClass"],[1,"text-lg","font-medium","mr-2"],[1,"mr-2"],[3,"fileName","linkUrl","showLink",4,"ngIf"],[3,"backToLink","objectCodeType","objectCode","objectId","classroomWithPermissionObj"],["class","dropdown ml-2 mt-2 sm:mt-0",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"col-span-12","text-right","mt-4","azt-hidden","md:block"],["class","inline-block mr-2",4,"ngIf"],["azt-track-service","student-list-1PSK0ENR-","class","btn btn-danger",3,"click",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[1,"azt-hidden","md:block"],["style","height: 100%",4,"ngIf"],["class","box p-3 flex items-center","style","min-height: 216px",4,"ngIf"],[1,"md:hidden"],[1,"flex","mt-3",2,"justify-content","space-between"],[1,"flex","items-center"],["class","inline-block mr-2",3,"ngClass",4,"ngIf"],["azt-track-service","student-list-zQB1VhlhP6","class","btn btn-sm btn-danger mr-2",3,"click",4,"ngIf"],["class","box p-3 mt-3",3,"ngStyle",4,"ngFor","ngForOf"],[3,"fileName","linkUrl","showLink"],[1,"dropdown","ml-2","mt-2","sm:mt-0"],["class","dropdown-toggle btn btn-sm btn-outline-secondary",3,"matMenuTriggerFor",4,"ngIf"],[1,"dropdown-toggle","btn","btn-sm","btn-outline-secondary",3,"matMenuTriggerFor"],[1,"flex","items-center","justify-center"],["name","settings","size","18"],[1,"col-span-12"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"onSearch","isServerSearch","placeholder"],[1,"w-full","sm:w-auto","flex","items-center"],["azt-track-service","class-list-details-s9VkYOpJZKc","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details--hDdQw7XTpD","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mr-2 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-_DnbWckI_DG","class","btn px-2 box shadow-md mr-2 azt-hidden md:flex hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],[1,"dropdown"],["class","dropdown-toggle btn px-2 box",3,"matMenuTriggerFor",4,"ngIf"],["azt-track-service","class-list-details-s9VkYOpJZKc",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["name","file-text","size","18",3,"ngClass"],["azt-track-service","class-list-details--hDdQw7XTpD",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["class","mr-1",4,"ngIf"],["name","file-text","size","18",3,"ngClass",4,"ngIf"],[1,"mr-1"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mr-2","w-full","sm:w-auto",3,"click"],["name","plus","size","18",3,"ngClass"],["azt-track-service","class-list-details-_DnbWckI_DG",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","md:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary","size","18",3,"ngClass"],[1,"dropdown-toggle","btn","px-2","box",3,"matMenuTriggerFor"],[1,"inline-block","mr-2"],["azt-track-service","student-list-1PSK0ENR-",1,"btn","btn-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-5",2,"white-space","initial","display","table"],[1,"box"],["type","checkbox",1,"form-check-input",3,"change","formControl"],[1,"text-center",2,"width","60px","padding","0 !important"],[2,"width","60px",3,"matTooltipDisabled","matTooltip"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-center",2,"width","30px"],["class","form-check-input flex-none","type","checkbox",3,"formControl","change",4,"ngIf"],[2,"width","60px","padding","5px 5px 5px 0"],["style","width: 100%; text-align: center; border-right: 1px solid #ccc; display: inline-grid; padding: 5px",4,"ngIf","ngIfElse"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentUserName","parentId","parentPhone","avatar","identificationNumber","gender","hasUser","schoolName","classrooms","joinedAt","phone","email"],[1,"text-center","capitalize"],[1,"text-center"],["azt-track-service","class-list-details-IXPw9fo4fxc","class","btn btn-sm btn-outline-primary mr-3",3,"click",4,"ngIf"],["azt-track-service","class-list-details-O6dc04lZp9g","class","btn btn-sm btn-outline-danger",3,"click",4,"ngIf"],[3,"vipPackageType","classCSSCustom","isShowBadgeVip","isAction","trackingKey","checkAction",4,"ngIf"],["type","checkbox",1,"form-check-input","flex-none",3,"change","formControl"],[2,"width","100%","text-align","center","border-right","1px solid #ccc","display","inline-grid","padding","5px"],["class","btn btn-sm btn-outline-secondary p-1","style","border-bottom-left-radius: 0; border-bottom-right-radius: 0; border-bottom: 0",3,"click",4,"ngIf"],["type","text","appOnlyNumber","",1,"form-control","text-center",2,"padding","4px","border-radius","0",3,"keyup.enter","value"],["class","btn btn-sm btn-outline-secondary p-1","style","border-top-left-radius: 0; border-top-right-radius: 0; border-top: 0",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-secondary","p-1",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","border-bottom","0",3,"click"],["name","chevron-up","size","18"],[1,"btn","btn-sm","btn-outline-secondary","p-1",2,"border-top-left-radius","0","border-top-right-radius","0","border-top","0",3,"click"],["name","chevron-down","size","18"],[1,"text-center","font-bold"],["azt-track-service","class-list-details-IXPw9fo4fxc",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","class-list-details-O6dc04lZp9g",1,"btn","btn-sm","btn-outline-danger",3,"click"],["name","trash-2","size","18",3,"ngClass"],[3,"checkAction","vipPackageType","classCSSCustom","isShowBadgeVip","isAction","trackingKey"],["name","list-restart","size","16",3,"ngClass"],[1,"whitespace-nowrap",3,"ngClass"],["name","user-plus","size","16",3,"ngClass"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","inbox-empty",3,"size"],[1,"font-medium","mt-3"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],[1,"ml-2"],[1,"inline-block","mr-2",3,"ngClass"],["azt-track-service","student-list-zQB1VhlhP6",1,"btn","btn-sm","btn-danger","mr-2",3,"click"],[1,"box","p-3","mt-3",3,"ngStyle"],[1,"flex","items-center","text-sm"],[1,"flex","items-start","px-3"],["azt-track-service","class-list-details-PLih7noFG",1,"flex","items-center",3,"click"],[1,"w-9","h-9","image-fit","zoom-in"],[3,"matTooltip","nameCreateAvatar","linkAvatar","size"],[1,"ml-4",2,"max-width","150px"],["class","font-medium",3,"matTooltip",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",3,"matTooltip",4,"ngIf"],["class","absolute right-0 top-0 mr-6 mt-3 dropdown",4,"ngIf"],["azt-track-service","class-list-details-pefaSVrkl",1,"ml-auto","mr-3","p-1","mt-6","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"click"],["name","chevron-down","size","20"],[1,"mt-2"],[1,"font-medium",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-slate-500","text-xs","mt-0.5",3,"matTooltip"],[1,"absolute","right-0","top-0","mr-6","mt-3","dropdown"],[1,"dropdown-toggle","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],[1,"dropdown-menu","show","relative","w-56"],["azt-track-service","class-list-details-Q6L3Qb4nL-","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-xA4MDIyq3o","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Q6L3Qb4nL-",1,"dropdown-item",3,"click"],["azt-track-service","class-list-details-xA4MDIyq3o",1,"dropdown-item",3,"click"],["name","trash-2","size","20",3,"ngClass"],[1,"whitespace-nowrap","mr-3"],[1,"flex","items-center","p-3","border-t","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md"],[1,"ml-auto"],["class","flex items-center justify-center text-success",4,"ngIf"],["class","flex items-center p-3 border-t border-slate-200/60 dark:border-darkmode-400",4,"ngIf"],[1,"flex","items-center","justify-center","text-success"],[1,"mr-2","inline-block"],["name","square-check","size","18"],[1,"w-full"],[2,"width","100%","text-align","center","display","inline-grid","padding","5px"],["class","btn btn-sm btn-outline-secondary","style","border-bottom-left-radius: 0; border-bottom-right-radius: 0; border-bottom: 0",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-secondary","style","border-top-left-radius: 0; border-top-right-radius: 0; border-top: 0",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-secondary",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","border-bottom","0",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",2,"border-top-left-radius","0","border-top-right-radius","0","border-top","0",3,"click"],["azt-track-service","student-list-z7Lql-3ZDJ","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","student-list-z7Lql-3ZDJ",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],["name","plus","size","20",3,"ngClass"],["azt-track-service","class-list-details-NcMQ164X2B1",1,"dropdown-item","w-full",3,"click"],["name","link-2","size","16",3,"ngClass"],["azt-track-service","class-list-details-woiwIJfYoz7",1,"dropdown-item","w-full",3,"click"],["name","arrow-down-wide-narrow","size","16",3,"ngClass"],["class","text-success inline-block flex-none",4,"ngIf"],[1,"text-success","inline-block","flex-none"],["name","check","size","20",3,"ngClass"],["azt-track-service","class-list-details-dc7h-1UoWkq",1,"dropdown-item","w-full",3,"click"],["name","list-ordered","size","16",3,"ngClass"],[1,"ml-1",3,"matTooltip"],["name","check","size","20",3,"ngClass",4,"ngIf"],[1,"block","lg:hidden"],["azt-track-service","class-list-details-dQQjeblrGNo",1,"dropdown-item","w-full",3,"click"],["name","binary","size","16",3,"ngClass"],["azt-track-service","class-list-details-EPPk_ECcOhT",1,"dropdown-item","w-full",3,"click"],["name","file-text","size","16",3,"ngClass"],["azt-track-service","student-list-I77ChHGFW",1,"form-check","form-switch","p-2",3,"click"],["type","checkbox","id","check-add-student",1,"show-code","form-check-input","mr-1",3,"change","formControl","checked"],["for","check-add-student",1,"form-check-label","ml-0"],[3,"exportDataDone","objs"]],template:function(m,l){if(1&m&&(t.j41(0,"div",5),t.DNE(1,os,2,1,"div",6)(2,Es,30,48,"ng-template",null,0,t.C5r),t.k0s(),t.j41(4,"mat-menu",7,1)(6,"div",8)(7,"ul",9),t.DNE(8,ws,5,5,"li",10)(9,Ms,6,6,"li",10)(10,Ds,8,9,"li",10)(11,Gs,5,5,"li",11),t.nI1(12,"editPermission"),t.DNE(13,Ns,5,5,"li",11),t.nI1(14,"viewPermission"),t.DNE(15,$s,5,5,"li",11)(16,zs,7,7,"li",10),t.nI1(17,"editPermission"),t.k0s()()(),t.DNE(18,Ps,1,1,"azt-export-excel-for-student-list",12)),2&m){const g=t.sdS(3);t.R7$(),t.Y8G("ngIf",l.statusObj.loading)("ngIfElse",g),t.R7$(7),t.Y8G("ngIf",l.hasStudents||(null==l.listStudents?null:l.listStudents.length)),t.R7$(),t.Y8G("ngIf",l.hasStudents||(null==l.listStudents?null:l.listStudents.length)),t.R7$(),t.Y8G("ngIf",l.hasStudents||(null==l.listStudents?null:l.listStudents.length)),t.R7$(),t.Y8G("ngIf",t.i5U(12,10,l.classroomObj,"student")&&(l.hasStudents||(null==l.listStudents?null:l.listStudents.length))),t.R7$(2),t.Y8G("ngIf",t.i5U(14,13,l.classroomObj,"student")&&(l.hasStudents||(null==l.listStudents?null:l.listStudents.length))),t.R7$(2),t.Y8G("ngIf",l.hasStudents||(null==l.listStudents?null:l.listStudents.length)),t.R7$(),t.Y8G("ngIf",t.i5U(17,16,l.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",l.exportStudentObjs)}},dependencies:[x.YU,x.Sq,x.bT,x.B3,J.kk,J.Cp,P.oV,nt.Zm,nt.BC,nt.l_,bt.K,ns.p,po.d,is.Z,si.m,st.R,Ro.M,Ct.W,Ye.B,Mo.F,q.m,$e.jd,$e.Ew,yt.WGl,z.wp,z.nf,z.WL,z.xL,z.FV,z.eL,z.Po,z.vv],encapsulation:2,data:{animation:[(0,Ze.hZ)("expandCollapse",[(0,Ze.wk)("open",(0,Ze.iF)({height:"*"})),(0,Ze.wk)("closed",(0,Ze.iF)({height:"0px"})),(0,Ze.kY)("open <=> closed",[(0,Ze.i0)("0.3s ease-in-out")])])]}}),f})();const Mn=r=>({"text-white bg-primary":r}),Tn=r=>[r],Fn=()=>({"mr-2 flex-none":!0}),Ls=r=>({"font-medium text-white bg-primary":r}),Bs=r=>({"ml-5":r});function Ys(r,f){if(1&r&&(t.j41(0,"a",33),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",34),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const c=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Mn,3===c.tabActive))("routerLink",t.eq3(10,Tn,t.bMT(1,4,"/admin/student/classroom-details/"+c.classroomId+"/3"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Fn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_student_educational_program"))}}function Vs(r,f){if(1&r&&(t.j41(0,"a",35),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",7),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const c=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Mn,4===c.tabActive))("routerLink",t.eq3(10,Tn,t.bMT(1,4,"/admin/student/classroom-details/"+c.classroomId+"/4"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Fn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_student_grade_sheet"))}}function Us(r,f){if(1&r&&(t.j41(0,"a",36),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",37),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const c=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Mn,6===c.tabActive))("routerLink",t.eq3(10,Tn,t.bMT(1,4,"/admin/student/classroom-details/"+c.classroomId+"/6"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Fn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_assessment_board"))}}function Xs(r,f){if(1&r&&(t.j41(0,"a",38),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",39),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const c=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Mn,7===c.tabActive))("routerLink",t.eq3(10,Tn,t.bMT(1,4,"/admin/student/classroom-details/"+c.classroomId+"/7"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Fn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_attendance_board"))}}function Ws(r,f){if(1&r&&(t.j41(0,"a",40),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",41),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const c=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Mn,8===c.tabActive))("routerLink",t.eq3(10,Tn,t.bMT(1,4,"/admin/student/classroom-details/"+c.classroomId+"/8"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Fn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_tuition_fee_board"))}}function Js(r,f){if(1&r&&(t.j41(0,"a",42),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",43),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const c=t.XpG(2);t.Y8G("ngClass",t.eq3(8,Mn,5===c.tabActive))("routerLink",t.eq3(10,Tn,t.bMT(1,4,"/admin/student/classroom-details/"+c.classroomId+"/5"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,Fn)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_leaderboard"))}}function Hs(r,f){if(1&r&&(t.j41(0,"div",23)(1,"div",24),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",23),t.DNE(5,Ys,6,13,"a",25),t.nI1(6,"allowFeatureBusinessForUser"),t.nI1(7,"async"),t.DNE(8,Vs,6,13,"a",26),t.nI1(9,"allowFeatureBusinessForUser"),t.nI1(10,"async"),t.DNE(11,Us,6,13,"a",27),t.nI1(12,"allowFeatureBusinessForUser"),t.nI1(13,"async"),t.DNE(14,Xs,6,13,"a",28),t.nI1(15,"allowFeatureBusinessForUser"),t.nI1(16,"async"),t.DNE(17,Ws,6,13,"a",29),t.nI1(18,"allowFeatureBusinessForUser"),t.nI1(19,"async"),t.DNE(20,Js,6,13,"a",30),t.nI1(21,"allowFeatureBusinessForUser"),t.nI1(22,"async"),t.j41(23,"a",31),t.nI1(24,"navigationLocalize"),t.nrm(25,"lucide-icon",32),t.j41(26,"span"),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()()()),2&r){const c=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,10,"lang_student_extensions")," "),t.R7$(3),t.Y8G("ngIf",t.bMT(7,15,t.i5U(6,12,"training_center_curriculum_in_classroom",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(10,20,t.i5U(9,17,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(13,25,t.i5U(12,22,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(16,30,t.i5U(15,27,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(19,35,t.i5U(18,32,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(22,40,t.i5U(21,37,"training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngClass",t.eq3(46,Mn,9===c.tabActive))("routerLink",t.eq3(48,Tn,t.bMT(24,42,"/admin/student/classroom-details/"+c.classroomId+"/9"))),t.R7$(4),t.JRh(t.bMT(28,44,"lang_super_role_send_notice_approved_question_share"))}}function Ks(r,f){1&r&&(t.j41(0,"div",44),t.nrm(1,"app-student-list"),t.k0s())}function Qs(r,f){1&r&&(t.j41(0,"div",45),t.nrm(1,"app-exam-exercises",46),t.k0s()),2&r&&(t.R7$(),t.Y8G("isStudent",!1))}function Zs(r,f){if(1&r&&(t.j41(0,"div",47),t.nrm(1,"app-news-board",48),t.k0s()),2&r){const c=t.XpG();t.R7$(),t.Y8G("classroomId",c.classroomId)("isStudent",!1)}}function qs(r,f){1&r&&(t.j41(0,"div",49),t.nrm(1,"app-educational-program",46),t.k0s()),2&r&&(t.R7$(),t.Y8G("isStudent",!1))}function ta(r,f){1&r&&(t.j41(0,"div",50),t.nrm(1,"app-grand-board",46),t.k0s()),2&r&&(t.R7$(),t.Y8G("isStudent",!1))}function ea(r,f){1&r&&(t.j41(0,"div",51)(1,"div",52),t.nrm(2,"app-leader-board",46),t.k0s()()),2&r&&(t.R7$(2),t.Y8G("isStudent",!1))}function na(r,f){1&r&&(t.j41(0,"div",53)(1,"div",54),t.nrm(2,"app-assessment-board",46),t.k0s()()),2&r&&(t.R7$(2),t.Y8G("isStudent",!1))}function ia(r,f){1&r&&(t.j41(0,"div",55)(1,"div",54),t.nrm(2,"app-attendance-board",46),t.k0s()()),2&r&&(t.R7$(2),t.Y8G("isStudent",!1))}function oa(r,f){1&r&&(t.j41(0,"div",56)(1,"div",54),t.nrm(2,"app-tuition-fee-board",46),t.k0s()()),2&r&&(t.R7$(2),t.Y8G("isStudent",!1))}function sa(r,f){if(1&r&&(t.j41(0,"div",57),t.nrm(1,"app-send-notification",58),t.k0s()),2&r){const c=t.XpG();t.Y8G("ngClass",t.eq3(3,Bs,!c.isMobileWebView&&!c.isMobileDevice)),t.R7$(),t.Y8G("classroomName",c.classroomName)("classroomId",c.classroomId)}}let aa=(()=>{var r;class f extends e.H{getClassroomName(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(m=>{m&&m.success&&(this.classroomName=m.data?.obj?.name??"",this.setTitle())}))}setTitle(){0==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_student_list_title")+": "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_student_list_description",image:"lang_cms_test_image"})):1==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_document_list_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_document_list_description",image:"lang_cms_test_image"})):2==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_news_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_news_board_description",image:"lang_cms_test_image"})):3==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_program_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_program_description",image:"lang_cms_test_image"})):4==this.tabActive&&(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_mark_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_mark_board_description",image:"lang_cms_test_image"}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,ot.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.tabActive=Number(this.commonService.getMyParam(this.activeRoute,"tabId")),this.classroomName?this.setTitle():this.getClassroomName()}));let m=this.commonService.getMyQueryParam("backto");this.backToLink=m&&""!=m?m:"/admin/student/manage-classroom/0"}constructor(m,l){super(),this.activeRoute=m,this.classroomService=l,this.backToLink="",this.tabActive=0,this.classroomId=0,this.classroomName="",this.headerTitle=""}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(w.nX),t.rXU(T.zS))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-classroom-details"]],features:[t.Vt3],decls:40,vars:62,consts:[[3,"headerBackToLink","headerTitle"],[1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-3","lg:col-span-2"],[1,"pr-3","pt-5"],["azt-track-service","class-list-details-DVvCIvEs15",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","user","size","16",3,"ngClass"],["azt-track-service","class-list-details-Kp8HMxHLJW",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","calendar-check","size","16",3,"ngClass"],["azt-track-service","class-list-details-Fqqucj0PCd",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","newspaper","size","16",3,"ngClass"],["class","mt-3",4,"ngIf"],[1,"col-span-12","md:col-span-9","lg:col-span-10","md:border-l","border-slate-200","dark:border-darkmode-400"],[1,"mt-5","md:px-3","h-full"],["class","student-list",4,"ngIf"],["class","exam-exercises",4,"ngIf"],["class","news-board",4,"ngIf"],["class","educational-program",4,"ngIf"],["class","grand-board",4,"ngIf"],["class","leaderboard",4,"ngIf"],["class","assessment-board",4,"ngIf"],["class","attendance-board",4,"ngIf"],["class","tuition-fee-board",4,"ngIf"],["class","table-honored h-full",3,"ngClass",4,"ngIf"],[1,"mt-3"],[1,"font-medium","uppercase"],["azt-track-service","class-list-details-BDKFcoR84En","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-d91Lw-r2PR8","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-FPGtD1jfL","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-6GuZeDQM8J","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-kEUyL-yGqV","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-wEO2JkXskB","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],[1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","bell-plus","size","18",1,"mr-1","flex-none"],["azt-track-service","class-list-details-BDKFcoR84En",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","library","size","16",3,"ngClass"],["azt-track-service","class-list-details-d91Lw-r2PR8",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["azt-track-service","class-list-details-FPGtD1jfL",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","message-square-text","size","16",3,"ngClass"],["azt-track-service","class-list-details-6GuZeDQM8J",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","search-check","size","16",3,"ngClass"],["azt-track-service","class-list-details-kEUyL-yGqV",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","clipboard-list","size","16",3,"ngClass"],["azt-track-service","class-list-details-wEO2JkXskB",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","medal","size","16",3,"ngClass"],[1,"student-list"],[1,"exam-exercises"],[3,"isStudent"],[1,"news-board"],[3,"classroomId","isStudent"],[1,"educational-program"],[1,"grand-board"],[1,"leaderboard"],[1,"mx-auto",2,"max-width","500px"],[1,"assessment-board"],[1,"mx-auto"],[1,"attendance-board"],[1,"tuition-fee-board"],[1,"table-honored","h-full",3,"ngClass"],[3,"classroomName","classroomId"]],template:function(m,l){1&m&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.nI1(6,"navigationLocalize"),t.nrm(7,"lucide-icon",5),t.j41(8,"span"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"a",6),t.nI1(12,"navigationLocalize"),t.nrm(13,"lucide-icon",7),t.j41(14,"span"),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"a",8),t.nI1(18,"navigationLocalize"),t.nrm(19,"lucide-icon",9),t.j41(20,"span"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.DNE(23,Hs,29,50,"div",10),t.nI1(24,"allowFeatureBusinessForUser"),t.nI1(25,"async"),t.nI1(26,"allowFeatureBusinessForUser"),t.nI1(27,"async"),t.k0s()(),t.j41(28,"div",11)(29,"div",12),t.DNE(30,Ks,2,0,"div",13)(31,Qs,2,1,"div",14)(32,Zs,2,2,"div",15)(33,qs,2,1,"div",16)(34,ta,2,1,"div",17)(35,ea,3,1,"div",18)(36,na,3,1,"div",19)(37,ia,3,1,"div",20)(38,oa,3,1,"div",21)(39,sa,2,5,"div",22),t.k0s()()()()),2&m&&(t.Y8G("headerBackToLink",l.backToLink)("headerTitle",l.classroomName),t.R7$(5),t.Y8G("ngClass",t.eq3(47,Mn,0===l.tabActive))("routerLink",t.eq3(49,Tn,t.bMT(6,25,"/admin/student/classroom-details/"+l.classroomId+"/0"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(51,Fn)),t.R7$(2),t.JRh(t.bMT(10,27,"lang_cms_classroom_student_list_title")),t.R7$(2),t.Y8G("ngClass",t.eq3(52,Mn,1===l.tabActive))("routerLink",t.eq3(54,Tn,t.bMT(12,29,"/admin/student/classroom-details/"+l.classroomId+"/1"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(56,Fn)),t.R7$(2),t.JRh(t.bMT(16,31,"lang_document_exam_exercises")),t.R7$(2),t.Y8G("ngClass",t.eq3(57,Ls,2===l.tabActive))("routerLink",t.eq3(59,Tn,t.bMT(18,33,"/admin/student/classroom-details/"+l.classroomId+"/2"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(61,Fn)),t.R7$(2),t.JRh(t.bMT(22,35,"lang_student_news_board")),t.R7$(2),t.Y8G("ngIf",t.bMT(25,40,t.i5U(24,37,"training_center_curriculum_in_classroom",!1))||t.bMT(27,45,t.i5U(26,42,"training_center_student_mark",!1))),t.R7$(7),t.Y8G("ngIf",0===l.tabActive),t.R7$(),t.Y8G("ngIf",1===l.tabActive),t.R7$(),t.Y8G("ngIf",2===l.tabActive),t.R7$(),t.Y8G("ngIf",3===l.tabActive),t.R7$(),t.Y8G("ngIf",4===l.tabActive),t.R7$(),t.Y8G("ngIf",5===l.tabActive),t.R7$(),t.Y8G("ngIf",6===l.tabActive),t.R7$(),t.Y8G("ngIf",7===l.tabActive),t.R7$(),t.Y8G("ngIf",8===l.tabActive),t.R7$(),t.Y8G("ngIf",9===l.tabActive))},dependencies:[w.Wk,x.YU,x.bT,o.Q,yt.WGl,zt.E,lt,Zt.s,pe.K,te.c,Fe,ee.E,Ee.b,bn,As,x.Jj,z.F2,z.wp,z.bj],encapsulation:2}),f})();var Sn=p(11002);function Le(r,f){1&r&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function ue(r,f){1&r&&t.nrm(0,"azt-loading-ui",18)}function Je(r,f){1&r&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function xi(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",20),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function ja(r,f){1&r&&(t.j41(0,"span"),t.EFF(1,"/"),t.k0s())}function Gi(r,f){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,ja,2,0,"span",35),t.EFF(3),t.k0s()),2&r){const c=t.XpG().$implicit;t.R7$(),t.SpI(" ",c.lastMonthPaid," "),t.R7$(),t.Y8G("ngIf",c.lastMonthPaid),t.R7$(),t.SpI(" ",c.lastYearPaid," ")}}function Ni(r,f){1&r&&(t.j41(0,"span",45),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_hoc_thu")," "))}function Ti(r,f){if(1&r){const c=t.RV6();t.j41(0,"tr")(1,"td",30),t.bIt("click",function(){const l=t.eBV(c).$implicit,g=t.XpG(3);return t.Njj(g.goToProfile(l.classroomId,l.id))}),t.nrm(2,"azt-student-info-box",31),t.k0s(),t.j41(3,"td",32),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",33)(7,"div",34),t.DNE(8,Gi,4,3,"span",35)(9,Ni,3,3,"span",36),t.j41(10,"button",37),t.nI1(11,"mytranslate"),t.nI1(12,"mytranslate"),t.bIt("click",function(){const l=t.eBV(c).$implicit,g=t.XpG(3);return t.Njj(g.openDialogCheckboxMonth(l))}),t.nrm(13,"lucide-icon",38),t.k0s()()(),t.j41(14,"td",39)(15,"div",40),t.EFF(16),t.nI1(17,"mytranslate"),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"td",39)(20,"div",40),t.EFF(21),t.nI1(22,"mytranslate"),t.nI1(23,"mytranslate"),t.k0s()(),t.j41(24,"td",33)(25,"div",41)(26,"input",42),t.bIt("change",function(l){const g=t.eBV(c).$implicit,N=t.XpG(3);return t.Njj(N.setAttendance("receivedDocument",g.id,l))}),t.k0s()()(),t.j41(27,"td",33)(28,"div",41)(29,"input",43),t.bIt("change",function(l){const g=t.eBV(c).$implicit,N=t.XpG(3);return t.Njj(N.setAttendance("absent",g.id,l))}),t.k0s()()(),t.j41(30,"td",33)(31,"textarea",44),t.nI1(32,"mytranslate"),t.bIt("input",function(l){const g=t.eBV(c).$implicit,N=t.XpG(3);return t.Njj(N.setReasonAttendance(g.id,l))}),t.k0s()()()}if(2&r){let c,m;const l=f.$implicit;t.R7$(2),t.Y8G("name",l.fullName)("avatar",l.avatar)("gender",l.gender)("parentFullName",l.parentFullName)("parentId",l.parentId)("parentPhone",l.parentPhone)("hasUser",l.hasUser)("schoolName",l.schoolName)("classrooms",l.classrooms)("joinedAt",l.joinedAt)("phone",l.phone)("identificationNumber",l.identificationNumber),t.R7$(2),t.JRh(l.identificationNumber?t.i5U(5,30,l.identificationNumber,6):""),t.R7$(4),t.Y8G("ngIf",l.lastMonthPaid||l.lastYearPaid),t.R7$(),t.Y8G("ngIf",!l.lastMonthPaid||!l.lastYearPaid),t.R7$(),t.FCK("matTooltip","",t.bMT(11,33,"lang_cms_auto_gen_test_select")," ",t.bMT(12,35,"lang_auto_month"),""),t.R7$(4),t.Y8G("ngClass",l.totalRemainHomework>0||l.noHomework?"darkgray":l.finishHomework?"yellowgreen":"red"),t.R7$(2),t.SpI(" ",t.bMT(18,39,l.totalRemainHomework>0?t.bMT(17,37,"lang_auto_chua_hoan_thanh")+" ("+l.totalRemainHomework.toString()+")":l.noHomework?"lang_auto_hoan_thanh":l.finishHomework?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.R7$(3),t.Y8G("ngClass",l.totalRemainExam>0||l.noExam?"darkgray":l.finishExam?"yellowgreen":"red"),t.R7$(2),t.SpI(" ",t.bMT(23,43,l.totalRemainExam>0?t.bMT(22,41,"lang_auto_chua_hoan_thanh")+" ("+l.totalRemainExam.toString()+")":l.noExam?"lang_auto_hoan_thanh":l.finishExam?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.R7$(5),t.Y8G("id","received_document_"+l.id)("checked",null!==(c=null==l.attendance?null:l.attendance.receivedDocument)&&void 0!==c?c:0),t.R7$(3),t.Y8G("id","absent_"+l.id)("checked",null!==(m=null==l.attendance?null:l.attendance.absent)&&void 0!==m?m:0),t.R7$(2),t.FS9("placeholder",t.bMT(32,45,"lang_business_reason_for_leave")),t.Y8G("id","attendance_reason_"+l.id)("disabled",!(null!=l.attendance&&l.attendance.absent))("value",null==l.attendance?null:l.attendance.reason)}}function ra(r,f){if(1&r&&(t.j41(0,"div",22)(1,"table",23)(2,"thead")(3,"tr")(4,"th",24),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",25),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",26),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",27),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",28),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",26)(21,"div"),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"th",26),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"th",26),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()(),t.j41(32,"tbody"),t.DNE(33,Ti,33,47,"tr",29),t.k0s()()()),2&r){const c=t.XpG(2);t.R7$(5),t.JRh(t.bMT(6,11,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(9,13,"lang_auto_so_bao_danh")),t.R7$(3),t.Lme("",t.bMT(12,15,"lang_test_market_withdraw_time")," ",t.bMT(13,17,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.R7$(4),t.JRh(t.bMT(16,19,"lang_student_frontend_dashboard_homework")),t.R7$(3),t.JRh(t.bMT(19,21,"lang_auto_only_de_thi")),t.R7$(4),t.SpI(" ",t.bMT(23,23,"lang_core_da_phat")," "),t.R7$(2),t.SpI(" ",t.bMT(25,25,"lang_auto_tai_lieu")," "),t.R7$(3),t.SpI(" ",t.bMT(28,27,"lang_business_vang_mat")," "),t.R7$(3),t.JRh(t.bMT(31,29,"lang_auto_ly_do")),t.R7$(3),t.Y8G("ngForOf",c.listStudent)}}function Co(r,f){if(1&r&&t.DNE(0,ra,34,31,"div",21),2&r){const c=t.XpG();t.Y8G("ngIf",c.listStudent.length>0)}}function Bo(r,f){if(1&r){const c=t.RV6();t.j41(0,"azt-paging",49),t.bIt("goToPaginationPage",function(l){t.eBV(c);const g=t.XpG(2);return t.Njj(g.setPageStudent(l))}),t.k0s()}if(2&r){const c=t.XpG(2);t.Y8G("pageObj",c.pageObj)}}function In(r,f){if(1&r&&(t.j41(0,"div",46),t.nrm(1,"div"),t.DNE(2,Bo,1,1,"azt-paging",47),t.j41(3,"div",48),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const c=t.XpG();t.R7$(2),t.Y8G("ngIf",c.totalStudent>c.pageObj.pageSize),t.R7$(2),t.Lme("",c.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}let Yo=(()=>{var r;class f extends e.H{openDialogCheckboxMonth(m){this.sAztDialogService.open(H,{width:"454px",restoreFocus:!1,data:m.id}).afterClosed().subscribe(l=>{l&&this.getListStudent()})}goToProfile(m,l){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+m+"/"+l,"?backto="+encodeURIComponent("/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(m){var l="/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,g="?page="+m+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(l,g),this.initStatusObj(),this.pageObj.setPageNumber(m),this.getListStudent()}onSearchBox(m){this.searchContentObj=m,this.setPageStudent(1)}setAttendance(m,l,g){var N=g.target,W=N.checked?1:0,xt=this.listStudent.find(_e=>_e.id==l);if(xt){var Lt=this.listAttendanceNew.find(Ue=>Ue.id==l);let _e=document.getElementById("attendance_reason_"+l);"absent"==m?(xt.attendance.absent=W,N.checked?xt.attendance.receivedDocument=0:(xt.attendance.reason="",_e.value="")):(xt.attendance.receivedDocument=W,N.checked&&(xt.attendance.absent=0,xt.attendance.reason="",_e.value="")),Lt?(Lt.absent=xt.attendance?.absent,Lt.receivedDocument=xt.attendance?.receivedDocument,Lt.reason=_e.value):this.listAttendanceNew.push({id:l,absent:xt.attendance?.absent,receivedDocument:xt.attendance?.receivedDocument,reason:_e.value})}}setReasonAttendance(m,l){var g=l.target,N=this.listStudent.find(xt=>xt.id==m);if(N){var W=this.listAttendanceNew.find(xt=>xt.id==m);W?W.reason=g.value:this.listAttendanceNew.push({id:m,absent:N.attendance?.absent,receivedDocument:N.attendance?.receivedDocument,reason:g.value})}}saveAttendance(){this.isSave=!0;let m={programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listAttendanceNew};if(0==this.listAttendanceNew.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAttendancesPost(m).subscribe(l=>{l.success?(this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!0,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(l=>{l?(l.list.forEach(g=>{g.attendance||(g.attendance={id:0,programId:this.programId,sessionId:this.sessionId,classroomId:this.classroomId,studentId:g.id,absent:0,permission:0,reason:""})},l.list),this.listStudent=l.list,this.totalStudent=l.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,ot.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let m=this.commonService.getMyQueryParam("backto");this.backToLink=m||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent(),super.ngOnInit()}constructor(m,l,g){super(),this.activeRoute=m,this.studentService=l,this.sAztDialogService=g,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.listAttendanceNew=[],this.searchContentObj=new ct.Z,this.pageObj=new ve.d(20)}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(w.nX),t.rXU(Ae.b),t.rXU(Yt.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-attendance-student"]],features:[t.Vt3],decls:23,vars:20,consts:[["doneLoading",""],[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"onSearch","isServerSearch","searchContentObj","placeholder"],[3,"colorBackground"],["azt-track-service","attendance-student-Tj_9J-QZu",1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"click","disabled"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-1"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"mt-10","text-center"],[3,"currentStatusObj"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[1,"text-center","whitespace-nowrap","px-3"],[1,"text-center","whitespace-nowrap","px-2"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt","phone","identificationNumber"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[4,"ngIf"],["class","darkgray",4,"ngIf"],["azt-track-service","attendance-student-j17JbU3oZS",1,"w-5","h-5","inline-block","ml-1","zoom-in",2,"margin-top","-2px","color","gray",3,"click","matTooltip"],["name","calendar-search","size","16"],[1,"text-center",3,"ngClass"],[1,"mx-auto",2,"width","max-content"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"change","id","checked"],["type","checkbox",1,"show-code","form-check-input","form-check-input-absent",3,"change","id","checked"],["type","text",1,"form-control",2,"min-width","80px",3,"input","id","disabled","placeholder","value"],[1,"darkgray"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"goToPaginationPage","pageObj"]],template:function(m,l){if(1&m){const g=t.RV6();t.j41(0,"teacher-layout",1)(1,"div",2)(2,"div",3)(3,"h3",4),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,Le,3,3,"div",5),t.k0s(),t.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"azt-search-box",9),t.nI1(11,"mytranslate"),t.bIt("onSearch",function(W){return t.eBV(g),t.Njj(l.onSearchBox(W.searchObj))}),t.k0s()(),t.j41(12,"flexed-on-the-top",10)(13,"button",11),t.bIt("click",function(){return t.eBV(g),t.Njj(l.saveAttendance())}),t.DNE(14,ue,1,0,"azt-loading-ui",12),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()()(),t.j41(17,"div",13),t.DNE(18,Je,3,3,"div",14)(19,xi,1,1,"azt-loading-effect",15)(20,Co,1,1,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(22,In,6,5,"div",16),t.k0s()}if(2&m){const g=t.sdS(21);t.Y8G("headerBackToLink",l.backToLink),t.R7$(4),t.JRh(t.bMT(5,14,"lang_student_attendance_student")),t.R7$(2),t.Y8G("ngIf",l.isMobileDevice&&l.listStudent.length>0),t.R7$(4),t.Y8G("isServerSearch",!0)("searchContentObj",l.searchContentObj)("placeholder",t.bMT(11,16,"lang_core_tim_theo_ten_phone_email")),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(),t.Y8G("disabled",l.isSave),t.R7$(),t.Y8G("ngIf",l.isSave),t.R7$(),t.SpI(" ",t.bMT(16,18,"lang_auto_luu")," "),t.R7$(3),t.Y8G("ngIf",0==l.listStudent.length&&0==l.totalStudent),t.R7$(),t.Y8G("ngIf",l.statusObj.loading)("ngIfElse",g),t.R7$(3),t.Y8G("ngIf",l.totalStudent>0)}},dependencies:[x.YU,x.Sq,x.bT,P.oV,bt.K,he.q,st.R,Sn.$,Ct.W,Ye.B,o.Q,yt.WGl,z.wp,z.Po],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),f})();var je=p(12787);const Pn=()=>[],xo=r=>({width:r});function la(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",11),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function ca(r,f){1&r&&(t.j41(0,"div",25),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_list_null")," "))}function ma(r,f){if(1&r&&(t.j41(0,"div",26)(1,"div",27)(2,"div",28,1),t.nrm(4,"img",29),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",30)(7,"div",31),t.EFF(8),t.k0s(),t.j41(9,"div",32),t.EFF(10),t.k0s()()()()),2&r){const c=f.$implicit,m=t.sdS(3);t.R7$(4),t.FS9("src",""!=c.iconLink&&c.iconLink?c.iconLink:"https://mockup.textandtool.com/images/diendanh/u4711.svg",t.B4B),t.FS9("alt",t.bMT(5,6,"lang_core_anh_sach")),t.R7$(2),t.Y8G("ngStyle",t.eq3(8,xo,"calc(100% -  "+(m.offsetWidth+12)+"px)")),t.R7$(),t.FS9("matTooltip",c.name),t.R7$(),t.JRh(c.name),t.R7$(2),t.JRh(c.description)}}function _a(r,f){1&r&&(t.j41(0,"div",33),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function da(r,f){1&r&&(t.j41(0,"div",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function $i(r,f){if(1&r&&(t.j41(0,"th",41)(1,"div",42),t.EFF(2),t.k0s()()),2&r){const c=f.$implicit;t.R7$(),t.FS9("matTooltip",c.name),t.R7$(),t.SpI(" ",c.name," ")}}function zi(r,f){if(1&r){const c=t.RV6();t.j41(0,"td",47)(1,"div",48)(2,"input",49),t.bIt("change",function(l){t.eBV(c);const g=t.XpG().$implicit,N=t.XpG(3);return t.Njj(N.setStatusBook(g,l))}),t.k0s()()()}if(2&r){let c;const m=f.$implicit,l=t.XpG().$implicit,g=t.XpG(3);t.R7$(2),t.Mz_("id","input-book-",m.id,""),t.Y8G("value",m.id)("checked",g.checkStatusDistribute(m,null!==(c=l.books)&&void 0!==c?c:t.lJ4(4,Pn)))}}function To(r,f){if(1&r){const c=t.RV6();t.j41(0,"tr")(1,"td",43),t.bIt("click",function(){const l=t.eBV(c).$implicit,g=t.XpG(3);return t.Njj(g.goToProfile(l.classroomId,l.id))}),t.nrm(2,"azt-student-info-box",44),t.k0s(),t.j41(3,"td",45),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.DNE(6,zi,3,5,"td",46),t.k0s()}if(2&r){let c;const m=f.$implicit,l=t.XpG(3);t.R7$(2),t.Y8G("name",m.fullName)("parentFullName",m.parentFullName)("parentId",m.parentId)("parentPhone",m.parentPhone)("avatar",m.avatar)("gender",m.gender)("hasUser",m.hasUser)("schoolName",m.schoolName)("classrooms",m.classrooms)("joinedAt",m.joinedAt)("phone",m.phone)("identificationNumber",m.identificationNumber),t.R7$(2),t.JRh(m.identificationNumber?t.i5U(5,14,m.identificationNumber,6):""),t.R7$(2),t.Y8G("ngForOf",null!==(c=null==l.listBook?null:l.listBook.list)&&void 0!==c?c:t.lJ4(17,Pn))}}function Vo(r,f){if(1&r&&(t.j41(0,"div",35)(1,"drag-scroll")(2,"table",36)(3,"thead")(4,"tr")(5,"th",37),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",38),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.DNE(11,$i,3,2,"th",39),t.k0s()(),t.j41(12,"tbody"),t.DNE(13,To,7,18,"tr",40),t.k0s()()()()),2&r){let c;const m=t.XpG(2);t.R7$(6),t.JRh(t.bMT(7,4,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,6,"lang_auto_so_bao_danh")),t.R7$(2),t.Y8G("ngForOf",null!==(c=null==m.listBook?null:m.listBook.list)&&void 0!==c?c:t.lJ4(8,Pn)),t.R7$(2),t.Y8G("ngForOf",m.listStudent)}}function So(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",50),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",51),t.bIt("click",function(){t.eBV(c);const l=t.XpG(2);return t.Njj(l.search(l.searchContentObj))}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()}2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"lang_core_not_found_student"),"... "),t.R7$(3),t.JRh(t.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function Io(r,f){if(1&r){const c=t.RV6();t.j41(0,"azt-paging",18),t.bIt("goToPaginationPage",function(l){t.eBV(c);const g=t.XpG(3);return t.Njj(g.setPageStudent(l))}),t.k0s()}if(2&r){const c=t.XpG(3);t.Y8G("pageObj",c.pageStudentObj)}}function ua(r,f){if(1&r&&(t.j41(0,"div",52),t.nrm(1,"div"),t.DNE(2,Io,1,1,"azt-paging",53),t.j41(3,"div",54),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const c=t.XpG(2);t.R7$(2),t.Y8G("ngIf",c.totalStudent>c.pageStudentObj.pageSize),t.R7$(2),t.Lme("",c.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}function mi(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",12)(1,"div",13),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,ca,3,3,"div",14),t.j41(5,"div",15),t.DNE(6,ma,11,10,"div",16),t.k0s(),t.j41(7,"div",17)(8,"azt-paging",18),t.bIt("goToPaginationPage",function(l){t.eBV(c);const g=t.XpG();return t.Njj(g.setPageBook(l))}),t.k0s()()(),t.DNE(9,_a,3,3,"div",19),t.j41(10,"div",20),t.DNE(11,da,3,3,"div",21)(12,Vo,14,9,"div",22)(13,So,6,6,"div",23),t.k0s(),t.DNE(14,ua,6,5,"div",24)}if(2&r){let c;const m=t.XpG();t.R7$(2),t.JRh(t.bMT(3,9,"lang_core_thong_tin_sach")),t.R7$(2),t.Y8G("ngIf",!(null!=m.listBook&&m.listBook.list&&0!=(null==m.listBook?null:m.listBook.total)||""!=m.searchContentObj.searchContent)),t.R7$(2),t.Y8G("ngForOf",null!==(c=null==m.listBook?null:m.listBook.list)&&void 0!==c?c:t.lJ4(11,Pn)),t.R7$(2),t.Y8G("pageObj",m.pageBookObj),t.R7$(),t.Y8G("ngIf",m.isMobileDevice&&m.listStudent.length>0),t.R7$(2),t.Y8G("ngIf",0==m.listStudent.length&&""==m.searchContentObj.searchContent),t.R7$(),t.Y8G("ngIf",m.listStudent.length>0),t.R7$(),t.Y8G("ngIf",0==m.listStudent.length&&""!=m.searchContentObj.searchContent),t.R7$(),t.Y8G("ngIf",m.totalStudent>0)}}let pa=(()=>{var r;class f extends e.H{setPageStudent(m){var l="/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,g="?page="+m+"&backto="+encodeURIComponent(this.backLink);this.myNavigationWithQueryString(l,g),this.initStatusObj(),this.pageStudentObj.setPageNumber(m),this.getListStudent()}goToProfile(m,l){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+m+"/"+l,"?backto="+encodeURIComponent("/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}search(m){this.searchContentObj=m,this.setPageStudent(1)}setPageBook(m){this.pageBookObj.setPageNumber(m),this.getBooks()}checkStatusDistribute(m,l){for(let g=0;g<l.length;g++)if(l[g].bookId==m.id)return!0;return!1}getBooks(){this.waitDestroy(this.bookService.apiBooksListPost({page:this.pageBookObj.page,size:this.pageBookObj.pageSize,programId:this.programId}).subscribe(l=>{l?(this.listBook=l,this.pageBookObj.setTotalPages(this.listBook.total??0),this.getListStudent()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_sach",!0)}))}setStatusBook(m,l){var g=l.target;if(g.checked){var N={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:m.id,bookId:Number(g.value),activate:g.checked};this.waitDestroy(this.studentService.apiStudentsBooksPatch(N).subscribe(xt=>{xt.success||(document.getElementById("input-book-"+g.value).checked=!g.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}else{var W={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:m.id,bookId:Number(g.value)};this.waitDestroy(this.studentService.apiStudentsBooksDeletePost(W).subscribe(xt=>{xt.success||(document.getElementById("input-book-"+g.value).checked=!g.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageStudentObj.page,size:this.pageStudentObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!0,getMark:!0,getPayment:!1,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(l=>{l?(this.listStudent=l.list,this.totalStudent=l.total??0,this.pageStudentObj.setTotalPages(this.totalStudent),this.stopStatusObj(),this.searchContentObj.setLoading(!1)):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.searchContentObj.setLoading(!1))}))}ngOnInit(){(0,ot.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageStudentObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let m=this.commonService.getMyQueryParam("backto");this.backLink=m||`/admin/student/classroom-details/${this.classroomId}/3`,this.getBooks(),super.ngOnInit()}constructor(m,l,g){super(),this.bookService=m,this.studentService=l,this.activeRoute=g,this.backLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.totalStudent=0,this.pageStudent=1,this.listStudent=[],this.searchContentObj=new ct.Z,this.pageBookObj=new ve.d(20),this.pageStudentObj=new ve.d(20)}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(je.l),t.rXU(Ae.b),t.rXU(w.nX))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-distribute-documents"]],features:[t.Vt3],decls:14,vars:11,consts:[["doneLoading",""],["imageBook",""],[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto"],[3,"onSearch","isServerSearch","placeholder","searchContentObj"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"col-span-12","mt-3"],[1,"text-base","font-medium","mb-2"],["class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-3"],[3,"goToPaginationPage","pageObj"],["class","mt-5",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%",4,"ngIf"],["class","flex justify-center mt-2",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4"],[1,"flex","w-70","box-book"],[1,"box-image"],["id","blah",3,"src","alt"],[1,"ml-3",3,"ngStyle"],[1,"text-sm","font-medium","truncate",3,"matTooltip"],[1,"scroll"],[1,"mt-5"],[1,"mt-10","text-center"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center whitespace-nowrap","style","max-width: 100px !important",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-center","whitespace-nowrap",2,"max-width","100px !important"],[1,"truncate",3,"matTooltip"],[1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt","phone","identificationNumber"],[1,"text-center","capitalize"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input","mr-1",3,"change","id","value","checked"],[1,"flex","justify-center","mt-2"],[1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"]],template:function(m,l){if(1&m){const g=t.RV6();t.j41(0,"teacher-layout",2)(1,"div",3)(2,"div",4)(3,"h3",5),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",6)(7,"div",7)(8,"div",8)(9,"azt-search-box",9),t.nI1(10,"mytranslate"),t.bIt("onSearch",function(W){return t.eBV(g),t.Njj(l.search(W.searchObj))}),t.k0s()()()()(),t.DNE(11,la,1,1,"azt-loading-effect",10)(12,mi,15,12,"ng-template",null,0,t.C5r),t.k0s()}if(2&m){const g=t.sdS(13);t.Y8G("headerBackToLink",l.backLink),t.R7$(4),t.JRh(t.bMT(5,7,"lang_student_distribute_books")),t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",l.searchContentObj),t.R7$(2),t.Y8G("ngIf",l.statusObj.loading)("ngIfElse",g)}},dependencies:[x.Sq,x.bT,x.B3,P.oV,bt.K,he.q,Ct.W,Ye.B,o.Q,$e.jd,$e.Ew,z.wp,z.Po],styles:[".add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;left:17px;font-size:10px;text-align:center;border-radius:2px}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:12px}.textarea-description[_ngcontent-%COMP%]{height:69px;max-height:70px;border-radius:5px;font-size:12px}.box-image[_ngcontent-%COMP%]{height:102px;width:76px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:72px;max-height:98px;margin:auto}.box-book[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:5px;padding:.5rem;height:118px;min-width:300px}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.scroll[_ngcontent-%COMP%]{overflow:auto;max-height:78px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px;width:8px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}"]}),f})();var Uo=p(19857);let Xo=(()=>{var r;class f extends e.H{ngOnInit(){(0,ot.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id"));let m=this.commonService.getMyQueryParam("studentId"),l=this.commonService.getMyQueryParam("backTo");this.backToLink=m?"/admin/student/classroom-details/"+this.classroomId+"/4":l||"/admin/student/classroom-details/"+this.classroomId+"/3"}),super.ngOnInit()}constructor(m){super(),this.activeRoute=m,this.backToLink="",this.isShowData=!1,this.classroomId=0,this.programId=0,this.sessionId=0}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(w.nX))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-enter-score"]],features:[t.Vt3],decls:2,vars:6,consts:[[3,"headerBackToLink"],[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(m,l){1&m&&(t.j41(0,"teacher-layout",0),t.nrm(1,"app-table-score",1),t.k0s()),2&m&&(t.Y8G("headerBackToLink",l.backToLink),t.R7$(),t.Y8G("isStudent",!1)("screenType","ENTER_SCORE")("classroomId",l.classroomId)("programId",l.programId)("sessionId",l.sessionId))},dependencies:[o.Q,Uo.g],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),f})();var ga=p(44658),Dn=p(21213),_i=p(43404),Wo=p(4375),Jo=p(43166),Ho=p(44233);function jo(r,f){1&r&&(t.j41(0,"div",36),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}function ha(r,f){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&r){const c=t.XpG(2);t.R7$(),t.SpI("- ",c.selectedYearValue+1,"")}}function yo(r,f){if(1&r&&(t.j41(0,"mat-option",37),t.EFF(1),t.DNE(2,ha,2,1,"span",38),t.k0s()),2&r){const c=f.$implicit,m=t.XpG();t.Y8G("value",c),t.R7$(),t.SpI(" ",c," "),t.R7$(),t.Y8G("ngIf",m.selectedYearValue==c)}}function Ko(r,f){1&r&&(t.j41(0,"div",39),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_school_year"),". "))}function Qo(r,f){if(1&r&&(t.j41(0,"span",44),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const c=t.XpG().$implicit;t.R7$(),t.JRh(t.bMT(2,1,c.groupObj.name))}}function fa(r,f){if(1&r&&(t.j41(0,"span",45),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&r){const c=t.XpG().$implicit;t.FS9("matTooltip",t.bMT(1,2,c.groupObj.name)),t.R7$(2),t.JRh(t.bMT(3,4,c.groupObj.name))}}function Zo(r,f){if(1&r&&(t.qex(0),t.j41(1,"div",40)(2,"mat-radio-button",41),t.DNE(3,Qo,3,3,"span",42),t.nI1(4,"mytranslate"),t.DNE(5,fa,4,6,"span",43),t.nI1(6,"mytranslate"),t.k0s()(),t.bVm()),2&r){const c=f.$implicit;t.R7$(2),t.Y8G("value",c.groupObj.id),t.R7$(),t.Y8G("ngIf",c.groupObj.name&&t.bMT(4,3,c.groupObj.name).length<15),t.R7$(2),t.Y8G("ngIf",c.groupObj.name&&t.bMT(6,5,c.groupObj.name).length>=15)}}function ba(r,f){1&r&&(t.j41(0,"div",46),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_name_group")," "))}function va(r,f){if(1&r){const c=t.RV6();t.j41(0,"a",47),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.isShowCreateGroupOfClassroomOfClassroomBox(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_+_them_nhom")," "))}function ya(r,f){1&r&&(t.nrm(0,"input",48,2),t.nI1(2,"mytranslate")),2&r&&t.FS9("placeholder",t.bMT(2,1,"lang_auto_ten_nhom_vd_khoi_1_khoi_2"))}function ka(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",49)(1,"button",50),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.createNewGroupOfClassroom())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"button",51),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.isShowCreateGroupOfClassroomOfClassroomBox(!1))}),t.nrm(5,"lucide-icon",52),t.k0s()()}if(2&r){const c=t.XpG();t.R7$(),t.Y8G("disabled",c.form.controls.nameGroup.errors),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_auto_tao_nhom")," ")}}function u(r,f){1&r&&(t.j41(0,"div",53),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_name_group"),". "))}function a(r,f){1&r&&t.nrm(0,"azt-loading-ui",56)}function _(r,f){if(1&r){const c=t.RV6();t.qex(0),t.j41(1,"button",54),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.saveClassroomObj(!1))}),t.DNE(2,a,1,0,"azt-loading-ui",55),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.bVm()}if(2&r){const c=t.XpG();t.R7$(),t.Y8G("disabled",c.statusObj.loading||c.form.controls.nameClass.errors),t.R7$(),t.Y8G("ngIf",c.statusObj.loading&&"save"==c.activeButton),t.R7$(),t.SpI(" ",t.bMT(4,3,"lang_button_save")," ")}}function s(r,f){1&r&&t.nrm(0,"azt-loading-ui",56)}function d(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",57),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.updateClassroomObj())}),t.DNE(1,s,1,0,"azt-loading-ui",55),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&r){const c=t.XpG();t.Y8G("disabled",c.statusObj.loading||c.form.controls.nameClass.errors),t.R7$(),t.Y8G("ngIf",c.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_button_update")," ")}}function h(r,f){1&r&&t.nrm(0,"azt-loading-ui",56)}function C(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",58),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.saveClassroomObj(!0))}),t.DNE(1,h,1,0,"azt-loading-ui",55),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&r){const c=t.XpG();t.Y8G("disabled",c.statusObj.loading||c.form.controls.nameClass.errors),t.R7$(),t.Y8G("ngIf",c.statusObj.loading&&"save_and_close"==c.activeButton),t.R7$(),t.SpI(" ",t.bMT(3,3,"lang_core_luu_va_dong")," ")}}let y=(()=>{var r;class f extends Ie._{closeDialog(){this.dialogRef.close(!!this.hasCreateNewStuff)}createNewGroupOfClassroom(){if(this.initStatusObj(),this.form.controls.nameGroup.valid){this.isShowCreateGroupOfClassroom=!1;let m={groupName:this.form.getRawValue().nameGroup};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomGroupPost(m).subscribe(l=>{1==l.success?(this.hasCreateNewStuff=!0,this.getClassroomObjs(),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):this.errorStatusObj(l.message??"",!0)}))}}isShowCreateGroupOfClassroomOfClassroomBox(m){this.form.controls.nameGroup.setValue(""),this.isShowCreateGroupOfClassroom=m}updateClassroomObj(){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;let l=this.form.getRawValue().group;l=l!=this.fakeGroupValue?l:void 0;let g={id:this.classroomObj?.id??0,classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:l??0};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomWithGroupPost(g).subscribe(N=>{1==N.success?N.data?.isDuplicatedClassroomName?this.errorStatusObj(N.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):(this.successStatusObj("lang_auto_sua_lop_hoc_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_auto_sua_lop_hoc_khong_thanh_cong",!0)}))}saveClassroomObj(m){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;this.initStatusObj(),this.activeButton=m?"save_and_close":"save";let g=this.form.getRawValue().group;g=g!=this.fakeGroupValue?g:void 0;let N={classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:g};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(N).subscribe(W=>{if(1==W.success)if(W.data?.isDuplicatedClassroomName)this.errorStatusObj(W.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0);else{this.successStatusObj("lang_auto_them_lop_thanh_cong",!0);let xt=W.data?.obj.id;if(m)return this.dialogRef.close(),void this.commonService.myNavigation(`/admin/student/classroom-details/${xt}/0`);this.hasCreateNewStuff=!0,this.form.controls.nameClass.setValue(""),this.form.markAsPristine()}else this.errorStatusObj("lang_auto_them_lop_hoc_khong_thanh_cong",!0)}))}handleData(){let m=(new Date).getFullYear();for(let W=m-20;W<=m+40;W++)this.years.push(W);null!=this.classroomObj&&(null==this.classroomObj.year&&(this.classroomObj.year=""),null==this.classroomObj.classroomGroupId&&(this.classroomObj.classroomGroupId=this.fakeGroupValue));let l=this.classroomObj?this.classroomObj?.year?.split(" ")[0]:"";this.selectedYearValue=""!=l?parseInt(l??"",10):m;let g=this.classroomObj?this.classroomObj.classroomGroupId:this.fakeGroupValue;this.form=new nt.gE({nameClass:new nt.MJ(this.classroomObj?this.classroomObj.name:"",{nonNullable:!0,validators:[nt.k0.required]}),nameGroup:new nt.MJ("",{nonNullable:!0,validators:[nt.k0.required]}),group:new nt.MJ(g,{nonNullable:!0,validators:[nt.k0.required]}),year:new nt.MJ(this.selectedYearValue,{nonNullable:!0,validators:[nt.k0.required]})})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(m=>{1==m.success?(this.activeClassroomData=m?.data?.activeClassroomData,this.successStatusObj()):this.errorStatusObj(m.message??"",!0)}))}ngOnInit(){this.handleData(),this.getClassroomObjs()}constructor(m,l,g){super(g,l),this.classroomGroupService=m,this.dialogRef=l,this.data=g,this.selectedYearValue=0,this.isShowCreateGroupOfClassroom=!1,this.fakeGroupValue=-2,this.years=[],this.hasCreateNewStuff=!1,this.activeButton="save",this.classroomObj=g.classroomObj,this.form=new nt.gE({nameClass:new nt.MJ("",{nonNullable:!0,validators:[nt.k0.required]}),nameGroup:new nt.MJ("",{nonNullable:!0,validators:[nt.k0.required]}),group:new nt.MJ(0,{nonNullable:!0,validators:[nt.k0.required]}),year:new nt.MJ(0,{nonNullable:!0,validators:[nt.k0.required]})}),this.dialogRef.backdropClick().subscribe(()=>{this.dialogRef.close(!!this.hasCreateNewStuff)})}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(Dn.kG),t.rXU(re.CP,8),t.rXU(re.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-create-or-classroom"]],features:[t.Vt3],decls:52,vars:41,consts:[["searchInListYear","searchInList"],["updateData",""],["nameGroup",""],[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","nameClass",1,"form-label"],["type","text","id","nameClass","formControlName","nameClass",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","year",1,"form-label"],["appearance","outline"],["searchInList","","formControlName","year","id","year",3,"valueChange","value"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value",4,"ngFor","ngForOf"],["class","text-xs text-danger mt-1","style","width: 100%; margin: auto",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["formControlName","group"],[1,"grid","grid-cols-10","gap-4","sm:gap-6","azt-create-update-classroom","px-3"],[4,"ngFor","ngForOf"],["class","text-danger text-danger mt-1",4,"ngIf"],[1,"p-3","flex","flex-col","md:flex-row","md:items-center"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN","class","m-1 btn-text-primary",3,"click",4,"ngIf"],["type","text","class","form-control mr-2","style","width: auto","formControlName","nameGroup",3,"placeholder",4,"ngIf"],["class","flex",4,"ngIf"],["class","text-danger pl-5 pb-2","style","max-width: 250px",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],[4,"ngIf","ngIfElse"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl","class","btn btn-info",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[4,"ngIf"],[1,"text-xs","text-danger","mt-1",2,"width","100%","margin","auto"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3","w-full"],["color","primary",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"text-danger","text-danger","mt-1"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN",1,"m-1","btn-text-primary",3,"click"],["type","text","formControlName","nameGroup",1,"form-control","mr-2",2,"width","auto",3,"placeholder"],[1,"flex"],["azt-track-service","create-or-update-classroom-dialog-93qcHBpjZM3",1,"btn","block","btn-primary","mr-2","ml-0","md:ml-2","mt-2","md:mt-0",3,"click","disabled"],["azt-track-service","create-or-update-classroom-dialog-F4XQrjncsAd",1,"btn","block","btn-secondary","mt-2","md:mt-0",3,"click"],["name","x","size","16"],[1,"text-danger","pl-5","pb-2",2,"max-width","250px"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","w-24","btn-primary","mr-2",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"click","disabled"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl",1,"btn","btn-info",3,"click","disabled"]],template:function(m,l){if(1&m){const g=t.RV6();t.j41(0,"div",3)(1,"form",4)(2,"div",5)(3,"div",6)(4,"h3",7),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"azt-mat-dialog-content")(9,"div",8)(10,"div",9)(11,"label",10),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.nrm(14,"input",11),t.nI1(15,"mytranslate"),t.DNE(16,jo,3,3,"div",12),t.k0s(),t.j41(17,"div",13)(18,"label",14),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"mat-form-field",15)(22,"mat-select",16,0),t.mxI("valueChange",function(W){return t.eBV(g),t.DH7(l.selectedYearValue,W)||(l.selectedYearValue=W),t.Njj(W)}),t.j41(24,"mat-option"),t.nrm(25,"ngx-mat-select-search",17),t.nI1(26,"mytranslate"),t.nI1(27,"mytranslate"),t.k0s(),t.DNE(28,yo,3,3,"mat-option",18),t.k0s()(),t.DNE(29,Ko,3,3,"div",19),t.k0s(),t.j41(30,"div",20)(31,"div",21),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s(),t.j41(34,"div",22)(35,"mat-radio-group",23)(36,"div",24),t.DNE(37,Zo,7,7,"ng-container",25),t.k0s()(),t.DNE(38,ba,3,3,"div",26),t.j41(39,"div",27),t.DNE(40,va,3,3,"a",28)(41,ya,3,3,"input",29)(42,ka,6,4,"div",30),t.k0s(),t.DNE(43,u,3,3,"div",31),t.k0s()()()()(),t.j41(44,"div",32)(45,"button",33),t.bIt("click",function(){return t.eBV(g),t.Njj(l.closeDialog())}),t.EFF(46),t.nI1(47,"mytranslate"),t.k0s(),t.DNE(48,_,5,5,"ng-container",34)(49,d,4,5,"ng-template",null,1,t.C5r)(51,C,4,5,"button",35),t.k0s()()()}if(2&m){const g=t.sdS(23),N=t.sdS(50);t.R7$(),t.Y8G("formGroup",l.form),t.R7$(4),t.SpI(" ",l.classroomObj?t.bMT(7,25,"lang_student_classroom_list_utils_create_class_update_class"):t.bMT(6,23,"lang_student_classroom_list_utils_create_class_add_class")," "),t.R7$(7),t.SpI(" ",t.bMT(13,27,"lang_auto_ten_lop")," "),t.R7$(2),t.FS9("placeholder",t.bMT(15,29,"lang_auto_nhap_ten_lop")),t.R7$(2),t.Y8G("ngIf",l.form.controls.nameClass.dirty&&l.form.controls.nameClass.errors),t.R7$(3),t.SpI(" ",t.bMT(20,31,"lang_auto_nam_hoc")," "),t.R7$(3),t.R50("value",l.selectedYearValue),t.R7$(3),t.FS9("placeholderLabel",t.bMT(26,33,"lang_bot_common_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(27,35,"lang_bot_common_search_not_found")),t.Y8G("formControl",g.searchControl),t.R7$(3),t.Y8G("ngForOf",g.filter(l.years,void 0)),t.R7$(),t.Y8G("ngIf",l.form.controls.year.dirty&&l.form.controls.year.errors),t.R7$(3),t.SpI(" ",t.bMT(33,37,"lang_student_classroom_list_utils_create_class_choose_group_class")," "),t.R7$(5),t.Y8G("ngForOf",l.activeClassroomData),t.R7$(),t.Y8G("ngIf",l.form.controls.group.dirty&&l.form.controls.group.errors),t.R7$(2),t.Y8G("ngIf",0==l.isShowCreateGroupOfClassroom),t.R7$(),t.Y8G("ngIf",1==l.isShowCreateGroupOfClassroom),t.R7$(),t.Y8G("ngIf",l.isShowCreateGroupOfClassroom),t.R7$(),t.Y8G("ngIf",l.isShowCreateGroupOfClassroom&&l.form.controls.nameGroup.dirty&&l.form.controls.nameGroup.errors),t.R7$(3),t.JRh(t.bMT(47,39,"lang_button_cancel")),t.R7$(2),t.Y8G("ngIf",!l.classroomObj)("ngIfElse",N),t.R7$(3),t.Y8G("ngIf",!l.classroomObj)}},dependencies:[x.Sq,x.bT,ne.wT,cn.rl,_i.VT,_i._g,Wo.VO,P.oV,nt.qT,nt.me,nt.BC,nt.cb,nt.l_,nt.j4,nt.JD,G.t,Be.U,st.R,Jo.x,yt.WGl,Ho.U9,z.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),f})();var $=p(52509),Q=p(7814);let mt=(()=>{var r;class f extends Q.W{reloadClassrooms(m){this.typeFilter=m??"all",this.getClassroomObjs()}eventOfClassroomMenu(m){m&&this.getClassroomObjs()}updateGroupSuccessEvent(m){m&&this.getClassroomObjs()}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet(this.typeFilter).subscribe(m=>{m.success?(this.classroomGroupData=(this.isShowActiveClassroom?m?.data?.activeClassroomData:m?.data?.storageClassroomData)??[],this.totalStorageClassroom=this.commonService.concatMultipleArray(m?.data?.storageClassroomData?.map(l=>l.classroomObjs)??[]).length,this.isShowActiveClassroom||(this.classroomGroupData=this.classroomGroupData.filter(l=>l.classroomObjs.length>0)),this.initData(),this.successStatusObj()):this.errorStatusObj(m.message??"",!0)}))}constructor(){super(),this.typeFilter="all",this.classroomGroupService=(0,t.WQX)(Dn.kG),this.isShowActiveClassroom=!1,this.totalStorageClassroom=0}}return(r=f).\u0275fac=function(m){return new(m||r)},r.\u0275cmp=t.VBU({type:r,selectors:[["app-base-show-classrooms"]],features:[t.Vt3],decls:0,vars:0,template:function(m,l){},encapsulation:2}),f})();function dt(r,f){1&r&&t.nrm(0,"azt-loading-ui",10)}let jt=(()=>{var r;class f extends Ie._{closeDialog(m){this.dialogRef.close(m)}deleteClassroomObj(){this.classroomObj.isShareClassroom?this.updateClassroomToGroup():(this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomObjGet(this.classroomObj?.id??0).subscribe(m=>{1==m.success?(this.successStatusObj("lang_auto_xoa_lop_hoc_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_auto_xoa_lop_hoc_khong_thanh_cong",!0),this.dialogRef.close())})))}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classroomObj.id}).subscribe(l=>{1==l.success?(this.successStatusObj("lang_core_xoa_nhom_lop_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_core_xoa_nhom_lop_khong_thanh_cong",!0),this.closeDialog(!1))})}constructor(m,l,g){super(g,l),this.classroomGroupService=m,this.dialogRef=l,this.data=g,this.classroomObj=g.classroomObj}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(Dn.kG),t.rXU(re.CP,8),t.rXU(re.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-delete-classroom"]],features:[t.Vt3],decls:18,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-classroom-plZFV82pDhH",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-classroom-f8Z8p51QYG8",1,"btn","w-24","btn-danger",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(m,l){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.j41(8,"span",5),t.EFF(9),t.k0s()()()()(),t.j41(10,"div",6)(11,"button",7),t.bIt("click",function(){return l.closeDialog(!1)}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",8),t.bIt("click",function(){return l.deleteClassroomObj()}),t.DNE(15,dt,1,0,"azt-loading-ui",9),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(5),t.Lme(" ",l.classroomObj.isShareClassroom?t.bMT(6,7,"lang_core_bo_quyen_luu_y_sau_khi_xoa_lop_duoc_chia_se"):""," ",t.bMT(7,9,"lang_student_classroom_list_utils_delete_class")," "),t.R7$(4),t.JRh(l.classroomObj.name),t.R7$(3),t.SpI(" ",t.bMT(13,11,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",1==l.statusObj.loading),t.R7$(),t.Y8G("ngIf",l.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(17,13,"lang_button_delete")," "))},dependencies:[x.bT,st.R,z.wp],encapsulation:2}),f})();function ht(r,f){1&r&&t.nrm(0,"azt-loading-ui")}function Vt(r,f){if(1&r&&(t.j41(0,"span",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const c=t.XpG(3).$implicit;t.R7$(),t.JRh(t.bMT(2,1,c.groupObj.name))}}function oe(r,f){if(1&r&&(t.j41(0,"span",23),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&r){const c=t.XpG(3).$implicit;t.FS9("matTooltip",t.bMT(1,2,c.groupObj.name)),t.R7$(2),t.JRh(t.bMT(3,4,c.groupObj.name))}}function ge(r,f){if(1&r&&(t.j41(0,"mat-radio-button",19),t.DNE(1,Vt,3,3,"span",20)(2,oe,4,6,"span",21),t.k0s()),2&r){const c=t.XpG(2).$implicit;t.Y8G("value",c.groupObj.id),t.R7$(),t.Y8G("ngIf",c.groupObj.name&&c.groupObj.name.length<15),t.R7$(),t.Y8G("ngIf",c.groupObj.name&&c.groupObj.name.length>=15)}}function xe(r,f){if(1&r&&(t.j41(0,"div",17),t.DNE(1,ge,3,3,"mat-radio-button",18),t.k0s()),2&r){const c=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",null!=c.groupObj)}}function Te(r,f){1&r&&(t.j41(0,"div",24)(1,"mat-radio-button",19),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(),t.Y8G("value",0),t.R7$(),t.SpI(" ",t.bMT(3,2,"lang_student_classroom_list_other")," "))}function ce(r,f){if(1&r&&(t.qex(0),t.DNE(1,xe,2,1,"div",15)(2,Te,4,4,"div",16),t.bVm()),2&r){const c=f.$implicit;t.R7$(),t.Y8G("ngIf",null!=c.groupObj),t.R7$(),t.Y8G("ngIf",null==c.groupObj)}}function ye(r,f){1&r&&t.nrm(0,"azt-loading-ui",25)}let jn=(()=>{var r;class f extends Ie._{closeDialog(){this.dialogRef.close()}chooseGroup(){let m=this.form.getRawValue();this.groupId=m.groupId!=this.fakeGroupValue?m.groupId:void 0}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classId,groupId:this.groupId}).subscribe(l=>{1==l.success?(this.successStatusObj("lang_core_di_chuyen_nhom_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_core_di_chuyen_nhom_khong_thanh_cong",!0),this.closeDialog())})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(m=>{if(1==m.success){for(var l of(this.activeClassroomData=m?.data?.activeClassroomData??[],this.activeClassroomData))l.classroomObjs.find(W=>W.id==this.classId)&&(this.form=new nt.gE({groupId:new nt.MJ(l.groupObj.id,{nonNullable:!0,validators:[nt.k0.required]})}));this.successStatusObj()}else this.errorStatusObj(m.message??"",!0)}))}ngOnInit(){this.getClassroomObjs()}constructor(m,l,g){super(g,l),this.classroomGroupService=m,this.dialogRef=l,this.data=g,this.classId=0,this.fakeGroupValue=-2,this.classId=g.classId,this.form=new nt.gE({groupId:new nt.MJ(void 0,{nonNullable:!0,validators:[nt.k0.required]})})}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(Dn.kG),t.rXU(re.CP,8),t.rXU(re.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-move-classroom-to-group"]],features:[t.Vt3],decls:22,vars:14,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class","list-group"],[1,"pt-2"],[4,"ngIf"],["formControlName","groupId",3,"change"],[1,"grid","grid-cols-12","gap-4","sm:gap-6","azt-create-update-classroom"],[4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"click","disabled"],["class","mr-1",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6",4,"ngIf"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6","w-full"],["color","primary","size","small","class","w-full",3,"value",4,"ngIf"],["color","primary","size","small",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6"],[1,"mr-1"]],template:function(m,l){1&m&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6),t.DNE(10,ht,1,0,"azt-loading-ui",7),t.j41(11,"mat-radio-group",8),t.bIt("change",function(){return l.chooseGroup()}),t.j41(12,"div",9),t.DNE(13,ce,3,2,"ng-container",10),t.k0s()()()()()(),t.j41(14,"div",11)(15,"button",12),t.bIt("click",function(){return l.closeDialog()}),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"button",13),t.bIt("click",function(){return l.updateClassroomToGroup()}),t.DNE(19,ye,1,0,"azt-loading-ui",14),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()()),2&m&&(t.R7$(),t.Y8G("formGroup",l.form),t.R7$(4),t.SpI(" ",t.bMT(6,8,"lang_core_chon_nhom_lop_muon_chuyen_sang")," "),t.R7$(5),t.Y8G("ngIf",l.statusObj.loading),t.R7$(3),t.Y8G("ngForOf",l.activeClassroomData),t.R7$(3),t.JRh(t.bMT(17,10,"lang_button_cancel")),t.R7$(2),t.Y8G("disabled",l.form.controls.groupId.errors),t.R7$(),t.Y8G("ngIf",l.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(21,12,"lang_button_update")," "))},dependencies:[x.Sq,x.bT,_i.VT,_i._g,P.oV,nt.qT,nt.BC,nt.cb,nt.j4,nt.JD,G.t,Be.U,st.R,z.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:210px;vertical-align:middle;cursor:pointer;margin-left:-5px}.list-group[_ngcontent-%COMP%]   .mdc-radio__inner-circle[_ngcontent-%COMP%]{border-width:7px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio__background[_ngcontent-%COMP%]{width:15px!important;height:15px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]   .mdc-radio__native-control[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{padding:calc((var(--mdc-radio-state-layer-size, 30px) - 20px) / 2)}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{display:flex!important;width:auto!important;height:auto!important}@media (max-width: 767px){.truncate[_ngcontent-%COMP%]{max-width:190px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),f})();const Kn=r=>[r],Pi=()=>({"text-slate-500":!0}),yn=()=>({"mr-2":!0});function $a(r,f){1&r&&(t.j41(0,"div",15)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_homework_add_home_work_share")))}function za(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",16)(1,"a",17),t.bIt("click",function(l){return t.eBV(c),t.Njj(l.preventDefault())}),t.nrm(2,"lucide-icon",18),t.k0s()()}if(2&r){t.XpG();const c=t.sdS(17);t.R7$(),t.Y8G("matMenuTriggerFor",c),t.R7$(),t.Y8G("ngClass",t.lJ4(2,Pi))}}function Pa(r,f){if(1&r){const c=t.RV6();t.j41(0,"li")(1,"a",19),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.editClassroomDialog())}),t.nrm(2,"lucide-icon",20),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,yn)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_sua_lop")," "))}function Aa(r,f){if(1&r){const c=t.RV6();t.j41(0,"li")(1,"a",21),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.copyClassroomObj())}),t.nrm(2,"lucide-icon",22),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,yn)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_nhan_ban_lop")," "))}function La(r,f){if(1&r){const c=t.RV6();t.j41(0,"li")(1,"a",23),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.moveClassroomToStorage())}),t.nrm(2,"lucide-icon",24),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,yn)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_dua_vao_luu_tru")," "))}function Ba(r,f){if(1&r){const c=t.RV6();t.j41(0,"li")(1,"a",25),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.moveSharedClassroomToStorage())}),t.nrm(2,"lucide-icon",24),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,yn)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_dua_vao_luu_tru")," "))}function Ya(r,f){if(1&r){const c=t.RV6();t.j41(0,"li")(1,"a",26),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.moveClassroomFromStorageToActive())}),t.nrm(2,"lucide-icon",27),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,yn)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_khoi_phuc")," "))}function Va(r,f){if(1&r){const c=t.RV6();t.j41(0,"li")(1,"a",28),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.moveSharedClassroomFromStorageToActive())}),t.nrm(2,"lucide-icon",27),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,yn)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_khoi_phuc")," "))}function Ua(r,f){if(1&r){const c=t.RV6();t.j41(0,"li")(1,"a",28),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.updateClassroom())}),t.nrm(2,"lucide-icon",29),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,yn)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_core_sua_di_chuyen")," "))}function Xa(r,f){if(1&r){const c=t.RV6();t.j41(0,"li")(1,"a",30),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.deleteClassroomDialog())}),t.nrm(2,"lucide-icon",31),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,yn)),t.R7$(),t.SpI(" ",t.bMT(4,2,"lang_auto_xoa_lop")," "))}let Oa=(()=>{var r;class f extends e.H{goToMergeList(){this.commonService.myNavigation("/admin/student/merge-student/"+this.classroomObj.id)}updateClassroom(){this.sAztDialogService.open(jn,{data:{classId:this.classroomObj.id},width:"550px",restoreFocus:!1}).afterClosed().subscribe(l=>{l&&this.eventOfClassroomMenu.emit(!0)})}moveClassroomToStorage(){this.classroomGroupService.apiClassroomGroupMoveClassroomToStorageGet(this.classroomObj.id??0).subscribe(m=>{1==m.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj("lang_auto_dua_vao_luu_tru_khong_thanh_cong")})}moveSharedClassroomToStorage(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:5}).subscribe(l=>{1==l.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj(l.message??"")})}moveClassroomFromStorageToActive(){this.classroomGroupService.apiClassroomGroupRestoreClassroomGet(this.classroomObj.id??0).subscribe(m=>{1==m.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj("lang_auto_khoi_phuc_lop_hoc_khong_thanh_cong")})}moveSharedClassroomFromStorageToActive(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:2}).subscribe(l=>{1==l.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj(l.message??"")})}editClassroomDialog(){this.sAztDialogService.open(y,{data:{classroomObj:this.classroomObj},width:"550px",restoreFocus:!1}).afterClosed().subscribe(l=>{l&&this.eventOfClassroomMenu.emit(!0)})}deleteClassroomDialog(){this.sAztDialogService.open(jt,{width:"400px",data:{classroomObj:this.classroomObj},restoreFocus:!1}).afterClosed().subscribe(l=>{l&&this.eventOfClassroomMenu.emit(!0)})}copyClassroomObj(){this.showSuccessSnack("lang_auto_dang_nhan_ban_lop_hoc_vui_long_doi_trong_giay_lat_doing"),this.classroomGroupService.apiClassroomGroupCopyClassroomGet(this.classroomObj.id??0).subscribe(m=>{1==m.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_nhan_ban_lop_hoc_thanh_cong",!0)):this.errorStatusObj("lang_auto_nhan_ban_lop_hoc_khong_thanh_cong",!0)})}ngOnInit(){super.ngOnInit(),this.programId=this.commonService.getMyQueryParam("programId")}constructor(m,l,g){super(),this.classroomGroupService=m,this.permissionTeamService=l,this.sAztDialogService=g,this.eventOfClassroomMenu=new t.bkB,this.screenTemplate=""}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(Dn.kG),t.rXU(Dn.km),t.rXU(Yt.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["azt-information-class-box"]],inputs:{classroomObj:"classroomObj",screenTemplate:"screenTemplate"},outputs:{eventOfClassroomMenu:"eventOfClassroomMenu"},features:[t.Vt3],decls:31,vars:36,consts:[["c","isDisabled"],["classroomMenuBox",""],[1,"relative"],["azt-track-service","information-class-box-lTAPwcAOtkX",1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-4","cursor-pointer","block",2,"background","#eee",3,"routerLink"],[1,"flex","items-center"],[1,"block","font-medium","truncate",2,"max-width","70%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"flex"],[1,"text-slate-500","mr-auto","text-xs","mt-2"],[1,"text-slate-500","text-xs","mt-2"],["class","ribbon",4,"ngIf"],["class","ml-auto absolute top-0 right-0","style","margin: 15px",4,"ngIf"],["xPosition","before"],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[4,"ngIf"],[1,"ribbon"],[1,"ml-auto","absolute","top-0","right-0",2,"margin","15px"],["azt-track-service","information-class-box-tDPvhBl5vWp",1,"clickable","flex","items-center","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"click","matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["azt-track-service","information-class-box-Y6FVEqAKljD",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","information-class-box-1Z4loYYCXOT",1,"dropdown-item",3,"click"],["name","copy","size","16",3,"ngClass"],["azt-track-service","information-class-box-yNwo0EZravB",1,"dropdown-item",3,"click"],["name","database","size","16",3,"ngClass"],["azt-track-service","information-class-box-OkjnS3UN_Xz",1,"dropdown-item",3,"click"],["azt-track-service","information-class-box-5V-axi1fKp3",1,"dropdown-item",3,"click"],["name","timer-reset","size","16",3,"ngClass"],["azt-track-service","information-class-box-yPIM4KNi4qL",1,"dropdown-item",3,"click"],["name","shuffle","size","16",3,"ngClass"],["azt-track-service","information-class-box-4Glzv5SSUAO",1,"dropdown-item","text-danger",3,"click"],["name","trash","size","16",3,"ngClass"]],template:function(m,l){if(1&m&&(t.j41(0,"div",2)(1,"a",3),t.nI1(2,"navigationLocalize"),t.j41(3,"div",4)(4,"a",5,0),t.EFF(6),t.k0s()(),t.j41(7,"div",6)(8,"div",7),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div",8),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()(),t.DNE(14,$a,4,3,"div",9),t.k0s(),t.DNE(15,za,3,3,"div",10),t.k0s(),t.j41(16,"mat-menu",11,1)(18,"div",12)(19,"ul",13),t.DNE(20,Pa,5,5,"li",14),t.nI1(21,"editPermission"),t.DNE(22,Aa,5,5,"li",14),t.nI1(23,"fullPermission"),t.DNE(24,La,5,5,"li",14)(25,Ba,5,5,"li",14)(26,Ya,5,5,"li",14)(27,Va,5,5,"li",14)(28,Ua,5,5,"li",14)(29,Xa,5,5,"li",14),t.nI1(30,"deletePermission"),t.k0s()()()),2&m){const g=t.sdS(5);t.R7$(),t.Y8G("routerLink",t.eq3(34,Kn,t.bMT(2,19,"/admin/student/classroom-details/"+l.classroomObj.id+(l.programId?"/3":"/0")))),t.R7$(3),t.FS9("matTooltip",l.classroomObj.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",g.isDisabled),t.R7$(2),t.SpI(" ",l.classroomObj.name," "),t.R7$(3),t.Lme("",t.bMT(10,21,"lang_auto_si_so"),": ",l.classroomObj.countStudents,""),t.R7$(3),t.Lme("",t.bMT(13,23,"lang_auto_nam_hoc"),": ",l.classroomObj.year,""),t.R7$(2),t.Y8G("ngIf",l.classroomObj.isShareClassroom),t.R7$(),t.Y8G("ngIf",l.classroomObj.permissionObj),t.R7$(5),t.Y8G("ngIf",""==l.screenTemplate&&t.i5U(21,25,l.classroomObj,"classroom")),t.R7$(2),t.Y8G("ngIf",""==l.screenTemplate&&t.i5U(23,28,l.classroomObj,"classroom")),t.R7$(2),t.Y8G("ngIf",""==l.screenTemplate&&!l.classroomObj.isShareClassroom),t.R7$(),t.Y8G("ngIf",""==l.screenTemplate&&l.classroomObj.isShareClassroom),t.R7$(),t.Y8G("ngIf","storage"==l.screenTemplate),t.R7$(),t.Y8G("ngIf","showListPeopleWhoWillShare"==l.screenTemplate),t.R7$(),t.Y8G("ngIf",""==l.screenTemplate&&l.classroomObj.isShareClassroom),t.R7$(),t.Y8G("ngIf",t.i5U(30,31,l.classroomObj,"classroom"))}},dependencies:[x.YU,x.bT,J.kk,J.Cp,P.oV,w.Wk,yt.WGl,Z.f,z.F2,z.wp,z.gC,z.FV,z.AJ],styles:[".ribbon[_ngcontent-%COMP%]{position:absolute;right:-2px;top:-2px;z-index:1;overflow:hidden;width:45px;height:45px;text-align:right}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:7px;color:#fff;text-transform:uppercase;text-align:center;font-weight:700;line-height:12px;transform:rotate(45deg);-webkit-transform:rotate(45deg);width:55px;display:block;background:linear-gradient(#68cc00,#68cc009c);box-shadow:0 3px 10px -5px #636363;position:absolute;top:6px;right:-14px}.ml-auto[_ngcontent-%COMP%]{z-index:999}"]}),f})();function Wa(r,f){1&r&&t.nrm(0,"azt-loading-ui",10)}let Ja=(()=>{var r;class f extends Ie._{closeDialog(m){this.dialogRef.close(m)}deleteGroupOfClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomGroupGet(this.currentGroupOfClassroomDataThatIsEdited?.id??0).subscribe(m=>{1==m.success?(this.showSuccessSnack("lang_auto_xoa_nhom_thanh_cong"),this.successStatusObj(),this.closeDialog(!0)):(this.errorStatusObj(m.message??"",!0),this.dialogRef.close())}))}constructor(m,l,g){super(g,l),this.classroomGroupService=m,this.dialogRef=l,this.data=g,this.currentGroupOfClassroomDataThatIsEdited=g.groupObj}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(Dn.kG),t.rXU(re.CP,8),t.rXU(re.Vh,8))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-delete-group"]],features:[t.Vt3],decls:17,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-danger",3,"click","disabled"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(m,l){1&m&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"span",5),t.EFF(8),t.k0s()()()()(),t.j41(9,"div",6)(10,"button",7),t.bIt("click",function(){return l.closeDialog(!1)}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",8),t.bIt("click",function(){return l.deleteGroupOfClassroom()}),t.DNE(14,Wa,1,0,"azt-loading-ui",9),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()),2&m&&(t.R7$(5),t.SpI(" ",t.bMT(6,6,"lang_student_classroom_list_utils_delete_group")," "),t.R7$(3),t.JRh(null==l.currentGroupOfClassroomDataThatIsEdited?null:l.currentGroupOfClassroomDataThatIsEdited.name),t.R7$(3),t.SpI(" ",t.bMT(12,8,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",1==l.statusObj.loading),t.R7$(),t.Y8G("ngIf",l.statusObj.loading),t.R7$(),t.SpI(" ",t.bMT(16,10,"lang_button_delete")," "))},dependencies:[x.bT,st.R,z.wp],encapsulation:2}),f})();const Ea=()=>({"mr-2":!0});function Ha(r,f){if(1&r){const c=t.RV6();t.j41(0,"button",26),t.bIt("click",function(l){return t.eBV(c),t.Njj(l.stopPropagation())}),t.nrm(1,"lucide-icon",27),t.k0s()}if(2&r){t.XpG();const c=t.sdS(11);t.Y8G("matMenuTriggerFor",c)}}function Ka(r,f){1&r&&(t.j41(0,"div",28),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_enter_name_group")," "))}let wa=(()=>{var r;class f extends e.H{collapseByGroupId(m){this.collapseByGroupIdEvent.emit(m)}deleteGroupDialog(){this.sAztDialogService.open(Ja,{width:"400px",data:{groupObj:this.groupObj},restoreFocus:!1}).afterClosed().subscribe(l=>{l&&this.updateGroupSuccessEvent.emit(!0)})}updateGroupOfClassroom(m){if(""!=m.trim()){var l={groupId:this.groupObj?.id??0,name:m};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomGroupPost(l).subscribe(g=>{1==g.success?(this.successStatusObj("lang_auto_cap_nhat_nhom_thanh_cong",!0),this.updateGroupSuccessEvent.emit(!0)):this.errorStatusObj(g.message??"",!0)}))}}constructor(m,l){super(),this.classroomGroupService=m,this.sAztDialogService=l,this.updateGroupSuccessEvent=new t.bkB,this.collapseByGroupIdEvent=new t.bkB}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(Dn.kG),t.rXU(Yt.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-classroom-show-group-box"]],inputs:{groupObj:"groupObj",isOwned:"isOwned"},outputs:{updateGroupSuccessEvent:"updateGroupSuccessEvent",collapseByGroupIdEvent:"collapseByGroupIdEvent"},features:[t.Vt3],decls:43,vars:35,consts:[["menu","matMenu"],["matMenuGroupOfClassroom",""],["nameGroup",""],[1,"flex","items-center"],[1,"text-lg","font-medium","truncate","mr-3"],["azt-track-service","azt-list-classroom-view-mpTg8jgQkF",1,"flex","items-center","clickable",3,"click"],[3,"name","size"],[1,"font-medium","truncate"],[1,"dropdown"],["azt-track-service","class-list-U9X02wc0f","class","dropdown-toggle p-1 hover:bg-gray dark:hover:bg-darkmode-400 rounded-md","aria-expanded","false","data-tw-toggle","dropdown",3,"matMenuTriggerFor","click",4,"ngIf"],[1,"box","grid"],["azt-track-service","class-list-9ufWL4LIlj","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","pr-3","btn-edit","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click","matMenuTriggerFor"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","class-list-Qqdrk4Sj2Q",1,"pr-3","btn-delete","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","trash-2","size","16",3,"ngClass"],["xPosition","after"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["azt-track-service","class-list-G1Mkx8IXu63",1,"modal-body"],[1,"text-base","font-medium","mr-auto"],["azt-track-service","class-list-0AWKcuGUws",3,"click"],["type","text","aria-label","default input example",1,"form-control","mt-2",3,"value","placeholder"],["class","alert alert-danger p-1 mt-2",4,"ngIf"],[1,"text-right","mt-3",2,"display","flex","justify-content","space-between"],["azt-track-service","class-list-qHpiXjTg249",1,"btn","w-24","btn-secondary","mr-2"],["azt-track-service","class-list-lVV77oiaCLP",1,"btn","w-24","btn-primary",3,"click","disabled"],["azt-track-service","class-list-U9X02wc0f","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","p-1","hover:bg-gray","dark:hover:bg-darkmode-400","rounded-md",3,"click","matMenuTriggerFor"],["name","ellipsis-vertical","size","16"],[1,"alert","alert-danger","p-1","mt-2"]],template:function(m,l){if(1&m){const g=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"span",5),t.bIt("click",function(){return t.eBV(g),t.Njj(l.collapseByGroupId(l.groupObj))}),t.nrm(3,"lucide-icon",6),t.j41(4,"h2",7),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()()(),t.j41(8,"div",8),t.DNE(9,Ha,2,1,"button",9),t.j41(10,"mat-menu",null,0)(12,"div",10)(13,"button",11),t.bIt("click",function(W){return t.eBV(g),t.Njj(W.stopPropagation())}),t.nrm(14,"lucide-icon",12),t.j41(15,"span"),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"button",13),t.bIt("click",function(){return t.eBV(g),t.Njj(l.deleteGroupDialog())}),t.nrm(19,"lucide-icon",14),t.j41(20,"span"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()()()()(),t.j41(23,"mat-menu",15,1)(25,"div",16)(26,"div",17)(27,"div",18)(28,"h2",19),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.j41(31,"div",20),t.bIt("click",function(W){return t.eBV(g),t.Njj(W.stopPropagation())}),t.nrm(32,"input",21,2),t.nI1(34,"mytranslate"),t.DNE(35,Ka,3,3,"div",22),t.k0s(),t.j41(36,"div",23)(37,"button",24),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s(),t.j41(40,"button",25),t.bIt("click",function(){t.eBV(g);const W=t.sdS(33);return t.Njj(l.updateGroupOfClassroom(W.value))}),t.EFF(41),t.nI1(42,"mytranslate"),t.k0s()()()()()()}if(2&m){const g=t.sdS(24),N=t.sdS(33);t.R7$(3),t.Y8G("name",l.groupObj.isExpand?"chevron-down":"chevron-right")("size",24),t.R7$(2),t.Lme("",t.bMT(6,17,l.groupObj.name)," ","("+l.groupObj.totalViewClassrooms+" "+t.bMT(7,19,"lang_testbank_test_list_classes")+")",""),t.R7$(4),t.Y8G("ngIf",l.groupObj.id>0&&l.isOwned),t.R7$(4),t.Y8G("matMenuTriggerFor",g),t.R7$(),t.Y8G("ngClass",t.lJ4(33,Ea)),t.R7$(2),t.JRh(t.bMT(17,21,"lang_button_edit")),t.R7$(3),t.Y8G("ngClass",t.lJ4(34,Ea)),t.R7$(2),t.JRh(t.bMT(22,23,"lang_button_delete")),t.R7$(8),t.JRh(t.bMT(30,25,"lang_student_classroom_list_update_group")),t.R7$(3),t.FS9("value",l.groupObj.name),t.FS9("placeholder",t.bMT(34,27,"lang_auto_nhap_ten_nhom")),t.R7$(3),t.Y8G("ngIf",""==N.value.trim()),t.R7$(3),t.SpI(" ",t.bMT(39,29,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",""==N.value.trim()),t.R7$(),t.SpI(" ",t.bMT(42,31,"lang_student_classroom_list_update")," ")}},dependencies:[x.YU,x.bT,J.kk,J.Cp,yt.WGl,z.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),f})();const Qa=r=>[r];function Za(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function qa(r,f){if(1&r){const c=t.RV6();t.qex(0),t.j41(1,"div",18)(2,"azt-information-class-box",19),t.bIt("eventOfClassroomMenu",function(l){t.eBV(c);const g=t.XpG(5);return t.Njj(g.eventOfClassroomMenu(l))}),t.k0s()(),t.bVm()}if(2&r){const c=f.$implicit;t.R7$(),t.Y8G("hidden",!c.isShowClassroom),t.R7$(),t.Y8G("classroomObj",c)}}function tr(r,f){if(1&r&&(t.j41(0,"div",17),t.DNE(1,qa,3,2,"ng-container",9),t.k0s()),2&r){const c=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngForOf",c.classroomObjs)}}function er(r,f){1&r&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_class_null"),"."))}function nr(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",12)(1,"app-teacher-classroom-show-group-box",13),t.bIt("updateGroupSuccessEvent",function(l){t.eBV(c);const g=t.XpG(3);return t.Njj(g.updateGroupSuccessEvent(l))})("collapseByGroupIdEvent",function(){t.eBV(c);const l=t.XpG().$implicit,g=t.XpG(2);return t.Njj(g.collapseByGroupId(l.groupObj))}),t.k0s(),t.j41(2,"div",14),t.DNE(3,tr,2,1,"div",15)(4,er,3,3,"div",16),t.k0s()()}if(2&r){const c=t.XpG().$implicit;t.R7$(),t.Y8G("groupObj",c.groupObj)("isOwned",c.isOwned),t.R7$(),t.Y8G("hidden",!c.groupObj.isExpand),t.R7$(),t.Y8G("ngIf",c.classroomObjs.length),t.R7$(),t.Y8G("ngIf",0==c.classroomObjs.length)}}function ir(r,f){if(1&r&&(t.j41(0,"div"),t.DNE(1,nr,5,5,"div",11),t.k0s()),2&r){const c=f.$implicit;t.R7$(),t.Y8G("ngIf",c.groupObj.isShowGroup)}}function or(r,f){if(1&r&&(t.j41(0,"div",21),t.nI1(1,"navigationLocalize"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&r){const c=t.XpG(2);t.Y8G("routerLink",t.eq3(7,Qa,t.bMT(1,3,"/admin/student/manage-classroom/1"))),t.R7$(2),t.Lme(" ",t.bMT(3,5,"lang_student_classroom_list_storage")," (",c.totalStorageClassroom,") ")}}function sr(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.nI1(3,"mytranslate"),t.bIt("onSearch",function(l){t.eBV(c);const g=t.XpG();return t.Njj(g.searchByName(l.searchObj))}),t.k0s()(),t.j41(4,"span",7),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.collapseAll(!l.isExpandAll))}),t.nrm(5,"lucide-icon",8),t.k0s()(),t.DNE(6,ir,2,1,"div",9)(7,or,4,9,"div",10)}if(2&r){const c=t.XpG();t.R7$(2),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(3,5,"lang_testbank_test_list_search_class")),t.R7$(3),t.Y8G("name",c.isExpandAll?"chevrons-down-up":"chevrons-up-down"),t.R7$(),t.Y8G("ngForOf",c.viewClassroomGroupObjs),t.R7$(),t.Y8G("ngIf",c.totalStorageClassroom)}}let ar=(()=>{var r;class f extends mt{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!0}}return(r=f).\u0275fac=function(m){return new(m||r)},r.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-active-classrooms"]],features:[t.Vt3],decls:4,vars:2,consts:[["doneLoading",""],[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"onSearch","isServerSearch","placeholder"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],["size","24",3,"name"],[4,"ngFor","ngForOf"],["azt-track-service","class-list-9gXcamWSz","class","btn-text-primary font-medium cursor-pointer",3,"routerLink",4,"ngIf"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"updateGroupSuccessEvent","collapseByGroupIdEvent","groupObj","isOwned"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"eventOfClassroomMenu","classroomObj"],[1,"text-center","col-span-12","p-2"],["azt-track-service","class-list-9gXcamWSz",1,"btn-text-primary","font-medium","cursor-pointer",3,"routerLink"]],template:function(m,l){if(1&m&&(t.j41(0,"div",1),t.DNE(1,Za,1,1,"azt-loading-effect",2)(2,sr,8,7,"ng-template",null,0,t.C5r),t.k0s()),2&m){const g=t.sdS(3);t.R7$(),t.Y8G("ngIf",l.statusObj.loading)("ngIfElse",g)}},dependencies:[w.Wk,x.Sq,x.bT,bt.K,Oa,Ct.W,yt.WGl,wa,z.F2,z.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),f})();function rr(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function lr(r,f){if(1&r){const c=t.RV6();t.qex(0),t.j41(1,"div",17)(2,"azt-information-class-box",18),t.bIt("eventOfClassroomMenu",function(l){t.eBV(c);const g=t.XpG(5);return t.Njj(g.eventOfClassroomMenu(l))}),t.k0s()(),t.bVm()}if(2&r){const c=f.$implicit;t.R7$(),t.Y8G("hidden",!c.isShowClassroom),t.R7$(),t.Y8G("classroomObj",c)("screenTemplate","storage")}}function cr(r,f){if(1&r&&(t.j41(0,"div",16),t.DNE(1,lr,3,3,"ng-container",9),t.k0s()),2&r){const c=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngForOf",c.classroomObjs)}}function mr(r,f){1&r&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_class_null"),"."))}function _r(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",11)(1,"app-teacher-classroom-show-group-box",12),t.bIt("updateGroupSuccessEvent",function(l){t.eBV(c);const g=t.XpG(3);return t.Njj(g.updateGroupSuccessEvent(l))})("collapseByGroupIdEvent",function(){t.eBV(c);const l=t.XpG().$implicit,g=t.XpG(2);return t.Njj(g.collapseByGroupId(l.groupObj))}),t.k0s(),t.j41(2,"div",13),t.DNE(3,cr,2,1,"div",14)(4,mr,3,3,"div",15),t.k0s()()}if(2&r){const c=t.XpG().$implicit;t.R7$(),t.Y8G("groupObj",c.groupObj)("isOwned",c.isOwned),t.R7$(),t.Y8G("hidden",!c.groupObj.isExpand),t.R7$(),t.Y8G("ngIf",c.classroomObjs.length),t.R7$(),t.Y8G("ngIf",0==c.classroomObjs.length)}}function dr(r,f){if(1&r&&(t.j41(0,"div"),t.DNE(1,_r,5,5,"div",10),t.k0s()),2&r){const c=f.$implicit;t.R7$(),t.Y8G("ngIf",c.groupObj.isShowGroup)}}function ur(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.nI1(3,"mytranslate"),t.bIt("onSearch",function(l){t.eBV(c);const g=t.XpG();return t.Njj(g.searchByName(l.searchObj))}),t.k0s()(),t.j41(4,"span",7),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.collapseAll(!l.isExpandAll))}),t.nrm(5,"lucide-icon",8),t.k0s()(),t.DNE(6,dr,2,1,"div",9)}if(2&r){const c=t.XpG();t.R7$(2),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(3,4,"lang_testbank_test_list_search_class")),t.R7$(3),t.Y8G("name",c.isExpandAll?"chevrons-down-up":"chevrons-up-down"),t.R7$(),t.Y8G("ngForOf",c.viewClassroomGroupObjs)}}let pr=(()=>{var r;class f extends mt{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!1}}return(r=f).\u0275fac=function(m){return new(m||r)},r.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-archive-classrooms"]],features:[t.Vt3],decls:4,vars:2,consts:[["doneLoading",""],[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"onSearch","isServerSearch","placeholder"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],["size","24",3,"name"],[4,"ngFor","ngForOf"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"updateGroupSuccessEvent","collapseByGroupIdEvent","groupObj","isOwned"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"eventOfClassroomMenu","classroomObj","screenTemplate"],[1,"text-center","col-span-12","p-2"]],template:function(m,l){if(1&m&&(t.j41(0,"div",1),t.DNE(1,rr,1,1,"azt-loading-effect",2)(2,ur,7,6,"ng-template",null,0,t.C5r),t.k0s()),2&m){const g=t.sdS(3);t.R7$(),t.Y8G("ngIf",l.statusObj.loading)("ngIfElse",g)}},dependencies:[x.Sq,x.bT,bt.K,Oa,Ct.W,yt.WGl,wa,z.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),f})();const gr=["childActiveClassrooms"],hr=["childArchiveClassrooms"],Qn=()=>({"mr-2":!0}),Ra=()=>[],Ca=()=>({"ml-1":!0});function fr(r,f){1&r&&(t.j41(0,"span",34),t.EFF(1,"1"),t.k0s())}function br(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",35),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function vr(r,f){1&r&&(t.qex(0),t.nrm(1,"app-teacher-active-classrooms",37,4),t.bVm()),2&r&&(t.R7$(),t.Y8G("classroomGroupData",t.lJ4(1,Ra)))}function kr(r,f){1&r&&t.nrm(0,"app-teacher-archive-classrooms",37,5),2&r&&t.Y8G("classroomGroupData",t.lJ4(1,Ra))}function Cr(r,f){if(1&r&&(t.j41(0,"div"),t.DNE(1,vr,3,2,"ng-container",36)(2,kr,2,2,"ng-template",null,3,t.C5r),t.k0s()),2&r){const c=t.sdS(3),m=t.XpG();t.R7$(),t.Y8G("ngIf",m.isShowActiveClassroom)("ngIfElse",c)}}function xr(r,f){1&r&&t.nrm(0,"lucide-icon",38),2&r&&t.Y8G("ngClass",t.lJ4(1,Ca))}function Tr(r,f){1&r&&t.nrm(0,"lucide-icon",38),2&r&&t.Y8G("ngClass",t.lJ4(1,Ca))}function Sr(r,f){1&r&&t.nrm(0,"lucide-icon",38),2&r&&t.Y8G("ngClass",t.lJ4(1,Ca))}let Ir=(()=>{var r;class f extends e.H{changeFilter(m){this.typeFilter=m,this.viewActiveClassrooms?.reloadClassrooms(this.typeFilter),this.viewArchiveClassrooms?.reloadClassrooms(this.typeFilter)}createClassroomDialog(){this.sAztDialogService.open(y,{data:{classroomObj:void 0},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(l=>{l&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}createClassroomForNewCourseDialog(){this.sAztDialogService.open(ga.e,{restoreFocus:!1}).afterClosed().subscribe(l=>{l&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}openDialogAutomaticIdentification(){this.sAztDialogService.open(E.O,{data:{needGetClassroomGroups:!0,type:1,listCheckBox:[],totalStudent:0},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(m=>{m&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}ngOnInit(){this.waitDestroy((0,ot.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var m=this.commonService.getMyParam(this.activeRoute,"id")?.toString();this.isShowActiveClassroom="0"==m;let l=this.commonService.getMyQueryParam("programId");this.backToLink=l&&""!=l?"/business/educational-program/"+l:this.isShowActiveClassroom?"/admin/dashboard":"/admin/student/manage-classroom/0"})),this.mobileWebviewService.sendSimpleMessage("OPEN_CLASSES"),this.commonService.translateMetaData({title:"lang_cms_classroom_list_title",description:"lang_cms_classroom_list_description",image:"lang_cms_test_image"})}constructor(m,l,g){super(),this.activeRoute=m,this.sAztDialogService=l,this.mobileWebviewService=g,this.backToLink="",this.typeFilter="all",this.isShowActiveClassroom=!1}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(w.nX),t.rXU(Yt.i),t.rXU($.f))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-classroom"]],viewQuery:function(m,l){if(1&m&&(t.GBs(gr,5),t.GBs(hr,5)),2&m){let g;t.mGM(g=t.lsd())&&(l.viewActiveClassrooms=g.first),t.mGM(g=t.lsd())&&(l.viewArchiveClassrooms=g.first)}},features:[t.Vt3],decls:69,vars:59,consts:[["doneLoading",""],["menuClassList","matMenu"],["menuFilter","matMenu"],["showArchiveBox",""],["childActiveClassrooms",""],["childArchiveClassrooms",""],[3,"headerBackToLink"],[1,"mt-5"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[1,"text-xl","font-medium"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-8xXjbgXLYr8","tourAnchor","azt-tour-2",1,"btn","btn-primary","shadow-md","mr-2",3,"click"],["name","plus","size","16",3,"ngClass"],[1,"dropdown-toggle","btn","px-2","box","block","lg:hidden","hover:bg-slate-100","dark:hover-bg:darkmode-400",3,"matMenuTriggerFor"],["name","plus","size","16"],["azt-track-service","class-list-GeLpgTC3SuL",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","lg:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","class-list-ok7MlxqP6m9",1,"btn","px-2","box","shadow-md","azt-hidden","lg:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary","size","16",3,"ngClass"],["tourAnchor","azt-tour-2",1,"ml-2","shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],["class","py-1 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12",2,"z-index","1"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["xPosition","before"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["name","rows-4","size","16",3,"ngClass"],["name","check","size","16",3,"ngClass",4,"ngIf"],["name","user-check","size","16",3,"ngClass"],["name","tags","size","16",3,"ngClass"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],[3,"classroomGroupData"],["name","check","size","16",3,"ngClass"]],template:function(m,l){if(1&m){const g=t.RV6();t.j41(0,"teacher-layout",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"h3",10),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",11)(9,"button",12),t.bIt("click",function(){return t.eBV(g),t.Njj(l.createClassroomDialog())}),t.nrm(10,"lucide-icon",13),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",14),t.nrm(14,"lucide-icon",15),t.k0s(),t.j41(15,"button",16),t.bIt("click",function(){return t.eBV(g),t.Njj(l.createClassroomForNewCourseDialog())}),t.nrm(16,"lucide-icon",13),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"button",17),t.bIt("click",function(){return t.eBV(g),t.Njj(l.openDialogAutomaticIdentification())}),t.nrm(20,"lucide-icon",18),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"button",19),t.nrm(24,"lucide-icon",20),t.EFF(25),t.nI1(26,"mytranslate"),t.DNE(27,fr,2,0,"span",21),t.k0s()()(),t.j41(28,"div",22)(29,"div",23),t.DNE(30,br,1,1,"azt-loading-effect",24)(31,Cr,4,2,"ng-template",null,0,t.C5r),t.k0s()()()(),t.j41(33,"mat-menu",25,1)(35,"div",26)(36,"ul",27)(37,"li")(38,"button",28),t.bIt("click",function(){return t.eBV(g),t.Njj(l.createClassroomForNewCourseDialog())}),t.nrm(39,"lucide-icon",13),t.EFF(40),t.nI1(41,"mytranslate"),t.k0s()(),t.j41(42,"li")(43,"button",29),t.bIt("click",function(){return t.eBV(g),t.Njj(l.openDialogAutomaticIdentification())}),t.nrm(44,"lucide-icon",18),t.EFF(45),t.nI1(46,"mytranslate"),t.k0s()()()()(),t.j41(47,"mat-menu",25,2)(49,"div",26)(50,"ul",27)(51,"li")(52,"button",28),t.bIt("click",function(){return t.eBV(g),t.Njj(l.changeFilter("all"))}),t.nrm(53,"lucide-icon",30),t.EFF(54),t.nI1(55,"mytranslate"),t.DNE(56,xr,1,2,"lucide-icon",31),t.k0s()(),t.j41(57,"li")(58,"button",29),t.bIt("click",function(){return t.eBV(g),t.Njj(l.changeFilter("owner"))}),t.nrm(59,"lucide-icon",32),t.EFF(60),t.nI1(61,"mytranslate"),t.DNE(62,Tr,1,2,"lucide-icon",31),t.k0s()(),t.j41(63,"li")(64,"button",28),t.bIt("click",function(){return t.eBV(g),t.Njj(l.changeFilter("user"))}),t.nrm(65,"lucide-icon",33),t.EFF(66),t.nI1(67,"mytranslate"),t.DNE(68,Sr,1,2,"lucide-icon",31),t.k0s()()()()()}if(2&m){const g=t.sdS(32),N=t.sdS(34),W=t.sdS(48);t.Y8G("headerBackToLink",l.backToLink),t.R7$(5),t.SpI(" ",l.isShowActiveClassroom?t.bMT(6,28,"lang_student_classroom_list_header_title"):t.bMT(7,30,"lang_auto_kho_luu_tru")," "),t.R7$(5),t.Y8G("ngClass",t.lJ4(50,Qn)),t.R7$(),t.SpI(" ",t.bMT(12,32,"lang_student_classroom_list_create_class")," "),t.R7$(2),t.Y8G("matMenuTriggerFor",N),t.R7$(3),t.Y8G("ngClass",t.lJ4(51,Qn)),t.R7$(),t.SpI(" ",t.bMT(18,34,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(3),t.Y8G("ngClass",t.lJ4(52,Qn)),t.R7$(),t.SpI(" ",t.bMT(22,36,"lang_auto_danh_so_bao_danh")," "),t.R7$(2),t.Y8G("matMenuTriggerFor",W),t.R7$(),t.Y8G("ngClass",t.lJ4(53,Qn)),t.R7$(),t.SpI(" ",t.bMT(26,38,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf","all"!=l.typeFilter),t.R7$(3),t.Y8G("ngIf",l.statusObj.loading)("ngIfElse",g),t.R7$(9),t.Y8G("ngClass",t.lJ4(54,Qn)),t.R7$(),t.SpI(" ",t.bMT(41,40,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(55,Qn)),t.R7$(),t.SpI(" ",t.bMT(46,42,"lang_auto_danh_so_bao_danh")," "),t.R7$(8),t.Y8G("ngClass",t.lJ4(56,Qn)),t.R7$(),t.SpI(" ",t.bMT(55,44,"lang_homework_content_store_all")," "),t.R7$(2),t.Y8G("ngIf",""==l.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(57,Qn)),t.R7$(),t.SpI(" ",t.bMT(61,46,"lang_core_lop_cua_toi")," "),t.R7$(2),t.Y8G("ngIf","owner"==l.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(58,Qn)),t.R7$(),t.SpI(" ",t.bMT(67,48,"lang_auto_lop_duoc_chia_se")," "),t.R7$(2),t.Y8G("ngIf","user"==l.typeFilter)}},dependencies:[x.YU,x.bT,J.kk,J.Cp,bt.K,o.Q,yt.WGl,ar,pr,z.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),f})(),jr=(()=>{var r;class f extends e.H{}return(r=f).\u0275fac=(()=>{let c;return function(l){return(c||(c=t.xGo(r)))(l||r)}})(),r.\u0275cmp=t.VBU({type:r,selectors:[["homework-master-page"]],features:[t.Vt3],decls:2,vars:0,consts:[["id","student-layout"]],template:function(m,l){1&m&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[w.n3],encapsulation:2}),f})();function yr(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h2",3),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"button",6),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.btnCloseDialog())}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"button",7),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.confirmQuit())}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()}if(2&r){const c=t.XpG();t.R7$(3),t.SpI("",c.data.type&&"update_phone_student"==c.data.type?t.bMT(4,3,"lang_student_utils_confirm_merge_verifi")+"?":t.bMT(5,5,"lang_student_utils_confirm_merge_confirm")+"?"," "),t.R7$(6),t.SpI(" ",t.bMT(10,7,"lang_cms_common_close_btn")," "),t.R7$(3),t.SpI(" ",t.bMT(13,9,"lang_cms_common_confirm_btn")," ")}}let Or=(()=>{var r;class f extends Ie._{confirmQuit(){this.dialogRef.close(!0)}btnCloseDialog(){this.dialogRef.close(!1)}constructor(m,l){super(l,m),this.dialogRef=m,this.data=l}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(re.CP,8),t.rXU(re.Vh))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-merge-student-confirm-box"]],features:[t.Vt3],decls:1,vars:1,consts:[["class","box",4,"ngIf"],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","p-3"],[1,"text-base","font-medium","mr-auto"],[1,"flex","justify-end","p-3"],[1,"azt-block-button"],["azt-track-service","confirm-merge-Yvv9eaXGFnm","matRipple","",1,"btn","min-width-100","btn-outline-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q","matRipple","",1,"btn","min-width-100","btn-primary",3,"click"]],template:function(m,l){1&m&&t.DNE(0,yr,14,11,"div",0),2&m&&t.Y8G("ngIf",l.data)},dependencies:[x.bT,ne.r6,z.wp],encapsulation:2}),f})();const Er=r=>({"bg-success":r});function wr(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function Rr(r,f){if(1&r&&(t.j41(0,"div",21)(1,"b"),t.EFF(2),t.k0s()()),2&r){const c=t.XpG().$implicit,m=t.XpG(2);t.Y8G("ngClass",t.eq3(2,Er,m.haveSelected(c))),t.R7$(2),t.JRh(c.fullName)}}function Mr(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",19),t.bIt("click",function(){const l=t.eBV(c).$implicit,g=t.XpG(2);return t.Njj(g.selectObj(l))}),t.DNE(1,Rr,3,4,"div",20),t.k0s()}if(2&r){const c=f.$implicit,m=t.XpG(2);t.R7$(),t.Y8G("ngIf",!m.inMergeObjs(c))}}function Fr(r,f){if(1&r){const c=t.RV6();t.j41(0,"div")(1,"div",22),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"b",23),t.EFF(5),t.k0s(),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"b",23),t.EFF(9),t.k0s(),t.EFF(10," \xa0\xa0 "),t.j41(11,"span",24),t.bIt("click",function(){const l=t.eBV(c).index,g=t.XpG(2);return t.Njj(g.removeMergeArray(l))}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()}if(2&r){const c=f.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_student_merge_student_merge_student")," "),t.R7$(3),t.JRh(null==c.from?null:c.from.fullName),t.R7$(),t.SpI(" ",t.bMT(7,7,"lang_student_merge_student_return")," "),t.R7$(3),t.JRh(null==c.to?null:c.to.fullName),t.R7$(3),t.JRh(t.bMT(13,9,"lang_auto_xoa"))}}function Dr(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",22)(1,"div",26)(2,"b"),t.EFF(3),t.k0s(),t.j41(4,"button",27),t.bIt("click",function(){t.eBV(c);const l=t.XpG().$implicit,g=t.XpG(2);return t.Njj(g.revertStudent(l.id))}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&r){const c=t.XpG().$implicit;t.R7$(3),t.JRh(c.fullName),t.R7$(2),t.SpI(" ",t.bMT(6,2,"lang_button_revert")," ")}}function Gr(r,f){if(1&r&&(t.j41(0,"div"),t.DNE(1,Dr,7,4,"div",25),t.k0s()),2&r){const c=f.$implicit,m=t.XpG(2);t.R7$(),t.Y8G("ngIf",!m.inMergeObjs(c))}}function Nr(r,f){if(1&r){const c=t.RV6();t.j41(0,"div",4)(1,"mat-tab-group",5)(2,"mat-tab",6),t.nI1(3,"mytranslate"),t.j41(4,"div",7)(5,"div",8)(6,"div",9),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.DNE(9,Mr,2,1,"div",10),t.k0s(),t.j41(10,"div",11)(11,"div",12)(12,"div",13)(13,"div",9),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.DNE(16,Fr,14,11,"div",14),t.j41(17,"div",15)(18,"button",16),t.bIt("click",function(){t.eBV(c);const l=t.XpG();return t.Njj(l.showConfirmBox())}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()()()(),t.j41(21,"mat-tab",6),t.nI1(22,"mytranslate"),t.j41(23,"div",17)(24,"div",18)(25,"div")(26,"div",15),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.DNE(29,Gr,2,1,"div",14),t.k0s()()()()()()}if(2&r){const c=t.XpG();t.R7$(),t.Y8G("selectedIndex",c.selectedIndex),t.R7$(),t.FS9("label",t.bMT(3,11,"lang_student_merge_student_lable")),t.R7$(5),t.SpI(" ",t.bMT(8,13,"lang_student_merge_student_required_click_merge")," "),t.R7$(2),t.Y8G("ngForOf",c.studentObjs),t.R7$(5),t.SpI(" ",t.bMT(15,15,"lang_student_merge_student_list_student_merge")," "),t.R7$(2),t.Y8G("ngForOf",c.studentMergeObjs),t.R7$(2),t.Y8G("disabled",c.studentMergeObjs&&c.studentMergeObjs.length<1),t.R7$(),t.SpI(" ",t.bMT(20,17,"lang_student_merge_student_start_merge_list")," "),t.R7$(2),t.FS9("label",t.bMT(22,19,"lang_student_merge_student_revert")),t.R7$(6),t.SpI(" ",t.bMT(28,21,"lang_student_merge_student_list_submitted")," "),t.R7$(2),t.Y8G("ngForOf",c.studentMergeListObjs)}}let $r=(()=>{var r;class f extends e.H{showConfirmBox(){this.sAztDialogService.open(Or,{data:this.confirmBox,width:"500px"}).afterClosed().subscribe(m=>{m&&this.sendToServer()})}inMergeObjs(m){let l=!1,g=this.studentMergeObjs?.length??0;for(let N=0;N<g;N++)(this.studentMergeObjs?.[N].from?.id==m.id||this.studentMergeObjs?.[N].to?.id==m.id)&&(l=!0);return l}haveSelected(m){let l=!1;for(let g=0;g<this.selectObjs.length;g++)this.selectObjs[g].id==m.id&&(l=!0);return l}selectObj(m){this.haveSelected(m)?this.selectObjs=[]:this.selectObjs.push(m),2==this.selectObjs.length&&(this.studentMergeObjs.push({from:this.selectObjs[0],to:this.selectObjs[1]}),this.selectObjs=[])}removeMergeArray(m){this.studentMergeObjs?.[m]&&this.studentMergeObjs.splice(m,1)}sendToServer(){const m=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.initStatusObj();let l=[],g=this.studentMergeObjs?.length??0;for(let Lt=0;Lt<g;Lt++){var N=this.studentMergeObjs?.[Lt].from?.id,W=this.studentMergeObjs?.[Lt].to?.id;N&&W&&l.push({fromId:N,toId:W})}this.waitDestroy(this.mergeStudentService.apiMergeStudentMergeObjsPost({classroomId:m,mergeObjs:l}).subscribe(Lt=>{1==Lt.success?(this.showSuccessSnack("lang_auto_gop_danh_sach_thanh_cong"),this.studentMergeObjs=[],this.selectObjs=[],this.getListMergeStudent(),this.getData(),this.selectedIndex=1,this.successStatusObj()):this.errorStatusObj(Lt.message??"",!0)}))}getData(){this.initStatusObj();const m=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetObjsByClassroomGet(m).subscribe(l=>{1==l.success?(this.studentObjs=this.sortService.sortFirstNameStudents(l?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(l.message??"",!0)}))}getListMergeStudent(){this.initStatusObj();const m=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetMergedObjsGet(m).subscribe(l=>{1==l.success?(this.studentMergeListObjs=this.sortService.sortFirstNameStudents(l?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(l.message??"",!0)}))}revertStudent(m){this.waitDestroy(this.mergeStudentService.apiMergeStudentRevertMergeObjGet(m).subscribe(l=>{1==l.success?(this.showSuccessSnack("lang_auto_khoi_phuc_thanh_cong"),this.getData(),this.getListMergeStudent(),this.selectedIndex=0):this.errorStatusObj(l.message??"",!0)}))}ngOnInit(){this.classroomId=this.commonService.getMyParam(this.activeRoute,"id"),this.backToLink="/admin/student/classroom-details/"+this.classroomId+"/0",this.getData(),this.getListMergeStudent()}constructor(m,l,g,N,W){super(),this.activeRoute=m,this.studentService=l,this.mergeStudentService=g,this.sortService=N,this.sAztDialogService=W,this.selectObjs=[],this.studentMergeObjs=[],this.confirmBox={isShow:!1},this.selectedIndex=0,this.isMobile=this.commonService.isMobileOrTable(),this.backToLink=""}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(w.nX),t.rXU(De.b0),t.rXU(De.$$),t.rXU(Ht.g),t.rXU(Yt.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-merge-student"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"container","mt-3"],[3,"selectedIndex"],[3,"label"],[1,"flex","mt-3"],[1,"p-2"],[1,"m-2"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click",4,"ngFor","ngForOf"],[1,"p-2",2,"width","70%"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mt-2"],["azt-track-service","merge-student-g45UTcIj35h",1,"pl-2","pr-2","mt-2","btn","btn-primary",3,"click","disabled"],[1,"d-flex"],[1,"w-full","sm-w-50"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click"],["class","m-2 clickable","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",3,"ngClass",4,"ngIf"],[1,"m-2","clickable",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important",3,"ngClass"],[1,"m-2","p-2",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important"],[2,"font-weight","600"],[1,"clickable","text-danger",3,"click"],["class","m-2 p-2","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],["azt-track-service","merge-student-v4iYHGvaLN8",1,"hover-button","clickable",3,"click"]],template:function(m,l){if(1&m&&(t.j41(0,"teacher-layout",1),t.DNE(1,wr,1,1,"azt-loading-effect",2)(2,Nr,30,23,"ng-template",null,0,t.C5r),t.k0s()),2&m){const g=t.sdS(3);t.Y8G("headerBackToLink",l.backToLink),t.R7$(),t.Y8G("ngIf",l.statusObj.loading)("ngIfElse",g)}},dependencies:[x.YU,x.Sq,x.bT,Vn.mq,Vn.T8,bt.K,o.Q,z.wp],styles:["a[_ngcontent-%COMP%]:hover{text-decoration:none}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex;text-decoration:none;margin-top:10px}.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff}b[_ngcontent-%COMP%]{font-weight:400}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px}.header__top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.header__work[_ngcontent-%COMP%]{display:flex}.header__gift[_ngcontent-%COMP%]{position:relative;margin-right:24px;margin-top:5px}.gift__link[_ngcontent-%COMP%]{color:#fff}.girt__count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:#fe4531;border-radius:50%;width:16px;height:16px;color:#fff;padding:0;text-align:center;font-weight:700;font-size:9px}.header__work[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.header__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-top:2px}.body[_ngcontent-%COMP%]{margin:0 auto;text-align:center;color:#fff}.body__block[_ngcontent-%COMP%]{min-width:300px;padding:35px 0;margin:0 auto;background-color:#009cbe;border:none;border-radius:5px}.block__text[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin:0}.body__about[_ngcontent-%COMP%]{margin-top:25px}.about__title[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.about__desc[_ngcontent-%COMP%]{text-align:justify}.desc__title[_ngcontent-%COMP%]{font-weight:700}.btn-add-azo[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;padding:13px 40px;border-radius:10px}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}  .mat-tab-label:hover{color:#000}.hover-button[_ngcontent-%COMP%]:hover{color:#3f51b5}.text-danger[_ngcontent-%COMP%]:hover{color:#f44336!important}@media (min-width: 640px){.sm-w-50[_ngcontent-%COMP%]{width:450px}}"]}),f})();var zr=p(16583);function Pr(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function Ar(r,f){if(1&r&&t.nrm(0,"azt-student-profile",4),2&r){const c=t.XpG();t.Y8G("studentId",c.studentId)("select",c.select)("classroomId",c.classroomId)("backToLink",c.backToLink)("paramBackToLink",c.paramBackToLink)("classroomList",c.classroomList)("isTeacherDashboard",!0)}}let Lr=(()=>{var r;class f extends e.H{getListClassroomByStudentId(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2ListStudentClassroomsGet(this.studentId).subscribe(m=>{1===m.success?(this.classroomList=m.data?.objs??[],this.classroomList.find(l=>l.id+"-"+l.studentId==this.select.value)||this.select.setValue(""),this.successStatusObj()):this.errorStatusObj(m.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,ot.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var m=this.commonService.getMyParam(this.activeRoute,"classroom_id"),l=this.commonService.getMyParam(this.activeRoute,"id");this.classroomId=parseInt(m||"",10),this.studentId=parseInt(l||"",10),this.backToLink="/admin/student/profile-student/"+this.classroomId+"/"+this.studentId,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??`/admin/student/classroom-details/${this.classroomId}/0`,this.commonService.translateMetaData({title:"lang_cms_student_detail_title",description:"lang_cms_test_config_description",image:"lang_cms_student_detail_description"}),this.select.setValue(this.classroomId+"-"+this.studentId),this.getListClassroomByStudentId()}))}constructor(m,l,g){super(),this.sAztDialogService=m,this.activeRoute=l,this.studentProfileV2Service=g,this.select=new nt.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[]}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(Yt.i),t.rXU(w.nX),t.rXU(De.m_))},r.\u0275cmp=t.VBU({type:r,selectors:[["student-profile"]],features:[t.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[3,"studentId","select","classroomId","backToLink","paramBackToLink","classroomList","isTeacherDashboard"]],template:function(m,l){if(1&m&&(t.j41(0,"teacher-layout",1),t.DNE(1,Pr,1,1,"azt-loading-effect",2)(2,Ar,1,7,"ng-template",null,0,t.C5r),t.k0s()),2&m){const g=t.sdS(3);t.Y8G("headerBackToLink",l.paramBackToLink),t.R7$(),t.Y8G("ngIf",l.statusObj.loading)("ngIfElse",g)}},dependencies:[x.bT,bt.K,zr.x,o.Q],encapsulation:2}),f})();var Br=p(18586),Yr=p(25898);function Vr(r,f){1&r&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function Ur(r,f){1&r&&t.nrm(0,"azt-loading-ui",18)}function Xr(r,f){if(1&r&&t.nrm(0,"azt-loading-effect",19),2&r){const c=t.XpG();t.Y8G("currentStatusObj",c.statusObj)}}function Wr(r,f){1&r&&(t.j41(0,"div",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Jr(r,f){if(1&r){const c=t.RV6();t.j41(0,"tr")(1,"td",29),t.bIt("click",function(){const l=t.eBV(c).$implicit,g=t.XpG(3);return t.Njj(g.goToProfile(l.classroomId,l.id))}),t.nrm(2,"azt-student-info-box",30),t.k0s(),t.j41(3,"td",31),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",32)(7,"div",33)(8,"span"),t.EFF(9),t.nI1(10,"formatOnlyDateByUserUnitPipe"),t.k0s()()(),t.j41(11,"td",32)(12,"form",34)(13,"textarea",35),t.nI1(14,"mytranslate"),t.bIt("change",function(){const l=t.eBV(c).$implicit;return t.Njj(l.commentControl.controls.isEditted.setValue(!0))}),t.k0s()()(),t.j41(15,"td",32)(16,"span",36,1),t.nI1(18,"mytranslate"),t.bIt("click",function(){const l=t.eBV(c).$implicit,g=t.XpG(3);return t.Njj(g.showAllComment(l))}),t.nrm(19,"lucide-icon",37),t.k0s()()()}if(2&r){const c=f.$implicit,m=t.sdS(17);t.R7$(2),t.Y8G("name",c.fullName)("avatar",c.avatar)("gender",c.gender)("parentFullName",c.parentFullName)("parentId",c.parentId)("parentPhone",c.parentPhone)("hasUser",c.hasUser)("schoolName",c.schoolName)("classrooms",c.classrooms)("joinedAt",c.joinedAt)("phone",c.phone)("identificationNumber",c.identificationNumber),t.R7$(2),t.JRh(c.identificationNumber?t.i5U(5,20,c.identificationNumber,6):""),t.R7$(5),t.SpI(" ",t.bMT(10,23,c.commentControl.controls.updatedAt.value)," "),t.R7$(3),t.Y8G("formGroup",c.commentControl),t.R7$(),t.FS9("placeholder",t.bMT(14,25,"lang_auto_nhap_nhan_xet")),t.Y8G("id","add_comment_"+c.id),t.R7$(3),t.FS9("matTooltip",t.bMT(18,27,"lang_student_show_all_comment")),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",m.isDisabled)}}function Hr(r,f){if(1&r&&(t.j41(0,"div",23)(1,"table",24)(2,"thead")(3,"tr")(4,"th",25),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",26),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",27),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",27),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.nrm(16,"th",27),t.k0s()(),t.j41(17,"tbody"),t.DNE(18,Jr,20,29,"tr",28),t.k0s()()()),2&r){const c=t.XpG(2);t.R7$(5),t.JRh(t.bMT(6,5,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(9,7,"lang_auto_so_bao_danh")),t.R7$(3),t.JRh(t.bMT(12,9,"lang_student_add_comment_date")),t.R7$(3),t.JRh(t.bMT(15,11,"lang_student_add_comment")),t.R7$(4),t.Y8G("ngForOf",c.listStudent)}}function Kr(r,f){if(1&r&&t.DNE(0,Wr,3,3,"div",20)(1,Hr,19,13,"div",21),2&r){const c=t.XpG();t.Y8G("ngIf",0==c.listStudent.length&&0==c.totalStudent),t.R7$(),t.Y8G("ngIf",c.listStudent.length>0)}}function Qr(r,f){if(1&r){const c=t.RV6();t.j41(0,"azt-paging",41),t.bIt("goToPaginationPage",function(l){t.eBV(c);const g=t.XpG(2);return t.Njj(g.setPageStudent(l))}),t.k0s()}if(2&r){const c=t.XpG(2);t.Y8G("pageObj",c.pageObj)}}function Zr(r,f){if(1&r&&(t.j41(0,"div",38),t.nrm(1,"div"),t.DNE(2,Qr,1,1,"azt-paging",39),t.j41(3,"div",40),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const c=t.XpG();t.R7$(2),t.Y8G("ngIf",c.totalStudent>c.pageObj.pageSize),t.R7$(2),t.Lme("",c.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}const tl=[{path:"",component:jr,canActivate:[n.t],children:[{path:"merge-student/:id",component:$r},{path:"profile-student/:classroom_id/:id",component:Lr},{path:"manage-classroom/:id",component:Ir},{path:"classroom-details/:id/:tabId",component:aa},{path:"attendance-student/:classroom_id/:program_id/:session_id",component:Yo},{path:"add-comment/:classroom_id/:program_id/:session_id",component:(()=>{var r;class f extends e.H{goToProfile(m,l){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+m+"/"+l,"?backto="+encodeURIComponent("/admin/student/add-comment/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(m){var l="/admin/student/add-comment/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,g="?page="+m+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(l,g),this.initStatusObj(),this.pageObj.setPageNumber(m),this.getListStudent()}onSearchBox(m){this.searchContentObj=m,this.setPageStudent(1)}showAllComment(m){this.sAztDialogService.open(Br.U,{width:"700px",restoreFocus:!1,data:{student:m,isTeacher:!0}}).afterClosed().subscribe(l=>{l&&this.getListStudent()})}countChangedComment(){let m=0;return this.listStudent.forEach(l=>{l.commentControl.controls.isEditted.value&&!l.commentControl.controls.comment.value&&m++}),1==m}saveComment(){this.isSave=!0;let m=this.listStudent.filter(g=>g.commentControl.controls.isEditted.value&&g.commentControl.controls.comment.value).map(g=>({id:0,studentId:g.id,comment:g.commentControl.controls.comment.value}))??[],l={classroomId:this.classroomId,studentAssessments:m};if(0==m.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost(l).subscribe(g=>{g.success?(this.initStatusObj(),this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!0}).subscribe(l=>{l?(this.listStudent=[],l.list.forEach(g=>{let N=this.sAztAssessmentStudentService.getLastAssessmentStudent(g);this.listStudent.push({...g,commentControl:new nt.gE({id:new nt.MJ(0,{nonNullable:!0}),updatedAt:new nt.MJ(N?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new nt.MJ(N?.comment??"",{nonNullable:!0}),isEditted:new nt.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(g.assessments),editComment:!1})}),this.totalStudent=l.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,ot.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"));let m=this.commonService.getMyQueryParam("backto");this.backToLink=m||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent()}),super.ngOnInit()}constructor(m,l,g,N){super(),this.sAztAssessmentStudentService=m,this.activeRoute=l,this.studentService=g,this.sAztDialogService=N,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.searchContentObj=new ct.Z,this.pageObj=new ve.d(20)}}return(r=f).\u0275fac=function(m){return new(m||r)(t.rXU(Yr.n),t.rXU(w.nX),t.rXU(Ae.b),t.rXU(Yt.i))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-add-student-comment"]],features:[t.Vt3],decls:22,vars:19,consts:[["doneLoading",""],["c","isDisabled"],[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"onSearch","isServerSearch","searchContentObj","placeholder"],[3,"colorBackground"],[1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"click","disabled"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-1"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[1,"mt-10","text-center"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt","phone","identificationNumber"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[3,"formGroup"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"change","id","placeholder"],[1,"mr-2","inline-block","clickable",3,"click","matTooltip","isDisabledTooltip","matTooltipDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"goToPaginationPage","pageObj"]],template:function(m,l){if(1&m){const g=t.RV6();t.j41(0,"teacher-layout",2)(1,"div",3)(2,"div",4)(3,"h3",5),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,Vr,3,3,"div",6),t.k0s(),t.j41(7,"div",7)(8,"div",8)(9,"div",9)(10,"azt-search-box",10),t.nI1(11,"mytranslate"),t.bIt("onSearch",function(W){return t.eBV(g),t.Njj(l.onSearchBox(W.searchObj))}),t.k0s()(),t.j41(12,"flexed-on-the-top",11)(13,"button",12),t.bIt("click",function(){return t.eBV(g),t.Njj(l.saveComment())}),t.DNE(14,Ur,1,0,"azt-loading-ui",13),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()()(),t.j41(17,"div",14),t.DNE(18,Xr,1,1,"azt-loading-effect",15)(19,Kr,2,2,"ng-template",null,0,t.C5r),t.k0s(),t.DNE(21,Zr,6,5,"div",16),t.k0s()}if(2&m){const g=t.sdS(20);t.Y8G("headerBackToLink",l.backToLink),t.R7$(4),t.JRh(t.bMT(5,13,"lang_student_assessment_student")),t.R7$(2),t.Y8G("ngIf",l.isMobileDevice&&l.listStudent.length>0),t.R7$(4),t.Y8G("isServerSearch",!0)("searchContentObj",l.searchContentObj)("placeholder",t.bMT(11,15,"lang_core_tim_theo_ten_phone_email")),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(),t.Y8G("disabled",l.isSave||l.countChangedComment()),t.R7$(),t.Y8G("ngIf",l.isSave),t.R7$(),t.SpI(" ",t.bMT(16,17,"lang_auto_luu")," "),t.R7$(3),t.Y8G("ngIf",l.statusObj.loading)("ngIfElse",g),t.R7$(3),t.Y8G("ngIf",l.totalStudent>0)}},dependencies:[x.Sq,x.bT,P.oV,nt.qT,nt.me,nt.BC,nt.cb,nt.j4,nt.JD,bt.K,he.q,G.t,Z.f,st.R,Sn.$,Ct.W,Ye.B,o.Q,yt.WGl,z.wp,z.Po,z.vv],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),f})()},{path:"distribute-document/:classroom_id/:program_id/:session_id",component:pa},{path:"submit-score/:classroom_id/:program_id/:session_id",component:Xo},{path:"class-details/:id",redirectTo:"classroom-details/:id/0"},{path:"manage-class/:id",redirectTo:"manage-classroom/:id"},{path:"student-list",redirectTo:"manage-classroom/0",pathMatch:"full"}]}];let el=(()=>{var r;class f{}return(r=f).\u0275fac=function(m){return new(m||r)},r.\u0275mod=t.$C({type:r}),r.\u0275inj=t.G2t({imports:[w.iI.forChild(tl),w.iI,i.XE]}),f})()},14505:(Me,Kt,p)=>{p.d(Kt,{h:()=>z});var w=p(54460),i=p(10936),n=p(89163),ot=p(65162),e=p(69223),t=p(23047),T=p(15343),x=p(13763),o=p(10123),yt=p(25571),zt=p(44233),St=p(20378),ct=p(5502),Nt=p(21656),J=p(70050),bt=p(7050),st=p(91100),Ct=p(43234),q=p(73100),P=p(62484),Z=p(48891);let z=(()=>{var gt;class Ot{}return(gt=Ot).\u0275fac=function(Rt){return new(Rt||gt)},gt.\u0275mod=Z.$C({type:gt}),gt.\u0275inj=Z.G2t({providers:[{provide:e.vn,useValue:Ct.c.azt_tiny_mce_script_src}],imports:[ot.iI,w.MD,Nt.s,St.T_,e.sv,i.YN,i.X1,n.hM,J.L,x.Lk,P.I,yt.xv,st.Q,bt.b,o.AC,T.flO.pick(T.Ptg),ct.Id,t.Fr,q.AzotaBusinessModule,zt.An]}),Ot})()},66257:(Me,Kt,p)=>{p.d(Kt,{H:()=>w});var w=function(i){return i.none="None",i.asc="Asc",i.desc="Desc",i}(w||{})},48725:(Me,Kt,p)=>{p.d(Kt,{s:()=>i});var w=p(66257);class i{resetSortFieldName(ot){this.fieldNameList.forEach(e=>{e.fieldName!==ot.fieldName&&(e.typeFieldSort=this.typeFieldSort.none)})}setFieldNameList(ot){this.fieldNameList=ot}convertDataSort(ot){switch(this.resetSortFieldName(ot),ot.typeFieldSort){case this.typeFieldSort.none:ot.typeFieldSort=this.typeFieldSort.asc;break;case this.typeFieldSort.asc:ot.typeFieldSort=this.typeFieldSort.desc;break;case this.typeFieldSort.desc:ot.typeFieldSort=this.typeFieldSort.none}return{fieldName:ot.fieldName,descending:ot.typeFieldSort===this.typeFieldSort.desc,ignore:ot.typeFieldSort===this.typeFieldSort.none}}constructor(){this.typeFieldSort=w.H,this.fieldNameList=[]}}},49221:(Me,Kt,p)=>{p.d(Kt,{R:()=>St});var w=p(59640),i=p(48891),n=p(54460),ot=p(76975);function e(ct,Nt){if(1&ct){const J=i.RV6();i.j41(0,"a",5),i.bIt("click",function(){i.eBV(J);const st=i.XpG(2);return i.Njj(st.clickToSeeMore())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}2&ct&&(i.R7$(),i.JRh(i.bMT(2,1,"lang_cms_common_see_more")))}function t(ct,Nt){if(1&ct){const J=i.RV6();i.j41(0,"a",5),i.bIt("click",function(){i.eBV(J);const st=i.XpG(2);return i.Njj(st.clickToShowShortContent())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}2&ct&&(i.R7$(),i.JRh(i.bMT(2,1,"lang_cms_common_see_short_content")))}function T(ct,Nt){if(1&ct&&(i.j41(0,"div"),i.nrm(1,"span",3),i.nI1(2,"safeNormalHtmlContent"),i.DNE(3,e,3,3,"a",4)(4,t,3,3,"a",4),i.k0s()),2&ct){const J=i.XpG();i.R7$(),i.Y8G("innerHTML",i.bMT(2,3,J.showContent),i.npT),i.R7$(2),i.Y8G("ngIf",J.showSeeMoreButton&&J.content.length>J.maxLength),i.R7$(),i.Y8G("ngIf",J.showShortContentButton&&J.content.length>J.maxLength)}}function x(ct,Nt){if(1&ct&&(i.nrm(0,"span",10),i.nI1(1,"safeNormalHtmlContent")),2&ct){const J=i.XpG(2);i.Y8G("innerHTML",i.bMT(1,1,J.showContent),i.npT)}}function o(ct,Nt){if(1&ct){const J=i.RV6();i.j41(0,"a",5),i.bIt("click",function(){i.eBV(J);const st=i.XpG(2);return i.Njj(st.clickToSeeMore())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}if(2&ct){const J=i.XpG(2);i.Aen("position: absolute; bottom: 0; right: 0; background-color: "+J.backgroundColor),i.R7$(),i.SpI(" ...",i.bMT(2,3,"lang_cms_common_see_more")," ")}}function yt(ct,Nt){if(1&ct){const J=i.RV6();i.j41(0,"a",5),i.bIt("click",function(){i.eBV(J);const st=i.XpG(2);return i.Njj(st.clickToShowShortContent())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}2&ct&&(i.R7$(),i.JRh(i.bMT(2,1,"lang_cms_common_see_short_content")))}function zt(ct,Nt){if(1&ct&&(i.j41(0,"div",6),i.nrm(1,"div",7),i.nI1(2,"safeNormalHtmlContent"),i.nrm(3,"div",7,0),i.nI1(5,"safeNormalHtmlContent"),i.DNE(6,x,2,3,"span",8)(7,o,3,5,"a",9)(8,yt,3,3,"a",4),i.k0s()),2&ct){const J=i.sdS(4),bt=i.XpG();i.R7$(),i.Aen(bt.styleContent),i.Y8G("innerHTML",i.bMT(2,9,bt.showContent),i.npT),i.R7$(2),i.Aen("white-space: pre-line; position: absolute; visibility: hidden; line-height: 20px"),i.Y8G("innerHTML",i.bMT(5,11,bt.showContent),i.npT),i.R7$(3),i.Y8G("ngIf",bt.showShortContentButton),i.R7$(),i.Y8G("ngIf",bt.showSeeMoreButton&&J.offsetHeight>20*bt.maxLine),i.R7$(),i.Y8G("ngIf",bt.showShortContentButton&&J.offsetHeight>20*bt.maxLine)}}let St=(()=>{var ct;class Nt extends w.H{clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let bt=this.commonService.removeTagHtml(this.content);if(this.maxLength&&bt.length>this.maxLength)this.showContent=this.showSeeMoreButton?bt.substring(0,this.maxLength)+"...":this.content;else if(this.maxLine){this.showContent=this.content;var st=(20*this.maxLine).toString();this.styleContent=this.showSeeMoreButton?"white-space: pre-line; max-height: "+st+"px; overflow: hidden; position: relative; line-height: 20px;":"white-space: pre-line; line-height: 20px; visibility: hidden; position: absolute;"}else this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content;this.showContent=this.showContent+" "}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}constructor(){super(),this.content="",this.backgroundColor="white",this.styleContent="white-space: pre-line;",this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}}return(ct=Nt).\u0275fac=function(bt){return new(bt||ct)},ct.\u0275cmp=i.VBU({type:ct,selectors:[["azt-see-more-multiple-lines"]],inputs:{content:"content",maxLength:"maxLength",maxLine:"maxLine",backgroundColor:"backgroundColor"},features:[i.Vt3,i.OA$],decls:2,vars:2,consts:[["contentElementHide",""],[4,"ngIf"],["style","position: relative; white-space: break-spaces",4,"ngIf"],[2,"white-space","pre-line","white-space","break-spaces",3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"],[2,"position","relative","white-space","break-spaces"],[3,"innerHTML"],["style","white-space: pre-line",3,"innerHTML",4,"ngIf"],["class","btn-text-primary",3,"style","click",4,"ngIf"],[2,"white-space","pre-line",3,"innerHTML"]],template:function(bt,st){1&bt&&i.DNE(0,T,5,5,"div",1)(1,zt,9,13,"div",2),2&bt&&(i.Y8G("ngIf",st.maxLength),i.R7$(),i.Y8G("ngIf",st.maxLine&&!st.maxLength))},dependencies:[n.bT,ot.wp,ot._y],encapsulation:2}),Nt})()},66729:(Me,Kt,p)=>{p.d(Kt,{D:()=>St});var w=p(59640),i=p(48891),n=p(54460),ot=p(47712),e=p(76975);function t(ct,Nt){1&ct&&(i.j41(0,"span",2),i.nI1(1,"mytranslate"),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()),2&ct&&(i.FS9("matTooltip",i.bMT(1,2,"lang_auto_dat")),i.R7$(2),i.JRh(i.bMT(3,4,"lang_auto_d_upper")))}function T(ct,Nt){1&ct&&(i.j41(0,"span",2),i.nI1(1,"mytranslate"),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()),2&ct&&(i.FS9("matTooltip",i.bMT(1,2,"lang_auto_chua_dat")),i.R7$(2),i.JRh(i.bMT(3,4,"lang_auto_cd_upper")))}function x(ct,Nt){1&ct&&(i.j41(0,"span",2),i.nI1(1,"mytranslate"),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()),2&ct&&(i.FS9("matTooltip",i.bMT(1,2,"lang_auto_hoan_thanh")),i.R7$(2),i.JRh(i.bMT(3,4,"lang_auto_tag_ht")))}function o(ct,Nt){1&ct&&(i.j41(0,"span",2),i.nI1(1,"mytranslate"),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()),2&ct&&(i.FS9("matTooltip",i.bMT(1,2,"lang_auto_chua_hoan_thanh")),i.R7$(2),i.SpI("",i.bMT(3,4,"lang_auto_tag_CHT")," "))}function yt(ct,Nt){1&ct&&(i.j41(0,"span",2),i.nI1(1,"mytranslate"),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()),2&ct&&(i.FS9("matTooltip",i.bMT(1,2,"lang_auto_hoan_thanh_tot")),i.R7$(2),i.JRh(i.bMT(3,4,"lang_auto_tag_HTT")))}function zt(ct,Nt){if(1&ct&&(i.j41(0,"span",3),i.EFF(1),i.k0s()),2&ct){const J=i.XpG();i.R7$(),i.JRh(J.mark)}}let St=(()=>{var ct;class Nt extends w.H{constructor(){super(...arguments),this.mark=0}}return(ct=Nt).\u0275fac=(()=>{let J;return function(st){return(J||(J=i.xGo(ct)))(st||ct)}})(),ct.\u0275cmp=i.VBU({type:ct,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[i.Vt3],decls:6,vars:6,consts:[["class","text-mark mb-0",3,"matTooltip",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],[1,"text-mark","mb-0",3,"matTooltip"],[1,"text-mark","mb-0"]],template:function(bt,st){1&bt&&i.DNE(0,t,4,6,"span",0)(1,T,4,6,"span",0)(2,x,4,6,"span",0)(3,o,4,6,"span",0)(4,yt,4,6,"span",0)(5,zt,2,1,"span",1),2&bt&&(i.Y8G("ngIf","1000"==st.mark),i.R7$(),i.Y8G("ngIf","1001"==st.mark),i.R7$(),i.Y8G("ngIf","2000"==st.mark),i.R7$(),i.Y8G("ngIf","2001"==st.mark),i.R7$(),i.Y8G("ngIf","3000"==st.mark),i.R7$(),i.Y8G("ngIf","2001"!=st.mark&&"2000"!=st.mark&&"1001"!=st.mark&&"1000"!=st.mark&&"3000"!=st.mark))},dependencies:[n.bT,ot.oV,e.wp],encapsulation:2}),Nt})()},74637:(Me,Kt,p)=>{p.d(Kt,{E:()=>Ct});var w=p(48891),i=p(59640),n=p(54460),ot=p(17818),e=p(15343),t=p(76975);const T=()=>[];function x(q,P){1&q&&(w.j41(0,"span",12),w.EFF(1),w.nI1(2,"mytranslate"),w.k0s()),2&q&&(w.R7$(),w.JRh(w.bMT(2,1,"lang_core_thang")))}function o(q,P){if(1&q&&(w.j41(0,"span",12),w.EFF(1),w.nI1(2,"mytranslate"),w.k0s()),2&q){const Z=w.XpG();w.R7$(),w.Lme("",w.bMT(2,2,"lang_core_thang")," ",Z.dataFilter.monthSelected,"")}}function yt(q,P){1&q&&(w.j41(0,"span",12),w.EFF(1),w.nI1(2,"mytranslate"),w.k0s()),2&q&&(w.R7$(),w.JRh(w.bMT(2,1,"lang_core_nam")))}function zt(q,P){if(1&q&&(w.j41(0,"span",12),w.EFF(1),w.nI1(2,"mytranslate"),w.k0s()),2&q){const Z=w.XpG();w.R7$(),w.Lme("",w.bMT(2,2,"lang_core_nam")," ",Z.dataFilter.yearSelected,"")}}function St(q,P){1&q&&(w.j41(0,"span"),w.EFF(1),w.nI1(2,"mytranslate"),w.k0s()),2&q&&(w.R7$(),w.JRh(w.bMT(2,1,"lang_auto_tat_ca")))}function ct(q,P){if(1&q&&(w.j41(0,"span"),w.EFF(1),w.nI1(2,"mytranslate"),w.k0s()),2&q){const Z=w.XpG().index;w.R7$(),w.Lme("",w.bMT(2,2,"lang_core_thang")," ",Z,"")}}function Nt(q,P){if(1&q){const Z=w.RV6();w.j41(0,"li",13),w.bIt("click",function(){const gt=w.eBV(Z).index,Ot=w.XpG();return w.Njj(Ot.selectMonth(gt))}),w.DNE(1,St,3,3,"span",14)(2,ct,3,4,"span",14),w.k0s()}if(2&q){const Z=P.index,z=w.XpG();w.Y8G("ngClass",z.dataFilter.monthSelected==Z?"color-select":""),w.R7$(),w.Y8G("ngIf",0==Z),w.R7$(),w.Y8G("ngIf",Z>0)}}function J(q,P){1&q&&(w.j41(0,"span"),w.EFF(1),w.nI1(2,"mytranslate"),w.k0s()),2&q&&(w.R7$(),w.JRh(w.bMT(2,1,"lang_auto_tat_ca")))}function bt(q,P){if(1&q&&(w.j41(0,"span"),w.EFF(1),w.nI1(2,"mytranslate"),w.k0s()),2&q){const Z=w.XpG().index,z=w.XpG();w.R7$(),w.Lme("",w.bMT(2,2,"lang_core_nam")," ",z.currentDate.getFullYear()-(Z-1),"")}}function st(q,P){if(1&q){const Z=w.RV6();w.j41(0,"li",15),w.bIt("click",function(){const gt=w.eBV(Z).index,Ot=w.XpG();return w.Njj(Ot.selectYear(gt))}),w.DNE(1,J,3,3,"span",14)(2,bt,3,4,"span",14),w.k0s()}if(2&q){const Z=P.index,z=w.XpG();w.Y8G("ngClass",!z.dataFilter.yearSelected||z.currentDate.getFullYear()-(z.dataFilter.yearSelected-1)!=Z&&0!=z.dataFilter.yearSelected?"":"color-select"),w.R7$(),w.Y8G("ngIf",0==Z),w.R7$(),w.Y8G("ngIf",Z>0)}}let Ct=(()=>{var q;class P extends i.H{selectMonth(z){this.isApply=!0,this.dataFilter.monthSelected=z,this.sendFilter.emit(this.dataFilter)}selectYear(z){this.isApply=!0,this.dataFilter.yearSelected=z>0?this.currentDate.getFullYear()-(z-1):z,this.sendFilter.emit(this.dataFilter)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.sendFilter=new w.bkB,this.isLoading=!1,this.currentDate=new Date,this.isApply=!1,this.dataFilter={monthSelected:void 0,yearSelected:void 0}}}return(q=P).\u0275fac=function(z){return new(z||q)},q.\u0275cmp=w.VBU({type:q,selectors:[["azt-filter-box"]],inputs:{isLoading:"isLoading"},outputs:{sendFilter:"sendFilter"},features:[w.Vt3],decls:22,vars:13,consts:[["filterByMonth","matMenu"],["filterByYear","matMenu"],[1,"flex","items-center","font-medium"],[1,"font-medium","mr-2","color",2,"color","#1e40af"],[1,"border-box","hover","p-1","clickable","mr-1",3,"matMenuTriggerFor"],["class","p-1",4,"ngIf"],["name","chevron-down","size","18"],["xPosition","before"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content","overflow-hidden","overflow-y-auto","h-56"],["azt-track-service","azt-filter-box-0A_xsGZ5B","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","azt-filter-box-orpcyuG7jD","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-1"],["azt-track-service","azt-filter-box-0A_xsGZ5B",1,"dropdown-item","w-max-content","w-full","clickable",3,"click","ngClass"],[4,"ngIf"],["azt-track-service","azt-filter-box-orpcyuG7jD",1,"dropdown-item","w-max-content","w-full","clickable",3,"click","ngClass"]],template:function(z,gt){if(1&z&&(w.j41(0,"div",2)(1,"div",3),w.EFF(2),w.nI1(3,"mytranslate"),w.k0s(),w.j41(4,"div",4),w.DNE(5,x,3,3,"span",5)(6,o,3,4,"span",5),w.nrm(7,"lucide-icon",6),w.k0s(),w.j41(8,"div",4),w.DNE(9,yt,3,3,"span",5)(10,zt,3,4,"span",5),w.nrm(11,"lucide-icon",6),w.k0s()(),w.j41(12,"mat-menu",7,0)(14,"div",8)(15,"ul",9),w.DNE(16,Nt,3,3,"li",10),w.k0s()()(),w.j41(17,"mat-menu",7,1)(19,"div",8)(20,"ul",9),w.DNE(21,st,3,3,"li",11),w.k0s()()()),2&z){const Ot=w.sdS(13),$t=w.sdS(18);w.R7$(2),w.SpI(" ",w.bMT(3,9,"lang_testbank_tested_list_sort"),": "),w.R7$(2),w.Y8G("matMenuTriggerFor",Ot),w.R7$(),w.Y8G("ngIf",!gt.dataFilter.monthSelected),w.R7$(),w.Y8G("ngIf",gt.dataFilter.monthSelected&&gt.dataFilter.monthSelected>0),w.R7$(2),w.Y8G("matMenuTriggerFor",$t),w.R7$(),w.Y8G("ngIf",!gt.dataFilter.yearSelected),w.R7$(),w.Y8G("ngIf",gt.dataFilter.yearSelected&&gt.dataFilter.yearSelected>0),w.R7$(6),w.Y8G("ngForOf",w.lJ4(11,T).constructor(13)),w.R7$(5),w.Y8G("ngForOf",w.lJ4(12,T).constructor(10))}},dependencies:[n.YU,n.Sq,n.bT,ot.kk,ot.Cp,e.WGl,t.wp],styles:[".w-max-content[_ngcontent-%COMP%]{width:-webkit-fill-available;min-width:max-content}.border-left[_ngcontent-%COMP%]{border-left:1px solid rgb(201,201,201)}.background-powderblue[_ngcontent-%COMP%]{background:#b0e0e6}.hover[_ngcontent-%COMP%]:hover{background:#f5fffa}.color-select[_ngcontent-%COMP%]{background-color:#eef1f6}.border-box[_ngcontent-%COMP%]{border:1px solid #1e40af;padding:2px 5px;border-radius:10px}.box-name[_ngcontent-%COMP%]{background:#d3d3d3}"]}),P})()},16583:(Me,Kt,p)=>{p.d(Kt,{x:()=>Nn});var w=p(10936),i=p(59640),n=p(63016),ot=p(82653),e=p(48891),t=p(31216),T=p(62095),x=p(50589);let o=(()=>{var j;class H{countChecked(I){var F=0;for(var kt in I)!0===I[kt]&&(F+=1);return F}getDefaultFilterObj(I){var F=this.localStorageSlug+I;if(this.listFilterObjs[F])return this.listFilterObjs[F];var kt=this.getInitFilterObj(),se=this.browserStorageService.getSimpleStorage(F),ne=this.commonService.castJsonToObj(se??"");return ne&&(kt=ne),kt}saveFilterObj(I,F){var kt=this.localStorageSlug+I;this.listFilterObjs[kt]=F,this.browserStorageService.saveSimpleStorage(kt,this.commonService.serializeJson(F))}getInitFilterObj(){return{getHasMark:!1,getNotMarked:!1,getNotDone:!1,getResendAnswer:!1,classroomId:0,studentId:0}}constructor(I,F){this.commonService=I,this.browserStorageService=F,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}}return(j=H).\u0275fac=function(I){return new(I||j)(e.KVO(T.R),e.KVO(x.z))},j.\u0275prov=e.jDH({token:j,factory:j.\u0275fac,providedIn:"root"}),H})();var yt=p(51913),zt=p(95624),St=p(54460),ct=p(47712),Nt=p(15343),J=p(18718),bt=p(66729),st=p(17818),Ct=p(76975);const q=()=>({"mr-2":!0});function P(j,H){if(1&j&&(e.j41(0,"span"),e.EFF(1," \xa0 "),e.j41(2,"span",20),e.EFF(3),e.k0s()()),2&j){const E=e.XpG();e.R7$(3),e.JRh(E.totalCustomFilter)}}function Z(j,H){if(1&j){const E=e.RV6();e.j41(0,"li")(1,"label",21),e.bIt("click",function(F){return e.eBV(E),e.Njj(F.stopPropagation())}),e.EFF(2),e.nI1(3,"mytranslate"),e.j41(4,"div",9)(5,"input",22),e.bIt("change",function(){e.eBV(E);const F=e.XpG();return F.filterObj.getResendAnswer=!F.filterObj.getResendAnswer,e.Njj(F.changeFilter())}),e.k0s()()()()}if(2&j){const E=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,"lang_student_profile_filter_get_resend_answer")," "),e.R7$(3),e.Y8G("checked",E.filterObj.getResendAnswer)}}let z=(()=>{var j;class H extends i.H{changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}clearFilter(){this.filterObj=this.studentProfileFilterService.getInitFilterObj(),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilter()}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}constructor(I){super(),this.studentProfileFilterService=I,this.filterType="",this.changeFilterEvent=new e.bkB,this.totalCustomFilter=0}}return(j=H).\u0275fac=function(I){return new(I||j)(e.rXU(o))},j.\u0275cmp=e.VBU({type:j,selectors:[["azt-student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},features:[e.Vt3],decls:40,vars:26,consts:[["filterMenu","matMenu"],[1,"btn","btn-sm",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["azt-track-service","filter-menu-SVYEFVdq9z","for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],["azt-track-service","filter-menu-OF32qNGQY8","for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],["azt-track-service","filter-menu-EpBgopx3Iv","for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","filter-menu-2gPTdI1ODd",3,"click"],["azt-track-service","filter-menu-cGVj55-Aac",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["azt-track-service","filter-menu-FWtx2ole8G","for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"change","checked"]],template:function(I,F){if(1&I){const kt=e.RV6();e.j41(0,"button",1),e.nrm(1,"lucide-icon",2),e.j41(2,"span",3),e.EFF(3),e.nI1(4,"mytranslate"),e.DNE(5,P,4,1,"span",4),e.k0s()(),e.j41(6,"mat-menu",5,0)(8,"div",6)(9,"ul",7)(10,"li")(11,"label",8),e.bIt("click",function(ne){return e.eBV(kt),e.Njj(ne.stopPropagation())}),e.EFF(12),e.nI1(13,"mytranslate"),e.j41(14,"div",9)(15,"input",10),e.bIt("change",function(){return e.eBV(kt),F.filterObj.getHasMark=!F.filterObj.getHasMark,e.Njj(F.changeFilter())}),e.k0s()()()(),e.j41(16,"li")(17,"label",11),e.bIt("click",function(ne){return e.eBV(kt),e.Njj(ne.stopPropagation())}),e.EFF(18),e.nI1(19,"mytranslate"),e.j41(20,"div",9)(21,"input",12),e.bIt("change",function(){return e.eBV(kt),F.filterObj.getNotMarked=!F.filterObj.getNotMarked,e.Njj(F.changeFilter())}),e.k0s()()()(),e.j41(22,"li")(23,"label",13),e.bIt("click",function(ne){return e.eBV(kt),e.Njj(ne.stopPropagation())}),e.EFF(24),e.nI1(25,"mytranslate"),e.j41(26,"div",9)(27,"input",14),e.bIt("change",function(){return e.eBV(kt),F.filterObj.getNotDone=!F.filterObj.getNotDone,e.Njj(F.changeFilter())}),e.k0s()()()(),e.DNE(28,Z,6,4,"li",4),e.j41(29,"li"),e.nrm(30,"hr",15),e.k0s(),e.j41(31,"li")(32,"div",16)(33,"button",17),e.EFF(34),e.nI1(35,"mytranslate"),e.k0s(),e.j41(36,"div",18),e.bIt("click",function(ne){return e.eBV(kt),e.Njj(ne.stopPropagation())}),e.j41(37,"button",19),e.bIt("click",function(){return e.eBV(kt),e.Njj(F.clearFilter())}),e.EFF(38),e.nI1(39,"mytranslate"),e.k0s()()()()()()()}if(2&I){const kt=e.sdS(7);e.Y8G("matMenuTriggerFor",kt),e.R7$(),e.Y8G("ngClass",e.lJ4(25,q)),e.R7$(2),e.SpI(" ",e.bMT(4,13,"lang_testbank_tested_list_sort")," "),e.R7$(2),e.Y8G("ngIf",F.totalCustomFilter>0),e.R7$(7),e.SpI(" ",e.bMT(13,15,"lang_student_profile_filter_get_has_mark")," "),e.R7$(3),e.Y8G("checked",F.filterObj.getHasMark),e.R7$(3),e.SpI(" ",e.bMT(19,17,"lang_student_profile_filter_get_not_marked")," "),e.R7$(3),e.Y8G("checked",F.filterObj.getNotMarked),e.R7$(3),e.SpI(" ",e.bMT(25,19,"exam"==F.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),e.R7$(3),e.Y8G("checked",F.filterObj.getNotDone),e.R7$(),e.Y8G("ngIf","homework"==F.filterType),e.R7$(6),e.JRh(e.bMT(35,21,"lang_button_close")),e.R7$(4),e.JRh(e.bMT(39,23,"lang_button_delete"))}},dependencies:[St.YU,St.bT,st.kk,st.Cp,Nt.WGl,Ct.wp],encapsulation:2}),H})();const gt=()=>({"text-pending":!0}),Ot=j=>({truncate:j}),$t=()=>({"max-width":"85%"}),Rt=()=>({});function fe(j,H){if(1&j&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.nrm(3,"azt-check-mark",17),e.k0s()),2&j){const E=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",e.bMT(2,2,"lang_point"),": "),e.R7$(2),e.Y8G("mark",E.resultMarkObj.point)}}function be(j,H){1&j&&(e.j41(0,"span",18),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&j&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function It(j,H){if(1&j&&(e.qex(0),e.DNE(1,fe,4,4,"span",13)(2,be,3,3,"span",16),e.bVm()),2&j){const E=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",E.resultMarkObj.confirmedAt),e.R7$(),e.Y8G("ngIf",!E.resultMarkObj.confirmedAt)}}function Qt(j,H){1&j&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&j&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_testbank_statistical_not_exem_yet")," "))}function Pt(j,H){if(1&j){const E=e.RV6();e.j41(0,"div",7),e.bIt("click",function(){const F=e.eBV(E).$implicit,kt=e.XpG();return e.Njj(kt.clickToExamObj(F))}),e.j41(1,"div",8),e.nrm(2,"lucide-icon",9),e.k0s(),e.j41(3,"div",10)(4,"p",11),e.EFF(5),e.k0s(),e.j41(6,"div",12),e.DNE(7,It,3,2,"ng-container",13)(8,Qt,3,3,"span",14),e.k0s(),e.j41(9,"div",15),e.EFF(10),e.nI1(11,"mytranslate"),e.nI1(12,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()()}if(2&j){const E=H.$implicit,I=H.index,F=e.XpG();e.ZvI("clickable zoom-in flex items-center ",I>0?"mt-3":""," pb-2"),e.R7$(2),e.Y8G("ngClass",e.lJ4(17,gt)),e.R7$(2),e.FS9("matTooltip",E.name),e.Y8G("ngClass",e.eq3(18,Ot,!F.isMobileDevice))("ngStyle",F.isMobileDevice?e.lJ4(21,Rt):e.lJ4(20,$t)),e.R7$(),e.Lme("",I+1,". ",E.name,""),e.R7$(2),e.Y8G("ngIf",E.resultMarkObj),e.R7$(),e.Y8G("ngIf",!E.resultMarkObj),e.R7$(2),e.Lme("",e.bMT(11,13,"lang_student_profile_utils_list_exam_created_at"),": ",e.bMT(12,15,E.createdAt),"")}}function Ft(j,H){1&j&&(e.j41(0,"div",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&j&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_list_null")))}function Wt(j,H){if(1&j&&e.nrm(0,"azt-loading-effect",25),2&j){const E=e.XpG(2);e.Y8G("currentStatusObj",E.statusObj)}}function le(j,H){if(1&j){const E=e.RV6();e.j41(0,"div",21),e.DNE(1,Wt,1,1,"azt-loading-effect",22),e.j41(2,"button",23),e.nI1(3,"mytranslate"),e.bIt("click",function(){e.eBV(E);const F=e.XpG();return e.Njj(F.getNextExamResultObjs())}),e.nrm(4,"lucide-icon",24),e.k0s()()}if(2&j){const E=e.XpG();e.R7$(),e.Y8G("ngIf",E.statusObj.loading),e.R7$(),e.FS9("matTooltip",e.bMT(3,2,"lang_student_profile_utils_list_exam_tooltip_view"))}}let Mt=(()=>{var j;class H extends i.H{clickToExamObj(I){this.isTeacher?I.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("exam",I)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+I.id+"/"+I.resultMarkObj?.userId+"/"+I.resultMarkObj?.studentId+"/"+(I.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(I.categoryId??0)+"/"+I.id+"/0","?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(I.resultMarkObj?.resultId?"/test/answer-test/"+I.resultMarkObj?.userId+"/0/"+I.hashId+"/"+(I.resultMarkObj?.resultId??0):"/de-thi/"+I.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.examNextPage="",this.nextPageList=[],this.getNextExamResultObjs()}getNextExamResultObjs(){if(this.initStatusObj(),this.isTqbDomain){const I=this.classroomList.map((F,kt)=>{if("last_page"===this.nextPageList[kt])return(0,n.of)(void 0);const se=this.buildFilterObj(F.id,F.studentId,this.nextPageList[kt]);return this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(se)});(0,ot.p)(I).subscribe({next:F=>this.handleExamResultResponses(F),error:()=>this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)})}else{const I=this.buildFilterObj(this.classroomId,this.studentId,this.examNextPage);this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(I).subscribe({next:F=>{1==F.success?(this.examObjs=this.examObjs.concat(F.data?.objs??[]),this.examNextPage=F.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)},error:()=>this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)})}}buildFilterObj(I,F,kt){const se=this.studentProfileFilterService.getDefaultFilterObj("exam");return se.classroomId=I,se.studentId=F,se.nextPage=kt??"",se}handleExamResultResponses(I){this.nextPageList=[],I.forEach(F=>{this.examObjs=this.examObjs.concat(F?.data?.objs??[]),this.nextPageList.push(F?.data?.nextPage?F.data?.nextPage??"":"last_page")}),this.successStatusObj()}ngOnInit(){this.getNextExamResultObjs()}constructor(I,F,kt,se){super(),this.studentProfileV2Service=I,this.studentProfileFilterService=F,this.permissionService=kt,this.studentService=se,this.backToLink="",this.isTeacher=!0,this.classroomList=[],this.examObjs=[],this.examNextPage="",this.nextPageList=[]}}return(j=H).\u0275fac=function(I){return new(I||j)(e.rXU(t.m_),e.rXU(o),e.rXU(yt.p),e.rXU(zt.b0))},j.\u0275cmp=e.VBU({type:j,selectors:[["azt-student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",isTeacher:"isTeacher",classroomList:"classroomList"},features:[e.Vt3],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"changeFilterEvent","filterType"],[1,"p-5"],["azt-track-service","list-exam-pw607HPZy",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","list-exam-pw607HPZy",3,"click"],[1,"file"],["name","file-check","size","48",3,"ngClass"],[1,"ml-4","content-right"],[1,"font-medium",3,"ngClass","ngStyle","matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","list-exam-wvCfNB667b",1,"",3,"click","matTooltip"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function(I,F){1&I&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"azt-student-profile-filter-menu",2),e.bIt("changeFilterEvent",function(){return F.reInitData()}),e.k0s()(),e.j41(5,"div",3),e.DNE(6,Pt,13,22,"div",4)(7,Ft,3,3,"div",5)(8,le,5,4,"div",6),e.k0s()),2&I&&(e.R7$(2),e.JRh(e.bMT(3,5,"lang_student_profile_utils_list_exam_list_submitted")),e.R7$(2),e.Y8G("filterType","exam"),e.R7$(2),e.Y8G("ngForOf",F.examObjs),e.R7$(),e.Y8G("ngIf",0==F.examObjs.length&&!F.examNextPage),e.R7$(),e.Y8G("ngIf",F.examObjs.length>0))},dependencies:[St.YU,St.Sq,St.bT,St.B3,ct.oV,Nt.WGl,J.K,bt.D,z,Ct.wp,Ct.bH],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),H})();var Xt=p(47426),Bt=p(95670),Dt=p(4375),Gt=p(44233),qt=p(89163),Se=p(33887),Tt=p(2915),tt=p(52811);function pt(j,H){1&j&&e.nrm(0,"azt-loading-ui",11)}let L=(()=>{var j;class H extends Se._{confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id??0).subscribe(I=>{1==I.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(I.message??"",!0))}))}btnCloseDialog(I){this.dialogRef.close(I)}constructor(I,F,kt){super(kt,F),this.studentService=I,this.dialogRef=F,this.data=kt,this.studentObj=kt.studentObj,this.classroomObj=kt.classroomObj}}return(j=H).\u0275fac=function(I){return new(I||j)(e.rXU(t.b0),e.rXU(qt.CP,8),e.rXU(qt.Vh,8))},j.\u0275cmp=e.VBU({type:j,selectors:[["app-delete-parent"]],features:[e.Vt3],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-parent-OCYQzQEUBJ",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-parent-q0ZQYEQFkD",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(I,F){1&I&&(e.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),e.EFF(5),e.nI1(6,"mytranslate"),e.j41(7,"b",4),e.EFF(8),e.k0s(),e.EFF(9),e.nI1(10,"mytranslate"),e.j41(11,"span",5),e.EFF(12),e.k0s(),e.EFF(13,"\xa0 "),e.j41(14,"span",6),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()()(),e.j41(17,"div",7)(18,"button",8),e.bIt("click",function(){return F.btnCloseDialog(!1)}),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s(),e.j41(21,"button",9),e.bIt("click",function(){return F.confirmDelete()}),e.DNE(22,pt,1,0,"azt-loading-ui",10),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()()()),2&I&&(e.R7$(5),e.SpI(" ",e.bMT(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),e.R7$(3),e.JRh(F.studentObj.fullName),e.R7$(),e.SpI(" ",e.bMT(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),e.R7$(2),e.FS9("matTooltip",F.classroomObj.name),e.R7$(),e.SpI(" ",F.classroomObj.name,""),e.R7$(3),e.SpI("* ",e.bMT(16,13,"lang_student_utils_delete_parent_reques"),""),e.R7$(4),e.SpI(" ",e.bMT(20,15,"lang_cms_common_close_btn")," "),e.R7$(3),e.Y8G("ngIf",F.statusObj.loading),e.R7$(),e.SpI(" ",e.bMT(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[St.bT,ct.oV,Tt.U,tt.R,Ct.wp],encapsulation:2}),H})();var _t=p(14999),At=p(46723),ae=p(46899),Ne=p(5800);const He=j=>({"pb-5":j}),an=()=>[],Ke=()=>({" mr-2 text-primary":!0}),qe=()=>({" mr-2 text-danger":!0}),_n=()=>({" mr-2 text-warning":!0});function dn(j,H){if(1&j&&e.nrm(0,"azt-loading-effect",4),2&j){const E=e.XpG();e.Y8G("currentStatusObj",E.statusObj)}}function un(j,H){if(1&j){const E=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(E);const F=e.XpG(4);return e.Njj(F.editStudentDialog(F.studentObj))}),e.nrm(1,"lucide-icon",16),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&j&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,Ke)),e.R7$(),e.SpI(" ",e.bMT(3,2,"lang_button_edit")," "))}function rn(j,H){if(1&j){const E=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(E);const F=e.XpG(4);return e.Njj(F.deleteStudentDialog(F.studentObj))}),e.nrm(1,"lucide-icon",18),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&j&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,qe)),e.R7$(),e.SpI(" ",e.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}function tn(j,H){if(1&j){const E=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(E);const F=e.XpG(4);return e.Njj(F.deleteParentOfStudentDialog(F.studentObj))}),e.nrm(1,"lucide-icon",20),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&j&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,_n)),e.R7$(),e.SpI(" ",e.bMT(3,2,"lang_student_profile_utils_account_student_required_verifie")," "))}function en(j,H){if(1&j&&(e.j41(0,"div",11),e.DNE(1,un,4,5,"button",12),e.nI1(2,"editPermission"),e.DNE(3,rn,4,5,"button",13),e.nI1(4,"fullPermission"),e.nI1(5,"editPermission"),e.DNE(6,tn,4,5,"button",14),e.nI1(7,"editPermission"),e.k0s()),2&j){const E=e.XpG(3);e.R7$(),e.Y8G("ngIf",e.i5U(2,3,E.classroomObj,"student")),e.R7$(2),e.Y8G("ngIf",e.i5U(4,6,E.classroomObj,"student")||e.i5U(5,9,E.classroomObj,"student")),e.R7$(3),e.Y8G("ngIf",0!=E.studentObj.parentId&&e.i5U(7,12,E.classroomObj,"student"))}}function nn(j,H){if(1&j){const E=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(E);const F=e.XpG(4);return e.Njj(F.deleteStudentDialog(F.studentObj))}),e.nrm(1,"lucide-icon",18),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&j&&(e.R7$(),e.Y8G("ngClass",e.lJ4(4,qe)),e.R7$(),e.SpI(" ",e.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}function it(j,H){if(1&j){const E=e.RV6();e.j41(0,"div",11)(1,"button",21),e.bIt("click",function(){e.eBV(E);const F=e.XpG(3);return e.Njj(F.editStudentDialog(F.studentObj))}),e.nrm(2,"lucide-icon",16),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,nn,4,5,"button",22),e.nI1(6,"fullPermission"),e.nI1(7,"editPermission"),e.k0s()}if(2&j){const E=e.XpG(3);e.R7$(2),e.Y8G("ngClass",e.lJ4(11,Ke)),e.R7$(),e.SpI(" ",e.bMT(4,3,"lang_button_edit")," "),e.R7$(2),e.Y8G("ngIf",e.i5U(6,5,E.classroomObj,"student")||e.i5U(7,8,E.classroomObj,"student"))}}function Ut(j,H){if(1&j&&(e.qex(0),e.j41(1,"div",6)(2,"div",7),e.nrm(3,"azt-student-info-box",8),e.k0s(),e.j41(4,"div",9),e.DNE(5,en,8,15,"div",10),e.nI1(6,"editPermission"),e.DNE(7,it,8,12,"div",10),e.nI1(8,"editPermission"),e.k0s()(),e.bVm()),2&j){let E;const I=e.XpG(2);e.R7$(3),e.Y8G("name",I.studentObj.fullName)("parentFullName",I.studentObj.parentFullName)("parentUserName",I.studentObj.parentUserName)("parentId",I.studentObj.parentId)("parentPhone",I.studentObj.parentPhone)("phone",I.studentObj.phone)("email",I.studentObj.email)("birthday",I.studentObj.birthday)("avatar",I.studentObj.avatar)("gender",I.studentObj.gender)("schoolName",null==I.studentObj.moreInfo?null:I.studentObj.moreInfo.schoolName)("facebookLink",null==I.studentObj.moreInfo?null:I.studentObj.moreInfo.facebookLink)("identificationNumber",I.studentObj.identificationNumber)("hasUser",1==I.studentObj.isVerified)("classrooms",null!==(E=null==I.studentObj.moreInfo?null:I.studentObj.moreInfo.classrooms)&&void 0!==E?E:e.lJ4(24,an))("joinedAt",null==I.studentObj.moreInfo?null:I.studentObj.moreInfo.joinedAt),e.R7$(2),e.Y8G("ngIf",I.isTeacher&&0!=I.studentObj.parentId&&e.i5U(6,18,I.classroomObj,"student")),e.R7$(2),e.Y8G("ngIf",I.isTeacher&&0==I.studentObj.parentId&&e.i5U(8,21,I.classroomObj,"student"))}}function at(j,H){1&j&&(e.j41(0,"div",24)(1,"span",25),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&j&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_profile_student_not_found")))}function et(j,H){if(1&j&&e.DNE(0,Ut,9,25,"ng-container",5)(1,at,4,3,"ng-template",null,1,e.C5r),2&j){const E=e.sdS(2),I=e.XpG();e.Y8G("ngIf",I.studentObj)("ngIfElse",E)}}let lt=(()=>{var j;class H extends i.H{deleteStudentDialog(I){this.sAztDialogService.open(_t.d,{data:{studentObj:I,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(kt=>{kt&&this.commonService.myNavigation(this.paramBackToLink)})}editStudentDialog(I){this.sAztDialogService.open(At.B,{data:{studentObj:I,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(kt=>{kt&&this.reInitComponentEvent.emit(!0)})}deleteParentOfStudentDialog(I){this.sAztDialogService.open(L,{data:{studentObj:I,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(kt=>{kt&&this.reInitComponentEvent.emit(!0)})}ngOnInit(){super.ngOnInit()}constructor(I){super(),this.sAztDialogService=I,this.classroomList=[],this.backToLink="",this.paramBackToLink="",this.isTeacher=!0,this.reInitComponentEvent=new e.bkB}}return(j=H).\u0275fac=function(I){return new(I||j)(e.rXU(ae.i))},j.\u0275cmp=e.VBU({type:j,selectors:[["azt-detail-account-student"]],inputs:{classroomId:"classroomId",classroomList:"classroomList",backToLink:"backToLink",paramBackToLink:"paramBackToLink",isTeacher:"isTeacher",studentObj:"studentObj",classroomObj:"classroomObj"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.Vt3],decls:4,vars:5,consts:[["doneLoading",""],["noStudentObj",""],[1,"intro-y","box","px-5","pt-5",3,"ngClass"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[3,"name","parentFullName","parentUserName","parentId","parentPhone","phone","email","birthday","avatar","gender","schoolName","facebookLink","identificationNumber","hasUser","classrooms","joinedAt"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["azt-track-service","detail-account-student-rzLFlIWrx","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-zZpuvJmKGS","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-hml3hBaXHE","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-rzLFlIWrx",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","pencil","size","18",3,"ngClass"],["azt-track-service","detail-account-student-zZpuvJmKGS",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","trash-2","size","18",3,"ngClass"],["azt-track-service","detail-account-student-hml3hBaXHE",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","shield-alert","size","18",3,"ngClass"],["azt-track-service","detail-account-student-WgNDrDRXqF",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","detail-account-student-njjAOAGlF5","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-njjAOAGlF5",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-5"],[1,"block","sm:inline"]],template:function(I,F){if(1&I&&(e.j41(0,"div",2),e.DNE(1,dn,1,1,"azt-loading-effect",3)(2,et,3,2,"ng-template",null,0,e.C5r),e.k0s()),2&I){const kt=e.sdS(3);e.Y8G("ngClass",e.eq3(3,He,!F.studentObj)),e.R7$(),e.Y8G("ngIf",F.statusObj.loading)("ngIfElse",kt)}},dependencies:[St.YU,St.bT,Nt.WGl,J.K,Ne.B,Ct.wp,Ct.gC,Ct.FV],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]}),H})();var Zt=p(71703);function pe(j,H){if(1&j){const E=e.RV6();e.j41(0,"a",24),e.bIt("click",function(){e.eBV(E);const F=e.XpG();return e.Njj(F.showTotalPointDetail())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&j&&(e.R7$(),e.SpI("(",e.bMT(2,1,"lang_auto_xem_chi_tiet"),")"))}function te(j,H){if(1&j&&(e.j41(0,"div",14),e.EFF(1),e.k0s()),2&j){const E=e.XpG();e.R7$(),e.JRh(E.avgPoint)}}function Oe(j,H){if(1&j&&(e.j41(0,"div",14),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&j){let E;const I=e.XpG();e.R7$(),e.JRh(e.i5U(2,1,(null!==(E=null==I.attendanceObj?null:I.attendanceObj.averageMark)&&void 0!==E?E:0)/I.classroomList.length,"1.2-2"))}}let de=(()=>{var j;class H extends i.H{constructor(I,F){super(),this.studentService=I,this.sAztDialogService=F,this.studentId=0,this.selectClassroomId=0,this.isTeacherRole=!0,this.classroomList=[],this.avgPoint=0}showTotalPointDetail(){this.sAztDialogService.open(Zt.V,{width:"700px",restoreFocus:!1,data:{student:this.studentObj,isTeacher:this.isTeacherRole}}).afterClosed().subscribe(I=>{this.getInfoAttendance()})}getInfoAttendance(){if(this.initStatusObj(),this.isTqbDomain){const I=this.classroomList.map(F=>this.studentService.apiStudentsStudentIdProfileGet(F.studentId,F.id));(0,ot.p)(I).subscribe({next:F=>{F.forEach(kt=>{if(!kt)return this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0);this.updateAttendanceObj(kt)}),this.successStatusObj()},error:()=>{this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}})}else this.waitDestroy(this.studentService.apiStudentsStudentIdProfileGet(this.studentId,this.selectClassroomId).subscribe({next:I=>{if(!I)return this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0);this.attendanceObj=I,this.studentObj=I.student,this.avgPoint=this.studentObj?.averageMark??0,this.successStatusObj()},error:()=>{this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}}))}updateAttendanceObj(I){this.attendanceObj={averageMark:(this.attendanceObj?.averageMark??0)+(I.student?.averageMark??0),totalAttend:(this.attendanceObj?.totalAttend??0)+(I?.totalAttend??0),totalAbsence:(this.attendanceObj?.totalAbsence??0)+(I?.totalAbsence??0),totalAbsentPermission:(this.attendanceObj?.totalAbsentPermission??0)+(I?.totalAbsentPermission??0),totalAbsentWithoutPermission:(this.attendanceObj?.totalAbsentWithoutPermission??0)+(I?.totalAbsentWithoutPermission??0),totalReceivedBook:(this.attendanceObj?.totalReceivedBook??0)+(I?.totalReceivedBook??0),totalReceivedDoc:(this.attendanceObj?.totalReceivedDoc??0)+(I?.totalReceivedDoc??0)}}ngOnChanges(){this.getInfoAttendance()}ngOnInit(){super.ngOnInit()}}return(j=H).\u0275fac=function(I){return new(I||j)(e.rXU(zt.b0),e.rXU(ae.i))},j.\u0275cmp=e.VBU({type:j,selectors:[["azt-detail-attendance"]],inputs:{studentId:"studentId",selectClassroomId:"selectClassroomId",isTeacherRole:"isTeacherRole",classroomList:"classroomList"},features:[e.Vt3,e.OA$],decls:58,vars:22,consts:[[1,"detail-attendance"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"box","flex","items-center","p-5"],[1,"box-content","mx-auto","text-center"],[1,"btn","btn-sm","btn-primary-soft","p-1"],[1,"w-6","h-6"],["name","star"],[1,"mt-4"],["class","ml-2 link__hover link__color",3,"click",4,"ngIf"],["class","text-2xl text-primary font-medium",4,"ngIf"],[1,"col-span-12","md:col-span-3"],[1,"box","zoom-in","flex","items-center","p-5"],["name","check","size","24"],[1,"text-2xl","text-primary","font-medium"],[1,"btn","btn-sm","btn-secondary-soft","p-1"],["name","power-off","size","24"],[1,"text-2xl","text-secondary","font-medium"],[1,"btn","btn-sm","btn-pending-soft","p-1"],["name","octagon-alert","size","24"],[1,"text-2xl","text-pending","font-medium"],[1,"btn","btn-sm","btn-danger-soft","p-1"],["name","octagon-x","size","24"],[1,"text-2xl","text-danger","font-medium"],[1,"ml-2","link__hover","link__color",3,"click"]],template:function(I,F){1&I&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"div",6),e.nrm(7,"lucide-icon",7),e.k0s()(),e.j41(8,"div",8),e.EFF(9),e.nI1(10,"mytranslate"),e.DNE(11,pe,3,3,"a",9),e.k0s(),e.DNE(12,te,2,1,"div",10)(13,Oe,3,4,"div",10),e.k0s()()(),e.j41(14,"div",11)(15,"div",12)(16,"div",4)(17,"button",5)(18,"div",6),e.nrm(19,"lucide-icon",13),e.k0s()(),e.j41(20,"div",8),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s(),e.j41(23,"div",14),e.EFF(24),e.k0s()()()(),e.j41(25,"div",11)(26,"div",12)(27,"div",4)(28,"button",15)(29,"div",6),e.nrm(30,"lucide-icon",16),e.k0s()(),e.j41(31,"div",8),e.EFF(32),e.nI1(33,"mytranslate"),e.k0s(),e.j41(34,"div",17),e.EFF(35),e.k0s()()()(),e.j41(36,"div",11)(37,"div",12)(38,"div",4)(39,"button",18)(40,"div",6),e.nrm(41,"lucide-icon",19),e.k0s()(),e.j41(42,"div",8),e.EFF(43),e.nI1(44,"mytranslate"),e.k0s(),e.j41(45,"div",20),e.EFF(46),e.k0s()()()(),e.j41(47,"div",11)(48,"div",12)(49,"div",4)(50,"button",21)(51,"div",6),e.nrm(52,"lucide-icon",22),e.k0s()(),e.j41(53,"div",8),e.EFF(54),e.nI1(55,"mytranslate"),e.k0s(),e.j41(56,"div",23),e.EFF(57),e.k0s()()()()()()),2&I&&(e.R7$(9),e.SpI(" ",e.bMT(10,12,"lang_business_diem_tong_ket")," "),e.R7$(2),e.Y8G("ngIf",!F.isTqbDomain),e.R7$(),e.Y8G("ngIf",!F.isTqbDomain),e.R7$(),e.Y8G("ngIf",F.isTqbDomain),e.R7$(8),e.JRh(e.bMT(22,14,"lang_student_number_of_sessions_attended")),e.R7$(3),e.JRh(null==F.attendanceObj?null:F.attendanceObj.totalAttend),e.R7$(8),e.JRh(e.bMT(33,16,"lang_student_number_of_sessions_missed")),e.R7$(3),e.JRh(null==F.attendanceObj?null:F.attendanceObj.totalAbsence),e.R7$(8),e.JRh(e.bMT(44,18,"lang_student_number_of_approved_absences")),e.R7$(3),e.JRh(null==F.attendanceObj?null:F.attendanceObj.totalAbsentPermission),e.R7$(8),e.JRh(e.bMT(55,20,"lang_student_number_of_unauthorized_absences")),e.R7$(3),e.JRh(null==F.attendanceObj?null:F.attendanceObj.totalAbsentWithoutPermission))},dependencies:[St.bT,Nt.WGl,St.QX,Ct.wp],encapsulation:2}),H})();var ve=p(10123);function re(j,H){if(1&j&&(e.j41(0,"tr")(1,"td",10),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()),2&j){const E=H.$implicit,I=H.index;e.R7$(2),e.JRh(I+1),e.R7$(2),e.JRh(E.bookName),e.R7$(2),e.JRh(e.bMT(7,3,E.createdAt))}}function Ie(j,H){if(1&j&&(e.qex(0),e.DNE(1,re,8,5,"tr",9),e.bVm()),2&j){const E=e.XpG();e.R7$(),e.Y8G("ngForOf",E.bookDistributionList)}}function Ge(j,H){1&j&&(e.j41(0,"tr")(1,"td",11),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&j&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_student_profile_not_data_view")," "))}let Be=(()=>{var j;class H extends i.H{getInfoBookDistribution(){this.waitDestroy(this.studentService.apiStudentsStudentIdBooksGet(this.studentId).subscribe(I=>{I?(this.bookDistributionList=I.list,this.totalBookDistribution=I.total):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getInfoBookDistribution()}constructor(I){super(),this.studentService=I,this.studentId=0,this.bookDistributionList=[],this.totalBookDistribution=0}}return(j=H).\u0275fac=function(I){return new(I||j)(e.rXU(zt.b0))},j.\u0275cmp=e.VBU({type:j,selectors:[["azt-detail-book-distribution"]],inputs:{studentId:"studentId"},features:[e.Vt3],decls:22,vars:14,consts:[["noDistribution",""],[1,"text-right","mt-4"],[1,"font-medium"],[1,"box","mt-2"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"text-center"],["colspan","3",1,"text-center"]],template:function(I,F){if(1&I&&(e.j41(0,"div",1)(1,"span",2),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()(),e.j41(4,"div",3)(5,"drag-scroll")(6,"table",4)(7,"thead",5)(8,"tr")(9,"th",6),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"th",7),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"th",7),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()(),e.j41(18,"tbody"),e.DNE(19,Ie,2,1,"ng-container",8)(20,Ge,4,3,"ng-template",null,0,e.C5r),e.k0s()()()()),2&I){const kt=e.sdS(21);e.R7$(2),e.SpI(" ",e.bMT(3,6,"lang_student_total")+": "+F.totalBookDistribution," "),e.R7$(8),e.SpI(" ",e.bMT(11,8,"lang_auto_stt")," "),e.R7$(3),e.SpI(" ",e.bMT(14,10,"lang_core_ten_sach")," "),e.R7$(3),e.SpI(" ",e.bMT(17,12,"lang_auto_thoi_gian")," "),e.R7$(3),e.Y8G("ngIf",F.bookDistributionList.length)("ngIfElse",kt)}},dependencies:[St.Sq,St.bT,ve.jd,ve.Ew,Ct.wp,Ct.bH],encapsulation:2}),H})();var Ye=p(23047),fn=p(9280),$e=p(9691),B=p(17776),Et=p(19258),A=p(10805);const U=j=>({"width.%":j}),V=j=>({"border-none":j}),K=(j,H,E,I)=>({"bg-orange-600":j,"bg-red-600":H,"bg-green-600":E,"bg-blue-600":I});function Yt(j,H){if(1&j&&e.nrm(0,"azt-loading-effect",5),2&j){const E=e.XpG();e.Y8G("currentStatusObj",E.statusObj)}}function he(j,H){if(1&j&&(e.j41(0,"span",26),e.EFF(1),e.k0s()),2&j){const E=e.XpG(3).$implicit;e.R7$(),e.JRh(E.averageMark)}}function me(j,H){if(1&j&&(e.j41(0,"div",24),e.DNE(1,he,2,1,"span",25),e.k0s()),2&j){const E=e.XpG(2).$implicit;e.Y8G("ngStyle",e.eq3(2,U,10*E.averageMark)),e.R7$(),e.Y8G("ngIf",E.averageMark&&E.averageMark>1)}}function ze(j,H){if(1&j&&(e.j41(0,"div",17)(1,"div",18)(2,"span",19),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"span",20),e.EFF(6,"0"),e.k0s(),e.j41(7,"div",21),e.DNE(8,me,2,4,"div",22),e.k0s(),e.j41(9,"span",23),e.EFF(10,"10"),e.k0s()()()),2&j){const E=e.XpG().$implicit;e.R7$(3),e.JRh(e.bMT(4,2,"lang_auto_diem_trung_binh")),e.R7$(5),e.Y8G("ngIf",E.averageMark)}}function Pe(j,H){1&j&&(e.j41(0,"div",27)(1,"span",28),e.nrm(2,"azt-loading-ui"),e.k0s()())}function pn(j,H){1&j&&(e.qex(0),e.j41(1,"div",30)(2,"span",31),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()),2&j&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_profile_student_not_support_subject")))}function Qe(j,H){if(1&j&&e.nrm(0,"coazt-student-skill-chapter",40),2&j){const E=e.XpG(3).$implicit,I=e.XpG(2);e.Y8G("levelId",E.levelId)("subjectId",E.subjectId)("userId",I.studentObj.parentId)}}function R(j,H){if(1&j&&(e.j41(0,"span",26),e.EFF(1),e.k0s()),2&j){const E=e.XpG(2).$implicit;e.R7$(),e.JRh(E.averageMark)}}function ft(j,H){if(1&j&&(e.j41(0,"div",53),e.DNE(1,R,2,1,"span",25),e.k0s()),2&j){const E=e.XpG().$implicit;e.Y8G("ngClass",e.ziG(3,K,1==E.id,3==E.id,2==E.id,4==E.id))("ngStyle",e.eq3(8,U,10*E.averageMark)),e.R7$(),e.Y8G("ngIf",E.averageMark>1)}}function X(j,H){if(1&j&&(e.j41(0,"div",43)(1,"div",44)(2,"div",45)(3,"h3",46),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"div",47)(7,"h3",46),e.EFF(8),e.nI1(9,"mytranslate"),e.j41(10,"b"),e.EFF(11),e.k0s(),e.EFF(12," / "),e.j41(13,"b"),e.EFF(14),e.k0s(),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()(),e.j41(17,"div",48)(18,"div",49)(19,"span",50),e.EFF(20,"0"),e.k0s(),e.j41(21,"div",51),e.DNE(22,ft,2,10,"div",52),e.k0s(),e.j41(23,"span",23),e.EFF(24,"10"),e.k0s()()()()()),2&j){const E=H.$implicit;e.Y8G("ngClass",e.eq3(13,V,H.last)),e.R7$(4),e.SpI(" ",e.bMT(5,7,E.name)," "),e.R7$(4),e.SpI(" ",e.bMT(9,9,"lang_auto_tra_loi_dung"),":\xa0 "),e.R7$(3),e.JRh(E.totalCorrectQuestion),e.R7$(3),e.JRh(E.totalQuestion),e.R7$(),e.SpI(" \xa0",e.bMT(16,11,"azt_lang_sugg_question")," "),e.R7$(7),e.Y8G("ngIf",E.averageMark)}}function M(j,H){if(1&j&&(e.qex(0),e.j41(1,"div",41)(2,"h4",34),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.DNE(5,X,25,15,"div",42),e.bVm()),2&j){const E=e.XpG(3).$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,2,"lang_student_profile_result_by_difficulty_level")," "),e.R7$(2),e.Y8G("ngForOf",E.difficultyDataObjs)}}function O(j,H){if(1&j&&(e.DNE(0,Qe,1,3,"coazt-student-skill-chapter",32),e.j41(1,"div",33)(2,"h4",34),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",35)(6,"div",36)(7,"div",37),e.nrm(8,"div",38),e.k0s()()(),e.DNE(9,M,6,4,"ng-container",39)),2&j){const E=e.XpG(2).$implicit,I=e.XpG(2);e.Y8G("ngIf",!I.isTqbDomain),e.R7$(3),e.SpI(" ",e.bMT(4,4,"lang_student_profile_exam_point_by_time")," "),e.R7$(5),e.Y8G("chart",E.chart),e.R7$(),e.Y8G("ngIf",E.difficultyDataObjs&&E.difficultyDataObjs.length&&!I.isTqbDomain)}}function rt(j,H){if(1&j&&e.DNE(0,pn,5,3,"ng-container",29)(1,O,10,6,"ng-template",null,2,e.C5r),2&j){const E=e.sdS(2),I=e.XpG().$implicit;e.Y8G("ngIf",I.errorGetData)("ngIfElse",E)}}function Fe(j,H){if(1&j){const E=e.RV6();e.qex(0),e.j41(1,"mat-expansion-panel",10),e.bIt("opened",function(){const F=e.eBV(E).index,kt=e.XpG(2);return e.Njj(kt.getStatisticalById(F))}),e.j41(2,"mat-expansion-panel-header",11)(3,"div",12)(4,"div",13)(5,"h3",14),e.EFF(6),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,ze,11,4,"div",15),e.k0s()(),e.DNE(10,Pe,3,0,"div",16)(11,rt,3,2,"ng-template",null,1,e.C5r),e.k0s(),e.bVm()}if(2&j){const E=H.$implicit,I=e.sdS(12),F=e.XpG(2);e.R7$(6),e.Lme("",e.bMT(7,5,E.subjectName)," ","("+e.bMT(8,7,E.levelName)+")",""),e.R7$(3),e.Y8G("ngIf",!F.isTqbDomain),e.R7$(),e.Y8G("ngIf",E.isLoading)("ngIfElse",I)}}function ee(j,H){if(1&j&&(e.j41(0,"div",6)(1,"div",7)(2,"mat-accordion",8),e.DNE(3,Fe,13,9,"ng-container",9),e.k0s()()()),2&j){const E=e.XpG();e.R7$(3),e.Y8G("ngForOf",E.levelSubjectObjs)}}let Ee=(()=>{var j;class H extends i.H{getStatisticalById(I){this.studentObj&&this.levelSubjectObjs.length&&this.levelSubjectObjs[I]&&(this.levelSubjectObjs[I].isLoading=!0,this.levelSubjectObjs[I].errorGetData=!1,this.studentService.apiStudentsStudentIdFieldGet(this.studentObj.id,this.levelSubjectObjs[I].levelId??0,this.levelSubjectObjs[I].subjectId??0).subscribe({next:F=>{F?(this.levelSubjectObjs[I].difficultyDataObjs=F.difficulty??[],this.levelSubjectObjs[I].knowledgeDataObjs=F.knowledge??[],this.levelSubjectObjs[I].chart=this.createChart(F.examResults??[]),this.levelSubjectObjs[I].isLoading=!1,this.levelSubjectObjs[I].errorGetData=!1):(this.levelSubjectObjs[I].isLoading=!1,this.levelSubjectObjs[I].errorGetData=!0,this.stopStatusObj())},error:F=>{this.levelSubjectObjs[I].isLoading=!1,this.levelSubjectObjs[I].errorGetData=!0,this.errorStatusObj(F.error.message??"",!0)}}))}createChart(I){let F=this.commonService.myTranslateInstant("lang_auto_Diem")??"",kt=[],se=[];return I.forEach(cn=>{kt.push(cn.mark??0),se.push(this.sAztTimeService.formatFullDateTimeWithoutSecondByUserUnit(cn.createdAt))}),new Ye.t1({chart:{type:"line",style:{fontFamily:"Arial"}},title:{style:{wordWrap:"break-word","text-align":"center"},text:"",useHTML:!0},colors:["#2361ae"],credits:{enabled:!1},xAxis:{categories:se},yAxis:{title:{text:F}},series:[{name:F,type:"line",data:kt}]})}getDataSubject(){this.studentObj&&(this.initStatusObj(),this.isBusinessDomain?this.studentService.apiStudentsStudentIdAverageLevelSubjectMarksGet(this.studentObj.id).subscribe({next:I=>{this.levelSubjectObjs=I.list??[],this.getStatisticalById(0),this.stopStatusObj()},error:I=>{this.errorStatusObj(I.error.message,!0)}}):this.examPageResultService.apiExamPageResultListStudentProfileByLevelSubjectsGet(this.studentObj.id).subscribe(I=>{1==I.success&&I.data?(this.levelSubjectObjs=I.data.objs??[],this.getStatisticalById(0),this.stopStatusObj()):this.errorStatusObj(I.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getDataSubject()}constructor(I,F,kt,se){super(),this.examPageResultService=I,this.studentService=F,this.sAztTimeService=kt,this.studentPracticeService=se,this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new e.bkB,this.levelSubjectObjs=[]}}return(j=H).\u0275fac=function(I){return new(I||j)(e.rXU(fn.TE),e.rXU(zt.b0),e.rXU($e.F),e.rXU(B.Kw))},j.\u0275cmp=e.VBU({type:j,selectors:[["azt-detail-by-subject-student"]],inputs:{classroomId:"classroomId",studentObj:"studentObj",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.Vt3],decls:4,vars:2,consts:[["doneLoading",""],["doneLoadingPage",""],["hasData",""],[1,"intro-y"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"px-5"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[2,"margin-top","0.75rem",3,"opened"],[1,"pad-mobile"],[1,"grid","grid-cols-12","gap-3","gap-mobile","items-center","w-full","justify-between"],[1,"col-span-12","lg:col-span-3"],[1,"font-medium","mr-3"],["class","col-span-12 lg:col-span-9 text-center",4,"ngIf"],["class","flex justify-center mt-3",4,"ngIf","ngIfElse"],[1,"col-span-12","lg:col-span-9","text-center"],[1,"flex","profile-flr","pr-5",2,"align-items","center"],[1,"text-md",2,"vertical-align","middle","margin-right","15px"],[1,"text-md",2,"vertical-align","middle","margin-right","5px"],[1,"w-avg-profile","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[1,"flex","justify-center","mt-3"],[1,"w-6","h-6","inline-block"],[4,"ngIf","ngIfElse"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[3,"levelId","subjectId","userId",4,"ngIf"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"report-box","intro-x","mt-3"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[4,"ngIf"],[3,"levelId","subjectId","userId"],[1,"w-auto","text-left","bg-gray-200","mt-3",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],["class","border-b border-slate-200/60 dark:border-darkmode-400 mt-2 py-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","mt-2","py-3",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 text-right p-0.5 leading-none",3,"ngClass","ngStyle",4,"ngIf"],[1,"h-6","text-blue-100","text-right","p-0.5","leading-none",3,"ngClass","ngStyle"]],template:function(I,F){if(1&I&&(e.j41(0,"div",3),e.DNE(1,Yt,1,1,"azt-loading-effect",4)(2,ee,4,1,"ng-template",null,0,e.C5r),e.k0s()),2&I){const kt=e.sdS(3);e.R7$(),e.Y8G("ngIf",F.statusObj.loading)("ngIfElse",kt)}},dependencies:[St.YU,St.Sq,St.bT,St.B3,Et.BS,Et.GK,Et.Z2,Ye.S6,J.K,tt.R,A.g,Ct.wp],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),H})();function nt(j,H){1&j&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&j&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function ln(j,H){if(1&j&&(e.j41(0,"tr")(1,"td",11),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td",11)(9,"span",12),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()()()),2&j){let E;const I=H.$implicit,F=H.index;e.R7$(2),e.JRh(F+1),e.R7$(2),e.JRh(e.bMT(5,4,null!==(E=I.updatedAt)&&void 0!==E?E:I.createdAt)),e.R7$(3),e.JRh(I.month+"/"+I.year),e.R7$(3),e.SpI(" ",e.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function De(j,H){if(1&j&&(e.qex(0),e.DNE(1,ln,12,8,"tr",10),e.bVm()),2&j){const E=e.XpG();e.R7$(),e.Y8G("ngForOf",E.historyTuitionFeeList)}}function An(j,H){1&j&&(e.j41(0,"tr")(1,"td",13),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&j&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_student_profile_not_data_view")," "))}let Zn=(()=>{var j;class H extends i.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.studentId).subscribe(I=>{I?this.historyTuitionFeeList=I.histories:this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(I){super(),this.paymentService=I,this.studentId=0,this.historyTuitionFeeList=[]}}return(j=H).\u0275fac=function(I){return new(I||j)(e.rXU(zt.WG))},j.\u0275cmp=e.VBU({type:j,selectors:[["azt-detail-tuition-fee"]],inputs:{studentId:"studentId"},features:[e.Vt3],decls:23,vars:15,consts:[["noTuitionFee",""],[1,"detail-attendance"],[4,"ngIf"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(I,F){if(1&I&&(e.j41(0,"div",1),e.DNE(1,nt,3,3,"div",2),e.j41(2,"div",3)(3,"drag-scroll")(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"th",7),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s(),e.j41(13,"th",7),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"th",8),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()()(),e.j41(19,"tbody"),e.DNE(20,De,2,1,"ng-container",9)(21,An,4,3,"ng-template",null,0,e.C5r),e.k0s()()()()()),2&I){const kt=e.sdS(22);e.R7$(),e.Y8G("ngIf",F.isMobileDevice||F.isMobileWebView),e.R7$(7),e.SpI(" ",e.bMT(9,7,"lang_auto_stt")," "),e.R7$(3),e.SpI(" ",e.bMT(12,9,"lang_student_payment_time")," "),e.R7$(3),e.SpI(" ",e.bMT(15,11,"lang_student_monthly_tuition_fee")," "),e.R7$(3),e.SpI(" ",e.bMT(18,13,"lang_student_status")," "),e.R7$(3),e.Y8G("ngIf",F.historyTuitionFeeList.length)("ngIfElse",kt)}},dependencies:[St.Sq,St.bT,ve.jd,ve.Ew,Ct.wp,Ct.bH],encapsulation:2}),H})();const Ln=()=>({"text-primary":!0});function Ve(j,H){if(1&j&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.nrm(3,"azt-check-mark",17),e.k0s()),2&j){const E=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",e.bMT(2,2,"lang_point"),": "),e.R7$(2),e.Y8G("mark",E.resultMarkObj.point)}}function ke(j,H){1&j&&(e.j41(0,"span",18),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&j&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_student_profile_not_mark_result")," "))}function on(j,H){if(1&j&&(e.j41(0,"span"),e.DNE(1,Ve,4,4,"span",13)(2,ke,3,3,"span",16),e.k0s()),2&j){const E=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",E.resultMarkObj.confirmedAt),e.R7$(),e.Y8G("ngIf",!E.resultMarkObj.confirmedAt)}}function gn(j,H){1&j&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&j&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_student_profile_no_result")," "))}function Bn(j,H){if(1&j&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&j){const E=e.XpG().$implicit;e.R7$(),e.Lme("",e.bMT(2,2,"lang_student_profile_resend_answer_required"),": ",E.resendAnswerObj.resendNote,"")}}function Yn(j,H){if(1&j){const E=e.RV6();e.j41(0,"div",7),e.bIt("click",function(){const F=e.eBV(E).$implicit,kt=e.XpG();return e.Njj(kt.clickToHomeworkObj(F))}),e.j41(1,"div",8),e.nrm(2,"lucide-icon",9),e.k0s(),e.j41(3,"div",10)(4,"p",11),e.EFF(5),e.k0s(),e.j41(6,"div",12),e.DNE(7,on,3,2,"span",13)(8,gn,3,3,"span",14)(9,Bn,3,4,"span",14),e.k0s(),e.j41(10,"div",15),e.EFF(11),e.nI1(12,"mytranslate"),e.nI1(13,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()()}if(2&j){const E=H.$implicit,I=H.index;e.ZvI("clickable zoom-in flex items-center ",I>0?"mt-5":""," pb-2"),e.R7$(2),e.Y8G("ngClass",e.lJ4(16,Ln)),e.R7$(2),e.FS9("matTooltip",E.name),e.R7$(),e.Lme("",I+1,". ",E.name,""),e.R7$(2),e.Y8G("ngIf",E.resultMarkObj),e.R7$(),e.Y8G("ngIf",!E.resultMarkObj&&!E.resendAnswerObj),e.R7$(),e.Y8G("ngIf",!E.resultMarkObj&&E.resendAnswerObj),e.R7$(2),e.Lme("",e.bMT(12,12,"lang_student_profile_utils_homework_answer_created_at"),": ",e.bMT(13,14,E.createdAt),"")}}function On(j,H){1&j&&(e.j41(0,"div",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&j&&(e.R7$(),e.JRh(e.bMT(2,1,"lang_list_null")))}function bn(j,H){if(1&j&&e.nrm(0,"azt-loading-effect",25),2&j){const E=e.XpG(2);e.Y8G("currentStatusObj",E.statusObj)}}function Ze(j,H){if(1&j){const E=e.RV6();e.j41(0,"div",21),e.DNE(1,bn,1,1,"azt-loading-effect",22),e.j41(2,"button",23),e.nI1(3,"mytranslate"),e.bIt("click",function(){e.eBV(E);const F=e.XpG();return e.Njj(F.getNextHomeworkAnswerObjs())}),e.nrm(4,"lucide-icon",24),e.k0s()()}if(2&j){const E=e.XpG();e.R7$(),e.Y8G("ngIf",E.statusObj.loading),e.R7$(),e.FS9("matTooltip",e.bMT(3,3,"lang_auto_hien_ban_ghi_cu_hon")),e.Y8G("disabled",!E.homeworkNextPage)}}let Gn=(()=>{var j;class H extends i.H{clickToHomeworkObj(I){this.isTeacher?I.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("homework",I)?this.commonService.myNavigationWithQueryString("/admin/homework/switch-mark-exercise/"+I.resultMarkObj?.resultId+"/"+I.hashId+"/"+(this.studentId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(I.classroomId??0)+"/"+I.id+"/"+I.hashId,"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(I.resultMarkObj?.resultId?"/homework/switch-view-homework/"+I.resultMarkObj?.resultId+"/"+I.hashId:"/bai-tap/"+I.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var I=this.studentProfileFilterService.getDefaultFilterObj("homework");I.classroomId=this.classroomId,I.studentId=this.studentId,I.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(I).subscribe(F=>{1==F.success?(this.homeworkObjs=this.homeworkObjs.concat(F.data?.objs??[]),this.homeworkNextPage=F.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}constructor(I,F,kt){super(),this.studentProfileV2Service=I,this.studentProfileFilterService=F,this.permissionService=kt,this.isTeacher=!0,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}}return(j=H).\u0275fac=function(I){return new(I||j)(e.rXU(t.m_),e.rXU(o),e.rXU(yt.p))},j.\u0275cmp=e.VBU({type:j,selectors:[["azt-student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",isTeacher:"isTeacher",backToLink:"backToLink"},features:[e.Vt3],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"changeFilterEvent","filterType"],[1,"p-5"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"click"],[1,"file"],["name","file-text","size","48",3,"ngClass"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","homework-answer-MWO-mgLYZ_",1,"",3,"click","matTooltip","disabled"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function(I,F){1&I&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"azt-student-profile-filter-menu",2),e.bIt("changeFilterEvent",function(){return F.reInitData()}),e.k0s()(),e.j41(5,"div",3),e.DNE(6,Yn,14,17,"div",4)(7,On,3,3,"div",5)(8,Ze,5,5,"div",6),e.k0s()),2&I&&(e.R7$(2),e.JRh(e.bMT(3,5,"lang_student_profile_utils_homework_answer_list_submitted")),e.R7$(2),e.Y8G("filterType","homework"),e.R7$(2),e.Y8G("ngForOf",F.homeworkObjs),e.R7$(),e.Y8G("ngIf",0==F.homeworkObjs.length&&!F.homeworkNextPage),e.R7$(),e.Y8G("ngIf",F.homeworkObjs.length>0&&F.homeworkNextPage))},dependencies:[St.YU,St.Sq,St.bT,ct.oV,Nt.WGl,J.K,bt.D,z,Ct.wp,Ct.bH],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),H})();var qn=p(43166);function vn(j,H){if(1&j&&e.nrm(0,"azt-loading-effect",5),2&j){const E=e.XpG();e.Y8G("currentStatusObj",E.statusObj)}}function ti(j,H){if(1&j&&(e.j41(0,"mat-option",26),e.EFF(1),e.k0s()),2&j){const E=H.$implicit;e.Y8G("value",E.id+"-"+E.studentId),e.R7$(),e.SpI(" ",E.name," ")}}function ei(j,H){if(1&j){const E=e.RV6();e.j41(0,"div",20)(1,"mat-form-field",21)(2,"mat-select",22,3),e.bIt("selectionChange",function(F){e.eBV(E);const kt=e.XpG(2);return e.Njj(kt.selectedClassroom(F))}),e.j41(4,"mat-option"),e.nrm(5,"ngx-mat-select-search",23),e.nI1(6,"mytranslate"),e.nI1(7,"mytranslate"),e.k0s(),e.j41(8,"mat-option",24),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.DNE(11,ti,2,2,"mat-option",25),e.k0s()()()}if(2&j){const E=e.sdS(3),I=e.XpG(2);e.R7$(2),e.Y8G("formControl",I.select),e.R7$(3),e.FS9("placeholderLabel",e.bMT(6,8,"lang_bot_common_search_by_name")),e.FS9("noEntriesFoundLabel",e.bMT(7,10,"lang_bot_common_search_not_found")),e.Y8G("formControl",E.searchControl),e.R7$(3),e.Y8G("value","")("disabled",!0),e.R7$(),e.SpI("---",e.bMT(10,12,"lang_auto_chon_lop"),"---"),e.R7$(2),e.Y8G("ngForOf",E.filter(I.classroomList,"name"))}}function En(j,H){if(1&j&&(e.j41(0,"div",27)(1,"p",18),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-attendance",28),e.k0s()),2&j){const E=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,5,"lang_student_attendance_point_info")),e.R7$(2),e.Y8G("studentId",E.studentId)("isTeacherRole",E.isTeacherDashboard)("selectClassroomId",E.classroomId)("classroomList",E.classroomList)}}function ni(j,H){if(1&j&&(e.j41(0,"div",27)(1,"p",18),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-tuition-fee",29),e.k0s()),2&j){const E=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"lang_student_tuition_fee_info")),e.R7$(2),e.Y8G("studentId",E.studentId)}}function Xe(j,H){if(1&j&&(e.j41(0,"div",27)(1,"p",18),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-book-distribution",29),e.k0s()),2&j){const E=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"lang_student_book_distribution_info")),e.R7$(2),e.Y8G("studentId",E.studentId)}}function wn(j,H){if(1&j){const E=e.RV6();e.j41(0,"div",6)(1,"div",7)(2,"h3",8),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,ei,12,14,"div",9),e.k0s(),e.j41(6,"div",10)(7,"azt-detail-account-student",11),e.bIt("reInitComponentEvent",function(){e.eBV(E);const F=e.XpG();return e.Njj(F.reInitOtherComponent())}),e.k0s(),e.j41(8,"div",12)(9,"div",13),e.nrm(10,"azt-student-profile-list-exams",14,1),e.k0s(),e.j41(12,"div",13),e.nrm(13,"azt-student-profile-list-homeworks",15,2),e.k0s()(),e.DNE(15,En,5,7,"div",16)(16,ni,5,4,"div",16)(17,Xe,5,4,"div",16),e.j41(18,"div",17)(19,"p",18),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s(),e.j41(22,"azt-detail-by-subject-student",19),e.bIt("reInitComponentEvent",function(){e.eBV(E);const F=e.XpG();return e.Njj(F.reInitOtherComponent())}),e.k0s()()()()}if(2&j){const E=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,26,"lang_student_classroom_profile_student")," "),e.R7$(2),e.Y8G("ngIf",!E.isTqbDomain),e.R7$(2),e.Y8G("studentObj",E.studentObj)("classroomObj",E.classroomObj)("classroomList",E.classroomList)("classroomId",E.classroomId)("backToLink",E.backToLink)("paramBackToLink",E.paramBackToLink)("isTeacher",E.isTeacherDashboard),e.R7$(3),e.Y8G("studentId",E.studentId)("isTeacher",E.isTeacherDashboard)("classroomId",E.classroomId)("backToLink",E.backToLink)("classroomList",E.classroomList),e.R7$(3),e.Y8G("studentId",E.studentId)("isTeacher",E.isTeacherDashboard)("classroomId",E.classroomId)("backToLink",E.backToLink),e.R7$(2),e.Y8G("ngIf",E.isBusinessDomain),e.R7$(),e.Y8G("ngIf",E.isBusinessDomain),e.R7$(),e.Y8G("ngIf",E.isBusinessDomain),e.R7$(3),e.JRh(e.bMT(21,28,"lang_student_academic_results_report")),e.R7$(2),e.Y8G("studentObj",E.studentObj)("classroomId",E.classroomId)("backToLink",E.backToLink)("paramBackToLink",E.paramBackToLink)}}let Nn=(()=>{var j;class H extends i.H{reInitOtherComponent(I){this.listExam?.reInitData(),this.listHomework?.reInitData(),I&&this.getData()}selectedClassroom(I){let F=I.value.split("-")[0],kt=I.value.split("-")[1],se=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString((this.isTeacherDashboard?"/admin":"")+"/student/profile-student/"+F+"/"+kt,se?"?backTo="+encodeURIComponent(se):""),this.reInitOtherComponent()}getData(){this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0}).subscribe(F=>{1==F.success?(F.data?.studentObj&&F.data?.classroomObj&&F.data.classroomObj.permissionObj&&(this.studentObj=F.data.studentObj,this.classroomObj=F.data.classroomObj),this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.initStatusObj(),this.getData()}constructor(I){super(),this.studentProfileV2Service=I,this.select=new w.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[],this.isTeacherDashboard=!0}}return(j=H).\u0275fac=function(I){return new(I||j)(e.rXU(t.m_))},j.\u0275cmp=e.VBU({type:j,selectors:[["azt-student-profile"]],viewQuery:function(I,F){if(1&I&&(e.GBs(Mt,5),e.GBs(Mt,5)),2&I){let kt;e.mGM(kt=e.lsd())&&(F.listExam=kt.first),e.mGM(kt=e.lsd())&&(F.listHomework=kt.first)}},inputs:{select:"select",classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink",classroomList:"classroomList",isTeacherDashboard:"isTeacherDashboard"},features:[e.Vt3],decls:3,vars:2,consts:[["doneLoading",""],["listExam",""],["listHomework",""],["searchInListClassroom","searchInList"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],[3,"currentStatusObj"],["id","profileStudent",1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","flex","items-center","mb-3","flex-wrap"],[1,"text-xl","font-medium"],["class","ml-5 box","style","font-size: 12px",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"reInitComponentEvent","studentObj","classroomObj","classroomList","classroomId","backToLink","paramBackToLink","isTeacher"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","isTeacher","classroomId","backToLink","classroomList"],[3,"studentId","isTeacher","classroomId","backToLink"],["class","mt-5",4,"ngIf"],[1,"mt-4"],[1,"mb-3","text-base","font-medium"],[3,"reInitComponentEvent","studentObj","classroomId","backToLink","paramBackToLink"],[1,"ml-5","box",2,"font-size","12px"],["appearance","outline"],["searchInList","","name","classroom",3,"selectionChange","formControl"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],[3,"value","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mt-5"],[3,"studentId","isTeacherRole","selectClassroomId","classroomList"],[3,"studentId"]],template:function(I,F){if(1&I&&e.DNE(0,vn,1,1,"azt-loading-effect",4)(1,wn,23,30,"ng-template",null,0,e.C5r),2&I){const kt=e.sdS(2);e.Y8G("ngIf",F.statusObj.loading)("ngIfElse",kt)}},dependencies:[St.Sq,St.bT,Xt.wT,Bt.rl,Dt.VO,w.BC,w.l_,Gt.U9,J.K,lt,de,Be,Ee,Zn,Gn,Mt,qn.x,Ct.wp],encapsulation:2}),H})()},20378:(Me,Kt,p)=>{p.d(Kt,{gu:()=>yo,wn:()=>va,T_:()=>ka});var w=p(73022),i=p(48891),n=p(29666);class ot extends Error{}class e extends ot{constructor(a){super(`Invalid DateTime: ${a.toMessage()}`)}}class t extends ot{constructor(a){super(`Invalid Duration: ${a.toMessage()}`)}}class T extends ot{constructor(a){super(`Invalid Interval: ${a.toMessage()}`)}}class x extends ot{constructor(a){super(`Invalid unit ${a}`),Object.setPrototypeOf(this,x.prototype)}}class o extends ot{constructor(a){super(`${a} is an invalid or unknown zone specifier`),Object.setPrototypeOf(this,o.prototype)}}class yt extends ot{constructor(a){super(a),Object.setPrototypeOf(this,yt.prototype)}}class zt extends ot{constructor(a){super(a),Object.setPrototypeOf(this,zt.prototype)}}class St extends ot{constructor(){super("Zone is an abstract class"),Object.setPrototypeOf(this,St.prototype)}}class Nt{get type(){throw new St}get ianaName(){return this.name}get name(){throw new St}get isUniversal(){throw new St}offsetName(a,_){throw new St}formatOffset(a,_){throw new St}offset(a){throw new St}equals(a){throw new St}get isValid(){throw new St}}var J=Intl;let bt={};const st={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Ct={};class q extends Nt{static create(a){return Ct[a]||(Ct[a]=new q(a)),Ct[a]}static resetCache(){Ct={},bt={}}static isValidSpecifier(a){return this.isValidZone(a)}static isValidZone(a){if(!a)return!1;try{return new J.DateTimeFormat("en-US",{timeZone:a}).format(),!0}catch{return!1}}constructor(a){super(),this._zoneName=a,this._valid=q.isValidZone(a)}get type(){return"iana"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(a,{format:_,locale:s}={}){return ei(a,_,s,this.name)}formatOffset(a,_){return wn(this.offset(a),_)}offset(a){const _=new Date(a);if(isNaN(+_))return NaN;const s=function(Vt){if(!bt[Vt])try{bt[Vt]=new J.DateTimeFormat("en-US",{hour12:!1,timeZone:Vt,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})}catch{throw new o(Vt)}return bt[Vt]}(this.name);let d;const[h,C,y,$,Q,mt,dt]=typeof s.formatToParts==typeof isNaN?function(Vt,oe){const ge=Vt.formatToParts(oe),xe=[];for(let Te=0;Te<ge.length;Te++){const{type:ce,value:ye}=ge[Te],jn=st[ce];"era"===ce?xe[jn]=ye:Ee(jn)||(xe[jn]=parseInt(ye,10))}return xe}(s,_):function(Vt,oe){const ge=Vt.format(oe).replace(/\u200E/g,""),xe=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(ge),[,Te,ce,ye,jn,Kn,Pi,yn]=xe;return[ye,Te,ce,jn,Kn,Pi,yn]}(s,_);"BC"===$&&(d=1-Math.abs(+h));let jt=+_;const ht=jt%1e3;return jt-=ht>=0?ht:1e3+ht,(Gn({year:d||+h,month:+C,day:+y,hour:+(24===Q?0:Q),minute:+mt,second:+dt,millisecond:0})-jt)/6e4}equals(a){return"iana"===a.type&&a.name===this.name}get isValid(){return this._valid}}const P="numeric",Z="short",z="long",gt={year:P,month:P,day:P},Ot={year:P,month:Z,day:P},$t={year:P,month:Z,day:P,weekday:Z},Rt={year:P,month:z,day:P},fe={year:P,month:z,day:P,weekday:z},be={hour:P,minute:P},It={hour:P,minute:P,second:P},Qt={hour:P,minute:P,second:P,timeZoneName:Z},Pt={hour:P,minute:P,second:P,timeZoneName:z},Ft={hour:P,minute:P,hourCycle:"h23"},Wt={hour:P,minute:P,second:P,hourCycle:"h23"},le={hour:P,minute:P,second:P,hourCycle:"h23",timeZoneName:Z},Mt={hour:P,minute:P,second:P,hourCycle:"h23",timeZoneName:z},Xt={year:P,month:P,day:P,hour:P,minute:P},Bt={year:P,month:P,day:P,hour:P,minute:P,second:P},Dt={year:P,month:Z,day:P,hour:P,minute:P},Gt={year:P,month:Z,day:P,hour:P,minute:P,second:P},qt={year:P,month:Z,day:P,weekday:Z,hour:P,minute:P},Se={year:P,month:z,day:P,hour:P,minute:P,timeZoneName:Z},Tt={year:P,month:z,day:P,hour:P,minute:P,second:P,timeZoneName:Z},tt={year:P,month:z,day:P,weekday:z,hour:P,minute:P,timeZoneName:z},pt={year:P,month:z,day:P,weekday:z,hour:P,minute:P,second:P,timeZoneName:z},L=["January","February","March","April","May","June","July","August","September","October","November","December"],_t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],At=["J","F","M","A","M","J","J","A","S","O","N","D"];function ae(u){switch(u){case"narrow":return[...At];case"short":return[..._t];case"long":return[...L];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"]}}const Ne=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],He=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],an=["M","T","W","T","F","S","S"];function Ke(u){switch(u){case"narrow":return[...an];case"short":return[...He];case"long":return[...Ne];case"numeric":return["1","2","3","4","5","6","7"]}}const qe=["AM","PM"],_n=["Before Christ","Anno Domini"],dn=["BC","AD"],un=["B","A"];function rn(u){switch(u){case"narrow":return[...un];case"short":return[...dn];case"long":return[..._n]}}let tn={},en={};function nn(u,a={}){const _=JSON.stringify([u,a]);let s=en[_];return s||(s=new J.DateTimeFormat(u,a),en[_]=s),s}let Ut,it={},at={};function et(u,a,_,s){return"en"===u.listingMode()?_(a):s(a)}class lt{constructor(a,_,s){const{padTo:d,floor:h}=s,C=function(y,$){var Q={};for(var mt in y)Object.prototype.hasOwnProperty.call(y,mt)&&$.indexOf(mt)<0&&(Q[mt]=y[mt]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var dt=0;for(mt=Object.getOwnPropertySymbols(y);dt<mt.length;dt++)$.indexOf(mt[dt])<0&&Object.prototype.propertyIsEnumerable.call(y,mt[dt])&&(Q[mt[dt]]=y[mt[dt]])}return Q}(s,["padTo","floor"]);if(this._padTo=d||0,this._floor=h||!1,!_||Object.keys(C).length>0){const y=Object.assign({useGrouping:!1},s);this._padTo>0&&(y.minimumIntegerDigits=d),this._inf=function($,Q){const mt=JSON.stringify([$,Q]);let dt=it[mt];return dt||(dt=new J.NumberFormat($,Q),it[mt]=dt),dt}(a,y)}}format(a){if(this._inf){const _=this._floor?Math.floor(a):a;return this._inf.format(_)}return ke(this._floor?Math.floor(a):Yn(a,3),this._padTo)}}class Zt{get dtf(){return this._dtf}constructor(a,_,s){let d;if(this._opts=s,this._opts.timeZone)this._dt=a;else if("fixed"===a.zone.type){const C=a.offset/60*-1,y=C>=0?`Etc/GMT+${C}`:`Etc/GMT${C}`;0!==a.offset&&q.create(y).isValid?(d=y,this._dt=a):(d="UTC",this._dt=0===a.offset?a:a.setZone("UTC").plus({minutes:a.offset}),this._originalZone=a.zone)}else"system"===a.zone.type?this._dt=a:"iana"===a.zone.type?(this._dt=a,d=a.zone.name):(d="UTC",this._dt=a.setZone("UTC").plus({minutes:a.offset}),this._originalZone=a.zone);const h=Object.assign(Object.assign({},this._opts),{timeZone:this._opts.timeZone||d});this._dtf=nn(_,h)}format(){return this._originalZone?this.formatToParts().map(({value:a})=>a).join(""):this.dtf.format(this._dt.toJSDate())}formatToParts(){const a=this.dtf.formatToParts(this._dt.toJSDate());return this._originalZone?a.map(_=>{if("timeZoneName"===_.type){const s=this._originalZone.offsetName(this._dt.ts,{locale:this._dt.locale,format:this._opts.timeZoneName});return Object.assign(Object.assign({},_),{value:s})}return _}):a}resolvedOptions(){return this._dtf.resolvedOptions()}}class pe{constructor(a,_,s){this._opts=Object.assign({style:"long"},s),!_&&De()&&(this._rtf=function(d,h={}){const C=JSON.stringify([d,h]);let y=at[C];return y||(y=new J.RelativeTimeFormat(d,h),at[C]=y),y}(a,s))}format(a,_){return this._rtf?this._rtf.format(a,_):function(s,d,h="always",C=!1){const y=G.normalizeUnit(s),$={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."],milliseconds:[]}[y],Q=-1===["hours","minutes","seconds"].indexOf(y);if("auto"===h&&Q){const Vt="days"===y;switch(d){case 1:return Vt?"tomorrow":`next ${$[0]}`;case-1:return Vt?"yesterday":`last ${$[0]}`;case 0:return Vt?"today":`this ${$[0]}`}}const mt=Object.is(d,-0)||d<0,dt=Math.abs(d),jt=1===dt,ht=C?jt?$[1]:$[2]||$[1]:jt?$[0]:y;return mt?`${dt} ${ht} ago`:`in ${dt} ${ht}`}(_,a,this._opts.numeric,"long"!==this._opts.style)}formatToParts(a,_){return this._rtf?this._rtf.formatToParts(a,_):[]}}let te=(()=>{class u{get fastNumbers(){return void 0===this._fastNumbersCached&&(this._fastNumbersCached=this._supportsFastNumbers()),this._fastNumbersCached}constructor(_,s,d,h,C){const[y,$,Q]=function(mt){const dt=mt.indexOf("-x-");-1!==dt&&(mt=mt.substring(0,dt));const jt=mt.indexOf("-u-");if(-1===jt)return[mt];{let ht,Vt;try{ht=nn(mt).resolvedOptions(),Vt=mt}catch{const Te=mt.substring(0,jt);ht=nn(Te).resolvedOptions(),Vt=Te}const{numberingSystem:oe,calendar:ge}=ht;return[Vt,oe,ge]}}(_);var mt,dt,jt;this.locale=y,this.numberingSystem=s||$,this.outputCalendar=d||Q,this._intl=(mt=this.locale,dt=this.numberingSystem,((jt=this.outputCalendar)||dt)&&(mt.includes("-u-")||(mt+="-u"),jt&&(mt+=`-ca-${jt}`),dt&&(mt+=`-nu-${dt}`)),mt),this._weekSettings=h,this._weekdaysCache={format:{},standalone:{}},this._monthsCache={format:{},standalone:{}},this._meridiemCache=void 0,this._eraCache={},this._specifiedLocale=C,this._fastNumbersCached=void 0}static create(_,s,d,h,C=!1){const y=_||V.defaultLocale,$=y||(C?"en-US":(Ut||(Ut=(new J.DateTimeFormat).resolvedOptions().locale),Ut)),Q=s||V.defaultNumberingSystem,mt=d||V.defaultOutputCalendar,dt=Ln(h)||V.defaultWeekSettings;return new u($,Q,mt,dt,y)}static fromObject({locale:_,numberingSystem:s,outputCalendar:d,weekSettings:h}={}){return u.create(_,s,d,h)}static fromOpts(_){return u.create(_.locale,_.numberingSystem,_.outputCalendar,_.weekSettings,_.defaultToEN)}static resetCache(){Ut=void 0,tn={},en={},it={},at={}}clone(_){return _&&0!==Object.getOwnPropertyNames(_).length?u.create(_.locale||this._specifiedLocale,_.numberingSystem||this.numberingSystem,_.outputCalendar||this.outputCalendar,Ln(_.weekSettings)||this._weekSettings,_.defaultToEN||!1):this}dtFormatter(_,s={}){return new Zt(_,this._intl,s)}equals(_){return this.locale===_.locale&&this.numberingSystem===_.numberingSystem&&this.outputCalendar===_.outputCalendar}eras(_){return et(this,_,rn,s=>{const d={era:s};return this._eraCache[s]||(this._eraCache[s]=[vt.utc(-40,1,1),vt.utc(2017,1,1)].map(h=>this.extract(h,d,"era"))),this._eraCache[s]})}extract(_,s,d){const h=this.dtFormatter(_,s).formatToParts().find(C=>C.type.toLowerCase()===d.toLowerCase());if(!h)throw new Error(`Invalid extract field ${d}`);return h.value}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getStartOfWeek(){return this.getWeekSettings().firstDay}getWeekSettings(){return this._weekSettings?this._weekSettings:An()?this._getCachedWeekInfo(this.locale):F}getWeekendDays(){return this.getWeekSettings().weekend}isEnglish(){return!!~["en","en-us"].indexOf(this.locale.toLowerCase())||new J.DateTimeFormat(this._intl).resolvedOptions().locale.startsWith("en-us")}listFormatter(_={}){return function(s,d={}){const h=JSON.stringify([s,d]);let C=tn[h];return C||(C=new J.ListFormat(s,d),tn[h]=C),C}(this._intl,_)}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}meridiems(){return et(this,"long",()=>qe,()=>(void 0===this._meridiemCache&&(this._meridiemCache=[vt.utc(2016,11,13,9),vt.utc(2016,11,13,19)].map(_=>this.extract(_,{hour:"numeric",hourCycle:"h12"},"dayPeriod"))),this._meridiemCache))}months(_,s=!1){return et(this,_,ae,d=>{const h=s?{month:d,day:"numeric"}:{month:d},C=s?"format":"standalone";return this._monthsCache[C][d]||(this._monthsCache[C][d]=function(y){const $=[];for(let Q=1;Q<=12;Q++){const mt=vt.utc(2009,Q,1);$.push(y(mt))}return $}(y=>this.extract(y,h,"month"))),this._monthsCache[C][d]})}numberFormatter(_={}){return new lt(this._intl,this.fastNumbers,_)}redefaultToEN(_={}){return this.clone(Object.assign(Object.assign({},_),{defaultToEN:!0}))}redefaultToSystem(_={}){return this.clone(Object.assign(Object.assign({},_),{defaultToEN:!1}))}relFormatter(_={}){return new pe(this._intl,this.isEnglish(),_)}weekdays(_,s=!1){return et(this,_,Ke,d=>{const h=s?{weekday:d,year:"numeric",month:"long",day:"numeric"}:{weekday:d},C=s?"format":"standalone";return this._weekdaysCache[C][d]||(this._weekdaysCache[C][d]=function(y){const $=[];for(let Q=1;Q<=7;Q++){const mt=vt.utc(2016,11,13+Q);$.push(y(mt))}return $}(y=>this.extract(y,h,"weekday"))),this._weekdaysCache[C][d]})}_getCachedWeekInfo(_){let s=u._weekInfoCache[_];if(!s){const d=new J.Locale(_);s="getWeekInfo"in d?d.getWeekInfo():d.weekInfo,u._weekInfoCache[_]=s}return s}_supportsFastNumbers(){return(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===J.DateTimeFormat(this._intl).resolvedOptions().numberingSystem)}}return u._weekInfoCache={},u})(),Oe=null;class de extends Nt{static get utcInstance(){return null===Oe&&(Oe=new de(0)),Oe}get isValid(){return!0}get ianaName(){return 0===this._fixed?"Etc/UTC":`Etc/GMT${wn(-this._fixed,"narrow")}`}get name(){return 0===this._fixed?"UTC":`UTC${wn(this._fixed,"narrow")}`}get type(){return"fixed"}get isUniversal(){return!0}constructor(a){super(),this._fixed=a}static instance(a){return 0===a?de.utcInstance:new de(a)}static parseSpecifier(a){if(a){const _=a.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(_)return new de(En(_[1],_[2]))}return null}offsetName(){return this.name}formatOffset(a,_){return wn(this._fixed,_)}offset(){return this._fixed}equals(a){return"fixed"===a.type&&a._fixed===this._fixed}}class ve extends Nt{constructor(a){super(),this._zoneName=a,Object.setPrototypeOf(this,ve.prototype)}get type(){return"invalid"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let re=null;class Ie extends Nt{static get instance(){return null===re&&(re=new Ie),re}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(a,{format:_,locale:s}){return ei(a,_,s)}formatOffset(a,_){return wn(this.offset(a),_)}offset(a){return-new Date(a).getTimezoneOffset()}equals(a){return"system"===a.type}get isValid(){return!0}}const Ge=(u,a)=>{if(Ee(u)||null===u)return a;if(u instanceof Nt)return u;if("string"==typeof u){const _=u.toLowerCase();return"default"===_?a:"local"===_||"system"===_?Ie.instance:"utc"===_||"gmt"===_?de.utcInstance:de.parseSpecifier(_)||q.create(u)}return nt(u)?de.instance(u):"object"==typeof u&&"offset"in u&&"function"==typeof u.offset?u:new ve(u)};let Be,Ye,fn,$e,B=()=>Date.now(),Et="system",A=60,U=!1;class V{static set defaultLocale(a){Be=a}static get defaultLocale(){return Be}static set defaultNumberingSystem(a){Ye=a}static get defaultNumberingSystem(){return Ye}static set defaultOutputCalendar(a){fn=a}static get defaultOutputCalendar(){return fn}static set defaultWeekSettings(a){$e=Ln(a)}static get defaultWeekSettings(){return $e}static set defaultZone(a){Et=a}static get defaultZone(){return Ge(Et,Ie.instance)}static set defaultZoneLike(a){Et=a}static set now(a){B=a}static get now(){return B}static set throwOnInvalid(a){U=a}static get throwOnInvalid(){return U}static set twoDigitCutoffYear(a){A=a%100}static get twoDigitCutoffYear(){return A}static resetCaches(){te.resetCache(),q.resetCache()}}class K{constructor(a,_){this.reason=a,this.explanation=_,this._formattedExplanation="",_&&(this._formattedExplanation=`: ${_}`)}toMessage(){return`${this.reason}${this._formattedExplanation}`}}const Yt=[0,31,59,90,120,151,181,212,243,273,304,334],he=[0,31,60,91,121,152,182,213,244,274,305,335];function me(u,a){return new K("unit out of range",`you specified ${a} (of type ${typeof a}) as a ${u}, which is invalid`)}function ze(u,a,_){return _+(On(u)?he:Yt)[a-1]}function Pe(u,a){const _=On(u)?he:Yt,s=_.findIndex(d=>d<a);return{month:s+1,day:a-_[s]}}function pn(u,a,_){const s=new Date(Date.UTC(u,a-1,_));u<100&&u>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const d=s.getUTCDay();return 0===d?7:d}function Qe(u,a=F.minimalDays,_=F.firstDay){const{year:s,month:d,day:h}=u,C=ze(s,d,h),y=rt(pn(s,d,h),_);let $,Q=Math.floor((C-y+14-a)/7);return Q<1?($=s-1,Q=vn($,a,_)):Q>vn(s,a,_)?($=s+1,Q=1):$=s,Object.assign({weekYear:$,weekNumber:Q,weekday:y},Nn(u))}function R(u,a=F.minimalDays,_=F.firstDay){const{weekYear:s,weekNumber:d,weekday:h}=u,C=rt(pn(s,1,a),_),y=bn(s);let $,Q=7*d+h-C-7+a;Q<1?($=s-1,Q+=bn($)):Q>y?($=s+1,Q-=bn(s)):$=s;const{month:mt,day:dt}=Pe($,Q);return Object.assign({year:$,month:mt,day:dt},Nn(u))}function ft(u){const{year:a,month:_,day:s}=u,d=ze(a,_,s);return Object.assign({year:a,ordinal:d},Nn(u))}function X(u){const{year:a,ordinal:_}=u,{month:s,day:d}=Pe(a,_);return Object.assign({year:a,month:s,day:d},Nn(u))}function M(u){const a=ln(u.year),_=Ve(u.month,1,12),s=Ve(u.day,1,Ze(u.year,u.month));return a?_?!s&&me("day",u.day):me("month",u.month):me("year",u.year)}function O(u){const{hour:a,minute:_,second:s,millisecond:d}=u,h=Ve(a,0,23)||24===a&&0===_&&0===s&&0===d,C=Ve(_,0,59),y=Ve(s,0,59),$=Ve(d,0,999);return h?C?y?!$&&me("millisecond",d):me("second",s):me("minute",_):me("hour",a)}function rt(u,a){return(u-a+7)%7+1}function Fe(u,a){if(ee(u.localWeekday)||ee(u.localWeekNumber)||ee(u.localWeekYear)){if(ee(u.weekday)||ee(u.weekNumber)||ee(u.weekYear))throw new yt("Cannot mix locale-based week fields with ISO-based week fields");return ee(u.localWeekday)&&(u.weekday=u.localWeekday),ee(u.localWeekNumber)&&(u.weekNumber=u.localWeekNumber),ee(u.localWeekYear)&&(u.weekYear=u.localWeekYear),delete u.localWeekday,delete u.localWeekNumber,delete u.localWeekYear,{minDaysInFirstWeek:a.getMinDaysInFirstWeek(),startOfWeek:a.getStartOfWeek()}}return{minDaysInFirstWeek:F.minimalDays,startOfWeek:F.firstDay}}function ee(u){return void 0!==u}function Ee(u){return void 0===u}function nt(u){return"number"==typeof u}function ln(u){return nt(u)&&u%1==0}function De(){try{return void 0!==J&&!!J.RelativeTimeFormat}catch{return!1}}function An(){try{return void 0!==J&&!!J.Locale&&("weekInfo"in J.Locale.prototype||"getWeekInfo"in J.Locale.prototype)}catch{return!1}}function Zn(u,a,_){if(0!==u.length)return u.reduce((s,d)=>{const h=[a(d),d];return _(s[0],h[0])===s[0]?s:h},[a(u[0]),u[0]])[1]}function Ln(u){if(u){if("object"!=typeof u)throw new zt("Week settings must be an object");if(!Ve(u.firstDay,1,7)||!Ve(u.minimalDays,1,7)||!Array.isArray(u.weekend)||u.weekend.some(a=>!Ve(a,1,7)))throw new zt("Invalid week settings");return{firstDay:u.firstDay,minimalDays:u.minimalDays,weekend:u.weekend}}}function Ve(u,a,_){return ln(u)&&u>=a&&u<=_}function ke(u,a=2){const _=+u<0?"-":"",s=_?-1*+u:u;let d;return d=s.toString().length<a?("0".repeat(a)+s).slice(-a):s.toString(),`${_}${d}`}function on(u){if(u)return parseInt(u,10)}function gn(u){if(u)return parseFloat(u)}function Bn(u){if(!Ee(u)&&null!==u&&""!==u){const a=1e3*parseFloat("0."+u);return Math.floor(a)}}function Yn(u,a,_=!1){const s=Math.pow(10,a);return(_?Math.trunc:Math.round)(u*s)/s}function On(u){return u%4==0&&(u%100!=0||u%400==0)}function bn(u){return On(u)?366:365}function Ze(u,a){const _=(s=a-1)-12*Math.floor(s/12)+1;var s;return[31,On(u+(a-_)/12)?29:28,31,30,31,30,31,31,30,31,30,31][_-1]}function Gn(u){let a=Date.UTC(u.year,u.month-1,u.day,u.hour,u.minute,u.second,u.millisecond);return u.year<100&&u.year>=0&&(a=new Date(a),a.setUTCFullYear(u.year,u.month-1,u.day)),+a}function qn(u,a,_){return-rt(pn(u,1,a),_)+a-1}function vn(u,a=4,_=1){const s=qn(u,a,_),d=qn(u+1,a,_);return(bn(u)-s+d)/7}function ti(u){return u>99?u:u>V.twoDigitCutoffYear?1900+u:2e3+u}function ei(u,a,_,s){const d=new Date(u),C=Object.assign({timeZoneName:a},{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:s}),y=new J.DateTimeFormat(_,C).formatToParts(d).find($=>"timezonename"===$.type.toLowerCase());return y?y.value:null}function En(u,a){let _=parseInt(u,10);Number.isNaN(_)&&(_=0);const s=parseInt(a,10)||0;return 60*_+(_<0||Object.is(_,-0)?-s:s)}function ni(u){const a=Number(u);if("boolean"==typeof u||""===u||Number.isNaN(a))throw new zt(`Invalid unit value ${u}`);return a}function Xe(u,a){return Object.keys(u).reduce((_,s)=>(null!=u[s]&&(_[a(s)]=ni(u[s])),_),{})}function wn(u,a){const _=Math.trunc(Math.abs(u/60)),s=Math.trunc(Math.abs(u%60)),d=u>=0?"+":"-";switch(a){case"short":return`${d}${ke(_,2)}:${ke(s,2)}`;case"narrow":return`${d}${_}${s>0?`:${s}`:""}`;case"techie":return`${d}${ke(_,2)}${ke(s,2)}`;default:throw new RangeError(`Value format ${a} is out of range for property format`)}}function Nn(u){return a=u,["hour","minute","second","millisecond"].reduce((s,d)=>(s[d]=a[d],s),{});var a}const j=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],H=j.slice(0).reverse(),E=["years","months","days","hours","minutes","seconds","milliseconds"],I={year:"year",years:"year",quarter:"quarter",quarters:"quarter",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",localweeknumber:"localWeekNumber",localweeknumbers:"localWeekNumber",localweekday:"localWeekday",localweekdays:"localWeekday",localweekyear:"localWeekYear",localweekyears:"localWeekYear",minute:"minute",minutes:"minute",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"},F={firstDay:1,minimalDays:4,weekend:[6,7]};function kt(u,a){let _="";for(const s of u)_+=s.literal?s.val:a(s.val);return _}const se={D:gt,DD:Ot,DDD:Rt,DDDD:fe,t:be,tt:It,ttt:Qt,tttt:Pt,T:Ft,TT:Wt,TTT:le,TTTT:Mt,f:Xt,ff:Dt,fff:Se,ffff:tt,F:Bt,FF:Gt,FFF:Tt,FFFF:pt};class ne{constructor(a,_){this._opts=_,this._loc=a,this._systemLoc=void 0}static create(a,_={}){return new ne(a,_)}static macroTokenToFormatOpts(a){return se[a]}static parseFormat(a){let _=null,s="",d=!1;const h=[];for(let C=0;C<a.length;C++){const y=a.charAt(C);"'"===y?(s.length>0&&h.push({literal:d||/^\s+$/.test(s),val:s}),_=null,s="",d=!d):d||y===_?s+=y:(s.length>0&&h.push({literal:/^\s+$/.test(s),val:s}),s=y,_=y)}return s.length>0&&h.push({literal:d||/^\s+$/.test(s),val:s}),h}dtFormatter(a,_={}){return this._loc.dtFormatter(a,Object.assign(Object.assign({},this._opts),_))}formatDateTime(a,_){return this.dtFormatter(a,_).format()}formatDateTimeFromString(a,_){const s="en"===this._loc.listingMode(),d=this._loc.outputCalendar&&"gregory"!==this._loc.outputCalendar,h=(jt,ht)=>this._loc.extract(a,jt,ht),C=jt=>a.isOffsetFixed&&0===a.offset&&jt.allowZ?"Z":a.isValid?a.zone.formatOffset(a.ts,jt.format):"",$=(jt,ht)=>{return s?(Vt=a,ae(jt)[Vt.month-1]):h(ht?{month:jt}:{month:jt,day:"numeric"},"month");var Vt},Q=(jt,ht)=>{return s?(Vt=a,Ke(jt)[Vt.weekday-1]):h(ht?{weekday:jt}:{weekday:jt,month:"long",day:"numeric"},"weekday");var Vt},mt=jt=>{const ht=ne.macroTokenToFormatOpts(jt);return ht?this.formatWithSystemDefault(a,ht):jt},dt=jt=>{return s?(ht=a,rn(jt)[ht.year<0?0:1]):h({era:jt},"era");var ht};return kt(ne.parseFormat(_),jt=>{switch(jt){case"S":return this.num(a.millisecond);case"u":case"SSS":return this.num(a.millisecond,3);case"s":return this.num(a.second);case"ss":return this.num(a.second,2);case"uu":return this.num(Math.floor(a.millisecond/10),2);case"uuu":return this.num(Math.floor(a.millisecond/100));case"m":return this.num(a.minute);case"mm":return this.num(a.minute,2);case"h":return this.num(a.hour%12==0?12:a.hour%12);case"hh":return this.num(a.hour%12==0?12:a.hour%12,2);case"H":return this.num(a.hour);case"HH":return this.num(a.hour,2);case"Z":return C({format:"narrow",allowZ:this._opts.allowZ});case"ZZ":return C({format:"short",allowZ:this._opts.allowZ});case"ZZZ":return C({format:"techie",allowZ:this._opts.allowZ});case"ZZZZ":return a.zone.offsetName(a.ts,{format:"short",locale:this._loc.locale})||"";case"ZZZZZ":return a.zone.offsetName(a.ts,{format:"long",locale:this._loc.locale})||"";case"z":return a.zoneName||"";case"a":return s?qe[a.hour<12?0:1]:h({hour:"numeric",hourCycle:"h12"},"dayPeriod");case"d":return d?h({day:"numeric"},"day"):this.num(a.day);case"dd":return d?h({day:"2-digit"},"day"):this.num(a.day,2);case"c":case"E":return this.num(a.weekday);case"ccc":return Q("short",!0);case"cccc":return Q("long",!0);case"ccccc":return Q("narrow",!0);case"EEE":return Q("short",!1);case"EEEE":return Q("long",!1);case"EEEEE":return Q("narrow",!1);case"L":return d?h({month:"numeric",day:"numeric"},"month"):this.num(a.month);case"LL":return d?h({month:"2-digit",day:"numeric"},"month"):this.num(a.month,2);case"LLL":return $("short",!0);case"LLLL":return $("long",!0);case"LLLLL":return $("narrow",!0);case"M":return d?h({month:"numeric"},"month"):this.num(a.month);case"MM":return d?h({month:"2-digit"},"month"):this.num(a.month,2);case"MMM":return $("short",!1);case"MMMM":return $("long",!1);case"MMMMM":return $("narrow",!1);case"y":return d?h({year:"numeric"},"year"):this.num(a.year);case"yy":return d?h({year:"2-digit"},"year"):this.num(parseInt(a.year.toString().slice(-2),10),2);case"yyyy":return d?h({year:"numeric"},"year"):this.num(a.year,4);case"yyyyyy":return d?h({year:"numeric"},"year"):this.num(a.year,6);case"G":return dt("short");case"GG":return dt("long");case"GGGGG":return dt("narrow");case"kk":return this.num(parseInt(a.weekYear.toString().slice(-2),10),2);case"kkkk":return this.num(a.weekYear,4);case"W":return this.num(a.weekNumber);case"WW":return this.num(a.weekNumber,2);case"o":return this.num(a.ordinal);case"ooo":return this.num(a.ordinal,3);case"q":return this.num(a.quarter);case"qq":return this.num(a.quarter,2);case"X":return this.num(Math.floor(a.ts/1e3));case"x":return this.num(a.ts);default:return mt(jt)}})}formatDateTimeParts(a,_){return this.dtFormatter(a,_).formatToParts()}formatDurationFromString(a,_){const s=C=>{switch(C[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"M":return"months";case"y":return"years";default:return}},d=ne.parseFormat(_),h=d.reduce((C,{literal:y,val:$})=>y?C:C.concat($),[]);return kt(d,(C=>y=>{const $=s(y);return $?this.num(C.get($),y.length):y})(a.shiftTo(...h.map(s).filter(C=>!!C))))}formatInterval(a,_={}){if(!a.isValid)throw Error("Invalid Interval provided!");return this.dtFormatter(a.start,_).dtf.formatRange(a.start.toJSDate(),a.end.toJSDate())}formatWithSystemDefault(a,_){return void 0===this._systemLoc&&(this._systemLoc=this._loc.redefaultToSystem()),this._systemLoc.dtFormatter(a,Object.assign(Object.assign({},this._opts),_)).format()}num(a,_=0){if(this._opts.forceSimple)return ke(a,_);const s=Object.assign({},this._opts);return _>0&&(s.padTo=_),this._loc.numberFormatter(s).format(a)}resolvedOptions(a,_={}){return this.dtFormatter(a,_).resolvedOptions()}}function cn(...u){const a=u.reduce((_,s)=>_+s.source,"");return RegExp(`^${a}$`)}function kn(...u){return a=>u.reduce(([_,s,d],h)=>{const[C,y,$]=h(a,d);return[Object.assign(Object.assign({},_),C),y||s,$]},[{},null,1]).slice(0,2)}function Rn(u,...a){if(null==u)return[null,null];for(const[_,s]of a){const d=_.exec(u);if(d)return s(d)}return[null,null]}function ii(...u){return(a,_)=>{const s={};let d;for(d=0;d<u.length;d++)s[u[d]]=on(a[_+d]);return[s,null,_+d]}}const ui=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,ji=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,oi=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Vn=RegExp(`${oi.source}(?:${ji.source}?(?:\\[(${ui.source})\\])?)?`),si=RegExp(`(?:T${Vn.source})?`),Li=ii("weekYear","weekNumber","weekday"),Bi=ii("year","ordinal"),yi=RegExp(`${oi.source} ?(?:${ji.source}|(${ui.source}))?`),Yi=RegExp(`(?: ${yi.source})?`);function $n(u,a,_){return Ee(u[a])?_:on(u[a])}function zn(u,a){return[{hour:$n(u,a,0),minute:$n(u,a+1,0),second:$n(u,a+2,0),millisecond:Bn(u[a+3])},null,a+4]}function Un(u,a){const _=!u[a]&&!u[a+1],s=En(u[a+1],u[a+2]);return[{},_?null:de.instance(s),a+3]}function Xn(u,a){return[{},u[a]?q.create(u[a]):null,a+1]}const Vi=RegExp(`^T?${oi.source}$`),Ui=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Oi(u){const[a,_,s,d,h,C,y,$,Q]=u,mt=a.startsWith("-"),dt=!!$&&$.startsWith("-"),jt=(ht,Vt=!1)=>"number"==typeof ht&&(Vt||ht&&mt)?-ht:ht;return[{years:jt(gn(_)),months:jt(gn(s)),weeks:jt(gn(d)),days:jt(gn(h)),hours:jt(gn(C)),minutes:jt(gn(y)),seconds:jt(gn($),"-0"===$),milliseconds:jt(Bn(Q),dt)}]}const Xi={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function pi(u,a,_,s,d,h,C){let y;return u&&(y=u.length>3?Ne.indexOf(u)+1:He.indexOf(u)+1),{year:2===a.length?ti(on(a)):on(a),month:_t.indexOf(_)+1,day:on(s),hour:on(d),minute:on(h),second:on(C),weekday:y}}const Wi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Ji(u){const[,a,_,s,d,h,C,y,$,Q,mt,dt]=u,jt=pi(a,d,s,_,h,C,y);let ht;return ht=$?Xi[$]:Q?0:En(mt,dt),[jt,new de(ht)]}const Hi=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Ki=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Qi=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Ei(u){const[,a,_,s,d,h,C,y]=u;return[pi(a,d,s,_,h,C,y),de.utcInstance]}function Zi(u){const[,a,_,s,d,h,C,y]=u;return[pi(a,y,_,s,d,h,C),de.utcInstance]}const qi=cn(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,si),to=cn(/(\d{4})-?W(\d\d)(?:-?(\d))?/,si),eo=cn(/(\d{4})-?(\d{3})/,si),no=cn(Vn),wi=kn(function(u,a){return[{year:$n(u,a,0),month:$n(u,a+1,1),day:$n(u,a+2,1)},null,a+3]},zn,Un,Xn),io=kn(Li,zn,Un,Xn),oo=kn(Bi,zn,Un,Xn),so=kn(zn,Un,Xn),ao=cn(/(\d{4})-(\d\d)-(\d\d)/,Yi),Ri=cn(yi),ro=kn(zn,Un,Xn),Mi={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},lo=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Mi),_o=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Mi);function v(u,a){var _;let s=null!==(_=a.milliseconds)&&void 0!==_?_:0;for(const d of H.slice(1))a[d]&&(s+=a[d]*u[d].milliseconds);return s}class G{static get _INVALID(){return"Invalid Duration"}get conversionAccuracy(){return this._conversionAccuracy}get days(){return this.isValid?this._values.days||0:NaN}get hours(){return this.isValid?this._values.hours||0:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this._invalid}get locale(){return this.isValid?this._loc.locale:void 0}get matrix(){return this._matrix}get milliseconds(){return this.isValid?this._values.milliseconds||0:NaN}get minutes(){return this.isValid?this._values.minutes||0:NaN}get months(){return this.isValid?this._values.months||0:NaN}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get quarters(){return this.isValid?this._values.quarters||0:NaN}get seconds(){return this.isValid?this._values.seconds||0:NaN}get weeks(){return this.isValid?this._values.weeks||0:NaN}get years(){return this.isValid?this._values.years||0:NaN}constructor(a){let _,s;"longterm"===a.conversionAccuracy?(s="longterm",_=_o):(s="casual",_=lo),a.matrix&&(_=a.matrix),this._values=a.values||{},this._loc=a.loc||te.create(),this._conversionAccuracy=s,this._invalid=a.invalid||null,this._matrix=_,this._isLuxonDuration=!0}static fromDurationLike(a){if(nt(a))return G.fromMillis(a);if(G.isDuration(a))return a;if("object"==typeof a)return G.fromObject(a);throw new zt(`Unknown duration argument ${a} of type ${typeof a}`)}static fromISO(a,_){const[s]=Rn(a,[Ui,Oi]);return s?G.fromObject(s,_):G.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromISOTime(a,_={}){const[s]=Rn(a,[Vi,kn(zn)]);return s?G.fromObject(s,_):G.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromMillis(a,_={}){return G.fromObject({milliseconds:a},_)}static fromObject(a,_={}){if(null==a||"object"!=typeof a)throw new zt("Duration.fromObject: argument expected to be an object, got "+(null===a?"null":typeof a));return new G({values:Xe(a,G.normalizeUnit),loc:te.fromObject(_),conversionAccuracy:_.conversionAccuracy,matrix:_.matrix})}static invalid(a,_){if(!a)throw new zt("need to specify a reason the Duration is invalid");const s=a instanceof K?a:new K(a,_);if(V.throwOnInvalid)throw new t(s);return new G({invalid:s})}static isDuration(a){return!!a&&a._isLuxonDuration||!1}static normalizeUnit(a){const _={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",localWeekNumber:"localWeekNumbers",localWeekYear:"localWeekYears",localWeekday:"localWeekdays",localWeekNumbers:"localWeekNumbers",localWeekYears:"localWeekYears",localWeekdays:"localWeekdays",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[a];if(!_)throw new x(a);return _}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this._values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}as(a){return this.shiftTo(a).get(a)}equals(a){if(!this.isValid||!a.isValid||!this._loc.equals(a._loc))return!1;for(const d of j)if(s=a._values[d],!(void 0===(_=this._values[d])||0===_?void 0===s||0===s:_===s))return!1;var _,s;return!0}get(a){return this[G.normalizeUnit(a)]}getMaxUnit(a=!1){const _=a?E:j,s=this.shiftTo(..._).toObject();return _.find(d=>(s[d]||0)>0)||H[0]}mapUnits(a){if(!this.isValid)return this;const _={};return Object.keys(this._values).forEach(s=>{_[s]=ni(a(this._values[s],s))}),this._clone(this,{values:_},!0)}minus(a){if(!this.isValid)return this;const _=G.fromDurationLike(a);return this.plus(_.negate())}negate(){if(!this.isValid)return this;const a={};return Object.keys(this._values).forEach(_=>{a[_]=0===this._values[_]?0:-this._values[_]}),this._clone(this,{values:a},!0)}normalize(){if(!this.isValid)return this;const a=this.toObject();return function(_,s){const d=v(_,s)<0?-1:1;H.reduce((h,C)=>{if(Ee(s[C]))return h;if(h){const $=_[C][h],Q=Math.floor(s[h]*d/$);s[C]+=Q*d,s[h]-=Q*$*d}return C},null),j.reduce((h,C)=>{if(Ee(s[C]))return h;if(h){const y=s[h]%1;s[h]-=y,s[C]+=y*_[h][C]}return C},null)}(this._matrix,a),this._clone(this,{values:a},!0)}plus(a){if(!this.isValid)return this;const _=G.fromDurationLike(a),s={};return j.forEach(d=>{void 0===_._values[d]&&void 0===this._values[d]||(s[d]=_.get(d)+this.get(d))}),this._clone(this,{values:s},!0)}reconfigure({locale:a,numberingSystem:_,conversionAccuracy:s,matrix:d}={}){const h={loc:this._loc.clone({locale:a,numberingSystem:_}),matrix:d,conversionAccuracy:s};return this._clone(this,h)}rescale(){if(!this.isValid)return this;const a=function(_={}){return Object.entries(_).reduce((s,[d,h])=>(0!==h&&(s[d]=h),s),{})}(this.normalize().shiftToAll().toObject());return this._clone(this,{values:a},!0)}set(a){if(!this.isValid)return this;const _=Object.assign(Object.assign({},this._values),Xe(a,G.normalizeUnit));return this._clone(this,{values:_})}shiftTo(...a){if(!this.isValid||0===a.length)return this;a=a.map(C=>G.normalizeUnit(C));const _={},s={},d=this.toObject();let h;return j.forEach(C=>{if(a.indexOf(C)>=0){h=C;let y=0;Object.keys(s).forEach(Q=>{y+=this._matrix[Q][C]*s[Q],s[Q]=0}),nt(d[C])&&(y+=d[C]);const $=Math.trunc(y);_[C]=$,s[C]=(1e3*y-1e3*$)/1e3}else nt(d[C])&&(s[C]=d[C])}),Object.keys(s).forEach(C=>{const y=s[C];0!==y&&(_[h]+=C===h?y:y/this._matrix[h][C])}),this._clone(this,{values:_},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}toFormat(a,_={floor:!0}){const s=Object.assign(Object.assign({},_),{floor:!1!==_.round&&!1!==_.floor});return this.isValid?ne.create(this._loc,s).formatDurationFromString(this,a):G._INVALID}toHuman(a={}){if(!this.isValid)return G._INVALID;const _=this.getMaxUnit(!0),s=a.onlyHumanUnits?E:j,d=this.shiftTo(...s.slice(s.indexOf(_))).toObject(),h=s.map(y=>{const $=d[y];return Ee($)||0===$?null:this._loc.numberFormatter(Object.assign(Object.assign({style:"unit",unitDisplay:"long"},a),{unit:y.slice(0,-1)})).format($)}).filter(y=>y),C=Object.assign({type:"conjunction",style:a.listStyle||"narrow"},a);return this._loc.listFormatter(C).format(h)}toISO(){if(!this.isValid)return null;let a="P";return 0!==this.years&&(a+=this.years+"Y"),0===this.months&&0===this.quarters||(a+=this.months+3*this.quarters+"M"),0!==this.weeks&&(a+=this.weeks+"W"),0!==this.days&&(a+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(a+="T"),0!==this.hours&&(a+=this.hours+"H"),0!==this.minutes&&(a+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(a+=Yn(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===a&&(a+="T0S"),a}toISOTime(a={}){if(!this.isValid)return null;const _=this.toMillis();return _<0||_>=864e5?null:(a=Object.assign(Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},a),{includeOffset:!1}),vt.fromMillis(_,{zone:"UTC"}).toISOTime(a))}toJSON(){return this.toISO()}toMillis(){return this.isValid?v(this.matrix,this._values):NaN}toObject(){return this.isValid?Object.assign({},this._values):{}}toString(){return this.toISO()}valueOf(){return this.toMillis()}_clone(a,_,s=!1){const d={values:s?_.values:Object.assign(Object.assign({},a._values),_.values||{}),loc:a._loc.clone(_.loc),conversionAccuracy:_.conversionAccuracy||a.conversionAccuracy,matrix:_.matrix||a.matrix};return new G(d)}}const k="Invalid Interval";function b(u){if(vt.isDateTime(u))return u;if(u&&u.valueOf&&nt(u.valueOf()))return vt.fromJSDate(u);if(u&&"object"==typeof u)return vt.fromObject(u);throw new zt(`Unknown datetime argument: ${u}, of type ${typeof u}`)}class S{get end(){return this.isValid?this._e:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this.invalidReason}get start(){return this.isValid?this._s:null}constructor(a){this._s=a.start,this._e=a.end,this._invalid=a.invalid||null,this._isLuxonInterval=!0}static after(a,_){const s=G.fromDurationLike(_),d=b(a);return new S({start:d,end:d?d.plus(s):void 0})}static before(a,_){const s=G.fromDurationLike(_),d=b(a);return new S({start:d?d.minus(s):void 0,end:d})}static fromDateTimes(a,_){const s=b(a),d=b(_);return y=d,((C=s)&&C.isValid?y&&y.isValid?y<C?S.invalid("end before start",`The end of an interval must be after its start, but you had start=${C.toISO()} and end=${y.toISO()}`):void 0:S.invalid("missing or invalid end"):S.invalid("missing or invalid start"))||new S({start:s,end:d});var C,y}static fromISO(a,_={}){const[s,d]=(a||"").split("/",2);if(s&&d){let h,C,y,$;try{h=vt.fromISO(s,_),C=h.isValid}catch{C=!1}try{y=vt.fromISO(d,_),$=y.isValid}catch{$=!1}if(C&&$)return S.fromDateTimes(h,y);if(C){const Q=G.fromISO(d,_);if(Q.isValid)return S.after(h,Q)}else if($){const Q=G.fromISO(s,_);if(Q.isValid)return S.before(y,Q)}}return S.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static invalid(a,_){if(!a)throw new zt("need to specify a reason the Interval is invalid");const s=a instanceof K?a:new K(a,_);if(V.throwOnInvalid)throw new T(s);return new S({invalid:s})}static isInterval(a){return!!a&&a._isLuxonInterval||!1}static merge(a){const[_,s]=a.sort((d,h)=>d._s.valueOf()-h._s.valueOf()).reduce(([d,h],C)=>h?h.overlaps(C)||h.abutsStart(C)?[d,h.union(C)]:[d.concat([h]),C]:[d,C],[[],null]);return s&&_.push(s),_}static xor(a){let _=null,s=0;const d=[],h=a.map(y=>[{time:y._s,type:"s"},{time:y._e,type:"e"}]),C=Array.prototype.concat(...h).sort((y,$)=>+y.time-+$.time);for(const y of C)s+="s"===y.type?1:-1,1===s?_=y.time:(_&&_.valueOf()!==y.time.valueOf()&&d.push(S.fromDateTimes(_,y.time)),_=null);return S.merge(d)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this._s.toISO()}, end: ${this._e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}abutsEnd(a){return+a._e==+this._s}abutsStart(a){return+this._e==+a._s}contains(a){return this._s<=a&&this._e>a}count(a="milliseconds",_){if(!this.isValid)return NaN;const s=this.start.startOf(a,_);let d;return d=_?.useLocaleWeeks?this.end.reconfigure({locale:s.locale}):this.end,d=d.startOf(a,_),Math.floor(d.diff(s,a).get(a))+ +(d.valueOf()!==this.end.valueOf())}difference(...a){return S.xor([this].concat(a)).map(_=>this.intersection(_)).filter(_=>_&&!_.isEmpty())}divideEqually(a){return this.isValid?this.splitBy({milliseconds:this.length()/a}).slice(0,a):[]}engulfs(a){return!!this.isValid&&this._s<=a._s&&this._e>=a._e}equals(a){return!(!this.isValid||!a.isValid)&&this._s.equals(a._s)&&this._e.equals(a._e)}hasSame(a){return!!this.isValid&&(this.isEmpty()||this._e.minus(1).hasSame(this._s,a))}intersection(a){if(!this.isValid)return this;const _=this._s>a._s?this._s:a._s,s=this._e<a._e?this._e:a._e;return _>=s?null:S.fromDateTimes(_,s)}isAfter(a){return!!this.isValid&&this._s>a}isBefore(a){return!!this.isValid&&this._e<=a}isEmpty(){return this._s.valueOf()===this._e.valueOf()}length(a="milliseconds"){return this.toDuration(a).get(a)}mapEndpoints(a){return S.fromDateTimes(a(this._s),a(this._e))}overlaps(a){return this._e>a._s&&this._s<a._e}set({start:a,end:_}={}){return this.isValid?S.fromDateTimes(a||this._s,_||this._e):this}splitAt(...a){const _=a.map(b).filter(C=>this.contains(C)).sort((C,y)=>C.toMillis()-y.toMillis()),s=[];let d=this._s,h=0;for(;d<this._e;){const C=_[h]||this._e,y=+C>+this._e?this._e:C;s.push(S.fromDateTimes(d,y)),d=y,h+=1}return s}splitBy(a){const _=G.fromDurationLike(a);if(!this.isValid||!_.isValid||0===_.as("milliseconds"))return[];let s,d=this._s,h=1;const C=[];for(;d<this._e;){const y=this.start.plus(_.mapUnits($=>$*h));s=+y>+this._e?this._e:y,C.push(S.fromDateTimes(d,s)),d=s,h+=1}return C}toDuration(a="milliseconds",_={}){return this.isValid?this._e.diff(this._s,a,_):G.invalid(this._invalid.reason)}toFormat(a,{separator:_=" - "}={}){return this.isValid?`${this._s.toFormat(a)}${_}${this._e.toFormat(a)}`:k}toISO(a={}){return this.isValid?`${this._s.toISO(a)}/${this._e.toISO(a)}`:k}toISODate(){return this.isValid?`${this._s.toISODate()}/${this._e.toISODate()}`:k}toISOTime(a={}){return this.isValid?`${this._s.toISOTime(a)}/${this._e.toISOTime(a)}`:k}toLocaleString(a=gt,_={}){return this.isValid?ne.create(this._s.loc.clone(_),a).formatInterval(this):k}toString(){return this.isValid?`[${this._s.toISO()} \u2013 ${this._e.toISO()})`:k}union(a){return this.isValid?S.fromDateTimes(this._s<a._s?this._s:a._s,this._e>a._e?this._e:a._e):this}}class D{static eras(a="short",{locale:_}={}){return te.create(_,void 0,"gregory").eras(a)}static features(){return{relative:De(),localeWeek:An()}}static getMinimumDaysInFirstWeek({locale:a,locObj:_}={}){return(_||te.create(a)).getMinDaysInFirstWeek()}static getStartOfWeek({locale:a,locObj:_}={}){return(_||te.create(a)).getStartOfWeek()}static getWeekendWeekdays({locale:a,locObj:_}={}){return(_||te.create(a)).getWeekendDays().slice()}static hasDST(a=V.defaultZone){const _=vt.now().setZone(a).set({month:12});return!a.isUniversal&&_.offset!==_.set({month:6}).offset}static isValidIANAZone(a){return q.isValidZone(a)}static meridiems({locale:a}={}){return te.create(a).meridiems()}static months(a="long",{locale:_=null,locObj:s=null,numberingSystem:d=null,outputCalendar:h="gregory"}={}){return(s||te.create(_,d,h)).months(a)}static monthsFormat(a="long",{locale:_,locObj:s,numberingSystem:d,outputCalendar:h="gregory"}={}){return(s||te.create(_,d,h)).months(a,!0)}static normalizeZone(a){return Ge(a,V.defaultZone)}static weekdays(a="long",{locale:_,locObj:s,numberingSystem:d}={}){return(s||te.create(_,d)).weekdays(a)}static weekdaysFormat(a="long",{locale:_,locObj:s,numberingSystem:d}={}){return(s||te.create(_,d)).weekdays(a,!0)}}function Y(u,a){const _=d=>d.toUTC(0,{keepLocalTime:!0}).startOf("days").valueOf(),s=_(a)-_(u);return Math.floor(G.fromMillis(s).as("days"))}const wt={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Jt={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},mn=wt.hanidec.replace(/[\[|\]]/g,"").split("");function Ht(u,a=""){return new RegExp(`${wt[u.numberingSystem||"latn"]}${a}`)}function Ae(u,a=(_=>_)){return{regex:u,deser:([_])=>a(function(s){const d=parseInt(s,10);if(!isNaN(d))return d;let h="";for(let C=0;C<s.length;C++){const y=s.charCodeAt(C);if(-1!==s[C].search(wt.hanidec))h+=mn.indexOf(s[C]);else for(const $ in Jt){const[Q,mt]=Jt[$];if(y>=Q&&y<=mt){h+=y-Q;break}}}return parseInt(h,10)}(_))}}const ai="[ \xa0]",Fi=new RegExp(ai,"g");function uo(u){return u.replace(/\./g,"\\.?").replace(Fi,ai)}function Oo(u){return u.replace(/\./g,"").replace(Fi," ").toLowerCase()}function hn(u,a){return{regex:RegExp(u.map(uo).join("|")),deser:([_])=>u.findIndex(s=>Oo(_)===Oo(s))+a}}function Eo(u,a){return{regex:u,deser:([,_,s])=>En(_,s),groups:a}}function wo(u){return{regex:u,deser:([a])=>a}}const ns={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let po;function is(u){return!!u&&!!u.invalidReason}function Ro(u,a){return Array.prototype.concat(...u.map(_=>function(s,d){if(s.literal)return s;const h=Do(ne.macroTokenToFormatOpts(s.val),d);return null==h||h.includes(void 0)?s:h}(_,a)))}function Mo(u,a,_){const s=Ro(ne.parseFormat(_),u),d=s.map(C=>function(y,$){const Q=Ht($),mt=Ht($,"{2}"),dt=Ht($,"{3}"),jt=Ht($,"{4}"),ht=Ht($,"{6}"),Vt=Ht($,"{1,2}"),oe=Ht($,"{1,3}"),ge=Ht($,"{1,6}"),xe=Ht($,"{1,9}"),Te=Ht($,"{2,4}"),ce=Ht($,"{4,6}"),ye=Kn=>{return{regex:RegExp((Pi=Kn.val,Pi.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([yn])=>yn,literal:!0};var Pi},jn=(Kn=>{if(y.literal)return ye(Kn);switch(Kn.val){case"G":return hn($.eras("short"),0);case"GG":return hn($.eras("long"),0);case"y":return Ae(ge);case"yy":case"kk":return Ae(Te,ti);case"yyyy":case"kkkk":return Ae(jt);case"yyyyy":return Ae(ce);case"yyyyyy":return Ae(ht);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Ae(Vt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Ae(mt);case"MMM":return hn($.months("short",!0),1);case"MMMM":return hn($.months("long",!0),1);case"LLL":return hn($.months("short",!1),1);case"LLLL":return hn($.months("long",!1),1);case"o":case"S":return Ae(oe);case"ooo":case"SSS":return Ae(dt);case"u":return wo(xe);case"a":return hn($.meridiems(),0);case"E":case"c":return Ae(Q);case"EEE":return hn($.weekdays("short",!1),1);case"EEEE":return hn($.weekdays("long",!1),1);case"ccc":return hn($.weekdays("short",!0),1);case"cccc":return hn($.weekdays("long",!0),1);case"Z":case"ZZ":return Eo(new RegExp(`([+-]${Vt.source})(?::(${mt.source}))?`),2);case"ZZZ":return Eo(new RegExp(`([+-]${Vt.source})(${mt.source})?`),2);case"z":return wo(/[a-z_+-/]{1,256}?/i);default:return ye(Kn)}})(y)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Object.assign(Object.assign({},jn),{token:y})}(C,u)),h=d.find(is);if(h)return{input:a,tokens:s,invalidReason:h.invalidReason};{const C=`^${d.map(Vt=>Vt.regex).reduce((Vt,oe)=>`${Vt}(${oe.source})`,"")}$`,y=RegExp(C,"i"),[$,Q]=function(ht,Vt,oe){const ge=Vt.exec(ht),xe={};if(null!==ge){let Te=1;oe.forEach(ce=>{const ye=ce.groups?ce.groups+1:1;ce.literal||(xe[ce.token.val[0]]=ce.deser(ge.slice(Te,Te+ye))),Te+=ye})}return[ge,xe]}(a,y,d),[mt,dt,jt]=Q?function(ht){let Vt,oe=null;return ee(ht.z)&&(oe=q.create(ht.z)),ee(ht.Z)&&(oe||(oe=new de(+ht.Z)),Vt=+ht.Z),ee(ht.q)&&(ht.M=3*(ht.q-1)+1),ee(ht.h)&&(+ht.h<12&&1===ht.a?ht.h=ht.h+12:12===ht.h&&0===ht.a&&(ht.h=0)),0===ht.G&&ht.y&&(ht.y=-ht.y),ee(ht.u)&&(ht.S=Bn(ht.u)||0),[Object.keys(ht).reduce((ge,xe)=>{const Te=(ce=>{switch(ce){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(xe);return Te&&(ge[Te]=ht[xe]),ge},{}),oe,Vt]}(Q):[null,null,void 0];if("a"in Q&&"H"in Q)throw new yt("Can't include meridiem when specifying 24-hour format");return{input:a,tokens:s,regex:y,rawMatches:$,matches:Q,result:mt,zone:dt,specificOffset:jt}}}function Fo(u){return u.replace(/\u202F/g," ")}function Do(u,a){if(!u)return null;const _=ne.create(a,u).dtFormatter((void 0===po&&(po=vt.fromMillis(1555555555555,{locale:a.locale})),po)),s=_.formatToParts(),d=_.resolvedOptions();return s.map(h=>function(C,y,$){const{type:Q,value:mt}=C;if("literal"===Q){const Vt=/^\s+$/.test(mt);return{literal:!Vt,val:Vt?" ":mt}}let jt=Q;"hour"===Q&&(jt=null!=y.hour12?y.hour12?"hour12":"hour24":null!=y.hourCycle?"h11"===y.hourCycle||"h12"===y.hourCycle?"hour12":"hour24":$.hour12?"hour12":"hour24");let ht=ns[jt];if("object"==typeof ht&&(ht=ht[y[Q]]),ht)return{literal:!1,val:ht}}(h,u,d))}const gi="Invalid DateTime",ri=864e13;function Go(u,a,_){let s=u-60*a*1e3;const d=_.offset(s);if(a===d)return[s,a];s-=60*(d-a)*1e3;const h=_.offset(s);return d===h?[s,d]:[u-60*Math.min(d,h)*1e3,Math.max(d,h)]}function Ce(u,a){const _=new Date(u+=60*a*1e3);return{year:_.getUTCFullYear(),month:_.getUTCMonth()+1,day:_.getUTCDate(),hour:_.getUTCHours(),minute:_.getUTCMinutes(),second:_.getUTCSeconds(),millisecond:_.getUTCMilliseconds()}}function hi(u,a,_){return Go(Gn(u),a,_)}function li(u,a,_,s,d,h){const{setZone:C,zone:y}=_;if(u&&0!==Object.keys(u).length||a){const $=a||y,Q=vt.fromObject(u||void 0,Object.assign(Object.assign({},_),{zone:$,specificOffset:h}));return C?Q:Q.setZone(y)}return vt.invalid(new K("unparsable",`the input "${d}" can't be parsed as ${s}`))}function Di(u,a,_=!0){return u.isValid?ne.create(te.create("en-US"),{allowZ:_,forceSimple:!0}).formatDateTimeFromString(u,a):null}const go={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0},os={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ss={ordinal:1,hour:0,minute:0,second:0,millisecond:0},No=["year","month","day","hour","minute","second","millisecond"],as=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],rs=["year","ordinal","hour","minute","second","millisecond"];function $o(u){const a=I[u.toLowerCase()];if(!a)throw new x(u);return a}class vt{get day(){return this.isValid?this._c.day:NaN}get daysInMonth(){return Ze(this.year,this.month)}get daysInYear(){return this.isValid?bn(this.year):NaN}get hour(){return this.isValid?this._c.hour:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:void 0}get invalidReason(){return this._invalid?this._invalid.reason:void 0}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return On(this.year)}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isValid(){return null===this._invalid}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get loc(){return this.isValid?this._loc.clone():void 0}get localWeekNumber(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekYear:NaN}get localWeekday(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekday:NaN}get locale(){return this.isValid?this._loc.locale:void 0}get millisecond(){return this.isValid?this._c.millisecond:NaN}get minute(){return this.isValid?this._c.minute:NaN}get month(){return this.isValid?this._c.month:NaN}get monthLong(){return this.isValid?D.months("long",{locObj:this._loc})[this.month-1]:null}get monthShort(){return this.isValid?D.months("short",{locObj:this._loc})[this.month-1]:null}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get offset(){return this.isValid?+this._o:NaN}get offsetNameLong(){return this.isValid?this.zone.offsetName(this._ts,{format:"long",locale:this.locale}):null}get offsetNameShort(){return this.isValid?this.zone.offsetName(this._ts,{format:"short",locale:this.locale}):null}get ordinal(){return this.isValid?ft(this._c).ordinal:NaN}get outputCalendar(){return this.isValid?this._loc.outputCalendar:void 0}get quarter(){return this.isValid?Math.ceil(this._c.month/3):NaN}get second(){return this.isValid?this._c.second:NaN}get ts(){return this._ts}get weekNumber(){return this.isValid?this._possiblyCachedWeekData(this).weekNumber:NaN}get weekYear(){return this.isValid?this._possiblyCachedWeekData(this).weekYear:NaN}get weekday(){return this.isValid?this._possiblyCachedWeekData(this).weekday:NaN}get weekdayLong(){return this.isValid?D.weekdays("long",{locObj:this._loc})[this.weekday-1]:null}get weekdayShort(){return this.isValid?D.weekdays("short",{locObj:this._loc})[this.weekday-1]:null}get weeksInLocalWeekYear(){return this.isValid?vn(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}get weeksInWeekYear(){return this.isValid?vn(this.weekYear):NaN}get year(){return this.isValid?this._c.year:NaN}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}constructor(a){const _=a.zone||V.defaultZone;let s,d,h=a.invalid||(Number.isNaN(a.ts)?new K("invalid timestamp"):null)||(_.isValid?null:vt._unsupportedZone(_));if(this._ts=Ee(a.ts)?V.now():a.ts,!h)if(a.old&&a.old.ts===this._ts&&a.old.zone.equals(_))[d,s]=[a.old.c,a.old.o];else{const C=_.offset(this._ts);d=Ce(this._ts,C),h=Number.isNaN(d.year)?new K("invalid input"):null,d=h?void 0:d,s=h?void 0:C}this._zone=_,this._loc=a.loc||te.create(),this._invalid=h,this._weekData=null,this._c=d,this._o=s,this._isLuxonDateTime=!0}static expandFormat(a,_={}){return Ro(ne.parseFormat(a),te.fromObject(_)).map(s=>s.val).join("")}static fromFormat(a,_,s={}){if(Ee(a)||Ee(_))throw new zt("fromFormat requires an input string and a format");const{locale:d,numberingSystem:h}=s,C=te.fromOpts({locale:d,numberingSystem:h,defaultToEN:!0}),[y,$,Q,mt]=function(dt,jt,ht){const{result:Vt,zone:oe,specificOffset:ge,invalidReason:xe}=Mo(dt,Fo(jt),Fo(ht));return[Vt,oe,ge,xe]}(C,a,_);return mt?vt.invalid(mt):li(y,$||null,s,`format ${_}`,a,Q)}static fromFormatExplain(a,_,s={}){const{locale:d,numberingSystem:h}=s;return Mo(te.fromOpts({locale:d,numberingSystem:h,defaultToEN:!0}),a,_)}static fromHTTP(a,_={}){const[s,d]=Rn(a,[Hi,Ei],[Ki,Ei],[Qi,Zi]);return li(s,d,_,"HTTP",a)}static fromISO(a,_={}){const[s,d]=Rn(a,[qi,wi],[to,io],[eo,oo],[no,so]);return li(s,d,_,"ISO 8601",a)}static fromJSDate(a,_={}){const s="[object Date]"===Object.prototype.toString.call(a)?a.valueOf():NaN;if(Number.isNaN(s))return vt.invalid("invalid input");const h=Ge(_.zone,V.defaultZone);return h.isValid?new vt({ts:s,zone:h,loc:te.fromObject(_)}):vt.invalid(vt._unsupportedZone(h))}static fromMillis(a,_={}){if(nt(a))return a<-ri||a>ri?vt.invalid("Timestamp out of range"):new vt({ts:a,zone:Ge(_.zone,V.defaultZone),loc:te.fromObject(_)});throw new zt(`fromMillis requires a numerical input, but received a ${typeof a} with value ${a}`)}static fromObject(a={},_={}){const s=Ge(_.zone,V.defaultZone);if(!s.isValid)return vt.invalid(vt._unsupportedZone(s));const d=te.fromObject(_),h=Xe(a,$o),C=V.now(),y=nt(_.specificOffset)?_.specificOffset:s.offset(C),$=ee(h.ordinal),Q=ee(h.year),mt=ee(h.month)||ee(h.day),dt=Q||mt,jt=h.weekYear||h.weekNumber;if((dt||$)&&jt)throw new yt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(mt&&$)throw new yt("Can't mix ordinal dates with month/day");const ht=jt||h.weekday&&!dt,{minDaysInFirstWeek:Vt,startOfWeek:oe}=Fe(h,d),ge=Ce(C,y),xe={containsGregor:dt,containsOrdinal:$,loc:d,normalized:h,obj:a,offsetProvis:y,useWeekData:ht,zoneToUse:s};return ht?vt._buildObject(xe,as,os,Qe(ge,Vt,oe)):$?vt._buildObject(xe,rs,ss,ft(ge)):vt._buildObject(xe,No,go,ge)}static fromRFC2822(a,_={}){const[s,d]=Rn(a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[Wi,Ji]);return li(s,d,_,"RFC 2822",a)}static fromSQL(a,_={}){const[s,d]=Rn(a,[ao,wi],[Ri,ro]);return li(s,d,_,"SQL",a)}static fromSeconds(a,_={}){if(!nt(a))throw new zt("fromSeconds requires a numerical input");return new vt({ts:1e3*a,zone:Ge(_.zone,V.defaultZone),loc:te.fromObject(_)})}static fromString(a,_,s={}){return vt.fromFormat(a,_,s)}static fromStringExplain(a,_,s={}){return vt.fromFormatExplain(a,_,s)}static invalid(a,_){if(!a)throw new zt("need to specify a reason the DateTime is invalid");const s=a instanceof K?a:new K(a,_);if(V.throwOnInvalid)throw new e(s);return new vt({invalid:s})}static isDateTime(a){return!(!a||!a._isLuxonDateTime)}static local(...a){const[_,s]=this._lastOpts(a),[d,h,C,y,$,Q,mt]=s;return vt._quickDT({year:d,month:h,day:C,hour:y,minute:$,second:Q,millisecond:mt},_)}static max(...a){if(!a.every(vt.isDateTime))throw new zt("max requires all arguments be DateTimes");return Zn(a,_=>_.valueOf(),Math.max)}static min(...a){if(!a.every(vt.isDateTime))throw new zt("min requires all arguments be DateTimes");return Zn(a,_=>_.valueOf(),Math.min)}static now(){return new vt({})}static parseFormatForOpts(a,_={}){const s=Do(a,te.fromObject(_));return s?s.map(d=>d?d.val:null).join(""):null}static utc(...a){const[_,s]=this._lastOpts(a),[d,h,C,y,$,Q,mt]=s;return _.zone=de.utcInstance,this._quickDT({year:d,month:h,day:C,hour:y,minute:$,second:Q,millisecond:mt},_)}static _buildObject(a,_,s,d){let h=!1;_.forEach(dt=>{ee(a.normalized[dt])?h=!0:a.normalized[dt]=h?s[dt]:d[dt]});const C=(a.useWeekData?function(dt,jt=4,ht=1){const Vt=ln(dt.weekYear),oe=Ve(dt.weekNumber,1,vn(dt.weekYear,jt,ht)),ge=Ve(dt.weekday,1,7);return Vt?oe?!ge&&me("weekday",dt.weekday):me("week",dt.weekNumber):me("weekYear",dt.weekYear)}(a.normalized):a.containsOrdinal?function(dt){const jt=ln(dt.year),ht=Ve(dt.ordinal,1,bn(dt.year));return jt?!ht&&me("ordinal",dt.ordinal):me("year",dt.year)}(a.normalized):M(a.normalized))||O(a.normalized);if(C)return vt.invalid(C);const y=a.useWeekData?R(a.normalized):a.containsOrdinal?X(a.normalized):a.normalized,[$,Q]=hi(y,a.offsetProvis,a.zoneToUse),mt=new vt({ts:$,zone:a.zoneToUse,o:Q,loc:a.loc});return a.normalized.weekday&&a.containsGregor&&a.obj.weekday!==mt.weekday?vt.invalid("mismatched weekday",`you can't specify both a weekday of ${a.normalized.weekday} and a date of ${mt.toISO()}`):mt.isValid?mt:vt.invalid(mt._invalid)}static _diffRelative(a,_,s){const d=!!Ee(s.round)||s.round,h=(y,$)=>(y=Yn(y,d||s.calendary?0:2,!0),_._loc.clone(s).relFormatter(s).format(y,$)),C=y=>s.calendary?_.hasSame(a,y)?0:_.startOf(y).diff(a.startOf(y),y).get(y):_.diff(a,y).get(y);if(s.unit)return h(C(s.unit),s.unit);for(const y of s.units){const $=C(y);if(Math.abs($)>=1)return h($,y)}return h(a>_?-0:0,s.units[s.units.length-1])}static _lastOpts(a){let _,s={};return a.length>0&&"object"==typeof a[a.length-1]?(s=a.pop(),_=a):_=Array.from(a),[s,_]}static _quickDT(a,_){const s=Ge(_.zone,V.defaultZone),d=te.fromObject(_),h=V.now();let C,y;if(ee(a.year)){for(const mt of No)Ee(a[mt])&&(a[mt]=go[mt]);const $=M(a)||O(a);if($)return vt.invalid($);const Q=s.offset(h);[C,y]=hi(a,Q,s)}else C=h;return new vt({ts:C,zone:s,loc:d,o:y})}static _unsupportedZone(a){return new K("unsupported zone",`the zone "${a.name}" is not supported`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}diff(a,_="milliseconds",s={}){if(!this.isValid||!a.isValid)return G.invalid(this.invalidReason||a.invalidReason,"created by diffing an invalid DateTime");const d=(y=_,Array.isArray(y)?y:[y]).map(G.normalizeUnit),h=a.valueOf()>this.valueOf(),C=((u,a,_,s)=>{let[d,h,C,y]=function(dt,jt,ht){const Vt=[["years",(ce,ye)=>ye.year-ce.year],["quarters",(ce,ye)=>ye.quarter-ce.quarter+4*(ye.year-ce.year)],["months",(ce,ye)=>ye.month-ce.month+12*(ye.year-ce.year)],["weeks",(ce,ye)=>{const jn=Y(ce,ye);return(jn-jn%7)/7}],["days",Y]],oe={},ge=dt;let xe,Te;for(const[ce,ye]of Vt)ht.indexOf(ce)>=0&&(xe=ce,oe[ce]=ye(dt,jt),Te=ge.plus(oe),Te>jt?(oe[ce]--,(dt=ge.plus(oe))>jt&&(Te=dt,oe[ce]--,dt=ge.plus(oe))):dt=Te);return[dt,oe,Te,xe]}(u,a,_);const $=+a-+d,Q=_.filter(dt=>["hours","minutes","seconds","milliseconds"].indexOf(dt)>=0);0===Q.length&&(C<a&&(C=d.plus({[y]:1})),C!==d&&(h[y]=(h[y]||0)+$/(+C-+d)));const mt=G.fromObject(h,s);return Q.length>0?G.fromMillis($,s).shiftTo(...Q).plus(mt):mt})(h?this:a,h?a:this,d,Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},s));var y;return h?C.negate():C}diffNow(a="milliseconds",_={}){return this.diff(vt.now(),a,_)}endOf(a,{useLocaleWeeks:_=!1}={}){return this.plus({[a]:1}).startOf(a,{useLocaleWeeks:_}).minus({milliseconds:1})}equals(a){return this.valueOf()===a.valueOf()&&this.zone.equals(a.zone)&&this._loc.equals(a._loc)}get(a){return this[a]}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const a=864e5,_=6e4,s=Gn(this._c),d=this.zone.offset(s-a),h=this.zone.offset(s+a),C=this.zone.offset(s-d*_),y=this.zone.offset(s-h*_);if(C===y)return[this];const $=s-C*_,Q=s-y*_,mt=Ce($,C),dt=Ce(Q,y);return mt.hour===dt.hour&&mt.minute===dt.minute&&mt.second===dt.second&&mt.millisecond===dt.millisecond?[this._clone({ts:$}),this._clone({ts:Q})]:[this]}hasSame(a,_,s){if(!this.isValid)return!1;const d=a.valueOf(),h=this.setZone(a.zone,{keepLocalTime:!0});return+h.startOf(_)<=d&&d<=+h.endOf(_,s)}minus(a){if(!this.isValid)return this;const _=G.fromDurationLike(a).negate();return this._clone(this._adjustTime(_))}plus(a){if(!this.isValid)return this;const _=G.fromDurationLike(a);return this._clone(this._adjustTime(_))}reconfigure(a){const _=this._loc.clone(a);return this._clone({loc:_})}resolvedLocaleOptions(a={}){const{locale:_,numberingSystem:s,calendar:d}=ne.create(this._loc.clone(a),a).resolvedOptions(this);return{locale:_,numberingSystem:s,outputCalendar:d}}set(a){if(!this.isValid)return this;const _=Xe(a,$o),{minDaysInFirstWeek:s,startOfWeek:d}=Fe(_,this.loc),h=ee(_.weekYear)||ee(_.weekNumber)||ee(_.weekday),C=ee(_.ordinal),y=ee(_.year),$=ee(_.month)||ee(_.day);if((y||$||C)&&(_.weekYear||_.weekNumber))throw new yt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if($&&C)throw new yt("Can't mix ordinal dates with month/day");let dt;h?dt=R(Object.assign(Object.assign({},Qe(this._c,s,d)),_),s,d):Ee(_.ordinal)?(dt=Object.assign(Object.assign({},this.toObject()),_),Ee(_.day)&&(dt.day=Math.min(Ze(dt.year,dt.month),dt.day))):dt=X(Object.assign(Object.assign({},ft(this._c)),_));const[jt,ht]=hi(dt,this._o,this.zone);return this._clone({ts:jt,o:ht})}setLocale(a){return this.reconfigure({locale:a})}setZone(a,{keepLocalTime:_=!1,keepCalendarTime:s=!1}={}){if((a=Ge(a,V.defaultZone)).equals(this.zone))return this;if(a.isValid){let d=this._ts;if(_||s){const h=a.offset(this._ts);d=hi(this.toObject(),h,a)[0]}return this._clone({ts:d,zone:a})}return vt.invalid(vt._unsupportedZone(a))}startOf(a,{useLocaleWeeks:_=!1}={}){if(!this.isValid)return this;const s={},d=G.normalizeUnit(a);switch(d){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0}if("weeks"===d)if(_){const h=this.loc.getStartOfWeek(),{weekday:C}=this;C<h&&(s.weekNumber=this.weekNumber-1),s.weekday=h}else s.weekday=1;if("quarters"===d){const h=Math.ceil(this.month/3);s.month=3*(h-1)+1}return this.set(s)}toBSON(){return this.toJSDate()}toFormat(a,_={}){return this.isValid?ne.create(this._loc.redefaultToEN(_)).formatDateTimeFromString(this,a):gi}toHTTP(){return Di(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toISO({format:a="extended",suppressSeconds:_=!1,suppressMilliseconds:s=!1,includeOffset:d=!0,extendedZone:h=!1}={}){if(!this.isValid)return null;const C="extended"===a;return[this._toISODate(C),"T",this._toISOTime(C,_,s,d,h)].join("")}toISODate({format:a="extended"}={format:"extended"}){return this.isValid?this._toISODate("extended"===a):null}toISOTime({suppressMilliseconds:a=!1,suppressSeconds:_=!1,includeOffset:s=!0,includePrefix:d=!1,extendedZone:h=!1,format:C="extended"}={}){return this.isValid?[d?"T":"",this._toISOTime("extended"===C,_,a,s,h)].join(""):null}toISOWeekDate(){return Di(this,"kkkk-'W'WW-c")}toJSDate(){return new Date(this.isValid?this._ts:NaN)}toJSON(){return this.toISO()}toLocal(){return this.setZone(V.defaultZone)}toLocaleParts(a={}){return this.isValid?ne.create(this._loc.clone(a),a).formatDateTimeParts(this):[]}toLocaleString(a=gt,_={}){return this.isValid?ne.create(this._loc.clone(_),a).formatDateTime(this):gi}toMillis(){return this.isValid?this.ts:NaN}toObject(a={includeConfig:!1}){if(!this.isValid)return{};const _=Object.assign({},this._c);return a.includeConfig&&(_.outputCalendar=this.outputCalendar,_.numberingSystem=this._loc.numberingSystem,_.locale=this._loc.locale),_}toRFC2822(){return Di(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toRelative(a={}){if(!this.isValid)return null;const _=a.base||vt.fromObject({},{zone:this.zone}),s=a.padding?this<_?-a.padding:a.padding:0;let d=["years","months","days","hours","minutes","seconds"],h=a.unit;return Array.isArray(a.unit)&&(d=a.unit,h=void 0),vt._diffRelative(_,this.plus(s),Object.assign(Object.assign({},a),{numeric:"always",units:d,unit:h}))}toRelativeCalendar(a={}){return this.isValid?vt._diffRelative(a.base||vt.fromObject({},{zone:this.zone}),this,Object.assign(Object.assign({},a),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}toSQL(a={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(a)}`:null}toSQLDate(){return this.isValid?this._toISODate(!0):null}toSQLTime({includeOffset:a=!0,includeZone:_=!1,includeOffsetSpace:s=!0}={}){let d="HH:mm:ss.SSS";return(_||a)&&(s&&(d+=" "),_?d+="z":a&&(d+="ZZ")),Di(this,d,!0)}toSeconds(){return this.isValid?this._ts/1e3:NaN}toString(){return this.isValid?this.toISO():gi}toUTC(a=0,_={}){return this.setZone(de.instance(a),_)}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}until(a){return S.fromDateTimes(this,a)}valueOf(){return this.toMillis()}_adjustTime(a){const _=this._o,s=this._c.year+Math.trunc(a.years),d=this._c.month+Math.trunc(a.months)+3*Math.trunc(a.quarters),h=Object.assign(Object.assign({},this._c),{year:s,month:d,day:Math.min(this._c.day,Ze(s,d))+Math.trunc(a.days)+7*Math.trunc(a.weeks)}),C=G.fromObject({years:a.years-Math.trunc(a.years),quarters:a.quarters-Math.trunc(a.quarters),months:a.months-Math.trunc(a.months),weeks:a.weeks-Math.trunc(a.weeks),days:a.days-Math.trunc(a.days),hours:a.hours,minutes:a.minutes,seconds:a.seconds,milliseconds:a.milliseconds}).as("milliseconds"),y=Gn(h);let[$,Q]=Go(y,_,this.zone);return 0!==C&&($+=C,Q=this.zone.offset($)),{ts:$,o:Q}}_clone(a){const _={ts:this._ts,zone:this.zone,c:this._c,o:this._o,loc:this._loc,invalid:this._invalid||void 0};return new vt(Object.assign(Object.assign(Object.assign({},_),a),{old:_}))}_possiblyCachedLocalWeekData(a){return a._localWeekData||(a._localWeekData=Qe(a._c,a.loc.getMinDaysInFirstWeek(),a.loc.getStartOfWeek())),a._localWeekData}_possiblyCachedWeekData(a){return null===a._weekData&&(a._weekData=Qe(a._c)),a._weekData}_toISODate(a){const _=this._c.year>9999||this._c.year<0;let s="";return _&&this._c.year>=0&&(s+="+"),s+=ke(this._c.year,_?6:4),a?(s+="-",s+=ke(this._c.month),s+="-",s+=ke(this._c.day)):(s+=ke(this._c.month),s+=ke(this._c.day)),s}_toISOTime(a,_,s,d,h){let C=ke(this._c.hour);return a?(C+=":",C+=ke(this._c.minute),0===this._c.millisecond&&0===this._c.second&&_||(C+=":")):C+=ke(this._c.minute),0===this._c.millisecond&&0===this._c.second&&_||(C+=ke(this._c.second),0===this._c.millisecond&&s||(C+=".",C+=ke(this._c.millisecond,3))),d&&(this.isOffsetFixed&&0===this.offset&&!h?C+="Z":this._o<0?(C+="-",C+=ke(Math.trunc(-this._o/60)),C+=":",C+=ke(Math.trunc(-this._o%60))):(C+="+",C+=ke(Math.trunc(this._o/60)),C+=":",C+=ke(Math.trunc(this._o%60)))),h&&(C+="["+this.zone.ianaName+"]"),C}}vt.DATETIME_FULL=Se,vt.DATETIME_FULL_WITH_SECONDS=Tt,vt.DATETIME_HUGE=tt,vt.DATETIME_HUGE_WITH_SECONDS=pt,vt.DATETIME_MED=Dt,vt.DATETIME_MED_WITH_SECONDS=Gt,vt.DATETIME_MED_WITH_WEEKDAY=qt,vt.DATETIME_SHORT=Xt,vt.DATETIME_SHORT_WITH_SECONDS=Bt,vt.DATE_FULL=Rt,vt.DATE_HUGE=fe,vt.DATE_MED=Ot,vt.DATE_MED_WITH_WEEKDAY=$t,vt.DATE_SHORT=gt,vt.TIME_24_SIMPLE=Ft,vt.TIME_24_WITH_LONG_OFFSET=Mt,vt.TIME_24_WITH_SECONDS=Wt,vt.TIME_24_WITH_SHORT_OFFSET=le,vt.TIME_SIMPLE=be,vt.TIME_WITH_LONG_OFFSET=Pt,vt.TIME_WITH_SECONDS=It,vt.TIME_WITH_SHORT_OFFSET=Qt;var ie=p(54460),Wn=p(89163),Cn=p(39471),Jn=p(63552),ci=p(71217),fi=p(18447),ho=p(5424),bi=p(88249),vi=p(82040),zo=p(47947),ls=p(66645),xn=p(71204),We=p(10936),fo=p(30470),bo=p(4375),Po=p(47426),Hn=p(95670),vo=p(53904),ko=p(97839),cs=p(46192);const ms=["clockFace"],_s=["clockHand"],Ao=["*","*"],ds=u=>({"clock-face__clock-hand_minute":u}),ki=u=>({transform:u}),Lo=u=>({$implicit:u});function us(u,a){if(1&u&&(i.j41(0,"button",10),i.nI1(1,"activeHour"),i.EFF(2),i.nI1(3,"timeLocalizer"),i.k0s()),2&u){const _=a.$implicit,s=i.XpG();i.Y8G("color",i.brH(1,4,_.time,null==s.selectedTime?null:s.selectedTime.time,s.isClockFaceDisabled)?s.color:void 0)("ngStyle",i.eq3(11,ki,"rotateZ(-"+_.angle+"deg)"))("disabled",_.disabled),i.R7$(2),i.SpI(" ",i.i5U(3,8,_.time,s.timeUnit.HOUR)," ")}}function ps(u,a){if(1&u&&(i.j41(0,"div",13),i.nrm(1,"input",14,4),i.nI1(3,"minutesFormatter"),i.nI1(4,"timeLocalizer"),i.j41(5,"button",10),i.nI1(6,"activeMinute"),i.nI1(7,"activeMinute"),i.EFF(8),i.k0s()()),2&u){const _=a.$implicit,s=i.sdS(2),d=i.XpG(2);i.Y8G("ngStyle",i.eq3(24,ki,"rotateZ("+_.angle+"deg)")),i.R7$(),i.Y8G("value",i.i5U(4,11,i.i5U(3,8,_.time,d.minutesGap),d.timeUnit.MINUTE)),i.R7$(4),i.AVh("dot",d.dottedMinutesInGap&&""===s.value&&!i.ii3(6,14,_.time,null==d.selectedTime?null:d.selectedTime.time,1,d.isClockFaceDisabled)),i.Y8G("color",i.ii3(7,19,_.time,null==d.selectedTime?null:d.selectedTime.time,d.minutesGap,d.isClockFaceDisabled)?d.color:void 0)("ngStyle",i.eq3(26,ki,"rotateZ(-"+_.angle+"deg)"))("disabled",_.disabled),i.R7$(3),i.SpI(" ",s.value," ")}}function gs(u,a){if(1&u&&(i.j41(0,"div",11),i.DNE(1,ps,9,28,"div",12),i.k0s()),2&u){const _=i.XpG();i.R7$(),i.Y8G("ngForOf",_.faceTime)("ngForTrackBy",_.trackByTime)}}function hs(u,a){1&u&&i.SdG(0,0,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function fs(u,a){if(1&u&&(i.j41(0,"div",13),i.DNE(1,hs,1,0,"ng-content",16),i.k0s()),2&u){const _=a.$implicit;i.XpG(2);const s=i.sdS(1);i.Y8G("ngStyle",i.eq3(3,ki,"rotateZ("+_.angle+"deg)")),i.R7$(),i.Y8G("ngTemplateOutlet",s)("ngTemplateOutletContext",i.eq3(5,Lo,_))}}function bs(u,a){1&u&&i.SdG(0,1,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function vs(u,a){if(1&u&&(i.j41(0,"div",19),i.DNE(1,bs,1,0,"ng-content",16),i.k0s()),2&u){const _=a.$implicit,s=i.XpG(3),d=i.sdS(1);i.xc7("top","calc(50% - "+s.innerClockFaceSize+"px)")("height",s.innerClockFaceSize,"px"),i.Y8G("ngStyle",i.eq3(7,ki,"rotateZ("+_.angle+"deg)")),i.R7$(),i.Y8G("ngTemplateOutlet",d)("ngTemplateOutletContext",i.eq3(9,Lo,_))}}function ks(u,a){if(1&u&&(i.j41(0,"div",17),i.DNE(1,vs,2,11,"div",18),i.nI1(2,"slice"),i.k0s()),2&u){const _=i.XpG(2);i.R7$(),i.Y8G("ngForOf",i.brH(2,2,_.faceTime,12,24))("ngForTrackBy",_.trackByTime)}}function Cs(u,a){if(1&u&&(i.j41(0,"div",11),i.DNE(1,fs,2,7,"div",12),i.nI1(2,"slice"),i.DNE(3,ks,3,6,"div",15),i.k0s()),2&u){const _=i.XpG();i.R7$(),i.Y8G("ngForOf",i.brH(2,3,_.faceTime,0,12))("ngForTrackBy",_.trackByTime),i.R7$(2),i.Y8G("ngIf",_.faceTime.length>12)}}function xs(u,a){if(1&u&&(i.j41(0,"button",20),i.nrm(1,"span",21),i.k0s()),2&u){const _=i.XpG();i.Y8G("color",_.color)}}const Ci=u=>({active:u});function Ts(u,a){if(1&u){const _=i.RV6();i.j41(0,"div",5),i.bIt("@scaleInOut.done",function(){i.eBV(_);const d=i.XpG(2);return i.Njj(d.animationDone())}),i.j41(1,"p"),i.EFF(2,"Current time would be invalid in this period."),i.k0s()()}2&u&&i.Y8G("@scaleInOut",void 0)}function Ss(u,a){if(1&u&&i.DNE(0,Ts,3,1,"div",4),2&u){const _=i.XpG();i.Y8G("ngIf",!_.isPeriodAvailable)}}function Is(u,a){if(1&u){const _=i.RV6();i.j41(0,"input",2),i.nI1(1,"timeLocalizer"),i.bIt("ngModelChange",function(d){i.eBV(_);const h=i.XpG();return i.Njj(h.time=d)})("input",function(){i.eBV(_);const d=i.XpG();return i.Njj(d.updateTime())})("focus",function(d){i.eBV(_);const h=i.XpG();return i.Njj(h.saveTimeAndChangeTimeUnit(d,h.timeUnit))}),i.k0s()}if(2&u){const _=i.XpG();i.Y8G("ngClass",i.eq3(8,Ci,_.isActive))("ngModel",i.brH(1,4,_.time,_.timeUnit,!0))("disabled",_.disabled)("ngxMatTimepickerAutofocus",_.isActive)}}function js(u,a){if(1&u){const _=i.RV6();i.j41(0,"input",3),i.nI1(1,"ngxMatTimepickerParser"),i.nI1(2,"timeLocalizer"),i.bIt("ngModelChange",function(d){i.eBV(_);const h=i.XpG();return i.Njj(h.onModelChange(d))})("input",function(){i.eBV(_);const d=i.XpG();return i.Njj(d.updateTime())})("focus",function(d){i.eBV(_);const h=i.XpG();return i.Njj(h.saveTimeAndChangeTimeUnit(d,h.timeUnit))})("keydown",function(d){i.eBV(_);const h=i.XpG();return i.Njj(h.onKeydown(d))})("keypress",function(d){i.eBV(_);const h=i.XpG();return i.Njj(h.changeTimeByKeyboard(d))}),i.k0s()}if(2&u){const _=i.XpG();i.Y8G("ngClass",i.eq3(11,Ci,_.isActive))("ngModel",i.brH(2,7,i.i5U(1,4,_.time,_.timeUnit),_.timeUnit,!0))("disabled",_.disabled)("ngxMatTimepickerAutofocus",_.isActive)}}const ys=u=>({"timepicker-dial__hint-container--hidden":u});function Os(u,a){if(1&u){const _=i.RV6();i.j41(0,"ngx-mat-timepicker-period",8),i.bIt("periodChanged",function(d){i.eBV(_);const h=i.XpG();return i.Njj(h.changePeriod(d))}),i.k0s()}if(2&u){const _=i.XpG();i.Y8G("selectedPeriod",_.period)("activeTimeUnit",_.activeTimeUnit)("maxTime",_.maxTime)("minTime",_.minTime)("format",_.format)("hours",_.hours)("minutes",_.minutes)("selectedHour",_.hour)("meridiems",_.meridiems)}}function Es(u,a){1&u&&i.eu8(0)}function ws(u,a){1&u&&(i.j41(0,"small",11),i.EFF(1," * use arrows ("),i.j41(2,"span"),i.EFF(3,"\u21c5"),i.k0s(),i.EFF(4,") to change the time"),i.k0s())}function Rs(u,a){if(1&u&&(i.j41(0,"div",9),i.DNE(1,Es,1,0,"ng-container",10)(2,ws,5,0,"ng-template",null,0,i.C5r),i.k0s()),2&u){const _=i.sdS(3),s=i.XpG();i.Y8G("ngClass",i.eq3(2,ys,!s.isHintVisible)),i.R7$(),i.Y8G("ngTemplateOutlet",s.editableHintTmpl?s.editableHintTmpl:_)}}const Ms=["*"];function Fs(u,a){1&u&&i.eu8(0)}function Ds(u,a){if(1&u&&(i.j41(0,"div"),i.DNE(1,Fs,1,0,"ng-container",3),i.k0s()),2&u){i.XpG();const _=i.sdS(4);i.R7$(),i.Y8G("ngTemplateOutlet",_)}}function Gs(u,a){1&u&&i.eu8(0)}function Ns(u,a){if(1&u&&i.DNE(0,Gs,1,0,"ng-container",3),2&u){i.XpG();const _=i.sdS(4);i.Y8G("ngTemplateOutlet",_)}}function $s(u,a){1&u&&i.SdG(0)}function zs(u,a){if(1&u&&(i.j41(0,"button",15),i.EFF(1,"CANCEL "),i.k0s()),2&u){const _=i.XpG();i.Y8G("color",_.color)}}function Ps(u,a){if(1&u&&(i.j41(0,"button",15),i.EFF(1,"OK "),i.k0s()),2&u){const _=i.XpG();i.Y8G("color",_.color)}}function As(u,a){if(1&u){const _=i.RV6();i.j41(0,"ngx-mat-timepicker-24-hours-face",17),i.nI1(1,"async"),i.bIt("hourChange",function(d){i.eBV(_);const h=i.XpG(2);return i.Njj(h.onHourChange(d))})("hourSelected",function(d){i.eBV(_);const h=i.XpG(2);return i.Njj(h.onHourSelected(d))}),i.k0s()}if(2&u){const _=i.XpG(2);i.Y8G("color",_.color)("selectedHour",i.bMT(1,5,_.selectedHour))("minTime",_.data.minTime)("maxTime",_.data.maxTime)("format",_.data.format)}}function Mn(u,a){if(1&u){const _=i.RV6();i.j41(0,"ngx-mat-timepicker-12-hours-face",18),i.nI1(1,"async"),i.nI1(2,"async"),i.bIt("hourChange",function(d){i.eBV(_);const h=i.XpG(2);return i.Njj(h.onHourChange(d))})("hourSelected",function(d){i.eBV(_);const h=i.XpG(2);return i.Njj(h.onHourSelected(d))}),i.k0s()}if(2&u){const _=i.XpG(2);i.Y8G("color",_.color)("selectedHour",i.bMT(1,5,_.selectedHour))("period",i.bMT(2,7,_.selectedPeriod))("minTime",_.data.minTime)("maxTime",_.data.maxTime)}}function Tn(u,a){if(1&u&&(i.j41(0,"div"),i.DNE(1,As,2,7,"ngx-mat-timepicker-24-hours-face",16)(2,Mn,3,9,"ng-template",null,2,i.C5r),i.k0s()),2&u){const _=i.sdS(3),s=i.XpG();i.R7$(),i.Y8G("ngIf",24===s.data.format)("ngIfElse",_)}}function Fn(u,a){if(1&u){const _=i.RV6();i.j41(0,"ngx-mat-timepicker-minutes-face",19),i.nI1(1,"async"),i.nI1(2,"async"),i.nI1(3,"async"),i.bIt("minuteChange",function(d){i.eBV(_);const h=i.XpG();return i.Njj(h.onMinuteChange(d))}),i.k0s()}if(2&u){let _;const s=i.XpG();i.Y8G("color",s.color)("dottedMinutesInGap",s.data.dottedMinutesInGap)("selectedMinute",i.bMT(1,9,s.selectedMinute))("selectedHour",null==(_=i.bMT(2,11,s.selectedHour))?null:_.time)("minTime",s.data.minTime)("maxTime",s.data.maxTime)("format",s.data.format)("period",i.bMT(3,13,s.selectedPeriod))("minutesGap",s.data.minutesGap)}}function Ls(u,a){1&u&&i.eu8(0)}function Bs(u,a){1&u&&i.eu8(0)}function Ys(u,a){if(1&u&&(i.j41(0,"button",15),i.EFF(1,"CANCEL "),i.k0s()),2&u){const _=i.XpG();i.Y8G("color",_.color)}}function Vs(u,a){if(1&u&&(i.j41(0,"button",15),i.EFF(1,"OK "),i.k0s()),2&u){const _=i.XpG();i.Y8G("color",_.color)}}function Us(u,a){if(1&u){const _=i.RV6();i.j41(0,"ngx-mat-timepicker-24-hours-face",17),i.nI1(1,"async"),i.bIt("hourChange",function(d){i.eBV(_);const h=i.XpG(2);return i.Njj(h.onHourChange(d))})("hourSelected",function(d){i.eBV(_);const h=i.XpG(2);return i.Njj(h.onHourSelected(d))}),i.k0s()}if(2&u){const _=i.XpG(2);i.Y8G("color",_.color)("selectedHour",i.bMT(1,5,_.selectedHour))("minTime",_.data.minTime)("maxTime",_.data.maxTime)("format",_.data.format)}}function Xs(u,a){if(1&u){const _=i.RV6();i.j41(0,"ngx-mat-timepicker-12-hours-face",18),i.nI1(1,"async"),i.nI1(2,"async"),i.bIt("hourChange",function(d){i.eBV(_);const h=i.XpG(2);return i.Njj(h.onHourChange(d))})("hourSelected",function(d){i.eBV(_);const h=i.XpG(2);return i.Njj(h.onHourSelected(d))}),i.k0s()}if(2&u){const _=i.XpG(2);i.Y8G("color",_.color)("selectedHour",i.bMT(1,5,_.selectedHour))("period",i.bMT(2,7,_.selectedPeriod))("minTime",_.data.minTime)("maxTime",_.data.maxTime)}}function Ws(u,a){if(1&u&&(i.j41(0,"div"),i.DNE(1,Us,2,7,"ngx-mat-timepicker-24-hours-face",16)(2,Xs,3,9,"ng-template",null,2,i.C5r),i.k0s()),2&u){const _=i.sdS(3),s=i.XpG();i.R7$(),i.Y8G("ngIf",24===s.data.format)("ngIfElse",_)}}function Js(u,a){if(1&u){const _=i.RV6();i.j41(0,"ngx-mat-timepicker-minutes-face",19),i.nI1(1,"async"),i.nI1(2,"async"),i.nI1(3,"async"),i.bIt("minuteChange",function(d){i.eBV(_);const h=i.XpG();return i.Njj(h.onMinuteChange(d))}),i.k0s()}if(2&u){let _;const s=i.XpG();i.Y8G("dottedMinutesInGap",s.data.dottedMinutesInGap)("color",s.color)("selectedMinute",i.bMT(1,9,s.selectedMinute))("selectedHour",null==(_=i.bMT(2,11,s.selectedHour))?null:_.time)("minTime",s.data.minTime)("maxTime",s.data.maxTime)("format",s.data.format)("period",i.bMT(3,13,s.selectedPeriod))("minutesGap",s.data.minutesGap)}}function Hs(u,a){1&u&&i.eu8(0)}function Ks(u,a){1&u&&i.eu8(0)}function Qs(u,a){1&u&&i.nrm(0,"ngx-mat-timepicker-provider")}const Zs=[[["","ngxMatTimepickerToggleIcon",""]]],qs=["[ngxMatTimepickerToggleIcon]"];function ta(u,a){1&u&&(i.qSk(),i.j41(0,"svg",2),i.nrm(1,"path",3),i.k0s())}const ea=u=>({"ngx-mat-timepicker--disabled":u});function na(u,a){if(1&u&&(i.j41(0,"mat-option",12),i.EFF(1),i.k0s()),2&u){const _=a.$implicit;i.Y8G("value",_),i.R7$(),i.JRh(_)}}function ia(u,a){if(1&u){const _=i.RV6();i.j41(0,"mat-form-field",9)(1,"mat-select",10),i.bIt("selectionChange",function(d){i.eBV(_);const h=i.XpG();return i.Njj(h.changePeriod(d))}),i.DNE(2,na,2,2,"mat-option",11),i.k0s()()}if(2&u){const _=i.XpG();i.Y8G("color",_.color),i.R7$(),i.Y8G("disabled",_.disabled||_.isChangePeriodDisabled)("ngModel",_.period),i.R7$(),i.Y8G("ngForOf",_.periods)}}function oa(u,a){1&u&&i.eu8(0)}function sa(u,a){if(1&u&&(i.j41(0,"ngx-mat-timepicker-toggle",13)(1,"span",14),i.DNE(2,oa,1,0,"ng-container",15),i.k0s()()),2&u){const _=i.XpG(),s=i.sdS(8),d=i.sdS(10);i.Y8G("for",s)("disabled",_.disabled),i.R7$(2),i.Y8G("ngTemplateOutlet",_.toggleIcon||d)}}function aa(u,a){1&u&&(i.j41(0,"mat-icon"),i.EFF(1,"watch_later"),i.k0s())}var Sn=function(u){return u.TWELVE="hh:mm a",u.TWELVE_SHORT="h:m a",u.TWENTY_FOUR="HH:mm",u.TWENTY_FOUR_SHORT="H:m",u}(Sn||{}),Le=function(u){return u.AM="AM",u.PM="PM",u}(Le||{});let ue=(()=>{var u;class a{static formatHour(s,d,h){if(this.isTwentyFour(d))return s;const C=h===Le.AM?s:s+12;return h===Le.AM&&12===C?0:h===Le.PM&&24===C?12:C}static formatTime(s,d){if(!s)return"Invalid Time";const h=this.parseTime(s,d).setLocale(this.defaultLocale);if(!h.isValid)return"Invalid time";const C=!this.isTwentyFour(d.format);return C?h.toLocaleString({...vt.TIME_SIMPLE,hour12:C}).replace(/\u200E/g,""):h.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static fromDateTimeToString(s,d){return s.reconfigure({numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}).toFormat(this.isTwentyFour(d)?Sn.TWENTY_FOUR:Sn.TWELVE)}static isBetween(s,d,h,C="minutes"){const y="hours"===C?C:void 0;return this.isSameOrBefore(s,h,y)&&this.isSameOrAfter(s,d,y)}static isSameOrAfter(s,d,h="minutes"){return"hours"===h?s.hour>=d.hour:s.hasSame(d,h)||s.valueOf()>d.valueOf()}static isSameOrBefore(s,d,h="minutes"){return"hours"===h?s.hour<=d.hour:s.hasSame(d,h)||s.valueOf()<=d.valueOf()}static isTimeAvailable(s,d,h,C,y,$){if(!s)return;const Q=this.parseTime(s,{format:$}),mt=Q.minute;if(y&&mt==mt&&mt%y!=0)throw new Error(`Your minutes - ${mt} doesn't match your minutesGap - ${y}`);const dt=d&&!h&&this.isSameOrAfter(Q,d,C),jt=h&&!d&&this.isSameOrBefore(Q,h,C),ht=d&&h&&this.isBetween(Q,d,h,C);return dt||jt||ht||!d&&!h}static isTwentyFour(s){return 24===s}static parseTime(s,d){const h=this._getLocaleOptionsByTime(s,d);let C=Sn.TWENTY_FOUR_SHORT;return s.match(/\s/g)&&(s=s.replace(/\.\s*/g,""),C=Sn.TWELVE_SHORT),vt.fromFormat(s.replace(/\s+/g," "),C,{numberingSystem:h.numberingSystem,locale:h.locale})}static toLocaleTimeString(s,d={}){const{format:h=this.defaultFormat,locale:C=this.defaultLocale}=d;let y="h12",$=Sn.TWELVE_SHORT;return this.isTwentyFour(h)&&(y="h23",$=Sn.TWENTY_FOUR_SHORT),vt.fromFormat(s,$).reconfigure({locale:C,numberingSystem:d.numberingSystem,defaultToEN:d.defaultToEN,outputCalendar:d.outputCalendar}).toLocaleString({...vt.TIME_SIMPLE,hourCycle:y})}static _getLocaleOptionsByTime(s,d){const{numberingSystem:h,locale:C}=vt.now().reconfigure({locale:d.locale,numberingSystem:d.numberingSystem,outputCalendar:d.outputCalendar,defaultToEN:d.defaultToEN}).resolvedLocaleOptions();return isNaN(parseInt(s,10))?{numberingSystem:h,locale:C}:{numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}}}return(u=a).defaultFormat=12,u.defaultLocale="en-US",u.defaultNumberingSystem="latn",a})();var Je=function(u){return u[u.HOUR=0]="HOUR",u[u.MINUTE=1]="MINUTE",u}(Je||{});const xi=new i.nKC("NGX_MAT_TIMEPICKER_CONFIG"),Gi={time:12,angle:360},Ni={time:0,angle:360};let Ti=(()=>{var u;class a{constructor(){this._hour$=new ci.t(Gi),this._minute$=new ci.t(Ni),this._period$=new ci.t(Le.AM)}set hour(s){this._hour$.next(s)}set minute(s){this._minute$.next(s)}set period(s){(s===Le.AM||s===Le.PM)&&this._period$.next(s)}get selectedHour(){return this._hour$.asObservable()}get selectedMinute(){return this._minute$.asObservable()}get selectedPeriod(){return this._period$.asObservable()}getFullTime(s){const d=this._hour$.getValue().time,h=this._minute$.getValue().time,Q=`${d??Gi.time}:${h??Ni.time} ${12===s?this._period$.getValue():""}`.trim();return ue.formatTime(Q,{format:s})}setDefaultTimeIfAvailable(s,d,h,C,y){s||this._resetTime();try{ue.isTimeAvailable(s,d,h,"minutes",y)&&this._setDefaultTime(s,C)}catch($){console.error($)}}_resetTime(){this.hour={...Gi},this.minute={...Ni},this.period=Le.AM}_setDefaultTime(s,d){const h=ue.parseTime(s,{format:d});if(h.isValid){const C=s.substring(s.length-2).toUpperCase(),y=h.hour;this.hour={...Gi,time:ra(y,C)},this.minute={...Ni,time:h.minute},this.period=C}else this._resetTime()}}return(u=a).\u0275fac=function(s){return new(s||u)},u.\u0275prov=i.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),a})();function ra(u,a){switch(a){case Le.AM:return 0===u?12:u;case Le.PM:return 12===u?12:u-12;default:return u}}let Co=(()=>{var u;class a{get backdropClick(){return this._backdropClick$.asObservable().pipe((0,bi.t)({bufferSize:1,refCount:!0}))}get keydownEvent(){return this._keydownEvent$.asObservable().pipe((0,bi.t)({bufferSize:1,refCount:!0}))}constructor(){this._backdropClick$=new fi.B,this._keydownEvent$=new fi.B}dispatchEvent(s){switch(s.type){case"click":this._backdropClick$.next(s);break;case"keydown":this._keydownEvent$.next(s);break;default:throw new Error("no such event type")}}}return(u=a).\u0275fac=function(s){return new(s||u)},u.\u0275prov=i.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),a})();const Bo=new i.nKC("TimeLocale",{providedIn:"root",factory:()=>ue.defaultLocale});let In=(()=>{var u;class a{get locale(){return this._locale}constructor(s){this._locale=s}updateLocale(s){this._locale=s||this._initialLocale}}return(u=a).\u0275fac=function(s){return new(s||u)(i.KVO(Bo))},u.\u0275prov=i.jDH({token:u,factory:u.\u0275fac,providedIn:"root"}),a})(),Yo=(()=>{var u;class a{set color(s){this._color=s}get color(){return this._color}get defaultTime(){return this._defaultTime}set defaultTime(s){this._defaultTime=s,this._setDefaultTime(s)}get _locale(){return this._timepickerLocaleSrv.locale}constructor(s,d,h,C){this._timepickerSrv=s,this._eventSrv=d,this._timepickerLocaleSrv=h,this.data=C,this.activeTimeUnit=Je.HOUR,this.timeUnit=Je,this._color="primary",this._subsCtrl$=new fi.B,this.color=C.color,this.defaultTime=C.defaultTime}changePeriod(s){this._timepickerSrv.period=s,this._onTimeChange()}changeTimeUnit(s){this.activeTimeUnit=s}close(){this.data.timepickerBaseRef.close()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._defineTime(),this.selectedHour=this._timepickerSrv.selectedHour.pipe((0,bi.t)({bufferSize:1,refCount:!0})),this.selectedMinute=this._timepickerSrv.selectedMinute.pipe((0,bi.t)({bufferSize:1,refCount:!0})),this.selectedPeriod=this._timepickerSrv.selectedPeriod.pipe((0,bi.t)({bufferSize:1,refCount:!0})),this.data.timepickerBaseRef.timeUpdated.pipe((0,ho.Q)(this._subsCtrl$)).subscribe({next:s=>{s&&this._setDefaultTime(s)}})}onHourChange(s){this._timepickerSrv.hour=s,this._onTimeChange()}onHourSelected(s){this.data.hoursOnly||this.changeTimeUnit(Je.MINUTE),this.data.timepickerBaseRef.hourSelected.next(s)}onKeydown(s){this._eventSrv.dispatchEvent(s),s.stopPropagation()}onMinuteChange(s){this._timepickerSrv.minute=s,this._onTimeChange()}setTime(){this.data.timepickerBaseRef.timeSet.emit(this._timepickerSrv.getFullTime(this.data.format)),this.close()}_defineTime(){const s=this.data.minTime;if(s&&!this.data.time&&!this.data.defaultTime){const d=ue.fromDateTimeToString(s,this.data.format);this._setDefaultTime(d)}}_onTimeChange(){const s=ue.toLocaleTimeString(this._timepickerSrv.getFullTime(this.data.format),{locale:this._locale,format:this.data.format});this.data.timepickerBaseRef.timeChanged.emit(s)}_setDefaultTime(s){this._timepickerSrv.setDefaultTimeIfAvailable(s,this.data.minTime,this.data.maxTime,this.data.format,this.data.minutesGap)}}return(u=a).\u0275fac=function(s){return new(s||u)(i.rXU(Ti),i.rXU(Co),i.rXU(In),i.rXU(xi))},u.\u0275dir=i.FsC({type:u,selectors:[["","ngxMatTimepickerBase",""]],hostBindings:function(s,d){1&s&&i.bIt("keydown",function(C){return d.onKeydown(C)})},inputs:{color:"color",defaultTime:"defaultTime"},standalone:!0}),a})();class je{static get DEFAULT_MINUTES_GAP(){return 5}static disableHours(a,_){return _.min||_.max?a.map(s=>{const d=ue.isTwentyFour(_.format)?s.time:ue.formatHour(s.time,_.format,_.period),h=vt.fromObject({hour:d}).toFormat(Sn.TWELVE);return{...s,disabled:!ue.isTimeAvailable(h,_.min,_.max,"hours")}}):a}static disableMinutes(a,_,s){if(s.min||s.max){const d=ue.formatHour(_,s.format,s.period);let h=vt.fromObject({hour:d,minute:0});return a.map(C=>(h=h.set({minute:C.time}),{...C,disabled:!ue.isTimeAvailable(h.toFormat(Sn.TWELVE),s.min,s.max,"minutes")}))}return a}static getHours(a){return Array(a).fill(1).map((_,s)=>{const h=_+s;return{time:24===h?0:h,angle:30*h}})}static getMinutes(a=1){const d=[];for(let h=0;h<60;h++){const C=6*h;h%a==0&&d.push({time:h,angle:0!==C?C:360})}return d}static isDigit(a){return!!([46,8,9,27,13].some(_=>_===a.keyCode)||65===a.keyCode&&(!0===a.ctrlKey||!0===a.metaKey)||67===a.keyCode&&(!0===a.ctrlKey||!0===a.metaKey)||88===a.keyCode&&(!0===a.ctrlKey||!0===a.metaKey)||a.keyCode>=35&&a.keyCode<=40)||!((a.keyCode<48||a.keyCode>57)&&(a.keyCode<96||a.keyCode>105))}}var Pn=function(u){return u.hour="hour",u.minute="minute",u}(Pn||{});let xo=(()=>{var u;class a{get _locale(){return this._timepickerLocaleSrv.locale}constructor(s){this._timepickerLocaleSrv=s}transform(s,d,h=!1){if(null==s||""===s)return"";switch(d){case Je.HOUR:return this._formatTime(Pn.hour,s,0===s||h?"HH":"H");case Je.MINUTE:return this._formatTime(Pn.minute,s,"mm");default:throw new Error(`There is no Time Unit with type ${d}`)}}_formatTime(s,d,h){try{return vt.fromObject({[s]:+d}).setLocale(this._locale).toFormat(h)}catch{throw new Error(`Cannot format provided time - ${d} to locale - ${this._locale}`)}}}return(u=a).\u0275fac=function(s){return new(s||u)(i.rXU(In,16))},u.\u0275pipe=i.EJ8({name:"timeLocalizer",type:u,pure:!0,standalone:!0}),a})(),la=(()=>{var u;class a{transform(s,d=je.DEFAULT_MINUTES_GAP){return s&&(s%d==0?s:"")}}return(u=a).\u0275fac=function(s){return new(s||u)},u.\u0275pipe=i.EJ8({name:"minutesFormatter",type:u,pure:!0,standalone:!0}),a})(),ca=(()=>{var u;class a{transform(s,d,h,C){return null!=s&&!C&&d===s&&s%(h||je.DEFAULT_MINUTES_GAP)==0}}return(u=a).\u0275fac=function(s){return new(s||u)},u.\u0275pipe=i.EJ8({name:"activeMinute",type:u,pure:!0,standalone:!0}),a})(),ma=(()=>{var u;class a{transform(s,d,h){return null!=s&&!h&&s===d}}return(u=a).\u0275fac=function(s){return new(s||u)},u.\u0275pipe=i.EJ8({name:"activeHour",type:u,pure:!0,standalone:!0}),a})();const $i_small_height="75px",$i_small_top="calc(50% - 75px)",$i_large_height="103px",$i_large_top="calc(50% - 103px)";let zi=(()=>{var u;class a{constructor(){this.color="primary",this.innerClockFaceSize=85,this.timeChange=new i.bkB,this.timeSelected=new i.bkB,this.timeUnit=Je}ngAfterViewInit(){this._setClockHandPosition(),this._addTouchEvents()}ngOnChanges(s){const d=s.faceTime,h=s.selectedTime;d&&d.currentValue&&h&&h.currentValue&&(this.selectedTime=this.faceTime.find(C=>C.time===this.selectedTime.time)),h&&h.currentValue&&this._setClockHandPosition(),d&&d.currentValue&&setTimeout(()=>this._selectAvailableTime())}ngOnDestroy(){this._removeTouchEvents()}onMousedown(s){s.preventDefault(),this._isStarted=!0}onMouseup(s){s.preventDefault(),this._isStarted=!1}selectTime(s){if(!this._isStarted&&s instanceof MouseEvent&&"click"!==s.type)return;const d=this.clockFace.nativeElement.getBoundingClientRect(),h=d.left+d.width/2,C=d.top+d.height/2,y=180*Math.atan(Math.abs(s.clientX-h)/Math.abs(s.clientY-C))/Math.PI,$=function da(u,a,_,s,d){return s>a&&_>=u?180-d:s>a&&_<u?180+d:s<a&&_<u?360-d:d}(h,C,s.clientX,s.clientY,y),Q=this.format&&this._isInnerClockFace(h,C,s.clientX,s.clientY),jt=(function _a(u,a){return Math.round(u/a)*a}($,this.unit===Je.MINUTE?6*(this.minutesGap||1):30)||360)+(Q?360:0),ht=this.faceTime.find(Vt=>Vt.angle===jt);ht&&!ht.disabled&&(this.timeChange.next(ht),this._isStarted||this.timeSelected.next(ht.time))}trackByTime(s,d){return d.time}_addTouchEvents(){this._touchStartHandler=this.onMousedown.bind(this),this._touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this._touchEndHandler)}_decreaseClockHand(){this.clockHand.nativeElement.style.height=$i_small_height,this.clockHand.nativeElement.style.top=$i_small_top}_increaseClockHand(){this.clockHand.nativeElement.style.height=$i_large_height,this.clockHand.nativeElement.style.top=$i_large_top}_isInnerClockFace(s,d,h,C){return Math.sqrt(Math.pow(h-s,2)+Math.pow(C-d,2))<this.innerClockFaceSize}_removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this._touchEndHandler)}_selectAvailableTime(){const s=this.faceTime.find(d=>this.selectedTime.time===d.time);if(this.isClockFaceDisabled=this.faceTime.every(d=>d.disabled),s&&s.disabled&&!this.isClockFaceDisabled){const d=this.faceTime.find(h=>!h.disabled);this.timeChange.next(d)}}_setClockHandPosition(){ue.isTwentyFour(this.format)&&(this.selectedTime.time>12||0===this.selectedTime.time?this._decreaseClockHand():this._increaseClockHand()),this.selectedTime&&(this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`)}}return(u=a).\u0275fac=function(s){return new(s||u)},u.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-face"]],viewQuery:function(s,d){if(1&s&&(i.GBs(ms,7),i.GBs(_s,7,i.aKT)),2&s){let h;i.mGM(h=i.lsd())&&(d.clockFace=h.first),i.mGM(h=i.lsd())&&(d.clockHand=h.first)}},hostBindings:function(s,d){1&s&&i.bIt("mousedown",function(C){return d.onMousedown(C)})("mouseup",function(C){return d.onMouseup(C)})("click",function(C){return d.selectTime(C)})("touchmove",function(C){return d.selectTime(C.changedTouches[0])})("touchend",function(C){return d.selectTime(C.changedTouches[0])})("mousemove",function(C){return d.selectTime(C)})},inputs:{color:"color",dottedMinutesInGap:"dottedMinutesInGap",faceTime:"faceTime",format:"format",minutesGap:"minutesGap",selectedTime:"selectedTime",unit:"unit"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},standalone:!0,features:[i.OA$,i.aNF],ngContentSelectors:Ao,decls:11,vars:9,consts:[["hourButton",""],["minutesFace",""],["clockFace",""],["clockHand",""],["current",""],[1,"clock-face"],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"color","ngClass","hidden"],["mat-mini-fab","",3,"color",4,"ngIf"],[1,"clock-face__center",3,"color"],["mat-mini-fab","","disableRipple","",1,"mat-elevation-z0",3,"color","ngStyle","disabled"],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],["type","hidden",3,"value"],["class","clock-face__inner",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"top","ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"],["mat-mini-fab","",3,"color"],[1,"clock-face__clock-hand_minute_dot"]],template:function(s,d){if(1&s&&(i.NAR(Ao),i.DNE(0,us,4,13,"ng-template",null,0,i.C5r)(2,gs,2,2,"ng-template",null,1,i.C5r),i.j41(4,"div",5,2),i.DNE(6,Cs,4,7,"div",6),i.j41(7,"mat-toolbar",7,3),i.DNE(9,xs,2,1,"button",8),i.k0s(),i.nrm(10,"mat-toolbar",9),i.k0s()),2&s){const h=i.sdS(3);i.R7$(6),i.Y8G("ngIf",d.unit!==d.timeUnit.MINUTE)("ngIfElse",h),i.R7$(),i.Y8G("color",d.color)("ngClass",i.eq3(7,ds,d.unit===d.timeUnit.MINUTE))("hidden",d.isClockFaceDisabled),i.R7$(2),i.Y8G("ngIf",d.unit===d.timeUnit.MINUTE),i.R7$(),i.Y8G("color",d.color)}},dependencies:[Cn.Hl,Cn.$0,ie.B3,ie.pM,ie.bT,ie.T3,Jn.s5,Jn.KQ,ie.YU,ie.P9,ma,ca,la,xo],styles:['ngx-mat-timepicker-face [mat-mini-fab].mat-unthemed{--mdc-fab-small-container-color: transparent;--mat-fab-small-disabled-state-container-color: transparent;--mat-fab-hover-state-layer-opacity: 0;box-shadow:none}ngx-mat-timepicker-face [mat-mini-fab].mat-unthemed .mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face [mat-mini-fab].mat-unthemed.dot{position:relative}ngx-mat-timepicker-face [mat-mini-fab].mat-unthemed.dot:after{content:" ";background-color:#777;width:3px;height:3px;border-radius:50%;left:50%;top:50%;position:absolute;transform:translate(-50%,-50%)}ngx-mat-timepicker-face .clock-face{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;box-sizing:border-box;background-color:#c8c8c880!important}ngx-mat-timepicker-face .clock-face__inner{position:absolute;top:0;left:0;width:100%;height:100%}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void{box-shadow:none;background-color:transparent}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void>span.mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face .clock-face__container{margin-left:-2px}ngx-mat-timepicker-face .clock-face__number{position:absolute;transform-origin:25px 100%;width:50px;text-align:center;z-index:2;top:calc(50% - 125px);left:calc(50% - 25px)}ngx-mat-timepicker-face .clock-face__number--outer{height:125px}ngx-mat-timepicker-face .clock-face__number--outer>span{font-size:16px}ngx-mat-timepicker-face .clock-face__number--inner>span{font-size:14px}ngx-mat-timepicker-face .clock-face__clock-hand{height:103px;width:2px;padding:0;transform-origin:1px 100%;position:absolute;top:calc(50% - 103px);z-index:1}ngx-mat-timepicker-face .clock-face__center{width:8px;height:8px;padding:0;position:absolute;border-radius:50%;top:50%;left:50%;margin:-4px}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button{position:absolute;top:-22px;left:calc(50% - 20px);box-sizing:content-box;display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button .clock-face__clock-hand_minute_dot{display:block;width:4px;height:4px;background:#fff;border-radius:50%}@media (max-device-width: 1023px) and (orientation: landscape){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}@media screen and (max-width: 360px){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}\n'],encapsulation:2,changeDetection:0}),a})(),To=(()=>{var u;class a{set color(s){this._color=s}get color(){return this._color}constructor(){this.minuteChange=new i.bkB,this.minutesList=[],this.timeUnit=Je,this._color="primary"}ngOnChanges(s){if(s.period&&s.period.currentValue){const d=je.getMinutes(this.minutesGap);this.minutesList=je.disableMinutes(d,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}}return(u=a).\u0275fac=function(s){return new(s||u)},u.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-minutes-face"]],inputs:{color:"color",dottedMinutesInGap:"dottedMinutesInGap",format:"format",maxTime:"maxTime",minTime:"minTime",minutesGap:"minutesGap",period:"period",selectedHour:"selectedHour",selectedMinute:"selectedMinute"},outputs:{minuteChange:"minuteChange"},standalone:!0,features:[i.OA$,i.aNF],decls:1,vars:6,consts:[[3,"timeChange","color","dottedMinutesInGap","faceTime","selectedTime","minutesGap","unit"]],template:function(s,d){1&s&&(i.j41(0,"ngx-mat-timepicker-face",0),i.bIt("timeChange",function(C){return d.minuteChange.next(C)}),i.k0s()),2&s&&i.Y8G("color",d.color)("dottedMinutesInGap",d.dottedMinutesInGap)("faceTime",d.minutesList)("selectedTime",d.selectedMinute)("minutesGap",d.minutesGap)("unit",d.timeUnit.MINUTE)},dependencies:[zi],encapsulation:2}),a})(),Vo=(()=>{var u;class a{set color(s){this._color=s}get color(){return this._color}set format(s){this._format=s,this.hoursList=je.getHours(this._format)}get format(){return this._format}constructor(){this.hourChange=new i.bkB,this.hourSelected=new i.bkB,this.hoursList=[],this._color="primary",this._format=24}onTimeSelected(s){this.hourSelected.next(s)}}return(u=a).\u0275fac=function(s){return new(s||u)},u.\u0275dir=i.FsC({type:u,selectors:[["","ngxMatTimepickerHoursFace",""]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",selectedHour:"selectedHour"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"},standalone:!0}),a})(),So=(()=>{var u;class a extends Vo{constructor(){super(),this.format=12}ngOnChanges(s){s.period&&s.period.currentValue&&(this.hoursList=je.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}}return(u=a).\u0275fac=function(s){return new(s||u)},u.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-12-hours-face"]],inputs:{period:"period"},standalone:!0,features:[i.Vt3,i.OA$,i.aNF],decls:1,vars:3,consts:[[3,"timeChange","timeSelected","color","selectedTime","faceTime"]],template:function(s,d){1&s&&(i.j41(0,"ngx-mat-timepicker-face",0),i.bIt("timeChange",function(C){return d.hourChange.next(C)})("timeSelected",function(C){return d.onTimeSelected(C)}),i.k0s()),2&s&&i.Y8G("color",d.color)("selectedTime",d.selectedHour)("faceTime",d.hoursList)},dependencies:[zi],encapsulation:2,changeDetection:0}),a})(),Io=(()=>{var u;class a extends Vo{constructor(){super(),this.format=24}ngAfterContentInit(){this.hoursList=je.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}}return(u=a).\u0275fac=function(s){return new(s||u)},u.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-24-hours-face"]],standalone:!0,features:[i.Vt3,i.aNF],decls:1,vars:4,consts:[[3,"timeChange","timeSelected","color","selectedTime","faceTime","format"]],template:function(s,d){1&s&&(i.j41(0,"ngx-mat-timepicker-face",0),i.bIt("timeChange",function(C){return d.hourChange.next(C)})("timeSelected",function(C){return d.onTimeSelected(C)}),i.k0s()),2&s&&i.Y8G("color",d.color)("selectedTime",d.selectedHour)("faceTime",d.hoursList)("format",d.format)},dependencies:[zi],encapsulation:2,changeDetection:0}),a})(),ua=(()=>{var u;class a{constructor(s){this._overlay=s,this.isPeriodAvailable=!0,this.overlayScrollStrategy=this._overlay.scrollStrategies.reposition(),this.periodChanged=new i.bkB,this.timePeriod=Le}animationDone(){this.isPeriodAvailable=!0}changePeriod(s){this.isPeriodAvailable=this._isSwitchPeriodAvailable(s),this.isPeriodAvailable&&this.periodChanged.next(s)}_getDisabledTimeByPeriod(s){switch(this.activeTimeUnit){case Je.HOUR:return je.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:s});case Je.MINUTE:return je.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:s});default:throw new Error("no such NgxMatTimepickerUnits")}}_isSwitchPeriodAvailable(s){return!this._getDisabledTimeByPeriod(s).every(h=>h.disabled)}}return(u=a).\u0275fac=function(s){return new(s||u)(i.rXU(n.hJ))},u.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-period"]],inputs:{activeTimeUnit:"activeTimeUnit",format:"format",hours:"hours",maxTime:"maxTime",meridiems:"meridiems",minTime:"minTime",minutes:"minutes",selectedHour:"selectedHour",selectedPeriod:"selectedPeriod"},outputs:{periodChanged:"periodChanged"},standalone:!0,features:[i.aNF],decls:7,vars:12,consts:[["eventPanelOrigin","cdkOverlayOrigin"],["cdkOverlayOrigin","",1,"timepicker-period"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"click","ngClass"],["cdkConnectedOverlay","","cdkConnectedOverlayPanelClass","todo-remove-pointer-events-if-necessary",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayPositionStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(s,d){if(1&s){const h=i.RV6();i.j41(0,"div",1,0)(2,"button",2),i.bIt("click",function(){return i.eBV(h),i.Njj(d.changePeriod(d.timePeriod.AM))}),i.EFF(3),i.k0s(),i.j41(4,"button",2),i.bIt("click",function(){return i.eBV(h),i.Njj(d.changePeriod(d.timePeriod.PM))}),i.EFF(5),i.k0s()(),i.DNE(6,Ss,1,1,"ng-template",3)}if(2&s){const h=i.sdS(1);i.R7$(2),i.Y8G("ngClass",i.eq3(8,Ci,d.selectedPeriod===d.timePeriod.AM)),i.R7$(),i.JRh(d.meridiems[0]),i.R7$(),i.Y8G("ngClass",i.eq3(10,Ci,d.selectedPeriod===d.timePeriod.PM)),i.R7$(),i.JRh(d.meridiems[1]),i.R7$(),i.Y8G("cdkConnectedOverlayScrollStrategy",d.overlayScrollStrategy)("cdkConnectedOverlayPositionStrategy",d.overlayPositionStrategy)("cdkConnectedOverlayOrigin",h)("cdkConnectedOverlayOpen",!d.isPeriodAvailable)}},dependencies:[n.$Q,ie.YU,n.WB,ie.bT],styles:[".timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{opacity:.5;padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;user-select:none;outline:none;border-radius:3px;transition:background-color .5s;color:inherit}.timepicker-period__btn.active[_ngcontent-%COMP%]{opacity:1}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:#00000012}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:#0000008c;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:700;color:#fff}"],data:{animation:[(0,xn.hZ)("scaleInOut",[(0,xn.kY)(":enter",[(0,xn.iF)({transform:"scale(0)"}),(0,xn.i0)(".2s",(0,xn.iF)({transform:"scale(1)"})),(0,xn.K2)([(0,xn.i0)("3s",(0,xn.iF)({opacity:1})),(0,xn.i0)(".3s",(0,xn.iF)({opacity:0}))])])])]}}),a})(),mi=(()=>{var u;class a{get _locale(){return this._timepickerLocaleSrv.locale}constructor(s){this._timepickerLocaleSrv=s,this._numberingSystem=vt.local().setLocale(this._locale).resolvedLocaleOptions().numberingSystem}transform(s,d=Je.HOUR){return null==s||""===s?"":isNaN(+s)?d===Je.MINUTE?this._parseTime(s,"mm",Pn.minute).toString():this._parseTime(s,"HH",Pn.hour).toString():`${s}`}_parseTime(s,d,h){const C=vt.fromFormat(String(s),d,{numberingSystem:this._numberingSystem})[h];if(!isNaN(C))return C;throw new Error(`Cannot parse time - ${s}`)}}return(u=a).\u0275fac=function(s){return new(s||u)(i.rXU(In,16))},u.\u0275pipe=i.EJ8({name:"ngxMatTimepickerParser",type:u,pure:!0,standalone:!0}),u.\u0275prov=i.jDH({token:u,factory:u.\u0275fac}),a})(),pa=(()=>{var u;class a{constructor(s,d){this._element=s,this._document=d,this._activeElement=this._document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this._element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this._activeElement.focus({preventScroll:!0}))}}return(u=a).\u0275fac=function(s){return new(s||u)(i.rXU(i.aKT),i.rXU(ie.qQ,8))},u.\u0275dir=i.FsC({type:u,selectors:[["","ngxMatTimepickerAutofocus",""]],inputs:{isFocusActive:[0,"ngxMatTimepickerAutofocus","isFocusActive"]},standalone:!0,features:[i.OA$]}),a})();function Uo(){this.selectionStart=this.selectionEnd}let Xo=(()=>{var u;class a{get _selectedTime(){if(this.time)return this.timeList.find(s=>s.time===+this.time)}constructor(s,d){this._elRef=s,this._timeParserPipe=d,this.focused=new i.bkB,this.timeChanged=new i.bkB,this.timeUnitChanged=new i.bkB,this.unfocused=new i.bkB}changeTimeByKeyboard(s){const d=String.fromCharCode(s.keyCode);(function ga(u,a,_){if(/\d/.test(a))return Dn(u+a,_)})(this.time,d,this.timeList)&&s.preventDefault()}ngAfterViewInit(){this._elRef.nativeElement.querySelector("input").addEventListener("select",Uo,!1)}ngOnDestroy(){this._elRef.nativeElement.querySelector("input").removeEventListener("select",Uo)}onKeydown(s){je.isDigit(s)?this._changeTimeByArrow(s.keyCode):s.preventDefault()}onModelChange(s){this.time=this._timeParserPipe.transform(s,this.timeUnit)}saveTimeAndChangeTimeUnit(s,d){s.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(d),this.focused.next()}updateTime(){this._selectedTime&&(this.timeChanged.next(this._selectedTime),this.previousTime=this._selectedTime.time)}_addTime(s){return`0${+this.time+s}`.substr(-2)}_changeTimeByArrow(s){let d;38===s?d=this._addTime(this.minutesGap||1):40===s&&(d=this._addTime(-1*(this.minutesGap||1))),Dn(d,this.timeList)||(this.time=d,this.updateTime())}}return(u=a).\u0275fac=function(s){return new(s||u)(i.rXU(i.aKT),i.rXU(mi))},u.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-dial-control"]],inputs:{disabled:"disabled",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{focused:"focused",timeChanged:"timeChanged",timeUnitChanged:"timeUnitChanged",unfocused:"unfocused"},standalone:!0,features:[i.Jv_([mi]),i.aNF],decls:3,vars:2,consts:[["editableTemplate",""],["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngModelChange","input","focus","ngClass","ngModel","disabled","ngxMatTimepickerAutofocus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngModelChange","input","focus","keydown","keypress","ngClass","ngModel","disabled","ngxMatTimepickerAutofocus"]],template:function(s,d){if(1&s&&i.DNE(0,Is,2,10,"input",1)(1,js,3,13,"ng-template",null,0,i.C5r),2&s){const h=i.sdS(2);i.Y8G("ngIf",!d.isEditable)("ngIfElse",h)}},dependencies:[ie.bT,We.YN,We.me,We.BC,We.vS,ie.YU,pa,mi,xo],styles:[".timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:center;color:inherit}.timepicker-dial__control[_ngcontent-%COMP%]:focus{outline:none;background-color:#0000001a}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]}),a})();function Dn(u,a){const _=a.find(s=>s.time===+u);return!_||_&&_.disabled}let jo,_i=(()=>{var u;class a{set color(s){this._color=s}get color(){return this._color}get hourString(){return`${this.hour}`}get minuteString(){return`${this.minute}`}get _locale(){return this._localeSrv.locale}constructor(s){this._localeSrv=s,this.hourChanged=new i.bkB,this.meridiems=D.meridiems({locale:this._locale}),this.minuteChanged=new i.bkB,this.periodChanged=new i.bkB,this.timeUnit=Je,this.timeUnitChanged=new i.bkB,this._color="primary"}changeHour(s){this.hourChanged.next(s)}changeMinute(s){this.minuteChanged.next(s)}changePeriod(s){this.periodChanged.next(s)}changeTimeUnit(s){this.timeUnitChanged.next(s)}hideHint(){this.isHintVisible=!1}ngOnChanges(s){const d=s.period&&s.period.currentValue;if(d||s.format&&s.format.currentValue){const h=je.getHours(this.format);this.hours=je.disableHours(h,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(d||s.hour&&s.hour.currentValue){const h=je.getMinutes(this.minutesGap);this.minutes=je.disableMinutes(h,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}showHint(){this.isHintVisible=!0}}return(u=a).\u0275fac=function(s){return new(s||u)(i.rXU(In))},u.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-dial"]],inputs:{activeTimeUnit:"activeTimeUnit",color:"color",editableHintTmpl:"editableHintTmpl",format:"format",hour:"hour",hoursOnly:"hoursOnly",isEditable:"isEditable",maxTime:"maxTime",minTime:"minTime",minute:"minute",minutesGap:"minutesGap",period:"period"},outputs:{hourChanged:"hourChanged",minuteChanged:"minuteChanged",periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged"},standalone:!0,features:[i.OA$,i.aNF],decls:9,vars:14,consts:[["editableHintDefault",""],[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeUnitChanged","timeChanged","focused","unfocused","timeList","time","timeUnit","isActive","isEditable"],[3,"timeUnitChanged","timeChanged","focused","unfocused","timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled"],["class","timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"timepicker-dial__period",3,"periodChanged","selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems"],[3,"ngClass"],[4,"ngTemplateOutlet"],[1,"timepicker-dial__hint"]],template:function(s,d){1&s&&(i.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"ngx-mat-timepicker-dial-control",4),i.bIt("timeUnitChanged",function(C){return d.changeTimeUnit(C)})("timeChanged",function(C){return d.changeHour(C)})("focused",function(){return d.showHint()})("unfocused",function(){return d.hideHint()}),i.k0s(),i.j41(4,"span"),i.EFF(5,":"),i.k0s(),i.j41(6,"ngx-mat-timepicker-dial-control",5),i.bIt("timeUnitChanged",function(C){return d.changeTimeUnit(C)})("timeChanged",function(C){return d.changeMinute(C)})("focused",function(){return d.showHint()})("unfocused",function(){return d.hideHint()}),i.k0s()(),i.DNE(7,Os,1,9,"ngx-mat-timepicker-period",6),i.k0s(),i.DNE(8,Rs,4,4,"div",7),i.k0s()),2&s&&(i.R7$(3),i.Y8G("timeList",d.hours)("time",d.hourString)("timeUnit",d.timeUnit.HOUR)("isActive",d.activeTimeUnit===d.timeUnit.HOUR)("isEditable",d.isEditable),i.R7$(3),i.Y8G("timeList",d.minutes)("time",d.minuteString)("timeUnit",d.timeUnit.MINUTE)("isActive",d.activeTimeUnit===d.timeUnit.MINUTE)("isEditable",d.isEditable)("minutesGap",d.minutesGap)("disabled",d.hoursOnly),i.R7$(),i.Y8G("ngIf",24!==d.format),i.R7$(),i.Y8G("ngIf",d.isEditable||d.editableHintTmpl))},dependencies:[Xo,ie.bT,ua,ie.YU,ie.T3],styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:center}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),a})(),Wo=(()=>{var u;class a{}return(u=a).\u0275fac=function(s){return new(s||u)},u.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},standalone:!0,features:[i.aNF],ngContentSelectors:Ms,decls:5,vars:2,consts:[["timepickerModal",""],["timepickerOutlet",""],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"]],template:function(s,d){if(1&s&&(i.NAR(),i.DNE(0,Ds,2,1,"div",2)(1,Ns,1,1,"ng-template",null,0,i.C5r)(3,$s,1,0,"ng-template",null,1,i.C5r)),2&s){const h=i.sdS(2);i.Y8G("ngIf",d.appendToInput)("ngIfElse",h)}},dependencies:[ie.bT,ie.T3],encapsulation:2}),a})(),Jo=(()=>{var u;class a extends Yo{constructor(s,d,h,C,y){super(h,C,y,s),this.data=s,this._dialogRef=d}close(){this._dialogRef.close()}}return(u=a).\u0275fac=function(s){return new(s||u)(i.rXU(Wn.Vh),i.rXU(Wn.CP),i.rXU(Ti),i.rXU(Co),i.rXU(In))},u.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-dialog"]],standalone:!0,features:[i.Vt3,i.aNF],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["ampmHours",""],["mat-dialog-content",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"periodChanged","timeUnitChanged","hourChanged","minuteChanged","color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","dottedMinutesInGap","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],["mat-dialog-actions",""],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],[3,"hourChange","hourSelected","color","selectedHour","minTime","maxTime","format"],[3,"hourChange","hourSelected","color","selectedHour","period","minTime","maxTime"],[3,"minuteChange","color","dottedMinutesInGap","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap"]],template:function(s,d){if(1&s){const h=i.RV6();i.DNE(0,zs,2,1,"ng-template",null,0,i.C5r)(2,Ps,2,1,"ng-template",null,1,i.C5r),i.j41(4,"div",3)(5,"ngx-mat-timepicker-content",4)(6,"div",5)(7,"mat-toolbar",6)(8,"ngx-mat-timepicker-dial",7),i.nI1(9,"async"),i.nI1(10,"async"),i.nI1(11,"async"),i.bIt("periodChanged",function(y){return i.eBV(h),i.Njj(d.changePeriod(y))})("timeUnitChanged",function(y){return i.eBV(h),i.Njj(d.changeTimeUnit(y))})("hourChanged",function(y){return i.eBV(h),i.Njj(d.onHourChange(y))})("minuteChanged",function(y){return i.eBV(h),i.Njj(d.onMinuteChange(y))}),i.k0s()(),i.j41(12,"div",8)(13,"div",9),i.DNE(14,Tn,4,2,"div",10)(15,Fn,4,15,"ngx-mat-timepicker-minutes-face",11),i.k0s()()()()(),i.j41(16,"div",12)(17,"div",13),i.bIt("click",function(){return i.eBV(h),i.Njj(d.close())}),i.DNE(18,Ls,1,0,"ng-container",14),i.k0s(),i.j41(19,"div",13),i.bIt("click",function(){return i.eBV(h),i.Njj(d.setTime())}),i.DNE(20,Bs,1,0,"ng-container",14),i.k0s()()}if(2&s){let h,C;const y=i.sdS(1),$=i.sdS(3);i.R7$(5),i.Y8G("appendToInput",d.data.appendToInput)("inputElement",d.data.inputElement),i.R7$(),i.Y8G("ngClass",d.data.timepickerClass),i.R7$(),i.AVh("is-editable",d.data.enableKeyboardInput),i.Y8G("color",d.color),i.R7$(),i.Y8G("color",d.color)("format",d.data.format)("hour",null==(h=i.bMT(9,23,d.selectedHour))?null:h.time)("minute",null==(C=i.bMT(10,25,d.selectedMinute))?null:C.time)("period",i.bMT(11,27,d.selectedPeriod))("activeTimeUnit",d.activeTimeUnit)("minTime",d.data.minTime)("maxTime",d.data.maxTime)("isEditable",d.data.enableKeyboardInput)("editableHintTmpl",d.data.editableHintTmpl)("minutesGap",d.data.minutesGap)("hoursOnly",d.data.hoursOnly),i.R7$(5),i.Y8G("ngSwitch",d.activeTimeUnit),i.R7$(),i.Y8G("ngSwitchCase",d.timeUnit.HOUR),i.R7$(),i.Y8G("ngSwitchCase",d.timeUnit.MINUTE),i.R7$(3),i.Y8G("ngTemplateOutlet",d.data.cancelBtnTmpl?d.data.cancelBtnTmpl:y),i.R7$(2),i.Y8G("ngTemplateOutlet",d.data.confirmBtnTmpl?d.data.confirmBtnTmpl:$)}},dependencies:[ie.Jj,ie.YU,ie.bT,ie.ux,ie.e1,ie.T3,Cn.Hl,Cn.$z,Wn.hM,Wn.E7,Wn.Yi,Jn.s5,Jn.KQ,Wo,_i,Io,So,To],styles:["div.ngx-mat-timepicker-dialog>mat-dialog-container{padding-top:0}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content]{padding:0;max-height:85vh}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header.is-editable{height:auto}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] .clock-face{margin:16px}div.ngx-mat-timepicker-dialog>mat-dialog-container div[mat-dialog-actions]{justify-content:flex-end;display:flex}\n"],encapsulation:2}),a})(),Ho=(()=>{var u;class a extends Yo{constructor(s,d,h,C){super(d,h,C,s),this.data=s}close(){this.data.timepickerBaseRef.close()}}return(u=a).\u0275fac=function(s){return new(s||u)(i.rXU(xi),i.rXU(Ti),i.rXU(Co),i.rXU(In))},u.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-standalone"]],hostVars:2,hostBindings:function(s,d){2&s&&i.AVh("mat-app-background",!0)},standalone:!0,features:[i.Vt3,i.aNF],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["ampmHours",""],["cdkTrapFocus",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"periodChanged","timeUnitChanged","hourChanged","minuteChanged","color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"dottedMinutesInGap","color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"ngx-mat-timepicker-standalone-actions"],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],[3,"hourChange","hourSelected","color","selectedHour","minTime","maxTime","format"],[3,"hourChange","hourSelected","color","selectedHour","period","minTime","maxTime"],[3,"minuteChange","dottedMinutesInGap","color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap"]],template:function(s,d){if(1&s){const h=i.RV6();i.DNE(0,Ys,2,1,"ng-template",null,0,i.C5r)(2,Vs,2,1,"ng-template",null,1,i.C5r),i.j41(4,"div",3)(5,"ngx-mat-timepicker-content",4)(6,"div",5)(7,"mat-toolbar",6)(8,"ngx-mat-timepicker-dial",7),i.nI1(9,"async"),i.nI1(10,"async"),i.nI1(11,"async"),i.bIt("periodChanged",function(y){return i.eBV(h),i.Njj(d.changePeriod(y))})("timeUnitChanged",function(y){return i.eBV(h),i.Njj(d.changeTimeUnit(y))})("hourChanged",function(y){return i.eBV(h),i.Njj(d.onHourChange(y))})("minuteChanged",function(y){return i.eBV(h),i.Njj(d.onMinuteChange(y))}),i.k0s()(),i.j41(12,"div",8)(13,"div",9),i.DNE(14,Ws,4,2,"div",10)(15,Js,4,15,"ngx-mat-timepicker-minutes-face",11),i.k0s()()()(),i.j41(16,"div",12)(17,"div",13),i.bIt("click",function(){return i.eBV(h),i.Njj(d.close())}),i.DNE(18,Hs,1,0,"ng-container",14),i.k0s(),i.j41(19,"div",13),i.bIt("click",function(){return i.eBV(h),i.Njj(d.setTime())}),i.DNE(20,Ks,1,0,"ng-container",14),i.k0s()()()}if(2&s){let h,C;const y=i.sdS(1),$=i.sdS(3);i.R7$(5),i.Y8G("appendToInput",d.data.appendToInput)("inputElement",d.data.inputElement),i.R7$(),i.Y8G("ngClass",d.data.timepickerClass),i.R7$(),i.AVh("is-editable",d.data.enableKeyboardInput),i.Y8G("color",d.color),i.R7$(),i.Y8G("color",d.color)("format",d.data.format)("hour",null==(h=i.bMT(9,23,d.selectedHour))?null:h.time)("minute",null==(C=i.bMT(10,25,d.selectedMinute))?null:C.time)("period",i.bMT(11,27,d.selectedPeriod))("activeTimeUnit",d.activeTimeUnit)("minTime",d.data.minTime)("maxTime",d.data.maxTime)("isEditable",d.data.enableKeyboardInput)("editableHintTmpl",d.data.editableHintTmpl)("minutesGap",d.data.minutesGap)("hoursOnly",d.data.hoursOnly),i.R7$(5),i.Y8G("ngSwitch",d.activeTimeUnit),i.R7$(),i.Y8G("ngSwitchCase",d.timeUnit.HOUR),i.R7$(),i.Y8G("ngSwitchCase",d.timeUnit.MINUTE),i.R7$(3),i.Y8G("ngTemplateOutlet",d.data.cancelBtnTmpl?d.data.cancelBtnTmpl:y),i.R7$(2),i.Y8G("ngTemplateOutlet",d.data.confirmBtnTmpl?d.data.confirmBtnTmpl:$)}},dependencies:[Cn.Hl,Cn.$z,fo.Pd,fo.kB,Wo,ie.YU,Jn.s5,Jn.KQ,_i,ie.ux,ie.e1,ie.bT,Io,So,To,ie.T3,ie.Jj],styles:["ngx-mat-timepicker-standalone{display:block;border-radius:4px;box-shadow:0 0 5px 2px #00000040;overflow:hidden}ngx-mat-timepicker-standalone ngx-mat-timepicker-content{display:block}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header.is-editable{height:auto}ngx-mat-timepicker-standalone ngx-mat-timepicker-content .clock-face{margin:16px}ngx-mat-timepicker-standalone .ngx-mat-timepicker-standalone-actions{display:flex;flex-direction:row;justify-content:flex-end;padding:0 16px 16px}\n"],encapsulation:2}),a})(),ha=(()=>{var u;class a{}return(u=a).\u0275fac=function(s){return new(s||u)},u.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-provider"]],standalone:!0,features:[i.Jv_([{provide:xi,useFactory:()=>jo}]),i.aNF],decls:1,vars:0,template:function(s,d){1&s&&i.nrm(0,"ngx-mat-timepicker-standalone")},dependencies:[Ho],encapsulation:2}),a})(),yo=(()=>{var u;class a{set appendToInput(s){this._appendToInput=(0,w.he)(s)}set color(s){this._color=s}get color(){return this._color}get disabled(){return this._timepickerInput&&this._timepickerInput.disabled}set dottedMinutesInGap(s){this._dottedMinutesInGap=(0,w.he)(s)}get dottedMinutesInGap(){return this._dottedMinutesInGap}set enableKeyboardInput(s){this._enableKeyboardInput=(0,w.he)(s)}get enableKeyboardInput(){return this._enableKeyboardInput}get format(){return this._timepickerInput?this._timepickerInput.format:this._format}set format(s){this._format=ue.isTwentyFour(s)?24:12}get inputElement(){return this._timepickerInput&&this._timepickerInput.element}get maxTime(){return this._timepickerInput?this._timepickerInput.max:this.max}get minTime(){return this._timepickerInput?this._timepickerInput.min:this.min}get minutesGap(){return this._minutesGap}set minutesGap(s){null!=s&&(s=Math.floor(s),this._minutesGap=s<=59?s:1)}get overlayOrigin(){return this._timepickerInput?this._timepickerInput.cdkOverlayOrigin:void 0}get time(){return this._timepickerInput&&this._timepickerInput.value}constructor(s){this._dialog=s,this.closed=new i.bkB,this.hourSelected=new i.bkB,this.hoursOnly=!1,this.id="ngx_mat_timepicker_"+ ++a.nextId,this.isEsc=!0,this.opened=new i.bkB,this.overlayPositions=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:0},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:0}],this.showPicker=!1,this.timeChanged=new i.bkB,this.timeSet=new i.bkB,this.timeUpdated=new ci.t(void 0),this._appendToInput=!1,this._color="primary",this._dottedMinutesInGap=!1,this._enableKeyboardInput=!1,this._format=12}close(){this._appendToInput?this._overlayRef&&this._overlayRef.dispose():this._dialogRef&&this._dialogRef.close(),this.inputElement.focus(),this.showPicker=!1,this.closed.emit()}open(){jo={timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,dottedMinutesInGap:this._dottedMinutesInGap,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this._appendToInput,hoursOnly:this.hoursOnly,timepickerClass:this.timepickerClass,inputElement:this.inputElement,color:this.color},this._appendToInput?this.showPicker=!0:(this._dialogRef=this._dialog.open(Jo,{panelClass:"ngx-mat-timepicker-dialog",data:{...jo}}),this._dialogRef.afterClosed().subscribe(()=>{this.closed.emit()})),this.opened.emit()}registerInput(s){if(this._timepickerInput)throw console.warn("Input for this timepicker was already set",s.element),Error("A Timepicker can only be associated with a single input.");this._timepickerInput=s}unregisterInput(){this._timepickerInput=void 0}updateTime(s){this.timeUpdated.next(s)}}return(u=a).nextId=0,u.\u0275fac=function(s){return new(s||u)(i.rXU(Wn.bZ))},u.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker"]],hostVars:1,hostBindings:function(s,d){2&s&&i.Mr5("id",d.id)},inputs:{appendToInput:"appendToInput",color:"color",dottedMinutesInGap:"dottedMinutesInGap",enableKeyboardInput:"enableKeyboardInput",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",defaultTime:"defaultTime",disableAnimation:"disableAnimation",editableHintTmpl:"editableHintTmpl",hoursOnly:"hoursOnly",isEsc:"isEsc",max:"max",min:"min",preventOverlayClick:"preventOverlayClick",timepickerClass:"timepickerClass"},outputs:{closed:"closed",hourSelected:"hourSelected",opened:"opened",timeChanged:"timeChanged",timeSet:"timeSet"},standalone:!0,features:[i.aNF],decls:1,vars:4,consts:[["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"]],template:function(s,d){1&s&&(i.DNE(0,Qs,1,0,"ng-template",0),i.bIt("backdropClick",function(){return d.close()})),2&s&&i.Y8G("cdkConnectedOverlayPositions",d.overlayPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayOrigin",d.overlayOrigin)("cdkConnectedOverlayOpen",d.showPicker)},dependencies:[n.WB,ha],encapsulation:2}),a})(),Ko=(()=>{var u;class a{}return(u=a).\u0275fac=function(s){return new(s||u)},u.\u0275dir=i.FsC({type:u,selectors:[["","ngxMatTimepickerToggleIcon",""]],standalone:!0}),a})(),Qo=(()=>{var u;class a{get disabled(){return void 0===this._disabled?this.timepicker?.disabled:this._disabled}set disabled(s){this._disabled=s}open(s){this.timepicker&&(this.timepicker.open(),s.stopPropagation())}}return(u=a).\u0275fac=function(s){return new(s||u)},u.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-toggle"]],contentQueries:function(s,d,h){if(1&s&&i.wni(h,Ko,7),2&s){let C;i.mGM(C=i.lsd())&&(d.customIcon=C.first)}},inputs:{disabled:"disabled",timepicker:[0,"for","timepicker"]},standalone:!0,features:[i.aNF],ngContentSelectors:qs,decls:3,vars:2,consts:[["color","","mat-icon-button","","type","button",1,"ngx-mat-timepicker-toggle","mat-elevation-z0",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","class","ngx-mat-timepicker-toggle-default-icon","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",1,"ngx-mat-timepicker-toggle-default-icon"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(s,d){1&s&&(i.NAR(Zs),i.j41(0,"button",0),i.bIt("click",function(C){return d.open(C)}),i.DNE(1,ta,2,0,"svg",1),i.SdG(2),i.k0s()),2&s&&(i.Y8G("disabled",d.disabled),i.R7$(),i.Y8G("ngIf",!d.customIcon))},dependencies:[Cn.Hl,Cn.iY,ie.bT],styles:["button.ngx-mat-timepicker-toggle{background-color:transparent;text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer;box-shadow:none}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{margin:auto}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}body .ngx-mat-timepicker-toggle{color:#0000008a}\n"],encapsulation:2}),a})(),Zo=(()=>{var u;class a{set color(s){this._color=s}get color(){return this._color}set floatLabel(s){this._floatLabel=s}get floatLabel(){return this._floatLabel}constructor(s){this._timeParser=s,this.id=a.nextId++,this.timeChanged=new i.bkB,this._color="primary",this._floatLabel="auto"}changeTime(s){s.stopPropagation();const d=s.data,h=function fa(u,a){if(/\d/.test(a))return+(u+a)}(String(this.time),d);this._changeTimeIfValid(h)}decrease(){if(!this.disabled){let s=+this.time-1;s<this.min&&(s=this.max),this._isSelectedTimeDisabled(s)&&(s=this._getAvailableTime(s,this._getPrevAvailableTime.bind(this))),s!==this.time&&this.timeChanged.emit(s)}}increase(){if(!this.disabled){let s=+this.time+1;s>this.max&&(s=this.min),this._isSelectedTimeDisabled(s)&&(s=this._getAvailableTime(s,this._getNextAvailableTime.bind(this))),s!==this.time&&this.timeChanged.emit(s)}}ngOnChanges(s){s.timeList&&null!=this.time&&this._isSelectedTimeDisabled(this.time)&&this._setAvailableTime()}onBlur(){this.isFocused=!1,this._previousTime!==this.time&&this._changeTimeIfValid(+this.time)}onFocus(){this.isFocused=!0,this._previousTime=this.time}onKeydown(s){switch(s.stopPropagation(),je.isDigit(s)||s.preventDefault(),s.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==s.key&&s.preventDefault()}onModelChange(s){this.time=+this._timeParser.transform(s,this.timeUnit)}_changeTimeIfValid(s){if(!isNaN(s)){if(this.time=s,this.time>this.max){const d=String(s);this.time=+d[d.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}_getAvailableTime(s,d){return d(this.timeList.findIndex(y=>y.time===s))??this.time}_getNextAvailableTime(s){const d=this.timeList,h=d.length;for(let C=s+1;C<h;C++){const y=d[C];if(!y.disabled)return y.time}}_getPrevAvailableTime(s){for(let d=s;d>=0;d--){const h=this.timeList[d];if(!h.disabled)return h.time}}_isSelectedTimeDisabled(s){return this.timeList.find(d=>d.time===s).disabled}_setAvailableTime(){this.time=this.timeList.find(s=>!s.disabled).time,this.timeChanged.emit(this.time)}}return(u=a).nextId=0,u.\u0275fac=function(s){return new(s||u)(i.rXU(mi))},u.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-time-control"]],inputs:{color:"color",disabled:"disabled",floatLabel:"floatLabel",max:"max",min:"min",placeholder:"placeholder",preventTyping:"preventTyping",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[i.Jv_([mi]),i.OA$,i.aNF],decls:13,vars:19,consts:[[1,"ngx-mat-timepicker-control",3,"color","floatLabel","ngClass"],["matInput","","maxlength","2",3,"ngModelChange","keydown","beforeinput","focus","blur","id","name","ngModel","placeholder","disabled"],["matSuffix","",1,"arrows-wrap"],["role","button",1,"arrow",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","18","viewBox","0 0 24 24","width","18"],["d","M0 0h24v24H0z","fill","none"],["d","M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"],["d","M0 0h24v24H0V0z","fill","none"],["d","M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"]],template:function(s,d){1&s&&(i.j41(0,"mat-form-field",0)(1,"input",1),i.nI1(2,"ngxMatTimepickerParser"),i.nI1(3,"timeLocalizer"),i.bIt("ngModelChange",function(C){return d.onModelChange(C)})("keydown",function(C){return d.onKeydown(C)})("beforeinput",function(C){return d.changeTime(C)})("focus",function(){return d.onFocus()})("blur",function(){return d.onBlur()}),i.k0s(),i.j41(4,"div",2)(5,"span",3),i.bIt("click",function(){return d.increase()}),i.qSk(),i.j41(6,"svg",4),i.nrm(7,"path",5)(8,"path",6),i.k0s()(),i.joV(),i.j41(9,"span",3),i.bIt("click",function(){return d.decrease()}),i.qSk(),i.j41(10,"svg",4),i.nrm(11,"path",7)(12,"path",8),i.k0s()()()()),2&s&&(i.Y8G("color",d.color)("floatLabel",d.floatLabel)("ngClass",i.eq3(17,Ci,d.isFocused)),i.R7$(),i.Mz_("id","ngx_mat_timepicker_field_",d.id,""),i.Mz_("name","ngx_mat_timepicker_field_",d.id,""),i.Y8G("ngModel",i.brH(3,13,i.i5U(2,10,d.time,d.timeUnit),d.timeUnit,!0))("placeholder",d.placeholder)("disabled",d.disabled))},dependencies:[Hn.RG,Hn.rl,Hn.yw,ie.YU,ko.fS,ko.fg,We.YN,We.me,We.BC,We.tU,We.vS,mi,xo],styles:[".ngx-mat-timepicker-control[_ngcontent-%COMP%]{width:60px;min-width:60px}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%]{position:relative;z-index:1}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{text-align:center;opacity:.5;height:15px;cursor:pointer;transition:opacity .2s;-webkit-user-select:none;user-select:none}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0}),a})(),ba=(()=>{var u;class a{get color(){return this._color}set color(s){this._color=s}get defaultTime(){return this._defaultTime}set defaultTime(s){this._defaultTime=s,this._isDefaultTime=!!s}get floatLabel(){return this._floatLabel}set floatLabel(s){this._floatLabel=s}get format(){return this._format}set format(s){ue.isTwentyFour(s)?(this._format=24,this.minHour=0,this.maxHour=23):(this._format=12,this.minHour=1,this.maxHour=12),this.hoursList=je.getHours(this._format),s&&this._previousFormat&&this._previousFormat!==this._format&&this._updateTime(this.timepickerTime),this._previousFormat=this._format}get max(){return this._max}set max(s){this._max="string"!=typeof s?s:ue.parseTime(s,{locale:this._locale,format:this.format})}get min(){return this._min}set min(s){this._min="string"!=typeof s?s:ue.parseTime(s,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(s,d){this._timepickerService=s,this._timepickerLocaleSrv=d,this.hour$=new ci.t(void 0),this.maxHour=12,this.minHour=1,this.minute$=new ci.t(void 0),this.period=Le.AM,this.periods=[Le.AM,Le.PM],this.timeChanged=new i.bkB,this.timeUnit=Je,this._color="primary",this._floatLabel="auto",this._format=12,this._isFirstTimeChange=!0,this._subsCtrl$=new fi.B,this._onChange=()=>{},this._onTouched=()=>{}}changeHour(s){this._timepickerService.hour=this.hoursList.find(d=>d.time===s),this._changeTime()}changeMinute(s){this._timepickerService.minute=this.minutesList.find(d=>d.time===s),this._changeTime()}changePeriod(s){this._timepickerService.period=s.value,this._changeTime()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._initTime(this.defaultTime),this.hoursList=je.getHours(this._format),this.minutesList=je.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this._timepickerService.selectedHour.pipe((0,vi.M)(s=>this._selectedHour=s?.time),(0,zo.T)(this._changeDefaultTimeValue.bind(this)),(0,vi.M)(()=>this.isTimeRangeSet&&this._updateAvailableMinutes())).subscribe({next:s=>this.hour$.next(s)}),this._timepickerService.selectedMinute.pipe((0,zo.T)(this._changeDefaultTimeValue.bind(this)),(0,vi.M)(()=>this._isFirstTimeChange=!1)).subscribe({next:s=>this.minute$.next(s)}),12===this.format?this._timepickerService.selectedPeriod.pipe((0,ls.F)(),(0,vi.M)(s=>this.period=s),(0,vi.M)(s=>this.isChangePeriodDisabled=this._isPeriodDisabled(s)),(0,ho.Q)(this._subsCtrl$)).subscribe(()=>this.isTimeRangeSet&&this._updateAvailableTime()):this.isTimeRangeSet&&this._updateAvailableTime()}onTimeSet(s){this._updateTime(s),this._emitLocalTimeChange(s)}registerOnChange(s){this._onChange=s}registerOnTouched(s){this._onTouched=s}setDisabledState(s){this.disabled=s}writeValue(s){s?this._initTime(s):this._resetTime()}_changeDefaultTimeValue(s){return!this._isDefaultTime&&this._isFirstTimeChange?{...s,time:null}:s}_changeTime(){if(!isNaN(this.hour$.getValue()?.time)&&!isNaN(this.minute$.getValue()?.time)){const s=this._timepickerService.getFullTime(this.format);this.timepickerTime=s,this._emitLocalTimeChange(s)}}_emitLocalTimeChange(s){const d=ue.toLocaleTimeString(s,{format:this.format,locale:this._locale});this._onChange(d),this._onTouched(d),this.timeChanged.emit(d)}_initTime(s){if(!ue.isTimeAvailable(s,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this._updateTime(ue.fromDateTimeToString(this.min,this.format));if(this.max)return void this._updateTime(ue.fromDateTimeToString(this.max,this.format))}this._updateTime(s)}_isPeriodDisabled(s){return je.disableHours(je.getHours(12),{min:this.min,max:this.max,format:12,period:s===Le.AM?Le.PM:Le.AM}).every(d=>d.disabled)}_resetTime(){this._timepickerService.hour={angle:0,time:null},this._timepickerService.minute={angle:0,time:null}}_updateAvailableHours(){this.hoursList=je.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableMinutes(){this.minutesList=je.disableMinutes(this.minutesList,this._selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableTime(){this._updateAvailableHours(),this._selectedHour&&this._updateAvailableMinutes()}_updateTime(s){if(s){const d=ue.formatTime(s,{locale:this._locale,format:this.format});this._timepickerService.setDefaultTimeIfAvailable(d,this.min,this.max,this.format),this.timepickerTime=d}}}return(u=a).\u0275fac=function(s){return new(s||u)(i.rXU(Ti),i.rXU(In))},u.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-field"]],inputs:{color:"color",defaultTime:"defaultTime",floatLabel:"floatLabel",format:"format",max:"max",min:"min",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",controlOnly:"controlOnly",disabled:"disabled",toggleIcon:"toggleIcon"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[i.Jv_([Ti,{provide:We.kq,useExisting:u,multi:!0}]),i.aNF],decls:11,vars:32,consts:[["timepicker",""],["defaultIcon",""],[1,"ngx-mat-timepicker",3,"ngClass"],[1,"ngx-mat-timepicker__control--first",3,"timeChanged","color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping"],[1,"separator-colon","ngx-mat-timepicker__control--second"],[1,"ngx-mat-timepicker__control--third",3,"timeChanged","color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping"],["class","period-select ngx-mat-timepicker__control--forth",3,"color",4,"ngIf"],["class","ngx-mat-timepicker__toggle",3,"for","disabled",4,"ngIf"],[3,"timeSet","color","min","max","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl"],[1,"period-select","ngx-mat-timepicker__control--forth",3,"color"],[3,"selectionChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ngx-mat-timepicker__toggle",3,"for","disabled"],["ngxMatTimepickerToggleIcon",""],[4,"ngTemplateOutlet"]],template:function(s,d){if(1&s){const h=i.RV6();i.j41(0,"div",2)(1,"ngx-mat-timepicker-time-control",3),i.bIt("timeChanged",function(y){return i.eBV(h),i.Njj(d.changeHour(y))}),i.k0s(),i.j41(2,"span",4),i.EFF(3,":"),i.k0s(),i.j41(4,"ngx-mat-timepicker-time-control",5),i.bIt("timeChanged",function(y){return i.eBV(h),i.Njj(d.changeMinute(y))}),i.k0s(),i.DNE(5,ia,3,4,"mat-form-field",6)(6,sa,3,3,"ngx-mat-timepicker-toggle",7),i.k0s(),i.j41(7,"ngx-mat-timepicker",8,0),i.bIt("timeSet",function(y){return i.eBV(h),i.Njj(d.onTimeSet(y))}),i.k0s(),i.DNE(9,aa,2,0,"ng-template",null,1,i.C5r)}if(2&s){let h,C;i.Y8G("ngClass",i.eq3(30,ea,d.disabled)),i.R7$(),i.Y8G("color",d.color)("floatLabel",d.floatLabel)("placeholder","HH")("time",null==(h=d.hour$.getValue())?null:h.time)("min",d.minHour)("max",d.maxHour)("timeUnit",d.timeUnit.HOUR)("disabled",d.disabled)("timeList",d.hoursList)("preventTyping",d.isTimeRangeSet),i.R7$(3),i.Y8G("color",d.color)("floatLabel",d.floatLabel)("placeholder","MM")("time",null==(C=d.minute$.getValue())?null:C.time)("min",0)("max",59)("timeUnit",d.timeUnit.MINUTE)("disabled",d.disabled)("timeList",d.minutesList)("preventTyping",d.isTimeRangeSet),i.R7$(),i.Y8G("ngIf",24!==d.format),i.R7$(),i.Y8G("ngIf",!d.controlOnly),i.R7$(),i.Y8G("color",d.color)("min",d.min)("max",d.max)("defaultTime",d.timepickerTime)("format",d.format)("cancelBtnTmpl",d.cancelBtnTmpl)("confirmBtnTmpl",d.confirmBtnTmpl)}},dependencies:[ie.YU,Zo,ie.bT,Hn.RG,Hn.rl,bo.Ve,bo.VO,Po.wT,We.YN,We.BC,We.vS,ie.pM,Po.Sy,Qo,Ko,ie.T3,yo,vo.m_,vo.An],styles:[".ngx-mat-timepicker{display:flex;align-items:center;height:100%}.ngx-mat-timepicker--disabled{background:#00000012;pointer-events:none}.ngx-mat-timepicker .separator-colon{margin-left:5px;margin-right:5px}.ngx-mat-timepicker .period-select{width:60px;min-width:60px;margin-left:8px;text-align:center}.ngx-mat-timepicker__control--first{order:1}.ngx-mat-timepicker__control--second{order:2}.ngx-mat-timepicker__control--third{order:3}.ngx-mat-timepicker__control--forth{order:4}.ngx-mat-timepicker__toggle{order:4;margin-bottom:1.5em;margin-left:4px}.ngx-mat-timepicker__toggle span.mat-button-wrapper{font-size:24px}\n"],encapsulation:2,changeDetection:0}),a})(),va=(()=>{var u;class a{get element(){return this._elementRef&&this._elementRef.nativeElement}get format(){return this._format}set format(s){this._format=ue.isTwentyFour(+s)?24:12,s&&this._previousFormat&&this._previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this._previousFormat=this._format}get max(){return this._max}set max(s){this._max="string"!=typeof s?s:ue.parseTime(s,{locale:this._locale,format:this.format})}get min(){return this._min}set min(s){this._min="string"!=typeof s?s:ue.parseTime(s,{locale:this._locale,format:this.format})}set timepicker(s){this._registerTimepicker(s)}get value(){return this._value?ue.toLocaleTimeString(this._value,{format:this.format,locale:this._locale}):""}set value(s){if(!s)return this._value="",void this._updateInputValue();const d=ue.formatTime(s,{locale:this._locale,format:this.format});if(ue.isTimeAvailable(d,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=d,void this._updateInputValue();console.warn("Selected time doesn't match min or max value")}set _defaultTime(s){this._timepicker.defaultTime=ue.formatTime(s,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(s,d,h){this._elementRef=s,this._timepickerLocaleSrv=d,this._matFormField=h,this.cdkOverlayOrigin=new n.$Q(this._matFormField?this._matFormField.getConnectedOverlayOrigin():this._elementRef),this._format=12,this._subsCtrl$=new fi.B,this._value="",this.onTouched=()=>{},this._onChange=()=>{}}ngOnChanges(s){const d=s.value;d&&d.currentValue&&(this._defaultTime=d.currentValue)}ngOnDestroy(){this._unregisterTimepicker(),this._subsCtrl$.next(),this._subsCtrl$.complete()}onClick(s){this.disableClick||(this._timepicker.open(),s.stopPropagation())}registerOnChange(s){this._onChange=s}registerOnTouched(s){this.onTouched=s}setDisabledState(s){this.disabled=s}updateValue(s){this.value=s.target.value,this._onChange(this.value)}writeValue(s){this.value=s,s&&(this._defaultTime=s)}_registerTimepicker(s){if(!s)throw new Error("NgxMatTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxMatTimepicker directive");this._timepicker=s,this._timepicker.registerInput(this),this._timepicker.timeSet.pipe((0,ho.Q)(this._subsCtrl$)).subscribe(d=>{this.value=d,this._onChange(this.value),this.onTouched(),this._defaultTime=this._value})}_unregisterTimepicker(){this._timepicker&&this._timepicker.unregisterInput()}_updateInputValue(){this._elementRef.nativeElement.value=this.value}}return(u=a).\u0275fac=function(s){return new(s||u)(i.rXU(i.aKT),i.rXU(In),i.rXU(Hn.rl,8))},u.\u0275dir=i.FsC({type:u,selectors:[["","ngxMatTimepicker",""]],hostVars:2,hostBindings:function(s,d){1&s&&i.bIt("blur",function(){return d.onTouched()})("click",function(C){return d.onClick(C)})("change",function(C){return d.updateValue(C)}),2&s&&(i.Mr5("disabled",d.disabled),i.BMQ("cdkOverlayOrigin",d.cdkOverlayOrigin))},inputs:{format:"format",max:"max",min:"min",timepicker:[0,"ngxMatTimepicker","timepicker"],value:"value",disableClick:"disableClick",disabled:"disabled"},standalone:!0,features:[i.Jv_([{provide:We.kq,useExisting:u,multi:!0}]),i.OA$]}),a})(),ka=(()=>{var u;class a{static setLocale(s){return{ngModule:a,providers:[{provide:Bo,useValue:s},{provide:xi,useValue:void 0},In]}}}return(u=a).\u0275fac=function(s){return new(s||u)},u.\u0275mod=i.$C({type:u}),u.\u0275inj=i.G2t({providers:[In,{provide:Cn.Il,useValue:{color:"void"}}],imports:[ie.MD,fo.Pd,We.YN,Cn.Hl,Hn.RG,Wn.hM,ko.fS,bo.Ve,Jn.s5,vo.m_,n.z_,cs.jc,yo,_i,Xo,Jo,zi,To,Ho,Qo,So,Io,ba,Zo]}),a})()}}]);