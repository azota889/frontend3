"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[550],{77462:(Q,w,n)=>{n.d(w,{a:()=>t,e:()=>e});var e=function(i){return i.exam="exam",i.ref="ref",i.lecture="lecture",i}(e||{}),t=function(i){return i.video="video",i.powerpoint="ppt",i.docx="docx",i.pdf="pdf",i}(t||{})},42047:(Q,w,n)=>{n.d(w,{Z:()=>e});class e{constructor(i,A,p,S,l,h=1,y=!1,x=!1,I,Z){this.id=i,this.pr=A,this.type=p,this.shareType=S,this.item=l,this.level=h,this.expandable=y,this.isLoading=x,this.prNode=I,this.isLeaf=Z}}},59694:(Q,w,n)=>{n.d(w,{O:()=>A});var e=n(65879),t=n(88489),i=n(46558);let A=(()=>{class p{constructor(l,h){this.browserStorageService=l,this.commonService=h,this.data={}}setMode(l){this.browserStorageService.saveSimpleStorage("__editor:mode_open",l)}getMode(){var l=this.browserStorageService.getSimpleStorage("__editor:mode_open")||"editor";return this.browserStorageService.removeSimpleStorage("__editor:mode_open"),l}setFileProcess(l){this.file=l}getFirstFile(){let l=this.file;return this.file=void 0,l}setOutputData(l){this.data=l}getOutputData(){return this.data}redirectToConfig(l){this.data.homework&&l.showHomework(),(this.data.exam||this.data.examOffline)&&l.showExam()}setMatrixData(l,h){h?this.matrix=l:this.browserStorageService.saveSimpleStorage("__editor:matrix-data",JSON.stringify(l))}getMatrixData(){var l=this.browserStorageService.getSimpleStorage("__editor:matrix-data");return this.browserStorageService.removeSimpleStorage("__editor:matrix-data"),l?this.commonService.castJsonToObj(l):this.matrix}}return p.\u0275fac=function(l){return new(l||p)(e.LFG(t.n),e.LFG(i.z))},p.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},7827:(Q,w,n)=>{n.d(w,{i:()=>t});var e=n(65879);let t=(()=>{class i{constructor(){this.fileDrop=new e.vpe,this.preventBodyDrop=!0,this.active=!1}onDrop(p){p.preventDefault(),this.active=!1;const{dataTransfer:S}=p;if(S?.items){const l=[];for(let h=0;h<S.items.length;h++)"file"===S.items[h].kind&&S.items[h].getAsFile()&&l.push(S.items[h].getAsFile());S.items.clear(),Array.isArray(l)&&this.fileDrop.emit(this.removeNullFile(l))}else{const l=S?.files;S?.clearData(),l&&this.fileDrop.emit(Array.from(l))}}removeNullFile(p){for(var S=[],l=0;l<p.length;l++)p[l]&&S.push(p[l]);return S}onDragOver(p){p.stopPropagation(),p.preventDefault(),this.active=!0}onDragLeave(p){this.active=!1}onBodyDragOver(p){this.preventBodyDrop&&(p.preventDefault(),p.stopPropagation())}onBodyDrop(p){this.preventBodyDrop&&p.preventDefault()}}return i.\u0275fac=function(p){return new(p||i)},i.\u0275dir=e.lG2({type:i,selectors:[["","appDropZone",""]],hostVars:2,hostBindings:function(p,S){1&p&&e.NdJ("drop",function(h){return S.onDrop(h)})("dragover",function(h){return S.onDragOver(h)})("dragleave",function(h){return S.onDragLeave(h)})("dragover",function(h){return S.onBodyDragOver(h)},!1,e.pYS)("drop",function(h){return S.onBodyDrop(h)},!1,e.pYS),2&p&&e.ekj("drop-zone-active",S.active)},inputs:{preventBodyDrop:"preventBodyDrop"},outputs:{fileDrop:"appDropZone"}}),i})()},24627:(Q,w,n)=>{n.d(w,{X:()=>l});var e=n(47496),t=n(65879),i=n(96814),A=n(40750);function p(h,y){if(1&h){const x=t.EpF();t.TgZ(0,"a",2),t.NdJ("click",function(){t.CHM(x);const Z=t.oxw();return t.KtG(Z.clickToSeeMore())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&h&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_cms_common_see_more")))}function S(h,y){if(1&h){const x=t.EpF();t.TgZ(0,"a",2),t.NdJ("click",function(){t.CHM(x);const Z=t.oxw();return t.KtG(Z.clickToShowShortContent())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&h&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_cms_common_see_short_content")))}let l=(()=>{class h extends e.Q{constructor(){super(...arguments),this.content="",this.maxLength=500,this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let x=this.commonService.removeTagHtml(this.content);x.length>this.maxLength?this.showContent=this.showSeeMoreButton?x.substring(0,this.maxLength)+"...":this.content:(this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content)}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}}return h.\u0275fac=function(){let y;return function(I){return(y||(y=t.n5z(h)))(I||h)}}(),h.\u0275cmp=t.Xpm({type:h,selectors:[["azt-see-more"]],inputs:{content:"content",maxLength:"maxLength"},features:[t.qOj,t.TTD],decls:3,vars:3,consts:[[3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"]],template:function(x,I){1&x&&(t._UZ(0,"div",0),t.YNc(1,p,3,3,"a",1),t.YNc(2,S,3,3,"a",1)),2&x&&(t.Q6J("innerHTML",I.showContent,t.oJD),t.xp6(1),t.Q6J("ngIf",I.showSeeMoreButton&&I.content.length>I.maxLength),t.xp6(1),t.Q6J("ngIf",I.showShortContentButton&&I.content.length>I.maxLength))},dependencies:[i.O5,A.JV],encapsulation:2}),h})()},54901:(Q,w,n)=>{n.d(w,{v:()=>xe});var e=n(65879),t=n(56223),i=n(77462),A=n(47496),p=n(91765),S=n(77203),l=n(21266),h=n(50014),y=n(69862),x=n(70731),I=n(61713),Z=n(46558),k=n(82228);let E=(()=>{class u{constructor(o,s){this.commonService=o,this.apiUploadService=s,this.sizeDefaultCanvas=1100,this.actionRunAfterConvert=[],this.imageMaps=[],this.pattern_base64=/data:image[^"'\\]+/i,this.pattern_image=/<img[^>]+data:image[^>]+>/g,this.taskConvertBase64ToCanvas=new x.Q(50,{function:(a,r)=>{this.callbackBase64ToCanvas&&this.callbackBase64ToCanvas(a,r)}}),this.taskUploadImage=new x.Q(10,{function:(a,r)=>{this.callbackUploadImage&&this.callbackUploadImage(a,r)}})}convertQuestions(o,s,a){return new Promise(r=>{this.reset(),o.forEach(d=>{const b=this.commonService.willDeleteParseJson(d.answerConfig||"[]");d.questionContent?.includes("<img ")&&this.replaceImageCdnInContent(d,"questionContent"),d.questionText?.includes("<img ")&&this.replaceImageCdnInContent(d,"questionText"),d.answerMedia?.includes("<img ")&&this.replaceImageCdnInContent(d,"answerMedia"),d.mediaMeta?.includes("<img ")&&this.replaceImageCdnInContent(d,"mediaMeta"),b.forEach(D=>{D.content.includes("<img ")&&this.replaceImageCdnInContent(D,"content")}),this.actionRunAfterConvert.push(()=>{d.answerConfig=JSON.stringify(b)})}),this.imageMaps.forEach(d=>{this.taskConvertBase64ToCanvas.addTask(this,this.startConvertCanvas,[d])}),this.taskConvertBase64ToCanvas.start().then(d=>{if(d.errs.length>0)a(d.errs,void 0);else{let D=0;const g=[],W=()=>{const L=document.createElement("canvas");L.width=this.sizeDefaultCanvas,L.height=this.sizeDefaultCanvas;const U=L.getContext("2d");U&&(U.fillStyle="white",U.fillRect(0,0,this.sizeDefaultCanvas,this.sizeDefaultCanvas)),g.push({cdn:"",cX:0,cY:0,canvas:L,imgs:[]})};W(),d.datas.forEach((L,U)=>{var O=g[g.length-1];O.cX+L.canvas.width+4>this.sizeDefaultCanvas?(O.cX=4,O.cY+=D+4,D=0):O.cX+=4,O.cY+L.canvas.height>this.sizeDefaultCanvas&&(W(),O=g[g.length-1]);var B=O.canvas.getContext("2d");O.imgs.push({x:O.cX,y:O.cY,width:L.canvas.width,height:L.canvas.height,index:U}),B?.drawImage(L.canvas,0,0,L.canvas.width,L.canvas.height,O.cX,O.cY,L.canvas.width,L.canvas.height),O.cX+=L.canvas.width,D=D<L.canvas.height?L.canvas.height:D}),g[0].imgs.length>0&&g.forEach(L=>{this.taskUploadImage.addTask(this,this.startUploadFile,[L])}),this.taskUploadImage.start().then(L=>{if(L.errs.length>0)a(d.errs,void 0);else{let U=!0;L.datas.forEach(O=>{O.imgs.forEach(B=>{const P=d.datas[B.index];if(P){const J={link:O.cdn,data:{x:B.x,y:B.y,width:B.width,height:B.height}};P.objs.forEach(z=>{if(z[P.path])if(this.commonService.isJson(z[P.path])){const K=this.commonService.willDeleteParseJson(z[P.path]);Object.prototype.hasOwnProperty.call(K,"renderedStr")?(K.renderedStr=K.renderedStr.replace(P.base,`@[]${JSON.stringify(J)}@[]`),z[P.path]=JSON.stringify(K)):z[P.path]=z[P.path].replace(P.base,`@[]${JSON.stringify(J)}@[]`)}else z[P.path]=z[P.path].replace(P.base,`@[]${JSON.stringify(J)}@[]`);else U=!1})}})}),U?(this.actionRunAfterConvert.forEach(O=>{O()}),o.forEach((O,B)=>{let P=this.commonService.willDeleteParseJson(O.mediaMeta||"{}"),J=s[B];const z={id:0,name:O.name,extension:"text",content:O.questionContent,groupContent:P.renderedStr,metaData:{isFixAns:Number(O.isFixAns),forcedFixAns:!1,groupType:O.groupType?Number(O.groupType):void 0}};J&&(z.vMetaEditor=J.meta),O.questionContent=JSON.stringify([z])}),r()):a(d.errs,void 0,!0)}})}})})}reset(){this.imageMaps=[],this.actionRunAfterConvert=[]}replaceImageCdnInContent(o,s){var a=o[s];if(this.commonService.isJson(o[s])){const b=this.commonService.willDeleteParseJson(o[s]);Object.prototype.hasOwnProperty.call(b,"renderedStr")&&(a=b.renderedStr)}let r=a.matchAll(this.pattern_image);for(;;){let b=r.next();if(b.done)break;let D=b.value[0];var d=this.imageMaps.findIndex(g=>g.base===D&&g.path===s);-1===d?this.imageMaps.push({base:D,cdn:"",data:null,objs:[o],path:s,canvas:document.createElement("canvas")}):this.imageMaps[d].objs.push(o)}}startConvertCanvas(o){return new Promise((s,a)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>{let b=1;if(r.width>this.sizeDefaultCanvas&&(b=this.sizeDefaultCanvas/r.width),r.height>this.sizeDefaultCanvas){let g=this.sizeDefaultCanvas/r.height;g<b&&(b=g)}o.canvas.width=r.width*b,o.canvas.height=r.height*b,o.canvas.getContext("2d")?.drawImage(r,0,0,r.width,r.height,0,0,o.canvas.width,o.canvas.height),s(o)},r.onerror=()=>{o.canvas.width=1,o.canvas.height=1;const b=o.canvas.getContext("2d");b&&(b.fillStyle="white",b.fillRect(0,0,1,1)),s(o)};let d=this.pattern_base64.exec(o.base);null!=d?r.src=d[0]:a(new Error("l\u1ed7i regex"))})}startUploadFile(o){return new Promise((s,a)=>{const r=this.dataURLtoFile(o.canvas.toDataURL("image/png",1));(0,I.hv)(r).then(d=>{this.apiUploadService.uploadToCdnProgressForExamQuestionContent(d).subscribe(b=>{b.type!=y.dt.UploadProgress&&(1==b.success&&b.data?s({...o,cdn:b.data.url||""}):a(new Error(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",b.message??"none"))))})})})}dataURLtoFile(o){let s=this.getFileName(o);for(var a=o.split(","),r=a[0].match(/:(.*?);/),d=atob(a[1]),b=d.length,D=new Uint8Array(b);b--;)D[b]=d.charCodeAt(b);return new File([D],s,{type:r&&r.length>0?r[1]:"png"})}getFileName(o){var s=o.split("").reverse().join(""),a=s.indexOf(";"),r=s.indexOf("/",a);return s.substring(a,r).split("").reverse().join("")}}return u.\u0275fac=function(o){return new(o||u)(e.LFG(Z.z),e.LFG(k.W))},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();var v=n(59694),C=n(11460),f=n(40687),_=n(88489),c=n(96814),m=n(43389),j=n(67679),N=n(71646),M=n(35861),G=n(18727),q=n(78337),V=n(41894),F=n(98445),H=n(84003),$=n(32296),X=n(37722),ee=n(76024),Y=n(40750);function te(u,T){1&u&&(e.TgZ(0,"div",28)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&u&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function oe(u,T){1&u&&(e.TgZ(0,"div",28)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&u&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_so_dien_thoai")))}function se(u,T){1&u&&(e.TgZ(0,"div",28)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&u&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_student_utils_reques_phone_ten_number")))}function ne(u,T){1&u&&(e.TgZ(0,"div",28)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&u&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_document_please_enter_the_author_workplace")))}function ie(u,T){if(1&u&&(e.TgZ(0,"div",14)(1,"div",19)(2,"div",16),e._UZ(3,"input",22),e.ALo(4,"mytranslate"),e.YNc(5,te,4,3,"div",23),e.qZA(),e.TgZ(6,"div",24),e._UZ(7,"input",25),e.ALo(8,"mytranslate"),e.YNc(9,oe,4,3,"div",23),e.YNc(10,se,4,3,"div",23),e.qZA(),e.TgZ(11,"div",26),e._UZ(12,"input",27),e.ALo(13,"mytranslate"),e.YNc(14,ne,4,3,"div",23),e.qZA()()()),2&u){const o=e.oxw();e.xp6(3),e.s9C("placeholder",e.lcZ(4,7,"lang_auto_nhap_ho_va_ten")),e.xp6(2),e.Q6J("ngIf","0"==o.form.controls.creatorId.value&&!o.form.controls.creatorFullName.value),e.xp6(2),e.s9C("placeholder",e.lcZ(8,9,"lang_auto_nhap_so_dien_thoai")),e.xp6(2),e.Q6J("ngIf","0"==o.form.controls.creatorId.value&&!o.form.controls.creatorPhone.value),e.xp6(1),e.Q6J("ngIf","0"==o.form.controls.creatorId.value&&o.form.controls.creatorPhone.value&&10!==o.form.controls.creatorPhone.value.length),e.xp6(2),e.s9C("placeholder",e.lcZ(13,11,"lang_document_workplace")),e.xp6(2),e.Q6J("ngIf","0"==o.form.controls.creatorId.value&&!o.form.controls.creatorWorkingAddress.value)}}function ae(u,T){if(1&u){const o=e.EpF();e.TgZ(0,"mat-tree-node",33),e._UZ(1,"button",34),e.TgZ(2,"div",35)(3,"input",36),e.NdJ("change",function(){const r=e.CHM(o).$implicit,d=e.oxw(2);return e.KtG(d.checklistSelection.toggle(r))}),e.qZA(),e.TgZ(4,"label",37)(5,"span"),e._uU(6),e.qZA()()()()}if(2&u){const o=T.$implicit,s=e.oxw(2);e.xp6(3),e.s9C("id","knowledge-"+o.id),e.Q6J("checked",s.checklistSelection.isSelected(o)),e.xp6(1),e.s9C("for","knowledge-"+o.id),e.xp6(2),e.Oqu(o.item)}}function re(u,T){if(1&u){const o=e.EpF();e.TgZ(0,"mat-tree-node",38)(1,"button",39)(2,"span",40),e._UZ(3,"lucide-icon",41),e.qZA()(),e.TgZ(4,"div",35)(5,"input",42),e.NdJ("change",function(){const r=e.CHM(o).$implicit,d=e.oxw(2);return e.KtG(d.todoItemSelectionToggle(r))}),e.qZA(),e.TgZ(6,"label",37)(7,"span"),e._uU(8),e.qZA()()()()}if(2&u){const o=T.$implicit,s=e.oxw(2);e.xp6(1),e.uIk("aria-label","toggle "+o.filename),e.xp6(2),e.s9C("name",s.treeControl.isExpanded(o)?"chevron-down":"chevron-right"),e.xp6(2),e.s9C("id","knowledge-"+o.id),e.Q6J("checked",s.descendantsAllSelected(o))("indeterminate",s.descendantsPartiallySelected(o)),e.xp6(1),e.s9C("for","knowledge-"+o.id),e.xp6(2),e.Oqu(o.item)}}function le(u,T){if(1&u&&(e.TgZ(0,"div",14)(1,"div",3)(2,"div",16)(3,"span",17),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"div",29)(7,"mat-tree",30),e.YNc(8,ae,7,4,"mat-tree-node",31),e.YNc(9,re,9,7,"mat-tree-node",32),e.qZA()()()()),2&u){const o=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,4,"lang_document_the_knowledge_units_present_in_the_exam")," "),e.xp6(3),e.Q6J("dataSource",o.dataSource)("treeControl",o.treeControl),e.xp6(2),e.Q6J("matTreeNodeDefWhen",o.hasChild)}}function ce(u,T){1&u&&(e.TgZ(0,"span",48),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&u&&(e.xp6(1),e.hij("(",e.lcZ(2,1,"lang_document_current"),")"))}const ue=function(u){return{"font-medium":u}};function he(u,T){if(1&u&&(e.TgZ(0,"div",43)(1,"div",44),e._UZ(2,"input",45),e.TgZ(3,"label",46)(4,"span"),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.YNc(7,ce,3,3,"span",47),e.qZA()()()),2&u){const o=T.index,s=e.oxw();e.xp6(2),e.s9C("id","week-"+s.listWeek[o]),e.Q6J("formControlName",o),e.xp6(1),e.s9C("for","week-"+s.listWeek[o]),e.Q6J("ngClass",e.VKq(8,ue,s.currentSchoolWeeks===s.listWeek[o])),e.xp6(2),e.Oqu(e.lcZ(6,6,"lang_document_week")+" "+s.listWeek[o]),e.xp6(2),e.Q6J("ngIf",s.currentSchoolWeeks===s.listWeek[o])}}function de(u,T){1&u&&(e.TgZ(0,"div",49)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&u&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_document_please_select_the_time_of_use")))}class me{}class pe{}let ge=(()=>{class u extends A.Q{constructor(o){super(),this.timeService=o,this.listKnowledge=[],this.listWeek=[],this.emitChooseKnowledge=new e.vpe,this.formArrayListKnowledge=new t.Oe([]),this.formArrayListWeed=new t.Oe([]),this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.selectedParent=null,this.newItemName="",this.checklistSelection=new q.Ov(!0),this.listKnowledgeId=[],this.currentSchoolWeeks=0,this.checkChooseWeeks=!0,this.getLevel=s=>s.level??0,this.isExpandable=s=>s.expandable??!1,this.getChildren=s=>s.children??[],this.hasChild=(s,a)=>a.expandable??!1,this.hasNoContent=(s,a)=>""===a.item,this.transformer=(s,a)=>{const r=this.nestedNodeMap.get(s),d=r&&r.item===s.item?r:new pe;return d.item=s.item,d.level=a,d.id=s.id,d.expandable=!!s.children,this.flatNodeMap.set(d,s),this.nestedNodeMap.set(s,d),d},this.treeFlattener=new F.JZ(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new V.C2(this.getLevel,this.isExpandable),this.dataSource=new F.kc(this.treeControl,this.treeFlattener)}ngOnInit(){super.ngOnInit(),this.initWeedCheckbox(this.listWeek),this.currentSchoolWeeks=this.timeService.getSchoolWeeks(),this.checklistSelection.changed.subscribe(o=>{let s=this.checklistSelection.selected.map(a=>a.id??0);this.listKnowledgeId=s.sort((a,r)=>a-r)??[],this.emitChooseKnowledge.emit(this.listKnowledgeId)}),this.form.controls.weeks.valueChanges.subscribe(o=>{this.checkChooseWeeks=!0,o.forEach(s=>{s&&(this.checkChooseWeeks=!1)})})}ngOnChanges(){this.initForm(),this.initKnowledgeCheckbox(this.listKnowledge),this.dataSource.data=this.buildFileTree(this.listKnowledge,0)}buildFileTree(o,s){const a=[];return o.forEach(r=>{const d=new me;d.item=r.name,d.id=r.id,r.children&&(d.children=this.buildFileTree(r.children,s+1)),a.push(d)}),a}descendantsAllSelected(o){return this.treeControl.getDescendants(o).every(a=>this.checklistSelection.isSelected(a))}descendantsPartiallySelected(o){return this.treeControl.getDescendants(o).some(r=>this.checklistSelection.isSelected(r))&&!this.descendantsAllSelected(o)}todoItemSelectionToggle(o){this.checklistSelection.toggle(o);const s=this.treeControl.getDescendants(o);this.checklistSelection.isSelected(o)?this.checklistSelection.select(...s):this.checklistSelection.deselect(...s)}initKnowledgeCheckbox(o){this.formArrayListKnowledge.clear();for(let s=0;s<o.length;s++){const r=new t.NI(!1,{nonNullable:!0});this.formArrayListKnowledge.push(r)}}initWeedCheckbox(o){this.formArrayListWeed.clear();for(let s=0;s<o.length;s++){const r=new t.NI(!1,{nonNullable:!0});this.formArrayListWeed.push(r)}}initForm(){this.formArrayListWeed=this.form.controls.weeks,this.formArrayListKnowledge=this.form.controls.knowledgeIds}}return u.\u0275fac=function(o){return new(o||u)(e.Y36(H.D))},u.\u0275cmp=e.Xpm({type:u,selectors:[["azt-config-document-market"]],inputs:{form:"form",listKnowledge:"listKnowledge",listWeek:"listWeek"},outputs:{emitChooseKnowledge:"emitChooseKnowledge"},features:[e.qOj,e.TTD],decls:32,vars:17,consts:[[1,"mt-5"],[3,"formGroup"],[1,"box","p-3"],[1,"grid","grid-cols-12"],[1,"col-span-12","lg:col-span-5"],["for","general-name",1,"form-label","mb-0","font-medium","flex","items-center"],[1,"col-span-12","lg:col-span-7"],[1,"flex","flex-col","sm:flex-row"],[1,"form-check","mr-8"],["type","radio","id","creator-by-me","formControlName","creatorId","value","1",1,"form-check-input"],["for","creator-by-me",1,"form-check-label"],["type","radio","id","creator-by-user-other","formControlName","creatorId","value","0",1,"form-check-input"],["for","creator-by-user-other",1,"form-check-label"],["class","mt-3",4,"ngIf"],[1,"mt-3"],["formArrayName","weeks",1,"list-week","grid","grid-cols-12"],[1,"col-span-12"],[1,"form-label","mb-0","font-medium","flex","items-center"],[1,"list-week","col-span-12"],[1,"grid","grid-cols-12","gap-3"],["class","col-span-6 md:col-span-3 lg:col-span-2",4,"ngFor","ngForOf"],["class","col-span-12 mt-2 text-danger text-xs",4,"ngIf"],["type","text","name","creatorFullName","formControlName","creatorFullName",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-2",4,"ngIf"],[1,"col-span-12","md:col-span-4"],["type","text","appOnlyNumber","","name","creatorPhone","formControlName","creatorPhone",1,"form-control",3,"placeholder"],[1,"col-span-12","md:col-span-8"],["type","text","name","creatorWorkingAddress","formControlName","creatorWorkingAddress",1,"form-control",3,"placeholder"],[1,"text-danger","text-xs","mt-2"],[1,"list-knowledge","col-span-12"],[3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle","","matTreeNodePadding",""],["mat-icon-button","","disabled",""],[1,"azt-form-checked"],["type","checkbox",1,"form-check-input",3,"checked","id","change"],[1,"form-check-label",2,"vertical-align","middle",3,"for"],["matTreeNodePadding",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror","w-5","h-5","inline-block",2,"vertical-align","bottom"],[3,"name"],["type","checkbox",1,"form-check-input",3,"checked","indeterminate","id","change"],[1,"col-span-6","md:col-span-3","lg:col-span-2"],[1,"azt-form-check"],["type","checkbox","value","41556",1,"form-check-input",3,"formControlName","id"],[1,"form-check-label",2,"vertical-align","middle",3,"ngClass","for"],["class","inline-block ml-1",4,"ngIf"],[1,"inline-block","ml-1"],[1,"col-span-12","mt-2","text-danger","text-xs"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8),e._UZ(11,"input",9),e.TgZ(12,"label",10),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()(),e.TgZ(15,"div",8),e._UZ(16,"input",11),e.TgZ(17,"label",12),e._uU(18),e.ALo(19,"mytranslate"),e.qZA()()()()(),e.YNc(20,ie,15,13,"div",13),e.YNc(21,le,10,6,"div",13),e.TgZ(22,"div",14)(23,"div",15)(24,"div",16)(25,"span",17),e._uU(26),e.ALo(27,"mytranslate"),e.qZA()(),e.TgZ(28,"div",18)(29,"div",19),e.YNc(30,he,8,10,"div",20),e.qZA()(),e.YNc(31,de,4,3,"div",21),e.qZA()()()()()),2&o&&(e.xp6(1),e.Q6J("formGroup",s.form),e.xp6(5),e.hij(" ",e.lcZ(7,9,"lang_document_author")," "),e.xp6(7),e.hij(" ",e.lcZ(14,11,"lang_document_me")," "),e.xp6(5),e.hij(" ",e.lcZ(19,13,"lang_document_others")," "),e.xp6(2),e.Q6J("ngIf","0"==s.form.controls.creatorId.value),e.xp6(1),e.Q6J("ngIf",s.formArrayListKnowledge.controls.length),e.xp6(5),e.hij(" ",e.lcZ(27,15,"lang_document_time_of_use")," "),e.xp6(4),e.Q6J("ngForOf",s.formArrayListWeed.controls),e.xp6(1),e.Q6J("ngIf",s.checkChooseWeeks))},dependencies:[c.mk,c.sg,c.O5,$.RK,F.fQ,F.ah,F.eu,F.gi,F.uo,t._Y,t.Fj,t.Wl,t._,t.JJ,t.JL,t.sg,t.u,t.CE,X.Nh5,ee.Y,j.M,Y.JV],encapsulation:2}),u})();function fe(u,T){1&u&&e._UZ(0,"azt-loading-effect")}function _e(u,T){1&u&&(e.TgZ(0,"div",28),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&u&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_ten_de_thi")," "))}function ve(u,T){1&u&&(e.TgZ(0,"span",29),e._UZ(1,"azt-loading-ui"),e.qZA())}function Se(u,T){if(1&u){const o=e.EpF();e.TgZ(0,"div",3)(1,"form",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"label",10),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()(),e.TgZ(10,"div",9)(11,"div",11),e._UZ(12,"input",12),e.ALo(13,"mytranslate"),e.qZA(),e.YNc(14,_e,3,3,"div",13),e.qZA()(),e.TgZ(15,"div",14)(16,"config-level-subject",15),e.NdJ("idSubjectInLevel",function(a){e.CHM(o);const r=e.oxw();return e.KtG(r.checkSubjectIdInList(a))}),e.qZA()(),e.TgZ(17,"div",16),e._UZ(18,"config-purpose-exam",17),e.qZA(),e.TgZ(19,"div",18)(20,"div",9)(21,"label",19),e._uU(22),e.ALo(23,"mytranslate"),e.qZA()(),e.TgZ(24,"div",9)(25,"div",11),e._UZ(26,"textarea",20),e.ALo(27,"mytranslate"),e.qZA()()()(),e.TgZ(28,"div",21)(29,"azt-config-document-market",22),e.NdJ("emitChooseKnowledge",function(a){e.CHM(o);const r=e.oxw();return e.KtG(r.chooseKnowledge(a))}),e.qZA()(),e.TgZ(30,"div",23)(31,"div",24)(32,"button",25),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.cancelSaveDocumentObj())}),e._uU(33),e.ALo(34,"mytranslate"),e.qZA(),e.TgZ(35,"button",26),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.handleSaveDocument())}),e.YNc(36,ve,2,0,"span",27),e._uU(37),e.ALo(38,"mytranslate"),e.qZA()()()()()()()}if(2&u){const o=e.oxw();e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(7),e.hij(" ",e.lcZ(9,20,"lang_auto_ten")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(13,22,"lang_auto_nhap_ten")+" ..."),e.xp6(2),e.Q6J("ngIf",o.form.controls.name.errors),e.xp6(2),e.Q6J("form",o.form)("schoolLevelObjs",o.schoolLevelObjs)("schoolSubjectObjs",o.schoolSubjectObjs)("examSchoolLogObj",o.examSchoolLogObj)("isSetValueByLog",!1),e.xp6(2),e.Q6J("purposeList",o.listPurposeObjs)("form",o.form),e.xp6(4),e.hij(" ",e.lcZ(23,24,"lang_auto_mo_ta")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(27,26,"lang_core_nhap_mo_ta")+" ..."),e.xp6(3),e.Q6J("form",o.form)("listWeek",o.listWeek)("listKnowledge",o.listKnowledge),e.xp6(4),e.hij(" ",e.lcZ(34,28,"lang_auto_huy")," "),e.xp6(2),e.Q6J("disabled",o.logConfig.status),e.xp6(1),e.Q6J("ngIf",o.logConfig.status),e.xp6(1),e.hij(" ",e.lcZ(38,30,"lang_auto_luu")," ")}}function be(u,T){if(1&u&&(e.TgZ(0,"div",30)(1,"div",31)(2,"div",32)(3,"span"),e._UZ(4,"span",33),e._uU(5," \xa0 "),e.qZA(),e.TgZ(6,"div",34),e._uU(7),e.qZA()()()()),2&u){const o=e.oxw();e.xp6(7),e.Oqu(o.logConfig.msg)}}let xe=(()=>{class u extends A.Q{getLogPredictSubject(o){this.predictLogRequestObj=o}checkSubjectIdInList(o){this.isSubjectIdInList=o}chooseKnowledge(o){this.knowledgeList=o}cancelSaveDocumentObj(){this.onBack.emit(!0)}handleSaveDocument(){const o=this.getWeeksChecked(this.listWeek,this.form.controls.weeks.value);if(this.checkErrorValidateSave(o,this.knowledgeList))this.showErrorSnack("lang_cms_utils_folder_name_validate_space");else{if(this.type===i.e.exam&&this.isCreateQuestionToEditor&&this.dataSave.exam&&this.dataSave.exam.questionObj.listQuestions){this.logConfig.status=!0,this.logConfig.msg=this.commonService.myTranslateInstant("lang_auto_dang_luu_du_lieu_de_thi")??"",this.countProcess=0;const s=this.dataSave.exam.questionObj.listQuestions;let a=this.commonService.myTranslateInstant("lang_auto_xay_ra_loi_trong_qua_trinh_xu_ly_hinh_anh_cua_de_thi")??"";this.questionShareSaveService.convertQuestions(s,this.dataSave.exam.rootQuests,(r,d=a,b)=>{this.logConfig.status=!1,this.logConfig.msg="",this.showErrorSnack(d),b&&this.stopStatusObj()}).then(()=>{this.startMainProcessSaveEditor()})}this.type===i.e.exam&&!this.isCreateQuestionToEditor&&this.examObj?.id&&this.saveDocumentMarketQuestionObjs(),this.type!==i.e.exam&&this.link&&this.saveDocumentMarketQuestionObjs()}}initQuestionShare(){this.questionShareSaveService.callbackBase64ToCanvas=(o,s)=>{let a=this.commonService.myTranslateInstant("lang_auto_dang_xu_ly_hinh_anh_cho_de_thi");this.logConfig.msg=`${a} ${Math.floor(o/s*100*.7)}%`},this.questionShareSaveService.callbackUploadImage=(o,s)=>{let a=this.commonService.myTranslateInstant("lang_auto_dang_xu_ly_hinh_anh_cho_de_thi");this.logConfig.msg=`${a} ${Math.floor(o/s*100*.3)+70}%`}}processSaveQuestionsFromEditor(o,s,a){if(this.dataSave.exam?.questionObj&&this.dataSave.exam?.questionObj.listQuestions){var r=this.dataSave.exam?.questionObj.listQuestions.length;let d=o+100>r?r:o+100,b=this.dataSave.exam?.questionObj.listQuestions.slice(o,d)??[],D=[];for(const g of b)D.push({categoryId:g.categoryId,groupId:g.groupId,name:g.name??"none",metadata:g.metadata,isImage:g.isImage,questionContent:g.questionContent,answerMedia:g.answerMedia,questionText:g.questionText,answerType:g.answerType,answerConfig:g.answerConfig,coordinates:g.coordinates,answerResult:g.answerResult,totalQuestion:g.totalQuestion,tags:g.tags??[],mediaId:g.mediaId,mediaMeta:g.mediaMeta,attachments:g.attachments,version:g.version,isFixAns:g.isFixAns,groupType:g.groupType,__path:g.__path});D.length>0?this.sAztSaveProcessService.saveQuestionObjsFromEditor(this.dataSave,D,s).then(g=>{g&&g.listQuestionId.length>0?(a.listQuestionId=a.listQuestionId.concat(g.listQuestionId),this.processSaveQuestionsFromEditor(d,g.indexSaved,a)):(this.countProcess=0,this.logConfig.status=!1,this.logConfig.msg="",this.showErrorSnack("lang_auto_khong_luu_duoc_noi_dung_cau_hoi_trong_de_vui_long_kiem_tra_lai"))}):this.saveDocumentMarketQuestionObjs(a)}}startMainProcessSaveEditor(){this.dataSave.exam&&this.dataSave.exam.questionObj&&this.processSaveQuestionsFromEditor(0,0,{indexSaved:0,listQuestionId:[]})}GetSubjectAndLevel(){this.initStatusObj(),this.subscriptions.add(this.documentConfigService.apiDocumentConfigGetSubjectAndLevelObjsGet().subscribe(o=>{1==o.success?(this.examSchoolLogObj=o.data?.examSchoolLogObj,this.schoolLevelObjs=o.data?.schoolLevelObjs??[],this.schoolSubjectObjs=o.data?.schoolSubjectObjs??[],this.getListPurposeExam()):this.errorStatusObj(o.message??"")}))}getListPurposeExam(){this.initStatusObj(),this.subscriptions.add(this.examService.apiExamListExamPurposesGet().subscribe(o=>{1===o.success?(this.listPurposeObjs=o.data?.objs??[],this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}getKnowledgeData(){const o=this.form.controls.schoolLevel.value,s=this.form.controls.schoolSubject.value;o&&s&&this.subscriptions.add(this.knowledgeService.apiKnowledgeGet(o,s).subscribe(a=>{a.list&&(this.listKnowledge=a.list)}))}checkErrorValidateSave(o,s){return!(!this.form.invalid&&("0"!=this.form.controls.creatorId.value||this.form.controls.creatorFullName.value&&this.form.controls.creatorFullName.value&&this.form.controls.creatorPhone.value&&this.form.controls.creatorWorkingAddress.value)&&("0"!=this.form.controls.creatorId.value||10===this.form.controls.creatorPhone.value.length)&&o.length)}fillConfig(){const o=Number(this.commonService.getMyParam(this.activeRoute,"levelId")),s=Number(this.commonService.getMyParam(this.activeRoute,"subjectId"));if(this.examObj?.id)this.subscriptions.add(this.documentConfigService.apiDocumentConfigGetExamConfigDataGet(this.examObj.hashId??"").subscribe(a=>{if(1===a.success){const r=a.data?.examObj;this.form.controls.name.setValue(r?.name??""),this.form.controls.description.setValue(r?.description??""),this.form.controls.schoolLevel.setValue(r?.schoolLevelId??o),this.form.controls.schoolSubject.setValue(r?.schoolSubjectId??s),this.form.controls.purposeExam.setValue(a.data?.purposeId??0),this.form.controls.purposeNote.setValue(a.data?.purposeNote??"")}else this.errorStatusObj(a.message??"",!0)}));else if(this.isCreateQuestionToEditor){const a=Number(this.browserStorageService.getSimpleStorage("levelId")??0),r=Number(this.browserStorageService.getSimpleStorage("subjectId")??0);this.form.controls.schoolLevel.setValue(a),this.form.controls.schoolSubject.setValue(r)}else this.form.controls.schoolLevel.setValue(o),this.form.controls.schoolSubject.setValue(s),this.form.controls.name.setValue(this.name)}getWeeksChecked(o,s){let a=[];for(let r=0;r<s.length;r++)s[r]&&o[r]&&a.push(o[r]);return a}createListWeek(){for(let s=0;s<35;s++)this.listWeek.push(s+1)}saveDocumentMarketQuestionObjs(o){const s=this.getWeeksChecked(this.listWeek,this.form.controls.weeks.value);this.logConfig.status=!0;let a={name:this.form.controls.name.value,type:this.type,schoolLevelId:this.form.controls.schoolLevel.value,schoolSubjectId:this.form.controls.schoolSubject.value,purposeId:this.form.controls.purposeExam.value,purposeNote:this.form.controls.purposeNote.value,description:this.form.controls.description.value,creatorId:Number(this.form.controls.creatorId.value),creatorFullName:this.form.controls.creatorFullName.value,creatorPhone:this.form.controls.creatorPhone.value,creatorWorkingAddress:this.form.controls.creatorWorkingAddress.value,knowledgeIds:this.knowledgeList,weeks:s,fileType:this.fileType};switch(this.type){case i.e.exam:if(o&&this.isCreateQuestionToEditor){let r=[];r=o.listQuestionId.map(d=>d??0)??[],a.questionIds=r}this.examObj?.id&&!this.isCreateQuestionToEditor&&(a.examId=this.examObj?.id,a.questionIds=[]);break;case i.e.lecture:case i.e.ref:a.link=this.link}this.subscriptions.add(this.documentService.apiDocumentsPost(a).subscribe(r=>{r.id?(this.successStatusObj("lang_document_successful_sharing",!0),this.myNavigation("/document-market/list-documents/your-documents/1")):this.errorStatusObj(""),this.logConfig.status=!0,this.logConfig.msg=""}))}ngOnInit(){if(super.ngOnInit(),this.GetSubjectAndLevel(),this.createListWeek(),this.getKnowledgeData(),this.fillConfig(),this.form.controls.schoolSubject.valueChanges.subscribe(o=>{this.getKnowledgeData()}),this.form.controls.schoolLevel.valueChanges.subscribe(o=>{this.getKnowledgeData()}),this.type===i.e.exam&&this.isCreateQuestionToEditor){this.dataSave=this.editorOutputDataService.getOutputData();const o=25;this.questionContent=[],this.dataSave.exam?.questionObj.listQuestions?.forEach((a,r)=>{r<o&&this.questionContent.push(this.partQuestionSearchTextService.partQuestionSearchTextByQuestionForm(a))}),this.form.controls.name.setValue(this.dataSave.exam?.examObj.name??this.dataSave.homework?.name??""),this.GetSubjectAndLevel()}}constructor(o,s,a,r,d,b,D,g,W,L){super(),this.documentConfigService=o,this.activeRoute=s,this.examService=a,this.documentService=r,this.knowledgeService=d,this.questionShareSaveService=b,this.editorOutputDataService=D,this.partQuestionSearchTextService=g,this.sAztSaveProcessService=W,this.browserStorageService=L,this.type=i.e.exam,this.isCreateQuestionToEditor=!1,this.name="",this.onBack=new e.vpe,this.schoolLevelObjs=[],this.schoolSubjectObjs=[],this.listPurposeObjs=[],this.listKnowledge=[],this.isSubjectIdInList=!1,this.logConfig={},this.dataSave={},this.saveParts=[],this.questionContent=[],this.countProcess=0,this.knowledgeList=[],this.listWeek=[],this.form=new t.cw({name:new t.NI("",{nonNullable:!0,validators:[t.kI.required,p._.noWhiteSpace]}),description:new t.NI("",{nonNullable:!0}),schoolLevel:new t.NI(0,{nonNullable:!0,validators:[t.kI.required,t.kI.min(1)]}),schoolSubject:new t.NI(0,{nonNullable:!0,validators:[t.kI.required,t.kI.min(1)]}),purposeExam:new t.NI(0,{nonNullable:!0,validators:[t.kI.required,t.kI.min(1)]}),purposeNote:new t.NI("",{nonNullable:!0}),knowledgeIds:new t.Oe([]),weeks:new t.Oe([]),creatorId:new t.NI("1",{nonNullable:!0}),creatorFullName:new t.NI("",{nonNullable:!0}),creatorPhone:new t.NI("",{nonNullable:!0}),creatorWorkingAddress:new t.NI("",{nonNullable:!0})}),this.type===i.e.exam&&this.isCreateQuestionToEditor&&this.initQuestionShare()}}return u.\u0275fac=function(o){return new(o||u)(e.Y36(S.Cq),e.Y36(l.gz),e.Y36(S.Oe),e.Y36(h.Zg),e.Y36(h.zH),e.Y36(E),e.Y36(v.O),e.Y36(C.r),e.Y36(f.a),e.Y36(_.n))},u.\u0275cmp=e.Xpm({type:u,selectors:[["azt-config-share-document"]],inputs:{type:"type",isCreateQuestionToEditor:"isCreateQuestionToEditor",fileType:"fileType",link:"link",name:"name",examObj:"examObj"},outputs:{onBack:"onBack"},features:[e.qOj],decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["style","width: 100vw; height: 100vh; position: fixed; z-index: 9999; top: 0; left: 0; display: flex; justify-content: center; align-items: center; background-color: rgba(0, 0, 0, 0.4)",4,"ngIf"],[1,"intro-y","mt-8","p-3"],[3,"formGroup"],[1,"mx-auto",2,"max-width","1100px"],[1,"setting-block"],[1,"box","mt-2","p-3"],["id","azt-config-name",1,"grid","grid-cols-12"],[1,"col-span-12","lg:col-span-12"],["for","general-name",1,"form-label","mb-0","font-medium","flex","items-center"],[1,"setting-input"],["id","general-name","formControlName","name","type","text",1,"form-control",3,"placeholder"],["class","mt-2 text-danger text-xs fade",4,"ngIf"],[1,"mt-4"],[3,"form","schoolLevelObjs","schoolSubjectObjs","examSchoolLogObj","isSetValueByLog","idSubjectInLevel"],[1,"mt-2"],[3,"purposeList","form"],["id","azt-config-desc",1,"grid","grid-cols-12","mt-4"],["for","general-desc",1,"form-label","mb-0","font-medium","flex","items-center"],["id","general-desc","formControlName","description",1,"form-control","w-full",2,"height","150px",3,"placeholder"],[1,"config-document-market"],[3,"form","listWeek","listKnowledge","emitChooseKnowledge"],[1,"mt-5"],[1,"text-right"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 mr-2",4,"ngIf"],[1,"mt-2","text-danger","text-xs","fade"],[1,"w-4","h-4","mr-2"],[2,"width","100vw","height","100vh","position","fixed","z-index","9999","top","0","left","0","display","flex","justify-content","center","align-items","center","background-color","rgba(0, 0, 0, 0.4)"],[2,"text-align","center","color","#000000"],[2,"margin-bottom","10px"],["role","status",1,"spinner-border","spinner-border-sm"],[2,"font-size","20px","margin-top","10px","background-color","#f0f8ffa3","padding","10px","border-radius","5px"]],template:function(o,s){if(1&o&&(e.YNc(0,fe,1,0,"azt-loading-effect",0),e.YNc(1,Se,39,32,"ng-template",null,1,e.W1O),e.YNc(3,be,8,1,"div",2)),2&o){const a=e.MAs(2);e.Q6J("ngIf",s.statusObj.loading)("ngIfElse",a),e.xp6(3),e.Q6J("ngIf",s.logConfig.status&&s.isCreateQuestionToEditor)}},dependencies:[c.O5,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u,m.l,j.M,N.n,M.Z,G.u,ge,Y.JV],encapsulation:2}),u})()},40687:(Q,w,n)=>{n.d(w,{a:()=>S});var e=n(65879),t=n(46558),i=n(70731),A=n(24276),p=n(32169);let S=(()=>{class l{convertBase64OfMathJaxToCdnUrlInQuestions(y,x){return new Promise((I,Z)=>{const k=null==x?new i.Q(10):new i.Q(10,{function:x},0);y.forEach(E=>{k.addTask(this.dataAztMathRawHelper,this.dataAztMathRawHelper.convertBase64OfMathJaxToCdnUrl,[E])}),k.start().then(E=>{0===E.errs.length?I(E.datas):Z(E.errs[0])})})}saveQuestionObjsFromEditor(y,x,I){return new Promise(Z=>{this.convertBase64OfMathJaxToCdnUrlInQuestions(x,void 0).then(k=>{let E=[];for(let v=0;v<k.length;v++){let C=k[v];C.expandInfo=this.commonService.serializeJson(y.exam?.examObj.expandInfoObj),E.push(C)}this.questionService.apiQuestionsPost({listQuestions:E}).subscribe(v=>{Z(v.list?{indexSaved:v.list.length+I,listQuestionId:v.list}:{indexSaved:I,listQuestionId:[]})})}).catch(()=>{Z({indexSaved:I,listQuestionId:[]})})})}constructor(y,x){this.questionService=y,this.dataAztMathRawHelper=x,this.commonService=(0,e.f3M)(t.z)}}return l.\u0275fac=function(y){return new(y||l)(e.LFG(A.aE),e.LFG(p.n))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},35861:(Q,w,n)=>{n.d(w,{Z:()=>C});var e=n(65879),t=n(47496),i=n(64728),A=n(96814),p=n(23680),S=n(64170),l=n(98525),h=n(56223),y=n(67679),x=n(40750);let I=(()=>{class f{transform(c,m){if(!c)return"";const j=c.find(M=>M.id==m);return j?j.key??"":""}}return f.\u0275fac=function(c){return new(c||f)},f.\u0275pipe=e.Yjl({name:"aztFindSchoolSubjectById",type:f,pure:!0}),f})();function Z(f,_){if(1&f&&(e.TgZ(0,"mat-option",15),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f){const c=_.$implicit;e.Q6J("value",c.id),e.xp6(1),e.hij(" ",e.lcZ(2,2,c.key)," ")}}function k(f,_){if(1&f&&(e.TgZ(0,"mat-option",15),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f){const c=_.$implicit;e.Q6J("value",c.id),e.xp6(1),e.hij(" ",e.lcZ(2,2,c.key)," ")}}function E(f,_){1&f&&(e.TgZ(0,"div",16),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&f&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_chon_khoi_hoc_va_mon_hoc")," "))}function v(f,_){if(1&f){const c=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"span"),e._uU(3),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.ALo(6,"mytranslate"),e.ALo(7,"aztFindSchoolSubjectById"),e.ALo(8,"mytranslate"),e.ALo(9,"mytranslate"),e.ALo(10,"aztFindSchoolSubjectById"),e.qZA(),e.TgZ(11,"a",19),e.NdJ("click",function(){e.CHM(c);const j=e.oxw();return e.KtG(j.changeSubjectIdByPredict())}),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()()()}if(2&f){const c=e.oxw();e.xp6(3),e.hij("",e.lcZ(4,2,"lang_testbank_please_double_check_the_subject_for_accuracy")+". "+e.lcZ(5,4,"lang_testbank_the_system_recognizes_your_subject_as_a_subject")+" "+e.lcZ(6,6,e.xi3(7,8,c.schoolSubjectObjs,c.predictSchoolSubjectId))+", "+e.lcZ(8,11,"lang_testbank_you_are_choosing_subject")+" "+e.lcZ(9,13,e.xi3(10,15,c.schoolSubjectObjs,c.form.controls.schoolSubject.value))+". "," "),e.xp6(9),e.hij(" ",e.lcZ(13,18,"lang_testbank_click_here_to_change_it_to_the_correct_one")+"."," ")}}let C=(()=>{class f extends t.Q{filterSchoolSubject(c){this.filterSubject(c??1)}changeSubjectIdByPredict(){const c=this.schoolSubjectObjs.find(N=>N.id==this.predictSchoolSubjectId),m=this.form?.controls.schoolLevel.value??0;let j=0;c&&c.from&&c.to&&(Number(m)>=c.from||Number(m)<=c.to?(j=this.getSubjectIdFilter(this.subjectSelectedList),this.form?.controls.schoolSubject.setValue(j)):(this.form?.controls.schoolLevel.setValue(c.from),this.filterSchoolSubject(this.form?.controls.schoolLevel.value),j=this.getSubjectIdFilter(this.subjectSelectedList),this.form?.controls.schoolSubject.setValue(j)),this.predictLogRequestObj.acceptPredictStatus=1,this.sendLogPredictSubject.emit(this.predictLogRequestObj))}predictSchoolSubjectByQuestionContent(){this.initStatusObj(),this.subscriptions.add(this.aiService.apiAiPredictSubjectPost({questionContents:this.questionContents}).subscribe(m=>{1===m.success?(this.predictSchoolSubjectId=m.data?.schoolSubjectId??0,this.predictSchoolSubjectId&&(this.checkPredictSchoolSubject=this.checkPredictSubject(),this.predictLogRequestObj={predictSchoolSubjectId:this.predictSchoolSubjectId,acceptPredictStatus:-1!=this.predictSchoolSubjectId&&this.showPredictSchoolSubject&&!this.checkPredictSchoolSubject?0:2,predictByTotalQuestion:this.questionContents.length},this.sendLogPredictSubject.emit(this.predictLogRequestObj)),this.successStatusObj()):this.errorStatusObj(m.message??"",!0)}))}getArrayIdSubject(){const c=this.getKeySubjectById(this.predictSchoolSubjectId,this.schoolSubjectObjs);return this.convertSubjectList(this.schoolSubjectObjs)[c]}getSubjectIdFilter(c){const m=this.getArrayIdSubject();let j=0;for(let N=0;N<c.length;N++){const M=c[N];if(M.id&&m.includes(M.id)){j=M.id;break}}return j}filterSubject(c){let m=this.commonService.myClone(this.schoolSubjectObjs);this.subjectSelectedList=m.filter(M=>!(M.from&&M.to&&c)||c>=M.from&&c<=M.to);let j=this.form?.controls.schoolSubject.value,N=this.subjectSelectedList.filter(M=>M.id==j);(!N||!N.length)&&this.form?.controls.schoolSubject.setValue(0)}checkPredictSubject(){const c=this.getArrayIdSubject(),m=Number(this.form?.controls.schoolSubject.value)??0;return c?.includes(m)}convertSubjectList(c){const m={};return c.forEach(j=>{j.key&&(m[j.key]||(m[j.key]=[]),m[j.key].push(j.id))}),m}getKeySubjectById(c,m){const j=m.find(M=>M.id==c);return j?j.key??"":""}renderData(){0==this.typeView?this.examSchoolLogObj?.id?(this.filterSchoolSubject(this.examSchoolLogObj?.lastSchoolLevelId??0??this.schoolLevelObjs[0].id),this.isSetValueByLog&&(this.form?.controls.schoolLevel.setValue(this.examSchoolLogObj?.lastSchoolLevelId??0),this.form?.controls.schoolSubject.setValue(this.examSchoolLogObj?.lastSchoolSubjectId??0))):this.filterSchoolSubject(0):this.filterSchoolSubject(this.form?.controls.schoolLevel.value)}checkSubjectIdInLevel(){const c=this.form.controls.schoolSubject.value;for(let m=0;m<this.subjectSelectedList.length;m++)if(this.subjectSelectedList[m].id==c)return!0;return!1}ngOnChanges(){(this.schoolLevelObjs||this.subjectSelectedList)&&this.renderData()}ngOnInit(){this.renderData(),this.showPredictSchoolSubject&&this.predictSchoolSubjectByQuestionContent(),this.isSubjectIdInList=this.checkSubjectIdInLevel(),this.idSubjectInLevel.emit(this.isSubjectIdInList),this.form?.controls.schoolSubject?.valueChanges.subscribe(()=>{this.predictSchoolSubjectId&&(this.checkPredictSchoolSubject=this.checkPredictSubject(),this.predictLogRequestObj.acceptPredictStatus=-1!=this.predictSchoolSubjectId&&this.showPredictSchoolSubject&&!this.checkPredictSchoolSubject?0:2,this.sendLogPredictSubject.emit(this.predictLogRequestObj)),this.isSubjectIdInList=this.checkSubjectIdInLevel(),this.idSubjectInLevel.emit(this.isSubjectIdInList)})}constructor(c){super(),this.aiService=c,this.schoolLevelObjs=[],this.schoolSubjectObjs=[],this.formControlName="",this.typeView=0,this.questionContents=[],this.showPredictSchoolSubject=!1,this.isSetValueByLog=!0,this.sendLogPredictSubject=new e.vpe,this.idSubjectInLevel=new e.vpe,this.subjectSelectedList=[],this.targetExamGroupObjs=[],this.checkPredictSchoolSubject=!1,this.predictSchoolSubjectId=-1,this.predictLogRequestObj={predictSchoolSubjectId:0,acceptPredictStatus:0,predictByTotalQuestion:0},this.isSubjectIdInList=!0}}return f.\u0275fac=function(c){return new(c||f)(e.Y36(i.p))},f.\u0275cmp=e.Xpm({type:f,selectors:[["config-level-subject"]],inputs:{form:"form",schoolLevelObjs:"schoolLevelObjs",schoolSubjectObjs:"schoolSubjectObjs",examSchoolLogObj:"examSchoolLogObj",formControlName:"formControlName",typeView:"typeView",questionContents:"questionContents",showPredictSchoolSubject:"showPredictSchoolSubject",isSetValueByLog:"isSetValueByLog"},outputs:{sendLogPredictSubject:"sendLogPredictSubject",idSubjectInLevel:"idSubjectInLevel"},features:[e.qOj,e.TTD],decls:28,vars:19,consts:[[1,"config-level-subject"],[3,"formGroup"],["id","azt-config-level-subject",1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],[1,"font-medium"],["for","schoolLevel",1,"form-label","flex","items-center"],["appearance","outline"],["formControlName","schoolLevel","name","schoolLevel",3,"selectionChange"],["disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","schoolSubject",1,"form-label","flex","items-center"],["id","schoolSubject","formControlName","schoolSubject","name","schoolSubject"],[1,"col-span-12",2,"margin-top","-20px"],["class","text-xs mt-2 text-danger",4,"ngIf"],["class","col-span-12","style","margin-top: -32px;",4,"ngIf"],[3,"value"],[1,"text-xs","mt-2","text-danger"],[1,"col-span-12",2,"margin-top","-32px"],[1,"text-xs","text-pending","font-medium"],[1,"btn-text-primary","font-medium",3,"click"]],template:function(c,m){1&c&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()(),e.TgZ(8,"mat-form-field",6)(9,"mat-select",7),e.NdJ("selectionChange",function(){return m.filterSchoolSubject(m.form.controls.schoolLevel.value)}),e.TgZ(10,"mat-option",8),e._uU(11),e.ALo(12,"mytranslate"),e.qZA(),e.YNc(13,Z,3,4,"mat-option",9),e.qZA()()(),e.TgZ(14,"div",3)(15,"div",4)(16,"label",10),e._uU(17),e.ALo(18,"mytranslate"),e.qZA()(),e.TgZ(19,"mat-form-field",6)(20,"mat-select",11)(21,"mat-option",8),e._uU(22),e.ALo(23,"mytranslate"),e.qZA(),e.YNc(24,k,3,4,"mat-option",9),e.qZA()()(),e.TgZ(25,"div",12),e.YNc(26,E,3,3,"div",13),e.qZA(),e.YNc(27,v,14,20,"div",14),e.qZA()()()),2&c&&(e.xp6(1),e.Q6J("formGroup",m.form),e.xp6(5),e.hij(" ",e.lcZ(7,11,"lang_auto_khoi_hoc")," "),e.xp6(4),e.Q6J("value",0),e.xp6(1),e.hij("",e.lcZ(12,13,"lang_auto_---chon_khoi"),"---"),e.xp6(2),e.Q6J("ngForOf",m.schoolLevelObjs),e.xp6(4),e.hij(" ",e.lcZ(18,15,"lang_auto_mon_hoc")," "),e.xp6(4),e.Q6J("value",0),e.xp6(1),e.hij("",e.lcZ(23,17,"lang_auto_---chon_mon"),"---"),e.xp6(2),e.Q6J("ngForOf",m.subjectSelectedList),e.xp6(2),e.Q6J("ngIf",0==(null==m.form||null==m.form.controls||null==m.form.controls.schoolLevel?null:m.form.controls.schoolLevel.value)||0==(null==m.form||null==m.form.controls||null==m.form.controls.schoolSubject?null:m.form.controls.schoolSubject.value)||!m.isSubjectIdInList),e.xp6(1),e.Q6J("ngIf",-1!=m.predictSchoolSubjectId&&m.showPredictSchoolSubject&&!m.checkPredictSchoolSubject&&0!=(null==m.form||null==m.form.controls||null==m.form.controls.schoolSubject?null:m.form.controls.schoolSubject.value)&&!m.statusObj.loading))},dependencies:[A.sg,A.O5,p.ey,S.KE,l.gD,h._Y,h.JJ,h.JL,h.sg,h.u,y.M,x.JV,I],encapsulation:2}),f})()},18727:(Q,w,n)=>{n.d(w,{u:()=>v});var e=n(47496),t=n(65879),i=n(96814),A=n(23680),p=n(64170),S=n(98525),l=n(56223),h=n(67679),y=n(40750);function x(C,f){if(1&C&&(t.TgZ(0,"mat-option",14),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&C){const _=f.$implicit;t.Q6J("value",_.id),t.xp6(1),t.hij(" ",t.lcZ(2,2,_.code)," ")}}function I(C,f){if(1&C&&(t.TgZ(0,"mat-optgroup",12),t.ALo(1,"mytranslate"),t.YNc(2,x,3,4,"mat-option",13),t.qZA()),2&C){const _=f.$implicit;t.s9C("label",t.lcZ(1,2,_.groupName)),t.xp6(2),t.Q6J("ngForOf",_.purposeListInGroup)}}function Z(C,f){1&C&&(t.TgZ(0,"div",15),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&C&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_please_choose_purpose_exam")," "))}function k(C,f){1&C&&(t.TgZ(0,"div",15),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&C&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_please_enter_purpose_create_exam")," "))}function E(C,f){if(1&C&&(t.TgZ(0,"div",3)(1,"div",4)(2,"label",16),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",17),t._UZ(6,"input",18),t.ALo(7,"mytranslate"),t.qZA(),t.YNc(8,k,3,3,"div",10),t.qZA()),2&C){const _=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,3,"lang_testbank_enter_create_exam_target")," "),t.xp6(3),t.s9C("placeholder",t.lcZ(7,5,"lang_testbank_enter_create_exam_target")+" ..."),t.xp6(2),t.Q6J("ngIf",(4==(null==_.form.controls.purposeExam?null:_.form.controls.purposeExam.value)||8==(null==_.form.controls.purposeExam?null:_.form.controls.purposeExam.value)||12==(null==_.form.controls.purposeExam?null:_.form.controls.purposeExam.value))&&""===(null==_.form.controls.purposeNote||null==_.form.controls.purposeNote.value?null:_.form.controls.purposeNote.value.trim()))}}let v=(()=>{class C extends e.Q{convertPurposeList(){this.targetExamGroupObjs=[],this.purposeList.forEach(_=>{const{semester:c}=_;let m=this.targetExamGroupObjs.find(j=>j.semester===c);m||(m={semester:c,groupName:this.getGroupNamePurpose(_.semester??1),purposeListInGroup:[]},this.targetExamGroupObjs.push(m)),m.purposeListInGroup?.push(_)})}getGroupNamePurpose(_){switch(_){case 1:default:return"lang_testbank_semester_one";case 2:return"lang_testbank_semester_two";case 3:return"lang_testbank_another_purpose"}}ngOnInit(){this.convertPurposeList()}constructor(){super(),this.purposeList=[],this.targetExamGroupObjs=[]}}return C.\u0275fac=function(_){return new(_||C)},C.\u0275cmp=t.Xpm({type:C,selectors:[["config-purpose-exam"]],inputs:{form:"form",purposeList:"purposeList"},features:[t.qOj],decls:16,vars:11,consts:[[1,"config-purpose-exan"],[3,"formGroup"],["id","azt-config-purpose-exam",1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"font-medium"],[1,"form-label","flex","items-center"],["appearance","outline"],["formControlName","purposeExam","name","purposeExam"],["disabled","",3,"value"],[3,"label",4,"ngFor","ngForOf"],["class","mt-2 text-danger text-xs",4,"ngIf"],["class","col-span-12",4,"ngIf"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mt-2","text-danger","text-xs"],["for","enter_target_create_exam",1,"form-label","flex","items-center"],[1,"setting-input"],["id","enter_target_create_exam","formControlName","purposeNote","type","text",1,"form-control",3,"placeholder"]],template:function(_,c){1&_&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"mat-form-field",6)(9,"mat-select",7)(10,"mat-option",8),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.YNc(13,I,3,4,"mat-optgroup",9),t.qZA()(),t.YNc(14,Z,3,3,"div",10),t.qZA(),t.YNc(15,E,9,7,"div",11),t.qZA()()()),2&_&&(t.xp6(1),t.Q6J("formGroup",c.form),t.xp6(5),t.hij(" ",t.lcZ(7,7,"lang_testbank_target_exam")," "),t.xp6(4),t.Q6J("value",0),t.xp6(1),t.hij("---",t.lcZ(12,9,"lang_testbank_choose_purpose"),"---"),t.xp6(2),t.Q6J("ngForOf",c.targetExamGroupObjs),t.xp6(1),t.Q6J("ngIf",0==c.form.controls.purposeExam.value),t.xp6(1),t.Q6J("ngIf",4==(null==c.form.controls.purposeExam?null:c.form.controls.purposeExam.value)||8==(null==c.form.controls.purposeExam?null:c.form.controls.purposeExam.value)||12==(null==c.form.controls.purposeExam?null:c.form.controls.purposeExam.value)))},dependencies:[i.sg,i.O5,A.ey,A.Nv,p.KE,S.gD,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,h.M,y.JV],encapsulation:2}),C})()},89310:(Q,w,n)=>{n.d(w,{P:()=>Z});var e=n(37398),t=n(47496),i=n(65879),A=n(97151),p=n(46558),S=n(69862),l=n(96814),h=n(40750);function y(k,E){if(1&k){const v=i.EpF();i.ynx(0),i.TgZ(1,"a",2),i.NdJ("click",function(){i.CHM(v);const f=i.oxw();return i.KtG(f.shareFileToFlutter())}),i.TgZ(2,"span"),i._uU(3),i.ALo(4,"mytranslate"),i.qZA(),i.Hsn(5),i.qZA(),i.BQk()}if(2&k){const v=i.oxw();i.xp6(1),i.Akn(v.style),i.Tol(v.classStyle),i.s9C("target",v.target),i.xp6(2),i.Oqu(i.lcZ(4,7,v.fileDescription))}}function x(k,E){if(1&k&&(i.TgZ(0,"a",3)(1,"span"),i._uU(2),i.ALo(3,"mytranslate"),i.qZA(),i.Hsn(4,1),i.qZA()),2&k){const v=i.oxw();i.Akn(v.style),i.Tol(v.classStyle),i.s9C("href",v.dataUrl,i.LSH),i.s9C("target",v.target),i.s9C("download",v.fileName),i.xp6(2),i.Oqu(i.lcZ(3,9,v.fileDescription))}}const I=["*","*"];let Z=(()=>{class k extends t.Q{downloadFile(){return this.http.get(this.dataUrl,{responseType:"blob"}).pipe((0,e.U)(v=>v))}shareFileToFlutter(){this.downloadFile().subscribe(v=>{this.shareFileFlutterService.shareFileWithBlob(v,this.fileName)})}ngOnInit(){super.ngOnInit()}constructor(v,C,f){super(),this.shareFileFlutterService=v,this.commonService=C,this.http=f,this.dataUrl="",this.target="",this.fileName="",this.fileDescription="",this.classStyle="",this.style=""}}return k.\u0275fac=function(v){return new(v||k)(i.Y36(A.g),i.Y36(p.z),i.Y36(S.eN))},k.\u0275cmp=i.Xpm({type:k,selectors:[["azt-download-link-item"]],inputs:{dataUrl:"dataUrl",target:"target",fileName:"fileName",fileDescription:"fileDescription",classStyle:"classStyle",style:"style"},features:[i.qOj],ngContentSelectors:I,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["NormalWeb",""],[3,"target","click"],[3,"href","target","download"]],template:function(v,C){if(1&v&&(i.F$t(I),i.YNc(0,y,6,9,"ng-container",0),i.YNc(1,x,5,11,"ng-template",null,1,i.W1O)),2&v){const f=i.MAs(2);i.Q6J("ngIf",C.isMobileWebView)("ngIfElse",f)}},dependencies:[l.O5,h.JV],encapsulation:2}),k})()},72358:(Q,w,n)=>{n.d(w,{M:()=>S});var e=n(47496),t=n(65879),i=n(96814);function A(l,h){1&l&&(t.O4$(),t.TgZ(0,"svg",2),t._UZ(1,"polyline",3)(2,"polyline",4),t.qZA())}function p(l,h){1&l&&(t.O4$(),t.TgZ(0,"svg",2),t._UZ(1,"polyline",5)(2,"polyline",6),t.qZA())}let S=(()=>{class l extends e.Q{constructor(){super(...arguments),this.isScrollToTop=!1}scrollTo(){this.isScrollToTop?window.scrollTo(0,0):window.scrollTo(0,document.body.scrollHeight)}ngOnInit(){super.ngOnInit()}}return l.\u0275fac=function(){let h;return function(x){return(h||(h=t.n5z(l)))(x||l)}}(),l.\u0275cmp=t.Xpm({type:l,selectors:[["azt-scroll-to-top-bottom"]],inputs:{isScrollToTop:"isScrollToTop"},features:[t.qOj],decls:3,vars:2,consts:[["azt-track-service","azt-scroll-to-top-bottom-DbRV8ySsXT1",1,"toolBarMobile","clickable",3,"click"],["style","color: white","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",2,"color","white"],["points","17 11 12 6 7 11"],["points","17 18 12 13 7 18"],["points","7 13 12 18 17 13"],["points","7 6 12 11 17 6"]],template:function(y,x){1&y&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return x.scrollTo()}),t.YNc(1,A,3,0,"svg",1),t.YNc(2,p,3,0,"svg",1),t.qZA()),2&y&&(t.xp6(1),t.Q6J("ngIf",x.isScrollToTop),t.xp6(1),t.Q6J("ngIf",!x.isScrollToTop))},dependencies:[i.O5],styles:[".toolBarMobile[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;z-index:100;margin:0 40px 25px;padding:5px;background:rgba(181,181,181,.5294117647);border-radius:3px}"]}),l})()}}]);