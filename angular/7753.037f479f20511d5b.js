"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[7753],{43166:(w,k,c)=>{c.d(k,{x:()=>O});var m=c(10936),f=c(26860),P=c(62095);let O=(()=>{var t;class e{filter(p,x){return null==p?[]:p=p.filter(v=>this.removeAllSpecialChars((null!=x?v[x]:v).toString()).includes(this.removeAllSpecialChars(this.searchControl.value)))}mergeSchoolLevel(p){let x=[];return p.forEach(v=>null!=v.schoolLevel&&x.push(v.schoolLevel)),x}removeAllSpecialChars(p){return p=(p=this.commonService.myTranslateInstant(p)??p).toLowerCase().trim(),p=this.commonService.convertVietnameseToEnglish(p),p=this.commonService.removeSpecialStringInSearch(p),(p=this.commonService.removeNonAlphabetic(p)).toLowerCase().trim()}constructor(p){this.commonService=p,this.searchControl=new m.MJ("",{nonNullable:!0})}}return(t=e).\u0275fac=function(p){return new(p||t)(f.rXU(P.R))},t.\u0275dir=f.FsC({type:t,selectors:[["","searchInList",""]],exportAs:["searchInList"]}),e})()},60495:(w,k,c)=>{c.d(k,{A:()=>V});var m=c(10936),f=c(89163),P=c(33887);class O{static checkBoxValidator(g){const n=g;return n.controls.permissionObjs.getRawValue().filter(_=>_.checkbox).length>=1?(n.controls.permissionObjs.setErrors(null),null):(n.controls.permissionObjs.setErrors({permissionCheckboxValidator:!0}),{identityRevealed:!0})}}var t=c(26860),e=c(21213),j=c(3635),p=c(54460),x=c(15343),v=c(18718),M=c(76975);function C(s,g){if(1&s&&t.nrm(0,"azt-loading-effect",3),2&s){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}const R=function(){return{"mr-2 text-danger":!0}};function z(s,g){if(1&s){const n=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"h3",6),t.nrm(3,"lucide-icon",7),t.j41(4,"span",8),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"span",9),t.EFF(8),t.k0s(),t.EFF(9," ? "),t.k0s()()()(),t.j41(10,"div",10)(11,"button",11),t.bIt("click",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.cancelDelete())}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",12),t.bIt("click",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.deletePermissionEvent())}),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()}if(2&s){const n=t.XpG();t.R7$(3),t.Y8G("ngClass",t.lJ4(11,R)),t.R7$(2),t.SpI(" ",t.bMT(6,5,"lang_auto_ban_co_chac_chan_muon_xoa")," "),t.R7$(3),t.JRh(n.groupObj?n.groupObj.name:null==n.teacherObj?null:n.teacherObj.fullName),t.R7$(4),t.JRh(t.bMT(13,7,"lang_auto_huy")),t.R7$(3),t.JRh(t.bMT(16,9,"lang_auto_xac_nhan"))}}let I=(()=>{var s;class g extends P._{deletePermissionEvent(){this.shareDataObj?.ebankPemisions?this.deleteTeacherEbankPermission():this.groupObj?this.deleteGroupPermission(this.groupObj?.id,this.shareDataObj?.objectId,this.shareDataObj?.objectCodeType):this.teacherObj&&this.deleteTeacherPermission(this.teacherObj?.id,this.shareDataObj?.objectId,this.shareDataObj?.objectCodeType)}cancelDelete(){this.dialogRef.close(!1)}deleteTeacherEbankPermission(){this.initStatusObj(),this.ebankMemberService.apiEbanksMemberEbankIdUserIdDelete(this.shareDataObj?.objectId??0,this.teacherObj?.id??0).subscribe(r=>{1==r.success?(this.successStatusObj("lang_auto_xoa_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_auto_xoa_quyen_khong_thanh_cong",!0),this.dialogRef.close(!1))})}deleteTeacherPermission(r,l,_){this.initStatusObj(),this.permissionTeamService.apiPermissionTeamDeleteTeacherPermissionGet(r??0,l??0,_??0).subscribe(u=>{1==u.success?(this.successStatusObj("lang_auto_xoa_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_auto_xoa_quyen_khong_thanh_cong",!0),this.dialogRef.close(!1))})}deleteGroupPermission(r,l,_){this.initStatusObj(),this.permissionTeamService.apiPermissionTeamDeleteGroupPermissionGet(r??0,l??0,_??0).subscribe(u=>{1==u.success?(this.successStatusObj("lang_auto_xoa_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_auto_xoa_quyen_khong_thanh_cong",!0),this.dialogRef.close(!1))})}ngOnInit(){super.ngOnInit()}constructor(r,l,_,u){super(l,r),this.dialogRef=r,this.data=l,this.permissionTeamService=_,this.ebankMemberService=u,this.groupObj=void 0,this.teacherObj=void 0,this.groupObj=l.groupObj,this.teacherObj=l.teacherObj,this.shareDataObj=l.shareDataObj}}return(s=g).\u0275fac=function(r){return new(r||s)(t.rXU(f.CP),t.rXU(f.Vh),t.rXU(e.km),t.rXU(j.V))},s.\u0275cmp=t.VBU({type:s,selectors:[["azt-share-confirm-to-delete-permission-dialog"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box"],["class","p-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-5",3,"currentStatusObj"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","flex","items-center"],["name","trash","size","24",3,"ngClass"],[1,"text-base","mr-auto"],[1,"font-medium","text-danger"],[1,"p-3","text-right"],["azt-track-service","confirm-to-delete-permission-dialog-mNjxnIzWG8",1,"btn","btn-secondary","mr-3",3,"click"],["azt-track-service","confirm-to-delete-permission-dialog-EP57nAPMmq",1,"btn","btn-primary",3,"click"]],template:function(r,l){if(1&r&&(t.j41(0,"div",0),t.DNE(1,C,1,1,"azt-loading-effect",1),t.DNE(2,z,17,12,"ng-template",null,2,t.C5r),t.k0s()),2&r){const _=t.sdS(3);t.R7$(1),t.Y8G("ngIf",l.statusObj.loading)("ngIfElse",_)}},dependencies:[p.YU,p.bT,x.WGl,v.K,M.wp],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:#fff;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:#fff;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),g})();var A=c(46899),W=c(47712),G=c(68323),T=c(81587);function y(s,g){if(1&s&&t.nrm(0,"azt-loading-effect",3),2&s){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function F(s,g){if(1&s&&(t.j41(0,"div",25),t.EFF(1),t.k0s()),2&s){const n=t.XpG(2);t.R7$(1),t.JRh(null==n.teacherObj?null:n.teacherObj.phone)}}function $(s,g){if(1&s){const n=t.RV6();t.j41(0,"div",26)(1,"button",27),t.bIt("click",function(){t.eBV(n);const l=t.XpG(2);return t.Njj(l.showConfirmDeleteDialog())}),t.nI1(2,"mytranslate"),t.nrm(3,"lucide-icon",28),t.k0s()()}if(2&s){const n=t.XpG(2);t.R7$(1),t.FS9("matTooltip",t.bMT(2,2,"lang_auto_xoa_quyen")),t.Y8G("disabled",!(null!=n.groupObj&&n.groupObj.allowDeletePermission||null!=n.teacherObj&&n.teacherObj.allowDeletePermission))}}function L(s,g){if(1&s&&(t.j41(0,"div",32),t.nrm(1,"input",33),t.j41(2,"label",34),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&s){const n=g.$implicit,r=g.index;t.Y8G("formGroup",n),t.R7$(1),t.Mz_("id","role-0-",r,""),t.R7$(1),t.Mz_("for","role-0-",r,""),t.R7$(1),t.JRh(t.bMT(4,4,n.controls.checkboxLabel.value))}}function N(s,g){if(1&s&&(t.j41(0,"form",29)(1,"div",30),t.DNE(2,L,5,6,"div",31),t.k0s()()),2&s){const n=t.XpG(2);t.Y8G("formGroup",n.form),t.R7$(2),t.Y8G("ngForOf",n.form.controls.permissionObjs.controls)}}function Y(s,g){if(1&s&&(t.j41(0,"div",36),t.nrm(1,"input",37),t.j41(2,"label",34),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&s){const n=g.$implicit,r=g.index,l=t.XpG(3);t.R7$(1),t.Mz_("id","role-0-",r,""),t.Y8G("value",n.id)("formControl",l.formEbank),t.R7$(1),t.Mz_("for","role-0-",r,""),t.R7$(1),t.JRh(t.bMT(4,5,n.key))}}function X(s,g){if(1&s&&(t.j41(0,"div"),t.DNE(1,Y,5,7,"div",35),t.k0s()),2&s){const n=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",n.shareDataObj.ebankPemisions)}}function B(s,g){1&s&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&s&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_auto_ban_phai_chon_quyen")))}function U(s,g){if(1&s){const n=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"h3",6)(3,"span",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"span",8),t.EFF(7),t.k0s()(),t.j41(8,"div",9)(9,"div",10)(10,"div",11)(11,"div",12),t.nrm(12,"azt-create-avatar",13),t.k0s()(),t.j41(13,"div",14)(14,"p",15)(15,"span"),t.EFF(16),t.k0s()(),t.DNE(17,F,2,1,"div",16),t.k0s(),t.DNE(18,$,4,4,"div",17),t.k0s()(),t.j41(19,"div",18),t.DNE(20,N,3,2,"form",19),t.DNE(21,X,2,1,"div",20),t.DNE(22,B,3,3,"div",21),t.k0s()()(),t.j41(23,"div",22)(24,"button",23),t.bIt("click",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.closeDialog())}),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"button",24),t.bIt("click",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.addOrUpdate())}),t.EFF(28),t.nI1(29,"mytranslate"),t.k0s()()}if(2&s){const n=t.XpG();let r,l,_;t.R7$(4),t.JRh(t.bMT(5,14,"lang_auto_gan_quyen_cho")),t.R7$(3),t.JRh(null!==(r=null==n.groupObj?null:n.groupObj.name)&&void 0!==r?r:null==n.teacherObj?null:n.teacherObj.fullName),t.R7$(5),t.Y8G("linkAvatar",null==n.teacherObj?null:n.teacherObj.avatar)("nameCreateAvatar",null!==(l=null==n.groupObj?null:n.groupObj.name)&&void 0!==l?l:null==n.teacherObj?null:n.teacherObj.fullName)("size",40),t.R7$(4),t.JRh(null!==(_=null==n.groupObj?null:n.groupObj.name)&&void 0!==_?_:null==n.teacherObj?null:n.teacherObj.fullName),t.R7$(1),t.Y8G("ngIf",null==n.teacherObj?null:n.teacherObj.phone),t.R7$(1),t.Y8G("ngIf",null==n.teamSharePermissionObjsAssigned?null:n.teamSharePermissionObjsAssigned.length),t.R7$(2),t.Y8G("ngIf",!(null!=n.shareDataObj&&n.shareDataObj.ebankPemisions)),t.R7$(1),t.Y8G("ngIf",null==n.shareDataObj?null:n.shareDataObj.ebankPemisions),t.R7$(1),t.Y8G("ngIf",!(null!=n.shareDataObj&&n.shareDataObj.ebankPemisions)&&n.form.invalid||(null==n.shareDataObj?null:n.shareDataObj.ebankPemisions)&&n.formEbank.invalid),t.R7$(3),t.JRh(t.bMT(26,16,"lang_auto_huy")),t.R7$(2),t.Y8G("disabled",!(null!=n.shareDataObj&&n.shareDataObj.ebankPemisions)&&n.form.invalid||(null==n.shareDataObj?null:n.shareDataObj.ebankPemisions)&&n.formEbank.invalid),t.R7$(1),t.JRh(t.bMT(29,18,"lang_auto_luu"))}}let V=(()=>{var s;class g extends P._{addOrUpdate(){if(this.initStatusObj(),"EBANK"==this.shareDataObj?.objectCode){let u=this.shareDataObj.ebankPemisions?.find(E=>E.id==this.formEbank.value)?.code??"";return void this.ebankMemberService.apiEbanksMemberEbankIdPost(this.shareDataObj.objectId,[{userId:this.teacherObj.id,role:u}]).subscribe(E=>{1==E.success?(this.successStatusObj("lang_auto_chia_se_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj(E.message??"",!0),this.dialogRef.close(!1))})}const l=this.form.getRawValue().permissionObjs.filter(u=>u.checkbox).map(u=>u.checkboxId);let _;this.groupObj?(_={groupId:this.groupObj.id??0,objectId:this.shareDataObj?.objectId??0,typeObj:this.shareDataObj?.objectCode??"",permissionIds:l},this.permissionTeamService.apiPermissionTeamShareObjectForGroupPermissionPost(_).subscribe(u=>{1==u.success?(this.successStatusObj("lang_auto_chia_se_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj(u.message??"",!0),this.dialogRef.close(!1))})):(_={teacherId:this.teacherObj?.id??0,objectId:this.shareDataObj?.objectId??0,typeObj:this.shareDataObj?.objectCode??"",permissionIds:l},this.permissionTeamService.apiPermissionTeamShareObjectForTeacherPermissionPost(_).subscribe(u=>{1==u.success?(this.successStatusObj("lang_auto_chia_se_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj(u.message??"",!0),this.dialogRef.close(!1))}))}showConfirmDeleteDialog(){this.sAztDialogService.open(I,{data:{groupObj:this.groupObj,teacherObj:this.teacherObj,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(l=>{l&&this.dialogRef.close(l)})}closeDialog(){this.dialogRef.close(!1)}addNewCheckBox(r,l,_){var u=new m.gE({checkbox:new m.MJ(_,{nonNullable:!0}),checkboxId:new m.MJ(l.id,{nonNullable:!0}),checkboxLabel:new m.MJ(l.key??"",{nonNullable:!0})});r.push(u)}initData(){this.shareDataObj?.classroomWithPermissionObj?this.permissionObj=this.shareDataObj?.classroomWithPermissionObj?.permissionObj:this.shareDataObj?.examWithPermissionObj?this.permissionObj=this.shareDataObj?.examWithPermissionObj?.permissionObj:this.shareDataObj?.homeworkWithPermissionObj?this.permissionObj=this.shareDataObj?.homeworkWithPermissionObj?.permissionObj:this.shareDataObj?.categoryWithPermissionObj&&(this.permissionObj=this.shareDataObj?.categoryWithPermissionObj?.permissionObj),this.teamSharePermissionObjsAssigned=this.groupObj?.teamPermissions?.length?this.groupObj?.teamPermissions:this.teacherObj?.teamPermissions}initFormData(){"EBANK"!=this.shareDataObj?.objectCode?(this.initStatusObj(),this.permissionTeamService.apiPermissionTeamGetObjectPermissionsGet(this.shareDataObj?.objectId??0,this.shareDataObj?.objectCode??"").subscribe(r=>{1===r.success?((r.data?.objs??[]).forEach(_=>{const u=this.teamSharePermissionObjsAssigned?.find(S=>S.id==_.id);(this.groupObj||this.teacherObj)&&this.addNewCheckBox(this.form.controls?.permissionObjs,_,!!u)}),this.stopStatusObj()):this.errorStatusObj(r.message??"",!0)})):this.shareDataObj.ebankPemisions?.forEach(r=>{if(this.teacherObj){const l=this.teacherObj?.teamPermissions?.find(_=>_.code==r.code);if(!l)return;this.formEbank=new m.MJ(l.id,{nonNullable:!0,validators:[m.k0.min(1)]})}})}ngOnInit(){super.ngOnInit(),this.initData(),this.initFormData()}constructor(r,l,_,u,S){super(u,_),this.ebankMemberService=r,this.sAztDialogService=l,this.dialogRef=_,this.data=u,this.permissionTeamService=S,this.groupObj=void 0,this.teacherObj=void 0,this.teamSharePermissionObjsAssigned=void 0,this.formEbank=new m.MJ(0,{nonNullable:!0,validators:[m.k0.min(1)]}),this.groupObj=u.groupObj,this.teacherObj=u.teacherObj,this.shareDataObj=u.shareDataObj,this.form=new m.gE({permissionObjs:new m.Yp([])},{validators:O.checkBoxValidator})}}return(s=g).\u0275fac=function(r){return new(r||s)(t.rXU(j.V),t.rXU(A.i),t.rXU(f.CP),t.rXU(f.Vh),t.rXU(e.km))},s.\u0275cmp=t.VBU({type:s,selectors:[["azt-share-add-or-edit-permission-dialog"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box","search-form"],["class","p-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-5",3,"currentStatusObj"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5","relative"],[1,"text-lg"],[1,"mr-1"],[2,"font-weight","bold"],[1,"mt-2"],[1,"flex","flex-row","items-center","mb-2","p-3","rounded-md"],[1,"w-10","h-10","image-fit","mr-2"],[1,"w-10","h-10","image-fit"],[1,"mr-2",3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-2","mr-auto","text-left","mt-0"],[1,"font-medium"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","delete-block",4,"ngIf"],[1,"x","px-3"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],["class","alert alert-danger mt-3 azt-pl-0",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","add-or-edit-permission-dialog-IkGPsxO5mp",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","add-or-edit-permission-dialog-OOSFibqmjy",1,"btn","btn-primary","w-24",3,"disabled","click"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"delete-block"],["azt-track-service","add-or-edit-permission-dialog-o6UT_07q4",1,"btn","btn-outline-danger","mr-2",3,"matTooltip","disabled","click"],["name","trash-2","size","16"],[3,"formGroup"],["formArrayName","permissionObjs"],["class","col-span-12 mt-3",3,"formGroup",4,"ngFor","ngForOf"],[1,"col-span-12","mt-3",3,"formGroup"],["type","checkbox","formControlName","checkbox",1,"show-code","form-check-input","mr-0",3,"id"],[1,"form-check-label",3,"for"],["class","col-span-12 mt-3",4,"ngFor","ngForOf"],[1,"col-span-12","mt-3"],["type","radio",1,"show-code","form-check-input","mr-0",3,"value","formControl","id"],[1,"alert","alert-danger","mt-3","azt-pl-0"]],template:function(r,l){if(1&r&&(t.j41(0,"div",0),t.DNE(1,y,1,1,"azt-loading-effect",1),t.DNE(2,U,30,20,"ng-template",null,2,t.C5r),t.k0s()),2&r){const _=t.sdS(3);t.R7$(1),t.Y8G("ngIf",l.statusObj.loading)("ngIfElse",_)}},dependencies:[p.Sq,p.bT,W.oV,m.qT,m.me,m.Zm,m.Fm,m.BC,m.cb,m.l_,m.j4,m.JD,m.v8,x.WGl,v.K,G.p,T.t,M.wp],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:#fff;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:#fff;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),g})()},87840:(w,k,c)=>{c.d(k,{z:()=>ge});var m=c(10936),f=c(89163),P=c(11253),O=c(33887),t=c(60495),e=c(26860),j=c(46899),p=c(21213),x=c(68774),v=c(36484),M=c(15485),C=c(54460),R=c(47712),z=c(5502),I=c(15343),A=c(68323),W=c(69135),G=c(52811),T=c(76975);function y(i,d){1&i&&(e.j41(0,"span",14),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&i&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_notice_bank_question")," "))}function F(i,d){1&i&&(e.j41(0,"span",14),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&i&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_thu_muc")," "))}function $(i,d){1&i&&(e.j41(0,"span",14),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&i&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_lop")," "))}function L(i,d){1&i&&(e.j41(0,"span",14),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&i&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_de_thi")," "))}function N(i,d){1&i&&(e.j41(0,"span",14),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&i&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_bai_tap")," "))}function Y(i,d){if(1&i&&(e.j41(0,"span",15,16),e.EFF(2),e.k0s()),2&i){const a=e.sdS(1),o=e.XpG(2);let h,b;e.FS9("matTooltip",(null!==(h=null==o.shareDataObj.classroomWithPermissionObj?null:o.shareDataObj.classroomWithPermissionObj.name)&&void 0!==h?h:"")||(null!==(h=null==o.shareDataObj.examWithPermissionObj?null:o.shareDataObj.examWithPermissionObj.name)&&void 0!==h?h:"")||(null!==(h=null==o.shareDataObj.homeworkWithPermissionObj?null:o.shareDataObj.homeworkWithPermissionObj.name)&&void 0!==h?h:"")||(null!==(h=null==o.shareDataObj.categoryWithPermissionObj?null:o.shareDataObj.categoryWithPermissionObj.name)&&void 0!==h?h:"")),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),e.R7$(2),e.SpI(' "',(null!==(b=null==o.shareDataObj.classroomWithPermissionObj?null:o.shareDataObj.classroomWithPermissionObj.name)&&void 0!==b?b:"")||(null!==(b=null==o.shareDataObj.examWithPermissionObj?null:o.shareDataObj.examWithPermissionObj.name)&&void 0!==b?b:"")||(null!==(b=null==o.shareDataObj.homeworkWithPermissionObj?null:o.shareDataObj.homeworkWithPermissionObj.name)&&void 0!==b?b:"")||(null!==(b=null==o.shareDataObj.categoryWithPermissionObj?null:o.shareDataObj.categoryWithPermissionObj.name)&&void 0!==b?b:""),'" ')}}function X(i,d){if(1&i&&(e.j41(0,"h3",10)(1,"span",11),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,y,3,3,"span",12),e.DNE(5,F,3,3,"span",12),e.DNE(6,$,3,3,"span",12),e.DNE(7,L,3,3,"span",12),e.DNE(8,N,3,3,"span",12),e.DNE(9,Y,3,4,"span",13),e.k0s()),2&i){const a=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,7,"lang_auto_chia_se")," "),e.R7$(2),e.Y8G("ngIf","EBANK"===(null==a.shareDataObj?null:a.shareDataObj.objectCode)),e.R7$(1),e.Y8G("ngIf","CATEGORY"===(null==a.shareDataObj?null:a.shareDataObj.objectCode)),e.R7$(1),e.Y8G("ngIf","CLASSROOM"===(null==a.shareDataObj?null:a.shareDataObj.objectCode)),e.R7$(1),e.Y8G("ngIf","EXAM"===(null==a.shareDataObj?null:a.shareDataObj.objectCode)),e.R7$(1),e.Y8G("ngIf","HOMEWORK"===(null==a.shareDataObj?null:a.shareDataObj.objectCode)),e.R7$(1),e.Y8G("ngIf",a.shareDataObj&&"EBANK"!=a.shareDataObj.objectCode)}}const B=function(){return{"absolute my-auto inset-y-0 mr-3 mt-2 right-0 text-slate-500 cursor-pointer":!0}};function U(i,d){if(1&i){const a=e.RV6();e.j41(0,"div",17)(1,"div",18)(2,"div",19)(3,"input",20),e.bIt("focus",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.showSearchList())})("focusout",function(){e.eBV(a);const h=e.XpG();return e.Njj(h.hideSearchList())}),e.nI1(4,"mytranslate"),e.k0s(),e.nrm(5,"lucide-icon",21),e.k0s()()()}if(2&i){const a=e.XpG();e.R7$(3),e.FS9("placeholder",e.bMT(4,3,"lang_auto_nhap_ten_hoac_sdt")),e.Y8G("formControl",a.searchNameKey),e.R7$(2),e.Y8G("ngClass",e.lJ4(5,B))}}function V(i,d){if(1&i&&(e.j41(0,"span",37),e.nI1(1,"mytranslate"),e.EFF(2),e.k0s()),2&i){const a=e.XpG(2).$implicit;e.FS9("matTooltip",e.bMT(1,2,"lang_auto_da_duoc_chia_se_quyen")),e.R7$(2),e.JRh(a.name)}}function s(i,d){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const a=e.XpG(2).$implicit;e.R7$(1),e.JRh(a.name)}}const g=function(){return{"mr-2":!0}};function n(i,d){if(1&i){const a=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(a);const h=e.XpG().$implicit,b=e.XpG(3);return e.Njj(b.showEditPermissionDialog(h,void 0))}),e.j41(1,"div",31),e.nrm(2,"lucide-icon",32),e.k0s(),e.j41(3,"div",33)(4,"a",34),e.DNE(5,V,3,4,"span",35),e.DNE(6,s,2,1,"span",36),e.k0s()()()}if(2&i){const a=e.XpG().$implicit;e.R7$(2),e.Y8G("ngClass",e.lJ4(3,g)),e.R7$(3),e.Y8G("ngIf",null==a.teamPermissions?null:a.teamPermissions.length),e.R7$(1),e.Y8G("ngIf",!(null!=a.teamPermissions&&a.teamPermissions.length))}}function r(i,d){if(1&i&&(e.j41(0,"div"),e.DNE(1,n,7,4,"button",29),e.k0s()),2&i){const a=d.$implicit;e.R7$(1),e.Y8G("ngIf",a.allowEditPermission)}}function l(i,d){if(1&i&&(e.j41(0,"span",37),e.nI1(1,"mytranslate"),e.EFF(2),e.k0s()),2&i){const a=e.XpG(2).$implicit;e.FS9("matTooltip",e.bMT(1,2,"lang_auto_da_duoc_chia_se_quyen")),e.R7$(2),e.JRh(a.fullName)}}function _(i,d){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const a=e.XpG(2).$implicit;e.R7$(1),e.JRh(a.fullName)}}function u(i,d){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const a=e.XpG(2).$implicit;e.R7$(1),e.SpI(" ",a.phone," ")}}function S(i,d){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const a=e.XpG(2).$implicit;e.R7$(1),e.SpI(" ",a.email," ")}}function E(i,d){if(1&i){const a=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(a);const h=e.XpG().$implicit,b=e.XpG(3);return e.Njj(b.showEditPermissionDialog(void 0,h))}),e.j41(1,"div",40),e.nrm(2,"azt-create-avatar",41),e.k0s(),e.j41(3,"div",33)(4,"a",34),e.DNE(5,l,3,4,"span",35),e.DNE(6,_,2,1,"span",36),e.k0s(),e.j41(7,"div",42),e.DNE(8,u,2,1,"span",36),e.DNE(9,S,2,1,"span",36),e.k0s()()()}if(2&i){const a=e.XpG().$implicit;e.R7$(2),e.Y8G("linkAvatar",a.avatar)("nameCreateAvatar",a.fullName)("size",40),e.R7$(3),e.Y8G("ngIf",null==a.teamPermissions?null:a.teamPermissions.length),e.R7$(1),e.Y8G("ngIf",!(null!=a.teamPermissions&&a.teamPermissions.length)),e.R7$(2),e.Y8G("ngIf",a.phone),e.R7$(1),e.Y8G("ngIf",a.email&&!a.phone)}}function Q(i,d){if(1&i&&(e.j41(0,"div"),e.DNE(1,E,10,7,"button",38),e.k0s()),2&i){const a=d.$implicit;e.R7$(1),e.Y8G("ngIf",a.allowEditPermission)}}function q(i,d){if(1&i){const a=e.RV6();e.j41(0,"div",43)(1,"p"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"a",44),e.bIt("click",function(){e.eBV(a);const h=e.XpG(3);return e.Njj(h.showAddNewTeacherDialog())}),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()()}2&i&&(e.R7$(2),e.JRh(e.bMT(3,2,"lang_auto_khong_co_du_lieu")),e.R7$(3),e.SpI(" ",e.bMT(6,4,"lang_testbank_share_add_new_teacher")," "))}const H=function(){return["name"]},Z=function(){return["fullName","phone","email"]};function ee(i,d){if(1&i){const a=e.RV6();e.j41(0,"div",23)(1,"div",24)(2,"ng-scrollbar",25)(3,"div",17),e.DNE(4,r,2,1,"div",26),e.nI1(5,"appFilter"),e.DNE(6,Q,2,1,"div",26),e.nI1(7,"appFilter"),e.DNE(8,q,7,6,"div",27),e.nI1(9,"appFilter"),e.nI1(10,"appFilter"),e.k0s()()(),e.j41(11,"a",28),e.bIt("click",function(){e.eBV(a);const h=e.XpG(2);return e.Njj(h.goToGroup())}),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()()}if(2&i){const a=e.XpG(2);e.R7$(2),e.Y8G("visibility","hover"),e.R7$(2),e.Y8G("ngForOf",e.brH(5,5,null==a.shareDataObj?null:a.shareDataObj.allGroupPermissionObjs,a.searchNameKey.value,e.lJ4(23,H))),e.R7$(2),e.Y8G("ngForOf",e.brH(7,9,null==a.shareDataObj?null:a.shareDataObj.allTeacherPermissionObjs,a.searchNameKey.value,e.lJ4(24,Z))),e.R7$(2),e.Y8G("ngIf",1==a.hasDataInSearchList(e.brH(9,13,null==a.shareDataObj?null:a.shareDataObj.allGroupPermissionObjs,a.searchNameKey.value,e.lJ4(25,H)),e.brH(10,17,null==a.shareDataObj?null:a.shareDataObj.allTeacherPermissionObjs,a.searchNameKey.value,e.lJ4(26,Z)))),e.R7$(4),e.JRh(e.bMT(13,21,"lang_auto_quan_ly_danh_ba_upper"))}}function te(i,d){if(1&i&&e.DNE(0,ee,14,27,"div",22),2&i){const a=e.XpG();e.Y8G("ngIf",a.isShowSearchList)}}function ae(i,d){1&i&&(e.j41(0,"span",51),e.nrm(1,"azt-loading-ui"),e.k0s())}function ie(i,d){1&i&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&i&&(e.R7$(1),e.SpI("(",e.bMT(2,1,"lang_auto_ban"),")"))}function ne(i,d){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const a=e.XpG(3);e.R7$(1),e.SpI(" ",null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.phone," ")}}function oe(i,d){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const a=e.XpG(3);e.R7$(1),e.SpI(" ",null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.email," ")}}function re(i,d){if(1&i&&(e.j41(0,"div",52)(1,"button",53)(2,"div",40),e.nrm(3,"azt-create-avatar",41),e.k0s(),e.j41(4,"div",54)(5,"span",55,16),e.EFF(7),e.DNE(8,ie,3,3,"span",36),e.k0s(),e.j41(9,"div",42),e.DNE(10,ne,2,1,"span",36),e.DNE(11,oe,2,1,"span",36),e.k0s()(),e.j41(12,"div",56),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()()()),2&i){const a=e.sdS(6),o=e.XpG(2);e.R7$(1),e.Y8G("disabled",!0),e.R7$(2),e.Y8G("linkAvatar",null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.avatar)("nameCreateAvatar",null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.fullName)("size",40),e.R7$(2),e.FS9("matTooltip",null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.fullName),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",a.isDisabled),e.R7$(2),e.SpI(" ",null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.fullName," "),e.R7$(1),e.Y8G("ngIf",(null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.id)===(null==o.userObj?null:o.userObj.id)),e.R7$(2),e.Y8G("ngIf",null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.phone),e.R7$(1),e.Y8G("ngIf",(null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.email)&&!(null!=o.shareDataObj&&null!=o.shareDataObj.ownerObj&&o.shareDataObj.ownerObj.phone)),e.R7$(2),e.SpI(" ",e.bMT(14,12,"lang_auto_chu_so_huu")," ")}}function se(i,d){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const a=e.XpG().$implicit;e.R7$(1),e.SpI(" ",a.phone," ")}}function le(i,d){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const a=e.XpG().$implicit;e.R7$(1),e.SpI(" ",a.email," ")}}function ce(i,d){if(1&i&&(e.j41(0,"span",63),e.EFF(1),e.nI1(2,"aztPipeShowTooltipPermission"),e.k0s()),2&i){const a=e.XpG(2).$implicit;e.R7$(1),e.JRh(e.bMT(2,1,a.teamPermissions))}}function de(i,d){if(1&i&&(e.j41(0,"span",61),e.nI1(1,"aztPipeShowTooltipPermission"),e.DNE(2,ce,3,3,"span",62),e.k0s()),2&i){const a=d.index,o=e.XpG().$implicit;e.Y8G("matTooltip",e.bMT(1,2,o.teamPermissions)),e.R7$(2),e.Y8G("ngIf",0===a)}}function he(i,d){if(1&i){const a=e.RV6();e.j41(0,"div",57)(1,"button",58),e.bIt("click",function(){const b=e.eBV(a).$implicit,D=e.XpG(2);return e.Njj(D.showEditPermissionDialog(void 0,b))}),e.j41(2,"div",40),e.nrm(3,"azt-create-avatar",41),e.k0s(),e.j41(4,"div",54)(5,"span",55,16),e.EFF(7),e.k0s(),e.j41(8,"div",42),e.DNE(9,se,2,1,"span",36),e.DNE(10,le,2,1,"span",36),e.k0s()(),e.j41(11,"div",59),e.DNE(12,de,3,4,"span",60),e.k0s()()()}if(2&i){const a=d.$implicit,o=e.sdS(6);e.R7$(1),e.Y8G("disabled",!a.allowEditPermission),e.R7$(2),e.Y8G("linkAvatar",a.avatar)("nameCreateAvatar",a.fullName)("size",40),e.R7$(2),e.FS9("matTooltip",a.fullName),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),e.R7$(2),e.JRh(a.fullName),e.R7$(2),e.Y8G("ngIf",a.phone),e.R7$(1),e.Y8G("ngIf",a.email&&!a.phone),e.R7$(2),e.Y8G("ngForOf",a.teamPermissions)}}function pe(i,d){if(1&i&&(e.j41(0,"span",63),e.EFF(1),e.nI1(2,"aztPipeShowTooltipPermission"),e.k0s()),2&i){const a=e.XpG(2).$implicit;e.R7$(1),e.JRh(e.bMT(2,1,a.teamPermissions))}}function _e(i,d){if(1&i&&(e.j41(0,"span",61),e.nI1(1,"aztPipeShowTooltipPermission"),e.DNE(2,pe,3,3,"span",62),e.k0s()),2&i){const a=d.index,o=e.XpG().$implicit;e.Y8G("matTooltip",e.bMT(1,2,o.teamPermissions)),e.R7$(2),e.Y8G("ngIf",0===a)}}const me=function(){return{"text-primary":!0}};function ue(i,d){if(1&i){const a=e.RV6();e.j41(0,"div",57)(1,"button",64),e.bIt("click",function(){const b=e.eBV(a).$implicit,D=e.XpG(2);return e.Njj(D.showEditPermissionDialog(b,void 0))}),e.j41(2,"div",31),e.nrm(3,"lucide-icon",65),e.k0s(),e.j41(4,"div",54)(5,"span",55,16),e.EFF(7),e.k0s()(),e.j41(8,"div",59),e.DNE(9,_e,3,4,"span",60),e.k0s()()()}if(2&i){const a=d.$implicit,o=e.sdS(6);e.R7$(1),e.Y8G("disabled",!a.allowEditPermission),e.R7$(2),e.Y8G("ngClass",e.lJ4(7,me)),e.R7$(2),e.FS9("matTooltip",a.name),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),e.R7$(2),e.JRh(a.name),e.R7$(2),e.Y8G("ngForOf",a.teamPermissions)}}function be(i,d){if(1&i&&(e.j41(0,"div",45)(1,"h4",46),e.EFF(2),e.nI1(3,"mytranslate"),e.DNE(4,ae,2,0,"span",47),e.k0s(),e.j41(5,"div",48)(6,"ng-scrollbar",25),e.DNE(7,re,15,14,"div",49),e.DNE(8,he,13,11,"div",50),e.DNE(9,ue,10,8,"div",50),e.k0s()()()),2&i){const a=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,6,"lang_auto_nhung_nguoi_co_quyen_truy_cap")," "),e.R7$(2),e.Y8G("ngIf",a.statusObj.loading),e.R7$(2),e.Y8G("visibility","hover"),e.R7$(1),e.Y8G("ngIf",null==a.shareDataObj||null==a.shareDataObj.ownerObj?null:a.shareDataObj.ownerObj.fullName),e.R7$(1),e.Y8G("ngForOf",null==a.shareDataObj?null:a.shareDataObj.teacherObjs),e.R7$(1),e.Y8G("ngForOf",null==a.shareDataObj?null:a.shareDataObj.groupObjs)}}let ge=(()=>{var i;class d extends O._{goToGroup(){this.dialogRef.close(!1),this.backToLink?this.commonService.myNavigationWithQueryString("/admin/teacher-group/2/0","?backTo="+encodeURIComponent(this.backToLink)):this.commonService.myNavigation("/admin/teacher-group/2/0")}closeDialog(){this.hasNewData&&this.aztShareService.changeStatus(!0),this.dialogRef.close(this.hasNewData)}showEditPermissionDialog(o,h){this.sAztDialogService.open(t.A,{data:{groupObj:o,teacherObj:h,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(D=>{D&&(this.shareDataObj?.ebankPemisions?this.sendData():this.getTeamPermissionObjs(),this.hasNewData=!0)})}sendData(){this.data.setData&&this.data.setData()}showAddNewTeacherDialog(){this.sAztDialogService.open(P.v,{width:"600px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:{type:"add_teacher"},restoreFocus:!1}).afterClosed().subscribe(h=>{h&&this.getTeamPermissionObjs()})}hasDataInSearchList(o,h){return o.length<=0&&h.length<=0}showSearchList(){this.isShowSearchList=!0}hideSearchList(){setTimeout(()=>{this.isShowSearchList=!1},500)}getTeamPermissionObjs(){this.initStatusObj(),this.teacherGroupService.apiTeacherGroupGetTeamPermissionObjsGet(this.shareDataObj?.objectCodeType??0,this.shareDataObj?.objectId??0).subscribe(o=>{1==o.success?(this.shareDataObj&&o.data?.owner&&(this.shareDataObj.ownerObj=o.data?.owner,this.shareDataObj.groupObjs=o.data?.groups??[],this.shareDataObj.teacherObjs=o.data?.teachers??[],this.shareDataObj.allGroupPermissionObjs=this.sortService.sortGroupName(o.data?.allGroupPermissionObjs??[]),this.shareDataObj.allTeacherPermissionObjs=this.sortService.sortFirstNameStudents(o.data?.allTeacherPermissionObjs??[])),this.stopStatusObj()):this.errorStatusObj(o.message??"",!0)})}ngOnInit(){super.ngOnInit(),this.searchNameKey.setValue(""),this.userObj=this.userService.getUserObj()}constructor(o,h,b,D,K,J,fe){super(h,o),this.dialogRef=o,this.data=h,this.sAztDialogService=b,this.teacherGroupService=D,this.sortService=K,this.userService=J,this.aztShareService=fe,this.backToLink="",this.searchNameKey=new m.MJ("",{nonNullable:!0}),this.hasNewData=!1,this.isShowSearchList=!1,this.backToLink=this.data?.backToLink??"",this.shareDataObj=this.data.shareDataObj,this.dialogRef.backdropClick().subscribe(()=>{this.closeDialog()})}}return(i=d).\u0275fac=function(o){return new(o||i)(e.rXU(f.CP),e.rXU(f.Vh),e.rXU(j.i),e.rXU(p.xr),e.rXU(x.g),e.rXU(v.R),e.rXU(M.l))},i.\u0275cmp=e.VBU({type:i,selectors:[["azt-list-people-who-will-share-dialog"]],features:[e.Vt3],decls:19,vars:7,consts:[[1,"box","search-form"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"azt-dialog-share","relative"],[3,"ngTemplateOutlet"],[1,"p-3","text-right"],["azt-track-service","list-people-who-will-share-dialog-5fjZW_u4sI",1,"btn","btn-secondary","w-24",3,"click"],["sharedBoxTitle",""],["searchSharedBox",""],["listGroupAndTeacherWhoWillShare",""],["listSharedPeople",""],[1,"text-lg","p-3",2,"padding-bottom","0"],[1,"inline-block",2,"vertical-align","middle"],["class","inline-block mx-1 lowercase","style","vertical-align: middle",4,"ngIf"],["class","inline-block truncate font-medium","style","vertical-align: middle",3,"matTooltip","isDisabledTooltip","matTooltipDisabled",4,"ngIf"],[1,"inline-block","mx-1","lowercase",2,"vertical-align","middle"],[1,"inline-block","truncate","font-medium",2,"vertical-align","middle",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"p-3"],[1,"relative","flex"],[1,"search","w-full"],["type","text",1,"form-control","py-1","px-4","w-full","box","pr-10","h-10",2,"border-radius","0.375rem",3,"formControl","placeholder","focus","focusout"],["name","search","size","24",3,"ngClass"],["class","azt-list-member absolute box z-50 shadow-lg border border-slate-300 dark:border-darkmode-400","style","top: auto; width: calc(100% - 1.5rem); left: 0.75rem",4,"ngIf"],[1,"azt-list-member","absolute","box","z-50","shadow-lg","border","border-slate-300","dark:border-darkmode-400",2,"top","auto","width","calc(100% - 1.5rem)","left","0.75rem"],[1,"list-permission","mt-3",2,"height","220px"],["pointerEventsMethod","scrollbar",3,"visibility"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["azt-track-service","list-people-who-will-share-dialog-fZvVPtnGj3",1,"manage-contacts","p-2","inline-block",3,"click"],["azt-track-service","list-people-who-will-share-dialog-F2RR4K5Z7f","class","flex items-center p-2 hover:bg-slate-100 dark:hover:bg-darkmode-400 rounded-md w-full",3,"click",4,"ngIf"],["azt-track-service","list-people-who-will-share-dialog-F2RR4K5Z7f",1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md","w-full",3,"click"],[1,"w-10","h-10","rounded-full","border","border-slate-200","dark:border-darkmode-400","image-fit","lg:mr-1"],["name","users","size","20",2,"position","absolute","top","50%","left","50%","transform","translate(-50%, -50%)",3,"ngClass"],[1,"ml-2","mr-auto","text-left","mt-0"],[1,"font-medium"],["style","color: gray !important",3,"matTooltip",4,"ngIf"],[4,"ngIf"],[2,"color","gray !important",3,"matTooltip"],["azt-track-service","list-people-who-will-share-dialog-jUo-PblKOB","class","flex items-center p-2 hover:bg-slate-100 dark:hover:bg-darkmode-400 rounded-md w-full",3,"click",4,"ngIf"],["azt-track-service","list-people-who-will-share-dialog-jUo-PblKOB",1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md","w-full",3,"click"],[1,"w-10","h-10","image-fit","lg:mr-1"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-center"],["azt-track-service","list-people-who-will-share-dialog-eNG01s2dq3",1,"manage-contacts","p-2","inline-block",2,"font-size","12px",3,"click"],[1,"mt-3"],[1,"text-md","font-medium","px-3"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"list-permission","mt-3","mb-4",2,"height","260px"],["class","item-permission px-3 mb-2",4,"ngIf"],["class","item-permission cursor-pointer px-3 mb-2 w-full",4,"ngFor","ngForOf"],[1,"w-4","h-4","inline-block","mr-2"],[1,"item-permission","px-3","mb-2"],[1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md","w-full","btn",2,"border","none","box-shadow","none",3,"disabled"],[1,"ml-2","mr-auto","text-left","mt-0",2,"width","40%"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"text-xs","border","border-slate-300","dark:border-darkmode-400","rounded-md","py-1","px-2",2,"width","85px","vertical-align","middle"],[1,"item-permission","cursor-pointer","px-3","mb-2","w-full"],["azt-track-service","list-people-who-will-share-dialog-jHbwL2fY5e",1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md","w-full","btn",2,"border","none","box-shadow","none",3,"disabled","click"],[1,"text-xs","border","border-slate-300","dark:border-darkmode-400","rounded-md","py-1","px-2",2,"width","85px"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],["class","truncate","style","width: 85px; vertical-align: middle",4,"ngIf"],[1,"truncate",2,"width","85px","vertical-align","middle"],["azt-track-service","list-people-who-will-share-dialog-1nM5xDYgHR",1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md","w-full","btn",2,"border","none","box-shadow","none",3,"disabled","click"],["name","users","size","24",2,"position","absolute","top","50%","left","50%","transform","translate(-50%, -50%)",3,"ngClass"]],template:function(o,h){if(1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.eu8(3,3)(4,3)(5,3)(6,3),e.k0s()(),e.j41(7,"div",4)(8,"button",5),e.bIt("click",function(){return h.closeDialog()}),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()()(),e.DNE(11,X,10,9,"ng-template",null,6,e.C5r),e.DNE(13,U,6,6,"ng-template",null,7,e.C5r),e.DNE(15,te,1,1,"ng-template",null,8,e.C5r),e.DNE(17,be,10,8,"ng-template",null,9,e.C5r)),2&o){const b=e.sdS(12),D=e.sdS(14),K=e.sdS(16),J=e.sdS(18);e.R7$(3),e.Y8G("ngTemplateOutlet",b),e.R7$(1),e.Y8G("ngTemplateOutlet",D),e.R7$(1),e.Y8G("ngTemplateOutlet",K),e.R7$(1),e.Y8G("ngTemplateOutlet",J),e.R7$(3),e.JRh(e.bMT(10,5,"lang_auto_huy"))}},dependencies:[C.YU,C.Sq,C.bT,C.T3,R.oV,m.me,m.BC,m.l_,z.Yh,I.WGl,A.p,W.f,G.R,T.wp,T.WL,T.og],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:#fff;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:#fff;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),d})()},15485:(w,k,c)=>{c.d(k,{l:()=>P});var m=c(71217),f=c(26860);let P=(()=>{var O;class t{constructor(){this.hasDataChanged=new m.t(!1),this.currentMessage=this.hasDataChanged.asObservable()}changeStatus(j){this.hasDataChanged.next(j)}}return(O=t).\u0275fac=function(j){return new(j||O)},O.\u0275prov=f.jDH({token:O,factory:O.\u0275fac,providedIn:"root"}),t})()}}]);