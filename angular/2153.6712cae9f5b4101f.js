"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[2153],{74871:(ot,L,l)=>{l.d(L,{$:()=>it});var o=l(81519),s=l(34514),r=l(47426),k=l(89163),j=l(99503),R=l(79347),U=l(33887),f=l(9691),u=l(26860),Y=l(78888),$=l(54460),w=l(64160),c=l(52811),h=l(15343),X=l(73437);function z(J,et){1&J&&(u.j41(0,"h3",4),u.EFF(1),u.nI1(2,"mytranslate"),u.k0s()),2&J&&(u.R7$(1),u.SpI(" ",u.bMT(2,1,"lang_core_dat_lai_mat_khau")," "))}function H(J,et){1&J&&u.nrm(0,"azt-loading-ui",11)}function rt(J,et){if(1&J){const S=u.RV6();u.j41(0,"div")(1,"div",5),u.EFF(2),u.nI1(3,"mytranslate"),u.j41(4,"span",6),u.EFF(5),u.k0s()(),u.j41(6,"div",5),u.EFF(7),u.nI1(8,"mytranslate"),u.k0s(),u.j41(9,"div",7)(10,"button",8),u.bIt("click",function(){u.eBV(S);const y=u.XpG();return u.Njj(y.dialogRef.close())}),u.EFF(11),u.nI1(12,"mytranslate"),u.k0s(),u.j41(13,"button",9),u.bIt("click",function(){u.eBV(S);const y=u.XpG();return u.Njj(y.confirmResetPass())}),u.DNE(14,H,1,0,"azt-loading-ui",10),u.EFF(15),u.nI1(16,"mytranslate"),u.k0s()()()}if(2&J){const S=u.XpG();u.R7$(2),u.SpI(" ",u.bMT(3,7,"lang_core_ban_co_chac_chan_dat_lai_mat_khau")," "),u.R7$(3),u.JRh(S.data.name),u.R7$(2),u.SpI(" ",u.bMT(8,9,"lang_core_neu_chac_chan_hay_chon_tiep_tuc_de_dat_lai")," "),u.R7$(4),u.JRh(u.bMT(12,11,"lang_cms_common_close_btn")),u.R7$(2),u.Y8G("disabled",S.statusObj.loading),u.R7$(1),u.Y8G("ngIf",S.statusObj.loading),u.R7$(1),u.SpI(" ",u.bMT(16,13,"lang_powerpoint_frontend_detail_continue")," ")}}const lt=function(){return{"mr-2":!0}};function A(J,et){if(1&J){const S=u.RV6();u.j41(0,"div")(1,"div",12),u.EFF(2),u.nI1(3,"mytranslate"),u.k0s(),u.j41(4,"div",13),u.EFF(5),u.nI1(6,"mytranslate"),u.j41(7,"span",6),u.EFF(8),u.k0s()(),u.j41(9,"div",7),u.nrm(10,"input",14),u.j41(11,"button",15),u.bIt("click",function(){u.eBV(S);const y=u.XpG();return u.Njj(y.showCopySuccess())}),u.nrm(12,"lucide-icon",16),u.EFF(13),u.nI1(14,"mytranslate"),u.k0s()(),u.j41(15,"button",17),u.bIt("click",function(){u.eBV(S);const y=u.XpG();return u.Njj(y.dialogRef.close())}),u.EFF(16),u.nI1(17,"mytranslate"),u.k0s()()}if(2&J){const S=u.XpG();u.R7$(2),u.SpI(" ",u.bMT(3,9,"lang_auto_dat_lai_mat_khau_thanh_cong")," "),u.R7$(3),u.SpI(" ",u.bMT(6,11,"lang_core_dat_lai_mat_khau_note")," "),u.R7$(3),u.JRh(S.data.name),u.R7$(2),u.Y8G("disabled",!0)("value",S.passwordNew),u.R7$(1),u.Y8G("cdkCopyToClipboard",S.copyPassword()),u.R7$(1),u.Y8G("ngClass",u.lJ4(17,lt)),u.R7$(1),u.SpI(" ",u.bMT(14,13,"lang_auto_copy")," "),u.R7$(3),u.JRh(u.bMT(17,15,"lang_homework_export_homework_complete"))}}let it=(()=>{class J extends U._{confirmResetPass(){this.getApiResetPass()}copyPassword(){return this.passwordNew}showCopySuccess(){this.showSuccessSnack("lang_auto_sao_chep_thanh_cong")}getApiResetPass(){this.initStatusObj(),this.domainUsersManagementService.apiDomainUsersManagementResetDomainUsersPasswordPost({userId:this.data.id}).subscribe({next:F=>{this.passwordNew=F.data??"",this.isAccept=!0,this.stopStatusObj()},error:F=>{this.errorStatusObj(F.error.message,!0)}})}ngOnInit(){super.ngOnInit()}constructor(S,F,y){super(y,F),this.domainUsersManagementService=S,this.dialogRef=F,this.data=y,this.isAccept=!1,this.passwordNew=""}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(F){return new(F||J)(u.rXU(Y.Z),u.rXU(k.CP,8),u.rXU(k.Vh,8))};static#e=this.\u0275cmp=u.VBU({type:J,selectors:[["azt-reset-pasword"]],features:[u.Jv_([{provide:o.$O,useClass:j.fb,deps:[r.Ju,s.ij]},{provide:o.vq,useFactory:R.fJ,deps:[f.F]}]),u.Vt3],decls:5,vars:3,consts:[[1,"box","p-5"],[1,"container-fluid","mb-1","overflow-hidden","document-market-list","w-full"],["class","text-md font-medium truncate mr-auto mb-2",4,"ngIf"],[4,"ngIf"],[1,"text-md","font-medium","truncate","mr-auto","mb-2"],[1,"text-slate-500"],[1,"font-medium"],[1,"flex","justify-center","mt-5"],["azt-track-service","reset-password-diaglog-Jkn-zarZu",1,"mr-2","btn","btn-secondary",3,"click"],["azt-track-service","reset-password-diaglog-d5x6c9spAk",1,"btn","btn-primary",3,"disabled","click"],["class","loading-upload mr-2","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-2"],[1,"text-slate-500","text-success"],[1,"text-slate-500","mt-2"],["type","text",1,"form-control",3,"disabled","value"],["azt-track-service","reset-password-diaglog-1T3L9ZyoV",1,"ml-2","btn","btn-secondary","btn-copy",3,"cdkCopyToClipboard","click"],["name","copy","size","16",3,"ngClass"],["azt-track-service","reset-password-diaglog-47vs7pIDvd",1,"btn","btn-primary","mt-3","w-full",3,"click"]],template:function(F,y){1&F&&(u.j41(0,"div",0)(1,"div",1),u.DNE(2,z,3,3,"h3",2),u.DNE(3,rt,17,15,"div",3),u.DNE(4,A,18,18,"div",3),u.k0s()()),2&F&&(u.R7$(2),u.Y8G("ngIf",!y.isAccept),u.R7$(1),u.Y8G("ngIf",!y.isAccept),u.R7$(1),u.Y8G("ngIf",y.isAccept))},dependencies:[$.YU,$.bT,w.dF,c.R,h.WGl,X.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]})}return J})()},59518:(ot,L,l)=>{l.d(L,{s:()=>j});var o=l(26860),s=l(25693),r=l(51113),k=l(50589);let j=(()=>{class R{ExamExerciseOfProgramToSessionStorage(f,u,Y){const $=this.commonService.getMyQueryParam("indexSession"),w=this.commonService.getMyQueryParam("programId");if(null!=$&&null!=w){const c=this.browserStorageService.getSessionStorage(`${this.key+w}`);if(c){const h=this.zipDataService.decodeContentGzip(c),X=this.commonService.castJsonToObj(h),z={id:-1,refId:f,name:u,type:Y,willRemove:!1};X?.sessionFormArray[$].documentObjs.push(z);const H=this.zipDataService.convertContentGzip(this.commonService.serializeJson(X??{}));this.browserStorageService.saveSessionStorage(`${this.key+w}`,H)}}}removeProgramDataLocal(f){this.browserStorageService.removeSessionStorage(`${this.key+f}`)}constructor(f,u,Y){this.commonService=f,this.zipDataService=u,this.browserStorageService=Y,this.key="data_educational_program_"}static#t=this.\u0275fac=function(u){return new(u||R)(o.KVO(s.R),o.KVO(r.j),o.KVO(k.z))};static#e=this.\u0275prov=o.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},23750:(ot,L,l)=>{l.d(L,{J:()=>At});var o=l(26860),s=l(59640),r=l(73202),k=l(10936),j=l(89163),R=l(51698),U=l(33887),f=l(64198),u=l(93518),Y=l(39712),$=l(40111),w=l(27691);let c=(()=>{class v{constructor(p){this.http=p,this.apiKey="AIzaSyCnVr7hAO9K6J2uIHVnAA3U2bD1gir2_Eo"}getVideoDetails(p){return this.http.get(`https://www.googleapis.com/youtube/v3/videos?id=${p}&key=${this.apiKey}&part=snippet`)}static#t=this.\u0275fac=function(I){return new(I||v)(o.KVO(w.Qq))};static#e=this.\u0275prov=o.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();var h=l(54460),X=l(60303),z=l(2915),H=l(22851),rt=l(63349),lt=l(15343),A=l(73437);const it=function(v,N){return[v,N]},J=function(){return{"text-success mr-2":!0}};function et(v,N){if(1&v){const p=o.RV6();o.j41(0,"div",10)(1,"div",11)(2,"azt-upload-multiple-box",12),o.bIt("uploadComplete",function(x){o.eBV(p);const K=o.XpG();return o.Njj(K.handleUploadComplete(x))}),o.j41(3,"div",13)(4,"div",14)(5,"div",15),o.nrm(6,"lucide-icon",16),o.j41(7,"span",17),o.EFF(8),o.nI1(9,"mytranslate"),o.k0s()(),o.j41(10,"div",18),o.EFF(11),o.nI1(12,"mytranslate"),o.j41(13,"a",19),o.bIt("click",function(x){return x.stopPropagation()}),o.EFF(14),o.nI1(15,"mytranslate"),o.k0s()()()()()()()}if(2&v){const p=o.XpG();o.R7$(2),o.Y8G("uploadToCdnMenu",p.allUploadToCdnMenuTypes.BUSINESS_PLUGINS)("fileType",o.l_i(12,it,p.allUploadFileTypes.SYNTHETIC,p.allUploadFileTypes.AZT)),o.R7$(4),o.Y8G("ngClass",o.lJ4(15,J)),o.R7$(2),o.SpI(" ",o.bMT(9,6,"lang_wsuper_admin_upload_file_choose_file_upload")," "),o.R7$(3),o.SpI(" ",o.bMT(12,8,"lang_auto_azota_support_file_type")," .docx, .azt, .pdf, .pptx, .ppt "),o.R7$(3),o.SpI(" ",o.bMT(15,10,"lang_auto_tim_hieu_them")," ")}}function S(v,N){1&v&&(o.j41(0,"div",28)(1,"div",29),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()()),2&v&&(o.R7$(2),o.JRh(o.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function F(v,N){if(1&v&&o.nrm(0,"azt-preview-file",33),2&v){const p=o.XpG(3);o.Y8G("fileUrl",p.docsLinkControl.value)("customHeight",p.boxContentHeight)("fileType",p.shareTypeDocument)}}function y(v,N){if(1&v&&(o.j41(0,"div",30)(1,"div",31),o.DNE(2,F,1,3,"azt-preview-file",32),o.k0s()()),2&v){const p=o.XpG(2);o.R7$(2),o.Y8G("ngIf",p.docsLinkControl.value)}}function b(v,N){if(1&v){const p=o.RV6();o.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"input",23),o.bIt("input",function(){o.eBV(p);const x=o.XpG();return o.Njj(x.getVideoNameFromUrl())}),o.nI1(4,"mytranslate"),o.k0s()(),o.j41(5,"div",24),o.nrm(6,"input",25),o.nI1(7,"mytranslate"),o.k0s(),o.DNE(8,S,4,3,"div",26),o.k0s(),o.DNE(9,y,3,1,"div",27),o.k0s()}if(2&v){const p=o.XpG();o.R7$(3),o.FS9("placeholder",o.bMT(4,6,"homework_view"==p.data.type?"lang_document_insert_lecture_video_Google_docs_dropbox_link":"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),o.Y8G("formControl",p.docsLinkControl),o.R7$(3),o.FS9("placeholder",o.bMT(7,8,"lang_document_insert_lecture_file_name")+"..."),o.Y8G("formControl",p.fileNameControl),o.R7$(2),o.Y8G("ngIf",p.fileNameControl.invalid),o.R7$(1),o.Y8G("ngIf",p.checkShowPreviewLink())}}let O=(()=>{class v extends U._{onTabChanged(p){this.selectedIndex=p.index,this.shareTypeDocument=0==this.selectedIndex?r.d.exam:r.d.google_docs}btnCloseDialog(){this.dialogRef.close()}handleUploadComplete(p){p.forEach(I=>{let x=this.sAztFileTypeService.getTypeFileByMime(I);x?this.dialogRef.close({name:I.name??"",refId:0,groupType:this.groupTypeFile,type:x,link:I.url??""}):this.showErrorSnack("lang_document_the_file_format_is_not_supported_in_reference")})}checkShowPreviewLink(){return!(!this.docsLinkControl.valid||!((0,f.y1)(this.docsLinkControl.value)||(0,f.Kb)(this.docsLinkControl.value)||(0,f.VJ)(this.docsLinkControl.value)))}getNameVideo(p){return new R.c(I=>{this.youtubeService.getVideoDetails(p).subscribe(x=>{I.next(x.items&&x.items.length?x.items[0].snippet.title:"undefined"),I.complete()},x=>{I.next(void 0),I.complete()})})}getVideoNameFromUrl(){this.data.type==u.k.homework_view&&(0,f.VJ)(this.docsLinkControl.value)&&(this.shareTypeDocument=r.d.video,this.getNameVideo((0,f.b3)(this.docsLinkControl.value)??"").subscribe(p=>{p&&this.fileNameControl.setValue(p)}))}confirmUpload(){if(this.docsLinkControl.valid&&(0,f.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:this.docsLinkControl.value?this.docsLinkControl.value:""}),this.docsLinkControl.valid&&(0,f.VJ)(this.docsLinkControl.value)&&this.fileNameControl.valid){let p={name:this.fileNameControl.value,type:this.shareTypeDocument,groupType:this.groupTypeFile,link:(0,f.Hf)(this.docsLinkControl.value)?this.docsLinkControl.value:""};this.dialogRef.close(p)}}ngOnInit(){super.ngOnInit(),this.shareTypeDocument=this.commonService.getEnumTypeWithDefault(r.d,this.data.type,r.d.unknown),this.groupTypeFile=this.commonService.getEnumTypeWithDefault(u.k,this.data.type,u.k.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}ngAfterViewInit(){this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??750}constructor(p,I,x,K){super(K,x),this.sAztFileTypeService=p,this.youtubeService=I,this.dialogRef=x,this.data=K,this.docsLinkControl=new k.MJ("",{nonNullable:!0,validators:[k.k0.required]}),this.fileNameControl=new k.MJ("",{nonNullable:!0,validators:[k.k0.required]}),this.shareTypeDocument=r.d.exam,this.groupTypeFile=u.k.document,this.allDocumentGroupTypes=u.k,this.boxContentHeight=0,this.selectedIndex=0,this.allUploadToCdnMenuTypes=Y.b8,this.allUploadFileTypes=Y.PO}static#t=this.\u0275fac=function(I){return new(I||v)(o.rXU($.k),o.rXU(c),o.rXU(j.CP,8),o.rXU(j.Vh,8))};static#e=this.\u0275cmp=o.VBU({type:v,selectors:[["add-document-session-dialog"]],features:[o.Vt3],decls:19,vars:16,consts:[["id","box-add-link-content",1,"box","scroll-menu-test",2,"height","80vh"],[1,"p-3"],[3,"selectedIndex","selectedTabChange"],[3,"label"],[2,"height","auto"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"disabled","click"],[1,"form-group"],[1,"intro","mt-4"],[3,"uploadToCdnMenu","fileType","uploadComplete"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[1,"px-4","pb-8","mt-8","text-center","cursor-pointer","relative"],[1,"flex","items-center",2,"justify-content","center"],["name","file-spreadsheet","size","20",3,"ngClass"],[1,"text-primary","mr-1"],[1,"text-slate-500","text-xs","mt-1"],["azt-track-service","upload-document-GHbxbRMZOV","href","https://docs.azota.vn/docs/huong-dan-su-dung/de-thi/chon-file-keo-tha-file-de-tao-de/","target","_blank",1,"text-primary",3,"click"],[1,"px-2"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"formControl","placeholder","input"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],["class","h-full px-3",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[3,"fileUrl","customHeight","fileType"]],template:function(I,x){1&I&&(o.j41(0,"div",0)(1,"div")(2,"azt-mat-dialog-content")(3,"div",1)(4,"mat-tab-group",2),o.bIt("selectedTabChange",function(kt){return x.onTabChanged(kt)}),o.nrm(5,"mat-tab",3),o.nI1(6,"mytranslate"),o.nrm(7,"mat-tab",3),o.nI1(8,"mytranslate"),o.k0s(),o.j41(9,"div",4),o.DNE(10,et,16,16,"div",5),o.DNE(11,b,10,10,"div",6),o.k0s()()()(),o.j41(12,"div",7)(13,"button",8),o.bIt("click",function(){return x.btnCloseDialog()}),o.EFF(14),o.nI1(15,"mytranslate"),o.k0s(),o.j41(16,"button",9),o.bIt("click",function(){return x.confirmUpload()}),o.EFF(17),o.nI1(18,"mytranslate"),o.k0s()()()),2&I&&(o.R7$(4),o.Y8G("selectedIndex",x.selectedIndex),o.R7$(1),o.FS9("label",o.bMT(6,8,"lang_auto_upload_file")),o.R7$(2),o.FS9("label",o.bMT(8,10,"lang_config_educational_program_use_link")),o.R7$(3),o.Y8G("ngIf",0==x.selectedIndex),o.R7$(1),o.Y8G("ngIf",1==x.selectedIndex),o.R7$(3),o.SpI(" ",o.bMT(15,12,"lang_auto_dong")," "),o.R7$(2),o.Y8G("disabled",x.fileNameControl.invalid),o.R7$(1),o.SpI(" ",o.bMT(18,14,"lang_auto_luu")," "))},dependencies:[h.YU,h.bT,X.mq,X.T8,k.me,k.BC,k.l_,z.U,H.N,rt.V,lt.WGl,A.wp],encapsulation:2})}return v})();var T=l(66772),Z=l(52811);function V(v,N){1&v&&(o.j41(0,"div",16)(1,"div",17),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()()),2&v&&(o.R7$(2),o.JRh(o.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function dt(v,N){if(1&v&&o.nrm(0,"azt-preview-file",18),2&v){const p=o.XpG(2);o.Y8G("fileUrl",p.embedLinkControl.value)("fileType",p.shareTypeFile)}}function t(v,N){1&v&&o.nrm(0,"azt-loading-ui",19)}function ut(v,N){if(1&v){const p=o.RV6();o.qex(0),o.j41(1,"div",3)(2,"div",4)(3,"input",5),o.bIt("input",function(){o.eBV(p);const x=o.XpG();return o.Njj(x.getVideoNameFromUrl())}),o.nI1(4,"mytranslate"),o.k0s()(),o.j41(5,"div",6),o.nrm(6,"input",7),o.nI1(7,"mytranslate"),o.k0s(),o.DNE(8,V,4,3,"div",8),o.k0s(),o.j41(9,"div",9)(10,"div",10),o.DNE(11,dt,1,2,"azt-preview-file",11),o.k0s()(),o.j41(12,"div",12)(13,"button",13),o.bIt("click",function(){o.eBV(p);const x=o.XpG();return o.Njj(x.btnCloseDialog())}),o.EFF(14),o.nI1(15,"mytranslate"),o.k0s(),o.j41(16,"button",14),o.bIt("click",function(){o.eBV(p);const x=o.XpG();return o.Njj(x.confirmUpload())}),o.DNE(17,t,1,0,"azt-loading-ui",15),o.EFF(18),o.nI1(19,"mytranslate"),o.k0s()(),o.bVm()}if(2&v){const p=o.XpG();o.R7$(3),o.FS9("placeholder",o.bMT(4,10,"lang_document_insert_lecture_video_link")+"..."),o.Y8G("formControl",p.embedLinkControl),o.R7$(3),o.FS9("placeholder",o.bMT(7,12,"lang_document_insert_lecture_video_name")+"..."),o.Y8G("formControl",p.fileNameControl),o.R7$(2),o.Y8G("ngIf",p.fileNameControl.invalid),o.R7$(3),o.Y8G("ngIf",p.embedLinkControl.value),o.R7$(3),o.SpI(" ",o.bMT(15,14,"lang_auto_dong")," "),o.R7$(2),o.Y8G("disabled",!p.isValidEmbedUrl()||p.fileNameControl.invalid||p.statusObj.loading),o.R7$(1),o.Y8G("ngIf",p.statusObj.loading),o.R7$(1),o.SpI(" ",o.bMT(19,16,"lang_auto_luu")," ")}}function tt(v,N){1&v&&(o.j41(0,"div",16)(1,"div",17),o.EFF(2),o.nI1(3,"mytranslate"),o.k0s()()),2&v&&(o.R7$(2),o.JRh(o.bMT(3,1,"lang_document_insert_lecture_must_submit_file_name")))}function gt(v,N){if(1&v&&o.nrm(0,"azt-preview-file",23),2&v){const p=o.XpG(2);o.Y8G("fileUrl",p.docsLinkControl.value)("customHeight",p.boxContentHeight)("fileType",p.shareTypeFile)}}function _t(v,N){1&v&&o.nrm(0,"azt-loading-ui",19)}function ct(v,N){if(1&v){const p=o.RV6();o.qex(0),o.j41(1,"div",3)(2,"div",4),o.nrm(3,"input",7),o.nI1(4,"mytranslate"),o.k0s(),o.j41(5,"div",6),o.nrm(6,"input",7),o.nI1(7,"mytranslate"),o.k0s(),o.DNE(8,tt,4,3,"div",8),o.k0s(),o.j41(9,"div",9)(10,"div",20),o.DNE(11,gt,1,3,"azt-preview-file",21),o.k0s()(),o.j41(12,"div",22)(13,"button",13),o.bIt("click",function(){o.eBV(p);const x=o.XpG();return o.Njj(x.btnCloseDialog())}),o.EFF(14),o.nI1(15,"mytranslate"),o.k0s(),o.j41(16,"button",14),o.bIt("click",function(){o.eBV(p);const x=o.XpG();return o.Njj(x.confirmUpload())}),o.DNE(17,_t,1,0,"azt-loading-ui",15),o.EFF(18),o.nI1(19,"mytranslate"),o.k0s()(),o.bVm()}if(2&v){const p=o.XpG();o.R7$(3),o.FS9("placeholder",o.bMT(4,10,"lang_document_insert_lecture_Google_docs_dropbox_link")+"..."),o.Y8G("formControl",p.docsLinkControl),o.R7$(3),o.FS9("placeholder",o.bMT(7,12,"lang_document_insert_lecture_file_name")+"..."),o.Y8G("formControl",p.fileNameControl),o.R7$(2),o.Y8G("ngIf",p.fileNameControl.invalid),o.R7$(3),o.Y8G("ngIf",p.docsLinkControl.value),o.R7$(3),o.SpI(" ",o.bMT(15,14,"lang_auto_dong")," "),o.R7$(2),o.Y8G("disabled",!p.isValidDocsUrl()||p.fileNameControl.invalid||p.statusObj.loading),o.R7$(1),o.Y8G("ngIf",p.statusObj.loading),o.R7$(1),o.SpI(" ",o.bMT(19,16,"lang_auto_luu")," ")}}let P=(()=>{class v extends U._{btnCloseDialog(){this.dialogRef.close()}isValidEmbedUrl(){return(0,f.VJ)(this.embedLinkControl.value)}isValidDocsUrl(){return(0,f.si)(this.docsLinkControl.value)}getNameVideo(p){return new R.c(I=>{this.youtubeService.getVideoDetails(p).subscribe(x=>{I.next(x.items&&x.items.length?x.items[0].snippet.title:"undefined"),I.complete()},x=>{I.next(void 0),I.complete()})})}getVideoNameFromUrl(){this.getNameVideo((0,f.b3)(this.embedLinkControl.value)??"").subscribe(p=>{p&&this.fileNameControl.setValue(p)})}confirmUpload(){if(this.data.type==r.d.video&&this.embedLinkControl.valid&&(0,f.VJ)(this.embedLinkControl.value)&&this.fileNameControl.valid){this.initStatusObj();let p={name:this.fileNameControl.value,type:this.shareTypeFile,groupType:u.k.video,link:(0,f.Hf)(this.embedLinkControl.value)?this.embedLinkControl.value:""};this.dialogRef.close(p)}this.data.type==r.d.google_docs&&this.docsLinkControl.valid&&(0,f.si)(this.docsLinkControl.value)&&this.fileNameControl.valid&&(this.initStatusObj(),this.dialogRef.close({name:this.fileNameControl.value,type:this.shareTypeFile,groupType:u.k.video,link:this.docsLinkControl.value?this.docsLinkControl.value:""}))}ngOnInit(){super.ngOnInit(),this.shareTypeFile=this.commonService.getEnumTypeWithDefault(r.d,this.data.type,r.d.unknown),this.boxContentHeight=document.getElementById("box-add-link-content")?.offsetHeight??700}constructor(p,I,x,K,kt){super(kt,K),this.sAZTranslateService=p,this.http=I,this.youtubeService=x,this.dialogRef=K,this.data=kt,this.embedLinkControl=new k.MJ("",{nonNullable:!0,validators:[k.k0.required]}),this.docsLinkControl=new k.MJ("",{nonNullable:!0,validators:[k.k0.required]}),this.fileNameControl=new k.MJ("",{nonNullable:!0,validators:[k.k0.required]}),this.shareTypeFile=r.d.video,this.boxContentHeight=0}static#t=this.\u0275fac=function(I){return new(I||v)(o.rXU(T.o),o.rXU(w.Qq),o.rXU(c),o.rXU(j.CP,8),o.rXU(j.Vh,8))};static#e=this.\u0275cmp=o.VBU({type:v,selectors:[["add-video-session"]],features:[o.Vt3],decls:4,vars:2,consts:[[1,"box","mt-3","relative",2,"height","80vh"],["id","box-add-link-content",1,"h-full","flex","flex-col","mx-auto"],[4,"ngIf"],[1,"items-center","p-3"],[1,"input-embed-link","w-full"],["type","text",1,"form-control",3,"formControl","placeholder","input"],[1,"input-embed-link","w-full","mt-2"],["type","text",1,"form-control",3,"formControl","placeholder"],["class","text-xs mt-2",4,"ngIf"],[1,"h-full","px-3"],[1,"preview-link","h-full","pb-3","mx-auto",2,"max-width","720px"],[3,"fileUrl","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-xs","mt-2"],[1,"text-danger"],[3,"fileUrl","fileType"],[1,"mr-1"],[1,"preview-link","h-full","pb-5","mx-auto",2,"max-width","850px"],[3,"fileUrl","customHeight","fileType",4,"ngIf"],[1,"flex","items-center","justify-end","p-3","w-full","absolute","bg-white",2,"bottom","0","z-index","9999"],[3,"fileUrl","customHeight","fileType"]],template:function(I,x){1&I&&(o.j41(0,"div",0)(1,"div",1),o.DNE(2,ut,20,18,"ng-container",2),o.DNE(3,ct,20,18,"ng-container",2),o.k0s()()),2&I&&(o.R7$(2),o.Y8G("ngIf","video"==x.data.type),o.R7$(1),o.Y8G("ngIf","google_docs"==x.data.type))},dependencies:[h.bT,k.me,k.BC,k.l_,Z.R,H.N,A.wp],encapsulation:2})}return v})();var at=l(46899),_=l(17818);function G(v,N){1&v&&o.nrm(0,"azt-loading-ui",11)}function E(v,N){1&v&&(o.j41(0,"span"),o.EFF(1," + "),o.k0s())}function q(v,N){if(1&v&&(o.qex(0),o.j41(1,"button",8),o.bIt("click",function(I){return I.stopPropagation()}),o.DNE(2,G,1,0,"azt-loading-ui",9),o.DNE(3,E,2,0,"span",10),o.SdG(4),o.k0s(),o.bVm()),2&v){const p=o.XpG(),I=o.sdS(4);o.R7$(1),o.HbH("btn btn-transparent w-48 block "+p.customClass),o.Y8G("disabled",p.loadingUpload)("matMenuTriggerFor",I),o.R7$(1),o.Y8G("ngIf",p.loadingUpload),o.R7$(1),o.Y8G("ngIf",!p.loadingUpload)}}function nt(v,N){1&v&&o.nrm(0,"azt-loading-ui",11)}function Ct(v,N){1&v&&(o.j41(0,"span"),o.EFF(1," + "),o.k0s())}function W(v,N){if(1&v&&(o.j41(0,"span",12),o.bIt("click",function(I){return I.stopPropagation()}),o.DNE(1,nt,1,0,"azt-loading-ui",9),o.DNE(2,Ct,2,0,"span",10),o.j41(3,"span"),o.EFF(4),o.nI1(5,"mytranslate"),o.nI1(6,"mytranslate"),o.k0s()()),2&v){const p=o.XpG(),I=o.sdS(4);o.Y8G("matMenuTriggerFor",I),o.R7$(1),o.Y8G("ngIf",p.loadingUpload),o.R7$(1),o.Y8G("ngIf",!p.loadingUpload),o.R7$(2),o.Lme("",o.bMT(5,5,"lang_button_add")," ",o.bMT(6,7,"lang_auto_tai_lieu"),"")}}const zt=[[["span"]]],Tt=["span"];let At=(()=>{class v extends s.H{showAddLinkDialog(p){this.loadingUpload=!0,this.sAztDialogService.open(P,{width:p==r.d.video?"750px":"950px",data:{showUp:!0,type:p},restoreFocus:!1}).afterClosed().subscribe(x=>{x?(this.emitFileDocument.emit({name:x.name,refId:0,groupType:x.groupType,type:x.type,link:x.link}),this.loadingUpload=!1):this.loadingUpload=!1})}showAddDocumentDialog(p){this.loadingUpload=!0,this.sAztDialogService.open(O,{width:"950px",data:{showUp:!0,type:p},restoreFocus:!1}).afterClosed().subscribe(x=>{x?(this.emitFileDocument.emit({name:x.name,refId:0,groupType:x.groupType,type:x.type,link:x.link}),this.loadingUpload=!1):this.loadingUpload=!1})}ngOnInit(){super.ngOnInit()}constructor(p){super(),this.sAztDialogService=p,this.isBtn=!0,this.customClass="",this.emitFileDocument=new o.bkB,this.loadingUpload=!1}static#t=this.\u0275fac=function(I){return new(I||v)(o.rXU(at.i))};static#e=this.\u0275cmp=o.VBU({type:v,selectors:[["app-upload-document-for-session"]],inputs:{isBtn:"isBtn",customClass:"customClass"},outputs:{emitFileDocument:"emitFileDocument"},features:[o.Vt3],ngContentSelectors:Tt,decls:27,vars:14,consts:[[4,"ngIf","ngIfElse"],["otherBtnTemplate",""],["xPosition","after"],["addDocumentMenu","matMenu"],[1,"dropdown-menu","show","relative","w-72"],[1,"dropdown-content"],["azt-track-service","list-educational-program-sessions-alTxPjwR-Y",1,"dropdown-item",2,"align-items","center",3,"click"],[1,"dropdown-item",2,"align-items","center",3,"click"],["azt-track-service","list-educational-program-sessions-rZNJK7p4k4",2,"text-align","left",3,"disabled","matMenuTriggerFor","click"],["type","bootstrap-spinner",4,"ngIf"],[4,"ngIf"],["type","bootstrap-spinner"],["azt-track-service","add-or-edit-educational-program-wqT22r4zB",1,"clickable",2,"text-align","left",3,"matMenuTriggerFor","click"]],template:function(I,x){if(1&I&&(o.NAR(zt),o.DNE(0,q,5,6,"ng-container",0),o.DNE(1,W,7,9,"ng-template",null,1,o.C5r),o.j41(3,"mat-menu",2,3)(5,"div",4)(6,"ul",5)(7,"li")(8,"a",6),o.bIt("click",function(){return x.showAddLinkDialog("video")}),o.j41(9,"span"),o.EFF(10),o.nI1(11,"mytranslate"),o.k0s()()(),o.j41(12,"li")(13,"a",7),o.bIt("click",function(){return x.showAddDocumentDialog("document")}),o.j41(14,"span"),o.EFF(15),o.nI1(16,"mytranslate"),o.k0s()()(),o.j41(17,"li")(18,"a",7),o.bIt("click",function(){return x.showAddDocumentDialog("homework")}),o.j41(19,"span"),o.EFF(20),o.nI1(21,"mytranslate"),o.k0s()()(),o.j41(22,"li")(23,"a",7),o.bIt("click",function(){return x.showAddDocumentDialog("homework_view")}),o.j41(24,"span"),o.EFF(25),o.nI1(26,"mytranslate"),o.k0s()()()()()()),2&I){const K=o.sdS(2);o.Y8G("ngIf",x.isBtn)("ngIfElse",K),o.R7$(10),o.SpI(" ",o.bMT(11,6,"lang_config_educational_program_add_ytb_link")," "),o.R7$(5),o.SpI(" ",o.bMT(16,8,"lang_config_educational_program_add_document")," "),o.R7$(5),o.SpI(" ",o.bMT(21,10,"lang_config_educational_program_add_homework")," "),o.R7$(5),o.SpI(" ",o.bMT(26,12,"lang_config_educational_program_add_homework_view")," ")}},dependencies:[h.bT,_.kk,_.Cp,Z.R,A.wp],encapsulation:2})}return v})()},10127:(ot,L,l)=>{l.d(L,{B:()=>ct});var o=l(81519),s=l(10936),r=l(34514),k=l(47426),j=l(89163),R=l(99503),U=l(79347),f=l(33887),u=l(9691);class Y{static formGroupClassrooms(at){return void 0!==at.controls.find(E=>E.controls.classroomId.errors)?{identityRevealed:!0,invalidData:!0}:null}}var $=l(42947),w=l(60902),c=l(26860),h=l(19548),X=l(46899),z=l(95412),H=l(54460),rt=l(12992),lt=l(74960),A=l(4375),it=l(47712),J=l(18718),et=l(81587),S=l(2915),F=l(96112),y=l(45344),b=l(15343),O=l(73437);function T(P,at){if(1&P&&c.nrm(0,"azt-loading-effect",6),2&P){const _=c.XpG();c.Y8G("currentStatusObj",_.statusObj)}}function Z(P,at){1&P&&(c.j41(0,"div",20),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&P&&(c.R7$(1),c.SpI(" ",c.bMT(2,1,"lang_core_them_lop_hoc_neu_ban_muon_cap_nhat_so_tien")," "))}function V(P,at){if(1&P&&(c.j41(0,"mat-option",32),c.EFF(1),c.k0s()),2&P){const _=at.$implicit,G=c.XpG(3);c.Y8G("value",_.id)("disabled",G.isSelectClassroom(_.id)),c.R7$(1),c.SpI(" ",_.name," ")}}const dt=function(){return{"text-danger":!0}};function t(P,at){if(1&P){const _=c.RV6();c.j41(0,"button",33),c.bIt("click",function(){c.eBV(_);const E=c.XpG().$implicit,q=c.XpG(2);return c.Njj(q.removeClassroom(E))}),c.nI1(1,"mytranslate"),c.nrm(2,"lucide-icon",34),c.k0s()}2&P&&(c.FS9("matTooltip",c.bMT(1,2,"lang_student_classroom_list_delete")),c.R7$(2),c.Y8G("ngClass",c.lJ4(4,dt)))}function ut(P,at){1&P&&(c.j41(0,"div",35),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&P&&(c.R7$(1),c.SpI(" ",c.bMT(2,1,"lang_testbank_test_config_you_not_yet_class")," "))}function tt(P,at){if(1&P){const _=c.RV6();c.j41(0,"div",36)(1,"mat-checkbox",37),c.EFF(2),c.nI1(3,"mytranslate"),c.k0s(),c.j41(4,"button",38),c.bIt("click",function(){c.eBV(_);const E=c.XpG().$implicit,q=c.XpG(2);return c.Njj(q.removeClassroom(E))}),c.nI1(5,"mytranslate"),c.nrm(6,"lucide-icon",34),c.k0s()()}if(2&P){const _=c.XpG().$implicit;c.R7$(1),c.Y8G("checked",_.controls.isTryLearning.value),c.R7$(1),c.SpI(" ",c.bMT(3,4,"lang_core_hoc_thu")," "),c.R7$(2),c.FS9("matTooltip",c.bMT(5,6,"lang_student_classroom_list_delete")),c.R7$(2),c.Y8G("ngClass",c.lJ4(8,dt))}}function gt(P,at){if(1&P&&(c.j41(0,"div",21)(1,"form",22)(2,"div",23)(3,"div",13)(4,"div",24)(5,"mat-form-field",25)(6,"mat-select",26)(7,"mat-option",27),c.EFF(8),c.nI1(9,"mytranslate"),c.k0s(),c.DNE(10,V,2,3,"mat-option",28),c.k0s()(),c.DNE(11,t,3,5,"button",29),c.k0s(),c.DNE(12,ut,3,3,"div",30),c.k0s()(),c.DNE(13,tt,7,9,"div",31),c.k0s()()),2&P){const _=at.$implicit,G=c.XpG(2);c.R7$(1),c.Y8G("formGroup",_),c.R7$(5),c.Y8G("formControl",_.controls.classroomId),c.R7$(1),c.Y8G("value",0),c.R7$(1),c.SpI("---",c.bMT(9,8,"lang_student_classroom_list_utils_create_class_new_course_choose_class"),""),c.R7$(2),c.Y8G("ngForOf",G.classroomOwner),c.R7$(1),c.Y8G("ngIf",G.isSelectedMonth()),c.R7$(1),c.Y8G("ngIf",_.controls.classroomId.errors),c.R7$(1),c.Y8G("ngIf",!G.isSelectedMonth())}}function _t(P,at){if(1&P){const _=c.RV6();c.j41(0,"azt-mat-dialog-content")(1,"div",7)(2,"div",8)(3,"div",9)(4,"h3",10),c.EFF(5),c.nI1(6,"mytranslate"),c.k0s(),c.nrm(7,"azt-form-enter-info-student",11),c.k0s(),c.j41(8,"div",12)(9,"div",13),c.nrm(10,"azt-checkbox-month",14),c.j41(11,"h3",15),c.EFF(12),c.nI1(13,"mytranslate"),c.k0s(),c.DNE(14,Z,3,3,"div",16),c.DNE(15,gt,14,10,"div",17),c.j41(16,"div",18)(17,"div",19),c.bIt("click",function(){c.eBV(_);const E=c.XpG();return c.Njj(E.addClassroom())}),c.EFF(18),c.nI1(19,"mytranslate"),c.k0s()()()()()()()}if(2&P){const _=c.XpG();c.R7$(5),c.SpI(" ",c.bMT(6,9,"lang_auto_thong_tin_chung")," "),c.R7$(2),c.Y8G("studentForm",_.studentForm)("hasUser",!!_.data&&_.data.hasUser),c.R7$(3),c.Y8G("checkboxMonth",_.checkboxMonth)("histories",_.histories),c.R7$(2),c.SpI(" ",c.bMT(13,11,"lang_auto_lop_hoc")," "),c.R7$(2),c.Y8G("ngIf",0==_.formClassrooms.controls.length),c.R7$(1),c.Y8G("ngForOf",_.formClassrooms.controls),c.R7$(3),c.SpI("+ ",c.bMT(19,13,"lang_student_classroom_list_utils_create_class_add_class"),"")}}let ct=(()=>{class P extends f._{removeClassroom(_){let G=this.formClassrooms.controls.filter(E=>E!=_);this.formClassrooms=new s.Yp(G)}addClassroom(){let _=this.formClassrooms.controls;_.push(new s.gE({classroomId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1)]}),isTryLearning:new s.MJ(!1,{nonNullable:!0})})),this.formClassrooms=new s.Yp(_,{validators:[Y.formGroupClassrooms]}),this.formClassrooms.updateValueAndValidity()}isSelectClassroom(_){return null!=this.formClassrooms.controls.find(G=>G.controls.classroomId.value==_)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(_=>1==_.selected)}saveData(){var _=this.studentForm.form.getRawValue(),G=[],E=[];this.checkboxMonth.checkboxMonth.filter(nt=>1==nt.selected).forEach(nt=>{E.push({month:nt.month,year:nt.year})}),this.formClassrooms.controls.forEach(nt=>{G.push({classroomId:nt.controls.classroomId.value,trialLearning:!(E.length>0)&&nt.controls.isTryLearning.value})}),this.isSaving=!0;var q={id:this.data?this.data.id:void 0,fullName:_.fullName,gender:_.gender,phone:_.phoneNumber,email:_.email,birthday:_.birthday?this.timeService.formatDateTimeToPostToServer(new Date(_.birthday).toDateString()):void 0,password:_.password,classrooms:G,attachPayments:E,schoolName:_.school,facebookLink:_.facebookLink,identificationNumber:_.identificationNumber?Number(_.identificationNumber):void 0};this.waitDestroy(this.paymentService.apiPaymentStudentPost(q).subscribe({next:nt=>{this.isSaving=!1,this.dialogRef.close(!0),this.successStatusObj(this.data?"lang_core_cap_nhat_thanh_cong_hoc_sinh_nop_tien":"lang_core_them_thanh_cong_hoc_sinh_nop_tien",!0)},error:nt=>{this.isSaving=!1,this.errorStatusObj(nt.error.message,!0)}}))}getClassroomName(_){var G=this.classroomOwner.filter(E=>_==E.id)??[];return G.length>0?G[0].name:""}getHistores(){this.data?this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.data.id).subscribe({next:_=>{this.histories=_.histories,this.checkboxMonth.checkboxMonth.map(E=>E.selected=null!=this.histories.find(q=>q.month==E.month&&E.year==q.year));var G=[];_.classrooms.forEach(E=>{G.push(new s.gE({classroomId:new s.MJ(E.classroomId,{nonNullable:!0,validators:[s.k0.min(1)]}),isTryLearning:new s.MJ(E.trialLearning,{nonNullable:!0})}))}),this.formClassrooms=new s.Yp(G,{validators:[Y.formGroupClassrooms]}),this.stopStatusObj()},error:_=>{this.isSaving=!1,this.errorStatusObj(_.error.message,!0)}})):this.stopStatusObj()}getOwnerClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupListMyClassroomsGet().subscribe(_=>{_.success?(this.classroomOwner=_.data?.objs??[],this.getHistores()):(this.errorStatusObj(_.message??"lang_core_co_loi_khi_lay_danh_danh_sach_lop",!0),this.stopStatusObj())}))}ngOnInit(){super.ngOnInit(),this.getOwnerClassroom()}constructor(_,G,E,q,nt,Ct,W){super(W,Ct),this.classroomGroupService=_,this.sAztDialogService=G,this.sAztTimeService=E,this.timeService=q,this.paymentService=nt,this.dialogRef=Ct,this.data=W,this.histories=[],this.checkboxMonth=new w.L,this.studentForm=new $.d,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,W&&(this.checkboxMonth.studentId=this.data.id,W.hasUser?this.studentForm.form=new s.gE({fullName:new s.MJ(W.fullName??"",{nonNullable:!0,validators:[s.k0.required]}),gender:new s.MJ(W.gender??0,{nonNullable:!0}),birthday:new s.MJ(W.birthday,{nonNullable:!0}),email:new s.MJ(W.email??"",{nonNullable:!0,validators:[s.k0.email,s.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new s.MJ(W.phone??"",{nonNullable:!0,validators:[s.k0.required,s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]}),identificationNumber:new s.MJ(W.identificationNumber?W.identificationNumber.toString():"",{nonNullable:!0,validators:[s.k0.min(1),s.k0.maxLength(6),s.k0.pattern("^[0-9]*$")]}),facebookLink:new s.MJ(W.facebookLink,{nonNullable:!0}),school:new s.MJ(W.schoolName,{nonNullable:!0})}):this.studentForm.form.setValue({fullName:W.fullName??"",gender:W.gender??0,birthday:W.birthday,email:W.email??"",phoneNumber:W.phone??"",identificationNumber:W.identificationNumber?W.identificationNumber.toString():"",facebookLink:W.facebookLink,school:W.schoolName,password:""})),this.formClassrooms=new s.Yp([new s.gE({classroomId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1)]}),isTryLearning:new s.MJ(!1,{nonNullable:!0})})],{validators:[Y.formGroupClassrooms]})}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(G){return new(G||P)(c.rXU(h.kG),c.rXU(X.i),c.rXU(u.F),c.rXU(u.F),c.rXU(z.W),c.rXU(j.CP,8),c.rXU(j.Vh,8))};static#e=this.\u0275cmp=c.VBU({type:P,selectors:[["azt-send-feedback"]],features:[c.Jv_([{provide:o.$O,useClass:R.fb,deps:[k.Ju,r.ij]},{provide:o.vq,useFactory:U.fJ,deps:[u.F]}]),c.Vt3],decls:11,vars:10,consts:[[1,"box"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","text-right","border-t","border-slate-200/60","dark:border-darkmode-400"],["azt-track-service","dialog-confirm-EqayhO0oQs",1,"mr-2","btn","btn-secondary",3,"disabled","click"],["azt-track-service","dialog-confirm-rXeH54A3ZE",1,"btn","btn-primary",3,"disabled","click"],[3,"currentStatusObj"],[1,"container-fluid","mt-2","mb-2","overflow-hidden","document-market-list","w-full"],[1,"grid","grid-cols-12","px-2"],[1,"col-span-12","md:col-span-6","px-3","py-2"],[1,"text-md","font-medium","flex","items-center"],[3,"studentForm","hasUser"],[1,"col-span-12","md:col-span-6","px-3","py-2","md:border-l","md:border-slate-200/60","dark:border-darkmode-400"],[1,"w-full"],[3,"checkboxMonth","histories"],[1,"text-md","font-medium","flex","items-center","mt-2"],["class","mt-2 text-xs text-danger ml-1",4,"ngIf"],["class","form-single-class p-2 mt-1",4,"ngFor","ngForOf"],[1,"flex","justify-start"],["azt-track-service","add-or-edit-tuition-fee-mnjxAfd3U",1,"btn-add-class","clickable","mt-2",3,"click"],[1,"mt-2","text-xs","text-danger","ml-1"],[1,"form-single-class","p-2","mt-1"],[3,"formGroup"],[1,"flex"],[1,"flex","items-center"],["id","classroomId","appearance","fill",1,"mt-1",2,"width","100%","background","#fff"],["name","classroomId",3,"formControl"],[3,"value"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","btn-delete-room ml-2",3,"matTooltip","click",4,"ngIf"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-2 flex justify-between",4,"ngIf"],[3,"value","disabled"],[1,"btn-delete-room","ml-2",3,"matTooltip","click"],["name","trash-2","size","20",3,"ngClass"],[1,"text-xs","text-danger","mt-1"],[1,"mt-2","flex","justify-between"],["formControlName","isTryLearning",1,"example-margin",3,"checked"],[1,"btn-delete-room",3,"matTooltip","click"]],template:function(G,E){if(1&G&&(c.j41(0,"div",0),c.DNE(1,T,1,1,"azt-loading-effect",1),c.DNE(2,_t,20,15,"ng-template",null,2,c.C5r),c.j41(4,"div",3)(5,"button",4),c.bIt("click",function(){return E.dialogRef.close()}),c.EFF(6),c.nI1(7,"mytranslate"),c.k0s(),c.j41(8,"button",5),c.bIt("click",function(){return E.saveData()}),c.EFF(9),c.nI1(10,"mytranslate"),c.k0s()()()),2&G){const q=c.sdS(3);c.R7$(1),c.Y8G("ngIf",E.statusObj.loading)("ngIfElse",q),c.R7$(4),c.Y8G("disabled",E.isSaving),c.R7$(1),c.JRh(c.bMT(7,6,"lang_cms_common_close_btn")),c.R7$(2),c.Y8G("disabled",!E.isSaving&&(E.formClassrooms.invalid||E.studentForm.form.invalid)||0==E.formClassrooms.controls.length),c.R7$(1),c.SpI(" ",c.bMT(10,8,"lang_button_save")," ")}},dependencies:[H.YU,H.Sq,H.bT,k.wT,rt.So,lt.rl,A.VO,it.oV,s.qT,s.BC,s.cb,s.l_,s.j4,s.JD,J.K,et.t,S.U,F.s,y.u,b.WGl,O.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]})}return P})()},60902:(ot,L,l)=>{l.d(L,{L:()=>o});class o{constructor(){this.currentDate=new Date,this.studentId=-1,this.checkboxMonth=[{selected:!1,month:1,year:this.currentDate.getFullYear()-1},{selected:!1,month:2,year:this.currentDate.getFullYear()-1},{selected:!1,month:3,year:this.currentDate.getFullYear()-1},{selected:!1,month:4,year:this.currentDate.getFullYear()-1},{selected:!1,month:5,year:this.currentDate.getFullYear()-1},{selected:!1,month:6,year:this.currentDate.getFullYear()-1},{selected:!1,month:7,year:this.currentDate.getFullYear()-1},{selected:!1,month:8,year:this.currentDate.getFullYear()-1},{selected:!1,month:9,year:this.currentDate.getFullYear()-1},{selected:!1,month:10,year:this.currentDate.getFullYear()-1},{selected:!1,month:11,year:this.currentDate.getFullYear()-1},{selected:!1,month:12,year:this.currentDate.getFullYear()-1},{selected:!1,month:1,year:this.currentDate.getFullYear()},{selected:!1,month:2,year:this.currentDate.getFullYear()},{selected:!1,month:3,year:this.currentDate.getFullYear()},{selected:!1,month:4,year:this.currentDate.getFullYear()},{selected:!1,month:5,year:this.currentDate.getFullYear()},{selected:!1,month:6,year:this.currentDate.getFullYear()},{selected:!1,month:7,year:this.currentDate.getFullYear()},{selected:!1,month:8,year:this.currentDate.getFullYear()},{selected:!1,month:9,year:this.currentDate.getFullYear()},{selected:!1,month:10,year:this.currentDate.getFullYear()},{selected:!1,month:11,year:this.currentDate.getFullYear()},{selected:!1,month:12,year:this.currentDate.getFullYear()},{selected:!1,month:1,year:this.currentDate.getFullYear()+1},{selected:!1,month:2,year:this.currentDate.getFullYear()+1},{selected:!1,month:3,year:this.currentDate.getFullYear()+1},{selected:!1,month:4,year:this.currentDate.getFullYear()+1},{selected:!1,month:5,year:this.currentDate.getFullYear()+1},{selected:!1,month:6,year:this.currentDate.getFullYear()+1},{selected:!1,month:7,year:this.currentDate.getFullYear()+1},{selected:!1,month:8,year:this.currentDate.getFullYear()+1},{selected:!1,month:9,year:this.currentDate.getFullYear()+1},{selected:!1,month:10,year:this.currentDate.getFullYear()+1},{selected:!1,month:11,year:this.currentDate.getFullYear()+1},{selected:!1,month:12,year:this.currentDate.getFullYear()+1}]}}},52153:(ot,L,l)=>{l.r(L),l.d(L,{AzotaBusinessModule:()=>mi});var o=l(54460),s=l(10936),r=l(89163),k=l(65162),j=l(6791),R=l(69223),U=l(15437),f=l(15343),u=l(13763),Y=l(25571),$=l(5502),w=l(70050),c=l(7050),h=l(91100),X=l(43234),z=l(46584),H=l(1133),rt=l(50866),lt=l(46723),A=l(59640),it=l(37497),J=l(27208),et=l(81519),S=l(34514),F=l(47426),y=l(17818),b=l(14999),O=l(99503),T=l(79347),Z=l(33887),V=l(9691),dt=l(42947),t=l(26860),ut=l(31216),tt=l(46899),gt=l(92746),_t=l(2915),ct=l(52811),P=l(5800),at=l(96112),_=l(73437);function G(n,d){1&n&&(t.qex(0),t.j41(1,"li",24)(2,"span",25),t.nrm(3,"azt-loading-ui"),t.k0s()(),t.bVm())}function E(n,d){if(1&n&&(t.qex(0),t.j41(1,"li",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.bVm()),2&n){const e=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,1,e.firstInit?"lang_auto_nhap_ten_hoac_sdt_hoc_sinh":"lang_student_classroom_list_detail_not_student")," ")}}function q(n,d){if(1&n){const e=t.RV6();t.j41(0,"li",28),t.bIt("click",function(){const m=t.eBV(e).$implicit,g=t.XpG(3);return t.Njj(g.selectStudent(m))}),t.nrm(1,"azt-student-info-box",29),t.k0s()}if(2&n){const e=d.$implicit;t.R7$(1),t.Y8G("name",e.fullName)("avatar",e.avatar)("gender",e.gender)("phone",e.phone)("email",e.email)("showPhone",!0)("showTooltip",!1)}}function nt(n,d){if(1&n&&(t.qex(0),t.DNE(1,q,2,7,"li",27),t.bVm()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",e.listStudentSearched)}}function Ct(n,d){if(1&n&&(t.DNE(0,E,4,3,"ng-container",19),t.DNE(1,nt,2,1,"ng-container",19)),2&n){const e=t.XpG();t.Y8G("ngIf",!e.listStudentSearched.length),t.R7$(1),t.Y8G("ngIf",e.listStudentSearched.length)}}function W(n,d){1&n&&(t.qex(0),t.j41(1,"div",30)(2,"span",31),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.bVm()),2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_business_no_student_selected_yet")))}function zt(n,d){if(1&n){const e=t.RV6();t.j41(0,"div",32)(1,"button",33),t.bIt("click",function(){const m=t.eBV(e).$implicit,g=t.XpG();return t.Njj(g.removeStudent(m))}),t.nrm(2,"lucide-icon",34),t.k0s(),t.nrm(3,"azt-student-info-box",35),t.k0s()}if(2&n){const e=d.$implicit;t.R7$(3),t.Y8G("name",e.fullName)("avatar",e.avatar)("gender",e.gender)("phone",e.phone)("email",e.email)}}let Tt=(()=>{class n extends Z._{saveData(){var e=this.studentForm.form.getRawValue();this.isSaving=!0;var a={id:this.data?.id,studentParentIds:this.listStudentChoose.map(i=>i.id),fullName:e.fullName,gender:Number(e.gender)??1,phone:e.phoneNumber,email:e.email,birthday:e.birthday?this.timeService.formatDateTimeToPostToServer(new Date(e.birthday).toDateString()):void 0,password:e.password??""};this.waitDestroy(this.studentService.apiStudentUpsertParentUsersPost(a).subscribe(i=>{i&&i.success?(this.isSaving=!1,this.successStatusObj("lang_student_utils_add_parent_successfully",!0),this.dialogRef.close(!0)):(this.isSaving=!1,this.errorStatusObj(i.message,!0))}))}selectStudent(e){this.commonService.isExistInArray(this.listStudentChoose,e)||(this.listStudentChoose.push(e),this.listStudentSearched=this.listStudentSearched.filter(a=>a.id!=e.id))}removeStudent(e){this.data?this.sAztDialogService.open(b.d,{data:{deleteOnParent:!0,studentObj:Object.assign({classroomId:0,parentId:this.data.id},e),classroomObj:{id:0,name:"",teacherId:0,countStudents:0,showAddStudent:0,grade:0,isShareClassroom:!1,isWaitingConfirm:0,permissionObj:{},teamPermissions:[]}},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(i=>{i&&this.data&&(this.isSaving=!0,this.waitDestroy(this.studentService.apiStudentRemoveParentUsersPost({id:this.data.id,studentParentIds:[e.id]}).subscribe({next:g=>{this.isSaving=!1,this.listStudentChoose=this.listStudentChoose.filter(B=>B.id!=e.id),this.isEditted=!0,this.successStatusObj("lang_auto_xoa_hoc_sinh_thanh_cong",!0)},error:g=>{this.isSaving=!1,this.errorStatusObj(g.error.message,!0)}})))}):this.listStudentChoose=this.listStudentChoose.filter(a=>a.id!=e.id)}searchStudent(){this.searchStudentControl.value?(this.isSearching=!0,this.firstInit=!1,this.listStudentSearched=[],this.waitDestroy(this.domainUsersManagementService.apiDomainUsersManagementGetUsersInDomainPost({page:1,pageSize:100,textSearch:this.searchStudentControl.value,role:"STUDENT"}).subscribe({next:a=>{this.menuTrigger.openMenu(),this.listStudentSearched=a.data?.objs.filter(this.commonService.notEmpty).filter(i=>!this.listStudentChoose.find(m=>i.id==m.id))??[],this.isSearching=!1},error:a=>{this.errorStatusObj(a.error.message,!0),this.isSearching=!1}}))):(this.firstInit=!0,this.listStudentSearched=[])}closeDialog(){this.dialogRef.close(this.isEditted)}ngOnInit(){super.ngOnInit()}constructor(e,a,i,m,g,B,Q){super(Q,B),this.studentService=e,this.sAztDialogService=a,this.sAztTimeService=i,this.domainUsersManagementService=m,this.timeService=g,this.dialogRef=B,this.data=Q,this.histories=[],this.searchStudentControl=new s.MJ("",{nonNullable:!0}),this.studentForm=new dt.d,this.isSaving=!1,this.firstInit=!0,this.isSearching=!1,this.isEditted=!1,this.currentDate=new Date,this.listStudentSearched=[],this.listStudentChoose=[],this.studentForm.form=new s.gE(this.data?{fullName:new s.MJ(this.data?.fullName??"",{nonNullable:!0,validators:[s.k0.required]}),gender:new s.MJ(this.data?.gender??0,{nonNullable:!0}),birthday:new s.MJ(new Date(this.data?.birthday??""),{nonNullable:!0,validators:[s.k0.required]}),email:new s.MJ(this.data?.email??"",{nonNullable:!0,validators:[s.k0.email,s.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new s.MJ(this.data?.phone??"",{nonNullable:!0,validators:[s.k0.required,s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]})}:{fullName:new s.MJ("",{nonNullable:!0,validators:[s.k0.required]}),gender:new s.MJ(0,{nonNullable:!0}),birthday:new s.MJ(new Date(""),{nonNullable:!0,validators:[s.k0.required]}),email:new s.MJ("",{nonNullable:!0,validators:[s.k0.email,s.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]}),password:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,s.k0.minLength(6)]})}),this.listStudentChoose=this.data?.childUsers?.map(C=>Object.assign({isParent:!1},C))??[]}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(ut.b0),t.rXU(tt.i),t.rXU(V.F),t.rXU(gt.ZF),t.rXU(V.F),t.rXU(r.CP,8),t.rXU(r.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["azt-add-parent"]],viewQuery:function(a,i){if(1&a&&t.GBs(y.Cp,5),2&a){let m;t.mGM(m=t.lsd())&&(i.menuTrigger=m.first)}},features:[t.Jv_([{provide:et.$O,useClass:O.fb,deps:[F.Ju,S.ij]},{provide:et.vq,useFactory:T.fJ,deps:[V.F]}]),t.Vt3],decls:36,vars:26,consts:[[1,"box"],[1,"p-3","border-b","border-slate-200","dark:border-darkmode-400"],[1,"text-base","font-medium","flex","items-center"],[1,"document-market-list",2,"margin-left","5px"],[1,"grid","grid-cols-12","gap-4","p-3"],[1,"col-span-12","md:col-span-6",2,"margin-top","-0.75rem"],[3,"studentForm","hasUser","isAddParent"],[1,"col-span-12","md:col-span-6"],[1,"relative","flex"],[1,"search","w-full"],["type","text",1,"form-control","py-1","px-4","w-full","box","pr-10","h-10",2,"border-radius","0.375rem",3,"formControl","matMenuTriggerFor","placeholder","keyup.enter"],[1,"absolute","my-auto","inset-y-0","mr-3","right-0","text-slate-500","cursor-pointer",3,"click"],["name","search","size","16"],["listStudentMenu","matMenu"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content",2,"max-height","200px","overflow-y","auto","width","250px"],[4,"ngIf","ngIfElse"],["doneSearch",""],[1,"text-md","font-medium","flex","items-center","mt-3"],[4,"ngIf"],["class","flex mt-2",4,"ngFor","ngForOf"],[1,"p-3","text-right","border-t","border-slate-200","dark:border-darkmode-400"],["azt-track-service","add-parent-dialog-Yv0rmUIbhV",1,"mr-3","btn","btn-secondary","min-width-100",3,"disabled","click"],["azt-track-service","add-parent-dialog-RJ4JwiS_xG",1,"btn","btn-primary","min-width-100",3,"disabled","click"],[1,"text-center","mt-2"],[1,"w-6","h-6","inline-block"],[1,"p-2","text-center","text-xs"],["azt-track-service","add-parent-dialog-O3q5vOzZp","class","p-2",3,"click",4,"ngFor","ngForOf"],["azt-track-service","add-parent-dialog-O3q5vOzZp",1,"p-2",3,"click"],[3,"name","avatar","gender","phone","email","showPhone","showTooltip"],["role","alert",1,"bg-red-100","mt-2","border","border-red-400","text-red-700","px-4","py-1","rounded","relative"],[1,"block","sm:inline"],[1,"flex","mt-2"],["azt-track-service","add-parent-dialog-CxnSrTyDC_",1,"btn","btn-outline-danger","btn-sm","border-0","shadow-0","mr-2",3,"click"],["name","trash-2","size","18"],[3,"name","avatar","gender","phone","email"]],template:function(a,i){if(1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"h3",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"azt-mat-dialog-content")(6,"div",3)(7,"div",4)(8,"div",5),t.nrm(9,"azt-form-enter-info-student",6),t.k0s(),t.j41(10,"div",7)(11,"div",8)(12,"div",9)(13,"input",10),t.bIt("keyup.enter",function(){return i.searchStudent()}),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"button",11),t.bIt("click",function(){return i.searchStudent()}),t.nrm(16,"lucide-icon",12),t.k0s()(),t.j41(17,"mat-menu",null,13)(19,"div",14)(20,"ul",15),t.DNE(21,G,4,0,"ng-container",16),t.DNE(22,Ct,2,2,"ng-template",null,17,t.C5r),t.k0s()()()(),t.j41(24,"h3",18),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.DNE(27,W,5,3,"ng-container",19),t.DNE(28,zt,4,5,"div",20),t.k0s()()()(),t.j41(29,"div",21)(30,"button",22),t.bIt("click",function(){return i.closeDialog()}),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.j41(33,"button",23),t.bIt("click",function(){return i.saveData()}),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s()()()),2&a){const m=t.sdS(18),g=t.sdS(23);t.R7$(3),t.SpI(" ",t.bMT(4,16,"lang_student_utils_add_parent")," "),t.R7$(6),t.Y8G("studentForm",i.studentForm)("hasUser",!1)("isAddParent",!0),t.R7$(4),t.FS9("placeholder",t.bMT(14,18,"lang_auto_nhap_ten_hoac_sdt_hoc_sinh")),t.Y8G("formControl",i.searchStudentControl)("matMenuTriggerFor",m),t.R7$(8),t.Y8G("ngIf",i.isSearching)("ngIfElse",g),t.R7$(4),t.SpI(" ",t.bMT(26,20,"lang_student_utils_parent_childs")," "),t.R7$(2),t.Y8G("ngIf",!i.listStudentChoose.length),t.R7$(1),t.Y8G("ngForOf",i.listStudentChoose),t.R7$(2),t.Y8G("disabled",i.isSaving),t.R7$(1),t.JRh(t.bMT(32,22,"lang_cms_common_close_btn")),t.R7$(2),t.Y8G("disabled",i.isSaving||i.studentForm.form.invalid||!i.listStudentChoose.length),t.R7$(1),t.JRh(t.bMT(35,24,"lang_button_save"))}},dependencies:[o.Sq,o.bT,y.kk,y.Cp,s.me,s.BC,s.l_,_t.U,ct.R,P.B,at.s,f.WGl,_.wp]})}return n})();var At=l(74871),v=l(78888),N=l(18718),p=l(22613),I=l(32099),x=l(96451);function K(n,d){if(1&n&&(t.j41(0,"div",10),t.nrm(1,"azt-loading-effect",11),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("currentStatusObj",e.statusObj)}}function kt(n,d){1&n&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_khong_co_tai_khoan")," "))}const ce=function(n){return[n]},de=function(n){return{backTo:n}};function me(n,d){if(1&n&&(t.qex(0),t.j41(1,"td",29)(2,"a",30),t.nI1(3,"navigationLocalize"),t.nrm(4,"azt-student-info-box",31),t.k0s()(),t.bVm()),2&n){const e=t.XpG().$implicit,a=t.XpG(3);t.R7$(2),t.Y8G("routerLink",t.eq3(11,ce,t.bMT(3,9,"/admin/student/profile-student/"+e.classrooms[0].id+"/"+e.classrooms[0].studentId)))("queryParams",t.eq3(13,de,"/business/account-management?page="+a.pageObj.page)),t.R7$(2),t.Y8G("name",e.fullName)("phone",e.phone)("showPhone",!0)("email",e.email)("gender",e.gender)("birthday",e.birthday)("classrooms",e.classrooms)}}function ue(n,d){if(1&n&&(t.j41(0,"td",29),t.nrm(1,"azt-student-info-box",31),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("name",e.fullName)("phone",e.phone)("showPhone",!0)("email",e.email)("gender",e.gender)("birthday",e.birthday)("classrooms",e.classrooms)}}const _e=function(){return{"mr-2":!0}};function pe(n,d){if(1&n){const e=t.RV6();t.j41(0,"button",32),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,m=t.XpG(3);return t.Njj(m.editStudentDialog(i))}),t.nrm(1,"lucide-icon",33),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,_e)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_sua")," "))}function ge(n,d){if(1&n){const e=t.RV6();t.j41(0,"tr"),t.DNE(1,me,5,15,"ng-container",22),t.DNE(2,ue,2,7,"ng-template",null,23,t.C5r),t.j41(4,"td",24),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"td",25)(10,"div",26),t.DNE(11,pe,4,5,"button",27),t.j41(12,"button",28),t.bIt("click",function(){const m=t.eBV(e).$implicit,g=t.XpG(3);return t.Njj(g.openDialogResetPass(m))}),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()()()}if(2&n){const e=d.$implicit,a=t.sdS(3);t.R7$(1),t.Y8G("ngIf",e.classrooms&&e.classrooms.length)("ngIfElse",a),t.R7$(4),t.SpI(" ",e.isParent?t.bMT(6,5,"lang_auto_phu_huynh"):null!=e.roles&&e.roles.includes("TEACHER")?t.bMT(7,7,"lang_auto_giao_vien"):t.bMT(8,9,"lang_auto_hoc_sinh")," "),t.R7$(6),t.Y8G("ngIf",e.student&&!(null!=e.roles&&e.roles.includes("TEACHER"))&&(null==e.classrooms?null:e.classrooms.length)||e.isParent),t.R7$(2),t.SpI(" ",t.bMT(14,11,"lang_core_dat_lai_mat_khau")," ")}}function fe(n,d){if(1&n&&(t.j41(0,"div")(1,"div",17)(2,"table",18)(3,"thead")(4,"tr")(5,"th",19),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.nrm(8,"th",20)(9,"th",20),t.k0s()(),t.j41(10,"tbody"),t.DNE(11,ge,15,13,"tr",21),t.k0s()()()()),2&n){const e=t.XpG(2);t.R7$(6),t.JRh(t.bMT(7,2,"lang_auto_ho_va_ten")),t.R7$(5),t.Y8G("ngForOf",e.listUser)}}function he(n,d){if(1&n){const e=t.RV6();t.j41(0,"azt-paging",36),t.bIt("goToPaginationPage",function(i){t.eBV(e);const m=t.XpG(3);return t.Njj(m.setPageStudent(i))}),t.k0s()}if(2&n){const e=t.XpG(3);t.Y8G("pageObj",e.pageObj)}}function be(n,d){if(1&n&&(t.j41(0,"div",34),t.nrm(1,"div"),t.DNE(2,he,1,1,"azt-paging",35),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(2),t.Y8G("ngIf",e.totalUser>e.pageObj.pageSize),t.R7$(1),t.Lme(" ",e.totalUser," ",t.bMT(4,3,"lang_student_frontend_fooder_account")," ")}}function ve(n,d){if(1&n&&(t.j41(0,"div",12),t.DNE(1,kt,3,3,"div",13),t.DNE(2,fe,12,4,"div",14),t.DNE(3,be,5,5,"div",15),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",0==e.listUser.length&&0==e.totalUser),t.R7$(1),t.Y8G("ngIf",e.totalUser>0),t.R7$(1),t.Y8G("ngIf",e.totalUser>0)}}let xe=(()=>{class n extends A.H{search(e){this.searchContentObj.setLoading(!0),this.searchContentObj=e,this.setPageStudent(1)}setPageStudent(e){this.myNavigationWithQueryString("/business/account-management","?page="+e),this.pageObj.setPageNumber(e),this.getData()}openDialogResetPass(e){this.sAztDialogService.open(At.$,{width:"500px",restoreFocus:!1,data:{id:e.id,name:e.fullName}}).afterClosed().subscribe(a=>{a&&this.getData()})}editStudentDialog(e){let a=Object.assign({},e.student),i=Object.assign({teacherId:0,countStudents:0,showAddStudent:0,grade:0,isShareClassroom:!1,isWaitingConfirm:0,permissionObj:{},teamPermissions:[]},e.classrooms?.[0]);(e.isParent?this.sAztDialogService.open(Tt,{data:e,restoreFocus:!1,width:"900px"}):this.sAztDialogService.open(lt.B,{data:{studentObj:a,classroomObj:i},restoreFocus:!1,width:"550px"})).afterClosed().subscribe(g=>{g&&this.getData()})}getData(){this.initStatusObj(),this.waitDestroy(this.domainUsersManagementService.apiDomainUsersManagementGetUsersInDomainPost({page:this.pageObj.page,pageSize:this.pageObj.pageSize,textSearch:this.searchContentObj.searchContent}).subscribe({next:a=>{this.listUser=a.data?.objs??[],this.totalUser=a.data?.total??0,this.pageObj.setTotalPages(this.totalUser),this.stopStatusObj(),this.searchContentObj.setLoading(!1)},error:a=>{this.errorStatusObj(a.error.message,!0),this.searchContentObj.setLoading(!1)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_quan_ly_tai_khoan",image:"lang_cms_test_image"}),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),super.ngOnInit(),this.getData()}constructor(e,a){super(),this.sAztDialogService=e,this.domainUsersManagementService=a,this.backLink="/business/dashboard",this.listUser=[],this.totalUser=0,this.searchContentObj=new J.Z,this.pageObj=new it.d(20)}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(tt.i),t.rXU(v.Z))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-azota-business-account-management"]],features:[t.Vt3],decls:14,vars:11,consts:[[3,"headerBackToLink"],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["class","flex w-full justify-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"flex","w-full","justify-center"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-2 pb-3",4,"ngIf"],[1,"mt-10","text-center"],[2,"height","100%"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap",2,"padding-left","0"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["noClick",""],[2,"min-width","120px"],[1,"text-center",2,"min-width","170px"],[1,"flex",2,"align-items","center","justify-content","flex-end"],["azt-track-service","business-account-management-i6OyzMorBB","class","btn btn-sm btn-outline-primary mr-3 w-20",3,"click",4,"ngIf"],["azt-track-service","business-account-management-Vo_M4nrVzj",1,"btn","btn-primary","btn-sm","shadow-md","w-full","w-32","whitespace-nowrap",3,"click"],[1,"!py-3.5","clickable","w-full"],["azt-track-service","business-account-management-5jFBgY7hz",3,"routerLink","queryParams"],[3,"name","phone","showPhone","email","gender","birthday","classrooms"],["azt-track-service","business-account-management-i6OyzMorBB",1,"btn","btn-sm","btn-outline-primary","mr-3","w-20",3,"click"],["name","square-pen","size","16",3,"ngClass"],[1,"flex","justify-between","items-center","mt-2","pb-3"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[3,"pageObj","goToPaginationPage"]],template:function(a,i){if(1&a&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.bIt("onSearch",function(g){return i.search(g.searchObj)}),t.nI1(10,"mytranslate"),t.k0s()()()(),t.DNE(11,K,2,1,"div",8),t.DNE(12,ve,4,3,"ng-template",null,9,t.C5r),t.k0s()()),2&a){const m=t.sdS(13);t.Y8G("headerBackToLink",i.backLink),t.R7$(4),t.SpI(" ",t.bMT(5,7,"lang_core_quan_ly_tai_khoan")," "),t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",i.searchContentObj),t.R7$(2),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",m)}},dependencies:[k.Wk,o.YU,o.Sq,o.bT,N.K,p.q,I.W,P.B,x.Q,f.WGl,_.F2,_.wp],encapsulation:2})}return n})();function Ce(n,d){if(1&n&&t.nrm(0,"azt-loading-effect",2),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function ke(n,d){1&n&&(t.j41(0,"span",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_business_config_billing_is_active_subscription")))}function Ie(n,d){1&n&&(t.j41(0,"span",18),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_business_config_billing_is_inactive_subscription")))}function ye(n,d){if(1&n&&(t.qex(0),t.j41(1,"tr")(2,"td"),t.EFF(3),t.nI1(4,"formatFullDateTimeByUserUnitPipe"),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"formatFullDateTimeByUserUnitPipe"),t.k0s(),t.j41(8,"td"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"td"),t.EFF(12),t.nI1(13,"formatMoney"),t.nI1(14,"mytranslate"),t.k0s()(),t.bVm()),2&n){const e=d.$implicit;t.R7$(3),t.JRh(t.bMT(4,4,e.createdAt)),t.R7$(3),t.JRh(t.bMT(7,6,e.endDate)),t.R7$(3),t.JRh(t.bMT(10,8,e.packageName)),t.R7$(3),t.JRh(t.bMT(13,10,e.packageMoney)+" "+t.bMT(14,12,"lang_auto_vnd_upper"))}}const Oe=function(n){return{"text-danger":n}};function Fe(n,d){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div")(2,"b"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.EFF(5),t.nI1(6,"mytranslate"),t.DNE(7,ke,3,3,"span",7),t.DNE(8,Ie,3,3,"span",8),t.EFF(9," ) "),t.j41(10,"button",9),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.extendPackage())}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",10),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.upgradePackage())}),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",11)(17,"b"),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.EFF(20),t.nI1(21,"formatFullDateTimeByUserUnitPipe"),t.j41(22,"b"),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.EFF(25),t.nI1(26,"formatFullDateTimeByUserUnitPipe"),t.j41(27,"span",12),t.EFF(28),t.nI1(29,"mytranslate"),t.nI1(30,"mytranslate"),t.k0s()(),t.nrm(31,"hr",13),t.j41(32,"div")(33,"b"),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s(),t.j41(36,"table",14)(37,"thead")(38,"tr",15)(39,"td"),t.EFF(40),t.nI1(41,"mytranslate"),t.k0s(),t.j41(42,"td"),t.EFF(43),t.nI1(44,"mytranslate"),t.k0s(),t.j41(45,"td"),t.EFF(46),t.nI1(47,"mytranslate"),t.k0s(),t.j41(48,"td"),t.EFF(49),t.nI1(50,"mytranslate"),t.k0s()()(),t.j41(51,"tbody"),t.DNE(52,ye,15,14,"ng-container",16),t.k0s()()(),t.bVm()}if(2&n){const e=t.XpG(2);t.R7$(3),t.SpI("",t.bMT(4,21,"lang_business_config_billing_current_subscription_package"),":"),t.R7$(2),t.SpI(" ",t.bMT(6,23,null==e.subscriptionObj.businessPackage?null:e.subscriptionObj.businessPackage.name)," ( "),t.R7$(2),t.Y8G("ngIf",e.isActiveSubscription),t.R7$(1),t.Y8G("ngIf",!e.isActiveSubscription),t.R7$(3),t.JRh(t.bMT(12,25,"lang_business_config_billing_extend_package")),t.R7$(3),t.JRh(t.bMT(15,27,"lang_business_config_billing_upgrade_package")),t.R7$(4),t.SpI("",t.bMT(19,29,"lang_business_config_billing_start_time"),":"),t.R7$(2),t.SpI(" ",t.bMT(21,31,e.subscriptionObj.startTime),"\xa0\xa0 "),t.R7$(3),t.SpI("",t.bMT(24,33,"lang_business_config_billing_end_time_subscription"),":"),t.R7$(2),t.SpI(" ",t.bMT(26,35,e.subscriptionObj.endTime)," ( "),t.R7$(2),t.Y8G("ngClass",t.eq3(51,Oe,e.subscriptionTimeDtoObj.days<10)),t.R7$(1),t.LHq("",e.subscriptionTimeDtoObj.days," ",t.bMT(29,37,"lang_auto_day"),", ",e.subscriptionTimeDtoObj.hours," ",t.bMT(30,39,"lang_auto_clock"),")"),t.R7$(6),t.JRh(t.bMT(35,41,"lang_business_config_billing_history_list")),t.R7$(6),t.JRh(t.bMT(41,43,"lang_business_config_billing_history_start_date")),t.R7$(3),t.JRh(t.bMT(44,45,"lang_business_config_billing_history_end_date")),t.R7$(3),t.JRh(t.bMT(47,47,"lang_business_config_billing_history_package_name")),t.R7$(3),t.JRh(t.bMT(50,49,"lang_business_config_billing_history_package_price")),t.R7$(3),t.Y8G("ngForOf",e.subscriptionObj.subscriptionHistories)}}function je(n,d){1&n&&(t.EFF(0),t.nI1(1,"mytranslate")),2&n&&t.SpI(" ",t.bMT(1,1,"lang_business_config_billing_there_is_no_subscription")," ")}function Te(n,d){if(1&n&&(t.j41(0,"div",3)(1,"div",4),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div"),t.DNE(5,Fe,53,53,"ng-container",5),t.DNE(6,je,2,3,"ng-template",null,6,t.C5r),t.k0s()()),2&n){const e=t.sdS(7),a=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_business_config_billing_title")," "),t.R7$(3),t.Y8G("ngIf",a.subscriptionObj)("ngIfElse",e)}}let Me=(()=>{class n extends A.H{extendPackage(){this.myNavigation("/auth/business-packages/extend_package/0/0")}upgradePackage(){this.myNavigation("/auth/business-packages/upgrade_package/0/0")}initData(){this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesMeGet().subscribe(e=>{e.success?(this.subscriptionObj=e.data?.obj,this.subscriptionTimeDtoObj=this.sAztTimeService.getDayHourMinuteOfSubtract(this.subscriptionObj?.endTime),(this.subscriptionTimeDtoObj.days<0||this.subscriptionTimeDtoObj.hours<0||this.subscriptionTimeDtoObj.minutes<0)&&(this.subscriptionTimeDtoObj={days:0,hours:0,minutes:0},this.isActiveSubscription=!1),this.stopStatusObj()):this.errorStatusObj(e.message,!0)}))}ngOnInit(){super.ngOnInit(),this.initData()}constructor(e,a){super(),this.businessPackageService=e,this.sAztTimeService=a,this.subscriptionObj=void 0,this.subscriptionHistories=[],this.subscriptionTimeDtoObj={days:0,hours:0,minutes:0},this.isActiveSubscription=!0}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(gt.WC),t.rXU(V.F))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-business-billing-configs"]],features:[t.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"config-business-billing"],[1,"flex","items-center","border-b","border-slate-200/60","pb-5","mb-5","text-base","font-medium","dark:border-darkmode-400"],[4,"ngIf","ngIfElse"],["notFoundSubscription",""],["class","text-success",4,"ngIf"],["class","text-dagner",4,"ngIf"],[1,"btn","btn-pending","mr-2",3,"click"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"pt-3"],[3,"ngClass"],[1,"mt-6","mb-6"],[1,"table","table-bordered","mt-3"],[1,"table-header"],[4,"ngFor","ngForOf"],[1,"text-success"],[1,"text-dagner"]],template:function(a,i){if(1&a&&(t.DNE(0,Ce,1,1,"azt-loading-effect",0),t.DNE(1,Te,8,5,"ng-template",null,1,t.C5r)),2&a){const m=t.sdS(2);t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",m)}},dependencies:[o.YU,o.Sq,o.bT,N.K,_.wp,_.Rr,_.t0],encapsulation:2})}return n})();var Mt=l(39712);let Se=(()=>{class n extends Z._{confirmDelete(){this.btnCloseDialog(!0)}btnCloseDialog(e){this.dialogRef.close(e)}constructor(e,a){super(a,e),this.dialogRef=e,this.data=a}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(r.CP,8),t.rXU(r.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-confirm-delete-logo"]],features:[t.Vt3],decls:14,vars:9,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-32","btn-primary",3,"click"]],template:function(a,i){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()(),t.j41(7,"div",4)(8,"button",5),t.bIt("click",function(){return i.btnCloseDialog(!1)}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"button",6),t.bIt("click",function(){return i.confirmDelete()}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()),2&a&&(t.R7$(5),t.SpI(" ",t.bMT(6,3,"lang_business_config_are_your_sure_to_delete_this_logo")," "),t.R7$(4),t.SpI(" ",t.bMT(10,5,"lang_cms_common_close_btn")," "),t.R7$(3),t.SpI(" ",t.bMT(13,7,"lang_cms_common_confirm_btn")," "))},dependencies:[_t.U,_.wp],encapsulation:2})}return n})();var Jt=l(20013);function Ee(n,d){if(1&n&&t.nrm(0,"azt-loading-effect",2),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function De(n,d){if(1&n){const e=t.RV6();t.j41(0,"span"),t.EFF(1," | "),t.j41(2,"span",13),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.deleteLogo("bigLogo"))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_button_delete")))}function Pe(n,d){if(1&n){const e=t.RV6();t.j41(0,"span"),t.EFF(1," | "),t.j41(2,"span",13),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.deleteLogo("smallLogo"))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_button_delete")))}function Re(n,d){if(1&n){const e=t.RV6();t.j41(0,"span"),t.EFF(1," | "),t.j41(2,"span",13),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.deleteLogo("favicon"))}),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&n&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_button_delete")))}const $t=function(n){return[n]};function we(n,d){if(1&n){const e=t.RV6();t.j41(0,"div",3)(1,"div",4),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div")(5,"div")(6,"div"),t.EFF(7),t.nI1(8,"mytranslate"),t.j41(9,"span",5)(10,"azt-upload-single-box",6),t.bIt("uploadComplete",function(i){t.eBV(e);const m=t.XpG();return t.Njj(m.uploadNewLogo("bigLogo",i))}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.DNE(13,De,5,3,"span",7),t.k0s(),t.j41(14,"div",8),t.nrm(15,"img",9),t.nI1(16,"getSystemDefaultLogo"),t.k0s()(),t.j41(17,"div",10)(18,"div"),t.EFF(19),t.nI1(20,"mytranslate"),t.j41(21,"span",5)(22,"azt-upload-single-box",6),t.bIt("uploadComplete",function(i){t.eBV(e);const m=t.XpG();return t.Njj(m.uploadNewLogo("smallLogo",i))}),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s()(),t.DNE(25,Pe,5,3,"span",7),t.k0s(),t.j41(26,"div",11),t.nrm(27,"img",9),t.nI1(28,"getSystemDefaultLogo"),t.k0s()(),t.j41(29,"div",10)(30,"div"),t.EFF(31),t.nI1(32,"mytranslate"),t.j41(33,"span",5)(34,"azt-upload-single-box",6),t.bIt("uploadComplete",function(i){t.eBV(e);const m=t.XpG();return t.Njj(m.uploadNewLogo("favicon",i))}),t.EFF(35),t.nI1(36,"mytranslate"),t.k0s()(),t.DNE(37,Re,5,3,"span",7),t.k0s(),t.j41(38,"div",12),t.nrm(39,"img",9),t.nI1(40,"getSystemDefaultLogo"),t.k0s()()()()}if(2&n){const e=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,22,"lang_business_config_logo_title")," "),t.R7$(5),t.SpI(" ",t.bMT(8,24,"lang_business_config_big_logo_title")," (95 x 28 pixel) | "),t.R7$(3),t.Y8G("uploadToCdnMenu",e.allUploadToCdnMenuTypes.AVATAR)("fileType",t.eq3(42,$t,e.allUploadFileTypes.IMAGE))("allowCompressImage",!1),t.R7$(1),t.SpI(" ",t.bMT(12,26,"lang_business_config_upload_new_logo")," "),t.R7$(2),t.Y8G("ngIf",null==e.domainConfigObj?null:e.domainConfigObj.bigLogo),t.R7$(2),t.Y8G("src",e.domainConfigObj.bigLogo||t.bMT(16,28,"bigLogo"),t.B4B),t.R7$(4),t.SpI(" ",t.bMT(20,30,"lang_business_config_small_logo_title")," (40 x 40 pixel) | "),t.R7$(3),t.Y8G("uploadToCdnMenu",e.allUploadToCdnMenuTypes.AVATAR)("fileType",t.eq3(44,$t,e.allUploadFileTypes.IMAGE))("allowCompressImage",!1),t.R7$(1),t.SpI(" ",t.bMT(24,32,"lang_business_config_upload_new_logo")," "),t.R7$(2),t.Y8G("ngIf",null==e.domainConfigObj?null:e.domainConfigObj.smallLogo),t.R7$(2),t.Y8G("src",e.domainConfigObj.smallLogo||t.bMT(28,34,"smallLogo"),t.B4B),t.R7$(4),t.SpI(" ",t.bMT(32,36,"lang_business_config_favicon_title")," (16 x 16 pixel) | "),t.R7$(3),t.Y8G("uploadToCdnMenu",e.allUploadToCdnMenuTypes.AVATAR)("fileType",t.eq3(46,$t,e.allUploadFileTypes.IMAGE))("allowCompressImage",!1),t.R7$(1),t.SpI(" ",t.bMT(36,38,"lang_business_config_upload_new_logo")," "),t.R7$(2),t.Y8G("ngIf",null==e.domainConfigObj?null:e.domainConfigObj.favicon),t.R7$(2),t.Y8G("src",e.domainConfigObj.favicon||t.bMT(40,40,"favicon"),t.B4B)}}let ze=(()=>{class n extends A.H{deleteLogo(e){this.sAztDialogService.open(Se,{restoreFocus:!1,width:"550px"}).afterClosed().subscribe(i=>{i&&("smallLogo"==e&&this.domainConfigObj&&(this.domainConfigObj.smallLogo=void 0),"bigLogo"==e&&this.domainConfigObj&&(this.domainConfigObj.bigLogo=void 0),"favicon"==e&&this.domainConfigObj&&(this.domainConfigObj.favicon=void 0),this.saveConfigObj())})}uploadNewLogo(e,a){"smallLogo"==e&&this.domainConfigObj&&(this.domainConfigObj.smallLogo=a.url),"bigLogo"==e&&this.domainConfigObj&&(this.domainConfigObj.bigLogo=a.url),"favicon"==e&&this.domainConfigObj&&(this.domainConfigObj.favicon=a.url),this.saveConfigObj()}saveConfigObj(){this.initStatusObj();let e={...this.domainConfigObj};this.waitDestroy(this.domainConfigService.apiDomainConfigsPost(e).subscribe(a=>{a.success?this.stopStatusObj():this.errorStatusObj(a.message,!0)}))}initData(){this.initStatusObj(),this.waitDestroy(this.domainConfigService.apiDomainConfigsGet().subscribe(e=>{e.success&&e.data?.obj?(this.domainConfigObj=e.data.obj,this.stopStatusObj()):this.errorStatusObj(e.message,!0)}))}ngOnInit(){super.ngOnInit(),this.initData()}constructor(e,a){super(),this.domainConfigService=e,this.sAztDialogService=a,this.allUploadToCdnMenuTypes=Mt.b8,this.allUploadFileTypes=Mt.PO}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(gt.K1),t.rXU(tt.i))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-business-logo-configs"]],features:[t.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"config-business-logo"],[1,"flex","items-center","border-b","border-slate-200/60","pb-5","mb-5","text-base","font-medium","dark:border-darkmode-400"],[1,"clickable","link-color"],[1,"inline-block",3,"uploadToCdnMenu","fileType","allowCompressImage","uploadComplete"],[4,"ngIf"],[1,"box","p-2",2,"width","95px","height","9 28px","overflow","hidden"],["width","100%","height","100%",3,"src"],[1,"pt-3"],[1,"box","bg-blue-800","p-2",2,"width","40px","height","40px","overflow","hidden"],[1,"box","p-2",2,"width","32px","height","32px","overflow","hidden"],[1,"clickable","text-danger",3,"click"]],template:function(a,i){if(1&a&&(t.DNE(0,Ee,1,1,"azt-loading-effect",0),t.DNE(1,we,41,48,"ng-template",null,1,t.C5r)),2&a){const m=t.sdS(2);t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",m)}},dependencies:[o.bT,N.K,Jt.T,_.wp,_.Vo],encapsulation:2})}return n})(),Ae=(()=>{class n extends A.H{ngOnInit(){this.commonService.translateMetaData({title:"lang_business_config_title",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(){super()}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-business-configs"]],features:[t.Vt3],decls:12,vars:1,consts:[[3,"headerBackToLink"],[1,"azt-config-business-domain","mx-auto","mt-5",2,"max-width","1150px"],[1,"grid","grid-cols-12","gap-5","mt-5"],[1,"col-span-12"],[1,"setting-advanced","mt-5"],[1,"box","p-5","mt-3"],[1,"p-0"]],template:function(a,i){1&a&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),t.nrm(7,"app-business-billing-configs"),t.k0s()()(),t.j41(8,"div",4)(9,"div",5)(10,"div",6),t.nrm(11,"app-business-logo-configs"),t.k0s()()()()()()()),2&a&&t.Y8G("headerBackToLink","/business/dashboard")},dependencies:[x.Q,Me,ze],encapsulation:2})}return n})();var pt=l(76627),St=l(47947),Et=l(17178);class Dt{static tuitionFeeValidator(d){const e=d;return e?!e.value||Dt.validateTuitionFee(e.value)?(e.setErrors(null),null):(e.setErrors({wrongFormatTuitionFee:!0}),{wrongFormatTuitionFee:!0,identityRevealed:!0}):null}static validateTuitionFee(d){return d.match(/^\d{1,3}(\.\d{3})*$/)}}var Pt=l(15766),st=l(73202),It=l(93518),Gt=l(51770),Nt=l(20309),Wt=l(12787),Kt=l(59518),Ot=l(65728),$e=l(11002),Ht=l(74960),Qt=l(4375),Ft=l(81587);function Ge(n,d){1&n&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("*",t.bMT(2,1,"lang_core_vui_long_nhap_ten_chuong_trinh"),""))}function Ne(n,d){if(1&n&&(t.j41(0,"mat-option",9),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=d.$implicit;t.Y8G("value",null==e.schoolLevel?null:e.schoolLevel.id),t.R7$(1),t.SpI(" ",t.bMT(2,2,null==e.schoolLevel?null:e.schoolLevel.key)," ")}}function Le(n,d){1&n&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("*",t.bMT(2,1,"lang_auto_vui_long_chon_khoi_hoc"),""))}function Be(n,d){if(1&n&&(t.j41(0,"mat-option",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=d.$implicit;t.Y8G("value",e.id)("hidden",43==e.id),t.R7$(1),t.SpI(" ",t.bMT(2,3,e.key)," ")}}function Ye(n,d){1&n&&(t.j41(0,"div",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("*",t.bMT(2,1,"lang_auto_vui_long_chon_mon_hoc"),""))}let Zt=(()=>{class n extends A.H{setListSubject(){let e=this.schoolAndLevelObjs.schoolLevelSubjectObjs.find(a=>this.form.controls.schoolLevelId.value==a.schoolLevel?.id);this.listSchoolSubjectObjs=e?.schoolSubjectObjs??[],this.form.controls.schoolSubjectId.setValue(this.listSchoolSubjectObjs.find(a=>a.id==this.form.controls.schoolSubjectId.value)?.id??0)}setValueAmount(){var e=this.commonService.formatMoney(this.form.controls.tuition.value??""),a=this.getPositionCaret()+(e.length-this.form.controls.tuition.value.length);this.form.controls.tuition.setValue(e),this.goToPositionCaret(a)}getPositionCaret(){try{return document.getElementById("tuition").selectionEnd??0}catch{return 0}}goToPositionCaret(e){try{document.getElementById("tuition").setSelectionRange(e,e)}catch{}}initData(){this.form.patchValue({educationalProgramName:this.educationalProgramObj?.name??"",schoolLevelId:this.educationalProgramObj?.schoolLevelId??0,schoolSubjectId:this.educationalProgramObj?.schoolSubjectId??0,tuition:(this.educationalProgramObj?.fee??0)>0?this.educationalProgramObj?.fee?.toString():"0",description:this.educationalProgramObj?.description??""}),this.setListSubject(),(this.educationalProgramObj?.fee?.toString().length??0)>3&&this.setValueAmount()}ngOnInit(){super.ngOnInit(),this.form=this.programForm.controls.generalFormGroup,this.avoidWarningError(()=>{this.initData()})}constructor(){super(),this.listSchoolSubjectObjs=[]}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-educational-program-general-info-form"]],inputs:{programForm:"programForm",schoolAndLevelObjs:"schoolAndLevelObjs",educationalProgramObj:"educationalProgramObj"},features:[t.Vt3],decls:37,vars:33,consts:[[3,"formGroup"],[1,"mt-1"],["for","educationalProgramName",1,"form-label","font-medium","text-sm"],["id","educationalProgramName","formControlName","educationalProgramName","type","text",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-2"],["for","schoolLevelId",1,"form-label","font-medium","text-sm"],["appearance","outline"],["formControlName","schoolLevelId",3,"selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","schoolSubjectId",1,"form-label","font-medium","text-sm"],["formControlName","schoolSubjectId"],[3,"value","hidden",4,"ngFor","ngForOf"],["for","description",1,"form-label","font-medium","text-sm"],["formControlName","description",1,"description",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],[3,"value","hidden"]],template:function(a,i){1&a&&(t.j41(0,"form",0)(1,"div",0)(2,"div",1)(3,"label",2),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.nrm(6,"input",3),t.nI1(7,"mytranslate"),t.DNE(8,Ge,3,3,"div",4),t.k0s(),t.j41(9,"div",5)(10,"label",6),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"mat-form-field",7)(14,"mat-select",8),t.bIt("selectionChange",function(){return i.setListSubject()}),t.j41(15,"mat-option",9),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.DNE(18,Ne,3,4,"mat-option",10),t.k0s()(),t.DNE(19,Le,3,3,"div",4),t.k0s(),t.j41(20,"div",5)(21,"label",11),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"mat-form-field",7)(25,"mat-select",12)(26,"mat-option",9),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.DNE(29,Be,3,5,"mat-option",13),t.k0s()(),t.DNE(30,Ye,3,3,"div",4),t.k0s(),t.j41(31,"div",5)(32,"label",14),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s(),t.nrm(35,"textarea",15),t.nI1(36,"mytranslate"),t.k0s()()()),2&a&&(t.Y8G("formGroup",i.programForm),t.R7$(1),t.Y8G("formGroup",i.form),t.R7$(3),t.SpI(" ",t.bMT(5,17,"lang_core_ten_chuong_trinh")," "),t.R7$(2),t.FS9("placeholder",t.bMT(7,19,"lang_core_nhap_ten_chuong_trinh")+" ..."),t.R7$(2),t.Y8G("ngIf",i.form.controls.educationalProgramName.errors),t.R7$(3),t.SpI(" ",t.bMT(12,21,"lang_auto_khoi_hoc")," "),t.R7$(4),t.Y8G("value",0),t.R7$(1),t.SpI("---",t.bMT(17,23,"lang_auto_chon_khoi"),""),t.R7$(2),t.Y8G("ngForOf",null==i.schoolAndLevelObjs?null:i.schoolAndLevelObjs.schoolLevelSubjectObjs),t.R7$(1),t.Y8G("ngIf",i.form.controls.schoolLevelId.errors),t.R7$(3),t.SpI(" ",t.bMT(23,25,"lang_auto_mon_hoc")," "),t.R7$(4),t.Y8G("value",0),t.R7$(1),t.SpI(" ",t.bMT(28,27,"lang_auto_---chon_mon")," "),t.R7$(2),t.Y8G("ngForOf",i.listSchoolSubjectObjs),t.R7$(1),t.Y8G("ngIf",i.form.controls.schoolSubjectId.errors),t.R7$(3),t.SpI(" ",t.bMT(34,29,"lang_auto_mo_ta")," "),t.R7$(2),t.FS9("placeholder",t.bMT(36,31,"lang_auto_nhap_noi_dung")))},dependencies:[o.Sq,o.bT,F.wT,Ht.rl,Qt.VO,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,Ft.t,_.wp],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-25px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]})}return n})();var Rt=l(53043),Lt=l(40111),Bt=l(91584),qt=l(23750);function Ue(n,d){if(1&n){const e=t.RV6();t.j41(0,"div",6)(1,"azt-document-type-file",7),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,m=t.XpG();return t.Njj(m.previewDocumentFileDialog(i))}),t.k0s(),t.j41(2,"div",8)(3,"button",9),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,m=t.XpG();return t.Njj(m.removeObj(i))}),t.nrm(4,"lucide-icon",10),t.k0s()()()}if(2&n){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("type",e.documentType)("name",e.name)("url",e.link)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("customClass","w-4 h-4")("textWidth","90%")}}function Ve(n,d){if(1&n&&(t.j41(0,"div"),t.DNE(1,Ue,5,8,"div",5),t.k0s()),2&n){const e=d.$implicit;t.R7$(1),t.Y8G("ngIf",!e.willRemove)}}let Xe=(()=>{class n extends A.H{uploadFileEmitted(e){this.listDocumentObjs.push({id:this.commonService.getVirtualIdWithoutInList(!0,this.listDocumentObjs.map(a=>a.id)),name:e.name??"",link:e.link??"",type:e.type??"",documentType:this.commonService.getEnumTypeWithDefault(st.d,e.type??"",st.d.unknown),groupType:this.commonService.getEnumTypeWithDefault(It.k,e.groupType??"",It.k.unknown),willRemove:!1}),this.listDocumentObjsChange.emit(this.listDocumentObjs)}removeObj(e){this.listDocumentObjs.map(a=>a.willRemove=a.id==e.id||a.willRemove),this.listDocumentObjsChange.emit(this.listDocumentObjs)}previewDocumentFileDialog(e){const a={name:e.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(e.type),type:e.type,url:e.link};this.sAztDialogService.open(Rt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...a,index:0},showDownloadIcon:!1},restoreFocus:!1})}ngOnInit(){super.ngOnInit()}constructor(e,a){super(),this.sAztDialogService=e,this.sAztFileTypeService=a,this.listDocumentObjsChange=new t.bkB}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(tt.i),t.rXU(Lt.k))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-educational-program-document-form"]],inputs:{listDocumentObjs:"listDocumentObjs"},outputs:{listDocumentObjsChange:"listDocumentObjsChange"},features:[t.Vt3],decls:7,vars:5,consts:[[1,"mt-2","flex","justify-between"],["for","description",1,"text-sm","mb-1","items-center","font-medium"],[1,"flex","justify-end","btn-add-document"],[3,"isBtn","emitFileDocument"],[4,"ngFor","ngForOf"],["class","items-center mb-2 relative",4,"ngIf"],[1,"items-center","mb-2","relative"],[1,"clickable",3,"type","name","url","showBorder","onlyOneLine","iconVerticalStyle","customClass","textWidth","click"],[1,"flex","absolute","right-0",2,"width","13px","height","13px","top","3px"],[1,"btn","btn-sm","p-0","btn-danger-soft",3,"click"],["name","x","size","16"]],template:function(a,i){1&a&&(t.j41(0,"div",0)(1,"label",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",2)(5,"app-upload-document-for-session",3),t.bIt("emitFileDocument",function(g){return i.uploadFileEmitted(g)}),t.k0s()()(),t.DNE(6,Ve,2,1,"div",4)),2&a&&(t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_testbank_document_list_header_title")," "),t.R7$(3),t.Y8G("isBtn",!1),t.R7$(1),t.Y8G("ngForOf",i.listDocumentObjs))},dependencies:[o.Sq,o.bT,Bt.m,f.WGl,qt.J,_.wp],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-25px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]})}return n})();function Je(n,d){1&n&&(t.j41(0,"small",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("*",t.bMT(2,1,"lang_core_vui_long_nhap_ten_sach"),""))}const We=function(n){return[n]};function Ke(n,d){if(1&n){const e=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"azt-upload-single-box",9),t.bIt("uploadComplete",function(i){const g=t.eBV(e).$implicit,B=t.XpG();return t.Njj(B.handleUploadComplete(i,g))}),t.j41(4,"div")(5,"div",10),t.nrm(6,"img",11),t.nI1(7,"convertCdnLinkOfGitHub"),t.nI1(8,"mycdn"),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"div",12)(11,"div"),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()(),t.j41(14,"div",13),t.bIt("click",function(){const m=t.eBV(e).$implicit,g=t.XpG();return t.Njj(g.previewBookImageDialog(m))}),t.EFF(15),t.nI1(16,"mytranslate"),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"button",14),t.bIt("click",function(){const m=t.eBV(e).$implicit,g=t.XpG();return t.Njj(g.removeBookForm(m))}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()(),t.j41(21,"div",15),t.nrm(22,"input",16),t.nI1(23,"mytranslate"),t.nrm(24,"textarea",17),t.nI1(25,"mytranslate"),t.DNE(26,Je,3,3,"small",18),t.k0s()()}if(2&n){const e=d.$implicit,a=t.XpG();t.Y8G("formGroup",e)("hidden",e.controls.willRemove.value),t.R7$(3),t.Y8G("uploadToCdnMenu",a.allUploadToCdnMenuTypes.BUSINESS_PLUGINS)("fileType",t.eq3(36,We,a.allUploadFileTypes.IMAGE))("limitSize",a.limitSize),t.R7$(3),t.FS9("src",""==e.controls.iconLink.value?t.bMT(7,18,"images/business-book.svg"):t.bMT(8,20,e.controls.iconLink.value),t.B4B),t.FS9("alt",t.bMT(9,22,"lang_core_anh_sach")),t.R7$(4),t.Y8G("ngClass",""==e.controls.iconLink.value?"":"btn-edit-image"),t.R7$(2),t.SpI(" ",t.bMT(13,24,""==e.controls.iconLink.value?"lang_core_them_anh":"lang_auto_tai_len")," "),t.R7$(2),t.Y8G("hidden",""==e.controls.iconLink.value),t.R7$(1),t.Lme(" ",t.bMT(16,26,"lang_test_market_view_question")," ",t.bMT(17,28,"lang_testbank_update_exam_image")," "),t.R7$(4),t.SpI(" ",t.bMT(20,30,"lang_button_delete")," "),t.R7$(3),t.FS9("placeholder",t.bMT(23,32,"lang_core_ten_sach")),t.Y8G("value",e.controls.name.value),t.R7$(2),t.FS9("placeholder",t.bMT(25,34,"lang_auto_mo_ta")),t.Y8G("value",e.controls.description.value),t.R7$(2),t.Y8G("ngIf",e.controls.name.invalid)}}let He=(()=>{class n extends A.H{previewBookImageDialog(e){this.sAztDialogService.open(Rt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:e.controls.name.value,mimes:"image/jpeg",url:e.controls.iconLink.value,index:-1}},restoreFocus:!1})}handleUploadComplete(e,a){a.controls.iconLink.setValue(e.url??"")}removeBookForm(e){e.patchValue({willRemove:!0,name:"empty"}),this.bookFormArray.controls.map(a=>a.controls.id.value==e.controls.id.value?e:a),this.programForm.controls.bookFormArray=this.bookFormArray,this.programForm.updateValueAndValidity()}addMoreBookForm(){this.bookFormArray.push(new s.gE({id:new s.MJ(this.commonService.getVirtualIdWithoutInList(!0,this.bookFormArray.getRawValue().map(e=>e.id)),{nonNullable:!0,validators:[s.k0.required]}),name:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,Pt.M.noWhiteSpace]}),description:new s.MJ("",{nonNullable:!0}),iconLink:new s.MJ("",{nonNullable:!0}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})),this.programForm.controls.bookFormArray=this.bookFormArray,this.programForm.updateValueAndValidity()}initFormArray(){this.bookFormArray.clear(),this.bookObjs.forEach(e=>{this.bookFormArray.push(new s.gE({id:new s.MJ(e.id,{nonNullable:!0,validators:[s.k0.required]}),name:new s.MJ(e.name,{nonNullable:!0,validators:[s.k0.required,Pt.M.noWhiteSpace]}),description:new s.MJ(e.description??"",{nonNullable:!0}),iconLink:new s.MJ(e.iconLink??"",{nonNullable:!0}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})}))})}ngOnInit(){super.ngOnInit(),this.bookFormArray=this.programForm.controls.bookFormArray,this.avoidWarningError(()=>{this.initFormArray()})}constructor(e){super(),this.sAztDialogService=e,this.allUploadToCdnMenuTypes=Mt.b8,this.allUploadFileTypes=Mt.PO,this.limitSize=5}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(tt.i))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-educational-program-book-form"]],inputs:{programForm:"programForm",bookObjs:"bookObjs"},features:[t.Vt3],decls:11,vars:11,consts:[[1,"mt-3","flex","justify-between"],["for","description",1,"form-label","font-medium","text-sm"],["azt-track-service","add-or-edit-educational-program--eJ6MP8NK",1,"btn-add-document","text-sm","clickable",3,"click"],[3,"formGroup"],["formArrayName","bookFormArray"],["class","flex mt-2 box-book",3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"flex","mt-2","box-book",3,"formGroup","hidden"],[1,"pb-1"],[1,"box-image"],[3,"uploadToCdnMenu","fileType","limitSize","uploadComplete"],[1,"flex",2,"height","87px"],["id","blah",3,"src","alt"],["azt-track-service","add-or-edit-educational-program-ySondJc2qe",1,"add-image-label","clickable",2,"margin-bottom","10px",3,"ngClass"],["azt-track-service","add-or-edit-educational-program-4lu0PqnQg",1,"btn-edit-image","add-image-label","clickable",3,"hidden","click"],["azt-track-service","add-or-edit-educational-program-TGWpE3kwi6",1,"btn","btn-danger",3,"click"],[1,"ml-3",2,"width","100%"],["type","text","formControlName","name",1,"form-control","input-name-book","mb-1",3,"placeholder","value"],["formControlName","description",1,"form-control","textarea-description",3,"placeholder","value"],["class","text-danger text-left mt-1",4,"ngIf"],[1,"text-danger","text-left","mt-1"]],template:function(a,i){1&a&&(t.j41(0,"div",0)(1,"label",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",2),t.bIt("click",function(){return i.addMoreBookForm()}),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"form",3)(9,"div",4),t.DNE(10,Ke,27,38,"div",5),t.k0s()()),2&a&&(t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_core_sach")," "),t.R7$(3),t.Lme("+ ",t.bMT(6,7,"lang_button_add")," ",t.bMT(7,9,"lang_core_sach"),""),t.R7$(3),t.Y8G("formGroup",i.programForm),t.R7$(2),t.Y8G("ngForOf",i.bookFormArray.controls))},dependencies:[o.YU,o.Sq,o.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,s.v8,Ft.t,Jt.T,_.wp,_.nf,_.gt],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-25px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]})}return n})();var Qe=l(50589),Ze=l(51113),jt=l(47712),qe=l(69135);function tn(n,d){if(1&n){const e=t.RV6();t.j41(0,"lucide-icon",23),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,m=t.XpG();return t.Njj(m.removeSessionForm(i))}),t.k0s()}2&n&&t.Y8G("size",16)}function en(n,d){1&n&&(t.j41(0,"div",24)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI("*",t.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function nn(n,d){if(1&n){const e=t.RV6();t.j41(0,"lucide-icon",30),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,m=t.XpG().$implicit,g=t.XpG();return t.Njj(g.removeDescriptionForm(m,i))}),t.k0s()}2&n&&t.Y8G("size",16)}function on(n,d){1&n&&(t.j41(0,"div",31)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI("*",t.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function an(n,d){if(1&n&&(t.j41(0,"div",25)(1,"div",26),t.nrm(2,"input",27),t.nI1(3,"mytranslate"),t.DNE(4,nn,1,1,"lucide-icon",28),t.k0s(),t.DNE(5,on,4,3,"div",29),t.k0s()),2&n){const e=d.$implicit,a=t.XpG().$implicit;t.Y8G("formGroup",e)("hidden",e.controls.willRemove.value),t.R7$(1),t.Mz_("id","description-conten-session-",e.controls.id.value,""),t.R7$(1),t.FS9("placeholder",t.bMT(3,6,"lang_core_nhap_noi_dung_buoi_hoc")),t.R7$(2),t.Y8G("ngIf",a.controls.totalDescriptionNotDeleted.value>1),t.R7$(1),t.Y8G("ngIf",e.controls.content.errors)}}function sn(n,d){1&n&&(t.qex(0),t.j41(1,"div",42),t.nrm(2,"img",43),t.nI1(3,"convertCdnLinkOfGitHub"),t.k0s(),t.bVm()),2&n&&(t.R7$(2),t.Y8G("src",t.bMT(3,1,"images/type_file/unknown-file.svg"),t.B4B))}const rn=function(){return{"text-pending":!0}};function ln(n,d){1&n&&(t.qex(0),t.nrm(1,"lucide-icon",44),t.bVm()),2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(1,rn)))}const cn=function(){return{"text-primary":!0}};function dn(n,d){1&n&&(t.qex(0),t.nrm(1,"lucide-icon",45),t.bVm()),2&n&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(1,cn)))}const mn=function(n){return[n]},un=function(n){return{backto:n}};function _n(n,d){if(1&n&&(t.j41(0,"div",33)(1,"a",34),t.nI1(2,"navigationLocalize"),t.j41(3,"div",35)(4,"div",36),t.DNE(5,sn,4,3,"ng-container",37),t.DNE(6,ln,2,2,"ng-container",37),t.DNE(7,dn,2,2,"ng-container",37),t.k0s(),t.j41(8,"div",38)(9,"div",39)(10,"span",40,41),t.EFF(12),t.k0s()()()()()()),2&n){const e=t.sdS(11),a=t.XpG().$implicit,i=t.XpG(2);t.R7$(1),t.Y8G("routerLink",t.eq3(11,mn,t.bMT(2,9,a.controls.type.value==i.allDocumentTypes.exam?"/admin/testbank/exam-results-list/0/"+(null==a.controls.refId?null:a.controls.refId.value)+"/0":"/admin/testbank/homework-results-list/0/"+a.controls.id.value+"/0")))("queryParams",t.eq3(13,un,i.currentUrl)),t.R7$(4),t.Y8G("ngIf",!a.controls.type.value),t.R7$(1),t.Y8G("ngIf",a.controls.type.value==i.allDocumentTypes.exam),t.R7$(1),t.Y8G("ngIf",a.controls.type.value==i.allDocumentTypes.homework),t.R7$(3),t.FS9("matTooltip",a.controls.name.value),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.R7$(2),t.SpI(" ",a.controls.name.value," ")}}function pn(n,d){if(1&n&&(t.j41(0,"div",25),t.DNE(1,_n,13,15,"div",32),t.k0s()),2&n){const e=d.$implicit,a=t.XpG(2);t.Y8G("formGroup",e)("hidden",e.controls.willRemove.value),t.R7$(1),t.Y8G("ngIf",e.controls.type.value===a.allDocumentTypes.exam||e.controls.type.value===a.allDocumentTypes.homework)}}const gn=function(n){return{"p-3":n}};function fn(n,d){if(1&n){const e=t.RV6();t.j41(0,"div",47)(1,"azt-document-type-file",48),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,m=t.XpG(2);return t.Njj(m.previewDocumentFileDialog(i))}),t.k0s(),t.j41(2,"button",49),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,m=t.XpG().$implicit,g=t.XpG();return t.Njj(g.removeDocumentForm(m,i))}),t.nrm(3,"lucide-icon",50),t.k0s()()}if(2&n){const e=t.XpG().$implicit,a=t.XpG(2);t.Y8G("ngClass",t.eq3(9,gn,a.isMobileWebView)),t.R7$(1),t.Y8G("type",e.controls.documentType.value)("name",e.controls.name.value)("url",e.controls.link.value)("showBorder",!1)("iconVerticalStyle","baseline")("customClass","w-4 h-4 image-fit")("textWidth","100%"),t.R7$(2),t.Y8G("size",16)}}function hn(n,d){if(1&n&&(t.j41(0,"div",25),t.DNE(1,fn,4,11,"div",46),t.k0s()),2&n){const e=d.$implicit,a=t.XpG(2);t.Y8G("formGroup",e)("hidden",e.controls.willRemove.value),t.R7$(1),t.Y8G("ngIf",e.controls.type.value!==a.allDocumentTypes.exam&&e.controls.type.value!==a.allDocumentTypes.homework)}}const bn=function(n){return{flex:n}},vn=function(n){return{"flex mt-3":n}};function xn(n,d){if(1&n){const e=t.RV6();t.j41(0,"div",5)(1,"div",6)(2,"h3",7),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.DNE(5,tn,1,1,"lucide-icon",8),t.k0s(),t.DNE(6,en,4,3,"div",9),t.DNE(7,an,6,8,"div",10),t.j41(8,"div",11)(9,"div",12)(10,"span",13),t.bIt("click",function(){const m=t.eBV(e).$implicit,g=t.XpG();return t.Njj(g.addMoreDescriptionForm(m))}),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s()()(),t.j41(14,"div",14)(15,"div",15)(16,"span",16),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"div",17),t.DNE(20,pn,2,3,"div",10),t.j41(21,"div",18)(22,"a",19),t.bIt("click",function(){const m=t.eBV(e).index,g=t.XpG();return t.Njj(g.redirectToCreateNewDocument(m))}),t.j41(23,"span",20),t.EFF(24,"+"),t.k0s(),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()()(),t.j41(27,"div",14)(28,"div",15)(29,"span",16),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()(),t.j41(32,"div",21),t.DNE(33,hn,2,3,"div",10),t.j41(34,"div",18)(35,"app-upload-document-for-session",22),t.bIt("emitFileDocument",function(i){const g=t.eBV(e).$implicit,B=t.XpG();return t.Njj(B.uploadFileEmitted(i,g))}),t.j41(36,"span"),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s()()()()()()}if(2&n){const e=d.$implicit,a=t.XpG();t.Y8G("formGroup",e)("hidden",e.controls.willRemove.value),t.R7$(3),t.Lme("",t.bMT(4,21,"lang_core_buoi")," ",e.controls.session.value,""),t.R7$(2),t.Y8G("ngIf",a.programForm.controls.totalSessionNotDeleted.value>1),t.R7$(1),t.Y8G("ngIf",e.controls.totalDescriptionNotDeleted.value<=0),t.R7$(1),t.Y8G("ngForOf",e.controls.descriptionObjs.controls),t.R7$(4),t.Lme(" + ",t.bMT(12,23,"lang_button_add")," ",t.bMT(13,25,"lang_auto_noi_dung").toLowerCase()," "),t.R7$(6),t.JRh(t.bMT(18,27,"lang_cms_auto_gen_test_exam_title")),t.R7$(2),t.Y8G("ngClass",t.eq3(35,bn,!a.isMobileWebView)),t.R7$(1),t.Y8G("ngForOf",e.controls.documentObjs.controls),t.R7$(2),t.HbH("btn btn-transparent w-48 block font-weight-400"),t.R7$(3),t.SpI(" ",t.bMT(26,29,"lang_business_assign_exams")," "),t.R7$(5),t.JRh(t.bMT(31,31,"lang_testbank_document_list_header_title")),t.R7$(2),t.Y8G("ngClass",t.eq3(37,vn,!a.isMobileWebView)),t.R7$(1),t.Y8G("ngForOf",e.controls.documentObjs.controls),t.R7$(2),t.Y8G("isBtn",!0)("customClass"," font-weight-400"),t.R7$(2),t.JRh(t.bMT(38,33,"lang_core_dinh_kem_tai_lieu"))}}let Cn=(()=>{class n extends A.H{previewDocumentFileDialog(e){const a={name:e.controls.name.value,mimes:this.sAztFileTypeService.getMineTypeByFileType(e.controls.type.value),type:e.controls.type.value,url:e.controls.link.value};this.sAztDialogService.open(Rt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...a,index:0},showDownloadIcon:!1},restoreFocus:!1})}addNewSession(){let e=this.commonService.concatMultipleArray(this.sessionFormArray.controls.map(m=>m.controls.descriptionObjs).map(m=>m.controls.map(g=>g.controls.id.value))),a=this.sessionFormArray.controls.map(m=>m.controls.sessionId.value),i=new s.gE({id:new s.MJ(this.commonService.getVirtualIdWithoutInList(!0,e),{nonNullable:!0,validators:[s.k0.required]}),content:new s.MJ("",{nonNullable:!0,validators:[s.k0.required]}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})});this.sessionFormArray.push(new s.gE({sessionId:new s.MJ(this.commonService.getVirtualIdWithoutInList(!0,a),{nonNullable:!0,validators:[s.k0.required]}),session:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),documentObjs:new s.Yp([]),totalDocumentNotDeleted:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),descriptionObjs:new s.Yp([i],{validators:[s.k0.required,s.k0.minLength(1)]}),totalDescriptionNotDeleted:new s.MJ(1,{nonNullable:!0,validators:[s.k0.required]}),isUploadingImage:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})),this.updateFormData()}removeSessionForm(e){e.controls.sessionId.value<0?this.sessionFormArray.controls=this.sessionFormArray.controls.filter(a=>a.controls.sessionId.value!=e.controls.sessionId.value):(e.controls.willRemove.setValue(!0),e.controls.descriptionObjs.controls.map(a=>{a.controls.content.setValue(a.controls.content.defaultValue&&""!=a.controls.content.defaultValue?a.controls.content.defaultValue:"remove")})),this.sessionFormArray.controls.map(a=>a.controls.sessionId.value==e.controls.sessionId.value?e:a),this.updateFormData()}addMoreDescriptionForm(e){let a=this.commonService.concatMultipleArray(this.sessionFormArray.controls.map(i=>i.controls.descriptionObjs).map(i=>i.controls.map(m=>m.controls.id.value)));e.controls.descriptionObjs.push(new s.gE({id:new s.MJ(this.commonService.getVirtualIdWithoutInList(!0,a),{nonNullable:!0,validators:[s.k0.required]}),content:new s.MJ("",{nonNullable:!0,validators:[s.k0.required]}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})),this.sessionFormArray.controls.map(i=>i.controls.sessionId.value==e.controls.sessionId.value?e:i),this.updateFormData()}removeDescriptionForm(e,a){e.controls.descriptionObjs.controls.map(i=>{i.controls.willRemove.setValue(i.controls.id.value==a.controls.id.value||i.controls.willRemove.value),i.controls.content.setValue(i.controls.id.value==a.controls.id.value?i.controls.content.defaultValue&&""!=i.controls.content.defaultValue?i.controls.content.defaultValue:"remove":i.controls.content.value)}),this.sessionFormArray.controls.map(i=>i.controls.sessionId.value==e.controls.sessionId.value?e:i),this.updateFormData()}removeDocumentForm(e,a){e.controls.documentObjs.controls.map(i=>i.controls.willRemove.setValue(i.controls.id.value==a.controls.id.value||i.controls.willRemove.value)),this.sessionFormArray.controls.map(i=>i.controls.sessionId.value==e.controls.sessionId.value?e:i),this.updateFormData()}uploadFileEmitted(e,a){a&&this.addDataFormDocument({url:e.link,name:e.name,extension:e.type},e.groupType,a)}addDataFormDocument(e,a,i){i.controls.documentObjs.push(new s.gE({id:new s.MJ(this.commonService.getVirtualIdWithoutInList(!0,[]),{nonNullable:!0,validators:[s.k0.required]}),name:new s.MJ(e.name??"",{nonNullable:!0,validators:[s.k0.required]}),link:new s.MJ(e.url??"",{nonNullable:!0,validators:[s.k0.required]}),type:new s.MJ(e.extension??"",{nonNullable:!0,validators:[s.k0.required]}),documentType:new s.MJ(this.commonService.getEnumTypeWithDefault(st.d,e.extension??"",st.d.unknown),{nonNullable:!0,validators:[s.k0.required]}),groupType:new s.MJ(a,{nonNullable:!0}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})),i.controls.isUploadingImage.setValue(!1),this.sessionFormArray.controls.map(g=>g.controls.sessionId.value==i.controls.sessionId.value?i:g),this.updateFormData()}redirectToCreateNewDocument(e){const a=this.programForm.getRawValue(),i=this.zipDataService.convertContentGzip(this.serializeJson(a));this.browserStorageService.saveSessionStorage(`${this.programFormService.key+this.educationalProgramObj?.id}`,i),this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backTo=${this.currentUrl}&programId=${this.educationalProgramObj?.id}&levelId=${this.educationalProgramObj?.schoolLevelId??0}&subjectId=${this.educationalProgramObj?.schoolSubjectId??0}&indexSession=${e}`)}initFormArray(){this.sessionFormArray.clear();const e=this.extractValueFromZipData();e?e.sessionFormArray.forEach(this.processItem.bind(this)):this.convertSessionDtoToSessionFormArray(this.sessionObjs).forEach(this.processItem.bind(this)),this.sessionObjs.length<=0&&!e?.sessionFormArray.length&&this.addNewSession(),this.updateFormData()}updateFormData(){let e=1;this.sessionFormArray.controls.forEach(a=>{a.controls.willRemove.value||(a.controls.session.setValue(e),e+=1),a.controls.totalDescriptionNotDeleted.setValue(a.controls.descriptionObjs.controls.filter(i=>!i.controls.willRemove.value).length),a.controls.totalDocumentNotDeleted.setValue(a.controls.documentObjs.controls.filter(i=>!i.controls.willRemove.value).length)}),this.programForm.controls.totalSessionNotDeleted.setValue(this.programForm.controls.sessionFormArray.controls.filter(a=>!a.controls.willRemove.value).length),this.programForm.controls.sessionFormArray=this.sessionFormArray,this.programForm.updateValueAndValidity()}extractValueFromZipData(){const e=this.browserStorageService.getSessionStorage(`${this.programFormService.key+this.educationalProgramObj?.id}`);if(!e)return;const a=this.zipDataService.decodeContentGzip(e);return this.castJsonToObj(a)}createDocumentFormGroup(e){return new s.gE({id:new s.MJ(e.id,{nonNullable:!0,validators:[s.k0.required]}),refId:new s.MJ(e.refId??0,{nonNullable:!0}),name:new s.MJ(e.name??"",{nonNullable:!0,validators:[s.k0.required]}),link:new s.MJ(e.link??"",{nonNullable:!0}),type:new s.MJ(e.type,{nonNullable:!0,validators:[s.k0.required]}),documentType:new s.MJ(this.commonService.getEnumTypeWithDefault(st.d,e.type,st.d.unknown),{nonNullable:!0,validators:[s.k0.required]}),groupType:new s.MJ(e.groupType??"",{nonNullable:!0}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})}createDescriptionFormGroup(e){return new s.gE({id:new s.MJ(e.id,{nonNullable:!0,validators:[s.k0.required]}),content:new s.MJ(e.content,{nonNullable:!0,validators:[s.k0.required]}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})})}processItem(e){const a=e.documentObjs.filter(m=>m&&!m.willRemove).map(this.createDocumentFormGroup.bind(this)),i=e.descriptionObjs.filter(m=>document&&!m.willRemove).map(this.createDescriptionFormGroup.bind(this));this.sessionFormArray.push(new s.gE({sessionId:new s.MJ(e.sessionId,{nonNullable:!0,validators:[s.k0.required]}),session:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),documentObjs:new s.Yp(a),totalDocumentNotDeleted:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]}),descriptionObjs:new s.Yp(i,{validators:[s.k0.required,s.k0.minLength(1)]}),totalDescriptionNotDeleted:new s.MJ(i.length,{nonNullable:!0,validators:[s.k0.required]}),isUploadingImage:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]}),willRemove:new s.MJ(!1,{nonNullable:!0,validators:[s.k0.required]})}))}convertSessionDtoToSessionFormArray(e){let a=[];return e.forEach(i=>{let m=[];i.documents.forEach(Q=>{m.push({id:Q.id,refId:Q.refId,name:Q.name??"",link:Q.link,type:Q.type,documentType:Q.type,willRemove:!1})});let g=[];i.contents.forEach(Q=>{g.push({id:Q.id,content:Q.content,willRemove:!1})}),a.push({sessionId:i.id,documentObjs:m,descriptionObjs:g,totalDescriptionNotDeleted:0,totalDocumentNotDeleted:0,session:i.sort,isUploadingImage:!1,willRemove:!1})}),a}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.sessionFormArray=this.programForm.controls.sessionFormArray,this.avoidWarningError(()=>{this.initFormArray()})}constructor(e,a,i,m,g,B){super(),this.cd=e,this.sAztDialogService=a,this.sAztFileTypeService=i,this.browserStorageService=m,this.zipDataService=g,this.programFormService=B,this.sessionObjs=[],this.currentUrl=this.commonService.getCurrentUrlWithoutLocale(),this.allDocumentTypes=st.d}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(t.gRc),t.rXU(tt.i),t.rXU(Lt.k),t.rXU(Qe.z),t.rXU(Ze.j),t.rXU(Kt.s))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-educational-program-session-form"]],inputs:{programForm:"programForm",sessionObjs:"sessionObjs",educationalProgramObj:"educationalProgramObj"},features:[t.Vt3],decls:7,vars:5,consts:[[3,"formGroup"],["formArrayName","sessionFormArray"],["class","box pt-3 pl-3 pr-3 mt-3",3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"flex","justify-center"],["azt-track-service","add-or-edit-educational-program-22QBASGLIe",1,"btn-add-session","mt-2","clickable",3,"click"],[1,"box","pt-3","pl-3","pr-3","mt-3",3,"formGroup","hidden"],[1,"flex"],[1,"text-md","font-medium","truncate","mr-auto"],["name","x","class","clickable ml-1",3,"size","click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted mt-2",4,"ngIf"],[3,"formGroup","hidden",4,"ngFor","ngForOf"],[1,"flex","justify-start","py-2"],[1,"btn-add-document","text-sm","px-3"],["azt-track-service","add-or-edit-educational-program-izd-G_-kRf",1,"clickable",3,"click"],[1,"azt-answer"],[1,"strike"],[1,"uppercase","text-slate-600","text-xs"],[1,"items-center","mt-3","pb-3","scroll",3,"ngClass"],[1,"btn-add-document","text-sm"],["azt-track-service","session-form-7wsWmtscNU",2,"text-align","left",3,"click"],[1,"inline-block"],[1,"items-center","pb-3","scroll",3,"ngClass"],[3,"isBtn","customClass","emitFileDocument"],["name","x",1,"clickable","ml-1",3,"size","click"],[1,"text-xs","font-medium","text-danger","ng-star-inserted","mt-2"],[3,"formGroup","hidden"],[1,"flex","items-center",3,"id"],["type","text","formControlName","content",1,"form-control","mt-2","mb-2","pr-5",3,"placeholder"],["name","x","class","clickable btn-clear-form-content ml-1",3,"size","click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],["name","x",1,"clickable","btn-clear-form-content","ml-1",3,"size","click"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],["class","flex items-center mr-4",4,"ngIf"],[1,"flex","items-center","mr-4"],["azt-track-service","session-form-uEv4oFbN4",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[4,"ngIf"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"whitespace-nowrap",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"w-4","h-4","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],["name","file-check","size","16",3,"ngClass"],["name","file-text","size","16",3,"ngClass"],["class","flex items-center mr-4",3,"ngClass",4,"ngIf"],[1,"flex","items-center","mr-4",3,"ngClass"],[1,"clickable",3,"type","name","url","showBorder","iconVerticalStyle","customClass","textWidth","click"],[1,"btn","btn-sm","btn-danger-soft","p-0","ml-1",3,"click"],["name","x",3,"size"]],template:function(a,i){1&a&&(t.j41(0,"form",0)(1,"div",1),t.DNE(2,xn,39,39,"div",2),t.j41(3,"div",3)(4,"div",4),t.bIt("click",function(){return i.addNewSession()}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()()),2&a&&(t.Y8G("formGroup",i.programForm),t.R7$(2),t.Y8G("ngForOf",i.sessionFormArray.controls),t.R7$(3),t.SpI("+ ",t.bMT(6,3,"lang_core_them_bui_hoc"),""))},dependencies:[k.Wk,o.YU,o.Sq,o.bT,jt.oV,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,s.v8,Ft.t,qe.f,Bt.m,f.WGl,qt.J,_.F2,_.wp,_.gt],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-25px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]})}return n})();function kn(n,d){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function In(n,d){if(1&n&&t.nrm(0,"app-educational-program-general-info-form",21),2&n){const e=t.XpG(2);t.Y8G("programForm",e.form)("educationalProgramObj",e.educationalProgramObj)("schoolAndLevelObjs",e.schoolAndLevelObjs)}}function yn(n,d){if(1&n&&t.nrm(0,"app-educational-program-book-form",22),2&n){const e=t.XpG(2);t.Y8G("programForm",e.form)("bookObjs",e.bookObjs)}}function On(n,d){1&n&&t.nrm(0,"azt-loading-ui",23)}const Fn=function(n){return[n]};function jn(n,d){if(1&n){const e=t.RV6();t.j41(0,"form",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),t.DNE(5,In,1,3,"app-educational-program-general-info-form",9),t.j41(6,"app-educational-program-document-form",10),t.bIt("listDocumentObjsChange",function(i){t.eBV(e);const m=t.XpG();return t.Njj(m.generalDocumentObjs=i)}),t.k0s(),t.DNE(7,yn,1,2,"app-educational-program-book-form",11),t.nI1(8,"async"),t.nI1(9,"allowFeatureBusinessForUser"),t.k0s()(),t.j41(10,"div",12)(11,"div",13)(12,"h3",14),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"flexed-on-the-top",15)(16,"a",16),t.nI1(17,"navigationLocalize"),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"button",17),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.saveEducationalProgram())}),t.DNE(21,On,1,0,"azt-loading-ui",18),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()(),t.nrm(24,"app-educational-program-session-form",19),t.k0s()()()(),t.nrm(25,"azt-scroll-to-top-bottom",20)}if(2&n){const e=t.XpG();t.Y8G("formGroup",e.form),t.R7$(5),t.Y8G("ngIf",e.schoolAndLevelObjs),t.R7$(1),t.Y8G("listDocumentObjs",e.generalDocumentObjs),t.R7$(1),t.Y8G("ngIf",t.bMT(8,15,t.brH(9,17,"","training_center_student_book",!1))),t.R7$(6),t.SpI(" ",t.bMT(14,21,"lang_core_noi_dung_chuong_trinh")," "),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(1),t.Y8G("routerLink",t.eq3(29,Fn,t.bMT(17,23,e.backLink))),t.R7$(2),t.JRh(t.bMT(19,25,"lang_cms_common_close_btn")),t.R7$(2),t.Y8G("disabled",e.form.invalid||e.isSaving),t.R7$(1),t.Y8G("ngIf",e.isSaving),t.R7$(1),t.SpI(" ",t.bMT(23,27,"lang_button_save")," "),t.R7$(2),t.Y8G("programForm",e.form)("sessionObjs",e.sessionObjs)("educationalProgramObj",e.educationalProgramObj),t.R7$(1),t.Y8G("isScrollToTop",!0)}}let te=(()=>{class n extends A.H{saveEducationalProgram(){let e=this.form.getRawValue(),a=[];if(null!=this.educationalProgramId){let C=this.educationalProgramId,M=e.sessionFormArray.filter(D=>D.willRemove&&D.sessionId>0).map(D=>D.sessionId),ht=this.generalDocumentObjs.filter(D=>D.willRemove&&D.id>0).map(D=>D.id),bt=this.commonService.concatMultipleArray(e.sessionFormArray.map(D=>D.documentObjs)).filter(D=>D.willRemove&&D.id>0).map(D=>D.id),vt=e.sessionFormArray.map(D=>({sessionId:D.sessionId,contentIds:D.descriptionObjs.filter(xt=>xt.willRemove&&xt.id>0).map(xt=>xt.id)})).filter(D=>D.contentIds.length>0),mt=e.bookFormArray.filter(D=>D.willRemove&&D.id>0).map(D=>D.id),Xt=M.map(D=>this.programService.apiProgramsProgramIdSessionsSessionIdDelete(C,D)),ui=ht.map(D=>this.programService.apiProgramsProgramIdDocumentsDocumentIdDelete(C,D)),_i=bt.map(D=>this.programService.apiProgramsProgramIdDocumentsDocumentIdDelete(C,D)),pi=this.commonService.concatMultipleArray(vt.map(D=>{let xt=[];return D.contentIds.forEach(fi=>{xt.push(this.programService.apiProgramsProgramIdSessionsSessionIdContentsContentIdDelete(C,D.sessionId,fi))}),xt})),gi=mt.map(D=>this.bookService.apiBooksIdDelete(D));a=this.commonService.concatMultipleArray([Xt,ui,_i,pi,gi])}let i=[];e.sessionFormArray.filter(C=>!C.willRemove).forEach(C=>{i.push({id:C.sessionId>0?C.sessionId:void 0,contents:C.descriptionObjs.filter(M=>!M.willRemove).map(M=>({id:M.id>0?M.id:void 0,content:M.content})),documents:C.documentObjs.filter(M=>!M.willRemove&&M.id<=0).map(M=>({refId:M.refId,name:M.name,link:M.link,type:M.type,groupType:M.groupType}))})});let m=this.generalDocumentObjs.filter(C=>!C.willRemove&&C.id<=0).map(C=>({name:C.name,link:C.link,type:C.type,groupType:C.groupType})),g=e.bookFormArray.filter(C=>!C.willRemove).map(C=>({id:C.id>0?C.id:void 0,name:C.name,description:C.description,iconLink:C.iconLink}));var B={name:e.generalFormGroup.educationalProgramName,fee:Number(e.generalFormGroup.tuition.replace(/\./g,"")??"0"),schoolLevelId:e.generalFormGroup.schoolLevelId,schoolSubjectId:e.generalFormGroup.schoolSubjectId,description:e.generalFormGroup.description,sessions:i,documents:m,books:g};this.isSaving=!0;let Q=(0,pt.z)([...a,this.programService.apiProgramsIdPut(this.educationalProgramId??0,B)]);this.waitDestroy(Q.subscribe({next:C=>{this.successStatusObj("lang_core_sua_chuong_trinh_thanh_cong",!0),this.commonService.myNavigation(this.backLink),this.programFormService.removeProgramDataLocal(this.educationalProgramId??0),this.isSaving=!1},error:C=>{this.errorStatusObj(C.error.message,!0),this.isSaving=!1}}))}callMultipleApi(){const a=this.bookService.apiBooksListPost({page:1,size:-1,programId:this.educationalProgramId}),i=this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl());if(this.educationalProgramId){const m=this.programService.apiProgramsIdDocumentsGet(this.educationalProgramId),g=this.programService.apiProgramsIdClassroomsListPost(this.educationalProgramId,{page:1,size:-1}),B=this.programService.apiProgramsIdGet(this.educationalProgramId),Q=this.programService.apiProgramsIdSessionsGet(this.educationalProgramId);return(0,pt.z)([a,m,g,B,Q,i]).pipe((0,St.T)(([C,M,ht,bt,vt,mt])=>({bookResponse:C,documentResponse:M,classroomResponse:ht,programResponse:bt,sessionResponse:vt,subjectAndLevelResponse:mt})),(0,Et.W)(C=>{throw C}))}return(0,pt.z)([i]).pipe((0,St.T)(([m])=>({bookResponse:void 0,documentResponse:void 0,classroomResponse:void 0,programResponse:void 0,sessionResponse:void 0,subjectAndLevelResponse:m})),(0,Et.W)(m=>{throw m}))}getData(){this.initStatusObj(),this.waitDestroy(this.callMultipleApi().subscribe({next:e=>{this.educationalProgramObj=e.programResponse,this.schoolAndLevelObjs=e.subjectAndLevelResponse.data,this.generalDocumentObjs=e.documentResponse?.list.map(a=>({id:a.id,name:a.name??"",link:a.link??"",type:a.type,documentType:this.commonService.getEnumTypeWithDefault(st.d,a.type,st.d.unknown),groupType:this.commonService.getEnumTypeWithDefault(It.k,a.groupType??"",It.k.unknown),willRemove:!1}))??[],this.bookObjs=e.bookResponse?.list??[],this.sessionObjs=(e?.sessionResponse?.list??[]).sort((a,i)=>a.sort-i.sort),this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_chuong_trinh_hoc",image:"lang_cms_test_image"}),super.ngOnInit(),this.educationalProgramId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.backLink=this.commonService.getMyQueryParam("backto")??`/business/educational-program/${this.educationalProgramId}`,this.getData()}constructor(e,a,i,m,g){super(),this.activeRoute=e,this.programService=a,this.commonListService=i,this.bookService=m,this.programFormService=g,this.backLink="",this.bookObjs=[],this.generalDocumentObjs=[],this.sessionObjs=[],this.isSaving=!1,this.allDocumentTypes=st.d,this.form=new s.gE({generalFormGroup:new s.gE({educationalProgramName:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,Pt.M.noWhiteSpace]}),tuition:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,Dt.tuitionFeeValidator]}),schoolLevelId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1),s.k0.pattern(/^[1-9]\d*$/)]}),schoolSubjectId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1),s.k0.pattern(/^[1-9]\d*$/)]}),description:new s.MJ("",{nonNullable:!0})}),bookFormArray:new s.Yp([]),sessionFormArray:new s.Yp([],{validators:[s.k0.required,s.k0.minLength(1)]}),totalSessionNotDeleted:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]})})}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(k.nX),t.rXU(Gt.s),t.rXU(Nt.N),t.rXU(Wt.l),t.rXU(Kt.s))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-add-or-edit-educational-program"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"formGroup"],[1,"container-fluid","mt-3","overflow-hidden","document-market-list"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","md:col-span-3"],[1,"box","p-3"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs",4,"ngIf"],[3,"listDocumentObjs","listDocumentObjsChange"],[3,"programForm","bookObjs",4,"ngIf"],[1,"col-span-12","md:col-span-9"],[1,"flex","justify-between"],[1,"text-md","font-medium","mr-auto","uppercase"],[3,"colorBackground"],["azt-track-service","dialog-confirm-EqayhO0oQs",1,"mr-3","btn","btn-secondary",2,"width","100%",3,"routerLink"],["azt-track-service","dialog-confirm-rXeH54A3ZE",1,"btn","btn-primary",2,"width","100%",3,"disabled","click"],["class","mr-1",4,"ngIf"],[3,"programForm","sessionObjs","educationalProgramObj"],[3,"isScrollToTop"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs"],[3,"programForm","bookObjs"],[1,"mr-1"]],template:function(a,i){if(1&a&&(t.j41(0,"teacher-layout",0),t.DNE(1,kn,1,1,"azt-loading-effect",1),t.DNE(2,jn,26,31,"ng-template",null,2,t.C5r),t.k0s()),2&a){const m=t.sdS(3);t.Y8G("headerBackToLink",i.backLink),t.R7$(1),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",m)}},dependencies:[k.Wk,o.bT,s.qT,s.cb,s.j4,N.K,Ot.I,ct.R,$e.$,x.Q,Zt,Xe,He,Cn,o.Jj,_.F2,_.wp,_.bj],styles:[".box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3;margin-top:5px}.description[_ngcontent-%COMP%]{min-height:100px;border-radius:5px;font-size:14px;width:100%}.btn-add-document[_ngcontent-%COMP%]{color:#2262ae}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.box-session[_ngcontent-%COMP%]{background:#fff;border-radius:5px;box-shadow:0 0 5px #d3d3d3}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.btn-clear-form-content[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray;margin-left:-25px}.btn-add-session[_ngcontent-%COMP%]:hover{background:#fafafa}.box-image[_ngcontent-%COMP%]{height:91px;width:69px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:65px;max-height:87px;margin:auto}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:14px}.textarea-description[_ngcontent-%COMP%]{max-height:93px;min-height:93px;border-radius:5px;font-size:14px}.box-book[_ngcontent-%COMP%]{background-color:#ededed;border:none;border-radius:5px;padding:.5rem .5rem .1rem;min-width:100px}.scroll[_ngcontent-%COMP%]{overflow:auto}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}.btn-danger[_ngcontent-%COMP%]{width:100%;padding:2px;margin-top:5px}.add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;justify-content:center;align-items:center;margin:auto;font-size:10px;text-align:center;border-radius:2px}.icon-file-document[_ngcontent-%COMP%]{min-width:16px;max-width:16px;height:21px}.icon-file-document[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:-2px}.box-image[_ngcontent-%COMP%]   .btn-edit-image[_ngcontent-%COMP%]{bottom:79px!important;height:30px!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]{background:#767c7fbd!important;width:90%!important;height:30px!important;bottom:79px!important;color:#fff!important;font-weight:500!important}.box-image[_ngcontent-%COMP%]:hover   .btn-edit-image[_ngcontent-%COMP%]:hover{background:#596367bd!important}.btn-edit-image[_ngcontent-%COMP%]{background:none!important;color:transparent!important}.btn-edit-image[_ngcontent-%COMP%]   .loading-upload[_ngcontent-%COMP%]{color:#000!important}"]})}return n})();var yt=l(95624),Tn=l(84828);function Mn(n,d){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Sn(n,d){if(1&n&&t.nrm(0,"app-educational-program-general-info-form",15),2&n){const e=t.XpG(2);t.Y8G("programForm",e.form)("educationalProgramObj",e.educationalProgramObj)("schoolAndLevelObjs",e.schoolAndLevelObjs)}}function En(n,d){1&n&&t.nrm(0,"azt-loading-ui",16)}const Dn=function(n){return[n]};function Pn(n,d){if(1&n){const e=t.RV6();t.j41(0,"div",4)(1,"form",5)(2,"div",6)(3,"h3",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",8),t.DNE(7,Sn,1,3,"app-educational-program-general-info-form",9),t.k0s(),t.j41(8,"div",10)(9,"div",11)(10,"button",12),t.nI1(11,"navigationLocalize"),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",13),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.saveEducationalProgram())}),t.DNE(15,En,1,0,"azt-loading-ui",14),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()()()()}if(2&n){const e=t.XpG();t.R7$(1),t.Y8G("formGroup",e.form),t.R7$(3),t.SpI(" ",t.bMT(5,8,"lang_program_create_new_curriculum")," "),t.R7$(3),t.Y8G("ngIf",e.schoolAndLevelObjs),t.R7$(3),t.Y8G("routerLink",t.eq3(16,Dn,t.bMT(11,10,e.backLink))),t.R7$(2),t.SpI(" ",t.bMT(13,12,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",e.form.invalid||e.isSaving),t.R7$(1),t.Y8G("ngIf",e.isSaving),t.R7$(1),t.SpI(" ",t.bMT(17,14,"lang_auto_luu")," ")}}let Rn=(()=>{class n extends A.H{saveEducationalProgram(){let e=this.form.getRawValue(),i=[];e.sessionFormArray.filter(C=>!C.willRemove).forEach(C=>{i.push({id:C.sessionId>0?C.sessionId:void 0,contents:C.descriptionObjs.filter(M=>!M.willRemove).map(M=>({id:M.id>0?M.id:void 0,content:M.content})),documents:C.documentObjs.filter(M=>!M.willRemove&&M.id<=0).map(M=>({name:M.name,link:M.link,type:M.type,groupType:""}))})});let m=this.generalDocumentObjs.filter(C=>!C.willRemove&&C.id<=0).map(C=>({name:C.name,link:C.link,type:C.type,groupType:""})),g=e.bookFormArray.filter(C=>!C.willRemove).map(C=>({id:C.id>0?C.id:void 0,name:C.name,description:C.description,iconLink:C.iconLink}));const B={name:e.generalFormGroup.educationalProgramName,fee:Number(e.generalFormGroup.tuition.replace(/\./g,"")??"0"),schoolLevelId:e.generalFormGroup.schoolLevelId,schoolSubjectId:e.generalFormGroup.schoolSubjectId,description:e.generalFormGroup.description,sessions:i,documents:m,books:g};this.isSaving=!0;let Q=(0,pt.z)([this.programService.apiProgramsPost(B)]);this.waitDestroy(Q.subscribe({next:C=>{this.successStatusObj("lang_core_them_chuong_trinh_thanh_cong",!0);const M=C[0];M?.id&&(this.commonService.myNavigation(`/business/edit-educational-program/${M?.id}`),this.isSaving=!1)},error:C=>{this.errorStatusObj(C.error.message,!0),this.isSaving=!1}}))}getData(){this.initStatusObj(),this.waitDestroy(this.callMultipleApi().subscribe({next:e=>{this.educationalProgramObj=e.programResponse,this.schoolAndLevelObjs=e.subjectAndLevelResponse.data,this.generalDocumentObjs=e.documentResponse?.list.map(a=>({id:a.id,name:a.name??"",link:a.link??"",type:a.type,documentType:this.commonService.getEnumTypeWithDefault(st.d,a.type,st.d.unknown),groupType:this.commonService.getEnumTypeWithDefault(It.k,a.groupType??"",It.k.unknown),willRemove:!1}))??[],this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}callMultipleApi(){const e=this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl());return(0,pt.z)([e]).pipe((0,St.T)(([a])=>({bookResponse:void 0,documentResponse:void 0,classroomResponse:void 0,programResponse:void 0,sessionResponse:void 0,subjectAndLevelResponse:a})),(0,Et.W)(a=>{throw a}))}constructor(e,a,i,m){super(),this.activeRoute=e,this.programService=a,this.commonListService=i,this.bookService=m,this.backLink="",this.generalDocumentObjs=[],this.isSaving=!1,this.bookObjs=[],this.form=new s.gE({generalFormGroup:new s.gE({educationalProgramName:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,Pt.M.noWhiteSpace]}),tuition:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,Dt.tuitionFeeValidator]}),schoolLevelId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1),s.k0.pattern(/^[1-9]\d*$/)]}),schoolSubjectId:new s.MJ(0,{nonNullable:!0,validators:[s.k0.min(1),s.k0.pattern(/^[1-9]\d*$/)]}),description:new s.MJ("",{nonNullable:!0})}),bookFormArray:new s.Yp([]),sessionFormArray:new s.Yp([]),totalSessionNotDeleted:new s.MJ(0,{nonNullable:!0,validators:[s.k0.required]})})}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/educational-program",this.getData()}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(k.nX),t.rXU(yt.sC),t.rXU(Tn.Nz),t.rXU(yt.lb))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["create-general-education-program"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y","mt-5"],[3,"formGroup"],[1,"mx-auto",2,"max-width","1000px"],[1,"font-medium","text-md","uppercase"],[1,"box","mt-5","p-3"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs",4,"ngIf"],[1,"mt-5"],[1,"text-right"],[1,"btn","btn-secondary","w-24","mr-2",3,"routerLink"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[3,"programForm","educationalProgramObj","schoolAndLevelObjs"],[1,"mr-1"]],template:function(a,i){if(1&a&&(t.j41(0,"teacher-layout",0),t.DNE(1,Mn,1,1,"azt-loading-effect",1),t.DNE(2,Pn,18,18,"ng-template",null,2,t.C5r),t.k0s()),2&a){const m=t.sdS(3);t.Y8G("headerBackToLink",i.backLink),t.R7$(1),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",m)}},dependencies:[k.Wk,o.bT,s.qT,s.cb,s.j4,N.K,ct.R,x.Q,Zt,_.F2,_.wp],encapsulation:2})}return n})();var wn=l(47160);function zn(n,d){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function An(n,d){if(1&n&&(t.j41(0,"div",18)(1,"span",19),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.EFF(4," : "),t.j41(5,"span",20),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_mon_hoc")),t.R7$(4),t.JRh(t.bMT(7,4,e.schoolSubjectKey))}}function $n(n,d){if(1&n&&(t.j41(0,"div",18)(1,"span",19),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",20),t.nrm(5,"azt-see-more-content",28),t.k0s()()),2&n){const e=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_mo_ta")," "),t.R7$(3),t.Y8G("content",e.educationalProgramObj.description)("maxLength",200)}}function Gn(n,d){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"azt-document-type-file",30),t.bIt("click",function(){const m=t.eBV(e).$implicit,g=t.XpG(4);return t.Njj(g.previewFile(m))}),t.k0s()()}if(2&n){const e=d.$implicit;let a;t.R7$(1),t.Y8G("type",e.documentType)("name",null!==(a=e.name)&&void 0!==a?a:"")("url",e.link)("showBorder",!1)("customClass","w-4 h-4")("textWidth","100%")}}function Nn(n,d){if(1&n&&(t.qex(0),t.DNE(1,Gn,2,6,"div",29),t.bVm()),2&n){const e=t.XpG(3);t.R7$(1),t.Y8G("ngForOf",e.listDocumentObjs)}}function Ln(n,d){1&n&&(t.j41(0,"div",31),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_document_market_no_data_found")," "))}function Bn(n,d){if(1&n&&(t.j41(0,"div",33)(1,"span",20),t.EFF(2),t.k0s()()),2&n){const e=d.$implicit;t.Y8G("hidden",d.index>1),t.R7$(2),t.SpI("- ",e.name,"")}}function Yn(n,d){1&n&&(t.j41(0,"div",34),t.EFF(1,"..."),t.k0s())}function Un(n,d){if(1&n&&(t.j41(0,"div",18)(1,"span",19),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Bn,3,2,"div",32),t.DNE(5,Yn,2,0,"div",26),t.k0s()),2&n){const e=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_core_sach")," "),t.R7$(2),t.Y8G("ngForOf",e.listBookObjs),t.R7$(1),t.Y8G("ngIf",e.listBookObjs.length>1)}}function Vn(n,d){1&n&&(t.j41(0,"div",35),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_chua_co_noi_dung")," "))}function Xn(n,d){if(1&n&&(t.j41(0,"div",39)(1,"span",40),t.EFF(2),t.k0s()()),2&n){const e=d.$implicit;t.R7$(2),t.SpI("- ",e.content,"")}}function Jn(n,d){if(1&n&&(t.j41(0,"div",36)(1,"h3",37),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Xn,3,1,"div",38),t.k0s()),2&n){const e=d.$implicit;t.Y8G("hidden",d.index>1),t.R7$(2),t.Lme("",t.bMT(3,4,"lang_core_buoi")," ",e.sort,""),t.R7$(2),t.Y8G("ngForOf",e.contents)}}function Wn(n,d){1&n&&(t.j41(0,"div",34),t.EFF(1,"..."),t.k0s())}const Yt=function(n){return[n]},ee=function(n){return{backTo:n}};function Kn(n,d){if(1&n&&(t.j41(0,"div",16)(1,"h3",17),t.EFF(2),t.k0s(),t.j41(3,"div",18)(4,"span",19),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.EFF(7," : "),t.j41(8,"span",20),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.DNE(11,An,8,6,"div",21),t.DNE(12,$n,6,5,"div",21),t.j41(13,"div",18)(14,"span",19),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.DNE(17,Nn,2,1,"ng-container",22),t.DNE(18,Ln,3,3,"ng-template",null,23,t.C5r),t.k0s(),t.DNE(20,Un,6,5,"div",21),t.j41(21,"div",18)(22,"span",19),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.DNE(25,Vn,3,3,"div",24),t.DNE(26,Jn,5,6,"div",25),t.DNE(27,Wn,2,0,"div",26),t.k0s(),t.j41(28,"div",18)(29,"a",27),t.nI1(30,"navigationLocalize"),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()()()),2&n){const e=t.sdS(19),a=t.XpG(2);t.R7$(1),t.FS9("matTooltip",a.educationalProgramObj.name),t.R7$(1),t.SpI(" ",a.educationalProgramObj.name," "),t.R7$(3),t.JRh(t.bMT(6,18,"lang_homework_create_homework_success_class")),t.R7$(4),t.Lme("",t.bMT(10,20,"lang_homework_create_homework_success_class")," ",a.schoolLevelValue,""),t.R7$(2),t.Y8G("ngIf",a.schoolSubjectKey),t.R7$(1),t.Y8G("ngIf",a.educationalProgramObj.description&&a.educationalProgramObj.description.length>0),t.R7$(3),t.SpI(" ",t.bMT(16,22,"lang_testbank_document_list_header_title")," "),t.R7$(2),t.Y8G("ngIf",a.listDocumentObjs.length>0)("ngIfElse",e),t.R7$(3),t.Y8G("ngIf",a.listBookObjs.length>0),t.R7$(3),t.SpI(" ",t.bMT(24,24,"lang_core_noi_dung_chuong_trinh")," "),t.R7$(2),t.Y8G("ngIf",0==a.listEducationProgramSessionObjs.length),t.R7$(1),t.Y8G("ngForOf",a.listEducationProgramSessionObjs),t.R7$(1),t.Y8G("ngIf",a.listEducationProgramSessionObjs.length>1),t.R7$(2),t.Y8G("routerLink",t.eq3(30,Yt,t.bMT(30,26,"/business/edit-educational-program/"+a.educationalProgramId)))("queryParams",t.eq3(32,ee,"/business/educational-program/"+a.educationalProgramId)),t.R7$(2),t.SpI(" ",t.bMT(32,28,"lang_testbank_folder_and_file_edit")," ")}}function Hn(n,d){if(1&n&&(t.j41(0,"div",41)(1,"a",42),t.nI1(2,"navigationLocalize"),t.j41(3,"div",43)(4,"div",44)(5,"div",45)(6,"div",46)(7,"h3",17),t.EFF(8),t.k0s()(),t.j41(9,"div",47)(10,"span",20),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",39)(14,"span",20),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()(),t.j41(17,"div",48),t.EFF(18),t.k0s()()()()()),2&n){const e=d.$implicit,a=t.XpG(2);t.R7$(1),t.Y8G("routerLink",t.eq3(16,Yt,t.bMT(2,10,"/admin/student/classroom-details/"+e.classroomId+"/3")))("queryParams",t.eq3(18,ee,"/business/educational-program/"+a.educationalProgramId)),t.R7$(6),t.FS9("matTooltip",e.classroomName),t.R7$(1),t.SpI(" ",e.classroomName," "),t.R7$(3),t.Lme("",t.bMT(12,12,"lang_student_classroom_list_detail_quantity"),": ",e.totalStudent,""),t.R7$(4),t.E5c("",t.bMT(16,14,"lang_core_so_buoi_da_hoc"),": ",e.totalLearnedSession,"/",e.totalSession,""),t.R7$(3),t.SpI("",e.learnedPercent,"%")}}const Qn=function(n){return{programId:n}};function Zn(n,d){if(1&n&&(t.j41(0,"div",4)(1,"div",5)(2,"div",6),t.DNE(3,Kn,33,34,"div",7),t.k0s(),t.j41(4,"div",8)(5,"div",9)(6,"h3",10),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",11),t.DNE(10,Hn,19,20,"div",12),t.k0s(),t.j41(11,"div",13)(12,"a",14),t.nI1(13,"navigationLocalize"),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()()(),t.nrm(16,"azt-scroll-to-top-bottom",15)),2&n){const e=t.XpG();t.R7$(3),t.Y8G("ngIf",e.educationalProgramObj),t.R7$(4),t.Lme("",t.bMT(8,8,"lang_core_cac_lop_hoc_chuong_trinh_nay")," (",e.listClassroomObjs.length,")"),t.R7$(3),t.Y8G("ngForOf",e.listClassroomObjs),t.R7$(2),t.Y8G("routerLink",t.eq3(14,Yt,t.bMT(13,10,"/admin/student/manage-classroom/0")))("queryParams",t.eq3(16,Qn,e.educationalProgramId)),t.R7$(2),t.SpI("+",t.bMT(15,12,"lang_auto_them_lop_cho_chuong_trinh_hoc"),""),t.R7$(2),t.Y8G("isScrollToTop",!0)}}let qn=(()=>{class n extends A.H{previewFile(e){const a={name:e.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(e.type),type:e.type,url:e.link};this.sAztDialogService.open(Rt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...a,index:0},showDownloadIcon:!1},restoreFocus:!1})}callMultipleApi(){const a=this.bookService.apiBooksListPost({page:1,size:-1,programId:this.educationalProgramId}),i=this.programService.apiProgramsIdDocumentsGet(this.educationalProgramId),m=this.programService.apiProgramsIdClassroomsListPost(this.educationalProgramId,{page:1,size:-1}),g=this.programService.apiProgramsIdGet(this.educationalProgramId),B=this.programService.apiProgramsIdSessionsGet(this.educationalProgramId),Q=this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl());return(0,pt.z)([a,i,m,g,B,Q]).pipe((0,St.T)(([C,M,ht,bt,vt,mt])=>({bookResponse:C,documentResponse:M,classroomResponse:ht,programResponse:bt,sessionResponse:vt,subjectAndLevelResponse:mt})),(0,Et.W)(C=>{throw C}))}getData(){this.initStatusObj(),this.waitDestroy(this.callMultipleApi().subscribe({next:e=>{this.educationalProgramObj=e.programResponse,this.listBookObjs=e.bookResponse.list.sort((i,m)=>i.id-m.id),this.listClassroomObjs=e.classroomResponse.list,this.listDocumentObjs=e.documentResponse.list.map(i=>({...i,documentType:this.commonService.getEnumTypeWithDefault(st.d,i.type,st.d.unknown)})),this.listEducationProgramSessionObjs=e.sessionResponse.list.sort((i,m)=>i.sort-m.sort);let a=e.subjectAndLevelResponse.data?.schoolLevelSubjectObjs.find(i=>i.schoolLevel?.id==this.educationalProgramObj?.schoolLevelId);this.schoolLevelValue=a?.schoolLevel?.value?.toString()??"",this.schoolSubjectKey=a?.schoolSubjectObjs.find(i=>i.id==this.educationalProgramObj?.schoolSubjectId)?.key??"",this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_chi_tiet_chuong_trinh_hoc",image:"lang_cms_test_image"}),super.ngOnInit(),this.educationalProgramId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getData()}constructor(e,a,i,m,g,B){super(),this.activeRoute=e,this.commonListService=a,this.sAztDialogService=i,this.bookService=m,this.programService=g,this.sAztFileTypeService=B,this.backLink="/business/educational-program",this.educationalProgramId=0,this.schoolLevelValue="",this.schoolSubjectKey="",this.listDocumentObjs=[],this.listClassroomObjs=[],this.listEducationProgramSessionObjs=[],this.listBookObjs=[]}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(k.nX),t.rXU(Nt.N),t.rXU(tt.i),t.rXU(Wt.l),t.rXU(Gt.s),t.rXU(Lt.k))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-educational-program-detail"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"container-fluid","mt-5","overflow-hidden","document-market-list"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","md:col-span-3"],["class","box-info p-3",4,"ngIf"],[1,"col-span-12","md:col-span-9"],[1,"box-content","p-3"],[1,"text-md","font-medium","truncate","mr-auto"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4 clickable",4,"ngFor","ngForOf"],[1,"flex","justify-start","mt-4"],[1,"btn-add-class",3,"routerLink","queryParams"],[3,"isScrollToTop"],[1,"box-info","p-3"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip"],[1,"mt-2"],[1,"text-sm","mb-1","items-center","font-medium"],[1,"text-sm"],["class","mt-2",4,"ngIf"],[4,"ngIf","ngIfElse"],["emptyListDocument",""],["class","text-sm flex justify-center m-2 mb-1","style","color: gray",4,"ngIf"],["class","items-center mb-2",3,"hidden",4,"ngFor","ngForOf"],["class","flex justify-start",4,"ngIf"],["azt-track-service","detail-educational-program-zQWRXarDBe",1,"btn","btn-primary",2,"width","100%","background","rgba(22, 155, 213, 1)","border-width","0px",3,"routerLink","queryParams"],[3,"content","maxLength"],[4,"ngFor","ngForOf"],[1,"clickable",3,"type","name","url","showBorder","customClass","textWidth","click"],[1,"text-sm","flex","justify-center","m-2",2,"color","gray"],["class","items-center",3,"hidden",4,"ngFor","ngForOf"],[1,"items-center",3,"hidden"],[1,"flex","justify-start"],[1,"text-sm","flex","justify-center","m-2","mb-1",2,"color","gray"],[1,"items-center","mb-2",3,"hidden"],[1,"text-sm","font-medium","mr-auto"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"flex","items-center"],[1,"text-sm",2,"white-space","pre-line"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4","clickable"],["azt-track-service","detail-educational-program-2h2h8T3CP",3,"routerLink","queryParams"],[1,"box-info-content","zoom-in"],[1,"flex","justify-between","items-center","py-2","px-4"],[1,"col-information"],[1,"grid","items-center"],[1,"flex","items-center","mt-1"],[1,"box-percent"]],template:function(a,i){if(1&a&&(t.j41(0,"teacher-layout",0),t.DNE(1,zn,1,1,"azt-loading-effect",1),t.DNE(2,Zn,17,18,"ng-template",null,2,t.C5r),t.k0s()),2&a){const m=t.sdS(3);t.Y8G("headerBackToLink",i.backLink),t.R7$(1),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",m)}},dependencies:[k.Wk,o.Sq,o.bT,jt.oV,N.K,wn.l,Ot.I,Bt.m,x.Q,_.F2,_.wp],styles:[".box-info-content[_ngcontent-%COMP%]{background:#f2f2f2;border-radius:5px}.box-info[_ngcontent-%COMP%]{background:#fff;border-radius:5px}.description[_ngcontent-%COMP%]{min-height:150px;border-radius:5px;font-size:14px;width:100%}.btn-add-class[_ngcontent-%COMP%]{color:#2262ae}.btn-add-class[_ngcontent-%COMP%]:hover{color:#2a74cf}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:#2262ae}.text-sm[_ngcontent-%COMP%]{font-size:13px!important}.box-content[_ngcontent-%COMP%]{background:#fff;border-radius:5px}.btn-add-session[_ngcontent-%COMP%]{color:#2262ae;border-radius:5px;padding:15px;background:#fff}.box-percent[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:#a4e6f4;display:flex;align-items:center;justify-content:center;font-weight:500;border:1px solid #00a8cc}.btn-primary[_ngcontent-%COMP%]:hover{background:#5dc0ea!important}.col-information[_ngcontent-%COMP%]{width:75%}"]})}return n})();var Ut=l(75421);function to(n,d){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function eo(n,d){1&n&&t.nrm(0,"azt-loading-ui",26)}const ne=function(n){return[n]},no=function(n){return{"py-1 px-3 rounded-full bg-success text-white font-medium":n}},oo=function(){return{"mr-2 text-danger":!0}};function ao(n,d){if(1&n){const e=t.RV6();t.j41(0,"div",14)(1,"div",15)(2,"a",16),t.nI1(3,"navigationLocalize"),t.j41(4,"div",17)(5,"h3",18),t.EFF(6),t.k0s()(),t.j41(7,"div",19)(8,"span",20),t.EFF(9),t.nI1(10,"mytranslate"),t.j41(11,"span",21),t.EFF(12),t.k0s()()(),t.j41(13,"div",17)(14,"span",20),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",17)(18,"span",20),t.EFF(19),t.nI1(20,"mytranslate"),t.nI1(21,"formatMoney"),t.k0s()()(),t.j41(22,"div",22)(23,"button",23),t.bIt("click",function(){const m=t.eBV(e).$implicit,g=t.XpG(3);return t.Njj(g.showDeleteDialog(m))}),t.nI1(24,"mytranslate"),t.DNE(25,eo,1,0,"azt-loading-ui",24),t.nrm(26,"lucide-icon",25),t.k0s()()()()}if(2&n){const e=d.$implicit,a=t.XpG(3);t.R7$(2),t.Y8G("routerLink",t.eq3(25,ne,t.bMT(3,13,"/business/educational-program/"+e.id))),t.R7$(3),t.FS9("matTooltip",e.name),t.R7$(1),t.SpI(" ",e.name," "),t.R7$(3),t.SpI(" ",t.bMT(10,15,"lang_core_so_lop_hoc"),": "),t.R7$(2),t.Y8G("ngClass",t.eq3(27,no,e.totalClassroom)),t.R7$(1),t.JRh(e.totalClassroom),t.R7$(3),t.Lme("",t.bMT(16,17,"lang_core_buoi_tiet_hoc"),": ",e.totalSession,""),t.R7$(4),t.Lme("",t.bMT(20,19,"lang_core_hoc_phi"),": ",t.bMT(21,21,e.fee)," \u0111"),t.R7$(4),t.FS9("matTooltip",t.bMT(24,23,"lang_auto_xoa")),t.R7$(2),t.Y8G("ngIf",a.isDeletingId==e.id),t.R7$(1),t.Y8G("ngClass",t.lJ4(29,oo))}}function io(n,d){if(1&n&&(t.j41(0,"div",10)(1,"h3",11),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",12),t.DNE(5,ao,27,30,"div",13),t.k0s()()),2&n){const e=d.$implicit;t.Y8G("hidden",0==e.programObjs.length),t.R7$(2),t.Lme("",t.bMT(3,4,"lang_homework_create_homework_success_class")," ",e.schoolLevelObj.value,""),t.R7$(3),t.Y8G("ngForOf",e.programObjs)}}const so=function(){return{"mr-2":!0}};function ro(n,d){if(1&n&&(t.j41(0,"div",4)(1,"h3",5),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"a",6),t.nI1(5,"navigationLocalize"),t.nrm(6,"lucide-icon",7),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.DNE(9,io,6,6,"div",8),t.nrm(10,"azt-scroll-to-top-bottom",9)),2&n){const e=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,6,"lang_student_educational_program")," "),t.R7$(2),t.Y8G("routerLink",t.eq3(12,ne,t.bMT(5,8,"/business/create-general-educational-program"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(14,so)),t.R7$(1),t.SpI(" ",t.bMT(8,10,"lang_testbank_create_new_matrix")," "),t.R7$(2),t.Y8G("ngForOf",e.groupEducationalProgramDtoObjs),t.R7$(1),t.Y8G("isScrollToTop",!0)}}let lo=(()=>{class n extends A.H{showDeleteDialog(e){var a=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+e.name+" </div> ?";this.sAztDialogService.open(Ut.u,{data:{content:a},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(i=>{i&&(this.isDeletingId=e.id,this.waitDestroy(this.programService.apiProgramsIdDelete(e.id).subscribe({next:m=>{this.groupEducationalProgramDtoObjs.forEach(g=>g.programObjs=g.programObjs.filter(B=>B.id!=e.id)),this.isDeletingId=0,this.successStatusObj("lang_core_xoa_chuong_trinh_hoc_thanh_cong",!0)},error:m=>{this.isDeletingId=0,this.errorStatusObj(m.error.message,!0)}})))})}getSchoolLevel(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(e=>{e.success?(e.data?.schoolLevelSubjectObjs.filter(a=>a.schoolLevel).forEach(a=>{a.schoolLevel&&this.groupEducationalProgramDtoObjs.push({schoolLevelObj:a.schoolLevel,programObjs:[]})}),this.getListProgramObjs()):this.errorStatusObj(e.message,!0)}))}getListProgramObjs(){this.waitDestroy(this.programService.apiProgramsListPost({page:1,size:-1}).subscribe({next:e=>{this.groupEducationalProgramDtoObjs.forEach(a=>{a.programObjs=[...a.programObjs,...e.list.filter(i=>a.schoolLevelObj.id==i.schoolLevelId)]}),this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_student_educational_program",description:"lang_student_educational_program",image:"lang_cms_test_image"}),this.waitDestroy((0,pt.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let e=this.commonService.getMyQueryParam("backto");this.backLink=e||"/business/dashboard"})),super.ngOnInit(),this.getSchoolLevel()}constructor(e,a,i,m){super(),this.activeRoute=e,this.programService=a,this.commonListService=i,this.sAztDialogService=m,this.backLink="",this.groupEducationalProgramDtoObjs=[],this.isDeletingId=0}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(k.nX),t.rXU(Gt.s),t.rXU(Nt.N),t.rXU(tt.i))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-azt-business-educational-program"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"flex","justify-between","mt-5",2,"flex-wrap","wrap"],[1,"text-md-title","font-medium","mr-auto","mt-1"],["azt-track-service","business-educational-program-H1qyTyPt5",1,"btn","btn-primary","px-5","py-2","mt-1",3,"routerLink"],["name","plus","size","16",3,"ngClass"],["class","mt-5",3,"hidden",4,"ngFor","ngForOf"],[3,"isScrollToTop"],[1,"mt-5",3,"hidden"],[1,"text-md-class","font-medium","truncate","mr-auto","mb-3"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-4 xl:col-span-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","xl:col-span-3"],[1,"flex","info-infrastructure"],["azt-track-service","business-educational-program-ETIELn-OoJ",1,"col-information","clickable",3,"routerLink"],[1,"flex","items-center"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip"],[1,"flex","items-center","mt-1"],[1,"text-sm"],[3,"ngClass"],[1,"flex","justify-end","items-center"],["azt-track-service","business-educational-program-Kk4G8pkpL",1,"flex","items-center","justify-center",3,"matTooltip","click"],["class","mr-1",4,"ngIf"],["name","trash-2","size","16",3,"ngClass"],[1,"mr-1"]],template:function(a,i){if(1&a&&(t.j41(0,"teacher-layout",0),t.DNE(1,to,1,1,"azt-loading-effect",1),t.DNE(2,ro,11,15,"ng-template",null,2,t.C5r),t.k0s()),2&a){const m=t.sdS(3);t.Y8G("headerBackToLink",i.backLink),t.R7$(1),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",m)}},dependencies:[k.Wk,o.YU,o.Sq,o.bT,jt.oV,N.K,Ot.I,ct.R,x.Q,f.WGl,_.F2,_.wp,_.t0],styles:[".btn-activity[_ngcontent-%COMP%]{padding:4px 20px;background:#228b22;color:#fff;border-radius:10px;font-weight:500}.btn-un-activity[_ngcontent-%COMP%]{padding:4px 20px;background:#8b0000;color:#fff;border-radius:10px;font-weight:500}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{padding:2px 5px;width:calc(100% - 20px)}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.text-add-cs[_ngcontent-%COMP%]{font-size:14px;color:#a9a9a9;font-weight:500;padding-top:2px;padding-left:5px}.info-infrastructure[_ngcontent-%COMP%]{background:#fff;padding:10px;border-radius:6px;height:100%;box-shadow:0 0 9px #00000024}.btn-delete[_ngcontent-%COMP%]{padding:2px;border-radius:5px}.btn-delete[_ngcontent-%COMP%]:hover{background:#f0f0f0;transform:scale(1.1)}.text-md-title[_ngcontent-%COMP%]{font-size:20px}.text-md-class[_ngcontent-%COMP%]{font-size:16px}.truncate[_ngcontent-%COMP%]{width:100%!important}"]})}return n})();var oe=l(74151),wt=l(67181);function co(n,d){1&n&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_ten_phong_hoc")," "))}function mo(n,d){1&n&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_so_cho_ngoi")," "))}function uo(n,d){1&n&&(t.j41(0,"div",20),t.nrm(1,"azt-loading-ui",21),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_dang_luu_doing")," "))}function _o(n,d){if(1&n){const e=t.RV6();t.j41(0,"button",22),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.saveRoom(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("disabled",e.statusObj.loading||e.form.invalid),t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_core_luu_va_dong")," ")}}let po=(()=>{class n extends Z._{closeDialog(){this.dialogRef.close(this.isLoadData)}saveRoom(e){var a={name:this.form.getRawValue().roomName,numberSeat:this.form.getRawValue().numberSeat};this.initStatusObj(),this.waitDestroy(this.data.room?this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsRoomIdPut(this.data.infrastructureId,this.data.room.id,a).subscribe({next:i=>{this.dialogRef.close(!0),this.successStatusObj("lang_core_sua_phong_hoc_thanh_cong",!0)},error:i=>{this.errorStatusObj(i.error.message,!0)}}):this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsPost(this.data.infrastructureId,a).subscribe({next:i=>{e?this.dialogRef.close(!0):(this.isLoadData=!0,this.form.reset(),this.stopStatusObj()),this.successStatusObj("lang_core_them_phong_hoc_thanh_cong",!0)},error:i=>{this.errorStatusObj(i.error.message,!0)}}))}ngOnInit(){}constructor(e,a,i){super(i,a),this.infrastructureService=e,this.dialogRef=a,this.data=i,this.isLoadData=!1,this.form=new s.gE({roomName:new s.MJ(i.room?.name??"",{nonNullable:!0,validators:[s.k0.required]}),numberSeat:new s.MJ(i.room?.numberSeat,{nonNullable:!0,validators:[s.k0.required,s.k0.pattern(/^[0-9]+$|^[1-9][0-9]*$/)]})})}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(wt.B),t.rXU(r.CP,8),t.rXU(r.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-create-business-room-dialog"]],features:[t.Vt3],decls:33,vars:27,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[2,"padding","1px"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","roomName",1,"form-label"],["type","text","id","roomName","formControlName","roomName",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","numberSeat",1,"form-label"],["type","text","id","numberSeat","formControlName","numberSeat",1,"form-control",3,"placeholder"],["class","box-save-doing",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-primary",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8","class","btn btn-info ml-2",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"box-save-doing"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-info","ml-2",3,"disabled","click"]],template:function(a,i){1&a&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.nrm(14,"input",9),t.nI1(15,"mytranslate"),t.DNE(16,co,3,3,"div",10),t.k0s(),t.j41(17,"div",11)(18,"label",12),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.nrm(21,"input",13),t.nI1(22,"mytranslate"),t.DNE(23,mo,3,3,"div",10),t.k0s(),t.DNE(24,uo,4,3,"div",14),t.k0s()()()(),t.j41(25,"div",15)(26,"button",16),t.bIt("click",function(){return i.closeDialog()}),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"button",17),t.bIt("click",function(){return i.saveRoom(!1)}),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s(),t.DNE(32,_o,3,4,"button",18),t.k0s()()()),2&a&&(t.R7$(1),t.Y8G("formGroup",i.form),t.R7$(4),t.SpI(" ",t.bMT(6,13,i.data.room?"lang_auth_sua_phong_hoc":"lang_core_tao_phong_hoc")," "),t.R7$(7),t.SpI(" ",t.bMT(13,15,"lang_core_ten_phong")," "),t.R7$(2),t.FS9("placeholder",t.bMT(15,17,"lang_core_nhap_ten_phong")),t.R7$(2),t.Y8G("ngIf",i.form.controls.roomName.dirty&&i.form.controls.roomName.errors),t.R7$(3),t.SpI(" ",t.bMT(20,19,"lang_core_so_cho_ngoi")," "),t.R7$(2),t.FS9("placeholder",t.bMT(22,21,"lang_auto_nhap_so_cho_ngoi")),t.R7$(2),t.Y8G("ngIf",i.form.controls.numberSeat.dirty&&i.form.controls.numberSeat.errors),t.R7$(1),t.Y8G("ngIf",i.statusObj.loading),t.R7$(3),t.JRh(t.bMT(28,23,"lang_button_close")),t.R7$(2),t.Y8G("disabled",i.statusObj.loading||i.form.invalid),t.R7$(1),t.SpI(" ",t.bMT(31,25,i.data.room?"lang_student_classroom_list_update":"lang_button_save")," "),t.R7$(2),t.Y8G("ngIf",!i.data.room))},dependencies:[o.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,Ft.t,_t.U,ct.R,_.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box-save-doing[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;left:0;top:0;display:flex;justify-content:center;align-items:center;background:#ffffffad}"]})}return n})();var Vt=l(45785),go=l(64198),fo=l(9241);function ho(n,d){if(1&n&&(t.nrm(0,"iframe",1),t.nI1(1,"safe")),2&n){const e=t.XpG();t.Y8G("src",t.bMT(1,2,e.embedGoogleMapUrl),t.f$h)("width",e.width)}}let ae=(()=>{class n extends A.H{checkValidLink(){this.embedGoogleMapUrl=(0,go.lR)(this.htmlEmbedCode)??""}onLoad(){setTimeout(()=>{this.loadedEvent.emit(!0)},0)}ngOnChanges(){this.checkValidLink()}ngOnInit(){super.ngOnInit(),this.checkValidLink()}constructor(){super(),this.width="600px",this.height="400px",this.loadedEvent=new t.bkB,this.embedGoogleMapUrl=""}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["azt-google-map-embed"]],inputs:{htmlEmbedCode:"htmlEmbedCode",width:"width",height:"height"},outputs:{loadedEvent:"loadedEvent"},features:[t.Vt3,t.OA$],decls:1,vars:1,consts:[["style","border:0;","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade","style","width: -webkit-fill-available; height: auto;min-height:300px",3,"src","width",4,"ngIf"],["allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",2,"width","-webkit-fill-available","height","auto","min-height","300px",3,"src","width"]],template:function(a,i){1&a&&t.DNE(0,ho,2,4,"iframe",0),2&a&&t.Y8G("ngIf",i.embedGoogleMapUrl)},dependencies:[o.bT,fo.w,_.JI],encapsulation:2})}return n})();const bo=["drawer"];function vo(n,d){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function xo(n,d){1&n&&t.nrm(0,"azt-loading-ui",37)}function Co(n,d){if(1&n&&(t.j41(0,"div",38),t.nrm(1,"azt-google-map-embed",39),t.k0s()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("htmlEmbedCode",e.obj.mapAddress)}}function ko(n,d){if(1&n){const e=t.RV6();t.j41(0,"button",40),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.sAztMatDrawerService.openDrawer())}),t.nI1(1,"mytranslate"),t.nrm(2,"lucide-icon",41),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_mo_menu"))}function Io(n,d){if(1&n){const e=t.RV6();t.j41(0,"button",42),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.sAztMatDrawerService.closeDrawer())}),t.nI1(1,"mytranslate"),t.nrm(2,"lucide-icon",43),t.k0s()}2&n&&t.FS9("matTooltip",t.bMT(1,1,"lang_auto_dong_menu"))}function yo(n,d){1&n&&(t.j41(0,"span",44),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_auto_them_phong_hoc")))}function Oo(n,d){1&n&&t.nrm(0,"azt-loading-ui",37)}const Fo=function(){return{"text-primary":!0}},jo=function(){return{"text-danger":!0}};function To(n,d){if(1&n){const e=t.RV6();t.j41(0,"div",47)(1,"div",48)(2,"div",49)(3,"h3",50),t.EFF(4),t.k0s(),t.j41(5,"div"),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",51)(9,"button",52),t.bIt("click",function(){const m=t.eBV(e).$implicit,g=t.XpG(3);return t.Njj(g.addOrUpdateRoom(m))}),t.nI1(10,"mytranslate"),t.nrm(11,"lucide-icon",53),t.k0s(),t.j41(12,"button",54),t.bIt("click",function(){const m=t.eBV(e).$implicit,g=t.XpG(3);return t.Njj(g.showDeleteRoomDialog(m))}),t.nI1(13,"mytranslate"),t.DNE(14,Oo,1,0,"azt-loading-ui",16),t.nrm(15,"lucide-icon",55),t.k0s()()()()}if(2&n){const e=d.$implicit,a=t.XpG(3);t.R7$(3),t.FS9("matTooltip",e.name),t.R7$(1),t.SpI(" ",e.name," "),t.R7$(2),t.Lme("",t.bMT(7,9,"lang_core_so_cho_ngoi"),": ",e.numberSeat,""),t.R7$(3),t.FS9("matTooltip",t.bMT(10,11,"lang_button_edit")),t.R7$(2),t.Y8G("ngClass",t.lJ4(15,Fo)),t.R7$(1),t.FS9("matTooltip",t.bMT(13,13,"lang_student_classroom_list_delete")),t.R7$(2),t.Y8G("ngIf",a.isDeletingId==e.id),t.R7$(1),t.Y8G("ngClass",t.lJ4(16,jo))}}function Mo(n,d){if(1&n&&(t.j41(0,"div")(1,"div",45),t.DNE(2,To,16,17,"div",46),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(2),t.Y8G("ngForOf",e.roomObjs)}}function So(n,d){1&n&&(t.j41(0,"div",56),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_danh_sach_phong_hoc_trong")," "))}const Eo=function(n,d){return{"w-85":n,"w-25":d}},Do=function(n){return{"azt-mobile-draw-left":n}},Po=function(n){return{"ml-25":n}},Ro=function(n){return{"ml-5":n}},wo=function(){return{height:"80%"}};function zo(n,d){if(1&n){const e=t.RV6();t.j41(0,"mat-drawer-container",4)(1,"mat-drawer",5,6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"h3",11),t.EFF(8),t.k0s()(),t.j41(9,"div",12)(10,"span",13),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",12)(14,"span",13),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"div",12)(18,"span",13),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()(),t.j41(21,"div")(22,"div",14)(23,"div",15),t.DNE(24,xo,1,0,"azt-loading-ui",16),t.EFF(25),t.nI1(26,"mytranslate"),t.nrm(27,"lucide-icon",17),t.k0s()(),t.j41(28,"mat-menu",null,18)(30,"div",19)(31,"ul",20)(32,"li")(33,"button",21),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.changeActivity())}),t.EFF(34),t.nI1(35,"mytranslate"),t.k0s()()()()()(),t.DNE(36,Co,2,1,"div",22),t.k0s()()()(),t.j41(37,"mat-drawer-content",23)(38,"div",24)(39,"div",25),t.DNE(40,ko,3,3,"button",26),t.DNE(41,Io,3,3,"button",27),t.j41(42,"div",28)(43,"button",29),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.addOrUpdateRoom())}),t.nrm(44,"lucide-icon",30),t.DNE(45,yo,3,3,"span",31),t.k0s()()(),t.j41(46,"div",32)(47,"h2",33),t.EFF(48),t.nI1(49,"mytranslate"),t.k0s(),t.DNE(50,Mo,3,1,"div",34),t.DNE(51,So,3,3,"ng-template",null,35,t.C5r),t.k0s()()()(),t.nrm(53,"azt-scroll-to-top-bottom",36)}if(2&n){const e=t.sdS(29),a=t.sdS(52),i=t.XpG();t.Y8G("hasBackdrop",i.sAztMatDrawerService.hasBackdrop),t.R7$(1),t.FS9("opened",i.sAztMatDrawerService.isOpenSideNav?"true":"false"),t.Y8G("ngClass",t.l_i(41,Eo,i.isMobileDevice,!i.isMobileDevice))("mode",i.sAztMatDrawerService.mode),t.R7$(2),t.Y8G("ngClass",t.eq3(44,Do,i.isMobileDevice)),t.R7$(4),t.FS9("matTooltip",i.obj.name),t.R7$(1),t.SpI(" ",i.obj.name," "),t.R7$(3),t.Lme("",t.bMT(12,29,"lang_test_market_address"),": ",i.obj.address,""),t.R7$(4),t.Lme("",t.bMT(16,31,"lang_auto_dien_thoai"),": ",i.obj.phone,""),t.R7$(4),t.Lme("",t.bMT(20,33,"lang_auto_tong_so_phong_hoc"),": ",i.obj.totalRoom,""),t.R7$(3),t.Y8G("matMenuTriggerFor",e),t.R7$(1),t.Y8G("ngClass",1==i.obj.status?"btn-activity":"btn-not-activity"),t.R7$(1),t.Y8G("ngIf",i.isChangingActivityId==i.obj.id),t.R7$(1),t.SpI(" ",t.bMT(26,35,0==i.obj.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(9),t.SpI(" ",t.bMT(35,37,1==i.obj.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(2),t.Y8G("ngIf",i.obj.mapAddress),t.R7$(1),t.Y8G("ngClass",t.eq3(46,Po,!i.isMobileDevice&&i.sAztMatDrawerService.isOpenSideNav)),t.R7$(1),t.Y8G("ngClass",t.eq3(48,Ro,!i.isMobileDevice&&i.sAztMatDrawerService.isOpenSideNav)),t.R7$(2),t.Y8G("ngIf",!i.sAztMatDrawerService.isOpenSideNav||i.isMobileDevice),t.R7$(1),t.Y8G("ngIf",i.sAztMatDrawerService.isOpenSideNav&&!i.isMobileDevice),t.R7$(4),t.Y8G("ngIf",!i.isMobileDevice||i.isMobileWebView),t.R7$(1),t.Y8G("ngStyle",t.lJ4(50,wo)),t.R7$(2),t.SpI(" ",t.bMT(49,39,"lang_core_danh_sach_phong_hoc")," "),t.R7$(2),t.Y8G("ngIf",i.roomObjs.length>0)("ngIfElse",a),t.R7$(3),t.Y8G("isScrollToTop",!0)}}let Ao=(()=>{class n extends A.H{set drawer(e){this.sAztMatDrawerService.resizeDrawerHeight(!0,e)}addOrUpdateRoom(e){this.sAztDialogService.open(po,{data:{infrastructureId:this.infrastructureId,room:e},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(i=>{i&&this.getRooms()})}showDeleteRoomDialog(e){var a=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+e.name+" </div>";this.sAztDialogService.open(Ut.u,{data:{content:a},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(i=>{i&&(this.isDeletingId=e.id,this.waitDestroy(this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsRoomIdDelete(this.obj.id,e.id).subscribe({next:m=>{this.roomObjs=this.roomObjs.filter(g=>e.id!=g.id),this.successStatusObj("lang_core_xoa_phong_hoc_thanh_cong",!0)},error:m=>{this.errorStatusObj(m.error.message,!0),this.isDeletingId=0}})))})}changeActivity(){if(!this.obj)return;this.isChangingActivityId=this.obj.id;let e=0==this.obj.status?this.infrastructureService.apiInfrastructuresIdActivatePut(this.obj.id):this.infrastructureService.apiInfrastructuresIdDeactivatePut(this.obj.id);this.waitDestroy(e.subscribe({next:a=>{a&&this.obj?this.obj.status=0==this.obj.status?1:0:this.errorStatusObj("lang_core_co_loi_khi_doi_trang_thai",!0),this.isChangingActivityId=0},error:a=>{this.errorStatusObj(a.error.message,!0),this.isChangingActivityId=0}}))}initData(){this.initStatusObj(),this.waitDestroy(this.infrastructureService.apiInfrastructuresIdGet(this.infrastructureId).subscribe({next:e=>{this.obj=e,this.getRooms()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}getRooms(){this.initStatusObj(),this.waitDestroy(this.infrastructureService.apiInfrastructuresInfrastructureIdRoomsGet(this.infrastructureId,-1,100).subscribe({next:e=>{this.roomObjs=e.list,this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_chi_tiet_co_so",image:"lang_cms_test_image"}),super.ngOnInit(),this.infrastructureId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.initData()}constructor(e,a,i,m){super(),this.activeRoute=e,this.infrastructureService=a,this.sAztDialogService=i,this.sAztMatDrawerService=m,this.backToLink="/business/infrastructure",this.infrastructureId=0,this.roomObjs=[],this.isChangingActivityId=0,this.isDeletingId=0}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(k.nX),t.rXU(wt.B),t.rXU(tt.i),t.rXU(oe.n))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-list-classroom-in-infrastructure"]],viewQuery:function(a,i){if(1&a&&t.GBs(bo,5),2&a){let m;t.mGM(m=t.lsd())&&(i.drawer=m.first)}},features:[t.Jv_([oe.n]),t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"azt-drawer-container","mt-5",3,"hasBackdrop"],[3,"ngClass","mode","opened"],["drawer",""],[1,"azt-draw-left",2,"overflow-x","hidden",3,"ngClass"],[1,"box"],[1,"p-3"],[1,"flex","items-center"],[1,"text-md","font-medium","truncate","mr-auto","mt-2",3,"matTooltip"],[1,"flex","items-center","mt-1"],[1,"text-sm"],[1,"flex","items-center","mt-2",3,"matMenuTriggerFor"],[1,"text-sm","clickable","btn","btn-primary",3,"ngClass"],["class","mr-1",4,"ngIf"],["name","chevron-down","size","16"],["menuSelectActivity","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full","clickable",3,"click"],["class","pt-3",4,"ngIf"],[3,"ngClass"],[1,"azt-drawer-content",3,"ngClass"],[1,"flex","box","sm:h-auto","rounded-md","border","border-slate-200/60","dark:border-darkmode-400","p-2","text-slate-500","mb-2"],["azt-track-service","detail-infrastructure-dBQFBBora","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],["azt-track-service","detail-infrastructure-qa6EG4yZyv","class","btn btn-sm mr-2",3,"matTooltip","click",4,"ngIf"],[1,"relative","flex","ml-auto"],["azt-track-service","detail-infrastructure-LAD7A9vcci",1,"btn","btn-primary","pl-2","pr-2","py-1",3,"click"],["name","plus","size","16"],["class","text-sm ml-2",4,"ngIf"],[1,"box","relative","p-3",3,"ngStyle"],[1,"font-medium","truncate","mr-auto"],[4,"ngIf","ngIfElse"],["emptyList",""],[3,"isScrollToTop"],[1,"mr-1"],[1,"pt-3"],[3,"htmlEmbedCode"],["azt-track-service","detail-infrastructure-dBQFBBora",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["name","panel-left-open","size","16"],["azt-track-service","detail-infrastructure-qa6EG4yZyv",1,"btn","btn-sm","mr-2",3,"matTooltip","click"],["name","panel-left-close","size","16"],[1,"text-sm","ml-2"],[1,"grid","grid-cols-12","gap-3"],["class","col-span-12 sm:col-span-6 md:col-span-4 2xl:col-span-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","2xl:col-span-3"],[1,"flex","justify-between","info-class-room"],[1,"col-information"],[1,"text-md","font-medium","truncate","mr-auto",3,"matTooltip"],[1,"flex"],["azt-track-service","list-classroom-in-infrastructure--l-N2YP70a",1,"btn-flex","items-center","justify-center","mr-2",3,"matTooltip","click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","list-classroom-in-infrastructure-QSKDgXBGhe",1,"flex","items-center","justify-center",3,"matTooltip","click"],["name","trash-2","size","16",3,"ngClass"],[1,"flex","justify-center"]],template:function(a,i){if(1&a&&(t.j41(0,"teacher-layout",0),t.DNE(1,vo,1,1,"azt-loading-effect",1),t.DNE(2,zo,54,51,"ng-template",null,2,t.C5r),t.k0s()),2&a){const m=t.sdS(3);t.Y8G("headerBackToLink",i.backToLink),t.R7$(1),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",m)}},dependencies:[o.YU,o.Sq,o.bT,o.B3,y.kk,y.Cp,Vt.qe,Vt.$C,Vt.$l,jt.oV,N.K,Ot.I,ct.R,ae,x.Q,f.WGl,_.wp],styles:[".btn-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#228b22;color:#fff;border-radius:10px;font-weight:500}.btn-activity[_ngcontent-%COMP%]:hover{background:#37ca37!important}.btn-not-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#98110c;color:#fff;border-radius:10px;font-weight:500}.btn-not-activity[_ngcontent-%COMP%]:hover{background:#b61a15!important}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{padding:2px 5px;width:calc(100% - 50px)}.info-class-room[_ngcontent-%COMP%]{background:#f0f8ff;padding:10px;border-radius:6px}.setting_options[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:.375rem;padding:.5rem}.azt-draw-left-container[_ngcontent-%COMP%] > .mat-drawer-inner-container[_ngcontent-%COMP%]{overflow:auto!important}.hide[_ngcontent-%COMP%]{display:none!important}.hover[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{width:20px!important;height:20px!important;stroke-width:1.8px!important}*[_ngcontent-%COMP%]:focus{outline:none}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.group-content[_ngcontent-%COMP%]{padding:0!important}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:2px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}  .dark .class-active{background:#354567}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]})}return n})();function $o(n,d){1&n&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_ten_co_so")," "))}function Go(n,d){1&n&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_nhap_dia_chi")," "))}function No(n,d){1&n&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function Lo(n,d){1&n&&(t.j41(0,"div",25),t.nrm(1,"azt-loading-ui",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&n&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_auto_dang_luu_doing")," "))}function Bo(n,d){if(1&n){const e=t.RV6();t.j41(0,"button",27),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.saveData(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("disabled",e.statusObj.loading||e.form.controls.infrastructureName.errors||e.form.controls.phoneNumber.errors||e.form.controls.address.errors),t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_core_luu_va_dong")," ")}}let Yo=(()=>{class n extends Z._{closeDialog(){this.dialogRef.close(this.isLoadData)}saveData(e){var a={name:this.form.getRawValue().infrastructureName,address:this.form.getRawValue().address,mapAddress:this.form.getRawValue().mapAddress,phone:this.form.getRawValue().phoneNumber};this.initStatusObj(),this.waitDestroy(this.data?this.infrastructureService.apiInfrastructuresIdPut(this.data.id,a).subscribe(i=>{i.success?(this.successStatusObj("lang_core_tsua_co_so_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_core_sua_co_so_khong_thanh_cong",!0)}):this.infrastructureService.apiInfrastructuresPost(a).subscribe({next:i=>{e?this.dialogRef.close(!0):(this.isLoadData=!0,this.form.reset(),this.stopStatusObj()),this.successStatusObj("lang_core_them_co_so_thanh_cong",!0)},error:i=>{this.errorStatusObj(i.error.message,!0)}}))}ngOnInit(){}constructor(e,a,i){super(i,a),this.infrastructureService=e,this.dialogRef=a,this.data=i,this.isLoadData=!1,this.form=new s.gE({infrastructureName:new s.MJ(i?.name??"",{nonNullable:!0,validators:[s.k0.required]}),address:new s.MJ(i?.address??"",{nonNullable:!0,validators:[s.k0.required]}),phoneNumber:new s.MJ(i?.phone??"",{nonNullable:!0,validators:[s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]}),mapAddress:new s.MJ(i?.mapAddress??"",{nonNullable:!0})})}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(wt.B),t.rXU(r.CP,8),t.rXU(r.Vh))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-create-or-info-infrastructure"]],features:[t.Vt3],decls:56,vars:51,consts:[[1,"box","infrastructure-dialog"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","list-class"],["for","infrastructureName",1,"form-label"],["type","text","id","infrastructureName","formControlName","infrastructureName",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address",1,"form-control",3,"placeholder"],["for","phoneNumber",1,"form-label"],["type","text","id","phoneNumber","formControlName","phoneNumber",1,"form-control",3,"placeholder"],["for","map",1,"form-label"],[1,"text-sm"],["azt-track-service","create-or-update-info-infrastructure-dialog-0UswBviDw","href","https://www.google.com/maps","target","_blank",2,"color","blue","text-decoration","underline"],["type","text","formControlName","mapAddress",1,"form-control",3,"placeholder"],[3,"htmlEmbedCode"],["class","box-save-doing",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-primary",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8","class","btn btn-info ml-2",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[1,"box-save-doing"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","btn-info","ml-2",3,"disabled","click"]],template:function(a,i){1&a&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"azt-mat-dialog-content")(8,"div",5)(9,"div")(10,"label",6),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.nrm(13,"input",7),t.nI1(14,"mytranslate"),t.DNE(15,$o,3,3,"div",8),t.k0s(),t.j41(16,"div",9)(17,"label",10),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.nrm(20,"input",11),t.nI1(21,"mytranslate"),t.DNE(22,Go,3,3,"div",8),t.k0s(),t.j41(23,"div",9)(24,"label",12),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.nrm(27,"input",13),t.nI1(28,"mytranslate"),t.DNE(29,No,3,3,"div",8),t.k0s(),t.j41(30,"div",9)(31,"label",14),t.EFF(32),t.nI1(33,"mytranslate"),t.k0s(),t.j41(34,"div",15),t.EFF(35),t.nI1(36,"mytranslate"),t.j41(37,"a",16),t.EFF(38,"Google Maps"),t.k0s(),t.EFF(39),t.nI1(40,"mytranslate"),t.nrm(41,"br"),t.EFF(42),t.nI1(43,"mytranslate"),t.k0s(),t.nrm(44,"input",17),t.nI1(45,"mytranslate"),t.k0s(),t.nrm(46,"azt-google-map-embed",18),t.DNE(47,Lo,4,3,"div",19),t.k0s()()(),t.j41(48,"div",20)(49,"button",21),t.bIt("click",function(){return i.closeDialog()}),t.EFF(50),t.nI1(51,"mytranslate"),t.k0s(),t.j41(52,"button",22),t.bIt("click",function(){return i.saveData(!1)}),t.EFF(53),t.nI1(54,"mytranslate"),t.k0s(),t.DNE(55,Bo,3,4,"button",23),t.k0s()()()),2&a&&(t.R7$(1),t.Y8G("formGroup",i.form),t.R7$(4),t.SpI(" ",t.bMT(6,23,i.data?"lang_core_sua_co_so":"lang_core_them_co_so")," "),t.R7$(6),t.SpI(" ",t.bMT(12,25,"lang_core_ten_co_so")," "),t.R7$(2),t.FS9("placeholder",t.bMT(14,27,"lang_core_nhap_ten_co_so")),t.BMQ("autofocus",!1),t.R7$(2),t.Y8G("ngIf",i.form.controls.infrastructureName.dirty&&i.form.controls.infrastructureName.errors),t.R7$(3),t.SpI(" ",t.bMT(19,29,"lang_test_market_address")," "),t.R7$(2),t.FS9("placeholder",t.bMT(21,31,"lang_core_vui_nhap_dia_chi")),t.R7$(2),t.Y8G("ngIf",i.form.controls.address.dirty&&i.form.controls.address.errors),t.R7$(3),t.SpI(" ",t.bMT(26,33,"lang_number_phone")," "),t.R7$(2),t.FS9("placeholder",t.bMT(28,35,"lang_auto_nhap_so_dien_thoai")),t.R7$(2),t.Y8G("ngIf",i.form.controls.phoneNumber.dirty&&i.form.controls.phoneNumber.errors),t.R7$(3),t.SpI(" ",t.bMT(33,37,"lang_auto_ban_do")," "),t.R7$(3),t.SpI(" ",t.bMT(36,39,"lang_core_khong_hoat_dong_huong_dan_copy_ma_html_map_1")," "),t.R7$(4),t.SpI(" ",t.bMT(40,41,"lang_core_khong_hoat_dong_huong_dan_copy_ma_html_map_2")," "),t.R7$(3),t.SpI(" ",t.bMT(43,43,"lang_core_khong_hoat_dong_huong_dan_copy_ma_html_map_3")," "),t.R7$(2),t.FS9("placeholder",t.bMT(45,45,"lang_core_dan_dia_chi_da_sao_chep")),t.R7$(2),t.Y8G("htmlEmbedCode",i.form.controls.mapAddress.value),t.R7$(1),t.Y8G("ngIf",i.statusObj.loading),t.R7$(3),t.JRh(t.bMT(51,47,"lang_cms_common_close_btn")),t.R7$(2),t.Y8G("disabled",i.statusObj.loading||i.form.controls.infrastructureName.errors||i.form.controls.phoneNumber.errors||i.form.controls.address.errors),t.R7$(1),t.SpI(" ",t.bMT(54,49,i.data?"lang_student_classroom_list_update":"lang_button_save")," "),t.R7$(2),t.Y8G("ngIf",!i.data))},dependencies:[o.bT,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,Ft.t,_t.U,ct.R,ae,_.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}.iframeViewMap[_ngcontent-%COMP%]{width:-webkit-fill-available;height:auto}iframe[_ngcontent-%COMP%]{width:-webkit-fill-available}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.text-sm[_ngcontent-%COMP%]{font-size:12px}.box-save-doing[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;left:0;top:0;display:flex;justify-content:center;align-items:center;background:#ffffffad}"]})}return n})();function Uo(n,d){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function Vo(n,d){1&n&&t.nrm(0,"azt-loading-ui",32)}function Xo(n,d){1&n&&t.nrm(0,"azt-loading-ui",32)}const Jo=function(n){return[n]},Wo=function(){return{"mr-2 text-danger":!0}};function Ko(n,d){if(1&n){const e=t.RV6();t.j41(0,"div",13)(1,"a",14),t.nI1(2,"navigationLocalize"),t.j41(3,"h3",15),t.EFF(4),t.k0s(),t.j41(5,"div",16)(6,"span",17),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.EFF(9),t.k0s(),t.j41(10,"div",16)(11,"span",17),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.EFF(14),t.k0s(),t.j41(15,"div",16)(16,"span",17),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.EFF(19),t.k0s()(),t.j41(20,"div",18)(21,"div")(22,"div",19),t.DNE(23,Vo,1,0,"azt-loading-ui",20),t.EFF(24),t.nI1(25,"mytranslate"),t.nrm(26,"lucide-icon",21),t.k0s(),t.j41(27,"mat-menu",22,23)(29,"div",24)(30,"ul",25)(31,"li")(32,"button",26),t.bIt("click",function(){const m=t.eBV(e).$implicit,g=t.XpG(2);return t.Njj(g.changeActivity(m))}),t.EFF(33),t.nI1(34,"mytranslate"),t.k0s()()()()()(),t.j41(35,"div",27)(36,"button",28),t.bIt("click",function(){const m=t.eBV(e).$implicit,g=t.XpG(2);return t.Njj(g.openAddOrEditInfrastructure(m))}),t.nI1(37,"mytranslate"),t.nrm(38,"lucide-icon",29),t.k0s(),t.j41(39,"button",30),t.bIt("click",function(){const m=t.eBV(e).$implicit,g=t.XpG(2);return t.Njj(g.showDeleteRoomDialog(m))}),t.nI1(40,"mytranslate"),t.DNE(41,Xo,1,0,"azt-loading-ui",20),t.nrm(42,"lucide-icon",31),t.k0s()()()()}if(2&n){const e=d.$implicit,a=t.sdS(28),i=t.XpG(2);t.R7$(1),t.Y8G("routerLink",t.eq3(34,Jo,t.bMT(2,18,"/business/infrastructure/"+e.id))),t.R7$(2),t.FS9("matTooltip",e.name),t.R7$(1),t.SpI(" ",e.name," "),t.R7$(3),t.JRh(t.bMT(8,20,"lang_test_market_address")),t.R7$(2),t.SpI(" : ",e.address," "),t.R7$(3),t.JRh(t.bMT(13,22,"lang_auto_dien_thoai")),t.R7$(2),t.SpI(" : ",e.phone," "),t.R7$(3),t.JRh(t.bMT(18,24,"lang_auto_tong_so_phong_hoc")),t.R7$(2),t.SpI(" : ",e.totalRoom," "),t.R7$(3),t.Y8G("ngClass",1==e.status?"btn-activity":"btn-un-activity")("matMenuTriggerFor",a),t.R7$(1),t.Y8G("ngIf",i.isChangingActivityId==e.id),t.R7$(1),t.SpI(" ",t.bMT(25,26,0==e.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(9),t.SpI(" ",t.bMT(34,28,1==e.status?"lang_core_khong_hoat_dong":"lang_auto_hoat_dong")," "),t.R7$(3),t.FS9("matTooltip",t.bMT(37,30,"lang_button_edit")),t.R7$(3),t.FS9("matTooltip",t.bMT(40,32,"lang_student_classroom_list_delete")),t.R7$(2),t.Y8G("ngIf",i.isDeletingId==e.id),t.R7$(1),t.Y8G("ngClass",t.lJ4(36,Wo))}}const Ho=function(){return{"mr-2":!0}};function Qo(n,d){if(1&n){const e=t.RV6();t.j41(0,"h3",4),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s(),t.j41(3,"div",5),t.DNE(4,Ko,43,37,"div",6),t.j41(5,"div",7)(6,"div",8),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.openAddOrEditInfrastructure())}),t.j41(7,"div",9),t.nrm(8,"lucide-icon",10),t.j41(9,"div",11),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()()()()(),t.nrm(12,"azt-scroll-to-top-bottom",12)}if(2&n){const e=t.XpG();t.R7$(1),t.SpI(" ",t.bMT(2,5,"lang_auto_quan_ly_co_so_vat_chat")," "),t.R7$(3),t.Y8G("ngForOf",e.objs),t.R7$(4),t.Y8G("ngClass",t.lJ4(9,Ho)),t.R7$(2),t.SpI(" ",t.bMT(11,7,"lang_auto_them_co_so")," "),t.R7$(2),t.Y8G("isScrollToTop",!0)}}let Zo=(()=>{class n extends A.H{openAddOrEditInfrastructure(e){this.sAztDialogService.open(Yo,{data:e,restoreFocus:!1,width:"800px"}).afterClosed().subscribe(a=>{a&&this.getData()})}showDeleteRoomDialog(e){var a=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+e.name+" </div> ?";this.sAztDialogService.open(Ut.u,{data:{content:a},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(i=>{i&&(this.isDeletingId=e.id,this.waitDestroy(this.infrastructureService.apiInfrastructuresIdDelete(e.id).subscribe({next:m=>{m?(this.objs=this.objs.filter(g=>g.id!=e.id),this.successStatusObj("lang_core_xoa_co_so_thanh_cong")):this.errorStatusObj("lang_core_xoa_co_so_khong_thanh_cong",!0),this.isDeletingId=0},error:m=>{this.errorStatusObj(m.error.message,!0),this.isDeletingId=0}})))})}changeActivity(e){var a=this.objs.find(m=>m.id==e.id);if(!a)return;this.isChangingActivityId=e.id;let i=0==a.status?this.infrastructureService.apiInfrastructuresIdActivatePut(e.id):this.infrastructureService.apiInfrastructuresIdDeactivatePut(e.id);this.waitDestroy(i.subscribe({next:m=>{m&&a?a.status=0==a.status?1:0:this.errorStatusObj("lang_core_co_loi_khi_doi_trang_thai",!0),this.isChangingActivityId=0},error:m=>{this.errorStatusObj(m.error.message,!0),this.isChangingActivityId=0}}))}getData(){this.initStatusObj(),this.waitDestroy(this.infrastructureService.apiInfrastructuresListPost({size:-1,page:1}).subscribe({next:e=>{this.objs=e.list??[],this.stopStatusObj()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_co_so_vat_chat",image:"lang_cms_test_image"}),super.ngOnInit(),this.getData()}constructor(e,a){super(),this.infrastructureService=e,this.sAztDialogService=a,this.objs=[],this.isChangingActivityId=0,this.isDeletingId=0}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(wt.B),t.rXU(tt.i))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["list-infrastructure"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"text-md-title","font-medium","truncate","mr-auto","mt-5"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-5"],["class","col-span-12 sm:col-span-6 xl:col-span-3 box",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-6","md:col-span-4","xl:col-span-3"],["azt-track-service","list-infrastructure-0HrlOWafsi",1,"grid","items-center","btn-add-infrastructure","clickable",3,"click"],[1,"flex","justify-center"],["name","plus","size","24",3,"ngClass"],[1,"text-add-cs"],[3,"isScrollToTop"],[1,"col-span-12","sm:col-span-6","xl:col-span-3","box"],["azt-track-service","list-infrastructure-tBcgbalH2n",1,"clickable","block","p-3","pb-0",3,"routerLink"],[1,"text-md","font-bold","truncate","mr-auto",3,"matTooltip"],[1,"text-sm"],[1,"font-medium"],[1,"flex","justify-between","items-center","p-3"],[1,"text-sm","medium","clickable","btn","btn-primary",3,"ngClass","matMenuTriggerFor"],["class","mr-1",4,"ngIf"],["name","chevron-down","size","16"],["xPosition","before"],["menuSelectActivity","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],[1,"flex"],["azt-track-service","list-infrastructure-xLbmhq55M",1,"btn-flex","items-center","justify-center","mr-2",3,"matTooltip","click"],["name","square-pen","size","20",2,"color","dodgerblue"],["azt-track-service","list-infrastructure--kkgd3LUEQ",1,"flex","items-center","justify-center",3,"matTooltip","click"],["name","trash-2","size","16",3,"ngClass"],[1,"mr-1"]],template:function(a,i){if(1&a&&(t.j41(0,"teacher-layout",0),t.DNE(1,Uo,1,1,"azt-loading-effect",1),t.DNE(2,Qo,13,10,"ng-template",null,2,t.C5r),t.k0s()),2&a){const m=t.sdS(3);t.Y8G("headerBackToLink","/business/dashboard"),t.R7$(1),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",m)}},dependencies:[k.Wk,o.YU,o.Sq,o.bT,y.kk,y.Cp,jt.oV,N.K,Ot.I,ct.R,x.Q,f.WGl,_.F2,_.wp],styles:[".btn-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#228b22;color:#fff;border-radius:10px;font-weight:500}.btn-activity[_ngcontent-%COMP%]:hover{background:#37ca37!important}.btn-un-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#8b0000;color:#fff;border-radius:10px;font-weight:500}.btn-un-activity[_ngcontent-%COMP%]:hover{background:#b61a15!important}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{width:100%}.text-add-cs[_ngcontent-%COMP%]{font-size:14px;color:#909090;font-weight:500;padding-top:2px;padding-left:5px}.info-infrastructure[_ngcontent-%COMP%], .btn-add-infrastructure[_ngcontent-%COMP%]{background:#fff;padding:10px;border-radius:6px;height:100%}.btn-add-infrastructure[_ngcontent-%COMP%]:hover{background:#e1e0e0}.lucide-plus[_ngcontent-%COMP%]{stroke-width:4px!important;color:#a9a9a9}.col-information[_ngcontent-%COMP%]{padding:2px 5px}.col-information[_ngcontent-%COMP%]:hover{background:#f0f0f0;border-radius:5px;padding:2px 5px}.btn-delete-room[_ngcontent-%COMP%]{z-index:999}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#f0f0f0;border-radius:5px;padding:2px}.text-md-title[_ngcontent-%COMP%]{font-size:20px}"]})}return n})();var ie=l(26988),qo=l(31243),ta=l(68323);function ea(n,d){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}function na(n,d){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_config_educational_program_day_0"),","))}function oa(n,d){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG().$implicit;let a;t.R7$(1),t.SpI("",t.bMT(2,1,"lang_config_educational_program_day_"+(null!==(a=e.day)&&void 0!==a?a:0)),",")}}function aa(n,d){1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_auto_hom_nay"),","))}const ia=function(n){return{"z-index":n}};function sa(n,d){if(1&n&&(t.j41(0,"div",27)(1,"div"),t.nrm(2,"azt-create-avatar",28),t.k0s()()),2&n){const e=d.$implicit,a=d.index,i=t.XpG(2).$implicit;t.Y8G("ngStyle",t.eq3(4,ia,i.users.length-a)),t.R7$(2),t.Y8G("linkAvatar",e.avatar)("nameCreateAvatar",e.fullName)("size",25)}}function ra(n,d){if(1&n&&(t.j41(0,"div",24)(1,"span",25),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,sa,3,6,"div",26),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(2),t.SpI("",t.bMT(3,2,"lang_auto_giang_vien"),":\xa0"),t.R7$(2),t.Y8G("ngForOf",e.users)}}const la=function(n){return[n]},ca=function(n){return{backTo:n}};function da(n,d){if(1&n&&(t.j41(0,"div",13)(1,"div",14)(2,"h3",15),t.EFF(3),t.k0s()(),t.j41(4,"a",16),t.nI1(5,"navigationLocalize"),t.j41(6,"div",17)(7,"h3",18),t.EFF(8),t.k0s(),t.j41(9,"div",19),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"div",20)(13,"span",21),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",22)(17,"span",21),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()(),t.DNE(20,ra,5,4,"div",23),t.k0s()()),2&n){const e=d.$implicit,a=t.XpG(4);t.R7$(3),t.Lme("",e.fromTime," - ",e.toTime,""),t.R7$(1),t.Y8G("routerLink",t.eq3(21,la,t.bMT(5,13,"/admin/student/classroom-details/"+e.classroomId+"/3")))("queryParams",t.eq3(23,ca,a.returnUrl)),t.R7$(4),t.SpI(" ",e.classroomName," "),t.R7$(2),t.Lme("",t.bMT(11,15,"lang_core_buoi")," ",null==e.currentSession?null:e.currentSession.sort,""),t.R7$(4),t.Lme("",t.bMT(15,17,"lang_student_educational_program"),": ",null==e.program?null:e.program.name,""),t.R7$(4),t.E5c("",t.bMT(19,19,"lang_core_phong_hoc"),": ",null==e.infrastructure?null:e.infrastructure.name," - ",null==e.room?null:e.room.name,""),t.R7$(2),t.Y8G("ngIf",e.users&&e.users.length>0)}}function ma(n,d){if(1&n&&(t.j41(0,"div",9)(1,"h2",10),t.DNE(2,na,3,3,"span",11),t.DNE(3,oa,3,3,"span",11),t.DNE(4,aa,3,3,"span",11),t.EFF(5),t.nI1(6,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.DNE(7,da,21,25,"div",12),t.k0s()),2&n){const e=d.$implicit,a=t.XpG(3);let i;t.R7$(1),t.Y8G("ngClass",a.isTodayDate(e.date)?"date-color":""),t.R7$(1),t.Y8G("ngIf",0==e.day&&!a.isTodayDate(e.date)),t.R7$(1),t.Y8G("ngIf",(null!==(i=e.day)&&void 0!==i?i:0)>0),t.R7$(1),t.Y8G("ngIf",0==e.day&&a.isTodayDate(e.date)),t.R7$(1),t.SpI(" ",t.bMT(6,6,e.date)," "),t.R7$(2),t.Y8G("ngForOf",e.sessions)}}function ua(n,d){1&n&&t.nrm(0,"azt-loading-ui",33)}function _a(n,d){if(1&n){const e=t.RV6();t.j41(0,"div",29)(1,"span",30),t.bIt("click",function(){t.eBV(e);const i=t.XpG(3);return t.Njj(!i.sAztNextPaginationService.isLoadingNextPage&&i.getNextPage())}),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"lucide-icon",31),t.DNE(5,ua,1,0,"azt-loading-ui",32),t.k0s()()}if(2&n){const e=t.XpG(3);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_business_instructional_work_see_more")," "),t.R7$(3),t.Y8G("ngIf",e.sAztNextPaginationService.isLoadingNextPage)}}function pa(n,d){if(1&n&&(t.qex(0),t.DNE(1,ma,8,8,"div",7),t.DNE(2,_a,6,4,"div",8),t.bVm()),2&n){const e=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",e.listGroupScheduleObjs),t.R7$(1),t.Y8G("ngIf",e.listGroupScheduleObjs.length&&e.sAztNextPaginationService.hasNextPage)}}function ga(n,d){1&n&&(t.j41(0,"div",34),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_list_null")," "))}const fa=function(n){return{"mt-5":n}};function ha(n,d){if(1&n&&(t.j41(0,"h3",4),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s(),t.DNE(3,pa,3,2,"ng-container",5),t.DNE(4,ga,3,3,"ng-template",null,6,t.C5r)),2&n){const e=t.sdS(5),a=t.XpG();t.Y8G("ngClass",t.eq3(6,fa,!a.isMobileWebView)),t.R7$(1),t.SpI(" ",t.bMT(2,4,"lang_business_instructional_work_title")," "),t.R7$(2),t.Y8G("ngIf",a.listGroupScheduleObjs.length>0)("ngIfElse",e)}}let ba=(()=>{class n extends A.H{isTodayDate(e){if(!e)return!1;var a=new Date;return a.getDay()==e.getDay()&&e.getMonth()==a.getMonth()&&a.getFullYear()==e.getFullYear()}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}formatHour(e){let a=new Date(e??"");return`${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}`}getData(e){e?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.schedulerService.apiSchedulersListPost({page:this.sAztNextPaginationService.curPage,size:this.sAztNextPaginationService.itemPerPage}).subscribe({next:a=>{this.scheduleObjs=this.scheduleObjs.concat(a.list);let i=this.commonService.arrayToDictionary(this.scheduleObjs,g=>g.currentSession?.date?.toString()??""),m=[];Object.entries(i).forEach(([g,B],Q)=>{if(B.length>0){let M=B[0],ht=this.formatHour(M.currentSession?.fromTime),bt=this.formatHour(M.currentSession?.toTime);var C=(B=B.sort((mt,Xt)=>(mt.currentSession?.sort??0)-(Xt.currentSession?.sort??1))).map(mt=>({...mt,fromTime:this.formatHour(mt.currentSession?.fromTime),toTime:this.formatHour(mt.currentSession?.toTime)}));const vt={date:new Date(M.currentSession?.date??""),day:M.currentSession?.day,fromTime:ht,toTime:bt,sessions:C};m.push(vt)}}),this.listGroupScheduleObjs=m,this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(a.total),this.stopStatusObj()},error:a=>{this.errorStatusObj(a.error.message,!0)}}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_business_instructional_work_title",image:"lang_cms_test_image"}),this.waitDestroy((0,pt.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let e=this.commonService.getMyQueryParam("backto");this.backLink=e||"/business/dashboard"})),super.ngOnInit(),this.getData(!1)}constructor(e,a,i){super(),this.activeRoute=e,this.schedulerService=a,this.sAztNextPaginationService=i,this.backLink="",this.returnUrl="/business/instructional-work",this.scheduleObjs=[],this.listGroupScheduleObjs=[]}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(k.nX),t.rXU(qo.P),t.rXU(ie.h))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-azota-business-instructional"]],features:[t.Jv_([ie.h]),t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"text-md-title","font-medium","truncate","mr-auto",3,"ngClass"],[4,"ngIf","ngIfElse"],["emptyList",""],["class","pt-5",4,"ngFor","ngForOf"],["class","pt-3 font-medium",4,"ngIf"],[1,"pt-5"],[1,"text-md","font-medium","truncate","mr-auto","title-day",3,"ngClass"],[4,"ngIf"],["class","flex mt-3","style","flex-wrap: wrap",4,"ngFor","ngForOf"],[1,"flex","mt-3",2,"flex-wrap","wrap"],[1,"mr-5"],[1,"text-md","font-medium",2,"white-space","pre"],["azt-track-service","business-instructional-work-wb-lhbFmj",1,"box-teaching-hour","clickable",3,"routerLink","queryParams"],[1,"flex"],[1,"text-md","font-medium","truncate","mr-auto"],[1,"session"],[1,"flex","items-center","mt-1"],[1,"text-sm"],[1,"flex","items-center","justify-between","mt-1"],["class","flex items-center mt-1","style","flex-wrap: wrap;",4,"ngIf"],[1,"flex","items-center","mt-1",2,"flex-wrap","wrap"],[2,"font-weight","500","white-space","nowrap"],["class","show-tickets clickable","style","margin: 3px 0 3px 0.25rem;",3,"ngStyle",4,"ngFor","ngForOf"],[1,"show-tickets","clickable",2,"margin","3px 0 3px 0.25rem",3,"ngStyle"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"pt-3","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["name","chevron-down","size","20"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"flex","justify-center","pt-3"]],template:function(a,i){if(1&a&&(t.j41(0,"teacher-layout",0),t.DNE(1,ea,1,1,"azt-loading-effect",1),t.DNE(2,ha,6,8,"ng-template",null,2,t.C5r),t.k0s()),2&a){const m=t.sdS(3);t.Y8G("headerBackToLink",i.backLink),t.R7$(1),t.Y8G("ngIf",i.statusObj.loading)("ngIfElse",m)}},dependencies:[k.Wk,o.YU,o.Sq,o.bT,o.B3,N.K,ta.p,ct.R,x.Q,f.WGl,_.F2,_.wp,_.vv],styles:[".title-day[_ngcontent-%COMP%]{color:#708090;font-weight:800}.box-teaching-hour[_ngcontent-%COMP%]{background:#fff;padding:15px;border:1px solid steelblue;border-radius:8px;width:100%;max-width:500px}.date-color[_ngcontent-%COMP%]{color:#4682b4}.session[_ngcontent-%COMP%]{background:#f5f5f5;border-radius:5px;font-size:12px;padding:0 5px;font-weight:500}.box-teaching-hour[_ngcontent-%COMP%]:hover{background:#f9f9f9}.text-md-title[_ngcontent-%COMP%]{font-size:20px}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}"]})}return n})();var va=l(10127),xa=l(40609),Ca=l(82937);function ka(n,d){if(1&n){const e=t.RV6();t.j41(0,"mat-option",10),t.bIt("click",function(){const m=t.eBV(e).$implicit,g=t.XpG();return t.Njj(g.filterByClassId(m.id))}),t.EFF(1),t.k0s()}if(2&n){const e=d.$implicit;t.Y8G("value",e.id),t.R7$(1),t.SpI(" ",e.name," ")}}function Ia(n,d){if(1&n&&(t.j41(0,"div",16),t.nrm(1,"azt-loading-effect",17),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("currentStatusObj",e.statusObj)}}function ya(n,d){1&n&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Oa(n,d){1&n&&(t.j41(0,"span"),t.EFF(1,"/"),t.k0s())}function Fa(n,d){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,Oa,2,0,"span",20),t.EFF(3),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.SpI(" ",e.lastMonthPaid," "),t.R7$(1),t.Y8G("ngIf",e.lastMonthPaid),t.R7$(1),t.SpI(" ",e.lastYearPaid," ")}}function ja(n,d){1&n&&(t.j41(0,"span",37),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_hoc_thu")," "))}function Ta(n,d){if(1&n&&(t.j41(0,"div",40),t.nrm(1,"azt-student-info-box",41),t.k0s()),2&n){const e=d.$implicit;t.R7$(1),t.Y8G("name",e.fullName)("phone",e.phone)("showPhone",!0)("avatar",e.avatar)("showTooltip",!1)}}function Ma(n,d){if(1&n&&(t.j41(0,"div",38),t.DNE(1,Ta,2,5,"div",39),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("ngForOf",e.userParents)}}function Sa(n,d){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td",31),t.bIt("click",function(){const m=t.eBV(e).$implicit,g=t.XpG(3);return t.Njj(g.addOrEditTuitionFee(m))}),t.nrm(2,"azt-student-info-box",32),t.k0s(),t.j41(3,"td",33),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",34),t.DNE(7,Fa,4,3,"span",20),t.DNE(8,ja,3,3,"span",35),t.k0s(),t.j41(9,"td",34),t.DNE(10,Ma,2,1,"div",36),t.k0s()()}if(2&n){const e=d.$implicit;t.R7$(2),t.Y8G("name",e.fullName)("avatar",e.avatar)("gender",e.gender)("schoolName",e.schoolName)("hasUser",e.hasUser)("classrooms",e.classrooms)("joinedAt",e.joinedAt)("phone",e.phone)("email",e.email)("showPhone",!0),t.R7$(2),t.JRh(e.identificationNumber?t.i5U(5,14,e.identificationNumber,6):""),t.R7$(3),t.Y8G("ngIf",!e.isTrial),t.R7$(1),t.Y8G("ngIf",e.isTrial),t.R7$(2),t.Y8G("ngIf",e.userParents)}}const se=function(){return[]};function Ea(n,d){if(1&n&&(t.j41(0,"div")(1,"div",25)(2,"table",26)(3,"thead")(4,"tr")(5,"th",27),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",28),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"th",29),t.EFF(12),t.nI1(13,"mytranslate"),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"th",29),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()(),t.j41(18,"tbody"),t.DNE(19,Sa,11,17,"tr",30),t.k0s()()()()),2&n){const e=t.XpG(2);let a;t.R7$(6),t.JRh(t.bMT(7,6,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,8,"lang_auto_so_bao_danh")),t.R7$(3),t.Lme("",t.bMT(13,10,"lang_test_market_withdraw_time")," ",t.bMT(14,12,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.R7$(4),t.JRh(t.bMT(17,14,"lang_auto_phu_huynh")),t.R7$(3),t.Y8G("ngForOf",null!==(a=null==e.listPayment?null:e.listPayment.list)&&void 0!==a?a:t.lJ4(16,se))}}function Da(n,d){if(1&n){const e=t.RV6();t.j41(0,"div",42),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",43),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.goBack())}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()}2&n&&(t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_core_not_found_student"),"... "),t.R7$(3),t.JRh(t.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function Pa(n,d){if(1&n){const e=t.RV6();t.j41(0,"azt-paging",44),t.bIt("goToPaginationPage",function(i){t.eBV(e);const m=t.XpG(2);return t.Njj(m.setPageStudent(i))}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("pageObj",e.pageObj)}}function Ra(n,d){if(1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&n){const e=t.XpG(2);let a;t.R7$(1),t.Lme("",null!==(a=null==e.listPayment?null:e.listPayment.total)&&void 0!==a?a:0," ",t.bMT(2,2,"lang_auto_hoc_sinh"),"")}}function wa(n,d){if(1&n&&(t.j41(0,"div",18),t.DNE(1,ya,3,3,"div",19),t.DNE(2,Ea,20,17,"div",20),t.DNE(3,Da,6,6,"div",21),t.j41(4,"div",22),t.nrm(5,"div"),t.DNE(6,Pa,1,1,"azt-paging",23),t.DNE(7,Ra,3,4,"div",20),t.k0s()()),2&n){const e=t.XpG();let a,i,m,g;t.R7$(1),t.Y8G("ngIf",!e.searchContentObj.isLoading&&0==(null==e.listPayment?null:e.listPayment.total)&&""==e.searchContentObj.searchContent),t.R7$(1),t.Y8G("ngIf",(null!==(a=null==e.listPayment?null:e.listPayment.total)&&void 0!==a?a:0)>0),t.R7$(1),t.Y8G("ngIf",!e.searchContentObj.isLoading&&0==(null!==(i=null==e.listPayment?null:e.listPayment.list)&&void 0!==i?i:t.lJ4(5,se)).length&&""!=e.searchContentObj.searchContent),t.R7$(3),t.Y8G("ngIf",(null!==(m=null==e.listPayment?null:e.listPayment.total)&&void 0!==m?m:0)>20),t.R7$(1),t.Y8G("ngIf",(null!==(g=null==e.listPayment?null:e.listPayment.total)&&void 0!==g?g:0)>0)}}const za=function(n){return{"mt-1":n}},Aa=function(n,d){return{"ml-2":n,"mt-1":d}};let $a=(()=>{class n extends A.H{goBack(){this.searchContentObj.resetSearchContentEvent()}search(e){this.isLoading=!0,this.searchContentObj.setLoading(!0),this.searchContentObj=e,this.getData(0==(this.listPayment?.list??[]).length?this.pageStudent:1)}setPageStudent(e){this.myNavigation("/business/student-management/"+e),this.isLoading=!0,this.pageStudent=e,this.getData(this.pageStudent)}addOrEditTuitionFee(e){this.sAztDialogService.open(va.B,{width:"900px",restoreFocus:!1,data:e}).afterClosed().subscribe(a=>{a&&this.getData(this.pageStudent)})}addParent(){this.sAztDialogService.open(Tt,{width:"900px",restoreFocus:!1,data:void 0}).afterClosed().subscribe(e=>{e&&this.getData(this.pageStudent)})}filterByClassId(e){this.classroomId=e,this.getData(this.pageObj.page)}getData(e){this.pageObj.setPageNumber(e),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,classroomId:this.classroomId,name:this.searchContentObj.searchContent,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!0,me:!1,getAssessment:!1}).subscribe(i=>{i?(this.listPayment=i,this.pageObj.setTotalPages(this.listPayment?.total??0),this.isLoading=!1):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.isLoading=!1),this.searchContentObj.setLoading(!1)}))}getOwnerClassroom(){this.waitDestroy(this.classroomGroupService.apiClassroomGroupListMyClassroomsGet().subscribe(e=>{e.success?(this.classroomOwner=e.data?.objs??[],this.getData(this.pageObj.page)):(this.errorStatusObj(e.message??"lang_core_co_loi_khi_lay_danh_danh_sach_lop",!0),this.isLoading=!1)}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_hoc_phi",image:"lang_cms_test_image"}),this.commonService.getTranslate("lang_core_hoc_thu").subscribe(e=>{this.langName=e}),this.waitDestroy((0,pt.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let e=this.commonService.getMyQueryParam("backto");this.pageObj.setPageNumber(Number(this.commonService.getMyParam(this.activeRoute,"page"))??1),this.backLink=e||"/business/dashboard"})),super.ngOnInit(),this.getOwnerClassroom()}constructor(e,a,i,m){super(),this.sAztDialogService=e,this.studentService=a,this.activeRoute=i,this.classroomGroupService=m,this.backLink="",this.isLoading=!0,this.langName="",this.pageStudent=1,this.searchContentObj=new J.Z,this.classroomOwner=[],this.pageObj=new it.d(20)}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(tt.i),t.rXU(xa.b),t.rXU(k.nX),t.rXU(Ca.k))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-azota-business-tuition"]],features:[t.Vt3],decls:27,vars:32,consts:[[3,"headerBackToLink"],[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["id","classroomId","appearance","fill",1,"ml-0","sm:ml-2","mt-3","sm:mt-0",2,"border-radius","5px","background","white"],["name","classroomId",3,"placeholder"],[3,"value","click"],[3,"value","click",4,"ngFor","ngForOf"],[1,"btn","btn-primary","shadow-md","w-full","sm:w-auto",3,"ngClass","click"],[1,"btn","btn-primary-soft","shadow-md","w-full","sm:w-auto",3,"ngClass","click"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"w-full","flex","justify-center","items-center"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","flex justify-center mt-5",4,"ngIf"],[4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"mt-2","pb-3","flex","justify-between","items-center"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-center","mt-5"],[2,"height","100%"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt","phone","email","showPhone"],[1,"text-center","capitalize"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],["class","grid-cols-12 gap-2",4,"ngIf"],[1,"text-slate-500"],[1,"grid-cols-12","gap-2"],["class","col-span-12 mb-1",4,"ngFor","ngForOf"],[1,"col-span-12","mb-1"],[3,"name","phone","showPhone","avatar","showTooltip"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"],[3,"pageObj","goToPaginationPage"]],template:function(a,i){if(1&a&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.bIt("onSearch",function(g){return i.search(g.searchObj)}),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"mat-form-field",8)(12,"mat-select",9),t.nI1(13,"mytranslate"),t.j41(14,"mat-option",10),t.bIt("click",function(){return i.filterByClassId()}),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.DNE(17,ka,2,2,"mat-option",11),t.k0s()()(),t.j41(18,"button",12),t.bIt("click",function(){return i.addOrEditTuitionFee()}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"button",13),t.bIt("click",function(){return i.addParent()}),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()(),t.DNE(24,Ia,2,1,"div",14),t.DNE(25,wa,8,6,"ng-template",null,15,t.C5r),t.k0s()()),2&a){const m=t.sdS(26);t.Y8G("headerBackToLink",i.backLink),t.R7$(4),t.SpI(" ",t.bMT(5,15,"lang_business_tuition_fee_title_top")," "),t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(10,17,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",i.searchContentObj),t.R7$(3),t.FS9("placeholder",t.bMT(13,19,"lang_core_tim_theo_lop")),t.R7$(2),t.Y8G("value",0),t.R7$(1),t.SpI(" ",t.bMT(16,21,"lang_auto_tat_ca_cac_lop")," "),t.R7$(2),t.Y8G("ngForOf",i.classroomOwner),t.R7$(1),t.Y8G("ngClass",t.eq3(27,za,i.isMobileDevice)),t.R7$(1),t.SpI("+ ",t.bMT(20,23,"lang_student_utils_add_student"),""),t.R7$(2),t.Y8G("ngClass",t.l_i(29,Aa,!i.isMobileDevice,i.isMobileDevice)),t.R7$(1),t.SpI("+ ",t.bMT(23,25,"lang_student_utils_add_parent"),""),t.R7$(2),t.Y8G("ngIf",i.isLoading)("ngIfElse",m)}},dependencies:[o.YU,o.Sq,o.bT,F.wT,Ht.rl,Qt.VO,N.K,p.q,I.W,P.B,x.Q,_.wp,_.Po],encapsulation:2})}return n})();var Ga=l(94743);function Na(n,d){if(1&n&&t.nrm(0,"azt-loading-effect",3),2&n){const e=t.XpG();t.Y8G("currentStatusObj",e.statusObj)}}const ft=function(n){return[n]},re=function(){return{"text-primary mx-auto":!0}};function La(n,d){1&n&&(t.j41(0,"div",9)(1,"a",10),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"lucide-icon",12),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(1),t.Y8G("routerLink",t.eq3(7,ft,t.bMT(2,3,"/business/infrastructure"))),t.R7$(3),t.Y8G("ngClass",t.lJ4(9,re)),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_business_infrastructure_title")," "))}function Ba(n,d){1&n&&(t.j41(0,"div",9)(1,"a",14),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"azt-svg-icon",15),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(1),t.Y8G("routerLink",t.eq3(7,ft,t.bMT(2,3,"/business/educational-program"))),t.R7$(3),t.Y8G("size",48),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_business_educational_program_title")," "))}function Ya(n,d){1&n&&(t.j41(0,"div",9)(1,"a",16),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"azt-svg-icon",17),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(1),t.Y8G("routerLink",t.eq3(7,ft,t.bMT(2,3,"/business/instructional-work"))),t.R7$(3),t.Y8G("size",48),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_business_instructional_work_title")," "))}function Ua(n,d){1&n&&(t.j41(0,"div",9)(1,"a",18),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"lucide-icon",19),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(1),t.Y8G("routerLink",t.eq3(7,ft,t.bMT(2,3,"/business/student-management/1"))),t.R7$(3),t.Y8G("ngClass",t.lJ4(9,re)),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_notify_list_students")," "))}const le=function(){return{"text-primary":!0}};function Va(n,d){1&n&&(t.j41(0,"div",9)(1,"a",18),t.nI1(2,"navigationLocalize"),t.j41(3,"div",11),t.nrm(4,"lucide-icon",20),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(1),t.Y8G("routerLink",t.eq3(7,ft,t.bMT(2,3,"/business/account-management"))),t.R7$(3),t.Y8G("ngClass",t.lJ4(9,le)),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_core_quan_ly_tai_khoan")," "))}function Xa(n,d){1&n&&(t.j41(0,"div",9)(1,"a",18),t.nI1(2,"navigationLocalize"),t.j41(3,"div",21),t.nrm(4,"lucide-icon",22),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(1),t.Y8G("routerLink",t.eq3(7,ft,t.bMT(2,3,"/business/business-configs/0"))),t.R7$(3),t.Y8G("ngClass",t.lJ4(9,le)),t.R7$(2),t.SpI(" ",t.bMT(7,5,"lang_business_dashboard_business_configs")," "))}function Ja(n,d){1&n&&(t.j41(0,"div",9)(1,"a",23),t.nI1(2,"navigationLocalize"),t.j41(3,"div",21),t.nrm(4,"lucide-icon",24),t.j41(5,"div",13),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()()()()),2&n&&(t.R7$(1),t.Y8G("routerLink",t.eq3(6,ft,t.bMT(2,2,"/business/business-statistics-overview"))),t.R7$(5),t.SpI(" ",t.bMT(7,4,"lang_core_thong_ke_tong_quan")," "))}function Wa(n,d){if(1&n&&(t.j41(0,"div",4)(1,"div",5),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",6)(5,"div",7),t.DNE(6,La,8,10,"div",8),t.nI1(7,"async"),t.nI1(8,"allowFeatureBusinessForUser"),t.DNE(9,Ba,8,9,"div",8),t.nI1(10,"async"),t.nI1(11,"allowFeatureBusinessForUser"),t.DNE(12,Ya,8,9,"div",8),t.nI1(13,"async"),t.nI1(14,"allowFeatureBusinessForUser"),t.DNE(15,Ua,8,10,"div",8),t.nI1(16,"async"),t.nI1(17,"allowFeatureBusinessForUser"),t.DNE(18,Va,8,10,"div",8),t.nI1(19,"async"),t.nI1(20,"allowFeatureBusinessForUser"),t.DNE(21,Xa,8,10,"div",8),t.nI1(22,"async"),t.nI1(23,"allowFeatureBusinessForUser"),t.DNE(24,Ja,8,8,"div",8),t.k0s()()()),2&n){const e=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,8,"lang_cms_business_dashboard_title")," "),t.R7$(4),t.Y8G("ngIf",t.bMT(7,10,t.brH(8,12,"","training_center_infrastructure",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(10,16,t.brH(11,18,"","training_center_curriculum",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(13,22,t.brH(14,24,"","training_center_instructional",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(16,28,t.brH(17,30,"","training_center_tuition",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(19,34,t.brH(20,36,"","training_center_manage_account",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(22,40,t.brH(23,42,"","business_configs_menu",!1))),t.R7$(3),t.Y8G("ngIf",e.isBusinessDomain)}}let Ka=(()=>{class n extends A.H{constructor(){super()}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_business_dashboard_title",description:"lang_cms_business_dashboard_description",image:"lang_cms_test_image"}),super.ngOnInit()}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-azota-business-dashboard"]],features:[t.Vt3],decls:6,vars:7,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["isReadyBusinessPermision",""],[3,"currentStatusObj"],[1,"azt-dashboard","w-full","lg:w-80%","mx-auto","mt-5"],[1,"text-lg","font-medium","intro-y"],[1,"mb-3","grid","grid-cols-12","intro-y","sm:gap-10"],[1,"col-span-12","grid","grid-cols-12","gap-6","mt-4","flex","items-center"],["class","col-span-6 md:col-span-3 intro-y","tourAnchor","azt-tour-1",4,"ngIf"],["tourAnchor","azt-tour-1",1,"col-span-6","md:col-span-3","intro-y"],["azt-track-service","dashboard-MZWdTjtFv",3,"routerLink"],[1,"box","py-8","zoom-in","text-center"],["name","building","size","48",3,"ngClass"],[1,"font-medium","text-center","text-base","mt-3"],["azt-track-service","dashboard-dbDZTHWC53",3,"routerLink"],["type","book",1,"block","text-primary","mx-auto",3,"size"],["azt-track-service","dashboard-WiSckpXd7J",3,"routerLink"],["type","slide",1,"block","text-primary","mx-auto",3,"size"],["azt-track-service","dashboard-6wko4rwl-1",3,"routerLink"],["name","user","size","48",3,"ngClass"],["name","users","size","48",3,"ngClass"],[1,"box","py-8","text-center","zoom-in"],["name","settings","size","48",3,"ngClass"],[3,"routerLink"],["name","bar-chart-3","size","48",1,"text-primary"]],template:function(a,i){if(1&a&&(t.j41(0,"teacher-layout",0),t.DNE(1,Na,1,1,"azt-loading-effect",1),t.nI1(2,"async"),t.nI1(3,"alreadyDataForBusinessPermission"),t.DNE(4,Wa,25,46,"ng-template",null,2,t.C5r),t.k0s()),2&a){const m=t.sdS(5);t.Y8G("headerBackToLink","/admin/dashboard"),t.R7$(1),t.Y8G("ngIf",!t.bMT(2,3,t.bMT(3,5,"")))("ngIfElse",m)}},dependencies:[k.Wk,o.YU,o.bT,N.K,Ga.m,x.Q,f.WGl,o.Jj,_.F2,_.wp,_.bj,_.aJ],encapsulation:2})}return n})(),Ha=(()=>{class n extends A.H{static#t=this.\u0275fac=function(){let e;return function(i){return(e||(e=t.xGo(n)))(i||n)}}();static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["azota-for-business"]],features:[t.Vt3],decls:2,vars:0,consts:[["id","azota-business"]],template:function(a,i){1&a&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[k.n3],encapsulation:2})}return n})();function Qa(n,d){if(1&n&&(t.j41(0,"div",18),t.nrm(1,"azt-student-info-box",19),t.k0s()),2&n){const e=d.$implicit;t.R7$(1),t.Y8G("name",e.fullName)("phone",e.phone)("showPhone",!0)("avatar",e.avatar)("showTooltip",!1)}}function Za(n,d){if(1&n&&(t.j41(0,"div",16),t.DNE(1,Qa,2,5,"div",17),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(1),t.Y8G("ngForOf",e.userParents)}}function qa(n,d){if(1&n&&(t.j41(0,"tr")(1,"td",11),t.nrm(2,"azt-student-info-box",12),t.k0s(),t.j41(3,"td",13),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",14),t.DNE(7,Za,2,1,"div",15),t.k0s()()),2&n){const e=d.$implicit;t.R7$(2),t.Y8G("name",e.fullName)("avatar",e.avatar)("gender",e.gender)("schoolName",e.schoolName)("hasUser",e.hasUser)("classrooms",e.classrooms)("joinedAt",e.joinedAt)("phone",e.phone)("email",e.email)("showPhone",!0),t.R7$(2),t.JRh(e.identificationNumber?t.i5U(5,12,e.identificationNumber,6):""),t.R7$(3),t.Y8G("ngIf",e.userParents)}}let ti=(()=>{class n extends Z._{ngOnInit(){super.ngOnInit()}constructor(e,a,i){super(i,a),this.domainUsersManagementService=e,this.dialogRef=a,this.data=i}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(v.Z),t.rXU(r.CP,8),t.rXU(r.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["azt-list-student-not-paid"]],features:[t.Vt3],decls:23,vars:13,consts:[[1,"box"],[1,"container-fluid","mb-1","overflow-hidden","document-market-list","w-full","pl-4","pr-4"],[1,"intro-y","overflow-auto"],[2,"height","100%"],[1,"table","table-report",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],[1,"p-3","text-right","border-t","border-slate-200","dark:border-darkmode-400"],[1,"btn","btn-secondary","min-width-100",3,"click"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt","phone","email","showPhone"],[1,"text-center","capitalize"],[1,"text-center"],["class","grid-cols-12 gap-2",4,"ngIf"],[1,"grid-cols-12","gap-2"],["class","col-span-12 mb-1",4,"ngFor","ngForOf"],[1,"col-span-12","mb-1"],[3,"name","phone","showPhone","avatar","showTooltip"]],template:function(a,i){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"div",3)(5,"table",4)(6,"thead")(7,"tr")(8,"th",5),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"th",6),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",7),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()(),t.j41(17,"tbody"),t.DNE(18,qa,8,15,"tr",8),t.k0s()()()()()(),t.j41(19,"div",9)(20,"button",10),t.bIt("click",function(){return i.dialogRef.close()}),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()()),2&a&&(t.R7$(9),t.JRh(t.bMT(10,5,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(13,7,"lang_auto_so_bao_danh")),t.R7$(3),t.JRh(t.bMT(16,9,"lang_auto_phu_huynh")),t.R7$(3),t.Y8G("ngForOf",i.data.list),t.R7$(3),t.JRh(t.bMT(22,11,"lang_button_close")))},dependencies:[o.Sq,o.bT,_t.U,P.B,_.wp,_.Po],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]})}return n})();var ei=l(20512);function ni(n,d){if(1&n&&(t.j41(0,"div",4)(1,"h3",5),t.nrm(2,"lucide-icon",6),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",7)(6,"span",8),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.EFF(9),t.k0s(),t.j41(10,"div",9)(11,"div",10),t.EFF(12),t.j41(13,"span",8),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",10),t.EFF(17),t.j41(18,"span",8),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()(),t.j41(21,"div",9)(22,"div",10),t.EFF(23),t.j41(24,"span",8),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()(),t.j41(27,"div",10),t.EFF(28),t.j41(29,"span",8),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,11,"lang_core_nguoi_dung")," "),t.R7$(4),t.SpI("",t.bMT(8,13,"lang_azt_tong_so_nguoi_dung"),": "),t.R7$(2),t.SpI(" ",e.userCountByRole.totalAdmin+e.userCountByRole.totalTeacher+e.userCountByRole.totalStudent+e.userCountByRole.totalParent," "),t.R7$(3),t.SpI(" ",e.userCountByRole.totalAdmin," "),t.R7$(2),t.SpI(" ",t.bMT(15,15,"lang_cms_business_dashboard_title").toLocaleLowerCase(),""),t.R7$(3),t.SpI(" ",e.userCountByRole.totalTeacher," "),t.R7$(2),t.SpI(" ",t.bMT(20,17,"lang_auto_giao_vien").toLocaleLowerCase(),""),t.R7$(4),t.SpI(" ",e.userCountByRole.totalStudent," "),t.R7$(2),t.SpI(" ",t.bMT(26,19,"lang_notify_list_students").toLocaleLowerCase(),""),t.R7$(3),t.SpI(" ",e.userCountByRole.totalParent," "),t.R7$(2),t.SpI(" ",t.bMT(31,21,"lang_auto_phu_huynh").toLocaleLowerCase(),"")}}function oi(n,d){if(1&n&&(t.j41(0,"div",4)(1,"h3",5),t.nrm(2,"lucide-icon",11),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",12)(6,"div",10),t.EFF(7),t.j41(8,"span",8),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"div",10),t.EFF(12),t.j41(13,"span",8),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,5,"lang_auto_co_so_vat_chat")," "),t.R7$(4),t.SpI(" ",e.infrastructuresCountStatistic.totalInfrastructure," "),t.R7$(2),t.SpI(" ",t.bMT(10,7,"lang_core_co_so").toLocaleLowerCase(),""),t.R7$(3),t.SpI(" ",e.infrastructuresCountStatistic.totalRoom," "),t.R7$(2),t.SpI(" ",t.bMT(15,9,"lang_core_phong_hoc").toLocaleLowerCase(),"")}}function ai(n,d){if(1&n&&(t.j41(0,"div",4)(1,"h3",5),t.nrm(2,"lucide-icon",13),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",7),t.EFF(6),t.j41(7,"span",8),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()(),t.j41(10,"div",9)(11,"div",10),t.EFF(12),t.j41(13,"span",8),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",10),t.EFF(17),t.j41(18,"span",8),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,7,"lang_cms_classroom_program_title")," "),t.R7$(3),t.SpI(" ",e.programsCountStatistic.totalProgram," "),t.R7$(2),t.SpI(" ",t.bMT(9,9,"lang_cms_classroom_program_title").toLocaleLowerCase(),""),t.R7$(4),t.SpI(" ",e.programsCountStatistic.totalLevel," "),t.R7$(2),t.SpI(" ",t.bMT(15,11,"lang_auto_khoi_hoc").toLocaleLowerCase(),""),t.R7$(3),t.SpI(" ",e.programsCountStatistic.totalSubject," "),t.R7$(2),t.SpI(" ",t.bMT(20,13,"lang_auto_mon_hoc").toLocaleLowerCase(),"")}}function ii(n,d){if(1&n&&(t.j41(0,"div",4)(1,"h3",5),t.nrm(2,"lucide-icon",14),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",7)(6,"span",8),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.EFF(9),t.k0s(),t.j41(10,"div",15),t.EFF(11),t.j41(12,"span",8),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()(),t.j41(15,"div",15),t.EFF(16),t.j41(17,"span",8),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()()),2&n){const e=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,7,"lang_auto_lop_hoc")," "),t.R7$(4),t.SpI("",t.bMT(8,9,"lang_azt_tong_so_lop_hoc"),": "),t.R7$(2),t.SpI(" ",e.classroomsCountStatistic.totalLearningClassroom+e.classroomsCountStatistic.totalFinishClassroom," "),t.R7$(2),t.SpI(" ",e.classroomsCountStatistic.totalLearningClassroom," "),t.R7$(2),t.SpI(" ",t.bMT(14,11,"lang_core_lop_hoc_dang_dien_ra").toLocaleLowerCase(),""),t.R7$(3),t.SpI(" ",e.classroomsCountStatistic.totalFinishClassroom," "),t.R7$(2),t.SpI(" ",t.bMT(19,13,"lang_core_lop_hoc_da_ket_thuc").toLocaleLowerCase(),"")}}function si(n,d){if(1&n){const e=t.RV6();t.j41(0,"div",18)(1,"a",19),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.getPaymentStudentsList())}),t.j41(2,"span",8),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()()()}2&n&&(t.R7$(3),t.Lme(" >> ",t.bMT(4,2,"lang_auto_xem_danh_sach")," ",t.bMT(5,4,"lang_core_chua_dong").toLocaleLowerCase()," "))}function ri(n,d){if(1&n&&(t.j41(0,"div",4)(1,"h3",5),t.nrm(2,"lucide-icon",16),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",7),t.EFF(6),t.j41(7,"span",8),t.EFF(8),t.nI1(9,"mytranslate"),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"div",15),t.EFF(12),t.j41(13,"span",8),t.EFF(14),t.nI1(15,"mytranslate"),t.nI1(16,"mytranslate"),t.k0s()(),t.DNE(17,si,6,6,"div",17),t.k0s()),2&n){const e=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,8,"lang_core_hoc_phi")," "),t.R7$(3),t.SpI(" ",e.paymentCountPaymentStatus.totalPaid," "),t.R7$(2),t.Lme(" ",t.bMT(9,10,"lang_student_utils_reques_notice_list_student").toLocaleLowerCase()," ",t.bMT(10,12,"lang_student_tuition_fee_paid").toLocaleLowerCase()," "),t.R7$(4),t.SpI(" ",e.paymentCountPaymentStatus.totalNotPaid," "),t.R7$(2),t.Lme(" ",t.bMT(15,14,"lang_student_utils_reques_notice_list_student").toLocaleLowerCase()," ",t.bMT(16,16,"lang_core_chua_dong").toLocaleLowerCase()," "),t.R7$(3),t.Y8G("ngIf",e.paymentCountPaymentStatus.totalNotPaid>0)}}const ci=[{path:"",component:Ha,canActivate:[rt.t],children:[{path:"dashboard",component:Ka},{path:"educational-program",component:lo},{path:"create-educational-program",component:te},{path:"create-general-educational-program",component:Rn},{path:"edit-educational-program/:id",component:te},{path:"educational-program/:id",component:qn},{path:"infrastructure",component:Zo},{path:"infrastructure/:id",component:Ao},{path:"instructional-work",component:ba},{path:"student-management/:page",component:$a},{path:"account-management",component:xe},{path:"business-configs/:configType",component:Ae},{path:"business-statistics-overview",component:(()=>{class n extends A.H{getData(){this.initStatusObj(),this.getUserCountByRole(),this.getInfrastructuresCountStatistic(),this.getProgramsCountStatistic(),this.getClassroomsCountStatistic(),this.getPaymentCountPaymentStatus(),this.stopStatusObj()}getUserCountByRole(){this.waitDestroy(this.userInfoService.apiUserInfoCountUserByRolesGet().subscribe({next:e=>{this.userCountByRole=e.data}}))}getInfrastructuresCountStatistic(){this.waitDestroy(this.infrastructureService.apiInfrastructuresCountStatisticGet().subscribe({next:e=>{this.infrastructuresCountStatistic=e}}))}getProgramsCountStatistic(){this.waitDestroy(this.programService.apiProgramsCountStatisticGet().subscribe({next:e=>{this.programsCountStatistic=e}}))}getClassroomsCountStatistic(){this.waitDestroy(this.classroomService.apiClassroomsCountStatisticGet().subscribe({next:e=>{this.classroomsCountStatistic=e}}))}getPaymentStudentsList(){this.waitDestroy(this.paymentService.apiPaymentStudentsListPost({paidStatus:0}).subscribe({next:e=>{this.paymentStudentsList=e,this.showDialogListStudentNotPaid()},error:e=>{this.errorStatusObj(e.error.message,!0)}}))}getPaymentCountPaymentStatus(){this.waitDestroy(this.paymentService.apiPaymentCountPaymentStatusGet().subscribe({next:e=>{this.paymentCountPaymentStatus=e}}))}showDialogListStudentNotPaid(){this.sAztDialogService.open(ti,{width:"95%",restoreFocus:!1,data:this.paymentStudentsList})}ngOnInit(){this.commonService.translateMetaData({title:"lang_core_thong_ke_tong_quan",image:"lang_cms_test_image"}),super.ngOnInit(),this.getData()}constructor(e,a,i,m,g,B){super(),this.userInfoService=e,this.infrastructureService=a,this.programService=i,this.classroomService=m,this.paymentService=g,this.sAztDialogService=B}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(ei.fv),t.rXU(yt.BU),t.rXU(yt.sC),t.rXU(yt.zS),t.rXU(yt.WG),t.rXU(tt.i))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["azt-statistics-overview"]],features:[t.Vt3],decls:10,vars:9,consts:[[3,"headerBackToLink"],[1,"text-md-title","font-medium","truncate","mr-auto","mt-5"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-5"],["class","col-span-12 sm:col-span-6 xl:col-span-3 box p-3 font-bold",4,"ngIf"],[1,"col-span-12","sm:col-span-6","xl:col-span-3","box","p-3","font-bold"],[1,"text-md","mr-auto","flex","items-center"],["name","users",1,"mr-2"],[1,"text-sm","mt-3"],[1,"font-medium"],[1,"flex","justify-between","mt-1"],[1,"text-sm"],["name","building",1,"mr-2"],[1,"flex","justify-between","mt-3"],["name","graduation-cap",1,"mr-2"],["name","school",1,"mr-2"],[1,"text-sm","mt-1"],["name","circle-dollar-sign",1,"mr-2"],["class","text-sm mt-2",4,"ngIf"],[1,"text-sm","mt-2"],[1,"hover",3,"click"]],template:function(a,i){1&a&&(t.j41(0,"teacher-layout",0)(1,"h3",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",2),t.DNE(5,ni,32,23,"div",3),t.DNE(6,oi,16,11,"div",3),t.DNE(7,ai,21,15,"div",3),t.DNE(8,ii,20,15,"div",3),t.DNE(9,ri,18,18,"div",3),t.k0s()()),2&a&&(t.Y8G("headerBackToLink","/business/dashboard"),t.R7$(2),t.SpI(" ",t.bMT(3,7,"lang_core_thong_ke_tong_quan")," "),t.R7$(3),t.Y8G("ngIf",i.userCountByRole),t.R7$(1),t.Y8G("ngIf",i.infrastructuresCountStatistic),t.R7$(1),t.Y8G("ngIf",i.programsCountStatistic),t.R7$(1),t.Y8G("ngIf",i.classroomsCountStatistic),t.R7$(1),t.Y8G("ngIf",i.paymentCountPaymentStatus))},dependencies:[o.bT,x.Q,f.WGl,_.wp],styles:[".btn-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#228b22;color:#fff;border-radius:10px;font-weight:500}.btn-activity[_ngcontent-%COMP%]:hover{background:#37ca37!important}.btn-un-activity[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;background:#8b0000;color:#fff;border-radius:10px;font-weight:500}.btn-un-activity[_ngcontent-%COMP%]:hover{background:#b61a15!important}.text-sm[_ngcontent-%COMP%]{font-size:.82rem;line-height:1.2rem}.col-information[_ngcontent-%COMP%]{width:100%}.text-add-cs[_ngcontent-%COMP%]{font-size:14px;color:#909090;font-weight:500;padding-top:2px;padding-left:5px}.info-infrastructure[_ngcontent-%COMP%], .btn-add-infrastructure[_ngcontent-%COMP%]{background:#fff;padding:10px;border-radius:6px;height:100%}.btn-add-infrastructure[_ngcontent-%COMP%]:hover{background:#e1e0e0}.lucide-plus[_ngcontent-%COMP%]{stroke-width:4px!important;color:#a9a9a9}.col-information[_ngcontent-%COMP%]{padding:2px 5px}.col-information[_ngcontent-%COMP%]:hover{background:#f0f0f0;border-radius:5px;padding:2px 5px}.btn-delete-room[_ngcontent-%COMP%]{z-index:999}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#f0f0f0;border-radius:5px;padding:2px}.text-md-title[_ngcontent-%COMP%]{font-size:20px}.hover[_ngcontent-%COMP%]{color:#0000ffbd}.hover[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#00f}"]})}return n})()}]}];let di=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[k.iI.forChild(ci),k.iI,H.XE]})}return n})(),mi=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({providers:[{provide:R.vn,useValue:X.c.azt_tiny_mce_script_src}],imports:[k.iI,o.MD,z.s,R.sv,di,$.Id,s.YN,s.X1,r.hM,w.L,u.Lk,Y.xv,h.Q,c.b,f.flO.pick(f.Ptg),U.f,j.rc]})}return n})()},14999:(ot,L,l)=>{l.d(L,{d:()=>$});var o=l(89163),s=l(33887),r=l(26860),k=l(31216),j=l(54460),R=l(2915),U=l(52811),f=l(73437);function u(w,c){if(1&w&&(r.qex(0),r.EFF(1),r.nI1(2,"mytranslate"),r.j41(3,"b",10),r.EFF(4),r.k0s(),r.bVm()),2&w){const h=r.XpG();r.R7$(1),r.SpI(" \xa0",r.bMT(2,2,"lang_student_utils_delete_student_last"),":\xa0 "),r.R7$(3),r.JRh(null==h.classroomObj?null:h.classroomObj.name)}}function Y(w,c){1&w&&r.nrm(0,"azt-loading-ui",11)}let $=(()=>{class w extends s._{btnCloseDialog(h){this.dialogRef.close(h)}confirmDelete(){this.data.deleteOnParent?this.dialogRef.close(!0):(this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentDeleteObjGet(this.studentObj?.id??0).subscribe(h=>{1==h.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(h.message,!0),this.btnCloseDialog(!1))})))}constructor(h,X,z){super(z,X),this.studentService=h,this.dialogRef=X,this.data=z,this.studentObj=z.studentObj,this.classroomObj=z.classroomObj}static#t=this.\u0275fac=function(X){return new(X||w)(r.rXU(k.b0),r.rXU(o.CP,8),r.rXU(o.Vh,8))};static#e=this.\u0275cmp=r.VBU({type:w,selectors:[["app-delete-single-student"]],features:[r.Vt3],decls:19,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger",2,"word-break","break-word"],[4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-danger"],[1,"mr-1"]],template:function(X,z){1&X&&(r.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),r.EFF(5),r.nI1(6,"mytranslate"),r.j41(7,"b",4),r.EFF(8),r.k0s(),r.DNE(9,u,5,4,"ng-container",5),r.EFF(10," ? "),r.k0s()()()(),r.j41(11,"div",6)(12,"button",7),r.bIt("click",function(){return z.btnCloseDialog(!1)}),r.EFF(13),r.nI1(14,"mytranslate"),r.k0s(),r.j41(15,"button",8),r.bIt("click",function(){return z.confirmDelete()}),r.DNE(16,Y,1,0,"azt-loading-ui",9),r.EFF(17),r.nI1(18,"mytranslate"),r.k0s()()()),2&X&&(r.R7$(5),r.SpI(" ",r.bMT(6,6,"lang_student_utils_delete_student_first"),"\xa0 "),r.R7$(3),r.JRh(null==z.studentObj?null:z.studentObj.fullName),r.R7$(1),r.Y8G("ngIf",null==z.classroomObj?null:z.classroomObj.name),r.R7$(4),r.SpI(" ",r.bMT(14,8,"lang_cms_common_close_btn")," "),r.R7$(3),r.Y8G("ngIf",z.statusObj.loading),r.R7$(1),r.SpI(" ",r.bMT(18,10,"lang_cms_common_confirm_btn")," "))},dependencies:[j.bT,R.U,U.R,f.wp],encapsulation:2})}return w})()},46723:(ot,L,l)=>{l.d(L,{B:()=>et});var o=l(81519),s=l(10936),r=l(47426),k=l(89163),j=l(74960),R=l(99503),U=l(79347),f=l(33887),u=l(9691),Y=l(44477),$=l(42947),w=l(43234),h=(l(9280),l(26860)),X=l(31216),z=l(54460),H=l(2915),rt=l(52811),lt=l(96112),A=l(73437);function it(S,F){if(1&S&&(h.j41(0,"div",10)(1,"span"),h.EFF(2),h.nI1(3,"mytranslate"),h.k0s()()),2&S){const y=h.XpG();h.R7$(2),h.SpI("",h.bMT(3,1,y.msgError),"!")}}function J(S,F){1&S&&h.nrm(0,"azt-loading-ui",11)}let et=(()=>{class S extends f._{confirmAction(){let y=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.studentForm.form.valid){let b={id:this.studentObj?.id??0,fullName:y.fullName,phone:y.phoneNumber,email:y.email,identificationNumber:y.identificationNumber?Number(y.identificationNumber):void 0,gender:Number(y.gender),birthday:y.birthday,classroomId:this.classroomObj?.id??0,facebookLink:y.facebookLink,schoolName:y.school};this.waitDestroy(this.studentService.apiStudentUpdateObjPost(b).subscribe(O=>{1==O.success?(this.btnCloseDialog(!0),this.successStatusObj("lang_cms_utils_update_folder_success",!0)):(this.msgError=O.message??"",this.stopStatusObj())}))}}btnCloseDialog(y){this.dialogRef.close(y)}ngOnInit(){super.ngOnInit()}constructor(y,b,O){super(O,b),this.studentService=y,this.dialogRef=b,this.data=O,this.msgError="",this.maxDate=w.c.maxDateTimePicker,this.studentForm=new $.d,this.studentObj=O.studentObj,this.classroomObj=O.classroomObj,this.studentForm.form=new s.gE({fullName:new s.MJ(this.studentObj?.fullName??"",{nonNullable:!0,validators:[s.k0.required]}),gender:new s.MJ(this.studentObj?.gender,{nonNullable:!0}),birthday:new s.MJ(this.studentObj?.birthday,{nonNullable:!0}),email:new s.MJ(this.studentObj?.email??"",{nonNullable:!0,validators:[Y.U.isInvalidEmail,s.k0.email,s.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new s.MJ(this.studentObj?.phone??"",{nonNullable:!0,validators:[s.k0.required,s.k0.pattern(/^[0-9\-]*$/),s.k0.minLength(10),s.k0.maxLength(10)]}),identificationNumber:new s.MJ(this.commonService.padLeadingZeros(this.studentObj?.identificationNumber??void 0,6),{nonNullable:!0,validators:[s.k0.min(1),s.k0.maxLength(6),s.k0.pattern("^[0-9]*$")]}),facebookLink:new s.MJ(this.studentObj?.moreInfo?.facebookLink,{nonNullable:!0}),school:new s.MJ(this.studentObj?.moreInfo?.schoolName,{nonNullable:!0})})}static#t=this.\u0275fac=function(b){return new(b||S)(h.rXU(X.b0),h.rXU(k.CP,8),h.rXU(k.Vh,8))};static#e=this.\u0275cmp=h.VBU({type:S,selectors:[["app-edit-student"]],features:[h.Jv_([{provide:o.$O,useClass:R.fb,deps:[r.Ju,R.ij]},{provide:o.vq,useFactory:U.fJ,deps:[u.F]},{provide:j.U$,useValue:{floatLabel:"never"}}]),h.Vt3],decls:17,vars:13,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"studentForm"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","edit_student-jfiMakvRbsA",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","edit_student-Q_oCb2JwMVm",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"mr-1"]],template:function(b,O){1&b&&(h.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),h.EFF(5),h.nI1(6,"mytranslate"),h.k0s(),h.nrm(7,"azt-form-enter-info-student",4),h.DNE(8,it,4,3,"div",5),h.k0s()()(),h.j41(9,"div",6)(10,"button",7),h.bIt("click",function(){return O.btnCloseDialog(!1)}),h.EFF(11),h.nI1(12,"mytranslate"),h.k0s(),h.j41(13,"button",8),h.bIt("click",function(){return O.confirmAction()}),h.DNE(14,J,1,0,"azt-loading-ui",9),h.EFF(15),h.nI1(16,"mytranslate"),h.k0s()()()),2&b&&(h.R7$(5),h.SpI(" ",h.bMT(6,7,"lang_student_utils_edit_student")," "),h.R7$(2),h.Y8G("studentForm",O.studentForm),h.R7$(1),h.Y8G("ngIf",""!==O.msgError),h.R7$(3),h.SpI(" ",h.bMT(12,9,"lang_cms_common_close_btn")," "),h.R7$(2),h.Y8G("disabled",O.statusObj.loading||O.studentForm.form.invalid),h.R7$(1),h.Y8G("ngIf",O.statusObj.loading),h.R7$(1),h.SpI(" ",h.bMT(16,11,"lang_button_update")," "))},dependencies:[z.bT,H.U,rt.R,lt.s,A.wp],encapsulation:2})}return S})()},26988:(ot,L,l)=>{l.d(L,{h:()=>s});var o=l(26860);let s=(()=>{class r{constructor(){this.itemPerPage=20,this.curPage=1,this.hasNextPage=!1,this.isLoadingNextPage=!1,this.totalRecord=0}setTotalItemPerPage(j){this.itemPerPage=j}setLoading(j){this.isLoadingNextPage=j}setNextPage(){this.curPage+=1}resetToFirstPage(){this.curPage=1}setTotalRecord(j){return this.totalRecord=j,this.hasNextPage=this.curPage*this.itemPerPage<this.totalRecord,this.hasNextPage}static#t=this.\u0275fac=function(R){return new(R||r)};static#e=this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:null})}return r})()},45344:(ot,L,l)=>{l.d(L,{u:()=>S});var o=l(81519),s=l(26860),r=l(34514),k=l(47426),j=l(60902),R=l(99503),U=l(79347),f=l(9691),u=l(59640),Y=l(42947),$=l(46899),w=l(95412),c=l(54460),h=l(12992),X=l(74960),z=l(4375),H=l(10936),rt=l(52811),lt=l(73437);function A(F,y){1&F&&(s.j41(0,"div",7),s.nrm(1,"azt-loading-ui"),s.k0s())}function it(F,y){if(1&F){const b=s.RV6();s.j41(0,"div",11)(1,"mat-checkbox",12),s.bIt("ngModelChange",function(T){s.eBV(b);const Z=s.XpG().$implicit;return s.Njj(Z.selected=T)}),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s()()}if(2&F){const b=s.XpG().$implicit;s.R7$(1),s.Y8G("ngModel",b.selected)("checked",b.selected),s.R7$(1),s.SpI(" ",s.bMT(3,3,"lang_core_thang")+" "+b.month+"/"+b.year," ")}}function J(F,y){if(1&F&&(s.qex(0),s.DNE(1,it,4,5,"div",10),s.bVm()),2&F){const b=y.$implicit,O=s.XpG(2);s.R7$(1),s.Y8G("ngIf",b.year==O.currentYearSelect)}}function et(F,y){if(1&F&&(s.j41(0,"div",8),s.DNE(1,J,2,1,"ng-container",9),s.k0s()),2&F){const b=s.XpG();s.R7$(1),s.Y8G("ngForOf",b.checkboxMonth.checkboxMonth)}}let S=(()=>{class F extends u.H{isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(b=>1==b.selected)}getHistoresMonth(){this.histories||(this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.checkboxMonth.studentId).subscribe({next:b=>{this.checkboxMonth.checkboxMonth.map(O=>O.selected=null!=b.histories.find(T=>T.month==O.month&&O.year==T.year)),this.stopStatusObj()},error:b=>{this.isSaving=!1,this.errorStatusObj(b.error.message,!0)}})))}ngOnInit(){super.ngOnInit(),this.getHistoresMonth()}constructor(b,O,T){super(),this.sAztDialogService=b,this.sAztTimeService=O,this.paymentService=T,this.checkboxMonth=new j.L,this.sendListMonth=new s.bkB,this.studentForm=new Y.d,this.isSaving=!1,this.classroomOwner=[],this.currentDate=new Date,this.currentYearSelect=this.currentDate.getFullYear()}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(O){return new(O||F)(s.rXU($.i),s.rXU(f.F),s.rXU(w.W))};static#e=this.\u0275cmp=s.VBU({type:F,selectors:[["azt-checkbox-month"]],inputs:{checkboxMonth:"checkboxMonth",histories:"histories"},outputs:{sendListMonth:"sendListMonth"},features:[s.Jv_([{provide:o.$O,useClass:R.fb,deps:[k.Ju,r.ij]},{provide:o.vq,useFactory:U.fJ,deps:[f.F]}]),s.Vt3],decls:19,vars:18,consts:[[1,"w-full"],[1,"text-md","font-medium","flex","items-center",2,"justify-content","space-between"],["appearance","outline",1,"mb-2",2,"width","50%"],[3,"value","valueChange"],[3,"value"],["class","p-5 flex justify-center",4,"ngIf"],["class","mt-1 grid grid-cols-12 gap-3","style","flex-wrap: wrap",4,"ngIf"],[1,"p-5","flex","justify-center"],[1,"mt-1","grid","grid-cols-12","gap-3",2,"flex-wrap","wrap"],[4,"ngFor","ngForOf"],["class","mt-1 col-span-6 md:col-span-4","style","min-width: 96px",4,"ngIf"],[1,"mt-1","col-span-6","md:col-span-4",2,"min-width","96px"],[1,"example-margin",3,"ngModel","checked","ngModelChange"]],template:function(O,T){1&O&&(s.j41(0,"div",0)(1,"h3",1),s.EFF(2),s.nI1(3,"mytranslate"),s.nI1(4,"mytranslate"),s.nI1(5,"mytranslate"),s.j41(6,"mat-form-field",2)(7,"mat-select",3),s.bIt("valueChange",function(V){return T.currentYearSelect=V}),s.j41(8,"mat-option",4)(9,"span"),s.EFF(10),s.k0s()(),s.j41(11,"mat-option",4)(12,"span"),s.EFF(13),s.k0s()(),s.j41(14,"mat-option",4)(15,"span"),s.EFF(16),s.k0s()()()()(),s.DNE(17,A,2,0,"div",5),s.DNE(18,et,2,1,"div",6),s.k0s()),2&O&&(s.R7$(2),s.E5c(" ",s.bMT(3,12,"lang_test_market_withdraw_time")," ",s.bMT(4,14,"lang_core_nop_hoc_phi").toLocaleLowerCase()," ",s.bMT(5,16,"lang_core_nam").toLocaleLowerCase()," "),s.R7$(5),s.Y8G("value",T.currentYearSelect),s.R7$(1),s.Y8G("value",T.currentDate.getFullYear()-1),s.R7$(2),s.SpI(" ",T.currentDate.getFullYear()-1," "),s.R7$(1),s.Y8G("value",T.currentDate.getFullYear()),s.R7$(2),s.SpI(" ",T.currentDate.getFullYear()," "),s.R7$(1),s.Y8G("value",T.currentDate.getFullYear()+1),s.R7$(2),s.SpI(" ",T.currentDate.getFullYear()+1," "),s.R7$(1),s.Y8G("ngIf",T.statusObj.loading),s.R7$(1),s.Y8G("ngIf",!T.statusObj.loading))},dependencies:[c.Sq,c.bT,k.wT,h.So,X.rl,z.VO,H.BC,H.vS,rt.R,lt.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.lucide-x[_ngcontent-%COMP%]{stroke-width:4.5px;color:gray}.box-infrastructure[_ngcontent-%COMP%]{background:#f0f8ff;border-radius:5px;padding:2px 10px;display:flex;align-items:center;justify-content:space-between}.box-infrastructure[_ngcontent-%COMP%]   .money[_ngcontent-%COMP%]{color:gray;font-size:14px;line-height:14px}.btn-remove-class[_ngcontent-%COMP%]:hover{width:18px;height:18px}.selected[_ngcontent-%COMP%]{background:#c2e2ff!important}.form-single-class[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px}.example-margin[_ngcontent-%COMP%]{color:#696969}  .mdc-checkbox{transform:scale(.8)!important}.btn-delete-room[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background:#d3d3d3;border-radius:5px;padding:2px}.btn-add-class[_ngcontent-%COMP%]{font-size:14px;color:#3c8dbc}@media (max-width: 1110px){.form-tuitions[_ngcontent-%COMP%]{display:grid!important}.payment-box[_ngcontent-%COMP%]{margin-left:0!important;margin-top:15px}}@media (max-width: 440px){.payment-box[_ngcontent-%COMP%]{display:grid!important}}.box-amount[_ngcontent-%COMP%]{background:#ffffffe3;padding:4px 8px;border-radius:5px}.box-history[_ngcontent-%COMP%]{background-color:#f2f2f2;border:none;border-radius:5px;padding:3px}"]})}return F})()},11002:(ot,L,l)=>{l.d(L,{$:()=>k});var o=l(59640),s=l(26860);const r=["*"];let k=(()=>{class j extends o.H{constructor(){super(...arguments),this.colorBackground="",this.fixToTopWidth=0,this.fixToTopTop=0}onWindowScroll(){let U=document.querySelector(".azt-content"),f=document.getElementById("flexed-on-top"),u=document.getElementById("position-dev")?.getBoundingClientRect();if(!U||!f||!u)return;let Y=window.pageYOffset,$=u.top,w=$<-50;if(this.fixToTopWidth=u.width,this.fixToTopTop=u.top,w){f.style.position="fixed",f.style.zIndex="9999",f.style.height="45px",f.style.right="12px",f.style.background=this.colorBackground,f.style.justifyContent="end";let c=U.getBoundingClientRect().width;this.isMobileDevice?(f.style.top="62px",f.style.padding="6px 15px",f.style.width=(c+32).toString()+"px"):(f.style.top="0",f.style.padding="6px 22px",f.style.width=(c+44).toString()+"px")}else(0==Y||0==$)&&(f.style.position="",f.style.top="",f.style.right="",f.style.zIndex="",f.style.height="",f.style.padding="",f.style.background="",f.style.width="",f.style.justifyContent="")}static#t=this.\u0275fac=function(){let U;return function(u){return(U||(U=s.xGo(j)))(u||j)}}();static#e=this.\u0275cmp=s.VBU({type:j,selectors:[["flexed-on-the-top"]],hostBindings:function(f,u){1&f&&s.bIt("scroll",function($){return u.onWindowScroll($)},!1,s.tSv)},inputs:{colorBackground:"colorBackground"},features:[s.Vt3],ngContentSelectors:r,decls:3,vars:0,consts:[["id","position-dev"],["id","flexed-on-top",1,"flex","flexed-on-top"]],template:function(f,u){1&f&&(s.NAR(),s.nrm(0,"div",0),s.j41(1,"div",1),s.SdG(2),s.k0s())},encapsulation:2})}return j})()},75421:(ot,L,l)=>{l.d(L,{u:()=>j});var o=l(89163),s=l(33887),r=l(26860),k=l(73437);let j=(()=>{class R extends s._{btnCloseDialog(){this.dialogRef.close(!1)}confirmDialog(){this.dialogRef.close(!0)}constructor(f,u){super(u,f),this.dialogRef=f,this.data=u}static#t=this.\u0275fac=function(u){return new(u||R)(r.rXU(o.CP,8),r.rXU(o.Vh,8))};static#e=this.\u0275cmp=r.VBU({type:R,selectors:[["azt-dialog-danger"]],features:[r.Vt3],decls:12,vars:7,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","flex"],[1,"text-md",3,"innerHtml"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-danger",3,"click"]],template:function(u,Y){1&u&&(r.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),r.nrm(4,"span",4),r.k0s()()(),r.j41(5,"div",5)(6,"button",6),r.bIt("click",function(){return Y.btnCloseDialog()}),r.EFF(7),r.nI1(8,"mytranslate"),r.k0s(),r.j41(9,"button",7),r.bIt("click",function(){return Y.confirmDialog()}),r.EFF(10),r.nI1(11,"mytranslate"),r.k0s()()()),2&u&&(r.R7$(4),r.Y8G("innerHtml",Y.data.content,r.npT),r.R7$(3),r.SpI(" ",r.bMT(8,3,"lang_auto_huy")," "),r.R7$(3),r.SpI(" ",r.bMT(11,5,"lang_auto_xac_nhan")," "))},dependencies:[k.wp],encapsulation:2})}return R})()},93518:(ot,L,l)=>{l.d(L,{k:()=>o});var o=function(s){return s.video="video",s.document="document",s.homework="homework",s.homework_view="homework_view",s.unknown="unknown",s}(o||{})},96112:(ot,L,l)=>{l.d(L,{s:()=>y});var o=l(59640),s=l(43234),r=l(26860),k=l(54460),j=l(39471),R=l(97839),U=l(74960),f=l(81519),u=l(10936),Y=l(15343),$=l(7919),w=l(81587),c=l(73437);function h(b,O){1&b&&(r.j41(0,"div",22),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.SpI(" ",r.bMT(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function X(b,O){1&b&&(r.j41(0,"span"),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.SpI(" ",r.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_lon_hon_0")," "))}function z(b,O){1&b&&(r.j41(0,"span"),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.SpI(" ",r.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_khong_qua_6_chu_so")," "))}function H(b,O){if(1&b&&(r.j41(0,"div",25),r.DNE(1,X,3,3,"span",26),r.DNE(2,z,3,3,"span",26),r.k0s()),2&b){const T=r.XpG(2);r.R7$(1),r.Y8G("ngIf",T.studentForm.form.controls.identificationNumber.errors.min),r.R7$(1),r.Y8G("ngIf",T.studentForm.form.controls.identificationNumber.errors.maxlength||T.studentForm.form.controls.identificationNumber.errors.pattern)}}function rt(b,O){if(1&b&&(r.j41(0,"div",1),r.nrm(1,"input",23),r.nI1(2,"mytranslate"),r.DNE(3,H,3,2,"div",24),r.k0s()),2&b){const T=r.XpG();r.R7$(1),r.FS9("placeholder",r.bMT(2,2,"lang_auto_so_bao_danh")),r.R7$(2),r.Y8G("ngIf",T.studentForm.form.controls.identificationNumber.errors&&(T.studentForm.form.controls.identificationNumber.dirty||T.studentForm.form.controls.identificationNumber.touched))}}function lt(b,O){1&b&&(r.j41(0,"div",22),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.SpI(" ",r.bMT(2,1,"lang_auto_vui_long_nhap_ngay_sinh")," "))}function A(b,O){1&b&&(r.j41(0,"div",22),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.SpI(" ",r.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function it(b,O){1&b&&(r.j41(0,"div",22),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.SpI(" ",r.bMT(2,1,"lang_core_invalid_email")," "))}function J(b,O){1&b&&(r.j41(0,"div",22),r.EFF(1),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.SpI(" ",r.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function et(b,O){if(1&b){const T=r.RV6();r.j41(0,"div",1)(1,"div",27),r.nrm(2,"input",28),r.nI1(3,"mytranslate"),r.j41(4,"button",29),r.bIt("click",function(){r.eBV(T);const V=r.XpG();return r.Njj(V.togglePassword())}),r.j41(5,"span",30),r.nrm(6,"lucide-icon",31),r.k0s()()(),r.DNE(7,J,3,3,"div",3),r.k0s()}if(2&b){const T=r.XpG();r.R7$(2),r.FS9("placeholder",r.bMT(3,4,"lang_auto_mat_khau")),r.Y8G("type",T.showPassword?"text":"password"),r.R7$(4),r.FS9("name",T.showPassword?"eye":"eye-off"),r.R7$(1),r.Y8G("ngIf",T.studentForm.form.controls.password.errors)}}function S(b,O){1&b&&(r.j41(0,"div",1),r.nrm(1,"input",32),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.FS9("placeholder",r.bMT(2,1,"lang_wsuper_admin_add_school_enter_school")))}function F(b,O){1&b&&(r.j41(0,"div",1),r.nrm(1,"input",33),r.nI1(2,"mytranslate"),r.k0s()),2&b&&(r.R7$(1),r.FS9("placeholder",r.bMT(2,1,"lang_core_nhap_link_facebook")))}let y=(()=>{class b extends o.H{togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){super.ngOnInit(),this.studentForm.removeValidatePhoneWhenNotBusiness(this.isBusinessDomain)}constructor(){super(),this.hasUser=!1,this.isAddParent=!1,this.showPassword=!1,this.maxDate=s.c.maxDateTimePicker,this.startAtTime=new Date("01/01/2006")}static#t=this.\u0275fac=function(Z){return new(Z||b)};static#e=this.\u0275cmp=r.VBU({type:b,selectors:[["azt-form-enter-info-student"]],inputs:{studentForm:"studentForm",hasUser:"hasUser",isAddParent:"isAddParent"},features:[r.Vt3],decls:45,vars:37,consts:[[3,"formGroup"],[1,"mt-3"],["id","fullname","formControlName","fullName","autocomplete","new-name","type","text",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"flex","justify-between","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],["for","gender",1,"text-sm"],[1,"flex","justify-end"],[1,"form-check","w-20","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio",1,"form-check-input",3,"value"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender",1,"form-check-input",3,"value"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"azt-time-picker"],["azt-track-service","add_student-OL_xz2BQlY","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","add_student-6m5M85CG5t","matSuffix","",3,"click"],["name","calendar-days","size","16"],[3,"touchUi","hideTime","startAt"],["birthDay",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["id","numberphone","formControlName","phoneNumber","autocomplete","new-phone","type","text",1,"form-control",3,"placeholder"],["id","email","formControlName","email","type","text","autocomplete","new-email",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","appOnlyNumber","","formControlName","identificationNumber",1,"form-control",3,"placeholder"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[4,"ngIf"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-forn-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"w-4","h-4","inline-block"],["size","24",3,"name"],["id","school","formControlName","school","type","text",1,"form-control",3,"placeholder"],["id","facebookLink","formControlName","facebookLink","autocomplete","new-facebook-link","type","text",1,"form-control",3,"placeholder"]],template:function(Z,V){if(1&Z){const dt=r.RV6();r.j41(0,"form",0)(1,"div",1),r.nrm(2,"input",2),r.nI1(3,"mytranslate"),r.DNE(4,h,3,3,"div",3),r.k0s(),r.DNE(5,rt,4,4,"div",4),r.j41(6,"div",1)(7,"div",5)(8,"label",6),r.EFF(9),r.nI1(10,"mytranslate"),r.k0s(),r.j41(11,"div",7)(12,"div",8),r.nrm(13,"input",9),r.j41(14,"label",10),r.EFF(15),r.nI1(16,"mytranslate"),r.k0s()(),r.j41(17,"div",8),r.nrm(18,"input",11),r.j41(19,"label",12),r.EFF(20),r.nI1(21,"mytranslate"),r.k0s()()()()(),r.j41(22,"div",1)(23,"mat-form-field",13)(24,"input",14),r.bIt("click",function(){r.eBV(dt);const ut=r.sdS(29);return r.Njj(ut.open())}),r.nI1(25,"mytranslate"),r.k0s(),r.j41(26,"button",15),r.bIt("click",function(ut){return r.eBV(dt),r.sdS(29).open(),r.Njj(ut.stopPropagation())}),r.nrm(27,"lucide-icon",16),r.k0s(),r.j41(28,"ngx-mat-datetime-picker",17,18)(30,"ngx-mat-datepicker-actions")(31,"button",19),r.EFF(32,"OK"),r.k0s()()()(),r.DNE(33,lt,3,3,"div",3),r.k0s(),r.j41(34,"div",1),r.nrm(35,"input",20),r.nI1(36,"mytranslate"),r.DNE(37,A,3,3,"div",3),r.k0s(),r.j41(38,"div",1),r.nrm(39,"input",21),r.nI1(40,"mytranslate"),r.DNE(41,it,3,3,"div",3),r.k0s(),r.DNE(42,et,8,6,"div",4),r.DNE(43,S,3,3,"div",4),r.DNE(44,F,3,3,"div",4),r.k0s()}if(2&Z){const dt=r.sdS(29);r.Y8G("formGroup",V.studentForm.form),r.R7$(2),r.FS9("placeholder",r.bMT(3,23,"lang_auto_nhap_ho_va_ten")),r.R7$(2),r.Y8G("ngIf",V.studentForm.form.controls.fullName.errors),r.R7$(1),r.Y8G("ngIf",V.studentForm.form.controls.identificationNumber&&!V.isAddParent),r.R7$(4),r.SpI(" ",r.bMT(10,25,"lang_auto_gioi_tinh")," "),r.R7$(4),r.Y8G("value",1),r.R7$(2),r.SpI(" ",r.bMT(16,27,"lang_auto_nam")," "),r.R7$(3),r.Y8G("value",0),r.R7$(2),r.SpI(" ",r.bMT(21,29,"lang_auto_nu")," "),r.R7$(4),r.FS9("placeholder",r.bMT(25,31,"lang_auto_ngay_sinh")),r.Y8G("max",V.maxDate)("ngxMatDatetimePicker",dt),r.R7$(4),r.Y8G("touchUi",!0)("hideTime",!0)("startAt",V.startAtTime),r.R7$(5),r.Y8G("ngIf",null==V.studentForm.form.controls.birthday?null:V.studentForm.form.controls.birthday.errors),r.R7$(2),r.FS9("placeholder",r.bMT(36,33,"lang_number_phone")),r.R7$(2),r.Y8G("ngIf",V.studentForm.form.controls.phoneNumber.errors),r.R7$(2),r.FS9("placeholder",r.bMT(40,35,"lang_auto_nhap_email")),r.R7$(2),r.Y8G("ngIf",V.studentForm.form.controls.email.errors),r.R7$(1),r.Y8G("ngIf",V.studentForm.form.controls.password&&!V.hasUser&&V.isBusinessDomain),r.R7$(1),r.Y8G("ngIf",V.isBusinessDomain&&!V.isAddParent),r.R7$(1),r.Y8G("ngIf",V.isBusinessDomain&&!V.isAddParent)}},dependencies:[k.bT,j.$z,R.fg,U.rl,U.yw,f.m7,f.yF,f.HF,f.Uq,u.qT,u.me,u.Fm,u.BC,u.cb,u.j4,u.JD,Y.WGl,$.Z,w.t,c.wp],encapsulation:2})}return b})()},42947:(ot,L,l)=>{l.d(L,{d:()=>r});var o=l(10936);class s{static isInvalidPassword(j){let U=j.value?.trim()??"";return U&&U.length<6?{isInvalidPassword:!0}:null}}class r{constructor(){this.form=new o.gE({fullName:new o.MJ("",{nonNullable:!0,validators:[o.k0.required]}),gender:new o.MJ(0,{nonNullable:!0}),birthday:new o.MJ(void 0,{nonNullable:!0}),email:new o.MJ("",{nonNullable:!0,validators:[o.k0.email,o.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new o.MJ("",{nonNullable:!0,validators:[o.k0.required,o.k0.pattern(/^[0-9\-]*$/),o.k0.minLength(10),o.k0.maxLength(10)]}),identificationNumber:new o.MJ("",{nonNullable:!0,validators:[o.k0.min(1),o.k0.maxLength(6),o.k0.pattern("^[0-9]*$")]}),password:new o.MJ("",{nonNullable:!0,validators:[s.isInvalidPassword]}),facebookLink:new o.MJ("",{nonNullable:!0}),school:new o.MJ("",{nonNullable:!0})})}removeValidatePhoneWhenNotBusiness(j){j||this.form.controls.phoneNumber.removeValidators(o.k0.required)}}},20013:(ot,L,l)=>{l.d(L,{T:()=>f});var o=l(26860),s=l(9516),r=l(54460),k=l(52811);function j(u,Y){1&u&&o.SdG(0,0,["*ngIf","!isUploadFile"])}function R(u,Y){1&u&&(o.j41(0,"span",5),o.nrm(1,"azt-loading-ui"),o.k0s())}const U=["*"];let f=(()=>{class u extends s.L{constructor(){super(...arguments),this.uploadComplete=new o.bkB}emitUploadComplete($){$.length>0&&this.uploadComplete.emit($[0])}static#t=this.\u0275fac=function(){let $;return function(c){return($||($=o.xGo(u)))(c||u)}}();static#e=this.\u0275cmp=o.VBU({type:u,selectors:[["azt-upload-single-box"]],outputs:{uploadComplete:"uploadComplete"},features:[o.Vt3],ngContentSelectors:U,decls:6,vars:3,consts:[[1,"flex","items-center","justify-center","h-full",3,"click"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"accept","change","cancel"],["formChoseFile",""],[4,"ngIf"],["class","w-4 h-4 inline-block",4,"ngIf"],[1,"w-4","h-4","inline-block"]],template:function(w,c){if(1&w){const h=o.RV6();o.NAR(),o.j41(0,"div",0),o.bIt("click",function(){o.eBV(h);const z=o.sdS(2);return o.Njj(c.onOpenFileDictionary()&&z.click())}),o.j41(1,"input",1,2),o.bIt("change",function(z){return c.onFileSelected(z)})("cancel",function(z){return c.onCancelSelect(z)}),o.k0s(),o.DNE(3,j,1,0,"ng-content",3),o.j41(4,"div"),o.DNE(5,R,2,0,"span",4),o.k0s()()}2&w&&(o.R7$(1),o.FS9("accept",c.fileType),o.R7$(2),o.Y8G("ngIf",!c.isUploadFile),o.R7$(2),o.Y8G("ngIf",c.isUploadFile))},dependencies:[r.bT,k.R],encapsulation:2})}return u})()}}]);