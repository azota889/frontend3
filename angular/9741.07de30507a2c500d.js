"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[9741],{99974:(Y,z,l)=>{l.d(z,{Q:()=>e});class e{constructor(O,_,W,A,C,R,L,S=1,w=!1,y=!1,T,M,x,E){this.id=O,this.pr=_,this.type=W,this.shareType=A,this.item=C,this.examHashId=R,this.examCategoryId=L,this.level=S,this.expandable=w,this.isLoading=y,this.prNode=T,this.isLeaf=M,this.childrenNode=x,this.questions=E}}},54220:(Y,z,l)=>{l.d(z,{f:()=>Ee});var e=l(48891),t=l(10936),O=l(51698),_=l(25234),W=l(85747),A=l(59640),C=l(15766),R=l(9280),L=l(65162),S=l(61937),w=l(27691),y=l(5382),T=l(64198),M=l(53793),x=l(41426);let E=(()=>{var a;class u{constructor(o,s){this.commonService=o,this.apiUploadService=s,this.sizeDefaultCanvas=1100,this.actionRunAfterConvert=[],this.imageMaps=[],this.pattern_base64=/data:image[^"'\\]+/i,this.pattern_image=/<img[^>]+data:image[^>]+>/g,this.taskConvertBase64ToCanvas=new y.n(50,{function:(n,i)=>{this.callbackBase64ToCanvas&&this.callbackBase64ToCanvas(n,i)}}),this.taskUploadImage=new y.n(10,{function:(n,i)=>{this.callbackUploadImage&&this.callbackUploadImage(n,i)}})}convertQuestions(o,s,n){return new Promise(i=>{this.reset(),o.forEach(c=>{const h=this.commonService.willDeleteParseJson(c.answerConfig||"[]");c.questionContent?.includes("<img ")&&this.replaceImageCdnInContent(c,"questionContent"),c.questionText?.includes("<img ")&&this.replaceImageCdnInContent(c,"questionText"),c.answerMedia?.includes("<img ")&&this.replaceImageCdnInContent(c,"answerMedia"),c.mediaMeta?.includes("<img ")&&this.replaceImageCdnInContent(c,"mediaMeta"),h.forEach(d=>{d.content.includes("<img ")&&this.replaceImageCdnInContent(d,"content")}),this.actionRunAfterConvert.push(()=>{c.answerConfig=JSON.stringify(h)})}),this.imageMaps.forEach(c=>{this.taskConvertBase64ToCanvas.addTask(this,this.startConvertCanvas,[c])}),this.taskConvertBase64ToCanvas.start().then(c=>{if(c.errs.length>0)n(c.errs,void 0);else{let d=0;const m=[],P=()=>{const g=document.createElement("canvas");g.width=this.sizeDefaultCanvas,g.height=this.sizeDefaultCanvas;const $=g.getContext("2d");$&&($.fillStyle="white",$.fillRect(0,0,this.sizeDefaultCanvas,this.sizeDefaultCanvas)),m.push({cdn:"",cX:0,cY:0,canvas:g,imgs:[]})};P(),c.datas.forEach((g,$)=>{var p=m[m.length-1];p.cX+g.canvas.width+4>this.sizeDefaultCanvas?(p.cX=4,p.cY+=d+4,d=0):p.cX+=4,p.cY+g.canvas.height>this.sizeDefaultCanvas&&(P(),p=m[m.length-1]);var N=p.canvas.getContext("2d");p.imgs.push({x:p.cX,y:p.cY,width:g.canvas.width,height:g.canvas.height,index:$}),N?.drawImage(g.canvas,0,0,g.canvas.width,g.canvas.height,p.cX,p.cY,g.canvas.width,g.canvas.height),p.cX+=g.canvas.width,d=d<g.canvas.height?g.canvas.height:d}),m[0].imgs.length>0&&m.forEach(g=>{this.taskUploadImage.addTask(this,this.startUploadFile,[g])}),this.taskUploadImage.start().then(g=>{if(g.errs.length>0)n(c.errs,void 0);else{let $=!0;g.datas.forEach(p=>{p.imgs.forEach(N=>{const b=c.datas[N.index];if(b){const Q={link:p.cdn,data:{x:N.x,y:N.y,width:N.width,height:N.height}};b.objs.forEach(j=>{if(j[b.path])if(this.commonService.isJson(j[b.path])){const B=this.commonService.willDeleteParseJson(j[b.path]);Object.prototype.hasOwnProperty.call(B,"renderedStr")?(B.renderedStr=B.renderedStr.replace(b.base,`@[]${JSON.stringify(Q)}@[]`),j[b.path]=JSON.stringify(B)):j[b.path]=j[b.path].replace(b.base,`@[]${JSON.stringify(Q)}@[]`)}else j[b.path]=j[b.path].replace(b.base,`@[]${JSON.stringify(Q)}@[]`);else $=!1})}})}),$?(this.actionRunAfterConvert.forEach(p=>{p()}),o.forEach((p,N)=>{let b=this.commonService.willDeleteParseJson(p.mediaMeta||"{}"),Q=s[N];const j={id:0,name:p.name,extension:"text",content:p.questionContent,groupContent:b.renderedStr,metaData:{isFixAns:Number(p.isFixAns),forcedFixAns:!1,groupType:p.groupType?Number(p.groupType):void 0}};Q&&(j.vMetaEditor=Q.meta),p.questionContent=JSON.stringify([j])}),i()):n(c.errs,void 0,!0)}})}})})}reset(){this.imageMaps=[],this.actionRunAfterConvert=[]}replaceImageCdnInContent(o,s){var n=o[s];if(this.commonService.isJson(o[s])){const h=this.commonService.willDeleteParseJson(o[s]);Object.prototype.hasOwnProperty.call(h,"renderedStr")&&(n=h.renderedStr)}let i=n.matchAll(this.pattern_image);for(;;){let h=i.next();if(h.done)break;let d=h.value[0];var c=this.imageMaps.findIndex(m=>m.base===d&&m.path===s);-1===c?this.imageMaps.push({base:d,cdn:"",data:null,objs:[o],path:s,canvas:document.createElement("canvas")}):this.imageMaps[c].objs.push(o)}}startConvertCanvas(o){return new Promise((s,n)=>{const i=new Image;i.crossOrigin="anonymous",i.onload=()=>{let h=1;if(i.width>this.sizeDefaultCanvas&&(h=this.sizeDefaultCanvas/i.width),i.height>this.sizeDefaultCanvas){let m=this.sizeDefaultCanvas/i.height;m<h&&(h=m)}o.canvas.width=i.width*h,o.canvas.height=i.height*h,o.canvas.getContext("2d")?.drawImage(i,0,0,i.width,i.height,0,0,o.canvas.width,o.canvas.height),s(o)},i.onerror=()=>{o.canvas.width=1,o.canvas.height=1;const h=o.canvas.getContext("2d");h&&(h.fillStyle="white",h.fillRect(0,0,1,1)),s(o)};let c=this.pattern_base64.exec(o.base);null!=c?i.src=c[0]:n(new Error("l\u1ed7i regex"))})}startUploadFile(o){return new Promise((s,n)=>{const i=this.dataURLtoFile(o.canvas.toDataURL("image/png",1));(0,T.w4)(i).then(c=>{this.apiUploadService.uploadToCdnProgressForExamQuestionContent(c).subscribe(h=>{h.type!=w.hv.UploadProgress&&(1==h.success&&h.data?s({...o,cdn:h.data.url||""}):n(new Error(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",h.message??"none"))))})})})}dataURLtoFile(o){let s=this.getFileName(o);for(var n=o.split(","),i=n[0].match(/:(.*?);/),c=atob(n[1]),h=c.length,d=new Uint8Array(h);h--;)d[h]=c.charCodeAt(h);return new File([d],s,{type:i&&i.length>0?i[1]:"png"})}getFileName(o){var s=o.split("").reverse().join(""),n=s.indexOf(";"),i=s.indexOf("/",n);return s.substring(n,i).split("").reverse().join("")}}return(a=u).\u0275fac=function(o){return new(o||a)(e.KVO(M.R),e.KVO(x.T))},a.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),u})();var K=l(60531),f=l(77260),D=l(50589),v=l(84828),k=l(54460),I=l(18718),F=l(81587),U=l(52811),H=l(6989),Z=l(1349),q=l(50282),G=l(30683),ee=l(9691),te=l(39471),oe=l(15343),se=l(7919),J=l(76975);const ne=a=>({"font-medium":a});function ae(a,u){1&a&&(e.j41(0,"div",38)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function ie(a,u){1&a&&(e.j41(0,"div",38)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_so_dien_thoai")))}function re(a,u){1&a&&(e.j41(0,"div",38)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_student_utils_reques_phone_ten_number")))}function le(a,u){1&a&&(e.j41(0,"div",38)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_document_please_enter_the_author_workplace")))}function ce(a,u){if(1&a&&(e.j41(0,"div",14)(1,"div",30)(2,"div",31),e.nrm(3,"input",32),e.nI1(4,"mytranslate"),e.DNE(5,ae,4,3,"div",33),e.k0s(),e.j41(6,"div",34),e.nrm(7,"input",35),e.nI1(8,"mytranslate"),e.DNE(9,ie,4,3,"div",33)(10,re,4,3,"div",33),e.k0s(),e.j41(11,"div",36),e.nrm(12,"input",37),e.nI1(13,"mytranslate"),e.DNE(14,le,4,3,"div",33),e.k0s()()()),2&a){const r=e.XpG();e.R7$(3),e.FS9("placeholder",e.bMT(4,7,"lang_auto_nhap_ho_va_ten")),e.R7$(2),e.Y8G("ngIf","0"==r.form.controls.creatorId.value&&!r.form.controls.creatorFullName.value),e.R7$(2),e.FS9("placeholder",e.bMT(8,9,"lang_auto_nhap_so_dien_thoai")),e.R7$(2),e.Y8G("ngIf","0"==r.form.controls.creatorId.value&&!r.form.controls.creatorPhone.value),e.R7$(),e.Y8G("ngIf","0"==r.form.controls.creatorId.value&&r.form.controls.creatorPhone.value&&10!==r.form.controls.creatorPhone.value.length),e.R7$(2),e.FS9("placeholder",e.bMT(13,11,"lang_document_workplace")),e.R7$(2),e.Y8G("ngIf","0"==r.form.controls.creatorId.value&&!r.form.controls.creatorWorkingAddress.value)}}function me(a,u){if(1&a){const r=e.RV6();e.j41(0,"mat-tree-node",43),e.nrm(1,"button",44),e.j41(2,"div",45)(3,"input",46),e.bIt("change",function(){const s=e.eBV(r).$implicit,n=e.XpG(2);return e.Njj(n.checklistSelection.toggle(s))}),e.k0s(),e.j41(4,"label",47)(5,"span"),e.EFF(6),e.k0s()()()()}if(2&a){const r=u.$implicit,o=e.XpG(2);e.R7$(3),e.FS9("id","knowledge-"+r.id),e.Y8G("checked",o.checklistSelection.isSelected(r)),e.R7$(),e.FS9("for","knowledge-"+r.id),e.R7$(2),e.JRh(r.item)}}function he(a,u){if(1&a){const r=e.RV6();e.j41(0,"mat-tree-node",48)(1,"button",49)(2,"span",50),e.nrm(3,"lucide-icon",51),e.k0s()(),e.j41(4,"div",45)(5,"input",52),e.bIt("change",function(){const s=e.eBV(r).$implicit,n=e.XpG(2);return e.Njj(n.todoItemSelectionToggle(s))}),e.k0s(),e.j41(6,"label",47)(7,"span"),e.EFF(8),e.k0s()()()()}if(2&a){const r=u.$implicit,o=e.XpG(2);e.R7$(),e.BMQ("aria-label","toggle "+r.filename),e.R7$(2),e.FS9("name",o.treeControl.isExpanded(r)?"chevron-down":"chevron-right"),e.R7$(2),e.FS9("id","knowledge-"+r.id),e.Y8G("checked",o.descendantsAllSelected(r))("indeterminate",o.descendantsPartiallySelected(r)),e.R7$(),e.FS9("for","knowledge-"+r.id),e.R7$(2),e.JRh(r.item)}}function ue(a,u){if(1&a&&(e.j41(0,"div",14)(1,"div",3)(2,"div",31)(3,"span",17),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"div",39)(7,"mat-tree",40),e.DNE(8,me,7,4,"mat-tree-node",41)(9,he,9,7,"mat-tree-node",42),e.k0s()()()()),2&a){const r=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,4,"lang_document_the_knowledge_units_present_in_the_exam")," "),e.R7$(3),e.Y8G("dataSource",r.dataSource)("treeControl",r.treeControl),e.R7$(2),e.Y8G("matTreeNodeDefWhen",r.hasChild)}}function de(a,u){1&a&&(e.j41(0,"span",58),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&a&&(e.R7$(),e.SpI("(",e.bMT(2,1,"lang_document_current"),")"))}function pe(a,u){if(1&a&&(e.j41(0,"div",53)(1,"div",54),e.nrm(2,"input",55),e.j41(3,"label",56)(4,"span"),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.DNE(7,de,3,3,"span",57),e.k0s()()()),2&a){const r=u.index,o=e.XpG();e.R7$(2),e.FS9("id","week-"+o.listWeek[r]),e.Y8G("formControlName",r),e.R7$(),e.FS9("for","week-"+o.listWeek[r]),e.Y8G("ngClass",e.eq3(8,ne,o.currentSchoolWeeks===o.listWeek[r])),e.R7$(2),e.JRh(e.bMT(6,6,"lang_document_week")+" "+o.listWeek[r]),e.R7$(2),e.Y8G("ngIf",o.currentSchoolWeeks===o.listWeek[r])}}function fe(a,u){1&a&&(e.j41(0,"div",59)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_document_please_select_the_time_of_use")))}class ge{}class ve{}let _e=(()=>{var a;class u extends A.H{buildFileTree(o,s){const n=[];return o.forEach(i=>{const c=new ge;c.item=i.name,c.id=i.id,i.children&&(c.children=this.buildFileTree(i.children,s+1)),n.push(c)}),n}descendantsAllSelected(o){return this.treeControl.getDescendants(o).every(n=>this.checklistSelection.isSelected(n))}descendantsPartiallySelected(o){return this.treeControl.getDescendants(o).some(i=>this.checklistSelection.isSelected(i))&&!this.descendantsAllSelected(o)}todoItemSelectionToggle(o){this.checklistSelection.toggle(o);const s=this.treeControl.getDescendants(o);this.checklistSelection.isSelected(o)?this.checklistSelection.select(...s):this.checklistSelection.deselect(...s)}toggleAllCheckBox(){this.isCheckSemesterOne.setValue(this.isCheckAllWeeks.value),this.isCheckSemesterTwo.setValue(this.isCheckAllWeeks.value);const o=this.isCheckAllWeeks.value;this.formArrayListWeek.controls.map(s=>s.setValue(o))}toggleSemesterOneCheckBox(){const o=this.isCheckSemesterOne.value;this.formArrayListWeek.controls.map((s,n)=>(n<18&&s.setValue(o),s)),this.calculateIsCheckAll()}toggleSemesterTwoCheckBox(){const o=this.isCheckSemesterTwo.value;this.formArrayListWeek.controls.map((s,n)=>(n>=18&&s.setValue(o),s)),this.calculateIsCheckAll()}initForm(){this.formArrayListWeek=this.form.controls.weeks,this.formArrayListKnowledge=this.form.controls.knowledgeIds}initKnowledgeCheckbox(o){this.formArrayListKnowledge.clear();for(let s=0;s<o.length;s++){const i=new t.MJ(!1,{nonNullable:!0});this.formArrayListKnowledge.push(i)}}initWeedCheckbox(o){this.formArrayListWeek.clear();for(let s=0;s<o.length;s++){const i=new t.MJ(!1,{nonNullable:!0});this.formArrayListWeek.push(i)}}calculateIsCheckAll(){const o=this.formArrayListWeek.controls.every(s=>s.value);this.isCheckAllWeeks.setValue(o)}ngOnChanges(){this.initForm(),this.initKnowledgeCheckbox(this.listKnowledge),this.dataSource.data=this.buildFileTree(this.listKnowledge,0)}ngOnInit(){super.ngOnInit(),this.initWeedCheckbox(this.listWeek),this.currentSchoolWeeks=this.timeService.getSchoolWeeks(),this.checklistSelection.changed.subscribe(o=>{let s=this.checklistSelection.selected.map(n=>n.id??0);this.listKnowledgeId=s.sort((n,i)=>n-i)??[],this.emitChooseKnowledge.emit(this.listKnowledgeId)}),this.form.controls.weeks.valueChanges.subscribe(o=>{this.calculateIsCheckAll(),this.checkChooseWeeks=o.some(s=>s)})}constructor(o){super(),this.timeService=o,this.listKnowledge=[],this.listWeek=[],this.emitChooseKnowledge=new e.bkB,this.formArrayListKnowledge=new t.Yp([]),this.formArrayListWeek=new t.Yp([]),this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.selectedParent=null,this.newItemName="",this.checklistSelection=new Z.CB(!0),this.listKnowledgeId=[],this.currentSchoolWeeks=0,this.checkChooseWeeks=!1,this.isCheckAllWeeks=new t.MJ(!1,{nonNullable:!0}),this.isCheckSemesterOne=new t.MJ(!1,{nonNullable:!0}),this.isCheckSemesterTwo=new t.MJ(!1,{nonNullable:!0}),this.getLevel=s=>s.level??0,this.isExpandable=s=>s.expandable??!1,this.getChildren=s=>s.children??[],this.hasChild=(s,n)=>n.expandable??!1,this.hasNoContent=(s,n)=>""===n.item,this.transformer=(s,n)=>{const i=this.nestedNodeMap.get(s),c=i&&i.item===s.item?i:new ve;return c.item=s.item,c.level=n,c.id=s.id,c.expandable=!!s.children,this.flatNodeMap.set(c,s),this.nestedNodeMap.set(s,c),c},this.treeFlattener=new G.yj(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new q.XW(this.getLevel,this.isExpandable),this.dataSource=new G.zw(this.treeControl,this.treeFlattener)}}return(a=u).\u0275fac=function(o){return new(o||a)(e.rXU(ee.F))},a.\u0275cmp=e.VBU({type:a,selectors:[["azt-config-document-market"]],inputs:{form:"form",listKnowledge:"listKnowledge",listWeek:"listWeek"},outputs:{emitChooseKnowledge:"emitChooseKnowledge"},features:[e.Vt3,e.OA$],decls:48,vars:29,consts:[[1,"mt-5"],[3,"formGroup"],[1,"box","p-3"],[1,"grid","grid-cols-12"],[1,"col-span-12","lg:col-span-5"],["for","general-name",1,"form-label","mb-0","font-medium","flex","items-center"],[1,"col-span-12","lg:col-span-7"],[1,"flex","flex-col","sm:flex-row"],[1,"form-check","mr-8"],["type","radio","id","creator-by-me","formControlName","creatorId","value","1",1,"form-check-input"],["for","creator-by-me",1,"form-check-label"],["type","radio","id","creator-by-user-other","formControlName","creatorId","value","0",1,"form-check-input"],["for","creator-by-user-other",1,"form-check-label"],["class","mt-3",4,"ngIf"],[1,"mt-3"],["formArrayName","weeks",1,"list-week","grid","grid-cols-12"],[1,"col-span-12","flex","items-center"],[1,"form-label","mb-0","font-medium","flex","items-center"],[1,"list-week","col-span-12","mt-1"],[1,"flex","flex-row","sm:flex-col","sm:items-center"],[1,"azt-form-check","mr-5","mt-3","sm:mt-0"],["type","checkbox","id","selectSemesterOne",1,"form-check-input",3,"change","formControl"],["for","selectSemesterOne",1,"form-check-label"],["type","checkbox","id","selectSemesterTwo",1,"form-check-input",3,"change","formControl"],["for","selectSemesterTwo",1,"form-check-label"],["type","checkbox","id","selectAllWeeks",1,"form-check-input",3,"change","formControl"],["for","selectAllWeeks",1,"form-check-label"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-6 md:col-span-3 lg:col-span-2",4,"ngFor","ngForOf"],["class","col-span-12 mt-2 text-danger text-xs",4,"ngIf"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12"],["type","text","name","creatorFullName","formControlName","creatorFullName",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-2",4,"ngIf"],[1,"col-span-12","md:col-span-4"],["type","text","appOnlyNumber","","name","creatorPhone","formControlName","creatorPhone",1,"form-control",3,"placeholder"],[1,"col-span-12","md:col-span-8"],["type","text","name","creatorWorkingAddress","formControlName","creatorWorkingAddress",1,"form-control",3,"placeholder"],[1,"text-danger","text-xs","mt-2"],[1,"list-knowledge","col-span-12"],[3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle","","matTreeNodePadding",""],["mat-icon-button","","disabled",""],[1,"azt-form-checked"],["type","checkbox",1,"form-check-input",3,"change","checked","id"],[1,"form-check-label",2,"vertical-align","middle",3,"for"],["matTreeNodePadding",""],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror","w-5","h-5","inline-block",2,"vertical-align","bottom"],["size","20",3,"name"],["type","checkbox",1,"form-check-input",3,"change","checked","indeterminate","id"],[1,"col-span-6","md:col-span-3","lg:col-span-2"],[1,"azt-form-check"],["type","checkbox","value","41556",1,"form-check-input",3,"formControlName","id"],[1,"form-check-label",2,"vertical-align","middle",3,"ngClass","for"],["class","inline-block ml-1",4,"ngIf"],[1,"inline-block","ml-1"],[1,"col-span-12","mt-2","text-danger","text-xs"]],template:function(o,s){1&o&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()(),e.j41(8,"div",6)(9,"div",7)(10,"div",8),e.nrm(11,"input",9),e.j41(12,"label",10),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()(),e.j41(15,"div",8),e.nrm(16,"input",11),e.j41(17,"label",12),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s()()()()(),e.DNE(20,ce,15,13,"div",13)(21,ue,10,6,"div",13),e.j41(22,"div",14)(23,"div",15)(24,"div",16)(25,"span",17),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s()(),e.j41(28,"div",18)(29,"div",19)(30,"div",20)(31,"input",21),e.bIt("change",function(){return s.toggleSemesterOneCheckBox()}),e.k0s(),e.j41(32,"label",22),e.EFF(33),e.nI1(34,"mytranslate"),e.k0s()(),e.j41(35,"div",20)(36,"input",23),e.bIt("change",function(){return s.toggleSemesterTwoCheckBox()}),e.k0s(),e.j41(37,"label",24),e.EFF(38),e.nI1(39,"mytranslate"),e.k0s()(),e.j41(40,"div",20)(41,"input",25),e.bIt("change",function(){return s.toggleAllCheckBox()}),e.k0s(),e.j41(42,"label",26),e.EFF(43),e.nI1(44,"mytranslate"),e.k0s()()(),e.j41(45,"div",27),e.DNE(46,pe,8,10,"div",28),e.k0s()(),e.DNE(47,fe,4,3,"div",29),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("formGroup",s.form),e.R7$(5),e.SpI(" ",e.bMT(7,15,"lang_document_author")," "),e.R7$(7),e.SpI(" ",e.bMT(14,17,"lang_document_me")," "),e.R7$(5),e.SpI(" ",e.bMT(19,19,"lang_document_others")," "),e.R7$(2),e.Y8G("ngIf","0"==s.form.controls.creatorId.value),e.R7$(),e.Y8G("ngIf",s.formArrayListKnowledge.controls.length),e.R7$(5),e.SpI(" ",e.bMT(27,21,"lang_document_time_of_use")," "),e.R7$(5),e.Y8G("formControl",s.isCheckSemesterOne),e.R7$(2),e.SpI(" ",e.bMT(34,23,"lang_config_semester")+" 1"," "),e.R7$(3),e.Y8G("formControl",s.isCheckSemesterTwo),e.R7$(2),e.SpI(" ",e.bMT(39,25,"lang_config_semester")+" 2"," "),e.R7$(3),e.Y8G("formControl",s.isCheckAllWeeks),e.R7$(2),e.SpI(" ",e.bMT(44,27,s.isCheckAllWeeks.value?"lang_student_classroom_list_utils_create_class_new_course_disable":"lang_student_classroom_list_utils_create_class_new_course_choose_all")," "),e.R7$(3),e.Y8G("ngForOf",s.formArrayListWeek.controls),e.R7$(),e.Y8G("ngIf",!s.checkChooseWeeks))},dependencies:[k.YU,k.Sq,k.bT,te.iY,G.yI,G.yF,G.pO,G.lQ,G.d6,t.qT,t.me,t.Zm,t.Fm,t.BC,t.cb,t.l_,t.j4,t.JD,t.v8,oe.WGl,se.Z,F.t,J.wp],encapsulation:2}),u})();var Ce=l(51614);function ke(a,u){if(1&a&&e.nrm(0,"azt-loading-effect",3),2&a){const r=e.XpG();e.Y8G("currentStatusObj",r.statusObj)}}function be(a,u){1&a&&(e.j41(0,"div",29),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&a&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_ten_de_thi")," "))}function Se(a,u){1&a&&(e.j41(0,"span",30),e.nrm(1,"azt-loading-ui"),e.k0s())}function xe(a,u){if(1&a){const r=e.RV6();e.j41(0,"div",4)(1,"form",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"label",11),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()(),e.j41(10,"div",10)(11,"div",12),e.nrm(12,"input",13),e.nI1(13,"mytranslate"),e.k0s(),e.DNE(14,be,3,3,"div",14),e.k0s()(),e.j41(15,"div",15),e.nrm(16,"config-level-subject-book",16),e.k0s(),e.j41(17,"div",17),e.nrm(18,"config-purpose-exam",18),e.k0s(),e.j41(19,"div",19)(20,"div",10)(21,"label",20),e.EFF(22),e.nI1(23,"mytranslate"),e.k0s()(),e.j41(24,"div",10)(25,"div",12),e.nrm(26,"textarea",21),e.nI1(27,"mytranslate"),e.k0s()()()(),e.j41(28,"div",22)(29,"azt-config-document-market",23),e.bIt("emitChooseKnowledge",function(s){e.eBV(r);const n=e.XpG();return e.Njj(n.chooseKnowledge(s))}),e.k0s()(),e.j41(30,"div",24)(31,"div",25)(32,"button",26),e.bIt("click",function(){e.eBV(r);const s=e.XpG();return e.Njj(s.cancelSaveDocumentObj())}),e.EFF(33),e.nI1(34,"mytranslate"),e.k0s(),e.j41(35,"button",27),e.bIt("click",function(){e.eBV(r);const s=e.XpG();return e.Njj(s.handleSaveDocument())}),e.DNE(36,Se,2,0,"span",28),e.EFF(37),e.nI1(38,"mytranslate"),e.k0s()()()()()()()}if(2&a){const r=e.XpG();e.R7$(),e.Y8G("formGroup",r.form),e.R7$(7),e.SpI(" ",e.bMT(9,17,"lang_auto_ten")," "),e.R7$(4),e.FS9("placeholder",e.bMT(13,19,"lang_auto_nhap_ten")+" ..."),e.R7$(2),e.Y8G("ngIf",r.form.controls.name.errors),e.R7$(2),e.Y8G("form",r.form)("useExamSchoolLogData",!0),e.R7$(2),e.Y8G("purposeList",r.listPurposeObjs)("form",r.form),e.R7$(4),e.SpI(" ",e.bMT(23,21,"lang_auto_mo_ta")," "),e.R7$(4),e.FS9("placeholder",e.bMT(27,23,"lang_core_nhap_mo_ta")+" ..."),e.R7$(3),e.Y8G("form",r.form)("listWeek",r.listWeek)("listKnowledge",r.listKnowledge),e.R7$(4),e.SpI(" ",e.bMT(34,25,"lang_auto_huy")," "),e.R7$(2),e.Y8G("disabled",r.logConfig.status),e.R7$(),e.Y8G("ngIf",r.logConfig.status),e.R7$(),e.SpI(" ",e.bMT(38,27,"lang_auto_luu")," ")}}function Ie(a,u){if(1&a&&(e.j41(0,"div",31)(1,"div",32)(2,"div",33)(3,"span",34),e.nrm(4,"azt-loading-ui"),e.k0s(),e.j41(5,"div",35),e.EFF(6),e.k0s()()()()),2&a){const r=e.XpG();e.R7$(6),e.JRh(r.logConfig.msg)}}let Ee=(()=>{var a;class u extends A.H{chooseKnowledge(o){this.knowledgeList=o}cancelSaveDocumentObj(){this.onBack.emit(!0)}handleSaveDocument(){const o=this.getWeeksChecked(this.listWeek,this.form.controls.weeks.value);if(this.checkErrorValidateSave(o,this.knowledgeList))this.showErrorSnack("lang_cms_utils_folder_name_validate_space");else{if(this.type===_.x.exam&&this.isCreateQuestionToEditor&&this.dataSave.exam&&this.dataSave.exam.questionObj.listQuestions){this.logConfig.setStatus(this.commonService.myTranslateInstant("lang_auto_dang_luu_du_lieu_de_thi")),this.countProcess=0;const s=this.dataSave.exam.questionObj.listQuestions;let n=this.commonService.myTranslateInstant("lang_auto_xay_ra_loi_trong_qua_trinh_xu_ly_hinh_anh_cua_de_thi")??"";this.questionShareSaveService.convertQuestions(s,this.dataSave.exam.rootQuests,(i,c=n,h)=>{this.logConfig.stopStatus(),this.showErrorSnack(c),h&&this.stopStatusObj()}).then(()=>{this.startMainProcessSaveEditor()})}this.type===_.x.exam&&!this.isCreateQuestionToEditor&&this.examObj?.id&&this.saveDocumentMarketQuestionObjs(),this.type!==_.x.exam&&this.attachments.length&&this.saveDocumentMarketQuestionObjs(),console.log(this.attachments,this.type)}}initQuestionShare(){this.questionShareSaveService.callbackBase64ToCanvas=(o,s)=>{let n=this.commonService.myTranslateInstant("lang_auto_dang_xu_ly_hinh_anh_cho_de_thi");this.logConfig.setStatus(`${n} ${Math.floor(o/s*100*.7)}%`)},this.questionShareSaveService.callbackUploadImage=(o,s)=>{let n=this.commonService.myTranslateInstant("lang_auto_dang_xu_ly_hinh_anh_cho_de_thi");this.logConfig.setStatus(`${n} ${Math.floor(o/s*100*.3)+70}%`)}}processSaveQuestionsFromEditor(o,s,n){if(this.dataSave.exam?.questionObj&&this.dataSave.exam?.questionObj.listQuestions){var i=this.dataSave.exam?.questionObj.listQuestions.length;let c=o+100>i?i:o+100,h=this.dataSave.exam?.questionObj.listQuestions.slice(o,c)??[],d=[];for(const m of h)d.push({categoryId:m.categoryId,groupId:m.groupId,name:m.name??"none",metadata:m.metadata,isImage:m.isImage,questionContent:m.questionContent,answerMedia:m.answerMedia,questionText:m.questionText,answerType:m.answerType,answerConfig:m.answerConfig,coordinates:m.coordinates,answerResult:m.answerResult,totalQuestion:m.totalQuestion,tags:m.tags??[],mediaId:m.mediaId,mediaMeta:m.mediaMeta,attachments:m.attachments,version:m.version,isFixAns:m.isFixAns,groupType:m.groupType,__path:m.__path,answers:m.configAnswers?m.configAnswers.map(P=>({answerKey:P.key,objectiveId:P.objectiveId,tag:P.tagCode})):[]});d.length>0?this.sAztSaveProcessService.saveQuestionObjsFromEditor(this.dataSave,d,s).then(m=>{m&&m.listQuestionId.length>0?(n.listQuestionId=n.listQuestionId.concat(m.listQuestionId),this.processSaveQuestionsFromEditor(c,m.indexSaved,n)):(this.countProcess=0,this.logConfig.stopStatus(),this.showErrorSnack("lang_auto_khong_luu_duoc_noi_dung_cau_hoi_trong_de_vui_long_kiem_tra_lai"))}):this.saveDocumentMarketQuestionObjs(n)}}startMainProcessSaveEditor(){this.dataSave.exam&&this.dataSave.exam.questionObj&&this.processSaveQuestionsFromEditor(0,0,{indexSaved:0,listQuestionId:[]})}getListPurposeExam(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListExamPurposesGet().subscribe(o=>{if(!o.success)return this.errorStatusObj(o.message,!0);this.listPurposeObjs=o.data?.objs??[],this.successStatusObj()}))}getKnowledgeData(){const o=this.form.controls.schoolLevel.value,s=this.form.controls.schoolSubject.value;o&&s&&this.waitDestroy(this.knowledgeService.apiKnowledgeGet(o,s).subscribe(n=>{n.list&&(this.listKnowledge=n.list)}))}checkErrorValidateSave(o,s){return!(!this.form.invalid&&("0"!=this.form.controls.creatorId.value||this.form.controls.creatorFullName.value&&this.form.controls.creatorFullName.value&&this.form.controls.creatorPhone.value&&this.form.controls.creatorWorkingAddress.value)&&("0"!=this.form.controls.creatorId.value||10===this.form.controls.creatorPhone.value.length)&&o.length)}fillConfig(){return new O.c(o=>{const s=Number(this.commonService.getMyParam(this.activeRoute,"levelId")??0),n=Number(this.commonService.getMyParam(this.activeRoute,"subjectId")??0),i=this.isCreateQuestionToEditor,c=i?Number(this.browserStorageService.getSimpleStorage("levelId")??0):s,h=i?Number(this.browserStorageService.getSimpleStorage("subjectId")??0):n;this.examObj?.id?this.documentConfigService.apiDocumentConfigGetExamConfigDataV2Get(this.examObj.hashId??"").subscribe(d=>{if(d.success){const m=d.data?.examObj;this.form.controls.name.setValue(m?.name??""),this.form.controls.description.setValue(m?.description??""),this.form.controls.schoolLevel.setValue(m?.schoolLevelId??s),this.form.controls.schoolSubject.setValue(m?.schoolSubjectId??n),this.form.controls.purposeExam.setValue(d.data?.purposeId??0),this.form.controls.purposeNote.setValue(d.data?.purposeNote??"")}else this.errorStatusObj(d.message??"",!0);o.next(),o.complete()}):(this.form.controls.schoolLevel.setValue(c),this.form.controls.schoolSubject.setValue(h),i||this.form.controls.name.setValue(this.name),o.next(),o.complete())})}getWeeksChecked(o,s){let n=[];for(let i=0;i<s.length;i++)s[i]&&o[i]&&n.push(o[i]);return n}createListWeek(){for(let s=0;s<35;s++)this.listWeek.push(s+1)}saveDocumentMarketQuestionObjs(o){const s=this.getWeeksChecked(this.listWeek,this.form.controls.weeks.value);this.logConfig.setStatus("");let n={name:this.form.controls.name.value,type:this.type,schoolLevelId:this.form.controls.schoolLevel.value,schoolSubjectId:this.form.controls.schoolSubject.value,purposeId:this.form.controls.purposeExam.value,purposeNote:this.form.controls.purposeNote.value,description:this.form.controls.description.value,creatorId:Number(this.form.controls.creatorId.value),creatorFullName:this.form.controls.creatorFullName.value,creatorPhone:this.form.controls.creatorPhone.value,creatorWorkingAddress:this.form.controls.creatorWorkingAddress.value,knowledgeIds:this.knowledgeList,weeks:s};switch(this.type){case _.x.exam:if(o&&this.isCreateQuestionToEditor){let i=[];i=o.listQuestionId.map(c=>c??0)??[],n.questionIds=i}this.examObj?.id&&!this.isCreateQuestionToEditor&&(n.examId=this.examObj?.id,n.questionIds=[]);break;case _.x.lecture:case _.x.ref:case _.x.teaching_plan:case _.x.slide:n.attachments=this.attachments}this.waitDestroy(this.documentService.apiDocumentsPost(n).subscribe(i=>{if(i.id){this.successStatusObj("lang_document_successful_sharing",!0);const c="/document-market/list-documents/your-documents/1";this.logConfig.stopStatus(),this.myNavigation(c)}else this.errorStatusObj(""),this.logConfig.stopStatus()}))}ngOnInit(){super.ngOnInit(),this.createListWeek(),this.getListPurposeExam(),this.fillConfig().subscribe(()=>{this.getKnowledgeData(),this.form.controls.schoolSubject.valueChanges.subscribe(o=>{this.getKnowledgeData()}),this.form.controls.schoolLevel.valueChanges.subscribe(o=>{this.getKnowledgeData()})}),this.type===_.x.exam&&this.isCreateQuestionToEditor&&(this.dataSave=this.editorOutputDataService.getOutputData(),this.form.controls.name.setValue(this.dataSave.exam?.examObj.name??this.dataSave.homework?.name??""))}constructor(o,s,n,i,c,h,d,m,P){super(),this.documentConfigService=o,this.activeRoute=s,this.documentService=n,this.knowledgeService=i,this.questionShareSaveService=c,this.editorOutputDataService=h,this.sAztSaveProcessService=d,this.browserStorageService=m,this.commonListService=P,this.type=_.x.exam,this.isCreateQuestionToEditor=!1,this.attachments=[],this.name="",this.onBack=new e.bkB,this.listPurposeObjs=[],this.listKnowledge=[],this.logConfig=new W.J,this.dataSave={},this.saveParts=[],this.countProcess=0,this.knowledgeList=[],this.listWeek=[],this.form=new t.gE({name:new t.MJ("",{nonNullable:!0,validators:[t.k0.required,C.M.noWhiteSpace]}),description:new t.MJ("",{nonNullable:!0}),schoolLevel:new t.MJ(0,{nonNullable:!0,validators:[t.k0.required,t.k0.min(1)]}),schoolSubject:new t.MJ(0,{nonNullable:!0,validators:[t.k0.required,t.k0.min(1)]}),purposeExam:new t.MJ(0,{nonNullable:!0,validators:[t.k0.required,t.k0.min(1)]}),purposeNote:new t.MJ("",{nonNullable:!0}),knowledgeIds:new t.Yp([]),weeks:new t.Yp([]),creatorId:new t.MJ("1",{nonNullable:!0}),creatorFullName:new t.MJ("",{nonNullable:!0}),creatorPhone:new t.MJ("",{nonNullable:!0}),creatorWorkingAddress:new t.MJ("",{nonNullable:!0})}),this.type===_.x.exam&&this.isCreateQuestionToEditor&&this.initQuestionShare()}}return(a=u).\u0275fac=function(o){return new(o||a)(e.rXU(R.x_),e.rXU(L.nX),e.rXU(S.DK),e.rXU(S.Iu),e.rXU(E),e.rXU(K.O),e.rXU(f.G),e.rXU(D.z),e.rXU(v.Nz))},a.\u0275cmp=e.VBU({type:a,selectors:[["azt-config-share-document"]],inputs:{type:"type",isCreateQuestionToEditor:"isCreateQuestionToEditor",attachments:"attachments",name:"name",examObj:"examObj"},outputs:{onBack:"onBack"},features:[e.Vt3],decls:4,vars:3,consts:[["doneLoading",""],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["style","width: 100vw; height: 100vh; position: fixed; z-index: 9999; top: 0; left: 0; display: flex; justify-content: center; align-items: center; background-color: rgba(0, 0, 0, 0.4)",4,"ngIf"],[3,"currentStatusObj"],[1,"intro-y","mt-8","p-3"],[3,"formGroup"],[1,"mx-auto",2,"max-width","1100px"],[1,"setting-block"],[1,"box","mt-2","p-3"],["id","azt-config-name",1,"grid","grid-cols-12"],[1,"col-span-12","lg:col-span-12"],["for","general-name",1,"form-label","mb-0","font-medium","flex","items-center"],[1,"setting-input"],["id","general-name","formControlName","name","type","text",1,"form-control",3,"placeholder"],["class","mt-2 text-danger text-xs fade",4,"ngIf"],[1,"mt-4"],[3,"form","useExamSchoolLogData"],[1,"mt-2"],[3,"purposeList","form"],["id","azt-config-desc",1,"grid","grid-cols-12","mt-4"],["for","general-desc",1,"form-label","mb-0","font-medium","flex","items-center"],["id","general-desc","formControlName","description",1,"form-control","w-full",2,"height","150px",3,"placeholder"],[1,"config-document-market"],[3,"emitChooseKnowledge","form","listWeek","listKnowledge"],[1,"mt-5"],[1,"flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"click","disabled"],["class","w-4 h-4 mr-2",4,"ngIf"],[1,"mt-2","text-danger","text-xs","fade"],[1,"w-4","h-4","mr-2"],[2,"width","100vw","height","100vh","position","fixed","z-index","9999","top","0","left","0","display","flex","justify-content","center","align-items","center","background-color","rgba(0, 0, 0, 0.4)"],[2,"text-align","center","color","#000000"],[2,"margin-bottom","10px"],[1,"w-4","h-4","inline-block"],[2,"font-size","20px","margin-top","10px","background-color","#f0f8ffa3","padding","10px","border-radius","5px"]],template:function(o,s){if(1&o&&e.DNE(0,ke,1,1,"azt-loading-effect",1)(1,xe,39,29,"ng-template",null,0,e.C5r)(3,Ie,7,1,"div",2),2&o){const n=e.sdS(2);e.Y8G("ngIf",s.statusObj.loading)("ngIfElse",n),e.R7$(3),e.Y8G("ngIf",s.logConfig.status&&s.isCreateQuestionToEditor)}},dependencies:[k.bT,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,I.K,F.t,U.R,H.b,_e,Ce.X,J.wp],encapsulation:2}),u})()},77260:(Y,z,l)=>{l.d(z,{G:()=>A});var e=l(48891),t=l(53793),O=l(5382),_=l(97633),W=l(76671);let A=(()=>{var C;class R{convertBase64OfMathJaxToCdnUrlInQuestions(S,w){return new Promise((y,T)=>{const M=null==w?new O.n(10):new O.n(10,{function:w},0);S.forEach(x=>{M.addTask(this.dataAztMathRawHelper,this.dataAztMathRawHelper.convertBase64OfMathJaxToCdnUrl,[x])}),M.start().then(x=>{0===x.errs.length?y(x.datas):T(x.errs[0])})})}saveQuestionObjsFromEditor(S,w,y){return new Promise(T=>{this.convertBase64OfMathJaxToCdnUrlInQuestions(w,void 0).then(M=>{let x=[];for(let E=0;E<M.length;E++){let K=M[E];K.expandInfo=this.commonService.serializeJson(S.exam?.examObj.expandInfoObj),x.push(K)}this.questionService.apiQuestionsPost({listQuestions:x}).subscribe(E=>{T(E.list?{indexSaved:E.list.length+y,listQuestionId:E.list}:{indexSaved:y,listQuestionId:[]})})}).catch(()=>{T({indexSaved:y,listQuestionId:[]})})})}constructor(S,w){this.questionService=S,this.dataAztMathRawHelper=w,this.commonService=(0,e.WQX)(t.R)}}return(C=R).\u0275fac=function(S){return new(S||C)(e.KVO(_.wP),e.KVO(W.c))},C.\u0275prov=e.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),R})()},6989:(Y,z,l)=>{l.d(z,{b:()=>K});var e=l(59640),t=l(48891),O=l(54460),_=l(47426),W=l(95670),A=l(4375),C=l(10936),R=l(44233),L=l(81587),S=l(43166),w=l(76975);function y(f,D){if(1&f&&(t.j41(0,"mat-option",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&f){const v=D.$implicit;t.Y8G("value",v.id),t.R7$(),t.SpI(" ",t.bMT(2,2,v.code)," ")}}function T(f,D){if(1&f&&(t.j41(0,"mat-optgroup",14),t.nI1(1,"mytranslate"),t.DNE(2,y,3,4,"mat-option",15),t.k0s()),2&f){const v=D.$implicit;t.XpG();const k=t.sdS(10);t.FS9("label",t.bMT(1,2,v.groupName)),t.R7$(2),t.Y8G("ngForOf",k.filter(v.purposeListInGroup,"code"))}}function M(f,D){1&f&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&f&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_testbank_please_choose_purpose_exam")," "))}function x(f,D){1&f&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&f&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_testbank_please_enter_purpose_create_exam")," "))}function E(f,D){if(1&f&&(t.j41(0,"div",4)(1,"div",5)(2,"label",18),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",19),t.nrm(6,"input",20),t.nI1(7,"mytranslate"),t.k0s(),t.DNE(8,x,3,3,"div",12),t.k0s()),2&f){const v=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,3,"lang_testbank_enter_create_exam_target")," "),t.R7$(3),t.FS9("placeholder",t.bMT(7,5,"lang_testbank_enter_create_exam_target")+" ..."),t.R7$(2),t.Y8G("ngIf",(4==(null==v.form.controls.purposeExam?null:v.form.controls.purposeExam.value)||8==(null==v.form.controls.purposeExam?null:v.form.controls.purposeExam.value)||12==(null==v.form.controls.purposeExam?null:v.form.controls.purposeExam.value))&&""===(null==v.form.controls.purposeNote||null==v.form.controls.purposeNote.value?null:v.form.controls.purposeNote.value.trim()))}}let K=(()=>{var f;class D extends e.H{convertPurposeList(){this.targetExamGroupObjs=[],this.purposeList.forEach(k=>{const{semester:I}=k;let F=this.targetExamGroupObjs.find(U=>U.semester===I);F||(F={semester:I,groupName:this.getGroupNamePurpose(k.semester??1),purposeListInGroup:[]},this.targetExamGroupObjs.push(F)),F.purposeListInGroup?.push(k)})}getGroupNamePurpose(k){switch(k){case 1:default:return"lang_testbank_semester_one";case 2:return"lang_testbank_semester_two";case 3:return"lang_testbank_another_purpose"}}ngOnInit(){this.convertPurposeList()}constructor(){super(),this.purposeList=[],this.targetExamGroupObjs=[]}}return(f=D).\u0275fac=function(k){return new(k||f)},f.\u0275cmp=t.VBU({type:f,selectors:[["config-purpose-exam"]],inputs:{form:"form",purposeList:"purposeList"},features:[t.Vt3],decls:21,vars:18,consts:[["searchInListPurpose","searchInList"],[1,"config-purpose-exan"],[3,"formGroup"],["id","azt-config-purpose-exam",1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"font-medium"],[1,"form-label","flex","items-center"],["appearance","outline"],["searchInList","","formControlName","purposeExam","name","purposeExam"],[3,"formControl","placeholderLabel","noEntriesFoundLabel"],["disabled","",3,"value"],[3,"label",4,"ngFor","ngForOf"],["class","mt-2 text-danger text-xs",4,"ngIf"],["class","col-span-12",4,"ngIf"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mt-2","text-danger","text-xs"],["for","enter_target_create_exam",1,"form-label","flex","items-center"],[1,"setting-input"],["id","enter_target_create_exam","formControlName","purposeNote","type","text",1,"form-control",3,"placeholder"]],template:function(k,I){if(1&k&&(t.j41(0,"div",1)(1,"form",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"label",6),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"mat-form-field",7)(9,"mat-select",8,0)(11,"mat-option"),t.nrm(12,"ngx-mat-select-search",9),t.nI1(13,"mytranslate"),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"mat-option",10),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.DNE(18,T,3,4,"mat-optgroup",11),t.k0s()(),t.DNE(19,M,3,3,"div",12),t.k0s(),t.DNE(20,E,9,7,"div",13),t.k0s()()()),2&k){const F=t.sdS(10);t.R7$(),t.Y8G("formGroup",I.form),t.R7$(5),t.SpI(" ",t.bMT(7,10,"lang_testbank_target_exam")," "),t.R7$(6),t.FS9("placeholderLabel",t.bMT(13,12,"lang_search_by_name")),t.FS9("noEntriesFoundLabel",t.bMT(14,14,"lang_search_not_found")),t.Y8G("formControl",F.searchControl),t.R7$(3),t.Y8G("value",0),t.R7$(),t.SpI("---",t.bMT(17,16,"lang_testbank_choose_purpose"),"---"),t.R7$(2),t.Y8G("ngForOf",I.targetExamGroupObjs),t.R7$(),t.Y8G("ngIf",0==I.form.controls.purposeExam.value),t.R7$(),t.Y8G("ngIf",4==(null==I.form.controls.purposeExam?null:I.form.controls.purposeExam.value)||8==(null==I.form.controls.purposeExam?null:I.form.controls.purposeExam.value)||12==(null==I.form.controls.purposeExam?null:I.form.controls.purposeExam.value))}},dependencies:[O.Sq,O.bT,_.wT,_.D7,W.rl,A.VO,C.qT,C.me,C.BC,C.cb,C.l_,C.j4,C.JD,R.U9,L.t,S.x,w.wp],encapsulation:2}),D})()}}]);