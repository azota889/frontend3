(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[928],{76202:(Ke,we,b)=>{"use strict";b.d(we,{$:()=>Vo,A:()=>I,E:()=>z,J:()=>Do,K:()=>cn,M:()=>Zt,P:()=>fs,Q:()=>O,R:()=>_s,U:()=>xi,V:()=>Bo,W:()=>un,X:()=>yn,Y:()=>en,Z:()=>En,_:()=>ca,a:()=>io,a0:()=>Nn,a1:()=>Ko,a2:()=>$o,a3:()=>da,a4:()=>_a,a5:()=>qn,a6:()=>pa,a7:()=>Xo,a8:()=>ha,a9:()=>ma,aA:()=>de,aB:()=>P,aC:()=>fr,aD:()=>_,aE:()=>D,aF:()=>Ao,aG:()=>pr,aH:()=>Ss,aI:()=>fe,aM:()=>Je,aP:()=>dn,aa:()=>ga,ab:()=>fa,ac:()=>er,ad:()=>va,ae:()=>ba,af:()=>xa,ag:()=>Aa,aj:()=>Ca,ak:()=>Ta,al:()=>Ia,ao:()=>la,ap:()=>Ea,ar:()=>Na,as:()=>Da,at:()=>Pe,au:()=>S,av:()=>Ye,aw:()=>H,ax:()=>Sn,ay:()=>br,az:()=>U,b:()=>or,c:()=>xs,d:()=>ws,e:()=>As,f:()=>ks,g:()=>yc,h:()=>Os,i:()=>ur,j:()=>Tn,k:()=>ko,l:()=>ms,m:()=>Xs,p:()=>le,r:()=>Wt,s:()=>hs,u:()=>gs});var h=b(49671),c=b(30229),e=b(79823),M=b(87879),ce=b(97582),pe=b(36820);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},I={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const z=function q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},B=function R(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ee=new c.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),oe=new M.Yd("@firebase/auth");function ve(a,...i){oe.logLevel<=M.in.ERROR&&oe.error(`Auth (${e.SDK_VERSION}): ${a}`,...i)}function H(a,...i){throw ge(a,...i)}function de(a,...i){return ge(a,...i)}function Le(a,i,r){const s=Object.assign(Object.assign({},B()),{[i]:r});return new c.LL("auth","Firebase",s).create(i,{appName:a.name})}function Xe(a,i,r){if(!(i instanceof r))throw r.name!==i.constructor.name&&H(a,"argument-error"),Le(a,"argument-error",`Type of ${i.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ge(a,...i){if("string"!=typeof a){const r=i[0],s=[...i.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(r,...s)}return ee.create(a,...i)}function P(a,i,...r){if(!a)throw ge(i,...r)}function he(a){const i="INTERNAL ASSERTION FAILED: "+a;throw ve(i),new Error(i)}function Pe(a,i){a||he(i)}function Ee(){var a;return typeof self<"u"&&(null===(a=self.location)||void 0===a?void 0:a.href)||""}function ct(){return"http:"===wt()||"https:"===wt()}function wt(){var a;return typeof self<"u"&&(null===(a=self.location)||void 0===a?void 0:a.protocol)||null}class pt{constructor(i,r){this.shortDelay=i,this.longDelay=r,Pe(r>i,"Short delay should be less than long delay!"),this.isMobile=(0,c.uI)()||(0,c.b$)()}get(){return function At(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ct()||(0,c.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nt(a,i){Pe(a.emulator,"Emulator should always be set here");const{url:r}=a.emulator;return i?`${r}${i.startsWith("/")?i.slice(1):i}`:r}class et{static initialize(i,r,s){this.fetchImpl=i,r&&(this.headersImpl=r),s&&(this.responseImpl=s)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},zt=new pt(3e4,6e4);function Te(a,i){return a.tenantId&&!i.tenantId?Object.assign(Object.assign({},i),{tenantId:a.tenantId}):i}function xe(a,i,r,s){return ht.apply(this,arguments)}function ht(){return(ht=(0,h.Z)(function*(a,i,r,s,d={}){return J(a,d,(0,h.Z)(function*(){let m={},A={};s&&("GET"===i?A=s:m={body:JSON.stringify(s)});const k=(0,c.xO)(Object.assign({key:a.config.apiKey},A)).slice(1),L=yield a._getAdditionalHeaders();return L["Content-Type"]="application/json",a.languageCode&&(L["X-Firebase-Locale"]=a.languageCode),et.fetch()(ye(a,a.config.apiHost,r,k),Object.assign({method:i,headers:L,referrerPolicy:"no-referrer"},m))}))})).apply(this,arguments)}function J(a,i,r){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,h.Z)(function*(a,i,r){a._canInitEmulator=!1;const s=Object.assign(Object.assign({},Ct),i);try{const d=new ze(a),m=yield Promise.race([r(),d.promise]);d.clearNetworkTimeout();const A=yield m.json();if("needConfirmation"in A)throw lt(a,"account-exists-with-different-credential",A);if(m.ok&&!("errorMessage"in A))return A;{const k=m.ok?A.errorMessage:A.error.message,[L,V]=k.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===L)throw lt(a,"credential-already-in-use",A);if("EMAIL_EXISTS"===L)throw lt(a,"email-already-in-use",A);if("USER_DISABLED"===L)throw lt(a,"user-disabled",A);const $=s[L]||L.toLowerCase().replace(/[_\s]+/g,"-");if(V)throw Le(a,$,V);H(a,$)}}catch(d){if(d instanceof c.ZR)throw d;H(a,"network-request-failed",{message:String(d)})}})).apply(this,arguments)}function F(a,i,r,s){return j.apply(this,arguments)}function j(){return(j=(0,h.Z)(function*(a,i,r,s,d={}){const m=yield xe(a,i,r,s,d);return"mfaPendingCredential"in m&&H(a,"multi-factor-auth-required",{_serverResponse:m}),m})).apply(this,arguments)}function ye(a,i,r,s){const d=`${i}${r}?${s}`;return a.config.emulator?Nt(a.config,d):`${a.config.apiScheme}://${d}`}function qe(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ze{constructor(i){this.auth=i,this.timer=null,this.promise=new Promise((r,s)=>{this.timer=setTimeout(()=>s(de(this.auth,"network-request-failed")),zt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lt(a,i,r){const s={appName:a.name};r.email&&(s.email=r.email),r.phoneNumber&&(s.phoneNumber=r.phoneNumber);const d=de(a,i,s);return d.customData._tokenResponse=r,d}function Rt(a){return void 0!==a&&void 0!==a.getResponse}function Tt(a){return void 0!==a&&void 0!==a.enterprise}class Ut{constructor(i){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===i.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=i.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=i.recaptchaEnforcementState}getProviderEnforcementState(i){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===i)return qe(r.enforcementState);return null}isProviderEnabled(i){return"ENFORCE"===this.getProviderEnforcementState(i)||"AUDIT"===this.getProviderEnforcementState(i)}}function _e(){return(_e=(0,h.Z)(function*(a){return(yield xe(a,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function It(a,i){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,h.Z)(function*(a,i){return xe(a,"GET","/v2/recaptchaConfig",Te(a,i))})).apply(this,arguments)}function kt(){return(kt=(0,h.Z)(function*(a,i){return xe(a,"POST","/v1/accounts:delete",i)})).apply(this,arguments)}function ut(){return(ut=(0,h.Z)(function*(a,i){return xe(a,"POST","/v1/accounts:update",i)})).apply(this,arguments)}function dt(){return(dt=(0,h.Z)(function*(a,i){return xe(a,"POST","/v1/accounts:lookup",i)})).apply(this,arguments)}function mt(a){if(a)try{const i=new Date(Number(a));if(!isNaN(i.getTime()))return i.toUTCString()}catch{}}function ot(){return(ot=(0,h.Z)(function*(a,i=!1){const r=(0,c.m9)(a),s=yield r.getIdToken(i),d=gt(s);P(d&&d.exp&&d.auth_time&&d.iat,r.auth,"internal-error");const m="object"==typeof d.firebase?d.firebase:void 0,A=m?.sign_in_provider;return{claims:d,token:s,authTime:mt(Mt(d.auth_time)),issuedAtTime:mt(Mt(d.iat)),expirationTime:mt(Mt(d.exp)),signInProvider:A||null,signInSecondFactor:m?.sign_in_second_factor||null}})).apply(this,arguments)}function Mt(a){return 1e3*Number(a)}function gt(a){const[i,r,s]=a.split(".");if(void 0===i||void 0===r||void 0===s)return ve("JWT malformed, contained fewer than 3 sections"),null;try{const d=(0,c.tV)(r);return d?JSON.parse(d):(ve("Failed to decode base64 JWT payload"),null)}catch(d){return ve("Caught error parsing JWT payload as JSON",d?.toString()),null}}function Re(a,i){return je.apply(this,arguments)}function je(){return(je=(0,h.Z)(function*(a,i,r=!1){if(r)return i;try{return yield i}catch(s){throw s instanceof c.ZR&&function rt({code:a}){return"auth/user-disabled"===a||"auth/user-token-expired"===a}(s)&&a.auth.currentUser===a&&(yield a.auth.signOut()),s}})).apply(this,arguments)}class qt{constructor(i){this.user=i,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(i){var r;if(i){const s=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),s}{this.errorBackoff=3e4;const d=(null!==(r=this.user.stsTokenManager.expirationTime)&&void 0!==r?r:0)-Date.now()-3e5;return Math.max(0,d)}}schedule(i=!1){var r=this;if(!this.isRunning)return;const s=this.getInterval(i);this.timerId=setTimeout((0,h.Z)(function*(){yield r.iteration()}),s)}iteration(){var i=this;return(0,h.Z)(function*(){try{yield i.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===r?.code&&i.schedule(!0))}i.schedule()})()}}class ft{constructor(i,r){this.createdAt=i,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=mt(this.lastLoginAt),this.creationTime=mt(this.createdAt)}_copy(i){this.createdAt=i.createdAt,this.lastLoginAt=i.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Y(a){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,h.Z)(function*(a){var i;const r=a.auth,s=yield a.getIdToken(),d=yield Re(a,function tt(a,i){return dt.apply(this,arguments)}(r,{idToken:s}));P(d?.users.length,r,"internal-error");const m=d.users[0];a._notifyReloadListener(m);const A=null!==(i=m.providerUserInfo)&&void 0!==i&&i.length?function Bt(a){return a.map(i=>{var{providerId:r}=i,s=(0,ce._T)(i,["providerId"]);return{providerId:r,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}(m.providerUserInfo):[],k=function Ue(a,i){return[...a.filter(s=>!i.some(d=>d.providerId===s.providerId)),...i]}(a.providerData,A),$=!!a.isAnonymous&&!(a.email&&m.passwordHash||k?.length),be={uid:m.localId,displayName:m.displayName||null,photoURL:m.photoUrl||null,email:m.email||null,emailVerified:m.emailVerified||!1,phoneNumber:m.phoneNumber||null,tenantId:m.tenantId||null,providerData:k,metadata:new ft(m.createdAt,m.lastLoginAt),isAnonymous:$};Object.assign(a,be)}),Ne.apply(this,arguments)}function nt(){return(nt=(0,h.Z)(function*(a){const i=(0,c.m9)(a);yield Y(i),yield i.auth._persistUserIfCurrent(i),i.auth._notifyListenersIfCurrent(i)})).apply(this,arguments)}function Dt(){return(Dt=(0,h.Z)(function*(a,i){const r=yield J(a,{},(0,h.Z)(function*(){const s=(0,c.xO)({grant_type:"refresh_token",refresh_token:i}).slice(1),{tokenApiHost:d,apiKey:m}=a.config,A=ye(a,d,"/v1/token",`key=${m}`),k=yield a._getAdditionalHeaders();return k["Content-Type"]="application/x-www-form-urlencoded",et.fetch()(A,{method:"POST",headers:k,body:s})}));return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(i){P(i.idToken,"internal-error"),P(typeof i.idToken<"u","internal-error"),P(typeof i.refreshToken<"u","internal-error");const r="expiresIn"in i&&typeof i.expiresIn<"u"?Number(i.expiresIn):function sn(a){const i=gt(a);return P(i,"internal-error"),P(typeof i.exp<"u","internal-error"),P(typeof i.iat<"u","internal-error"),Number(i.exp)-Number(i.iat)}(i.idToken);this.updateTokensAndExpiration(i.idToken,i.refreshToken,r)}getToken(i,r=!1){var s=this;return(0,h.Z)(function*(){return P(!s.accessToken||s.refreshToken,i,"user-token-expired"),r||!s.accessToken||s.isExpired?s.refreshToken?(yield s.refresh(i,s.refreshToken),s.accessToken):null:s.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(i,r){var s=this;return(0,h.Z)(function*(){const{accessToken:d,refreshToken:m,expiresIn:A}=yield function Ht(a,i){return Dt.apply(this,arguments)}(i,r);s.updateTokensAndExpiration(d,m,Number(A))})()}updateTokensAndExpiration(i,r,s){this.refreshToken=r||null,this.accessToken=i||null,this.expirationTime=Date.now()+1e3*s}static fromJSON(i,r){const{refreshToken:s,accessToken:d,expirationTime:m}=r,A=new x;return s&&(P("string"==typeof s,"internal-error",{appName:i}),A.refreshToken=s),d&&(P("string"==typeof d,"internal-error",{appName:i}),A.accessToken=d),m&&(P("number"==typeof m,"internal-error",{appName:i}),A.expirationTime=m),A}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(i){this.accessToken=i.accessToken,this.refreshToken=i.refreshToken,this.expirationTime=i.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return he("not implemented")}}function y(a,i){P("string"==typeof a||typeof a>"u","internal-error",{appName:i})}class g{constructor(i){var{uid:r,auth:s,stsTokenManager:d}=i,m=(0,ce._T)(i,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=s,this.stsTokenManager=d,this.accessToken=d.accessToken,this.displayName=m.displayName||null,this.email=m.email||null,this.emailVerified=m.emailVerified||!1,this.phoneNumber=m.phoneNumber||null,this.photoURL=m.photoURL||null,this.isAnonymous=m.isAnonymous||!1,this.tenantId=m.tenantId||null,this.providerData=m.providerData?[...m.providerData]:[],this.metadata=new ft(m.createdAt||void 0,m.lastLoginAt||void 0)}getIdToken(i){var r=this;return(0,h.Z)(function*(){const s=yield Re(r,r.stsTokenManager.getToken(r.auth,i));return P(s,r.auth,"internal-error"),r.accessToken!==s&&(r.accessToken=s,yield r.auth._persistUserIfCurrent(r),r.auth._notifyListenersIfCurrent(r)),s})()}getIdTokenResult(i){return function De(a){return ot.apply(this,arguments)}(this,i)}reload(){return function We(a){return nt.apply(this,arguments)}(this)}_assign(i){this!==i&&(P(this.uid===i.uid,this.auth,"internal-error"),this.displayName=i.displayName,this.photoURL=i.photoURL,this.email=i.email,this.emailVerified=i.emailVerified,this.phoneNumber=i.phoneNumber,this.isAnonymous=i.isAnonymous,this.tenantId=i.tenantId,this.providerData=i.providerData.map(r=>Object.assign({},r)),this.metadata._copy(i.metadata),this.stsTokenManager._assign(i.stsTokenManager))}_clone(i){const r=new g(Object.assign(Object.assign({},this),{auth:i,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(i){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=i,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(i){this.reloadListener?this.reloadListener(i):this.reloadUserInfo=i}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(i,r=!1){var s=this;return(0,h.Z)(function*(){let d=!1;i.idToken&&i.idToken!==s.stsTokenManager.accessToken&&(s.stsTokenManager.updateFromServerResponse(i),d=!0),r&&(yield Y(s)),yield s.auth._persistUserIfCurrent(s),d&&s.auth._notifyListenersIfCurrent(s)})()}delete(){var i=this;return(0,h.Z)(function*(){const r=yield i.getIdToken();return yield Re(i,function St(a,i){return kt.apply(this,arguments)}(i.auth,{idToken:r})),i.stsTokenManager.clearRefreshToken(),i.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(i=>Object.assign({},i)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(i,r){var s,d,m,A,k,L,V,$;const be=null!==(s=r.displayName)&&void 0!==s?s:void 0,at=null!==(d=r.email)&&void 0!==d?d:void 0,Yt=null!==(m=r.phoneNumber)&&void 0!==m?m:void 0,ni=null!==(A=r.photoURL)&&void 0!==A?A:void 0,Zr=null!==(k=r.tenantId)&&void 0!==k?k:void 0,Oo=null!==(L=r._redirectEventId)&&void 0!==L?L:void 0,Or=null!==(V=r.createdAt)&&void 0!==V?V:void 0,Er=null!==($=r.lastLoginAt)&&void 0!==$?$:void 0,{uid:Eo,emailVerified:Lr,isAnonymous:Pr,providerData:Lo,stsTokenManager:Nr}=r;P(Eo&&Nr,i,"internal-error");const oc=x.fromJSON(this.name,Nr);P("string"==typeof Eo,i,"internal-error"),y(be,i.name),y(at,i.name),P("boolean"==typeof Lr,i,"internal-error"),P("boolean"==typeof Pr,i,"internal-error"),y(Yt,i.name),y(ni,i.name),y(Zr,i.name),y(Oo,i.name),y(Or,i.name),y(Er,i.name);const Po=new g({uid:Eo,auth:i,email:at,emailVerified:Lr,displayName:be,isAnonymous:Pr,photoURL:ni,phoneNumber:Yt,tenantId:Zr,stsTokenManager:oc,createdAt:Or,lastLoginAt:Er});return Lo&&Array.isArray(Lo)&&(Po.providerData=Lo.map(rc=>Object.assign({},rc))),Oo&&(Po._redirectEventId=Oo),Po}static _fromIdTokenResponse(i,r,s=!1){return(0,h.Z)(function*(){const d=new x;d.updateFromServerResponse(r);const m=new g({uid:r.localId,auth:i,stsTokenManager:d,isAnonymous:s});return yield Y(m),m})()}}const f=new Map;function _(a){Pe(a instanceof Function,"Expected a class definition");let i=f.get(a);return i?(Pe(i instanceof a,"Instance stored in cache mismatched with class"),i):(i=new a,f.set(a,i),i)}const O=(()=>{class a{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(r,s){var d=this;return(0,h.Z)(function*(){d.storage[r]=s})()}_get(r){var s=this;return(0,h.Z)(function*(){const d=s.storage[r];return void 0===d?null:d})()}_remove(r){var s=this;return(0,h.Z)(function*(){delete s.storage[r]})()}_addListener(r,s){}_removeListener(r,s){}}return a.type="NONE",a})();function D(a,i,r){return`firebase:${a}:${i}:${r}`}class X{constructor(i,r,s){this.persistence=i,this.auth=r,this.userKey=s;const{config:d,name:m}=this.auth;this.fullUserKey=D(this.userKey,d.apiKey,m),this.fullPersistenceKey=D("persistence",d.apiKey,m),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(i){return this.persistence._set(this.fullUserKey,i.toJSON())}getCurrentUser(){var i=this;return(0,h.Z)(function*(){const r=yield i.persistence._get(i.fullUserKey);return r?g._fromJSON(i.auth,r):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(i){var r=this;return(0,h.Z)(function*(){if(r.persistence===i)return;const s=yield r.getCurrentUser();return yield r.removeCurrentUser(),r.persistence=i,s?r.setCurrentUser(s):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(i,r,s="authUser"){return(0,h.Z)(function*(){if(!r.length)return new X(_(O),i,s);const d=(yield Promise.all(r.map(function(){var V=(0,h.Z)(function*($){if(yield $._isAvailable())return $});return function($){return V.apply(this,arguments)}}()))).filter(V=>V);let m=d[0]||_(O);const A=D(s,i.config.apiKey,i.name);let k=null;for(const V of r)try{const $=yield V._get(A);if($){const be=g._fromJSON(i,$);V!==m&&(k=be),m=V;break}}catch{}const L=d.filter(V=>V._shouldAllowMigration);return m._shouldAllowMigration&&L.length?(m=L[0],k&&(yield m._set(A,k.toJSON())),yield Promise.all(r.map(function(){var V=(0,h.Z)(function*($){if($!==m)try{yield $._remove(A)}catch{}});return function($){return V.apply(this,arguments)}}())),new X(m,i,s)):new X(m,i,s)})()}}function Q(a){const i=a.toLowerCase();if(i.includes("opera/")||i.includes("opr/")||i.includes("opios/"))return"Opera";if(E(i))return"IEMobile";if(i.includes("msie")||i.includes("trident/"))return"IE";if(i.includes("edge/"))return"Edge";if(Ce(i))return"Firefox";if(i.includes("silk/"))return"Silk";if(Gt(i))return"Blackberry";if(Z(i))return"Webos";if(ae(i))return"Safari";if((i.includes("chrome/")||se(i))&&!i.includes("edge/"))return"Chrome";if(Ye(i))return"Android";{const s=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===s?.length)return s[1]}return"Other"}function Ce(a=(0,c.z$)()){return/firefox\//i.test(a)}function ae(a=(0,c.z$)()){const i=a.toLowerCase();return i.includes("safari/")&&!i.includes("chrome/")&&!i.includes("crios/")&&!i.includes("android")}function se(a=(0,c.z$)()){return/crios\//i.test(a)}function E(a=(0,c.z$)()){return/iemobile/i.test(a)}function Ye(a=(0,c.z$)()){return/android/i.test(a)}function Gt(a=(0,c.z$)()){return/blackberry/i.test(a)}function Z(a=(0,c.z$)()){return/webos/i.test(a)}function S(a=(0,c.z$)()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function U(a=(0,c.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(a)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(a)}function me(a=(0,c.z$)()){return S(a)||Ye(a)||Z(a)||Gt(a)||/windows phone/i.test(a)||E(a)}function He(a,i=[]){let r;switch(a){case"Browser":r=Q((0,c.z$)());break;case"Worker":r=`${Q((0,c.z$)())}-${a}`;break;default:r=a}const s=i.length?i.join(","):"FirebaseCore-web";return`${r}/JsCore/${e.SDK_VERSION}/${s}`}class Be{constructor(i){this.auth=i,this.queue=[]}pushCallback(i,r){const s=m=>new Promise((A,k)=>{try{A(i(m))}catch(L){k(L)}});s.onAbort=r,this.queue.push(s);const d=this.queue.length-1;return()=>{this.queue[d]=()=>Promise.resolve()}}runMiddleware(i){var r=this;return(0,h.Z)(function*(){if(r.auth.currentUser===i)return;const s=[];try{for(const d of r.queue)yield d(i),d.onAbort&&s.push(d.onAbort)}catch(d){s.reverse();for(const m of s)try{m()}catch{}throw r.auth._errorFactory.create("login-blocked",{originalMessage:d?.message})}})()}}function Kt(){return(Kt=(0,h.Z)(function*(a,i={}){return xe(a,"GET","/v2/passwordPolicy",Te(a,i))})).apply(this,arguments)}class Ur{constructor(i){var r,s,d,m;const A=i.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(r=A.minPasswordLength)&&void 0!==r?r:6,A.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=A.maxPasswordLength),void 0!==A.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=A.containsLowercaseCharacter),void 0!==A.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=A.containsUppercaseCharacter),void 0!==A.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=A.containsNumericCharacter),void 0!==A.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=A.containsNonAlphanumericCharacter),this.enforcementState=i.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(d=null===(s=i.allowedNonAlphanumericCharacters)||void 0===s?void 0:s.join(""))&&void 0!==d?d:"",this.forceUpgradeOnSignin=null!==(m=i.forceUpgradeOnSignin)&&void 0!==m&&m,this.schemaVersion=i.schemaVersion}validatePassword(i){var r,s,d,m,A,k;const L={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(i,L),this.validatePasswordCharacterOptions(i,L),L.isValid&&(L.isValid=null===(r=L.meetsMinPasswordLength)||void 0===r||r),L.isValid&&(L.isValid=null===(s=L.meetsMaxPasswordLength)||void 0===s||s),L.isValid&&(L.isValid=null===(d=L.containsLowercaseLetter)||void 0===d||d),L.isValid&&(L.isValid=null===(m=L.containsUppercaseLetter)||void 0===m||m),L.isValid&&(L.isValid=null===(A=L.containsNumericCharacter)||void 0===A||A),L.isValid&&(L.isValid=null===(k=L.containsNonAlphanumericCharacter)||void 0===k||k),L}validatePasswordLengthOptions(i,r){const s=this.customStrengthOptions.minPasswordLength,d=this.customStrengthOptions.maxPasswordLength;s&&(r.meetsMinPasswordLength=i.length>=s),d&&(r.meetsMaxPasswordLength=i.length<=d)}validatePasswordCharacterOptions(i,r){let s;this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);for(let d=0;d<i.length;d++)s=i.charAt(d),this.updatePasswordCharacterOptionsStatuses(r,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(i,r,s,d,m){this.customStrengthOptions.containsLowercaseLetter&&(i.containsLowercaseLetter||(i.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(i.containsUppercaseLetter||(i.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(i.containsNumericCharacter||(i.containsNumericCharacter=d)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(i.containsNonAlphanumericCharacter||(i.containsNonAlphanumericCharacter=m))}}class No{constructor(i,r,s,d){this.app=i,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=s,this.config=d,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ro(this),this.idTokenSubscription=new Ro(this),this.beforeStateQueue=new Be(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ee,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=i.name,this.clientVersion=d.sdkClientVersion}_initializeWithPersistence(i,r){var s=this;return r&&(this._popupRedirectResolver=_(r)),this._initializationPromise=this.queue((0,h.Z)(function*(){var d,m;if(!s._deleted&&(s.persistenceManager=yield X.create(s,i),!s._deleted)){if(null!==(d=s._popupRedirectResolver)&&void 0!==d&&d._shouldInitProactively)try{yield s._popupRedirectResolver._initialize(s)}catch{}yield s.initializeCurrentUser(r),s.lastNotifiedUid=(null===(m=s.currentUser)||void 0===m?void 0:m.uid)||null,!s._deleted&&(s._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var i=this;return(0,h.Z)(function*(){if(i._deleted)return;const r=yield i.assertedPersistence.getCurrentUser();if(i.currentUser||r){if(i.currentUser&&r&&i.currentUser.uid===r.uid)return i._currentUser._assign(r),void(yield i.currentUser.getIdToken());yield i._updateCurrentUser(r,!0)}})()}initializeCurrentUser(i){var r=this;return(0,h.Z)(function*(){var s;const d=yield r.assertedPersistence.getCurrentUser();let m=d,A=!1;if(i&&r.config.authDomain){yield r.getOrInitRedirectPersistenceManager();const k=null===(s=r.redirectUser)||void 0===s?void 0:s._redirectEventId,L=m?._redirectEventId,V=yield r.tryRedirectSignIn(i);(!k||k===L)&&V?.user&&(m=V.user,A=!0)}if(!m)return r.directlySetCurrentUser(null);if(!m._redirectEventId){if(A)try{yield r.beforeStateQueue.runMiddleware(m)}catch(k){m=d,r._popupRedirectResolver._overrideRedirectResult(r,()=>Promise.reject(k))}return m?r.reloadAndSetCurrentUserOrClear(m):r.directlySetCurrentUser(null)}return P(r._popupRedirectResolver,r,"argument-error"),yield r.getOrInitRedirectPersistenceManager(),r.redirectUser&&r.redirectUser._redirectEventId===m._redirectEventId?r.directlySetCurrentUser(m):r.reloadAndSetCurrentUserOrClear(m)})()}tryRedirectSignIn(i){var r=this;return(0,h.Z)(function*(){let s=null;try{s=yield r._popupRedirectResolver._completeRedirectFn(r,i,!0)}catch{yield r._setRedirectUser(null)}return s})()}reloadAndSetCurrentUserOrClear(i){var r=this;return(0,h.Z)(function*(){try{yield Y(i)}catch(s){if("auth/network-request-failed"!==s?.code)return r.directlySetCurrentUser(null)}return r.directlySetCurrentUser(i)})()}useDeviceLanguage(){this.languageCode=function Ve(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}()}_delete(){var i=this;return(0,h.Z)(function*(){i._deleted=!0})()}updateCurrentUser(i){var r=this;return(0,h.Z)(function*(){const s=i?(0,c.m9)(i):null;return s&&P(s.auth.config.apiKey===r.config.apiKey,r,"invalid-user-token"),r._updateCurrentUser(s&&s._clone(r))})()}_updateCurrentUser(i,r=!1){var s=this;return(0,h.Z)(function*(){if(!s._deleted)return i&&P(s.tenantId===i.tenantId,s,"tenant-id-mismatch"),r||(yield s.beforeStateQueue.runMiddleware(i)),s.queue((0,h.Z)(function*(){yield s.directlySetCurrentUser(i),s.notifyAuthListeners()}))})()}signOut(){var i=this;return(0,h.Z)(function*(){return yield i.beforeStateQueue.runMiddleware(null),(i.redirectPersistenceManager||i._popupRedirectResolver)&&(yield i._setRedirectUser(null)),i._updateCurrentUser(null,!0)})()}setPersistence(i){var r=this;return this.queue((0,h.Z)(function*(){yield r.assertedPersistence.setPersistence(_(i))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(i){var r=this;return(0,h.Z)(function*(){r._getPasswordPolicyInternal()||(yield r._updatePasswordPolicy());const s=r._getPasswordPolicyInternal();return s.schemaVersion!==r.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(r._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(i)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var i=this;return(0,h.Z)(function*(){const r=yield function vt(a){return Kt.apply(this,arguments)}(i),s=new Ur(r);null===i.tenantId?i._projectPasswordPolicy=s:i._tenantPasswordPolicies[i.tenantId]=s})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(i){this._errorFactory=new c.LL("auth","Firebase",i())}onAuthStateChanged(i,r,s){return this.registerStateListener(this.authStateSubscription,i,r,s)}beforeAuthStateChanged(i,r){return this.beforeStateQueue.pushCallback(i,r)}onIdTokenChanged(i,r,s){return this.registerStateListener(this.idTokenSubscription,i,r,s)}authStateReady(){return new Promise((i,r)=>{if(this.currentUser)i();else{const s=this.onAuthStateChanged(()=>{s(),i()},r)}})}toJSON(){var i;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(i=this._currentUser)||void 0===i?void 0:i.toJSON()}}_setRedirectUser(i,r){var s=this;return(0,h.Z)(function*(){const d=yield s.getOrInitRedirectPersistenceManager(r);return null===i?d.removeCurrentUser():d.setCurrentUser(i)})()}getOrInitRedirectPersistenceManager(i){var r=this;return(0,h.Z)(function*(){if(!r.redirectPersistenceManager){const s=i&&_(i)||r._popupRedirectResolver;P(s,r,"argument-error"),r.redirectPersistenceManager=yield X.create(r,[_(s._redirectPersistence)],"redirectUser"),r.redirectUser=yield r.redirectPersistenceManager.getCurrentUser()}return r.redirectPersistenceManager})()}_redirectUserForId(i){var r=this;return(0,h.Z)(function*(){var s,d;return r._isInitialized&&(yield r.queue((0,h.Z)(function*(){}))),(null===(s=r._currentUser)||void 0===s?void 0:s._redirectEventId)===i?r._currentUser:(null===(d=r.redirectUser)||void 0===d?void 0:d._redirectEventId)===i?r.redirectUser:null})()}_persistUserIfCurrent(i){var r=this;return(0,h.Z)(function*(){if(i===r.currentUser)return r.queue((0,h.Z)(function*(){return r.directlySetCurrentUser(i)}))})()}_notifyListenersIfCurrent(i){i===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=null!==(r=null===(i=this.currentUser)||void 0===i?void 0:i.uid)&&void 0!==r?r:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(i,r,s,d){if(this._deleted)return()=>{};const m="function"==typeof r?r:r.next.bind(r);let A=!1;const k=this._isInitialized?Promise.resolve():this._initializationPromise;if(P(k,this,"internal-error"),k.then(()=>{A||m(this.currentUser)}),"function"==typeof r){const L=i.addObserver(r,s,d);return()=>{A=!0,L()}}{const L=i.addObserver(r);return()=>{A=!0,L()}}}directlySetCurrentUser(i){var r=this;return(0,h.Z)(function*(){r.currentUser&&r.currentUser!==i&&r._currentUser._stopProactiveRefresh(),i&&r.isProactiveRefreshEnabled&&i._startProactiveRefresh(),r.currentUser=i,i?yield r.assertedPersistence.setCurrentUser(i):yield r.assertedPersistence.removeCurrentUser()})()}queue(i){return this.operations=this.operations.then(i,i),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(i){!i||this.frameworks.includes(i)||(this.frameworks.push(i),this.frameworks.sort(),this.clientVersion=He(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var i=this;return(0,h.Z)(function*(){var r;const s={"X-Client-Version":i.clientVersion};i.app.options.appId&&(s["X-Firebase-gmpid"]=i.app.options.appId);const d=yield null===(r=i.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===r?void 0:r.getHeartbeatsHeader();d&&(s["X-Firebase-Client"]=d);const m=yield i._getAppCheckToken();return m&&(s["X-Firebase-AppCheck"]=m),s})()}_getAppCheckToken(){var i=this;return(0,h.Z)(function*(){var r;const s=yield null===(r=i.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===r?void 0:r.getToken();return s?.error&&function re(a,...i){oe.logLevel<=M.in.WARN&&oe.warn(`Auth (${e.SDK_VERSION}): ${a}`,...i)}(`Error while retrieving App Check token: ${s.error}`),s?.token})()}}function fe(a){return(0,c.m9)(a)}class Ro{constructor(i){this.auth=i,this.observer=null,this.addObserver=(0,c.ne)(r=>this.observer=r)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ii(a){return new Promise((i,r)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=i,s.onerror=d=>{const m=de("internal-error");m.customData=d,r(m)},s.type="text/javascript",s.charset="UTF-8",function Mr(){var a,i;return null!==(i=null===(a=document.getElementsByTagName("head"))||void 0===a?void 0:a[0])&&void 0!==i?i:document}().appendChild(s)})}function Uo(a){return`__${a}${Math.floor(1e6*Math.random())}`}class Mo{constructor(i){this.type="recaptcha-enterprise",this.auth=fe(i)}verify(i="verify",r=!1){var s=this;return(0,h.Z)(function*(){function m(){return m=(0,h.Z)(function*(k){if(!r){if(null==k.tenantId&&null!=k._agentRecaptchaConfig)return k._agentRecaptchaConfig.siteKey;if(null!=k.tenantId&&void 0!==k._tenantRecaptchaConfigs[k.tenantId])return k._tenantRecaptchaConfigs[k.tenantId].siteKey}return new Promise(function(){var L=(0,h.Z)(function*(V,$){It(k,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(be=>{if(void 0!==be.recaptchaKey){const at=new Ut(be);return null==k.tenantId?k._agentRecaptchaConfig=at:k._tenantRecaptchaConfigs[k.tenantId]=at,V(at.siteKey)}$(new Error("recaptcha Enterprise site key undefined"))}).catch(be=>{$(be)})});return function(V,$){return L.apply(this,arguments)}}())}),m.apply(this,arguments)}function A(k,L,V){const $=window.grecaptcha;Tt($)?$.enterprise.ready(()=>{$.enterprise.execute(k,{action:i}).then(be=>{L(be)}).catch(()=>{L("NO_RECAPTCHA")})}):V(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((k,L)=>{(function d(k){return m.apply(this,arguments)})(s.auth).then(V=>{if(!r&&Tt(window.grecaptcha))A(V,k,L);else{if(typeof window>"u")return void L(new Error("RecaptchaVerifier is only supported in browser"));ii("https://www.google.com/recaptcha/enterprise.js?render="+V).then(()=>{A(V,k,L)}).catch($=>{L($)})}}).catch(V=>{L(V)})})})()}}function qo(a,i,r){return oi.apply(this,arguments)}function oi(){return(oi=(0,h.Z)(function*(a,i,r,s=!1){const d=new Mo(a);let m;try{m=yield d.verify(r)}catch{m=yield d.verify(r,!0)}const A=Object.assign({},i);return Object.assign(A,s?{captchaResp:m}:{captchaResponse:m}),Object.assign(A,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(A,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),A})).apply(this,arguments)}function kn(a,i,r,s){return ri.apply(this,arguments)}function ri(){return ri=(0,h.Z)(function*(a,i,r,s){var d;if(null!==(d=a._getRecaptchaConfig())&&void 0!==d&&d.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const m=yield qo(a,i,r,"getOobCode"===r);return s(a,m)}return s(a,i).catch(function(){var m=(0,h.Z)(function*(A){if("auth/missing-recaptcha-token"===A.code){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const k=yield qo(a,i,r,"getOobCode"===r);return s(a,k)}return Promise.reject(A)});return function(A){return m.apply(this,arguments)}}())}),ri.apply(this,arguments)}function Do(a,i,r){const s=fe(a);P(s._canInitEmulator,s,"emulator-config-failed"),P(/^https?:\/\//.test(i),s,"invalid-emulator-scheme");const d=!!r?.disableWarnings,m=jo(i),{host:A,port:k}=function Br(a){const i=jo(a),r=/(\/\/)?([^?#/]+)/.exec(a.substr(i.length));if(!r)return{host:"",port:null};const s=r[2].split("@").pop()||"",d=/^(\[[^\]]+\])(:|$)/.exec(s);if(d){const m=d[1];return{host:m,port:Fo(s.substr(m.length+1))}}{const[m,A]=s.split(":");return{host:m,port:Fo(A)}}}(i);s.config.emulator={url:`${m}//${A}${null===k?"":`:${k}`}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:A,port:k,protocol:m.replace(":",""),options:Object.freeze({disableWarnings:d})}),d||function Jr(){function a(){const i=document.createElement("p"),r=i.style;i.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",i.classList.add("firebase-emulator-warning"),document.body.appendChild(i)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a())}()}function jo(a){const i=a.indexOf(":");return i<0?"":a.substr(0,i+1)}function Fo(a){if(!a)return null;const i=Number(a);return isNaN(i)?null:i}class cn{constructor(i,r){this.providerId=i,this.signInMethod=r}toJSON(){return he("not implemented")}_getIdTokenResponse(i){return he("not implemented")}_linkToIdToken(i,r){return he("not implemented")}_getReauthenticationResolver(i){return he("not implemented")}}function Qo(a,i){return si.apply(this,arguments)}function si(){return(si=(0,h.Z)(function*(a,i){return xe(a,"POST","/v1/accounts:resetPassword",Te(a,i))})).apply(this,arguments)}function zo(a,i){return ci.apply(this,arguments)}function ci(){return(ci=(0,h.Z)(function*(a,i){return xe(a,"POST","/v1/accounts:update",i)})).apply(this,arguments)}function li(){return(li=(0,h.Z)(function*(a,i){return xe(a,"POST","/v1/accounts:update",Te(a,i))})).apply(this,arguments)}function Wr(a,i){return ui.apply(this,arguments)}function ui(){return(ui=(0,h.Z)(function*(a,i){return F(a,"POST","/v1/accounts:signInWithPassword",Te(a,i))})).apply(this,arguments)}function Zn(a,i){return di.apply(this,arguments)}function di(){return(di=(0,h.Z)(function*(a,i){return xe(a,"POST","/v1/accounts:sendOobCode",Te(a,i))})).apply(this,arguments)}function _i(){return(_i=(0,h.Z)(function*(a,i){return Zn(a,i)})).apply(this,arguments)}function Hr(a,i){return pi.apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(a,i){return Zn(a,i)})).apply(this,arguments)}function Gr(a,i){return hi.apply(this,arguments)}function hi(){return(hi=(0,h.Z)(function*(a,i){return Zn(a,i)})).apply(this,arguments)}function mi(){return(mi=(0,h.Z)(function*(a,i){return Zn(a,i)})).apply(this,arguments)}function gi(){return(gi=(0,h.Z)(function*(a,i){return F(a,"POST","/v1/accounts:signInWithEmailLink",Te(a,i))})).apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(a,i){return F(a,"POST","/v1/accounts:signInWithEmailLink",Te(a,i))})).apply(this,arguments)}class fn extends cn{constructor(i,r,s,d=null){super("password",s),this._email=i,this._password=r,this._tenantId=d}static _fromEmailAndPassword(i,r){return new fn(i,r,"password")}static _fromEmailAndCode(i,r,s=null){return new fn(i,r,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(i){const r="string"==typeof i?JSON.parse(i):i;if(r?.email&&r?.password){if("password"===r.signInMethod)return this._fromEmailAndPassword(r.email,r.password);if("emailLink"===r.signInMethod)return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}_getIdTokenResponse(i){var r=this;return(0,h.Z)(function*(){switch(r.signInMethod){case"password":return kn(i,{returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Wr);case"emailLink":return function Kr(a,i){return gi.apply(this,arguments)}(i,{email:r._email,oobCode:r._password});default:H(i,"internal-error")}})()}_linkToIdToken(i,r){var s=this;return(0,h.Z)(function*(){switch(s.signInMethod){case"password":return zo(i,{idToken:r,returnSecureToken:!0,email:s._email,password:s._password});case"emailLink":return function $r(a,i){return fi.apply(this,arguments)}(i,{idToken:r,email:s._email,oobCode:s._password});default:H(i,"internal-error")}})()}_getReauthenticationResolver(i){return this._getIdTokenResponse(i)}}function jt(a,i){return vi.apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(a,i){return F(a,"POST","/v1/accounts:signInWithIdp",Te(a,i))})).apply(this,arguments)}class Zt extends cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(i){const r=new Zt(i.providerId,i.signInMethod);return i.idToken||i.accessToken?(i.idToken&&(r.idToken=i.idToken),i.accessToken&&(r.accessToken=i.accessToken),i.nonce&&!i.pendingToken&&(r.nonce=i.nonce),i.pendingToken&&(r.pendingToken=i.pendingToken)):i.oauthToken&&i.oauthTokenSecret?(r.accessToken=i.oauthToken,r.secret=i.oauthTokenSecret):H("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(i){const r="string"==typeof i?JSON.parse(i):i,{providerId:s,signInMethod:d}=r,m=(0,ce._T)(r,["providerId","signInMethod"]);if(!s||!d)return null;const A=new Zt(s,d);return A.idToken=m.idToken||void 0,A.accessToken=m.accessToken||void 0,A.secret=m.secret,A.nonce=m.nonce,A.pendingToken=m.pendingToken||null,A}_getIdTokenResponse(i){return jt(i,this.buildRequest())}_linkToIdToken(i,r){const s=this.buildRequest();return s.idToken=r,jt(i,s)}_getReauthenticationResolver(i){const r=this.buildRequest();return r.autoCreate=!1,jt(i,r)}buildRequest(){const i={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)i.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),i.postBody=(0,c.xO)(r)}return i}}function Jt(){return(Jt=(0,h.Z)(function*(a,i){return xe(a,"POST","/v1/accounts:sendVerificationCode",Te(a,i))})).apply(this,arguments)}function $t(){return($t=(0,h.Z)(function*(a,i){return F(a,"POST","/v1/accounts:signInWithPhoneNumber",Te(a,i))})).apply(this,arguments)}function yi(){return(yi=(0,h.Z)(function*(a,i){const r=yield F(a,"POST","/v1/accounts:signInWithPhoneNumber",Te(a,i));if(r.temporaryProof)throw lt(a,"account-exists-with-different-credential",r);return r})).apply(this,arguments)}const na={USER_NOT_FOUND:"user-not-found"};function bi(){return(bi=(0,h.Z)(function*(a,i){return F(a,"POST","/v1/accounts:signInWithPhoneNumber",Te(a,Object.assign(Object.assign({},i),{operation:"REAUTH"})),na)})).apply(this,arguments)}class Xt extends cn{constructor(i){super("phone","phone"),this.params=i}static _fromVerification(i,r){return new Xt({verificationId:i,verificationCode:r})}static _fromTokenResponse(i,r){return new Xt({phoneNumber:i,temporaryProof:r})}_getIdTokenResponse(i){return function ea(a,i){return $t.apply(this,arguments)}(i,this._makeVerificationRequest())}_linkToIdToken(i,r){return function ta(a,i){return yi.apply(this,arguments)}(i,Object.assign({idToken:r},this._makeVerificationRequest()))}_getReauthenticationResolver(i){return function ia(a,i){return bi.apply(this,arguments)}(i,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:i,phoneNumber:r,verificationId:s,verificationCode:d}=this.params;return i&&r?{temporaryProof:i,phoneNumber:r}:{sessionInfo:s,code:d}}toJSON(){const i={providerId:this.providerId};return this.params.phoneNumber&&(i.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(i.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(i.verificationCode=this.params.verificationCode),this.params.verificationId&&(i.verificationId=this.params.verificationId),i}static fromJSON(i){"string"==typeof i&&(i=JSON.parse(i));const{verificationId:r,verificationCode:s,phoneNumber:d,temporaryProof:m}=i;return s||r||d||m?new Xt({verificationId:r,verificationCode:s,phoneNumber:d,temporaryProof:m}):null}}class vn{constructor(i){var r,s,d,m,A,k;const L=(0,c.zd)((0,c.pd)(i)),V=null!==(r=L.apiKey)&&void 0!==r?r:null,$=null!==(s=L.oobCode)&&void 0!==s?s:null,be=function oa(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(d=L.mode)&&void 0!==d?d:null);P(V&&$&&be,"argument-error"),this.apiKey=V,this.operation=be,this.code=$,this.continueUrl=null!==(m=L.continueUrl)&&void 0!==m?m:null,this.languageCode=null!==(A=L.languageCode)&&void 0!==A?A:null,this.tenantId=null!==(k=L.tenantId)&&void 0!==k?k:null}static parseLink(i){const r=function ra(a){const i=(0,c.zd)((0,c.pd)(a)).link,r=i?(0,c.zd)((0,c.pd)(i)).deep_link_id:null,s=(0,c.zd)((0,c.pd)(a)).deep_link_id;return(s?(0,c.zd)((0,c.pd)(s)).link:null)||s||r||i||a}(i);try{return new vn(r)}catch{return null}}}let xi=(()=>{class a{constructor(){this.providerId=a.PROVIDER_ID}static credential(r,s){return fn._fromEmailAndPassword(r,s)}static credentialWithLink(r,s){const d=vn.parseLink(s);return P(d,"argument-error"),fn._fromEmailAndCode(r,d.code,d.tenantId)}}return a.PROVIDER_ID="password",a.EMAIL_PASSWORD_SIGN_IN_METHOD="password",a.EMAIL_LINK_SIGN_IN_METHOD="emailLink",a})();class Ot{constructor(i){this.providerId=i,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(i){this.defaultLanguageCode=i}setCustomParameters(i){return this.customParameters=i,this}getCustomParameters(){return this.customParameters}}class ln extends Ot{constructor(){super(...arguments),this.scopes=[]}addScope(i){return this.scopes.includes(i)||this.scopes.push(i),this}getScopes(){return[...this.scopes]}}class en extends ln{static credentialFromJSON(i){const r="string"==typeof i?JSON.parse(i):i;return P("providerId"in r&&"signInMethod"in r,"argument-error"),Zt._fromParams(r)}credential(i){return this._credential(Object.assign(Object.assign({},i),{nonce:i.rawNonce}))}_credential(i){return P(i.idToken||i.accessToken,"argument-error"),Zt._fromParams(Object.assign(Object.assign({},i),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(i){return en.oauthCredentialFromTaggedObject(i)}static credentialFromError(i){return en.oauthCredentialFromTaggedObject(i.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;const{oauthIdToken:r,oauthAccessToken:s,oauthTokenSecret:d,pendingToken:m,nonce:A,providerId:k}=i;if(!s&&!d&&!r&&!m||!k)return null;try{return new en(k)._credential({idToken:r,accessToken:s,nonce:A,pendingToken:m})}catch{return null}}}let Bo=(()=>{class a extends ln{constructor(){super("facebook.com")}static credential(r){return Zt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.FACEBOOK_SIGN_IN_METHOD,accessToken:r})}static credentialFromResult(r){return a.credentialFromTaggedObject(r)}static credentialFromError(r){return a.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return a.credential(r.oauthAccessToken)}catch{return null}}}return a.FACEBOOK_SIGN_IN_METHOD="facebook.com",a.PROVIDER_ID="facebook.com",a})(),un=(()=>{class a extends ln{constructor(){super("google.com"),this.addScope("profile")}static credential(r,s){return Zt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.GOOGLE_SIGN_IN_METHOD,idToken:r,accessToken:s})}static credentialFromResult(r){return a.credentialFromTaggedObject(r)}static credentialFromError(r){return a.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthIdToken:s,oauthAccessToken:d}=r;if(!s&&!d)return null;try{return a.credential(s,d)}catch{return null}}}return a.GOOGLE_SIGN_IN_METHOD="google.com",a.PROVIDER_ID="google.com",a})(),yn=(()=>{class a extends ln{constructor(){super("github.com")}static credential(r){return Zt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.GITHUB_SIGN_IN_METHOD,accessToken:r})}static credentialFromResult(r){return a.credentialFromTaggedObject(r)}static credentialFromError(r){return a.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return a.credential(r.oauthAccessToken)}catch{return null}}}return a.GITHUB_SIGN_IN_METHOD="github.com",a.PROVIDER_ID="github.com",a})();class dn extends cn{constructor(i,r){super(i,i),this.pendingToken=r}_getIdTokenResponse(i){return jt(i,this.buildRequest())}_linkToIdToken(i,r){const s=this.buildRequest();return s.idToken=r,jt(i,s)}_getReauthenticationResolver(i){const r=this.buildRequest();return r.autoCreate=!1,jt(i,r)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(i){const r="string"==typeof i?JSON.parse(i):i,{providerId:s,signInMethod:d,pendingToken:m}=r;return s&&d&&m&&s===d?new dn(s,m):null}static _create(i,r){return new dn(i,r)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class En extends Ot{constructor(i){P(i.startsWith("saml."),"argument-error"),super(i)}static credentialFromResult(i){return En.samlCredentialFromTaggedObject(i)}static credentialFromError(i){return En.samlCredentialFromTaggedObject(i.customData||{})}static credentialFromJSON(i){const r=dn.fromJSON(i);return P(r,"argument-error"),r}static samlCredentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;const{pendingToken:r,providerId:s}=i;if(!r||!s)return null;try{return dn._create(s,r)}catch{return null}}}let ca=(()=>{class a extends ln{constructor(){super("twitter.com")}static credential(r,s){return Zt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.TWITTER_SIGN_IN_METHOD,oauthToken:r,oauthTokenSecret:s})}static credentialFromResult(r){return a.credentialFromTaggedObject(r)}static credentialFromError(r){return a.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthAccessToken:s,oauthTokenSecret:d}=r;if(!s||!d)return null;try{return a.credential(s,d)}catch{return null}}}return a.TWITTER_SIGN_IN_METHOD="twitter.com",a.PROVIDER_ID="twitter.com",a})();function Ai(a,i){return wi.apply(this,arguments)}function wi(){return(wi=(0,h.Z)(function*(a,i){return F(a,"POST","/v1/accounts:signUp",Te(a,i))})).apply(this,arguments)}class bt{constructor(i){this.user=i.user,this.providerId=i.providerId,this._tokenResponse=i._tokenResponse,this.operationType=i.operationType}static _fromIdTokenResponse(i,r,s,d=!1){return(0,h.Z)(function*(){const m=yield g._fromIdTokenResponse(i,s,d),A=Jo(s);return new bt({user:m,providerId:A,_tokenResponse:s,operationType:r})})()}static _forOperation(i,r,s){return(0,h.Z)(function*(){yield i._updateTokensIfNecessary(s,!0);const d=Jo(s);return new bt({user:i,providerId:d,_tokenResponse:s,operationType:r})})()}}function Jo(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}function Vo(a){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,h.Z)(function*(a){var i;const r=fe(a);if(yield r._initializationPromise,null!==(i=r.currentUser)&&void 0!==i&&i.isAnonymous)return new bt({user:r.currentUser,providerId:null,operationType:"signIn"});const s=yield Ai(r,{returnSecureToken:!0}),d=yield bt._fromIdTokenResponse(r,"signIn",s,!0);return yield r._updateCurrentUser(d.user),d})).apply(this,arguments)}class Ln extends c.ZR{constructor(i,r,s,d){var m;super(r.code,r.message),this.operationType=s,this.user=d,Object.setPrototypeOf(this,Ln.prototype),this.customData={appName:i.name,tenantId:null!==(m=i.tenantId)&&void 0!==m?m:void 0,_serverResponse:r.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(i,r,s,d){return new Ln(i,r,s,d)}}function Wo(a,i,r,s){return("reauthenticate"===i?r._getReauthenticationResolver(a):r._getIdTokenResponse(a)).catch(m=>{throw"auth/multi-factor-auth-required"===m.code?Ln._fromErrorAndOperation(a,m,i,s):m})}function Yo(a){return new Set(a.map(({providerId:i})=>i).filter(i=>!!i))}function la(a,i){return Ti.apply(this,arguments)}function Ti(){return Ti=(0,h.Z)(function*(a,i){const r=(0,c.m9)(a);yield Pn(!0,r,i);const{providerUserInfo:s}=yield function $e(a,i){return ut.apply(this,arguments)}(r.auth,{idToken:yield r.getIdToken(),deleteProvider:[i]}),d=Yo(s||[]);return r.providerData=r.providerData.filter(m=>d.has(m.providerId)),d.has("phone")||(r.phoneNumber=null),yield r.auth._persistUserIfCurrent(r),r}),Ti.apply(this,arguments)}function Ii(a,i){return Si.apply(this,arguments)}function Si(){return(Si=(0,h.Z)(function*(a,i,r=!1){const s=yield Re(a,i._linkToIdToken(a.auth,yield a.getIdToken()),r);return bt._forOperation(a,"link",s)})).apply(this,arguments)}function Pn(a,i,r){return ki.apply(this,arguments)}function ki(){return(ki=(0,h.Z)(function*(a,i,r){yield Y(i);const d=!1===a?"provider-already-linked":"no-such-provider";P(Yo(i.providerData).has(r)===a,i.auth,d)})).apply(this,arguments)}function Ho(a,i){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,h.Z)(function*(a,i,r=!1){const{auth:s}=a,d="reauthenticate";try{const m=yield Re(a,Wo(s,d,i,a),r);P(m.idToken,s,"internal-error");const A=gt(m.idToken);P(A,s,"internal-error");const{sub:k}=A;return P(a.uid===k,s,"user-mismatch"),bt._forOperation(a,d,m)}catch(m){throw"auth/user-not-found"===m?.code&&H(s,"user-mismatch"),m}})).apply(this,arguments)}function Go(a,i){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,h.Z)(function*(a,i,r=!1){const s="signIn",d=yield Wo(a,s,i),m=yield bt._fromIdTokenResponse(a,s,d);return r||(yield a._updateCurrentUser(m.user)),m})).apply(this,arguments)}function Nn(a,i){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(a,i){return Go(fe(a),i)})).apply(this,arguments)}function Ko(a,i){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,h.Z)(function*(a,i){const r=(0,c.m9)(a);return yield Pn(!1,r,i.providerId),Ii(r,i)})).apply(this,arguments)}function $o(a,i){return Li.apply(this,arguments)}function Li(){return(Li=(0,h.Z)(function*(a,i){return Ho((0,c.m9)(a),i)})).apply(this,arguments)}function Pi(){return(Pi=(0,h.Z)(function*(a,i){return F(a,"POST","/v1/accounts:signInWithCustomToken",Te(a,i))})).apply(this,arguments)}function da(a,i){return Ni.apply(this,arguments)}function Ni(){return Ni=(0,h.Z)(function*(a,i){const r=fe(a),s=yield function ua(a,i){return Pi.apply(this,arguments)}(r,{token:i,returnSecureToken:!0}),d=yield bt._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(d.user),d}),Ni.apply(this,arguments)}class bn{constructor(i,r){this.factorId=i,this.uid=r.mfaEnrollmentId,this.enrollmentTime=new Date(r.enrolledAt).toUTCString(),this.displayName=r.displayName}static _fromServerResponse(i,r){return"phoneInfo"in r?Ri._fromServerResponse(i,r):"totpInfo"in r?Ui._fromServerResponse(i,r):H(i,"internal-error")}}class Ri extends bn{constructor(i){super("phone",i),this.phoneNumber=i.phoneInfo}static _fromServerResponse(i,r){return new Ri(r)}}class Ui extends bn{constructor(i){super("totp",i)}static _fromServerResponse(i,r){return new Ui(r)}}function Un(a,i,r){var s;P((null===(s=r.url)||void 0===s?void 0:s.length)>0,a,"invalid-continue-uri"),P(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,a,"invalid-dynamic-link-domain"),i.continueUrl=r.url,i.dynamicLinkDomain=r.dynamicLinkDomain,i.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(P(r.iOS.bundleId.length>0,a,"missing-ios-bundle-id"),i.iOSBundleId=r.iOS.bundleId),r.android&&(P(r.android.packageName.length>0,a,"missing-android-pkg-name"),i.androidInstallApp=r.android.installApp,i.androidMinimumVersionCode=r.android.minimumVersion,i.androidPackageName=r.android.packageName)}function Mi(a){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,h.Z)(function*(a){const i=fe(a);i._getPasswordPolicyInternal()&&(yield i._updatePasswordPolicy())})).apply(this,arguments)}function _a(a,i,r){return qi.apply(this,arguments)}function qi(){return(qi=(0,h.Z)(function*(a,i,r){const s=fe(a),d={requestType:"PASSWORD_RESET",email:i,clientType:"CLIENT_TYPE_WEB"};r&&Un(s,d,r),yield kn(s,d,"getOobCode",Hr)})).apply(this,arguments)}function qn(a,i,r){return Di.apply(this,arguments)}function Di(){return Di=(0,h.Z)(function*(a,i,r){yield Qo((0,c.m9)(a),{oobCode:i,newPassword:r}).catch(function(){var s=(0,h.Z)(function*(d){throw"auth/password-does-not-meet-requirements"===d.code&&Mi(a),d});return function(d){return s.apply(this,arguments)}}())}),Di.apply(this,arguments)}function pa(a,i){return ji.apply(this,arguments)}function ji(){return ji=(0,h.Z)(function*(a,i){yield function Vr(a,i){return li.apply(this,arguments)}((0,c.m9)(a),{oobCode:i})}),ji.apply(this,arguments)}function Xo(a,i){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,h.Z)(function*(a,i){const r=(0,c.m9)(a),s=yield Qo(r,{oobCode:i}),d=s.requestType;switch(P(d,r,"internal-error"),d){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":P(s.newEmail,r,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":P(s.mfaInfo,r,"internal-error");default:P(s.email,r,"internal-error")}let m=null;return s.mfaInfo&&(m=bn._fromServerResponse(fe(r),s.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===s.requestType?s.newEmail:s.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===s.requestType?s.email:s.newEmail)||null,multiFactorInfo:m},operation:d}})).apply(this,arguments)}function ha(a,i){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,h.Z)(function*(a,i){const{data:r}=yield Xo((0,c.m9)(a),i);return r.email})).apply(this,arguments)}function ma(a,i,r){return zi.apply(this,arguments)}function zi(){return(zi=(0,h.Z)(function*(a,i,r){const s=fe(a),A=yield kn(s,{returnSecureToken:!0,email:i,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ai).catch(L=>{throw"auth/password-does-not-meet-requirements"===L.code&&Mi(a),L}),k=yield bt._fromIdTokenResponse(s,"signIn",A);return yield s._updateCurrentUser(k.user),k})).apply(this,arguments)}function ga(a,i,r){return Nn((0,c.m9)(a),xi.credential(i,r)).catch(function(){var s=(0,h.Z)(function*(d){throw"auth/password-does-not-meet-requirements"===d.code&&Mi(a),d});return function(d){return s.apply(this,arguments)}}())}function fa(a,i,r){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,h.Z)(function*(a,i,r){const s=fe(a),d={requestType:"EMAIL_SIGNIN",email:i,clientType:"CLIENT_TYPE_WEB"};(function m(A,k){P(k.handleCodeInApp,s,"argument-error"),k&&Un(s,A,k)})(d,r),yield kn(s,d,"getOobCode",Gr)})).apply(this,arguments)}function er(a,i){const r=vn.parseLink(i);return"EMAIL_SIGNIN"===r?.operation}function va(a,i,r){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,h.Z)(function*(a,i,r){const s=(0,c.m9)(a),d=xi.credentialWithLink(i,r||Ee());return P(d._tenantId===(s.tenantId||null),s,"tenant-id-mismatch"),Nn(s,d)})).apply(this,arguments)}function Ji(){return(Ji=(0,h.Z)(function*(a,i){return xe(a,"POST","/v1/accounts:createAuthUri",Te(a,i))})).apply(this,arguments)}function ba(a,i){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,h.Z)(function*(a,i){const s={identifier:i,continueUri:ct()?Ee():"http://localhost"},{signinMethods:d}=yield function ya(a,i){return Ji.apply(this,arguments)}((0,c.m9)(a),s);return d||[]}),Vi.apply(this,arguments)}function xa(a,i){return Wi.apply(this,arguments)}function Wi(){return Wi=(0,h.Z)(function*(a,i){const r=(0,c.m9)(a),d={requestType:"VERIFY_EMAIL",idToken:yield a.getIdToken()};i&&Un(r.auth,d,i);const{email:m}=yield function Yr(a,i){return _i.apply(this,arguments)}(r.auth,d);m!==a.email&&(yield a.reload())}),Wi.apply(this,arguments)}function Aa(a,i,r){return Yi.apply(this,arguments)}function Yi(){return Yi=(0,h.Z)(function*(a,i,r){const s=(0,c.m9)(a),m={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield a.getIdToken(),newEmail:i};r&&Un(s.auth,m,r);const{email:A}=yield function yt(a,i){return mi.apply(this,arguments)}(s.auth,m);A!==a.email&&(yield a.reload())}),Yi.apply(this,arguments)}function Hi(){return(Hi=(0,h.Z)(function*(a,i){return xe(a,"POST","/v1/accounts:update",i)})).apply(this,arguments)}function Ca(a,i){return Gi.apply(this,arguments)}function Gi(){return Gi=(0,h.Z)(function*(a,{displayName:i,photoURL:r}){if(void 0===i&&void 0===r)return;const s=(0,c.m9)(a),m={idToken:yield s.getIdToken(),displayName:i,photoUrl:r,returnSecureToken:!0},A=yield Re(s,function wa(a,i){return Hi.apply(this,arguments)}(s.auth,m));s.displayName=A.displayName||null,s.photoURL=A.photoUrl||null;const k=s.providerData.find(({providerId:L})=>"password"===L);k&&(k.displayName=s.displayName,k.photoURL=s.photoURL),yield s._updateTokensIfNecessary(A)}),Gi.apply(this,arguments)}function Ta(a,i){return tr((0,c.m9)(a),i,null)}function Ia(a,i){return tr((0,c.m9)(a),null,i)}function tr(a,i,r){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,h.Z)(function*(a,i,r){const{auth:s}=a,m={idToken:yield a.getIdToken(),returnSecureToken:!0};i&&(m.email=i),r&&(m.password=r);const A=yield Re(a,zo(s,m));yield a._updateTokensIfNecessary(A,!0)})).apply(this,arguments)}class _n{constructor(i,r,s={}){this.isNewUser=i,this.providerId=r,this.profile=s}}class nr extends _n{constructor(i,r,s,d){super(i,r,s),this.username=d}}class Sa extends _n{constructor(i,r){super(i,"facebook.com",r)}}class ka extends nr{constructor(i,r){super(i,"github.com",r,"string"==typeof r?.login?r?.login:null)}}class Za extends _n{constructor(i,r){super(i,"google.com",r)}}class Oa extends nr{constructor(i,r,s){super(i,"twitter.com",r,s)}}function Ea(a){const{user:i,_tokenResponse:r}=a;return i.isAnonymous&&!r?{providerId:null,isNewUser:!1,profile:null}:function tn(a){var i,r;if(!a)return null;const{providerId:s}=a,d=a.rawUserInfo?JSON.parse(a.rawUserInfo):{},m=a.isNewUser||"identitytoolkit#SignupNewUserResponse"===a.kind;if(!s&&a?.idToken){const A=null===(r=null===(i=gt(a.idToken))||void 0===i?void 0:i.firebase)||void 0===r?void 0:r.sign_in_provider;if(A)return new _n(m,"anonymous"!==A&&"custom"!==A?A:null)}if(!s)return null;switch(s){case"facebook.com":return new Sa(m,d);case"github.com":return new ka(m,d);case"google.com":return new Za(m,d);case"twitter.com":return new Oa(m,d,a.screenName||null);case"custom":case"anonymous":return new _n(m,null);default:return new _n(m,s,d)}}(r)}class nn{constructor(i,r,s){this.type=i,this.credential=r,this.user=s}static _fromIdtoken(i,r){return new nn("enroll",i,r)}static _fromMfaPendingCredential(i){return new nn("signin",i)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(i){var r,s;if(i?.multiFactorSession){if(null!==(r=i.multiFactorSession)&&void 0!==r&&r.pendingCredential)return nn._fromMfaPendingCredential(i.multiFactorSession.pendingCredential);if(null!==(s=i.multiFactorSession)&&void 0!==s&&s.idToken)return nn._fromIdtoken(i.multiFactorSession.idToken)}return null}}class eo{constructor(i,r,s){this.session=i,this.hints=r,this.signInResolver=s}static _fromError(i,r){const s=fe(i),d=r.customData._serverResponse,m=(d.mfaInfo||[]).map(k=>bn._fromServerResponse(s,k));P(d.mfaPendingCredential,s,"internal-error");const A=nn._fromMfaPendingCredential(d.mfaPendingCredential);return new eo(A,m,function(){var k=(0,h.Z)(function*(L){const V=yield L._process(s,A);delete d.mfaInfo,delete d.mfaPendingCredential;const $=Object.assign(Object.assign({},d),{idToken:V.idToken,refreshToken:V.refreshToken});switch(r.operationType){case"signIn":const be=yield bt._fromIdTokenResponse(s,r.operationType,$);return yield s._updateCurrentUser(be.user),be;case"reauthenticate":return P(r.user,s,"internal-error"),bt._forOperation(r.user,r.operationType,$);default:H(s,"internal-error")}});return function(L){return k.apply(this,arguments)}}())}resolveSignIn(i){var r=this;return(0,h.Z)(function*(){return r.signInResolver(i)})()}}function Na(a,i){var r;const s=(0,c.m9)(a),d=i;return P(i.customData.operationType,s,"argument-error"),P(null===(r=d.customData._serverResponse)||void 0===r?void 0:r.mfaPendingCredential,s,"argument-error"),eo._fromError(s,d)}class to{constructor(i){this.user=i,this.enrolledFactors=[],i._onReload(r=>{r.mfaInfo&&(this.enrolledFactors=r.mfaInfo.map(s=>bn._fromServerResponse(i.auth,s)))})}static _fromUser(i){return new to(i)}getSession(){var i=this;return(0,h.Z)(function*(){return nn._fromIdtoken(yield i.user.getIdToken(),i.user)})()}enroll(i,r){var s=this;return(0,h.Z)(function*(){const d=i,m=yield s.getSession(),A=yield Re(s.user,d._process(s.user.auth,m,r));return yield s.user._updateTokensIfNecessary(A),s.user.reload()})()}unenroll(i){var r=this;return(0,h.Z)(function*(){const s="string"==typeof i?i:i.uid,d=yield r.user.getIdToken();try{const m=yield Re(r.user,function qa(a,i){return xe(a,"POST","/v2/accounts/mfaEnrollment:withdraw",Te(a,i))}(r.user.auth,{idToken:d,mfaEnrollmentId:s}));r.enrolledFactors=r.enrolledFactors.filter(({uid:A})=>A!==s),yield r.user._updateTokensIfNecessary(m),yield r.user.reload()}catch(m){throw m}})()}}const no=new WeakMap;function Da(a){const i=(0,c.m9)(a);return no.has(i)||no.set(i,to._fromUser(i)),no.get(i)}const jn="__sak";class ir{constructor(i,r){this.storageRetriever=i,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(jn,"1"),this.storage.removeItem(jn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(i,r){return this.storage.setItem(i,JSON.stringify(r)),Promise.resolve()}_get(i){const r=this.storage.getItem(i);return Promise.resolve(r?JSON.parse(r):null)}_remove(i){return this.storage.removeItem(i),Promise.resolve()}get storage(){return this.storageRetriever()}}const or=(()=>{class a extends ir{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(r,s)=>this.onStorageEvent(r,s),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ja(){const a=(0,c.z$)();return ae(a)||S(a)}()&&function ke(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=me(),this._shouldAllowMigration=!0}forAllChangedKeys(r){for(const s of Object.keys(this.listeners)){const d=this.storage.getItem(s),m=this.localCache[s];d!==m&&r(s,m,d)}}onStorageEvent(r,s=!1){if(!r.key)return void this.forAllChangedKeys((k,L,V)=>{this.notifyListeners(k,V)});const d=r.key;if(s?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const k=this.storage.getItem(d);if(r.newValue!==k)null!==r.newValue?this.storage.setItem(d,r.newValue):this.storage.removeItem(d);else if(this.localCache[d]===r.newValue&&!s)return}const m=()=>{const k=this.storage.getItem(d);!s&&this.localCache[d]===k||this.notifyListeners(d,k)},A=this.storage.getItem(d);!function ue(){return(0,c.w1)()&&10===document.documentMode}()||A===r.newValue||r.newValue===r.oldValue?m():setTimeout(m,10)}notifyListeners(r,s){this.localCache[r]=s;const d=this.listeners[r];if(d)for(const m of Array.from(d))m(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((r,s,d)=>{this.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:s,newValue:d}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(r,s){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[r]||(this.listeners[r]=new Set,this.localCache[r]=this.storage.getItem(r)),this.listeners[r].add(s)}_removeListener(r,s){this.listeners[r]&&(this.listeners[r].delete(s),0===this.listeners[r].size&&delete this.listeners[r]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(r,s){var d=()=>super._set,m=this;return(0,h.Z)(function*(){yield d().call(m,r,s),m.localCache[r]=JSON.stringify(s)})()}_get(r){var s=()=>super._get,d=this;return(0,h.Z)(function*(){const m=yield s().call(d,r);return d.localCache[r]=JSON.stringify(m),m})()}_remove(r){var s=()=>super._remove,d=this;return(0,h.Z)(function*(){yield s().call(d,r),delete d.localCache[r]})()}}return a.type="LOCAL",a})(),io=(()=>{class a extends ir{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(r,s){}_removeListener(r,s){}}return a.type="SESSION",a})();let xn=(()=>{class a{constructor(r){this.eventTarget=r,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(r){const s=this.receivers.find(m=>m.isListeningto(r));if(s)return s;const d=new a(r);return this.receivers.push(d),d}isListeningto(r){return this.eventTarget===r}handleEvent(r){var s=this;return(0,h.Z)(function*(){const d=r,{eventId:m,eventType:A,data:k}=d.data,L=s.handlersMap[A];if(!L?.size)return;d.ports[0].postMessage({status:"ack",eventId:m,eventType:A});const V=Array.from(L).map(function(){var be=(0,h.Z)(function*(at){return at(d.origin,k)});return function(at){return be.apply(this,arguments)}}()),$=yield function za(a){return Promise.all(a.map(function(){var i=(0,h.Z)(function*(r){try{return{fulfilled:!0,value:yield r}}catch(s){return{fulfilled:!1,reason:s}}});return function(r){return i.apply(this,arguments)}}()))}(V);d.ports[0].postMessage({status:"done",eventId:m,eventType:A,response:$})})()}_subscribe(r,s){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[r]||(this.handlersMap[r]=new Set),this.handlersMap[r].add(s)}_unsubscribe(r,s){this.handlersMap[r]&&s&&this.handlersMap[r].delete(s),(!s||0===this.handlersMap[r].size)&&delete this.handlersMap[r],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return a.receivers=[],a})();function Je(a="",i=10){let r="";for(let s=0;s<i;s++)r+=Math.floor(10*Math.random());return a+r}class rr{constructor(i){this.target=i,this.handlers=new Set}removeMessageHandler(i){i.messageChannel&&(i.messageChannel.port1.removeEventListener("message",i.onMessage),i.messageChannel.port1.close()),this.handlers.delete(i)}_send(i,r,s=50){var d=this;return(0,h.Z)(function*(){const m=typeof MessageChannel<"u"?new MessageChannel:null;if(!m)throw new Error("connection_unavailable");let A,k;return new Promise((L,V)=>{const $=Je("",20);m.port1.start();const be=setTimeout(()=>{V(new Error("unsupported_event"))},s);k={messageChannel:m,onMessage(at){const Yt=at;if(Yt.data.eventId===$)switch(Yt.data.status){case"ack":clearTimeout(be),A=setTimeout(()=>{V(new Error("timeout"))},3e3);break;case"done":clearTimeout(A),L(Yt.data.response);break;default:clearTimeout(be),clearTimeout(A),V(new Error("invalid_response"))}}},d.handlers.add(k),m.port1.addEventListener("message",k.onMessage),d.target.postMessage({eventType:i,eventId:$,data:r},[m.port2])}).finally(()=>{k&&d.removeMessageHandler(k)})})()}}function Me(){return window}function pn(){return typeof Me().WorkerGlobalScope<"u"&&"function"==typeof Me().importScripts}function Qn(){return(Qn=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ar="firebaseLocalStorageDb",zn="firebaseLocalStorage",sr="fbase_key";class An{constructor(i){this.request=i}toPromise(){return new Promise((i,r)=>{this.request.addEventListener("success",()=>{i(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Bn(a,i){return a.transaction([zn],i?"readwrite":"readonly").objectStore(zn)}function oo(){const a=indexedDB.open(ar,1);return new Promise((i,r)=>{a.addEventListener("error",()=>{r(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(zn,{keyPath:sr})}catch(d){r(d)}}),a.addEventListener("success",(0,h.Z)(function*(){const s=a.result;s.objectStoreNames.contains(zn)?i(s):(s.close(),yield function Ya(){const a=indexedDB.deleteDatabase(ar);return new An(a).toPromise()}(),i(yield oo()))}))})}function cr(a,i,r){return on.apply(this,arguments)}function on(){return(on=(0,h.Z)(function*(a,i,r){const s=Bn(a,!0).put({[sr]:i,value:r});return new An(s).toPromise()})).apply(this,arguments)}function ro(){return(ro=(0,h.Z)(function*(a,i){const r=Bn(a,!1).get(i),s=yield new An(r).toPromise();return void 0===s?null:s.value})).apply(this,arguments)}function lr(a,i){const r=Bn(a,!0).delete(i);return new An(r).toPromise()}const ur=(()=>{class a{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var r=this;return(0,h.Z)(function*(){return r.db||(r.db=yield oo()),r.db})()}_withRetries(r){var s=this;return(0,h.Z)(function*(){let d=0;for(;;)try{const m=yield s._openDb();return yield r(m)}catch(m){if(d++>3)throw m;s.db&&(s.db.close(),s.db=void 0)}})()}initializeServiceWorkerMessaging(){var r=this;return(0,h.Z)(function*(){return pn()?r.initializeReceiver():r.initializeSender()})()}initializeReceiver(){var r=this;return(0,h.Z)(function*(){r.receiver=xn._getInstance(function Va(){return pn()?self:null}()),r.receiver._subscribe("keyChanged",function(){var s=(0,h.Z)(function*(d,m){return{keyProcessed:(yield r._poll()).includes(m.key)}});return function(d,m){return s.apply(this,arguments)}}()),r.receiver._subscribe("ping",function(){var s=(0,h.Z)(function*(d,m){return["keyChanged"]});return function(d,m){return s.apply(this,arguments)}}())})()}initializeSender(){var r=this;return(0,h.Z)(function*(){var s,d;if(r.activeServiceWorker=yield function Ba(){return Qn.apply(this,arguments)}(),!r.activeServiceWorker)return;r.sender=new rr(r.activeServiceWorker);const m=yield r.sender._send("ping",{},800);m&&null!==(s=m[0])&&void 0!==s&&s.fulfilled&&null!==(d=m[0])&&void 0!==d&&d.value.includes("keyChanged")&&(r.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(r){var s=this;return(0,h.Z)(function*(){if(s.sender&&s.activeServiceWorker&&function Ja(){var a;return(null===(a=navigator?.serviceWorker)||void 0===a?void 0:a.controller)||null}()===s.activeServiceWorker)try{yield s.sender._send("keyChanged",{key:r},s.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const r=yield oo();return yield cr(r,jn,"1"),yield lr(r,jn),!0}catch{}return!1})()}_withPendingWrite(r){var s=this;return(0,h.Z)(function*(){s.pendingWrites++;try{yield r()}finally{s.pendingWrites--}})()}_set(r,s){var d=this;return(0,h.Z)(function*(){return d._withPendingWrite((0,h.Z)(function*(){return yield d._withRetries(m=>cr(m,r,s)),d.localCache[r]=s,d.notifyServiceWorker(r)}))})()}_get(r){var s=this;return(0,h.Z)(function*(){const d=yield s._withRetries(m=>function Ha(a,i){return ro.apply(this,arguments)}(m,r));return s.localCache[r]=d,d})()}_remove(r){var s=this;return(0,h.Z)(function*(){return s._withPendingWrite((0,h.Z)(function*(){return yield s._withRetries(d=>lr(d,r)),delete s.localCache[r],s.notifyServiceWorker(r)}))})()}_poll(){var r=this;return(0,h.Z)(function*(){const s=yield r._withRetries(A=>{const k=Bn(A,!1).getAll();return new An(k).toPromise()});if(!s)return[];if(0!==r.pendingWrites)return[];const d=[],m=new Set;for(const{fbase_key:A,value:k}of s)m.add(A),JSON.stringify(r.localCache[A])!==JSON.stringify(k)&&(r.notifyListeners(A,k),d.push(A));for(const A of Object.keys(r.localCache))r.localCache[A]&&!m.has(A)&&(r.notifyListeners(A,null),d.push(A));return d})()}notifyListeners(r,s){this.localCache[r]=s;const d=this.listeners[r];if(d)for(const m of Array.from(d))m(s)}startPolling(){var r=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return r._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(r,s){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[r]||(this.listeners[r]=new Set,this._get(r)),this.listeners[r].add(s)}_removeListener(r,s){this.listeners[r]&&(this.listeners[r].delete(s),0===this.listeners[r].size&&delete this.listeners[r]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return a.type="LOCAL",a})(),Jn=1e12;class is{constructor(i){this.auth=i,this.counter=Jn,this._widgets=new Map}render(i,r){const s=this.counter;return this._widgets.set(s,new os(i,this.auth.name,r||{})),this.counter++,s}reset(i){var r;const s=i||Jn;null===(r=this._widgets.get(s))||void 0===r||r.delete(),this._widgets.delete(s)}getResponse(i){var r;return(null===(r=this._widgets.get(i||Jn))||void 0===r?void 0:r.getResponse())||""}execute(i){var r=this;return(0,h.Z)(function*(){var s;return null===(s=r._widgets.get(i||Jn))||void 0===s||s.execute(),""})()}}class os{constructor(i,r,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const d="string"==typeof i?document.getElementById(i):i;P(d,"argument-error",{appName:r}),this.container=d,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rs(a){const i=[],r="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<a;s++)i.push(r.charAt(Math.floor(62*Math.random())));return i.join("")}(50);const{callback:i,"expired-callback":r}=this.params;if(i)try{i(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,r)try{r()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ao=Uo("rcb"),as=new pt(3e4,6e4);class cs{constructor(){var i;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(i=Me().grecaptcha)||void 0===i||!i.render)}load(i,r=""){return P(function ls(a){return a.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(a)}(r),i,"argument-error"),this.shouldResolveImmediately(r)&&Rt(Me().grecaptcha)?Promise.resolve(Me().grecaptcha):new Promise((s,d)=>{const m=Me().setTimeout(()=>{d(de(i,"network-request-failed"))},as.get());Me()[ao]=()=>{Me().clearTimeout(m),delete Me()[ao];const k=Me().grecaptcha;if(!k||!Rt(k))return void d(de(i,"internal-error"));const L=k.render;k.render=(V,$)=>{const be=L(V,$);return this.counter++,be},this.hostLanguage=r,s(k)},ii(`https://www.google.com/recaptcha/api.js??${(0,c.xO)({onload:ao,render:"explicit",hl:r})}`).catch(()=>{clearTimeout(m),d(de(i,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(i){var r;return!(null===(r=Me().grecaptcha)||void 0===r||!r.render)&&(i===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class us{load(i){return(0,h.Z)(function*(){return new is(i)})()}clearedOneInstance(){}}const dr="recaptcha",ds={theme:"light",type:"image"};class _s{constructor(i,r,s=Object.assign({},ds)){this.parameters=s,this.type=dr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fe(i),this.isInvisible="invisible"===this.parameters.size,P(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const d="string"==typeof r?document.getElementById(r):r;P(d,this.auth,"argument-error"),this.container=d,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new us:new cs,this.validateStartingState()}verify(){var i=this;return(0,h.Z)(function*(){i.assertNotDestroyed();const r=yield i.render(),s=i.getAssertedRecaptcha();return s.getResponse(r)||new Promise(m=>{const A=k=>{k&&(i.tokenChangeListeners.delete(A),m(k))};i.tokenChangeListeners.add(A),i.isInvisible&&s.execute(r)})})()}render(){try{this.assertNotDestroyed()}catch(i){return Promise.reject(i)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(i=>{throw this.renderPromise=null,i})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(i=>{this.container.removeChild(i)})}validateStartingState(){P(!this.parameters.sitekey,this.auth,"argument-error"),P(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),P(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(i){return r=>{if(this.tokenChangeListeners.forEach(s=>s(r)),"function"==typeof i)i(r);else if("string"==typeof i){const s=Me()[i];"function"==typeof s&&s(r)}}}assertNotDestroyed(){P(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var i=this;return(0,h.Z)(function*(){if(yield i.init(),!i.widgetId){let r=i.container;if(!i.isInvisible){const s=document.createElement("div");r.appendChild(s),r=s}i.widgetId=i.getAssertedRecaptcha().render(r,i.parameters)}return i.widgetId})()}init(){var i=this;return(0,h.Z)(function*(){P(ct()&&!pn(),i.auth,"internal-error"),yield function ps(){let a=null;return new Promise(i=>{"complete"!==document.readyState?(a=()=>i(),window.addEventListener("load",a)):i()}).catch(i=>{throw a&&window.removeEventListener("load",a),i})}(),i.recaptcha=yield i._recaptchaLoader.load(i.auth,i.auth.languageCode||void 0);const r=yield function v(a){return _e.apply(this,arguments)}(i.auth);P(r,i.auth,"internal-error"),i.parameters.sitekey=r})()}getAssertedRecaptcha(){return P(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class so{constructor(i,r){this.verificationId=i,this.onConfirmation=r}confirm(i){const r=Xt._fromVerification(this.verificationId,i);return this.onConfirmation(r)}}function hs(a,i,r){return co.apply(this,arguments)}function co(){return(co=(0,h.Z)(function*(a,i,r){const s=fe(a),d=yield Vn(s,i,(0,c.m9)(r));return new so(d,m=>Nn(s,m))})).apply(this,arguments)}function ms(a,i,r){return lo.apply(this,arguments)}function lo(){return(lo=(0,h.Z)(function*(a,i,r){const s=(0,c.m9)(a);yield Pn(!1,s,"phone");const d=yield Vn(s.auth,i,(0,c.m9)(r));return new so(d,m=>Ko(s,m))})).apply(this,arguments)}function Wt(a,i,r){return wn.apply(this,arguments)}function wn(){return(wn=(0,h.Z)(function*(a,i,r){const s=(0,c.m9)(a),d=yield Vn(s.auth,i,(0,c.m9)(r));return new so(d,m=>$o(s,m))})).apply(this,arguments)}function Vn(a,i,r){return uo.apply(this,arguments)}function uo(){return uo=(0,h.Z)(function*(a,i,r){var s;const d=yield r.verify();try{let m;if(P("string"==typeof d,a,"argument-error"),P(r.type===dr,a,"argument-error"),m="string"==typeof i?{phoneNumber:i}:i,"session"in m){const A=m.session;if("phoneNumber"in m)return P("enroll"===A.type,a,"internal-error"),(yield function Ra(a,i){return xe(a,"POST","/v2/accounts/mfaEnrollment:start",Te(a,i))}(a,{idToken:A.credential,phoneEnrollmentInfo:{phoneNumber:m.phoneNumber,recaptchaToken:d}})).phoneSessionInfo.sessionInfo;{P("signin"===A.type,a,"internal-error");const k=(null===(s=m.multiFactorHint)||void 0===s?void 0:s.uid)||m.multiFactorUid;return P(k,a,"missing-multi-factor-info"),(yield function $a(a,i){return xe(a,"POST","/v2/accounts/mfaSignIn:start",Te(a,i))}(a,{mfaPendingCredential:A.credential,mfaEnrollmentId:k,phoneSignInInfo:{recaptchaToken:d}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:A}=yield function On(a,i){return Jt.apply(this,arguments)}(a,{phoneNumber:m.phoneNumber,recaptchaToken:d});return A}}finally{r._reset()}}),uo.apply(this,arguments)}function gs(a,i){return _o.apply(this,arguments)}function _o(){return(_o=(0,h.Z)(function*(a,i){yield Ii((0,c.m9)(a),i)})).apply(this,arguments)}let fs=(()=>{class a{constructor(r){this.providerId=a.PROVIDER_ID,this.auth=fe(r)}verifyPhoneNumber(r,s){return Vn(this.auth,r,(0,c.m9)(s))}static credential(r,s){return Xt._fromVerification(r,s)}static credentialFromResult(r){return a.credentialFromTaggedObject(r)}static credentialFromError(r){return a.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{phoneNumber:s,temporaryProof:d}=r;return s&&d?Xt._fromTokenResponse(s,d):null}}return a.PROVIDER_ID="phone",a.PHONE_SIGN_IN_METHOD="phone",a})();function rn(a,i){return i?_(i):(P(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class po extends cn{constructor(i){super("custom","custom"),this.params=i}_getIdTokenResponse(i){return jt(i,this._buildIdpRequest())}_linkToIdToken(i,r){return jt(i,this._buildIdpRequest(r))}_getReauthenticationResolver(i){return jt(i,this._buildIdpRequest())}_buildIdpRequest(i){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return i&&(r.idToken=i),r}}function vs(a){return Go(a.auth,new po(a),a.bypassAuthState)}function ys(a){const{auth:i,user:r}=a;return P(r,i,"internal-error"),Ho(r,new po(a),a.bypassAuthState)}function bs(a){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,h.Z)(function*(a){const{auth:i,user:r}=a;return P(r,i,"internal-error"),Ii(r,new po(a),a.bypassAuthState)})).apply(this,arguments)}class _r{constructor(i,r,s,d,m=!1){this.auth=i,this.resolver=s,this.user=d,this.bypassAuthState=m,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){var i=this;return new Promise(function(){var r=(0,h.Z)(function*(s,d){i.pendingPromise={resolve:s,reject:d};try{i.eventManager=yield i.resolver._initialize(i.auth),yield i.onExecution(),i.eventManager.registerConsumer(i)}catch(m){i.reject(m)}});return function(s,d){return r.apply(this,arguments)}}())}onAuthEvent(i){var r=this;return(0,h.Z)(function*(){const{urlResponse:s,sessionId:d,postBody:m,tenantId:A,error:k,type:L}=i;if(k)return void r.reject(k);const V={auth:r.auth,requestUri:s,sessionId:d,tenantId:A||void 0,postBody:m||void 0,user:r.user,bypassAuthState:r.bypassAuthState};try{r.resolve(yield r.getIdpTask(L)(V))}catch($){r.reject($)}})()}onError(i){this.reject(i)}getIdpTask(i){switch(i){case"signInViaPopup":case"signInViaRedirect":return vs;case"linkViaPopup":case"linkViaRedirect":return bs;case"reauthViaPopup":case"reauthViaRedirect":return ys;default:H(this.auth,"internal-error")}}resolve(i){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(i),this.unregisterAndCleanUp()}reject(i){Pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(i),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hn=new pt(2e3,1e4);function xs(a,i,r){return ho.apply(this,arguments)}function ho(){return(ho=(0,h.Z)(function*(a,i,r){const s=fe(a);Xe(a,i,Ot);const d=rn(s,r);return new fo(s,"signInViaPopup",i,d).executeNotNull()})).apply(this,arguments)}function As(a,i,r){return mo.apply(this,arguments)}function mo(){return(mo=(0,h.Z)(function*(a,i,r){const s=(0,c.m9)(a);Xe(s.auth,i,Ot);const d=rn(s.auth,r);return new fo(s.auth,"reauthViaPopup",i,d,s).executeNotNull()})).apply(this,arguments)}function ws(a,i,r){return go.apply(this,arguments)}function go(){return(go=(0,h.Z)(function*(a,i,r){const s=(0,c.m9)(a);Xe(s.auth,i,Ot);const d=rn(s.auth,r);return new fo(s.auth,"linkViaPopup",i,d,s).executeNotNull()})).apply(this,arguments)}let fo=(()=>{class a extends _r{constructor(r,s,d,m,A){super(r,s,m,A),this.provider=d,this.authWindow=null,this.pollId=null,a.currentPopupAction&&a.currentPopupAction.cancel(),a.currentPopupAction=this}executeNotNull(){var r=this;return(0,h.Z)(function*(){const s=yield r.execute();return P(s,r.auth,"internal-error"),s})()}onExecution(){var r=this;return(0,h.Z)(function*(){Pe(1===r.filter.length,"Popup operations only handle one event");const s=Je();r.authWindow=yield r.resolver._openPopup(r.auth,r.provider,r.filter[0],s),r.authWindow.associatedEvent=s,r.resolver._originValidation(r.auth).catch(d=>{r.reject(d)}),r.resolver._isIframeWebStorageSupported(r.auth,d=>{d||r.reject(de(r.auth,"web-storage-unsupported"))}),r.pollUserCancellation()})()}get eventId(){var r;return(null===(r=this.authWindow)||void 0===r?void 0:r.associatedEvent)||null}cancel(){this.reject(de(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,a.currentPopupAction=null}pollUserCancellation(){const r=()=>{var s,d;this.pollId=null!==(d=null===(s=this.authWindow)||void 0===s?void 0:s.window)&&void 0!==d&&d.closed?window.setTimeout(()=>{this.pollId=null,this.reject(de(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(r,hn.get())};r()}}return a.currentPopupAction=null,a})();const Cs="pendingRedirect",Cn=new Map;class Ts extends _r{constructor(i,r,s=!1){super(i,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,s),this.eventId=null}execute(){var i=()=>super.execute,r=this;return(0,h.Z)(function*(){let s=Cn.get(r.auth._key());if(!s){try{const m=(yield function Is(a,i){return Et.apply(this,arguments)}(r.resolver,r.auth))?yield i().call(r):null;s=()=>Promise.resolve(m)}catch(d){s=()=>Promise.reject(d)}Cn.set(r.auth._key(),s)}return r.bypassAuthState||Cn.set(r.auth._key(),()=>Promise.resolve(null)),s()})()}onAuthEvent(i){var r=()=>super.onAuthEvent,s=this;return(0,h.Z)(function*(){if("signInViaRedirect"===i.type)return r().call(s,i);if("unknown"!==i.type){if(i.eventId){const d=yield s.auth._redirectUserForId(i.eventId);if(d)return s.user=d,r().call(s,i);s.resolve(null)}}else s.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Et(){return(Et=(0,h.Z)(function*(a,i){const r=mr(i),s=hr(a);if(!(yield s._isAvailable()))return!1;const d="true"===(yield s._get(r));return yield s._remove(r),d})).apply(this,arguments)}function vo(a,i){return yo.apply(this,arguments)}function yo(){return(yo=(0,h.Z)(function*(a,i){return hr(a)._set(mr(i),"true")})).apply(this,arguments)}function Ss(){Cn.clear()}function pr(a,i){Cn.set(a._key(),i)}function hr(a){return _(a._redirectPersistence)}function mr(a){return D(Cs,a.config.apiKey,a.name)}function ks(a,i,r){return function Zs(a,i,r){return bo.apply(this,arguments)}(a,i,r)}function bo(){return(bo=(0,h.Z)(function*(a,i,r){const s=fe(a);Xe(a,i,Ot),yield s._initializationPromise;const d=rn(s,r);return yield vo(d,s),d._openRedirect(s,i,"signInViaRedirect")})).apply(this,arguments)}function Os(a,i,r){return function Wn(a,i,r){return Fe.apply(this,arguments)}(a,i,r)}function Fe(){return(Fe=(0,h.Z)(function*(a,i,r){const s=(0,c.m9)(a);Xe(s.auth,i,Ot),yield s.auth._initializationPromise;const d=rn(s.auth,r);yield vo(d,s.auth);const m=yield gr(s);return d._openRedirect(s.auth,i,"reauthViaRedirect",m)})).apply(this,arguments)}function yc(a,i,r){return function Es(a,i,r){return xo.apply(this,arguments)}(a,i,r)}function xo(){return(xo=(0,h.Z)(function*(a,i,r){const s=(0,c.m9)(a);Xe(s.auth,i,Ot),yield s.auth._initializationPromise;const d=rn(s.auth,r);yield Pn(!1,s,i.providerId),yield vo(d,s.auth);const m=yield gr(s);return d._openRedirect(s.auth,i,"linkViaRedirect",m)})).apply(this,arguments)}function Tn(a,i){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(a,i){return yield fe(a)._initializationPromise,Ao(a,i,!1)})).apply(this,arguments)}function Ao(a,i){return wo.apply(this,arguments)}function wo(){return(wo=(0,h.Z)(function*(a,i,r=!1){const s=fe(a),d=rn(s,i),A=yield new Ts(s,d,r).execute();return A&&!r&&(delete A.user._redirectEventId,yield s._persistUserIfCurrent(A.user),yield s._setRedirectUser(null,i)),A})).apply(this,arguments)}function gr(a){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,h.Z)(function*(a){const i=Je(`${a.uid}:::`);return a._redirectEventId=i,yield a.auth._setRedirectUser(a),yield a.auth._persistUserIfCurrent(a),i})).apply(this,arguments)}class fr{constructor(i){this.auth=i,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(i){this.consumers.add(i),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,i)&&(this.sendToConsumer(this.queuedRedirectEvent,i),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(i){this.consumers.delete(i)}onEvent(i){if(this.hasEventBeenHandled(i))return!1;let r=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(i,s)&&(r=!0,this.sendToConsumer(i,s),this.saveEventToCache(i))}),this.hasHandledPotentialRedirect||!function Ps(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yr(a);default:return!1}}(i)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=i,r=!0)),r}sendToConsumer(i,r){var s;if(i.error&&!yr(i)){const d=(null===(s=i.error.code)||void 0===s?void 0:s.split("auth/")[1])||"internal-error";r.onError(de(this.auth,d))}else r.onAuthEvent(i)}isEventForConsumer(i,r){const s=null===r.eventId||!!i.eventId&&i.eventId===r.eventId;return r.filter.includes(i.type)&&s}hasEventBeenHandled(i){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vr(i))}saveEventToCache(i){this.cachedEventUids.add(vr(i)),this.lastProcessedEventTime=Date.now()}}function vr(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(i=>i).join("-")}function yr({type:a,error:i}){return"unknown"===a&&"auth/no-auth-event"===i?.code}function br(a){return Co.apply(this,arguments)}function Co(){return(Co=(0,h.Z)(function*(a,i={}){return xe(a,"GET","/v1/projects",i)})).apply(this,arguments)}const Ns=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rs=/^https?/;function To(){return(To=(0,h.Z)(function*(a){if(a.config.emulator)return;const{authorizedDomains:i}=yield br(a);for(const r of i)try{if(Ms(r))return}catch{}H(a,"unauthorized-domain")})).apply(this,arguments)}function Ms(a){const i=Ee(),{protocol:r,hostname:s}=new URL(i);if(a.startsWith("chrome-extension://")){const A=new URL(a);return""===A.hostname&&""===s?"chrome-extension:"===r&&a.replace("chrome-extension://","")===i.replace("chrome-extension://",""):"chrome-extension:"===r&&A.hostname===s}if(!Rs.test(r))return!1;if(Ns.test(a))return s===a;const d=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+d+"|"+d+")$","i").test(s)}const qs=new pt(3e4,6e4);function xr(){const a=Me().___jsl;if(a?.H)for(const i of Object.keys(a.H))if(a.H[i].r=a.H[i].r||[],a.H[i].L=a.H[i].L||[],a.H[i].r=[...a.H[i].L],a.CP)for(let r=0;r<a.CP.length;r++)a.CP[r]=null}let In=null;const Fs=new pt(5e3,15e3),Qs="__/auth/iframe",zs="emulator/auth/iframe",Bs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ar=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Js(a){const i=a.config;P(i.authDomain,a,"auth-domain-config-required");const r=i.emulator?Nt(i,zs):`https://${a.config.authDomain}/${Qs}`,s={apiKey:i.apiKey,appName:a.name,v:e.SDK_VERSION},d=Ar.get(a.config.apiHost);d&&(s.eid=d);const m=a._getFrameworks();return m.length&&(s.fw=m.join(",")),`${r}?${(0,c.xO)(s).slice(1)}`}function Io(){return Io=(0,h.Z)(function*(a){const i=yield function js(a){return In=In||function Ds(a){return new Promise((i,r)=>{var s,d,m;function A(){xr(),gapi.load("gapi.iframes",{callback:()=>{i(gapi.iframes.getContext())},ontimeout:()=>{xr(),r(de(a,"network-request-failed"))},timeout:qs.get()})}if(null!==(d=null===(s=Me().gapi)||void 0===s?void 0:s.iframes)&&void 0!==d&&d.Iframe)i(gapi.iframes.getContext());else{if(null===(m=Me().gapi)||void 0===m||!m.load){const k=Uo("iframefcb");return Me()[k]=()=>{gapi.load?A():r(de(a,"network-request-failed"))},ii(`https://apis.google.com/js/api.js?onload=${k}`).catch(L=>r(L))}A()}}).catch(i=>{throw In=null,i})}(a),In}(a),r=Me().gapi;return P(r,a,"internal-error"),i.open({where:document.body,url:Js(a),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bs,dontclear:!0},s=>new Promise(function(){var d=(0,h.Z)(function*(m,A){yield s.restyle({setHideOnLeave:!1});const k=de(a,"network-request-failed"),L=Me().setTimeout(()=>{A(k)},Fs.get());function V(){Me().clearTimeout(L),m(s)}s.ping(V).then(V,()=>{A(k)})});return function(m,A){return d.apply(this,arguments)}}()))}),Io.apply(this,arguments)}const Ws={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hs{constructor(i){this.window=i,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ac="__/auth/handler",Gs="emulator/auth/handler",Gn=encodeURIComponent("fac");function Sn(a,i,r,s,d,m){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,h.Z)(function*(a,i,r,s,d,m){P(a.config.authDomain,a,"auth-domain-config-required"),P(a.config.apiKey,a,"invalid-api-key");const A={apiKey:a.config.apiKey,appName:a.name,authType:r,redirectUrl:s,v:e.SDK_VERSION,eventId:d};if(i instanceof Ot){i.setDefaultLanguage(a.languageCode),A.providerId=i.providerId||"",(0,c.xb)(i.getCustomParameters())||(A.customParameters=JSON.stringify(i.getCustomParameters()));for(const[$,be]of Object.entries(m||{}))A[$]=be}if(i instanceof ln){const $=i.getScopes().filter(be=>""!==be);$.length>0&&(A.scopes=$.join(","))}a.tenantId&&(A.tid=a.tenantId);const k=A;for(const $ of Object.keys(k))void 0===k[$]&&delete k[$];const L=yield a._getAppCheckToken(),V=L?`#${Gn}=${encodeURIComponent(L)}`:"";return`${function Ks({config:a}){return a.emulator?Nt(a,Gs):`https://${a.authDomain}/${Ac}`}(a)}?${(0,c.xO)(k).slice(1)}${V}`})).apply(this,arguments)}const Lt="webStorageSupport",ko=class $n{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=io,this._completeRedirectFn=Ao,this._overrideRedirectResult=pr}_openPopup(i,r,s,d){var m=this;return(0,h.Z)(function*(){var A;Pe(null===(A=m.eventManagers[i._key()])||void 0===A?void 0:A.manager,"_initialize() not called before _openPopup()");const k=yield Sn(i,r,s,Ee(),d);return function xc(a,i,r,s=500,d=600){const m=Math.max((window.screen.availHeight-d)/2,0).toString(),A=Math.max((window.screen.availWidth-s)/2,0).toString();let k="";const L=Object.assign(Object.assign({},Ws),{width:s.toString(),height:d.toString(),top:m,left:A}),V=(0,c.z$)().toLowerCase();r&&(k=se(V)?"_blank":r),Ce(V)&&(i=i||"http://localhost",L.scrollbars="yes");const $=Object.entries(L).reduce((at,[Yt,ni])=>`${at}${Yt}=${ni},`,"");if(function G(a=(0,c.z$)()){var i;return S(a)&&!(null===(i=window.navigator)||void 0===i||!i.standalone)}(V)&&"_self"!==k)return function So(a,i){const r=document.createElement("a");r.href=a,r.target=i;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(s)}(i||"",k),new Hs(null);const be=window.open(i||"",k,$);P(be,a,"popup-blocked");try{be.focus()}catch{}return new Hs(be)}(i,k,Je())})()}_openRedirect(i,r,s,d){var m=this;return(0,h.Z)(function*(){return yield m._originValidation(i),function Fn(a){Me().location.href=a}(yield Sn(i,r,s,Ee(),d)),new Promise(()=>{})})()}_initialize(i){const r=i._key();if(this.eventManagers[r]){const{manager:d,promise:m}=this.eventManagers[r];return d?Promise.resolve(d):(Pe(m,"If manager is not set, promise should be"),m)}const s=this.initAndGetManager(i);return this.eventManagers[r]={promise:s},s.catch(()=>{delete this.eventManagers[r]}),s}initAndGetManager(i){var r=this;return(0,h.Z)(function*(){const s=yield function Vs(a){return Io.apply(this,arguments)}(i),d=new fr(i);return s.register("authEvent",m=>(P(m?.authEvent,i,"invalid-auth-event"),{status:d.onEvent(m.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),r.eventManagers[i._key()]={manager:d},r.iframes[i._key()]=s,d})()}_isIframeWebStorageSupported(i,r){this.iframes[i._key()].send(Lt,{type:Lt},d=>{var m;const A=null===(m=d?.[0])||void 0===m?void 0:m[Lt];void 0!==A&&r(!!A),H(i,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(i){const r=i._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=function Us(a){return To.apply(this,arguments)}(i)),this.originValidationPromises[r]}get _shouldInitProactively(){return me()||ae()||S()}};class $s{constructor(i){this.factorId=i}_process(i,r,s){switch(r.type){case"enroll":return this._finalizeEnroll(i,r.credential,s);case"signin":return this._finalizeSignIn(i,r.credential);default:return he("unexpected MultiFactorSessionType")}}}class Xn extends $s{constructor(i){super("phone"),this.credential=i}static _fromCredential(i){return new Xn(i)}_finalizeEnroll(i,r,s){return function Ua(a,i){return xe(a,"POST","/v2/accounts/mfaEnrollment:finalize",Te(a,i))}(i,{idToken:r,displayName:s,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(i,r){return function Xa(a,i){return xe(a,"POST","/v2/accounts/mfaSignIn:finalize",Te(a,i))}(i,{mfaPendingCredential:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xs=(()=>{class a{constructor(){}static assertion(r){return Xn._fromCredential(r)}}return a.FACTOR_ID="phone",a})();var Ir="@firebase/auth";class ec{constructor(i){this.auth=i,this.internalListeners=new Map}getUid(){var i;return this.assertAuthConfigured(),(null===(i=this.auth.currentUser)||void 0===i?void 0:i.uid)||null}getToken(i){var r=this;return(0,h.Z)(function*(){return r.assertAuthConfigured(),yield r.auth._initializationPromise,r.auth.currentUser?{accessToken:yield r.auth.currentUser.getIdToken(i)}:null})()}addAuthTokenListener(i){if(this.assertAuthConfigured(),this.internalListeners.has(i))return;const r=this.auth.onIdTokenChanged(s=>{i(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(i,r),this.updateProactiveRefresh()}removeAuthTokenListener(i){this.assertAuthConfigured();const r=this.internalListeners.get(i);r&&(this.internalListeners.delete(i),r(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,c.Pz)("authIdTokenMaxAge"),function ti(a){(0,e._registerComponent)(new pe.wA("auth",(i,{options:r})=>{const s=i.getProvider("app").getImmediate(),d=i.getProvider("heartbeat"),m=i.getProvider("app-check-internal"),{apiKey:A,authDomain:k}=s.options;P(A&&!A.includes(":"),"invalid-api-key",{appName:s.name});const L={apiKey:A,authDomain:k,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:He(a)},V=new No(s,d,m,L);return function zr(a,i){const r=i?.persistence||[],s=(Array.isArray(r)?r:[r]).map(_);i?.errorMap&&a._updateErrorMap(i.errorMap),a._initializeWithPersistence(s,i?.popupRedirectResolver)}(V,r),V},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,r,s)=>{i.getProvider("auth-internal").initialize()})),(0,e._registerComponent)(new pe.wA("auth-internal",i=>{const r=fe(i.getProvider("auth").getImmediate());return new ec(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,e.registerVersion)(Ir,"1.3.2",function tc(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(a)),(0,e.registerVersion)(Ir,"1.3.2","esm2017")}("Browser")},30229:(Ke,we,b)=>{"use strict";b.d(we,{BH:()=>Le,L:()=>ne,LL:()=>ht,Pz:()=>de,UG:()=>he,ZB:()=>q,ZR:()=>xe,aH:()=>H,b$:()=>ct,eu:()=>Ct,hl:()=>et,jU:()=>Pe,m9:()=>Dt,ne:()=>dt,pd:()=>ut,r3:()=>Tt,ru:()=>Ee,tV:()=>w,uI:()=>P,vZ:()=>It,w1:()=>At,xO:()=>kt,xb:()=>v,z$:()=>ge,zd:()=>$e});const M=function(x){const y=[];let g=0;for(let f=0;f<x.length;f++){let _=x.charCodeAt(f);_<128?y[g++]=_:_<2048?(y[g++]=_>>6|192,y[g++]=63&_|128):55296==(64512&_)&&f+1<x.length&&56320==(64512&x.charCodeAt(f+1))?(_=65536+((1023&_)<<10)+(1023&x.charCodeAt(++f)),y[g++]=_>>18|240,y[g++]=_>>12&63|128,y[g++]=_>>6&63|128,y[g++]=63&_|128):(y[g++]=_>>12|224,y[g++]=_>>6&63|128,y[g++]=63&_|128)}return y},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(x,y){if(!Array.isArray(x))throw Error("encodeByteArray takes an array as a parameter");this.init_();const g=y?this.byteToCharMapWebSafe_:this.byteToCharMap_,f=[];for(let _=0;_<x.length;_+=3){const T=x[_],O=_+1<x.length,D=O?x[_+1]:0,X=_+2<x.length,Q=X?x[_+2]:0;let se=(15&D)<<2|Q>>6,E=63&Q;X||(E=64,O||(se=64)),f.push(g[T>>2],g[(3&T)<<4|D>>4],g[se],g[E])}return f.join("")},encodeString(x,y){return this.HAS_NATIVE_SUPPORT&&!y?btoa(x):this.encodeByteArray(M(x),y)},decodeString(x,y){return this.HAS_NATIVE_SUPPORT&&!y?atob(x):function(x){const y=[];let g=0,f=0;for(;g<x.length;){const _=x[g++];if(_<128)y[f++]=String.fromCharCode(_);else if(_>191&&_<224){const T=x[g++];y[f++]=String.fromCharCode((31&_)<<6|63&T)}else if(_>239&&_<365){const X=((7&_)<<18|(63&x[g++])<<12|(63&x[g++])<<6|63&x[g++])-65536;y[f++]=String.fromCharCode(55296+(X>>10)),y[f++]=String.fromCharCode(56320+(1023&X))}else{const T=x[g++],O=x[g++];y[f++]=String.fromCharCode((15&_)<<12|(63&T)<<6|63&O)}}return y.join("")}(this.decodeStringToByteArray(x,y))},decodeStringToByteArray(x,y){this.init_();const g=y?this.charToByteMapWebSafe_:this.charToByteMap_,f=[];for(let _=0;_<x.length;){const T=g[x.charAt(_++)],D=_<x.length?g[x.charAt(_)]:0;++_;const Q=_<x.length?g[x.charAt(_)]:64;++_;const ae=_<x.length?g[x.charAt(_)]:64;if(++_,null==T||null==D||null==Q||null==ae)throw new te;f.push(T<<2|D>>4),64!==Q&&(f.push(D<<4&240|Q>>2),64!==ae&&f.push(Q<<6&192|ae))}return f},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let x=0;x<this.ENCODED_VALS.length;x++)this.byteToCharMap_[x]=this.ENCODED_VALS.charAt(x),this.charToByteMap_[this.byteToCharMap_[x]]=x,this.byteToCharMapWebSafe_[x]=this.ENCODED_VALS_WEBSAFE.charAt(x),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[x]]=x,x>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(x)]=x,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(x)]=x)}}};class te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ne=function(x){return function(x){const y=M(x);return pe.encodeByteArray(y,!0)}(x).replace(/\./g,"")},w=function(x){try{return pe.decodeString(x,!0)}catch(y){console.error("base64Decode failed: ",y)}return null};function q(x,y){if(!(y instanceof Object))return y;switch(y.constructor){case Date:return new Date(y.getTime());case Object:void 0===x&&(x={});break;case Array:x=[];break;default:return y}for(const g in y)!y.hasOwnProperty(g)||!R(g)||(x[g]=q(x[g],y[g]));return x}function R(x){return"__proto__"!==x}const oe=()=>{try{return function z(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const x=process.env.__FIREBASE_DEFAULTS__;return x?JSON.parse(x):void 0})()||(()=>{if(typeof document>"u")return;let x;try{x=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const y=x&&w(x[1]);return y&&JSON.parse(y)})()}catch(x){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${x}`)}},H=()=>{var x;return null===(x=oe())||void 0===x?void 0:x.config},de=x=>{var y;return null===(y=oe())||void 0===y?void 0:y[`_${x}`]};class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((y,g)=>{this.resolve=y,this.reject=g})}wrapCallback(y){return(g,f)=>{g?this.reject(g):this.resolve(f),"function"==typeof y&&(this.promise.catch(()=>{}),1===y.length?y(g):y(g,f))}}}function ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function P(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ge())}function he(){var x;const y=null===(x=oe())||void 0===x?void 0:x.forceEnvironment;if("node"===y)return!0;if("browser"===y)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Pe(){return"object"==typeof self&&self.self===self}function Ee(){const x="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof x&&void 0!==x.id}function ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function At(){const x=ge();return x.indexOf("MSIE ")>=0||x.indexOf("Trident/")>=0}function et(){try{return"object"==typeof indexedDB}catch{return!1}}function Ct(){return new Promise((x,y)=>{try{let g=!0;const f="validate-browser-context-for-indexeddb-analytics-module",_=self.indexedDB.open(f);_.onsuccess=()=>{_.result.close(),g||self.indexedDB.deleteDatabase(f),x(!0)},_.onupgradeneeded=()=>{g=!1},_.onerror=()=>{var T;y((null===(T=_.error)||void 0===T?void 0:T.message)||"")}}catch(g){y(g)}})}class xe extends Error{constructor(y,g,f){super(g),this.code=y,this.customData=f,this.name="FirebaseError",Object.setPrototypeOf(this,xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ht.prototype.create)}}class ht{constructor(y,g,f){this.service=y,this.serviceName=g,this.errors=f}create(y,...g){const f=g[0]||{},_=`${this.service}/${y}`,T=this.errors[y],O=T?function J(x,y){return x.replace(Ie,(g,f)=>{const _=y[f];return null!=_?String(_):`<${f}?>`})}(T,f):"Error";return new xe(_,`${this.serviceName}: ${O} (${_}).`,f)}}const Ie=/\{\$([^}]+)}/g;function Tt(x,y){return Object.prototype.hasOwnProperty.call(x,y)}function v(x){for(const y in x)if(Object.prototype.hasOwnProperty.call(x,y))return!1;return!0}function It(x,y){if(x===y)return!0;const g=Object.keys(x),f=Object.keys(y);for(const _ of g){if(!f.includes(_))return!1;const T=x[_],O=y[_];if(Ae(T)&&Ae(O)){if(!It(T,O))return!1}else if(T!==O)return!1}for(const _ of f)if(!g.includes(_))return!1;return!0}function Ae(x){return null!==x&&"object"==typeof x}function kt(x){const y=[];for(const[g,f]of Object.entries(x))Array.isArray(f)?f.forEach(_=>{y.push(encodeURIComponent(g)+"="+encodeURIComponent(_))}):y.push(encodeURIComponent(g)+"="+encodeURIComponent(f));return y.length?"&"+y.join("&"):""}function $e(x){const y={};return x.replace(/^\?/,"").split("&").forEach(f=>{if(f){const[_,T]=f.split("=");y[decodeURIComponent(_)]=decodeURIComponent(T)}}),y}function ut(x){const y=x.indexOf("?");if(!y)return"";const g=x.indexOf("#",y);return x.substring(y,g>0?g:void 0)}function dt(x,y){const g=new mt(x,y);return g.subscribe.bind(g)}class mt{constructor(y,g){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=g,this.task.then(()=>{y(this)}).catch(f=>{this.error(f)})}next(y){this.forEachObserver(g=>{g.next(y)})}error(y){this.forEachObserver(g=>{g.error(y)}),this.close(y)}complete(){this.forEachObserver(y=>{y.complete()}),this.close()}subscribe(y,g,f){let _;if(void 0===y&&void 0===g&&void 0===f)throw new Error("Missing Observer.");_=function De(x,y){if("object"!=typeof x||null===x)return!1;for(const g of y)if(g in x&&"function"==typeof x[g])return!0;return!1}(y,["next","error","complete"])?y:{next:y,error:g,complete:f},void 0===_.next&&(_.next=ot),void 0===_.error&&(_.error=ot),void 0===_.complete&&(_.complete=ot);const T=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?_.error(this.finalError):_.complete()}catch{}}),this.observers.push(_),T}unsubscribeOne(y){void 0===this.observers||void 0===this.observers[y]||(delete this.observers[y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(y){if(!this.finalized)for(let g=0;g<this.observers.length;g++)this.sendOne(g,y)}sendOne(y,g){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[y])try{g(this.observers[y])}catch(f){typeof console<"u"&&console.error&&console.error(f)}})}close(y){this.finalized||(this.finalized=!0,void 0!==y&&(this.finalError=y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ot(){}function Dt(x){return x&&x._delegate?x._delegate:x}},36453:(Ke,we,b)=>{"use strict";b.d(we,{C:()=>ht});var h=b(29023),c=b(65879),e=b(56223),M=b(73445),ce=b(23680),pe=b(44683),te=b(13217),le=b(84003),ne=b(37734),w=b(63120),I=b(20553),q=b(23655),R=b(82228),z=b(96814),B=b(32296),ee=b(2032),K=b(64170),oe=b(98525),re=b(67679),ve=b(89310),H=b(32443),de=b(37722),Le=b(36727);function Xe(J,Ie){1&J&&(c.TgZ(0,"div",60),c._uU(1),c.ALo(2,"mytranslate"),c.qZA()),2&J&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function ge(J,Ie){if(1&J&&(c.TgZ(0,"mat-option",61),c._uU(1),c.qZA()),2&J){const F=Ie.$implicit;c.Q6J("value",F.id),c.xp6(1),c.hij(" ",F.name," ")}}function P(J,Ie){1&J&&(c.TgZ(0,"div",60),c._uU(1),c.ALo(2,"mytranslate"),c.qZA()),2&J&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function he(J,Ie){1&J&&(c.TgZ(0,"div",60),c._uU(1),c.ALo(2,"mytranslate"),c.qZA()),2&J&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"lang_auto_khong_duoc_de_trong_va_khong_co_ky_tu_dac_biet")," "))}function Pe(J,Ie){1&J&&(c.TgZ(0,"div",60),c._uU(1),c.ALo(2,"mytranslate"),c.qZA()),2&J&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"lang_test_market_id_card_validate_length_and_number")," "))}function Ee(J,Ie){1&J&&(c.TgZ(0,"div",60),c._uU(1),c.ALo(2,"mytranslate"),c.qZA()),2&J&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function ct(J,Ie){1&J&&(c.TgZ(0,"div",60),c._uU(1),c.ALo(2,"mytranslate"),c.qZA()),2&J&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"lang_test_market_request_with_draw_note_birthday")," "))}function wt(J,Ie){1&J&&(c.TgZ(0,"div",60),c._uU(1),c.ALo(2,"mytranslate"),c.qZA()),2&J&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function At(J,Ie){1&J&&(c.TgZ(0,"div",60),c._uU(1),c.ALo(2,"mytranslate"),c.qZA()),2&J&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"lang_auto_khong_duoc_de_trong")," "))}function Ve(J,Ie){1&J&&(c.TgZ(0,"div",60),c._uU(1),c.ALo(2,"mytranslate"),c.qZA()),2&J&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"lang_test_market_must_accept_policy")," "))}function pt(J,Ie){if(1&J){const F=c.EpF();c.TgZ(0,"div",62)(1,"button",63),c.NdJ("click",function(){c.CHM(F);const ye=c.oxw();return c.KtG(ye.acceptSendRequest(!0))}),c.ALo(2,"calcYearOldUser"),c._uU(3),c.ALo(4,"mytranslate"),c.qZA(),c.TgZ(5,"button",64),c.NdJ("click",function(){c.CHM(F);const ye=c.oxw();return c.KtG(ye.acceptSendRequest(!1))}),c._uU(6),c.ALo(7,"mytranslate"),c.qZA()()}if(2&J){const F=c.oxw();c.xp6(1),c.Q6J("disabled",F.form.invalid||F.sendRequest||!F.totalBalance||F.totalBalance<F.minimumWithdraw||2!=F.citizenIdImages.length||c.lcZ(2,3,F.form.controls.birthday.value)<18),c.xp6(2),c.hij(" ",c.lcZ(4,5,"lang_test_market_request_with_draw")," "),c.xp6(3),c.hij(" ",c.lcZ(7,7,"lang_auto_huy")," ")}}function Nt(J,Ie){if(1&J){const F=c.EpF();c.TgZ(0,"div",70),c.NdJ("click",function(){c.CHM(F);const ye=c.oxw().$implicit,qe=c.oxw(2);return c.KtG(qe.removeImg(ye))}),c.O4$(),c.TgZ(1,"svg",71),c._UZ(2,"line",72)(3,"line",73),c.qZA()()}}function et(J,Ie){if(1&J&&(c.TgZ(0,"div",66)(1,"div",67),c._UZ(2,"img",68),c.ALo(3,"mycdn"),c.qZA(),c.YNc(4,Nt,4,0,"div",69),c.qZA()),2&J){const F=Ie.$implicit,j=c.oxw(2);c.xp6(2),c.Q6J("src",c.lcZ(3,2,F),c.LSH),c.xp6(2),c.Q6J("ngIf",j.enableEditInfo)}}function Ct(J,Ie){if(1&J&&(c.TgZ(0,"div"),c.YNc(1,et,5,4,"div",65),c.qZA()),2&J){const F=c.oxw();c.xp6(1),c.Q6J("ngForOf",F.citizenIdImages)}}function zt(J,Ie){1&J&&(c.TgZ(0,"div",74)(1,"div",75),c.O4$(),c.TgZ(2,"svg",76),c._UZ(3,"path",77)(4,"polyline",78)(5,"line",79),c.qZA(),c.kcU(),c.TgZ(6,"span",80),c._uU(7),c.ALo(8,"mytranslate"),c.qZA()()()),2&J&&(c.xp6(7),c.Oqu(c.lcZ(8,1,"lang_auto_upload_file")))}function Te(J,Ie){if(1&J){const F=c.EpF();c.TgZ(0,"div",81)(1,"div",62)(2,"button",82),c.NdJ("click",function(){c.CHM(F);const ye=c.oxw();return c.KtG(ye.acceptSendRequest(!0))}),c.ALo(3,"calcYearOldUser"),c._uU(4),c.ALo(5,"mytranslate"),c.qZA(),c.TgZ(6,"button",83),c.NdJ("click",function(){c.CHM(F);const ye=c.oxw();return c.KtG(ye.acceptSendRequest(!1))}),c._uU(7),c.ALo(8,"mytranslate"),c.qZA()()()}if(2&J){const F=c.oxw();c.xp6(2),c.Q6J("disabled",F.form.invalid||F.sendRequest||!F.totalBalance||F.totalBalance<F.minimumWithdraw||2!=F.citizenIdImages.length||c.lcZ(3,3,F.form.controls.birthday.value)<18),c.xp6(2),c.hij(" ",c.lcZ(5,5,"lang_test_market_request_with_draw")," "),c.xp6(3),c.hij(" ",c.lcZ(8,7,"lang_auto_huy")," ")}}const xe=function(J){return[J]};let ht=(()=>{class J extends ne.Q{getCurLang(){return this.commonService.getCurrentLang()}handleUploadComplete(F){F.forEach(j=>{this.citizenIdImages.push(j.url??"")})}removeImg(F){let j=this.citizenIdImages?.filter(ye=>ye!==F);this.citizenIdImages=j}enableEdit(){this.enableEditInfo?(this.enableEditInfo=!1,this.form.controls.bankId.setValue(this.transactionInfo?.bankId??1),this.form.controls.accountNameControl.setValue(this.transactionInfo?.bankHolder??""),this.form.controls.address.setValue(this.transactionInfo?.address??""),this.form.controls.contactPhone.setValue(this.balanceUserInfo?.contactPhone??""),this.form.controls.bankNumber.setValue(this.transactionInfo?.bankAccountNumber??""),this.form.controls.idCard.setValue(this.balanceUserInfo?.idCard??""),this.form.controls.birthday.setValue(this.balanceUserInfo?.birthday?.toString()??""),this.form.controls.idIssuedAt.setValue(this.balanceUserInfo?.idIssuedAt?.toString()??""),this.form.controls.idIssuedBy.setValue(this.balanceUserInfo?.idIssuedBy??""),this.form.controls.bankId.disable(),this.form.controls.accountNameControl.disable(),this.form.controls.address.disable(),this.form.controls.contactPhone.disable(),this.form.controls.bankNumber.disable(),this.form.controls.idCard.disable(),this.form.controls.birthday.disable(),this.form.controls.idIssuedBy.disable(),this.form.controls.idIssuedAt.disable(),this.currentBankId=this.transactionInfo?.bankId??1):(this.enableEditInfo=!0,this.form.controls.bankId.enable(),this.form.controls.accountNameControl.enable(),this.form.controls.address.enable(),this.form.controls.contactPhone.enable(),this.form.controls.idCard.enable(),this.form.controls.bankNumber.enable(),this.form.controls.birthday.enable(),this.form.controls.idIssuedBy.enable(),this.form.controls.idIssuedAt.enable())}selectBank(F){this.currentBankId=F}removeSignatureKeyImages(F){if(0==F.length)return[];{let j=[];return F.forEach(ye=>{j.push(ye.substring(0,ye.indexOf("?")))}),j}}acceptSendRequest(F){if(F){this.sendRequest=!0;let j=this.getFormValue(),ye={bankId:j.bankId??this.transactionInfo?.bankId,bankHolder:j.accountNameControl??this.transactionInfo?.bankHolder,address:j.address??this.transactionInfo?.address,bankAccountNumber:j.bankNumber??this.transactionInfo?.bankAccountNumber,contactPhone:j.contactPhone??this.balanceUserInfo?.contactPhone,urls:this.removeSignatureKeyImages(this.citizenIdImages),birthday:new Date(j.birthday??this.balanceUserInfo?.birthday??""),idCard:j.idCard??this.balanceUserInfo?.idCard,idIssuedBy:j.idIssuedBy??this.balanceUserInfo?.idIssuedBy,idIssuedAt:new Date(j.idIssuedAt??this.balanceUserInfo?.idIssuedAt??"")};this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsPost(ye).subscribe(qe=>{qe.success?(this.sendRequest=!1,this.showSuccessSnack("lang_test_market_send_request_success"),this.closeRequest.emit(!0)):(this.errorStatusObj(qe.message??"",!0),this.sendRequest=!1)}))}else this.closeRequest.emit(!1)}getBankObjs(){this.initStatusObj(),this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsBanksGet().subscribe(F=>{F.success?(this.listBanks=F.data?.objs??[],this.successStatusObj()):this.errorStatusObj(F.message??"",!0)}))}getFormValue(){return this.form.getRawValue()}ngOnInit(){this.getBankObjs(),this.transactionInfo||(this.enableEditInfo=!0),this.citizenIdImages=this.balanceUserInfo?.idImages&&this.balanceUserInfo?.idImages.length?this.balanceUserInfo.idImages:[],this.form=new e.cw({accountNameControl:new e.NI({value:this.transactionInfo?.bankHolder??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required]}),bankId:new e.NI({value:this.transactionInfo?.bankId??1,disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required]}),bankNumber:new e.NI({value:this.transactionInfo?.bankAccountNumber??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required,e.kI.pattern("^[A-Za-z0-9]*$")]}),address:new e.NI({value:this.transactionInfo?.address??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required]}),contactPhone:new e.NI({value:this.balanceUserInfo?.contactPhone??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required,e.kI.pattern("^[0-9]*$"),e.kI.minLength(10)]}),idCard:new e.NI({value:this.balanceUserInfo?.idCard??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required,e.kI.pattern("^[0-9]*$")]}),idIssuedBy:new e.NI({value:this.balanceUserInfo?.idIssuedBy??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required]}),idIssuedAt:new e.NI({value:this.balanceUserInfo?.idIssuedAt?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required]}),birthday:new e.NI({value:this.balanceUserInfo?.birthday?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required]}),acceptPolicy:new e.NI(!1,{nonNullable:!0,validators:[e.kI.requiredTrue]})}),this.currentBankId=this.transactionInfo?.bankId??1}constructor(F,j){super(),this.testMarketQuestionService=F,this.apiUploadService=j,this.totalBalance=0,this.closeRequest=new c.vpe,this.enableEditInfo=!1,this.sendRequest=!1,this.listBanks=[],this.bankId=1,this.isMobile=!1,this.citizenIdImages=[],this.currentBankId=1,this.maxDate=I.N.maxDateTimePicker,this.allUploadToCdnMenuTypes=w.j6,this.allUploadFileTypes=w.AZ,this.minimumWithdraw=2e5,this.form=new e.cw({accountNameControl:new e.NI({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required]}),bankId:new e.NI({value:1,disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required]}),bankNumber:new e.NI({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required,e.kI.pattern("^[A-Za-z0-9]*$")]}),address:new e.NI({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required]}),contactPhone:new e.NI({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required,e.kI.pattern("^[0-9]*$"),e.kI.minLength(10)]}),idCard:new e.NI({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required,e.kI.pattern("^[0-9]*$")]}),idIssuedBy:new e.NI({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required]}),idIssuedAt:new e.NI({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required]}),birthday:new e.NI({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[e.kI.required]}),acceptPolicy:new e.NI(!1,{nonNullable:!0,validators:[e.kI.requiredTrue]})})}}return J.\u0275fac=function(F){return new(F||J)(c.Y36(q.Q_),c.Y36(R.W))},J.\u0275cmp=c.Xpm({type:J,selectors:[["withdraw-balance"]],inputs:{balanceUserInfo:"balanceUserInfo",transactionInfo:"transactionInfo",totalBalance:"totalBalance"},outputs:{closeRequest:"closeRequest"},features:[c._Bn([{provide:h.fM,useClass:pe.WG,deps:[ce.Ad,M.o8]},{provide:h.ab,useFactory:te.fX,deps:[le.D]}]),c.qOj],decls:129,vars:104,consts:[[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],[1,"box","mx-auto"],[1,"px-5","pt-3","text-left"],[1,"intro-x","font-bold","text-xl","mt-3","mx-5"],[1,"text-danger","text-xs"],[1,"px-5","mt-2","text-left","flex","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md","mx-5"],["azt-track-service","withdraw-balance-921p70SswIB",1,"link__color","link__hover","flex",2,"cursor","pointer",3,"click"],["name","edit",1,"ml-5","mr-2",2,"width","1.25rem!important"],[3,"formGroup"],[1,"p-5","pt-0"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-7",2,"max-width","500px"],[1,"mt-2"],["for","accountName",1,"form-label"],["type","text","id","accountName","formControlName","accountNameControl",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","bankIdInput",1,"form-label"],["id","bankIdInput","appearance","outline"],["formControlName","bankId","name","bankIdInput",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["for","bankNumberInput",1,"form-label"],["type","text","id","bankNumberInput","formControlName","bankNumber",1,"form-control"],[1,"mt-3","text-left","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md"],["for","idCardInput",1,"form-label"],["type","text","id","idCardInput","formControlName","idCard",1,"form-control"],["for","idIssuedByInput",1,"form-label"],["type","text","id","idIssuedByInput","formControlName","idIssuedBy",1,"form-control"],["for","idIssuedAtInput",1,"form-label"],["appearance","outline"],["azt-track-service","withdraw-balance-jCzGkwfhB","id","idIssuedAtInput","matInput","","formControlName","idIssuedAt","readonly","",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","withdraw-balance-rJv5AcE2Pl","matSuffix","",2,"font-size","18px",3,"click"],[1,"w-4","h-4","inline-block"],["name","calendar-clock"],[3,"touchUi","hideTime"],["idIssuedAt",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","birthdayInput",1,"form-label"],["azt-track-service","withdraw-balance-CkeSfDzgZD","id","birthdayInput","matInput","","formControlName","birthday","readonly","",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","withdraw-balance-nEklxkTJW-","matSuffix","",2,"font-size","18px",3,"click"],["birthday",""],["for","contactPhoneInput",1,"form-label"],["type","text","id","contactPhoneInput","formControlName","contactPhone",1,"form-control"],["for","addressInput",1,"form-label"],["type","text","id","addressInput","formControlName","address",1,"form-control"],[1,"flex"],["id","policyCheckbox","type","checkbox","formControlName","acceptPolicy",1,"mr-1",2,"align-self","center","border-radius","1px"],["for","policyCheckbox",1,"form-label",2,"margin-bottom","0"],["azt-track-service","withdraw-balance-_qU2_Iz9K","target","blank",1,"link__color","link__hover",3,"href"],["id","download-link-item",3,"dataUrl","target","fileName","classStyle","fileDescription"],["class","flex mt-5 items-center",4,"ngIf"],[1,"col-span-12","md:col-span-5"],[1,"px-5","pt-3","text-center"],[1,"intro-x","font-bold","text-md"],[4,"ngIf"],[2,"display","block",3,"uploadToCdnMenu","fileType","uploadComplete"],["class","w-full mt-2 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md py-2",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[1,"flex","mt-5","items-center"],["azt-track-service","withdraw-balance-GxlttY-cHY0",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","withdraw-balance-OJpW08kxm9",1,"btn","w-32","btn-secondary","ml-5",3,"click"],["class","w-full relative cursor-pointer mt-2",4,"ngFor","ngForOf"],[1,"w-full","relative","cursor-pointer","mt-2"],[1,"image-fit",2,"height","11rem"],["alt","Azota-Image-Loading",1,"rounded-md",3,"src"],["azt-track-service","withdraw-balance-e_sKYDJPHJ","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["azt-track-service","withdraw-balance-e_sKYDJPHJ",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","w-4","h-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"w-full","mt-2","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","py-2"],[1,"px-4","flex","items-center","justify-center","cursor-pointer","relative","my-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-primary","mr-1"],[1,"col-span-12"],["azt-track-service","withdraw-balance-sJplgzZH1",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","withdraw-balance-be4oFFIHdzB",1,"btn","w-32","btn-secondary","ml-5",3,"click"]],template:function(F,j){if(1&F){const ye=c.EpF();c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),c._uU(5),c.ALo(6,"mytranslate"),c.ALo(7,"number"),c.qZA(),c.TgZ(8,"span",5),c._uU(9),c.ALo(10,"mytranslate"),c.qZA()(),c.TgZ(11,"div",6)(12,"h2",7),c._uU(13),c.ALo(14,"mytranslate"),c.qZA(),c.TgZ(15,"div",8),c.NdJ("click",function(){return j.enableEdit()}),c._UZ(16,"lucide-icon",9),c._uU(17),c.ALo(18,"mytranslate"),c.qZA()(),c.TgZ(19,"form",10)(20,"div",11)(21,"div",12)(22,"div",13)(23,"div",14)(24,"label",15),c._uU(25),c.ALo(26,"mytranslate"),c.qZA(),c._UZ(27,"input",16),c.YNc(28,Xe,3,3,"div",17),c.qZA(),c.TgZ(29,"div",14)(30,"label",18),c._uU(31),c.ALo(32,"mytranslate"),c.qZA(),c.TgZ(33,"mat-form-field",19)(34,"mat-select",20),c.NdJ("valueChange",function(ze){return j.currentBankId=ze})("selectionChange",function(ze){return j.selectBank(ze.value)}),c.YNc(35,ge,2,2,"mat-option",21),c.qZA()(),c.YNc(36,P,3,3,"div",17),c.qZA(),c.TgZ(37,"div",14)(38,"label",22),c._uU(39),c.ALo(40,"mytranslate"),c.qZA(),c._UZ(41,"input",23),c.YNc(42,he,3,3,"div",17),c.qZA(),c.TgZ(43,"div",24)(44,"h2",25),c._uU(45),c.ALo(46,"mytranslate"),c.qZA()(),c.TgZ(47,"div",14)(48,"label",26),c._uU(49),c.ALo(50,"mytranslate"),c.qZA(),c._UZ(51,"input",27),c.YNc(52,Pe,3,3,"div",17),c.qZA(),c.TgZ(53,"div",14)(54,"label",28),c._uU(55),c.ALo(56,"mytranslate"),c.qZA(),c._UZ(57,"input",29),c.YNc(58,Ee,3,3,"div",17),c.qZA(),c.TgZ(59,"div",14)(60,"label",30),c._uU(61),c.ALo(62,"mytranslate"),c.qZA(),c.TgZ(63,"mat-form-field",31)(64,"input",32),c.NdJ("click",function(){c.CHM(ye);const ze=c.MAs(70);return c.KtG(ze.open())}),c.ALo(65,"mytranslate"),c.qZA(),c.TgZ(66,"button",33),c.NdJ("click",function(ze){return c.CHM(ye),c.MAs(70).open(),c.KtG(ze.stopPropagation())}),c.TgZ(67,"span",34),c._UZ(68,"lucide-icon",35),c.qZA()(),c.TgZ(69,"ngx-mat-datetime-picker",36,37)(71,"ngx-mat-datepicker-actions")(72,"button",38),c._uU(73,"OK"),c.qZA()()()()(),c.TgZ(74,"div",14)(75,"label",39),c._uU(76),c.ALo(77,"mytranslate"),c.qZA(),c.TgZ(78,"mat-form-field",31)(79,"input",40),c.NdJ("click",function(){c.CHM(ye);const ze=c.MAs(85);return c.KtG(ze.open())}),c.ALo(80,"mytranslate"),c.qZA(),c.TgZ(81,"button",41),c.NdJ("click",function(ze){return c.CHM(ye),c.MAs(85).open(),c.KtG(ze.stopPropagation())}),c.TgZ(82,"span",34),c._UZ(83,"lucide-icon",35),c.qZA()(),c.TgZ(84,"ngx-mat-datetime-picker",36,42)(86,"ngx-mat-datepicker-actions")(87,"button",38),c._uU(88,"OK"),c.qZA()()()(),c.YNc(89,ct,3,3,"div",17),c.ALo(90,"calcYearOldUser"),c.qZA(),c.TgZ(91,"div",14)(92,"label",43),c._uU(93),c.ALo(94,"mytranslate"),c.qZA(),c._UZ(95,"input",44),c.YNc(96,wt,3,3,"div",17),c.qZA(),c.TgZ(97,"div",14)(98,"label",45),c._uU(99),c.ALo(100,"mytranslate"),c.qZA(),c._UZ(101,"input",46),c.YNc(102,At,3,3,"div",17),c.qZA(),c.TgZ(103,"div",14)(104,"div",47),c._UZ(105,"input",48),c.TgZ(106,"label",49),c._uU(107),c.ALo(108,"mytranslate"),c.TgZ(109,"a",50),c._uU(110),c.ALo(111,"mytranslate"),c.qZA(),c._uU(112),c.ALo(113,"mytranslate"),c._UZ(114,"azt-download-link-item",51),c.ALo(115,"convertRawLinkOfGitHubWithLocale"),c._uU(116),c.ALo(117,"mytranslate"),c.qZA()(),c.YNc(118,Ve,3,3,"div",17),c.qZA(),c.YNc(119,pt,8,9,"div",52),c.qZA(),c.TgZ(120,"div",53)(121,"div",54)(122,"h2",55),c._uU(123),c.ALo(124,"mytranslate"),c.qZA()(),c.YNc(125,Ct,2,1,"div",56),c.TgZ(126,"azt-upload-multiple-box",57),c.NdJ("uploadComplete",function(ze){return j.handleUploadComplete(ze)}),c.YNc(127,zt,9,3,"div",58),c.qZA()(),c.YNc(128,Te,9,9,"div",59),c.qZA()()()()()()}if(2&F){const ye=c.MAs(70),qe=c.MAs(85);c.xp6(5),c.AsE(" ",c.lcZ(6,54,"lang_test_market_balance"),"",c.lcZ(7,56,j.totalBalance),"\u0111 "),c.xp6(4),c.Oqu(c.lcZ(10,58,"lang_test_market_request_with_draw_notice")),c.xp6(4),c.hij(" ",c.lcZ(14,60,"lang_test_market_bank_information")," "),c.xp6(4),c.hij(" ",c.lcZ(18,62,j.enableEditInfo?"lang_auto_huy":"lang_auto_sua")," "),c.xp6(2),c.Q6J("formGroup",j.form),c.xp6(6),c.hij(" ",c.lcZ(26,64,"lang_test_market_bankHolder")," "),c.xp6(3),c.Q6J("ngIf",j.form.controls.accountNameControl.dirty&&j.form.controls.accountNameControl.errors),c.xp6(3),c.hij(" ",c.lcZ(32,66,"lang_test_market_bankName")," "),c.xp6(3),c.Q6J("value",j.currentBankId),c.xp6(1),c.Q6J("ngForOf",j.listBanks),c.xp6(1),c.Q6J("ngIf",j.form.controls.bankId.dirty&&j.form.controls.bankId.errors),c.xp6(3),c.hij(" ",c.lcZ(40,68,"lang_test_market_bankNumber")," "),c.xp6(3),c.Q6J("ngIf",j.form.controls.bankNumber.dirty&&j.form.controls.bankNumber.errors),c.xp6(3),c.hij(" ",c.lcZ(46,70,"lang_test_market_personal_information")," "),c.xp6(4),c.hij(" ",c.lcZ(50,72,"lang_test_market_citizen_id")," "),c.xp6(3),c.Q6J("ngIf",j.form.controls.idCard.dirty&&j.form.controls.idCard.errors),c.xp6(3),c.hij(" ",c.lcZ(56,74,"lang_test_market_issued_by")," "),c.xp6(3),c.Q6J("ngIf",j.form.controls.idIssuedBy.dirty&&j.form.controls.idIssuedBy.errors),c.xp6(3),c.hij(" ",c.lcZ(62,76,"lang_test_market_issued_at")," "),c.xp6(3),c.s9C("placeholder",c.lcZ(65,78,"lang_test_market_issued_at")),c.Q6J("max",j.maxDate)("ngxMatDatetimePicker",ye),c.xp6(5),c.Q6J("touchUi",!0)("hideTime",!0),c.xp6(7),c.hij(" ",c.lcZ(77,80,"lang_auto_ngay_sinh")," "),c.xp6(3),c.s9C("placeholder",c.lcZ(80,82,"lang_auto_ngay_sinh")),c.Q6J("max",j.maxDate)("ngxMatDatetimePicker",qe),c.xp6(5),c.Q6J("touchUi",!0)("hideTime",!0),c.xp6(5),c.Q6J("ngIf",c.lcZ(90,84,j.form.controls.birthday.value)<18),c.xp6(4),c.hij(" ",c.lcZ(94,86,"lang_number_phone")," "),c.xp6(3),c.Q6J("ngIf",j.form.controls.contactPhone.dirty&&j.form.controls.contactPhone.errors),c.xp6(3),c.hij(" ",c.lcZ(100,88,"lang_test_market_address")," "),c.xp6(3),c.Q6J("ngIf",j.form.controls.address.dirty&&j.form.controls.address.errors),c.xp6(5),c.hij(" ",c.lcZ(108,90,"lang_test_market_Azota_policy_1"),""),c.xp6(2),c.s9C("href","/"+j.getCurLang()+"/admin/test-market/privacy",c.LSH),c.xp6(1),c.Oqu(c.lcZ(111,92,"lang_test_market_Azota_policy_2")),c.xp6(2),c.hij("\xa0",c.lcZ(113,94,"lang_auto_va"),"\xa0"),c.xp6(2),c.Q6J("dataUrl",c.lcZ(115,96,"contract/contract_azota_vn.docx?raw=true"))("target","_blank")("fileName","contract_azota_vn.docx")("classStyle","link__color link__hover")("fileDescription","lang_test_market_Azota_policy_contract"),c.xp6(2),c.hij("",c.lcZ(117,98,"lang_test_market_Azota_policy_3")," "),c.xp6(2),c.Q6J("ngIf",(null==j.form.controls.acceptPolicy?null:j.form.controls.acceptPolicy.dirty)&&(null==j.form.controls.acceptPolicy?null:j.form.controls.acceptPolicy.errors)&&!(null!=j.form.controls.acceptPolicy&&j.form.controls.acceptPolicy.value)),c.xp6(1),c.Q6J("ngIf",!j.isMobile),c.xp6(4),c.hij(" ",c.lcZ(124,100,"lang_test_market_upload_citizenID_images")," "),c.xp6(2),c.Q6J("ngIf",j.citizenIdImages.length>0),c.xp6(1),c.Q6J("uploadToCdnMenu",j.allUploadToCdnMenuTypes.GET_PUBLIC_UPLOAD_URL_FOR_ID_NUMBER)("fileType",c.VKq(102,xe,j.allUploadFileTypes.IMAGE)),c.xp6(1),c.Q6J("ngIf",j.enableEditInfo),c.xp6(1),c.Q6J("ngIf",j.isMobile)}},dependencies:[z.sg,z.O5,e._Y,e.Fj,e.Wl,e.JJ,e.JL,ce.ey,B.lW,ee.Nt,K.KE,K.R9,oe.gD,h.rZ,h.T$,h.c_,h.cL,e.sg,e.u,re.M,ve.P,H.B,de.Nh5,z.JJ,Le.JV,Le.QN,Le.jw,Le.nw],encapsulation:2}),J})()},40928:(Ke,we,b)=>{"use strict";b.r(we),b.d(we,{AuthModule:()=>Lu});var h=b(96814),c=b(37691),e=b(65879),M=b(79823);(0,M.registerVersion)("firebase","10.5.2","app");var te=b(41954),ne=b(2631);const I=new class w extends ne.v{}(class le extends te.o{constructor(u,t){super(u,t),this.scheduler=u,this.work=t}schedule(u,t=0){return t>0?super.schedule(u,t):(this.delay=t,this.state=u,this.scheduler.flush(this),this)}execute(u,t){return t>0||this.closed?super.execute(u,t):this._execute(u,t)}requestAsyncId(u,t,o=0){return null!=o&&o>0||null==o&&this.delay>0?super.requestAsyncId(u,t,o):(u.flush(this),0)}});var R=b(16321),z=b(99397),B=b(85137),ee=b(43093);const K=new e.GfV("ANGULARFIRE2_VERSION");class H{constructor(){return((n,u)=>{const t=(0,M.getApps)(),o=[];return t.forEach(l=>{l.container.getProvider(n).instances.forEach(C=>{o.includes(C)||o.push(C)})}),o})(de)}}const de="app-check";function Le(){}class Xe{constructor(u,t=I){(0,c.Z)(this,"zone",void 0),(0,c.Z)(this,"delegate",void 0),this.zone=u,this.delegate=t}now(){return this.delegate.now()}schedule(u,t,o){const l=this.zone;return this.delegate.schedule(function(C){l.runGuarded(()=>{u.apply(this,[C])})},t,o)}}class ge{constructor(u){(0,c.Z)(this,"zone",void 0),(0,c.Z)(this,"task",null),this.zone=u}call(u,t){const o=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Le,{},Le,Le)),t.pipe((0,z.b)({next:o,complete:o,error:o})).subscribe(u).add(o)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let P=(()=>{class n{constructor(t){(0,c.Z)(this,"ngZone",void 0),(0,c.Z)(this,"outsideAngular",void 0),(0,c.Z)(this,"insideAngular",void 0),this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Xe(Zone.current)),this.insideAngular=t.run(()=>new Xe(Zone.current,R.z)),globalThis.\u0275AngularFireScheduler||=this}}return(0,c.Z)(n,"\u0275fac",function(t){return new(t||n)(e.LFG(e.R0b))}),(0,c.Z)(n,"\u0275prov",e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})();function At(n){return function Ve(n){return function(t){return(t=t.lift(new ge(n.ngZone))).pipe((0,B.R)(n.outsideAngular),(0,ee.Q)(n.insideAngular))}}(function he(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var et=b(83399);et.Z.registerVersion("firebase","10.5.2","app-compat");const Te=["ngOnDestroy"];class J{constructor(u){return u}}const Ie=new e.OlP("angularfire2.app.options"),F=new e.OlP("angularfire2.app.name");function j(n,u,t){const l="object"==typeof t&&t||{};l.name=l.name||"string"==typeof t&&t||"[DEFAULT]";const C=et.Z.apps.filter(N=>N&&N.name===l.name)[0]||u.runOutsideAngular(()=>et.Z.initializeApp(n,l));try{if(JSON.stringify(n)!==JSON.stringify(C.options)){const N=!!module.hot;ye("error",`${C.name} Firebase App already initialized with different options${N?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new J(C)}const ye=(n,...u)=>{(0,e.X6Q)()&&typeof console<"u"&&console[n](...u)},qe={provide:J,useFactory:j,deps:[Ie,e.R0b,[new e.FiY,F]]};let ze=(()=>{class n{static initializeApp(t,o){return{ngModule:n,providers:[{provide:Ie,useValue:t},{provide:F,useValue:o}]}}constructor(t){et.Z.registerVersion("angularfire",K.full,"core"),et.Z.registerVersion("angularfire",K.full,"app-compat"),et.Z.registerVersion("angular",e.q4F.full,t.toString())}}return(0,c.Z)(n,"\u0275fac",function(t){return new(t||n)(e.LFG(e.Lbi))}),(0,c.Z)(n,"\u0275mod",e.oAB({type:n})),(0,c.Z)(n,"\u0275inj",e.cJS({providers:[qe]})),n})();const Tt=typeof module<"u"&&!!module.hot,Ut=(n,...u)=>{(0,e.X6Q)()&&typeof console<"u"&&console[n](...u)};globalThis.\u0275AngularfireInstanceCache||=[];var v=b(56223),_e=b(21266),It=b(42753),Ae=b(37722);function St(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"input",3,4),e.NdJ("paste",function(l){e.CHM(t);const p=e.oxw(2);return e.KtG(p.handlePaste(l))})("keyup",function(l){const C=e.CHM(t).index,N=e.oxw(2);return e.KtG(N.onKeyUp(l,C))})("input",function(l){e.CHM(t);const p=e.oxw(2);return e.KtG(p.onInput(l))})("keydown",function(l){const C=e.CHM(t).index,N=e.oxw(2);return e.KtG(N.onKeyDown(l,C))}),e.qZA()}if(2&n){const t=u.$implicit,o=u.index,l=e.oxw(2);e.Gre("otp-input ",l.config.inputClass,""),e.Q6J("pattern",l.config.allowNumbersOnly?"\\d*":"")("type",l.inputType)("placeholder",(null==l.config?null:l.config.placeholder)||"")("ngStyle",l.config.inputStyles)("formControl",l.otpForm.controls[t])("id",l.getBoxId(o))}}function kt(n,u){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,St,2,9,"input",2),e.ALo(2,"keys"),e.qZA()),2&n){const t=e.oxw();e.Gre("ng-otp-input-wrapper wrapper ",t.config.containerClass,""),e.MGl("id","c_",t.componentKey,""),e.Q6J("ngStyle",t.config.containerStyles),e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,6,null==t.otpForm?null:t.otpForm.controls))}}class $e{static ifTab(u){return this.ifKey(u,"Tab")}static ifDelete(u){return this.ifKey(u,"Delete;Del")}static ifBackspace(u){return this.ifKey(u,"Backspace")}static ifRightArrow(u){return this.ifKey(u,"ArrowRight;Right")}static ifLeftArrow(u){return this.ifKey(u,"ArrowLeft;Left")}static ifSpacebar(u){return this.ifKey(u,"Spacebar; ")}static ifKey(u,t){return t.split(";").some(l=>l===u.key)}}let ut=(()=>{class n{transform(t){return Object.keys(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"keys",type:n,pure:!0}),n})(),tt=(()=>{class n{constructor(t,o){this.keysPipe=t,this.document=o,this.config={length:4},this.onInputChange=new e.vpe,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new v.cw({});for(let t=0;t<this.config.length;t++)this.otpForm.addControl(this.getControlName(t),new v.NI);this.otpForm.valueChanges.subscribe(t=>{this.keysPipe.transform(this.otpForm.controls).forEach(o=>{var l=this.otpForm.controls[o].value;l&&l.length>1&&(l.length>=this.config.length?this.setValue(l):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const t=this.document.getElementById(`c_${this.componentKey}`);if(t){const o=t.getElementsByClassName("otp-input")[0];o&&o.focus&&o.focus()}}}getControlName(t){return`ctrl_${t}`}onKeyDown(t,o){const l=this.getBoxId(o-1),p=this.getBoxId(o);return $e.ifSpacebar(t)?(t.preventDefault(),!1):$e.ifBackspace(t)?(t.target.value?this.clearInput(p,o):(this.clearInput(l,o-1),this.setSelected(l)),void this.rebuildValue()):void 0}onInput(t){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${t.target.value}`:t.target.value))return t.target.value="",t.stopPropagation(),void t.preventDefault()}onKeyUp(t,o){$e.ifTab(t)&&(o-=1);const l=this.getBoxId(o+1),p=this.getBoxId(o-1),C=this.getBoxId(o);return $e.ifRightArrow(t)?(t.preventDefault(),void this.setSelected(l)):$e.ifLeftArrow(t)?(t.preventDefault(),void this.setSelected(p)):$e.ifDelete(t)?(t.target.value?this.clearInput(C,o):(this.clearInput(p,o-1),this.setSelected(p)),void this.rebuildValue()):void(t.target.value&&(this.ifValidKeyCode(t)&&this.setSelected(l),this.rebuildValue()))}validateNumber(t){return t&&/^[0-9]+$/.test(t)}getBoxId(t){return`otp_${t}_${this.componentKey}`}clearInput(t,o){let l=this.getControlName(o);this.otpForm.controls[l]?.setValue(null);const p=this.document.getElementById(t);p&&p instanceof HTMLInputElement&&(p.value=null)}setSelected(t){this.focusTo(t);const o=this.document.getElementById(t);o&&o.setSelectionRange&&setTimeout(()=>{o.setSelectionRange(0,1)},0)}ifValidKeyCode(t){const o=t.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(o)}focusTo(t){const o=this.document.getElementById(t);o&&o.focus()}setValue(t){if(!this.config.allowNumbersOnly||!isNaN(t)){if(this.otpForm.reset(),!t)return void this.rebuildValue();if(t=t.toString().replace(/\s/g,""),Array.from(t).forEach((l,p)=>{this.otpForm.get(this.getControlName(p))&&this.otpForm.get(this.getControlName(p)).setValue(l)}),!this.config.disableAutoFocus){const l=this.document.getElementById(`c_${this.componentKey}`);var o=t.length<this.config.length?t.length:this.config.length-1;let p=l.getElementsByClassName("otp-input")[o];p&&p.focus&&p.focus()}this.rebuildValue()}}rebuildValue(){let t="";this.keysPipe.transform(this.otpForm.controls).forEach(o=>{if(this.otpForm.controls[o].value){let l=this.otpForm.controls[o].value,p=l.length>1,C=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());l=l[0];let N=C?"upper"==this.config.letterCase.toLocaleLowerCase()?l.toUpperCase():l.toLowerCase():l;C&&N==l?C=!1:l=N,t+=l,(p||C)&&this.otpForm.controls[o].setValue(l)}}),this.formCtrl?.setValue&&this.formCtrl.setValue(t),this.onInputChange.emit(t),this.currentVal=t}handlePaste(t){let o=t.clipboardData||window.clipboardData;if(o)var l=o.getData("Text");t.stopPropagation(),t.preventDefault(),l&&(!this.config.allowNumbersOnly||this.validateNumber(l))&&this.setValue(l)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ut),e.Y36(h.K0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","formControl","id","paste","keyup","input","keydown"],["inp",""]],template:function(t,o){1&t&&e.YNc(0,kt,3,8,"div",0),2&t&&e.Q6J("ngIf",null==o.otpForm?null:o.otpForm.controls)},dependencies:[h.O5,h.PC,h.sg,v.Fj,v.c5,v.JJ,v.oH,ut],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),n})(),dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[ut],imports:[[h.ez,v.u5,v.UX]]}),n})();var mn=b(21494),De=b(60381),ot=b(25391),Mt=b(95545),gt=b(56731),sn=b(84155),Re=b(78217),je=b(24090),rt=b(20553),qt=b(82481),ft=b(52572),Y=b(37734),Ne=b(78953),We=b(79998),nt=b(23433),Ue=b(43389),Bt=b(75138),Ht=b(98129),Dt=b(28740),x=b(29023),y=b(23680),g=b(64170),f=b(44683),_=b(13217),T=b(84003),O=b(91765),D=b(19347),X=b(72164),Q=b(50749),Ce=b(87325),ae=b(98525),se=b(71646),E=b(36727);function Ye(n,u){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=u.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Gt(n,u){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=u.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Z(n,u){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=u.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function S(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"mat-form-field",5)(2,"mat-select",17),e.NdJ("valueChange",function(l){e.CHM(t);const p=e.oxw();return e.KtG(p.department_select=l)})("selectionChange",function(l){e.CHM(t);const p=e.oxw();return e.KtG(p.selectDepartment(l.value))}),e.ALo(3,"mytranslate"),e.YNc(4,Z,2,2,"mat-option",7),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.s9C("placeholder",e.lcZ(3,3,"lang_testbank_utils_school_info_select_department")),e.Q6J("value",t.department_select),e.xp6(2),e.Q6J("ngForOf",t.departments)}}function U(n,u){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=u.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function G(n,u){1&n&&(e.TgZ(0,"span",18),e._UZ(1,"azt-loading-ui"),e.qZA())}let ue=(()=>{class n extends X.e{initData(){this.getProvinces(),this.getTypeSchool()}selectLocation(t){this.location_select=t,this.department_select=null,this.departments=[],this.getDistrictsByProvince()}selectLevel(t){this.schools=[],this.school_select=null,this.level_select=t,t<=3?(this.getListSchool(),this.getDistrictsByProvince()):t>3&&this.getListSchoolByProvince()}selectDepartment(t){this.schools=[],this.school_select=null,this.department_select=t,this.getListSchool()}selectSchool(t){this.school_select=t}saveInfo(){this.school_select?-1===this.school_select?this.btnCloseDialog(void 0):this.schoolConfigService.apiSchoolConfigPushSchoolInfoPost({schoolId:this.school_select??0}).subscribe(o=>{o&&1==o.success?(this.showSuccessSnack("lang_auto_cap_nhat_thong_tin_thanh_cong"),this.btnCloseDialog(o.data?.obj)):this.showErrorSnack("lang_auto_cap_nhat_thong_tin_khong_thanh_cong_vui_long_thao_tac_lai")}):this.showErrorSnack(this.sAztUserService.isTeacherRole()?"lang_auto_vui_long_chon_truong_minh_dang_giang_day":"lang_auto_vui_long_chon_truong_minh_dang_theo_hoc")}btnCloseDialog(t){this.dialogRef.close(t)}getProvinces(){this.schoolInfoService.apiSchoolInfoGetProvincesGet().subscribe(t=>{t&&(this.locations=t.data?.objs??new Array,this.locations=this.sortName(this.locations))})}getTypeSchool(){this.schoolInfoService.apiSchoolInfoGetTypeSchoolGet().subscribe(t=>{t&&(this.levels=t.data?.objs??new Array)})}getDistrictsByProvince(t=(()=>{})){this.schoolInfoService.apiSchoolInfoGetDistrictsByProvinceGet(this.location_select??0).subscribe(o=>{o&&(this.departments=o.data?.objs??new Array,this.departments=this.sortName(this.departments),t())})}getListSchoolByProvince(t=(()=>{})){this.location_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByProvinceGet(this.location_select,this.level_select).subscribe(o=>{o&&(this.schools=o.data?.objs??new Array,this.schools=this.sortName(this.schools),t())})}getListSchool(t=(()=>{})){this.department_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByDistrictGet(this.department_select,this.level_select).subscribe(o=>{o&&(this.schools=o.data?.objs??new Array,this.schools=this.sortName(this.schools),t())})}sortName(t){return t.sort((o,l)=>o.name?.trim().localeCompare(l.name?.trim()??"")??-1),t}ngOnInit(){this.infoSchool&&(this.location_select=this.infoSchool.provinceId,this.level_select=this.infoSchool.typeId,this.infoSchool.typeId<=3?this.getDistrictsByProvince(()=>{this.department_select=this.infoSchool.districtId,this.getListSchool(()=>{this.school_select=this.infoSchool.id})}):(this.infoSchool.typeId??0)>3&&this.getListSchoolByProvince(()=>{"boolean"!=typeof this.infoSchool&&(this.school_select=this.infoSchool.id)})),this.initData(),super.ngOnInit()}constructor(t,o,l,p,C){super(C,p),this.schoolConfigService=t,this.schoolInfoService=o,this.sAztUserService=l,this.dialogRef=p,this.departments=[],this.levels=[],this.schools=[],this.locations=[],this.location_select=null,this.department_select=null,this.level_select=null,this.school_select=null,this.infoSchool=C.infoSchool,this.form=new v.cw({LocationName:new v.NI("",{nonNullable:!0}),LevelName:new v.NI("",{nonNullable:!0}),DepartmentName:new v.NI("",{nonNullable:!0}),SchoolName:new v.NI("",{nonNullable:!0}),multiChooseLevel:new v.NI([]),listMultiChooseSubject:new v.Oe([])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q.Tt),e.Y36(Ce.pX),e.Y36(Ne.U),e.Y36(D.so,8),e.Y36(D.WI,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["azt-school-info"]],features:[e.qOj],decls:32,vars:31,consts:[[1,"box","p-5",2,"max-height","80vh","overflow-y","auto"],[1,"text-md","font-medium","flex","items-center"],[1,"text-xs","text-slate-500","dark:text-slate-400","mt-2"],[1,"mt-3",3,"formGroup"],[1,"form-group","mb-3"],["appearance","outline"],["name","LocationName",3,"value","placeholder","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","LevelName",3,"value","placeholder","valueChange","selectionChange"],["class","form-group mb-3",4,"ngIf"],[1,"form-group"],["name","SchoolName",3,"value","placeholder","valueChange","selectionChange"],[1,"mt-3","mb-2","flex","justify-end"],["azt-track-service","azt-school-info-3HcPzwtB3hg",1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],["azt-track-service","azt-school-info-6J6trmJ9m-D",1,"btn","btn-primary","w-24",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"value"],["name","DepartmentName",3,"value","placeholder","valueChange","selectionChange"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",2),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"form",3)(8,"div",4)(9,"mat-form-field",5)(10,"mat-select",6),e.NdJ("valueChange",function(p){return o.location_select=p})("selectionChange",function(p){return o.selectLocation(p.value)}),e.ALo(11,"mytranslate"),e.YNc(12,Ye,2,2,"mat-option",7),e.qZA()()(),e.TgZ(13,"div",4)(14,"mat-form-field",5)(15,"mat-select",8),e.NdJ("valueChange",function(p){return o.level_select=p})("selectionChange",function(p){return o.selectLevel(p.value)}),e.ALo(16,"mytranslate"),e.YNc(17,Gt,2,2,"mat-option",7),e.qZA()()(),e.YNc(18,S,5,5,"div",9),e.TgZ(19,"div",10)(20,"mat-form-field",5)(21,"mat-select",11),e.NdJ("valueChange",function(p){return o.school_select=p})("selectionChange",function(p){return o.selectSchool(p.value)}),e.ALo(22,"mytranslate"),e.YNc(23,U,2,2,"mat-option",7),e.qZA()()()(),e.TgZ(24,"div",12)(25,"button",13),e.NdJ("click",function(){return o.btnCloseDialog(void 0)}),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"button",14),e.NdJ("click",function(){return o.saveInfo()}),e.YNc(29,G,2,0,"span",15),e._uU(30),e.ALo(31,"mytranslate"),e.qZA()()()),2&t){let l;e.xp6(2),e.hij(" ",e.lcZ(3,17,"lang_auto_cap_nhat_thong_tin_truong")," "),e.xp6(3),e.hij(" ",e.lcZ(6,19,"lang_testbank_utils_school_info_note_tutorial")," "),e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(3),e.s9C("placeholder",e.lcZ(11,21,"lang_testbank_utils_school_info_select_province")),e.Q6J("value",o.location_select),e.xp6(2),e.Q6J("ngForOf",o.locations),e.xp6(3),e.s9C("placeholder",e.lcZ(16,23,"lang_testbank_utils_school_info_select_level")),e.Q6J("value",o.level_select),e.xp6(2),e.Q6J("ngForOf",o.levels),e.xp6(1),e.Q6J("ngIf",(null!==(l=o.level_select)&&void 0!==l?l:0)<=3),e.xp6(3),e.s9C("placeholder",e.lcZ(22,25,"lang_testbank_utils_school_info_select_school")),e.Q6J("value",o.school_select),e.xp6(2),e.Q6J("ngForOf",o.schools),e.xp6(3),e.hij(" ",e.lcZ(27,27,"lang_testbank_utils_school_info_later")," "),e.xp6(2),e.Q6J("disabled",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(31,29,"lang_button_save")," ")}},dependencies:[h.sg,h.O5,y.ey,g.KE,ae.gD,v._Y,v.JL,v.sg,se.n,E.JV],encapsulation:2}),n})();var me=b(58205);function ke(n,u){1&n&&(e.TgZ(0,"span",7),e._UZ(1,"azt-loading-ui"),e.qZA())}let He=(()=>{class n extends X.e{setData(t){this.dataObjs=t}checkValidChooseGradeAndSubject(t){let o=!0;return t.length?t.forEach(l=>{(!l.subjectsIds||!l.subjectsIds.length)&&(o=!1)}):o=!1,o}saveInfo(){let t=[],o=[],l=[];for(let p=0;p<this.dataObjs.length;p++)if(this.commonService.isExistInArray(o,this.dataObjs[p].class?.value)||(o.push(Number(this.dataObjs[p].class?.value)),l.push(String(this.dataObjs[p].class?.desc))),this.dataObjs[p].subjectsIds&&Array.isArray(this.dataObjs[p].subjectsIds)){let C=this.dataObjs[p].subjectsIds??[];if(C.length)for(let N=0;N<C.length;N++)t.push({classId:this.dataObjs[p].class?.value??0,subjectId:C[N]})}t.length>0?(this.initStatusObj(),this.surveyConfigService.apiSurveyConfigSaveSurvey3Post({objs:t}).subscribe(p=>{p&&1==p.success?(this.classroomGradePathValue=o,this.dialogRef.close({classroomIds:o,classroomDescs:l})):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0)})):this.errorStatusObj("lang_matrix_list_choose_grade_and_subject_fail",!0)}btnCloseDialog(){this.dialogRef.close()}ngOnInit(){super.ngOnInit()}constructor(t,o,l){super(l,o),this.surveyConfigService=t,this.dialogRef=o,this.dataDialog=l,this.valueSurvey=[],this.valueSubjectSurvey=[],this.dataObjs=[],this.oldDataObjs=[],this.classroomGrade=[],this.classroomGradePathValue=[],this.classroomGradePathValue=this.dataDialog.classroomGradePathValue,this.valueSurvey=this.dataDialog.valueSurvey,this.dataObjs=this.dataDialog.dataObjs,this.dataObjs.sort((p,C)=>(p.class?.value??0)-(C.class?.value??0)),this.valueSubjectSurvey=this.dataDialog.valueSubjectSurvey,this.form=new v.cw({LocationName:new v.NI("",{nonNullable:!0,validators:[v.kI.required]}),LevelName:new v.NI("",{nonNullable:!0,validators:[v.kI.required]}),DepartmentName:new v.NI("",{nonNullable:!0,validators:[v.kI.required]}),SchoolName:new v.NI("",{nonNullable:!0,validators:[v.kI.required]}),multiChooseLevel:new v.NI([]),listMultiChooseSubject:new v.Oe([])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q.XG),e.Y36(D.so,8),e.Y36(D.WI,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["azt-grade-subject-info"]],features:[e.qOj],decls:11,vars:13,consts:[[1,"box","p-5"],[3,"formGroup"],[3,"valueSurvey","valueSubjectSurvey","classroomGradePathValue","dataObjs","sendData"],[1,"mt-3","flex","justify-end"],[1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],[1,"btn","btn-primary","w-24",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"azt-multi-choose-level-subject",2),e.NdJ("sendData",function(p){return o.setData(p)}),e.qZA()(),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return o.btnCloseDialog()}),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return o.saveInfo()}),e.YNc(8,ke,2,0,"span",6),e._uU(9),e.ALo(10,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("valueSurvey",o.valueSurvey)("valueSubjectSurvey",o.valueSubjectSurvey)("classroomGradePathValue",o.classroomGradePathValue)("dataObjs",o.dataObjs),e.xp6(3),e.hij(" ",e.lcZ(6,9,"lang_testbank_utils_school_info_later")," "),e.xp6(2),e.Q6J("disabled",o.statusObj.loading||!o.checkValidChooseGradeAndSubject(o.dataObjs)),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(10,11,"lang_button_save")," "))},dependencies:[h.O5,v._Y,v.JL,v.sg,se.n,me.C,E.JV],encapsulation:2}),n})();var Be=b(63120),vt=b(2783),Kt=b(7516),gn=b(32296),Ur=b(2032),No=b(85904),fe=b(67679),Ro=b(61713),Mr=b(84253);function ii(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e.Hsn(4,1),e.qZA(),e.TgZ(5,"div",8)(6,"div",9)(7,"image-cropper",10),e.NdJ("imageCropped",function(l){e.CHM(t);const p=e.oxw();return e.KtG(p.imageCropped(l))}),e.qZA()()(),e.TgZ(8,"div",11)(9,"button",12),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.removeDialog())}),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"button",13),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.submitImage())}),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",150)("cropperMinWidth",128),e.xp6(3),e.Oqu(e.lcZ(11,7,"lang_auto_huy")),e.xp6(3),e.Oqu(e.lcZ(14,9,"lang_auto_cap_nhat"))}}const Uo=[[["","body",""]],[["","header",""]]],qr=["[body]","[header]"];let Dr=(()=>{class n extends Mr.w{constructor(){super(...arguments),this.uploadComplete=new e.vpe,this.imageChangedEvent=void 0,this.imageFileName=""}fileChangeEvent(t){const l=t.target.files;if(l){if((0,Ro.EO)(l[0]?.size)>=this.limitSize)return this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_vui_long_chon_tep_co_kich_thuoc_nho_hon",this.limitSize.toString(),"MB"));this.imageChangedEvent=t,this.imageFileName=l?.length?l[0]?.name:""}}imageCropped(t){fetch(t.objectUrl??"").then(o=>o.blob()).then(o=>{const l=new FileReader;l.onload=()=>{let C=this.b64toFile(l.result,this.imageFileName);this.saveImage=C},l.readAsDataURL(o)}).catch(o=>{console.error(this.commonService.translateToKeyParam("lang_auto_co_loi_xay_ra",o))})}submitImage(){const t=this.imageChangedEvent?.target;t.files=null,this.imageChangedEvent=void 0,this.saveImage&&this.uploadFile(this.saveImage,"").then(o=>{o&&this.uploadComplete.emit(o)})}removeDialog(){const t=this.imageChangedEvent?.target;t.files=null,this.imageChangedEvent=void 0}emitUploadComplete(t){}b64toFile(t,o){t=t.replace("data:image/png;base64,","");let C=window.atob(t),N=[];for(let ie=0;ie<C.length;ie+=512){let Ze=C.slice(ie,ie+512),Oe=new Array(Ze.length);for(let Se=0;Se<Ze.length;Se++)Oe[Se]=Ze.charCodeAt(Se);let it=new Uint8Array(Oe);N.push(it)}return new File(N,o,{type:"image/png"})}}return n.\u0275fac=function(){let u;return function(o){return(u||(u=e.n5z(n)))(o||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["azt-upload-image-cropper"]],outputs:{uploadComplete:"uploadComplete"},features:[e.qOj],ngContentSelectors:qr,decls:5,vars:2,consts:[[1,"flex","items-center","justify-center","h-full",3,"click"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"accept","change","cancel"],["formChoseFile",""],["style","position: fixed; left: 0; top: 0; z-index: 9999; background: #303030b0; width: 100%; height: 100%; padding: 20px",4,"ngIf"],[2,"position","fixed","left","0","top","0","z-index","9999","background","#303030b0","width","100%","height","100%","padding","20px"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-body",2,"max-height","430px","overflow-y","auto"],[1,"img-container"],[3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","imageCropped"],[1,"modal-footer"],["control-id","ControlID-2",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["id","crop-button","control-id","ControlID-3",1,"btn","btn-primary","w-24",3,"click"]],template:function(t,o){if(1&t){const l=e.EpF();e.F$t(Uo),e.TgZ(0,"div",0),e.NdJ("click",function(){e.CHM(l);const C=e.MAs(2);return e.KtG(o.onOpenFileDictionary()&&C.click())}),e.TgZ(1,"input",1,2),e.NdJ("change",function(C){return o.fileChangeEvent(C)})("cancel",function(C){return o.onCancelSelect(C)}),e.qZA(),e.Hsn(3),e.qZA(),e.YNc(4,ii,15,11,"div",3)}2&t&&(e.xp6(1),e.s9C("accept",o.fileType),e.xp6(3),e.Q6J("ngIf",o.imageChangedEvent))},dependencies:[h.O5,ot.ap,E.JV],styles:[".source-image {\n\t\tmargin: auto !important;\n\t}\n\t.modal-dialog[_ngcontent-%COMP%] {\n\t\tmax-width: 500px;\n\t\tmargin: auto;\n\t}"]}),n})();function jr(n,u){if(1&n&&e._UZ(0,"azt-loading-effect",3),2&n){const t=e.oxw();e.Q6J("currentStatusObj",t.statusObj)}}function Mo(n,u){1&n&&(e.TgZ(0,"div",67),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function qo(n,u){1&n&&(e.TgZ(0,"div",67),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_ngay_sinh")," "))}function oi(n,u){1&n&&e._UZ(0,"input",68)}function kn(n,u){1&n&&(e._UZ(0,"input",69),e.ALo(1,"mytranslate")),2&n&&e.s9C("placeholder",e.lcZ(1,1,"lang_auto_nhap_email")+"...")}function ri(n,u){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij("*",e.lcZ(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang"),""))}function Fr(n,u){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,ri,3,3,"div",63),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("email","email")||t.getErrorType("email","pattern"))}}function ai(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"a",71),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.goToConfirmEmail())}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_email")," "))}function Qr(n,u){1&n&&e._UZ(0,"input",72)}function zr(n,u){1&n&&(e._UZ(0,"input",73),e.ALo(1,"mytranslate")),2&n&&e.s9C("placeholder",e.lcZ(1,1,"lang_auto_nhap_so_dien_thoai")+"...")}function Do(n,u){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_so_dien_thoai_chi_gom_cac_chu_so_va_dai_10_ky_tu")," "))}function jo(n,u){if(1&n&&(e.TgZ(0,"div",70),e.YNc(1,Do,3,3,"div",63),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("phone","pattern")||t.getErrorType("phone","minlength")||t.getErrorType("phone","maxlength"))}}function Br(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"a",74),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.goToConfirm())}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_so")," "))}function Fo(n,u){1&n&&(e.O4$(),e.kcU(),e.TgZ(0,"div",75)(1,"div"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.hij("*",e.lcZ(3,1,"lang_account_general_require_school"),""))}function Jr(n,u){1&n&&(e.O4$(),e.kcU(),e.TgZ(0,"div",75)(1,"div"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.hij("*",e.lcZ(3,1,"lang_account_general_require_grade_subject"),""))}function cn(n,u){if(1&n){const t=e.EpF();e.O4$(),e.kcU(),e.ynx(0),e.TgZ(1,"div",76)(2,"label",56),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",57),e._UZ(6,"input",58),e.TgZ(7,"button",77),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.openSelectGradeSubjectDialog())}),e.O4$(),e.TgZ(8,"svg",12),e._UZ(9,"path",60)(10,"path",61),e.qZA(),e._uU(11),e.ALo(12,"mytranslate"),e.qZA()(),e.YNc(13,Jr,4,3,"div",62),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,4,"lang_auto_chon_khoi_day_mon_day")),e.xp6(3),e.s9C("value",t.classroomGradeDesc.join(", ")),e.xp6(5),e.hij(" ",e.lcZ(12,6,t.classroomGradeDesc.length?"lang_auto_sua":"lang_auto_them")," "),e.xp6(2),e.Q6J("ngIf",!t.classroomGradeDesc.length)}}function Qo(n,u){1&n&&(e.TgZ(0,"span",78),e._UZ(1,"azt-loading-ui"),e.qZA())}const si=function(n){return[n]};function zo(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"form",4)(1,"div",5)(2,"div",6),e._UZ(3,"azt-create-avatar",7),e.qZA(),e.TgZ(4,"azt-upload-image-cropper",8),e.NdJ("uploadComplete",function(l){e.CHM(t);const p=e.oxw();return e.KtG(p.submitAvatar(l))}),e.TgZ(5,"div",9)(6,"div",10)(7,"button",11),e.O4$(),e.TgZ(8,"svg",12),e._UZ(9,"path",13)(10,"polyline",14)(11,"line",15),e.qZA(),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(14,"div",16),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()(),e.TgZ(17,"div",17),e._uU(18),e.ALo(19,"mytranslate"),e.qZA()()(),e.TgZ(20,"div",18)(21,"div",19)(22,"label",20),e._uU(23),e.ALo(24,"mytranslate"),e.qZA(),e._UZ(25,"input",21),e.ALo(26,"mytranslate"),e.YNc(27,Mo,3,3,"div",22),e.qZA(),e.TgZ(28,"div",19)(29,"label",23),e._uU(30),e.ALo(31,"mytranslate"),e.qZA(),e.TgZ(32,"mat-form-field",24)(33,"input",25),e.NdJ("click",function(){e.CHM(t);const l=e.MAs(48);return e.KtG(l.open())}),e.ALo(34,"mytranslate"),e.qZA(),e.TgZ(35,"button",26),e.NdJ("click",function(l){return e.CHM(t),e.MAs(48).open(),e.KtG(l.stopPropagation())}),e.O4$(),e.TgZ(36,"svg",27),e._UZ(37,"rect",28)(38,"line",29)(39,"line",30)(40,"line",31)(41,"path",32)(42,"path",33)(43,"path",34)(44,"path",35)(45,"path",36)(46,"path",37),e.qZA()(),e.kcU(),e.TgZ(47,"ngx-mat-datetime-picker",38,39)(49,"ngx-mat-datepicker-actions")(50,"button",40),e._uU(51,"OK"),e.qZA()()()(),e.YNc(52,qo,3,3,"div",22),e.qZA(),e.TgZ(53,"div",19)(54,"label",41),e._uU(55),e.ALo(56,"mytranslate"),e.qZA(),e.YNc(57,oi,1,0,"input",42),e.YNc(58,kn,2,3,"input",43),e.YNc(59,Fr,2,1,"div",44),e.YNc(60,ai,3,3,"a",45),e.qZA(),e.TgZ(61,"div",19)(62,"label",41),e._uU(63),e.ALo(64,"mytranslate"),e.qZA(),e.YNc(65,Qr,1,0,"input",46),e.YNc(66,zr,2,3,"input",47),e.YNc(67,jo,2,1,"div",44),e.YNc(68,Br,3,3,"a",48),e.qZA(),e.TgZ(69,"div",19)(70,"label",41),e._uU(71),e.ALo(72,"mytranslate"),e.qZA(),e.TgZ(73,"div",49)(74,"div",50),e._UZ(75,"input",51),e.TgZ(76,"label",52),e._uU(77),e.ALo(78,"mytranslate"),e.qZA()(),e.TgZ(79,"div",50),e._UZ(80,"input",53),e.TgZ(81,"label",54),e._uU(82),e.ALo(83,"mytranslate"),e.qZA()()()(),e.TgZ(84,"div",55)(85,"label",56),e._uU(86),e.ALo(87,"mytranslate"),e.qZA(),e.TgZ(88,"div",57),e._UZ(89,"input",58),e.TgZ(90,"button",59),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.openDialogInfoSchool())}),e.O4$(),e.TgZ(91,"svg",12),e._UZ(92,"path",60)(93,"path",61),e.qZA(),e._uU(94),e.ALo(95,"mytranslate"),e.qZA()(),e.YNc(96,Fo,4,3,"div",62),e.qZA(),e.YNc(97,cn,14,8,"ng-container",63),e.qZA(),e.kcU(),e.TgZ(98,"div",64)(99,"button",65),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.parseInfoFieldForStudentObjsInExportExcel())}),e.YNc(100,Qo,2,0,"span",66),e._uU(101),e.ALo(102,"mytranslate"),e.qZA()()()}if(2&n){const t=e.MAs(48),o=e.oxw();e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("linkAvatar",null==o.userObj?null:o.userObj.avatar)("nameCreateAvatar",null==o.userObj?null:o.userObj.fullName)("size",96),e.xp6(1),e.Q6J("uploadToCdnMenu",o.allUploadToCdnMenuTypes.AVATAR)("fileType",e.VKq(71,si,o.allUploadFileTypes.IMAGE))("limitSize",o.limitSize),e.xp6(8),e.hij(" ",e.lcZ(13,41,"lang_auto_tai_len")," "),e.xp6(3),e.hij(" ",e.lcZ(16,43,"lang_auto_tai_anh_va_kich_thuoc_toi_da_5mb")," "),e.xp6(3),e.Oqu(e.lcZ(19,45,"lang_auto_cap_nhat_anh_dai_dien")),e.xp6(5),e.hij(" ",e.lcZ(24,47,"lang_auto_ho_va_ten")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(26,49,"lang_auto_nhap_ho_va_ten")+"..."),e.xp6(2),e.Q6J("ngIf",o.form.controls.fullName.errors),e.xp6(3),e.Oqu(e.lcZ(31,51,"lang_auto_ngay_sinh")),e.xp6(3),e.s9C("placeholder",e.lcZ(34,53,"lang_auto_ngay_sinh")),e.Q6J("max",o.maxDate)("ngxMatDatetimePicker",t),e.xp6(14),e.Q6J("touchUi",!0)("hideTime",!0),e.xp6(5),e.Q6J("ngIf",o.form.controls.birthday.errors),e.xp6(3),e.hij(" ",e.lcZ(56,55,"lang_auto_email")," "),e.xp6(2),e.Q6J("ngIf",null==o.userObj?null:o.userObj.email),e.xp6(1),e.Q6J("ngIf",!(null!=o.userObj&&o.userObj.email)),e.xp6(1),e.Q6J("ngIf",o.form.controls.email.invalid&&o.form.controls.email.dirty),e.xp6(1),e.Q6J("ngIf",(null==o.userObj?null:o.userObj.email)&&!o.isBusinessDomain),e.xp6(3),e.hij(" ",e.lcZ(64,57,"lang_auto_so_dien_thoai")," "),e.xp6(2),e.Q6J("ngIf",null==o.userObj?null:o.userObj.phone),e.xp6(1),e.Q6J("ngIf",!(null!=o.userObj&&o.userObj.phone)),e.xp6(1),e.Q6J("ngIf",o.form.controls.phone.invalid&&(o.form.controls.phone.dirty||o.form.controls.phone.touched)),e.xp6(1),e.Q6J("ngIf",(null==o.userObj?null:o.userObj.phone)&&!o.isBusinessDomain),e.xp6(3),e.hij(" ",e.lcZ(72,59,"lang_auto_gioi_tinh")," "),e.xp6(6),e.hij(" ",e.lcZ(78,61,"lang_auto_nam")," "),e.xp6(5),e.hij(" ",e.lcZ(83,63,"lang_auto_nu")," "),e.xp6(4),e.Oqu(e.lcZ(87,65,"lang_auto_thong_tin_truong")),e.xp6(3),e.s9C("value",null==o.infoSchool?null:o.infoSchool.name),e.xp6(5),e.hij(" ",e.lcZ(95,67,null!=o.infoSchool&&o.infoSchool.name?"lang_auto_sua":"lang_auto_them")," "),e.xp6(2),e.Q6J("ngIf",!(null!=o.infoSchool&&o.infoSchool.name)),e.xp6(1),e.Q6J("ngIf",o.isTeacherDashboard),e.xp6(2),e.Q6J("disabled",!o.form.valid||!(null!=o.infoSchool&&o.infoSchool.name)||o.isTeacherDashboard&&!o.classroomGradeDesc.length),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(102,69,"lang_auto_cap_nhat")," ")}}let ci=(()=>{class n extends Y.Q{openSelectGradeSubjectDialog(){this.sAztDialogService.open(He,{width:"700px",data:{classroomGradePathValue:this.classroomGradePathValue,valueSurvey:this.multiChooseLevelSubjectService.valueSurvey,dataObjs:this.dataObjs,valueSubjectSurvey:this.multiChooseLevelSubjectService.valueSubjectSurvey},restoreFocus:!1}).afterClosed().subscribe(l=>{l&&l.classroomIds.length&&l.classroomDescs.length?(this.classroomGradePathValue=l.classroomIds,this.classroomGradeDesc=l.classroomDescs,this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)):(this.dataObjs=[],this.checkSurveySubmitted())})}getGradeAndSubjectObj(){this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(t=>{1==t.success?(this.multiChooseLevelSubjectService.processDataSchoolAndLevel(t.data?.schoolLevelSubjectObjs??[]),this.checkSurveySubmitted()):this.errorStatusObj(t.message??"")}))}checkSurveySubmitted(){this.loadingStatus=!0,this.surveyConfigService.apiSurveyConfigGetSurvey3Get().subscribe(t=>{t&&1==t.success?((t.data?.objs??[]).forEach(l=>{let p=this.multiChooseLevelSubjectService.valueSurvey.find(C=>C.value==l.classId);if(p){p.value&&p.desc&&!this.commonService.isExistInArray(this.classroomGradePathValue,p.value)&&(this.classroomGradePathValue.push(p.value),this.classroomGradeDesc.push(p.desc));let C=this.dataObjs.filter(N=>N.class?.value==p?.value);C&&C.length?this.dataObjs.forEach(N=>{N.class?.value==p?.value&&l.subjectId&&N.subjectsIds?.push(l.subjectId)},this.dataObjs):this.dataObjs.push({class:p,subjectsIds:l.subjectId?[l.subjectId]:[]})}}),this.loadingStatus=!1,this.successStatusObj()):(this.loadingStatus=!1,this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0))})}submitAvatar(t){this.waitDestroy(this.userInfoService.apiUserInfoUpdateInfoPost({avatarUrl:t.url??""}).subscribe(l=>{1==l.success?(this.successStatusObj(),this.userObj=this.userService.getUserObj()):this.errorStatusObj("lang_auto_cap_nhat_thong_tin_khong_thanh_cong",!0)}))}openDialogInfoSchool(){this.sAztDialogService.open(ue,{data:{infoSchool:this.infoSchool},restoreFocus:!1}).afterClosed().subscribe(o=>{o&&(this.infoSchool=o)})}checkSchoolInfo(){this.schoolConfigService.apiSchoolConfigGetSchoolInfoGet().subscribe(t=>{this.infoSchool=t.data?.obj})}parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let t=this.getFormValue(),o=this.userObj?.birthday?new Date(this.userObj.birthday):new Date(1990,1,1),l=t.birthday?t.birthday:o.toString(),p={fullName:t.fullName,birthday:this.timeService.formatOnlyDateToPostToServer(l),gender:Number(t.gender)??0,email:t.email,phone:t.phone};this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoUpdateInfoPost(p).subscribe(C=>{1==C.success?(C.data&&(this.saveUserObj.emit(C.data),this.userObj=C.data),this.successStatusObj("lang_auto_cap_nhat_thong_tin_thanh_cong",!0)):this.errorStatusObj(C.message??"",!0)}))}}initData(){let t=this.userObj?.birthday?this.userObj.birthday:"";this.form.patchValue({fullName:null!=this.userObj&&this.userService.isAnonymousName(this.userObj)?"":this.userObj?.fullName??"",email:this.userObj?.email??"",phone:this.userObj?.phone??"",gender:1!=this.userObj?.gender?"0":"1"}),this.form.controls.birthday.setValue(t.toString())}getFormValue(){return this.form.getRawValue()}getErrorType(t,o){return!!this.form.controls?.[t]?.errors?.[o]&&this.form.controls?.[t]?.errors?.[o]}goToConfirm(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var t="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=change_phone";this.commonService.myNavigationWithQueryString("/auth/confirm_account",t)}goToConfirmEmail(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var t="?return_url="+encodeURIComponent(this.returnUrl);this.commonService.myNavigationWithQueryString("/auth/change-email",t)}checkEnableChangeEmailOrPhone(t,o){if("email"==o){if(!t||!t.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/))return!0}else if("phone"==o&&(!t||t.length>15))return!0;return!1}ngOnInit(){this.userObj?.phone&&(this.form.controls.phone.clearValidators(),this.form.controls.phone.updateValueAndValidity()),this.userObj?.email&&(this.form.controls.email.clearValidators(),this.form.controls.email.updateValueAndValidity()),this.initStatusObj(),this.initData(),this.checkSchoolInfo(),this.getGradeAndSubjectObj(),super.ngOnInit()}constructor(t,o,l,p,C,N,W,ie){super(),this.userInfoService=t,this.userService=o,this.timeService=l,this.sAztDialogService=p,this.schoolConfigService=C,this.surveyConfigService=N,this.commonListService=W,this.multiChooseLevelSubjectService=ie,this.isTeacherDashboard=!1,this.saveUserObj=new e.vpe,this.returnUrl="",this.dataObjs=[],this.oldDataObjs=[],this.classroomGradeDesc=[],this.classroomGradePathValue=[],this.loadingStatus=!1,this.maxDate=rt.N.maxDateTimePicker,this.allUploadToCdnMenuTypes=Be.j6,this.allUploadFileTypes=Be.AZ,this.limitSize=5,this.userObj=this.userService.getUserObj(),this.form=new v.cw({fullName:new v.NI({value:"",disabled:this.userObj?.isParentViewOnly??!1},{nonNullable:!0,validators:[v.kI.required,O._.noWhiteSpace]}),gender:new v.NI({value:"",disabled:this.userObj?.isParentViewOnly??!1},{nonNullable:!0}),birthday:new v.NI({value:"",disabled:this.userObj?.isParentViewOnly??!1},{nonNullable:!0,validators:[v.kI.required]}),phone:new v.NI({value:"",disabled:this.userObj?.isParentViewOnly??!1},{nonNullable:!0,validators:[v.kI.pattern("^[0-9]{10}$")]}),email:new v.NI({value:"",disabled:this.userObj?.isParentViewOnly??!1},{nonNullable:!0,validators:[v.kI.email,v.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q.$C),e.Y36(Ne.U),e.Y36(T.D),e.Y36(vt.C),e.Y36(Q.Tt),e.Y36(Q.XG),e.Y36(Ce.o7),e.Y36(Kt.X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["setting-general"]],inputs:{userObj:"userObj",isTeacherDashboard:"isTeacherDashboard"},outputs:{saveUserObj:"saveUserObj"},features:[e._Bn([h.uU,{provide:x.fM,useClass:f.WG,deps:[y.Ad,f.o8]},{provide:x.ab,useFactory:_.fX,deps:[T.D]},{provide:g.o2,useValue:{floatLabel:"never"}}]),e.qOj],decls:4,vars:2,consts:[[1,"intro-x","box","p-5"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoad",""],[3,"currentStatusObj"],[3,"formGroup"],[1,"avatar","flex","items-center"],[1,"w-24","h-24","image-fit"],[3,"linkAvatar","nameCreateAvatar","size"],[3,"uploadToCdnMenu","fileType","limitSize","uploadComplete"],["body","",1,"ml-4","mr-auto"],[1,"font-medium","text-base","cursor-pointer","relative"],["azt-track-service","setting-general-WJ1g4qRLE",1,"btn","btn-sm","btn-outline-primary"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-slate-500","mt-1","text-xs"],["header","",1,"font-medium","text-base","mr-auto"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12","lg:col-span-6"],["for","azt-acs-fullname",1,"form-label","font-medium"],["id","azt-acs-fullname","type","text","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","azt-asc-time-picker",1,"form-label","font-medium"],[1,"azt-time-picker"],["azt-track-service","setting-general-w4tZZvRVV0","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","setting-general-XgJFOjRBEb","matSuffix","",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],[3,"touchUi","hideTime"],["birthDay",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","",1,"form-label","font-medium"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none",3,"placeholder",4,"ngIf"],["class","mt-1 text-xs","style","color: red",4,"ngIf"],["azt-track-service","setting-general--R9dDrlelT","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone",3,"placeholder",4,"ngIf"],["azt-track-service","setting-general-oRDmygYgr2","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],[1,"form-check","w-24","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio","value","1",1,"form-check-input"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender","value","0",1,"form-check-input"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"col-span-12"],[1,"form-label","font-medium"],[1,"text-md","flex","items-center"],["type","text","readonly","",1,"form-control","mr-2",3,"value"],["azt-track-service","setting-general-Bw6GejsJBv",1,"w-24","btn","btn-outline-secondary",3,"click"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["class","mt-2 text-xs","style","color: red",4,"ngIf"],[4,"ngIf"],[1,"text-right","mt-5"],["azt-track-service","setting-general-CDosWd3k63",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],["type","text","formControlName","email","autocapitalize","none","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","email","autocapitalize","none",1,"form-control","mr-2","mb-1",3,"placeholder"],[1,"mt-1","text-xs",2,"color","red"],["azt-track-service","setting-general--R9dDrlelT",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],["type","text","formControlName","phone","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","phone",1,"form-control","mr-2","mb-1",3,"placeholder"],["azt-track-service","setting-general-oRDmygYgr2",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],[1,"mt-2","text-xs",2,"color","red"],[1,"col-span-12","m-0"],["azt-track-service","setting-general-9AkB3QFyq",1,"w-24","btn","btn-outline-secondary",3,"click"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,jr,1,1,"azt-loading-effect",1),e.YNc(2,zo,103,73,"ng-template",null,2,e.W1O),e.qZA()),2&t){const l=e.MAs(3);e.xp6(1),e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",l)}},dependencies:[h.O5,v._Y,v.Fj,v._,v.JJ,v.JL,gn.lW,Ur.Nt,g.KE,g.R9,x.rZ,x.T$,x.c_,x.cL,v.sg,v.u,Ue.l,No.g,fe.M,se.n,Dr,E.JV],encapsulation:2}),n})();function Vr(n,u){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",18),e._UZ(2,"path",19)(3,"circle",20),e.qZA()())}function li(n,u){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",18),e._UZ(2,"path",21)(3,"path",22)(4,"path",23)(5,"line",24),e.qZA()())}function Wr(n,u){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function ui(n,u){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,Wr,3,3,"span",8),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.oldPassword.errors.required)}}function Zn(n,u){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",18),e._UZ(2,"path",19)(3,"circle",20),e.qZA()())}function di(n,u){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",18),e._UZ(2,"path",21)(3,"path",22)(4,"path",23)(5,"line",24),e.qZA()())}function Yr(n,u){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function _i(n,u){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Hr(n,u){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,Yr,3,3,"span",8),e.YNc(2,_i,3,3,"span",8),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.newPassword.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.newPassword.errors.minlength)}}function pi(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.forgotPassword())}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_quen_mat_khau")))}function Gr(n,u){1&n&&(e.TgZ(0,"span",27),e._UZ(1,"azt-loading-ui"),e.qZA())}let hi=(()=>{class n extends Y.Q{parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let t=this.getFormValue(),o={password:t.newPassword,oldPassword:t.oldPassword};this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoUpdateInfoPost(o).subscribe(l=>{1==l.success?this.successStatusObj("lang_auto_cap_nhat_mat_khau_thanh_cong",!0):this.errorStatusObj(l.message??"",!0)}))}}togglePasswordOld(){this.showPasswordOld=!this.showPasswordOld}togglePasswordNew(){this.showPasswordNew=!this.showPasswordNew}forgotPassword(){let t=this.commonService.getMyParam(this.activeRoute,"roleType"),o=this.commonService.getMyParam(this.activeRoute,"modeType");var l="?return_url="+encodeURIComponent(`/auth/account-setting/${t}/${o}`);this.commonService.myNavigationWithQueryString("/auth/confirm_forgot_password",l)}getFormValue(){return this.form.getRawValue()}constructor(t,o){super(),this.userInfoService=t,this.activeRoute=o,this.showPasswordOld=!1,this.showPasswordNew=!1,this.form=new v.cw({oldPassword:new v.NI("",{nonNullable:!0,validators:[v.kI.required]}),newPassword:new v.NI("",{nonNullable:!0,validators:[v.kI.required,v.kI.minLength(6)]})})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q.$C),e.Y36(_e.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["setting-password"]],features:[e.qOj],decls:34,vars:30,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],[1,"relative"],["id","old-password","formControlName","oldPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-QhnsF82RBP","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","new-password",1,"form-label","font-medium"],["id","new-password","formControlName","newPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-J9MRGAmCt1","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-password-WbrhM8Un-_","class","text-primary font-medium inline-block mr-auto",3,"click",4,"ngIf"],["azt-track-service","setting-password-OQV68x0hhw",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500","w-5","h-5"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","mt-2","fade"],["azt-track-service","setting-password-WbrhM8Un-_",1,"text-primary","font-medium","inline-block","mr-auto",3,"click"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"div",5),e._UZ(8,"input",6),e.ALo(9,"mytranslate"),e.TgZ(10,"button",7),e.NdJ("click",function(){return o.togglePasswordOld()}),e.YNc(11,Vr,4,0,"span",8),e.YNc(12,li,6,0,"span",8),e.qZA()(),e.TgZ(13,"div",9),e._uU(14),e.ALo(15,"mytranslate"),e.qZA(),e.YNc(16,ui,2,1,"div",10),e.qZA(),e.TgZ(17,"div",3)(18,"label",11),e._uU(19),e.ALo(20,"mytranslate"),e.qZA(),e.TgZ(21,"div",5),e._UZ(22,"input",12),e.ALo(23,"mytranslate"),e.TgZ(24,"button",13),e.NdJ("click",function(){return o.togglePasswordNew()}),e.YNc(25,Zn,4,0,"span",8),e.YNc(26,di,6,0,"span",8),e.qZA()(),e.YNc(27,Hr,3,2,"div",10),e.qZA()(),e.TgZ(28,"div",14),e.YNc(29,pi,3,3,"a",15),e.TgZ(30,"button",16),e.NdJ("click",function(){return o.parseInfoFieldForStudentObjsInExportExcel()}),e.YNc(31,Gr,2,0,"span",17),e._uU(32),e.ALo(33,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.hij(" ",e.lcZ(6,18,"lang_auto_mat_khau_hien_tai")," "),e.xp6(3),e.s9C("placeholder",e.lcZ(9,20,"lang_auto_nhap_mat_khau")+"..."),e.Q6J("type",o.showPasswordOld?"text":"password"),e.xp6(3),e.Q6J("ngIf",o.showPasswordOld),e.xp6(1),e.Q6J("ngIf",!o.showPasswordOld),e.xp6(2),e.hij(" ",e.lcZ(15,22,"lang_auto_ban_can_nhap_mat_khau_hien_tai_de_co_the_doi_mat_khau_moi")," "),e.xp6(2),e.Q6J("ngIf",o.form.controls.oldPassword.errors&&(o.form.controls.oldPassword.dirty||o.form.controls.oldPassword.touched)),e.xp6(3),e.Oqu(e.lcZ(20,24,"lang_auto_mat_khau_moi")),e.xp6(3),e.s9C("placeholder",e.lcZ(23,26,"lang_auto_nhap_mat_khau")+"..."),e.Q6J("type",o.showPasswordNew?"text":"password"),e.xp6(3),e.Q6J("ngIf",o.showPasswordNew),e.xp6(1),e.Q6J("ngIf",!o.showPasswordNew),e.xp6(1),e.Q6J("ngIf",o.form.controls.newPassword.errors&&(o.form.controls.newPassword.dirty||o.form.controls.newPassword.touched)),e.xp6(2),e.Q6J("ngIf",!o.isBusinessDomain),e.xp6(1),e.Q6J("disabled",o.form.invalid),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(33,28,"lang_auto_cap_nhat")," "))},dependencies:[h.O5,v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,fe.M,se.n,E.JV],encapsulation:2}),n})();var yt=b(70956);function mi(n,u){1&n&&(e.TgZ(0,"span",6),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auth_remove_teacher_role")))}function Kr(n,u){if(1&n&&(e.TgZ(0,"span",6),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role")," ")}}function gi(n,u){if(1&n&&(e.TgZ(0,"span",6),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role_in_teacher_mobile_app")," ")}}function $r(n,u){1&n&&(e.TgZ(0,"span",7),e._UZ(1,"azt-loading-ui"),e.qZA())}let fi=(()=>{class n extends Y.Q{becomeTeacher(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(t=>{1==t.success?this.redirectByRoleService.redirectLoginByRole(""):this.errorStatusObj(t.message??"",!0)}))}becomeStudent(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoRemoveTeacherRoleGet().subscribe(t=>{1==t.success?this.redirectByRoleService.redirectLoginByRole(this.commonService.getLocalRouter("/student/classroom/0")):this.errorStatusObj(t.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(t,o){super(),this.redirectByRoleService=t,this.userInfoService=o,this.isTeacherDashboard=!1,this.hasTeacherRole=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(yt.C),e.Y36(Q.$C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["setting-role"]],inputs:{isTeacherDashboard:"isTeacherDashboard",hasTeacherRole:"hasTeacherRole"},features:[e.qOj],decls:10,vars:7,consts:[[1,"intro-x","box","p-5"],[1,"flex","items-center"],[1,"font-medium","inline-block","mr-auto"],["class","h5",4,"ngIf"],["azt-track-service","setting-role-INiaGXvvjK",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"h5"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,mi,3,3,"span",3),e.YNc(4,Kr,3,3,"span",3),e.YNc(5,gi,3,3,"span",3),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return o.isTeacherDashboard?o.becomeStudent():o.becomeTeacher()}),e.YNc(7,$r,2,0,"span",5),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",o.isTeacherDashboard),e.xp6(1),e.Q6J("ngIf",!o.isTeacherDashboard&&!o.isMobileWebView),e.xp6(1),e.Q6J("ngIf",!o.isTeacherDashboard&&o.isMobileWebView),e.xp6(2),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(9,5,"lang_auth_confirm_change_role")," "))},dependencies:[h.O5,se.n,E.JV],encapsulation:2}),n})();var fn=b(7444);function jt(n,u){if(1&n&&(e.TgZ(0,"option",10),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=u.$implicit,o=e.oxw();e.Q6J("value",t)("selected",t==o.form.controls.dateFormat.value),e.xp6(1),e.AsE(" ",t," - ",e.lcZ(2,4,"lang_auth_user_setting_unit_"+t)," ")}}function vi(n,u){1&n&&(e.TgZ(0,"span",11),e._UZ(1,"azt-loading-ui"),e.qZA())}let Xr=(()=>{class n extends Y.Q{saveUnitObj(){this.initStatusObj(),this.waitDestroy(this.userUnitService.apiUserUnitSaveObjPost({dateFormat:this.form.value.dateFormat??""}).subscribe(o=>{1==o.success?this.configService.reloadConfig().subscribe(()=>{this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)}):this.errorStatusObj(o.message??"",!0)}))}constructor(t,o,l){super(),this.timeService=t,this.userUnitService=o,this.configService=l,this.form=new v.cw({dateFormat:new v.NI("",[v.kI.required])}),this.formatDataObjs=this.timeService.getListDateFormat()}ngOnInit(){var t=this.configService.getConfig("dateFormat");this.form.controls.dateFormat.setValue(t??null)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.D),e.Y36(Q.Fq),e.Y36(fn.V))},n.\u0275cmp=e.Xpm({type:n,selectors:[["setting-unit"]],features:[e.qOj],decls:14,vars:9,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],["formControlName","dateFormat",1,"form-select","form-select-sm"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-unit-Lylf09F1N",1,"btn","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"value","selected"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"select",5),e.YNc(8,jt,3,6,"option",6),e.qZA()()(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return o.saveUnitObj()}),e.YNc(11,vi,2,0,"span",9),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.hij(" ",e.lcZ(6,5,"lang_auth_user_setting_unit_format_date")," "),e.xp6(3),e.Q6J("ngForOf",o.formatDataObjs),e.xp6(3),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(13,7,"lang_auth_user_setting_unit_confirm_save")," "))},dependencies:[h.sg,h.O5,v._Y,v.YN,v.Kr,v.EJ,v.JJ,v.JL,v.sg,v.u,fe.M,se.n,E.JV],encapsulation:2}),n})();var Zt=b(20628),On=b(23655),Jt=b(88489),ea=b(36453),$t=b(54384);function ta(n,u){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"azt-loading-effect",4),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("currentStatusObj",t.statusObj)}}const yi=function(n){return[n]},na=function(){return{backTo:"/auth/account-setting/0/3?tab=0"}};function ia(n,u){if(1&n&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"p",14),e._uU(5),e.ALo(6,"mytranslate"),e.TgZ(7,"a",15),e.ALo(8,"navigationLocalize"),e.TgZ(9,"b"),e._uU(10),e.qZA()()(),e.TgZ(11,"div",16)(12,"p",17),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"div",18),e._UZ(16,"azt-create-avatar",19),e.TgZ(17,"div",20)(18,"div",21),e._uU(19),e.qZA()()()(),e.TgZ(20,"p",22),e._uU(21),e.ALo(22,"mytranslate"),e.TgZ(23,"b"),e._uU(24),e.ALo(25,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()()(),e.TgZ(26,"div",23)(27,"b",24),e._uU(28),e.ALo(29,"number"),e.qZA()()()()()),2&n){const t=u.$implicit;let o;e.xp6(5),e.hij(" ",e.lcZ(6,13,"lang_auto_de_thi"),": "),e.xp6(2),e.Q6J("routerLink",e.VKq(25,yi,e.lcZ(8,15,"/admin/testbank/exam-results-list/"+(null!==(o=t.examCategoryId)&&void 0!==o?o:0)+"/"+t.examId+"/0")))("queryParams",e.DdM(27,na)),e.xp6(3),e.Oqu(t.examName),e.xp6(3),e.hij("",e.lcZ(14,17,"lang_history_sold_exam_relative_user"),":"),e.xp6(3),e.Q6J("nameCreateAvatar",t.relativeName)("size",32)("showTooltip",!1)("linkAvatar",t.relativeAvatar),e.xp6(3),e.hij(" ",t.relativeName," "),e.xp6(2),e.hij(" ",e.lcZ(22,19,"lang_history_sold_exam_create_at"),": "),e.xp6(3),e.Oqu(e.lcZ(25,21,t.createdAt)),e.xp6(4),e.hij("",e.lcZ(29,23,t.money),"\u0111")}}function bi(n,u){if(1&n&&(e.TgZ(0,"drag-scroll",8),e.YNc(1,ia,30,28,"div",9),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.examHistorySoldObjs)}}function Xt(n,u){1&n&&(e.TgZ(0,"div",25),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_withdraw_not_have_history_sold_exam")," "))}function oa(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"button",27),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.getExamSoldHistory())}),e.TgZ(2,"span",28),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"span",29),e._UZ(6,"lucide-icon",30),e.qZA()()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_auto_xem_them")," "))}function ra(n,u){if(1&n&&(e.TgZ(0,"div",3),e.YNc(1,bi,2,1,"drag-scroll",5),e.YNc(2,Xt,3,3,"div",6),e.qZA(),e.YNc(3,oa,7,3,"div",7)),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",0!=t.examHistorySoldObjs.length),e.xp6(1),e.Q6J("ngIf",0==t.examHistorySoldObjs.length),e.xp6(1),e.Q6J("ngIf",t.nextPage)}}let vn=(()=>{class n extends Y.Q{getExamSoldHistory(){this.initStatusObj(),this.waitDestroy(this.examPaymentHistoryService.apiExamPaymentHistoryGetObjsGet(this.nextPage).subscribe(t=>{t.success?(this.examHistorySoldObjs=t.data?.objs??[],this.nextPage=t.data?.nextPage??void 0,this.totalSoldExam=t.data?.total??0,this.successStatusObj()):this.errorStatusObj(t.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,ft.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getExamSoldHistory()}))}constructor(t,o){super(),this.activeRoute=t,this.examPaymentHistoryService=o,this.nextPage="",this.examHistorySoldObjs=[],this.totalSoldExam=0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_e.gz),e.Y36($t.g6))},n.\u0275cmp=e.Xpm({type:n,selectors:[["view-exam-sold-history"]],features:[e.qOj],decls:4,vars:2,consts:[[1,"grid","grid-cols-12","gap-6","mt-2"],["class","intro-y col-span-12",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-y","col-span-12"],[3,"currentStatusObj"],["style","height: 100%",4,"ngIf"],["class","intro-x","style","margin: 12px 0; text-align: center",4,"ngIf"],["class","col-span-12 flex flex-wrap sm:flex-row sm:flex-nowrap items-center",4,"ngIf"],[2,"height","100%"],["class","pb-2",4,"ngFor","ngForOf"],[1,"pb-2"],[1,"box","p-2"],[1,"flex","items-center"],[1,"ml-2","mr-auto","w-2/3"],[1,"mt-2",2,"white-space","normal"],[3,"routerLink","queryParams"],[1,"mt-2","flex"],[1,"flex",2,"align-items","center"],[1,"dropdown-toggle","w-full","h-10","rounded-full","flex","trigger-menu","ml-2",2,"align-items","center"],[3,"nameCreateAvatar","size","showTooltip","linkAvatar"],[1,"px-2"],[1,"font-medium"],[1,"mt-2"],[1,"font-medium","md:flex","text-xs"],[1,"p-2","bg-success","text-white",2,"border-radius","10px"],[1,"intro-x",2,"margin","12px 0","text-align","center"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"btn","btn-outline-secondary","btn-transparent","mt-2","mx-auto",3,"click"],[1,"mr-2"],[1,"w-4","h-4"],["name","chevron-down"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,ta,2,1,"div",1),e.YNc(2,ra,4,3,"ng-template",null,2,e.W1O),e.qZA()),2&t){const l=e.MAs(3);e.xp6(1),e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",l)}},dependencies:[_e.rH,h.sg,h.O5,Ue.l,No.g,Ae.Nh5,De.HU,h.JJ,E.Jy,E.JV,E.$n],encapsulation:2}),n})();var sc=b(8720),xi=b(89745),Ot=b(6050),ln=b(41894),en=b(90159),Bo=b(71518),un=b(30617),yn=b(98445);const aa=function(n){return{"mt-2 sm:mt-0":n}};function dn(n,u){if(1&n&&(e.TgZ(0,"div",27),e._UZ(1,"input",28),e.TgZ(2,"label",29),e._uU(3),e.qZA()()),2&n){const t=u.$implicit,o=u.index,l=e.oxw();let p;e.Q6J("ngClass",e.VKq(5,aa,0!==o)),e.xp6(1),e.s9C("id","tag_"+t.id),e.s9C("value",t.id),e.xp6(1),e.s9C("for","tag_"+t.id),e.xp6(1),e.hij(" ",null!==(p=t[l.commonService.getCurrentLang()+"Name"])&&void 0!==p?p:t.enName," ")}}function sa(n,u){if(1&n&&(e.TgZ(0,"option",30),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=u.$implicit,o=e.oxw();e.Q6J("value",null==t.schoolLevel?null:t.schoolLevel.id)("selected",(null==t.schoolLevel?null:t.schoolLevel.id)==o.form.controls.schoolLevel.value),e.xp6(1),e.hij(" ",e.lcZ(2,3,null==t.schoolLevel?null:t.schoolLevel.key)," ")}}function En(n,u){if(1&n&&(e.TgZ(0,"option",30),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=u.$implicit,o=e.oxw();e.Q6J("value",t.id)("selected",t.id==o.form.controls.schoolSubject.value),e.xp6(1),e.hij(" ",e.lcZ(2,3,t.key)," ")}}function ca(n,u){1&n&&(e.ynx(0),e.TgZ(1,"div",34)(2,"span",35),e._UZ(3,"azt-loading-ui"),e.qZA()(),e.BQk())}const Ai=function(n){return{"azt-text-primary azt-font-bold":n}};function wi(n,u){if(1&n&&(e.TgZ(0,"span",46)(1,"span",47),e._UZ(2,"lucide-icon",48),e.qZA()()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(4);e.xp6(1),e.Q6J("ngClass",e.VKq(1,Ai,o.form.controls.classifyMaterials.value==t.id))}}function bt(n,u){if(1&n){const t=e.EpF();e.ynx(0),e.YNc(1,wi,3,3,"span",44),e.TgZ(2,"span",45),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit,p=e.oxw(4);return e.KtG(p.onPressNode(l))}),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.isLeaf),e.xp6(2),e.hij(" ",e.lcZ(4,2,t.item)," ")}}function Jo(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"span",49),e.O4$(),e.TgZ(1,"svg",50),e._UZ(2,"path",51),e.qZA()(),e.kcU(),e.TgZ(3,"string",52),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit,p=e.oxw(4);return e.KtG(p.onPressNode(l))}),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",e.lcZ(5,1,t.item)," ")}}const Vo=function(n){return{"azt-text-primary":n}};function Ci(n,u){if(1&n&&(e.TgZ(0,"mat-tree-node",41),e._UZ(1,"button",42),e.YNc(2,bt,5,4,"ng-container",32),e.YNc(3,Jo,6,3,"ng-template",null,43,e.W1O),e.qZA()),2&n){const t=u.$implicit,o=e.MAs(4),l=e.oxw(4);e.Q6J("ngClass",e.VKq(3,Vo,l.form.controls.classifyMaterials.value==t.id)),e.xp6(2),e.Q6J("ngIf",t.isLeaf)("ngIfElse",o)}}function Ln(n,u){if(1&n&&(e.TgZ(0,"button",56)(1,"mat-icon",57),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit,o=e.oxw(4);e.uIk("aria-label","Toggle "+t.item),e.xp6(2),e.hij(" ",o.treeControl.isExpanded(t)?"expand_more":"chevron_right"," ")}}function Wo(n,u){if(1&n&&(e.TgZ(0,"span",46)(1,"span",47),e._UZ(2,"lucide-icon",48),e.qZA()()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(4);e.xp6(1),e.Q6J("ngClass",e.VKq(1,Vo,o.form.controls.classifyMaterials.value==t.id))}}function Yo(n,u){if(1&n){const t=e.EpF();e.ynx(0),e.YNc(1,Wo,3,3,"span",44),e.TgZ(2,"span",58),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit,p=e.oxw(4);return e.KtG(p.onPressNode(l))}),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.isLeaf),e.xp6(2),e.hij(" ",e.lcZ(4,2,t.item)," ")}}function la(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"span",49),e.O4$(),e.TgZ(1,"svg",50),e._UZ(2,"path",51),e.qZA()(),e.kcU(),e.TgZ(3,"span",59),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit,p=e.oxw(4);return e.KtG(p.onPressNode(l))}),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",e.lcZ(5,1,t.item)," ")}}function Ti(n,u){1&n&&(e.TgZ(0,"span",60),e._UZ(1,"azt-loading-ui"),e.qZA())}function Ii(n,u){if(1&n&&(e.TgZ(0,"mat-tree-node",41),e.YNc(1,Ln,3,2,"button",53),e.YNc(2,Yo,5,4,"ng-container",32),e.YNc(3,la,6,3,"ng-template",null,54,e.W1O),e.YNc(5,Ti,2,0,"span",55),e.qZA()),2&n){const t=u.$implicit,o=e.MAs(4),l=e.oxw(4);e.Q6J("ngClass",e.VKq(5,Ai,l.form.controls.classifyMaterials.value==t.id)),e.xp6(1),e.Q6J("ngIf",!t.isLeaf),e.xp6(1),e.Q6J("ngIf",t.isLeaf)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",t.isLoading)}}function Si(n,u){if(1&n&&(e.ynx(0),e.TgZ(1,"mat-tree",38),e.YNc(2,Ci,5,5,"mat-tree-node",39),e.YNc(3,Ii,6,7,"mat-tree-node",40),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("dataSource",t.dataSource)("treeControl",t.treeControl),e.xp6(2),e.Q6J("matTreeNodeDefWhen",t.hasChild)}}function Pn(n,u){1&n&&(e.TgZ(0,"div",34)(1,"div",61),e.O4$(),e.TgZ(2,"svg",62),e._UZ(3,"path",63)(4,"path",64)(5,"path",65)(6,"path",66),e.qZA(),e.kcU(),e.TgZ(7,"p",67),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()),2&n&&(e.xp6(8),e.hij(" ",e.lcZ(9,1,"lang_auto_chua_co_don_vi_kien_thuc_mon_hoc")," "))}function ki(n,u){if(1&n&&(e.TgZ(0,"ng-scrollbar",36),e.YNc(1,Si,4,3,"ng-container",32),e.YNc(2,Pn,10,3,"ng-template",null,37,e.W1O),e.qZA()),2&n){const t=e.MAs(3),o=e.oxw(2);e.Q6J("visibility","hover"),e.xp6(1),e.Q6J("ngIf",o.dataSource.data.length)("ngIfElse",t)}}function Ho(n,u){if(1&n&&(e.TgZ(0,"div",12)(1,"div",31),e.YNc(2,ca,4,0,"ng-container",32),e.YNc(3,ki,4,3,"ng-template",null,33,e.W1O),e.qZA()()),2&n){const t=e.MAs(4),o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.loadingUnitSubject)("ngIfElse",t)}}function Zi(n,u){1&n&&(e.TgZ(0,"span",68),e._UZ(1,"azt-loading-ui"),e.qZA())}let Go=(()=>{class n extends X.e{handleCloseDialog(){this.dialogRef.close()}initData(t){let o=this.form.controls.schoolLevel.value,l=this.form.controls.schoolSubject.value;this.dataSource=new en.LT(this.treeControl,this.database),this.data.configShareQuestionLog.shareNodeLog&&!t?this.dataSource.data=this.data.configShareQuestionLog.shareNodeLog:(this.loadingUnitSubject=!0,this.dataSource._database.initialData(o,l).then(p=>{if(this.dataSource.data=p,this.data.questionShared?.knowledgeParentIds&&this.data.questionShared?.knowledgeParentIds.length>0){let C=this.data.questionShared?.knowledgeParentIds;for(let N=0;N<C.length;N++)(W=>{setTimeout(()=>{let ie=this.dataSource.getNode(C[N]);ie&&this.treeControl.expand(ie)},500*N)})()}this.loadingUnitSubject=!1}))}onPressNode(t){if(t){if(t.isLeaf){let o=this.commonService.myClone(t);for(this.breadcrumbs=[o];o.prNode;)if(this.breadcrumbs.unshift(o.prNode),o=o.prNode,this.breadcrumbs.length>4){this.breadcrumbs[0].item="...";break}this.chooseLeafFolder(t)}}else this.breadcrumbs=[]}chooseLeafFolder(t){t.isLeaf?this.form.controls.classifyMaterials.setValue(t.id):this.showErrorSnack("lang_auto_vui_long_chon_phan_loai_don_vi_kien_thuc_be_nhat")}confirmAction(){this.initStatusObj();let t={questionId:this.data.questionShared?.questionId??0,questionTagId:Number(this.form.controls.awarenessLevel.value),knowledgeId:this.form.controls.classifyMaterials.value},o={awarenessLevel:this.form.controls.awarenessLevel.value,schoolLevel:this.form.controls.schoolLevel.value,schoolSubject:this.form.controls.schoolSubject.value,classifyMaterials:this.form.controls.classifyMaterials.value,questionId:this.data.questionShared?.questionId,shareNodeLog:this.dataSource.data};this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsQuestionIdPut(t.questionId??0,t).subscribe(l=>{l.success?1==l.data?.status&&(this.dialogRef.close(o),this.successStatusObj("lang_auto_edit_chia_se_cau_hoi_thanh_cong",!0)):this.errorStatusObj(l.message??"",!0)}))}patchValueForm(){let t=12,o=40,l=1,p=0;this.data.configShareQuestionLog.classifyMaterials?(l=this.data.configShareQuestionLog.awarenessLevel??1,t=this.data.configShareQuestionLog.schoolLevel??12,o=this.data.configShareQuestionLog.schoolSubject??40,p=this.data.configShareQuestionLog.classifyMaterials??0):this.data.questionShared&&(t=this.data.questionShared.levelId??12,o=this.data.questionShared.subjectId??40),this.data.questionShared&&this.data.questionShared.question?.tags?.length&&(l=this.data.questionShared.question?.tags?.[0]?.id??1),this.filterSchoolSubject(t),this.form.controls.awarenessLevel.setValue(l),this.form.controls.schoolLevel.setValue(t),this.form.controls.schoolSubject.setValue(o),this.form.controls.classifyMaterials.setValue(p),this.initData()}filterSchoolSubject(t){if(this.form.controls.classifyMaterials.setValue(0),0==this.subjectSelectedList.length)this.filterSubject(t??1);else{let o=!1;for(let l=0;l<this.subjectSelectedList.length;l++)t&&(t<(this.subjectSelectedList[l].from??0)||t>(this.subjectSelectedList[l].to??0))&&(o=!0);o&&(this.filterSubject(t??1),this.form?.controls.schoolSubject.setValue(0)),this.initData("change")}}filterSubject(t){this.subjectSelectedList=this.data.schoolLevelAndSubjectObjs.find(o=>o.schoolLevel?.id==t)?.schoolSubjectObjs??[]}ngOnInit(){super.ngOnInit(),this.patchValueForm()}constructor(t,o,l,p,C){super(C,p),this.documentConfigService=t,this.database=o,this.testMarketQuestionService=l,this.dialogRef=p,this.data=C,this.subjectSelectedList=[],this.breadcrumbs=[],this.exitsTables=[],this.filterContent="",this.loadingUnitSubject=!1,this.getLevel=N=>N.level,this.isExpandable=N=>N.expandable,this.hasChild=(N,W)=>W.expandable,this.treeControl=new ln.C2(this.getLevel,this.isExpandable),this.dataSource=new en.LT(this.treeControl,o),this.form=new v.cw({awarenessLevel:new v.NI(1,{nonNullable:!0}),schoolLevel:new v.NI(0,{nonNullable:!0}),schoolSubject:new v.NI(0,{nonNullable:!0}),classifyMaterials:new v.NI(0,{nonNullable:!0})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Bo.Cq),e.Y36(en.H7),e.Y36(On.Q_),e.Y36(D.so,8),e.Y36(D.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-share-question"]],features:[e.qOj],decls:53,vars:37,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"px-4","py-4"],[1,"font-medium","text-lg"],[1,"py-4","px-4"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"mt-0"],[1,"font-medium"],[1,"flex","flex-col","sm:flex-row","mt-2"],["class","form-check mr-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"mt-2"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-6"],[1,"flex","items-center"],["for","",1,"mr-2","flex-none",2,"width","55px"],["formControlName","schoolLevel",1,"form-select","form-select-sm",3,"change"],["value","0","disabled","",3,"selected"],[3,"value","selected",4,"ngFor","ngForOf"],["formControlName","schoolSubject",1,"form-select","form-select-sm",3,"change"],["class","mt-4",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","edit-question-shared-6b-HYS47Pvo",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","edit-question-shared-YPdl2XZ9cH1",1,"btn","btn-primary","mw-24",3,"disabled","click"],["class","w-4 h-4 mr-2",4,"ngIf"],[1,"form-check","mr-5",3,"ngClass"],["type","radio","formControlName","awarenessLevel",1,"form-check-input",3,"id","value"],[1,"form-check-label",3,"for"],[3,"value","selected"],[1,"col-tree-main","height-custom-tree",2,"margin","-15px","overflow","auto"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"flex","items-center","h-full","w-full"],[1,"w-8","h-8","mx-auto"],["track","all","pointerEventsMethod","scrollbar",3,"visibility"],["noDataSource",""],[2,"padding","10px","min-width","700px",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",3,"ngClass"],["mat-icon-button","","disabled",""],["notIsLeaf",""],["class","cursor-pointer",4,"ngIf"],["azt-track-service","edit-question-shared-2UuaeYUsqGC",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"cursor-pointer"],[1,"w-6","h-6","mr-2","text-slate-600","dark:text-slate-500","flex-none","inline-block",3,"ngClass"],["name","file-text"],["matTreeNodeToggle","",1,"cursor-pointer"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"w-6","h-6","mr-2","text-slate-600","dark:text-slate-500"],["d","M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"],["azt-track-service","edit-question-shared-D4IS6G7qQxl","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["mat-icon-button","","matTreeNodeToggle","",4,"ngIf"],["notIsLeafChild",""],["class","w-4 h-4 inline-block ml-4",4,"ngIf"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["azt-track-service","edit-question-shared-M8Ia6-8Gi2_",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["azt-track-service","edit-question-shared-mpNkVI5E2ao","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"w-4","h-4","inline-block","ml-4"],[1,"text-center","mx-auto"],["width","84","height","84","viewBox","0 0 84 84","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M38.5 70H14C12.1435 70 10.363 69.2625 9.05025 67.9497C7.7375 66.637 7 64.8565 7 63V17.5C7 13.65 10.15 10.5 14 10.5H27.755C28.9079 10.506 30.0416 10.7966 31.0552 11.3462C32.0687 11.8957 32.9309 12.6871 33.565 13.65L36.435 17.85C37.0691 18.8129 37.9313 19.6043 38.9448 20.1538C39.9584 20.7034 41.092 20.994 42.245 21H70C71.8565 21 73.637 21.7375 74.9497 23.0503C76.2625 24.363 77 26.1435 77 28V42","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M59.5 70C65.299 70 70 65.299 70 59.5C70 53.701 65.299 49 59.5 49C53.701 49 49 53.701 49 59.5C49 65.299 53.701 70 59.5 70Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M73.5 73.5L68.25 68.25","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M16 26V44.3184M16 50V54.7432V50Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-2"],[1,"w-4","h-4","mr-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()(),e.TgZ(6,"div",1)(7,"div",4)(8,"form",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"div",10),e.YNc(16,dn,4,7,"div",11),e.qZA()(),e.TgZ(17,"div",12)(18,"label",9),e._uU(19),e.ALo(20,"mytranslate"),e.qZA(),e.TgZ(21,"div",13)(22,"div",14)(23,"div",15)(24,"div",16)(25,"label",17),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"select",18),e.NdJ("change",function(){return o.filterSchoolSubject(o.form.controls.schoolLevel.value)}),e.TgZ(29,"option",19),e._uU(30),e.ALo(31,"mytranslate"),e.qZA(),e.YNc(32,sa,3,5,"option",20),e.qZA()()(),e.TgZ(33,"div",15)(34,"div",16)(35,"label",17),e._uU(36),e.ALo(37,"mytranslate"),e.qZA(),e.TgZ(38,"select",21),e.NdJ("change",function(){return o.initData("change")}),e.TgZ(39,"option",19),e._uU(40),e.ALo(41,"mytranslate"),e.qZA(),e.YNc(42,En,3,5,"option",20),e.qZA()()()()()()(),e.TgZ(43,"div",7),e.YNc(44,Ho,5,2,"div",22),e.qZA()()()()(),e.TgZ(45,"div",23)(46,"button",24),e.NdJ("click",function(){return o.handleCloseDialog()}),e._uU(47),e.ALo(48,"mytranslate"),e.qZA(),e.TgZ(49,"button",25),e.NdJ("click",function(){return o.confirmAction()}),e.YNc(50,Zi,2,0,"span",26),e._uU(51),e.ALo(52,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,19,"lang_test_market_edit_shared_question")," "),e.xp6(4),e.Q6J("formGroup",o.form),e.xp6(5),e.hij(" ",e.lcZ(14,21,"lang_auto_muc_do_nhan_biet")," "),e.xp6(3),e.Q6J("ngForOf",o.data.questionTags),e.xp6(3),e.hij(" ",e.lcZ(20,23,"lang_auto_don_vi_kien_thuc")," "),e.xp6(7),e.hij(" ",e.lcZ(27,25,"lang_auto_lop_hoc")," "),e.xp6(3),e.Q6J("selected",0==o.form.controls.schoolLevel.value),e.xp6(1),e.hij("",e.lcZ(31,27,"lang_auto_---chon_khoi"),"---"),e.xp6(2),e.Q6J("ngForOf",o.data.schoolLevelAndSubjectObjs),e.xp6(4),e.hij(" ",e.lcZ(37,29,"lang_auto_mon_hoc")," "),e.xp6(2),e.uIk("disabled",0==o.form.controls.schoolLevel.value?"":null),e.xp6(1),e.Q6J("selected",0==o.form.controls.schoolSubject.value),e.xp6(1),e.hij("",e.lcZ(41,31,"lang_auto_---chon_mon"),"---"),e.xp6(2),e.Q6J("ngForOf",o.subjectSelectedList),e.xp6(2),e.Q6J("ngIf",0!=o.form.controls.schoolSubject.value),e.xp6(3),e.hij(" ",e.lcZ(48,33,"lang_auto_dong")," "),e.xp6(2),e.Q6J("disabled",o.statusObj.loading||!o.form.controls.classifyMaterials.value),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(52,35,"lang_auto_sua")," "))},dependencies:[h.mk,h.sg,h.O5,v._Y,v.YN,v.Kr,v.Fj,v.EJ,v._,v.JJ,v.JL,gn.RK,un.Hw,yn.fQ,yn.ah,yn.eu,yn.gi,yn.uo,v.sg,v.u,fe.M,se.n,Mt.KC,Ae.Nh5,E.JV],encapsulation:2}),n})();var Oi=b(87469),Nn=b(19662),Rn=b(83306),Ko=b(44345);function Ei(n,u){if(1&n&&(e.TgZ(0,"div",3),e._UZ(1,"azt-loading-effect",4),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("currentStatusObj",t.statusObj)}}function $o(n,u){1&n&&(e.TgZ(0,"span",30),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_new")," "))}function Li(n,u){1&n&&(e.TgZ(0,"span",31),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_approved")," "))}function ua(n,u){if(1&n&&(e.TgZ(0,"span",32),e._uU(1),e.ALo(2,"mytranslate"),e.ALo(3,"mytranslate"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE("",e.lcZ(2,2,"lang_auto_status_rejected"),"",t.rejectedReason?e.lcZ(3,4," - "+t.rejectedReason):"","")}}function Pi(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"a",33),e.NdJ("click",function(){e.CHM(t);const l=e.oxw().$implicit,p=e.oxw(3);return e.KtG(p.editQuestionShared(l))}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_sua")," "))}const da=function(n){return{"selected-border-box":n}};function Ni(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.NdJ("click",function(){const p=e.CHM(t).index,C=e.oxw(3);return e.KtG(C.selected=p)}),e.TgZ(1,"div",14)(2,"div",15)(3,"p",16),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"div",17),e._UZ(7,"azt-dynamic-hook",18),e.qZA()(),e.TgZ(8,"div",19)(9,"div",20)(10,"p",21),e._uU(11),e.ALo(12,"mytranslate"),e.YNc(13,$o,3,3,"span",22),e.YNc(14,Li,3,3,"span",23),e.YNc(15,ua,4,6,"span",24),e.qZA(),e.TgZ(16,"p",21),e._uU(17),e.ALo(18,"mytranslate"),e.TgZ(19,"b"),e._uU(20),e.ALo(21,"mytranslate"),e.qZA()(),e.TgZ(22,"p",21),e._uU(23),e.ALo(24,"mytranslate"),e.TgZ(25,"b"),e._uU(26),e.ALo(27,"mytranslate"),e.qZA()(),e.TgZ(28,"p",25),e._uU(29),e.ALo(30,"mytranslate"),e.ALo(31,"mytranslate"),e.qZA()(),e.TgZ(32,"div",26)(33,"div",27)(34,"a",28),e.NdJ("click",function(){const p=e.CHM(t).$implicit,C=e.oxw(3);return e.KtG(C.viewQuestionDetail(p))}),e._uU(35),e.ALo(36,"mytranslate"),e.qZA(),e.YNc(37,Pi,3,3,"a",29),e.qZA()()()()()}if(2&n){const t=u.$implicit,o=u.index,l=e.oxw(3);let p;e.Q6J("ngClass",e.VKq(33,da,o==l.selected)),e.xp6(4),e.hij("",e.lcZ(5,15,"lang_auto_cau_hoi"),":"),e.xp6(3),e.Q6J("content",null!==(p=null==t.question?null:t.question.content)&&void 0!==p?p:""),e.xp6(4),e.hij(" ",e.lcZ(12,17,"lang_auto_trang_thai"),": "),e.xp6(2),e.Q6J("ngIf","new"==t.status),e.xp6(1),e.Q6J("ngIf","approved"==t.status),e.xp6(1),e.Q6J("ngIf","rejected"==t.status),e.xp6(2),e.hij(" ",e.lcZ(18,19,"lang_auto_muc_do_nhan_biet"),": "),e.xp6(3),e.Oqu(e.lcZ(21,21,t.questionTagName)),e.xp6(3),e.hij(" ",e.lcZ(24,23,"lang_auto_don_vi_kien_thuc"),": "),e.xp6(3),e.Oqu(e.lcZ(27,25,t.knowledgeName)),e.xp6(3),e.AsE("",e.lcZ(30,27,t.levelName)," - ",e.lcZ(31,29,t.subjectName),""),e.xp6(6),e.hij(" ",e.lcZ(36,31,"lang_test_market_view_question")," "),e.xp6(2),e.Q6J("ngIf","approved"!=t.status)}}function bn(n,u){if(1&n&&(e.TgZ(0,"drag-scroll",11),e.YNc(1,Ni,38,35,"div",12),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.shareQuestionList)}}function Ri(n,u){1&n&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_khong_co_cau_hoi_nao")," "))}function Ui(n,u){if(1&n&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.totalShareQuestion+" "+e.lcZ(2,1,"lang_auto_cau_hoi")," ")}}function Un(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",3),e.YNc(1,bn,2,1,"drag-scroll",5),e.YNc(2,Ri,3,3,"div",6),e.qZA(),e.TgZ(3,"div",7)(4,"div",8)(5,"azt-paging",9),e.NdJ("goToPaginationPage",function(l){e.CHM(t);const p=e.oxw();return e.KtG(p.getData(l))}),e.qZA()(),e.YNc(6,Ui,3,3,"div",10),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",0!=t.totalShareQuestion),e.xp6(1),e.Q6J("ngIf",0==t.totalShareQuestion),e.xp6(3),e.Q6J("pageObj",t.pageObj),e.xp6(1),e.Q6J("ngIf",0!=t.totalShareQuestion)}}let Mi=(()=>{class n extends Y.Q{editQuestionShared(t){this.sAztDialogService.open(Go,{width:"95vw",data:{questionShared:t,schoolLevelAndSubjectObjs:this.schoolLevelAndSubjectObjs,questionTags:this.questionTags,configShareQuestionLog:{schoolLevel:t.levelId,schoolSubject:t.subjectId,awarenessLevel:t.questionTagId,questionId:t.questionId,classifyMaterials:t.knowledgeId}},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(l=>{if(l){let p=this.browserStorageService.getSimpleStorage("view_question_filter");this.fillStatus=p??"",this.getData(this.pageObj.page)}})}viewQuestionDetail(t){this.sAztDialogService.open(Oi.T,{width:"700px",data:{obj:t},restoreFocus:!1}).afterClosed().subscribe(l=>{})}getTagsQuestion(){this.waitDestroy(this.questionService.apiQuestionGetTagsGet().subscribe(t=>{t.success?this.questionTags=t.data?.objs??[]:this.errorStatusObj(t.message??"")}))}getData(t){this.initStatusObj(),this.pageObj.setPageNumber(t),this.selected=-1,this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsGet(void 0,void 0,void 0,void 0,void 0,this.fillStatus??void 0,void 0,void 0,void 0,t,void 0).subscribe(o=>{if(o.success){this.shareQuestionList=o.data?.objs??[];let l=o.data?.total??1;this.totalShareQuestion=l,this.pageObj.setTotalPages(l);let p=[];this.shareQuestionList.forEach(C=>{C.question&&p.push(C.question)}),this.loadQuest(p)}else this.errorStatusObj(o.message??"",!0)}))}loadQuest(t){const o=this.commonService.castJsonToClassObjs(xi.v,JSON.stringify(t));this.questionRenderService.parseRenderQuestions(o??[],l=>{},this.configRenderService).then(l=>{for(let p=0;p<this.shareQuestionList.length;p++)this.shareQuestionList[p].question=this.commonService.castObj(l[p]);this.stopStatusObj()}).catch(l=>{this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),this.stopStatusObj()})}ngOnChanges(t){t.fillStatus&&!t.fillStatus.firstChange&&this.getData(1)}ngOnInit(){this.waitDestroy((0,ft.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData(this.pageObj.page)}))}constructor(t,o,l,p,C,N){super(),this.testMarketQuestionService=t,this.questionService=o,this.activeRoute=l,this.questionRenderService=p,this.browserStorageService=C,this.sAztDialogService=N,this.shareQuestionList=[],this.totalShareQuestion=0,this.totalShared=0,this.totalUsed=0,this.totalApproved=0,this.totalBalance=0,this.schoolLevelAndSubjectObjs=[],this.questionTags=[],this.isWithDraw=!1,this.selected=-1,this.fillStatus="",this.pageObj=new Ot.m(10),this.configRenderService=new sc.v(!0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(On.Q_),e.Y36(Bo.aE),e.Y36(_e.gz),e.Y36(Nn.h),e.Y36(Jt.n),e.Y36(vt.C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["view-question-shared"]],inputs:{fillStatus:"fillStatus"},features:[e.qOj,e.TTD],decls:4,vars:2,consts:[[1,"grid","grid-cols-12","gap-6","mt-2"],["class","intro-y col-span-12",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-y","col-span-12"],[3,"currentStatusObj"],["style","height: 100%",4,"ngIf"],["class","intro-x","style","margin: 12px 0; text-align: center",4,"ngIf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"pageObj","goToPaginationPage"],["class","w-20 mt-3 sm:mt-0",4,"ngIf"],[2,"height","100%"],["class","pb-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"pb-2",3,"ngClass","click"],[1,"box","p-2"],[1,"px-2","pb-2","border-b","border-slate-300"],[2,"font-weight","450"],[1,"tex2jax_process","box-content",2,"width","300px"],[3,"content"],[1,"mt-2","flex","items-center"],[1,"ml-2","mr-auto","w-2/3"],[1,"mt-2"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"mt-2",2,"font-weight","450"],[1,"font-medium","md:flex","text-xs"],[1,"flex","justify-center","items-center"],["azt-track-service","view-share-question-mPIFee-XBaF",1,"btn","btn-sm","btn-outline-success","mr-2",3,"click"],["azt-track-service","view-share-question-qE57yjy83Pf","class","btn btn-sm btn-outline-primary",3,"click",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"],["azt-track-service","view-share-question-qE57yjy83Pf",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"intro-x",2,"margin","12px 0","text-align","center"],[1,"w-20","mt-3","sm:mt-0"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ei,2,1,"div",1),e.YNc(2,Un,7,4,"ng-template",null,2,e.W1O),e.qZA()),2&t){const l=e.MAs(3);e.xp6(1),e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",l)}},dependencies:[h.mk,h.sg,h.O5,Ue.l,Rn.L,Ko.O,De.HU,E.JV],encapsulation:2}),n})();var Mn=b(77988);const _a=function(n,u,t){return{"bg-danger":n,"bg-success":u,"bg-warning":t}};function qi(n,u){if(1&n&&(e.O4$(),e.kcU(),e.TgZ(0,"div",14),e._uU(1),e.ALo(2,"mytranslate"),e.ALo(3,"mytranslate"),e.ALo(4,"mytranslate"),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",e.kEZ(8,_a,"rejected"==t.fillStatus,"approved"==t.fillStatus,"new"==t.fillStatus)),e.xp6(1),e.hij(" ","new"==t.fillStatus?e.lcZ(2,2,"lang_status_new_icon"):"approved"==t.fillStatus?e.lcZ(3,4,"lang_status_approved_icon"):e.lcZ(4,6,"lang_status_rejected_icon")," ")}}const qn=function(n){return{"bg-primary text-white no-hover":n}};let Di=(()=>{class n extends Y.Q{filterStatus(t){this.fillStatus=t??"",this.changeFilterStatus.emit(t??"")}ngOnInit(){}constructor(){super(),this.fillStatus="",this.changeFilterStatus=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["filter-question-shared-status"]],inputs:{fillStatus:"fillStatus"},outputs:{changeFilterStatus:"changeFilterStatus"},features:[e.qOj],decls:26,vars:26,consts:[[1,"w-full","text-right"],[1,"filter","flex","w-full"],[1,"btn","btn-sm","box","relative",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","12","height","12","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-3","h-3"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],["class","absolute text-white rounded-full font-bold","style","top: -5px; right: -5px; font-size: 7px; overflow: hidden; width: 15px; height: 15px; line-height: 15px; text-align: center",3,"ngClass",4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["azt-track-service","view-share-question-okOXhhqB2o",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-NwWehHlsZz",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-wBBhYqj6qo",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-gm18o_AtnP",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],[1,"absolute","text-white","rounded-full","font-bold",2,"top","-5px","right","-5px","font-size","7px","overflow","hidden","width","15px","height","15px","line-height","15px","text-align","center",3,"ngClass"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"polygon",4),e.qZA(),e.YNc(5,qi,5,12,"div",5),e.qZA()(),e.kcU(),e.TgZ(6,"mat-menu",6,7)(8,"div",8)(9,"ul",9)(10,"li")(11,"span",10),e.NdJ("click",function(){return o.filterStatus(void 0)}),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()(),e.TgZ(14,"li")(15,"span",11),e.NdJ("click",function(){return o.filterStatus("new")}),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()(),e.TgZ(18,"li")(19,"span",12),e.NdJ("click",function(){return o.filterStatus("approved")}),e._uU(20),e.ALo(21,"mytranslate"),e.qZA()(),e.TgZ(22,"li")(23,"span",13),e.NdJ("click",function(){return o.filterStatus("rejected")}),e._uU(24),e.ALo(25,"mytranslate"),e.qZA()()()()()()),2&t){const l=e.MAs(7);e.xp6(2),e.Q6J("matMenuTriggerFor",l),e.xp6(3),e.Q6J("ngIf",o.fillStatus),e.xp6(6),e.Q6J("ngClass",e.VKq(18,qn,!o.fillStatus)),e.xp6(1),e.hij(" ",e.lcZ(13,10,"lang_auto_tat_ca")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(20,qn,"new"==o.fillStatus)),e.xp6(1),e.hij(" ",e.lcZ(17,12,"lang_auto_status_new")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(22,qn,"approved"==o.fillStatus)),e.xp6(1),e.hij(" ",e.lcZ(21,14,"lang_auto_status_approved")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(24,qn,"rejected"==o.fillStatus)),e.xp6(1),e.hij(" ",e.lcZ(25,16,"lang_auto_status_rejected")," ")}},dependencies:[h.mk,h.O5,Mn.VK,Mn.p6,E.JV],encapsulation:2}),n})();function pa(n,u){1&n&&e._UZ(0,"azt-loading-ui",10)}function ji(n,u){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.totalShared),"")}}function Xo(n,u){1&n&&e._UZ(0,"azt-loading-ui",10)}function Fi(n,u){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.totalSoldExam),"")}}let ha=(()=>{class n extends Y.Q{withdrawBalance(){this.openWithdrawForm.emit(!0)}ngOnInit(){}constructor(){super(),this.loadingSoldExamCount=!0,this.loadingSharedQuestionCount=!0,this.totalShared=0,this.totalSoldExam=0,this.totalApproved=0,this.totalUsed=0,this.totalBalance=0,this.openWithdrawForm=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["withdraw-information"]],inputs:{loadingSoldExamCount:"loadingSoldExamCount",loadingSharedQuestionCount:"loadingSharedQuestionCount",totalShared:"totalShared",totalSoldExam:"totalSoldExam",totalApproved:"totalApproved",totalUsed:"totalUsed",totalBalance:"totalBalance"},outputs:{openWithdrawForm:"openWithdrawForm"},features:[e.qOj],decls:38,vars:36,consts:[[1,"box","p-5","w-full"],[1,"justify-between","items-center",3,"ngClass"],[1,"text-md","items-center"],["class","loading-upload mr-2","type","bootstrap-spinner",4,"ngIf"],[4,"ngIf"],[1,"text-md","items-center","mt-2"],[3,"ngClass"],[1,"text-md","items-center",3,"ngClass"],[1,"text-right",3,"ngClass"],["azt-track-service","view-share-question-kU8XhFjUozV",1,"btn","btn-primary","w-32","shadow-md",3,"disabled","click"],["type","bootstrap-spinner",1,"loading-upload","mr-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h3",2),e._uU(4),e.ALo(5,"mytranslate"),e.TgZ(6,"b"),e.YNc(7,pa,1,0,"azt-loading-ui",3),e.YNc(8,ji,3,3,"span",4),e.qZA()(),e.TgZ(9,"h3",5),e._uU(10),e.ALo(11,"mytranslate"),e.TgZ(12,"b"),e.YNc(13,Xo,1,0,"azt-loading-ui",3),e.YNc(14,Fi,3,3,"span",4),e.qZA()()(),e.TgZ(15,"div",6)(16,"h3",2),e._uU(17),e.ALo(18,"mytranslate"),e.TgZ(19,"b"),e._uU(20),e.ALo(21,"number"),e.qZA()(),e.TgZ(22,"h3",5),e._uU(23),e.ALo(24,"mytranslate"),e.TgZ(25,"b"),e._uU(26),e.ALo(27,"number"),e.qZA()()(),e.TgZ(28,"h3",7),e._uU(29),e.ALo(30,"mytranslate"),e.TgZ(31,"b"),e._uU(32),e.ALo(33,"number"),e.qZA()(),e.TgZ(34,"div",8)(35,"button",9),e.NdJ("click",function(){return o.withdrawBalance()}),e._uU(36),e.ALo(37,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("ngClass",o.isMobileDevice?"":"flex"),e.xp6(3),e.hij(" ",e.lcZ(5,18,"lang_test_market_total_questions_share")," "),e.xp6(3),e.Q6J("ngIf",o.loadingSharedQuestionCount),e.xp6(1),e.Q6J("ngIf",!o.loadingSharedQuestionCount),e.xp6(2),e.hij(" ",e.lcZ(11,20,"lang_test_market_total_exam_sold")," "),e.xp6(3),e.Q6J("ngIf",o.loadingSoldExamCount),e.xp6(1),e.Q6J("ngIf",!o.loadingSoldExamCount),e.xp6(1),e.Q6J("ngClass",o.isMobileDevice?"mt-2":""),e.xp6(2),e.hij(" ",e.lcZ(18,22,"lang_test_market_total_questions_approve")," "),e.xp6(3),e.Oqu(e.lcZ(21,24,o.totalApproved)),e.xp6(3),e.hij(" ",e.lcZ(24,26,"lang_test_market_total_questions_used")," "),e.xp6(3),e.Oqu(e.lcZ(27,28,o.totalUsed)),e.xp6(2),e.Q6J("ngClass",o.isMobileDevice?"mt-2":""),e.xp6(1),e.hij(" ",e.lcZ(30,30,"lang_test_market_total_balance")," "),e.xp6(3),e.hij("",e.lcZ(33,32,o.totalBalance),"\u0111"),e.xp6(2),e.Q6J("ngClass",o.isMobileDevice?"mt-2":""),e.xp6(1),e.Q6J("disabled",!o.totalBalance),e.xp6(1),e.hij(" ",e.lcZ(37,34,"lang_test_market_withdraw")," "))},dependencies:[h.mk,h.O5,se.n,h.JJ,E.JV],encapsulation:2}),n})();function Qi(n,u){if(1&n&&e._UZ(0,"azt-loading-effect",3),2&n){const t=e.oxw();e.Q6J("currentStatusObj",t.statusObj)}}function ma(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"withdraw-balance",7),e.NdJ("closeRequest",function(l){e.CHM(t);const p=e.oxw(2);return e.KtG(p.closeRequest(l))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("transactionInfo",t.transactionInfo)("balanceUserInfo",t.balanceUserInfo)("totalBalance",t.totalBalance)}}function zi(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"filter-question-shared-status",18),e.NdJ("changeFilterStatus",function(l){e.CHM(t);const p=e.oxw(3);return e.KtG(p.changeFilterStatus(l))}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("fillStatus",t.fillStatus)}}function ga(n,u){1&n&&(e.ynx(0),e._UZ(1,"view-exam-sold-history"),e.BQk())}function fa(n,u){if(1&n&&(e.ynx(0),e._UZ(1,"view-question-shared",19),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("fillStatus",t.fillStatus)}}const Dn=function(n){return{"border-bottom-width.px":n}},er=function(n){return{"font-weight":n}};function va(n,u){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"withdraw-information",8),e.NdJ("openWithdrawForm",function(l){e.CHM(t);const p=e.oxw(2);return e.KtG(p.withdrawBalance(l))}),e.qZA(),e.TgZ(2,"div",9)(3,"div",10)(4,"div",11),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onTabChanged(0))}),e.TgZ(5,"span",12),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()(),e.TgZ(8,"div",13)(9,"div",14),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onTabChanged(1))}),e.TgZ(10,"div",15)(11,"span",16),e._uU(12),e.ALo(13,"mytranslate"),e.qZA(),e.YNc(14,zi,1,1,"filter-question-shared-status",17),e.qZA()()()(),e.YNc(15,ga,2,0,"ng-container",6),e.YNc(16,fa,2,1,"ng-container",6),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("loadingSoldExamCount",t.loadingSoldExamCount)("loadingSharedQuestionCount",t.loadingSharedQuestionCount)("totalShared",t.totalShared)("totalSoldExam",t.totalSoldExam)("totalApproved",t.totalApproved)("totalUsed",t.totalUsed)("totalBalance",t.totalBalance),e.xp6(3),e.Q6J("ngStyle",e.VKq(20,Dn,0==t.selectedIndexTab?2:0)),e.xp6(1),e.Q6J("ngStyle",e.VKq(22,er,0==t.selectedIndexTab?"500":"400")),e.xp6(1),e.Oqu(e.lcZ(7,16,"lang_withdraw_history_sold_exam")),e.xp6(3),e.Q6J("ngStyle",e.VKq(24,Dn,1==t.selectedIndexTab?2:0)),e.xp6(2),e.Q6J("ngStyle",e.VKq(26,er,1==t.selectedIndexTab?"500":"400")),e.xp6(1),e.Oqu(e.lcZ(13,18,"lang_auto_danh_sach_cau_hoi_chia_se")),e.xp6(2),e.Q6J("ngIf",1==t.selectedIndexTab),e.xp6(1),e.Q6J("ngIf",0==t.selectedIndexTab),e.xp6(1),e.Q6J("ngIf",1==t.selectedIndexTab)}}function Bi(n,u){if(1&n&&(e.TgZ(0,"div",4),e.YNc(1,ma,1,3,"withdraw-balance",5),e.YNc(2,va,17,28,"ng-container",6),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isWithDraw&&t.balanceUserInfo),e.xp6(1),e.Q6J("ngIf",!t.isWithDraw)}}let ya=(()=>{class n extends Y.Q{changeFilterStatus(t){this.fillStatus=t??"",this.browserStorageService.saveSimpleStorage("view_question_filter",t??"")}withdrawBalance(t){this.isWithDraw=!this.isWithDraw}closeRequest(t){if(t){let o=Number(this.commonService.getMyParam(this.activeRoute,"roleType")??0),l=Number(this.commonService.getMyParam(this.activeRoute,"modeType")??3);this.commonService.myNavigationWithQueryString(`/auth/account-setting/${o}/${l}`,"?tab="+this.selectedIndexTab),this.isWithDraw=!1}else this.isWithDraw=!1}getBalanceQuestionShared(){this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsBalanceGet().subscribe(t=>{t.success?(this.totalShared=t.data?.shared??0,this.totalUsed=t.data?.used??0,this.totalApproved=t.data?.approved??0,this.totalBalance=t.data?.balance??0,this.transactionInfo=t.data?.lastTransaction,this.balanceUserInfo=t.data,this.loadingSharedQuestionCount=!1,this.successStatusObj()):this.errorStatusObj(t.message??"",!0)}))}getTotalSoldExam(){this.waitDestroy(this.examPaymentHistoryService.apiExamPaymentHistoryGetTotalSoldGet().subscribe(t=>{t.success?(this.totalSoldExam=t.data?.value??0,this.loadingSoldExamCount=!1,this.successStatusObj()):this.errorStatusObj(t.message??"",!0)}))}onTabChanged(t){this.selectedIndexTab=t;let o=Number(this.commonService.getMyParam(this.activeRoute,"roleType")??0),l=Number(this.commonService.getMyParam(this.activeRoute,"modeType")??3);this.commonService.myNavigationWithQueryString(`/auth/account-setting/${o}/${l}`,"?tab="+this.selectedIndexTab)}ngOnInit(){this.initStatusObj(),this.waitDestroy((0,ft.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let t=this.browserStorageService.getSimpleStorage("view_question_filter"),o=this.commonService.getMyQueryParam("tab")??0;this.fillStatus=t??"",this.selectedIndexTab=Number(o),this.getBalanceQuestionShared(),this.getTotalSoldExam()}))}constructor(t,o,l,p){super(),this.examPaymentHistoryService=t,this.testMarketQuestionService=o,this.activeRoute=l,this.browserStorageService=p,this.isWithDraw=!1,this.totalShareQuestion=0,this.totalShared=0,this.totalUsed=0,this.totalApproved=0,this.totalBalance=0,this.fillStatus="",this.selectedIndexTab=0,this.totalSoldExam=0,this.loadingSoldExamCount=!0,this.loadingSharedQuestionCount=!0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Zt.g),e.Y36(On.Q_),e.Y36(_e.gz),e.Y36(Jt.n))},n.\u0275cmp=e.Xpm({type:n,selectors:[["view-share-question"]],features:[e.qOj],decls:4,vars:2,consts:[[1,"relative"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"approve-share-question"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest",4,"ngIf"],[4,"ngIf"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest"],[3,"loadingSoldExamCount","loadingSharedQuestionCount","totalShared","totalSoldExam","totalApproved","totalUsed","totalBalance","openWithdrawForm"],[1,"flex"],[1,"w-40","hover-tab",2,"align-self","center"],[1,"px-3","pt-5","pb-3","border-slate-300","text-center",2,"cursor","pointer","align-self","center",3,"ngStyle","click"],[2,"align-self","center",3,"ngStyle"],[1,"w-44","hover-tab"],[1,"px-3","pt-5","pb-3","border-slate-300","relative","text-center",2,"cursor","pointer","align-self","center",3,"ngStyle","click"],[1,"flex","w-full","text-center"],[1,"mr-2",2,"align-self","center",3,"ngStyle"],[3,"fillStatus","changeFilterStatus",4,"ngIf"],[3,"fillStatus","changeFilterStatus"],[3,"fillStatus"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Qi,1,1,"azt-loading-effect",1),e.YNc(2,Bi,3,2,"ng-template",null,2,e.W1O),e.qZA()),2&t){const l=e.MAs(3);e.xp6(1),e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",l)}},dependencies:[h.O5,h.PC,Ue.l,ea.C,vn,Mi,Di,ha,E.JV],encapsulation:2}),n})();function Ji(n,u){if(1&n&&e._UZ(0,"azt-loading-effect",2),2&n){const t=e.oxw();e.Q6J("currentStatusObj",t.statusObj)}}function ba(n,u){1&n&&(e.TgZ(0,"div",20),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_new")," "))}function Vi(n,u){1&n&&(e.TgZ(0,"div",15),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_approved")," "))}function xa(n,u){1&n&&(e.TgZ(0,"div",15),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_settled")," "))}function Wi(n,u){1&n&&(e.TgZ(0,"div",21),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_status_rejected")," "))}function Aa(n,u){if(1&n&&(e.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"p"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.ALo(17,"mytranslate"),e.ALo(18,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()(),e.TgZ(19,"div",14)(20,"b",15),e._uU(21),e.ALo(22,"number"),e.qZA(),e.TgZ(23,"div",16),e.YNc(24,ba,3,3,"div",17),e.YNc(25,Vi,3,3,"div",18),e.YNc(26,xa,3,3,"div",18),e.YNc(27,Wi,3,3,"div",19),e.qZA()()()()),2&n){const t=u.$implicit;e.xp6(4),e.AsE("",e.lcZ(5,15,"lang_test_market_bankHolder"),": ",t.bankHolder,""),e.xp6(3),e.AsE("",e.lcZ(8,17,"lang_test_market_bankName"),": ",t.bankName,""),e.xp6(3),e.AsE("",e.lcZ(11,19,"lang_test_market_bankNumber"),": ",t.bankAccountNumber,""),e.xp6(3),e.AsE("",e.lcZ(14,21,"lang_test_market_address"),": ",t.address,""),e.xp6(3),e.AsE("",e.lcZ(17,23,"lang_auto_ngay_tao"),": ",e.lcZ(18,25,t.createdAt),""),e.xp6(5),e.hij("",e.lcZ(22,27,t.amount),"\u0111"),e.xp6(3),e.Q6J("ngIf","new"==t.status),e.xp6(1),e.Q6J("ngIf","approved"==t.status),e.xp6(1),e.Q6J("ngIf","settled"==t.status),e.xp6(1),e.Q6J("ngIf","rejected"==t.status)}}function Yi(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5),e.YNc(3,Aa,28,29,"div",6),e.qZA(),e.TgZ(4,"div",7)(5,"div",8)(6,"azt-paging",9),e.NdJ("goToPaginationPage",function(l){e.CHM(t);const p=e.oxw();return e.KtG(p.getData(l))}),e.qZA()(),e.TgZ(7,"div",10),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.withdrawHistoryObjs),e.xp6(3),e.Q6J("pageObj",t.pageObj),e.xp6(2),e.hij(" ",t.totalWithdrawTimes+" "+e.lcZ(9,3,"lang_test_market_withdraw_times")," ")}}let wa=(()=>{class n extends Y.Q{getData(t){this.initStatusObj(),this.pageObj.setPageNumber(t),this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsGet().subscribe(o=>{if(o.success){this.withdrawHistoryObjs=o.data?.objs??[];let l=o.data?.total??1;this.totalWithdrawTimes=l,this.pageObj.setTotalPages(l),this.successStatusObj()}else this.errorStatusObj(o.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,ft.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData(this.pageObj.page)}))}constructor(t,o){super(),this.testMarketQuestionService=t,this.activeRoute=o,this.totalWithdrawTimes=0,this.withdrawHistoryObjs=[],this.pageObj=new Ot.m(10)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(On.Q_),e.Y36(_e.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["history-withdraw"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"approve-share-question"],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],["class","pb-2",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"pageObj","goToPaginationPage"],[1,"mt-3","sm:mt-0"],[1,"pb-2"],[1,"box","p-2","flex","items-center"],[1,"ml-4","mr-auto","w-2/3"],[1,"font-medium","md:flex","text-xs"],[1,"px-2","bg-success","text-white"],[1,"ml-0","md:ml-2","mt-1","md:mt-0","text-center"],["class","px-2 bg-pending text-white",4,"ngIf"],["class","px-2 bg-success text-white",4,"ngIf"],["class","px-2 bg-danger text-white",4,"ngIf"],[1,"px-2","bg-pending","text-white"],[1,"px-2","bg-danger","text-white"]],template:function(t,o){if(1&t&&(e.YNc(0,Ji,1,1,"azt-loading-effect",0),e.YNc(1,Yi,10,5,"ng-template",null,1,e.W1O)),2&t){const l=e.MAs(2);e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",l)}},dependencies:[h.sg,h.O5,Ue.l,Rn.L,h.JJ,E.JV,E.$n],encapsulation:2}),n})();function Hi(n,u){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_xoa_tai_khoan_required")," "))}function Ca(n,u){if(1&n&&(e.TgZ(0,"div",12),e.YNc(1,Hi,3,3,"span",13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.reason.errors.required)}}function Gi(n,u){1&n&&(e.TgZ(0,"span",14),e._UZ(1,"azt-loading-ui"),e.qZA())}let Ta=(()=>{class n extends Y.Q{saveUnitObj(){this.initStatusObj(),this.waitDestroy(this.authService.apiAuthRemoveMyAccountPost({reason:this.form.value.reason??""}).subscribe(t=>{1==t.success?(this.successStatusObj("lang_auto_xoa_tai_khoan_done",!0),setTimeout(()=>{this.mobileWebviewService.sendSimpleMessage("MOB_LOGOUT")},2e3)):this.errorStatusObj(t.message??"",!0)}))}constructor(t,o){super(),this.authService=t,this.mobileWebviewService=o,this.form=new v.cw({reason:new v.NI("",[v.kI.required])})}ngOnInit(){this.form.controls.reason.setValue("")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q.e8),e.Y36(nt.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["remove-account"]],features:[e.qOj],decls:18,vars:13,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","reason-remove-account",1,"form-label","font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],[1,"relative"],["id","reason-remove-account","type","text","formControlName","reason","placeholder","",1,"form-control"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],[1,"flex","mt-5","items-center"],["azt-track-service","remove-account-VF4RFPOdq-",1,"btn","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"div",5),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"div",6),e._UZ(11,"input",7),e.qZA(),e.YNc(12,Ca,2,1,"div",8),e.qZA()(),e.TgZ(13,"div",9)(14,"button",10),e.NdJ("click",function(){return o.saveUnitObj()}),e.YNc(15,Gi,2,0,"span",11),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.hij(" ",e.lcZ(6,7,"lang_auto_xoa_tai_khoan")," "),e.xp6(3),e.hij(" ",e.lcZ(9,9,"lang_auto_xoa_tai_khoan_confirm")," "),e.xp6(4),e.Q6J("ngIf",o.form.controls.reason.errors&&(o.form.controls.reason.dirty||o.form.controls.reason.touched)),e.xp6(2),e.Q6J("disabled",o.statusObj.loading||o.form.controls.reason.errors),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(17,11,"lang_auto_xac_nhan")," "))},dependencies:[h.O5,v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,fe.M,se.n,E.JV],encapsulation:2}),n})();function Ia(n,u){if(1&n&&e._UZ(0,"azt-loading-effect",2),2&n){const t=e.oxw();e.Q6J("currentStatusObj",t.statusObj)}}function tr(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"label",7)(5,"span",8),e._UZ(6,"lucide-icon",9),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"input",10),e.NdJ("change",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.mobLoginFingerprintOrFace())}),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("name",t.enableForFace?"scan-face":"fingerprint"),e.xp6(1),e.hij(" ",t.enableForFace?e.lcZ(8,3,"lang_core_login_with_face"):e.lcZ(9,5,"lang_core_login_with_fingerprint")," "),e.xp6(3),e.Q6J("formControl",t.checkLoginFingerprintOrFaceControl)}}let Ki=(()=>{class n extends Y.Q{mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFaceControl.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}constructor(t){super(),this.mobileWebviewService=t,this.checkLoginFingerprintOrFaceControl=new v.NI(!1,{nonNullable:!0}),this.enableForFace=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(nt.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["setting-fingerprint-or-face"]],inputs:{checkLoginFingerprintOrFaceControl:"checkLoginFingerprintOrFaceControl",enableForFace:"enableForFace"},features:[e.qOj],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-x","box","p-5"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],[1,"form-check","form-switch","items-center","px-3","py-2","mt-2","rounded-md","w-full"],["for","login-fingerprint-face",1,"flex","items-center","mr-auto"],[1,"w-4","h-4","mr-2","inline-block"],[3,"name"],["id","login-fingerprint-face","type","checkbox",1,"show-code","form-check-input",2,"margin-right","-10px",3,"formControl","change"]],template:function(t,o){if(1&t&&(e.YNc(0,Ia,1,1,"azt-loading-effect",0),e.YNc(1,tr,11,7,"ng-template",null,1,e.W1O)),2&t){const l=e.MAs(2);e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",l)}},dependencies:[h.O5,v.Wl,v.JJ,v.oH,Ue.l,Ae.Nh5,E.JV],encapsulation:2}),n})();var tn=b(41880),_n=b(88787);function nr(n,u){if(1&n&&e._UZ(0,"azt-loading-effect",3),2&n){const t=e.oxw();e.Q6J("currentStatusObj",t.statusObj)}}const Sa=function(n){return{"text-danger":n}};function ka(n,u){if(1&n&&(e.ynx(0),e.TgZ(1,"div",18)(2,"div",19)(3,"span",20),e._UZ(4,"lucide-icon",21),e.qZA(),e.TgZ(5,"span",22),e._uU(6),e.ALo(7,"mytranslate"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.ALo(10,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),e.qZA()(),e.TgZ(11,"div",23)(12,"span",20),e._UZ(13,"lucide-icon",24),e.qZA(),e.TgZ(14,"span",25),e._uU(15),e.ALo(16,"mytranslate"),e.qZA(),e.TgZ(17,"span",26),e._uU(18),e.ALo(19,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),e.ALo(20,"mytranslate"),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(6),e.hij(" ",e.lcZ(7,5,"lang_azt_vip_purchase_date")+":"," "),e.xp6(3),e.Oqu(e.lcZ(10,7,null==t.vipPackageObj?null:t.vipPackageObj.startTime)),e.xp6(2),e.Q6J("ngClass",e.VKq(15,Sa,t.expirationDate<t.flatWarning)),e.xp6(4),e.hij(" ",e.lcZ(16,9,"lang_azt_expiration_date")+":"," "),e.xp6(3),e.Oqu(e.lcZ(19,11,null==t.vipPackageObj?null:t.vipPackageObj.endTime)+" ( "+t.expirationDate+" "+e.lcZ(20,13,"lang_auto_ngay")+" )")}}function Za(n,u){1&n&&(e.TgZ(0,"div",28)(1,"div",29),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_azt_not_subscribed_to_azota_vip")+" !"))}function Oa(n,u){1&n&&(e.TgZ(0,"div",28)(1,"div",29),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_azt_not_subscribed_to_azota_vip_student")+" !"))}function Ea(n,u){if(1&n&&(e.YNc(0,Za,4,3,"div",27),e.YNc(1,Oa,4,3,"div",27)),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.isTeacherDashboard),e.xp6(1),e.Q6J("ngIf",!t.isTeacherDashboard)}}function cc(n,u){if(1&n&&(e.TgZ(0,"tr")(1,"td",31),e._uU(2),e.ALo(3,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.TgZ(7,"td",32),e._uU(8),e.ALo(9,"formatMoney"),e.ALo(10,"mytranslate"),e.qZA()()),2&n){const t=u.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,3,t.createdAt)," "),e.xp6(3),e.hij(" ",e.lcZ(6,5,null!=t&&t.packageName?null==t?null:t.packageName:"lang_azt_azota_vip")," "),e.xp6(3),e.hij(" ",e.lcZ(9,7,t.packageMoney)+" "+e.lcZ(10,9,"lang_auto_vnd_upper")," ")}}const lc=function(){return[]};function uc(n,u){if(1&n&&(e.ynx(0),e.YNc(1,cc,11,11,"tr",30),e.BQk()),2&n){const t=e.oxw(2);let o;e.xp6(1),e.Q6J("ngForOf",null!==(o=null==t.vipPackageObj?null:t.vipPackageObj.subscriptionHistories)&&void 0!==o?o:e.DdM(1,lc))}}function $i(n,u){1&n&&(e.TgZ(0,"tr")(1,"td",33),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_khong_co_du_lieu")+"!"))}function La(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,ka,21,17,"ng-container",6),e.YNc(5,Ea,2,2,"ng-template",null,7,e.W1O),e.TgZ(7,"div",8)(8,"button",9),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.redirectToVipPackages())}),e._uU(9),e.ALo(10,"mytranslate"),e.qZA()()(),e.TgZ(11,"div",10)(12,"div",11),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"div",12)(16,"drag-scroll")(17,"table",13)(18,"thead")(19,"tr")(20,"th",14),e._uU(21),e.ALo(22,"mytranslate"),e.qZA(),e.TgZ(23,"th",15),e._uU(24),e.ALo(25,"mytranslate"),e.qZA(),e.TgZ(26,"th",16),e._uU(27),e.ALo(28,"mytranslate"),e.qZA()()(),e.TgZ(29,"tbody"),e.YNc(30,uc,2,2,"ng-container",6),e.YNc(31,$i,4,3,"ng-template",null,17,e.W1O),e.qZA()()()()()}if(2&n){const t=e.MAs(6),o=e.MAs(32),l=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,10,"lang_azt_your_subscription_package")),e.xp6(2),e.Q6J("ngIf",null==l.vipPackageObj?null:l.vipPackageObj.endTime)("ngIfElse",t),e.xp6(5),e.Oqu(e.lcZ(10,12,"lang_azt_upgrade_now")),e.xp6(4),e.Oqu(e.lcZ(14,14,"lang_azt_purchase_history")),e.xp6(8),e.Oqu(e.lcZ(22,16,"lang_auto_thoi_gian")),e.xp6(3),e.Oqu(e.lcZ(25,18,"lang_business_config_billing_history_package_name")),e.xp6(3),e.Oqu(e.lcZ(28,20,"lang_azt_price")),e.xp6(3),e.Q6J("ngIf",l.vipPackageObj&&l.vipPackageObj.subscriptionHistories)("ngIfElse",o)}}let Pa=(()=>{class n extends Y.Q{redirectToVipPackages(){this.commonService.myNavigationWithQueryString("/auth/vip-packages/"+(this.isTeacherDashboard?"teacherVip":"studentVip"),`?backto=${encodeURIComponent(`/auth/account-setting/${this.isTeacherDashboard?0:1}/8`)}`)}getData(){this.initStatusObj(),this.waitDestroy(this.vipPackageService.apiVipPackageGetMyPackagePost({vipPackageType:this.isTeacherDashboard?tn.T.TEACHER:tn.T.STUDENT}).subscribe(t=>{if(!t.success)return this.errorStatusObj(t.message,!0);this.vipPackageObj=t.data?.obj,this.expirationDate=this.timeService.calculationTimeOnlyDate(void 0,this.vipPackageObj?.endTime),this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.isTeacherDashboard=0==Number(this.commonService.getMyParam(this.activeRoute,"roleType")),this.getData()}constructor(t,o,l){super(),this.activeRoute=t,this.vipPackageService=o,this.timeService=l,this.expirationDate=0,this.flatWarning=7,this.isTeacherDashboard=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_e.gz),e.Y36(_n.lO),e.Y36(T.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["setting-azota-vip"]],features:[e.qOj],decls:4,vars:2,consts:[[1,"intro-x","box","p-5"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"azota-vip"],[1,"text-lg","font-medium","mb-2"],[4,"ngIf","ngIfElse"],["noVipPackage",""],[1,"text-right","mt-3"],[1,"btn","btn-primary",3,"click"],[1,"subscription-history","mt-4"],[1,"text-lg","font-medium"],[1,"w-full","h-full","mt-2"],["drag-scroll-item","",1,"table","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","10px","width","250px"],[1,"whitespace-nowrap",2,"width","350px"],[1,"whitespace-nowrap",2,"text-align","right","padding-right","20px"],["noHistory",""],[1,"vip"],[1,"flex","items-center","font-medium","mt-2"],[1,"w-4","h-4","inline-block","mr-1"],["name","calendar-check"],[1,"mr-2"],[1,"flex","items-center","flex-wrap","font-medium","mt-2",3,"ngClass"],["name","calendar-off"],[1,"mr-2","mt-1","sm:mt-0"],[1,"mr-1"],["class","no-vip",4,"ngIf"],[1,"no-vip"],[1,"note"],[4,"ngFor","ngForOf"],[2,"padding-left","10px"],[2,"text-align","right","padding-right","20px"],["colspan","3",1,"text-center"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,nr,1,1,"azt-loading-effect",1),e.YNc(2,La,33,22,"ng-template",null,2,e.W1O),e.qZA()),2&t){const l=e.MAs(3);e.xp6(1),e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",l)}},dependencies:[h.mk,h.sg,h.O5,Ue.l,Ae.Nh5,De.HU,De.$Z,E.JV,E.hc,E.ho],encapsulation:2}),n})();function dc(n,u){if(1&n&&(e.TgZ(0,"teacher-layout",2),e.GkF(1,3),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(3);e.Q6J("headerBackToLink",t.backLink),e.xp6(1),e.Q6J("ngTemplateOutlet",o)}}function _c(n,u){if(1&n&&(e.TgZ(0,"student-layout",2),e.GkF(1,3),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(3);e.Q6J("headerBackToLink",t.backLink),e.xp6(1),e.Q6J("ngTemplateOutlet",o)}}function pc(n,u){if(1&n&&e._UZ(0,"azt-loading-effect",25),2&n){const t=e.oxw(2);e.Q6J("currentStatusObj",t.statusObj)}}const Vt=function(n){return{"bg-primary text-white font-medium":n}};function hc(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.changModeView(0))}),e.O4$(),e.TgZ(1,"svg",27),e._UZ(2,"path",28)(3,"circle",29),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Vt,"general"==t.modeView)),e.xp6(4),e.hij(" ",e.lcZ(5,2,"lang_auto_chung")," ")}}function Xi(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.changModeView(1))}),e.O4$(),e.TgZ(1,"svg",27),e._UZ(2,"rect",31)(3,"path",32),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Vt,"password"==t.modeView)),e.xp6(4),e.hij(" ",e.lcZ(5,2,"lang_auto_doi_mat_khau")," ")}}function nn(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.changModeView(5))}),e.TgZ(1,"span",34),e._UZ(2,"lucide-icon",35),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Vt,"setting-unit"==t.modeView)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_auth_setting_user_unit")," ")}}function eo(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.changModeView(3))}),e.TgZ(1,"span",34),e._UZ(2,"lucide-icon",37),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Vt,"share-question"==t.modeView)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_payment_history_transaction_history")," ")}}function Na(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.changModeView(4))}),e.TgZ(1,"span",34),e._UZ(2,"lucide-icon",39),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Vt,"history-withdraw"==t.modeView)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_test_market_withdraw_history")," ")}}function Ra(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.changModeView(2))}),e.TgZ(1,"span",34),e._UZ(2,"lucide-icon",41),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Vt,"setting-role"==t.modeView)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_auth_user_setting_change_role")," ")}}function Ua(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.changModeView(7))}),e.TgZ(1,"span",34),e._UZ(2,"lucide-icon",43),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(7,Vt,"setting-fingerprint-or-face"==t.modeView)),e.xp6(2),e.Q6J("name",t.enableForFace?"scan-face":"fingerprint"),e.xp6(1),e.hij(" ",t.enableForFace?e.lcZ(4,3,"lang_core_login_with_face"):e.lcZ(5,5,"lang_core_login_with_fingerprint")," ")}}function mc(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.goToProfileStudent())}),e.TgZ(1,"span",34),e._UZ(2,"lucide-icon",45),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_auto_thong_ke_hoc_tap")," "))}function Ma(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.changModeView(8))}),e.TgZ(1,"div",47),e._UZ(2,"azt-check-vip-account",48),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Azota VIP"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(3,Vt,"setting-azota-vip"==t.modeView)),e.xp6(2),e.Q6J("vipPackageType",t.isTeacherDashboard?"VIP_FOR_TEACHER":"VIP_FOR_STUDENT")("isShowBadgeVip",!0)}}function qa(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.changModeView(6))}),e.TgZ(1,"span",34),e._UZ(2,"lucide-icon",50),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(4,Vt,"remove-account"==t.modeView)),e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_auto_xoa_tai_khoan")," ")}}function to(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.mobLogout())}),e.O4$(),e.TgZ(1,"svg",27),e._UZ(2,"path",52)(3,"polyline",53)(4,"line",54),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()}2&n&&(e.xp6(5),e.hij(" ",e.lcZ(6,1,"lang_auto_dang_xuat")," "))}function no(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"setting-general",55),e.NdJ("saveUserObj",function(l){e.CHM(t);const p=e.oxw(2);return e.KtG(p.saveUserObjData(l))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("userObj",t.userObj)("isTeacherDashboard",t.isTeacherDashboard)}}function Da(n,u){1&n&&(e.TgZ(0,"div"),e._UZ(1,"setting-password"),e.qZA())}function jn(n,u){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"setting-role",56),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("isTeacherDashboard",t.isTeacherDashboard)("hasTeacherRole",t.hasTeacherRole)}}function ir(n,u){1&n&&(e.TgZ(0,"div"),e._UZ(1,"setting-unit"),e.qZA())}function ja(n,u){1&n&&(e.TgZ(0,"div"),e._UZ(1,"view-share-question"),e.qZA())}function Fa(n,u){1&n&&(e.TgZ(0,"div"),e._UZ(1,"history-withdraw"),e.qZA())}function Qa(n,u){1&n&&(e.TgZ(0,"div"),e._UZ(1,"remove-account"),e.qZA())}function gc(n,u){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"setting-fingerprint-or-face",57),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("checkLoginFingerprintOrFaceControl",t.checkLoginFingerprintOrFace)("enableForFace",t.enableForFace)}}function or(n,u){1&n&&(e.TgZ(0,"div"),e._UZ(1,"setting-azota-vip"),e.qZA())}const fc=function(n){return{"margin-bottom":n}};function io(n,u){if(1&n&&(e.YNc(0,pc,1,1,"azt-loading-effect",4),e.TgZ(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()(),e.TgZ(7,"div",9)(8,"div",10)(9,"div",11),e.YNc(10,hc,6,6,"button",12),e.YNc(11,Xi,6,6,"button",13),e.YNc(12,nn,5,6,"button",14),e.YNc(13,eo,5,6,"button",15),e.ALo(14,"showFeatureWhenIsNotBusinessDomain"),e.YNc(15,Na,5,6,"button",16),e.ALo(16,"showFeatureWhenIsNotBusinessDomain"),e.YNc(17,Ra,5,6,"button",17),e.YNc(18,Ua,6,9,"button",18),e.YNc(19,mc,5,3,"button",19),e.YNc(20,Ma,5,5,"button",20),e.YNc(21,qa,5,6,"button",21),e.YNc(22,to,7,3,"button",22),e.qZA()()(),e.TgZ(23,"div",23),e.YNc(24,no,2,2,"div",24),e.YNc(25,Da,2,0,"div",24),e.YNc(26,jn,2,2,"div",24),e.YNc(27,ir,2,0,"div",24),e.YNc(28,ja,2,0,"div",24),e.YNc(29,Fa,2,0,"div",24),e.YNc(30,Qa,2,0,"div",24),e.YNc(31,gc,2,2,"div",24),e.YNc(32,or,2,0,"div",24),e.qZA()()()),2&n){const t=e.oxw();e.Q6J("ngIf",t.isLoading),e.xp6(5),e.hij(" ",e.lcZ(6,23,"lang_auto_cai_dat_tai_khoan")," "),e.xp6(5),e.Q6J("ngIf","setting-role"!=t.modeView),e.xp6(1),e.Q6J("ngIf","setting-role"!=t.modeView),e.xp6(1),e.Q6J("ngIf","setting-role"!=t.modeView),e.xp6(1),e.Q6J("ngIf","setting-role"!=t.modeView&&t.isTeacherDashboard&&e.lcZ(14,25,"")),e.xp6(2),e.Q6J("ngIf","setting-role"!=t.modeView&&t.isTeacherDashboard&&e.lcZ(16,27,"")),e.xp6(2),e.Q6J("ngIf","setting-role"==t.modeView),e.xp6(1),e.Q6J("ngIf",t.isMobileWebView&&t.isShowBiometricSetting),e.xp6(1),e.Q6J("ngIf",!t.isTeacherDashboard&&t.isBusinessDomain),e.xp6(1),e.Q6J("ngIf",!t.isBusinessDomain&&!t.isMobileWebView&&(t.isCheckTeacherVipAction||!t.isTeacherDashboard)),e.xp6(1),e.Q6J("ngIf",t.isTeacherDashboard&&t.isMobileWebView),e.xp6(1),e.Q6J("ngIf",t.isMobileWebView),e.xp6(1),e.Q6J("ngStyle",e.VKq(29,fc,t.isMobileWebView?"200px":"0")),e.xp6(1),e.Q6J("ngIf","general"==t.modeView&&t.userObj),e.xp6(1),e.Q6J("ngIf","password"==t.modeView),e.xp6(1),e.Q6J("ngIf","setting-role"==t.modeView),e.xp6(1),e.Q6J("ngIf","setting-unit"==t.modeView),e.xp6(1),e.Q6J("ngIf","share-question"==t.modeView),e.xp6(1),e.Q6J("ngIf","history-withdraw"==t.modeView),e.xp6(1),e.Q6J("ngIf","remove-account"==t.modeView),e.xp6(1),e.Q6J("ngIf","setting-fingerprint-or-face"==t.modeView),e.xp6(1),e.Q6J("ngIf","setting-azota-vip"==t.modeView&&(t.isCheckTeacherVipAction||!t.isTeacherDashboard))}}let za=(()=>{class n extends Y.Q{goToProfileStudent(){this.initStatusObj();const t=Number(this.commonService.getMyParam(this.activeRoute,"modeType"));this.myNavigationWithQueryString("/student/profile-student/0/0","?backTo="+encodeURIComponent("/auth/account-setting/1/"+(this.isTeacherDashboard?0:1)+t+"?tab=0"))}changModeView(t){let o=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString(`/auth/account-setting/${this.isTeacherDashboard?0:1}/`+t,o?"?backTo="+encodeURIComponent(o)+"&tab=0":"?tab=0")}getInfo(){this.userObj=this.userService.getUserObj()}saveUserObjData(t){this.userObj=t}mobLogout(){this.mobileWebviewService.sendSimpleMessage("MOB_LOGOUT")}mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFace.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}getFingerprintOrFaceSettingFromMob(){this.initStatusObj(),this.mobileWebviewService.sendSimpleMessage("CHECK_LOGIN_FINGERPRINT_OR_FACE_AVAILABLE"),this.waitDestroy(this.mobileWebviewService.getWebviewFingerprintOrFaceSettingSubscriber().subscribe(t=>{(t?.supportFace||t?.supportFingerprint)&&(this.enableForFace=t.supportFace??!1,this.isShowBiometricSetting=!0,this.checkLoginFingerprintOrFace.setValue(t?.isOnOfOff??!1)),this.stopStatusObj()}))}ngOnInit(){super.ngOnInit(),this.userService.isAnonymousRoleOfCurrentUser()?this.redirectService.redirectSimpleRegister():(this.getInfo(),this.commonService.translateMetaData({title:"lang_cms_auth_change_info_title",description:"lang_cms_auth_change_info_description",image:"lang_cms_test_image"})),this.isMobileWebView&&this.getFingerprintOrFaceSettingFromMob(),this.hasTeacherRole=this.userService.isTeacherRole(),this.isTeacherDashboard=0==Number(this.commonService.getMyParam(this.activeRoute,"roleType")),this.waitDestroy((0,ft.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{switch(Number(this.commonService.getMyParam(this.activeRoute,"modeType"))){case 1:this.modeView="password";break;case 2:this.modeView="setting-role";break;case 3:this.modeView="share-question";break;case 4:this.modeView="history-withdraw";break;case 5:this.modeView="setting-unit";break;case 6:this.modeView="remove-account";break;case 7:this.modeView="setting-fingerprint-or-face";break;case 8:this.modeView="setting-azota-vip";break;default:this.modeView="general"}const o=this.commonService.getMyQueryParam("modeView");o&&(this.modeView=o);let l=this.commonService.getMyQueryParam("backTo");this.backLink=l??(this.isTeacherDashboard?"/admin/dashboard":"/student/classroom/0")}))}constructor(t,o,l,p){super(),this.userService=t,this.redirectService=o,this.activeRoute=l,this.mobileWebviewService=p,this.returnUrl="",this.backLink="",this.modeView="general",this.isTeacherDashboard=!1,this.hasTeacherRole=!1,this.isLoading=!1,this.checkLoginFingerprintOrFace=new v.NI(!1,{nonNullable:!0}),this.enableForFace=!1,this.isShowBiometricSetting=!1,this.isCheckTeacherVipAction=rt.N.is_check_teacher_vip_action}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ne.U),e.Y36(We.z),e.Y36(_e.gz),e.Y36(nt.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-account-setting"]],features:[e.qOj],decls:4,vars:2,consts:[[3,"headerBackToLink",4,"ngIf"],["MainContentTpl",""],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[3,"currentStatusObj",4,"ngIf"],[1,"account-setting","mx-auto"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12"],[1,"intro-y","text-lg","font-medium","mr-auto"],[1,"col-span-12","sm:col-span-4","lg:col-span-3"],[1,"intro-y","box","p-5"],[1,"mt-1"],["azt-track-service","account-setting-pItOH1KDG-C","class","flex items-center px-3 py-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-ceCNxcxvnKj","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-OrC_ZrBeC","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-M-3dUYi47e6","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-hkYupeSquY","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-aIrsC6WcJ","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-GqWjdoONw","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-1aaFkwubF","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"click",4,"ngIf"],["azt-track-service","account-setting-pOR0okU-y","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-QyWGVwYGd","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq","class","flex items-center px-3 py-2 mt-2 rounded-md w-full text-danger",3,"click",4,"ngIf"],[1,"col-span-12","lg:col-span-9",3,"ngStyle"],[4,"ngIf"],[3,"currentStatusObj"],["azt-track-service","account-setting-pItOH1KDG-C",1,"flex","items-center","px-3","py-2","rounded-md","w-full",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["azt-track-service","account-setting-ceCNxcxvnKj",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["azt-track-service","account-setting-OrC_ZrBeC",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],[1,"w-4","h-4","mr-2","inline-block"],["name","ruler"],["azt-track-service","account-setting-M-3dUYi47e6",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","clipboard-list"],["azt-track-service","account-setting-hkYupeSquY",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","history"],["azt-track-service","account-setting-aIrsC6WcJ",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","user"],["azt-track-service","account-setting-GqWjdoONw",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],[3,"name"],["azt-track-service","account-setting-1aaFkwubF",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click"],["name","bar-chart-3"],["azt-track-service","account-setting-pOR0okU-y",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],[1,"mr-2"],[3,"vipPackageType","isShowBadgeVip"],["azt-track-service","account-setting-QyWGVwYGd",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","trash-2"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full","text-danger",3,"click"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16 17 21 12 16 7"],["x1","21","y1","12","x2","9","y2","12"],[3,"userObj","isTeacherDashboard","saveUserObj"],[3,"isTeacherDashboard","hasTeacherRole"],[3,"checkLoginFingerprintOrFaceControl","enableForFace"]],template:function(t,o){1&t&&(e.YNc(0,dc,2,2,"teacher-layout",0),e.YNc(1,_c,2,2,"student-layout",0),e.YNc(2,io,33,31,"ng-template",null,1,e.W1O)),2&t&&(e.Q6J("ngIf",o.isTeacherDashboard),e.xp6(1),e.Q6J("ngIf",!o.isTeacherDashboard))},dependencies:[h.mk,h.O5,h.tP,h.PC,Ue.l,Bt.m,Ht._,Dt.L,Ae.Nh5,ci,hi,fi,Xr,ya,wa,Ta,Ki,Pa,E.JV,E.O0],encapsulation:2}),n})();var xn=function(n){return n.NEW_PACKAGE="NEW_PACKAGE",n.EXTEND_PACKAGE="EXTEND_PACKAGE",n.UPGRADE_PACKAGE="UPGRADE_PACKAGE",n}(xn||{}),Je=b(54581),rr=b(66466);let Me=(()=>{class n extends Y.Q{getBusinessPackages(){this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesGet().subscribe(t=>{1===t.success?(this.packageList=t.data?.objs??[],this.successStatusObj()):this.errorStatusObj(t.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(){super(),this.businessPackageService=(0,e.f3M)(rr.Gr),this.packageList=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-base-business-packages"]],inputs:{businessPackageType:"businessPackageType",businessRegisterId:"businessRegisterId",businessRegisterHash:"businessRegisterHash"},features:[e.qOj],decls:0,vars:0,template:function(t,o){},encapsulation:2}),n})();const Fn=function(n,u){return{"text-slate-400":n,"text-success":u}},pn=function(n){return{"text-slate-400":n}};function Ba(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",6)(4,"div",7),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()(),e.TgZ(7,"div",8)(8,"div",9),e._uU(9),e.ALo(10,"formatMoney"),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"div",10),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()(),e.TgZ(15,"div",11)(16,"div",12)(17,"div",13),e._UZ(18,"lucide-icon",14),e.qZA(),e.TgZ(19,"div",15)(20,"span",16),e._uU(21),e.ALo(22,"formatMoney"),e.ALo(23,"mytranslate"),e.qZA()()(),e.TgZ(24,"div",17)(25,"div",18),e._UZ(26,"lucide-icon",19),e.qZA(),e.TgZ(27,"div",15)(28,"span",20),e._uU(29),e.ALo(30,"mytranslate"),e.qZA()()(),e.TgZ(31,"div",17)(32,"div",18),e._UZ(33,"lucide-icon",19),e.qZA(),e.TgZ(34,"div",15)(35,"span",20),e._uU(36),e.ALo(37,"mytranslate"),e.qZA()()(),e.TgZ(38,"div",17)(39,"div",18),e._UZ(40,"lucide-icon",19),e.qZA(),e.TgZ(41,"div",15)(42,"span",20),e._uU(43),e.ALo(44,"mytranslate"),e.qZA()()(),e.TgZ(45,"div",17)(46,"div",18),e._UZ(47,"lucide-icon",19),e.qZA(),e.TgZ(48,"div",15)(49,"span",20),e._uU(50),e.ALo(51,"mytranslate"),e.qZA()()()(),e.TgZ(52,"div",21)(53,"button",22),e.NdJ("click",function(){const p=e.CHM(t).$implicit,C=e.oxw();return e.KtG(C.choosePackage(p.id))}),e._uU(54),e.ALo(55,"mytranslate"),e.qZA()()()()}if(2&n){const t=u.$implicit;e.xp6(5),e.Oqu(e.lcZ(6,21,t.name)),e.xp6(4),e.hij(" ",e.lcZ(10,23,t.price)+" "+e.lcZ(11,25,"lang_auto_vnd_upper")," "),e.xp6(4),e.hij(" "," / "+e.lcZ(14,27,t.timeUnit)," "),e.xp6(8),e.hij(" ",e.lcZ(22,29,t.totalActiveStudentPerMonth)+" "+e.lcZ(23,31,"lang_core_active_students_per_month")," "),e.xp6(4),e.Q6J("ngClass",e.WLB(43,Fn,!t.supportToIntegrateToOwnSystem,t.supportToIntegrateToOwnSystem)),e.xp6(1),e.Q6J("name",t.supportToIntegrateToOwnSystem?"check":"x"),e.xp6(2),e.Q6J("ngClass",e.VKq(46,pn,!t.supportToIntegrateToOwnSystem)),e.xp6(1),e.hij(" ",e.lcZ(30,33,"lang_core_support_integration_with_existing_system_users")," "),e.xp6(3),e.Q6J("ngClass",e.WLB(48,Fn,!t.supportOwnDomain,t.supportOwnDomain)),e.xp6(1),e.Q6J("name",t.supportOwnDomain?"check":"x"),e.xp6(2),e.Q6J("ngClass",e.VKq(51,pn,!t.supportOwnDomain)),e.xp6(1),e.hij(" ",e.lcZ(37,35,"lang_core_support_custom_domain")," "),e.xp6(3),e.Q6J("ngClass",e.WLB(53,Fn,!t.supportTechnical,t.supportTechnical)),e.xp6(1),e.Q6J("name",t.supportTechnical?"check":"x"),e.xp6(2),e.Q6J("ngClass",e.VKq(56,pn,!t.supportTechnical)),e.xp6(1),e.hij(" ",e.lcZ(44,37,"lang_core_dedicated_technical_support_during_usage")," "),e.xp6(3),e.Q6J("ngClass",e.WLB(58,Fn,!t.supportAdvanceReport,t.supportAdvanceReport)),e.xp6(1),e.Q6J("name",t.supportAdvanceReport?"check":"x"),e.xp6(2),e.Q6J("ngClass",e.VKq(61,pn,!t.supportAdvanceReport)),e.xp6(1),e.hij(" ",e.lcZ(51,39,"lang_core_support_building_extended_analysis_reports")," "),e.xp6(4),e.hij(" ",e.lcZ(55,41,"lang_auth_use")," ")}}let Qn=(()=>{class n extends Y.Q{constructor(){super(...arguments),this.packageList=[],this.choosePackageEvent=new e.vpe}choosePackage(t){this.choosePackageEvent.emit(t)}}return n.\u0275fac=function(){let u;return function(o){return(u||(u=e.n5z(n)))(o||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["app-business-packages-package-box"]],inputs:{packageList:"packageList"},outputs:{choosePackageEvent:"choosePackageEvent"},features:[e.qOj],decls:7,vars:7,consts:[[1,"intro-y","text-center","text-2xl","font-medium"],[1,"grid","grid-cols-12","gap-5","mt-8"],["class","col-span-12 md:col-span-6 lg:col-span-4",4,"ngFor","ngForOf"],[1,"text-center","pt-6","font-medium",3,"innerHTML"],[1,"col-span-12","md:col-span-6","lg:col-span-4"],[1,"intro-y","box","flex-1","p-5","w-full"],[1,"flex","items-center"],[1,"text-xl","font-medium"],[1,"mt-8","flex","items-center"],[1,"font-semibold","text-2xl","mr-1"],[1,"text-slate-500"],[1,"mt-8","text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-4"],[1,"w-5","h-5","flex-none","mr-2"],["name","graduation-cap"],[1,"mt-0"],[1,"font-medium"],[1,"flex","mt-4"],[1,"w-5","h-5","flex-none","mr-2",3,"ngClass"],[3,"name"],[1,"font-medium",3,"ngClass"],[1,"mt-10"],["azt-track-service","business-packages-eJWG8rCsJ",1,"btn","btn-primary","w-full","px-4","py-3",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.ALo(2,"mytranslate"),e.qZA(),e.TgZ(3,"div",1),e.YNc(4,Ba,56,63,"div",2),e.qZA(),e._UZ(5,"div",3),e.ALo(6,"mytranslate")),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,3,"lang_auth_choose_package_to_use"),"\n"),e.xp6(3),e.Q6J("ngForOf",o.packageList),e.xp6(1),e.Q6J("innerHTML",e.lcZ(6,5,"lang_business_package_please_contact_us_if_you_have_any_questions"),e.oJD))},dependencies:[h.mk,h.sg,Ae.Nh5,E.JV,E.ho],encapsulation:2}),n})();function Ja(n,u){if(1&n&&e._UZ(0,"azt-loading-effect",2),2&n){const t=e.oxw();e.Q6J("currentStatusObj",t.statusObj)}}function Va(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"app-business-packages-package-box",3),e.NdJ("choosePackageEvent",function(l){e.CHM(t);const p=e.oxw();return e.KtG(p.buyBusinessPackage(l))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("packageList",t.packageList)}}let ar=(()=>{class n extends Me{buyBusinessPackage(t){const o="userRole=teacher&productType=business_package&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderBuyBusinessPackageGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),t,this.businessRegisterId,this.businessRegisterHash,o).subscribe(l=>{1===l.success?(window.location.href=l.data?.value??"",this.successStatusObj()):this.errorStatusObj(l.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getBusinessPackages()}constructor(t){super(),this.productOrderService=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36($t.pG))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-business-packages-buy-new-package"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"packageList","choosePackageEvent"]],template:function(t,o){if(1&t&&(e.YNc(0,Ja,1,1,"azt-loading-effect",0),e.YNc(1,Va,1,1,"ng-template",null,1,e.W1O)),2&t){const l=e.MAs(2);e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",l)}},dependencies:[h.O5,Ue.l,Qn],encapsulation:2}),n})(),Wa=(()=>{class n extends Me{buyBusinessPackage(){const t="userRole=teacher&productType=upgrade_package&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderExtendBusinessPackageGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),t).subscribe(o=>{1===o.success?(window.location.href=o.data?.value??"",this.successStatusObj()):this.errorStatusObj(o.message??"",!0)}))}ngOnInit(){if(super.ngOnInit(),!this.userService.isLogin())return this.redirectService.redirectLogin();this.buyBusinessPackage()}constructor(t,o,l){super(),this.userService=t,this.redirectService=o,this.productOrderService=l}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ne.U),e.Y36(We.z),e.Y36($t.pG))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-business-packages-extend-package"]],features:[e.qOj],decls:1,vars:1,consts:[[3,"currentStatusObj"]],template:function(t,o){1&t&&e._UZ(0,"azt-loading-effect",0),2&t&&e.Q6J("currentStatusObj",o.statusObj)},dependencies:[Ue.l],encapsulation:2}),n})();function zn(n,u){if(1&n&&e._UZ(0,"azt-loading-effect",2),2&n){const t=e.oxw();e.Q6J("currentStatusObj",t.statusObj)}}function sr(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"app-business-packages-package-box",3),e.NdJ("choosePackageEvent",function(l){e.CHM(t);const p=e.oxw();return e.KtG(p.buyBusinessPackage(l))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("packageList",t.packageList)}}let An=(()=>{class n extends Me{buyBusinessPackage(t){const o="userRole=teacher&productType=upgrade_package&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderUpgradeBusinessPackageGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),t,o).subscribe(l=>{1===l.success?(window.location.href=l.data?.value??"",this.successStatusObj()):this.errorStatusObj(l.message??"",!0)}))}ngOnInit(){if(super.ngOnInit(),!this.userService.isLogin())return this.redirectService.redirectLogin();this.getBusinessPackages()}constructor(t,o,l){super(),this.userService=t,this.redirectService=o,this.productOrderService=l}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ne.U),e.Y36(We.z),e.Y36($t.pG))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-business-packages-upgrade-package"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"packageList","choosePackageEvent"]],template:function(t,o){if(1&t&&(e.YNc(0,zn,1,1,"azt-loading-effect",0),e.YNc(1,sr,1,1,"ng-template",null,1,e.W1O)),2&t){const l=e.MAs(2);e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",l)}},dependencies:[h.O5,Ue.l,Qn],encapsulation:2}),n})();function Bn(n,u){if(1&n&&(e.ynx(0),e._UZ(1,"app-business-packages-buy-new-package",2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("businessPackageType",t.businessPackageType)("businessRegisterId",t.businessRegisterId)("businessRegisterHash",t.businessRegisterHash)}}function Ya(n,u){if(1&n&&(e.ynx(0),e._UZ(1,"app-business-packages-extend-package",2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("businessPackageType",t.businessPackageType)("businessRegisterId",t.businessRegisterId)("businessRegisterHash",t.businessRegisterHash)}}function oo(n,u){if(1&n&&(e.ynx(0),e._UZ(1,"app-business-packages-upgrade-package",2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("businessPackageType",t.businessPackageType)("businessRegisterId",t.businessRegisterId)("businessRegisterHash",t.businessRegisterHash)}}let cr=(()=>{class n extends Y.Q{ngOnInit(){super.ngOnInit(),this.businessPackageType=this.commonService.getEnumTypeWithDefault(xn,this.commonService.getMyParam(this.activeRoute,"businessPackageType")?.toUpperCase()??"",xn.NEW_PACKAGE),this.businessRegisterId=Number(this.commonService.getMyParam(this.activeRoute,"businessRegisterId")),this.businessRegisterHash=String(this.commonService.getMyParam(this.activeRoute,"businessRegisterHash"))}constructor(t){super(),this.activeRoute=t,this.allBusinessPackageType=xn,this.businessPackageType=xn.NEW_PACKAGE,this.businessRegisterId=0,this.businessRegisterHash=""}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_e.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-business-packages"]],features:[e.qOj],decls:4,vars:5,consts:[[3,"maxWidth","contentBoxClass"],[4,"ngIf"],[3,"businessPackageType","businessRegisterId","businessRegisterHash"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout",0),e.YNc(1,Bn,2,3,"ng-container",1),e.YNc(2,Ya,2,3,"ng-container",1),e.YNc(3,oo,2,3,"ng-container",1),e.qZA()),2&t&&(e.Q6J("maxWidth","950px")("contentBoxClass","bg-transparent shadow-none"),e.xp6(1),e.Q6J("ngIf",o.businessPackageType==o.allBusinessPackageType.NEW_PACKAGE),e.xp6(1),e.Q6J("ngIf",o.businessPackageType==o.allBusinessPackageType.EXTEND_PACKAGE),e.xp6(1),e.Q6J("ngIf",o.businessPackageType==o.allBusinessPackageType.UPGRADE_PACKAGE))},dependencies:[h.O5,Je.J,ar,Wa,An],encapsulation:2}),n})();var on=b(18699);function Ha(n,u){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_email")," "))}function ro(n,u){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang")," "))}function lr(n,u){if(1&n&&(e.TgZ(0,"div",17),e.YNc(1,Ha,3,3,"span",2),e.YNc(2,ro,3,3,"span",2),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.email.errors.email||t.form.controls.email.errors.pattern)}}function Ga(n,u){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",18),e._UZ(2,"path",19)(3,"circle",20),e.qZA()())}function Ka(n,u){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",18),e._UZ(2,"path",21)(3,"path",22)(4,"path",23)(5,"line",24),e.qZA()())}function vc(n,u){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function ur(n,u){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,vc,3,3,"span",2),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.required)}}function $a(n,u){1&n&&(e.TgZ(0,"span",26),e._UZ(1,"azt-loading-ui"),e.qZA())}function Xa(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"form",7)(2,"div",8),e._UZ(3,"input",9),e.ALo(4,"mytranslate"),e.YNc(5,lr,3,2,"div",10),e.qZA(),e.TgZ(6,"div",8)(7,"div",11),e._UZ(8,"input",12),e.ALo(9,"mytranslate"),e.TgZ(10,"button",13),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.togglePassword())}),e.YNc(11,Ga,4,0,"span",2),e.YNc(12,Ka,6,0,"span",2),e.qZA()(),e.YNc(13,ur,2,1,"div",14),e.qZA(),e.TgZ(14,"div",3)(15,"button",15),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.confirmChangeEmail())}),e.YNc(16,$a,2,0,"span",16),e._uU(17),e.ALo(18,"mytranslate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(2),e.s9C("placeholder",e.lcZ(4,11,"lang_auto_nhap_email_moi")),e.xp6(2),e.Q6J("ngIf",t.form.controls.email.errors&&t.form.controls.email.dirty),e.xp6(3),e.s9C("placeholder",e.lcZ(9,13,"lang_auto_mat_khau")),e.Q6J("type",t.showPassword?"text":"password"),e.xp6(3),e.Q6J("ngIf",t.showPassword),e.xp6(1),e.Q6J("ngIf",!t.showPassword),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(2),e.Q6J("disabled",t.statusObj.loading||t.form.invalid),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(18,15,"lang_button_confirm")," ")}}function es(n,u){if(1&n&&(e.TgZ(0,"div")(1,"div",27)(2,"div",28)(3,"p",29),e._uU(4),e.ALo(5,"mytranslate"),e.TgZ(6,"b"),e._uU(7),e.qZA(),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,3,"lang_auto_vui_long_kiem_tra_email"),": "),e.xp6(3),e.Oqu(t.oldEmail),e.xp6(1),e.hij(" ",e.lcZ(9,5,"lang_auto_va_an_vao_duong_link_he_thong_da_gui_de_xac_thuc_hoan_tat_viec_doi_email")," ")}}let ts=(()=>{class n extends Y.Q{confirmChangeEmail(){this.form.valid&&(this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoChangeEmailByPasswordPost({newEmail:this.form.controls.email.value,password:this.form.controls.password.value}).subscribe(o=>{if(1==o.success){let l=o.data?.value;if(l){this.successStatusObj("lang_auth_email_changed_successfully",!0);let p=this.userService.getUserObj();p.email=l,this.userService.saveUserObj(p),this.localStorageObject.clearAllCache(),this.backToRedirect()}else this.errorStatusObj("lang_auto_vui_long_nhap_email",!0)}else this.errorStatusObj(o.message??"",!0)})))}backToRedirect(){let t=this.getMyQueryParam("return_url");t&&this.myNavigation(t)}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_change_mail_title",description:"lang_cms_auth_change_mail_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,o,l){super(),this.userInfoService=t,this.localStorageObject=o,this.userService=l,this.step=1,this.oldEmail="",this.showPassword=!1,this.form=new v.cw({email:new v.NI("",{nonNullable:!0,validators:[v.kI.required,v.kI.email,v.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),password:new v.NI("",{nonNullable:!0,validators:[v.kI.required]})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q.$C),e.Y36(on.y),e.Y36(Ne.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-account"]],features:[e.qOj],decls:13,vars:8,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[4,"ngIf"],[1,"mt-3"],["azt-track-service","change_email-Z7MEUGEDic",1,"btn-text-primary","inline-flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c450","","points","15 18 9 12 15 6"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","autocomplete","new-email","name","email","formControlName","email",1,"form-control","py-3","px-4",3,"placeholder"],["class","text-xs text-danger font-medium mt-1",4,"ngIf"],[2,"position","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["azt-track-service","change_email-O0Vqz8bXH",1,"btn","btn-primary","py-3","px-4","w-full",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-xs","text-danger","font-medium","mt-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"w-4","h-4","inline-block","mr-2"],[1,"row"],[1,"col-md-12"],[1,"text-center"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout")(1,"h2",0),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",1),e.YNc(5,Xa,19,17,"div",2),e.YNc(6,es,10,7,"div",2),e.TgZ(7,"div",3)(8,"a",4),e.NdJ("click",function(){return o.backToRedirect()}),e.O4$(),e.TgZ(9,"svg",5),e._UZ(10,"polyline",6),e.qZA(),e._uU(11),e.ALo(12,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,4,"lang_auto_doi_email_moi")," "),e.xp6(3),e.Q6J("ngIf",1==o.step),e.xp6(1),e.Q6J("ngIf",!o.statusObj.loading&&2==o.step),e.xp6(5),e.hij(" ",e.lcZ(12,6,"lang_auto_quay_lai")," "))},dependencies:[h.O5,v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,fe.M,se.n,Je.J,E.JV],encapsulation:2}),n})(),ns=(()=>{class n extends Y.Q{get returnUrl(){return this.commonService.getMyQueryParam("return_url")??""}get confirm_type(){return this.commonService.getMyQueryParam("confirm_type")??""}ngOnInit(){this.userInfoService.apiUserInfoGetFirebaseConfigGet().subscribe(t=>{if(1==t.success){let o=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type="+this.confirm_type+"&app_name="+t?.data?.app;window.location.href=o.toString()}else this.showErrorSnack("lang_auto__blank_co_loi_khi_kiem_tra_dich_vu")})}constructor(t){super(),this.userInfoService=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q.$C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-checking-service"]],features:[e.qOj],decls:5,vars:3,consts:[[1,"mt-5","text-center"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(t,o){1&t&&(e.TgZ(0,"h2",0)(1,"span",1),e._UZ(2,"azt-loading-ui"),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_auto_dang_kiem_tra_dich_vu_doing"),"\n"))},dependencies:[se.n,E.JV],encapsulation:2}),n})();function Jn(n,u){if(1&n&&e._UZ(0,"azt-loading-effect",18),2&n){const t=e.oxw();e.Q6J("currentStatusObj",t.statusObj)}}let is=(()=>{class n extends Y.Q{chooseRegisterStudent(){let t=this.commonService.getMyQueryParam("return_url");t&&(t.includes("/vi")||t.includes("/en"))&&(t=t.substring(3)),this.myNavigation(t||"/student/classroom/0")}chooseRegisterTeacher(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(t=>{if(1==t.success){let o=this.commonService.getMyQueryParam("return_url");o&&(o.includes("/vi")||o.includes("/en"))&&(o=o.substring(3)),this.myNavigation(o||"/admin/dashboard")}else this.errorStatusObj(t.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(t,o){super(),this.userInfoService=t,this.redirectByRoleService=o}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q.$C),e.Y36(yt.C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-download-answer-sheet"]],features:[e.qOj],decls:30,vars:16,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"row","py-5"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],["alt","logo",2,"width","180px","margin","auto",3,"src"],[1,"p-0","mt-2"],[1,"card-body"],[1,"row",2,"justify-content","space-around"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","choose-role-MbQizfXGA-",1,"col-sm-4","border-card","mb-3","mt-3",3,"click"],[1,"df-logo"],["xmlns","http://www.w3.org/2000/svg","width","36","height","36","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M22 10v6M2 10l10-5 10 5-10 5z"],["d","M6 12v5c3 3 9 3 12 0v-5"],["azt-track-service","choose-role-JGjqPMEs5T",1,"col-sm-4","border-card","mb-3",3,"click"],["width","36px","height","45px",1,"mb-3",3,"src"],[3,"currentStatusObj"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.ALo(7,"getLinkLogo"),e.TgZ(8,"h3",7),e._uU(9),e.ALo(10,"mytranslate"),e.qZA()(),e.TgZ(11,"div",8)(12,"div",9),e.YNc(13,Jn,1,1,"azt-loading-effect",10),e.TgZ(14,"div",11),e.NdJ("click",function(){return o.chooseRegisterStudent()}),e.TgZ(15,"div",12),e.O4$(),e.TgZ(16,"svg",13),e._UZ(17,"path",14)(18,"path",15),e.qZA(),e.kcU(),e.TgZ(19,"p"),e._uU(20),e.ALo(21,"mytranslate"),e.qZA()()(),e.TgZ(22,"div",16),e.NdJ("click",function(){return o.chooseRegisterTeacher()}),e.TgZ(23,"div",12),e._UZ(24,"img",17),e.ALo(25,"convertCdnLinkOfGitHub"),e.TgZ(26,"p"),e._uU(27),e.ALo(28,"mytranslate"),e.qZA()()()()()()(),e._UZ(29,"div",2),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("src",e.lcZ(7,6,"bigLogo"),e.LSH),e.xp6(3),e.Oqu(e.lcZ(10,8,"lang_auto_chon_vai_tro")),e.xp6(4),e.Q6J("ngIf",o.statusObj.loading),e.xp6(7),e.Oqu(e.lcZ(21,10,"lang_auto_toi_la_hoc_sinh")),e.xp6(4),e.Q6J("src",e.lcZ(25,12,"images/teacher.png"),e.LSH),e.xp6(3),e.Oqu(e.lcZ(28,14,"lang_auto_toi_la_giao_vien")))},dependencies:[h.O5,Ue.l,E.JV,E.Bo,E.LI],styles:[".select-style[_ngcontent-%COMP%]{color:#868686!important}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}.select-style[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.select-style[_ngcontent-%COMP%]:hover, .select-style-active[_ngcontent-%COMP%]{color:#2361ae!important}.df-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.register--login[_ngcontent-%COMP%]{width:88px;height:88px}.two-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:80%;height:100vh;margin:auto}.register-button[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center}.btn-max-width[_ngcontent-%COMP%]{width:100%;padding-top:1.25rem;padding-bottom:1.25rem;font-size:1.5rem}.responsive__text[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.btn-outline-primary[_ngcontent-%COMP%]{color:#2361ae!important;border-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]{color:#fff!important;border-color:#2361ae!important;background-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b818e!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#2361ae!important;border-color:#2361ae!important;background-color:#0eacbe26}.btn-border-fix[_ngcontent-%COMP%]{border-radius:10px!important}.border-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid hsla(0,0%,86.3%,.8);border-radius:8px;cursor:pointer;padding:12px;align-items:center;text-align:center}.border-card[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 20px #00000012,-10px -10px 20px #fffc}.button-color[_ngcontent-%COMP%]{background-color:#2361ae!important;color:#fff!important}"]}),n})();function os(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13),e._uU(2),e.ALo(3,"mytranslate"),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.ALo(6,"mytranslate"),e.ALo(7,"mytranslate"),e.qZA(),e.TgZ(8,"div",14)(9,"button",15),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.ignoreRequest())}),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"button",16),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.confirmPassword())}),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()()()}2&n&&(e.xp6(2),e.xDo(" ",e.lcZ(3,7,"lang_auto_ban_vua_yeu_cau_thay_doi_mat_khau_cho_tai_khoan_tren_azota_hay_bam_nut"),' "',e.lcZ(4,9,"lang_auto_xac_nhan"),'" ',e.lcZ(5,11,"lang_auto_ben_duoi_neu_do_la_ban_neu_khong_vui_long_bam_nut"),' "',e.lcZ(6,13,"lang_auto_huy"),'" ',e.lcZ(7,15,"lang_auto_de_huy_bo_yeu_cau_nay")," "),e.xp6(8),e.hij(" ",e.lcZ(11,17,"lang_cms_common_close_btn")," "),e.xp6(3),e.hij(" ",e.lcZ(14,19,"lang_cms_common_confirm_btn")," "))}function rs(n,u){1&n&&(e.TgZ(0,"div")(1,"div",17)(2,"span",18),e._UZ(3,"azt-loading-ui"),e.qZA(),e.TgZ(4,"span",19),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()()),2&n&&(e.xp6(5),e.hij("",e.lcZ(6,1,"lang_cms_common_loading"),"..."))}const ao=function(n){return[n]},as=function(){return{user_click:"true"}};function ss(n,u){1&n&&(e.TgZ(0,"div",22)(1,"div",23),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",24)(5,"div",25)(6,"a",26),e.ALo(7,"navigationLocalize"),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,4,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(10,ao,e.lcZ(7,6,"/auth/login")))("queryParams",e.DdM(12,as)),e.xp6(2),e.Oqu(e.lcZ(9,8,"lang_auto_dang_nhap_tai_khoan")))}function cs(n,u){if(1&n&&(e.TgZ(0,"div",22)(1,"div",27),e._uU(2),e.ALo(3,"mytranslate"),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.lnq("",e.lcZ(3,3,"lang_auto_da_co_loi_trong_qua_trinh_doi_mat_khau"),": ",e.lcZ(4,5,t.hasErrorMessage),"",e.lcZ(5,7,"lang_auto__vui_long_thu_lai_sau"),"")}}function ls(n,u){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ss,10,13,"div",20),e.YNc(2,cs,6,9,"ng-template",null,21,e.W1O),e.qZA()),2&n){const t=e.MAs(3),o=e.oxw();e.xp6(1),e.Q6J("ngIf",!o.hasErrorMessage)("ngIfElse",t)}}let us=(()=>{class n extends Y.Q{ignoreRequest(){this.redirectByRoleService.redirectLoginByRole("")}confirmPassword(){this.initStatusObj();var o={secret:this.commonService.getMyQueryParam("secret")??""};this.step=2,this.smsService.apiSmsConfirmPassFromEmailPost(o).subscribe(l=>{1==l.success?this.successStatusObj():(this.stopStatusObj(),this.hasErrorMessage=l.message??"lang_core_invalid_data")})}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,o){super(),this.redirectByRoleService=t,this.smsService=o,this.hasErrorMessage="",this.step=1}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(yt.C),e.Y36(Q.tr))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password-email"]],features:[e.qOj],decls:18,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg","m-2"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-2"],[1,"text-center","mt-1"],[1,"h5"],[1,"card-body","mt-2"],["class","col-md-12",4,"ngIf"],[4,"ngIf"],[1,"col-md-12"],[1,"sms-info","alert","alert-warning","text-justify","m-2"],[1,"flex","mt-3","mb-2",2,"justify-content","space-between"],["azt-track-service","confirm-forgot-password-email-d6tRS3U8df","mat-raised-button","",2,"width","45%","margin-right","15px",3,"click"],["azt-track-service","confirm-forgot-password-email-DdeeGBP0V7","mat-raised-button","","color","warn",2,"width","45%",3,"click"],[1,"d-flex","justify-content-center"],[1,"w-4","h-4","inline-block"],[1,"sr-only","ml-2"],["class","col-sm-12",4,"ngIf","ngIfElse"],["errorChangePass",""],[1,"col-sm-12"],[1,"sms-info","alert","alert-success"],[1,"text-center","mt-3"],[1,"mb-1"],["azt-track-service","confirm-forgot-password-email-h_HUPkjx4M",3,"routerLink","queryParams"],[1,"sms-info","alert","alert-danger"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.ALo(6,"getLinkLogo"),e.TgZ(7,"div",6)(8,"div",7)(9,"span",8),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()(),e.TgZ(12,"div",9)(13,"div"),e.YNc(14,os,15,21,"div",10),e.qZA(),e.YNc(15,rs,7,3,"div",11),e.YNc(16,ls,4,2,"div",11),e.qZA()()(),e._UZ(17,"div",3),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("src",e.lcZ(6,5,"bigLogo"),e.LSH),e.xp6(5),e.Oqu(e.lcZ(11,7,"lang_auto_doi_mat_khau_moi")),e.xp6(4),e.Q6J("ngIf",1==o.step),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!o.statusObj.loading&&2==o.step))},dependencies:[_e.rH,h.O5,gn.lW,se.n,E.Jy,E.JV,E.LI],styles:['#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),n})(),dr=(()=>{class n{get windowRef(){return window}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var ds=b(76024);function _s(n,u){1&n&&(e.TgZ(0,"div",21),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function ps(n,u){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function so(n,u){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function hs(n,u){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,ps,3,3,"span",23),e.YNc(2,so,3,3,"span",23),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.minlength)}}function co(n,u){1&n&&(e.TgZ(0,"span",24),e._UZ(1,"azt-loading-ui"),e.qZA())}let ms=(()=>{class n extends Y.Q{handleClickLogout(){"forgot_password"==this.confirmType||"change_phone"==this.confirmType?this.redirectByRoleService.redirectLoginByRole(""):(this.userService.logout(),this.redirectService.redirectSimpleLogin())}togglePassword(){this.showPassword=!this.showPassword}handleBackToLink(){let t=this.getMyQueryParam("return_url")??"/auth/account-setting/0/0";this.commonService.myNavigation(t)}handleUpdatePhoneNumber(){if(this.form.invalid)return this.form.markAllAsTouched();this.initStatusObj(),this.userInfoService.apiUserInfoChangePhoneByPasswordPost({newPhone:this.form.controls.newPhone.value,password:this.form.controls.password.value}).subscribe(o=>{if(1==o.success){const l=o.data?.value;if(l){this.successStatusObj("lang_auto_cap_nhat_so_dien_thoai_thanh_cong",!0);let p=this.userService.getUserObj();p.phone=l,this.userService.saveUserObj(p),this.localStorageObject.clearAllCache(),this.handleBackToLink()}}else this.errorStatusObj(o.message??"",!0)})}getConfirmType(){return this.commonService.getMyQueryParam("confirm_type")??""}getTranslateMetaData(t){switch(t){case"forgot_password":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"});break;case"change_phone":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_change_phone_title",description:"lang_cms_auth_confirm_change_phone_description",image:"lang_cms_test_image"});break;default:this.commonService.translateMetaData({title:"lang_cms_auth_confirm_confirm_phone_title",description:"lang_cms_auth_confirm_confirm_phone_description",image:"lang_cms_test_image"})}}getData(){"forgot_password"!==this.confirmType&&this.userInfoService.apiUserInfoInfoGet().subscribe(t=>{1==t.success?1==t?.new_user?.isVerifyPhone?"change_phone"!=this.confirmType&&this.redirectByRoleService.redirectLoginByRole(""):t?.new_user?.phone&&t?.new_user?.phone.length<=10?this.form.controls.newPhone.setValue(""):(this.form.controls.newPhone.setValue(""),console.log("enter phone plz")):this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(o=>{this.showErrorSnack(o+(t.message?" | "+t.message:""))})})}ngOnInit(){super.ngOnInit(),this.confirmType=this.getConfirmType(),this.getData(),this.getTranslateMetaData(this.confirmType)}constructor(t,o,l,p,C,N){super(),this.redirectByRoleService=t,this.userService=o,this.userInfoService=l,this.redirectService=p,this.browserStorageService=C,this.localStorageObject=N,this.confirmType="forgot_password",this.showPassword=!1,this.form=new v.cw({newPhone:new v.NI("",{nonNullable:!0,validators:[v.kI.required,v.kI.minLength(10),v.kI.maxLength(10),v.kI.pattern(/^[0-9]*$/)]}),password:new v.NI("",{nonNullable:!0,validators:[v.kI.required]})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(yt.C),e.Y36(Ne.U),e.Y36(Q.$C),e.Y36(We.z),e.Y36(Jt.n),e.Y36(on.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-account"]],features:[e._Bn([dr]),e.qOj],decls:32,vars:24,consts:[[1,"azt-confirm-account"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"mt-2"],[3,"formGroup"],[1,"form-group"],[1,"col-sm-12"],[1,"azt-form-group"],["id","phoneInput","type","text","appOnlyNumber","","formControlName","newPhone","name","phone",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-xs text-danger mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","confirm_forgot_password-Be5qkC21Px",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"lucide","dark:text-slate-500","w-6","h-6","inline-block"],[3,"name"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"btn","btn-primary","px-4","py-3","w-full","mt-4",3,"disabled","click"],["class","w-4 h-4 mr-2 inline-block lucide",4,"ngIf"],[1,"mt-4"],["azt-track-service","confirm_account-IlNNect4l5",1,"btn-text-primary","inline-flex","items-center",3,"click"],[1,"w-4","h-4","mr-1","inline-block","lucide"],["name","chevron-left"],[1,"text-xs","text-danger","mt-2","font-medium"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[1,"w-4","h-4","mr-2","inline-block","lucide"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout")(1,"div",0)(2,"h2",1),e._uU(3),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"div",2)(7,"form",3)(8,"div",4)(9,"div",5)(10,"div",6),e._UZ(11,"input",7),e.ALo(12,"mytranslate"),e.YNc(13,_s,3,3,"div",8),e.qZA(),e.TgZ(14,"div",9),e._UZ(15,"input",10),e.ALo(16,"mytranslate"),e.TgZ(17,"button",11),e.NdJ("click",function(){return o.togglePassword()}),e.TgZ(18,"span",12),e._UZ(19,"lucide-icon",13),e.qZA()(),e.YNc(20,hs,3,2,"div",14),e.qZA(),e.TgZ(21,"button",15),e.NdJ("click",function(){return o.handleUpdatePhoneNumber()}),e.YNc(22,co,2,0,"span",16),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()()()(),e._UZ(25,"hr"),e.TgZ(26,"div",17)(27,"a",18),e.NdJ("click",function(){return o.handleBackToLink()}),e.TgZ(28,"span",19),e._UZ(29,"lucide-icon",20),e.qZA(),e._uU(30),e.ALo(31,"mytranslate"),e.qZA()()()()()),2&t&&(e.xp6(3),e.hij(" ","change_phone"==o.confirmType?e.lcZ(4,12,"lang_auto_doi_so_diem_thoai_moi"):e.lcZ(5,14,"lang_auto_xac_thu_so_diem_thoai_cua_ban")," "),e.xp6(4),e.Q6J("formGroup",o.form),e.xp6(4),e.s9C("placeholder",e.lcZ(12,16,"lang_auto_nhap_so_dien_thoai_moi")),e.xp6(2),e.Q6J("ngIf",(o.form.controls.newPhone.dirty||o.form.controls.newPhone.touched)&&o.form.controls.newPhone.errors),e.xp6(2),e.s9C("type",o.showPassword?"text":"password"),e.s9C("placeholder",e.lcZ(16,18,"lang_auto_mat_khau")),e.xp6(4),e.Q6J("name",o.showPassword?"eye":"eye-off"),e.xp6(1),e.Q6J("ngIf",o.form.controls.password.errors&&(o.form.controls.password.dirty||o.form.controls.password.touched)),e.xp6(1),e.Q6J("disabled",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(24,20,"lang_cms_common_confirm_btn")," "),e.xp6(7),e.hij(" ",e.lcZ(31,22,"lang_auto_quay_lai")," "))},dependencies:[h.O5,v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,ds.Y,fe.M,se.n,Je.J,Ae.Nh5,E.JV],encapsulation:2}),n})();var lo=b(6990),Wt=b(33328),wn=b(17679);function Vn(n,u){if(1&n&&e._UZ(0,"azt-loading-effect",2),2&n){const t=e.oxw();e.Q6J("currentStatusObj",t.statusObj)}}function uo(n,u){1&n&&(e.TgZ(0,"h2",7),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_quen_mat_khau")," "))}function gs(n,u){1&n&&(e.TgZ(0,"div",32)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function _o(n,u){if(1&n&&(e.TgZ(0,"div",32),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.msgError)," ")}}function fs(n,u){1&n&&(e.TgZ(0,"span",33),e._UZ(1,"lucide-icon",34),e.qZA())}function rn(n,u){1&n&&(e.TgZ(0,"span",33),e._UZ(1,"lucide-icon",35),e.qZA())}function po(n,u){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function vs(n,u){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function ys(n,u){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,po,3,3,"span",6),e.YNc(2,vs,3,3,"span",6),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.minlength)}}function bs(n,u){1&n&&(e.TgZ(0,"span",25),e._UZ(1,"azt-loading-ui"),e.qZA())}const Ft=function(n){return[n]},_r=function(n){return{return_url:n}},hn=function(){return{user_click:"true"}};function xs(n,u){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"div",9)(3,"input",10),e.NdJ("input",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.isInvalidUserPhoneOrEmail(l.form.controls.emailOrPhone.value))}),e.ALo(4,"mytranslate"),e.qZA(),e.YNc(5,gs,4,3,"div",11),e.YNc(6,_o,3,3,"div",11),e.qZA(),e.TgZ(7,"div",12),e._UZ(8,"input",13),e.ALo(9,"mytranslate"),e.TgZ(10,"button",14),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.togglePassword())}),e.YNc(11,fs,2,0,"span",15),e.YNc(12,rn,2,0,"span",15),e.qZA(),e.YNc(13,ys,3,2,"div",11),e.qZA()(),e.TgZ(14,"div",16)(15,"a",17),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()(),e.TgZ(18,"div",18)(19,"button",19),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.changePassword())}),e.YNc(20,bs,2,0,"span",20),e._uU(21),e.ALo(22,"mytranslate"),e.qZA()(),e.TgZ(23,"div",21)(24,"span",22),e._uU(25),e.ALo(26,"mytranslate"),e.qZA()(),e.TgZ(27,"div",23)(28,"button",24),e.ALo(29,"navigationLocalize"),e.TgZ(30,"span",25),e._UZ(31,"lucide-icon",26),e.qZA(),e.TgZ(32,"span",27),e._uU(33),e.ALo(34,"mytranslate"),e.qZA()()(),e.TgZ(35,"div",28)(36,"a",29),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.removeKeyStorage())}),e.ALo(37,"navigationLocalize"),e.TgZ(38,"span",30),e._UZ(39,"lucide-icon",31),e.qZA(),e._uU(40),e.ALo(41,"mytranslate"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(3),e.s9C("placeholder",e.lcZ(4,19,"lang_auto_email_hoac_so_dien_thoai")),e.xp6(2),e.Q6J("ngIf",t.form.controls.emailOrPhone.errors&&(t.form.controls.emailOrPhone.dirty||t.form.controls.emailOrPhone.touched)&&!t.msgError),e.xp6(1),e.Q6J("ngIf",t.msgError),e.xp6(2),e.s9C("type",t.showPassword?"text":"password"),e.s9C("placeholder",e.lcZ(9,21,"lang_auto_mat_khau_moi")),e.xp6(3),e.Q6J("ngIf",t.showPassword),e.xp6(1),e.Q6J("ngIf",!t.showPassword),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(3),e.hij(" ",e.lcZ(17,23,"lang_auto_huong_dan_doi_mat_khau_tren_azota")," "),e.xp6(3),e.Q6J("disabled",t.form.invalid),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(22,25,"lang_auto_tiep_tuc")," "),e.xp6(4),e.hij(" ",e.lcZ(26,27,"lang_auto_hoac")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(37,Ft,e.lcZ(29,29,"/auth/confirm_forgot_password_qr")))("queryParams",e.VKq(39,_r,t.backLink)),e.xp6(5),e.hij(" ",e.lcZ(34,31,"lang_auto_su_dung_ma_qr_quen_mat_khau")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(41,Ft,e.lcZ(37,33,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(43,hn)),e.xp6(4),e.hij(" ",e.lcZ(41,35,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function ho(n,u){if(1&n&&(e.TgZ(0,"div",44)(1,"a",45),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(1),e.uIk("href","sms:"+t.phoneSend+(t.isCheckIos?"&":"?")+"body=MK "+(null==t.responseChangePass?null:t.responseChangePass.otp),e.LSH),e.xp6(1),e.hij(" ",e.lcZ(3,2,"lang_auto__click_vao_day_de_gui_ngay__brackets")," ")}}function As(n,u){1&n&&(e.TgZ(0,"div",44),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_sau_khi_gui_tin_nhan_vui_long_bam_nut_ben_duoi_de_tiep_tuc")," "))}function mo(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(3);return e.KtG(l.changeStepByNext())}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_tiep_tuc")," "))}function ws(n,u){if(1&n&&(e.TgZ(0,"div",47)(1,"span",48),e._UZ(2,"azt-loading-ui"),e.qZA(),e.TgZ(3,"div",47),e._uU(4),e.qZA(),e.TgZ(5,"div",49)(6,"div",50)(7,"span"),e._uU(8),e.ALo(9,"mytranslate"),e.TgZ(10,"b"),e._uU(11),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"span",51),e._uU(14),e.qZA()()()()),2&n){const t=e.oxw(3);e.xp6(4),e.Oqu(t.currentMessage),e.xp6(4),e.hij(" ",e.lcZ(9,5,"lang_auth_note_send_otp_password")+" "," "),e.xp6(3),e.Oqu(t.form.controls.emailOrPhone.value),e.xp6(1),e.hij(" ",": "," "),e.xp6(2),e.hij(" ",t.displayTime," ")}}function go(n,u){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",36)(2,"div",27),e._uU(3),e.ALo(4,"mytranslate"),e.TgZ(5,"strong"),e._uU(6),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.TgZ(9,"div",37)(10,"strong"),e._uU(11),e.qZA(),e._uU(12),e.ALo(13,"mytranslate"),e.TgZ(14,"strong"),e._uU(15),e.qZA()(),e.YNc(16,ho,4,4,"div",38),e.TgZ(17,"div",39),e._uU(18),e.ALo(19,"mytranslate"),e.qZA(),e.YNc(20,As,3,3,"div",38),e.TgZ(21,"div",40),e.YNc(22,mo,3,3,"button",41),e.YNc(23,ws,15,7,"div",42),e.qZA()(),e.TgZ(24,"div",28)(25,"a",43),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.removeKeyStorage())}),e.ALo(26,"navigationLocalize"),e.TgZ(27,"span",30),e._UZ(28,"lucide-icon",31),e.qZA(),e._uU(29),e.ALo(30,"mytranslate"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,14,"lang_auto_thong_tin_mat_khau_moi_cua_ban_da_duoc_ghi_nhan_de_kich_hoat_mat_khau_vua_tao_vui_long_su_dung_so_dien_thoai")," "),e.xp6(3),e.Oqu(t.form.controls.emailOrPhone.value),e.xp6(1),e.hij(" ",e.lcZ(8,16,"lang_auto_va_soan_tin_nhan"),": "),e.xp6(4),e.hij("MK ",null==t.responseChangePass?null:t.responseChangePass.otp,""),e.xp6(1),e.hij(" ",e.lcZ(13,18,"lang_auto_gui")," "),e.xp6(3),e.Oqu(t.phoneSend),e.xp6(1),e.Q6J("ngIf",t.isMobileDevice),e.xp6(2),e.hij("(",e.lcZ(19,20,"lang_auto_cuoc_phi_tin_nhan_duoc_tinh_theo_gia_cuoc_phi_thong_thuong_cua_nha_mang"),")"),e.xp6(2),e.Q6J("ngIf",2===t.step),e.xp6(2),e.Q6J("ngIf",2==t.step),e.xp6(1),e.Q6J("ngIf",3===t.step),e.xp6(2),e.Q6J("routerLink",e.VKq(26,Ft,e.lcZ(26,22,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(28,hn)),e.xp6(4),e.hij(" ",e.lcZ(30,24,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function fo(n,u){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",52)(2,"div",53),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",54)(6,"a",55),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.removeKeyStorage())}),e.ALo(7,"navigationLocalize"),e.TgZ(8,"span",30),e._UZ(9,"lucide-icon",31),e.qZA(),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,4,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(10,Ft,e.lcZ(7,6,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(12,hn)),e.xp6(4),e.hij(" ",e.lcZ(11,8,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Cs(n,u){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",36)(2,"div",47)(3,"span",56),e._UZ(4,"lucide-icon",57),e.qZA()(),e.TgZ(5,"div",58),e._uU(6),e.ALo(7,"mytranslate"),e.qZA(),e.TgZ(8,"div",59),e._uU(9),e.ALo(10,"mytranslate"),e.TgZ(11,"b"),e._uU(12),e.qZA(),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"div",54)(16,"div",60)(17,"a",61),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.removeKeyStorage())}),e.ALo(18,"navigationLocalize"),e.TgZ(19,"span",30),e._UZ(20,"lucide-icon",31),e.qZA(),e._uU(21),e.ALo(22,"mytranslate"),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(6),e.hij(" ",e.lcZ(7,7,"lang_auto_kiem_tra_email_cua_ban")," "),e.xp6(3),e.hij(" ",e.lcZ(10,9,"lang_auto_he_thong_da_gui_email_toi_dia_chi")," "),e.xp6(3),e.Oqu(t.form.controls.emailOrPhone.value),e.xp6(1),e.hij(" ",e.lcZ(14,11,"lang_auto__vui_long_kiem_tra_email_va_an_vao_duong_link_xac_nhan_de_viec_thay_doi_mat_khau_thanh_cong")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(17,Ft,e.lcZ(18,13,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(19,hn)),e.xp6(4),e.hij(" ",e.lcZ(22,15,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Cn(n,u){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",62)(2,"div",47)(3,"span",56),e._UZ(4,"lucide-icon",63),e.qZA()(),e.TgZ(5,"div",58),e._uU(6),e.ALo(7,"mytranslate"),e.qZA(),e.TgZ(8,"div",64),e._uU(9),e.ALo(10,"mytranslate"),e.qZA(),e.TgZ(11,"div",65)(12,"div",60)(13,"a",61),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.removeKeyStorage())}),e.ALo(14,"navigationLocalize"),e.TgZ(15,"span",30),e._UZ(16,"lucide-icon",31),e.qZA(),e._uU(17),e.ALo(18,"mytranslate"),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(6),e.hij(" ",e.lcZ(7,5,"lang_auth_password_changed")," "),e.xp6(3),e.hij(" ",e.lcZ(10,7,"lang_auth_your_password_has_been_changed_successfully")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(13,Ft,e.lcZ(14,9,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(15,hn)),e.xp6(4),e.hij(" ",e.lcZ(18,11,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Ts(n,u){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",66)(2,"div",67)(3,"div",68),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"div",69),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.TgZ(9,"div",65)(10,"ng-otp-input",70),e.NdJ("onInputChange",function(l){e.CHM(t);const p=e.oxw(2);return e.KtG(p.onOtpChange(l))}),e.qZA()(),e.TgZ(11,"div",71)(12,"div",72)(13,"span",73),e._uU(14),e.ALo(15,"mytranslate"),e.qZA(),e.TgZ(16,"span",51),e._uU(17),e.qZA()()(),e.TgZ(18,"div",74)(19,"button",75),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.verifyOTP())}),e._uU(20),e.ALo(21,"mytranslate"),e.qZA()()(),e.TgZ(22,"div",28)(23,"a",76),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.removeKeyStorage())}),e.ALo(24,"navigationLocalize"),e.TgZ(25,"span",30),e._UZ(26,"lucide-icon",31),e.qZA(),e._uU(27),e.ALo(28,"mytranslate"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",e.lcZ(5,9,"lang_auth_otp_verification")," "),e.xp6(3),e.hij(" ",e.lcZ(8,11,"lang_auth_please_enter_the_OTP_code_that_was_just_sent_to_your_phone")," "),e.xp6(3),e.Q6J("config",t.config),e.xp6(4),e.Oqu(e.lcZ(15,13,"lang_auth_the_code_will_expire_in")+":"),e.xp6(3),e.hij(" ",t.displayTimeOtp," "),e.xp6(3),e.hij(" ",e.lcZ(21,15,"lang_cms_common_confirm_btn")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(21,Ft,e.lcZ(24,17,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(23,hn)),e.xp6(4),e.hij(" ",e.lcZ(28,19,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Is(n,u){if(1&n&&(e.TgZ(0,"div",3)(1,"form",4),e.YNc(2,uo,3,3,"h2",5),e.YNc(3,xs,42,44,"ng-container",6),e.YNc(4,go,31,29,"ng-container",6),e.YNc(5,fo,12,13,"ng-container",6),e.YNc(6,Cs,23,20,"ng-container",6),e.YNc(7,Cn,19,16,"ng-container",6),e.YNc(8,Ts,29,24,"ng-container",6),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(1),e.Q6J("ngIf",7!==t.step&&6!==t.step),e.xp6(1),e.Q6J("ngIf",1==t.step),e.xp6(1),e.Q6J("ngIf",2==t.step||3==t.step),e.xp6(1),e.Q6J("ngIf",!t.statusObj.loading&&4==t.step),e.xp6(1),e.Q6J("ngIf",5==t.step),e.xp6(1),e.Q6J("ngIf",6==t.step),e.xp6(1),e.Q6J("ngIf",7==t.step)}}let vo=(()=>{class n extends Y.Q{isInvalidUserPhoneOrEmail(t){this.msgError=Wt.z.validPhoneOrEmail(t)}randomPhone(t){if(t.includes(",")){let o=t.split(",");return o[this.commonService.getRandomNumber(0,o.length-1)]}return t}removeKeyStorage(){this.browserStorageService.removeStorage("azt_phone_change_password"),this.browserStorageService.removeStorage("azt_pass_change_password"),this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password"),this.browserStorageService.removeStorage("azt_response_change_pass")}onOtpChange(t){this.otp=t}togglePassword(){this.showPassword=!this.showPassword}changePassword(){this.form.valid?(this.initStatusObj(),this.smsService.apiSmsChangePassPost({phone:this.form.controls.emailOrPhone.value,password:this.form.controls.password.value}).subscribe(o=>{if(1==o.success)if(this.successStatusObj(),this.form.controls.emailOrPhone.value.includes("@"))this.step=5;else{this.step=2,this.responseChangePass=o.data;const l=this.serializeJson(this.responseChangePass??{});this.browserStorageService.saveStorage("azt_response_change_pass",l)}else this.errorStatusObj(o.message??"",!0)})):this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}callChangePasswordOtpApi(t,o){this.smsService.apiSmsSendOtpPost(t).subscribe(l=>{1==l.success?(this.successStatusObj(),this.form.controls.emailOrPhone.value.includes("@")?this.step=5:(this.step=7,this.tokenChangePass=l.data?.value??"",this.durationOtp=300,this.timerOtp(this.durationOtp),this.browserStorageService.removeStorage("azt_phone_change_password"),this.browserStorageService.removeStorage("azt_pass_change_password"),this.browserStorageService.saveStorage("duration_otp_forgot_password",this.durationOtp.toString()),this.browserStorageService.saveStorage("token_forgot_password",this.tokenChangePass.toString()))):this.errorStatusObj(l.message??"",!0)})}changePasswordOtp(){this.initStatusObj();const t=this.browserStorageService.getStorage("azt_phone_change_password")??"",o=this.browserStorageService.getStorage("azt_pass_change_password")??"";if(!t||!o)return;const l={phone:t,password:o};this.executeImportantAction().then(p=>{this.callChangePasswordOtpApi(l,p)}).catch(p=>{this.callChangePasswordOtpApi(l,"")})}verifyOTP(){6===this.otp.length?this.waitDestroy(this.smsService.apiSmsConfirmChangePassByPhoneOtpPost({otp:this.otp,secret:this.tokenChangePass}).subscribe(t=>{t.success?(this.step=6,this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password")):this.errorStatusObj(t.message??"",!0)})):this.showErrorSnack("lang_auth_please_enter_the_OTP_code_that_was_just_sent_to_your_phone")}getPhone(){this.initStatusObj(),this.smsService.apiSmsGetPhoneGet().subscribe(t=>{1==t.success?(this.successStatusObj(),this.phoneSend=this.randomPhone(t.data?.phone??"")):this.errorStatusObj(t.message??"",!0)})}changeStepByNext(){this.initStatusObj(),this.commonService.getTranslate("lang_auto_dang_xu_ly_du_lieu").subscribe(o=>{this.currentMessage=o}),this.form.controls.emailOrPhone.value&&this.form.controls.password.value&&(this.browserStorageService.saveStorage("azt_phone_change_password",this.form.controls.emailOrPhone.value),this.browserStorageService.saveStorage("azt_pass_change_password",this.form.controls.password.value)),this.getSecondTimeChangePassword(),this.step=3;const t=this.browserStorageService.getStorage("azt_phone_change_password")??"";this.loopCheck=window.setInterval(()=>{this.smsService.apiSmsCheckStatusGet(t).subscribe(o=>{1==o.success?(this.successStatusObj(),1==o.data?.status&&(this.step=6,clearInterval(this.loopCheck))):(this.errorStatusObj(o.message??""),this.commonService.getTranslate("lang_auto_he_thong_tam_thoi_khong_the_xu_ly_vui_long_thu_lai_sau").subscribe(l=>{this.currentMessage=l}),clearInterval(this.loopCheck))})},1e3)}saveRemaining(t){t&&!(0,lo.isNaN)(t)&&this.browserStorageService.saveStorage("duration_otp_forgot_password",t.toString())}executeImportantAction(){return new Promise(t=>{this.recaptchaV3Service.execute("importantAction").subscribe(o=>{t(o)})})}getSecondTimeChangePassword(){const t=this.browserStorageService.getStorage("azt_phone_change_password");t&&(this.form.controls.emailOrPhone.value||this.form.controls.emailOrPhone.setValue(t),this.loading=!0,this.waitDestroy(this.smsService.apiSmsGetSecondGet(t).subscribe(o=>{if(o.success){const l=o.data?.status;if(0===l&&(this.changePasswordOtp(),this.browserStorageService.removeStorage("azt_response_change_pass")),l&&l>0){const p=this.browserStorageService.getStorage("azt_response_change_pass")??"";this.responseChangePass=this.castJsonToObj(p),this.step=3,this.timer(l),this.loopCheck||this.changeStepByNext()}-1===l&&(this.step=1,this.removeKeyStorage())}else this.errorStatusObj(o.message??"");this.loading=!1})))}timerOtp(t){let o="0",l=t%60;const p=t/60<10?"0":"";this.loopCheckTimeOtp=window.setInterval(()=>{t--,0!=l?l--:l=t%60,o=l<10?"0"+l:l,this.displayTimeOtp=`${p}${Math.floor(t/60)}:${o}`,this.saveRemaining(t),0==t&&(clearInterval(this.loopCheckTimeOtp),this.showErrorSnack("lang_core_expired_otp"),this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password"))},1e3)}timer(t){let o="0",l=t%60;const p=t/60<10?"0":"";this.loopCheckTime=window.setInterval(()=>{t--,0!=l?l--:l=t%60,o=l<10?"0"+l:l,this.displayTime=`${p}${Math.floor(t/60)}:${o}`,this.saveRemaining(t),0==t&&(clearInterval(this.loopCheckTime),this.changePasswordOtp())},1e3)}ngOnInit(){super.ngOnInit(),this.backLink=this.getMyQueryParam("return_url")??"",this.isOnApp=this.isMobileWebView,this.isCheckIos=/iPad|iPhone|iPod/.test(window.navigator.userAgent),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.getPhone(),this.getSecondTimeChangePassword();const t=this.browserStorageService.getStorage("token_forgot_password"),o=this.browserStorageService.getStorage("duration_otp_forgot_password")??"0";this.durationOtp=Number(o),t&&this.durationOtp>0&&(this.tokenChangePass=t,this.step=7,this.timerOtp(this.durationOtp))}constructor(t,o,l){super(),this.smsService=t,this.browserStorageService=o,this.recaptchaV3Service=l,this.backLink="",this.step=1,this.currentMessage="",this.phoneSend="",this.isOnApp=!1,this.isCheckIos=!1,this.tokenChangePass="",this.msgError="",this.showPassword=!1,this.otp="",this.durationOtp=0,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:""},this.displayTimeOtp="",this.displayTime="",this.loading=!1,this.form=new v.cw({emailOrPhone:new v.NI("",{nonNullable:!0,validators:[v.kI.required]}),hash:new v.NI("",{nonNullable:!0}),password:new v.NI("",{nonNullable:!0,validators:[v.kI.required,v.kI.minLength(6)]}),confirm_password:new v.NI("",{nonNullable:!0})})}ngOnDestroy(){this.loopCheck&&clearInterval(this.loopCheck),this.loopCheckTimeOtp&&clearInterval(this.loopCheckTimeOtp),this.loopCheckTime&&clearInterval(this.loopCheckTime),super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q.tr),e.Y36(Jt.n),e.Y36(wn.YC))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],inputs:{backLink:"backLink"},features:[e.qOj],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf"],["class","azt-forget-password",4,"ngIf"],[3,"currentStatusObj"],[1,"azt-forget-password"],[3,"formGroup"],["class","intro-x font-bold text-2xl text-center",4,"ngIf"],[4,"ngIf"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","emailOrPhone","autocapitalize","none","autocomplete","username",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","confirm_forgot_password-Be5qkC21Px",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["class","lucide dark:text-slate-500 w-6 h-6 inline-block",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],["azt-track-service","confirm_forgot_password-qrLJsGpHEo","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/quen-mat-khau/","target","blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-VxkWEGRiFq",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","confirm_forgot_password-lZlsQz7TRgk",1,"btn","btn-outline-secondary","ml-1","w-full",3,"routerLink","queryParams"],[1,"w-4","h-4","inline-block","mr-2"],["name","scan-line"],[1,"text-md"],[1,"intro-x","mt-5","text-slate-600","flex","justify-between","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-dBgHdMY8At9",1,"text-primary","dark:text-slate-200","flex","items-center",3,"routerLink","queryParams","click"],[1,"w-4","h-4","mr-1","inline-block"],["name","chevron-left"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"lucide","dark:text-slate-500","w-6","h-6","inline-block"],["name","eye"],["name","eye-off"],[1,"index-x","mt-8"],[2,"text-align","right","font-size","15px","margin","10px 0","text-align","center"],["class","sms-info text-center mb-3",4,"ngIf"],[1,"sms-info","text-center","mb-3",2,"font-style","italic"],[1,"mt-3"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow","class","btn btn-primary w-full",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"text-primary","dark:text-slate-200","flex","items-center",3,"routerLink","queryParams","click"],[1,"sms-info","text-center","mb-3"],["azt-track-service","confirm_forgot_password-WxS7WiABo3I",1,"btn-text-primary"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow",1,"btn","btn-primary","w-full",3,"click"],[1,"text-center"],[1,"w-4","h-4","mx-auto","inline-block"],[1,"mt-4"],[1,"font-normal"],[1,"font-medium","text-danger","inline-block","ml-2"],[1,"index-x","box","p-5","mt-8","test"],[1,"sms-info"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password-BiakflUt8-X",1,"btn","btn-primary","w-full",3,"routerLink","queryParams","click"],[1,"w-16","h-16","mx-auto","inline-block","text-success"],["name","mail-check"],[1,"text-center","mt-3","text-xl","font-bold"],[1,"text-md","mt-3","px-5","text-center"],[1,"mb-1"],["azt-track-service","confirm_forgot_password-D7eRiRMvLI1",1,"btn","btn-primary","w-full",3,"routerLink","queryParams","click"],[1,"index-x","mt-5"],["name","check-circle"],[1,"text-md","mt-1","px-5","text-center"],[1,"text-center","mt-5"],[1,"opt","intro-x"],[1,"otp-head"],[1,"font-medium","text-lg"],[1,"text-slate-500","mt-0.5"],[3,"config","onInputChange"],[1,"flex","items-center","mt-4"],[1,"ml-auto"],[1,""],[1,"mt-5"],[1,"btn","btn-primary","w-full",3,"click"],["azt-track-service","confirm_forgot_password-Q3eNkstAam6",1,"text-primary","dark:text-slate-200","flex","items-center","flex","items-center",3,"routerLink","queryParams","click"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout"),e.YNc(1,Vn,1,1,"azt-loading-effect",0),e.YNc(2,Is,9,8,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",!o.loading))},dependencies:[_e.rH,h.O5,v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,Ue.l,fe.M,se.n,Je.J,Ae.Nh5,tt,E.Jy,E.JV]}),n})();function yo(n,u){1&n&&(e.TgZ(0,"div")(1,"div",11)(2,"span",12),e._UZ(3,"azt-loading-ui"),e.qZA(),e.TgZ(4,"span",13),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()()),2&n&&(e.xp6(5),e.hij("",e.lcZ(6,1,"lang_cms_common_loading"),"..."))}function Ss(n,u){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function pr(n,u){if(1&n&&(e.TgZ(0,"div",28),e.YNc(1,Ss,3,3,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function hr(n,u){if(1&n&&(e.TgZ(0,"div",14)(1,"label",29),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("*** ",e.lcZ(3,1,t.statusObj.errorMessage),"")}}function mr(n,u){1&n&&(e.TgZ(0,"span",30),e._UZ(1,"azt-loading-ui"),e.qZA())}const ks=function(n){return[n]},Zs=function(){return{user_click:"true"}};function bo(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",14)(2,"div",15)(3,"div",16),e._UZ(4,"input",17),e.ALo(5,"mytranslate"),e.TgZ(6,"div",18)(7,"span",19)(8,"mat-icon"),e._uU(9,"lock"),e.qZA()()()(),e.YNc(10,pr,2,1,"div",20),e.qZA()(),e.YNc(11,hr,4,3,"div",21),e.TgZ(12,"div",22)(13,"div",15)(14,"div",23)(15,"button",24),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.form.invalid||l.statusObj.loading||l.changePassword())}),e.YNc(16,mr,2,0,"span",25),e._uU(17),e.ALo(18,"mytranslate"),e.qZA()()()(),e._UZ(19,"hr"),e.TgZ(20,"div",26)(21,"a",27),e.ALo(22,"navigationLocalize"),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.s9C("placeholder",e.lcZ(5,9,"lang_auto_mat_khau_moi")),e.xp6(6),e.Q6J("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",t.statusObj.errorMessage),e.xp6(4),e.Q6J("disabled",t.form.invalid||t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(18,11,"lang_auto_doi_mat_khau")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(17,ks,e.lcZ(22,13,"/auth/login")))("queryParams",e.DdM(19,Zs)),e.xp6(2),e.hij(" ",e.lcZ(24,15,"lang_auto_dang_nhap_tai_khoan")," ")}}let Os=(()=>{class n extends Y.Q{getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,o){return!!this.form.controls[t].errors?.[o]&&this.form.controls[t].errors?.[o]}getFormValue(){return this.form.getRawValue()}changePassword(){if(this.form.valid){var t=this.getFormValue(),o=this.commonService.getMyQueryParam("token");this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConfirmForgotPasswordGet(o??"",t.password).subscribe(l=>{1==l.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole("")):this.errorStatusObj(l.message??"")}))}}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,o){super(),this.redirectByRoleService=t,this.userInfoService=o,this.form=new v.cw({emailOrPhone:new v.NI("",{nonNullable:!0}),hash:new v.NI("",{nonNullable:!0}),password:new v.NI("",{nonNullable:!0,validators:[v.kI.required,v.kI.minLength(6)]}),confirm_password:new v.NI("",{nonNullable:!0})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(yt.C),e.Y36(Q.$C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password-admin"]],features:[e.qOj],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"w-4","h-4","inline-block"],[1,"sr-only","ml-2"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","autocapitalize","none","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","confirm_forgot_password_old-dHG6VsmYFRB","mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password_old-980hoMxq1bn",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.ALo(6,"getLinkLogo"),e.TgZ(7,"div",6)(8,"div",7)(9,"span",8),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()(),e.TgZ(12,"div",9),e.YNc(13,yo,7,3,"div",10),e.YNc(14,bo,25,20,"div",10),e.qZA()()(),e._UZ(15,"div",3),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.Q6J("src",e.lcZ(6,5,"bigLogo"),e.LSH),e.xp6(5),e.Oqu(e.lcZ(11,7,"lang_auto_doi_mat_khau_moi")),e.xp6(3),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!o.statusObj.loading))},dependencies:[_e.rH,h.O5,v._Y,v.Fj,v.JJ,v.JL,gn.lW,un.Hw,v.sg,v.u,fe.M,se.n,E.Jy,E.JV,E.LI],encapsulation:2}),n})();var Wn=b(9280),Fe=b(49671);const Es=(()=>{class n{constructor(t,o,l,p,C){this._legacyCanvasSize=n.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),l&&"object"==typeof l?this._onDecode=o:(console.warn(l||p||C?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=o),this._onDecodeError=(o="object"==typeof l?l:{}).onDecodeError||("function"==typeof l?l:this._onDecodeError),this._calculateScanRegion=o.calculateScanRegion||("function"==typeof p?p:this._calculateScanRegion),this._preferredCamera=o.preferredCamera||C||this._preferredCamera,this._legacyCanvasSize="number"==typeof l?l:"number"==typeof p?p:this._legacyCanvasSize,this._maxScansPerSecond=o.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;let N=!1;if(t.hidden&&(t.hidden=!1,N=!0),document.body.contains(t)||(document.body.appendChild(t),N=!0),l=t.parentElement,o.highlightScanRegion||o.highlightCodeOutline){if(p=!!o.overlay,this.$overlay=o.overlay||document.createElement("div"),(C=this.$overlay.style).position="absolute",C.display="none",C.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!p&&o.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}l.insertBefore(this.$overlay,this.$video.nextSibling)}o.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{let W=window.getComputedStyle(t);"none"===W.display&&(t.style.setProperty("display","block","important"),N=!0),"visible"!==W.visibility&&(t.style.setProperty("visibility","visible","important"),N=!0),N&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=n.createQrEngine()}static set WORKER_PATH(t){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static hasCamera(){return(0,Fe.Z)(function*(){try{return!!(yield n.listCameras(!1)).length}catch{return!1}})()}static listCameras(t=!1){return(0,Fe.Z)(function*(){if(!navigator.mediaDevices)return[];let l,o=function(){var p=(0,Fe.Z)(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(C=>"videoinput"===C.kind)});return function(){return p.apply(this,arguments)}}();try{t&&(yield o()).every(p=>!p.label)&&(l=yield navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(yield o()).map((p,C)=>({id:p.deviceId,label:p.label||(0===C?"Default Camera":`Camera ${C+1}`)}))}finally{l&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),n._stopVideoStream(l))}})()}hasFlash(){var t=this;return(0,Fe.Z)(function*(){let o;try{if(t.$video.srcObject){if(!(t.$video.srcObject instanceof MediaStream))return!1;o=t.$video.srcObject}else o=(yield t._getCameraStream()).stream;return"torch"in o.getVideoTracks()[0].getSettings()}catch{return!1}finally{o&&o!==t.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),n._stopVideoStream(o))}})()}isFlashOn(){return this._flashOn}toggleFlash(){var t=this;return(0,Fe.Z)(function*(){t._flashOn?yield t.turnFlashOff():yield t.turnFlashOn()})()}turnFlashOn(){var t=this;return(0,Fe.Z)(function*(){if(!t._flashOn&&!t._destroyed&&(t._flashOn=!0,t._active&&!t._paused))try{if(!(yield t.hasFlash()))throw"No flash available";yield t.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(o){throw t._flashOn=!1,o}})()}turnFlashOff(){var t=this;return(0,Fe.Z)(function*(){t._flashOn&&(t._flashOn=!1,yield t._restartVideoStream())})()}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),n._postWorkerMessage(this._qrEnginePromise,"close")}start(){var t=this;return(0,Fe.Z)(function*(){if(t._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!t._active||t._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),t._active=!0,!document.hidden))if(t._paused=!1,t.$video.srcObject)yield t.$video.play();else try{let{stream:o,facingMode:l}=yield t._getCameraStream();!t._active||t._paused?n._stopVideoStream(o):(t._setVideoMirror(l),t.$video.srcObject=o,yield t.$video.play(),t._flashOn&&(t._flashOn=!1,t.turnFlashOn().catch(()=>{})))}catch(o){if(!t._paused)throw t._active=!1,o}})()}stop(){this.pause(),this._active=!1}pause(t=!1){var o=this;return(0,Fe.Z)(function*(){if(o._paused=!0,!o._active)return!0;o.$video.pause(),o.$overlay&&(o.$overlay.style.display="none");let l=()=>{o.$video.srcObject instanceof MediaStream&&(n._stopVideoStream(o.$video.srcObject),o.$video.srcObject=null)};return t?(l(),!0):(yield new Promise(p=>setTimeout(p,300)),!!o._paused&&(l(),!0))})()}setCamera(t){var o=this;return(0,Fe.Z)(function*(){t!==o._preferredCamera&&(o._preferredCamera=t,yield o._restartVideoStream())})()}static scanImage(t,o,l,p,C=!1,N=!1){return(0,Fe.Z)(function*(){let W,ie=!1;o&&("scanRegion"in o||"qrEngine"in o||"canvas"in o||"disallowCanvasResizing"in o||"alsoTryWithoutScanRegion"in o||"returnDetailedScanResult"in o)?(W=o.scanRegion,l=o.qrEngine,p=o.canvas,C=o.disallowCanvasResizing||!1,N=o.alsoTryWithoutScanRegion||!1,ie=!0):console.warn(o||l||p||C||N?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),o=!!l;try{let Ze,Oe,it;if([l,Ze]=yield Promise.all([l||n.createQrEngine(),n._loadImage(t)]),[p,Oe]=n._drawToCanvas(Ze,W,p,C),l instanceof Worker){let Se=l;o||n._postWorkerMessageSync(Se,"inversionMode","both"),it=yield new Promise((Ge,Qt)=>{let xt,an,Pt,Qe=-1;an=st=>{st.data.id===Qe&&(Se.removeEventListener("message",an),Se.removeEventListener("error",Pt),clearTimeout(xt),null!==st.data.data?Ge({data:st.data.data,cornerPoints:n._convertPoints(st.data.cornerPoints,W)}):Qt(n.NO_QR_CODE_FOUND))},Pt=st=>{Se.removeEventListener("message",an),Se.removeEventListener("error",Pt),clearTimeout(xt),Qt("Scanner error: "+(st?st.message||st:"Unknown Error"))},Se.addEventListener("message",an),Se.addEventListener("error",Pt),xt=setTimeout(()=>Pt("timeout"),1e4);let _t=Oe.getImageData(0,0,p.width,p.height);Qe=n._postWorkerMessageSync(Se,"decode",_t,[_t.data.buffer])})}else it=yield Promise.race([new Promise((Se,Ge)=>window.setTimeout(()=>Ge("Scanner error: timeout"),1e4)),(0,Fe.Z)(function*(){try{var[Se]=yield l.detect(p);if(!Se)throw n.NO_QR_CODE_FOUND;return{data:Se.rawValue,cornerPoints:n._convertPoints(Se.cornerPoints,W)}}catch(Ge){if(/not implemented|service unavailable/.test(Se=Ge.message||Ge))return n._disableBarcodeDetector=!0,n.scanImage(t,{scanRegion:W,canvas:p,disallowCanvasResizing:C,alsoTryWithoutScanRegion:N});throw`Scanner error: ${Se}`}})()]);return ie?it:it.data}catch(Ze){if(!W||!N)throw Ze;let Oe=yield n.scanImage(t,{qrEngine:l,canvas:p,disallowCanvasResizing:C});return ie?Oe:Oe.data}finally{o||n._postWorkerMessage(l,"close")}})()}setGrayscaleWeights(t,o,l,p=!0){n._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:o,blue:l,useIntegerApproximation:p})}setInversionMode(t){n._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}static createQrEngine(t){return(0,Fe.Z)(function*(){if(t&&console.warn("Specifying a worker path is not required and not supported anymore."),t=()=>b.e(3663).then(b.bind(b,23663)).then(l=>l.createWorker()),n._disableBarcodeDetector||!("BarcodeDetector"in window)||!BarcodeDetector.getSupportedFormats||!(yield BarcodeDetector.getSupportedFormats()).includes("qr_code"))return t();let o=navigator.userAgentData;return o&&o.brands.some(({brand:l})=>/Chromium/i.test(l))&&/mac ?OS/i.test(o.platform)&&(yield o.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:l,platformVersion:p})=>/arm/i.test(l||"arm")&&13<=parseInt(p||"13")).catch(()=>!0))?t():new BarcodeDetector({formats:["qr_code"]})})()}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(t){let o=Math.round(.6666666666666666*Math.min(t.videoWidth,t.videoHeight));return{x:Math.round((t.videoWidth-o)/2),y:Math.round((t.videoHeight-o)/2),width:o,height:o,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var t=this.$video,o=t.videoWidth,l=t.videoHeight,p=t.offsetWidth,C=t.offsetHeight,N=t.offsetLeft,W=t.offsetTop,ie=window.getComputedStyle(t),Ze=ie.objectFit,Oe=o/l,it=p/C;switch(Ze){case"none":var Se=o,Ge=l;break;case"fill":Se=p,Ge=C;break;default:("cover"===Ze?Oe>it:Oe<it)?Se=(Ge=C)*Oe:Ge=(Se=p)/Oe,"scale-down"===Ze&&(Se=Math.min(Se,o),Ge=Math.min(Ge,l))}var[Qt,xt]=ie.objectPosition.split(" ").map((Pt,Qe)=>{const _t=parseFloat(Pt);return Pt.endsWith("%")?(Qe?C-Ge:p-Se)*_t/100:_t});it=this._scanRegion.height||l,Ze=this._scanRegion.x||0;var an=this._scanRegion.y||0;(Oe=this.$overlay.style).width=(ie=this._scanRegion.width||o)/o*Se+"px",Oe.height=it/l*Ge+"px",Oe.top=`${W+xt+an/l*Ge}px`,l=/scaleX\(-1\)/.test(t.style.transform),Oe.left=`${N+(l?p-Qt-Se:Qt)+(l?o-Ze-ie:Ze)/o*Se}px`,Oe.transform=t.style.transform}})}static _convertPoints(t,o){if(!o)return t;let l=o.x||0,p=o.y||0,C=o.width&&o.downScaledWidth?o.width/o.downScaledWidth:1;o=o.height&&o.downScaledHeight?o.height/o.downScaledHeight:1;for(let N of t)N.x=N.x*C+l,N.y=N.y*o+p;return t}_scanFrame(){var t=this;!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((0,Fe.Z)(function*(){if(!(1>=t.$video.readyState)){var o=Date.now()-t._lastScanTimestamp,l=1e3/t._maxScansPerSecond;o<l&&(yield new Promise(C=>setTimeout(C,l-o))),t._lastScanTimestamp=Date.now();try{var p=yield n.scanImage(t.$video,{scanRegion:t._scanRegion,qrEngine:t._qrEnginePromise,canvas:t.$canvas})}catch(C){if(!t._active)return;t._onDecodeError(C)}!n._disableBarcodeDetector||(yield t._qrEnginePromise)instanceof Worker||(t._qrEnginePromise=n.createQrEngine()),p?(t._onDecode?t._onDecode(p):t._legacyOnDecode&&t._legacyOnDecode(p.data),t.$codeOutlineHighlight&&(clearTimeout(t._codeOutlineHighlightRemovalTimeout),t._codeOutlineHighlightRemovalTimeout=void 0,t.$codeOutlineHighlight.setAttribute("viewBox",`${t._scanRegion.x||0} ${t._scanRegion.y||0} ${t._scanRegion.width||t.$video.videoWidth} ${t._scanRegion.height||t.$video.videoHeight}`),t.$codeOutlineHighlight.firstElementChild.setAttribute("points",p.cornerPoints.map(({x:C,y:N})=>`${C},${N}`).join(" ")),t.$codeOutlineHighlight.style.display="")):t.$codeOutlineHighlight&&!t._codeOutlineHighlightRemovalTimeout&&(t._codeOutlineHighlightRemovalTimeout=setTimeout(()=>t.$codeOutlineHighlight.style.display="none",100))}t._scanFrame()}))}_onDecodeError(t){t!==n.NO_QR_CODE_FOUND&&console.log(t)}_getCameraStream(){var t=this;return(0,Fe.Z)(function*(){if(!navigator.mediaDevices)throw"Camera not found.";let o=/^(environment|user)$/.test(t._preferredCamera)?"facingMode":"deviceId",l=[{width:{min:1024}},{width:{min:768}},{}],p=l.map(C=>Object.assign({},C,{[o]:{exact:t._preferredCamera}}));for(let C of[...p,...l])try{let N=yield navigator.mediaDevices.getUserMedia({video:C,audio:!1});return{stream:N,facingMode:t._getFacingMode(N)||(C.facingMode?t._preferredCamera:"environment"===t._preferredCamera?"user":"environment")}}catch{}throw"Camera not found."})()}_restartVideoStream(){var t=this;return(0,Fe.Z)(function*(){let o=t._paused;(yield t.pause(!0))&&!o&&t._active&&(yield t.start())})()}static _stopVideoStream(t){for(let o of t.getTracks())o.stop(),t.removeTrack(o)}_setVideoMirror(t){this.$video.style.transform="scaleX("+("user"===t?-1:1)+")"}_getFacingMode(t){return(t=t.getVideoTracks()[0])?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}static _drawToCanvas(t,o,l,p=!1){l=l||document.createElement("canvas");let C=o&&o.x?o.x:0,N=o&&o.y?o.y:0,W=o&&o.width?o.width:t.videoWidth||t.width,ie=o&&o.height?o.height:t.videoHeight||t.height;return p||(p=o&&o.downScaledWidth?o.downScaledWidth:W,o=o&&o.downScaledHeight?o.downScaledHeight:ie,l.width!==p&&(l.width=p),l.height!==o&&(l.height=o)),(o=l.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,o.drawImage(t,C,N,W,ie,0,0,l.width,l.height),[l,o]}static _loadImage(t){return(0,Fe.Z)(function*(){if(t instanceof Image)return yield n._awaitImageLoad(t),t;if(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)return t;if(!(t instanceof File||t instanceof Blob||t instanceof URL||"string"==typeof t))throw"Unsupported image type.";{let o=new Image;o.src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString();try{return yield n._awaitImageLoad(o),o}finally{(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(o.src)}}})()}static _awaitImageLoad(t){return(0,Fe.Z)(function*(){t.complete&&0!==t.naturalWidth||(yield new Promise((o,l)=>{let p=C=>{t.removeEventListener("load",p),t.removeEventListener("error",p),C instanceof ErrorEvent?l("Image load error"):o()};t.addEventListener("load",p),t.addEventListener("error",p)}))})()}static _postWorkerMessage(t,o,l,p){return(0,Fe.Z)(function*(){return n._postWorkerMessageSync(yield t,o,l,p)})()}static _postWorkerMessageSync(t,o,l,p){if(!(t instanceof Worker))return-1;let C=n._workerMessageId++;return t.postMessage({id:C,type:o,data:l},p),C}}return n.DEFAULT_CANVAS_SIZE=400,n.NO_QR_CODE_FOUND="No QR code found",n._disableBarcodeDetector=!1,n._workerMessageId=0,n})();var xo=b(65619);class Tn{static encode(u){return"azt:$"+btoa(u)}static decode(u){return u=u.replace("azt:$",""),atob(u)}static isEncode(u){return 0===u.indexOf("azt:$")}}var Yn=b(46558),Ao=b(24913);function wo(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"zxing-scanner",7),e.NdJ("deviceChange",function(l){e.CHM(t);const p=e.oxw();return e.KtG(p.currentDevice=l)})("scanSuccess",function(l){e.CHM(t);const p=e.oxw();return e.KtG(p.onCodeResult(l))})("permissionResponse",function(l){e.CHM(t);const p=e.oxw();return e.KtG(p.onHasPermission(l))})("camerasFound",function(l){e.CHM(t);const p=e.oxw();return e.KtG(p.onCamerasFound(l))})("torchCompatible",function(l){e.CHM(t);const p=e.oxw();return e.KtG(p.onTorchCompatible(l))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("torch",t.torchEnabled)("device",t.currentDevice)("tryHarder",t.tryHarder)("formats",t.formatsEnabled)}}function gr(n,u){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("( ",t.contentResult," )")}}let Hn=(()=>{class n extends Y.Q{constructor(t){super(),this.commonService=t,this.outContentScan=new e.vpe,this.outNotCamAllow=new e.vpe,this.isShowDebugLog=!1,this.isShowScanner=!1,this.availableDevices=[],this.currentDevice=void 0,this.hasDevices=!1,this.hasPermission=!1,this.qrResultString="",this.torchEnabled=!1,this.torchAvailable$=new xo.X(!1),this.tryHarder=!1,this.formatsEnabled=[Wn.BarcodeFormat.CODE_128,Wn.BarcodeFormat.DATA_MATRIX,Wn.BarcodeFormat.EAN_13,Wn.BarcodeFormat.QR_CODE],this.deviceCamSelect=0,this.contentResult=null,this.isShowLog=!1,this.snd=new Audio,this.snd=new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=")}clearResult(){this.qrResultString=""}onCamerasFound(t){this.availableDevices=t,this.hasDevices=!(!t||!t.length)}onCodeResult(t){this.qrResultString=t,Tn.isEncode(t)?this.switchChangeContent(Tn.decode(t)):this.switchChangeContent(null)}onDeviceSelectChange(t){const o=this.availableDevices.find(l=>l.deviceId===t);this.currentDevice=o||void 0}onHasPermission(t){this.hasPermission=t}onTorchCompatible(t){this.torchAvailable$.next(t||!1)}toggleTorch(){this.torchEnabled=!this.torchEnabled}toggleTryHarder(){this.tryHarder=!this.tryHarder}switchVideoScan(){this.deviceCamSelect++,this.deviceCamSelect>=this.availableDevices.length&&(this.deviceCamSelect=0),this.currentDevice=this.availableDevices[this.deviceCamSelect]}unInitSscanCam(){this.isShowScanner=!1}initVideoScan(){this.isShowScanner=!0}initScanCam(){this.isShowScanner=!0}onFileSelected(t){let p=t.target.files;if(p?.length){var C=p[0];if(!C)return;this.scanProcessSelectFile(t,C,0)}else this.switchChangeContent(null)}scanProcessSelectFile(t,o,l){Es.scanImage(o,{returnDetailedScanResult:!0}).then(p=>{this.thatLog("onFileSelected: 0 "+JSON.stringify(p)),t.target.value="";var C=p.data;this.thatLog("onFileSelected: 1 "+C),Tn.isEncode(C)?this.switchChangeContent(Tn.decode(C)):this.switchChangeContent(null)}).catch(p=>{l>=2?(t.target.value="",this.thatLog("onFileSelected: 2 "+JSON.stringify(p)),this.switchChangeContent(null)):this.scanProcessSelectFile(t,o,l++)})}pauseScanQrcode(){this.isShowScanner=!1}switchChangeContent(t){this.contentResult=t,this.pauseScanQrcode(),this.beep(),navigator&&navigator.vibrate&&navigator.vibrate(200),this.thatLog("switchChangeContent: "+t),this.outContentScan.emit(this.contentResult)}thatLog(t){!0===this.isShowDebugLog&&console.log("__AZT SCAN__ :: "+t)}beep(){this.snd&&this.snd.play()}ngOnDestroy(){this.unInitSscanCam(),super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Yn.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["azt-scan-qrcode"]],outputs:{outContentScan:"outContentScan",outNotCamAllow:"outNotCamAllow"},features:[e.qOj],decls:11,vars:5,consts:[[1,"scan__card-video"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible",4,"ngIf"],[1,"text-center","mt-3","mb-2"],["class","text-center",4,"ngIf"],["type","file","name","fileQrcode",2,"display","none",3,"change"],["formChoseFile",""],["azt-track-service","azt-scan-qrcode-BSrT1K3fdVy",1,"link-center",3,"click"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible"],[1,"text-center"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"div",0),e.YNc(1,wo,1,4,"zxing-scanner",1),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,gr,2,1,"span",3),e.TgZ(4,"input",4,5),e.NdJ("change",function(C){return o.onFileSelected(C)}),e.qZA(),e.TgZ(6,"a",6),e.NdJ("click",function(){e.CHM(l);const C=e.MAs(5);return e.KtG(C.click())}),e.TgZ(7,"mat-icon"),e._uU(8,"upload"),e.qZA(),e._uU(9),e.ALo(10,"mytranslate"),e.qZA()()}2&t&&(e.xp6(1),e.Q6J("ngIf",o.isShowScanner),e.xp6(2),e.Q6J("ngIf",o.isShowLog),e.xp6(6),e.hij(" ",e.lcZ(10,3,"lang_auto_tai_len_ma_co_san"),""))},dependencies:[h.O5,un.Hw,Ao.S,E.JV],styles:[".scan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.scan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.scan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.scan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.431372549);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),n})();const Ls=["aztScanQrcode"];function fr(n,u){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",37),e._UZ(2,"path",38)(3,"circle",39),e.qZA()())}function vr(n,u){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",37),e._UZ(2,"path",40)(3,"path",41)(4,"path",42)(5,"line",43),e.qZA()())}function yr(n,u){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Ps(n,u){if(1&n&&(e.TgZ(0,"div",44),e.YNc(1,yr,3,3,"div",29),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function br(n,u){1&n&&(e.TgZ(0,"span",45),e._UZ(1,"azt-loading-ui"),e.qZA())}function Co(n,u){1&n&&(e.TgZ(0,"div",46)(1,"span",47),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.hij("***",e.lcZ(3,1,"lang_auto_khong_the_xac_nhan_yeu_cau_doi_mat_khau_ma_qrcode_va_so_dien_thoai_dang_nhap_khong_trung_khop_vui_long_thu_lai"),""))}function Ns(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",48)(1,"button",49),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.reloadProcessForgot())}),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_auto_thu_lai")," "))}function Rs(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",23),e._UZ(2,"input",24),e.ALo(3,"mytranslate"),e.TgZ(4,"button",25)(5,"span",26)(6,"mat-icon"),e._uU(7,"qr_code"),e.qZA()()()(),e.TgZ(8,"div",23),e._UZ(9,"input",27),e.ALo(10,"mytranslate"),e.TgZ(11,"button",28),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.togglePassword())}),e.YNc(12,fr,4,0,"span",29),e.YNc(13,vr,6,0,"span",29),e.qZA(),e.YNc(14,Ps,2,1,"div",30),e.qZA(),e.TgZ(15,"div",31)(16,"div",32)(17,"button",33),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.changePassword())}),e.YNc(18,br,2,0,"span",34),e._uU(19),e.ALo(20,"mytranslate"),e.qZA()(),e.YNc(21,Co,4,3,"div",35),e.YNc(22,Ns,4,3,"div",36),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.s9C("placeholder",e.lcZ(3,12,"lang_auto_ma_xac_thuc")),e.uIk("disabled",!0),e.xp6(7),e.s9C("type",t.showPassword?"text":"password"),e.s9C("placeholder",e.lcZ(10,14,"lang_auto_mat_khau_moi")),e.xp6(3),e.Q6J("ngIf",t.showPassword),e.xp6(1),e.Q6J("ngIf",!t.showPassword),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.invalid&&t.form.controls.password.dirty),e.xp6(3),e.Q6J("disabled",t.statusObj.errorMessage||t.form.invalid||t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(20,16,"lang_auto_tiep_tuc")," "),e.xp6(2),e.Q6J("ngIf",t.statusObj.errorMessage),e.xp6(1),e.Q6J("ngIf",t.statusObj.errorMessage)}}const Us=function(n){return{hiddenIpt:n}},To=function(n){return[n]},Ms=function(){return{user_click:"true"}};let qs=(()=>{class n extends Y.Q{getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,o){return!!this.form.controls[t].errors?.[o]&&this.form.controls[t].errors?.[o]}togglePassword(){this.showPassword=!this.showPassword}reloadProcessForgot(){this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam(),this.stepByStep=0,this.form.reset(),this.initStatusObj(),this.sussScanNextConf=!1}outContentScan(t){null!==t?this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordAnonymousCheckForgotPasswordQrCodePost({hash:t}).subscribe(l=>{1==l.success&&1==l?.data?.status?(this.stepByStep=1,this.form.controls.hash.setValue(t),this.sussScanNextConf=!0,this.stopStatusObj()):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}changePassword(){this.initStatusObj();var t=this.getFormValue();this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordChangePasswordByQrcodePost({hash:t.hash,password:t.password}).subscribe(l=>{0!=l.success?(this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dat_lai_mat_khau_thanh_cong",!0),this.commonService.myNavigation("/auth/forgot_password_success")):(this.errorStatusObj("lang_auto_yeu_cau_doi_mat_khau_that_bai",!0),this.successStatusObj())})}getFormValue(){return this.form.getRawValue()}ngAfterViewInit(){setTimeout(()=>{this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam()},0)}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.backLink=this.commonService.getMyQueryParam("return_url")??"",super.ngOnInit()}constructor(t,o){super(),this.localStorageObject=t,this.qrCodeForgotPasswordService=o,this.stepByStep=0,this.sussScanNextConf=!1,this.showPassword=!1,this.backLink="",this.form=new v.cw({emailOrPhone:new v.NI("",{nonNullable:!0}),hash:new v.NI("",{nonNullable:!0,validators:[v.kI.required]}),password:new v.NI("",{nonNullable:!0,validators:[v.kI.required,v.kI.minLength(6)]}),confirm_password:new v.NI("",{nonNullable:!0})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(on.y),e.Y36(Q.qY))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ls,5),2&t){let l;e.iGM(l=e.CRH())&&(o.elementZztScanQrcode=l.first)}},features:[e.qOj],decls:38,vars:27,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh",3,"formGroup"],[1,"grid","grid-cols-12"],[1,"col-span-3"],[1,"col-span-12","md:col-span-6","m-5","text-center"],["src","'images/logo.svg' | convertCdnLinkOfGitHub","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"text-md","font-medium"],[1,"box"],[1,"loginscan_scanmode_camvmb-2",3,"ngClass"],[1,"text-center","mb-2"],[3,"outContentScan"],["aztScanQrcode",""],["class","intro-x loginscan_scanmode_conf",4,"ngIf"],[1,"text-center","mb-3","mt-2"],[1,"mb-1"],["azt-track-service","confirm_forgot_password_qr-y-Lujcafr","href","https://docs.azota.vn/#quen-mat-khau","target","blank"],["azt-track-service","confirm_forgot_password_qr-n899Hp9EMpg",1,"text-normal","mt-1",3,"routerLink","queryParams"],[1,"intro-x","loginscan_scanmode_conf"],[1,"azt-form-group","mt-2","relative"],["type","password","formControlName","hash",1,"intro-x","py-3","login__input","form-control",3,"placeholder"],[1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99","cursor","default"],["id","basic-addon3",1,"input-group-text"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","py-3","login__input","form-control",3,"type","placeholder"],["azt-track-service","confirm_forgot_password_qr-VURaiK4XmLa",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","mt-2","mb-2"],[1,"intro-x","mt-2","text-center"],["azt-track-service","confirm_forgot_password_qr-tut9bw9xQAC",1,"btn","btn-primary","py-3","px-4","w-44","mx-auto","align-top",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","intro-x mt-5 text-center xl:text-left",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"w-4","h-4","inline-block","mr-2"],[1,"strike","mt-3"],[1,"text-danger"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password_qr-ubiNi2g_d2i",1,"btn","btn-outline-primary","py-3","px-4","w-full","align-top",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"div",6)(7,"div",7),e._UZ(8,"div",8)(9,"div",8)(10,"div",8),e.qZA()(),e._UZ(11,"br")(12,"br"),e.TgZ(13,"div",9)(14,"div",10)(15,"span",11),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()(),e.TgZ(18,"div",12)(19,"div",13)(20,"div",14),e._uU(21),e.ALo(22,"mytranslate"),e.qZA(),e.TgZ(23,"azt-scan-qrcode",15,16),e.NdJ("outContentScan",function(p){return o.outContentScan(p)}),e.qZA()(),e.YNc(25,Rs,23,18,"div",17),e.qZA(),e._UZ(26,"hr"),e.TgZ(27,"div",18)(28,"div",19)(29,"a",20),e._uU(30),e.ALo(31,"mytranslate"),e.qZA()(),e.TgZ(32,"div")(33,"a",21),e.ALo(34,"navigationLocalize"),e._uU(35),e.ALo(36,"mytranslate"),e.qZA()()()()(),e._UZ(37,"div",3),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(7),e.Q6J("ngClass",o.stepByStep+2==1?"active":o.stepByStep+2>1?"active pro":""),e.xp6(1),e.Q6J("ngClass",o.stepByStep+2==2?"active":o.stepByStep+2>2?"active pro":""),e.xp6(1),e.Q6J("ngClass",o.stepByStep+2==3?"active":o.stepByStep+2>3?"active pro":""),e.xp6(6),e.Oqu(e.lcZ(17,12,"lang_auto_doi_mat_khau_moi_bang_ma_qrcode")),e.xp6(3),e.Q6J("ngClass",e.VKq(22,Us,o.sussScanNextConf)),e.xp6(2),e.hij(" ",e.lcZ(22,14,"lang_auto_di_chuyen_camera_toi_ma_qrcode")," "),e.xp6(4),e.Q6J("ngIf",o.sussScanNextConf),e.xp6(5),e.Oqu(e.lcZ(31,16,"lang_auto_huong_dan_doi_mat_khau_tren_azota")),e.xp6(3),e.Q6J("routerLink",e.VKq(24,To,e.lcZ(34,18,o.backLink?o.backLink:"/auth/login")))("queryParams",e.DdM(26,Ms)),e.xp6(2),e.hij(" ",e.lcZ(36,20,o.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_dang_nhap_tai_khoan")," "))},dependencies:[_e.rH,h.mk,h.O5,v._Y,v.Fj,v.JJ,v.JL,un.Hw,v.sg,v.u,Hn,fe.M,se.n,E.Jy,E.JV],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),n})();var xr=b(67742);function Ds(n,u){if(1&n&&(e.TgZ(0,"div",3),e.O4$(),e.TgZ(1,"svg",4),e._UZ(2,"line",5)(3,"line",6)(4,"circle",7),e.qZA(),e._uU(5),e.qZA()),2&n){const t=e.oxw();e.xp6(5),e.hij(" ",t.stringDuration," ")}}let In=(()=>{class n extends Y.Q{constructor(){super(...arguments),this.content="",this.width=0,this.height=0,this.expired=0,this.expiredAction=new e.vpe,this.startDuration=0,this.isDuration=!1,this.stringDuration="__ : __",this.qrCodeDownloadLink="",this.contentNew=""}ngAfterViewInit(){setTimeout(()=>{this.reInitComponent()},0)}reInitComponent(){this.bindUrlToQrCode(),0!=this.expired&&(this.isDuration=!0,this.startDuration=Math.floor(Date.now()/1e3),this.initLoopDuration())}initLoopDuration(){this.qrCode&&(this.loopDuration=setInterval(()=>{var t=Math.floor(Date.now()/1e3),l=this.expired-(t-this.startDuration);if(l<0)this.clearLoopDuration(),this.qrCode.clear(),this.expiredAction.emit();else{var p=Math.floor(l/60),C=l-60*p;this.stringDuration=(p<10?"0"+p:""+p)+" : "+(C<10?"0"+C:""+C)}},1e3))}clearLoopDuration(){this.loopDuration&&clearInterval(this.loopDuration)}bindUrlToQrCode(){this.contentNew=Tn.encode(this.content)}onChangeURL(t){this.qrCodeDownloadLink=t}downloadQrCode(t){this.commonService.downloadFileByUrl(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity,t=t||"azota-qr")}}return n.\u0275fac=function(){let u;return function(o){return(u||(u=e.n5z(n)))(o||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["azt-create-qr-image"]],inputs:{content:"content",width:"width",height:"height",expired:"expired"},outputs:{expiredAction:"expiredAction"},features:[e.qOj],decls:3,vars:4,consts:[[1,"qr-scan-box"],["class","mx-auto flex items-center justify-center mb-2",4,"ngIf"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | convertCdnLinkOfGitHub",3,"qrdata","width","errorCorrectionLevel","qrCodeURL"],[1,"mx-auto","flex","items-center","justify-center","mb-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","mr-2","lucide"],["x1","10","x2","14","y1","2","y2","2"],["x1","12","x2","15","y1","14","y2","11"],["cx","12","cy","14","r","8"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ds,6,1,"div",1),e.TgZ(2,"qrcode",2),e.NdJ("qrCodeURL",function(p){return o.onChangeURL(p)}),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isDuration),e.xp6(1),e.Q6J("qrdata",o.contentNew)("width",o.width)("errorCorrectionLevel","M"))},dependencies:[h.O5,xr.V],encapsulation:2}),n})();const js=["elementCreateQr"];function Fs(n,u){if(1&n&&(e.TgZ(0,"div",11),e._UZ(1,"azt-create-qr-image",12,13),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("content",t.contentQrcodeHash)("width",300)("height",300)("expired",0)}}function Qs(n,u){if(1&n&&(e.TgZ(0,"div",14),e.O4$(),e.TgZ(1,"svg",15),e._UZ(2,"path",16)(3,"path",17)(4,"path",18)(5,"line",19),e.qZA(),e.kcU(),e.TgZ(6,"div",20),e._uU(7),e.qZA()()),2&n){const t=e.oxw();e.xp6(7),e.hij(" ",t.noticeContentString," ")}}function zs(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"button",22),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.downloadQrCode())}),e.O4$(),e.TgZ(2,"svg",23),e._UZ(3,"path",24)(4,"polyline",25)(5,"line",26),e.qZA(),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()}2&n&&(e.xp6(6),e.hij(" ",e.lcZ(7,1,"lang_auto_tai_xuong_ma")," "))}function Bs(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"button",27),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.openDialog())}),e.O4$(),e.TgZ(2,"svg",23),e._UZ(3,"path",28)(4,"line",29)(5,"line",30)(6,"circle",31)(7,"path",32),e.qZA(),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()}2&n&&(e.xp6(8),e.hij(" ",e.lcZ(9,1,"lang_auto_tao_ma_quen_mat_khau_moi")," "))}const Ar=function(n){return[n]};function Js(n,u){1&n&&(e.TgZ(0,"a",33),e.ALo(1,"navigationLocalize"),e.O4$(),e.TgZ(2,"svg",34),e._UZ(3,"polyline",35),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()),2&n&&(e.Q6J("routerLink",e.VKq(6,Ar,e.lcZ(1,2,"/admin/dashboard"))),e.xp6(4),e.hij(" ",e.lcZ(5,4,"lang_auto_quay_lai_dashboard")," "))}function Vs(n,u){1&n&&(e.TgZ(0,"a",36),e.ALo(1,"navigationLocalize"),e.O4$(),e.TgZ(2,"svg",34),e._UZ(3,"polyline",35),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()),2&n&&(e.Q6J("routerLink",e.VKq(6,Ar,e.lcZ(1,2,"/student/classroom/0"))),e.xp6(4),e.hij(" ",e.lcZ(5,4,"lang_auto_quay_lai_dashboard")," "))}let Io=(()=>{class n extends Y.Q{checkQrThisMe(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCheckForgotPasswordQrCodeGet().subscribe(t=>{1==t.success?0!=t?.data?.status?this.commonService.getTranslate("lang_auto_ma_qrcode_da_ton_tai_ban_khong_the_xem_ma_hien_tai_tao_ma_moi_trong_truong_hop_ban_da_mat_ma_qrcode").subscribe(o=>{this.noticeContentString=o}):this.commonService.getTranslate("lang_auto_ban_chua_tao_ma_qrcode_dung_trong_truong_hop_quen_mat_khau_vui_long_tao_ma_qrcode_moi").subscribe(o=>{this.noticeContentString=o}):this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}createQrcodeForgot(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCreateForgotPasswordQrCodeGet().subscribe(t=>{1==t.success?this.contentQrcodeHash=t.data?.qrCode??"":this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}openDialog(){this.sAztDialogService.open(Ws,{restoreFocus:!1}).afterClosed().subscribe(o=>{!0===o&&this.createQrcodeForgot()})}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrCode("azota-forgot")}ngOnInit(){var t=this.commonService.getMyParam(this.activeRoute,"role")??"0";this.role=parseInt(t,10),this.checkQrThisMe(),super.ngOnInit()}constructor(t,o,l){super(),this.sAztDialogService=t,this.activeRoute=o,this.qrCodeForgotPasswordService=l,this.noticeContentString="",this.contentQrcodeHash="",this.role=0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(vt.C),e.Y36(_e.gz),e.Y36(Q.qY))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-gzip-tool"]],viewQuery:function(t,o){if(1&t&&e.Gf(js,5),2&t){let l;e.iGM(l=e.CRH())&&(o.elementCreateQr=l.first)}},features:[e.qOj],decls:15,vars:9,consts:[[1,"azt-qr-create"],[1,"intro-x","font-bold","text-2xl","xl:text-3xl","text-center","xl:text-left"],[1,"intro-x","mt-3"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3","flex","items-center",2,"height","350px"],["class","mx-auto",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"mt-3"],["class","card-center-row",4,"ngIf"],[1,"intro-x","text-left","mt-3"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],[1,"mx-auto"],[3,"content","width","height","expired"],["elementCreateQr",""],[1,"text-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mx-auto"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"qrcode-block-note","mt-2"],[1,"card-center-row"],["azt-track-service","create-qr-forgot-pass-9vcu1Ng4V",1,"w-full","btn","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],["azt-track-service","create-qr-forgot-pass-n8eXxdvi7Z",1,"w-full","btn","btn-primary",3,"click"],["d","M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"],["x1","16","y1","5","x2","22","y2","5"],["x1","19","y1","2","x2","19","y2","8"],["cx","9","cy","9","r","2"],["d","m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO",1,"text-primary","dark:text-slate-200",3,"routerLink"],["_ngcontent-serverApp-c452","","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa",1,"text-primary","dark:text-slate-200",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout")(1,"div",0)(2,"h3",1),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",2)(6,"div",3),e.YNc(7,Fs,3,4,"div",4),e.YNc(8,Qs,8,1,"div",5),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,zs,8,3,"div",7),e.YNc(11,Bs,10,3,"div",7),e.qZA()(),e.TgZ(12,"div",8),e.YNc(13,Js,6,8,"a",9),e.YNc(14,Vs,6,8,"a",10),e.qZA()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,7,"lang_auto_qrcode_quen_mat_khau")," "),e.xp6(4),e.Q6J("ngIf",o.contentQrcodeHash),e.xp6(1),e.Q6J("ngIf",!o.contentQrcodeHash&&o.noticeContentString),e.xp6(2),e.Q6J("ngIf",o.contentQrcodeHash),e.xp6(1),e.Q6J("ngIf",!o.contentQrcodeHash),e.xp6(2),e.Q6J("ngIf",0==o.role),e.xp6(1),e.Q6J("ngIf",1==o.role))},dependencies:[_e.rH,h.O5,In,Je.J,E.Jy,E.JV]}),n})(),Ws=(()=>{class n extends X.e{}return n.\u0275fac=function(){let u;return function(o){return(u||(u=e.n5z(n)))(o||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["dialog-conf-content-qrcode-dialog"]],features:[e.qOj],decls:41,vars:28,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-lg","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8","mr-2","text-pending"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],[1,"mt-2"],[1,"text-slate-500","dark:text-slate-400"],[1,"text-slate-500","dark:text-slate-400","mt-1"],[1,"text-right","p-3"],["mat-dialog-close","",1,"btn","btn-secondary","mr-2"],["azt-track-service","create-qr-forgot-pass-5ED6jrYOKwh","cdkFocusInitial","",1,"btn","btn-primary",3,"mat-dialog-close"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"rect",5)(6,"rect",6)(7,"rect",7)(8,"path",8)(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13)(14,"path",14)(15,"path",15)(16,"path",16),e.qZA(),e._uU(17),e.ALo(18,"mytranslate"),e.qZA(),e.kcU(),e.TgZ(19,"div",17)(20,"p",18),e._uU(21),e.ALo(22,"mytranslate"),e.ALo(23,"mytranslate"),e.ALo(24,"mytranslate"),e.qZA(),e.TgZ(25,"p",19),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"p",19),e._uU(29),e.ALo(30,"mytranslate"),e._UZ(31,"br"),e._uU(32),e.ALo(33,"mytranslate"),e.qZA()()()(),e.TgZ(34,"div",20)(35,"button",21),e._uU(36),e.ALo(37,"mytranslate"),e.qZA(),e.TgZ(38,"button",22),e._uU(39),e.ALo(40,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(17),e.hij(" ",e.lcZ(18,10,"lang_auto_trinh_tao_ma_qrcode_quen_mat_khau")," "),e.xp6(4),e.lnq(" ",e.lcZ(22,12,"lang_auto_bam"),' "',e.lcZ(23,14,"lang_auto_xac_nhan"),'" ',e.lcZ(24,16,"lang_auto_dong_nghia_voi_viec_ban_da_hieu_ve_cac_dieu_sau")," "),e.xp6(5),e.hij(" ",e.lcZ(27,18,"lang_auto_1_ma_qrcode_quen_mat_khau_la_duy_nhat_khi_ban_tao_moi_ma_ma_cu_se_khong_con_gia_tri_su_dung")," "),e.xp6(3),e.hij(" ",e.lcZ(30,20,"lang_auto_2_ma_qrcode_quen_mat_khau_la_chia_khoa_vui_long_khong_chia_se_hay_de_nguoi_khac_co_duoc_ma_qrcode_cua_ban")," "),e.xp6(3),e.hij(" ",e.lcZ(33,22,"lang_auto_sau_khi_tao_thanh_cong_vui_long_tai_xuong_ma_qrcode_de_su_dung_cho_muc_dich_quen_mat_khau_sau_nay")," "),e.xp6(4),e.hij(" ",e.lcZ(37,24,"lang_auto_huy")," "),e.xp6(2),e.Q6J("mat-dialog-close",!0),e.xp6(1),e.hij(" ",e.lcZ(40,26,"lang_auto_xac_nhan")," "))},dependencies:[D.ZT,E.JV],encapsulation:2}),n})(),Ys=(()=>{class n extends Y.Q{constructor(){super(...arguments),this.step_by_step=3}redirectToCreateQrCode(){this.commonService.myNavigation("/auth/create-qr-forgot-pass/0")}redirectToHome(){this.commonService.myNavigation("/admin/dashboard")}}return n.\u0275fac=function(){let u;return function(o){return(u||(u=e.n5z(n)))(o||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],features:[e.qOj],decls:30,vars:15,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6","m-5"],["src","'images/logo.svg' | convertCdnLinkOfGitHub","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"h5"],[1,"card-body"],[1,"btn-block-center","mt-3"],["azt-track-service","forgot_password_qr_success-cwgNnhhKK9",1,"btn","btn-outline-info","w-100","mr-3",3,"click"],["azt-track-service","forgot_password_qr_success-Ku6yqYsszo",1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"div",6)(7,"div",7),e._UZ(8,"div",8)(9,"div",8)(10,"div",8),e.qZA()(),e._UZ(11,"br")(12,"br"),e.TgZ(13,"div",9)(14,"div",10)(15,"span",11),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()(),e.TgZ(18,"div",12)(19,"p"),e._uU(20),e.ALo(21,"mytranslate"),e.qZA(),e.TgZ(22,"div",13)(23,"a",14),e.NdJ("click",function(){return o.redirectToHome()}),e._uU(24),e.ALo(25,"mytranslate"),e.qZA(),e.TgZ(26,"a",15),e.NdJ("click",function(){return o.redirectToCreateQrCode()}),e._uU(27),e.ALo(28,"mytranslate"),e.qZA()()()()(),e._UZ(29,"div",3),e.qZA()()()),2&t&&(e.xp6(8),e.Q6J("ngClass",o.step_by_step+2==1?"active":o.step_by_step+2>1?"active pro":""),e.xp6(1),e.Q6J("ngClass",o.step_by_step+2==2?"active":o.step_by_step+2>2?"active pro":""),e.xp6(1),e.Q6J("ngClass",o.step_by_step+2==3?"active":o.step_by_step+2>3?"active pro":""),e.xp6(6),e.Oqu(e.lcZ(17,7,"lang_auto_doi_mat_khau_moi_thanh_cong")),e.xp6(4),e.Oqu(e.lcZ(21,9,"lang_auto_ban_da_doi_mat_khau_moi_thanh_cong_ma_qrcode_da_su_dung_co_the_su_dung_lai_de_dam_bao_an_toan_ban_nen_tao_lai_ma_qrcode")),e.xp6(4),e.Oqu(e.lcZ(25,11,"lang_auto_bo_qua_va_ve_trang_chu")),e.xp6(3),e.Oqu(e.lcZ(28,13,"lang_auto_tao_lai_ma_qrcode")))},dependencies:[h.mk,E.JV],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.btn-block-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}']}),n})(),wr=(()=>{class n extends Y.Q{ngOnInit(){super.ngOnInit();var t=/iPad|iPhone|iPod/.test(window.navigator.userAgent),o=this.commonService.getMyParam(this.activeRoute,"code")?.toString(),l=this.commonService.getMyParam(this.activeRoute,"fromApp")?.toString();"teacher"==l?t?window.location.replace("azota://"+o):window.location.replace("https://aztappteacher.page.link/"+o):window.location.replace("https://azt.page.link/"+o)}constructor(t){super(),this.activeRoute=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_e.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-go-to-mobile"]],features:[e.qOj],decls:9,vars:3,consts:[[1,"centerBoth"],[1,"text-center"],["version","1.1","id","jobing-j-drawit","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 109 92.9",0,"xml","space","preserve",1,"w-12","mx-auto",2,"enable-background","new 0 0 109 92.9"],["d","M90.8,52c3.5,6.2,7.1,11.7,9.8,17.7c4.4,9.7-2.9,20.7-13.8,20.9c-11.8,0.2-23.7,0.2-35.5,0 c-11-0.1-17.6-12.2-12-21.7c0.4-0.8,1.8-1.4,2.7-1.4c9.9-0.1,19.7-0.1,29.6-0.1c9.8,0,15.9-4.6,18.7-14C90.4,53.2,90.5,52.9,90.8,52 z",1,"azt-svg-loading","jobing-j"],["d","M39.6,90.3c-6.8,0-13.8,0.8-20.5-0.2c-9.7-1.4-15-12.8-10.3-21.3c5.9-10.9,12.1-21.6,18.5-32.2 c5.5-9,18.6-8.7,24.2,0.2c0.7,1.1,0.8,1.9,0.1,3.1C46.7,48.3,42,57,36.8,65.3c-5.3,8.4-3.8,18.8,2.5,24.6 C39.5,89.9,39.5,90.2,39.6,90.3z",1,"azt-svg-loading","jobing-j"],["d","M32.5,27.3c3.3-5.7,6.1-11,9.4-16c5.9-9.1,19.4-9.2,25.1,0c6.5,10.4,12.6,21,18.3,31.7 c4.8,9-1.5,19.9-11.5,20.7c-1.6,0.1-2.6-0.2-3.5-1.8c-4.8-8.6-9.8-17.1-14.7-25.6c-4.7-8.3-12.5-11.6-21.7-9.2 C33.6,27.1,33.3,27.1,32.5,27.3z",1,"azt-svg-loading","jobing-j"],[1,"p-0","mt-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.O4$(),e.TgZ(2,"svg",2),e._UZ(3,"path",3)(4,"path",4)(5,"path",5),e.qZA(),e.kcU(),e.TgZ(6,"h3",6),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(7),e.hij("",e.lcZ(8,1,"lang_core_dang_chuyen_ve_app"),"..."))},dependencies:[E.JV],styles:[".centerBoth[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;font-weight:500}"]}),n})();var Cr=b(76202),So=(b(30229),b(87879),b(36820),b(81374)),Gs=(b(8661),b(78645)),Gn=b(22096),Sn=b(65592),Kn=b(2459),Ks=b(63019),Lt=b(94664),$n=b(37398),ko=b(67081),$s=b(84674);function Xn(n,u){return(0,$s.m)(u)?(0,Lt.w)(()=>n,u):(0,Lt.w)(()=>n)}var Xs=b(32181);const Zo=new e.OlP("angularfire2.auth.use-emulator"),Tr=new e.OlP("angularfire2.auth.settings"),ei=new e.OlP("angularfire2.auth.tenant-id"),Ir=new e.OlP("angularfire2.auth.langugage-code"),Sr=new e.OlP("angularfire2.auth.use-device-language"),ec=new e.OlP("angularfire.auth.persistence");let ti=(()=>{class n{constructor(t,o,l,p,C,N,W,ie,Ze,Oe,it,Se){(0,c.Z)(this,"authState",void 0),(0,c.Z)(this,"idToken",void 0),(0,c.Z)(this,"user",void 0),(0,c.Z)(this,"idTokenResult",void 0),(0,c.Z)(this,"credential",void 0);const Ge=new Gs.x,Qt=(0,Gn.of)(void 0).pipe((0,ee.Q)(C.outsideAngular),(0,Lt.w)(()=>p.runOutsideAngular(()=>Promise.resolve().then(b.bind(b,8661)))),(0,$n.U)(()=>j(t,p,o)),(0,$n.U)(xt=>((n,u,t,o,l,p,C,N)=>function lt(n,u,t,o,l){const[,p,C]=globalThis.\u0275AngularfireInstanceCache.find(N=>N[0]===n)||[];if(p)return function Rt(n,u){try{return n.toString()===u.toString()}catch{return n===u}}(l,C)||(Ut("error",`${u} was already initialized on the ${t} Firebase App with different settings.${Tt?" You may need to reload as Firebase is not HMR aware.":""}`),Ut("warn",{is:l,was:C})),p;{const N=o();return globalThis.\u0275AngularfireInstanceCache.push([n,N,l]),N}}(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const W=u.runOutsideAngular(()=>n.auth());if(t&&W.useEmulator(...t),o&&(W.tenantId=o),W.languageCode=l,p&&W.useDeviceLanguage(),C)for(const[ie,Ze]of Object.entries(C))W.settings[ie]=Ze;return N&&W.setPersistence(N),W},[t,o,l,p,C,N]))(xt,p,N,ie,Ze,Oe,W,it)),(0,ko.d)({bufferSize:1,refCount:!1}));if((0,h.PM)(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Gn.of)(null);else{Qt.pipe((0,So.P)()).subscribe();const xt=Qt.pipe((0,Lt.w)(Qe=>Qe.getRedirectResult().then(_t=>_t,()=>null)),At,(0,ko.d)({bufferSize:1,refCount:!1})),an=Qt.pipe((0,Lt.w)(Qe=>new Sn.y(_t=>({unsubscribe:p.runOutsideAngular(()=>Qe.onAuthStateChanged(st=>_t.next(st),st=>_t.error(st),()=>_t.complete()))})))),Pt=Qt.pipe((0,Lt.w)(Qe=>new Sn.y(_t=>({unsubscribe:p.runOutsideAngular(()=>Qe.onIdTokenChanged(st=>_t.next(st),st=>_t.error(st),()=>_t.complete()))}))));this.authState=xt.pipe(Xn(an),(0,B.R)(C.outsideAngular),(0,ee.Q)(C.insideAngular)),this.user=xt.pipe(Xn(Pt),(0,B.R)(C.outsideAngular),(0,ee.Q)(C.insideAngular)),this.idToken=this.user.pipe((0,Lt.w)(Qe=>Qe?(0,Kn.D)(Qe.getIdToken()):(0,Gn.of)(null))),this.idTokenResult=this.user.pipe((0,Lt.w)(Qe=>Qe?(0,Kn.D)(Qe.getIdTokenResult()):(0,Gn.of)(null))),this.credential=(0,Ks.T)(xt,Ge,this.authState.pipe((0,Xs.h)(Qe=>!Qe))).pipe((0,$n.U)(Qe=>Qe?.user?Qe:null),(0,B.R)(C.outsideAngular),(0,ee.Q)(C.insideAngular))}return((n,u,t,o={})=>new Proxy(n,{get:(l,p)=>t.runOutsideAngular(()=>{if(n[p])return o?.spy?.get&&o.spy.get(p,n[p]),n[p];if(Te.indexOf(p)>-1)return()=>{};const C=u.toPromise().then(N=>{const W=N?.[p];return"function"==typeof W?W.bind(N):W?.then?W.then(ie=>t.run(()=>ie)):t.run(()=>W)});return new Proxy(()=>{},{get:(N,W)=>C[W],apply:(N,W,ie)=>C.then(Ze=>{const Oe=Ze?.(...ie);return o?.spy?.apply&&o.spy.apply(p,ie,Oe),Oe})})})}))(this,Qt,p,{spy:{apply:(xt,an,Pt)=>{(xt.startsWith("signIn")||xt.startsWith("createUser"))&&Pt.then(Qe=>Ge.next(Qe))}}})}}return(0,c.Z)(n,"\u0275fac",function(t){return new(t||n)(e.LFG(Ie),e.LFG(F,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(P),e.LFG(Zo,8),e.LFG(Tr,8),e.LFG(ei,8),e.LFG(Ir,8),e.LFG(Sr,8),e.LFG(ec,8),e.LFG(H,8))}),(0,c.Z)(n,"\u0275prov",e.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"})),n})(),nc=(()=>{class n extends Y.Q{constructor(t,o,l){super(),this.fireAuth=t,this.authService=o,this.redirectByRoleService=l,this.fireAuth.authState.pipe((0,So.P)()).subscribe(p=>{p?this.signInWithTokenGoogle(p):this.googleSignIn()})}signInWithTokenGoogle(t){const o=this.commonService.getMyQueryParam("type");t.getIdToken().then(l=>{let p={isRegisterForm:0,isRegisterForTeacher:0,firebaseToken:l??"",language:this.commonService.getCurrentLang()};this.waitDestroy(this.authService.apiAuthAuthByFirebasePost(p).subscribe(C=>{if(1==C.success){let W=this.commonService.getMyQueryParam("return_url")??"";if(""===W){let ie=this.commonService.getMyQueryParam("backto")??"";var N=ie.includes("return_url=")?ie.split("return_url=")[1]:"";W=decodeURIComponent(N)}1==C.data?.isNewRegister?this.myNavigationWithQueryString("/auth/choose-role",`?return_url=${encodeURIComponent(W)}`):"0"==o?this.redirectByRoleService.redirectLoginForStudent(W):this.redirectByRoleService.redirectLoginByRole(W)}else{this.errorStatusObj(C.message??"",!0);const W=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(W)}}))})}googleSignIn(){this.fireAuth.signInWithRedirect(new Cr.W).then(()=>this.fireAuth.getRedirectResult().then(t=>{})).catch(t=>{const o=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(o)})}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ti),e.Y36(Q.e8),e.Y36(yt.C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["login-by-openapi"]],features:[e.qOj],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"azt-loading-ui",2),e.qZA(),e.TgZ(3,"div",3),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("type","azota-logo"),e.xp6(2),e.hij(" ",e.lcZ(5,2,"lang_auth_logging_in_please_wait")," "))},dependencies:[se.n,E.JV],encapsulation:2}),n})(),kr=(()=>{class n extends Y.Q{loginZalo(){window.location.href=this.zaloLoginUrl}loginWithAccessToken(t){var o=this.userService.getUserObjFromJwtToken(t);null!=o?(this.userService.saveUserObj(o),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj("lang_core_invalid_login_token"),this.commonService.myNavigationBySpecialQueryString(`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`))}ngOnInit(){super.ngOnInit(),this.initStatusObj();var t=this.commonService.getMyQueryParam("zaccess_token")??"",o=this.commonService.getMyQueryParam("not_register");this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=rt.N.auth_external_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login-by-zalo")+"?return_url="+encodeURIComponent(this.returnUrl)+"&is_login=1");let l=this.commonService.getMyQueryParam("hasError");!o&&t?this.loginWithAccessToken(t):o&&!this.isBusinessDomain?this.commonService.myNavigationBySpecialQueryString(`/auth/register?return_url=${encodeURIComponent(this.returnUrl)}&user_click=true`):l?(this.commonService.snackError("lang_auth_login_by_zalo_error"),this.commonService.myNavigationBySpecialQueryString(`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`)):this.loginZalo()}constructor(t,o,l){super(),this.redirectByRoleService=t,this.redirectService=o,this.userService=l,this.returnUrl="",this.zaloLoginUrl=""}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(yt.C),e.Y36(We.z),e.Y36(Ne.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login-by-zalo"]],features:[e.qOj],decls:3,vars:1,consts:[[1,"azt-login-form"],[3,"currentStatusObj"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout")(1,"div",0),e._UZ(2,"azt-loading-effect",1),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("currentStatusObj",o.statusObj))},dependencies:[Ue.l,Je.J],encapsulation:2}),n})();const ic=["elementCreateQr"],Tc=["aztScanQrcode"];function a(n,u){1&n&&(e.TgZ(0,"div",25),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_de_dang_nhap_len_thiet_bi_nay_vui_long_tao_ma_de_thiet_bi_da_dang_nhap_quet")))}function i(n,u){1&n&&(e.TgZ(0,"div",25),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_dung_thiet_bi_can_dang_nhap_quet_ma_ben_duoi")))}function r(n,u){if(1&n&&(e.TgZ(0,"div",26)(1,"span",27),e._UZ(2,"azt-loading-ui"),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.AsE(" ",e.lcZ(4,2,"lang_auto_dang_cho_quet_ma_qrcode"),": ",t.nameSessionConfirm," ")}}function s(n,u){1&n&&(e.TgZ(0,"div",26)(1,"span",27),e._UZ(2,"azt-loading-ui"),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()),2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_auto_dang_cho_quet_ma_qrcode")," "))}function d(n,u){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e._UZ(3,"br"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,3,"lang_auto_xac_nhan_dang_nhap_tai_khoan")," "),e.xp6(3),e.AsE(" ",e.lcZ(5,5,"lang_auto_voi_ma_qr_da_phat_hien"),": ",t.nameSessionConfirm," ")}}function m(n,u){1&n&&(e.TgZ(0,"div")(1,"span",27),e._UZ(2,"azt-loading-ui"),e.qZA(),e.TgZ(3,"span",35),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_auto_dang_cho_xu_ly")))}function A(n,u){if(1&n&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultErr)}}function k(n,u){if(1&n&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultSuss)}}function L(n,u){1&n&&(e.TgZ(0,"span",27),e._UZ(1,"azt-loading-ui"),e.qZA())}function V(n,u){1&n&&(e.TgZ(0,"span",27),e._UZ(1,"azt-loading-ui"),e.qZA())}function $(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"button",39),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.confContentPendingLogin(1))}),e.YNc(2,L,2,0,"span",40),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"button",41),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.confContentPendingLogin(2))}),e.YNc(6,V,2,0,"span",40),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.isLoadingBtn||t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",e.lcZ(4,6,"lang_auto_chap_nhan")," "),e.xp6(2),e.Q6J("disabled",t.isLoadingBtn||t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",e.lcZ(8,8,"lang_auto_tu_choi")," ")}}function be(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",42),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.backScanActionWithIsLogin())}),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_quay_lai")))}function at(n,u){if(1&n&&(e.TgZ(0,"div",28)(1,"div",29)(2,"div",30),e.YNc(3,d,6,7,"span",31),e.qZA(),e.YNc(4,m,6,3,"div",31),e.YNc(5,A,2,1,"div",32),e.YNc(6,k,2,1,"div",33),e.YNc(7,$,9,10,"div",34),e.YNc(8,be,4,3,"div",31),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.nameSessionConfirm),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.Q6J("ngIf",t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.textResultSuss),e.xp6(1),e.Q6J("ngIf",!t.textResultSuss||!t.isConfirmBtn),e.xp6(1),e.Q6J("ngIf",t.isLogin&&!1===t.isLoadingBtn&&!0===t.isConfirmBtn)}}function Yt(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",46),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.createRequestLoginHashCodeAction())}),e.TgZ(1,"div",47)(2,"div")(3,"mat-icon"),e._uU(4,"sync"),e.qZA()(),e.TgZ(5,"div"),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()()}2&n&&(e.xp6(6),e.Oqu(e.lcZ(7,1,"lang_auto_tao_moi_ma")))}function ni(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"azt-create-qr-image",48,49),e.NdJ("expiredAction",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.expiredQrcodeAction())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("content",t.contentCreateQrcode)("width",300)("height",300)("expired",t.durationQrcodeExpire)}}function Zr(n,u){if(1&n&&(e.TgZ(0,"div",43),e.YNc(1,Yt,8,3,"div",44),e.YNc(2,ni,2,4,"azt-create-qr-image",45),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!1===t.isLogin&&!t.contentCreateQrcode),e.xp6(1),e.Q6J("ngIf",t.contentCreateQrcode)}}function Oo(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"a",50),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.downloadQrCode())}),e.TgZ(1,"mat-icon"),e._uU(2,"download"),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_auto_tai_xuong_ma")," "))}function Or(n,u){1&n&&(e.TgZ(0,"div",51)(1,"span",52),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_auto_hoac")," "))}function Er(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"a",53),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.switchModeView())}),e.TgZ(2,"span",54)(3,"mat-icon",55),e._uU(4,"center_focus_strong"),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()()}2&n&&(e.xp6(5),e.hij(" ",e.lcZ(6,1,"lang_auto_quet_ma_qr_co_san")," "))}function Eo(n,u){if(1&n&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultErr)}}function Lr(n,u){if(1&n&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultSuss)}}function Pr(n,u){1&n&&(e.TgZ(0,"span",27),e._UZ(1,"azt-loading-ui"),e.qZA())}function Lo(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"button",56),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.confContentLogin())}),e.YNc(2,Pr,2,0,"span",40),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"button",57),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.reopenScanCamInit())}),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.isLoadingBtn||t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",e.lcZ(4,5,"lang_auto_dang_nhap")," "),e.xp6(2),e.Q6J("disabled",t.isLoadingBtn),e.xp6(1),e.Oqu(e.lcZ(7,7,"lang_auto_thu_lai"))}}function Nr(n,u){if(1&n&&(e.TgZ(0,"div",28)(1,"div",29)(2,"div",30),e._uU(3),e.ALo(4,"mytranslate"),e._UZ(5,"br"),e._uU(6),e.ALo(7,"mytranslate"),e.qZA(),e.YNc(8,Eo,2,1,"div",32),e.YNc(9,Lr,2,1,"div",33),e.YNc(10,Lo,8,9,"div",34),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,5,"lang_auto_xac_nhan_dang_nhap_tai_khoan")," "),e.xp6(3),e.hij(" ",e.lcZ(7,7,"lang_auto_voi_ma_qr_da_phat_hien")," "),e.xp6(2),e.Q6J("ngIf",t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.textResultSuss),e.xp6(1),e.Q6J("ngIf",!t.textResultSuss)}}function oc(n,u){1&n&&(e.TgZ(0,"div")(1,"span",27),e._UZ(2,"azt-loading-ui"),e.qZA(),e.TgZ(3,"span",35),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_auto_dang_cho_xu_ly")))}function Po(n,u){if(1&n&&e._UZ(0,"div",61),2&n){const t=e.oxw(2);e.Q6J("innerHTML",t.textResultErr,e.oJD)}}function rc(n,u){1&n&&(e.TgZ(0,"span",27),e._UZ(1,"azt-loading-ui"),e.qZA())}function Rc(n,u){if(1&n&&(e.TgZ(0,"button",62),e.YNc(1,rc,2,0,"span",40),e._uU(2),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("disabled",!t.textResultSuss),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",t.textResultSuss," ")}}function Uc(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e._UZ(6,"br"),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,oc,6,3,"div",31),e.YNc(10,Po,1,1,"div",58),e.TgZ(11,"div",38),e.YNc(12,Rc,3,3,"button",59),e.TgZ(13,"button",60),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.reopenScanCamInit())}),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,8,"lang_auto_dang_nhap_tai_khoan")," "),e.xp6(3),e.AsE(" ",e.lcZ(8,10,"lang_auto_voi_ma_qr_da_phat_hien"),": ",t.nameSessionConfirm," "),e.xp6(2),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.Q6J("ngIf",t.textResultErr),e.xp6(2),e.Q6J("ngIf",!t.textResultSuss&&t.isLoadingBtn),e.xp6(1),e.Q6J("disabled",t.isLoadingBtn),e.xp6(1),e.Oqu(e.lcZ(15,12,"lang_auto_thu_lai"))}}const ac=function(n){return{hiddenIpt:n}},Mc=function(n){return[n]};let qc=(()=>{class n extends Y.Q{forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}reloadLogin(){this.isLogin&&this.redirectService.redirectToDashboard()}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrCode("azota-login")}switchModeView(){this.modeShowInit="create"===this.modeShowInit?"scan":"create",this.elementZztScanQrcode&&("scan"===this.modeShowInit?(this.elementZztScanQrcode.initScanCam(),this.clearLoopRefLogin(),this.clearLoopPendingLogin()):(this.elementZztScanQrcode.unInitSscanCam(),this.initLoopRefLogin(),this.initPendingLoadingConfirm()))}clearLoopPendingLogin(){this.loopPendingLogin&&clearInterval(this.loopPendingLogin)}clearLoopRefLogin(){this.loopRefCheckQrcodeLogin&&clearInterval(this.loopRefCheckQrcodeLogin)}reopenScanCamInit(){this.textResultErr="",this.textResultSuss="",this.elementZztScanQrcode&&(this.elementZztScanQrcode.initScanCam(),this.sussScanNextConf=!1)}backScanActionWithIsLogin(){this.isLogin&&(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.createQrCodeWithUser())}expiredQrcodeAction(){this.pendingDuration||(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.isLogin?(this.createQrCodeWithUser(),this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_da_tao_ma_qrcode_moi_vui_long_thao_tac_lai")):this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_vui_long_tao_moi_va_thao_tac_lai"))}createQrCodeWithUser(){this.initStatusObj(),this.waitDestroy(this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeGet().subscribe(t=>{1==t.success?(this.successStatusObj(),this.contentCreateQrcode=t?.data?.qrCode??"",this.durationQrcodeExpire=t?.data?.duration??0,this.initPendingLoadingConfirm()):this.errorStatusObj("lang_auto_khong_tai_duoc_du_lieu",!0)}))}outContentScan(t){null!==t?(this.scanQrContent=t,this.sussScanNextConf=!0,this.isLogin||(this.elementZztScanQrcode?.pauseScanQrcode(),this.isLoadingBtn=!0,this.textResultSuss="",this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeRequestPost({qrCode:this.scanQrContent}).subscribe(l=>{this.isLoadingBtn=!1,1==l.success?(this.isLoadingBtn=!0,this.scanQrContentConfirm=l?.data?.qrCode??"",this.nameSessionConfirm=l?.data?.name??"",this.textResultSuss="",this.initLoopPendingLogin()):(this.textResultSuss="",this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(p=>{this.textResultErr=p}))}))):(this.sussScanNextConf=!0,this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(l=>{this.textResultErr=l}),this.showErrorSnack("lang_auto_ma_qrcode_da_het_han_hoac_khong_dung_vui_long_dot"))}initLoopPendingLogin(){this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginCheckLoginQrCodeRequestConfirmedPost({qrCode:this.scanQrContentConfirm}).subscribe(o=>{1==o.success&&(1==o.data?.status?(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.textResultSuss="",this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dang_nhap_thanh_cong",!0),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):o.data&&2===o.data.status&&(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.errorStatusObj("lang_auto_xac_nhan_dang_nhap_that_bai",!0),this.commonService.getTranslate("lang_auto_xac_nhan_dang_nhap_that_bai_br_ma_qr_khong_con_hoat_dong_br_vui_long_tao_ma_qrcode_moi_de_dang_nhap_lai").subscribe(l=>{this.textResultErr=l}),this.textResultSuss=""))})},3e3)}initPendingLoadingConfirm(){this.isLogin&&(this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginGetFirstQrCodeLoginRequestGet().subscribe(t=>{1==t.success&&t.data&&""!==t.data.qrCode&&(this.pendingDuration=!0,this.scanQrContentConfirm=t?.data?.qrCode??"",this.nameSessionConfirm=t?.data?.name??"",this.clearLoopPendingLogin())})},3e3))}confContentPendingLogin(t){this.isLogin&&(this.isLoadingBtn=!0,this.qrCodeLoginService.apiQrCodeLoginConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContentConfirm,status:t}).subscribe(l=>{1==l.success?this.textResultSuss=1==t?this.commonService.myTranslateInstant("lang_auto_xac_nhan_thanh_cong")??"":this.commonService.myTranslateInstant("lang_auto_tu_choi_thanh_cong")??"":this.commonService.getTranslate("lang_auto_he_thong_khong_phan_hoi_vui_long_tai_lai_trang_de_thu_lai").subscribe(p=>{this.textResultErr=p}),this.isConfirmBtn=!0,this.isLoadingBtn=!1}))}createRequestLoginHashCodeAction(){this.isLogin||this.qrCodeLoginService.apiQrCodeLoginAnonymousCreateLoginQrCodePost().subscribe(t=>{1==t.success&&(this.contentCreateQrcode=t?.data?.qrCode??"",this.nameSessionConfirm=t?.data?.name??"",this.durationQrcodeExpire=t?.data?.duration??0,this.initLoopRefLogin())})}initLoopRefLogin(){0==this.isLogin&&(this.loopRefCheckQrcodeLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginAnonymousCheckLoginQrCodeRequestConfimedPost({qrCode:this.contentCreateQrcode,status:0}).subscribe(o=>{1===o.success&&404!=o?.data?.status&&(this.commonService.snackSuccess("lang_auto_dang_nhap_thanh_cong"),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""))})},3e3))}confContentLogin(){this.isLoadingBtn=!0,this.isLogin&&null!=this.scanQrContent&&this.qrCodeLoginService.apiQrCodeLoginAnonymousConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContent,status:1}).subscribe(o=>{this.isLoadingBtn=!1,o.success?this.commonService.getTranslate("lang_auto_xac_nhan_thanh_cong_phien_dang_nhap_da_duoc_phe_duyet").subscribe(l=>{this.textResultSuss=l}):this.commonService.getTranslate("lang_auto_thiet_bi_da_dang_nhap_hoac_ma_dang_nhap_khong_hop_le_vui_long_kiem_tra_va_thao_tac_lai").subscribe(l=>{this.textResultErr=l})})}ngOnInit(){var t=this.commonService.getMyParam(this.activeRoute,"role")??"0";switch(this.role=parseInt(t,10),this.role){case 0:this.backToLink="/admin/dashboard";break;case 1:this.backToLink="/student/classroom/0";break;case 2:this.backToLink="/auth/login"}this.isLogin=this.userService.isLogin(),this.isLogin&&this.createQrCodeWithUser(),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,o,l,p,C,N){super(),this.redirectByRoleService=t,this.userService=o,this.localStorageObject=l,this.activeRoute=p,this.qrCodeLoginService=C,this.redirectService=N,this.returnUrl="",this.isLogin=!1,this.modeShowInit="create",this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.pendingDuration=!1,this.role=0,this.backToLink=""}ngOnDestroy(){this.clearLoopRefLogin(),this.clearLoopPendingLogin(),super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(yt.C),e.Y36(Ne.U),e.Y36(on.y),e.Y36(_e.gz),e.Y36(Q.AF),e.Y36(We.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],viewQuery:function(t,o){if(1&t&&(e.Gf(ic,5),e.Gf(Tc,5)),2&t){let l;e.iGM(l=e.CRH())&&(o.elementCreateQr=l.first),e.iGM(l=e.CRH())&&(o.elementZztScanQrcode=l.first)}},features:[e.qOj],decls:40,vars:37,consts:[[1,"azt-qr-scan-content"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"leading-relaxed","text-center","xl:text-left","text-md","mt-1"],["class","text-center",4,"ngIf"],["class","mb-3 text-center",4,"ngIf"],[1,"intro-x","mt-2"],[1,"card"],[1,"loginscan__card-body"],[1,"loginscan_createmode",3,"ngClass"],["class","loginscan_scanmode_conf",4,"ngIf"],["class","loginscan__card-img",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","login-scan-qr-amoe-6G6Amy","class","link-center",3,"click",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"loginscan_scanmode",3,"ngClass"],[1,"text-center","mb-3"],["azt-track-service","login-scan-qr-g-u5HnuBE86","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/huong-dan-dang-nhap/","target","_blank",1,"text-primary"],[1,"loginscan_scanmode_cam",3,"ngClass"],[3,"outContentScan"],["aztScanQrcode",""],[1,"intro-x","text-left","mt-3"],["azt-track-service","login-scan-qr-oLWl-cJLxUM",1,"text-primary","dark:text-slate-200",3,"routerLink"],["_ngcontent-serverApp-c452","","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"],[1,"text-center"],[1,"mb-3","text-center"],[1,"w-4","h-4","inline-block","mr-2"],[1,"loginscan_scanmode_conf"],[1,"loginscan_scanmode_conf--box"],[1,"boxtext"],[4,"ngIf"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336",4,"ngIf"],["class","boxtext-suss","style","font-size: 20px; margin-bottom: 20px; color: #009688",4,"ngIf"],["class","mt-3",4,"ngIf"],[2,"font-size","18px"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336"],[1,"boxtext-suss",2,"font-size","20px","margin-bottom","20px","color","#009688"],[1,"mt-3"],["azt-track-service","login-scan-qr-5xO8XgnE61","type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],["azt-track-service","login-scan-qr-LNj275E9hcq","type","button",1,"btn","btn-warning",3,"disabled","click"],["azt-track-service","login-scan-qr-f626SfeIQSQ","type","button",1,"btn","btn-primary","mr-3",3,"click"],[1,"loginscan__card-img"],["azt-track-service","login-scan-qr-ingzQh7B2Gr","class","box-create-login-img",3,"click",4,"ngIf"],[3,"content","width","height","expired","expiredAction",4,"ngIf"],["azt-track-service","login-scan-qr-ingzQh7B2Gr",1,"box-create-login-img",3,"click"],[1,"box-create-login-content"],[3,"content","width","height","expired","expiredAction"],["elementCreateQr",""],["azt-track-service","login-scan-qr-amoe-6G6Amy",1,"link-center",3,"click"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],["azt-track-service","login-scan-qr-5VTDmj94V2y",1,"btn","btn-outline-primary","w-full","mt-2",3,"click"],[1,"link-center"],[1,"mr-1"],["azt-track-service","login-scan-qr-kwYxm678vBn","type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["azt-track-service","login-scan-qr-xsY-z0MbSuA","type","button",1,"btn","btn-warning",3,"disabled","click"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336; line-height: 30px",3,"innerHTML",4,"ngIf"],["type","button","class","btn btn-primary mr-3",3,"disabled",4,"ngIf"],["azt-track-service","login-scan-qr-a-hpGcRjoT5","type","button",1,"btn","btn-warning",3,"disabled","click"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336","line-height","30px",3,"innerHTML"],["type","button",1,"btn","btn-primary","mr-3",3,"disabled"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout")(1,"div",0)(2,"h3",1),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",2),e.YNc(6,a,3,3,"div",3),e.YNc(7,i,3,3,"div",3),e.YNc(8,r,5,4,"div",4),e.YNc(9,s,5,3,"div",4),e.qZA(),e.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8),e.YNc(14,at,9,6,"div",9),e.YNc(15,Zr,3,2,"div",10),e.TgZ(16,"div",11),e.YNc(17,Oo,5,3,"a",12),e.qZA(),e.YNc(18,Or,4,3,"div",13),e.YNc(19,Er,7,3,"div",14),e.qZA(),e.TgZ(20,"div",15)(21,"div",16),e._uU(22),e.ALo(23,"mytranslate"),e.TgZ(24,"a",17),e._uU(25),e.ALo(26,"mytranslate"),e.qZA(),e._uU(27," ) "),e.qZA(),e.TgZ(28,"div",18)(29,"azt-scan-qrcode",19,20),e.NdJ("outContentScan",function(p){return o.outContentScan(p)}),e.qZA()(),e.YNc(31,Nr,11,9,"div",9),e.YNc(32,Uc,16,14,"div",9),e.qZA()()()(),e.TgZ(33,"div",21)(34,"a",22),e.ALo(35,"navigationLocalize"),e.O4$(),e.TgZ(36,"svg",23),e._UZ(37,"polyline",24),e.qZA(),e._uU(38),e.ALo(39,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,19,"lang_auto_dang_nhap_voi_ma_qr_code")," "),e.xp6(3),e.Q6J("ngIf",!o.isLogin),e.xp6(1),e.Q6J("ngIf",o.isLogin),e.xp6(1),e.Q6J("ngIf",!o.isLogin&&o.contentCreateQrcode),e.xp6(1),e.Q6J("ngIf",o.isLogin&&o.contentCreateQrcode&&!o.scanQrContentConfirm),e.xp6(4),e.Q6J("ngClass",e.VKq(29,ac,"create"!==o.modeShowInit)),e.xp6(1),e.Q6J("ngIf",o.scanQrContentConfirm&&o.isLogin),e.xp6(1),e.Q6J("ngIf",!o.scanQrContentConfirm),e.xp6(2),e.Q6J("ngIf",o.contentCreateQrcode&&!o.scanQrContentConfirm),e.xp6(1),e.Q6J("ngIf",!o.scanQrContentConfirm),e.xp6(1),e.Q6J("ngIf",!o.scanQrContentConfirm),e.xp6(1),e.Q6J("ngClass",e.VKq(31,ac,"scan"!==o.modeShowInit)),e.xp6(2),e.hij(" ",e.lcZ(23,21,"lang_auto_di_chuyen_camera_toi_ma_qrcode_dang_nhap_")," "),e.xp6(3),e.Oqu(e.lcZ(26,23,"lang_auto_huong_dan")),e.xp6(3),e.Q6J("ngClass",e.VKq(33,ac,!1!==o.sussScanNextConf)),e.xp6(3),e.Q6J("ngIf",!0===o.sussScanNextConf&&o.isLogin),e.xp6(1),e.Q6J("ngIf",!0===o.sussScanNextConf&&!o.isLogin),e.xp6(2),e.Q6J("routerLink",e.VKq(35,Mc,e.lcZ(35,25,o.backToLink))),e.xp6(4),e.hij(" ",e.lcZ(39,27,"lang_auto_quay_lai")," "))},dependencies:[_e.rH,h.mk,h.O5,un.Hw,In,Hn,se.n,Je.J,E.Jy,E.JV],styles:[".loginscan__card-header[_ngcontent-%COMP%]{padding:15px;text-transform:uppercase;display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-body[_ngcontent-%COMP%]{padding:15px}.loginscan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loginscan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.loginscan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.431372549);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.box-create-login-img[_ngcontent-%COMP%]{display:flex;height:100px;background:#f5f5f5;justify-content:center;align-items:center;border:1px solid #e0e0e0;padding:10px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box-create-login-img[_ngcontent-%COMP%]:hover{background:#eceff1}.box-create-login-content[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf[_ngcontent-%COMP%]{width:100%;background:#e0f2f1;padding:10px;display:flex;align-items:center;justify-content:center;height:300px}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]   .boxtext[_ngcontent-%COMP%]{font-size:20px;line-height:30px;margin-bottom:20px}.block-inline-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:14px}.back-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();var Ic=b(96368),Sc=b(32965);let kc=(()=>{class n{constructor(){}isCommonInAppBrowser(){const t=navigator.userAgent?.toLowerCase(),o=["fban","fbav","zalo","twitter","instagram","line","microMessenger","qq","kakaotalk","cordova","phonegap","phone gap","capacitor","electron","react native","flutter","ionic","nw.js","crosswalk","xwalk","nativescript","appgyver","appmobi","sencha","titanium","trigger.io","onsen ui","appcelerator","native app","hybrid app"];for(let l=0;l<o.length;l++)if(-1!==t.indexOf(o[l]))return!0;return!1}getMobileOperatingSystem(){let t=navigator.userAgent||navigator.vendor||window.opera,o="Android";return/android/i.test(t)&&(o="Android"),/iPad|iPhone|iPod/.test(t)&&!window.MSStream&&(o="iOS"),o}getCommonInAppBrowser(){const t=navigator.userAgent;let o="";return t.indexOf("FBAN")>-1||t.indexOf("FBAV")>-1?o="Facebook":t.indexOf("Zalo")>-1?o="Zalo":t.indexOf("Twitter")>-1?o="Twitter":t.indexOf("Instagram")>-1?o="Instagram":t.indexOf("Line")>-1?o="Line":t.indexOf("MicroMessenger")>-1?o="WeChat":t.indexOf("QQ")>-1?o="QQ":t.indexOf("KAKAOTALK")>-1&&(o="KakaoTalk"),o}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Dc(n,u){1&n&&(e.TgZ(0,"div",18)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email_hoac_username")))}function jc(n,u){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",19),e._UZ(2,"path",20)(3,"circle",21),e.qZA()())}function Fc(n,u){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",19),e._UZ(2,"path",22)(3,"path",23)(4,"path",24)(5,"line",25),e.qZA()())}function Qc(n,u){1&n&&(e.TgZ(0,"div",26)(1,"div"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function zc(n,u){if(1&n&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.messageError)," ")}}function Bc(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",28)(1,"a",29),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.forgotPassword())}),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_quen_mat_khau")))}function Jc(n,u){1&n&&(e.TgZ(0,"span",30),e._UZ(1,"azt-loading-ui"),e.qZA())}function Vc(n,u){1&n&&(e.TgZ(0,"span"),e._uU(1,"\xa0|\xa0"),e.qZA())}const Zc=function(n){return[n]},Wc=function(){return{backTo:"/auth/login"}};function Yc(n,u){1&n&&(e.TgZ(0,"a",58),e.ALo(1,"navigationLocalize"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()),2&n&&(e.Q6J("routerLink",e.VKq(7,Zc,e.lcZ(1,3,"/auth/register-for-organization")))("queryParams",e.DdM(9,Wc)),e.xp6(2),e.hij(" ",e.lcZ(3,5,"lang_register_for_business_register_for_business")," "))}const Hc=function(n){return{return_url:n,user_click:"true"}};function Gc(n,u){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",31)(2,"span"),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"a",32),e.ALo(6,"navigationLocalize"),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.YNc(9,Vc,2,0,"span",11),e.YNc(10,Yc,4,10,"a",33),e.qZA(),e.TgZ(11,"div",34)(12,"span",35),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()(),e.TgZ(15,"div",36)(16,"button",37),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.googleSignIn())})("keydown.enter",function(l){return l.preventDefault()}),e.O4$(),e.TgZ(17,"svg",38),e._UZ(18,"path",39)(19,"path",40)(20,"path",41)(21,"path",42),e.qZA(),e.kcU(),e.TgZ(22,"span",43),e._uU(23,"Google"),e.qZA()(),e.TgZ(24,"button",44),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.loginByQrCode())})("keydown.enter",function(l){return l.preventDefault()}),e.O4$(),e.TgZ(25,"svg",45),e._UZ(26,"rect",46)(27,"rect",47)(28,"rect",48)(29,"path",49)(30,"path",50)(31,"path",51)(32,"path",52)(33,"path",53)(34,"path",54)(35,"path",55)(36,"path",56)(37,"path",57),e.qZA(),e.kcU(),e.TgZ(38,"span",43),e._uU(39,"Qrcode"),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,7,"lang_auto_ban_chua_co_tai_khoan")),e.xp6(2),e.Q6J("routerLink",e.VKq(15,Zc,e.lcZ(6,9,"/auth/register")))("queryParams",e.VKq(17,Hc,t.returnUrl)),e.xp6(2),e.hij(" ",e.lcZ(8,11,"lang_auto_tao_mot_tai_khoan_moi")," "),e.xp6(2),e.Q6J("ngIf",!(null!=t.userObj&&null!=t.userObj.roles&&t.userObj.roles.includes("STUDENT"))),e.xp6(1),e.Q6J("ngIf",!(null!=t.userObj&&null!=t.userObj.roles&&t.userObj.roles.includes("STUDENT"))),e.xp6(3),e.hij(" ",e.lcZ(14,13,"lang_auto_hoac")," ")}}function Kc(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"form",2)(2,"h2",3),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",4)(6,"div",5)(7,"input",6),e.NdJ("keydown.enter",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.login())}),e.ALo(8,"mytranslate"),e.qZA(),e.YNc(9,Dc,4,3,"div",7),e.qZA(),e.TgZ(10,"div",5)(11,"div",8)(12,"input",9),e.NdJ("keydown.enter",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.login())}),e.ALo(13,"mytranslate"),e.qZA(),e.TgZ(14,"button",10),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.togglePassword())}),e.YNc(15,jc,4,0,"span",11),e.YNc(16,Fc,6,0,"span",11),e.qZA()(),e.YNc(17,Qc,4,3,"div",12),e.qZA()(),e.YNc(18,zc,3,3,"div",13),e.YNc(19,Bc,4,3,"div",14),e.TgZ(20,"div",15)(21,"button",16),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.login())}),e.YNc(22,Jc,2,0,"span",17),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()(),e.YNc(25,Gc,40,19,"ng-container",11),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(2),e.hij(" ",e.lcZ(4,15,"lang_auto_dang_nhap")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(8,17,"lang_auto_nhap_sdt_hoac_email_hoac_username")),e.xp6(2),e.Q6J("ngIf",t.form.controls.username.invalid&&(t.form.controls.username.dirty||t.form.controls.username.touched)),e.xp6(3),e.s9C("placeholder",e.lcZ(13,19,"lang_auto_mat_khau")),e.Q6J("type",t.showPassword?"text":"password"),e.xp6(3),e.Q6J("ngIf",t.showPassword),e.xp6(1),e.Q6J("ngIf",!t.showPassword),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",""!=t.messageError),e.xp6(1),e.Q6J("ngIf",!t.isBusinessDomain),e.xp6(2),e.Q6J("disabled",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(24,21,"lang_auto_dang_nhap")," "),e.xp6(2),e.Q6J("ngIf",!t.isBusinessDomain)}}function $c(n,u){if(1&n&&(e.TgZ(0,"div",1),e._UZ(1,"azt-loading-effect",59),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("currentStatusObj",t.statusObj)}}let Xc=(()=>{class n extends Y.Q{executeImportantAction(){return new Promise(t=>{this.recaptchaV3Service.execute("importantAction").subscribe(o=>{t(o)})})}forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}callLoginApi(t){var o=this.getFormValue(),l={phone:o.username,password:o.password,tokenCaptcha:t,domain:this.commonService.getBusinessDomainUrl()};this.waitDestroy(this.authService.apiAuthLoginWebPost(l).subscribe(p=>{1==p.success?(this.localStorageObject.clearAllCache(),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):(this.messageError=p.message??"",this.errorStatusObj(p.message??""))}))}login(){this.form.valid?(this.initStatusObj(),this.executeImportantAction().then(t=>{this.callLoginApi(t)}).catch(t=>{this.callLoginApi("")})):this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}callLoginAnonymousApi(t){this.waitDestroy(this.authService.apiAuthLoginAnonymousFromWebV2Post({tokenCaptcha:t}).subscribe(l=>{1==l.success?(this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):this.errorStatusObj(l.message??"")}))}loginAnonymous(){this.initStatusObj(),this.userService.isAnonymousRoleOfCurrentUser()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.executeImportantAction().then(t=>{this.callLoginAnonymousApi(t)}).catch(t=>{this.callLoginAnonymousApi("")})}loginWithAccessToken(t){var o=this.userService.getUserObjFromJwtToken(t);if(null!=o){if(o.domainName&&o.domainName!=this.commonService.getCurrentHostName())return this.sAztRedirectService.redirectLoginWithToken(o.domainName,o.rememberToken??"",this.commonService.getMyQueryParam("return_url")??"");this.userService.saveUserObj(o),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")}else this.errorStatusObj("lang_core_invalid_login_token"),this.loginByToken=!1}googleSignIn(){if(this.browserUserAgentService.isCommonInAppBrowser()){let t=this.browserUserAgentService.getCommonInAppBrowser(),o=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),l="facebook"===t.toLowerCase()?"fb":"zalo",p=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${o}/${o}_${l}_1.png`),C=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${o}/${o}_${l}_2.png`);this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(N=>{let W=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),ie=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.sAztDialogService.open(Ic.C,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${N+" "+t}. ${W}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${ie} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${p}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${ie} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${C}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})})}else{const t=`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`;this.myNavigationWithQueryString("/auth/login-by-openapi",`?backto=${encodeURIComponent(t)}&click_login=1`)}}togglePassword(){this.showPassword=!this.showPassword}loginByQrCode(){this.myNavigation("/auth/login-scan/2")}getFormValue(){return this.form.getRawValue()}ngOnInit(){super.ngOnInit(),this.mobileAccessTkn=this.commonService.getMyQueryParam("access_token")??"",this.returnUrl=this.commonService.getMyQueryParam("return_url")||"";var t=this.commonService.getMyQueryParam("not_register"),o=this.commonService.getMyQueryParam("user_click");if(this.errorLoginGoogle=!!this.commonService.getMyQueryParam("error_login_google"),"1"==this.commonService.getMyQueryParam("isFirstTime")&&this.browserStorageService.saveStorage("isFirstTime","1"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),!t&&this.mobileAccessTkn)this.loginByToken=!0,this.loginWithAccessToken(this.mobileAccessTkn);else{this.initStatusObj();var p=!1;t&&!this.isBusinessDomain?(p=!0,this.commonService.myNavigation("/auth/register")):this.userService.isLoginAndNotAnonymous()?(p=!0,this.redirectByRoleService.redirectLoginByRole(this.returnUrl)):(-1!==this.returnUrl.indexOf("/test/")||-1!==this.returnUrl.indexOf("/de-thi/")||-1!==this.returnUrl.indexOf("/bai-tap/")||-1!==this.returnUrl.indexOf("/on-luyen/"))&&"register"!=this.commonService.getMyQueryParam("from")&&(p=!0,this.userService.isLogin()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.loginAnonymous()),p||(!o&&this.userService.isAnonymousRoleOfCurrentUser()?this.myNavigation("/student/classroom/0"):(this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),this.loginByToken=!1,this.stopStatusObj(),super.ngOnInit()))}this.userObj=this.userService.getUserObj()}constructor(t,o,l,p,C,N,W,ie,Ze,Oe,it){super(),this.sAztRedirectService=t,this.userService=o,this.browserStorageService=l,this.localStorageObject=p,this.authService=C,this.redirectByRoleService=N,this.recaptchaV3Service=W,this.cdnService=ie,this.browserUserAgentService=Ze,this.sAztDialogService=Oe,this.router=it,this.mobileAccessTkn="",this.returnUrl="",this.loginByToken=!0,this.msgError="",this.messageError="",this.showPassword=!1,this.isLogin=!1,this.isAnonymous=!1,this.errorLoginGoogle=!1,this.form=new v.cw({username:new v.NI("",{nonNullable:!0,validators:[v.kI.required,O._.noWhiteSpace]}),fullName:new v.NI("",{nonNullable:!0}),password:new v.NI("",{nonNullable:!0,validators:[v.kI.required]})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(We.z),e.Y36(Ne.U),e.Y36(Jt.n),e.Y36(on.y),e.Y36(Q.e8),e.Y36(yt.C),e.Y36(wn.YC),e.Y36(Sc.E),e.Y36(kc),e.Y36(vt.C),e.Y36(_e.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],features:[e.qOj],decls:3,vars:2,consts:[["class","azt-login-form",4,"ngIf"],[1,"azt-login-form"],[3,"formGroup"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","username","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","keydown.enter"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"relative"],["formControlName","password","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder","keydown.enter"],["azt-track-service","login-FUkj4WwAKm","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","text-danger text-xs font-medium mt-2 font-medium",4,"ngIf"],["class","text-xs text-danger font-medium mt-2",4,"ngIf"],["class","intro-x flex text-slate-600 dark:text-slate-500 text-xs sm:text-sm mt-4",4,"ngIf"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","login-BLTLj8Z0eo",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","font-medium","mt-2","font-medium"],[1,"text-xs","text-danger","font-medium","mt-2"],[1,"intro-x","flex","text-slate-600","dark:text-slate-500","text-xs","sm:text-sm","mt-4"],["azt-track-service","login-2o1cxeMuZ3",3,"click"],[1,"w-4","h-4","inline-block","mr-2"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","login-U8t89LRroO",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["azt-track-service","login-fMer8LWOR","class","pt-3 text-primary clickable",3,"routerLink","queryParams",4,"ngIf"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","login-gFOnxl_H7y",1,"btn","btn-outline-secondary","mx-1",2,"width","calc(100% / 2 - 0.25rem)",3,"click","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"lucide","w-4","h-4","mr-2"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],[1,"text-md"],["azt-track-service","login-mt_RaxI2lp",1,"btn","btn-outline-secondary","ml-1",2,"width","calc(100% / 2 - 0.25rem)",3,"click","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],["azt-track-service","login-fMer8LWOR",1,"pt-3","text-primary","clickable",3,"routerLink","queryParams"],[3,"currentStatusObj"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout"),e.YNc(1,Kc,26,23,"div",0),e.YNc(2,$c,2,1,"div",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",!o.loginByToken),e.xp6(1),e.Q6J("ngIf",o.loginByToken))},dependencies:[_e.rH,h.O5,v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,Ue.l,fe.M,se.n,Je.J,E.Jy,E.JV],encapsulation:2}),n})();var el=b(41645);let tl=(()=>{class n extends Y.Q{ngOnInit(){super.ngOnInit(),this.fireAuth.signOut(),this.userService.logout();var t=this.commonService.getMyQueryParam("return_url")||null;if(t)return this.redirectService.redirectSimpleLoginWithReturnUrl(t);this.redirectService.redirectSimpleLogin()}constructor(t,o,l){super(),this.userService=t,this.fireAuth=o,this.redirectService=l,this.sAztParentUserService=(0,e.f3M)(el.$)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ne.U),e.Y36(ti),e.Y36(We.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],features:[e.qOj],decls:0,vars:0,template:function(t,o){},encapsulation:2}),n})(),nl=(()=>{class n extends Y.Q{ngOnInit(){super.ngOnInit()}constructor(t){super(),this.commonService=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Yn.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["auth-master-page"]],features:[e.qOj],decls:2,vars:0,consts:[["id","homework-layout"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[_e.lC],encapsulation:2}),n})(),il=(()=>{class n extends Y.Q{constructor(t,o,l,p){super(),this.activeRoute=t,this.fireAuth=o,this.authService=l,this.redirectByRoleService=p,this.checkLoadingLogin=!1,this.fireAuth.authState.pipe((0,So.P)()).subscribe(C=>{C?this.signInWithTokenGoogle(C):this.googleSignIn()})}signInWithTokenGoogle(t){this.checkLoadingLogin=!0;let o=this.commonService.getMyParam(this.activeRoute,"type"),l=parseInt(o??"0",10);t.getIdToken().then(p=>{let C={isRegisterForm:1,isRegisterForTeacher:l,firebaseToken:p,language:this.commonService.getCurrentLang()};this.waitDestroy(this.authService.apiAuthAuthByFirebasePost(C).subscribe(N=>{if(1==N.success){let ie=this.commonService.getMyQueryParam("return_url")??"";if(""===ie){let Ze=this.commonService.getMyQueryParam("backto")??"";var W=Ze.includes("return_url=")?Ze.split("return_url=")[1]:"";ie=decodeURIComponent(W)}0==Number(o)?this.redirectByRoleService.redirectLoginForStudent(ie):this.redirectByRoleService.redirectLoginByRole(ie),this.successStatusObj(),this.checkLoadingLogin=!1}else{this.errorStatusObj(N.message??"",!0);const ie=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(ie)}}))})}googleSignIn(){this.fireAuth.signInWithRedirect(new Cr.W).then(()=>this.fireAuth.getRedirectResult().then(t=>{})).catch(t=>{const o=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(o)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_e.gz),e.Y36(ti),e.Y36(Q.e8),e.Y36(yt.C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["register-by-openapi"]],features:[e.qOj],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"azt-loading-ui",2),e.qZA(),e.TgZ(3,"div",3),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("type","azota-logo"),e.xp6(2),e.hij(" ",e.lcZ(5,2,"lang_auth_registering_in_please_wait")," "))},dependencies:[se.n,E.JV],encapsulation:2}),n})();class Oc{static isInvalidPhone(u){let o=u.value?.trim()??"";return o&&(isNaN(Number(o))||10!=o.length)?{isInvalidPhone:!0}:null}}const Ec=function(n){return[n]};function ol(n,u){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"div",9),e.ALo(2,"mytranslate"),e.TgZ(3,"a",10),e.ALo(4,"navigationLocalize"),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,3,"lang_register_for_business_success"),e.oJD),e.xp6(2),e.Q6J("routerLink",e.VKq(9,Ec,e.lcZ(4,5,t.backTo))),e.xp6(2),e.Oqu(e.lcZ(6,7,"lang_register_for_business_back_to"))}}function rl(n,u){if(1&n&&e._UZ(0,"azt-loading-effect",14),2&n){const t=e.oxw(2);e.Q6J("currentStatusObj",t.statusObj)}}function al(n,u){1&n&&(e.TgZ(0,"div",38)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_register_for_business_please_enter_full_name")))}function sl(n,u){1&n&&(e.TgZ(0,"div",38)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")))}function cl(n,u){1&n&&(e.TgZ(0,"div",38)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_dinh_dang_email")))}function ll(n,u){1&n&&(e.TgZ(0,"div",38)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_register_for_business_please_enter_business_name")))}function ul(n,u){if(1&n&&(e.TgZ(0,"mat-option",39),e._uU(1),e.qZA()),2&n){const t=u.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function dl(n,u){1&n&&(e.TgZ(0,"div",40),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_register_for_business_please_select_province"),". "))}function _l(n,u){if(1&n&&(e.TgZ(0,"mat-option",39),e._uU(1),e.qZA()),2&n){const t=u.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function pl(n,u){1&n&&(e.TgZ(0,"div",40),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_register_for_business_please_select_district"),". "))}function hl(n,u){if(1&n&&(e.ynx(0),e.TgZ(1,"mat-form-field",28)(2,"mat-select",41),e.ALo(3,"mytranslate"),e.YNc(4,_l,2,2,"mat-option",30),e.qZA()(),e.YNc(5,pl,3,3,"div",31),e.BQk()),2&n){const t=e.oxw(3);e.xp6(2),e.s9C("placeholder",e.lcZ(3,3,"lang_register_for_business_select_district")),e.xp6(2),e.Q6J("ngForOf",t.districtObjs),e.xp6(1),e.Q6J("ngIf",t.form.controls.districtId.invalid&&(t.form.controls.districtId.dirty||t.form.controls.districtId.touched))}}function ml(n,u){1&n&&(e.TgZ(0,"span",42),e._UZ(1,"azt-loading-ui"),e.qZA())}function gl(n,u){1&n&&(e.TgZ(0,"span",43),e._UZ(1,"azt-loading-ui"),e.qZA())}const fl=function(n){return{waiting:n}};function vl(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"form",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19),e._UZ(5,"input",20),e.ALo(6,"mytranslate"),e.YNc(7,al,4,3,"div",21),e.qZA(),e.TgZ(8,"div",19),e._UZ(9,"input",22),e.ALo(10,"mytranslate"),e.YNc(11,sl,4,3,"div",21),e.qZA(),e.TgZ(12,"div",19),e._UZ(13,"input",23),e.ALo(14,"mytranslate"),e.YNc(15,cl,4,3,"div",21),e.qZA(),e.TgZ(16,"div",19),e._UZ(17,"input",24),e.ALo(18,"mytranslate"),e.YNc(19,ll,4,3,"div",21),e.qZA(),e.TgZ(20,"div",19),e._UZ(21,"textarea",25),e.ALo(22,"mytranslate"),e.qZA(),e.TgZ(23,"div",26)(24,"div",27)(25,"div",19)(26,"mat-form-field",28)(27,"mat-select",29),e.NdJ("selectionChange",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.selectProvinceObj(l.form.controls.provinceId.value))}),e.ALo(28,"mytranslate"),e.YNc(29,ul,2,2,"mat-option",30),e.qZA()(),e.YNc(30,dl,3,3,"div",31),e.qZA()(),e.TgZ(31,"div",27)(32,"div",19),e.YNc(33,hl,6,5,"ng-container",7),e.YNc(34,ml,2,0,"ng-template",null,32,e.W1O),e.qZA()()()()()(),e.TgZ(36,"div",33)(37,"div",34)(38,"a",35),e.ALo(39,"navigationLocalize"),e._uU(40),e.ALo(41,"mytranslate"),e.qZA()(),e.TgZ(42,"button",36),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.registerForBusiness())}),e.YNc(43,gl,2,0,"span",37),e._uU(44),e.ALo(45,"mytranslate"),e.qZA()()()}if(2&n){const t=e.MAs(35),o=e.oxw(2);e.Q6J("formGroup",o.form),e.xp6(5),e.s9C("placeholder",e.lcZ(6,21,"lang_register_for_business_full_name")),e.xp6(2),e.Q6J("ngIf",o.form.controls.fullName.errors&&(o.form.controls.fullName.dirty||o.form.controls.fullName.touched)),e.xp6(2),e.s9C("placeholder",e.lcZ(10,23,"lang_register_for_business_phone")),e.xp6(2),e.Q6J("ngIf",o.form.controls.phone.errors&&(o.form.controls.phone.dirty||o.form.controls.phone.touched)),e.xp6(2),e.s9C("placeholder",e.lcZ(14,25,"lang_register_for_business_email")),e.xp6(2),e.Q6J("ngIf",o.form.controls.email.errors&&(o.form.controls.email.dirty||o.form.controls.email.touched)),e.xp6(2),e.s9C("placeholder",e.lcZ(18,27,"lang_register_for_business_business_name")),e.xp6(2),e.Q6J("ngIf",o.form.controls.businessName.errors&&(o.form.controls.businessName.dirty||o.form.controls.businessName.touched)),e.xp6(2),e.s9C("placeholder",e.lcZ(22,29,"lang_register_for_business_note")),e.xp6(6),e.s9C("placeholder",e.lcZ(28,31,"lang_register_for_business_select_province")),e.xp6(2),e.Q6J("ngForOf",o.provinceObjs),e.xp6(1),e.Q6J("ngIf",o.form.controls.provinceId.invalid&&(o.form.controls.provinceId.dirty||o.form.controls.provinceId.touched)),e.xp6(3),e.Q6J("ngIf",!o.isLoadingDistrictData)("ngIfElse",t),e.xp6(5),e.Q6J("routerLink",e.VKq(39,Ec,e.lcZ(39,33,o.backTo))),e.xp6(2),e.Oqu(e.lcZ(41,35,"lang_register_for_business_back_to")),e.xp6(2),e.Q6J("ngClass",e.VKq(41,fl,o.statusObj.loading))("disabled",o.form.invalid),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(45,37,"lang_register_for_business_register")," ")}}function yl(n,u){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.ALo(2,"mytranslate"),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.YNc(6,rl,1,1,"azt-loading-effect",12),e.YNc(7,vl,46,43,"ng-template",null,13,e.W1O)),2&n){const t=e.MAs(8),o=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,4,"lang_register_for_business_contact_info")),e.xp6(3),e.Oqu(e.lcZ(5,6,"lang_register_for_business_detail_contact_info")),e.xp6(2),e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",t)}}let bl=(()=>{class n extends Y.Q{selectProvinceObj(t){this.isLoadingDistrictData=!0,this.waitDestroy(this.commonListService.apiCommonListDistrictsByProvinceIdGet(t).subscribe(o=>{o.success?(this.districtObjs=o.data?.objs??[],this.form.controls.districtId.setValue(0)):this.errorStatusObj(o.message,!0),this.isLoadingDistrictData=!1}))}initData(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListProvincesGet().subscribe(t=>{t.success?(this.provinceObjs=t.data?.objs??[],this.districtObjs=[],this.stopStatusObj()):this.errorStatusObj(t.message,!0)}))}registerForBusiness(){var t={fullName:this.form.controls.fullName.value,phone:this.form.controls.phone.value,email:this.form.controls.email.value,businessName:this.form.controls.businessName.value,note:this.form.controls.note.value,provinceId:this.form.controls.provinceId.value,districtId:this.form.controls.districtId.value};this.registerSuccessfully=!1,this.initStatusObj(),this.waitDestroy(this.registerForBusinessService.apiRegisterForBusinessRegisterPost(t).subscribe(o=>{1==o.success?(this.successStatusObj(),this.registerSuccessfully=!0):this.errorStatusObj(o.message??"")}))}ngOnInit(){super.ngOnInit(),this.initData();let t=this.commonService.getMyQueryParam("backTo")??"";this.backTo=t||"/auth/register"}constructor(t,o){super(),this.commonListService=t,this.registerForBusinessService=o,this.backTo="",this.isLoadingDistrictData=!1,this.registerSuccessfully=!1,this.provinceObjs=[],this.districtObjs=[],this.form=new v.cw({fullName:new v.NI("",{nonNullable:!0,validators:[v.kI.required,O._.noWhiteSpace]}),phone:new v.NI("",{nonNullable:!0,validators:[v.kI.required,Oc.isInvalidPhone]}),email:new v.NI("",{nonNullable:!0,validators:[Wt.z.isInvalidEmail]}),businessName:new v.NI("",{nonNullable:!0,validators:[v.kI.required]}),provinceId:new v.NI(0,{nonNullable:!0,validators:[v.kI.required,v.kI.min(1)]}),districtId:new v.NI(0,{nonNullable:!0,validators:[v.kI.required,v.kI.min(1)]}),note:new v.NI("",{nonNullable:!0})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.o7),e.Y36(Q.q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register-for-business"]],features:[e.qOj],decls:14,vars:10,consts:[[3,"maxWidth","contentBoxClass"],[1,"grid","grid-cols-12"],[1,"col-span-12","sm:col-span-12","lg:col-span-6"],[1,"left_box","text-white","p-5","text-slate-600","box"],[1,"text-lg","pb-5"],[3,"innerHTML"],[1,"p-5","text-slate-600","dark:text-slate-500"],[4,"ngIf","ngIfElse"],["registerForm",""],[1,"pb-5","text-lg","text-success",3,"innerHTML"],[1,"pt-3","text-primary","clickable","dark:text-slate-200",3,"routerLink"],[1,"text-lg","mb-2"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"formGroup"],[1,"intro-x","mt-4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"azt-form-group"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","formControlName","phone",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["type","text","formControlName","email",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["type","text","formControlName","businessName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["type","text","formControlName","note",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",2,"min-height","150px",3,"placeholder"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["appearance","fill",1,"box","mt-4",2,"width","100%"],["formControlName","provinceId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],["isLoadingDistrict",""],[1,"flex","mt-4"],[1,"mr-auto","flex","items-center","text-primary","clickable","dark:text-slate-200"],[3,"routerLink"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-info","align-top",3,"ngClass","disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],[3,"value"],[1,"alert","alert-danger"],["formControlName","districtId",3,"placeholder"],[1,"w-8","h-8","inline-block","mt-4"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(t,o){if(1&t&&(e.TgZ(0,"auth-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e._UZ(7,"div",5),e.ALo(8,"mytranslate"),e.qZA()(),e.TgZ(9,"div",2)(10,"div",6),e.YNc(11,ol,7,11,"div",7),e.YNc(12,yl,9,8,"ng-template",null,8,e.W1O),e.qZA()()()()),2&t){const l=e.MAs(13);e.Q6J("maxWidth","1000px")("contentBoxClass",""),e.xp6(5),e.Oqu(e.lcZ(6,6,"lang_register_for_business_free_to_register")),e.xp6(2),e.Q6J("innerHTML",e.lcZ(8,8,"lang_register_for_business_all_feature"),e.oJD),e.xp6(4),e.Q6J("ngIf",o.registerSuccessfully)("ngIfElse",l)}},dependencies:[_e.rH,h.mk,h.sg,h.O5,v._Y,v.Fj,v.JJ,v.JL,y.ey,g.KE,ae.gD,v.sg,v.u,Ue.l,fe.M,se.n,Je.J,E.Jy,E.JV],styles:[".left_box[_ngcontent-%COMP%]{background-color:#3c8dbc;border-radius:.375rem 0 0 .375rem;height:100%}@media (max-width: 576px){.left_box[_ngcontent-%COMP%]{border-radius:.375rem .375rem 0 0;height:auto}}"]}),n})();var xl=b(26306),Al=b(52026),wl=b(94960);function Cl(n,u){1&n&&(e.TgZ(0,"div",56)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function Tl(n,u){1&n&&(e.TgZ(0,"div",56)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")))}function Il(n,u){1&n&&(e.TgZ(0,"div",56)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_dinh_dang_email")))}function Sl(n,u){1&n&&(e.TgZ(0,"div",56)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_register_for_business_please_enter_business_name")))}function kl(n,u){if(1&n&&(e.TgZ(0,"mat-option",57),e._uU(1),e.qZA()),2&n){const t=u.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Zl(n,u){1&n&&(e.TgZ(0,"div",56),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_register_for_business_please_select_province"),". "))}function Ol(n,u){if(1&n&&(e.TgZ(0,"mat-option",57),e._uU(1),e.qZA()),2&n){const t=u.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function El(n,u){1&n&&(e.TgZ(0,"div",56),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_register_for_business_please_select_district"),". "))}function Ll(n,u){if(1&n&&(e.ynx(0)(1),e.TgZ(2,"mat-form-field",34)(3,"mat-select",58),e.ALo(4,"mytranslate"),e.YNc(5,Ol,2,2,"mat-option",36),e.qZA()(),e.YNc(6,El,3,3,"div",29),e.BQk()()),2&n){const t=e.oxw();e.xp6(3),e.s9C("placeholder",e.lcZ(4,3,"lang_register_for_business_select_district")),e.xp6(2),e.Q6J("ngForOf",t.districtObjs),e.xp6(1),e.Q6J("ngIf",t.districtObjs.length>0&&t.form.controls.districtId.invalid&&(t.form.controls.districtId.dirty||t.form.controls.districtId.touched))}}function Pl(n,u){1&n&&(e.TgZ(0,"span",59),e._UZ(1,"azt-loading-ui"),e.qZA())}function Nl(n,u){1&n&&(e.TgZ(0,"div",56)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_register_for_business_please_enter_business_name")))}function Rl(n,u){if(1&n&&(e.TgZ(0,"mat-option",57),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=u.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.name)," ")}}function Ul(n,u){1&n&&(e.TgZ(0,"div",56),e._uU(1),e.ALo(2,"mytranslate"),e.ALo(3,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auth_please_select")+" "+e.lcZ(3,3,"lang_auth_school_organization_type"),". "))}function Ml(n,u){if(1&n&&(e.TgZ(0,"mat-option",57),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=u.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.name)," ")}}function ql(n,u){1&n&&(e.TgZ(0,"div",56),e._uU(1),e.ALo(2,"mytranslate"),e.ALo(3,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auth_please_select")+" "+e.lcZ(3,3,"lang_auth_scale_of_organization_environment"),". "))}function Dl(n,u){1&n&&(e.TgZ(0,"span",60),e._UZ(1,"azt-loading-ui"),e.qZA())}const jl=function(n){return{waiting:n}},Fl=function(n){return[n]};let Ql=(()=>{class n extends Y.Q{selectProvinceObj(t){this.isLoadingDistrictData=!0,this.waitDestroy(this.commonListService.apiCommonListDistrictsByProvinceIdGet(t).subscribe(o=>{o.success?(this.districtObjs=o.data?.objs??[],this.form.controls.districtId.setValue(0)):this.errorStatusObj(o.message,!0),this.isLoadingDistrictData=!1}))}togglePassword(){this.showPassword=!this.showPassword}registerForBusiness(){if(this.form.invalid)return this.form.markAllAsTouched(),this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin");const t={fullName:this.form.controls.fullName.value,phone:this.form.controls.phone.value,email:this.form.controls.email.value,businessName:this.form.controls.businessName.value,provinceId:this.form.controls.provinceId.value,districtId:this.form.controls.districtId.value,businessTypeId:this.form.controls.businessTypeId.value,businessWebUrl:this.form.controls.businessWebUrl.value,businessScaleId:this.form.controls.businessScaleId.value,adminPassword:"",domain:""};this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesRegistersPost(t).subscribe(o=>{1==o.success?(this.successStatusObj(),this.myNavigation("/auth/thank-for-business")):this.errorStatusObj(o.message??"",!0)}))}toggleDrawer(){this.chatBoxDrawer.toggle(),this.chatBoxDrawer.drawerType=this.drawerType.guide,this.browserStorageService.saveSimpleSessionStorage("azota_ai_chat_box",this.commonService.serializeJson({isOpen:this.chatBoxDrawer.isOpened()}))}callMultipleApi(){const t=this.commonListService.apiCommonListBusinessTypesGet(),o=this.commonListService.apiCommonListBusinessScalesGet(),l=this.commonListService.apiCommonListProvincesGet();return(0,ft.a)([t,o,l]).pipe((0,$n.U)(([p,C,N])=>({resType:p,resScale:C,resProvince:N})),(0,xl.K)(p=>{throw p}))}initData(){this.initStatusObj(),this.waitDestroy(this.callMultipleApi().subscribe({next:t=>{this.provinceObjs=t.resProvince.data?.objs??[],this.businessTypeList=t.resType.data?.objs??[],this.businessScaleList=t.resScale.data?.objs??[],this.stopStatusObj()},error:t=>{this.errorStatusObj(t.error.message,!0)}}))}callApiCheckDomainExist(t){return new Sn.y(o=>{this.waitDestroy(this.businessPackageService.apiPackagesDomainExistGet(t).subscribe(l=>{o.next(l)}))})}ngOnInit(){super.ngOnInit(),this.initData();let t=this.commonService.getMyQueryParam("backTo")??"";this.backTo=t||"/auth/register"}constructor(t,o,l,p){super(),this.commonListService=t,this.businessPackageService=o,this.browserStorageService=l,this.chatBoxDrawer=p,this.backTo="",this.isLoadingDistrictData=!1,this.provinceObjs=[],this.districtObjs=[],this.businessScaleList=[],this.businessTypeList=[],this.azotaDomain=rt.N.businessDomain,this.showPassword=!1,this.isLoadingCheckDomain=!1,this.drawerType=Al.V,this.form=new v.cw({fullName:new v.NI("",{nonNullable:!0,validators:[v.kI.required,O._.noWhiteSpace]}),phone:new v.NI("",{nonNullable:!0,validators:[v.kI.required,Oc.isInvalidPhone]}),email:new v.NI("",{nonNullable:!0,validators:[Wt.z.isInvalidEmail]}),businessName:new v.NI("",{nonNullable:!0,validators:[v.kI.required]}),provinceId:new v.NI(0,{nonNullable:!0,validators:[v.kI.required,v.kI.min(1)]}),districtId:new v.NI(0,{nonNullable:!0,validators:[v.kI.required,v.kI.min(1)]}),businessTypeId:new v.NI(0,{nonNullable:!0,validators:[v.kI.required,v.kI.min(1)]}),businessWebUrl:new v.NI("",{nonNullable:!0}),businessScaleId:new v.NI(0,{nonNullable:!0,validators:[v.kI.required,v.kI.min(1)]})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce.o7),e.Y36(rr.Gr),e.Y36(Jt.n),e.Y36(wl.h))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register-for-business"]],features:[e.qOj],decls:135,vars:103,consts:[[3,"maxWidth","contentBoxClass"],[3,"formGroup"],["id","register-for-business",1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-6","p-1"],[1,"box","intro-x","bg-gradient-primary","border-r","border-slate-200","dark:border-darkmode-400","h-full"],[1,"flex","flex-col","p-4","h-full","justify-between"],[1,"text-white"],[1,"text-xl","font-semibold"],[1,"mt-4","text-base","font-medium"],[1,"flex","items-center","mt-4"],[1,"flex-none"],[1,"w-4","h-4","mr-2"],["name","layers"],[1,"flex","items-center","mt-3"],["name","database"],["name","book"],["name","webcam"],["name","bar-chart-3"],[1,"text-center"],["alt","bg",3,"src"],[1,"col-span-12","md:col-span-6"],[1,"p-4"],[1,"text-xl","font-semibold","mb-2"],[1,"intro-x","mt-4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"grid","grid-cols-12","gap-4","mt-4"],[1,"azt-form-group"],["type","text","formControlName","fullName","name","fullName","id","fullName",1,"intro-x","login__input","form-control","block",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","formControlName","phone","name","phone","id","phone",1,"intro-x","login__input","form-control","block",3,"placeholder"],[1,"azt-form-group","mt-4"],["type","text","formControlName","email","name","email","id","email",1,"intro-x","login__input","form-control","block",3,"placeholder"],["type","text","formControlName","businessName","name","businessName","id","businessName",1,"intro-x","login__input","form-control","block",3,"placeholder"],["appearance","outline",2,"width","100%"],["formControlName","provinceId","name","provinceId","id","provinceId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["isLoadingDistrict",""],["type","text","formControlName","businessWebUrl","name","businessWebUrl","id","businessWebUrl",1,"intro-x","login__input","form-control","block",3,"placeholder"],["formControlName","businessTypeId","name","businessTypeId","id","businessTypeId",3,"placeholder"],["formControlName","businessScaleId","name","businessScaleId","id","businessScaleId",3,"placeholder"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],[1,"cursor-pointer","select-none"],["azt-track-service","register-gRvQ2yXGF","href","/privacy/business-terms-of-use.html","target","_blank",1,"text-primary","dark:text-slate-200"],["azt-track-service","register-Q76IttHYbI","href","/privacy/business-privacy.html","target","_blank",1,"text-primary","dark:text-slate-200"],[1,"flex","mt-5"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-primary","align-top","w-full",3,"ngClass","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"mt-5"],[1,"font-medium","btn-text-primary",3,"routerLink"],[1,"inline-block","w-4","h-4","mr-2"],["name","chevron-left"],[1,"relative","md:fixed","bottom-0","left-0","p-5"],[1,"btn","btn-primary-soft",3,"click"],["name","help-circle"],[1,"text-danger","text-xs","mt-2","font-medium"],[3,"value"],["formControlName","districtId","name","districtId","id","districtId",3,"placeholder"],[1,"w-8","h-8","inline-block"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(t,o){if(1&t&&(e.TgZ(0,"auth-layout",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"div",8),e._uU(11),e.ALo(12,"mytranslate"),e.qZA(),e.TgZ(13,"div",9)(14,"div",10)(15,"div",11),e._UZ(16,"lucide-icon",12),e.qZA()(),e._uU(17),e.ALo(18,"mytranslate"),e.qZA(),e.TgZ(19,"div",13)(20,"div",10)(21,"div",11),e._UZ(22,"lucide-icon",14),e.qZA()(),e._uU(23),e.ALo(24,"mytranslate"),e.qZA(),e.TgZ(25,"div",13)(26,"div",10)(27,"div",11),e._UZ(28,"lucide-icon",15),e.qZA()(),e._uU(29),e.ALo(30,"mytranslate"),e.qZA(),e.TgZ(31,"div",13)(32,"div",10)(33,"div",11),e._UZ(34,"lucide-icon",16),e.qZA()(),e._uU(35),e.ALo(36,"mytranslate"),e.qZA(),e.TgZ(37,"div",13)(38,"div",10)(39,"div",11),e._UZ(40,"lucide-icon",17),e.qZA()(),e._uU(41),e.ALo(42,"mytranslate"),e.qZA()(),e.TgZ(43,"div",18),e._UZ(44,"img",19),e.ALo(45,"convertCdnLinkOfGitHub"),e.qZA()()()(),e.TgZ(46,"div",20)(47,"div",21)(48,"div",22),e._uU(49),e.ALo(50,"mytranslate"),e.qZA(),e.TgZ(51,"div",23)(52,"div",24)(53,"div",25)(54,"div",26)(55,"div",20)(56,"div",27),e._UZ(57,"input",28),e.ALo(58,"mytranslate"),e.YNc(59,Cl,4,3,"div",29),e.qZA()(),e.TgZ(60,"div",20)(61,"div",27),e._UZ(62,"input",30),e.ALo(63,"mytranslate"),e.YNc(64,Tl,4,3,"div",29),e.qZA()()(),e.TgZ(65,"div",31),e._UZ(66,"input",32),e.ALo(67,"mytranslate"),e.YNc(68,Il,4,3,"div",29),e.qZA(),e.TgZ(69,"div",31),e._UZ(70,"input",33),e.ALo(71,"mytranslate"),e.YNc(72,Sl,4,3,"div",29),e.qZA(),e.TgZ(73,"div",26)(74,"div",20)(75,"div",27)(76,"mat-form-field",34)(77,"mat-select",35),e.NdJ("selectionChange",function(){return o.selectProvinceObj(o.form.controls.provinceId.value)}),e.ALo(78,"mytranslate"),e.YNc(79,kl,2,2,"mat-option",36),e.qZA()(),e.YNc(80,Zl,3,3,"div",29),e.qZA()(),e.TgZ(81,"div",20)(82,"div",27),e.YNc(83,Ll,7,5,"ng-container",37),e.YNc(84,Pl,2,0,"ng-template",null,38,e.W1O),e.qZA()()(),e.TgZ(86,"div",31),e._UZ(87,"input",39),e.ALo(88,"mytranslate"),e.YNc(89,Nl,4,3,"div",29),e.qZA(),e.TgZ(90,"div",31)(91,"mat-form-field",34)(92,"mat-select",40),e.ALo(93,"mytranslate"),e.YNc(94,Rl,3,4,"mat-option",36),e.qZA()(),e.YNc(95,Ul,4,5,"div",29),e.qZA(),e.TgZ(96,"div",31)(97,"mat-form-field",34)(98,"mat-select",41),e.ALo(99,"mytranslate"),e.YNc(100,Ml,3,4,"mat-option",36),e.qZA()(),e.YNc(101,ql,4,5,"div",29),e.qZA(),e.TgZ(102,"div",42)(103,"p",43),e._uU(104),e.ALo(105,"mytranslate"),e.ALo(106,"mytranslate"),e.ALo(107,"mytranslate"),e.TgZ(108,"a",44),e._uU(109),e.ALo(110,"mytranslate"),e.qZA(),e._uU(111),e.ALo(112,"mytranslate"),e.TgZ(113,"a",45),e._uU(114),e.ALo(115,"mytranslate"),e.qZA()()(),e.TgZ(116,"div",46)(117,"button",47),e.NdJ("click",function(){return o.registerForBusiness()}),e.YNc(118,Dl,2,0,"span",48),e._uU(119),e.ALo(120,"mytranslate"),e.qZA()(),e.TgZ(121,"div",49)(122,"a",50),e.ALo(123,"navigationLocalize"),e.TgZ(124,"span",51),e._UZ(125,"lucide-icon",52),e.qZA(),e._uU(126),e.ALo(127,"mytranslate"),e.qZA()()()()()()()()(),e.TgZ(128,"div",53)(129,"button",54),e.NdJ("click",function(){return o.toggleDrawer()}),e.TgZ(130,"div",11),e._UZ(131,"lucide-icon",55),e.qZA(),e.TgZ(132,"span"),e._uU(133),e.ALo(134,"mytranslate"),e.qZA()()()()),2&t){const l=e.MAs(85);e.Q6J("maxWidth","1050px")("contentBoxClass","margin-top--50"),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(7),e.hij(" ",e.lcZ(9,45,"lang_azt_feature_introduction")," "),e.xp6(3),e.hij(" ",e.lcZ(12,47,"lang_auth_register_business_desc_one")+": "," "),e.xp6(6),e.hij(" ",e.lcZ(18,49,"lang_auth_register_business_desc_two")," "),e.xp6(6),e.hij(" ",e.lcZ(24,51,"lang_auth_register_business_desc_three")," "),e.xp6(6),e.hij(" ",e.lcZ(30,53,"lang_auth_register_business_desc_four")," "),e.xp6(6),e.hij(" ",e.lcZ(36,55,"lang_auth_register_business_desc_five")," "),e.xp6(6),e.hij(" ",e.lcZ(42,57,"lang_auth_register_business_desc_six")," "),e.xp6(3),e.Q6J("src",e.lcZ(45,59,"images/illustration.svg"),e.LSH),e.xp6(5),e.Oqu(e.lcZ(50,61,"lang_azt_experience_registration")),e.xp6(8),e.s9C("placeholder",e.lcZ(58,63,"lang_first_and_last_name")),e.xp6(2),e.Q6J("ngIf",o.form.controls.fullName.errors&&(o.form.controls.fullName.dirty||o.form.controls.fullName.touched)),e.xp6(3),e.s9C("placeholder",e.lcZ(63,65,"lang_number_phone")),e.xp6(2),e.Q6J("ngIf",o.form.controls.phone.errors&&(o.form.controls.phone.dirty||o.form.controls.phone.touched)),e.xp6(2),e.s9C("placeholder",e.lcZ(67,67,"lang_azt_email_address")),e.xp6(2),e.Q6J("ngIf",o.form.controls.email.errors&&(o.form.controls.email.dirty||o.form.controls.email.touched)),e.xp6(2),e.s9C("placeholder",e.lcZ(71,69,"lang_register_for_business_business_name")),e.xp6(2),e.Q6J("ngIf",o.form.controls.businessName.errors&&(o.form.controls.businessName.dirty||o.form.controls.businessName.touched)),e.xp6(5),e.s9C("placeholder",e.lcZ(78,71,"lang_register_for_business_select_province")),e.xp6(2),e.Q6J("ngForOf",o.provinceObjs),e.xp6(1),e.Q6J("ngIf",o.form.controls.provinceId.invalid&&(o.form.controls.provinceId.dirty||o.form.controls.provinceId.touched)),e.xp6(3),e.Q6J("ngIf",!o.isLoadingDistrictData)("ngIfElse",l),e.xp6(4),e.s9C("placeholder",e.lcZ(88,73,"lang_auth_school_organization_website")),e.xp6(2),e.Q6J("ngIf",o.form.controls.businessWebUrl.errors&&(o.form.controls.businessWebUrl.dirty||o.form.controls.businessWebUrl.touched)),e.xp6(3),e.s9C("placeholder",e.lcZ(93,75,"lang_auth_school_organization_type")),e.xp6(2),e.Q6J("ngForOf",o.businessTypeList),e.xp6(1),e.Q6J("ngIf",o.form.controls.businessTypeId.invalid&&(o.form.controls.businessTypeId.dirty||o.form.controls.businessTypeId.touched)),e.xp6(3),e.s9C("placeholder",e.lcZ(99,77,"lang_auth_scale_of_organization_environment")),e.xp6(2),e.Q6J("ngForOf",o.businessScaleList),e.xp6(1),e.Q6J("ngIf",o.form.controls.businessScaleId.invalid&&(o.form.controls.businessScaleId.dirty||o.form.controls.businessScaleId.touched)),e.xp6(3),e.lnq(" ",e.lcZ(105,79,"lang_auto_bang_cach_an_vao_nut"),' "',e.lcZ(106,81,"lang_azt_send_experience_request_and_feature_introduction"),'" ',e.lcZ(107,83,"lang_auto__toi_dong_y_voi")," "),e.xp6(5),e.Oqu(e.lcZ(110,85,"lang_auto_dieu_khoan_su_dung")),e.xp6(2),e.hij(" ",e.lcZ(112,87,"lang_auto_va")," "),e.xp6(3),e.Oqu(e.lcZ(115,89,"lang_auto_chinh_sach_bao_mat_cua_azota")),e.xp6(3),e.Q6J("ngClass",e.VKq(99,jl,o.statusObj.loading)),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(120,91,"lang_azt_send_experience_request_and_feature_introduction")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(101,Fl,e.lcZ(123,93,o.backTo))),e.xp6(4),e.hij(" ",e.lcZ(127,95,"lang_register_for_business_back_to")," "),e.xp6(7),e.Oqu(e.lcZ(134,97,"lang_testbank_test_dashboard_support"))}},dependencies:[_e.rH,h.mk,h.sg,h.O5,v._Y,v.Fj,v.JJ,v.JL,y.ey,g.KE,ae.gD,v.sg,v.u,fe.M,se.n,Je.J,Ae.Nh5,E.Jy,E.JV,E.Bo],encapsulation:2}),n})();const Rr=function(n){return[n]},zl=function(){return{backTo:"/auth/register"}};function Bl(n,u){1&n&&(e.TgZ(0,"div",64)(1,"a",65),e.ALo(2,"navigationLocalize"),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("routerLink",e.VKq(7,Rr,e.lcZ(2,3,"/auth/register-for-organization")))("queryParams",e.DdM(9,zl)),e.xp6(2),e.hij(" ",e.lcZ(4,5,"lang_register_for_business_register_for_business")," "))}function Jl(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",46)(1,"div",47)(2,"div",48),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.changeRegisterType(0))}),e.O4$(),e.TgZ(3,"svg",49),e._UZ(4,"path",9)(5,"path",10),e.qZA(),e.kcU(),e.TgZ(6,"p",50),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()()(),e.TgZ(9,"div",47)(10,"div",51),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.changeRegisterType(1))}),e.O4$(),e.TgZ(11,"svg",52)(12,"g",53),e._UZ(13,"path",54)(14,"path",55)(15,"path",56)(16,"path",57)(17,"path",58)(18,"path",59)(19,"path",60)(20,"path",61)(21,"path",62),e.qZA()(),e.kcU(),e.TgZ(22,"p",50),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()()(),e.YNc(25,Bl,5,10,"div",63),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Oqu(e.lcZ(8,3,"lang_auto_toi_la_hoc_sinh")),e.xp6(16),e.Oqu(e.lcZ(24,5,"lang_auto_toi_la_giao_vien")),e.xp6(2),e.Q6J("ngIf",!(null!=t.userObj&&null!=t.userObj.roles&&t.userObj.roles.includes("STUDENT")))}}function Vl(n,u){1&n&&(e.TgZ(0,"div",66)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function Wl(n,u){1&n&&(e.TgZ(0,"div",66)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function Yl(n,u){if(1&n&&(e.TgZ(0,"div",66),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.msgError)," ")}}function Hl(n,u){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",67),e._UZ(2,"path",68)(3,"circle",69),e.qZA()())}function Gl(n,u){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",67),e._UZ(2,"path",70)(3,"path",71)(4,"path",72)(5,"line",73),e.qZA()())}function Kl(n,u){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function $l(n,u){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")))}function Xl(n,u){if(1&n&&(e.TgZ(0,"div",66),e.YNc(1,Kl,3,3,"span",24),e.YNc(2,$l,3,3,"span",24),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.minlength)}}const Lc=function(n,u){return{return_url:n,from:"register",user_click:"true",type:u}};function eu(n,u){if(1&n&&(e.TgZ(0,"div",77),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"a",78),e.ALo(4,"navigationLocalize"),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,5,t.statusObj.errorMessage)," Click "),e.xp6(2),e.Q6J("routerLink",e.VKq(13,Rr,e.lcZ(4,7,"/auth/login")))("queryParams",e.WLB(15,Lc,t.returnUrl,t.isStudent?0:1)),e.xp6(2),e.hij(" ",e.lcZ(6,9,"lang_auto_vao_day")," "),e.xp6(2),e.hij(" ",e.lcZ(8,11,"lang_auto_de_dang_nhap")," ")}}function tu(n,u){if(1&n&&(e.TgZ(0,"label",79),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.statusObj.errorMessage)," ")}}function nu(n,u){if(1&n&&(e.TgZ(0,"div",74),e.YNc(1,eu,9,18,"div",75),e.YNc(2,tu,3,3,"ng-template",null,76,e.W1O),e.qZA()),2&n){const t=e.MAs(3),o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.isDuplicateEmailOrPhone>0)("ngIfElse",t)}}function iu(n,u){1&n&&(e.TgZ(0,"span",80),e._UZ(1,"azt-loading-ui"),e.qZA())}function ou(n,u){if(1&n&&(e.ynx(0),e.TgZ(1,"a",81),e.ALo(2,"navigationLocalize"),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("routerLink",e.VKq(7,Rr,e.lcZ(2,3,"/auth/login")))("queryParams",e.WLB(9,Lc,t.returnUrl,t.isStudent?0:1)),e.xp6(2),e.hij(" ",e.lcZ(4,5,"lang_auto_dang_nhap")," ")}}const ru=function(n){return{return_url:n,from:"register",user_click:"true"}};function au(n,u){if(1&n&&(e.TgZ(0,"a",82),e.ALo(1,"navigationLocalize"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()),2&n){const t=e.oxw();e.Q6J("routerLink",e.VKq(7,Rr,e.lcZ(1,3,"/auth/login")))("queryParams",e.VKq(9,ru,t.returnUrl)),e.xp6(2),e.hij(" ",e.lcZ(3,5,"lang_auto_dang_nhap")," ")}}const Pc=function(n){return{active:n}};let Nc=(()=>{class n extends Y.Q{isInvalidUserPhoneOrEmail(t){this.msgError=Wt.z.validPhoneOrEmail(t)}executeImportantAction(){return new Promise(t=>{this.recaptchaV3Service.execute("importantAction").subscribe(o=>{t(o)})})}getFormValue(){return this.form.getRawValue()}goToConfirm(){this.returnUrl=this.commonService.getMyQueryParam("return_url")??"";var t="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=confirm_phone_register";this.commonService.myNavigationWithQueryString("/auth/checking_service",t)}changeRegisterType(t){this.isShowOption=!1,this.myNavigationWithQueryString(`/auth/register/${t}`,this.returnUrl?`?return_url=${encodeURIComponent(this.returnUrl)}&user_click=true`:"?user_click=true"),0==t?(this.isTeacher=!1,this.isStudent=!0,this.msgError=""):(this.isTeacher=!0,this.isStudent=!1,this.msgError="")}loginZalo(){window.location.href=this.zaloLoginUrl}callRegisterForTeacherApi(t){var o=this.getFormValue(),l={fullName:o.fullName,password:o.password,tokenCaptcha:t,language:this.commonService.getCurrentLang()};Wt.z.validateEmail(o.username)?l.email=o.username:l.phone=o.username,this.waitDestroy(this.authService.apiAuthRegisterPost(l).subscribe(p=>{1==p.success?(this.showSuccessSnack("lang_auto_dang_ky_thanh_cong"),this.redirectByRoleService.redirectLoginByRoleForRegister(this.commonService.getMyQueryParam("return_url")??"",this.isBusinessDomain,this.isMobileWebView)):(this.errorStatusObj(p.message??""),this.isDuplicateEmailOrPhone=p.data?.isDuplicateEmailOrPhone??0)}))}registerForTeacher(){this.form.valid&&!this.msgError&&(this.initStatusObj(),this.executeImportantAction().then(t=>{this.callRegisterForTeacherApi(t)}).catch(t=>{this.callRegisterForTeacherApi("")}))}callRegisterForStudentApi(t){var o=this.getFormValue(),l={fullName:o.fullName,password:o.password,tokenCaptcha:t,language:this.commonService.getCurrentLang()};Wt.z.validateEmail(o.username)?l.email=o.username:l.phone=o.username,this.waitDestroy(this.authService.apiAuthRegisterForStudentPost(l).subscribe(p=>{1==p.success?(this.showSuccessSnack("lang_auto_dang_ky_thanh_cong"),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj(p.message??""),this.isDuplicateEmailOrPhone=p.data?.isDuplicateEmailOrPhone??0)}))}registerForStudent(){this.form.valid&&!this.msgError&&(this.initStatusObj(),this.executeImportantAction().then(t=>{this.callRegisterForStudentApi(t)}).catch(t=>{this.callRegisterForStudentApi("")}))}googleSignIn(){const t=this.browserUserAgentService.isCommonInAppBrowser();let o=this.browserUserAgentService.getCommonInAppBrowser(),l=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),p="zalo";"facebook"===o.toLowerCase()&&(p="fb");let C=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${l}/${l}_${p}_1.png`),N=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${l}/${l}_${p}_2.png`);if(t)this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(W=>{let ie=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),Ze=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.sAztDialogService.open(Ic.C,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${W+" "+o}. ${ie}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${Ze} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${C}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${Ze} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${N}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})});else{const W=this.commonService.getMyParam(this.activeRoute,"type"),ie=`/auth/register/${W}?return_url=${encodeURIComponent(this.returnUrl)}`;this.myNavigationWithQueryString(`/auth/register-by-openapi/${W}`,`?backto=${encodeURIComponent(ie)}`)}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){if(super.ngOnInit(),this.errorLoginGoogle=!!this.commonService.getMyQueryParam("errorLoginGoogle"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),this.userService.isLoginAndNotAnonymous())this.redirectByRoleService.redirectLoginByRole("");else{this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=rt.N.auth_external_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+encodeURIComponent(this.returnUrl)+"&is_register=1");let l=this.commonService.getMyQueryParam("user_click");var t=this.commonService.getMyParam(this.activeRoute,"type");if(this.isBusinessDomain&&this.myNavigation("/auth/login"),null!=t){var o=parseInt(t?.toString(),10);this.changeRegisterType(0==o?0:1)}this.yesterday.setDate(this.yesterday.getDate()-1),!l&&this.userService.isAnonymousRoleOfCurrentUser()&&this.myNavigation("/student/classroom/0"),this.commonService.translateMetaData({title:"lang_cms_auth_register_title",description:"lang_cms_auth_register_description",image:"lang_cms_test_image"}),this.stopStatusObj()}this.userObj=this.userService.getUserObj()}constructor(t,o,l,p,C,N,W,ie){super(),this.redirectByRoleService=t,this.activeRoute=o,this.userService=l,this.recaptchaV3Service=p,this.cdnService=C,this.sAztDialogService=N,this.authService=W,this.browserUserAgentService=ie,this.returnUrl="",this.zaloLoginUrl="",this.isHiddenFormRegister=!0,this.isTeacher=!0,this.isStudent=!1,this.yesterday=new Date,this.isShowOption=!0,this.isShowRegisterForStudent=!1,this.isShowRegisterForTeacher=!1,this.msgError="",this.showPassword=!1,this.isDuplicateEmailOrPhone=0,this.errorLoginGoogle=!1,this.form=new v.cw({username:new v.NI("",{nonNullable:!0,validators:[v.kI.required,O._.noWhiteSpace]}),fullName:new v.NI("",{nonNullable:!0,validators:[v.kI.required,O._.noWhiteSpace]}),password:new v.NI("",{nonNullable:!0,validators:[v.kI.required,v.kI.minLength(5),O._.noWhiteSpace]})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(yt.C),e.Y36(_e.gz),e.Y36(Ne.U),e.Y36(wn.YC),e.Y36(Sc.E),e.Y36(vt.C),e.Y36(Q.e8),e.Y36(kc))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],features:[e.qOj],decls:81,vars:66,consts:[[1,"intro-x","font-bold","text-2xl","text-center","mt-2"],["class","grid grid-cols-12 gap-5 mt-10 mb-2",4,"ngIf"],[1,"azt-register-form",3,"hidden"],[3,"formGroup"],[1,"intro-x","mt-4"],["role","tablist",1,"nav","nav-link-tabs"],["id","student-tab",1,"nav-item","flex-1"],["azt-track-service","register-Zsa1WPVSlq0",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M22 10v6M2 10l10-5 10 5-10 5z"],["d","M6 12v5c3 3 9 3 12 0v-5"],["id","teacher-tab",1,"nav-item","flex-1"],["azt-track-service","register-Jvx62OfaZm-",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"ngClass","click"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"azt-form-group"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","autocapitalize","none","formControlName","username",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder","input"],[2,"position","relative"],["autocapitalize","none","formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","form-group mb-2 mt-2",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],[1,"cursor-pointer","select-none"],["azt-track-service","register-gRvQ2yXGF","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],["azt-track-service","register-Q76IttHYbI","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500"],[4,"ngIf","ngIfElse"],["normalRedirectLogin",""],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","register-F4jPrlYkesl",1,"btn","btn-outline-secondary","mx-1","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"lucide","w-4","h-4","mr-2"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],[1,"text-md"],[1,"grid","grid-cols-12","gap-5","mt-10","mb-2"],[1,"col-span-6"],["azt-track-service","register-BnnqCKys5ws",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-32","h-32",2,"stroke-width","1"],[1,"font-medium"],["azt-track-service","register-2iEyLru08yP",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","version","1.0","viewBox","0 0 2600.000000 2600.000000","preserveAspectRatio","xMidYMid meet",1,"lucide","w-32","h-32"],["transform","translate(0.000000,2600.000000) scale(0.100000,-0.100000)","fill","currentColor","stroke","currentColor"],["d","M5087 20663 c-4 -3 -7 -145 -7 -315 l0 -308 5525 0 5525 0 0 315 0 315 -5518 0 c-3035 0 -5522 -3 -5525 -7z"],["d","M5507 19763 c-4 -3 -7 -1365 -7 -3025 l0 -3018 4196 0 c3353 0 4194 3 4188 13 -23 37 -372 551 -447 657 -100 140 -196 327 -227 440 -27 102 -38 229 -29 327 31 315 280 593 589 659 102 22 269 14 365 -16 194 -62 387 -198 546 -387 40 -48 164 -185 273 -303 110 -118 202 -219 206 -223 4 -4 129 183 279 418 l271 425 0 2020 0 2020 -5098 0 c-2804 0 -5102 -3 -5105 -7z m9243 -1328 l0 -235 -4140 0 -4140 0 0 235 0 235 4140 0 4140 0 0 -235z m-3080 -1130 l0 -235 -2600 0 -2600 0 0 235 0 235 2600 0 2600 0 0 -235z m0 -1125 l0 -230 -2600 0 -2600 0 0 230 0 230 2600 0 2600 0 0 -230z m-2480 -1130 l0 -230 -1360 0 -1360 0 0 230 0 230 1360 0 1360 0 0 -230z"],["d","M17409 19294 c-249 -45 -459 -156 -636 -336 -149 -153 -242 -316 -301 -528 -24 -87 -26 -111 -26 -285 0 -174 2 -198 27 -288 142 -527 593 -877 1130 -877 187 0 344 35 502 110 530 255 786 850 609 1412 -110 347 -390 630 -740 747 -176 59 -393 77 -565 45z"],["d","M17370 16650 c-246 -34 -488 -116 -645 -218 -138 -89 -120 -65 -820 -1165 -362 -567 -663 -1037 -669 -1044 -8 -9 -107 92 -408 415 -218 236 -414 450 -435 477 -82 103 -209 212 -300 257 -80 40 -92 43 -167 43 -105 0 -171 -30 -248 -114 -64 -69 -88 -132 -88 -231 0 -129 56 -262 190 -450 45 -63 300 -439 568 -835 522 -773 526 -778 671 -866 98 -59 158 -74 301 -74 122 0 127 1 193 33 42 21 90 56 130 96 39 40 199 257 437 596 l375 534 3 -573 2 -573 -125 -1196 c-69 -658 -125 -1208 -125 -1221 0 -20 3 -23 28 -17 15 3 90 9 167 12 117 5 161 3 264 -15 209 -36 426 -122 574 -227 26 -19 51 -34 55 -34 5 0 71 287 147 638 76 350 142 656 148 680 5 24 10 42 12 40 2 -2 222 -1013 489 -2248 267 -1235 492 -2274 501 -2310 28 -117 123 -228 233 -271 79 -32 195 -32 275 0 120 47 226 182 244 312 6 41 -61 717 -294 2944 l-302 2890 2 582 2 583 625 -1018 c343 -559 644 -1038 667 -1063 80 -86 213 -137 325 -125 129 13 249 101 304 221 37 80 45 207 19 286 -10 30 -483 919 -1051 1976 -1154 2146 -1044 1960 -1225 2075 -127 80 -301 144 -499 184 -98 19 -445 28 -550 14z"],["d","M5087 13443 c-4 -3 -7 -145 -7 -315 l0 -308 4711 0 4710 0 -212 315 -213 315 -4491 0 c-2471 0 -4495 -3 -4498 -7z"],["d","M7306 10119 c-148 -22 -312 -85 -437 -169 -82 -55 -213 -187 -268 -268 -63 -94 -118 -215 -148 -327 -23 -88 -26 -118 -26 -255 0 -167 12 -234 69 -377 88 -224 279 -429 501 -539 l84 -41 -78 -28 c-312 -110 -580 -343 -731 -634 -96 -184 -139 -342 -149 -543 l-6 -128 1332 0 1333 0 -7 98 c-22 331 -117 577 -316 819 -137 166 -371 325 -582 394 l-66 21 97 49 c281 141 480 400 544 709 16 78 19 121 15 240 -6 178 -26 261 -102 415 -121 248 -331 432 -592 518 -163 54 -313 68 -467 46z"],["d","M11775 10115 c-209 -40 -384 -128 -532 -269 -221 -209 -336 -496 -320 -795 14 -253 110 -473 286 -655 91 -94 177 -157 289 -212 l83 -41 -78 -28 c-312 -110 -584 -346 -732 -635 -95 -186 -138 -342 -148 -542 l-6 -128 1332 0 1331 0 -6 98 c-22 371 -142 643 -393 893 -158 158 -319 259 -505 319 l-69 23 73 33 c256 119 455 346 544 619 34 105 46 187 46 311 0 474 -316 872 -790 996 -102 26 -299 33 -405 13z"],["d","M16275 10114 c-228 -41 -418 -144 -579 -315 -277 -295 -352 -718 -193 -1098 88 -213 276 -409 495 -517 l83 -41 -78 -28 c-507 -179 -857 -646 -880 -1172 l-6 -133 1328 0 1328 0 -6 138 c-15 337 -150 629 -405 873 -145 140 -318 246 -485 299 l-67 22 92 46 c304 153 504 428 558 764 17 105 8 300 -18 400 -52 195 -146 352 -295 494 -110 105 -216 171 -351 219 -173 62 -353 79 -521 49z"],["d","M5002 5933 l3 -408 6940 0 6940 0 3 408 2 407 -6945 0 -6945 0 2 -407z"],["class","col-span-12 text-center w-width",4,"ngIf"],[1,"col-span-12","text-center","w-width"],["azt-track-service","register--fhLRd1G4",1,"pt-3","text-primary","clickable",3,"routerLink","queryParams"],[1,"text-danger","text-xs","mt-2","font-medium"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"form-group","mb-2","mt-2"],["class","control-label text-danger text-xs",4,"ngIf","ngIfElse"],["anotherError",""],[1,"control-label","text-danger","text-xs"],["azt-track-service","register-o5dCAmTwsxa",1,"btn-text-primary",3,"routerLink","queryParams"],[1,"text-danger","text-xs"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","register--0N0sDV9fnt",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["azt-track-service","register-5xErsLfQ8xy",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"]],template:function(t,o){if(1&t&&(e.TgZ(0,"auth-layout")(1,"h2",0),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,Jl,26,7,"div",1),e.TgZ(5,"div",2)(6,"form",3)(7,"div",4)(8,"ul",5)(9,"li",6)(10,"button",7),e.NdJ("click",function(){return o.changeRegisterType(0)}),e.O4$(),e.TgZ(11,"svg",8),e._UZ(12,"path",9)(13,"path",10),e.qZA(),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(16,"li",11)(17,"button",12),e.NdJ("click",function(){return o.changeRegisterType(1)}),e.O4$(),e.TgZ(18,"svg",8),e._UZ(19,"path",13)(20,"circle",14),e.qZA(),e._uU(21),e.ALo(22,"mytranslate"),e.qZA()()(),e.kcU(),e.TgZ(23,"div",15)(24,"div",16)(25,"div",17),e._UZ(26,"input",18),e.ALo(27,"mytranslate"),e.YNc(28,Vl,4,3,"div",19),e.qZA(),e.TgZ(29,"div",17)(30,"input",20),e.NdJ("input",function(){return o.isInvalidUserPhoneOrEmail(o.form.controls.username.value)}),e.ALo(31,"mytranslate"),e.qZA(),e.YNc(32,Wl,4,3,"div",19),e.YNc(33,Yl,3,3,"div",19),e.qZA(),e.TgZ(34,"div",17)(35,"div",21),e._UZ(36,"input",22),e.ALo(37,"mytranslate"),e.TgZ(38,"button",23),e.NdJ("click",function(){return o.togglePassword()}),e.YNc(39,Hl,4,0,"span",24),e.YNc(40,Gl,6,0,"span",24),e.qZA()(),e.YNc(41,Xl,3,2,"div",19),e.qZA()()()(),e.YNc(42,nu,4,2,"div",25),e.TgZ(43,"div",26)(44,"p",27),e._uU(45),e.ALo(46,"mytranslate"),e.ALo(47,"mytranslate"),e.ALo(48,"mytranslate"),e.TgZ(49,"a",28),e._uU(50),e.ALo(51,"mytranslate"),e.qZA(),e._uU(52),e.ALo(53,"mytranslate"),e.TgZ(54,"a",29),e._uU(55),e.ALo(56,"mytranslate"),e.qZA()()(),e.TgZ(57,"div",30)(58,"button",31),e.NdJ("click",function(){return 1==o.isStudent?o.registerForStudent():o.registerForTeacher()}),e.YNc(59,iu,2,0,"span",32),e._uU(60),e.ALo(61,"mytranslate"),e.qZA()(),e.TgZ(62,"div",33),e._uU(63),e.ALo(64,"mytranslate"),e.YNc(65,ou,5,12,"ng-container",34),e.YNc(66,au,4,11,"ng-template",null,35,e.W1O),e.qZA(),e.TgZ(68,"div",36)(69,"span",37),e._uU(70),e.ALo(71,"mytranslate"),e.qZA()(),e.TgZ(72,"div",38)(73,"button",39),e.NdJ("click",function(){return o.googleSignIn()}),e.O4$(),e.TgZ(74,"svg",40),e._UZ(75,"path",41)(76,"path",42)(77,"path",43)(78,"path",44),e.qZA(),e.kcU(),e.TgZ(79,"span",45),e._uU(80,"Google"),e.qZA()()()()()()),2&t){const l=e.MAs(67);e.xp6(2),e.hij(" ",e.lcZ(3,32,"lang_auto_dang_ky")," "),e.xp6(2),e.Q6J("ngIf",1==o.isShowOption),e.xp6(1),e.Q6J("hidden",o.isShowOption),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.Q6J("ngClass",e.VKq(62,Pc,o.isStudent)),e.xp6(4),e.hij(" ",e.lcZ(15,34,"lang_auto_hoc_sinh")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(64,Pc,o.isTeacher)),e.xp6(4),e.hij(" ",e.lcZ(22,36,"lang_auto_giao_vien")," "),e.xp6(5),e.s9C("placeholder",e.lcZ(27,38,"lang_auto_ho_ten")),e.xp6(2),e.Q6J("ngIf",o.form.controls.fullName.errors&&(o.form.controls.fullName.dirty||o.form.controls.fullName.touched)),e.xp6(2),e.s9C("placeholder",e.lcZ(31,40,"lang_auto_nhap_sdt_hoac_email")),e.xp6(2),e.Q6J("ngIf",o.form.controls.username.errors&&(o.form.controls.username.dirty||o.form.controls.username.touched)&&!o.msgError),e.xp6(1),e.Q6J("ngIf",o.msgError),e.xp6(3),e.s9C("placeholder",e.lcZ(37,42,"lang_auto_mat_khau")),e.Q6J("type",o.showPassword?"text":"password"),e.xp6(3),e.Q6J("ngIf",o.showPassword),e.xp6(1),e.Q6J("ngIf",!o.showPassword),e.xp6(1),e.Q6J("ngIf",o.form.controls.password.errors&&(o.form.controls.password.dirty||o.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",o.statusObj.errorMessage),e.xp6(3),e.lnq(" ",e.lcZ(46,44,"lang_auto_bang_cach_an_vao_nut"),' "',e.lcZ(47,46,"lang_auto_dang_ky"),'" ',e.lcZ(48,48,"lang_auto__toi_dong_y_voi")," "),e.xp6(5),e.Oqu(e.lcZ(51,50,"lang_auto_dieu_khoan_su_dung")),e.xp6(2),e.hij(" ",e.lcZ(53,52,"lang_auto_va")," "),e.xp6(3),e.Oqu(e.lcZ(56,54,"lang_auto_chinh_sach_bao_mat_cua_azota")),e.xp6(3),e.Q6J("disabled",o.form.invalid||o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(61,56,"lang_auto_dang_ky")," "),e.xp6(3),e.hij(" ",e.lcZ(64,58,"lang_auto_ban_da_co_tai_khoan")," "),e.xp6(2),e.Q6J("ngIf",o.isDuplicateEmailOrPhone>0)("ngIfElse",l),e.xp6(5),e.Oqu(e.lcZ(71,60,"lang_auto_hoac"))}},dependencies:[_e.rH,h.mk,h.O5,v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,fe.M,se.n,Je.J,E.Jy,E.JV],encapsulation:2}),n})();var su=b(6411);function cu(n,u){1&n&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function lu(n,u){if(1&n&&(e.TgZ(0,"div",12),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,t.msgError)," ")}}function uu(n,u){1&n&&(e.TgZ(0,"span",13),e._UZ(1,"azt-loading-ui"),e.qZA())}let du=(()=>{class n extends Y.Q{isInvalidUserPhoneOrEmail(t){this.msgError=Wt.z.validPhoneOrEmail(t)}addEmailOrPhone(){if(this.form.valid){let t,o;this.initStatusObj(),Wt.z.validateEmail(this.form.controls.phone.value)?o=this.form.controls.phone.value:t=this.form.controls.phone.value,this.waitDestroy(this.userZaloService.apiUserZaloUpdatePhoneOrEmailGet(t,o).subscribe(l=>{if(1==l.success){let p=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(p),this.successStatusObj()}else this.errorStatusObj(l.message??"",!0)}))}}backToRedirect(){let t=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(t)}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_nhap_sdt_hoac_email",description:"lang_auto_nhap_sdt_hoac_email",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,o){super(),this.userZaloService=t,this.zaloService=o,this.msgError="",this.form=new v.cw({phone:new v.NI("",{nonNullable:!0,validators:[v.kI.required,O._.noWhiteSpace]})}),this.zaloService.checkLoginZalo()||this.backToRedirect()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q.wS),e.Y36(su.i))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-required-phone-or-email"]],features:[e.qOj],decls:22,vars:17,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","name","phone","formControlName","phone",1,"form-control",3,"placeholder","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"mt-3"],["azt-track-service","required-phone-or-email-9m81Hd0Rr",1,"btn","btn-primary","w-full",3,"disabled","click"],["class","w-4 h-4 mr-2",4,"ngIf"],["azt-track-service","required-phone-or-email-C5azozVBTd",1,"btn-text-primary","inline-flex","items-center",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c450","","points","15 18 9 12 15 6"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"w-4","h-4","mr-2"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout")(1,"h2",0),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",1)(5,"form",2)(6,"div",3)(7,"input",4),e.NdJ("input",function(){return o.isInvalidUserPhoneOrEmail(o.form.controls.phone.value)}),e.ALo(8,"mytranslate"),e.qZA(),e.YNc(9,cu,4,3,"div",5),e.YNc(10,lu,3,3,"div",5),e.qZA(),e.TgZ(11,"div",6)(12,"button",7),e.NdJ("click",function(){return o.addEmailOrPhone()}),e.YNc(13,uu,2,0,"span",8),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()()(),e.TgZ(16,"div",6)(17,"a",9),e.NdJ("click",function(){return o.backToRedirect()}),e.O4$(),e.TgZ(18,"svg",10),e._UZ(19,"polyline",11),e.qZA(),e._uU(20),e.ALo(21,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,9,"lang_auth_phone_or_email_is_required_in_zalo_account")," "),e.xp6(3),e.Q6J("formGroup",o.form),e.xp6(2),e.s9C("placeholder",e.lcZ(8,11,"lang_auto_nhap_sdt_hoac_email")),e.xp6(2),e.Q6J("ngIf",o.form.controls.phone.invalid&&(o.form.controls.phone.dirty||o.form.controls.phone.touched)&&!o.msgError),e.xp6(1),e.Q6J("ngIf",o.msgError),e.xp6(2),e.Q6J("disabled",o.statusObj.loading||o.form.invalid),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(15,13,"lang_auto_tiep_tuc")," "),e.xp6(6),e.hij(" ",e.lcZ(21,15,"lang_auto_quay_lai")," "))},dependencies:[h.O5,v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,fe.M,se.n,Je.J,E.JV],encapsulation:2}),n})();function _u(n,u){1&n&&(e.TgZ(0,"div")(1,"div",11)(2,"span",12),e._UZ(3,"azt-loading-ui"),e.qZA(),e.TgZ(4,"span",13),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()()),2&n&&(e.xp6(5),e.hij("",e.lcZ(6,1,"lang_cms_common_loading"),"..."))}function pu(n,u){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function hu(n,u){if(1&n&&(e.TgZ(0,"div",29),e.YNc(1,pu,3,3,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function mu(n,u){if(1&n&&(e.TgZ(0,"div",14)(1,"label",30),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("*** ",e.lcZ(3,1,t.statusObj.errorMessage),"")}}function gu(n,u){1&n&&(e.TgZ(0,"span",31),e._UZ(1,"azt-loading-ui"),e.qZA())}const fu=function(n){return[n]},vu=function(){return{user_click:"true"}};function yu(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",14)(2,"div",15)(3,"div",16),e._UZ(4,"input",17),e.ALo(5,"mytranslate"),e.TgZ(6,"div",18)(7,"span",19)(8,"mat-icon"),e._uU(9,"lock"),e.qZA()()()(),e.TgZ(10,"div",16),e._UZ(11,"input",20),e.ALo(12,"mytranslate"),e.TgZ(13,"div",18)(14,"span",19)(15,"mat-icon"),e._uU(16,"lock"),e.qZA()()()(),e.YNc(17,hu,2,1,"div",21),e.qZA()(),e.YNc(18,mu,4,3,"div",22),e.TgZ(19,"div",23)(20,"div",15)(21,"div",24)(22,"button",25),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.form.invalid||l.statusObj.loading||l.changePassword())}),e.YNc(23,gu,2,0,"span",26),e._uU(24),e.ALo(25,"mytranslate"),e.qZA()()()(),e._UZ(26,"hr"),e.TgZ(27,"div",27)(28,"a",28),e.ALo(29,"navigationLocalize"),e._uU(30),e.ALo(31,"mytranslate"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.s9C("placeholder",e.lcZ(5,10,"lang_auto_mat_khau_moi")),e.xp6(7),e.s9C("placeholder",e.lcZ(12,12,"lang_auto_xac_nhan_mat_khau")),e.xp6(6),e.Q6J("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",t.statusObj.errorMessage),e.xp6(4),e.Q6J("disabled",t.form.invalid||t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(25,14,"lang_auto_doi_mat_khau")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(20,fu,e.lcZ(29,16,"/auth/login")))("queryParams",e.DdM(22,vu)),e.xp6(2),e.Oqu(e.lcZ(31,18,"lang_auto_dang_nhap_tai_khoan"))}}let bu=(()=>{class n extends Y.Q{getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,o){return!!this.form.controls[t].errors?.[o]&&this.form.controls[t].errors?.[o]}changePassword(){if(this.form.valid){let p=this.getFormValue();if(p.password!=p.confirm_password)this.showErrorSnack("lang_auto_xac_nhan_mat_khau_khong_khop");else{this.initStatusObj();var t=this.commonService.getMyQueryParam("token"),o=this.commonService.getMyQueryParam("app_name");this.waitDestroy(this.userInfoService.apiUserInfoChangePasswordByFirebasePost({firebaseToken:t??"",newPassword:p.password,appName:o??""}).subscribe(C=>{1==C.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole("")):this.errorStatusObj(C.message??"")}))}}}getFormValue(){return this.form.getRawValue()}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,o){super(),this.redirectByRoleService=t,this.userInfoService=o,this.form=new v.cw({emailOrPhone:new v.NI("",{nonNullable:!0,validators:[v.kI.required]}),hash:new v.NI("",{nonNullable:!0,validators:[v.kI.required]}),password:new v.NI("",{nonNullable:!0,validators:[v.kI.required,v.kI.minLength(6)]}),confirm_password:new v.NI("",{nonNullable:!0})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(yt.C),e.Y36(Q.$C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],features:[e.qOj],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"flex","justify-content-center"],[1,"w-4","h-4","inline-block"],[1,"sr-only","ml-2"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","autocapitalize","none","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["type","password","formControlName","confirm_password","autocomplete","new-confirm-password",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","set_new_password-dxWPShJ3Hp7","mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","set_new_password-GvOfa-SamrD",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.ALo(6,"getLinkLogo"),e.TgZ(7,"div",6)(8,"div",7)(9,"span",8),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()(),e.TgZ(12,"div",9),e.YNc(13,_u,7,3,"div",10),e.YNc(14,yu,32,23,"div",10),e.qZA()()(),e._UZ(15,"div",3),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.Q6J("src",e.lcZ(6,5,"bigLogo"),e.LSH),e.xp6(5),e.Oqu(e.lcZ(11,7,"lang_auto_doi_mat_khau_moi")),e.xp6(3),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!o.statusObj.loading))},dependencies:[_e.rH,h.O5,v._Y,v.Fj,v.JJ,v.JL,gn.lW,un.Hw,v.sg,v.u,fe.M,se.n,E.Jy,E.JV,E.LI],encapsulation:2}),n})();const xu=function(n){return[n]};let Au=(()=>{class n extends Y.Q{ngOnInit(){super.ngOnInit()}constructor(){super()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-thank-for-business"]],features:[e.qOj],decls:69,vars:28,consts:[[3,"maxWidth","contentBoxClass"],[1,"box","h-full","p-5","thank-for-business"],[1,"font-semibold","text-center","intro-x",2,"font-family","'Kaushan Script', cursive","font-size","4em","line-height","1","color","#5892FF"],[1,"mx-auto","mt-5","text-center","intro-x",2,"max-width","700px"],[1,"text-slate-500"],[1,"mt-4"],[1,"font-medium"],[1,"ml-5"],[1,"mt-3","flex","items-center"],[1,"flex","items-center","text-xs",2,"width","90px"],[1,"w-4","h-4","mr-2"],["name","phone"],[1,"mx-1"],[1,"ml-0"],["id","Layer_1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 460.1 436.6",1,"w-full","h-full"],["d","M82.6 380.9c-1.8-.8-3.1-1.7-1-3.5 1.3-1 2.7-1.9 4.1-2.8 13.1-8.5 25.4-17.8 33.5-31.5 6.8-11.4 5.7-18.1-2.8-26.5C69 269.2 48.2 212.5 58.6 145.5 64.5 107.7 81.8 75 107 46.6c15.2-17.2 33.3-31.1 53.1-42.7 1.2-.7 2.9-.9 3.1-2.7-.4-1-1.1-.7-1.7-.7-33.7 0-67.4-.7-101 .2C28.3 1.7.5 26.6.6 62.3c.2 104.3 0 208.6 0 313 0 32.4 24.7 59.5 57 60.7 27.3 1.1 54.6.2 82 .1 2 .1 4 .2 6 .2H290c36 0 72 .2 108 0 33.4 0 60.5-27 60.5-60.3v-.6-58.5c0-1.4.5-2.9-.4-4.4-1.8.1-2.5 1.6-3.5 2.6-19.4 19.5-42.3 35.2-67.4 46.3-61.5 27.1-124.1 29-187.6 7.2-5.5-2-11.5-2.2-17.2-.8-8.4 2.1-16.7 4.6-25 7.1-24.4 7.6-49.3 11-74.8 6zm72.5-168.5c1.7-2.2 2.6-3.5 3.6-4.8 13.1-16.6 26.2-33.2 39.3-49.9 3.8-4.8 7.6-9.7 10-15.5 2.8-6.6-.2-12.8-7-15.2-3-.9-6.2-1.3-9.4-1.1-17.8-.1-35.7-.1-53.5 0-2.5 0-5 .3-7.4.9-5.6 1.4-9 7.1-7.6 12.8 1 3.8 4 6.8 7.8 7.7 2.4.6 4.9.9 7.4.8 10.8.1 21.7 0 32.5.1 1.2 0 2.7-.8 3.6 1-.9 1.2-1.8 2.4-2.7 3.5-15.5 19.6-30.9 39.3-46.4 58.9-3.8 4.9-5.8 10.3-3 16.3s8.5 7.1 14.3 7.5c4.6.3 9.3.1 14 .1 16.2 0 32.3.1 48.5-.1 8.6-.1 13.2-5.3 12.3-13.3-.7-6.3-5-9.6-13-9.7-14.1-.1-28.2 0-43.3 0zm116-52.6c-12.5-10.9-26.3-11.6-39.8-3.6-16.4 9.6-22.4 25.3-20.4 43.5 1.9 17 9.3 30.9 27.1 36.6 11.1 3.6 21.4 2.3 30.5-5.1 2.4-1.9 3.1-1.5 4.8.6 3.3 4.2 9 5.8 14 3.9 5-1.5 8.3-6.1 8.3-11.3.1-20 .2-40 0-60-.1-8-7.6-13.1-15.4-11.5-4.3.9-6.7 3.8-9.1 6.9zm69.3 37.1c-.4 25 20.3 43.9 46.3 41.3 23.9-2.4 39.4-20.3 38.6-45.6-.8-25-19.4-42.1-44.9-41.3-23.9.7-40.8 19.9-40 45.6zm-8.8-19.9c0-15.7.1-31.3 0-47 0-8-5.1-13-12.7-12.9-7.4.1-12.3 5.1-12.4 12.8-.1 4.7 0 9.3 0 14v79.5c0 6.2 3.8 11.6 8.8 12.9 6.9 1.9 14-2.2 15.8-9.1.3-1.2.5-2.4.4-3.7.2-15.5.1-31 .1-46.5z",1,"st0"],["d","M139.5 436.2c-27.3 0-54.7.9-82-.1-32.3-1.3-57-28.4-57-60.7 0-104.3.2-208.6 0-313C.5 26.7 28.4 1.8 60.5.9c33.6-.9 67.3-.2 101-.2.6 0 1.4-.3 1.7.7-.2 1.8-2 2-3.1 2.7-19.8 11.6-37.9 25.5-53.1 42.7-25.1 28.4-42.5 61-48.4 98.9-10.4 66.9 10.5 123.7 57.8 171.1 8.4 8.5 9.5 15.1 2.8 26.5-8.1 13.7-20.4 23-33.5 31.5-1.4.8-2.8 1.8-4.2 2.7-2.1 1.8-.8 2.7 1 3.5.4.9.9 1.7 1.5 2.5 11.5 10.2 22.4 21.1 33.7 31.5 5.3 4.9 10.6 10 15.7 15.1 2.1 1.9 5.6 2.5 6.1 6.1z",1,"st1"],["d","M139.5 436.2c-.5-3.5-4-4.1-6.1-6.2-5.1-5.2-10.4-10.2-15.7-15.1-11.3-10.4-22.2-21.3-33.7-31.5-.6-.8-1.1-1.6-1.5-2.5 25.5 5 50.4 1.6 74.9-5.9 8.3-2.5 16.6-5 25-7.1 5.7-1.5 11.7-1.2 17.2.8 63.4 21.8 126 19.8 187.6-7.2 25.1-11.1 48-26.7 67.4-46.2 1-1 1.7-2.5 3.5-2.6.9 1.4.4 2.9.4 4.4v58.5c.2 33.4-26.6 60.6-60 60.9h-.5c-36 .2-72 0-108 0H145.5c-2-.2-4-.3-6-.3z",1,"st2"],["d","M155.1 212.4c15.1 0 29.3-.1 43.4 0 7.9.1 12.2 3.4 13 9.7.9 7.9-3.7 13.2-12.3 13.3-16.2.2-32.3.1-48.5.1-4.7 0-9.3.2-14-.1-5.8-.3-11.5-1.5-14.3-7.5s-.8-11.4 3-16.3c15.4-19.6 30.9-39.3 46.4-58.9.9-1.2 1.8-2.4 2.7-3.5-1-1.7-2.4-.9-3.6-1-10.8-.1-21.7 0-32.5-.1-2.5 0-5-.3-7.4-.8-5.7-1.3-9.2-7-7.9-12.6.9-3.8 3.9-6.9 7.7-7.8 2.4-.6 4.9-.9 7.4-.9 17.8-.1 35.7-.1 53.5 0 3.2-.1 6.3.3 9.4 1.1 6.8 2.3 9.7 8.6 7 15.2-2.4 5.7-6.2 10.6-10 15.5-13.1 16.7-26.2 33.3-39.3 49.8-1.1 1.3-2.1 2.6-3.7 4.8z",1,"st1"],["d","M271.1 159.8c2.4-3.1 4.9-6 9-6.8 7.9-1.6 15.3 3.5 15.4 11.5.3 20 .2 40 0 60 0 5.2-3.4 9.8-8.3 11.3-5 1.9-10.7.4-14-3.9-1.7-2.1-2.4-2.5-4.8-.6-9.1 7.4-19.4 8.7-30.5 5.1-17.8-5.8-25.1-19.7-27.1-36.6-2.1-18.3 4-33.9 20.4-43.5 13.6-8.1 27.4-7.4 39.9 3.5zm-35.4 36.5c.2 4.4 1.6 8.6 4.2 12.1 5.4 7.2 15.7 8.7 23 3.3 1.2-.9 2.3-2 3.3-3.3 5.6-7.6 5.6-20.1 0-27.7-2.8-3.9-7.2-6.2-11.9-6.3-11-.7-18.7 7.8-18.6 21.9zM340.4 196.9c-.8-25.7 16.1-44.9 40.1-45.6 25.5-.8 44.1 16.3 44.9 41.3.8 25.3-14.7 43.2-38.6 45.6-26.1 2.6-46.8-16.3-46.4-41.3zm25.1-2.4c-.2 5 1.3 9.9 4.3 14 5.5 7.2 15.8 8.6 23 3 1.1-.8 2-1.8 2.9-2.8 5.8-7.6 5.8-20.4.1-28-2.8-3.8-7.2-6.2-11.9-6.3-10.8-.6-18.4 7.6-18.4 20.1zM331.6 177c0 15.5.1 31 0 46.5.1 7.1-5.5 13-12.6 13.2-1.2 0-2.5-.1-3.7-.4-5-1.3-8.8-6.6-8.8-12.9v-79.5c0-4.7-.1-9.3 0-14 .1-7.7 5-12.7 12.4-12.7 7.6-.1 12.7 4.9 12.7 12.9.1 15.6 0 31.3 0 46.9z",1,"st1"],["d","M235.7 196.3c-.1-14.1 7.6-22.6 18.5-22 4.7.2 9.1 2.5 11.9 6.4 5.6 7.5 5.6 20.1 0 27.7-5.4 7.2-15.7 8.7-23 3.3-1.2-.9-2.3-2-3.3-3.3-2.5-3.5-3.9-7.7-4.1-12.1zM365.5 194.5c0-12.4 7.6-20.7 18.4-20.1 4.7.1 9.1 2.5 11.9 6.3 5.7 7.6 5.7 20.5-.1 28-5.6 7.1-16 8.3-23.1 2.7-1.1-.8-2-1.8-2.8-2.9-3-4.1-4.4-9-4.3-14z",1,"st0"],["d","M66 1h328.1c35.9 0 65 29.1 65 65v303c0 35.9-29.1 65-65 65H66c-35.9 0-65-29.1-65-65V66C1 30.1 30.1 1 66 1z",1,"st3"],[1,"mt-3"],[1,"azt-copy","relative","intro-x","mx-auto",2,"width","600px"],["type","text","readonly","","value","Azota For School.pdf",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10","text-primary",2,"padding-right","120px","cursor","pointer"],["azt-track-service","thank-for-business-npZYLKAD0","href","https://drive.google.com/file/d/1qG4uKTl1UC1lMQ96LX_dQjb2FPbeejyn/view?usp=sharing","target","_blank",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["d","M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6"],["d","m21 3-9 9"],["d","M15 3h6v6"],[1,"text-center","mt-8","intro-x"],["azt-track-service","thank-for-business-fr0dFQRDKx",1,"btn","btn-outline-primary","w-72",3,"routerLink"],["name","chevron-left"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout",0)(1,"div",1)(2,"h1",2),e._uU(3,"Thank you ! "),e.qZA(),e.TgZ(4,"div",3)(5,"span",4),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()(),e.TgZ(8,"div",5)(9,"div",6),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10),e._UZ(16,"lucide-icon",11),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"mytranslate"),e.qZA()(),e.TgZ(20,"div",12),e._uU(21,":"),e.qZA(),e.TgZ(22,"div",13),e._uU(23," 0972 112 969 "),e.qZA()(),e.TgZ(24,"div",8)(25,"div",9)(26,"div",10),e.O4$(),e.TgZ(27,"svg",14)(28,"style"),e._uU(29," .st0 { fill: #fdfefe } .st1 { fill: #0180c7 } .st2 { fill: #0172b1 } .st3 { fill: none; stroke: #0180c7; stroke-width: 2; stroke-miterlimit: 10 } "),e.qZA(),e.TgZ(30,"title"),e._uU(31,"logo-zalo-vector"),e.qZA(),e._UZ(32,"path",15)(33,"path",16)(34,"path",17)(35,"path",18)(36,"path",19)(37,"path",20)(38,"path",21),e.qZA()(),e.kcU(),e.TgZ(39,"span"),e._uU(40),e.ALo(41,"mytranslate"),e.qZA()(),e.TgZ(42,"div",12),e._uU(43,":"),e.qZA(),e.TgZ(44,"div",13),e._uU(45," 0972 112 969 "),e.qZA()()()(),e.TgZ(46,"div",5)(47,"div",6),e._uU(48),e.ALo(49,"mytranslate"),e.qZA(),e.TgZ(50,"div",22)(51,"div",23),e._UZ(52,"input",24),e.TgZ(53,"a",25),e.O4$(),e.TgZ(54,"svg",26),e._UZ(55,"path",27)(56,"path",28)(57,"path",29),e.qZA(),e.kcU(),e.TgZ(58,"span"),e._uU(59),e.ALo(60,"mytranslate"),e.qZA()()()()(),e.TgZ(61,"div",30)(62,"a",31),e.ALo(63,"navigationLocalize"),e.TgZ(64,"span",10),e._UZ(65,"lucide-icon",32),e.qZA(),e.TgZ(66,"span"),e._uU(67),e.ALo(68,"mytranslate"),e.qZA()()()()()),2&t&&(e.Q6J("maxWidth","800px")("contentBoxClass","margin-top--50"),e.xp6(6),e.hij(" ",e.lcZ(7,10,"lang_azt_thank_you_for_interest_in_azotas_features")," "),e.xp6(4),e.hij(" ",e.lcZ(11,12,"lang_azt_live_support_advice")," "),e.xp6(8),e.hij(" ",e.lcZ(19,14,"lang_auto_dien_thoai"),""),e.xp6(22),e.hij(" ",e.lcZ(41,16,"Zalo"),""),e.xp6(8),e.hij(" ",e.lcZ(49,18,"lang_azt_feature_solution_overview")," "),e.xp6(11),e.Oqu(e.lcZ(60,20,"lang_testbank_create_wibsite_result_Access")),e.xp6(3),e.Q6J("routerLink",e.VKq(26,xu,e.lcZ(63,22,"/auth/login"))),e.xp6(5),e.hij(" ",e.lcZ(68,24,"lang_auto_quay_lai_dang_nhap"),""))},dependencies:[_e.rH,Je.J,Ae.Nh5,E.Jy,E.JV],encapsulation:2}),n})();var wu=b(85087);function Cu(n,u){if(1&n&&e._UZ(0,"azt-loading-effect",2),2&n){const t=e.oxw();e.Q6J("currentStatusObj",t.statusObj)}}const Tu=function(n){return[n]},Iu=function(){return{user_click:"true"}};function Su(n,u){if(1&n&&(e.TgZ(0,"div",28)(1,"a",29),e.ALo(2,"navigationLocalize"),e.TgZ(3,"span",30),e._UZ(4,"lucide-icon",31),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("routerLink",e.VKq(7,Tu,e.lcZ(2,3,t.backLink)))("queryParams",e.DdM(9,Iu)),e.xp6(4),e.hij(" ",e.lcZ(6,5,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function ku(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),e.O4$(),e.TgZ(4,"svg",12),e._UZ(5,"path",13)(6,"path",14)(7,"path",15),e.qZA()(),e.kcU(),e.TgZ(8,"div",16)(9,"div",17),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"div",18)(13,"div",19),e._uU(14),e.ALo(15,"formatMoney"),e.ALo(16,"mytranslate"),e.qZA(),e.TgZ(17,"div",20),e._uU(18),e.ALo(19,"mytranslate"),e.qZA()()()(),e.TgZ(20,"div",21),e.O4$(),e.TgZ(21,"svg",22)(22,"title"),e._uU(23,"remove-ads"),e.qZA(),e._UZ(24,"path",23),e.qZA(),e.kcU(),e.TgZ(25,"div",24),e._uU(26),e.ALo(27,"mytranslate"),e.qZA()(),e.TgZ(28,"div",25)(29,"button",26),e.NdJ("click",function(){const p=e.CHM(t).$implicit,C=e.oxw(2);return e.KtG(C.choosePackage(p.id))}),e._uU(30),e.ALo(31,"mytranslate"),e.qZA()()(),e.YNc(32,Su,7,10,"div",27),e.qZA()}if(2&n){const t=u.$implicit,o=u.index;e.xp6(10),e.Oqu(e.lcZ(11,6,t.name)),e.xp6(4),e.hij(" ",e.lcZ(15,8,t.price)+" "+e.lcZ(16,10,"lang_auto_vnd_upper")," "),e.xp6(4),e.hij(" "," / "+t.totalMonth+" "+e.lcZ(19,12,"lang_auto_"+t.timeUnit)," "),e.xp6(8),e.hij(" ",e.lcZ(27,14,"lang_azt_no_ads")," "),e.xp6(4),e.hij(" ",e.lcZ(31,16,"lang_auth_use")," "),e.xp6(2),e.Q6J("ngIf",0===o)}}function Zu(n,u){if(1&n&&(e.TgZ(0,"auth-layout",3)(1,"div",4),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",5),e._UZ(5,"div",6),e.YNc(6,ku,33,18,"div",7),e._UZ(7,"div",6),e.qZA()()),2&n){const t=e.oxw();e.Q6J("maxWidth","900px")("contentBoxClass","bg-transparent shadow-none"),e.xp6(2),e.hij(" ",e.lcZ(3,4,"lang_auth_choose_package_to_use")," "),e.xp6(4),e.Q6J("ngForOf",t.vipPackageList)}}const Ou=[{path:"",component:nl,children:[{path:"login",component:Xc},{path:"login-scan/:role",component:qc},{path:"login-by-zalo",component:kr},{path:"register",component:Nc},{path:"register/:type",component:Nc},{path:"choose-role",component:is},{path:"required-phone-or-email",component:du},{path:"logout",component:tl},{path:"confirm_forgot_password",component:vo},{path:"confirm-forgot-password-email",component:us},{path:"forgot_password_success",component:Ys},{path:"confirm_forgot_password_qr",component:qs},{path:"confirm_forgot_password_old",component:Os},{path:"confirm_account",component:ms},{path:"checking_service",component:ns},{path:"set_new_password",component:bu},{path:"create-qr-forgot-pass/:role",component:Io},{path:"change-email",component:ts},{path:"account-setting/:roleType/:modeType",component:za},{path:"go-to-mobile/:code",component:wr},{path:"go-to-mobile/:code/:fromApp",component:wr},{path:"login-by-openapi",component:nc},{path:"register-by-openapi/:type",component:il},{path:"register-for-organization",component:Ql},{path:"register-for-business-old",component:bl},{path:"thank-for-business",component:Au},{path:"vip-packages/:vipPackageType",component:(()=>{class n extends Y.Q{choosePackage(t){let o=this.commonService.getMyQueryParam("backTo")?this.commonService.getMyQueryParam("backTo"):void 0;const l=`userRole=${this.vipPackageType==tn.T.TEACHER?"teacher":"student"}&productType=vip_package&backTo=`+encodeURIComponent(o??this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderBuyVipMemberGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),t,l).subscribe(p=>{if(!p.success)return this.errorStatusObj(p.message,!0);window.location.href=p.data?.value??"",this.successStatusObj()}))}getBusinessPackages(){this.initStatusObj(),this.waitDestroy(this.vipPackageService.apiVipPackageGetPackageObjsPost({vipPackageType:this.vipPackageType}).subscribe(t=>{if(!t.success)return this.errorStatusObj(t.message,!0);this.vipPackageList=t.data?.objs??[],this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.vipPackageType="teacherVip"==this.commonService.getMyParam(this.activeRoute,"vipPackageType")?tn.T.TEACHER:tn.T.STUDENT,this.backLink=this.commonService.getMyQueryParam("backto")??`/auth/account-setting/${this.vipPackageType==tn.T.TEACHER?0:1}/8`,this.getBusinessPackages()}constructor(t,o,l){super(),this.activeRoute=t,this.vipPackageService=o,this.productOrderService=l,this.vipPackageList=[],this.backLink="",this.allPackages=tn.T}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_e.gz),e.Y36(wu.l),e.Y36($t.pG))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-vip-packages"]],features:[e.qOj],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"maxWidth","contentBoxClass"],[1,"text-center","text-2xl","font-medium"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12","md:col-span-3"],["class","col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6"],[1,"intro-y","box","flex-1","p-5","w-full"],[1,"flex","items-center","pb-5","border-b","border-slate-200","dark:border-darkmode-400"],[1,"vip-icon","btn","btn-gradient-primary",2,"width","80px","height","80px","font-size","30px","font-weight","600","font-style","italic"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-gem"],["d","M6 3h12l4 6-10 13L2 9Z"],["d","M11 3 8 9l4 13 4-13-3-6"],["d","M2 9h20"],[1,"ml-3"],[1,"text-xl","font-medium"],[1,"mt-2","flex","items-center"],[1,"font-medium","text-lg","mr-1"],[1,"text-slate-500"],[1,"mt-5","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","id","Layer_1","data-name","Layer 1","viewBox","0 0 122.88 122.88",1,"w-8","h-8","mr-3","flex-none"],["d","M61.44,0A61.31,61.31,0,1,1,38,4.66,61.29,61.29,0,0,1,61.44,0ZM96.13,55.62A73.43,73.43,0,0,0,88.54,55a14.21,14.21,0,0,0-2.76.14.59.59,0,0,0-.38.61.75.75,0,0,0,.44.7,17,17,0,0,0,2.79.83,37.3,37.3,0,0,1,3.85,1.14A9.31,9.31,0,0,1,95.19,60a4.83,4.83,0,0,1,1.59,2.49,16,16,0,0,1,.39,4q0,5.14-2.45,7.34T87.36,76a35,35,0,0,1-5-.37,37.23,37.23,0,0,1-4-.75l-1.44-.37.37-7.34a61.8,61.8,0,0,0,9.29.91q1.92,0,1.92-1a.63.63,0,0,0-.44-.6,17.51,17.51,0,0,0-2.4-.52q-5.19-.9-7.06-2.84t-1.86-6.32q0-5.61,2.4-7.68t7.4-2.07a51.74,51.74,0,0,1,8.26.78l1.55.29-.22,7.47ZM62.7,75.41H51.85V47.61H62.33q6.4,0,9.21,3.24T74.36,61.2q0,7.13-2.7,10.66t-9,3.55Zm3-13.73q0-3.74-.69-5c-.45-.83-1.47-1.24-3.05-1.24H60.44V67.57H62a3.56,3.56,0,0,0,2.85-1.08c.59-.72.89-2.32.89-4.81Zm-40,13.73,5.48-27.8h13l5.59,27.8H41.11l-.7-3.19H34.75l-.6,3.19ZM37.26,55.17l-1.4,9.7h3.66l-1.33-9.7Zm64.93-23.63-6.39,6.4a58.74,58.74,0,0,0-9.26-.86,24.42,24.42,0,0,0-6,.71L94.83,23.48a50.62,50.62,0,0,0-52.7-8.77A50.49,50.49,0,0,0,23.52,94.79l9.38-9.38h1.25v0c2.42,0,4.59,0,7,0h5.18l1.61.43L31.58,102.16a50.51,50.51,0,0,0,70.61-70.62Z"],[1,"font-medium"],[1,"mt-10"],["azt-track-service","business-packages-eJWG8rCsJ",1,"btn","btn-primary","w-full","px-4","py-3",3,"click"],["class","mt-5",4,"ngIf"],[1,"mt-5"],[1,"text-primary","font-medium","dark:text-slate-200","flex","items-center","flex","items-center",3,"routerLink","queryParams"],[1,"w-4","h-4","mr-1","inline-block"],["name","chevron-left"]],template:function(t,o){if(1&t&&(e.YNc(0,Cu,1,1,"azt-loading-effect",0),e.YNc(1,Zu,8,6,"ng-template",null,1,e.W1O)),2&t){const l=e.MAs(2);e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",l)}},dependencies:[_e.rH,h.sg,h.O5,Ue.l,Je.J,Ae.Nh5,E.Jy,E.JV,E.ho],encapsulation:2}),n})()},{path:"business-packages/:businessPackageType/:businessRegisterId/:businessRegisterHash",component:cr}]}];let Eu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_e.Bz.forChild(Ou),_e.Bz,qt.fQ]}),n})(),Lu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:It.f8,useValue:rt.N.azt_tiny_mce_script_src}],imports:[_e.Bz,h.ez,v.u5,It.Z_,gt.j,v.UX,Eu,je.W,Re.d,sn.Z,ot.QG,Mt.kb,ze.initializeApp(rt.N.firebaseConfig_app1,"auth"),Ae.qyJ.pick(Ae.ciZ),De.l1,dt,mn.xC]}),n})()},90159:(Ke,we,b)=>{"use strict";b.d(we,{H7:()=>te,LT:()=>le});var h=b(65619),c=b(63019),e=b(37398),M=b(65879),ce=b(23655);class pe{constructor(w,I,q,R,z=1,B=!1,ee=!1,K,oe){this.id=w,this.pr=I,this.type=q,this.item=R,this.level=z,this.expandable=B,this.isLoading=ee,this.prNode=K,this.isLeaf=oe}}let te=(()=>{class ne{constructor(I){this.testMarketQuestionService=I,this.levelId=0,this.subjectId=0}initialData(I,q){return this.levelId=I,this.subjectId=q,new Promise(R=>{this.apiLeechData(void 0).then(z=>{R(z.map(B=>new pe(B.id,B.pr,B.type,B.name,0,"cate"===B.type,!1,void 0,B.isLeaf)))})})}apiLeechData(I){return new Promise(q=>{const R=[];this.testMarketQuestionService.apiTestMarketQuestionsKnowledgeGet(this.levelId,this.subjectId,I).subscribe(z=>{1===z.success&&z.data&&(z.data.objs||[]).forEach(ee=>{R.push({pr:I??0,id:ee.id??0,name:ee.name?`${ee.name}`:"",type:"cate",isLeaf:ee.isLeaf??!1})}),q(R)})})}}return ne.\u0275fac=function(I){return new(I||ne)(M.LFG(ce.Q_))},ne.\u0275prov=M.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})();class le{get data(){return this.dataChange.value}set data(w){this._treeControl.dataNodes=w,this.dataChange.next(w)}constructor(w,I){this._treeControl=w,this._database=I,this.dataChange=new h.X([])}connect(w){return this._treeControl.expansionModel.changed.subscribe(I=>{(I.added||I.removed)&&this.handleTreeControl(I)}),(0,c.T)(w.viewChange,this.dataChange).pipe((0,e.U)(()=>this.data))}getNode(w){let I=this.data.filter(q=>q.id==w);return I&&I.length>0?I[0]:null}disconnect(w){}handleTreeControl(w){w.added&&w.added.forEach(I=>this.toggleNode(I,!0)),w.removed&&w.removed.slice().reverse().forEach(I=>this.toggleNode(I,!1))}toggleNode(w,I){if("cate"!==w.type)return;const q=this.data.indexOf(w);if(I)w.isLoading=!0,this._database.apiLeechData(w.id).then(R=>{const z=R.map(B=>new pe(B.id,B.pr,B.type,B.name,w.level+1,"cate"===B.type,!1,w,B.isLeaf));this.data.splice(q+1,0,...z),this.dataChange.next(this.data),w.isLoading=!1});else{let R=0;for(let z=q+1;z<this.data.length&&this.data[z].level>w.level;z++,R++);this.data.splice(q+1,R),this.dataChange.next(this.data)}}}},97151:(Ke,we,b)=>{"use strict";b.d(we,{g:()=>te});var h=b(10217),e=b(89156),M=b(65879),ce=b(23433),pe=b(46558);let te=(()=>{class le{constructor(w,I){this.mobileWebviewService=w,this.commonService=I}shareFileWithBlob(w,I){if(this.commonService.isMobileWebview(void 0)){e.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");let q=new FileReader;q.readAsDataURL(w),q.onloadend=()=>{let R=q.result;"string"==typeof R&&(this.mobileWebviewService.sendShareFileBase64(I,String(R)),e.G.closeLoadingEffect(100))}}else h.saveAs(w,I)}shareFileWithBase64(w,I){this.commonService.isMobileWebview(void 0)?this.mobileWebviewService.sendShareFileBase64(I,w):h.saveAs(w,I)}}return le.\u0275fac=function(w){return new(w||le)(M.LFG(ce.r),M.LFG(pe.z))},le.\u0275prov=M.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})()},6411:(Ke,we,b)=>{"use strict";b.d(we,{i:()=>M});var h=b(65879),c=b(78953),e=b(46558);let M=(()=>{class ce{constructor(te,le){this.userService=te,this.commonService=le}checkLoginZalo(){if(!this.userService.isLogin())return!1;const te=this.userService.getUserObj();return!(!te.zaloId||te.phone&&10==te.phone.length||te.email&&-1!==te.email.indexOf("@"))}zaloInfoRequired(){this.checkLoginZalo()&&this.commonService.myNavigation("/auth/required-phone-or-email")}}return ce.\u0275fac=function(te){return new(te||ce)(h.LFG(c.U),h.LFG(e.z))},ce.\u0275prov=h.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},89156:(Ke,we,b)=>{"use strict";b.d(we,{G:()=>h});let h=(()=>{class c{static openLoadingEffect(M){c.getDomElement().style.display="flex",setTimeout(()=>{c.changeMsgLoadingEffect(M)},50)}static closeLoadingEffect(M){return new Promise(ce=>{setTimeout(()=>{const pe=c.getDomElement();pe&&(pe.style.display="none"),ce(!0)},M)})}static changeMsgLoadingEffect(M){c.getDomContent().innerText=M}static getDomContent(){return document.getElementById(c.idStatusContent)??document.createElement("span")}static getDomElement(){return document.getElementById(c.idComponent)??this.createDomElement()}static createDomElement(){const M=document.createElement("div");return M.id=c.idComponent,M.setAttribute("style","position: fixed;display: flex;width: 100vw;height: 100%;background: #000000c7;color: #ffffff;font-size: 20px;font-weight: lighter;justify-content: center;align-items: center;cursor: progress;z-index: 9999;top: 0;left: 0;"),M.style.display="none",M.innerHTML=`\n        <div class="text-center" style="height: 85%; overflow-x: auto;">\n            <div class="flex justify-center mt-5">\n                <svg width="20" viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                        <g transform="translate(2 1)" stroke="currentColor" stroke-width="1.5">\n                            <circle cx="42.601" cy="11.462" r="5" fill-opacity="1" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="1;0;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="49.063" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;1;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="42.601" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;1;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="49.125" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;1;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;1;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="4.938" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;1;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="11.462" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;1;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="5" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;0;1" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                        </g>\n                    </g>\n                </svg>\n            </div>\n            <div style="margin-top: 10px;position: relative;">\n                <span id="${c.idStatusContent}"></span>\n            </div>\n        </div>`,document.body.appendChild(M),M}}return c.idComponent="azt-status-loading-effect",c.idStatusContent="azt-status-loading-effect-content",c})()},54581:(Ke,we,b)=>{"use strict";b.d(we,{J:()=>oe});var h=b(37734),c=b(65879),e=b(88489),M=b(21266),ce=b(96814),pe=b(24097),te=b(69198),le=b(36727);function ne(re,ve){if(1&re&&(c.TgZ(0,"div",6),c.GkF(1,7),c.qZA()),2&re){c.oxw();const H=c.MAs(6);c.xp6(1),c.Q6J("ngTemplateOutlet",H)}}function w(re,ve){if(1&re&&(c.TgZ(0,"div",6),c.GkF(1,7),c.qZA()),2&re){c.oxw();const H=c.MAs(8);c.xp6(1),c.Q6J("ngTemplateOutlet",H)}}function I(re,ve){1&re&&c.Hsn(0)}function q(re,ve){if(1&re){const H=c.EpF();c.TgZ(0,"button",20),c.NdJ("click",function(){c.CHM(H);const Le=c.oxw(2);return c.KtG(Le.switchModeUI("dark"))}),c.O4$(),c.TgZ(1,"svg",21),c._UZ(2,"path",22),c.qZA(),c.kcU(),c.TgZ(3,"span",23),c._uU(4),c.ALo(5,"mytranslate"),c.qZA()()}2&re&&(c.xp6(4),c.Oqu(c.lcZ(5,1,"lang_auto_che_de_toi")))}function R(re,ve){if(1&re){const H=c.EpF();c.TgZ(0,"button",24),c.NdJ("click",function(){c.CHM(H);const Le=c.oxw(2);return c.KtG(Le.switchModeUI("light"))}),c.O4$(),c.TgZ(1,"svg",21),c._UZ(2,"circle",25)(3,"path",26)(4,"path",27)(5,"path",28)(6,"path",29)(7,"path",30)(8,"path",31)(9,"path",32)(10,"path",33),c.qZA(),c.kcU(),c.TgZ(11,"span"),c._uU(12),c.ALo(13,"mytranslate"),c.qZA()()}2&re&&(c.xp6(12),c.Oqu(c.lcZ(13,1,"lang_auto_che_de_sang")))}const z=function(re){return[re]};function B(re,ve){if(1&re&&(c.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"a",11),c.ALo(4,"navigationLocalize"),c._UZ(5,"img",12),c.ALo(6,"getLinkLogo"),c.qZA()(),c.TgZ(7,"div",13),c._UZ(8,"azt-switch-language"),c.qZA(),c.TgZ(9,"div",14),c.YNc(10,q,6,3,"button",15),c.YNc(11,R,14,3,"button",16),c.qZA()(),c.TgZ(12,"div",17)(13,"div",18)(14,"div",19),c.GkF(15,7),c.qZA()()()()),2&re){const H=c.oxw(),de=c.MAs(4);c.xp6(3),c.Q6J("routerLink",c.VKq(13,z,c.lcZ(4,9,"/auth/login"))),c.xp6(2),c.Q6J("src",c.lcZ(6,11,"bigLogo"),c.LSH),c.xp6(5),c.Q6J("ngIf","light"==H.modeUI),c.xp6(1),c.Q6J("ngIf","dark"==H.modeUI),c.xp6(2),c.Akn("max-width:"+H.maxWidth),c.Tol(H.contentBoxClass),c.xp6(2),c.Q6J("ngTemplateOutlet",de)}}function ee(re,ve){if(1&re&&(c.TgZ(0,"div",8)(1,"div",17)(2,"div",18)(3,"div",19),c.GkF(4,7),c.qZA()()()()),2&re){const H=c.oxw(),de=c.MAs(4);c.xp6(2),c.Akn("max-width:"+H.maxWidth),c.Tol(H.contentBoxClass),c.xp6(2),c.Q6J("ngTemplateOutlet",de)}}const K=["*"];let oe=(()=>{class re extends h.Q{switchModeUI(H){let de=document.getElementById("azota-app-html");de&&(this.modeUI=H,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?(de.classList.remove("dark"),de.classList.add("light")):(de.classList.remove("light"),de.classList.add("dark")))}ngOnInit(){super.ngOnInit(),this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":this.browserStorageService.getStorage("mode_ui")??"light",this.switchModeUI(this.modeUI),this.stopStatusObj()}constructor(H){super(),this.browserStorageService=H,this.maxWidth="500px",this.contentBoxClass="p-5",this.modeUI="",this.initStatusObj()}}return re.\u0275fac=function(H){return new(H||re)(c.Y36(e.n))},re.\u0275cmp=c.Xpm({type:re,selectors:[["auth-layout"]],inputs:{maxWidth:"maxWidth",contentBoxClass:"contentBoxClass"},features:[c.qOj],ngContentSelectors:K,decls:11,vars:2,consts:[[1,"azt-body",2,"padding","0"],["class","flex",4,"ngIf"],["BodyContentTpl",""],["notEmbedViewTpl",""],["embedViewTpl",""],[1,"fixed","left-0","bottom-0","p-5","pb-8","azt-hidden"],[1,"flex"],[3,"ngTemplateOutlet"],[1,"content","relative",2,"padding","0","border-radius","0"],[1,"top-bar","py-2","px-3",2,"height","auto","z-index","0","border","none"],[1,"mr-auto"],["azt-track-service","auth-layout-Il3suLG89",3,"routerLink"],["width","95px",3,"src"],[1,"mr-3"],[1,"mr-1"],["azt-track-service","auth-layout-JExDIjLZ0q","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],["azt-track-service","auth-layout-g8PYsmzs4T","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],[1,"p-5","flex","items-center","w-full","content-auth-layout","mt-10"],[1,"box","mx-auto","w-full"],[1,"azt-content"],["azt-track-service","auth-layout-JExDIjLZ0q",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["d","M12 3a6.364 6.364 0 0 0 9 9 9 9 0 1 1-9-9Z"],[1,""],["azt-track-service","auth-layout-g8PYsmzs4T",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["cx","12","cy","12","r","4"],["d","M12 2v2"],["d","M12 20v2"],["d","m4.93 4.93 1.41 1.41"],["d","m17.66 17.66 1.41 1.41"],["d","M2 12h2"],["d","M20 12h2"],["d","m6.34 17.66-1.41 1.41"],["d","m19.07 4.93-1.41 1.41"]],template:function(H,de){1&H&&(c.F$t(),c.TgZ(0,"div",0),c.YNc(1,ne,2,1,"div",1),c.YNc(2,w,2,1,"div",1),c.qZA(),c.YNc(3,I,1,0,"ng-template",null,2,c.W1O),c.YNc(5,B,16,15,"ng-template",null,3,c.W1O),c.YNc(7,ee,5,5,"ng-template",null,4,c.W1O),c.TgZ(9,"div",5),c._UZ(10,"header-setting-color"),c.qZA()),2&H&&(c.xp6(1),c.Q6J("ngIf",!de.isMobileWebView&&!de.statusObj.loading),c.xp6(1),c.Q6J("ngIf",de.isMobileWebView&&!de.statusObj.loading))},dependencies:[M.rH,ce.O5,ce.tP,pe.e,te.q,le.Jy,le.JV,le.LI],encapsulation:2}),re})()},96368:(Ke,we,b)=>{"use strict";b.d(we,{C:()=>pe});var h=b(19347),c=b(72164),e=b(65879),M=b(78497),ce=b(36727);let pe=(()=>{class te extends c.e{btnCloseDialog(){this.dialogRef.close()}constructor(ne,w){super(w,ne),this.dialogRef=ne,this.data=w}}return te.\u0275fac=function(ne){return new(ne||te)(e.Y36(h.so,8),e.Y36(h.WI,8))},te.\u0275cmp=e.Xpm({type:te,selectors:[["azt-dialog-warning"]],features:[e.qOj],decls:17,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[1,"text-md","font-medium","flex","items-center","p-3","pb-0"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mt-2"],[3,"defaultHeight"],[1,"text-xs","text-slate-500","dark:text-slate-400","p-3","pt-0",3,"innerHtml"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-warning-3FIn9IaXN",1,"btn","w-24","btn-primary",3,"click"]],template:function(ne,w){1&ne&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"polygon",5)(6,"line",6)(7,"line",7),e.qZA(),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.kcU(),e.TgZ(10,"div",8)(11,"azt-mat-dialog-content",9),e._UZ(12,"div",10),e.qZA()()()(),e.TgZ(13,"div",11)(14,"button",12),e.NdJ("click",function(){return w.btnCloseDialog()}),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()()()),2&ne&&(e.xp6(8),e.hij(" ",e.lcZ(9,4,"lang_auto_canh_bao")," "),e.xp6(3),e.Q6J("defaultHeight",60),e.xp6(1),e.Q6J("innerHtml",w.data.content,e.oJD),e.xp6(3),e.hij(" ",e.lcZ(16,6,"lang_auto_dong")," "))},dependencies:[M.R,ce.JV],encapsulation:2}),te})()},89310:(Ke,we,b)=>{"use strict";b.d(we,{P:()=>q});var h=b(37398),c=b(37734),e=b(65879),M=b(97151),ce=b(46558),pe=b(69862),te=b(96814),le=b(36727);function ne(R,z){if(1&R){const B=e.EpF();e.ynx(0),e.TgZ(1,"a",2),e.NdJ("click",function(){e.CHM(B);const K=e.oxw();return e.KtG(K.shareFileToFlutter())}),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.Hsn(5),e.qZA(),e.BQk()}if(2&R){const B=e.oxw();e.xp6(1),e.Akn(B.style),e.Tol(B.classStyle),e.s9C("target",B.target),e.xp6(2),e.Oqu(e.lcZ(4,7,B.fileDescription))}}function w(R,z){if(1&R&&(e.TgZ(0,"a",3)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.Hsn(4,1),e.qZA()),2&R){const B=e.oxw();e.Akn(B.style),e.Tol(B.classStyle),e.s9C("href",B.dataUrl,e.LSH),e.s9C("target",B.target),e.s9C("download",B.fileName),e.xp6(2),e.Oqu(e.lcZ(3,9,B.fileDescription))}}const I=["*","*"];let q=(()=>{class R extends c.Q{downloadFile(){return this.http.get(this.dataUrl,{responseType:"blob"}).pipe((0,h.U)(B=>B))}shareFileToFlutter(){this.downloadFile().subscribe(B=>{this.shareFileFlutterService.shareFileWithBlob(B,this.fileName)})}ngOnInit(){super.ngOnInit()}constructor(B,ee,K){super(),this.shareFileFlutterService=B,this.commonService=ee,this.http=K,this.dataUrl="",this.target="",this.fileName="",this.fileDescription="",this.classStyle="",this.style=""}}return R.\u0275fac=function(B){return new(B||R)(e.Y36(M.g),e.Y36(ce.z),e.Y36(pe.eN))},R.\u0275cmp=e.Xpm({type:R,selectors:[["azt-download-link-item"]],inputs:{dataUrl:"dataUrl",target:"target",fileName:"fileName",fileDescription:"fileDescription",classStyle:"classStyle",style:"style"},features:[e.qOj],ngContentSelectors:I,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["NormalWeb",""],[3,"target","click"],[3,"href","target","download"]],template:function(B,ee){if(1&B&&(e.F$t(I),e.YNc(0,ne,6,9,"ng-container",0),e.YNc(1,w,5,11,"ng-template",null,1,e.W1O)),2&B){const K=e.MAs(2);e.Q6J("ngIf",ee.isMobileWebView)("ngIfElse",K)}},dependencies:[te.O5,le.JV],encapsulation:2}),R})()},10217:function(Ke,we){var b,c;void 0!==(c="function"==typeof(b=function(){"use strict";function M(w,I,q){var R=new XMLHttpRequest;R.open("GET",w),R.responseType="blob",R.onload=function(){ne(R.response,I,q)},R.onerror=function(){console.error("could not download file")},R.send()}function ce(w){var I=new XMLHttpRequest;I.open("HEAD",w,!1);try{I.send()}catch{}return 200<=I.status&&299>=I.status}function pe(w){try{w.dispatchEvent(new MouseEvent("click"))}catch{var I=document.createEvent("MouseEvents");I.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),w.dispatchEvent(I)}}var te="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,le=te.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),ne=te.saveAs||("object"!=typeof window||window!==te?function(){}:"download"in HTMLAnchorElement.prototype&&!le?function(w,I,q){var R=te.URL||te.webkitURL,z=document.createElement("a");z.download=I=I||w.name||"download",z.rel="noopener","string"==typeof w?(z.href=w,z.origin===location.origin?pe(z):ce(z.href)?M(w,I,q):pe(z,z.target="_blank")):(z.href=R.createObjectURL(w),setTimeout(function(){R.revokeObjectURL(z.href)},4e4),setTimeout(function(){pe(z)},0))}:"msSaveOrOpenBlob"in navigator?function(w,I,q){if(I=I||w.name||"download","string"!=typeof w)navigator.msSaveOrOpenBlob(function e(w,I){return typeof I>"u"?I={autoBom:!1}:"object"!=typeof I&&(console.warn("Deprecated: Expected third argument to be a object"),I={autoBom:!I}),I.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(w.type)?new Blob(["\ufeff",w],{type:w.type}):w}(w,q),I);else if(ce(w))M(w,I,q);else{var R=document.createElement("a");R.href=w,R.target="_blank",setTimeout(function(){pe(R)})}}:function(w,I,q,R){if((R=R||open("","_blank"))&&(R.document.title=R.document.body.innerText="downloading..."),"string"==typeof w)return M(w,I,q);var z="application/octet-stream"===w.type,B=/constructor/i.test(te.HTMLElement)||te.safari,ee=/CriOS\/[\d]+/.test(navigator.userAgent);if((ee||z&&B||le)&&typeof FileReader<"u"){var K=new FileReader;K.onloadend=function(){var ve=K.result;ve=ee?ve:ve.replace(/^data:[^;]*;/,"data:attachment/file;"),R?R.location.href=ve:location=ve,R=null},K.readAsDataURL(w)}else{var oe=te.URL||te.webkitURL,re=oe.createObjectURL(w);R?R.location=re:location.href=re,R=null,setTimeout(function(){oe.revokeObjectURL(re)},4e4)}});te.saveAs=ne.saveAs=ne,Ke.exports=ne})?b.apply(we,[]):b)&&(Ke.exports=c)},83399:(Ke,we,b)=>{"use strict";b.d(we,{Z:()=>B});var h=b(30229),c=b(36820),e=b(79823),M=b(87879);class ce{constructor(K,oe){this._delegate=K,this.firebase=oe,(0,e._addComponent)(K,new c.wA("app-compat",()=>this,"PUBLIC")),this.container=K.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this._delegate.automaticDataCollectionEnabled=K}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(K=>{this._delegate.checkDestroyed(),K()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,e.deleteApp)(this._delegate)))}_getService(K,oe=e._DEFAULT_ENTRY_NAME){var re;this._delegate.checkDestroyed();const ve=this._delegate.container.getProvider(K);return!ve.isInitialized()&&"EXPLICIT"===(null===(re=ve.getComponent())||void 0===re?void 0:re.instantiationMode)&&ve.initialize(),ve.getImmediate({identifier:oe})}_removeServiceInstance(K,oe=e._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(K).clearInstance(oe)}_addComponent(K){(0,e._addComponent)(this._delegate,K)}_addOrOverwriteComponent(K){(0,e._addOrOverwriteComponent)(this._delegate,K)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),w=function ne(){const ee=function le(ee){const K={},oe={__esModule:!0,initializeApp:function H(ge,P={}){const he=e.initializeApp(ge,P);if((0,h.r3)(K,he.name))return K[he.name];const Pe=new ee(he,oe);return K[he.name]=Pe,Pe},app:ve,registerVersion:e.registerVersion,setLogLevel:e.setLogLevel,onLog:e.onLog,apps:null,SDK_VERSION:e.SDK_VERSION,INTERNAL:{registerComponent:function Le(ge){const P=ge.name,he=P.replace("-compat","");if(e._registerComponent(ge)&&"PUBLIC"===ge.type){const Pe=(Ee=ve())=>{if("function"!=typeof Ee[he])throw te.create("invalid-app-argument",{appName:P});return Ee[he]()};void 0!==ge.serviceProps&&(0,h.ZB)(Pe,ge.serviceProps),oe[he]=Pe,ee.prototype[he]=function(...Ee){return this._getService.bind(this,P).apply(this,ge.multipleInstances?Ee:[])}}return"PUBLIC"===ge.type?oe[he]:null},removeApp:function re(ge){delete K[ge]},useAsService:function Xe(ge,P){return"serverAuth"===P?null:P},modularAPIs:e}};function ve(ge){if(!(0,h.r3)(K,ge=ge||e._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:ge});return K[ge]}return oe.default=oe,Object.defineProperty(oe,"apps",{get:function de(){return Object.keys(K).map(ge=>K[ge])}}),ve.App=ee,oe}(ce);return ee.INTERNAL=Object.assign(Object.assign({},ee.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function K(oe){(0,h.ZB)(ee,oe)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),ee}(),I=new M.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){I.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ee=self.firebase.SDK_VERSION;ee&&ee.indexOf("LITE")>=0&&I.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const B=w;!function z(ee){(0,e.registerVersion)("@firebase/app-compat","0.2.22",ee)}()},79823:(Ke,we,b)=>{"use strict";b.r(we),b.d(we,{FirebaseError:()=>M.ZR,SDK_VERSION:()=>rt,_DEFAULT_ENTRY_NAME:()=>$e,_addComponent:()=>mt,_addOrOverwriteComponent:()=>mn,_apps:()=>tt,_clearComponents:()=>gt,_components:()=>dt,_getProvider:()=>ot,_registerComponent:()=>De,_removeServiceInstance:()=>Mt,deleteApp:()=>Ne,getApp:()=>ft,getApps:()=>Y,initializeApp:()=>qt,onLog:()=>Ue,registerVersion:()=>nt,setLogLevel:()=>Bt});var h=b(49671),c=b(36820),e=b(87879),M=b(30229);const ce=(Z,S)=>S.some(U=>Z instanceof U);let pe,te;const w=new WeakMap,I=new WeakMap,q=new WeakMap,R=new WeakMap,z=new WeakMap;let K={get(Z,S,U){if(Z instanceof IDBTransaction){if("done"===S)return I.get(Z);if("objectStoreNames"===S)return Z.objectStoreNames||q.get(Z);if("store"===S)return U.objectStoreNames[1]?void 0:U.objectStore(U.objectStoreNames[0])}return H(Z[S])},set:(Z,S,U)=>(Z[S]=U,!0),has:(Z,S)=>Z instanceof IDBTransaction&&("done"===S||"store"===S)||S in Z};function ve(Z){return"function"==typeof Z?function re(Z){return Z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Z)?function(...S){return Z.apply(de(this),S),H(w.get(this))}:function(...S){return H(Z.apply(de(this),S))}:function(S,...U){const G=Z.call(de(this),S,...U);return q.set(G,S.sort?S.sort():[S]),H(G)}}(Z):(Z instanceof IDBTransaction&&function ee(Z){if(I.has(Z))return;const S=new Promise((U,G)=>{const ue=()=>{Z.removeEventListener("complete",me),Z.removeEventListener("error",ke),Z.removeEventListener("abort",ke)},me=()=>{U(),ue()},ke=()=>{G(Z.error||new DOMException("AbortError","AbortError")),ue()};Z.addEventListener("complete",me),Z.addEventListener("error",ke),Z.addEventListener("abort",ke)});I.set(Z,S)}(Z),ce(Z,function le(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Z,K):Z)}function H(Z){if(Z instanceof IDBRequest)return function B(Z){const S=new Promise((U,G)=>{const ue=()=>{Z.removeEventListener("success",me),Z.removeEventListener("error",ke)},me=()=>{U(H(Z.result)),ue()},ke=()=>{G(Z.error),ue()};Z.addEventListener("success",me),Z.addEventListener("error",ke)});return S.then(U=>{U instanceof IDBCursor&&w.set(U,Z)}).catch(()=>{}),z.set(S,Z),S}(Z);if(R.has(Z))return R.get(Z);const S=ve(Z);return S!==Z&&(R.set(Z,S),z.set(S,Z)),S}const de=Z=>z.get(Z),ge=["get","getKey","getAll","getAllKeys","count"],P=["put","add","delete","clear"],he=new Map;function Pe(Z,S){if(!(Z instanceof IDBDatabase)||S in Z||"string"!=typeof S)return;if(he.get(S))return he.get(S);const U=S.replace(/FromIndex$/,""),G=S!==U,ue=P.includes(U);if(!(U in(G?IDBIndex:IDBObjectStore).prototype)||!ue&&!ge.includes(U))return;const me=function(){var ke=(0,h.Z)(function*(He,...Be){const vt=this.transaction(He,ue?"readwrite":"readonly");let Kt=vt.store;return G&&(Kt=Kt.index(Be.shift())),(yield Promise.all([Kt[U](...Be),ue&&vt.done]))[0]});return function(Be){return ke.apply(this,arguments)}}();return he.set(S,me),me}!function oe(Z){K=Z(K)}(Z=>({...Z,get:(S,U,G)=>Pe(S,U)||Z.get(S,U,G),has:(S,U)=>!!Pe(S,U)||Z.has(S,U)}));class Ee{constructor(S){this.container=S}getPlatformInfoString(){return this.container.getProviders().map(U=>{if(function ct(Z){const S=Z.getComponent();return"VERSION"===S?.type}(U)){const G=U.getImmediate();return`${G.library}/${G.version}`}return null}).filter(U=>U).join(" ")}}const wt="@firebase/app",Ve=new e.Yd("@firebase/app"),$e="[DEFAULT]",ut={[wt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,dt=new Map;function mt(Z,S){try{Z.container.addComponent(S)}catch(U){Ve.debug(`Component ${S.name} failed to register with FirebaseApp ${Z.name}`,U)}}function mn(Z,S){Z.container.addOrOverwriteComponent(S)}function De(Z){const S=Z.name;if(dt.has(S))return Ve.debug(`There were multiple attempts to register component ${S}.`),!1;dt.set(S,Z);for(const U of tt.values())mt(U,Z);return!0}function ot(Z,S){const U=Z.container.getProvider("heartbeat").getImmediate({optional:!0});return U&&U.triggerHeartbeat(),Z.container.getProvider(S)}function Mt(Z,S,U=$e){ot(Z,S).clearInstance(U)}function gt(){dt.clear()}const Re=new M.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class je{constructor(S,U,G){this._isDeleted=!1,this._options=Object.assign({},S),this._config=Object.assign({},U),this._name=U.name,this._automaticDataCollectionEnabled=U.automaticDataCollectionEnabled,this._container=G,this.container.addComponent(new c.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(S){this.checkDestroyed(),this._automaticDataCollectionEnabled=S}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(S){this._isDeleted=S}checkDestroyed(){if(this.isDeleted)throw Re.create("app-deleted",{appName:this._name})}}const rt="10.5.2";function qt(Z,S={}){let U=Z;"object"!=typeof S&&(S={name:S});const G=Object.assign({name:$e,automaticDataCollectionEnabled:!1},S),ue=G.name;if("string"!=typeof ue||!ue)throw Re.create("bad-app-name",{appName:String(ue)});if(U||(U=(0,M.aH)()),!U)throw Re.create("no-options");const me=tt.get(ue);if(me){if((0,M.vZ)(U,me.options)&&(0,M.vZ)(G,me.config))return me;throw Re.create("duplicate-app",{appName:ue})}const ke=new c.H0(ue);for(const Be of dt.values())ke.addComponent(Be);const He=new je(U,G,ke);return tt.set(ue,He),He}function ft(Z=$e){const S=tt.get(Z);if(!S&&Z===$e&&(0,M.aH)())return qt();if(!S)throw Re.create("no-app",{appName:Z});return S}function Y(){return Array.from(tt.values())}function Ne(Z){return We.apply(this,arguments)}function We(){return(We=(0,h.Z)(function*(Z){const S=Z.name;tt.has(S)&&(tt.delete(S),yield Promise.all(Z.container.getProviders().map(U=>U.delete())),Z.isDeleted=!0)})).apply(this,arguments)}function nt(Z,S,U){var G;let ue=null!==(G=ut[Z])&&void 0!==G?G:Z;U&&(ue+=`-${U}`);const me=ue.match(/\s|\//),ke=S.match(/\s|\//);if(me||ke){const He=[`Unable to register library "${ue}" with version "${S}":`];return me&&He.push(`library name "${ue}" contains illegal characters (whitespace or "/")`),me&&ke&&He.push("and"),ke&&He.push(`version name "${S}" contains illegal characters (whitespace or "/")`),void Ve.warn(He.join(" "))}De(new c.wA(`${ue}-version`,()=>({library:ue,version:S}),"VERSION"))}function Ue(Z,S){if(null!==Z&&"function"!=typeof Z)throw Re.create("invalid-log-argument");(0,e.Am)(Z,S)}function Bt(Z){(0,e.Ub)(Z)}const Ht="firebase-heartbeat-database",Dt=1,x="firebase-heartbeat-store";let y=null;function g(){return y||(y=function Le(Z,S,{blocked:U,upgrade:G,blocking:ue,terminated:me}={}){const ke=indexedDB.open(Z,S),He=H(ke);return G&&ke.addEventListener("upgradeneeded",Be=>{G(H(ke.result),Be.oldVersion,Be.newVersion,H(ke.transaction),Be)}),U&&ke.addEventListener("blocked",Be=>U(Be.oldVersion,Be.newVersion,Be)),He.then(Be=>{me&&Be.addEventListener("close",()=>me()),ue&&Be.addEventListener("versionchange",vt=>ue(vt.oldVersion,vt.newVersion,vt))}).catch(()=>{}),He}(Ht,Dt,{upgrade:(Z,S)=>{0===S&&Z.createObjectStore(x)}}).catch(Z=>{throw Re.create("idb-open",{originalErrorMessage:Z.message})})),y}function _(){return(_=(0,h.Z)(function*(Z){try{return yield(yield g()).transaction(x).objectStore(x).get(D(Z))}catch(S){if(S instanceof M.ZR)Ve.warn(S.message);else{const U=Re.create("idb-get",{originalErrorMessage:S?.message});Ve.warn(U.message)}}})).apply(this,arguments)}function T(Z,S){return O.apply(this,arguments)}function O(){return(O=(0,h.Z)(function*(Z,S){try{const G=(yield g()).transaction(x,"readwrite");yield G.objectStore(x).put(S,D(Z)),yield G.done}catch(U){if(U instanceof M.ZR)Ve.warn(U.message);else{const G=Re.create("idb-set",{originalErrorMessage:U?.message});Ve.warn(G.message)}}})).apply(this,arguments)}function D(Z){return`${Z.name}!${Z.options.appId}`}class Ce{constructor(S){this.container=S,this._heartbeatsCache=null;const U=this.container.getProvider("app").getImmediate();this._storage=new E(U),this._heartbeatsCachePromise=this._storage.read().then(G=>(this._heartbeatsCache=G,G))}triggerHeartbeat(){var S=this;return(0,h.Z)(function*(){const G=S.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ue=ae();if(null===S._heartbeatsCache&&(S._heartbeatsCache=yield S._heartbeatsCachePromise),S._heartbeatsCache.lastSentHeartbeatDate!==ue&&!S._heartbeatsCache.heartbeats.some(me=>me.date===ue))return S._heartbeatsCache.heartbeats.push({date:ue,agent:G}),S._heartbeatsCache.heartbeats=S._heartbeatsCache.heartbeats.filter(me=>{const ke=new Date(me.date).valueOf();return Date.now()-ke<=2592e6}),S._storage.overwrite(S._heartbeatsCache)})()}getHeartbeatsHeader(){var S=this;return(0,h.Z)(function*(){if(null===S._heartbeatsCache&&(yield S._heartbeatsCachePromise),null===S._heartbeatsCache||0===S._heartbeatsCache.heartbeats.length)return"";const U=ae(),{heartbeatsToSend:G,unsentEntries:ue}=function se(Z,S=1024){const U=[];let G=Z.slice();for(const ue of Z){const me=U.find(ke=>ke.agent===ue.agent);if(me){if(me.dates.push(ue.date),Ye(U)>S){me.dates.pop();break}}else if(U.push({agent:ue.agent,dates:[ue.date]}),Ye(U)>S){U.pop();break}G=G.slice(1)}return{heartbeatsToSend:U,unsentEntries:G}}(S._heartbeatsCache.heartbeats),me=(0,M.L)(JSON.stringify({version:2,heartbeats:G}));return S._heartbeatsCache.lastSentHeartbeatDate=U,ue.length>0?(S._heartbeatsCache.heartbeats=ue,yield S._storage.overwrite(S._heartbeatsCache)):(S._heartbeatsCache.heartbeats=[],S._storage.overwrite(S._heartbeatsCache)),me})()}}function ae(){return(new Date).toISOString().substring(0,10)}class E{constructor(S){this.app=S,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,M.hl)()&&(0,M.eu)().then(()=>!0).catch(()=>!1)})()}read(){var S=this;return(0,h.Z)(function*(){return(yield S._canUseIndexedDBPromise)&&(yield function f(Z){return _.apply(this,arguments)}(S.app))||{heartbeats:[]}})()}overwrite(S){var U=this;return(0,h.Z)(function*(){var G;if(yield U._canUseIndexedDBPromise){const me=yield U.read();return T(U.app,{lastSentHeartbeatDate:null!==(G=S.lastSentHeartbeatDate)&&void 0!==G?G:me.lastSentHeartbeatDate,heartbeats:S.heartbeats})}})()}add(S){var U=this;return(0,h.Z)(function*(){var G;if(yield U._canUseIndexedDBPromise){const me=yield U.read();return T(U.app,{lastSentHeartbeatDate:null!==(G=S.lastSentHeartbeatDate)&&void 0!==G?G:me.lastSentHeartbeatDate,heartbeats:[...me.heartbeats,...S.heartbeats]})}})()}}function Ye(Z){return(0,M.L)(JSON.stringify({version:2,heartbeats:Z})).length}!function Gt(Z){De(new c.wA("platform-logger",S=>new Ee(S),"PRIVATE")),De(new c.wA("heartbeat",S=>new Ce(S),"PRIVATE")),nt(wt,"0.9.22",Z),nt(wt,"0.9.22","esm2017"),nt("fire-js","")}("")},36820:(Ke,we,b)=>{"use strict";b.d(we,{H0:()=>le,wA:()=>e});var h=b(49671),c=b(30229);class e{constructor(w,I,q){this.name=w,this.instanceFactory=I,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(w){return this.instantiationMode=w,this}setMultipleInstances(w){return this.multipleInstances=w,this}setServiceProps(w){return this.serviceProps=w,this}setInstanceCreatedCallback(w){return this.onInstanceCreated=w,this}}const M="[DEFAULT]";class ce{constructor(w,I){this.name=w,this.container=I,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(w){const I=this.normalizeInstanceIdentifier(w);if(!this.instancesDeferred.has(I)){const q=new c.BH;if(this.instancesDeferred.set(I,q),this.isInitialized(I)||this.shouldAutoInitialize())try{const R=this.getOrInitializeService({instanceIdentifier:I});R&&q.resolve(R)}catch{}}return this.instancesDeferred.get(I).promise}getImmediate(w){var I;const q=this.normalizeInstanceIdentifier(w?.identifier),R=null!==(I=w?.optional)&&void 0!==I&&I;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(R)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(z){if(R)return null;throw z}}getComponent(){return this.component}setComponent(w){if(w.name!==this.name)throw Error(`Mismatching Component ${w.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=w,this.shouldAutoInitialize()){if(function te(ne){return"EAGER"===ne.instantiationMode}(w))try{this.getOrInitializeService({instanceIdentifier:M})}catch{}for(const[I,q]of this.instancesDeferred.entries()){const R=this.normalizeInstanceIdentifier(I);try{const z=this.getOrInitializeService({instanceIdentifier:R});q.resolve(z)}catch{}}}}clearInstance(w=M){this.instancesDeferred.delete(w),this.instancesOptions.delete(w),this.instances.delete(w)}delete(){var w=this;return(0,h.Z)(function*(){const I=Array.from(w.instances.values());yield Promise.all([...I.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...I.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(w=M){return this.instances.has(w)}getOptions(w=M){return this.instancesOptions.get(w)||{}}initialize(w={}){const{options:I={}}=w,q=this.normalizeInstanceIdentifier(w.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const R=this.getOrInitializeService({instanceIdentifier:q,options:I});for(const[z,B]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(z)&&B.resolve(R);return R}onInit(w,I){var q;const R=this.normalizeInstanceIdentifier(I),z=null!==(q=this.onInitCallbacks.get(R))&&void 0!==q?q:new Set;z.add(w),this.onInitCallbacks.set(R,z);const B=this.instances.get(R);return B&&w(B,R),()=>{z.delete(w)}}invokeOnInitCallbacks(w,I){const q=this.onInitCallbacks.get(I);if(q)for(const R of q)try{R(w,I)}catch{}}getOrInitializeService({instanceIdentifier:w,options:I={}}){let q=this.instances.get(w);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(ne=w,ne===M?void 0:ne),options:I}),this.instances.set(w,q),this.instancesOptions.set(w,I),this.invokeOnInitCallbacks(q,w),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,w,q)}catch{}var ne;return q||null}normalizeInstanceIdentifier(w=M){return this.component?this.component.multipleInstances?w:M:w}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(w){this.name=w,this.providers=new Map}addComponent(w){const I=this.getProvider(w.name);if(I.isComponentSet())throw new Error(`Component ${w.name} has already been registered with ${this.name}`);I.setComponent(w)}addOrOverwriteComponent(w){this.getProvider(w.name).isComponentSet()&&this.providers.delete(w.name),this.addComponent(w)}getProvider(w){if(this.providers.has(w))return this.providers.get(w);const I=new ce(w,this);return this.providers.set(w,I),I}getProviders(){return Array.from(this.providers.values())}}},8661:(Ke,we,b)=>{"use strict";b.r(we);var h=b(49671),c=b(83399),e=b(76202),M=b(30229),te=(b(79823),b(87879),b(36820));function le(){return window}function I(){return I=(0,h.Z)(function*(g,f,_){var T;const{BuildInfo:O}=le();(0,e.at)(f.sessionId,"AuthEvent did not contain a session ID");const D=yield function oe(g){return re.apply(this,arguments)}(f.sessionId),X={};return(0,e.au)()?X.ibi=O.packageName:(0,e.av)()?X.apn=O.packageName:(0,e.aw)(g,"operation-not-supported-in-this-environment"),O.displayName&&(X.appDisplayName=O.displayName),X.sessionId=D,(0,e.ax)(g,_,f.type,void 0,null!==(T=f.eventId)&&void 0!==T?T:void 0,X)}),I.apply(this,arguments)}function R(){return(R=(0,h.Z)(function*(g){const{BuildInfo:f}=le(),_={};(0,e.au)()?_.iosBundleId=f.packageName:(0,e.av)()?_.androidPackageName=f.packageName:(0,e.aw)(g,"operation-not-supported-in-this-environment"),yield(0,e.ay)(g,_)})).apply(this,arguments)}function ee(){return(ee=(0,h.Z)(function*(g,f,_){const{cordova:T}=le();let O=()=>{};try{yield new Promise((D,X)=>{let Q=null;function Ce(){var E;D();const Ye=null===(E=T.plugins.browsertab)||void 0===E?void 0:E.close;"function"==typeof Ye&&Ye(),"function"==typeof _?.close&&_.close()}function ae(){Q||(Q=window.setTimeout(()=>{X((0,e.aA)(g,"redirect-cancelled-by-user"))},2e3))}function se(){"visible"===document?.visibilityState&&ae()}f.addPassiveListener(Ce),document.addEventListener("resume",ae,!1),(0,e.av)()&&document.addEventListener("visibilitychange",se,!1),O=()=>{f.removePassiveListener(Ce),document.removeEventListener("resume",ae,!1),document.removeEventListener("visibilitychange",se,!1),Q&&window.clearTimeout(Q)}})}finally{O()}})).apply(this,arguments)}function re(){return(re=(0,h.Z)(function*(g){const f=function ve(g){if((0,e.at)(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(g);const f=new ArrayBuffer(g.length),_=new Uint8Array(f);for(let T=0;T<g.length;T++)_[T]=g.charCodeAt(T);return _}(g),_=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(_)).map(O=>O.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class de extends e.aC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function ge(g){return P.apply(this,arguments)}function P(){return(P=(0,h.Z)(function*(g){const f=yield Ee()._get(ct(g));return f&&(yield Ee()._remove(ct(g))),f})).apply(this,arguments)}function Pe(){const g=[];for(let _=0;_<20;_++){const T=Math.floor(62*Math.random());g.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(T))}return g.join("")}function Ee(){return(0,e.aD)(e.b)}function ct(g){return(0,e.aE)("authEvent",g.config.apiKey,g.name)}function Ve(g){if(!g?.includes("?"))return{};const[f,..._]=g.split("?");return(0,M.zd)(_.join("?"))}const et=class Nt{constructor(){this._redirectPersistence=e.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=e.aF,this._overrideRedirectResult=e.aG}_initialize(f){var _=this;return(0,h.Z)(function*(){const T=f._key();let O=_.eventManagers.get(T);return O||(O=new de(f),_.eventManagers.set(T,O),_.attachCallbackListeners(f,O)),O})()}_openPopup(f){(0,e.aw)(f,"operation-not-supported-in-this-environment")}_openRedirect(f,_,T,O){var D=this;return(0,h.Z)(function*(){!function K(g){var f,_,T,O,D,X,Q,Ce,ae,se;const E=le();(0,e.aB)("function"==typeof(null===(f=E?.universalLinks)||void 0===f?void 0:f.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,e.aB)(typeof(null===(_=E?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,e.aB)("function"==typeof(null===(D=null===(O=null===(T=E?.cordova)||void 0===T?void 0:T.plugins)||void 0===O?void 0:O.browsertab)||void 0===D?void 0:D.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,e.aB)("function"==typeof(null===(Ce=null===(Q=null===(X=E?.cordova)||void 0===X?void 0:X.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===Ce?void 0:Ce.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,e.aB)("function"==typeof(null===(se=null===(ae=E?.cordova)||void 0===ae?void 0:ae.InAppBrowser)||void 0===se?void 0:se.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const X=yield D._initialize(f);yield X.initialized(),X.resetRedirect(),(0,e.aH)(),yield D._originValidation(f);const Q=function Le(g,f,_=null){return{type:f,eventId:_,urlResponse:null,sessionId:Pe(),postBody:null,tenantId:g.tenantId,error:(0,e.aA)(g,"no-auth-event")}}(f,T,O);yield function Xe(g,f){return Ee()._set(ct(g),f)}(f,Q);const Ce=yield function w(g,f,_){return I.apply(this,arguments)}(f,Q,_),ae=yield function z(g){const{cordova:f}=le();return new Promise(_=>{f.plugins.browsertab.isAvailable(T=>{let O=null;T?f.plugins.browsertab.openUrl(g):O=f.InAppBrowser.open(g,(0,e.az)()?"_blank":"_system","location=yes"),_(O)})})}(Ce);return function B(g,f,_){return ee.apply(this,arguments)}(f,X,ae)})()}_isIframeWebStorageSupported(f,_){throw new Error("Method not implemented.")}_originValidation(f){const _=f._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function q(g){return R.apply(this,arguments)}(f)),this.originValidationPromises[_]}attachCallbackListeners(f,_){const{universalLinks:T,handleOpenURL:O,BuildInfo:D}=le(),X=setTimeout((0,h.Z)(function*(){yield ge(f),_.onEvent(Ct())}),500),Q=function(){var se=(0,h.Z)(function*(E){clearTimeout(X);const Ye=yield ge(f);let Gt=null;Ye&&E?.url&&(Gt=function he(g,f){var _,T;const O=function At(g){const f=Ve(g),_=f.link?decodeURIComponent(f.link):void 0,T=Ve(_).link,O=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Ve(O).link||O||T||_||g}(f);if(O.includes("/__/auth/callback")){const D=Ve(O),X=D.firebaseError?function wt(g){try{return JSON.parse(g)}catch{return null}}(decodeURIComponent(D.firebaseError)):null,Q=null===(T=null===(_=X?.code)||void 0===_?void 0:_.split("auth/"))||void 0===T?void 0:T[1],Ce=Q?(0,e.aA)(Q):null;return Ce?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:Ce,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:O,postBody:null}}return null}(Ye,E.url)),_.onEvent(Gt||Ct())});return function(Ye){return se.apply(this,arguments)}}();typeof T<"u"&&"function"==typeof T.subscribe&&T.subscribe(null,Q);const Ce=O,ae=`${D.packageName.toLowerCase()}://`;le().handleOpenURL=function(){var se=(0,h.Z)(function*(E){if(E.toLowerCase().startsWith(ae)&&Q({url:E}),"function"==typeof Ce)try{Ce(E)}catch(Ye){console.error(Ye)}});return function(E){return se.apply(this,arguments)}}()}};function Ct(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,e.aA)("no-auth-event")}}function J(){var g;return(null===(g=self?.location)||void 0===g?void 0:g.protocol)||null}function F(g=(0,M.z$)()){return!("file:"!==J()&&"ionic:"!==J()&&"capacitor:"!==J()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function lt(){try{const g=self.localStorage,f=e.aM();if(g)return g.setItem(f,"1"),g.removeItem(f),!function ze(g=(0,M.z$)()){return function ye(){return(0,M.w1)()&&11===document?.documentMode}()||function qe(g=(0,M.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,M.hl)()}catch{return Rt()&&(0,M.hl)()}return!1}function Rt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Tt(){return(function Ie(){return"http:"===J()||"https:"===J()}()||(0,M.ru)()||F())&&!function j(){return(0,M.b$)()||(0,M.UG)()}()&&lt()&&!Rt()}function Ut(){return F()&&typeof document<"u"}function _e(){return(_e=(0,h.Z)(function*(){return!!Ut()&&new Promise(g=>{const f=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),g(!0)})})})).apply(this,arguments)}const Ae={LOCAL:"local",NONE:"none",SESSION:"session"},St=e.aB,kt="persistence";function ut(g){return tt.apply(this,arguments)}function tt(){return(tt=(0,h.Z)(function*(g){yield g._initializationPromise;const f=mt(),_=e.aE(kt,g.config.apiKey,g.name);f&&f.setItem(_,g._getPersistence())})).apply(this,arguments)}function mt(){var g;try{return(null===(g=function It(){return typeof window<"u"?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch{return null}}const mn=e.aB;class De{constructor(){this.browserResolver=e.aD(e.k),this.cordovaResolver=e.aD(et),this.underlyingResolver=null,this._redirectPersistence=e.a,this._completeRedirectFn=e.aF,this._overrideRedirectResult=e.aG}_initialize(f){var _=this;return(0,h.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,_,T,O){var D=this;return(0,h.Z)(function*(){return yield D.selectUnderlyingResolver(),D.assertedUnderlyingResolver._openPopup(f,_,T,O)})()}_openRedirect(f,_,T,O){var D=this;return(0,h.Z)(function*(){return yield D.selectUnderlyingResolver(),D.assertedUnderlyingResolver._openRedirect(f,_,T,O)})()}_isIframeWebStorageSupported(f,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,_)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Ut()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const _=yield function v(){return _e.apply(this,arguments)}();f.underlyingResolver=_?f.cordovaResolver:f.browserResolver})()}}function ot(g){return g.unwrap()}function gt(g){return Re(g)}function Re(g){const{_tokenResponse:f}=g instanceof M.ZR?g.customData:g;if(!f)return null;if(!(g instanceof M.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return e.P.credentialFromResult(g);const _=f.providerId;if(!_||_===e.p.PASSWORD)return null;let T;switch(_){case e.p.GOOGLE:T=e.W;break;case e.p.FACEBOOK:T=e.V;break;case e.p.GITHUB:T=e.X;break;case e.p.TWITTER:T=e._;break;default:const{oauthIdToken:O,oauthAccessToken:D,oauthTokenSecret:X,pendingToken:Q,nonce:Ce}=f;return D||X||O||Q?Q?_.startsWith("saml.")?e.aP._create(_,Q):e.M._fromParams({providerId:_,signInMethod:_,pendingToken:Q,idToken:O,accessToken:D}):new e.Y(_).credential({idToken:O,accessToken:D,rawNonce:Ce}):null}return g instanceof M.ZR?T.credentialFromError(g):T.credentialFromResult(g)}function je(g,f){return f.catch(_=>{throw _ instanceof M.ZR&&function sn(g,f){var _;const T=null===(_=f.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new ft(g,e.ar(g,f));else if(T){const O=Re(f),D=f;O&&(D.credential=O,D.tenantId=T.tenantId||void 0,D.email=T.email||void 0,D.phoneNumber=T.phoneNumber||void 0)}}(g,_),_}).then(_=>{const O=_.user;return{operationType:_.operationType,credential:gt(_),additionalUserInfo:e.ap(_),user:Y.getOrCreate(O)}})}function rt(g,f){return qt.apply(this,arguments)}function qt(){return(qt=(0,h.Z)(function*(g,f){const _=yield f;return{verificationId:_.verificationId,confirm:T=>je(g,_.confirm(T))}})).apply(this,arguments)}class ft{constructor(f,_){this.resolver=_,this.auth=function Mt(g){return g.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return je(ot(this.auth),this.resolver.resolveSignIn(f))}}class Y{constructor(f){this._delegate=f,this.multiFactor=e.as(f)}static getOrCreate(f){return Y.USER_MAP.has(f)||Y.USER_MAP.set(f,new Y(f)),Y.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var _=this;return(0,h.Z)(function*(){return je(_.auth,e.a1(_._delegate,f))})()}linkWithPhoneNumber(f,_){var T=this;return(0,h.Z)(function*(){return rt(T.auth,e.l(T._delegate,f,_))})()}linkWithPopup(f){var _=this;return(0,h.Z)(function*(){return je(_.auth,e.d(_._delegate,f,De))})()}linkWithRedirect(f){var _=this;return(0,h.Z)(function*(){return yield ut(e.aI(_.auth)),e.g(_._delegate,f,De)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var _=this;return(0,h.Z)(function*(){return je(_.auth,e.a2(_._delegate,f))})()}reauthenticateWithPhoneNumber(f,_){return rt(this.auth,e.r(this._delegate,f,_))}reauthenticateWithPopup(f){return je(this.auth,e.e(this._delegate,f,De))}reauthenticateWithRedirect(f){var _=this;return(0,h.Z)(function*(){return yield ut(e.aI(_.auth)),e.h(_._delegate,f,De)})()}sendEmailVerification(f){return e.af(this._delegate,f)}unlink(f){var _=this;return(0,h.Z)(function*(){return yield e.ao(_._delegate,f),_})()}updateEmail(f){return e.ak(this._delegate,f)}updatePassword(f){return e.al(this._delegate,f)}updatePhoneNumber(f){return e.u(this._delegate,f)}updateProfile(f){return e.aj(this._delegate,f)}verifyBeforeUpdateEmail(f,_){return e.ag(this._delegate,f,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Y.USER_MAP=new WeakMap;const Ne=e.aB;let We=(()=>{class g{constructor(_,T){if(this.app=_,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:O}=_.options;Ne(O,"invalid-api-key",{appName:_.name}),Ne(O,"invalid-api-key",{appName:_.name});const D=typeof window<"u"?De:void 0;this._delegate=T.initialize({options:{persistence:Ue(O,_.name),popupRedirectResolver:D}}),this._delegate._updateErrorMap(e.E),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Y.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,T){e.J(this._delegate,_,T)}applyActionCode(_){return e.a6(this._delegate,_)}checkActionCode(_){return e.a7(this._delegate,_)}confirmPasswordReset(_,T){return e.a5(this._delegate,_,T)}createUserWithEmailAndPassword(_,T){var O=this;return(0,h.Z)(function*(){return je(O._delegate,e.a9(O._delegate,_,T))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return e.ae(this._delegate,_)}isSignInWithEmailLink(_){return e.ac(this._delegate,_)}getRedirectResult(){var _=this;return(0,h.Z)(function*(){Ne(Tt(),_._delegate,"operation-not-supported-in-this-environment");const T=yield e.j(_._delegate,De);return T?je(_._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function zt(g,f){(0,e.aI)(g)._logFramework(f)}(this._delegate,_)}onAuthStateChanged(_,T,O){const{next:D,error:X,complete:Q}=nt(_,T,O);return this._delegate.onAuthStateChanged(D,X,Q)}onIdTokenChanged(_,T,O){const{next:D,error:X,complete:Q}=nt(_,T,O);return this._delegate.onIdTokenChanged(D,X,Q)}sendSignInLinkToEmail(_,T){return e.ab(this._delegate,_,T)}sendPasswordResetEmail(_,T){return e.a4(this._delegate,_,T||void 0)}setPersistence(_){var T=this;return(0,h.Z)(function*(){let O;switch(function $e(g,f){St(Object.values(Ae).includes(f),g,"invalid-persistence-type"),(0,M.b$)()?St(f!==Ae.SESSION,g,"unsupported-persistence-type"):(0,M.UG)()?St(f===Ae.NONE,g,"unsupported-persistence-type"):Rt()?St(f===Ae.NONE||f===Ae.LOCAL&&(0,M.hl)(),g,"unsupported-persistence-type"):St(f===Ae.NONE||lt(),g,"unsupported-persistence-type")}(T._delegate,_),_){case Ae.SESSION:O=e.a;break;case Ae.LOCAL:O=(yield e.aD(e.i)._isAvailable())?e.i:e.b;break;case Ae.NONE:O=e.Q;break;default:return e.aw("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(O)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return je(this._delegate,e.$(this._delegate))}signInWithCredential(_){return je(this._delegate,e.a0(this._delegate,_))}signInWithCustomToken(_){return je(this._delegate,e.a3(this._delegate,_))}signInWithEmailAndPassword(_,T){return je(this._delegate,e.aa(this._delegate,_,T))}signInWithEmailLink(_,T){return je(this._delegate,e.ad(this._delegate,_,T))}signInWithPhoneNumber(_,T){return rt(this._delegate,e.s(this._delegate,_,T))}signInWithPopup(_){var T=this;return(0,h.Z)(function*(){return Ne(Tt(),T._delegate,"operation-not-supported-in-this-environment"),je(T._delegate,e.c(T._delegate,_,De))})()}signInWithRedirect(_){var T=this;return(0,h.Z)(function*(){return Ne(Tt(),T._delegate,"operation-not-supported-in-this-environment"),yield ut(T._delegate),e.f(T._delegate,_,De)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return e.a8(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=Ae,g})();function nt(g,f,_){let T=g;"function"!=typeof g&&({next:T,error:f,complete:_}=g);const O=T;return{next:X=>O(X&&Y.getOrCreate(X)),error:f,complete:_}}function Ue(g,f){const _=function dt(g,f){const _=mt();if(!_)return[];const T=e.aE(kt,g,f);switch(_.getItem(T)){case Ae.NONE:return[e.Q];case Ae.LOCAL:return[e.i,e.a];case Ae.SESSION:return[e.a];default:return[]}}(g,f);if(typeof self<"u"&&!_.includes(e.i)&&_.push(e.i),typeof window<"u")for(const T of[e.b,e.a])_.includes(T)||_.push(T);return _.includes(e.Q)||_.push(e.Q),_}class Bt{constructor(){this.providerId="phone",this._delegate=new e.P(ot(c.Z.auth()))}static credential(f,_){return e.P.credential(f,_)}verifyPhoneNumber(f,_){return this._delegate.verifyPhoneNumber(f,_)}unwrap(){return this._delegate}}Bt.PHONE_SIGN_IN_METHOD=e.P.PHONE_SIGN_IN_METHOD,Bt.PROVIDER_ID=e.P.PROVIDER_ID;const Ht=e.aB;class Dt{constructor(f,_,T=c.Z.app()){var O;Ht(null===(O=T.options)||void 0===O?void 0:O.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new e.R(T.auth(),f,_),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function y(g){g.INTERNAL.registerComponent(new te.wA("auth-compat",f=>{const _=f.getProvider("app-compat").getImmediate(),T=f.getProvider("auth");return new We(_,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:e.A.EMAIL_SIGNIN,PASSWORD_RESET:e.A.PASSWORD_RESET,RECOVER_EMAIL:e.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:e.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:e.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:e.A.VERIFY_EMAIL}},EmailAuthProvider:e.U,FacebookAuthProvider:e.V,GithubAuthProvider:e.X,GoogleAuthProvider:e.W,OAuthProvider:e.Y,SAMLAuthProvider:e.Z,PhoneAuthProvider:Bt,PhoneMultiFactorGenerator:e.m,RecaptchaVerifier:Dt,TwitterAuthProvider:e._,Auth:We,AuthCredential:e.K,Error:M.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.4.8")}(c.Z)},87879:(Ke,we,b)=>{"use strict";b.d(we,{Am:()=>ne,Ub:()=>le,Yd:()=>te,in:()=>c});const h=[];var c=function(w){return w[w.DEBUG=0]="DEBUG",w[w.VERBOSE=1]="VERBOSE",w[w.INFO=2]="INFO",w[w.WARN=3]="WARN",w[w.ERROR=4]="ERROR",w[w.SILENT=5]="SILENT",w}(c||{});const e={debug:c.DEBUG,verbose:c.VERBOSE,info:c.INFO,warn:c.WARN,error:c.ERROR,silent:c.SILENT},M=c.INFO,ce={[c.DEBUG]:"log",[c.VERBOSE]:"log",[c.INFO]:"info",[c.WARN]:"warn",[c.ERROR]:"error"},pe=(w,I,...q)=>{if(I<w.logLevel)return;const R=(new Date).toISOString(),z=ce[I];if(!z)throw new Error(`Attempted to log a message with an invalid logType (value: ${I})`);console[z](`[${R}]  ${w.name}:`,...q)};class te{constructor(I){this.name=I,this._logLevel=M,this._logHandler=pe,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(I){if(!(I in c))throw new TypeError(`Invalid value "${I}" assigned to \`logLevel\``);this._logLevel=I}setLogLevel(I){this._logLevel="string"==typeof I?e[I]:I}get logHandler(){return this._logHandler}set logHandler(I){if("function"!=typeof I)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=I}get userLogHandler(){return this._userLogHandler}set userLogHandler(I){this._userLogHandler=I}debug(...I){this._userLogHandler&&this._userLogHandler(this,c.DEBUG,...I),this._logHandler(this,c.DEBUG,...I)}log(...I){this._userLogHandler&&this._userLogHandler(this,c.VERBOSE,...I),this._logHandler(this,c.VERBOSE,...I)}info(...I){this._userLogHandler&&this._userLogHandler(this,c.INFO,...I),this._logHandler(this,c.INFO,...I)}warn(...I){this._userLogHandler&&this._userLogHandler(this,c.WARN,...I),this._logHandler(this,c.WARN,...I)}error(...I){this._userLogHandler&&this._userLogHandler(this,c.ERROR,...I),this._logHandler(this,c.ERROR,...I)}}function le(w){h.forEach(I=>{I.setLogLevel(w)})}function ne(w,I){for(const q of h){let R=null;I&&I.level&&(R=e[I.level]),q.userLogHandler=null===w?null:(z,B,...ee)=>{const K=ee.map(oe=>{if(null==oe)return null;if("string"==typeof oe)return oe;if("number"==typeof oe||"boolean"==typeof oe)return oe.toString();if(oe instanceof Error)return oe.message;try{return JSON.stringify(oe)}catch{return null}}).filter(oe=>oe).join(" ");B>=(R??z.logLevel)&&w({level:c[B].toLowerCase(),message:K,args:ee,type:z.name})}}}}}]);