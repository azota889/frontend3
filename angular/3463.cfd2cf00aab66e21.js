"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[3463],{19346:(Z,E,h)=>{h.d(E,{L:()=>O});var e=h(26860);let O=(()=>{var S;class D{constructor(){this.filesChangeEmitter=new e.bkB,this.background="transparent",this.borderStyle="2px dashed initial"}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.background="transparent",this.borderStyle="2px dashed #334155"}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.background="transparent",this.borderStyle="2px dashed #e5e7eb"}onDrop(t){t.preventDefault(),t.stopPropagation(),this.background="transparent",this.borderStyle="2px dashed #334155",this.filesChangeEmitter.emit(t.dataTransfer.files)}}return(S=D).\u0275fac=function(t){return new(t||S)},S.\u0275dir=e.FsC({type:S,selectors:[["","appDragDrop",""]],hostVars:4,hostBindings:function(t,x){1&t&&e.bIt("dragover",function(I){return x.onDragOver(I)})("dragleave",function(I){return x.onDragLeave(I)})("drop",function(I){return x.onDrop(I)}),2&t&&e.xc7("background",x.background)("border",x.borderStyle)},outputs:{filesChangeEmitter:"filesChangeEmitter"}}),D})()},43558:(Z,E,h)=>{h.d(E,{Z:()=>S});var e=h(26860),O=h(2812);let S=(()=>{var D;class T{constructor(x){this.commonService=x,this.enterKey=new e.bkB,this.enableInMobile=!0}onKeyDown(x){!this.enableInMobile&&this.commonService.isMobileDevice()||"Enter"===x.key&&!x.shiftKey&&(x.preventDefault(),this.enterKey.emit())}}return(D=T).\u0275fac=function(x){return new(x||D)(e.rXU(O.R))},D.\u0275dir=e.FsC({type:D,selectors:[["","enterKey",""]],hostBindings:function(x,v){1&x&&e.bIt("keydown",function(z){return v.onKeyDown(z)})},inputs:{enableInMobile:"enableInMobile"},outputs:{enterKey:"enterKey"}}),T})()},9260:(Z,E,h)=>{h.d(E,{m:()=>A});var e=h(26860),O=h(59640),S=h(67638),D=h(54460),T=h(76975);const t=["table"];function x(g,k){if(1&g&&(e.j41(0,"th",2),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&g){const d=e.XpG();e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",8)("excelStyle",d.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(2,5,"lang_auto_mat_khau")," ")}}function v(g,k){if(1&g&&(e.j41(0,"th",2),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&g){const d=e.XpG();e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",d.isBusinessDomain?9:8)("excelStyle",d.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(2,5,"lang_auto_truong")," ")}}function I(g,k){if(1&g&&(e.j41(0,"th",2),e.EFF(1," Facebook "),e.k0s()),2&g){const d=e.XpG();e.BMQ("excelWidth",65)("excelRow",0)("excelColumn",d.isBusinessDomain?10:9)("excelStyle",d.styleThNormal)}}function z(g,k){if(1&g&&(e.j41(0,"th",2),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&g){const d=e.XpG();e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",d.isBusinessDomain?11:8)("excelStyle",d.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(2,5,"lang_auto_lop")," ")}}function y(g,k){if(1&g&&(e.j41(0,"td",2),e.EFF(1),e.k0s()),2&g){const d=e.XpG(),j=d.index,m=d.$implicit,p=e.XpG();e.BMQ("excelRow",j+1)("excelColumn",8)("excelStyle",null!=m&&m.errorImportIdentification?p.styleTdError:p.styleTdNormal),e.R7$(1),e.SpI(" ",null==m?null:m.password," ")}}function Y(g,k){if(1&g&&(e.j41(0,"td",2),e.EFF(1),e.k0s()),2&g){const d=e.XpG(),j=d.index,m=d.$implicit,p=e.XpG();e.BMQ("excelRow",j+1)("excelColumn",p.isBusinessDomain?9:8)("excelStyle",null!=m&&m.errorImportIdentification?p.styleTdNotNumberError:p.styleTdNotNumberNormal),e.R7$(1),e.SpI(" ",null==m?null:m.schoolName," ")}}function V(g,k){if(1&g&&(e.j41(0,"td",2),e.EFF(1),e.k0s()),2&g){const d=e.XpG(),j=d.index,m=d.$implicit,p=e.XpG();e.BMQ("excelRow",j+1)("excelColumn",p.isBusinessDomain?10:9)("excelStyle",null!=m&&m.errorImportIdentification?p.styleTdNotNumberError:p.styleTdNotNumberNormal),e.R7$(1),e.SpI(" ",null==m?null:m.facebookLink," ")}}function X(g,k){if(1&g&&(e.j41(0,"td",2),e.EFF(1),e.k0s()),2&g){const d=e.XpG(),j=d.index,m=d.$implicit,p=e.XpG();let M;e.BMQ("excelRow",j+1)("excelColumn",p.isBusinessDomain?11:8)("excelStyle",null!=m&&m.errorImportIdentification?p.styleTdError:p.styleTdNormal),e.R7$(1),e.SpI(" ",null!==(M=null==m?null:m.classroomName)&&void 0!==M?M:""," ")}}const $=function(){return{vertical:"left",horizontal:"left",wrapText:"true"}},U=function(){return{rgb:"f10000"}},G=function(g){return{bold:"true",color:g}},K=function(g,k){return{alignment:g,font:k}};function W(g,k){if(1&g&&(e.j41(0,"tr")(1,"td",2),e.EFF(2),e.k0s(),e.j41(3,"td",2),e.EFF(4),e.k0s(),e.j41(5,"td",2),e.EFF(6),e.k0s(),e.j41(7,"td",2),e.EFF(8),e.k0s(),e.j41(9,"td",2),e.EFF(10),e.k0s(),e.j41(11,"td",2),e.EFF(12),e.nI1(13,"formatOnlyDateByUserUnitPipe"),e.k0s(),e.j41(14,"td",2),e.EFF(15),e.nI1(16,"mytranslate"),e.nI1(17,"mytranslate"),e.k0s(),e.j41(18,"td",2),e.EFF(19),e.nI1(20,"formatStudentCodeToNumber"),e.k0s(),e.DNE(21,y,2,4,"td",3),e.DNE(22,Y,2,4,"td",3),e.DNE(23,V,2,4,"td",3),e.DNE(24,X,2,4,"td",3),e.j41(25,"td",2),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s(),e.j41(28,"td",2),e.EFF(29),e.k0s()()),2&g){const d=k.$implicit,j=k.index,m=k.index,p=e.XpG();e.R7$(1),e.BMQ("excelRow",m+1)("excelColumn",0)("excelStyle",null!=d&&d.errorImportIdentification?p.styleTdError:p.styleTdNormal),e.R7$(1),e.SpI(" ",null!=d&&d.fullName?j+1:""," "),e.R7$(1),e.BMQ("excelRow",m+1)("excelColumn",1)("excelStyle",null!=d&&d.errorImportIdentification?p.styleTdErrorLeft:p.styleTdNormalLeft),e.R7$(1),e.SpI(" ",null==d?null:d.fullName," "),e.R7$(1),e.BMQ("excelRow",m+1)("excelColumn",2)("excelStyle",null!=d&&d.errorImportIdentification?p.styleTdErrorLeft:p.styleTdNormalLeft),e.R7$(1),e.SpI(" ",null==d?null:d.parentUserName," "),e.R7$(1),e.BMQ("excelRow",m+1)("excelColumn",3)("excelStyle",null!=d&&d.errorImportIdentification?p.styleTdNotNumberError:p.styleTdNotNumberNormal),e.R7$(1),e.SpI(" ",null==d?null:d.phone," "),e.R7$(1),e.BMQ("excelRow",m+1)("excelColumn",4)("excelStyle",null!=d&&d.errorImportIdentification?p.styleTdError:p.styleTdNormal),e.R7$(1),e.SpI(" ",null==d?null:d.email," "),e.R7$(1),e.BMQ("excelRow",m+1)("excelColumn",5)("excelStyle",null!=d&&d.errorImportIdentification?p.styleTdError:p.styleTdNormal),e.R7$(1),e.SpI(" ",e.bMT(13,45,null==d?null:d.birthday)," "),e.R7$(2),e.BMQ("excelRow",m+1)("excelColumn",6)("excelStyle",null!=d&&d.errorImportIdentification?p.styleTdError:p.styleTdNormal),e.R7$(1),e.SpI(" ",1==(null==d?null:d.gender)?e.bMT(16,47,"lang_student_export_excel_gender_male"):0==(null==d?null:d.gender)?e.bMT(17,49,"lang_student_export_excel_gender_female"):""," "),e.R7$(3),e.BMQ("excelRow",m+1)("excelColumn",7)("excelStyle",null!=d&&d.errorImportIdentification?p.styleTdNotNumberError:p.styleTdNotNumberNormal),e.R7$(1),e.SpI(" ",null!=d&&d.identificationNumber?e.i5U(20,51,null==d?null:d.identificationNumber,6):""," "),e.R7$(2),e.Y8G("ngIf",p.isBusinessDomain||p.checkVipAccountService),e.R7$(1),e.Y8G("ngIf",p.isBusinessDomain||p.checkVipAccountService),e.R7$(1),e.Y8G("ngIf",p.isBusinessDomain||p.checkVipAccountService),e.R7$(1),e.Y8G("ngIf",1===p.type),e.R7$(1),e.BMQ("excelRow",m+1)("excelColumn",p.isBusinessDomain?1===p.type?12:11:1===p.type?9:8)("excelStyle",p.styleTdError),e.R7$(1),e.SpI(" ",e.bMT(27,54,null==d?null:d.errorImportIdentification)," "),e.R7$(2),e.BMQ("excelRow",m+1)("excelColumn",p.isBusinessDomain?1===p.type?13:12:1===p.type?10:9)("excelStyle",e.l_i(60,K,e.lJ4(56,$),e.eq3(58,G,e.lJ4(57,U)))),e.R7$(1),e.Lme(" ",p.commentObjs[m]," ",m," ")}}let A=(()=>{var g;class k extends O.H{addCommentToExcelFile(){let j="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),m="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),p="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),M="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four"),B="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_five"),J="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_six"),L="*"+this.commonService.myTranslateInstant("lang_auto_mat_khau_phai_dai_toi_thieu_la_6"),Q="*"+this.commonService.myTranslateInstant("lang_core_ten_dang_nhap_chi_chua_cac_ky_tu_hop_le_va_it_nhat_1_chu_cai");this.commentObjs=[j,m,p,M,B,J,L,Q]}ngOnChanges(){this.appendObjs=[],this.isExported=!1;let m=8-(this.objs?.length??0);if(m>0)for(let p=0;p<m;p++)this.appendObjs.push(void 0)}ngAfterViewChecked(){0==this.isExported&&(this.isExported=!0,setTimeout(()=>{this.exportDataDone.emit(this.exportExcelService.exportHtmlTableToExcelBlob(this.table,!0))},0))}ngOnInit(){super.ngOnInit(),this.addCommentToExcelFile()}constructor(j){super(),this.exportExcelService=j,this.type=0,this.exportDataDone=new e.bkB,this.appendObjs=[],this.commentObjs=[],this.isExported=!1,this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdError='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"f10000"}}}',this.styleTdErrorLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"f10000"}}}',this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNotNumberError='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"f10000"}},"isText":"1"}'}}return(g=k).\u0275fac=function(j){return new(j||g)(e.rXU(S.x))},g.\u0275cmp=e.VBU({type:g,selectors:[["azt-export-excel-for-student-list"]],viewQuery:function(j,m){if(1&j&&e.GBs(t,5),2&j){let p;e.mGM(p=e.lsd())&&(m.table=p.first)}},inputs:{objs:"objs",type:"type"},outputs:{exportDataDone:"exportDataDone"},features:[e.Vt3,e.OA$],decls:36,vars:66,consts:[[1,"table","table-bordered",2,"display","none"],["table",""],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(j,m){1&j&&(e.j41(0,"table",0,1)(2,"thead")(3,"tr")(4,"th",2),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"th",2),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"th",2),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s(),e.j41(13,"th",2),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"th",2),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s(),e.j41(19,"th",2),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s(),e.j41(22,"th",2),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s(),e.j41(25,"th",2),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s(),e.DNE(28,x,3,7,"th",3),e.DNE(29,v,3,7,"th",3),e.DNE(30,I,2,4,"th",3),e.DNE(31,z,3,7,"th",3),e.nrm(32,"th",2)(33,"th",2),e.k0s()(),e.j41(34,"tbody"),e.DNE(35,W,30,63,"tr",4),e.k0s()()),2&j&&(e.R7$(4),e.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",m.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(6,50,"lang_student_export_excel_no")," "),e.R7$(2),e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",m.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(9,52,"lang_student_export_excel_full_name")," "),e.R7$(2),e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",m.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(12,54,"lang_auto_ten_dang_ky")," "),e.R7$(2),e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",m.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(15,56,"lang_student_export_excel_phone")," "),e.R7$(2),e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",m.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(18,58,"lang_student_export_excel_email")," "),e.R7$(2),e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",m.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(21,60,"lang_student_export_excel_birthday")," "),e.R7$(2),e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6)("excelStyle",m.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(24,62,"lang_student_export_excel_gender")," "),e.R7$(2),e.BMQ("excelWidth",20)("excelRow",0)("excelColumn",7)("excelStyle",m.styleThNormal),e.R7$(1),e.SpI(" ",e.bMT(27,64,"lang_auto_so_bao_danh")," "),e.R7$(2),e.Y8G("ngIf",m.isBusinessDomain||m.checkVipAccountService),e.R7$(1),e.Y8G("ngIf",m.isBusinessDomain||m.checkVipAccountService),e.R7$(1),e.Y8G("ngIf",m.isBusinessDomain||m.checkVipAccountService),e.R7$(1),e.Y8G("ngIf",1===m.type),e.R7$(1),e.BMQ("excelWidth",30)("excelRow",0)("excelColumn",m.isBusinessDomain?1===m.type?12:11:1===m.type?9:8)("excelStyle",m.styleThNormal),e.R7$(1),e.BMQ("excelWidth",100),e.R7$(2),e.Y8G("ngForOf",m.objs.concat(m.appendObjs)))},dependencies:[D.Sq,D.bT,T.wp,T.Po,T.vv],encapsulation:2}),k})()},87039:(Z,E,h)=>{h.d(E,{O:()=>lt});var e=h(10936),O=h(89163),S=h(33887),D=h(38009),T=h(80037),t=h(26860),x=h(19548),v=h(10296),I=h(31216),z=h(3780),y=h(54460),Y=h(47712),V=h(15343),X=h(7919),$=h(19346),U=h(81587),G=h(27985),K=h(69135),W=h(9260),A=h(52811),g=h(76975);function k(u,C){1&u&&(t.j41(0,"div",15)(1,"span",16),t.nrm(2,"azt-loading-ui"),t.k0s()())}function d(u,C){if(1&u){const _=t.RV6();t.j41(0,"div",19)(1,"label",21),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",32)(5,"azt-list-classroom-checkbox",33),t.bIt("createdNewClassroom",function(){t.eBV(_);const c=t.XpG(2);return t.Njj(c.isCreatedNewClassroom=!0)}),t.k0s()()()}if(2&u){const _=t.XpG(2);t.Y8G("hidden",2===_.stepView),t.R7$(2),t.SpI(" ",t.bMT(3,6,"lang_auto_chon_nhung_can_danh_so_bao_danh")," "),t.R7$(3),t.Y8G("form",_.form)("classroomGroupData",_.classroomWithGroups)("examClassroomObjs",_.examClassroomObjs)("permissionName",_.permissionTypes.exam)}}function j(u,C){1&u&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_bat_dau")," "))}function m(u,C){1&u&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_bat_dau_lon_hon_0")," "))}function p(u,C){1&u&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_so_bao_danh_bat_dau_khong_qua_6_chu_so")," "))}function M(u,C){if(1&u&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&u){const _=t.XpG(4);t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_yeu_cau_nhap_so_va_be_nhat_la_1_max_999999")+(999999-(_.totalStudent?_.totalStudent-1:0))," ")}}function B(u,C){if(1&u&&(t.j41(0,"div",39),t.DNE(1,j,3,3,"span",40),t.DNE(2,m,3,3,"span",40),t.DNE(3,p,3,3,"span",40),t.DNE(4,M,3,3,"span",40),t.k0s()),2&u){const _=t.XpG(3);t.R7$(1),t.Y8G("ngIf",_.form.controls.startNumbering.errors.required),t.R7$(1),t.Y8G("ngIf",_.form.controls.startNumbering.errors.min),t.R7$(1),t.Y8G("ngIf",_.form.controls.startNumbering.errors.maxlength&&!_.form.controls.startNumbering.errors.max&&!_.form.controls.startNumbering.errors.min),t.R7$(1),t.Y8G("ngIf",_.form.controls.startNumbering.errors.max)}}const J=function(){return{"ml-1":!0}};function L(u,C){if(1&u&&(t.j41(0,"div",34)(1,"label",35),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"lucide-icon",36),t.nI1(5,"mytranslate"),t.k0s(),t.nrm(6,"input",37),t.nI1(7,"mytranslate"),t.DNE(8,B,5,4,"div",38),t.k0s()),2&u){const _=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_auto_nhap_so_bao_danh_bat_dau")," "),t.R7$(2),t.FS9("matTooltip",t.bMT(5,7,"lang_tooltip_input_identification_numbering")),t.Y8G("ngClass",t.lJ4(11,J)),t.R7$(2),t.FS9("placeholder",t.bMT(7,9,"lang_auto_nhap_so")+"..."),t.R7$(2),t.Y8G("ngIf",_.form.controls.startNumbering.errors&&(_.form.controls.startNumbering.touched||_.form.controls.startNumbering.dirty))}}const Q=function(){return{"text-success":!0}};function tt(u,C){if(1&u){const _=t.RV6();t.j41(0,"div",48),t.bIt("click",function(){t.eBV(_);const c=t.sdS(3);return t.Njj(c.click())})("filesChangeEmitter",function(c){t.eBV(_);const f=t.XpG(3);return t.Njj(f.onFileSelected(c))}),t.j41(1,"div",49)(2,"input",50,51),t.bIt("change",function(c){t.eBV(_);const f=t.XpG(3);return t.Njj(f.onFileSelected(c.target.files))}),t.k0s(),t.j41(4,"div"),t.nrm(5,"lucide-icon",52),t.j41(6,"span",53),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()}2&u&&(t.R7$(5),t.Y8G("ngClass",t.lJ4(7,Q)),t.R7$(2),t.SpI(" ",t.bMT(8,3,"lang_auto_keo_tha_file_excel")," "),t.R7$(2),t.SpI(" ",t.bMT(10,5,"lang_auto_hoc_click_de_chon_file")," "))}function et(u,C){if(1&u){const _=t.RV6();t.j41(0,"div",54)(1,"div",55)(2,"div",56)(3,"div",57)(4,"div",58)(5,"div",59),t.nrm(6,"img",60),t.nI1(7,"convertCdnLinkOfGitHub"),t.k0s(),t.j41(8,"div",61)(9,"p",62,63),t.EFF(11),t.k0s(),t.j41(12,"div",64),t.EFF(13),t.k0s()(),t.j41(14,"div",65)(15,"button",66),t.bIt("click",function(c){t.eBV(_);const f=t.XpG(3);return t.Njj(f.removeFile(c))}),t.nI1(16,"mytranslate"),t.nrm(17,"lucide-icon",67),t.k0s()()()()()()()}if(2&u){const _=t.sdS(10),l=t.XpG(3);t.R7$(6),t.Y8G("src",t.bMT(7,7,"images/excel.png"),t.B4B),t.R7$(3),t.FS9("matTooltip",null==l.file?null:l.file.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",_.isDisabled),t.R7$(2),t.SpI(" ",l.file?l.file.name:""," "),t.R7$(2),t.SpI(" ",l.fileMb+"mb"," "),t.R7$(2),t.FS9("matTooltip",t.bMT(16,9,"lang_auto_xoa"))}}const q=function(){return{"mr-2":!0}};function nt(u,C){if(1&u){const _=t.RV6();t.j41(0,"div",34)(1,"label",41),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,tt,11,8,"div",42),t.DNE(5,et,18,11,"ng-template",null,43,t.C5r),t.j41(7,"div",44)(8,"button",45),t.bIt("click",function(){t.eBV(_);const c=t.XpG(2);return t.Njj(c.exportStudentListByClassroomIds("click"))}),t.nrm(9,"lucide-icon",46),t.j41(10,"span",47),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()()()()}if(2&u){const _=t.sdS(6),l=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_auto_tai_file_excel_len")," "),t.R7$(2),t.Y8G("ngIf",!l.file)("ngIfElse",_),t.R7$(5),t.Y8G("ngClass",t.lJ4(9,q)),t.R7$(2),t.SpI(" ",t.bMT(12,7,"lang_auto_tai_danh_sach_hoc_sinh_trong_lop")," ")}}function it(u,C){if(1&u&&(t.j41(0,"form",17),t.DNE(1,d,6,8,"div",18),t.j41(2,"div",19)(3,"div",20)(4,"label",21),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",22)(8,"div",23),t.nrm(9,"input",24),t.j41(10,"label",25),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",26),t.nrm(14,"input",27),t.j41(15,"label",28),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()(),t.j41(18,"div",29)(19,"div",20)(20,"span",21),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.EFF(23),t.nI1(24,"mytranslate"),t.k0s(),t.j41(25,"div",30)(26,"span",21),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s()()(),t.DNE(31,L,9,12,"div",31),t.DNE(32,nt,13,10,"div",31),t.k0s()()),2&u){const _=t.XpG();t.Y8G("formGroup",_.form),t.R7$(1),t.Y8G("ngIf",1===_.data.type),t.R7$(1),t.Y8G("hidden",1===_.stepView),t.R7$(3),t.SpI(" ",t.bMT(6,12,"lang_auto_chon_cach_danh_so_bao_danh")," "),t.R7$(6),t.SpI(" ",t.bMT(12,14,"lang_auto_danh_tu_dong")," "),t.R7$(5),t.SpI(" ",t.bMT(17,16,"lang_auto_danh_bang_file_excel")," "),t.R7$(5),t.SpI(" ","*"+t.bMT(22,18,"lang_auto_danh_tu_dong")+": "," "),t.R7$(2),t.SpI(" ",t.bMT(24,20,"lang_auto_he_thong_se_tu_dong_danh_so_bao_danh_theo_alpha_b")," "),t.R7$(4),t.SpI(" ","*"+t.bMT(28,22,"lang_auto_danh_bang_file_excel")+": "," "),t.R7$(2),t.SpI(" ",t.bMT(30,24,"lang_auto_tai_file_excel_de_danh_so_bao_danh")," "),t.R7$(2),t.Y8G("ngIf","0"==_.form.controls.howIdentification.value),t.R7$(1),t.Y8G("ngIf","1"==_.form.controls.howIdentification.value)}}function ot(u,C){if(1&u){const _=t.RV6();t.j41(0,"button",68),t.bIt("click",function(){t.eBV(_);const c=t.XpG();return t.Njj(c.prevStepView())}),t.nrm(1,"lucide-icon",69),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&u&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,q)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_quay_lai")," "))}function at(u,C){if(1&u){const _=t.RV6();t.j41(0,"button",70),t.bIt("click",function(){t.eBV(_);const c=t.XpG();return t.Njj(c.nextStepView())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&u){const _=t.XpG();t.Y8G("disabled",_.form.invalid),t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_tiep_tuc")," ")}}function rt(u,C){if(1&u){const _=t.RV6();t.j41(0,"button",71),t.bIt("click",function(){t.eBV(_);const c=t.XpG();return t.Njj(c.handleNumberingAuto(c.form.controls.howIdentification.value))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}if(2&u){const _=t.XpG();t.Y8G("disabled","0"==_.form.controls.howIdentification.value&&_.form.controls.startNumbering.errors||"1"==_.form.controls.howIdentification.value&&null==_.file),t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_danh_so")," ")}}function st(u,C){if(1&u){const _=t.RV6();t.j41(0,"azt-export-excel-for-student-list",72),t.bIt("exportDataDone",function(c){t.eBV(_);const f=t.XpG();return t.Njj(f.exportStudentListDone(c))}),t.k0s()}if(2&u){const _=t.XpG();t.Y8G("objs",_.exportStudentObjs)("type",1)}}let lt=(()=>{var u;class C extends S._{handleCloseDialog(){this.dialogRef.close(this.isCreatedNewClassroom)}getFileMB(l){return l&&l>0?(l/=1048576).toFixed(2):0}nextStepView(){this.stepView=2,this.getTotalStudentData()}prevStepView(){this.stepView=1}exportStudentListDone(l){let c=this.commonService.createFileNameExportFile(["list-student","danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(l,c)}handleNumberingAuto(l){let c=[];if(1===this.data.type&&(c=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray)),2===this.data.type&&(c=this.data.listCheckBox),"0"==l){let f={classroomIds:c,startCode:this.form.getRawValue().startNumbering};this.numberingAutomaticIdentification(f)}else this.file&&this.numberingExcelIdentification(c,this.file)}numberingAutomaticIdentification(l){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentSetIdentificationNumbersPost(l).subscribe(c=>{1==c.success?(this.dialogRef.close(!0),this.successStatusObj("lang_auto_danh_so_banh_thanh_cong",!0)):this.errorStatusObj(c.message??"",!0)}))}numberingExcelIdentification(l,c){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentImportStudentIdentificationNumbersPostForm(l,c).subscribe(f=>{if(1==f.success)this.dialogRef.close(!0),this.successStatusObj("lang_auto_danh_so_banh_thanh_cong",!0);else{this.errorStatusObj("lang_auto_vui_long_nhap_dung_noi_dung_trong_file",!0);let P=f.data??[];P.length>0&&(this.processDataErrors(P),this.exportStudentListByClassroomIds("auto")),this.file=null}}))}processData(){1===this.data.type&&(this.classroomWithGroups.forEach(l=>{null!=l.groupObj&&-1!=l.groupObj?.id&&(this.classroomObjs=this.classroomObjs.concat(l.classroomObjs??[])),null==l.groupObj&&(this.classroomObjs=this.classroomObjs.concat(l.classroomObjs??[]))}),this.classroomObjs=this.classroomObjs.filter(l=>!l.isShareClassroom)),2===this.data.type&&(this.stepView=2)}processDataErrors(l){if(this.exportStudentObjs=[],l.length>0)for(let c=0;c<l.length;c++){let f={id:0,classroomId:0,parentId:0,fullName:l[c].fullName,phone:l[c].phone,email:l[c].email,birthday:l[c].birthday,gender:Number(l[c].gender)??void 0,identificationNumber:l[c].identificationNumber,classroomName:l[c].classroomName};f.errorImportIdentification=l[c].message??"",("lang_core_duplicate_student_identification_number_in_db"==l[c].message||"lang_core_duplicate_student_identification_number_in_excel"==l[c].message||"lang_core_invalid_identification_number_data_type"==l[c].message)&&(f.errorImportIdentification=l[c].message),this.exportStudentObjs?.push(f)}}getStudentListByClassroomIds(l){this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetStudentsGet(l).subscribe(c=>{if(c.success){this.exportStudentObjs=c.data;let f=this.exportStudentObjs?.length??0;if(this.exportStudentObjs){let P=[],R=[];this.exportStudentObjs.forEach((w,F,dt)=>{P.find(ct=>ct.identificationNumber===w.identificationNumber)?R.push(w):P.push(w)});for(let w=0;w<f;w++)if(this.exportStudentObjs[w].identificationNumber)for(let F=0;F<R.length;F++)this.exportStudentObjs&&this.exportStudentObjs[w].identificationNumber===R[F].identificationNumber&&(this.exportStudentObjs[w].errorImportIdentification="lang_auto_trung_so_bao_danh");else this.exportStudentObjs[w].errorImportIdentification="lang_auto_khong_co_so_bao_danh"}if(this.exportStudentObjs)for(let P=0;P<f;P++)if(this.exportStudentObjs[P].identificationNumber)for(let R=P+1;R<f;R++)this.exportStudentObjs&&this.exportStudentObjs[P].identificationNumber===this.exportStudentObjs[R].identificationNumber&&(this.exportStudentObjs[P].errorImportIdentification="lang_auto_trung_so_bao_danh");else this.exportStudentObjs[P].errorImportIdentification="lang_auto_khong_co_so_bao_danh"}else this.showErrorSnack(c.message??"")}))}exportStudentListByClassroomIds(l){let c="";1===this.data.type&&(c=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray).toString()),2===this.data.type&&(c=this.data.listCheckBox.toString()),"click"==l&&this.getStudentListByClassroomIds(c)}getTotalStudentData(){let l="";1===this.data.type&&(l=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray).toString()),2===this.data.type&&(l=this.data.listCheckBox.toString()),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetStudentsGet(l).subscribe(c=>{c.success&&(this.totalStudent=c.data?.length??0,this.form.controls.startNumbering.addValidators(e.k0.max(999999-(this.totalStudent?this.totalStudent-1:0))))}))}onFileSelected(l){this.file=l?l[0]:this.file,this.fileMb=this.getFileMB(this.file?.size??0),this.file&&["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(this.file.type)||(this.file=null,this.showErrorSnack("lang_auto_vui_long_chon_dung_tep_tin_excel"))}removeFile(l){l.stopPropagation(),this.file=null}getClassroomObjs(){this.data.needGetClassroomGroups?(this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(l=>{l.success?(this.classroomWithGroups=l.data?.activeClassroomData??[],this.classroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroups.map(c=>c.classroomObjs)),this.processData(),this.successStatusObj()):this.errorStatusObj(l.message??"",!0)}))):this.processData()}ngOnInit(){if(super.ngOnInit(),this.getClassroomObjs(),this.data.totalStudent){this.totalStudent=this.data.totalStudent;let l=999999;this.form.valueChanges.subscribe(c=>{this.form.controls.startNumbering.addValidators(e.k0.max(l-(this.totalStudent?this.totalStudent-1:0)))})}}constructor(l,c,f,P,R,w,F){super(F,w),this.classroomGroupService=l,this.shareFileFlutterService=c,this.studentService=f,this.studentProfileV2Service=P,this.sAztClassroomCheckboxService=R,this.dialogRef=w,this.data=F,this.classroomObjs=[],this.examClassroomObjs=[],this.permissionTypes=D.t,this.stepView=1,this.fileMb=0,this.totalStudent=0,this.isCreatedNewClassroom=!1,this.classroomWithGroups=[],this.form=new e.gE({startNumbering:new e.MJ(1,{nonNullable:!0,validators:[e.k0.required,e.k0.pattern("^[0-9]*$"),e.k0.min(1),e.k0.maxLength(6)]}),howIdentification:new e.MJ("0",{nonNullable:!0}),classroomFormArray:new e.Yp([]),file:new e.MJ("",{nonNullable:!0}),whoAllow:new e.MJ(0,{nonNullable:!0})},{validators:[T.j.classroomInGroupCheckBoxValidatorWithoutWhoAllow]})}}return(u=C).\u0275fac=function(l){return new(l||u)(t.rXU(x.kG),t.rXU(v.R),t.rXU(I.b0),t.rXU(I.m_),t.rXU(z.Q),t.rXU(O.CP,8),t.rXU(O.Vh,8))},u.\u0275cmp=t.VBU({type:u,selectors:[["azt-automatic-identification"]],features:[t.Vt3],decls:22,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-lg","font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-0.5"],[1,"p-3"],["class","flex items-center h-full",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","flex","items-center"],[1,"mr-auto"],["azt-track-service","azt-automatic-identification-4p28zlT3gA","class","btn-text-primary",3,"click",4,"ngIf"],["azt-track-service","azt-automatic-identification-2EiEU9_Cnw",1,"btn","btn-secondary","w-20","mr-2",3,"click"],["azt-track-service","azt-automatic-identification-kI3BEINfrN","class","btn w-24 btn-primary",3,"disabled","click",4,"ngIf"],["azt-track-service","azt-automatic-identification-H8w2l6VC9A","class","btn w-24 btn-primary",3,"disabled","click",4,"ngIf"],[3,"objs","type","exportDataDone",4,"ngIf"],[1,"flex","items-center","h-full"],[1,"w-6","h-6","inline-block","mx-auto"],[3,"formGroup"],["class","intro",3,"hidden",4,"ngIf"],[1,"intro",3,"hidden"],[1,"mt-0"],[1,"font-medium"],[1,"flex","flex-col","sm:flex-row","mt-2"],[1,"form-check","mt-1","mr-10"],["id","by-automatic","type","radio","value","0","formControlName","howIdentification",1,"form-check-input"],["for","by-automatic",1,"form-check-label"],[1,"form-check","mt-1"],["id","by-excel","type","radio","value","1","formControlName","howIdentification",1,"form-check-input"],["for","by-excel",1,"form-check-label"],[1,"text-xs","leading-relaxed","mt-4"],[1,"mt-1"],["class","intro mt-4",4,"ngIf"],[1,"azt-list-classroom","mt-3"],[3,"form","classroomGroupData","examClassroomObjs","permissionName","createdNewClassroom"],[1,"intro","mt-4"],["for","number-start",1,"form-label","font-medium","flex","items-center"],["name","info","size","18",3,"ngClass","matTooltip"],["id","number-start","appOnlyNumber","","type","text","formControlName","startNumbering",1,"form-control",3,"placeholder"],["class","mt-2 fade text-xs text-danger font-medium",4,"ngIf"],[1,"mt-2","fade","text-xs","text-danger","font-medium"],[4,"ngIf"],[1,"form-label","font-medium"],["azt-track-service","azt-automatic-identification-PooqxQVpD","class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md","appDragDrop","",3,"click","filesChangeEmitter",4,"ngIf","ngIfElse"],["exitsFile",""],[1,"mt-2","text-center"],["azt-track-service","azt-automatic-identification-J9l0MWhdQ8",1,"btn","text-primary","btn-transparent",3,"click"],["name","cloud-download","size","20",3,"ngClass"],[1,"text-primary"],["azt-track-service","azt-automatic-identification-PooqxQVpD","appDragDrop","",1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md",3,"click","filesChangeEmitter"],[1,"px-4","pb-4","mt-5","flex","items-center","justify-center","text-center","cursor-pointer","relative"],["id","horizontal-form-1","type","file","formControlName","file","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"hiddenIpt",3,"change"],["fileSelect",""],["name","file-spreadsheet","size","20",3,"ngClass"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"matTooltip","click"],["name","trash-2","size","20"],["azt-track-service","azt-automatic-identification-4p28zlT3gA",1,"btn-text-primary",3,"click"],["name","chevron-left","size","16",3,"ngClass"],["azt-track-service","azt-automatic-identification-kI3BEINfrN",1,"btn","w-24","btn-primary",3,"disabled","click"],["azt-track-service","azt-automatic-identification-H8w2l6VC9A",1,"btn","w-24","btn-primary",3,"disabled","click"],[3,"objs","type","exportDataDone"]],template:function(l,c){if(1&l&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",4),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()(),t.j41(9,"div",5),t.DNE(10,k,3,0,"div",6),t.DNE(11,it,33,26,"ng-template",null,7,t.C5r),t.k0s()(),t.j41(13,"div",8)(14,"div",9),t.DNE(15,ot,4,5,"button",10),t.k0s(),t.j41(16,"button",11),t.bIt("click",function(){return c.handleCloseDialog()}),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.DNE(19,at,3,4,"button",12),t.DNE(20,rt,3,4,"button",13),t.k0s()(),t.DNE(21,st,1,2,"azt-export-excel-for-student-list",14)),2&l){const f=t.sdS(12);t.R7$(4),t.SpI(" ",t.bMT(5,9,"lang_auto_danh_so_bao_danh")," "),t.R7$(3),t.SpI(" ",t.bMT(8,11,"lang_auto_danh_so_bao_danh_de_su_dung_cho_nhung_ki_thi_offline")," "),t.R7$(3),t.Y8G("ngIf",c.statusObj.loading)("ngIfElse",f),t.R7$(5),t.Y8G("ngIf",1===c.data.type&&2===c.stepView),t.R7$(2),t.SpI(" ",t.bMT(18,13,"lang_auto_huy")," "),t.R7$(2),t.Y8G("ngIf",1===c.stepView),t.R7$(1),t.Y8G("ngIf",2===c.stepView),t.R7$(1),t.Y8G("ngIf",c.exportStudentObjs)}},dependencies:[y.YU,y.bT,Y.oV,e.qT,e.me,e.Fm,e.BC,e.cb,e.j4,e.JD,V.WGl,X.Z,$.L,U.t,G.D,K.f,W.m,A.R,g.wp,g.gt],encapsulation:2}),C})()},60694:(Z,E,h)=>{h.d(E,{M:()=>te});var e=h(59640),O=h(10936),S=h(89163),D=h(33887);class T{static checkBoxValidator(r){const n=r;return n.controls.permissionObjs.getRawValue().filter(s=>s.checkbox).length>=1?(n.controls.permissionObjs.setErrors(null),null):(n.controls.permissionObjs.setErrors({permissionCheckboxValidator:!0}),{identityRevealed:!0})}}var t=h(26860),x=h(19548),v=h(54460),I=h(15343),z=h(18718),y=h(76975);function Y(i,r){if(1&i&&t.nrm(0,"azt-loading-effect",3),2&i){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}const V=function(){return{"mr-2 text-danger":!0}};function X(i,r){if(1&i){const n=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"h3",6),t.nrm(3,"lucide-icon",7),t.j41(4,"span",8),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"span",9),t.EFF(8),t.k0s(),t.EFF(9," ? "),t.k0s()()()(),t.j41(10,"div",10)(11,"button",11),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.cancelDelete())}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",12),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.deletePermissionEvent())}),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()}if(2&i){const n=t.XpG();t.R7$(3),t.Y8G("ngClass",t.lJ4(11,V)),t.R7$(2),t.SpI(" ",t.bMT(6,5,"lang_auto_ban_co_chac_chan_muon_xoa")," "),t.R7$(3),t.JRh(n.groupObj?n.groupObj.name:null==n.teacherObj?null:n.teacherObj.fullName),t.R7$(4),t.JRh(t.bMT(13,7,"lang_auto_huy")),t.R7$(3),t.JRh(t.bMT(16,9,"lang_auto_xac_nhan"))}}let $=(()=>{var i;class r extends D._{deletePermissionEvent(){this.groupObj?this.deleteGroupPermission(this.groupObj?.id,this.shareDataObj?.objectId,this.shareDataObj?.objectCodeType):this.teacherObj&&this.deleteTeacherPermission(this.teacherObj?.id,this.shareDataObj?.objectId,this.shareDataObj?.objectCodeType)}cancelDelete(){this.dialogRef.close(!1)}deleteTeacherPermission(o,a,s){this.initStatusObj(),this.permissionTeamService.apiPermissionTeamDeleteTeacherPermissionGet(o??0,a??0,s??0).subscribe(b=>{1==b.success?(this.successStatusObj("lang_auto_xoa_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_auto_xoa_quyen_khong_thanh_cong",!0),this.dialogRef.close(!1))})}deleteGroupPermission(o,a,s){this.initStatusObj(),this.permissionTeamService.apiPermissionTeamDeleteGroupPermissionGet(o??0,a??0,s??0).subscribe(b=>{1==b.success?(this.successStatusObj("lang_auto_xoa_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_auto_xoa_quyen_khong_thanh_cong",!0),this.dialogRef.close(!1))})}ngOnInit(){super.ngOnInit()}constructor(o,a,s){super(a,o),this.dialogRef=o,this.data=a,this.permissionTeamService=s,this.groupObj=void 0,this.teacherObj=void 0,this.groupObj=a.groupObj,this.teacherObj=a.teacherObj,this.shareDataObj=a.shareDataObj}}return(i=r).\u0275fac=function(o){return new(o||i)(t.rXU(S.CP),t.rXU(S.Vh),t.rXU(x.km))},i.\u0275cmp=t.VBU({type:i,selectors:[["azt-share-confirm-to-delete-permission-dialog"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box"],["class","p-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-5",3,"currentStatusObj"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","flex","items-center"],["name","trash","size","24",3,"ngClass"],[1,"text-base","mr-auto"],[1,"font-medium","text-danger"],[1,"p-3","text-right"],["azt-track-service","confirm-to-delete-permission-dialog-mNjxnIzWG8",1,"btn","btn-secondary","mr-3",3,"click"],["azt-track-service","confirm-to-delete-permission-dialog-EP57nAPMmq",1,"btn","btn-primary",3,"click"]],template:function(o,a){if(1&o&&(t.j41(0,"div",0),t.DNE(1,Y,1,1,"azt-loading-effect",1),t.DNE(2,X,17,12,"ng-template",null,2,t.C5r),t.k0s()),2&o){const s=t.sdS(3);t.R7$(1),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",s)}},dependencies:[v.YU,v.bT,I.WGl,z.K,y.wp],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:#fff;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:#fff;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),r})();var U=h(51913),G=h(46899);let K=(()=>{var i;class r{getTeamPermissionObjs(o,a,s){this.permissionTeamService.apiPermissionTeamGetObjectPermissionsGet(o,a).subscribe(b=>{1==b.success?s(b.data?.objs??[],""):s([],b.message??"")})}getCacheKey(o){return"type_"+o}constructor(o){this.permissionTeamService=o,this.cacheTeamPermissionObjs={}}}return(i=r).\u0275fac=function(o){return new(o||i)(t.KVO(x.km))},i.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),r})();var W=h(47712),A=h(68323),g=h(81587);function k(i,r){if(1&i&&t.nrm(0,"azt-loading-effect",3),2&i){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function d(i,r){if(1&i&&(t.j41(0,"div",26),t.EFF(1),t.k0s()),2&i){const n=t.XpG(2);t.R7$(1),t.JRh(null==n.teacherObj?null:n.teacherObj.phone)}}function j(i,r){if(1&i){const n=t.RV6();t.j41(0,"div",27)(1,"button",28),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.showConfirmDeleteDialog())}),t.nI1(2,"mytranslate"),t.nrm(3,"lucide-icon",29),t.k0s()()}if(2&i){const n=t.XpG(2);t.R7$(1),t.FS9("matTooltip",t.bMT(2,2,"lang_auto_xoa_quyen")),t.Y8G("disabled",!(null!=n.groupObj&&n.groupObj.allowDeletePermission||null!=n.teacherObj&&n.teacherObj.allowDeletePermission))}}function m(i,r){if(1&i&&(t.j41(0,"div",30),t.nrm(1,"input",31),t.j41(2,"label",32),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()),2&i){const n=r.$implicit,o=r.index;t.Y8G("formGroup",n),t.R7$(1),t.Mz_("id","role-0-",o,""),t.R7$(1),t.Mz_("for","role-0-",o,""),t.R7$(1),t.JRh(t.bMT(4,4,n.controls.checkboxLabel.value))}}function p(i,r){1&i&&(t.j41(0,"div",33),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_auto_ban_phai_chon_quyen")))}function M(i,r){if(1&i){const n=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"h3",6)(3,"span",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"span",8),t.EFF(7),t.k0s()(),t.j41(8,"div",9)(9,"div",10)(10,"div",11)(11,"div",12),t.nrm(12,"azt-create-avatar",13),t.k0s()(),t.j41(13,"div",14)(14,"p",15)(15,"span"),t.EFF(16),t.k0s()(),t.DNE(17,d,2,1,"div",16),t.k0s(),t.DNE(18,j,4,4,"div",17),t.k0s()(),t.j41(19,"div",18)(20,"form",19)(21,"div",20),t.DNE(22,m,5,6,"div",21),t.k0s()(),t.DNE(23,p,3,3,"div",22),t.k0s()()(),t.j41(24,"div",23)(25,"button",24),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.closeDialog())}),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.j41(28,"button",25),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.addOrUpdate())}),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s()()}if(2&i){const n=t.XpG();let o,a,s;t.R7$(4),t.JRh(t.bMT(5,14,"lang_auto_gan_quyen_cho")),t.R7$(3),t.JRh(null!==(o=null==n.groupObj?null:n.groupObj.name)&&void 0!==o?o:null==n.teacherObj?null:n.teacherObj.fullName),t.R7$(5),t.Y8G("linkAvatar",null==n.teacherObj?null:n.teacherObj.avatar)("nameCreateAvatar",null!==(a=null==n.groupObj?null:n.groupObj.name)&&void 0!==a?a:null==n.teacherObj?null:n.teacherObj.fullName)("size",40),t.R7$(4),t.JRh(null!==(s=null==n.groupObj?null:n.groupObj.name)&&void 0!==s?s:null==n.teacherObj?null:n.teacherObj.fullName),t.R7$(1),t.Y8G("ngIf",null==n.teacherObj?null:n.teacherObj.phone),t.R7$(1),t.Y8G("ngIf",null==n.teamSharePermissionObjsAssigned?null:n.teamSharePermissionObjsAssigned.length),t.R7$(2),t.Y8G("formGroup",n.form),t.R7$(2),t.Y8G("ngForOf",n.form.controls.permissionObjs.controls),t.R7$(1),t.Y8G("ngIf",n.form.invalid),t.R7$(3),t.JRh(t.bMT(27,16,"lang_auto_huy")),t.R7$(2),t.Y8G("disabled",n.form.invalid),t.R7$(1),t.JRh(t.bMT(30,18,"lang_auto_luu"))}}let B=(()=>{var i;class r extends D._{addOrUpdate(){this.initStatusObj();const a=this.form.getRawValue().permissionObjs.filter(b=>b.checkbox).map(b=>b.checkboxId);let s;this.groupObj?(s={groupId:this.groupObj.id??0,objectId:this.shareDataObj?.objectId??0,typeObj:this.shareDataObj?.objectCode??"",permissionIds:a},this.permissionTeamService.apiPermissionTeamShareObjectForGroupPermissionPost(s).subscribe(b=>{1==b.success?(this.successStatusObj("lang_auto_chia_se_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj(b.message??"",!0),this.dialogRef.close(!1))})):(s={teacherId:this.teacherObj?.id??0,objectId:this.shareDataObj?.objectId??0,typeObj:this.shareDataObj?.objectCode??"",permissionIds:a},this.permissionTeamService.apiPermissionTeamShareObjectForTeacherPermissionPost(s).subscribe(b=>{1==b.success?(this.successStatusObj("lang_auto_chia_se_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj(b.message??"",!0),this.dialogRef.close(!1))}))}showConfirmDeleteDialog(){this.sAztDialogService.open($,{data:{groupObj:this.groupObj,teacherObj:this.teacherObj,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(a=>{a&&this.dialogRef.close(a)})}closeDialog(){this.dialogRef.close(!1)}addNewCheckBox(o,a,s){var b=new O.gE({checkbox:new O.MJ(s,{nonNullable:!0}),checkboxId:new O.MJ(a.id,{nonNullable:!0}),checkboxLabel:new O.MJ(a.key??"",{nonNullable:!0})});o.push(b)}initData(){this.shareDataObj?.classroomWithPermissionObj?this.permissionObj=this.shareDataObj?.classroomWithPermissionObj?.permissionObj:this.shareDataObj?.examWithPermissionObj?this.permissionObj=this.shareDataObj?.examWithPermissionObj?.permissionObj:this.shareDataObj?.homeworkWithPermissionObj?this.permissionObj=this.shareDataObj?.homeworkWithPermissionObj?.permissionObj:this.shareDataObj?.categoryWithPermissionObj&&(this.permissionObj=this.shareDataObj?.categoryWithPermissionObj?.permissionObj),this.teamSharePermissionObjsAssigned=this.groupObj?.teamPermissions?.length?this.groupObj?.teamPermissions:this.teacherObj?.teamPermissions}initFormData(){this.initStatusObj(),this.permissionTeamService.apiPermissionTeamGetObjectPermissionsGet(this.shareDataObj?.objectId??0,this.shareDataObj?.objectCode??"").subscribe(o=>{1===o.success?((o.data?.objs??[]).forEach(s=>{const b=this.teamSharePermissionObjsAssigned?.find(N=>N.id==s.id);(this.groupObj||this.teacherObj)&&this.addNewCheckBox(this.form.controls?.permissionObjs,s,!!b)}),this.stopStatusObj()):this.errorStatusObj(o.message??"",!0)})}ngOnInit(){super.ngOnInit(),this.initData(),this.initFormData()}constructor(o,a,s,b,N,H){super(b,s),this.permissionService=o,this.sAztDialogService=a,this.dialogRef=s,this.data=b,this.permissionTeamService=N,this.aztShareSAztPermissionService=H,this.groupObj=void 0,this.teacherObj=void 0,this.teamSharePermissionObjsAssigned=void 0,this.groupObj=b.groupObj,this.teacherObj=b.teacherObj,this.shareDataObj=b.shareDataObj,this.form=new O.gE({permissionObjs:new O.Yp([])},{validators:T.checkBoxValidator})}}return(i=r).\u0275fac=function(o){return new(o||i)(t.rXU(U.p),t.rXU(G.i),t.rXU(S.CP),t.rXU(S.Vh),t.rXU(x.km),t.rXU(K))},i.\u0275cmp=t.VBU({type:i,selectors:[["azt-share-add-or-edit-permission-dialog"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box","search-form"],["class","p-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-5",3,"currentStatusObj"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5","relative"],[1,"text-lg"],[1,"mr-1"],[2,"font-weight","bold"],[1,"mt-2"],[1,"flex","flex-row","items-center","mb-2","p-3","rounded-md"],[1,"w-10","h-10","image-fit","mr-2"],[1,"w-10","h-10","image-fit"],[1,"mr-2",3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-2","mr-auto","text-left","mt-0"],[1,"font-medium"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","delete-block",4,"ngIf"],[1,"x","px-3"],[3,"formGroup"],["formArrayName","permissionObjs"],["class","col-span-12 mt-3",3,"formGroup",4,"ngFor","ngForOf"],["class","alert alert-danger mt-3 azt-pl-0",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","add-or-edit-permission-dialog-IkGPsxO5mp",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","add-or-edit-permission-dialog-OOSFibqmjy",1,"btn","btn-primary","w-24",3,"disabled","click"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"delete-block"],["azt-track-service","add-or-edit-permission-dialog-o6UT_07q4",1,"btn","btn-outline-danger","mr-2",3,"matTooltip","disabled","click"],["name","trash-2","size","16"],[1,"col-span-12","mt-3",3,"formGroup"],["type","checkbox","formControlName","checkbox",1,"show-code","form-check-input","mr-0",3,"id"],[1,"form-check-label",3,"for"],[1,"alert","alert-danger","mt-3","azt-pl-0"]],template:function(o,a){if(1&o&&(t.j41(0,"div",0),t.DNE(1,k,1,1,"azt-loading-effect",1),t.DNE(2,M,31,20,"ng-template",null,2,t.C5r),t.k0s()),2&o){const s=t.sdS(3);t.R7$(1),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",s)}},dependencies:[v.Sq,v.bT,W.oV,O.qT,O.Zm,O.BC,O.cb,O.j4,O.JD,O.v8,I.WGl,z.K,A.p,g.t,y.wp],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:#fff;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:#fff;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),r})();var J=h(11253),L=h(68774),Q=h(36484),tt=h(15485),et=h(5502),q=h(69135),nt=h(52811);function it(i,r){1&i&&(t.j41(0,"span",14),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_thu_muc")," "))}function ot(i,r){1&i&&(t.j41(0,"span",14),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_lop")," "))}function at(i,r){1&i&&(t.j41(0,"span",14),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_de_thi")," "))}function rt(i,r){1&i&&(t.j41(0,"span",14),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_bai_tap")," "))}function st(i,r){if(1&i&&(t.j41(0,"span",15,16),t.EFF(2),t.k0s()),2&i){const n=t.sdS(1),o=t.XpG(2);let a,s;t.FS9("matTooltip",(null!==(a=null==o.shareDataObj.classroomWithPermissionObj?null:o.shareDataObj.classroomWithPermissionObj.name)&&void 0!==a?a:"")||(null!==(a=null==o.shareDataObj.examWithPermissionObj?null:o.shareDataObj.examWithPermissionObj.name)&&void 0!==a?a:"")||(null!==(a=null==o.shareDataObj.homeworkWithPermissionObj?null:o.shareDataObj.homeworkWithPermissionObj.name)&&void 0!==a?a:"")||(null!==(a=null==o.shareDataObj.categoryWithPermissionObj?null:o.shareDataObj.categoryWithPermissionObj.name)&&void 0!==a?a:"")),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",n.isDisabled),t.R7$(2),t.SpI(' "',(null!==(s=null==o.shareDataObj.classroomWithPermissionObj?null:o.shareDataObj.classroomWithPermissionObj.name)&&void 0!==s?s:"")||(null!==(s=null==o.shareDataObj.examWithPermissionObj?null:o.shareDataObj.examWithPermissionObj.name)&&void 0!==s?s:"")||(null!==(s=null==o.shareDataObj.homeworkWithPermissionObj?null:o.shareDataObj.homeworkWithPermissionObj.name)&&void 0!==s?s:"")||(null!==(s=null==o.shareDataObj.categoryWithPermissionObj?null:o.shareDataObj.categoryWithPermissionObj.name)&&void 0!==s?s:""),'" ')}}function lt(i,r){if(1&i&&(t.j41(0,"h3",10)(1,"span",11),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,it,3,3,"span",12),t.DNE(5,ot,3,3,"span",12),t.DNE(6,at,3,3,"span",12),t.DNE(7,rt,3,3,"span",12),t.DNE(8,st,3,4,"span",13),t.k0s()),2&i){const n=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,6,"lang_auto_chia_se")," "),t.R7$(2),t.Y8G("ngIf","CATEGORY"===(null==n.shareDataObj?null:n.shareDataObj.objectCode)),t.R7$(1),t.Y8G("ngIf","CLASSROOM"===(null==n.shareDataObj?null:n.shareDataObj.objectCode)),t.R7$(1),t.Y8G("ngIf","EXAM"===(null==n.shareDataObj?null:n.shareDataObj.objectCode)),t.R7$(1),t.Y8G("ngIf","HOMEWORK"===(null==n.shareDataObj?null:n.shareDataObj.objectCode)),t.R7$(1),t.Y8G("ngIf",n.shareDataObj)}}const u=function(){return{"absolute my-auto inset-y-0 mr-3 mt-2 right-0 text-slate-500 cursor-pointer":!0}};function C(i,r){if(1&i){const n=t.RV6();t.j41(0,"div",17)(1,"div",18)(2,"div",19)(3,"input",20),t.bIt("focus",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.showSearchList())})("focusout",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.hideSearchList())}),t.nI1(4,"mytranslate"),t.k0s(),t.nrm(5,"lucide-icon",21),t.k0s()()()}if(2&i){const n=t.XpG();t.R7$(3),t.FS9("placeholder",t.bMT(4,3,"lang_auto_nhap_ten_hoac_sdt")),t.Y8G("formControl",n.searchNameKey),t.R7$(2),t.Y8G("ngClass",t.lJ4(5,u))}}function _(i,r){if(1&i&&(t.j41(0,"span",37),t.nI1(1,"mytranslate"),t.EFF(2),t.k0s()),2&i){const n=t.XpG(2).$implicit;t.FS9("matTooltip",t.bMT(1,2,"lang_auto_da_duoc_chia_se_quyen")),t.R7$(2),t.JRh(n.name)}}function l(i,r){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const n=t.XpG(2).$implicit;t.R7$(1),t.JRh(n.name)}}const c=function(){return{"mr-2":!0}};function f(i,r){if(1&i){const n=t.RV6();t.j41(0,"button",30),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,s=t.XpG(3);return t.Njj(s.showEditPermissionDialog(a,void 0))}),t.j41(1,"div",31),t.nrm(2,"lucide-icon",32),t.k0s(),t.j41(3,"div",33)(4,"a",34),t.DNE(5,_,3,4,"span",35),t.DNE(6,l,2,1,"span",36),t.k0s()()()}if(2&i){const n=t.XpG().$implicit;t.R7$(2),t.Y8G("ngClass",t.lJ4(3,c)),t.R7$(3),t.Y8G("ngIf",null==n.teamPermissions?null:n.teamPermissions.length),t.R7$(1),t.Y8G("ngIf",!(null!=n.teamPermissions&&n.teamPermissions.length))}}function P(i,r){if(1&i&&(t.j41(0,"div"),t.DNE(1,f,7,4,"button",29),t.k0s()),2&i){const n=r.$implicit;t.R7$(1),t.Y8G("ngIf",n.allowEditPermission)}}function R(i,r){if(1&i&&(t.j41(0,"span",37),t.nI1(1,"mytranslate"),t.EFF(2),t.k0s()),2&i){const n=t.XpG(2).$implicit;t.FS9("matTooltip",t.bMT(1,2,"lang_auto_da_duoc_chia_se_quyen")),t.R7$(2),t.JRh(n.fullName)}}function w(i,r){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const n=t.XpG(2).$implicit;t.R7$(1),t.JRh(n.fullName)}}function F(i,r){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const n=t.XpG(2).$implicit;t.R7$(1),t.SpI(" ",n.phone," ")}}function dt(i,r){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const n=t.XpG(2).$implicit;t.R7$(1),t.SpI(" ",n.email," ")}}function ct(i,r){if(1&i){const n=t.RV6();t.j41(0,"button",39),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,s=t.XpG(3);return t.Njj(s.showEditPermissionDialog(void 0,a))}),t.j41(1,"div",40),t.nrm(2,"azt-create-avatar",41),t.k0s(),t.j41(3,"div",33)(4,"a",34),t.DNE(5,R,3,4,"span",35),t.DNE(6,w,2,1,"span",36),t.k0s(),t.j41(7,"div",42),t.DNE(8,F,2,1,"span",36),t.DNE(9,dt,2,1,"span",36),t.k0s()()()}if(2&i){const n=t.XpG().$implicit;t.R7$(2),t.Y8G("linkAvatar",n.avatar)("nameCreateAvatar",n.fullName)("size",40),t.R7$(3),t.Y8G("ngIf",null==n.teamPermissions?null:n.teamPermissions.length),t.R7$(1),t.Y8G("ngIf",!(null!=n.teamPermissions&&n.teamPermissions.length)),t.R7$(2),t.Y8G("ngIf",n.phone),t.R7$(1),t.Y8G("ngIf",n.email&&!n.phone)}}function ht(i,r){if(1&i&&(t.j41(0,"div"),t.DNE(1,ct,10,7,"button",38),t.k0s()),2&i){const n=r.$implicit;t.R7$(1),t.Y8G("ngIf",n.allowEditPermission)}}function pt(i,r){if(1&i){const n=t.RV6();t.j41(0,"div",43)(1,"p"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"a",44),t.bIt("click",function(){t.eBV(n);const a=t.XpG(3);return t.Njj(a.showAddNewTeacherDialog())}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()}2&i&&(t.R7$(2),t.JRh(t.bMT(3,2,"lang_auto_khong_co_du_lieu")),t.R7$(3),t.SpI(" ",t.bMT(6,4,"lang_testbank_share_add_new_teacher")," "))}const mt=function(){return["name"]},_t=function(){return["fullName","phone","email"]};function ut(i,r){if(1&i){const n=t.RV6();t.j41(0,"div",23)(1,"div",24)(2,"ng-scrollbar",25)(3,"div",17),t.DNE(4,P,2,1,"div",26),t.nI1(5,"appFilter"),t.DNE(6,ht,2,1,"div",26),t.nI1(7,"appFilter"),t.DNE(8,pt,7,6,"div",27),t.nI1(9,"appFilter"),t.nI1(10,"appFilter"),t.k0s()()(),t.j41(11,"a",28),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.goToGroup())}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()}if(2&i){const n=t.XpG(2);t.R7$(2),t.Y8G("visibility","hover"),t.R7$(2),t.Y8G("ngForOf",t.brH(5,5,null==n.shareDataObj?null:n.shareDataObj.allGroupPermissionObjs,n.searchNameKey.value,t.lJ4(23,mt))),t.R7$(2),t.Y8G("ngForOf",t.brH(7,9,null==n.shareDataObj?null:n.shareDataObj.allTeacherPermissionObjs,n.searchNameKey.value,t.lJ4(24,_t))),t.R7$(2),t.Y8G("ngIf",1==n.hasDataInSearchList(t.brH(9,13,null==n.shareDataObj?null:n.shareDataObj.allGroupPermissionObjs,n.searchNameKey.value,t.lJ4(25,mt)),t.brH(10,17,null==n.shareDataObj?null:n.shareDataObj.allTeacherPermissionObjs,n.searchNameKey.value,t.lJ4(26,_t)))),t.R7$(4),t.JRh(t.bMT(13,21,"lang_auto_quan_ly_danh_ba_upper"))}}function bt(i,r){if(1&i&&t.DNE(0,ut,14,27,"div",22),2&i){const n=t.XpG();t.Y8G("ngIf",n.isShowSearchList)}}function gt(i,r){1&i&&(t.j41(0,"span",51),t.nrm(1,"azt-loading-ui"),t.k0s())}function ft(i,r){1&i&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI("(",t.bMT(2,1,"lang_auto_ban"),")"))}function xt(i,r){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const n=t.XpG(3);t.R7$(1),t.SpI(" ",null==n.shareDataObj||null==n.shareDataObj.ownerObj?null:n.shareDataObj.ownerObj.phone," ")}}function Ot(i,r){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const n=t.XpG(3);t.R7$(1),t.SpI(" ",null==n.shareDataObj||null==n.shareDataObj.ownerObj?null:n.shareDataObj.ownerObj.email," ")}}function jt(i,r){if(1&i&&(t.j41(0,"div",52)(1,"button",53)(2,"div",40),t.nrm(3,"azt-create-avatar",41),t.k0s(),t.j41(4,"div",54)(5,"span",55,16),t.EFF(7),t.DNE(8,ft,3,3,"span",36),t.k0s(),t.j41(9,"div",42),t.DNE(10,xt,2,1,"span",36),t.DNE(11,Ot,2,1,"span",36),t.k0s()(),t.j41(12,"div",56),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s()()()),2&i){const n=t.sdS(6),o=t.XpG(2);t.R7$(1),t.Y8G("disabled",!0),t.R7$(2),t.Y8G("linkAvatar",null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.avatar)("nameCreateAvatar",null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.fullName)("size",40),t.R7$(2),t.FS9("matTooltip",null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.fullName),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",n.isDisabled),t.R7$(2),t.SpI(" ",null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.fullName," "),t.R7$(1),t.Y8G("ngIf",(null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.id)===(null==o.userObj?null:o.userObj.id)),t.R7$(2),t.Y8G("ngIf",null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.phone),t.R7$(1),t.Y8G("ngIf",(null==o.shareDataObj||null==o.shareDataObj.ownerObj?null:o.shareDataObj.ownerObj.email)&&!(null!=o.shareDataObj&&null!=o.shareDataObj.ownerObj&&o.shareDataObj.ownerObj.phone)),t.R7$(2),t.SpI(" ",t.bMT(14,12,"lang_auto_chu_so_huu")," ")}}function vt(i,r){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const n=t.XpG().$implicit;t.R7$(1),t.SpI(" ",n.phone," ")}}function St(i,r){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const n=t.XpG().$implicit;t.R7$(1),t.SpI(" ",n.email," ")}}function kt(i,r){if(1&i&&(t.j41(0,"span",63),t.EFF(1),t.nI1(2,"aztPipeShowTooltipPermission"),t.k0s()),2&i){const n=t.XpG(2).$implicit;t.R7$(1),t.JRh(t.bMT(2,1,n.teamPermissions))}}function Ct(i,r){if(1&i&&(t.j41(0,"span",61),t.nI1(1,"aztPipeShowTooltipPermission"),t.DNE(2,kt,3,3,"span",62),t.k0s()),2&i){const n=r.index,o=t.XpG().$implicit;t.Y8G("matTooltip",t.bMT(1,2,o.teamPermissions)),t.R7$(2),t.Y8G("ngIf",0===n)}}function Dt(i,r){if(1&i){const n=t.RV6();t.j41(0,"div",57)(1,"button",58),t.bIt("click",function(){const s=t.eBV(n).$implicit,b=t.XpG(2);return t.Njj(b.showEditPermissionDialog(void 0,s))}),t.j41(2,"div",40),t.nrm(3,"azt-create-avatar",41),t.k0s(),t.j41(4,"div",54)(5,"span",55,16),t.EFF(7),t.k0s(),t.j41(8,"div",42),t.DNE(9,vt,2,1,"span",36),t.DNE(10,St,2,1,"span",36),t.k0s()(),t.j41(11,"div",59),t.DNE(12,Ct,3,4,"span",60),t.k0s()()()}if(2&i){const n=r.$implicit,o=t.sdS(6);t.R7$(1),t.Y8G("disabled",!n.allowEditPermission),t.R7$(2),t.Y8G("linkAvatar",n.avatar)("nameCreateAvatar",n.fullName)("size",40),t.R7$(2),t.FS9("matTooltip",n.fullName),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.R7$(2),t.JRh(n.fullName),t.R7$(2),t.Y8G("ngIf",n.phone),t.R7$(1),t.Y8G("ngIf",n.email&&!n.phone),t.R7$(2),t.Y8G("ngForOf",n.teamPermissions)}}function Pt(i,r){if(1&i&&(t.j41(0,"span",63),t.EFF(1),t.nI1(2,"aztPipeShowTooltipPermission"),t.k0s()),2&i){const n=t.XpG(2).$implicit;t.R7$(1),t.JRh(t.bMT(2,1,n.teamPermissions))}}function It(i,r){if(1&i&&(t.j41(0,"span",61),t.nI1(1,"aztPipeShowTooltipPermission"),t.DNE(2,Pt,3,3,"span",62),t.k0s()),2&i){const n=r.index,o=t.XpG().$implicit;t.Y8G("matTooltip",t.bMT(1,2,o.teamPermissions)),t.R7$(2),t.Y8G("ngIf",0===n)}}const wt=function(){return{"text-primary":!0}};function Tt(i,r){if(1&i){const n=t.RV6();t.j41(0,"div",57)(1,"button",64),t.bIt("click",function(){const s=t.eBV(n).$implicit,b=t.XpG(2);return t.Njj(b.showEditPermissionDialog(s,void 0))}),t.j41(2,"div",31),t.nrm(3,"lucide-icon",65),t.k0s(),t.j41(4,"div",54)(5,"span",55,16),t.EFF(7),t.k0s()(),t.j41(8,"div",59),t.DNE(9,It,3,4,"span",60),t.k0s()()()}if(2&i){const n=r.$implicit,o=t.sdS(6);t.R7$(1),t.Y8G("disabled",!n.allowEditPermission),t.R7$(2),t.Y8G("ngClass",t.lJ4(7,wt)),t.R7$(2),t.FS9("matTooltip",n.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",o.isDisabled),t.R7$(2),t.JRh(n.name),t.R7$(2),t.Y8G("ngForOf",n.teamPermissions)}}function yt(i,r){if(1&i&&(t.j41(0,"div",45)(1,"h4",46),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,gt,2,0,"span",47),t.k0s(),t.j41(5,"div",48)(6,"ng-scrollbar",25),t.DNE(7,jt,15,14,"div",49),t.DNE(8,Dt,13,11,"div",50),t.DNE(9,Tt,10,8,"div",50),t.k0s()()()),2&i){const n=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,6,"lang_auto_nhung_nguoi_co_quyen_truy_cap")," "),t.R7$(2),t.Y8G("ngIf",n.statusObj.loading),t.R7$(2),t.Y8G("visibility","hover"),t.R7$(1),t.Y8G("ngIf",null==n.shareDataObj||null==n.shareDataObj.ownerObj?null:n.shareDataObj.ownerObj.fullName),t.R7$(1),t.Y8G("ngForOf",null==n.shareDataObj?null:n.shareDataObj.teacherObjs),t.R7$(1),t.Y8G("ngForOf",null==n.shareDataObj?null:n.shareDataObj.groupObjs)}}let Rt=(()=>{var i;class r extends D._{goToGroup(){this.dialogRef.close(!1),this.backToLink?this.commonService.myNavigationWithQueryString("/admin/teacher-group/2/0","?backTo="+encodeURIComponent(this.backToLink)):this.commonService.myNavigation("/admin/teacher-group/2/0")}closeDialog(){this.hasNewData&&this.aztShareService.changeStatus(!0),this.dialogRef.close(this.hasNewData)}showConfirmDeleteDialog(o,a){this.sAztDialogService.open($,{data:{groupObj:o,teacherObj:a,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(b=>{b&&(this.getTeamPermissionObjs(),this.hasNewData=!0)})}showEditPermissionDialog(o,a){this.sAztDialogService.open(B,{data:{groupObj:o,teacherObj:a,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(b=>{b&&(this.getTeamPermissionObjs(),this.hasNewData=!0)})}showAddNewTeacherDialog(){this.sAztDialogService.open(J.v,{width:"600px",enterAnimationDuration:"0ms",exitAnimationDuration:"0ms",data:{type:"add_teacher"},restoreFocus:!1}).afterClosed().subscribe(a=>{a&&this.getTeamPermissionObjs()})}hasDataInSearchList(o,a){return o.length<=0&&a.length<=0}showSearchList(){this.isShowSearchList=!0}hideSearchList(){setTimeout(()=>{this.isShowSearchList=!1},500)}getTeamPermissionObjs(){this.initStatusObj(),this.teacherGroupService.apiTeacherGroupGetTeamPermissionObjsGet(this.shareDataObj?.objectCodeType??0,this.shareDataObj?.objectId??0).subscribe(o=>{1==o.success?(this.shareDataObj&&o.data?.owner&&(this.shareDataObj.ownerObj=o.data?.owner,this.shareDataObj.groupObjs=o.data?.groups??[],this.shareDataObj.teacherObjs=o.data?.teachers??[],this.shareDataObj.allGroupPermissionObjs=this.sortService.sortGroupName(o.data?.allGroupPermissionObjs??[]),this.shareDataObj.allTeacherPermissionObjs=this.sortService.sortFirstNameStudents(o.data?.allTeacherPermissionObjs??[])),this.stopStatusObj()):this.errorStatusObj(o.message??"",!0)})}ngOnInit(){super.ngOnInit(),this.searchNameKey.setValue(""),this.userObj=this.userService.getUserObj()}constructor(o,a,s,b,N,H,ee){super(a,o),this.dialogRef=o,this.data=a,this.sAztDialogService=s,this.teacherGroupService=b,this.sortService=N,this.userService=H,this.aztShareService=ee,this.backToLink="",this.searchNameKey=new O.MJ("",{nonNullable:!0}),this.hasNewData=!1,this.isShowSearchList=!1,this.backToLink=this.data.backToLink??"",this.shareDataObj=this.data.shareDataObj,this.dialogRef.backdropClick().subscribe(()=>{this.closeDialog()})}}return(i=r).\u0275fac=function(o){return new(o||i)(t.rXU(S.CP),t.rXU(S.Vh),t.rXU(G.i),t.rXU(x.xr),t.rXU(L.g),t.rXU(Q.R),t.rXU(tt.l))},i.\u0275cmp=t.VBU({type:i,selectors:[["azt-list-people-who-will-share-dialog"]],features:[t.Vt3],decls:19,vars:7,consts:[[1,"box","search-form"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"azt-dialog-share","relative"],[3,"ngTemplateOutlet"],[1,"p-3","text-right"],["azt-track-service","list-people-who-will-share-dialog-5fjZW_u4sI",1,"btn","btn-secondary","w-24",3,"click"],["sharedBoxTitle",""],["searchSharedBox",""],["listGroupAndTeacherWhoWillShare",""],["listSharedPeople",""],[1,"text-lg","p-3",2,"padding-bottom","0"],[1,"inline-block",2,"vertical-align","middle"],["class","inline-block mx-1 lowercase","style","vertical-align: middle",4,"ngIf"],["class","inline-block truncate font-medium","style","vertical-align: middle",3,"matTooltip","isDisabledTooltip","matTooltipDisabled",4,"ngIf"],[1,"inline-block","mx-1","lowercase",2,"vertical-align","middle"],[1,"inline-block","truncate","font-medium",2,"vertical-align","middle",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"p-3"],[1,"relative","flex"],[1,"search","w-full"],["type","text",1,"form-control","py-1","px-4","w-full","box","pr-10","h-10",2,"border-radius","0.375rem",3,"formControl","placeholder","focus","focusout"],["name","search","size","24",3,"ngClass"],["class","azt-list-member absolute box z-50 shadow-lg border border-slate-300 dark:border-darkmode-400","style","top: auto; width: calc(100% - 1.5rem); left: 0.75rem",4,"ngIf"],[1,"azt-list-member","absolute","box","z-50","shadow-lg","border","border-slate-300","dark:border-darkmode-400",2,"top","auto","width","calc(100% - 1.5rem)","left","0.75rem"],[1,"list-permission","mt-3",2,"height","220px"],["pointerEventsMethod","scrollbar",3,"visibility"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["azt-track-service","list-people-who-will-share-dialog-fZvVPtnGj3",1,"manage-contacts","p-2","inline-block",3,"click"],["azt-track-service","list-people-who-will-share-dialog-F2RR4K5Z7f","class","flex items-center p-2 hover:bg-slate-100 dark:hover:bg-darkmode-400 rounded-md w-full",3,"click",4,"ngIf"],["azt-track-service","list-people-who-will-share-dialog-F2RR4K5Z7f",1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md","w-full",3,"click"],[1,"w-10","h-10","rounded-full","border","border-slate-200","dark:border-darkmode-400","image-fit","lg:mr-1"],["name","users","size","20",2,"position","absolute","top","50%","left","50%","transform","translate(-50%, -50%)",3,"ngClass"],[1,"ml-2","mr-auto","text-left","mt-0"],[1,"font-medium"],["style","color: gray !important",3,"matTooltip",4,"ngIf"],[4,"ngIf"],[2,"color","gray !important",3,"matTooltip"],["azt-track-service","list-people-who-will-share-dialog-jUo-PblKOB","class","flex items-center p-2 hover:bg-slate-100 dark:hover:bg-darkmode-400 rounded-md w-full",3,"click",4,"ngIf"],["azt-track-service","list-people-who-will-share-dialog-jUo-PblKOB",1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md","w-full",3,"click"],[1,"w-10","h-10","image-fit","lg:mr-1"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-center"],["azt-track-service","list-people-who-will-share-dialog-eNG01s2dq3",1,"manage-contacts","p-2","inline-block",2,"font-size","12px",3,"click"],[1,"mt-3"],[1,"text-md","font-medium","px-3"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"list-permission","mt-3","mb-4",2,"height","260px"],["class","item-permission px-3 mb-2",4,"ngIf"],["class","item-permission cursor-pointer px-3 mb-2 w-full",4,"ngFor","ngForOf"],[1,"w-4","h-4","inline-block","mr-2"],[1,"item-permission","px-3","mb-2"],[1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md","w-full","btn",2,"border","none","box-shadow","none",3,"disabled"],[1,"ml-2","mr-auto","text-left","mt-0",2,"width","40%"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],[1,"text-xs","border","border-slate-300","dark:border-darkmode-400","rounded-md","py-1","px-2",2,"width","85px","vertical-align","middle"],[1,"item-permission","cursor-pointer","px-3","mb-2","w-full"],["azt-track-service","list-people-who-will-share-dialog-jHbwL2fY5e",1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md","w-full","btn",2,"border","none","box-shadow","none",3,"disabled","click"],[1,"text-xs","border","border-slate-300","dark:border-darkmode-400","rounded-md","py-1","px-2",2,"width","85px"],[3,"matTooltip",4,"ngFor","ngForOf"],[3,"matTooltip"],["class","truncate","style","width: 85px; vertical-align: middle",4,"ngIf"],[1,"truncate",2,"width","85px","vertical-align","middle"],["azt-track-service","list-people-who-will-share-dialog-1nM5xDYgHR",1,"flex","items-center","p-2","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md","w-full","btn",2,"border","none","box-shadow","none",3,"disabled","click"],["name","users","size","24",2,"position","absolute","top","50%","left","50%","transform","translate(-50%, -50%)",3,"ngClass"]],template:function(o,a){if(1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.eu8(3,3)(4,3)(5,3)(6,3),t.k0s()(),t.j41(7,"div",4)(8,"button",5),t.bIt("click",function(){return a.closeDialog()}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()(),t.DNE(11,lt,9,8,"ng-template",null,6,t.C5r),t.DNE(13,C,6,6,"ng-template",null,7,t.C5r),t.DNE(15,bt,1,1,"ng-template",null,8,t.C5r),t.DNE(17,yt,10,8,"ng-template",null,9,t.C5r)),2&o){const s=t.sdS(12),b=t.sdS(14),N=t.sdS(16),H=t.sdS(18);t.R7$(3),t.Y8G("ngTemplateOutlet",s),t.R7$(1),t.Y8G("ngTemplateOutlet",b),t.R7$(1),t.Y8G("ngTemplateOutlet",N),t.R7$(1),t.Y8G("ngTemplateOutlet",H),t.R7$(3),t.JRh(t.bMT(10,5,"lang_auto_huy"))}},dependencies:[v.YU,v.Sq,v.bT,v.T3,W.oV,O.me,O.BC,O.l_,et.Yh,I.WGl,A.p,q.f,nt.R,y.wp,y.WL,y.og],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:#fff;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:#fff;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),r})();function Et(i,r){if(1&i&&t.nrm(0,"azt-loading-effect",3),2&i){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function zt(i,r){if(1&i&&(t.nrm(0,"img",25),t.nI1(1,"mycdn")),2&i){const n=t.XpG(2);t.FS9("src",t.bMT(1,1,null==n.whoSharePermissionObj?null:n.whoSharePermissionObj.avatar),t.B4B)}}function Mt(i,r){if(1&i&&t.nrm(0,"azt-create-avatar",26),2&i){const n=t.XpG(2);t.Y8G("nameCreateAvatar",null==n.whoSharePermissionObj?null:n.whoSharePermissionObj.fullName)("size",40)}}function Ft(i,r){if(1&i&&(t.j41(0,"div",27),t.EFF(1),t.k0s()),2&i){const n=t.XpG(2);t.R7$(1),t.JRh(null==n.whoSharePermissionObj?null:n.whoSharePermissionObj.phone)}}function At(i,r){if(1&i&&(t.j41(0,"div",28)(1,"div"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&i){const n=r.$implicit;t.R7$(2),t.SpI("- ",t.bMT(3,1,n.key),"")}}function Gt(i,r){if(1&i){const n=t.RV6();t.j41(0,"button",29),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.confirmReceivePermission(3))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&i&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_auto_tu_choi")))}function Nt(i,r){if(1&i){const n=t.RV6();t.j41(0,"button",30),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.confirmReceivePermission(2))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&i&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_auto_chap_nhan")))}function $t(i,r){if(1&i){const n=t.RV6();t.j41(0,"button",31),t.bIt("click",function(){t.eBV(n);const a=t.XpG(2);return t.Njj(a.confirmReceivePermission(3))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&i&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_auto_xoa_quyen")))}const Wt=function(){return[]};function Bt(i,r){if(1&i){const n=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"h3",6)(3,"span",7),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"span",8),t.EFF(7),t.k0s()(),t.j41(8,"div",9)(9,"div",10)(10,"div",11)(11,"div",12),t.DNE(12,zt,2,3,"img",13),t.DNE(13,Mt,1,2,"azt-create-avatar",14),t.k0s()(),t.j41(14,"div",15)(15,"p",16)(16,"span"),t.EFF(17),t.k0s()(),t.DNE(18,Ft,2,1,"div",17),t.k0s()()(),t.j41(19,"div",18)(20,"div"),t.DNE(21,At,4,3,"div",19),t.k0s()()()(),t.j41(22,"div",20)(23,"button",21),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.cancelReceivePermission())}),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.DNE(26,Gt,3,3,"button",22),t.DNE(27,Nt,3,3,"button",23),t.DNE(28,$t,3,3,"button",24),t.k0s()}if(2&i){const n=t.XpG();let o;t.R7$(4),t.JRh(t.bMT(5,11,"lang_auto_gan_quyen_cho")),t.R7$(3),t.JRh(null==n.whoSharePermissionObj?null:n.whoSharePermissionObj.fullName),t.R7$(5),t.Y8G("ngIf",null==n.whoSharePermissionObj?null:n.whoSharePermissionObj.avatar),t.R7$(1),t.Y8G("ngIf",!(null!=n.whoSharePermissionObj&&n.whoSharePermissionObj.avatar)),t.R7$(4),t.JRh(null==n.whoSharePermissionObj?null:n.whoSharePermissionObj.fullName),t.R7$(1),t.Y8G("ngIf",null==n.whoSharePermissionObj?null:n.whoSharePermissionObj.phone),t.R7$(3),t.Y8G("ngForOf",null!==(o=null==n.whoSharePermissionObj?null:n.whoSharePermissionObj.permissionObjs)&&void 0!==o?o:t.lJ4(15,Wt)),t.R7$(3),t.JRh(t.bMT(25,13,"lang_auto_huy")),t.R7$(2),t.Y8G("ngIf",1==(null==n.whoSharePermissionObj?null:n.whoSharePermissionObj.permissionStatus)),t.R7$(1),t.Y8G("ngIf",1==(null==n.whoSharePermissionObj?null:n.whoSharePermissionObj.permissionStatus)),t.R7$(1),t.Y8G("ngIf",2==(null==n.whoSharePermissionObj?null:n.whoSharePermissionObj.permissionStatus))}}let Lt=(()=>{var i;class r extends D._{cancelReceivePermission(){this.dialogRef.close(!1)}confirmReceivePermission(o){this.initStatusObj(),this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({tenantId:this.whoSharePermissionObj?.id,objectId:this.shareDataObj?.objectId??0,objectCode:this.shareDataObj?.objectCode??"",status:o}).subscribe(s=>{1==s.success?3==o?(this.successStatusObj("lang_auto_xoa_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.successStatusObj("lang_auto_xac_nhan_quyen_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj(s.message??"",!0),this.dialogRef.close(!1))})}ngOnInit(){super.ngOnInit()}constructor(o,a,s){super(a,o),this.dialogRef=o,this.data=a,this.permissionTeamService=s,this.whoSharePermissionObj=void 0,this.whoSharePermissionObj=a.whoSharePermissionObj,this.shareDataObj=a.shareDataObj}}return(i=r).\u0275fac=function(o){return new(o||i)(t.rXU(S.CP),t.rXU(S.Vh),t.rXU(x.km))},i.\u0275cmp=t.VBU({type:i,selectors:[["azt-share-show-who-share-permission-dialog"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box","search-form"],["class","p-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-5",3,"currentStatusObj"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-lg","font-medium","flex","items-center"],[1,"mr-1"],[2,"font-weight","bold"],[1,"mt-2","x"],[1,"flex","flex-row","items-center","mb-2","p-3","rounded-md"],[1,"w-10","h-10","image-fit","mr-2"],[1,"w-10","h-10","image-fit","lg:mr-1","flex","items-center"],["class","rounded-full",3,"src",4,"ngIf"],["class","mr-2",3,"nameCreateAvatar","size",4,"ngIf"],[1,"ml-2","mr-auto","text-left","mt-0"],[1,"font-medium"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],[1,"x","px-3"],["style","font-weight: 500; margin-top: 5px",4,"ngFor","ngForOf"],[1,"p-3","text-right","w-full"],["azt-track-service","who-share-permission-dialog-2WKlv8lCOaG",1,"btn","btn-secondary",3,"click"],["azt-track-service","who-share-permission-dialog-K31mtdUwJ8a","class","btn btn-danger ml-2",3,"click",4,"ngIf"],["azt-track-service","who-share-permission-dialog-zOf1Sgw2fVz","class","btn btn-primary ml-2",3,"click",4,"ngIf"],["azt-track-service","who-share-permission-dialog-2IrhVG-Va27","class","btn btn-primary ml-2",3,"click",4,"ngIf"],[1,"rounded-full",3,"src"],[1,"mr-2",3,"nameCreateAvatar","size"],[1,"text-slate-500","text-xs","mt-0.5"],[2,"font-weight","500","margin-top","5px"],["azt-track-service","who-share-permission-dialog-K31mtdUwJ8a",1,"btn","btn-danger","ml-2",3,"click"],["azt-track-service","who-share-permission-dialog-zOf1Sgw2fVz",1,"btn","btn-primary","ml-2",3,"click"],["azt-track-service","who-share-permission-dialog-2IrhVG-Va27",1,"btn","btn-primary","ml-2",3,"click"]],template:function(o,a){if(1&o&&(t.j41(0,"div",0),t.DNE(1,Et,1,1,"azt-loading-effect",1),t.DNE(2,Bt,29,16,"ng-template",null,2,t.C5r),t.k0s()),2&o){const s=t.sdS(3);t.R7$(1),t.Y8G("ngIf",a.statusObj.loading)("ngIfElse",s)}},dependencies:[v.Sq,v.bT,z.K,A.p,y.wp,y.nf],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:#fff;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:#fff;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),r})();function Yt(i,r){if(1&i){const n=t.RV6();t.j41(0,"div",11)(1,"button",12),t.bIt("click",function(){const s=t.eBV(n).$implicit,b=t.XpG(2);return t.Njj(b.showAddOrEditPermissionDialog(void 0,s))}),t.nrm(2,"azt-create-avatar",13),t.k0s()()}if(2&i){const n=r.$implicit;t.R7$(1),t.Y8G("disabled",!n.allowEditPermission),t.R7$(1),t.Y8G("linkAvatar",n.avatar)("nameCreateAvatar",n.fullName)("size",30)}}function Vt(i,r){if(1&i){const n=t.RV6();t.j41(0,"div")(1,"button",14),t.bIt("click",function(){const s=t.eBV(n).$implicit,b=t.XpG(2);return t.Njj(b.showAddOrEditPermissionDialog(s,void 0))}),t.nrm(2,"azt-create-avatar",15),t.k0s()()}if(2&i){const n=r.$implicit,o=r.index,a=t.XpG(2);t.ZvI("w-8 h-8 mb-3 image-fit show-tickets zoom-in -ml-4 ",(null==a.shareDataObj||null==a.shareDataObj.groupObjs?null:a.shareDataObj.groupObjs.length)==o+1?"mr-2":""," "),t.R7$(1),t.Y8G("disabled",!n.allowEditPermission),t.R7$(1),t.Y8G("nameCreateAvatar",n.name)("size",30)}}function Xt(i,r){1&i&&(t.j41(0,"span",16),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&i&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_chia_se")," "))}const Ut=function(i){return{"ml-2":i}};function Kt(i,r){if(1&i){const n=t.RV6();t.j41(0,"div",5)(1,"div"),t.DNE(2,Yt,3,4,"div",6),t.DNE(3,Vt,3,6,"div",7),t.j41(4,"button",8),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.showListPeopleWhoWillShare())}),t.nrm(5,"lucide-icon",9),t.DNE(6,Xt,3,3,"span",10),t.k0s()()()}if(2&i){const n=t.XpG();t.R7$(1),t.HbH(0!=(null==n.shareDataObj||null==n.shareDataObj.teacherObjs?null:n.shareDataObj.teacherObjs.length)||0!=(null==n.shareDataObj||null==n.shareDataObj.groupObjs?null:n.shareDataObj.groupObjs.length)?"pl-4":""),t.R7$(1),t.Y8G("ngForOf",null==n.shareDataObj?null:n.shareDataObj.teacherObjs),t.R7$(1),t.Y8G("ngForOf",null==n.shareDataObj?null:n.shareDataObj.groupObjs),t.R7$(1),t.Y8G("ngClass",t.eq3(7,Ut,0!=(null==n.shareDataObj||null==n.shareDataObj.teacherObjs?null:n.shareDataObj.teacherObjs.length)||0!=(null==n.shareDataObj||null==n.shareDataObj.groupObjs?null:n.shareDataObj.groupObjs.length))),t.R7$(2),t.Y8G("ngIf",!n.isMobileDevice)}}const Jt=function(){return{"mr-2":!0}};function Qt(i,r){if(1&i){const n=t.RV6();t.j41(0,"div",17)(1,"button",18),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.showListPeopleWhoWillShare())}),t.nrm(2,"lucide-icon",19),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&i&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,Jt)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_chia_se")," "))}const Ht=function(i){return{"z-index":i}};function Zt(i,r){if(1&i){const n=t.RV6();t.j41(0,"div",23)(1,"div",24),t.bIt("click",function(){const s=t.eBV(n).$implicit,b=t.XpG(2);return t.Njj(b.showWhoSharePermissionDialog(s))}),t.nrm(2,"azt-create-avatar",25),t.k0s()()}if(2&i){const n=r.$implicit,o=r.index,a=t.XpG(2);let s;t.Y8G("ngStyle",t.eq3(5,Ht,(null!==(s=null==a.shareDataObj||null==a.shareDataObj.teacherObjs?null:a.shareDataObj.teacherObjs.length)&&void 0!==s?s:0)+(null!==(s=null==a.shareDataObj||null==a.shareDataObj.groupObjs?null:a.shareDataObj.groupObjs.length)&&void 0!==s?s:0)-o)),t.R7$(2),t.Y8G("linkAvatar",n.avatar)("nameCreateAvatar",n.fullName)("size",28)("showCheckUser",2==n.permissionStatus||5==n.permissionStatus)}}function qt(i,r){if(1&i&&(t.j41(0,"div",20)(1,"span",21),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,Zt,3,7,"div",22),t.k0s()),2&i){const n=t.XpG();t.R7$(2),t.SpI("",t.bMT(3,2,"lang_auto_giao_vien_chia_se"),":\xa0"),t.R7$(2),t.Y8G("ngForOf",n.whoSharePermission)}}let te=(()=>{var i;class r extends e.H{showAddOrEditPermissionDialog(o,a){this.sAztDialogService.open(B,{data:{groupObj:o,teacherObj:a,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(b=>{b&&this.getTeamPermissionObjs()})}showWhoSharePermissionDialog(o){this.sAztDialogService.open(Lt,{data:{whoSharePermissionObj:o,shareDataObj:this.shareDataObj},restoreFocus:!1}).afterClosed().subscribe(s=>{s&&this.getTeamPermissionObjs()})}showListPeopleWhoWillShare(){this.sAztDialogService.open(Rt,{data:{backToLink:this.backToLink,shareDataObj:this.shareDataObj},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(a=>{a&&this.getTeamPermissionObjs()})}getTeamPermissionObjs(){this.initStatusObj(),this.teacherGroupService.apiTeacherGroupGetTeamPermissionObjsGet(this.objectCodeType,this.objectId).subscribe(o=>{1==o.success?(this.whoSharePermission=o.data?.whoSharePermission??[],this.shareDataObj={objectId:this.objectId,objectCode:this.objectCode,objectCodeType:this.objectCodeType,classroomWithPermissionObj:this.classroomWithPermissionObj,examWithPermissionObj:this.examWithPermissionObj,homeworkWithPermissionObj:this.homeworkWithPermissionObj,categoryWithPermissionObj:this.categoryWithPermissionObj,allGroupPermissionObjs:this.sortService.sortGroupName(o.data?.allGroupPermissionObjs??[]),allTeacherPermissionObjs:this.sortService.sortFirstNameStudents(o.data?.allTeacherPermissionObjs??[]),groupObjs:o.data?.groups??[],teacherObjs:o.data?.teachers??[],ownerObj:o.data?.owner},this.stopStatusObj()):this.errorStatusObj(o.message??"",!0)})}initPermission(){this.classroomWithPermissionObj?(this.permissionObj=this.classroomWithPermissionObj?.permissionObj,this.getTeamPermissionObjs()):this.examWithPermissionObj?(this.permissionObj=this.examWithPermissionObj?.permissionObj,this.getTeamPermissionObjs()):this.homeworkWithPermissionObj?(this.permissionObj=this.homeworkWithPermissionObj?.permissionObj,this.getTeamPermissionObjs()):this.categoryWithPermissionObj&&(this.permissionObj=this.categoryWithPermissionObj?.permissionObj,this.getTeamPermissionObjs())}ngOnChanges(){this.initPermission()}constructor(o,a,s){super(),this.teacherGroupService=o,this.sortService=a,this.sAztDialogService=s,this.backToLink="",this.objectId=0,this.objectCodeType=0,this.typeDisplay="button",this.objectCode="",this.whoSharePermission=[]}}return(i=r).\u0275fac=function(o){return new(o||i)(t.rXU(x.xr),t.rXU(L.g),t.rXU(G.i))},i.\u0275cmp=t.VBU({type:i,selectors:[["azt-share"]],inputs:{backToLink:"backToLink",objectId:"objectId",objectCodeType:"objectCodeType",typeDisplay:"typeDisplay",objectCode:"objectCode",classroomWithPermissionObj:"classroomWithPermissionObj",examWithPermissionObj:"examWithPermissionObj",homeworkWithPermissionObj:"homeworkWithPermissionObj",categoryWithPermissionObj:"categoryWithPermissionObj"},features:[t.Vt3,t.OA$],decls:5,vars:3,consts:[[1,"share-block"],[1,"intro","flex"],["class","share-block-item mt-2",4,"ngIf"],["class","share-block-item w-full",4,"ngIf"],["style","display: flex; align-items: center; margin-top: 0.5rem",4,"ngIf"],[1,"share-block-item","mt-2"],["class","w-8 h-8 mb-2 image-fit show-tickets zoom-in -ml-4",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],["azt-track-service","share-button-box-2Ui6XcNn3Z",1,"btn","btn-sm","btn-outline-secondary",2,"vertical-align","middle",3,"ngClass","click"],["name","share-2","size","16"],["class","ml-2",4,"ngIf"],[1,"w-8","h-8","mb-2","image-fit","show-tickets","zoom-in","-ml-4"],["azt-track-service","share-button-box-vHBJYcuuna",3,"disabled","click"],[3,"linkAvatar","nameCreateAvatar","size"],["azt-track-service","share-button-box-GF6YzJ_wHE",3,"disabled","click"],[3,"nameCreateAvatar","size"],[1,"ml-2"],[1,"share-block-item","w-full"],["azt-track-service","share-button-box-i8iU_Wa_sh",1,"dropdown-item","w-full",3,"click"],["name","share-2","size","16",3,"ngClass"],[2,"display","flex","align-items","center","margin-top","0.5rem"],[2,"font-weight","500"],["class","show-tickets clickable ml-1",3,"ngStyle",4,"ngFor","ngForOf"],[1,"show-tickets","clickable","ml-1",3,"ngStyle"],["azt-track-service","share-button-box-CleLxM4YRRW",3,"click"],[3,"linkAvatar","nameCreateAvatar","size","showCheckUser"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,Kt,7,9,"div",2),t.DNE(3,Qt,5,5,"div",3),t.k0s(),t.DNE(4,qt,5,4,"div",4),t.k0s()),2&o&&(t.R7$(2),t.Y8G("ngIf","button"===a.typeDisplay),t.R7$(1),t.Y8G("ngIf","menu"===a.typeDisplay),t.R7$(1),t.Y8G("ngIf",a.whoSharePermission.length>0&&"button"===a.typeDisplay))},dependencies:[v.YU,v.Sq,v.bT,v.B3,I.WGl,A.p,y.wp],styles:[".content1[_ngcontent-%COMP%]{padding:15px;max-width:400px;min-width:200px;position:inherit!important}.search-form[_ngcontent-%COMP%]{max-width:500px;width:80vw}.content-search[_ngcontent-%COMP%]{max-height:400px;overflow:auto;min-width:220px}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{display:inline-block;position:relative;transition:all .3s;border:1px solid #0110b1!important;border-radius:50%}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.singer-img[_ngcontent-%COMP%]{border-radius:50%;width:30px!important;height:30px!important;font-size:30px!important}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:#fff;color:#000}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:#fff;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}.btn-menu-item-custom[_ngcontent-%COMP%]{line-height:35px;height:35px;color:#2f3542;text-transform:initial}.btn-menu-item-custom[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2f3542;vertical-align:middle;font-size:20px;width:20px;height:20px}img[_ngcontent-%COMP%]{display:initial!important}"]}),r})()}}]);