"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[4412],{42789:(T,x,r)=>{r.d(x,{N:()=>m});var d=r(26860);let c=(()=>{var _;class v{constructor(){this.observer=new IntersectionObserver(g=>{g.forEach(h=>{const p=h.target;h.isIntersecting?(this.reUpdateHeightAttribute(p),p.setAttribute("start_loading","true")):p.setAttribute("start_loading","false")})})}reUpdateHeightAttribute(g){const h=g.getBoundingClientRect();h.height>0&&g.setAttribute("data-current-height",h.height+"px")}observe(g){this.observer.observe(g)}}return(_=v).\u0275fac=function(g){return new(g||_)},_.\u0275prov=d.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),v})(),m=(()=>{var _;class v{constructor(g,h){this.injector=g,this.el=h;const p=this.el.nativeElement;this.injector.get(c).observe(p)}}return(_=v).\u0275fac=function(g){return new(g||_)(d.rXU(d.zZn),d.rXU(d.aKT))},_.\u0275dir=d.FsC({type:_,selectors:[["","load_effect_lazy",""]]}),v})()},64486:(T,x,r)=>{r.d(x,{I:()=>v});var d=r(26860),c=r(59640),m=r(50622),_=r(32639);let v=(()=>{var u;class g extends c.H{constructor(){super(...arguments),this.questionRenderService=(0,d.WQX)(_.g),this.sAztAnswerTrueFalseService=(0,d.WQX)(m.j),this.isDestroyed=!1,this.isInitData=!1}startRenderQuestion(p){if(this.renderConfigObj.disableRender)return this.emitHaveRended(void 0);p&&!this.renderConfigObj.isFirstRender||(p&&this.renderConfigObj.isFirstRender&&(this.renderConfigObj.isFirstRender=!1,this.followerRender.doneItemPartQuest()),this.questionRenderService.parseRenderQuestion(this.baseQuestionObj,this.renderConfigObj.configRenderService).then(()=>{this.baseQuestionObj.answersOrigin=this.sAztAnswerTrueFalseService.checkLabelArrOriginOrMix(this.baseQuestionObj.answers,!0),this.emitHaveRended(void 0)}).catch(b=>{this.emitHaveRended(b.message)}))}emitHaveRended(p){if(!this.isDestroyed&&p)return this.showErrorSnack(p)}initData(p,b,O){this.renderConfigObj=p,this.followerRender=b,this.baseQuestionObj=O,this.isInitData=!0}reRenderContent(){this.isInitData&&this.startRenderQuestion(!1)}ngDoCheck(){if(!this.isInitData||this.renderConfigObj.isRenderElement)return;let p=document.getElementById("question_render_element_"+this.baseQuestionObj.id);if(!p)return;let b=p.getAttribute("start_loading");(this.renderConfigObj.disableLazy||b&&"true"==b)&&(this.renderConfigObj.isRenderElement||(this.startRenderQuestion(!0),this.renderConfigObj.isRenderElement=!0))}ngOnDestroy(){this.isDestroyed=!0,super.ngOnDestroy()}}return(u=g).\u0275fac=function(){let h;return function(b){return(h||(h=d.xGo(u)))(b||u)}}(),u.\u0275cmp=d.VBU({type:u,selectors:[["ng-component"]],features:[d.Vt3],decls:0,vars:0,template:function(p,b){},encapsulation:2}),g})()},66793:(T,x,r)=>{r.d(x,{C:()=>c});var d=r(65106);class c{constructor(_,v,u){this.mathJaxImage=!1,this.disableLazy=!1,this.disableRender=!1,this.isFirstRender=!0,this.isRenderElement=!1,this.configRenderService=new d.y,this.disableLazy=_,this.disableRender=v,this.mathJaxImage=u,this.mathJaxImage&&this.configRenderService.setMaxJaxRenderMode("svg")}}},15423:(T,x,r)=>{r.d(x,{N:()=>h});var d=r(59640),c=r(26860),m=r(54460),_=r(9570),v=r(76975);function u(p,b){1&p&&(c.j41(0,"div",6),c.EFF(1),c.nI1(2,"mytranslate"),c.k0s()),2&p&&(c.R7$(1),c.SpI(" ",c.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac"),"\n"))}const g=function(p){return{display:p}};let h=(()=>{var p;class b extends d.H{constructor(){super(...arguments),this.isShowExplain=!1}}return(p=b).\u0275fac=function(){let O;return function(w){return(O||(O=c.xGo(p)))(w||p)}}(),p.\u0275cmp=c.VBU({type:p,selectors:[["azt-question-explain-box"]],inputs:{isShowExplain:"isShowExplain",questionObj:"questionObj",renderConfigObj:"renderConfigObj"},features:[c.Vt3],decls:6,vars:5,consts:[["class","mt-1 box p-2",4,"ngIf"],[1,"help-content","box","pt-1","pb-3","px-4","py-1","mt-1",2,"display","inherit","border-top-right-radius","0","border-top-left-radius","0","margin-top","-5px","box-shadow","none","overflow","auto","padding-bottom","20px",3,"ngStyle"],["elementGroup",""],[2,"width","fit-content"],["elementHook",""],[3,"content"],[1,"mt-1","box","p-2"]],template:function(j,w){if(1&j&&(c.DNE(0,u,3,3,"div",0),c.j41(1,"div",1,2)(3,"div",3,4),c.nrm(5,"azt-dynamic-hook",5),c.k0s()()),2&j){const S=c.sdS(2),z=c.sdS(4);let k;c.Y8G("ngIf",S.offsetWidth<z.offsetWidth&&w.isMobileDevice),c.R7$(1),c.Y8G("ngStyle",c.eq3(3,g,w.isShowExplain&&w.questionObj.help?"inherit":"none")),c.R7$(4),c.Y8G("content",null!==(k=w.questionObj.help)&&void 0!==k?k:"")}},dependencies:[m.bT,m.B3,_.x,v.wp],styles:['.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262ae!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:#a9a9a9;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),b})()},30657:(T,x,r)=>{r.d(x,{e:()=>d});class d{constructor(){this.totalQuestionRender=0,this.numFollow={renderDone:{num:0,isRun:!1},firstDone:{num:0,isRun:!1},startDone:{num:0,isRun:!1}}}checker(){this.totalQuestionRender===this.numFollow.renderDone.num&&!this.numFollow.renderDone.isRun&&(this.numFollow.renderDone.isRun=!0),this.totalQuestionRender===this.numFollow.firstDone.num&&!this.numFollow.firstDone.isRun&&(this.numFollow.firstDone.isRun=!0)}setNumQuest(m){this.totalQuestionRender=m}doneItemPartQuest(){this.numFollow.firstDone.num++,this.checker()}}},4412:(T,x,r)=>{r.r(x),r.d(x,{AzotaToolsModule:()=>mt});var d=r(54460),c=r(10936),m=r(65162),_=r(69223),v=r(62067),u=r(15343),g=r(10123),h=r(44233),p=r(5502),b=r(21656),O=r(70050),j=r(7050),w=r(91100),S=r(43234),z=r(1133),k=r(27208);class A{constructor(){this.similarQuestionId=void 0,this.searchKeyword=""}isFilter(){return null!=this.similarQuestionId||""!=this.searchKeyword}}var e=r(26860),K=r(65106),N=r(46899),V=r(25539),I=r(59640),y=r(30657),$=r(32639),L=r(7908),Q=r(98133),F=r(17776),Y=r(9280);let q=(()=>{var t;class s extends I.H{constructor(){super(...arguments),this.questionRenderService=(0,e.WQX)($.g),this.configRenderService=new K.y(!0),this.sAztDialogService=(0,e.WQX)(N.i),this.sAztKnowledgeObjectiveService=(0,e.WQX)(L.n),this.aiQuestionBankService=(0,e.WQX)(F.gK),this.questionService=(0,e.WQX)(Y.wP),this.activeRoute=(0,e.WQX)(m.nX),this.followerRenderQuest=new y.e,this.backTo="",this.schoolLevelId=0,this.schoolSubjectId=0,this.bookId=0,this.objectiveId=0,this.objs=[],this.totalSelectedCheckBox=0,this.totalQuestionsAreShow=0,this.filterObj=new A}checkAll(){this.objs.forEach(o=>o.selectedCheckBoxFormControl.setValue(!0)),this.selectedCheckBoxChange()}unCheckAll(){this.objs.forEach(o=>o.selectedCheckBoxFormControl.setValue(!1)),this.selectedCheckBoxChange()}selectedCheckBoxChange(){this.totalSelectedCheckBox=this.objs.filter(o=>o.isShow&&o.selectedCheckBoxFormControl.value).length,this.totalQuestionsAreShow=this.objs.filter(o=>o.isShow).length}rejectQuestions(o){let i={items:o.map(a=>({questionId:a.id,objectiveId:-1}))};o.forEach(a=>a.isRejecting=!0),this.waitDestroy(this.aiQuestionBankService.aiApiV1QuestionBankUpdateObjectiveOfQuestionsByManualPost(i).subscribe({next:a=>{o.forEach(l=>(l.isShow=!1,l.isRejecting=!1)),this.selectedCheckBoxChange(),this.totalQuestionsAreShow<=0&&!this.filterObj.isFilter()&&this.loadMoreQuestions(),this.successStatusObj("lang_cms_update_success",!0)},error:a=>{this.errorStatusObj(a.error.message,!0),o.forEach(l=>l.isRejecting=!1)}}))}approvedThisQuestions(o,i){let a={items:o.map(l=>({questionId:l.id,objectiveId:i}))};o.forEach(l=>l.isApproving=!0),this.waitDestroy(this.aiQuestionBankService.aiApiV1QuestionBankUpdateObjectiveOfQuestionsByManualPost(a).subscribe({next:l=>{o.forEach(f=>(f.isShow=!1,f.isApproving=!1)),this.selectedCheckBoxChange(),this.totalQuestionsAreShow<=0&&!this.filterObj.isFilter()&&this.loadMoreQuestions(),this.successStatusObj("lang_cms_update_success",!0)},error:l=>{this.errorStatusObj(l.error.message,!0),o.forEach(f=>f.isApproving=!1)}}))}approvedAllSelectedQuestions(o){this.approvedThisQuestions(this.objs.filter(i=>i.isShow&&i.selectedCheckBoxFormControl.value),o)}openEditObjectiveDialog(o){this.sAztDialogService.open(Q.i,{data:{levelId:this.schoolLevelId,subjectId:this.schoolSubjectId,bookId:this.bookId,selectedObj:{objectiveId:this.objectiveId},allowSelectKnowledgeOrObjective:"only_objective"},width:"100vw",restoreFocus:!1}).afterClosed().subscribe(a=>{a?.objectiveId&&this.approvedThisQuestions([o],a.objectiveId)})}openEditObjectiveForSelectedDialog(){this.sAztDialogService.open(Q.i,{data:{levelId:this.schoolLevelId,subjectId:this.schoolSubjectId,bookId:this.bookId,selectedObj:{objectiveId:this.objectiveId},allowSelectKnowledgeOrObjective:"only_objective"},width:"100vw",restoreFocus:!1}).afterClosed().subscribe(i=>{i?.objectiveId&&this.approvedAllSelectedQuestions(i.objectiveId)})}loadMoreQuestions(){this.followerRenderQuest=new y.e,this.initStatusObj();let o=this.aiQuestionBankService.aiApiV1QuestionBankGetNotManualAssignObjectiveQuestionsGet(this.objectiveId,50);this.filterObj.similarQuestionId&&(o=this.aiQuestionBankService.aiApiV1QuestionBankGetSimilarQuestionsInObjectiveGet(this.objectiveId,this.filterObj.similarQuestionId)),""!=this.filterObj.searchKeyword&&(o=this.aiQuestionBankService.aiApiV1QuestionBankSearchQuestionsByChatGptInObjectivePost({objectiveId:this.objectiveId,description:this.filterObj.searchKeyword})),this.waitDestroy(o.subscribe({next:i=>{this.waitDestroy(this.questionService.apiQuestionsListPost({ids:i}).subscribe(a=>{this.loadQuest(a.data??[],l=>{this.followerRenderQuest.setNumQuest(this.objs.length),this.objs=l.map(f=>({...f,isApproving:!1,isRejecting:!1,isShow:!0,selectedCheckBoxFormControl:new c.MJ(!!this.filterObj.similarQuestionId,{nonNullable:!0})})),this.selectedCheckBoxChange(),this.stopStatusObj()})}))},error:i=>this.errorStatusObj(i.error.message,!0)}))}loadQuest(o,i){const a=this.commonService.castJsonToClassObjs(V.I,JSON.stringify(o))??[];this.questionRenderService.parseRenderQuestions(a??[],l=>{},this.configRenderService).then(l=>{i(l)}).catch(l=>{this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),i(a)})}getObjectiveInfo(){this.sAztKnowledgeObjectiveService.getKnowledgeByApi(this.schoolLevelId,this.schoolSubjectId,!1,this.bookId,o=>this.curObjectiveObj=this.sAztKnowledgeObjectiveService.getObjByObjectiveId(o,this.objectiveId),o=>this.errorStatusObj(o,!0))}}return(t=s).\u0275fac=function(){let n;return function(i){return(n||(n=e.xGo(t)))(i||t)}}(),t.\u0275cmp=e.VBU({type:t,selectors:[["app-tools-knowledge-base-classification-questions"]],features:[e.Vt3],decls:0,vars:0,template:function(o,i){},styles:["th[_ngcontent-%COMP%]{background-color:#f4f4f4;border:1px solid #ccc}.table-report[_ngcontent-%COMP%]{border-spacing:0 2px!important}.td-question-selected[_ngcontent-%COMP%]{border:1px solid green;border-radius:3px}"]}),s})();var E=r(18718),X=r(11002),U=r(32099),M=r(96451),J=r(42789),W=r(52811),H=r(64486),Z=r(66793),ee=r(5955),te=r(15423),ne=r(9570),C=r(76975);const oe=function(t){return{"skeleton-box-loading":t}};function ie(t,s){if(1&t&&e.nrm(0,"div",2),2&t){const n=e.XpG();e.Y8G("ngClass",e.eq3(1,oe,n.renderConfigObj.isFirstRender))}}function se(t,s){if(1&t&&(e.j41(0,"div",13)(1,"b",14),e.EFF(2),e.nI1(3,"isTrueFalseAnswer"),e.k0s(),e.nrm(4,"azt-dynamic-hook",4),e.k0s()),2&t){const n=s.$implicit,o=e.XpG(3);let i;e.R7$(2),e.JRh(e.bMT(3,2,o.questionObj)?(null!==(i=n.alpha)&&void 0!==i?i:n.key).toLowerCase()+")":(null!==(i=n.alpha)&&void 0!==i?i:n.key)+"."),e.R7$(2),e.Y8G("content",n.content)}}function ae(t,s){if(1&t&&(e.j41(0,"div",11),e.DNE(1,se,5,4,"div",12),e.k0s()),2&t){const n=e.XpG(2);e.Y8G("answerSizeManager",0),e.R7$(1),e.Y8G("ngForOf",n.questionObj.answers)}}function re(t,s){if(1&t&&(e.j41(0,"h2",15),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=e.XpG(2);e.R7$(1),e.Lme(" ",e.bMT(2,2,"lang_auto_dap_an"),": ",n.questionObj.answerResult.length?n.questionObj.answerResult.join(" | "):""," ")}}function le(t,s){1&t&&(e.j41(0,"h2",15),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_tu_luan")," "))}function ce(t,s){if(1&t){const n=e.RV6();e.j41(0,"div",16)(1,"a",17),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.showExplainBox())}),e.EFF(2),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.k0s()()}if(2&t){const n=e.XpG(2);e.R7$(2),e.SpI(" ",n.isShowExplain?e.bMT(3,1,"lang_auto_an_giai_thich"):e.bMT(4,3,"lang_auto_xem_giai_thich")," ")}}function de(t,s){if(1&t&&(e.j41(0,"div",3)(1,"div"),e.nrm(2,"azt-dynamic-hook",4),e.DNE(3,ae,2,2,"div",5),e.nI1(4,"isOneChoiceAnswer"),e.nI1(5,"isTrueFalseAnswer"),e.j41(6,"div",6),e.DNE(7,re,3,4,"h2",7),e.nI1(8,"isEssayAnswer"),e.DNE(9,le,3,3,"ng-template",null,8,e.C5r),e.DNE(11,ce,5,5,"div",9),e.k0s()(),e.nrm(12,"azt-question-explain-box",10),e.k0s()),2&t){const n=e.sdS(10),o=e.XpG();let i;e.R7$(2),e.Y8G("content",null!==(i=o.questionObj.content)&&void 0!==i?i:""),e.R7$(1),e.Y8G("ngIf",(e.bMT(4,8,o.questionObj)||e.bMT(5,10,o.questionObj))&&o.questionObj.answers&&o.questionObj.answers.length>0),e.R7$(4),e.Y8G("ngIf",o.questionObj.answerResult&&!e.bMT(8,12,o.questionObj))("ngIfElse",n),e.R7$(4),e.Y8G("ngIf",o.questionObj.help),e.R7$(1),e.Y8G("isShowExplain",o.isShowExplain)("questionObj",o.questionObj)("renderConfigObj",o.renderConfigObj)}}let pe=(()=>{var t;class s extends H.I{constructor(){super(...arguments),this.follower=new y.e,this.questionLabel="",this.isShowExplain=!1}customQuestionLabel(o){const i=this.commonService.castJsonToObj(o??"")??void 0;return i?.label?i.label:"C\xe2u"}showExplainBox(){this.isShowExplain=!this.isShowExplain}initRenderBox(){let o=new Z.C(!0,!1,!1);super.initData(o,this.follower,this.questionObj),this.questionLabel=this.customQuestionLabel(this.questionObj.expandInfo)+" "+(null!=this.questionObj.labelIndex?this.questionObj.labelIndex:this.questionObj.rawIndex)}ngOnInit(){super.ngOnInit(),this.initRenderBox()}}return(t=s).\u0275fac=function(){let n;return function(i){return(n||(n=e.xGo(t)))(i||t)}}(),t.\u0275cmp=e.VBU({type:t,selectors:[["azt-question-standalone-for-classification-tool"]],inputs:{questionObj:"questionObj",follower:"follower"},features:[e.Vt3],decls:4,vars:2,consts:[["class","question-standalone-loader-box",3,"ngClass",4,"ngIf","ngIfElse"],["elementRended",""],[1,"question-standalone-loader-box",3,"ngClass"],[1,"box","p-3"],[3,"content"],["class","row answers",3,"answerSizeManager",4,"ngIf"],[1,"flex","justify-between"],["class","font-medium text-md text-left text-success mt-3",4,"ngIf","ngIfElse"],["essayAnswer",""],["class","ml-auto mt-1",4,"ngIf"],[2,"display","block",3,"isShowExplain","questionObj","renderConfigObj"],[1,"row","answers",3,"answerSizeManager"],["class","answer col-sm-12 col-md-6",4,"ngFor","ngForOf"],[1,"answer","col-sm-12","col-md-6"],[1,"answer-label"],[1,"font-medium","text-md","text-left","text-success","mt-3"],[1,"ml-auto","mt-1"],["azt-track-service","azt-standalone-question-4zQT3eCoTDc",1,"btn","btn-transparent",2,"user-select","none",3,"click"]],template:function(o,i){if(1&o&&(e.qex(0),e.DNE(1,ie,1,3,"div",0),e.DNE(2,de,13,14,"ng-template",null,1,e.C5r),e.bVm()),2&o){const a=e.sdS(3);e.R7$(1),e.Y8G("ngIf",!i.renderConfigObj.isRenderElement)("ngIfElse",a)}},dependencies:[d.YU,d.Sq,d.bT,ee.C,te.N,ne.x,C.wp,C.V6,C.Zm,C.FC],styles:[".box-content[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #fafafa;margin:15px;box-shadow:2px 2px 5px #eee}.button-icon-feedback[_ngcontent-%COMP%]{color:gray;float:right}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}",'.pr-7[_ngcontent-%COMP%]{padding-right:28px}.w-38px[_ngcontent-%COMP%]{width:38px}.remove-grid[_ngcontent-%COMP%]{display:block!important}.question-standalone-loader-box[_ngcontent-%COMP%]{min-height:50px}  .skeleton-box-loading{width:100%;height:30px;max-width:100%;margin-bottom:5px;display:inline-block}  .skeleton-box-loading:after{position:absolute;top:0;right:0;bottom:0;left:0;transform:translate(-100%);animation:_ngcontent-%COMP%_shimmer 2s infinite;content:""}.question-standalone-box[_ngcontent-%COMP%]{margin-bottom:30px;display:block;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);border-radius:.375rem}.question-standalone-container[_ngcontent-%COMP%]{padding:15px}.question-standalone-for-test-finder[_ngcontent-%COMP%]{border:none;margin-bottom:0;padding:0}.question-standalone-for-test-finder[_ngcontent-%COMP%]   .question-standalone-main-content[_ngcontent-%COMP%]{padding:15px;border:1px solid rgb(228,228,228)}.group-of-question-standalone-for-test-finder[_ngcontent-%COMP%]{padding:15px!important;border:1px solid rgb(228,228,228)!important}.question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid #2262ae!important;outline:3px solid rgba(125,160,201,.65)!important}.group-of-question-standalone-has-selected[_ngcontent-%COMP%]{border:1px solid green!important;outline:3px solid rgba(0,193,0,.321)!important}.question-standalone-label[_ngcontent-%COMP%]{font-weight:700}.question-standalone-content-box[_ngcontent-%COMP%]{position:relative}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]{color:#f44336;position:relative;padding-left:20px;display:flex;align-items:center}.question-standalone-is-invalid-validation[_ngcontent-%COMP%]:before{content:"!";position:absolute;left:0;color:#fff;background:#f44336;width:15px;height:15px;text-align:center;border-radius:50%;font-size:smaller;display:flex;justify-content:center;align-items:center}.question-standalone-step-container-box[_ngcontent-%COMP%]{margin-bottom:50px}.group-content-of-question-standalone[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.answer-label[_ngcontent-%COMP%]{width:20px;height:30px;min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.selected-answer[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff}.answer-content-front[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap;width:calc(100% - 30px)}.explainTxt[_ngcontent-%COMP%]{width:125px;font-weight:500;display:flex;align-items:center}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.border-none[_ngcontent-%COMP%]{border:none!important}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-pending-part[_ngcontent-%COMP%]{width:100%;height:50px}.pencil-edit[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;width:30px;height:30px;border-radius:50%;text-align:center;background:#a9a9a9;z-index:9999}.pencil-edit[_ngcontent-%COMP%]   .lucide[_ngcontent-%COMP%]{color:#fff;stroke-width:2.5px;height:29px}.margin-question-bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 40px)!important}.sheet-screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}  .layout{display:grid;margin:20px 0;grid-row-gap:20px}  .layout-4{grid-template-columns:1fr 1fr 1fr 1fr}  .layout-2{grid-template-columns:1fr 1fr}  .layout-1{grid-template-columns:1fr}  .question-standalone-content-box{max-width:100%;overflow-x:auto;overflow-y:hidden}  #boxContentQuestion .question-standalone-container{max-width:800px}@keyframes _ngcontent-%COMP%_shimmer{to{transform:translate(100%)}}@media (max-width: 768px){.answer-content-front[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}}@media (max-width: 800px){  #boxContentQuestion .question-standalone-container{max-width:calc(90vw - 16px)!important}}']}),s})();function _e(t,s){1&t&&e.nrm(0,"azt-loading-ui",18)}function ue(t,s){1&t&&e.nrm(0,"azt-loading-ui",18)}const ge=function(t){return{"td-question-selected":t}},R=function(){return{"mr-1":!0}};function fe(t,s){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"tr",2)(2,"td")(3,"div",3)(4,"div",4)(5,"input",5),e.bIt("change",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.selectedCheckBoxChangeEvent.emit())}),e.k0s(),e.EFF(6," \xa0 "),e.j41(7,"label",6),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()(),e.j41(10,"div",7)(11,"div",8),e.nrm(12,"azt-question-standalone-for-classification-tool",9),e.k0s()(),e.j41(13,"div",7)(14,"span",10),e.bIt("click",function(){const a=e.eBV(n).$implicit,l=e.XpG();return e.Njj(l.openEditObjectiveDialogEvent.emit(a))}),e.nrm(15,"lucide-icon",11),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s(),e.j41(18,"span"),e.EFF(19," \xa0\xa0|\xa0\xa0 "),e.j41(20,"a",10),e.bIt("click",function(){const a=e.eBV(n).$implicit,l=e.XpG();return e.Njj(l.filterBySimilarQuestionEvent.emit(a))}),e.nrm(21,"lucide-icon",12),e.EFF(22),e.nI1(23,"mytranslate"),e.k0s()()()()(),e.j41(24,"td",13)(25,"span",14),e.bIt("click",function(){const a=e.eBV(n).$implicit,l=e.XpG();return e.Njj(l.approvedThisQuestionsEvent.emit({objs:[a],objectiveId:l.objectiveId}))}),e.DNE(26,_e,1,0,"azt-loading-ui",15),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s(),e.j41(29,"span",16),e.bIt("click",function(){const a=e.eBV(n).$implicit,l=e.XpG();return e.Njj(l.rejectQuestionsEvent.emit([a]))}),e.DNE(30,ue,1,0,"azt-loading-ui",15),e.nrm(31,"lucide-icon",17),e.EFF(32),e.nI1(33,"mytranslate"),e.k0s()()(),e.bVm()}if(2&t){const n=s.$implicit,o=e.XpG();e.R7$(1),e.Y8G("hidden",!n.isShow),e.R7$(2),e.Y8G("ngClass",e.eq3(28,ge,n.selectedCheckBoxFormControl.value)),e.R7$(2),e.Mz_("id","checkbox_for_question_",n.id,""),e.Y8G("formControl",n.selectedCheckBoxFormControl),e.R7$(2),e.Mz_("for","checkbox_for_question_",n.id,""),e.R7$(1),e.JRh(e.bMT(9,18,"lang_azota_tool_knowledge_choose_this_question")),e.R7$(3),e.Y8G("id","question_render_element_"+n.id),e.R7$(1),e.Y8G("follower",o.followerRenderQuest)("questionObj",n),e.R7$(3),e.Y8G("ngClass",e.lJ4(30,R)),e.R7$(1),e.SpI(" ",e.bMT(17,20,"lang_azota_tool_knowledge_edit_objective_button")," "),e.R7$(5),e.Y8G("ngClass",e.lJ4(31,R)),e.R7$(1),e.SpI(" ",e.bMT(23,22,"lang_azota_tool_knowledge_approved_by_similar_question_button")," "),e.R7$(4),e.Y8G("ngIf",n.isApproving),e.R7$(1),e.SpI(" ",e.bMT(28,24,"lang_azota_tool_knowledge_approved_objective_button")," "),e.R7$(3),e.Y8G("ngIf",n.isRejecting),e.R7$(1),e.Y8G("ngClass",e.lJ4(32,R)),e.R7$(1),e.SpI(" ",e.bMT(33,26,"lang_azota_tool_knowledge_question_is_low_quality_button")," ")}}let me=(()=>{var t;class s extends I.H{constructor(){super(...arguments),this.objs=[],this.selectedCheckBoxChangeEvent=new e.bkB,this.openEditObjectiveDialogEvent=new e.bkB,this.approvedThisQuestionsEvent=new e.bkB,this.rejectQuestionsEvent=new e.bkB,this.filterBySimilarQuestionEvent=new e.bkB}}return(t=s).\u0275fac=function(){let n;return function(i){return(n||(n=e.xGo(t)))(i||t)}}(),t.\u0275cmp=e.VBU({type:t,selectors:[["app-tools-knowledge-approve-classification-table"]],inputs:{objs:"objs",schoolLevelId:"schoolLevelId",schoolSubjectId:"schoolSubjectId",bookId:"bookId",objectiveId:"objectiveId",totalSelectedCheckBox:"totalSelectedCheckBox",followerRenderQuest:"followerRenderQuest"},outputs:{selectedCheckBoxChangeEvent:"selectedCheckBoxChangeEvent",openEditObjectiveDialogEvent:"openEditObjectiveDialogEvent",approvedThisQuestionsEvent:"approvedThisQuestionsEvent",rejectQuestionsEvent:"rejectQuestionsEvent",filterBySimilarQuestionEvent:"filterBySimilarQuestionEvent"},features:[e.Vt3],decls:3,vars:1,consts:[[1,"table","table-report","mt-3"],[4,"ngFor","ngForOf"],[3,"hidden"],[1,"p-3",3,"ngClass"],[1,"flex","items-centers"],["type","checkbox",1,"show-code","form-check-input",3,"id","formControl","change"],[1,"form-check-label",3,"for"],[1,"mt-3"],["load_effect_lazy","",1,"question-standalone-box",3,"id"],[3,"follower","questionObj"],[1,"clickable","link-color","link-text",3,"click"],["name","tags","size","16",3,"ngClass"],["name","layers-3","size","16",3,"ngClass"],[1,"w-60","text-center"],[1,"btn","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-danger","mt-8","inline-block","clickable","flex","items-center",3,"click"],["name","octagon-alert","size","16",3,"ngClass"],[1,"mr-1"]],template:function(o,i){1&o&&(e.j41(0,"table",0)(1,"tbody"),e.DNE(2,fe,34,33,"ng-container",1),e.k0s()()),2&o&&(e.R7$(2),e.Y8G("ngForOf",i.objs))},dependencies:[d.YU,d.Sq,d.bT,c.Zm,c.BC,c.l_,J.N,W.R,pe,u.WGl,C.wp],encapsulation:2}),s})();function he(t,s){if(1&t){const n=e.RV6();e.j41(0,"span",2),e.EFF(1),e.nI1(2,"mytranslate"),e.j41(3,"span",3),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.removeFilter())}),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()}if(2&t){const n=e.XpG();e.R7$(1),e.Lme(" ",e.bMT(2,3,"lang_azota_tool_knowledge_approved_similar_question_filter"),": ",n.filterObj.similarQuestionId," "),e.R7$(3),e.JRh(e.bMT(5,5,"lang_common_remove"))}}function be(t,s){if(1&t){const n=e.RV6();e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.j41(3,"span",3),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.removeFilter())}),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()}2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,2,"lang_azota_tool_knowledge_approved_search_by_keyword_filter")," "),e.R7$(3),e.JRh(e.bMT(5,4,"lang_common_remove")))}let Ce=(()=>{var t;class s extends I.H{constructor(){super(...arguments),this.changeFilterObjEvent=new e.bkB}removeFilter(){this.filterObj=new A,this.changeFilterObjEvent.emit(this.filterObj)}}return(t=s).\u0275fac=function(){let n;return function(i){return(n||(n=e.xGo(t)))(i||t)}}(),t.\u0275cmp=e.VBU({type:t,selectors:[["app-tools-knowledge-approve-classification-filter-box"]],inputs:{filterObj:"filterObj"},outputs:{changeFilterObjEvent:"changeFilterObjEvent"},features:[e.Vt3],decls:2,vars:2,consts:[["class","mr-3",4,"ngIf"],[4,"ngIf"],[1,"mr-3"],[1,"text-danger","clickable",3,"click"]],template:function(o,i){1&o&&(e.DNE(0,he,6,7,"span",0),e.DNE(1,be,6,6,"span",1)),2&o&&(e.Y8G("ngIf",i.filterObj.similarQuestionId),e.R7$(1),e.Y8G("ngIf",""!=i.filterObj.searchKeyword))},dependencies:[d.bT,C.wp],encapsulation:2}),s})();function ve(t,s){if(1&t){const n=e.RV6();e.j41(0,"span",12),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.totalSelectedCheckBox!=i.totalQuestionsAreShow?i.checkAll():i.unCheckAll())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}if(2&t){const n=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,n.totalSelectedCheckBox!=n.totalQuestionsAreShow?"lang_select_all":"lang_remove_all")," ")}}function xe(t,s){if(1&t){const n=e.RV6();e.j41(0,"span"),e.EFF(1," \xa0\xa0|\xa0\xa0 "),e.j41(2,"span",12),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.openEditObjectiveForSelectedDialog())}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.EFF(5," \xa0\xa0|\xa0\xa0 "),e.j41(6,"span",12),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.approvedAllSelectedQuestions(i.objectiveId))}),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()()}if(2&t){const n=e.XpG();e.R7$(3),e.Lme("",e.bMT(4,4,"lang_azota_tool_knowledge_edit_objective_for_all_selected_button")," (",n.totalSelectedCheckBox,")"),e.R7$(4),e.Lme("",e.bMT(8,6,"lang_azota_tool_knowledge_approved_objective_for_all_selected_button")," (",n.totalSelectedCheckBox,")")}}function Oe(t,s){if(1&t&&e.nrm(0,"azt-loading-effect",13),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function we(t,s){if(1&t){const n=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(n);const i=e.XpG(2);return e.Njj(i.loadMoreQuestions())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_azota_tool_knowledge_reload_list_questions")," "))}function Te(t,s){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_azota_tool_knowledge_list_questions_are_empty")," "))}function je(t,s){if(1&t){const n=e.RV6();e.j41(0,"app-tools-knowledge-approve-classification-table",14),e.bIt("selectedCheckBoxChangeEvent",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.selectedCheckBoxChange())})("openEditObjectiveDialogEvent",function(i){e.eBV(n);const a=e.XpG();return e.Njj(a.openEditObjectiveDialog(i))})("openEditObjectiveForSelectedDialogEvent",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.openEditObjectiveForSelectedDialog())})("approvedThisQuestionsEvent",function(i){e.eBV(n);const a=e.XpG();return e.Njj(a.approvedThisQuestions(i.objs,i.objectiveId))})("rejectQuestionsEvent",function(i){e.eBV(n);const a=e.XpG();return e.Njj(a.rejectQuestions(i))})("filterBySimilarQuestionEvent",function(i){e.eBV(n);const a=e.XpG();return e.Njj(a.filterBySimilarQuestion(i))}),e.k0s(),e.DNE(1,we,3,3,"div",15),e.DNE(2,Te,3,3,"span",9)}if(2&t){const n=e.XpG();e.Y8G("objs",n.objs)("schoolLevelId",n.schoolLevelId)("schoolSubjectId",n.schoolSubjectId)("bookId",n.bookId)("objectiveId",n.objectiveId)("totalSelectedCheckBox",n.totalSelectedCheckBox)("followerRenderQuest",n.followerRenderQuest),e.R7$(1),e.Y8G("ngIf",n.objs.length>0&&!n.filterObj.isFilter()),e.R7$(1),e.Y8G("ngIf",n.objs.length<=0||n.totalQuestionsAreShow<=0&&n.filterObj.isFilter())}}let ke=(()=>{var t;class s extends q{constructor(){super(...arguments),this.searchContentObj=new k.Z}onChangeFilterObj(o){this.filterObj=o,""==this.filterObj.searchKeyword&&this.searchContentObj.resetSearchContentEvent("NOT_EMIT_EVENT"),this.loadMoreQuestions()}filterBySimilarQuestion(o){this.filterObj=new A,this.filterObj.similarQuestionId=o.id,""==this.filterObj.searchKeyword&&this.searchContentObj.resetSearchContentEvent("NOT_EMIT_EVENT"),this.loadMoreQuestions()}onSearchBox(o){this.filterObj=new A,this.filterObj.searchKeyword=o.searchContent,this.searchContentObj=o,this.loadMoreQuestions()}ngOnInit(){super.ngOnInit(),this.schoolLevelId=Number(this.commonService.getMyParam(this.activeRoute,"levelId")??0),this.schoolSubjectId=Number(this.commonService.getMyParam(this.activeRoute,"subjectId")??0),this.bookId=Number(this.commonService.getMyParam(this.activeRoute,"bookId")??0),this.objectiveId=Number(this.commonService.getMyParam(this.activeRoute,"objectiveId")??0),this.backTo=`/azota-tools/knowledge-tree-classification/${this.schoolLevelId}/${this.schoolSubjectId}/${this.bookId}`,this.loadMoreQuestions(),this.getObjectiveInfo()}}return(t=s).\u0275fac=function(){let n;return function(i){return(n||(n=e.xGo(t)))(i||t)}}(),t.\u0275cmp=e.VBU({type:t,selectors:[["app-tools-knowledge-approve-classification-for-objective"]],features:[e.Vt3],decls:18,vars:20,consts:[[3,"headerBackToLink"],[3,"colorBackground","defaultHeight"],[1,"w-full"],[1,"mt-3","font-medium","box","p-3"],[3,"innerHtml"],[1,"mt-3"],[3,"isManualSearch","searchContentObj","placeholder","onSearch"],[1,"block","mt-3",3,"filterObj","changeFilterObjEvent"],["class","clickable link-color",3,"click",4,"ngIf"],[4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"clickable","link-color",3,"click"],[3,"currentStatusObj"],[3,"objs","schoolLevelId","schoolSubjectId","bookId","objectiveId","totalSelectedCheckBox","followerRenderQuest","selectedCheckBoxChangeEvent","openEditObjectiveDialogEvent","openEditObjectiveForSelectedDialogEvent","approvedThisQuestionsEvent","rejectQuestionsEvent","filterBySimilarQuestionEvent"],["class","text-center clickable link-color link-text mt-3",3,"click",4,"ngIf"],[1,"text-center","clickable","link-color","link-text","mt-3",3,"click"]],template:function(o,i){if(1&o&&(e.j41(0,"teacher-layout",0)(1,"flexed-on-the-top",1)(2,"div",2)(3,"div",3),e.nrm(4,"div",4),e.nI1(5,"safeContentQuestion"),e.nI1(6,"async"),e.nI1(7,"mathJaxContent"),e.j41(8,"div",5)(9,"azt-search-box",6),e.bIt("onSearch",function(l){return i.onSearchBox(l.searchObj)}),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"app-tools-knowledge-approve-classification-filter-box",7),e.bIt("changeFilterObjEvent",function(l){return i.onChangeFilterObj(l)}),e.k0s()(),e.j41(12,"div",5),e.DNE(13,ve,3,3,"span",8),e.DNE(14,xe,9,8,"span",9),e.k0s()()()(),e.DNE(15,Oe,1,1,"azt-loading-effect",10),e.DNE(16,je,3,9,"ng-template",null,11,e.C5r),e.k0s()),2&o){const a=e.sdS(17);e.Y8G("headerBackToLink",i.backTo),e.R7$(1),e.Y8G("colorBackground","#f0f8ffe8")("defaultHeight",""),e.R7$(3),e.Y8G("innerHtml",e.bMT(5,12,e.bMT(6,14,e.bMT(7,16,null==i.curObjectiveObj?null:i.curObjectiveObj.title))),e.npT),e.R7$(5),e.Y8G("isManualSearch",!0)("searchContentObj",i.searchContentObj)("placeholder",e.bMT(10,18,"lang_common_search_by_name")),e.R7$(2),e.Y8G("filterObj",i.filterObj),e.R7$(2),e.Y8G("ngIf",i.totalQuestionsAreShow>0),e.R7$(1),e.Y8G("ngIf",i.totalSelectedCheckBox>0),e.R7$(1),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",a)}},dependencies:[d.bT,E.K,X.$,U.W,M.Q,me,Ce,d.Jj,C.wp,C.km,C.ep],encapsulation:2}),s})();var B=r(51614),G=r(50334);function Ie(t,s){1&t&&e.eu8(0)}function Ae(t,s){1&t&&e.nrm(0,"lucide-icon",17)}function Se(t,s){1&t&&e.nrm(0,"lucide-icon",18)}function ze(t,s){if(1&t&&(e.j41(0,"i"),e.DNE(1,Ae,1,0,"lucide-icon",15),e.DNE(2,Se,1,0,"lucide-icon",16),e.k0s()),2&t){const n=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",n.isExpand),e.R7$(1),e.Y8G("ngIf",!n.isExpand)}}function ye(t,s){1&t&&(e.j41(0,"i"),e.nrm(1,"lucide-icon",19),e.k0s())}const Fe=function(t){return[t]};function Ee(t,s){if(1&t&&(e.j41(0,"span",20),e.nI1(1,"navigationLocalize"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&t){const n=e.XpG().$implicit,o=e.XpG(3);e.Y8G("routerLink",e.eq3(6,Fe,e.bMT(1,2,"/azota-tools/knowledge-tree-approve-classification-for-objective/"+o.form.controls.schoolLevel.value+"/"+o.form.controls.schoolSubject.value+"/"+o.form.controls.bookIdFormControl.value+"/"+n.data.objectiveId))),e.R7$(2),e.SpI(" ",e.bMT(3,4,"lang_tool_knowledge_start_approve_questions")," ")}}function Me(t,s){1&t&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_tool_knowledge_approved_all_questions")))}function Re(t,s){1&t&&e.eu8(0)}const D=function(t){return{nodeObjs:t}};function Qe(t,s){if(1&t&&(e.qex(0),e.DNE(1,Re,1,0,"ng-container",3),e.bVm()),2&t){const n=e.XpG().$implicit;e.XpG(3);const o=e.sdS(13);e.R7$(1),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.eq3(2,D,n.children))}}const Be=function(t){return{"text-danger":t}};function Ge(t,s){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"tr",7)(2,"td",8)(3,"div",9),e.bIt("click",function(){const a=e.eBV(n).$implicit,l=e.XpG(3);return e.Njj(l.clickToNode(a))}),e.DNE(4,ze,3,2,"i",5),e.DNE(5,ye,2,0,"i",5),e.j41(6,"label",10),e.nrm(7,"span",11),e.nI1(8,"safeContentQuestion"),e.nI1(9,"async"),e.nI1(10,"mathJaxContent"),e.k0s()()(),e.j41(11,"td",12),e.EFF(12),e.j41(13,"span",13),e.EFF(14),e.k0s()(),e.j41(15,"td",1),e.DNE(16,Ee,4,8,"span",14),e.DNE(17,Me,3,3,"span",5),e.k0s()(),e.DNE(18,Qe,2,4,"ng-container",5),e.bVm()}if(2&t){const n=s.$implicit;e.R7$(1),e.Y8G("hidden",!n.isShow),e.R7$(1),e.xc7("padding-left",14*(n.level+1),"px"),e.R7$(2),e.Y8G("ngIf",n.children.length),e.R7$(1),e.Y8G("ngIf",!n.children.length),e.R7$(2),e.Y8G("innerHTML",e.bMT(8,12,e.bMT(9,14,e.bMT(10,16,"L"+(n.level+1)+". "+n.text))),e.npT),e.R7$(5),e.SpI(" ",n.data.numberOfManualQuestions," / "),e.R7$(1),e.Y8G("ngClass",e.eq3(18,Be,n.data.numberOfNotManualQuestions>0)),e.R7$(1),e.JRh(n.data.numberOfNotManualQuestions),e.R7$(2),e.Y8G("ngIf",n.data.objectiveId&&n.data.numberOfNotManualQuestions>0),e.R7$(1),e.Y8G("ngIf",n.data.numberOfNotManualQuestions<=0),e.R7$(1),e.Y8G("ngIf",n.isExpand)}}function De(t,s){if(1&t&&(e.qex(0),e.DNE(1,Ge,19,20,"ng-container",6),e.bVm()),2&t){const n=s.$implicit;e.R7$(1),e.Y8G("ngForOf",n)}}function Pe(t,s){if(1&t&&e.DNE(0,De,2,1,"ng-container",5),2&t){const n=s.nodeObjs,o=e.XpG();e.Y8G("ngIf",o.asTemplateDataObj(n))}}let Ke=(()=>{var t;class s extends G.C{constructor(){super(...arguments),this.nodeObjs=[]}clickToNode(o){o.children.length&&(o.isExpand?this.collapse(o):this.expand(o))}asTemplateDataObj(o){return o}standardTreeNodes(o,i){let a=[];return o.forEach(l=>{let f={level:i,typeNode:l.objectiveId?"objective":"knowledge",isExpand:!0,isShow:!0,isSelected:!1,text:l.title,data:{...l,children:[]},children:[]};f.children=this.standardTreeNodes(l.children,i+1),a.push(f)}),a}ngOnInit(){this.nodeObjs=this.standardTreeNodes(this.rawNodes,0)}}return(t=s).\u0275fac=function(){let n;return function(i){return(n||(n=e.xGo(t)))(i||t)}}(),t.\u0275cmp=e.VBU({type:t,selectors:[["app-tools-view-knowledge-tree-for-classification"]],inputs:{rawNodes:"rawNodes",form:"form"},features:[e.Vt3],decls:14,vars:10,consts:[[1,"table","table-report"],[1,"text-center"],[1,"text-center","w-48"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["recursiveListTmpl",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"hidden"],[2,"max-width","500px"],[1,"clickable",3,"click"],[1,"form-check-label"],[3,"innerHTML"],[1,"text-right"],[3,"ngClass"],["class","btn btn-primary",3,"routerLink",4,"ngIf"],["name","chevron-down","size","14",4,"ngIf"],["name","chevron-right","size","14",4,"ngIf"],["name","chevron-down","size","14"],["name","chevron-right","size","14"],["name","send-horizontal","size","14"],[1,"btn","btn-primary",3,"routerLink"]],template:function(o,i){if(1&o&&(e.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e.EFF(4,"\xa0"),e.k0s(),e.j41(5,"th",2),e.EFF(6),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.k0s(),e.nrm(9,"th",2),e.k0s()(),e.j41(10,"tbody"),e.DNE(11,Ie,1,0,"ng-container",3),e.k0s()(),e.DNE(12,Pe,1,1,"ng-template",null,4,e.C5r)),2&o){const a=e.sdS(13);e.R7$(6),e.Lme("",e.bMT(7,4,"lang_tool_knowledge_manual_approved")," / ",e.bMT(8,6,"lang_tool_knowledge_manual_not_approved"),""),e.R7$(5),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(8,D,i.nodeObjs))}},dependencies:[m.Wk,d.YU,d.Sq,d.bT,d.T3,u.WGl,d.Jj,C.F2,C.wp,C.km,C.ep],styles:["th[_ngcontent-%COMP%]{background-color:#f4f4f4;border:1px solid #ccc}.table-report[_ngcontent-%COMP%]{border-spacing:0 2px!important}"]}),s})();function Ne(t,s){if(1&t&&e.nrm(0,"azt-loading-effect",5),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function Ve(t,s){if(1&t&&e.nrm(0,"app-tools-view-knowledge-tree-for-classification",7),2&t){const n=e.XpG(2);e.Y8G("form",n.form)("rawNodes",n.nodes)}}function $e(t,s){if(1&t&&e.DNE(0,Ve,1,2,"app-tools-view-knowledge-tree-for-classification",6),2&t){const n=e.XpG();e.Y8G("ngIf",n.nodes.length)}}let Le=(()=>{var t;class s extends I.H{changeLevelSubjectBookEvent(){let o=this.form.getRawValue();this.commonService.myNavigation("/azota-tools/knowledge-tree-classification/"+o.schoolLevel+"/"+o.schoolSubject+"/"+o.bookIdFormControl),this.initStatusObj(),this.waitDestroy(this.aiElearningService.aiApiV1ElearningGetKnowledgeTreeForClassificationGet(o.schoolLevel,o.schoolSubject,o.bookIdFormControl>0?o.bookIdFormControl:void 0).subscribe({next:i=>{this.nodes=i.nodes,this.stopStatusObj()},error:i=>this.errorStatusObj(i.error.message,!0)}))}ngOnInit(){super.ngOnInit(),this.commonService.translateMetaData({title:"lang_cms_admin_tools_knowledge_tree_classification_title",description:"lang_cms_admin_tools_knowledge_tree_classification_title",image:"lang_cms_test_image"});let o=Number(this.commonService.getMyParam(this.activeRoute,"levelId")??0),i=Number(this.commonService.getMyParam(this.activeRoute,"subjectId")??0),a=Number(this.commonService.getMyParam(this.activeRoute,"bookId")??0);this.form.controls.schoolLevel.setValue(o),this.form.controls.schoolSubject.setValue(i),this.form.controls.bookIdFormControl.setValue(a)}constructor(o,i){super(),this.aiElearningService=o,this.activeRoute=i,this.backTo="/super-role/admin-tool",this.nodes=[],this.form=new c.gE({schoolLevel:new c.MJ(0,{nonNullable:!0}),schoolSubject:new c.MJ(0,{nonNullable:!0}),bookIdFormControl:new c.MJ(0,{nonNullable:!0})})}}return(t=s).\u0275fac=function(o){return new(o||t)(e.rXU(F.T5),e.rXU(m.nX))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-tools-knowledge-tree-classification"]],features:[e.Vt3],decls:6,vars:8,consts:[[3,"headerBackToLink"],[1,"mt-3","mb-3"],[3,"form","removeLevelSubjectWithOtherName","showBookData","useFirstAsDefault","layout","changeDataEvent"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"form","rawNodes",4,"ngIf"],[3,"form","rawNodes"]],template:function(o,i){if(1&o&&(e.j41(0,"teacher-layout",0)(1,"div",1)(2,"config-level-subject-book",2),e.bIt("changeDataEvent",function(){return i.changeLevelSubjectBookEvent()}),e.k0s()(),e.DNE(3,Ne,1,1,"azt-loading-effect",3),e.DNE(4,$e,1,1,"ng-template",null,4,e.C5r),e.k0s()),2&o){const a=e.sdS(5);e.Y8G("headerBackToLink",i.backTo),e.R7$(2),e.Y8G("form",i.form)("removeLevelSubjectWithOtherName",!0)("showBookData",!0)("useFirstAsDefault",!0)("layout","label_in_one_line"),e.R7$(1),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",a)}},dependencies:[d.bT,E.K,B.X,M.Q,Ke],encapsulation:2}),s})();var Ye=r(99927);let qe=(()=>{var t;class s{constructor(){this.recognition=1,this.understanding=2,this.practicalApplication=3,this.higherLevelApplication=4}isRecognition(o){return o==this.recognition}isUnderstanding(o){return o==this.understanding}isPracticalApplication(o){return o==this.practicalApplication}isHigherLevelApplication(o){return o==this.higherLevelApplication}}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();function Xe(t,s){if(1&t&&(e.j41(0,"th",10),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=s.$implicit;e.R7$(1),e.JRh(e.bMT(2,1,"lang_tool_knowledge_answer_type_"+n))}}function Ue(t,s){if(1&t&&(e.j41(0,"th",12),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&t){const n=s.$implicit;e.R7$(1),e.JRh(e.bMT(2,1,"lang_tool_knowledge_difficulty_index_"+n))}}function Je(t,s){if(1&t&&(e.qex(0),e.DNE(1,Ue,3,3,"th",11),e.bVm()),2&t){const n=e.XpG();e.R7$(1),e.Y8G("ngForOf",n.difficultyIndexes)}}function We(t,s){1&t&&e.eu8(0)}function He(t,s){1&t&&e.nrm(0,"lucide-icon",21)}function Ze(t,s){1&t&&e.nrm(0,"lucide-icon",22)}function et(t,s){if(1&t&&(e.j41(0,"i"),e.DNE(1,He,1,0,"lucide-icon",19),e.DNE(2,Ze,1,0,"lucide-icon",20),e.k0s()),2&t){const n=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",n.isExpand),e.R7$(1),e.Y8G("ngIf",!n.isExpand)}}function tt(t,s){1&t&&(e.j41(0,"i"),e.nrm(1,"lucide-icon",23),e.k0s())}const nt=function(t){return{"text-danger":t}};function ot(t,s){if(1&t&&(e.qex(0),e.j41(1,"td",24),e.EFF(2),e.k0s(),e.bVm()),2&t){const n=s.$implicit,o=e.XpG().$implicit,i=e.XpG().$implicit,a=e.XpG(3);let l,f;e.R7$(1),e.Y8G("ngClass",e.eq3(2,nt,(null!==(l=null==(l=a.findQuestionObj(i.data.questions,o,n))?null:l.total)&&void 0!==l?l:0)<=a.filterTotalQuestionFormControl.value)),e.R7$(1),e.SpI(" ",null!==(f=null==(f=a.findQuestionObj(i.data.questions,o,n))?null:f.total)&&void 0!==f?f:0," ")}}function it(t,s){if(1&t&&(e.qex(0),e.DNE(1,ot,3,4,"ng-container",7),e.bVm()),2&t){const n=e.XpG(4);e.R7$(1),e.Y8G("ngForOf",n.difficultyIndexes)}}function st(t,s){1&t&&e.eu8(0)}const P=function(t){return{nodeObjs:t}};function at(t,s){if(1&t&&(e.qex(0),e.DNE(1,st,1,0,"ng-container",8),e.bVm()),2&t){const n=e.XpG().$implicit;e.XpG(3);const o=e.sdS(17);e.R7$(1),e.Y8G("ngTemplateOutlet",o)("ngTemplateOutletContext",e.eq3(2,P,n.children))}}function rt(t,s){if(1&t){const n=e.RV6();e.qex(0),e.j41(1,"tr",14)(2,"td",15)(3,"div",16),e.bIt("click",function(){const a=e.eBV(n).$implicit,l=e.XpG(3);return e.Njj(l.clickToNode(a))}),e.DNE(4,et,3,2,"i",13),e.DNE(5,tt,2,0,"i",13),e.j41(6,"label",17),e.nrm(7,"span",18),e.nI1(8,"safeContentQuestion"),e.nI1(9,"async"),e.nI1(10,"mathJaxContent"),e.k0s()()(),e.DNE(11,it,2,1,"ng-container",7),e.k0s(),e.DNE(12,at,2,4,"ng-container",13),e.bVm()}if(2&t){const n=s.$implicit,o=e.XpG(3);e.R7$(1),e.Y8G("hidden",!n.isShow),e.R7$(1),e.xc7("padding-left",14*(n.level+1),"px"),e.R7$(2),e.Y8G("ngIf",n.children.length),e.R7$(1),e.Y8G("ngIf",!n.children.length),e.R7$(2),e.Y8G("innerHTML",e.bMT(8,8,e.bMT(9,10,e.bMT(10,12,"L"+(n.level+1)+". "+n.text))),e.npT),e.R7$(4),e.Y8G("ngForOf",o.answerTypes),e.R7$(1),e.Y8G("ngIf",n.isExpand)}}function lt(t,s){if(1&t&&(e.qex(0),e.DNE(1,rt,13,14,"ng-container",7),e.bVm()),2&t){const n=s.$implicit;e.R7$(1),e.Y8G("ngForOf",n)}}function ct(t,s){if(1&t&&e.DNE(0,lt,2,1,"ng-container",13),2&t){const n=s.nodeObjs,o=e.XpG();e.Y8G("ngIf",o.asTemplateDataObj(n))}}let dt=(()=>{var t;class s extends G.C{constructor(){super(...arguments),this.nodeObjs=[],this.filterTotalQuestionFormControl=new c.MJ(20,{nonNullable:!0}),this.sAztAnswerTypeService=(0,e.WQX)(Ye._),this.sAztQuestionDifficultyIndexService=(0,e.WQX)(qe),this.answerTypes=[this.sAztAnswerTypeService.oneChoiceAnswer,this.sAztAnswerTypeService.fillAnswer,this.sAztAnswerTypeService.trueFalseAnswer],this.difficultyIndexes=[this.sAztQuestionDifficultyIndexService.recognition,this.sAztQuestionDifficultyIndexService.understanding,this.sAztQuestionDifficultyIndexService.practicalApplication]}clickToNode(o){o.children.length&&(o.isExpand?this.collapse(o):this.expand(o))}findQuestionObj(o,i,a){return o.find(l=>l.answerType==i&&l.difficultyIndex==a)}asTemplateDataObj(o){return o}standardTreeNodes(o,i){let a=[];return o.forEach(l=>{let f={level:i,typeNode:l.objectiveId?"objective":"knowledge",isExpand:!0,isShow:!0,isSelected:!1,text:l.title,data:{...l,children:[]},children:[]};f.children=this.standardTreeNodes(l.children,i+1),a.push(f)}),a}ngOnInit(){this.nodeObjs=this.standardTreeNodes(this.rawNodes,0)}}return(t=s).\u0275fac=function(){let n;return function(i){return(n||(n=e.xGo(t)))(i||t)}}(),t.\u0275cmp=e.VBU({type:t,selectors:[["app-tools-view-knowledge-tree-for-statistic"]],inputs:{rawNodes:"rawNodes"},features:[e.Vt3],decls:18,vars:10,consts:[[1,"mb-3","box","p-3"],[1,"flex","items-center"],[1,"mr-2","flex-none"],["type","number","min","0",1,"form-control","ml-2",3,"formControl"],[1,"table","table-report"],["rowspan","2",1,"text-center"],["colspan","3","class","text-center",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["recursiveListTmpl",""],["colspan","3",1,"text-center"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[4,"ngIf"],[3,"hidden"],[2,"max-width","500px"],[1,"clickable",3,"click"],[1,"form-check-label"],[3,"innerHTML"],["name","chevron-down","size","14",4,"ngIf"],["name","chevron-right","size","14",4,"ngIf"],["name","chevron-down","size","14"],["name","chevron-right","size","14"],["name","send-horizontal","size","14"],[1,"text-center",3,"ngClass"]],template:function(o,i){if(1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"label",2),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.nrm(5,"input",3),e.k0s()(),e.j41(6,"table",4)(7,"thead")(8,"tr")(9,"th",5),e.EFF(10,"\xa0"),e.k0s(),e.DNE(11,Xe,3,3,"th",6),e.k0s(),e.j41(12,"tr"),e.DNE(13,Je,2,1,"ng-container",7),e.k0s()(),e.j41(14,"tbody"),e.DNE(15,We,1,0,"ng-container",8),e.k0s()(),e.DNE(16,ct,1,1,"ng-template",null,9,e.C5r)),2&o){const a=e.sdS(17);e.R7$(3),e.JRh(e.bMT(4,6,"lang_tool_knowledge_filter_by_total_question")),e.R7$(2),e.Y8G("formControl",i.filterTotalQuestionFormControl),e.R7$(6),e.Y8G("ngForOf",i.answerTypes),e.R7$(2),e.Y8G("ngForOf",i.answerTypes),e.R7$(2),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(8,P,i.nodeObjs))}},dependencies:[d.YU,d.Sq,d.bT,d.T3,c.me,c.Q0,c.BC,c.VZ,c.l_,u.WGl,d.Jj,C.wp,C.km,C.ep],styles:["th[_ngcontent-%COMP%]{background-color:#f4f4f4;border:1px solid #ccc}.table-report[_ngcontent-%COMP%]{border-spacing:0 2px!important}"]}),s})();function pt(t,s){if(1&t&&e.nrm(0,"azt-loading-effect",5),2&t){const n=e.XpG();e.Y8G("currentStatusObj",n.statusObj)}}function _t(t,s){if(1&t&&e.nrm(0,"app-tools-view-knowledge-tree-for-statistic",7),2&t){const n=e.XpG(2);e.Y8G("rawNodes",n.nodes)}}function ut(t,s){if(1&t&&e.DNE(0,_t,1,1,"app-tools-view-knowledge-tree-for-statistic",6),2&t){const n=e.XpG();e.Y8G("ngIf",n.nodes.length)}}const gt=[{path:"",children:[{path:"knowledge-tree-statistic/:levelId/:subjectId/:bookId",component:(()=>{var t;class s extends I.H{changeLevelSubjectBookEvent(){let o=this.form.getRawValue();this.commonService.myNavigation("/azota-tools/knowledge-tree-statistic/"+o.schoolLevel+"/"+o.schoolSubject+"/"+o.bookIdFormControl),this.initStatusObj(),this.waitDestroy(this.aiElearningService.aiApiV1ElearningGetKnowledgeTreeGet(o.schoolLevel,o.schoolSubject,!0,o.bookIdFormControl>0?o.bookIdFormControl:void 0).subscribe({next:i=>{this.nodes=i.nodes,this.stopStatusObj()},error:i=>{this.nodes=[],this.errorStatusObj(i.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.commonService.translateMetaData({title:"lang_cms_admin_tools_knowledge_tree_statistic_title",description:"lang_cms_admin_tools_knowledge_tree_statistic_title",image:"lang_cms_test_image"});let o=Number(this.commonService.getMyParam(this.activeRoute,"levelId")??0),i=Number(this.commonService.getMyParam(this.activeRoute,"subjectId")??0),a=Number(this.commonService.getMyParam(this.activeRoute,"bookId")??0);this.form.controls.schoolLevel.setValue(o),this.form.controls.schoolSubject.setValue(i),this.form.controls.bookIdFormControl.setValue(a)}constructor(o,i){super(),this.aiElearningService=o,this.activeRoute=i,this.backTo="/super-role/admin-tool",this.nodes=[],this.form=new c.gE({schoolLevel:new c.MJ(0,{nonNullable:!0}),schoolSubject:new c.MJ(0,{nonNullable:!0}),bookIdFormControl:new c.MJ(0,{nonNullable:!0})})}}return(t=s).\u0275fac=function(o){return new(o||t)(e.rXU(F.T5),e.rXU(m.nX))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-tools-knowledge-tree-statistic"]],features:[e.Vt3],decls:6,vars:8,consts:[[3,"headerBackToLink"],[1,"mt-3","mb-3"],[3,"form","removeLevelSubjectWithOtherName","showBookData","useFirstAsDefault","layout","changeDataEvent"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"rawNodes",4,"ngIf"],[3,"rawNodes"]],template:function(o,i){if(1&o&&(e.j41(0,"teacher-layout",0)(1,"div",1)(2,"config-level-subject-book",2),e.bIt("changeDataEvent",function(){return i.changeLevelSubjectBookEvent()}),e.k0s()(),e.DNE(3,pt,1,1,"azt-loading-effect",3),e.DNE(4,ut,1,1,"ng-template",null,4,e.C5r),e.k0s()),2&o){const a=e.sdS(5);e.Y8G("headerBackToLink",i.backTo),e.R7$(2),e.Y8G("form",i.form)("removeLevelSubjectWithOtherName",!0)("showBookData",!0)("useFirstAsDefault",!0)("layout","label_in_one_line"),e.R7$(1),e.Y8G("ngIf",i.statusObj.loading)("ngIfElse",a)}},dependencies:[d.bT,E.K,B.X,M.Q,dt],encapsulation:2}),s})()},{path:"knowledge-tree-classification/:levelId/:subjectId/:bookId",component:Le},{path:"knowledge-tree-approve-classification-for-objective/:levelId/:subjectId/:bookId/:objectiveId",component:ke}]}];let ft=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[m.iI.forChild(gt),m.iI,z.XE]}),s})(),mt=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({providers:[{provide:_.vn,useValue:S.c.azt_tiny_mce_script_src}],imports:[m.iI,d.MD,c.YN,_.sv,b.s,c.X1,ft,w.Q,O.L,p.Id,j.b,u.flO.pick(u.Ptg),g.AC,v.DL,h.An]}),s})()}}]);