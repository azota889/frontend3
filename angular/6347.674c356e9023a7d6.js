"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[6347],{60:(ae,It,g)=>{g.d(It,{v:()=>Nt});var O=g(56223),i=g(72357),e=g(66216),R=g(37734),l=g(6050),t=g(63278),C=g(10533),v=g(65879),s=g(12044),Ct=g(19402),xt=g(2783),Ot=g(27113),et=g(96814),rt=g(92596),V=g(43389),nt=g(83306),dt=g(93523),ct=g(25368),ot=g(1103),st=g(60381),M=g(37722),K=g(36727);function W(I,mt){if(1&I){const Q=v.EpF();v.TgZ(0,"div",5)(1,"div",6)(2,"azt-search-box",7),v.NdJ("onSearch",function(Ft){v.CHM(Q);const Rt=v.oxw();return v.KtG(Rt.onSearchBox(Ft.searchObj))}),v.ALo(3,"mytranslate"),v.qZA()()()}2&I&&(v.xp6(2),v.Q6J("isServerSearch",!0)("placeholder",v.lcZ(3,2,"lang_core_tim_theo_ten_phone_email")))}function L(I,mt){if(1&I&&v._UZ(0,"azt-loading-effect",10),2&I){const Q=v.oxw(2);v.Q6J("currentStatusObj",Q.statusObj)}}const B=function(I){return{"text-primary stroke-width-2.5":I}};function ht(I,mt){if(1&I&&(v.TgZ(0,"div",20),v.O4$(),v.TgZ(1,"svg",21),v._UZ(2,"polyline",22),v.qZA(),v.TgZ(3,"svg",23),v._UZ(4,"polyline",24),v.qZA()()),2&I){const Q=v.oxw().$implicit,vt=v.oxw(3);v.xp6(1),v.Q6J("ngClass",v.VKq(2,B,Q.typeFieldSort===vt.typeFieldSort.asc)),v.xp6(2),v.Q6J("ngClass",v.VKq(4,B,Q.typeFieldSort===vt.typeFieldSort.desc))}}function Mt(I,mt){if(1&I){const Q=v.EpF();v.TgZ(0,"th",17)(1,"div",18),v.NdJ("click",function(){const Rt=v.CHM(Q).$implicit,ee=v.oxw(3);return v.KtG(ee.sortTableByFieldName(Rt))}),v._uU(2),v.ALo(3,"mytranslate"),v.YNc(4,ht,5,6,"div",19),v.qZA()()}if(2&I){const Q=mt.$implicit;v.xp6(1),v.Akn(Q.customStyle),v.Tol(Q.customClassCss),v.xp6(1),v.hij(" ",v.lcZ(3,6,Q.key)," "),v.xp6(2),v.Q6J("ngIf",!Q.ignore)}}function Yt(I,mt){if(1&I){const Q=v.EpF();v.TgZ(0,"tr",25)(1,"td"),v._UZ(2,"azt-student-info-box",26),v.qZA(),v.TgZ(3,"td",27),v._uU(4),v.ALo(5,"formatStudentCodeToNumber"),v.qZA(),v.TgZ(6,"td",27),v._uU(7),v.ALo(8,"formatOnlyDateByUserUnitPipe"),v.qZA(),v.TgZ(9,"td",27)(10,"div",28),v._UZ(11,"textarea",29),v.ALo(12,"mytranslate"),v.TgZ(13,"span",30,31),v.NdJ("click",function(){const Rt=v.CHM(Q).$implicit,ee=v.oxw(3);return v.KtG(ee.showAllComment(Rt))}),v.ALo(15,"mytranslate"),v._UZ(16,"lucide-icon",32),v.qZA()()()()}if(2&I){const Q=mt.$implicit,vt=v.MAs(14);v.Q6J("id","row_student_"+Q.id),v.xp6(2),v.Q6J("name",Q.fullName)("parentFullName",Q.parentFullName)("parentId",Q.parentId)("parentPhone",Q.parentPhone)("avatar",Q.avatar)("gender",Q.gender)("hasUser",Q.hasUser)("schoolName",Q.schoolName)("classrooms",Q.classrooms)("joinedAt",Q.joinedAt),v.xp6(2),v.Oqu(Q.identificationNumber?v.xi3(5,20,Q.identificationNumber,6):""),v.xp6(3),v.Oqu(v.lcZ(8,23,null!=Q.assessments&&Q.assessments[0]?null==Q.assessments||null==Q.assessments[0]?null:Q.assessments[0].createdAt:"")),v.xp6(4),v.s9C("placeholder",v.lcZ(12,25,"lang_azt_enter_comment")),v.Q6J("id","assessment_content_"+Q.id)("disabled",!0)("value",Q.lastAssessmentComment),v.xp6(2),v.s9C("matTooltip",v.lcZ(15,27,"lang_student_show_all_comment")),v.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",vt.isDisabled)}}function Gt(I,mt){if(1&I){const Q=v.EpF();v.TgZ(0,"azt-paging",36),v.NdJ("goToPaginationPage",function(Ft){v.CHM(Q);const Rt=v.oxw(4);return v.KtG(Rt.setPageStudent(Ft))}),v.qZA()}if(2&I){const Q=v.oxw(4);v.Q6J("pageObj",Q.pageObj)}}function se(I,mt){if(1&I&&(v.TgZ(0,"div",37),v._uU(1),v.ALo(2,"mytranslate"),v.qZA()),2&I){const Q=v.oxw(4);v.xp6(1),v.AsE("",Q.totalStudent," ",v.lcZ(2,2,"lang_notify_list_students"),"")}}function le(I,mt){if(1&I&&(v.TgZ(0,"div",33),v._UZ(1,"div"),v.YNc(2,Gt,1,1,"azt-paging",34),v.YNc(3,se,3,4,"div",35),v.qZA()),2&I){const Q=v.oxw(3);v.xp6(2),v.Q6J("ngIf",Q.totalStudent>Q.pageObj.pageSize),v.xp6(1),v.Q6J("ngIf",!Q.isStudent)}}function te(I,mt){if(1&I&&(v.TgZ(0,"div",11)(1,"drag-scroll")(2,"table",12)(3,"thead")(4,"tr",13),v.YNc(5,Mt,5,8,"th",14),v.qZA()(),v.TgZ(6,"tbody"),v.YNc(7,Yt,17,29,"tr",15),v.qZA()()()(),v.YNc(8,le,4,2,"div",16)),2&I){const Q=v.oxw(2);v.xp6(5),v.Q6J("ngForOf",Q.sortTableByFieldNameService.fieldNameList),v.xp6(2),v.Q6J("ngForOf",Q.listStudent),v.xp6(1),v.Q6J("ngIf",Q.listStudent&&Q.totalStudent&&Q.totalStudent>0)}}function Wt(I,mt){if(1&I&&(v.TgZ(0,"div",1),v.YNc(1,L,1,1,"azt-loading-effect",8),v.YNc(2,te,9,3,"ng-template",null,9,v.W1O),v.qZA()),2&I){const Q=v.MAs(3),vt=v.oxw();v.xp6(1),v.Q6J("ngIf",vt.statusObj.loading)("ngIfElse",Q)}}function wt(I,mt){if(1&I&&v._UZ(0,"azt-loading-effect",10),2&I){const Q=v.oxw(2);v.Q6J("currentStatusObj",Q.statusObj)}}function Pt(I,mt){1&I&&(v.TgZ(0,"div",41),v._uU(1),v.ALo(2,"mytranslate"),v.qZA()),2&I&&(v.xp6(1),v.hij(" ",v.lcZ(2,1,"lang_azt_no_comments_yet")," "))}function ft(I,mt){if(1&I&&(v.TgZ(0,"div",44)(1,"div",45)(2,"p",46),v._uU(3),v.ALo(4,"mytranslate"),v.ALo(5,"formatOnlyDateByUserUnitPipe"),v.qZA()(),v._UZ(6,"div",47),v.ALo(7,"safeNormalHtmlContent"),v.qZA()),2&I){const Q=mt.$implicit;v.xp6(3),v.AsE("",v.lcZ(4,3,"lang_student_add_comment_date"),": ",v.lcZ(5,5,Q.updatedAt),""),v.xp6(3),v.Q6J("innerHTML",v.lcZ(7,7,Q.comment),v.oJD)}}function Tt(I,mt){if(1&I&&(v.TgZ(0,"div",42),v.YNc(1,ft,8,9,"div",43),v.qZA()),2&I){const Q=v.oxw(3);v.xp6(1),v.Q6J("ngForOf",null==Q.firstStudent?null:Q.firstStudent.assessments)}}function Zt(I,mt){if(1&I&&(v.YNc(0,Pt,3,3,"div",39),v.YNc(1,Tt,2,1,"ng-template",null,40,v.W1O)),2&I){const Q=v.MAs(2),vt=v.oxw(2);v.Q6J("ngIf",!(null!=vt.firstStudent&&vt.firstStudent.assessments&&null!=vt.firstStudent&&null!=vt.firstStudent.assessments&&vt.firstStudent.assessments.length))("ngIfElse",Q)}}function _t(I,mt){if(1&I&&(v.TgZ(0,"div",1),v.YNc(1,wt,1,1,"azt-loading-effect",8),v.YNc(2,Zt,3,2,"ng-template",null,38,v.W1O),v.qZA()),2&I){const Q=v.MAs(3),vt=v.oxw();v.xp6(1),v.Q6J("ngIf",vt.statusObj.loading)("ngIfElse",Q)}}let Nt=(()=>{class I extends R.Q{onSearchBox(Q){this.searchContentObj=Q,this.getData()}showAllComment(Q){this.sAztDialogService.open(C.h,{width:"700px",restoreFocus:!1,data:{student:Q,isTeacher:!1}}).afterClosed().subscribe(vt=>{vt&&this.getData()})}setPageStudent(Q){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/6","?page="+Q),this.pageObj.setPageNumber(Q),this.getData()}sortTableByFieldName(Q){Q.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(Q),this.getData())}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!0,order:this.orderObj}).subscribe({next:vt=>{vt.list.length&&(this.listStudent=[]),this.totalStudent=vt.total,vt.list.forEach(Ft=>{let Rt=this.sAztAssessmentStudentService.getLastAssessmentStudent(Ft);this.listStudent.push({...Ft,commentControl:new O.cw({id:new O.NI(0,{nonNullable:!0}),updatedAt:new O.NI(Rt?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new O.NI(Rt?.comment??"",{nonNullable:!0}),isEditted:new O.NI(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(Ft.assessments),editComment:!1}),this.firstStudent=this.listStudent?.[0]?this.listStudent[0]:void 0,this.firstStudent=this.convertBreakLine(this.firstStudent)}),this.totalStudent=vt.total,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()},error:vt=>{this.errorStatusObj(vt.error.message,!0)}}))}convertBreakLine(Q){if(!Q)return;const vt=Q.assessments?.map(Ft=>({...Ft,comment:Ft.comment?.replace(/\n/g,"<br/>")}));return{...Q,assessments:vt}}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:i.P.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:i.P.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentDate",key:"lang_azt_comments_date",ignore:!1,typeFieldSort:i.P.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentComment",key:"lang_azt_comments_consciousness_and_academic_performance",ignore:!0,typeFieldSort:i.P.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(Q,vt,Ft,Rt,ee){super(),this.activeRoute=Q,this.studentService=vt,this.sAztDialogService=Ft,this.sAztAssessmentStudentService=Rt,this.sortTableByFieldNameService=ee,this.classroomId=0,this.searchContentObj=new t.h,this.pageObj=new l.m(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=i.P}}return I.\u0275fac=function(Q){return new(Q||I)(v.Y36(s.gz),v.Y36(Ct.VT),v.Y36(xt.C),v.Y36(Ot.c),v.Y36(e.X))},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-assessment-board"]],inputs:{isStudent:"isStudent"},features:[v._Bn([e.X]),v.qOj],decls:8,vars:6,consts:[[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","col-span-12 lg:col-span-12 2xl:col-span-12 mt-4",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"isServerSearch","placeholder","onSearch"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","assesment-board-oI-Jn2-vQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4",3,"ngClass"],["points","18 15 12 9 6 15"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","-mt-2",3,"ngClass"],["points","6 9 12 15 18 9"],[3,"id"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"flex","items-center"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value"],[1,"w-6","h-6","ml-4","inline-block","clickable",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","click"],["c","isDisabled"],["name","history"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"flex","justify-end"],["doneLoadingStudent",""],["class","mt-2 py-3 px-5 mb-3 text-center","style","height: 55px",4,"ngIf","ngIfElse"],["hasData",""],[1,"mt-2","py-3","px-5","mb-3","text-center",2,"height","55px"],[1,"py-3","px-5","box","mt-4"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"flex","mb-2",2,"align-items","center"],[1,"font-bold","mb-0"],[1,"box","bg-slate-200","dark:bg-darkmode-400","p-2",3,"innerHTML"]],template:function(Q,vt){1&Q&&(v.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),v._uU(3),v.ALo(4,"mytranslate"),v.qZA()(),v.YNc(5,W,4,4,"div",3),v.YNc(6,Wt,4,2,"div",4),v.YNc(7,_t,4,2,"div",4),v.qZA()),2&Q&&(v.xp6(3),v.Oqu(v.lcZ(4,4,"lang_azt_comments")),v.xp6(2),v.Q6J("ngIf",!vt.isStudent),v.xp6(1),v.Q6J("ngIf",!vt.isStudent),v.xp6(1),v.Q6J("ngIf",vt.isStudent))},dependencies:[et.mk,et.sg,et.O5,rt.gM,V.l,nt.L,dt.Q,ct.W,ot.a,st.HU,st.$Z,M.Nh5,K.JV,K.fF,K.gw,K.YK],encapsulation:2}),I})()},48323:(ae,It,g)=>{g.d(It,{E:()=>Zt});var O=g(25672),i=g(72357),e=g(66216),R=g(37734),l=g(6050),t=g(63278),C=g(65879),v=g(12044),s=g(2783),Ct=g(19402),xt=g(96814),Ot=g(43389),et=g(83306),rt=g(25368),V=g(1103),nt=g(60381),dt=g(89765),ct=g(36727);function ot(_t,Nt){if(1&_t&&(C.TgZ(0,"div",11),C._UZ(1,"azt-loading-effect",12),C.qZA()),2&_t){const I=C.oxw(2);C.xp6(1),C.Q6J("currentStatusObj",I.statusObj)}}function st(_t,Nt){1&_t&&(C.TgZ(0,"div",18),C._uU(1),C.ALo(2,"mytranslate"),C.qZA()),2&_t&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}const M=function(_t){return{"text-primary stroke-width-2.5":_t}};function K(_t,Nt){if(1&_t&&(C.TgZ(0,"div",27),C.O4$(),C.TgZ(1,"svg",28),C._UZ(2,"polyline",29),C.qZA(),C.TgZ(3,"svg",30),C._UZ(4,"polyline",31),C.qZA()()),2&_t){const I=C.oxw().$implicit,mt=C.oxw(5);C.xp6(1),C.Q6J("ngClass",C.VKq(2,M,I.typeFieldSort===mt.typeFieldSort.asc)),C.xp6(2),C.Q6J("ngClass",C.VKq(4,M,I.typeFieldSort===mt.typeFieldSort.desc))}}function W(_t,Nt){if(1&_t){const I=C.EpF();C.TgZ(0,"th",24)(1,"div",25),C.NdJ("click",function(){const vt=C.CHM(I).$implicit,Ft=C.oxw(5);return C.KtG(Ft.sortTableByFieldName(vt))}),C._uU(2),C.ALo(3,"mytranslate"),C.YNc(4,K,5,6,"div",26),C.qZA()()}if(2&_t){const I=Nt.$implicit;C.xp6(1),C.Akn(I.customStyle),C.Tol(I.customClassCss),C.xp6(1),C.hij(" ",C.lcZ(3,6,I.key)," "),C.xp6(2),C.Q6J("ngIf",!I.ignore)}}function L(_t,Nt){1&_t&&(C.TgZ(0,"span"),C._uU(1,"/"),C.qZA())}function B(_t,Nt){if(1&_t&&(C.TgZ(0,"span"),C._uU(1),C.YNc(2,L,2,0,"span",3),C._uU(3),C.qZA()),2&_t){const I=C.oxw().$implicit;C.xp6(1),C.hij(" ",I.lastMonthPaid," "),C.xp6(1),C.Q6J("ngIf",I.lastMonthPaid),C.xp6(1),C.hij(" ",I.lastYearPaid," ")}}function ht(_t,Nt){1&_t&&(C.TgZ(0,"span",38),C._uU(1),C.ALo(2,"mytranslate"),C.qZA()),2&_t&&(C.xp6(1),C.hij(" ",C.lcZ(2,1,"lang_core_hoc_thu")," "))}function Mt(_t,Nt){if(1&_t){const I=C.EpF();C.TgZ(0,"tr")(1,"td",32),C.NdJ("click",function(){const vt=C.CHM(I).$implicit,Ft=C.oxw(5);return C.KtG(Ft.addOrEditTuitionFee(vt))}),C._UZ(2,"azt-student-info-box",33),C.qZA(),C.TgZ(3,"td",34),C._uU(4),C.ALo(5,"formatStudentCodeToNumber"),C.qZA(),C.TgZ(6,"td",35),C._uU(7),C.qZA(),C.TgZ(8,"td",36),C.YNc(9,B,4,3,"span",3),C.YNc(10,ht,3,3,"span",37),C.qZA()()}if(2&_t){const I=Nt.$implicit;let mt;C.xp6(2),C.Q6J("name",I.fullName)("avatar",I.avatar)("gender",I.gender)("schoolName",I.schoolName)("hasUser",I.hasUser)("classrooms",I.classrooms)("joinedAt",I.joinedAt),C.xp6(2),C.Oqu(I.identificationNumber?C.xi3(5,11,I.identificationNumber,6):""),C.xp6(3),C.hij(" ",null!==(mt=null==I.classroom?null:I.classroom.name)&&void 0!==mt?mt:""," "),C.xp6(2),C.Q6J("ngIf",!I.isTrial),C.xp6(1),C.Q6J("ngIf",I.isTrial)}}const Yt=function(){return[]};function Gt(_t,Nt){if(1&_t&&(C.TgZ(0,"div")(1,"div",19)(2,"drag-scroll")(3,"table",20)(4,"thead")(5,"tr",21),C.YNc(6,W,5,8,"th",22),C.qZA()(),C.TgZ(7,"tbody"),C.YNc(8,Mt,11,14,"tr",23),C.qZA()()()()()),2&_t){const I=C.oxw(4);let mt;C.xp6(6),C.Q6J("ngForOf",I.sortTableByFieldNameService.fieldNameList),C.xp6(2),C.Q6J("ngForOf",null!==(mt=null==I.listPayment?null:I.listPayment.list)&&void 0!==mt?mt:C.DdM(2,Yt))}}function se(_t,Nt){if(1&_t){const I=C.EpF();C.TgZ(0,"div",39),C._uU(1),C.ALo(2,"mytranslate"),C.TgZ(3,"span",40),C.NdJ("click",function(){C.CHM(I);const Q=C.oxw(4);return C.KtG(Q.goBack())}),C._uU(4),C.ALo(5,"mytranslate"),C.qZA()()}2&_t&&(C.xp6(1),C.hij(" ",C.lcZ(2,2,"lang_core_not_found_student"),"... "),C.xp6(3),C.Oqu(C.lcZ(5,4,"lang_powerpoint_frontend_chart_back")))}function le(_t,Nt){if(1&_t&&(C.TgZ(0,"div",15),C.YNc(1,st,3,3,"div",16),C.YNc(2,Gt,9,3,"div",3),C.YNc(3,se,6,6,"div",17),C.qZA()),2&_t){const I=C.oxw(3);let mt,Q;C.xp6(1),C.Q6J("ngIf",!I.searchContentObj.isLoading&&0==(null==I.listPayment?null:I.listPayment.total)&&""==I.searchContentObj.searchContent),C.xp6(1),C.Q6J("ngIf",(null!==(mt=null==I.listPayment?null:I.listPayment.total)&&void 0!==mt?mt:0)>0),C.xp6(1),C.Q6J("ngIf",!I.searchContentObj.isLoading&&0==(null!==(Q=null==I.listPayment?null:I.listPayment.list)&&void 0!==Q?Q:C.DdM(3,Yt)).length&&""!=I.searchContentObj.searchContent)}}function te(_t,Nt){if(1&_t){const I=C.EpF();C.TgZ(0,"azt-paging",44),C.NdJ("goToPaginationPage",function(Q){C.CHM(I);const vt=C.oxw(4);return C.KtG(vt.setPageStudent(Q))}),C.qZA()}if(2&_t){const I=C.oxw(4);C.Q6J("pageObj",I.pageObj)}}function Wt(_t,Nt){if(1&_t&&(C.TgZ(0,"div",45),C._uU(1),C.ALo(2,"mytranslate"),C.qZA()),2&_t){const I=C.oxw(4);C.xp6(1),C.AsE("",I.listPayment.total," ",C.lcZ(2,2,"lang_notify_list_students"),"")}}function wt(_t,Nt){if(1&_t&&(C.TgZ(0,"div",41),C._UZ(1,"div"),C.YNc(2,te,1,1,"azt-paging",42),C.YNc(3,Wt,3,4,"div",43),C.qZA()),2&_t){const I=C.oxw(3);C.xp6(2),C.Q6J("ngIf",I.listPayment.total>I.pageObj.pageSize),C.xp6(1),C.Q6J("ngIf",!I.isStudent)}}function Pt(_t,Nt){if(1&_t&&(C.YNc(0,le,4,4,"div",13),C.YNc(1,wt,4,2,"div",14)),2&_t){const I=C.oxw(2);let mt;C.Q6J("ngIf",!I.isStudent),C.xp6(1),C.Q6J("ngIf",I.listPayment&&I.listPayment.total&&(null!==(mt=null==I.listPayment?null:I.listPayment.total)&&void 0!==mt?mt:0)>0)}}function ft(_t,Nt){if(1&_t){const I=C.EpF();C.ynx(0),C.TgZ(1,"div",5)(2,"div",6)(3,"div",7)(4,"azt-search-box",8),C.NdJ("onSearch",function(Q){C.CHM(I);const vt=C.oxw();return C.KtG(vt.onSearchBox(Q.searchObj))}),C.ALo(5,"mytranslate"),C.qZA()()()(),C.YNc(6,ot,2,1,"div",9),C.YNc(7,Pt,2,2,"ng-template",null,10,C.W1O),C.BQk()}if(2&_t){const I=C.MAs(8),mt=C.oxw();C.xp6(4),C.Q6J("isServerSearch",!0)("placeholder",C.lcZ(5,5,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",mt.searchContentObj),C.xp6(2),C.Q6J("ngIf",mt.statusObj.loading)("ngIfElse",I)}}function Tt(_t,Nt){1&_t&&(C.TgZ(0,"div",46),C._UZ(1,"detail-tuition-fee-student"),C.qZA())}let Zt=(()=>{class _t extends R.Q{onSearchBox(I){this.searchContentObj=I,this.getData()}addOrEditTuitionFee(I){this.sAztDialogService.open(O.i,{width:"900px",restoreFocus:!1,data:I}).afterClosed().subscribe(mt=>{mt&&this.getData()})}goBack(){this.searchContentObj.resetSearchContentEvent()}sortTableByFieldName(I){I.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(I),this.getData())}setPageStudent(I){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/8","?page="+I),this.pageObj.setPageNumber(I),this.getData()}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:this.isStudent,getAssessment:!1,order:this.orderObj}).subscribe({next:mt=>{this.listPayment=mt,this.pageObj.setTotalPages(mt.total??0),this.successStatusObj()},error:mt=>{this.errorStatusObj(mt.error.message,!0)}}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:i.P.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:i.P.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"classroom.name",key:"lang_auto_lop",ignore:!0,typeFieldSort:i.P.none,customClassCss:"text-center whitespace-nowrap"},{fieldName:"payment",key:"lang_azt_tuition_fee_submission_time",ignore:!1,typeFieldSort:i.P.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.isStudent||this.getData()}constructor(I,mt,Q,vt){super(),this.activeRoute=I,this.sAztDialogService=mt,this.studentService=Q,this.sortTableByFieldNameService=vt,this.pageStudent=1,this.searchContentObj=new t.h,this.classroomId=0,this.pageObj=new l.m(50),this.typeFieldSort=i.P}}return _t.\u0275fac=function(I){return new(I||_t)(C.Y36(v.gz),C.Y36(s.C),C.Y36(Ct.VT),C.Y36(e.X))},_t.\u0275cmp=C.Xpm({type:_t,selectors:[["app-tuition-fee-board"]],inputs:{isStudent:"isStudent"},features:[C._Bn([e.X]),C.qOj],decls:7,vars:5,consts:[[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],[4,"ngIf"],["class","intro-y col-span-12 overflow-auto",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","grid","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"w-full","flex","justify-center","items-center"],[3,"currentStatusObj"],["class","intro-y col-span-12",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"intro-y","col-span-12"],["class","flex justify-center mt-5",4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"flex","justify-center","mt-5"],[1,"intro-y",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"cursor-pointer"],["azt-track-service","tuition-fee-board-WXuxcVronQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4",3,"ngClass"],["points","18 15 12 9 6 15"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","-mt-2",3,"ngClass"],["points","6 9 12 15 18 9"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center",2,"min-width","100px","max-width","150px"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],[1,"text-slate-500"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"flex","justify-end"],[1,"intro-y","col-span-12","overflow-auto"]],template:function(I,mt){1&I&&(C.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),C._uU(3),C.ALo(4,"mytranslate"),C.qZA()(),C.YNc(5,ft,9,7,"ng-container",3),C.YNc(6,Tt,2,0,"div",4),C.qZA()),2&I&&(C.xp6(3),C.hij(" ",C.lcZ(4,3,mt.isStudent?"lang_student_tuition_fee_info":"lang_business_tuition_fee_title_top")," "),C.xp6(2),C.Q6J("ngIf",!mt.isStudent),C.xp6(1),C.Q6J("ngIf",mt.isStudent))},dependencies:[xt.mk,xt.sg,xt.O5,Ot.l,et.L,rt.W,V.a,nt.HU,nt.$Z,dt.V,ct.JV,ct.gw],encapsulation:2}),_t})()},89765:(ae,It,g)=>{g.d(It,{V:()=>et});var O=g(37734),i=g(65879),e=g(19402),R=g(96814),l=g(71646),t=g(60381),C=g(36727);function v(rt,V){1&rt&&(i.TgZ(0,"tr",9)(1,"td",10)(2,"span",11),i._UZ(3,"azt-loading-ui"),i.qZA()()())}function s(rt,V){if(1&rt&&(i.TgZ(0,"tr")(1,"td",9),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),i.qZA(),i.TgZ(6,"td"),i._uU(7),i.qZA(),i.TgZ(8,"td",9)(9,"span",15),i._uU(10),i.ALo(11,"mytranslate"),i.qZA()()()),2&rt){const nt=V.$implicit,dt=V.index;i.xp6(2),i.Oqu(dt+1),i.xp6(2),i.Oqu(i.lcZ(5,4,nt.createdAt)),i.xp6(3),i.Oqu(nt.month+"/"+nt.year),i.xp6(3),i.hij(" ",i.lcZ(11,6,"lang_student_tuition_fee_paid")," ")}}function Ct(rt,V){if(1&rt&&(i.ynx(0),i.YNc(1,s,12,8,"tr",14),i.BQk()),2&rt){const nt=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",nt.historyTuitionFeeList)}}function xt(rt,V){1&rt&&(i.TgZ(0,"tr")(1,"td",16),i._uU(2),i.ALo(3,"mytranslate"),i.qZA()()),2&rt&&(i.xp6(2),i.hij(" ",i.lcZ(3,1,"lang_student_profile_not_data_view")," "))}function Ot(rt,V){if(1&rt&&(i.YNc(0,Ct,2,1,"ng-container",12),i.YNc(1,xt,4,3,"ng-template",null,13,i.W1O)),2&rt){const nt=i.MAs(2),dt=i.oxw();i.Q6J("ngIf",dt.historyTuitionFeeList.length)("ngIfElse",nt)}}let et=(()=>{class rt extends O.Q{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentMeGet().subscribe(nt=>{nt?(this.historyTuitionFeeList=nt.histories,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(nt){super(),this.paymentService=nt,this.historyTuitionFeeList=[]}}return rt.\u0275fac=function(nt){return new(nt||rt)(i.Y36(e.te))},rt.\u0275cmp=i.Xpm({type:rt,selectors:[["detail-tuition-fee-student"]],features:[i.qOj],decls:22,vars:14,consts:[[1,"detail-attendance"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],["class","text-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],["noTuitionFee",""],[4,"ngFor","ngForOf"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(nt,dt){if(1&nt&&(i.TgZ(0,"div",0)(1,"div",1)(2,"drag-scroll")(3,"table",2)(4,"thead",3)(5,"tr")(6,"th",4),i._uU(7),i.ALo(8,"mytranslate"),i.qZA(),i.TgZ(9,"th",5),i._uU(10),i.ALo(11,"mytranslate"),i.qZA(),i.TgZ(12,"th",5),i._uU(13),i.ALo(14,"mytranslate"),i.qZA(),i.TgZ(15,"th",6),i._uU(16),i.ALo(17,"mytranslate"),i.qZA()()(),i.TgZ(18,"tbody"),i.YNc(19,v,4,0,"tr",7),i.YNc(20,Ot,3,2,"ng-template",null,8,i.W1O),i.qZA()()()()()),2&nt){const ct=i.MAs(21);i.xp6(7),i.hij(" ",i.lcZ(8,6,"lang_auto_stt")," "),i.xp6(3),i.hij(" ",i.lcZ(11,8,"lang_student_payment_time")," "),i.xp6(3),i.hij(" ",i.lcZ(14,10,"lang_student_monthly_tuition_fee")," "),i.xp6(3),i.hij(" ",i.lcZ(17,12,"lang_student_status")," "),i.xp6(3),i.Q6J("ngIf",dt.statusObj.loading)("ngIfElse",ct)}},dependencies:[R.sg,R.O5,l.n,t.HU,t.$Z,C.JV,C.$n],encapsulation:2}),rt})()},27113:(ae,It,g)=>{g.d(It,{c:()=>e});var O=g(56223),i=g(65879);let e=(()=>{class R{makeListFormArrayComment(t,C){let v=new O.Oe([]);return t&&t.forEach(s=>{v.push(new O.cw({id:new O.NI({value:s.id,disabled:!C},{nonNullable:!0}),updatedAt:new O.NI({value:s.updatedAt?.toString()??"",disabled:!C},{nonNullable:!0}),comment:new O.NI({value:s.comment??"",disabled:!C},{nonNullable:!0}),isEditted:new O.NI(!1,{nonNullable:!0})}))}),v}getLastAssessmentStudent(t){if(t.assessments&&t.assessments.length)return t.assessments[0]}}return R.\u0275fac=function(t){return new(t||R)},R.\u0275prov=i.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()},10533:(ae,It,g)=>{g.d(It,{h:()=>Wt});var O=g(29023),i=g(65879),e=g(56223),R=g(73445),l=g(23680),t=g(19347),C=g(44683),v=g(13217),s=g(72164),Ct=g(46558),xt=g(84003),Ot=g(27113),et=g(97151),rt=g(38228),V=g(68719),nt=g(96814),dt=g(92596),ct=g(67679),ot=g(78497),st=g(71646),M=g(1103),K=g(37722),W=g(36727);function L(wt,Pt){if(1&wt){const ft=i.EpF();i.TgZ(0,"button",14),i.NdJ("click",function(){i.CHM(ft);const Zt=i.oxw();return i.KtG(Zt.changeEditStatus(!0))}),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()}2&wt&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"lang_auto_sua")," "))}function B(wt,Pt){if(1&wt){const ft=i.EpF();i.TgZ(0,"button",15),i.NdJ("click",function(){i.CHM(ft);const Zt=i.oxw();return i.KtG(Zt.changeEditStatus(!1))}),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()}if(2&wt){const ft=i.oxw();i.Q6J("disabled",ft.isSave),i.xp6(1),i.hij(" ",i.lcZ(2,2,"lang_auto_huy_sua")," ")}}function ht(wt,Pt){if(1&wt){const ft=i.EpF();i.TgZ(0,"button",16),i.NdJ("click",function(){i.CHM(ft);const Zt=i.oxw();return i.KtG(Zt.saveEdit())}),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()}if(2&wt){const ft=i.oxw();i.Q6J("disabled",ft.isSave||ft.countChangedComment()),i.xp6(1),i.hij(" ",i.lcZ(2,2,"lang_auto_luu")," ")}}function Mt(wt,Pt){1&wt&&(i.TgZ(0,"div",17)(1,"span",18),i._UZ(2,"azt-loading-ui"),i.qZA()())}function Yt(wt,Pt){1&wt&&(i.TgZ(0,"div",21),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&wt&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"lang_azt_no_comments_yet")," "))}function Gt(wt,Pt){if(1&wt){const ft=i.EpF();i.TgZ(0,"button",30),i.NdJ("click",function(){i.CHM(ft);const Zt=i.oxw().$implicit,_t=i.oxw(3);return i.KtG(_t.deleteAssesment(Zt.controls.id.value))}),i._UZ(1,"lucide-icon",31),i.ALo(2,"mytranslate"),i.qZA()}if(2&wt){const ft=i.oxw(4);i.Q6J("disabled",ft.isSave),i.xp6(1),i.s9C("matTooltip",i.lcZ(2,2,"lang_auto_xoa"))}}function se(wt,Pt){if(1&wt){const ft=i.EpF();i.TgZ(0,"div",24)(1,"form",25)(2,"div",26)(3,"p",27),i._uU(4),i.ALo(5,"mytranslate"),i.ALo(6,"formatOnlyDateByUserUnitPipe"),i.qZA(),i.YNc(7,Gt,3,4,"button",28),i.qZA(),i.TgZ(8,"textarea",29),i.NdJ("change",function(){const _t=i.CHM(ft).$implicit;return i.KtG(_t.controls.isEditted.setValue(!0))}),i.qZA()()()}if(2&wt){const ft=Pt.$implicit,Tt=i.oxw(3);i.xp6(1),i.Q6J("formGroup",ft),i.xp6(3),i.AsE("",i.lcZ(5,4,"lang_student_add_comment_date"),": ",i.lcZ(6,6,ft.controls.updatedAt.value),""),i.xp6(3),i.Q6J("ngIf",Tt.isEdit)}}function le(wt,Pt){if(1&wt&&(i.TgZ(0,"div",22),i.YNc(1,se,9,8,"div",23),i.qZA()),2&wt){const ft=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",null==ft.data.student.listCommentControl?null:ft.data.student.listCommentControl.controls)}}function te(wt,Pt){if(1&wt&&(i.YNc(0,Yt,3,3,"div",19),i.YNc(1,le,2,1,"ng-template",null,20,i.W1O)),2&wt){const ft=i.MAs(2),Tt=i.oxw();i.Q6J("ngIf",!Tt.data.student.assessments||!Tt.data.student.assessments.length)("ngIfElse",ft)}}let Wt=(()=>{class wt extends s.e{filterData(ft){this.dataFilter=ft,this.initStatusObj()}countChangedComment(){return!!this.data.student.listCommentControl?.controls.filter(Tt=>Tt.controls.isEditted.value&&!Tt.controls.comment.value)?.length}saveEdit(){this.isSave=!0,this.changeEditStatus(!1),this.initStatusObj();let ft=this.data.student.listCommentControl?.controls.filter(Zt=>Zt.controls.isEditted.value).map(Zt=>({id:Zt.controls.id.value,studentId:this.data.student.id,comment:Zt.controls.comment.value}))??[];if(!ft.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost({classroomId:this.data.student.classroomId,studentAssessments:ft}).subscribe(Zt=>{Zt.success?(this.showSuccessSnack("lang_student_edit_comment_successfully"),this.isEdit=!1,this.hasChanged=!0,this.getStudent()):this.errorStatusObj("lang_student_edit_comment_unsuccessfully",!0),this.isSave=!1}))}deleteAssesment(ft){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsIdAssessmentsDelete(ft).subscribe(Tt=>{Tt.success?(this.getStudent(!0),this.showSuccessSnack("lang_student_delete_comment_successfully"),this.hasChanged=!0):this.errorStatusObj("lang_student_delete_comment_unsuccessfully",!0)}))}changeEditStatus(ft){this.isEdit=ft,this.data.student.listCommentControl?.controls.map(Tt=>ft?Tt.enable():Tt.disable())}getStudent(ft){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.student.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.student.classroomId,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!1,me:!this.data.isTeacher,getAssessment:!0}).subscribe({next:Zt=>{if(Zt.list.length){let _t=this.sAztAssessmentStudentService.getLastAssessmentStudent(Zt.list[0]);this.data.student={...Zt.list[0],commentControl:new e.cw({id:new e.NI(0,{nonNullable:!0}),updatedAt:new e.NI(_t?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new e.NI(_t?.comment??"",{nonNullable:!0}),isEditted:new e.NI(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(Zt.list[0].assessments,ft)}}this.stopStatusObj()},error:Zt=>{this.errorStatusObj(Zt.error.message,!0)}}))}closeDialog(){this.dialogRef.close(this.hasChanged)}ngOnInit(){super.ngOnInit()}constructor(ft,Tt,Zt,_t,Nt,I,mt){super(mt,I),this.sAztAssessmentStudentService=ft,this.sAztTimeService=Tt,this.shareFileFlutterService=Zt,this.exportExcelService=_t,this.studentService=Nt,this.dialogRef=I,this.data=mt,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.isSave=!1,this.isEdit=!1,this.hasChanged=!1,this.commonService=(0,i.f3M)(Ct.z)}ngOnDestroy(){super.ngOnDestroy()}}return wt.\u0275fac=function(ft){return new(ft||wt)(i.Y36(Ot.c),i.Y36(xt.D),i.Y36(et.g),i.Y36(rt.L),i.Y36(V.V),i.Y36(t.so,8),i.Y36(t.WI,8))},wt.\u0275cmp=i.Xpm({type:wt,selectors:[["azt-student-comments"]],features:[i._Bn([{provide:O.fM,useClass:C.WG,deps:[l.Ad,R.o8]},{provide:O.ab,useFactory:v.fX,deps:[xt.D]}]),i.qOj],decls:17,vars:17,consts:[[1,"box"],[1,"px-5","py-3","border-b","border-slate-300"],[1,"flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[2,"align-self","center"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","ml-2",3,"matTooltip","click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"flex","justify-end"],["azt-track-service","show-all-comment-dialog-LbiztBEnN","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3","class","btn btn-sm btn-secondary-soft mr-2",3,"disabled","click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r","class","btn btn-sm btn-primary",3,"disabled","click",4,"ngIf"],["class","p-5 text-center",4,"ngIf","ngIfElse"],["doneLoading",""],["azt-track-service","show-all-comment-dialog-LbiztBEnN",1,"btn","btn-sm","btn-secondary",3,"click"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3",1,"btn","btn-sm","btn-secondary-soft","mr-2",3,"disabled","click"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r",1,"btn","btn-sm","btn-primary",3,"disabled","click"],[1,"p-5","text-center"],[1,"w-8","h-8","inline-block","mr-2"],["class","mt-2 py-3 px-5 mb-2 text-center","style","height: 55px",4,"ngIf","ngIfElse"],["hasData",""],[1,"mt-2","py-3","px-5","mb-2","text-center",2,"height","55px"],[1,"py-3","px-5"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[3,"formGroup"],[1,"flex","mb-2",2,"align-items","center"],[1,"font-bold","mb-0"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP","class","btn btn-transparent btn-outline-secondary btn-sm",3,"disabled","click",4,"ngIf"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"change"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP",1,"btn","btn-transparent","btn-outline-secondary","btn-sm",3,"disabled","click"],["name","trash-2",2,"width","16px !important","height","16px !important",3,"matTooltip"]],template:function(ft,Tt){if(1&ft&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._UZ(3,"azt-student-info-box",3),i.TgZ(4,"div",4),i.O4$(),i.TgZ(5,"svg",5),i.NdJ("click",function(){return Tt.closeDialog()}),i.ALo(6,"mytranslate"),i._UZ(7,"path",6)(8,"path",7),i.qZA()()(),i.kcU(),i.TgZ(9,"div",8),i.YNc(10,L,3,3,"button",9),i.YNc(11,B,3,4,"button",10),i.YNc(12,ht,3,4,"button",11),i.qZA()(),i.TgZ(13,"azt-mat-dialog-content"),i.YNc(14,Mt,3,0,"div",12),i.YNc(15,te,3,2,"ng-template",null,13,i.W1O),i.qZA()()),2&ft){const Zt=i.MAs(16);i.xp6(3),i.Q6J("name",Tt.data.student.fullName)("parentFullName",Tt.data.student.parentFullName)("parentId",Tt.data.student.parentId)("parentPhone",Tt.data.student.parentPhone)("phone",Tt.data.student.phone)("email",Tt.data.student.email)("avatar",Tt.data.student.avatar)("gender",Tt.data.student.gender)("hasUser",Tt.data.student.hasUser),i.xp6(2),i.s9C("matTooltip",i.lcZ(6,15,"lang_auto_dong")),i.xp6(5),i.Q6J("ngIf",!Tt.isEdit&&Tt.data.isTeacher),i.xp6(1),i.Q6J("ngIf",Tt.isEdit),i.xp6(1),i.Q6J("ngIf",Tt.isEdit),i.xp6(2),i.Q6J("ngIf",Tt.statusObj.loading)("ngIfElse",Zt)}},dependencies:[nt.sg,nt.O5,dt.gM,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,ct.M,ot.R,st.n,M.a,K.Nh5,W.JV,W.YK],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),wt})()},94767:(ae,It,g)=>{g.d(It,{y:()=>Zo});var O=g(52572),i=g(37734),e=g(65879),R=g(12044),l=g(78226),t=g(19402),C=g(84003),v=g(96814),s=g(43389),Ct=g(61713),xt=g(93283),Ot=g(6585),et=g(15828),rt=g(86),V=g(2783),nt=g(95273),dt=g(77988),ct=g(92596),ot=g(93523),st=g(71646),M=g(8524),K=g(37722),W=g(98140),L=g(29023),B=g(56223),ht=g(73445),Mt=g(23680),Yt=g(44683),Gt=g(13217);class se{static addNewEducationalProgramFormValidator(E){let p=E,b=p.controls.weekdayConfig;if(!b.length)return p.setErrors(null),null;let y=0,j=0;return b.controls.forEach(F=>{let at=!1,kt={invalidTime:!1,requireTime:!1,invalidInfrastructure:!1,identityRevealed:!0};F.controls.selected.value?(F.controls.infrastructureId.value||(at=!0,kt.invalidInfrastructure=!0),F.controls.startTime.value&&F.controls.endTime.value?new Date("1970-01-01T"+F.controls.startTime.value).getTime()>=new Date("1970-01-01T"+F.controls.endTime.value).getTime()?(at=!0,kt.invalidTime=!0):kt.invalidTime=!1:(at=!0,kt.requireTime=!0),F.setErrors(at?kt:null),j++):F.setErrors(null),F.invalid&&y++},b),y||!j?(p.setErrors({invalidData:!0}),{identityRevealed:!0,invalidData:!0}):(p.setErrors(null),null)}}var le=g(20553),te=g(98603),Wt=g(87325),wt=g(32296),Pt=g(2032),ft=g(64170),Tt=g(98525),Zt=g(30292),_t=g(67679),Nt=g(95545),I=g(36727);const mt=["startTime"];function Q(x,E){if(1&x&&e._UZ(0,"azt-loading-effect",4),2&x){const p=e.oxw();e.Q6J("currentStatusObj",p.statusObj)}}function vt(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"button",42),e.NdJ("click",function(){e.CHM(p);const y=e.oxw(2);return e.KtG(y.saveEducationalProgramEmit.emit(!1))}),e.O4$(),e.TgZ(1,"svg",43),e._UZ(2,"polyline",44),e.qZA(),e.kcU(),e.TgZ(3,"span",45),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}if(2&x){const p=e.oxw(2);e.Q6J("disabled",p.isSavingProgram),e.xp6(4),e.Oqu(e.lcZ(5,2,"lang_auto_huy"))}}function Ft(x,E){1&x&&e._UZ(0,"lucide-icon",50)}function Rt(x,E){1&x&&e._UZ(0,"lucide-icon",51)}function ee(x,E){1&x&&e._UZ(0,"lucide-icon",59)}const ye=function(x){return{"border border-primary":x}};function ze(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",55)(1,"div",56),e.NdJ("click",function(){const j=e.CHM(p).$implicit,F=e.oxw().$implicit,at=e.oxw(2).$implicit,kt=e.oxw(2);let Lt;return e.KtG(kt.selectSubject(null!==(Lt=at.id)&&void 0!==Lt?Lt:0,null!==(Lt=F.id)&&void 0!==Lt?Lt:0,j))}),e.TgZ(2,"span",57),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.YNc(5,ee,1,0,"lucide-icon",58),e.qZA()()}if(2&x){const p=E.$implicit;e.Q6J("ngClass",e.VKq(5,ye,p.selected)),e.xp6(3),e.Oqu(e.lcZ(4,3,p.name)),e.xp6(2),e.Q6J("ngIf",p.selected)}}function ce(x,E){if(1&x&&(e.ynx(0),e.TgZ(1,"h3",52)(2,"span",53),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.YNc(5,ze,6,7,"div",54),e.BQk()),2&x){const p=E.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,2,p.name)," "),e.xp6(2),e.Q6J("ngForOf",p.children)}}function Ue(x,E){if(1&x&&(e.ynx(0),e.YNc(1,ce,6,4,"ng-container",18),e.BQk()),2&x){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",p.subjects)}}function Ze(x,E){if(1&x){const p=e.EpF();e.ynx(0),e.TgZ(1,"h3",46)(2,"span",47),e.NdJ("click",function(){const j=e.CHM(p).$implicit,F=e.oxw(2);let at;return e.KtG(F.showEducationalProgramSubject(null!==(at=j.id)&&void 0!==at?at:0))}),e._uU(3),e.ALo(4,"mytranslate"),e.YNc(5,Ft,1,0,"lucide-icon",48),e.YNc(6,Rt,1,0,"lucide-icon",49),e.qZA()(),e.YNc(7,Ue,2,1,"ng-container",19),e.BQk()}if(2&x){const p=E.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,4,p.name)," "),e.xp6(2),e.Q6J("ngIf",p.showChild),e.xp6(1),e.Q6J("ngIf",!p.showChild),e.xp6(1),e.Q6J("ngIf",p.showChild)}}function Ae(x,E){1&x&&(e.ynx(0),e.TgZ(1,"small",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&x&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_validate"),""))}function Se(x,E){1&x&&(e.ynx(0),e.TgZ(1,"small",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&x&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_no_program_yet"),""))}function fe(x,E){if(1&x){const p=e.EpF();e.ynx(0),e.TgZ(1,"div",62),e.NdJ("click",function(){e.CHM(p);const y=e.oxw().$implicit,j=e.oxw(2);return e.KtG(j.openWeekdayConfig(y.controls.id.value))}),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.BQk()}if(2&x){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("formGroup",p),e.xp6(2),e.Oqu(e.lcZ(4,2,p.controls.name.value))}}function Ie(x,E){1&x&&(e.TgZ(0,"button",83),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&x&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_huy")))}function xe(x,E){1&x&&(e.TgZ(0,"button",84),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&x&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_xac_nhan")))}function Fe(x,E){1&x&&e._UZ(0,"p",85)}function X(x,E){1&x&&(e.TgZ(0,"mat-label"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&x&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_business_config_educational_program_select_infrastructure")," "))}function yt(x,E){if(1&x&&(e.TgZ(0,"mat-option",86),e._uU(1),e.qZA()),2&x){const p=E.$implicit;e.s9C("value",p.id),e.xp6(1),e.Oqu(p.name)}}function z(x,E){1&x&&(e.ynx(0),e.TgZ(1,"small",87),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&x&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_time_validate"),""))}function q(x,E){1&x&&(e.ynx(0),e.TgZ(1,"small",87),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&x&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_testbank_test_config_end_time_bigger_time_star"),""))}function bt(x,E){1&x&&(e.ynx(0),e._UZ(1,"br"),e.TgZ(2,"small",88),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.BQk()),2&x&&(e.xp6(3),e.hij("* ",e.lcZ(4,1,"lang_business_config_educational_program_infrastructure_validate"),""))}function jt(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",63)(1,"div",64)(2,"span",65),e.NdJ("click",function(){e.CHM(p);const y=e.oxw().$implicit,j=e.oxw(2);return e.KtG(j.openWeekdayConfig(y.controls.id.value))}),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"lucide-icon",66),e.NdJ("click",function(){e.CHM(p);const y=e.oxw().$implicit,j=e.oxw(2);return e.KtG(j.openWeekdayConfig(y.controls.id.value))}),e.qZA(),e.TgZ(6,"div",67)(7,"div",68)(8,"div",69),e._UZ(9,"input",70),e.ALo(10,"mytranslate"),e._UZ(11,"ngx-mat-timepicker",71,72),e.qZA(),e.TgZ(13,"span",73),e._uU(14,"\xa0-\xa0"),e.qZA(),e.TgZ(15,"div",69),e._UZ(16,"input",74),e.ALo(17,"mytranslate"),e._UZ(18,"ngx-mat-timepicker",71,75),e.qZA(),e.YNc(20,Ie,3,3,"ng-template",null,76,e.W1O),e.YNc(22,xe,3,3,"ng-template",null,77,e.W1O),e.YNc(24,Fe,1,0,"ng-template",null,78,e.W1O),e.TgZ(26,"lucide-icon",79),e.NdJ("click",function(){e.CHM(p);const y=e.oxw().$implicit,j=e.oxw(2);return e.KtG(j.openWeekdayConfig(y.controls.id.value))}),e.qZA()(),e.TgZ(27,"mat-form-field",80),e.YNc(28,X,3,3,"mat-label",19),e.TgZ(29,"mat-select",81),e.NdJ("openedChange",function(y){e.CHM(p);const j=e.oxw().$implicit,F=e.oxw(2);return e.KtG(F.touchedMatSelect(y,j))}),e.YNc(30,yt,2,2,"mat-option",82),e.qZA()(),e.YNc(31,z,4,3,"ng-container",19),e.YNc(32,q,4,3,"ng-container",19),e.YNc(33,bt,5,3,"ng-container",19),e.qZA()()()}if(2&x){const p=e.MAs(12),b=e.MAs(19),y=e.MAs(21),j=e.MAs(23),F=e.MAs(25),at=e.oxw().$implicit,kt=e.oxw(2);e.Q6J("formGroup",at)("ngClass",e.VKq(29,ye,at.controls.selected.value)),e.xp6(3),e.Oqu(e.lcZ(4,23,at.controls.name.value)),e.xp6(6),e.s9C("placeholder",e.lcZ(10,25,"lang_auto_tu")),e.Q6J("ngxMatTimepicker",p)("format",24),e.xp6(2),e.Q6J("editableHintTmpl",F)("enableKeyboardInput",!0)("cancelBtnTmpl",y)("confirmBtnTmpl",j),e.xp6(5),e.s9C("placeholder",e.lcZ(17,27,"lang_auto_den")),e.Q6J("ngxMatTimepicker",b)("format",24),e.xp6(2),e.Q6J("editableHintTmpl",F)("enableKeyboardInput",!0)("cancelBtnTmpl",y)("confirmBtnTmpl",j),e.xp6(10),e.Q6J("ngIf",at.errors&&at.errors.invalidInfrastructure&&!at.controls.infrastructureId.touched),e.xp6(1),e.Q6J("value",at.controls.infrastructureId.value),e.xp6(1),e.Q6J("ngForOf",kt.listInfrastructureObjs),e.xp6(1),e.Q6J("ngIf",at.errors&&at.errors.requireTime),e.xp6(1),e.Q6J("ngIf",at.errors&&at.errors.invalidTime),e.xp6(1),e.Q6J("ngIf",at.errors&&at.errors.invalidInfrastructure)}}function Kt(x,E){if(1&x&&(e.ynx(0),e.YNc(1,fe,5,4,"ng-container",19),e.YNc(2,jt,34,31,"div",61),e.BQk()),2&x){const p=E.$implicit;e.xp6(1),e.Q6J("ngIf",!p.controls.selected.value),e.xp6(1),e.Q6J("ngIf",p.controls.selected.value)}}function zt(x,E){1&x&&(e.ynx(0),e.TgZ(1,"small",60),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&x&&(e.xp6(2),e.hij("* ",e.lcZ(3,1,"lang_business_config_educational_program_start_time_validate"),""))}function Vt(x,E){1&x&&(e.TgZ(0,"span",35),e._UZ(1,"azt-loading-ui"),e.qZA())}function ke(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",89)(1,"button",90),e.NdJ("click",function(){e.CHM(p);const y=e.oxw(2);return e.KtG(y.saveEducationalProgram())}),e.YNc(2,Vt,2,0,"span",91),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()}if(2&x){const p=e.oxw(2);e.xp6(1),e.Q6J("disabled",p.form.invalid||p.isSavingProgram),e.xp6(1),e.Q6J("ngIf",p.isSavingProgram),e.xp6(1),e.hij(" ",e.lcZ(4,3,"lang_auto_luu")," ")}}const de=function(x){return{"mt-2":x}},re=function(){return{"width.px":"auto","height.%":100}},Je=function(x){return[x]},ge=function(x){return{backTo:x}},Ne=function(x,E){return{hiddenVisible:x,visibleIpt:E}};function nn(x,E){if(1&x){const p=e.EpF();e.YNc(0,vt,6,4,"button",5),e.TgZ(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"h3",11),e._uU(7,"1"),e.qZA()(),e.TgZ(8,"span",12),e._uU(9),e.ALo(10,"mytranslate"),e.qZA(),e.TgZ(11,"lucide-icon",13),e.NdJ("click",function(){e.CHM(p);const y=e.oxw();return e.KtG(y.reloadAllEducationalProgram())}),e.qZA()(),e.TgZ(12,"div",14)(13,"div",15)(14,"ng-scrollbar",16)(15,"div",17),e.YNc(16,Ze,8,6,"ng-container",18),e.YNc(17,Ae,4,3,"ng-container",19),e.YNc(18,Se,4,3,"ng-container",19),e.qZA()()(),e.TgZ(19,"div",17)(20,"a",20),e.ALo(21,"navigationLocalize"),e.O4$(),e.TgZ(22,"svg",21),e._UZ(23,"line",22)(24,"line",23),e.qZA(),e.kcU(),e.TgZ(25,"span",24),e._uU(26),e.ALo(27,"mytranslate"),e.qZA()()()()(),e.TgZ(28,"div",8)(29,"div",9)(30,"div",10)(31,"h3",11),e._uU(32,"2"),e.qZA()(),e.TgZ(33,"span",25),e._uU(34),e.ALo(35,"mytranslate"),e.qZA()(),e.TgZ(36,"div",26)(37,"div",27)(38,"ng-scrollbar",16)(39,"div",28),e.YNc(40,Kt,3,2,"ng-container",18),e.qZA()()()()(),e.TgZ(41,"div",8)(42,"div",9)(43,"div",10)(44,"h3",11),e._uU(45,"3"),e.qZA()(),e.TgZ(46,"span",25),e._uU(47),e.ALo(48,"mytranslate"),e.qZA()(),e.TgZ(49,"div",29)(50,"div",30)(51,"ng-scrollbar",16)(52,"div",31)(53,"mat-form-field",32)(54,"input",33),e.NdJ("click",function(){e.CHM(p);const y=e.oxw();return e.KtG(y.openDateTimePicker(1))}),e.qZA(),e.TgZ(55,"button",34),e.NdJ("click",function(y){return e.CHM(p),e.oxw().openDateTimePicker(1),e.KtG(y.stopPropagation())}),e.TgZ(56,"span",35),e._UZ(57,"lucide-icon",36),e.qZA()(),e.TgZ(58,"ngx-mat-datetime-picker",37,38)(60,"ngx-mat-datepicker-actions")(61,"button",39),e._uU(62),e.ALo(63,"mytranslate"),e.qZA(),e.TgZ(64,"button",40),e._uU(65,"OK"),e.qZA()()()(),e.YNc(66,zt,4,3,"ng-container",19),e.qZA()()(),e.YNc(67,ke,5,5,"div",41),e.qZA()()()()}if(2&x){const p=e.MAs(59),b=e.oxw();e.Q6J("ngIf",b.programObj),e.xp6(2),e.Q6J("ngClass",e.VKq(39,de,b.programObj)),e.xp6(7),e.Oqu(e.lcZ(10,27,"lang_config_educational_program_select_new")),e.xp6(5),e.Q6J("visibility","hover")("ngStyle",e.DdM(41,re)),e.xp6(2),e.Q6J("ngForOf",b.listEducationalProgramObjs),e.xp6(1),e.Q6J("ngIf",!b.form.controls.chooseProgramId.value&&b.listEducationalProgramObjs.length>0),e.xp6(1),e.Q6J("ngIf",!b.listEducationalProgramObjs.length),e.xp6(2),e.Q6J("routerLink",e.VKq(42,Je,e.lcZ(21,29,"/business/create-general-educational-program")))("queryParams",e.VKq(44,ge,b.currentURL)),e.xp6(6),e.Oqu(e.lcZ(27,31,"lang_config_educational_program_add_new")),e.xp6(8),e.Oqu(e.lcZ(35,33,"lang_config_educational_program_add_time")),e.xp6(3),e.Q6J("ngClass",e.WLB(46,Ne,b.form.controls.stepChoose.value<2,b.form.controls.stepChoose.value>=2)),e.xp6(1),e.Q6J("visibility","hover")("ngStyle",e.DdM(49,re)),e.xp6(2),e.Q6J("ngForOf",b.form.controls.weekdayConfig.controls),e.xp6(7),e.Oqu(e.lcZ(48,35,"lang_config_educational_program_add_start_time")),e.xp6(3),e.Q6J("ngClass",e.WLB(50,Ne,b.form.controls.stepChoose.value<3,b.form.controls.stepChoose.value>=3)),e.xp6(1),e.Q6J("visibility","hover")("ngStyle",e.DdM(53,re)),e.xp6(3),e.Q6J("max",b.maxDate)("ngxMatDatetimePicker",p),e.xp6(4),e.Q6J("touchUi",!0)("hideTime",!0),e.xp6(4),e.Oqu(e.lcZ(63,37,"lang_auto_dong")),e.xp6(4),e.Q6J("ngIf",b.form.controls.startTimeEducationalProgram.invalid),e.xp6(1),e.Q6J("ngIf",!b.statusObj.loading)}}let P=(()=>{class x extends i.Q{openDateTimePicker(p){1==p&&this.startTime&&this.startTime.open()}showEducationalProgramSubject(p){this.listEducationalProgramObjs.forEach(b=>{b.id==p&&(b.showChild=!b.showChild,b.showChild||b.subjects.forEach(y=>{y.children?.find(j=>j.id==this.form.controls.chooseProgramId.value)&&(this.form.controls.stepChoose.setValue(1),this.form.controls.chooseProgramId.setValue(0))}))}),this.initForm()}selectSubject(p,b,y){this.listEducationalProgramObjs.forEach(j=>{j.id==p?j.subjects.forEach(F=>{F.id==b?F.children?.forEach(at=>{at.id==y.id?(at.selected=!at.selected,this.form.controls.chooseProgramId.setValue(at.selected?y.id:0),this.form.controls.stepChoose.setValue(at.selected?2:1)):at.selected=!1}):F.children?.map(at=>at.selected=!1)}):j.subjects.map(F=>F.children?.map(at=>at.selected=!1))})}reloadAllEducationalProgram(){this.initForm(),this.initData()}openWeekdayConfig(p){this.form.controls.weekdayConfig.controls.forEach(b=>{b.controls.id.value==p&&b.controls.selected.setValue(!b.controls.selected.value)})}touchedMatSelect(p,b){p?b.controls.infrastructureId.markAsTouched():b.controls.infrastructureId.markAsUntouched()}saveEducationalProgram(){this.isSavingProgram=!0;let p={programId:this.form.controls.chooseProgramId.value,studyingTimes:this.convertStudyTimes(),startTime:this.timeService.formatDateTimeToPostToServer(this.form.controls.startTimeEducationalProgram.value)};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdProgramsPost(this.classroomId,p).subscribe({next:b=>{this.showSuccessSnack("lang_educational_program_save_success_educational_program"),this.isSavingProgram=!1,this.saveEducationalProgramEmit.emit(!0)},error:b=>{this.isSavingProgram=!1,this.errorStatusObj(b.error.message,!0)}}))}convertStudyTimes(){let p=[];return this.form.controls.weekdayConfig.controls.forEach(b=>{if(b.controls.selected.value){let y={days:b.controls.id.value,fromHour:new Date("1970-01-01T"+b.controls.startTime.value).getHours(),fromMinute:new Date("1970-01-01T"+b.controls.startTime.value).getMinutes(),toHour:new Date("1970-01-01T"+b.controls.endTime.value).getHours(),toMinute:new Date("1970-01-01T"+b.controls.endTime.value).getMinutes(),roomId:b.controls.infrastructureId.value};p.push(y)}}),p}convertSubjectList(p,b){let y=[];return p.forEach(j=>{if(j.schoolLevelId==b)if(y.filter(at=>at.id==j.schoolSubjectId&&at.levelId==j.schoolLevelId).length)y.forEach(at=>{at.id==j.schoolSubjectId&&at.levelId==j.schoolLevelId&&(at.children?.find(kt=>kt==j)||at.children?.push(j))});else{let at={id:j.schoolSubjectId,levelId:j.schoolLevelId,name:this.schoolSubjectObjs.find(kt=>kt.id==j.schoolSubjectId)?.name,children:[j]};y.push(at)}}),y}convertProgramInfo(p){let b=[],y=this.sAZTranslateService.myTranslateInstant("lang_auto_lop")??"L\u1edbp",j=this.sAZTranslateService.myTranslateInstant("lang_core_buoi")??"Bu\u1ed5i";return p.forEach(F=>{if(F.name=`${F.name} (${F.totalSession} ${j})`,!b.filter(kt=>kt.id==F.schoolLevelId).length){let kt={id:F.schoolLevelId,name:y+" "+F.schoolLevelId,subjects:this.convertSubjectList(p,F.schoolLevelId),showChild:!1};b.push(kt)}}),b.sort((F,at)=>(at.id??0)-(F.id??0))}convertListInfrastructure(p){let b=[],y=this.commonService.myTranslateInstant("lang_infrastructure_seat")??"";return p.forEach(j=>{j.name=`${j.infrastructure?.name??""} - ${j.name} (${j.numberSeat} ${y})`,b.push(j)}),b}getAllInfrastructure(){this.waitDestroy(this.infrastructureService.apiInfrastructuresRoomsGet().subscribe({next:p=>{this.listInfrastructureObjs=this.convertListInfrastructure(p.list),this.stopStatusObj()},error:p=>{this.errorStatusObj(p.error.message,!0)}}))}initForm(){this.form.controls.chooseProgramId.setValue(0),this.form.controls.startTimeEducationalProgram.setValue(""),this.form.controls.weekdayConfig.clear();for(let p=0;p<7;p++){let b=new B.cw({id:new B.NI(p,{nonNullable:!0}),name:new B.NI("lang_config_educational_program_day_"+p,{nonNullable:!0}),startTime:new B.NI("",{nonNullable:!0}),endTime:new B.NI("",{nonNullable:!0}),infrastructureId:new B.NI(0,{nonNullable:!0}),selected:new B.NI(!1,{nonNullable:!0}),invalidTime:new B.NI(!1,{nonNullable:!0})});this.form.controls.weekdayConfig.push(b)}}initData(){this.initStatusObj(),this.waitDestroy(this.programService.apiProgramsListPost({page:0,size:-1}).subscribe({next:p=>{this.listEducationalProgramObjs=this.convertProgramInfo(p.list),this.getAllInfrastructure()},error:p=>{this.errorStatusObj(p.error.message,!0)}}))}getSubjectObjs(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(p=>{1==p.success?(this.schoolSubjectObjs=this.commonService.concatMultipleArray(p.data?.schoolLevelSubjectObjs.map(b=>b.schoolSubjectObjs)??[]),this.initData()):(this.errorStatusObj(p.message??""),this.initData())}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard",this.getSubjectObjs()}ngAfterViewChecked(){this.form.controls.weekdayConfig.controls.filter(b=>b.controls.selected).length?2==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(3):3==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(2),this.cd.detectChanges()}ngDoCheck(){this.cd.detectChanges()}constructor(p,b,y,j,F,at,kt){super(),this.cd=p,this.timeService=b,this.classroomService=y,this.programService=j,this.infrastructureService=F,this.sAZTranslateService=at,this.commonListService=kt,this.saveEducationalProgramEmit=new e.vpe,this.backLink="",this.currentURL=this.commonService.getCurrentUrlWithoutLocale(),this.listEducationalProgramObjs=[],this.listInfrastructureObjs=[],this.maxDate=le.N.maxDateTimePicker,this.curStep=1,this.isSavingProgram=!1,this.schoolSubjectObjs=[],this.form=new B.cw({chooseProgramId:new B.NI(0,{nonNullable:!0,validators:[B.kI.required,B.kI.min(1)]}),startTimeEducationalProgram:new B.NI("",{nonNullable:!0,validators:[B.kI.required]}),weekdayConfig:new B.Oe([]),stepChoose:new B.NI(1,{nonNullable:!0})},{validators:[se.addNewEducationalProgramFormValidator]}),this.initForm()}}return x.\u0275fac=function(p){return new(p||x)(e.Y36(e.sBO),e.Y36(C.D),e.Y36(t.um),e.Y36(t.Zm),e.Y36(t.wp),e.Y36(te.W),e.Y36(Wt.o7))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-add-new-educational-program"]],viewQuery:function(p,b){if(1&p&&e.Gf(mt,5),2&p){let y;e.iGM(y=e.CRH())&&(b.startTime=y.first)}},inputs:{classroomId:"classroomId",programObj:"programObj"},outputs:{saveEducationalProgramEmit:"saveEducationalProgramEmit"},features:[e._Bn([{provide:L.fM,useClass:Yt.WG,deps:[Mt.Ad,ht.o8]},{provide:L.ab,useFactory:Gt.tF,deps:[C.D]}]),e.qOj],decls:5,vars:3,consts:[[1,"mx-auto","mt-3","pb-2"],[3,"formGroup"],["class","block pb-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"block","pb-5",3,"currentStatusObj"],["azt-track-service","add-new-educational-program-V_itz7ADg","class","btn btn-transparent",3,"disabled","click",4,"ngIf"],[1,"box","px-4","pt-5"],[1,"grid","grid-cols-12",3,"ngClass"],[1,"col-span-12","md:col-span-4"],[1,"flex","px-2","pb-3","items-center"],[1,"bg-info","text-white","h-8","w-8","text-center",2,"border-radius","50%"],[1,"font-bold","text-xl"],[1,"ml-2",2,"vertical-align","middle","font-weight","420","word-break","break-all"],["name","refresh-ccw",1,"ml-2","clickable",2,"vertical-align","baseline !important","width","18px !important","height","18px !important",3,"click"],[1,"border","border-slate-300",2,"border-bottom","0","border-left","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto"],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"],[2,"padding-right","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],["azt-track-service","add-new-educational-programs-eY0H_Hziew",1,"btn","btn-sm","btn-primary","shadow-md","w-full","block","mx-auto","mt-3","mb-3",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-6","mr-2"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[2,"vertical-align","middle","font-size","14px !important"],[1,"ml-2",2,"vertical-align","middle","font-weight","420"],[1,"border","border-slate-300",2,"height","100%","border-bottom","0","border-left","0","border-right","0"],["formArrayName","weekdayConfig",1,"mt-2","pb-2",2,"height","calc(100vh - 205px)","overflow-y","auto",3,"ngClass"],[2,"padding-right","1rem","padding-left","1rem"],[1,"border","border-slate-300",2,"border-bottom","0","border-right","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],[1,"mt-2",2,"padding-left","1rem","padding-right","1rem"],["appearance","outline"],["matInput","","formControlName","startTimeEducationalProgram","readonly","",3,"max","ngxMatDatetimePicker","click"],["matSuffix","",2,"font-size","18px",3,"click"],[1,"w-4","h-4","inline-block"],["name","calendar-clock"],[3,"touchUi","hideTime"],["startTime",""],["mat-raised-button","","color","secondary","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["class","text-right mt-3 mb-3",4,"ngIf"],["azt-track-service","add-new-educational-program-V_itz7ADg",1,"btn","btn-transparent",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[1,"azt-hidden","sm:block"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-right","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-down",2,"width","18px !important","height","18px !important","vertical-align","top"],["name","chevron-right",2,"width","18px !important","height","18px !important","vertical-align","top"],[1,"flex","mt-1","ml-2",2,"font-weight","420","font-size","15px"],[1,"clickable",2,"align-items","center"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 clickable",3,"ngClass",4,"ngFor","ngForOf"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable",3,"ngClass"],["azt-track-service","add-new-educational-programs-bahN75vF_Q",1,"flex","w-full","justify-between",3,"click"],[2,"vertical-align","middle","text-align","left"],["name","check-square","class","text-primary","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","check-square",1,"text-primary",2,"width","18px !important","height","18px !important","vertical-align","top"],[1,"text-danger","mt-3","float-left","text-left"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 text-left relative",3,"formGroup","ngClass",4,"ngIf"],["azt-track-service","add-new-educational-programs-FanOWsky0S",1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable","text-left",3,"formGroup","click"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","text-left","relative",3,"formGroup","ngClass"],[1,"flex","justify-between","flex-wrap"],["azt-track-service","add-new-educational-programs-UqgywYmnzK",1,"clickable",3,"click"],["name","check-square",1,"text-primary","ml-2","clickable","change-block-hidden",2,"width","18px !important","height","18px !important","vertical-align","top",3,"click"],[1,"block","md:ml-2","w-full"],[1,"flex","justify-between",2,"align-items","center"],[2,"width","100%","height","38px","align-items","center"],["type","text","formControlName","startTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],[3,"editableHintTmpl","enableKeyboardInput","cancelBtnTmpl","confirmBtnTmpl"],["timeStartPicker",""],[1,"text-center",2,"vertical-align","middle","align-self","center"],["type","text","formControlName","endTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],["timeEndPicker",""],["cancelBtn",""],["confirmBtn",""],["dialHint",""],["name","check-square",1,"text-primary","ml-2","clickable","hiddenIpt","md:inlineBlockIpt",2,"width","18px !important","height","18px !important","vertical-align","top",3,"click"],["appearance","outline",1,"mt-2","bg-white","rounded"],["formControlName","infrastructureId",3,"value","openedChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","secondary",2,"margin-right","10px"],["mat-raised-button","","color","primary"],[1,"small"],[3,"value"],[1,"text-danger","mt-2"],[1,"text-danger","mt-1"],[1,"text-right","mt-3","mb-3"],["azt-track-service","add-new-educational-programs-R3hLoR84Ua",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block",4,"ngIf"]],template:function(p,b){if(1&p&&(e.TgZ(0,"div",0)(1,"form",1),e.YNc(2,Q,1,1,"azt-loading-effect",2),e.YNc(3,nn,68,54,"ng-template",null,3,e.W1O),e.qZA()()),2&p){const y=e.MAs(4);e.xp6(1),e.Q6J("formGroup",b.form),e.xp6(1),e.Q6J("ngIf",b.statusObj.loading)("ngIfElse",y)}},dependencies:[R.rH,v.mk,v.sg,v.O5,v.PC,Mt.ey,wt.lW,Pt.Nt,ft.KE,ft.hX,ft.R9,Tt.gD,L.rZ,L.T$,L.c_,L.dW,L.cL,Zt.ft,Zt.Bi,B._Y,B.Fj,B.JJ,B.JL,B.sg,B.u,B.CE,s.l,_t.M,st.n,K.Nh5,Nt.KC,I.Jy,I.JV],encapsulation:2}),x})();function pt(x,E){if(1&x&&(e.ynx(0),e.TgZ(1,"p",5),e._uU(2),e.qZA(),e.BQk()),2&x){const p=E.$implicit;e.xp6(2),e.hij("",p.content," ")}}function w(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){e.CHM(p);const y=e.oxw(2);return e.KtG(y.editContent())}),e.O4$(),e.TgZ(1,"svg",7),e._UZ(2,"path",8)(3,"path",9),e.qZA()()}}function G(x,E){if(1&x&&(e.TgZ(0,"div",2)(1,"div"),e.YNc(2,pt,3,1,"ng-container",3),e.qZA(),e.YNc(3,w,4,0,"div",4),e.qZA()),2&x){const p=e.oxw();e.xp6(2),e.Q6J("ngForOf",p.contents),e.xp6(1),e.Q6J("ngIf",p.teacherRole)}}function Y(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"button",22),e.ALo(1,"mytranslate"),e.O4$(),e.TgZ(2,"svg",23),e.NdJ("click",function(){e.CHM(p);const y=e.oxw().$implicit,j=e.oxw(2);return e.KtG(j.removeContent(y))}),e._UZ(3,"path",24)(4,"path",25),e.qZA()()}if(2&x){const p=e.oxw(3);e.s9C("matTooltip",e.lcZ(1,2,"lang_button_delete")),e.Q6J("disabled",p.statusObj.loading)}}function gt(x,E){1&x&&(e.TgZ(0,"div",26)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&x&&(e.xp6(2),e.hij("*",e.lcZ(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function A(x,E){if(1&x&&(e.TgZ(0,"div")(1,"div",18),e._UZ(2,"input",19),e.ALo(3,"mytranslate"),e.YNc(4,Y,5,4,"button",20),e.qZA(),e.YNc(5,gt,4,3,"div",21),e.qZA()),2&x){const p=E.$implicit,b=e.oxw(2);e.xp6(2),e.s9C("placeholder",e.lcZ(3,5,"lang_core_nhap_noi_dung_buoi_hoc")),e.Q6J("formControl",p.controls.content)("disabled",b.statusObj.loading),e.xp6(2),e.Q6J("ngIf",b.listFormContent.controls.length>1),e.xp6(1),e.Q6J("ngIf",p.controls.content.errors)}}function tt(x,E){1&x&&e._UZ(0,"azt-loading-ui",27)}function k(x,E){1&x&&(e.O4$(),e.TgZ(0,"svg",28),e._UZ(1,"path",29)(2,"polyline",30)(3,"polyline",31),e.qZA())}const Z=function(){return[]};function U(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",10),e.YNc(1,A,6,7,"div",3),e.TgZ(2,"div",11)(3,"button",12),e.NdJ("click",function(){e.CHM(p);const y=e.oxw();return e.KtG(y.viewContent())}),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"button",13),e.NdJ("click",function(){e.CHM(p);const y=e.oxw();return e.KtG(y.addContent())}),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.TgZ(9,"button",14),e.NdJ("click",function(){e.CHM(p);const y=e.oxw();return e.KtG(y.saveContent())}),e.YNc(10,tt,1,0,"azt-loading-ui",15),e.YNc(11,k,4,0,"svg",16),e.TgZ(12,"span",17),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()()()()}if(2&x){const p=e.oxw();let b;e.xp6(1),e.Q6J("ngForOf",null!==(b=null==p.listFormContent?null:p.listFormContent.controls)&&void 0!==b?b:e.DdM(15,Z)),e.xp6(2),e.Q6J("disabled",p.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(5,9,"lang_button_cancel")," "),e.xp6(2),e.Q6J("disabled",p.statusObj.loading||p.isEmptyContent()),e.xp6(1),e.hij(" + ",e.lcZ(8,11,"lang_button_add")," "),e.xp6(2),e.Q6J("disabled",p.statusObj.loading||p.isEmptyContent()),e.xp6(1),e.Q6J("ngIf",p.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!p.statusObj.loading),e.xp6(2),e.hij(" ",e.lcZ(14,13,"lang_button_save")," ")}}let At=(()=>{class x extends i.Q{isEmptyContent(){return!!this.listFormContent.controls.find(p=>p.controls.content.errors)}editContent(){this.listFormContent=new B.Oe(this.contents.map(p=>new B.cw({contentId:new B.NI(p.id,{nonNullable:!0,validators:[B.kI.required]}),content:new B.NI(p.content,{nonNullable:!0,validators:[B.kI.required]})})))}addContent(){var p=this.listFormContent.controls.map(b=>b.getRawValue().contentId);this.listFormContent.controls.push(new B.cw({contentId:new B.NI(this.commonService.getVirtualIdWithoutInList(!0,p),{nonNullable:!0,validators:[B.kI.required]}),content:new B.NI("",{nonNullable:!0,validators:[B.kI.required]})}))}removeContent(p){this.listFormContent.controls=this.listFormContent.controls.filter(b=>b!=p)}viewContent(){this.listFormContent.clear()}saveContent(){this.initStatusObj();let p={contents:this.listFormContent?.controls.map(b=>({id:b.getRawValue().contentId<0?0:b.getRawValue().contentId,content:b.getRawValue().content}))??[]};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdPut(this.classroomId,this.sessionId,p).subscribe({next:b=>{this.showSuccessSnack("lang_auto_chinh_sua_thanh_cong"),this.close.emit(!0)},error:b=>{this.errorStatusObj(b.error.message,!0)}}))}ngOnInit(){super.ngOnInit()}constructor(p){super(),this.classroomService=p,this.contents=[],this.close=new e.vpe,this.listFormContent=new B.Oe([])}}return x.\u0275fac=function(p){return new(p||x)(e.Y36(t.um))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-education-program-session-content-form"]],inputs:{teacherRole:"teacherRole",contents:"contents",classroomId:"classroomId",sessionId:"sessionId"},outputs:{close:"close"},features:[e._Bn([{provide:L.fM,useClass:Yt.WG,deps:[Mt.Ad,ht.o8]},{provide:L.ab,useFactory:Gt.tF,deps:[C.D]}]),e.qOj],decls:2,vars:2,consts:[["class","flex justify-between items-center",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"flex","justify-between","items-center"],[4,"ngFor","ngForOf"],["azt-track-service","edit-content-session-clV7wEeRi","class","mr-2 ml-1",3,"click",4,"ngIf"],[1,"text-danger","font-medium"],["azt-track-service","edit-content-session-clV7wEeRi",1,"mr-2","ml-1",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil","zoom-in"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],[1,"mb-2"],[1,"mt-2","flex","justify-end"],["azt-track-service","edit-content-session-fb5Kcem4lN",1,"btn","btn-secondary","py-1",3,"disabled","click"],["azt-track-service","edit-content-session-LUmRlMXNo0",1,"btn","btn-info","py-1","ml-2",3,"disabled","click"],["azt-track-service","edit-content-session-u3EiKdwIT9",1,"btn","btn-primary","ml-2","py-1",3,"disabled","click"],["style","height: 16px; width: 16px;",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-save",4,"ngIf"],[1,"ml-2"],[1,"flex","items-center"],["type","text",1,"form-control","mt-2","mb-2",3,"formControl","disabled","placeholder"],["class","btn btn-light ml-2 px-2",3,"matTooltip","disabled",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],[1,"btn","btn-light","ml-2","px-2",3,"matTooltip","disabled"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","btn-clear-form-content",3,"click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],[2,"height","16px","width","16px"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-save"],["d","M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"],["points","17 21 17 13 7 13 7 21"],["points","7 3 7 8 15 8"]],template:function(p,b){1&p&&(e.YNc(0,G,4,2,"div",0),e.YNc(1,U,15,16,"div",1)),2&p&&(e.Q6J("ngIf",0==b.listFormContent.controls.length),e.xp6(1),e.Q6J("ngIf",b.listFormContent.controls.length>0))},dependencies:[v.sg,v.O5,ct.gM,B.Fj,B.JJ,B.oH,st.n,I.JV],encapsulation:2}),x})();function Jt(x,E){if(1&x&&(e.TgZ(0,"div",3),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&x){const p=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,p.errorApiMessage)," ")}}function on(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"app-add-new-educational-program",6),e.NdJ("saveEducationalProgramEmit",function(y){e.CHM(p);const j=e.oxw(2);return e.KtG(j.emitDataReloadSession(y))}),e.qZA()}if(2&x){const p=e.oxw(2);e.Q6J("classroomId",p.classroomId)("programObj",p.programObj)}}function Me(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(p);const y=e.oxw(3);return e.KtG(y.addNewEducationalProgram())}),e._UZ(1,"lucide-icon",14),e.TgZ(2,"span",15),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()}2&x&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"lang_educational_program_select_another")))}function _n(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",18)(1,"a",19),e.NdJ("auxclick",function(y){const F=e.CHM(p).$implicit,at=e.oxw(4);return e.KtG(at.previewFile(F,y))})("click",function(y){const F=e.CHM(p).$implicit,at=e.oxw(4);return e.KtG(at.previewFile(F,y))}),e._UZ(2,"azt-document-type-file",20),e.qZA()()}if(2&x){const p=E.$implicit;let b;e.xp6(2),e.Q6J("type",p.documentType)("name",null!==(b=p.name)&&void 0!==b?b:"")("url",p.link)("iconVerticalStyle","baseline")("customClass","w-6 h-6")}}function je(x,E){if(1&x&&(e.ynx(0),e.TgZ(1,"div",16),e.YNc(2,_n,3,5,"div",17),e.qZA(),e.BQk()),2&x){const p=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",p.generalDocumentObjs)}}function vn(x,E){1&x&&e._UZ(0,"lucide-icon",25)}function Le(x,E){1&x&&e._UZ(0,"lucide-icon",26)}function it(x,E){1&x&&(e.TgZ(0,"button",35),e._UZ(1,"lucide-icon",36),e.TgZ(2,"span",15),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()),2&x&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"lang_student_absence")))}function Nn(x,E){1&x&&(e.TgZ(0,"button",37),e._UZ(1,"lucide-icon",36),e.qZA())}function Ye(x,E){if(1&x&&(e.TgZ(0,"div",32),e.YNc(1,it,5,3,"button",33),e.ALo(2,"async"),e.ALo(3,"allowFeatureBusinessForUser"),e.YNc(4,Nn,2,0,"button",34),e.ALo(5,"async"),e.ALo(6,"allowFeatureBusinessForUser"),e.qZA()),2&x){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.lcZ(2,2,e.Dn7(3,4,"","training_center_student_attendance",!0))),e.xp6(3),e.Q6J("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.lcZ(5,8,e.Dn7(6,10,"","training_center_student_attendance",!0)))}}function qe(x,E){if(1&x&&(e.ynx(0),e.TgZ(1,"span",43),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&x){const p=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_test_market_address")+": "+(null==p.room.infrastructure?null:p.room.infrastructure.name)+" - "+p.room.name)}}const he=function(x){return{"text-slate-700":x}};function Mn(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",38),e.NdJ("click",function(){e.CHM(p);const y=e.oxw().$implicit,j=e.oxw(5);return e.KtG(j.expandSessionObj(y))}),e.TgZ(1,"div",39)(2,"h3",40)(3,"span",41),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"span",42),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,qe,4,3,"ng-container",5),e.qZA()()}if(2&x){const p=e.oxw().$implicit;e.xp6(3),e.Q6J("ngClass",e.VKq(8,he,p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(5,4,"lang_core_buoi")+" "+p.sort),e.xp6(3),e.Oqu(e.lcZ(8,6,"lang_config_educational_program_day_"+p.day)+", "+p.dateSession+" "+p.timeSession),e.xp6(2),e.Q6J("ngIf",p.room)}}function bn(x,E){if(1&x&&(e.ynx(0),e.TgZ(1,"span",61),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.BQk()),2&x){const p=e.oxw(2).$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_test_market_address")+": "+(null==p.room.infrastructure?null:p.room.infrastructure.name)+" - "+p.room.name)}}const Qe=function(x,E){return{"text-slate-600":x,"text-warning":E}};function Cn(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",50)(1,"div",51)(2,"span",52),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.TgZ(5,"app-education-program-session-content-form",62),e.NdJ("close",function(y){e.CHM(p);const j=e.oxw(2).$implicit,F=e.oxw(5);return e.KtG(F.reloadData(y,j))}),e.qZA()()}if(2&x){const p=e.oxw(2).$implicit,b=e.oxw(5);e.xp6(2),e.Q6J("ngClass",e.WLB(8,Qe,p.outOfDate,!p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(4,6,"lang_auto_noi_dung")),e.xp6(2),e.Q6J("contents",p.contents)("teacherRole",b.teacherRole)("classroomId",b.classroomId)("sessionId",p.id)}}function an(x,E){1&x&&(e.ynx(0),e.TgZ(1,"div",74),e._UZ(2,"img",75),e.ALo(3,"convertCdnLinkOfGitHub"),e.qZA(),e.BQk()),2&x&&(e.xp6(2),e.Q6J("src",e.lcZ(3,1,"images/type_file/unknown-file.svg"),e.LSH))}function mn(x,E){1&x&&(e.ynx(0),e.TgZ(1,"div",76),e._UZ(2,"lucide-icon",77),e.qZA(),e.BQk())}function Tn(x,E){1&x&&(e.ynx(0),e.TgZ(1,"div",78),e._UZ(2,"lucide-icon",79),e.qZA(),e.BQk())}function T(x,E){if(1&x&&(e.TgZ(0,"small",80),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&x){const p=e.oxw().$implicit;e.xp6(1),e.lnq(" ",e.lcZ(2,3,"lang_auto_da_nop"),":\xa0",p.totalFinish,"/",p.totalAttendee," ")}}const J=function(x,E){return{"text-success":x,"text-slate-700/50":E}};function h(x,E){if(1&x&&(e.TgZ(0,"small",81),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&x){const p=e.oxw().$implicit;e.Q6J("ngClass",e.WLB(4,J,p.totalFinish,!p.totalFinish)),e.xp6(1),e.hij(" ",e.lcZ(2,2,p.totalFinish?"lang_auto_da_nop":"lang_auto_chua_nop")," ")}}function N(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"small",82),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"button",83),e.NdJ("click",function(y){e.CHM(p);const j=e.oxw().$implicit,F=e.oxw(2).$implicit;return e.oxw(5).editMarkCoefficient(j,F),y.stopPropagation(),e.KtG(y.preventDefault())}),e.ALo(4,"mytranslate"),e.O4$(),e.TgZ(5,"svg",84),e._UZ(6,"path",85)(7,"path",86),e.qZA()()()}if(2&x){const p=e.oxw().$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,3,"lang_student_score_factor"),":\xa0",p.markCoefficient," "),e.xp6(2),e.s9C("matTooltip",e.lcZ(4,5,"lang_student_edit_mark_coefficient"))}}const H=function(x){return[x]},St=function(x){return{backto:x}};function ue(x,E){if(1&x&&(e.TgZ(0,"div",63)(1,"a",64),e.ALo(2,"navigationLocalize"),e.TgZ(3,"div",65)(4,"div",66),e.YNc(5,an,4,3,"ng-container",5),e.YNc(6,mn,3,0,"ng-container",5),e.YNc(7,Tn,3,0,"ng-container",5),e.qZA(),e.TgZ(8,"div",67)(9,"div",68)(10,"span",69,70),e._uU(12),e.qZA(),e.YNc(13,T,3,5,"small",71),e.YNc(14,h,3,7,"small",72),e.YNc(15,N,8,7,"small",73),e.qZA()()()()()),2&x){const p=E.$implicit,b=e.MAs(11),y=e.oxw(7);let j;e.xp6(1),e.Q6J("routerLink",e.VKq(14,H,e.lcZ(2,12,p.documentType==y.allDocumentTypes.exam?y.teacherRole?"/admin/testbank/exam-results-list/"+(null!==(j=p.categoryId)&&void 0!==j?j:0)+"/"+p.refId+"/0":"/de-thi/"+p.hashId:y.teacherRole?"/admin/testbank/homework-results-list/"+(null!==(j=p.classroomId)&&void 0!==j?j:0)+"/"+p.refId+"/"+p.hashId:"/bai-tap/"+p.hashId)))("queryParams",e.VKq(16,St,y.currentUrl)),e.xp6(4),e.Q6J("ngIf",!p.type),e.xp6(1),e.Q6J("ngIf","exam"==p.type),e.xp6(1),e.Q6J("ngIf","homework"==p.type),e.xp6(3),e.s9C("matTooltip",p.name),e.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",b.isDisabled),e.xp6(2),e.hij(" ",p.name," "),e.xp6(1),e.Q6J("ngIf",y.teacherRole),e.xp6(1),e.Q6J("ngIf",!y.teacherRole),e.xp6(1),e.Q6J("ngIf",y.teacherRole)}}const ve=function(x,E,p,b,y,j){return{backto:x,classroomId:E,programId:p,sessionId:b,levelId:y,subjectId:j}},dn=function(x,E){return{"text-slate-600":x,"btn-text-primary":E}};function kn(x,E){if(1&x&&(e.TgZ(0,"a",87),e.ALo(1,"navigationLocalize"),e.TgZ(2,"span",88),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()()),2&x){const p=e.oxw(2).$implicit,b=e.oxw(5);let y;e.Q6J("routerLink",e.VKq(8,H,e.lcZ(1,4,"/admin/testbank/create-new-document/0")))("queryParams",e.HTZ(10,ve,b.currentUrl,b.classroomId,p.programId,p.id,null!==(y=null==b.programObj?null:b.programObj.schoolLevelId)&&void 0!==y?y:0,null!==(y=null==b.programObj?null:b.programObj.schoolSubjectId)&&void 0!==y?y:0))("ngClass",e.WLB(17,dn,p.outOfDate,!p.outOfDate)),e.xp6(3),e.hij("+ ",e.lcZ(4,6,"lang_business_assign_exams"),"")}}function uo(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",105)(1,"a",106),e.NdJ("click",function(y){e.CHM(p);const j=e.oxw(2).$implicit,F=e.oxw(3).$implicit,at=e.oxw(4).$implicit;let Lt;return e.oxw(5).removeDocumentFromSession(at,null!==(Lt=j.sessionId)&&void 0!==Lt?Lt:0,j.id,F),y.preventDefault(),e.KtG(y.stopPropagation())}),e.TgZ(2,"span",107),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",108),e.qZA()()()}2&x&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function Bn(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"li")(1,"a",102),e.NdJ("auxclick",function(y){e.CHM(p);const j=e.oxw().$implicit,F=e.oxw(12);return e.KtG(F.previewFile(j,y))})("click",function(y){e.CHM(p);const j=e.oxw().$implicit,F=e.oxw(12);return e.KtG(F.previewFile(j,y))}),e._UZ(2,"azt-document-type-file",103),e.YNc(3,uo,5,3,"div",104),e.qZA()()}if(2&x){const p=e.oxw().$implicit,b=e.oxw(12);let y;e.xp6(2),e.Q6J("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(y=p.name)&&void 0!==y?y:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",b.teacherRole)}}function po(x,E){if(1&x&&(e.ynx(0),e.YNc(1,Bn,4,10,"li",5),e.BQk()),2&x){const p=e.oxw(3).$implicit,b=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==b.allDocumentGroupTypes.video)}}const wn=function(x){return{width:x}},On=function(x){return{"dropdown-menu-scroll":x}};function go(x,E){if(1&x&&(e.ynx(0),e.TgZ(1,"h3",95)(2,"span",96),e._UZ(3,"lucide-icon",97),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",98,99)(8,"div",100)(9,"ul",101),e.YNc(10,po,2,1,"ng-container",12),e.qZA()()(),e.BQk()),2&x){const p=e.MAs(7),b=e.oxw(2).$implicit,y=e.oxw(4).last,j=e.oxw(2).last;e.oxw();const F=e.MAs(2),at=e.oxw(2);e.xp6(1),e.Q6J("matMenuTriggerFor",b.documentObjs.length?p:null),e.xp6(3),e.AsE(" ",e.lcZ(5,6,"lang_config_educational_program_"+b.name),""," ("+b.documentObjs.length+")"," "),e.xp6(4),e.Q6J("ngStyle",e.VKq(8,wn,at.isMobileWebView?F.offsetWidth-40+"px":"27rem")),e.xp6(1),e.Q6J("ngClass",e.VKq(10,On,j&&y||b.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",b.documentObjs)}}function ho(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",105)(1,"a",111),e.NdJ("click",function(y){e.CHM(p);const j=e.oxw(2).$implicit,F=e.oxw(3).$implicit,at=e.oxw(4).$implicit;let Lt;return e.oxw(5).removeDocumentFromSession(at,null!==(Lt=j.sessionId)&&void 0!==Lt?Lt:0,j.id,F),y.preventDefault(),e.KtG(y.stopPropagation())}),e.TgZ(2,"span",107),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",108),e.qZA()()()}2&x&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function Yn(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"li")(1,"a",110),e.NdJ("auxclick",function(y){e.CHM(p);const j=e.oxw().$implicit,F=e.oxw(12);return e.KtG(F.previewFile(j,y))})("click",function(y){e.CHM(p);const j=e.oxw().$implicit,F=e.oxw(12);return e.KtG(F.previewFile(j,y))}),e._UZ(2,"azt-document-type-file",103),e.YNc(3,ho,5,3,"div",104),e.qZA()()}if(2&x){const p=e.oxw().$implicit,b=e.oxw(12);let y;e.xp6(2),e.Q6J("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(y=p.name)&&void 0!==y?y:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",b.teacherRole)}}function fo(x,E){if(1&x&&(e.ynx(0),e.YNc(1,Yn,4,10,"li",5),e.BQk()),2&x){const p=e.oxw(3).$implicit,b=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==b.allDocumentGroupTypes.document)}}function Bt(x,E){if(1&x&&(e.ynx(0),e.TgZ(1,"h3",95)(2,"span",96),e._UZ(3,"lucide-icon",97),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",98,109)(8,"div",100)(9,"ul",101),e.YNc(10,fo,2,1,"ng-container",12),e.qZA()()(),e.BQk()),2&x){const p=e.MAs(7),b=e.oxw(2).$implicit,y=e.oxw(4).last,j=e.oxw(2).last;e.oxw();const F=e.MAs(2),at=e.oxw(2);e.xp6(1),e.Q6J("matMenuTriggerFor",b.documentObjs.length?p:null),e.xp6(3),e.AsE(" ",e.lcZ(5,6,"lang_config_educational_program_"+b.name),""," ("+b.documentObjs.length+")"," "),e.xp6(4),e.Q6J("ngStyle",e.VKq(8,wn,at.isMobileWebView?F.offsetWidth-40+"px":"27rem")),e.xp6(1),e.Q6J("ngClass",e.VKq(10,On,j&&y||b.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",b.documentObjs)}}function _e(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",105)(1,"a",115),e.NdJ("click",function(y){e.CHM(p);const j=e.oxw(2).$implicit,F=e.oxw(3).$implicit,at=e.oxw(4).$implicit;let Lt;return e.oxw(5).removeDocumentFromSession(at,null!==(Lt=j.sessionId)&&void 0!==Lt?Lt:0,j.id,F),y.preventDefault(),e.KtG(y.stopPropagation())}),e.TgZ(2,"span",107),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",108),e.qZA()()()}2&x&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function Ee(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"li")(1,"a",114),e.NdJ("auxclick",function(y){e.CHM(p);const j=e.oxw().$implicit,F=e.oxw(12);return e.KtG(F.previewFile(j,y))})("click",function(y){e.CHM(p);const j=e.oxw().$implicit,F=e.oxw(12);return e.KtG(F.previewFile(j,y))}),e._UZ(2,"azt-document-type-file",103),e.YNc(3,_e,5,3,"div",104),e.qZA()()}if(2&x){const p=e.oxw().$implicit,b=e.oxw(12);let y;e.xp6(2),e.Q6J("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(y=p.name)&&void 0!==y?y:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",b.teacherRole)}}function jn(x,E){if(1&x&&(e.ynx(0),e.YNc(1,Ee,4,10,"li",5),e.BQk()),2&x){const p=e.oxw(3).$implicit,b=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==b.allDocumentGroupTypes.homework)}}function zo(x,E){if(1&x&&(e.ynx(0),e.TgZ(1,"h3",95)(2,"span",96),e._UZ(3,"lucide-icon",97),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",112,113)(8,"div",100)(9,"ul",101),e.YNc(10,jn,2,1,"ng-container",12),e.qZA()()(),e.BQk()),2&x){const p=e.MAs(7),b=e.oxw(2).$implicit,y=e.oxw(4).last,j=e.oxw(2).last;e.oxw();const F=e.MAs(2),at=e.oxw(2);e.xp6(1),e.Q6J("matMenuTriggerFor",b.documentObjs.length?p:null),e.xp6(3),e.AsE(" ",e.lcZ(5,6,"lang_config_educational_program_"+b.name),""," ("+b.documentObjs.length+")"," "),e.xp6(4),e.Q6J("ngStyle",e.VKq(8,wn,at.isMobileWebView?F.offsetWidth-40+"px":"27rem")),e.xp6(1),e.Q6J("ngClass",e.VKq(10,On,j&&y||b.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",b.documentObjs)}}function Uo(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",105)(1,"a",119),e.NdJ("click",function(y){e.CHM(p);const j=e.oxw(2).$implicit,F=e.oxw(3).$implicit,at=e.oxw(4).$implicit;let Lt;return e.oxw(5).removeDocumentFromSession(at,null!==(Lt=j.sessionId)&&void 0!==Lt?Lt:0,j.id,F),y.preventDefault(),e.KtG(y.stopPropagation())}),e.TgZ(2,"span",107),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",108),e.qZA()()()}2&x&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function xo(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"li")(1,"a",117),e.NdJ("auxclick",function(y){e.CHM(p);const j=e.oxw().$implicit,F=e.oxw(12);return e.KtG(F.previewFile(j,y))})("click",function(y){e.CHM(p);const j=e.oxw().$implicit,F=e.oxw(12);return e.KtG(F.previewFile(j,y))}),e._UZ(2,"azt-document-type-file",118),e.YNc(3,Uo,5,3,"div",104),e.qZA()()}if(2&x){const p=e.oxw().$implicit,b=e.oxw(12);let y;e.xp6(2),e.Q6J("truncateString",!1)("type",p.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(y=p.name)&&void 0!==y?y:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",b.teacherRole)}}function vo(x,E){if(1&x&&(e.ynx(0),e.YNc(1,xo,4,10,"li",5),e.BQk()),2&x){const p=e.oxw(3).$implicit,b=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==b.allDocumentGroupTypes.homework_view)}}function Fo(x,E){if(1&x&&(e.ynx(0),e.TgZ(1,"h3",95)(2,"span",96),e._UZ(3,"lucide-icon",97),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",112,116)(8,"div",100)(9,"ul",101),e.YNc(10,vo,2,1,"ng-container",12),e.qZA()()(),e.BQk()),2&x){const p=e.MAs(7),b=e.oxw(2).$implicit,y=e.oxw(4).last,j=e.oxw(2).last;e.oxw();const F=e.MAs(2),at=e.oxw(2);e.xp6(1),e.Q6J("matMenuTriggerFor",b.documentObjs.length?p:null),e.xp6(3),e.AsE(" ",e.lcZ(5,6,"lang_config_educational_program_"+b.name),""," ("+b.documentObjs.length+")"," "),e.xp6(4),e.Q6J("ngStyle",e.VKq(8,wn,at.isMobileWebView?F.offsetWidth-40+"px":"27rem")),e.xp6(1),e.Q6J("ngClass",e.VKq(10,On,j&&y||b.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",b.documentObjs)}}function bo(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",105)(1,"a",123),e.NdJ("click",function(y){e.CHM(p);const j=e.oxw(2).$implicit,F=e.oxw(3).$implicit,at=e.oxw(4).$implicit;let Lt;return e.oxw(5).removeDocumentFromSession(at,null!==(Lt=j.sessionId)&&void 0!==Lt?Lt:0,j.id,F),y.preventDefault(),e.KtG(y.stopPropagation())}),e.TgZ(2,"span",107),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",108),e.qZA()()()}2&x&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function Jo(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"li")(1,"a",122),e.NdJ("auxclick",function(y){e.CHM(p);const j=e.oxw().$implicit,F=e.oxw(12);return e.KtG(F.previewFile(j,y))})("click",function(y){e.CHM(p);const j=e.oxw().$implicit,F=e.oxw(12);return e.KtG(F.previewFile(j,y))}),e._UZ(2,"azt-document-type-file",118),e.YNc(3,bo,5,3,"div",104),e.qZA()()}if(2&x){const p=e.oxw().$implicit,b=e.oxw(12);let y;e.xp6(2),e.Q6J("truncateString",!1)("type",p.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(y=p.name)&&void 0!==y?y:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",b.teacherRole)}}function Hn(x,E){if(1&x&&(e.ynx(0),e.YNc(1,Jo,4,10,"li",5),e.BQk()),2&x){const p=e.oxw(3).$implicit,b=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==b.allDocumentGroupTypes.unknown)}}function we(x,E){if(1&x&&(e.ynx(0),e.TgZ(1,"h3",95)(2,"span",96),e._UZ(3,"lucide-icon",97),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"mat-menu",112,120)(8,"div",121)(9,"ul",101),e.YNc(10,Hn,2,1,"ng-container",12),e.qZA()()(),e.BQk()),2&x){const p=e.MAs(7),b=e.oxw(2).$implicit,y=e.oxw(4).last,j=e.oxw(2).last;e.oxw();const F=e.MAs(2),at=e.oxw(2);e.xp6(1),e.Q6J("matMenuTriggerFor",p),e.xp6(3),e.AsE(" ",e.lcZ(5,6,"lang_config_educational_program_"+b.name),""," ("+b.documentObjs.length+")"," "),e.xp6(4),e.Q6J("ngStyle",e.VKq(8,wn,at.isMobileWebView?F.offsetWidth-40+"px":"18rem")),e.xp6(1),e.Q6J("ngClass",e.VKq(10,On,j&&y||b.documentObjs.length>5)),e.xp6(1),e.Q6J("ngForOf",b.documentObjs)}}function qo(x,E){if(1&x&&(e.TgZ(0,"div",94),e.YNc(1,go,11,12,"ng-container",5),e.YNc(2,Bt,11,12,"ng-container",5),e.YNc(3,zo,11,12,"ng-container",5),e.YNc(4,Fo,11,12,"ng-container",5),e.YNc(5,we,11,12,"ng-container",5),e.qZA()),2&x){const p=e.oxw().$implicit,b=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name==b.allDocumentGroupTypes.video),e.xp6(1),e.Q6J("ngIf",p.name==b.allDocumentGroupTypes.document),e.xp6(1),e.Q6J("ngIf",p.name==b.allDocumentGroupTypes.homework),e.xp6(1),e.Q6J("ngIf",p.name==b.allDocumentGroupTypes.homework_view),e.xp6(1),e.Q6J("ngIf",p.name==b.allDocumentGroupTypes.unknown&&p.documentObjs.length)}}function $t(x,E){if(1&x&&(e.ynx(0),e.YNc(1,qo,6,5,"div",93),e.BQk()),2&x){const p=E.$implicit,b=e.oxw(9);e.xp6(1),e.Q6J("ngIf",p.name!=b.allDocumentGroupTypes.unknown||p.name==b.allDocumentGroupTypes.unknown&&p.documentObjs.length)}}function He(x,E){if(1&x&&(e.ynx(0),e.YNc(1,$t,2,1,"ng-container",12),e.BQk()),2&x){const p=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngForOf",p.groupDocumentObjs)}}function Ge(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",105)(1,"a",128),e.NdJ("click",function(){e.CHM(p);const y=e.oxw().$implicit,j=e.oxw(4).$implicit,F=e.oxw(5);let at;return e.KtG(F.removeDocumentFromSession(j,null!==(at=y.sessionId)&&void 0!==at?at:0,y.id))}),e.TgZ(2,"span",107),e.ALo(3,"mytranslate"),e._UZ(4,"lucide-icon",108),e.qZA()()()}2&x&&(e.xp6(2),e.Q6J("matTooltip",e.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function Gn(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",125)(1,"a",126),e.NdJ("auxclick",function(y){const F=e.CHM(p).$implicit,at=e.oxw(9);return e.KtG(at.previewFile(F,y))})("click",function(y){const F=e.CHM(p).$implicit,at=e.oxw(9);return e.KtG(at.previewFile(F,y))}),e._UZ(2,"azt-document-type-file",127),e.qZA(),e.YNc(3,Ge,5,3,"div",104),e.qZA()}if(2&x){const p=E.$implicit,b=e.oxw(9);let y;e.xp6(2),e.Q6J("type",p.documentType)("name",null!==(y=p.name)&&void 0!==y?y:"")("url",p.link)("customClass","w-6 h-6"),e.xp6(1),e.Q6J("ngIf",b.teacherRole)}}function Rn(x,E){if(1&x&&e.YNc(0,Gn,4,5,"div",124),2&x){const p=e.oxw(3).$implicit;e.Q6J("ngForOf",p.normalDocumentObjs)}}function yn(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"app-upload-document-for-session",129),e.NdJ("emitFileDocument",function(y){e.CHM(p);const j=e.oxw(3).$implicit,F=e.oxw(5);return e.KtG(F.uploadFileEmitted(y,j))}),e.TgZ(1,"span",88),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()}if(2&x){const p=e.oxw(3).$implicit;e.Q6J("isBtn",!0)("customClass",p.outOfDate?"text-slate-600":"text-primary"),e.xp6(2),e.Oqu(e.lcZ(3,3,"lang_educational_program_add_document"))}}function un(x,E){if(1&x&&(e.TgZ(0,"div",54),e.YNc(1,He,2,1,"ng-container",89),e.YNc(2,Rn,1,1,"ng-template",null,90,e.W1O),e.TgZ(4,"div",91),e.YNc(5,yn,4,5,"app-upload-document-for-session",92),e.qZA()()),2&x){const p=e.MAs(3),b=e.oxw(2).$implicit,y=e.oxw(5);e.xp6(1),e.Q6J("ngIf",b.groupDocumentObjs.length)("ngIfElse",p),e.xp6(4),e.Q6J("ngIf",y.teacherRole)}}function Ln(x,E){1&x&&(e.TgZ(0,"div",130)(1,"div",131)(2,"span",132),e._UZ(3,"azt-loading-ui",133),e.qZA()()()),2&x&&(e.xp6(3),e.Q6J("type","oval"))}function En(x,E){if(1&x&&(e.TgZ(0,"a",141),e.ALo(1,"navigationLocalize"),e._UZ(2,"lucide-icon",142),e.TgZ(3,"span",140),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&x){const p=e.oxw(3).$implicit,b=e.oxw(5);e.Q6J("routerLink",e.VKq(8,H,e.lcZ(1,4,"/admin/student/attendance-student/"+b.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.VKq(10,St,"/admin/student/classroom-details/"+b.classroomId+"/3?sessionId="+p.id+"&backto="+b.backLink)),e.xp6(4),e.AsE("",e.lcZ(5,6,"lang_student_attendance_student"),""," ("+p.totalJoinedStudent+"/"+p.totalStudent+")","")}}function Co(x,E){if(1&x&&(e.TgZ(0,"a",143),e.ALo(1,"navigationLocalize"),e._UZ(2,"lucide-icon",144),e.TgZ(3,"span",140),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&x){const p=e.oxw(3).$implicit,b=e.oxw(5);e.Q6J("routerLink",e.VKq(7,H,e.lcZ(1,3,"/admin/student/distribute-document/"+b.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.VKq(9,St,"/admin/student/classroom-details/"+b.classroomId+"/3?sessionId="+p.id+"&backto="+b.backLink)),e.xp6(4),e.Oqu(e.lcZ(5,5,"lang_student_distribute_books"))}}function Re(x,E){if(1&x&&(e.TgZ(0,"a",145),e.ALo(1,"navigationLocalize"),e._UZ(2,"lucide-icon",146),e.TgZ(3,"span",140),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&x){const p=e.oxw(3).$implicit,b=e.oxw(5);e.Q6J("routerLink",e.VKq(7,H,e.lcZ(1,3,"/admin/student/submit-score/"+b.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.VKq(9,St,"/admin/student/classroom-details/"+b.classroomId+"/3?sessionId="+p.id+"&backto="+b.backLink)),e.xp6(4),e.Oqu(e.lcZ(5,5,"lang_student_enter_score"))}}function Vn(x,E){if(1&x&&(e.TgZ(0,"div",57)(1,"div",51)(2,"span",52),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.TgZ(5,"div",134),e.YNc(6,En,6,12,"a",135),e.ALo(7,"async"),e.ALo(8,"allowFeatureBusinessForUser"),e.YNc(9,Co,6,11,"a",136),e.ALo(10,"async"),e.ALo(11,"allowFeatureBusinessForUser"),e.YNc(12,Re,6,11,"a",137),e.ALo(13,"async"),e.ALo(14,"allowFeatureBusinessForUser"),e.TgZ(15,"a",138),e.ALo(16,"navigationLocalize"),e._UZ(17,"lucide-icon",139),e.TgZ(18,"span",140),e._uU(19),e.ALo(20,"mytranslate"),e.qZA()()()()),2&x){const p=e.oxw(2).$implicit,b=e.oxw(5);e.xp6(2),e.Q6J("ngClass",e.WLB(32,Qe,p.outOfDate,!p.outOfDate)),e.xp6(1),e.hij(" ",e.lcZ(4,8,"lang_auto_hanh_dong")," "),e.xp6(3),e.Q6J("ngIf",e.lcZ(7,10,e.Dn7(8,12,"","training_center_student_attendance",!1))),e.xp6(3),e.Q6J("ngIf",e.lcZ(10,16,e.Dn7(11,18,"","training_center_student_book",!1))),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,22,e.Dn7(14,24,"","training_center_student_mark",!1))),e.xp6(3),e.Q6J("routerLink",e.VKq(35,H,e.lcZ(16,28,"/admin/student/add-comment/"+b.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.VKq(37,St,"/admin/student/classroom-details/"+b.classroomId+"/3?sessionId="+p.id+"&backto="+b.backLink)),e.xp6(4),e.Oqu(e.lcZ(20,30,"lang_auto_nhap_nhan_xet"))}}function To(x,E){if(1&x&&(e.TgZ(0,"div",57)(1,"div",51)(2,"span",52),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.TgZ(5,"div",134)(6,"div",147)(7,"span"),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"span",148),e._uU(11),e.ALo(12,"mytranslate"),e.qZA()()()()),2&x){const p=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngClass",e.WLB(10,Qe,p.outOfDate,!p.outOfDate)),e.xp6(1),e.hij(" ",e.lcZ(4,4,"lang_auto_hanh_dong")," "),e.xp6(5),e.Oqu(e.lcZ(9,6,"lang_business_requested_leave_with_a_reason")),e.xp6(3),e.Oqu(null!=p.studentAttendance&&p.studentAttendance.reason?null==p.studentAttendance?null:p.studentAttendance.reason:e.lcZ(12,8,"lang_student_absence_no_reason"))}}function Dn(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",44)(1,"div",45),e.NdJ("click",function(){e.CHM(p);const y=e.oxw().$implicit,j=e.oxw(5);return e.KtG(j.expandSessionObj(y))}),e.TgZ(2,"h3",46)(3,"span",47),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"span",48),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,bn,4,3,"ng-container",5),e.qZA(),e.YNc(10,Cn,6,11,"div",49),e.TgZ(11,"div",50)(12,"div",51)(13,"span",52),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()(),e.TgZ(16,"div",53)(17,"div",54),e.YNc(18,ue,16,18,"div",55),e.YNc(19,kn,5,20,"a",56),e.qZA()()(),e.TgZ(20,"div",57)(21,"div",51)(22,"span",52),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()(),e.TgZ(25,"div",53),e.YNc(26,un,6,3,"div",58),e.YNc(27,Ln,4,1,"div",59),e.qZA()(),e.YNc(28,Vn,21,39,"div",60),e.ALo(29,"async"),e.ALo(30,"allowFeatureBusinessForUser"),e.ALo(31,"async"),e.ALo(32,"allowFeatureBusinessForUser"),e.ALo(33,"async"),e.ALo(34,"allowFeatureBusinessForUser"),e.YNc(35,To,13,13,"div",60),e.ALo(36,"async"),e.ALo(37,"allowFeatureBusinessForUser"),e.qZA()}if(2&x){const p=e.oxw().$implicit,b=e.oxw(5);e.uIk("id","session-"+p.id),e.xp6(3),e.Q6J("ngClass",e.VKq(48,he,p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(5,16,"lang_core_buoi")+" "+p.sort),e.xp6(3),e.Oqu(e.lcZ(8,18,"lang_config_educational_program_day_"+p.day)+", "+p.dateSession+" "+p.timeSession),e.xp6(2),e.Q6J("ngIf",p.room),e.xp6(1),e.Q6J("ngIf",p.contents&&p.contents.length),e.xp6(3),e.Q6J("ngClass",e.WLB(50,Qe,p.outOfDate,!p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(15,20,"lang_cms_auto_gen_test_exam_title")),e.xp6(4),e.Q6J("ngForOf",p.examHomeworkObjs),e.xp6(1),e.Q6J("ngIf",b.teacherRole),e.xp6(3),e.Q6J("ngClass",e.WLB(53,Qe,p.outOfDate,!p.outOfDate)),e.xp6(1),e.Oqu(e.lcZ(24,22,"lang_testbank_document_list_header_title")),e.xp6(3),e.Q6J("ngIf",!p.isDeletingDocument&&!p.isUploadingDocument),e.xp6(1),e.Q6J("ngIf",p.isDeletingDocument||p.isUploadingDocument),e.xp6(1),e.Q6J("ngIf",(e.lcZ(29,24,e.Dn7(30,26,"","training_center_student_attendance",!1))||e.lcZ(31,30,e.Dn7(32,32,"","training_center_student_book",!1))||e.lcZ(33,36,e.Dn7(34,38,"","training_center_student_mark",!1)))&&b.teacherRole),e.xp6(7),e.Q6J("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.lcZ(36,42,e.Dn7(37,44,"","training_center_student_attendance",!0))&&!b.teacherRole)}}function ko(x,E){if(1&x&&(e.TgZ(0,"div",28),e.YNc(1,Ye,7,14,"div",29),e.YNc(2,Mn,10,10,"div",30),e.YNc(3,Dn,38,56,"div",31),e.qZA()),2&x){const p=E.$implicit,b=e.oxw(5);e.xp6(1),e.Q6J("ngIf",!b.teacherRole),e.xp6(1),e.Q6J("ngIf",!p.isExpanded),e.xp6(1),e.Q6J("ngIf",p.isExpanded)}}function Pn(x,E){if(1&x&&(e.ynx(0),e.YNc(1,ko,4,3,"div",27),e.BQk()),2&x){const p=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",p.programObjs)}}function Zn(x,E){if(1&x){const p=e.EpF();e.ynx(0),e.TgZ(1,"h3",21)(2,"span",22),e.NdJ("click",function(){const j=e.CHM(p).$implicit;return e.KtG(j.expand=!j.expand)}),e._uU(3),e.ALo(4,"mytranslate"),e.YNc(5,vn,1,0,"lucide-icon",23),e.YNc(6,Le,1,0,"lucide-icon",24),e.qZA()(),e.YNc(7,Pn,2,1,"ng-container",5),e.BQk()}if(2&x){const p=E.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,4,p.monthName)," "),e.xp6(2),e.Q6J("ngIf",p.expand),e.xp6(1),e.Q6J("ngIf",!p.expand),e.xp6(1),e.Q6J("ngIf",p.expand)}}function An(x,E){if(1&x&&(e.ynx(0),e.TgZ(1,"div",7,8)(3,"div",9)(4,"h3",10),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e.YNc(7,Me,5,3,"button",11),e.qZA(),e.YNc(8,je,3,1,"ng-container",5),e.qZA(),e.ynx(9),e.YNc(10,Zn,8,6,"ng-container",12),e.BQk()()),2&x){const p=e.oxw(2);e.xp6(5),e.hij(" ",e.lcZ(6,4,"lang_educational_program_general_documents")," "),e.xp6(2),e.Q6J("ngIf",p.teacherRole),e.xp6(1),e.Q6J("ngIf",p.generalDocumentObjs.length),e.xp6(2),e.Q6J("ngForOf",p.groupProgramSessionObjs)}}function sn(x,E){1&x&&(e.TgZ(0,"h3",155),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&x&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_config_educational_program_add_new_description")," "))}function pn(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"button",156),e.NdJ("click",function(){e.CHM(p);const y=e.oxw(4);return e.KtG(y.addNewEducationalProgram())}),e.TgZ(1,"span",157),e._UZ(2,"lucide-icon",158),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&x&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_config_educational_program_select_new")))}function wo(x,E){if(1&x&&(e.TgZ(0,"div",151)(1,"h3",152),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,sn,3,3,"h3",153),e.YNc(5,pn,6,3,"button",154),e.qZA()),2&x){const p=e.oxw(3);e.xp6(2),e.hij(" ",e.lcZ(3,3,"lang_config_educational_program_no_have_yet")," "),e.xp6(2),e.Q6J("ngIf",p.teacherRole),e.xp6(1),e.Q6J("ngIf",p.teacherRole)}}function Qo(x,E){1&x&&(e.TgZ(0,"h3",155),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&x&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_config_educational_program_add_new_session_desc")," "))}function rn(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"button",160),e.NdJ("click",function(){e.CHM(p);const y=e.oxw(4);return e.KtG(y.editEducationalProgram())}),e.TgZ(1,"span",157),e._UZ(2,"lucide-icon",161),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&x&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_config_educational_program_edit_btn")))}function Oo(x,E){if(1&x&&(e.TgZ(0,"div",151)(1,"h3",152),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.YNc(4,Qo,3,3,"h3",153),e.YNc(5,rn,6,3,"button",159),e.qZA()),2&x){const p=e.oxw(3);e.xp6(2),e.hij(" ",e.lcZ(3,3,"lang_config_educational_program_no_have_session_yet")," "),e.xp6(2),e.Q6J("ngIf",p.teacherRole),e.xp6(1),e.Q6J("ngIf",p.teacherRole)}}function Bo(x,E){if(1&x&&(e.ynx(0),e.YNc(1,wo,6,5,"div",149),e.YNc(2,Oo,6,5,"ng-template",null,150,e.W1O),e.BQk()),2&x){const p=e.MAs(3),b=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!b.programObj)("ngIfElse",p)}}function me(x,E){if(1&x&&(e.YNc(0,on,1,2,"app-add-new-educational-program",4),e.YNc(1,An,11,6,"ng-container",5),e.YNc(2,Bo,4,2,"ng-container",5)),2&x){const p=e.oxw();e.Q6J("ngIf",p.showAddNewEducationalProgram),e.xp6(1),e.Q6J("ngIf",!p.showAddNewEducationalProgram&&p.programSessionObjs.length),e.xp6(1),e.Q6J("ngIf",!p.showAddNewEducationalProgram&&p.programSessionObjs.length<=0)}}let gn=(()=>{class x extends i.Q{emitDataReloadSession(p){p?(this.initStatusObj(),this.programObj=void 0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter.emit()):this.showAddNewEducationalProgram=!1}editMarkCoefficient(p,b){this.sAztDialogService.open(rt.h,{data:{id:p.markId??0,name:"",coefficient:p.markCoefficient,programId:b.programId,classroomId:this.classroomId,sessionId:b.id,isOnlyCoefficient:!0,documentName:p.name,documentType:p.type},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(j=>{j&&this.reloadSessionDataOfProgram(b)})}reloadData(p,b){p&&this.reloadSessionDataOfProgram(b)}reloadSessionDataOfProgram(p){p.isLoadingData=!0,this.reloadSessionDataEmitter.emit(p)}addNewEducationalProgram(){this.showAddNewEducationalProgram=!this.showAddNewEducationalProgram}editEducationalProgram(){let p=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/business/edit-educational-program/"+this.programObj?.id,"?backTo="+p)}removeDocumentFromSession(p,b,y,j){var F=(p.normalDocumentObjs.filter(kt=>kt.id==y)[0].name??"")+" - "+this.commonService.myTranslateInstant("lang_core_buoi")+" "+p.sort.toString(),at=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+F+" </div> ?";this.sAztDialogService.open(xt.s,{data:{content:at},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(kt=>{kt&&(p.isDeletingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsDocumentIdDelete(this.classroomId,b,y).subscribe({next:Lt=>{j&&(j.documentObjs=j.documentObjs.filter(Ut=>Ut.id!=y)),p.normalDocumentObjs=p.normalDocumentObjs.filter(Ut=>Ut.id!=y),this.showSuccessSnack("lang_config_educational_program_remove_document_link_successfully"),p.isDeletingDocument=!1},error:Lt=>{p.isDeletingDocument=!1,this.errorStatusObj(Lt.error.message,!0)}})))})}uploadFileEmitted(p,b){b.isUploadingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsPost(this.classroomId,b.id,p).subscribe({next:y=>{this.reloadSessionDataOfProgram(b),b.isUploadingDocument=!1,this.showSuccessSnack("lang_config_educational_program_add_document_link_successfully")},error:y=>{b.isUploadingDocument=!1,this.errorStatusObj(y.error.message,!0)}}))}expandSessionObj(p){p.isExpanded=!p.isExpanded,this.changeSessionDataEmitter.emit(p)}previewFile(p,b){if(this.isBusinessDomain&&p.type==l.s.video&&(0,Ct.oW)(p.link??""))window.open(p.link,"_blank");else{const y={name:p.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(p.type),type:p.type,url:p.link};this.sAztDialogService.open(et.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...y,index:0},showDownloadIcon:!1},restoreFocus:!1})}}ngAfterViewInit(){let p=this.programSessionObjs.find(b=>b.isExpanded);if(p){let b=document.getElementById("session-"+p.id);window.scrollTo({top:b?.offsetTop})}}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.backLink||(this.backLink="/admin/student/manage-classroom/0")}constructor(p,b,y,j){super(),this.sAztDialogService=p,this.cd=b,this.classroomService=y,this.sAztFileTypeService=j,this.backLink="",this.errorApiMessage="",this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter=new e.vpe,this.changeSessionDataEmitter=new e.vpe,this.allDocumentTypes=l.s,this.allDocumentGroupTypes=Ot.K,this.showAddNewEducationalProgram=!1,this.currentUrl=this.commonService.getCurrentUrlWithoutLocale()}}return x.\u0275fac=function(p){return new(p||x)(e.Y36(V.C),e.Y36(e.sBO),e.Y36(t.um),e.Y36(nt.v))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-list-sessions"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",errorApiMessage:"errorApiMessage",generalDocumentObjs:"generalDocumentObjs",programSessionObjs:"programSessionObjs",groupProgramSessionObjs:"groupProgramSessionObjs",programObj:"programObj"},outputs:{reloadSessionDataEmitter:"reloadSessionDataEmitter",changeSessionDataEmitter:"changeSessionDataEmitter"},features:[e.qOj],decls:4,vars:2,consts:[[1,"container","educational-program-width"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf","ngIfElse"],["noApiError",""],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[3,"classroomId","programObj","saveEducationalProgramEmit",4,"ngIf"],[4,"ngIf"],[3,"classroomId","programObj","saveEducationalProgramEmit"],[1,"box","p-3","mb-3"],["generalDocumentsWidget",""],[1,"flex",2,"justify-content","space-between","align-items","center"],[1,"font-medium","text-md"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4","class","btn btn-primary text-white","style","cursor: default; align-items: baseline",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4",1,"btn","btn-primary","text-white",2,"cursor","default","align-items","baseline",3,"click"],["name","refresh-cw",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"ml-1",2,"vertical-align","middle"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],["azt-track-service","list-educational-program-sessions-tZA6KoGtc",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","iconVerticalStyle","customClass"],[1,"flex","mt-5",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-right","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-down",2,"width","18px !important","height","18px !important","vertical-align","top"],["name","chevron-right",2,"width","18px !important","height","18px !important","vertical-align","top"],["class","relative mt-2",4,"ngFor","ngForOf"],[1,"relative","mt-2"],["class","absolute","style","right: 5px; top: 5px; z-index: 99",4,"ngIf"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9","class","box p-3 mb-3 cursor-pointer clickable expanded-box",3,"click",4,"ngIf"],["class","box p-3 mb-3","style","user-select: none",4,"ngIf"],[1,"absolute",2,"right","5px","top","5px","z-index","99"],["class","btn btn-warning btn-sm text-slate-600 change-block-hidden","style","cursor: default",4,"ngIf"],["class","btn btn-warning btn-sm text-slate-600 change-hidden-block","style","cursor: default; padding: 3px",4,"ngIf"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-block-hidden",2,"cursor","default"],["name","user-x",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-hidden-block",2,"cursor","default","padding","3px"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9",1,"box","p-3","mb-3","cursor-pointer","clickable","expanded-box",3,"click"],[1,"heading"],[1,"font-medium","pr-5","md:pr-auto"],[2,"font-weight","420",3,"ngClass"],[1,"ml-2","text-slate-500",2,"font-weight","400"],[1,"text-slate-500",2,"font-weight","400"],[1,"box","p-3","mb-3",2,"user-select","none"],["azt-track-service","list-educational-program-sessions-AdTUEEwTH6",1,"heading","cursor-pointer","expanded-box-open","pb-2",3,"click"],[1,"font","pr-5","md:pr-auto"],[1,"font-medium",3,"ngClass"],[1,"ml-2","text-slate-500"],["class","azt-answer",4,"ngIf"],[1,"azt-answer"],[1,"strike"],[1,"uppercase",3,"ngClass"],[1,"azt-answer-content","p-3","w-full"],[1,"grid","grid-cols-12","items-center","gap-3"],["class","col-span-12 md:col-span-3",4,"ngFor","ngForOf"],["style","text-align: left","azt-track-service","list-educational-program-sessions-7tcWVQIX5M","class","btn btn-transparent w-48 block",3,"routerLink","queryParams","ngClass",4,"ngIf"],[1,"azt-answer","mt-1"],["class","grid grid-cols-12 items-center gap-3",4,"ngIf"],["class","grid grid-cols-12 gap-2",4,"ngIf"],["class","azt-answer mt-1",4,"ngIf"],[1,"text-slate-500"],[3,"contents","teacherRole","classroomId","sessionId","close"],[1,"col-span-12","md:col-span-3"],["azt-track-service","list-educational-program-sessions-osVwsOKGN",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-700/50 mb-0","style","font-size: 13px",4,"ngIf"],["class","mb-0","style","font-size: 13px",3,"ngClass",4,"ngIf"],["class","text-primary mb-0 relative","style","font-size: 13px",4,"ngIf"],[1,"w-8","h-8","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],[1,"w-8","h-8","text-pending"],["name","file-check"],[1,"w-8","h-8","text-primary"],["name","file-text"],[1,"text-slate-700/50","mb-0",2,"font-size","13px"],[1,"mb-0",2,"font-size","13px",3,"ngClass"],[1,"text-primary","mb-0","relative",2,"font-size","13px"],["azt-track-service","list-educational-program-sessions-mHY0DeFrF",1,"w-4","h-4","inline-block",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","13","height","13","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil",2,"vertical-align","text-top"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],["azt-track-service","list-educational-program-sessions-7tcWVQIX5M",1,"btn","btn-transparent","w-48","block",2,"text-align","left",3,"routerLink","queryParams","ngClass"],[1,"uppercase"],[4,"ngIf","ngIfElse"],["normalViewDocument",""],[1,"col-span-12","md:col-span-2"],[3,"isBtn","customClass","emitFileDocument",4,"ngIf"],["class","col-span-12 md:col-span-2 relative",4,"ngIf"],[1,"col-span-12","md:col-span-2","relative"],[1,"flex","px-3",2,"font-weight","420","font-size","15px",3,"matMenuTriggerFor"],[1,"clickable","w-full","text-primary",2,"align-items","center"],["name","arrow-down-circle",2,"width","18px !important","height","18px !important","vertical-align","top"],["xPosition","after"],["matMenuVideo","matMenu"],[1,"dropdown-menu","show",3,"ngStyle"],[1,"dropdown-content",3,"ngClass"],["azt-track-service","list-educational-program-sessions-9Uh-D7fBV",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","textWidth","type","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["class","absolute top-0 right-0 p-1 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-50"],["azt-track-service","list-educational-program-sessions-b0R49s83kG",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[1,"w-4","h-4","inline-block",3,"matTooltip"],["name","x"],["matMenuDocument","matMenu"],["azt-track-service","list-educational-program-sessions-3xvwjvQpPm",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-wmJtTG9lgc",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["xPosition","before"],["matMenuHomework","matMenu"],["azt-track-service","list-educational-program-sessions-0ddxB4xw-G",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-H_Fu6rJpUs",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuHomeworkView","matMenu"],["azt-track-service","list-educational-program-sessions-URYQZ4M5Qb",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","type","textWidth","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["azt-track-service","list-educational-program-sessions-MHIjTu_EQr",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuUnknown","matMenu"],[1,"dropdown-menu","show","w-72",3,"ngStyle"],["azt-track-service","list-educational-program-sessions-yixL-fRljl",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-bjX0o_IOex",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["class","col-span-12 md:col-span-3 relative",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-3","relative"],["azt-track-service","list-educational-program-sessions-0reisrghN1",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","customClass"],["azt-track-service","list-educational-program-sessions-E4pIFQJwz",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[3,"isBtn","customClass","emitFileDocument"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","text-center","p-4",2,"align-items","center"],[1,"w-6","h-6","mx-auto","flex"],[3,"type"],[1,"azt-answer-content","py-2","w-full","flex"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-dM0Vh7XPW",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","message-circle",2,"width","18px !important","height","18px !important","vertical-align","middle"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"routerLink","queryParams"],["name","users",2,"width","18px !important","height","18px !important","vertical-align","middle"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","book",2,"width","18px !important","height","18px !important","vertical-align","middle"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","clipboard-signature",2,"width","18px !important","height","18px !important","vertical-align","middle"],[1,"font-medium"],[1,"text-danger"],["class","box px-4 py-5 text-center mx-auto mt-3",4,"ngIf","ngIfElse"],["hasProgramObj",""],[1,"box","px-4","py-5","text-center","mx-auto","mt-3"],[2,"font-weight","450","font-size","15.5px"],["class","mt-3","style","font-weight: 400; font-size: 14px",4,"ngIf"],["azt-track-service","config-educational-program-UuVaYM-oC","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","400","font-size","14px"],["azt-track-service","config-educational-program-UuVaYM-oC",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],[1,"w-4","h-4","inline-block","mr-2"],["name","plus"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","edit"]],template:function(p,b){if(1&p&&(e.TgZ(0,"div",0),e.YNc(1,Jt,3,3,"div",1),e.YNc(2,me,3,3,"ng-template",null,2,e.W1O),e.qZA()),2&p){const y=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!b.statusObj.loading&&b.errorApiMessage)("ngIfElse",y)}},dependencies:[R.rH,v.mk,v.sg,v.O5,v.PC,dt.VK,dt.p6,ct.gM,ot.Q,st.n,M.F,K.Nh5,W.a,P,At,v.Ov,I.Jy,I.JV,I.Bo,I.J8],encapsulation:2}),x})();function hn(x,E){if(1&x&&e._UZ(0,"azt-loading-effect",2),2&x){const p=e.oxw();e.Q6J("currentStatusObj",p.statusObj)}}function fn(x,E){if(1&x){const p=e.EpF();e.TgZ(0,"div",3)(1,"app-list-sessions",4),e.NdJ("reloadSessionDataEmitter",function(y){e.CHM(p);const j=e.oxw();return e.KtG(j.reloadSessionData(y))})("changeSessionDataEmitter",function(y){e.CHM(p);const j=e.oxw();return e.KtG(j.changeSessionData(y))}),e.qZA()()}if(2&x){const p=e.oxw();e.xp6(1),e.Q6J("teacherRole",p.teacherRole)("classroomId",p.classroomId)("backLink",p.backLink)("errorApiMessage",p.errorApiMessage)("generalDocumentObjs",p.generalDocumentObjs)("programSessionObjs",p.programSessionObjs)("groupProgramSessionObjs",p.groupProgramSessionObjs)("programObj",p.programObj)}}let yo=(()=>{class x extends i.Q{changeSessionData(p){this.programSessionObjs.map(b=>b.id==p.id?p:b),this.teacherRole&&this.commonService.myNavigationWithQueryString(`/admin/student/classroom-details/${this.classroomId}/3`,`?sessionId=${p.id}${this.backLink?"&backTo="+this.backLink:""}`)}reloadSessionData(p){this.initData(p)}convertNormalDocumentByGroup(p){let b={};return p.forEach(y=>{y.groupType&&(b.hasOwnProperty(y.groupType)||(b[y.groupType]=[]),b[y.groupType].push(y))}),b}processData(p){let b=this.commonService.arrayToDictionary(p,j=>j.groupType?j.groupType:"unknown"),y=[{name:"video",documentObjs:[]},{name:"document",documentObjs:[]},{name:"homework",documentObjs:[]},{name:"homework_view",documentObjs:[]},{name:"unknown",documentObjs:[]}];return Object.entries(b).forEach(([j,F],at)=>{if(F.length>0){let kt={name:j,documentObjs:F};"video"==kt.name&&(y[0]=kt),"document"==kt.name&&(y[1]=kt),"homework"==kt.name&&(y[2]=kt),"homework_view"==kt.name&&(y[3]=kt),"unknown"==kt.name&&(y[4]=kt)}}),y}convertDocumentsOfSession(p,b){let y=(new Date).toDateString(),j=!1;return p.forEach((F,at)=>{F.normalDocumentObjs=F.allDocumentObjs.filter(Ut=>"exam"!=Ut.type&&"homework"!=Ut.type),F.examHomeworkObjs=F.allDocumentObjs.filter(Ut=>"exam"==Ut.type||"homework"==Ut.type),F.groupDocumentObjs=this.processData(F.normalDocumentObjs),F.indexSession=F.sort;let kt="",Lt="";if(F.fromTime){let Ut=new Date(F.fromTime),Oe=new Date(Ut.toDateString()),Wn=new Date(y),Ve=Math.floor((Oe.getTime()-Wn.getTime())/1e3);F.dateSession=this.timeService.getFormatDate(F.fromTime),F.outOfDate=Ve<0,F.monthSession=Ut.getMonth()+1,F.yearSession=Ut.getFullYear(),kt+=this.addZeroToTime(Ut.getHours())+":"+this.addZeroToTime(Ut.getMinutes()),Lt=this.timeService.calculationTimeAgoOnlyDate(Oe,Wn)}if(F.toTime){let Ut=new Date(F.toTime);kt+=" - "+this.addZeroToTime(Ut.getHours())+":"+this.addZeroToTime(Ut.getMinutes())}kt+=Lt?" ("+Lt+")":"",F.timeSession=kt,j||(F.isExpanded=b?F.isExpanded:!F.outOfDate,F.isExpanded&&(j=!0))}),p}addZeroToTime(p){return p<10?"0"+p:p.toString()}getSchoolLeaveObjs(p,b){p.length&&!this.teacherRole?this.waitDestroy(this.studentService.apiStudentsAttendancesMeGet(this.classroomId).subscribe({next:y=>{p.map(j=>{j.studentAttendance=y.list.find(F=>F.sessionId==j.id)}),b(p)},error:y=>{this.errorStatusObj(y.error.message,!0),b(p)}})):b(p)}initData(p){p||(this.initStatusObj(),this.programSessionObjs=[],this.programObj=void 0,this.generalDocumentObjs=[]),this.groupProgramSessionObjs=[];let b=this.teacherRole?this.classroomService.apiClassroomsClassroomIdProgramsProgramIdGet(this.classroomId,0):this.classroomService.apiClassroomsClassroomIdStudentsProgramsProgramIdGet(this.classroomId,0);this.waitDestroy(b.subscribe({next:y=>{this.generalDocumentObjs=y.generalDocuments.map(F=>({...F,documentType:this.commonService.getEnumTypeWithDefault(l.s,F.type,l.s.unknown)})),this.programObj=y.program;let j=y.sessions.map(F=>({...F,isExpanded:!1,isLoadingData:!1,isDeletingDocument:!1,isUploadingDocument:!1,normalDocumentObjs:[],examHomeworkObjs:[],groupDocumentObjs:[],indexSession:0,yearSession:0,monthSession:0,allDocumentObjs:F.documents.map(at=>({...at,documentType:this.commonService.getEnumTypeWithDefault(l.s,at.type,l.s.unknown)}))}));j=this.convertDocumentsOfSession(j,!!p),this.getSchoolLeaveObjs(j,F=>{if(p){let Ut=F.find(Oe=>Oe.id==p.id);this.programSessionObjs=this.programSessionObjs.map(Oe=>Oe.id==Ut?.id?{...Ut,isExpanded:Oe.isExpanded}:Oe)}else this.programSessionObjs=F;this.sessionId&&this.programSessionObjs.map(Ut=>Ut.isExpanded=Ut.id==this.sessionId);let at=this.commonService.arrayToDictionary(this.programSessionObjs,Ut=>Ut.monthSession?.toString()+"/"+Ut.yearSession?.toString()),kt=this.commonService.myTranslateInstant("lang_core_thang")??"Th\xe1ng",Lt=(new Date).getMonth()+1+"/"+(new Date).getFullYear();Object.entries(at).forEach(([Ut,Oe],Wn)=>{let Ve=Oe.find(xn=>xn.isExpanded);this.groupProgramSessionObjs.push({monthName:kt+" "+Ut,programObjs:Oe,expand:!(Ut!=Lt&&!Ve)})}),this.stopStatusObj()})},error:y=>{this.errorApiMessage=y.error.message,this.errorStatusObj(y.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.initData(void 0)}constructor(p,b,y,j){super(),this.classroomService=p,this.timeService=b,this.studentService=y,this.activeRoute=j,this.sessionId=0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.errorApiMessage=""}}return x.\u0275fac=function(p){return new(p||x)(e.Y36(t.um),e.Y36(C.D),e.Y36(t.VT),e.Y36(R.gz))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-view-educational-program"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",sessionId:"sessionId"},features:[e.qOj],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y","relative",2,"min-height","calc(100vh - 550px)"],[3,"teacherRole","classroomId","backLink","errorApiMessage","generalDocumentObjs","programSessionObjs","groupProgramSessionObjs","programObj","reloadSessionDataEmitter","changeSessionDataEmitter"]],template:function(p,b){if(1&p&&(e.YNc(0,hn,1,1,"azt-loading-effect",0),e.YNc(1,fn,2,8,"ng-template",null,1,e.W1O)),2&p){const y=e.MAs(2);e.Q6J("ngIf",b.statusObj.loading)("ngIfElse",y)}},dependencies:[v.O5,s.l,gn],encapsulation:2}),x})(),Zo=(()=>{class x extends i.Q{ngOnInit(){this.waitDestroy((0,O.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let p=this.commonService.getMyQueryParam("backto");this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))??0,this.backLink=p||(this.backLink??"/business/dashboard"),this.sessionId=Number(this.commonService.getMyQueryParam("sessionId"))})),super.ngOnInit()}constructor(p){super(),this.activeRoute=p,this.classroomId=0,this.sessionId=0,this.backLink=""}}return x.\u0275fac=function(p){return new(p||x)(e.Y36(R.gz))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-educational-program"]],inputs:{isStudent:"isStudent"},features:[e.qOj],decls:1,vars:4,consts:[[3,"teacherRole","classroomId","sessionId","backLink"]],template:function(p,b){1&p&&e._UZ(0,"app-view-educational-program",0),2&p&&e.Q6J("teacherRole",!b.isStudent)("classroomId",b.classroomId)("sessionId",b.sessionId)("backLink",b.backLink)},dependencies:[yo],encapsulation:2}),x})()},86:(ae,It,g)=>{g.d(It,{h:()=>nt});var O=g(56223),i=g(19347),e=g(72164),R=g(91765),l=g(65879),t=g(68172),C=g(96814),v=g(67679),s=g(71646),Ct=g(36727);function xt(dt,ct){1&dt&&(l.TgZ(0,"div",17),l._uU(1),l.ALo(2,"mytranslate"),l.qZA()),2&dt&&(l.xp6(1),l.hij(" *",l.lcZ(2,1,"lang_auto_vui_long_nhap_ten_dau_diem")," "))}function Ot(dt,ct){if(1&dt&&(l.TgZ(0,"div",15)(1,"label",8),l._uU(2),l.ALo(3,"mytranslate"),l.qZA(),l._UZ(4,"input",16),l.ALo(5,"mytranslate"),l.YNc(6,xt,3,3,"div",10),l.qZA()),2&dt){const ot=l.oxw();l.xp6(2),l.hij(" ",l.lcZ(3,3,"lang_student_name_component_score")," "),l.xp6(2),l.s9C("placeholder",l.lcZ(5,5,"lang_student_enter_name_component_score")),l.xp6(2),l.Q6J("ngIf",ot.form.controls.name.dirty&&ot.form.controls.name.errors)}}function et(dt,ct){if(1&dt&&(l.TgZ(0,"div",15)(1,"label",8),l._uU(2),l.ALo(3,"mytranslate"),l.qZA(),l._UZ(4,"input",18),l.ALo(5,"mytranslate"),l.qZA()),2&dt){const ot=l.oxw();l.xp6(2),l.hij(" ",l.lcZ(3,3,"homework"==ot.data.documentType?"lang_auto_bai_tap":"lang_auto_de_thi"),": "),l.xp6(2),l.s9C("placeholder",l.lcZ(5,5,"lang_student_enter_name_component_score")),l.Q6J("value",ot.data.documentName)}}function rt(dt,ct){1&dt&&(l.TgZ(0,"div",17),l._uU(1),l.ALo(2,"mytranslate"),l.qZA()),2&dt&&(l.xp6(1),l.hij(" *",l.lcZ(2,1,"lang_auto_he_so_diem_phai_la_so")," "))}function V(dt,ct){1&dt&&(l.TgZ(0,"span",19),l._UZ(1,"azt-loading-ui"),l.qZA())}let nt=(()=>{class dt extends e.e{setValueCoeffcient(){var ot=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(ot)??0)}createStartingPoint(){let ot={name:this.form.getRawValue().name,coefficient:this.form.getRawValue().coefficient,programId:this.data.programId,classroomId:this.data.classroomId,sessionId:this.data.sessionId};this.waitDestroy(this.data.id?this.commonMarkService.apiCommonMarksIdPut(this.data.id,ot).subscribe(st=>{st?(this.showSuccessSnack("lang_core_sua_dau_diem_thanh_cong"),this.dialogRef.close(ot)):this.errorStatusObj("lang_core_sua_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}):this.commonMarkService.apiCommonMarksPost(ot).subscribe(st=>{st?(this.showSuccessSnack("lang_core_them_dau_diem_thanh_cong"),this.dialogRef.close(ot)):this.errorStatusObj("lang_core_them_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}))}ngOnInit(){}constructor(ot,st,M){super(M,st),this.commonMarkService=ot,this.dialogRef=st,this.data=M,this.form=new O.cw({name:new O.NI({value:M.name??"",disabled:0==M.canEditName},{nonNullable:!0,validators:[O.kI.required,R._.noWhiteSpace]}),coefficient:new O.NI(M.coefficient,{nonNullable:!0,validators:[O.kI.required,O.kI.pattern(/^[1-9]\d*$/)]})})}}return dt.\u0275fac=function(ot){return new(ot||dt)(l.Y36(t.Q),l.Y36(i.so,8),l.Y36(i.WI))},dt.\u0275cmp=l.Xpm({type:dt,selectors:[["app-create-score-dialog"]],features:[l.qOj],decls:25,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"placeholder","input"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"value","placeholder"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(ot,st){1&ot&&(l.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),l._uU(5),l.ALo(6,"mytranslate"),l.qZA()(),l.TgZ(7,"div",5),l.YNc(8,Ot,7,7,"div",6),l.YNc(9,et,6,7,"div",6),l.TgZ(10,"div",7)(11,"label",8),l._uU(12),l.ALo(13,"mytranslate"),l.qZA(),l.TgZ(14,"input",9),l.NdJ("input",function(){return st.setValueCoeffcient()}),l.ALo(15,"mytranslate"),l.qZA(),l.YNc(16,rt,3,3,"div",10),l.qZA()()(),l.TgZ(17,"div",11)(18,"button",12),l.NdJ("click",function(){return st.dialogRef.close()}),l._uU(19),l.ALo(20,"mytranslate"),l.qZA(),l.TgZ(21,"button",13),l.NdJ("click",function(){return st.createStartingPoint()}),l.YNc(22,V,2,0,"span",14),l._uU(23),l.ALo(24,"mytranslate"),l.qZA()()()()),2&ot&&(l.xp6(1),l.Q6J("formGroup",st.form),l.xp6(4),l.hij(" ",l.lcZ(6,11,st.data.id?st.data.isOnlyCoefficient?"lang_student_edit_mark_coefficient":"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),l.xp6(3),l.Q6J("ngIf",!st.data.isOnlyCoefficient),l.xp6(1),l.Q6J("ngIf",st.data.isOnlyCoefficient),l.xp6(3),l.hij(" ",l.lcZ(13,13,"lang_student_score_factor")," "),l.xp6(2),l.s9C("placeholder",l.lcZ(15,15,"lang_student_enter_score_factor")),l.xp6(2),l.Q6J("ngIf",st.form.controls.coefficient.dirty&&st.form.controls.coefficient.errors),l.xp6(3),l.Oqu(l.lcZ(20,17,"lang_button_cancel")),l.xp6(2),l.Q6J("disabled",st.form.controls.name.errors&&!st.data.isOnlyCoefficient||st.form.controls.coefficient.errors),l.xp6(1),l.Q6J("ngIf",st.statusObj.loading),l.xp6(1),l.hij(" ",l.lcZ(24,19,"lang_button_save")," "))},dependencies:[C.O5,O._Y,O.Fj,O.wV,O.JJ,O.JL,O.sg,O.u,v.M,s.n,Ct.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box[_ngcontent-%COMP%]{margin-top:1px}.hidden-scroll[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hidden-scroll[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),dt})()},46677:(ae,It,g)=>{g.d(It,{m:()=>Fe});var O=g(29023),i=g(73445),e=g(23680),R=g(19347),l=g(44683),t=g(13217),C=g(72164),v=g(84003),s=g(65879),Ct=g(46558),xt=g(37734),Ot=g(89156),et=g(86),rt=g(2783),V=g(97151),nt=g(38228),dt=g(68719),ct=g(96814),ot=g(92596),st=g(91675),M=g(78497),K=g(71646),W=g(1103),L=g(13407),B=g(60381),ht=g(37722),Mt=g(36727);const Yt=["table_score_student"];function Gt(X,yt){if(1&X){const z=s.EpF();s.TgZ(0,"div",11)(1,"button",12),s.NdJ("click",function(){s.CHM(z);const bt=s.oxw();return s.KtG(bt.downloadTableScore())}),s.TgZ(2,"div",13),s._UZ(3,"lucide-icon",14),s.qZA(),s.TgZ(4,"span"),s._uU(5),s.ALo(6,"mytranslate"),s.qZA()()()}2&X&&(s.xp6(5),s.Oqu(s.lcZ(6,1,"lang_student_export_a_grade_sheet")))}function se(X,yt){if(1&X){const z=s.EpF();s.TgZ(0,"div",15)(1,"lucide-icon",16),s.NdJ("click",function(){s.CHM(z);const bt=s.oxw();return s.KtG(bt.downloadTableScore())}),s.ALo(2,"mytranslate"),s.qZA(),s.O4$(),s.TgZ(3,"svg",17),s.NdJ("click",function(){s.CHM(z);const bt=s.oxw();return s.KtG(bt.closeDiaglog.emit(bt.isEdit))}),s.ALo(4,"mytranslate"),s._UZ(5,"path",18)(6,"path",19),s.qZA()()}2&X&&(s.xp6(1),s.s9C("matTooltip",s.lcZ(2,2,"lang_student_export_a_grade_sheet")),s.xp6(2),s.s9C("matTooltip",s.lcZ(4,4,"lang_auto_thoat")))}function le(X,yt){1&X&&s._UZ(0,"azt-loading-ui",26)}function te(X,yt){if(1&X&&(s.TgZ(0,"div",39),s._uU(1),s.ALo(2,"mytranslate"),s.ALo(3,"formatOnlyDateByUserUnitPipe"),s.qZA()),2&X){const z=s.oxw().$implicit;s.xp6(1),s.AsE(" ",s.lcZ(2,2,"lang_student_profile_utils_homework_answer_created_at"),": ",s.lcZ(3,4,z.createdAt)," ")}}function Wt(X,yt){if(1&X&&(s.TgZ(0,"div",39)(1,"span"),s._uU(2),s.ALo(3,"mytranslate"),s.qZA(),s.TgZ(4,"span",40),s._uU(5),s.qZA()()),2&X){const z=s.oxw().$implicit;s.xp6(2),s.Oqu(s.lcZ(3,2,"lang_auto_he_so")),s.xp6(3),s.Oqu(z.coefficient)}}function wt(X,yt){if(1&X){const z=s.EpF();s.TgZ(0,"button",41),s.NdJ("click",function(){s.CHM(z);const bt=s.oxw().$implicit,jt=s.oxw(2);return s.KtG(jt.editScore(bt))}),s.ALo(1,"mytranslate"),s.O4$(),s.TgZ(2,"svg",42),s._UZ(3,"path",43)(4,"path",44),s.qZA()()}2&X&&s.s9C("matTooltip",s.lcZ(1,1,"lang_student_sua_dau_diem"))}function Pt(X,yt){if(1&X&&(s.TgZ(0,"div",45),s._UZ(1,"azt-check-mark",46),s.qZA()),2&X){const z=s.oxw().$implicit;s.xp6(1),s.Q6J("mark",z.marks.length>0?z.marks[0]:"")}}function ft(X,yt){if(1&X&&(s.TgZ(0,"div",45),s._UZ(1,"azt-check-mark",46),s.qZA()),2&X){const z=s.oxw().$implicit,q=s.oxw(2);s.xp6(1),s.Q6J("mark",q.returnValue(z))}}function Tt(X,yt){if(1&X){const z=s.EpF();s.TgZ(0,"input",47),s.NdJ("input",function(bt){s.CHM(z);const jt=s.oxw().$implicit,Kt=s.oxw(2);return s.KtG(Kt.handleMarkStudent(bt,jt.id))}),s.ALo(1,"mytranslate"),s.ALo(2,"mytranslate"),s.qZA()}if(2&X){const z=s.oxw().$implicit,q=s.oxw(2);s.s9C("matTooltip",s.lcZ(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),s.MGl("id","input_point_",z.id.toString(),""),s.s9C("placeholder",s.lcZ(2,7,"lang_auto_nhap_diem")),s.Q6J("disabled",q.isStudent)("value",q.returnValue(z))}}function Zt(X,yt){1&X&&(s.O4$(),s.TgZ(0,"svg",51),s.ALo(1,"mytranslate"),s.ALo(2,"mytranslate"),s._UZ(3,"path",43)(4,"path",44),s.qZA()),2&X&&s.hYB("matTooltip","",s.lcZ(1,2,"lang_auto_sua")," ",s.lcZ(2,4,"lang_auto_diem"),"")}function _t(X,yt){1&X&&(s.O4$(),s.TgZ(0,"svg",52),s.ALo(1,"mytranslate"),s._UZ(2,"path",18)(3,"path",19),s.qZA()),2&X&&s.s9C("matTooltip",s.lcZ(1,1,"lang_editor_common_cancel"))}function Nt(X,yt){if(1&X){const z=s.EpF();s.TgZ(0,"button",48),s.NdJ("click",function(){s.CHM(z);const bt=s.oxw().$implicit,jt=s.oxw(2);return s.KtG(jt.viewInput(bt.id==jt.inputPointSelect?-1:bt.id))}),s.YNc(1,Zt,5,6,"svg",49),s.YNc(2,_t,4,3,"svg",50),s.qZA()}if(2&X){const z=s.oxw().$implicit,q=s.oxw(2);s.xp6(1),s.Q6J("ngIf",q.inputPointSelect!=z.id),s.xp6(1),s.Q6J("ngIf",q.inputPointSelect==z.id)}}function I(X,yt){1&X&&s._UZ(0,"azt-loading-ui",56)}function mt(X,yt){1&X&&(s.O4$(),s.TgZ(0,"svg",57),s._UZ(1,"path",58),s.qZA())}function Q(X,yt){if(1&X){const z=s.EpF();s.TgZ(0,"button",53),s.NdJ("click",function(){s.CHM(z);const bt=s.oxw().$implicit,jt=s.oxw(2);return s.KtG(jt.saveMark(bt))}),s.ALo(1,"mytranslate"),s.YNc(2,I,1,0,"azt-loading-ui",54),s.YNc(3,mt,2,0,"svg",55),s.qZA()}if(2&X){const z=s.oxw(3);s.s9C("matTooltip",s.lcZ(1,4,"lang_button_save")),s.Q6J("disabled",z.isSave),s.xp6(2),s.Q6J("ngIf",z.isSave),s.xp6(1),s.Q6J("ngIf",!z.isSave)}}function vt(X,yt){if(1&X){const z=s.EpF();s.O4$(),s.TgZ(0,"svg",59),s.NdJ("click",function(){s.CHM(z);const bt=s.oxw().$implicit,jt=s.oxw(2);return s.KtG(jt.goToEditPoint(bt))}),s.ALo(1,"mytranslate"),s._UZ(2,"path",60)(3,"polyline",61)(4,"line",62),s.qZA()}2&X&&s.s9C("matTooltip",s.lcZ(1,1,"lang_core_go_to_enter_score"))}function Ft(X,yt){if(1&X&&(s.TgZ(0,"tr")(1,"td")(2,"div",27)(3,"div"),s._uU(4),s.YNc(5,te,4,6,"div",28),s.YNc(6,Wt,6,4,"div",29),s.qZA(),s.YNc(7,wt,5,3,"button",30),s.qZA()(),s.TgZ(8,"td",31)(9,"div",32),s.YNc(10,Pt,2,1,"div",33),s.YNc(11,ft,2,1,"div",33),s.YNc(12,Tt,3,9,"input",34),s.YNc(13,Nt,3,2,"button",35),s.YNc(14,Q,4,6,"button",36),s.qZA()(),s.TgZ(15,"td",37),s.YNc(16,vt,5,3,"svg",38),s.qZA()()),2&X){const z=yt.$implicit,q=s.oxw(2);s.xp6(4),s.hij(" ",z.name," "),s.xp6(1),s.Q6J("ngIf",z.createdAt&&!q.isStudent),s.xp6(1),s.Q6J("ngIf",z.coefficient),s.xp6(1),s.Q6J("ngIf",!q.isStudent),s.xp6(3),s.Q6J("ngIf","homework"==z.objectType),s.xp6(1),s.Q6J("ngIf","homework"!=z.objectType&&q.inputPointSelect!=z.id),s.xp6(1),s.Q6J("ngIf","homework"!=z.objectType&&q.inputPointSelect==z.id),s.xp6(1),s.Q6J("ngIf",!q.isStudent&&z.canEditMark&&!q.listMarkNew),s.xp6(1),s.Q6J("ngIf",!q.isStudent&&z.canEditMark&&q.listMarkNew&&q.listMarkNew.id==z.id),s.xp6(2),s.Q6J("ngIf",!q.isStudent&&z.programId&&z.sessionId)}}function Rt(X,yt){1&X&&s._UZ(0,"azt-loading-ui",26)}const ee=function(){return[]};function ye(X,yt){if(1&X){const z=s.EpF();s.TgZ(0,"azt-mat-dialog-content")(1,"div",20),s.YNc(2,le,1,0,"azt-loading-ui",21),s.TgZ(3,"azt-filter-box",22),s.NdJ("sendFilter",function(bt){s.CHM(z);const jt=s.oxw();return s.KtG(jt.filterData(bt))}),s.qZA()(),s.TgZ(4,"table",23)(5,"tbody"),s.YNc(6,Ft,17,10,"tr",10),s.TgZ(7,"tr")(8,"td"),s._uU(9),s.ALo(10,"mytranslate"),s.qZA(),s.TgZ(11,"td",24)(12,"div",25),s.YNc(13,Rt,1,0,"azt-loading-ui",21),s._uU(14),s.qZA()()()()()()}if(2&X){const z=s.oxw();let q;s.xp6(2),s.Q6J("ngIf",z.statusObj.loading),s.xp6(4),s.Q6J("ngForOf",null!==(q=z.data.marks)&&void 0!==q?q:s.DdM(8,ee)),s.xp6(3),s.hij(" ",s.lcZ(10,6,"lang_business_diem_tong_ket")," "),s.xp6(2),s.Q6J("colSpan",2),s.xp6(2),s.Q6J("ngIf",z.isSave),s.xp6(1),s.hij(" ",z.data.averageMark," ")}}function ze(X,yt){if(1&X&&(s.TgZ(0,"div",39)(1,"span"),s._uU(2),s.ALo(3,"mytranslate"),s.qZA(),s.TgZ(4,"span",40),s._uU(5),s.qZA()()),2&X){const z=s.oxw().$implicit;s.xp6(2),s.Oqu(s.lcZ(3,2,"lang_auto_he_so")),s.xp6(3),s.Oqu(z.coefficient)}}function ce(X,yt){if(1&X&&(s.TgZ(0,"div",45),s._UZ(1,"azt-check-mark",46),s.qZA()),2&X){const z=s.oxw().$implicit;s.xp6(1),s.Q6J("mark",z.marks.length>0?z.marks[0]:"")}}function Ue(X,yt){if(1&X&&(s.TgZ(0,"div",45),s._UZ(1,"azt-check-mark",46),s.qZA()),2&X){const z=s.oxw().$implicit,q=s.oxw(2);s.xp6(1),s.Q6J("mark",q.returnValue(z))}}function Ze(X,yt){if(1&X&&(s.TgZ(0,"tr")(1,"td")(2,"div",27)(3,"div"),s._uU(4),s.YNc(5,ze,6,4,"div",29),s.qZA()()(),s.TgZ(6,"td",67),s.YNc(7,ce,2,1,"div",33),s.YNc(8,Ue,2,1,"div",33),s.qZA()()),2&X){const z=yt.$implicit;s.xp6(4),s.hij(" ",z.name," "),s.xp6(1),s.Q6J("ngIf",z.coefficient),s.xp6(2),s.Q6J("ngIf","homework"==z.objectType),s.xp6(1),s.Q6J("ngIf","homework"!=z.objectType)}}function Ae(X,yt){if(1&X&&(s.TgZ(0,"table",63)(1,"thead")(2,"tr")(3,"th",64),s._uU(4),s.ALo(5,"mytranslate"),s.qZA(),s.TgZ(6,"th",65),s._uU(7),s.ALo(8,"mytranslate"),s.qZA()()(),s.TgZ(9,"tbody"),s.YNc(10,Ze,9,4,"tr",10),s.TgZ(11,"tr")(12,"td"),s._uU(13),s.ALo(14,"mytranslate"),s.qZA(),s.TgZ(15,"td")(16,"div",66),s._uU(17),s.qZA()()()()()),2&X){const z=s.oxw();let q;s.xp6(4),s.Oqu(s.lcZ(5,5,"lang_student_name_component_score")),s.xp6(3),s.Oqu(s.lcZ(8,7,"lang_testbank_update_exam_point")),s.xp6(3),s.Q6J("ngForOf",null!==(q=z.data.marks)&&void 0!==q?q:s.DdM(11,ee)),s.xp6(3),s.hij(" ",s.lcZ(14,9,"lang_business_diem_tong_ket")," "),s.xp6(4),s.hij(" ",z.data.averageMark," ")}}function Se(X,yt){if(1&X&&s._UZ(0,"azt-check-mark",46),2&X){const z=s.oxw().$implicit;s.Q6J("mark",z.marks.length>0?z.marks[0]:"")}}function fe(X,yt){if(1&X&&s._UZ(0,"azt-check-mark",46),2&X){const z=s.oxw().$implicit,q=s.oxw();s.Q6J("mark",q.returnValue(z))}}function Ie(X,yt){if(1&X&&(s.TgZ(0,"tr")(1,"td",9),s._uU(2),s.qZA(),s.TgZ(3,"td",9),s._uU(4),s.qZA(),s.TgZ(5,"td",9),s._uU(6),s.qZA(),s.TgZ(7,"td",9),s.YNc(8,Se,1,1,"azt-check-mark",68),s.YNc(9,fe,1,1,"azt-check-mark",68),s.qZA()()),2&X){const z=yt.$implicit,q=yt.index,bt=s.oxw();s.xp6(1),s.uIk("excelRow",q+1)("excelColumn",0)("excelStyle",bt.styleTdNormal),s.xp6(1),s.hij(" ",z.name?q+1:""," "),s.xp6(1),s.uIk("excelRow",q+1)("excelColumn",1)("excelStyle",bt.styleTdNormalLeft),s.xp6(1),s.hij(" ",z.name," "),s.xp6(1),s.uIk("excelRow",q+1)("excelColumn",2)("excelStyle",bt.styleTdNotNumberNormal),s.xp6(1),s.hij(" ",z.coefficient," "),s.xp6(1),s.uIk("excelRow",q+1)("excelColumn",3)("excelStyle",bt.styleTdNotNumberNormal),s.xp6(1),s.Q6J("ngIf","homework"==z.objectType),s.xp6(1),s.Q6J("ngIf","homework"!=z.objectType)}}let xe=(()=>{class X extends xt.Q{filterData(z){this.dataFilter=z,this.initStatusObj(),this.getStudent()}getStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.classroomId,getBook:!1,getMark:!0,getAttendance:!1,getPayment:!1,me:this.isStudent??!1,getAssessment:!1}).subscribe({next:q=>{q.list.length&&(this.data=q.list[0]),this.stopStatusObj()},error:q=>{this.errorStatusObj(q.error.message,!0)}}))}downloadTableScore(){Ot.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var z=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_score_student,!0);let q=this.commonService.createFileNameExportFile(["bang_diem_hoc_sinh"+this.data.fullName])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(z,q),Ot.G.closeLoadingEffect(200)}goToEditPoint(z){this.closeDiaglog.emit(),this.myNavigationWithQueryString("/admin/student/submit-score/"+z.classroomId+"/"+z.programId+"/"+z.sessionId,"?studentId="+this.data.id)}viewInput(z){this.inputPointSelect=z}handleMarkStudent(z,q){if(!this.isStudent){var bt=this.commonService.handlePointByValueInput(z);this.listMarkNew={id:q,points:bt.length>0?bt:[-1]}}}saveMark(z){this.isSave=!0,this.listMarkNew&&this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:z.programId,classroomId:z.classroomId,sessionId:z.sessionId,students:[{id:this.data.id,listMarks:[this.listMarkNew]}]}).subscribe(bt=>{bt?(this.data.marks?.filter(jt=>jt.id==z.id)?.forEach(jt=>jt.marks=this.listMarkNew?.points?.find(Kt=>-1==Kt)?[]:this.listMarkNew?.points??jt.marks),this.getStudent(),this.listMarkNew=void 0,this.inputPointSelect=-1,this.isEdit=!0,this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)):this.errorStatusObj("lang_auto_cap_nhat_diem_khong_thanh_cong",!0),this.isSave=!1}))}editScore(z){z&&this.sAztDialogService.open(et.h,{data:{...z,canEditName:z.canEditMark},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(q=>{if(q){try{var bt=this.data.marks?.find(jt=>jt.id==z.id);bt&&(bt.coefficient=q.coefficient,bt.name=q.name)}catch{}this.isEdit=!0}})}returnValue(z){return(z.marks??[]).join(" ")}ngOnInit(){super.ngOnInit()}constructor(z,q,bt,jt,Kt){super(),this.sAztDialogService=z,this.sAztTimeService=q,this.shareFileFlutterService=bt,this.exportExcelService=jt,this.studentService=Kt,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.closeDiaglog=new s.vpe,this.inputPointSelect=-1,this.isSave=!1,this.isEdit=!1,this.commonService=(0,s.f3M)(Ct.z)}ngOnDestroy(){super.ngOnDestroy()}}return X.\u0275fac=function(z){return new(z||X)(s.Y36(rt.C),s.Y36(v.D),s.Y36(V.g),s.Y36(nt.L),s.Y36(dt.V))},X.\u0275cmp=s.Xpm({type:X,selectors:[["azt-view-table-score-single"]],viewQuery:function(z,q){if(1&z&&s.Gf(Yt,5),2&z){let bt;s.iGM(bt=s.CRH())&&(q.table_score_student=bt.first)}},inputs:{data:"data",isStudent:"isStudent",viewDialog:"viewDialog"},outputs:{closeDiaglog:"closeDiaglog"},features:[s._Bn([{provide:O.fM,useClass:l.WG,deps:[e.Ad,i.o8]},{provide:O.ab,useFactory:t.fX,deps:[v.D]}]),s.qOj],decls:34,vars:61,consts:[["class","flex justify-end mb-5",4,"ngIf"],[1,"box"],[1,"pt-5","px-5","flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],["class","flex",4,"ngIf"],[4,"ngIf"],["class","table table-report","style","white-space: initial; display: table",4,"ngIf"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score_student",""],[1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","mb-5"],["azt-track-service","view-table-score-single-vS0yZHQHw",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],[1,"w-4","mr-2"],["name","download"],[1,"flex"],["name","download",1,"clickable",2,"width","20px !important","height","20px !important",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x","clickable","ml-2",3,"matTooltip","click"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"pt-3","px-5","flex","justify-end","items-center"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[3,"sendFilter"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[3,"colSpan"],[1,"flex","justify-center","font-bold","items-center"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"flex","items-center"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp","style","color: gray","class","w-5 h-5 inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"text-center",2,"padding","0"],[1,"flex","items-center",2,"position","relative"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltip","id","disabled","value","placeholder","input",4,"ngIf"],["azt-track-service","view-table-score-single-lX3L0QoGBo","class","inline-block btn-edit-point zoom-in",3,"click",4,"ngIf"],["azt-track-service","view-table-score-single-uJE-8eAu46","class","inline-block btn-edit-point zoom-in",3,"matTooltip","disabled","click",4,"ngIf"],[1,"text-center",2,"padding","0 10px 0 10px"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","style","color: gray;","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-external-link zoom-in clickable",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[1,"inline-block","ml-1"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp",1,"w-5","h-5","inline-block","ml-1",2,"color","gray",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltip","id","disabled","value","placeholder","input"],["azt-track-service","view-table-score-single-lX3L0QoGBo",1,"inline-block","btn-edit-point","zoom-in",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-pencil",3,"matTooltip",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-x",3,"matTooltip",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil",3,"matTooltip"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-x",3,"matTooltip"],["azt-track-service","view-table-score-single-uJE-8eAu46",1,"inline-block","btn-edit-point","zoom-in",3,"matTooltip","disabled","click"],["class","loading-upload","type","bootstrap-spinner",4,"ngIf"],["style","color: green;","xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","lucide lucide-check",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-check",2,"color","green"],["d","M20 6 9 17l-5-5"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-external-link","zoom-in","clickable",2,"color","gray",3,"matTooltip","click"],["d","M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"],["points","15 3 21 3 21 9"],["x1","10","x2","21","y1","14","y2","3"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"flex","justify-center","font-bold"],[1,"text-center"],[3,"mark",4,"ngIf"]],template:function(z,q){if(1&z&&(s.YNc(0,Gt,7,3,"div",0),s.TgZ(1,"div",1)(2,"div",2),s._UZ(3,"azt-student-info-box",3),s.YNc(4,se,7,6,"div",4),s.qZA(),s.YNc(5,ye,15,9,"azt-mat-dialog-content",5),s.YNc(6,Ae,18,12,"table",6),s.qZA(),s.TgZ(7,"table",7,8)(9,"thead")(10,"tr")(11,"th",9),s._uU(12),s.ALo(13,"mytranslate"),s.qZA(),s.TgZ(14,"th",9),s._uU(15),s.ALo(16,"mytranslate"),s.qZA(),s.TgZ(17,"th",9),s._uU(18),s.ALo(19,"mytranslate"),s.qZA(),s.TgZ(20,"th",9),s._uU(21),s.ALo(22,"mytranslate"),s.qZA()()(),s.TgZ(23,"tbody"),s.YNc(24,Ie,10,17,"tr",10),s.TgZ(25,"tr")(26,"td",9),s._uU(27),s.qZA(),s.TgZ(28,"td",9),s._uU(29),s.ALo(30,"mytranslate"),s.qZA(),s._UZ(31,"td"),s.TgZ(32,"td",9),s._uU(33),s.qZA()()()()),2&z){let bt,jt,Kt,zt,Vt,ke;s.Q6J("ngIf",q.isStudent&&!q.viewDialog),s.xp6(3),s.Q6J("name",q.data.fullName)("parentFullName",q.data.parentFullName)("parentId",q.data.parentId)("parentPhone",q.data.parentPhone)("phone",q.data.phone)("email",q.data.email)("avatar",q.data.avatar)("gender",q.data.gender)("hasUser",q.data.hasUser),s.xp6(1),s.Q6J("ngIf",q.viewDialog),s.xp6(1),s.Q6J("ngIf",q.viewDialog),s.xp6(1),s.Q6J("ngIf",q.isStudent&&!q.viewDialog),s.xp6(1),s.Q6J("border",1),s.xp6(4),s.uIk("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",q.styleThNormal),s.xp6(1),s.hij(" ",s.lcZ(13,50,"lang_student_export_excel_no")," "),s.xp6(2),s.uIk("excelWidth",10)("excelRow",0)("excelColumn",1)("excelStyle",q.styleThNormal),s.xp6(1),s.hij(" ",s.lcZ(16,52,"lang_student_name_component_score")," "),s.xp6(2),s.uIk("excelWidth",10)("excelRow",0)("excelColumn",2)("excelStyle",q.styleThNormal),s.xp6(1),s.hij(" ",s.lcZ(19,54,"lang_auto_he_so")," "),s.xp6(2),s.uIk("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",q.styleThNormal),s.xp6(1),s.hij(" ",s.lcZ(22,56,"lang_testbank_update_exam_point")," "),s.xp6(3),s.Q6J("ngForOf",null!==(bt=q.data.marks)&&void 0!==bt?bt:s.DdM(60,ee)),s.xp6(2),s.uIk("excelRow",(null!==(jt=null==q.data.marks?null:q.data.marks.length)&&void 0!==jt?jt:0)+1)("excelColumn",0)("excelStyle",q.styleTdNormal),s.xp6(1),s.hij(" ",(null!==(Kt=null==q.data.marks?null:q.data.marks.length)&&void 0!==Kt?Kt:0)+1," "),s.xp6(1),s.uIk("excelRow",(null!==(zt=null==q.data.marks?null:q.data.marks.length)&&void 0!==zt?zt:0)+1)("excelColumn",1)("excelStyle",q.styleTdNormal),s.xp6(1),s.hij(" ",s.lcZ(30,58,"lang_business_diem_tong_ket")," "),s.xp6(2),s.uIk("excelRow",(null!==(Vt=null==q.data.marks?null:q.data.marks.length)&&void 0!==Vt?Vt:0)+1)("excelColumn",3)("excelStyle",q.styleTdNormal),s.xp6(1),s.uIk("excelRow",(null!==(ke=null==q.data.marks?null:q.data.marks.length)&&void 0!==ke?ke:0)+1)("excelColumn",4)("excelStyle",q.styleTdNotNumberNormal),s.xp6(1),s.hij(" ",q.data.averageMark," ")}},dependencies:[ct.sg,ct.O5,ot.gM,st.B,M.R,K.n,W.a,L.W,B.$Z,ht.Nh5,Mt.JV,Mt.YK],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]}),X})(),Fe=(()=>{class X extends C.e{closeDiaglog(z){this.dialogRef.close(z)}ngOnInit(){super.ngOnInit()}constructor(z,q){super(q,z),this.dialogRef=z,this.data=q}ngOnDestroy(){super.ngOnDestroy()}}return X.\u0275fac=function(z){return new(z||X)(s.Y36(R.so,8),s.Y36(R.WI,8))},X.\u0275cmp=s.Xpm({type:X,selectors:[["azt-table-score-single"]],features:[s._Bn([{provide:O.fM,useClass:l.WG,deps:[e.Ad,i.o8]},{provide:O.ab,useFactory:t.fX,deps:[v.D]}]),s.qOj],decls:1,vars:3,consts:[[3,"data","isStudent","viewDialog","closeDiaglog"]],template:function(z,q){1&z&&(s.TgZ(0,"azt-view-table-score-single",0),s.NdJ("closeDiaglog",function(jt){return q.closeDiaglog(jt)}),s.qZA()),2&z&&s.Q6J("data",q.data.student)("isStudent",!q.data.isTeacher)("viewDialog",!0)},dependencies:[xe],encapsulation:2}),X})()},9400:(ae,It,g)=>{g.d(It,{B:()=>nn});var O=g(52572),i=g(37734),e=g(89156),R=g(6050),l=g(93283),t=g(63278),C=g(86),v=g(46677),s=g(65879),Ct=g(68172),xt=g(68719),Ot=g(84003),et=g(2783),rt=g(59708),V=g(38228),nt=g(12044),dt=g(97151),ct=g(96814),ot=g(92596),st=g(43389),M=g(83306),K=g(91675),W=g(71646),L=g(51261),B=g(25368),ht=g(1103),Mt=g(60381),Yt=g(37722),Gt=g(36727);const se=["table_score"];function le(P,pt){1&P&&(s.TgZ(0,"div",6)(1,"h3",7),s._uU(2),s.ALo(3,"mytranslate"),s.qZA()()),2&P&&(s.xp6(2),s.Oqu(s.lcZ(3,1,"lang_student_enter_score")))}function te(P,pt){1&P&&(s.TgZ(0,"div",6)(1,"h3",7),s._uU(2),s.ALo(3,"mytranslate"),s.qZA()()),2&P&&(s.xp6(2),s.Oqu(s.lcZ(3,1,"lang_auto_bang_diem")))}function Wt(P,pt){if(1&P){const w=s.EpF();s.TgZ(0,"button",16),s.NdJ("click",function(){s.CHM(w);const Y=s.oxw(2);return s.KtG(Y.createNewScore())}),s.O4$(),s.TgZ(1,"svg",17),s._UZ(2,"line",18)(3,"line",19),s.qZA(),s.kcU(),s.TgZ(4,"span"),s._uU(5),s.ALo(6,"mytranslate"),s.qZA()()}2&P&&(s.xp6(5),s.Oqu(s.lcZ(6,1,"lang_student_enter_new_component_score")))}function wt(P,pt){if(1&P){const w=s.EpF();s.TgZ(0,"button",20),s.NdJ("click",function(){s.CHM(w);const Y=s.oxw(2);return s.KtG(Y.downloadTableScore())}),s.TgZ(1,"div",21),s._UZ(2,"lucide-icon",22),s.qZA(),s.TgZ(3,"span"),s._uU(4),s.ALo(5,"mytranslate"),s.qZA()()}2&P&&(s.xp6(4),s.Oqu(s.lcZ(5,1,"lang_student_export_a_grade_sheet")))}function Pt(P,pt){1&P&&s._UZ(0,"azt-loading-ui",26)}function ft(P,pt){if(1&P){const w=s.EpF();s.TgZ(0,"flexed-on-the-top",23)(1,"button",24),s.NdJ("click",function(){s.CHM(w);const Y=s.oxw(2);return s.KtG(Y.saveMark())}),s.YNc(2,Pt,1,0,"azt-loading-ui",25),s._uU(3),s.ALo(4,"mytranslate"),s.qZA()()}if(2&P){const w=s.oxw(2);s.Q6J("colorBackground","#f0f8ffe8"),s.xp6(1),s.Q6J("disabled",0==w.listStudentMark.length||w.isSave),s.xp6(1),s.Q6J("ngIf",w.isSave),s.xp6(1),s.hij(" ",s.lcZ(4,4,"lang_auto_luu")," ")}}function Tt(P,pt){if(1&P){const w=s.EpF();s.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"azt-search-box",11),s.NdJ("onSearch",function(Y){s.CHM(w);const gt=s.oxw();return s.KtG(gt.onSearchBox(Y.searchObj))}),s.ALo(4,"mytranslate"),s.qZA()(),s.TgZ(5,"div",12),s.YNc(6,Wt,7,3,"button",13),s.YNc(7,wt,6,3,"button",14),s.YNc(8,ft,5,6,"flexed-on-the-top",15),s.qZA()()()}if(2&P){const w=s.oxw();s.xp6(3),s.Q6J("isServerSearch",!0)("placeholder",s.lcZ(4,5,"lang_core_tim_theo_ten_phone_email")),s.xp6(3),s.Q6J("ngIf","ENTER_SCORE"==w.screenType),s.xp6(1),s.Q6J("ngIf","TABLE_SCORE"==w.screenType),s.xp6(1),s.Q6J("ngIf","ENTER_SCORE"==w.screenType)}}function Zt(P,pt){if(1&P&&s._UZ(0,"azt-loading-effect",27),2&P){const w=s.oxw();s.Q6J("currentStatusObj",w.statusObj)}}function _t(P,pt){1&P&&(s.TgZ(0,"div",33),s._uU(1),s.ALo(2,"mytranslate"),s.qZA()),2&P&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"lang_student_classroom_list_detail_not_student")))}function Nt(P,pt){if(1&P&&(s.TgZ(0,"div",50)(1,"span"),s._uU(2),s.ALo(3,"mytranslate"),s.qZA(),s.TgZ(4,"span",51),s._uU(5),s.qZA()()),2&P){const w=s.oxw().$implicit;s.xp6(2),s.Oqu(s.lcZ(3,2,"lang_auto_he_so")),s.xp6(3),s.Oqu(w.coefficient)}}function I(P,pt){if(1&P){const w=s.EpF();s.TgZ(0,"button",52),s.NdJ("click",function(){s.CHM(w);const Y=s.oxw().$implicit,gt=s.oxw(3);return s.KtG(gt.createNewScore(Y))}),s.ALo(1,"mytranslate"),s.O4$(),s.TgZ(2,"svg",53),s._UZ(3,"path",54)(4,"path",55),s.qZA()()}2&P&&s.s9C("matTooltip",s.lcZ(1,1,"lang_student_sua_dau_diem"))}function mt(P,pt){if(1&P){const w=s.EpF();s.TgZ(0,"button",56),s.NdJ("click",function(){s.CHM(w);const Y=s.oxw().$implicit,gt=s.oxw(3);return s.KtG(gt.deleteMark(Y))}),s.ALo(1,"mytranslate"),s.O4$(),s.TgZ(2,"svg",57),s._UZ(3,"path",58)(4,"path",59)(5,"path",60)(6,"line",61)(7,"line",62),s.qZA()()}2&P&&s.s9C("matTooltip",s.lcZ(1,1,"lang_button_delete"))}function Q(P,pt){if(1&P&&(s.TgZ(0,"th",42)(1,"div",43)(2,"div",44)(3,"div",45),s._uU(4),s.qZA(),s.TgZ(5,"div",46),s.YNc(6,Nt,6,4,"div",47),s.YNc(7,I,5,3,"button",48),s.YNc(8,mt,8,3,"button",49),s.qZA()()()()),2&P){const w=pt.$implicit,G=s.oxw(3);s.xp6(3),s.s9C("matTooltip",w.name),s.xp6(1),s.Oqu(w.name),s.xp6(2),s.Q6J("ngIf",w.coefficient),s.xp6(1),s.Q6J("ngIf",!G.isStudent),s.xp6(1),s.Q6J("ngIf",w.canEditName)}}function vt(P,pt){1&P&&(s.TgZ(0,"th",63),s._uU(1),s.ALo(2,"mytranslate"),s.qZA()),2&P&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"lang_business_diem_tong_ket")))}function Ft(P,pt){if(1&P&&(s.TgZ(0,"div",73),s._UZ(1,"azt-check-mark",74),s.qZA()),2&P){const w=s.oxw().$implicit;s.xp6(1),s.Q6J("mark",w.marks.length>0?w.marks[0]:"")}}function Rt(P,pt){if(1&P&&(s.TgZ(0,"div",73),s._UZ(1,"azt-check-mark",74),s.qZA()),2&P){const w=s.oxw().$implicit,G=s.oxw(4);s.xp6(1),s.Q6J("mark",G.returnValue(w))}}function ee(P,pt){if(1&P){const w=s.EpF();s.TgZ(0,"input",75),s.NdJ("input",function(Y){s.CHM(w);const gt=s.oxw().index,A=s.oxw().index,tt=s.oxw(3);return s.KtG(tt.handleMarkStudent(Y,A,gt))}),s.ALo(1,"mytranslate"),s.ALo(2,"mytranslate"),s.qZA()}if(2&P){const w=s.oxw().$implicit,G=s.oxw().$implicit,Y=s.oxw(3);s.s9C("matTooltip",s.lcZ(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),s.s9C("id",w.id.toString()+"-"+G.id.toString()),s.s9C("placeholder",s.lcZ(2,7,"lang_auto_nhap_diem")),s.Q6J("matTooltipDisabled",!w.canEditMark)("value",Y.returnValue(w))}}function ye(P,pt){if(1&P&&(s.TgZ(0,"td",69),s.YNc(1,Ft,2,1,"div",70),s.YNc(2,Rt,2,1,"div",70),s.YNc(3,ee,3,9,"input",71),s._UZ(4,"div",72),s.qZA()),2&P){const w=pt.$implicit,G=s.oxw().$implicit,Y=s.oxw(3);s.Q6J("hidden","TABLE_SCORE"==Y.screenType),s.xp6(1),s.Q6J("ngIf","homework"==w.objectType),s.xp6(1),s.Q6J("ngIf","homework"!=w.objectType&&(!w.canEditMark||"ENTER_SCORE"!=Y.screenType)),s.xp6(1),s.Q6J("ngIf","homework"!=w.objectType&&w.canEditMark),s.xp6(1),s.MGl("id","error-",w.id.toString()+"-"+G.id.toString(),""),s.Q6J("hidden",!0)}}function ze(P,pt){if(1&P&&(s.TgZ(0,"td")(1,"div",76),s._uU(2),s.qZA()()),2&P){const w=s.oxw().$implicit;s.xp6(2),s.hij(" ",w.averageMark," ")}}const ce=function(){return[]};function Ue(P,pt){if(1&P){const w=s.EpF();s.TgZ(0,"tr",64)(1,"td",65),s.NdJ("click",function(){const gt=s.CHM(w).$implicit,A=s.oxw(3);return s.KtG(A.openDialogTableSingle(gt))}),s._UZ(2,"azt-student-info-box",66),s.qZA(),s.TgZ(3,"td",67),s._uU(4),s.ALo(5,"formatStudentCodeToNumber"),s.qZA(),s.YNc(6,ye,5,6,"td",68),s.YNc(7,ze,3,1,"td",31),s.qZA()}if(2&P){const w=pt.$implicit,G=s.oxw(3);let Y;s.Q6J("id","row_student_"+w.id),s.xp6(2),s.Q6J("name",w.fullName)("parentFullName",w.parentFullName)("parentId",w.parentId)("parentPhone",w.parentPhone)("avatar",w.avatar)("gender",w.gender)("hasUser",w.hasUser)("schoolName",w.schoolName)("classrooms",w.classrooms)("joinedAt",w.joinedAt),s.xp6(2),s.Oqu(w.identificationNumber?s.xi3(5,14,w.identificationNumber,6):""),s.xp6(2),s.Q6J("ngForOf",null!==(Y=w.marks)&&void 0!==Y?Y:s.DdM(17,ce)),s.xp6(1),s.Q6J("ngIf","TABLE_SCORE"==G.screenType)}}function Ze(P,pt){if(1&P&&(s.TgZ(0,"div",34)(1,"drag-scroll")(2,"table",35)(3,"thead")(4,"tr",36)(5,"th",37),s._uU(6),s.ALo(7,"mytranslate"),s.qZA(),s.TgZ(8,"th",38),s._uU(9),s.ALo(10,"mytranslate"),s.qZA(),s.YNc(11,Q,9,5,"th",39),s.YNc(12,vt,3,3,"th",40),s.qZA()(),s.TgZ(13,"tbody"),s.YNc(14,Ue,8,18,"tr",41),s.qZA()()()()),2&P){const w=s.oxw(2);let G,Y;s.xp6(6),s.Oqu(s.lcZ(7,5,"lang_auto_ho_va_ten")),s.xp6(3),s.Oqu(s.lcZ(10,7,"lang_auto_so_bao_danh")),s.xp6(2),s.Q6J("ngForOf",null!==(G=null==w.dataMark?null:w.dataMark.list)&&void 0!==G?G:s.DdM(9,ce)),s.xp6(1),s.Q6J("ngIf","TABLE_SCORE"==w.screenType),s.xp6(2),s.Q6J("ngForOf",null!==(Y=null==w.dataStudent?null:w.dataStudent.list)&&void 0!==Y?Y:s.DdM(10,ce))}}function Ae(P,pt){if(1&P&&(s.TgZ(0,"div",79),s._UZ(1,"azt-student-info-box",80),s.TgZ(2,"div",81)(3,"div",82),s._uU(4),s.ALo(5,"mytranslate"),s.qZA(),s.TgZ(6,"div",82),s._uU(7),s.qZA()()()),2&P){const w=pt.$implicit;s.xp6(1),s.Q6J("name",w.fullName)("parentFullName",w.parentFullName)("parentId",w.parentId)("parentPhone",w.parentPhone)("phone",w.phone)("email",w.email)("avatar",w.avatar)("gender",w.gender)("hasUser",w.hasUser),s.xp6(3),s.hij(" ",s.lcZ(5,11,"lang_business_diem_tong_ket")," "),s.xp6(3),s.hij(" ",w.averageMark," ")}}function Se(P,pt){1&P&&s._UZ(0,"lucide-icon",87)}function fe(P,pt){1&P&&s._UZ(0,"lucide-icon",88)}function Ie(P,pt){if(1&P&&(s.TgZ(0,"div",98)(1,"span"),s._uU(2),s.ALo(3,"mytranslate"),s.qZA(),s.TgZ(4,"span",51),s._uU(5),s.qZA()()),2&P){const w=s.oxw().$implicit;s.xp6(2),s.Oqu(s.lcZ(3,2,"lang_auto_he_so")),s.xp6(3),s.Oqu(w.coefficient)}}function xe(P,pt){if(1&P&&(s.TgZ(0,"div",99),s._UZ(1,"azt-check-mark",74),s.qZA()),2&P){const w=s.oxw().$implicit;s.xp6(1),s.Q6J("mark",w.marks.length>0?w.marks[0]:"")}}function Fe(P,pt){if(1&P&&(s.TgZ(0,"div",99),s._UZ(1,"azt-check-mark",74),s.qZA()),2&P){const w=s.oxw().$implicit,G=s.oxw(6);s.xp6(1),s.Q6J("mark",G.returnValue(w))}}function X(P,pt){if(1&P&&(s.TgZ(0,"tr")(1,"td")(2,"div",94)(3,"div"),s._uU(4),s.YNc(5,Ie,6,4,"div",95),s.qZA()()(),s.TgZ(6,"td",96),s.YNc(7,xe,2,1,"div",97),s.YNc(8,Fe,2,1,"div",97),s.qZA()()),2&P){const w=pt.$implicit;s.xp6(4),s.hij(" ",w.name," "),s.xp6(1),s.Q6J("ngIf",w.coefficient),s.xp6(2),s.Q6J("ngIf","homework"==w.objectType),s.xp6(1),s.Q6J("ngIf","homework"!=w.objectType)}}function yt(P,pt){if(1&P&&(s.TgZ(0,"div",90)(1,"table",91)(2,"thead")(3,"tr")(4,"th",92),s._uU(5),s.ALo(6,"mytranslate"),s.qZA(),s.TgZ(7,"th",93),s._uU(8),s.ALo(9,"mytranslate"),s.qZA()()(),s.TgZ(10,"tbody"),s.YNc(11,X,9,4,"tr",78),s.qZA()()()),2&P){const w=s.oxw(2).$implicit;s.xp6(5),s.Oqu(s.lcZ(6,3,"lang_student_name_component_score")),s.xp6(3),s.Oqu(s.lcZ(9,5,"lang_testbank_update_exam_point")),s.xp6(3),s.Q6J("ngForOf",w.marks)}}function z(P,pt){if(1&P&&(s.ynx(0),s.YNc(1,yt,12,7,"div",89),s.BQk()),2&P){const w=s.oxw(4);s.xp6(1),s.Q6J("ngIf",w.isStudent)}}function q(P,pt){if(1&P){const w=s.EpF();s.TgZ(0,"div")(1,"h3",83)(2,"span",84),s.NdJ("click",function(){const gt=s.CHM(w).$implicit;return s.KtG(gt.expand=!gt.expand)}),s._uU(3),s.ALo(4,"mytranslate"),s.YNc(5,Se,1,0,"lucide-icon",85),s.YNc(6,fe,1,0,"lucide-icon",86),s.qZA()(),s.YNc(7,z,2,1,"ng-container",31),s.qZA()}if(2&P){const w=pt.$implicit;s.xp6(3),s.AsE(" ",s.lcZ(4,5,"lang_core_thang")," ",w.date," "),s.xp6(2),s.Q6J("ngIf",w.expand),s.xp6(1),s.Q6J("ngIf",!w.expand),s.xp6(1),s.Q6J("ngIf",w.expand)}}function bt(P,pt){if(1&P&&(s.TgZ(0,"div"),s.YNc(1,Ae,8,13,"div",77),s.YNc(2,q,8,7,"div",78),s.qZA()),2&P){const w=s.oxw(2);let G;s.xp6(1),s.Q6J("ngForOf",null!==(G=null==w.dataStudent?null:w.dataStudent.list)&&void 0!==G?G:s.DdM(2,ce)),s.xp6(1),s.Q6J("ngForOf",w.listGroupMarkDate)}}function jt(P,pt){if(1&P){const w=s.EpF();s.TgZ(0,"azt-paging",103),s.NdJ("goToPaginationPage",function(Y){s.CHM(w);const gt=s.oxw(3);return s.KtG(gt.setPageStudent(Y))}),s.qZA()}if(2&P){const w=s.oxw(3);s.Q6J("pageObj",w.pageObj)}}function Kt(P,pt){if(1&P&&(s.TgZ(0,"div",12),s._uU(1),s.ALo(2,"mytranslate"),s.qZA()),2&P){const w=s.oxw(3);s.xp6(1),s.AsE("",w.dataStudent.total," ",s.lcZ(2,2,"lang_notify_list_students"),"")}}function zt(P,pt){if(1&P&&(s.TgZ(0,"div",100),s._UZ(1,"div"),s.YNc(2,jt,1,1,"azt-paging",101),s.YNc(3,Kt,3,4,"div",102),s.qZA()),2&P){const w=s.oxw(2);s.xp6(2),s.Q6J("ngIf",w.dataStudent.total>w.pageObj.pageSize),s.xp6(1),s.Q6J("ngIf",!w.isStudent)}}function Vt(P,pt){if(1&P&&(s.TgZ(0,"div",28),s.YNc(1,_t,3,3,"div",29),s.YNc(2,Ze,15,11,"div",30),s.YNc(3,bt,3,3,"div",31),s.qZA(),s.YNc(4,zt,4,2,"div",32)),2&P){const w=s.oxw();let G,Y,gt;s.xp6(1),s.Q6J("ngIf",!w.isStudent&&0==(null==w.dataStudent||null==w.dataStudent.list?null:w.dataStudent.list.length)&&0==(null!==(G=null==w.dataStudent?null:w.dataStudent.total)&&void 0!==G?G:0)),s.xp6(1),s.Q6J("ngIf",!w.isStudent&&(null!==(Y=null==w.dataStudent||null==w.dataStudent.list?null:w.dataStudent.list.length)&&void 0!==Y?Y:0)>0),s.xp6(1),s.Q6J("ngIf",w.isStudent),s.xp6(1),s.Q6J("ngIf",w.dataStudent&&w.dataStudent.total&&(null!==(gt=null==w.dataStudent?null:w.dataStudent.total)&&void 0!==gt?gt:0)>0)}}function ke(P,pt){if(1&P&&(s.TgZ(0,"th",106),s._uU(1),s.ALo(2,"mytranslate"),s.qZA()),2&P){const w=pt.$implicit,G=pt.index,Y=s.oxw(2);s.uIk("excelWidth",20)("excelRow",0)("excelColumn",6+G)("excelStyle",Y.styleThNormal),s.xp6(1),s.AsE(" ",w.name+"\n"," "," ("+s.lcZ(2,6,"lang_auto_he_so")+" "+w.coefficient+")"," ")}}function de(P,pt){if(1&P&&s._UZ(0,"azt-check-mark",74),2&P){const w=s.oxw().$implicit;s.Q6J("mark",w.marks.length>0?w.marks[0]:"")}}function re(P,pt){if(1&P&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&P){const w=s.oxw().$implicit,G=s.oxw(3);s.xp6(1),s.hij(" ",G.returnValue(w)," ")}}function Je(P,pt){if(1&P&&(s.TgZ(0,"td",106),s.YNc(1,de,1,1,"azt-check-mark",108),s.YNc(2,re,2,1,"span",31),s.qZA()),2&P){const w=pt.$implicit,G=pt.index,Y=s.oxw().index,gt=s.oxw(2);s.uIk("excelRow",Y+1)("excelColumn",6+G)("excelStyle",gt.styleTdNormal),s.xp6(1),s.Q6J("ngIf","homework"==w.objectType),s.xp6(1),s.Q6J("ngIf","homework"!=w.objectType)}}function ge(P,pt){if(1&P&&(s.TgZ(0,"tr")(1,"td",106),s._uU(2),s.qZA(),s.TgZ(3,"td",106),s._uU(4),s.qZA(),s.TgZ(5,"td",106),s._uU(6),s.qZA(),s.TgZ(7,"td",106),s._uU(8),s.qZA(),s.TgZ(9,"td",106),s._uU(10),s.ALo(11,"formatOnlyDateByUserUnitPipe"),s.qZA(),s.TgZ(12,"td",106),s._uU(13),s.ALo(14,"mytranslate"),s.ALo(15,"mytranslate"),s.qZA(),s.YNc(16,Je,3,5,"td",107),s.TgZ(17,"td",106),s._uU(18),s.qZA()()),2&P){const w=pt.$implicit,G=pt.index,Y=s.oxw(2);let gt,A;s.xp6(1),s.uIk("excelRow",G+1)("excelColumn",0)("excelStyle",Y.styleTdNormal),s.xp6(1),s.hij(" ",null!=w&&w.fullName?G+1:""," "),s.xp6(1),s.uIk("excelRow",G+1)("excelColumn",1)("excelStyle",Y.styleTdNormalLeft),s.xp6(1),s.hij(" ",null==w?null:w.fullName," "),s.xp6(1),s.uIk("excelRow",G+1)("excelColumn",2)("excelStyle",Y.styleTdNotNumberNormal),s.xp6(1),s.hij(" ",null==w?null:w.phone," "),s.xp6(1),s.uIk("excelRow",G+1)("excelColumn",3)("excelStyle",Y.styleTdNormal),s.xp6(1),s.hij(" ",null==w?null:w.email," "),s.xp6(1),s.uIk("excelRow",G+1)("excelColumn",4)("excelStyle",Y.styleTdNormal),s.xp6(1),s.hij(" ",s.lcZ(11,29,null==w?null:w.birthday)," "),s.xp6(2),s.uIk("excelRow",G+1)("excelColumn",5)("excelStyle",Y.styleTdNormal),s.xp6(1),s.hij(" ",1==(null==w?null:w.gender)?s.lcZ(14,31,"lang_student_export_excel_gender_male"):0==(null==w?null:w.gender)?s.lcZ(15,33,"lang_student_export_excel_gender_female"):""," "),s.xp6(3),s.Q6J("ngForOf",null!==(gt=w.marks)&&void 0!==gt?gt:s.DdM(35,ce)),s.xp6(1),s.uIk("excelRow",G+1)("excelColumn",6+(null!==(A=null==w.marks?null:w.marks.length)&&void 0!==A?A:0))("excelStyle",Y.styleTdNotNumberNormal),s.xp6(1),s.hij(" ",w.averageMark," ")}}function Ne(P,pt){if(1&P&&(s.TgZ(0,"table",104,105)(2,"thead")(3,"tr")(4,"th",106),s._uU(5),s.ALo(6,"mytranslate"),s.qZA(),s.TgZ(7,"th",106),s._uU(8),s.ALo(9,"mytranslate"),s.qZA(),s.TgZ(10,"th",106),s._uU(11),s.ALo(12,"mytranslate"),s.qZA(),s.TgZ(13,"th",106),s._uU(14),s.ALo(15,"mytranslate"),s.qZA(),s.TgZ(16,"th",106),s._uU(17),s.ALo(18,"mytranslate"),s.qZA(),s.TgZ(19,"th",106),s._uU(20),s.ALo(21,"mytranslate"),s.qZA(),s.YNc(22,ke,3,8,"th",107),s.TgZ(23,"th",106),s._uU(24),s.ALo(25,"mytranslate"),s.qZA()()(),s.TgZ(26,"tbody"),s.YNc(27,ge,19,36,"tr",78),s.qZA()()),2&P){const w=s.oxw();let G,Y,gt;s.Q6J("border",1),s.xp6(4),s.uIk("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",w.styleThNormal),s.xp6(1),s.hij(" ",s.lcZ(6,38,"lang_student_export_excel_no")," "),s.xp6(2),s.uIk("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",w.styleThNormal),s.xp6(1),s.hij(" ",s.lcZ(9,40,"lang_student_export_excel_full_name")," "),s.xp6(2),s.uIk("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",w.styleThNormal),s.xp6(1),s.hij(" ",s.lcZ(12,42,"lang_number_phone")," "),s.xp6(2),s.uIk("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",w.styleThNormal),s.xp6(1),s.hij(" ",s.lcZ(15,44,"lang_student_export_excel_email")," "),s.xp6(2),s.uIk("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",w.styleThNormal),s.xp6(1),s.hij(" ",s.lcZ(18,46,"lang_student_export_excel_birthday")," "),s.xp6(2),s.uIk("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",w.styleThNormal),s.xp6(1),s.hij(" ",s.lcZ(21,48,"lang_student_export_excel_gender")," "),s.xp6(2),s.Q6J("ngForOf",null!==(G=null==w.dataMark?null:w.dataMark.list)&&void 0!==G?G:s.DdM(52,ce)),s.xp6(1),s.uIk("excelWidth",20)("excelRow",0)("excelColumn",6+(null!==(Y=null==w.dataMark||null==w.dataMark.list?null:w.dataMark.list.length)&&void 0!==Y?Y:0))("excelStyle",w.styleThNormal),s.xp6(1),s.hij(" ",s.lcZ(25,50,"lang_business_diem_tong_ket")," "),s.xp6(3),s.Q6J("ngForOf",null!==(gt=null==w.dataStudent?null:w.dataStudent.list)&&void 0!==gt?gt:s.DdM(53,ce))}}let nn=(()=>{class P extends i.Q{goToProfile(w,G){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+w+"/"+G,"?backto="+encodeURIComponent("ENTER_SCORE"==this.screenType?"/admin/student/submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"/admin/student/classroom-details/"+this.classroomId+"/4"))}setPageStudent(w){this.myNavigationWithQueryString("/admin/student/"+("ENTER_SCORE"==this.screenType?"submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"classroom-details/"+this.classroomId+"/4"),"?page="+w),this.initStatusObj(),this.pageObj.setPageNumber(w),this.getListStudent()}openDialogTableSingle(w){"ENTER_SCORE"!=this.screenType?this.sAztDialogService.open(v.m,{width:"750px",restoreFocus:!1,data:{student:w,isTeacher:!0}}).afterClosed().subscribe(G=>{G&&this.getListStudent()}):(w.classroomId||w.id)&&this.goToProfile(w.classroomId,w.id)}onSearchBox(w){this.searchContentObj=w,this.setPageStudent(1),this.initStatusObj()}downloadTableScore(){e.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var w=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let G=this.commonService.createFileNameExportFile(["bang_diem_lop_"+this.classroomObj?.name])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(w,G),e.G.closeLoadingEffect(200)}handlePointByValueInput(w){var G=w.target;let Y=""===G.value.trim()?"":G.value;Y=Y.replace(/[^\d\s,\.]/g,""),Y=Y.replace(/,/g,"."),Y=Y.replace(/\s+/g," "),Y=Y.replace(/\.{2,}/g,"."),Y=Y.replace(/(?:^|\s)\./g," 0."),Y=Y.replace(/^\s+/,""),Y=Y.replace(/\.\s/g," ");var gt=Y.split(" ");if(gt.length>0){var A=""!=gt[gt.length-1]?gt[gt.length-1]:gt[gt.length-2];Number(A)>-1?A.split(".").length>1&&A.split(".")[1].length>2&&(Y=Y.substring(0,Y.length-1)):Y=Y.replace(/\.$/," ")}return G.value=Y,Y.split(" ").filter(Z=>""!=Z).map(Z=>parseFloat(Z))}handleMarkStudent(w,G,Y){var gt=this.handlePointByValueInput(w);gt=0==gt.length?[-1]:gt;var A=this.dataStudent.list[G],tt=this.dataMark.list[Y],k=this.listStudentMark.findIndex(At=>At.id==A.id);if(k>-1){var Z=(this.listStudentMark[k].listMarks??[]).findIndex(At=>At.id==tt.id);Z>-1?this.listStudentMark[k].listMarks[Z].points=gt:this.listStudentMark[k].listMarks?.push({id:tt.id,points:gt})}else this.listStudentMark.push({id:A.id,listMarks:[{id:tt.id,points:gt}]})}returnValue(w){return(w.marks??[]).join(" ")}saveMark(){this.isSave=!0,this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listStudentMark}).subscribe({next:G=>{this.getListStudent(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0),this.isSave=!1},error:G=>{this.errorStatusObj(G.error.message,!0),this.isSave=!1}}))}createNewScore(w){this.isStudent||this.sAztDialogService.open(C.h,{data:w||{programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(Y=>{Y&&this.getListMark()})}getListMark(){this.waitDestroy(this.commonMarkService.apiCommonMarksListPost({page:this.pageMark,size:1e3,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId}).subscribe({next:G=>{this.dataMark=G,this.getListStudent()},error:G=>{this.errorStatusObj(G.error.message,!0)}}))}deleteMark(w){var G=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+w.name+" </div> ?";this.sAztDialogService.open(l.s,{data:{content:G},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(Y=>{Y&&this.waitDestroy(this.commonMarkService.apiCommonMarksIdDelete(w.id).subscribe({next:gt=>{this.getListMark()},error:gt=>{this.errorStatusObj(gt.error.message,!0)}}))})}getClassroomObj(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(w=>{1==w.success&&(this.classroomObj=w.data?.obj)}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1}).subscribe({next:G=>{this.dataStudent=G,this.pageObj.setTotalPages(this.dataStudent?.total??0),this.isStudent?this.handleGroupMarkByDate(G.list):setTimeout(()=>this.scrollElementStudentById(),500),this.stopStatusObj()},error:G=>{this.errorStatusObj(G.error.message,!0)}}))}handleGroupMarkByDate(w){let G=[];w.forEach(gt=>{let A=gt.marks?.map(tt=>({...tt,monthAndYear:this.sAztTimeService.formatDateToMonthYear(tt.createdAt)}))??[];G=G.concat(A)});let Y=this.commonService.arrayToDictionary(G,gt=>gt.monthAndYear);this.listGroupMarkDate=Object.entries(Y).map(([gt,A])=>({date:gt,marks:A,expand:!1}))}scrollElementStudentById(){if(this.studentId){var w=document.getElementById("row_student_"+this.studentId);w&&w.scrollIntoView({behavior:"smooth",block:"start"})}}ngOnInit(){(0,O.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.studentId=this.commonService.getMyQueryParam("studentId"),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))}),super.ngOnInit(),"ENTER_SCORE"==this.screenType?this.getListMark():this.getListStudent(),this.getClassroomObj()}constructor(w,G,Y,gt,A,tt,k,Z){super(),this.commonMarkService=w,this.studentService=G,this.sAztTimeService=Y,this.sAztDialogService=gt,this.classroomService=A,this.exportExcelService=tt,this.activeRoute=k,this.shareFileFlutterService=Z,this.screenType="ENTER_SCORE",this.classroomId=0,this.programId=0,this.sessionId=0,this.isStudent=!0,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.pageMark=1,this.listStudentMark=[],this.listGroupMarkDate=[],this.isSave=!1,this.pageObj=new R.m(50),this.searchContentObj=new t.h}}return P.\u0275fac=function(w){return new(w||P)(s.Y36(Ct.Q),s.Y36(xt.V),s.Y36(Ot.D),s.Y36(et.C),s.Y36(rt.u),s.Y36(V.L),s.Y36(nt.gz),s.Y36(dt.g))},P.\u0275cmp=s.Xpm({type:P,selectors:[["app-table-score"]],viewQuery:function(w,G){if(1&w&&s.Gf(se,5),2&w){let Y;s.iGM(Y=s.CRH())&&(G.table_answer=Y.first)}},inputs:{screenType:"screenType",classroomId:"classroomId",programId:"programId",sessionId:"sessionId",isStudent:"isStudent"},features:[s.qOj],decls:8,vars:6,consts:[[1,"grid","grid-cols-12","gap-5","mt-5"],["class","col-span-12 md:col-span-6",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","placeholder","onSearch"],[1,"flex","justify-end"],["azt-track-service","enter-score-ULGPeBf6V","class","btn btn-primary flex mr-2",3,"click",4,"ngIf"],["azt-track-service","table-score-n5S54LPUX","class","btn btn-primary flex btn-download-excel",3,"click",4,"ngIf"],[3,"colorBackground",4,"ngIf"],["azt-track-service","enter-score-ULGPeBf6V",1,"btn","btn-primary","flex","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","flex","items-center","justify-center"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],["azt-track-service","table-score-n5S54LPUX",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],[1,"w-5","h-5","mr-2"],["name","download"],[3,"colorBackground"],["azt-track-service","enter-score-OlvWZNI2DZ",1,"btn","btn-primary","shadow-md","sm:mt-0","ml-2",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["class","block","style","height: 100%",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-10","text-center"],[1,"block",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap",2,"padding-left","25px"],[1,"whitespace-nowrap","text-center"],["class","text-center","style","max-width: 120px !important",4,"ngFor","ngForOf"],["class","text-center whitespace-nowrap",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"text-center",2,"max-width","120px !important"],[1,"flex","items-center","justify-center"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],[1,"flex","justify-between",2,"width","max-content"],["class","col-score","class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["azt-track-service","enter-score-YQX6a-qxwK","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],["azt-track-service","table-score-8Xr_zTWDT","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],["azt-track-service","enter-score-YQX6a-qxwK",1,"inline-block","ml-1",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],["azt-track-service","table-score-8Xr_zTWDT",1,"inline-block","ml-1",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-trash-2",2,"color","red"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","x2","10","y1","11","y2","17"],["x1","14","x2","14","y1","11","y2","17"],[1,"text-center","whitespace-nowrap"],[3,"id"],["azt-track-service","table-score-iwGAjYKV2",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",3,"hidden",4,"ngFor","ngForOf"],[1,"text-center",3,"hidden"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important","type","text","class","form-control form-control-sm text-center",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input"],[1,"flex","justify-center","font-bold"],["class","box p-3 mb-5 flex justify-between",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"box","p-3","mb-5","flex","justify-between"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"text-center"],[1,"font-bold"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","table-score-4mYihdNPO",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-right","style","width: 18px !important; height: 18px !important; vertical-align: top",4,"ngIf"],["name","chevron-down",2,"width","18px !important","height","18px !important","vertical-align","top"],["name","chevron-right",2,"width","18px !important","height","18px !important","vertical-align","top"],["class","box mt-3 mb-1",4,"ngIf"],[1,"box","mt-3","mb-1"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","100px"],[1,"flex","items-center"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],[1,"text-center","font-bold"],["style","max-width: 100px",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[2,"max-width","100px"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score",""],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[3,"mark",4,"ngIf"]],template:function(w,G){if(1&w&&(s.TgZ(0,"div",0),s.YNc(1,le,4,3,"div",1),s.YNc(2,te,4,3,"div",1),s.YNc(3,Tt,9,7,"div",2),s.qZA(),s.YNc(4,Zt,1,1,"azt-loading-effect",3),s.YNc(5,Vt,5,4,"ng-template",null,4,s.W1O),s.YNc(7,Ne,28,54,"table",5)),2&w){const Y=s.MAs(6);s.xp6(1),s.Q6J("ngIf","ENTER_SCORE"==G.screenType),s.xp6(1),s.Q6J("ngIf","TABLE_SCORE"==G.screenType),s.xp6(1),s.Q6J("ngIf",!G.isStudent),s.xp6(1),s.Q6J("ngIf",G.statusObj.loading)("ngIfElse",Y),s.xp6(3),s.Q6J("ngIf","TABLE_SCORE"==G.screenType)}},dependencies:[ct.sg,ct.O5,ot.gM,st.l,M.L,K.B,W.n,L.s,B.W,ht.a,Mt.HU,Mt.$Z,Yt.Nh5,Gt.JV,Gt.gw,Gt.YK],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}@media (max-width: 639px){.btn-download-excel[_ngcontent-%COMP%]{width:100%!important}}.box-point-homework[_ngcontent-%COMP%]{min-width:120px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}"]}),P})()},93733:(ae,It,g)=>{g.d(It,{Y:()=>l});var O=g(37734),i=g(65879),e=g(12044),R=g(9400);let l=(()=>{class t extends O.Q{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor(v){super(),this.activeRoute=v,this.classroomId=0}}return t.\u0275fac=function(v){return new(v||t)(i.Y36(e.gz))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-grand-board"]],inputs:{isStudent:"isStudent"},features:[i.qOj],decls:1,vars:5,consts:[[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(v,s){1&v&&i._UZ(0,"app-table-score",0),2&v&&i.Q6J("isStudent",s.isStudent)("screenType","TABLE_SCORE")("classroomId",s.classroomId)("programId",0)("sessionId",0)},dependencies:[R.B],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),t})()},55358:(ae,It,g)=>{g.d(It,{R:()=>K});var O=g(37734),i=g(65879),e=g(19402),R=g(12044),l=g(96814),t=g(43389),C=g(85904),v=g(36727);function s(W,L){if(1&W&&i._UZ(0,"azt-loading-effect",2),2&W){const B=i.oxw();i.Q6J("currentStatusObj",B.statusObj)}}const Ct=function(W){return{"text-white":W}};function xt(W,L){if(1&W&&(i.TgZ(0,"div",21),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&W){const B=i.oxw(),Mt=B.$implicit;i.Q6J("ngClass",i.VKq(4,Ct,0===B.index)),i.xp6(1),i.Oqu(Mt.averageMark+" "+i.lcZ(2,2,"lang_auto_diem"))}}function Ot(W,L){if(1&W&&(i.TgZ(0,"div",21),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()),2&W){const B=i.oxw();i.Q6J("ngClass",i.VKq(4,Ct,0===B.index&&B.$implicit.averageMark)),i.xp6(1),i.Oqu(i.lcZ(2,2,"lang_not_data"))}}function et(W,L){1&W&&(i.TgZ(0,"div",22),i.O4$(),i.TgZ(1,"svg",23),i._UZ(2,"path",24),i.TgZ(3,"g",25),i._UZ(4,"path",26),i.qZA(),i.TgZ(5,"defs")(6,"clipPath",27),i._UZ(7,"rect",28),i.qZA()()()())}function rt(W,L){1&W&&(i.TgZ(0,"div",29),i.O4$(),i.TgZ(1,"svg",23),i._UZ(2,"path",30),i.TgZ(3,"g",31),i._UZ(4,"path",26),i.qZA(),i.TgZ(5,"defs")(6,"clipPath",32),i._UZ(7,"rect",28),i.qZA()()()())}function V(W,L){1&W&&(i.TgZ(0,"div",33),i.O4$(),i.TgZ(1,"svg",23),i._UZ(2,"path",34),i.TgZ(3,"g",35),i._UZ(4,"path",26),i.qZA(),i.TgZ(5,"defs")(6,"clipPath",36),i._UZ(7,"rect",28),i.qZA()()()())}const nt=function(W,L,B){return{"p-5 bg-primary text-white":W,"p-3":L,"border border-primary p-4 border-w-2":B}},dt=function(W){return{"text-base":W}};function ct(W,L){if(1&W){const B=i.EpF();i.TgZ(0,"div",8),i.NdJ("click",function(){const Yt=i.CHM(B).$implicit,Gt=i.oxw(3);return i.KtG(Gt.goToProfile(Yt.classroomId,Yt.id))}),i.TgZ(1,"div",9)(2,"span",10),i._uU(3),i.qZA()(),i.TgZ(4,"div",11)(5,"div",12),i._UZ(6,"azt-create-avatar",13),i.qZA(),i.TgZ(7,"div",14)(8,"div",15),i._uU(9),i.qZA(),i.YNc(10,xt,3,6,"div",16),i.YNc(11,Ot,3,6,"div",16),i.qZA()(),i.TgZ(12,"div",17),i.YNc(13,et,8,0,"div",18),i.YNc(14,rt,8,0,"div",19),i.YNc(15,V,8,0,"div",20),i.qZA()()}if(2&W){const B=L.$implicit,ht=L.index;i.Q6J("ngClass",i.kEZ(12,nt,0===ht&&B.averageMark,0!==ht||!B.averageMark,(2===ht||1===ht)&&B.averageMark)),i.xp6(3),i.Oqu(ht+1),i.xp6(3),i.Q6J("linkAvatar",B.avatar)("nameCreateAvatar",B.fullName)("size",0===ht?48:44),i.xp6(2),i.Q6J("ngClass",i.VKq(16,dt,0===ht)),i.xp6(1),i.Oqu(B.fullName),i.xp6(1),i.Q6J("ngIf",B.averageMark),i.xp6(1),i.Q6J("ngIf",!B.averageMark),i.xp6(2),i.Q6J("ngIf",0===ht&&B.averageMark),i.xp6(1),i.Q6J("ngIf",1===ht&&B.averageMark),i.xp6(1),i.Q6J("ngIf",2===ht&&B.averageMark)}}function ot(W,L){if(1&W&&(i.TgZ(0,"div",5)(1,"div",6),i._uU(2),i.ALo(3,"mytranslate"),i.qZA(),i.YNc(4,ct,16,18,"div",7),i.qZA()),2&W){const B=i.oxw(2);i.xp6(2),i.hij(" ",i.lcZ(3,2,"lang_azt_leaderboard")," "),i.xp6(2),i.Q6J("ngForOf",B.dataStudent.list)}}function st(W,L){1&W&&(i.TgZ(0,"div",37)(1,"div",38),i.O4$(),i.TgZ(2,"svg",39),i._UZ(3,"path",40)(4,"path",41)(5,"path",42)(6,"path",43)(7,"path",44)(8,"path",45),i.qZA(),i.kcU(),i.TgZ(9,"p",46),i._uU(10),i.ALo(11,"mytranslate"),i.qZA()()()),2&W&&(i.xp6(10),i.Oqu(i.lcZ(11,1,"lang_not_data")+"!"))}function M(W,L){if(1&W&&(i.YNc(0,ot,5,4,"div",3),i.YNc(1,st,12,3,"ng-template",null,4,i.W1O)),2&W){const B=i.MAs(2),ht=i.oxw();i.Q6J("ngIf",ht.dataStudent&&ht.dataStudent.list&&ht.dataStudent.list.length)("ngIfElse",B)}}let K=(()=>{class W extends O.Q{goToProfile(B,ht){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+B+"/"+ht,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${B}/5`))}getListStudent(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1e3,name:"",programId:0,classroomId:this.classroomId,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1,order:{fieldName:"averageMark",descending:!0,ignore:!1}}).subscribe({next:ht=>{this.dataStudent=ht,this.stopStatusObj()},error:ht=>{this.errorStatusObj(ht.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getListStudent()}constructor(B,ht){super(),this.studentService=B,this.activeRoute=ht,this.classroomId=0}}return W.\u0275fac=function(B){return new(B||W)(i.Y36(e.VT),i.Y36(R.gz))},W.\u0275cmp=i.Xpm({type:W,selectors:[["app-leader-board"]],inputs:{isStudent:"isStudent"},features:[i.qOj],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["class","p-4 leaderboard rounded-lg",4,"ngIf","ngIfElse"],["emptyData",""],[1,"p-4","leaderboard","rounded-lg"],[1,"text-xl","text-center","font-medium"],["azt-track-service","leaderboard-dDzfaXSYR","class","flex items-center box rounded-25px mt-4 intro-x zoom-in p-3","style","min-height: 92px",3,"ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","leaderboard-dDzfaXSYR",1,"flex","items-center","box","rounded-25px","mt-4","intro-x","zoom-in","p-3",2,"min-height","92px",3,"ngClass","click"],[1,"w-5","h-5","rounded-full","border","border-w-2","border-slate-200","dark:border-slate-400","flex","items-center","justify-center"],[1,"text-xs","font-medium"],[1,"mx-3","flex","items-center"],[1,"image-fit","zoom-in"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4"],[1,"font-medium",3,"ngClass"],["class","text-slate-600 mt-0.5 text-xs font-medium",3,"ngClass",4,"ngIf"],[1,"ml-auto"],["class","icon-top-1",4,"ngIf"],["class","icon-top-2",4,"ngIf"],["class","icon-top-3",4,"ngIf"],[1,"text-slate-600","mt-0.5","text-xs","font-medium",3,"ngClass"],[1,"icon-top-1"],["width","40","height","40","viewBox","0 0 40 40","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M17.9929 1.16429C19.2341 0.444284 20.7659 0.444285 22.0071 1.16429L28.65 5.01776L35.3087 8.84395C36.5528 9.55886 37.3187 10.8854 37.3158 12.3203L37.3 20L37.3158 27.6797C37.3187 29.1146 36.5528 30.4411 35.3087 31.1561L28.65 34.9822L22.0071 38.8357C20.7659 39.5557 19.2341 39.5557 17.9929 38.8357L11.35 34.9822L4.69135 31.1561C3.4472 30.4411 2.68131 29.1146 2.68425 27.6797L2.7 20L2.68425 12.3203C2.68131 10.8854 3.4472 9.55886 4.69135 8.84395L11.35 5.01776L17.9929 1.16429Z","fill","#FFD54B"],["clip-path","url(#clip0_199_17919)"],["d","M20 15L23.3333 20L27.5 16.6667L25.8333 25H14.1667L12.5 16.6667L16.6667 20L20 15Z","fill","white","stroke","white","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_199_17919"],["width","20","height","20","fill","white","transform","translate(10 10)"],[1,"icon-top-2"],["d","M17.9929 1.16429C19.2341 0.444284 20.7659 0.444285 22.0071 1.16429L28.65 5.01776L35.3087 8.84395C36.5528 9.55886 37.3187 10.8854 37.3158 12.3203L37.3 20L37.3158 27.6797C37.3187 29.1146 36.5528 30.4411 35.3087 31.1561L28.65 34.9822L22.0071 38.8357C20.7659 39.5557 19.2341 39.5557 17.9929 38.8357L11.35 34.9822L4.69135 31.1561C3.4472 30.4411 2.68131 29.1146 2.68425 27.6797L2.7 20L2.68425 12.3203C2.68131 10.8854 3.4472 9.55886 4.69135 8.84395L11.35 5.01776L17.9929 1.16429Z","fill","#E1E1E2"],["clip-path","url(#clip0_199_17945)"],["id","clip0_199_17945"],[1,"icon-top-3"],["d","M17.9929 1.16429C19.2341 0.444284 20.7659 0.444285 22.0071 1.16429L28.65 5.01776L35.3087 8.84395C36.5528 9.55886 37.3187 10.8854 37.3158 12.3203L37.3 20L37.3158 27.6797C37.3187 29.1146 36.5528 30.4411 35.3087 31.1561L28.65 34.9822L22.0071 38.8357C20.7659 39.5557 19.2341 39.5557 17.9929 38.8357L11.35 34.9822L4.69135 31.1561C3.4472 30.4411 2.68131 29.1146 2.68425 27.6797L2.7 20L2.68425 12.3203C2.68131 10.8854 3.4472 9.55886 4.69135 8.84395L11.35 5.01776L17.9929 1.16429Z","fill","#F6B191"],["clip-path","url(#clip0_199_17968)"],["id","clip0_199_17968"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","82","height","90","viewBox","0 0 82 90","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M29.1186 60.3066C29.0404 60.8599 29 61.4252 29 62C29 68.6274 34.3726 74 41 74C47.6274 74 53 68.6274 53 62C53 61.4252 52.9596 60.8599 52.8815 60.3066H82V87C82 88.6569 80.6569 90 79 90H3C1.34315 90 0 88.6569 0 87V60.3066H29.1186Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M54 60C54 67.1797 48.1797 73 41 73C33.8203 73 28 67.1797 28 60C28 59.7674 28.0061 59.5362 28.0182 59.3066H0L9.56044 31.0389C9.9726 29.8202 11.1159 29 12.4023 29H69.5977C70.8842 29 72.0274 29.8202 72.4396 31.0389L82 59.3066H53.9818C53.9939 59.5362 54 59.7674 54 60Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M52.0976 60.9545C52.0976 66.5025 47.129 72 41 72C34.871 72 29.9024 66.5025 29.9024 60.9545C29.9024 60.7748 29.9077 59.5962 29.918 59.4188H9L17.1614 39.5755C17.5132 38.6338 18.4891 38 19.5873 38H62.4127C63.5109 38 64.4868 38.6338 64.8387 39.5755L73 59.4188H52.082C52.0923 59.5962 52.0976 60.7748 52.0976 60.9545Z","fill","#E8F0FE"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 59.5123V86C1.25 86.9665 2.0335 87.75 3 87.75H79C79.9665 87.75 80.75 86.9665 80.75 86V59.5123L71.2554 31.4393C71.015 30.7285 70.3481 30.25 69.5977 30.25H12.4023C11.6519 30.25 10.985 30.7285 10.7446 31.4393L1.25 59.5123Z","stroke","#1F64E7","stroke-width","2.5"],["d","M14 59C17.9366 59 22.1849 59 26.7449 59C28.6212 59 28.6212 60.3186 28.6212 61C28.6212 67.6274 34.1174 73 40.8973 73C47.6772 73 53.1734 67.6274 53.1734 61C53.1734 60.3186 53.1734 59 55.0496 59H80M6.57373 59H9H6.57373Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M66.0996 6.30273L55 18.7559M40.0996 2V18.7559V2ZM14 6.30273L25.0996 18.7559L14 6.30273Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"]],template:function(B,ht){if(1&B&&(i.YNc(0,s,1,1,"azt-loading-effect",0),i.YNc(1,M,3,2,"ng-template",null,1,i.W1O)),2&B){const Mt=i.MAs(2);i.Q6J("ngIf",ht.statusObj.loading)("ngIfElse",Mt)}},dependencies:[l.mk,l.sg,l.O5,t.l,C.g,v.JV],styles:[".leaderboard[_ngcontent-%COMP%]{background:#dae3fe;border-radius:30px}.rounded-25px[_ngcontent-%COMP%]{border-radius:25px}"]}),W})()},50447:(ae,It,g)=>{g.d(It,{A:()=>gt});var O=g(8633),i=g(37734),e=function(A){return A[A.ADD_NEW=0]="ADD_NEW",A[A.UPDATE=1]="UPDATE",A[A.DELETE=2]="DELETE",A}(e||{}),R=g(56223),l=g(65879),t=g(19402),C=g(96814),v=g(92596),s=g(43389),Ct=g(71646),xt=g(91765),Ot=g(63120),et=g(78953),rt=g(2032),V=g(63038),nt=g(32443),dt=g(37722),ct=g(15828),ot=g(2783);function st(A,tt){if(1&A){const k=l.EpF();l.TgZ(0,"div",2)(1,"div",3)(2,"a",4),l.NdJ("click",function(){const At=l.CHM(k).$implicit,Jt=l.oxw();return l.KtG(Jt.onShowFile(At,-1))}),l.TgZ(3,"div",5),l._UZ(4,"img",6),l.TgZ(5,"span",7),l.NdJ("click",function(){const At=l.CHM(k).$implicit,Jt=l.oxw();return l.KtG(Jt.removeFile(At))}),l.O4$(),l.TgZ(6,"svg",8),l._UZ(7,"line",9)(8,"line",10),l.qZA()()()()()()}if(2&A){const k=tt.$implicit;l.xp6(4),l.Q6J("src",k.url,l.LSH)}}let M=(()=>{class A extends i.Q{onShowFile(k,Z){let U={...k,index:Z};this.sAztDialogService.open(ct.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:U},restoreFocus:!1})}removeFile(k){this.files=this.files.filter(Z=>Z.url!=k.url),this.filesChange.emit(this.files)}constructor(k){super(),this.sAztDialogService=k,this.filesChange=new l.vpe}}return A.\u0275fac=function(k){return new(k||A)(l.Y36(ot.C))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-new-list-images"]],inputs:{files:"files"},outputs:{filesChange:"filesChange"},features:[l.qOj],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","gap-3","mb-3"],["class","col-span-12 md:col-span-6 xl:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","xl:col-span-4","lg:col-span-2"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-1","pr-2","pl-2"],["azt-track-service","list-images-jCIgoLK9i",1,"flex","w-full","items-center",3,"click"],[1,"w-full","h-28","image-fit","zoom-in"],[1,"rounded-md",3,"src"],["azt-track-service","list-images-3VlAbiB3VZ",1,"cursor-pointer","absolute","top-0","right-0","-mt-2","-mr-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-danger","text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","stroke-1.5","h-4","w-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"]],template:function(k,Z){1&k&&(l.TgZ(0,"div",0),l.YNc(1,st,9,1,"div",1),l.qZA()),2&k&&(l.xp6(1),l.Q6J("ngForOf",Z.files))},dependencies:[C.sg],encapsulation:2}),A})();var K=g(36727);function W(A,tt){if(1&A){const k=l.EpF();l.TgZ(0,"app-new-list-images",14),l.NdJ("filesChange",function(U){l.CHM(k);const At=l.oxw();return l.KtG(At.files=U)}),l.qZA()}if(2&A){const k=l.oxw();l.Q6J("files",k.files)}}function L(A,tt){1&A&&(l.TgZ(0,"span",15),l._UZ(1,"azt-loading-ui"),l.qZA())}const B=function(A){return[A]};let ht=(()=>{class A extends i.Q{saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();var k={content:this.contentFormControl.value??"",classroomId:this.classroomId,imageLinks:this.files.map(Z=>Z.url).filter(this.commonService.notEmpty),isLockComment:this.isLockComment?1:0,isSchool:this.isSchool};this.waitDestroy(this.newsService.apiNewsPost(k).subscribe({next:Z=>{this.successStatusObj("lang_business_news_add_new_post_success",!0),this.contentFormControl.setValue(""),this.files=[],this.changePostObjEvent.emit({...Z,isShowEditForm:!1,hasLoveEmotion:!1,isShowCommentBox:!1})},error:Z=>{this.errorStatusObj(Z.error.message,!0)}}))}}handleUploadComplete(k){this.files.push(...k)}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(k,Z){super(),this.newsService=k,this.userService=Z,this.changePostObjEvent=new l.vpe,this.contentFormControl=new R.NI("",{nonNullable:!0,validators:[xt._.noWhiteSpace]}),this.files=[],this.isLockComment=!1,this.allUploadToCdnMenuTypes=Ot.j6,this.allUploadFileTypes=Ot.AZ}}return A.\u0275fac=function(k){return new(k||A)(l.Y36(t.Yc),l.Y36(et.U))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-news-add-new-post"]],inputs:{classroomId:"classroomId",isSchool:"isSchool"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[l.qOj],decls:20,vars:21,consts:[[1,"box"],[1,"relative","w-full","pt-3","pr-3","pl-3"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","pt-3",3,"files","filesChange",4,"ngIf"],[1,"text-right","box-button"],[1,"w-full","flex","sm:justify-between","justify-end","items-center"],[1,"btn","btn-outline-secondary","btn-sm","mr-2","p-0","border-0",3,"matTooltip","click"],[1,"w-6","h-6","inline-block"],[3,"name"],[3,"uploadToCdnMenu","fileType","uploadComplete"],["azt-track-service","add-new-post-YUr68bfqj5",1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",1,"zoom-in",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip"],["azt-track-service","add-new-post-D1kcZnYwie","type","button",1,"btn","btn-primary","btn-sm","w-24",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"pt-3",3,"files","filesChange"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(k,Z){1&k&&(l.TgZ(0,"div",0)(1,"div",1)(2,"textarea",2),l.ALo(3,"mytranslate"),l._uU(4,"        "),l.qZA(),l.YNc(5,W,1,1,"app-new-list-images",3),l.qZA(),l.TgZ(6,"div",4)(7,"div",5)(8,"button",6),l.NdJ("click",function(){return Z.isLockComment=!Z.isLockComment}),l.ALo(9,"mytranslate"),l.TgZ(10,"span",7),l._UZ(11,"lucide-icon",8),l.qZA()(),l.TgZ(12,"azt-upload-multiple-box",9),l.NdJ("uploadComplete",function(At){return Z.handleUploadComplete(At)}),l.TgZ(13,"span",10),l._UZ(14,"lucide-icon",11),l.ALo(15,"mytranslate"),l.qZA()(),l.TgZ(16,"button",12),l.NdJ("click",function(){return Z.saveNewPost()}),l.YNc(17,L,2,0,"span",13),l._uU(18),l.ALo(19,"mytranslate"),l.qZA()()()()),2&k&&(l.xp6(2),l.s9C("placeholder",l.lcZ(3,11,"lang_business_news_post_content")),l.Q6J("formControl",Z.contentFormControl),l.xp6(3),l.Q6J("ngIf",Z.files.length),l.xp6(3),l.s9C("matTooltip",l.lcZ(9,13,Z.isLockComment?"lang_student_comment_lock":"lang_student_unlock_comments")),l.xp6(3),l.Q6J("name",Z.isLockComment?"lock":"unlock"),l.xp6(1),l.Q6J("uploadToCdnMenu",Z.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",l.VKq(19,B,Z.allUploadFileTypes.IMAGE)),l.xp6(2),l.s9C("matTooltip",l.lcZ(15,15,"lang_core_tai_anh")),l.xp6(2),l.Q6J("disabled",""==Z.contentFormControl.value||Z.statusObj.loading),l.xp6(1),l.Q6J("ngIf",Z.statusObj.loading),l.xp6(1),l.hij(" ",l.lcZ(19,17,"lang_business_news_add_new_post_button")," "))},dependencies:[C.O5,rt.Nt,v.gM,R.Fj,R.JJ,R.oH,V.m,Ct.n,nt.B,dt.Nh5,M,K.JV],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0;height:25px}.box-button[_ngcontent-%COMP%]{padding:5px 10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}"]}),A})();var Mt=g(19347),Yt=g(72164),Gt=g(78497);function se(A,tt){1&A&&(l.TgZ(0,"span",9),l._UZ(1,"azt-loading-ui"),l.qZA())}let le=(()=>{class A extends Yt.e{btnCloseDialog(k){this.dialogRef.close(k)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsIdDelete(this.postObj.id).subscribe({next:k=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:k=>{this.errorStatusObj(k.error.message,!0)}}))}constructor(k,Z,U){super(U,Z),this.newsService=k,this.dialogRef=Z,this.data=U,this.postObj=U}}return A.\u0275fac=function(k){return new(k||A)(l.Y36(t.Yc),l.Y36(Mt.so,8),l.Y36(Mt.WI,8))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-delete-news-post-confirm-dialog"]],features:[l.qOj],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(k,Z){1&k&&(l.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),l._uU(5),l.ALo(6,"mytranslate"),l.TgZ(7,"b",4),l._uU(8),l.qZA(),l._uU(9,"? "),l.qZA()()()(),l.TgZ(10,"div",5)(11,"button",6),l.NdJ("click",function(){return Z.btnCloseDialog(!1)}),l._uU(12),l.ALo(13,"mytranslate"),l.qZA(),l.TgZ(14,"button",7),l.NdJ("click",function(){return Z.confirmDelete()}),l.YNc(15,se,2,0,"span",8),l._uU(16),l.ALo(17,"mytranslate"),l.qZA()()()),2&k&&(l.xp6(5),l.hij(" ",l.lcZ(6,5,"lang_business_news_are_your_sure_to_delete_news_post"),"\xa0 "),l.xp6(3),l.Oqu(Z.postObj.content),l.xp6(4),l.hij(" ",l.lcZ(13,7,"lang_cms_common_close_btn")," "),l.xp6(3),l.Q6J("ngIf",Z.statusObj.loading),l.xp6(1),l.hij(" ",l.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[C.O5,Gt.R,Ct.n,K.JV],encapsulation:2}),A})();var te=g(77988),Wt=g(85904),wt=g(98082),Pt=function(A){return A[A.ADD_NEW=0]="ADD_NEW",A[A.UPDATE=1]="UPDATE",A[A.DELETE=2]="DELETE",A}(Pt||{}),ft=g(64170),Tt=g(49042);function Zt(A,tt){1&A&&(l.TgZ(0,"span",10),l._UZ(1,"azt-loading-ui"),l.qZA())}let _t=(()=>{class A extends i.Q{saveNewComment(){this.commentContentFormControl.value.trim()&&(this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsPost(this.postObj.id,{content:this.commentContentFormControl.value}).subscribe({next:Z=>{this.successStatusObj(),this.commentContentFormControl.setValue(""),this.changeCommentObjEvent.emit({...Z,isShowEditForm:!1,allowDelete:!0,allowEdit:!0})},error:Z=>{this.errorStatusObj(Z.error.message,!0)}})))}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(k,Z){super(),this.newsService=k,this.userService=Z,this.changeCommentObjEvent=new l.vpe,this.commentContentFormControl=new R.NI("",{nonNullable:!0,validators:[xt._.noWhiteSpace]})}}return A.\u0275fac=function(k){return new(k||A)(l.Y36(t.Yc),l.Y36(et.U))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-news-add-new-comments"]],inputs:{postObj:"postObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[l.qOj],decls:13,vars:13,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","",2,"resize","auto","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],["azt-track-service","add-new-comment-tIKt3rAhD",1,"btn","btn-secondary","btn-sm","zoom-in",3,"matTooltip","disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex-none","w-4","h-4","zoom-in"],["name","send",2,"color","#1e40af"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(k,Z){1&k&&(l.TgZ(0,"div",0),l._UZ(1,"azt-create-avatar",1),l.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),l.NdJ("enterKey",function(){return!(""==Z.commentContentFormControl.value||Z.statusObj.loading)&&Z.saveNewComment()}),l.ALo(5,"mytranslate"),l._uU(6,"            "),l.qZA()(),l.TgZ(7,"div",5)(8,"button",6),l.NdJ("click",function(){return Z.saveNewComment()}),l.ALo(9,"mytranslate"),l.YNc(10,Zt,2,0,"span",7),l.TgZ(11,"span",8),l._UZ(12,"lucide-icon",9),l.qZA()()()()()),2&k&&(l.xp6(1),l.Q6J("nameCreateAvatar",Z.userObj.fullName)("linkAvatar",Z.userObj.avatar)("size",30),l.xp6(3),l.s9C("placeholder",l.lcZ(5,9,"lang_core_viet_binh_luan")),l.Q6J("enableInMobile",!1)("formControl",Z.commentContentFormControl),l.xp6(4),l.s9C("matTooltip",l.lcZ(9,11,"lang_business_news_add_new_post_button")),l.Q6J("disabled",""==Z.commentContentFormControl.value||Z.statusObj.loading),l.xp6(2),l.Q6J("ngIf",Z.statusObj.loading))},dependencies:[C.O5,rt.Nt,ft.KE,v.gM,R.Fj,R.JJ,R.oH,Wt.g,V.m,Tt.Y,Ct.n,dt.Nh5,K.JV],encapsulation:2}),A})();function Nt(A,tt){1&A&&(l.TgZ(0,"span",9),l._UZ(1,"azt-loading-ui"),l.qZA())}let I=(()=>{class A extends Yt.e{btnCloseDialog(k){this.dialogRef.close(k)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdDelete(this.postObj.id,this.commentObj.id).subscribe({next:k=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:k=>{this.errorStatusObj(k.error.message,!0)}}))}constructor(k,Z,U){super(U,Z),this.newsService=k,this.dialogRef=Z,this.data=U,this.postObj=U.postObj,this.commentObj=U.commentObj}}return A.\u0275fac=function(k){return new(k||A)(l.Y36(t.Yc),l.Y36(Mt.so,8),l.Y36(Mt.WI,8))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-delete-news-post-comment-confirm-dialog"]],features:[l.qOj],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(k,Z){1&k&&(l.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),l._uU(5),l.ALo(6,"mytranslate"),l.TgZ(7,"b",4),l._uU(8),l.qZA(),l._uU(9,"? "),l.qZA()()()(),l.TgZ(10,"div",5)(11,"button",6),l.NdJ("click",function(){return Z.btnCloseDialog(!1)}),l._uU(12),l.ALo(13,"mytranslate"),l.qZA(),l.TgZ(14,"button",7),l.NdJ("click",function(){return Z.confirmDelete()}),l.YNc(15,Nt,2,0,"span",8),l._uU(16),l.ALo(17,"mytranslate"),l.qZA()()()),2&k&&(l.xp6(5),l.hij(" ",l.lcZ(6,5,"lang_business_news_are_your_sure_to_delete_news_post_comment"),"\xa0 "),l.xp6(3),l.Oqu(Z.commentObj.content),l.xp6(4),l.hij(" ",l.lcZ(13,7,"lang_cms_common_close_btn")," "),l.xp6(3),l.Q6J("ngIf",Z.statusObj.loading),l.xp6(1),l.hij(" ",l.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[C.O5,Gt.R,Ct.n,K.JV],encapsulation:2}),A})();function mt(A,tt){if(1&A&&(l.TgZ(0,"button",15),l.O4$(),l.TgZ(1,"svg",16),l._UZ(2,"circle",17)(3,"circle",18)(4,"circle",19),l.qZA()()),2&A){l.oxw();const k=l.MAs(12);l.Q6J("matMenuTriggerFor",k)}}function Q(A,tt){if(1&A){const k=l.EpF();l.TgZ(0,"li")(1,"a",20),l.NdJ("click",function(){l.CHM(k);const U=l.oxw();return l.KtG(U.editCommentEvent())}),l.O4$(),l.TgZ(2,"svg",21),l._UZ(3,"path",22)(4,"path",23),l.qZA(),l._uU(5),l.ALo(6,"mytranslate"),l.qZA()()}2&A&&(l.xp6(5),l.hij(" ",l.lcZ(6,1,"lang_auto_sua")," "))}function vt(A,tt){if(1&A){const k=l.EpF();l.TgZ(0,"li")(1,"a",24),l.NdJ("click",function(){l.CHM(k);const U=l.oxw();return l.KtG(U.deleteCommentEvent())}),l.O4$(),l.TgZ(2,"svg",25),l._UZ(3,"polyline",26)(4,"path",27),l.qZA(),l._uU(5),l.ALo(6,"mytranslate"),l.qZA()()}2&A&&(l.xp6(5),l.hij(" ",l.lcZ(6,1,"lang_auto_xoa")," "))}let Ft=(()=>{class A extends i.Q{editCommentEvent(){this.commentObj.isShowEditForm=!0,this.changeCommentObjEvent.emit({actionType:Pt.UPDATE,commentObj:this.commentObj})}deleteCommentEvent(){this.sAztDialogService.open(I,{width:"700px",data:{postObj:this.postObj,commentObj:this.commentObj},restoreFocus:!1}).afterClosed().subscribe(Z=>{Z&&this.changeCommentObjEvent.emit({actionType:Pt.DELETE,commentObj:this.commentObj})})}constructor(k){super(),this.sAztDialogService=k,this.changeCommentObjEvent=new l.vpe}}return A.\u0275fac=function(k){return new(k||A)(l.Y36(ot.C))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-news-view-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[l._Bn([O.S]),l.qOj],decls:20,vars:13,consts:[[1,"flex","mb-3","comment-body"],[1,"image-fit","mt-2"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"flex","items-center","justify-start"],[1,"box-content","px-3","py-2","ml-3"],[1,"font-medium","whitespace-nowrap"],[3,"content","maxLine","backgroundColor"],[1,"btn-show","ml-1"],["class","clickable p-1 hover:bg-slate-100 dark:hover:bg-darkmode-400","style","border-radius: 50%","data-tw-toggle","dropdown",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],[4,"ngIf"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5","ml-3"],["data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"border-radius","50%",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],["azt-track-service","comments-post-dialog-a0fkWfZtZk",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","comments-post-dialog-_pPBuSnF37",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(k,Z){1&k&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"azt-create-avatar",2),l.qZA(),l.TgZ(3,"div")(4,"div",3)(5,"div",4)(6,"div",5),l._uU(7),l.qZA(),l._UZ(8,"azt-see-more-multiple-lines",6),l.qZA(),l.TgZ(9,"div",7),l.YNc(10,mt,5,1,"button",8),l.TgZ(11,"mat-menu",9,10)(13,"div",11)(14,"ul",12),l.YNc(15,Q,7,3,"li",13),l.YNc(16,vt,7,3,"li",13),l.qZA()()()()(),l.TgZ(17,"div",14),l._uU(18),l.ALo(19,"relativeTime"),l.qZA()()()),2&k&&(l.xp6(2),l.Q6J("nameCreateAvatar",null==Z.commentObj.user?null:Z.commentObj.user.fullName)("linkAvatar",null==Z.commentObj.user?null:Z.commentObj.user.avatar)("size",30),l.xp6(5),l.hij(" ",null==Z.commentObj.user?null:Z.commentObj.user.fullName,"\xa0 "),l.xp6(1),l.Q6J("content",Z.commentObj.content)("maxLine",5)("backgroundColor","#f5f5f5"),l.xp6(2),l.Q6J("ngIf",Z.commentObj.allowDelete||Z.commentObj.allowEdit),l.xp6(5),l.Q6J("ngIf",Z.commentObj.allowEdit),l.xp6(1),l.Q6J("ngIf",Z.commentObj.allowDelete),l.xp6(2),l.Oqu(l.lcZ(19,11,Z.commentObj.createdAt)))},dependencies:[C.O5,te.VK,te.p6,Wt.g,wt.l,K.JV,K.Yy],styles:[".btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:transparent}.comment-body[_ngcontent-%COMP%]:hover   .btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgb(var(--color-slate-500)/var(--tw-text-opacity))}.box-content[_ngcontent-%COMP%]{border-radius:5px;background-color:#f5f5f5}"]}),A})();function Rt(A,tt){1&A&&(l.TgZ(0,"span",12),l._UZ(1,"azt-loading-ui"),l.qZA())}let ee=(()=>{class A extends i.Q{cancel(){this.commentObj.isShowEditForm=!1,this.changeCommentObjEvent.emit(this.commentObj)}saveNewComment(){if(this.commentContentFormControl.value.trim()){this.initStatusObj();var k={content:this.commentContentFormControl.value};this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdPut(this.postObj.id,this.commentObj.id,k).subscribe({next:Z=>{this.successStatusObj(),this.commentObj.isShowEditForm=!1,this.commentObj.content=k.content,this.changeCommentObjEvent.emit(this.commentObj),this.commentContentFormControl.setValue("")},error:Z=>{this.errorStatusObj(Z.error.message,!0)}}))}}ngOnInit(){this.userObj=this.userService.getUserObj(),this.commentContentFormControl.setValue(this.commentObj.content)}constructor(k,Z){super(),this.newsService=k,this.userService=Z,this.changeCommentObjEvent=new l.vpe,this.commentContentFormControl=new R.NI("",{nonNullable:!0,validators:[xt._.noWhiteSpace]})}}return A.\u0275fac=function(k){return new(k||A)(l.Y36(t.Yc),l.Y36(et.U))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-news-edit-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[l.qOj],decls:17,vars:16,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","","row","5",2,"resize","none","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"flex","justify-end","p-1","absolute",2,"bottom","5px","right","5px"],[1,"flex","items-center","justify-center"],["azt-track-service","edit-comment-725iQWOtdo","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-comment-FFY36YTq2a",1,"btn","btn-outline-secondary","btn-sm",3,"matTooltip","disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex-none","w-4","h-4"],["name","send"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(k,Z){1&k&&(l.TgZ(0,"div",0),l._UZ(1,"azt-create-avatar",1),l.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),l.NdJ("enterKey",function(){return!(""==Z.commentContentFormControl.value||Z.statusObj.loading)&&Z.saveNewComment()}),l.ALo(5,"mytranslate"),l._uU(6,"            "),l.qZA()(),l.TgZ(7,"div",5)(8,"div",6)(9,"button",7),l.NdJ("click",function(){return Z.cancel()}),l._uU(10),l.ALo(11,"mytranslate"),l.qZA(),l.TgZ(12,"button",8),l.NdJ("click",function(){return Z.saveNewComment()}),l.ALo(13,"mytranslate"),l.YNc(14,Rt,2,0,"span",9),l.TgZ(15,"span",10),l._UZ(16,"lucide-icon",11),l.qZA()()()()()()),2&k&&(l.xp6(1),l.Q6J("nameCreateAvatar",Z.userObj.fullName)("linkAvatar",Z.userObj.avatar)("size",30),l.xp6(3),l.s9C("placeholder",l.lcZ(5,10,"lang_core_viet_binh_luan")),l.Q6J("enableInMobile",!1)("formControl",Z.commentContentFormControl),l.xp6(6),l.hij(" ",l.lcZ(11,12,"lang_cms_common_close_btn")," "),l.xp6(2),l.s9C("matTooltip",l.lcZ(13,14,"lang_business_news_add_new_post_button")),l.Q6J("disabled",""==Z.commentContentFormControl.value||Z.statusObj.loading),l.xp6(2),l.Q6J("ngIf",Z.statusObj.loading))},dependencies:[C.O5,rt.Nt,ft.KE,v.gM,R.Fj,R.JJ,R.oH,Wt.g,V.m,Tt.Y,Ct.n,dt.Nh5,K.JV],encapsulation:2}),A})();function ye(A,tt){if(1&A){const k=l.EpF();l.ynx(0),l.TgZ(1,"app-news-view-comment",6),l.NdJ("changeCommentObjEvent",function(U){l.CHM(k);const At=l.oxw(2);return l.KtG(At.changeCommentObj(U.actionType,U.commentObj))}),l.qZA(),l.BQk()}if(2&A){const k=l.oxw().$implicit,Z=l.oxw();l.xp6(1),l.Q6J("postObj",Z.postObj)("commentObj",k)}}function ze(A,tt){if(1&A){const k=l.EpF();l.TgZ(0,"div",2)(1,"app-news-edit-comment",6),l.NdJ("changeCommentObjEvent",function(U){l.CHM(k);const At=l.oxw(2);return l.KtG(At.changeCommentObj(At.enumNewsCommentActionType.UPDATE,U))}),l.qZA()()}if(2&A){const k=l.oxw().$implicit,Z=l.oxw();l.xp6(1),l.Q6J("postObj",Z.postObj)("commentObj",k)}}function ce(A,tt){if(1&A&&(l.TgZ(0,"div"),l.YNc(1,ye,2,2,"ng-container",4),l.YNc(2,ze,2,2,"ng-template",null,5,l.W1O),l.qZA()),2&A){const k=tt.$implicit,Z=l.MAs(3);l.xp6(1),l.Q6J("ngIf",!k.isShowEditForm)("ngIfElse",Z)}}function Ue(A,tt){1&A&&(l.TgZ(0,"span",10),l._UZ(1,"azt-loading-ui"),l.qZA())}function Ze(A,tt){if(1&A){const k=l.EpF();l.TgZ(0,"div",7)(1,"span",8),l.NdJ("click",function(){l.CHM(k);const U=l.oxw();return l.KtG(!U.sAztNextPaginationService.isLoadingNextPage&&U.getNextPage())}),l._uU(2),l.ALo(3,"mytranslate"),l.YNc(4,Ue,2,0,"span",9),l.qZA()()}if(2&A){const k=l.oxw();l.xp6(2),l.hij(" ",l.lcZ(3,2,"lang_business_news_load_more_comments")," "),l.xp6(2),l.Q6J("ngIf",k.sAztNextPaginationService.isLoadingNextPage)}}let Ae=(()=>{class A extends i.Q{changeCommentObj(k,Z){k==Pt.ADD_NEW?(this.commentObjs.unshift(Z),this.postObj.totalComment+=1):k==Pt.UPDATE?this.commentObjs=this.commentObjs.map(U=>U.id==Z.id?Z:U):(this.postObj.totalComment-=1,this.commentObjs=this.commentObjs.filter(U=>U.id!=Z.id))}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(k){k?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsGet(this.postObj.id,this.sAztNextPaginationService.curPage,this.sAztNextPaginationService.itemPerPage).subscribe({next:Z=>{Z.list.forEach(U=>{this.commentObjs.push({...U,isShowEditForm:!1,allowEdit:U.tenantId==this.userObj.id,allowDelete:!this.isStudent||U.tenantId==this.userObj.id})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(Z.total),this.stopStatusObj()},error:Z=>{this.errorStatusObj(Z.error.message,!0)}}))}ngOnInit(){this.sAztNextPaginationService.setTotalItemPerPage(10),this.getData(!1)}constructor(k,Z,U){super(),this.newsService=k,this.userService=Z,this.sAztNextPaginationService=U,this.commentObjs=[],this.enumNewsCommentActionType=Pt,this.userObj=this.userService.getUserObj()}}return A.\u0275fac=function(k){return new(k||A)(l.Y36(t.Yc),l.Y36(et.U),l.Y36(O.S))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-news-list-comments"]],inputs:{isStudent:"isStudent",postObj:"postObj"},features:[l._Bn([O.S]),l.qOj],decls:4,vars:3,consts:[[4,"ngFor","ngForOf"],["class","mb-2 font-medium",4,"ngIf"],[1,"pb-2"],[3,"postObj","changeCommentObjEvent"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"postObj","commentObj","changeCommentObjEvent"],[1,"mb-2","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["class","w-4 h-4 inline-block ml-2",4,"ngIf"],[1,"w-4","h-4","inline-block","ml-2"]],template:function(k,Z){1&k&&(l.YNc(0,ce,4,2,"div",0),l.YNc(1,Ze,5,4,"div",1),l.TgZ(2,"div",2)(3,"app-news-add-new-comments",3),l.NdJ("changeCommentObjEvent",function(At){return Z.changeCommentObj(Z.enumNewsCommentActionType.ADD_NEW,At)}),l.qZA()()),2&k&&(l.Q6J("ngForOf",Z.commentObjs),l.xp6(1),l.Q6J("ngIf",Z.commentObjs.length&&Z.sAztNextPaginationService.hasNextPage),l.xp6(2),l.Q6J("postObj",Z.postObj))},dependencies:[C.sg,C.O5,Ct.n,_t,Ft,ee,K.JV],encapsulation:2}),A})();function Se(A,tt){1&A&&(l.TgZ(0,"div",2)(1,"span",3),l._UZ(2,"lucide-icon",4),l.qZA(),l.TgZ(3,"span"),l._uU(4),l.ALo(5,"mytranslate"),l.qZA()()),2&A&&(l.xp6(4),l.Oqu(l.lcZ(5,1,"lang_student_comment_feature_disabled")))}const fe=function(A){return{clickable:A}},Ie=function(A,tt){return{"heart-selected":A,"heart-non-selected":tt}};function xe(A,tt){if(1&A){const k=l.EpF();l.TgZ(0,"div",5)(1,"div",6),l.ALo(2,"isParentViewOnly"),l.TgZ(3,"button",7),l.NdJ("click",function(){l.CHM(k);const U=l.oxw();return l.KtG(U.changeEmotionEvent())}),l.ALo(4,"isParentViewOnly"),l.O4$(),l.TgZ(5,"svg",8),l._UZ(6,"path",9),l.qZA()(),l.kcU(),l.TgZ(7,"span"),l._uU(8),l.qZA()(),l.TgZ(9,"div",10),l.ALo(10,"isParentViewOnly"),l.TgZ(11,"button",11),l.NdJ("click",function(){l.CHM(k);const U=l.oxw();return l.KtG(U.showCommentObjs())}),l.ALo(12,"isParentViewOnly"),l._UZ(13,"lucide-icon",12),l.qZA(),l.TgZ(14,"span"),l._uU(15),l.qZA()()()}if(2&A){const k=l.oxw();l.xp6(1),l.Q6J("ngClass",l.VKq(15,fe,!l.lcZ(2,7,""))),l.xp6(2),l.Q6J("disabled",l.lcZ(4,9,"")),l.xp6(2),l.Q6J("ngClass",l.WLB(17,Ie,k.postObj.hasLoveEmotion,!k.postObj.hasLoveEmotion)),l.xp6(3),l.Oqu(k.postObj.totalEmotion),l.xp6(1),l.Q6J("ngClass",l.VKq(20,fe,!l.lcZ(10,11,""))),l.xp6(2),l.Q6J("disabled",l.lcZ(12,13,"")),l.xp6(4),l.Oqu(k.postObj.totalComment)}}let Fe=(()=>{class A extends i.Q{changeEmotionEvent(){this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion+=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj),this.waitDestroy(this.newsService.apiNewsNewsIdEmotionsPost(this.postObj.id).subscribe({next:k=>{this.successStatusObj()},error:k=>{this.errorStatusObj(k.error.message,!0),this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion-=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj)}}))}showCommentObjs(){this.postObj.isShowCommentBox=!0,this.changePostObjEvent.emit(this.postObj)}constructor(k){super(),this.newsService=k,this.changePostObjEvent=new l.vpe}}return A.\u0275fac=function(k){return new(k||A)(l.Y36(t.Yc))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-news-emotions"]],inputs:{postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[l.qOj],decls:2,vars:2,consts:[["class","flex items-center justify-center pb-3 text-slate-500",4,"ngIf"],["class","flex pb-3","style","align-items: center",4,"ngIf"],[1,"flex","items-center","justify-center","pb-3","text-slate-500"],[1,"w-4","h-4","inline-block","mr-2"],["name","message-circle-off"],[1,"flex","pb-3",2,"align-items","center"],[1,"flex","mr-5",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-02_zwrttZ",1,"w-5","h-5","mr-2","zoom-in","heart-label",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","#000000","stroke-width","3","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-heart",3,"ngClass"],["d","M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"],["azt-track-service","emotions-Yt4v8qy-f6",1,"flex",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-lsF85jGU0",1,"w-5","h-5","mr-2","zoom-in",3,"disabled","click"],["name","message-square"]],template:function(k,Z){1&k&&(l.YNc(0,Se,6,3,"div",0),l.YNc(1,xe,16,22,"div",1)),2&k&&(l.Q6J("ngIf",Z.postObj.isLockComment),l.xp6(1),l.Q6J("ngIf",!Z.postObj.isLockComment))},dependencies:[C.mk,C.O5,dt.Nh5,K.JV,K._Y],styles:['@charset "UTF-8";.heart-label[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.5em;align-self:center;transition:color .2s ease-in-out;color:#aab8c2}.heart-non-selected[_ngcontent-%COMP%]{background:transparent}.heart-non-selected[_ngcontent-%COMP%]:hover{stroke:#7f6167!important}.heart-selected[_ngcontent-%COMP%]{fill:#e2264d!important;stroke:#e2264d!important;will-change:font-size;animation:heart 1s cubic-bezier(.17,.89,.32,1.49)}']}),A})();var X=g(95273);function yt(A,tt){if(1&A){const k=l.EpF();l.TgZ(0,"a",3),l.NdJ("click",function(){const At=l.CHM(k).$implicit,Jt=l.oxw();return l.KtG(Jt.onShowFile(At))}),l._UZ(1,"img",4),l.qZA()}if(2&A){const k=tt.$implicit;l.xp6(1),l.Q6J("src",k.imageLink,l.LSH)}}let z=(()=>{class A extends i.Q{onShowFile(k){this.sAztDialogService.open(ct.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:"image_post"+k.id,mimes:"image/jpeg",url:k.imageLink,index:-1}},restoreFocus:!1})}constructor(k,Z){super(),this.sAztDialogService=k,this.sAztFileTypeService=Z,this.images=[]}}return A.\u0275fac=function(k){return new(k||A)(l.Y36(ot.C),l.Y36(X.v))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-list-images-post"]],inputs:{images:"images"},features:[l.qOj],decls:3,vars:1,consts:[[1,"outerContainer"],[1,"containerw3","containerw3-margin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(k,Z){1&k&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,yt,2,1,"a",2),l.qZA()()),2&k&&(l.xp6(2),l.Q6J("ngForOf",Z.images))},dependencies:[C.sg],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:arial}.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:300px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:300px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}@media (max-width: 767px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:150px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:150px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:150px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}@media (max-width: 400px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:100px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:100px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}']}),A})();function q(A,tt){if(1&A&&l.GkF(0,14),2&A){l.oxw();const k=l.MAs(17);l.Q6J("ngTemplateOutlet",k)}}function bt(A,tt){if(1&A&&(l.TgZ(0,"div"),l._UZ(1,"hr",10)(2,"app-news-list-comments",15),l.qZA()),2&A){const k=l.oxw();l.xp6(2),l.Q6J("isStudent",k.isStudent)("postObj",k.postObj)}}function jt(A,tt){if(1&A){const k=l.EpF();l.TgZ(0,"div",16)(1,"button",17),l.O4$(),l.TgZ(2,"svg",18),l._UZ(3,"circle",19)(4,"circle",20)(5,"circle",21),l.qZA()(),l.kcU(),l.TgZ(6,"mat-menu",22,23)(8,"div",24)(9,"ul",25)(10,"li")(11,"a",26),l.NdJ("click",function(){l.CHM(k);const U=l.oxw();return l.KtG(U.editPostEvent())}),l.O4$(),l.TgZ(12,"svg",27),l._UZ(13,"path",28)(14,"path",29),l.qZA(),l._uU(15),l.ALo(16,"mytranslate"),l.qZA()(),l.kcU(),l.TgZ(17,"li")(18,"a",30),l.NdJ("click",function(){l.CHM(k);const U=l.oxw();return l.KtG(U.deletePostEvent())}),l.O4$(),l.TgZ(19,"svg",31),l._UZ(20,"polyline",32)(21,"path",33),l.qZA(),l._uU(22),l.ALo(23,"mytranslate"),l.qZA()(),l.kcU(),l.TgZ(24,"li")(25,"label",34),l.NdJ("click",function(U){return U.stopPropagation()}),l.TgZ(26,"div",35)(27,"span",36),l._UZ(28,"lucide-icon",37),l.qZA(),l._uU(29),l.ALo(30,"mytranslate"),l.qZA(),l.TgZ(31,"div",38)(32,"input",39),l.NdJ("change",function(){l.CHM(k);const U=l.oxw();return l.KtG(U.changeLockCommentStatus())}),l.qZA()()()()()()()()}if(2&A){const k=l.MAs(7),Z=l.oxw();l.xp6(1),l.Q6J("matMenuTriggerFor",k),l.xp6(14),l.hij(" ",l.lcZ(16,5,"lang_auto_sua")," "),l.xp6(7),l.hij(" ",l.lcZ(23,7,"lang_auto_xoa")," "),l.xp6(7),l.hij(" ",l.lcZ(30,9,"lang_student_comment_lock")," "),l.xp6(3),l.Q6J("formControl",Z.isLockComment)}}let Kt=(()=>{class A extends i.Q{editPostEvent(){this.postObj.isShowEditForm=!0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}deletePostEvent(){this.sAztDialogService.open(le,{width:"700px",data:this.postObj,restoreFocus:!1}).afterClosed().subscribe(Z=>{Z&&this.changePostObjEvent.emit({actionType:e.DELETE,postObj:this.postObj})})}changeLockCommentStatus(){const k=this.isLockComment.value;this.waitDestroy((k?this.newsService.apiNewsIdLockCommentsPut:this.newsService.apiNewsIdUnlockCommentsPut).call(this.newsService,this.postObj.id).subscribe({next:()=>{const U=k?"lang_student_comment_lock":"lang_student_unlock_comments";this.postObj.isLockComment=k?1:0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj}),this.showSuccessSnack(U)},error:U=>{this.errorStatusObj(U.error.message,!0)}}))}changeEmotionEventEvent(k){this.postObj=k,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}ngOnInit(){super.ngOnInit(),this.isLockComment.setValue(!!this.postObj.isLockComment)}constructor(k,Z){super(),this.sAztDialogService=k,this.newsService=Z,this.changePostObjEvent=new l.vpe,this.isLockComment=new R.NI(!1)}}return A.\u0275fac=function(k){return new(k||A)(l.Y36(ot.C),l.Y36(t.Yc))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-news-view-post"]],inputs:{postObj:"postObj",isStudent:"isStudent"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[l.qOj],decls:18,vars:13,consts:[[1,"flex","items-center","mb-3"],[1,"w-9","h-9","image-fit"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3"],[1,"font-medium","whitespace-nowrap"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"pb-3"],[3,"content","maxLine"],[3,"images"],[1,"mb-3"],[1,"mb-3",3,"postObj","changePostObjEvent"],[4,"ngIf"],["newsEditOrDeleteNews",""],[3,"ngTemplateOutlet"],[1,"mb-3",3,"isStudent","postObj"],[1,"ml-auto"],["data-tw-toggle","dropdown",1,"absolute","clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"top","10px","right","10px","border-radius","50%",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","news-board-5U9HMbLBxY",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","news-board-35uylGIW_W",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],["azt-track-service","view-post-HeRBfG3bI","for","commentLock",1,"dropdown-item","cursor-pointer",3,"click"],[1,"flex","items-center"],[1,"flex-none","w-4","h-4","inline-block","mr-2"],["name","lock"],[1,"form-check","form-switch","ml-auto"],["id","commentLock","type","checkbox",1,"form-check-input","ml-2",3,"formControl","change"]],template:function(k,Z){if(1&k&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"azt-create-avatar",2),l.qZA(),l.TgZ(3,"div",3)(4,"a",4),l._uU(5),l.qZA(),l.TgZ(6,"div",5),l._uU(7),l.ALo(8,"relativeTime"),l.qZA()()(),l.YNc(9,q,1,1,"ng-container",6),l.TgZ(10,"div",7),l._UZ(11,"azt-see-more-multiple-lines",8),l.qZA(),l._UZ(12,"app-list-images-post",9)(13,"hr",10),l.TgZ(14,"app-news-emotions",11),l.NdJ("changePostObjEvent",function(At){return Z.changeEmotionEventEvent(At)}),l.qZA(),l.YNc(15,bt,3,2,"div",12),l.YNc(16,jt,33,11,"ng-template",null,13,l.W1O)),2&k){let U;l.xp6(2),l.Q6J("nameCreateAvatar",null==Z.postObj.user?null:Z.postObj.user.fullName)("linkAvatar",null==Z.postObj.user?null:Z.postObj.user.avatar)("size",36),l.xp6(3),l.hij("",null==Z.postObj.user?null:Z.postObj.user.fullName,"\xa0"),l.xp6(2),l.Oqu(l.lcZ(8,11,Z.postObj.createdAt)),l.xp6(2),l.Q6J("ngIf",!Z.isStudent),l.xp6(2),l.Q6J("content",Z.postObj.content)("maxLine",0==(null!==(U=null==Z.postObj.images?null:Z.postObj.images.length)&&void 0!==U?U:0)?Z.postObj.content.length:10),l.xp6(1),l.Q6J("images",Z.postObj.images),l.xp6(2),l.Q6J("postObj",Z.postObj),l.xp6(1),l.Q6J("ngIf",Z.postObj.isShowCommentBox)}},dependencies:[C.O5,C.tP,te.VK,te.p6,R.Wl,R.JJ,R.oH,Wt.g,wt.l,dt.Nh5,Ae,Fe,z,K.JV,K.Yy],encapsulation:2}),A})();function zt(A,tt){if(1&A){const k=l.EpF();l.TgZ(0,"app-new-list-images",13),l.NdJ("filesChange",function(U){l.CHM(k);const At=l.oxw();return l.KtG(At.files=U)}),l.qZA()}if(2&A){const k=l.oxw();l.Q6J("files",k.files)}}function Vt(A,tt){1&A&&(l.TgZ(0,"span",14),l._UZ(1,"azt-loading-ui"),l.qZA())}const ke=function(A){return[A]};let de=(()=>{class A extends i.Q{cancel(){this.postObj.isShowEditForm=!1,this.changePostObjEvent.emit(this.postObj)}saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();let k={content:this.contentFormControl.value??"",classroomId:this.postObj.id,imageLinks:this.files.map(Z=>Z.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsIdPut(this.postObj.id,k).subscribe({next:Z=>{this.successStatusObj("lang_cms_update_success",!0);let U=[];this.files.forEach(At=>{U.push({id:0,newsId:this.postObj?.id??0,imageLink:At.url??"",createdAt:void 0})}),this.postObj.isShowEditForm=!1,this.postObj.content=k.content,this.postObj.images=U,this.changePostObjEvent.emit(this.postObj),this.contentFormControl.setValue(""),this.files=[]},error:Z=>{this.errorStatusObj(Z.error.message,!0)}}))}}handleUploadComplete(k){this.files.push(...k)}ngOnInit(){this.userObj=this.userService.getUserObj(),this.contentFormControl.setValue(this.postObj.content),(this.postObj.images??[]).forEach(k=>{this.files.push({name:"",mimes:"image/jpeg",url:k.imageLink})})}constructor(k,Z){super(),this.newsService=k,this.userService=Z,this.changePostObjEvent=new l.vpe,this.contentFormControl=new R.NI("",{nonNullable:!0,validators:[xt._.noWhiteSpace]}),this.files=[],this.allUploadToCdnMenuTypes=Ot.j6,this.allUploadFileTypes=Ot.AZ}}return A.\u0275fac=function(k){return new(k||A)(l.Y36(t.Yc),l.Y36(et.U))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-news-edit-post"]],inputs:{classroomId:"classroomId",postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[l.qOj],decls:21,vars:23,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"relative","w-full","ml-3",2,"border-radius","5px"],["matInput","","autoResize","","row","5",1,"border-none",2,"resize","none","height","85px",3,"formControl","placeholder"],[3,"files","filesChange",4,"ngIf"],[1,"text-right","pt-1","pb-1"],[1,"flex","items-center","justify-end","sm:w-auto"],[3,"uploadToCdnMenu","fileType","uploadComplete"],[1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",1,"zoom-in",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip"],["azt-track-service","edit-post-3W8T83tTj_","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-post-NaJeb-mmLZ","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"files","filesChange"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(k,Z){1&k&&(l.TgZ(0,"div")(1,"div",0),l._UZ(2,"azt-create-avatar",1),l.TgZ(3,"div",2)(4,"textarea",3),l.ALo(5,"mytranslate"),l._uU(6,"            "),l.qZA()()(),l.YNc(7,zt,1,1,"app-new-list-images",4),l.TgZ(8,"div",5)(9,"div",6)(10,"azt-upload-multiple-box",7),l.NdJ("uploadComplete",function(At){return Z.handleUploadComplete(At)}),l.TgZ(11,"span",8),l._UZ(12,"lucide-icon",9),l.ALo(13,"mytranslate"),l.qZA()(),l.TgZ(14,"button",10),l.NdJ("click",function(){return Z.cancel()}),l._uU(15),l.ALo(16,"mytranslate"),l.qZA(),l.TgZ(17,"button",11),l.NdJ("click",function(){return Z.saveNewPost()}),l.YNc(18,Vt,2,0,"span",12),l._uU(19),l.ALo(20,"mytranslate"),l.qZA()()()()),2&k&&(l.xp6(2),l.Q6J("nameCreateAvatar",Z.userObj.fullName)("linkAvatar",Z.userObj.avatar)("size",36),l.xp6(2),l.s9C("placeholder",l.lcZ(5,13,"lang_business_news_post_content")),l.Q6J("formControl",Z.contentFormControl),l.xp6(3),l.Q6J("ngIf",Z.files.length),l.xp6(3),l.Q6J("uploadToCdnMenu",Z.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",l.VKq(21,ke,Z.allUploadFileTypes.IMAGE)),l.xp6(2),l.s9C("matTooltip",l.lcZ(13,15,"lang_core_tai_anh")),l.xp6(3),l.hij(" ",l.lcZ(16,17,"lang_cms_common_close_btn")," "),l.xp6(2),l.Q6J("disabled",""==Z.contentFormControl.value||Z.statusObj.loading),l.xp6(1),l.Q6J("ngIf",Z.statusObj.loading),l.xp6(1),l.hij(" ",l.lcZ(20,19,"lang_business_news_update_post_button")," "))},dependencies:[C.O5,rt.Nt,v.gM,R.Fj,R.JJ,R.oH,Wt.g,V.m,Ct.n,nt.B,dt.Nh5,M,K.JV],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0}"]}),A})();function re(A,tt){if(1&A){const k=l.EpF();l.TgZ(0,"div",10)(1,"app-news-add-new-post",11),l.NdJ("changePostObjEvent",function(U){l.CHM(k);const At=l.oxw();return l.KtG(At.changePostObj(At.enumNewsPostActionType.ADD_NEW,U))}),l.qZA()()}if(2&A){const k=l.oxw();l.xp6(1),l.Q6J("classroomId",k.classroomId)("isSchool",k.isSchoolControl.getRawValue())}}function Je(A,tt){if(1&A&&(l.TgZ(0,"div",12),l._UZ(1,"azt-loading-effect",13),l.qZA()),2&A){const k=l.oxw();l.xp6(1),l.Q6J("currentStatusObj",k.statusObj)}}function ge(A,tt){if(1&A){const k=l.EpF();l.ynx(0),l.TgZ(1,"app-news-view-post",18),l.NdJ("changePostObjEvent",function(U){l.CHM(k);const At=l.oxw(3);return l.KtG(At.changePostObj(U.actionType,U.postObj))}),l.qZA(),l.BQk()}if(2&A){const k=l.oxw().$implicit,Z=l.oxw(2);l.xp6(1),l.Q6J("isStudent",Z.isStudent)("postObj",k)}}function Ne(A,tt){if(1&A){const k=l.EpF();l.TgZ(0,"app-news-edit-post",19),l.NdJ("changePostObjEvent",function(U){l.CHM(k);const At=l.oxw(3);return l.KtG(At.changePostObj(At.enumNewsPostActionType.UPDATE,U))}),l.qZA()}if(2&A){const k=l.oxw().$implicit,Z=l.oxw(2);l.Q6J("postObj",k)("classroomId",Z.classroomId)}}function nn(A,tt){if(1&A&&(l.TgZ(0,"div",15),l.YNc(1,ge,2,2,"ng-container",16),l.YNc(2,Ne,1,2,"ng-template",null,17,l.W1O),l.qZA()),2&A){const k=tt.$implicit,Z=l.MAs(3);l.xp6(1),l.Q6J("ngIf",!k.isShowEditForm)("ngIfElse",Z)}}function P(A,tt){1&A&&(l.TgZ(0,"div",10)(1,"div",20)(2,"div",21),l.O4$(),l.TgZ(3,"svg",22),l._UZ(4,"path",23)(5,"path",24)(6,"path",25)(7,"path",26)(8,"path",27)(9,"path",28),l.qZA(),l.kcU(),l.TgZ(10,"p",29),l._uU(11),l.ALo(12,"mytranslate"),l.qZA()()()()),2&A&&(l.xp6(11),l.Oqu(l.lcZ(12,1,"lang_student_news_there_is_no_news")+"!"))}function pt(A,tt){1&A&&(l.TgZ(0,"span",33),l._UZ(1,"azt-loading-ui"),l.qZA())}function w(A,tt){if(1&A){const k=l.EpF();l.TgZ(0,"button",34),l.NdJ("click",function(){l.CHM(k);const U=l.oxw(3);return l.KtG(U.getNextPage())}),l.ALo(1,"mytranslate"),l.O4$(),l.TgZ(2,"svg",35),l._UZ(3,"polyline",36),l.qZA()()}2&A&&l.s9C("matTooltip",l.lcZ(1,1,"lang_auto_hien_ban_ghi_cu_hon"))}function G(A,tt){if(1&A&&(l.TgZ(0,"div",10)(1,"div",30),l.YNc(2,pt,2,0,"span",31),l.YNc(3,w,4,3,"ng-template",null,32,l.W1O),l.qZA()()),2&A){const k=l.MAs(4),Z=l.oxw(2);l.xp6(2),l.Q6J("ngIf",Z.sAztNextPaginationService.isLoadingNextPage)("ngIfElse",k)}}function Y(A,tt){if(1&A&&(l.YNc(0,nn,4,2,"div",14),l.YNc(1,P,13,3,"div",7),l.YNc(2,G,5,2,"div",7)),2&A){const k=l.oxw();l.Q6J("ngForOf",k.postObjs),l.xp6(1),l.Q6J("ngIf",k.postObjs.length<=0),l.xp6(1),l.Q6J("ngIf",k.postObjs.length&&k.sAztNextPaginationService.hasNextPage)}}let gt=(()=>{class A extends i.Q{selectedViewNewsSchool(k){let Z=(this.isStudent?"/student/classroom-details/":"/admin/student/classroom-details/")+this.classroomId+"/2";k?(this.isSchoolControl.setValue(1),this.commonService.myNavigationWithQueryString(Z,"?type=1")):(this.isSchoolControl.setValue(0),this.commonService.myNavigationWithQueryString(Z,"?type=0")),this.postObjs=[],this.getData(!1)}changePostObj(k,Z){switch(k){case e.ADD_NEW:this.postObjs.unshift(Z);break;case e.UPDATE:this.postObjs=this.postObjs.map(U=>U.id==Z.id?Z:U);break;case e.DELETE:this.postObjs=this.postObjs.filter(U=>U.id!=Z.id)}}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(k){var Z={size:this.sAztNextPaginationService.itemPerPage,page:this.sAztNextPaginationService.curPage,classroomId:this.classroomId,student:this.isStudent,isSchool:this.isSchoolControl.getRawValue()};k?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsListPost(Z).subscribe({next:U=>{let At={page:1,size:-1,newsIds:U.list.map(Jt=>Jt.id).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsEmotionsListPost(At).subscribe({next:Jt=>{let on=this.commonService.arrayToUniqueDictionary(Jt.list??[],Me=>Me.newsId.toString());U.list.forEach(Me=>{this.postObjs.push({...Me,hasLoveEmotion:on.hasOwnProperty(Me.id),isShowEditForm:!1,isShowCommentBox:!1})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(U.total),this.stopStatusObj()},error:Jt=>{this.errorStatusObj(Jt.error.message,!0)}}))},error:U=>{this.errorStatusObj(U.error.message,!0)}}))}getDataFirstTime(){this.postObjs=[],this.sAztNextPaginationService.resetToFirstPage(),this.getData(!1)}ngOnChanges(){"1"==this.getMyQueryParam("type")&&this.isSchoolControl.setValue(1),this.getDataFirstTime()}ngOnInit(){super.ngOnInit()}constructor(k,Z){super(),this.newsService=k,this.sAztNextPaginationService=Z,this.isSchoolControl=new R.NI(0,{nonNullable:!0}),this.postObjs=[],this.enumNewsPostActionType=e}}return A.\u0275fac=function(k){return new(k||A)(l.Y36(t.Yc),l.Y36(O.S))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-news-board"]],inputs:{isStudent:"isStudent",classroomId:"classroomId"},features:[l._Bn([O.S]),l.qOj,l.TTD],decls:19,vars:16,consts:[[1,"grid","grid-cols-12"],[1,"col-span-12","font-medium","flex","items-center","mb-3"],[1,"flex","ml-5","items-center"],["azt-track-service","posts-x27NMu5qsN","id","classroom","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"value","formControl","click"],["for","classroom",1,"pl-2","form-check-label"],["azt-track-service","posts-KOM2BXgAQ","id","school","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"value","formControl","click"],["for","school",1,"pl-2","form-check-label"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start mb-3",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","mb-3"],[3,"classroomId","isSchool","changePostObjEvent"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start box p-3 mb-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","box","p-3","mb-3"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"isStudent","postObj","changePostObjEvent"],[3,"postObj","classroomId","changePostObjEvent"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","87","height","102","viewBox","0 0 87 102","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M66.6719 13.9999L75.9738 81.8427L76.8095 88.649C77.0787 90.8417 75.5194 92.8374 73.3268 93.1066L14.7665 100.297C12.5739 100.566 10.5781 99.0069 10.3089 96.8142L1.29312 23.3867C1.1585 22.2904 1.93813 21.2925 3.03447 21.1579C3.0414 21.157 3.04832 21.1562 3.05526 21.1554L7.91363 20.6104M11.8422 20.1698L16.4292 19.6552L11.8422 20.1698Z","fill","white"],["d","M67.9103 13.8302C67.8165 13.1462 67.186 12.6678 66.5021 12.7615C65.8181 12.8553 65.3397 13.4858 65.4335 14.1697L67.9103 13.8302ZM75.9738 81.8427L77.2144 81.6903C77.2137 81.6845 77.213 81.6787 77.2122 81.6729L75.9738 81.8427ZM76.8095 88.649L78.0502 88.4967L76.8095 88.649ZM73.3268 93.1066L73.4791 94.3473L73.3268 93.1066ZM14.7665 100.297L14.9189 101.538L14.7665 100.297ZM10.3089 96.8142L11.5496 96.6619L10.3089 96.8142ZM3.05526 21.1554L3.1946 22.3976L3.05526 21.1554ZM8.05297 21.8527C8.73902 21.7757 9.23279 21.1572 9.15583 20.4711C9.07888 19.7851 8.46034 19.2913 7.77428 19.3682L8.05297 21.8527ZM11.7028 18.9276C11.0168 19.0045 10.523 19.6231 10.5999 20.3091C10.6769 20.9952 11.2954 21.4889 11.9815 21.412L11.7028 18.9276ZM16.5685 20.8974C17.2546 20.8205 17.7484 20.2019 17.6714 19.5159C17.5945 18.8298 16.9759 18.3361 16.2899 18.413L16.5685 20.8974ZM65.4335 14.1697L74.7353 82.0125L77.2122 81.6729L67.9103 13.8302L65.4335 14.1697ZM74.7331 81.995L75.5688 88.8013L78.0502 88.4967L77.2144 81.6903L74.7331 81.995ZM75.5688 88.8013C75.7539 90.3088 74.6819 91.6809 73.1744 91.866L73.4791 94.3473C76.357 93.994 78.4035 91.3745 78.0502 88.4967L75.5688 88.8013ZM73.1744 91.866L14.6142 99.0563L14.9189 101.538L73.4791 94.3473L73.1744 91.866ZM14.6142 99.0563C13.1067 99.2414 11.7347 98.1694 11.5496 96.6619L9.0682 96.9666C9.42156 99.8445 12.041 101.891 14.9189 101.538L14.6142 99.0563ZM11.5496 96.6619L2.5338 23.2344L0.0524334 23.539L9.0682 96.9666L11.5496 96.6619ZM2.5338 23.2344C2.48332 22.8232 2.77568 22.449 3.18681 22.3986L2.88213 19.9172C1.10059 20.1359 -0.166313 21.7575 0.0524334 23.539L2.5338 23.2344ZM3.18681 22.3986C3.1894 22.3982 3.192 22.3979 3.1946 22.3976L2.91592 19.9132C2.90465 19.9145 2.89339 19.9158 2.88213 19.9172L3.18681 22.3986ZM3.1946 22.3976L8.05297 21.8527L7.77428 19.3682L2.91592 19.9132L3.1946 22.3976ZM11.9815 21.412L16.5685 20.8974L16.2899 18.413L11.7028 18.9276L11.9815 21.412Z","fill","#1F64E7"],["fill-rule","evenodd","clip-rule","evenodd","d","M64.14 18.2692L72.5596 79.7529L73.3169 85.9212C73.5609 87.9083 72.1669 89.7146 70.2033 89.9557L17.7613 96.3948C15.7978 96.6359 14.0082 95.2204 13.7642 93.2333L5.61416 26.8568C5.47955 25.7605 6.25918 24.7626 7.35551 24.628L13.8431 23.8314","fill","#E8F0FE"],["d","M20.9219 4C20.9219 2.48122 22.1531 1.25 23.6719 1.25H69.2286C69.9577 1.25 70.6569 1.5395 71.1726 2.05485L84.6158 15.4898C85.1319 16.0056 85.4219 16.7053 85.4219 17.4349V80C85.4219 81.5188 84.1907 82.75 82.6719 82.75H23.6719C22.1531 82.75 20.9219 81.5188 20.9219 80V4Z","fill","white","stroke","#1F64E7","stroke-width","2.5"],["d","M69.6719 2.40283V14C69.6719 15.6569 71.015 17 72.6719 17H80.6055","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M31 17H57M31 29H74M31 42H74M31 55H74M31 68H57","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"],[1,"flex","justify-center"],["class","w-4 h-4 inline-block mr-2",4,"ngIf","ngIfElse"],["doneLoadNextPage",""],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","trash-homework-tab-C69nk6waYbG",1,"btn","btn-transparent",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(k,Z){if(1&k&&(l.TgZ(0,"div",0)(1,"div",1)(2,"p"),l._uU(3),l.ALo(4,"mytranslate"),l.qZA(),l.TgZ(5,"div",2)(6,"input",3),l.NdJ("click",function(){return Z.selectedViewNewsSchool(!1)}),l.qZA(),l.TgZ(7,"label",4),l._uU(8),l.ALo(9,"mytranslate"),l.qZA()(),l.TgZ(10,"div",2)(11,"input",5),l.NdJ("click",function(){return Z.selectedViewNewsSchool(!0)}),l.qZA(),l.TgZ(12,"label",6),l._uU(13),l.ALo(14,"mytranslate"),l.qZA()()(),l.YNc(15,re,2,2,"div",7),l.YNc(16,Je,2,1,"div",8),l.YNc(17,Y,3,3,"ng-template",null,9,l.W1O),l.qZA()),2&k){const U=l.MAs(18);l.xp6(3),l.Oqu(l.lcZ(4,10,"lang_azt_hien_ban_tin_theo")),l.xp6(3),l.Q6J("value",0)("formControl",Z.isSchoolControl),l.xp6(2),l.Oqu(l.lcZ(9,12,"lang_auto_lop_hoc")),l.xp6(3),l.Q6J("value",1)("formControl",Z.isSchoolControl),l.xp6(2),l.Oqu(l.lcZ(14,14,"lang_azt_truong_hoc")),l.xp6(2),l.Q6J("ngIf",!Z.isStudent),l.xp6(1),l.Q6J("ngIf",Z.statusObj.loading)("ngIfElse",U)}},dependencies:[C.sg,C.O5,v.gM,R.Fj,R._,R.JJ,R.oH,s.l,Ct.n,ht,Kt,de,K.JV],encapsulation:2}),A})()},9345:(ae,It,g)=>{g.d(It,{u:()=>ct});var O=g(56223),i=g(72164),e=g(76359),R=g(47180),l=g(65879),t=g(75470),C=g(13978),v=g(96814),s=g(19347);function Ct(ot,st){1&ot&&(l.TgZ(0,"div",11)(1,"span",12),l._UZ(2,"azt-loading-ui"),l.qZA()())}function xt(ot,st){if(1&ot&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"mytranslate"),l.qZA()),2&ot){const M=l.oxw(2);l.xp6(1),l.Oqu(" ("+M.dataUpgradeClass.length+" "+l.lcZ(2,1,"lang_testbank_test_list_classes")+")")}}function Ot(ot,st){1&ot&&(l.TgZ(0,"div",25),l._uU(1),l.ALo(2,"mytranslate"),l.qZA()),2&ot&&(l.xp6(1),l.hij("",l.lcZ(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_class_click_choose"),"."))}function et(ot,st){if(1&ot){const M=l.EpF();l.TgZ(0,"input",38),l.NdJ("keyup",function(){l.CHM(M);const W=l.oxw().index,L=l.oxw(2);return l.KtG(L.validateInput(W))}),l.ALo(1,"mytranslate"),l.qZA()}if(2&ot){const M=l.oxw(),W=M.$implicit;l.MGl("id","input-event-",M.index,""),l.s9C("value",W.nameClass),l.s9C("placeholder",l.lcZ(1,3,"lang_auto_nhap_ten_lop"))}}function rt(ot,st){if(1&ot){const M=l.EpF();l.TgZ(0,"textarea",39),l.NdJ("keyup",function(){l.CHM(M);const W=l.oxw().index,L=l.oxw(2);return l.KtG(L.validateInput(W))}),l.ALo(1,"mytranslate"),l.qZA()}if(2&ot){const M=l.oxw(),W=M.$implicit;l.MGl("id","input-event-",M.index,""),l.s9C("value",W.nameClass),l.s9C("placeholder",l.lcZ(1,3,"lang_auto_nhap_ten_lop"))}}function V(ot,st){if(1&ot){const M=l.EpF();l.TgZ(0,"div",26)(1,"div",27)(2,"div",28),l.YNc(3,et,2,5,"input",29),l.YNc(4,rt,2,5,"textarea",30),l.qZA(),l.TgZ(5,"div",31)(6,"button",32),l.NdJ("click",function(){const L=l.CHM(M).$implicit,B=l.oxw(2);return l.KtG(B.clearInput(L.id))}),l.O4$(),l.TgZ(7,"svg",33),l._UZ(8,"line",34)(9,"line",35),l.qZA()()()(),l.kcU(),l.TgZ(10,"div",36,37),l._uU(12),l.ALo(13,"mytranslate"),l.qZA()()}if(2&ot){const M=st.index,K=l.oxw(2);l.xp6(3),l.Q6J("ngIf",0==K.isMobile),l.xp6(1),l.Q6J("ngIf",1==K.isMobile),l.xp6(6),l.MGl("id","logerror",M,""),l.xp6(2),l.hij(" ",l.lcZ(13,4,"lang_student_classroom_list_utils_create_class_new_course_choose_class_dont_class_null"),". ")}}function nt(ot,st){if(1&ot){const M=l.EpF();l.TgZ(0,"form",13)(1,"div",14)(2,"div",15)(3,"azt-list-classroom-checkbox",16),l.NdJ("changeCheckboxEvent",function(){l.CHM(M);const W=l.oxw();return l.KtG(W.changeCheckboxEvent())})("createdNewClassroom",function(){l.CHM(M);const W=l.oxw();return l.KtG(W.isCreatedNewClassroom=!0)}),l.qZA()(),l.TgZ(4,"div",17)(5,"div",18),l._uU(6),l.ALo(7,"mytranslate"),l.YNc(8,xt,3,3,"span",19),l.qZA(),l.TgZ(9,"div",20)(10,"ng-scrollbar",21),l.YNc(11,Ot,3,3,"div",22),l.TgZ(12,"div",23),l.YNc(13,V,14,6,"div",24),l.qZA()()()()()()}if(2&ot){const M=l.oxw();l.Q6J("formGroup",M.form),l.xp6(3),l.Q6J("form",M.form)("classroomGroupData",M.classroomWithGroup)("permissionName",M.permissionTypes.classroom)("defaultCssClass","classroom-box-in-dialog"),l.xp6(3),l.hij(" ",l.lcZ(7,11,"lang_student_classroom_list_utils_create_class_new_course_choose_class_respective_class")," "),l.xp6(2),l.Q6J("ngIf",M.dataUpgradeClass.length),l.xp6(2),l.Q6J("visibility","hover")("autoHeightDisabled",!0),l.xp6(1),l.Q6J("ngIf",0==M.dataUpgradeClass.length),l.xp6(2),l.Q6J("ngForOf",M.dataUpgradeClass)}}function dt(ot,st){1&ot&&(l.TgZ(0,"span",40),l._UZ(1,"azt-loading-ui"),l.qZA())}let ct=(()=>{class ot extends i.e{closeDialog(){this.dialogRef.close(this.isCreatedNewClassroom??!1)}validateInput(M){let K=document.getElementById("input-event-"+M),W=K?K.value:"";if(""==W){let L=document.getElementById("logerror"+M);L&&(L.style.display="block")}if(""!=W){let L=document.getElementById("logerror"+M);L&&(L.style.display="none")}}handleUpgrade(){if(0!=this.dataUpgradeClass.length){let M=!0;this.sendDataUpgradeClass=[];for(let K=0;K<this.dataUpgradeClass.length;K++){let W=document.getElementById("input-event-"+K),L=W?W.value:"";""==L&&(M=!1),this.validateInput(K),this.sendDataUpgradeClass.push({oldId:this.dataUpgradeClass[K].id,newName:L,year:this.increaseYear(this.dataUpgradeClass[K].year)})}1==M&&this.upgradeClassroomGroup()}else this.viewErrorSelected=!1}increaseYear(M){if(null!=M||null!=M){let K=M.split(" ")[0],W=parseInt(K,10)+1;return W+" - "+(W+1)}}changeCheckboxEvent(){const M=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray),K=M.concat(this.dataUpgradeClass.map(L=>L.id??0));let W=K.filter(L=>K.indexOf(L)===K.lastIndexOf(L));M.length>this.dataUpgradeClass.length?this.dataUpgradeClass=this.dataUpgradeClass.concat(this.classroomObjs.filter(L=>W.includes(L.id??0)).map(L=>{let Yt,B=L.name,ht=L.year,Mt=B?.match(/\d+/g);if(null==Mt)Yt=B;else{let Gt=parseInt(Mt[0].toString(),10)+1;Yt=B?.replace(Mt[0],Gt.toString())}return{id:L.id,nameClass:Yt,year:ht}})):W.forEach(L=>{this.dataUpgradeClass.splice(this.dataUpgradeClass.findIndex(B=>B.id===L),1)})}clearInput(M){setTimeout(()=>{document.getElementById("azt-checkbox-item-"+M)?.click()},0)}upgradeClassroomGroup(){this.initStatusObj();for(var M=[],K=0;K<this.sendDataUpgradeClass.length;K++)M.push({oldId:this.sendDataUpgradeClass[K].oldId??0,newName:this.sendDataUpgradeClass[K].newName??"",year:this.sendDataUpgradeClass[K].year??""});this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpgradeClassroomPost(M).subscribe(W=>{1==W.success?(W.data?.isDuplicatedClassroomName?this.errorStatusObj(W.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(this.isCreatedNewClassroom),this.errorStatusObj("lang_auto_tao_lop_cho_khoa_moi_khong_thanh_cong",!0))}))}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(M=>{M.success?(this.classroomWithGroup=M.data?.activeClassroomData??[],this.classroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroup.map(K=>K.classroomObjs)),this.successStatusObj()):this.errorStatusObj(M.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getClassroomObjs(),super.ngOnInit()}constructor(M,K,W,L){super(void 0,L),this.classroomGroupService=M,this.sAztClassroomCheckboxService=K,this.location=W,this.dialogRef=L,this.classroomObjs=[],this.dataUpgradeClass=[],this.sendDataUpgradeClass=[],this.selectedAll=!1,this.viewErrorSelected=!0,this.isCreatedNewClassroom=!1,this.isMobile=this.commonService.isMobileOrTable(),this.permissionTypes=e.y,this.classroomWithGroup=[],this.form=new O.cw({classroomFormArray:new O.Oe([]),whoAllow:new O.NI(0,{nonNullable:!0})},{validators:[R.h.classroomInGroupCheckBoxValidatorWithoutWhoAllow]})}}return ot.\u0275fac=function(M){return new(M||ot)(l.Y36(t.c8),l.Y36(C.f),l.Y36(v.Ye),l.Y36(s.so,8))},ot.\u0275cmp=l.Xpm({type:ot,selectors:[["app-create-class-new-course"]],features:[l.qOj],decls:20,vars:16,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"font-medium","text-base"],[1,"leading-relaxed","text-slate-500","text-xs"],["class","flex items-center h-full",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","flex","justify-end"],["azt-track-service","create-classroom-new-course-dialog-k_ZG3G-AAS",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","create-classroom-new-course-dialog-OvOUaKHkJOv",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex","items-center","h-full"],[1,"w-6","h-6","inline-block","mx-auto"],[3,"formGroup"],[1,"p-3","pt-0"],[1,"azt-list-classroom"],[3,"form","classroomGroupData","permissionName","defaultCssClass","changeCheckboxEvent","createdNewClassroom"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3","font-medium"],[4,"ngIf"],[2,"height","150px"],["track","vertical","pointerEventsMethod","scrollbar",1,"w-full",3,"visibility","autoHeightDisabled"],["style","height: 130px","class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-2","p-2"],["class","col-span-12 md:col-span-6 2xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center",2,"height","130px"],[1,"col-span-12","md:col-span-6","2xl:col-span-4"],[1,"flex","items-center","p-1","rounded"],[1,"col-span-10",2,"width","100%"],["class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],["class","text-area-form","rows","2","wrap","soft","class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],[1,"col-span-2","m-0","p-1","text-center"],["azt-track-service","create-classroom-new-course-dialog-NjCJ7r_T8U",1,"btn","btn-sm","btn-secondary","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"alert","alert-danger","mt-1",2,"margin","auto","padding","5px 10px","display","none",3,"id"],["ab",""],["type","text",1,"form-control",3,"id","value","placeholder","keyup"],["rows","2","wrap","soft","type","text",1,"form-control",3,"id","value","placeholder","keyup"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(M,K){if(1&M&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),l._uU(4),l.ALo(5,"mytranslate"),l.qZA(),l.TgZ(6,"div",4),l._uU(7),l.ALo(8,"mytranslate"),l.qZA()(),l.YNc(9,Ct,3,0,"div",5),l.YNc(10,nt,14,13,"ng-template",null,6,l.W1O),l.qZA(),l.TgZ(12,"div",7)(13,"button",8),l.NdJ("click",function(){return K.closeDialog()}),l._uU(14),l.ALo(15,"mytranslate"),l.qZA(),l.TgZ(16,"button",9),l.NdJ("click",function(){return K.handleUpgrade()}),l.YNc(17,dt,2,0,"span",10),l._uU(18),l.ALo(19,"mytranslate"),l.qZA()()()),2&M){const W=l.MAs(11);l.xp6(4),l.hij(" ",l.lcZ(5,8,"lang_student_classroom_list_create_class_new_cousre")," "),l.xp6(3),l.Oqu(l.lcZ(8,10,"lang_student_classroom_list_utils_create_class_new_course_conten_review")),l.xp6(2),l.Q6J("ngIf",K.statusObj.loading)("ngIfElse",W),l.xp6(5),l.hij(" ",l.lcZ(15,12,"lang_button_cancel")," "),l.xp6(2),l.Q6J("disabled",K.form.invalid),l.xp6(1),l.Q6J("ngIf",K.statusObj.loading),l.xp6(1),l.hij(" ",l.lcZ(19,14,"lang_button_save")," ")}},encapsulation:2}),ot})()},92015:(ae,It,g)=>{g.d(It,{v:()=>_});var O=g(12044),i=g(82481),e=g(71026),R=g(52572),l=g(37734),t=g(65879),C=g(78820),v=g(96814),s=g(98129),Ct=g(37722),xt=g(94767),Ot=g(8633),et=g(63278),rt=g(71518),V=g(77988),nt=g(43389),dt=g(71646),ct=g(25368),ot=g(92596),st=g(93523),M=g(36727);function K(o,d){1&o&&(t._UZ(0,"lucide-icon",11),t.ALo(1,"mytranslate")),2&o&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_published"))}function W(o,d){1&o&&(t._UZ(0,"lucide-icon",12),t.ALo(1,"mytranslate")),2&o&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_Unpublished"))}function L(o,d){if(1&o&&(t.TgZ(0,"div")(1,"div",8),t.YNc(2,K,2,3,"lucide-icon",9),t.YNc(3,W,2,3,"lucide-icon",10),t.qZA()()),2&o){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",1==n.document.homework.isPublished),t.xp6(1),t.Q6J("ngIf",1!=n.document.homework.isPublished)}}function B(o,d){1&o&&(t._UZ(0,"lucide-icon",15),t.ALo(1,"mytranslate")),2&o&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_published"))}function ht(o,d){1&o&&(t._UZ(0,"lucide-icon",12),t.ALo(1,"mytranslate")),2&o&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_Unpublished"))}function Mt(o,d){if(1&o&&(t.TgZ(0,"div",13),t.YNc(1,B,2,3,"lucide-icon",14),t.YNc(2,ht,2,3,"lucide-icon",10),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",1==(null==n.document.exam?null:n.document.exam.isPublished)),t.xp6(1),t.Q6J("ngIf",1!=(null==n.document.exam?null:n.document.exam.isPublished))}}function Yt(o,d){if(1&o&&(t.TgZ(0,"div",16)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o){const n=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_luot_lam")+": "+n.document.exam.attended)}}function Gt(o,d){if(1&o&&(t.TgZ(0,"div",16)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o){const n=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_da_nop")+": "+n.document.homework.count+"/"+n.document.homework.totalStudent)}}const se=function(o){return{"mt-3":o}};let le=(()=>{class o extends l.Q{}return o.\u0275fac=function(){let d;return function(c){return(d||(d=t.n5z(o)))(c||o)}}(),o.\u0275cmp=t.Xpm({type:o,selectors:[["exam-exercises-block"]],inputs:{document:"document",index:"index"},features:[t.qOj],decls:11,vars:11,consts:[[1,"flex","items-center","cursor-pointer","hover:bg-slate-100","rounded-md","p-2",2,"text-align","left","border","none","box-shadow","none",3,"ngClass"],[1,"flex-none","image-fit","rounded-md","overflow-hidden"],[4,"ngIf","ngIfElse"],["ExamIcon",""],[1,"ml-4","mr-auto","w-2/3"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-500 text-xs mt-0.5 font-medium",4,"ngIf"],[1,"w-12","h-12","text-primary"],["name","file-text","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-text","matTooltipShowDelay","1000",3,"matTooltip"],["name","file","matTooltipShowDelay","1000",3,"matTooltip"],[1,"w-12","h-12","text-pending"],["name","file-check","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-check","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5","font-medium"]],template:function(n,c){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,L,4,2,"div",2),t.YNc(3,Mt,3,2,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(5,"div",4)(6,"div",5,6),t._uU(8),t.qZA(),t.YNc(9,Yt,4,3,"div",7),t.YNc(10,Gt,4,3,"div",7),t.qZA()()),2&n){const u=t.MAs(4),f=t.MAs(7);t.Q6J("ngClass",t.VKq(9,se,0!==c.index)),t.xp6(2),t.Q6J("ngIf",c.document.homework)("ngIfElse",u),t.xp6(4),t.s9C("matTooltip",c.document.exam?c.document.exam.name:null==c.document.homework?null:c.document.homework.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",f.isDisabled),t.xp6(2),t.hij(" ",c.document.exam?c.document.exam.name:null==c.document.homework?null:c.document.homework.name," "),t.xp6(1),t.Q6J("ngIf",c.document.exam),t.xp6(1),t.Q6J("ngIf",c.document.homework)}},dependencies:[v.mk,v.O5,ot.gM,st.Q,Ct.Nh5,M.JV],encapsulation:2}),o})();function te(o,d){if(1&o&&t._UZ(0,"azt-loading-effect",27),2&o){const n=t.oxw();t.Q6J("currentStatusObj",n.statusObj)}}function Wt(o,d){1&o&&(t.TgZ(0,"span",50),t._UZ(1,"azt-loading-ui"),t.qZA())}function wt(o,d){1&o&&(t.O4$(),t.kcU(),t.TgZ(0,"span",51)(1,"span",52),t._uU(2,"1"),t.qZA()())}function Pt(o,d){1&o&&(t.TgZ(0,"span"),t._uU(1," \xa0 "),t.TgZ(2,"span",53),t._uU(3,"1"),t.qZA()())}function ft(o,d){1&o&&(t.TgZ(0,"h2",54),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_list_of_assigned_assignments")))}function Tt(o,d){1&o&&(t.TgZ(0,"h2",54),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_search_results")))}function Zt(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"button",55),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2);return t.KtG(u.backToDocumentList())}),t.TgZ(1,"span",56),t._UZ(2,"lucide-icon",57),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&o&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_auto_quay_lai")))}function _t(o,d){if(1&o&&t._UZ(0,"azt-loading-effect",27),2&o){const n=t.oxw(2);t.Q6J("currentStatusObj",n.statusObj)}}const Nt=function(o){return[o]},I=function(o,d){return{backto:o,filterBy:d}};function mt(o,d){if(1&o&&(t.TgZ(0,"a",74),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",75),t.qZA()),2&o){const n=t.oxw(2),c=n.$implicit,u=n.index,f=t.oxw(6);t.Q6J("routerLink",t.VKq(6,Nt,t.lcZ(1,4,"/admin/testbank/homework-results-list/"+c.homework.classroomId+"/"+c.homework.id+"/"+c.homework.hashId)))("queryParams",t.WLB(8,I,"/admin/student/classroom-details/"+f.classroomId+"/1",f.typeFilter)),t.xp6(2),t.Q6J("document",c)("index",u)}}function Q(o,d){if(1&o&&(t.TgZ(0,"a",76),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",75),t.qZA()),2&o){const n=t.oxw(2),c=n.$implicit,u=n.index,f=t.oxw(6);t.Q6J("routerLink",t.VKq(6,Nt,t.lcZ(1,4,"/bai-tap/"+c.homework.hashId)))("queryParams",t.WLB(8,I,"/student/classroom-details/"+f.classroomId+"/1",f.typeFilter)),t.xp6(2),t.Q6J("document",c)("index",u)}}function vt(o,d){if(1&o&&(t.ynx(0),t.YNc(1,mt,3,11,"a",72),t.YNc(2,Q,3,11,"a",73),t.BQk()),2&o){const n=t.oxw(7);t.xp6(1),t.Q6J("ngIf",!n.isStudent),t.xp6(1),t.Q6J("ngIf",n.isStudent)}}function Ft(o,d){if(1&o&&(t.TgZ(0,"a",79),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",75),t.qZA()),2&o){const n=t.oxw(2),c=n.$implicit,u=n.index,f=t.oxw(6);let S;t.Q6J("routerLink",t.VKq(6,Nt,t.lcZ(1,4,"/admin/testbank/exam-results-list/"+(null!==(S=null==c.exam?null:c.exam.categoryId)&&void 0!==S?S:0)+"/"+(null==c.exam?null:c.exam.id)+"/0")))("queryParams",t.WLB(8,I,"/admin/student/classroom-details/"+f.classroomId+"/1",f.typeFilter)),t.xp6(2),t.Q6J("document",c)("index",u)}}function Rt(o,d){if(1&o&&(t.TgZ(0,"a",80),t.ALo(1,"navigationLocalize"),t._UZ(2,"exam-exercises-block",75),t.qZA()),2&o){const n=t.oxw(2),c=n.$implicit,u=n.index,f=t.oxw(6);t.Q6J("routerLink",t.VKq(6,Nt,t.lcZ(1,4,"/de-thi/"+(null==c.exam?null:c.exam.hashId))))("queryParams",t.WLB(8,I,"/student/classroom-details/"+f.classroomId+"/1",f.typeFilter)),t.xp6(2),t.Q6J("document",c)("index",u)}}function ee(o,d){if(1&o&&(t.YNc(0,Ft,3,11,"a",77),t.YNc(1,Rt,3,11,"a",78)),2&o){const n=t.oxw(7);t.Q6J("ngIf",!n.isStudent),t.xp6(1),t.Q6J("ngIf",n.isStudent)}}function ye(o,d){if(1&o&&(t.TgZ(0,"div",70),t.YNc(1,vt,3,2,"ng-container",59),t.YNc(2,ee,2,2,"ng-template",null,71,t.W1O),t.qZA()),2&o){const n=d.$implicit,c=t.MAs(3);t.xp6(1),t.Q6J("ngIf",n.homework)("ngIfElse",c)}}function ze(o,d){if(1&o&&(t.TgZ(0,"div",68),t.YNc(1,ye,4,2,"div",69),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.documentList)}}function ce(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div")(1,"div")(2,"button",63),t.NdJ("click",function(){const f=t.CHM(n).$implicit;return t.KtG(f.isExpand=!f.isExpand)}),t.TgZ(3,"span",64),t._UZ(4,"lucide-icon",65),t.qZA(),t.TgZ(5,"span",66),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"getDayOfWeek"),t.ALo(9,"mytranslate"),t.ALo(10,"formatOnlyDateByUserUnitPipe"),t.qZA()()(),t.YNc(11,ze,2,1,"div",67),t.qZA()}if(2&o){const n=d.$implicit;t.xp6(4),t.s9C("name",n.isExpand?"chevron-down":"chevron-right"),t.xp6(2),t.Oqu(t.lcZ(7,3,t.lcZ(8,5,n.assignmentDate))+", "+t.lcZ(9,7,"lang_testbank_powerpoint_date")+" "+t.lcZ(10,9,n.assignmentDate)),t.xp6(5),t.Q6J("ngIf",n.isExpand)}}function Ue(o,d){1&o&&(t.TgZ(0,"span",84),t._UZ(1,"azt-loading-ui"),t.qZA())}function Ze(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",81)(1,"span",82),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(4);return t.KtG(!u.sAztNextPaginationService.isLoadingNextPage&&u.getNextPage())}),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,Ue,2,0,"span",83),t.qZA()()}if(2&o){const n=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_business_document_get_more_documents")," "),t.xp6(2),t.Q6J("ngIf",n.sAztNextPaginationService.isLoadingNextPage)}}function Ae(o,d){if(1&o&&(t.ynx(0),t.YNc(1,ce,12,11,"div",61),t.YNc(2,Ze,5,4,"div",62),t.BQk()),2&o){const n=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n.listGroupDocumentObjs),t.xp6(1),t.Q6J("ngIf",n.sAztNextPaginationService.hasNextPage)}}function Se(o,d){1&o&&(t.TgZ(0,"div",85)(1,"div",86),t.O4$(),t.TgZ(2,"svg",87),t._UZ(3,"path",88)(4,"path",89)(5,"path",90)(6,"path",91)(7,"path",92)(8,"path",93),t.qZA(),t.kcU(),t.TgZ(9,"p",94),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()),2&o&&(t.xp6(10),t.Oqu(t.lcZ(11,1,"lang_student_there_are_no_exercises_or_tests_yet")+"!"))}function fe(o,d){if(1&o&&(t.TgZ(0,"div",58),t.YNc(1,Ae,3,2,"ng-container",59),t.YNc(2,Se,12,3,"ng-template",null,60,t.W1O),t.qZA()),2&o){const n=t.MAs(3),c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",c.listGroupDocumentObjs.length>0)("ngIfElse",n)}}function Ie(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31)(4,"div",32)(5,"azt-search-box",33),t.NdJ("onSearch",function(u){t.CHM(n);const f=t.oxw();return t.KtG(f.searchDocumentObjs(u.searchObj))}),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"button",34),t.YNc(8,Wt,2,0,"span",35),t.O4$(),t.TgZ(9,"svg",36),t._UZ(10,"polygon",37),t.qZA(),t.YNc(11,wt,3,0,"span",38),t.kcU(),t.TgZ(12,"span",39),t._uU(13),t.ALo(14,"mytranslate"),t.YNc(15,Pt,4,0,"span",40),t.qZA()()(),t.TgZ(16,"div",41)(17,"button",42)(18,"span",43),t._UZ(19,"lucide-icon",44),t.qZA(),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()(),t.TgZ(22,"div",45),t.YNc(23,ft,3,3,"h2",46),t.YNc(24,Tt,3,3,"h2",46),t.YNc(25,Zt,6,3,"button",47),t.qZA(),t.TgZ(26,"div",48),t.YNc(27,_t,1,1,"azt-loading-effect",0),t.qZA(),t.YNc(28,fe,4,2,"ng-template",null,49,t.W1O),t.qZA()}if(2&o){const n=t.MAs(29),c=t.oxw(),u=t.MAs(4),f=t.MAs(37);t.xp6(5),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(6,15,"lang_auto_tim_kiem"))("searchContentObj",c.searchContentObj),t.xp6(2),t.Q6J("matMenuTriggerFor",u),t.xp6(1),t.Q6J("ngIf",c.loadingFilter),t.xp6(3),t.Q6J("ngIf",""!=c.typeFilter),t.xp6(2),t.hij(" ",t.lcZ(14,17,"lang_homework_homework_score_list_sort")," "),t.xp6(2),t.Q6J("ngIf",""!=c.typeFilter),t.xp6(2),t.Q6J("matMenuTriggerFor",f),t.xp6(3),t.hij(" ",t.lcZ(21,19,"lang_student_new_assignment")," "),t.xp6(3),t.Q6J("ngIf",!c.isShowSearchResult),t.xp6(1),t.Q6J("ngIf",c.isShowSearchResult),t.xp6(1),t.Q6J("ngIf",c.isShowSearchResult),t.xp6(2),t.Q6J("ngIf",c.searchContentObj.isLoading||c.loadingFilter)("ngIfElse",n)}}function xe(o,d){1&o&&(t.O4$(),t.TgZ(0,"svg",95),t._UZ(1,"polyline",96),t.qZA())}function Fe(o,d){1&o&&(t.O4$(),t.TgZ(0,"svg",95),t._UZ(1,"polyline",96),t.qZA())}let X=(()=>{class o extends l.Q{changeFilter(n){this.typeFilter=n,this.loadingFilter=!0,this.resetData(),this.commonService.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/1","?filterBy="+n),this.getData(!0)}openEditor(){let n=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backto=${encodeURIComponent(n)}&classroomId=${this.classroomId}`)}openHomeworkScreen(){let n=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/homework/add-new-homework/0",`?backto=${encodeURIComponent(n)}&classroomId=${this.classroomId}`)}backToDocumentList(){this.isShowSearchResult=!1,this.searchContentObj.searchContent="",this.getData(!1)}resetData(){this.listDocumentObjs=[]}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}searchDocumentObjs(n){this.searchContentObj=n,this.searchContentObj.setLoading(!0),this.resetData(),this.getData(!1)}getData(n){n?this.sAztNextPaginationService.setLoading(!0):this.searchContentObj.searchContent||this.initStatusObj();let c={categoryId:void 0,documentType:"file",shareType:void 0,fileType:this.typeFilter?this.typeFilter:void 0,classroomId:this.classroomId,name:this.searchContentObj.searchContent?this.searchContentObj.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:0,page:this.sAztNextPaginationService.curPage,itemPerPage:this.sAztNextPaginationService.itemPerPage};this.isShowSearchResult=!!this.searchContentObj.searchContent,this.waitDestroy(this.documentService.apiDocumentsGet(c.categoryId,c.documentType,c.shareType,c.fileType,c.classroomId,c.name,c.suggestExamPurpose,c.lite,c.getGlobal,c.page,c.itemPerPage).subscribe(u=>{u.success?(this.listDocumentObjs=this.listDocumentObjs.concat(u.data?.documentObjs??[]),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(u.data?.total??0),this.processData(this.listDocumentObjs),this.searchContentObj.setLoading(!1),this.stopStatusObj()):(this.searchContentObj.setLoading(!1),this.errorStatusObj(u.message,!0)),this.loadingFilter=!1}))}processData(n){let c=this.commonService.arrayToDictionary(n,f=>f.exam?new Date(f.exam.createdAt??0).toDateString():new Date(f?.homework?.createdAt??0).toDateString()),u=[];Object.entries(c).forEach(([f,S],D)=>{if(S.length>0){let $=S[0];u.push({isExpand:!0,assignmentDate:$.exam?$.exam.createdAt:$.homework?.createdAt,documentList:S})}}),this.listGroupDocumentObjs=u}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.typeFilter=this.commonService.getMyQueryParam("filterBy")??"",this.getData(!1)}constructor(n,c,u){super(),this.documentService=n,this.activeRoute=c,this.sAztNextPaginationService=u,this.classroomId=0,this.listGroupDocumentObjs=[],this.listDocumentObjs=[],this.isShowSearchResult=!1,this.searchContentObj=new et.h,this.typeFilter="",this.loadingFilter=!1}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(rt.Zg),t.Y36(O.gz),t.Y36(Ot.S))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-exam-exercises"]],inputs:{isStudent:"isStudent"},features:[t._Bn([Ot.S]),t.qOj],decls:58,vars:19,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","after"],["menuFilter","matMenu"],[1,"dropdown-menu","w-32","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-2"],["width","18","height","18","x","3","y","3","rx","2"],["d","M7 8h10"],["d","M7 12h10"],["d","M7 16h10"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.75","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-2"],["d","M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"],["d","M14 2v4a2 2 0 0 0 2 2h4"],["d","M10 9H8"],["d","M16 13H8"],["d","M16 17H8"],["xmlns","http://www.w3.org/2000/svg","class","lucide lucide-activity w-4 h-4 ml-2","style","color: green","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","#000000","stroke-width","1.75","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-2"],["d","m9 15 2 2 4-4"],["xPosition","before"],["menuAssignment","matMenu"],[1,"dropdown-menu","w-40","show","relative"],["azt-track-service","exam-exercises-AuLj8R4CH",1,"dropdown-item","w-full",3,"click"],["azt-track-service","exam-exercises-2YQOMXwGnC",1,"dropdown-item","w-full",3,"click"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"flex","w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[1,"mr-2","w-full","sm:w-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["tourAnchor","azt-tour-2",1,"shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["class","w-3 h-4 mr-1 inline-block",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-0","md:mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],["class","sm:hidden w-5 h-5 flex items-center justify-center absolute rounded-full bg-primary right-0 top-0 -mr-2 -mt-2",4,"ngIf"],[1,"azt-hidden","sm:block"],[4,"ngIf"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","exam-exercises-jkv8YmKddH",1,"btn","btn-primary","dropdown-toggle","text-white","shadow-md",3,"matMenuTriggerFor"],[1,"w-4","h-4","mr-2"],["name","plus"],[1,"col-span-12","flex","items-center","mt-5"],["class","text-lg font-medium mr-5",4,"ngIf"],["azt-track-service","exam-exercises-TXjuRofaLz","class","btn-text-primary font-medium ml-auto",3,"click",4,"ngIf"],[1,"col-span-12","mt-5"],["doneLoadingSearch",""],[1,"w-3","h-4","mr-1","inline-block"],[1,"sm:hidden","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","bg-primary","right-0","top-0","-mr-2","-mt-2"],[1,"rounded-full","bg-primary","text-white","cursor-pointer","font-medium"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[1,"text-lg","font-medium","mr-5"],["azt-track-service","exam-exercises-TXjuRofaLz",1,"btn-text-primary","font-medium","ml-auto",3,"click"],[1,"w-4","h-4","inline-block","mr-1"],["name","chevron-left"],[1,"col-span-12"],[4,"ngIf","ngIfElse"],["emptyList",""],[4,"ngFor","ngForOf"],["class","mt-2 font-medium",4,"ngIf"],["azt-track-service","exam-exercises-gYn61cneD",1,"flex","items-center","py-3","pr-3","hover:text-primary",3,"click"],[1,"w-6","h-6","inline-block"],[3,"name"],[1,"font-medium","ml-3"],["class","box p-3",4,"ngIf"],[1,"box","p-3"],["class","document",4,"ngFor","ngForOf"],[1,"document"],["isExamDocument",""],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams"],[3,"document","index"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams"],[1,"mt-2","font-medium"],["azt-track-service","exam-exercises-4meI3XYSV",1,"clickable",3,"click"],["class","w-4 h-4 inline-block ml-2",4,"ngIf"],[1,"w-4","h-4","inline-block","ml-2"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","87","height","102","viewBox","0 0 87 102","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M66.6719 13.9999L75.9738 81.8427L76.8095 88.649C77.0787 90.8417 75.5194 92.8374 73.3268 93.1066L14.7665 100.297C12.5739 100.566 10.5781 99.0069 10.3089 96.8142L1.29312 23.3867C1.1585 22.2904 1.93813 21.2925 3.03447 21.1579C3.0414 21.157 3.04832 21.1562 3.05526 21.1554L7.91363 20.6104M11.8422 20.1698L16.4292 19.6552L11.8422 20.1698Z","fill","white"],["d","M67.9103 13.8302C67.8165 13.1462 67.186 12.6678 66.5021 12.7615C65.8181 12.8553 65.3397 13.4858 65.4335 14.1697L67.9103 13.8302ZM75.9738 81.8427L77.2144 81.6903C77.2137 81.6845 77.213 81.6787 77.2122 81.6729L75.9738 81.8427ZM76.8095 88.649L78.0502 88.4967L76.8095 88.649ZM73.3268 93.1066L73.4791 94.3473L73.3268 93.1066ZM14.7665 100.297L14.9189 101.538L14.7665 100.297ZM10.3089 96.8142L11.5496 96.6619L10.3089 96.8142ZM3.05526 21.1554L3.1946 22.3976L3.05526 21.1554ZM8.05297 21.8527C8.73902 21.7757 9.23279 21.1572 9.15583 20.4711C9.07888 19.7851 8.46034 19.2913 7.77428 19.3682L8.05297 21.8527ZM11.7028 18.9276C11.0168 19.0045 10.523 19.6231 10.5999 20.3091C10.6769 20.9952 11.2954 21.4889 11.9815 21.412L11.7028 18.9276ZM16.5685 20.8974C17.2546 20.8205 17.7484 20.2019 17.6714 19.5159C17.5945 18.8298 16.9759 18.3361 16.2899 18.413L16.5685 20.8974ZM65.4335 14.1697L74.7353 82.0125L77.2122 81.6729L67.9103 13.8302L65.4335 14.1697ZM74.7331 81.995L75.5688 88.8013L78.0502 88.4967L77.2144 81.6903L74.7331 81.995ZM75.5688 88.8013C75.7539 90.3088 74.6819 91.6809 73.1744 91.866L73.4791 94.3473C76.357 93.994 78.4035 91.3745 78.0502 88.4967L75.5688 88.8013ZM73.1744 91.866L14.6142 99.0563L14.9189 101.538L73.4791 94.3473L73.1744 91.866ZM14.6142 99.0563C13.1067 99.2414 11.7347 98.1694 11.5496 96.6619L9.0682 96.9666C9.42156 99.8445 12.041 101.891 14.9189 101.538L14.6142 99.0563ZM11.5496 96.6619L2.5338 23.2344L0.0524334 23.539L9.0682 96.9666L11.5496 96.6619ZM2.5338 23.2344C2.48332 22.8232 2.77568 22.449 3.18681 22.3986L2.88213 19.9172C1.10059 20.1359 -0.166313 21.7575 0.0524334 23.539L2.5338 23.2344ZM3.18681 22.3986C3.1894 22.3982 3.192 22.3979 3.1946 22.3976L2.91592 19.9132C2.90465 19.9145 2.89339 19.9158 2.88213 19.9172L3.18681 22.3986ZM3.1946 22.3976L8.05297 21.8527L7.77428 19.3682L2.91592 19.9132L3.1946 22.3976ZM11.9815 21.412L16.5685 20.8974L16.2899 18.413L11.7028 18.9276L11.9815 21.412Z","fill","#1F64E7"],["fill-rule","evenodd","clip-rule","evenodd","d","M64.14 18.2692L72.5596 79.7529L73.3169 85.9212C73.5609 87.9083 72.1669 89.7146 70.2033 89.9557L17.7613 96.3948C15.7978 96.6359 14.0082 95.2204 13.7642 93.2333L5.61416 26.8568C5.47955 25.7605 6.25918 24.7626 7.35551 24.628L13.8431 23.8314","fill","#E8F0FE"],["d","M20.9219 4C20.9219 2.48122 22.1531 1.25 23.6719 1.25H69.2286C69.9577 1.25 70.6569 1.5395 71.1726 2.05485L84.6158 15.4898C85.1319 16.0056 85.4219 16.7053 85.4219 17.4349V80C85.4219 81.5188 84.1907 82.75 82.6719 82.75H23.6719C22.1531 82.75 20.9219 81.5188 20.9219 80V4Z","fill","white","stroke","#1F64E7","stroke-width","2.5"],["d","M69.6719 2.40283V14C69.6719 15.6569 71.015 17 72.6719 17H80.6055","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M31 17H57M31 29H74M31 42H74M31 55H74M31 68H57","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","ml-2",2,"color","green"],["points","20 6 9 17 4 12"]],template:function(n,c){if(1&n&&(t.YNc(0,te,1,1,"azt-loading-effect",0),t.YNc(1,Ie,30,21,"ng-template",null,1,t.W1O),t.TgZ(3,"mat-menu",2,3)(5,"div",4)(6,"ul",5)(7,"li")(8,"button",6),t.NdJ("click",function(){return c.changeFilter("")}),t.O4$(),t.TgZ(9,"svg",7),t._UZ(10,"rect",8)(11,"path",9)(12,"path",10)(13,"path",11),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(16,"li")(17,"button",12),t.NdJ("click",function(){return c.changeFilter("homework")}),t.O4$(),t.TgZ(18,"svg",13),t._UZ(19,"path",14)(20,"path",15)(21,"path",16)(22,"path",17)(23,"path",18),t.qZA(),t._uU(24),t.ALo(25,"mytranslate"),t.YNc(26,xe,2,0,"svg",19),t.qZA()(),t.kcU(),t.TgZ(27,"li")(28,"button",6),t.NdJ("click",function(){return c.changeFilter("exam")}),t.O4$(),t.TgZ(29,"svg",20),t._UZ(30,"path",14)(31,"path",15)(32,"path",21),t.qZA(),t._uU(33),t.ALo(34,"mytranslate"),t.YNc(35,Fe,2,0,"svg",19),t.qZA()()()()(),t.kcU(),t.TgZ(36,"mat-menu",22,23)(38,"div",24)(39,"ul",5)(40,"li")(41,"button",25),t.NdJ("click",function(){return c.openHomeworkScreen()}),t.O4$(),t.TgZ(42,"svg",13),t._UZ(43,"path",14)(44,"path",15)(45,"path",16)(46,"path",17)(47,"path",18),t.qZA(),t._uU(48),t.ALo(49,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(50,"li")(51,"button",26),t.NdJ("click",function(){return c.openEditor()}),t.O4$(),t.TgZ(52,"svg",20),t._UZ(53,"path",14)(54,"path",15)(55,"path",21),t.qZA(),t._uU(56),t.ALo(57,"mytranslate"),t.qZA()()()()()),2&n){const u=t.MAs(2);t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",u),t.xp6(14),t.hij(" ",t.lcZ(15,9,"lang_auto_tat_ca")," "),t.xp6(10),t.hij(" ",t.lcZ(25,11,"lang_auto_bai_tap")," "),t.xp6(2),t.Q6J("ngIf","homework"==c.typeFilter),t.xp6(7),t.hij(" ",t.lcZ(34,13,"lang_auto_de_thi")," "),t.xp6(2),t.Q6J("ngIf","exam"==c.typeFilter),t.xp6(13),t.hij(" ",t.lcZ(49,15,"lang_student_new_homework")," "),t.xp6(8),t.hij(" ",t.lcZ(57,17,"lang_student_new_exam")," ")}},dependencies:[O.rH,v.sg,v.O5,V.VK,V.p6,nt.l,dt.n,ct.W,Ct.Nh5,le,M.Jy,M.JV,M.YK,M.WN],encapsulation:2}),o})();var yt=g(93733),z=g(50447),q=g(60),bt=g(72357),jt=g(66216),Kt=g(6050),zt=g(19347),Vt=g(72164),ke=g(19402),de=g(78497),re=g(1103),Je=g(13407),ge=g(60381);function Ne(o,d){if(1&o&&t._UZ(0,"azt-loading-effect",13),2&o){const n=t.oxw();t.Q6J("currentStatusObj",n.statusObj)}}function nn(o,d){if(1&o&&(t.TgZ(0,"tr")(1,"td",23),t._uU(2),t.ALo(3,"formatOnlyDateByUserUnitPipe"),t.qZA(),t.TgZ(4,"td")(5,"div",24),t._UZ(6,"input",25),t.qZA()(),t.TgZ(7,"td")(8,"div",24),t._UZ(9,"input",25),t.qZA()(),t.TgZ(10,"td"),t._UZ(11,"textarea",26),t.qZA()()),2&o){const n=d.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,7,n.sessionTime)," "),t.xp6(4),t.Q6J("checked",n.receivedDocument)("disabled",!0),t.xp6(3),t.Q6J("checked",n.absent)("disabled",!0),t.xp6(2),t.Q6J("disabled",!0)("value",n.reason)}}function P(o,d){if(1&o&&(t.ynx(0),t.YNc(1,nn,12,9,"tr",22),t.BQk()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n.attendanceObj.list)}}function pt(o,d){1&o&&(t.TgZ(0,"tr")(1,"td",27),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_homework_homework_list_not_found")," "))}function w(o,d){if(1&o&&(t.TgZ(0,"drag-scroll")(1,"table",14)(2,"thead")(3,"tr",15)(4,"th",16),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"th",17),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"th",18),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"th",18),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()(),t.TgZ(16,"tbody",19),t.YNc(17,P,2,1,"ng-container",20),t.YNc(18,pt,4,3,"ng-template",null,21,t.W1O),t.qZA()()()),2&o){const n=t.MAs(19),c=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,6,"lang_auto_thoi_gian")),t.xp6(3),t.Oqu(t.lcZ(9,8,"lang_core_da_phat_tai_lieu")),t.xp6(3),t.Oqu(t.lcZ(12,10,"lang_student_absence")),t.xp6(3),t.Oqu(t.lcZ(15,12,"lang_auto_ly_do")),t.xp6(3),t.Q6J("ngIf",c.attendanceObj&&c.attendanceObj.list.length)("ngIfElse",n)}}let G=(()=>{class o extends Vt.e{handleCloseDialog(){this.dialogRef.close()}filterData(n){this.dataFilter=n,this.getData()}getData(){this.initStatusObj();const n=this.data.student;this.waitDestroy(this.studentService.apiStudentsStudentIdAttendancesGet(n.id,n.classroomId,this.dataFilter?.yearSelected,this.dataFilter?.monthSelected).subscribe({next:c=>{this.attendanceObj=c,this.successStatusObj()},error:c=>{this.errorStatusObj(c.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.getData()}constructor(n,c,u){super(c,n),this.dialogRef=n,this.data=c,this.studentService=u}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(zt.so,8),t.Y36(zt.WI,8),t.Y36(ke.VT))},o.\u0275cmp=t.Xpm({type:o,selectors:[["azt-attendance-detail"]],features:[t.qOj],decls:15,vars:11,consts:[[1,"box","attendance-detail"],[1,"p-4"],[1,"flex"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"ml-auto"],[1,"btn","btn-outline-danger","border-0","shadow-none",3,"click"],[1,"w-4","h-4","inline-block"],["name","x"],[1,"mt-2","flex","justify-end","items-center"],[3,"sendFilter"],[1,"mt-0","pb-4"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[1,"box","bg-slate-200","dark:bg-darkmode-400"],[1,"whitespace-nowrap"],[1,"text-center","whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"bg-slate-100","dark:bg-darkmode-400"],[4,"ngIf","ngIfElse"],["emptyData",""],[4,"ngFor","ngForOf"],[1,"font-medium"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"checked","disabled"],["type","text",1,"form-control",2,"min-width","50px","min-height","50px",3,"disabled","value"],["colspan","4",1,"text-center"]],template:function(n,c){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"azt-student-info-box",3),t.TgZ(4,"div",4)(5,"button",5),t.NdJ("click",function(){return c.handleCloseDialog()}),t.TgZ(6,"span",6),t._UZ(7,"lucide-icon",7),t.qZA()()()(),t.TgZ(8,"div",8)(9,"azt-filter-box",9),t.NdJ("sendFilter",function(f){return c.filterData(f)}),t.qZA()()(),t.TgZ(10,"div",10)(11,"azt-mat-dialog-content"),t.YNc(12,Ne,1,1,"azt-loading-effect",11),t.YNc(13,w,20,14,"ng-template",null,12,t.W1O),t.qZA()()()),2&n){const u=t.MAs(14);t.xp6(3),t.Q6J("name",c.data.student.fullName)("parentFullName",c.data.student.parentFullName)("parentId",c.data.student.parentId)("parentPhone",c.data.student.parentPhone)("phone",c.data.student.phone)("email",c.data.student.email)("avatar",c.data.student.avatar)("gender",c.data.student.gender)("hasUser",c.data.student.hasUser),t.xp6(9),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",u)}},dependencies:[v.sg,v.O5,nt.l,de.R,re.a,Je.W,ge.HU,ge.$Z,Ct.Nh5,M.JV,M.YK],encapsulation:2}),o})();var Y=g(2783),gt=g(83306);function A(o,d){if(1&o&&t._UZ(0,"azt-loading-effect",8),2&o){const n=t.oxw();t.Q6J("currentStatusObj",n.statusObj)}}const tt=function(o){return{"text-primary stroke-width-2.5":o}};function k(o,d){if(1&o&&(t.TgZ(0,"div",18),t.O4$(),t.TgZ(1,"svg",19),t._UZ(2,"polyline",20),t.qZA(),t.TgZ(3,"svg",21),t._UZ(4,"polyline",22),t.qZA()()),2&o){const n=t.oxw().$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(2,tt,n.typeFieldSort===c.typeFieldSort.asc)),t.xp6(2),t.Q6J("ngClass",t.VKq(4,tt,n.typeFieldSort===c.typeFieldSort.desc))}}function Z(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"th",15)(1,"div",16),t.NdJ("click",function(){const f=t.CHM(n).$implicit,S=t.oxw(2);return t.KtG(S.sortTableByFieldName(f))}),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,k,5,6,"div",17),t.qZA()()}if(2&o){const n=d.$implicit;t.xp6(1),t.Akn(n.customStyle),t.Tol(n.customClassCss),t.xp6(1),t.hij(" ",t.lcZ(3,6,n.key)," "),t.xp6(2),t.Q6J("ngIf",!n.ignore)}}function U(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"tr",23)(1,"td",24),t.NdJ("click",function(){const f=t.CHM(n).$implicit,S=t.oxw(2);return t.KtG(S.showAttendanceDetail(f))}),t._UZ(2,"azt-student-info-box",25),t.qZA(),t.TgZ(3,"td",26),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(6,"td",26),t._uU(7),t.qZA(),t.TgZ(8,"td",26),t._uU(9),t.qZA(),t.TgZ(10,"td",26),t._uU(11),t.qZA(),t.TgZ(12,"td",26),t._uU(13),t.qZA()()}if(2&o){const n=d.$implicit;t.Q6J("id","row_student_"+n.id),t.xp6(2),t.Q6J("name",n.fullName)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("avatar",n.avatar)("gender",n.gender)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt),t.xp6(2),t.Oqu(n.identificationNumber?t.xi3(5,16,n.identificationNumber,6):""),t.xp6(3),t.Oqu(null==n?null:n.totalAttend),t.xp6(2),t.Oqu(null==n?null:n.totalAbsence),t.xp6(2),t.Oqu(null==n?null:n.totalAbsentPermission),t.xp6(2),t.Oqu(null==n?null:n.totalAbsentNoPermission)}}function At(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"azt-paging",30),t.NdJ("goToPaginationPage",function(u){t.CHM(n);const f=t.oxw(3);return t.KtG(f.setPageStudent(u))}),t.qZA()}if(2&o){const n=t.oxw(3);t.Q6J("pageObj",n.pageObj)}}function Jt(o,d){if(1&o&&(t.TgZ(0,"div",31),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const n=t.oxw(3);t.xp6(1),t.AsE("",n.totalStudent," ",t.lcZ(2,2,"lang_notify_list_students"),"")}}function on(o,d){if(1&o&&(t.TgZ(0,"div",27),t._UZ(1,"div"),t.YNc(2,At,1,1,"azt-paging",28),t.YNc(3,Jt,3,4,"div",29),t.qZA()),2&o){const n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",n.totalStudent>n.pageObj.pageSize),t.xp6(1),t.Q6J("ngIf",!n.isStudent)}}function Me(o,d){if(1&o&&(t.TgZ(0,"div",9)(1,"drag-scroll")(2,"table",10)(3,"thead")(4,"tr",11),t.YNc(5,Z,5,8,"th",12),t.qZA()(),t.TgZ(6,"tbody"),t.YNc(7,U,14,19,"tr",13),t.qZA()()()(),t.YNc(8,on,4,2,"div",14)),2&o){const n=t.oxw();t.xp6(5),t.Q6J("ngForOf",n.sortTableByFieldNameService.fieldNameList),t.xp6(2),t.Q6J("ngForOf",n.listStudent),t.xp6(1),t.Q6J("ngIf",n.listStudent&&n.totalStudent&&n.totalStudent>0)}}let _n=(()=>{class o extends l.Q{onSearchBox(n){this.searchContentObj=n,this.getData()}setPageStudent(n){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/7","?page="+n),this.pageObj.setPageNumber(n),this.getData()}sortTableByFieldName(n){n.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(n),this.getData())}showAttendanceDetail(n){this.sAztDialogService.open(G,{width:"700px",restoreFocus:!1,data:{student:n,isTeacher:!0}})}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!0,me:this.isStudent,getAssessment:!1,order:this.orderObj}).subscribe({next:c=>{this.listStudent=c.list,this.totalStudent=c.total,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()},error:c=>{this.errorStatusObj(c.error.message,!0)}}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:bt.P.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:bt.P.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAttend",key:"lang_student_number_of_sessions_attended",ignore:!1,typeFieldSort:bt.P.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsence",key:"lang_student_number_of_sessions_missed",ignore:!1,typeFieldSort:bt.P.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsentPermission",key:"lang_student_number_of_approved_absences",ignore:!1,typeFieldSort:bt.P.none,customClassCss:"flex items-center justify-center"},{fieldName:"totalAbsentNoPermission",key:"lang_student_number_of_unauthorized_absences",ignore:!1,typeFieldSort:bt.P.none,customClassCss:"flex items-center justify-center"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(n,c,u,f){super(),this.activeRoute=n,this.studentService=c,this.sortTableByFieldNameService=u,this.sAztDialogService=f,this.classroomId=0,this.searchContentObj=new et.h,this.pageObj=new Kt.m(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=bt.P}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(O.gz),t.Y36(ke.VT),t.Y36(jt.X),t.Y36(Y.C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-attendance-board"]],inputs:{isStudent:"isStudent"},features:[t._Bn([jt.X]),t.qOj],decls:13,vars:9,consts:[[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"isServerSearch","placeholder","onSearch"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","attendance-board-DpF9pdFzjI",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4",3,"ngClass"],["points","18 15 12 9 6 15"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","-mt-2",3,"ngClass"],["points","6 9 12 15 18 9"],[3,"id"],["azt-track-service","attendance-board-e_tUfqKJu",1,"cursor-pointer",2,"width","250px",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"flex","justify-end"]],template:function(n,c){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"azt-search-box",5),t.NdJ("onSearch",function(f){return c.onSearchBox(f.searchObj)}),t.ALo(8,"mytranslate"),t.qZA()()(),t.TgZ(9,"div",1),t.YNc(10,A,1,1,"azt-loading-effect",6),t.YNc(11,Me,9,3,"ng-template",null,7,t.W1O),t.qZA()()),2&n){const u=t.MAs(12);t.xp6(3),t.Oqu(t.lcZ(4,5,"lang_azt_attendance")),t.xp6(4),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(8,7,"lang_core_tim_theo_ten_phone_email")),t.xp6(3),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",u)}},dependencies:[v.mk,v.sg,v.O5,nt.l,gt.L,ct.W,re.a,ge.HU,ge.$Z,M.JV,M.gw],encapsulation:2}),o})();var je=g(48323),vn=g(55358),Le=g(86825),it=g(56223),Nn=g(65592),Ye=g(44760),qe=g(89156),he=g(84049),Mn=g(97638),bn=g(23083);let Qe=(()=>{class o extends Vt.e{btnCloseDialog(){this.dialogRef.close(!1)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(n=>1==n.selected)}saveData(){this.initStatusObj();var n=[];this.checkboxMonth.checkboxMonth.filter(u=>1==u.selected).forEach(u=>{n.push({month:u.month,year:u.year})}),this.waitDestroy(this.paymentService.apiPaymentPost({payments:n,studentId:this.data}).subscribe({next:u=>{this.successStatusObj("lang_cms_utils_update_folder_success",!0),this.dialogRef.close(!0)},error:u=>{this.errorStatusObj(u.error.message,!0)}}))}constructor(n,c,u){super(u,c),this.paymentService=n,this.dialogRef=c,this.data=u,this.checkboxMonth=new he.$,this.checkboxMonth.studentId=u}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(Mn.t),t.Y36(zt.so,8),t.Y36(zt.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["azt-dialog-checkbox-month"]],features:[t.qOj],decls:11,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[3,"checkboxMonth"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-primary",3,"disabled","click"]],template:function(n,c){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"azt-checkbox-month",3),t.qZA()(),t.TgZ(4,"div",4)(5,"button",5),t.NdJ("click",function(){return c.btnCloseDialog()}),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"button",6),t.NdJ("click",function(){return c.saveData()}),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("checkboxMonth",c.checkboxMonth),t.xp6(3),t.hij(" ",t.lcZ(7,4,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",!c.isSelectedMonth()||c.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(10,6,"lang_business_news_update_post_button")," "))},dependencies:[bn.$,M.JV],encapsulation:2}),o})();var Cn=g(97694),an=g(29023),mn=g(23680),Tn=g(64170),T=g(44683),J=g(13217),h=g(84003),N=g(25804),H=g(63120),St=g(20553),ue=g(97151),ve=g(4021),dn=g(74104),kn=g(28079),uo=g(4844),Bn=g(63619),po=g(95545);const wn=["fileSelect"];function On(o,d){if(1&o&&(t.TgZ(0,"span",27),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu((null==n.cellData?null:n.cellData.fullName)+": ")}}function go(o,d){if(1&o&&(t.TgZ(0,"span",28),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&o){const n=d.$implicit,c=d.index,u=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.errorMessage)+(c===u.errors.length-1?" ("+t.lcZ(3,3,"lang_auto_line")+" "+u.row+")":", ")," ")}}function ho(o,d){if(1&o&&(t.TgZ(0,"div",24),t.YNc(1,On,2,1,"span",25),t.YNc(2,go,4,5,"span",26),t.qZA()),2&o){const n=d.$implicit;t.xp6(1),t.Q6J("ngIf",null==n.cellData?null:n.cellData.fullName),t.xp6(1),t.Q6J("ngForOf",n.errors)}}function Yn(o,d){if(1&o&&(t.TgZ(0,"div",19)(1,"div",20),t._uU(2),t.qZA(),t.TgZ(3,"div",21)(4,"ng-scrollbar",22),t.YNc(5,ho,3,2,"div",23),t.qZA()()()),2&o){const n=t.oxw(2);t.xp6(2),t.Oqu("T\u1ed5ng s\u1ed1 l\u1ed7i: "+n.errorImportFile.length),t.xp6(2),t.Q6J("visibility","hover")("autoHeightDisabled",!1),t.xp6(1),t.Q6J("ngForOf",n.errorImportFile)}}const fo=function(o){return[o]};function Bt(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",29)(1,"azt-upload-single-document-to-editor",30),t.NdJ("emitFiles",function(u){t.CHM(n);const f=t.oxw(2);return t.KtG(f.handleUploadComplete(u))}),t.TgZ(2,"div",31)(3,"div",32)(4,"span",33),t._UZ(5,"lucide-icon",34),t.qZA(),t.TgZ(6,"span",35),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()()}if(2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("fileType",t.VKq(7,fo,n.allUploadFileTypes.EXCEL)),t.xp6(6),t.hij(" ",t.lcZ(8,3,"lang_auto_keo_tha_file_excel")," "),t.xp6(2),t.hij(" ",t.lcZ(10,5,"lang_auto_hoc_click_de_chon_file")," ")}}function _e(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"div",40)(5,"div",41),t._UZ(6,"img",42),t.ALo(7,"convertCdnLinkOfGitHub"),t.qZA(),t.TgZ(8,"div",43)(9,"p",44,45),t._uU(11),t.qZA(),t.TgZ(12,"div",46),t._uU(13),t.qZA()(),t.TgZ(14,"div",47)(15,"button",48),t.NdJ("click",function(u){t.CHM(n);const f=t.oxw(2);return t.KtG(f.removeFile(u))}),t.ALo(16,"mytranslate"),t.TgZ(17,"span",49),t._UZ(18,"lucide-icon",50),t.qZA()()()()()()()()}if(2&o){const n=t.MAs(10),c=t.oxw(2);t.xp6(6),t.Q6J("src",t.lcZ(7,7,"images/excel.png"),t.LSH),t.xp6(3),t.s9C("matTooltip",null==c.file?null:c.file.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",n.isDisabled),t.xp6(2),t.hij(" ",c.file?c.file.name:""," "),t.xp6(2),t.hij(" ",c.fileMb+"mb"," "),t.xp6(2),t.s9C("matTooltip",t.lcZ(16,9,"lang_auto_xoa"))}}function Ee(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"a",51),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2);return t.KtG(u.exportDefaultListStudent())}),t.TgZ(1,"span",52),t._UZ(2,"lucide-icon",53),t.qZA(),t.TgZ(3,"span",54),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_student_utils_download_file")," "))}function jn(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"a",51),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2);return t.KtG(u.exportListStudent())}),t.TgZ(1,"span",52),t._UZ(2,"lucide-icon",53),t.qZA(),t.TgZ(3,"span",54),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_student_utils_export_list_student")," "))}function zo(o,d){if(1&o&&(t.TgZ(0,"div",12),t.YNc(1,Yn,6,4,"div",13),t.TgZ(2,"div",14),t.YNc(3,Bt,11,9,"div",15),t.YNc(4,_e,19,11,"ng-template",null,16,t.W1O),t.TgZ(6,"div",17),t.YNc(7,Ee,6,3,"a",18),t.YNc(8,jn,6,3,"a",18),t.qZA()()()),2&o){const n=t.MAs(5),c=t.oxw();t.xp6(1),t.Q6J("ngIf",c.errorImportFile.length),t.xp6(2),t.Q6J("ngIf",!c.file)("ngIfElse",n),t.xp6(4),t.Q6J("ngIf",0==(null==c.studentObjs?null:c.studentObjs.length)||c.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",0!=(null==c.studentObjs?null:c.studentObjs.length)&&!c.isBusinessDomain)}}function Uo(o,d){if(1&o&&(t.TgZ(0,"div",58)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o){const n=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,1,n.msgError),"!")}}function xo(o,d){if(1&o&&(t.TgZ(0,"div",55),t._UZ(1,"azt-form-enter-info-student",56),t.YNc(2,Uo,4,3,"div",57),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("studentForm",n.studentForm),t.xp6(1),t.Q6J("ngIf",""!==n.msgError)}}function vo(o,d){1&o&&(t.TgZ(0,"span",59),t._UZ(1,"azt-loading-ui"),t.qZA())}function Fo(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"azt-export-excel-for-student-list",60),t.NdJ("exportDataDone",function(u){t.CHM(n);const f=t.oxw();return t.KtG(f.exportStudentListDone(u))}),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("objs",n.exportStudentObjs)}}let bo=(()=>{class o extends Vt.e{exportDefaultListStudent(){this.exportStudentObjs=[{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_1"),phone:"0123456789",email:"nguyenvana@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:1,birthday:new Date(2001,1,23),gender:1,classroomId:0,parentId:0,facebookLink:"https://www.facebook.com/azotavn",schoolName:"Tr\u01b0\u1eddng THPT Azota"},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_2"),phone:"0123456790",email:"phamthib@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:2,birthday:new Date(2001,5,25),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_3"),phone:"0123456791",email:"C@Gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:3,birthday:new Date(2002,5,25),gender:1,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_4"),phone:"0112348478",email:"tranthid@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:4,birthday:new Date(2002,2,23),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_5"),phone:"0123456793",email:void 0,password:this.isBusinessDomain?"aBc@123":"",identificationNumber:void 0,birthday:void 0,gender:0,classroomId:0,parentId:0}]}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.studentObjs)}exportStudentListDone(n){let c=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(n,c)}changeNameDownloadFile(n){return this.commonService.createFileNameExportFile([n])+".xlsx"}handleUploadComplete(n){this.file=n,this.fileMb=this.getFileMB(this.file?.size??0)}getFileMB(n){return n&&n>0?(n/=1048576).toFixed(2):0}removeFile(n){n.stopPropagation(),this.fileSelect&&(this.fileSelect.nativeElement.value=null),this.file=null}showImportExcel(n){this.importExcel=n}confirmAction(){let n=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.importExcel)this.file&&(1==this.selected.value?this.waitDestroy(this.studentService.apiStudentSaveStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(c=>{1==c.success?c.data?.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_student_utils_add_success")):(this.errorStatusObj("lang_student_error_uploading_file_please_check_again",!0),this.errorImportFile=c.data?.errors??[],this.file=null):(this.btnCloseDialog(!1),this.errorStatusObj(c.message??"",!0))})):2==this.selected.value&&this.waitDestroy(this.studentService.apiStudentUpdateStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(c=>{1==c.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.btnCloseDialog(!1),this.errorStatusObj(c.message??"",!0))})));else if(this.studentForm.form.valid){let c={fullName:n.fullName,phone:n.phoneNumber,identificationNumber:n.identificationNumber?Number(n.identificationNumber):void 0,email:n.email,gender:Number(n.gender),birthday:n.birthday,classroomId:this.classroomObj.id??0,password:n.password,facebookLink:n.facebookLink,schoolName:n.school};this.waitDestroy(this.studentService.apiStudentSaveObjPost(c).subscribe(u=>{1==u.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.stopStatusObj(),this.msgError=u.message??"")}))}}btnCloseDialog(n){this.dialogRef.close(n)}selectedIndexChange(n){if(this.selected.setValue(n),this.showImportExcel(0!=n),this.file){let c=document.getElementById("button-remove-export");c&&c.click()}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){super.ngOnInit()}constructor(n,c,u,f){super(f,u),this.shareFileFlutterService=n,this.studentService=c,this.dialogRef=u,this.data=f,this.studentForm=new N.h,this.selected=new it.NI(0,{nonNullable:!0}),this.importExcel=!1,this.birthDay="",this.msgError="",this.maxDate=St.N.maxDateTimePicker,this.showPassword=!1,this.fileMb=0,this.errorImportFile=[],this.allUploadFileTypes=H.AZ,this.file=null,this.studentObjs=f.studentObjs,this.classroomObj=f.classroomObj}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(ue.g),t.Y36(ve.VT),t.Y36(zt.so,8),t.Y36(zt.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-student"]],viewQuery:function(n,c){if(1&n&&t.Gf(wn,5),2&n){let u;t.iGM(u=t.CRH())&&(c.fileSelect=u.first)}},features:[t._Bn([{provide:an.fM,useClass:T.WG,deps:[mn.Ad,T.o8]},{provide:an.ab,useFactory:J.fX,deps:[h.D]},{provide:Tn.o2,useValue:{floatLabel:"never"}}]),t.qOj],decls:23,vars:21,consts:[[1,"box","scroll-menu-test"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[3,"selectedIndex","selectedIndexChange"],[3,"label"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","add_student-g5-sbau_Ya",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","add_student-I6Q3FiuU2e",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"form-group"],["class","mt-4",4,"ngIf"],[1,"intro","mt-4"],["class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md",4,"ngIf","ngIfElse"],["exitsFile",""],[1,"mt-2","text-center"],["azt-track-service","add_teacher-pukPV3tL4","class","btn text-primary btn-transparent","target","_self",3,"click",4,"ngIf"],[1,"mt-4"],[1,"text-danger","font-medium","text-right"],[1,"overflow-auto","p-2","mt-2","border-slate-200","dark:border-darkmode-400","border","box",2,"height","120px","padding-right","5px"],["pointerEventsMethod","scrollbar",1,"w-full","h-full",3,"visibility","autoHeightDisabled"],["class","mb-2 text-xs",4,"ngFor","ngForOf"],[1,"mb-2","text-xs"],["class","font-medium",4,"ngIf"],["class","font-medium text-danger",4,"ngFor","ngForOf"],[1,"font-medium"],[1,"font-medium","text-danger"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[3,"fileType","emitFiles"],[1,"px-4","pb-8","mt-8","flex","items-center","justify-center","text-center","cursor-pointer","relative"],[1,"flex","items-center"],[1,"w-5","h-5","mr-2","text-success","inline-block"],["name","file-spreadsheet"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"matTooltip","click"],[1,"w-4","h-4","inline-block"],["name","trash-2"],["azt-track-service","add_teacher-pukPV3tL4","target","_self",1,"btn","text-primary","btn-transparent",3,"click"],[1,"w-5","h-5","mr-2","inline-block"],["name","download-cloud"],[1,"text-primary"],[1,"px-2"],[3,"studentForm"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"w-4","h-4","inline-block","mr-2"],[3,"objs","exportDataDone"]],template:function(n,c){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"mat-tab-group",3),t.NdJ("selectedIndexChange",function(f){return c.selectedIndexChange(f)}),t._UZ(5,"mat-tab",4),t.ALo(6,"mytranslate"),t._UZ(7,"mat-tab",4),t.ALo(8,"mytranslate"),t._UZ(9,"mat-tab",4),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div"),t.YNc(12,zo,9,5,"div",5),t.YNc(13,xo,3,2,"div",6),t.qZA()()()(),t.TgZ(14,"div",7)(15,"button",8),t.NdJ("click",function(){return c.btnCloseDialog(!1)}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"button",9),t.NdJ("click",function(){return c.confirmAction()}),t.YNc(19,vo,2,0,"span",10),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()(),t.YNc(22,Fo,1,1,"azt-export-excel-for-student-list",11)),2&n&&(t.xp6(4),t.Q6J("selectedIndex",c.selected.value),t.xp6(1),t.s9C("label",t.lcZ(6,11,"lang_student_utils_add_student")),t.xp6(2),t.s9C("label",t.lcZ(8,13,"lang_student_utils_quick_add_excel")),t.xp6(2),t.s9C("label",t.lcZ(10,15,"lang_student_utils_quick_add_phone_and_email")),t.xp6(3),t.Q6J("ngIf",0!=c.selected.value),t.xp6(1),t.Q6J("ngIf",0==c.selected.value),t.xp6(3),t.hij(" ",t.lcZ(17,17,"lang_cms_common_close_btn")," "),t.xp6(2),t.Q6J("disabled",c.statusObj.loading||c.studentForm.form.invalid&&!c.importExcel||null==c.file&&c.importExcel),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(21,19,"lang_cms_common_confirm_btn")," "),t.xp6(2),t.Q6J("ngIf",c.exportStudentObjs))},dependencies:[v.sg,v.O5,dn.uX,dn.SP,ot.gM,de.R,st.Q,kn.S,dt.n,uo.A,Bn.K,Ct.Nh5,po.KC,M.JV,M.Bo],styles:[".file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:aliceblue}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}.hover-cancel[_ngcontent-%COMP%]:hover{background-color:#ebe9e9}.hover-save[_ngcontent-%COMP%]:hover{background-color:#ff3526}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}.input-custom[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:3px;padding-left:12px;padding-top:10px}.block-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.block-text[_ngcontent-%COMP%]{width:60px;color:#757575!important;font-size:16px}.block-input[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:space-evenly}"]}),o})();var Jo=g(96573);function Hn(o,d){if(1&o&&(t.TgZ(0,"div",21)(1,"span",22),t._uU(2),t.ALo(3,"mytranslate"),t._UZ(4,"azt-see-more-content",23),t.qZA()()),2&o){const n=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_hoc_sinh"),":\xa0 "),t.xp6(2),t.Q6J("content",n.listStudentsNames)("maxLength",200)}}function we(o,d){1&o&&(t.TgZ(0,"span",24),t._UZ(1,"azt-loading-ui"),t.qZA())}let qo=(()=>{class o extends Vt.e{btnCloseDialog(n){this.dialogRef.close(n)}confirmDelete(){this.initStatusObj();let n=this.listStudentObjs.map(u=>u.id);this.waitDestroy(this.studentService.apiStudentDeleteObjsPost({classroomId:this.classroomObj.id,studentIds:n}).subscribe(u=>{1==u.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(u.message,!0),this.btnCloseDialog(!1))}))}constructor(n,c,u){super(u,c),this.studentService=n,this.dialogRef=c,this.data=u,this.listStudentsNames="",this.listStudentObjs=u.listStudentObjs,this.classroomObj=u.classroomObj,this.listStudentsNames=u.listStudentObjs.map(f=>f.fullName).join(", ")}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(ve.VT),t.Y36(zt.so,8),t.Y36(zt.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-delete-list-student"]],features:[t.qOj],decls:36,vars:20,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center","mb-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-danger"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],[1,"font-medium","text-danger"],[2,"text-transform","lowercase"],[1,"text-danger"],[1,"contentBoxName"],[3,"defaultHeight"],[1,"p-2","w-64","sm:w-full"],["class","text-slate-500 dark:text-slate-400 mb-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","delete_list_student-ixh0YFkn_",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","delete_list_student--8oV9RBQ9X",1,"btn","btn-danger",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-slate-500","dark:text-slate-400","mb-2"],[1,"font-medium"],[3,"content","maxLength"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,c){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.O4$(),t.TgZ(4,"svg",4),t._UZ(5,"path",5)(6,"path",6)(7,"path",7)(8,"line",8)(9,"line",9),t.qZA(),t.kcU(),t.TgZ(10,"span"),t._uU(11),t.ALo(12,"mytranslate"),t.TgZ(13,"span",10),t._uU(14),t.qZA(),t._uU(15," \xa0 "),t.TgZ(16,"span",11),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t._uU(19),t.ALo(20,"mytranslate"),t.TgZ(21,"span",12),t._uU(22),t.qZA(),t._uU(23," ? "),t.qZA()(),t.TgZ(24,"div",13)(25,"azt-mat-dialog-content",14)(26,"div",15),t.YNc(27,Hn,5,5,"div",16),t.qZA()()()()(),t.TgZ(28,"div",17)(29,"button",18),t.NdJ("click",function(){return c.btnCloseDialog(!1)}),t._uU(30),t.ALo(31,"mytranslate"),t.qZA(),t.TgZ(32,"button",19),t.NdJ("click",function(){return c.confirmDelete()}),t.YNc(33,we,2,0,"span",20),t._uU(34),t.ALo(35,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(11),t.hij(" ",t.lcZ(12,10,"lang_auto_ban_co_chac_chan_muon_xoa"),"\xa0 "),t.xp6(3),t.Oqu(c.data.listStudentObjs.length),t.xp6(3),t.Oqu(t.lcZ(18,12,"lang_auto_hoc_sinh")),t.xp6(2),t.hij(" ",t.lcZ(20,14,"lang_student_utils_delete_student_last"),":\xa0 "),t.xp6(3),t.Oqu(c.classroomObj.name),t.xp6(3),t.Q6J("defaultHeight",70),t.xp6(2),t.Q6J("ngIf",""!=c.listStudentsNames),t.xp6(3),t.hij(" ",t.lcZ(31,16,"lang_cms_common_close_btn")," "),t.xp6(3),t.Q6J("ngIf",c.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(35,18,"lang_cms_common_confirm_btn")," "))},dependencies:[v.O5,Jo.c,de.R,dt.n,M.JV],encapsulation:2}),o})();var $t=g(27573),He=g(5977),Ge=g(87325);function Gn(o,d){if(1&o&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_zalo_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==n.extraDataObj?null:n.extraDataObj.reApprovedZaloFullName)}}function Rn(o,d){if(1&o&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_so_dien_thoai_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==n.extraDataObj?null:n.extraDataObj.reApprovedPhone)}}function yn(o,d){if(1&o&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_email_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==n.extraDataObj?null:n.extraDataObj.reApprovedEmail)}}function un(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.TgZ(6,"span",9),t._uU(7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"span",10),t._uU(11),t.qZA(),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.YNc(14,Gn,5,4,"span",11),t.YNc(15,Rn,5,4,"span",11),t.YNc(16,yn,5,4,"span",11),t.TgZ(17,"div",12)(18,"div",13),t.NdJ("click",function(){const f=t.CHM(n).$implicit,S=t.oxw();return t.KtG(S.reApproveStudent(f.studentId,f.id))}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"div",14),t.NdJ("click",function(){const f=t.CHM(n).$implicit,S=t.oxw();return t.KtG(S.rejectApproveRequest(f.studentId,f.id))}),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()()()()}if(2&o){const n=d.$implicit;t.xp6(4),t.hij(" ",t.lcZ(5,10,"lang_student_utils_reques_notice_list_student"),"\xa0 "),t.xp6(3),t.Oqu(n.studentName),t.xp6(1),t.hij(" \xa0 ",t.lcZ(9,12,"lang_student_utils_reques_notice_list_class"),"\xa0 "),t.xp6(3),t.Oqu(n.classroomName),t.xp6(1),t.hij(" \xa0 ",t.lcZ(13,14,"lang_student_utils_reques_notice_list_dont_select_name"),". "),t.xp6(2),t.Q6J("ngIf",null==n.extraDataObj?null:n.extraDataObj.reApprovedZaloFullName),t.xp6(1),t.Q6J("ngIf",null==n.extraDataObj?null:n.extraDataObj.reApprovedPhone),t.xp6(1),t.Q6J("ngIf",null==n.extraDataObj?null:n.extraDataObj.reApprovedEmail),t.xp6(3),t.hij(" ",t.lcZ(20,16,"lang_student_utils_reques_notice_list_unlock_select_again")," "),t.xp6(3),t.Oqu(t.lcZ(23,18,"lang_button_skip"))}}let Ln=(()=>{class o extends Vt.e{reApproveStudent(n,c){this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(n??0).subscribe(u=>{1==u.success?(this.showSuccessSnack("lang_auto_mo_khoa_cho_hoc_sinh_thanh_cong"),this.noticeObjs=this.noticeObjs.filter(f=>f.id!=c),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(u.message??"",!0)}))}rejectApproveRequest(n,c){this.waitDestroy(this.studentService.apiStudentRejectMappingRequestGet(n??0).subscribe(u=>{1==u.success?(this.noticeObjs=this.noticeObjs.filter(f=>f.id!=c),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(u.message??"",!0)}))}btnCloseDialog(n){this.dialogRef.close(n)}constructor(n,c,u,f){super(f,u),this.studentService=n,this.noticeService=c,this.dialogRef=u,this.data=f,this.classroomObj=f.classroomObj,this.noticeObjs=f.noticeObjs}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(ve.VT),t.Y36(Ge.L$),t.Y36(zt.so,8),t.Y36(zt.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-re-approve-request"]],features:[t.qOj],decls:9,vars:4,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","scroll-menu-test"],[1,"p-3"],["class","ml-2 mb-2 mr-2 noticeobj",4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","request_notice_list-fcVrrBJYoFq",1,"btn","w-24","btn-secondary",3,"click"],[1,"ml-2","mb-2","mr-2","noticeobj"],[1,"pt-1","pb-1"],[1,"notify__content"],[1,"notify__name",2,"word-break","break-word"],[1,"notify__name"],["class","block",4,"ngIf"],[1,"mt-2","flex","justify-end"],["azt-track-service","request_notice_list-LmGuEaUfXP2",1,"notify__btn","bg-info","clickable",3,"click"],["azt-track-service","request_notice_list-K5qVGrBSxAh",1,"notify__btn","ml-3","clickable",3,"click"],[1,"block"]],template:function(n,c){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2),t.YNc(4,un,24,20,"div",3),t.qZA()()(),t.TgZ(5,"div",4)(6,"button",5),t.NdJ("click",function(){return c.btnCloseDialog(!1)}),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("ngForOf",c.noticeObjs),t.xp6(3),t.hij(" ",t.lcZ(8,2,"lang_cms_common_close_btn")," "))},dependencies:[v.sg,v.O5,de.R,M.JV],styles:[".noticeobj[_ngcontent-%COMP%]{background-color:#ecebeb;border-radius:5px;border:1px solid #e5e5e5}.notify__name[_ngcontent-%COMP%]{font-weight:500}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px 15px}.notify__btn[_ngcontent-%COMP%]{text-align:center;border-radius:5px;padding:5px;color:#000;font-size:14px;background-color:#fff;border:1px solid #cecdcd;width:-moz-fit-content;width:fit-content}.bg-info[_ngcontent-%COMP%]{color:#fff!important;border:1px solid #00a7d0!important;background-color:#00a7d0}.note[_ngcontent-%COMP%]{font-style:italic;font-size:15px;font-weight:600}"]}),o})();var En=g(73445),Co=g(33328),Re=g(67679);function Vn(o,d){if(1&o&&(t.TgZ(0,"div",5),t._UZ(1,"input",6),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("value",n.data.student.phone)}}function To(o,d){if(1&o&&(t.TgZ(0,"div",5),t._UZ(1,"input",18),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("value",n.data.student.email)}}function Dn(o,d){1&o&&(t.TgZ(0,"div",19),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function ko(o,d){1&o&&(t.TgZ(0,"div",19)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function Pn(o,d){1&o&&(t.TgZ(0,"span",20),t._UZ(1,"azt-loading-ui"),t.qZA())}let Zn=(()=>{class o extends Vt.e{confirmCreate(){this.initStatusObj(),this.studentService.apiStudentCreateStudentUserPost({id:this.data.student.id,password:this.studentForm.form.controls.password?.value??""}).subscribe({next:c=>{this.successStatusObj("lang_business_create_account_successfully",!0),this.dialogRef.close(!0)},error:c=>{this.errorStatusObj(c.error.message??"lang_business_create_account_unsuccessfully",!0)}})}btnCloseDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit(),this.studentForm.form=new it.cw({fullName:new it.NI(this.data.student.fullName??"",{nonNullable:!0,validators:[it.kI.required]}),gender:new it.NI(this.data.student.gender,{nonNullable:!0}),birthday:new it.NI(this.data.student.birthday,{nonNullable:!0}),email:new it.NI(this.data.student.email??"",{nonNullable:!0,validators:[Co.z.isInvalidEmail,it.kI.email,it.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new it.NI(this.data.student.phone??"",{nonNullable:!0,validators:[it.kI.required,it.kI.pattern(/^[0-9\-]*$/),it.kI.minLength(10),it.kI.maxLength(10)]}),identificationNumber:new it.NI(this.commonService.padLeadingZeros(this.data.student.identificationNumber??void 0,6),{nonNullable:!0,validators:[it.kI.min(1),it.kI.maxLength(6),it.kI.pattern("^[0-9]*$")]}),facebookLink:new it.NI(this.data.student?.moreInfo?.facebookLink,{nonNullable:!0}),school:new it.NI(this.data.student?.moreInfo?.schoolName,{nonNullable:!0}),password:new it.NI("",{nonNullable:!0,validators:[it.kI.required,it.kI.minLength(6)]})})}constructor(n,c,u){super(u,c),this.studentService=n,this.dialogRef=c,this.data=u,this.showPassword=!1,this.studentForm=new N.h}ngOnDestroy(){super.ngOnDestroy()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(ve.VT),t.Y36(zt.so,8),t.Y36(zt.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["azt-create-user-business"]],features:[t._Bn([{provide:an.fM,useClass:T.WG,deps:[mn.Ad,En.o8]},{provide:an.ab,useFactory:J.fX,deps:[h.D]}]),t.qOj],decls:29,vars:22,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"formGroup"],[1,"mt-3"],["autocomplete","new-phone","type","text","disabled","",1,"form-control",3,"value"],["class","mt-3",4,"ngIf"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-forn-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"w-4","h-4","inline-block"],[3,"name"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],["type","text","autocomplete","new-email","disabled","",1,"form-control",3,"value"],[1,"text-xs","text-danger","mt-1"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,c){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"form",4)(8,"div",5),t._UZ(9,"input",6),t.qZA(),t.YNc(10,Vn,2,1,"div",7),t.YNc(11,To,2,1,"div",7),t.TgZ(12,"div",5)(13,"div",8),t._UZ(14,"input",9),t.ALo(15,"mytranslate"),t.TgZ(16,"button",10),t.NdJ("click",function(){return c.showPassword=!c.showPassword}),t.TgZ(17,"span",11),t._UZ(18,"lucide-icon",12),t.qZA()()(),t.YNc(19,Dn,3,3,"div",13),t.YNc(20,ko,4,3,"div",13),t.qZA()()()()(),t.TgZ(21,"div",14)(22,"button",15),t.NdJ("click",function(){return c.btnCloseDialog()}),t._uU(23),t.ALo(24,"mytranslate"),t.qZA(),t.TgZ(25,"button",16),t.NdJ("click",function(){return c.confirmCreate()}),t.YNc(26,Pn,2,0,"span",17),t._uU(27),t.ALo(28,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,14,"lang_business_create_account")," "),t.xp6(2),t.Q6J("formGroup",c.studentForm.form),t.xp6(2),t.Q6J("value",c.data.student.fullName),t.xp6(1),t.Q6J("ngIf",c.data.student.phone),t.xp6(1),t.Q6J("ngIf",c.data.student.email),t.xp6(3),t.s9C("placeholder",t.lcZ(15,16,"lang_auto_mat_khau")),t.Q6J("type",c.showPassword?"text":"password"),t.xp6(4),t.s9C("name",c.showPassword?"eye":"eye-off"),t.xp6(1),t.Q6J("ngIf",null==c.studentForm.form.controls.password||null==c.studentForm.form.controls.password.errors?null:c.studentForm.form.controls.password.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==c.studentForm.form.controls.password||null==c.studentForm.form.controls.password.errors?null:c.studentForm.form.controls.password.errors.required),t.xp6(3),t.hij(" ",t.lcZ(24,18,"lang_auto_dong")," "),t.xp6(2),t.Q6J("disabled",(null==c.studentForm.form.controls.password?null:c.studentForm.form.controls.password.invalid)||c.statusObj.loading),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(28,20,"lang_auto_luu")," "))},dependencies:[v.O5,it._Y,it.Fj,it.JJ,it.JL,it.sg,it.u,Re.M,de.R,dt.n,Ct.Nh5,M.JV],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]}),o})();var An=g(88131),sn=g(38228),pn=g(68719),wo=g(46558),Qo=g(94690),rn=g(7289),Oo=g(27161),Bo=g(45468);let me=(()=>{class o{constructor(n,c,u,f,S,D){this.commonService=n,this.examPageResultService=c,this.permissionService=u,this.globalService=f,this.answerTypeService=S,this.homeworkExamService=D}getTestedAllResultByClassroomId(n,c,u,f){return this.globalService.startIntervalFunc(n),this.getTestedOfExamResultByClassroomId(n,c,"all",u,f)}getTestedOfExamResultByClassroomId(n,c,u,f,S){return new Nn.y(D=>{this.examPageResultService.apiExamPageResultGetObjV2Get(c).subscribe($=>{if(1==$.success){let ut=$.data?.examObj,Qt=this.hasEssay($.data?.examQuestionObjs??[]),Pe=$.data?.classroomWithAvatarAndStudentObjs??new Array;this.permissionService.hasViewExamPermission("exam",ut)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",ut)?this.getAllExamResultObjs(n,[],c,"",Te=>{if(Te.hasOwnProperty("success")&&1==Te.success){let _o=this.mergeStudentWithAvatar(Te.studentWithResultObjs??[]),Qi={};_o?.forEach(mo=>{let Xs=mo.parentId??"0";Qi.hasOwnProperty(Xs)||(Qi[Xs]=mo.examResultObjs??[])});let $s=S;if(this.homeworkExamService.mustInClassroom(ut)&&Pe.length>0)for(let mo=0;mo<Pe.length;mo++)if(Pe[mo].classroomObj?.id==f){let oe=Pe[mo].studentObjs??[];if(oe.length>0)for(let ie=0;ie<oe.length;ie++){let or=oe[ie].parentId??"0";Qi.hasOwnProperty(or)?(Array.isArray(oe[ie].examResultObjs)||(oe[ie].examResultObjs=[]),oe[ie].examResultObjs=this.findExamResultOfStudent(oe[ie].examResultObjs?.concat(Qi[or])??[],oe[ie].id??"0")):oe[ie].examResultObjs=this.findExamResultOfStudent(oe[ie].examResultObjs??[],oe[ie].id??"0");let ir=this.filterExamResultByType(oe[ie].examResultObjs??[],"first"),ar=this.filterExamResultByType(oe[ie].examResultObjs??[],"last"),sr=this.filterExamResultByType(oe[ie].examResultObjs??[],"highest");$s.forEach(Po=>{if(Po.dataExam||(Po.dataExam=[]),Po.parentId==oe[ie].parentId||Po.id.toString()==oe[ie].id){let Bi=ir.hasOwnProperty(oe[ie].parentId??0)?ir[oe[ie].parentId??0]:void 0,Yi=ar.hasOwnProperty(oe[ie].parentId??0)?ar[oe[ie].parentId??0]:void 0,rr=sr.hasOwnProperty(oe[ie].parentId??0)?sr[oe[ie].parentId??0]:void 0,lr={id:ut?.id??0,name:ut?.name??"",firstPoint:Bi?this.checkMarkStatus(Bi,Qt):void 0,lastPoint:Yi?this.checkMarkStatus(Yi,Qt):void 0,highestPoint:rr?this.checkMarkStatus(rr,Qt):void 0};Po.dataExam.push(lr)}Po.dataExam.sort((Bi,Yi)=>(Bi.id??0)-(Yi.id??0))},$s)}break}D.next({status:200,success:1,data:$s,message:"successful"}),D.complete()}else D.next({status:Te.code,success:0,data:S,message:Te.message??""}),D.complete()}):(D.next({status:200,success:1,data:S,message:"successful"}),D.complete())}else D.next({status:$.code,success:0,data:S,message:$.message??""}),D.complete()})})}getAllExamResultObjs(n,c,u,f,S){this.examPageResultService.apiExamPageResultGetObjsV2Get(u,"export",f).subscribe(D=>{1==D.success?(D.data?.objs&&c.push(...D.data.objs),D.data?.nextPage?this.globalService.isStopIntervalFunc(n)?S({studentWithResultObjs:c,success:1}):setTimeout(()=>{this.getAllExamResultObjs(n,c,u,D.data?.nextPage??"",S)},300):S({studentWithResultObjs:c,success:1})):S({code:D.code,studentWithResultObjs:[],success:0,message:D.message??""})})}filterExamResultOnTest(n,c,u){var f={};return n.forEach(S=>{var D=this.commonService.myClone(S)??{};if(D.testStatus)f[D.userId??0]=D.testStatus;else if(D.startedTest&&u)if(c.endTime){var $=Math.floor(new Date(c.endTime).getTime()/1e3);f[D.userId??0]=u<=$+60*(c.minutes??0)+600?0:-1}else{var ut=D.startedTest?Math.floor(new Date(D.startedTest).getTime()/1e3):0;f[D.userId??0]=u<=ut+86400?0:-1}else f[D.userId??0]=0}),f}mergeStudentWithAvatar(n){var c=[];return n.forEach(u=>{var f=c.filter(D=>D.parentId==u.parentId);if(f&&0!=f.length)for(var S=0;S<c.length;S++)c[S].parentId==u.parentId&&(c[S].examResultObjs=c[S].examResultObjs?.concat(u.examResultObjs??[]));else c.push(u)}),c}findExamResultOfStudent(n,c){var u=[];return n.forEach(f=>{(f.studentId==c||null==f.studentId)&&u.push(f)}),u}createStudentWithResult(n,c,u){return{id:n.id,userId:n.parentId,studentId:n.id,identificationNumber:c.examResultStatisticObj?.offlineMarkInfoObj?.studentCode??0,offlineMixQuestionHashId:c.examResultStatisticObj?.offlineMarkInfoObj?.offlineMixquestionHashId??0,gender:n.gender,fullName:n.fullName,avatar:n.avatar,birthday:n.birthday,mark:c.hasOwnProperty("mark")?c.mark:null,confirmedAt:c.hasOwnProperty("confirmedAt")?c.confirmedAt:null,startedTest:c.hasOwnProperty("startedTest")?c.startedTest:null,createdAt:c.hasOwnProperty("createdAt")?c.createdAt:null,status:u,totalExamResultObjs:0,checkBoxGroupControl:new it.cw({isShow:new it.NI(!1,{nonNullable:!0}),selectedCheckbox:new it.NI(!1,{nonNullable:!0})})}}filterExamResultByType(n,c){var u={};if(n.length>1)n.forEach((S,D)=>{var $=this.commonService.myClone(S);S.testStatus&&($.resultId=$.id,$.indexTest=D,"last"==c&&(u[$.userId??0]=$),"first"==c&&(u.hasOwnProperty($.userId??0)||(u[$.userId??0]=$)),"highest"==c)&&(u.hasOwnProperty($.userId??0)?(u[$.userId??0].mark??-1)<=($.mark??-1)&&(u[$.userId??0]=$):u[$.userId??0]=$)});else{var f=this.commonService.myClone(n[0]??{});f.resultId=f.testStatus?f.id:0,f.indexTest=0,u[f.userId??0]=f}return u}hasEssay(n){let c=!1;for(let u=0;u<n.length;u++)if(this.answerTypeService.isEssayAnswer(n[u])){c=!0;break}return c}checkMarkStatus(n,c){return c?1==n.testStatus?n.confirmedAt?n.mark:-1:void 0:1==n.testStatus?n.mark:void 0}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(wo.z),t.LFG(rt.DR),t.LFG(Qo.j),t.LFG(rn.q),t.LFG(Oo.i),t.LFG(Bo.v))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var gn=g(30617),hn=g(85904),fn=g(97931),yo=g(76024),Zo=g(46504);const x=["parent"];function E(o,d){if(1&o&&(t.TgZ(0,"div",10),t._UZ(1,"azt-loading-effect",11),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("currentStatusObj",n.statusObj)}}function p(o,d){if(1&o&&t._UZ(0,"azt-download-qr-code",30),2&o){const n=t.oxw(2);t.Q6J("fileName",n.convertNameForQR())("linkUrl",n.copyLinkToClipboard())("showLink",!n.isMobileDevice)}}function b(o,d){if(1&o&&(t.TgZ(0,"button",33)(1,"span",34),t._UZ(2,"lucide-icon",35),t.qZA()()),2&o){t.oxw(3);const n=t.MAs(5);t.Q6J("matMenuTriggerFor",n)}}function y(o,d){if(1&o&&(t.TgZ(0,"div",31),t.YNc(1,b,3,1,"button",32),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null!=(null==n.classroomObj?null:n.classroomObj.permissionObj))}}function j(o,d){if(1&o&&(t.TgZ(0,"span",49),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const n=t.oxw(3);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_da_chon")," ",n.totalCheckboxSelected,"")}}function F(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3);return t.KtG(u.deleteListStudentDialog())}),t.O4$(),t.TgZ(1,"svg",51),t._UZ(2,"path",52)(3,"path",53)(4,"path",54)(5,"line",55)(6,"line",56),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()}2&o&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_xoa")," "))}function at(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3);return t.KtG(u.exportListStudent())}),t.TgZ(1,"span",58),t._UZ(2,"lucide-icon",59),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_student_utils_export_list_student")," "))}function kt(o,d){1&o&&(t.TgZ(0,"span",58),t._UZ(1,"azt-loading-ui"),t.qZA())}function Lt(o,d){1&o&&(t.TgZ(0,"span",58),t._UZ(1,"lucide-icon",59),t.qZA())}function Ut(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3);return t.KtG(u.exportExcelForScoreOfClassroom())}),t.YNc(1,kt,2,0,"span",61),t.YNc(2,Lt,2,0,"span",61),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&o){const n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",n.loadingExport),t.xp6(1),t.Q6J("ngIf",!n.loadingExport),t.xp6(1),t.hij(" ",t.lcZ(4,3,"lang_auto_xuat_bang_diem")," ")}}function Oe(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"button",62),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3);return t.KtG(u.addStudentDialog(u.classroomObj))}),t.TgZ(1,"span",63),t._UZ(2,"lucide-icon",64),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_them_hoc_sinh")," "))}function Wn(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"button",65),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3);return t.KtG(u.openDialogAutoNumbering())}),t.TgZ(1,"span",63),t._UZ(2,"lucide-icon",66),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_danh_so_bao_danh")," "))}function Ve(o,d){if(1&o&&(t.TgZ(0,"button",67)(1,"span",68),t._UZ(2,"lucide-icon",35),t.qZA()()),2&o){t.oxw(3);const n=t.MAs(5);t.Q6J("matMenuTriggerFor",n)}}function Yo(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",36)(1,"div",37)(2,"div",38)(3,"azt-search-box",39),t.NdJ("onSearch",function(u){t.CHM(n);const f=t.oxw(2);return t.KtG(f.onSearchBox(u.searchObj))}),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",40),t.YNc(6,j,3,4,"span",41),t.YNc(7,F,9,3,"button",42),t.YNc(8,at,5,3,"button",43),t.ALo(9,"viewPermission"),t.YNc(10,Ut,5,5,"button",44),t.ALo(11,"viewPermission"),t.YNc(12,Oe,5,3,"button",45),t.ALo(13,"editPermission"),t.YNc(14,Wn,5,3,"button",46),t.ALo(15,"editPermission"),t.TgZ(16,"div",47),t.YNc(17,Ve,3,1,"button",48),t.qZA()()()()}if(2&o){const n=t.oxw(2);t.xp6(3),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(4,9,"lang_core_tim_theo_ten_phone_email")),t.xp6(3),t.Q6J("ngIf",n.totalCheckboxSelected>0&&!(n.isMobileDevice||n.isMobileWebView)),t.xp6(1),t.Q6J("ngIf",n.totalCheckboxSelected>0&&!(n.isMobileDevice||n.isMobileWebView)),t.xp6(1),t.Q6J("ngIf",t.xi3(9,11,n.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(11,14,n.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(13,17,n.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(15,20,n.classroomObj,"student")),t.xp6(3),t.Q6J("ngIf",null!=(null==n.classroomObj?null:n.classroomObj.permissionObj))}}function xn(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"input",94),t.NdJ("change",function(){t.CHM(n);const u=t.oxw(4);return t.KtG(u.selectSingleStudent())}),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.Q6J("formControl",n.checked)}}function Kn(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"mat-icon",100),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2),f=u.index,S=u.$implicit,D=t.oxw(3);return t.KtG(D.onPositionChange("up",f-1,S.id,null==D.classroomObj?null:D.classroomObj.id))}),t._uU(1," keyboard_arrow_up "),t.qZA()}}function $n(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"mat-icon",101),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2),f=u.index,S=u.$implicit,D=t.oxw(3);return t.KtG(D.onPositionChange("down",f+1,S.id,null==D.classroomObj?null:D.classroomObj.id))}),t._uU(1," keyboard_arrow_down "),t.qZA()}}function Hi(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",95),t.YNc(1,Kn,2,0,"mat-icon",96),t.TgZ(2,"input",97,98),t.NdJ("keyup.enter",function(){t.CHM(n);const u=t.MAs(3),f=t.oxw(),S=f.index,D=f.$implicit,$=t.oxw(3);return t.KtG($.onPositionChange(u.value,S,D.id,null==$.classroomObj?null:$.classroomObj.id))}),t.qZA(),t.YNc(4,$n,2,0,"mat-icon",99),t.qZA()}if(2&o){const n=t.oxw().index,c=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0!=n),t.xp6(1),t.s9C("value",n+1),t.xp6(2),t.Q6J("ngIf",c.listStudents&&n!=c.listStudents.length-1)}}function Gi(o,d){if(1&o&&(t.TgZ(0,"div",102),t._uU(1),t.qZA()),2&o){const n=t.oxw().index;t.xp6(1),t.hij(" ",n+1," ")}}function Ri(o,d){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.lnq(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework," ",t.lcZ(2,3,"lang_student_classroom_list_detail_homework")," ")}}function Vi(o,d){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.lnq(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam," ",t.lcZ(2,3,"lang_student_classroom_list_detail_exam")," ")}}function Ho(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"button",103),t.NdJ("click",function(){t.CHM(n);const u=t.oxw().$implicit,f=t.oxw(3);return t.KtG(f.editStudentDialog(u))}),t.O4$(),t.TgZ(1,"svg",104),t._UZ(2,"path",105)(3,"path",106),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_sua")," "))}function Wi(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"button",107),t.NdJ("click",function(){t.CHM(n);const u=t.oxw().$implicit,f=t.oxw(3);return t.KtG(f.deleteStudentDialog(u))}),t.TgZ(1,"span",108),t._UZ(2,"lucide-icon",109),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_button_delete")," "))}function Ki(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"button",110),t.NdJ("click",function(){t.CHM(n);const u=t.oxw().$implicit,f=t.oxw(3);return t.KtG(f.openDialogResetPass(u))}),t.O4$(),t.TgZ(1,"svg",111),t._UZ(2,"path",112)(3,"path",113)(4,"path",114)(5,"path",115)(6,"path",116),t.qZA(),t.kcU(),t.TgZ(7,"span",117),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&o&&(t.xp6(8),t.Oqu(t.lcZ(9,1,"lang_core_dat_lai_mat_khau")))}function $i(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"button",118),t.NdJ("click",function(){t.CHM(n);const u=t.oxw().$implicit,f=t.oxw(3);return t.KtG(f.openDialogCreateUser(u))}),t.O4$(),t.TgZ(1,"svg",119),t._UZ(2,"path",120)(3,"circle",121)(4,"line",122)(5,"line",123),t.qZA(),t.kcU(),t.TgZ(6,"span",117),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&o&&(t.xp6(7),t.Oqu(t.lcZ(8,1,"lang_business_create_account")))}const ri=function(o){return{opacity:o}};function Xi(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"tr",79)(1,"td",80),t.YNc(2,xn,1,1,"input",81),t.qZA(),t.TgZ(3,"td",82),t.YNc(4,Hi,5,3,"div",83),t.ALo(5,"editPermission"),t.YNc(6,Gi,2,1,"ng-template",null,84,t.W1O),t.qZA(),t.TgZ(8,"td",85),t.NdJ("click",function(){const f=t.CHM(n).$implicit,S=t.oxw(3);return t.KtG(S.goToProfile(f.classroomId,f.id))}),t._UZ(9,"azt-student-info-box",86),t.qZA(),t.TgZ(10,"td",87),t._uU(11),t.ALo(12,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(13,"td",88),t.YNc(14,Ri,3,5,"span",7),t.qZA(),t.TgZ(15,"td",88),t.YNc(16,Vi,3,5,"span",7),t.qZA(),t.TgZ(17,"td",88)(18,"div",89),t.YNc(19,Ho,6,3,"button",90),t.ALo(20,"editPermission"),t.YNc(21,Wi,5,3,"button",91),t.ALo(22,"editPermission"),t.YNc(23,Ki,10,3,"button",92),t.ALo(24,"editPermission"),t.YNc(25,$i,9,3,"button",93),t.ALo(26,"editPermission"),t.qZA()()()}if(2&o){const n=d.$implicit,c=t.MAs(7),u=t.oxw(3);t.Q6J("ngStyle",t.VKq(42,ri,null!=n.checked&&n.checked.value?"0.6":"1")),t.xp6(2),t.Q6J("ngIf",void 0!==n.checked),t.xp6(2),t.Q6J("ngIf",1==(null==u.classroomObj?null:u.classroomObj.sortType)&&t.xi3(5,24,u.classroomObj,"student"))("ngIfElse",c),t.xp6(5),t.Q6J("name",n.fullName)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("avatar",n.avatar)("identificationNumber",n.identificationNumber)("gender",n.gender)("hasUser",1==n.isVerified)("schoolName",n.schoolName)("classrooms",null==n.moreInfo?null:n.moreInfo.classrooms)("joinedAt",null==n.moreInfo?null:n.moreInfo.joinedAt)("phone",n.phone)("email",n.email),t.xp6(2),t.Oqu(n.identificationNumber?t.xi3(12,27,n.identificationNumber,6):""),t.xp6(3),t.Q6J("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework)),t.xp6(2),t.Q6J("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam)),t.xp6(3),t.Q6J("ngIf",t.xi3(20,30,u.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(22,33,u.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(24,36,u.classroomObj,"student")&&u.isBusinessDomain&&n.parentId),t.xp6(2),t.Q6J("ngIf",t.xi3(26,39,u.classroomObj,"student")&&u.isBusinessDomain&&!n.parentId)}}const Xn=function(){return["fullName","phone","email"]};function li(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",69)(1,"drag-scroll")(2,"table",70)(3,"thead")(4,"tr",71)(5,"th")(6,"input",72),t.NdJ("change",function(){t.CHM(n);const u=t.oxw(2);return t.KtG(u.selectAllStudentsObjs())}),t.qZA()(),t.TgZ(7,"th",73)(8,"div",74),t.ALo(9,"mytranslate"),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"th",75),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"th",76),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"th",77),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"th",77),t._uU(22),t.ALo(23,"mytranslate"),t.qZA(),t.TgZ(24,"th",77),t._uU(25),t.ALo(26,"mytranslate"),t.qZA()()(),t.TgZ(27,"tbody"),t.YNc(28,Xi,27,44,"tr",78),t.ALo(29,"appFilter"),t.qZA()()()()}if(2&o){const n=t.oxw(2);t.xp6(6),t.Q6J("formControl",n.isSelectAllFormControl),t.xp6(2),t.hYB("matTooltip","",t.lcZ(9,13,"lang_student_classroom_list_detail_quantity"),": ",null!=n.classroomObj&&n.classroomObj.countStudents?null==n.classroomObj?null:n.classroomObj.countStudents:0,""),t.Q6J("matTooltipDisabled",n.isMobileDevice),t.xp6(2),t.lnq(" ",t.lcZ(11,15,n.isMobileDevice?"":"lang_student_classroom_list_detail_quantity"),"",n.isMobileDevice?"":": ","",null!=n.classroomObj&&n.classroomObj.countStudents?null==n.classroomObj?null:n.classroomObj.countStudents:0," "),t.xp6(3),t.Oqu(t.lcZ(14,17,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(17,19,"lang_auto_so_bao_danh")),t.xp6(3),t.hij(" ",t.lcZ(20,21,"lang_auto_bai_tap_da_lam")," "),t.xp6(3),t.hij(" ",t.lcZ(23,23,"lang_auto_de_thi_da_lam")," "),t.xp6(3),t.Oqu(t.lcZ(26,25,"lang_auto_hanh_dong")),t.xp6(3),t.Q6J("ngForOf",t.Dn7(29,27,n.listStudents,n.searchContentObj.searchContent,t.DdM(31,Xn)))}}function ta(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"button",135),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3);return t.KtG(u.addStudentDialog(u.classroomObj))}),t.TgZ(1,"span",63),t._UZ(2,"lucide-icon",64),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_them_hoc_sinh")," "))}function ea(o,d){if(1&o&&(t.TgZ(0,"div",124)(1,"div",125),t.O4$(),t.TgZ(2,"svg",126),t._UZ(3,"path",127)(4,"path",128)(5,"path",129)(6,"path",130)(7,"path",131)(8,"path",132),t.qZA(),t.kcU(),t.TgZ(9,"div",133),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.YNc(12,ta,5,3,"button",134),t.ALo(13,"editPermission"),t.qZA()()),2&o){const n=t.oxw(2);let c;t.xp6(10),t.hij(" ",t.lcZ(11,2,"lang_student_classroom_list_detail_not_student")," "),t.xp6(2),t.Q6J("ngIf",t.xi3(13,4,n.classroomObj,"student")&&0==(null!==(c=null==n.listStudents?null:n.listStudents.length)&&void 0!==c?c:0))}}function na(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div")(1,"input",72),t.NdJ("change",function(){t.CHM(n);const u=t.oxw(2);return t.KtG(u.selectAllStudentsObjs())}),t.qZA(),t.TgZ(2,"span",136),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()}if(2&o){const n=t.oxw(2);t.xp6(1),t.Q6J("formControl",n.isSelectAllFormControl),t.xp6(2),t.Oqu(t.lcZ(4,2,"lang_auto_tat_ca"))}}const Go=function(o){return{"w-full":o}};function oa(o,d){if(1&o&&(t.TgZ(0,"span",137),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(5,Go,n.isMobileDevice||n.isMobileWebView)),t.xp6(1),t.AsE("",t.lcZ(2,3,"lang_auto_da_chon")," ",n.totalCheckboxSelected,"")}}function ci(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"button",138),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2);return t.KtG(u.deleteListStudentDialog())}),t.O4$(),t.TgZ(1,"svg",51),t._UZ(2,"path",52)(3,"path",53)(4,"path",54)(5,"line",55)(6,"line",56),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()}2&o&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_xoa")," "))}function ia(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"input",94),t.NdJ("change",function(){t.CHM(n);const u=t.oxw(3);return t.KtG(u.selectSingleStudent())}),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.Q6J("formControl",n.checked)}}function aa(o,d){if(1&o&&(t.TgZ(0,"a",154),t.ALo(1,"mytranslate"),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"formatStudentCodeToNumber"),t.ALo(6,"mytranslate"),t._uU(7),t.qZA()),2&o){const n=t.oxw().$implicit;t.pbR("matTooltip","\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(1,7,"lang_first_and_last_name"),": ",n.fullName,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(2,9,"lang_number_phone"),": ",n.phone?n.phone:t.lcZ(3,11,"lang_not_data"),"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(4,13,"lang_auto_so_bao_danh"),": ",n.identificationNumber?t.xi3(5,15,n.identificationNumber,6):t.lcZ(6,18,"lang_not_data"),""),t.xp6(7),t.hij(" ",n.fullName," \xa0 ")}}function sa(o,d){if(1&o&&(t.TgZ(0,"div",155),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.phone," ")}}function ra(o,d){if(1&o&&(t.TgZ(0,"div",156),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.s9C("matTooltip",n.email),t.xp6(1),t.hij(" ",n.email," ")}}function la(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"a",165),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2).$implicit,f=t.oxw(2);return t.KtG(f.editStudentDialog(u))}),t.O4$(),t.TgZ(1,"svg",104),t._UZ(2,"path",105)(3,"path",106),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&o&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_sua")," "))}function ca(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"a",166),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2).$implicit,f=t.oxw(2);return t.KtG(f.deleteStudentDialog(u))}),t.TgZ(1,"span",108),t._UZ(2,"lucide-icon",109),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_button_delete")," "))}function _a(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"a",168),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3).$implicit,f=t.oxw(2);return t.KtG(f.openDialogResetPass(u))}),t.O4$(),t.TgZ(1,"svg",111),t._UZ(2,"path",112)(3,"path",113)(4,"path",114)(5,"path",115)(6,"path",116),t.qZA(),t.kcU(),t.TgZ(7,"span",117),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&o&&(t.xp6(8),t.Oqu(t.lcZ(9,1,"lang_core_dat_lai_mat_khau")))}function ma(o,d){if(1&o&&(t.TgZ(0,"li"),t.YNc(1,_a,10,3,"a",167),t.ALo(2,"editPermission"),t.qZA()),2&o){const n=t.oxw(2).$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,c.classroomObj,"student")&&n.parentId)}}function da(o,d){if(1&o&&(t.TgZ(0,"div",157)(1,"a",158)(2,"span",159),t._UZ(3,"lucide-icon",160),t.qZA()(),t.TgZ(4,"mat-menu",null,161)(6,"div",162)(7,"ul",6)(8,"li"),t.YNc(9,la,6,3,"a",163),t.ALo(10,"editPermission"),t.qZA(),t.TgZ(11,"li"),t.YNc(12,ca,5,3,"a",164),t.ALo(13,"editPermission"),t.qZA(),t.YNc(14,ma,3,4,"li",7),t.qZA()()()()),2&o){const n=t.MAs(5),c=t.oxw(3);t.xp6(1),t.Q6J("matMenuTriggerFor",n),t.xp6(8),t.Q6J("ngIf",t.xi3(10,4,c.classroomObj,"student")),t.xp6(3),t.Q6J("ngIf",t.xi3(13,7,c.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",c.isBusinessDomain)}}function ua(o,d){1&o&&(t.TgZ(0,"div",174)(1,"span",108),t._UZ(2,"lucide-icon",175),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_co_tai_khoan")," "))}function pa(o,d){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const n=t.oxw(2).$implicit;t.xp6(1),t.lnq(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework," ",t.lcZ(2,3,"lang_student_classroom_list_detail_homework")," ")}}function ga(o,d){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const n=t.oxw(2).$implicit;t.xp6(1),t.lnq(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam," ",t.lcZ(2,3,"lang_student_classroom_list_detail_exam")," ")}}function _i(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"mat-icon",180),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3),f=u.index,S=u.$implicit,D=t.oxw(2);return t.KtG(D.onPositionChange("up",f-1,S.id,null==D.classroomObj?null:D.classroomObj.id))}),t._uU(1," keyboard_arrow_up "),t.qZA()}}function ha(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"mat-icon",181),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3),f=u.index,S=u.$implicit,D=t.oxw(2);return t.KtG(D.onPositionChange("down",f+1,S.id,null==D.classroomObj?null:D.classroomObj.id))}),t._uU(1," keyboard_arrow_down "),t.qZA()}}function De(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",169)(1,"div",176)(2,"div",177),t.YNc(3,_i,2,0,"mat-icon",178),t.TgZ(4,"input",97,98),t.NdJ("keyup.enter",function(){t.CHM(n);const u=t.MAs(5),f=t.oxw(2),S=f.index,D=f.$implicit,$=t.oxw(2);return t.KtG($.onPositionChange(u.value,S,D.id,null==$.classroomObj?null:$.classroomObj.id))}),t.qZA(),t.YNc(6,ha,2,0,"mat-icon",179),t.qZA()()()}if(2&o){const n=t.oxw(2).index,c=t.oxw(2);t.xp6(3),t.Q6J("ngIf",0!=n),t.xp6(1),t.s9C("value",n+1),t.xp6(2),t.Q6J("ngIf",c.listStudents&&n!=c.listStudents.length-1)}}function zn(o,d){if(1&o&&(t.TgZ(0,"div")(1,"div",169)(2,"div",170),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",171),t._uU(6),t.ALo(7,"formatStudentCodeToNumber"),t.qZA()(),t.TgZ(8,"div",169)(9,"div",170),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"div",171),t._uU(13),t.ALo(14,"mytranslate"),t.ALo(15,"mytranslate"),t.qZA()(),t.TgZ(16,"div",169)(17,"div",170),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"div",171),t._uU(21),t.ALo(22,"formatOnlyDateByUserUnitPipe"),t.qZA()(),t.TgZ(23,"div",169)(24,"div",170),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"div",171),t.YNc(28,ua,5,3,"div",172),t.qZA()(),t.TgZ(29,"div",169)(30,"div",170),t._uU(31),t.ALo(32,"mytranslate"),t.qZA(),t.TgZ(33,"div",171),t.YNc(34,pa,3,5,"span",7),t.qZA()(),t.TgZ(35,"div",169)(36,"div",170),t._uU(37),t.ALo(38,"mytranslate"),t.qZA(),t.TgZ(39,"div",171),t.YNc(40,ga,3,5,"span",7),t.qZA()(),t.YNc(41,De,7,3,"div",173),t.ALo(42,"editPermission"),t.qZA()),2&o){const n=t.oxw().$implicit,c=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,13,"lang_auto_so_bao_danh")," "),t.xp6(3),t.hij(" ",n.identificationNumber?t.xi3(7,15,n.identificationNumber,6):""," "),t.xp6(4),t.hij(" ",t.lcZ(11,18,"lang_gender")," "),t.xp6(3),t.hij(" ",0==n.gender?t.lcZ(14,20,"lang_auto_nu"):t.lcZ(15,22,"lang_auto_nam")," "),t.xp6(5),t.hij(" ",t.lcZ(19,24,"lang_birthday")," "),t.xp6(3),t.hij(" ",t.lcZ(22,26,n.birthday)," "),t.xp6(4),t.hij(" ",t.lcZ(26,28,"lang_testbank_folder_and_file_status")," "),t.xp6(3),t.Q6J("ngIf",1==n.isVerified),t.xp6(3),t.hij(" ",t.lcZ(32,30,"lang_auto_bai_tap_da_lam")," "),t.xp6(3),t.Q6J("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework)),t.xp6(3),t.hij(" ",t.lcZ(38,32,"lang_auto_de_thi_da_lam")," "),t.xp6(3),t.Q6J("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam)),t.xp6(1),t.Q6J("ngIf",1==(null==c.classroomObj?null:c.classroomObj.sortType)&&t.xi3(42,34,c.classroomObj,"student"))}}function fa(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",139)(1,"div",140),t.YNc(2,ia,1,1,"input",81),t.TgZ(3,"div",141)(4,"div",142),t.NdJ("click",function(){const f=t.CHM(n).$implicit,S=t.oxw(2);return t.KtG(S.goToProfile(f.classroomId,f.id))}),t.TgZ(5,"div",143),t._UZ(6,"azt-create-avatar",144),t.ALo(7,"anonymousPhone"),t.ALo(8,"mycdn"),t.qZA(),t.TgZ(9,"div",145),t.YNc(10,aa,8,20,"a",146),t.YNc(11,sa,2,1,"div",147),t.YNc(12,ra,2,2,"div",148),t.qZA()(),t.YNc(13,da,15,10,"div",149),t.ALo(14,"editPermission"),t.qZA(),t.TgZ(15,"button",150),t.NdJ("click",function(){const f=t.CHM(n).index,S=t.oxw(2);return t.KtG(S.toggleExpandedContent(f))}),t.TgZ(16,"span",151),t._UZ(17,"lucide-icon",152),t.qZA()()(),t.TgZ(18,"div",153),t.YNc(19,zn,43,37,"div",7),t.qZA()()}if(2&o){const n=d.$implicit,c=d.index,u=t.oxw(2);t.Q6J("ngStyle",t.VKq(21,ri,null!=n.checked&&n.checked.value?"0.6":"1")),t.xp6(2),t.Q6J("ngIf",void 0!==n.checked),t.xp6(4),t.MGl("matTooltip","",0==n.parentId||1==n.isAnonymous?null:" Id: "+n.parentId+(""!=t.lcZ(7,14,n.parentPhone)?" - Phone: "+n.parentPhone:"")+" - Name: "+n.parentFullName," "),t.Q6J("nameCreateAvatar",n.fullName)("linkAvatar",t.lcZ(8,16,n.avatar))("size",36),t.xp6(4),t.Q6J("ngIf",n.fullName),t.xp6(1),t.Q6J("ngIf",n.phone),t.xp6(1),t.Q6J("ngIf",n.email),t.xp6(1),t.Q6J("ngIf",t.xi3(14,18,u.classroomObj,"student")),t.xp6(3),t.ekj("rotate-180",u.expandedItemIndex===c),t.xp6(2),t.Q6J("@expandCollapse",u.expandedItemIndex===c?"open":"closed"),t.xp6(1),t.Q6J("ngIf",u.expandedItemIndex===c)}}function mi(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"button",183),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(3);return t.KtG(u.addStudentDialog(u.classroomObj))}),t.TgZ(1,"span",63),t._UZ(2,"lucide-icon",64),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&o&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_them_hoc_sinh")," "))}function xa(o,d){if(1&o&&(t.TgZ(0,"div",124)(1,"div",125),t.O4$(),t.TgZ(2,"svg",126),t._UZ(3,"path",127)(4,"path",128)(5,"path",129)(6,"path",130)(7,"path",131)(8,"path",132),t.qZA(),t.kcU(),t.TgZ(9,"div",133),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.YNc(12,mi,5,3,"button",182),t.ALo(13,"editPermission"),t.qZA()()),2&o){const n=t.oxw(2);let c;t.xp6(10),t.hij(" ",t.lcZ(11,2,"lang_student_classroom_list_detail_not_student")," "),t.xp6(2),t.Q6J("ngIf",t.xi3(13,4,n.classroomObj,"student")&&0==(null!==(c=null==n.listStudents?null:n.listStudents.length)&&void 0!==c?c:0))}}const va=function(o){return{"flex-wrap":o}};function ba(o,d){if(1&o&&(t.TgZ(0,"div",12)(1,"div",13)(2,"h2",14),t._uU(3),t.qZA(),t.TgZ(4,"span",15),t._uU(5),t.qZA(),t.YNc(6,p,1,3,"azt-download-qr-code",16),t.qZA(),t.TgZ(7,"div",13),t._UZ(8,"azt-share",17),t.YNc(9,y,2,1,"div",18),t.qZA()(),t.YNc(10,Yo,18,23,"div",19),t.TgZ(11,"div",20)(12,"div",21),t.YNc(13,li,30,32,"div",22),t.ALo(14,"appFilter"),t.YNc(15,ea,14,7,"div",23),t.ALo(16,"appFilter"),t.qZA(),t.TgZ(17,"div",24)(18,"div",25),t.YNc(19,na,5,4,"div",7),t.TgZ(20,"div",26),t.YNc(21,oa,3,7,"span",27),t.YNc(22,ci,9,3,"button",28),t.qZA()(),t.YNc(23,fa,20,23,"div",29),t.ALo(24,"appFilter"),t.YNc(25,xa,14,7,"div",23),t.ALo(26,"appFilter"),t.qZA()()),2&o){const n=t.oxw();t.Q6J("ngClass",t.VKq(36,va,n.isMobileDevice||n.isMobileWebView)),t.xp6(1),t.Q6J("ngClass",t.VKq(38,Go,n.isMobileDevice||n.isMobileWebView)),t.xp6(2),t.hij(" ",null==n.classroomObj?null:n.classroomObj.name," "),t.xp6(2),t.hij("( ",null==n.classroomObj?null:n.classroomObj.year," )"),t.xp6(1),t.Q6J("ngIf",n.joinClassroomLink),t.xp6(1),t.Q6J("ngClass",t.VKq(40,Go,n.isMobileDevice||n.isMobileWebView)),t.xp6(1),t.Q6J("backToLink",n.backToLink)("objectCodeType",1)("objectCode","CLASSROOM")("objectId",n.classroomId)("classroomWithPermissionObj",n.classroomObj),t.xp6(1),t.Q6J("ngIf",!n.hasStudents||!(null!=n.listStudents&&n.listStudents.length)),t.xp6(1),t.Q6J("ngIf",n.hasStudents||(null==n.listStudents?null:n.listStudents.length)),t.xp6(3),t.Q6J("ngIf",t.Dn7(14,20,n.listStudents,n.searchContentObj.searchContent,t.DdM(42,Xn)).length>0),t.xp6(2),t.Q6J("ngIf",!n.hasStudents||0==t.Dn7(16,24,n.listStudents,n.searchContentObj.searchContent,t.DdM(43,Xn)).length),t.xp6(4),t.Q6J("ngIf",n.listStudents&&n.listStudents.length>0),t.xp6(2),t.Q6J("ngIf",n.totalCheckboxSelected>0),t.xp6(1),t.Q6J("ngIf",n.totalCheckboxSelected>0),t.xp6(1),t.Q6J("ngForOf",t.Dn7(24,28,n.listStudents,n.searchContentObj.searchContent,t.DdM(44,Xn))),t.xp6(2),t.Q6J("ngIf",!n.hasStudents||0==t.Dn7(26,32,n.listStudents,n.searchContentObj.searchContent,t.DdM(45,Xn)).length)}}function Et(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"li")(1,"button",184),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.goToMergeStudent(null==u.classroomObj?null:u.classroomObj.id))}),t.O4$(),t.TgZ(2,"svg",51),t._UZ(3,"path",185)(4,"path",186)(5,"line",187),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&o&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_student_classroom_list_detail_merge_student")," "))}function Un(o,d){1&o&&(t.O4$(),t.kcU(),t.TgZ(0,"span",195),t._UZ(1,"lucide-icon",196),t.qZA())}function Ca(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"li")(1,"button",188),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.changeSortType(0))}),t.O4$(),t.TgZ(2,"svg",51),t._UZ(3,"path",189)(4,"path",190)(5,"path",191)(6,"path",192)(7,"path",193),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.YNc(10,Un,2,0,"span",194),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(8),t.hij(" ",t.lcZ(9,2,"lang_student_classroom_list_detail_sort_name")," "),t.xp6(2),t.Q6J("ngIf",0==(null==n.classroomObj?null:n.classroomObj.sortType))}}function to(o,d){1&o&&(t.TgZ(0,"span",195),t._UZ(1,"lucide-icon",196),t.qZA())}function Xt(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"li")(1,"button",197),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.changeSortType(1))}),t.O4$(),t.TgZ(2,"svg",51),t._UZ(3,"line",198)(4,"line",199)(5,"line",200)(6,"path",201)(7,"path",202)(8,"path",203),t.qZA(),t.kcU(),t.TgZ(9,"span",204),t.ALo(10,"mytranslate"),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.YNc(13,to,2,0,"span",194),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(9),t.s9C("matTooltip",t.lcZ(10,3,"lang_student_classroom_list_detail_request")),t.xp6(2),t.Oqu(t.lcZ(12,5,"lang_student_classroom_list_detail_change")),t.xp6(2),t.Q6J("ngIf",0!=(null==n.classroomObj?null:n.classroomObj.sortType))}}function eo(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"li",205)(1,"button",206),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.openDialogAutoNumbering())}),t.O4$(),t.TgZ(2,"svg",51),t._UZ(3,"path",207)(4,"path",208)(5,"path",209)(6,"path",210)(7,"rect",211)(8,"rect",212),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()}2&o&&(t.xp6(9),t.hij(" ",t.lcZ(10,1,"lang_auto_danh_so_bao_danh")," "))}function di(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"li",205)(1,"button",213),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.exportListStudent())}),t.O4$(),t.TgZ(2,"svg",214),t._UZ(3,"path",215)(4,"polyline",216)(5,"line",217)(6,"line",218)(7,"line",219),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&o&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_student_utils_export_list_student")," "))}function Ta(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"li",205)(1,"button",213),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.exportExcelForScoreOfClassroom())}),t.O4$(),t.TgZ(2,"svg",214),t._UZ(3,"path",215)(4,"polyline",216)(5,"line",217)(6,"line",218)(7,"line",219),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&o&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_auto_xuat_bang_diem")," "))}function ka(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"li")(1,"div",220),t.NdJ("click",function(u){return u.stopPropagation()}),t.TgZ(2,"input",221),t.NdJ("change",function(){t.CHM(n);const u=t.oxw();let f;return t.KtG(u.changeAnonymousStudentStatus(null!==(f=null==u.classroomObj?null:u.classroomObj.id)&&void 0!==f?f:0,u.checkAddStudent.value))}),t.qZA(),t.TgZ(3,"label",222),t._uU(4),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()()()}if(2&o){const n=t.oxw();t.xp6(2),t.Q6J("formControl",n.checkAddStudent)("checked",1==(null==n.classroomObj?null:n.classroomObj.showAddStudent)),t.xp6(2),t.hij(" ",n.checkAddStudent.value?t.lcZ(5,3,"lang_student_classroom_list_detail_on"):t.lcZ(6,5,"lang_student_classroom_list_detail_off")," ")}}function wa(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"azt-export-excel-for-student-list",223),t.NdJ("exportDataDone",function(u){t.CHM(n);const f=t.oxw();return t.KtG(f.exportStudentListDone(u))}),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("objs",n.exportStudentObjs)}}let qt=(()=>{class o extends l.Q{onSearchBox(n){this.searchContentObj=n}toggleExpandedContent(n){this.expandedItemIndex=this.expandedItemIndex===n?-1:n}copyLinkToClipboard(){return this.joinClassroomLink}convertNameForQR(){return"QR_Join_Classroom_"+this.commonService.convertVietnameseToEnglish(this.classroomObj?.name??this.classroomObj?.hashId??"")}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.listStudents)}exportStudentListDone(n){let c=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(n,c)}exportExcelForScoreOfClassroom(){this.loadingExport=!0;let n="";qe.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??""),this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataGetAllExamObjsOfClassroomIdGet(Number(this.classroomId)).subscribe(c=>{1==c.success?c.data?.objs&&c.data?.objs.length?this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(u=>{if(1==u.success){let f=u.data?.objs??new Array;this.prepareDataForExportScore(c.data?.objs??[],f).subscribe(S=>{let D=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"",$=this.commonService.createFileNameExportFile([D,this.classroomObj?.name??""]);if(this.commonService.myTranslate(["lang_auto_tap_tin_dang_duoc_tai_xuong"]).subscribe(ut=>{n=ut.lang_auto_tap_tin_dang_duoc_tai_xuong,qe.G.changeMsgLoadingEffect(n)}),this.classroomObj){const ut=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,S,c.data?.objs);this.shareFileFlutterService.shareFileWithBlob(ut,$+".xlsx")}qe.G.closeLoadingEffect(200),this.loadingExport=!1})}else this.errorStatusObj(u.message??"",!0),qe.G.closeLoadingEffect(10),this.loadingExport=!1})):this.exportExcelForScoreHomeworkOfClassroom():(this.errorStatusObj(c.message,!0),qe.G.closeLoadingEffect(10),this.loadingExport=!1)}))}exportExcelForScoreHomeworkOfClassroom(){this.loadingExport=!0;let n=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"";this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(c=>{if(1==c.success){let u=this.commonService.createFileNameExportFile([n,this.classroomObj?.name??""]);if(this.classroomObj){const f=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,c.data?.objs??[]);this.shareFileFlutterService.shareFileWithBlob(f,u+".xlsx")}}else this.errorStatusObj(c.message??"",!0);qe.G.closeLoadingEffect(10),this.loadingExport=!1}))}prepareDataForExportScore(n,c){return new Nn.y(u=>{let f=this.commonService.myTranslateInstant("lang_export_classroom_score_counter_message")??"",S=0,D=n.length,$=ut=>{S<D?(qe.G.changeMsgLoadingEffect(f+n[S].name+" ("+(S+1)+"/"+D+")"),this.waitDestroy(this.exportClassroomScoreApiService.getTestedAllResultByClassroomId("export_classroom",n[S].id??0,this.classroomId,ut).subscribe(Qt=>{1==Qt.success?(Qt.data&&(ut=[...Qt.data]),S++,$(ut)):u.error(Qt.message)}))):(u.next(ut),u.complete())};$(c)})}getNoticeObjsRequest(){this.waitDestroy(this.noticeService.apiNoticeGetAllNoticeRequestForClassGet(this.classroomId).subscribe(n=>{1==n.success?(n.data?.objs?.length??0)>0&&this.sAztDialogService.open(Ln,{width:"750px",data:{noticeObjs:n.data?.objs??[],classroomObj:this.classroomObj},restoreFocus:!1}):this.showErrorSnack("lang_auto_loi_khong_load_duoc_du_lieu_lop_hoc")}))}changeSortType(n){this.waitDestroy(this.classroomService.apiClassroomChangeSortTypeGet(this.classroomId,n).subscribe(c=>{1==c.success?(this.checkSortListStudent(n),this.classroomObj?.sortType&&(this.classroomObj.sortType=n),this.getData()):this.errorStatusObj(c.message,!0)}))}checkSortListStudent(n){this.listStudents=0==n?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.rawStudentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.rawStudentObjs)??[],"pos","id"),this.listStudents?.forEach(c=>{c.checked=new it.NI(!1,{nonNullable:!0})})}onPositionChange(n,c,u,f){let S="up"==n?1:"down"==n?2:3,D=3==S?n??"":"",$=parseInt(D,10);this.waitDestroy(this.classroomService.apiClassroomChangePositionStudentGet(Number(3!=S?c:$),Number(u),Number(f),Number(S)).subscribe(Qt=>{1==Qt.success?this.getData():this.showErrorSnack(""==D&&3==S?"lang_auto_loi_nhap_so_de_thay_doi_vi_tri_hs":"lang_auto_loi_khong_the_doi_vi_tri_hs")}))}changeAnonymousStudentStatus(n,c){this.waitDestroy(c?this.classroomService.apiClassroomChangeShowAddStudentGet(n,1).subscribe(u=>{1==u.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(u.message,!0)}):this.classroomService.apiClassroomChangeShowAddStudentGet(n,0).subscribe(u=>{1==u.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(u.message,!0)}))}addStudentDialog(n){this.sAztDialogService.open(bo,{width:"750px",data:{studentObjs:this.listStudents,classroomObj:n},restoreFocus:!1}).afterClosed().subscribe(u=>{u&&this.getData()})}deleteStudentDialog(n){this.sAztDialogService.open($t.F,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(u=>{u&&this.getData()})}deleteListStudentDialog(){let n=this.listStudents?.filter(u=>u.checked?.value);this.sAztDialogService.open(qo,{data:{listStudentObjs:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(u=>{u&&this.getData()})}editStudentDialog(n){this.sAztDialogService.open(He.W,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(u=>{u&&this.getData()})}openDialogAutoNumbering(){this.sAztDialogService.open(Cn.G,{data:{needGetClassroomGroups:!1,type:2,listCheckBox:this.classroomObj?.id?[this.classroomObj.id]:[],totalStudent:this.classroomObj?.countStudents},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(c=>{c&&this.getData()})}openDialogCheckboxMonth(n){this.sAztDialogService.open(Qe,{width:"454px",restoreFocus:!1,data:n.id}).afterClosed().subscribe(c=>{c&&this.getListStudentApiNew()})}goToProfile(n,c){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+c,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${n}/0`))}goToMergeStudent(n){this.commonService.myNavigation("/admin/student/merge-student/"+n)}translateExportNote(){let n="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),c="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),u="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),f="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four");this.export=[n,c,u,f]}openDialogResetPass(n){this.sAztDialogService.open(Ye.g,{width:"500px",restoreFocus:!1,data:{id:n.parentId,name:n.fullName}}).afterClosed().subscribe(c=>{c&&this.getData()})}openDialogCreateUser(n){this.sAztDialogService.open(Zn,{width:"500px",restoreFocus:!1,data:{student:n}}).afterClosed().subscribe(c=>{c&&this.getData()})}getData(){this.initStatusObj(),this.resetCheckboxesStatus(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.classroomId).subscribe(n=>{if(1==n.success){this.classroomObj=n?.data?.classroomObj,this.permissionObj=this.classroomObj?.permissionObj,this.checkAddStudent.setValue(1==this.classroomObj?.showAddStudent),this.rawStudentObjs=n?.data?.studentObjs,this.checkSortListStudent(n?.data?.classroomObj?.sortType);let u=this.commonService.getCurrentDomain();this.joinClassroomLink=`${u}/${this.commonService.getCurrentLang()}/student/join-classroom/${this.classroomObj?.hashId}`,this.hasStudents=!!n.data?.studentObjs.length,this.getListStudentApiNew(),this.getNoticeObjsRequest(),this.successStatusObj()}else this.errorStatusObj(n.message,!0)}))}getListStudentApiNew(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:this.listStudents?.length??0,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:!1,getAssessment:!1}).subscribe(c=>{c?c.list.forEach(u=>{var f=this.listStudents?.find(S=>S.id==u.id);f&&(f.lastMonthPaid=u.lastMonthPaid,f.lastYearPaid=u.lastYearPaid,f.schoolName=u.schoolName,f.facebookLink=f.moreInfo?.facebookLink)}):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}selectAllStudentsObjs(){this.listStudents?.forEach(n=>{n.checked?.setValue(this.isSelectAllFormControl.value)}),this.selectSingleStudent()}selectSingleStudent(){this.totalCheckboxSelected=this.listStudents?.filter(n=>n.checked?.value)?.length??0,this.isSelectAllFormControl.setValue(this.totalCheckboxSelected===this.listStudents?.length&&this.totalCheckboxSelected>0)}resetCheckboxesStatus(){this.totalCheckboxSelected=0,this.isSelectAllFormControl.setValue(!1)}ngOnInit(){super.ngOnInit(),this.translateExportNote(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"));let n=this.commonService.getMyQueryParam("backto");this.backToLink=n||"/admin/student/manage-classroom/0",this.getData()}constructor(n,c,u,f,S,D,$,ut,Qt,Pe,Te){super(),this.shareFileFlutterService=n,this.classroomService=c,this.classroomExportDataService=u,this.noticeService=f,this.activeRoute=S,this.sortService=D,this.studentProfileV2Service=$,this.exportExcelService=ut,this.sAztDialogService=Qt,this.studentService=Pe,this.exportClassroomScoreApiService=Te,this.checkAddStudent=new it.NI(!1,{nonNullable:!0}),this.backToLink="",this.classroomId=0,this.export=[""],this.hasStudents=!1,this.loadingExport=!1,this.expandedItemIndex=-1,this.joinClassroomLink="",this.totalCheckboxSelected=0,this.isSelectAllFormControl=new it.NI(!1,{nonNullable:!0}),this.searchContentObj=new et.h,this.form=new it.cw({startIdentifyIndex:new it.NI("",{nonNullable:!0,validators:[it.kI.min(1),it.kI.max(999999),it.kI.pattern(/^[0-9]*$/)]})})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(ue.g),t.Y36(C.um),t.Y36(ve.Tg),t.Y36(Ge.L$),t.Y36(O.gz),t.Y36(An.V),t.Y36(ve.LU),t.Y36(sn.L),t.Y36(Y.C),t.Y36(pn.V),t.Y36(me))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-student-list"]],viewQuery:function(n,c){if(1&n&&t.Gf(x,5),2&n){let u;t.iGM(u=t.CRH())&&(c.slider=u.first)}},features:[t.qOj],decls:19,vars:19,consts:[[1,"grid","grid-cols-12","mt-5"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menu","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],[4,"ngIf"],["class","block lg:hidden",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],[1,"col-span-12","intro-y","flex","justify-between","items-center","mb-5",3,"ngClass"],[1,"flex","items-center",3,"ngClass"],[1,"text-lg","font-medium","mr-2"],[1,"mr-2"],[3,"fileName","linkUrl","showLink",4,"ngIf"],[3,"backToLink","objectCodeType","objectCode","objectId","classroomWithPermissionObj"],["class","dropdown ml-2 mt-2 sm:mt-0",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[1,"azt-hidden","md:block"],["style","height: 100%",4,"ngIf"],["class","box p-3 flex items-center","style","min-height: 216px",4,"ngIf"],[1,"md:hidden"],[1,"flex","mt-3",2,"justify-content","space-between"],[1,"flex","items-center"],["class","inline-block mr-2",3,"ngClass",4,"ngIf"],["azt-track-service","student-list-zQB1VhlhP6","class","btn btn-sm btn-danger mr-2",3,"click",4,"ngIf"],["class","box p-3 mt-3",3,"ngStyle",4,"ngFor","ngForOf"],[3,"fileName","linkUrl","showLink"],[1,"dropdown","ml-2","mt-2","sm:mt-0"],["class","dropdown-toggle btn btn-sm btn-outline-secondary",3,"matMenuTriggerFor",4,"ngIf"],[1,"dropdown-toggle","btn","btn-sm","btn-outline-secondary",3,"matMenuTriggerFor"],[1,"w-4","h-4","flex","items-center","justify-center"],["name","settings"],[1,"col-span-12"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"isServerSearch","placeholder","onSearch"],[1,"w-full","sm:w-auto","flex","items-center"],["class","inline-block mr-2",4,"ngIf"],["azt-track-service","student-list-1PSK0ENR-","class","btn btn-danger mr-2",3,"click",4,"ngIf"],["azt-track-service","class-list-details-s9VkYOpJZKc","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details--hDdQw7XTpD","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mr-2 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-_DnbWckI_DG","class","btn px-2 box shadow-md mr-2 azt-hidden md:flex hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],[1,"dropdown"],["class","dropdown-toggle btn px-2 box",3,"matMenuTriggerFor",4,"ngIf"],[1,"inline-block","mr-2"],["azt-track-service","student-list-1PSK0ENR-",1,"btn","btn-danger","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["azt-track-service","class-list-details-s9VkYOpJZKc",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],[1,"flex-none","inline-block","w-4","h-4","mr-2"],["name","file-text"],["azt-track-service","class-list-details--hDdQw7XTpD",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["class","flex-none inline-block w-4 h-4 mr-2",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mr-2","w-full","sm:w-auto",3,"click"],[1,"w-4","h-4","flex-none","inline-block","mr-2"],["name","plus"],["azt-track-service","class-list-details-_DnbWckI_DG",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","md:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary"],[1,"dropdown-toggle","btn","px-2","box",3,"matMenuTriggerFor"],[1,"w-5","h-5","flex","items-center","justify-center"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-5",2,"white-space","initial","display","table"],[1,"box"],["type","checkbox",1,"form-check-input",3,"formControl","change"],[1,"text-center",2,"width","60px","padding","0 !important"],[2,"width","60px",3,"matTooltipDisabled","matTooltip"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-center",2,"width","30px"],["class","form-check-input flex-none","type","checkbox",3,"formControl","change",4,"ngIf"],[2,"width","60px","padding","5px 5px 5px 0"],["style","width: 100%; text-align: center; border-right: 1px solid #ccc; display: inline-grid; padding: 5px",4,"ngIf","ngIfElse"],["sttStudent",""],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","identificationNumber","gender","hasUser","schoolName","classrooms","joinedAt","phone","email"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],["azt-track-service","class-list-details-IXPw9fo4fxc","class","btn btn-sm btn-outline-primary mr-3",3,"click",4,"ngIf"],["azt-track-service","class-list-details-O6dc04lZp9g","class","btn btn-sm btn-outline-danger mr-3",3,"click",4,"ngIf"],["azt-track-service","student-list-hM337DYZ_","class","btn btn-sm mr-3",3,"click",4,"ngIf"],["azt-track-service","student-list-qGNig67L4","class","btn btn-sm mr-3",3,"click",4,"ngIf"],["type","checkbox",1,"form-check-input","flex-none",3,"formControl","change"],[2,"width","100%","text-align","center","border-right","1px solid #ccc","display","inline-grid","padding","5px"],["azt-track-service","class-list-details-DAInj2oep","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["type","text","appOnlyNumber","",1,"form-control","text-center",2,"padding","4px",3,"value","keyup.enter"],["myInput",""],["azt-track-service","class-list-details-piloTgTGAq","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-DAInj2oep",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","class-list-details-piloTgTGAq",1,"clickable",2,"width","100%","text-align","center",3,"click"],[1,"text-center","font-bold"],["azt-track-service","class-list-details-IXPw9fo4fxc",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","class-list-details-O6dc04lZp9g",1,"btn","btn-sm","btn-outline-danger","mr-3",3,"click"],[1,"w-4","h-4","mr-2","inline-block"],["name","trash-2"],["azt-track-service","student-list-hM337DYZ_",1,"btn","btn-sm","mr-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide","flex-none"],["d","M21 6H3"],["d","M7 12H3"],["d","M7 18H3"],["d","M12 18a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L11 14"],["d","M11 10v4h4"],[2,"text-wrap","nowrap"],["azt-track-service","student-list-qGNig67L4",1,"btn","btn-sm","mr-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide","flex-none","lucide-user-plus"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["x1","19","x2","19","y1","8","y2","14"],["x1","22","x2","16","y1","11","y2","11"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","82","height","90","viewBox","0 0 82 90","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M29.1186 60.3066C29.0404 60.8599 29 61.4252 29 62C29 68.6274 34.3726 74 41 74C47.6274 74 53 68.6274 53 62C53 61.4252 52.9596 60.8599 52.8815 60.3066H82V87C82 88.6569 80.6569 90 79 90H3C1.34315 90 0 88.6569 0 87V60.3066H29.1186Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M54 60C54 67.1797 48.1797 73 41 73C33.8203 73 28 67.1797 28 60C28 59.7674 28.0061 59.5362 28.0182 59.3066H0L9.56044 31.0389C9.9726 29.8202 11.1159 29 12.4023 29H69.5977C70.8842 29 72.0274 29.8202 72.4396 31.0389L82 59.3066H53.9818C53.9939 59.5362 54 59.7674 54 60Z","fill","white"],["fill-rule","evenodd","clip-rule","evenodd","d","M52.0976 60.9545C52.0976 66.5025 47.129 72 41 72C34.871 72 29.9024 66.5025 29.9024 60.9545C29.9024 60.7748 29.9077 59.5962 29.918 59.4188H9L17.1614 39.5755C17.5132 38.6338 18.4891 38 19.5873 38H62.4127C63.5109 38 64.4868 38.6338 64.8387 39.5755L73 59.4188H52.082C52.0923 59.5962 52.0976 60.7748 52.0976 60.9545Z","fill","#E8F0FE"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.25 59.5123V86C1.25 86.9665 2.0335 87.75 3 87.75H79C79.9665 87.75 80.75 86.9665 80.75 86V59.5123L71.2554 31.4393C71.015 30.7285 70.3481 30.25 69.5977 30.25H12.4023C11.6519 30.25 10.985 30.7285 10.7446 31.4393L1.25 59.5123Z","stroke","#1F64E7","stroke-width","2.5"],["d","M14 59C17.9366 59 22.1849 59 26.7449 59C28.6212 59 28.6212 60.3186 28.6212 61C28.6212 67.6274 34.1174 73 40.8973 73C47.6772 73 53.1734 67.6274 53.1734 61C53.1734 60.3186 53.1734 59 55.0496 59H80M6.57373 59H9H6.57373Z","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M66.0996 6.30273L55 18.7559M40.0996 2V18.7559V2ZM14 6.30273L25.0996 18.7559L14 6.30273Z","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-3"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],[1,"ml-2"],[1,"inline-block","mr-2",3,"ngClass"],["azt-track-service","student-list-zQB1VhlhP6",1,"btn","btn-sm","btn-danger","mr-2",3,"click"],[1,"box","p-3","mt-3",3,"ngStyle"],[1,"flex","items-center","text-sm"],[1,"flex","items-start","px-3"],["azt-track-service","class-list-details-PLih7noFG",1,"flex","items-center",3,"click"],[1,"w-9","h-9","image-fit","zoom-in"],[3,"matTooltip","nameCreateAvatar","linkAvatar","size"],[1,"ml-4",2,"max-width","150px"],["class","font-medium",3,"matTooltip",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",3,"matTooltip",4,"ngIf"],["class","absolute right-0 top-0 mr-6 mt-3 dropdown",4,"ngIf"],["azt-track-service","class-list-details-pefaSVrkl",1,"ml-auto","mr-3","p-1","mt-6","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"click"],[1,"w-5","h-5","inline-block"],["name","chevron-down"],[1,"mt-2"],[1,"font-medium",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-slate-500","text-xs","mt-0.5",3,"matTooltip"],[1,"absolute","right-0","top-0","mr-6","mt-3","dropdown"],[1,"dropdown-toggle","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"matMenuTriggerFor"],[1,"w-5","h-5","text-slate-500"],["name","more-horizontal"],["menuAction","matMenu"],[1,"dropdown-menu","show","relative","w-56"],["azt-track-service","class-list-details-Q6L3Qb4nL-","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-xA4MDIyq3o","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Q6L3Qb4nL-",1,"dropdown-item",3,"click"],["azt-track-service","class-list-details-xA4MDIyq3o",1,"dropdown-item",3,"click"],["azt-track-service","student-list-BQ1zew8XrF","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","student-list-BQ1zew8XrF",1,"dropdown-item",3,"click"],[1,"flex","items-center","p-3","border-t","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md"],[1,"ml-auto"],["class","flex items-center justify-center text-success",4,"ngIf"],["class","flex items-center p-3 border-t border-slate-200/60 dark:border-darkmode-400",4,"ngIf"],[1,"flex","items-center","justify-center","text-success"],["name","check-square"],[1,"w-full"],[2,"width","100%","text-align","center","display","inline-grid","padding","5px"],["azt-track-service","class-list-details-uQr-XCrTnlF","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Ad3KhS_O8H4","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-uQr-XCrTnlF",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","class-list-details-Ad3KhS_O8H4",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","student-list-z7Lql-3ZDJ","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","student-list-z7Lql-3ZDJ",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],["azt-track-service","class-list-details-NcMQ164X2B1",1,"dropdown-item","w-full",3,"click"],["d","M9 17H7A5 5 0 0 1 7 7h2"],["d","M15 7h2a5 5 0 1 1 0 10h-2"],["x1","8","y1","12","x2","16","y2","12"],["azt-track-service","class-list-details-woiwIJfYoz7",1,"dropdown-item","w-full",3,"click"],["d","M11 5h4"],["d","M11 9h7"],["d","M11 13h10"],["d","m3 17 3 3 3-3"],["d","M6 18V4"],["class","w-4 h-4 ml-2 text-success inline-block flex-none",4,"ngIf"],[1,"w-4","h-4","ml-2","text-success","inline-block","flex-none"],["name","check"],["azt-track-service","class-list-details-dc7h-1UoWkq",1,"dropdown-item","w-full",3,"click"],["x1","10","y1","6","x2","21","y2","6"],["x1","10","y1","12","x2","21","y2","12"],["x1","10","y1","18","x2","21","y2","18"],["d","M4 6h1v4"],["d","M4 10h2"],["d","M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"],[1,"ml-1",3,"matTooltip"],[1,"block","lg:hidden"],["azt-track-service","class-list-details-dQQjeblrGNo",1,"dropdown-item","w-full",3,"click"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],["azt-track-service","class-list-details-EPPk_ECcOhT",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","file-text","data-lucide","file-text",1,"lucide","lucide-file-text","flex-none","w-4","h-4","mr-2"],["d","M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],["azt-track-service","student-list-I77ChHGFW",1,"form-check","form-switch","p-2",3,"click"],["type","checkbox","id","check-add-student",1,"show-code","form-check-input","mr-1",3,"formControl","checked","change"],["for","check-add-student",1,"form-check-label","ml-0"],[3,"objs","exportDataDone"]],template:function(n,c){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,E,2,1,"div",1),t.YNc(2,ba,27,46,"ng-template",null,2,t.W1O),t.qZA(),t.TgZ(4,"mat-menu",3,4)(6,"div",5)(7,"ul",6),t.YNc(8,Et,8,3,"li",7),t.YNc(9,Ca,11,4,"li",7),t.YNc(10,Xt,14,7,"li",7),t.YNc(11,eo,11,3,"li",8),t.ALo(12,"editPermission"),t.YNc(13,di,10,3,"li",8),t.ALo(14,"viewPermission"),t.YNc(15,Ta,10,3,"li",8),t.YNc(16,ka,7,7,"li",7),t.ALo(17,"editPermission"),t.qZA()()(),t.YNc(18,wa,1,1,"azt-export-excel-for-student-list",9)),2&n){const u=t.MAs(3);t.xp6(1),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",u),t.xp6(7),t.Q6J("ngIf",c.hasStudents||(null==c.listStudents?null:c.listStudents.length)),t.xp6(1),t.Q6J("ngIf",c.hasStudents||(null==c.listStudents?null:c.listStudents.length)),t.xp6(1),t.Q6J("ngIf",c.hasStudents||(null==c.listStudents?null:c.listStudents.length)),t.xp6(1),t.Q6J("ngIf",t.xi3(12,10,c.classroomObj,"student")&&(c.hasStudents||(null==c.listStudents?null:c.listStudents.length))),t.xp6(2),t.Q6J("ngIf",t.xi3(14,13,c.classroomObj,"student")&&(c.hasStudents||(null==c.listStudents?null:c.listStudents.length))),t.xp6(2),t.Q6J("ngIf",c.hasStudents||(null==c.listStudents?null:c.listStudents.length)),t.xp6(1),t.Q6J("ngIf",t.xi3(17,16,c.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",c.exportStudentObjs)}},dependencies:[v.mk,v.sg,v.O5,v.PC,gn.Hw,V.VK,V.p6,ot.gM,it.Wl,it.JJ,it.oH,nt.l,hn.g,fn.W,yo.Y,kn.S,dt.n,Zo.y,ct.W,re.a,ge.HU,ge.$Z,Ct.Nh5,M.JV,M.QN,M.om,M.Wr,M.Pf,M.J7,M.gw,M.YK],encapsulation:2,data:{animation:[(0,Le.X$)("expandCollapse",[(0,Le.SB)("open",(0,Le.oB)({height:"*"})),(0,Le.SB)("closed",(0,Le.oB)({height:"0px"})),(0,Le.eR)("open <=> closed",[(0,Le.jt)("0.3s ease-in-out")])])]}}),o})();const ln=function(o){return{"text-white bg-primary":o}},We=function(o){return[o]};function Oa(o,d){if(1&o&&(t.TgZ(0,"a",31),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",32),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&o){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(7,ln,3===n.tabActive))("routerLink",t.VKq(9,We,t.lcZ(1,3,"/admin/student/classroom-details/"+n.classroomId+"/3"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_student_educational_program"))}}function ui(o,d){if(1&o&&(t.TgZ(0,"a",33),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",8),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&o){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(7,ln,4===n.tabActive))("routerLink",t.VKq(9,We,t.lcZ(1,3,"/admin/student/classroom-details/"+n.classroomId+"/4"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_student_grade_sheet"))}}function Be(o,d){if(1&o&&(t.TgZ(0,"a",34),t.ALo(1,"navigationLocalize"),t.O4$(),t.TgZ(2,"svg",35),t._UZ(3,"path",36)(4,"path",37)(5,"path",38),t.qZA(),t.kcU(),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()),2&o){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(7,ln,6===n.tabActive))("routerLink",t.VKq(9,We,t.lcZ(1,3,"/admin/student/classroom-details/"+n.classroomId+"/6"))),t.xp6(7),t.Oqu(t.lcZ(8,5,"lang_azt_assessment_board"))}}function pi(o,d){if(1&o&&(t.TgZ(0,"a",39),t.ALo(1,"navigationLocalize"),t.O4$(),t.TgZ(2,"svg",40),t._UZ(3,"path",41)(4,"circle",42)(5,"path",43),t.qZA(),t.kcU(),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()),2&o){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(7,ln,7===n.tabActive))("routerLink",t.VKq(9,We,t.lcZ(1,3,"/admin/student/classroom-details/"+n.classroomId+"/7"))),t.xp6(7),t.Oqu(t.lcZ(8,5,"lang_azt_attendance_board"))}}function gi(o,d){if(1&o&&(t.TgZ(0,"a",44),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",45),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&o){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(7,ln,8===n.tabActive))("routerLink",t.VKq(9,We,t.lcZ(1,3,"/admin/student/classroom-details/"+n.classroomId+"/8"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_azt_tuition_fee_board"))}}function ya(o,d){if(1&o&&(t.TgZ(0,"a",46),t.ALo(1,"navigationLocalize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",47),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&o){const n=t.oxw(2);t.Q6J("ngClass",t.VKq(7,ln,5===n.tabActive))("routerLink",t.VKq(9,We,t.lcZ(1,3,"/admin/student/classroom-details/"+n.classroomId+"/5"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_azt_leaderboard"))}}function Za(o,d){1&o&&(t.TgZ(0,"div",23)(1,"div",24),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",23),t.YNc(5,Oa,7,11,"a",25),t.ALo(6,"async"),t.ALo(7,"allowFeatureBusinessForUser"),t.YNc(8,ui,7,11,"a",26),t.ALo(9,"async"),t.ALo(10,"allowFeatureBusinessForUser"),t.YNc(11,Be,9,11,"a",27),t.ALo(12,"async"),t.ALo(13,"allowFeatureBusinessForUser"),t.YNc(14,pi,9,11,"a",28),t.ALo(15,"async"),t.ALo(16,"allowFeatureBusinessForUser"),t.YNc(17,gi,7,11,"a",29),t.ALo(18,"async"),t.ALo(19,"allowFeatureBusinessForUser"),t.YNc(20,ya,7,11,"a",30),t.ALo(21,"async"),t.ALo(22,"allowFeatureBusinessForUser"),t.qZA()()),2&o&&(t.xp6(2),t.hij(" ",t.lcZ(3,7,"lang_student_extensions")," "),t.xp6(3),t.Q6J("ngIf",t.lcZ(6,9,t.Dn7(7,11,"","training_center_curriculum_in_classroom",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(9,15,t.Dn7(10,17,"","training_center_student_mark",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(12,21,t.Dn7(13,23,"","training_center_student_mark",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(15,27,t.Dn7(16,29,"","training_center_student_mark",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(18,33,t.Dn7(19,35,"","training_center_student_mark",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(21,39,t.Dn7(22,41,"","training_center_student_mark",!1))))}function Aa(o,d){1&o&&(t.TgZ(0,"div",48),t._UZ(1,"app-student-list"),t.qZA())}function Sa(o,d){1&o&&(t.TgZ(0,"div",49),t._UZ(1,"app-exam-exercises",50),t.qZA()),2&o&&(t.xp6(1),t.Q6J("isStudent",!1))}function Ia(o,d){if(1&o&&(t.TgZ(0,"div",51),t._UZ(1,"app-news-board",52),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("classroomId",n.classroomId)("isStudent",!1)}}function Na(o,d){1&o&&(t.TgZ(0,"div",53),t._UZ(1,"app-educational-program",50),t.qZA()),2&o&&(t.xp6(1),t.Q6J("isStudent",!1))}function Ma(o,d){1&o&&(t.TgZ(0,"div",54),t._UZ(1,"app-grand-board",50),t.qZA()),2&o&&(t.xp6(1),t.Q6J("isStudent",!1))}function Ro(o,d){1&o&&(t.TgZ(0,"div",55)(1,"div",56),t._UZ(2,"app-leader-board",50),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("isStudent",!1))}function ja(o,d){1&o&&(t.TgZ(0,"div",57)(1,"div",58),t._UZ(2,"app-assessment-board",50),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("isStudent",!1))}function La(o,d){1&o&&(t.TgZ(0,"div",59)(1,"div",58),t._UZ(2,"app-attendance-board",50),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("isStudent",!1))}function hi(o,d){1&o&&(t.TgZ(0,"div",60)(1,"div",58),t._UZ(2,"app-tuition-fee-board",50),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("isStudent",!1))}const fi=function(o){return{"font-medium text-white bg-primary":o}};let xi=(()=>{class o extends l.Q{getClassroomName(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(n=>{n&&n.success&&(this.classroomName=n.data?.obj?.name??"",this.setTitle())}))}setTitle(){0==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_student_list_title")+": "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_student_list_description",image:"lang_cms_test_image"})):1==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_document_list_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_document_list_description",image:"lang_cms_test_image"})):2==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_news_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_news_board_description",image:"lang_cms_test_image"})):3==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_program_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_program_description",image:"lang_cms_test_image"})):4==this.tabActive&&(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_mark_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_mark_board_description",image:"lang_cms_test_image"}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,R.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.tabActive=Number(this.commonService.getMyParam(this.activeRoute,"tabId")),this.classroomName?this.setTitle():this.getClassroomName()}));let n=this.commonService.getMyQueryParam("backto");this.backToLink=n&&""!=n?n:"/admin/student/manage-classroom/0"}constructor(n,c){super(),this.activeRoute=n,this.classroomService=c,this.backToLink="",this.tabActive=0,this.classroomId=0,this.classroomName="",this.headerTitle=""}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(O.gz),t.Y36(C.um))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-teacher-classroom-details"]],features:[t.qOj],decls:42,vars:57,consts:[[3,"headerBackToLink","headerTitle"],[1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-3","lg:col-span-2"],[1,"pr-3","pt-5"],["azt-track-service","class-list-details-DVvCIvEs15",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],[1,"w-4","h-4","mr-2","flex-none"],["name","user"],["azt-track-service","class-list-details-Kp8HMxHLJW",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","calendar-check"],["azt-track-service","class-list-details-Fqqucj0PCd",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","newspaper"],["class","mt-3",4,"ngIf"],[1,"col-span-12","md:col-span-9","lg:col-span-10","md:border-l","border-slate-200","dark:border-darkmode-400"],[1,"mt-5","md:px-3"],["class","student-list",4,"ngIf"],["class","exam-exercises",4,"ngIf"],["class","news-board",4,"ngIf"],["class","educational-program",4,"ngIf"],["class","grand-board",4,"ngIf"],["class","leaderboard",4,"ngIf"],["class","assessment-board",4,"ngIf"],["class","attendance-board",4,"ngIf"],["class","tuition-fee-board",4,"ngIf"],[1,"mt-3"],[1,"font-medium","uppercase"],["azt-track-service","class-list-details-BDKFcoR84En","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-d91Lw-r2PR8","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-FPGtD1jfL","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-6GuZeDQM8J","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-kEUyL-yGqV","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-wEO2JkXskB","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-BDKFcoR84En",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","library"],["azt-track-service","class-list-details-d91Lw-r2PR8",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["azt-track-service","class-list-details-FPGtD1jfL",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"],["d","M13 8H7"],["d","M17 12H7"],["azt-track-service","class-list-details-6GuZeDQM8J",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["d","m8 11 2 2 4-4"],["cx","11","cy","11","r","8"],["d","m21 21-4.3-4.3"],["azt-track-service","class-list-details-kEUyL-yGqV",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","clipboard-list"],["azt-track-service","class-list-details-wEO2JkXskB",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","medal"],[1,"student-list"],[1,"exam-exercises"],[3,"isStudent"],[1,"news-board"],[3,"classroomId","isStudent"],[1,"educational-program"],[1,"grand-board"],[1,"leaderboard"],[1,"mx-auto",2,"max-width","500px"],[1,"assessment-board"],[1,"mx-auto"],[1,"attendance-board"],[1,"tuition-fee-board"]],template:function(n,c){1&n&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.ALo(6,"navigationLocalize"),t.TgZ(7,"div",5),t._UZ(8,"lucide-icon",6),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"a",7),t.ALo(13,"navigationLocalize"),t.TgZ(14,"div",5),t._UZ(15,"lucide-icon",8),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()(),t.TgZ(19,"a",9),t.ALo(20,"navigationLocalize"),t.TgZ(21,"div",5),t._UZ(22,"lucide-icon",10),t.qZA(),t.TgZ(23,"span"),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()()(),t.YNc(26,Za,23,45,"div",11),t.ALo(27,"async"),t.ALo(28,"allowFeatureBusinessForUser"),t.ALo(29,"async"),t.ALo(30,"allowFeatureBusinessForUser"),t.qZA()(),t.TgZ(31,"div",12)(32,"div",13),t.YNc(33,Aa,2,0,"div",14),t.YNc(34,Sa,2,1,"div",15),t.YNc(35,Ia,2,2,"div",16),t.YNc(36,Na,2,1,"div",17),t.YNc(37,Ma,2,1,"div",18),t.YNc(38,Ro,3,1,"div",19),t.YNc(39,ja,3,1,"div",20),t.YNc(40,La,3,1,"div",21),t.YNc(41,hi,3,1,"div",22),t.qZA()()()()),2&n&&(t.Q6J("headerBackToLink",c.backToLink)("headerTitle",c.classroomName),t.xp6(5),t.Q6J("ngClass",t.VKq(45,ln,0===c.tabActive))("routerLink",t.VKq(47,We,t.lcZ(6,21,"/admin/student/classroom-details/"+c.classroomId+"/0"))),t.xp6(5),t.Oqu(t.lcZ(11,23,"lang_cms_classroom_student_list_title")),t.xp6(2),t.Q6J("ngClass",t.VKq(49,ln,1===c.tabActive))("routerLink",t.VKq(51,We,t.lcZ(13,25,"/admin/student/classroom-details/"+c.classroomId+"/1"))),t.xp6(5),t.Oqu(t.lcZ(18,27,"lang_document_exam_exercises")),t.xp6(2),t.Q6J("ngClass",t.VKq(53,fi,2===c.tabActive))("routerLink",t.VKq(55,We,t.lcZ(20,29,"/admin/student/classroom-details/"+c.classroomId+"/2"))),t.xp6(5),t.Oqu(t.lcZ(25,31,"lang_student_news_board")),t.xp6(2),t.Q6J("ngIf",t.lcZ(27,33,t.Dn7(28,35,"","training_center_curriculum_in_classroom",!1))||t.lcZ(29,39,t.Dn7(30,41,"","training_center_student_mark",!1))),t.xp6(7),t.Q6J("ngIf",0===c.tabActive),t.xp6(1),t.Q6J("ngIf",1===c.tabActive),t.xp6(1),t.Q6J("ngIf",2===c.tabActive),t.xp6(1),t.Q6J("ngIf",3===c.tabActive),t.xp6(1),t.Q6J("ngIf",4===c.tabActive),t.xp6(1),t.Q6J("ngIf",5===c.tabActive),t.xp6(1),t.Q6J("ngIf",6===c.tabActive),t.xp6(1),t.Q6J("ngIf",7===c.tabActive),t.xp6(1),t.Q6J("ngIf",8===c.tabActive))},dependencies:[O.rH,v.mk,v.O5,s._,Ct.Nh5,xt.y,X,yt.Y,z.A,q.v,_n,je.E,vn.R,qt,v.Ov,M.Jy,M.JV,M.J8],encapsulation:2}),o})();var Vo=g(51261);function Ea(o,d){1&o&&t._UZ(0,"azt-loading-ui",16)}function vi(o,d){1&o&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Wo(o,d){if(1&o&&t._UZ(0,"azt-loading-effect",18),2&o){const n=t.oxw();t.Q6J("currentStatusObj",n.statusObj)}}function bi(o,d){1&o&&(t.TgZ(0,"span"),t._uU(1,"/"),t.qZA())}function Ci(o,d){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,bi,2,0,"span",33),t._uU(3),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.lastMonthPaid," "),t.xp6(1),t.Q6J("ngIf",n.lastMonthPaid),t.xp6(1),t.hij(" ",n.lastYearPaid," ")}}function Ao(o,d){1&o&&(t.TgZ(0,"span",49),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_core_hoc_thu")," "))}function So(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td",28),t.NdJ("click",function(){const f=t.CHM(n).$implicit,S=t.oxw(3);return t.KtG(S.goToProfile(f.classroomId,f.id))}),t._UZ(2,"azt-student-info-box",29),t.qZA(),t.TgZ(3,"td",30),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(6,"td",31)(7,"div",32),t.YNc(8,Ci,4,3,"span",33),t.YNc(9,Ao,3,3,"span",34),t.TgZ(10,"button",35),t.NdJ("click",function(){const f=t.CHM(n).$implicit,S=t.oxw(3);return t.KtG(S.openDialogCheckboxMonth(f))}),t.ALo(11,"mytranslate"),t.ALo(12,"mytranslate"),t.O4$(),t.TgZ(13,"svg",36),t._UZ(14,"path",37)(15,"path",38)(16,"path",39)(17,"path",40)(18,"path",41)(19,"path",42),t.qZA()()()(),t.kcU(),t.TgZ(20,"td",43)(21,"div",44),t._uU(22),t.ALo(23,"mytranslate"),t.ALo(24,"mytranslate"),t.qZA()(),t.TgZ(25,"td",43)(26,"div",44),t._uU(27),t.ALo(28,"mytranslate"),t.ALo(29,"mytranslate"),t.qZA()(),t.TgZ(30,"td",31)(31,"div",45)(32,"input",46),t.NdJ("change",function(u){const S=t.CHM(n).$implicit,D=t.oxw(3);return t.KtG(D.setAttendance("receivedDocument",S.id,u))}),t.qZA()()(),t.TgZ(33,"td",31)(34,"div",45)(35,"input",47),t.NdJ("change",function(u){const S=t.CHM(n).$implicit,D=t.oxw(3);return t.KtG(D.setAttendance("absent",S.id,u))}),t.qZA()()(),t.TgZ(36,"td",31)(37,"textarea",48),t.NdJ("input",function(u){const S=t.CHM(n).$implicit,D=t.oxw(3);return t.KtG(D.setReasonAttendance(S.id,u))}),t.ALo(38,"mytranslate"),t.qZA()()()}if(2&o){const n=d.$implicit;let c,u;t.xp6(2),t.Q6J("name",n.fullName)("avatar",n.avatar)("gender",n.gender)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt),t.xp6(2),t.Oqu(n.identificationNumber?t.xi3(5,27,n.identificationNumber,6):""),t.xp6(4),t.Q6J("ngIf",n.lastMonthPaid||n.lastYearPaid),t.xp6(1),t.Q6J("ngIf",!n.lastMonthPaid||!n.lastYearPaid),t.xp6(1),t.hYB("matTooltip","",t.lcZ(11,30,"lang_cms_auto_gen_test_select")," ",t.lcZ(12,32,"lang_auto_month"),""),t.xp6(10),t.Q6J("ngClass",n.totalRemainHomework>0||n.noHomework?"darkgray":n.finishHomework?"yellowgreen":"red"),t.xp6(2),t.hij(" ",t.lcZ(23,34,n.totalRemainHomework>0?t.lcZ(24,36,"lang_auto_chua_hoan_thanh")+" ("+n.totalRemainHomework.toString()+")":n.noHomework?"lang_auto_hoan_thanh":n.finishHomework?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.xp6(3),t.Q6J("ngClass",n.totalRemainExam>0||n.noExam?"darkgray":n.finishExam?"yellowgreen":"red"),t.xp6(2),t.hij(" ",t.lcZ(28,38,n.totalRemainExam>0?t.lcZ(29,40,"lang_auto_chua_hoan_thanh")+" ("+n.totalRemainExam.toString()+")":n.noExam?"lang_auto_hoan_thanh":n.finishExam?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.xp6(5),t.Q6J("id","received_document_"+n.id)("checked",null!==(c=null==n.attendance?null:n.attendance.receivedDocument)&&void 0!==c?c:0),t.xp6(3),t.Q6J("id","absent_"+n.id)("checked",null!==(u=null==n.attendance?null:n.attendance.absent)&&void 0!==u?u:0),t.xp6(2),t.s9C("placeholder",t.lcZ(38,42,"lang_business_reason_for_leave")),t.Q6J("id","attendance_reason_"+n.id)("disabled",!(null!=n.attendance&&n.attendance.absent))("value",null==n.attendance?null:n.attendance.reason)}}function Fn(o,d){if(1&o&&(t.TgZ(0,"div",20)(1,"table",21)(2,"thead")(3,"tr")(4,"th",22),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"th",23),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"th",24),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"th",25),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.TgZ(17,"th",26),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"th",24)(21,"div"),t._uU(22),t.ALo(23,"mytranslate"),t.qZA(),t._uU(24),t.ALo(25,"mytranslate"),t.qZA(),t.TgZ(26,"th",24),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"th",24),t._uU(30),t.ALo(31,"mytranslate"),t.qZA()()(),t.TgZ(32,"tbody"),t.YNc(33,So,39,44,"tr",27),t.qZA()()()),2&o){const n=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,11,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(9,13,"lang_auto_so_bao_danh")),t.xp6(3),t.AsE("",t.lcZ(12,15,"lang_test_market_withdraw_time")," ",t.lcZ(13,17,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.xp6(4),t.Oqu(t.lcZ(16,19,"lang_student_frontend_dashboard_homework")),t.xp6(3),t.Oqu(t.lcZ(19,21,"lang_auto_only_de_thi")),t.xp6(4),t.hij(" ",t.lcZ(23,23,"lang_core_da_phat")," "),t.xp6(2),t.hij(" ",t.lcZ(25,25,"lang_auto_tai_lieu")," "),t.xp6(3),t.hij(" ",t.lcZ(28,27,"lang_business_vang_mat")," "),t.xp6(3),t.Oqu(t.lcZ(31,29,"lang_auto_ly_do")),t.xp6(3),t.Q6J("ngForOf",n.listStudent)}}function Io(o,d){if(1&o&&t.YNc(0,Fn,34,31,"div",19),2&o){const n=t.oxw();t.Q6J("ngIf",n.listStudent.length>0)}}function Ti(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"azt-paging",53),t.NdJ("goToPaginationPage",function(u){t.CHM(n);const f=t.oxw(2);return t.KtG(f.setPageStudent(u))}),t.qZA()}if(2&o){const n=t.oxw(2);t.Q6J("pageObj",n.pageObj)}}function Da(o,d){if(1&o&&(t.TgZ(0,"div",50),t._UZ(1,"div"),t.YNc(2,Ti,1,1,"azt-paging",51),t.TgZ(3,"div",52),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&o){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.totalStudent>n.pageObj.pageSize),t.xp6(2),t.AsE("",n.totalStudent," ",t.lcZ(5,3,"lang_notify_list_students"),"")}}let Pa=(()=>{class o extends l.Q{openDialogCheckboxMonth(n){this.sAztDialogService.open(Qe,{width:"454px",restoreFocus:!1,data:n.id}).afterClosed().subscribe(c=>{c&&this.getListStudent()})}goToProfile(n,c){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+c,"?backto="+encodeURIComponent("/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(n){var c="/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,u="?page="+n+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(c,u),this.initStatusObj(),this.pageObj.setPageNumber(n),this.getListStudent()}onSearchBox(n){this.searchContentObj=n,this.setPageStudent(1)}setAttendance(n,c,u){var f=u.target,S=f.checked?1:0,D=this.listStudent.find(ut=>ut.id==c);if(D){var $=this.listAttendanceNew.find(Qt=>Qt.id==c);let ut=document.getElementById("attendance_reason_"+c);"absent"==n?(D.attendance.absent=S,f.checked?D.attendance.receivedDocument=0:(D.attendance.reason="",ut.value="")):(D.attendance.receivedDocument=S,f.checked&&(D.attendance.absent=0,D.attendance.reason="",ut.value="")),$?($.absent=D.attendance?.absent,$.receivedDocument=D.attendance?.receivedDocument,$.reason=ut.value):this.listAttendanceNew.push({id:c,absent:D.attendance?.absent,receivedDocument:D.attendance?.receivedDocument,reason:ut.value})}}setReasonAttendance(n,c){var u=c.target,f=this.listStudent.find(D=>D.id==n);if(f){var S=this.listAttendanceNew.find(D=>D.id==n);S?S.reason=u.value:this.listAttendanceNew.push({id:n,absent:f.attendance?.absent,receivedDocument:f.attendance?.receivedDocument,reason:u.value})}}saveAttendance(){this.isSave=!0;let n={programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listAttendanceNew};if(0==this.listAttendanceNew.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAttendancesPost(n).subscribe(c=>{c.success?(this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!0,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(c=>{c?(c.list.forEach(u=>{u.attendance||(u.attendance={id:0,programId:this.programId,sessionId:this.sessionId,classroomId:this.classroomId,studentId:u.id,absent:0,permission:0,reason:""})},c.list),this.listStudent=c.list,this.totalStudent=c.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,R.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let n=this.commonService.getMyQueryParam("backto");this.backToLink=n||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent(),super.ngOnInit()}constructor(n,c,u){super(),this.activeRoute=n,this.studentService=c,this.sAztDialogService=u,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.listAttendanceNew=[],this.searchContentObj=new et.h,this.pageObj=new Kt.m(20)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(O.gz),t.Y36(pn.V),t.Y36(Y.C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-attendance-student"]],features:[t.qOj],decls:22,vars:19,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","searchContentObj","placeholder","onSearch"],[3,"colorBackground"],["azt-track-service","attendance-student-Tj_9J-QZu",1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","flex justify-between items-center mt-5",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"mt-10","text-center"],[3,"currentStatusObj"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[1,"text-center","whitespace-nowrap","px-3"],[1,"text-center","whitespace-nowrap","px-2"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[4,"ngIf"],["class","darkgray",4,"ngIf"],["azt-track-service","attendance-student-j17JbU3oZS",1,"w-5","h-5","inline-block","ml-1","zoom-in",2,"margin-top","-2px","color","gray",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-calendar-search"],["d","M21 12V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h7.5"],["d","M16 2v4"],["d","M8 2v4"],["d","M3 10h18"],["d","M18 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6v0Z"],["d","m22 22-1.5-1.5"],[1,"text-center",3,"ngClass"],[1,"mx-auto",2,"width","max-content"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"id","checked","change"],["type","checkbox",1,"show-code","form-check-input","form-check-input-absent",3,"id","checked","change"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value","input"],[1,"darkgray"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"pageObj","goToPaginationPage"]],template:function(n,c){if(1&n&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.NdJ("onSearch",function(f){return c.onSearchBox(f.searchObj)}),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"flexed-on-the-top",8)(12,"button",9),t.NdJ("click",function(){return c.saveAttendance()}),t.YNc(13,Ea,1,0,"azt-loading-ui",10),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()()(),t.TgZ(16,"div",11),t.YNc(17,vi,3,3,"div",12),t.YNc(18,Wo,1,1,"azt-loading-effect",13),t.YNc(19,Io,1,1,"ng-template",null,14,t.W1O),t.qZA(),t.YNc(21,Da,6,5,"div",15),t.qZA()),2&n){const u=t.MAs(20);t.Q6J("headerBackToLink",c.backToLink),t.xp6(4),t.Oqu(t.lcZ(5,13,"lang_student_attendance_student")),t.xp6(5),t.Q6J("isServerSearch",!0)("searchContentObj",c.searchContentObj)("placeholder",t.lcZ(10,15,"lang_core_tim_theo_ten_phone_email")),t.xp6(2),t.Q6J("colorBackground","#f0f8ffe8"),t.xp6(1),t.Q6J("disabled",c.isSave),t.xp6(1),t.Q6J("ngIf",c.isSave),t.xp6(1),t.hij(" ",t.lcZ(15,17,"lang_auto_luu")," "),t.xp6(3),t.Q6J("ngIf",0==c.listStudent.length&&0==c.totalStudent),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",u),t.xp6(3),t.Q6J("ngIf",c.totalStudent>0)}},dependencies:[v.mk,v.sg,v.O5,ot.gM,nt.l,gt.L,dt.n,Vo.s,ct.W,re.a,s._,M.JV,M.gw],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),o})();var ki=g(36294);function za(o,d){if(1&o&&t._UZ(0,"azt-loading-effect",10),2&o){const n=t.oxw();t.Q6J("currentStatusObj",n.statusObj)}}function Ua(o,d){1&o&&(t.TgZ(0,"div",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_list_null")," "))}const wi=function(o){return{width:o}};function lt(o,d){if(1&o&&(t.TgZ(0,"div",24)(1,"div",25)(2,"div",26,27),t._UZ(4,"img",28),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",29)(7,"div",30),t._uU(8),t.qZA(),t.TgZ(9,"div",31),t._uU(10),t.qZA()()()()),2&o){const n=d.$implicit,c=t.MAs(3);t.xp6(4),t.s9C("src",""!=n.iconLink&&n.iconLink?n.iconLink:"https://mockup.textandtool.com/images/diendanh/u4711.svg",t.LSH),t.s9C("alt",t.lcZ(5,6,"lang_core_anh_sach")),t.xp6(2),t.Q6J("ngStyle",t.VKq(8,wi,"calc(100% -  "+(c.offsetWidth+12)+"px)")),t.xp6(1),t.s9C("matTooltip",n.name),t.xp6(1),t.Oqu(n.name),t.xp6(2),t.Oqu(n.description)}}function tr(o,d){1&o&&(t.TgZ(0,"div",32),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Dt(o,d){if(1&o&&(t.TgZ(0,"th",39)(1,"div",40),t._uU(2),t.qZA()()),2&o){const n=d.$implicit;t.xp6(1),t.s9C("matTooltip",n.name),t.xp6(1),t.hij(" ",n.name," ")}}const Ke=function(){return[]};function $e(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"td",45)(1,"div",46)(2,"input",47),t.NdJ("change",function(u){t.CHM(n);const f=t.oxw().$implicit,S=t.oxw(3);return t.KtG(S.setStatusBook(f,u))}),t.qZA()()()}if(2&o){const n=d.$implicit,c=t.oxw().$implicit,u=t.oxw(3);let f;t.xp6(2),t.MGl("id","input-book-",n.id,""),t.Q6J("value",n.id)("checked",u.checkStatusDistribute(n,null!==(f=c.books)&&void 0!==f?f:t.DdM(3,Ke)))}}function Sn(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td",41),t.NdJ("click",function(){const f=t.CHM(n).$implicit,S=t.oxw(3);return t.KtG(S.goToProfile(f.classroomId,f.id))}),t._UZ(2,"azt-student-info-box",42),t.qZA(),t.TgZ(3,"td",43),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.YNc(6,$e,3,4,"td",44),t.qZA()}if(2&o){const n=d.$implicit,c=t.oxw(3);let u;t.xp6(2),t.Q6J("name",n.fullName)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("avatar",n.avatar)("gender",n.gender)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt),t.xp6(2),t.Oqu(n.identificationNumber?t.xi3(5,12,n.identificationNumber,6):""),t.xp6(2),t.Q6J("ngForOf",null!==(u=null==c.listBook?null:c.listBook.list)&&void 0!==u?u:t.DdM(15,Ke))}}function Jn(o,d){if(1&o&&(t.TgZ(0,"div",33)(1,"drag-scroll")(2,"table",34)(3,"thead")(4,"tr")(5,"th",35),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"th",36),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.YNc(11,Dt,3,2,"th",37),t.qZA()(),t.TgZ(12,"tbody"),t.YNc(13,Sn,7,16,"tr",38),t.qZA()()()()),2&o){const n=t.oxw(2);let c;t.xp6(6),t.Oqu(t.lcZ(7,4,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(10,6,"lang_auto_so_bao_danh")),t.xp6(2),t.Q6J("ngForOf",null!==(c=null==n.listBook?null:n.listBook.list)&&void 0!==c?c:t.DdM(8,Ke)),t.xp6(2),t.Q6J("ngForOf",n.listStudent)}}function no(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",48),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",49),t.NdJ("click",function(){t.CHM(n);const u=t.oxw(2);return t.KtG(u.search(u.searchContentObj))}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_core_not_found_student"),"... "),t.xp6(3),t.Oqu(t.lcZ(5,4,"lang_powerpoint_frontend_chart_back")))}function Ko(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"azt-paging",17),t.NdJ("goToPaginationPage",function(u){t.CHM(n);const f=t.oxw(3);return t.KtG(f.setPageStudent(u))}),t.qZA()}if(2&o){const n=t.oxw(3);t.Q6J("pageObj",n.pageStudentObj)}}function oo(o,d){if(1&o&&(t.TgZ(0,"div",50),t._UZ(1,"div"),t.YNc(2,Ko,1,1,"azt-paging",51),t.TgZ(3,"div",52),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&o){const n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",n.totalStudent>n.pageStudentObj.pageSize),t.xp6(2),t.AsE("",n.totalStudent," ",t.lcZ(5,3,"lang_notify_list_students"),"")}}function io(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",11)(1,"div",12),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Ua,3,3,"div",13),t.TgZ(5,"div",14),t.YNc(6,lt,11,10,"div",15),t.qZA(),t.TgZ(7,"div",16)(8,"azt-paging",17),t.NdJ("goToPaginationPage",function(u){t.CHM(n);const f=t.oxw();return t.KtG(f.setPageBook(u))}),t.qZA()()(),t.TgZ(9,"div",18),t.YNc(10,tr,3,3,"div",19),t.YNc(11,Jn,14,9,"div",20),t.YNc(12,no,6,6,"div",21),t.qZA(),t.YNc(13,oo,6,5,"div",22)}if(2&o){const n=t.oxw();let c;t.xp6(2),t.Oqu(t.lcZ(3,8,"lang_core_thong_tin_sach")),t.xp6(2),t.Q6J("ngIf",!(null!=n.listBook&&n.listBook.list&&0!=(null==n.listBook?null:n.listBook.total)||""!=n.searchContentObj.searchContent)),t.xp6(2),t.Q6J("ngForOf",null!==(c=null==n.listBook?null:n.listBook.list)&&void 0!==c?c:t.DdM(10,Ke)),t.xp6(2),t.Q6J("pageObj",n.pageBookObj),t.xp6(2),t.Q6J("ngIf",0==n.listStudent.length&&""==n.searchContentObj.searchContent),t.xp6(1),t.Q6J("ngIf",n.listStudent.length>0),t.xp6(1),t.Q6J("ngIf",0==n.listStudent.length&&""!=n.searchContentObj.searchContent),t.xp6(1),t.Q6J("ngIf",n.totalStudent>0)}}let Oi=(()=>{class o extends l.Q{setPageStudent(n){var c="/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,u="?page="+n+"&backto="+encodeURIComponent(this.backLink);this.myNavigationWithQueryString(c,u),this.initStatusObj(),this.pageStudentObj.setPageNumber(n),this.getListStudent()}goToProfile(n,c){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+c,"?backto="+encodeURIComponent("/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}search(n){this.searchContentObj=n,this.setPageStudent(1)}setPageBook(n){this.pageBookObj.setPageNumber(n),this.getBooks()}checkStatusDistribute(n,c){for(let u=0;u<c.length;u++)if(c[u].bookId==n.id)return!0;return!1}getBooks(){this.waitDestroy(this.bookService.apiBooksListPost({page:this.pageBookObj.page,size:this.pageBookObj.pageSize,programId:this.programId}).subscribe(c=>{c?(this.listBook=c,this.pageBookObj.setTotalPages(this.listBook.total??0),this.getListStudent()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_sach",!0)}))}setStatusBook(n,c){var u=c.target;if(u.checked){var f={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:n.id,bookId:Number(u.value),activate:u.checked};this.waitDestroy(this.studentService.apiStudentsBooksPatch(f).subscribe(D=>{D.success||(document.getElementById("input-book-"+u.value).checked=!u.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}else{var S={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:n.id,bookId:Number(u.value)};this.waitDestroy(this.studentService.apiStudentsBooksDeletePost(S).subscribe(D=>{D.success||(document.getElementById("input-book-"+u.value).checked=!u.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageStudentObj.page,size:this.pageStudentObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!0,getMark:!0,getPayment:!1,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(c=>{c?(this.listStudent=c.list,this.totalStudent=c.total??0,this.pageStudentObj.setTotalPages(this.totalStudent),this.stopStatusObj(),this.searchContentObj.setLoading(!1)):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.searchContentObj.setLoading(!1))}))}ngOnInit(){(0,R.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageStudentObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let n=this.commonService.getMyQueryParam("backto");this.backLink=n||`/admin/student/classroom-details/${this.classroomId}/3`,this.getBooks(),super.ngOnInit()}constructor(n,c,u){super(),this.bookService=n,this.studentService=c,this.activeRoute=u,this.backLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.totalStudent=0,this.pageStudent=1,this.listStudent=[],this.searchContentObj=new et.h,this.pageBookObj=new Kt.m(20),this.pageStudentObj=new Kt.m(20)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(ki.Z),t.Y36(pn.V),t.Y36(O.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-distribute-documents"]],features:[t.qOj],decls:14,vars:11,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"col-span-12","mt-3"],[1,"text-base","font-medium","mb-2"],["class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-3"],[3,"pageObj","goToPaginationPage"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%",4,"ngIf"],["class","flex justify-center mt-2",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4"],[1,"flex","w-70","box-book"],[1,"box-image"],["imageBook",""],["id","blah",3,"src","alt"],[1,"ml-3",3,"ngStyle"],[1,"text-sm","font-medium","truncate",3,"matTooltip"],[1,"scroll"],[1,"mt-10","text-center"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center whitespace-nowrap","style","max-width: 100px !important",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-center","whitespace-nowrap",2,"max-width","100px !important"],[1,"truncate",3,"matTooltip"],[1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input","mr-1",3,"id","value","checked","change"],[1,"flex","justify-center","mt-2"],[1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"]],template:function(n,c){if(1&n&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.NdJ("onSearch",function(f){return c.search(f.searchObj)}),t.ALo(10,"mytranslate"),t.qZA()()()()(),t.YNc(11,za,1,1,"azt-loading-effect",8),t.YNc(12,io,14,11,"ng-template",null,9,t.W1O),t.qZA()),2&n){const u=t.MAs(13);t.Q6J("headerBackToLink",c.backLink),t.xp6(4),t.Oqu(t.lcZ(5,7,"lang_student_distribute_books")),t.xp6(5),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",c.searchContentObj),t.xp6(2),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",u)}},dependencies:[v.sg,v.O5,v.PC,ot.gM,nt.l,gt.L,ct.W,re.a,s._,ge.HU,ge.$Z,M.JV,M.gw],styles:[".add-image-label[_ngcontent-%COMP%]{background:skyblue;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;left:17px;font-size:10px;text-align:center;border-radius:2px}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:12px}.textarea-description[_ngcontent-%COMP%]{height:69px;max-height:70px;border-radius:5px;font-size:12px}.box-image[_ngcontent-%COMP%]{height:102px;width:76px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:72px;max-height:98px;margin:auto}.box-book[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:5px;padding:.5rem;height:118px;min-width:300px}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.scroll[_ngcontent-%COMP%]{overflow:auto;max-height:78px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px;width:8px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:darkgray}"]}),o})();var Fa=g(9400);let Xe=(()=>{class o extends l.Q{ngOnInit(){(0,R.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id"));let n=this.commonService.getMyQueryParam("studentId"),c=this.commonService.getMyQueryParam("backTo");this.backToLink=n?"/admin/student/classroom-details/"+this.classroomId+"/4":c||"/admin/student/classroom-details/"+this.classroomId+"/3"}),super.ngOnInit()}constructor(n){super(),this.activeRoute=n,this.backToLink="",this.isShowData=!1,this.classroomId=0,this.programId=0,this.sessionId=0}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(O.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-enter-score"]],features:[t.qOj],decls:2,vars:6,consts:[[3,"headerBackToLink"],[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(n,c){1&n&&(t.TgZ(0,"teacher-layout",0),t._UZ(1,"app-table-score",1),t.qZA()),2&n&&(t.Q6J("headerBackToLink",c.backToLink),t.xp6(1),t.Q6J("isStudent",!1)("screenType","ENTER_SCORE")("classroomId",c.classroomId)("programId",c.programId)("sessionId",c.sessionId))},dependencies:[s._,Fa.B],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),o})();var be=g(9345),tn=g(75470),qn=g(87466),yi=g(98525);function In(o,d){1&o&&(t.TgZ(0,"div",33),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}function $o(o,d){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const n=t.oxw(2);t.xp6(1),t.hij("- ",n.selectedYearValue+1,"")}}function Xo(o,d){if(1&o&&(t.TgZ(0,"mat-option",34),t._uU(1),t.YNc(2,$o,2,1,"span",35),t.qZA()),2&o){const n=d.$implicit,c=t.oxw();t.Q6J("value",n),t.xp6(1),t.hij(" ",n," "),t.xp6(1),t.Q6J("ngIf",c.selectedYearValue==n)}}function Ja(o,d){1&o&&(t.TgZ(0,"div",36),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" *",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_school_year"),". "))}function qa(o,d){if(1&o&&(t.TgZ(0,"span",41),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.groupObj.name))}}function Qa(o,d){if(1&o&&(t.TgZ(0,"span",42),t.ALo(1,"mytranslate"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&o){const n=t.oxw().$implicit;t.s9C("matTooltip",t.lcZ(1,2,n.groupObj.name)),t.xp6(2),t.Oqu(t.lcZ(3,4,n.groupObj.name))}}function ao(o,d){if(1&o&&(t.ynx(0),t.TgZ(1,"div",37)(2,"mat-radio-button",38),t.YNc(3,qa,3,3,"span",39),t.ALo(4,"mytranslate"),t.YNc(5,Qa,4,6,"span",40),t.ALo(6,"mytranslate"),t.qZA()(),t.BQk()),2&o){const n=d.$implicit;t.xp6(2),t.Q6J("value",n.groupObj.id),t.xp6(1),t.Q6J("ngIf",n.groupObj.name&&t.lcZ(4,3,n.groupObj.name).length<15),t.xp6(2),t.Q6J("ngIf",n.groupObj.name&&t.lcZ(6,5,n.groupObj.name).length>=15)}}function Ba(o,d){1&o&&(t.TgZ(0,"div",43),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_name_group")," "))}function Ya(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"a",44),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.isShowCreateGroupOfClassroomOfClassroomBox(!0))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_+_them_nhom")," "))}function Ha(o,d){1&o&&(t._UZ(0,"input",45,46),t.ALo(2,"mytranslate")),2&o&&t.s9C("placeholder",t.lcZ(2,1,"lang_auto_ten_nhom_vd_khoi_1_khoi_2"))}function Ga(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",47)(1,"button",48),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.createNewGroupOfClassroom())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",49),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.isShowCreateGroupOfClassroomOfClassroomBox(!1))}),t.O4$(),t.TgZ(5,"svg",50),t._UZ(6,"line",51)(7,"line",52),t.qZA()()()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("disabled",n.form.controls.nameGroup.errors),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_auto_tao_nhom")," ")}}function Zi(o,d){1&o&&(t.TgZ(0,"div",53),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" *",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_enter_name_group"),". "))}function Ra(o,d){1&o&&(t.TgZ(0,"span",56),t._UZ(1,"azt-loading-ui"),t.qZA())}function Va(o,d){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",54),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.saveClassroomObj(!1))}),t.YNc(2,Ra,2,0,"span",55),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("disabled",n.statusObj.loading||n.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading&&"save"==n.activeButton),t.xp6(1),t.hij(" ",t.lcZ(4,3,"lang_button_save")," ")}}function Wa(o,d){1&o&&(t.TgZ(0,"span",56),t._UZ(1,"azt-loading-ui"),t.qZA())}function Ka(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"button",57),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.updateClassroomObj())}),t.YNc(1,Wa,2,0,"span",55),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("disabled",n.statusObj.loading||n.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(3,3,"lang_button_update")," ")}}function $a(o,d){1&o&&(t.TgZ(0,"span",56),t._UZ(1,"azt-loading-ui"),t.qZA())}function Xa(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.saveClassroomObj(!0))}),t.YNc(1,$a,2,0,"span",55),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("disabled",n.statusObj.loading||n.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading&&"save_and_close"==n.activeButton),t.xp6(1),t.hij(" ",t.lcZ(3,3,"lang_core_luu_va_dong")," ")}}let ti=(()=>{class o extends Vt.e{closeDialog(){this.dialogRef.close(!!this.hasCreateNewGroup)}createNewGroupOfClassroom(){if(this.initStatusObj(),this.form.controls.nameGroup.valid){this.isShowCreateGroupOfClassroom=!1;let n={groupName:this.form.getRawValue().nameGroup};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomGroupPost(n).subscribe(c=>{1==c.success?(this.hasCreateNewGroup=!0,this.getClassroomObjs(),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):this.errorStatusObj(c.message??"",!0)}))}}isShowCreateGroupOfClassroomOfClassroomBox(n){this.form.controls.nameGroup.setValue(""),this.isShowCreateGroupOfClassroom=n}updateClassroomObj(){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;let c=this.form.getRawValue().group;c=c!=this.fakeGroupValue?c:void 0;let u={id:this.classroomObj?.id??0,classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:c??0};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomWithGroupPost(u).subscribe(f=>{1==f.success?f.data?.isDuplicatedClassroomName?this.errorStatusObj(f.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):(this.successStatusObj("lang_auto_sua_lop_hoc_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_auto_sua_lop_hoc_khong_thanh_cong",!0)}))}saveClassroomObj(n){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;this.initStatusObj(),this.activeButton=n?"save_and_close":"save";let u=this.form.getRawValue().group;u=u!=this.fakeGroupValue?u:void 0;let f={classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:u};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(f).subscribe(S=>{if(1==S.success)if(S.data?.isDuplicatedClassroomName)this.errorStatusObj(S.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0);else{this.successStatusObj("lang_auto_them_lop_thanh_cong",!0);let D=S.data?.obj.id;n&&(this.dialogRef.close(),this.commonService.myNavigation(`/admin/student/classroom-details/${D}/0`)),this.form.controls.nameClass.setValue(""),this.form.markAsPristine()}else this.errorStatusObj("lang_auto_them_lop_hoc_khong_thanh_cong",!0)}))}handleData(){let n=(new Date).getFullYear();for(let S=n-20;S<=n+40;S++)this.years.push(S);null!=this.classroomObj&&(null==this.classroomObj.year&&(this.classroomObj.year=""),null==this.classroomObj.classroomGroupId&&(this.classroomObj.classroomGroupId=this.fakeGroupValue));let c=this.classroomObj?this.classroomObj?.year?.split(" ")[0]:"";this.selectedYearValue=""!=c?parseInt(c??"",10):n;let u=this.classroomObj?this.classroomObj.classroomGroupId:this.fakeGroupValue;this.form=new it.cw({nameClass:new it.NI(this.classroomObj?this.classroomObj.name:"",{nonNullable:!0,validators:[it.kI.required]}),nameGroup:new it.NI("",{nonNullable:!0,validators:[it.kI.required]}),group:new it.NI(u,{nonNullable:!0,validators:[it.kI.required]}),year:new it.NI(this.selectedYearValue,{nonNullable:!0,validators:[it.kI.required]})})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(n=>{1==n.success?(this.activeClassroomData=n?.data?.activeClassroomData,this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){this.handleData(),this.getClassroomObjs()}constructor(n,c,u){super(u,c),this.classroomGroupService=n,this.dialogRef=c,this.data=u,this.selectedYearValue=0,this.isShowCreateGroupOfClassroom=!1,this.fakeGroupValue=-2,this.years=[],this.hasCreateNewGroup=!1,this.activeButton="save",this.classroomObj=u.classroomObj,this.form=new it.cw({nameClass:new it.NI("",{nonNullable:!0,validators:[it.kI.required]}),nameGroup:new it.NI("",{nonNullable:!0,validators:[it.kI.required]}),group:new it.NI(0,{nonNullable:!0,validators:[it.kI.required]}),year:new it.NI(0,{nonNullable:!0,validators:[it.kI.required]})})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(tn.c8),t.Y36(zt.so,8),t.Y36(zt.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-or-classroom"]],features:[t.qOj],decls:47,vars:34,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","nameClass",1,"form-label"],["type","text","id","nameClass","formControlName","nameClass",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","year",1,"form-label"],["appearance","outline"],["formControlName","year","id","year",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-xs text-danger mt-1","style","width: 100%; margin: auto",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["formControlName","group"],[1,"grid","grid-cols-10","gap-4","sm:gap-6","azt-create-update-classroom","px-3"],[4,"ngFor","ngForOf"],["class","text-danger text-danger mt-1",4,"ngIf"],[1,"p-3","flex","flex-col","md:flex-row","md:items-center"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN","class","m-1 btn-text-primary",3,"click",4,"ngIf"],["type","text","class","form-control mr-2","style","width: auto","formControlName","nameGroup",3,"placeholder",4,"ngIf"],["class","flex",4,"ngIf"],["class","text-danger pl-5 pb-2","style","max-width: 250px",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],[4,"ngIf","ngIfElse"],["updateData",""],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl","class","btn btn-info",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[4,"ngIf"],[1,"text-xs","text-danger","mt-1",2,"width","100%","margin","auto"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3","w-full"],["color","primary",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"text-danger","text-danger","mt-1"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN",1,"m-1","btn-text-primary",3,"click"],["type","text","formControlName","nameGroup",1,"form-control","mr-2",2,"width","auto",3,"placeholder"],["nameGroup",""],[1,"flex"],["azt-track-service","create-or-update-classroom-dialog-93qcHBpjZM3",1,"btn","block","btn-primary","mr-2","ml-0","md:ml-2","mt-2","md:mt-0",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-F4XQrjncsAd",1,"btn","block","btn-secondary","mt-2","md:mt-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"text-danger","pl-5","pb-2",2,"max-width","250px"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","w-24","btn-primary","mr-2",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl",1,"btn","btn-info",3,"disabled","click"]],template:function(n,c){if(1&n&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"azt-mat-dialog-content")(9,"div",5)(10,"div",6)(11,"label",7),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t._UZ(14,"input",8),t.ALo(15,"mytranslate"),t.YNc(16,In,3,3,"div",9),t.qZA(),t.TgZ(17,"div",10)(18,"label",11),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"mat-form-field",12)(22,"mat-select",13),t.NdJ("valueChange",function(f){return c.selectedYearValue=f}),t.YNc(23,Xo,3,3,"mat-option",14),t.qZA()(),t.YNc(24,Ja,3,3,"div",15),t.qZA(),t.TgZ(25,"div",16)(26,"div",17),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"div",18)(30,"mat-radio-group",19)(31,"div",20),t.YNc(32,ao,7,7,"ng-container",21),t.qZA()(),t.YNc(33,Ba,3,3,"div",22),t.TgZ(34,"div",23),t.YNc(35,Ya,3,3,"a",24),t.YNc(36,Ha,3,3,"input",25),t.YNc(37,Ga,8,4,"div",26),t.qZA(),t.YNc(38,Zi,3,3,"div",27),t.qZA()()()()(),t.TgZ(39,"div",28)(40,"button",29),t.NdJ("click",function(){return c.closeDialog()}),t._uU(41),t.ALo(42,"mytranslate"),t.qZA(),t.YNc(43,Va,5,5,"ng-container",30),t.YNc(44,Ka,4,5,"ng-template",null,31,t.W1O),t.YNc(46,Xa,4,5,"button",32),t.qZA()()()),2&n){const u=t.MAs(45);t.xp6(1),t.Q6J("formGroup",c.form),t.xp6(4),t.hij(" ",c.classroomObj?t.lcZ(7,22,"lang_student_classroom_list_utils_create_class_update_class"):t.lcZ(6,20,"lang_student_classroom_list_utils_create_class_add_class")," "),t.xp6(7),t.hij(" ",t.lcZ(13,24,"lang_auto_ten_lop")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(15,26,"lang_auto_nhap_ten_lop")),t.xp6(2),t.Q6J("ngIf",c.form.controls.nameClass.dirty&&c.form.controls.nameClass.errors),t.xp6(3),t.hij(" ",t.lcZ(20,28,"lang_auto_nam_hoc")," "),t.xp6(3),t.Q6J("value",c.selectedYearValue),t.xp6(1),t.Q6J("ngForOf",c.years),t.xp6(1),t.Q6J("ngIf",c.form.controls.year.dirty&&c.form.controls.year.errors),t.xp6(3),t.hij(" ",t.lcZ(28,30,"lang_student_classroom_list_utils_create_class_choose_group_class")," "),t.xp6(5),t.Q6J("ngForOf",c.activeClassroomData),t.xp6(1),t.Q6J("ngIf",c.form.controls.group.dirty&&c.form.controls.group.errors),t.xp6(2),t.Q6J("ngIf",0==c.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",1==c.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",c.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",c.isShowCreateGroupOfClassroom&&c.form.controls.nameGroup.dirty&&c.form.controls.nameGroup.errors),t.xp6(3),t.Oqu(t.lcZ(42,32,"lang_button_cancel")),t.xp6(2),t.Q6J("ngIf",!c.classroomObj)("ngIfElse",u),t.xp6(3),t.Q6J("ngIf",!c.classroomObj)}},dependencies:[v.sg,v.O5,mn.ey,Tn.KE,qn.VQ,qn.U0,yi.gD,ot.gM,it._Y,it.Fj,it.JJ,it.JL,it.sg,it.u,Re.M,de.R,dt.n,M.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),o})();var ts=g(23433),es=g(35149);let Ai=(()=>{class o extends es.w{reloadClassrooms(n){this.typeFilter=n??"all",this.getClassroomObjs()}eventOfClassroomMenu(n){n&&this.getClassroomObjs()}updateGroupSuccessEvent(n){n&&this.getClassroomObjs()}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet(this.typeFilter).subscribe(n=>{n.success?(this.classroomGroupData=(this.isShowActiveClassroom?n?.data?.activeClassroomData:n?.data?.storageClassroomData)??[],this.totalStorageClassroom=this.commonService.concatMultipleArray(n?.data?.storageClassroomData?.map(c=>c.classroomObjs)??[]).length,this.isShowActiveClassroom||(this.classroomGroupData=this.classroomGroupData.filter(c=>c.classroomObjs.length>0)),this.initData(),this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}constructor(){super(),this.typeFilter="all",this.classroomGroupService=(0,t.f3M)(tn.c8),this.isShowActiveClassroom=!1,this.totalStorageClassroom=0}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-base-show-classrooms"]],features:[t.qOj],decls:0,vars:0,template:function(n,c){},encapsulation:2}),o})();function so(o,d){1&o&&(t.TgZ(0,"span",10),t._UZ(1,"azt-loading-ui"),t.qZA())}let ns=(()=>{class o extends Vt.e{closeDialog(n){this.dialogRef.close(n)}deleteClassroomObj(){this.classroomObj.isShareClassroom?this.updateClassroomToGroup():(this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomObjGet(this.classroomObj?.id??0).subscribe(n=>{1==n.success?(this.successStatusObj("lang_auto_xoa_lop_hoc_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_auto_xoa_lop_hoc_khong_thanh_cong",!0),this.dialogRef.close())})))}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classroomObj.id}).subscribe(c=>{1==c.success?(this.successStatusObj("lang_core_xoa_nhom_lop_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_core_xoa_nhom_lop_khong_thanh_cong",!0),this.closeDialog(!1))})}constructor(n,c,u){super(u,c),this.classroomGroupService=n,this.dialogRef=c,this.data=u,this.classroomObj=u.classroomObj}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(tn.c8),t.Y36(zt.so,8),t.Y36(zt.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-teacher-delete-classroom"]],features:[t.qOj],decls:18,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-classroom-plZFV82pDhH",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-classroom-f8Z8p51QYG8",1,"btn","w-24","btn-danger",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,c){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.TgZ(8,"span",5),t._uU(9),t.qZA()()()()(),t.TgZ(10,"div",6)(11,"button",7),t.NdJ("click",function(){return c.closeDialog(!1)}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"button",8),t.NdJ("click",function(){return c.deleteClassroomObj()}),t.YNc(15,so,2,0,"span",9),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(5),t.AsE(" ",c.classroomObj.isShareClassroom?t.lcZ(6,7,"lang_core_bo_quyen_luu_y_sau_khi_xoa_lop_duoc_chia_se"):""," ",t.lcZ(7,9,"lang_student_classroom_list_utils_delete_class")," "),t.xp6(4),t.Oqu(c.classroomObj.name),t.xp6(3),t.hij(" ",t.lcZ(13,11,"lang_button_cancel")," "),t.xp6(2),t.Q6J("disabled",1==c.statusObj.loading),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(17,13,"lang_button_delete")," "))},dependencies:[v.O5,dt.n,M.JV],encapsulation:2}),o})();function os(o,d){1&o&&(t.TgZ(0,"span",15),t._UZ(1,"azt-loading-ui"),t.qZA())}function is(o,d){if(1&o&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o){const n=t.oxw(3).$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.groupObj.name))}}function as(o,d){if(1&o&&(t.TgZ(0,"span",24),t.ALo(1,"mytranslate"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&o){const n=t.oxw(3).$implicit;t.s9C("matTooltip",t.lcZ(1,2,n.groupObj.name)),t.xp6(2),t.Oqu(t.lcZ(3,4,n.groupObj.name))}}function ss(o,d){if(1&o&&(t.TgZ(0,"mat-radio-button",20),t.YNc(1,is,3,3,"span",21),t.YNc(2,as,4,6,"span",22),t.qZA()),2&o){const n=t.oxw(2).$implicit;t.Q6J("value",n.groupObj.id),t.xp6(1),t.Q6J("ngIf",n.groupObj.name&&n.groupObj.name.length<15),t.xp6(1),t.Q6J("ngIf",n.groupObj.name&&n.groupObj.name.length>=15)}}function rs(o,d){if(1&o&&(t.TgZ(0,"div",18),t.YNc(1,ss,3,3,"mat-radio-button",19),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null!=n.groupObj)}}function ls(o,d){1&o&&(t.TgZ(0,"div",25)(1,"mat-radio-button",20),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("value",0),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_student_classroom_list_other")," "))}function cs(o,d){if(1&o&&(t.ynx(0),t.YNc(1,rs,2,1,"div",16),t.YNc(2,ls,4,4,"div",17),t.BQk()),2&o){const n=d.$implicit;t.xp6(1),t.Q6J("ngIf",null!=n.groupObj),t.xp6(1),t.Q6J("ngIf",null==n.groupObj)}}function _s(o,d){1&o&&(t.TgZ(0,"span",26),t._UZ(1,"azt-loading-ui"),t.qZA())}let ms=(()=>{class o extends Vt.e{closeDialog(){this.dialogRef.close()}chooseGroup(){let n=this.form.getRawValue();this.groupId=n.groupId!=this.fakeGroupValue?n.groupId:void 0}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classId,groupId:this.groupId}).subscribe(c=>{1==c.success?(this.successStatusObj("lang_core_di_chuyen_nhom_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_core_di_chuyen_nhom_khong_thanh_cong",!0),this.closeDialog())})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(n=>{if(1==n.success){for(var c of(this.activeClassroomData=n?.data?.activeClassroomData??[],this.activeClassroomData))c.classroomObjs.find(S=>S.id==this.classId)&&(this.form=new it.cw({groupId:new it.NI(c.groupObj.id,{nonNullable:!0,validators:[it.kI.required]})}));this.successStatusObj()}else this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){this.getClassroomObjs()}constructor(n,c,u){super(u,c),this.classroomGroupService=n,this.dialogRef=c,this.data=u,this.classId=0,this.fakeGroupValue=-2,this.classId=u.classId,this.form=new it.cw({groupId:new it.NI(void 0,{nonNullable:!0,validators:[it.kI.required]})})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(tn.c8),t.Y36(zt.so,8),t.Y36(zt.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-move-classroom-to-group"]],features:[t.qOj],decls:22,vars:14,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class","list-group"],[1,"pt-2"],["class","w-4 h-4 inline-block",4,"ngIf"],["formControlName","groupId",3,"change"],[1,"grid","grid-cols-12","gap-4","sm:gap-6","azt-create-update-classroom"],[4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6",4,"ngIf"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6","w-full"],["color","primary","size","small","class","w-full",3,"value",4,"ngIf"],["color","primary","size","small",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,c){1&n&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6),t.YNc(10,os,2,0,"span",7),t.TgZ(11,"mat-radio-group",8),t.NdJ("change",function(){return c.chooseGroup()}),t.TgZ(12,"div",9),t.YNc(13,cs,3,2,"ng-container",10),t.qZA()()()()()(),t.TgZ(14,"div",11)(15,"button",12),t.NdJ("click",function(){return c.closeDialog()}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"button",13),t.NdJ("click",function(){return c.updateClassroomToGroup()}),t.YNc(19,_s,2,0,"span",14),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()),2&n&&(t.xp6(1),t.Q6J("formGroup",c.form),t.xp6(4),t.hij(" ",t.lcZ(6,8,"lang_core_chon_nhom_lop_muon_chuyen_sang")," "),t.xp6(5),t.Q6J("ngIf",c.statusObj.loading),t.xp6(3),t.Q6J("ngForOf",c.activeClassroomData),t.xp6(3),t.Oqu(t.lcZ(17,10,"lang_button_cancel")),t.xp6(2),t.Q6J("disabled",c.form.controls.groupId.errors),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(21,12,"lang_button_update")," "))},dependencies:[v.sg,v.O5,qn.VQ,qn.U0,ot.gM,it._Y,it.JJ,it.JL,it.sg,it.u,Re.M,de.R,dt.n,M.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:210px;vertical-align:middle;cursor:pointer;margin-left:-5px}.list-group[_ngcontent-%COMP%]   .mdc-radio__inner-circle[_ngcontent-%COMP%]{border-width:7px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio__background[_ngcontent-%COMP%]{width:15px!important;height:15px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]   .mdc-radio__native-control[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{padding:calc((var(--mdc-radio-state-layer-size, 30px) - 20px) / 2)}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{display:flex!important;width:auto!important;height:auto!important}@media (max-width: 767px){.truncate[_ngcontent-%COMP%]{max-width:190px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),o})();function ds(o,d){1&o&&(t.TgZ(0,"div",15)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_homework_add_home_work_share")))}function us(o,d){if(1&o&&(t.TgZ(0,"div",16)(1,"a",17),t.NdJ("click",function(c){return c.preventDefault()}),t.TgZ(2,"span",18),t._UZ(3,"lucide-icon",19),t.qZA()()()),2&o){t.oxw();const n=t.MAs(17);t.xp6(1),t.Q6J("matMenuTriggerFor",n)}}function ps(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"li")(1,"a",20),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.editClassroomDialog())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",22)(4,"path",23),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&o&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_sua_lop")," "))}function gs(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"li")(1,"a",24),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.copyClassroomObj())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"rect",25)(4,"path",26),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&o&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_nhan_ban_lop")," "))}function hs(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"li")(1,"a",27),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.moveClassroomToStorage())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"ellipse",28)(4,"path",29)(5,"path",30),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&o&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_dua_vao_luu_tru")," "))}function fs(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"li")(1,"a",31),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.moveSharedClassroomToStorage())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"ellipse",28)(4,"path",29)(5,"path",30),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&o&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_dua_vao_luu_tru")," "))}function xs(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"li")(1,"a",32),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.moveClassroomFromStorageToActive())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",33)(4,"path",34)(5,"path",35)(6,"path",36),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&o&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_khoi_phuc")," "))}function vs(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"li")(1,"a",37),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.moveSharedClassroomFromStorageToActive())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",33)(4,"path",34)(5,"path",35)(6,"path",36),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&o&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_khoi_phuc")," "))}function bs(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"li")(1,"a",37),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.updateClassroom())}),t.O4$(),t.TgZ(2,"svg",21),t._UZ(3,"path",38)(4,"path",39)(5,"path",40)(6,"path",41)(7,"path",42),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&o&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_core_sua_di_chuyen")," "))}function Cs(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"li")(1,"a",43),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.deleteClassroomDialog())}),t.O4$(),t.TgZ(2,"svg",44),t._UZ(3,"polyline",45)(4,"path",46),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&o&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_xoa_lop")," "))}const Ts=function(o){return[o]};let Si=(()=>{class o extends l.Q{goToMergeList(){this.commonService.myNavigation("/admin/student/merge-student/"+this.classroomObj.id)}updateClassroom(){this.sAztDialogService.open(ms,{data:{classId:this.classroomObj.id},width:"550px",restoreFocus:!1}).afterClosed().subscribe(c=>{c&&this.eventOfClassroomMenu.emit(!0)})}moveClassroomToStorage(){this.classroomGroupService.apiClassroomGroupMoveClassroomToStorageGet(this.classroomObj.id??0).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj("lang_auto_dua_vao_luu_tru_khong_thanh_cong")})}moveSharedClassroomToStorage(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:5}).subscribe(c=>{1==c.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj(c.message??"")})}moveClassroomFromStorageToActive(){this.classroomGroupService.apiClassroomGroupRestoreClassroomGet(this.classroomObj.id??0).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj("lang_auto_khoi_phuc_lop_hoc_khong_thanh_cong")})}moveSharedClassroomFromStorageToActive(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:2}).subscribe(c=>{1==c.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj(c.message??"")})}editClassroomDialog(){this.sAztDialogService.open(ti,{data:{classroomObj:this.classroomObj},width:"550px",restoreFocus:!1}).afterClosed().subscribe(c=>{c&&this.eventOfClassroomMenu.emit(!0)})}deleteClassroomDialog(){this.sAztDialogService.open(ns,{width:"400px",data:{classroomObj:this.classroomObj},restoreFocus:!1}).afterClosed().subscribe(c=>{c&&this.eventOfClassroomMenu.emit(!0)})}copyClassroomObj(){this.showSuccessSnack("lang_auto_dang_nhan_ban_lop_hoc_vui_long_doi_trong_giay_lat_doing"),this.classroomGroupService.apiClassroomGroupCopyClassroomGet(this.classroomObj.id??0).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_nhan_ban_lop_hoc_thanh_cong",!0)):this.errorStatusObj("lang_auto_nhan_ban_lop_hoc_khong_thanh_cong",!0)})}ngOnInit(){super.ngOnInit(),this.programId=this.commonService.getMyQueryParam("programId")}constructor(n,c,u){super(),this.classroomGroupService=n,this.permissionTeamService=c,this.sAztDialogService=u,this.eventOfClassroomMenu=new t.vpe,this.screenTemplate=""}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(tn.c8),t.Y36(tn.sb),t.Y36(Y.C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["azt-information-class-box"]],inputs:{classroomObj:"classroomObj",screenTemplate:"screenTemplate"},outputs:{eventOfClassroomMenu:"eventOfClassroomMenu"},features:[t.qOj],decls:31,vars:36,consts:[[1,"relative"],["azt-track-service","information-class-box-lTAPwcAOtkX",1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-4","cursor-pointer","block",2,"background","#eee",3,"routerLink"],[1,"flex","items-center"],[1,"block","font-medium","truncate",2,"max-width","70%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"flex"],[1,"text-slate-500","mr-auto","text-xs","mt-2"],[1,"text-slate-500","text-xs","mt-2"],["class","ribbon",4,"ngIf"],["class","ml-auto absolute top-0 right-0","style","margin: 15px",4,"ngIf"],["xPosition","before"],["classroomMenuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[4,"ngIf"],[1,"ribbon"],[1,"ml-auto","absolute","top-0","right-0",2,"margin","15px"],["azt-track-service","information-class-box-tDPvhBl5vWp",1,"clickable","flex","items-center","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],[1,"w-5","h-5","text-slate-500","inline-block"],["name","more-horizontal"],["azt-track-service","information-class-box-Y6FVEqAKljD",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","information-class-box-1Z4loYYCXOT",1,"dropdown-item",3,"click"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],["azt-track-service","information-class-box-yNwo0EZravB",1,"dropdown-item",3,"click"],["cx","12","cy","5","rx","9","ry","3"],["d","M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"],["d","M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"],["azt-track-service","information-class-box-OkjnS3UN_Xz",1,"dropdown-item",3,"click"],["azt-track-service","information-class-box-5V-axi1fKp3",1,"dropdown-item",3,"click"],["d","M10 2h4"],["d","M12 14v-4"],["d","M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6"],["d","M9 17H4v5"],["azt-track-service","information-class-box-yPIM4KNi4qL",1,"dropdown-item",3,"click"],["d","M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22"],["d","m18 2 4 4-4 4"],["d","M2 6h1.9c1.5 0 2.9.9 3.6 2.2"],["d","M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8"],["d","m18 14 4 4-4 4"],["azt-track-service","information-class-box-4Glzv5SSUAO",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(n,c){if(1&n&&(t.TgZ(0,"div",0)(1,"a",1),t.ALo(2,"navigationLocalize"),t.TgZ(3,"div",2)(4,"a",3,4),t._uU(6),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div",7),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()(),t.YNc(14,ds,4,3,"div",8),t.qZA(),t.YNc(15,us,4,1,"div",9),t.qZA(),t.TgZ(16,"mat-menu",10,11)(18,"div",12)(19,"ul",13),t.YNc(20,ps,7,3,"li",14),t.ALo(21,"editPermission"),t.YNc(22,gs,7,3,"li",14),t.ALo(23,"fullPermission"),t.YNc(24,hs,8,3,"li",14),t.YNc(25,fs,8,3,"li",14),t.YNc(26,xs,9,3,"li",14),t.YNc(27,vs,9,3,"li",14),t.YNc(28,bs,10,3,"li",14),t.YNc(29,Cs,7,3,"li",14),t.ALo(30,"deletePermission"),t.qZA()()()),2&n){const u=t.MAs(5);t.xp6(1),t.Q6J("routerLink",t.VKq(34,Ts,t.lcZ(2,19,"/admin/student/classroom-details/"+c.classroomObj.id+(c.programId?"/3":"/0")))),t.xp6(3),t.s9C("matTooltip",c.classroomObj.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",u.isDisabled),t.xp6(2),t.hij(" ",c.classroomObj.name," "),t.xp6(3),t.AsE("",t.lcZ(10,21,"lang_auto_si_so"),": ",c.classroomObj.countStudents,""),t.xp6(3),t.AsE("",t.lcZ(13,23,"lang_auto_nam_hoc"),": ",c.classroomObj.year,""),t.xp6(2),t.Q6J("ngIf",c.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",c.classroomObj.permissionObj),t.xp6(5),t.Q6J("ngIf",""==c.screenTemplate&&t.xi3(21,25,c.classroomObj,"classroom")),t.xp6(2),t.Q6J("ngIf",""==c.screenTemplate&&t.xi3(23,28,c.classroomObj,"classroom")),t.xp6(2),t.Q6J("ngIf",""==c.screenTemplate&&!c.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",""==c.screenTemplate&&c.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf","storage"==c.screenTemplate),t.xp6(1),t.Q6J("ngIf","showListPeopleWhoWillShare"==c.screenTemplate),t.xp6(1),t.Q6J("ngIf",""==c.screenTemplate&&c.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",t.xi3(30,31,c.classroomObj,"classroom"))}},dependencies:[v.O5,V.VK,V.p6,ot.gM,O.rH,Ct.Nh5,st.Q,M.Jy,M.JV,M.NK,M.Pf,M.Z_],styles:[".ribbon[_ngcontent-%COMP%]{position:absolute;right:-2px;top:-2px;z-index:1;overflow:hidden;width:45px;height:45px;text-align:right}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:7px;color:#fff;text-transform:uppercase;text-align:center;font-weight:700;line-height:12px;transform:rotate(45deg);-webkit-transform:rotate(45deg);width:55px;display:block;background:linear-gradient(#68cc00 0%,rgba(104,204,0,.61) 100%);box-shadow:0 3px 10px -5px #636363;position:absolute;top:6px;right:-14px}.ml-auto[_ngcontent-%COMP%]{z-index:999}"]}),o})();function ks(o,d){1&o&&(t.TgZ(0,"span",10),t._UZ(1,"azt-loading-ui"),t.qZA())}let ws=(()=>{class o extends Vt.e{closeDialog(n){this.dialogRef.close(n)}deleteGroupOfClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomGroupGet(this.currentGroupOfClassroomDataThatIsEdited?.id??0).subscribe(n=>{1==n.success?(this.showSuccessSnack("lang_auto_xoa_nhom_thanh_cong"),this.successStatusObj(),this.closeDialog(!0)):(this.errorStatusObj(n.message??"",!0),this.dialogRef.close())}))}constructor(n,c,u){super(u,c),this.classroomGroupService=n,this.dialogRef=c,this.data=u,this.currentGroupOfClassroomDataThatIsEdited=u.groupObj}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(tn.c8),t.Y36(zt.so,8),t.Y36(zt.WI,8))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-delete-group"]],features:[t.qOj],decls:17,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-danger",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(n,c){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"span",5),t._uU(8),t.qZA()()()()(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return c.closeDialog(!1)}),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return c.deleteGroupOfClassroom()}),t.YNc(14,ks,2,0,"span",9),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,6,"lang_student_classroom_list_utils_delete_group")," "),t.xp6(3),t.Oqu(null==c.currentGroupOfClassroomDataThatIsEdited?null:c.currentGroupOfClassroomDataThatIsEdited.name),t.xp6(3),t.hij(" ",t.lcZ(12,8,"lang_button_cancel")," "),t.xp6(2),t.Q6J("disabled",1==c.statusObj.loading),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(16,10,"lang_button_delete")," "))},dependencies:[v.O5,dt.n,M.JV],encapsulation:2}),o})();function Os(o,d){1&o&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",30),t._UZ(2,"path",31),t.qZA()())}function ys(o,d){1&o&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",32),t._UZ(2,"path",33),t.qZA()())}function Zs(o,d){if(1&o&&(t.TgZ(0,"button",34),t.NdJ("click",function(c){return c.stopPropagation()}),t.O4$(),t.TgZ(1,"svg",35),t._UZ(2,"circle",36)(3,"circle",37)(4,"circle",38),t.qZA()()),2&o){t.oxw();const n=t.MAs(12);t.Q6J("matMenuTriggerFor",n)}}function As(o,d){1&o&&(t.TgZ(0,"div",39),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_enter_name_group")," "))}let Ii=(()=>{class o extends l.Q{collapseByGroupId(n){this.collapseByGroupIdEvent.emit(n)}deleteGroupDialog(){this.sAztDialogService.open(ws,{width:"400px",data:{groupObj:this.groupObj},restoreFocus:!1}).afterClosed().subscribe(c=>{c&&this.updateGroupSuccessEvent.emit(!0)})}updateGroupOfClassroom(n){if(""!=n.trim()){var c={groupId:this.groupObj?.id??0,name:n};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomGroupPost(c).subscribe(u=>{1==u.success?(this.successStatusObj("lang_auto_cap_nhat_nhom_thanh_cong",!0),this.updateGroupSuccessEvent.emit(!0)):this.errorStatusObj(u.message??"",!0)}))}}constructor(n,c){super(),this.classroomGroupService=n,this.sAztDialogService=c,this.updateGroupSuccessEvent=new t.vpe,this.collapseByGroupIdEvent=new t.vpe}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(tn.c8),t.Y36(Y.C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-teacher-classroom-show-group-box"]],inputs:{groupObj:"groupObj",isOwned:"isOwned"},outputs:{updateGroupSuccessEvent:"updateGroupSuccessEvent",collapseByGroupIdEvent:"collapseByGroupIdEvent"},features:[t.qOj],decls:48,vars:31,consts:[[1,"flex","items-center"],[1,"text-lg","font-medium","truncate","mr-3"],["azt-track-service","azt-list-classroom-view-mpTg8jgQkF",1,"flex","items-center","clickable",3,"click"],[4,"ngIf"],[1,"font-medium","truncate"],[1,"dropdown"],["azt-track-service","class-list-U9X02wc0f","class","dropdown-toggle p-1 hover:bg-gray dark:hover:bg-darkmode-400 rounded-md","aria-expanded","false","data-tw-toggle","dropdown",3,"matMenuTriggerFor","click",4,"ngIf"],["menu","matMenu"],[1,"box","grid"],["azt-track-service","class-list-9ufWL4LIlj","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","pr-3","btn-edit","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2",2,"display","initial"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","class-list-Qqdrk4Sj2Q",1,"pr-3","btn-delete","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2",2,"display","initial"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],["xPosition","after"],["matMenuGroupOfClassroom",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["azt-track-service","class-list-G1Mkx8IXu63",1,"modal-body"],[1,"text-base","font-medium","mr-auto"],["azt-track-service","class-list-0AWKcuGUws",3,"click"],["type","text","aria-label","default input example",1,"form-control","mt-2",3,"value","placeholder"],["nameGroup",""],["class","alert alert-danger p-1 mt-2",4,"ngIf"],[1,"text-right","mt-3",2,"display","flex","justify-content","space-between"],["azt-track-service","class-list-qHpiXjTg249",1,"btn","w-24","btn-secondary","mr-2"],["azt-track-service","class-list-lVV77oiaCLP",1,"btn","w-24","btn-primary",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevron-down"],["d","m6 9 6 6 6-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevron-right"],["d","m9 18 6-6-6-6"],["azt-track-service","class-list-U9X02wc0f","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","p-1","hover:bg-gray","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-4","h-4"],["cx","12","cy","12","r","1"],["cx","12","cy","5","r","1"],["cx","12","cy","19","r","1"],[1,"alert","alert-danger","p-1","mt-2"]],template:function(n,c){if(1&n){const u=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"span",2),t.NdJ("click",function(){return c.collapseByGroupId(c.groupObj)}),t.YNc(3,Os,3,0,"span",3),t.YNc(4,ys,3,0,"span",3),t.TgZ(5,"h2",4),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"mytranslate"),t.qZA()()(),t.TgZ(9,"div",5),t.YNc(10,Zs,5,1,"button",6),t.TgZ(11,"mat-menu",null,7)(13,"div",8)(14,"button",9),t.NdJ("click",function(S){return S.stopPropagation()}),t.O4$(),t.TgZ(15,"svg",10),t._UZ(16,"path",11)(17,"path",12),t.qZA(),t.kcU(),t.TgZ(18,"span"),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()(),t.TgZ(21,"button",13),t.NdJ("click",function(){return c.deleteGroupDialog()}),t.O4$(),t.TgZ(22,"svg",14),t._UZ(23,"polyline",15)(24,"path",16),t.qZA(),t.kcU(),t.TgZ(25,"span"),t._uU(26),t.ALo(27,"mytranslate"),t.qZA()()()()()(),t.TgZ(28,"mat-menu",17,18)(30,"div",19)(31,"div",20)(32,"div",21)(33,"h2",22),t._uU(34),t.ALo(35,"mytranslate"),t.qZA(),t.TgZ(36,"div",23),t.NdJ("click",function(S){return S.stopPropagation()}),t._UZ(37,"input",24,25),t.ALo(39,"mytranslate"),t.YNc(40,As,3,3,"div",26),t.qZA(),t.TgZ(41,"div",27)(42,"button",28),t._uU(43),t.ALo(44,"mytranslate"),t.qZA(),t.TgZ(45,"button",29),t.NdJ("click",function(){t.CHM(u);const S=t.MAs(38);return t.KtG(c.updateGroupOfClassroom(S.value))}),t._uU(46),t.ALo(47,"mytranslate"),t.qZA()()()()()()}if(2&n){const u=t.MAs(29),f=t.MAs(38);t.xp6(3),t.Q6J("ngIf",c.groupObj.isExpand),t.xp6(1),t.Q6J("ngIf",!c.groupObj.isExpand),t.xp6(2),t.AsE("",t.lcZ(7,15,c.groupObj.name)," ","("+c.groupObj.totalViewClassrooms+" "+t.lcZ(8,17,"lang_testbank_test_list_classes")+")",""),t.xp6(4),t.Q6J("ngIf",c.groupObj.id>0&&c.isOwned),t.xp6(4),t.Q6J("matMenuTriggerFor",u),t.xp6(5),t.Oqu(t.lcZ(20,19,"lang_button_edit")),t.xp6(7),t.Oqu(t.lcZ(27,21,"lang_button_delete")),t.xp6(8),t.Oqu(t.lcZ(35,23,"lang_student_classroom_list_update_group")),t.xp6(3),t.s9C("value",c.groupObj.name),t.s9C("placeholder",t.lcZ(39,25,"lang_auto_nhap_ten_nhom")),t.xp6(3),t.Q6J("ngIf",""==f.value.trim()),t.xp6(3),t.hij(" ",t.lcZ(44,27,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",""==f.value.trim()),t.xp6(1),t.hij(" ",t.lcZ(47,29,"lang_student_classroom_list_update")," ")}},dependencies:[v.O5,V.VK,V.p6,M.JV],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),o})();function Ss(o,d){if(1&o&&t._UZ(0,"azt-loading-effect",3),2&o){const n=t.oxw();t.Q6J("currentStatusObj",n.statusObj)}}function Is(o,d){1&o&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",12),t._UZ(2,"path",13)(3,"path",14),t.qZA()())}function Ns(o,d){1&o&&(t.TgZ(0,"span",15),t.O4$(),t.TgZ(1,"svg",16),t._UZ(2,"path",17)(3,"path",18),t.qZA()())}function Ms(o,d){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",26)(2,"azt-information-class-box",27),t.NdJ("eventOfClassroomMenu",function(u){t.CHM(n);const f=t.oxw(5);return t.KtG(f.eventOfClassroomMenu(u))}),t.qZA()(),t.BQk()}if(2&o){const n=d.$implicit;t.xp6(1),t.Q6J("hidden",!n.isShowClassroom),t.xp6(1),t.Q6J("classroomObj",n)}}function js(o,d){if(1&o&&(t.TgZ(0,"div",25),t.YNc(1,Ms,3,2,"ng-container",10),t.qZA()),2&o){const n=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",n.classroomObjs)}}function Ls(o,d){1&o&&(t.TgZ(0,"div",28),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_classroom_list_class_null"),"."))}function Es(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",20)(1,"app-teacher-classroom-show-group-box",21),t.NdJ("updateGroupSuccessEvent",function(u){t.CHM(n);const f=t.oxw(3);return t.KtG(f.updateGroupSuccessEvent(u))})("collapseByGroupIdEvent",function(){t.CHM(n);const u=t.oxw().$implicit,f=t.oxw(2);return t.KtG(f.collapseByGroupId(u.groupObj))}),t.qZA(),t.TgZ(2,"div",22),t.YNc(3,js,2,1,"div",23),t.YNc(4,Ls,3,3,"div",24),t.qZA()()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("groupObj",n.groupObj)("isOwned",n.isOwned),t.xp6(1),t.Q6J("hidden",!n.groupObj.isExpand),t.xp6(1),t.Q6J("ngIf",n.classroomObjs.length),t.xp6(1),t.Q6J("ngIf",0==n.classroomObjs.length)}}function Ds(o,d){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Es,5,5,"div",19),t.qZA()),2&o){const n=d.$implicit;t.xp6(1),t.Q6J("ngIf",n.groupObj.isShowGroup)}}const Ps=function(o){return[o]};function zs(o,d){if(1&o&&(t.TgZ(0,"div",29),t.ALo(1,"navigationLocalize"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&o){const n=t.oxw(2);t.Q6J("routerLink",t.VKq(7,Ps,t.lcZ(1,3,"/admin/student/manage-classroom/1"))),t.xp6(2),t.AsE(" ",t.lcZ(3,5,"lang_student_classroom_list_storage")," (",n.totalStorageClassroom,") ")}}function cn(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.NdJ("onSearch",function(u){t.CHM(n);const f=t.oxw();return t.KtG(f.searchByName(u.searchObj))}),t.ALo(3,"mytranslate"),t.qZA()(),t.TgZ(4,"span",7),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.collapseAll(!u.isExpandAll))}),t.YNc(5,Is,4,0,"span",8),t.YNc(6,Ns,4,0,"span",9),t.qZA()(),t.YNc(7,Ds,2,1,"div",10),t.YNc(8,zs,4,9,"div",11)}if(2&o){const n=t.oxw();t.xp6(2),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(3,6,"lang_testbank_test_list_search_class")),t.xp6(3),t.Q6J("ngIf",!n.isExpandAll),t.xp6(1),t.Q6J("ngIf",n.isExpandAll),t.xp6(1),t.Q6J("ngForOf",n.viewClassroomGroupObjs),t.xp6(1),t.Q6J("ngIf",n.totalStorageClassroom)}}let pe=(()=>{class o extends Ai{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!0}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-teacher-active-classrooms"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"isServerSearch","placeholder","onSearch"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],[4,"ngIf"],["class","clickable",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","class-list-9gXcamWSz","class","btn-text-primary font-medium cursor-pointer",3,"routerLink",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevrons-up-down"],["d","m7 15 5 5 5-5"],["d","m7 9 5-5 5 5"],[1,"clickable"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevrons-down-up"],["d","m7 20 5-5 5 5"],["d","m7 4 5 5 5-5"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"groupObj","isOwned","updateGroupSuccessEvent","collapseByGroupIdEvent"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"classroomObj","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"],["azt-track-service","class-list-9gXcamWSz",1,"btn-text-primary","font-medium","cursor-pointer",3,"routerLink"]],template:function(n,c){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,Ss,1,1,"azt-loading-effect",1),t.YNc(2,cn,9,8,"ng-template",null,2,t.W1O),t.qZA()),2&n){const u=t.MAs(3);t.xp6(1),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",u)}},dependencies:[O.rH,v.sg,v.O5,nt.l,Si,ct.W,Ii,M.Jy,M.JV],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),o})();function Ht(o,d){if(1&o&&t._UZ(0,"azt-loading-effect",3),2&o){const n=t.oxw();t.Q6J("currentStatusObj",n.statusObj)}}function Ce(o,d){1&o&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",11),t._UZ(2,"path",12)(3,"path",13),t.qZA()())}function ro(o,d){1&o&&(t.TgZ(0,"span",14),t.O4$(),t.TgZ(1,"svg",15),t._UZ(2,"path",16)(3,"path",17),t.qZA()())}function er(o,d){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",25)(2,"azt-information-class-box",26),t.NdJ("eventOfClassroomMenu",function(u){t.CHM(n);const f=t.oxw(5);return t.KtG(f.eventOfClassroomMenu(u))}),t.qZA()(),t.BQk()}if(2&o){const n=d.$implicit;t.xp6(1),t.Q6J("hidden",!n.isShowClassroom),t.xp6(1),t.Q6J("classroomObj",n)("screenTemplate","storage")}}function No(o,d){if(1&o&&(t.TgZ(0,"div",24),t.YNc(1,er,3,3,"ng-container",10),t.qZA()),2&o){const n=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",n.classroomObjs)}}function Mo(o,d){1&o&&(t.TgZ(0,"div",27),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_classroom_list_class_null"),"."))}function lo(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",19)(1,"app-teacher-classroom-show-group-box",20),t.NdJ("updateGroupSuccessEvent",function(u){t.CHM(n);const f=t.oxw(3);return t.KtG(f.updateGroupSuccessEvent(u))})("collapseByGroupIdEvent",function(){t.CHM(n);const u=t.oxw().$implicit,f=t.oxw(2);return t.KtG(f.collapseByGroupId(u.groupObj))}),t.qZA(),t.TgZ(2,"div",21),t.YNc(3,No,2,1,"div",22),t.YNc(4,Mo,3,3,"div",23),t.qZA()()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("groupObj",n.groupObj)("isOwned",n.isOwned),t.xp6(1),t.Q6J("hidden",!n.groupObj.isExpand),t.xp6(1),t.Q6J("ngIf",n.classroomObjs.length),t.xp6(1),t.Q6J("ngIf",0==n.classroomObjs.length)}}function Us(o,d){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,lo,5,5,"div",18),t.qZA()),2&o){const n=d.$implicit;t.xp6(1),t.Q6J("ngIf",n.groupObj.isShowGroup)}}function jo(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.NdJ("onSearch",function(u){t.CHM(n);const f=t.oxw();return t.KtG(f.searchByName(u.searchObj))}),t.ALo(3,"mytranslate"),t.qZA()(),t.TgZ(4,"span",7),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.collapseAll(!u.isExpandAll))}),t.YNc(5,Ce,4,0,"span",8),t.YNc(6,ro,4,0,"span",9),t.qZA()(),t.YNc(7,Us,2,1,"div",10)}if(2&o){const n=t.oxw();t.xp6(2),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(3,5,"lang_testbank_test_list_search_class")),t.xp6(3),t.Q6J("ngIf",!n.isExpandAll),t.xp6(1),t.Q6J("ngIf",n.isExpandAll),t.xp6(1),t.Q6J("ngForOf",n.viewClassroomGroupObjs)}}let Ni=(()=>{class o extends Ai{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!1}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-teacher-archive-classrooms"]],features:[t.qOj],decls:4,vars:2,consts:[[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"isServerSearch","placeholder","onSearch"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],[4,"ngIf"],["class","clickable",4,"ngIf"],[4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevrons-up-down"],["d","m7 15 5 5 5-5"],["d","m7 9 5-5 5 5"],[1,"clickable"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevrons-down-up"],["d","m7 20 5-5 5 5"],["d","m7 4 5 5 5-5"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"groupObj","isOwned","updateGroupSuccessEvent","collapseByGroupIdEvent"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"classroomObj","screenTemplate","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"]],template:function(n,c){if(1&n&&(t.TgZ(0,"div",0),t.YNc(1,Ht,1,1,"azt-loading-effect",1),t.YNc(2,jo,8,7,"ng-template",null,2,t.W1O),t.qZA()),2&n){const u=t.MAs(3);t.xp6(1),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",u)}},dependencies:[v.sg,v.O5,nt.l,Si,ct.W,Ii,M.JV],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),o})();const en=["childActiveClassrooms"],Mi=["childArchiveClassrooms"];function ne(o,d){1&o&&(t.O4$(),t.kcU(),t.TgZ(0,"span",47),t._uU(1,"1"),t.qZA())}function co(o,d){if(1&o&&t._UZ(0,"azt-loading-effect",48),2&o){const n=t.oxw();t.Q6J("currentStatusObj",n.statusObj)}}const Lo=function(){return[]};function Fs(o,d){1&o&&(t.ynx(0),t._UZ(1,"app-teacher-active-classrooms",51,52),t.BQk()),2&o&&(t.xp6(1),t.Q6J("classroomGroupData",t.DdM(1,Lo)))}function Js(o,d){1&o&&t._UZ(0,"app-teacher-archive-classrooms",51,53),2&o&&t.Q6J("classroomGroupData",t.DdM(1,Lo))}function qs(o,d){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Fs,3,2,"ng-container",49),t.YNc(2,Js,2,2,"ng-template",null,50,t.W1O),t.qZA()),2&o){const n=t.MAs(3),c=t.oxw();t.xp6(1),t.Q6J("ngIf",c.isShowActiveClassroom)("ngIfElse",n)}}function Qs(o,d){1&o&&(t.O4$(),t.TgZ(0,"svg",54),t._UZ(1,"polyline",55),t.qZA())}function Bs(o,d){1&o&&(t.O4$(),t.TgZ(0,"svg",54),t._UZ(1,"polyline",55),t.qZA())}function Eo(o,d){1&o&&(t.O4$(),t.TgZ(0,"svg",54),t._UZ(1,"polyline",55),t.qZA())}let Do=(()=>{class o extends l.Q{changeFilter(n){this.typeFilter=n,this.viewActiveClassrooms?.reloadClassrooms(this.typeFilter),this.viewArchiveClassrooms?.reloadClassrooms(this.typeFilter)}createClassroomDialog(){this.sAztDialogService.open(ti,{data:{classroomObj:void 0},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(c=>{c&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}createClassroomForNewCourseDialog(){this.sAztDialogService.open(be.u,{restoreFocus:!1}).afterClosed().subscribe(c=>{c&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}openDialogAutomaticIdentification(){this.sAztDialogService.open(Cn.G,{data:{needGetClassroomGroups:!0,type:1,listCheckBox:[],totalStudent:0},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(n=>{n&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}ngOnInit(){this.waitDestroy((0,R.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n=this.commonService.getMyParam(this.activeRoute,"id")?.toString();this.isShowActiveClassroom="0"==n;let c=this.commonService.getMyQueryParam("programId");this.backToLink=c&&""!=c?"/business/educational-program/"+c:this.isShowActiveClassroom?"/admin/dashboard":"/admin/student/manage-classroom/0"})),this.mobileWebviewService.sendSimpleMessage("OPEN_CLASSES"),this.commonService.translateMetaData({title:"lang_cms_classroom_list_title",description:"lang_cms_classroom_list_description",image:"lang_cms_test_image"})}constructor(n,c,u){super(),this.activeRoute=n,this.sAztDialogService=c,this.mobileWebviewService=u,this.backToLink="",this.typeFilter="all",this.isShowActiveClassroom=!1}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(O.gz),t.Y36(Y.C),t.Y36(ts.r))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-teacher-classroom"]],viewQuery:function(n,c){if(1&n&&(t.Gf(en,5),t.Gf(Mi,5)),2&n){let u;t.iGM(u=t.CRH())&&(c.viewActiveClassrooms=u.first),t.iGM(u=t.CRH())&&(c.viewArchiveClassrooms=u.first)}},features:[t.qOj],decls:101,vars:41,consts:[[3,"headerBackToLink"],[1,"mt-5"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[1,"text-xl","font-medium"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-8xXjbgXLYr8","tourAnchor","azt-tour-2",1,"btn","btn-primary","shadow-md","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-1"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[1,"dropdown-toggle","btn","px-2","box","block","lg:hidden","hover:bg-slate-100","dark:hover-bg:darkmode-400",3,"matMenuTriggerFor"],[1,"w-5","h-5","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4"],["azt-track-service","class-list-GeLpgTC3SuL",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","class-list-ok7MlxqP6m9",1,"btn","px-2","box","shadow-md","azt-hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-2"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],["tourAnchor","azt-tour-2",1,"ml-2","shadow-md","dropdown-toggle","btn","px-2","box","block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],["class","py-1 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12",2,"z-index","1"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menuClassList","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["menuFilter","matMenu"],["width","18","height","18","x","3","y","3","rx","2"],["d","M7 8h10"],["d","M7 12h10"],["d","M7 16h10"],["xmlns","http://www.w3.org/2000/svg","class","lucide lucide-activity w-4 h-4 ml-2","style","color: green","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["points","16 11 18 13 22 9"],["d","M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z"],["d","M6 9.01V9"],["d","m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["showArchiveBox",""],[3,"classroomGroupData"],["childActiveClassrooms",""],["childArchiveClassrooms",""],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","ml-2",2,"color","green"],["points","20 6 9 17 4 12"]],template:function(n,c){if(1&n&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"div",5)(9,"button",6),t.NdJ("click",function(){return c.createClassroomDialog()}),t.O4$(),t.TgZ(10,"svg",7),t._UZ(11,"line",8)(12,"line",9),t.qZA(),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(15,"button",10)(16,"span",11),t.O4$(),t.TgZ(17,"svg",12),t._UZ(18,"line",8)(19,"line",9),t.qZA()()(),t.kcU(),t.TgZ(20,"button",13),t.NdJ("click",function(){return c.createClassroomForNewCourseDialog()}),t.O4$(),t.TgZ(21,"svg",7),t._UZ(22,"line",8)(23,"line",9),t.qZA(),t._uU(24),t.ALo(25,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(26,"button",14),t.NdJ("click",function(){return c.openDialogAutomaticIdentification()}),t.O4$(),t.TgZ(27,"svg",15),t._UZ(28,"path",16)(29,"path",17)(30,"path",18)(31,"path",19)(32,"rect",20)(33,"rect",21),t.qZA(),t._uU(34),t.ALo(35,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(36,"button",22),t.O4$(),t.TgZ(37,"svg",7),t._UZ(38,"polygon",23),t.qZA(),t._uU(39),t.ALo(40,"mytranslate"),t.YNc(41,ne,2,0,"span",24),t.qZA()()(),t.kcU(),t.TgZ(42,"div",25)(43,"div",26),t.YNc(44,co,1,1,"azt-loading-effect",27),t.YNc(45,qs,4,2,"ng-template",null,28,t.W1O),t.qZA()()()(),t.TgZ(47,"mat-menu",29,30)(49,"div",31)(50,"ul",32)(51,"li")(52,"button",33),t.NdJ("click",function(){return c.createClassroomForNewCourseDialog()}),t.O4$(),t.TgZ(53,"svg",15),t._UZ(54,"line",8)(55,"line",9),t.qZA(),t._uU(56),t.ALo(57,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(58,"li")(59,"button",34),t.NdJ("click",function(){return c.openDialogAutomaticIdentification()}),t.O4$(),t.TgZ(60,"svg",15),t._UZ(61,"path",16)(62,"path",17)(63,"path",18)(64,"path",19)(65,"rect",20)(66,"rect",21),t.qZA(),t._uU(67),t.ALo(68,"mytranslate"),t.qZA()()()()(),t.kcU(),t.TgZ(69,"mat-menu",29,35)(71,"div",31)(72,"ul",32)(73,"li")(74,"button",33),t.NdJ("click",function(){return c.changeFilter("all")}),t.O4$(),t.TgZ(75,"svg",15),t._UZ(76,"rect",36)(77,"path",37)(78,"path",38)(79,"path",39),t.qZA(),t._uU(80),t.ALo(81,"mytranslate"),t.YNc(82,Qs,2,0,"svg",40),t.qZA()(),t.kcU(),t.TgZ(83,"li")(84,"button",34),t.NdJ("click",function(){return c.changeFilter("owner")}),t.O4$(),t.TgZ(85,"svg",15),t._UZ(86,"path",41)(87,"circle",42)(88,"polyline",43),t.qZA(),t._uU(89),t.ALo(90,"mytranslate"),t.YNc(91,Bs,2,0,"svg",40),t.qZA()(),t.kcU(),t.TgZ(92,"li")(93,"button",33),t.NdJ("click",function(){return c.changeFilter("user")}),t.O4$(),t.TgZ(94,"svg",15),t._UZ(95,"path",44)(96,"path",45)(97,"path",46),t.qZA(),t._uU(98),t.ALo(99,"mytranslate"),t.YNc(100,Eo,2,0,"svg",40),t.qZA()()()()()),2&n){const u=t.MAs(46),f=t.MAs(48),S=t.MAs(70);t.Q6J("headerBackToLink",c.backToLink),t.xp6(5),t.hij(" ",c.isShowActiveClassroom?t.lcZ(6,19,"lang_student_classroom_list_header_title"):t.lcZ(7,21,"lang_auto_kho_luu_tru")," "),t.xp6(8),t.hij(" ",t.lcZ(14,23,"lang_student_classroom_list_create_class")," "),t.xp6(2),t.Q6J("matMenuTriggerFor",f),t.xp6(9),t.hij(" ",t.lcZ(25,25,"lang_student_classroom_list_create_class_new_cousre")," "),t.xp6(10),t.hij(" ",t.lcZ(35,27,"lang_auto_danh_so_bao_danh")," "),t.xp6(2),t.Q6J("matMenuTriggerFor",S),t.xp6(3),t.hij(" ",t.lcZ(40,29,"lang_homework_homework_score_list_sort")," "),t.xp6(2),t.Q6J("ngIf","all"!=c.typeFilter),t.xp6(3),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",u),t.xp6(12),t.hij(" ",t.lcZ(57,31,"lang_student_classroom_list_create_class_new_cousre")," "),t.xp6(11),t.hij(" ",t.lcZ(68,33,"lang_auto_danh_so_bao_danh")," "),t.xp6(13),t.hij(" ",t.lcZ(81,35,"lang_homework_content_store_all")," "),t.xp6(2),t.Q6J("ngIf",""==c.typeFilter),t.xp6(7),t.hij(" ",t.lcZ(90,37,"lang_core_lop_cua_toi")," "),t.xp6(2),t.Q6J("ngIf","owner"==c.typeFilter),t.xp6(7),t.hij(" ",t.lcZ(99,39,"lang_auto_lop_duoc_chia_se")," "),t.xp6(2),t.Q6J("ngIf","user"==c.typeFilter)}},dependencies:[v.O5,V.VK,V.p6,nt.l,s._,pe,Ni,M.JV],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),o})(),ei=(()=>{class o extends l.Q{}return o.\u0275fac=function(){let d;return function(c){return(d||(d=t.n5z(o)))(c||o)}}(),o.\u0275cmp=t.Xpm({type:o,selectors:[["homework-master-page"]],features:[t.qOj],decls:2,vars:0,consts:[["id","student-layout"]],template:function(n,c){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[O.lC],encapsulation:2}),o})(),ji=(()=>{class o extends l.Q{constructor(){super(...arguments),this.closeDialog=new t.vpe}confirmQuit(){this.closeDialog.emit(!0)}btnCloseDialog(){this.closeDialog.emit(!1)}}return o.\u0275fac=function(){let d;return function(c){return(d||(d=t.n5z(o)))(c||o)}}(),o.\u0275cmp=t.Xpm({type:o,selectors:[["app-merge-student-confirm-box"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:26,vars:17,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],[1,"intro"],[1,"text-base","font-medium","mr-auto"],[1,"text-right","mt-3"],["azt-track-service","confirm-merge-Yvv9eaXGFnm",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q",1,"btn","w-24","btn-primary",2,"margin-left","15px",3,"click"],[1,"flex","justify-end","my-3","p-3"],[1,"azt-block-button"],["azt-track-service","confirm-merge-Yvv9eaXGFnm",1,"btn","w-24","btn-outline-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q",1,"btn","w-32","btn-primary",2,"margin-left","15px",3,"click"]],template:function(n,c){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),t._uU(8),t.ALo(9,"mytranslate"),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"div",8)(12,"button",9),t.NdJ("click",function(){return c.btnCloseDialog()}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"button",10),t.NdJ("click",function(){return c.confirmQuit()}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()()()(),t.TgZ(18,"div",11)(19,"div",12)(20,"button",13),t.NdJ("click",function(){return c.btnCloseDialog()}),t._uU(21),t.ALo(22,"mytranslate"),t.qZA()(),t.TgZ(23,"button",14),t.NdJ("click",function(){return c.confirmQuit()}),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(8),t.hij("",null!=c.data&&c.data.type&&"update_phone_student"==(null==c.data?null:c.data.type)?t.lcZ(9,5,"lang_student_utils_confirm_merge_verifi")+"?":t.lcZ(10,7,"lang_student_utils_confirm_merge_confirm")+"?"," "),t.xp6(5),t.hij(" ",t.lcZ(14,9,"lang_cms_common_close_btn")," "),t.xp6(3),t.hij(" ",t.lcZ(17,11,"lang_cms_common_confirm_btn")," "),t.xp6(5),t.hij(" ",t.lcZ(22,13,"lang_cms_common_close_btn")," "),t.xp6(3),t.hij(" ",t.lcZ(25,15,"lang_cms_common_confirm_btn")," "))},dependencies:[M.JV],encapsulation:2}),o})();function ni(o,d){if(1&o&&t._UZ(0,"azt-loading-effect",4),2&o){const n=t.oxw();t.Q6J("currentStatusObj",n.statusObj)}}const oi=function(o){return{"bg-success":o}};function Ys(o,d){if(1&o&&(t.TgZ(0,"div",22)(1,"b"),t._uU(2),t.qZA()()),2&o){const n=t.oxw().$implicit,c=t.oxw(2);t.Q6J("ngClass",t.VKq(2,oi,c.haveSelected(n))),t.xp6(2),t.Oqu(n.fullName)}}function Qn(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",20),t.NdJ("click",function(){const f=t.CHM(n).$implicit,S=t.oxw(2);return t.KtG(S.selectObj(f))}),t.YNc(1,Ys,3,4,"div",21),t.qZA()}if(2&o){const n=d.$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!c.inMergeObjs(n))}}function Hs(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div")(1,"div",23),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"b",24),t._uU(5),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.TgZ(8,"b",24),t._uU(9),t.qZA(),t._uU(10," \xa0\xa0 "),t.TgZ(11,"span",25),t.NdJ("click",function(){const f=t.CHM(n).index,S=t.oxw(2);return t.KtG(S.removeMergeArray(f))}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()()}if(2&o){const n=d.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_student_merge_student_merge_student")," "),t.xp6(3),t.Oqu(null==n.from?null:n.from.fullName),t.xp6(1),t.hij(" ",t.lcZ(7,7,"lang_student_merge_student_return")," "),t.xp6(3),t.Oqu(null==n.to?null:n.to.fullName),t.xp6(3),t.Oqu(t.lcZ(13,9,"lang_auto_xoa"))}}function Li(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",23)(1,"div",27)(2,"b"),t._uU(3),t.qZA(),t.TgZ(4,"button",28),t.NdJ("click",function(){t.CHM(n);const u=t.oxw().$implicit,f=t.oxw(2);return t.KtG(f.revertStudent(u.id))}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}if(2&o){const n=t.oxw().$implicit;t.xp6(3),t.Oqu(n.fullName),t.xp6(2),t.hij(" ",t.lcZ(6,2,"lang_button_revert")," ")}}function Ei(o,d){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Li,7,4,"div",26),t.qZA()),2&o){const n=d.$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!c.inMergeObjs(n))}}function Gs(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"div",5)(1,"mat-tab-group",6)(2,"mat-tab",7),t.ALo(3,"mytranslate"),t.TgZ(4,"div",8)(5,"div",9)(6,"div",10),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,Qn,2,1,"div",11),t.qZA(),t.TgZ(10,"div",12)(11,"div",13)(12,"div",14)(13,"div",10),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.YNc(16,Hs,14,11,"div",15),t.TgZ(17,"div",16)(18,"button",17),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.showConfirmBox())}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()()()()(),t.TgZ(21,"mat-tab",7),t.ALo(22,"mytranslate"),t.TgZ(23,"div",18)(24,"div",19)(25,"div")(26,"div",16),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.YNc(29,Ei,2,1,"div",15),t.qZA()()()()()()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("selectedIndex",n.selectedIndex),t.xp6(1),t.s9C("label",t.lcZ(3,11,"lang_student_merge_student_lable")),t.xp6(5),t.hij(" ",t.lcZ(8,13,"lang_student_merge_student_required_click_merge")," "),t.xp6(2),t.Q6J("ngForOf",n.studentObjs),t.xp6(5),t.hij(" ",t.lcZ(15,15,"lang_student_merge_student_list_student_merge")," "),t.xp6(2),t.Q6J("ngForOf",n.studentMergeObjs),t.xp6(2),t.Q6J("disabled",n.studentMergeObjs&&n.studentMergeObjs.length<1),t.xp6(1),t.hij(" ",t.lcZ(20,17,"lang_student_merge_student_start_merge_list")," "),t.xp6(2),t.s9C("label",t.lcZ(22,19,"lang_student_merge_student_revert")),t.xp6(6),t.hij(" ",t.lcZ(28,21,"lang_student_merge_student_list_submitted")," "),t.xp6(2),t.Q6J("ngForOf",n.studentMergeListObjs)}}function Di(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"app-merge-student-confirm-box",29),t.NdJ("closeDialog",function(u){t.CHM(n);const f=t.oxw();return t.KtG(f.closeConfirmDialog(u))}),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("data",n.confirmBox)}}let ii=(()=>{class o extends l.Q{showConfirmBox(){this.confirmBox={isShow:!0}}closeConfirmDialog(n){this.confirmBox={isShow:!1},n&&this.sendToServer()}inMergeObjs(n){let c=!1,u=this.studentMergeObjs?.length??0;for(let f=0;f<u;f++)(this.studentMergeObjs?.[f].from?.id==n.id||this.studentMergeObjs?.[f].to?.id==n.id)&&(c=!0);return c}haveSelected(n){let c=!1;for(let u=0;u<this.selectObjs.length;u++)this.selectObjs[u].id==n.id&&(c=!0);return c}selectObj(n){this.haveSelected(n)?this.selectObjs=[]:this.selectObjs.push(n),2==this.selectObjs.length&&(this.studentMergeObjs.push({from:this.selectObjs[0],to:this.selectObjs[1]}),this.selectObjs=[])}removeMergeArray(n){this.studentMergeObjs?.[n]&&this.studentMergeObjs.splice(n,1)}sendToServer(){const n=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.initStatusObj();let c=[],u=this.studentMergeObjs?.length??0;for(let $=0;$<u;$++){var f=this.studentMergeObjs?.[$].from?.id,S=this.studentMergeObjs?.[$].to?.id;f&&S&&c.push({fromId:f,toId:S})}this.waitDestroy(this.mergeStudentService.apiMergeStudentMergeObjsPost({classroomId:n,mergeObjs:c}).subscribe($=>{1==$.success?(this.showSuccessSnack("lang_auto_gop_danh_sach_thanh_cong"),this.studentMergeObjs=[],this.selectObjs=[],this.getListMergeStudent(),this.getData(),this.selectedIndex=1,this.successStatusObj()):this.errorStatusObj($.message??"",!0)}))}getData(){this.initStatusObj();const n=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetObjsByClassroomGet(n).subscribe(c=>{1==c.success?(this.studentObjs=this.sortService.sortFirstNameStudents(c?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(c.message??"",!0)}))}getListMergeStudent(){this.initStatusObj();const n=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetMergedObjsGet(n).subscribe(c=>{1==c.success?(this.studentMergeListObjs=this.sortService.sortFirstNameStudents(c?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(c.message??"",!0)}))}revertStudent(n){this.waitDestroy(this.mergeStudentService.apiMergeStudentRevertMergeObjGet(n).subscribe(c=>{1==c.success?(this.showSuccessSnack("lang_auto_khoi_phuc_thanh_cong"),this.getData(),this.getListMergeStudent(),this.selectedIndex=0):this.errorStatusObj(c.message??"",!0)}))}ngOnInit(){this.classroomId=this.commonService.getMyParam(this.activeRoute,"id"),this.backToLink="/admin/student/classroom-details/"+this.classroomId+"/0",this.getData(),this.getListMergeStudent()}constructor(n,c,u,f){super(),this.activeRoute=n,this.studentService=c,this.mergeStudentService=u,this.sortService=f,this.selectObjs=[],this.studentMergeObjs=[],this.confirmBox={isShow:!1},this.selectedIndex=0,this.isMobile=this.commonService.isMobileOrTable(),this.backToLink=""}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(O.gz),t.Y36(ve.VT),t.Y36(ve._Y),t.Y36(An.V))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-merge-student"]],features:[t.qOj],decls:5,vars:4,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"data","closeDialog",4,"ngIf"],[3,"currentStatusObj"],[1,"container","mt-3"],[3,"selectedIndex"],[3,"label"],[1,"flex","mt-3"],[1,"p-2"],[1,"m-2"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click",4,"ngFor","ngForOf"],[1,"p-2",2,"width","70%"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mt-2"],["azt-track-service","merge-student-g45UTcIj35h",1,"pl-2","pr-2","mt-2","btn","btn-primary",3,"disabled","click"],[1,"d-flex"],[1,"w-full","sm-w-50"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click"],["class","m-2 clickable","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",3,"ngClass",4,"ngIf"],[1,"m-2","clickable",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important",3,"ngClass"],[1,"m-2","p-2",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important"],[2,"font-weight","600"],[1,"clickable","text-danger",3,"click"],["class","m-2 p-2","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],["azt-track-service","merge-student-v4iYHGvaLN8",1,"hover-button","clickable",3,"click"],[3,"data","closeDialog"]],template:function(n,c){if(1&n&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,ni,1,1,"azt-loading-effect",1),t.YNc(2,Gs,30,23,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,Di,1,1,"app-merge-student-confirm-box",3)),2&n){const u=t.MAs(3);t.Q6J("headerBackToLink",c.backToLink),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",u),t.xp6(3),t.Q6J("ngIf",c.confirmBox.isShow)}},dependencies:[v.mk,v.sg,v.O5,dn.uX,dn.SP,nt.l,s._,ji,M.JV],styles:["a[_ngcontent-%COMP%]:hover{text-decoration:none}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex;text-decoration:none;margin-top:10px}.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff}b[_ngcontent-%COMP%]{font-weight:400}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px}.header__top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.header__work[_ngcontent-%COMP%]{display:flex}.header__gift[_ngcontent-%COMP%]{position:relative;margin-right:24px;margin-top:5px}.gift__link[_ngcontent-%COMP%]{color:#fff}.girt__count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:#fe4531;border-radius:50%;width:16px;height:16px;color:#fff;padding:0;text-align:center;font-weight:700;font-size:9px}.header__work[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.header__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-top:2px}.body[_ngcontent-%COMP%]{margin:0 auto;text-align:center;color:#fff}.body__block[_ngcontent-%COMP%]{min-width:300px;padding:35px 0;margin:0 auto;background-color:#009cbe;border:none;border-radius:5px}.block__text[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin:0}.body__about[_ngcontent-%COMP%]{margin-top:25px}.about__title[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.about__desc[_ngcontent-%COMP%]{text-align:justify}.desc__title[_ngcontent-%COMP%]{font-weight:700}.btn-add-azo[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;padding:13px 40px;border-radius:10px}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}  .mat-tab-label:hover{color:#000}.hover-button[_ngcontent-%COMP%]:hover{color:#3f51b5}.text-danger[_ngcontent-%COMP%]:hover{color:#f44336!important}@media (min-width: 640px){.sm-w-50[_ngcontent-%COMP%]{width:450px}}"]}),o})();var Pi=g(34574);function zi(o,d){if(1&o&&t._UZ(0,"azt-loading-effect",3),2&o){const n=t.oxw();t.Q6J("currentStatusObj",n.statusObj)}}function Ui(o,d){if(1&o&&t._UZ(0,"azt-student-profile",4),2&o){const n=t.oxw();t.Q6J("studentId",n.studentId)("select",n.select)("classroomId",n.classroomId)("backToLink",n.backToLink)("paramBackToLink",n.paramBackToLink)("classroomList",n.classroomList)("isTeacherDashboard",!0)}}let ai=(()=>{class o extends l.Q{getListClassroomByStudentId(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2ListStudentClassroomsGet(this.studentId).subscribe(n=>{1===n.success?(this.classroomList=n.data?.objs??[],this.classroomList.find(c=>c.id+"-"+c.studentId==this.select.value)||this.select.setValue(""),this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,R.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n=this.commonService.getMyParam(this.activeRoute,"classroom_id"),c=this.commonService.getMyParam(this.activeRoute,"id");this.classroomId=parseInt(n||"",10),this.studentId=parseInt(c||"",10),this.backToLink="/admin/student/profile-student/"+this.classroomId+"/"+this.studentId,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??this.backToLink,this.commonService.translateMetaData({title:"lang_cms_student_detail_title",description:"lang_cms_test_config_description",image:"lang_cms_student_detail_description"}),this.select.setValue(this.classroomId+"-"+this.studentId),this.getListClassroomByStudentId()}))}constructor(n,c,u){super(),this.sAztDialogService=n,this.activeRoute=c,this.studentProfileV2Service=u,this.select=new it.NI("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[]}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(Y.C),t.Y36(O.gz),t.Y36(ve.LU))},o.\u0275cmp=t.Xpm({type:o,selectors:[["student-profile"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"studentId","select","classroomId","backToLink","paramBackToLink","classroomList","isTeacherDashboard"]],template:function(n,c){if(1&n&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,zi,1,1,"azt-loading-effect",1),t.YNc(2,Ui,1,7,"ng-template",null,2,t.W1O),t.qZA()),2&n){const u=t.MAs(3);t.Q6J("headerBackToLink",c.paramBackToLink),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",u)}},dependencies:[v.O5,nt.l,Pi.d,s._],encapsulation:2}),o})();var si=g(10533),Fi=g(27113);function Ji(o,d){1&o&&t._UZ(0,"azt-loading-ui",15)}function Rs(o,d){if(1&o&&t._UZ(0,"azt-loading-effect",16),2&o){const n=t.oxw();t.Q6J("currentStatusObj",n.statusObj)}}function qi(o,d){1&o&&(t.TgZ(0,"div",19),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Vs(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td",26),t.NdJ("click",function(){const f=t.CHM(n).$implicit,S=t.oxw(3);return t.KtG(S.goToProfile(f.classroomId,f.id))}),t._UZ(2,"azt-student-info-box",27),t.qZA(),t.TgZ(3,"td",28),t._uU(4),t.ALo(5,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(6,"td",29)(7,"div",30)(8,"span"),t._uU(9),t.ALo(10,"formatOnlyDateByUserUnitPipe"),t.qZA()()(),t.TgZ(11,"td",29)(12,"form",31)(13,"textarea",32),t.NdJ("change",function(){const f=t.CHM(n).$implicit;return t.KtG(f.commentControl.controls.isEditted.setValue(!0))}),t.ALo(14,"mytranslate"),t.qZA()()(),t.TgZ(15,"td",29)(16,"span",33,34),t.NdJ("click",function(){const f=t.CHM(n).$implicit,S=t.oxw(3);return t.KtG(S.showAllComment(f))}),t.ALo(18,"mytranslate"),t._UZ(19,"lucide-icon",35),t.qZA()()()}if(2&o){const n=d.$implicit,c=t.MAs(17);t.xp6(2),t.Q6J("name",n.fullName)("avatar",n.avatar)("gender",n.gender)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt),t.xp6(2),t.Oqu(n.identificationNumber?t.xi3(5,18,n.identificationNumber,6):""),t.xp6(5),t.hij(" ",t.lcZ(10,21,n.commentControl.controls.updatedAt.value)," "),t.xp6(3),t.Q6J("formGroup",n.commentControl),t.xp6(1),t.s9C("placeholder",t.lcZ(14,23,"lang_auto_nhap_nhan_xet")),t.Q6J("id","add_comment_"+n.id),t.xp6(3),t.s9C("matTooltip",t.lcZ(18,25,"lang_student_show_all_comment")),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",c.isDisabled)}}function Ws(o,d){if(1&o&&(t.TgZ(0,"div",20)(1,"table",21)(2,"thead")(3,"tr")(4,"th",22),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"th",23),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"th",24),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"th",24),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t._UZ(16,"th",24),t.qZA()(),t.TgZ(17,"tbody"),t.YNc(18,Vs,20,27,"tr",25),t.qZA()()()),2&o){const n=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(9,7,"lang_auto_so_bao_danh")),t.xp6(3),t.Oqu(t.lcZ(12,9,"lang_student_add_comment_date")),t.xp6(3),t.Oqu(t.lcZ(15,11,"lang_student_add_comment")),t.xp6(4),t.Q6J("ngForOf",n.listStudent)}}function nr(o,d){if(1&o&&(t.YNc(0,qi,3,3,"div",17),t.YNc(1,Ws,19,13,"div",18)),2&o){const n=t.oxw();t.Q6J("ngIf",0==n.listStudent.length&&0==n.totalStudent),t.xp6(1),t.Q6J("ngIf",n.listStudent.length>0)}}function Ks(o,d){if(1&o){const n=t.EpF();t.TgZ(0,"azt-paging",39),t.NdJ("goToPaginationPage",function(u){t.CHM(n);const f=t.oxw(2);return t.KtG(f.setPageStudent(u))}),t.qZA()}if(2&o){const n=t.oxw(2);t.Q6J("pageObj",n.pageObj)}}function m(o,d){if(1&o&&(t.TgZ(0,"div",36),t._UZ(1,"div"),t.YNc(2,Ks,1,1,"azt-paging",37),t.TgZ(3,"div",38),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&o){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.totalStudent>n.pageObj.pageSize),t.xp6(2),t.AsE("",n.totalStudent," ",t.lcZ(5,3,"lang_notify_list_students"),"")}}const a=[{path:"",component:ei,canActivate:[e.v],children:[{path:"merge-student/:id",component:ii},{path:"profile-student/:classroom_id/:id",component:ai},{path:"manage-classroom/:id",component:Do},{path:"classroom-details/:id/:tabId",component:xi},{path:"attendance-student/:classroom_id/:program_id/:session_id",component:Pa},{path:"add-comment/:classroom_id/:program_id/:session_id",component:(()=>{class o extends l.Q{goToProfile(n,c){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+c,"?backto="+encodeURIComponent("/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(n){var c="/admin/student/add-comment/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,u="?page="+n+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(c,u),this.initStatusObj(),this.pageObj.setPageNumber(n),this.getListStudent()}onSearchBox(n){this.searchContentObj=n,this.setPageStudent(1)}showAllComment(n){this.sAztDialogService.open(si.h,{width:"700px",restoreFocus:!1,data:{student:n,isTeacher:!0}}).afterClosed().subscribe(c=>{c&&this.getListStudent()})}countChangedComment(){let n=0;return this.listStudent.forEach(c=>{c.commentControl.controls.isEditted.value&&!c.commentControl.controls.comment.value&&n++}),1==n}saveComment(){this.isSave=!0;let n=this.listStudent.filter(u=>u.commentControl.controls.isEditted.value&&u.commentControl.controls.comment.value).map(u=>({id:0,studentId:u.id,comment:u.commentControl.controls.comment.value}))??[],c={classroomId:this.classroomId,studentAssessments:n};if(0==n.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost(c).subscribe(u=>{u.success?(this.initStatusObj(),this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!0}).subscribe(c=>{c?(c.list.length||(this.listStudent=[]),c.list.forEach(u=>{let f=this.sAztAssessmentStudentService.getLastAssessmentStudent(u);this.listStudent.push({...u,commentControl:new it.cw({id:new it.NI(0,{nonNullable:!0}),updatedAt:new it.NI(f?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new it.NI(f?.comment??"",{nonNullable:!0}),isEditted:new it.NI(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(u.assessments),editComment:!1})}),this.totalStudent=c.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,R.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"));let n=this.commonService.getMyQueryParam("backto");this.backToLink=n||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent()}),super.ngOnInit()}constructor(n,c,u,f){super(),this.sAztAssessmentStudentService=n,this.activeRoute=c,this.studentService=u,this.sAztDialogService=f,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.searchContentObj=new et.h,this.pageObj=new Kt.m(20)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(Fi.c),t.Y36(O.gz),t.Y36(pn.V),t.Y36(Y.C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-student-comment"]],features:[t.qOj],decls:21,vars:18,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","searchContentObj","placeholder","onSearch"],[3,"colorBackground"],[1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","flex justify-between items-center mt-5",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[1,"mt-10","text-center"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[3,"formGroup"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"id","placeholder","change"],[1,"w-6","h-6","mr-2","inline-block","clickable",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","click"],["c","isDisabled"],["name","history"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"pageObj","goToPaginationPage"]],template:function(n,c){if(1&n&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.NdJ("onSearch",function(f){return c.onSearchBox(f.searchObj)}),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"flexed-on-the-top",8)(12,"button",9),t.NdJ("click",function(){return c.saveComment()}),t.YNc(13,Ji,1,0,"azt-loading-ui",10),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()()(),t.TgZ(16,"div",11),t.YNc(17,Rs,1,1,"azt-loading-effect",12),t.YNc(18,nr,2,2,"ng-template",null,13,t.W1O),t.qZA(),t.YNc(20,m,6,5,"div",14),t.qZA()),2&n){const u=t.MAs(19);t.Q6J("headerBackToLink",c.backToLink),t.xp6(4),t.Oqu(t.lcZ(5,12,"lang_student_assessment_student")),t.xp6(5),t.Q6J("isServerSearch",!0)("searchContentObj",c.searchContentObj)("placeholder",t.lcZ(10,14,"lang_core_tim_theo_ten_phone_email")),t.xp6(2),t.Q6J("colorBackground","#f0f8ffe8"),t.xp6(1),t.Q6J("disabled",c.isSave||c.countChangedComment()),t.xp6(1),t.Q6J("ngIf",c.isSave),t.xp6(1),t.hij(" ",t.lcZ(15,16,"lang_auto_luu")," "),t.xp6(3),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",u),t.xp6(3),t.Q6J("ngIf",c.totalStudent>0)}},dependencies:[v.sg,v.O5,ot.gM,it._Y,it.Fj,it.JJ,it.JL,it.sg,it.u,nt.l,gt.L,Re.M,st.Q,dt.n,Vo.s,ct.W,re.a,s._,Ct.Nh5,M.JV,M.gw,M.YK],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),o})()},{path:"distribute-document/:classroom_id/:program_id/:session_id",component:Oi},{path:"submit-score/:classroom_id/:program_id/:session_id",component:Xe},{path:"class-details/:id",redirectTo:"classroom-details/:id/0"},{path:"manage-class/:id",redirectTo:"manage-classroom/:id"},{path:"student-list",redirectTo:"manage-classroom/0",pathMatch:"full"}]}];let _=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[O.Bz.forChild(a),O.Bz,i.fQ]}),o})()},56347:(ae,It,g)=>{g.d(It,{M:()=>M});var O=g(96814),i=g(56223),e=g(19347),R=g(12044),l=g(42753),t=g(66469),C=g(37722),v=g(21494),s=g(60381),Ct=g(25391),xt=g(30292),Ot=g(95545),et=g(56731),rt=g(84155),V=g(78217),nt=g(24090),dt=g(20553),ct=g(24818),ot=g(92015),st=g(65879);let M=(()=>{class K{}return K.\u0275fac=function(L){return new(L||K)},K.\u0275mod=st.oAB({type:K}),K.\u0275inj=st.cJS({providers:[{provide:l.f8,useValue:dt.N.azt_tiny_mce_script_src}],imports:[R.Bz,O.ez,et.j,xt.Yy,l.Z_,i.u5,i.UX,e.Is,rt.Z,v.xC,ot.v,Ct.QG,nt.W,V.d,s.l1,C.qyJ.pick(C.ciZ),Ot.kb,t.SD,ct.AzotaBusinessModule]}),K})()},72357:(ae,It,g)=>{g.d(It,{P:()=>O});var O=function(i){return i.none="None",i.asc="Asc",i.desc="Desc",i}(O||{})},66216:(ae,It,g)=>{g.d(It,{X:()=>i});var O=g(72357);class i{resetSortFieldName(R){this.fieldNameList.forEach(l=>{l.fieldName!==R.fieldName&&(l.typeFieldSort=this.typeFieldSort.none)})}setFieldNameList(R){this.fieldNameList=R}convertDataSort(R){switch(this.resetSortFieldName(R),R.typeFieldSort){case this.typeFieldSort.none:R.typeFieldSort=this.typeFieldSort.asc;break;case this.typeFieldSort.asc:R.typeFieldSort=this.typeFieldSort.desc;break;case this.typeFieldSort.desc:R.typeFieldSort=this.typeFieldSort.none}return{fieldName:R.fieldName,descending:R.typeFieldSort===this.typeFieldSort.desc,ignore:R.typeFieldSort===this.typeFieldSort.none}}constructor(){this.typeFieldSort=O.P,this.fieldNameList=[]}}},98082:(ae,It,g)=>{g.d(It,{l:()=>Ot});var O=g(37734),i=g(65879),e=g(96814),R=g(36727);function l(et,rt){if(1&et){const V=i.EpF();i.TgZ(0,"a",4),i.NdJ("click",function(){i.CHM(V);const dt=i.oxw(2);return i.KtG(dt.clickToSeeMore())}),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()}2&et&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"lang_cms_common_see_more")))}function t(et,rt){if(1&et){const V=i.EpF();i.TgZ(0,"a",4),i.NdJ("click",function(){i.CHM(V);const dt=i.oxw(2);return i.KtG(dt.clickToShowShortContent())}),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()}2&et&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"lang_cms_common_see_short_content")))}function C(et,rt){if(1&et&&(i.TgZ(0,"div"),i._UZ(1,"span",2),i.ALo(2,"safeNormalHtmlContent"),i.YNc(3,l,3,3,"a",3),i.YNc(4,t,3,3,"a",3),i.qZA()),2&et){const V=i.oxw();i.xp6(1),i.Q6J("innerHTML",i.lcZ(2,3,V.showContent),i.oJD),i.xp6(2),i.Q6J("ngIf",V.showSeeMoreButton&&V.content.length>V.maxLength),i.xp6(1),i.Q6J("ngIf",V.showShortContentButton&&V.content.length>V.maxLength)}}function v(et,rt){if(1&et&&(i._UZ(0,"span",10),i.ALo(1,"safeNormalHtmlContent")),2&et){const V=i.oxw(2);i.Q6J("innerHTML",i.lcZ(1,1,V.showContent),i.oJD)}}function s(et,rt){if(1&et){const V=i.EpF();i.TgZ(0,"a",4),i.NdJ("click",function(){i.CHM(V);const dt=i.oxw(2);return i.KtG(dt.clickToSeeMore())}),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()}if(2&et){const V=i.oxw(2);i.Akn("position: absolute; bottom: 0; right: 0; background-color: "+V.backgroundColor),i.xp6(1),i.hij(" ...",i.lcZ(2,3,"lang_cms_common_see_more")," ")}}function Ct(et,rt){if(1&et){const V=i.EpF();i.TgZ(0,"a",4),i.NdJ("click",function(){i.CHM(V);const dt=i.oxw(2);return i.KtG(dt.clickToShowShortContent())}),i._uU(1),i.ALo(2,"mytranslate"),i.qZA()}2&et&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"lang_cms_common_see_short_content")))}function xt(et,rt){if(1&et&&(i.TgZ(0,"div",5),i._UZ(1,"div",6),i.ALo(2,"safeNormalHtmlContent"),i._UZ(3,"div",6,7),i.ALo(5,"safeNormalHtmlContent"),i.YNc(6,v,2,3,"span",8),i.YNc(7,s,3,5,"a",9),i.YNc(8,Ct,3,3,"a",3),i.qZA()),2&et){const V=i.MAs(4),nt=i.oxw();i.xp6(1),i.Akn(nt.styleContent),i.Q6J("innerHTML",i.lcZ(2,9,nt.showContent),i.oJD),i.xp6(2),i.Akn("white-space: pre-line; position: absolute; visibility: hidden; line-height: 20px"),i.Q6J("innerHTML",i.lcZ(5,11,nt.showContent),i.oJD),i.xp6(3),i.Q6J("ngIf",nt.showShortContentButton),i.xp6(1),i.Q6J("ngIf",nt.showSeeMoreButton&&V.offsetHeight>20*nt.maxLine),i.xp6(1),i.Q6J("ngIf",nt.showShortContentButton&&V.offsetHeight>20*nt.maxLine)}}let Ot=(()=>{class et extends O.Q{clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let V=this.commonService.removeTagHtml(this.content);if(this.maxLength&&V.length>this.maxLength)this.showContent=this.showSeeMoreButton?V.substring(0,this.maxLength)+"...":this.content;else if(this.maxLine){this.showContent=this.content;var nt=(20*this.maxLine).toString();this.styleContent=this.showSeeMoreButton?"white-space: pre-line; max-height: "+nt+"px; overflow: hidden; position: relative; line-height: 20px;":"white-space: pre-line; line-height: 20px; visibility: hidden; position: absolute;"}else this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content;this.showContent=this.showContent+" "}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}constructor(){super(),this.content="",this.backgroundColor="white",this.styleContent="white-space: pre-line;",this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}}return et.\u0275fac=function(V){return new(V||et)},et.\u0275cmp=i.Xpm({type:et,selectors:[["azt-see-more-multiple-lines"]],inputs:{content:"content",maxLength:"maxLength",maxLine:"maxLine",backgroundColor:"backgroundColor"},features:[i.qOj,i.TTD],decls:2,vars:2,consts:[[4,"ngIf"],["style","position: relative; white-space: break-spaces",4,"ngIf"],[2,"white-space","pre-line","white-space","break-spaces",3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"],[2,"position","relative","white-space","break-spaces"],[3,"innerHTML"],["contentElementHide",""],["style","white-space: pre-line",3,"innerHTML",4,"ngIf"],["class","btn-text-primary",3,"style","click",4,"ngIf"],[2,"white-space","pre-line",3,"innerHTML"]],template:function(V,nt){1&V&&(i.YNc(0,C,5,5,"div",0),i.YNc(1,xt,9,13,"div",1)),2&V&&(i.Q6J("ngIf",nt.maxLength),i.xp6(1),i.Q6J("ngIf",nt.maxLine&&!nt.maxLength))},dependencies:[e.O5,R.JV,R.fF],encapsulation:2}),et})()},91675:(ae,It,g)=>{g.d(It,{B:()=>Ot});var O=g(37734),i=g(65879),e=g(96814),R=g(92596),l=g(36727);function t(et,rt){1&et&&(i.TgZ(0,"span",2),i.ALo(1,"mytranslate"),i._uU(2),i.ALo(3,"mytranslate"),i.qZA()),2&et&&(i.s9C("matTooltip",i.lcZ(1,2,"lang_auto_dat")),i.xp6(2),i.Oqu(i.lcZ(3,4,"lang_auto_d_upper")))}function C(et,rt){1&et&&(i.TgZ(0,"span",2),i.ALo(1,"mytranslate"),i._uU(2),i.ALo(3,"mytranslate"),i.qZA()),2&et&&(i.s9C("matTooltip",i.lcZ(1,2,"lang_auto_chua_dat")),i.xp6(2),i.Oqu(i.lcZ(3,4,"lang_auto_cd_upper")))}function v(et,rt){1&et&&(i.TgZ(0,"span",2),i.ALo(1,"mytranslate"),i._uU(2),i.ALo(3,"mytranslate"),i.qZA()),2&et&&(i.s9C("matTooltip",i.lcZ(1,2,"lang_auto_hoan_thanh")),i.xp6(2),i.Oqu(i.lcZ(3,4,"lang_auto_tag_ht")))}function s(et,rt){1&et&&(i.TgZ(0,"span",2),i.ALo(1,"mytranslate"),i._uU(2),i.ALo(3,"mytranslate"),i.qZA()),2&et&&(i.s9C("matTooltip",i.lcZ(1,2,"lang_auto_chua_hoan_thanh")),i.xp6(2),i.hij("",i.lcZ(3,4,"lang_auto_tag_CHT")," "))}function Ct(et,rt){1&et&&(i.TgZ(0,"span",2),i.ALo(1,"mytranslate"),i._uU(2),i.ALo(3,"mytranslate"),i.qZA()),2&et&&(i.s9C("matTooltip",i.lcZ(1,2,"lang_auto_hoan_thanh_tot")),i.xp6(2),i.Oqu(i.lcZ(3,4,"lang_auto_tag_HTT")))}function xt(et,rt){if(1&et&&(i.TgZ(0,"span",3),i._uU(1),i.qZA()),2&et){const V=i.oxw();i.xp6(1),i.Oqu(V.mark)}}let Ot=(()=>{class et extends O.Q{constructor(){super(...arguments),this.mark=0}}return et.\u0275fac=function(){let rt;return function(nt){return(rt||(rt=i.n5z(et)))(nt||et)}}(),et.\u0275cmp=i.Xpm({type:et,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[i.qOj],decls:6,vars:6,consts:[["class","text-mark mb-0",3,"matTooltip",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],[1,"text-mark","mb-0",3,"matTooltip"],[1,"text-mark","mb-0"]],template:function(V,nt){1&V&&(i.YNc(0,t,4,6,"span",0),i.YNc(1,C,4,6,"span",0),i.YNc(2,v,4,6,"span",0),i.YNc(3,s,4,6,"span",0),i.YNc(4,Ct,4,6,"span",0),i.YNc(5,xt,2,1,"span",1)),2&V&&(i.Q6J("ngIf","1000"==nt.mark),i.xp6(1),i.Q6J("ngIf","1001"==nt.mark),i.xp6(1),i.Q6J("ngIf","2000"==nt.mark),i.xp6(1),i.Q6J("ngIf","2001"==nt.mark),i.xp6(1),i.Q6J("ngIf","3000"==nt.mark),i.xp6(1),i.Q6J("ngIf","2001"!=nt.mark&&"2000"!=nt.mark&&"1001"!=nt.mark&&"1000"!=nt.mark&&"3000"!=nt.mark))},dependencies:[e.O5,R.gM,l.JV],encapsulation:2}),et})()},13407:(ae,It,g)=>{g.d(It,{W:()=>dt});var O=g(65879),i=g(37734),e=g(96814),R=g(77988),l=g(36727);function t(ct,ot){1&ct&&(O.TgZ(0,"span",13),O._uU(1),O.ALo(2,"mytranslate"),O.qZA()),2&ct&&(O.xp6(1),O.Oqu(O.lcZ(2,1,"lang_core_thang")))}function C(ct,ot){if(1&ct&&(O.TgZ(0,"span",13),O._uU(1),O.ALo(2,"mytranslate"),O.qZA()),2&ct){const st=O.oxw();O.xp6(1),O.AsE("",O.lcZ(2,2,"lang_core_thang")," ",st.dataFilter.monthSelected,"")}}function v(ct,ot){1&ct&&(O.TgZ(0,"span",13),O._uU(1),O.ALo(2,"mytranslate"),O.qZA()),2&ct&&(O.xp6(1),O.Oqu(O.lcZ(2,1,"lang_core_nam")))}function s(ct,ot){if(1&ct&&(O.TgZ(0,"span",13),O._uU(1),O.ALo(2,"mytranslate"),O.qZA()),2&ct){const st=O.oxw();O.xp6(1),O.AsE("",O.lcZ(2,2,"lang_core_nam")," ",st.dataFilter.yearSelected,"")}}function Ct(ct,ot){1&ct&&(O.TgZ(0,"span"),O._uU(1),O.ALo(2,"mytranslate"),O.qZA()),2&ct&&(O.xp6(1),O.Oqu(O.lcZ(2,1,"lang_auto_tat_ca")))}function xt(ct,ot){if(1&ct&&(O.TgZ(0,"span"),O._uU(1),O.ALo(2,"mytranslate"),O.qZA()),2&ct){const st=O.oxw().index;O.xp6(1),O.AsE("",O.lcZ(2,2,"lang_core_thang")," ",st,"")}}function Ot(ct,ot){if(1&ct){const st=O.EpF();O.TgZ(0,"li",14),O.NdJ("click",function(){const W=O.CHM(st).index,L=O.oxw();return O.KtG(L.selectMonth(W))}),O.YNc(1,Ct,3,3,"span",15),O.YNc(2,xt,3,4,"span",15),O.qZA()}if(2&ct){const st=ot.index,M=O.oxw();O.Q6J("ngClass",M.dataFilter.monthSelected==st?"color-select":""),O.xp6(1),O.Q6J("ngIf",0==st),O.xp6(1),O.Q6J("ngIf",st>0)}}function et(ct,ot){1&ct&&(O.TgZ(0,"span"),O._uU(1),O.ALo(2,"mytranslate"),O.qZA()),2&ct&&(O.xp6(1),O.Oqu(O.lcZ(2,1,"lang_auto_tat_ca")))}function rt(ct,ot){if(1&ct&&(O.TgZ(0,"span"),O._uU(1),O.ALo(2,"mytranslate"),O.qZA()),2&ct){const st=O.oxw().index,M=O.oxw();O.xp6(1),O.AsE("",O.lcZ(2,2,"lang_core_nam")," ",M.currentDate.getFullYear()-(st-1),"")}}function V(ct,ot){if(1&ct){const st=O.EpF();O.TgZ(0,"li",16),O.NdJ("click",function(){const W=O.CHM(st).index,L=O.oxw();return O.KtG(L.selectYear(W))}),O.YNc(1,et,3,3,"span",15),O.YNc(2,rt,3,4,"span",15),O.qZA()}if(2&ct){const st=ot.index,M=O.oxw();O.Q6J("ngClass",!M.dataFilter.yearSelected||M.currentDate.getFullYear()-(M.dataFilter.yearSelected-1)!=st&&0!=M.dataFilter.yearSelected?"":"color-select"),O.xp6(1),O.Q6J("ngIf",0==st),O.xp6(1),O.Q6J("ngIf",st>0)}}const nt=function(){return[]};let dt=(()=>{class ct extends i.Q{selectMonth(st){this.isApply=!0,this.dataFilter.monthSelected=st,this.sendFilter.emit(this.dataFilter)}selectYear(st){this.isApply=!0,this.dataFilter.yearSelected=st>0?this.currentDate.getFullYear()-(st-1):st,this.sendFilter.emit(this.dataFilter)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.sendFilter=new O.vpe,this.isLoading=!1,this.currentDate=new Date,this.isApply=!1,this.dataFilter={monthSelected:void 0,yearSelected:void 0}}}return ct.\u0275fac=function(st){return new(st||ct)},ct.\u0275cmp=O.Xpm({type:ct,selectors:[["azt-filter-box"]],inputs:{isLoading:"isLoading"},outputs:{sendFilter:"sendFilter"},features:[O.qOj],decls:24,vars:13,consts:[[1,"flex","items-center","font-medium"],[1,"font-medium","mr-2","color",2,"color","#1e40af"],[1,"border-box","hover","p-1","clickable","mr-1",3,"matMenuTriggerFor"],["class","p-1",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-chevron-down"],["d","m6 9 6 6 6-6"],["xPosition","before"],["filterByMonth","matMenu"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content","overflow-hidden","overflow-y-auto","h-56"],["azt-track-service","azt-filter-box-0A_xsGZ5B","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],["filterByYear","matMenu"],["azt-track-service","azt-filter-box-orpcyuG7jD","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-1"],["azt-track-service","azt-filter-box-0A_xsGZ5B",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"],[4,"ngIf"],["azt-track-service","azt-filter-box-orpcyuG7jD",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"]],template:function(st,M){if(1&st&&(O.TgZ(0,"div",0)(1,"div",1),O._uU(2),O.ALo(3,"mytranslate"),O.qZA(),O.TgZ(4,"div",2),O.YNc(5,t,3,3,"span",3),O.YNc(6,C,3,4,"span",3),O.O4$(),O.TgZ(7,"svg",4),O._UZ(8,"path",5),O.qZA()(),O.kcU(),O.TgZ(9,"div",2),O.YNc(10,v,3,3,"span",3),O.YNc(11,s,3,4,"span",3),O.O4$(),O.TgZ(12,"svg",4),O._UZ(13,"path",5),O.qZA()()(),O.kcU(),O.TgZ(14,"mat-menu",6,7)(16,"div",8)(17,"ul",9),O.YNc(18,Ot,3,3,"li",10),O.qZA()()(),O.TgZ(19,"mat-menu",6,11)(21,"div",8)(22,"ul",9),O.YNc(23,V,3,3,"li",12),O.qZA()()()),2&st){const K=O.MAs(15),W=O.MAs(20);O.xp6(2),O.hij(" ",O.lcZ(3,9,"lang_testbank_tested_list_sort"),": "),O.xp6(2),O.Q6J("matMenuTriggerFor",K),O.xp6(1),O.Q6J("ngIf",!M.dataFilter.monthSelected),O.xp6(1),O.Q6J("ngIf",M.dataFilter.monthSelected&&M.dataFilter.monthSelected>0),O.xp6(3),O.Q6J("matMenuTriggerFor",W),O.xp6(1),O.Q6J("ngIf",!M.dataFilter.yearSelected),O.xp6(1),O.Q6J("ngIf",M.dataFilter.yearSelected&&M.dataFilter.yearSelected>0),O.xp6(7),O.Q6J("ngForOf",O.DdM(11,nt).constructor(13)),O.xp6(5),O.Q6J("ngForOf",O.DdM(12,nt).constructor(10))}},dependencies:[e.mk,e.sg,e.O5,R.VK,R.p6,l.JV],styles:[".w-max-content[_ngcontent-%COMP%]{width:-webkit-fill-available;min-width:max-content}.border-left[_ngcontent-%COMP%]{border-left:1px solid rgb(201,201,201)}.background-powderblue[_ngcontent-%COMP%]{background:powderblue}.hover[_ngcontent-%COMP%]:hover{background:mintcream}.color-select[_ngcontent-%COMP%]{background-color:#eef1f6}.border-box[_ngcontent-%COMP%]{border:1px solid #1e40af;padding:2px 5px;border-radius:10px}.box-name[_ngcontent-%COMP%]{background:lightgrey}"]}),ct})()},34574:(ae,It,g)=>{g.d(It,{d:()=>Tn});var O=g(56223),i=g(37734),e=g(65879),R=g(4021),l=g(46558),t=g(88489);let C=(()=>{class T{countChecked(h){var N=0;for(var H in h)!0===h[H]&&(N+=1);return N}getDefaultFilterObj(h){var N=this.localStorageSlug+h;if(this.listFilterObjs[N])return this.listFilterObjs[N];var H=this.getInitFilterObj(),St=this.browserStorageService.getSimpleStorage(N),ue=this.commonService.castJsonToObj(St??"");return ue&&(H=ue),H}saveFilterObj(h,N){var H=this.localStorageSlug+h;this.listFilterObjs[H]=N,this.browserStorageService.saveSimpleStorage(H,this.commonService.serializeJson(N))}getInitFilterObj(){return{getHasMark:!1,getNotMarked:!1,getNotDone:!1,getResendAnswer:!1,classroomId:0,studentId:0}}constructor(h,N){this.commonService=h,this.browserStorageService=N,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}}return T.\u0275fac=function(h){return new(h||T)(e.LFG(l.z),e.LFG(t.n))},T.\u0275prov=e.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();var v=g(94690),s=g(96814),Ct=g(92596),xt=g(43389),Ot=g(91675),et=g(77988),rt=g(36727);function V(T,J){if(1&T&&(e.TgZ(0,"span"),e._uU(1,"\xa0"),e.TgZ(2,"span",21),e._uU(3),e.qZA()()),2&T){const h=e.oxw();e.xp6(3),e.Oqu(h.totalCustomFilter)}}function nt(T,J){if(1&T){const h=e.EpF();e.TgZ(0,"li")(1,"label",22),e.NdJ("click",function(H){return H.stopPropagation()}),e._uU(2),e.ALo(3,"mytranslate"),e.TgZ(4,"div",10)(5,"input",23),e.NdJ("change",function(){e.CHM(h);const H=e.oxw();return H.filterObj.getResendAnswer=!H.filterObj.getResendAnswer,e.KtG(H.changeFilter())}),e.qZA()()()()}if(2&T){const h=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,2,"lang_student_profile_filter_get_resend_answer")," "),e.xp6(3),e.Q6J("checked",h.filterObj.getResendAnswer)}}let dt=(()=>{class T extends i.Q{changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}clearFilter(){this.filterObj=this.studentProfileFilterService.getInitFilterObj(),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilter()}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}constructor(h){super(),this.studentProfileFilterService=h,this.filterType="",this.changeFilterEvent=new e.vpe,this.totalCustomFilter=0}}return T.\u0275fac=function(h){return new(h||T)(e.Y36(C))},T.\u0275cmp=e.Xpm({type:T,selectors:[["azt-student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},features:[e.qOj],decls:41,vars:24,consts:[[1,"btn","btn-sm",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-0","md:mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["azt-track-service","filter-menu-SVYEFVdq9z","for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-OF32qNGQY8","for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-EpBgopx3Iv","for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","filter-menu-2gPTdI1ODd",3,"click"],["azt-track-service","filter-menu-cGVj55-Aac",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["azt-track-service","filter-menu-FWtx2ole8G","for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"]],template:function(h,N){if(1&h&&(e.TgZ(0,"button",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"polygon",2),e.qZA(),e.kcU(),e.TgZ(3,"span",3),e._uU(4),e.ALo(5,"mytranslate"),e.YNc(6,V,4,1,"span",4),e.qZA()(),e.TgZ(7,"mat-menu",5,6)(9,"div",7)(10,"ul",8)(11,"li")(12,"label",9),e.NdJ("click",function(St){return St.stopPropagation()}),e._uU(13),e.ALo(14,"mytranslate"),e.TgZ(15,"div",10)(16,"input",11),e.NdJ("change",function(){return N.filterObj.getHasMark=!N.filterObj.getHasMark,N.changeFilter()}),e.qZA()()()(),e.TgZ(17,"li")(18,"label",12),e.NdJ("click",function(St){return St.stopPropagation()}),e._uU(19),e.ALo(20,"mytranslate"),e.TgZ(21,"div",10)(22,"input",13),e.NdJ("change",function(){return N.filterObj.getNotMarked=!N.filterObj.getNotMarked,N.changeFilter()}),e.qZA()()()(),e.TgZ(23,"li")(24,"label",14),e.NdJ("click",function(St){return St.stopPropagation()}),e._uU(25),e.ALo(26,"mytranslate"),e.TgZ(27,"div",10)(28,"input",15),e.NdJ("change",function(){return N.filterObj.getNotDone=!N.filterObj.getNotDone,N.changeFilter()}),e.qZA()()()(),e.YNc(29,nt,6,4,"li",4),e.TgZ(30,"li"),e._UZ(31,"hr",16),e.qZA(),e.TgZ(32,"li")(33,"div",17)(34,"button",18),e._uU(35),e.ALo(36,"mytranslate"),e.qZA(),e.TgZ(37,"div",19),e.NdJ("click",function(St){return St.stopPropagation()}),e.TgZ(38,"button",20),e.NdJ("click",function(){return N.clearFilter()}),e._uU(39),e.ALo(40,"mytranslate"),e.qZA()()()()()()()),2&h){const H=e.MAs(8);e.Q6J("matMenuTriggerFor",H),e.xp6(4),e.hij(" ",e.lcZ(5,12,"lang_testbank_tested_list_sort")," "),e.xp6(2),e.Q6J("ngIf",N.totalCustomFilter>0),e.xp6(7),e.hij(" ",e.lcZ(14,14,"lang_student_profile_filter_get_has_mark")," "),e.xp6(3),e.Q6J("checked",N.filterObj.getHasMark),e.xp6(3),e.hij(" ",e.lcZ(20,16,"lang_student_profile_filter_get_not_marked")," "),e.xp6(3),e.Q6J("checked",N.filterObj.getNotMarked),e.xp6(3),e.hij(" ",e.lcZ(26,18,"exam"==N.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),e.xp6(3),e.Q6J("checked",N.filterObj.getNotDone),e.xp6(1),e.Q6J("ngIf","homework"==N.filterType),e.xp6(6),e.Oqu(e.lcZ(36,20,"lang_button_close")),e.xp6(4),e.Oqu(e.lcZ(40,22,"lang_button_delete"))}},dependencies:[s.O5,et.VK,et.p6,rt.JV],encapsulation:2}),T})();function ct(T,J){if(1&T&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e._UZ(3,"azt-check-mark",18),e.qZA()),2&T){const h=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_point"),": "),e.xp6(2),e.Q6J("mark",h.resultMarkObj.point)}}function ot(T,J){1&T&&(e.TgZ(0,"span",19),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&T&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function st(T,J){if(1&T&&(e.ynx(0),e.YNc(1,ct,4,4,"span",14),e.YNc(2,ot,3,3,"span",17),e.BQk()),2&T){const h=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",h.resultMarkObj.confirmedAt),e.xp6(1),e.Q6J("ngIf",!h.resultMarkObj.confirmedAt)}}function M(T,J){1&T&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&T&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_testbank_statistical_not_exem_yet")," "))}function K(T,J){if(1&T){const h=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){const St=e.CHM(h).$implicit,ue=e.oxw();return e.KtG(ue.clickToExamObj(St))}),e.TgZ(1,"div",8),e.O4$(),e.TgZ(2,"svg",9),e._UZ(3,"path",10),e.qZA()(),e.kcU(),e.TgZ(4,"div",11)(5,"p",12),e._uU(6),e.qZA(),e.TgZ(7,"div",13),e.YNc(8,st,3,2,"ng-container",14),e.YNc(9,M,3,3,"span",15),e.qZA(),e.TgZ(10,"div",16),e._uU(11),e.ALo(12,"mytranslate"),e.ALo(13,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()()()}if(2&T){const h=J.$implicit,N=J.index;e.Gre("clickable zoom-in flex items-center ",N>0?"mt-3":""," pb-2"),e.xp6(5),e.s9C("matTooltip",h.name),e.xp6(1),e.AsE("",N+1,". ",h.name,""),e.xp6(2),e.Q6J("ngIf",h.resultMarkObj),e.xp6(1),e.Q6J("ngIf",!h.resultMarkObj),e.xp6(2),e.AsE("",e.lcZ(12,10,"lang_student_profile_utils_list_exam_created_at"),": ",e.lcZ(13,12,h.createdAt),"")}}function W(T,J){1&T&&(e.TgZ(0,"div",21),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&T&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_list_null")))}function L(T,J){if(1&T&&e._UZ(0,"azt-loading-effect",27),2&T){const h=e.oxw(2);e.Q6J("currentStatusObj",h.statusObj)}}function B(T,J){if(1&T){const h=e.EpF();e.TgZ(0,"div",22),e.YNc(1,L,1,1,"azt-loading-effect",23),e.TgZ(2,"button",24),e.NdJ("click",function(){e.CHM(h);const H=e.oxw();return e.KtG(H.getNextExamResultObjs())}),e.ALo(3,"mytranslate"),e.O4$(),e.TgZ(4,"svg",25),e._UZ(5,"polyline",26),e.qZA()()()}if(2&T){const h=e.oxw();e.xp6(1),e.Q6J("ngIf",h.statusObj.loading),e.xp6(1),e.s9C("matTooltip",e.lcZ(3,3,"lang_student_profile_utils_list_exam_tooltip_view")),e.Q6J("disabled",!h.examNextPage)}}let ht=(()=>{class T extends i.Q{clickToExamObj(h){this.isTeacher?h.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("exam",h)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+h.id+"/"+h.resultMarkObj?.userId+"/"+h.resultMarkObj?.studentId+"/"+(h.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(h.categoryId??0)+"/"+h.id+"/0","?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(h.resultMarkObj?.resultId?"/test/answer-test/"+h.resultMarkObj?.userId+"/0/"+h.hashId+"/"+(h.resultMarkObj?.resultId??0):"/de-thi/"+h.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.examNextPage="",this.getNextExamResultObjs()}getNextExamResultObjs(){this.initStatusObj();var h=this.studentProfileFilterService.getDefaultFilterObj("exam");h.classroomId=this.classroomId,h.studentId=this.studentId,h.nextPage=this.examNextPage,this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(h).subscribe(N=>{1==N.success?(this.examObjs=this.examObjs.concat(N.data?.objs??[]),this.examNextPage=N.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextExamResultObjs()}constructor(h,N,H){super(),this.studentProfileV2Service=h,this.studentProfileFilterService=N,this.permissionService=H,this.backToLink="",this.isTeacher=!0,this.examObjs=[],this.examNextPage=""}}return T.\u0275fac=function(h){return new(h||T)(e.Y36(R.LU),e.Y36(C),e.Y36(v.j))},T.\u0275cmp=e.Xpm({type:T,selectors:[["azt-student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",isTeacher:"isTeacher"},features:[e.qOj],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","list-exam-pw607HPZy",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","list-exam-pw607HPZy",3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"w-12","h-12","text-pending","bi","bi-file-earmark-check-fill"],["d","M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm1.354 4.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708.708z"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","list-exam-wvCfNB667b",1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"],[3,"currentStatusObj"]],template:function(h,N){1&h&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"azt-student-profile-filter-menu",2),e.NdJ("changeFilterEvent",function(){return N.reInitData()}),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,K,14,14,"div",4),e.YNc(7,W,3,3,"div",5),e.YNc(8,B,6,5,"div",6),e.qZA()),2&h&&(e.xp6(2),e.Oqu(e.lcZ(3,5,"lang_student_profile_utils_list_exam_list_submitted")),e.xp6(2),e.Q6J("filterType","exam"),e.xp6(2),e.Q6J("ngForOf",N.examObjs),e.xp6(1),e.Q6J("ngIf",0==N.examObjs.length&&!N.examNextPage),e.xp6(1),e.Q6J("ngIf",N.examObjs.length>0&&N.examNextPage))},dependencies:[s.sg,s.O5,Ct.gM,xt.l,Ot.B,dt,rt.JV,rt.$n],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),T})();var Mt=g(23680),Yt=g(64170),Gt=g(98525),se=g(19347),le=g(72164),te=g(78497),Wt=g(71646);function wt(T,J){1&T&&(e.TgZ(0,"span",11),e._UZ(1,"azt-loading-ui"),e.qZA())}let Pt=(()=>{class T extends le.e{confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id??0).subscribe(h=>{1==h.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(h.message??"",!0))}))}btnCloseDialog(h){this.dialogRef.close(h)}constructor(h,N,H){super(H,N),this.studentService=h,this.dialogRef=N,this.data=H,this.studentObj=H.studentObj,this.classroomObj=H.classroomObj}}return T.\u0275fac=function(h){return new(h||T)(e.Y36(R.VT),e.Y36(se.so,8),e.Y36(se.WI,8))},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-delete-parent"]],features:[e.qOj],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-parent-OCYQzQEUBJ",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-parent-q0ZQYEQFkD",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(h,N){1&h&&(e.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),e._uU(5),e.ALo(6,"mytranslate"),e.TgZ(7,"b",4),e._uU(8),e.qZA(),e._uU(9),e.ALo(10,"mytranslate"),e.TgZ(11,"span",5),e._uU(12),e.qZA(),e._uU(13,"\xa0 "),e.TgZ(14,"span",6),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()()()()(),e.TgZ(17,"div",7)(18,"button",8),e.NdJ("click",function(){return N.btnCloseDialog(!1)}),e._uU(19),e.ALo(20,"mytranslate"),e.qZA(),e.TgZ(21,"button",9),e.NdJ("click",function(){return N.confirmDelete()}),e.YNc(22,wt,2,0,"span",10),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()()()),2&h&&(e.xp6(5),e.hij(" ",e.lcZ(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),e.xp6(3),e.Oqu(N.studentObj.fullName),e.xp6(1),e.hij(" ",e.lcZ(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),e.xp6(2),e.s9C("matTooltip",N.classroomObj.name),e.xp6(1),e.hij(" ",N.classroomObj.name,""),e.xp6(3),e.hij("* ",e.lcZ(16,13,"lang_student_utils_delete_parent_reques"),""),e.xp6(4),e.hij(" ",e.lcZ(20,15,"lang_cms_common_close_btn")," "),e.xp6(3),e.Q6J("ngIf",N.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[s.O5,Ct.gM,te.R,Wt.n,rt.JV],encapsulation:2}),T})();var ft=g(27573),Tt=g(5977),Zt=g(2783),_t=g(37722),Nt=g(1103);function I(T,J){if(1&T&&e._UZ(0,"azt-loading-effect",3),2&T){const h=e.oxw();e.Q6J("currentStatusObj",h.statusObj)}}function mt(T,J){if(1&T){const h=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(h);const H=e.oxw(4);return e.KtG(H.editStudentDialog(H.studentObj))}),e.TgZ(1,"div",16),e._UZ(2,"lucide-icon",17),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&T&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_button_edit")," "))}function Q(T,J){if(1&T){const h=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(h);const H=e.oxw(4);return e.KtG(H.deleteStudentDialog(H.studentObj))}),e.TgZ(1,"div",19),e._UZ(2,"lucide-icon",20),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&T&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function vt(T,J){if(1&T){const h=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(h);const H=e.oxw(4);return e.KtG(H.deleteParentOfStudentDialog(H.studentObj))}),e.TgZ(1,"div",22),e._UZ(2,"lucide-icon",23),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&T&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_student_profile_utils_account_student_required_verifie")," "))}function Ft(T,J){if(1&T&&(e.TgZ(0,"div",11),e.YNc(1,mt,5,3,"button",12),e.ALo(2,"editPermission"),e.YNc(3,Q,5,3,"button",13),e.ALo(4,"fullPermission"),e.ALo(5,"editPermission"),e.YNc(6,vt,5,3,"button",14),e.ALo(7,"editPermission"),e.qZA()),2&T){const h=e.oxw(3);e.xp6(1),e.Q6J("ngIf",e.xi3(2,3,h.classroomObj,"student")),e.xp6(2),e.Q6J("ngIf",e.xi3(4,6,h.classroomObj,"student")||e.xi3(5,9,h.classroomObj,"student")),e.xp6(3),e.Q6J("ngIf",0!=h.studentObj.parentId&&e.xi3(7,12,h.classroomObj,"student"))}}function Rt(T,J){if(1&T){const h=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(h);const H=e.oxw(4);return e.KtG(H.deleteStudentDialog(H.studentObj))}),e.TgZ(1,"div",19),e._UZ(2,"lucide-icon",20),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&T&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function ee(T,J){if(1&T){const h=e.EpF();e.TgZ(0,"div",11)(1,"button",24),e.NdJ("click",function(){e.CHM(h);const H=e.oxw(3);return e.KtG(H.editStudentDialog(H.studentObj))}),e.TgZ(2,"div",16),e._UZ(3,"lucide-icon",17),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.YNc(6,Rt,5,3,"button",25),e.ALo(7,"fullPermission"),e.ALo(8,"editPermission"),e.qZA()}if(2&T){const h=e.oxw(3);e.xp6(4),e.hij(" ",e.lcZ(5,2,"lang_button_edit")," "),e.xp6(2),e.Q6J("ngIf",e.xi3(7,4,h.classroomObj,"student")||e.xi3(8,7,h.classroomObj,"student"))}}const ye=function(){return[]};function ze(T,J){if(1&T&&(e.ynx(0),e.TgZ(1,"div",6)(2,"div",7),e._UZ(3,"azt-student-info-box",8),e.qZA(),e.TgZ(4,"div",9),e.YNc(5,Ft,8,15,"div",10),e.ALo(6,"editPermission"),e.qZA()(),e.YNc(7,ee,9,10,"div",10),e.ALo(8,"editPermission"),e.BQk()),2&T){const h=e.oxw(2);let N;e.xp6(3),e.Q6J("name",h.studentObj.fullName)("parentFullName",h.studentObj.parentFullName)("parentId",h.studentObj.parentId)("parentPhone",h.studentObj.parentPhone)("email",h.studentObj.email)("birthday",h.studentObj.birthday)("avatar",h.studentObj.avatar)("gender",h.studentObj.gender)("schoolName",null==h.studentObj.moreInfo?null:h.studentObj.moreInfo.schoolName)("facebookLink",null==h.studentObj.moreInfo?null:h.studentObj.moreInfo.facebookLink)("identificationNumber",h.studentObj.identificationNumber)("hasUser",1==h.studentObj.isVerified)("classrooms",null!==(N=null==h.studentObj.moreInfo?null:h.studentObj.moreInfo.classrooms)&&void 0!==N?N:e.DdM(22,ye))("joinedAt",null==h.studentObj.moreInfo?null:h.studentObj.moreInfo.joinedAt),e.xp6(2),e.Q6J("ngIf",h.isTeacher&&0!=h.studentObj.parentId&&e.xi3(6,16,h.classroomObj,"student")),e.xp6(2),e.Q6J("ngIf",h.isTeacher&&0==h.studentObj.parentId&&e.xi3(8,19,h.classroomObj,"student"))}}function ce(T,J){1&T&&(e.TgZ(0,"div",27)(1,"span",28),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&T&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_profile_student_not_found")))}function Ue(T,J){if(1&T&&(e.YNc(0,ze,9,23,"ng-container",4),e.YNc(1,ce,4,3,"ng-template",null,5,e.W1O)),2&T){const h=e.MAs(2),N=e.oxw();e.Q6J("ngIf",N.studentObj)("ngIfElse",h)}}const Ze=function(T){return{"pb-5":T}};let Ae=(()=>{class T extends i.Q{deleteStudentDialog(h){this.sAztDialogService.open(ft.F,{data:{studentObj:h,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(H=>{H&&this.commonService.myNavigation(this.paramBackToLink)})}editStudentDialog(h){this.sAztDialogService.open(Tt.W,{data:{studentObj:h,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(H=>{H&&this.reInitComponentEvent.emit(!0)})}deleteParentOfStudentDialog(h){this.sAztDialogService.open(Pt,{data:{studentObj:h,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(H=>{H&&this.reInitComponentEvent.emit(!0)})}ngOnInit(){super.ngOnInit()}constructor(h){super(),this.sAztDialogService=h,this.classroomList=[],this.backToLink="",this.paramBackToLink="",this.isTeacher=!0,this.reInitComponentEvent=new e.vpe}}return T.\u0275fac=function(h){return new(h||T)(e.Y36(Zt.C))},T.\u0275cmp=e.Xpm({type:T,selectors:[["azt-detail-account-student"]],inputs:{classroomId:"classroomId",classroomList:"classroomList",backToLink:"backToLink",paramBackToLink:"paramBackToLink",isTeacher:"isTeacher",studentObj:"studentObj",classroomObj:"classroomObj"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.qOj],decls:4,vars:5,consts:[[1,"intro-y","box","px-5","pt-5",3,"ngClass"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["noStudentObj",""],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[3,"name","parentFullName","parentId","parentPhone","email","birthday","avatar","gender","schoolName","facebookLink","identificationNumber","hasUser","classrooms","joinedAt"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["azt-track-service","detail-account-student-rzLFlIWrx","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-zZpuvJmKGS","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-hml3hBaXHE","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-rzLFlIWrx",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-primary"],["name","pencil"],["azt-track-service","detail-account-student-zZpuvJmKGS",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-danger"],["name","trash-2"],["azt-track-service","detail-account-student-hml3hBaXHE",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],[1,"w-4","h-4","mr-2","text-warning"],["name","shield-alert"],["azt-track-service","detail-account-student-WgNDrDRXqF",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","detail-account-student-njjAOAGlF5","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-njjAOAGlF5",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-5"],[1,"block","sm:inline"]],template:function(h,N){if(1&h&&(e.TgZ(0,"div",0),e.YNc(1,I,1,1,"azt-loading-effect",1),e.YNc(2,Ue,3,2,"ng-template",null,2,e.W1O),e.qZA()),2&h){const H=e.MAs(3);e.Q6J("ngClass",e.VKq(3,Ze,!N.studentObj)),e.xp6(1),e.Q6J("ngIf",N.statusObj.loading)("ngIfElse",H)}},dependencies:[s.mk,s.O5,_t.Nh5,xt.l,Nt.a,rt.JV,rt.NK,rt.Pf],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]}),T})();var Se=g(46677),fe=g(19402);let Ie=(()=>{class T extends i.Q{constructor(h,N){super(),this.studentService=h,this.sAztDialogService=N,this.studentId=0,this.selectClassroomId=0,this.isTeacherRole=!0,this.avgPoint=0}showTotalPointDetail(){this.sAztDialogService.open(Se.m,{width:"700px",restoreFocus:!1,data:{student:this.studentObj,isTeacher:this.isTeacherRole}}).afterClosed().subscribe(h=>{this.getInfoAttendance()})}getInfoAttendance(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsStudentIdProfileGet(this.studentId,this.selectClassroomId).subscribe(h=>{h?(this.attendanceObj=h,this.avgPoint=h.averageMark??0,this.studentObj=h.student,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnChanges(){this.getInfoAttendance()}ngOnInit(){super.ngOnInit()}}return T.\u0275fac=function(h){return new(h||T)(e.Y36(fe.VT),e.Y36(Zt.C))},T.\u0275cmp=e.Xpm({type:T,selectors:[["azt-detail-attendance"]],inputs:{studentId:"studentId",selectClassroomId:"selectClassroomId",isTeacherRole:"isTeacherRole"},features:[e.qOj,e.TTD],decls:60,vars:23,consts:[[1,"detail-attendance"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"box","flex","items-center","p-5"],[1,"box-content","mx-auto","text-center"],[1,"btn","btn-sm","btn-primary-soft","p-1"],[1,"w-6","h-6"],["name","star"],[1,"mt-4"],[1,"ml-2","link__hover","link__color",3,"click"],[1,"text-2xl","text-primary","font-medium"],[1,"col-span-12","md:col-span-3"],[1,"box","zoom-in","flex","items-center","p-5"],["name","check"],[1,"btn","btn-sm","btn-secondary-soft","p-1"],["name","power-off"],[1,"text-2xl","text-secondary","font-medium"],[1,"btn","btn-sm","btn-pending-soft","p-1"],["name","alert-octagon"],[1,"text-2xl","text-pending","font-medium"],[1,"btn","btn-sm","btn-danger-soft","p-1"],["name","x-octagon"],[1,"text-2xl","text-danger","font-medium"]],template:function(h,N){1&h&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"div",6),e._UZ(7,"lucide-icon",7),e.qZA()(),e.TgZ(8,"div",8),e._uU(9),e.ALo(10,"mytranslate"),e.TgZ(11,"a",9),e.NdJ("click",function(){return N.showTotalPointDetail()}),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()(),e.TgZ(14,"div",10),e._uU(15),e.qZA()()()(),e.TgZ(16,"div",11)(17,"div",12)(18,"div",4)(19,"button",5)(20,"div",6),e._UZ(21,"lucide-icon",13),e.qZA()(),e.TgZ(22,"div",8),e._uU(23),e.ALo(24,"mytranslate"),e.qZA(),e.TgZ(25,"div",10),e._uU(26),e.qZA()()()(),e.TgZ(27,"div",11)(28,"div",12)(29,"div",4)(30,"button",14)(31,"div",6),e._UZ(32,"lucide-icon",15),e.qZA()(),e.TgZ(33,"div",8),e._uU(34),e.ALo(35,"mytranslate"),e.qZA(),e.TgZ(36,"div",16),e._uU(37),e.qZA()()()(),e.TgZ(38,"div",11)(39,"div",12)(40,"div",4)(41,"button",17)(42,"div",6),e._UZ(43,"lucide-icon",18),e.qZA()(),e.TgZ(44,"div",8),e._uU(45),e.ALo(46,"mytranslate"),e.qZA(),e.TgZ(47,"div",19),e._uU(48),e.qZA()()()(),e.TgZ(49,"div",11)(50,"div",12)(51,"div",4)(52,"button",20)(53,"div",6),e._UZ(54,"lucide-icon",21),e.qZA()(),e.TgZ(55,"div",8),e._uU(56),e.ALo(57,"mytranslate"),e.qZA(),e.TgZ(58,"div",22),e._uU(59),e.qZA()()()()()()),2&h&&(e.xp6(9),e.hij(" ",e.lcZ(10,11,"lang_business_diem_tong_ket")," "),e.xp6(3),e.hij("(",e.lcZ(13,13,"lang_auto_xem_chi_tiet"),")"),e.xp6(3),e.Oqu(N.avgPoint),e.xp6(8),e.Oqu(e.lcZ(24,15,"lang_student_number_of_sessions_attended")),e.xp6(3),e.Oqu(null==N.attendanceObj?null:N.attendanceObj.totalAttend),e.xp6(8),e.Oqu(e.lcZ(35,17,"lang_student_number_of_sessions_missed")),e.xp6(3),e.Oqu(null==N.attendanceObj?null:N.attendanceObj.totalAbsence),e.xp6(8),e.Oqu(e.lcZ(46,19,"lang_student_number_of_approved_absences")),e.xp6(3),e.Oqu(null==N.attendanceObj?null:N.attendanceObj.totalAbsentPermission),e.xp6(8),e.Oqu(e.lcZ(57,21,"lang_student_number_of_unauthorized_absences")),e.xp6(3),e.Oqu(null==N.attendanceObj?null:N.attendanceObj.totalAbsentWithoutPermission))},dependencies:[_t.Nh5,rt.JV],encapsulation:2}),T})();var xe=g(60381);function Fe(T,J){if(1&T&&(e.TgZ(0,"tr")(1,"td",10),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()()),2&T){const h=J.$implicit,N=J.index;e.xp6(2),e.Oqu(N+1),e.xp6(2),e.Oqu(h.bookName),e.xp6(2),e.Oqu(e.lcZ(7,3,h.createdAt))}}function X(T,J){if(1&T&&(e.ynx(0),e.YNc(1,Fe,8,5,"tr",9),e.BQk()),2&T){const h=e.oxw();e.xp6(1),e.Q6J("ngForOf",h.bookDistributionList)}}function yt(T,J){1&T&&(e.TgZ(0,"tr")(1,"td",11),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&T&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_student_profile_not_data_view")," "))}let z=(()=>{class T extends i.Q{getInfoBookDistribution(){this.waitDestroy(this.studentService.apiStudentsStudentIdBooksGet(this.studentId).subscribe(h=>{h?(this.bookDistributionList=h.list,this.totalBookDistribution=h.total):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getInfoBookDistribution()}constructor(h){super(),this.studentService=h,this.studentId=0,this.bookDistributionList=[],this.totalBookDistribution=0}}return T.\u0275fac=function(h){return new(h||T)(e.Y36(fe.VT))},T.\u0275cmp=e.Xpm({type:T,selectors:[["azt-detail-book-distribution"]],inputs:{studentId:"studentId"},features:[e.qOj],decls:22,vars:14,consts:[[1,"text-right","mt-4"],[1,"font-medium"],[1,"box","mt-2"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[4,"ngIf","ngIfElse"],["noDistribution",""],[4,"ngFor","ngForOf"],[1,"text-center"],["colspan","3",1,"text-center"]],template:function(h,N){if(1&h&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()(),e.TgZ(4,"div",2)(5,"drag-scroll")(6,"table",3)(7,"thead",4)(8,"tr")(9,"th",5),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"th",6),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"th",6),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,X,2,1,"ng-container",7),e.YNc(20,yt,4,3,"ng-template",null,8,e.W1O),e.qZA()()()()),2&h){const H=e.MAs(21);e.xp6(2),e.hij(" ",e.lcZ(3,6,"lang_student_total")+": "+N.totalBookDistribution," "),e.xp6(8),e.hij(" ",e.lcZ(11,8,"lang_auto_stt")," "),e.xp6(3),e.hij(" ",e.lcZ(14,10,"lang_core_ten_sach")," "),e.xp6(3),e.hij(" ",e.lcZ(17,12,"lang_auto_thoi_gian")," "),e.xp6(3),e.Q6J("ngIf",N.bookDistributionList.length)("ngIfElse",H)}},dependencies:[s.sg,s.O5,xe.HU,xe.$Z,rt.JV,rt.$n],encapsulation:2}),T})();var q=g(66469),bt=g(71518),jt=g(84003),Kt=g(9e4),zt=g(95287),Vt=g(43277);function ke(T,J){if(1&T&&e._UZ(0,"azt-loading-effect",3),2&T){const h=e.oxw();e.Q6J("currentStatusObj",h.statusObj)}}function de(T,J){if(1&T&&(e.TgZ(0,"span",24),e._uU(1),e.qZA()),2&T){const h=e.oxw(2).$implicit;e.xp6(1),e.Oqu(h.averageMark)}}const re=function(T){return{"width.%":T}};function Je(T,J){if(1&T&&(e.TgZ(0,"div",22),e.YNc(1,de,2,1,"span",23),e.qZA()),2&T){const h=e.oxw().$implicit;e.Q6J("ngStyle",e.VKq(2,re,10*h.averageMark)),e.xp6(1),e.Q6J("ngIf",h.averageMark&&h.averageMark>1)}}function ge(T,J){1&T&&(e.TgZ(0,"div",25)(1,"span",26),e._UZ(2,"azt-loading-ui"),e.qZA()())}function Ne(T,J){1&T&&(e.ynx(0),e.TgZ(1,"div",29)(2,"span",30),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.BQk()),2&T&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"lang_profile_student_not_support_subject")))}function nn(T,J){if(1&T&&(e.TgZ(0,"span",24),e._uU(1),e.qZA()),2&T){const h=e.oxw(2).$implicit;e.xp6(1),e.Oqu(h.averageMark)}}const P=function(T,J,h,N){return{"bg-orange-600":T,"bg-red-600":J,"bg-green-600":h,"bg-blue-600":N}};function pt(T,J){if(1&T&&(e.TgZ(0,"div",51),e.YNc(1,nn,2,1,"span",23),e.qZA()),2&T){const h=e.oxw().$implicit;e.Q6J("ngClass",e.l5B(3,P,1==h.id,3==h.id,2==h.id,4==h.id))("ngStyle",e.VKq(8,re,10*h.averageMark)),e.xp6(1),e.Q6J("ngIf",h.averageMark>1)}}const w=function(T){return{"border-none":T}};function G(T,J){if(1&T&&(e.TgZ(0,"div",41)(1,"div",42)(2,"div",43)(3,"h3",44),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"div",45)(7,"h3",44),e._uU(8),e.ALo(9,"mytranslate"),e.TgZ(10,"b"),e._uU(11),e.qZA(),e._uU(12," / "),e.TgZ(13,"b"),e._uU(14),e.qZA(),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()(),e.TgZ(17,"div",46)(18,"div",47)(19,"span",48),e._uU(20,"0"),e.qZA(),e.TgZ(21,"div",49),e.YNc(22,pt,2,10,"div",50),e.qZA(),e.TgZ(23,"span",19),e._uU(24,"10"),e.qZA()()()()()),2&T){const h=J.$implicit;e.Q6J("ngClass",e.VKq(13,w,J.last)),e.xp6(4),e.hij(" ",e.lcZ(5,7,h.name)," "),e.xp6(4),e.hij(" ",e.lcZ(9,9,"lang_auto_tra_loi_dung"),":\xa0 "),e.xp6(3),e.Oqu(h.totalCorrectQuestion),e.xp6(3),e.Oqu(h.totalQuestion),e.xp6(1),e.hij(" \xa0",e.lcZ(16,11,"azt_lang_sugg_question")," "),e.xp6(7),e.Q6J("ngIf",h.averageMark)}}function Y(T,J){if(1&T&&(e.ynx(0),e.TgZ(1,"div",39)(2,"h4",33),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.YNc(5,G,25,15,"div",40),e.BQk()),2&T){const h=e.oxw(3).$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,2,"lang_student_profile_result_by_difficulty_level")," "),e.xp6(2),e.Q6J("ngForOf",h.difficultyDataObjs)}}function gt(T,J){if(1&T&&(e._UZ(0,"coazt-student-skill-chapter",31),e.TgZ(1,"div",32)(2,"h4",33),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()(),e.TgZ(5,"div",34)(6,"div",35)(7,"div",36),e._UZ(8,"div",37),e.qZA()()(),e.YNc(9,Y,6,4,"ng-container",38)),2&T){const h=e.oxw(2).$implicit,N=e.oxw(2);e.Q6J("levelId",h.levelId)("subjectId",h.subjectId)("userId",N.studentObj.parentId),e.xp6(3),e.hij(" ",e.lcZ(4,6,"lang_student_profile_exam_point_by_time")," "),e.xp6(5),e.Q6J("chart",h.chart),e.xp6(1),e.Q6J("ngIf",h.difficultyDataObjs&&h.difficultyDataObjs.length)}}function A(T,J){if(1&T&&(e.YNc(0,Ne,5,3,"ng-container",27),e.YNc(1,gt,10,8,"ng-template",null,28,e.W1O)),2&T){const h=e.MAs(2),N=e.oxw().$implicit;e.Q6J("ngIf",N.errorGetData)("ngIfElse",h)}}function tt(T,J){if(1&T){const h=e.EpF();e.ynx(0),e.TgZ(1,"mat-expansion-panel",8),e.NdJ("opened",function(){const St=e.CHM(h).index,ue=e.oxw(2);return e.KtG(ue.getStatisticalById(St))}),e.TgZ(2,"mat-expansion-panel-header",9)(3,"div",10)(4,"div",11)(5,"h3",12),e._uU(6),e.ALo(7,"mytranslate"),e.ALo(8,"mytranslate"),e.qZA()(),e.TgZ(9,"div",13)(10,"div",14)(11,"span",15),e._uU(12),e.ALo(13,"mytranslate"),e.qZA(),e.TgZ(14,"span",16),e._uU(15,"0"),e.qZA(),e.TgZ(16,"div",17),e.YNc(17,Je,2,4,"div",18),e.qZA(),e.TgZ(18,"span",19),e._uU(19,"10"),e.qZA()()()()(),e.YNc(20,ge,3,0,"div",20),e.YNc(21,A,3,2,"ng-template",null,21,e.W1O),e.qZA(),e.BQk()}if(2&T){const h=J.$implicit,N=e.MAs(22);e.xp6(6),e.AsE("",e.lcZ(7,6,h.subjectName)," ","("+e.lcZ(8,8,h.levelName)+")",""),e.xp6(6),e.Oqu(e.lcZ(13,10,"lang_auto_diem_trung_binh")),e.xp6(5),e.Q6J("ngIf",h.averageMark),e.xp6(3),e.Q6J("ngIf",h.isLoading)("ngIfElse",N)}}function k(T,J){if(1&T&&(e.TgZ(0,"div",4)(1,"div",5)(2,"mat-accordion",6),e.YNc(3,tt,23,12,"ng-container",7),e.qZA()()()),2&T){const h=e.oxw();e.xp6(3),e.Q6J("ngForOf",h.levelSubjectObjs)}}let Z=(()=>{class T extends i.Q{getStatisticalById(h){this.studentObj&&this.levelSubjectObjs.length&&this.levelSubjectObjs[h]&&(this.levelSubjectObjs[h].isLoading=!0,this.levelSubjectObjs[h].errorGetData=!1,this.studentService.apiStudentsStudentIdFieldGet(this.studentObj.id,this.levelSubjectObjs[h].levelId??0,this.levelSubjectObjs[h].subjectId??0).subscribe({next:N=>{N?(this.levelSubjectObjs[h].difficultyDataObjs=N.difficulty??[],this.levelSubjectObjs[h].knowledgeDataObjs=N.knowledge??[],this.levelSubjectObjs[h].chart=this.createChart(N.examResults??[]),this.levelSubjectObjs[h].isLoading=!1,this.levelSubjectObjs[h].errorGetData=!1):(this.levelSubjectObjs[h].isLoading=!1,this.levelSubjectObjs[h].errorGetData=!0,this.stopStatusObj())},error:N=>{this.levelSubjectObjs[h].isLoading=!1,this.levelSubjectObjs[h].errorGetData=!0,this.errorStatusObj(N.error.message??"",!0)}}))}createChart(h){let N=this.commonService.myTranslateInstant("lang_auto_Diem")??"",H=[],St=[];return h.forEach(ve=>{H.push(ve.mark??0),St.push(this.sAztTimeService.formatFullDateTimeWithoutSecondByUserUnit(ve.createdAt))}),new q.kL({chart:{type:"line",style:{fontFamily:"Arial"}},title:{style:{wordWrap:"break-word","text-align":"center"},text:"",useHTML:!0},colors:["#2361ae"],credits:{enabled:!1},xAxis:{categories:St},yAxis:{title:{text:N}},series:[{name:N,type:"line",data:H}]})}getDataSubject(){this.studentObj&&(this.initStatusObj(),this.isBusinessDomain?this.studentService.apiStudentsStudentIdAverageLevelSubjectMarksGet(this.studentObj.id).subscribe({next:h=>{this.levelSubjectObjs=h.list??[],this.getStatisticalById(0),this.stopStatusObj()},error:h=>{this.errorStatusObj(h.error.message,!0)}}):this.examPageResultService.apiExamPageResultListStudentProfileByLevelSubjectsGet(this.studentObj.id).subscribe(h=>{1==h.success&&h.data?(this.levelSubjectObjs=h.data.objs??[],this.getStatisticalById(0),this.stopStatusObj()):this.errorStatusObj(h.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getDataSubject()}constructor(h,N,H,St){super(),this.examPageResultService=h,this.studentService=N,this.sAztTimeService=H,this.studentPracticeService=St,this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new e.vpe,this.levelSubjectObjs=[]}}return T.\u0275fac=function(h){return new(h||T)(e.Y36(bt.DR),e.Y36(fe.VT),e.Y36(jt.D),e.Y36(Kt.p4))},T.\u0275cmp=e.Xpm({type:T,selectors:[["azt-detail-by-subject-student"]],inputs:{classroomId:"classroomId",studentObj:"studentObj",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.qOj],decls:4,vars:2,consts:[[1,"intro-y"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"px-5"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[2,"margin-top","0.75rem",3,"opened"],[1,"pad-mobile"],[1,"grid","grid-cols-12","gap-3","gap-mobile","items-center","w-full","justify-between"],[1,"col-span-12","lg:col-span-3"],[1,"font-medium","mr-3"],[1,"col-span-12","lg:col-span-9","text-center"],[1,"flex","profile-flr","pr-5",2,"align-items","center"],[1,"text-md",2,"vertical-align","middle","margin-right","15px"],[1,"text-md",2,"vertical-align","middle","margin-right","5px"],[1,"w-avg-profile","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],["class","flex justify-center mt-3",4,"ngIf","ngIfElse"],["doneLoadingPage",""],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[1,"flex","justify-center","mt-3"],[1,"w-6","h-6","inline-block"],[4,"ngIf","ngIfElse"],["hasData",""],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[3,"levelId","subjectId","userId"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"report-box","intro-x","mt-3"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[4,"ngIf"],[1,"w-auto","text-left","bg-gray-200","mt-3",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],["class","border-b border-slate-200/60 dark:border-darkmode-400 mt-2 py-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","mt-2","py-3",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 text-right p-0.5 leading-none",3,"ngClass","ngStyle",4,"ngIf"],[1,"h-6","text-blue-100","text-right","p-0.5","leading-none",3,"ngClass","ngStyle"]],template:function(h,N){if(1&h&&(e.TgZ(0,"div",0),e.YNc(1,ke,1,1,"azt-loading-effect",1),e.YNc(2,k,4,1,"ng-template",null,2,e.W1O),e.qZA()),2&h){const H=e.MAs(3);e.xp6(1),e.Q6J("ngIf",N.statusObj.loading)("ngIfElse",H)}},dependencies:[s.mk,s.sg,s.O5,s.PC,zt.pp,zt.ib,zt.yz,q.Dm,xt.l,Wt.n,Vt.C,rt.JV],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),T})();function U(T,J){if(1&T&&(e.TgZ(0,"tr")(1,"td",10),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td",10)(9,"span",11),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()()()),2&T){const h=J.$implicit,N=J.index;let H;e.xp6(2),e.Oqu(N+1),e.xp6(2),e.Oqu(e.lcZ(5,4,null!==(H=h.updatedAt)&&void 0!==H?H:h.createdAt)),e.xp6(3),e.Oqu(h.month+"/"+h.year),e.xp6(3),e.hij(" ",e.lcZ(11,6,"lang_student_tuition_fee_paid")," ")}}function At(T,J){if(1&T&&(e.ynx(0),e.YNc(1,U,12,8,"tr",9),e.BQk()),2&T){const h=e.oxw();e.xp6(1),e.Q6J("ngForOf",h.historyTuitionFeeList)}}function Jt(T,J){1&T&&(e.TgZ(0,"tr")(1,"td",12),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&T&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"lang_student_profile_not_data_view")," "))}let on=(()=>{class T extends i.Q{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.studentId).subscribe(h=>{h?this.historyTuitionFeeList=h.histories:this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(h){super(),this.paymentService=h,this.studentId=0,this.historyTuitionFeeList=[]}}return T.\u0275fac=function(h){return new(h||T)(e.Y36(fe.te))},T.\u0275cmp=e.Xpm({type:T,selectors:[["azt-detail-tuition-fee"]],inputs:{studentId:"studentId"},features:[e.qOj],decls:22,vars:14,consts:[[1,"detail-attendance"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],[4,"ngIf","ngIfElse"],["noTuitionFee",""],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(h,N){if(1&h&&(e.TgZ(0,"div",0)(1,"div",1)(2,"drag-scroll")(3,"table",2)(4,"thead",3)(5,"tr")(6,"th",4),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.TgZ(9,"th",5),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"th",5),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"th",6),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,At,2,1,"ng-container",7),e.YNc(20,Jt,4,3,"ng-template",null,8,e.W1O),e.qZA()()()()()),2&h){const H=e.MAs(21);e.xp6(7),e.hij(" ",e.lcZ(8,6,"lang_auto_stt")," "),e.xp6(3),e.hij(" ",e.lcZ(11,8,"lang_student_payment_time")," "),e.xp6(3),e.hij(" ",e.lcZ(14,10,"lang_student_monthly_tuition_fee")," "),e.xp6(3),e.hij(" ",e.lcZ(17,12,"lang_student_status")," "),e.xp6(3),e.Q6J("ngIf",N.historyTuitionFeeList.length)("ngIfElse",H)}},dependencies:[s.sg,s.O5,xe.HU,xe.$Z,rt.JV,rt.$n],encapsulation:2}),T})();function Me(T,J){if(1&T&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e._UZ(3,"azt-check-mark",22),e.qZA()),2&T){const h=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_point"),": "),e.xp6(2),e.Q6J("mark",h.resultMarkObj.point)}}function _n(T,J){1&T&&(e.TgZ(0,"span",23),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&T&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_student_profile_not_mark_result")," "))}function je(T,J){if(1&T&&(e.TgZ(0,"span"),e.YNc(1,Me,4,4,"span",18),e.YNc(2,_n,3,3,"span",21),e.qZA()),2&T){const h=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",h.resultMarkObj.confirmedAt),e.xp6(1),e.Q6J("ngIf",!h.resultMarkObj.confirmedAt)}}function vn(T,J){1&T&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&T&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_student_profile_no_result")," "))}function Le(T,J){if(1&T&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&T){const h=e.oxw().$implicit;e.xp6(1),e.AsE("",e.lcZ(2,2,"lang_student_profile_resend_answer_required"),": ",h.resendAnswerObj.resendNote,"")}}function it(T,J){if(1&T){const h=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){const St=e.CHM(h).$implicit,ue=e.oxw();return e.KtG(ue.clickToHomeworkObj(St))}),e.TgZ(1,"div",8),e.O4$(),e.TgZ(2,"svg",9),e._UZ(3,"path",10)(4,"polyline",11)(5,"line",12)(6,"line",13)(7,"line",14),e.qZA()(),e.kcU(),e.TgZ(8,"div",15)(9,"p",16),e._uU(10),e.qZA(),e.TgZ(11,"div",17),e.YNc(12,je,3,2,"span",18),e.YNc(13,vn,3,3,"span",19),e.YNc(14,Le,3,4,"span",19),e.qZA(),e.TgZ(15,"div",20),e._uU(16),e.ALo(17,"mytranslate"),e.ALo(18,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.qZA()()()}if(2&T){const h=J.$implicit,N=J.index;e.Gre("clickable zoom-in flex items-center ",N>0?"mt-5":""," pb-2"),e.xp6(9),e.s9C("matTooltip",h.name),e.xp6(1),e.AsE("",N+1,". ",h.name,""),e.xp6(2),e.Q6J("ngIf",h.resultMarkObj),e.xp6(1),e.Q6J("ngIf",!h.resultMarkObj&&!h.resendAnswerObj),e.xp6(1),e.Q6J("ngIf",!h.resultMarkObj&&h.resendAnswerObj),e.xp6(2),e.AsE("",e.lcZ(17,11,"lang_student_profile_utils_homework_answer_created_at"),": ",e.lcZ(18,13,h.createdAt),"")}}function Nn(T,J){1&T&&(e.TgZ(0,"div",25),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&T&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_list_null")))}function Ye(T,J){if(1&T&&e._UZ(0,"azt-loading-effect",31),2&T){const h=e.oxw(2);e.Q6J("currentStatusObj",h.statusObj)}}function qe(T,J){if(1&T){const h=e.EpF();e.TgZ(0,"div",26),e.YNc(1,Ye,1,1,"azt-loading-effect",27),e.TgZ(2,"button",28),e.NdJ("click",function(){e.CHM(h);const H=e.oxw();return e.KtG(H.getNextHomeworkAnswerObjs())}),e.ALo(3,"mytranslate"),e.O4$(),e.TgZ(4,"svg",29),e._UZ(5,"polyline",30),e.qZA()()()}if(2&T){const h=e.oxw();e.xp6(1),e.Q6J("ngIf",h.statusObj.loading),e.xp6(1),e.s9C("matTooltip",e.lcZ(3,3,"lang_auto_hien_ban_ghi_cu_hon")),e.Q6J("disabled",!h.homeworkNextPage)}}let he=(()=>{class T extends i.Q{clickToHomeworkObj(h){this.isTeacher?h.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("homework",h)?this.commonService.myNavigationWithQueryString("/admin/homework/switch-mark-exercise/"+h.resultMarkObj?.resultId+"/"+h.hashId+"/"+(this.studentId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(h.classroomId??0)+"/"+h.id+"/"+h.hashId,"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(h.resultMarkObj?.resultId?"/homework/switch-view-homework/"+h.resultMarkObj?.resultId+"/"+h.hashId:"/bai-tap/"+h.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var h=this.studentProfileFilterService.getDefaultFilterObj("homework");h.classroomId=this.classroomId,h.studentId=this.studentId,h.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(h).subscribe(N=>{1==N.success?(this.homeworkObjs=this.homeworkObjs.concat(N.data?.objs??[]),this.homeworkNextPage=N.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}constructor(h,N,H){super(),this.studentProfileV2Service=h,this.studentProfileFilterService=N,this.permissionService=H,this.isTeacher=!0,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}}return T.\u0275fac=function(h){return new(h||T)(e.Y36(R.LU),e.Y36(C),e.Y36(v.j))},T.\u0275cmp=e.Xpm({type:T,selectors:[["azt-student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",isTeacher:"isTeacher",backToLink:"backToLink"},features:[e.qOj],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-12","h-12","text-primary"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","homework-answer-MWO-mgLYZ_",1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"],[3,"currentStatusObj"]],template:function(h,N){1&h&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"azt-student-profile-filter-menu",2),e.NdJ("changeFilterEvent",function(){return N.reInitData()}),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,it,19,15,"div",4),e.YNc(7,Nn,3,3,"div",5),e.YNc(8,qe,6,5,"div",6),e.qZA()),2&h&&(e.xp6(2),e.Oqu(e.lcZ(3,5,"lang_student_profile_utils_homework_answer_list_submitted")),e.xp6(2),e.Q6J("filterType","homework"),e.xp6(2),e.Q6J("ngForOf",N.homeworkObjs),e.xp6(1),e.Q6J("ngIf",0==N.homeworkObjs.length&&!N.homeworkNextPage),e.xp6(1),e.Q6J("ngIf",N.homeworkObjs.length>0&&N.homeworkNextPage))},dependencies:[s.sg,s.O5,Ct.gM,xt.l,Ot.B,dt,rt.JV,rt.$n],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),T})();function Mn(T,J){if(1&T&&e._UZ(0,"azt-loading-effect",2),2&T){const h=e.oxw();e.Q6J("currentStatusObj",h.statusObj)}}function bn(T,J){if(1&T&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&T){const h=J.$implicit;e.Q6J("value",h.id+"-"+h.studentId),e.xp6(1),e.hij(" ",h.name," ")}}function Qe(T,J){if(1&T&&(e.TgZ(0,"div",23)(1,"p",20),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e._UZ(4,"azt-detail-attendance",24),e.qZA()),2&T){const h=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,4,"lang_student_attendance_point_info")),e.xp6(2),e.Q6J("studentId",h.studentId)("isTeacherRole",h.isTeacherDashboard)("selectClassroomId",h.classroomId)}}function Cn(T,J){if(1&T&&(e.TgZ(0,"div",23)(1,"p",20),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e._UZ(4,"azt-detail-tuition-fee",25),e.qZA()),2&T){const h=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"lang_student_tuition_fee_info")),e.xp6(2),e.Q6J("studentId",h.studentId)}}function an(T,J){if(1&T&&(e.TgZ(0,"div",23)(1,"p",20),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e._UZ(4,"azt-detail-book-distribution",25),e.qZA()),2&T){const h=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"lang_student_book_distribution_info")),e.xp6(2),e.Q6J("studentId",h.studentId)}}function mn(T,J){if(1&T){const h=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"h3",5),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",6)(6,"mat-form-field",7)(7,"mat-select",8),e.NdJ("selectionChange",function(H){e.CHM(h);const St=e.oxw();return e.KtG(St.selectedClassroom(H))}),e.TgZ(8,"mat-option",9),e._uU(9),e.ALo(10,"mytranslate"),e.qZA(),e.YNc(11,bn,2,2,"mat-option",10),e.qZA()()()(),e.TgZ(12,"div",11)(13,"azt-detail-account-student",12),e.NdJ("reInitComponentEvent",function(){e.CHM(h);const H=e.oxw();return e.KtG(H.reInitOtherComponent())}),e.qZA(),e.TgZ(14,"div",13)(15,"div",14),e._UZ(16,"azt-student-profile-list-exams",15,16),e.qZA(),e.TgZ(18,"div",14),e._UZ(19,"azt-student-profile-list-homeworks",15,17),e.qZA()(),e.YNc(21,Qe,5,6,"div",18),e.YNc(22,Cn,5,4,"div",18),e.YNc(23,an,5,4,"div",18),e.TgZ(24,"div",19)(25,"p",20),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"azt-detail-by-subject-student",21),e.NdJ("reInitComponentEvent",function(){e.CHM(h);const H=e.oxw();return e.KtG(H.reInitOtherComponent())}),e.qZA()()()()}if(2&T){const h=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,29,"lang_student_classroom_profile_student")," "),e.xp6(4),e.Q6J("formControl",h.select),e.xp6(1),e.Q6J("value","")("disabled",!0),e.xp6(1),e.hij(" ---",e.lcZ(10,31,"lang_auto_chon_lop"),"--- "),e.xp6(2),e.Q6J("ngForOf",h.classroomList),e.xp6(2),e.Q6J("studentObj",h.studentObj)("classroomObj",h.classroomObj)("classroomList",h.classroomList)("classroomId",h.classroomId)("backToLink",h.backToLink)("paramBackToLink",h.paramBackToLink)("isTeacher",h.isTeacherDashboard),e.xp6(3),e.Q6J("studentId",h.studentId)("isTeacher",h.isTeacherDashboard)("classroomId",h.classroomId)("backToLink",h.backToLink),e.xp6(3),e.Q6J("studentId",h.studentId)("isTeacher",h.isTeacherDashboard)("classroomId",h.classroomId)("backToLink",h.backToLink),e.xp6(2),e.Q6J("ngIf",h.isBusinessDomain),e.xp6(1),e.Q6J("ngIf",h.isBusinessDomain),e.xp6(1),e.Q6J("ngIf",h.isBusinessDomain),e.xp6(3),e.Oqu(e.lcZ(27,33,"lang_student_academic_results_report")),e.xp6(2),e.Q6J("studentObj",h.studentObj)("classroomId",h.classroomId)("backToLink",h.backToLink)("paramBackToLink",h.paramBackToLink)}}let Tn=(()=>{class T extends i.Q{reInitOtherComponent(h){this.listExam?.reInitData(),this.listHomework?.reInitData(),h&&this.getData()}selectedClassroom(h){let N=h.value.split("-")[0],H=h.value.split("-")[1],St=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString((this.isTeacherDashboard?"/admin":"")+"/student/profile-student/"+N+"/"+H,St?"?backTo="+encodeURIComponent(St):""),this.reInitOtherComponent()}getData(){this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0}).subscribe(N=>{1==N.success?(N.data?.studentObj&&N.data?.classroomObj&&N.data.classroomObj.permissionObj&&(this.studentObj=N.data.studentObj,this.classroomObj=N.data.classroomObj),this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.initStatusObj(),this.getData()}constructor(h){super(),this.studentProfileV2Service=h,this.select=new O.NI("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[],this.isTeacherDashboard=!0}}return T.\u0275fac=function(h){return new(h||T)(e.Y36(R.LU))},T.\u0275cmp=e.Xpm({type:T,selectors:[["azt-student-profile"]],viewQuery:function(h,N){if(1&h&&(e.Gf(ht,5),e.Gf(ht,5)),2&h){let H;e.iGM(H=e.CRH())&&(N.listExam=H.first),e.iGM(H=e.CRH())&&(N.listHomework=H.first)}},inputs:{select:"select",classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink",classroomList:"classroomList",isTeacherDashboard:"isTeacherDashboard"},features:[e.qOj],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["id","profileStudent",1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","flex","items-center","mb-3","flex-wrap"],[1,"text-xl","font-medium"],[1,"ml-5","box",2,"font-size","12px"],["appearance","outline"],["name","classroom",3,"formControl","selectionChange"],[3,"value","disabled"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"studentObj","classroomObj","classroomList","classroomId","backToLink","paramBackToLink","isTeacher","reInitComponentEvent"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","isTeacher","classroomId","backToLink"],["listExam",""],["listHomework",""],["class","mt-5",4,"ngIf"],[1,"mt-4"],[1,"mb-3","text-base","font-medium"],[3,"studentObj","classroomId","backToLink","paramBackToLink","reInitComponentEvent"],[3,"value"],[1,"mt-5"],[3,"studentId","isTeacherRole","selectClassroomId"],[3,"studentId"]],template:function(h,N){if(1&h&&(e.YNc(0,Mn,1,1,"azt-loading-effect",0),e.YNc(1,mn,29,35,"ng-template",null,1,e.W1O)),2&h){const H=e.MAs(2);e.Q6J("ngIf",N.statusObj.loading)("ngIfElse",H)}},dependencies:[s.sg,s.O5,Mt.ey,Yt.KE,Gt.gD,O.JJ,O.oH,xt.l,Ae,Ie,z,Z,on,he,ht,rt.JV],encapsulation:2}),T})()},30292:(ae,It,g)=>{g.d(It,{ft:()=>si,Bi:()=>Ws,Yy:()=>Ks});var O=g(42495),i=g(65879),e=g(69594);class R extends Error{}class l extends R{constructor(r){super(`Invalid DateTime: ${r.toMessage()}`)}}class t extends R{constructor(r){super(`Invalid Duration: ${r.toMessage()}`)}}class C extends R{constructor(r){super(`Invalid Interval: ${r.toMessage()}`)}}class v extends R{constructor(r){super(`Invalid unit ${r}`),Object.setPrototypeOf(this,v.prototype)}}class s extends R{constructor(r){super(`${r} is an invalid or unknown zone specifier`),Object.setPrototypeOf(this,s.prototype)}}class Ct extends R{constructor(r){super(r),Object.setPrototypeOf(this,Ct.prototype)}}class xt extends R{constructor(r){super(r),Object.setPrototypeOf(this,xt.prototype)}}class Ot extends R{constructor(){super("Zone is an abstract class"),Object.setPrototypeOf(this,Ot.prototype)}}class rt{get type(){throw new Ot}get ianaName(){return this.name}get name(){throw new Ot}get isUniversal(){throw new Ot}offsetName(r,a){throw new Ot}formatOffset(r,a){throw new Ot}offset(r){throw new Ot}equals(r){throw new Ot}get isValid(){throw new Ot}}var V=Intl;let nt={};const ct={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let M={};class K extends rt{static create(r){return M[r]||(M[r]=new K(r)),M[r]}static resetCache(){M={},nt={}}static isValidSpecifier(r){return this.isValidZone(r)}static isValidZone(r){if(!r)return!1;try{return new V.DateTimeFormat("en-US",{timeZone:r}).format(),!0}catch{return!1}}constructor(r){super(),this._zoneName=r,this._valid=K.isValidZone(r)}get type(){return"iana"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(r,{format:a,locale:_}={}){return To(r,a,_,this.name)}formatOffset(r,a){return Zn(this.offset(r),a)}offset(r){const a=new Date(r);if(isNaN(+a))return NaN;const _=function dt(m){if(!nt[m])try{nt[m]=new V.DateTimeFormat("en-US",{hour12:!1,timeZone:m,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})}catch{throw new s(m)}return nt[m]}(this.name);let o;const[d,n,c,u,f,S,D]=typeof _.formatToParts==typeof isNaN?function st(m,r){const a=m.formatToParts(r),_=[];for(let o=0;o<a.length;o++){const{type:d,value:n}=a[o],c=ct[d];"era"===d?_[c]=n:_e(c)||(_[c]=parseInt(n,10))}return _}(_,a):function ot(m,r){const a=m.format(r).replace(/\u200E/g,""),_=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(a),[,o,d,n,c,u,f,S]=_;return[n,o,d,c,u,f,S]}(_,a);"BC"===u&&(o=1-Math.abs(+d));let Qt=+a;const Pe=Qt%1e3;return Qt-=Pe>=0?Pe:1e3+Pe,(En({year:o||+d,month:+n,day:+c,hour:+(24===f?0:f),minute:+S,second:+D,millisecond:0})-Qt)/6e4}equals(r){return"iana"===r.type&&r.name===this.name}get isValid(){return this._valid}}const L="numeric",B="short",ht="long",Mt={year:L,month:L,day:L},Yt={year:L,month:B,day:L},Gt={year:L,month:B,day:L,weekday:B},se={year:L,month:ht,day:L},le={year:L,month:ht,day:L,weekday:ht},te={hour:L,minute:L},Wt={hour:L,minute:L,second:L},wt={hour:L,minute:L,second:L,timeZoneName:B},Pt={hour:L,minute:L,second:L,timeZoneName:ht},ft={hour:L,minute:L,hourCycle:"h23"},Tt={hour:L,minute:L,second:L,hourCycle:"h23"},Zt={hour:L,minute:L,second:L,hourCycle:"h23",timeZoneName:B},_t={hour:L,minute:L,second:L,hourCycle:"h23",timeZoneName:ht},Nt={year:L,month:L,day:L,hour:L,minute:L},I={year:L,month:L,day:L,hour:L,minute:L,second:L},mt={year:L,month:B,day:L,hour:L,minute:L},Q={year:L,month:B,day:L,hour:L,minute:L,second:L},vt={year:L,month:B,day:L,weekday:B,hour:L,minute:L},Ft={year:L,month:ht,day:L,hour:L,minute:L,timeZoneName:B},Rt={year:L,month:ht,day:L,hour:L,minute:L,second:L,timeZoneName:B},ee={year:L,month:ht,day:L,weekday:ht,hour:L,minute:L,timeZoneName:ht},ye={year:L,month:ht,day:L,weekday:ht,hour:L,minute:L,second:L,timeZoneName:ht},ze=["January","February","March","April","May","June","July","August","September","October","November","December"],ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ue=["J","F","M","A","M","J","J","A","S","O","N","D"];function Ze(m){switch(m){case"narrow":return[...Ue];case"short":return[...ce];case"long":return[...ze];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"]}}const Ae=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Se=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],fe=["M","T","W","T","F","S","S"];function Ie(m){switch(m){case"narrow":return[...fe];case"short":return[...Se];case"long":return[...Ae];case"numeric":return["1","2","3","4","5","6","7"]}}const xe=["AM","PM"],Fe=["Before Christ","Anno Domini"],X=["BC","AD"],yt=["B","A"];function z(m){switch(m){case"narrow":return[...yt];case"short":return[...X];case"long":return[...Fe]}}let Vt={},de={};function re(m,r={}){const a=JSON.stringify([m,r]);let _=de[a];return _||(_=new V.DateTimeFormat(m,r),de[a]=_),_}let P,Je={},Ne={};function A(m,r,a,_){return"en"===m.listingMode()?a(r):_(r)}class tt{constructor(r,a,_){const{padTo:o,floor:d}=_,n=function W(m,r){var a={};for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&r.indexOf(_)<0&&(a[_]=m[_]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(_=Object.getOwnPropertySymbols(m);o<_.length;o++)r.indexOf(_[o])<0&&Object.prototype.propertyIsEnumerable.call(m,_[o])&&(a[_[o]]=m[_[o]])}return a}(_,["padTo","floor"]);if(this._padTo=o||0,this._floor=d||!1,!a||Object.keys(n).length>0){const c=Object.assign({useGrouping:!1},_);this._padTo>0&&(c.minimumIntegerDigits=o),this._inf=function ge(m,r){const a=JSON.stringify([m,r]);let _=Je[a];return _||(_=new V.NumberFormat(m,r),Je[a]=_),_}(r,c)}}format(r){if(this._inf){const a=this._floor?Math.floor(r):r;return this._inf.format(a)}return $t(this._floor?Math.floor(r):Rn(r,3),this._padTo)}}class k{get dtf(){return this._dtf}constructor(r,a,_){let o;if(this._opts=_,this._opts.timeZone)this._dt=r;else if("fixed"===r.zone.type){const n=r.offset/60*-1,c=n>=0?`Etc/GMT+${n}`:`Etc/GMT${n}`;0!==r.offset&&K.create(c).isValid?(o=c,this._dt=r):(o="UTC",this._dt=0===r.offset?r:r.setZone("UTC").plus({minutes:r.offset}),this._originalZone=r.zone)}else"system"===r.zone.type?this._dt=r:"iana"===r.zone.type?(this._dt=r,o=r.zone.name):(o="UTC",this._dt=r.setZone("UTC").plus({minutes:r.offset}),this._originalZone=r.zone);const d=Object.assign(Object.assign({},this._opts),{timeZone:this._opts.timeZone||o});this._dtf=re(a,d)}format(){return this._originalZone?this.formatToParts().map(({value:r})=>r).join(""):this.dtf.format(this._dt.toJSDate())}formatToParts(){const r=this.dtf.formatToParts(this._dt.toJSDate());return this._originalZone?r.map(a=>{if("timeZoneName"===a.type){const _=this._originalZone.offsetName(this._dt.ts,{locale:this._dt.locale,format:this._opts.timeZoneName});return Object.assign(Object.assign({},a),{value:_})}return a}):r}resolvedOptions(){return this._dtf.resolvedOptions()}}class Z{constructor(r,a,_){this._opts=Object.assign({style:"long"},_),!a&&xo()&&(this._rtf=function nn(m,r={}){const a=JSON.stringify([m,r]);let _=Ne[a];return _||(_=new V.RelativeTimeFormat(m,r),Ne[a]=_),_}(r,_))}format(r,a){return this._rtf?this._rtf.format(r,a):function zt(m,r,a="always",_=!1){const d=Et.normalizeUnit(m),n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."],milliseconds:[]}[d],c=-1===["hours","minutes","seconds"].indexOf(d);if("auto"===a&&c){const $="days"===d;switch(r){case 1:return $?"tomorrow":`next ${n[0]}`;case-1:return $?"yesterday":`last ${n[0]}`;case 0:return $?"today":`this ${n[0]}`}}const u=Object.is(r,-0)||r<0,f=Math.abs(r),S=1===f,D=_?S?n[1]:n[2]||n[1]:S?n[0]:d;return u?`${f} ${D} ago`:`in ${f} ${D}`}(a,r,this._opts.numeric,"long"!==this._opts.style)}formatToParts(r,a){return this._rtf?this._rtf.formatToParts(r,a):[]}}let U=(()=>{class m{get fastNumbers(){return void 0===this._fastNumbersCached&&(this._fastNumbersCached=this._supportsFastNumbers()),this._fastNumbersCached}constructor(a,_,o,d,n){const[c,u,f]=function w(m){const r=m.indexOf("-x-");-1!==r&&(m=m.substring(0,r));const a=m.indexOf("-u-");if(-1===a)return[m];{let _,o;try{_=re(m).resolvedOptions(),o=m}catch{const u=m.substring(0,a);_=re(u).resolvedOptions(),o=u}const{numberingSystem:d,calendar:n}=_;return[o,d,n]}}(a);this.locale=c,this.numberingSystem=_||u,this.outputCalendar=o||f,this._intl=function G(m,r,a){return(a||r)&&(m.includes("-u-")||(m+="-u"),a&&(m+=`-ca-${a}`),r&&(m+=`-nu-${r}`)),m}(this.locale,this.numberingSystem,this.outputCalendar),this._weekSettings=d,this._weekdaysCache={format:{},standalone:{}},this._monthsCache={format:{},standalone:{}},this._meridiemCache=void 0,this._eraCache={},this._specifiedLocale=n,this._fastNumbersCached=void 0}static create(a,_,o,d,n=!1){const c=a||J.defaultLocale,u=c||(n?"en-US":function pt(){return P||(P=(new V.DateTimeFormat).resolvedOptions().locale),P}()),f=_||J.defaultNumberingSystem,S=o||J.defaultOutputCalendar,D=Hn(d)||J.defaultWeekSettings;return new m(u,f,S,D,c)}static fromObject({locale:a,numberingSystem:_,outputCalendar:o,weekSettings:d}={}){return m.create(a,_,o,d)}static fromOpts(a){return m.create(a.locale,a.numberingSystem,a.outputCalendar,a.weekSettings,a.defaultToEN)}static resetCache(){P=void 0,Vt={},de={},Je={},Ne={}}clone(a){return a&&0!==Object.getOwnPropertyNames(a).length?m.create(a.locale||this._specifiedLocale,a.numberingSystem||this.numberingSystem,a.outputCalendar||this.outputCalendar,Hn(a.weekSettings)||this._weekSettings,a.defaultToEN||!1):this}dtFormatter(a,_={}){return new k(a,this._intl,_)}equals(a){return this.locale===a.locale&&this.numberingSystem===a.numberingSystem&&this.outputCalendar===a.outputCalendar}eras(a){return A(this,a,z,_=>{const o={era:_};return this._eraCache[_]||(this._eraCache[_]=[lt.utc(-40,1,1),lt.utc(2017,1,1)].map(d=>this.extract(d,o,"era"))),this._eraCache[_]})}extract(a,_,o){const c=this.dtFormatter(a,_).formatToParts().find(u=>u.type.toLowerCase()===o.toLowerCase());if(!c)throw new Error(`Invalid extract field ${o}`);return c.value}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getStartOfWeek(){return this.getWeekSettings().firstDay}getWeekSettings(){return this._weekSettings?this._weekSettings:vo()?this._getCachedWeekInfo(this.locale):rn}getWeekendDays(){return this.getWeekSettings().weekend}isEnglish(){return!!~["en","en-us"].indexOf(this.locale.toLowerCase())||new V.DateTimeFormat(this._intl).resolvedOptions().locale.startsWith("en-us")}listFormatter(a={}){return function ke(m,r={}){const a=JSON.stringify([m,r]);let _=Vt[a];return _||(_=new V.ListFormat(m,r),Vt[a]=_),_}(this._intl,a)}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}meridiems(){return A(this,"long",()=>xe,()=>(void 0===this._meridiemCache&&(this._meridiemCache=[lt.utc(2016,11,13,9),lt.utc(2016,11,13,19)].map(a=>this.extract(a,{hour:"numeric",hourCycle:"h12"},"dayPeriod"))),this._meridiemCache))}months(a,_=!1){return A(this,a,Ze,o=>{const d=_?{month:o,day:"numeric"}:{month:o},n=_?"format":"standalone";return this._monthsCache[n][o]||(this._monthsCache[n][o]=function Y(m){const r=[];for(let a=1;a<=12;a++){const _=lt.utc(2009,a,1);r.push(m(_))}return r}(c=>this.extract(c,d,"month"))),this._monthsCache[n][o]})}numberFormatter(a={}){return new tt(this._intl,this.fastNumbers,a)}redefaultToEN(a={}){return this.clone(Object.assign(Object.assign({},a),{defaultToEN:!0}))}redefaultToSystem(a={}){return this.clone(Object.assign(Object.assign({},a),{defaultToEN:!1}))}relFormatter(a={}){return new Z(this._intl,this.isEnglish(),a)}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}weekdays(a,_=!1){return A(this,a,Ie,o=>{const d=_?{weekday:o,year:"numeric",month:"long",day:"numeric"}:{weekday:o},n=_?"format":"standalone";return this._weekdaysCache[n][o]||(this._weekdaysCache[n][o]=function gt(m){const r=[];for(let a=1;a<=7;a++){const _=lt.utc(2016,11,13+a);r.push(m(_))}return r}(c=>this.extract(c,d,"weekday"))),this._weekdaysCache[n][o]})}_getCachedWeekInfo(a){let _=m._weekInfoCache[a];if(!_){const o=new V.Locale(a);_="getWeekInfo"in o?o.getWeekInfo():o.weekInfo,m._weekInfoCache[a]=_}return _}_supportsFastNumbers(){return(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===V.DateTimeFormat(this._intl).resolvedOptions().numberingSystem)}}return m._weekInfoCache={},m})(),At=null;class Jt extends rt{static get utcInstance(){return null===At&&(At=new Jt(0)),At}get ianaName(){return 0===this._fixed?"Etc/UTC":`Etc/GMT${Zn(-this._fixed,"narrow")}`}get isUniversal(){return!0}get isValid(){return!0}get name(){return 0===this._fixed?"UTC":`UTC${Zn(this._fixed,"narrow")}`}get type(){return"fixed"}constructor(r){super(),this._fixed=r}static instance(r){return 0===r?Jt.utcInstance:new Jt(r)}static parseSpecifier(r){if(r){const a=r.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(a)return new Jt(Dn(a[1],a[2]))}return null}equals(r){return"fixed"===r.type&&r._fixed===this._fixed}formatOffset(r,a){return Zn(this._fixed,a)}offset(){return this._fixed}offsetName(){return this.name}}class on extends rt{constructor(r){super(),this._zoneName=r,Object.setPrototypeOf(this,on.prototype)}get type(){return"invalid"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let Me=null;class _n extends rt{static get instance(){return null===Me&&(Me=new _n),Me}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(r,{format:a,locale:_}){return To(r,a,_)}formatOffset(r,a){return Zn(this.offset(r),a)}offset(r){return-new Date(r).getTimezoneOffset()}equals(r){return"system"===r.type}get isValid(){return!0}}const je=(m,r)=>{if(_e(m)||null===m)return r;if(m instanceof rt)return m;if(function zo(m){return"string"==typeof m}(m)){const a=m.toLowerCase();return"default"===a?r:"local"===a||"system"===a?_n.instance:"utc"===a||"gmt"===a?Jt.utcInstance:Jt.parseSpecifier(a)||K.create(m)}return Ee(m)?Jt.instance(m):"object"==typeof m&&"offset"in m&&"function"==typeof m.offset?m:new on(m)},vn={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Le={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},it=vn.hanidec.replace(/[\[|\]]/g,"").split("");let Ye={};function he({numberingSystem:m},r=""){const a=m||"latn";return Ye[a]||(Ye[a]={}),Ye[a][r]||(Ye[a][r]=new RegExp(`${vn[a]}${r}`)),Ye[a][r]}let Qe,Cn,an,T,Mn=()=>Date.now(),bn="system",mn=60,Tn=!1;class J{static set defaultLocale(r){Qe=r}static get defaultLocale(){return Qe}static set defaultNumberingSystem(r){Cn=r}static get defaultNumberingSystem(){return Cn}static set defaultOutputCalendar(r){an=r}static get defaultOutputCalendar(){return an}static set defaultWeekSettings(r){T=Hn(r)}static get defaultWeekSettings(){return T}static set defaultZone(r){bn=r}static get defaultZone(){return je(bn,_n.instance)}static set defaultZoneLike(r){bn=r}static set now(r){Mn=r}static get now(){return Mn}static set throwOnInvalid(r){Tn=r}static get throwOnInvalid(){return Tn}static set twoDigitCutoffYear(r){mn=r%100}static get twoDigitCutoffYear(){return mn}static resetCaches(){U.resetCache(),K.resetCache(),lt.resetCache(),function qe(){Ye={}}()}}class h{constructor(r,a){this.reason=r,this.explanation=a,this._formattedExplanation="",a&&(this._formattedExplanation=`: ${a}`)}toMessage(){return`${this.reason}${this._formattedExplanation}`}}const N=[0,31,59,90,120,151,181,212,243,273,304,334],H=[0,31,60,91,121,152,182,213,244,274,305,335];function St(m,r){return new h("unit out of range",`you specified ${r} (of type ${typeof r}) as a ${m}, which is invalid`)}function ue(m,r,a){return a+(yn(m)?H:N)[r-1]}function ve(m,r){const a=yn(m)?H:N,_=a.findIndex(d=>d<r);return{month:_+1,day:r-a[_]}}function dn(m,r,a){const _=new Date(Date.UTC(m,r-1,a));m<100&&m>=0&&_.setUTCFullYear(_.getUTCFullYear()-1900);const o=_.getUTCDay();return 0===o?7:o}function kn(m,r=rn.minimalDays,a=rn.firstDay){const{year:_,month:o,day:d}=m,n=ue(_,o,d),c=Yn(dn(_,o,d),a);let f,u=Math.floor((n-c+14-r)/7);return u<1?(f=_-1,u=Re(f,r,a)):u>Re(_,r,a)?(f=_+1,u=1):f=_,Object.assign({weekYear:f,weekNumber:u,weekday:c},An(m))}function uo(m,r=rn.minimalDays,a=rn.firstDay){const{weekYear:_,weekNumber:o,weekday:d}=m,n=Yn(dn(_,1,r),a),c=un(_);let f,u=7*o+d-n-7+r;u<1?(f=_-1,u+=un(f)):u>c?(f=_+1,u-=un(_)):f=_;const{month:S,day:D}=ve(f,u);return Object.assign({year:f,month:S,day:D},An(m))}function Bn(m){const{year:r,month:a,day:_}=m,o=ue(r,a,_);return Object.assign({year:r,ordinal:o},An(m))}function po(m){const{year:r,ordinal:a}=m,{month:_,day:o}=ve(r,a);return Object.assign({year:r,month:_,day:o},An(m))}function go(m){const r=jn(m.year),a=we(m.month,1,12),_=we(m.day,1,Ln(m.year,m.month));return r?a?!_&&St("day",m.day):St("month",m.month):St("year",m.year)}function ho(m){const{hour:r,minute:a,second:_,millisecond:o}=m,d=we(r,0,23)||24===r&&0===a&&0===_&&0===o,n=we(a,0,59),c=we(_,0,59),u=we(o,0,999);return d?n?c?!u&&St("millisecond",o):St("second",_):St("minute",a):St("hour",r)}function Yn(m,r){return(m-r+7)%7+1}function fo(m,r){if(Bt(m.localWeekday)||Bt(m.localWeekNumber)||Bt(m.localWeekYear)){if(Bt(m.weekday)||Bt(m.weekNumber)||Bt(m.weekYear))throw new Ct("Cannot mix locale-based week fields with ISO-based week fields");return Bt(m.localWeekday)&&(m.weekday=m.localWeekday),Bt(m.localWeekNumber)&&(m.weekNumber=m.localWeekNumber),Bt(m.localWeekYear)&&(m.weekYear=m.localWeekYear),delete m.localWeekday,delete m.localWeekNumber,delete m.localWeekYear,{minDaysInFirstWeek:r.getMinDaysInFirstWeek(),startOfWeek:r.getStartOfWeek()}}return{minDaysInFirstWeek:rn.minimalDays,startOfWeek:rn.firstDay}}function Bt(m){return typeof m<"u"}function _e(m){return typeof m>"u"}function Ee(m){return"number"==typeof m}function jn(m){return Ee(m)&&m%1==0}function xo(){try{return typeof V<"u"&&!!V.RelativeTimeFormat}catch{return!1}}function vo(){try{return typeof V<"u"&&!!V.Locale&&("weekInfo"in V.Locale.prototype||"getWeekInfo"in V.Locale.prototype)}catch{return!1}}function bo(m,r,a){return 0===m.length?void 0:m.reduce((o,d)=>{const n=[r(d),d];return a(o[0],n[0])===o[0]?o:n},[r(m[0]),m[0]])[1]}function Hn(m){if(m){if("object"!=typeof m)throw new xt("Week settings must be an object");if(!we(m.firstDay,1,7)||!we(m.minimalDays,1,7)||!Array.isArray(m.weekend)||m.weekend.some(r=>!we(r,1,7)))throw new xt("Invalid week settings");return{firstDay:m.firstDay,minimalDays:m.minimalDays,weekend:m.weekend}}}function we(m,r,a){return jn(m)&&m>=r&&m<=a}function $t(m,r=2){const a=+m<0?"-":"",_=a?-1*+m:m;let o;return o=_.toString().length<r?("0".repeat(r)+_).slice(-r):_.toString(),`${a}${o}`}function He(m){if(m)return parseInt(m,10)}function Ge(m){if(m)return parseFloat(m)}function Gn(m){if(!_e(m)&&null!==m&&""!==m){const r=1e3*parseFloat("0."+m);return Math.floor(r)}}function Rn(m,r,a=!1){const _=Math.pow(10,r);return(a?Math.trunc:Math.round)(m*_)/_}function yn(m){return m%4==0&&(m%100!=0||m%400==0)}function un(m){return yn(m)?366:365}function Ln(m,r){const a=function qo(m,r){return m-r*Math.floor(m/r)}(r-1,12)+1;return[31,yn(m+(r-a)/12)?29:28,31,30,31,30,31,31,30,31,30,31][a-1]}function En(m){let r=Date.UTC(m.year,m.month-1,m.day,m.hour,m.minute,m.second,m.millisecond);return m.year<100&&m.year>=0&&(r=new Date(r),r.setUTCFullYear(m.year,m.month-1,m.day)),+r}function Co(m,r,a){return-Yn(dn(m,1,r),a)+r-1}function Re(m,r=4,a=1){const _=Co(m,r,a),o=Co(m+1,r,a);return(un(m)-_+o)/7}function Vn(m){return m>99?m:m>J.twoDigitCutoffYear?1900+m:2e3+m}function To(m,r,a,_){const o=new Date(m),n=Object.assign({timeZoneName:r},{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:_}),c=new V.DateTimeFormat(a,n).formatToParts(o).find(u=>"timezonename"===u.type.toLowerCase());return c?c.value:null}function Dn(m,r){let a=parseInt(m,10);Number.isNaN(a)&&(a=0);const _=parseInt(r,10)||0;return 60*a+(a<0||Object.is(a,-0)?-_:_)}function ko(m){const r=Number(m);if("boolean"==typeof m||""===m||Number.isNaN(r))throw new xt(`Invalid unit value ${m}`);return r}function Pn(m,r){return Object.keys(m).reduce((a,_)=>(null!=m[_]&&(a[r(_)]=ko(m[_])),a),{})}function Zn(m,r){const a=Math.trunc(Math.abs(m/60)),_=Math.trunc(Math.abs(m%60)),o=m>=0?"+":"-";switch(r){case"short":return`${o}${$t(a,2)}:${$t(_,2)}`;case"narrow":return`${o}${a}${_>0?`:${_}`:""}`;case"techie":return`${o}${$t(a,2)}${$t(_,2)}`;default:throw new RangeError(`Value format ${r} is out of range for property format`)}}function An(m){return function Jo(m,r){return r.reduce((a,_)=>(a[_]=m[_],a),{})}(m,["hour","minute","second","millisecond"])}const sn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],pn=sn.slice(0).reverse(),wo=["years","months","days","hours","minutes","seconds","milliseconds"],Qo={year:"year",years:"year",quarter:"quarter",quarters:"quarter",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",localweeknumber:"localWeekNumber",localweeknumbers:"localWeekNumber",localweekday:"localWeekday",localweekdays:"localWeekday",localweekyear:"localWeekYear",localweekyears:"localWeekYear",minute:"minute",minutes:"minute",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"},rn={firstDay:1,minimalDays:4,weekend:[6,7]};function Oo(m,r){let a="";for(const _ of m)a+=_.literal?_.val:r(_.val);return a}const Bo={D:Mt,DD:Yt,DDD:se,DDDD:le,t:te,tt:Wt,ttt:wt,tttt:Pt,T:ft,TT:Tt,TTT:Zt,TTTT:_t,f:Nt,ff:mt,fff:Ft,ffff:ee,F:I,FF:Q,FFF:Rt,FFFF:ye};class me{constructor(r,a){this._opts=a,this._loc=r,this._systemLoc=void 0}static create(r,a={}){return new me(r,a)}static macroTokenToFormatOpts(r){return Bo[r]}static parseFormat(r){let a=null,_="",o=!1;const d=[];for(let n=0;n<r.length;n++){const c=r.charAt(n);"'"===c?(_.length>0&&d.push({literal:o||/^\s+$/.test(_),val:_}),a=null,_="",o=!o):o||c===a?_+=c:(_.length>0&&d.push({literal:/^\s+$/.test(_),val:_}),_=c,a=c)}return _.length>0&&d.push({literal:o||/^\s+$/.test(_),val:_}),d}dtFormatter(r,a={}){return this._loc.dtFormatter(r,Object.assign(Object.assign({},this._opts),a))}formatDateTime(r,a){return this.dtFormatter(r,a).format()}formatDateTimeFromString(r,a){const _="en"===this._loc.listingMode(),o=this._loc.outputCalendar&&"gregory"!==this._loc.outputCalendar,d=(ut,Qt)=>this._loc.extract(r,ut,Qt),n=ut=>r.isOffsetFixed&&0===r.offset&&ut.allowZ?"Z":r.isValid?r.zone.formatOffset(r.ts,ut.format):"",u=(ut,Qt)=>_?function jt(m,r){return Ze(r)[m.month-1]}(r,ut):d(Qt?{month:ut}:{month:ut,day:"numeric"},"month"),f=(ut,Qt)=>_?function bt(m,r){return Ie(r)[m.weekday-1]}(r,ut):d(Qt?{weekday:ut}:{weekday:ut,month:"long",day:"numeric"},"weekday"),S=ut=>{const Qt=me.macroTokenToFormatOpts(ut);return Qt?this.formatWithSystemDefault(r,Qt):ut},D=ut=>_?function Kt(m,r){return z(r)[m.year<0?0:1]}(r,ut):d({era:ut},"era");return Oo(me.parseFormat(a),ut=>{switch(ut){case"S":return this.num(r.millisecond);case"u":case"SSS":return this.num(r.millisecond,3);case"s":return this.num(r.second);case"ss":return this.num(r.second,2);case"uu":return this.num(Math.floor(r.millisecond/10),2);case"uuu":return this.num(Math.floor(r.millisecond/100));case"m":return this.num(r.minute);case"mm":return this.num(r.minute,2);case"h":return this.num(r.hour%12==0?12:r.hour%12);case"hh":return this.num(r.hour%12==0?12:r.hour%12,2);case"H":return this.num(r.hour);case"HH":return this.num(r.hour,2);case"Z":return n({format:"narrow",allowZ:this._opts.allowZ});case"ZZ":return n({format:"short",allowZ:this._opts.allowZ});case"ZZZ":return n({format:"techie",allowZ:this._opts.allowZ});case"ZZZZ":return r.zone.offsetName(r.ts,{format:"short",locale:this._loc.locale})||"";case"ZZZZZ":return r.zone.offsetName(r.ts,{format:"long",locale:this._loc.locale})||"";case"z":return r.zoneName||"";case"a":return _?function q(m){return xe[m.hour<12?0:1]}(r):d({hour:"numeric",hourCycle:"h12"},"dayPeriod");case"d":return o?d({day:"numeric"},"day"):this.num(r.day);case"dd":return o?d({day:"2-digit"},"day"):this.num(r.day,2);case"c":case"E":return this.num(r.weekday);case"ccc":return f("short",!0);case"cccc":return f("long",!0);case"ccccc":return f("narrow",!0);case"EEE":return f("short",!1);case"EEEE":return f("long",!1);case"EEEEE":return f("narrow",!1);case"L":return o?d({month:"numeric",day:"numeric"},"month"):this.num(r.month);case"LL":return o?d({month:"2-digit",day:"numeric"},"month"):this.num(r.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return o?d({month:"numeric"},"month"):this.num(r.month);case"MM":return o?d({month:"2-digit"},"month"):this.num(r.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return o?d({year:"numeric"},"year"):this.num(r.year);case"yy":return o?d({year:"2-digit"},"year"):this.num(parseInt(r.year.toString().slice(-2),10),2);case"yyyy":return o?d({year:"numeric"},"year"):this.num(r.year,4);case"yyyyyy":return o?d({year:"numeric"},"year"):this.num(r.year,6);case"G":return D("short");case"GG":return D("long");case"GGGGG":return D("narrow");case"kk":return this.num(parseInt(r.weekYear.toString().slice(-2),10),2);case"kkkk":return this.num(r.weekYear,4);case"W":return this.num(r.weekNumber);case"WW":return this.num(r.weekNumber,2);case"o":return this.num(r.ordinal);case"ooo":return this.num(r.ordinal,3);case"q":return this.num(r.quarter);case"qq":return this.num(r.quarter,2);case"X":return this.num(Math.floor(r.ts/1e3));case"x":return this.num(r.ts);default:return S(ut)}})}formatDateTimeParts(r,a){return this.dtFormatter(r,a).formatToParts()}formatDurationFromString(r,a){const _=u=>{switch(u[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"M":return"months";case"y":return"years";default:return}},d=me.parseFormat(a),n=d.reduce((u,{literal:f,val:S})=>f?u:u.concat(S),[]);return Oo(d,(u=>f=>{const S=_(f);return S?this.num(u.get(S),f.length):f})(r.shiftTo(...n.map(_).filter(u=>!!u))))}formatInterval(r,a={}){if(!r.isValid)throw Error("Invalid Interval provided!");return this.dtFormatter(r.start,a).dtf.formatRange(r.start.toJSDate(),r.end.toJSDate())}formatWithSystemDefault(r,a){return void 0===this._systemLoc&&(this._systemLoc=this._loc.redefaultToSystem()),this._systemLoc.dtFormatter(r,Object.assign(Object.assign({},this._opts),a)).format()}num(r,a=0){if(this._opts.forceSimple)return $t(r,a);const _=Object.assign({},this._opts);return a>0&&(_.padTo=a),this._loc.numberFormatter(_).format(r)}resolvedOptions(r,a={}){return this.dtFormatter(r,a).resolvedOptions()}}function gn(...m){const r=m.reduce((a,_)=>a+_.source,"");return RegExp(`^${r}$`)}function hn(...m){return r=>m.reduce(([a,_,o],d)=>{const[n,c,u]=d(r,o);return[Object.assign(Object.assign({},a),n),c||_,u]},[{},null,1]).slice(0,2)}function fn(m,...r){if(null==m)return[null,null];for(const[a,_]of r){const o=a.exec(m);if(o)return _(o)}return[null,null]}function yo(...m){return(r,a)=>{const _={};let o;for(o=0;o<m.length;o++)_[m[o]]=He(r[a+o]);return[_,null,a+o]}}const Zo=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,x=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,p=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,b=RegExp(`${p.source}(?:${x.source}?(?:\\[(${Zo.source})\\])?)?`),y=RegExp(`(?:T${b.source})?`),kt=yo("weekYear","weekNumber","weekday"),Lt=yo("year","ordinal"),Oe=RegExp(`${p.source} ?(?:${x.source}|(${Zo.source}))?`),Wn=RegExp(`(?: ${Oe.source})?`);function Ve(m,r,a){return _e(m[r])?a:He(m[r])}function xn(m,r){return[{hour:Ve(m,r,0),minute:Ve(m,r+1,0),second:Ve(m,r+2,0),millisecond:Gn(m[r+3])},null,r+4]}function Kn(m,r){const a=!m[r]&&!m[r+1],_=Dn(m[r+1],m[r+2]);return[{},a?null:Jt.instance(_),r+3]}function $n(m,r){return[{},m[r]?K.create(m[r]):null,r+1]}const Hi=RegExp(`^T?${p.source}$`),Gi=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Ri(m){const[r,a,_,o,d,n,c,u,f]=m,S=r.startsWith("-"),D=!!u&&u.startsWith("-"),$=(ut,Qt=!1)=>"number"==typeof ut&&(Qt||ut&&S)?-ut:ut;return[{years:$(Ge(a)),months:$(Ge(_)),weeks:$(Ge(o)),days:$(Ge(d)),hours:$(Ge(n)),minutes:$(Ge(c)),seconds:$(Ge(u),"-0"===u),milliseconds:$(Gn(f),D)}]}const Vi={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ho(m,r,a,_,o,d,n){let c;return m&&(c=m.length>3?Ae.indexOf(m)+1:Se.indexOf(m)+1),{year:2===r.length?Vn(He(r)):He(r),month:ce.indexOf(a)+1,day:He(_),hour:He(o),minute:He(d),second:He(n),weekday:c}}const Wi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Ki(m){const[,r,a,_,o,d,n,c,u,f,S,D]=m,$=Ho(r,o,_,a,d,n,c);let ut;return ut=u?Vi[u]:f?0:Dn(S,D),[$,new Jt(ut)]}const ri=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Xi=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Xn=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function li(m){const[,r,a,_,o,d,n,c]=m;return[Ho(r,o,_,a,d,n,c),Jt.utcInstance]}function ta(m){const[,r,a,_,o,d,n,c]=m;return[Ho(r,c,a,_,o,d,n),Jt.utcInstance]}const ea=gn(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,y),na=gn(/(\d{4})-?W(\d\d)(?:-?(\d))?/,y),Go=gn(/(\d{4})-?(\d{3})/,y),oa=gn(b),ci=hn(function Yo(m,r){return[{year:Ve(m,r,0),month:Ve(m,r+1,1),day:Ve(m,r+2,1)},null,r+3]},xn,Kn,$n),ia=hn(kt,xn,Kn,$n),aa=hn(Lt,xn,Kn,$n),sa=hn(xn,Kn,$n),da=gn(/(\d{4})-(\d\d)-(\d\d)/,Wn),ua=gn(Oe),pa=hn(xn,Kn,$n),_i={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},ha=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},_i),De=365.2425,zn=30.436875,fa=Object.assign({years:{quarters:4,months:12,weeks:De/7,days:De,hours:24*De,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:De/28,days:De/4,hours:24*De/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:zn/7,days:zn,hours:24*zn,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},_i);function mi(m,r){var a;let _=null!==(a=r.milliseconds)&&void 0!==a?a:0;for(const o of pn.slice(1))r[o]&&(_+=r[o]*m[o].milliseconds);return _}function xa(m,r){return void 0===m||0===m?void 0===r||0===r:m===r}class Et{static get _INVALID(){return"Invalid Duration"}get conversionAccuracy(){return this._conversionAccuracy}get days(){return this.isValid?this._values.days||0:NaN}get hours(){return this.isValid?this._values.hours||0:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this._invalid}get locale(){return this.isValid?this._loc.locale:void 0}get matrix(){return this._matrix}get milliseconds(){return this.isValid?this._values.milliseconds||0:NaN}get minutes(){return this.isValid?this._values.minutes||0:NaN}get months(){return this.isValid?this._values.months||0:NaN}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get quarters(){return this.isValid?this._values.quarters||0:NaN}get seconds(){return this.isValid?this._values.seconds||0:NaN}get weeks(){return this.isValid?this._values.weeks||0:NaN}get years(){return this.isValid?this._values.years||0:NaN}constructor(r){let _,o;"longterm"===r.conversionAccuracy?(o="longterm",_=fa):(o="casual",_=ha),r.matrix&&(_=r.matrix),this._values=r.values||{},this._loc=r.loc||U.create(),this._conversionAccuracy=o,this._invalid=r.invalid||null,this._matrix=_,this._isLuxonDuration=!0}static fromDurationLike(r){if(Ee(r))return Et.fromMillis(r);if(Et.isDuration(r))return r;if("object"==typeof r)return Et.fromObject(r);throw new xt(`Unknown duration argument ${r} of type ${typeof r}`)}static fromISO(r,a){const[_]=function ca(m){return fn(m,[Gi,Ri])}(r);return _?Et.fromObject(_,a):Et.invalid("unparsable",`the input "${r}" can't be parsed as ISO 8601`)}static fromISOTime(r,a={}){const[_]=function _a(m){return fn(m,[Hi,hn(xn)])}(r);return _?Et.fromObject(_,a):Et.invalid("unparsable",`the input "${r}" can't be parsed as ISO 8601`)}static fromMillis(r,a={}){return Et.fromObject({milliseconds:r},a)}static fromObject(r,a={}){if(null==r||"object"!=typeof r)throw new xt("Duration.fromObject: argument expected to be an object, got "+(null===r?"null":typeof r));return new Et({values:Pn(r,Et.normalizeUnit),loc:U.fromObject(a),conversionAccuracy:a.conversionAccuracy,matrix:a.matrix})}static invalid(r,a){if(!r)throw new xt("need to specify a reason the Duration is invalid");const _=r instanceof h?r:new h(r,a);if(J.throwOnInvalid)throw new t(_);return new Et({invalid:_})}static isDuration(r){return!!r&&r._isLuxonDuration||!1}static normalizeUnit(r){const a={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",localWeekNumber:"localWeekNumbers",localWeekYear:"localWeekYears",localWeekday:"localWeekdays",localWeekNumbers:"localWeekNumbers",localWeekYears:"localWeekYears",localWeekdays:"localWeekdays",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[r];if(!a)throw new v(r);return a}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this._values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}as(r){return this.shiftTo(r).get(r)}equals(r){if(!this.isValid||!r.isValid||!this._loc.equals(r._loc))return!1;for(const a of sn)if(!xa(this._values[a],r._values[a]))return!1;return!0}get(r){return this[Et.normalizeUnit(r)]}getMaxUnit(r=!1){const a=r?wo:sn,_=this.shiftTo(...a).toObject();return a.find(o=>(_[o]||0)>0)||pn[0]}mapUnits(r){if(!this.isValid)return this;const a={};return Object.keys(this._values).forEach(_=>{a[_]=ko(r(this._values[_],_))}),this._clone(this,{values:a},!0)}minus(r){if(!this.isValid)return this;const a=Et.fromDurationLike(r);return this.plus(a.negate())}negate(){if(!this.isValid)return this;const r={};return Object.keys(this._values).forEach(a=>{r[a]=0===this._values[a]?0:-this._values[a]}),this._clone(this,{values:r},!0)}normalize(){if(!this.isValid)return this;const r=this.toObject();return function va(m,r){const a=mi(m,r)<0?-1:1;pn.reduce((_,o)=>{if(_e(r[o]))return _;if(_){const n=m[o][_],c=Math.floor(r[_]*a/n);r[o]+=c*a,r[_]-=c*n*a}return o},null),sn.reduce((_,o)=>{if(_e(r[o]))return _;if(_){const d=r[_]%1;r[_]-=d,r[o]+=d*m[_][o]}return o},null)}(this._matrix,r),this._clone(this,{values:r},!0)}plus(r){if(!this.isValid)return this;const a=Et.fromDurationLike(r),_={};return sn.forEach(o=>{(void 0!==a._values[o]||void 0!==this._values[o])&&(_[o]=a.get(o)+this.get(o))}),this._clone(this,{values:_},!0)}reconfigure({locale:r,numberingSystem:a,conversionAccuracy:_,matrix:o}={}){const n={loc:this._loc.clone({locale:r,numberingSystem:a}),matrix:o,conversionAccuracy:_};return this._clone(this,n)}rescale(){if(!this.isValid)return this;const r=function ba(m={}){return Object.entries(m).reduce((r,[a,_])=>(0!==_&&(r[a]=_),r),{})}(this.normalize().shiftToAll().toObject());return this._clone(this,{values:r},!0)}set(r){if(!this.isValid)return this;const a=Object.assign(Object.assign({},this._values),Pn(r,Et.normalizeUnit));return this._clone(this,{values:a})}shiftTo(...r){if(!this.isValid||0===r.length)return this;r=r.map(n=>Et.normalizeUnit(n));const a={},_={},o=this.toObject();let d;return sn.forEach(n=>{if(r.indexOf(n)>=0){d=n;let c=0;Object.keys(_).forEach(f=>{c+=this._matrix[f][n]*_[f],_[f]=0}),Ee(o[n])&&(c+=o[n]);const u=Math.trunc(c);a[n]=u,_[n]=(1e3*c-1e3*u)/1e3}else Ee(o[n])&&(_[n]=o[n])}),Object.keys(_).forEach(n=>{const c=_[n];0!==c&&(a[d]+=n===d?c:c/this._matrix[d][n])}),this._clone(this,{values:a},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}toFormat(r,a={floor:!0}){const _=Object.assign(Object.assign({},a),{floor:!1!==a.round&&!1!==a.floor});return this.isValid?me.create(this._loc,_).formatDurationFromString(this,r):Et._INVALID}toHuman(r={}){if(!this.isValid)return Et._INVALID;const a=this.getMaxUnit(!0),_=r.onlyHumanUnits?wo:sn,d=this.shiftTo(..._.slice(_.indexOf(a))).toObject(),n=_.map(u=>{const f=d[u];return _e(f)||0===f?null:this._loc.numberFormatter(Object.assign(Object.assign({style:"unit",unitDisplay:"long"},r),{unit:u.slice(0,-1)})).format(f)}).filter(u=>u),c=Object.assign({type:"conjunction",style:r.listStyle||"narrow"},r);return this._loc.listFormatter(c).format(n)}toISO(){if(!this.isValid)return null;let r="P";return 0!==this.years&&(r+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(r+=this.months+3*this.quarters+"M"),0!==this.weeks&&(r+=this.weeks+"W"),0!==this.days&&(r+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(r+="T"),0!==this.hours&&(r+=this.hours+"H"),0!==this.minutes&&(r+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(r+=Rn(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===r&&(r+="T0S"),r}toISOTime(r={}){if(!this.isValid)return null;const a=this.toMillis();return a<0||a>=864e5?null:(r=Object.assign(Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},r),{includeOffset:!1}),lt.fromMillis(a,{zone:"UTC"}).toISOTime(r))}toJSON(){return this.toISO()}toMillis(){return this.isValid?mi(this.matrix,this._values):NaN}toObject(){return this.isValid?Object.assign({},this._values):{}}toString(){return this.toISO()}valueOf(){return this.toMillis()}_clone(r,a,_=!1){const o={values:_?a.values:Object.assign(Object.assign({},r._values),a.values||{}),loc:r._loc.clone(a.loc),conversionAccuracy:a.conversionAccuracy||r.conversionAccuracy,matrix:a.matrix||r.matrix};return new Et(o)}}const Un="Invalid Interval";function to(m){if(lt.isDateTime(m))return m;if(m&&m.valueOf&&Ee(m.valueOf()))return lt.fromJSDate(m);if(m&&"object"==typeof m)return lt.fromObject(m);throw new xt(`Unknown datetime argument: ${m}, of type ${typeof m}`)}class Xt{get end(){return this.isValid?this._e:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this.invalidReason}get start(){return this.isValid?this._s:null}constructor(r){this._s=r.start,this._e=r.end,this._invalid=r.invalid||null,this._isLuxonInterval=!0}static after(r,a){const _=Et.fromDurationLike(a),o=to(r);return new Xt({start:o,end:o?o.plus(_):void 0})}static before(r,a){const _=Et.fromDurationLike(a),o=to(r);return new Xt({start:o?o.minus(_):void 0,end:o})}static fromDateTimes(r,a){const _=to(r),o=to(a);return function Ca(m,r){return m&&m.isValid?r&&r.isValid?r<m?Xt.invalid("end before start",`The end of an interval must be after its start, but you had start=${m.toISO()} and end=${r.toISO()}`):void 0:Xt.invalid("missing or invalid end"):Xt.invalid("missing or invalid start")}(_,o)||new Xt({start:_,end:o})}static fromISO(r,a={}){const[_,o]=(r||"").split("/",2);if(_&&o){let d,n,c,u;try{d=lt.fromISO(_,a),n=d.isValid}catch{n=!1}try{c=lt.fromISO(o,a),u=c.isValid}catch{u=!1}if(n&&u)return Xt.fromDateTimes(d,c);if(n){const f=Et.fromISO(o,a);if(f.isValid)return Xt.after(d,f)}else if(u){const f=Et.fromISO(_,a);if(f.isValid)return Xt.before(c,f)}}return Xt.invalid("unparsable",`the input "${r}" can't be parsed as ISO 8601`)}static invalid(r,a){if(!r)throw new xt("need to specify a reason the Interval is invalid");const _=r instanceof h?r:new h(r,a);if(J.throwOnInvalid)throw new C(_);return new Xt({invalid:_})}static isInterval(r){return!!r&&r._isLuxonInterval||!1}static merge(r){const[a,_]=r.sort((o,d)=>o._s.valueOf()-d._s.valueOf()).reduce(([o,d],n)=>d?d.overlaps(n)||d.abutsStart(n)?[o,d.union(n)]:[o.concat([d]),n]:[o,n],[[],null]);return _&&a.push(_),a}static xor(r){let a=null,_=0;const o=[],d=r.map(u=>[{time:u._s,type:"s"},{time:u._e,type:"e"}]),c=Array.prototype.concat(...d).sort((u,f)=>+u.time-+f.time);for(const u of c)_+="s"===u.type?1:-1,1===_?a=u.time:(a&&a.valueOf()!==u.time.valueOf()&&o.push(Xt.fromDateTimes(a,u.time)),a=null);return Xt.merge(o)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this._s.toISO()}, end: ${this._e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}abutsEnd(r){return+r._e==+this._s}abutsStart(r){return+this._e==+r._s}contains(r){return this._s<=r&&this._e>r}count(r="milliseconds",a){if(!this.isValid)return NaN;const _=this.start.startOf(r,a);let o;return o=a?.useLocaleWeeks?this.end.reconfigure({locale:_.locale}):this.end,o=o.startOf(r,a),Math.floor(o.diff(_,r).get(r))+ +(o.valueOf()!==this.end.valueOf())}difference(...r){return Xt.xor([this].concat(r)).map(a=>this.intersection(a)).filter(a=>a&&!a.isEmpty())}divideEqually(r){return this.isValid?this.splitBy({milliseconds:this.length()/r}).slice(0,r):[]}engulfs(r){return!!this.isValid&&this._s<=r._s&&this._e>=r._e}equals(r){return!(!this.isValid||!r.isValid)&&this._s.equals(r._s)&&this._e.equals(r._e)}hasSame(r){return!!this.isValid&&(this.isEmpty()||this._e.minus(1).hasSame(this._s,r))}intersection(r){if(!this.isValid)return this;const a=this._s>r._s?this._s:r._s,_=this._e<r._e?this._e:r._e;return a>=_?null:Xt.fromDateTimes(a,_)}isAfter(r){return!!this.isValid&&this._s>r}isBefore(r){return!!this.isValid&&this._e<=r}isEmpty(){return this._s.valueOf()===this._e.valueOf()}length(r="milliseconds"){return this.toDuration(r).get(r)}mapEndpoints(r){return Xt.fromDateTimes(r(this._s),r(this._e))}overlaps(r){return this._e>r._s&&this._s<r._e}set({start:r,end:a}={}){return this.isValid?Xt.fromDateTimes(r||this._s,a||this._e):this}splitAt(...r){const a=r.map(to).filter(n=>this.contains(n)).sort((n,c)=>n.toMillis()-c.toMillis()),_=[];let o=this._s,d=0;for(;o<this._e;){const n=a[d]||this._e,c=+n>+this._e?this._e:n;_.push(Xt.fromDateTimes(o,c)),o=c,d+=1}return _}splitBy(r){const a=Et.fromDurationLike(r);if(!this.isValid||!a.isValid||0===a.as("milliseconds"))return[];let d,_=this._s,o=1;const n=[];for(;_<this._e;){const c=this.start.plus(a.mapUnits(u=>u*o));d=+c>+this._e?this._e:c,n.push(Xt.fromDateTimes(_,d)),_=d,o+=1}return n}toDuration(r="milliseconds",a={}){return this.isValid?this._e.diff(this._s,r,a):Et.invalid(this._invalid.reason)}toFormat(r,{separator:a=" - "}={}){return this.isValid?`${this._s.toFormat(r)}${a}${this._e.toFormat(r)}`:Un}toISO(r={}){return this.isValid?`${this._s.toISO(r)}/${this._e.toISO(r)}`:Un}toISODate(){return this.isValid?`${this._s.toISODate()}/${this._e.toISODate()}`:Un}toISOTime(r={}){return this.isValid?`${this._s.toISOTime(r)}/${this._e.toISOTime(r)}`:Un}toLocaleString(r=Mt,a={}){return this.isValid?me.create(this._s.loc.clone(a),r).formatInterval(this):Un}toString(){return this.isValid?`[${this._s.toISO()} \u2013 ${this._e.toISO()})`:Un}union(r){return this.isValid?Xt.fromDateTimes(this._s<r._s?this._s:r._s,this._e>r._e?this._e:r._e):this}}class eo{static eras(r="short",{locale:a}={}){return U.create(a,void 0,"gregory").eras(r)}static features(){return{relative:xo(),localeWeek:vo()}}static getMinimumDaysInFirstWeek({locale:r,locObj:a}={}){return(a||U.create(r)).getMinDaysInFirstWeek()}static getStartOfWeek({locale:r,locObj:a}={}){return(a||U.create(r)).getStartOfWeek()}static getWeekendWeekdays({locale:r,locObj:a}={}){return(a||U.create(r)).getWeekendDays().slice()}static hasDST(r=J.defaultZone){const a=lt.now().setZone(r).set({month:12});return!r.isUniversal&&a.offset!==a.set({month:6}).offset}static isValidIANAZone(r){return K.isValidZone(r)}static meridiems({locale:r}={}){return U.create(r).meridiems()}static months(r="long",{locale:a=null,locObj:_=null,numberingSystem:o=null,outputCalendar:d="gregory"}={}){return(_||U.create(a,o,d)).months(r)}static monthsFormat(r="long",{locale:a,locObj:_,numberingSystem:o,outputCalendar:d="gregory"}={}){return(_||U.create(a,o,d)).months(r,!0)}static normalizeZone(r){return je(r,J.defaultZone)}static weekdays(r="long",{locale:a,locObj:_,numberingSystem:o}={}){return(_||U.create(a,o)).weekdays(r)}static weekdaysFormat(r="long",{locale:a,locObj:_,numberingSystem:o}={}){return(_||U.create(a,o)).weekdays(r,!0)}}function di(m,r){const a=o=>o.toUTC(0,{keepLocalTime:!0}).startOf("days").valueOf(),_=a(r)-a(m);return Math.floor(Et.fromMillis(_).as("days"))}function qt(m,r=(a=>a)){return{regex:m,deser:([a])=>r(function Nn(m){const r=parseInt(m,10);if(!isNaN(r))return r;let a="";for(let _=0;_<m.length;_++){const o=m.charCodeAt(_);if(-1!==m[_].search(vn.hanidec))a+=it.indexOf(m[_]);else for(const d in Le){const[n,c]=Le[d];if(o>=n&&o<=c){a+=o-n;break}}}return parseInt(a,10)}(a))}}const ln=`[ ${String.fromCharCode(160)}]`,We=new RegExp(ln,"g");function Oa(m){return m.replace(/\./g,"\\.?").replace(We,ln)}function ui(m){return m.replace(/\./g,"").replace(We," ").toLowerCase()}function Be(m,r){return{regex:RegExp(m.map(Oa).join("|")),deser:([a])=>m.findIndex(_=>ui(a)===ui(_))+r}}function pi(m,r){return{regex:m,deser:([,a,_])=>Dn(a,_),groups:r}}function gi(m){return{regex:m,deser:([r])=>r}}function ya(m){return m.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const Aa={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Ro;function hi(m,r){return Array.prototype.concat(...m.map(a=>function La(m,r){if(m.literal)return m;const _=vi(me.macroTokenToFormatOpts(m.val),r);return null==_||_.includes(void 0)?m:_}(a,r)))}class fi{get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}get isValid(){return!this.disqualifyingUnit}constructor(r,a){this.locale=r,this.format=a,this._mapTokens()}explainFromTokens(r){if(this.isValid){const[a,_]=function Na(m,r,a){const _=r.exec(m),o={};if(null!==_){let d=1;a.forEach(n=>{const c=n.groups?n.groups+1:1;n.literal||(o[n.token.val[0]]=n.deser(_.slice(d,d+c))),d+=c})}return[_,o]}(r,this.regex,this.handlers),[o,d,n]=_?function Ma(m){let _,a=null;return Bt(m.z)&&(a=K.create(m.z)),Bt(m.Z)&&(a||(a=new Jt(+m.Z)),_=+m.Z),Bt(m.q)&&(m.M=3*(m.q-1)+1),Bt(m.h)&&(+m.h<12&&1===m.a?m.h=m.h+12:12===m.h&&0===m.a&&(m.h=0)),0===m.G&&m.y&&(m.y=-m.y),Bt(m.u)&&(m.S=Gn(m.u)||0),[Object.keys(m).reduce((d,n)=>{const c=(d=>{switch(d){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(n);return c&&(d[c]=m[n]),d},{}),a,_]}(_):[null,null,void 0];if(_.hasOwnProperty("a")&&_.hasOwnProperty("H"))throw new Ct("Can't include meridiem when specifying 24-hour format");return{input:r,tokens:this.tokens,regex:this.regex,rawMatches:a,matches:_,result:o,zone:d,specificOffset:n}}return{input:r,tokens:this.tokens,invalidReason:this.invalidReason}}_mapTokens(){this.tokens=hi(me.parseFormat(this.format),this.locale);const r=this.tokens.map(a=>function Za(m,r){const a=he(r),_=he(r,"{2}"),o=he(r,"{3}"),d=he(r,"{4}"),n=he(r,"{6}"),c=he(r,"{1,2}"),u=he(r,"{1,3}"),f=he(r,"{1,6}"),S=he(r,"{1,9}"),D=he(r,"{2,4}"),$=he(r,"{4,6}"),ut=Te=>({regex:RegExp(ya(Te.val)),deser:([_o])=>_o,literal:!0}),Pe=(Te=>{if(m.literal)return ut(Te);switch(Te.val){case"G":return Be(r.eras("short"),0);case"GG":return Be(r.eras("long"),0);case"y":return qt(f);case"yy":case"kk":return qt(D,Vn);case"yyyy":case"kkkk":return qt(d);case"yyyyy":return qt($);case"yyyyyy":return qt(n);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return qt(c);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return qt(_);case"MMM":return Be(r.months("short",!0),1);case"MMMM":return Be(r.months("long",!0),1);case"LLL":return Be(r.months("short",!1),1);case"LLLL":return Be(r.months("long",!1),1);case"o":case"S":return qt(u);case"ooo":case"SSS":return qt(o);case"u":return gi(S);case"a":return Be(r.meridiems(),0);case"E":case"c":return qt(a);case"EEE":return Be(r.weekdays("short",!1),1);case"EEEE":return Be(r.weekdays("long",!1),1);case"ccc":return Be(r.weekdays("short",!0),1);case"cccc":return Be(r.weekdays("long",!0),1);case"Z":case"ZZ":return pi(new RegExp(`([+-]${c.source})(?::(${_.source}))?`),2);case"ZZZ":return pi(new RegExp(`([+-]${c.source})(${_.source})?`),2);case"z":return gi(/[a-z_+-/]{1,256}?/i);default:return ut(Te)}})(m)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Object.assign(Object.assign({},Pe),{token:m})}(a,this.locale));if(this.disqualifyingUnit=r.find(a=>a.invalidReason),this.units=r.filter(a=>!a.invalidReason),!this.disqualifyingUnit){const[a,_]=function Ia(m){return[`^${m.map(a=>a.regex).reduce((a,_)=>`${a}(${_.source})`,"")}$`,m]}(this.units);this.regex=RegExp(a,"i"),this.handlers=_}}}function xi(m,r,a){return new fi(m,a).explainFromTokens(r)}function Vo(m){return m.replace(/\u202F/g," ")}function vi(m,r){if(!m)return null;const _=me.create(r,m).dtFormatter(function ja(m){return void 0===Ro&&(Ro=lt.fromMillis(1555555555555,{locale:m.locale})),Ro}(r)),o=_.formatToParts(),d=_.resolvedOptions();return o.map(n=>function Sa(m,r,a){const{type:_,value:o}=m;if("literal"===_){const u=/^\s+$/.test(o);return{literal:!u,val:u?" ":o}}let n=_;"hour"===_&&(n=null!=r.hour12?r.hour12?"hour12":"hour24":null!=r.hourCycle?"h11"===r.hourCycle||"h12"===r.hourCycle?"hour12":"hour24":a.hour12?"hour12":"hour24");let c=Aa[n];if("object"==typeof c&&(c=c[r[_]]),c)return{literal:!1,val:c}}(n,m,d))}const Wo="Invalid DateTime",bi=864e13;function Ci(m,r,a){let _=m-60*r*1e3;const o=a.offset(_);if(r===o)return[_,r];_-=60*(o-r)*1e3;const d=a.offset(_);return o===d?[_,o]:[m-60*Math.min(o,d)*1e3,Math.max(o,d)]}function Ao(m,r){const a=new Date(m+=60*r*1e3);return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds()}}function So(m,r,a){return Ci(En(m),r,a)}function Fn(m,r,a,_,o,d){const{setZone:n,zone:c}=a;if(m&&0!==Object.keys(m).length||r){const u=r||c,f=lt.fromObject(m||void 0,Object.assign(Object.assign({},a),{zone:u,specificOffset:d}));return n?f:f.setZone(c)}return lt.invalid(new h("unparsable",`the input "${o}" can't be parsed as ${_}`))}function Io(m,r,a=!0){return m.isValid?me.create(U.create("en-US"),{allowZ:a,forceSimple:!0}).formatDateTimeFromString(m,r):null}const Ti={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Da={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Pa={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ki=["year","month","day","hour","minute","second","millisecond"],za=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Ua=["year","ordinal","hour","minute","second","millisecond"];function wi(m){const r=Qo[m.toLowerCase()];if(!r)throw new v(m);return r}class lt{get day(){return this.isValid?this._c.day:NaN}get daysInMonth(){return Ln(this.year,this.month)}get daysInYear(){return this.isValid?un(this.year):NaN}get hour(){return this.isValid?this._c.hour:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:void 0}get invalidReason(){return this._invalid?this._invalid.reason:void 0}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return yn(this.year)}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isValid(){return null===this._invalid}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get loc(){return this.isValid?this._loc.clone():void 0}get localWeekNumber(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekYear:NaN}get localWeekday(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekday:NaN}get locale(){return this.isValid?this._loc.locale:void 0}get millisecond(){return this.isValid?this._c.millisecond:NaN}get minute(){return this.isValid?this._c.minute:NaN}get month(){return this.isValid?this._c.month:NaN}get monthLong(){return this.isValid?eo.months("long",{locObj:this._loc})[this.month-1]:null}get monthShort(){return this.isValid?eo.months("short",{locObj:this._loc})[this.month-1]:null}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get offset(){return this.isValid?+this._o:NaN}get offsetNameLong(){return this.isValid?this.zone.offsetName(this._ts,{format:"long",locale:this.locale}):null}get offsetNameShort(){return this.isValid?this.zone.offsetName(this._ts,{format:"short",locale:this.locale}):null}get ordinal(){return this.isValid?Bn(this._c).ordinal:NaN}get outputCalendar(){return this.isValid?this._loc.outputCalendar:void 0}get quarter(){return this.isValid?Math.ceil(this._c.month/3):NaN}get second(){return this.isValid?this._c.second:NaN}get ts(){return this._ts}get weekNumber(){return this.isValid?this._possiblyCachedWeekData(this).weekNumber:NaN}get weekYear(){return this.isValid?this._possiblyCachedWeekData(this).weekYear:NaN}get weekday(){return this.isValid?this._possiblyCachedWeekData(this).weekday:NaN}get weekdayLong(){return this.isValid?eo.weekdays("long",{locObj:this._loc})[this.weekday-1]:null}get weekdayShort(){return this.isValid?eo.weekdays("short",{locObj:this._loc})[this.weekday-1]:null}get weeksInLocalWeekYear(){return this.isValid?Re(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}get weeksInWeekYear(){return this.isValid?Re(this.weekYear):NaN}get year(){return this.isValid?this._c.year:NaN}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}constructor(r){const a=r.zone||J.defaultZone;let o,d,_=r.invalid||(Number.isNaN(r.ts)?new h("invalid timestamp"):null)||(a.isValid?null:lt._unsupportedZone(a));if(this._ts=_e(r.ts)?J.now():r.ts,!_)if(r.old&&r.old.ts===this._ts&&r.old.zone.equals(a))[d,o]=[r.old.c,r.old.o];else{const c=Ee(r.o)&&!r.old?r.o:a.offset(this.ts);d=Ao(this._ts,c),_=Number.isNaN(d.year)?new h("invalid input"):null,d=_?void 0:d,o=_?void 0:c}this._zone=a,this._loc=r.loc||U.create(),this._invalid=_,this._weekData=null,this._c=d,this._o=o,this._isLuxonDateTime=!0}static buildFormatParser(r,a={}){const{locale:_=null,numberingSystem:o=null}=a,d=U.fromOpts({locale:_,numberingSystem:o,defaultToEN:!0});return new fi(d,r)}static expandFormat(r,a={}){return hi(me.parseFormat(r),U.fromObject(a)).map(o=>o.val).join("")}static fromFormat(r,a,_={}){if(_e(r)||_e(a))throw new xt("fromFormat requires an input string and a format");const{locale:o,numberingSystem:d}=_,n=U.fromOpts({locale:o,numberingSystem:d,defaultToEN:!0}),[c,u,f,S]=function Ea(m,r,a){const{result:_,zone:o,specificOffset:d,invalidReason:n}=xi(m,Vo(r),Vo(a));return[_,o,d,n]}(n,r,a);return S?lt.invalid(S):Fn(c,u||null,_,`format ${a}`,r,f)}static fromFormatExplain(r,a,_={}){const{locale:o,numberingSystem:d}=_;return xi(U.fromOpts({locale:o,numberingSystem:d,defaultToEN:!0}),r,a)}static fromFormatParser(r,a,_={}){if(_e(r)||_e(a))throw new xt("fromFormatParser requires an input string and a format parser");const{locale:o=null,numberingSystem:d=null}=_,n=U.fromOpts({locale:o,numberingSystem:d,defaultToEN:!0});if(!n.equals(a.locale))throw new xt(`fromFormatParser called with a locale of ${n}, but the format parser was created for ${a.locale}`);const{result:c,zone:u,specificOffset:f,invalidReason:S}=a.explainFromTokens(r);return S?lt.invalid(S):Fn(c,u,_,`format ${a.format}`,r,f)}static fromHTTP(r,a={}){const[_,o]=function ra(m){return fn(m,[ri,li],[Xi,li],[Xn,ta])}(r);return Fn(_,o,a,"HTTP",r)}static fromISO(r,a={}){const[_,o]=function la(m){return fn(m,[ea,ci],[na,ia],[Go,aa],[oa,sa])}(r);return Fn(_,o,a,"ISO 8601",r)}static fromJSDate(r,a={}){const _=function Uo(m){return"[object Date]"===Object.prototype.toString.call(m)}(r)?r.valueOf():NaN;if(Number.isNaN(_))return lt.invalid("invalid input");const o=je(a.zone,J.defaultZone);return o.isValid?new lt({ts:_,zone:o,loc:U.fromObject(a)}):lt.invalid(lt._unsupportedZone(o))}static fromMillis(r,a={}){if(Ee(r))return r<-bi||r>bi?lt.invalid("Timestamp out of range"):new lt({ts:r,zone:je(a.zone,J.defaultZone),loc:U.fromObject(a)});throw new xt(`fromMillis requires a numerical input, but received a ${typeof r} with value ${r}`)}static fromObject(r={},a={}){const _=je(a.zone,J.defaultZone);if(!_.isValid)return lt.invalid(lt._unsupportedZone(_));const o=U.fromObject(a),d=Pn(r,wi),n=J.now(),c=Ee(a.specificOffset)?a.specificOffset:_.offset(n),u=Bt(d.ordinal),f=Bt(d.year),S=Bt(d.month)||Bt(d.day),D=f||S,$=d.weekYear||d.weekNumber;if((D||u)&&$)throw new Ct("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(S&&u)throw new Ct("Can't mix ordinal dates with month/day");const ut=$||d.weekday&&!D,{minDaysInFirstWeek:Qt,startOfWeek:Pe}=fo(d,o),Te=Ao(n,c),_o={containsGregor:D,containsOrdinal:u,loc:o,normalized:d,obj:r,offsetProvis:c,useWeekData:ut,zoneToUse:_};return ut?lt._buildObject(_o,za,Da,kn(Te,Qt,Pe)):u?lt._buildObject(_o,Ua,Pa,Bn(Te)):lt._buildObject(_o,ki,Ti,Te)}static fromRFC2822(r,a={}){const[_,o]=function ma(m){return fn(function $i(m){return m.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(m),[Wi,Ki])}(r);return Fn(_,o,a,"RFC 2822",r)}static fromSQL(r,a={}){const[_,o]=function ga(m){return fn(m,[da,ci],[ua,pa])}(r);return Fn(_,o,a,"SQL",r)}static fromSeconds(r,a={}){if(!Ee(r))throw new xt("fromSeconds requires a numerical input");return new lt({ts:1e3*r,zone:je(a.zone,J.defaultZone),loc:U.fromObject(a)})}static fromString(r,a,_={}){return lt.fromFormat(r,a,_)}static fromStringExplain(r,a,_={}){return lt.fromFormatExplain(r,a,_)}static invalid(r,a){if(!r)throw new xt("need to specify a reason the DateTime is invalid");const _=r instanceof h?r:new h(r,a);if(J.throwOnInvalid)throw new l(_);return new lt({invalid:_})}static isDateTime(r){return!(!r||!r._isLuxonDateTime)}static local(...r){const[a,_]=this._lastOpts(r),[o,d,n,c,u,f,S]=_;return lt._quickDT({year:o,month:d,day:n,hour:c,minute:u,second:f,millisecond:S},a)}static max(...r){if(!r.every(lt.isDateTime))throw new xt("max requires all arguments be DateTimes");return bo(r,a=>a.valueOf(),Math.max)}static min(...r){if(!r.every(lt.isDateTime))throw new xt("min requires all arguments be DateTimes");return bo(r,a=>a.valueOf(),Math.min)}static now(){return new lt({})}static parseFormatForOpts(r,a={}){const _=vi(r,U.fromObject(a));return _?_.map(o=>o?o.val:null).join(""):null}static resetCache(){this._zoneOffsetTs=void 0,this._zoneOffsetGuessCache=new Map}static utc(...r){const[a,_]=this._lastOpts(r),[o,d,n,c,u,f,S]=_;return a.zone=Jt.utcInstance,this._quickDT({year:o,month:d,day:n,hour:c,minute:u,second:f,millisecond:S},a)}static _buildObject(r,a,_,o){let d=!1;a.forEach($=>{Bt(r.normalized[$])?d=!0:r.normalized[$]=d?_[$]:o[$]});const c=(r.useWeekData?function wn(m,r=4,a=1){const _=jn(m.weekYear),o=we(m.weekNumber,1,Re(m.weekYear,r,a)),d=we(m.weekday,1,7);return _?o?!d&&St("weekday",m.weekday):St("week",m.weekNumber):St("weekYear",m.weekYear)}(r.normalized):r.containsOrdinal?function On(m){const r=jn(m.year),a=we(m.ordinal,1,un(m.year));return r?!a&&St("ordinal",m.ordinal):St("year",m.year)}(r.normalized):go(r.normalized))||ho(r.normalized);if(c)return lt.invalid(c);const u=r.useWeekData?uo(r.normalized):r.containsOrdinal?po(r.normalized):r.normalized,[f,S]=So(u,r.offsetProvis,r.zoneToUse),D=new lt({ts:f,zone:r.zoneToUse,o:S,loc:r.loc});return r.normalized.weekday&&r.containsGregor&&r.obj.weekday!==D.weekday?lt.invalid("mismatched weekday",`you can't specify both a weekday of ${r.normalized.weekday} and a date of ${D.toISO()}`):D.isValid?D:lt.invalid(D._invalid)}static _diffRelative(r,a,_){const o=!!_e(_.round)||_.round,d=(c,u)=>(c=Rn(c,o||_.calendary?0:2,!0),a._loc.clone(_).relFormatter(_).format(c,u)),n=c=>_.calendary?a.hasSame(r,c)?0:a.startOf(c).diff(r.startOf(c),c).get(c):a.diff(r,c).get(c);if(_.unit)return d(n(_.unit),_.unit);for(const c of _.units){const u=n(c);if(Math.abs(u)>=1)return d(u,c)}return d(r>a?-0:0,_.units[_.units.length-1])}static _guessOffsetForZone(r){return this._zoneOffsetGuessCache.has(r)||(void 0===this._zoneOffsetTs&&(this._zoneOffsetTs=J.now()),this._zoneOffsetGuessCache.set(r,r.offset(this._zoneOffsetTs))),this._zoneOffsetGuessCache.get(r)}static _lastOpts(r){let _,a={};return r.length>0&&"object"==typeof r[r.length-1]?(a=r.pop(),_=r):_=Array.from(r),[a,_]}static _quickDT(r,a){const _=je(a.zone,J.defaultZone);if(!_.isValid)return lt.invalid(this._unsupportedZone(_));const o=U.fromObject(a),d=J.now();let n,c;if(Bt(r.year)){for(const S of ki)_e(r[S])&&(r[S]=Ti[S]);const u=go(r)||ho(r);if(u)return lt.invalid(u);const f=this._guessOffsetForZone(_);[n,c]=So(r,f,_)}else n=d;return new lt({ts:n,zone:_,loc:o,o:c})}static _unsupportedZone(r){return new h("unsupported zone",`the zone "${r.name}" is not supported`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}diff(r,a="milliseconds",_={}){if(!this.isValid||!r.isValid)return Et.invalid(this.invalidReason||r.invalidReason,"created by diffing an invalid DateTime");const o=function Fo(m){return Array.isArray(m)?m:[m]}(a).map(Et.normalizeUnit),d=r.valueOf()>this.valueOf(),u=((m,r,a,_)=>{let[o,d,n,c]=function Ta(m,r,a){const _=[["years",(u,f)=>f.year-u.year],["quarters",(u,f)=>f.quarter-u.quarter+4*(f.year-u.year)],["months",(u,f)=>f.month-u.month+12*(f.year-u.year)],["weeks",(u,f)=>{const S=di(u,f);return(S-S%7)/7}],["days",di]],o={},d=m;let n,c;for(const[u,f]of _)a.indexOf(u)>=0&&(n=u,o[u]=f(m,r),c=d.plus(o),c>r?(o[u]--,(m=d.plus(o))>r&&(c=m,o[u]--,m=d.plus(o))):m=c);return[m,o,c,n]}(m,r,a);const u=+r-+o,f=a.filter(D=>["hours","minutes","seconds","milliseconds"].indexOf(D)>=0);0===f.length&&(n<r&&(n=o.plus({[c]:1})),n!==o&&(d[c]=(d[c]||0)+u/(+n-+o)));const S=Et.fromObject(d,_);return f.length>0?Et.fromMillis(u,_).shiftTo(...f).plus(S):S})(d?this:r,d?r:this,o,Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},_));return d?u.negate():u}diffNow(r="milliseconds",a={}){return this.diff(lt.now(),r,a)}endOf(r,{useLocaleWeeks:a=!1}={}){return this.plus({[r]:1}).startOf(r,{useLocaleWeeks:a}).minus({milliseconds:1})}equals(r){return this.valueOf()===r.valueOf()&&this.zone.equals(r.zone)&&this._loc.equals(r._loc)}get(r){return this[r]}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const r=864e5,a=6e4,_=En(this._c),o=this.zone.offset(_-r),d=this.zone.offset(_+r),n=this.zone.offset(_-o*a),c=this.zone.offset(_-d*a);if(n===c)return[this];const u=_-n*a,f=_-c*a,S=Ao(u,n),D=Ao(f,c);return S.hour===D.hour&&S.minute===D.minute&&S.second===D.second&&S.millisecond===D.millisecond?[this._clone({ts:u}),this._clone({ts:f})]:[this]}hasSame(r,a,_){if(!this.isValid)return!1;const o=r.valueOf(),d=this.setZone(r.zone,{keepLocalTime:!0});return+d.startOf(a)<=o&&o<=+d.endOf(a,_)}minus(r){if(!this.isValid)return this;const a=Et.fromDurationLike(r).negate();return this._clone(this._adjustTime(a))}plus(r){if(!this.isValid)return this;const a=Et.fromDurationLike(r);return this._clone(this._adjustTime(a))}reconfigure(r){const a=this._loc.clone(r);return this._clone({loc:a})}resolvedLocaleOptions(r={}){const{locale:a,numberingSystem:_,calendar:o}=me.create(this._loc.clone(r),r).resolvedOptions(this);return{locale:a,numberingSystem:_,outputCalendar:o}}set(r){if(!this.isValid)return this;const a=Pn(r,wi),{minDaysInFirstWeek:_,startOfWeek:o}=fo(a,this.loc),d=Bt(a.weekYear)||Bt(a.weekNumber)||Bt(a.weekday),n=Bt(a.ordinal),c=Bt(a.year),u=Bt(a.month)||Bt(a.day);if((c||u||n)&&(a.weekYear||a.weekNumber))throw new Ct("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&n)throw new Ct("Can't mix ordinal dates with month/day");let D;d?D=uo(Object.assign(Object.assign({},kn(this._c,_,o)),a),_,o):_e(a.ordinal)?(D=Object.assign(Object.assign({},this.toObject()),a),_e(a.day)&&(D.day=Math.min(Ln(D.year,D.month),D.day))):D=po(Object.assign(Object.assign({},Bn(this._c)),a));const[$,ut]=So(D,this._o,this.zone);return this._clone({ts:$,o:ut})}setLocale(r){return this.reconfigure({locale:r})}setZone(r,{keepLocalTime:a=!1,keepCalendarTime:_=!1}={}){if((r=je(r,J.defaultZone)).equals(this.zone))return this;if(r.isValid){let o=this._ts;if(a||_){const d=r.offset(this._ts);o=So(this.toObject(),d,r)[0]}return this._clone({ts:o,zone:r})}return lt.invalid(lt._unsupportedZone(r))}startOf(r,{useLocaleWeeks:a=!1}={}){if(!this.isValid)return this;const _={},o=Et.normalizeUnit(r);switch(o){case"years":_.month=1;case"quarters":case"months":_.day=1;case"weeks":case"days":_.hour=0;case"hours":_.minute=0;case"minutes":_.second=0;case"seconds":_.millisecond=0}if("weeks"===o)if(a){const d=this.loc.getStartOfWeek(),{weekday:n}=this;n<d&&(_.weekNumber=this.weekNumber-1),_.weekday=d}else _.weekday=1;if("quarters"===o){const d=Math.ceil(this.month/3);_.month=3*(d-1)+1}return this.set(_)}toBSON(){return this.toJSDate()}toFormat(r,a={}){return this.isValid?me.create(this._loc.redefaultToEN(a)).formatDateTimeFromString(this,r):Wo}toHTTP(){return Io(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toISO({format:r="extended",suppressSeconds:a=!1,suppressMilliseconds:_=!1,includeOffset:o=!0,extendedZone:d=!1}={}){if(!this.isValid)return null;const n="extended"===r;return[this._toISODate(n),"T",this._toISOTime(n,a,_,o,d)].join("")}toISODate({format:r="extended"}={format:"extended"}){return this.isValid?this._toISODate("extended"===r):null}toISOTime({suppressMilliseconds:r=!1,suppressSeconds:a=!1,includeOffset:_=!0,includePrefix:o=!1,extendedZone:d=!1,format:n="extended"}={}){return this.isValid?[o?"T":"",this._toISOTime("extended"===n,a,r,_,d)].join(""):null}toISOWeekDate(){return Io(this,"kkkk-'W'WW-c")}toJSDate(){return new Date(this.isValid?this._ts:NaN)}toJSON(){return this.toISO()}toLocal(){return this.setZone(J.defaultZone)}toLocaleParts(r={}){return this.isValid?me.create(this._loc.clone(r),r).formatDateTimeParts(this):[]}toLocaleString(r=Mt,a={}){return this.isValid?me.create(this._loc.clone(a),r).formatDateTime(this):Wo}toMillis(){return this.isValid?this.ts:NaN}toObject(r={includeConfig:!1}){if(!this.isValid)return{};const a=Object.assign({},this._c);return r.includeConfig&&(a.outputCalendar=this.outputCalendar,a.numberingSystem=this._loc.numberingSystem,a.locale=this._loc.locale),a}toRFC2822(){return Io(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toRelative(r={}){if(!this.isValid)return null;const a=r.base||lt.fromObject({},{zone:this.zone}),_=r.padding?this<a?-r.padding:r.padding:0;let o=["years","months","days","hours","minutes","seconds"],d=r.unit;return Array.isArray(r.unit)&&(o=r.unit,d=void 0),lt._diffRelative(a,this.plus(_),Object.assign(Object.assign({},r),{numeric:"always",units:o,unit:d}))}toRelativeCalendar(r={}){return this.isValid?lt._diffRelative(r.base||lt.fromObject({},{zone:this.zone}),this,Object.assign(Object.assign({},r),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}toSQL(r={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(r)}`:null}toSQLDate(){return this.isValid?this._toISODate(!0):null}toSQLTime({includeOffset:r=!0,includeZone:a=!1,includeOffsetSpace:_=!0}={}){let o="HH:mm:ss.SSS";return(a||r)&&(_&&(o+=" "),a?o+="z":r&&(o+="ZZ")),Io(this,o,!0)}toSeconds(){return this.isValid?this._ts/1e3:NaN}toString(){return this.isValid?this.toISO():Wo}toUTC(r=0,a={}){return this.setZone(Jt.instance(r),a)}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}until(r){return Xt.fromDateTimes(this,r)}valueOf(){return this.toMillis()}_adjustTime(r){const a=this._o,_=this._c.year+Math.trunc(r.years),o=this._c.month+Math.trunc(r.months)+3*Math.trunc(r.quarters),d=Object.assign(Object.assign({},this._c),{year:_,month:o,day:Math.min(this._c.day,Ln(_,o))+Math.trunc(r.days)+7*Math.trunc(r.weeks)}),n=Et.fromObject({years:r.years-Math.trunc(r.years),quarters:r.quarters-Math.trunc(r.quarters),months:r.months-Math.trunc(r.months),weeks:r.weeks-Math.trunc(r.weeks),days:r.days-Math.trunc(r.days),hours:r.hours,minutes:r.minutes,seconds:r.seconds,milliseconds:r.milliseconds}).as("milliseconds"),c=En(d);let[u,f]=Ci(c,a,this.zone);return 0!==n&&(u+=n,f=this.zone.offset(u)),{ts:u,o:f}}_clone(r){const a={ts:this._ts,zone:this.zone,c:this._c,o:this._o,loc:this._loc,invalid:this._invalid||void 0};return new lt(Object.assign(Object.assign(Object.assign({},a),r),{old:a}))}_possiblyCachedLocalWeekData(r){return r._localWeekData||(r._localWeekData=kn(r._c,r.loc.getMinDaysInFirstWeek(),r.loc.getStartOfWeek())),r._localWeekData}_possiblyCachedWeekData(r){return null===r._weekData&&(r._weekData=kn(r._c)),r._weekData}_toISODate(r){const a=this._c.year>9999||this._c.year<0;let _="";return a&&this._c.year>=0&&(_+="+"),_+=$t(this._c.year,a?6:4),r?(_+="-",_+=$t(this._c.month),_+="-",_+=$t(this._c.day)):(_+=$t(this._c.month),_+=$t(this._c.day)),_}_toISOTime(r,a,_,o,d){let n=$t(this._c.hour);return r?(n+=":",n+=$t(this._c.minute),(0!==this._c.millisecond||0!==this._c.second||!a)&&(n+=":")):n+=$t(this._c.minute),(0!==this._c.millisecond||0!==this._c.second||!a)&&(n+=$t(this._c.second),(0!==this._c.millisecond||!_)&&(n+=".",n+=$t(this._c.millisecond,3))),o&&(this.isOffsetFixed&&0===this.offset&&!d?n+="Z":this._o<0?(n+="-",n+=$t(Math.trunc(-this._o/60)),n+=":",n+=$t(Math.trunc(-this._o%60))):(n+="+",n+=$t(Math.trunc(this._o/60)),n+=":",n+=$t(Math.trunc(this._o%60)))),d&&(n+="["+this.zone.ianaName+"]"),n}}lt.DATETIME_FULL=Ft,lt.DATETIME_FULL_WITH_SECONDS=Rt,lt.DATETIME_HUGE=ee,lt.DATETIME_HUGE_WITH_SECONDS=ye,lt.DATETIME_MED=mt,lt.DATETIME_MED_WITH_SECONDS=Q,lt.DATETIME_MED_WITH_WEEKDAY=vt,lt.DATETIME_SHORT=Nt,lt.DATETIME_SHORT_WITH_SECONDS=I,lt.DATE_FULL=se,lt.DATE_HUGE=le,lt.DATE_MED=Yt,lt.DATE_MED_WITH_WEEKDAY=Gt,lt.DATE_SHORT=Mt,lt.TIME_24_SIMPLE=ft,lt.TIME_24_WITH_LONG_OFFSET=_t,lt.TIME_24_WITH_SECONDS=Tt,lt.TIME_24_WITH_SHORT_OFFSET=Zt,lt.TIME_SIMPLE=te,lt.TIME_WITH_LONG_OFFSET=Pt,lt.TIME_WITH_SECONDS=Wt,lt.TIME_WITH_SHORT_OFFSET=wt,lt._zoneOffsetGuessCache=new Map;var Dt=g(96814),Ke=g(19347),$e=g(32296),Sn=g(81274),Jn=g(65619),no=g(78645),Ko=g(59773),oo=g(67081),io=g(99397),Oi=g(37398),Fa=g(93997),Xe=g(86825),be=g(56223),tn=g(4300),qn=g(98525),yi=g(23680),In=g(64170),$o=g(30617),Xo=g(2032),Ja=g(68484);const qa=["clockFace"],Qa=["clockHand"],ao=function(m){return{transform:m}};function Ba(m,r){if(1&m&&(i.TgZ(0,"button",9),i.ALo(1,"activeHour"),i._uU(2),i.ALo(3,"timeLocalizer"),i.qZA()),2&m){const a=r.$implicit,_=i.oxw();i.Q6J("color",i.Dn7(1,4,a.time,null==_.selectedTime?null:_.selectedTime.time,_.isClockFaceDisabled)?_.color:void 0)("ngStyle",i.VKq(11,ao,"rotateZ(-"+a.angle+"deg)"))("disabled",a.disabled),i.xp6(2),i.hij(" ",i.xi3(3,8,a.time,_.timeUnit.HOUR)," ")}}function Ya(m,r){if(1&m&&(i.TgZ(0,"div",12)(1,"button",9),i.ALo(2,"activeMinute"),i._uU(3),i.ALo(4,"timeLocalizer"),i.ALo(5,"minutesFormatter"),i.qZA()()),2&m){const a=r.$implicit,_=i.oxw(2);i.Q6J("ngStyle",i.VKq(16,ao,"rotateZ("+a.angle+"deg)")),i.xp6(1),i.Q6J("color",i.gM2(2,5,a.time,null==_.selectedTime?null:_.selectedTime.time,_.minutesGap,_.isClockFaceDisabled)?_.color:void 0)("ngStyle",i.VKq(18,ao,"rotateZ(-"+a.angle+"deg)"))("disabled",a.disabled),i.xp6(2),i.hij(" ",i.xi3(4,10,i.xi3(5,13,a.time,_.minutesGap),_.timeUnit.MINUTE)," ")}}function Ha(m,r){if(1&m&&(i.TgZ(0,"div",10),i.YNc(1,Ya,6,20,"div",11),i.qZA()),2&m){const a=i.oxw();i.xp6(1),i.Q6J("ngForOf",a.faceTime)("ngForTrackBy",a.trackByTime)}}function Ga(m,r){1&m&&i.Hsn(0,0,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}const Zi=function(m){return{$implicit:m}};function Ra(m,r){if(1&m&&(i.TgZ(0,"div",12),i.YNc(1,Ga,1,0,"ng-content",14),i.qZA()),2&m){const a=r.$implicit;i.oxw(2);const _=i.MAs(1);i.Q6J("ngStyle",i.VKq(3,ao,"rotateZ("+a.angle+"deg)")),i.xp6(1),i.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",i.VKq(5,Zi,a))}}function Va(m,r){1&m&&i.Hsn(0,1,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function Wa(m,r){if(1&m&&(i.TgZ(0,"div",17),i.YNc(1,Va,1,0,"ng-content",14),i.qZA()),2&m){const a=r.$implicit,_=i.oxw(3),o=i.MAs(1);i.Udp("top","calc(50% - "+_.innerClockFaceSize+"px)")("height",_.innerClockFaceSize,"px"),i.Q6J("ngStyle",i.VKq(7,ao,"rotateZ("+a.angle+"deg)")),i.xp6(1),i.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",i.VKq(9,Zi,a))}}function Ka(m,r){if(1&m&&(i.TgZ(0,"div",15),i.YNc(1,Wa,2,11,"div",16),i.ALo(2,"slice"),i.qZA()),2&m){const a=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",i.Dn7(2,2,a.faceTime,12,24))("ngForTrackBy",a.trackByTime)}}function $a(m,r){if(1&m&&(i.TgZ(0,"div",10),i.YNc(1,Ra,2,7,"div",11),i.ALo(2,"slice"),i.YNc(3,Ka,3,6,"div",13),i.qZA()),2&m){const a=i.oxw();i.xp6(1),i.Q6J("ngForOf",i.Dn7(2,3,a.faceTime,0,12))("ngForTrackBy",a.trackByTime),i.xp6(2),i.Q6J("ngIf",a.faceTime.length>12)}}function Xa(m,r){if(1&m&&(i.TgZ(0,"button",18),i._UZ(1,"span",19),i.qZA()),2&m){const a=i.oxw();i.Q6J("color",a.color)}}const ti=["*","*"],ts=function(m){return{"clock-face__clock-hand_minute":m}};function es(m,r){if(1&m){const a=i.EpF();i.TgZ(0,"div",5),i.NdJ("@scaleInOut.done",function(){i.CHM(a);const o=i.oxw(2);return i.KtG(o.animationDone())}),i.TgZ(1,"p"),i._uU(2,"Current time would be invalid in this period."),i.qZA()()}2&m&&i.Q6J("@scaleInOut",void 0)}function Ai(m,r){if(1&m&&i.YNc(0,es,3,1,"div",4),2&m){const a=i.oxw();i.Q6J("ngIf",!a.isPeriodAvailable)}}const so=function(m){return{active:m}};function ns(m,r){if(1&m){const a=i.EpF();i.TgZ(0,"input",2),i.NdJ("ngModelChange",function(o){i.CHM(a);const d=i.oxw();return i.KtG(d.time=o)})("input",function(){i.CHM(a);const o=i.oxw();return i.KtG(o.updateTime())})("focus",function(o){i.CHM(a);const d=i.oxw();return i.KtG(d.saveTimeAndChangeTimeUnit(o,d.timeUnit))}),i.ALo(1,"timeLocalizer"),i.qZA()}if(2&m){const a=i.oxw();i.Q6J("ngClass",i.VKq(8,so,a.isActive))("ngModel",i.Dn7(1,4,a.time,a.timeUnit,!0))("disabled",a.disabled)("ngxMatTimepickerAutofocus",a.isActive)}}function os(m,r){if(1&m){const a=i.EpF();i.TgZ(0,"input",3),i.NdJ("ngModelChange",function(o){i.CHM(a);const d=i.oxw();return i.KtG(d.onModelChange(o))})("input",function(){i.CHM(a);const o=i.oxw();return i.KtG(o.updateTime())})("focus",function(o){i.CHM(a);const d=i.oxw();return i.KtG(d.saveTimeAndChangeTimeUnit(o,d.timeUnit))})("keydown",function(o){i.CHM(a);const d=i.oxw();return i.KtG(d.onKeydown(o))})("keypress",function(o){i.CHM(a);const d=i.oxw();return i.KtG(d.changeTimeByKeyboard(o))}),i.ALo(1,"timeLocalizer"),i.ALo(2,"ngxMatTimepickerParser"),i.qZA()}if(2&m){const a=i.oxw();i.Q6J("ngClass",i.VKq(11,so,a.isActive))("ngModel",i.Dn7(1,4,i.xi3(2,8,a.time,a.timeUnit),a.timeUnit,!0))("disabled",a.disabled)("ngxMatTimepickerAutofocus",a.isActive)}}function is(m,r){if(1&m){const a=i.EpF();i.TgZ(0,"ngx-mat-timepicker-period",7),i.NdJ("periodChanged",function(o){i.CHM(a);const d=i.oxw();return i.KtG(d.changePeriod(o))}),i.qZA()}if(2&m){const a=i.oxw();i.Q6J("selectedPeriod",a.period)("activeTimeUnit",a.activeTimeUnit)("maxTime",a.maxTime)("minTime",a.minTime)("format",a.format)("hours",a.hours)("minutes",a.minutes)("selectedHour",a.hour)("meridiems",a.meridiems)}}function as(m,r){1&m&&i.GkF(0)}function ss(m,r){1&m&&(i.TgZ(0,"small",11),i._uU(1," * use arrows ("),i.TgZ(2,"span"),i._uU(3,"\u21c5"),i.qZA(),i._uU(4,") to change the time"),i.qZA())}const rs=function(m){return{"timepicker-dial__hint-container--hidden":m}};function ls(m,r){if(1&m&&(i.TgZ(0,"div",8),i.YNc(1,as,1,0,"ng-container",9),i.YNc(2,ss,5,0,"ng-template",null,10,i.W1O),i.qZA()),2&m){const a=i.MAs(3),_=i.oxw();i.Q6J("ngClass",i.VKq(2,rs,!_.isHintVisible)),i.xp6(1),i.Q6J("ngTemplateOutlet",_.editableHintTmpl?_.editableHintTmpl:a)}}function cs(m,r){1&m&&i.GkF(0)}function _s(m,r){if(1&m&&(i.TgZ(0,"div"),i.YNc(1,cs,1,0,"ng-container",3),i.qZA()),2&m){i.oxw();const a=i.MAs(4);i.xp6(1),i.Q6J("ngTemplateOutlet",a)}}function ms(m,r){1&m&&i.GkF(0)}function ds(m,r){if(1&m&&i.YNc(0,ms,1,0,"ng-container",3),2&m){i.oxw();const a=i.MAs(4);i.Q6J("ngTemplateOutlet",a)}}function us(m,r){1&m&&i.Hsn(0)}const ps=["*"];function gs(m,r){if(1&m&&(i.TgZ(0,"button",14),i._uU(1,"CANCEL "),i.qZA()),2&m){const a=i.oxw();i.Q6J("color",a.color)}}function hs(m,r){if(1&m&&(i.TgZ(0,"button",14),i._uU(1,"OK "),i.qZA()),2&m){const a=i.oxw();i.Q6J("color",a.color)}}function fs(m,r){if(1&m){const a=i.EpF();i.TgZ(0,"ngx-mat-timepicker-24-hours-face",17),i.NdJ("hourChange",function(o){i.CHM(a);const d=i.oxw(2);return i.KtG(d.onHourChange(o))})("hourSelected",function(o){i.CHM(a);const d=i.oxw(2);return i.KtG(d.onHourSelected(o))}),i.ALo(1,"async"),i.qZA()}if(2&m){const a=i.oxw(2);i.Q6J("color",a.color)("selectedHour",i.lcZ(1,5,a.selectedHour))("minTime",a.data.minTime)("maxTime",a.data.maxTime)("format",a.data.format)}}function xs(m,r){if(1&m){const a=i.EpF();i.TgZ(0,"ngx-mat-timepicker-12-hours-face",18),i.NdJ("hourChange",function(o){i.CHM(a);const d=i.oxw(2);return i.KtG(d.onHourChange(o))})("hourSelected",function(o){i.CHM(a);const d=i.oxw(2);return i.KtG(d.onHourSelected(o))}),i.ALo(1,"async"),i.ALo(2,"async"),i.qZA()}if(2&m){const a=i.oxw(2);i.Q6J("color",a.color)("selectedHour",i.lcZ(1,5,a.selectedHour))("period",i.lcZ(2,7,a.selectedPeriod))("minTime",a.data.minTime)("maxTime",a.data.maxTime)}}function vs(m,r){if(1&m&&(i.TgZ(0,"div"),i.YNc(1,fs,2,7,"ngx-mat-timepicker-24-hours-face",15),i.YNc(2,xs,3,9,"ng-template",null,16,i.W1O),i.qZA()),2&m){const a=i.MAs(3),_=i.oxw();i.xp6(1),i.Q6J("ngIf",24===_.data.format)("ngIfElse",a)}}function bs(m,r){if(1&m){const a=i.EpF();i.TgZ(0,"ngx-mat-timepicker-minutes-face",19),i.NdJ("minuteChange",function(o){i.CHM(a);const d=i.oxw();return i.KtG(d.onMinuteChange(o))}),i.ALo(1,"async"),i.ALo(2,"async"),i.ALo(3,"async"),i.qZA()}if(2&m){const a=i.oxw();let _;i.Q6J("color",a.color)("selectedMinute",i.lcZ(1,8,a.selectedMinute))("selectedHour",null==(_=i.lcZ(2,10,a.selectedHour))?null:_.time)("minTime",a.data.minTime)("maxTime",a.data.maxTime)("format",a.data.format)("period",i.lcZ(3,12,a.selectedPeriod))("minutesGap",a.data.minutesGap)}}function Cs(m,r){1&m&&i.GkF(0)}function Ts(m,r){1&m&&i.GkF(0)}function Si(m,r){if(1&m&&(i.TgZ(0,"button",14),i._uU(1,"CANCEL "),i.qZA()),2&m){const a=i.oxw();i.Q6J("color",a.color)}}function ks(m,r){if(1&m&&(i.TgZ(0,"button",14),i._uU(1,"OK "),i.qZA()),2&m){const a=i.oxw();i.Q6J("color",a.color)}}function ws(m,r){if(1&m){const a=i.EpF();i.TgZ(0,"ngx-mat-timepicker-24-hours-face",17),i.NdJ("hourChange",function(o){i.CHM(a);const d=i.oxw(2);return i.KtG(d.onHourChange(o))})("hourSelected",function(o){i.CHM(a);const d=i.oxw(2);return i.KtG(d.onHourSelected(o))}),i.ALo(1,"async"),i.qZA()}if(2&m){const a=i.oxw(2);i.Q6J("color",a.color)("selectedHour",i.lcZ(1,5,a.selectedHour))("minTime",a.data.minTime)("maxTime",a.data.maxTime)("format",a.data.format)}}function Os(m,r){if(1&m){const a=i.EpF();i.TgZ(0,"ngx-mat-timepicker-12-hours-face",18),i.NdJ("hourChange",function(o){i.CHM(a);const d=i.oxw(2);return i.KtG(d.onHourChange(o))})("hourSelected",function(o){i.CHM(a);const d=i.oxw(2);return i.KtG(d.onHourSelected(o))}),i.ALo(1,"async"),i.ALo(2,"async"),i.qZA()}if(2&m){const a=i.oxw(2);i.Q6J("color",a.color)("selectedHour",i.lcZ(1,5,a.selectedHour))("period",i.lcZ(2,7,a.selectedPeriod))("minTime",a.data.minTime)("maxTime",a.data.maxTime)}}function ys(m,r){if(1&m&&(i.TgZ(0,"div"),i.YNc(1,ws,2,7,"ngx-mat-timepicker-24-hours-face",15),i.YNc(2,Os,3,9,"ng-template",null,16,i.W1O),i.qZA()),2&m){const a=i.MAs(3),_=i.oxw();i.xp6(1),i.Q6J("ngIf",24===_.data.format)("ngIfElse",a)}}function Zs(m,r){if(1&m){const a=i.EpF();i.TgZ(0,"ngx-mat-timepicker-minutes-face",19),i.NdJ("minuteChange",function(o){i.CHM(a);const d=i.oxw();return i.KtG(d.onMinuteChange(o))}),i.ALo(1,"async"),i.ALo(2,"async"),i.ALo(3,"async"),i.qZA()}if(2&m){const a=i.oxw();let _;i.Q6J("color",a.color)("selectedMinute",i.lcZ(1,8,a.selectedMinute))("selectedHour",null==(_=i.lcZ(2,10,a.selectedHour))?null:_.time)("minTime",a.data.minTime)("maxTime",a.data.maxTime)("format",a.data.format)("period",i.lcZ(3,12,a.selectedPeriod))("minutesGap",a.data.minutesGap)}}function As(m,r){1&m&&i.GkF(0)}function Ii(m,r){1&m&&i.GkF(0)}function Ss(m,r){1&m&&i._UZ(0,"ngx-mat-timepicker-standalone")}function Is(m,r){1&m&&(i.O4$(),i.TgZ(0,"svg",2),i._UZ(1,"path",3),i.qZA())}const Ns=[[["","ngxMatTimepickerToggleIcon",""]]],Ms=["[ngxMatTimepickerToggleIcon]"];function js(m,r){if(1&m&&(i.TgZ(0,"mat-option",12),i._uU(1),i.qZA()),2&m){const a=r.$implicit;i.Q6J("value",a),i.xp6(1),i.Oqu(a)}}function Ls(m,r){if(1&m){const a=i.EpF();i.TgZ(0,"mat-form-field",9)(1,"mat-select",10),i.NdJ("selectionChange",function(o){i.CHM(a);const d=i.oxw();return i.KtG(d.changePeriod(o))}),i.YNc(2,js,2,2,"mat-option",11),i.qZA()()}if(2&m){const a=i.oxw();i.Q6J("color",a.color),i.xp6(1),i.Q6J("disabled",a.disabled||a.isChangePeriodDisabled)("ngModel",a.period),i.xp6(1),i.Q6J("ngForOf",a.periods)}}function Es(m,r){1&m&&i.GkF(0)}function Ds(m,r){if(1&m&&(i.TgZ(0,"ngx-mat-timepicker-toggle",13)(1,"span",14),i.YNc(2,Es,1,0,"ng-container",15),i.qZA()()),2&m){const a=i.oxw(),_=i.MAs(8),o=i.MAs(10);i.Q6J("for",_)("disabled",a.disabled),i.xp6(2),i.Q6J("ngTemplateOutlet",a.toggleIcon||o)}}function Ps(m,r){1&m&&(i.TgZ(0,"mat-icon"),i._uU(1,"watch_later"),i.qZA())}const zs=function(m){return{"ngx-mat-timepicker--disabled":m}};var cn=function(m){return m.TWELVE="hh:mm a",m.TWELVE_SHORT="h:m a",m.TWENTY_FOUR="HH:mm",m.TWENTY_FOUR_SHORT="H:m",m}(cn||{}),pe=function(m){return m.AM="AM",m.PM="PM",m}(pe||{});let Ht=(()=>{class m{static formatHour(a,_,o){if(this.isTwentyFour(_))return a;const d=o===pe.AM?a:a+12;return o===pe.AM&&12===d?0:o===pe.PM&&24===d?12:d}static formatTime(a,_){if(!a)return"Invalid Time";const o=this.parseTime(a,_).setLocale(this.defaultLocale);if(!o.isValid)return"Invalid time";const d=!this.isTwentyFour(_.format);return d?o.toLocaleString({...lt.TIME_SIMPLE,hour12:d}).replace(/\u200E/g,""):o.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static fromDateTimeToString(a,_){return a.reconfigure({numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}).toFormat(this.isTwentyFour(_)?cn.TWENTY_FOUR:cn.TWELVE)}static isBetween(a,_,o,d="minutes"){const n="hours"===d?d:void 0;return this.isSameOrBefore(a,o,n)&&this.isSameOrAfter(a,_,n)}static isSameOrAfter(a,_,o="minutes"){return"hours"===o?a.hour>=_.hour:a.hasSame(_,o)||a.valueOf()>_.valueOf()}static isSameOrBefore(a,_,o="minutes"){return"hours"===o?a.hour<=_.hour:a.hasSame(_,o)||a.valueOf()<=_.valueOf()}static isTimeAvailable(a,_,o,d,n,c){if(!a)return;const u=this.parseTime(a,{format:c}),f=u.minute;if(n&&f==f&&f%n!=0)throw new Error(`Your minutes - ${f} doesn't match your minutesGap - ${n}`);const S=_&&!o&&this.isSameOrAfter(u,_,d),D=o&&!_&&this.isSameOrBefore(u,o,d),$=_&&o&&this.isBetween(u,_,o,d);return S||D||$||!_&&!o}static isTwentyFour(a){return 24===a}static parseTime(a,_){const o=this._getLocaleOptionsByTime(a,_);let d=cn.TWENTY_FOUR_SHORT;return a.match(/\s/g)&&(a=a.replace(/\.\s*/g,""),d=cn.TWELVE_SHORT),lt.fromFormat(a.replace(/\s+/g," "),d,{numberingSystem:o.numberingSystem,locale:o.locale})}static toLocaleTimeString(a,_={}){const{format:o=this.defaultFormat,locale:d=this.defaultLocale}=_;let n="h12",c=cn.TWELVE_SHORT;return this.isTwentyFour(o)&&(n="h23",c=cn.TWENTY_FOUR_SHORT),lt.fromFormat(a,c).reconfigure({locale:d,numberingSystem:_.numberingSystem,defaultToEN:_.defaultToEN,outputCalendar:_.outputCalendar}).toLocaleString({...lt.TIME_SIMPLE,hourCycle:n})}static _getLocaleOptionsByTime(a,_){const{numberingSystem:o,locale:d}=lt.now().reconfigure({locale:_.locale,numberingSystem:_.numberingSystem,outputCalendar:_.outputCalendar,defaultToEN:_.defaultToEN}).resolvedLocaleOptions();return isNaN(parseInt(a,10))?{numberingSystem:o,locale:d}:{numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}}}return m.defaultFormat=12,m.defaultLocale="en-US",m.defaultNumberingSystem="latn",m})();var Ce=function(m){return m[m.HOUR=0]="HOUR",m[m.MINUTE=1]="MINUTE",m}(Ce||{});const ro=new i.OlP("NGX_MAT_TIMEPICKER_CONFIG"),No={time:12,angle:360},Mo={time:0,angle:360};let lo=(()=>{class m{constructor(){this._hour$=new Jn.X(No),this._minute$=new Jn.X(Mo),this._period$=new Jn.X(pe.AM)}set hour(a){this._hour$.next(a)}set minute(a){this._minute$.next(a)}set period(a){(a===pe.AM||a===pe.PM)&&this._period$.next(a)}get selectedHour(){return this._hour$.asObservable()}get selectedMinute(){return this._minute$.asObservable()}get selectedPeriod(){return this._period$.asObservable()}getFullTime(a){const _=this._hour$.getValue().time,o=this._minute$.getValue().time,u=`${_??No.time}:${o??Mo.time} ${12===a?this._period$.getValue():""}`.trim();return Ht.formatTime(u,{format:a})}setDefaultTimeIfAvailable(a,_,o,d,n){a||this._resetTime();try{Ht.isTimeAvailable(a,_,o,"minutes",n)&&this._setDefaultTime(a,d)}catch(c){console.error(c)}}_resetTime(){this.hour={...No},this.minute={...Mo},this.period=pe.AM}_setDefaultTime(a,_){const o=Ht.parseTime(a,{format:_});if(o.isValid){const d=a.substring(a.length-2).toUpperCase(),n=o.hour;this.hour={...No,time:Us(n,d)},this.minute={...Mo,time:o.minute},this.period=d}else this._resetTime()}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275prov=i.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();function Us(m,r){switch(r){case pe.AM:return 0===m?12:m;case pe.PM:return 12===m?12:m-12;default:return m}}let jo=(()=>{class m{get backdropClick(){return this._backdropClick$.asObservable().pipe((0,oo.d)({bufferSize:1,refCount:!0}))}get keydownEvent(){return this._keydownEvent$.asObservable().pipe((0,oo.d)({bufferSize:1,refCount:!0}))}constructor(){this._backdropClick$=new no.x,this._keydownEvent$=new no.x}dispatchEvent(a){switch(a.type){case"click":this._backdropClick$.next(a);break;case"keydown":this._keydownEvent$.next(a);break;default:throw new Error("no such event type")}}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275prov=i.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const Ni=new i.OlP("TimeLocale",{providedIn:"root",factory:()=>Ht.defaultLocale});let en=(()=>{class m{get locale(){return this._locale}constructor(a){this._locale=a}updateLocale(a){this._locale=a||this._initialLocale}}return m.\u0275fac=function(a){return new(a||m)(i.LFG(Ni))},m.\u0275prov=i.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})(),Mi=(()=>{class m{set color(a){this._color=a}get color(){return this._color}get defaultTime(){return this._defaultTime}set defaultTime(a){this._defaultTime=a,this._setDefaultTime(a)}get _locale(){return this._timepickerLocaleSrv.locale}constructor(a,_,o,d){this._timepickerSrv=a,this._eventSrv=_,this._timepickerLocaleSrv=o,this.data=d,this.activeTimeUnit=Ce.HOUR,this.timeUnit=Ce,this._color="primary",this._subsCtrl$=new no.x,this.color=d.color,this.defaultTime=d.defaultTime}changePeriod(a){this._timepickerSrv.period=a,this._onTimeChange()}changeTimeUnit(a){this.activeTimeUnit=a}close(){this.data.timepickerBaseRef.close()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._defineTime(),this.selectedHour=this._timepickerSrv.selectedHour.pipe((0,oo.d)({bufferSize:1,refCount:!0})),this.selectedMinute=this._timepickerSrv.selectedMinute.pipe((0,oo.d)({bufferSize:1,refCount:!0})),this.selectedPeriod=this._timepickerSrv.selectedPeriod.pipe((0,oo.d)({bufferSize:1,refCount:!0})),this.data.timepickerBaseRef.timeUpdated.pipe((0,Ko.R)(this._subsCtrl$)).subscribe({next:a=>{a&&this._setDefaultTime(a)}})}onHourChange(a){this._timepickerSrv.hour=a,this._onTimeChange()}onHourSelected(a){this.data.hoursOnly||this.changeTimeUnit(Ce.MINUTE),this.data.timepickerBaseRef.hourSelected.next(a)}onKeydown(a){this._eventSrv.dispatchEvent(a),a.stopPropagation()}onMinuteChange(a){this._timepickerSrv.minute=a,this._onTimeChange()}setTime(){this.data.timepickerBaseRef.timeSet.emit(this._timepickerSrv.getFullTime(this.data.format)),this.close()}_defineTime(){const a=this.data.minTime;if(a&&!this.data.time&&!this.data.defaultTime){const _=Ht.fromDateTimeToString(a,this.data.format);this._setDefaultTime(_)}}_onTimeChange(){const a=Ht.toLocaleTimeString(this._timepickerSrv.getFullTime(this.data.format),{locale:this._locale,format:this.data.format});this.data.timepickerBaseRef.timeChanged.emit(a)}_setDefaultTime(a){this._timepickerSrv.setDefaultTimeIfAvailable(a,this.data.minTime,this.data.maxTime,this.data.format,this.data.minutesGap)}}return m.\u0275fac=function(a){return new(a||m)(i.Y36(lo),i.Y36(jo),i.Y36(en),i.Y36(ro))},m.\u0275dir=i.lG2({type:m,selectors:[["","ngxMatTimepickerBase",""]],hostBindings:function(a,_){1&a&&i.NdJ("keydown",function(d){return _.onKeydown(d)})},inputs:{color:"color",defaultTime:"defaultTime"},standalone:!0}),m})();class ne{static disableHours(r,a){return a.min||a.max?r.map(_=>{const o=Ht.isTwentyFour(a.format)?_.time:Ht.formatHour(_.time,a.format,a.period),d=lt.fromObject({hour:o}).toFormat(cn.TWELVE);return{..._,disabled:!Ht.isTimeAvailable(d,a.min,a.max,"hours")}}):r}static disableMinutes(r,a,_){if(_.min||_.max){const o=Ht.formatHour(a,_.format,_.period);let d=lt.fromObject({hour:o,minute:0});return r.map(n=>(d=d.set({minute:n.time}),{...n,disabled:!Ht.isTimeAvailable(d.toFormat(cn.TWELVE),_.min,_.max,"minutes")}))}return r}static getHours(r){return Array(r).fill(1).map((a,_)=>{const d=a+_;return{time:24===d?0:d,angle:30*d}})}static getMinutes(r=1){const o=[];for(let d=0;d<60;d++){const n=6*d;d%r==0&&o.push({time:d,angle:0!==n?n:360})}return o}static isDigit(r){return!!([46,8,9,27,13].some(a=>a===r.keyCode)||65===r.keyCode&&(!0===r.ctrlKey||!0===r.metaKey)||67===r.keyCode&&(!0===r.ctrlKey||!0===r.metaKey)||88===r.keyCode&&(!0===r.ctrlKey||!0===r.metaKey)||r.keyCode>=35&&r.keyCode<=40)||!((r.keyCode<48||r.keyCode>57)&&(r.keyCode<96||r.keyCode>105))}}var co=function(m){return m.hour="hour",m.minute="minute",m}(co||{});let Lo=(()=>{class m{get _locale(){return this._timepickerLocaleSrv.locale}constructor(a){this._timepickerLocaleSrv=a}transform(a,_,o=!1){if(null==a||""===a)return"";switch(_){case Ce.HOUR:return this._formatTime(co.hour,a,0===a||o?"HH":"H");case Ce.MINUTE:return this._formatTime(co.minute,a,"mm");default:throw new Error(`There is no Time Unit with type ${_}`)}}_formatTime(a,_,o){try{return lt.fromObject({[a]:+_}).setLocale(this._locale).toFormat(o)}catch{throw new Error(`Cannot format provided time - ${_} to locale - ${this._locale}`)}}}return m.\u0275fac=function(a){return new(a||m)(i.Y36(en,16))},m.\u0275pipe=i.Yjl({name:"timeLocalizer",type:m,pure:!0,standalone:!0}),m})(),Fs=(()=>{class m{transform(a,_=5){return a&&(a%_==0?a:"")}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275pipe=i.Yjl({name:"minutesFormatter",type:m,pure:!0,standalone:!0}),m})(),Js=(()=>{class m{transform(a,_,o,d){return null!=a&&!d&&_===a&&a%(o||5)==0}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275pipe=i.Yjl({name:"activeMinute",type:m,pure:!0,standalone:!0}),m})(),qs=(()=>{class m{transform(a,_,o){return null!=a&&!o&&a===_}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275pipe=i.Yjl({name:"activeHour",type:m,pure:!0,standalone:!0}),m})();const Eo_small_height="75px",Eo_small_top="calc(50% - 75px)",Eo_large_height="103px",Eo_large_top="calc(50% - 103px)";let Do=(()=>{class m{constructor(){this.color="primary",this.innerClockFaceSize=85,this.timeChange=new i.vpe,this.timeSelected=new i.vpe,this.timeUnit=Ce}ngAfterViewInit(){this._setClockHandPosition(),this._addTouchEvents()}ngOnChanges(a){const _=a.faceTime,o=a.selectedTime;_&&_.currentValue&&o&&o.currentValue&&(this.selectedTime=this.faceTime.find(d=>d.time===this.selectedTime.time)),o&&o.currentValue&&this._setClockHandPosition(),_&&_.currentValue&&setTimeout(()=>this._selectAvailableTime())}ngOnDestroy(){this._removeTouchEvents()}onMousedown(a){a.preventDefault(),this._isStarted=!0}onMouseup(a){a.preventDefault(),this._isStarted=!1}selectTime(a){if(!this._isStarted&&a instanceof MouseEvent&&"click"!==a.type)return;const _=this.clockFace.nativeElement.getBoundingClientRect(),o=_.left+_.width/2,d=_.top+_.height/2,n=180*Math.atan(Math.abs(a.clientX-o)/Math.abs(a.clientY-d))/Math.PI,c=function Bs(m,r,a,_,o){return _>r&&a>=m?180-o:_>r&&a<m?180+o:_<r&&a<m?360-o:o}(o,d,a.clientX,a.clientY,n),u=this.format&&this._isInnerClockFace(o,d,a.clientX,a.clientY),D=(function Qs(m,r){return Math.round(m/r)*r}(c,this.unit===Ce.MINUTE?6*(this.minutesGap||1):30)||360)+(u?360:0),$=this.faceTime.find(ut=>ut.angle===D);$&&!$.disabled&&(this.timeChange.next($),this._isStarted||this.timeSelected.next($.time))}trackByTime(a,_){return _.time}_addTouchEvents(){this._touchStartHandler=this.onMousedown.bind(this),this._touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this._touchEndHandler)}_decreaseClockHand(){this.clockHand.nativeElement.style.height=Eo_small_height,this.clockHand.nativeElement.style.top=Eo_small_top}_increaseClockHand(){this.clockHand.nativeElement.style.height=Eo_large_height,this.clockHand.nativeElement.style.top=Eo_large_top}_isInnerClockFace(a,_,o,d){return Math.sqrt(Math.pow(o-a,2)+Math.pow(d-_,2))<this.innerClockFaceSize}_removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this._touchEndHandler)}_selectAvailableTime(){const a=this.faceTime.find(_=>this.selectedTime.time===_.time);if(this.isClockFaceDisabled=this.faceTime.every(_=>_.disabled),a&&a.disabled&&!this.isClockFaceDisabled){const _=this.faceTime.find(o=>!o.disabled);this.timeChange.next(_)}}_setClockHandPosition(){Ht.isTwentyFour(this.format)&&(this.selectedTime.time>12||0===this.selectedTime.time?this._decreaseClockHand():this._increaseClockHand()),this.selectedTime&&(this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`)}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=i.Xpm({type:m,selectors:[["ngx-mat-timepicker-face"]],viewQuery:function(a,_){if(1&a&&(i.Gf(qa,7),i.Gf(Qa,7,i.SBq)),2&a){let o;i.iGM(o=i.CRH())&&(_.clockFace=o.first),i.iGM(o=i.CRH())&&(_.clockHand=o.first)}},hostBindings:function(a,_){1&a&&i.NdJ("mousedown",function(d){return _.onMousedown(d)})("mouseup",function(d){return _.onMouseup(d)})("click",function(d){return _.selectTime(d)})("touchmove",function(d){return _.selectTime(d.changedTouches[0])})("touchend",function(d){return _.selectTime(d.changedTouches[0])})("mousemove",function(d){return _.selectTime(d)})},inputs:{color:"color",faceTime:"faceTime",format:"format",minutesGap:"minutesGap",selectedTime:"selectedTime",unit:"unit"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},standalone:!0,features:[i.TTD,i.jDz],ngContentSelectors:ti,decls:11,vars:9,consts:[["hourButton",""],["minutesFace",""],[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"color","ngClass","hidden"],["clockHand",""],["mat-mini-fab","",3,"color",4,"ngIf"],[1,"clock-face__center",3,"color"],["mat-mini-fab","","disableRipple","",1,"mat-elevation-z0",3,"color","ngStyle","disabled"],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],["class","clock-face__inner",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"top","ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"],["mat-mini-fab","",3,"color"],[1,"clock-face__clock-hand_minute_dot"]],template:function(a,_){if(1&a&&(i.F$t(ti),i.YNc(0,Ba,4,13,"ng-template",null,0,i.W1O),i.YNc(2,Ha,2,2,"ng-template",null,1,i.W1O),i.TgZ(4,"div",2,3),i.YNc(6,$a,4,7,"div",4),i.TgZ(7,"mat-toolbar",5,6),i.YNc(9,Xa,2,1,"button",7),i.qZA(),i._UZ(10,"mat-toolbar",8),i.qZA()),2&a){const o=i.MAs(3);i.xp6(6),i.Q6J("ngIf",_.unit!==_.timeUnit.MINUTE)("ngIfElse",o),i.xp6(1),i.Q6J("color",_.color)("ngClass",i.VKq(7,ts,_.unit===_.timeUnit.MINUTE))("hidden",_.isClockFaceDisabled),i.xp6(2),i.Q6J("ngIf",_.unit===_.timeUnit.MINUTE),i.xp6(1),i.Q6J("color",_.color)}},dependencies:[$e.ot,$e.nh,Dt.PC,Dt.ax,Dt.O5,Dt.tP,Sn.g0,Sn.Ye,Dt.mk,Dt.OU,qs,Js,Fs,Lo],styles:["ngx-mat-timepicker-face .clock-face{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;box-sizing:border-box;background-color:#c8c8c880!important}ngx-mat-timepicker-face .clock-face__inner{position:absolute;top:0;left:0;width:100%;height:100%}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void{box-shadow:none;background-color:transparent}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void>span.mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face .clock-face__container{margin-left:-2px}ngx-mat-timepicker-face .clock-face__number{position:absolute;transform-origin:25px 100%;width:50px;text-align:center;z-index:2;top:calc(50% - 125px);left:calc(50% - 25px)}ngx-mat-timepicker-face .clock-face__number--outer{height:125px}ngx-mat-timepicker-face .clock-face__number--outer>span{font-size:16px}ngx-mat-timepicker-face .clock-face__number--inner>span{font-size:14px}ngx-mat-timepicker-face .clock-face__clock-hand{height:103px;width:2px;padding:0;transform-origin:1px 100%;position:absolute;top:calc(50% - 103px);z-index:1}ngx-mat-timepicker-face .clock-face__center{width:8px;height:8px;padding:0;position:absolute;border-radius:50%;top:50%;left:50%;margin:-4px}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button{position:absolute;top:-22px;left:calc(50% - 20px);box-sizing:content-box;display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button .clock-face__clock-hand_minute_dot{display:block;width:4px;height:4px;background:#FFF;border-radius:50%}@media (max-device-width: 1023px) and (orientation: landscape){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}@media screen and (max-width: 360px){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}\n"],encapsulation:2,changeDetection:0}),m})(),ei=(()=>{class m{set color(a){this._color=a}get color(){return this._color}constructor(){this.minuteChange=new i.vpe,this.minutesList=[],this.timeUnit=Ce,this._color="primary"}ngOnChanges(a){if(a.period&&a.period.currentValue){const _=ne.getMinutes(this.minutesGap);this.minutesList=ne.disableMinutes(_,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=i.Xpm({type:m,selectors:[["ngx-mat-timepicker-minutes-face"]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",minutesGap:"minutesGap",period:"period",selectedHour:"selectedHour",selectedMinute:"selectedMinute"},outputs:{minuteChange:"minuteChange"},standalone:!0,features:[i.TTD,i.jDz],decls:1,vars:5,consts:[[3,"color","faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(a,_){1&a&&(i.TgZ(0,"ngx-mat-timepicker-face",0),i.NdJ("timeChange",function(d){return _.minuteChange.next(d)}),i.qZA()),2&a&&i.Q6J("color",_.color)("faceTime",_.minutesList)("selectedTime",_.selectedMinute)("minutesGap",_.minutesGap)("unit",_.timeUnit.MINUTE)},dependencies:[Do],encapsulation:2}),m})(),ji=(()=>{class m{set color(a){this._color=a}get color(){return this._color}set format(a){this._format=a,this.hoursList=ne.getHours(this._format)}get format(){return this._format}constructor(){this.hourChange=new i.vpe,this.hourSelected=new i.vpe,this.hoursList=[],this._color="primary",this._format=24}onTimeSelected(a){this.hourSelected.next(a)}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275dir=i.lG2({type:m,selectors:[["","ngxMatTimepickerHoursFace",""]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",selectedHour:"selectedHour"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"},standalone:!0}),m})(),ni=(()=>{class m extends ji{constructor(){super(),this.format=12}ngOnChanges(a){a.period&&a.period.currentValue&&(this.hoursList=ne.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=i.Xpm({type:m,selectors:[["ngx-mat-timepicker-12-hours-face"]],inputs:{period:"period"},standalone:!0,features:[i.qOj,i.TTD,i.jDz],decls:1,vars:3,consts:[[3,"color","selectedTime","faceTime","timeChange","timeSelected"]],template:function(a,_){1&a&&(i.TgZ(0,"ngx-mat-timepicker-face",0),i.NdJ("timeChange",function(d){return _.hourChange.next(d)})("timeSelected",function(d){return _.onTimeSelected(d)}),i.qZA()),2&a&&i.Q6J("color",_.color)("selectedTime",_.selectedHour)("faceTime",_.hoursList)},dependencies:[Do],encapsulation:2,changeDetection:0}),m})(),oi=(()=>{class m extends ji{constructor(){super(),this.format=24}ngAfterContentInit(){this.hoursList=ne.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=i.Xpm({type:m,selectors:[["ngx-mat-timepicker-24-hours-face"]],standalone:!0,features:[i.qOj,i.jDz],decls:1,vars:4,consts:[[3,"color","selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(a,_){1&a&&(i.TgZ(0,"ngx-mat-timepicker-face",0),i.NdJ("timeChange",function(d){return _.hourChange.next(d)})("timeSelected",function(d){return _.onTimeSelected(d)}),i.qZA()),2&a&&i.Q6J("color",_.color)("selectedTime",_.selectedHour)("faceTime",_.hoursList)("format",_.format)},dependencies:[Do],encapsulation:2,changeDetection:0}),m})(),Ys=(()=>{class m{constructor(a){this._overlay=a,this.isPeriodAvailable=!0,this.overlayScrollStrategy=this._overlay.scrollStrategies.reposition(),this.periodChanged=new i.vpe,this.timePeriod=pe}animationDone(){this.isPeriodAvailable=!0}changePeriod(a){this.isPeriodAvailable=this._isSwitchPeriodAvailable(a),this.isPeriodAvailable&&this.periodChanged.next(a)}_getDisabledTimeByPeriod(a){switch(this.activeTimeUnit){case Ce.HOUR:return ne.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:a});case Ce.MINUTE:return ne.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:a});default:throw new Error("no such NgxMatTimepickerUnits")}}_isSwitchPeriodAvailable(a){return!this._getDisabledTimeByPeriod(a).every(o=>o.disabled)}}return m.\u0275fac=function(a){return new(a||m)(i.Y36(e.aV))},m.\u0275cmp=i.Xpm({type:m,selectors:[["ngx-mat-timepicker-period"]],inputs:{activeTimeUnit:"activeTimeUnit",format:"format",hours:"hours",maxTime:"maxTime",meridiems:"meridiems",minTime:"minTime",minutes:"minutes",selectedHour:"selectedHour",selectedPeriod:"selectedPeriod"},outputs:{periodChanged:"periodChanged"},standalone:!0,features:[i.jDz],decls:7,vars:12,consts:[["cdkOverlayOrigin","",1,"timepicker-period"],["eventPanelOrigin","cdkOverlayOrigin"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["cdkConnectedOverlay","","cdkConnectedOverlayPanelClass","todo-remove-pointer-events-if-necessary",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayPositionStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(a,_){if(1&a&&(i.TgZ(0,"div",0,1)(2,"button",2),i.NdJ("click",function(){return _.changePeriod(_.timePeriod.AM)}),i._uU(3),i.qZA(),i.TgZ(4,"button",2),i.NdJ("click",function(){return _.changePeriod(_.timePeriod.PM)}),i._uU(5),i.qZA()(),i.YNc(6,Ai,1,1,"ng-template",3)),2&a){const o=i.MAs(1);i.xp6(2),i.Q6J("ngClass",i.VKq(8,so,_.selectedPeriod===_.timePeriod.AM)),i.xp6(1),i.Oqu(_.meridiems[0]),i.xp6(1),i.Q6J("ngClass",i.VKq(10,so,_.selectedPeriod===_.timePeriod.PM)),i.xp6(1),i.Oqu(_.meridiems[1]),i.xp6(1),i.Q6J("cdkConnectedOverlayScrollStrategy",_.overlayScrollStrategy)("cdkConnectedOverlayPositionStrategy",_.overlayPositionStrategy)("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",!_.isPeriodAvailable)}},dependencies:[e.xu,Dt.mk,e.pI,Dt.O5],styles:[".timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{opacity:.5;padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;user-select:none;outline:none;border-radius:3px;transition:background-color .5s;color:inherit}.timepicker-period__btn.active[_ngcontent-%COMP%]{opacity:1}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:#00000012}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:#0000008c;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:700;color:#fff}"],data:{animation:[(0,Xe.X$)("scaleInOut",[(0,Xe.eR)(":enter",[(0,Xe.oB)({transform:"scale(0)"}),(0,Xe.jt)(".2s",(0,Xe.oB)({transform:"scale(1)"})),(0,Xe.vP)([(0,Xe.jt)("3s",(0,Xe.oB)({opacity:1})),(0,Xe.jt)(".3s",(0,Xe.oB)({opacity:0}))])])])]}}),m})(),Qn=(()=>{class m{get _locale(){return this._timepickerLocaleSrv.locale}constructor(a){this._timepickerLocaleSrv=a,this._numberingSystem=lt.local().setLocale(this._locale).resolvedLocaleOptions().numberingSystem}transform(a,_=Ce.HOUR){return null==a||""===a?"":isNaN(+a)?_===Ce.MINUTE?this._parseTime(a,"mm",co.minute).toString():this._parseTime(a,"HH",co.hour).toString():`${a}`}_parseTime(a,_,o){const d=lt.fromFormat(String(a),_,{numberingSystem:this._numberingSystem})[o];if(!isNaN(d))return d;throw new Error(`Cannot parse time - ${a}`)}}return m.\u0275fac=function(a){return new(a||m)(i.Y36(en,16))},m.\u0275pipe=i.Yjl({name:"ngxMatTimepickerParser",type:m,pure:!0,standalone:!0}),m.\u0275prov=i.Yz7({token:m,factory:m.\u0275fac}),m})(),Hs=(()=>{class m{constructor(a,_){this._element=a,this._document=_,this._activeElement=this._document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this._element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this._activeElement.focus({preventScroll:!0}))}}return m.\u0275fac=function(a){return new(a||m)(i.Y36(i.SBq),i.Y36(Dt.K0,8))},m.\u0275dir=i.lG2({type:m,selectors:[["","ngxMatTimepickerAutofocus",""]],inputs:{isFocusActive:["ngxMatTimepickerAutofocus","isFocusActive"]},standalone:!0,features:[i.TTD]}),m})();function Li(){this.selectionStart=this.selectionEnd}let Ei=(()=>{class m{get _selectedTime(){if(this.time)return this.timeList.find(a=>a.time===+this.time)}constructor(a,_){this._elRef=a,this._timeParserPipe=_,this.focused=new i.vpe,this.timeChanged=new i.vpe,this.timeUnitChanged=new i.vpe,this.unfocused=new i.vpe}changeTimeByKeyboard(a){const _=String.fromCharCode(a.keyCode);(function Gs(m,r,a){if(/\d/.test(r))return Di(m+r,a)})(this.time,_,this.timeList)&&a.preventDefault()}ngAfterViewInit(){this._elRef.nativeElement.querySelector("input").addEventListener("select",Li,!1)}ngOnDestroy(){this._elRef.nativeElement.querySelector("input").removeEventListener("select",Li)}onKeydown(a){ne.isDigit(a)?this._changeTimeByArrow(a.keyCode):a.preventDefault()}onModelChange(a){this.time=this._timeParserPipe.transform(a,this.timeUnit)}saveTimeAndChangeTimeUnit(a,_){a.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(_),this.focused.next()}updateTime(){this._selectedTime&&(this.timeChanged.next(this._selectedTime),this.previousTime=this._selectedTime.time)}_addTime(a){return`0${+this.time+a}`.substr(-2)}_changeTimeByArrow(a){let _;38===a?_=this._addTime(this.minutesGap||1):40===a&&(_=this._addTime(-1*(this.minutesGap||1))),Di(_,this.timeList)||(this.time=_,this.updateTime())}}return m.\u0275fac=function(a){return new(a||m)(i.Y36(i.SBq),i.Y36(Qn))},m.\u0275cmp=i.Xpm({type:m,selectors:[["ngx-mat-timepicker-dial-control"]],inputs:{disabled:"disabled",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{focused:"focused",timeChanged:"timeChanged",timeUnitChanged:"timeUnitChanged",unfocused:"unfocused"},standalone:!0,features:[i._Bn([Qn]),i.jDz],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus","keydown","keypress"]],template:function(a,_){if(1&a&&(i.YNc(0,ns,2,10,"input",0),i.YNc(1,os,3,13,"ng-template",null,1,i.W1O)),2&a){const o=i.MAs(2);i.Q6J("ngIf",!_.isEditable)("ngIfElse",o)}},dependencies:[Dt.O5,be.u5,be.Fj,be.JJ,be.On,Dt.mk,Hs,Qn,Lo],styles:[".timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:center;color:inherit}.timepicker-dial__control[_ngcontent-%COMP%]:focus{outline:none;background-color:#0000001a}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]}),m})();function Di(m,r){const a=r.find(_=>_.time===+m);return!a||a&&a.disabled}let ai,ii=(()=>{class m{set color(a){this._color=a}get color(){return this._color}get hourString(){return`${this.hour}`}get minuteString(){return`${this.minute}`}get _locale(){return this._localeSrv.locale}constructor(a){this._localeSrv=a,this.hourChanged=new i.vpe,this.meridiems=eo.meridiems({locale:this._locale}),this.minuteChanged=new i.vpe,this.periodChanged=new i.vpe,this.timeUnit=Ce,this.timeUnitChanged=new i.vpe,this._color="primary"}changeHour(a){this.hourChanged.next(a)}changeMinute(a){this.minuteChanged.next(a)}changePeriod(a){this.periodChanged.next(a)}changeTimeUnit(a){this.timeUnitChanged.next(a)}hideHint(){this.isHintVisible=!1}ngOnChanges(a){const _=a.period&&a.period.currentValue;if(_||a.format&&a.format.currentValue){const o=ne.getHours(this.format);this.hours=ne.disableHours(o,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(_||a.hour&&a.hour.currentValue){const o=ne.getMinutes(this.minutesGap);this.minutes=ne.disableMinutes(o,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}showHint(){this.isHintVisible=!0}}return m.\u0275fac=function(a){return new(a||m)(i.Y36(en))},m.\u0275cmp=i.Xpm({type:m,selectors:[["ngx-mat-timepicker-dial"]],inputs:{activeTimeUnit:"activeTimeUnit",color:"color",editableHintTmpl:"editableHintTmpl",format:"format",hour:"hour",hoursOnly:"hoursOnly",isEditable:"isEditable",maxTime:"maxTime",minTime:"minTime",minute:"minute",minutesGap:"minutesGap",period:"period"},outputs:{hourChanged:"hourChanged",minuteChanged:"minuteChanged",periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged"},standalone:!0,features:[i.TTD,i.jDz],decls:9,vars:14,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],["class","timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(a,_){1&a&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-mat-timepicker-dial-control",3),i.NdJ("timeUnitChanged",function(d){return _.changeTimeUnit(d)})("timeChanged",function(d){return _.changeHour(d)})("focused",function(){return _.showHint()})("unfocused",function(){return _.hideHint()}),i.qZA(),i.TgZ(4,"span"),i._uU(5,":"),i.qZA(),i.TgZ(6,"ngx-mat-timepicker-dial-control",4),i.NdJ("timeUnitChanged",function(d){return _.changeTimeUnit(d)})("timeChanged",function(d){return _.changeMinute(d)})("focused",function(){return _.showHint()})("unfocused",function(){return _.hideHint()}),i.qZA()(),i.YNc(7,is,1,9,"ngx-mat-timepicker-period",5),i.qZA(),i.YNc(8,ls,4,4,"div",6),i.qZA()),2&a&&(i.xp6(3),i.Q6J("timeList",_.hours)("time",_.hourString)("timeUnit",_.timeUnit.HOUR)("isActive",_.activeTimeUnit===_.timeUnit.HOUR)("isEditable",_.isEditable),i.xp6(3),i.Q6J("timeList",_.minutes)("time",_.minuteString)("timeUnit",_.timeUnit.MINUTE)("isActive",_.activeTimeUnit===_.timeUnit.MINUTE)("isEditable",_.isEditable)("minutesGap",_.minutesGap)("disabled",_.hoursOnly),i.xp6(1),i.Q6J("ngIf",24!==_.format),i.xp6(1),i.Q6J("ngIf",_.isEditable||_.editableHintTmpl))},dependencies:[Ei,Dt.O5,Ys,Dt.mk,Dt.tP],styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:center}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),m})(),Pi=(()=>{class m{}return m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=i.Xpm({type:m,selectors:[["ngx-mat-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},standalone:!0,features:[i.jDz],ngContentSelectors:ps,decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[4,"ngTemplateOutlet"]],template:function(a,_){if(1&a&&(i.F$t(),i.YNc(0,_s,2,1,"div",0),i.YNc(1,ds,1,1,"ng-template",null,1,i.W1O),i.YNc(3,us,1,0,"ng-template",null,2,i.W1O)),2&a){const o=i.MAs(2);i.Q6J("ngIf",_.appendToInput)("ngIfElse",o)}},dependencies:[Dt.O5,Dt.tP],encapsulation:2}),m})(),zi=(()=>{class m extends Mi{constructor(a,_,o,d,n){super(o,d,n,a),this.data=a,this._dialogRef=_}close(){this._dialogRef.close()}}return m.\u0275fac=function(a){return new(a||m)(i.Y36(Ke.WI),i.Y36(Ke.so),i.Y36(lo),i.Y36(jo),i.Y36(en))},m.\u0275cmp=i.Xpm({type:m,selectors:[["ngx-mat-timepicker-dialog"]],standalone:!0,features:[i.qOj,i.jDz],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["mat-dialog-content",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],["mat-dialog-actions",""],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(a,_){if(1&a&&(i.YNc(0,gs,2,1,"ng-template",null,0,i.W1O),i.YNc(2,hs,2,1,"ng-template",null,1,i.W1O),i.TgZ(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),i.NdJ("periodChanged",function(d){return _.changePeriod(d)})("timeUnitChanged",function(d){return _.changeTimeUnit(d)})("hourChanged",function(d){return _.onHourChange(d)})("minuteChanged",function(d){return _.onMinuteChange(d)}),i.ALo(9,"async"),i.ALo(10,"async"),i.ALo(11,"async"),i.qZA()(),i.TgZ(12,"div",7)(13,"div",8),i.YNc(14,vs,4,2,"div",9),i.YNc(15,bs,4,14,"ngx-mat-timepicker-minutes-face",10),i.qZA()()()()(),i.TgZ(16,"div",11)(17,"div",12),i.NdJ("click",function(){return _.close()}),i.YNc(18,Cs,1,0,"ng-container",13),i.qZA(),i.TgZ(19,"div",12),i.NdJ("click",function(){return _.setTime()}),i.YNc(20,Ts,1,0,"ng-container",13),i.qZA()()),2&a){const o=i.MAs(1),d=i.MAs(3);let n,c;i.xp6(5),i.Q6J("appendToInput",_.data.appendToInput)("inputElement",_.data.inputElement),i.xp6(1),i.Q6J("ngClass",_.data.timepickerClass),i.xp6(1),i.ekj("is-editable",_.data.enableKeyboardInput),i.Q6J("color",_.color),i.xp6(1),i.Q6J("color",_.color)("format",_.data.format)("hour",null==(n=i.lcZ(9,23,_.selectedHour))?null:n.time)("minute",null==(c=i.lcZ(10,25,_.selectedMinute))?null:c.time)("period",i.lcZ(11,27,_.selectedPeriod))("activeTimeUnit",_.activeTimeUnit)("minTime",_.data.minTime)("maxTime",_.data.maxTime)("isEditable",_.data.enableKeyboardInput)("editableHintTmpl",_.data.editableHintTmpl)("minutesGap",_.data.minutesGap)("hoursOnly",_.data.hoursOnly),i.xp6(5),i.Q6J("ngSwitch",_.activeTimeUnit),i.xp6(1),i.Q6J("ngSwitchCase",_.timeUnit.HOUR),i.xp6(1),i.Q6J("ngSwitchCase",_.timeUnit.MINUTE),i.xp6(3),i.Q6J("ngTemplateOutlet",_.data.cancelBtnTmpl?_.data.cancelBtnTmpl:o),i.xp6(2),i.Q6J("ngTemplateOutlet",_.data.confirmBtnTmpl?_.data.confirmBtnTmpl:d)}},dependencies:[Dt.Ov,Dt.mk,Dt.O5,Dt.RF,Dt.n9,Dt.tP,$e.ot,$e.lW,Ke.Is,Ke.xY,Ke.H8,Sn.g0,Sn.Ye,Pi,ii,oi,ni,ei],styles:["div.ngx-mat-timepicker-dialog>mat-dialog-container{padding-top:0}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content]{padding:0;max-height:85vh}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header.is-editable{height:auto}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] .clock-face{margin:16px}div.ngx-mat-timepicker-dialog>mat-dialog-container div[mat-dialog-actions]{justify-content:flex-end;display:flex}\n"],encapsulation:2}),m})(),Ui=(()=>{class m extends Mi{constructor(a,_,o,d){super(_,o,d,a),this.data=a}close(){this.data.timepickerBaseRef.close()}}return m.\u0275fac=function(a){return new(a||m)(i.Y36(ro),i.Y36(lo),i.Y36(jo),i.Y36(en))},m.\u0275cmp=i.Xpm({type:m,selectors:[["ngx-mat-timepicker-standalone"]],hostVars:2,hostBindings:function(a,_){2&a&&i.ekj("mat-app-background",!0)},standalone:!0,features:[i.qOj,i.jDz],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["cdkTrapFocus",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"ngx-mat-timepicker-standalone-actions"],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(a,_){if(1&a&&(i.YNc(0,Si,2,1,"ng-template",null,0,i.W1O),i.YNc(2,ks,2,1,"ng-template",null,1,i.W1O),i.TgZ(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),i.NdJ("periodChanged",function(d){return _.changePeriod(d)})("timeUnitChanged",function(d){return _.changeTimeUnit(d)})("hourChanged",function(d){return _.onHourChange(d)})("minuteChanged",function(d){return _.onMinuteChange(d)}),i.ALo(9,"async"),i.ALo(10,"async"),i.ALo(11,"async"),i.qZA()(),i.TgZ(12,"div",7)(13,"div",8),i.YNc(14,ys,4,2,"div",9),i.YNc(15,Zs,4,14,"ngx-mat-timepicker-minutes-face",10),i.qZA()()()(),i.TgZ(16,"div",11)(17,"div",12),i.NdJ("click",function(){return _.close()}),i.YNc(18,As,1,0,"ng-container",13),i.qZA(),i.TgZ(19,"div",12),i.NdJ("click",function(){return _.setTime()}),i.YNc(20,Ii,1,0,"ng-container",13),i.qZA()()()),2&a){const o=i.MAs(1),d=i.MAs(3);let n,c;i.xp6(5),i.Q6J("appendToInput",_.data.appendToInput)("inputElement",_.data.inputElement),i.xp6(1),i.Q6J("ngClass",_.data.timepickerClass),i.xp6(1),i.ekj("is-editable",_.data.enableKeyboardInput),i.Q6J("color",_.color),i.xp6(1),i.Q6J("color",_.color)("format",_.data.format)("hour",null==(n=i.lcZ(9,23,_.selectedHour))?null:n.time)("minute",null==(c=i.lcZ(10,25,_.selectedMinute))?null:c.time)("period",i.lcZ(11,27,_.selectedPeriod))("activeTimeUnit",_.activeTimeUnit)("minTime",_.data.minTime)("maxTime",_.data.maxTime)("isEditable",_.data.enableKeyboardInput)("editableHintTmpl",_.data.editableHintTmpl)("minutesGap",_.data.minutesGap)("hoursOnly",_.data.hoursOnly),i.xp6(5),i.Q6J("ngSwitch",_.activeTimeUnit),i.xp6(1),i.Q6J("ngSwitchCase",_.timeUnit.HOUR),i.xp6(1),i.Q6J("ngSwitchCase",_.timeUnit.MINUTE),i.xp6(3),i.Q6J("ngTemplateOutlet",_.data.cancelBtnTmpl?_.data.cancelBtnTmpl:o),i.xp6(2),i.Q6J("ngTemplateOutlet",_.data.confirmBtnTmpl?_.data.confirmBtnTmpl:d)}},dependencies:[$e.ot,$e.lW,tn.rt,tn.mK,Pi,Dt.mk,Sn.g0,Sn.Ye,ii,Dt.RF,Dt.n9,Dt.O5,oi,ni,ei,Dt.tP,Dt.Ov],styles:["ngx-mat-timepicker-standalone{display:block;border-radius:4px;box-shadow:0 0 5px 2px #00000040;overflow:hidden}ngx-mat-timepicker-standalone ngx-mat-timepicker-content{display:block}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header.is-editable{height:auto}ngx-mat-timepicker-standalone ngx-mat-timepicker-content .clock-face{margin:16px}ngx-mat-timepicker-standalone .ngx-mat-timepicker-standalone-actions{display:flex;flex-direction:row;justify-content:flex-end;padding:0 16px 16px}\n"],encapsulation:2}),m})(),si=(()=>{class m{set appendToInput(a){this._appendToInput=(0,O.Ig)(a)}set color(a){this._color=a}get color(){return this._color}get disabled(){return this._timepickerInput&&this._timepickerInput.disabled}set enableKeyboardInput(a){this._enableKeyboardInput=(0,O.Ig)(a)}get enableKeyboardInput(){return this._enableKeyboardInput}get format(){return this._timepickerInput?this._timepickerInput.format:this._format}set format(a){this._format=Ht.isTwentyFour(a)?24:12}get inputElement(){return this._timepickerInput&&this._timepickerInput.element}get maxTime(){return this._timepickerInput?this._timepickerInput.max:this.max}get minTime(){return this._timepickerInput?this._timepickerInput.min:this.min}get minutesGap(){return this._minutesGap}set minutesGap(a){null!=a&&(a=Math.floor(a),this._minutesGap=a<=59?a:1)}get overlayOrigin(){return this._timepickerInput?this._timepickerInput.cdkOverlayOrigin:void 0}get time(){return this._timepickerInput&&this._timepickerInput.value}constructor(a,_,o){this._eventService=a,this._dialog=_,this._overlay=o,this.closed=new i.vpe,this.hourSelected=new i.vpe,this.hoursOnly=!1,this.id="ngx_mat_timepicker_"+ ++m.nextId,this.isEsc=!0,this.opened=new i.vpe,this.overlayPositions=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:0},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:0}],this.showPicker=!1,this.timeChanged=new i.vpe,this.timeSet=new i.vpe,this.timeUpdated=new Jn.X(void 0),this._appendToInput=!1,this._color="primary",this._enableKeyboardInput=!1,this._format=12}close(){this._appendToInput?this._overlayRef&&this._overlayRef.dispose():this._dialogRef&&this._dialogRef.close(),this.inputElement.focus(),this.showPicker=!1,this.closed.emit()}open(){ai={timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this._appendToInput,hoursOnly:this.hoursOnly,timepickerClass:this.timepickerClass,inputElement:this.inputElement,color:this.color},this._appendToInput?this.showPicker=!0:(this._dialogRef=this._dialog.open(zi,{panelClass:"ngx-mat-timepicker-dialog",data:{...ai}}),this._dialogRef.afterClosed().subscribe(()=>{this.closed.emit()})),this.opened.emit()}registerInput(a){if(this._timepickerInput)throw console.warn("Input for this timepicker was already set",a.element),Error("A Timepicker can only be associated with a single input.");this._timepickerInput=a}unregisterInput(){this._timepickerInput=void 0}updateTime(a){this.timeUpdated.next(a)}}return m.nextId=0,m.\u0275fac=function(a){return new(a||m)(i.Y36(jo),i.Y36(Ke.uw),i.Y36(e.aV))},m.\u0275cmp=i.Xpm({type:m,selectors:[["ngx-mat-timepicker"]],hostVars:1,hostBindings:function(a,_){2&a&&i.Ikx("id",_.id)},inputs:{appendToInput:"appendToInput",color:"color",enableKeyboardInput:"enableKeyboardInput",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",defaultTime:"defaultTime",disableAnimation:"disableAnimation",editableHintTmpl:"editableHintTmpl",hoursOnly:"hoursOnly",isEsc:"isEsc",max:"max",min:"min",preventOverlayClick:"preventOverlayClick",timepickerClass:"timepickerClass"},outputs:{closed:"closed",hourSelected:"hourSelected",opened:"opened",timeChanged:"timeChanged",timeSet:"timeSet"},standalone:!0,features:[i._Bn([{provide:ro,useFactory:()=>ai}]),i.jDz],decls:1,vars:4,consts:[["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","backdropClick"]],template:function(a,_){1&a&&(i.YNc(0,Ss,1,0,"ng-template",0),i.NdJ("backdropClick",function(){return _.close()})),2&a&&i.Q6J("cdkConnectedOverlayPositions",_.overlayPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayOrigin",_.overlayOrigin)("cdkConnectedOverlayOpen",_.showPicker)},dependencies:[e.pI,Ui],encapsulation:2}),m})(),Fi=(()=>{class m{}return m.\u0275fac=function(a){return new(a||m)},m.\u0275dir=i.lG2({type:m,selectors:[["","ngxMatTimepickerToggleIcon",""]],standalone:!0}),m})(),Ji=(()=>{class m{get disabled(){return void 0===this._disabled?this.timepicker?.disabled:this._disabled}set disabled(a){this._disabled=a}open(a){this.timepicker&&(this.timepicker.open(),a.stopPropagation())}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275cmp=i.Xpm({type:m,selectors:[["ngx-mat-timepicker-toggle"]],contentQueries:function(a,_,o){if(1&a&&i.Suo(o,Fi,7),2&a){let d;i.iGM(d=i.CRH())&&(_.customIcon=d.first)}},inputs:{disabled:"disabled",timepicker:["for","timepicker"]},standalone:!0,features:[i.jDz],ngContentSelectors:Ms,decls:3,vars:2,consts:[["color","","mat-icon-button","","type","button",1,"ngx-mat-timepicker-toggle","mat-elevation-z0",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","class","ngx-mat-timepicker-toggle-default-icon","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",1,"ngx-mat-timepicker-toggle-default-icon"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(a,_){1&a&&(i.F$t(Ns),i.TgZ(0,"button",0),i.NdJ("click",function(d){return _.open(d)}),i.YNc(1,Is,2,0,"svg",1),i.Hsn(2),i.qZA()),2&a&&(i.Q6J("disabled",_.disabled),i.xp6(1),i.Q6J("ngIf",!_.customIcon))},dependencies:[$e.ot,$e.RK,Dt.O5],styles:["button.ngx-mat-timepicker-toggle{background-color:transparent;text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer;box-shadow:none}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{margin:auto}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}body .ngx-mat-timepicker-toggle{color:#0000008a}\n"],encapsulation:2}),m})(),qi=(()=>{class m{set color(a){this._color=a}get color(){return this._color}set floatLabel(a){this._floatLabel=a}get floatLabel(){return this._floatLabel}constructor(a){this._timeParser=a,this.id=m.nextId++,this.timeChanged=new i.vpe,this._color="primary",this._floatLabel="auto"}changeTime(a){a.stopPropagation();const _=a.data,o=function Rs(m,r){if(/\d/.test(r))return+(m+r)}(String(this.time),_);this._changeTimeIfValid(o)}decrease(){if(!this.disabled){let a=+this.time-1;a<this.min&&(a=this.max),this._isSelectedTimeDisabled(a)&&(a=this._getAvailableTime(a,this._getPrevAvailableTime.bind(this))),a!==this.time&&this.timeChanged.emit(a)}}increase(){if(!this.disabled){let a=+this.time+1;a>this.max&&(a=this.min),this._isSelectedTimeDisabled(a)&&(a=this._getAvailableTime(a,this._getNextAvailableTime.bind(this))),a!==this.time&&this.timeChanged.emit(a)}}ngOnChanges(a){a.timeList&&null!=this.time&&this._isSelectedTimeDisabled(this.time)&&this._setAvailableTime()}onBlur(){this.isFocused=!1,this._previousTime!==this.time&&this._changeTimeIfValid(+this.time)}onFocus(){this.isFocused=!0,this._previousTime=this.time}onKeydown(a){switch(a.stopPropagation(),ne.isDigit(a)||a.preventDefault(),a.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==a.key&&a.preventDefault()}onModelChange(a){this.time=+this._timeParser.transform(a,this.timeUnit)}_changeTimeIfValid(a){if(!isNaN(a)){if(this.time=a,this.time>this.max){const _=String(a);this.time=+_[_.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}_getAvailableTime(a,_){return _(this.timeList.findIndex(n=>n.time===a))??this.time}_getNextAvailableTime(a){const _=this.timeList,o=_.length;for(let d=a+1;d<o;d++){const n=_[d];if(!n.disabled)return n.time}}_getPrevAvailableTime(a){for(let _=a;_>=0;_--){const o=this.timeList[_];if(!o.disabled)return o.time}}_isSelectedTimeDisabled(a){return this.timeList.find(_=>_.time===a).disabled}_setAvailableTime(){this.time=this.timeList.find(a=>!a.disabled).time,this.timeChanged.emit(this.time)}}return m.nextId=0,m.\u0275fac=function(a){return new(a||m)(i.Y36(Qn))},m.\u0275cmp=i.Xpm({type:m,selectors:[["ngx-mat-timepicker-time-control"]],inputs:{color:"color",disabled:"disabled",floatLabel:"floatLabel",max:"max",min:"min",placeholder:"placeholder",preventTyping:"preventTyping",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[i._Bn([Qn]),i.TTD,i.jDz],decls:13,vars:17,consts:[[1,"ngx-mat-timepicker-control",3,"color","floatLabel","ngClass"],["matInput","","maxlength","2",3,"id","name","ngModel","placeholder","disabled","ngModelChange","keydown","beforeinput","focus","blur"],["matSuffix","",1,"arrows-wrap"],["role","button",1,"arrow",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","18","viewBox","0 0 24 24","width","18"],["d","M0 0h24v24H0z","fill","none"],["d","M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"],["d","M0 0h24v24H0V0z","fill","none"],["d","M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"]],template:function(a,_){1&a&&(i.TgZ(0,"mat-form-field",0)(1,"input",1),i.NdJ("ngModelChange",function(d){return _.onModelChange(d)})("keydown",function(d){return _.onKeydown(d)})("beforeinput",function(d){return _.changeTime(d)})("focus",function(){return _.onFocus()})("blur",function(){return _.onBlur()}),i.ALo(2,"timeLocalizer"),i.ALo(3,"ngxMatTimepickerParser"),i.qZA(),i.TgZ(4,"div",2)(5,"span",3),i.NdJ("click",function(){return _.increase()}),i.O4$(),i.TgZ(6,"svg",4),i._UZ(7,"path",5)(8,"path",6),i.qZA()(),i.kcU(),i.TgZ(9,"span",3),i.NdJ("click",function(){return _.decrease()}),i.O4$(),i.TgZ(10,"svg",4),i._UZ(11,"path",7)(12,"path",8),i.qZA()()()()),2&a&&(i.Q6J("color",_.color)("floatLabel",_.floatLabel)("ngClass",i.VKq(15,so,_.isFocused)),i.xp6(1),i.MGl("id","ngx_mat_timepicker_field_",_.id,"")("name","ngx_mat_timepicker_field_",_.id,""),i.Q6J("ngModel",i.Dn7(2,8,i.xi3(3,12,_.time,_.timeUnit),_.timeUnit,!0))("placeholder",_.placeholder)("disabled",_.disabled))},dependencies:[In.lN,In.KE,In.R9,Dt.mk,Xo.c,Xo.Nt,be.u5,be.Fj,be.JJ,be.nD,be.On,Qn,Lo],styles:[".ngx-mat-timepicker-control[_ngcontent-%COMP%]{width:60px;min-width:60px}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%]{position:relative;z-index:1}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{text-align:center;opacity:.5;height:15px;cursor:pointer;transition:opacity .2s;-webkit-user-select:none;user-select:none}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0}),m})(),Vs=(()=>{class m{get color(){return this._color}set color(a){this._color=a}get defaultTime(){return this._defaultTime}set defaultTime(a){this._defaultTime=a,this._isDefaultTime=!!a}get floatLabel(){return this._floatLabel}set floatLabel(a){this._floatLabel=a}get format(){return this._format}set format(a){Ht.isTwentyFour(a)?(this._format=24,this.minHour=0,this.maxHour=23):(this._format=12,this.minHour=1,this.maxHour=12),this.hoursList=ne.getHours(this._format),a&&this._previousFormat&&this._previousFormat!==this._format&&this._updateTime(this.timepickerTime),this._previousFormat=this._format}get max(){return this._max}set max(a){this._max="string"!=typeof a?a:Ht.parseTime(a,{locale:this._locale,format:this.format})}get min(){return this._min}set min(a){this._min="string"!=typeof a?a:Ht.parseTime(a,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(a,_){this._timepickerService=a,this._timepickerLocaleSrv=_,this.hour$=new Jn.X(void 0),this.maxHour=12,this.minHour=1,this.minute$=new Jn.X(void 0),this.period=pe.AM,this.periods=[pe.AM,pe.PM],this.timeChanged=new i.vpe,this.timeUnit=Ce,this._color="primary",this._floatLabel="auto",this._format=12,this._isFirstTimeChange=!0,this._subsCtrl$=new no.x,this._onChange=()=>{},this._onTouched=()=>{}}changeHour(a){this._timepickerService.hour=this.hoursList.find(_=>_.time===a),this._changeTime()}changeMinute(a){this._timepickerService.minute=this.minutesList.find(_=>_.time===a),this._changeTime()}changePeriod(a){this._timepickerService.period=a.value,this._changeTime()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._initTime(this.defaultTime),this.hoursList=ne.getHours(this._format),this.minutesList=ne.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this._timepickerService.selectedHour.pipe((0,io.b)(a=>this._selectedHour=a?.time),(0,Oi.U)(this._changeDefaultTimeValue.bind(this)),(0,io.b)(()=>this.isTimeRangeSet&&this._updateAvailableMinutes())).subscribe({next:a=>this.hour$.next(a)}),this._timepickerService.selectedMinute.pipe((0,Oi.U)(this._changeDefaultTimeValue.bind(this)),(0,io.b)(()=>this._isFirstTimeChange=!1)).subscribe({next:a=>this.minute$.next(a)}),12===this.format&&this._timepickerService.selectedPeriod.pipe((0,Fa.x)(),(0,io.b)(a=>this.period=a),(0,io.b)(a=>this.isChangePeriodDisabled=this._isPeriodDisabled(a)),(0,Ko.R)(this._subsCtrl$)).subscribe(()=>this.isTimeRangeSet&&this._updateAvailableTime())}onTimeSet(a){this._updateTime(a),this._emitLocalTimeChange(a)}registerOnChange(a){this._onChange=a}registerOnTouched(a){this._onTouched=a}setDisabledState(a){this.disabled=a}writeValue(a){a?this._initTime(a):this._resetTime()}_changeDefaultTimeValue(a){return!this._isDefaultTime&&this._isFirstTimeChange?{...a,time:null}:a}_changeTime(){if(!isNaN(this.hour$.getValue()?.time)&&!isNaN(this.minute$.getValue()?.time)){const a=this._timepickerService.getFullTime(this.format);this.timepickerTime=a,this._emitLocalTimeChange(a)}}_emitLocalTimeChange(a){const _=Ht.toLocaleTimeString(a,{format:this.format,locale:this._locale});this._onChange(_),this._onTouched(_),this.timeChanged.emit(_)}_initTime(a){if(!Ht.isTimeAvailable(a,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this._updateTime(Ht.fromDateTimeToString(this.min,this.format));if(this.max)return void this._updateTime(Ht.fromDateTimeToString(this.max,this.format))}this._updateTime(a)}_isPeriodDisabled(a){return ne.disableHours(ne.getHours(12),{min:this.min,max:this.max,format:12,period:a===pe.AM?pe.PM:pe.AM}).every(_=>_.disabled)}_resetTime(){this._timepickerService.hour={angle:0,time:null},this._timepickerService.minute={angle:0,time:null}}_updateAvailableHours(){this.hoursList=ne.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableMinutes(){this.minutesList=ne.disableMinutes(this.minutesList,this._selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableTime(){this._updateAvailableHours(),this._selectedHour&&this._updateAvailableMinutes()}_updateTime(a){if(a){const _=Ht.formatTime(a,{locale:this._locale,format:this.format});this._timepickerService.setDefaultTimeIfAvailable(_,this.min,this.max,this.format),this.timepickerTime=_}}}return m.\u0275fac=function(a){return new(a||m)(i.Y36(lo),i.Y36(en))},m.\u0275cmp=i.Xpm({type:m,selectors:[["ngx-mat-timepicker-field"]],inputs:{color:"color",defaultTime:"defaultTime",floatLabel:"floatLabel",format:"format",max:"max",min:"min",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",controlOnly:"controlOnly",disabled:"disabled",toggleIcon:"toggleIcon"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[i._Bn([lo,{provide:be.JU,useExisting:m,multi:!0}]),i.jDz],decls:11,vars:32,consts:[[1,"ngx-mat-timepicker",3,"ngClass"],[1,"ngx-mat-timepicker__control--first",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],[1,"separator-colon","ngx-mat-timepicker__control--second"],[1,"ngx-mat-timepicker__control--third",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],["class","period-select ngx-mat-timepicker__control--forth",3,"color",4,"ngIf"],["class","ngx-mat-timepicker__toggle",3,"for","disabled",4,"ngIf"],[3,"color","min","max","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl","timeSet"],["timepicker",""],["defaultIcon",""],[1,"period-select","ngx-mat-timepicker__control--forth",3,"color"],[3,"disabled","ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ngx-mat-timepicker__toggle",3,"for","disabled"],["ngxMatTimepickerToggleIcon",""],[4,"ngTemplateOutlet"]],template:function(a,_){if(1&a&&(i.TgZ(0,"div",0)(1,"ngx-mat-timepicker-time-control",1),i.NdJ("timeChanged",function(d){return _.changeHour(d)}),i.qZA(),i.TgZ(2,"span",2),i._uU(3,":"),i.qZA(),i.TgZ(4,"ngx-mat-timepicker-time-control",3),i.NdJ("timeChanged",function(d){return _.changeMinute(d)}),i.qZA(),i.YNc(5,Ls,3,4,"mat-form-field",4),i.YNc(6,Ds,3,3,"ngx-mat-timepicker-toggle",5),i.qZA(),i.TgZ(7,"ngx-mat-timepicker",6,7),i.NdJ("timeSet",function(d){return _.onTimeSet(d)}),i.qZA(),i.YNc(9,Ps,2,0,"ng-template",null,8,i.W1O)),2&a){let o,d;i.Q6J("ngClass",i.VKq(30,zs,_.disabled)),i.xp6(1),i.Q6J("color",_.color)("floatLabel",_.floatLabel)("placeholder","HH")("time",null==(o=_.hour$.getValue())?null:o.time)("min",_.minHour)("max",_.maxHour)("timeUnit",_.timeUnit.HOUR)("disabled",_.disabled)("timeList",_.hoursList)("preventTyping",_.isTimeRangeSet),i.xp6(3),i.Q6J("color",_.color)("floatLabel",_.floatLabel)("placeholder","MM")("time",null==(d=_.minute$.getValue())?null:d.time)("min",0)("max",59)("timeUnit",_.timeUnit.MINUTE)("disabled",_.disabled)("timeList",_.minutesList)("preventTyping",_.isTimeRangeSet),i.xp6(1),i.Q6J("ngIf",24!==_.format),i.xp6(1),i.Q6J("ngIf",!_.controlOnly),i.xp6(1),i.Q6J("color",_.color)("min",_.min)("max",_.max)("defaultTime",_.timepickerTime)("format",_.format)("cancelBtnTmpl",_.cancelBtnTmpl)("confirmBtnTmpl",_.confirmBtnTmpl)}},dependencies:[Dt.mk,qi,Dt.O5,In.lN,In.KE,qn.LD,qn.gD,yi.ey,be.u5,be.JJ,be.On,Dt.ax,yi.Ng,Ji,Fi,Dt.tP,si,$o.Ps,$o.Hw],styles:[".ngx-mat-timepicker{display:flex;align-items:center;height:100%}.ngx-mat-timepicker--disabled{background:rgba(0,0,0,.07);pointer-events:none}.ngx-mat-timepicker .separator-colon{margin-left:5px;margin-right:5px}.ngx-mat-timepicker .period-select{width:60px;min-width:60px;margin-left:8px;text-align:center}.ngx-mat-timepicker__control--first{order:1}.ngx-mat-timepicker__control--second{order:2}.ngx-mat-timepicker__control--third{order:3}.ngx-mat-timepicker__control--forth{order:4}.ngx-mat-timepicker__toggle{order:4;margin-bottom:1.5em;margin-left:4px}.ngx-mat-timepicker__toggle span.mat-button-wrapper{font-size:24px}\n"],encapsulation:2,changeDetection:0}),m})(),Ws=(()=>{class m{get element(){return this._elementRef&&this._elementRef.nativeElement}get format(){return this._format}set format(a){this._format=Ht.isTwentyFour(+a)?24:12,a&&this._previousFormat&&this._previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this._previousFormat=this._format}get max(){return this._max}set max(a){this._max="string"!=typeof a?a:Ht.parseTime(a,{locale:this._locale,format:this.format})}get min(){return this._min}set min(a){this._min="string"!=typeof a?a:Ht.parseTime(a,{locale:this._locale,format:this.format})}set timepicker(a){this._registerTimepicker(a)}get value(){return this._value?Ht.toLocaleTimeString(this._value,{format:this.format,locale:this._locale}):""}set value(a){if(!a)return this._value="",void this._updateInputValue();const _=Ht.formatTime(a,{locale:this._locale,format:this.format});if(Ht.isTimeAvailable(_,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=_,void this._updateInputValue();console.warn("Selected time doesn't match min or max value")}set _defaultTime(a){this._timepicker.defaultTime=Ht.formatTime(a,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(a,_,o){this._elementRef=a,this._timepickerLocaleSrv=_,this._matFormField=o,this.cdkOverlayOrigin=new e.xu(this._matFormField?this._matFormField.getConnectedOverlayOrigin():this._elementRef),this._format=12,this._subsCtrl$=new no.x,this._value="",this.onTouched=()=>{},this._onChange=()=>{}}ngOnChanges(a){const _=a.value;_&&_.currentValue&&(this._defaultTime=_.currentValue)}ngOnDestroy(){this._unregisterTimepicker(),this._subsCtrl$.next(),this._subsCtrl$.complete()}onClick(a){this.disableClick||(this._timepicker.open(),a.stopPropagation())}registerOnChange(a){this._onChange=a}registerOnTouched(a){this.onTouched=a}setDisabledState(a){this.disabled=a}updateValue(a){this.value=a.target.value,this._onChange(this.value)}writeValue(a){this.value=a,a&&(this._defaultTime=a)}_registerTimepicker(a){if(!a)throw new Error("NgxMatTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxMatTimepicker directive");this._timepicker=a,this._timepicker.registerInput(this),this._timepicker.timeSet.pipe((0,Ko.R)(this._subsCtrl$)).subscribe(_=>{this.value=_,this._onChange(this.value),this.onTouched(),this._defaultTime=this._value})}_unregisterTimepicker(){this._timepicker&&this._timepicker.unregisterInput()}_updateInputValue(){this._elementRef.nativeElement.value=this.value}}return m.\u0275fac=function(a){return new(a||m)(i.Y36(i.SBq),i.Y36(en),i.Y36(In.KE,8))},m.\u0275dir=i.lG2({type:m,selectors:[["","ngxMatTimepicker",""]],hostVars:2,hostBindings:function(a,_){1&a&&i.NdJ("blur",function(){return _.onTouched()})("click",function(d){return _.onClick(d)})("change",function(d){return _.updateValue(d)}),2&a&&(i.Ikx("disabled",_.disabled),i.uIk("cdkOverlayOrigin",_.cdkOverlayOrigin))},inputs:{format:"format",max:"max",min:"min",timepicker:["ngxMatTimepicker","timepicker"],value:"value",disableClick:"disableClick",disabled:"disabled"},standalone:!0,features:[i._Bn([{provide:be.JU,useExisting:m,multi:!0}]),i.TTD]}),m})(),Ks=(()=>{class m{static setLocale(a){return{ngModule:m,providers:[{provide:Ni,useValue:a},{provide:ro,useValue:void 0},en]}}}return m.\u0275fac=function(a){return new(a||m)},m.\u0275mod=i.oAB({type:m}),m.\u0275inj=i.cJS({providers:[en,{provide:$e.Ew,useValue:{color:"void"}}],imports:[Dt.ez,tn.rt,be.u5,$e.ot,In.lN,Ke.Is,Xo.c,qn.LD,Sn.g0,$o.Ps,e.U8,Ja.eL,si,ii,Ei,zi,Do,ei,Ui,Ji,ni,oi,Vs,qi]}),m})()}}]);