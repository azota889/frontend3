"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[5199],{50065:(T,S,c)=>{c.d(S,{_:()=>M});var n=c(89163),b=c(33887),e=c(48891),t=c(54460),g=c(5955),a=c(9570),l=c(76975);function s(_,i){if(1&_&&(e.j41(0,"div",20)(1,"b",21),e.EFF(2),e.k0s(),e.j41(3,"div",22),e.nrm(4,"azt-dynamic-hook",12),e.k0s()()),2&_){let o,u;const r=i.$implicit;e.R7$(2),e.SpI("",null!==(o=r.alpha)&&void 0!==o?o:r.key,"."),e.R7$(2),e.Y8G("content",null!==(u=r.content)&&void 0!==u?u:"")}}function m(_,i){if(1&_&&(e.j41(0,"div",18),e.DNE(1,s,5,2,"div",19),e.k0s()),2&_){const o=e.XpG();e.Y8G("answerSizeManager",1),e.R7$(),e.Y8G("ngForOf",null==o.data.obj||null==o.data.obj.question?null:o.data.obj.question.answers)}}function p(_,i){if(1&_&&(e.j41(0,"h2",23),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&_){const o=e.XpG();e.R7$(),e.Lme("",e.bMT(2,2,"lang_auto_dap_an"),": ",null==o.data.obj.question||null==o.data.obj.question.answerResult?null:o.data.obj.question.answerResult.join(", "),"")}}function D(_,i){if(1&_&&(e.j41(0,"div",9)(1,"h2",24),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",25),e.nrm(5,"azt-dynamic-hook",12),e.k0s()()),2&_){let o;const u=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,"lang_auto_loi_giai")," "),e.R7$(3),e.Y8G("content",null!==(o=null==u.data.obj.question?null:u.data.obj.question.help)&&void 0!==o?o:"")}}let M=(()=>{var _;class i extends b._{closeDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit()}constructor(u,r){super(r,u),this.dialogRef=u,this.data=r}}return(_=i).\u0275fac=function(u){return new(u||_)(e.rXU(n.CP,8),e.rXU(n.Vh,8))},_.\u0275cmp=e.VBU({type:_,selectors:[["view-detail-question-share"]],features:[e.Vt3],decls:42,vars:34,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro-y","overflow-auto",2,"max-height","calc(100vh - 100px)"],[1,"text-md","mr-auto"],[1,"text-md","mr-auto","mt-2"],[1,"flex","w-full","mt-2"],[1,"text-md"],[1,"text-md","ml-10"],[1,"border-t","border-slate-200/60","dark:border-darkmode-400","py-2","mt-2"],[1,"font-medium","text-md","text-center","mb-2"],[1,"tex2jax_process","box-content",2,"width","auto"],[3,"content"],["class","grid grid-cols-12 gap-2 answers",3,"answerSizeManager",4,"ngIf"],["class","font-medium text-md text-left text-success my-2",4,"ngIf"],["class","border-t border-slate-200/60 dark:border-darkmode-400 py-2 mt-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","view-detail-question-shared-KfIEXO44141",1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"grid","grid-cols-12","gap-2","answers",3,"answerSizeManager"],["class","answer col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"answer","col-span-12","md:col-span-6"],[1,"answer-label"],[1,"answer-content"],[1,"font-medium","text-md","text-left","text-success","my-2"],[1,"font-medium","text-md","text-center"],[1,"help-content","box","px-3","mt-1",2,"display","inherit","border-top-right-radius","0","border-top-left-radius","0","box-shadow","none","overflow","auto","padding-bottom","20px"]],template:function(u,r){if(1&u&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e.EFF(5),e.nI1(6,"mytranslate"),e.j41(7,"b"),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()(),e.j41(10,"h2",5),e.EFF(11),e.nI1(12,"mytranslate"),e.j41(13,"b"),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()(),e.j41(16,"div",6)(17,"h2",7),e.EFF(18),e.nI1(19,"mytranslate"),e.j41(20,"b"),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s()(),e.j41(23,"h2",8),e.EFF(24),e.nI1(25,"mytranslate"),e.j41(26,"b"),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s()()(),e.j41(29,"div",9)(30,"h2",10),e.EFF(31),e.nI1(32,"mytranslate"),e.k0s(),e.j41(33,"div",11),e.nrm(34,"azt-dynamic-hook",12),e.k0s(),e.DNE(35,m,2,2,"div",13)(36,p,3,4,"h2",14),e.k0s(),e.DNE(37,D,6,4,"div",15),e.k0s()()(),e.j41(38,"div",16)(39,"button",17),e.bIt("click",function(){return r.closeDialog()}),e.EFF(40),e.nI1(41,"mytranslate"),e.k0s()()()),2&u){let f;e.R7$(5),e.SpI(" ",e.bMT(6,14,"lang_test_market_question_info"),": "),e.R7$(3),e.JRh(e.bMT(9,16,r.data.obj.knowledgeName)),e.R7$(3),e.SpI(" ",e.bMT(12,18,"lang_auto_muc_do_nhan_biet"),": "),e.R7$(3),e.JRh(e.bMT(15,20,r.data.obj.questionTagName)),e.R7$(4),e.SpI(" ",e.bMT(19,22,"lang_auto_lop_hoc"),": "),e.R7$(3),e.JRh(e.bMT(22,24,r.data.obj.levelName)),e.R7$(3),e.SpI(" ",e.bMT(25,26,"lang_auto_mon_hoc"),": "),e.R7$(3),e.JRh(e.bMT(28,28,r.data.obj.subjectName)),e.R7$(4),e.SpI(" ",e.bMT(32,30,"lang_auto_noi_dung_cau_hoi")," "),e.R7$(3),e.Y8G("content",null!==(f=null==r.data.obj.question?null:r.data.obj.question.content)&&void 0!==f?f:""),e.R7$(),e.Y8G("ngIf",1==(null==r.data.obj.question?null:r.data.obj.question.answerType)&&(null==r.data.obj.question?null:r.data.obj.question.answers)&&(null==r.data.obj||null==r.data.obj.question?null:r.data.obj.question.answers.length)>0),e.R7$(),e.Y8G("ngIf",null==r.data.obj||null==r.data.obj.question?null:r.data.obj.question.answerResult),e.R7$(),e.Y8G("ngIf",null==r.data.obj||null==r.data.obj.question?null:r.data.obj.question.help),e.R7$(3),e.SpI(" ",e.bMT(41,32,"lang_auto_dong")," ")}},dependencies:[t.Sq,t.bT,g.C,a.x,l.wp],styles:[".answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px;justify-content:space-between;align-items:center}.answer[_ngcontent-%COMP%]{display:flex;align-items:center}.group-content[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700}.question-label[_ngcontent-%COMP%]{font-weight:700}.answer-label[_ngcontent-%COMP%]{min-width:20px;min-height:30px;display:flex;align-items:center;justify-content:flex-start;border-radius:50%;border-width:2px;border-style:solid;border-color:transparent}"]}),i})()},99503:(T,S,c)=>{c.d(S,{fb:()=>p,ij:()=>l});var n=c(81519),b=c(48891),e=c(20381),t=c.n(e),g=c(53793);const a=t()||e,l=new b.nKC("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function s(){return{useUtc:!1}}});function m(D,M){const _=Array(D);for(let i=0;i<D;i++)_[i]=M(i);return _}let p=(()=>{var D;class M extends n.$O{constructor(i){super(),this._options=i,this.commonService=(0,b.WQX)(g.R),this._localeData={firstDayOfWeek:0,longMonths:"",shortMonths:"",dates:"",longDaysOfWeek:"",shortDaysOfWeek:"",narrowDaysOfWeek:""},a.locale(),this.setLocale(this.commonService.getCurrentLang()||a.locale())}setLocale(i){super.setLocale(i);const o=a.localeData(i);this._localeData={firstDayOfWeek:o.firstDayOfWeek(),longMonths:o.months(),shortMonths:o.monthsShort(),dates:m(31,u=>this.createDate(2017,0,u+1).format("D")),longDaysOfWeek:o.weekdays(),shortDaysOfWeek:o.weekdaysShort(),narrowDaysOfWeek:o.weekdaysMin()}}getYear(i){return this.clone(i).year()}getMonth(i){return this.clone(i).month()}getDate(i){return this.clone(i).date()}getDayOfWeek(i){return this.clone(i).day()}getMonthNames(i){return"long"===i?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(i){return"long"===i?this._localeData.longDaysOfWeek:"short"===i?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(i){return this.clone(i).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(i){return this.clone(i).daysInMonth()}clone(i){return i.clone().locale(this.locale)}createDate(i,o,u){if(o<0||o>11)throw Error(`Invalid month index "${o}". Month index has to be between 0 and 11.`);if(u<1)throw Error(`Invalid date "${u}". Date has to be greater than 0.`);const r=this._createMoment({year:i,month:o,date:u}).locale(this.locale);if(!r.isValid())throw Error(`Invalid date "${u}" for month with index "${o}".`);return r}today(){return this._createMoment().locale(this.locale)}parse(i,o){return i&&"string"==typeof i?this._createMoment(i,o,this.locale):i?this._createMoment(i).locale(this.locale):null}format(i,o){if(i=this.clone(i),!this.isValid(i))throw Error("MomentDateAdapter: Cannot format invalid date.");return i.format(o)}addCalendarYears(i,o){return this.clone(i).add({years:o})}addCalendarMonths(i,o){return this.clone(i).add({months:o})}addCalendarDays(i,o){return this.clone(i).add({days:o})}toIso8601(i){return this.clone(i).format()}deserialize(i){let o;if(i instanceof Date)o=this._createMoment(i).locale(this.locale);else if(this.isDateInstance(i))return this.clone(i);if("string"==typeof i){if(!i)return null;o=this._createMoment(i,a.ISO_8601).locale(this.locale)}return o&&this.isValid(o)?this._createMoment(o).locale(this.locale):super.deserialize(i)}isDateInstance(i){return a.isMoment(i)}isValid(i){return this.clone(i).isValid()}invalid(){return a.invalid()}getHour(i){return i.hours()}getMinute(i){return i.minutes()}getSecond(i){return i.seconds()}setHour(i,o){i.hours(o)}setMinute(i,o){i.minutes(o)}setSecond(i,o){i.seconds(o)}_createMoment(i,o,u){const{strict:r,useUtc:f}=this._options||{};return f?a.utc(i,o,u,r):a(i,o,u,r)}}return(D=M).\u0275fac=function(i){return new(i||D)(b.KVO(l,8))},D.\u0275prov=b.jDH({token:D,factory:D.\u0275fac}),M})()},43166:(T,S,c)=>{c.d(S,{x:()=>t});var n=c(10936),b=c(48891),e=c(53793);let t=(()=>{var g;class a{filter(s,m){return null==s?[]:s=s.filter(p=>this.removeAllSpecialChars((null!=m?p[m]:p).toString()).includes(this.removeAllSpecialChars(this.searchControl.value)))}mergeSchoolLevel(s){let m=[];return s.forEach(p=>null!=p.schoolLevel&&m.push(p.schoolLevel)),m}removeAllSpecialChars(s){return s=(s=this.commonService.myTranslateInstant(s)??s).toLowerCase().trim(),s=this.commonService.convertVietnameseToEnglish(s),s=this.commonService.removeSpecialStringInSearch(s),(s=this.commonService.removeNonAlphabetic(s)).toLowerCase().trim()}constructor(s){this.commonService=s,this.searchControl=new n.MJ("",{nonNullable:!0})}}return(g=a).\u0275fac=function(s){return new(s||g)(b.rXU(e.R))},g.\u0275dir=b.FsC({type:g,selectors:[["","searchInList",""]],exportAs:["searchInList"]}),a})()},7919:(T,S,c)=>{c.d(S,{Z:()=>b});var n=c(48891);let b=(()=>{var e;class t{constructor(a){this.el=a,this.hasDecimalPoint=!1,this.hasNegativeSign=!1,this.navigationKeys=["Backspace","Delete","Tab","Escape","Enter","Home","End","ArrowLeft","ArrowRight","Clear","Copy","Paste"],this.decimal=!1,this.decimalSeparator=".",this.decimalSeparator1=".",this.decimalSeparator2=",",this.allowNegatives=!1,this.allowPaste=!0,this.negativeSign="-",this.min=-1/0,this.max=1/0,this.regex=null,this.inputElement=a.nativeElement}ngOnChanges(a){if(a.pattern&&(this.regex=this.pattern?RegExp(this.pattern):null),a.min){const l=Number(this.min);this.min=isNaN(l)?-1/0:l}if(a.max){const l=Number(this.max);this.max=isNaN(l)?1/0:l}}onBeforeInput(a){if(isNaN(Number(a.data))){if(a.data===this.decimalSeparator1||a.data===this.decimalSeparator2||a.data===this.negativeSign&&this.allowNegatives)return;a.preventDefault(),a.stopPropagation()}}onKeyDown(a){if(this.navigationKeys.indexOf(a.key)>-1||("a"===a.key||"KeyA"===a.code)&&!0===a.ctrlKey||("c"===a.key||"KeyC"===a.code)&&!0===a.ctrlKey||("v"===a.key||"KeyV"===a.code)&&!0===a.ctrlKey||("x"===a.key||"KeyX"===a.code)&&!0===a.ctrlKey||("a"===a.key||"KeyA"===a.code)&&!0===a.metaKey||("c"===a.key||"KeyC"===a.code)&&!0===a.metaKey||("v"===a.key||"KeyV"===a.code)&&!0===a.metaKey||("x"===a.key||"KeyX"===a.code)&&!0===a.metaKey)return;let l="";var s=a.key;if(a.key===this.decimalSeparator2&&(s=this.decimalSeparator1),this.decimal&&s===this.decimalSeparator1)return l=this.forecastValue(s),l.split(this.decimalSeparator1).length>2||(this.hasDecimalPoint=l.indexOf(this.decimalSeparator1)>-1,this.setNewValue(s)),void a.preventDefault();if(s===this.negativeSign&&this.allowNegatives)return l=this.forecastValue(s),l.charAt(0)!==this.negativeSign||l.split(this.negativeSign).length>2?void a.preventDefault():void(this.hasNegativeSign=l.split(this.negativeSign).length>-1);if(" "===s||isNaN(Number(s)))return void a.preventDefault();if(l=l||this.forecastValue(s),this.regex&&!this.regex.test(l))return void a.preventDefault();const m=Number(l);(m>this.max||m<this.min)&&a.preventDefault()}onPaste(a){if(!0===this.allowPaste){let l="";window.clipboardData?l=window.clipboardData.getData("text"):a.clipboardData&&a.clipboardData.getData&&(l=a.clipboardData.getData("text/plain")),this.pasteData(l),a.preventDefault()}else a.preventDefault(),a.stopPropagation()}onDrop(a){const l=a.dataTransfer?.getData("text")??"";this.inputElement.focus(),this.pasteData(l),a.preventDefault()}pasteData(a){a=this.replaceDecimalSeparator(a);const l=this.sanitizeInput(a);if(!l.includes(this.negativeSign)||!this.hasNegativeSign||this.getSelection().includes(this.negativeSign)){if(!document.execCommand("insertText",!1,l))if(this.inputElement.setRangeText){const{selectionStart:m,selectionEnd:p}=this.inputElement;this.inputElement.setRangeText(l,m??0,p??0,"end"),typeof window.InstallTrigger<"u"&&this.inputElement.dispatchEvent(new Event("input",{cancelable:!0}))}else this.insertAtCursor(this.inputElement,l);this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator1)>-1),this.hasNegativeSign=this.inputElement.value.indexOf(this.negativeSign)>-1}}setNewValue(a){a=this.replaceDecimalSeparator(a),this.insertAtCursor(this.inputElement,a),this.decimal&&(this.hasDecimalPoint=this.inputElement.value.indexOf(this.decimalSeparator1)>-1),this.hasNegativeSign=this.inputElement.value.indexOf(this.negativeSign)>-1}insertAtCursor(a,l){const s=a.selectionStart??0,m=a.selectionEnd??0;a.value=a.value.substring(0,s)+l+a.value.substring(m,a.value.length);const p=s+l.length;a.focus(),a.setSelectionRange(p,p),this.triggerEvent(a,"input")}triggerEvent(a,l){if("createEvent"in document){const s=document.createEvent("HTMLEvents");s.initEvent(l,!1,!0),a.dispatchEvent(s)}}sanitizeInput(a){let s,l="";s=this.decimal&&this.isValidDecimal(a)?new RegExp(`${this.getNegativeSignRegExp()}[^0-9${this.decimalSeparator1}]`,"g"):new RegExp(`${this.getNegativeSignRegExp()}[^0-9]`,"g"),l=a.replace(s,"");const m=this.inputElement.maxLength;if(m>0){const p=m-this.inputElement.value.length+(l.includes(`${this.negativeSign}`)?1:0);l=p>0?l.substring(0,p):""}return l}getNegativeSignRegExp(){return!this.allowNegatives||this.hasNegativeSign&&!this.getSelection().includes(this.negativeSign)?"":`(?!^${this.negativeSign})`}isValidDecimal(a){if(this.hasDecimalPoint){const l=this.getSelection();return l&&l.indexOf(this.decimalSeparator1)>-1?a.split(this.decimalSeparator1).length<=2:a.indexOf(this.decimalSeparator1)<0}return a.split(this.decimalSeparator1).length<=2}getSelection(){return this.inputElement.value.substring(this.inputElement.selectionStart??0,this.inputElement.selectionEnd??0)}forecastValue(a){const s=this.inputElement.selectionEnd??0,m=this.inputElement.value;return m.substring(0,this.inputElement.selectionStart??0)+a+m.substring(s)}replaceDecimalSeparator(a){return a.replace(",",this.decimalSeparator).replace(".",this.decimalSeparator)}}return(e=t).\u0275fac=function(a){return new(a||e)(n.rXU(n.aKT))},e.\u0275dir=n.FsC({type:e,selectors:[["","appOnlyNumber",""]],hostBindings:function(a,l){1&a&&n.bIt("beforeinput",function(m){return l.onBeforeInput(m)})("keydown",function(m){return l.onKeyDown(m)})("paste",function(m){return l.onPaste(m)})("drop",function(m){return l.onDrop(m)})},inputs:{decimal:"decimal",decimalSeparator:"decimalSeparator",decimalSeparator1:"decimalSeparator1",decimalSeparator2:"decimalSeparator2",allowNegatives:"allowNegatives",allowPaste:"allowPaste",negativeSign:"negativeSign",min:"min",max:"max",pattern:"pattern"},features:[n.OA$]}),t})()},40246:(T,S,c)=>{c.d(S,{C:()=>M});var n=c(48891),b=c(59640),e=c(54460),t=c(47426),g=c(95670),a=c(4375),l=c(76975);function s(_,i){if(1&_&&(n.j41(0,"mat-option",8),n.EFF(1),n.k0s()),2&_){const o=i.$implicit;n.Y8G("value",o.value),n.R7$(),n.JRh(o.desc)}}function m(_,i){if(1&_&&(n.j41(0,"mat-option",8),n.EFF(1),n.k0s()),2&_){const o=i.$implicit;n.Y8G("value",o.id),n.R7$(),n.JRh(o.name)}}function p(_,i){if(1&_){const o=n.RV6();n.j41(0,"div",11)(1,"div",12)(2,"p",13),n.EFF(3),n.k0s()(),n.j41(4,"div",14)(5,"mat-form-field",4)(6,"mat-select",5),n.bIt("selectionChange",function(r){const f=n.eBV(o).$implicit,C=n.XpG(2);return n.Njj(C.selectSubject(r,f))}),n.DNE(7,m,2,2,"mat-option",6),n.k0s()()()()}if(2&_){let o;const u=i.$implicit,r=n.XpG(2);n.R7$(3),n.JRh(null==u.class?null:u.class.desc),n.R7$(3),n.Y8G("value",u.subjectsIds),n.R7$(),n.Y8G("ngForOf",r.valueSubjectSurvey[null!==(o=null==u.class?null:u.class.value)&&void 0!==o?o:0])}}function D(_,i){if(1&_&&(n.qex(0),n.j41(1,"div",2)(2,"label",3),n.EFF(3),n.nI1(4,"mytranslate"),n.k0s(),n.j41(5,"div",9),n.DNE(6,p,8,3,"div",10),n.k0s()(),n.bVm()),2&_){const o=n.XpG();n.R7$(3),n.JRh(n.bMT(4,2,"lang_auto_mon_day")),n.R7$(3),n.Y8G("ngForOf",o.dataObjs)}}let M=(()=>{var _;class i extends b.H{selectSubject(u,r){for(let f=0;f<this.dataObjs.length;f++)this.dataObjs[f].class?.value==r.class?.value&&(this.dataObjs[f].subjectsIds=u.value);this.oldDataObjs=this.dataObjs,this.sendData.emit(this.dataObjs)}addSubject(u){let r=u.value.length?u.value:[];this.classroomGrade=[],r.forEach(E=>{let j=this.valueSurvey.find(y=>y.value==E);j&&!this.commonService.isExistInArray(this.classroomGrade,j)&&this.classroomGrade.push(j)});let f=this.oldDataObjs.length,C=this.classroomGrade.length;this.dataObjs.forEach((E,j)=>{this.classroomGrade.find(d=>d.value==E.class?.value)||this.dataObjs.splice(j,1)},this.dataObjs);for(let E=0;E<C;E++)if(this.dataObjs.find(y=>y.class?.value==this.classroomGrade[E].value)||this.dataObjs.push({class:this.classroomGrade[E],subjectsIds:[]}),f>0)for(let y=0;y<f;y++)this.dataObjs[E]&&this.oldDataObjs[y]&&this.dataObjs[E].class?.value==this.oldDataObjs[y].class?.value&&(this.dataObjs[E]=this.oldDataObjs[y]);this.dataObjs.sort((E,j)=>(E.class?.value??0)-(j.class?.value??0))}constructor(){super(),this.valueSurvey=[],this.valueSubjectSurvey=[],this.classroomGradePathValue=[],this.dataObjs=[],this.sendData=new n.bkB,this.oldDataObjs=[],this.classroomGrade=[]}ngOnInit(){super.ngOnInit()}}return(_=i).\u0275fac=function(u){return new(u||_)},_.\u0275cmp=n.VBU({type:_,selectors:[["azt-multi-choose-level-subject"]],inputs:{valueSurvey:"valueSurvey",valueSubjectSurvey:"valueSubjectSurvey",classroomGradePathValue:"classroomGradePathValue",dataObjs:"dataObjs"},outputs:{sendData:"sendData"},features:[n.Vt3],decls:10,vars:6,consts:[[1,"multi-choose-level-subject"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12"],[1,"form-label","font-medium"],["appearance","outline"],["multiple","",3,"selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[2,"max-height","200px","overflow-y","auto"],["class","flex items-center w-full mb-2",4,"ngFor","ngForOf"],[1,"flex","items-center","w-full","mb-2"],[1,"text-left","w-20"],[1,"text-md","mb-0","mr-2"],[1,"w-full"]],template:function(u,r){1&u&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),n.EFF(4),n.nI1(5,"mytranslate"),n.k0s(),n.j41(6,"mat-form-field",4)(7,"mat-select",5),n.bIt("selectionChange",function(C){return r.addSubject(C)}),n.DNE(8,s,2,2,"mat-option",6),n.k0s()()(),n.DNE(9,D,7,4,"ng-container",7),n.k0s()()),2&u&&(n.R7$(4),n.JRh(n.bMT(5,4,"lang_auto_khoi_day")),n.R7$(3),n.Y8G("value",r.classroomGradePathValue),n.R7$(),n.Y8G("ngForOf",r.valueSurvey),n.R7$(),n.Y8G("ngIf",r.dataObjs.length>0))},dependencies:[e.Sq,e.bT,t.wT,g.rl,a.VO,l.wp],encapsulation:2}),i})()},97357:(T,S,c)=>{c.d(S,{Y:()=>e});var n=c(48891),b=c(53793);let e=(()=>{var t;class g{processDataSchoolAndLevel(l){this.valueSurvey=l.filter(s=>s.schoolLevel?.id).map(s=>({value:s.schoolLevel?.id,desc:this.commonService.myTranslateInstant(s.schoolLevel?.name)})),this.valueSubjectSurvey=Array.from({length:14},(s,m)=>l.find(p=>p.schoolLevel?.id==m)?.schoolSubjectObjs??[])}constructor(l){this.commonService=l,this.valueSurvey=[],this.valueSubjectSurvey=[]}}return(t=g).\u0275fac=function(l){return new(l||t)(n.KVO(b.R))},t.\u0275prov=n.jDH({token:t,factory:t.\u0275fac,providedIn:"root"}),g})()},92401:(T,S,c)=>{c.d(S,{V:()=>y});var n=c(10936),b=c(89163),e=c(33887),t=c(48891),g=c(77474),a=c(54460),l=c(15343),s=c(81587),m=c(76975);const p=()=>({"mr-2":!0});function D(d,O){1&d&&(t.qex(0),t.j41(1,"div")(2,"h2",7),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.bVm()),2&d&&(t.R7$(3),t.JRh(t.bMT(4,1,"lang_vip_bill_print_title_ask")))}function M(d,O){1&d&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&d&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function _(d,O){1&d&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&d&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function i(d,O){1&d&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&d&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function o(d,O){1&d&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&d&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_vui_long_nhap_email")," "))}function u(d,O){1&d&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&d&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang")," "))}function r(d,O){if(1&d&&(t.j41(0,"div",32),t.DNE(1,o,3,3,"span",33)(2,u,3,3,"span",33),t.k0s()),2&d){const h=t.XpG(2);t.R7$(),t.Y8G("ngIf",h.form.controls.receiptEmail.errors.required),t.R7$(),t.Y8G("ngIf",h.form.controls.receiptEmail.errors.email||h.form.controls.receiptEmail.errors.pattern)}}function f(d,O){1&d&&(t.j41(0,"div",10)(1,"span",34),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&d&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_vip_bill_print_notice")))}function C(d,O){if(1&d&&(t.j41(0,"div")(1,"h2",8),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"form",9)(5,"div",10)(6,"label",11),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.j41(9,"div",12)(10,"div",13)(11,"div",14)(12,"div",15),t.nrm(13,"input",16),t.k0s(),t.j41(14,"label",17),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()(),t.j41(17,"div",13)(18,"div",14)(19,"div",15),t.nrm(20,"input",18),t.k0s(),t.j41(21,"label",19),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()()()(),t.j41(24,"div",10)(25,"label",20),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.nrm(28,"input",21),t.j41(29,"div",22),t.nrm(30,"lucide-icon",23),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.DNE(33,M,3,3,"div",24),t.k0s(),t.j41(34,"div",10)(35,"label",25),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s(),t.nrm(38,"input",26),t.DNE(39,_,3,3,"div",24),t.k0s(),t.j41(40,"div",10)(41,"label",27),t.EFF(42),t.nI1(43,"mytranslate"),t.k0s(),t.nrm(44,"input",28),t.DNE(45,i,3,3,"div",24),t.k0s(),t.j41(46,"div",10)(47,"label",29),t.EFF(48),t.nI1(49,"mytranslate"),t.k0s(),t.nrm(50,"input",30),t.DNE(51,r,3,2,"div",24),t.k0s()(),t.DNE(52,f,4,3,"div",31)),2&d){const h=t.XpG();t.R7$(2),t.JRh(t.bMT(3,18,"lang_vip_bill_print_title")),t.R7$(2),t.Y8G("formGroup",h.form),t.R7$(3),t.SpI(" ",t.bMT(8,20,"lang_auto_loai")," "),t.R7$(6),t.Y8G("value",1),t.R7$(2),t.SpI(" ",t.bMT(16,22,"lang_azt_organization")," "),t.R7$(5),t.Y8G("value",0),t.R7$(2),t.SpI(" ",t.bMT(23,24,"lang_azt_user")," "),t.R7$(4),t.SpI(" ",t.bMT(27,26,0==h.form.controls.objectiveType.value?"lang_auto_ho_va_ten":"lang_payment_business_infor_school_name")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(36,p)),t.R7$(),t.SpI(" ",t.bMT(32,28,"lang_vip_invoice_username_map_with_transaction_fullName")," "),t.R7$(2),t.Y8G("ngIf",h.form.controls.organization.dirty&&h.form.controls.organization.errors),t.R7$(3),t.SpI(" ",t.bMT(37,30,"lang_test_market_address")," "),t.R7$(3),t.Y8G("ngIf",h.form.controls.address.dirty&&h.form.controls.address.errors),t.R7$(3),t.SpI(" ",t.bMT(43,32,"lang_vip_bill_print_tax_code")," "),t.R7$(3),t.Y8G("ngIf",h.form.controls.taxCode.dirty&&h.form.controls.taxCode.errors),t.R7$(3),t.SpI(" ",t.bMT(49,34,"lang_auto_email")," "),t.R7$(3),t.Y8G("ngIf",h.form.controls.receiptEmail.dirty&&h.form.controls.receiptEmail.errors),t.R7$(),t.Y8G("ngIf",!h.data.invoiceData)}}function E(d,O){if(1&d){const h=t.RV6();t.qex(0),t.j41(1,"button",35),t.bIt("click",function(){t.eBV(h);const v=t.XpG();return t.Njj(v.btnCloseDialog())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"button",36),t.bIt("click",function(){t.eBV(h);const v=t.XpG();return t.Njj(v.askForInvoice=!1)}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.bVm()}2&d&&(t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_auto_khong")," "),t.R7$(3),t.SpI(" ",t.bMT(6,4,"lang_auto_co")," "))}function j(d,O){if(1&d){const h=t.RV6();t.j41(0,"button",35),t.bIt("click",function(){t.eBV(h);const v=t.XpG();return t.Njj(v.btnCloseDialog())}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s(),t.j41(3,"button",37),t.bIt("click",function(){t.eBV(h);const v=t.XpG();return t.Njj(v.saveData())}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()}if(2&d){const h=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,3,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",h.statusObj.loading||h.form.invalid),t.R7$(),t.SpI(" ",t.bMT(5,5,"lang_button_send")," ")}}let y=(()=>{var d;class O extends e._{btnCloseDialog(){this.dialogRef.close(!1)}saveData(){this.initStatusObj();let I={objectId:this.data.invoiceData?.objectId??this.data.invoiceData?.userId??0,objectType:this.form.getRawValue().objectiveType?"corporate":"personal",organization:this.form.getRawValue().organization,address:this.form.getRawValue().address,taxCode:this.form.getRawValue().taxCode,receiptEmail:this.form.getRawValue().receiptEmail};this.waitDestroy(this.data.onUpdate?this.vipInvoiceService.apiVipInvoiceUpdateVipInvoicePost(I).subscribe(v=>{if(!v.success)return this.errorStatusObj(v.message,!0);this.successStatusObj("lang_auto_luu_thanh_cong",!0),this.dialogRef.close(!0)}):this.vipInvoiceService.apiVipInvoiceUpdateMyInvoicePost(I).subscribe(v=>{if(!v.success)return this.errorStatusObj(v.message,!0);this.successStatusObj("lang_cms_send_request_success",!0),this.dialogRef.close(!0)}))}constructor(I,v,x){super(x,v),this.vipInvoiceService=I,this.dialogRef=v,this.data=x,this.askForInvoice=!1,this.form=new n.gE({objectiveType:new n.MJ({value:"personal"==this.data.invoiceData?.objectType?0:1,disabled:!1},{nonNullable:!0,validators:[n.k0.required]}),organization:new n.MJ({value:this.data.invoiceData?.organization??"",disabled:!1},{nonNullable:!0,validators:[n.k0.required]}),address:new n.MJ({value:this.data.invoiceData?.address??"",disabled:!1},{nonNullable:!0,validators:[n.k0.required]}),taxCode:new n.MJ({value:this.data.invoiceData?.taxCode??"",disabled:!1},{nonNullable:!0,validators:[n.k0.required]}),receiptEmail:new n.MJ({value:this.data.invoiceData?.receiptEmail??"",disabled:!1},{nonNullable:!0,validators:[n.k0.required,n.k0.email,n.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]})}),this.askForInvoice=this.data.askForInvoice}}return(d=O).\u0275fac=function(I){return new(I||d)(t.rXU(g.Gl),t.rXU(b.CP,8),t.rXU(b.Vh,8))},d.\u0275cmp=t.VBU({type:d,selectors:[["azt-dialog-vip-print-bill"]],features:[t.Vt3],decls:10,vars:4,consts:[["showForm",""],["showFormBtn",""],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"px-5","py-3"],[4,"ngIf","ngIfElse"],[1,"p-3","text-right"],[1,"font-bold","text-md","mt-1","mx-5"],[1,"intro-x","font-bold","text-xl","mt-1","mx-5"],[1,"intro-y",3,"formGroup"],[1,"mt-2"],[1,"form-label"],[1,"grid","grid-cols-12","box","border","border-slate-200","px-5","py-2"],[1,"col-span-6"],[1,"flex","items-center"],[1,"form-check","mr-2"],["id","organizationSelect","formControlName","objectiveType","type","radio",1,"form-check-input","ml-2",3,"value"],["for","organizationSelect",1,"cursor-pointer"],["id","userSelect","formControlName","objectiveType","type","radio",1,"form-check-input","ml-2",3,"value"],["for","userSelect",1,"cursor-pointer"],["for","organizationName",1,"form-label"],["type","text","id","organizationName","formControlName","organization",1,"form-control"],[1,"text-xs","text-slate-400","mt-1"],["name","info","size","18",3,"ngClass"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","address",1,"form-label"],["type","text","id","address","formControlName","address",1,"form-control"],["for","taxCode",1,"form-label"],["type","text","id","taxCode","formControlName","taxCode",1,"form-control"],["for","receiptEmail",1,"form-label"],["type","text","id","receiptEmail","formControlName","receiptEmail",1,"form-control"],["class","mt-2",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[4,"ngIf"],[1,"text-danger","text-xs"],[1,"btn","w-24","btn-secondary","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"click"],[1,"btn","w-24","btn-primary",3,"click","disabled"]],template:function(I,v){if(1&I&&(t.j41(0,"div",2)(1,"div",3)(2,"div",4),t.DNE(3,D,5,3,"ng-container",5)(4,C,53,37,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(6,"div",6),t.DNE(7,E,7,6,"ng-container",5)(8,j,6,7,"ng-template",null,1,t.C5r),t.k0s()()),2&I){const x=t.sdS(5),R=t.sdS(9);t.R7$(3),t.Y8G("ngIf",v.askForInvoice)("ngIfElse",x),t.R7$(4),t.Y8G("ngIf",v.askForInvoice)("ngIfElse",R)}},dependencies:[a.YU,a.bT,n.qT,n.me,n.Fm,n.BC,n.cb,n.j4,n.JD,l.WGl,s.t,m.wp],encapsulation:2}),O})()}}]);