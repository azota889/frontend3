(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[5579],{21713:(it,ke,y)=>{"use strict";y.d(ke,{C:()=>rt});var _=y(81519),e=y(26860),g=y(10936),D=y(34514),se=y(47426),fe=y(99503),re=y(79347),le=y(9691),ae=y(59640),C=y(39712),R=y(43234),N=y(96699),P=y(54460),z=y(39471),U=y(97839),K=y(74960),Z=y(4375),ee=y(81587),Me=y(74175),xe=y(63349),q=y(15343),_e=y(73437);function ve(V,be){1&V&&(e.j41(0,"div",59),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&V&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function Re(V,be){if(1&V&&(e.j41(0,"mat-option",60),e.EFF(1),e.k0s()),2&V){const Q=be.$implicit;e.Y8G("value",Q.id),e.R7$(1),e.SpI(" ",Q.name," ")}}function oe(V,be){1&V&&(e.j41(0,"div",59),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&V&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function F(V,be){1&V&&(e.j41(0,"div",59),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&V&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_khong_duoc_de_trong_va_khong_co_ky_tu_dac_biet")," "))}function Se(V,be){1&V&&(e.j41(0,"div",59),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&V&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_test_market_id_card_validate_length_and_number")," "))}function Ee(V,be){1&V&&(e.j41(0,"div",59),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&V&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function We(V,be){1&V&&(e.j41(0,"div",59),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&V&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_test_market_request_with_draw_note_birthday")," "))}function ht(V,be){1&V&&(e.j41(0,"div",59),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&V&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function It(V,be){1&V&&(e.j41(0,"div",59),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&V&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_khong_duoc_de_trong")," "))}function Pt(V,be){1&V&&(e.j41(0,"div",59),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&V&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_test_market_must_accept_policy")," "))}function Ke(V,be){if(1&V){const Q=e.RV6();e.j41(0,"div",61)(1,"button",62),e.bIt("click",function(){e.eBV(Q);const Y=e.XpG();return e.Njj(Y.acceptSendRequest(!0))}),e.nI1(2,"calcYearOldUser"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"button",63),e.bIt("click",function(){e.eBV(Q);const Y=e.XpG();return e.Njj(Y.acceptSendRequest(!1))}),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()}if(2&V){const Q=e.XpG();e.R7$(1),e.Y8G("disabled",Q.form.invalid||Q.sendRequest||!Q.totalBalance||Q.totalBalance<Q.minimumWithdraw||2!=Q.citizenIdImages.length||e.bMT(2,3,Q.form.controls.birthday.value)<18),e.R7$(2),e.SpI(" ",e.bMT(4,5,"lang_test_market_request_with_draw")," "),e.R7$(3),e.SpI(" ",e.bMT(7,7,"lang_auto_huy")," ")}}function Et(V,be){if(1&V){const Q=e.RV6();e.j41(0,"div",69),e.bIt("click",function(){e.eBV(Q);const Y=e.XpG().$implicit,He=e.XpG(2);return e.Njj(He.removeImg(Y))}),e.nrm(1,"lucide-icon",70),e.k0s()}}function ot(V,be){if(1&V&&(e.j41(0,"div",65)(1,"div",66),e.nrm(2,"img",67),e.nI1(3,"mycdn"),e.k0s(),e.DNE(4,Et,2,0,"div",68),e.k0s()),2&V){const Q=be.$implicit,me=e.XpG(2);e.R7$(2),e.Y8G("src",e.bMT(3,2,Q),e.B4B),e.R7$(2),e.Y8G("ngIf",me.enableEditInfo)}}function Ft(V,be){if(1&V&&(e.j41(0,"div"),e.DNE(1,ot,5,4,"div",64),e.k0s()),2&V){const Q=e.XpG();e.R7$(1),e.Y8G("ngForOf",Q.citizenIdImages)}}const jt=function(){return{"mr-2":!0}};function Vt(V,be){1&V&&(e.j41(0,"div",71)(1,"div",72),e.nrm(2,"lucide-icon",73),e.j41(3,"span",74),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&V&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(4,jt)),e.R7$(2),e.JRh(e.bMT(5,2,"lang_auto_upload_file")))}function Te(V,be){if(1&V){const Q=e.RV6();e.j41(0,"div",75)(1,"div",61)(2,"button",76),e.bIt("click",function(){e.eBV(Q);const Y=e.XpG();return e.Njj(Y.acceptSendRequest(!0))}),e.nI1(3,"calcYearOldUser"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"button",77),e.bIt("click",function(){e.eBV(Q);const Y=e.XpG();return e.Njj(Y.acceptSendRequest(!1))}),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()()()}if(2&V){const Q=e.XpG();e.R7$(2),e.Y8G("disabled",Q.form.invalid||Q.sendRequest||!Q.totalBalance||Q.totalBalance<Q.minimumWithdraw||2!=Q.citizenIdImages.length||e.bMT(3,3,Q.form.controls.birthday.value)<18),e.R7$(2),e.SpI(" ",e.bMT(5,5,"lang_test_market_request_with_draw")," "),e.R7$(3),e.SpI(" ",e.bMT(8,7,"lang_auto_huy")," ")}}const Ie=function(){return{"ml-5 mr-2":!0}},pt=function(V){return[V]};let rt=(()=>{class V extends ae.H{getCurLang(){return this.commonService.getCurrentLang()}handleUploadComplete(Q){Q.forEach(me=>{this.citizenIdImages.push(me.url??"")})}removeImg(Q){let me=this.citizenIdImages?.filter(Y=>Y!==Q);this.citizenIdImages=me}enableEdit(){this.enableEditInfo?(this.enableEditInfo=!1,this.form.controls.bankId.setValue(this.transactionInfo?.bankId??1),this.form.controls.accountNameControl.setValue(this.transactionInfo?.bankHolder??""),this.form.controls.address.setValue(this.transactionInfo?.address??""),this.form.controls.contactPhone.setValue(this.balanceUserInfo?.contactPhone??""),this.form.controls.bankNumber.setValue(this.transactionInfo?.bankAccountNumber??""),this.form.controls.idCard.setValue(this.balanceUserInfo?.idCard??""),this.form.controls.birthday.setValue(this.balanceUserInfo?.birthday?.toString()??""),this.form.controls.idIssuedAt.setValue(this.balanceUserInfo?.idIssuedAt?.toString()??""),this.form.controls.idIssuedBy.setValue(this.balanceUserInfo?.idIssuedBy??""),this.form.controls.bankId.disable(),this.form.controls.accountNameControl.disable(),this.form.controls.address.disable(),this.form.controls.contactPhone.disable(),this.form.controls.bankNumber.disable(),this.form.controls.idCard.disable(),this.form.controls.birthday.disable(),this.form.controls.idIssuedBy.disable(),this.form.controls.idIssuedAt.disable(),this.currentBankId=this.transactionInfo?.bankId??1):(this.enableEditInfo=!0,this.form.controls.bankId.enable(),this.form.controls.accountNameControl.enable(),this.form.controls.address.enable(),this.form.controls.contactPhone.enable(),this.form.controls.idCard.enable(),this.form.controls.bankNumber.enable(),this.form.controls.birthday.enable(),this.form.controls.idIssuedBy.enable(),this.form.controls.idIssuedAt.enable())}selectBank(Q){this.currentBankId=Q}removeSignatureKeyImages(Q){if(0==Q.length)return[];{let me=[];return Q.forEach(Y=>{me.push(Y.substring(0,Y.indexOf("?")))}),me}}acceptSendRequest(Q){if(Q){this.sendRequest=!0;let me=this.getFormValue(),Y={bankId:me.bankId??this.transactionInfo?.bankId,bankHolder:me.accountNameControl??this.transactionInfo?.bankHolder,address:me.address??this.transactionInfo?.address,bankAccountNumber:me.bankNumber??this.transactionInfo?.bankAccountNumber,contactPhone:me.contactPhone??this.balanceUserInfo?.contactPhone,urls:this.removeSignatureKeyImages(this.citizenIdImages),birthday:new Date(me.birthday??this.balanceUserInfo?.birthday??""),idCard:me.idCard??this.balanceUserInfo?.idCard,idIssuedBy:me.idIssuedBy??this.balanceUserInfo?.idIssuedBy,idIssuedAt:new Date(me.idIssuedAt??this.balanceUserInfo?.idIssuedAt??"")};this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsPost(Y).subscribe(He=>{He.success?(this.sendRequest=!1,this.showSuccessSnack("lang_test_market_send_request_success"),this.closeRequest.emit(!0)):(this.errorStatusObj(He.message??"",!0),this.sendRequest=!1)}))}else this.closeRequest.emit(!1)}getBankObjs(){this.initStatusObj(),this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsBanksGet().subscribe(Q=>{Q.success?(this.listBanks=Q.data?.objs??[],this.successStatusObj()):this.errorStatusObj(Q.message??"",!0)}))}getFormValue(){return this.form.getRawValue()}ngOnInit(){this.getBankObjs(),this.transactionInfo||(this.enableEditInfo=!0),this.citizenIdImages=this.balanceUserInfo?.idImages&&this.balanceUserInfo?.idImages.length?this.balanceUserInfo.idImages:[],this.form=new g.gE({accountNameControl:new g.MJ({value:this.transactionInfo?.bankHolder??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required]}),bankId:new g.MJ({value:this.transactionInfo?.bankId??1,disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required]}),bankNumber:new g.MJ({value:this.transactionInfo?.bankAccountNumber??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required,g.k0.pattern("^[A-Za-z0-9]*$")]}),address:new g.MJ({value:this.transactionInfo?.address??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required]}),contactPhone:new g.MJ({value:this.balanceUserInfo?.contactPhone??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required,g.k0.pattern("^[0-9]*$"),g.k0.minLength(10)]}),idCard:new g.MJ({value:this.balanceUserInfo?.idCard??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required,g.k0.pattern("^[0-9]*$")]}),idIssuedBy:new g.MJ({value:this.balanceUserInfo?.idIssuedBy??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required]}),idIssuedAt:new g.MJ({value:this.balanceUserInfo?.idIssuedAt?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required]}),birthday:new g.MJ({value:this.balanceUserInfo?.birthday?.toString()??"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required]}),acceptPolicy:new g.MJ(!1,{nonNullable:!0,validators:[g.k0.requiredTrue]})}),this.currentBankId=this.transactionInfo?.bankId??1}constructor(Q){super(),this.testMarketQuestionService=Q,this.totalBalance=0,this.closeRequest=new e.bkB,this.enableEditInfo=!1,this.sendRequest=!1,this.listBanks=[],this.bankId=1,this.isMobile=!1,this.citizenIdImages=[],this.currentBankId=1,this.maxDate=R.c.maxDateTimePicker,this.allUploadToCdnMenuTypes=C.b8,this.allUploadFileTypes=C.PO,this.minimumWithdraw=2e5,this.form=new g.gE({accountNameControl:new g.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required]}),bankId:new g.MJ({value:1,disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required]}),bankNumber:new g.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required,g.k0.pattern("^[A-Za-z0-9]*$")]}),address:new g.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required]}),contactPhone:new g.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required,g.k0.pattern("^[0-9]*$"),g.k0.minLength(10)]}),idCard:new g.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required,g.k0.pattern("^[0-9]*$")]}),idIssuedBy:new g.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required]}),idIssuedAt:new g.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required]}),birthday:new g.MJ({value:"",disabled:!this.enableEditInfo},{nonNullable:!0,validators:[g.k0.required]}),acceptPolicy:new g.MJ(!1,{nonNullable:!0,validators:[g.k0.requiredTrue]})})}static#e=this.\u0275fac=function(me){return new(me||V)(e.rXU(N.e2))};static#t=this.\u0275cmp=e.VBU({type:V,selectors:[["withdraw-balance"]],inputs:{balanceUserInfo:"balanceUserInfo",transactionInfo:"transactionInfo",totalBalance:"totalBalance"},outputs:{closeRequest:"closeRequest"},features:[e.Jv_([{provide:_.$O,useClass:fe.fb,deps:[se.Ju,D.ij]},{provide:_.vq,useFactory:re.fJ,deps:[le.F]}]),e.Vt3],decls:127,vars:106,consts:[[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],[1,"box","mx-auto"],[1,"px-5","pt-3","text-left"],[1,"intro-x","font-bold","text-xl","mt-3","mx-5"],[1,"text-danger","text-xs"],[1,"px-5","mt-2","text-left","flex","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md","mx-5"],["azt-track-service","withdraw-balance-921p70SswIB",1,"link__color","link__hover","flex",2,"cursor","pointer",3,"click"],["name","square-pen",2,"width","1.25rem!important",3,"ngClass"],[3,"formGroup"],[1,"p-5","pt-0"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-7",2,"max-width","500px"],[1,"mt-2"],["for","accountName",1,"form-label"],["type","text","id","accountName","formControlName","accountNameControl",1,"form-control"],["class","text-xs text-danger mt-1",4,"ngIf"],["for","bankIdInput",1,"form-label"],["id","bankIdInput","appearance","outline"],["formControlName","bankId","name","bankIdInput",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["for","bankNumberInput",1,"form-label"],["type","text","id","bankNumberInput","formControlName","bankNumber",1,"form-control"],[1,"mt-3","text-left","w-full",2,"align-self","center"],[1,"intro-x","font-medium","text-md"],["for","idCardInput",1,"form-label"],["type","text","id","idCardInput","formControlName","idCard",1,"form-control"],["for","idIssuedByInput",1,"form-label"],["type","text","id","idIssuedByInput","formControlName","idIssuedBy",1,"form-control"],["for","idIssuedAtInput",1,"form-label"],["appearance","outline"],["azt-track-service","withdraw-balance-jCzGkwfhB","id","idIssuedAtInput","matInput","","formControlName","idIssuedAt","readonly","",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","withdraw-balance-rJv5AcE2Pl","matSuffix","",2,"font-size","18px",3,"click"],["name","calendar-clock","size","20"],[3,"touchUi","hideTime"],["idIssuedAt",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","birthdayInput",1,"form-label"],["azt-track-service","withdraw-balance-CkeSfDzgZD","id","birthdayInput","matInput","","formControlName","birthday","readonly","",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","withdraw-balance-nEklxkTJW-","matSuffix","",2,"font-size","18px",3,"click"],["birthday",""],["for","contactPhoneInput",1,"form-label"],["type","text","id","contactPhoneInput","formControlName","contactPhone",1,"form-control"],["for","addressInput",1,"form-label"],["type","text","id","addressInput","formControlName","address",1,"form-control"],[1,"flex"],["id","policyCheckbox","type","checkbox","formControlName","acceptPolicy",1,"mr-1",2,"align-self","center","border-radius","1px"],["for","policyCheckbox",1,"form-label",2,"margin-bottom","0"],["azt-track-service","withdraw-balance-_qU2_Iz9K","target","blank",1,"link__color","link__hover",3,"href"],["id","download-link-item",3,"dataUrl","target","fileName","classStyle","fileDescription"],["class","flex mt-5 items-center",4,"ngIf"],[1,"col-span-12","md:col-span-5"],[1,"px-5","pt-3","text-center"],[1,"intro-x","font-bold","text-md"],[4,"ngIf"],[2,"display","block",3,"uploadToCdnMenu","fileType","uploadComplete"],["class","w-full mt-2 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md py-2",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[1,"flex","mt-5","items-center"],["azt-track-service","withdraw-balance-GxlttY-cHY0",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","withdraw-balance-OJpW08kxm9",1,"btn","w-32","btn-secondary","ml-5",3,"click"],["class","w-full relative cursor-pointer mt-2",4,"ngFor","ngForOf"],[1,"w-full","relative","cursor-pointer","mt-2"],[1,"image-fit",2,"height","11rem"],["alt","Azota-Image-Loading",1,"rounded-md",3,"src"],["azt-track-service","withdraw-balance-e_sKYDJPHJ","class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["azt-track-service","withdraw-balance-e_sKYDJPHJ",1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["name","x","size","16"],[1,"w-full","mt-2","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","py-2"],[1,"px-4","flex","items-center","justify-center","cursor-pointer","relative","my-4"],["name","upload","size","16",3,"ngClass"],[1,"text-primary","mr-1"],[1,"col-span-12"],["azt-track-service","withdraw-balance-sJplgzZH1",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","withdraw-balance-be4oFFIHdzB",1,"btn","w-32","btn-secondary","ml-5",3,"click"]],template:function(me,Y){if(1&me){const He=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),e.EFF(5),e.nI1(6,"mytranslate"),e.nI1(7,"number"),e.k0s(),e.j41(8,"span",5),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()(),e.j41(11,"div",6)(12,"h2",7),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"div",8),e.bIt("click",function(){return Y.enableEdit()}),e.nrm(16,"lucide-icon",9),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()(),e.j41(19,"form",10)(20,"div",11)(21,"div",12)(22,"div",13)(23,"div",14)(24,"label",15),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s(),e.nrm(27,"input",16),e.DNE(28,ve,3,3,"div",17),e.k0s(),e.j41(29,"div",14)(30,"label",18),e.EFF(31),e.nI1(32,"mytranslate"),e.k0s(),e.j41(33,"mat-form-field",19)(34,"mat-select",20),e.bIt("valueChange",function(Ne){return Y.currentBankId=Ne})("selectionChange",function(Ne){return Y.selectBank(Ne.value)}),e.DNE(35,Re,2,2,"mat-option",21),e.k0s()(),e.DNE(36,oe,3,3,"div",17),e.k0s(),e.j41(37,"div",14)(38,"label",22),e.EFF(39),e.nI1(40,"mytranslate"),e.k0s(),e.nrm(41,"input",23),e.DNE(42,F,3,3,"div",17),e.k0s(),e.j41(43,"div",24)(44,"h2",25),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s()(),e.j41(47,"div",14)(48,"label",26),e.EFF(49),e.nI1(50,"mytranslate"),e.k0s(),e.nrm(51,"input",27),e.DNE(52,Se,3,3,"div",17),e.k0s(),e.j41(53,"div",14)(54,"label",28),e.EFF(55),e.nI1(56,"mytranslate"),e.k0s(),e.nrm(57,"input",29),e.DNE(58,Ee,3,3,"div",17),e.k0s(),e.j41(59,"div",14)(60,"label",30),e.EFF(61),e.nI1(62,"mytranslate"),e.k0s(),e.j41(63,"mat-form-field",31)(64,"input",32),e.bIt("click",function(){e.eBV(He);const Ne=e.sdS(69);return e.Njj(Ne.open())}),e.nI1(65,"mytranslate"),e.k0s(),e.j41(66,"button",33),e.bIt("click",function(Ne){return e.eBV(He),e.sdS(69).open(),e.Njj(Ne.stopPropagation())}),e.nrm(67,"lucide-icon",34),e.k0s(),e.j41(68,"ngx-mat-datetime-picker",35,36)(70,"ngx-mat-datepicker-actions")(71,"button",37),e.EFF(72,"OK"),e.k0s()()()()(),e.j41(73,"div",14)(74,"label",38),e.EFF(75),e.nI1(76,"mytranslate"),e.k0s(),e.j41(77,"mat-form-field",31)(78,"input",39),e.bIt("click",function(){e.eBV(He);const Ne=e.sdS(83);return e.Njj(Ne.open())}),e.nI1(79,"mytranslate"),e.k0s(),e.j41(80,"button",40),e.bIt("click",function(Ne){return e.eBV(He),e.sdS(83).open(),e.Njj(Ne.stopPropagation())}),e.nrm(81,"lucide-icon",34),e.k0s(),e.j41(82,"ngx-mat-datetime-picker",35,41)(84,"ngx-mat-datepicker-actions")(85,"button",37),e.EFF(86,"OK"),e.k0s()()()(),e.DNE(87,We,3,3,"div",17),e.nI1(88,"calcYearOldUser"),e.k0s(),e.j41(89,"div",14)(90,"label",42),e.EFF(91),e.nI1(92,"mytranslate"),e.k0s(),e.nrm(93,"input",43),e.DNE(94,ht,3,3,"div",17),e.k0s(),e.j41(95,"div",14)(96,"label",44),e.EFF(97),e.nI1(98,"mytranslate"),e.k0s(),e.nrm(99,"input",45),e.DNE(100,It,3,3,"div",17),e.k0s(),e.j41(101,"div",14)(102,"div",46),e.nrm(103,"input",47),e.j41(104,"label",48),e.EFF(105),e.nI1(106,"mytranslate"),e.j41(107,"a",49),e.EFF(108),e.nI1(109,"mytranslate"),e.k0s(),e.EFF(110),e.nI1(111,"mytranslate"),e.nrm(112,"azt-download-link-item",50),e.nI1(113,"convertRawLinkOfGitHubWithLocale"),e.EFF(114),e.nI1(115,"mytranslate"),e.k0s()(),e.DNE(116,Pt,3,3,"div",17),e.k0s(),e.DNE(117,Ke,8,9,"div",51),e.k0s(),e.j41(118,"div",52)(119,"div",53)(120,"h2",54),e.EFF(121),e.nI1(122,"mytranslate"),e.k0s()(),e.DNE(123,Ft,2,1,"div",55),e.j41(124,"azt-upload-multiple-box",56),e.bIt("uploadComplete",function(Ne){return Y.handleUploadComplete(Ne)}),e.DNE(125,Vt,6,5,"div",57),e.k0s()(),e.DNE(126,Te,9,9,"div",58),e.k0s()()()()()()}if(2&me){const He=e.sdS(69),ze=e.sdS(83);e.R7$(5),e.Lme(" ",e.bMT(6,55,"lang_test_market_balance"),"",e.bMT(7,57,Y.totalBalance),"\u0111 "),e.R7$(4),e.JRh(e.bMT(10,59,"lang_test_market_request_with_draw_notice")),e.R7$(4),e.SpI(" ",e.bMT(14,61,"lang_test_market_bank_information")," "),e.R7$(3),e.Y8G("ngClass",e.lJ4(103,Ie)),e.R7$(1),e.SpI(" ",e.bMT(18,63,Y.enableEditInfo?"lang_auto_huy":"lang_auto_sua")," "),e.R7$(2),e.Y8G("formGroup",Y.form),e.R7$(6),e.SpI(" ",e.bMT(26,65,"lang_test_market_bankHolder")," "),e.R7$(3),e.Y8G("ngIf",Y.form.controls.accountNameControl.dirty&&Y.form.controls.accountNameControl.errors),e.R7$(3),e.SpI(" ",e.bMT(32,67,"lang_test_market_bankName")," "),e.R7$(3),e.Y8G("value",Y.currentBankId),e.R7$(1),e.Y8G("ngForOf",Y.listBanks),e.R7$(1),e.Y8G("ngIf",Y.form.controls.bankId.dirty&&Y.form.controls.bankId.errors),e.R7$(3),e.SpI(" ",e.bMT(40,69,"lang_test_market_bankNumber")," "),e.R7$(3),e.Y8G("ngIf",Y.form.controls.bankNumber.dirty&&Y.form.controls.bankNumber.errors),e.R7$(3),e.SpI(" ",e.bMT(46,71,"lang_test_market_personal_information")," "),e.R7$(4),e.SpI(" ",e.bMT(50,73,"lang_test_market_citizen_id")," "),e.R7$(3),e.Y8G("ngIf",Y.form.controls.idCard.dirty&&Y.form.controls.idCard.errors),e.R7$(3),e.SpI(" ",e.bMT(56,75,"lang_test_market_issued_by")," "),e.R7$(3),e.Y8G("ngIf",Y.form.controls.idIssuedBy.dirty&&Y.form.controls.idIssuedBy.errors),e.R7$(3),e.SpI(" ",e.bMT(62,77,"lang_test_market_issued_at")," "),e.R7$(3),e.FS9("placeholder",e.bMT(65,79,"lang_test_market_issued_at")),e.Y8G("max",Y.maxDate)("ngxMatDatetimePicker",He),e.R7$(4),e.Y8G("touchUi",!0)("hideTime",!0),e.R7$(7),e.SpI(" ",e.bMT(76,81,"lang_auto_ngay_sinh")," "),e.R7$(3),e.FS9("placeholder",e.bMT(79,83,"lang_auto_ngay_sinh")),e.Y8G("max",Y.maxDate)("ngxMatDatetimePicker",ze),e.R7$(4),e.Y8G("touchUi",!0)("hideTime",!0),e.R7$(5),e.Y8G("ngIf",e.bMT(88,85,Y.form.controls.birthday.value)<18),e.R7$(4),e.SpI(" ",e.bMT(92,87,"lang_number_phone")," "),e.R7$(3),e.Y8G("ngIf",Y.form.controls.contactPhone.dirty&&Y.form.controls.contactPhone.errors),e.R7$(3),e.SpI(" ",e.bMT(98,89,"lang_test_market_address")," "),e.R7$(3),e.Y8G("ngIf",Y.form.controls.address.dirty&&Y.form.controls.address.errors),e.R7$(5),e.SpI(" ",e.bMT(106,91,"lang_test_market_Azota_policy_1"),""),e.R7$(2),e.FS9("href","/"+Y.getCurLang()+"/admin/test-market/privacy",e.B4B),e.R7$(1),e.JRh(e.bMT(109,93,"lang_test_market_Azota_policy_2")),e.R7$(2),e.SpI("\xa0",e.bMT(111,95,"lang_auto_va"),"\xa0"),e.R7$(2),e.Y8G("dataUrl",e.bMT(113,97,"contract/contract_azota_vn.docx?raw=true"))("target","_blank")("fileName","contract_azota_vn.docx")("classStyle","link__color link__hover")("fileDescription","lang_test_market_Azota_policy_contract"),e.R7$(2),e.SpI("",e.bMT(115,99,"lang_test_market_Azota_policy_3")," "),e.R7$(2),e.Y8G("ngIf",(null==Y.form.controls.acceptPolicy?null:Y.form.controls.acceptPolicy.dirty)&&(null==Y.form.controls.acceptPolicy?null:Y.form.controls.acceptPolicy.errors)&&!(null!=Y.form.controls.acceptPolicy&&Y.form.controls.acceptPolicy.value)),e.R7$(1),e.Y8G("ngIf",!Y.isMobile),e.R7$(4),e.SpI(" ",e.bMT(122,101,"lang_test_market_upload_citizenID_images")," "),e.R7$(2),e.Y8G("ngIf",Y.citizenIdImages.length>0),e.R7$(1),e.Y8G("uploadToCdnMenu",Y.allUploadToCdnMenuTypes.GET_PUBLIC_UPLOAD_URL_FOR_ID_NUMBER)("fileType",e.eq3(104,pt,Y.allUploadFileTypes.IMAGE)),e.R7$(1),e.Y8G("ngIf",Y.enableEditInfo),e.R7$(1),e.Y8G("ngIf",Y.isMobile)}},dependencies:[P.YU,P.Sq,P.bT,g.qT,g.me,g.Zm,g.BC,g.cb,se.wT,z.$z,U.fg,K.rl,K.yw,Z.VO,_.m7,_.yF,_.HF,_.Uq,g.j4,g.JD,ee.t,Me.W,xe.V,q.WGl,P.QX,_e.wp,_e.nf,_e.V3,_e.gs],encapsulation:2})}return V})()},75579:(it,ke,y)=>{"use strict";y.r(ke),y.d(ke,{AuthModule:()=>hd});var _=y(54460),e=y(26860),g=y(24788);(0,g.registerVersion)("firebase","10.5.2","app");var fe=y(19899),le=y(48050);const C=new class ae extends le.q{}(class re extends fe.R{constructor(u,t){super(u,t),this.scheduler=u,this.work=t}schedule(u,t=0){return t>0?super.schedule(u,t):(this.delay=t,this.state=u,this.scheduler.flush(this),this)}execute(u,t){return t>0||this.closed?super.execute(u,t):this._execute(u,t)}requestAsyncId(u,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(u,t,r):(u.flush(this),0)}});var N=y(26061),P=y(82040),z=y(89764),U=y(59668);const K=new e.RxE("ANGULARFIRE2_VERSION");class xe{constructor(){return((n,u)=>{const t=(0,g.getApps)(),r=[];return t.forEach(s=>{s.container.getProvider(n).instances.forEach(S=>{r.includes(S)||r.push(S)})}),r})(q)}}const q="app-check";function _e(){}class ve{zone;delegate;constructor(u,t=C){this.zone=u,this.delegate=t}now(){return this.delegate.now()}schedule(u,t,r){const s=this.zone;return this.delegate.schedule(function(S){s.runGuarded(()=>{u.apply(this,[S])})},t,r)}}class Re{zone;task=null;constructor(u){this.zone=u}call(u,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_e,{},_e,_e)),t.pipe((0,P.M)({next:r,complete:r,error:r})).subscribe(u).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let oe=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new ve(Zone.current)),this.insideAngular=t.run(()=>new ve(Zone.current,N.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(e.KVO(e.SKi))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function It(n){return function Pt(n){return function(t){return(t=t.lift(new Re(n.ngZone))).pipe((0,z._)(n.outsideAngular),(0,U.Q)(n.insideAngular))}}(function F(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var ot=y(26863);ot.A.registerVersion("firebase","10.5.2","app-compat");const Vt=["ngOnDestroy"];class pt{constructor(u){return u}}const rt=new e.nKC("angularfire2.app.options"),V=new e.nKC("angularfire2.app.name");function be(n,u,t){const s="object"==typeof t&&t||{};s.name=s.name||"string"==typeof t&&t||"[DEFAULT]";const S=ot.A.apps.filter(O=>O&&O.name===s.name)[0]||u.runOutsideAngular(()=>ot.A.initializeApp(n,s));try{if(JSON.stringify(n)!==JSON.stringify(S.options)){const O=!!module.hot;Q("error",`${S.name} Firebase App already initialized with different options${O?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new pt(S)}const Q=(n,...u)=>{(0,e.naY)()&&typeof console<"u"&&console[n](...u)},me={provide:pt,useFactory:be,deps:[rt,e.SKi,[new e.Xx1,V]]};let Y=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:rt,useValue:t},{provide:V,useValue:r}]}}constructor(t){ot.A.registerVersion("angularfire",K.full,"core"),ot.A.registerVersion("angularfire",K.full,"app-compat"),ot.A.registerVersion("angular",e.xvI.full,t.toString())}static \u0275fac=function(r){return new(r||n)(e.KVO(e.Agw))};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({providers:[me]})}return n})();const Ne=typeof module<"u"&&!!module.hot,gt=(n,...u)=>{(0,e.naY)()&&typeof console<"u"&&console[n](...u)};globalThis.\u0275AngularfireInstanceCache||=[];var v=y(10936),he=y(65162),wt=y(69223),pe=y(15343);function $e(n,u){if(1&n){const t=e.RV6();e.j41(0,"input",3,4),e.bIt("paste",function(s){e.eBV(t);const d=e.XpG(2);return e.Njj(d.handlePaste(s))})("keyup",function(s){const S=e.eBV(t).index,O=e.XpG(2);return e.Njj(O.onKeyUp(s,S))})("input",function(s){e.eBV(t);const d=e.XpG(2);return e.Njj(d.onInput(s))})("keydown",function(s){const S=e.eBV(t).index,O=e.XpG(2);return e.Njj(O.onKeyDown(s,S))}),e.k0s()}if(2&n){const t=u.$implicit,r=u.index,s=e.XpG(2);e.ZvI("otp-input ",s.config.inputClass,""),e.Y8G("pattern",s.config.allowNumbersOnly?"\\d*":"")("type",s.inputType)("placeholder",(null==s.config?null:s.config.placeholder)||"")("ngStyle",s.config.inputStyles)("formControl",s.otpForm.controls[t])("id",s.getBoxId(r))}}function Mt(n,u){if(1&n&&(e.j41(0,"div",1),e.DNE(1,$e,2,9,"input",2),e.nI1(2,"keys"),e.k0s()),2&n){const t=e.XpG();e.ZvI("ng-otp-input-wrapper wrapper ",t.config.containerClass,""),e.Mz_("id","c_",t.componentKey,""),e.Y8G("ngStyle",t.config.containerStyles),e.R7$(1),e.Y8G("ngForOf",e.bMT(2,6,null==t.otpForm?null:t.otpForm.controls))}}class st{static ifTab(u){return this.ifKey(u,"Tab")}static ifDelete(u){return this.ifKey(u,"Delete;Del")}static ifBackspace(u){return this.ifKey(u,"Backspace")}static ifRightArrow(u){return this.ifKey(u,"ArrowRight;Right")}static ifLeftArrow(u){return this.ifKey(u,"ArrowLeft;Left")}static ifSpacebar(u){return this.ifKey(u,"Spacebar; ")}static ifKey(u,t){return t.split(";").some(s=>s===u.key)}}let ft=(()=>{class n{transform(t){return Object.keys(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.EJ8({name:"keys",type:n,pure:!0}),n})(),xt=(()=>{class n{constructor(t,r){this.keysPipe=t,this.document=r,this.config={length:4},this.onInputChange=new e.bkB,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new v.gE({});for(let t=0;t<this.config.length;t++)this.otpForm.addControl(this.getControlName(t),new v.MJ);this.otpForm.valueChanges.subscribe(t=>{this.keysPipe.transform(this.otpForm.controls).forEach(r=>{var s=this.otpForm.controls[r].value;s&&s.length>1&&(s.length>=this.config.length?this.setValue(s):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const t=this.document.getElementById(`c_${this.componentKey}`);if(t){const r=t.getElementsByClassName("otp-input")[0];r&&r.focus&&r.focus()}}}getControlName(t){return`ctrl_${t}`}onKeyDown(t,r){const s=this.getBoxId(r-1),d=this.getBoxId(r);return st.ifSpacebar(t)?(t.preventDefault(),!1):st.ifBackspace(t)?(t.target.value?this.clearInput(d,r):(this.clearInput(s,r-1),this.setSelected(s)),void this.rebuildValue()):void 0}onInput(t){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${t.target.value}`:t.target.value))return t.target.value="",t.stopPropagation(),void t.preventDefault()}onKeyUp(t,r){st.ifTab(t)&&(r-=1);const s=this.getBoxId(r+1),d=this.getBoxId(r-1),S=this.getBoxId(r);return st.ifRightArrow(t)?(t.preventDefault(),void this.setSelected(s)):st.ifLeftArrow(t)?(t.preventDefault(),void this.setSelected(d)):st.ifDelete(t)?(t.target.value?this.clearInput(S,r):(this.clearInput(d,r-1),this.setSelected(d)),void this.rebuildValue()):void(t.target.value&&(this.ifValidKeyCode(t)&&this.setSelected(s),this.rebuildValue()))}validateNumber(t){return t&&/^[0-9]+$/.test(t)}getBoxId(t){return`otp_${t}_${this.componentKey}`}clearInput(t,r){let s=this.getControlName(r);this.otpForm.controls[s]?.setValue(null);const d=this.document.getElementById(t);d&&d instanceof HTMLInputElement&&(d.value=null)}setSelected(t){this.focusTo(t);const r=this.document.getElementById(t);r&&r.setSelectionRange&&setTimeout(()=>{r.setSelectionRange(0,1)},0)}ifValidKeyCode(t){const r=t.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(r)}focusTo(t){const r=this.document.getElementById(t);r&&r.focus()}setValue(t){if(!this.config.allowNumbersOnly||!isNaN(t)){if(this.otpForm.reset(),!t)return void this.rebuildValue();if(t=t.toString().replace(/\s/g,""),Array.from(t).forEach((s,d)=>{this.otpForm.get(this.getControlName(d))&&this.otpForm.get(this.getControlName(d)).setValue(s)}),!this.config.disableAutoFocus){const s=this.document.getElementById(`c_${this.componentKey}`);var r=t.length<this.config.length?t.length:this.config.length-1;let d=s.getElementsByClassName("otp-input")[r];d&&d.focus&&d.focus()}this.rebuildValue()}}rebuildValue(){let t="";this.keysPipe.transform(this.otpForm.controls).forEach(r=>{if(this.otpForm.controls[r].value){let s=this.otpForm.controls[r].value,d=s.length>1,S=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());s=s[0];let O=S?"upper"==this.config.letterCase.toLocaleLowerCase()?s.toUpperCase():s.toLowerCase():s;S&&O==s?S=!1:s=O,t+=s,(d||S)&&this.otpForm.controls[r].setValue(s)}}),this.formCtrl?.setValue&&this.formCtrl.setValue(t),this.onInputChange.emit(t),this.currentVal=t}handlePaste(t){let r=t.clipboardData||window.clipboardData;if(r)var s=r.getData("Text");t.stopPropagation(),t.preventDefault(),s&&(!this.config.allowNumbersOnly||this.validateNumber(s))&&this.setValue(s)}}return n.\u0275fac=function(t){return new(t||n)(e.rXU(ft),e.rXU(_.qQ))},n.\u0275cmp=e.VBU({type:n,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","formControl","id","paste","keyup","input","keydown"],["inp",""]],template:function(t,r){1&t&&e.DNE(0,Mt,3,8,"div",0),2&t&&e.Y8G("ngIf",null==r.otpForm?null:r.otpForm.controls)},dependencies:[_.bT,_.B3,_.Sq,v.me,v.R_,v.BC,v.l_,ft],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),n})(),at=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({providers:[ft],imports:[[_.MD,v.YN,v.X1]]}),n})();var vt=y(13763),Lt=y(10123),Je=y(25571),lt=y(5502),Yt=y(46584),St=y(70050),pn=y(7050),De=y(91100),Ae=y(43234),Wt=y(1133),ut=y(76627),te=y(59640),qe=y(73402),dt=y(69988),Ue=y(36484),Ve=y(39307),qt=y(18350),bt=y(46899),Le=y(18718),Gt=y(22783),I=y(96451),b=y(69715),p=y(81519),f=y(47426),m=y(74960),T=y(99503),A=y(79347),G=y(9691),X=y(15766),ne=y(89163),Ce=y(33887),$=y(20512),Oe=y(84828),ue=y(4375),de=y(52811),L=y(73437);function x(n,u){if(1&n&&(e.j41(0,"mat-option",16),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function E(n,u){if(1&n&&(e.j41(0,"mat-option",16),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function M(n,u){if(1&n&&(e.j41(0,"mat-option",16),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function H(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",4)(1,"mat-form-field",5)(2,"mat-select",17),e.bIt("valueChange",function(s){e.eBV(t);const d=e.XpG();return e.Njj(d.department_select=s)})("selectionChange",function(s){e.eBV(t);const d=e.XpG();return e.Njj(d.selectDepartment(s.value))}),e.nI1(3,"mytranslate"),e.DNE(4,M,2,2,"mat-option",7),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(2),e.FS9("placeholder",e.bMT(3,3,"lang_testbank_utils_school_info_select_department")),e.Y8G("value",t.department_select),e.R7$(2),e.Y8G("ngForOf",t.departments)}}function ce(n,u){if(1&n&&(e.j41(0,"mat-option",16),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function ge(n,u){1&n&&(e.j41(0,"span",18),e.nrm(1,"azt-loading-ui"),e.k0s())}let Pe=(()=>{class n extends Ce._{initData(){this.getProvinces(),this.getTypeSchool()}selectLocation(t){this.location_select=t,this.department_select=null,this.departments=[],this.getDistrictsByProvince()}selectLevel(t){this.schools=[],this.school_select=null,this.level_select=t,t<=3?(this.getListSchool(),this.getDistrictsByProvince()):t>3&&this.getListSchoolByProvince()}selectDepartment(t){this.schools=[],this.school_select=null,this.department_select=t,this.getListSchool()}selectSchool(t){this.school_select=t}saveInfo(){this.school_select?-1===this.school_select?this.btnCloseDialog(void 0):this.schoolConfigService.apiSchoolConfigPushSchoolInfoPost({schoolId:this.school_select??0}).subscribe(r=>{r&&1==r.success?(this.showSuccessSnack("lang_auto_cap_nhat_thong_tin_thanh_cong"),this.btnCloseDialog(r.data?.obj)):this.showErrorSnack("lang_auto_cap_nhat_thong_tin_khong_thanh_cong_vui_long_thao_tac_lai")}):this.showErrorSnack(this.sAztUserService.isTeacherRole()?"lang_auto_vui_long_chon_truong_minh_dang_giang_day":"lang_auto_vui_long_chon_truong_minh_dang_theo_hoc")}btnCloseDialog(t){this.dialogRef.close(t)}getProvinces(){this.schoolInfoService.apiSchoolInfoGetProvincesGet().subscribe(t=>{t&&(this.locations=t.data?.objs??new Array,this.locations=this.sortName(this.locations))})}getTypeSchool(){this.schoolInfoService.apiSchoolInfoGetTypeSchoolGet().subscribe(t=>{t&&(this.levels=t.data?.objs??new Array)})}getDistrictsByProvince(t=(()=>{})){this.schoolInfoService.apiSchoolInfoGetDistrictsByProvinceGet(this.location_select??0).subscribe(r=>{r&&(this.departments=r.data?.objs??new Array,this.departments=this.sortName(this.departments),t())})}getListSchoolByProvince(t=(()=>{})){this.location_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByProvinceGet(this.location_select,this.level_select).subscribe(r=>{r&&(this.schools=r.data?.objs??new Array,this.schools=this.sortName(this.schools),t())})}getListSchool(t=(()=>{})){this.department_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByDistrictGet(this.department_select,this.level_select).subscribe(r=>{r&&(this.schools=r.data?.objs??new Array,this.schools=this.sortName(this.schools),t())})}sortName(t){return t.sort((r,s)=>r.name?.trim().localeCompare(s.name?.trim()??"")??-1),t}ngOnInit(){this.infoSchool&&(this.location_select=this.infoSchool.provinceId,this.level_select=this.infoSchool.typeId,this.infoSchool.typeId<=3?this.getDistrictsByProvince(()=>{this.department_select=this.infoSchool.districtId,this.getListSchool(()=>{this.school_select=this.infoSchool.id})}):(this.infoSchool.typeId??0)>3&&this.getListSchoolByProvince(()=>{"boolean"!=typeof this.infoSchool&&(this.school_select=this.infoSchool.id)})),this.initData(),super.ngOnInit()}constructor(t,r,s,d,S){super(S,d),this.schoolConfigService=t,this.schoolInfoService=r,this.sAztUserService=s,this.dialogRef=d,this.departments=[],this.levels=[],this.schools=[],this.locations=[],this.location_select=null,this.department_select=null,this.level_select=null,this.school_select=null,this.infoSchool=S.infoSchool,this.form=new v.gE({LocationName:new v.MJ("",{nonNullable:!0}),LevelName:new v.MJ("",{nonNullable:!0}),DepartmentName:new v.MJ("",{nonNullable:!0}),SchoolName:new v.MJ("",{nonNullable:!0}),multiChooseLevel:new v.MJ([]),listMultiChooseSubject:new v.Yp([])})}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU($.C1),e.rXU(Oe.OC),e.rXU(Ue.R),e.rXU(ne.CP,8),e.rXU(ne.Vh,8))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["azt-school-info"]],features:[e.Vt3],decls:32,vars:31,consts:[[1,"box","p-5",2,"max-height","80vh","overflow-y","auto"],[1,"text-md","font-medium","flex","items-center"],[1,"text-xs","text-slate-500","dark:text-slate-400","mt-2"],[1,"mt-3",3,"formGroup"],[1,"form-group","mb-3"],["appearance","outline"],["name","LocationName",3,"value","placeholder","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","LevelName",3,"value","placeholder","valueChange","selectionChange"],["class","form-group mb-3",4,"ngIf"],[1,"form-group"],["name","SchoolName",3,"value","placeholder","valueChange","selectionChange"],[1,"mt-3","mb-2","flex","justify-end"],["azt-track-service","azt-school-info-3HcPzwtB3hg",1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],["azt-track-service","azt-school-info-6J6trmJ9m-D",1,"btn","btn-primary","w-24",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"value"],["name","DepartmentName",3,"value","placeholder","valueChange","selectionChange"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(r,s){if(1&r&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",2),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"form",3)(8,"div",4)(9,"mat-form-field",5)(10,"mat-select",6),e.bIt("valueChange",function(S){return s.location_select=S})("selectionChange",function(S){return s.selectLocation(S.value)}),e.nI1(11,"mytranslate"),e.DNE(12,x,2,2,"mat-option",7),e.k0s()()(),e.j41(13,"div",4)(14,"mat-form-field",5)(15,"mat-select",8),e.bIt("valueChange",function(S){return s.level_select=S})("selectionChange",function(S){return s.selectLevel(S.value)}),e.nI1(16,"mytranslate"),e.DNE(17,E,2,2,"mat-option",7),e.k0s()()(),e.DNE(18,H,5,5,"div",9),e.j41(19,"div",10)(20,"mat-form-field",5)(21,"mat-select",11),e.bIt("valueChange",function(S){return s.school_select=S})("selectionChange",function(S){return s.selectSchool(S.value)}),e.nI1(22,"mytranslate"),e.DNE(23,ce,2,2,"mat-option",7),e.k0s()()()(),e.j41(24,"div",12)(25,"button",13),e.bIt("click",function(){return s.btnCloseDialog(void 0)}),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s(),e.j41(28,"button",14),e.bIt("click",function(){return s.saveInfo()}),e.DNE(29,ge,2,0,"span",15),e.EFF(30),e.nI1(31,"mytranslate"),e.k0s()()()),2&r){let d;e.R7$(2),e.SpI(" ",e.bMT(3,17,"lang_auto_cap_nhat_thong_tin_truong")," "),e.R7$(3),e.SpI(" ",e.bMT(6,19,"lang_testbank_utils_school_info_note_tutorial")," "),e.R7$(2),e.Y8G("formGroup",s.form),e.R7$(3),e.FS9("placeholder",e.bMT(11,21,"lang_testbank_utils_school_info_select_province")),e.Y8G("value",s.location_select),e.R7$(2),e.Y8G("ngForOf",s.locations),e.R7$(3),e.FS9("placeholder",e.bMT(16,23,"lang_testbank_utils_school_info_select_level")),e.Y8G("value",s.level_select),e.R7$(2),e.Y8G("ngForOf",s.levels),e.R7$(1),e.Y8G("ngIf",(null!==(d=s.level_select)&&void 0!==d?d:0)<=3),e.R7$(3),e.FS9("placeholder",e.bMT(22,25,"lang_testbank_utils_school_info_select_school")),e.Y8G("value",s.school_select),e.R7$(2),e.Y8G("ngForOf",s.schools),e.R7$(3),e.SpI(" ",e.bMT(27,27,"lang_testbank_utils_school_info_later")," "),e.R7$(2),e.Y8G("disabled",s.statusObj.loading),e.R7$(1),e.Y8G("ngIf",s.statusObj.loading),e.R7$(1),e.SpI("",e.bMT(31,29,"lang_button_save")," ")}},dependencies:[_.Sq,_.bT,f.wT,m.rl,ue.VO,v.qT,v.cb,v.j4,de.R,L.wp],encapsulation:2})}return n})();var Ze=y(40246);function Qe(n,u){1&n&&(e.j41(0,"span",7),e.nrm(1,"azt-loading-ui"),e.k0s())}let Qt=(()=>{class n extends Ce._{setData(t){this.dataObjs=t}checkValidChooseGradeAndSubject(t){let r=!0;return t.length?t.forEach(s=>{(!s.subjectsIds||!s.subjectsIds.length)&&(r=!1)}):r=!1,r}saveInfo(){let t=[],r=[],s=[];for(let d=0;d<this.dataObjs.length;d++)if(this.commonService.isExistInArray(r,this.dataObjs[d].class?.value)||(r.push(Number(this.dataObjs[d].class?.value)),s.push(String(this.dataObjs[d].class?.desc))),this.dataObjs[d].subjectsIds&&Array.isArray(this.dataObjs[d].subjectsIds)){let S=this.dataObjs[d].subjectsIds??[];if(S.length)for(let O=0;O<S.length;O++)t.push({classId:this.dataObjs[d].class?.value??0,subjectId:S[O]})}t.length>0?(this.initStatusObj(),this.surveyConfigService.apiSurveyConfigSaveSurvey3Post({objs:t}).subscribe(d=>{d&&1==d.success?(this.classroomGradePathValue=r,this.dialogRef.close({classroomIds:r,classroomDescs:s})):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0)})):this.errorStatusObj("lang_matrix_list_choose_grade_and_subject_fail",!0)}btnCloseDialog(){this.dialogRef.close()}ngOnInit(){super.ngOnInit()}constructor(t,r,s){super(s,r),this.surveyConfigService=t,this.dialogRef=r,this.dataDialog=s,this.valueSurvey=[],this.valueSubjectSurvey=[],this.dataObjs=[],this.oldDataObjs=[],this.classroomGrade=[],this.classroomGradePathValue=[],this.classroomGradePathValue=this.dataDialog.classroomGradePathValue,this.valueSurvey=this.dataDialog.valueSurvey,this.dataObjs=this.dataDialog.dataObjs,this.dataObjs.sort((d,S)=>(d.class?.value??0)-(S.class?.value??0)),this.valueSubjectSurvey=this.dataDialog.valueSubjectSurvey,this.form=new v.gE({LocationName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),LevelName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),DepartmentName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),SchoolName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),multiChooseLevel:new v.MJ([]),listMultiChooseSubject:new v.Yp([])})}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU($.K0),e.rXU(ne.CP,8),e.rXU(ne.Vh,8))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["azt-grade-subject-info"]],features:[e.Vt3],decls:11,vars:13,consts:[[1,"box","p-5"],[3,"formGroup"],[3,"valueSurvey","valueSubjectSurvey","classroomGradePathValue","dataObjs","sendData"],[1,"mt-3","flex","justify-end"],[1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],[1,"btn","btn-primary","w-24",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"form",1)(2,"azt-multi-choose-level-subject",2),e.bIt("sendData",function(S){return s.setData(S)}),e.k0s()(),e.j41(3,"div",3)(4,"button",4),e.bIt("click",function(){return s.btnCloseDialog()}),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"button",5),e.bIt("click",function(){return s.saveInfo()}),e.DNE(8,Qe,2,0,"span",6),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()()()),2&r&&(e.R7$(1),e.Y8G("formGroup",s.form),e.R7$(1),e.Y8G("valueSurvey",s.valueSurvey)("valueSubjectSurvey",s.valueSubjectSurvey)("classroomGradePathValue",s.classroomGradePathValue)("dataObjs",s.dataObjs),e.R7$(3),e.SpI(" ",e.bMT(6,9,"lang_testbank_utils_school_info_later")," "),e.R7$(2),e.Y8G("disabled",s.statusObj.loading||!s.checkValidChooseGradeAndSubject(s.dataObjs)),e.R7$(1),e.Y8G("ngIf",s.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(10,11,"lang_button_save")," "))},dependencies:[_.bT,v.qT,v.cb,v.j4,de.R,Ze.C,L.wp],encapsulation:2})}return n})();var Xt=y(39712),Bo=y(97357),yn=y(39471),Vo=y(97839),Ge=y(68323),et=y(81587),Yo=y(64198),ti=y(9516);function Br(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e.SdG(4,1),e.k0s(),e.j41(5,"div",8)(6,"div",9)(7,"image-cropper",10),e.bIt("imageCropped",function(s){e.eBV(t);const d=e.XpG();return e.Njj(d.imageCropped(s))}),e.k0s()()(),e.j41(8,"div",11)(9,"button",12),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.removeDialog())}),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"button",13),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.submitImage())}),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()()()()()}if(2&n){const t=e.XpG();e.Y8G("ngClass",t.isMobileWebView?"box-mobile-web-view":"box-web"),e.R7$(7),e.Y8G("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",150)("cropperMinWidth",128),e.R7$(3),e.JRh(e.bMT(11,8,"lang_auto_huy")),e.R7$(3),e.JRh(e.bMT(14,10,"lang_auto_cap_nhat"))}}const Wo=[[["","body",""]],[["","header",""]]],qo=["[body]","[header]"];let Qo=(()=>{class n extends ti.L{constructor(){super(...arguments),this.uploadComplete=new e.bkB,this.imageChangedEvent=void 0,this.imageFileName=""}fileChangeEvent(t){const s=t.target.files;if(s){if((0,Yo.hD)(s[0]?.size)>=this.limitSize)return this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_vui_long_chon_tep_co_kich_thuoc_nho_hon",this.limitSize.toString(),"MB"));this.imageChangedEvent=t,this.imageFileName=s?.length?s[0]?.name:""}}imageCropped(t){fetch(t.objectUrl??"").then(r=>r.blob()).then(r=>{const s=new FileReader;s.onload=()=>{let S=this.b64toFile(s.result,this.imageFileName);this.saveImage=S},s.readAsDataURL(r)}).catch(r=>{console.error(this.commonService.translateToKeyParam("lang_auto_co_loi_xay_ra",r))})}submitImage(){const t=this.imageChangedEvent?.target;t.files=null,this.imageChangedEvent=void 0,this.saveImage&&this.uploadFile(this.saveImage,"").then(r=>{r&&this.uploadComplete.emit(r)})}removeDialog(){const t=this.imageChangedEvent?.target;t.files=null,this.imageChangedEvent=void 0}emitUploadComplete(t){}b64toFile(t,r){t=t.replace("data:image/png;base64,","");let S=window.atob(t),O=[];for(let ie=0;ie<S.length;ie+=512){let Fe=S.slice(ie,ie+512),je=new Array(Fe.length);for(let we=0;we<Fe.length;we++)je[we]=Fe.charCodeAt(we);let ct=new Uint8Array(je);O.push(ct)}return new File(O,r,{type:"image/png"})}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}}();static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["azt-upload-image-cropper"]],outputs:{uploadComplete:"uploadComplete"},features:[e.Vt3],ngContentSelectors:qo,decls:5,vars:2,consts:[[1,"flex","items-center","justify-center","h-full",3,"click"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"accept","change","cancel"],["formChoseFile",""],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-body",2,"max-height","430px","overflow-y","auto"],[1,"img-container"],[3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","imageCropped"],[1,"modal-footer"],["control-id","ControlID-2",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["id","crop-button","control-id","ControlID-3",1,"btn","btn-primary","w-24",3,"click"]],template:function(r,s){if(1&r){const d=e.RV6();e.NAR(Wo),e.j41(0,"div",0),e.bIt("click",function(){e.eBV(d);const O=e.sdS(2);return e.Njj(s.onOpenFileDictionary()&&O.click())}),e.j41(1,"input",1,2),e.bIt("change",function(O){return s.fileChangeEvent(O)})("cancel",function(O){return s.onCancelSelect(O)}),e.k0s(),e.SdG(3),e.k0s(),e.DNE(4,Br,15,12,"div",3)}2&r&&(e.R7$(1),e.FS9("accept",s.fileType),e.R7$(3),e.Y8G("ngIf",s.imageChangedEvent))},dependencies:[_.YU,_.bT,Je._D,L.wp],styles:[".source-image{margin:auto!important}.modal-dialog[_ngcontent-%COMP%]{max-width:500px;margin:auto}.box-web[_ngcontent-%COMP%]{position:fixed;left:0;top:0;z-index:9999;background:#303030b0;width:100%;height:100%;padding:20px}.box-mobile-web-view[_ngcontent-%COMP%]{position:fixed;left:0;top:0;z-index:9999;background:#303030b0;width:100%;height:100%;padding:20px;display:flex;align-items:center;justify-content:center}"]})}return n})();function Vr(n,u){if(1&n&&e.nrm(0,"azt-loading-effect",3),2&n){const t=e.XpG();e.Y8G("currentStatusObj",t.statusObj)}}const Yr=function(n){return[n]},In=function(){return{"mr-2":!0}};function jn(n,u){if(1&n){const t=e.RV6();e.j41(0,"azt-upload-image-cropper",47),e.bIt("uploadComplete",function(s){e.eBV(t);const d=e.XpG(2);return e.Njj(d.submitAvatar(s))}),e.j41(1,"div",48)(2,"div",49)(3,"button",50),e.nrm(4,"lucide-icon",51),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()(),e.j41(7,"div",52),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()(),e.j41(10,"div",53),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s()()}if(2&n){const t=e.XpG(2);e.Y8G("uploadToCdnMenu",t.allUploadToCdnMenuTypes.AVATAR)("fileType",e.eq3(13,Yr,t.allUploadFileTypes.IMAGE))("limitSize",t.limitSize),e.R7$(4),e.Y8G("ngClass",e.lJ4(15,In)),e.R7$(1),e.SpI(" ",e.bMT(6,7,"lang_auto_tai_len")," "),e.R7$(3),e.SpI(" ",e.bMT(9,9,"lang_auto_tai_anh_va_kich_thuoc_toi_da_5mb")," "),e.R7$(3),e.JRh(e.bMT(12,11,"lang_auto_cap_nhat_anh_dai_dien"))}}function ni(n,u){1&n&&(e.j41(0,"div",54),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function Xo(n,u){1&n&&(e.j41(0,"div",54),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_ngay_sinh")," "))}function ii(n,u){1&n&&e.nrm(0,"input",55)}function Ho(n,u){1&n&&(e.nrm(0,"input",56),e.nI1(1,"mytranslate")),2&n&&e.FS9("placeholder",e.bMT(1,1,"lang_auto_nhap_email")+"...")}function Jo(n,u){1&n&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI("*",e.bMT(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang"),""))}function Wr(n,u){if(1&n&&(e.j41(0,"div",57),e.DNE(1,Jo,3,3,"div",43),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.getErrorType("email","email")||t.getErrorType("email","pattern"))}}function qr(n,u){if(1&n){const t=e.RV6();e.j41(0,"a",58),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.goToConfirmEmail())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_email")," "))}function Ko(n,u){1&n&&e.nrm(0,"input",59)}function Qr(n,u){1&n&&(e.nrm(0,"input",60),e.nI1(1,"mytranslate")),2&n&&e.FS9("placeholder",e.bMT(1,1,"lang_auto_nhap_so_dien_thoai")+"...")}function Zo(n,u){1&n&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_so_dien_thoai_chi_gom_cac_chu_so_va_dai_10_ky_tu")," "))}function gn(n,u){if(1&n&&(e.j41(0,"div",57),e.DNE(1,Zo,3,3,"div",43),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.getErrorType("phone","pattern")||t.getErrorType("phone","minlength")||t.getErrorType("phone","maxlength"))}}function Xr(n,u){if(1&n){const t=e.RV6();e.j41(0,"a",61),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.goToConfirm())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_so")," "))}function ri(n,u){1&n&&(e.j41(0,"div",62)(1,"div"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.SpI("*",e.bMT(3,1,"lang_account_general_require_school"),""))}function Hr(n,u){1&n&&(e.j41(0,"div",62)(1,"div"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.SpI("*",e.bMT(3,1,"lang_account_general_require_grade_subject"),""))}function oi(n,u){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div",63)(2,"label",37),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",38),e.nrm(6,"input",39),e.j41(7,"button",64),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.openSelectGradeSubjectDialog())}),e.nrm(8,"lucide-icon",41),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()(),e.DNE(11,Hr,4,3,"div",42),e.k0s(),e.bVm()}if(2&n){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,5,"lang_auto_chon_khoi_day_mon_day")),e.R7$(3),e.FS9("value",t.classroomGradeDesc.join(", ")),e.R7$(2),e.Y8G("ngClass",e.lJ4(9,In)),e.R7$(1),e.SpI(" ",e.bMT(10,7,t.classroomGradeDesc.length?"lang_auto_sua":"lang_auto_them")," "),e.R7$(2),e.Y8G("ngIf",!t.classroomGradeDesc.length)}}function es(n,u){1&n&&e.nrm(0,"azt-loading-ui",65)}function si(n,u){if(1&n){const t=e.RV6();e.j41(0,"form",4)(1,"div",5)(2,"div",6),e.nrm(3,"azt-create-avatar",7),e.k0s(),e.DNE(4,jn,13,16,"azt-upload-image-cropper",8),e.k0s(),e.j41(5,"div",9)(6,"div",10)(7,"label",11),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.nrm(10,"input",12),e.nI1(11,"mytranslate"),e.DNE(12,ni,3,3,"div",13),e.k0s(),e.j41(13,"div",10)(14,"label",14),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s(),e.j41(17,"mat-form-field",15)(18,"input",16),e.bIt("click",function(){e.eBV(t);const s=e.sdS(23);return e.Njj(s.open())}),e.nI1(19,"mytranslate"),e.k0s(),e.j41(20,"button",17),e.bIt("click",function(s){return e.eBV(t),e.sdS(23).open(),e.Njj(s.stopPropagation())}),e.nrm(21,"lucide-icon",18),e.k0s(),e.j41(22,"ngx-mat-datetime-picker",19,20)(24,"ngx-mat-datepicker-actions")(25,"button",21),e.EFF(26,"OK"),e.k0s()()()(),e.DNE(27,Xo,3,3,"div",13),e.k0s(),e.j41(28,"div",10)(29,"label",22),e.EFF(30),e.nI1(31,"mytranslate"),e.k0s(),e.DNE(32,ii,1,0,"input",23),e.DNE(33,Ho,2,3,"input",24),e.DNE(34,Wr,2,1,"div",25),e.DNE(35,qr,3,3,"a",26),e.k0s(),e.j41(36,"div",10)(37,"label",22),e.EFF(38),e.nI1(39,"mytranslate"),e.k0s(),e.DNE(40,Ko,1,0,"input",27),e.DNE(41,Qr,2,3,"input",28),e.DNE(42,gn,2,1,"div",25),e.DNE(43,Xr,3,3,"a",29),e.k0s(),e.j41(44,"div",10)(45,"label",22),e.EFF(46),e.nI1(47,"mytranslate"),e.k0s(),e.j41(48,"div",30)(49,"div",31),e.nrm(50,"input",32),e.j41(51,"label",33),e.EFF(52),e.nI1(53,"mytranslate"),e.k0s()(),e.j41(54,"div",31),e.nrm(55,"input",34),e.j41(56,"label",35),e.EFF(57),e.nI1(58,"mytranslate"),e.k0s()()()(),e.j41(59,"div",36)(60,"label",37),e.EFF(61),e.nI1(62,"mytranslate"),e.k0s(),e.j41(63,"div",38),e.nrm(64,"input",39),e.j41(65,"button",40),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.openDialogInfoSchool())}),e.nrm(66,"lucide-icon",41),e.EFF(67),e.nI1(68,"mytranslate"),e.k0s()(),e.DNE(69,ri,4,3,"div",42),e.k0s(),e.DNE(70,oi,12,10,"ng-container",43),e.k0s(),e.j41(71,"div",44)(72,"button",45),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.parseInfoFieldForStudentObjsInExportExcel())}),e.DNE(73,es,1,0,"azt-loading-ui",46),e.EFF(74),e.nI1(75,"mytranslate"),e.k0s()()()}if(2&n){const t=e.sdS(23),r=e.XpG();e.Y8G("formGroup",r.form),e.R7$(3),e.Y8G("linkAvatar",null==r.userObj?null:r.userObj.avatar)("nameCreateAvatar",null==r.userObj?null:r.userObj.fullName)("size",96),e.R7$(1),e.Y8G("ngIf",!r.isMobileWebView),e.R7$(4),e.SpI(" ",e.bMT(9,37,"lang_auto_ho_va_ten")," "),e.R7$(2),e.FS9("placeholder",e.bMT(11,39,"lang_auto_nhap_ho_va_ten")+"..."),e.R7$(2),e.Y8G("ngIf",r.form.controls.fullName.errors),e.R7$(3),e.JRh(e.bMT(16,41,"lang_auto_ngay_sinh")),e.R7$(3),e.FS9("placeholder",e.bMT(19,43,"lang_auto_ngay_sinh")),e.Y8G("max",r.maxDate)("ngxMatDatetimePicker",t),e.R7$(4),e.Y8G("touchUi",!0)("hideTime",!0),e.R7$(5),e.Y8G("ngIf",r.form.controls.birthday.errors),e.R7$(3),e.SpI(" ",e.bMT(31,45,"lang_auto_email")," "),e.R7$(2),e.Y8G("ngIf",null==r.userObj?null:r.userObj.email),e.R7$(1),e.Y8G("ngIf",!(null!=r.userObj&&r.userObj.email)),e.R7$(1),e.Y8G("ngIf",r.form.controls.email.invalid&&r.form.controls.email.dirty),e.R7$(1),e.Y8G("ngIf",(null==r.userObj?null:r.userObj.email)&&!r.isBusinessDomain),e.R7$(3),e.SpI(" ",e.bMT(39,47,"lang_auto_so_dien_thoai")," "),e.R7$(2),e.Y8G("ngIf",null==r.userObj?null:r.userObj.phone),e.R7$(1),e.Y8G("ngIf",!(null!=r.userObj&&r.userObj.phone)),e.R7$(1),e.Y8G("ngIf",r.form.controls.phone.invalid&&(r.form.controls.phone.dirty||r.form.controls.phone.touched)),e.R7$(1),e.Y8G("ngIf",(null==r.userObj?null:r.userObj.phone)&&!r.isBusinessDomain),e.R7$(3),e.SpI(" ",e.bMT(47,49,"lang_auto_gioi_tinh")," "),e.R7$(6),e.SpI(" ",e.bMT(53,51,"lang_auto_nam")," "),e.R7$(5),e.SpI(" ",e.bMT(58,53,"lang_auto_nu")," "),e.R7$(4),e.JRh(e.bMT(62,55,"lang_auto_thong_tin_truong")),e.R7$(3),e.FS9("value",null==r.infoSchool?null:r.infoSchool.name),e.R7$(2),e.Y8G("ngClass",e.lJ4(61,In)),e.R7$(1),e.SpI(" ",e.bMT(68,57,null!=r.infoSchool&&r.infoSchool.name?"lang_auto_sua":"lang_auto_them")," "),e.R7$(2),e.Y8G("ngIf",!(null!=r.infoSchool&&r.infoSchool.name)),e.R7$(1),e.Y8G("ngIf",r.isTeacherDashboard),e.R7$(2),e.Y8G("disabled",!r.form.valid||!(null!=r.infoSchool&&r.infoSchool.name)||r.isTeacherDashboard&&!r.classroomGradeDesc.length),e.R7$(1),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(75,59,"lang_auto_cap_nhat")," ")}}let ts=(()=>{class n extends te.H{openSelectGradeSubjectDialog(){this.sAztDialogService.open(Qt,{width:"700px",data:{classroomGradePathValue:this.classroomGradePathValue,valueSurvey:this.multiChooseLevelSubjectService.valueSurvey,dataObjs:this.dataObjs,valueSubjectSurvey:this.multiChooseLevelSubjectService.valueSubjectSurvey},restoreFocus:!1}).afterClosed().subscribe(s=>{s&&s.classroomIds.length&&s.classroomDescs.length?(this.classroomGradePathValue=s.classroomIds,this.classroomGradeDesc=s.classroomDescs,this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)):(this.dataObjs=[],this.checkSurveySubmitted())})}getGradeAndSubjectObj(){this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(t=>{1==t.success?(this.multiChooseLevelSubjectService.processDataSchoolAndLevel(t.data?.schoolLevelSubjectObjs??[]),this.checkSurveySubmitted()):this.errorStatusObj(t.message??"")}))}checkSurveySubmitted(){this.loadingStatus=!0,this.surveyConfigService.apiSurveyConfigGetSurvey3Get().subscribe(t=>{t&&1==t.success?((t.data?.objs??[]).forEach(s=>{let d=this.multiChooseLevelSubjectService.valueSurvey.find(S=>S.value==s.classId);if(d){d.value&&d.desc&&!this.commonService.isExistInArray(this.classroomGradePathValue,d.value)&&(this.classroomGradePathValue.push(d.value),this.classroomGradeDesc.push(d.desc));let S=this.dataObjs.filter(O=>O.class?.value==d?.value);S&&S.length?this.dataObjs.forEach(O=>{O.class?.value==d?.value&&s.subjectId&&O.subjectsIds?.push(s.subjectId)},this.dataObjs):this.dataObjs.push({class:d,subjectsIds:s.subjectId?[s.subjectId]:[]})}}),this.loadingStatus=!1,this.successStatusObj()):(this.loadingStatus=!1,this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu",!0))})}submitAvatar(t){this.waitDestroy(this.userInfoService.apiUserInfoUpdateInfoPost({avatarUrl:t.url??""}).subscribe(s=>{1==s.success?(this.successStatusObj(),this.userObj=this.userService.getUserObj()):this.errorStatusObj("lang_auto_cap_nhat_thong_tin_khong_thanh_cong",!0)}))}openDialogInfoSchool(){this.sAztDialogService.open(Pe,{data:{infoSchool:this.infoSchool},restoreFocus:!1}).afterClosed().subscribe(r=>{r&&(this.infoSchool=r)})}checkSchoolInfo(){this.schoolConfigService.apiSchoolConfigGetSchoolInfoGet().subscribe(t=>{this.infoSchool=t.data?.obj})}parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let t=this.getFormValue(),r=this.userObj?.birthday?new Date(this.userObj.birthday):new Date(1990,1,1),s=t.birthday?t.birthday:r.toString(),d={fullName:t.fullName,birthday:this.timeService.formatOnlyDateToPostToServer(s),gender:Number(t.gender)??0,email:t.email,phone:t.phone};this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoUpdateInfoPost(d).subscribe(S=>{1==S.success?(S.data&&(this.saveUserObj.emit(S.data),this.userObj=S.data),this.successStatusObj("lang_auto_cap_nhat_thong_tin_thanh_cong",!0)):this.errorStatusObj(S.message??"",!0)}))}}initData(){let t=this.userObj?.birthday?this.userObj.birthday:"";this.form.patchValue({fullName:null!=this.userObj&&this.userService.isAnonymousName(this.userObj)?"":this.userObj?.fullName??"",email:this.userObj?.email??"",phone:this.userObj?.phone??"",gender:1!=this.userObj?.gender?"0":"1"}),this.form.controls.birthday.setValue(t.toString())}getFormValue(){return this.form.getRawValue()}getErrorType(t,r){return!!this.form.controls?.[t]?.errors?.[r]&&this.form.controls?.[t]?.errors?.[r]}goToConfirm(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var t="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=change_phone";this.commonService.myNavigationWithQueryString("/auth/confirm_account",t)}goToConfirmEmail(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1)+"/0";var t="?return_url="+encodeURIComponent(this.returnUrl);this.commonService.myNavigationWithQueryString("/auth/change-email",t)}checkEnableChangeEmailOrPhone(t,r){if("email"==r){if(!t||!t.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/))return!0}else if("phone"==r&&(!t||t.length>15))return!0;return!1}ngOnInit(){this.userObj?.phone&&(this.form.controls.phone.clearValidators(),this.form.controls.phone.updateValueAndValidity()),this.userObj?.email&&(this.form.controls.email.clearValidators(),this.form.controls.email.updateValueAndValidity()),this.initStatusObj(),this.initData(),this.checkSchoolInfo(),this.getGradeAndSubjectObj(),super.ngOnInit()}constructor(t,r,s,d,S,O,W,ie){super(),this.userInfoService=t,this.userService=r,this.timeService=s,this.sAztDialogService=d,this.schoolConfigService=S,this.surveyConfigService=O,this.commonListService=W,this.multiChooseLevelSubjectService=ie,this.isTeacherDashboard=!1,this.saveUserObj=new e.bkB,this.returnUrl="",this.dataObjs=[],this.oldDataObjs=[],this.classroomGradeDesc=[],this.classroomGradePathValue=[],this.loadingStatus=!1,this.maxDate=Ae.c.maxDateTimePicker,this.allUploadToCdnMenuTypes=Xt.b8,this.allUploadFileTypes=Xt.PO,this.limitSize=5,this.userObj=this.userService.getUserObj(),this.form=new v.gE({fullName:new v.MJ({value:"",disabled:this.userObj?.isParentViewOnly??!1},{nonNullable:!0,validators:[v.k0.required,X.M.noWhiteSpace]}),gender:new v.MJ({value:"",disabled:this.userObj?.isParentViewOnly??!1},{nonNullable:!0}),birthday:new v.MJ({value:"",disabled:this.userObj?.isParentViewOnly??!1},{nonNullable:!0,validators:[v.k0.required]}),phone:new v.MJ({value:"",disabled:this.userObj?.isParentViewOnly??!1},{nonNullable:!0,validators:[v.k0.pattern("^[0-9]{10}$")]}),email:new v.MJ({value:"",disabled:this.userObj?.isParentViewOnly??!1},{nonNullable:!0,validators:[v.k0.email,v.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]})})}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU($.fv),e.rXU(Ue.R),e.rXU(G.F),e.rXU(bt.i),e.rXU($.C1),e.rXU($.K0),e.rXU(Oe.Nz),e.rXU(Bo.Y))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["setting-general"]],inputs:{userObj:"userObj",isTeacherDashboard:"isTeacherDashboard"},outputs:{saveUserObj:"saveUserObj"},features:[e.Jv_([_.vh,{provide:p.$O,useClass:T.fb,deps:[f.Ju,T.ij]},{provide:p.vq,useFactory:A.fJ,deps:[G.F]},{provide:m.U$,useValue:{floatLabel:"never"}}]),e.Vt3],decls:4,vars:3,consts:[[1,"intro-x","box","p-5"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoad",""],[3,"currentStatusObj"],[3,"formGroup"],[1,"avatar","flex","items-center"],[1,"w-24","h-24","image-fit"],[3,"linkAvatar","nameCreateAvatar","size"],[3,"uploadToCdnMenu","fileType","limitSize","uploadComplete",4,"ngIf"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12","lg:col-span-6"],["for","azt-acs-fullname",1,"form-label","font-medium"],["id","azt-acs-fullname","type","text","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","azt-asc-time-picker",1,"form-label","font-medium"],[1,"azt-time-picker"],["azt-track-service","setting-general-w4tZZvRVV0","matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","setting-general-XgJFOjRBEb","matSuffix","",3,"click"],["name","calendar-days","size","16"],[3,"touchUi","hideTime"],["birthDay",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["for","",1,"form-label","font-medium"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","email","autocapitalize","none",3,"placeholder",4,"ngIf"],["class","mt-1 text-xs","style","color: red",4,"ngIf"],["azt-track-service","setting-general--R9dDrlelT","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone",3,"placeholder",4,"ngIf"],["azt-track-service","setting-general-oRDmygYgr2","class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px",3,"click",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],[1,"form-check","w-24","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio","value","1",1,"form-check-input"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender","value","0",1,"form-check-input"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"col-span-12"],[1,"form-label","font-medium"],[1,"text-md","flex","items-center"],["type","text","readonly","",1,"form-control","mr-2",3,"value"],["azt-track-service","setting-general-Bw6GejsJBv",1,"w-24","btn","btn-outline-secondary",3,"click"],["name","square-pen","size","16",3,"ngClass"],["class","mt-2 text-xs","style","color: red",4,"ngIf"],[4,"ngIf"],[1,"text-right","mt-5"],["azt-track-service","setting-general-CDosWd3k63",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[3,"uploadToCdnMenu","fileType","limitSize","uploadComplete"],["body","",1,"ml-4","mr-auto"],[1,"font-medium","text-base","cursor-pointer","relative"],["azt-track-service","setting-general-WJ1g4qRLE",1,"btn","btn-sm","btn-outline-primary"],["name","upload","size","16",3,"ngClass"],[1,"text-slate-500","mt-1","text-xs"],["header","",1,"font-medium","text-base","mr-auto"],[1,"text-danger","text-xs","mt-2","fade"],["type","text","formControlName","email","autocapitalize","none","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","email","autocapitalize","none",1,"form-control","mr-2","mb-1",3,"placeholder"],[1,"mt-1","text-xs",2,"color","red"],["azt-track-service","setting-general--R9dDrlelT",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],["type","text","formControlName","phone","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","phone",1,"form-control","mr-2","mb-1",3,"placeholder"],["azt-track-service","setting-general-oRDmygYgr2",1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],[1,"mt-2","text-xs",2,"color","red"],[1,"col-span-12","m-0"],["azt-track-service","setting-general-9AkB3QFyq",1,"w-24","btn","btn-outline-secondary",3,"click"],[1,"mr-1"]],template:function(r,s){if(1&r&&(e.j41(0,"div",0),e.DNE(1,Vr,1,1,"azt-loading-effect",1),e.DNE(2,si,76,62,"ng-template",null,2,e.C5r),e.k0s()),2&r){const d=e.sdS(3);e.BMQ("style",s.isMobileWebView?"transform: none !important; animation: none":"",e.$dS),e.R7$(1),e.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[_.YU,_.bT,v.qT,v.me,v.Fm,v.BC,v.cb,yn.$z,Vo.fg,m.rl,m.yw,p.m7,p.yF,p.HF,p.Uq,v.j4,v.JD,Le.K,Ge.p,et.t,de.R,Qo,pe.WGl,L.wp],encapsulation:2})}return n})();function ai(n,u){1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function Mn(n,u){if(1&n&&(e.j41(0,"div",18),e.DNE(1,ai,3,3,"span",19),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.form.controls.oldPassword.errors.required)}}function ci(n,u){1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function ns(n,u){1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function li(n,u){if(1&n&&(e.j41(0,"div",18),e.DNE(1,ci,3,3,"span",19),e.DNE(2,ns,3,3,"span",19),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.form.controls.newPassword.errors.required),e.R7$(1),e.Y8G("ngIf",t.form.controls.newPassword.errors.minlength)}}function is(n,u){if(1&n){const t=e.RV6();e.j41(0,"a",20),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.forgotPassword())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&n&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_quen_mat_khau")))}function ui(n,u){1&n&&e.nrm(0,"azt-loading-ui",21)}const Jr=function(){return{"dark:text-slate-500":!0}};let di=(()=>{class n extends te.H{parseInfoFieldForStudentObjsInExportExcel(){if(this.form.valid){let t=this.getFormValue(),r={password:t.newPassword,oldPassword:t.oldPassword};this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoUpdateInfoPost(r).subscribe(s=>{1==s.success?this.successStatusObj("lang_auto_cap_nhat_mat_khau_thanh_cong",!0):this.errorStatusObj(s.message??"",!0)}))}}togglePasswordOld(){this.showPasswordOld=!this.showPasswordOld}togglePasswordNew(){this.showPasswordNew=!this.showPasswordNew}forgotPassword(){let t=this.commonService.getMyParam(this.activeRoute,"roleType"),r=this.commonService.getMyParam(this.activeRoute,"modeType");var s="?return_url="+encodeURIComponent(`/auth/account-setting/${t}/${r}`);this.commonService.myNavigationWithQueryString("/auth/confirm_forgot_password",s)}getFormValue(){return this.form.getRawValue()}constructor(t,r){super(),this.userInfoService=t,this.activeRoute=r,this.showPasswordOld=!1,this.showPasswordNew=!1,this.form=new v.gE({oldPassword:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),newPassword:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.minLength(6)]})})}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU($.fv),e.rXU(he.nX))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["setting-password"]],features:[e.Vt3],decls:32,vars:32,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],[1,"relative"],["id","old-password","formControlName","oldPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-QhnsF82RBP","type","button",1,"btn-toggle-password",2,"position","absolute","top","7px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","new-password",1,"form-label","font-medium"],["id","new-password","formControlName","newPassword","autocapitalize","none",1,"form-control",3,"type","placeholder"],["azt-track-service","setting-password-J9MRGAmCt1","type","button",1,"btn-toggle-password",2,"position","absolute","top","7px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-password-WbrhM8Un-_","class","text-primary font-medium inline-block mr-auto",3,"click",4,"ngIf"],["azt-track-service","setting-password-OQV68x0hhw",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[4,"ngIf"],["azt-track-service","setting-password-WbrhM8Un-_",1,"text-primary","font-medium","inline-block","mr-auto",3,"click"],[1,"mr-1"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",5),e.nrm(8,"input",6),e.nI1(9,"mytranslate"),e.j41(10,"button",7),e.bIt("click",function(){return s.togglePasswordOld()}),e.nrm(11,"lucide-icon",8),e.k0s()(),e.j41(12,"div",9),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.DNE(15,Mn,2,1,"div",10),e.k0s(),e.j41(16,"div",3)(17,"label",11),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s(),e.j41(20,"div",5),e.nrm(21,"input",12),e.nI1(22,"mytranslate"),e.j41(23,"button",13),e.bIt("click",function(){return s.togglePasswordNew()}),e.nrm(24,"lucide-icon",8),e.k0s()(),e.DNE(25,li,3,2,"div",10),e.k0s()(),e.j41(26,"div",14),e.DNE(27,is,3,3,"a",15),e.j41(28,"button",16),e.bIt("click",function(){return s.parseInfoFieldForStudentObjsInExportExcel()}),e.DNE(29,ui,1,0,"azt-loading-ui",17),e.EFF(30),e.nI1(31,"mytranslate"),e.k0s()()()()),2&r&&(e.R7$(1),e.Y8G("formGroup",s.form),e.R7$(4),e.SpI(" ",e.bMT(6,18,"lang_auto_mat_khau_hien_tai")," "),e.R7$(3),e.FS9("placeholder",e.bMT(9,20,"lang_auto_nhap_mat_khau")+"..."),e.Y8G("type",s.showPasswordOld?"text":"password"),e.R7$(3),e.Y8G("name",s.showPasswordOld?"eye":"eye-off")("ngClass",e.lJ4(30,Jr)),e.R7$(2),e.SpI(" ",e.bMT(14,22,"lang_auto_ban_can_nhap_mat_khau_hien_tai_de_co_the_doi_mat_khau_moi")," "),e.R7$(2),e.Y8G("ngIf",s.form.controls.oldPassword.errors&&(s.form.controls.oldPassword.dirty||s.form.controls.oldPassword.touched)),e.R7$(3),e.JRh(e.bMT(19,24,"lang_auto_mat_khau_moi")),e.R7$(3),e.FS9("placeholder",e.bMT(22,26,"lang_auto_nhap_mat_khau")+"..."),e.Y8G("type",s.showPasswordNew?"text":"password"),e.R7$(3),e.Y8G("name",s.showPasswordNew?"eye":"eye-off")("ngClass",e.lJ4(31,Jr)),e.R7$(1),e.Y8G("ngIf",s.form.controls.newPassword.errors&&(s.form.controls.newPassword.dirty||s.form.controls.newPassword.touched)),e.R7$(2),e.Y8G("ngIf",!s.isBusinessDomain),e.R7$(1),e.Y8G("disabled",s.form.invalid),e.R7$(1),e.Y8G("ngIf",s.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(31,28,"lang_auto_cap_nhat")," "))},dependencies:[_.YU,_.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,et.t,de.R,pe.WGl,L.wp],encapsulation:2})}return n})();var Ct=y(64396);function _i(n,u){1&n&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auth_remove_teacher_role")))}function rs(n,u){if(1&n&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,t.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role")," ")}}function mi(n,u){if(1&n&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,t.hasTeacherRole?"lang_auth_redirect_to_teacher_role":"lang_auth_change_to_teacher_role_in_teacher_mobile_app")," ")}}function os(n,u){1&n&&e.nrm(0,"azt-loading-ui",7)}let hi=(()=>{class n extends te.H{becomeTeacher(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(t=>{1==t.success?this.redirectByRoleService.redirectLoginByRole(""):this.errorStatusObj(t.message??"",!0)}))}becomeStudent(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoRemoveTeacherRoleGet().subscribe(t=>{1==t.success?this.redirectByRoleService.redirectLoginByRole(this.commonService.getLocalRouter("/student/classroom/0")):this.errorStatusObj(t.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(t,r){super(),this.redirectByRoleService=t,this.userInfoService=r,this.isTeacherDashboard=!1,this.hasTeacherRole=!1}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Ct.b),e.rXU($.fv))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["setting-role"]],inputs:{isTeacherDashboard:"isTeacherDashboard",hasTeacherRole:"hasTeacherRole"},features:[e.Vt3],decls:10,vars:7,consts:[[1,"intro-x","box","p-5"],[1,"flex","items-center"],[1,"font-medium","inline-block","mr-auto"],["class","h5",4,"ngIf"],["azt-track-service","setting-role-INiaGXvvjK",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"h5"],[1,"mr-1"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.DNE(3,_i,3,3,"span",3),e.DNE(4,rs,3,3,"span",3),e.DNE(5,mi,3,3,"span",3),e.k0s(),e.j41(6,"button",4),e.bIt("click",function(){return s.isTeacherDashboard?s.becomeStudent():s.becomeTeacher()}),e.DNE(7,os,1,0,"azt-loading-ui",5),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()()),2&r&&(e.R7$(3),e.Y8G("ngIf",s.isTeacherDashboard),e.R7$(1),e.Y8G("ngIf",!s.isTeacherDashboard&&!s.isMobileWebView),e.R7$(1),e.Y8G("ngIf",!s.isTeacherDashboard&&s.isMobileWebView),e.R7$(2),e.Y8G("ngIf",s.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(9,5,"lang_auth_confirm_change_role")," "))},dependencies:[_.bT,de.R,L.wp],encapsulation:2})}return n})();var kn=y(23356);function $t(n,u){if(1&n&&(e.j41(0,"option",10),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const t=u.$implicit,r=e.XpG();e.Y8G("value",t)("selected",t==r.form.controls.dateFormat.value),e.R7$(1),e.Lme(" ",t," - ",e.bMT(2,4,"lang_auth_user_setting_unit_"+t)," ")}}function pi(n,u){1&n&&e.nrm(0,"azt-loading-ui",11)}let ss=(()=>{class n extends te.H{saveUnitObj(){this.initStatusObj(),this.waitDestroy(this.userUnitService.apiUserUnitSaveObjPost({dateFormat:this.form.value.dateFormat??""}).subscribe(r=>{1==r.success?this.configService.reloadConfig().subscribe(()=>{this.successStatusObj("lang_auth_user_setting_unit_save_success",!0)}):this.errorStatusObj(r.message??"",!0)}))}constructor(t,r,s){super(),this.timeService=t,this.userUnitService=r,this.configService=s,this.form=new v.gE({dateFormat:new v.MJ("",[v.k0.required])}),this.formatDataObjs=this.timeService.getListDateFormat()}ngOnInit(){var t=this.configService.getConfig("dateFormat");this.form.controls.dateFormat.setValue(t??null)}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(G.F),e.rXU($.lV),e.rXU(kn.u))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["setting-unit"]],features:[e.Vt3],decls:14,vars:9,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],["formControlName","dateFormat",1,"form-select","form-select-sm"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"flex","mt-5","items-center"],["azt-track-service","setting-unit-Lylf09F1N",1,"btn","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[3,"value","selected"],[1,"mr-1"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"select",5),e.DNE(8,$t,3,6,"option",6),e.k0s()()(),e.j41(9,"div",7)(10,"button",8),e.bIt("click",function(){return s.saveUnitObj()}),e.DNE(11,pi,1,0,"azt-loading-ui",9),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()()()()),2&r&&(e.R7$(1),e.Y8G("formGroup",s.form),e.R7$(4),e.SpI(" ",e.bMT(6,5,"lang_auth_user_setting_unit_format_date")," "),e.R7$(3),e.Y8G("ngForOf",s.formatDataObjs),e.R7$(3),e.Y8G("ngIf",s.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(13,7,"lang_auth_user_setting_unit_confirm_save")," "))},dependencies:[_.Sq,_.bT,v.qT,v.xH,v.y7,v.wz,v.BC,v.cb,v.j4,v.JD,et.t,de.R,L.wp],encapsulation:2})}return n})();var Nt=y(59224),Nn=y(96699),Ht=y(50589),as=y(21713),nn=y(85969);function cs(n,u){if(1&n&&(e.j41(0,"div",3),e.nrm(1,"azt-loading-effect",4),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("currentStatusObj",t.statusObj)}}const gi=function(n){return[n]},ls=function(){return{backTo:"/auth/account-setting/0/3?tab=0"}};function us(n,u){if(1&n&&(e.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"p",14),e.EFF(5),e.nI1(6,"mytranslate"),e.j41(7,"a",15),e.nI1(8,"navigationLocalize"),e.j41(9,"b"),e.EFF(10),e.k0s()()(),e.j41(11,"div",16)(12,"p",17),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"div",18),e.nrm(16,"azt-create-avatar",19),e.j41(17,"div",20)(18,"div",21),e.EFF(19),e.k0s()()()(),e.j41(20,"p",22),e.EFF(21),e.nI1(22,"mytranslate"),e.j41(23,"b"),e.EFF(24),e.nI1(25,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()(),e.j41(26,"div",23)(27,"b",24),e.EFF(28),e.nI1(29,"number"),e.k0s()()()()()),2&n){const t=u.$implicit;let r;e.R7$(5),e.SpI(" ",e.bMT(6,13,"lang_auto_de_thi"),": "),e.R7$(2),e.Y8G("routerLink",e.eq3(25,gi,e.bMT(8,15,"/admin/testbank/exam-results-list/"+(null!==(r=t.examCategoryId)&&void 0!==r?r:0)+"/"+t.examId+"/0")))("queryParams",e.lJ4(27,ls)),e.R7$(3),e.JRh(t.examName),e.R7$(3),e.SpI("",e.bMT(14,17,"lang_history_sold_exam_relative_user"),":"),e.R7$(3),e.Y8G("nameCreateAvatar",t.relativeName)("size",32)("showTooltip",!1)("linkAvatar",t.relativeAvatar),e.R7$(3),e.SpI(" ",t.relativeName," "),e.R7$(2),e.SpI(" ",e.bMT(22,19,"lang_history_sold_exam_create_at"),": "),e.R7$(3),e.JRh(e.bMT(25,21,t.createdAt)),e.R7$(4),e.SpI("",e.bMT(29,23,t.money),"\u0111")}}function fi(n,u){if(1&n&&(e.j41(0,"drag-scroll",8),e.DNE(1,us,30,28,"div",9),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.examHistorySoldObjs)}}function rn(n,u){1&n&&(e.j41(0,"div",25),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_withdraw_not_have_history_sold_exam")," "))}const ds=function(){return{"flex-none":!0}};function _s(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",26)(1,"button",27),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.getExamSoldHistory())}),e.j41(2,"span",28),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.nrm(5,"lucide-icon",29),e.k0s()()}2&n&&(e.R7$(3),e.SpI(" ",e.bMT(4,2,"lang_auto_xem_them")," "),e.R7$(2),e.Y8G("ngClass",e.lJ4(4,ds)))}function Sn(n,u){if(1&n&&(e.j41(0,"div",3),e.DNE(1,fi,2,1,"drag-scroll",5),e.DNE(2,rn,3,3,"div",6),e.k0s(),e.DNE(3,_s,6,5,"div",7)),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",0!=t.examHistorySoldObjs.length),e.R7$(1),e.Y8G("ngIf",0==t.examHistorySoldObjs.length),e.R7$(1),e.Y8G("ngIf",t.nextPage)}}let pc=(()=>{class n extends te.H{getExamSoldHistory(){this.initStatusObj(),this.waitDestroy(this.examPaymentHistoryService.apiExamPaymentHistoryGetObjsGet(this.nextPage).subscribe(t=>{t.success?(this.examHistorySoldObjs=t.data?.objs??[],this.nextPage=t.data?.nextPage??void 0,this.totalSoldExam=t.data?.total??0,this.successStatusObj()):this.errorStatusObj(t.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,ut.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getExamSoldHistory()}))}constructor(t,r){super(),this.activeRoute=t,this.examPaymentHistoryService=r,this.nextPage="",this.examHistorySoldObjs=[],this.totalSoldExam=0}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(he.nX),e.rXU(nn.hl))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["view-exam-sold-history"]],features:[e.Vt3],decls:4,vars:2,consts:[[1,"grid","grid-cols-12","gap-6","mt-2"],["class","intro-y col-span-12",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-y","col-span-12"],[3,"currentStatusObj"],["style","height: 100%",4,"ngIf"],["class","intro-x","style","margin: 12px 0; text-align: center",4,"ngIf"],["class","col-span-12 flex flex-wrap sm:flex-row sm:flex-nowrap items-center",4,"ngIf"],[2,"height","100%"],["class","pb-2",4,"ngFor","ngForOf"],[1,"pb-2"],[1,"box","p-2"],[1,"flex","items-center"],[1,"ml-2","mr-auto","w-2/3"],[1,"mt-2",2,"white-space","normal"],[3,"routerLink","queryParams"],[1,"mt-2","flex"],[1,"flex",2,"align-items","center"],[1,"dropdown-toggle","w-full","h-10","rounded-full","flex","trigger-menu","ml-2",2,"align-items","center"],[3,"nameCreateAvatar","size","showTooltip","linkAvatar"],[1,"px-2"],[1,"font-medium"],[1,"mt-2"],[1,"font-medium","md:flex","text-xs"],[1,"p-2","bg-success","text-white",2,"border-radius","10px"],[1,"intro-x",2,"margin","12px 0","text-align","center"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"btn","btn-outline-secondary","btn-transparent","mt-2","mx-auto",3,"click"],[1,"mr-2"],["name","chevron-down","size","20",3,"ngClass"]],template:function(r,s){if(1&r&&(e.j41(0,"div",0),e.DNE(1,cs,2,1,"div",1),e.DNE(2,Sn,4,3,"ng-template",null,2,e.C5r),e.k0s()),2&r){const d=e.sdS(3);e.R7$(1),e.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[he.Wk,_.YU,_.Sq,_.bT,Le.K,Ge.p,pe.WGl,Lt.jd,_.QX,L.F2,L.wp,L.bH],encapsulation:2})}return n})();var vi=y(65106),zt=y(25539),on=y(37497),Cn=y(50282),bi=y(29660),Kr=y(9280),Tn=y(30683),sn=y(94743);const fn=function(n){return{"mt-2 sm:mt-0":n}};function ms(n,u){if(1&n&&(e.j41(0,"div",27),e.nrm(1,"input",28),e.j41(2,"label",29),e.EFF(3),e.k0s()()),2&n){const t=u.$implicit,r=u.index,s=e.XpG();let d;e.Y8G("ngClass",e.eq3(5,fn,0!==r)),e.R7$(1),e.FS9("id","tag_"+t.id),e.FS9("value",t.id),e.R7$(1),e.FS9("for","tag_"+t.id),e.R7$(1),e.SpI(" ",null!==(d=t[s.commonService.getCurrentLang()+"Name"])&&void 0!==d?d:t.enName," ")}}function Dn(n,u){if(1&n&&(e.j41(0,"option",30),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const t=u.$implicit,r=e.XpG();e.Y8G("value",null==t.schoolLevel?null:t.schoolLevel.id)("selected",(null==t.schoolLevel?null:t.schoolLevel.id)==r.form.controls.schoolLevel.value),e.R7$(1),e.SpI(" ",e.bMT(2,3,null==t.schoolLevel?null:t.schoolLevel.key)," ")}}function hs(n,u){if(1&n&&(e.j41(0,"option",30),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const t=u.$implicit,r=e.XpG();e.Y8G("value",t.id)("selected",t.id==r.form.controls.schoolSubject.value),e.R7$(1),e.SpI(" ",e.bMT(2,3,t.key)," ")}}function Zr(n,u){1&n&&(e.qex(0),e.j41(1,"div",34)(2,"span",35),e.nrm(3,"azt-loading-ui"),e.k0s()(),e.bVm())}const Ln=function(){return{"mr-2 text-slate-600 dark:text-slate-500 flex-none":!0}};function Tt(n,u){1&n&&(e.j41(0,"span",46),e.nrm(1,"lucide-icon",47),e.k0s()),2&n&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(1,Ln)))}function eo(n,u){if(1&n){const t=e.RV6();e.qex(0),e.DNE(1,Tt,2,2,"span",44),e.j41(2,"span",45),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,d=e.XpG(4);return e.Njj(d.onPressNode(s))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.bVm()}if(2&n){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",t.isLeaf),e.R7$(2),e.SpI(" ",e.bMT(4,2,t.item)," ")}}const to=function(){return{"mr-2 text-slate-600 dark:text-slate-500":!0}};function yi(n,u){if(1&n){const t=e.RV6();e.j41(0,"span",48),e.nrm(1,"lucide-icon",49),e.k0s(),e.j41(2,"string",50),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,d=e.XpG(4);return e.Njj(d.onPressNode(s))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()}if(2&n){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngClass",e.lJ4(4,to)),e.R7$(2),e.SpI(" ",e.bMT(4,2,t.item)," ")}}const Gn=function(n){return{"azt-text-primary":n}};function no(n,u){if(1&n&&(e.j41(0,"mat-tree-node",41),e.nrm(1,"button",42),e.DNE(2,eo,5,4,"ng-container",32),e.DNE(3,yi,5,5,"ng-template",null,43,e.C5r),e.k0s()),2&n){const t=u.$implicit,r=e.sdS(4),s=e.XpG(4);e.Y8G("ngClass",e.eq3(3,Gn,s.form.controls.classifyMaterials.value==t.id)),e.R7$(2),e.Y8G("ngIf",t.isLeaf)("ngIfElse",r)}}function io(n,u){if(1&n&&(e.j41(0,"button",54),e.nrm(1,"lucide-icon",55),e.k0s()),2&n){const t=e.XpG().$implicit,r=e.XpG(4);e.BMQ("aria-label","Toggle "+t.item),e.R7$(1),e.Y8G("name",r.treeControl.isExpanded(t)?"chevron-down":"chevron-right")}}function ps(n,u){1&n&&(e.j41(0,"span",46),e.nrm(1,"lucide-icon",47),e.k0s()),2&n&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(1,Ln)))}function Ii(n,u){if(1&n){const t=e.RV6();e.qex(0),e.DNE(1,ps,2,2,"span",44),e.j41(2,"span",56),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,d=e.XpG(4);return e.Njj(d.onPressNode(s))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.bVm()}if(2&n){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",t.isLeaf),e.R7$(2),e.SpI(" ",e.bMT(4,2,t.item)," ")}}function ki(n,u){if(1&n){const t=e.RV6();e.j41(0,"span",48),e.nrm(1,"lucide-icon",49),e.k0s(),e.j41(2,"span",57),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,d=e.XpG(4);return e.Njj(d.onPressNode(s))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()}if(2&n){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngClass",e.lJ4(4,to)),e.R7$(2),e.SpI(" ",e.bMT(4,2,t.item)," ")}}function Si(n,u){1&n&&e.nrm(0,"azt-loading-ui",58)}const $n=function(n){return{"azt-text-primary azt-font-bold":n}};function Ci(n,u){if(1&n&&(e.j41(0,"mat-tree-node",41),e.DNE(1,io,2,2,"button",51),e.DNE(2,Ii,5,4,"ng-container",32),e.DNE(3,ki,5,5,"ng-template",null,52,e.C5r),e.DNE(5,Si,1,0,"azt-loading-ui",53),e.k0s()),2&n){const t=u.$implicit,r=e.sdS(4),s=e.XpG(4);e.Y8G("ngClass",e.eq3(5,$n,s.form.controls.classifyMaterials.value==t.id)),e.R7$(1),e.Y8G("ngIf",!t.isLeaf),e.R7$(1),e.Y8G("ngIf",t.isLeaf)("ngIfElse",r),e.R7$(3),e.Y8G("ngIf",t.isLoading)}}function ro(n,u){if(1&n&&(e.qex(0),e.j41(1,"mat-tree",38),e.DNE(2,no,5,5,"mat-tree-node",39),e.DNE(3,Ci,6,7,"mat-tree-node",40),e.k0s(),e.bVm()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("dataSource",t.dataSource)("treeControl",t.treeControl),e.R7$(2),e.Y8G("matTreeNodeDefWhen",t.hasChild)}}function Ti(n,u){1&n&&(e.j41(0,"div",34)(1,"div",59),e.nrm(2,"azt-svg-icon",60),e.j41(3,"p",61),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&n&&(e.R7$(2),e.Y8G("size",84),e.R7$(2),e.SpI(" ",e.bMT(5,2,"lang_auto_chua_co_don_vi_kien_thuc_mon_hoc")," "))}function oo(n,u){if(1&n&&(e.j41(0,"ng-scrollbar",36),e.DNE(1,ro,4,3,"ng-container",32),e.DNE(2,Ti,6,4,"ng-template",null,37,e.C5r),e.k0s()),2&n){const t=e.sdS(3),r=e.XpG(2);e.Y8G("visibility","hover"),e.R7$(1),e.Y8G("ngIf",r.dataSource.data.length)("ngIfElse",t)}}function Ri(n,u){if(1&n&&(e.j41(0,"div",12)(1,"div",31),e.DNE(2,Zr,4,0,"ng-container",32),e.DNE(3,oo,4,3,"ng-template",null,33,e.C5r),e.k0s()()),2&n){const t=e.sdS(4),r=e.XpG();e.R7$(2),e.Y8G("ngIf",r.loadingUnitSubject)("ngIfElse",t)}}function zn(n,u){1&n&&e.nrm(0,"azt-loading-ui",62)}let Ei=(()=>{class n extends Ce._{handleCloseDialog(){this.dialogRef.close()}initData(t){let r=this.form.controls.schoolLevel.value,s=this.form.controls.schoolSubject.value;this.dataSource=new bi.d1(this.treeControl,this.database),this.data.configShareQuestionLog.shareNodeLog&&!t?this.dataSource.data=this.data.configShareQuestionLog.shareNodeLog:(this.loadingUnitSubject=!0,this.dataSource._database.initialData(r,s).then(d=>{if(this.dataSource.data=d,this.data.questionShared?.knowledgeParentIds&&this.data.questionShared?.knowledgeParentIds.length>0){let S=this.data.questionShared?.knowledgeParentIds;for(let O=0;O<S.length;O++)(W=>{setTimeout(()=>{let ie=this.dataSource.getNode(S[O]);ie&&this.treeControl.expand(ie)},500*O)})()}this.loadingUnitSubject=!1}))}onPressNode(t){if(t){if(t.isLeaf){let r=this.commonService.myClone(t);for(this.breadcrumbs=[r];r.prNode;)if(this.breadcrumbs.unshift(r.prNode),r=r.prNode,this.breadcrumbs.length>4){this.breadcrumbs[0].item="...";break}this.chooseLeafFolder(t)}}else this.breadcrumbs=[]}chooseLeafFolder(t){t.isLeaf?this.form.controls.classifyMaterials.setValue(t.id):this.showErrorSnack("lang_auto_vui_long_chon_phan_loai_don_vi_kien_thuc_be_nhat")}confirmAction(){this.initStatusObj();let t={questionId:this.data.questionShared?.questionId??0,questionTagId:Number(this.form.controls.awarenessLevel.value),knowledgeId:this.form.controls.classifyMaterials.value},r={awarenessLevel:this.form.controls.awarenessLevel.value,schoolLevel:this.form.controls.schoolLevel.value,schoolSubject:this.form.controls.schoolSubject.value,classifyMaterials:this.form.controls.classifyMaterials.value,questionId:this.data.questionShared?.questionId,shareNodeLog:this.dataSource.data};this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsQuestionIdPut(t.questionId??0,t).subscribe(s=>{s.success?1==s.data?.status&&(this.dialogRef.close(r),this.successStatusObj("lang_auto_edit_chia_se_cau_hoi_thanh_cong",!0)):this.errorStatusObj(s.message??"",!0)}))}patchValueForm(){let t=12,r=40,s=1,d=0;this.data.configShareQuestionLog.classifyMaterials?(s=this.data.configShareQuestionLog.awarenessLevel??1,t=this.data.configShareQuestionLog.schoolLevel??12,r=this.data.configShareQuestionLog.schoolSubject??40,d=this.data.configShareQuestionLog.classifyMaterials??0):this.data.questionShared&&(t=this.data.questionShared.levelId??12,r=this.data.questionShared.subjectId??40),this.data.questionShared&&this.data.questionShared.question?.tags?.length&&(s=this.data.questionShared.question?.tags?.[0]?.id??1),this.filterSchoolSubject(t),this.form.controls.awarenessLevel.setValue(s),this.form.controls.schoolLevel.setValue(t),this.form.controls.schoolSubject.setValue(r),this.form.controls.classifyMaterials.setValue(d),this.initData()}filterSchoolSubject(t){if(this.form.controls.classifyMaterials.setValue(0),0==this.subjectSelectedList.length)this.filterSubject(t??1);else{let r=!1;for(let s=0;s<this.subjectSelectedList.length;s++)t&&(t<(this.subjectSelectedList[s].from??0)||t>(this.subjectSelectedList[s].to??0))&&(r=!0);r&&(this.filterSubject(t??1),this.form?.controls.schoolSubject.setValue(0)),this.initData("change")}}filterSubject(t){this.subjectSelectedList=this.data.schoolLevelAndSubjectObjs.find(r=>r.schoolLevel?.id==t)?.schoolSubjectObjs??[]}ngOnInit(){super.ngOnInit(),this.patchValueForm()}constructor(t,r,s,d,S){super(S,d),this.documentConfigService=t,this.database=r,this.testMarketQuestionService=s,this.dialogRef=d,this.data=S,this.subjectSelectedList=[],this.breadcrumbs=[],this.exitsTables=[],this.filterContent="",this.loadingUnitSubject=!1,this.getLevel=O=>O.level,this.isExpandable=O=>O.expandable,this.hasChild=(O,W)=>W.expandable,this.treeControl=new Cn.XW(this.getLevel,this.isExpandable),this.dataSource=new bi.d1(this.treeControl,r),this.form=new v.gE({awarenessLevel:new v.MJ(1,{nonNullable:!0}),schoolLevel:new v.MJ(0,{nonNullable:!0}),schoolSubject:new v.MJ(0,{nonNullable:!0}),classifyMaterials:new v.MJ(0,{nonNullable:!0})})}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Kr.x_),e.rXU(bi._8),e.rXU(Nn.e2),e.rXU(ne.CP,8),e.rXU(ne.Vh))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-share-question"]],features:[e.Vt3],decls:53,vars:37,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"px-4","py-4"],[1,"font-medium","text-lg"],[1,"py-4","px-4"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"mt-0"],[1,"font-medium"],[1,"flex","flex-col","sm:flex-row","mt-2"],["class","form-check mr-5",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"mt-2"],[1,"grid","grid-cols-12","gap-3"],[1,"col-span-12","md:col-span-6"],[1,"flex","items-center"],["for","",1,"mr-2","flex-none",2,"width","55px"],["formControlName","schoolLevel",1,"form-select","form-select-sm",3,"change"],["value","0","disabled","",3,"selected"],[3,"value","selected",4,"ngFor","ngForOf"],["formControlName","schoolSubject",1,"form-select","form-select-sm",3,"change"],["class","mt-4",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","edit-question-shared-6b-HYS47Pvo",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","edit-question-shared-YPdl2XZ9cH1",1,"btn","btn-primary","mw-24",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"form-check","mr-5",3,"ngClass"],["type","radio","formControlName","awarenessLevel",1,"form-check-input",3,"id","value"],[1,"form-check-label",3,"for"],[3,"value","selected"],[1,"col-tree-main","height-custom-tree",2,"margin","-15px","overflow","auto"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"flex","items-center","h-full","w-full"],[1,"w-8","h-8","mx-auto"],["track","all","pointerEventsMethod","scrollbar",3,"visibility"],["noDataSource",""],[2,"padding","10px","min-width","700px",3,"dataSource","treeControl"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef"],["matTreeNodePadding","",3,"ngClass",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","",3,"ngClass"],["mat-icon-button","","disabled",""],["notIsLeaf",""],["class","cursor-pointer",4,"ngIf"],["azt-track-service","edit-question-shared-2UuaeYUsqGC",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"cursor-pointer"],["name","file-text","size","24",3,"ngClass"],["matTreeNodeToggle","",1,"cursor-pointer"],["name","folder","size","24",3,"ngClass"],["azt-track-service","edit-question-shared-D4IS6G7qQxl","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["mat-icon-button","","matTreeNodeToggle","",4,"ngIf"],["notIsLeafChild",""],["class","ml-3",4,"ngIf"],["mat-icon-button","","matTreeNodeToggle",""],["size","20",3,"name"],["azt-track-service","edit-question-shared-M8Ia6-8Gi2_",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],["azt-track-service","edit-question-shared-mpNkVI5E2ao","matTreeNodeToggle","",1,"cursor-pointer",2,"overflow","visible","white-space","nowrap",3,"click"],[1,"ml-3"],[1,"text-center","mx-auto"],["type","folder-empty",3,"size"],[1,"font-medium","mt-2"],[1,"mr-1"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()(),e.j41(6,"div",1)(7,"div",4)(8,"form",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"div",10),e.DNE(16,ms,4,7,"div",11),e.k0s()(),e.j41(17,"div",12)(18,"label",9),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s(),e.j41(21,"div",13)(22,"div",14)(23,"div",15)(24,"div",16)(25,"label",17),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s(),e.j41(28,"select",18),e.bIt("change",function(){return s.filterSchoolSubject(s.form.controls.schoolLevel.value)}),e.j41(29,"option",19),e.EFF(30),e.nI1(31,"mytranslate"),e.k0s(),e.DNE(32,Dn,3,5,"option",20),e.k0s()()(),e.j41(33,"div",15)(34,"div",16)(35,"label",17),e.EFF(36),e.nI1(37,"mytranslate"),e.k0s(),e.j41(38,"select",21),e.bIt("change",function(){return s.initData("change")}),e.j41(39,"option",19),e.EFF(40),e.nI1(41,"mytranslate"),e.k0s(),e.DNE(42,hs,3,5,"option",20),e.k0s()()()()()()(),e.j41(43,"div",7),e.DNE(44,Ri,5,2,"div",22),e.k0s()()()()(),e.j41(45,"div",23)(46,"button",24),e.bIt("click",function(){return s.handleCloseDialog()}),e.EFF(47),e.nI1(48,"mytranslate"),e.k0s(),e.j41(49,"button",25),e.bIt("click",function(){return s.confirmAction()}),e.DNE(50,zn,1,0,"azt-loading-ui",26),e.EFF(51),e.nI1(52,"mytranslate"),e.k0s()()()),2&r&&(e.R7$(4),e.SpI(" ",e.bMT(5,19,"lang_test_market_edit_shared_question")," "),e.R7$(4),e.Y8G("formGroup",s.form),e.R7$(5),e.SpI(" ",e.bMT(14,21,"lang_auto_muc_do_nhan_biet")," "),e.R7$(3),e.Y8G("ngForOf",s.data.questionTags),e.R7$(3),e.SpI(" ",e.bMT(20,23,"lang_auto_don_vi_kien_thuc")," "),e.R7$(7),e.SpI(" ",e.bMT(27,25,"lang_auto_lop_hoc")," "),e.R7$(3),e.Y8G("selected",0==s.form.controls.schoolLevel.value),e.R7$(1),e.SpI("",e.bMT(31,27,"lang_auto_---chon_khoi"),"---"),e.R7$(2),e.Y8G("ngForOf",s.data.schoolLevelAndSubjectObjs),e.R7$(4),e.SpI(" ",e.bMT(37,29,"lang_auto_mon_hoc")," "),e.R7$(2),e.BMQ("disabled",0==s.form.controls.schoolLevel.value?"":null),e.R7$(1),e.Y8G("selected",0==s.form.controls.schoolSubject.value),e.R7$(1),e.SpI("",e.bMT(41,31,"lang_auto_---chon_mon"),"---"),e.R7$(2),e.Y8G("ngForOf",s.subjectSelectedList),e.R7$(2),e.Y8G("ngIf",0!=s.form.controls.schoolSubject.value),e.R7$(3),e.SpI(" ",e.bMT(48,33,"lang_auto_dong")," "),e.R7$(2),e.Y8G("disabled",s.statusObj.loading||!s.form.controls.classifyMaterials.value),e.R7$(1),e.Y8G("ngIf",s.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(52,35,"lang_auto_sua")," "))},dependencies:[_.YU,_.Sq,_.bT,v.qT,v.xH,v.y7,v.me,v.wz,v.Fm,v.BC,v.cb,yn.iY,Tn.yI,Tn.yF,Tn.pO,Tn.lQ,Tn.d6,v.j4,v.JD,et.t,de.R,sn.m,lt.Yh,pe.WGl,L.wp],encapsulation:2})}return n})();var so=y(50065),wi=y(32639),xi=y(22613),Ai=y(9570);function gs(n,u){if(1&n&&(e.j41(0,"div",3),e.nrm(1,"azt-loading-effect",4),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("currentStatusObj",t.statusObj)}}function Oi(n,u){1&n&&(e.j41(0,"span",30),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_status_new")," "))}function fs(n,u){1&n&&(e.j41(0,"span",31),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_status_approved")," "))}function Pi(n,u){if(1&n&&(e.j41(0,"span",32),e.EFF(1),e.nI1(2,"mytranslate"),e.nI1(3,"mytranslate"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(1),e.Lme("",e.bMT(2,2,"lang_auto_status_rejected"),"",t.rejectedReason?e.bMT(3,4," - "+t.rejectedReason):"","")}}function Rn(n,u){if(1&n){const t=e.RV6();e.j41(0,"a",33),e.bIt("click",function(){e.eBV(t);const s=e.XpG().$implicit,d=e.XpG(3);return e.Njj(d.editQuestionShared(s))}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_sua")," "))}const Fi=function(n){return{"selected-border-box":n}};function ji(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",13),e.bIt("click",function(){const d=e.eBV(t).index,S=e.XpG(3);return e.Njj(S.selected=d)}),e.j41(1,"div",14)(2,"div",15)(3,"p",16),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"div",17),e.nrm(7,"azt-dynamic-hook",18),e.k0s()(),e.j41(8,"div",19)(9,"div",20)(10,"p",21),e.EFF(11),e.nI1(12,"mytranslate"),e.DNE(13,Oi,3,3,"span",22),e.DNE(14,fs,3,3,"span",23),e.DNE(15,Pi,4,6,"span",24),e.k0s(),e.j41(16,"p",21),e.EFF(17),e.nI1(18,"mytranslate"),e.j41(19,"b"),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()(),e.j41(22,"p",21),e.EFF(23),e.nI1(24,"mytranslate"),e.j41(25,"b"),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s()(),e.j41(28,"p",25),e.EFF(29),e.nI1(30,"mytranslate"),e.nI1(31,"mytranslate"),e.k0s()(),e.j41(32,"div",26)(33,"div",27)(34,"a",28),e.bIt("click",function(){const d=e.eBV(t).$implicit,S=e.XpG(3);return e.Njj(S.viewQuestionDetail(d))}),e.EFF(35),e.nI1(36,"mytranslate"),e.k0s(),e.DNE(37,Rn,3,3,"a",29),e.k0s()()()()()}if(2&n){const t=u.$implicit,r=u.index,s=e.XpG(3);let d;e.Y8G("ngClass",e.eq3(33,Fi,r==s.selected)),e.R7$(4),e.SpI("",e.bMT(5,15,"lang_auto_cau_hoi"),":"),e.R7$(3),e.Y8G("content",null!==(d=null==t.question?null:t.question.content)&&void 0!==d?d:""),e.R7$(4),e.SpI(" ",e.bMT(12,17,"lang_auto_trang_thai"),": "),e.R7$(2),e.Y8G("ngIf","new"==t.status),e.R7$(1),e.Y8G("ngIf","approved"==t.status),e.R7$(1),e.Y8G("ngIf","rejected"==t.status),e.R7$(2),e.SpI(" ",e.bMT(18,19,"lang_auto_muc_do_nhan_biet"),": "),e.R7$(3),e.JRh(e.bMT(21,21,t.questionTagName)),e.R7$(3),e.SpI(" ",e.bMT(24,23,"lang_auto_don_vi_kien_thuc"),": "),e.R7$(3),e.JRh(e.bMT(27,25,t.knowledgeName)),e.R7$(3),e.Lme("",e.bMT(30,27,t.levelName)," - ",e.bMT(31,29,t.subjectName),""),e.R7$(6),e.SpI(" ",e.bMT(36,31,"lang_test_market_view_question")," "),e.R7$(2),e.Y8G("ngIf","approved"!=t.status)}}function Un(n,u){if(1&n&&(e.j41(0,"drag-scroll",11),e.DNE(1,ji,38,35,"div",12),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.shareQuestionList)}}function Mi(n,u){1&n&&(e.j41(0,"div",34),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_khong_co_cau_hoi_nao")," "))}function Ni(n,u){if(1&n&&(e.j41(0,"div",35),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.SpI(" ",t.totalShareQuestion+" "+e.bMT(2,1,"lang_auto_cau_hoi")," ")}}function vs(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",3),e.DNE(1,Un,2,1,"drag-scroll",5),e.DNE(2,Mi,3,3,"div",6),e.k0s(),e.j41(3,"div",7)(4,"div",8)(5,"azt-paging",9),e.bIt("goToPaginationPage",function(s){e.eBV(t);const d=e.XpG();return e.Njj(d.getData(s))}),e.k0s()(),e.DNE(6,Ni,3,3,"div",10),e.k0s()}if(2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",0!=t.totalShareQuestion),e.R7$(1),e.Y8G("ngIf",0==t.totalShareQuestion),e.R7$(3),e.Y8G("pageObj",t.pageObj),e.R7$(1),e.Y8G("ngIf",0!=t.totalShareQuestion)}}let Di=(()=>{class n extends te.H{editQuestionShared(t){this.sAztDialogService.open(Ei,{width:"95vw",data:{questionShared:t,schoolLevelAndSubjectObjs:this.schoolLevelAndSubjectObjs,questionTags:this.questionTags,configShareQuestionLog:{schoolLevel:t.levelId,schoolSubject:t.subjectId,awarenessLevel:t.questionTagId,questionId:t.questionId,classifyMaterials:t.knowledgeId}},autoFocus:!1,restoreFocus:!1}).afterClosed().subscribe(s=>{if(s){let d=this.browserStorageService.getSimpleStorage("view_question_filter");this.fillStatus=d??"",this.getData(this.pageObj.page)}})}viewQuestionDetail(t){this.sAztDialogService.open(so._,{width:"700px",data:{obj:t},restoreFocus:!1}).afterClosed().subscribe(s=>{})}getTagsQuestion(){this.waitDestroy(this.questionService.apiQuestionGetTagsGet().subscribe(t=>{t.success?this.questionTags=t.data?.objs??[]:this.errorStatusObj(t.message??"")}))}getData(t){this.initStatusObj(),this.pageObj.setPageNumber(t),this.selected=-1,this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsGet(void 0,void 0,void 0,void 0,void 0,this.fillStatus??void 0,void 0,void 0,void 0,t,void 0).subscribe(r=>{if(r.success){this.shareQuestionList=r.data?.objs??[];let s=r.data?.total??1;this.totalShareQuestion=s,this.pageObj.setTotalPages(s);let d=[];this.shareQuestionList.forEach(S=>{S.question&&d.push(S.question)}),this.loadQuest(d)}else this.errorStatusObj(r.message??"",!0)}))}loadQuest(t){const r=this.commonService.castJsonToClassObjs(zt.I,JSON.stringify(t));this.questionRenderService.parseRenderQuestions(r??[],s=>{},this.configRenderService).then(s=>{for(let d=0;d<this.shareQuestionList.length;d++)this.shareQuestionList[d].question=this.commonService.castObj(s[d]);this.stopStatusObj()}).catch(s=>{this.showErrorSnack("lang_auto_de_thi_tai_khong_thanh_cong"),this.stopStatusObj()})}ngOnChanges(t){t.fillStatus&&!t.fillStatus.firstChange&&this.getData(1)}ngOnInit(){this.waitDestroy((0,ut.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData(this.pageObj.page)}))}constructor(t,r,s,d,S,O){super(),this.testMarketQuestionService=t,this.questionService=r,this.activeRoute=s,this.questionRenderService=d,this.browserStorageService=S,this.sAztDialogService=O,this.shareQuestionList=[],this.totalShareQuestion=0,this.totalShared=0,this.totalUsed=0,this.totalApproved=0,this.totalBalance=0,this.schoolLevelAndSubjectObjs=[],this.questionTags=[],this.isWithDraw=!1,this.selected=-1,this.fillStatus="",this.pageObj=new on.d(10),this.configRenderService=new vi.y(!0)}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Nn.e2),e.rXU(Kr.wP),e.rXU(he.nX),e.rXU(wi.g),e.rXU(Ht.z),e.rXU(bt.i))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["view-question-shared"]],inputs:{fillStatus:"fillStatus"},features:[e.Vt3,e.OA$],decls:4,vars:2,consts:[[1,"grid","grid-cols-12","gap-6","mt-2"],["class","intro-y col-span-12",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-y","col-span-12"],[3,"currentStatusObj"],["style","height: 100%",4,"ngIf"],["class","intro-x","style","margin: 12px 0; text-align: center",4,"ngIf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"pageObj","goToPaginationPage"],["class","w-20 mt-3 sm:mt-0",4,"ngIf"],[2,"height","100%"],["class","pb-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"pb-2",3,"ngClass","click"],[1,"box","p-2"],[1,"px-2","pb-2","border-b","border-slate-300"],[2,"font-weight","450"],[1,"tex2jax_process","box-content",2,"width","300px"],[3,"content"],[1,"mt-2","flex","items-center"],[1,"ml-2","mr-auto","w-2/3"],[1,"mt-2"],["class","text-pending font-medium",4,"ngIf"],["class","text-success font-medium",4,"ngIf"],["class","text-danger font-medium",4,"ngIf"],[1,"mt-2",2,"font-weight","450"],[1,"font-medium","md:flex","text-xs"],[1,"flex","justify-center","items-center"],["azt-track-service","view-share-question-mPIFee-XBaF",1,"btn","btn-sm","btn-outline-success","mr-2",3,"click"],["azt-track-service","view-share-question-qE57yjy83Pf","class","btn btn-sm btn-outline-primary",3,"click",4,"ngIf"],[1,"text-pending","font-medium"],[1,"text-success","font-medium"],[1,"text-danger","font-medium"],["azt-track-service","view-share-question-qE57yjy83Pf",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"intro-x",2,"margin","12px 0","text-align","center"],[1,"w-20","mt-3","sm:mt-0"]],template:function(r,s){if(1&r&&(e.j41(0,"div",0),e.DNE(1,gs,2,1,"div",1),e.DNE(2,vs,7,4,"ng-template",null,2,e.C5r),e.k0s()),2&r){const d=e.sdS(3);e.R7$(1),e.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[_.YU,_.Sq,_.bT,Le.K,xi.q,Ai.x,Lt.jd,L.wp],encapsulation:2})}return n})();var ao=y(17818);const Li=function(n,u,t){return{"bg-danger":n,"bg-success":u,"bg-warning":t}};function bs(n,u){if(1&n&&(e.j41(0,"div",13),e.EFF(1),e.nI1(2,"mytranslate"),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.k0s()),2&n){const t=e.XpG();e.Y8G("ngClass",e.sMw(8,Li,"rejected"==t.fillStatus,"approved"==t.fillStatus,"new"==t.fillStatus)),e.R7$(1),e.SpI(" ","new"==t.fillStatus?e.bMT(2,2,"lang_status_new_icon"):"approved"==t.fillStatus?e.bMT(3,4,"lang_status_approved_icon"):e.bMT(4,6,"lang_status_rejected_icon")," ")}}const vn=function(n){return{"bg-primary text-white no-hover":n}};let co=(()=>{class n extends te.H{filterStatus(t){this.fillStatus=t??"",this.changeFilterStatus.emit(t??"")}ngOnInit(){}constructor(){super(),this.fillStatus="",this.changeFilterStatus=new e.bkB}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["filter-question-shared-status"]],inputs:{fillStatus:"fillStatus"},outputs:{changeFilterStatus:"changeFilterStatus"},features:[e.Vt3],decls:25,vars:26,consts:[[1,"w-full","text-right"],[1,"filter","flex","w-full"],[1,"btn","btn-sm","box","relative",3,"matMenuTriggerFor"],["name","filter","size","12"],["class","absolute text-white rounded-full font-bold","style","top: -5px; right: -5px; font-size: 7px; overflow: hidden; width: 15px; height: 15px; line-height: 15px; text-align: center",3,"ngClass",4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-64"],[1,"dropdown-content"],["azt-track-service","view-share-question-okOXhhqB2o",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-NwWehHlsZz",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-wBBhYqj6qo",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],["azt-track-service","view-share-question-gm18o_AtnP",1,"dropdown-item","cursor-pointer",3,"ngClass","click"],[1,"absolute","text-white","rounded-full","font-bold",2,"top","-5px","right","-5px","font-size","7px","overflow","hidden","width","15px","height","15px","line-height","15px","text-align","center",3,"ngClass"]],template:function(r,s){if(1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"button",2),e.nrm(3,"lucide-icon",3),e.DNE(4,bs,5,12,"div",4),e.k0s()(),e.j41(5,"mat-menu",5,6)(7,"div",7)(8,"ul",8)(9,"li")(10,"span",9),e.bIt("click",function(){return s.filterStatus(void 0)}),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s()(),e.j41(13,"li")(14,"span",10),e.bIt("click",function(){return s.filterStatus("new")}),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()(),e.j41(17,"li")(18,"span",11),e.bIt("click",function(){return s.filterStatus("approved")}),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()(),e.j41(21,"li")(22,"span",12),e.bIt("click",function(){return s.filterStatus("rejected")}),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()()()()()()),2&r){const d=e.sdS(6);e.R7$(2),e.Y8G("matMenuTriggerFor",d),e.R7$(2),e.Y8G("ngIf",s.fillStatus),e.R7$(6),e.Y8G("ngClass",e.eq3(18,vn,!s.fillStatus)),e.R7$(1),e.SpI(" ",e.bMT(12,10,"lang_auto_tat_ca")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(20,vn,"new"==s.fillStatus)),e.R7$(1),e.SpI(" ",e.bMT(16,12,"lang_auto_status_new")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(22,vn,"approved"==s.fillStatus)),e.R7$(1),e.SpI(" ",e.bMT(20,14,"lang_auto_status_approved")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(24,vn,"rejected"==s.fillStatus)),e.R7$(1),e.SpI(" ",e.bMT(24,16,"lang_auto_status_rejected")," ")}},dependencies:[_.YU,_.bT,ao.kk,ao.Cp,pe.WGl,L.wp],encapsulation:2})}return n})();function Gi(n,u){1&n&&e.nrm(0,"azt-loading-ui",10)}function ys(n,u){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,t.totalShared),"")}}function $i(n,u){1&n&&e.nrm(0,"azt-loading-ui",10)}function Is(n,u){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,t.totalSoldExam),"")}}let zi=(()=>{class n extends te.H{withdrawBalance(){this.openWithdrawForm.emit(!0)}ngOnInit(){}constructor(){super(),this.loadingSoldExamCount=!0,this.loadingSharedQuestionCount=!0,this.totalShared=0,this.totalSoldExam=0,this.totalApproved=0,this.totalUsed=0,this.totalBalance=0,this.openWithdrawForm=new e.bkB}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["withdraw-information"]],inputs:{loadingSoldExamCount:"loadingSoldExamCount",loadingSharedQuestionCount:"loadingSharedQuestionCount",totalShared:"totalShared",totalSoldExam:"totalSoldExam",totalApproved:"totalApproved",totalUsed:"totalUsed",totalBalance:"totalBalance"},outputs:{openWithdrawForm:"openWithdrawForm"},features:[e.Vt3],decls:38,vars:36,consts:[[1,"box","p-5","w-full"],[1,"justify-between","items-center",3,"ngClass"],[1,"text-md","items-center"],["class","loading-upload mr-2","type","bootstrap-spinner",4,"ngIf"],[4,"ngIf"],[1,"text-md","items-center","mt-2"],[3,"ngClass"],[1,"text-md","items-center",3,"ngClass"],[1,"text-right",3,"ngClass"],["azt-track-service","view-share-question-kU8XhFjUozV",1,"btn","btn-primary","w-32","shadow-md",3,"disabled","click"],["type","bootstrap-spinner",1,"loading-upload","mr-2"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h3",2),e.EFF(4),e.nI1(5,"mytranslate"),e.j41(6,"b"),e.DNE(7,Gi,1,0,"azt-loading-ui",3),e.DNE(8,ys,3,3,"span",4),e.k0s()(),e.j41(9,"h3",5),e.EFF(10),e.nI1(11,"mytranslate"),e.j41(12,"b"),e.DNE(13,$i,1,0,"azt-loading-ui",3),e.DNE(14,Is,3,3,"span",4),e.k0s()()(),e.j41(15,"div",6)(16,"h3",2),e.EFF(17),e.nI1(18,"mytranslate"),e.j41(19,"b"),e.EFF(20),e.nI1(21,"number"),e.k0s()(),e.j41(22,"h3",5),e.EFF(23),e.nI1(24,"mytranslate"),e.j41(25,"b"),e.EFF(26),e.nI1(27,"number"),e.k0s()()(),e.j41(28,"h3",7),e.EFF(29),e.nI1(30,"mytranslate"),e.j41(31,"b"),e.EFF(32),e.nI1(33,"number"),e.k0s()(),e.j41(34,"div",8)(35,"button",9),e.bIt("click",function(){return s.withdrawBalance()}),e.EFF(36),e.nI1(37,"mytranslate"),e.k0s()()()()),2&r&&(e.R7$(1),e.Y8G("ngClass",s.isMobileDevice?"":"flex"),e.R7$(3),e.SpI(" ",e.bMT(5,18,"lang_test_market_total_questions_share")," "),e.R7$(3),e.Y8G("ngIf",s.loadingSharedQuestionCount),e.R7$(1),e.Y8G("ngIf",!s.loadingSharedQuestionCount),e.R7$(2),e.SpI(" ",e.bMT(11,20,"lang_test_market_total_exam_sold")," "),e.R7$(3),e.Y8G("ngIf",s.loadingSoldExamCount),e.R7$(1),e.Y8G("ngIf",!s.loadingSoldExamCount),e.R7$(1),e.Y8G("ngClass",s.isMobileDevice?"mt-2":""),e.R7$(2),e.SpI(" ",e.bMT(18,22,"lang_test_market_total_questions_approve")," "),e.R7$(3),e.JRh(e.bMT(21,24,s.totalApproved)),e.R7$(3),e.SpI(" ",e.bMT(24,26,"lang_test_market_total_questions_used")," "),e.R7$(3),e.JRh(e.bMT(27,28,s.totalUsed)),e.R7$(2),e.Y8G("ngClass",s.isMobileDevice?"mt-2":""),e.R7$(1),e.SpI(" ",e.bMT(30,30,"lang_test_market_total_balance")," "),e.R7$(3),e.SpI("",e.bMT(33,32,s.totalBalance),"\u0111"),e.R7$(2),e.Y8G("ngClass",s.isMobileDevice?"mt-2":""),e.R7$(1),e.Y8G("disabled",!s.totalBalance),e.R7$(1),e.SpI(" ",e.bMT(37,34,"lang_test_market_withdraw")," "))},dependencies:[_.YU,_.bT,de.R,_.QX,L.wp],encapsulation:2})}return n})();function ks(n,u){if(1&n&&e.nrm(0,"azt-loading-effect",3),2&n){const t=e.XpG();e.Y8G("currentStatusObj",t.statusObj)}}function Ss(n,u){if(1&n){const t=e.RV6();e.j41(0,"withdraw-balance",7),e.bIt("closeRequest",function(s){e.eBV(t);const d=e.XpG(2);return e.Njj(d.closeRequest(s))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("transactionInfo",t.transactionInfo)("balanceUserInfo",t.balanceUserInfo)("totalBalance",t.totalBalance)}}function Ui(n,u){if(1&n){const t=e.RV6();e.j41(0,"filter-question-shared-status",18),e.bIt("changeFilterStatus",function(s){e.eBV(t);const d=e.XpG(3);return e.Njj(d.changeFilterStatus(s))}),e.k0s()}if(2&n){const t=e.XpG(3);e.Y8G("fillStatus",t.fillStatus)}}function Cs(n,u){1&n&&(e.qex(0),e.nrm(1,"view-exam-sold-history"),e.bVm())}function Ts(n,u){if(1&n&&(e.qex(0),e.nrm(1,"view-question-shared",19),e.bVm()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("fillStatus",t.fillStatus)}}const Bn=function(n){return{"border-bottom-width.px":n}},lo=function(n){return{"font-weight":n}};function Bi(n,u){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"withdraw-information",8),e.bIt("openWithdrawForm",function(s){e.eBV(t);const d=e.XpG(2);return e.Njj(d.withdrawBalance(s))}),e.k0s(),e.j41(2,"div",9)(3,"div",10)(4,"div",11),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onTabChanged(0))}),e.j41(5,"span",12),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()(),e.j41(8,"div",13)(9,"div",14),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onTabChanged(1))}),e.j41(10,"div",15)(11,"span",16),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.DNE(14,Ui,1,1,"filter-question-shared-status",17),e.k0s()()()(),e.DNE(15,Cs,2,0,"ng-container",6),e.DNE(16,Ts,2,1,"ng-container",6),e.bVm()}if(2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("loadingSoldExamCount",t.loadingSoldExamCount)("loadingSharedQuestionCount",t.loadingSharedQuestionCount)("totalShared",t.totalShared)("totalSoldExam",t.totalSoldExam)("totalApproved",t.totalApproved)("totalUsed",t.totalUsed)("totalBalance",t.totalBalance),e.R7$(3),e.Y8G("ngStyle",e.eq3(20,Bn,0==t.selectedIndexTab?2:0)),e.R7$(1),e.Y8G("ngStyle",e.eq3(22,lo,0==t.selectedIndexTab?"500":"400")),e.R7$(1),e.JRh(e.bMT(7,16,"lang_withdraw_history_sold_exam")),e.R7$(3),e.Y8G("ngStyle",e.eq3(24,Bn,1==t.selectedIndexTab?2:0)),e.R7$(2),e.Y8G("ngStyle",e.eq3(26,lo,1==t.selectedIndexTab?"500":"400")),e.R7$(1),e.JRh(e.bMT(13,18,"lang_auto_danh_sach_cau_hoi_chia_se")),e.R7$(2),e.Y8G("ngIf",1==t.selectedIndexTab),e.R7$(1),e.Y8G("ngIf",0==t.selectedIndexTab),e.R7$(1),e.Y8G("ngIf",1==t.selectedIndexTab)}}function Rs(n,u){if(1&n&&(e.j41(0,"div",4),e.DNE(1,Ss,1,3,"withdraw-balance",5),e.DNE(2,Bi,17,28,"ng-container",6),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.isWithDraw&&t.balanceUserInfo),e.R7$(1),e.Y8G("ngIf",!t.isWithDraw)}}let Vi=(()=>{class n extends te.H{changeFilterStatus(t){this.fillStatus=t??"",this.browserStorageService.saveSimpleStorage("view_question_filter",t??"")}withdrawBalance(t){this.isWithDraw=!this.isWithDraw}closeRequest(t){if(t){let r=Number(this.commonService.getMyParam(this.activeRoute,"roleType")??0),s=Number(this.commonService.getMyParam(this.activeRoute,"modeType")??3);this.commonService.myNavigationWithQueryString(`/auth/account-setting/${r}/${s}`,"?tab="+this.selectedIndexTab),this.isWithDraw=!1}else this.isWithDraw=!1}getBalanceQuestionShared(){this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsBalanceGet().subscribe(t=>{t.success?(this.totalShared=t.data?.shared??0,this.totalUsed=t.data?.used??0,this.totalApproved=t.data?.approved??0,this.totalBalance=t.data?.balance??0,this.transactionInfo=t.data?.lastTransaction,this.balanceUserInfo=t.data,this.loadingSharedQuestionCount=!1,this.successStatusObj()):this.errorStatusObj(t.message??"",!0)}))}getTotalSoldExam(){this.waitDestroy(this.examPaymentHistoryService.apiExamPaymentHistoryGetTotalSoldGet().subscribe(t=>{t.success?(this.totalSoldExam=t.data?.value??0,this.loadingSoldExamCount=!1,this.successStatusObj()):this.errorStatusObj(t.message??"",!0)}))}onTabChanged(t){this.selectedIndexTab=t;let r=Number(this.commonService.getMyParam(this.activeRoute,"roleType")??0),s=Number(this.commonService.getMyParam(this.activeRoute,"modeType")??3);this.commonService.myNavigationWithQueryString(`/auth/account-setting/${r}/${s}`,"?tab="+this.selectedIndexTab)}ngOnInit(){this.initStatusObj(),this.waitDestroy((0,ut.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let t=this.browserStorageService.getSimpleStorage("view_question_filter"),r=this.commonService.getMyQueryParam("tab")??0;this.fillStatus=t??"",this.selectedIndexTab=Number(r),this.getBalanceQuestionShared(),this.getTotalSoldExam()}))}constructor(t,r,s,d){super(),this.examPaymentHistoryService=t,this.testMarketQuestionService=r,this.activeRoute=s,this.browserStorageService=d,this.isWithDraw=!1,this.totalShareQuestion=0,this.totalShared=0,this.totalUsed=0,this.totalApproved=0,this.totalBalance=0,this.fillStatus="",this.selectedIndexTab=0,this.totalSoldExam=0,this.loadingSoldExamCount=!0,this.loadingSharedQuestionCount=!0}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Nt.h),e.rXU(Nn.e2),e.rXU(he.nX),e.rXU(Ht.z))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["view-share-question"]],features:[e.Vt3],decls:4,vars:2,consts:[[1,"relative"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"approve-share-question"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest",4,"ngIf"],[4,"ngIf"],[3,"transactionInfo","balanceUserInfo","totalBalance","closeRequest"],[3,"loadingSoldExamCount","loadingSharedQuestionCount","totalShared","totalSoldExam","totalApproved","totalUsed","totalBalance","openWithdrawForm"],[1,"flex"],[1,"w-40","hover-tab",2,"align-self","center"],[1,"px-3","pt-5","pb-3","border-slate-300","text-center",2,"cursor","pointer","align-self","center",3,"ngStyle","click"],[2,"align-self","center",3,"ngStyle"],[1,"w-44","hover-tab"],[1,"px-3","pt-5","pb-3","border-slate-300","relative","text-center",2,"cursor","pointer","align-self","center",3,"ngStyle","click"],[1,"flex","w-full","text-center"],[1,"mr-2",2,"align-self","center",3,"ngStyle"],[3,"fillStatus","changeFilterStatus",4,"ngIf"],[3,"fillStatus","changeFilterStatus"],[3,"fillStatus"]],template:function(r,s){if(1&r&&(e.j41(0,"div",0),e.DNE(1,ks,1,1,"azt-loading-effect",1),e.DNE(2,Rs,3,2,"ng-template",null,2,e.C5r),e.k0s()),2&r){const d=e.sdS(3);e.R7$(1),e.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[_.bT,_.B3,Le.K,as.C,pc,Di,co,zi,L.wp],encapsulation:2})}return n})();function Es(n,u){if(1&n&&e.nrm(0,"azt-loading-effect",2),2&n){const t=e.XpG();e.Y8G("currentStatusObj",t.statusObj)}}function Yi(n,u){1&n&&(e.j41(0,"div",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_status_new")," "))}function ws(n,u){1&n&&(e.j41(0,"div",15),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_status_approved")," "))}function Wi(n,u){1&n&&(e.j41(0,"div",15),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_status_settled")," "))}function xs(n,u){1&n&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_status_rejected")," "))}function qi(n,u){if(1&n&&(e.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"p"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"p"),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"p"),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"p"),e.EFF(16),e.nI1(17,"mytranslate"),e.nI1(18,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()(),e.j41(19,"div",14)(20,"b",15),e.EFF(21),e.nI1(22,"number"),e.k0s(),e.j41(23,"div",16),e.DNE(24,Yi,3,3,"div",17),e.DNE(25,ws,3,3,"div",18),e.DNE(26,Wi,3,3,"div",18),e.DNE(27,xs,3,3,"div",19),e.k0s()()()()),2&n){const t=u.$implicit;e.R7$(4),e.Lme("",e.bMT(5,15,"lang_test_market_bankHolder"),": ",t.bankHolder,""),e.R7$(3),e.Lme("",e.bMT(8,17,"lang_test_market_bankName"),": ",t.bankName,""),e.R7$(3),e.Lme("",e.bMT(11,19,"lang_test_market_bankNumber"),": ",t.bankAccountNumber,""),e.R7$(3),e.Lme("",e.bMT(14,21,"lang_test_market_address"),": ",t.address,""),e.R7$(3),e.Lme("",e.bMT(17,23,"lang_auto_ngay_tao"),": ",e.bMT(18,25,t.createdAt),""),e.R7$(5),e.SpI("",e.bMT(22,27,t.amount),"\u0111"),e.R7$(3),e.Y8G("ngIf","new"==t.status),e.R7$(1),e.Y8G("ngIf","approved"==t.status),e.R7$(1),e.Y8G("ngIf","settled"==t.status),e.R7$(1),e.Y8G("ngIf","rejected"==t.status)}}function As(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5),e.DNE(3,qi,28,29,"div",6),e.k0s(),e.j41(4,"div",7)(5,"div",8)(6,"azt-paging",9),e.bIt("goToPaginationPage",function(s){e.eBV(t);const d=e.XpG();return e.Njj(d.getData(s))}),e.k0s()(),e.j41(7,"div",10),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()()()}if(2&n){const t=e.XpG();e.R7$(3),e.Y8G("ngForOf",t.withdrawHistoryObjs),e.R7$(3),e.Y8G("pageObj",t.pageObj),e.R7$(2),e.SpI(" ",t.totalWithdrawTimes+" "+e.bMT(9,3,"lang_test_market_withdraw_times")," ")}}let Qi=(()=>{class n extends te.H{getData(t){this.initStatusObj(),this.pageObj.setPageNumber(t),this.waitDestroy(this.testMarketQuestionService.apiTestMarketQuestionsTransactionsGet().subscribe(r=>{if(r.success){this.withdrawHistoryObjs=r.data?.objs??[];let s=r.data?.total??1;this.totalWithdrawTimes=s,this.pageObj.setTotalPages(s),this.successStatusObj()}else this.errorStatusObj(r.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,ut.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData(this.pageObj.page)}))}constructor(t,r){super(),this.testMarketQuestionService=t,this.activeRoute=r,this.totalWithdrawTimes=0,this.withdrawHistoryObjs=[],this.pageObj=new on.d(10)}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Nn.e2),e.rXU(he.nX))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["history-withdraw"]],features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"approve-share-question"],[1,"grid","grid-cols-12","gap-6"],[1,"intro-y","col-span-12","overflow-auto"],["class","pb-2",4,"ngFor","ngForOf"],[1,"col-span-12","flex","flex-wrap","sm:flex-row","sm:flex-nowrap","items-center"],[1,"w-full","sm:w-auto","sm:mr-auto"],[3,"pageObj","goToPaginationPage"],[1,"mt-3","sm:mt-0"],[1,"pb-2"],[1,"box","p-2","flex","items-center"],[1,"ml-4","mr-auto","w-2/3"],[1,"font-medium","md:flex","text-xs"],[1,"px-2","bg-success","text-white"],[1,"ml-0","md:ml-2","mt-1","md:mt-0","text-center"],["class","px-2 bg-pending text-white",4,"ngIf"],["class","px-2 bg-success text-white",4,"ngIf"],["class","px-2 bg-danger text-white",4,"ngIf"],[1,"px-2","bg-pending","text-white"],[1,"px-2","bg-danger","text-white"]],template:function(r,s){if(1&r&&(e.DNE(0,Es,1,1,"azt-loading-effect",0),e.DNE(1,As,10,5,"ng-template",null,1,e.C5r)),2&r){const d=e.sdS(2);e.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[_.Sq,_.bT,Le.K,xi.q,_.QX,L.wp,L.bH],encapsulation:2})}return n})();function Os(n,u){1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_xoa_tai_khoan_required")," "))}function Ps(n,u){if(1&n&&(e.j41(0,"div",12),e.DNE(1,Os,3,3,"span",13),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.form.controls.reason.errors.required)}}function uo(n,u){1&n&&e.nrm(0,"azt-loading-ui",14)}let Xi=(()=>{class n extends te.H{saveUnitObj(){this.initStatusObj(),this.waitDestroy(this.authService.apiAuthRemoveMyAccountPost({reason:this.form.value.reason??""}).subscribe(t=>{1==t.success?(this.successStatusObj("lang_auto_xoa_tai_khoan_done",!0),setTimeout(()=>{this.mobileWebviewService.sendSimpleMessage("MOB_LOGOUT")},2e3)):this.errorStatusObj(t.message??"",!0)}))}constructor(t,r){super(),this.authService=t,this.mobileWebviewService=r,this.form=new v.gE({reason:new v.MJ("",[v.k0.required])})}ngOnInit(){this.form.controls.reason.setValue("")}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU($.uR),e.rXU(qt.f))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["remove-account"]],features:[e.Vt3],decls:18,vars:13,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","reason-remove-account",1,"form-label","font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],[1,"relative"],["id","reason-remove-account","type","text","formControlName","reason","placeholder","",1,"form-control"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],[1,"flex","mt-5","items-center"],["azt-track-service","remove-account-VF4RFPOdq-",1,"btn","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[4,"ngIf"],[1,"mr-1"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",5),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"div",6),e.nrm(11,"input",7),e.k0s(),e.DNE(12,Ps,2,1,"div",8),e.k0s()(),e.j41(13,"div",9)(14,"button",10),e.bIt("click",function(){return s.saveUnitObj()}),e.DNE(15,uo,1,0,"azt-loading-ui",11),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()()()),2&r&&(e.R7$(1),e.Y8G("formGroup",s.form),e.R7$(4),e.SpI(" ",e.bMT(6,7,"lang_auto_xoa_tai_khoan")," "),e.R7$(3),e.SpI(" ",e.bMT(9,9,"lang_auto_xoa_tai_khoan_confirm")," "),e.R7$(4),e.Y8G("ngIf",s.form.controls.reason.errors&&(s.form.controls.reason.dirty||s.form.controls.reason.touched)),e.R7$(2),e.Y8G("disabled",s.statusObj.loading||s.form.controls.reason.errors),e.R7$(1),e.Y8G("ngIf",s.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(17,11,"lang_auto_xac_nhan")," "))},dependencies:[_.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,et.t,de.R,L.wp],encapsulation:2})}return n})();function Fs(n,u){if(1&n&&e.nrm(0,"azt-loading-effect",2),2&n){const t=e.XpG();e.Y8G("currentStatusObj",t.statusObj)}}const bn=function(){return{"mr-2 flex-none":!0}};function _o(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"label",7),e.nrm(5,"lucide-icon",8),e.EFF(6),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"input",9),e.bIt("change",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.mobLoginFingerprintOrFace())}),e.k0s()()()()()}if(2&n){const t=e.XpG();e.R7$(5),e.Y8G("name",t.enableForFace?"scan-face":"fingerprint")("ngClass",e.lJ4(8,bn)),e.R7$(1),e.SpI(" ",t.enableForFace?e.bMT(7,4,"lang_core_login_with_face"):e.bMT(8,6,"lang_core_login_with_fingerprint")," "),e.R7$(3),e.Y8G("formControl",t.checkLoginFingerprintOrFaceControl)}}let js=(()=>{class n extends te.H{mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFaceControl.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}constructor(t){super(),this.mobileWebviewService=t,this.checkLoginFingerprintOrFaceControl=new v.MJ(!1,{nonNullable:!0}),this.enableForFace=!1}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(qt.f))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["setting-fingerprint-or-face"]],inputs:{checkLoginFingerprintOrFaceControl:"checkLoginFingerprintOrFaceControl",enableForFace:"enableForFace"},features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-x","box","p-5"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],[1,"form-check","form-switch","items-center","px-3","py-2","mt-2","rounded-md","w-full"],["for","login-fingerprint-face",1,"flex","items-center","mr-auto"],["size","20",3,"name","ngClass"],["id","login-fingerprint-face","type","checkbox",1,"show-code","form-check-input",2,"margin-right","-10px",3,"formControl","change"]],template:function(r,s){if(1&r&&(e.DNE(0,Fs,1,1,"azt-loading-effect",0),e.DNE(1,_o,10,9,"ng-template",null,1,e.C5r)),2&r){const d=e.sdS(2);e.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[_.YU,_.bT,v.Zm,v.BC,v.l_,Le.K,pe.WGl,L.wp],encapsulation:2})}return n})();var an=y(34208),Ms=y(10710);function Ns(n,u){if(1&n&&e.nrm(0,"azt-loading-effect",3),2&n){const t=e.XpG();e.Y8G("currentStatusObj",t.statusObj)}}const mo=function(){return{"mr-2 flex-none":!0}},gc=function(n){return{"text-danger":n}};function fc(n,u){if(1&n&&(e.qex(0),e.j41(1,"div",18)(2,"div",19),e.nrm(3,"lucide-icon",20),e.j41(4,"span",21),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"span"),e.EFF(8),e.nI1(9,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),e.k0s()(),e.j41(10,"div",22),e.nrm(11,"lucide-icon",23),e.j41(12,"span",24),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"span",25),e.EFF(16),e.nI1(17,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),e.nI1(18,"mytranslate"),e.k0s()()(),e.bVm()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("ngClass",e.lJ4(17,mo)),e.R7$(2),e.SpI(" ",e.bMT(6,7,"lang_azt_vip_purchase_date")+":"," "),e.R7$(3),e.JRh(e.bMT(9,9,null==t.vipPackageObj?null:t.vipPackageObj.startTime)),e.R7$(2),e.Y8G("ngClass",e.eq3(18,gc,t.expirationDate<t.flatWarning)),e.R7$(1),e.Y8G("ngClass",e.lJ4(20,mo)),e.R7$(2),e.SpI(" ",e.bMT(14,11,"lang_azt_expiration_date")+":"," "),e.R7$(3),e.JRh(e.bMT(17,13,null==t.vipPackageObj?null:t.vipPackageObj.endTime)+" ( "+t.expirationDate+" "+e.bMT(18,15,"lang_auto_ngay")+" )")}}function vc(n,u){1&n&&(e.j41(0,"div",27)(1,"div",28),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_azt_not_subscribed_to_azota_vip")+" !"))}function Hi(n,u){1&n&&(e.j41(0,"div",27)(1,"div",28),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_azt_not_subscribed_to_azota_vip_student")+" !"))}function Ds(n,u){if(1&n&&(e.DNE(0,vc,4,3,"div",26),e.DNE(1,Hi,4,3,"div",26)),2&n){const t=e.XpG(2);e.Y8G("ngIf",t.isTeacherDashboard),e.R7$(1),e.Y8G("ngIf",!t.isTeacherDashboard)}}function Ls(n,u){if(1&n&&(e.j41(0,"tr")(1,"td",30),e.EFF(2),e.nI1(3,"formatFullDateTimeTimezoneWithoutSecondByUserUnitPipe"),e.k0s(),e.j41(4,"td"),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"td",31),e.EFF(8),e.nI1(9,"formatMoney"),e.nI1(10,"mytranslate"),e.k0s()()),2&n){const t=u.$implicit;e.R7$(2),e.SpI(" ",e.bMT(3,3,t.createdAt)," "),e.R7$(3),e.SpI(" ",e.bMT(6,5,null!=t&&t.packageName?null==t?null:t.packageName:"lang_azt_azota_vip")," "),e.R7$(3),e.SpI(" ",e.bMT(9,7,t.packageMoney)+" "+e.bMT(10,9,"lang_auto_vnd_upper")," ")}}const bc=function(){return[]};function yc(n,u){if(1&n&&(e.qex(0),e.DNE(1,Ls,11,11,"tr",29),e.bVm()),2&n){const t=e.XpG(2);let r;e.R7$(1),e.Y8G("ngForOf",null!==(r=null==t.vipPackageObj?null:t.vipPackageObj.subscriptionHistories)&&void 0!==r?r:e.lJ4(1,bc))}}function Ic(n,u){1&n&&(e.j41(0,"tr")(1,"td",32),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_khong_co_du_lieu")+"!"))}function kc(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",4)(1,"div",5),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,fc,19,21,"ng-container",6),e.DNE(5,Ds,2,2,"ng-template",null,7,e.C5r),e.j41(7,"div",8)(8,"button",9),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.redirectToVipPackages())}),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()()(),e.j41(11,"div",10)(12,"div",11),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"div",12)(16,"drag-scroll")(17,"table",13)(18,"thead")(19,"tr")(20,"th",14),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s(),e.j41(23,"th",15),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s(),e.j41(26,"th",16),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,yc,2,2,"ng-container",6),e.DNE(31,Ic,4,3,"ng-template",null,17,e.C5r),e.k0s()()()()()}if(2&n){const t=e.sdS(6),r=e.sdS(32),s=e.XpG();e.R7$(2),e.JRh(e.bMT(3,10,"lang_azt_your_subscription_package")),e.R7$(2),e.Y8G("ngIf",null==s.vipPackageObj?null:s.vipPackageObj.endTime)("ngIfElse",t),e.R7$(5),e.JRh(e.bMT(10,12,"lang_azt_upgrade_now")),e.R7$(4),e.JRh(e.bMT(14,14,"lang_azt_purchase_history")),e.R7$(8),e.JRh(e.bMT(22,16,"lang_auto_thoi_gian")),e.R7$(3),e.JRh(e.bMT(25,18,"lang_business_config_billing_history_package_name")),e.R7$(3),e.JRh(e.bMT(28,20,"lang_azt_price")),e.R7$(3),e.Y8G("ngIf",s.vipPackageObj&&s.vipPackageObj.subscriptionHistories)("ngIfElse",r)}}let Sc=(()=>{class n extends te.H{redirectToVipPackages(){this.commonService.myNavigationWithQueryString("/auth/vip-packages/"+(this.isTeacherDashboard?"teacherVip":"studentVip"),`?backto=${encodeURIComponent(`/auth/account-setting/${this.isTeacherDashboard?0:1}/8`)}`)}getData(){this.initStatusObj(),this.waitDestroy(this.vipPackageService.apiVipPackageGetMyPackagePost({vipPackageType:this.isTeacherDashboard?an.W.TEACHER:an.W.STUDENT}).subscribe(t=>{if(!t.success)return this.errorStatusObj(t.message,!0);this.vipPackageObj=t.data?.obj,this.expirationDate=this.timeService.calculationTimeOnlyDate(void 0,this.vipPackageObj?.endTime),this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.isTeacherDashboard=0==Number(this.commonService.getMyParam(this.activeRoute,"roleType")),this.getData()}constructor(t,r,s){super(),this.activeRoute=t,this.vipPackageService=r,this.timeService=s,this.expirationDate=0,this.flatWarning=7,this.isTeacherDashboard=!1}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(he.nX),e.rXU(Ms.vg),e.rXU(G.F))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["setting-azota-vip"]],features:[e.Vt3],decls:4,vars:2,consts:[[1,"intro-x","box","p-5"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"azota-vip"],[1,"text-lg","font-medium","mb-2"],[4,"ngIf","ngIfElse"],["noVipPackage",""],[1,"text-right","mt-3"],[1,"btn","btn-primary",3,"click"],[1,"subscription-history","mt-4"],[1,"text-lg","font-medium"],[1,"w-full","h-full","mt-2"],["drag-scroll-item","",1,"table","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","10px","width","250px"],[1,"whitespace-nowrap",2,"width","350px"],[1,"whitespace-nowrap",2,"text-align","right","padding-right","20px"],["noHistory",""],[1,"vip"],[1,"flex","items-center","font-medium","mt-2"],["name","calendar-check","size","20",3,"ngClass"],[1,"mr-2"],[1,"flex","items-center","flex-wrap","font-medium","mt-2",3,"ngClass"],["name","calendar-off","size","20",3,"ngClass"],[1,"mr-2","mt-1","sm:mt-0"],[1,"mr-1"],["class","no-vip",4,"ngIf"],[1,"no-vip"],[1,"note"],[4,"ngFor","ngForOf"],[2,"padding-left","10px"],[2,"text-align","right","padding-right","20px"],["colspan","3",1,"text-center"]],template:function(r,s){if(1&r&&(e.j41(0,"div",0),e.DNE(1,Ns,1,1,"azt-loading-effect",1),e.DNE(2,kc,33,22,"ng-template",null,2,e.C5r),e.k0s()),2&r){const d=e.sdS(3);e.R7$(1),e.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[_.YU,_.Sq,_.bT,Le.K,pe.WGl,Lt.jd,Lt.Ew,L.wp,L.i_,L.t0],encapsulation:2})}return n})();function Ji(n,u){if(1&n&&(e.j41(0,"teacher-layout",2),e.eu8(1,3),e.k0s()),2&n){const t=e.XpG(),r=e.sdS(3);e.Y8G("headerBackToLink",t.backLink),e.R7$(1),e.Y8G("ngTemplateOutlet",r)}}function cn(n,u){if(1&n&&(e.j41(0,"student-layout",2),e.eu8(1,3),e.k0s()),2&n){const t=e.XpG(),r=e.sdS(3);e.Y8G("headerBackToLink",t.backLink),e.R7$(1),e.Y8G("ngTemplateOutlet",r)}}function Ki(n,u){if(1&n&&e.nrm(0,"azt-loading-effect",26),2&n){const t=e.XpG(2);e.Y8G("currentStatusObj",t.statusObj)}}const Ut=function(n){return{"bg-primary text-white font-medium":n}},At=function(){return{"mr-2 flex-none":!0}};function Gs(n,u){if(1&n){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.changModeView(0))}),e.nrm(1,"lucide-icon",28),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Ut,"general"==t.modeView)),e.R7$(1),e.Y8G("ngClass",e.lJ4(7,At)),e.R7$(1),e.SpI(" ",e.bMT(3,3,"lang_auto_chung")," ")}}function Cc(n,u){if(1&n){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.changModeView(1))}),e.nrm(1,"lucide-icon",30),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Ut,"password"==t.modeView)),e.R7$(1),e.Y8G("ngClass",e.lJ4(7,At)),e.R7$(1),e.SpI(" ",e.bMT(3,3,"lang_auto_doi_mat_khau")," ")}}function $s(n,u){if(1&n){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.changModeView(5))}),e.nrm(1,"lucide-icon",32),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Ut,"setting-unit"==t.modeView)),e.R7$(1),e.Y8G("ngClass",e.lJ4(7,At)),e.R7$(1),e.SpI(" ",e.bMT(3,3,"lang_auth_setting_user_unit")," ")}}function zs(n,u){if(1&n){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.changModeView(3))}),e.nrm(1,"lucide-icon",34),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Ut,"share-question"==t.modeView)),e.R7$(1),e.Y8G("ngClass",e.lJ4(7,At)),e.R7$(1),e.SpI(" ",e.bMT(3,3,"lang_payment_history_transaction_history")," ")}}function Zi(n,u){if(1&n){const t=e.RV6();e.j41(0,"button",35),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.changModeView(4))}),e.nrm(1,"lucide-icon",36),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Ut,"history-withdraw"==t.modeView)),e.R7$(1),e.Y8G("ngClass",e.lJ4(7,At)),e.R7$(1),e.SpI(" ",e.bMT(3,3,"lang_test_market_withdraw_history")," ")}}function er(n,u){if(1&n){const t=e.RV6();e.j41(0,"button",37),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.changModeView(2))}),e.nrm(1,"lucide-icon",28),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Ut,"setting-role"==t.modeView)),e.R7$(1),e.Y8G("ngClass",e.lJ4(7,At)),e.R7$(1),e.SpI(" ",e.bMT(3,3,"lang_auth_user_setting_change_role")," ")}}function Us(n,u){if(1&n){const t=e.RV6();e.j41(0,"button",38),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.changModeView(7))}),e.nrm(1,"lucide-icon",39),e.EFF(2),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(8,Ut,"setting-fingerprint-or-face"==t.modeView)),e.R7$(1),e.Y8G("name",t.enableForFace?"scan-face":"fingerprint")("ngClass",e.lJ4(10,At)),e.R7$(1),e.SpI(" ",t.enableForFace?e.bMT(3,4,"lang_core_login_with_face"):e.bMT(4,6,"lang_core_login_with_fingerprint")," ")}}function Vn(n,u){if(1&n){const t=e.RV6();e.j41(0,"button",40),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.goToProfileStudent())}),e.nrm(1,"lucide-icon",41),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&n&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,At)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_auto_thong_ke_hoc_tap")," "))}function ho(n,u){if(1&n){const t=e.RV6();e.j41(0,"button",42),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.changModeView(8))}),e.j41(1,"div",43),e.nrm(2,"azt-check-vip-account",44),e.k0s(),e.j41(3,"span"),e.EFF(4,"Azota VIP"),e.k0s()()}if(2&n){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(3,Ut,"setting-azota-vip"==t.modeView)),e.R7$(2),e.Y8G("vipPackageType",t.isTeacherDashboard?"VIP_FOR_TEACHER":"VIP_FOR_STUDENT")("isShowBadgeVip",!0)}}function Bs(n,u){if(1&n){const t=e.RV6();e.j41(0,"button",45),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.changModeView(6))}),e.nrm(1,"lucide-icon",46),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(5,Ut,"remove-account"==t.modeView)),e.R7$(1),e.Y8G("ngClass",e.lJ4(7,At)),e.R7$(1),e.SpI(" ",e.bMT(3,3,"lang_auto_xoa_tai_khoan")," ")}}function Vs(n,u){if(1&n){const t=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.changeAccountStudent())}),e.nrm(1,"lucide-icon",48),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&n&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,At)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_core_chon_lai_con")," "))}function Ys(n,u){if(1&n){const t=e.RV6();e.j41(0,"button",49),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.mobLogout())}),e.nrm(1,"lucide-icon",50),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&n&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,At)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_auto_dang_xuat")," "))}function Tc(n,u){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"setting-general",51),e.bIt("saveUserObj",function(s){e.eBV(t);const d=e.XpG(2);return e.Njj(d.saveUserObjData(s))}),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("userObj",t.userObj)("isTeacherDashboard",t.isTeacherDashboard)}}function po(n,u){1&n&&(e.j41(0,"div"),e.nrm(1,"setting-password"),e.k0s())}function Rc(n,u){if(1&n&&(e.j41(0,"div"),e.nrm(1,"setting-role",52),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("isTeacherDashboard",t.isTeacherDashboard)("hasTeacherRole",t.hasTeacherRole)}}function tr(n,u){1&n&&(e.j41(0,"div"),e.nrm(1,"setting-unit"),e.k0s())}function Ws(n,u){1&n&&(e.j41(0,"div"),e.nrm(1,"view-share-question"),e.k0s())}function qs(n,u){1&n&&(e.j41(0,"div"),e.nrm(1,"history-withdraw"),e.k0s())}function En(n,u){1&n&&(e.j41(0,"div"),e.nrm(1,"remove-account"),e.k0s())}function Qs(n,u){if(1&n&&(e.j41(0,"div"),e.nrm(1,"setting-fingerprint-or-face",53),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("checkLoginFingerprintOrFaceControl",t.checkLoginFingerprintOrFace)("enableForFace",t.enableForFace)}}function Ye(n,u){1&n&&(e.j41(0,"div"),e.nrm(1,"setting-azota-vip"),e.k0s())}const Xs=function(n){return{"margin-bottom":n}};function nr(n,u){if(1&n&&(e.DNE(0,Ki,1,1,"azt-loading-effect",4),e.j41(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()(),e.j41(7,"div",9)(8,"div",10)(9,"div",11),e.DNE(10,Gs,4,8,"button",12),e.DNE(11,Cc,4,8,"button",13),e.DNE(12,$s,4,8,"button",14),e.DNE(13,zs,4,8,"button",15),e.nI1(14,"showFeatureWhenIsNotBusinessDomain"),e.DNE(15,Zi,4,8,"button",16),e.nI1(16,"showFeatureWhenIsNotBusinessDomain"),e.DNE(17,er,4,8,"button",17),e.DNE(18,Us,5,11,"button",18),e.DNE(19,Vn,4,5,"button",19),e.DNE(20,ho,5,5,"button",20),e.DNE(21,Bs,4,8,"button",21),e.DNE(22,Vs,4,5,"button",22),e.nI1(23,"isParentViewOnly"),e.DNE(24,Ys,4,5,"button",23),e.k0s()()(),e.j41(25,"div",24),e.DNE(26,Tc,2,2,"div",25),e.DNE(27,po,2,0,"div",25),e.DNE(28,Rc,2,2,"div",25),e.DNE(29,tr,2,0,"div",25),e.DNE(30,Ws,2,0,"div",25),e.DNE(31,qs,2,0,"div",25),e.DNE(32,En,2,0,"div",25),e.DNE(33,Qs,2,2,"div",25),e.DNE(34,Ye,2,0,"div",25),e.k0s()()()),2&n){const t=e.XpG();e.Y8G("ngIf",t.isLoading),e.R7$(5),e.SpI(" ",e.bMT(6,24,"lang_auto_cai_dat_tai_khoan")," "),e.R7$(5),e.Y8G("ngIf","setting-role"!=t.modeView),e.R7$(1),e.Y8G("ngIf","setting-role"!=t.modeView),e.R7$(1),e.Y8G("ngIf","setting-role"!=t.modeView),e.R7$(1),e.Y8G("ngIf","setting-role"!=t.modeView&&t.isTeacherDashboard&&e.bMT(14,26,"")),e.R7$(2),e.Y8G("ngIf","setting-role"!=t.modeView&&t.isTeacherDashboard&&e.bMT(16,28,"")),e.R7$(2),e.Y8G("ngIf","setting-role"==t.modeView&&!t.isMobileWebView),e.R7$(1),e.Y8G("ngIf",t.isMobileWebView&&t.isShowBiometricSetting),e.R7$(1),e.Y8G("ngIf",!t.isTeacherDashboard&&t.isBusinessDomain),e.R7$(1),e.Y8G("ngIf",!t.isBusinessDomain&&!t.isMobileWebView&&(t.isCheckTeacherVipAction||!t.isTeacherDashboard)),e.R7$(1),e.Y8G("ngIf",t.isMobileWebView),e.R7$(1),e.Y8G("ngIf",t.isMobileWebView&&e.bMT(23,30,"")&&t.sAztParentUserService.getCurrentLoginStudent(t.userObj)),e.R7$(2),e.Y8G("ngIf",t.isMobileWebView),e.R7$(1),e.Y8G("ngStyle",e.eq3(32,Xs,t.isMobileWebView?"200px":"0")),e.R7$(1),e.Y8G("ngIf","general"==t.modeView&&t.userObj),e.R7$(1),e.Y8G("ngIf","password"==t.modeView),e.R7$(1),e.Y8G("ngIf","setting-role"==t.modeView&&!t.isMobileWebView),e.R7$(1),e.Y8G("ngIf","setting-unit"==t.modeView),e.R7$(1),e.Y8G("ngIf","share-question"==t.modeView),e.R7$(1),e.Y8G("ngIf","history-withdraw"==t.modeView),e.R7$(1),e.Y8G("ngIf","remove-account"==t.modeView),e.R7$(1),e.Y8G("ngIf","setting-fingerprint-or-face"==t.modeView),e.R7$(1),e.Y8G("ngIf","setting-azota-vip"==t.modeView&&(t.isCheckTeacherVipAction||!t.isTeacherDashboard))}}let Hs=(()=>{class n extends te.H{goToProfileStudent(){this.initStatusObj();const t=Number(this.commonService.getMyParam(this.activeRoute,"modeType"));this.myNavigationWithQueryString("/student/profile-student/0/0","?backTo="+encodeURIComponent("/auth/account-setting/1/"+(this.isTeacherDashboard?0:1)+t+"?tab=0"))}changModeView(t){let r=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString(`/auth/account-setting/${this.isTeacherDashboard?0:1}/`+t,r?"?backTo="+encodeURIComponent(r)+"&tab=0":"?tab=0")}getInfo(){this.userObj=this.userService.getUserObj()}saveUserObjData(t){this.userObj=t}mobLogout(){this.mobileWebviewService.sendSimpleMessage("MOB_LOGOUT")}mobLoginFingerprintOrFace(){this.mobileWebviewService.sendSimpleMessage(this.checkLoginFingerprintOrFace.value?"ON_LOGIN_FINGERPRINT_OR_FACE":"OFF_LOGIN_FINGERPRINT_OR_FACE")}getFingerprintOrFaceSettingFromMob(){this.initStatusObj(),this.isTeacherDashboard||this.mobileWebviewService.sendSimpleMessage("OPEN_PROFILE"),this.mobileWebviewService.sendSimpleMessage("CHECK_LOGIN_FINGERPRINT_OR_FACE_AVAILABLE"),this.waitDestroy(this.mobileWebviewService.getWebviewFingerprintOrFaceSettingSubscriber().subscribe(t=>{(t?.supportFace||t?.supportFingerprint)&&(this.enableForFace=t.supportFace??!1,this.isShowBiometricSetting=!0,this.checkLoginFingerprintOrFace.setValue(t?.isOnOfOff??!1)),this.stopStatusObj()}))}changeAccountStudent(){this.sAztDialogService.open(qe.q,{data:!0,restoreFocus:!1})}ngOnInit(){super.ngOnInit(),this.userService.isAnonymousRoleOfCurrentUser()?this.redirectService.redirectSimpleRegister():(this.getInfo(),this.commonService.translateMetaData({title:"lang_cms_auth_change_info_title",description:"lang_cms_auth_change_info_description",image:"lang_cms_test_image"})),this.isMobileWebView&&this.getFingerprintOrFaceSettingFromMob(),this.hasTeacherRole=this.userService.isTeacherRole(),this.isTeacherDashboard=0==Number(this.commonService.getMyParam(this.activeRoute,"roleType")),this.waitDestroy((0,ut.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{switch(Number(this.commonService.getMyParam(this.activeRoute,"modeType"))){case 1:this.modeView="password";break;case 2:this.modeView="setting-role";break;case 3:this.modeView="share-question";break;case 4:this.modeView="history-withdraw";break;case 5:this.modeView="setting-unit";break;case 6:this.modeView="remove-account";break;case 7:this.modeView="setting-fingerprint-or-face";break;case 8:this.modeView="setting-azota-vip";break;default:this.modeView="general"}const r=this.commonService.getMyQueryParam("modeView");r&&(this.modeView=r);let s=this.commonService.getMyQueryParam("backTo");this.backLink=s??(this.isTeacherDashboard?"/admin/dashboard":"/student/classroom/0")}))}constructor(t,r,s,d,S){super(),this.userService=t,this.redirectService=r,this.activeRoute=s,this.mobileWebviewService=d,this.sAztDialogService=S,this.returnUrl="",this.backLink="",this.modeView="general",this.isTeacherDashboard=!1,this.hasTeacherRole=!1,this.isLoading=!1,this.checkLoginFingerprintOrFace=new v.MJ(!1,{nonNullable:!0}),this.enableForFace=!1,this.isShowBiometricSetting=!1,this.isCheckTeacherVipAction=Ae.c.is_check_teacher_vip_action,this.sAztParentUserService=(0,e.WQX)(dt.V)}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Ue.R),e.rXU(Ve.m),e.rXU(he.nX),e.rXU(qt.f),e.rXU(bt.i))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-account-setting"]],features:[e.Vt3],decls:4,vars:2,consts:[[3,"headerBackToLink",4,"ngIf"],["MainContentTpl",""],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[3,"currentStatusObj",4,"ngIf"],[1,"account-setting","mx-auto"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12"],[1,"intro-y","text-lg","font-medium","mr-auto"],[1,"col-span-12","sm:col-span-4","lg:col-span-3"],[1,"intro-y","box","p-5"],[1,"mt-1"],["azt-track-service","account-setting-pItOH1KDG-C","class","flex items-center px-3 py-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-ceCNxcxvnKj","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-OrC_ZrBeC","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-M-3dUYi47e6","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-hkYupeSquY","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-aIrsC6WcJ","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-GqWjdoONw","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-1aaFkwubF","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"click",4,"ngIf"],["azt-track-service","account-setting-pOR0okU-y","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["azt-track-service","account-setting-QyWGVwYGd","class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"ngClass","click",4,"ngIf"],["class","flex items-center px-3 py-2 mt-2 rounded-md w-full",3,"click",4,"ngIf"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq","class","flex items-center px-3 py-2 mt-2 rounded-md w-full text-danger",3,"click",4,"ngIf"],[1,"col-span-12","lg:col-span-9",3,"ngStyle"],[4,"ngIf"],[3,"currentStatusObj"],["azt-track-service","account-setting-pItOH1KDG-C",1,"flex","items-center","px-3","py-2","rounded-md","w-full",3,"ngClass","click"],["name","user","size","20",3,"ngClass"],["azt-track-service","account-setting-ceCNxcxvnKj",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","lock","size","20",3,"ngClass"],["azt-track-service","account-setting-OrC_ZrBeC",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","ruler","size","20",3,"ngClass"],["azt-track-service","account-setting-M-3dUYi47e6",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","clipboard-list","size","20",3,"ngClass"],["azt-track-service","account-setting-hkYupeSquY",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","history","size","20",3,"ngClass"],["azt-track-service","account-setting-aIrsC6WcJ",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["azt-track-service","account-setting-GqWjdoONw",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["size","20",3,"name","ngClass"],["azt-track-service","account-setting-1aaFkwubF",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click"],["name","bar-chart-3","size","20",3,"ngClass"],["azt-track-service","account-setting-pOR0okU-y",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],[1,"mr-2"],[3,"vipPackageType","isShowBadgeVip"],["azt-track-service","account-setting-QyWGVwYGd",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["name","trash-2","size","20",3,"ngClass"],[1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"click"],["name","hand","size","20",3,"ngClass"],["azt-track-service","account-setting-logout-u7x9Bp2bKRq",1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full","text-danger",3,"click"],["name","log-out","size","20",3,"ngClass"],[3,"userObj","isTeacherDashboard","saveUserObj"],[3,"isTeacherDashboard","hasTeacherRole"],[3,"checkLoginFingerprintOrFaceControl","enableForFace"]],template:function(r,s){1&r&&(e.DNE(0,Ji,2,2,"teacher-layout",0),e.DNE(1,cn,2,2,"student-layout",0),e.DNE(2,nr,35,34,"ng-template",null,1,e.C5r)),2&r&&(e.Y8G("ngIf",s.isTeacherDashboard),e.R7$(1),e.Y8G("ngIf",!s.isTeacherDashboard))},dependencies:[_.YU,_.bT,_.T3,_.B3,Le.K,Gt.F,I.Q,b.j,pe.WGl,ts,di,hi,ss,Vi,Qi,Xi,js,Sc,L.wp,L.z0,L.hx],encapsulation:2})}return n})();var ln=function(n){return n.NEW_PACKAGE="NEW_PACKAGE",n.EXTEND_PACKAGE="EXTEND_PACKAGE",n.UPGRADE_PACKAGE="UPGRADE_PACKAGE",n}(ln||{}),_t=y(40509),ir=y(92746);let Yn=(()=>{class n extends te.H{getBusinessPackages(){this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesGet().subscribe(t=>{1===t.success?(this.packageList=t.data?.objs??[],this.successStatusObj()):this.errorStatusObj(t.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(){super(),this.businessPackageService=(0,e.WQX)(ir.WC),this.packageList=[]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-base-business-packages"]],inputs:{businessPackageType:"businessPackageType",businessRegisterId:"businessRegisterId",businessRegisterHash:"businessRegisterHash"},features:[e.Vt3],decls:0,vars:0,template:function(r,s){},encapsulation:2})}return n})();const Js=function(){return{"mr-2 flex-none":!0}},un=function(n,u){return{"text-slate-400":n,"text-success":u}},wn=function(){return{"flex-none":!0}},Jt=function(n){return{"text-slate-400":n}};function Wn(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",6)(4,"div",7),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()()(),e.j41(7,"div",8)(8,"div",9),e.EFF(9),e.nI1(10,"formatMoney"),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"div",10),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()(),e.j41(15,"div",11)(16,"div",12),e.nrm(17,"lucide-icon",13),e.j41(18,"div",14)(19,"span",15),e.EFF(20),e.nI1(21,"formatMoney"),e.nI1(22,"mytranslate"),e.k0s()()(),e.j41(23,"div",16)(24,"div",17),e.nrm(25,"lucide-icon",18),e.k0s(),e.j41(26,"div",14)(27,"span",19),e.EFF(28),e.nI1(29,"mytranslate"),e.k0s()()(),e.j41(30,"div",16)(31,"div",20),e.nrm(32,"lucide-icon",18),e.k0s(),e.j41(33,"div",14)(34,"span",19),e.EFF(35),e.nI1(36,"mytranslate"),e.k0s()()(),e.j41(37,"div",16)(38,"div",20),e.nrm(39,"lucide-icon",18),e.k0s(),e.j41(40,"div",14)(41,"span",19),e.EFF(42),e.nI1(43,"mytranslate"),e.k0s()()(),e.j41(44,"div",16)(45,"div",17),e.nrm(46,"lucide-icon",18),e.k0s(),e.j41(47,"div",14)(48,"span",19),e.EFF(49),e.nI1(50,"mytranslate"),e.k0s()()()(),e.j41(51,"div",21)(52,"button",22),e.bIt("click",function(){const d=e.eBV(t).$implicit,S=e.XpG();return e.Njj(S.choosePackage(d.id))}),e.EFF(53),e.nI1(54,"mytranslate"),e.k0s()()()()}if(2&n){const t=u.$implicit;e.R7$(5),e.JRh(e.bMT(6,26,t.name)),e.R7$(4),e.SpI(" ",e.bMT(10,28,t.price)+" "+e.bMT(11,30,"lang_auto_vnd_upper")," "),e.R7$(4),e.SpI(" "," / "+e.bMT(14,32,t.timeUnit)," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(48,Js)),e.R7$(3),e.SpI(" ",e.bMT(21,34,t.totalActiveStudentPerMonth)+" "+e.bMT(22,36,"lang_core_active_students_per_month")," "),e.R7$(4),e.Y8G("ngClass",e.l_i(49,un,!t.supportToIntegrateToOwnSystem,t.supportToIntegrateToOwnSystem)),e.R7$(1),e.Y8G("name",t.supportToIntegrateToOwnSystem?"check":"x")("ngClass",e.lJ4(52,wn)),e.R7$(2),e.Y8G("ngClass",e.eq3(53,Jt,!t.supportToIntegrateToOwnSystem)),e.R7$(1),e.SpI(" ",e.bMT(29,38,"lang_core_support_integration_with_existing_system_users")," "),e.R7$(3),e.Y8G("ngClass",e.l_i(55,un,!t.supportOwnDomain,t.supportOwnDomain)),e.R7$(1),e.Y8G("name",t.supportOwnDomain?"check":"x")("ngClass",e.lJ4(58,wn)),e.R7$(2),e.Y8G("ngClass",e.eq3(59,Jt,!t.supportOwnDomain)),e.R7$(1),e.SpI(" ",e.bMT(36,40,"lang_core_support_custom_domain")," "),e.R7$(3),e.Y8G("ngClass",e.l_i(61,un,!t.supportTechnical,t.supportTechnical)),e.R7$(1),e.Y8G("name",t.supportTechnical?"check":"x")("ngClass",e.lJ4(64,wn)),e.R7$(2),e.Y8G("ngClass",e.eq3(65,Jt,!t.supportTechnical)),e.R7$(1),e.SpI(" ",e.bMT(43,42,"lang_core_dedicated_technical_support_during_usage")," "),e.R7$(3),e.Y8G("ngClass",e.l_i(67,un,!t.supportAdvanceReport,t.supportAdvanceReport)),e.R7$(1),e.Y8G("name",t.supportAdvanceReport?"check":"x")("ngClass",e.lJ4(70,wn)),e.R7$(2),e.Y8G("ngClass",e.eq3(71,Jt,!t.supportAdvanceReport)),e.R7$(1),e.SpI(" ",e.bMT(50,44,"lang_core_support_building_extended_analysis_reports")," "),e.R7$(4),e.SpI(" ",e.bMT(54,46,"lang_auth_use")," ")}}let go=(()=>{class n extends te.H{constructor(){super(...arguments),this.packageList=[],this.choosePackageEvent=new e.bkB}choosePackage(t){this.choosePackageEvent.emit(t)}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}}();static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-business-packages-package-box"]],inputs:{packageList:"packageList"},outputs:{choosePackageEvent:"choosePackageEvent"},features:[e.Vt3],decls:7,vars:7,consts:[[1,"intro-y","text-center","text-2xl","font-medium"],[1,"grid","grid-cols-12","gap-5","mt-8"],["class","col-span-12 md:col-span-6 lg:col-span-4",4,"ngFor","ngForOf"],[1,"text-center","pt-6","font-medium",3,"innerHTML"],[1,"col-span-12","md:col-span-6","lg:col-span-4"],[1,"intro-y","box","flex-1","p-5","w-full"],[1,"flex","items-center"],[1,"text-xl","font-medium"],[1,"mt-8","flex","items-center"],[1,"font-semibold","text-2xl","mr-1"],[1,"text-slate-500"],[1,"mt-8","text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-4"],["name","graduation-cap","size","20",3,"ngClass"],[1,"mt-0"],[1,"font-medium"],[1,"flex","mt-4"],[1,"mr-2",3,"ngClass"],["size","20",3,"name","ngClass"],[1,"font-medium",3,"ngClass"],[1,"flex-none","mr-2",3,"ngClass"],[1,"mt-10"],["azt-track-service","business-packages-eJWG8rCsJ",1,"btn","btn-primary","w-full","px-4","py-3",3,"click"]],template:function(r,s){1&r&&(e.j41(0,"div",0),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s(),e.j41(3,"div",1),e.DNE(4,Wn,55,73,"div",2),e.k0s(),e.nrm(5,"div",3),e.nI1(6,"mytranslate")),2&r&&(e.R7$(1),e.SpI(" ",e.bMT(2,3,"lang_auth_choose_package_to_use"),"\n"),e.R7$(3),e.Y8G("ngForOf",s.packageList),e.R7$(1),e.Y8G("innerHTML",e.bMT(6,5,"lang_business_package_please_contact_us_if_you_have_any_questions"),e.npT))},dependencies:[_.YU,_.Sq,pe.WGl,L.wp,L.t0],encapsulation:2})}return n})();function rr(n,u){if(1&n&&e.nrm(0,"azt-loading-effect",2),2&n){const t=e.XpG();e.Y8G("currentStatusObj",t.statusObj)}}function fo(n,u){if(1&n){const t=e.RV6();e.j41(0,"app-business-packages-package-box",3),e.bIt("choosePackageEvent",function(s){e.eBV(t);const d=e.XpG();return e.Njj(d.buyBusinessPackage(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("packageList",t.packageList)}}let or=(()=>{class n extends Yn{buyBusinessPackage(t){const r="userRole=teacher&productType=business_package&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderBuyBusinessPackageGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),t,this.businessRegisterId,this.businessRegisterHash,r).subscribe(s=>{1===s.success?(window.location.href=s.data?.value??"",this.successStatusObj()):this.errorStatusObj(s.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getBusinessPackages()}constructor(t){super(),this.productOrderService=t}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(nn.Hg))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-business-packages-buy-new-package"]],features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"packageList","choosePackageEvent"]],template:function(r,s){if(1&r&&(e.DNE(0,rr,1,1,"azt-loading-effect",0),e.DNE(1,fo,1,1,"ng-template",null,1,e.C5r)),2&r){const d=e.sdS(2);e.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[_.bT,Le.K,go],encapsulation:2})}return n})(),Ks=(()=>{class n extends Yn{buyBusinessPackage(){const t="userRole=teacher&productType=upgrade_package&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderExtendBusinessPackageGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),t).subscribe(r=>{1===r.success?(window.location.href=r.data?.value??"",this.successStatusObj()):this.errorStatusObj(r.message??"",!0)}))}ngOnInit(){if(super.ngOnInit(),!this.userService.isLogin())return this.redirectService.redirectLogin();this.buyBusinessPackage()}constructor(t,r,s){super(),this.userService=t,this.redirectService=r,this.productOrderService=s}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Ue.R),e.rXU(Ve.m),e.rXU(nn.Hg))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-business-packages-extend-package"]],features:[e.Vt3],decls:1,vars:1,consts:[[3,"currentStatusObj"]],template:function(r,s){1&r&&e.nrm(0,"azt-loading-effect",0),2&r&&e.Y8G("currentStatusObj",s.statusObj)},dependencies:[Le.K],encapsulation:2})}return n})();function sr(n,u){if(1&n&&e.nrm(0,"azt-loading-effect",2),2&n){const t=e.XpG();e.Y8G("currentStatusObj",t.statusObj)}}function vo(n,u){if(1&n){const t=e.RV6();e.j41(0,"app-business-packages-package-box",3),e.bIt("choosePackageEvent",function(s){e.eBV(t);const d=e.XpG();return e.Njj(d.buyBusinessPackage(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("packageList",t.packageList)}}let Zs=(()=>{class n extends Yn{buyBusinessPackage(t){const r="userRole=teacher&productType=upgrade_package&backTo="+encodeURIComponent(this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderUpgradeBusinessPackageGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),t,r).subscribe(s=>{1===s.success?(window.location.href=s.data?.value??"",this.successStatusObj()):this.errorStatusObj(s.message??"",!0)}))}ngOnInit(){if(super.ngOnInit(),!this.userService.isLogin())return this.redirectService.redirectLogin();this.getBusinessPackages()}constructor(t,r,s){super(),this.userService=t,this.redirectService=r,this.productOrderService=s}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Ue.R),e.rXU(Ve.m),e.rXU(nn.Hg))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-business-packages-upgrade-package"]],features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"packageList","choosePackageEvent"]],template:function(r,s){if(1&r&&(e.DNE(0,sr,1,1,"azt-loading-effect",0),e.DNE(1,vo,1,1,"ng-template",null,1,e.C5r)),2&r){const d=e.sdS(2);e.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[_.bT,Le.K,go],encapsulation:2})}return n})();function ea(n,u){if(1&n&&(e.qex(0),e.nrm(1,"app-business-packages-buy-new-package",2),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("businessPackageType",t.businessPackageType)("businessRegisterId",t.businessRegisterId)("businessRegisterHash",t.businessRegisterHash)}}function Ec(n,u){if(1&n&&(e.qex(0),e.nrm(1,"app-business-packages-extend-package",2),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("businessPackageType",t.businessPackageType)("businessRegisterId",t.businessRegisterId)("businessRegisterHash",t.businessRegisterHash)}}function bo(n,u){if(1&n&&(e.qex(0),e.nrm(1,"app-business-packages-upgrade-package",2),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("businessPackageType",t.businessPackageType)("businessRegisterId",t.businessRegisterId)("businessRegisterHash",t.businessRegisterHash)}}let ta=(()=>{class n extends te.H{ngOnInit(){super.ngOnInit(),this.businessPackageType=this.commonService.getEnumTypeWithDefault(ln,this.commonService.getMyParam(this.activeRoute,"businessPackageType")?.toUpperCase()??"",ln.NEW_PACKAGE),this.businessRegisterId=Number(this.commonService.getMyParam(this.activeRoute,"businessRegisterId")),this.businessRegisterHash=String(this.commonService.getMyParam(this.activeRoute,"businessRegisterHash"))}constructor(t){super(),this.activeRoute=t,this.allBusinessPackageType=ln,this.businessPackageType=ln.NEW_PACKAGE,this.businessRegisterId=0,this.businessRegisterHash=""}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(he.nX))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-business-packages"]],features:[e.Vt3],decls:4,vars:5,consts:[[3,"maxWidth","contentBoxClass"],[4,"ngIf"],[3,"businessPackageType","businessRegisterId","businessRegisterHash"]],template:function(r,s){1&r&&(e.j41(0,"auth-layout",0),e.DNE(1,ea,2,3,"ng-container",1),e.DNE(2,Ec,2,3,"ng-container",1),e.DNE(3,bo,2,3,"ng-container",1),e.k0s()),2&r&&(e.Y8G("maxWidth","950px")("contentBoxClass","bg-transparent shadow-none"),e.R7$(1),e.Y8G("ngIf",s.businessPackageType==s.allBusinessPackageType.NEW_PACKAGE),e.R7$(1),e.Y8G("ngIf",s.businessPackageType==s.allBusinessPackageType.EXTEND_PACKAGE),e.R7$(1),e.Y8G("ngIf",s.businessPackageType==s.allBusinessPackageType.UPGRADE_PACKAGE))},dependencies:[_.bT,_t.K,or,Ks,Zs],encapsulation:2})}return n})();var xn=y(58227);function na(n,u){1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_email")," "))}function ia(n,u){1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang")," "))}function ra(n,u){if(1&n&&(e.j41(0,"div",17),e.DNE(1,na,3,3,"span",2),e.DNE(2,ia,3,3,"span",2),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.form.controls.email.errors.required),e.R7$(1),e.Y8G("ngIf",t.form.controls.email.errors.email||t.form.controls.email.errors.pattern)}}function qn(n,u){1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function oa(n,u){if(1&n&&(e.j41(0,"div",18),e.DNE(1,qn,3,3,"span",2),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.form.controls.password.errors.required)}}function sa(n,u){1&n&&e.nrm(0,"azt-loading-ui",19)}const aa=function(){return{"dark:text-slate-500":!0}};function ar(n,u){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"form",6)(2,"div",7),e.nrm(3,"input",8),e.nI1(4,"mytranslate"),e.DNE(5,ra,3,2,"div",9),e.k0s(),e.j41(6,"div",7)(7,"div",10),e.nrm(8,"input",11),e.nI1(9,"mytranslate"),e.j41(10,"button",12),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.togglePassword())}),e.nrm(11,"lucide-icon",13),e.k0s()(),e.DNE(12,oa,2,1,"div",14),e.k0s(),e.j41(13,"div",3)(14,"button",15),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.confirmChangeEmail())}),e.DNE(15,sa,1,0,"azt-loading-ui",16),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()()()}if(2&n){const t=e.XpG();e.R7$(1),e.Y8G("formGroup",t.form),e.R7$(2),e.FS9("placeholder",e.bMT(4,11,"lang_auto_nhap_email_moi")),e.R7$(2),e.Y8G("ngIf",t.form.controls.email.errors&&t.form.controls.email.dirty),e.R7$(3),e.FS9("placeholder",e.bMT(9,13,"lang_auto_mat_khau")),e.Y8G("type",t.showPassword?"text":"password"),e.R7$(3),e.Y8G("name",t.showPassword?"eye":"eye-off")("ngClass",e.lJ4(17,aa)),e.R7$(1),e.Y8G("ngIf",t.form.controls.password.errors&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.R7$(2),e.Y8G("disabled",t.statusObj.loading||t.form.invalid),e.R7$(1),e.Y8G("ngIf",t.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(17,15,"lang_button_confirm")," ")}}function ca(n,u){if(1&n&&(e.j41(0,"div")(1,"div",20)(2,"div",21)(3,"p",22),e.EFF(4),e.nI1(5,"mytranslate"),e.j41(6,"b"),e.EFF(7),e.k0s(),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()()()),2&n){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,3,"lang_auto_vui_long_kiem_tra_email"),": "),e.R7$(3),e.JRh(t.oldEmail),e.R7$(1),e.SpI(" ",e.bMT(9,5,"lang_auto_va_an_vao_duong_link_he_thong_da_gui_de_xac_thuc_hoan_tat_viec_doi_email")," ")}}const la=function(){return{"mr-2":!0}};let ua=(()=>{class n extends te.H{confirmChangeEmail(){this.form.valid&&(this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoChangeEmailByPasswordPost({newEmail:this.form.controls.email.value,password:this.form.controls.password.value}).subscribe(r=>{if(1==r.success){let s=r.data?.value;if(s){this.successStatusObj("lang_auth_email_changed_successfully",!0);let d=this.userService.getUserObj();d.email=s,this.userService.saveUserObj(d),this.localStorageObject.clearAllCache(),this.backToRedirect()}else this.errorStatusObj("lang_auto_vui_long_nhap_email",!0)}else this.errorStatusObj(r.message??"",!0)})))}backToRedirect(){let t=this.getMyQueryParam("return_url");t&&this.myNavigation(t)}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_change_mail_title",description:"lang_cms_auth_change_mail_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,r,s){super(),this.userInfoService=t,this.localStorageObject=r,this.userService=s,this.step=1,this.oldEmail="",this.showPassword=!1,this.form=new v.gE({email:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.email,v.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]})})}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU($.fv),e.rXU(xn.G),e.rXU(Ue.R))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-confirm-account"]],features:[e.Vt3],decls:12,vars:10,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[4,"ngIf"],[1,"mt-3"],["azt-track-service","change_email-Z7MEUGEDic",1,"btn-text-primary","inline-flex","items-center",3,"click"],["name","chevron-left","size","16",3,"ngClass"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","autocomplete","new-email","name","email","formControlName","email",1,"form-control","py-3","px-4",3,"placeholder"],["class","text-xs text-danger font-medium mt-1",4,"ngIf"],[2,"position","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["azt-track-service","change_email-O0Vqz8bXH",1,"btn","btn-primary","py-3","px-4","w-full",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-xs","text-danger","font-medium","mt-1"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"mr-1"],[1,"row"],[1,"col-md-12"],[1,"text-center"]],template:function(r,s){1&r&&(e.j41(0,"auth-layout")(1,"h2",0),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",1),e.DNE(5,ar,18,18,"div",2),e.DNE(6,ca,10,7,"div",2),e.j41(7,"div",3)(8,"a",4),e.bIt("click",function(){return s.backToRedirect()}),e.nrm(9,"lucide-icon",5),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()()()()),2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,5,"lang_auto_doi_email_moi")," "),e.R7$(3),e.Y8G("ngIf",1==s.step),e.R7$(1),e.Y8G("ngIf",!s.statusObj.loading&&2==s.step),e.R7$(3),e.Y8G("ngClass",e.lJ4(9,la)),e.R7$(1),e.SpI(" ",e.bMT(11,7,"lang_auto_quay_lai")," "))},dependencies:[_.YU,_.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,et.t,de.R,_t.K,pe.WGl,L.wp],encapsulation:2})}return n})(),da=(()=>{class n extends te.H{get returnUrl(){return this.commonService.getMyQueryParam("return_url")??""}get confirm_type(){return this.commonService.getMyQueryParam("confirm_type")??""}ngOnInit(){this.userInfoService.apiUserInfoGetFirebaseConfigGet().subscribe(t=>{if(1==t.success){let r=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type="+this.confirm_type+"&app_name="+t?.data?.app;window.location.href=r.toString()}else this.showErrorSnack("lang_auto__blank_co_loi_khi_kiem_tra_dich_vu")})}constructor(t){super(),this.userInfoService=t}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU($.fv))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-checking-service"]],features:[e.Vt3],decls:4,vars:3,consts:[[1,"mt-5","text-center"],[1,"mr-1"]],template:function(r,s){1&r&&(e.j41(0,"h2",0),e.nrm(1,"azt-loading-ui",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_dang_kiem_tra_dich_vu_doing"),"\n"))},dependencies:[de.R,L.wp],encapsulation:2})}return n})();function _a(n,u){if(1&n&&e.nrm(0,"azt-loading-effect",16),2&n){const t=e.XpG();e.Y8G("currentStatusObj",t.statusObj)}}let yo=(()=>{class n extends te.H{chooseRegisterStudent(){let t=this.commonService.getMyQueryParam("return_url");t&&(t.includes("/vi")||t.includes("/en"))&&(t=t.substring(3)),this.myNavigation(t||"/student/classroom/0")}chooseRegisterTeacher(){this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(t=>{if(1==t.success){let r=this.commonService.getMyQueryParam("return_url");r&&(r.includes("/vi")||r.includes("/en"))&&(r=r.substring(3)),this.myNavigation(r||"/admin/dashboard")}else this.errorStatusObj(t.message??"",!0)}))}ngOnInit(){super.ngOnInit()}constructor(t,r){super(),this.userInfoService=t,this.redirectByRoleService=r}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU($.fv),e.rXU(Ct.b))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-download-answer-sheet"]],features:[e.Vt3],decls:28,vars:16,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"row","py-5"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],["alt","logo",2,"width","180px","margin","auto",3,"src"],[1,"p-0","mt-2"],[1,"card-body"],[1,"row",2,"justify-content","space-around"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","choose-role-MbQizfXGA-",1,"col-sm-4","border-card","mb-3","mt-3",3,"click"],[1,"df-logo"],["name","graduation-cap","size","36"],["azt-track-service","choose-role-JGjqPMEs5T",1,"col-sm-4","border-card","mb-3",3,"click"],["width","36px","height","45px",1,"mb-3",3,"src"],[3,"currentStatusObj"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"div",2),e.j41(3,"div",3)(4,"div",4)(5,"div",5),e.nrm(6,"img",6),e.nI1(7,"getLinkLogo"),e.j41(8,"h3",7),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()(),e.j41(11,"div",8)(12,"div",9),e.DNE(13,_a,1,1,"azt-loading-effect",10),e.j41(14,"div",11),e.bIt("click",function(){return s.chooseRegisterStudent()}),e.j41(15,"div",12),e.nrm(16,"lucide-icon",13),e.j41(17,"p"),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s()()(),e.j41(20,"div",14),e.bIt("click",function(){return s.chooseRegisterTeacher()}),e.j41(21,"div",12),e.nrm(22,"img",15),e.nI1(23,"convertCdnLinkOfGitHub"),e.j41(24,"p"),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()()()()()()(),e.nrm(27,"div",2),e.k0s()()),2&r&&(e.R7$(6),e.Y8G("src",e.bMT(7,6,"bigLogo"),e.B4B),e.R7$(3),e.JRh(e.bMT(10,8,"lang_auto_chon_vai_tro")),e.R7$(4),e.Y8G("ngIf",s.statusObj.loading),e.R7$(5),e.JRh(e.bMT(19,10,"lang_auto_toi_la_hoc_sinh")),e.R7$(4),e.Y8G("src",e.bMT(23,12,"images/teacher.png"),e.B4B),e.R7$(3),e.JRh(e.bMT(26,14,"lang_auto_toi_la_giao_vien")))},dependencies:[_.bT,Le.K,pe.WGl,L.wp,L.gt,L.ph],styles:[".select-style[_ngcontent-%COMP%]{color:#868686!important}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}.select-style[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.select-style[_ngcontent-%COMP%]:hover, .select-style-active[_ngcontent-%COMP%]{color:#2361ae!important}.df-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.register--login[_ngcontent-%COMP%]{width:88px;height:88px}.two-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:80%;height:100vh;margin:auto}.register-button[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center}.btn-max-width[_ngcontent-%COMP%]{width:100%;padding-top:1.25rem;padding-bottom:1.25rem;font-size:1.5rem}.responsive__text[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.btn-outline-primary[_ngcontent-%COMP%]{color:#2361ae!important;border-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]{color:#fff!important;border-color:#2361ae!important;background-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b818e!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#2361ae!important;border-color:#2361ae!important;background-color:#0eacbe26}.btn-border-fix[_ngcontent-%COMP%]{border-radius:10px!important}.border-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid hsla(0,0%,86.3%,.8);border-radius:8px;cursor:pointer;padding:12px;align-items:center;text-align:center}.border-card[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 20px #00000012,-10px -10px 20px #fffc}.button-color[_ngcontent-%COMP%]{background-color:#2361ae!important;color:#fff!important}"]})}return n})();function ma(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",12)(1,"div",13),e.EFF(2),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.nI1(5,"mytranslate"),e.nI1(6,"mytranslate"),e.nI1(7,"mytranslate"),e.k0s(),e.j41(8,"div",14)(9,"button",15),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.ignoreRequest())}),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"button",16),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.confirmPassword())}),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()()()}2&n&&(e.R7$(2),e.SjE(" ",e.bMT(3,7,"lang_auto_ban_vua_yeu_cau_thay_doi_mat_khau_cho_tai_khoan_tren_azota_hay_bam_nut"),' "',e.bMT(4,9,"lang_auto_xac_nhan"),'" ',e.bMT(5,11,"lang_auto_ben_duoi_neu_do_la_ban_neu_khong_vui_long_bam_nut"),' "',e.bMT(6,13,"lang_auto_huy"),'" ',e.bMT(7,15,"lang_auto_de_huy_bo_yeu_cau_nay")," "),e.R7$(8),e.SpI(" ",e.bMT(11,17,"lang_cms_common_close_btn")," "),e.R7$(3),e.SpI(" ",e.bMT(14,19,"lang_cms_common_confirm_btn")," "))}function ha(n,u){1&n&&(e.j41(0,"div")(1,"div",17),e.nrm(2,"azt-loading-ui",18),e.j41(3,"span",19),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&n&&(e.R7$(4),e.SpI("",e.bMT(5,1,"lang_cms_common_loading"),"..."))}const pa=function(n){return[n]},cr=function(){return{user_click:"true"}};function ga(n,u){1&n&&(e.j41(0,"div",22)(1,"div",23),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",24)(5,"div",25)(6,"a",26),e.nI1(7,"navigationLocalize"),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()()()),2&n&&(e.R7$(2),e.SpI(" ",e.bMT(3,4,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),e.R7$(4),e.Y8G("routerLink",e.eq3(10,pa,e.bMT(7,6,"/auth/login")))("queryParams",e.lJ4(12,cr)),e.R7$(2),e.JRh(e.bMT(9,8,"lang_auto_dang_nhap_tai_khoan")))}function lr(n,u){if(1&n&&(e.j41(0,"div",22)(1,"div",27),e.EFF(2),e.nI1(3,"mytranslate"),e.nI1(4,"mytranslate"),e.nI1(5,"mytranslate"),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.E5c("",e.bMT(3,3,"lang_auto_da_co_loi_trong_qua_trinh_doi_mat_khau"),": ",e.bMT(4,5,t.hasErrorMessage),"",e.bMT(5,7,"lang_auto__vui_long_thu_lai_sau"),"")}}function fa(n,u){if(1&n&&(e.j41(0,"div"),e.DNE(1,ga,10,13,"div",20),e.DNE(2,lr,6,9,"ng-template",null,21,e.C5r),e.k0s()),2&n){const t=e.sdS(3),r=e.XpG();e.R7$(1),e.Y8G("ngIf",!r.hasErrorMessage)("ngIfElse",t)}}let ur=(()=>{class n extends te.H{ignoreRequest(){this.redirectByRoleService.redirectLoginByRole("")}confirmPassword(){this.initStatusObj();var r={secret:this.commonService.getMyQueryParam("secret")??""};this.step=2,this.smsService.apiSmsConfirmPassFromEmailPost(r).subscribe(s=>{1==s.success?this.successStatusObj():(this.stopStatusObj(),this.hasErrorMessage=s.message??"lang_core_invalid_data")})}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,r){super(),this.redirectByRoleService=t,this.smsService=r,this.hasErrorMessage="",this.step=1}ngOnDestroy(){super.ngOnDestroy()}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Ct.b),e.rXU($.$T))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-confirm-forgot-password-email"]],features:[e.Vt3],decls:18,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg","m-2"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-2"],[1,"text-center","mt-1"],[1,"h5"],[1,"card-body","mt-2"],["class","col-md-12",4,"ngIf"],[4,"ngIf"],[1,"col-md-12"],[1,"sms-info","alert","alert-warning","text-justify","m-2"],[1,"flex","mt-3","mb-2",2,"justify-content","space-between"],["azt-track-service","confirm-forgot-password-email-d6tRS3U8df","mat-raised-button","",2,"width","45%","margin-right","15px",3,"click"],["azt-track-service","confirm-forgot-password-email-DdeeGBP0V7","mat-raised-button","","color","warn",2,"width","45%",3,"click"],[1,"d-flex","justify-content-center"],[1,"mr-1"],[1,"sr-only","ml-2"],["class","col-sm-12",4,"ngIf","ngIfElse"],["errorChangePass",""],[1,"col-sm-12"],[1,"sms-info","alert","alert-success"],[1,"text-center","mt-3"],[1,"mb-1"],["azt-track-service","confirm-forgot-password-email-h_HUPkjx4M",3,"routerLink","queryParams"],[1,"sms-info","alert","alert-danger"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"div",3),e.j41(4,"div",4),e.nrm(5,"img",5),e.nI1(6,"getLinkLogo"),e.j41(7,"div",6)(8,"div",7)(9,"span",8),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()(),e.j41(12,"div",9)(13,"div"),e.DNE(14,ma,15,21,"div",10),e.k0s(),e.DNE(15,ha,6,3,"div",11),e.DNE(16,fa,4,2,"div",11),e.k0s()()(),e.nrm(17,"div",3),e.k0s()()()),2&r&&(e.R7$(5),e.Y8G("src",e.bMT(6,5,"bigLogo"),e.B4B),e.R7$(5),e.JRh(e.bMT(11,7,"lang_auto_doi_mat_khau_moi")),e.R7$(4),e.Y8G("ngIf",1==s.step),e.R7$(1),e.Y8G("ngIf",s.statusObj.loading),e.R7$(1),e.Y8G("ngIf",!s.statusObj.loading&&2==s.step))},dependencies:[he.Wk,_.bT,yn.$z,de.R,L.F2,L.wp,L.ph],styles:['#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']})}return n})(),va=(()=>{class n{get windowRef(){return window}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();var dr=y(7919);function Qn(n,u){1&n&&(e.j41(0,"div",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")," "))}function _r(n,u){1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function ba(n,u){1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function mr(n,u){if(1&n&&(e.j41(0,"div",20),e.DNE(1,_r,3,3,"span",21),e.DNE(2,ba,3,3,"span",21),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.form.controls.password.errors.required),e.R7$(1),e.Y8G("ngIf",t.form.controls.password.errors.minlength)}}function ya(n,u){1&n&&e.nrm(0,"azt-loading-ui",22)}const dn=function(){return{"dark:text-slate-500":!0}},hr=function(){return{"mr-2":!0}};let Ia=(()=>{class n extends te.H{handleClickLogout(){"forgot_password"==this.confirmType||"change_phone"==this.confirmType?this.redirectByRoleService.redirectLoginByRole(""):(this.userService.logout(),this.redirectService.redirectSimpleLogin())}togglePassword(){this.showPassword=!this.showPassword}handleBackToLink(){let t=this.getMyQueryParam("return_url")??"/auth/account-setting/0/0";this.commonService.myNavigation(t)}handleUpdatePhoneNumber(){if(this.form.invalid)return this.form.markAllAsTouched();this.initStatusObj(),this.userInfoService.apiUserInfoChangePhoneByPasswordPost({newPhone:this.form.controls.newPhone.value,password:this.form.controls.password.value}).subscribe(r=>{if(1==r.success){const s=r.data?.value;if(s){this.successStatusObj("lang_auto_cap_nhat_so_dien_thoai_thanh_cong",!0);let d=this.userService.getUserObj();d.phone=s,this.userService.saveUserObj(d),this.localStorageObject.clearAllCache(),this.handleBackToLink()}}else this.errorStatusObj(r.message??"",!0)})}getConfirmType(){return this.commonService.getMyQueryParam("confirm_type")??""}getTranslateMetaData(t){switch(t){case"forgot_password":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"});break;case"change_phone":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_change_phone_title",description:"lang_cms_auth_confirm_change_phone_description",image:"lang_cms_test_image"});break;default:this.commonService.translateMetaData({title:"lang_cms_auth_confirm_confirm_phone_title",description:"lang_cms_auth_confirm_confirm_phone_description",image:"lang_cms_test_image"})}}getData(){"forgot_password"!==this.confirmType&&this.userInfoService.apiUserInfoInfoGet().subscribe(t=>{1==t.success?1==t?.new_user?.isVerifyPhone?"change_phone"!=this.confirmType&&this.redirectByRoleService.redirectLoginByRole(""):t?.new_user?.phone&&t?.new_user?.phone.length<=10?this.form.controls.newPhone.setValue(""):(this.form.controls.newPhone.setValue(""),console.log("enter phone plz")):this.commonService.getTranslate("lang_auto_co_loi_xay_ra").subscribe(r=>{this.showErrorSnack(r+(t.message?" | "+t.message:""))})})}ngOnInit(){super.ngOnInit(),this.confirmType=this.getConfirmType(),this.getData(),this.getTranslateMetaData(this.confirmType)}constructor(t,r,s,d,S,O){super(),this.redirectByRoleService=t,this.userService=r,this.userInfoService=s,this.redirectService=d,this.browserStorageService=S,this.localStorageObject=O,this.confirmType="forgot_password",this.showPassword=!1,this.form=new v.gE({newPhone:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.minLength(10),v.k0.maxLength(10),v.k0.pattern(/^[0-9]*$/)]}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]})})}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Ct.b),e.rXU(Ue.R),e.rXU($.fv),e.rXU(Ve.m),e.rXU(Ht.z),e.rXU(xn.G))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-confirm-account"]],features:[e.Jv_([va]),e.Vt3],decls:30,vars:28,consts:[[1,"azt-confirm-account"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"mt-2"],[3,"formGroup"],[1,"form-group"],[1,"col-sm-12"],[1,"azt-form-group"],["id","phoneInput","type","text","appOnlyNumber","","formControlName","newPhone","name","phone",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-xs text-danger mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","confirm_forgot_password-Be5qkC21Px",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"btn","btn-primary","px-4","py-3","w-full","mt-4",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mt-4"],["azt-track-service","confirm_account-IlNNect4l5",1,"btn-text-primary","inline-flex","items-center",3,"click"],["name","chevron-left","size","16",3,"ngClass"],[1,"text-xs","text-danger","mt-2","font-medium"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[1,"mr-1"]],template:function(r,s){1&r&&(e.j41(0,"auth-layout")(1,"div",0)(2,"h2",1),e.EFF(3),e.nI1(4,"mytranslate"),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"div",2)(7,"form",3)(8,"div",4)(9,"div",5)(10,"div",6),e.nrm(11,"input",7),e.nI1(12,"mytranslate"),e.DNE(13,Qn,3,3,"div",8),e.k0s(),e.j41(14,"div",9),e.nrm(15,"input",10),e.nI1(16,"mytranslate"),e.j41(17,"button",11),e.bIt("click",function(){return s.togglePassword()}),e.nrm(18,"lucide-icon",12),e.k0s(),e.DNE(19,mr,3,2,"div",13),e.k0s(),e.j41(20,"button",14),e.bIt("click",function(){return s.handleUpdatePhoneNumber()}),e.DNE(21,ya,1,0,"azt-loading-ui",15),e.EFF(22),e.nI1(23,"mytranslate"),e.k0s()()()(),e.nrm(24,"hr"),e.j41(25,"div",16)(26,"a",17),e.bIt("click",function(){return s.handleBackToLink()}),e.nrm(27,"lucide-icon",18),e.EFF(28),e.nI1(29,"mytranslate"),e.k0s()()()()()),2&r&&(e.R7$(3),e.SpI(" ","change_phone"==s.confirmType?e.bMT(4,14,"lang_auto_doi_so_diem_thoai_moi"):e.bMT(5,16,"lang_auto_xac_thu_so_diem_thoai_cua_ban")," "),e.R7$(4),e.Y8G("formGroup",s.form),e.R7$(4),e.FS9("placeholder",e.bMT(12,18,"lang_auto_nhap_so_dien_thoai_moi")),e.R7$(2),e.Y8G("ngIf",(s.form.controls.newPhone.dirty||s.form.controls.newPhone.touched)&&s.form.controls.newPhone.errors),e.R7$(2),e.FS9("type",s.showPassword?"text":"password"),e.FS9("placeholder",e.bMT(16,20,"lang_auto_mat_khau")),e.R7$(3),e.Y8G("name",s.showPassword?"eye":"eye-off")("ngClass",e.lJ4(26,dn)),e.R7$(1),e.Y8G("ngIf",s.form.controls.password.errors&&(s.form.controls.password.dirty||s.form.controls.password.touched)),e.R7$(1),e.Y8G("disabled",s.statusObj.loading),e.R7$(1),e.Y8G("ngIf",s.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(23,22,"lang_cms_common_confirm_btn")," "),e.R7$(5),e.Y8G("ngClass",e.lJ4(27,hr)),e.R7$(1),e.SpI(" ",e.bMT(29,24,"lang_auto_quay_lai")," "))},dependencies:[_.YU,_.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,dr.Z,et.t,de.R,_t.K,pe.WGl,L.wp],encapsulation:2})}return n})();var ka=y(407),Kt=y(44477),An=y(23837);function Io(n,u){if(1&n&&e.nrm(0,"azt-loading-effect",2),2&n){const t=e.XpG();e.Y8G("currentStatusObj",t.statusObj)}}function Sa(n,u){1&n&&(e.j41(0,"h2",7),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_quen_mat_khau")," "))}function Ca(n,u){1&n&&(e.j41(0,"div",30)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function pr(n,u){if(1&n&&(e.j41(0,"div",30),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const t=e.XpG(3);e.R7$(1),e.SpI(" ",e.bMT(2,1,t.msgError)," ")}}function Ta(n,u){1&n&&(e.j41(0,"span",31),e.nrm(1,"lucide-icon",32),e.k0s())}function gr(n,u){1&n&&(e.j41(0,"span",31),e.nrm(1,"lucide-icon",33),e.k0s())}function Ra(n,u){1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function fr(n,u){1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function vr(n,u){if(1&n&&(e.j41(0,"div",30),e.DNE(1,Ra,3,3,"span",6),e.DNE(2,fr,3,3,"span",6),e.k0s()),2&n){const t=e.XpG(3);e.R7$(1),e.Y8G("ngIf",t.form.controls.password.errors.required),e.R7$(1),e.Y8G("ngIf",t.form.controls.password.errors.minlength)}}function Ea(n,u){1&n&&e.nrm(0,"azt-loading-ui",34)}const Ot=function(n){return[n]},wa=function(n){return{return_url:n}},_n=function(){return{"mr-2":!0}},Zt=function(){return{user_click:"true"}};function br(n,u){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div",8)(2,"div",9)(3,"input",10),e.bIt("input",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.isInvalidUserPhoneOrEmail(s.form.controls.emailOrPhone.value))}),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,Ca,4,3,"div",11),e.DNE(6,pr,3,3,"div",11),e.k0s(),e.j41(7,"div",12),e.nrm(8,"input",13),e.nI1(9,"mytranslate"),e.j41(10,"button",14),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.togglePassword())}),e.DNE(11,Ta,2,0,"span",15),e.DNE(12,gr,2,0,"span",15),e.k0s(),e.DNE(13,vr,3,2,"div",11),e.k0s()(),e.j41(14,"div",16)(15,"a",17),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()(),e.j41(18,"div",18)(19,"button",19),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.changePassword())}),e.DNE(20,Ea,1,0,"azt-loading-ui",20),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s()(),e.j41(23,"div",21)(24,"span",22),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()(),e.j41(27,"div",23)(28,"button",24),e.nI1(29,"navigationLocalize"),e.nrm(30,"lucide-icon",25),e.j41(31,"span",26),e.EFF(32),e.nI1(33,"mytranslate"),e.k0s()()(),e.j41(34,"div",27)(35,"a",28),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.removeKeyStorage())}),e.nI1(36,"navigationLocalize"),e.nrm(37,"lucide-icon",29),e.EFF(38),e.nI1(39,"mytranslate"),e.k0s()(),e.bVm()}if(2&n){const t=e.XpG(2);e.R7$(3),e.FS9("placeholder",e.bMT(4,21,"lang_auto_email_hoac_so_dien_thoai")),e.R7$(2),e.Y8G("ngIf",t.form.controls.emailOrPhone.errors&&(t.form.controls.emailOrPhone.dirty||t.form.controls.emailOrPhone.touched)&&!t.msgError),e.R7$(1),e.Y8G("ngIf",t.msgError),e.R7$(2),e.FS9("type",t.showPassword?"text":"password"),e.FS9("placeholder",e.bMT(9,23,"lang_auto_mat_khau_moi")),e.R7$(3),e.Y8G("ngIf",t.showPassword),e.R7$(1),e.Y8G("ngIf",!t.showPassword),e.R7$(1),e.Y8G("ngIf",t.form.controls.password.errors&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.R7$(3),e.SpI(" ",e.bMT(17,25,"lang_auto_huong_dan_doi_mat_khau_tren_azota")," "),e.R7$(3),e.Y8G("disabled",t.form.invalid),e.R7$(1),e.Y8G("ngIf",t.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(22,27,"lang_auto_tiep_tuc")," "),e.R7$(4),e.SpI(" ",e.bMT(26,29,"lang_auto_hoac")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(39,Ot,e.bMT(29,31,"/auth/confirm_forgot_password_qr")))("queryParams",e.eq3(41,wa,t.backLink)),e.R7$(2),e.Y8G("ngClass",e.lJ4(43,_n)),e.R7$(2),e.SpI(" ",e.bMT(33,33,"lang_auto_su_dung_ma_qr_quen_mat_khau")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(44,Ot,e.bMT(36,35,t.backLink?t.backLink:"/auth/login")))("queryParams",e.lJ4(46,Zt)),e.R7$(2),e.Y8G("ngClass",e.lJ4(47,_n)),e.R7$(1),e.SpI(" ",e.bMT(39,37,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function yr(n,u){if(1&n&&(e.j41(0,"div",44)(1,"a",45),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n){const t=e.XpG(3);e.R7$(1),e.BMQ("href","sms:"+t.phoneSend+(t.isCheckIos?"&":"?")+"body=MK "+(null==t.responseChangePass?null:t.responseChangePass.otp),e.B4B),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_auto__click_vao_day_de_gui_ngay__brackets")," ")}}function xa(n,u){1&n&&(e.j41(0,"div",44),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_sau_khi_gui_tin_nhan_vui_long_bam_nut_ben_duoi_de_tiep_tuc")," "))}function ko(n,u){if(1&n){const t=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){e.eBV(t);const s=e.XpG(3);return e.Njj(s.changeStepByNext())}),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()}2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_tiep_tuc")," "))}function So(n,u){if(1&n&&(e.j41(0,"div",47),e.nrm(1,"azt-loading-ui",34),e.j41(2,"div",47),e.EFF(3),e.k0s(),e.j41(4,"div",48)(5,"div",49)(6,"span"),e.EFF(7),e.nI1(8,"mytranslate"),e.j41(9,"b"),e.EFF(10),e.k0s(),e.EFF(11),e.k0s(),e.j41(12,"span",50),e.EFF(13),e.k0s()()()()),2&n){const t=e.XpG(3);e.R7$(3),e.JRh(t.currentMessage),e.R7$(4),e.SpI(" ",e.bMT(8,5,"lang_auth_note_send_otp_password")+" "," "),e.R7$(3),e.JRh(t.form.controls.emailOrPhone.value),e.R7$(1),e.SpI(" ",": "," "),e.R7$(2),e.SpI(" ",t.displayTime," ")}}function Co(n,u){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div",35)(2,"div",26),e.EFF(3),e.nI1(4,"mytranslate"),e.j41(5,"strong"),e.EFF(6),e.k0s(),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"div",36)(10,"strong"),e.EFF(11),e.k0s(),e.EFF(12),e.nI1(13,"mytranslate"),e.j41(14,"strong"),e.EFF(15),e.k0s()(),e.DNE(16,yr,4,4,"div",37),e.j41(17,"div",38),e.EFF(18),e.nI1(19,"mytranslate"),e.k0s(),e.DNE(20,xa,3,3,"div",37),e.j41(21,"div",39),e.DNE(22,ko,3,3,"button",40),e.DNE(23,So,14,7,"div",41),e.k0s()(),e.j41(24,"div",27)(25,"a",42),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.removeKeyStorage())}),e.nI1(26,"navigationLocalize"),e.nrm(27,"lucide-icon",43),e.EFF(28),e.nI1(29,"mytranslate"),e.k0s()(),e.bVm()}if(2&n){const t=e.XpG(2);e.R7$(3),e.SpI(" ",e.bMT(4,15,"lang_auto_thong_tin_mat_khau_moi_cua_ban_da_duoc_ghi_nhan_de_kich_hoat_mat_khau_vua_tao_vui_long_su_dung_so_dien_thoai")," "),e.R7$(3),e.JRh(t.form.controls.emailOrPhone.value),e.R7$(1),e.SpI(" ",e.bMT(8,17,"lang_auto_va_soan_tin_nhan"),": "),e.R7$(4),e.SpI("MK ",null==t.responseChangePass?null:t.responseChangePass.otp,""),e.R7$(1),e.SpI(" ",e.bMT(13,19,"lang_auto_gui")," "),e.R7$(3),e.JRh(t.phoneSend),e.R7$(1),e.Y8G("ngIf",t.isMobileDevice),e.R7$(2),e.SpI("(",e.bMT(19,21,"lang_auto_cuoc_phi_tin_nhan_duoc_tinh_theo_gia_cuoc_phi_thong_thuong_cua_nha_mang"),")"),e.R7$(2),e.Y8G("ngIf",2===t.step),e.R7$(2),e.Y8G("ngIf",2==t.step),e.R7$(1),e.Y8G("ngIf",3===t.step),e.R7$(2),e.Y8G("routerLink",e.eq3(27,Ot,e.bMT(26,23,t.backLink?t.backLink:"/auth/login")))("queryParams",e.lJ4(29,Zt)),e.R7$(2),e.Y8G("ngClass",e.lJ4(30,_n)),e.R7$(1),e.SpI(" ",e.bMT(29,25,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function Aa(n,u){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div",51)(2,"div",52),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",53)(6,"a",54),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.removeKeyStorage())}),e.nI1(7,"navigationLocalize"),e.nrm(8,"lucide-icon",29),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()()(),e.bVm()}if(2&n){const t=e.XpG(2);e.R7$(3),e.SpI(" ",e.bMT(4,5,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(11,Ot,e.bMT(7,7,t.backLink?t.backLink:"/auth/login")))("queryParams",e.lJ4(13,Zt)),e.R7$(2),e.Y8G("ngClass",e.lJ4(14,_n)),e.R7$(1),e.SpI(" ",e.bMT(10,9,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}const Oa=function(){return{"text-success":!0}};function Ir(n,u){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div",35)(2,"div",47),e.nrm(3,"lucide-icon",55),e.k0s(),e.j41(4,"div",56),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",57),e.EFF(8),e.nI1(9,"mytranslate"),e.j41(10,"b"),e.EFF(11),e.k0s(),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"div",53)(15,"div",58)(16,"a",59),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.removeKeyStorage())}),e.nI1(17,"navigationLocalize"),e.nrm(18,"lucide-icon",29),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()()()(),e.bVm()}if(2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("ngClass",e.lJ4(19,Oa)),e.R7$(2),e.SpI(" ",e.bMT(6,9,"lang_auto_kiem_tra_email_cua_ban")," "),e.R7$(3),e.SpI(" ",e.bMT(9,11,"lang_auto_he_thong_da_gui_email_toi_dia_chi")," "),e.R7$(3),e.JRh(t.form.controls.emailOrPhone.value),e.R7$(1),e.SpI(" ",e.bMT(13,13,"lang_auto__vui_long_kiem_tra_email_va_an_vao_duong_link_xac_nhan_de_viec_thay_doi_mat_khau_thanh_cong")," "),e.R7$(4),e.Y8G("routerLink",e.eq3(20,Ot,e.bMT(17,15,t.backLink?t.backLink:"/auth/login")))("queryParams",e.lJ4(22,Zt)),e.R7$(2),e.Y8G("ngClass",e.lJ4(23,_n)),e.R7$(1),e.SpI(" ",e.bMT(20,17,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}const Pa=function(){return{"mx-auto text-success":!0}};function Fa(n,u){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div",60)(2,"div",47),e.nrm(3,"lucide-icon",61),e.k0s(),e.j41(4,"div",56),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",62),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"div",63)(11,"div",58)(12,"a",59),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.removeKeyStorage())}),e.nI1(13,"navigationLocalize"),e.nrm(14,"lucide-icon",29),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()(),e.bVm()}if(2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("ngClass",e.lJ4(15,Pa)),e.R7$(2),e.SpI(" ",e.bMT(6,7,"lang_auth_password_changed")," "),e.R7$(3),e.SpI(" ",e.bMT(9,9,"lang_auth_your_password_has_been_changed_successfully")," "),e.R7$(4),e.Y8G("routerLink",e.eq3(16,Ot,e.bMT(13,11,t.backLink?t.backLink:"/auth/login")))("queryParams",e.lJ4(18,Zt)),e.R7$(2),e.Y8G("ngClass",e.lJ4(19,_n)),e.R7$(1),e.SpI(" ",e.bMT(16,13,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function kr(n,u){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div",64)(2,"div",65)(3,"div",66),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"div",67),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.j41(9,"div",63)(10,"ng-otp-input",68),e.bIt("onInputChange",function(s){e.eBV(t);const d=e.XpG(2);return e.Njj(d.onOtpChange(s))}),e.k0s()(),e.j41(11,"div",69)(12,"div",70)(13,"span",71),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"span",50),e.EFF(17),e.k0s()()(),e.j41(18,"div",72)(19,"button",73),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.verifyOTP())}),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()()(),e.j41(22,"div",27)(23,"a",74),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.removeKeyStorage())}),e.nI1(24,"navigationLocalize"),e.nrm(25,"lucide-icon",29),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s()(),e.bVm()}if(2&n){const t=e.XpG(2);e.R7$(4),e.SpI(" ",e.bMT(5,10,"lang_auth_otp_verification")," "),e.R7$(3),e.SpI(" ",e.bMT(8,12,"lang_auth_please_enter_the_OTP_code_that_was_just_sent_to_your_phone")," "),e.R7$(3),e.Y8G("config",t.config),e.R7$(4),e.JRh(e.bMT(15,14,"lang_auth_the_code_will_expire_in")+":"),e.R7$(3),e.SpI(" ",t.displayTimeOtp," "),e.R7$(3),e.SpI(" ",e.bMT(21,16,"lang_cms_common_confirm_btn")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(22,Ot,e.bMT(24,18,t.backLink?t.backLink:"/auth/login")))("queryParams",e.lJ4(24,Zt)),e.R7$(2),e.Y8G("ngClass",e.lJ4(25,_n)),e.R7$(1),e.SpI(" ",e.bMT(27,20,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function ja(n,u){if(1&n&&(e.j41(0,"div",3)(1,"form",4),e.DNE(2,Sa,3,3,"h2",5),e.DNE(3,br,40,48,"ng-container",6),e.DNE(4,Co,30,31,"ng-container",6),e.DNE(5,Aa,11,15,"ng-container",6),e.DNE(6,Ir,21,24,"ng-container",6),e.DNE(7,Fa,17,20,"ng-container",6),e.DNE(8,kr,28,26,"ng-container",6),e.k0s()()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("formGroup",t.form),e.R7$(1),e.Y8G("ngIf",7!==t.step&&6!==t.step),e.R7$(1),e.Y8G("ngIf",1==t.step),e.R7$(1),e.Y8G("ngIf",2==t.step||3==t.step),e.R7$(1),e.Y8G("ngIf",!t.statusObj.loading&&4==t.step),e.R7$(1),e.Y8G("ngIf",5==t.step),e.R7$(1),e.Y8G("ngIf",6==t.step),e.R7$(1),e.Y8G("ngIf",7==t.step)}}let Sr=(()=>{class n extends te.H{isInvalidUserPhoneOrEmail(t){this.msgError=Kt.U.validPhoneOrEmail(t)}randomPhone(t){if(t.includes(",")){let r=t.split(",");return r[this.commonService.getRandomNumber(0,r.length-1)]}return t}removeKeyStorage(){this.browserStorageService.removeStorage("azt_phone_change_password"),this.browserStorageService.removeStorage("azt_pass_change_password"),this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password"),this.browserStorageService.removeStorage("azt_response_change_pass")}onOtpChange(t){this.otp=t}togglePassword(){this.showPassword=!this.showPassword}changePassword(){this.form.valid?(this.initStatusObj(),this.smsService.apiSmsChangePassPost({phone:this.form.controls.emailOrPhone.value,password:this.form.controls.password.value}).subscribe(r=>{if(1==r.success)if(this.successStatusObj(),this.form.controls.emailOrPhone.value.includes("@"))this.step=5;else{this.step=2,this.responseChangePass=r.data;const s=this.serializeJson(this.responseChangePass??{});this.browserStorageService.saveStorage("azt_response_change_pass",s)}else this.errorStatusObj(r.message??"",!0)})):this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}callChangePasswordOtpApi(t,r){this.smsService.apiSmsSendOtpPost(t).subscribe(s=>{1==s.success?(this.successStatusObj(),this.form.controls.emailOrPhone.value.includes("@")?this.step=5:(this.step=7,this.tokenChangePass=s.data?.value??"",this.durationOtp=300,this.timerOtp(this.durationOtp),this.browserStorageService.removeStorage("azt_phone_change_password"),this.browserStorageService.removeStorage("azt_pass_change_password"),this.browserStorageService.saveStorage("duration_otp_forgot_password",this.durationOtp.toString()),this.browserStorageService.saveStorage("token_forgot_password",this.tokenChangePass.toString()))):this.errorStatusObj(s.message??"",!0)})}changePasswordOtp(){this.initStatusObj();const t=this.browserStorageService.getStorage("azt_phone_change_password")??"",r=this.browserStorageService.getStorage("azt_pass_change_password")??"";if(!t||!r)return;const s={phone:t,password:r};this.executeImportantAction().then(d=>{this.callChangePasswordOtpApi(s,d)}).catch(d=>{this.callChangePasswordOtpApi(s,"")})}verifyOTP(){6===this.otp.length?this.waitDestroy(this.smsService.apiSmsConfirmChangePassByPhoneOtpPost({otp:this.otp,secret:this.tokenChangePass}).subscribe(t=>{t.success?(this.step=6,this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password")):this.errorStatusObj(t.message??"",!0)})):this.showErrorSnack("lang_auth_please_enter_the_OTP_code_that_was_just_sent_to_your_phone")}getPhone(){this.initStatusObj(),this.smsService.apiSmsGetPhoneGet().subscribe(t=>{1==t.success?(this.successStatusObj(),this.phoneSend=this.randomPhone(t.data?.phone??"")):this.errorStatusObj(t.message??"",!0)})}changeStepByNext(){this.initStatusObj(),this.commonService.getTranslate("lang_auto_dang_xu_ly_du_lieu").subscribe(r=>{this.currentMessage=r}),this.form.controls.emailOrPhone.value&&this.form.controls.password.value&&(this.browserStorageService.saveStorage("azt_phone_change_password",this.form.controls.emailOrPhone.value),this.browserStorageService.saveStorage("azt_pass_change_password",this.form.controls.password.value)),this.getSecondTimeChangePassword(),this.step=3;const t=this.browserStorageService.getStorage("azt_phone_change_password")??"";this.loopCheck=window.setInterval(()=>{this.smsService.apiSmsCheckStatusGet(t).subscribe(r=>{1==r.success?(this.successStatusObj(),1==r.data?.status&&(this.step=6,clearInterval(this.loopCheck))):(this.errorStatusObj(r.message??""),this.commonService.getTranslate("lang_auto_he_thong_tam_thoi_khong_the_xu_ly_vui_long_thu_lai_sau").subscribe(s=>{this.currentMessage=s}),clearInterval(this.loopCheck))})},1e3)}saveRemaining(t){t&&!(0,ka.isNaN)(t)&&this.browserStorageService.saveStorage("duration_otp_forgot_password",t.toString())}executeImportantAction(){return new Promise(t=>{this.recaptchaV3Service.execute("importantAction").subscribe(r=>{t(r)})})}getSecondTimeChangePassword(){const t=this.browserStorageService.getStorage("azt_phone_change_password");t&&(this.form.controls.emailOrPhone.value||this.form.controls.emailOrPhone.setValue(t),this.loading=!0,this.waitDestroy(this.smsService.apiSmsGetSecondGet(t).subscribe(r=>{if(r.success){const s=r.data?.status;if(0===s&&(this.changePasswordOtp(),this.browserStorageService.removeStorage("azt_response_change_pass")),s&&s>0){const d=this.browserStorageService.getStorage("azt_response_change_pass")??"";this.responseChangePass=this.castJsonToObj(d),this.step=3,this.timer(s),this.loopCheck||this.changeStepByNext()}-1===s&&(this.step=1,this.removeKeyStorage())}else this.errorStatusObj(r.message??"");this.loading=!1})))}timerOtp(t){let r="0",s=t%60;const d=t/60<10?"0":"";this.loopCheckTimeOtp=window.setInterval(()=>{t--,0!=s?s--:s=t%60,r=s<10?"0"+s:s,this.displayTimeOtp=`${d}${Math.floor(t/60)}:${r}`,this.saveRemaining(t),0==t&&(clearInterval(this.loopCheckTimeOtp),this.showErrorSnack("lang_core_expired_otp"),this.browserStorageService.removeStorage("duration_otp_forgot_password"),this.browserStorageService.removeStorage("token_forgot_password"))},1e3)}timer(t){let r="0",s=t%60;const d=t/60<10?"0":"";this.loopCheckTime=window.setInterval(()=>{t--,0!=s?s--:s=t%60,r=s<10?"0"+s:s,this.displayTime=`${d}${Math.floor(t/60)}:${r}`,this.saveRemaining(t),0==t&&(clearInterval(this.loopCheckTime),this.changePasswordOtp())},1e3)}ngOnInit(){super.ngOnInit(),this.backLink=this.getMyQueryParam("return_url")??"",this.isOnApp=this.isMobileWebView,this.isCheckIos=/iPad|iPhone|iPod/.test(window.navigator.userAgent),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.getPhone(),this.getSecondTimeChangePassword();const t=this.browserStorageService.getStorage("token_forgot_password"),r=this.browserStorageService.getStorage("duration_otp_forgot_password")??"0";this.durationOtp=Number(r),t&&this.durationOtp>0&&(this.tokenChangePass=t,this.step=7,this.timerOtp(this.durationOtp))}constructor(t,r,s){super(),this.smsService=t,this.browserStorageService=r,this.recaptchaV3Service=s,this.backLink="",this.step=1,this.currentMessage="",this.phoneSend="",this.isOnApp=!1,this.isCheckIos=!1,this.tokenChangePass="",this.msgError="",this.showPassword=!1,this.otp="",this.durationOtp=0,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!1,placeholder:""},this.displayTimeOtp="",this.displayTime="",this.loading=!1,this.form=new v.gE({emailOrPhone:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),hash:new v.MJ("",{nonNullable:!0}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.minLength(6)]}),confirm_password:new v.MJ("",{nonNullable:!0})})}ngOnDestroy(){this.loopCheck&&clearInterval(this.loopCheck),this.loopCheckTimeOtp&&clearInterval(this.loopCheckTimeOtp),this.loopCheckTime&&clearInterval(this.loopCheckTime),super.ngOnDestroy()}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU($.$T),e.rXU(Ht.z),e.rXU(An.ob))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-confirm-forgot-password"]],inputs:{backLink:"backLink"},features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf"],["class","azt-forget-password",4,"ngIf"],[3,"currentStatusObj"],[1,"azt-forget-password"],[3,"formGroup"],["class","intro-x font-bold text-2xl text-center",4,"ngIf"],[4,"ngIf"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","emailOrPhone","autocapitalize","none","autocomplete","username",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","relative"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","confirm_forgot_password-Be5qkC21Px",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["class","dark:text-slate-500",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],["azt-track-service","confirm_forgot_password-qrLJsGpHEo","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/quen-mat-khau/","target","blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-VxkWEGRiFq",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","confirm_forgot_password-lZlsQz7TRgk",1,"btn","btn-outline-secondary","ml-1","w-full",3,"routerLink","queryParams"],["name","scan-line","size","18",3,"ngClass"],[1,"text-md"],[1,"intro-x","mt-5","text-slate-600","flex","justify-between","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password-dBgHdMY8At9",1,"text-primary","dark:text-slate-200","flex","items-center",3,"routerLink","queryParams","click"],["name","chevron-left","size","18",3,"ngClass"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"dark:text-slate-500"],["name","eye","size","24"],["name","eye-off","size","24"],[1,"mr-1"],[1,"index-x","mt-8"],[2,"text-align","right","font-size","15px","margin","10px 0","text-align","center"],["class","sms-info text-center mb-3",4,"ngIf"],[1,"sms-info","text-center","mb-3",2,"font-style","italic"],[1,"mt-3"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow","class","btn btn-primary w-full",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"text-primary","dark:text-slate-200","flex","items-center",3,"routerLink","queryParams","click"],["name","chevron-left","size","16",3,"ngClass"],[1,"sms-info","text-center","mb-3"],["azt-track-service","confirm_forgot_password-WxS7WiABo3I",1,"btn-text-primary"],["azt-track-service","confirm_forgot_password-XMU8a0u7Sow",1,"btn","btn-primary","w-full",3,"click"],[1,"text-center"],[1,"mt-4"],[1,"font-normal"],[1,"font-medium","text-danger","inline-block","ml-2"],[1,"index-x","box","p-5","mt-8","test"],[1,"sms-info"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password-BiakflUt8-X",1,"btn","btn-primary","w-full",3,"routerLink","queryParams","click"],["name","mail-check","size","64",3,"ngClass"],[1,"text-center","mt-3","text-xl","font-bold"],[1,"text-md","mt-3","px-5","text-center"],[1,"mb-1"],["azt-track-service","confirm_forgot_password-D7eRiRMvLI1",1,"btn","btn-primary","w-full",3,"routerLink","queryParams","click"],[1,"index-x","mt-5"],["name","check-circle","size","64",3,"ngClass"],[1,"text-md","mt-1","px-5","text-center"],[1,"text-center","mt-5"],[1,"opt","intro-x"],[1,"otp-head"],[1,"font-medium","text-lg"],[1,"text-slate-500","mt-0.5"],[3,"config","onInputChange"],[1,"flex","items-center","mt-4"],[1,"ml-auto"],[1,""],[1,"mt-5"],[1,"btn","btn-primary","w-full",3,"click"],["azt-track-service","confirm_forgot_password-Q3eNkstAam6",1,"text-primary","dark:text-slate-200","flex","items-center","flex","items-center",3,"routerLink","queryParams","click"]],template:function(r,s){1&r&&(e.j41(0,"auth-layout"),e.DNE(1,Io,1,1,"azt-loading-effect",0),e.DNE(2,ja,9,8,"div",1),e.k0s()),2&r&&(e.R7$(1),e.Y8G("ngIf",s.loading),e.R7$(1),e.Y8G("ngIf",!s.loading))},dependencies:[he.Wk,_.YU,_.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,Le.K,et.t,de.R,_t.K,pe.WGl,xt,L.F2,L.wp]})}return n})();function Ma(n,u){1&n&&(e.j41(0,"div")(1,"div",11),e.nrm(2,"azt-loading-ui"),e.j41(3,"span",12),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&n&&(e.R7$(4),e.SpI("",e.bMT(5,1,"lang_cms_common_loading"),"..."))}function Cr(n,u){1&n&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Tr(n,u){if(1&n&&(e.j41(0,"div",27),e.DNE(1,Cr,3,3,"div",10),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function Rr(n,u){if(1&n&&(e.j41(0,"div",13)(1,"label",28),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.SpI("*** ",e.bMT(3,1,t.statusObj.errorMessage),"")}}function To(n,u){1&n&&e.nrm(0,"azt-loading-ui",29)}const Er=function(n){return[n]},Na=function(){return{user_click:"true"}};function Ro(n,u){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",13)(2,"div",14)(3,"div",15),e.nrm(4,"input",16),e.nI1(5,"mytranslate"),e.j41(6,"div",17),e.nrm(7,"lucide-icon",18),e.k0s()(),e.DNE(8,Tr,2,1,"div",19),e.k0s()(),e.DNE(9,Rr,4,3,"div",20),e.j41(10,"div",21)(11,"div",14)(12,"div",22)(13,"button",23),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.form.invalid||s.statusObj.loading||s.changePassword())}),e.DNE(14,To,1,0,"azt-loading-ui",24),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()(),e.nrm(17,"hr"),e.j41(18,"div",25)(19,"a",26),e.nI1(20,"navigationLocalize"),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(4),e.FS9("placeholder",e.bMT(5,9,"lang_auto_mat_khau_moi")),e.R7$(4),e.Y8G("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.R7$(1),e.Y8G("ngIf",t.statusObj.errorMessage),e.R7$(4),e.Y8G("disabled",t.form.invalid||t.statusObj.loading),e.R7$(1),e.Y8G("ngIf",t.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(16,11,"lang_auto_doi_mat_khau")," "),e.R7$(4),e.Y8G("routerLink",e.eq3(17,Er,e.bMT(20,13,"/auth/login")))("queryParams",e.lJ4(19,Na)),e.R7$(2),e.SpI(" ",e.bMT(22,15,"lang_auto_dang_nhap_tai_khoan")," ")}}let Eo=(()=>{class n extends te.H{getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,r){return!!this.form.controls[t].errors?.[r]&&this.form.controls[t].errors?.[r]}getFormValue(){return this.form.getRawValue()}changePassword(){if(this.form.valid){var t=this.getFormValue(),r=this.commonService.getMyQueryParam("token");this.initStatusObj(),this.waitDestroy(this.userInfoService.apiUserInfoConfirmForgotPasswordGet(r??"",t.password).subscribe(s=>{1==s.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole("")):this.errorStatusObj(s.message??"")}))}}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,r){super(),this.redirectByRoleService=t,this.userInfoService=r,this.form=new v.gE({emailOrPhone:new v.MJ("",{nonNullable:!0}),hash:new v.MJ("",{nonNullable:!0}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.minLength(6)]}),confirm_password:new v.MJ("",{nonNullable:!0})})}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Ct.b),e.rXU($.fv))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-confirm-forgot-password-admin"]],features:[e.Vt3],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"sr-only","ml-2"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","autocapitalize","none","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["name","lock","size","20","id","basic-addon3"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","confirm_forgot_password_old-dHG6VsmYFRB","mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","confirm_forgot_password_old-980hoMxq1bn",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],[1,"mr-1"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2),e.nrm(3,"div",3),e.j41(4,"div",4),e.nrm(5,"img",5),e.nI1(6,"getLinkLogo"),e.j41(7,"div",6)(8,"div",7)(9,"span",8),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()(),e.j41(12,"div",9),e.DNE(13,Ma,6,3,"div",10),e.DNE(14,Ro,23,20,"div",10),e.k0s()()(),e.nrm(15,"div",3),e.k0s()()()),2&r&&(e.R7$(1),e.Y8G("formGroup",s.form),e.R7$(4),e.Y8G("src",e.bMT(6,5,"bigLogo"),e.B4B),e.R7$(5),e.JRh(e.bMT(11,7,"lang_auto_doi_mat_khau_moi")),e.R7$(3),e.Y8G("ngIf",s.statusObj.loading),e.R7$(1),e.Y8G("ngIf",!s.statusObj.loading))},dependencies:[he.Wk,_.bT,v.qT,v.me,v.BC,v.cb,yn.$z,v.j4,v.JD,et.t,de.R,pe.WGl,L.F2,L.wp,L.ph],encapsulation:2})}return n})();var On=y(42358),Xe=y(73014);const wr=(()=>{class n{constructor(t,r,s,d,S){this._legacyCanvasSize=n.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),s&&"object"==typeof s?this._onDecode=r:(console.warn(s||d||S?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=r),this._onDecodeError=(r="object"==typeof s?s:{}).onDecodeError||("function"==typeof s?s:this._onDecodeError),this._calculateScanRegion=r.calculateScanRegion||("function"==typeof d?d:this._calculateScanRegion),this._preferredCamera=r.preferredCamera||S||this._preferredCamera,this._legacyCanvasSize="number"==typeof s?s:"number"==typeof d?d:this._legacyCanvasSize,this._maxScansPerSecond=r.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;let O=!1;if(t.hidden&&(t.hidden=!1,O=!0),document.body.contains(t)||(document.body.appendChild(t),O=!0),s=t.parentElement,r.highlightScanRegion||r.highlightCodeOutline){if(d=!!r.overlay,this.$overlay=r.overlay||document.createElement("div"),(S=this.$overlay.style).position="absolute",S.display="none",S.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!d&&r.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}s.insertBefore(this.$overlay,this.$video.nextSibling)}r.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{let W=window.getComputedStyle(t);"none"===W.display&&(t.style.setProperty("display","block","important"),O=!0),"visible"!==W.visibility&&(t.style.setProperty("visibility","visible","important"),O=!0),O&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=n.createQrEngine()}static set WORKER_PATH(t){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static hasCamera(){return(0,Xe.A)(function*(){try{return!!(yield n.listCameras(!1)).length}catch{return!1}})()}static listCameras(t=!1){return(0,Xe.A)(function*(){if(!navigator.mediaDevices)return[];let s,r=function(){var d=(0,Xe.A)(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(S=>"videoinput"===S.kind)});return function(){return d.apply(this,arguments)}}();try{t&&(yield r()).every(d=>!d.label)&&(s=yield navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(yield r()).map((d,S)=>({id:d.deviceId,label:d.label||(0===S?"Default Camera":`Camera ${S+1}`)}))}finally{s&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),n._stopVideoStream(s))}})()}hasFlash(){var t=this;return(0,Xe.A)(function*(){let r;try{if(t.$video.srcObject){if(!(t.$video.srcObject instanceof MediaStream))return!1;r=t.$video.srcObject}else r=(yield t._getCameraStream()).stream;return"torch"in r.getVideoTracks()[0].getSettings()}catch{return!1}finally{r&&r!==t.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),n._stopVideoStream(r))}})()}isFlashOn(){return this._flashOn}toggleFlash(){var t=this;return(0,Xe.A)(function*(){t._flashOn?yield t.turnFlashOff():yield t.turnFlashOn()})()}turnFlashOn(){var t=this;return(0,Xe.A)(function*(){if(!t._flashOn&&!t._destroyed&&(t._flashOn=!0,t._active&&!t._paused))try{if(!(yield t.hasFlash()))throw"No flash available";yield t.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(r){throw t._flashOn=!1,r}})()}turnFlashOff(){var t=this;return(0,Xe.A)(function*(){t._flashOn&&(t._flashOn=!1,yield t._restartVideoStream())})()}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),n._postWorkerMessage(this._qrEnginePromise,"close")}start(){var t=this;return(0,Xe.A)(function*(){if(t._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!t._active||t._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),t._active=!0,!document.hidden))if(t._paused=!1,t.$video.srcObject)yield t.$video.play();else try{let{stream:r,facingMode:s}=yield t._getCameraStream();!t._active||t._paused?n._stopVideoStream(r):(t._setVideoMirror(s),t.$video.srcObject=r,yield t.$video.play(),t._flashOn&&(t._flashOn=!1,t.turnFlashOn().catch(()=>{})))}catch(r){if(!t._paused)throw t._active=!1,r}})()}stop(){this.pause(),this._active=!1}pause(t=!1){var r=this;return(0,Xe.A)(function*(){if(r._paused=!0,!r._active)return!0;r.$video.pause(),r.$overlay&&(r.$overlay.style.display="none");let s=()=>{r.$video.srcObject instanceof MediaStream&&(n._stopVideoStream(r.$video.srcObject),r.$video.srcObject=null)};return t?(s(),!0):(yield new Promise(d=>setTimeout(d,300)),!!r._paused&&(s(),!0))})()}setCamera(t){var r=this;return(0,Xe.A)(function*(){t!==r._preferredCamera&&(r._preferredCamera=t,yield r._restartVideoStream())})()}static scanImage(t,r,s,d,S=!1,O=!1){return(0,Xe.A)(function*(){let W,ie=!1;r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(W=r.scanRegion,s=r.qrEngine,d=r.canvas,S=r.disallowCanvasResizing||!1,O=r.alsoTryWithoutScanRegion||!1,ie=!0):console.warn(r||s||d||S||O?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!s;try{let Fe,je,ct;if([s,Fe]=yield Promise.all([s||n.createQrEngine(),n._loadImage(t)]),[d,je]=n._drawToCanvas(Fe,W,d,S),s instanceof Worker){let we=s;r||n._postWorkerMessageSync(we,"inversionMode","both"),ct=yield new Promise((nt,Bt)=>{let Rt,hn,Dt,Be=-1;hn=mt=>{mt.data.id===Be&&(we.removeEventListener("message",hn),we.removeEventListener("error",Dt),clearTimeout(Rt),null!==mt.data.data?nt({data:mt.data.data,cornerPoints:n._convertPoints(mt.data.cornerPoints,W)}):Bt(n.NO_QR_CODE_FOUND))},Dt=mt=>{we.removeEventListener("message",hn),we.removeEventListener("error",Dt),clearTimeout(Rt),Bt("Scanner error: "+(mt?mt.message||mt:"Unknown Error"))},we.addEventListener("message",hn),we.addEventListener("error",Dt),Rt=setTimeout(()=>Dt("timeout"),1e4);let yt=je.getImageData(0,0,d.width,d.height);Be=n._postWorkerMessageSync(we,"decode",yt,[yt.data.buffer])})}else ct=yield Promise.race([new Promise((we,nt)=>window.setTimeout(()=>nt("Scanner error: timeout"),1e4)),(0,Xe.A)(function*(){try{var[we]=yield s.detect(d);if(!we)throw n.NO_QR_CODE_FOUND;return{data:we.rawValue,cornerPoints:n._convertPoints(we.cornerPoints,W)}}catch(nt){if(/not implemented|service unavailable/.test(we=nt.message||nt))return n._disableBarcodeDetector=!0,n.scanImage(t,{scanRegion:W,canvas:d,disallowCanvasResizing:S,alsoTryWithoutScanRegion:O});throw`Scanner error: ${we}`}})()]);return ie?ct:ct.data}catch(Fe){if(!W||!O)throw Fe;let je=yield n.scanImage(t,{qrEngine:s,canvas:d,disallowCanvasResizing:S});return ie?je:je.data}finally{r||n._postWorkerMessage(s,"close")}})()}setGrayscaleWeights(t,r,s,d=!0){n._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:r,blue:s,useIntegerApproximation:d})}setInversionMode(t){n._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}static createQrEngine(t){return(0,Xe.A)(function*(){if(t&&console.warn("Specifying a worker path is not required and not supported anymore."),t=()=>y.e(2402).then(y.bind(y,32402)).then(s=>s.createWorker()),n._disableBarcodeDetector||!("BarcodeDetector"in window)||!BarcodeDetector.getSupportedFormats||!(yield BarcodeDetector.getSupportedFormats()).includes("qr_code"))return t();let r=navigator.userAgentData;return r&&r.brands.some(({brand:s})=>/Chromium/i.test(s))&&/mac ?OS/i.test(r.platform)&&(yield r.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:s,platformVersion:d})=>/arm/i.test(s||"arm")&&13<=parseInt(d||"13")).catch(()=>!0))?t():new BarcodeDetector({formats:["qr_code"]})})()}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(t){let r=Math.round(.6666666666666666*Math.min(t.videoWidth,t.videoHeight));return{x:Math.round((t.videoWidth-r)/2),y:Math.round((t.videoHeight-r)/2),width:r,height:r,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var t=this.$video,r=t.videoWidth,s=t.videoHeight,d=t.offsetWidth,S=t.offsetHeight,O=t.offsetLeft,W=t.offsetTop,ie=window.getComputedStyle(t),Fe=ie.objectFit,je=r/s,ct=d/S;switch(Fe){case"none":var we=r,nt=s;break;case"fill":we=d,nt=S;break;default:("cover"===Fe?je>ct:je<ct)?we=(nt=S)*je:nt=(we=d)/je,"scale-down"===Fe&&(we=Math.min(we,r),nt=Math.min(nt,s))}var[Bt,Rt]=ie.objectPosition.split(" ").map((Dt,Be)=>{const yt=parseFloat(Dt);return Dt.endsWith("%")?(Be?S-nt:d-we)*yt/100:yt});ct=this._scanRegion.height||s,Fe=this._scanRegion.x||0;var hn=this._scanRegion.y||0;(je=this.$overlay.style).width=(ie=this._scanRegion.width||r)/r*we+"px",je.height=ct/s*nt+"px",je.top=`${W+Rt+hn/s*nt}px`,s=/scaleX\(-1\)/.test(t.style.transform),je.left=`${O+(s?d-Bt-we:Bt)+(s?r-Fe-ie:Fe)/r*we}px`,je.transform=t.style.transform}})}static _convertPoints(t,r){if(!r)return t;let s=r.x||0,d=r.y||0,S=r.width&&r.downScaledWidth?r.width/r.downScaledWidth:1;r=r.height&&r.downScaledHeight?r.height/r.downScaledHeight:1;for(let O of t)O.x=O.x*S+s,O.y=O.y*r+d;return t}_scanFrame(){var t=this;!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((0,Xe.A)(function*(){if(!(1>=t.$video.readyState)){var r=Date.now()-t._lastScanTimestamp,s=1e3/t._maxScansPerSecond;r<s&&(yield new Promise(S=>setTimeout(S,s-r))),t._lastScanTimestamp=Date.now();try{var d=yield n.scanImage(t.$video,{scanRegion:t._scanRegion,qrEngine:t._qrEnginePromise,canvas:t.$canvas})}catch(S){if(!t._active)return;t._onDecodeError(S)}!n._disableBarcodeDetector||(yield t._qrEnginePromise)instanceof Worker||(t._qrEnginePromise=n.createQrEngine()),d?(t._onDecode?t._onDecode(d):t._legacyOnDecode&&t._legacyOnDecode(d.data),t.$codeOutlineHighlight&&(clearTimeout(t._codeOutlineHighlightRemovalTimeout),t._codeOutlineHighlightRemovalTimeout=void 0,t.$codeOutlineHighlight.setAttribute("viewBox",`${t._scanRegion.x||0} ${t._scanRegion.y||0} ${t._scanRegion.width||t.$video.videoWidth} ${t._scanRegion.height||t.$video.videoHeight}`),t.$codeOutlineHighlight.firstElementChild.setAttribute("points",d.cornerPoints.map(({x:S,y:O})=>`${S},${O}`).join(" ")),t.$codeOutlineHighlight.style.display="")):t.$codeOutlineHighlight&&!t._codeOutlineHighlightRemovalTimeout&&(t._codeOutlineHighlightRemovalTimeout=setTimeout(()=>t.$codeOutlineHighlight.style.display="none",100))}t._scanFrame()}))}_onDecodeError(t){t!==n.NO_QR_CODE_FOUND&&console.log(t)}_getCameraStream(){var t=this;return(0,Xe.A)(function*(){if(!navigator.mediaDevices)throw"Camera not found.";let r=/^(environment|user)$/.test(t._preferredCamera)?"facingMode":"deviceId",s=[{width:{min:1024}},{width:{min:768}},{}],d=s.map(S=>Object.assign({},S,{[r]:{exact:t._preferredCamera}}));for(let S of[...d,...s])try{let O=yield navigator.mediaDevices.getUserMedia({video:S,audio:!1});return{stream:O,facingMode:t._getFacingMode(O)||(S.facingMode?t._preferredCamera:"environment"===t._preferredCamera?"user":"environment")}}catch{}throw"Camera not found."})()}_restartVideoStream(){var t=this;return(0,Xe.A)(function*(){let r=t._paused;(yield t.pause(!0))&&!r&&t._active&&(yield t.start())})()}static _stopVideoStream(t){for(let r of t.getTracks())r.stop(),t.removeTrack(r)}_setVideoMirror(t){this.$video.style.transform="scaleX("+("user"===t?-1:1)+")"}_getFacingMode(t){return(t=t.getVideoTracks()[0])?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}static _drawToCanvas(t,r,s,d=!1){s=s||document.createElement("canvas");let S=r&&r.x?r.x:0,O=r&&r.y?r.y:0,W=r&&r.width?r.width:t.videoWidth||t.width,ie=r&&r.height?r.height:t.videoHeight||t.height;return d||(d=r&&r.downScaledWidth?r.downScaledWidth:W,r=r&&r.downScaledHeight?r.downScaledHeight:ie,s.width!==d&&(s.width=d),s.height!==r&&(s.height=r)),(r=s.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,r.drawImage(t,S,O,W,ie,0,0,s.width,s.height),[s,r]}static _loadImage(t){return(0,Xe.A)(function*(){if(t instanceof Image)return yield n._awaitImageLoad(t),t;if(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)return t;if(!(t instanceof File||t instanceof Blob||t instanceof URL||"string"==typeof t))throw"Unsupported image type.";{let r=new Image;r.src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString();try{return yield n._awaitImageLoad(r),r}finally{(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(r.src)}}})()}static _awaitImageLoad(t){return(0,Xe.A)(function*(){t.complete&&0!==t.naturalWidth||(yield new Promise((r,s)=>{let d=S=>{t.removeEventListener("load",d),t.removeEventListener("error",d),S instanceof ErrorEvent?s("Image load error"):r()};t.addEventListener("load",d),t.addEventListener("error",d)}))})()}static _postWorkerMessage(t,r,s,d){return(0,Xe.A)(function*(){return n._postWorkerMessageSync(yield t,r,s,d)})()}static _postWorkerMessageSync(t,r,s,d){if(!(t instanceof Worker))return-1;let S=n._workerMessageId++;return t.postMessage({id:S,type:r,data:s},d),S}}return n.DEFAULT_CANVAS_SIZE=400,n.NO_QR_CODE_FOUND="No QR code found",n._disableBarcodeDetector=!1,n._workerMessageId=0,n})();var La=y(71217);class Pn{static encode(u){return"azt:$"+btoa(u)}static decode(u){return u=u.replace("azt:$",""),atob(u)}static isEncode(u){return 0===u.indexOf("azt:$")}}var wo=y(25693),xr=y(76688);function Ga(n,u){if(1&n){const t=e.RV6();e.j41(0,"zxing-scanner",8),e.bIt("deviceChange",function(s){e.eBV(t);const d=e.XpG();return e.Njj(d.currentDevice=s)})("scanSuccess",function(s){e.eBV(t);const d=e.XpG();return e.Njj(d.onCodeResult(s))})("permissionResponse",function(s){e.eBV(t);const d=e.XpG();return e.Njj(d.onHasPermission(s))})("camerasFound",function(s){e.eBV(t);const d=e.XpG();return e.Njj(d.onCamerasFound(s))})("torchCompatible",function(s){e.eBV(t);const d=e.XpG();return e.Njj(d.onTorchCompatible(s))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("torch",t.torchEnabled)("device",t.currentDevice)("tryHarder",t.tryHarder)("formats",t.formatsEnabled)}}function $a(n,u){if(1&n&&(e.j41(0,"span",9),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.SpI("( ",t.contentResult," )")}}const xo=function(){return{"mr-1":!0}};let Ao=(()=>{class n extends te.H{constructor(t){super(),this.commonService=t,this.outContentScan=new e.bkB,this.outNotCamAllow=new e.bkB,this.isShowDebugLog=!1,this.isShowScanner=!1,this.availableDevices=[],this.currentDevice=void 0,this.hasDevices=!1,this.hasPermission=!1,this.qrResultString="",this.torchEnabled=!1,this.torchAvailable$=new La.t(!1),this.tryHarder=!1,this.formatsEnabled=[On.BarcodeFormat.CODE_128,On.BarcodeFormat.DATA_MATRIX,On.BarcodeFormat.EAN_13,On.BarcodeFormat.QR_CODE],this.deviceCamSelect=0,this.contentResult=null,this.isShowLog=!1,this.snd=new Audio,this.snd=new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=")}clearResult(){this.qrResultString=""}onCamerasFound(t){this.availableDevices=t,this.hasDevices=!(!t||!t.length)}onCodeResult(t){this.qrResultString=t,Pn.isEncode(t)?this.switchChangeContent(Pn.decode(t)):this.switchChangeContent(null)}onDeviceSelectChange(t){const r=this.availableDevices.find(s=>s.deviceId===t);this.currentDevice=r||void 0}onHasPermission(t){this.hasPermission=t}onTorchCompatible(t){this.torchAvailable$.next(t||!1)}toggleTorch(){this.torchEnabled=!this.torchEnabled}toggleTryHarder(){this.tryHarder=!this.tryHarder}switchVideoScan(){this.deviceCamSelect++,this.deviceCamSelect>=this.availableDevices.length&&(this.deviceCamSelect=0),this.currentDevice=this.availableDevices[this.deviceCamSelect]}unInitSscanCam(){this.isShowScanner=!1}initVideoScan(){this.isShowScanner=!0}initScanCam(){this.isShowScanner=!0}onFileSelected(t){let d=t.target.files;if(d?.length){var S=d[0];if(!S)return;this.scanProcessSelectFile(t,S,0)}else this.switchChangeContent(null)}scanProcessSelectFile(t,r,s){wr.scanImage(r,{returnDetailedScanResult:!0}).then(d=>{this.thatLog("onFileSelected: 0 "+JSON.stringify(d)),t.target.value="";var S=d.data;this.thatLog("onFileSelected: 1 "+S),Pn.isEncode(S)?this.switchChangeContent(Pn.decode(S)):this.switchChangeContent(null)}).catch(d=>{s>=2?(t.target.value="",this.thatLog("onFileSelected: 2 "+JSON.stringify(d)),this.switchChangeContent(null)):this.scanProcessSelectFile(t,r,s++)})}pauseScanQrcode(){this.isShowScanner=!1}switchChangeContent(t){this.contentResult=t,this.pauseScanQrcode(),this.beep(),navigator&&navigator.vibrate&&navigator.vibrate(200),this.thatLog("switchChangeContent: "+t),this.outContentScan.emit(this.contentResult)}thatLog(t){!0===this.isShowDebugLog&&console.log("__AZT SCAN__ :: "+t)}beep(){this.snd&&this.snd.play()}ngOnDestroy(){this.unInitSscanCam(),super.ngOnDestroy()}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(wo.R))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["azt-scan-qrcode"]],outputs:{outContentScan:"outContentScan",outNotCamAllow:"outNotCamAllow"},features:[e.Vt3],decls:10,vars:7,consts:[[1,"scan__card-video"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible",4,"ngIf"],[1,"text-center","mt-3","mb-2"],["class","text-center",4,"ngIf"],["type","file","name","fileQrcode",2,"display","none",3,"change"],["formChoseFile",""],["azt-track-service","azt-scan-qrcode-BSrT1K3fdVy",1,"link-center",3,"click"],["name","upload","size","24",3,"ngClass"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible"],[1,"text-center"]],template:function(r,s){if(1&r){const d=e.RV6();e.j41(0,"div",0),e.DNE(1,Ga,1,4,"zxing-scanner",1),e.k0s(),e.j41(2,"div",2),e.DNE(3,$a,2,1,"span",3),e.j41(4,"input",4,5),e.bIt("change",function(O){return s.onFileSelected(O)}),e.k0s(),e.j41(6,"a",6),e.bIt("click",function(){e.eBV(d);const O=e.sdS(5);return e.Njj(O.click())}),e.nrm(7,"lucide-icon",7),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s()()}2&r&&(e.R7$(1),e.Y8G("ngIf",s.isShowScanner),e.R7$(2),e.Y8G("ngIf",s.isShowLog),e.R7$(4),e.Y8G("ngClass",e.lJ4(6,xo)),e.R7$(1),e.SpI(" ",e.bMT(9,4,"lang_auto_tai_len_ma_co_san")," "))},dependencies:[_.YU,_.bT,xr.M,pe.WGl,L.wp],styles:[".scan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.scan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.scan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.scan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:#2462ae6e;color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]})}return n})();const Xn=["aztScanQrcode"];function za(n,u){1&n&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Ua(n,u){if(1&n&&(e.j41(0,"div",38),e.DNE(1,za,3,3,"div",39),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function Ba(n,u){1&n&&e.nrm(0,"azt-loading-ui",40)}function Va(n,u){1&n&&(e.j41(0,"div",41)(1,"span",42),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.SpI("***",e.bMT(3,1,"lang_auto_khong_the_xac_nhan_yeu_cau_doi_mat_khau_ma_qrcode_va_so_dien_thoai_dang_nhap_khong_trung_khop_vui_long_thu_lai"),""))}function Ya(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",43)(1,"button",44),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.reloadProcessForgot())}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&n&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_thu_lai")," "))}const Wa=function(){return{"dark:text-slate-500":!0}};function qa(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",22)(1,"div",23),e.nrm(2,"input",24),e.nI1(3,"mytranslate"),e.j41(4,"button",25)(5,"span",26),e.nrm(6,"lucide-icon",27),e.k0s()()(),e.j41(7,"div",23),e.nrm(8,"input",28),e.nI1(9,"mytranslate"),e.j41(10,"button",29),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.togglePassword())}),e.nrm(11,"lucide-icon",30),e.k0s(),e.DNE(12,Ua,2,1,"div",31),e.k0s(),e.j41(13,"div",32)(14,"div",33)(15,"button",34),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.changePassword())}),e.DNE(16,Ba,1,0,"azt-loading-ui",35),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()(),e.DNE(19,Va,4,3,"div",36),e.DNE(20,Ya,4,3,"div",37),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(2),e.FS9("placeholder",e.bMT(3,12,"lang_auto_ma_xac_thuc")),e.BMQ("disabled",!0),e.R7$(6),e.FS9("type",t.showPassword?"text":"password"),e.FS9("placeholder",e.bMT(9,14,"lang_auto_mat_khau_moi")),e.R7$(3),e.Y8G("name",t.showPassword?"eye":"eye-off")("ngClass",e.lJ4(18,Wa)),e.R7$(1),e.Y8G("ngIf",t.form.controls.password.invalid&&t.form.controls.password.dirty),e.R7$(3),e.Y8G("disabled",t.statusObj.errorMessage||t.form.invalid||t.statusObj.loading),e.R7$(1),e.Y8G("ngIf",t.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(18,16,"lang_auto_tiep_tuc")," "),e.R7$(2),e.Y8G("ngIf",t.statusObj.errorMessage),e.R7$(1),e.Y8G("ngIf",t.statusObj.errorMessage)}}const Qa=function(n){return{hiddenIpt:n}},Ar=function(n){return[n]},Xa=function(){return{user_click:"true"}};let Ha=(()=>{class n extends te.H{getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,r){return!!this.form.controls[t].errors?.[r]&&this.form.controls[t].errors?.[r]}togglePassword(){this.showPassword=!this.showPassword}reloadProcessForgot(){this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam(),this.stepByStep=0,this.form.reset(),this.initStatusObj(),this.sussScanNextConf=!1}outContentScan(t){null!==t?this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordAnonymousCheckForgotPasswordQrCodePost({hash:t}).subscribe(s=>{1==s.success&&1==s?.data?.status?(this.stepByStep=1,this.form.controls.hash.setValue(t),this.sussScanNextConf=!0,this.stopStatusObj()):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}changePassword(){this.initStatusObj();var t=this.getFormValue();this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordChangePasswordByQrcodePost({hash:t.hash,password:t.password}).subscribe(s=>{0!=s.success?(this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dat_lai_mat_khau_thanh_cong",!0),this.commonService.myNavigation("/auth/forgot_password_success")):(this.errorStatusObj("lang_auto_yeu_cau_doi_mat_khau_that_bai",!0),this.successStatusObj())})}getFormValue(){return this.form.getRawValue()}ngAfterViewInit(){setTimeout(()=>{this.elementZztScanQrcode&&this.elementZztScanQrcode.initScanCam()},0)}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.backLink=this.commonService.getMyQueryParam("return_url")??"",super.ngOnInit()}constructor(t,r){super(),this.localStorageObject=t,this.qrCodeForgotPasswordService=r,this.stepByStep=0,this.sussScanNextConf=!1,this.showPassword=!1,this.backLink="",this.form=new v.gE({emailOrPhone:new v.MJ("",{nonNullable:!0}),hash:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.minLength(6)]}),confirm_password:new v.MJ("",{nonNullable:!0})})}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(xn.G),e.rXU($.Cu))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-confirm-forgot-password"]],viewQuery:function(r,s){if(1&r&&e.GBs(Xn,5),2&r){let d;e.mGM(d=e.lsd())&&(s.elementZztScanQrcode=d.first)}},features:[e.Vt3],decls:38,vars:27,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh",3,"formGroup"],[1,"grid","grid-cols-12"],[1,"col-span-3"],[1,"col-span-12","md:col-span-6","m-5","text-center"],["src","'images/logo.svg' | convertCdnLinkOfGitHub","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"text-md","font-medium"],[1,"box"],[1,"loginscan_scanmode_camvmb-2",3,"ngClass"],[1,"text-center","mb-2"],[3,"outContentScan"],["aztScanQrcode",""],["class","intro-x loginscan_scanmode_conf",4,"ngIf"],[1,"text-center","mb-3","mt-2"],[1,"mb-1"],["azt-track-service","confirm_forgot_password_qr-y-Lujcafr","href","https://docs.azota.vn/#quen-mat-khau","target","blank"],["azt-track-service","confirm_forgot_password_qr-n899Hp9EMpg",1,"text-normal","mt-1",3,"routerLink","queryParams"],[1,"intro-x","loginscan_scanmode_conf"],[1,"azt-form-group","mt-2","relative"],["type","password","formControlName","hash",1,"intro-x","py-3","login__input","form-control",3,"placeholder"],[1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99","cursor","default"],["id","basic-addon3",1,"input-group-text"],["name","qr-code","size","20"],["autocapitalize","none","formControlName","password","autocomplete","new-password",1,"intro-x","py-3","login__input","form-control",3,"type","placeholder"],["azt-track-service","confirm_forgot_password_qr-VURaiK4XmLa",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","mt-2","mb-2"],[1,"intro-x","mt-2","text-center"],["azt-track-service","confirm_forgot_password_qr-tut9bw9xQAC",1,"btn","btn-primary","py-3","px-4","w-44","mx-auto","align-top",3,"disabled","click"],["class","mr-1",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","intro-x mt-5 text-center xl:text-left",4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[1,"mr-1"],[1,"strike","mt-3"],[1,"text-danger"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","confirm_forgot_password_qr-ubiNi2g_d2i",1,"btn","btn-outline-primary","py-3","px-4","w-full","align-top",3,"click"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2),e.nrm(3,"div",3),e.j41(4,"div",4),e.nrm(5,"img",5),e.j41(6,"div",6)(7,"div",7),e.nrm(8,"div",8)(9,"div",8)(10,"div",8),e.k0s()(),e.nrm(11,"br")(12,"br"),e.j41(13,"div",9)(14,"div",10)(15,"span",11),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()(),e.j41(18,"div",12)(19,"div",13)(20,"div",14),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s(),e.j41(23,"azt-scan-qrcode",15,16),e.bIt("outContentScan",function(S){return s.outContentScan(S)}),e.k0s()(),e.DNE(25,qa,21,19,"div",17),e.k0s(),e.nrm(26,"hr"),e.j41(27,"div",18)(28,"div",19)(29,"a",20),e.EFF(30),e.nI1(31,"mytranslate"),e.k0s()(),e.j41(32,"div")(33,"a",21),e.nI1(34,"navigationLocalize"),e.EFF(35),e.nI1(36,"mytranslate"),e.k0s()()()()(),e.nrm(37,"div",3),e.k0s()()()),2&r&&(e.R7$(1),e.Y8G("formGroup",s.form),e.R7$(7),e.Y8G("ngClass",s.stepByStep+2==1?"active":s.stepByStep+2>1?"active pro":""),e.R7$(1),e.Y8G("ngClass",s.stepByStep+2==2?"active":s.stepByStep+2>2?"active pro":""),e.R7$(1),e.Y8G("ngClass",s.stepByStep+2==3?"active":s.stepByStep+2>3?"active pro":""),e.R7$(6),e.JRh(e.bMT(17,12,"lang_auto_doi_mat_khau_moi_bang_ma_qrcode")),e.R7$(3),e.Y8G("ngClass",e.eq3(22,Qa,s.sussScanNextConf)),e.R7$(2),e.SpI(" ",e.bMT(22,14,"lang_auto_di_chuyen_camera_toi_ma_qrcode")," "),e.R7$(4),e.Y8G("ngIf",s.sussScanNextConf),e.R7$(5),e.JRh(e.bMT(31,16,"lang_auto_huong_dan_doi_mat_khau_tren_azota")),e.R7$(3),e.Y8G("routerLink",e.eq3(24,Ar,e.bMT(34,18,s.backLink?s.backLink:"/auth/login")))("queryParams",e.lJ4(26,Xa)),e.R7$(2),e.SpI(" ",e.bMT(36,20,s.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_dang_nhap_tai_khoan")," "))},dependencies:[he.Wk,_.YU,_.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,Ao,et.t,de.R,pe.WGl,L.F2,L.wp],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']})}return n})();var Ja=y(15437);const Ka=function(){return{"mr-2":!0}};function Za(n,u){if(1&n&&(e.j41(0,"div",3),e.nrm(1,"lucide-icon",4),e.EFF(2),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngClass",e.lJ4(2,Ka)),e.R7$(1),e.SpI(" ",t.stringDuration," ")}}let Or=(()=>{class n extends te.H{constructor(){super(...arguments),this.content="",this.width=0,this.height=0,this.expired=0,this.expiredAction=new e.bkB,this.startDuration=0,this.isDuration=!1,this.stringDuration="__ : __",this.qrCodeDownloadLink="",this.contentNew=""}ngAfterViewInit(){setTimeout(()=>{this.reInitComponent()},0)}reInitComponent(){this.bindUrlToQrCode(),0!=this.expired&&(this.isDuration=!0,this.startDuration=Math.floor(Date.now()/1e3),this.initLoopDuration())}initLoopDuration(){this.qrCode&&(this.loopDuration=setInterval(()=>{var t=Math.floor(Date.now()/1e3),s=this.expired-(t-this.startDuration);if(s<0)this.clearLoopDuration(),this.qrCode.clear(),this.expiredAction.emit();else{var d=Math.floor(s/60),S=s-60*d;this.stringDuration=(d<10?"0"+d:""+d)+" : "+(S<10?"0"+S:""+S)}},1e3))}clearLoopDuration(){this.loopDuration&&clearInterval(this.loopDuration)}bindUrlToQrCode(){this.contentNew=Pn.encode(this.content)}onChangeURL(t){this.qrCodeDownloadLink=t}downloadQrCode(t){this.commonService.downloadFileByUrl(this.qrCodeDownloadLink.changingThisBreaksApplicationSecurity,t=t||"azota-qr")}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}}();static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["azt-create-qr-image"]],inputs:{content:"content",width:"width",height:"height",expired:"expired"},outputs:{expiredAction:"expiredAction"},features:[e.Vt3],decls:3,vars:4,consts:[[1,"qr-scan-box"],["class","mx-auto flex items-center justify-center mb-2",4,"ngIf"],["colorDark","#2361ad","imageSrc","'images/Azota-For-QrCode-01.png' | convertCdnLinkOfGitHub",3,"qrdata","width","errorCorrectionLevel","qrCodeURL"],[1,"mx-auto","flex","items-center","justify-center","mb-2"],["name","timer","size","20",3,"ngClass"]],template:function(r,s){1&r&&(e.j41(0,"div",0),e.DNE(1,Za,3,3,"div",1),e.j41(2,"qrcode",2),e.bIt("qrCodeURL",function(S){return s.onChangeURL(S)}),e.k0s()()),2&r&&(e.R7$(1),e.Y8G("ngIf",s.isDuration),e.R7$(1),e.Y8G("qrdata",s.contentNew)("width",s.width)("errorCorrectionLevel","M"))},dependencies:[_.YU,_.bT,pe.WGl,Ja.c],encapsulation:2})}return n})();const ec=["elementCreateQr"];function tc(n,u){if(1&n&&(e.j41(0,"div",11),e.nrm(1,"azt-create-qr-image",12,13),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("content",t.contentQrcodeHash)("width",300)("height",300)("expired",0)}}const nc=function(){return{"mx-auto":!0}};function ic(n,u){if(1&n&&(e.j41(0,"div",14),e.nrm(1,"lucide-icon",15),e.j41(2,"div",16),e.EFF(3),e.k0s()()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngClass",e.lJ4(2,nc)),e.R7$(2),e.SpI(" ",t.noticeContentString," ")}}const Hn=function(){return{"mr-2":!0}};function Pr(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",17)(1,"button",18),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.downloadQrCode())}),e.nrm(2,"lucide-icon",19),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&n&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(4,Hn)),e.R7$(1),e.SpI(" ",e.bMT(4,2,"lang_auto_tai_xuong_ma")," "))}function Fr(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",17)(1,"button",20),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.openDialog())}),e.nrm(2,"lucide-icon",21),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&n&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(4,Hn)),e.R7$(1),e.SpI(" ",e.bMT(4,2,"lang_auto_tao_ma_quen_mat_khau_moi")," "))}const Oo=function(n){return[n]};function jr(n,u){1&n&&(e.j41(0,"a",22),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",23),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()),2&n&&(e.Y8G("routerLink",e.eq3(7,Oo,e.bMT(1,3,"/admin/dashboard"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(9,Hn)),e.R7$(1),e.SpI(" ",e.bMT(4,5,"lang_auto_quay_lai_dashboard")," "))}function rc(n,u){1&n&&(e.j41(0,"a",24),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",23),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()),2&n&&(e.Y8G("routerLink",e.eq3(7,Oo,e.bMT(1,3,"/student/classroom/0"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(9,Hn)),e.R7$(1),e.SpI(" ",e.bMT(4,5,"lang_auto_quay_lai_dashboard")," "))}const Po=function(){return{"mr-2 text-pending":!0}};let Fo=(()=>{class n extends te.H{checkQrThisMe(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCheckForgotPasswordQrCodeGet().subscribe(t=>{1==t.success?0!=t?.data?.status?this.commonService.getTranslate("lang_auto_ma_qrcode_da_ton_tai_ban_khong_the_xem_ma_hien_tai_tao_ma_moi_trong_truong_hop_ban_da_mat_ma_qrcode").subscribe(r=>{this.noticeContentString=r}):this.commonService.getTranslate("lang_auto_ban_chua_tao_ma_qrcode_dung_trong_truong_hop_quen_mat_khau_vui_long_tao_ma_qrcode_moi").subscribe(r=>{this.noticeContentString=r}):this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}createQrcodeForgot(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCreateForgotPasswordQrCodeGet().subscribe(t=>{1==t.success?this.contentQrcodeHash=t.data?.qrCode??"":this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}openDialog(){this.sAztDialogService.open(Mr,{restoreFocus:!1}).afterClosed().subscribe(r=>{!0===r&&this.createQrcodeForgot()})}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrCode("azota-forgot")}ngOnInit(){var t=this.commonService.getMyParam(this.activeRoute,"role")??"0";this.role=parseInt(t,10),this.checkQrThisMe(),super.ngOnInit()}constructor(t,r,s){super(),this.sAztDialogService=t,this.activeRoute=r,this.qrCodeForgotPasswordService=s,this.noticeContentString="",this.contentQrcodeHash="",this.role=0}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(bt.i),e.rXU(he.nX),e.rXU($.Cu))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-gzip-tool"]],viewQuery:function(r,s){if(1&r&&e.GBs(ec,5),2&r){let d;e.mGM(d=e.lsd())&&(s.elementCreateQr=d.first)}},features:[e.Vt3],decls:15,vars:9,consts:[[1,"azt-qr-create"],[1,"intro-x","font-bold","text-2xl","xl:text-3xl","text-center","xl:text-left"],[1,"intro-x","mt-3"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3","flex","items-center",2,"height","350px"],["class","mx-auto",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"mt-3"],["class","card-center-row",4,"ngIf"],[1,"intro-x","text-left","mt-3"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa","class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],[1,"mx-auto"],[3,"content","width","height","expired"],["elementCreateQr",""],[1,"text-center"],["name","eye","size","24",3,"ngClass"],[1,"qrcode-block-note","mt-2"],[1,"card-center-row"],["azt-track-service","create-qr-forgot-pass-9vcu1Ng4V",1,"w-full","btn","btn-primary",3,"click"],["name","upload","size","16",3,"ngClass"],["azt-track-service","create-qr-forgot-pass-n8eXxdvi7Z",1,"w-full","btn","btn-primary",3,"click"],["name","image-plus","size","16",3,"ngClass"],["azt-track-service","create-qr-forgot-pass-DX5ufECCCO",1,"text-primary","dark:text-slate-200",3,"routerLink"],["name","chevron-left","size","16",3,"ngClass"],["azt-track-service","create-qr-forgot-pass-k1qkRyNdCa",1,"text-primary","dark:text-slate-200",3,"routerLink"]],template:function(r,s){1&r&&(e.j41(0,"auth-layout")(1,"div",0)(2,"h3",1),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",2)(6,"div",3),e.DNE(7,tc,3,4,"div",4),e.DNE(8,ic,4,3,"div",5),e.k0s(),e.j41(9,"div",6),e.DNE(10,Pr,5,5,"div",7),e.DNE(11,Fr,5,5,"div",7),e.k0s()(),e.j41(12,"div",8),e.DNE(13,jr,5,10,"a",9),e.DNE(14,rc,5,10,"a",10),e.k0s()()()),2&r&&(e.R7$(3),e.SpI(" ",e.bMT(4,7,"lang_auto_qrcode_quen_mat_khau")," "),e.R7$(4),e.Y8G("ngIf",s.contentQrcodeHash),e.R7$(1),e.Y8G("ngIf",!s.contentQrcodeHash&&s.noticeContentString),e.R7$(2),e.Y8G("ngIf",s.contentQrcodeHash),e.R7$(1),e.Y8G("ngIf",!s.contentQrcodeHash),e.R7$(2),e.Y8G("ngIf",0==s.role),e.R7$(1),e.Y8G("ngIf",1==s.role))},dependencies:[he.Wk,_.YU,_.bT,Or,_t.K,pe.WGl,L.F2,L.wp]})}return n})(),Mr=(()=>{class n extends Ce._{static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}}();static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["dialog-conf-content-qrcode-dialog"]],features:[e.Vt3],decls:29,vars:30,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-lg","font-medium","flex","items-center"],["name","qr-code","size","32",3,"ngClass"],[1,"mt-2"],[1,"text-slate-500","dark:text-slate-400"],[1,"text-slate-500","dark:text-slate-400","mt-1"],[1,"text-right","p-3"],["mat-dialog-close","",1,"btn","btn-secondary","mr-2"],["azt-track-service","create-qr-forgot-pass-5ED6jrYOKwh","cdkFocusInitial","",1,"btn","btn-primary",3,"mat-dialog-close"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.nrm(4,"lucide-icon",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.j41(7,"div",5)(8,"p",6),e.EFF(9),e.nI1(10,"mytranslate"),e.nI1(11,"mytranslate"),e.nI1(12,"mytranslate"),e.k0s(),e.j41(13,"p",7),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"p",7),e.EFF(17),e.nI1(18,"mytranslate"),e.nrm(19,"br"),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()()()(),e.j41(22,"div",8)(23,"button",9),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s(),e.j41(26,"button",10),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s()()()),2&r&&(e.R7$(4),e.Y8G("ngClass",e.lJ4(29,Po)),e.R7$(1),e.SpI(" ",e.bMT(6,11,"lang_auto_trinh_tao_ma_qrcode_quen_mat_khau")," "),e.R7$(4),e.E5c(" ",e.bMT(10,13,"lang_auto_bam"),' "',e.bMT(11,15,"lang_auto_xac_nhan"),'" ',e.bMT(12,17,"lang_auto_dong_nghia_voi_viec_ban_da_hieu_ve_cac_dieu_sau")," "),e.R7$(5),e.SpI(" ",e.bMT(15,19,"lang_auto_1_ma_qrcode_quen_mat_khau_la_duy_nhat_khi_ban_tao_moi_ma_ma_cu_se_khong_con_gia_tri_su_dung")," "),e.R7$(3),e.SpI(" ",e.bMT(18,21,"lang_auto_2_ma_qrcode_quen_mat_khau_la_chia_khoa_vui_long_khong_chia_se_hay_de_nguoi_khac_co_duoc_ma_qrcode_cua_ban")," "),e.R7$(3),e.SpI(" ",e.bMT(21,23,"lang_auto_sau_khi_tao_thanh_cong_vui_long_tai_xuong_ma_qrcode_de_su_dung_cho_muc_dich_quen_mat_khau_sau_nay")," "),e.R7$(4),e.SpI(" ",e.bMT(25,25,"lang_auto_huy")," "),e.R7$(2),e.Y8G("mat-dialog-close",!0),e.R7$(1),e.SpI(" ",e.bMT(28,27,"lang_auto_xac_nhan")," "))},dependencies:[_.YU,ne.tx,pe.WGl,L.wp],encapsulation:2})}return n})(),oc=(()=>{class n extends te.H{constructor(){super(...arguments),this.step_by_step=3}redirectToCreateQrCode(){this.commonService.myNavigation("/auth/create-qr-forgot-pass/0")}redirectToHome(){this.commonService.myNavigation("/admin/dashboard")}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}}();static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-confirm-forgot-password"]],features:[e.Vt3],decls:30,vars:15,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6","m-5"],["src","'images/logo.svg' | convertCdnLinkOfGitHub","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"h5"],[1,"card-body"],[1,"btn-block-center","mt-3"],["azt-track-service","forgot_password_qr_success-cwgNnhhKK9",1,"btn","btn-outline-info","w-100","mr-3",3,"click"],["azt-track-service","forgot_password_qr_success-Ku6yqYsszo",1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"div",3),e.j41(4,"div",4),e.nrm(5,"img",5),e.j41(6,"div",6)(7,"div",7),e.nrm(8,"div",8)(9,"div",8)(10,"div",8),e.k0s()(),e.nrm(11,"br")(12,"br"),e.j41(13,"div",9)(14,"div",10)(15,"span",11),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()(),e.j41(18,"div",12)(19,"p"),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s(),e.j41(22,"div",13)(23,"a",14),e.bIt("click",function(){return s.redirectToHome()}),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s(),e.j41(26,"a",15),e.bIt("click",function(){return s.redirectToCreateQrCode()}),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s()()()()(),e.nrm(29,"div",3),e.k0s()()()),2&r&&(e.R7$(8),e.Y8G("ngClass",s.step_by_step+2==1?"active":s.step_by_step+2>1?"active pro":""),e.R7$(1),e.Y8G("ngClass",s.step_by_step+2==2?"active":s.step_by_step+2>2?"active pro":""),e.R7$(1),e.Y8G("ngClass",s.step_by_step+2==3?"active":s.step_by_step+2>3?"active pro":""),e.R7$(6),e.JRh(e.bMT(17,7,"lang_auto_doi_mat_khau_moi_thanh_cong")),e.R7$(4),e.JRh(e.bMT(21,9,"lang_auto_ban_da_doi_mat_khau_moi_thanh_cong_ma_qrcode_da_su_dung_co_the_su_dung_lai_de_dam_bao_an_toan_ban_nen_tao_lai_ma_qrcode")),e.R7$(4),e.JRh(e.bMT(25,11,"lang_auto_bo_qua_va_ve_trang_chu")),e.R7$(3),e.JRh(e.bMT(28,13,"lang_auto_tao_lai_ma_qrcode")))},dependencies:[_.YU,L.wp],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.btn-block-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}']})}return n})(),sc=(()=>{class n extends te.H{ngOnInit(){super.ngOnInit();var t=/iPad|iPhone|iPod/.test(window.navigator.userAgent),r=this.commonService.getMyParam(this.activeRoute,"code")?.toString(),s=this.commonService.getMyParam(this.activeRoute,"fromApp")?.toString();"teacher"==s?t?window.location.replace("azota://"+r):window.location.replace("https://aztappteacher.page.link/"+r):window.location.replace("https://azt.page.link/"+r)}constructor(t){super(),this.activeRoute=t}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(he.nX))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-go-to-mobile"]],features:[e.Vt3],decls:6,vars:4,consts:[[1,"centerBoth"],[1,"text-center"],["type","logo-azota","id","jobing-j-drawit","id","Layer_1",3,"size"],[1,"p-0","mt-2"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"azt-svg-icon",2),e.j41(3,"h3",3),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&r&&(e.R7$(2),e.Y8G("size",48),e.R7$(2),e.SpI("",e.bMT(5,2,"lang_core_dang_chuyen_ve_app"),"..."))},dependencies:[sn.m,L.wp],styles:[".centerBoth[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;font-weight:500}"]})}return n})();var Jn=y(97730),Kn=(y(94200),y(56094),y(12248),y(1703)),lc=(y(52114),y(18447)),Zn=y(63016),Dr=y(51698),jo=y(14159),Mo=y(17509),tn=y(22867),Lr=y(47947),a=y(88249),i=y(91126);function o(n,u){return(0,i.T)(u)?(0,tn.n)(()=>n,u):(0,tn.n)(()=>n)}var c=y(41483);const h=new e.nKC("angularfire2.auth.use-emulator"),k=new e.nKC("angularfire2.auth.settings"),w=new e.nKC("angularfire2.auth.tenant-id"),j=new e.nKC("angularfire2.auth.langugage-code"),B=new e.nKC("angularfire2.auth.use-device-language"),J=new e.nKC("angularfire.auth.persistence");let tt=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,s,d,S,O,W,ie,Fe,je,ct,we){const nt=new lc.B,Bt=(0,Zn.of)(void 0).pipe((0,U.Q)(S.outsideAngular),(0,tn.n)(()=>d.runOutsideAngular(()=>Promise.resolve().then(y.bind(y,52114)))),(0,Lr.T)(()=>be(t,d,r)),(0,Lr.T)(Rt=>((n,u,t,r,s,d,S,O)=>function He(n,u,t,r,s){const[,d,S]=globalThis.\u0275AngularfireInstanceCache.find(O=>O[0]===n)||[];if(d)return function ze(n,u){try{return n.toString()===u.toString()}catch{return n===u}}(s,S)||(gt("error",`${u} was already initialized on the ${t} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),gt("warn",{is:s,was:S})),d;{const O=r();return globalThis.\u0275AngularfireInstanceCache.push([n,O,s]),O}}(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const W=u.runOutsideAngular(()=>n.auth());if(t&&W.useEmulator(...t),r&&(W.tenantId=r),W.languageCode=s,d&&W.useDeviceLanguage(),S)for(const[ie,Fe]of Object.entries(S))W.settings[ie]=Fe;return O&&W.setPersistence(O),W},[t,r,s,d,S,O]))(Rt,d,O,ie,Fe,je,W,ct)),(0,a.t)({bufferSize:1,refCount:!1}));if((0,_.Vy)(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Zn.of)(null);else{Bt.pipe((0,Kn.$)()).subscribe();const Rt=Bt.pipe((0,tn.n)(Be=>Be.getRedirectResult().then(yt=>yt,()=>null)),It,(0,a.t)({bufferSize:1,refCount:!1})),hn=Bt.pipe((0,tn.n)(Be=>new Dr.c(yt=>({unsubscribe:d.runOutsideAngular(()=>Be.onAuthStateChanged(mt=>yt.next(mt),mt=>yt.error(mt),()=>yt.complete()))})))),Dt=Bt.pipe((0,tn.n)(Be=>new Dr.c(yt=>({unsubscribe:d.runOutsideAngular(()=>Be.onIdTokenChanged(mt=>yt.next(mt),mt=>yt.error(mt),()=>yt.complete()))}))));this.authState=Rt.pipe(o(hn),(0,z._)(S.outsideAngular),(0,U.Q)(S.insideAngular)),this.user=Rt.pipe(o(Dt),(0,z._)(S.outsideAngular),(0,U.Q)(S.insideAngular)),this.idToken=this.user.pipe((0,tn.n)(Be=>Be?(0,jo.H)(Be.getIdToken()):(0,Zn.of)(null))),this.idTokenResult=this.user.pipe((0,tn.n)(Be=>Be?(0,jo.H)(Be.getIdTokenResult()):(0,Zn.of)(null))),this.credential=(0,Mo.h)(Rt,nt,this.authState.pipe((0,c.p)(Be=>!Be))).pipe((0,Lr.T)(Be=>Be?.user?Be:null),(0,z._)(S.outsideAngular),(0,U.Q)(S.insideAngular))}return((n,u,t,r={})=>new Proxy(n,{get:(s,d)=>t.runOutsideAngular(()=>{if(n[d])return r?.spy?.get&&r.spy.get(d,n[d]),n[d];if(Vt.indexOf(d)>-1)return()=>{};const S=u.toPromise().then(O=>{const W=O?.[d];return"function"==typeof W?W.bind(O):W?.then?W.then(ie=>t.run(()=>ie)):t.run(()=>W)});return new Proxy(()=>{},{get:(O,W)=>S[W],apply:(O,W,ie)=>S.then(Fe=>{const je=Fe?.(...ie);return r?.spy?.apply&&r.spy.apply(d,ie,je),je})})})}))(this,Bt,d,{spy:{apply:(Rt,hn,Dt)=>{(Rt.startsWith("signIn")||Rt.startsWith("createUser"))&&Dt.then(Be=>nt.next(Be))}}})}static \u0275fac=function(r){return new(r||n)(e.KVO(rt),e.KVO(V,8),e.KVO(e.Agw),e.KVO(e.SKi),e.KVO(oe),e.KVO(h,8),e.KVO(k,8),e.KVO(w,8),e.KVO(j,8),e.KVO(B,8),e.KVO(J,8),e.KVO(xe,8))};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),ei=(()=>{class n extends te.H{constructor(t,r,s){super(),this.fireAuth=t,this.authService=r,this.redirectByRoleService=s,this.fireAuth.authState.pipe((0,Kn.$)()).subscribe(d=>{d?this.signInWithTokenGoogle(d):this.googleSignIn()})}signInWithTokenGoogle(t){const r=this.commonService.getMyQueryParam("type");t.getIdToken().then(s=>{let d={isRegisterForm:0,isRegisterForTeacher:0,firebaseToken:s??"",language:this.commonService.getCurrentLang()};this.waitDestroy(this.authService.apiAuthAuthByFirebasePost(d).subscribe(S=>{if(1==S.success){let W=this.commonService.getMyQueryParam("return_url")??"";if(""===W){let ie=this.commonService.getMyQueryParam("backto")??"";var O=ie.includes("return_url=")?ie.split("return_url=")[1]:"";W=decodeURIComponent(O)}1==S.data?.isNewRegister?this.myNavigationWithQueryString("/auth/choose-role",`?return_url=${encodeURIComponent(W)}`):"0"==r?this.redirectByRoleService.redirectLoginForStudent(W):this.redirectByRoleService.redirectLoginByRole(W)}else{this.errorStatusObj(S.message??"",!0);const W=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(W)}}))})}googleSignIn(){this.fireAuth.signInWithRedirect(new Jn.W).then(()=>this.fireAuth.getRedirectResult().then(t=>{})).catch(t=>{const r=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(r)})}ngOnDestroy(){super.ngOnDestroy()}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(tt),e.rXU($.uR),e.rXU(Ct.b))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["login-by-openapi"]],features:[e.Vt3],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"azt-loading-ui",2),e.k0s(),e.j41(3,"div",3),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&r&&(e.R7$(2),e.Y8G("type","azota-logo"),e.R7$(2),e.SpI(" ",e.bMT(5,2,"lang_auth_logging_in_please_wait")," "))},dependencies:[de.R,L.wp],encapsulation:2})}return n})(),No=(()=>{class n extends te.H{loginZalo(){window.location.href=this.zaloLoginUrl}loginWithAccessToken(t){var r=this.userService.getUserObjFromJwtToken(t);null!=r?(this.userService.saveUserObj(r),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj("lang_core_invalid_login_token"),this.commonService.myNavigationBySpecialQueryString(`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`))}ngOnInit(){super.ngOnInit(),this.initStatusObj();var t=this.commonService.getMyQueryParam("zaccess_token")??"",r=this.commonService.getMyQueryParam("not_register");this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=Ae.c.auth_external_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login-by-zalo")+"?return_url="+encodeURIComponent(this.returnUrl)+"&is_login=1");let s=this.commonService.getMyQueryParam("hasError");!r&&t?this.loginWithAccessToken(t):r&&!this.isBusinessDomain?this.commonService.myNavigationBySpecialQueryString(`/auth/register?return_url=${encodeURIComponent(this.returnUrl)}&user_click=true`):s?(this.commonService.snackError("lang_auth_login_by_zalo_error"),this.commonService.myNavigationBySpecialQueryString(`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`)):this.loginZalo()}constructor(t,r,s){super(),this.redirectByRoleService=t,this.redirectService=r,this.userService=s,this.returnUrl="",this.zaloLoginUrl=""}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Ct.b),e.rXU(Ve.m),e.rXU(Ue.R))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-login-by-zalo"]],features:[e.Vt3],decls:3,vars:1,consts:[[1,"azt-login-form"],[3,"currentStatusObj"]],template:function(r,s){1&r&&(e.j41(0,"auth-layout")(1,"div",0),e.nrm(2,"azt-loading-effect",1),e.k0s()()),2&r&&(e.R7$(2),e.Y8G("currentStatusObj",s.statusObj))},dependencies:[Le.K,_t.K],encapsulation:2})}return n})();const Gr=["elementCreateQr"],Do=["aztScanQrcode"];function Lo(n,u){1&n&&(e.j41(0,"div",24),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_de_dang_nhap_len_thiet_bi_nay_vui_long_tao_ma_de_thiet_bi_da_dang_nhap_quet")))}function $r(n,u){1&n&&(e.j41(0,"div",24),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_dung_thiet_bi_can_dang_nhap_quet_ma_ben_duoi")))}function Go(n,u){if(1&n&&(e.j41(0,"div",25),e.nrm(1,"azt-loading-ui",26),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&n){const t=e.XpG();e.R7$(2),e.Lme(" ",e.bMT(3,2,"lang_auto_dang_cho_quet_ma_qrcode"),": ",t.nameSessionConfirm," ")}}function $o(n,u){1&n&&(e.j41(0,"div",25),e.nrm(1,"azt-loading-ui",26),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&n&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_dang_cho_quet_ma_qrcode")," "))}function zr(n,u){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.nrm(3,"br"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.SpI(" ",e.bMT(2,3,"lang_auto_xac_nhan_dang_nhap_tai_khoan")," "),e.R7$(3),e.Lme(" ",e.bMT(5,5,"lang_auto_voi_ma_qr_da_phat_hien"),": ",t.nameSessionConfirm," ")}}function zo(n,u){1&n&&(e.j41(0,"div"),e.nrm(1,"azt-loading-ui",26),e.j41(2,"span",34),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_auto_dang_cho_xu_ly")))}function uc(n,u){if(1&n&&(e.j41(0,"div",35),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.JRh(t.textResultErr)}}function Ur(n,u){if(1&n&&(e.j41(0,"div",36),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.JRh(t.textResultSuss)}}function dc(n,u){1&n&&e.nrm(0,"azt-loading-ui",26)}function Gc(n,u){1&n&&e.nrm(0,"azt-loading-ui",26)}function $c(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",37)(1,"button",38),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.confContentPendingLogin(1))}),e.DNE(2,dc,1,0,"azt-loading-ui",39),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"button",40),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.confContentPendingLogin(2))}),e.DNE(6,Gc,1,0,"azt-loading-ui",39),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("disabled",t.isLoadingBtn||t.textResultErr),e.R7$(1),e.Y8G("ngIf",t.isLoadingBtn),e.R7$(1),e.SpI(" ",e.bMT(4,6,"lang_auto_chap_nhan")," "),e.R7$(2),e.Y8G("disabled",t.isLoadingBtn||t.textResultErr),e.R7$(1),e.Y8G("ngIf",t.isLoadingBtn),e.R7$(1),e.SpI(" ",e.bMT(8,8,"lang_auto_tu_choi")," ")}}function zc(n,u){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"button",41),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.backScanActionWithIsLogin())}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_quay_lai")))}function Uc(n,u){if(1&n&&(e.j41(0,"div",27)(1,"div",28)(2,"div",29),e.DNE(3,zr,6,7,"span",30),e.k0s(),e.DNE(4,zo,5,3,"div",30),e.DNE(5,uc,2,1,"div",31),e.DNE(6,Ur,2,1,"div",32),e.DNE(7,$c,9,10,"div",33),e.DNE(8,zc,4,3,"div",30),e.k0s()()),2&n){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.nameSessionConfirm),e.R7$(1),e.Y8G("ngIf",t.isLoadingBtn),e.R7$(1),e.Y8G("ngIf",t.textResultErr),e.R7$(1),e.Y8G("ngIf",t.textResultSuss),e.R7$(1),e.Y8G("ngIf",!t.textResultSuss||!t.isConfirmBtn),e.R7$(1),e.Y8G("ngIf",t.isLogin&&!1===t.isLoadingBtn&&!0===t.isConfirmBtn)}}function Bc(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",45),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.createRequestLoginHashCodeAction())}),e.j41(1,"div",46),e.nrm(2,"lucide-icon",47),e.j41(3,"div"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()}2&n&&(e.R7$(4),e.JRh(e.bMT(5,1,"lang_auto_tao_moi_ma")))}function Vc(n,u){if(1&n){const t=e.RV6();e.j41(0,"azt-create-qr-image",48,49),e.bIt("expiredAction",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.expiredQrcodeAction())}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("content",t.contentCreateQrcode)("width",300)("height",300)("expired",t.durationQrcodeExpire)}}function Yc(n,u){if(1&n&&(e.j41(0,"div",42),e.DNE(1,Bc,6,3,"div",43),e.DNE(2,Vc,2,4,"azt-create-qr-image",44),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!1===t.isLogin&&!t.contentCreateQrcode),e.R7$(1),e.Y8G("ngIf",t.contentCreateQrcode)}}const _c=function(){return{"mr-2":!0}};function Wc(n,u){if(1&n){const t=e.RV6();e.j41(0,"a",50),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.downloadQrCode())}),e.nrm(1,"lucide-icon",51),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&n&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,_c)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_auto_tai_xuong_ma")," "))}function qc(n,u){1&n&&(e.j41(0,"div",52)(1,"span",53),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_auto_hoac")," "))}function Qc(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",11)(1,"a",54),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.switchModeView())}),e.nrm(2,"lucide-icon",55),e.j41(3,"span"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()}2&n&&(e.R7$(2),e.Y8G("ngClass",e.lJ4(4,_c)),e.R7$(2),e.JRh(e.bMT(5,2,"lang_auto_quet_ma_qr_co_san")))}function Xc(n,u){if(1&n&&(e.j41(0,"div",35),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.JRh(t.textResultErr)}}function Hc(n,u){if(1&n&&(e.j41(0,"div",36),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.JRh(t.textResultSuss)}}function Jc(n,u){1&n&&e.nrm(0,"azt-loading-ui",26)}function Kc(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",37)(1,"button",56),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.confContentLogin())}),e.DNE(2,Jc,1,0,"azt-loading-ui",39),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"button",57),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.reopenScanCamInit())}),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("disabled",t.isLoadingBtn||t.textResultErr),e.R7$(1),e.Y8G("ngIf",t.isLoadingBtn),e.R7$(1),e.SpI(" ",e.bMT(4,5,"lang_auto_dang_nhap")," "),e.R7$(2),e.Y8G("disabled",t.isLoadingBtn),e.R7$(1),e.JRh(e.bMT(7,7,"lang_auto_thu_lai"))}}function Zc(n,u){if(1&n&&(e.j41(0,"div",27)(1,"div",28)(2,"div",29),e.EFF(3),e.nI1(4,"mytranslate"),e.nrm(5,"br"),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s(),e.DNE(8,Xc,2,1,"div",31),e.DNE(9,Hc,2,1,"div",32),e.DNE(10,Kc,8,9,"div",33),e.k0s()()),2&n){const t=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,5,"lang_auto_xac_nhan_dang_nhap_tai_khoan")," "),e.R7$(3),e.SpI(" ",e.bMT(7,7,"lang_auto_voi_ma_qr_da_phat_hien")," "),e.R7$(2),e.Y8G("ngIf",t.textResultErr),e.R7$(1),e.Y8G("ngIf",t.textResultSuss),e.R7$(1),e.Y8G("ngIf",!t.textResultSuss)}}function el(n,u){1&n&&(e.j41(0,"div"),e.nrm(1,"azt-loading-ui",26),e.j41(2,"span",34),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&n&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_auto_dang_cho_xu_ly")))}function tl(n,u){if(1&n&&e.nrm(0,"div",61),2&n){const t=e.XpG(2);e.Y8G("innerHTML",t.textResultErr,e.npT)}}function nl(n,u){1&n&&e.nrm(0,"azt-loading-ui",26)}function il(n,u){if(1&n&&(e.j41(0,"button",62),e.DNE(1,nl,1,0,"azt-loading-ui",39),e.EFF(2),e.k0s()),2&n){const t=e.XpG(2);e.Y8G("disabled",!t.textResultSuss),e.R7$(1),e.Y8G("ngIf",t.isLoadingBtn),e.R7$(1),e.SpI(" ",t.textResultSuss," ")}}function rl(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",27)(1,"div",28)(2,"div",29)(3,"span"),e.EFF(4),e.nI1(5,"mytranslate"),e.nrm(6,"br"),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,el,5,3,"div",30),e.DNE(10,tl,1,1,"div",58),e.j41(11,"div",37),e.DNE(12,il,3,3,"button",59),e.j41(13,"button",60),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.reopenScanCamInit())}),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()()()()}if(2&n){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,8,"lang_auto_dang_nhap_tai_khoan")," "),e.R7$(3),e.Lme(" ",e.bMT(8,10,"lang_auto_voi_ma_qr_da_phat_hien"),": ",t.nameSessionConfirm," "),e.R7$(2),e.Y8G("ngIf",t.isLoadingBtn),e.R7$(1),e.Y8G("ngIf",t.textResultErr),e.R7$(2),e.Y8G("ngIf",!t.textResultSuss&&t.isLoadingBtn),e.R7$(1),e.Y8G("disabled",t.isLoadingBtn),e.R7$(1),e.JRh(e.bMT(15,12,"lang_auto_thu_lai"))}}const mc=function(n){return{hiddenIpt:n}},ol=function(n){return[n]};let sl=(()=>{class n extends te.H{forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}reloadLogin(){this.isLogin&&this.redirectService.redirectToDashboard()}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrCode("azota-login")}switchModeView(){this.modeShowInit="create"===this.modeShowInit?"scan":"create",this.elementZztScanQrcode&&("scan"===this.modeShowInit?(this.elementZztScanQrcode.initScanCam(),this.clearLoopRefLogin(),this.clearLoopPendingLogin()):(this.elementZztScanQrcode.unInitSscanCam(),this.initLoopRefLogin(),this.initPendingLoadingConfirm()))}clearLoopPendingLogin(){this.loopPendingLogin&&clearInterval(this.loopPendingLogin)}clearLoopRefLogin(){this.loopRefCheckQrcodeLogin&&clearInterval(this.loopRefCheckQrcodeLogin)}reopenScanCamInit(){this.textResultErr="",this.textResultSuss="",this.elementZztScanQrcode&&(this.elementZztScanQrcode.initScanCam(),this.sussScanNextConf=!1)}backScanActionWithIsLogin(){this.isLogin&&(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.createQrCodeWithUser())}expiredQrcodeAction(){this.pendingDuration||(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.isLogin?(this.createQrCodeWithUser(),this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_da_tao_ma_qrcode_moi_vui_long_thao_tac_lai")):this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_vui_long_tao_moi_va_thao_tac_lai"))}createQrCodeWithUser(){this.initStatusObj(),this.waitDestroy(this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeGet().subscribe(t=>{1==t.success?(this.successStatusObj(),this.contentCreateQrcode=t?.data?.qrCode??"",this.durationQrcodeExpire=t?.data?.duration??0,this.initPendingLoadingConfirm()):this.errorStatusObj("lang_auto_khong_tai_duoc_du_lieu",!0)}))}outContentScan(t){null!==t?(this.scanQrContent=t,this.sussScanNextConf=!0,this.isLogin||(this.elementZztScanQrcode?.pauseScanQrcode(),this.isLoadingBtn=!0,this.textResultSuss="",this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeRequestPost({qrCode:this.scanQrContent}).subscribe(s=>{this.isLoadingBtn=!1,1==s.success?(this.isLoadingBtn=!0,this.scanQrContentConfirm=s?.data?.qrCode??"",this.nameSessionConfirm=s?.data?.name??"",this.textResultSuss="",this.initLoopPendingLogin()):(this.textResultSuss="",this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(d=>{this.textResultErr=d}))}))):(this.sussScanNextConf=!0,this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(s=>{this.textResultErr=s}),this.showErrorSnack("lang_auto_ma_qrcode_da_het_han_hoac_khong_dung_vui_long_dot"))}initLoopPendingLogin(){this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginCheckLoginQrCodeRequestConfirmedPost({qrCode:this.scanQrContentConfirm}).subscribe(r=>{1==r.success&&(1==r.data?.status?(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.textResultSuss="",this.localStorageObject.clearAllCache(),this.successStatusObj("lang_auto_dang_nhap_thanh_cong",!0),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):r.data&&2===r.data.status&&(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.errorStatusObj("lang_auto_xac_nhan_dang_nhap_that_bai",!0),this.commonService.getTranslate("lang_auto_xac_nhan_dang_nhap_that_bai_br_ma_qr_khong_con_hoat_dong_br_vui_long_tao_ma_qrcode_moi_de_dang_nhap_lai").subscribe(s=>{this.textResultErr=s}),this.textResultSuss=""))})},3e3)}initPendingLoadingConfirm(){this.isLogin&&(this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginGetFirstQrCodeLoginRequestGet().subscribe(t=>{1==t.success&&t.data&&""!==t.data.qrCode&&(this.pendingDuration=!0,this.scanQrContentConfirm=t?.data?.qrCode??"",this.nameSessionConfirm=t?.data?.name??"",this.clearLoopPendingLogin())})},3e3))}confContentPendingLogin(t){this.isLogin&&(this.isLoadingBtn=!0,this.qrCodeLoginService.apiQrCodeLoginConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContentConfirm,status:t}).subscribe(s=>{1==s.success?this.textResultSuss=1==t?this.commonService.myTranslateInstant("lang_auto_xac_nhan_thanh_cong")??"":this.commonService.myTranslateInstant("lang_auto_tu_choi_thanh_cong")??"":this.commonService.getTranslate("lang_auto_he_thong_khong_phan_hoi_vui_long_tai_lai_trang_de_thu_lai").subscribe(d=>{this.textResultErr=d}),this.isConfirmBtn=!0,this.isLoadingBtn=!1}))}createRequestLoginHashCodeAction(){this.isLogin||this.qrCodeLoginService.apiQrCodeLoginAnonymousCreateLoginQrCodePost().subscribe(t=>{1==t.success&&(this.contentCreateQrcode=t?.data?.qrCode??"",this.nameSessionConfirm=t?.data?.name??"",this.durationQrcodeExpire=t?.data?.duration??0,this.initLoopRefLogin())})}initLoopRefLogin(){0==this.isLogin&&(this.loopRefCheckQrcodeLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginAnonymousCheckLoginQrCodeRequestConfimedPost({qrCode:this.contentCreateQrcode,status:0}).subscribe(r=>{1===r.success&&404!=r?.data?.status&&(this.commonService.snackSuccess("lang_auto_dang_nhap_thanh_cong"),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""))})},3e3))}confContentLogin(){this.isLoadingBtn=!0,this.isLogin&&null!=this.scanQrContent&&this.qrCodeLoginService.apiQrCodeLoginAnonymousConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContent,status:1}).subscribe(r=>{this.isLoadingBtn=!1,r.success?this.commonService.getTranslate("lang_auto_xac_nhan_thanh_cong_phien_dang_nhap_da_duoc_phe_duyet").subscribe(s=>{this.textResultSuss=s}):this.commonService.getTranslate("lang_auto_thiet_bi_da_dang_nhap_hoac_ma_dang_nhap_khong_hop_le_vui_long_kiem_tra_va_thao_tac_lai").subscribe(s=>{this.textResultErr=s})})}ngOnInit(){var t=this.commonService.getMyParam(this.activeRoute,"role")??"0";switch(this.role=parseInt(t,10),this.role){case 0:this.backToLink="/admin/dashboard";break;case 1:this.backToLink="/student/classroom/0";break;case 2:this.backToLink="/auth/login"}this.isLogin=this.userService.isLogin(),this.isLogin&&this.createQrCodeWithUser(),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,r,s,d,S,O){super(),this.redirectByRoleService=t,this.userService=r,this.localStorageObject=s,this.activeRoute=d,this.qrCodeLoginService=S,this.redirectService=O,this.returnUrl="",this.isLogin=!1,this.modeShowInit="create",this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.pendingDuration=!1,this.role=0,this.backToLink=""}ngOnDestroy(){this.clearLoopRefLogin(),this.clearLoopPendingLogin(),super.ngOnDestroy()}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Ct.b),e.rXU(Ue.R),e.rXU(xn.G),e.rXU(he.nX),e.rXU($.f0),e.rXU(Ve.m))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-login"]],viewQuery:function(r,s){if(1&r&&(e.GBs(Gr,5),e.GBs(Do,5)),2&r){let d;e.mGM(d=e.lsd())&&(s.elementCreateQr=d.first),e.mGM(d=e.lsd())&&(s.elementZztScanQrcode=d.first)}},features:[e.Vt3],decls:38,vars:39,consts:[[1,"azt-qr-scan-content"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"leading-relaxed","text-center","xl:text-left","text-md","mt-1"],["class","text-center",4,"ngIf"],["class","mb-3 text-center",4,"ngIf"],[1,"intro-x","mt-2"],[1,"card"],[1,"loginscan__card-body"],[1,"loginscan_createmode",3,"ngClass"],["class","loginscan_scanmode_conf",4,"ngIf"],["class","loginscan__card-img",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","login-scan-qr-amoe-6G6Amy","class","link-center flex items-center",3,"click",4,"ngIf"],["class","strike mt-3",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"loginscan_scanmode",3,"ngClass"],[1,"text-center","mb-3"],["azt-track-service","login-scan-qr-g-u5HnuBE86","href","https://docs.azota.vn/docs/huong-dan-su-dung/dang-ky-dang-nhap/huong-dan-dang-nhap/","target","_blank",1,"text-primary"],[1,"loginscan_scanmode_cam",3,"ngClass"],[3,"outContentScan"],["aztScanQrcode",""],[1,"intro-x","text-left","mt-3"],["azt-track-service","login-scan-qr-oLWl-cJLxUM",1,"text-primary","dark:text-slate-200",3,"routerLink"],["name","chevron-left","size","16",3,"ngClass"],[1,"text-center"],[1,"mb-3","text-center"],[1,"mr-1"],[1,"loginscan_scanmode_conf"],[1,"loginscan_scanmode_conf--box"],[1,"boxtext"],[4,"ngIf"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336",4,"ngIf"],["class","boxtext-suss","style","font-size: 20px; margin-bottom: 20px; color: #009688",4,"ngIf"],["class","mt-3",4,"ngIf"],[2,"font-size","18px"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336"],[1,"boxtext-suss",2,"font-size","20px","margin-bottom","20px","color","#009688"],[1,"mt-3"],["azt-track-service","login-scan-qr-5xO8XgnE61","type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["class","mr-1",4,"ngIf"],["azt-track-service","login-scan-qr-LNj275E9hcq","type","button",1,"btn","btn-warning",3,"disabled","click"],["azt-track-service","login-scan-qr-f626SfeIQSQ","type","button",1,"btn","btn-primary","mr-3",3,"click"],[1,"loginscan__card-img"],["azt-track-service","login-scan-qr-ingzQh7B2Gr","class","box-create-login-img",3,"click",4,"ngIf"],[3,"content","width","height","expired","expiredAction",4,"ngIf"],["azt-track-service","login-scan-qr-ingzQh7B2Gr",1,"box-create-login-img",3,"click"],[1,"box-create-login-content"],["name","refresh-ccw","size","20"],[3,"content","width","height","expired","expiredAction"],["elementCreateQr",""],["azt-track-service","login-scan-qr-amoe-6G6Amy",1,"link-center","flex","items-center",3,"click"],["name","download","size","20",3,"ngClass"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],["azt-track-service","login-scan-qr-5VTDmj94V2y",1,"btn","btn-outline-primary","w-full","mt-2",3,"click"],["name","focus","size","20",3,"ngClass"],["azt-track-service","login-scan-qr-kwYxm678vBn","type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["azt-track-service","login-scan-qr-xsY-z0MbSuA","type","button",1,"btn","btn-warning",3,"disabled","click"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336; line-height: 30px",3,"innerHTML",4,"ngIf"],["type","button","class","btn btn-primary mr-3",3,"disabled",4,"ngIf"],["azt-track-service","login-scan-qr-a-hpGcRjoT5","type","button",1,"btn","btn-warning",3,"disabled","click"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336","line-height","30px",3,"innerHTML"],["type","button",1,"btn","btn-primary","mr-3",3,"disabled"]],template:function(r,s){1&r&&(e.j41(0,"auth-layout")(1,"div",0)(2,"h3",1),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",2),e.DNE(6,Lo,3,3,"div",3),e.DNE(7,$r,3,3,"div",3),e.DNE(8,Go,4,4,"div",4),e.DNE(9,$o,4,3,"div",4),e.k0s(),e.j41(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8),e.DNE(14,Uc,9,6,"div",9),e.DNE(15,Yc,3,2,"div",10),e.j41(16,"div",11),e.DNE(17,Wc,4,5,"a",12),e.k0s(),e.DNE(18,qc,4,3,"div",13),e.DNE(19,Qc,6,5,"div",14),e.k0s(),e.j41(20,"div",15)(21,"div",16),e.EFF(22),e.nI1(23,"mytranslate"),e.j41(24,"a",17),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()(),e.j41(27,"div",18)(28,"azt-scan-qrcode",19,20),e.bIt("outContentScan",function(S){return s.outContentScan(S)}),e.k0s()(),e.DNE(30,Zc,11,9,"div",9),e.DNE(31,rl,16,14,"div",9),e.k0s()()()(),e.j41(32,"div",21)(33,"a",22),e.nI1(34,"navigationLocalize"),e.nrm(35,"lucide-icon",23),e.EFF(36),e.nI1(37,"mytranslate"),e.k0s()()()()),2&r&&(e.R7$(3),e.SpI(" ",e.bMT(4,20,"lang_auto_dang_nhap_voi_ma_qr_code")," "),e.R7$(3),e.Y8G("ngIf",!s.isLogin),e.R7$(1),e.Y8G("ngIf",s.isLogin),e.R7$(1),e.Y8G("ngIf",!s.isLogin&&s.contentCreateQrcode),e.R7$(1),e.Y8G("ngIf",s.isLogin&&s.contentCreateQrcode&&!s.scanQrContentConfirm),e.R7$(4),e.Y8G("ngClass",e.eq3(30,mc,"create"!==s.modeShowInit)),e.R7$(1),e.Y8G("ngIf",s.scanQrContentConfirm&&s.isLogin),e.R7$(1),e.Y8G("ngIf",!s.scanQrContentConfirm),e.R7$(2),e.Y8G("ngIf",s.contentCreateQrcode&&!s.scanQrContentConfirm),e.R7$(1),e.Y8G("ngIf",!s.scanQrContentConfirm),e.R7$(1),e.Y8G("ngIf",!s.scanQrContentConfirm),e.R7$(1),e.Y8G("ngClass",e.eq3(32,mc,"scan"!==s.modeShowInit)),e.R7$(2),e.SpI(" ",e.bMT(23,22,"lang_auto_di_chuyen_camera_toi_ma_qrcode_dang_nhap_")," "),e.R7$(3),e.JRh(e.bMT(26,24,"lang_auto_huong_dan")),e.R7$(2),e.Y8G("ngClass",e.eq3(34,mc,!1!==s.sussScanNextConf)),e.R7$(3),e.Y8G("ngIf",!0===s.sussScanNextConf&&s.isLogin),e.R7$(1),e.Y8G("ngIf",!0===s.sussScanNextConf&&!s.isLogin),e.R7$(2),e.Y8G("routerLink",e.eq3(36,ol,e.bMT(34,26,s.backToLink))),e.R7$(2),e.Y8G("ngClass",e.lJ4(38,_c)),e.R7$(1),e.SpI(" ",e.bMT(37,28,"lang_auto_quay_lai")," "))},dependencies:[he.Wk,_.YU,_.bT,Or,Ao,de.R,_t.K,pe.WGl,L.F2,L.wp],styles:[".loginscan__card-header[_ngcontent-%COMP%]{padding:15px;text-transform:uppercase;display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-body[_ngcontent-%COMP%]{padding:15px}.loginscan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loginscan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.loginscan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:#2462ae6e;color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.box-create-login-img[_ngcontent-%COMP%]{display:flex;height:100px;background:#f5f5f5;justify-content:center;align-items:center;border:1px solid #e0e0e0;padding:10px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box-create-login-img[_ngcontent-%COMP%]:hover{background:#eceff1}.box-create-login-content[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf[_ngcontent-%COMP%]{width:100%;background:#e0f2f1;padding:10px;display:flex;align-items:center;justify-content:center;height:300px}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]   .boxtext[_ngcontent-%COMP%]{font-size:20px;line-height:30px;margin-bottom:20px}.block-inline-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:14px}.back-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return n})();var xc=y(46247),Ac=y(40949);let Oc=(()=>{class n{constructor(){}isCommonInAppBrowser(){const t=navigator.userAgent?.toLowerCase(),r=["fban","fbav","zalo","twitter","instagram","line","microMessenger","qq","kakaotalk","cordova","phonegap","phone gap","capacitor","electron","react native","flutter","ionic","nw.js","crosswalk","xwalk","nativescript","appgyver","appmobi","sencha","titanium","trigger.io","onsen ui","appcelerator","native app","hybrid app"];for(let s=0;s<r.length;s++)if(-1!==t.indexOf(r[s]))return!0;return!1}getMobileOperatingSystem(){let t=navigator.userAgent||navigator.vendor||window.opera,r="Android";return/android/i.test(t)&&(r="Android"),/iPad|iPhone|iPod/.test(t)&&!window.MSStream&&(r="iOS"),r}getCommonInAppBrowser(){const t=navigator.userAgent;let r="";return t.indexOf("FBAN")>-1||t.indexOf("FBAV")>-1?r="Facebook":t.indexOf("Zalo")>-1?r="Zalo":t.indexOf("Twitter")>-1?r="Twitter":t.indexOf("Instagram")>-1?r="Instagram":t.indexOf("Line")>-1?r="Line":t.indexOf("MicroMessenger")>-1?r="WeChat":t.indexOf("QQ")>-1?r="QQ":t.indexOf("KAKAOTALK")>-1&&(r="KakaoTalk"),r}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function al(n,u){1&n&&(e.j41(0,"div",19)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email_hoac_username")))}function cl(n,u){1&n&&(e.j41(0,"div",20)(1,"div"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function ll(n,u){if(1&n&&(e.j41(0,"div",21),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.SpI(" ",e.bMT(2,1,t.messageError)," ")}}function ul(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",22)(1,"a",23),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.forgotPassword())}),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_quen_mat_khau")))}function dl(n,u){1&n&&e.nrm(0,"azt-loading-ui",24)}function _l(n,u){1&n&&(e.j41(0,"span"),e.EFF(1,"\xa0|\xa0"),e.k0s())}const Pc=function(n){return[n]},ml=function(){return{backTo:"/auth/login"}};function hl(n,u){1&n&&(e.j41(0,"a",36),e.nI1(1,"navigationLocalize"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&n&&(e.Y8G("routerLink",e.eq3(7,Pc,e.bMT(1,3,"/auth/register-for-organization")))("queryParams",e.lJ4(9,ml)),e.R7$(2),e.SpI(" ",e.bMT(3,5,"lang_register_for_business_register_for_business")," "))}const pl=function(n){return{return_url:n,user_click:"true"}},gl=function(){return{"mr-2":!0}};function fl(n,u){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"div",25)(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"a",26),e.nI1(6,"navigationLocalize"),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.DNE(9,_l,2,0,"span",18),e.DNE(10,hl,4,10,"a",27),e.k0s(),e.j41(11,"div",28)(12,"span",29),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s()(),e.j41(15,"div",30)(16,"button",31),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.googleSignIn())})("keydown.enter",function(s){return s.preventDefault()}),e.nrm(17,"azt-svg-icon",32),e.j41(18,"span",33),e.EFF(19,"Google"),e.k0s()(),e.j41(20,"button",34),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.loginByQrCode())})("keydown.enter",function(s){return s.preventDefault()}),e.nrm(21,"lucide-icon",35),e.j41(22,"span",33),e.EFF(23,"Qrcode"),e.k0s()()(),e.bVm()}if(2&n){const t=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,9,"lang_auto_ban_chua_co_tai_khoan")),e.R7$(2),e.Y8G("routerLink",e.eq3(17,Pc,e.bMT(6,11,"/auth/register")))("queryParams",e.eq3(19,pl,t.returnUrl)),e.R7$(2),e.SpI(" ",e.bMT(8,13,"lang_auto_tao_mot_tai_khoan_moi")," "),e.R7$(2),e.Y8G("ngIf",!(null!=t.userObj&&null!=t.userObj.roles&&t.userObj.roles.includes("STUDENT"))),e.R7$(1),e.Y8G("ngIf",!(null!=t.userObj&&null!=t.userObj.roles&&t.userObj.roles.includes("STUDENT"))),e.R7$(3),e.SpI(" ",e.bMT(14,15,"lang_auto_hoac")," "),e.R7$(4),e.Y8G("size",16),e.R7$(4),e.Y8G("ngClass",e.lJ4(21,gl))}}const vl=function(){return{"dark:text-slate-500":!0}};function bl(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",1)(1,"form",2)(2,"h2",3),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",4)(6,"div",5)(7,"input",6),e.bIt("keydown.enter",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.login())}),e.nI1(8,"mytranslate"),e.k0s(),e.DNE(9,al,4,3,"div",7),e.k0s(),e.j41(10,"div",5)(11,"div",8)(12,"input",9),e.bIt("keydown.enter",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.login())}),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"button",10),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.togglePassword())}),e.nrm(15,"lucide-icon",11),e.k0s()(),e.DNE(16,cl,4,3,"div",12),e.k0s()(),e.DNE(17,ll,3,3,"div",13),e.DNE(18,ul,4,3,"div",14),e.j41(19,"div",15)(20,"button",16),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.login())}),e.DNE(21,dl,1,0,"azt-loading-ui",17),e.EFF(22),e.nI1(23,"mytranslate"),e.k0s()(),e.DNE(24,fl,24,22,"ng-container",18),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(1),e.Y8G("formGroup",t.form),e.R7$(2),e.SpI(" ",e.bMT(4,15,"lang_auto_dang_nhap")," "),e.R7$(4),e.FS9("placeholder",e.bMT(8,17,"lang_auto_nhap_sdt_hoac_email_hoac_username")),e.R7$(2),e.Y8G("ngIf",t.form.controls.username.invalid&&(t.form.controls.username.dirty||t.form.controls.username.touched)),e.R7$(3),e.FS9("placeholder",e.bMT(13,19,"lang_auto_mat_khau")),e.Y8G("type",t.showPassword?"text":"password"),e.R7$(3),e.Y8G("name",t.showPassword?"eye":"eye-off")("ngClass",e.lJ4(23,vl)),e.R7$(1),e.Y8G("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.R7$(1),e.Y8G("ngIf",""!=t.messageError),e.R7$(1),e.Y8G("ngIf",!t.isBusinessDomain),e.R7$(2),e.Y8G("disabled",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.R7$(1),e.Y8G("ngIf",t.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(23,21,"lang_auto_dang_nhap")," "),e.R7$(2),e.Y8G("ngIf",!t.isBusinessDomain)}}function yl(n,u){if(1&n&&(e.j41(0,"div",1),e.nrm(1,"azt-loading-effect",37),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("currentStatusObj",t.statusObj)}}let Il=(()=>{class n extends te.H{executeImportantAction(){return new Promise(t=>{this.recaptchaV3Service.execute("importantAction").subscribe(r=>{t(r)})})}forgotPassword(){this.commonService.myNavigation("/auth/confirm_forgot_password")}callLoginApi(t){var r=this.getFormValue(),s={phone:r.username,password:r.password,tokenCaptcha:t,domain:this.commonService.getBusinessDomainUrl()};this.waitDestroy(this.authService.apiAuthLoginWebPost(s).subscribe(d=>{1==d.success?(this.localStorageObject.clearAllCache(),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):(this.messageError=d.message??"",this.errorStatusObj(d.message??""))}))}login(){this.form.valid?(this.initStatusObj(),this.executeImportantAction().then(t=>{this.callLoginApi(t)}).catch(t=>{this.callLoginApi("")})):this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}callLoginAnonymousApi(t){this.waitDestroy(this.authService.apiAuthLoginAnonymousFromWebV2Post({tokenCaptcha:t}).subscribe(s=>{1==s.success?(this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""),this.successStatusObj()):this.errorStatusObj(s.message??"")}))}loginAnonymous(){this.initStatusObj(),this.userService.isAnonymousRoleOfCurrentUser()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.executeImportantAction().then(t=>{this.callLoginAnonymousApi(t)}).catch(t=>{this.callLoginAnonymousApi("")})}loginWithAccessToken(t){var r=this.userService.getUserObjFromJwtToken(t);if(null!=r){if(Ae.c.isProdAzotaVn&&(r.domainName=r.domainName?.replace("tqb.azota.vn","tqb-live.azota.io")),r.domainName&&r.domainName!=this.commonService.getCurrentHostName())return this.sAztRedirectService.redirectLoginWithToken(r.domainName,r.rememberToken??"",this.commonService.getMyQueryParam("return_url")??"");this.userService.saveUserObj(r),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")}else this.errorStatusObj("lang_core_invalid_login_token"),this.loginByToken=!1}googleSignIn(){if(this.browserUserAgentService.isCommonInAppBrowser()){let t=this.browserUserAgentService.getCommonInAppBrowser(),r=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),s="facebook"===t.toLowerCase()?"fb":"zalo",d=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${r}/${r}_${s}_1.png`),S=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${r}/${r}_${s}_2.png`);this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(O=>{let W=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),ie=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.sAztDialogService.open(xc.l,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${O+" "+t}. ${W}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${ie} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${d}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${ie} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${S}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})})}else{const t=`/auth/login?return_url=${encodeURIComponent(this.returnUrl)}`;this.myNavigationWithQueryString("/auth/login-by-openapi",`?backto=${encodeURIComponent(t)}&click_login=1`)}}togglePassword(){this.showPassword=!this.showPassword}loginByQrCode(){this.myNavigation("/auth/login-scan/2")}getFormValue(){return this.form.getRawValue()}ngOnInit(){super.ngOnInit(),this.mobileAccessTkn=this.commonService.getMyQueryParam("access_token")??"",this.returnUrl=this.commonService.getMyQueryParam("return_url")||"";var t=this.commonService.getMyQueryParam("not_register"),r=this.commonService.getMyQueryParam("user_click");if(this.errorLoginGoogle=!!this.commonService.getMyQueryParam("error_login_google"),"1"==this.commonService.getMyQueryParam("isFirstTime")&&this.browserStorageService.saveStorage("isFirstTime","1"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),!t&&this.mobileAccessTkn)this.loginByToken=!0,this.loginWithAccessToken(this.mobileAccessTkn);else{this.initStatusObj();var d=!1;t&&!this.isBusinessDomain?(d=!0,this.commonService.myNavigation("/auth/register")):this.userService.isLoginAndNotAnonymous()?(d=!0,this.redirectByRoleService.redirectLoginByRole(this.returnUrl)):(-1!==this.returnUrl.indexOf("/test/")||-1!==this.returnUrl.indexOf("/de-thi/")||-1!==this.returnUrl.indexOf("/bai-tap/")||-1!==this.returnUrl.indexOf("/on-luyen/"))&&"register"!=this.commonService.getMyQueryParam("from")&&(d=!0,this.userService.isLogin()?this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??""):this.loginAnonymous()),d||(!r&&this.userService.isAnonymousRoleOfCurrentUser()?this.myNavigation("/student/classroom/0"):(this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),this.loginByToken=!1,this.stopStatusObj(),super.ngOnInit()))}this.userObj=this.userService.getUserObj()}constructor(t,r,s,d,S,O,W,ie,Fe,je,ct){super(),this.sAztRedirectService=t,this.userService=r,this.browserStorageService=s,this.localStorageObject=d,this.authService=S,this.redirectByRoleService=O,this.recaptchaV3Service=W,this.cdnService=ie,this.browserUserAgentService=Fe,this.sAztDialogService=je,this.router=ct,this.mobileAccessTkn="",this.returnUrl="",this.loginByToken=!0,this.msgError="",this.messageError="",this.showPassword=!1,this.isLogin=!1,this.isAnonymous=!1,this.errorLoginGoogle=!1,this.form=new v.gE({username:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,X.M.noWhiteSpace]}),fullName:new v.MJ("",{nonNullable:!0}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]})})}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Ve.m),e.rXU(Ue.R),e.rXU(Ht.z),e.rXU(xn.G),e.rXU($.uR),e.rXU(Ct.b),e.rXU(An.ob),e.rXU(Ac.B),e.rXU(Oc),e.rXU(bt.i),e.rXU(he.Ix))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-login"]],features:[e.Vt3],decls:3,vars:2,consts:[["class","azt-login-form",4,"ngIf"],[1,"azt-login-form"],[3,"formGroup"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","username","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","keydown.enter"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"relative"],["formControlName","password","autocapitalize","none",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder","keydown.enter"],["azt-track-service","login-FUkj4WwAKm","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","text-danger text-xs font-medium mt-2 font-medium",4,"ngIf"],["class","text-xs text-danger font-medium mt-2",4,"ngIf"],["class","intro-x flex text-slate-600 dark:text-slate-500 text-xs sm:text-sm mt-4",4,"ngIf"],[1,"intro-x","mt-5","text-center","xl:text-left"],["azt-track-service","login-BLTLj8Z0eo",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["class","mr-1",4,"ngIf"],[4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"text-danger","text-xs","font-medium","mt-2","font-medium"],[1,"text-xs","text-danger","font-medium","mt-2"],[1,"intro-x","flex","text-slate-600","dark:text-slate-500","text-xs","sm:text-sm","mt-4"],["azt-track-service","login-2o1cxeMuZ3",3,"click"],[1,"mr-1"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500","text-center","xl:text-left"],["azt-track-service","login-U8t89LRroO",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["azt-track-service","login-fMer8LWOR","class","pt-3 text-primary clickable",3,"routerLink","queryParams",4,"ngIf"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","login-gFOnxl_H7y",1,"btn","btn-outline-secondary","mx-1",2,"width","calc(100% / 2 - 0.25rem)",3,"click","keydown.enter"],["type","google",1,"mr-2",3,"size"],[1,"text-md"],["azt-track-service","login-mt_RaxI2lp",1,"btn","btn-outline-secondary","ml-1",2,"width","calc(100% / 2 - 0.25rem)",3,"click","keydown.enter"],["name","qr-code","size","16",3,"ngClass"],["azt-track-service","login-fMer8LWOR",1,"pt-3","text-primary","clickable",3,"routerLink","queryParams"],[3,"currentStatusObj"]],template:function(r,s){1&r&&(e.j41(0,"auth-layout"),e.DNE(1,bl,25,24,"div",0),e.DNE(2,yl,2,1,"div",0),e.k0s()),2&r&&(e.R7$(1),e.Y8G("ngIf",!s.loginByToken),e.R7$(1),e.Y8G("ngIf",s.loginByToken))},dependencies:[he.Wk,_.YU,_.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,Le.K,et.t,de.R,sn.m,_t.K,pe.WGl,L.F2,L.wp],encapsulation:2})}return n})(),kl=(()=>{class n extends te.H{ngOnInit(){super.ngOnInit(),this.fireAuth.signOut(),this.userService.logout();var t=this.commonService.getMyQueryParam("return_url")||null;if(t)return this.redirectService.redirectSimpleLoginWithReturnUrl(t);this.redirectService.redirectSimpleLogin()}constructor(t,r,s){super(),this.userService=t,this.fireAuth=r,this.redirectService=s,this.sAztParentUserService=(0,e.WQX)(dt.V)}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Ue.R),e.rXU(tt),e.rXU(Ve.m))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-register"]],features:[e.Vt3],decls:0,vars:0,template:function(r,s){},encapsulation:2})}return n})(),Sl=(()=>{class n extends te.H{ngOnInit(){super.ngOnInit()}constructor(t){super(),this.commonService=t}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(wo.R))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["auth-master-page"]],features:[e.Vt3],decls:2,vars:0,consts:[["id","homework-layout"]],template:function(r,s){1&r&&(e.j41(0,"div",0),e.nrm(1,"router-outlet"),e.k0s())},dependencies:[he.n3],encapsulation:2})}return n})(),Cl=(()=>{class n extends te.H{constructor(t,r,s,d){super(),this.activeRoute=t,this.fireAuth=r,this.authService=s,this.redirectByRoleService=d,this.checkLoadingLogin=!1,this.fireAuth.authState.pipe((0,Kn.$)()).subscribe(S=>{S?this.signInWithTokenGoogle(S):this.googleSignIn()})}signInWithTokenGoogle(t){this.checkLoadingLogin=!0;let r=this.commonService.getMyParam(this.activeRoute,"type"),s=parseInt(r??"0",10);t.getIdToken().then(d=>{let S={isRegisterForm:1,isRegisterForTeacher:s,firebaseToken:d,language:this.commonService.getCurrentLang()};this.waitDestroy(this.authService.apiAuthAuthByFirebasePost(S).subscribe(O=>{if(1==O.success){let ie=this.commonService.getMyQueryParam("return_url")??"";if(""===ie){let Fe=this.commonService.getMyQueryParam("backto")??"";var W=Fe.includes("return_url=")?Fe.split("return_url=")[1]:"";ie=decodeURIComponent(W)}0==Number(r)?this.redirectByRoleService.redirectLoginForStudent(ie):this.redirectByRoleService.redirectLoginByRole(ie),this.successStatusObj(),this.checkLoadingLogin=!1}else{this.errorStatusObj(O.message??"",!0);const ie=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(ie)}}))})}googleSignIn(){this.fireAuth.signInWithRedirect(new Jn.W).then(()=>this.fireAuth.getRedirectResult().then(t=>{})).catch(t=>{const r=this.commonService.getMyQueryParam("backto")??"/auth/login";this.myNavigation(r)})}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(he.nX),e.rXU(tt),e.rXU($.uR),e.rXU(Ct.b))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["register-by-openapi"]],features:[e.Vt3],decls:6,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center",2,"height","100vh"],[1,"w-12","h-12"],[3,"type"],[1,"mt-2","font-medium"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"azt-loading-ui",2),e.k0s(),e.j41(3,"div",3),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&r&&(e.R7$(2),e.Y8G("type","azota-logo"),e.R7$(2),e.SpI(" ",e.bMT(5,2,"lang_auth_registering_in_please_wait")," "))},dependencies:[de.R,L.wp],encapsulation:2})}return n})();function Tl(n,u){1&n&&(e.j41(0,"div",4),e.nrm(1,"azt-loading-ui",5),e.k0s()),2&n&&(e.R7$(1),e.Y8G("size",40))}const Rl=function(){return{"text-white bg-success rounded-full p-1":!0}};function El(n,u){1&n&&(e.j41(0,"div",22),e.nrm(1,"lucide-icon",23),e.k0s()),2&n&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(1,Rl)))}const wl=function(){return{"text-white bg-danger rounded-full p-1":!0}};function xl(n,u){1&n&&(e.j41(0,"div",24),e.nrm(1,"lucide-icon",25),e.k0s()),2&n&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(1,wl)))}const Al=function(n){return[n]},Ol=function(){return{"mr-2":!0}};function Pl(n,u){1&n&&(e.j41(0,"a",26),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",27),e.j41(3,"span"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&n&&(e.Y8G("routerLink",e.eq3(7,Al,e.bMT(1,3,"/auth/login"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(9,Ol)),e.R7$(2),e.JRh(e.bMT(5,5,"lang_powerpoint_frontend_chart_back")))}const Fl=function(){return{"ml-2":!0}};function jl(n,u){if(1&n&&(e.j41(0,"a",28)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"lucide-icon",29),e.k0s()),2&n){const t=e.XpG(2);e.Y8G("href","https://"+t.businessRegister.domain+"/"+t.language+"/auth/login",e.B4B),e.R7$(2),e.JRh(e.bMT(3,3,"lang_azt_login_now")),e.R7$(2),e.Y8G("ngClass",e.lJ4(5,Fl))}}const Ml=function(){return{"mr-2 text-success":!0}};function Nl(n,u){if(1&n&&(e.j41(0,"div",6),e.DNE(1,El,2,2,"div",7),e.DNE(2,xl,2,2,"div",8),e.j41(3,"div",9)(4,"span"),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()(),e.j41(7,"div",10)(8,"div",11),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"div",12)(12,"div",13),e.nrm(13,"lucide-icon",14),e.j41(14,"span"),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()(),e.j41(17,"div",15),e.EFF(18,":"),e.k0s(),e.j41(19,"div",16),e.EFF(20," 0972 112 969 "),e.k0s()(),e.j41(21,"div",17)(22,"div",13),e.nrm(23,"azt-svg-icon",18),e.j41(24,"span"),e.EFF(25),e.nI1(26,"mytranslate"),e.k0s()(),e.j41(27,"div",15),e.EFF(28,":"),e.k0s(),e.j41(29,"div",16),e.EFF(30," 0972 112 969 "),e.k0s()()()(),e.j41(31,"div",19),e.DNE(32,Pl,6,10,"a",20),e.DNE(33,jl,5,6,"a",21),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.businessRegister),e.R7$(1),e.Y8G("ngIf",!t.businessRegister),e.R7$(3),e.JRh(e.bMT(6,10,t.businessRegister?"lang_auto_xac_nhan_thanh_cong":"lang_azt_confirmation_failed")),e.R7$(4),e.SpI(" ",e.bMT(10,12,t.businessRegister?"lang_azt_confirmation_success_desc":"lang_azt_confirmation_failed_desc")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(18,Ml)),e.R7$(2),e.SpI(" ",e.bMT(16,14,"lang_auto_dien_thoai"),""),e.R7$(8),e.Y8G("size",16),e.R7$(2),e.SpI(" ",e.bMT(26,16,"Zalo"),""),e.R7$(7),e.Y8G("ngIf",!t.businessRegister),e.R7$(1),e.Y8G("ngIf",t.businessRegister)}}let Dl=(()=>{class n extends te.H{getRegistersConfirm(t){this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesRegistersConfirmPost({secret:t}).subscribe(r=>{if(!r.success)return this.errorStatusObj(r.message,!0);this.businessRegister=r.data,this.successStatusObj()}))}constructor(t){super(),this.businessPackageService=t,this.secret="",this.language=this.commonService.getCurrentLang()}ngOnInit(){super.ngOnInit(),this.secret=this.getMyQueryParam("secret")??"",this.getRegistersConfirm(this.secret)}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(ir.WC))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["register-confirm"]],features:[e.Vt3],decls:5,vars:4,consts:[[3,"maxWidth","contentBoxClass"],[1,"box","text-center",2,"min-height","300px"],["class","h-full flex items-center justify-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"h-full","flex","items-center","justify-center"],[3,"size"],[1,"p-4"],["class","rounded-full shadow-md inline-block p-3 bg-success/20",4,"ngIf"],["class","rounded-full shadow-md inline-block p-3 bg-danger/20",4,"ngIf"],[1,"mt-3","text-lg","font-bold"],[1,"mt-3","mx-auto",2,"max-width","400px"],[1,"text-slate-500"],[1,"mt-2","flex","items-center","font-medium","justify-center"],[1,"flex","items-center","text-xs",2,"width","90px"],["name","phone","size","16",3,"ngClass"],[1,"mx-1"],[1,"ml-0"],[1,"mt-3","flex","items-center","font-medium","justify-center"],["type","zalo",1,"mr-2",3,"size"],[1,"mt-3","border-t","border-slate-200","dark:border-darkmode-400","p-3"],["class","btn btn-primary w-full",3,"routerLink",4,"ngIf"],["class","btn btn-primary w-full",3,"href",4,"ngIf"],[1,"rounded-full","shadow-md","inline-block","p-3","bg-success/20"],["name","check","size","20",3,"ngClass"],[1,"rounded-full","shadow-md","inline-block","p-3","bg-danger/20"],["name","x",3,"ngClass"],[1,"btn","btn-primary","w-full",3,"routerLink"],["name","chevron-left","size","16",3,"ngClass"],[1,"btn","btn-primary","w-full",3,"href"],["name","chevron-right","size","16",3,"ngClass"]],template:function(r,s){if(1&r&&(e.j41(0,"auth-layout",0)(1,"div",1),e.DNE(2,Tl,2,1,"div",2),e.DNE(3,Nl,34,19,"ng-template",null,3,e.C5r),e.k0s()()),2&r){const d=e.sdS(4);e.Y8G("maxWidth","500px")("contentBoxClass","mt-10"),e.R7$(2),e.Y8G("ngIf",s.statusObj.loading)("ngIfElse",d)}},dependencies:[he.Wk,_.YU,_.bT,de.R,sn.m,_t.K,pe.WGl,L.F2,L.wp],encapsulation:2})}return n})();class Fc{static isInvalidPhone(u){let r=u.value?.trim()??"";return r&&(isNaN(Number(r))||10!=r.length)?{isInvalidPhone:!0}:null}}const jc=function(n){return[n]};function Ll(n,u){if(1&n&&(e.j41(0,"div"),e.nrm(1,"div",9),e.nI1(2,"mytranslate"),e.j41(3,"a",10),e.nI1(4,"navigationLocalize"),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("innerHTML",e.bMT(2,3,"lang_register_for_business_success"),e.npT),e.R7$(2),e.Y8G("routerLink",e.eq3(9,jc,e.bMT(4,5,t.backTo))),e.R7$(2),e.JRh(e.bMT(6,7,"lang_register_for_business_back_to"))}}function Gl(n,u){if(1&n&&e.nrm(0,"azt-loading-effect",14),2&n){const t=e.XpG(2);e.Y8G("currentStatusObj",t.statusObj)}}function $l(n,u){1&n&&(e.j41(0,"div",38)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_register_for_business_please_enter_full_name")))}function zl(n,u){1&n&&(e.j41(0,"div",38)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")))}function Ul(n,u){1&n&&(e.j41(0,"div",38)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_dung_dinh_dang_email")))}function Bl(n,u){1&n&&(e.j41(0,"div",38)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_register_for_business_please_enter_business_name")))}function Vl(n,u){if(1&n&&(e.j41(0,"mat-option",39),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function Yl(n,u){1&n&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_register_for_business_please_select_province"),". "))}function Wl(n,u){if(1&n&&(e.j41(0,"mat-option",39),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function ql(n,u){1&n&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_register_for_business_please_select_district"),". "))}function Ql(n,u){if(1&n&&(e.qex(0),e.j41(1,"mat-form-field",28)(2,"mat-select",41),e.nI1(3,"mytranslate"),e.DNE(4,Wl,2,2,"mat-option",30),e.k0s()(),e.DNE(5,ql,3,3,"div",31),e.bVm()),2&n){const t=e.XpG(3);e.R7$(2),e.FS9("placeholder",e.bMT(3,3,"lang_register_for_business_select_district")),e.R7$(2),e.Y8G("ngForOf",t.districtObjs),e.R7$(1),e.Y8G("ngIf",t.form.controls.districtId.invalid&&(t.form.controls.districtId.dirty||t.form.controls.districtId.touched))}}function Xl(n,u){1&n&&(e.j41(0,"span",42),e.nrm(1,"azt-loading-ui"),e.k0s())}function Hl(n,u){1&n&&e.nrm(0,"azt-loading-ui",43)}const Jl=function(n){return{waiting:n}};function Kl(n,u){if(1&n){const t=e.RV6();e.j41(0,"form",15)(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19),e.nrm(5,"input",20),e.nI1(6,"mytranslate"),e.DNE(7,$l,4,3,"div",21),e.k0s(),e.j41(8,"div",19),e.nrm(9,"input",22),e.nI1(10,"mytranslate"),e.DNE(11,zl,4,3,"div",21),e.k0s(),e.j41(12,"div",19),e.nrm(13,"input",23),e.nI1(14,"mytranslate"),e.DNE(15,Ul,4,3,"div",21),e.k0s(),e.j41(16,"div",19),e.nrm(17,"input",24),e.nI1(18,"mytranslate"),e.DNE(19,Bl,4,3,"div",21),e.k0s(),e.j41(20,"div",19),e.nrm(21,"textarea",25),e.nI1(22,"mytranslate"),e.k0s(),e.j41(23,"div",26)(24,"div",27)(25,"div",19)(26,"mat-form-field",28)(27,"mat-select",29),e.bIt("selectionChange",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.selectProvinceObj(s.form.controls.provinceId.value))}),e.nI1(28,"mytranslate"),e.DNE(29,Vl,2,2,"mat-option",30),e.k0s()(),e.DNE(30,Yl,3,3,"div",31),e.k0s()(),e.j41(31,"div",27)(32,"div",19),e.DNE(33,Ql,6,5,"ng-container",7),e.DNE(34,Xl,2,0,"ng-template",null,32,e.C5r),e.k0s()()()()()(),e.j41(36,"div",33)(37,"div",34)(38,"a",35),e.nI1(39,"navigationLocalize"),e.EFF(40),e.nI1(41,"mytranslate"),e.k0s()(),e.j41(42,"button",36),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.registerForBusiness())}),e.DNE(43,Hl,1,0,"azt-loading-ui",37),e.EFF(44),e.nI1(45,"mytranslate"),e.k0s()()()}if(2&n){const t=e.sdS(35),r=e.XpG(2);e.Y8G("formGroup",r.form),e.R7$(5),e.FS9("placeholder",e.bMT(6,21,"lang_register_for_business_full_name")),e.R7$(2),e.Y8G("ngIf",r.form.controls.fullName.errors&&(r.form.controls.fullName.dirty||r.form.controls.fullName.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(10,23,"lang_register_for_business_phone")),e.R7$(2),e.Y8G("ngIf",r.form.controls.phone.errors&&(r.form.controls.phone.dirty||r.form.controls.phone.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(14,25,"lang_register_for_business_email")),e.R7$(2),e.Y8G("ngIf",r.form.controls.email.errors&&(r.form.controls.email.dirty||r.form.controls.email.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(18,27,"lang_register_for_business_business_name")),e.R7$(2),e.Y8G("ngIf",r.form.controls.businessName.errors&&(r.form.controls.businessName.dirty||r.form.controls.businessName.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(22,29,"lang_register_for_business_note")),e.R7$(6),e.FS9("placeholder",e.bMT(28,31,"lang_register_for_business_select_province")),e.R7$(2),e.Y8G("ngForOf",r.provinceObjs),e.R7$(1),e.Y8G("ngIf",r.form.controls.provinceId.invalid&&(r.form.controls.provinceId.dirty||r.form.controls.provinceId.touched)),e.R7$(3),e.Y8G("ngIf",!r.isLoadingDistrictData)("ngIfElse",t),e.R7$(5),e.Y8G("routerLink",e.eq3(39,jc,e.bMT(39,33,r.backTo))),e.R7$(2),e.JRh(e.bMT(41,35,"lang_register_for_business_back_to")),e.R7$(2),e.Y8G("ngClass",e.eq3(41,Jl,r.statusObj.loading))("disabled",r.form.invalid),e.R7$(1),e.Y8G("ngIf",r.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(45,37,"lang_register_for_business_register")," ")}}function Zl(n,u){if(1&n&&(e.j41(0,"div",11),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s(),e.j41(3,"div"),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.DNE(6,Gl,1,1,"azt-loading-effect",12),e.DNE(7,Kl,46,43,"ng-template",null,13,e.C5r)),2&n){const t=e.sdS(8),r=e.XpG();e.R7$(1),e.JRh(e.bMT(2,4,"lang_register_for_business_contact_info")),e.R7$(3),e.JRh(e.bMT(5,6,"lang_register_for_business_detail_contact_info")),e.R7$(2),e.Y8G("ngIf",r.statusObj.loading)("ngIfElse",t)}}let eu=(()=>{class n extends te.H{selectProvinceObj(t){this.isLoadingDistrictData=!0,this.waitDestroy(this.commonListService.apiCommonListDistrictsByProvinceIdGet(t).subscribe(r=>{r.success?(this.districtObjs=r.data?.objs??[],this.form.controls.districtId.setValue(0)):this.errorStatusObj(r.message,!0),this.isLoadingDistrictData=!1}))}initData(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListProvincesGet().subscribe(t=>{t.success?(this.provinceObjs=t.data?.objs??[],this.districtObjs=[],this.stopStatusObj()):this.errorStatusObj(t.message,!0)}))}registerForBusiness(){var t={fullName:this.form.controls.fullName.value,phone:this.form.controls.phone.value,email:this.form.controls.email.value,businessName:this.form.controls.businessName.value,note:this.form.controls.note.value,provinceId:this.form.controls.provinceId.value,districtId:this.form.controls.districtId.value};this.registerSuccessfully=!1,this.initStatusObj(),this.waitDestroy(this.registerForBusinessService.apiRegisterForBusinessRegisterPost(t).subscribe(r=>{1==r.success?(this.successStatusObj(),this.registerSuccessfully=!0):this.errorStatusObj(r.message??"")}))}ngOnInit(){super.ngOnInit(),this.initData();let t=this.commonService.getMyQueryParam("backTo")??"";this.backTo=t||"/auth/register"}constructor(t,r){super(),this.commonListService=t,this.registerForBusinessService=r,this.backTo="",this.isLoadingDistrictData=!1,this.registerSuccessfully=!1,this.provinceObjs=[],this.districtObjs=[],this.form=new v.gE({fullName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,X.M.noWhiteSpace]}),phone:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,Fc.isInvalidPhone]}),email:new v.MJ("",{nonNullable:!0,validators:[Kt.U.isInvalidEmail]}),businessName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),provinceId:new v.MJ(0,{nonNullable:!0,validators:[v.k0.required,v.k0.min(1)]}),districtId:new v.MJ(0,{nonNullable:!0,validators:[v.k0.required,v.k0.min(1)]}),note:new v.MJ("",{nonNullable:!0})})}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Oe.Nz),e.rXU($.eM))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-register-for-business"]],features:[e.Vt3],decls:14,vars:10,consts:[[3,"maxWidth","contentBoxClass"],[1,"grid","grid-cols-12"],[1,"col-span-12","sm:col-span-12","lg:col-span-6"],[1,"left_box","text-white","p-5","text-slate-600","box"],[1,"text-lg","pb-5"],[3,"innerHTML"],[1,"p-5","text-slate-600","dark:text-slate-500"],[4,"ngIf","ngIfElse"],["registerForm",""],[1,"pb-5","text-lg","text-success",3,"innerHTML"],[1,"pt-3","text-primary","clickable","dark:text-slate-200",3,"routerLink"],[1,"text-lg","mb-2"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"formGroup"],[1,"intro-x","mt-4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"azt-form-group"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","formControlName","phone",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["type","text","formControlName","email",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["type","text","formControlName","businessName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["type","text","formControlName","note",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",2,"min-height","150px",3,"placeholder"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["appearance","fill",1,"box","mt-4",2,"width","100%"],["formControlName","provinceId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],["isLoadingDistrict",""],[1,"flex","mt-4"],[1,"mr-auto","flex","items-center","text-primary","clickable","dark:text-slate-200"],[3,"routerLink"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-info","align-top",3,"ngClass","disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],[3,"value"],[1,"alert","alert-danger"],["formControlName","districtId",3,"placeholder"],[1,"w-8","h-8","inline-block","mt-4"],[1,"mr-1"]],template:function(r,s){if(1&r&&(e.j41(0,"auth-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.nrm(7,"div",5),e.nI1(8,"mytranslate"),e.k0s()(),e.j41(9,"div",2)(10,"div",6),e.DNE(11,Ll,7,11,"div",7),e.DNE(12,Zl,9,8,"ng-template",null,8,e.C5r),e.k0s()()()()),2&r){const d=e.sdS(13);e.Y8G("maxWidth","1000px")("contentBoxClass",""),e.R7$(5),e.JRh(e.bMT(6,6,"lang_register_for_business_free_to_register")),e.R7$(2),e.Y8G("innerHTML",e.bMT(8,8,"lang_register_for_business_all_feature"),e.npT),e.R7$(4),e.Y8G("ngIf",s.registerSuccessfully)("ngIfElse",d)}},dependencies:[he.Wk,_.YU,_.Sq,_.bT,v.qT,v.me,v.BC,v.cb,f.wT,m.rl,ue.VO,v.j4,v.JD,Le.K,et.t,de.R,_t.K,L.F2,L.wp],styles:[".left_box[_ngcontent-%COMP%]{background-color:#3c8dbc;border-radius:.375rem 0 0 .375rem;height:100%}@media (max-width: 576px){.left_box[_ngcontent-%COMP%]{border-radius:.375rem .375rem 0 0;height:auto}}"]})}return n})();var tu=y(17178),nu=y(48188),iu=y(9002);function ru(n,u){1&n&&(e.j41(0,"div",54)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function ou(n,u){1&n&&(e.j41(0,"div",54)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu")))}function su(n,u){1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_vui_long_nhap_email")))}function au(n,u){1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_vui_long_nhap_dung_dinh_dang_email")))}function cu(n,u){if(1&n&&(e.j41(0,"div",54),e.DNE(1,su,3,3,"span",55),e.DNE(2,au,3,3,"span",55),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",null==t.form.controls.email.errors?null:t.form.controls.email.errors.required),e.R7$(1),e.Y8G("ngIf",null==t.form.controls.email.errors?null:t.form.controls.email.errors.isInvalidEmail)}}function lu(n,u){1&n&&(e.j41(0,"div",54)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_register_for_business_please_enter_business_name")))}function uu(n,u){if(1&n&&(e.j41(0,"mat-option",56),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function du(n,u){1&n&&(e.j41(0,"div",54),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_register_for_business_please_select_province"),". "))}function _u(n,u){if(1&n&&(e.j41(0,"mat-option",56),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",t.name," ")}}function mu(n,u){1&n&&(e.j41(0,"div",54),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_register_for_business_please_select_district"),". "))}function hu(n,u){if(1&n&&(e.qex(0)(1),e.j41(2,"mat-form-field",33)(3,"mat-select",57),e.nI1(4,"mytranslate"),e.DNE(5,_u,2,2,"mat-option",35),e.k0s()(),e.DNE(6,mu,3,3,"div",28),e.bVm()()),2&n){const t=e.XpG();e.R7$(3),e.FS9("placeholder",e.bMT(4,3,"lang_register_for_business_select_district")),e.R7$(2),e.Y8G("ngForOf",t.districtObjs),e.R7$(1),e.Y8G("ngIf",t.districtObjs.length>0&&t.form.controls.districtId.invalid&&(t.form.controls.districtId.dirty||t.form.controls.districtId.touched))}}function pu(n,u){1&n&&(e.j41(0,"span",58),e.nrm(1,"azt-loading-ui"),e.k0s())}function gu(n,u){1&n&&(e.j41(0,"div",54)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_register_for_business_please_enter_business_name")))}function fu(n,u){if(1&n&&(e.j41(0,"mat-option",56),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const t=u.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",e.bMT(2,2,t.name)," ")}}function vu(n,u){1&n&&(e.j41(0,"div",54),e.EFF(1),e.nI1(2,"mytranslate"),e.nI1(3,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auth_please_select")+" "+e.bMT(3,3,"lang_auth_school_organization_type"),". "))}function bu(n,u){if(1&n&&(e.j41(0,"mat-option",56),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const t=u.$implicit;e.Y8G("value",t.id),e.R7$(1),e.SpI(" ",e.bMT(2,2,t.name)," ")}}function yu(n,u){1&n&&(e.j41(0,"div",54),e.EFF(1),e.nI1(2,"mytranslate"),e.nI1(3,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auth_please_select")+" "+e.bMT(3,3,"lang_auth_scale_of_organization_environment"),". "))}function Iu(n,u){1&n&&e.nrm(0,"azt-loading-ui",59)}const Fn=function(){return{"mr-2":!0}},ku=function(n){return{waiting:n}},Su=function(n){return[n]};let Cu=(()=>{class n extends te.H{selectProvinceObj(t){this.isLoadingDistrictData=!0,this.waitDestroy(this.commonListService.apiCommonListDistrictsByProvinceIdGet(t).subscribe(r=>{r.success?(this.districtObjs=r.data?.objs??[],this.form.controls.districtId.setValue(0)):this.errorStatusObj(r.message,!0),this.isLoadingDistrictData=!1}))}togglePassword(){this.showPassword=!this.showPassword}registerForBusiness(){if(this.form.invalid)return this.form.markAllAsTouched(),this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin");const t={fullName:this.form.controls.fullName.value,phone:this.form.controls.phone.value,email:this.form.controls.email.value,businessName:this.form.controls.businessName.value,provinceId:this.form.controls.provinceId.value,districtId:this.form.controls.districtId.value,businessTypeId:this.form.controls.businessTypeId.value,businessWebUrl:this.form.controls.businessWebUrl.value,businessScaleId:this.form.controls.businessScaleId.value,adminPassword:"",domain:""};this.initStatusObj(),this.waitDestroy(this.businessPackageService.apiPackagesRegistersPost(t).subscribe(r=>{1==r.success?(this.successStatusObj(),this.myNavigation("/auth/thank-for-business")):this.errorStatusObj(r.message??"",!0)}))}toggleDrawer(){this.chatBoxDrawer.toggle(),this.chatBoxDrawer.drawerType=this.drawerType.guide,this.browserStorageService.saveSimpleSessionStorage("azota_ai_chat_box",this.commonService.serializeJson({isOpen:this.chatBoxDrawer.isOpened()}))}callMultipleApi(){const t=this.commonListService.apiCommonListBusinessTypesGet(),r=this.commonListService.apiCommonListBusinessScalesGet(),s=this.commonListService.apiCommonListProvincesGet();return(0,ut.z)([t,r,s]).pipe((0,Lr.T)(([d,S,O])=>({resType:d,resScale:S,resProvince:O})),(0,tu.W)(d=>{throw d}))}initData(){this.initStatusObj(),this.waitDestroy(this.callMultipleApi().subscribe({next:t=>{this.provinceObjs=t.resProvince.data?.objs??[],this.businessTypeList=t.resType.data?.objs??[],this.businessScaleList=t.resScale.data?.objs??[],this.stopStatusObj()},error:t=>{this.errorStatusObj(t.error.message,!0)}}))}callApiCheckDomainExist(t){return new Dr.c(r=>{this.waitDestroy(this.businessPackageService.apiPackagesDomainExistGet(t).subscribe(s=>{r.next(s)}))})}ngOnInit(){super.ngOnInit(),this.initData();let t=this.commonService.getMyQueryParam("backTo")??"";this.backTo=t||"/auth/register"}constructor(t,r,s,d){super(),this.commonListService=t,this.businessPackageService=r,this.browserStorageService=s,this.chatBoxDrawer=d,this.backTo="",this.isLoadingDistrictData=!1,this.provinceObjs=[],this.districtObjs=[],this.businessScaleList=[],this.businessTypeList=[],this.azotaDomain=Ae.c.businessDomain,this.showPassword=!1,this.isLoadingCheckDomain=!1,this.drawerType=nu.I,this.form=new v.gE({fullName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,X.M.noWhiteSpace]}),phone:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,Fc.isInvalidPhone]}),email:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,Kt.U.isInvalidEmail]}),businessName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),provinceId:new v.MJ(0,{nonNullable:!0,validators:[v.k0.required,v.k0.min(1)]}),districtId:new v.MJ(0,{nonNullable:!0,validators:[v.k0.required,v.k0.min(1)]}),businessTypeId:new v.MJ(0,{nonNullable:!0,validators:[v.k0.required,v.k0.min(1)]}),businessWebUrl:new v.MJ("",{nonNullable:!0}),businessScaleId:new v.MJ(0,{nonNullable:!0,validators:[v.k0.required,v.k0.min(1)]})})}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Oe.Nz),e.rXU(ir.WC),e.rXU(Ht.z),e.rXU(iu.o))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-register-for-business"]],features:[e.Vt3],decls:128,vars:117,consts:[[3,"maxWidth","contentBoxClass"],[3,"formGroup"],["id","register-for-business",1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-6","p-1"],[1,"box","intro-x","bg-gradient-primary","border-r","border-slate-200","dark:border-darkmode-400","h-full"],[1,"flex","flex-col","p-4","h-full","justify-between"],[1,"text-white"],[1,"text-xl","font-semibold"],[1,"mt-4","text-base","font-medium"],[1,"flex","items-center","mt-4"],[1,"flex-none"],["name","layers","size","18",3,"ngClass"],[1,"flex","items-center","mt-3"],["name","database","size","18",3,"ngClass"],["name","book","size","18",3,"ngClass"],["name","webcam","size","18",3,"ngClass"],["name","bar-chart-3","size","18",3,"ngClass"],[1,"text-center"],["alt","bg",3,"src"],[1,"col-span-12","md:col-span-6"],[1,"p-4"],[1,"text-xl","font-semibold","mb-2"],[1,"intro-x","mt-4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"grid","grid-cols-12","gap-4","mt-4"],[1,"azt-form-group"],["type","text","formControlName","fullName","name","fullName","id","fullName",1,"intro-x","login__input","form-control","block",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","formControlName","phone","name","phone","id","phone",1,"intro-x","login__input","form-control","block",3,"placeholder"],[1,"azt-form-group","mt-4"],["type","text","formControlName","email","name","email","id","email",1,"intro-x","login__input","form-control","block",3,"placeholder"],["type","text","formControlName","businessName","name","businessName","id","businessName",1,"intro-x","login__input","form-control","block",3,"placeholder"],["appearance","outline",2,"width","100%"],["formControlName","provinceId","name","provinceId","id","provinceId",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["isLoadingDistrict",""],["type","text","formControlName","businessWebUrl","name","businessWebUrl","id","businessWebUrl",1,"intro-x","login__input","form-control","block",3,"placeholder"],["formControlName","businessTypeId","name","businessTypeId","id","businessTypeId",3,"placeholder"],["formControlName","businessScaleId","name","businessScaleId","id","businessScaleId",3,"placeholder"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],[1,"cursor-pointer","select-none"],["azt-track-service","register-gRvQ2yXGF","href","/privacy/business-terms-of-use.html","target","_blank",1,"text-primary","dark:text-slate-200"],["azt-track-service","register-Q76IttHYbI","href","/privacy/business-privacy.html","target","_blank",1,"text-primary","dark:text-slate-200"],[1,"flex","mt-5"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-primary","align-top","w-full",3,"ngClass","click"],["class","mr-1",4,"ngIf"],[1,"mt-5"],[1,"font-medium","btn-text-primary",3,"routerLink"],["name","chevron-left","size","18",3,"ngClass"],[1,"relative","md:fixed","bottom-0","left-0","p-5"],[1,"btn","btn-primary-soft",3,"click"],["name","circle-help","size","16",3,"ngClass"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[3,"value"],["formControlName","districtId","name","districtId","id","districtId",3,"placeholder"],[1,"w-8","h-8","inline-block"],[1,"mr-1"]],template:function(r,s){if(1&r&&(e.j41(0,"auth-layout",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"div",8),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s(),e.j41(13,"div",9)(14,"div",10),e.nrm(15,"lucide-icon",11),e.k0s(),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s(),e.j41(18,"div",12)(19,"div",10),e.nrm(20,"lucide-icon",13),e.k0s(),e.EFF(21),e.nI1(22,"mytranslate"),e.k0s(),e.j41(23,"div",12)(24,"div",10),e.nrm(25,"lucide-icon",14),e.k0s(),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s(),e.j41(28,"div",12)(29,"div",10),e.nrm(30,"lucide-icon",15),e.k0s(),e.EFF(31),e.nI1(32,"mytranslate"),e.k0s(),e.j41(33,"div",12)(34,"div",10),e.nrm(35,"lucide-icon",16),e.k0s(),e.EFF(36),e.nI1(37,"mytranslate"),e.k0s()(),e.j41(38,"div",17),e.nrm(39,"img",18),e.nI1(40,"convertCdnLinkOfGitHub"),e.k0s()()()(),e.j41(41,"div",19)(42,"div",20)(43,"div",21),e.EFF(44),e.nI1(45,"mytranslate"),e.k0s(),e.j41(46,"div",22)(47,"div",23)(48,"div",24)(49,"div",25)(50,"div",19)(51,"div",26),e.nrm(52,"input",27),e.nI1(53,"mytranslate"),e.DNE(54,ru,4,3,"div",28),e.k0s()(),e.j41(55,"div",19)(56,"div",26),e.nrm(57,"input",29),e.nI1(58,"mytranslate"),e.DNE(59,ou,4,3,"div",28),e.k0s()()(),e.j41(60,"div",30),e.nrm(61,"input",31),e.nI1(62,"mytranslate"),e.DNE(63,cu,3,2,"div",28),e.k0s(),e.j41(64,"div",30),e.nrm(65,"input",32),e.nI1(66,"mytranslate"),e.DNE(67,lu,4,3,"div",28),e.k0s(),e.j41(68,"div",25)(69,"div",19)(70,"div",26)(71,"mat-form-field",33)(72,"mat-select",34),e.bIt("selectionChange",function(){return s.selectProvinceObj(s.form.controls.provinceId.value)}),e.nI1(73,"mytranslate"),e.DNE(74,uu,2,2,"mat-option",35),e.k0s()(),e.DNE(75,du,3,3,"div",28),e.k0s()(),e.j41(76,"div",19)(77,"div",26),e.DNE(78,hu,7,5,"ng-container",36),e.DNE(79,pu,2,0,"ng-template",null,37,e.C5r),e.k0s()()(),e.j41(81,"div",30),e.nrm(82,"input",38),e.nI1(83,"mytranslate"),e.DNE(84,gu,4,3,"div",28),e.k0s(),e.j41(85,"div",30)(86,"mat-form-field",33)(87,"mat-select",39),e.nI1(88,"mytranslate"),e.DNE(89,fu,3,4,"mat-option",35),e.k0s()(),e.DNE(90,vu,4,5,"div",28),e.k0s(),e.j41(91,"div",30)(92,"mat-form-field",33)(93,"mat-select",40),e.nI1(94,"mytranslate"),e.DNE(95,bu,3,4,"mat-option",35),e.k0s()(),e.DNE(96,yu,4,5,"div",28),e.k0s(),e.j41(97,"div",41)(98,"p",42),e.EFF(99),e.nI1(100,"mytranslate"),e.nI1(101,"mytranslate"),e.nI1(102,"mytranslate"),e.j41(103,"a",43),e.EFF(104),e.nI1(105,"mytranslate"),e.k0s(),e.EFF(106),e.nI1(107,"mytranslate"),e.j41(108,"a",44),e.EFF(109),e.nI1(110,"mytranslate"),e.k0s()()(),e.j41(111,"div",45)(112,"button",46),e.bIt("click",function(){return s.registerForBusiness()}),e.DNE(113,Iu,1,0,"azt-loading-ui",47),e.EFF(114),e.nI1(115,"mytranslate"),e.k0s()(),e.j41(116,"div",48)(117,"a",49),e.nI1(118,"navigationLocalize"),e.nrm(119,"lucide-icon",50),e.EFF(120),e.nI1(121,"mytranslate"),e.k0s()()()()()()()()(),e.j41(122,"div",51)(123,"button",52),e.bIt("click",function(){return s.toggleDrawer()}),e.nrm(124,"lucide-icon",53),e.j41(125,"span"),e.EFF(126),e.nI1(127,"mytranslate"),e.k0s()()()()),2&r){const d=e.sdS(80);e.Y8G("maxWidth","1050px")("contentBoxClass","margin-top--50"),e.R7$(1),e.Y8G("formGroup",s.form),e.R7$(7),e.SpI(" ",e.bMT(9,52,"lang_azt_feature_introduction")," "),e.R7$(3),e.SpI(" ",e.bMT(12,54,"lang_auth_register_business_desc_one")+": "," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(106,Fn)),e.R7$(1),e.SpI(" ",e.bMT(17,56,"lang_auth_register_business_desc_two")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(107,Fn)),e.R7$(1),e.SpI(" ",e.bMT(22,58,"lang_auth_register_business_desc_three")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(108,Fn)),e.R7$(1),e.SpI(" ",e.bMT(27,60,"lang_auth_register_business_desc_four")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(109,Fn)),e.R7$(1),e.SpI(" ",e.bMT(32,62,"lang_auth_register_business_desc_five")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(110,Fn)),e.R7$(1),e.SpI(" ",e.bMT(37,64,"lang_auth_register_business_desc_six")," "),e.R7$(3),e.Y8G("src",e.bMT(40,66,"images/illustration.svg"),e.B4B),e.R7$(5),e.JRh(e.bMT(45,68,"lang_azt_experience_registration")),e.R7$(8),e.FS9("placeholder",e.bMT(53,70,"lang_first_and_last_name")),e.R7$(2),e.Y8G("ngIf",s.form.controls.fullName.errors&&(s.form.controls.fullName.dirty||s.form.controls.fullName.touched)),e.R7$(3),e.FS9("placeholder",e.bMT(58,72,"lang_number_phone")),e.R7$(2),e.Y8G("ngIf",s.form.controls.phone.errors&&(s.form.controls.phone.dirty||s.form.controls.phone.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(62,74,"lang_azt_email_address")),e.R7$(2),e.Y8G("ngIf",s.form.controls.email.errors&&(s.form.controls.email.dirty||s.form.controls.email.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(66,76,"lang_register_for_business_business_name")),e.R7$(2),e.Y8G("ngIf",s.form.controls.businessName.errors&&(s.form.controls.businessName.dirty||s.form.controls.businessName.touched)),e.R7$(5),e.FS9("placeholder",e.bMT(73,78,"lang_register_for_business_select_province")),e.R7$(2),e.Y8G("ngForOf",s.provinceObjs),e.R7$(1),e.Y8G("ngIf",s.form.controls.provinceId.invalid&&(s.form.controls.provinceId.dirty||s.form.controls.provinceId.touched)),e.R7$(3),e.Y8G("ngIf",!s.isLoadingDistrictData)("ngIfElse",d),e.R7$(4),e.FS9("placeholder",e.bMT(83,80,"lang_auth_school_organization_website")),e.R7$(2),e.Y8G("ngIf",s.form.controls.businessWebUrl.errors&&(s.form.controls.businessWebUrl.dirty||s.form.controls.businessWebUrl.touched)),e.R7$(3),e.FS9("placeholder",e.bMT(88,82,"lang_auth_school_organization_type")),e.R7$(2),e.Y8G("ngForOf",s.businessTypeList),e.R7$(1),e.Y8G("ngIf",s.form.controls.businessTypeId.invalid&&(s.form.controls.businessTypeId.dirty||s.form.controls.businessTypeId.touched)),e.R7$(3),e.FS9("placeholder",e.bMT(94,84,"lang_auth_scale_of_organization_environment")),e.R7$(2),e.Y8G("ngForOf",s.businessScaleList),e.R7$(1),e.Y8G("ngIf",s.form.controls.businessScaleId.invalid&&(s.form.controls.businessScaleId.dirty||s.form.controls.businessScaleId.touched)),e.R7$(3),e.E5c(" ",e.bMT(100,86,"lang_auto_bang_cach_an_vao_nut"),' "',e.bMT(101,88,"lang_azt_send_experience_request_and_feature_introduction"),'" ',e.bMT(102,90,"lang_auto__toi_dong_y_voi")," "),e.R7$(5),e.JRh(e.bMT(105,92,"lang_auto_dieu_khoan_su_dung")),e.R7$(2),e.SpI(" ",e.bMT(107,94,"lang_auto_va")," "),e.R7$(3),e.JRh(e.bMT(110,96,"lang_auto_chinh_sach_bao_mat_cua_azota")),e.R7$(3),e.Y8G("ngClass",e.eq3(111,ku,s.statusObj.loading)),e.R7$(1),e.Y8G("ngIf",s.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(115,98,"lang_azt_send_experience_request_and_feature_introduction")," "),e.R7$(3),e.Y8G("routerLink",e.eq3(113,Su,e.bMT(118,100,s.backTo))),e.R7$(2),e.Y8G("ngClass",e.lJ4(115,Fn)),e.R7$(1),e.SpI(" ",e.bMT(121,102,"lang_register_for_business_back_to")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(116,Fn)),e.R7$(2),e.JRh(e.bMT(127,104,"lang_testbank_test_dashboard_support"))}},dependencies:[he.Wk,_.YU,_.Sq,_.bT,v.qT,v.me,v.BC,v.cb,f.wT,m.rl,ue.VO,v.j4,v.JD,et.t,de.R,_t.K,pe.WGl,L.F2,L.wp,L.gt],encapsulation:2})}return n})();const Uo=function(n){return[n]},Tu=function(){return{backTo:"/auth/register"}};function Ru(n,u){1&n&&(e.j41(0,"div",47)(1,"a",48),e.nI1(2,"navigationLocalize"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&n&&(e.R7$(1),e.Y8G("routerLink",e.eq3(7,Uo,e.bMT(2,3,"/auth/register-for-organization")))("queryParams",e.lJ4(9,Tu)),e.R7$(2),e.SpI(" ",e.bMT(4,5,"lang_register_for_business_register_for_business")," "))}function Eu(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",39)(1,"div",40)(2,"div",41),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.changeRegisterType(0))}),e.nrm(3,"lucide-icon",42),e.j41(4,"p",43),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s()()(),e.j41(7,"div",40)(8,"div",44),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.changeRegisterType(1))}),e.nrm(9,"azt-svg-icon",45),e.j41(10,"p",43),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s()()(),e.DNE(13,Ru,5,10,"div",46),e.k0s()}if(2&n){const t=e.XpG();e.R7$(3),e.Y8G("size",128),e.R7$(2),e.JRh(e.bMT(6,5,"lang_auto_toi_la_hoc_sinh")),e.R7$(4),e.Y8G("size",128),e.R7$(2),e.JRh(e.bMT(12,7,"lang_auto_toi_la_giao_vien")),e.R7$(2),e.Y8G("ngIf",!(null!=t.userObj&&null!=t.userObj.roles&&t.userObj.roles.includes("STUDENT")))}}function wu(n,u){1&n&&(e.j41(0,"div",49)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function xu(n,u){1&n&&(e.j41(0,"div",49)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function Au(n,u){if(1&n&&(e.j41(0,"div",49),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,t.msgError)," ")}}function Ou(n,u){1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function Pu(n,u){1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")))}function Fu(n,u){if(1&n&&(e.j41(0,"div",49),e.DNE(1,Ou,3,3,"span",50),e.DNE(2,Pu,3,3,"span",50),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.form.controls.password.errors.required),e.R7$(1),e.Y8G("ngIf",t.form.controls.password.errors.minlength)}}const Mc=function(n,u){return{return_url:n,from:"register",user_click:"true",type:u}};function ju(n,u){if(1&n&&(e.j41(0,"div",54),e.EFF(1),e.nI1(2,"mytranslate"),e.j41(3,"a",55),e.nI1(4,"navigationLocalize"),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.SpI(" ",e.bMT(2,5,t.statusObj.errorMessage)," Click "),e.R7$(2),e.Y8G("routerLink",e.eq3(13,Uo,e.bMT(4,7,"/auth/login")))("queryParams",e.l_i(15,Mc,t.returnUrl,t.isStudent?0:1)),e.R7$(2),e.SpI(" ",e.bMT(6,9,"lang_auto_vao_day")," "),e.R7$(2),e.SpI(" ",e.bMT(8,11,"lang_auto_de_dang_nhap")," ")}}function Mu(n,u){if(1&n&&(e.j41(0,"label",56),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.SpI(" ",e.bMT(2,1,t.statusObj.errorMessage)," ")}}function Nu(n,u){if(1&n&&(e.j41(0,"div",51),e.DNE(1,ju,9,18,"div",52),e.DNE(2,Mu,3,3,"ng-template",null,53,e.C5r),e.k0s()),2&n){const t=e.sdS(3),r=e.XpG();e.R7$(1),e.Y8G("ngIf",r.isDuplicateEmailOrPhone>0)("ngIfElse",t)}}function Du(n,u){1&n&&e.nrm(0,"azt-loading-ui",57)}function Lu(n,u){if(1&n&&(e.qex(0),e.j41(1,"a",58),e.nI1(2,"navigationLocalize"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("routerLink",e.eq3(7,Uo,e.bMT(2,3,"/auth/login")))("queryParams",e.l_i(9,Mc,t.returnUrl,t.isStudent?0:1)),e.R7$(2),e.SpI(" ",e.bMT(4,5,"lang_auto_dang_nhap")," ")}}const Gu=function(n){return{return_url:n,from:"register",user_click:"true"}};function $u(n,u){if(1&n&&(e.j41(0,"a",59),e.nI1(1,"navigationLocalize"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()),2&n){const t=e.XpG();e.Y8G("routerLink",e.eq3(7,Uo,e.bMT(1,3,"/auth/login")))("queryParams",e.eq3(9,Gu,t.returnUrl)),e.R7$(2),e.SpI(" ",e.bMT(3,5,"lang_auto_dang_nhap")," ")}}const Nc=function(n){return{active:n}},Dc=function(){return{"mr-2":!0}},zu=function(){return{"dark:text-slate-500":!0}};let Lc=(()=>{class n extends te.H{isInvalidUserPhoneOrEmail(t){this.msgError=Kt.U.validPhoneOrEmail(t)}executeImportantAction(){return new Promise(t=>{this.recaptchaV3Service.execute("importantAction").subscribe(r=>{t(r)})})}getFormValue(){return this.form.getRawValue()}goToConfirm(){this.returnUrl=this.commonService.getMyQueryParam("return_url")??"";var t="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=confirm_phone_register";this.commonService.myNavigationWithQueryString("/auth/checking_service",t)}changeRegisterType(t){this.isShowOption=!1,this.myNavigationWithQueryString(`/auth/register/${t}`,this.returnUrl?`?return_url=${encodeURIComponent(this.returnUrl)}&user_click=true`:"?user_click=true"),0==t?(this.isTeacher=!1,this.isStudent=!0,this.msgError=""):(this.isTeacher=!0,this.isStudent=!1,this.msgError="")}loginZalo(){window.location.href=this.zaloLoginUrl}callRegisterForTeacherApi(t){var r=this.getFormValue(),s={fullName:r.fullName,password:r.password,tokenCaptcha:t,language:this.commonService.getCurrentLang()};Kt.U.validateEmail(r.username)?s.email=r.username:s.phone=r.username,this.waitDestroy(this.authService.apiAuthRegisterPost(s).subscribe(d=>{1==d.success?(this.showSuccessSnack("lang_auto_dang_ky_thanh_cong"),this.redirectByRoleService.redirectLoginByRoleForRegister(this.commonService.getMyQueryParam("return_url")??"",this.isBusinessDomain,this.isMobileWebView)):(this.errorStatusObj(d.message??""),this.isDuplicateEmailOrPhone=d.data?.isDuplicateEmailOrPhone??0)}))}registerForTeacher(){this.form.valid&&!this.msgError&&(this.initStatusObj(),this.executeImportantAction().then(t=>{this.callRegisterForTeacherApi(t)}).catch(t=>{this.callRegisterForTeacherApi("")}))}callRegisterForStudentApi(t){var r=this.getFormValue(),s={fullName:r.fullName,password:r.password,tokenCaptcha:t,language:this.commonService.getCurrentLang()};Kt.U.validateEmail(r.username)?s.email=r.username:s.phone=r.username,this.waitDestroy(this.authService.apiAuthRegisterForStudentPost(s).subscribe(d=>{1==d.success?(this.showSuccessSnack("lang_auto_dang_ky_thanh_cong"),this.redirectByRoleService.redirectLoginByRole(this.commonService.getMyQueryParam("return_url")??"")):(this.errorStatusObj(d.message??""),this.isDuplicateEmailOrPhone=d.data?.isDuplicateEmailOrPhone??0)}))}registerForStudent(){this.form.valid&&!this.msgError&&(this.initStatusObj(),this.executeImportantAction().then(t=>{this.callRegisterForStudentApi(t)}).catch(t=>{this.callRegisterForStudentApi("")}))}googleSignIn(){const t=this.browserUserAgentService.isCommonInAppBrowser();let r=this.browserUserAgentService.getCommonInAppBrowser(),s=this.browserUserAgentService.getMobileOperatingSystem().toLowerCase(),d="zalo";"facebook"===r.toLowerCase()&&(d="fb");let S=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${s}/${s}_${d}_1.png`),O=this.cdnService.convertCdnLinkOfGitHub(`images/open_browser_to_in_app/${s}/${s}_${d}_2.png`);if(t)this.commonService.getTranslate("lang_auth_unsupport_login_with_google").subscribe(W=>{let ie=this.commonService.myTranslateInstant("lang_auth_you_can_perform_the_following_steps"),Fe=this.commonService.myTranslateInstant("lang_test_market_introduce_step");this.sAztDialogService.open(xc.l,{data:{isShow:!0,content:`<div class="not_support_browser">\n\t\t\t\t\t<div class="text-md">\n\t\t\t\t\t\t${W+" "+r}. ${ie}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t\t${Fe} 1:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${S}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="image_data mt-5 mx-auto w-3/5">\n\t\t\t\t\t\t<div class="text-md mb-2">\n\t\t\t\t\t\t${Fe} 2:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img src="${O}" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t</div>`},restoreFocus:!1,width:"500px"})});else{const W=this.commonService.getMyParam(this.activeRoute,"type"),ie=`/auth/register/${W}?return_url=${encodeURIComponent(this.returnUrl)}`;this.myNavigationWithQueryString(`/auth/register-by-openapi/${W}`,`?backto=${encodeURIComponent(ie)}`)}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){if(super.ngOnInit(),this.errorLoginGoogle=!!this.commonService.getMyQueryParam("errorLoginGoogle"),this.errorLoginGoogle&&this.showErrorSnack("lang_auth_there_was_an_error_while_logging_in_with_google_please_try_again"),this.userService.isLoginAndNotAnonymous())this.redirectByRoleService.redirectLoginByRole("");else{this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",this.zaloLoginUrl=Ae.c.auth_external_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+encodeURIComponent(this.returnUrl)+"&is_register=1");let s=this.commonService.getMyQueryParam("user_click");var t=this.commonService.getMyParam(this.activeRoute,"type");if(this.isBusinessDomain&&this.myNavigation("/auth/login"),null!=t){var r=parseInt(t?.toString(),10);this.changeRegisterType(0==r?0:1)}this.yesterday.setDate(this.yesterday.getDate()-1),!s&&this.userService.isAnonymousRoleOfCurrentUser()&&this.myNavigation("/student/classroom/0"),this.commonService.translateMetaData({title:"lang_cms_auth_register_title",description:"lang_cms_auth_register_description",image:"lang_cms_test_image"}),this.stopStatusObj()}this.userObj=this.userService.getUserObj()}constructor(t,r,s,d,S,O,W,ie){super(),this.redirectByRoleService=t,this.activeRoute=r,this.userService=s,this.recaptchaV3Service=d,this.cdnService=S,this.sAztDialogService=O,this.authService=W,this.browserUserAgentService=ie,this.returnUrl="",this.zaloLoginUrl="",this.isHiddenFormRegister=!0,this.isTeacher=!0,this.isStudent=!1,this.yesterday=new Date,this.isShowOption=!0,this.isShowRegisterForStudent=!1,this.isShowRegisterForTeacher=!1,this.msgError="",this.showPassword=!1,this.isDuplicateEmailOrPhone=0,this.errorLoginGoogle=!1,this.form=new v.gE({username:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,X.M.noWhiteSpace]}),fullName:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,X.M.noWhiteSpace]}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.minLength(5),X.M.noWhiteSpace]})})}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Ct.b),e.rXU(he.nX),e.rXU(Ue.R),e.rXU(An.ob),e.rXU(Ac.B),e.rXU(bt.i),e.rXU($.uR),e.rXU(Oc))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-register"]],features:[e.Vt3],decls:72,vars:72,consts:[[1,"intro-x","font-bold","text-2xl","text-center","mt-2"],["class","grid grid-cols-12 gap-5 mt-10 mb-2",4,"ngIf"],[1,"azt-register-form",3,"hidden"],[3,"formGroup"],[1,"intro-x","mt-4"],["role","tablist",1,"nav","nav-link-tabs"],["id","student-tab",1,"nav-item","flex-1"],["azt-track-service","register-Zsa1WPVSlq0",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"ngClass","click"],["name","graduation-cap","size","16",3,"ngClass"],["id","teacher-tab",1,"nav-item","flex-1"],["azt-track-service","register-Jvx62OfaZm-",1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"ngClass","click"],["name","user","size","16",3,"ngClass"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"azt-form-group"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","autocapitalize","none","formControlName","username",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder","input"],[2,"position","relative"],["autocapitalize","none","formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],["azt-track-service","register-CJ_YLbR0JJv","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name","ngClass"],["class","form-group mb-2 mt-2",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],[1,"cursor-pointer","select-none"],["azt-track-service","register-gRvQ2yXGF","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],["azt-track-service","register-Q76IttHYbI","href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5"],["azt-track-service","register-z5wTclUPrKc",1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500"],[4,"ngIf","ngIfElse"],["normalRedirectLogin",""],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],["azt-track-service","register-F4jPrlYkesl",1,"btn","btn-outline-secondary","mx-1","w-full",3,"click"],["type","google",1,"mr-2",3,"size"],[1,"text-md"],[1,"grid","grid-cols-12","gap-5","mt-10","mb-2"],[1,"col-span-6"],["azt-track-service","register-BnnqCKys5ws",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["name","graduation-cap",3,"size"],[1,"font-medium"],["azt-track-service","register-2iEyLru08yP",1,"box","text-center","p-2","zoom-in","border","border-slate-200","dark:border-darkmode-400",3,"click"],["type","teacher",3,"size"],["class","col-span-12 text-center w-width",4,"ngIf"],[1,"col-span-12","text-center","w-width"],["azt-track-service","register--fhLRd1G4",1,"pt-3","text-primary","clickable",3,"routerLink","queryParams"],[1,"text-danger","text-xs","mt-2","font-medium"],[4,"ngIf"],[1,"form-group","mb-2","mt-2"],["class","control-label text-danger text-xs",4,"ngIf","ngIfElse"],["anotherError",""],[1,"control-label","text-danger","text-xs"],["azt-track-service","register-o5dCAmTwsxa",1,"btn-text-primary",3,"routerLink","queryParams"],[1,"text-danger","text-xs"],[1,"mr-1"],["azt-track-service","register--0N0sDV9fnt",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["azt-track-service","register-5xErsLfQ8xy",1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"]],template:function(r,s){if(1&r&&(e.j41(0,"auth-layout")(1,"h2",0),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,Eu,14,9,"div",1),e.j41(5,"div",2)(6,"form",3)(7,"div",4)(8,"ul",5)(9,"li",6)(10,"button",7),e.bIt("click",function(){return s.changeRegisterType(0)}),e.nrm(11,"lucide-icon",8),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()(),e.j41(14,"li",9)(15,"button",10),e.bIt("click",function(){return s.changeRegisterType(1)}),e.nrm(16,"lucide-icon",11),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()()(),e.j41(19,"div",12)(20,"div",13)(21,"div",14),e.nrm(22,"input",15),e.nI1(23,"mytranslate"),e.DNE(24,wu,4,3,"div",16),e.k0s(),e.j41(25,"div",14)(26,"input",17),e.bIt("input",function(){return s.isInvalidUserPhoneOrEmail(s.form.controls.username.value)}),e.nI1(27,"mytranslate"),e.k0s(),e.DNE(28,xu,4,3,"div",16),e.DNE(29,Au,3,3,"div",16),e.k0s(),e.j41(30,"div",14)(31,"div",18),e.nrm(32,"input",19),e.nI1(33,"mytranslate"),e.j41(34,"button",20),e.bIt("click",function(){return s.togglePassword()}),e.nrm(35,"lucide-icon",21),e.k0s()(),e.DNE(36,Fu,3,2,"div",16),e.k0s()()()(),e.DNE(37,Nu,4,2,"div",22),e.j41(38,"div",23)(39,"p",24),e.EFF(40),e.nI1(41,"mytranslate"),e.nI1(42,"mytranslate"),e.nI1(43,"mytranslate"),e.j41(44,"a",25),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s(),e.EFF(47),e.nI1(48,"mytranslate"),e.j41(49,"a",26),e.EFF(50),e.nI1(51,"mytranslate"),e.k0s()()(),e.j41(52,"div",27)(53,"button",28),e.bIt("click",function(){return 1==s.isStudent?s.registerForStudent():s.registerForTeacher()}),e.DNE(54,Du,1,0,"azt-loading-ui",29),e.EFF(55),e.nI1(56,"mytranslate"),e.k0s()(),e.j41(57,"div",30),e.EFF(58),e.nI1(59,"mytranslate"),e.DNE(60,Lu,5,12,"ng-container",31),e.DNE(61,$u,4,11,"ng-template",null,32,e.C5r),e.k0s(),e.j41(63,"div",33)(64,"span",34),e.EFF(65),e.nI1(66,"mytranslate"),e.k0s()(),e.j41(67,"div",35)(68,"button",36),e.bIt("click",function(){return s.googleSignIn()}),e.nrm(69,"azt-svg-icon",37),e.j41(70,"span",38),e.EFF(71,"Google"),e.k0s()()()()()()),2&r){const d=e.sdS(62);e.R7$(2),e.SpI(" ",e.bMT(3,35,"lang_auto_dang_ky")," "),e.R7$(2),e.Y8G("ngIf",1==s.isShowOption),e.R7$(1),e.Y8G("hidden",s.isShowOption),e.R7$(1),e.Y8G("formGroup",s.form),e.R7$(4),e.Y8G("ngClass",e.eq3(65,Nc,s.isStudent)),e.R7$(1),e.Y8G("ngClass",e.lJ4(67,Dc)),e.R7$(1),e.SpI(" ",e.bMT(13,37,"lang_auto_hoc_sinh")," "),e.R7$(3),e.Y8G("ngClass",e.eq3(68,Nc,s.isTeacher)),e.R7$(1),e.Y8G("ngClass",e.lJ4(70,Dc)),e.R7$(1),e.SpI(" ",e.bMT(18,39,"lang_auto_giao_vien")," "),e.R7$(5),e.FS9("placeholder",e.bMT(23,41,"lang_auto_ho_ten")),e.R7$(2),e.Y8G("ngIf",s.form.controls.fullName.errors&&(s.form.controls.fullName.dirty||s.form.controls.fullName.touched)),e.R7$(2),e.FS9("placeholder",e.bMT(27,43,"lang_auto_nhap_sdt_hoac_email")),e.R7$(2),e.Y8G("ngIf",s.form.controls.username.errors&&(s.form.controls.username.dirty||s.form.controls.username.touched)&&!s.msgError),e.R7$(1),e.Y8G("ngIf",s.msgError),e.R7$(3),e.FS9("placeholder",e.bMT(33,45,"lang_auto_mat_khau")),e.Y8G("type",s.showPassword?"text":"password"),e.R7$(3),e.Y8G("name",s.showPassword?"eye":"eye-off")("ngClass",e.lJ4(71,zu)),e.R7$(1),e.Y8G("ngIf",s.form.controls.password.errors&&(s.form.controls.password.dirty||s.form.controls.password.touched)),e.R7$(1),e.Y8G("ngIf",s.statusObj.errorMessage),e.R7$(3),e.E5c(" ",e.bMT(41,47,"lang_auto_bang_cach_an_vao_nut"),' "',e.bMT(42,49,"lang_auto_dang_ky"),'" ',e.bMT(43,51,"lang_auto__toi_dong_y_voi")," "),e.R7$(5),e.JRh(e.bMT(46,53,"lang_auto_dieu_khoan_su_dung")),e.R7$(2),e.SpI(" ",e.bMT(48,55,"lang_auto_va")," "),e.R7$(3),e.JRh(e.bMT(51,57,"lang_auto_chinh_sach_bao_mat_cua_azota")),e.R7$(3),e.Y8G("disabled",s.form.invalid||s.statusObj.loading),e.R7$(1),e.Y8G("ngIf",s.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(56,59,"lang_auto_dang_ky")," "),e.R7$(3),e.SpI(" ",e.bMT(59,61,"lang_auto_ban_da_co_tai_khoan")," "),e.R7$(2),e.Y8G("ngIf",s.isDuplicateEmailOrPhone>0)("ngIfElse",d),e.R7$(5),e.JRh(e.bMT(66,63,"lang_auto_hoac")),e.R7$(4),e.Y8G("size",16)}},dependencies:[he.Wk,_.YU,_.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,et.t,de.R,sn.m,_t.K,pe.WGl,L.F2,L.wp],encapsulation:2})}return n})();var Uu=y(39763);function Bu(n,u){1&n&&(e.j41(0,"div",11)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function Vu(n,u){if(1&n&&(e.j41(0,"div",11),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n){const t=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,t.msgError)," ")}}function Yu(n,u){1&n&&e.nrm(0,"azt-loading-ui",12)}const Wu=function(){return{"mr-2":!0}};let qu=(()=>{class n extends te.H{isInvalidUserPhoneOrEmail(t){this.msgError=Kt.U.validPhoneOrEmail(t)}addEmailOrPhone(){if(this.form.valid){let t,r;this.initStatusObj(),Kt.U.validateEmail(this.form.controls.phone.value)?r=this.form.controls.phone.value:t=this.form.controls.phone.value,this.waitDestroy(this.userZaloService.apiUserZaloUpdatePhoneOrEmailGet(t,r).subscribe(s=>{if(1==s.success){let d=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(d),this.successStatusObj()}else this.errorStatusObj(s.message??"",!0)}))}}backToRedirect(){let t=this.getMyQueryParam("backto")??"/admin/dashboard";this.myNavigation(t)}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_nhap_sdt_hoac_email",description:"lang_auto_nhap_sdt_hoac_email",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,r){super(),this.userZaloService=t,this.zaloService=r,this.msgError="",this.form=new v.gE({phone:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,X.M.noWhiteSpace]})}),this.zaloService.checkLoginZalo()||this.backToRedirect()}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU($.lM),e.rXU(Uu.m))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-required-phone-or-email"]],features:[e.Vt3],decls:21,vars:19,consts:[[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[3,"formGroup"],[1,"azt-form-group"],["type","text","autocapitalize","none","name","phone","formControlName","phone",1,"form-control",3,"placeholder","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"mt-3"],["azt-track-service","required-phone-or-email-9m81Hd0Rr",1,"btn","btn-primary","w-full",3,"disabled","click"],["class","mr-1",4,"ngIf"],["azt-track-service","required-phone-or-email-C5azozVBTd",1,"btn-text-primary","inline-flex","items-center",3,"click"],["name","chevron-left","size","16",3,"ngClass"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"mr-1"]],template:function(r,s){1&r&&(e.j41(0,"auth-layout")(1,"h2",0),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",1)(5,"form",2)(6,"div",3)(7,"input",4),e.bIt("input",function(){return s.isInvalidUserPhoneOrEmail(s.form.controls.phone.value)}),e.nI1(8,"mytranslate"),e.k0s(),e.DNE(9,Bu,4,3,"div",5),e.DNE(10,Vu,3,3,"div",5),e.k0s(),e.j41(11,"div",6)(12,"button",7),e.bIt("click",function(){return s.addEmailOrPhone()}),e.DNE(13,Yu,1,0,"azt-loading-ui",8),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()()(),e.j41(16,"div",6)(17,"a",9),e.bIt("click",function(){return s.backToRedirect()}),e.nrm(18,"lucide-icon",10),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()()()()),2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,10,"lang_auth_phone_or_email_is_required_in_zalo_account")," "),e.R7$(3),e.Y8G("formGroup",s.form),e.R7$(2),e.FS9("placeholder",e.bMT(8,12,"lang_auto_nhap_sdt_hoac_email")),e.R7$(2),e.Y8G("ngIf",s.form.controls.phone.invalid&&(s.form.controls.phone.dirty||s.form.controls.phone.touched)&&!s.msgError),e.R7$(1),e.Y8G("ngIf",s.msgError),e.R7$(2),e.Y8G("disabled",s.statusObj.loading||s.form.invalid),e.R7$(1),e.Y8G("ngIf",s.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(15,14,"lang_auto_tiep_tuc")," "),e.R7$(4),e.Y8G("ngClass",e.lJ4(18,Wu)),e.R7$(1),e.SpI(" ",e.bMT(20,16,"lang_auto_quay_lai")," "))},dependencies:[_.YU,_.bT,v.qT,v.me,v.BC,v.cb,v.j4,v.JD,et.t,de.R,_t.K,pe.WGl,L.wp],encapsulation:2})}return n})();function Qu(n,u){1&n&&(e.j41(0,"div")(1,"div",11),e.nrm(2,"azt-loading-ui"),e.j41(3,"span",12),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()()),2&n&&(e.R7$(4),e.SpI("",e.bMT(5,1,"lang_cms_common_loading"),"..."))}function Xu(n,u){1&n&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&n&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Hu(n,u){if(1&n&&(e.j41(0,"div",29),e.DNE(1,Xu,3,3,"div",10),e.k0s()),2&n){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function Ju(n,u){if(1&n&&(e.j41(0,"div",13)(1,"label",30),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.SpI("*** ",e.bMT(3,1,t.statusObj.errorMessage),"")}}function Ku(n,u){1&n&&e.nrm(0,"azt-loading-ui",31)}const Zu=function(n){return[n]},ed=function(){return{user_click:"true"}};function td(n,u){if(1&n){const t=e.RV6();e.j41(0,"div")(1,"div",13)(2,"div",14)(3,"div",15),e.nrm(4,"input",16),e.nI1(5,"mytranslate"),e.j41(6,"div",17)(7,"span",18),e.nrm(8,"lucide-icon",19),e.k0s()()(),e.j41(9,"div",15),e.nrm(10,"input",20),e.nI1(11,"mytranslate"),e.j41(12,"div",17)(13,"span",18),e.nrm(14,"lucide-icon",19),e.k0s()()(),e.DNE(15,Hu,2,1,"div",21),e.k0s()(),e.DNE(16,Ju,4,3,"div",22),e.j41(17,"div",23)(18,"div",14)(19,"div",24)(20,"button",25),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.form.invalid||s.statusObj.loading||s.changePassword())}),e.DNE(21,Ku,1,0,"azt-loading-ui",26),e.EFF(22),e.nI1(23,"mytranslate"),e.k0s()()()(),e.nrm(24,"hr"),e.j41(25,"div",27)(26,"a",28),e.nI1(27,"navigationLocalize"),e.EFF(28),e.nI1(29,"mytranslate"),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(4),e.FS9("placeholder",e.bMT(5,10,"lang_auto_mat_khau_moi")),e.R7$(6),e.FS9("placeholder",e.bMT(11,12,"lang_auto_xac_nhan_mat_khau")),e.R7$(5),e.Y8G("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.R7$(1),e.Y8G("ngIf",t.statusObj.errorMessage),e.R7$(4),e.Y8G("disabled",t.form.invalid||t.statusObj.loading),e.R7$(1),e.Y8G("ngIf",t.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(23,14,"lang_auto_doi_mat_khau")," "),e.R7$(4),e.Y8G("routerLink",e.eq3(20,Zu,e.bMT(27,16,"/auth/login")))("queryParams",e.lJ4(22,ed)),e.R7$(2),e.JRh(e.bMT(29,18,"lang_auto_dang_nhap_tai_khoan"))}}let nd=(()=>{class n extends te.H{getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,r){return!!this.form.controls[t].errors?.[r]&&this.form.controls[t].errors?.[r]}changePassword(){if(this.form.valid){let d=this.getFormValue();if(d.password!=d.confirm_password)this.showErrorSnack("lang_auto_xac_nhan_mat_khau_khong_khop");else{this.initStatusObj();var t=this.commonService.getMyQueryParam("token"),r=this.commonService.getMyQueryParam("app_name");this.waitDestroy(this.userInfoService.apiUserInfoChangePasswordByFirebasePost({firebaseToken:t??"",newPassword:d.password,appName:r??""}).subscribe(S=>{1==S.success?(this.successStatusObj(),this.redirectByRoleService.redirectLoginByRole("")):this.errorStatusObj(S.message??"")}))}}}getFormValue(){return this.form.getRawValue()}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}constructor(t,r){super(),this.redirectByRoleService=t,this.userInfoService=r,this.form=new v.gE({emailOrPhone:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),hash:new v.MJ("",{nonNullable:!0,validators:[v.k0.required]}),password:new v.MJ("",{nonNullable:!0,validators:[v.k0.required,v.k0.minLength(6)]}),confirm_password:new v.MJ("",{nonNullable:!0})})}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(Ct.b),e.rXU($.fv))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-confirm-forgot-password"]],features:[e.Vt3],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"flex","justify-content-center"],[1,"sr-only","ml-2"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","autocapitalize","none","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["name","lock","size","20"],["type","password","formControlName","confirm_password","autocomplete","new-confirm-password",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["azt-track-service","set_new_password-dxWPShJ3Hp7","mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"text-center","mt-3"],["azt-track-service","set_new_password-GvOfa-SamrD",1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],[1,"mr-1"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2),e.nrm(3,"div",3),e.j41(4,"div",4),e.nrm(5,"img",5),e.nI1(6,"getLinkLogo"),e.j41(7,"div",6)(8,"div",7)(9,"span",8),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()(),e.j41(12,"div",9),e.DNE(13,Qu,6,3,"div",10),e.DNE(14,td,30,23,"div",10),e.k0s()()(),e.nrm(15,"div",3),e.k0s()()()),2&r&&(e.R7$(1),e.Y8G("formGroup",s.form),e.R7$(4),e.Y8G("src",e.bMT(6,5,"bigLogo"),e.B4B),e.R7$(5),e.JRh(e.bMT(11,7,"lang_auto_doi_mat_khau_moi")),e.R7$(3),e.Y8G("ngIf",s.statusObj.loading),e.R7$(1),e.Y8G("ngIf",!s.statusObj.loading))},dependencies:[he.Wk,_.bT,v.qT,v.me,v.BC,v.cb,yn.$z,v.j4,v.JD,et.t,de.R,pe.WGl,L.F2,L.wp,L.ph],encapsulation:2})}return n})();const hc=function(){return{"mr-2":!0}},id=function(n){return[n]};let rd=(()=>{class n extends te.H{ngOnInit(){super.ngOnInit()}constructor(){super()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-thank-for-business"]],features:[e.Vt3],decls:52,vars:35,consts:[[3,"maxWidth","contentBoxClass"],[1,"box","h-full","p-5","thank-for-business"],[1,"font-semibold","text-center","intro-x",2,"font-family","'Kaushan Script', cursive","font-size","4em","line-height","1","color","#5892FF"],[1,"mx-auto","mt-5","text-center","intro-x",2,"max-width","700px"],[1,"text-slate-500"],[1,"mt-4","mx-auto",2,"max-width","190px"],[1,"font-medium","text-center"],[1,"ml-0"],[1,"mt-3","flex","items-center"],[1,"flex","items-center","text-xs",2,"width","90px"],["name","phone","size","18",3,"ngClass"],[1,"mx-1"],["type","zalo",1,"mr-2",3,"size"],[1,"mt-4"],[1,"font-medium"],[1,"mt-3"],[1,"azt-copy","relative","intro-x","mx-auto"],["type","text","readonly","","value","Azota For School.pdf",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10","text-primary","cursor-pointer"],["azt-track-service","thank-for-business-npZYLKAD0","href","https://drive.google.com/file/d/1qG4uKTl1UC1lMQ96LX_dQjb2FPbeejyn/view?usp=sharing","target","_blank",1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0"],["name","square-arrow-out-up-right","size","18",3,"ngClass"],[1,"text-center","mt-8","intro-x"],["azt-track-service","thank-for-business-fr0dFQRDKx",1,"btn","btn-outline-primary","w-72",3,"routerLink"],["name","chevron-left","size","18",3,"ngClass"]],template:function(r,s){1&r&&(e.j41(0,"auth-layout",0)(1,"div",1)(2,"h1",2),e.EFF(3,"Thank you ! "),e.k0s(),e.j41(4,"div",3)(5,"span",4),e.EFF(6),e.nI1(7,"mytranslate"),e.k0s()(),e.j41(8,"div",5)(9,"div",6),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"div",7)(13,"div",8)(14,"div",9),e.nrm(15,"lucide-icon",10),e.j41(16,"span"),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()(),e.j41(19,"div",11),e.EFF(20,":"),e.k0s(),e.j41(21,"div",7),e.EFF(22," 0972 112 969 "),e.k0s()(),e.j41(23,"div",8)(24,"div",9),e.nrm(25,"azt-svg-icon",12),e.j41(26,"span"),e.EFF(27),e.nI1(28,"mytranslate"),e.k0s()(),e.j41(29,"div",11),e.EFF(30,":"),e.k0s(),e.j41(31,"div",7),e.EFF(32," 0972 112 969 "),e.k0s()()()(),e.j41(33,"div",13)(34,"div",14),e.EFF(35),e.nI1(36,"mytranslate"),e.k0s(),e.j41(37,"div",15)(38,"div",16),e.nrm(39,"input",17),e.j41(40,"a",18),e.nrm(41,"lucide-icon",19),e.j41(42,"span"),e.EFF(43),e.nI1(44,"mytranslate"),e.k0s()()()()(),e.j41(45,"div",20)(46,"a",21),e.nI1(47,"navigationLocalize"),e.nrm(48,"lucide-icon",22),e.j41(49,"span"),e.EFF(50),e.nI1(51,"mytranslate"),e.k0s()()()()()),2&r&&(e.Y8G("maxWidth","800px")("contentBoxClass","margin-top--50"),e.R7$(6),e.SpI(" ",e.bMT(7,14,"lang_azt_thank_you_for_interest_in_azotas_features")," "),e.R7$(4),e.SpI(" ",e.bMT(11,16,"lang_azt_live_support_advice")," "),e.R7$(5),e.Y8G("ngClass",e.lJ4(30,hc)),e.R7$(2),e.SpI(" ",e.bMT(18,18,"lang_auto_dien_thoai"),""),e.R7$(8),e.Y8G("size",16),e.R7$(2),e.SpI(" ",e.bMT(28,20,"Zalo"),""),e.R7$(8),e.SpI(" ",e.bMT(36,22,"lang_azt_feature_solution_overview")," "),e.R7$(6),e.Y8G("ngClass",e.lJ4(31,hc)),e.R7$(2),e.JRh(e.bMT(44,24,"lang_testbank_create_wibsite_result_Access")),e.R7$(3),e.Y8G("routerLink",e.eq3(32,id,e.bMT(47,26,"/auth/login"))),e.R7$(2),e.Y8G("ngClass",e.lJ4(34,hc)),e.R7$(2),e.SpI(" ",e.bMT(51,28,"lang_auto_quay_lai_dang_nhap"),""))},dependencies:[he.Wk,_.YU,sn.m,_t.K,pe.WGl,L.F2,L.wp],encapsulation:2})}return n})();var od=y(13420);function sd(n,u){if(1&n&&(e.j41(0,"teacher-layout",2),e.eu8(1,3),e.k0s()),2&n){const t=e.XpG(),r=e.sdS(3);e.Y8G("headerBackToLink",t.backLink),e.R7$(1),e.Y8G("ngTemplateOutlet",r)}}function ad(n,u){if(1&n&&(e.j41(0,"student-layout",2),e.eu8(1,3),e.k0s()),2&n){const t=e.XpG(),r=e.sdS(3);e.Y8G("headerBackToLink",t.backLink),e.R7$(1),e.Y8G("ngTemplateOutlet",r)}}function cd(n,u){if(1&n&&e.nrm(0,"azt-loading-effect",6),2&n){const t=e.XpG(2);e.Y8G("currentStatusObj",t.statusObj)}}function ld(n,u){if(1&n){const t=e.RV6();e.j41(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15),e.nrm(4,"lucide-icon",16),e.k0s(),e.j41(5,"div",17)(6,"div",18),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s(),e.j41(9,"div",19)(10,"div",20),e.EFF(11),e.nI1(12,"formatMoney"),e.nI1(13,"mytranslate"),e.k0s(),e.j41(14,"div",21),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()(),e.j41(17,"div",22),e.nrm(18,"azt-svg-icon",23),e.j41(19,"div",24),e.EFF(20),e.nI1(21,"mytranslate"),e.k0s()(),e.j41(22,"div",25)(23,"button",26),e.bIt("click",function(){const d=e.eBV(t).$implicit,S=e.XpG(3);return e.Njj(S.choosePackage(d.id))}),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s()()()()}if(2&n){const t=u.$implicit;e.R7$(7),e.JRh(e.bMT(8,6,t.name)),e.R7$(4),e.SpI(" ",e.bMT(12,8,t.price)+" "+e.bMT(13,10,"lang_auto_vnd_upper")," "),e.R7$(4),e.SpI(" "," / "+t.totalMonth+" "+e.bMT(16,12,"lang_auto_"+t.timeUnit)," "),e.R7$(3),e.Y8G("size",32),e.R7$(2),e.SpI(" ",e.bMT(21,14,"lang_azt_no_ads")," "),e.R7$(4),e.SpI(" ",e.bMT(25,16,"lang_auth_use")," ")}}function ud(n,u){if(1&n&&(e.j41(0,"div",7)(1,"div",8),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"div",9),e.nrm(5,"div",10),e.DNE(6,ld,26,18,"div",11),e.nrm(7,"div",10),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.SpI(" ",e.bMT(3,2,"lang_auth_choose_package_to_use")," "),e.R7$(4),e.Y8G("ngForOf",t.vipPackageList)}}function dd(n,u){if(1&n&&(e.DNE(0,cd,1,1,"azt-loading-effect",4),e.DNE(1,ud,8,4,"ng-template",null,5,e.C5r)),2&n){const t=e.sdS(2),r=e.XpG();e.Y8G("ngIf",r.statusObj.loading)("ngIfElse",t)}}const _d=[{path:"",component:Sl,children:[{path:"login",component:Il},{path:"login-scan/:role",component:sl},{path:"login-by-zalo",component:No},{path:"register",component:Lc},{path:"register/:type",component:Lc},{path:"choose-role",component:yo},{path:"required-phone-or-email",component:qu},{path:"logout",component:kl},{path:"confirm_forgot_password",component:Sr},{path:"confirm-forgot-password-email",component:ur},{path:"forgot_password_success",component:oc},{path:"confirm_forgot_password_qr",component:Ha},{path:"confirm_forgot_password_old",component:Eo},{path:"confirm_account",component:Ia},{path:"checking_service",component:da},{path:"set_new_password",component:nd},{path:"create-qr-forgot-pass/:role",component:Fo},{path:"change-email",component:ua},{path:"account-setting/:roleType/:modeType",component:Hs},{path:"go-to-mobile/:code",component:sc},{path:"go-to-mobile/:code/:fromApp",component:sc},{path:"login-by-openapi",component:ei},{path:"register-by-openapi/:type",component:Cl},{path:"register-for-organization",component:Cu},{path:"register-for-business-old",component:eu},{path:"thank-for-business",component:rd},{path:"register-confirm",component:Dl},{path:"vip-packages/:vipPackageType",component:(()=>{class n extends te.H{choosePackage(t){let r=this.commonService.getMyQueryParam("backTo")?this.commonService.getMyQueryParam("backTo"):void 0;const s=`userRole=${this.vipPackageType==an.W.TEACHER?"teacher":"student"}&productType=vip_package&backTo=`+encodeURIComponent(r??this.commonService.getCurrentUrlWithoutLocale());this.waitDestroy(this.productOrderService.apiProductOrderBuyVipMemberGet(this.commonService.getCurrentHostName(),this.commonService.getCurrentLang(),t,s).subscribe(d=>{if(!d.success)return this.errorStatusObj(d.message,!0);window.location.href=d.data?.value??"",this.successStatusObj()}))}getBusinessPackages(){this.initStatusObj(),this.waitDestroy(this.vipPackageService.apiVipPackageGetPackageObjsPost({vipPackageType:this.vipPackageType}).subscribe(t=>{if(!t.success)return this.errorStatusObj(t.message,!0);this.vipPackageList=t.data?.objs??[],this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.vipPackageType="teacherVip"==this.commonService.getMyParam(this.activeRoute,"vipPackageType")?an.W.TEACHER:an.W.STUDENT,this.isTeacherDashboard="teacherVip"==this.commonService.getMyParam(this.activeRoute,"vipPackageType"),this.backLink=this.commonService.getMyQueryParam("backto")??`/auth/account-setting/${this.vipPackageType==an.W.TEACHER?0:1}/8`,this.getBusinessPackages()}constructor(t,r,s){super(),this.activeRoute=t,this.vipPackageService=r,this.productOrderService=s,this.vipPackageList=[],this.backLink="",this.allPackages=an.W,this.isTeacherDashboard=!1}static#e=this.\u0275fac=function(r){return new(r||n)(e.rXU(he.nX),e.rXU(od.v),e.rXU(nn.Hg))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-vip-packages"]],features:[e.Vt3],decls:4,vars:2,consts:[[3,"headerBackToLink",4,"ngIf"],["MainContentTpl",""],[3,"headerBackToLink"],[3,"ngTemplateOutlet"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"mx-auto","mt-8",2,"max-width","1000px"],[1,"text-center","text-2xl","font-medium"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12","md:col-span-3"],["class","col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6"],[1,"intro-y","box","flex-1","p-5","w-full"],[1,"flex","items-center","pb-5","border-b","border-slate-200","dark:border-darkmode-400"],[1,"vip-icon","btn","btn-gradient-primary",2,"width","80px","height","80px","font-size","30px","font-weight","600","font-style","italic"],["name","gem","size","30"],[1,"ml-3"],[1,"text-xl","font-medium"],[1,"mt-2","flex","items-center"],[1,"font-medium","text-lg","mr-1"],[1,"text-slate-500"],[1,"mt-5","flex","items-center"],["type","noads",1,"mr-2","flex-none",3,"size"],[1,"font-medium"],[1,"mt-10"],["azt-track-service","business-packages-eJWG8rCsJ",1,"btn","btn-primary","w-full","px-4","py-3",3,"click"]],template:function(r,s){1&r&&(e.DNE(0,sd,2,2,"teacher-layout",0),e.DNE(1,ad,2,2,"student-layout",0),e.DNE(2,dd,3,2,"ng-template",null,1,e.C5r)),2&r&&(e.Y8G("ngIf",s.isTeacherDashboard),e.R7$(1),e.Y8G("ngIf",!s.isTeacherDashboard))},dependencies:[_.Sq,_.bT,_.T3,Le.K,sn.m,I.Q,b.j,pe.WGl,L.wp,L.t0],encapsulation:2})}return n})()},{path:"business-packages/:businessPackageType/:businessRegisterId/:businessRegisterHash",component:ta}]}];let md=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({imports:[he.iI.forChild(_d),he.iI,Wt.XE]})}return n})(),hd=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({providers:[{provide:wt.vn,useValue:Ae.c.azt_tiny_mce_script_src}],imports:[he.iI,_.MD,v.YN,wt.sv,Yt.s,v.X1,md,De.Q,pn.b,St.L,Je.xv,lt.Id,Y.initializeApp(Ae.c.firebaseConfig_app1,"auth"),pe.flO.pick(pe.Ptg),Lt.AC,at,vt.Lk]})}return n})()},29660:(it,ke,y)=>{"use strict";y.d(ke,{_8:()=>re,d1:()=>le});var _=y(71217),e=y(17509),g=y(47947),D=y(26860),se=y(96699);class fe{constructor(C,R,N,P,z=1,U=!1,K=!1,Z,ee){this.id=C,this.pr=R,this.type=N,this.item=P,this.level=z,this.expandable=U,this.isLoading=K,this.prNode=Z,this.isLeaf=ee}}let re=(()=>{class ae{constructor(R){this.testMarketQuestionService=R,this.levelId=0,this.subjectId=0}initialData(R,N){return this.levelId=R,this.subjectId=N,new Promise(P=>{this.apiLeechData(void 0).then(z=>{P(z.map(U=>new fe(U.id,U.pr,U.type,U.name,0,"cate"===U.type,!1,void 0,U.isLeaf)))})})}apiLeechData(R){return new Promise(N=>{const P=[];this.testMarketQuestionService.apiTestMarketQuestionsKnowledgeGet(this.levelId,this.subjectId,R).subscribe(z=>{1===z.success&&z.data&&(z.data.objs||[]).forEach(K=>{P.push({pr:R??0,id:K.id??0,name:K.name?`${K.name}`:"",type:"cate",isLeaf:K.isLeaf??!1})}),N(P)})})}static#e=this.\u0275fac=function(N){return new(N||ae)(D.KVO(se.e2))};static#t=this.\u0275prov=D.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})();class le{get data(){return this.dataChange.value}set data(C){this._treeControl.dataNodes=C,this.dataChange.next(C)}constructor(C,R){this._treeControl=C,this._database=R,this.dataChange=new _.t([])}connect(C){return this._treeControl.expansionModel.changed.subscribe(R=>{(R.added||R.removed)&&this.handleTreeControl(R)}),(0,e.h)(C.viewChange,this.dataChange).pipe((0,g.T)(()=>this.data))}getNode(C){let R=this.data.filter(N=>N.id==C);return R&&R.length>0?R[0]:null}disconnect(C){}handleTreeControl(C){C.added&&C.added.forEach(R=>this.toggleNode(R,!0)),C.removed&&C.removed.slice().reverse().forEach(R=>this.toggleNode(R,!1))}toggleNode(C,R){if("cate"!==C.type)return;const N=this.data.indexOf(C);if(R)C.isLoading=!0,this._database.apiLeechData(C.id).then(P=>{const z=P.map(U=>new fe(U.id,U.pr,U.type,U.name,C.level+1,"cate"===U.type,!1,C,U.isLeaf));this.data.splice(N+1,0,...z),this.dataChange.next(this.data),C.isLoading=!1});else{let P=0;for(let z=N+1;z<this.data.length&&this.data[z].level>C.level;z++,P++);this.data.splice(N+1,P),this.dataChange.next(this.data)}}}},10296:(it,ke,y)=>{"use strict";y.d(ke,{R:()=>re});var _=y(43277),g=y(18148),D=y(26860),se=y(18350),fe=y(25693);let re=(()=>{class le{constructor(C,R){this.mobileWebviewService=C,this.commonService=R}shareFileWithBlob(C,R){if(this.commonService.isMobileWebview(void 0)){g.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");let N=new FileReader;N.readAsDataURL(C),N.onloadend=()=>{let P=N.result;"string"==typeof P&&(this.mobileWebviewService.sendShareFileBase64(R,String(P)),g.L.closeLoadingEffect(100))}}else _.saveAs(C,R)}shareFileWithBase64(C,R){this.commonService.isMobileWebview(void 0)?this.mobileWebviewService.sendShareFileBase64(R,C):_.saveAs(C,R)}static#e=this.\u0275fac=function(R){return new(R||le)(D.KVO(se.f),D.KVO(fe.R))};static#t=this.\u0275prov=D.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})()},39763:(it,ke,y)=>{"use strict";y.d(ke,{m:()=>D});var _=y(26860),e=y(36484),g=y(25693);let D=(()=>{class se{constructor(re,le){this.userService=re,this.commonService=le}checkLoginZalo(){if(!this.userService.isLogin())return!1;const re=this.userService.getUserObj();return!(!re.zaloId||re.phone&&10==re.phone.length||re.email&&-1!==re.email.indexOf("@"))}zaloInfoRequired(){this.checkLoginZalo()&&this.commonService.myNavigation("/auth/required-phone-or-email")}static#e=this.\u0275fac=function(le){return new(le||se)(_.KVO(e.R),_.KVO(g.R))};static#t=this.\u0275prov=_.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})()},18148:(it,ke,y)=>{"use strict";y.d(ke,{L:()=>_});let _=(()=>{class e{static#e=this.idComponent="azt-status-loading-effect";static#t=this.idStatusContent="azt-status-loading-effect-content";static openLoadingEffect(D){e.getDomElement().style.display="flex",setTimeout(()=>{e.changeMsgLoadingEffect(D)},50)}static closeLoadingEffect(D){return new Promise(se=>{setTimeout(()=>{const fe=e.getDomElement();fe&&(fe.style.display="none"),se(!0)},D)})}static changeMsgLoadingEffect(D){e.getDomContent().innerText=D}static getDomContent(){return document.getElementById(e.idStatusContent)??document.createElement("span")}static getDomElement(){return document.getElementById(e.idComponent)??this.createDomElement()}static createDomElement(){const D=document.createElement("div");return D.id=e.idComponent,D.setAttribute("style","position: fixed;display: flex;width: 100vw;height: 100%;background: #000000c7;color: #ffffff;font-size: 20px;font-weight: lighter;justify-content: center;align-items: center;cursor: progress;z-index: 9999;top: 0;left: 0;"),D.style.display="none",D.innerHTML=`\n        <div class="text-center" style="height: 85%; overflow-x: auto;">\n            <div class="flex justify-center mt-5">\n                <svg width="20" viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg">\n                    <g fill="none" fill-rule="evenodd">\n                        <g transform="translate(2 1)" stroke="currentColor" stroke-width="1.5">\n                            <circle cx="42.601" cy="11.462" r="5" fill-opacity="1" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="1;0;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="49.063" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;1;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="42.601" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;1;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="49.125" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;1;0;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="42.663" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;1;0;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="4.938" cy="27.063" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;1;0;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="11.399" cy="11.462" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;1;0" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                            <circle cx="27" cy="5" r="5" fill-opacity="0" fill="currentColor">\n                                <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;0;1" calcMode="linear" repeatCount="indefinite"></animate>\n                            </circle>\n                        </g>\n                    </g>\n                </svg>\n            </div>\n            <div style="margin-top: 10px;position: relative;">\n                <span id="${e.idStatusContent}"></span>\n            </div>\n        </div>`,document.body.appendChild(D),D}}return e})()},40509:(it,ke,y)=>{"use strict";y.d(ke,{K:()=>xe});var _=y(59640),e=y(26860),g=y(50589),D=y(65162),se=y(54460),fe=y(61318),re=y(15343),le=y(19938),ae=y(73437);function C(q,_e){if(1&q&&(e.j41(0,"div",6),e.eu8(1,7),e.k0s()),2&q){e.XpG();const ve=e.sdS(6);e.R7$(1),e.Y8G("ngTemplateOutlet",ve)}}function R(q,_e){if(1&q&&(e.j41(0,"div",6),e.eu8(1,7),e.k0s()),2&q){e.XpG();const ve=e.sdS(8);e.R7$(1),e.Y8G("ngTemplateOutlet",ve)}}function N(q,_e){1&q&&e.SdG(0)}const P=function(){return{"mr-2":!0}};function z(q,_e){if(1&q){const ve=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(ve);const oe=e.XpG(2);return e.Njj(oe.switchModeUI("dark"))}),e.nrm(1,"lucide-icon",21),e.j41(2,"span",22),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&q&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,P)),e.R7$(2),e.JRh(e.bMT(4,2,"lang_auto_che_de_toi")))}function U(q,_e){if(1&q){const ve=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(ve);const oe=e.XpG(2);return e.Njj(oe.switchModeUI("light"))}),e.nrm(1,"lucide-icon",24),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&q&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,P)),e.R7$(2),e.JRh(e.bMT(4,2,"lang_auto_che_de_sang")))}const K=function(q){return[q]};function Z(q,_e){if(1&q&&(e.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"a",11),e.nI1(4,"navigationLocalize"),e.nrm(5,"img",12),e.nI1(6,"getLinkLogo"),e.k0s()(),e.j41(7,"div",13),e.nrm(8,"azt-switch-language"),e.k0s(),e.j41(9,"div",14),e.DNE(10,z,5,5,"button",15),e.DNE(11,U,5,5,"button",16),e.k0s()(),e.j41(12,"div",17)(13,"div",18)(14,"div",19),e.eu8(15,7),e.k0s()()()()),2&q){const ve=e.XpG(),Re=e.sdS(4);e.R7$(3),e.Y8G("routerLink",e.eq3(13,K,e.bMT(4,9,"/auth/login"))),e.R7$(2),e.Y8G("src",e.bMT(6,11,"bigLogo"),e.B4B),e.R7$(5),e.Y8G("ngIf","light"==ve.modeUI),e.R7$(1),e.Y8G("ngIf","dark"==ve.modeUI),e.R7$(2),e.Aen("max-width:"+ve.maxWidth),e.HbH(ve.contentBoxClass),e.R7$(2),e.Y8G("ngTemplateOutlet",Re)}}function ee(q,_e){if(1&q&&(e.j41(0,"div",8)(1,"div",17)(2,"div",18)(3,"div",19),e.eu8(4,7),e.k0s()()()()),2&q){const ve=e.XpG(),Re=e.sdS(4);e.R7$(2),e.Aen("max-width:"+ve.maxWidth),e.HbH(ve.contentBoxClass),e.R7$(2),e.Y8G("ngTemplateOutlet",Re)}}const Me=["*"];let xe=(()=>{class q extends _.H{switchModeUI(ve){let Re=document.getElementById("azota-app-html");Re&&(this.modeUI=ve,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?(Re.classList.remove("dark"),Re.classList.add("light")):(Re.classList.remove("light"),Re.classList.add("dark")))}ngOnInit(){super.ngOnInit(),this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":this.browserStorageService.getStorage("mode_ui")??"light",this.switchModeUI(this.modeUI),this.stopStatusObj()}constructor(ve){super(),this.browserStorageService=ve,this.maxWidth="500px",this.contentBoxClass="p-5",this.modeUI="",this.initStatusObj()}static#e=this.\u0275fac=function(Re){return new(Re||q)(e.rXU(g.z))};static#t=this.\u0275cmp=e.VBU({type:q,selectors:[["auth-layout"]],inputs:{maxWidth:"maxWidth",contentBoxClass:"contentBoxClass"},features:[e.Vt3],ngContentSelectors:Me,decls:11,vars:2,consts:[[1,"azt-body",2,"padding","0"],["class","flex",4,"ngIf"],["BodyContentTpl",""],["notEmbedViewTpl",""],["embedViewTpl",""],[1,"fixed","left-0","bottom-0","p-5","pb-8","azt-hidden"],[1,"flex"],[3,"ngTemplateOutlet"],[1,"content","relative",2,"padding","0","border-radius","0"],[1,"top-bar","py-2","px-3",2,"height","auto","z-index","0","border","none"],[1,"mr-auto"],["azt-track-service","auth-layout-Il3suLG89",3,"routerLink"],["width","95px",3,"src"],[1,"mr-3"],[1,"mr-1"],["azt-track-service","auth-layout-JExDIjLZ0q","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],["azt-track-service","auth-layout-g8PYsmzs4T","class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],[1,"p-5","flex","items-center","w-full","content-auth-layout","mt-10"],[1,"box","mx-auto","w-full"],[1,"azt-content"],["azt-track-service","auth-layout-JExDIjLZ0q",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["name","moon","size","20",3,"ngClass"],[1,""],["azt-track-service","auth-layout-g8PYsmzs4T",1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["name","sun","size","20",3,"ngClass"]],template:function(Re,oe){1&Re&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,C,2,1,"div",1),e.DNE(2,R,2,1,"div",1),e.k0s(),e.DNE(3,N,1,0,"ng-template",null,2,e.C5r),e.DNE(5,Z,16,15,"ng-template",null,3,e.C5r),e.DNE(7,ee,5,5,"ng-template",null,4,e.C5r),e.j41(9,"div",5),e.nrm(10,"header-setting-color"),e.k0s()),2&Re&&(e.R7$(1),e.Y8G("ngIf",!oe.isMobileWebView&&!oe.statusObj.loading),e.R7$(1),e.Y8G("ngIf",oe.isMobileWebView&&!oe.statusObj.loading))},dependencies:[D.Wk,se.YU,se.bT,se.T3,fe.V,re.WGl,le.o,ae.F2,ae.wp,ae.ph],encapsulation:2})}return q})()},46247:(it,ke,y)=>{"use strict";y.d(ke,{l:()=>ae});var _=y(89163),e=y(33887),g=y(26860),D=y(54460),se=y(15343),fe=y(2915),re=y(73437);const le=function(){return{"mr-2 text-pending":!0}};let ae=(()=>{class C extends e._{btnCloseDialog(){this.dialogRef.close()}constructor(N,P){super(P,N),this.dialogRef=N,this.data=P}static#e=this.\u0275fac=function(P){return new(P||C)(g.rXU(_.CP,8),g.rXU(_.Vh,8))};static#t=this.\u0275cmp=g.VBU({type:C,selectors:[["azt-dialog-warning"]],features:[g.Vt3],decls:14,vars:10,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-0"],[1,"text-md","font-medium","flex","items-center","p-3","pb-0"],["name","octagon-alert","size","24",3,"ngClass"],[1,"mt-2"],[3,"defaultHeight"],[1,"text-xs","text-slate-500","dark:text-slate-400","p-3","pt-0",3,"innerHtml"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-warning-3FIn9IaXN",1,"btn","w-24","btn-primary",3,"click"]],template:function(P,z){1&P&&(g.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),g.nrm(4,"lucide-icon",4),g.EFF(5),g.nI1(6,"mytranslate"),g.k0s(),g.j41(7,"div",5)(8,"azt-mat-dialog-content",6),g.nrm(9,"div",7),g.k0s()()()(),g.j41(10,"div",8)(11,"button",9),g.bIt("click",function(){return z.btnCloseDialog()}),g.EFF(12),g.nI1(13,"mytranslate"),g.k0s()()()),2&P&&(g.R7$(4),g.Y8G("ngClass",g.lJ4(9,le)),g.R7$(1),g.SpI(" ",g.bMT(6,5,"lang_auto_canh_bao")," "),g.R7$(3),g.Y8G("defaultHeight",60),g.R7$(1),g.Y8G("innerHtml",z.data.content,g.npT),g.R7$(3),g.SpI(" ",g.bMT(13,7,"lang_auto_dong")," "))},dependencies:[D.YU,se.WGl,fe.U,re.wp],encapsulation:2})}return C})()},74175:(it,ke,y)=>{"use strict";y.d(ke,{W:()=>N});var _=y(47947),e=y(59640),g=y(26860),D=y(10296),se=y(25693),fe=y(27691),re=y(54460),le=y(73437);function ae(P,z){if(1&P){const U=g.RV6();g.qex(0),g.j41(1,"a",2),g.bIt("click",function(){g.eBV(U);const Z=g.XpG();return g.Njj(Z.shareFileToFlutter())}),g.j41(2,"span"),g.EFF(3),g.nI1(4,"mytranslate"),g.k0s(),g.SdG(5),g.k0s(),g.bVm()}if(2&P){const U=g.XpG();g.R7$(1),g.Aen(U.style),g.HbH(U.classStyle),g.FS9("target",U.target),g.R7$(2),g.JRh(g.bMT(4,7,U.fileDescription))}}function C(P,z){if(1&P&&(g.j41(0,"a",3)(1,"span"),g.EFF(2),g.nI1(3,"mytranslate"),g.k0s(),g.SdG(4,1),g.k0s()),2&P){const U=g.XpG();g.Aen(U.style),g.HbH(U.classStyle),g.FS9("href",U.dataUrl,g.B4B),g.FS9("target",U.target),g.FS9("download",U.fileName),g.R7$(2),g.JRh(g.bMT(3,9,U.fileDescription))}}const R=["*","*"];let N=(()=>{class P extends e.H{downloadFile(){return this.http.get(this.dataUrl,{responseType:"blob"}).pipe((0,_.T)(U=>U))}shareFileToFlutter(){this.downloadFile().subscribe(U=>{this.shareFileFlutterService.shareFileWithBlob(U,this.fileName)})}ngOnInit(){super.ngOnInit()}constructor(U,K,Z){super(),this.shareFileFlutterService=U,this.commonService=K,this.http=Z,this.dataUrl="",this.target="",this.fileName="",this.fileDescription="",this.classStyle="",this.style=""}static#e=this.\u0275fac=function(K){return new(K||P)(g.rXU(D.R),g.rXU(se.R),g.rXU(fe.Qq))};static#t=this.\u0275cmp=g.VBU({type:P,selectors:[["azt-download-link-item"]],inputs:{dataUrl:"dataUrl",target:"target",fileName:"fileName",fileDescription:"fileDescription",classStyle:"classStyle",style:"style"},features:[g.Vt3],ngContentSelectors:R,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["NormalWeb",""],[3,"target","click"],[3,"href","target","download"]],template:function(K,Z){if(1&K&&(g.NAR(R),g.DNE(0,ae,6,9,"ng-container",0),g.DNE(1,C,5,11,"ng-template",null,1,g.C5r)),2&K){const ee=g.sdS(2);g.Y8G("ngIf",Z.isMobileWebView)("ngIfElse",ee)}},dependencies:[re.bT,le.wp],encapsulation:2})}return P})()},97730:(it,ke,y)=>{"use strict";y.d(ke,{$:()=>to,A:()=>R,E:()=>z,J:()=>Wr,K:()=>gn,M:()=>Nt,P:()=>ya,Q:()=>A,R:()=>ha,U:()=>vi,V:()=>bi,W:()=>Kr,X:()=>Tn,Y:()=>Cn,Z:()=>Dn,_:()=>hs,a:()=>tr,a0:()=>zn,a1:()=>so,a2:()=>xi,a3:()=>fs,a4:()=>vs,a5:()=>ao,a6:()=>bs,a7:()=>co,a8:()=>ys,a9:()=>Is,aA:()=>_e,aB:()=>F,aC:()=>Ro,aD:()=>m,aE:()=>G,aF:()=>Tr,aG:()=>ko,aH:()=>xa,aI:()=>Ge,aM:()=>En,aP:()=>fn,aa:()=>ks,ab:()=>Ss,ac:()=>Cs,ad:()=>Ts,ae:()=>Rs,af:()=>Es,ag:()=>ws,aj:()=>As,ak:()=>Os,al:()=>Ps,ao:()=>ps,ap:()=>mo,ar:()=>Ut,as:()=>Us,at:()=>Ee,au:()=>E,av:()=>de,aw:()=>q,ax:()=>Pr,ay:()=>Da,az:()=>M,b:()=>po,c:()=>Ca,d:()=>Ra,e:()=>Ta,f:()=>Aa,g:()=>ja,h:()=>Pa,i:()=>bo,j:()=>Ma,k:()=>Po,l:()=>fa,m:()=>oc,p:()=>le,r:()=>va,s:()=>ga,u:()=>ba});var _=y(73014),e=y(94200),g=y(24788),D=y(56094),se=y(31635),fe=y(12248);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},R={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const z=function N(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},U=function P(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},K=new e.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ee=new D.Vy("@firebase/auth");function xe(a,...i){ee.logLevel<=D.$b.ERROR&&ee.error(`Auth (${g.SDK_VERSION}): ${a}`,...i)}function q(a,...i){throw oe(a,...i)}function _e(a,...i){return oe(a,...i)}function ve(a,i,o){const c=Object.assign(Object.assign({},U()),{[i]:o});return new e.FA("auth","Firebase",c).create(i,{appName:a.name})}function Re(a,i,o){if(!(i instanceof o))throw o.name!==i.constructor.name&&q(a,"argument-error"),ve(a,"argument-error",`Type of ${i.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oe(a,...i){if("string"!=typeof a){const o=i[0],c=[...i.slice(1)];return c[0]&&(c[0].appName=a.name),a._errorFactory.create(o,...c)}return K.create(a,...i)}function F(a,i,...o){if(!a)throw oe(i,...o)}function Se(a){const i="INTERNAL ASSERTION FAILED: "+a;throw xe(i),new Error(i)}function Ee(a,i){a||Se(i)}function We(){var a;return typeof self<"u"&&(null===(a=self.location)||void 0===a?void 0:a.href)||""}function ht(){return"http:"===It()||"https:"===It()}function It(){var a;return typeof self<"u"&&(null===(a=self.location)||void 0===a?void 0:a.protocol)||null}class Et{constructor(i,o){this.shortDelay=i,this.longDelay=o,Ee(o>i,"Short delay should be less than long delay!"),this.isMobile=(0,e.jZ)()||(0,e.lV)()}get(){return function Pt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ht()||(0,e.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ot(a,i){Ee(a.emulator,"Emulator should always be set here");const{url:o}=a.emulator;return i?`${o}${i.startsWith("/")?i.slice(1):i}`:o}class Ft{static initialize(i,o,c){this.fetchImpl=i,o&&(this.headersImpl=o),c&&(this.responseImpl=c)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Vt=new Et(3e4,6e4);function Te(a,i){return a.tenantId&&!i.tenantId?Object.assign(Object.assign({},i),{tenantId:a.tenantId}):i}function Ie(a,i,o,c){return pt.apply(this,arguments)}function pt(){return(pt=(0,_.A)(function*(a,i,o,c,l={}){return rt(a,l,(0,_.A)(function*(){let h={},k={};c&&("GET"===i?k=c:h={body:JSON.stringify(c)});const w=(0,e.Am)(Object.assign({key:a.config.apiKey},k)).slice(1),j=yield a._getAdditionalHeaders();return j["Content-Type"]="application/json",a.languageCode&&(j["X-Firebase-Locale"]=a.languageCode),Ft.fetch()(me(a,a.config.apiHost,o,w),Object.assign({method:i,headers:j,referrerPolicy:"no-referrer"},h))}))})).apply(this,arguments)}function rt(a,i,o){return V.apply(this,arguments)}function V(){return(V=(0,_.A)(function*(a,i,o){a._canInitEmulator=!1;const c=Object.assign(Object.assign({},jt),i);try{const l=new He(a),h=yield Promise.race([o(),l.promise]);l.clearNetworkTimeout();const k=yield h.json();if("needConfirmation"in k)throw ze(a,"account-exists-with-different-credential",k);if(h.ok&&!("errorMessage"in k))return k;{const w=h.ok?k.errorMessage:k.error.message,[j,B]=w.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===j)throw ze(a,"credential-already-in-use",k);if("EMAIL_EXISTS"===j)throw ze(a,"email-already-in-use",k);if("USER_DISABLED"===j)throw ze(a,"user-disabled",k);const J=c[j]||j.toLowerCase().replace(/[_\s]+/g,"-");if(B)throw ve(a,J,B);q(a,J)}}catch(l){if(l instanceof e.g)throw l;q(a,"network-request-failed",{message:String(l)})}})).apply(this,arguments)}function be(a,i,o,c){return Q.apply(this,arguments)}function Q(){return(Q=(0,_.A)(function*(a,i,o,c,l={}){const h=yield Ie(a,i,o,c,l);return"mfaPendingCredential"in h&&q(a,"multi-factor-auth-required",{_serverResponse:h}),h})).apply(this,arguments)}function me(a,i,o,c){const l=`${i}${o}?${c}`;return a.config.emulator?ot(a.config,l):`${a.config.apiScheme}://${l}`}function Y(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class He{constructor(i){this.auth=i,this.timer=null,this.promise=new Promise((o,c)=>{this.timer=setTimeout(()=>c(_e(this.auth,"network-request-failed")),Vt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ze(a,i,o){const c={appName:a.name};o.email&&(c.email=o.email),o.phoneNumber&&(c.phoneNumber=o.phoneNumber);const l=_e(a,i,c);return l.customData._tokenResponse=o,l}function Ne(a){return void 0!==a&&void 0!==a.getResponse}function gt(a){return void 0!==a&&void 0!==a.enterprise}class v{constructor(i){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===i.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=i.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=i.recaptchaEnforcementState}getProviderEnforcementState(i){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const o of this.recaptchaEnforcementState)if(o.provider&&o.provider===i)return Y(o.enforcementState);return null}isProviderEnabled(i){return"ENFORCE"===this.getProviderEnforcementState(i)||"AUDIT"===this.getProviderEnforcementState(i)}}function wt(){return(wt=(0,_.A)(function*(a){return(yield Ie(a,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pe(a,i){return $e.apply(this,arguments)}function $e(){return($e=(0,_.A)(function*(a,i){return Ie(a,"GET","/v2/recaptchaConfig",Te(a,i))})).apply(this,arguments)}function st(){return(st=(0,_.A)(function*(a,i){return Ie(a,"POST","/v1/accounts:delete",i)})).apply(this,arguments)}function xt(){return(xt=(0,_.A)(function*(a,i){return Ie(a,"POST","/v1/accounts:update",i)})).apply(this,arguments)}function kt(){return(kt=(0,_.A)(function*(a,i){return Ie(a,"POST","/v1/accounts:lookup",i)})).apply(this,arguments)}function vt(a){if(a)try{const i=new Date(Number(a));if(!isNaN(i.getTime()))return i.toUTCString()}catch{}}function lt(){return(lt=(0,_.A)(function*(a,i=!1){const o=(0,e.Ku)(a),c=yield o.getIdToken(i),l=St(c);F(l&&l.exp&&l.auth_time&&l.iat,o.auth,"internal-error");const h="object"==typeof l.firebase?l.firebase:void 0,k=h?.sign_in_provider;return{claims:l,token:c,authTime:vt(Yt(l.auth_time)),issuedAtTime:vt(Yt(l.iat)),expirationTime:vt(Yt(l.exp)),signInProvider:k||null,signInSecondFactor:h?.sign_in_second_factor||null}})).apply(this,arguments)}function Yt(a){return 1e3*Number(a)}function St(a){const[i,o,c]=a.split(".");if(void 0===i||void 0===o||void 0===c)return xe("JWT malformed, contained fewer than 3 sections"),null;try{const l=(0,e.u)(o);return l?JSON.parse(l):(xe("Failed to decode base64 JWT payload"),null)}catch(l){return xe("Caught error parsing JWT payload as JSON",l?.toString()),null}}function De(a,i){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,_.A)(function*(a,i,o=!1){if(o)return i;try{return yield i}catch(c){throw c instanceof e.g&&function Wt({code:a}){return"auth/user-disabled"===a||"auth/user-token-expired"===a}(c)&&a.auth.currentUser===a&&(yield a.auth.signOut()),c}})).apply(this,arguments)}class ut{constructor(i){this.user=i,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(i){var o;if(i){const c=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),c}{this.errorBackoff=3e4;const l=(null!==(o=this.user.stsTokenManager.expirationTime)&&void 0!==o?o:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(i=!1){var o=this;if(!this.isRunning)return;const c=this.getInterval(i);this.timerId=setTimeout((0,_.A)(function*(){yield o.iteration()}),c)}iteration(){var i=this;return(0,_.A)(function*(){try{yield i.user.getIdToken(!0)}catch(o){return void("auth/network-request-failed"===o?.code&&i.schedule(!0))}i.schedule()})()}}class te{constructor(i,o){this.createdAt=i,this.lastLoginAt=o,this._initializeTime()}_initializeTime(){this.lastSignInTime=vt(this.lastLoginAt),this.creationTime=vt(this.createdAt)}_copy(i){this.createdAt=i.createdAt,this.lastLoginAt=i.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qe(a){return dt.apply(this,arguments)}function dt(){return dt=(0,_.A)(function*(a){var i;const o=a.auth,c=yield a.getIdToken(),l=yield De(a,function at(a,i){return kt.apply(this,arguments)}(o,{idToken:c}));F(l?.users.length,o,"internal-error");const h=l.users[0];a._notifyReloadListener(h);const k=null!==(i=h.providerUserInfo)&&void 0!==i&&i.length?function bt(a){return a.map(i=>{var{providerId:o}=i,c=(0,se.Tt)(i,["providerId"]);return{providerId:o,uid:c.rawId||"",displayName:c.displayName||null,email:c.email||null,phoneNumber:c.phoneNumber||null,photoURL:c.photoUrl||null}})}(h.providerUserInfo):[],w=function qt(a,i){return[...a.filter(c=>!i.some(l=>l.providerId===c.providerId)),...i]}(a.providerData,k),J=!!a.isAnonymous&&!(a.email&&h.passwordHash||w?.length),ye={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:w,metadata:new te(h.createdAt,h.lastLoginAt),isAnonymous:J};Object.assign(a,ye)}),dt.apply(this,arguments)}function Ve(){return(Ve=(0,_.A)(function*(a){const i=(0,e.Ku)(a);yield qe(i),yield i.auth._persistUserIfCurrent(i),i.auth._notifyListenersIfCurrent(i)})).apply(this,arguments)}function Gt(){return(Gt=(0,_.A)(function*(a,i){const o=yield rt(a,{},(0,_.A)(function*(){const c=(0,e.Am)({grant_type:"refresh_token",refresh_token:i}).slice(1),{tokenApiHost:l,apiKey:h}=a.config,k=me(a,l,"/v1/token",`key=${h}`),w=yield a._getAdditionalHeaders();return w["Content-Type"]="application/x-www-form-urlencoded",Ft.fetch()(k,{method:"POST",headers:w,body:c})}));return{accessToken:o.access_token,expiresIn:o.expires_in,refreshToken:o.refresh_token}})).apply(this,arguments)}class I{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(i){F(i.idToken,"internal-error"),F(typeof i.idToken<"u","internal-error"),F(typeof i.refreshToken<"u","internal-error");const o="expiresIn"in i&&typeof i.expiresIn<"u"?Number(i.expiresIn):function pn(a){const i=St(a);return F(i,"internal-error"),F(typeof i.exp<"u","internal-error"),F(typeof i.iat<"u","internal-error"),Number(i.exp)-Number(i.iat)}(i.idToken);this.updateTokensAndExpiration(i.idToken,i.refreshToken,o)}getToken(i,o=!1){var c=this;return(0,_.A)(function*(){return F(!c.accessToken||c.refreshToken,i,"user-token-expired"),o||!c.accessToken||c.isExpired?c.refreshToken?(yield c.refresh(i,c.refreshToken),c.accessToken):null:c.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(i,o){var c=this;return(0,_.A)(function*(){const{accessToken:l,refreshToken:h,expiresIn:k}=yield function Le(a,i){return Gt.apply(this,arguments)}(i,o);c.updateTokensAndExpiration(l,h,Number(k))})()}updateTokensAndExpiration(i,o,c){this.refreshToken=o||null,this.accessToken=i||null,this.expirationTime=Date.now()+1e3*c}static fromJSON(i,o){const{refreshToken:c,accessToken:l,expirationTime:h}=o,k=new I;return c&&(F("string"==typeof c,"internal-error",{appName:i}),k.refreshToken=c),l&&(F("string"==typeof l,"internal-error",{appName:i}),k.accessToken=l),h&&(F("number"==typeof h,"internal-error",{appName:i}),k.expirationTime=h),k}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(i){this.accessToken=i.accessToken,this.refreshToken=i.refreshToken,this.expirationTime=i.expirationTime}_clone(){return Object.assign(new I,this.toJSON())}_performRefresh(){return Se("not implemented")}}function b(a,i){F("string"==typeof a||typeof a>"u","internal-error",{appName:i})}class p{constructor(i){var{uid:o,auth:c,stsTokenManager:l}=i,h=(0,se.Tt)(i,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ut(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=o,this.auth=c,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new te(h.createdAt||void 0,h.lastLoginAt||void 0)}getIdToken(i){var o=this;return(0,_.A)(function*(){const c=yield De(o,o.stsTokenManager.getToken(o.auth,i));return F(c,o.auth,"internal-error"),o.accessToken!==c&&(o.accessToken=c,yield o.auth._persistUserIfCurrent(o),o.auth._notifyListenersIfCurrent(o)),c})()}getIdTokenResult(i){return function Je(a){return lt.apply(this,arguments)}(this,i)}reload(){return function Ue(a){return Ve.apply(this,arguments)}(this)}_assign(i){this!==i&&(F(this.uid===i.uid,this.auth,"internal-error"),this.displayName=i.displayName,this.photoURL=i.photoURL,this.email=i.email,this.emailVerified=i.emailVerified,this.phoneNumber=i.phoneNumber,this.isAnonymous=i.isAnonymous,this.tenantId=i.tenantId,this.providerData=i.providerData.map(o=>Object.assign({},o)),this.metadata._copy(i.metadata),this.stsTokenManager._assign(i.stsTokenManager))}_clone(i){const o=new p(Object.assign(Object.assign({},this),{auth:i,stsTokenManager:this.stsTokenManager._clone()}));return o.metadata._copy(this.metadata),o}_onReload(i){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=i,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(i){this.reloadListener?this.reloadListener(i):this.reloadUserInfo=i}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(i,o=!1){var c=this;return(0,_.A)(function*(){let l=!1;i.idToken&&i.idToken!==c.stsTokenManager.accessToken&&(c.stsTokenManager.updateFromServerResponse(i),l=!0),o&&(yield qe(c)),yield c.auth._persistUserIfCurrent(c),l&&c.auth._notifyListenersIfCurrent(c)})()}delete(){var i=this;return(0,_.A)(function*(){const o=yield i.getIdToken();return yield De(i,function Mt(a,i){return st.apply(this,arguments)}(i.auth,{idToken:o})),i.stsTokenManager.clearRefreshToken(),i.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(i=>Object.assign({},i)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(i,o){var c,l,h,k,w,j,B,J;const ye=null!==(c=o.displayName)&&void 0!==c?c:void 0,tt=null!==(l=o.email)&&void 0!==l?l:void 0,mn=null!==(h=o.phoneNumber)&&void 0!==h?h:void 0,ei=null!==(k=o.photoURL)&&void 0!==k?k:void 0,No=null!==(w=o.tenantId)&&void 0!==w?w:void 0,Gr=null!==(j=o._redirectEventId)&&void 0!==j?j:void 0,Do=null!==(B=o.createdAt)&&void 0!==B?B:void 0,Lo=null!==(J=o.lastLoginAt)&&void 0!==J?J:void 0,{uid:$r,emailVerified:Go,isAnonymous:$o,providerData:zr,stsTokenManager:zo}=o;F($r&&zo,i,"internal-error");const uc=I.fromJSON(this.name,zo);F("string"==typeof $r,i,"internal-error"),b(ye,i.name),b(tt,i.name),F("boolean"==typeof Go,i,"internal-error"),F("boolean"==typeof $o,i,"internal-error"),b(mn,i.name),b(ei,i.name),b(No,i.name),b(Gr,i.name),b(Do,i.name),b(Lo,i.name);const Ur=new p({uid:$r,auth:i,email:tt,emailVerified:Go,displayName:ye,isAnonymous:$o,photoURL:ei,phoneNumber:mn,tenantId:No,stsTokenManager:uc,createdAt:Do,lastLoginAt:Lo});return zr&&Array.isArray(zr)&&(Ur.providerData=zr.map(dc=>Object.assign({},dc))),Gr&&(Ur._redirectEventId=Gr),Ur}static _fromIdTokenResponse(i,o,c=!1){return(0,_.A)(function*(){const l=new I;l.updateFromServerResponse(o);const h=new p({uid:o.localId,auth:i,stsTokenManager:l,isAnonymous:c});return yield qe(h),h})()}}const f=new Map;function m(a){Ee(a instanceof Function,"Expected a class definition");let i=f.get(a);return i?(Ee(i instanceof a,"Instance stored in cache mismatched with class"),i):(i=new a,f.set(a,i),i)}const A=(()=>{class a{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.A)(function*(){return!0})()}_set(o,c){var l=this;return(0,_.A)(function*(){l.storage[o]=c})()}_get(o){var c=this;return(0,_.A)(function*(){const l=c.storage[o];return void 0===l?null:l})()}_remove(o){var c=this;return(0,_.A)(function*(){delete c.storage[o]})()}_addListener(o,c){}_removeListener(o,c){}}return a.type="NONE",a})();function G(a,i,o){return`firebase:${a}:${i}:${o}`}class X{constructor(i,o,c){this.persistence=i,this.auth=o,this.userKey=c;const{config:l,name:h}=this.auth;this.fullUserKey=G(this.userKey,l.apiKey,h),this.fullPersistenceKey=G("persistence",l.apiKey,h),this.boundEventHandler=o._onStorageEvent.bind(o),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(i){return this.persistence._set(this.fullUserKey,i.toJSON())}getCurrentUser(){var i=this;return(0,_.A)(function*(){const o=yield i.persistence._get(i.fullUserKey);return o?p._fromJSON(i.auth,o):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(i){var o=this;return(0,_.A)(function*(){if(o.persistence===i)return;const c=yield o.getCurrentUser();return yield o.removeCurrentUser(),o.persistence=i,c?o.setCurrentUser(c):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(i,o,c="authUser"){return(0,_.A)(function*(){if(!o.length)return new X(m(A),i,c);const l=(yield Promise.all(o.map(function(){var B=(0,_.A)(function*(J){if(yield J._isAvailable())return J});return function(J){return B.apply(this,arguments)}}()))).filter(B=>B);let h=l[0]||m(A);const k=G(c,i.config.apiKey,i.name);let w=null;for(const B of o)try{const J=yield B._get(k);if(J){const ye=p._fromJSON(i,J);B!==h&&(w=ye),h=B;break}}catch{}const j=l.filter(B=>B._shouldAllowMigration);return h._shouldAllowMigration&&j.length?(h=j[0],w&&(yield h._set(k,w.toJSON())),yield Promise.all(o.map(function(){var B=(0,_.A)(function*(J){if(J!==h)try{yield J._remove(k)}catch{}});return function(J){return B.apply(this,arguments)}}())),new X(h,i,c)):new X(h,i,c)})()}}function ne(a){const i=a.toLowerCase();if(i.includes("opera/")||i.includes("opr/")||i.includes("opios/"))return"Opera";if(ue(i))return"IEMobile";if(i.includes("msie")||i.includes("trident/"))return"IE";if(i.includes("edge/"))return"Edge";if(Ce(i))return"Firefox";if(i.includes("silk/"))return"Silk";if(L(i))return"Blackberry";if(x(i))return"Webos";if($(i))return"Safari";if((i.includes("chrome/")||Oe(i))&&!i.includes("edge/"))return"Chrome";if(de(i))return"Android";{const c=a.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===c?.length)return c[1]}return"Other"}function Ce(a=(0,e.ZQ)()){return/firefox\//i.test(a)}function $(a=(0,e.ZQ)()){const i=a.toLowerCase();return i.includes("safari/")&&!i.includes("chrome/")&&!i.includes("crios/")&&!i.includes("android")}function Oe(a=(0,e.ZQ)()){return/crios\//i.test(a)}function ue(a=(0,e.ZQ)()){return/iemobile/i.test(a)}function de(a=(0,e.ZQ)()){return/android/i.test(a)}function L(a=(0,e.ZQ)()){return/blackberry/i.test(a)}function x(a=(0,e.ZQ)()){return/webos/i.test(a)}function E(a=(0,e.ZQ)()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function M(a=(0,e.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(a)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(a)}function ge(a=(0,e.ZQ)()){return E(a)||de(a)||x(a)||L(a)||/windows phone/i.test(a)||ue(a)}function Ze(a,i=[]){let o;switch(a){case"Browser":o=ne((0,e.ZQ)());break;case"Worker":o=`${ne((0,e.ZQ)())}-${a}`;break;default:o=a}const c=i.length?i.join(","):"FirebaseCore-web";return`${o}/JsCore/${g.SDK_VERSION}/${c}`}class Qe{constructor(i){this.auth=i,this.queue=[]}pushCallback(i,o){const c=h=>new Promise((k,w)=>{try{k(i(h))}catch(j){w(j)}});c.onAbort=o,this.queue.push(c);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}runMiddleware(i){var o=this;return(0,_.A)(function*(){if(o.auth.currentUser===i)return;const c=[];try{for(const l of o.queue)yield l(i),l.onAbort&&c.push(l.onAbort)}catch(l){c.reverse();for(const h of c)try{h()}catch{}throw o.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}})()}}function Xt(){return(Xt=(0,_.A)(function*(a,i={}){return Ie(a,"GET","/v2/passwordPolicy",Te(a,i))})).apply(this,arguments)}class yn{constructor(i){var o,c,l,h;const k=i.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(o=k.minPasswordLength)&&void 0!==o?o:6,k.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=k.maxPasswordLength),void 0!==k.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=k.containsLowercaseCharacter),void 0!==k.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=k.containsUppercaseCharacter),void 0!==k.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=k.containsNumericCharacter),void 0!==k.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=k.containsNonAlphanumericCharacter),this.enforcementState=i.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(l=null===(c=i.allowedNonAlphanumericCharacters)||void 0===c?void 0:c.join(""))&&void 0!==l?l:"",this.forceUpgradeOnSignin=null!==(h=i.forceUpgradeOnSignin)&&void 0!==h&&h,this.schemaVersion=i.schemaVersion}validatePassword(i){var o,c,l,h,k,w;const j={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(i,j),this.validatePasswordCharacterOptions(i,j),j.isValid&&(j.isValid=null===(o=j.meetsMinPasswordLength)||void 0===o||o),j.isValid&&(j.isValid=null===(c=j.meetsMaxPasswordLength)||void 0===c||c),j.isValid&&(j.isValid=null===(l=j.containsLowercaseLetter)||void 0===l||l),j.isValid&&(j.isValid=null===(h=j.containsUppercaseLetter)||void 0===h||h),j.isValid&&(j.isValid=null===(k=j.containsNumericCharacter)||void 0===k||k),j.isValid&&(j.isValid=null===(w=j.containsNonAlphanumericCharacter)||void 0===w||w),j}validatePasswordLengthOptions(i,o){const c=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;c&&(o.meetsMinPasswordLength=i.length>=c),l&&(o.meetsMaxPasswordLength=i.length<=l)}validatePasswordCharacterOptions(i,o){let c;this.updatePasswordCharacterOptionsStatuses(o,!1,!1,!1,!1);for(let l=0;l<i.length;l++)c=i.charAt(l),this.updatePasswordCharacterOptionsStatuses(o,c>="a"&&c<="z",c>="A"&&c<="Z",c>="0"&&c<="9",this.allowedNonAlphanumericCharacters.includes(c))}updatePasswordCharacterOptionsStatuses(i,o,c,l,h){this.customStrengthOptions.containsLowercaseLetter&&(i.containsLowercaseLetter||(i.containsLowercaseLetter=o)),this.customStrengthOptions.containsUppercaseLetter&&(i.containsUppercaseLetter||(i.containsUppercaseLetter=c)),this.customStrengthOptions.containsNumericCharacter&&(i.containsNumericCharacter||(i.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(i.containsNonAlphanumericCharacter||(i.containsNonAlphanumericCharacter=h))}}class Vo{constructor(i,o,c,l){this.app=i,this.heartbeatServiceProvider=o,this.appCheckServiceProvider=c,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new et(this),this.idTokenSubscription=new et(this),this.beforeStateQueue=new Qe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=i.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(i,o){var c=this;return o&&(this._popupRedirectResolver=m(o)),this._initializationPromise=this.queue((0,_.A)(function*(){var l,h;if(!c._deleted&&(c.persistenceManager=yield X.create(c,i),!c._deleted)){if(null!==(l=c._popupRedirectResolver)&&void 0!==l&&l._shouldInitProactively)try{yield c._popupRedirectResolver._initialize(c)}catch{}yield c.initializeCurrentUser(o),c.lastNotifiedUid=(null===(h=c.currentUser)||void 0===h?void 0:h.uid)||null,!c._deleted&&(c._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var i=this;return(0,_.A)(function*(){if(i._deleted)return;const o=yield i.assertedPersistence.getCurrentUser();if(i.currentUser||o){if(i.currentUser&&o&&i.currentUser.uid===o.uid)return i._currentUser._assign(o),void(yield i.currentUser.getIdToken());yield i._updateCurrentUser(o,!0)}})()}initializeCurrentUser(i){var o=this;return(0,_.A)(function*(){var c;const l=yield o.assertedPersistence.getCurrentUser();let h=l,k=!1;if(i&&o.config.authDomain){yield o.getOrInitRedirectPersistenceManager();const w=null===(c=o.redirectUser)||void 0===c?void 0:c._redirectEventId,j=h?._redirectEventId,B=yield o.tryRedirectSignIn(i);(!w||w===j)&&B?.user&&(h=B.user,k=!0)}if(!h)return o.directlySetCurrentUser(null);if(!h._redirectEventId){if(k)try{yield o.beforeStateQueue.runMiddleware(h)}catch(w){h=l,o._popupRedirectResolver._overrideRedirectResult(o,()=>Promise.reject(w))}return h?o.reloadAndSetCurrentUserOrClear(h):o.directlySetCurrentUser(null)}return F(o._popupRedirectResolver,o,"argument-error"),yield o.getOrInitRedirectPersistenceManager(),o.redirectUser&&o.redirectUser._redirectEventId===h._redirectEventId?o.directlySetCurrentUser(h):o.reloadAndSetCurrentUserOrClear(h)})()}tryRedirectSignIn(i){var o=this;return(0,_.A)(function*(){let c=null;try{c=yield o._popupRedirectResolver._completeRedirectFn(o,i,!0)}catch{yield o._setRedirectUser(null)}return c})()}reloadAndSetCurrentUserOrClear(i){var o=this;return(0,_.A)(function*(){try{yield qe(i)}catch(c){if("auth/network-request-failed"!==c?.code)return o.directlySetCurrentUser(null)}return o.directlySetCurrentUser(i)})()}useDeviceLanguage(){this.languageCode=function Ke(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}()}_delete(){var i=this;return(0,_.A)(function*(){i._deleted=!0})()}updateCurrentUser(i){var o=this;return(0,_.A)(function*(){const c=i?(0,e.Ku)(i):null;return c&&F(c.auth.config.apiKey===o.config.apiKey,o,"invalid-user-token"),o._updateCurrentUser(c&&c._clone(o))})()}_updateCurrentUser(i,o=!1){var c=this;return(0,_.A)(function*(){if(!c._deleted)return i&&F(c.tenantId===i.tenantId,c,"tenant-id-mismatch"),o||(yield c.beforeStateQueue.runMiddleware(i)),c.queue((0,_.A)(function*(){yield c.directlySetCurrentUser(i),c.notifyAuthListeners()}))})()}signOut(){var i=this;return(0,_.A)(function*(){return yield i.beforeStateQueue.runMiddleware(null),(i.redirectPersistenceManager||i._popupRedirectResolver)&&(yield i._setRedirectUser(null)),i._updateCurrentUser(null,!0)})()}setPersistence(i){var o=this;return this.queue((0,_.A)(function*(){yield o.assertedPersistence.setPersistence(m(i))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(i){var o=this;return(0,_.A)(function*(){o._getPasswordPolicyInternal()||(yield o._updatePasswordPolicy());const c=o._getPasswordPolicyInternal();return c.schemaVersion!==o.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(o._errorFactory.create("unsupported-password-policy-schema-version",{})):c.validatePassword(i)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var i=this;return(0,_.A)(function*(){const o=yield function Qt(a){return Xt.apply(this,arguments)}(i),c=new yn(o);null===i.tenantId?i._projectPasswordPolicy=c:i._tenantPasswordPolicies[i.tenantId]=c})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(i){this._errorFactory=new e.FA("auth","Firebase",i())}onAuthStateChanged(i,o,c){return this.registerStateListener(this.authStateSubscription,i,o,c)}beforeAuthStateChanged(i,o){return this.beforeStateQueue.pushCallback(i,o)}onIdTokenChanged(i,o,c){return this.registerStateListener(this.idTokenSubscription,i,o,c)}authStateReady(){return new Promise((i,o)=>{if(this.currentUser)i();else{const c=this.onAuthStateChanged(()=>{c(),i()},o)}})}toJSON(){var i;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(i=this._currentUser)||void 0===i?void 0:i.toJSON()}}_setRedirectUser(i,o){var c=this;return(0,_.A)(function*(){const l=yield c.getOrInitRedirectPersistenceManager(o);return null===i?l.removeCurrentUser():l.setCurrentUser(i)})()}getOrInitRedirectPersistenceManager(i){var o=this;return(0,_.A)(function*(){if(!o.redirectPersistenceManager){const c=i&&m(i)||o._popupRedirectResolver;F(c,o,"argument-error"),o.redirectPersistenceManager=yield X.create(o,[m(c._redirectPersistence)],"redirectUser"),o.redirectUser=yield o.redirectPersistenceManager.getCurrentUser()}return o.redirectPersistenceManager})()}_redirectUserForId(i){var o=this;return(0,_.A)(function*(){var c,l;return o._isInitialized&&(yield o.queue((0,_.A)(function*(){}))),(null===(c=o._currentUser)||void 0===c?void 0:c._redirectEventId)===i?o._currentUser:(null===(l=o.redirectUser)||void 0===l?void 0:l._redirectEventId)===i?o.redirectUser:null})()}_persistUserIfCurrent(i){var o=this;return(0,_.A)(function*(){if(i===o.currentUser)return o.queue((0,_.A)(function*(){return o.directlySetCurrentUser(i)}))})()}_notifyListenersIfCurrent(i){i===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i,o;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const c=null!==(o=null===(i=this.currentUser)||void 0===i?void 0:i.uid)&&void 0!==o?o:null;this.lastNotifiedUid!==c&&(this.lastNotifiedUid=c,this.authStateSubscription.next(this.currentUser))}registerStateListener(i,o,c,l){if(this._deleted)return()=>{};const h="function"==typeof o?o:o.next.bind(o);let k=!1;const w=this._isInitialized?Promise.resolve():this._initializationPromise;if(F(w,this,"internal-error"),w.then(()=>{k||h(this.currentUser)}),"function"==typeof o){const j=i.addObserver(o,c,l);return()=>{k=!0,j()}}{const j=i.addObserver(o);return()=>{k=!0,j()}}}directlySetCurrentUser(i){var o=this;return(0,_.A)(function*(){o.currentUser&&o.currentUser!==i&&o._currentUser._stopProactiveRefresh(),i&&o.isProactiveRefreshEnabled&&i._startProactiveRefresh(),o.currentUser=i,i?yield o.assertedPersistence.setCurrentUser(i):yield o.assertedPersistence.removeCurrentUser()})()}queue(i){return this.operations=this.operations.then(i,i),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(i){!i||this.frameworks.includes(i)||(this.frameworks.push(i),this.frameworks.sort(),this.clientVersion=Ze(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var i=this;return(0,_.A)(function*(){var o;const c={"X-Client-Version":i.clientVersion};i.app.options.appId&&(c["X-Firebase-gmpid"]=i.app.options.appId);const l=yield null===(o=i.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===o?void 0:o.getHeartbeatsHeader();l&&(c["X-Firebase-Client"]=l);const h=yield i._getAppCheckToken();return h&&(c["X-Firebase-AppCheck"]=h),c})()}_getAppCheckToken(){var i=this;return(0,_.A)(function*(){var o;const c=yield null===(o=i.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===o?void 0:o.getToken();return c?.error&&function Me(a,...i){ee.logLevel<=D.$b.WARN&&ee.warn(`Auth (${g.SDK_VERSION}): ${a}`,...i)}(`Error while retrieving App Check token: ${c.error}`),c?.token})()}}function Ge(a){return(0,e.Ku)(a)}class et{constructor(i){this.auth=i,this.observer=null,this.addObserver=(0,e.tD)(o=>this.observer=o)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ti(a){return new Promise((i,o)=>{const c=document.createElement("script");c.setAttribute("src",a),c.onload=i,c.onerror=l=>{const h=_e("internal-error");h.customData=l,o(h)},c.type="text/javascript",c.charset="UTF-8",function Yo(){var a,i;return null!==(i=null===(a=document.getElementsByTagName("head"))||void 0===a?void 0:a[0])&&void 0!==i?i:document}().appendChild(c)})}function Br(a){return`__${a}${Math.floor(1e6*Math.random())}`}class Vr{constructor(i){this.type="recaptcha-enterprise",this.auth=Ge(i)}verify(i="verify",o=!1){var c=this;return(0,_.A)(function*(){function h(){return h=(0,_.A)(function*(w){if(!o){if(null==w.tenantId&&null!=w._agentRecaptchaConfig)return w._agentRecaptchaConfig.siteKey;if(null!=w.tenantId&&void 0!==w._tenantRecaptchaConfigs[w.tenantId])return w._tenantRecaptchaConfigs[w.tenantId].siteKey}return new Promise(function(){var j=(0,_.A)(function*(B,J){pe(w,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ye=>{if(void 0!==ye.recaptchaKey){const tt=new v(ye);return null==w.tenantId?w._agentRecaptchaConfig=tt:w._tenantRecaptchaConfigs[w.tenantId]=tt,B(tt.siteKey)}J(new Error("recaptcha Enterprise site key undefined"))}).catch(ye=>{J(ye)})});return function(B,J){return j.apply(this,arguments)}}())}),h.apply(this,arguments)}function k(w,j,B){const J=window.grecaptcha;gt(J)?J.enterprise.ready(()=>{J.enterprise.execute(w,{action:i}).then(ye=>{j(ye)}).catch(()=>{j("NO_RECAPTCHA")})}):B(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((w,j)=>{(function l(w){return h.apply(this,arguments)})(c.auth).then(B=>{if(!o&&gt(window.grecaptcha))k(B,w,j);else{if(typeof window>"u")return void j(new Error("RecaptchaVerifier is only supported in browser"));ti("https://www.google.com/recaptcha/enterprise.js?render="+B).then(()=>{k(B,w,j)}).catch(J=>{j(J)})}}).catch(B=>{j(B)})})})()}}function Yr(a,i,o){return In.apply(this,arguments)}function In(){return(In=(0,_.A)(function*(a,i,o,c=!1){const l=new Vr(a);let h;try{h=yield l.verify(o)}catch{h=yield l.verify(o,!0)}const k=Object.assign({},i);return Object.assign(k,c?{captchaResp:h}:{captchaResponse:h}),Object.assign(k,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(k,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),k})).apply(this,arguments)}function jn(a,i,o,c){return ni.apply(this,arguments)}function ni(){return ni=(0,_.A)(function*(a,i,o,c){var l;if(null!==(l=a._getRecaptchaConfig())&&void 0!==l&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=yield Yr(a,i,o,"getOobCode"===o);return c(a,h)}return c(a,i).catch(function(){var h=(0,_.A)(function*(k){if("auth/missing-recaptcha-token"===k.code){console.log(`${o} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const w=yield Yr(a,i,o,"getOobCode"===o);return c(a,w)}return Promise.reject(k)});return function(k){return h.apply(this,arguments)}}())}),ni.apply(this,arguments)}function Wr(a,i,o){const c=Ge(a);F(c._canInitEmulator,c,"emulator-config-failed"),F(/^https?:\/\//.test(i),c,"invalid-emulator-scheme");const l=!!o?.disableWarnings,h=qr(i),{host:k,port:w}=function Ko(a){const i=qr(a),o=/(\/\/)?([^?#/]+)/.exec(a.substr(i.length));if(!o)return{host:"",port:null};const c=o[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(c);if(l){const h=l[1];return{host:h,port:Qr(c.substr(h.length+1))}}{const[h,k]=c.split(":");return{host:h,port:Qr(k)}}}(i);c.config.emulator={url:`${h}//${k}${null===w?"":`:${w}`}/`},c.settings.appVerificationDisabledForTesting=!0,c.emulatorConfig=Object.freeze({host:k,port:w,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})}),l||function Zo(){function a(){const i=document.createElement("p"),o=i.style;i.innerText="Running in emulator mode. Do not use with production credentials.",o.position="fixed",o.width="100%",o.backgroundColor="#ffffff",o.border=".1em solid #000000",o.color="#b50000",o.bottom="0px",o.left="0px",o.margin="0px",o.zIndex="10000",o.textAlign="center",i.classList.add("firebase-emulator-warning"),document.body.appendChild(i)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a())}()}function qr(a){const i=a.indexOf(":");return i<0?"":a.substr(0,i+1)}function Qr(a){if(!a)return null;const i=Number(a);return isNaN(i)?null:i}class gn{constructor(i,o){this.providerId=i,this.signInMethod=o}toJSON(){return Se("not implemented")}_getIdTokenResponse(i){return Se("not implemented")}_linkToIdToken(i,o){return Se("not implemented")}_getReauthenticationResolver(i){return Se("not implemented")}}function Xr(a,i){return ri.apply(this,arguments)}function ri(){return(ri=(0,_.A)(function*(a,i){return Ie(a,"POST","/v1/accounts:resetPassword",Te(a,i))})).apply(this,arguments)}function Hr(a,i){return oi.apply(this,arguments)}function oi(){return(oi=(0,_.A)(function*(a,i){return Ie(a,"POST","/v1/accounts:update",i)})).apply(this,arguments)}function si(){return(si=(0,_.A)(function*(a,i){return Ie(a,"POST","/v1/accounts:update",Te(a,i))})).apply(this,arguments)}function ts(a,i){return ai.apply(this,arguments)}function ai(){return(ai=(0,_.A)(function*(a,i){return be(a,"POST","/v1/accounts:signInWithPassword",Te(a,i))})).apply(this,arguments)}function Mn(a,i){return ci.apply(this,arguments)}function ci(){return(ci=(0,_.A)(function*(a,i){return Ie(a,"POST","/v1/accounts:sendOobCode",Te(a,i))})).apply(this,arguments)}function li(){return(li=(0,_.A)(function*(a,i){return Mn(a,i)})).apply(this,arguments)}function is(a,i){return ui.apply(this,arguments)}function ui(){return(ui=(0,_.A)(function*(a,i){return Mn(a,i)})).apply(this,arguments)}function Jr(a,i){return di.apply(this,arguments)}function di(){return(di=(0,_.A)(function*(a,i){return Mn(a,i)})).apply(this,arguments)}function _i(){return(_i=(0,_.A)(function*(a,i){return Mn(a,i)})).apply(this,arguments)}function mi(){return(mi=(0,_.A)(function*(a,i){return be(a,"POST","/v1/accounts:signInWithEmailLink",Te(a,i))})).apply(this,arguments)}function hi(){return(hi=(0,_.A)(function*(a,i){return be(a,"POST","/v1/accounts:signInWithEmailLink",Te(a,i))})).apply(this,arguments)}class kn extends gn{constructor(i,o,c,l=null){super("password",c),this._email=i,this._password=o,this._tenantId=l}static _fromEmailAndPassword(i,o){return new kn(i,o,"password")}static _fromEmailAndCode(i,o,c=null){return new kn(i,o,"emailLink",c)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(i){const o="string"==typeof i?JSON.parse(i):i;if(o?.email&&o?.password){if("password"===o.signInMethod)return this._fromEmailAndPassword(o.email,o.password);if("emailLink"===o.signInMethod)return this._fromEmailAndCode(o.email,o.password,o.tenantId)}return null}_getIdTokenResponse(i){var o=this;return(0,_.A)(function*(){switch(o.signInMethod){case"password":return jn(i,{returnSecureToken:!0,email:o._email,password:o._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ts);case"emailLink":return function rs(a,i){return mi.apply(this,arguments)}(i,{email:o._email,oobCode:o._password});default:q(i,"internal-error")}})()}_linkToIdToken(i,o){var c=this;return(0,_.A)(function*(){switch(c.signInMethod){case"password":return Hr(i,{idToken:o,returnSecureToken:!0,email:c._email,password:c._password});case"emailLink":return function os(a,i){return hi.apply(this,arguments)}(i,{idToken:o,email:c._email,oobCode:c._password});default:q(i,"internal-error")}})()}_getReauthenticationResolver(i){return this._getIdTokenResponse(i)}}function $t(a,i){return pi.apply(this,arguments)}function pi(){return(pi=(0,_.A)(function*(a,i){return be(a,"POST","/v1/accounts:signInWithIdp",Te(a,i))})).apply(this,arguments)}class Nt extends gn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(i){const o=new Nt(i.providerId,i.signInMethod);return i.idToken||i.accessToken?(i.idToken&&(o.idToken=i.idToken),i.accessToken&&(o.accessToken=i.accessToken),i.nonce&&!i.pendingToken&&(o.nonce=i.nonce),i.pendingToken&&(o.pendingToken=i.pendingToken)):i.oauthToken&&i.oauthTokenSecret?(o.accessToken=i.oauthToken,o.secret=i.oauthTokenSecret):q("argument-error"),o}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(i){const o="string"==typeof i?JSON.parse(i):i,{providerId:c,signInMethod:l}=o,h=(0,se.Tt)(o,["providerId","signInMethod"]);if(!c||!l)return null;const k=new Nt(c,l);return k.idToken=h.idToken||void 0,k.accessToken=h.accessToken||void 0,k.secret=h.secret,k.nonce=h.nonce,k.pendingToken=h.pendingToken||null,k}_getIdTokenResponse(i){return $t(i,this.buildRequest())}_linkToIdToken(i,o){const c=this.buildRequest();return c.idToken=o,$t(i,c)}_getReauthenticationResolver(i){const o=this.buildRequest();return o.autoCreate=!1,$t(i,o)}buildRequest(){const i={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)i.pendingToken=this.pendingToken;else{const o={};this.idToken&&(o.id_token=this.idToken),this.accessToken&&(o.access_token=this.accessToken),this.secret&&(o.oauth_token_secret=this.secret),o.providerId=this.providerId,this.nonce&&!this.pendingToken&&(o.nonce=this.nonce),i.postBody=(0,e.Am)(o)}return i}}function Ht(){return(Ht=(0,_.A)(function*(a,i){return Ie(a,"POST","/v1/accounts:sendVerificationCode",Te(a,i))})).apply(this,arguments)}function nn(){return(nn=(0,_.A)(function*(a,i){return be(a,"POST","/v1/accounts:signInWithPhoneNumber",Te(a,i))})).apply(this,arguments)}function gi(){return(gi=(0,_.A)(function*(a,i){const o=yield be(a,"POST","/v1/accounts:signInWithPhoneNumber",Te(a,i));if(o.temporaryProof)throw ze(a,"account-exists-with-different-credential",o);return o})).apply(this,arguments)}const ls={USER_NOT_FOUND:"user-not-found"};function fi(){return(fi=(0,_.A)(function*(a,i){return be(a,"POST","/v1/accounts:signInWithPhoneNumber",Te(a,Object.assign(Object.assign({},i),{operation:"REAUTH"})),ls)})).apply(this,arguments)}class rn extends gn{constructor(i){super("phone","phone"),this.params=i}static _fromVerification(i,o){return new rn({verificationId:i,verificationCode:o})}static _fromTokenResponse(i,o){return new rn({phoneNumber:i,temporaryProof:o})}_getIdTokenResponse(i){return function as(a,i){return nn.apply(this,arguments)}(i,this._makeVerificationRequest())}_linkToIdToken(i,o){return function cs(a,i){return gi.apply(this,arguments)}(i,Object.assign({idToken:o},this._makeVerificationRequest()))}_getReauthenticationResolver(i){return function us(a,i){return fi.apply(this,arguments)}(i,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:i,phoneNumber:o,verificationId:c,verificationCode:l}=this.params;return i&&o?{temporaryProof:i,phoneNumber:o}:{sessionInfo:c,code:l}}toJSON(){const i={providerId:this.providerId};return this.params.phoneNumber&&(i.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(i.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(i.verificationCode=this.params.verificationCode),this.params.verificationId&&(i.verificationId=this.params.verificationId),i}static fromJSON(i){"string"==typeof i&&(i=JSON.parse(i));const{verificationId:o,verificationCode:c,phoneNumber:l,temporaryProof:h}=i;return c||o||l||h?new rn({verificationId:o,verificationCode:c,phoneNumber:l,temporaryProof:h}):null}}class Sn{constructor(i){var o,c,l,h,k,w;const j=(0,e.I9)((0,e.hp)(i)),B=null!==(o=j.apiKey)&&void 0!==o?o:null,J=null!==(c=j.oobCode)&&void 0!==c?c:null,ye=function ds(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(l=j.mode)&&void 0!==l?l:null);F(B&&J&&ye,"argument-error"),this.apiKey=B,this.operation=ye,this.code=J,this.continueUrl=null!==(h=j.continueUrl)&&void 0!==h?h:null,this.languageCode=null!==(k=j.languageCode)&&void 0!==k?k:null,this.tenantId=null!==(w=j.tenantId)&&void 0!==w?w:null}static parseLink(i){const o=function _s(a){const i=(0,e.I9)((0,e.hp)(a)).link,o=i?(0,e.I9)((0,e.hp)(i)).deep_link_id:null,c=(0,e.I9)((0,e.hp)(a)).deep_link_id;return(c?(0,e.I9)((0,e.hp)(c)).link:null)||c||o||i||a}(i);try{return new Sn(o)}catch{return null}}}let vi=(()=>{class a{constructor(){this.providerId=a.PROVIDER_ID}static credential(o,c){return kn._fromEmailAndPassword(o,c)}static credentialWithLink(o,c){const l=Sn.parseLink(c);return F(l,"argument-error"),kn._fromEmailAndCode(o,l.code,l.tenantId)}}return a.PROVIDER_ID="password",a.EMAIL_PASSWORD_SIGN_IN_METHOD="password",a.EMAIL_LINK_SIGN_IN_METHOD="emailLink",a})();class zt{constructor(i){this.providerId=i,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(i){this.defaultLanguageCode=i}setCustomParameters(i){return this.customParameters=i,this}getCustomParameters(){return this.customParameters}}class on extends zt{constructor(){super(...arguments),this.scopes=[]}addScope(i){return this.scopes.includes(i)||this.scopes.push(i),this}getScopes(){return[...this.scopes]}}class Cn extends on{static credentialFromJSON(i){const o="string"==typeof i?JSON.parse(i):i;return F("providerId"in o&&"signInMethod"in o,"argument-error"),Nt._fromParams(o)}credential(i){return this._credential(Object.assign(Object.assign({},i),{nonce:i.rawNonce}))}_credential(i){return F(i.idToken||i.accessToken,"argument-error"),Nt._fromParams(Object.assign(Object.assign({},i),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(i){return Cn.oauthCredentialFromTaggedObject(i)}static credentialFromError(i){return Cn.oauthCredentialFromTaggedObject(i.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;const{oauthIdToken:o,oauthAccessToken:c,oauthTokenSecret:l,pendingToken:h,nonce:k,providerId:w}=i;if(!c&&!l&&!o&&!h||!w)return null;try{return new Cn(w)._credential({idToken:o,accessToken:c,nonce:k,pendingToken:h})}catch{return null}}}let bi=(()=>{class a extends on{constructor(){super("facebook.com")}static credential(o){return Nt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.FACEBOOK_SIGN_IN_METHOD,accessToken:o})}static credentialFromResult(o){return a.credentialFromTaggedObject(o)}static credentialFromError(o){return a.credentialFromTaggedObject(o.customData||{})}static credentialFromTaggedObject({_tokenResponse:o}){if(!o||!("oauthAccessToken"in o)||!o.oauthAccessToken)return null;try{return a.credential(o.oauthAccessToken)}catch{return null}}}return a.FACEBOOK_SIGN_IN_METHOD="facebook.com",a.PROVIDER_ID="facebook.com",a})(),Kr=(()=>{class a extends on{constructor(){super("google.com"),this.addScope("profile")}static credential(o,c){return Nt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.GOOGLE_SIGN_IN_METHOD,idToken:o,accessToken:c})}static credentialFromResult(o){return a.credentialFromTaggedObject(o)}static credentialFromError(o){return a.credentialFromTaggedObject(o.customData||{})}static credentialFromTaggedObject({_tokenResponse:o}){if(!o)return null;const{oauthIdToken:c,oauthAccessToken:l}=o;if(!c&&!l)return null;try{return a.credential(c,l)}catch{return null}}}return a.GOOGLE_SIGN_IN_METHOD="google.com",a.PROVIDER_ID="google.com",a})(),Tn=(()=>{class a extends on{constructor(){super("github.com")}static credential(o){return Nt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.GITHUB_SIGN_IN_METHOD,accessToken:o})}static credentialFromResult(o){return a.credentialFromTaggedObject(o)}static credentialFromError(o){return a.credentialFromTaggedObject(o.customData||{})}static credentialFromTaggedObject({_tokenResponse:o}){if(!o||!("oauthAccessToken"in o)||!o.oauthAccessToken)return null;try{return a.credential(o.oauthAccessToken)}catch{return null}}}return a.GITHUB_SIGN_IN_METHOD="github.com",a.PROVIDER_ID="github.com",a})();class fn extends gn{constructor(i,o){super(i,i),this.pendingToken=o}_getIdTokenResponse(i){return $t(i,this.buildRequest())}_linkToIdToken(i,o){const c=this.buildRequest();return c.idToken=o,$t(i,c)}_getReauthenticationResolver(i){const o=this.buildRequest();return o.autoCreate=!1,$t(i,o)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(i){const o="string"==typeof i?JSON.parse(i):i,{providerId:c,signInMethod:l,pendingToken:h}=o;return c&&l&&h&&c===l?new fn(c,h):null}static _create(i,o){return new fn(i,o)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Dn extends zt{constructor(i){F(i.startsWith("saml."),"argument-error"),super(i)}static credentialFromResult(i){return Dn.samlCredentialFromTaggedObject(i)}static credentialFromError(i){return Dn.samlCredentialFromTaggedObject(i.customData||{})}static credentialFromJSON(i){const o=fn.fromJSON(i);return F(o,"argument-error"),o}static samlCredentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;const{pendingToken:o,providerId:c}=i;if(!o||!c)return null;try{return fn._create(c,o)}catch{return null}}}let hs=(()=>{class a extends on{constructor(){super("twitter.com")}static credential(o,c){return Nt._fromParams({providerId:a.PROVIDER_ID,signInMethod:a.TWITTER_SIGN_IN_METHOD,oauthToken:o,oauthTokenSecret:c})}static credentialFromResult(o){return a.credentialFromTaggedObject(o)}static credentialFromError(o){return a.credentialFromTaggedObject(o.customData||{})}static credentialFromTaggedObject({_tokenResponse:o}){if(!o)return null;const{oauthAccessToken:c,oauthTokenSecret:l}=o;if(!c||!l)return null;try{return a.credential(c,l)}catch{return null}}}return a.TWITTER_SIGN_IN_METHOD="twitter.com",a.PROVIDER_ID="twitter.com",a})();function Zr(a,i){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,_.A)(function*(a,i){return be(a,"POST","/v1/accounts:signUp",Te(a,i))})).apply(this,arguments)}class Tt{constructor(i){this.user=i.user,this.providerId=i.providerId,this._tokenResponse=i._tokenResponse,this.operationType=i.operationType}static _fromIdTokenResponse(i,o,c,l=!1){return(0,_.A)(function*(){const h=yield p._fromIdTokenResponse(i,c,l),k=eo(c);return new Tt({user:h,providerId:k,_tokenResponse:c,operationType:o})})()}static _forOperation(i,o,c){return(0,_.A)(function*(){yield i._updateTokensIfNecessary(c,!0);const l=eo(c);return new Tt({user:i,providerId:l,_tokenResponse:c,operationType:o})})()}}function eo(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}function to(a){return yi.apply(this,arguments)}function yi(){return(yi=(0,_.A)(function*(a){var i;const o=Ge(a);if(yield o._initializationPromise,null!==(i=o.currentUser)&&void 0!==i&&i.isAnonymous)return new Tt({user:o.currentUser,providerId:null,operationType:"signIn"});const c=yield Zr(o,{returnSecureToken:!0}),l=yield Tt._fromIdTokenResponse(o,"signIn",c,!0);return yield o._updateCurrentUser(l.user),l})).apply(this,arguments)}class Gn extends e.g{constructor(i,o,c,l){var h;super(o.code,o.message),this.operationType=c,this.user=l,Object.setPrototypeOf(this,Gn.prototype),this.customData={appName:i.name,tenantId:null!==(h=i.tenantId)&&void 0!==h?h:void 0,_serverResponse:o.customData._serverResponse,operationType:c}}static _fromErrorAndOperation(i,o,c,l){return new Gn(i,o,c,l)}}function no(a,i,o,c){return("reauthenticate"===i?o._getReauthenticationResolver(a):o._getIdTokenResponse(a)).catch(h=>{throw"auth/multi-factor-auth-required"===h.code?Gn._fromErrorAndOperation(a,h,i,c):h})}function io(a){return new Set(a.map(({providerId:i})=>i).filter(i=>!!i))}function ps(a,i){return Ii.apply(this,arguments)}function Ii(){return Ii=(0,_.A)(function*(a,i){const o=(0,e.Ku)(a);yield $n(!0,o,i);const{providerUserInfo:c}=yield function ft(a,i){return xt.apply(this,arguments)}(o.auth,{idToken:yield o.getIdToken(),deleteProvider:[i]}),l=io(c||[]);return o.providerData=o.providerData.filter(h=>l.has(h.providerId)),l.has("phone")||(o.phoneNumber=null),yield o.auth._persistUserIfCurrent(o),o}),Ii.apply(this,arguments)}function ki(a,i){return Si.apply(this,arguments)}function Si(){return(Si=(0,_.A)(function*(a,i,o=!1){const c=yield De(a,i._linkToIdToken(a.auth,yield a.getIdToken()),o);return Tt._forOperation(a,"link",c)})).apply(this,arguments)}function $n(a,i,o){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,_.A)(function*(a,i,o){yield qe(i);const l=!1===a?"provider-already-linked":"no-such-provider";F(io(i.providerData).has(o)===a,i.auth,l)})).apply(this,arguments)}function ro(a,i){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,_.A)(function*(a,i,o=!1){const{auth:c}=a,l="reauthenticate";try{const h=yield De(a,no(c,l,i,a),o);F(h.idToken,c,"internal-error");const k=St(h.idToken);F(k,c,"internal-error");const{sub:w}=k;return F(a.uid===w,c,"user-mismatch"),Tt._forOperation(a,l,h)}catch(h){throw"auth/user-not-found"===h?.code&&q(c,"user-mismatch"),h}})).apply(this,arguments)}function oo(a,i){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,_.A)(function*(a,i,o=!1){const c="signIn",l=yield no(a,c,i),h=yield Tt._fromIdTokenResponse(a,c,l);return o||(yield a._updateCurrentUser(h.user)),h})).apply(this,arguments)}function zn(a,i){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,_.A)(function*(a,i){return oo(Ge(a),i)})).apply(this,arguments)}function so(a,i){return wi.apply(this,arguments)}function wi(){return(wi=(0,_.A)(function*(a,i){const o=(0,e.Ku)(a);return yield $n(!1,o,i.providerId),ki(o,i)})).apply(this,arguments)}function xi(a,i){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,_.A)(function*(a,i){return ro((0,e.Ku)(a),i)})).apply(this,arguments)}function Oi(){return(Oi=(0,_.A)(function*(a,i){return be(a,"POST","/v1/accounts:signInWithCustomToken",Te(a,i))})).apply(this,arguments)}function fs(a,i){return Pi.apply(this,arguments)}function Pi(){return Pi=(0,_.A)(function*(a,i){const o=Ge(a),c=yield function gs(a,i){return Oi.apply(this,arguments)}(o,{token:i,returnSecureToken:!0}),l=yield Tt._fromIdTokenResponse(o,"signIn",c);return yield o._updateCurrentUser(l.user),l}),Pi.apply(this,arguments)}class Rn{constructor(i,o){this.factorId=i,this.uid=o.mfaEnrollmentId,this.enrollmentTime=new Date(o.enrolledAt).toUTCString(),this.displayName=o.displayName}static _fromServerResponse(i,o){return"phoneInfo"in o?Fi._fromServerResponse(i,o):"totpInfo"in o?ji._fromServerResponse(i,o):q(i,"internal-error")}}class Fi extends Rn{constructor(i){super("phone",i),this.phoneNumber=i.phoneInfo}static _fromServerResponse(i,o){return new Fi(o)}}class ji extends Rn{constructor(i){super("totp",i)}static _fromServerResponse(i,o){return new ji(o)}}function Un(a,i,o){var c;F((null===(c=o.url)||void 0===c?void 0:c.length)>0,a,"invalid-continue-uri"),F(typeof o.dynamicLinkDomain>"u"||o.dynamicLinkDomain.length>0,a,"invalid-dynamic-link-domain"),i.continueUrl=o.url,i.dynamicLinkDomain=o.dynamicLinkDomain,i.canHandleCodeInApp=o.handleCodeInApp,o.iOS&&(F(o.iOS.bundleId.length>0,a,"missing-ios-bundle-id"),i.iOSBundleId=o.iOS.bundleId),o.android&&(F(o.android.packageName.length>0,a,"missing-android-pkg-name"),i.androidInstallApp=o.android.installApp,i.androidMinimumVersionCode=o.android.minimumVersion,i.androidPackageName=o.android.packageName)}function Mi(a){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,_.A)(function*(a){const i=Ge(a);i._getPasswordPolicyInternal()&&(yield i._updatePasswordPolicy())})).apply(this,arguments)}function vs(a,i,o){return Di.apply(this,arguments)}function Di(){return(Di=(0,_.A)(function*(a,i,o){const c=Ge(a),l={requestType:"PASSWORD_RESET",email:i,clientType:"CLIENT_TYPE_WEB"};o&&Un(c,l,o),yield jn(c,l,"getOobCode",is)})).apply(this,arguments)}function ao(a,i,o){return Li.apply(this,arguments)}function Li(){return Li=(0,_.A)(function*(a,i,o){yield Xr((0,e.Ku)(a),{oobCode:i,newPassword:o}).catch(function(){var c=(0,_.A)(function*(l){throw"auth/password-does-not-meet-requirements"===l.code&&Mi(a),l});return function(l){return c.apply(this,arguments)}}())}),Li.apply(this,arguments)}function bs(a,i){return vn.apply(this,arguments)}function vn(){return vn=(0,_.A)(function*(a,i){yield function es(a,i){return si.apply(this,arguments)}((0,e.Ku)(a),{oobCode:i})}),vn.apply(this,arguments)}function co(a,i){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,_.A)(function*(a,i){const o=(0,e.Ku)(a),c=yield Xr(o,{oobCode:i}),l=c.requestType;switch(F(l,o,"internal-error"),l){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":F(c.newEmail,o,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":F(c.mfaInfo,o,"internal-error");default:F(c.email,o,"internal-error")}let h=null;return c.mfaInfo&&(h=Rn._fromServerResponse(Ge(o),c.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===c.requestType?c.newEmail:c.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===c.requestType?c.email:c.newEmail)||null,multiFactorInfo:h},operation:l}})).apply(this,arguments)}function ys(a,i){return $i.apply(this,arguments)}function $i(){return($i=(0,_.A)(function*(a,i){const{data:o}=yield co((0,e.Ku)(a),i);return o.email})).apply(this,arguments)}function Is(a,i,o){return zi.apply(this,arguments)}function zi(){return(zi=(0,_.A)(function*(a,i,o){const c=Ge(a),k=yield jn(c,{returnSecureToken:!0,email:i,password:o,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zr).catch(j=>{throw"auth/password-does-not-meet-requirements"===j.code&&Mi(a),j}),w=yield Tt._fromIdTokenResponse(c,"signIn",k);return yield c._updateCurrentUser(w.user),w})).apply(this,arguments)}function ks(a,i,o){return zn((0,e.Ku)(a),vi.credential(i,o)).catch(function(){var c=(0,_.A)(function*(l){throw"auth/password-does-not-meet-requirements"===l.code&&Mi(a),l});return function(l){return c.apply(this,arguments)}}())}function Ss(a,i,o){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,_.A)(function*(a,i,o){const c=Ge(a),l={requestType:"EMAIL_SIGNIN",email:i,clientType:"CLIENT_TYPE_WEB"};(function h(k,w){F(w.handleCodeInApp,c,"argument-error"),w&&Un(c,k,w)})(l,o),yield jn(c,l,"getOobCode",Jr)})).apply(this,arguments)}function Cs(a,i){const o=Sn.parseLink(i);return"EMAIL_SIGNIN"===o?.operation}function Ts(a,i,o){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,_.A)(function*(a,i,o){const c=(0,e.Ku)(a),l=vi.credentialWithLink(i,o||We());return F(l._tenantId===(c.tenantId||null),c,"tenant-id-mismatch"),zn(c,l)})).apply(this,arguments)}function Bi(){return(Bi=(0,_.A)(function*(a,i){return Ie(a,"POST","/v1/accounts:createAuthUri",Te(a,i))})).apply(this,arguments)}function Rs(a,i){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,_.A)(function*(a,i){const c={identifier:i,continueUri:ht()?We():"http://localhost"},{signinMethods:l}=yield function lo(a,i){return Bi.apply(this,arguments)}((0,e.Ku)(a),c);return l||[]}),Vi.apply(this,arguments)}function Es(a,i){return Yi.apply(this,arguments)}function Yi(){return Yi=(0,_.A)(function*(a,i){const o=(0,e.Ku)(a),l={requestType:"VERIFY_EMAIL",idToken:yield a.getIdToken()};i&&Un(o.auth,l,i);const{email:h}=yield function ns(a,i){return li.apply(this,arguments)}(o.auth,l);h!==a.email&&(yield a.reload())}),Yi.apply(this,arguments)}function ws(a,i,o){return Wi.apply(this,arguments)}function Wi(){return Wi=(0,_.A)(function*(a,i,o){const c=(0,e.Ku)(a),h={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield a.getIdToken(),newEmail:i};o&&Un(c.auth,h,o);const{email:k}=yield function Ct(a,i){return _i.apply(this,arguments)}(c.auth,h);k!==a.email&&(yield a.reload())}),Wi.apply(this,arguments)}function qi(){return(qi=(0,_.A)(function*(a,i){return Ie(a,"POST","/v1/accounts:update",i)})).apply(this,arguments)}function As(a,i){return Qi.apply(this,arguments)}function Qi(){return Qi=(0,_.A)(function*(a,{displayName:i,photoURL:o}){if(void 0===i&&void 0===o)return;const c=(0,e.Ku)(a),h={idToken:yield c.getIdToken(),displayName:i,photoUrl:o,returnSecureToken:!0},k=yield De(c,function xs(a,i){return qi.apply(this,arguments)}(c.auth,h));c.displayName=k.displayName||null,c.photoURL=k.photoUrl||null;const w=c.providerData.find(({providerId:j})=>"password"===j);w&&(w.displayName=c.displayName,w.photoURL=c.photoURL),yield c._updateTokensIfNecessary(k)}),Qi.apply(this,arguments)}function Os(a,i){return uo((0,e.Ku)(a),i,null)}function Ps(a,i){return uo((0,e.Ku)(a),null,i)}function uo(a,i,o){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,_.A)(function*(a,i,o){const{auth:c}=a,h={idToken:yield a.getIdToken(),returnSecureToken:!0};i&&(h.email=i),o&&(h.password=o);const k=yield De(a,Hr(c,h));yield a._updateTokensIfNecessary(k,!0)})).apply(this,arguments)}class bn{constructor(i,o,c={}){this.isNewUser=i,this.providerId=o,this.profile=c}}class _o extends bn{constructor(i,o,c,l){super(i,o,c),this.username=l}}class js extends bn{constructor(i,o){super(i,"facebook.com",o)}}class an extends _o{constructor(i,o){super(i,"github.com",o,"string"==typeof o?.login?o?.login:null)}}class Ms extends bn{constructor(i,o){super(i,"google.com",o)}}class Ns extends _o{constructor(i,o,c){super(i,"twitter.com",o,c)}}function mo(a){const{user:i,_tokenResponse:o}=a;return i.isAnonymous&&!o?{providerId:null,isNewUser:!1,profile:null}:function Fs(a){var i,o;if(!a)return null;const{providerId:c}=a,l=a.rawUserInfo?JSON.parse(a.rawUserInfo):{},h=a.isNewUser||"identitytoolkit#SignupNewUserResponse"===a.kind;if(!c&&a?.idToken){const k=null===(o=null===(i=St(a.idToken))||void 0===i?void 0:i.firebase)||void 0===o?void 0:o.sign_in_provider;if(k)return new bn(h,"anonymous"!==k&&"custom"!==k?k:null)}if(!c)return null;switch(c){case"facebook.com":return new js(h,l);case"github.com":return new an(h,l);case"google.com":return new Ms(h,l);case"twitter.com":return new Ns(h,l,a.screenName||null);case"custom":case"anonymous":return new bn(h,null);default:return new bn(h,c,l)}}(o)}class cn{constructor(i,o,c){this.type=i,this.credential=o,this.user=c}static _fromIdtoken(i,o){return new cn("enroll",i,o)}static _fromMfaPendingCredential(i){return new cn("signin",i)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(i){var o,c;if(i?.multiFactorSession){if(null!==(o=i.multiFactorSession)&&void 0!==o&&o.pendingCredential)return cn._fromMfaPendingCredential(i.multiFactorSession.pendingCredential);if(null!==(c=i.multiFactorSession)&&void 0!==c&&c.idToken)return cn._fromIdtoken(i.multiFactorSession.idToken)}return null}}class Ki{constructor(i,o,c){this.session=i,this.hints=o,this.signInResolver=c}static _fromError(i,o){const c=Ge(i),l=o.customData._serverResponse,h=(l.mfaInfo||[]).map(w=>Rn._fromServerResponse(c,w));F(l.mfaPendingCredential,c,"internal-error");const k=cn._fromMfaPendingCredential(l.mfaPendingCredential);return new Ki(k,h,function(){var w=(0,_.A)(function*(j){const B=yield j._process(c,k);delete l.mfaInfo,delete l.mfaPendingCredential;const J=Object.assign(Object.assign({},l),{idToken:B.idToken,refreshToken:B.refreshToken});switch(o.operationType){case"signIn":const ye=yield Tt._fromIdTokenResponse(c,o.operationType,J);return yield c._updateCurrentUser(ye.user),ye;case"reauthenticate":return F(o.user,c,"internal-error"),Tt._forOperation(o.user,o.operationType,J);default:q(c,"internal-error")}});return function(j){return w.apply(this,arguments)}}())}resolveSignIn(i){var o=this;return(0,_.A)(function*(){return o.signInResolver(i)})()}}function Ut(a,i){var o;const c=(0,e.Ku)(a),l=i;return F(i.customData.operationType,c,"argument-error"),F(null===(o=l.customData._serverResponse)||void 0===o?void 0:o.mfaPendingCredential,c,"argument-error"),Ki._fromError(c,l)}class Zi{constructor(i){this.user=i,this.enrolledFactors=[],i._onReload(o=>{o.mfaInfo&&(this.enrolledFactors=o.mfaInfo.map(c=>Rn._fromServerResponse(i.auth,c)))})}static _fromUser(i){return new Zi(i)}getSession(){var i=this;return(0,_.A)(function*(){return cn._fromIdtoken(yield i.user.getIdToken(),i.user)})()}enroll(i,o){var c=this;return(0,_.A)(function*(){const l=i,h=yield c.getSession(),k=yield De(c.user,l._process(c.user.auth,h,o));return yield c.user._updateTokensIfNecessary(k),c.user.reload()})()}unenroll(i){var o=this;return(0,_.A)(function*(){const c="string"==typeof i?i:i.uid,l=yield o.user.getIdToken();try{const h=yield De(o.user,function zs(a,i){return Ie(a,"POST","/v2/accounts/mfaEnrollment:withdraw",Te(a,i))}(o.user.auth,{idToken:l,mfaEnrollmentId:c}));o.enrolledFactors=o.enrolledFactors.filter(({uid:k})=>k!==c),yield o.user._updateTokensIfNecessary(h),yield o.user.reload()}catch(h){throw h}})()}}const er=new WeakMap;function Us(a){const i=(0,e.Ku)(a);return er.has(i)||er.set(i,Zi._fromUser(i)),er.get(i)}const Vn="__sak";class ho{constructor(i,o){this.storageRetriever=i,this.type=o}_isAvailable(){try{return this.storage?(this.storage.setItem(Vn,"1"),this.storage.removeItem(Vn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(i,o){return this.storage.setItem(i,JSON.stringify(o)),Promise.resolve()}_get(i){const o=this.storage.getItem(i);return Promise.resolve(o?JSON.parse(o):null)}_remove(i){return this.storage.removeItem(i),Promise.resolve()}get storage(){return this.storageRetriever()}}const po=(()=>{class a extends ho{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(o,c)=>this.onStorageEvent(o,c),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bs(){const a=(0,e.ZQ)();return $(a)||E(a)}()&&function Pe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ge(),this._shouldAllowMigration=!0}forAllChangedKeys(o){for(const c of Object.keys(this.listeners)){const l=this.storage.getItem(c),h=this.localCache[c];l!==h&&o(c,h,l)}}onStorageEvent(o,c=!1){if(!o.key)return void this.forAllChangedKeys((w,j,B)=>{this.notifyListeners(w,B)});const l=o.key;if(c?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const w=this.storage.getItem(l);if(o.newValue!==w)null!==o.newValue?this.storage.setItem(l,o.newValue):this.storage.removeItem(l);else if(this.localCache[l]===o.newValue&&!c)return}const h=()=>{const w=this.storage.getItem(l);!c&&this.localCache[l]===w||this.notifyListeners(l,w)},k=this.storage.getItem(l);!function ce(){return(0,e.lT)()&&10===document.documentMode}()||k===o.newValue||o.newValue===o.oldValue?h():setTimeout(h,10)}notifyListeners(o,c){this.localCache[o]=c;const l=this.listeners[o];if(l)for(const h of Array.from(l))h(c&&JSON.parse(c))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((o,c,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:o,oldValue:c,newValue:l}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(o,c){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[o]||(this.listeners[o]=new Set,this.localCache[o]=this.storage.getItem(o)),this.listeners[o].add(c)}_removeListener(o,c){this.listeners[o]&&(this.listeners[o].delete(c),0===this.listeners[o].size&&delete this.listeners[o]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(o,c){var l=()=>super._set,h=this;return(0,_.A)(function*(){yield l().call(h,o,c),h.localCache[o]=JSON.stringify(c)})()}_get(o){var c=()=>super._get,l=this;return(0,_.A)(function*(){const h=yield c().call(l,o);return l.localCache[o]=JSON.stringify(h),h})()}_remove(o){var c=()=>super._remove,l=this;return(0,_.A)(function*(){yield c().call(l,o),delete l.localCache[o]})()}}return a.type="LOCAL",a})(),tr=(()=>{class a extends ho{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(o,c){}_removeListener(o,c){}}return a.type="SESSION",a})();let qs=(()=>{class a{constructor(o){this.eventTarget=o,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(o){const c=this.receivers.find(h=>h.isListeningto(o));if(c)return c;const l=new a(o);return this.receivers.push(l),l}isListeningto(o){return this.eventTarget===o}handleEvent(o){var c=this;return(0,_.A)(function*(){const l=o,{eventId:h,eventType:k,data:w}=l.data,j=c.handlersMap[k];if(!j?.size)return;l.ports[0].postMessage({status:"ack",eventId:h,eventType:k});const B=Array.from(j).map(function(){var ye=(0,_.A)(function*(tt){return tt(l.origin,w)});return function(tt){return ye.apply(this,arguments)}}()),J=yield function Ws(a){return Promise.all(a.map(function(){var i=(0,_.A)(function*(o){try{return{fulfilled:!0,value:yield o}}catch(c){return{fulfilled:!1,reason:c}}});return function(o){return i.apply(this,arguments)}}()))}(B);l.ports[0].postMessage({status:"done",eventId:h,eventType:k,response:J})})()}_subscribe(o,c){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[o]||(this.handlersMap[o]=new Set),this.handlersMap[o].add(c)}_unsubscribe(o,c){this.handlersMap[o]&&c&&this.handlersMap[o].delete(c),(!c||0===this.handlersMap[o].size)&&delete this.handlersMap[o],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return a.receivers=[],a})();function En(a="",i=10){let o="";for(let c=0;c<i;c++)o+=Math.floor(10*Math.random());return a+o}class Qs{constructor(i){this.target=i,this.handlers=new Set}removeMessageHandler(i){i.messageChannel&&(i.messageChannel.port1.removeEventListener("message",i.onMessage),i.messageChannel.port1.close()),this.handlers.delete(i)}_send(i,o,c=50){var l=this;return(0,_.A)(function*(){const h=typeof MessageChannel<"u"?new MessageChannel:null;if(!h)throw new Error("connection_unavailable");let k,w;return new Promise((j,B)=>{const J=En("",20);h.port1.start();const ye=setTimeout(()=>{B(new Error("unsupported_event"))},c);w={messageChannel:h,onMessage(tt){const mn=tt;if(mn.data.eventId===J)switch(mn.data.status){case"ack":clearTimeout(ye),k=setTimeout(()=>{B(new Error("timeout"))},3e3);break;case"done":clearTimeout(k),j(mn.data.response);break;default:clearTimeout(ye),clearTimeout(k),B(new Error("invalid_response"))}}},l.handlers.add(w),h.port1.addEventListener("message",w.onMessage),l.target.postMessage({eventType:i,eventId:J,data:o},[h.port2])}).finally(()=>{w&&l.removeMessageHandler(w)})})()}}function Ye(){return window}function nr(){return typeof Ye().WorkerGlobalScope<"u"&&"function"==typeof Ye().importScripts}function ln(){return(ln=(0,_.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Yn="firebaseLocalStorageDb",un="firebaseLocalStorage",wn="fbase_key";class Jt{constructor(i){this.request=i}toPromise(){return new Promise((i,o)=>{this.request.addEventListener("success",()=>{i(this.request.result)}),this.request.addEventListener("error",()=>{o(this.request.error)})})}}function Wn(a,i){return a.transaction([un],i?"readwrite":"readonly").objectStore(un)}function rr(){const a=indexedDB.open(Yn,1);return new Promise((i,o)=>{a.addEventListener("error",()=>{o(a.error)}),a.addEventListener("upgradeneeded",()=>{const c=a.result;try{c.createObjectStore(un,{keyPath:wn})}catch(l){o(l)}}),a.addEventListener("success",(0,_.A)(function*(){const c=a.result;c.objectStoreNames.contains(un)?i(c):(c.close(),yield function go(){const a=indexedDB.deleteDatabase(Yn);return new Jt(a).toPromise()}(),i(yield rr()))}))})}function fo(a,i,o){return or.apply(this,arguments)}function or(){return(or=(0,_.A)(function*(a,i,o){const c=Wn(a,!0).put({[wn]:i,value:o});return new Jt(c).toPromise()})).apply(this,arguments)}function sr(){return(sr=(0,_.A)(function*(a,i){const o=Wn(a,!1).get(i),c=yield new Jt(o).toPromise();return void 0===c?null:c.value})).apply(this,arguments)}function vo(a,i){const o=Wn(a,!0).delete(i);return new Jt(o).toPromise()}const bo=(()=>{class a{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var o=this;return(0,_.A)(function*(){return o.db||(o.db=yield rr()),o.db})()}_withRetries(o){var c=this;return(0,_.A)(function*(){let l=0;for(;;)try{const h=yield c._openDb();return yield o(h)}catch(h){if(l++>3)throw h;c.db&&(c.db.close(),c.db=void 0)}})()}initializeServiceWorkerMessaging(){var o=this;return(0,_.A)(function*(){return nr()?o.initializeReceiver():o.initializeSender()})()}initializeReceiver(){var o=this;return(0,_.A)(function*(){o.receiver=qs._getInstance(function ir(){return nr()?self:null}()),o.receiver._subscribe("keyChanged",function(){var c=(0,_.A)(function*(l,h){return{keyProcessed:(yield o._poll()).includes(h.key)}});return function(l,h){return c.apply(this,arguments)}}()),o.receiver._subscribe("ping",function(){var c=(0,_.A)(function*(l,h){return["keyChanged"]});return function(l,h){return c.apply(this,arguments)}}())})()}initializeSender(){var o=this;return(0,_.A)(function*(){var c,l;if(o.activeServiceWorker=yield function Hs(){return ln.apply(this,arguments)}(),!o.activeServiceWorker)return;o.sender=new Qs(o.activeServiceWorker);const h=yield o.sender._send("ping",{},800);h&&null!==(c=h[0])&&void 0!==c&&c.fulfilled&&null!==(l=h[0])&&void 0!==l&&l.value.includes("keyChanged")&&(o.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(o){var c=this;return(0,_.A)(function*(){if(c.sender&&c.activeServiceWorker&&function _t(){var a;return(null===(a=navigator?.serviceWorker)||void 0===a?void 0:a.controller)||null}()===c.activeServiceWorker)try{yield c.sender._send("keyChanged",{key:o},c.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.A)(function*(){try{if(!indexedDB)return!1;const o=yield rr();return yield fo(o,Vn,"1"),yield vo(o,Vn),!0}catch{}return!1})()}_withPendingWrite(o){var c=this;return(0,_.A)(function*(){c.pendingWrites++;try{yield o()}finally{c.pendingWrites--}})()}_set(o,c){var l=this;return(0,_.A)(function*(){return l._withPendingWrite((0,_.A)(function*(){return yield l._withRetries(h=>fo(h,o,c)),l.localCache[o]=c,l.notifyServiceWorker(o)}))})()}_get(o){var c=this;return(0,_.A)(function*(){const l=yield c._withRetries(h=>function Ks(a,i){return sr.apply(this,arguments)}(h,o));return c.localCache[o]=l,l})()}_remove(o){var c=this;return(0,_.A)(function*(){return c._withPendingWrite((0,_.A)(function*(){return yield c._withRetries(l=>vo(l,o)),delete c.localCache[o],c.notifyServiceWorker(o)}))})()}_poll(){var o=this;return(0,_.A)(function*(){const c=yield o._withRetries(k=>{const w=Wn(k,!1).getAll();return new Jt(w).toPromise()});if(!c)return[];if(0!==o.pendingWrites)return[];const l=[],h=new Set;for(const{fbase_key:k,value:w}of c)h.add(k),JSON.stringify(o.localCache[k])!==JSON.stringify(w)&&(o.notifyListeners(k,w),l.push(k));for(const k of Object.keys(o.localCache))o.localCache[k]&&!h.has(k)&&(o.notifyListeners(k,null),l.push(k));return l})()}notifyListeners(o,c){this.localCache[o]=c;const l=this.listeners[o];if(l)for(const h of Array.from(l))h(c)}startPolling(){var o=this;this.stopPolling(),this.pollTimer=setInterval((0,_.A)(function*(){return o._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(o,c){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[o]||(this.listeners[o]=new Set,this._get(o)),this.listeners[o].add(c)}_removeListener(o,c){this.listeners[o]&&(this.listeners[o].delete(c),0===this.listeners[o].size&&delete this.listeners[o]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return a.type="LOCAL",a})(),qn=1e12;class oa{constructor(i){this.auth=i,this.counter=qn,this._widgets=new Map}render(i,o){const c=this.counter;return this._widgets.set(c,new sa(i,this.auth.name,o||{})),this.counter++,c}reset(i){var o;const c=i||qn;null===(o=this._widgets.get(c))||void 0===o||o.delete(),this._widgets.delete(c)}getResponse(i){var o;return(null===(o=this._widgets.get(i||qn))||void 0===o?void 0:o.getResponse())||""}execute(i){var o=this;return(0,_.A)(function*(){var c;return null===(c=o._widgets.get(i||qn))||void 0===c||c.execute(),""})()}}class sa{constructor(i,o,c){this.params=c,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const l="string"==typeof i?document.getElementById(i):i;F(l,"argument-error",{appName:o}),this.container=l,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function aa(a){const i=[],o="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let c=0;c<a;c++)i.push(o.charAt(Math.floor(62*Math.random())));return i.join("")}(50);const{callback:i,"expired-callback":o}=this.params;if(i)try{i(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,o)try{o()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ar=Br("rcb"),ca=new Et(3e4,6e4);class ua{constructor(){var i;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(i=Ye().grecaptcha)||void 0===i||!i.render)}load(i,o=""){return F(function da(a){return a.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(a)}(o),i,"argument-error"),this.shouldResolveImmediately(o)&&Ne(Ye().grecaptcha)?Promise.resolve(Ye().grecaptcha):new Promise((c,l)=>{const h=Ye().setTimeout(()=>{l(_e(i,"network-request-failed"))},ca.get());Ye()[ar]=()=>{Ye().clearTimeout(h),delete Ye()[ar];const w=Ye().grecaptcha;if(!w||!Ne(w))return void l(_e(i,"internal-error"));const j=w.render;w.render=(B,J)=>{const ye=j(B,J);return this.counter++,ye},this.hostLanguage=o,c(w)},ti(`https://www.google.com/recaptcha/api.js??${(0,e.Am)({onload:ar,render:"explicit",hl:o})}`).catch(()=>{clearTimeout(h),l(_e(i,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(i){var o;return!(null===(o=Ye().grecaptcha)||void 0===o||!o.render)&&(i===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _a{load(i){return(0,_.A)(function*(){return new oa(i)})()}clearedOneInstance(){}}const yo="recaptcha",ma={theme:"light",type:"image"};class ha{constructor(i,o,c=Object.assign({},ma)){this.parameters=c,this.type=yo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ge(i),this.isInvisible="invisible"===this.parameters.size,F(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const l="string"==typeof o?document.getElementById(o):o;F(l,this.auth,"argument-error"),this.container=l,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _a:new ua,this.validateStartingState()}verify(){var i=this;return(0,_.A)(function*(){i.assertNotDestroyed();const o=yield i.render(),c=i.getAssertedRecaptcha();return c.getResponse(o)||new Promise(h=>{const k=w=>{w&&(i.tokenChangeListeners.delete(k),h(w))};i.tokenChangeListeners.add(k),i.isInvisible&&c.execute(o)})})()}render(){try{this.assertNotDestroyed()}catch(i){return Promise.reject(i)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(i=>{throw this.renderPromise=null,i})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(i=>{this.container.removeChild(i)})}validateStartingState(){F(!this.parameters.sitekey,this.auth,"argument-error"),F(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),F(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(i){return o=>{if(this.tokenChangeListeners.forEach(c=>c(o)),"function"==typeof i)i(o);else if("string"==typeof i){const c=Ye()[i];"function"==typeof c&&c(o)}}}assertNotDestroyed(){F(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var i=this;return(0,_.A)(function*(){if(yield i.init(),!i.widgetId){let o=i.container;if(!i.isInvisible){const c=document.createElement("div");o.appendChild(c),o=c}i.widgetId=i.getAssertedRecaptcha().render(o,i.parameters)}return i.widgetId})()}init(){var i=this;return(0,_.A)(function*(){F(ht()&&!nr(),i.auth,"internal-error"),yield function pa(){let a=null;return new Promise(i=>{"complete"!==document.readyState?(a=()=>i(),window.addEventListener("load",a)):i()}).catch(i=>{throw a&&window.removeEventListener("load",a),i})}(),i.recaptcha=yield i._recaptchaLoader.load(i.auth,i.auth.languageCode||void 0);const o=yield function he(a){return wt.apply(this,arguments)}(i.auth);F(o,i.auth,"internal-error"),i.parameters.sitekey=o})()}getAssertedRecaptcha(){return F(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class cr{constructor(i,o){this.verificationId=i,this.onConfirmation=o}confirm(i){const o=rn._fromVerification(this.verificationId,i);return this.onConfirmation(o)}}function ga(a,i,o){return lr.apply(this,arguments)}function lr(){return(lr=(0,_.A)(function*(a,i,o){const c=Ge(a),l=yield Qn(c,i,(0,e.Ku)(o));return new cr(l,h=>zn(c,h))})).apply(this,arguments)}function fa(a,i,o){return ur.apply(this,arguments)}function ur(){return(ur=(0,_.A)(function*(a,i,o){const c=(0,e.Ku)(a);yield $n(!1,c,"phone");const l=yield Qn(c.auth,i,(0,e.Ku)(o));return new cr(l,h=>so(c,h))})).apply(this,arguments)}function va(a,i,o){return dr.apply(this,arguments)}function dr(){return(dr=(0,_.A)(function*(a,i,o){const c=(0,e.Ku)(a),l=yield Qn(c.auth,i,(0,e.Ku)(o));return new cr(l,h=>xi(c,h))})).apply(this,arguments)}function Qn(a,i,o){return _r.apply(this,arguments)}function _r(){return _r=(0,_.A)(function*(a,i,o){var c;const l=yield o.verify();try{let h;if(F("string"==typeof l,a,"argument-error"),F(o.type===yo,a,"argument-error"),h="string"==typeof i?{phoneNumber:i}:i,"session"in h){const k=h.session;if("phoneNumber"in h)return F("enroll"===k.type,a,"internal-error"),(yield function At(a,i){return Ie(a,"POST","/v2/accounts/mfaEnrollment:start",Te(a,i))}(a,{idToken:k.credential,phoneEnrollmentInfo:{phoneNumber:h.phoneNumber,recaptchaToken:l}})).phoneSessionInfo.sessionInfo;{F("signin"===k.type,a,"internal-error");const w=(null===(c=h.multiFactorHint)||void 0===c?void 0:c.uid)||h.multiFactorUid;return F(w,a,"missing-multi-factor-info"),(yield function ta(a,i){return Ie(a,"POST","/v2/accounts/mfaSignIn:start",Te(a,i))}(a,{mfaPendingCredential:k.credential,mfaEnrollmentId:w,phoneSignInInfo:{recaptchaToken:l}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:k}=yield function Nn(a,i){return Ht.apply(this,arguments)}(a,{phoneNumber:h.phoneNumber,recaptchaToken:l});return k}}finally{o._reset()}}),_r.apply(this,arguments)}function ba(a,i){return mr.apply(this,arguments)}function mr(){return(mr=(0,_.A)(function*(a,i){yield ki((0,e.Ku)(a),i)})).apply(this,arguments)}let ya=(()=>{class a{constructor(o){this.providerId=a.PROVIDER_ID,this.auth=Ge(o)}verifyPhoneNumber(o,c){return Qn(this.auth,o,(0,e.Ku)(c))}static credential(o,c){return rn._fromVerification(o,c)}static credentialFromResult(o){return a.credentialFromTaggedObject(o)}static credentialFromError(o){return a.credentialFromTaggedObject(o.customData||{})}static credentialFromTaggedObject({_tokenResponse:o}){if(!o)return null;const{phoneNumber:c,temporaryProof:l}=o;return c&&l?rn._fromTokenResponse(c,l):null}}return a.PROVIDER_ID="phone",a.PHONE_SIGN_IN_METHOD="phone",a})();function dn(a,i){return i?m(i):(F(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class hr extends gn{constructor(i){super("custom","custom"),this.params=i}_getIdTokenResponse(i){return $t(i,this._buildIdpRequest())}_linkToIdToken(i,o){return $t(i,this._buildIdpRequest(o))}_getReauthenticationResolver(i){return $t(i,this._buildIdpRequest())}_buildIdpRequest(i){const o={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return i&&(o.idToken=i),o}}function Ia(a){return oo(a.auth,new hr(a),a.bypassAuthState)}function ka(a){const{auth:i,user:o}=a;return F(o,i,"internal-error"),ro(o,new hr(a),a.bypassAuthState)}function Kt(a){return An.apply(this,arguments)}function An(){return(An=(0,_.A)(function*(a){const{auth:i,user:o}=a;return F(o,i,"internal-error"),ki(o,new hr(a),a.bypassAuthState)})).apply(this,arguments)}class Io{constructor(i,o,c,l,h=!1){this.auth=i,this.resolver=c,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(o)?o:[o]}execute(){var i=this;return new Promise(function(){var o=(0,_.A)(function*(c,l){i.pendingPromise={resolve:c,reject:l};try{i.eventManager=yield i.resolver._initialize(i.auth),yield i.onExecution(),i.eventManager.registerConsumer(i)}catch(h){i.reject(h)}});return function(c,l){return o.apply(this,arguments)}}())}onAuthEvent(i){var o=this;return(0,_.A)(function*(){const{urlResponse:c,sessionId:l,postBody:h,tenantId:k,error:w,type:j}=i;if(w)return void o.reject(w);const B={auth:o.auth,requestUri:c,sessionId:l,tenantId:k||void 0,postBody:h||void 0,user:o.user,bypassAuthState:o.bypassAuthState};try{o.resolve(yield o.getIdpTask(j)(B))}catch(J){o.reject(J)}})()}onError(i){this.reject(i)}getIdpTask(i){switch(i){case"signInViaPopup":case"signInViaRedirect":return Ia;case"linkViaPopup":case"linkViaRedirect":return Kt;case"reauthViaPopup":case"reauthViaRedirect":return ka;default:q(this.auth,"internal-error")}}resolve(i){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(i),this.unregisterAndCleanUp()}reject(i){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(i),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sa=new Et(2e3,1e4);function Ca(a,i,o){return pr.apply(this,arguments)}function pr(){return(pr=(0,_.A)(function*(a,i,o){const c=Ge(a);Re(a,i,zt);const l=dn(c,o);return new vr(c,"signInViaPopup",i,l).executeNotNull()})).apply(this,arguments)}function Ta(a,i,o){return gr.apply(this,arguments)}function gr(){return(gr=(0,_.A)(function*(a,i,o){const c=(0,e.Ku)(a);Re(c.auth,i,zt);const l=dn(c.auth,o);return new vr(c.auth,"reauthViaPopup",i,l,c).executeNotNull()})).apply(this,arguments)}function Ra(a,i,o){return fr.apply(this,arguments)}function fr(){return(fr=(0,_.A)(function*(a,i,o){const c=(0,e.Ku)(a);Re(c.auth,i,zt);const l=dn(c.auth,o);return new vr(c.auth,"linkViaPopup",i,l,c).executeNotNull()})).apply(this,arguments)}let vr=(()=>{class a extends Io{constructor(o,c,l,h,k){super(o,c,h,k),this.provider=l,this.authWindow=null,this.pollId=null,a.currentPopupAction&&a.currentPopupAction.cancel(),a.currentPopupAction=this}executeNotNull(){var o=this;return(0,_.A)(function*(){const c=yield o.execute();return F(c,o.auth,"internal-error"),c})()}onExecution(){var o=this;return(0,_.A)(function*(){Ee(1===o.filter.length,"Popup operations only handle one event");const c=En();o.authWindow=yield o.resolver._openPopup(o.auth,o.provider,o.filter[0],c),o.authWindow.associatedEvent=c,o.resolver._originValidation(o.auth).catch(l=>{o.reject(l)}),o.resolver._isIframeWebStorageSupported(o.auth,l=>{l||o.reject(_e(o.auth,"web-storage-unsupported"))}),o.pollUserCancellation()})()}get eventId(){var o;return(null===(o=this.authWindow)||void 0===o?void 0:o.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,a.currentPopupAction=null}pollUserCancellation(){const o=()=>{var c,l;this.pollId=null!==(l=null===(c=this.authWindow)||void 0===c?void 0:c.window)&&void 0!==l&&l.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(o,Sa.get())};o()}}return a.currentPopupAction=null,a})();const Ea="pendingRedirect",Ot=new Map;class wa extends Io{constructor(i,o,c=!1){super(i,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],o,void 0,c),this.eventId=null}execute(){var i=()=>super.execute,o=this;return(0,_.A)(function*(){let c=Ot.get(o.auth._key());if(!c){try{const h=(yield function _n(a,i){return Zt.apply(this,arguments)}(o.resolver,o.auth))?yield i().call(o):null;c=()=>Promise.resolve(h)}catch(l){c=()=>Promise.reject(l)}Ot.set(o.auth._key(),c)}return o.bypassAuthState||Ot.set(o.auth._key(),()=>Promise.resolve(null)),c()})()}onAuthEvent(i){var o=()=>super.onAuthEvent,c=this;return(0,_.A)(function*(){if("signInViaRedirect"===i.type)return o().call(c,i);if("unknown"!==i.type){if(i.eventId){const l=yield c.auth._redirectUserForId(i.eventId);if(l)return c.user=l,o().call(c,i);c.resolve(null)}}else c.resolve(null)})()}onExecution(){return(0,_.A)(function*(){})()}cleanUp(){}}function Zt(){return(Zt=(0,_.A)(function*(a,i){const o=Co(i),c=So(a);if(!(yield c._isAvailable()))return!1;const l="true"===(yield c._get(o));return yield c._remove(o),l})).apply(this,arguments)}function br(a,i){return yr.apply(this,arguments)}function yr(){return(yr=(0,_.A)(function*(a,i){return So(a)._set(Co(i),"true")})).apply(this,arguments)}function xa(){Ot.clear()}function ko(a,i){Ot.set(a._key(),i)}function So(a){return m(a._redirectPersistence)}function Co(a){return G(Ea,a.config.apiKey,a.name)}function Aa(a,i,o){return function Oa(a,i,o){return Ir.apply(this,arguments)}(a,i,o)}function Ir(){return(Ir=(0,_.A)(function*(a,i,o){const c=Ge(a);Re(a,i,zt),yield c._initializationPromise;const l=dn(c,o);return yield br(l,c),l._openRedirect(c,i,"signInViaRedirect")})).apply(this,arguments)}function Pa(a,i,o){return function Fa(a,i,o){return kr.apply(this,arguments)}(a,i,o)}function kr(){return(kr=(0,_.A)(function*(a,i,o){const c=(0,e.Ku)(a);Re(c.auth,i,zt),yield c.auth._initializationPromise;const l=dn(c.auth,o);yield br(l,c.auth);const h=yield To(c);return l._openRedirect(c.auth,i,"reauthViaRedirect",h)})).apply(this,arguments)}function ja(a,i,o){return function en(a,i,o){return Sr.apply(this,arguments)}(a,i,o)}function Sr(){return(Sr=(0,_.A)(function*(a,i,o){const c=(0,e.Ku)(a);Re(c.auth,i,zt),yield c.auth._initializationPromise;const l=dn(c.auth,o);yield $n(!1,c,i.providerId),yield br(l,c.auth);const h=yield To(c);return l._openRedirect(c.auth,i,"linkViaRedirect",h)})).apply(this,arguments)}function Ma(a,i){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,_.A)(function*(a,i){return yield Ge(a)._initializationPromise,Tr(a,i,!1)})).apply(this,arguments)}function Tr(a,i){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,_.A)(function*(a,i,o=!1){const c=Ge(a),l=dn(c,i),k=yield new wa(c,l,o).execute();return k&&!o&&(delete k.user._redirectEventId,yield c._persistUserIfCurrent(k.user),yield c._setRedirectUser(null,i)),k})).apply(this,arguments)}function To(a){return Er.apply(this,arguments)}function Er(){return(Er=(0,_.A)(function*(a){const i=En(`${a.uid}:::`);return a._redirectEventId=i,yield a.auth._setRedirectUser(a),yield a.auth._persistUserIfCurrent(a),i})).apply(this,arguments)}class Ro{constructor(i){this.auth=i,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(i){this.consumers.add(i),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,i)&&(this.sendToConsumer(this.queuedRedirectEvent,i),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(i){this.consumers.delete(i)}onEvent(i){if(this.hasEventBeenHandled(i))return!1;let o=!1;return this.consumers.forEach(c=>{this.isEventForConsumer(i,c)&&(o=!0,this.sendToConsumer(i,c),this.saveEventToCache(i))}),this.hasHandledPotentialRedirect||!function Xe(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return On(a);default:return!1}}(i)||(this.hasHandledPotentialRedirect=!0,o||(this.queuedRedirectEvent=i,o=!0)),o}sendToConsumer(i,o){var c;if(i.error&&!On(i)){const l=(null===(c=i.error.code)||void 0===c?void 0:c.split("auth/")[1])||"internal-error";o.onError(_e(this.auth,l))}else o.onAuthEvent(i)}isEventForConsumer(i,o){const c=null===o.eventId||!!i.eventId&&i.eventId===o.eventId;return o.filter.includes(i.type)&&c}hasEventBeenHandled(i){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Eo(i))}saveEventToCache(i){this.cachedEventUids.add(Eo(i)),this.lastProcessedEventTime=Date.now()}}function Eo(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(i=>i).join("-")}function On({type:a,error:i}){return"unknown"===a&&"auth/no-auth-event"===i?.code}function Da(a){return wr.apply(this,arguments)}function wr(){return(wr=(0,_.A)(function*(a,i={}){return Ie(a,"GET","/v1/projects",i)})).apply(this,arguments)}const La=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pn=/^https?/;function xr(){return(xr=(0,_.A)(function*(a){if(a.config.emulator)return;const{authorizedDomains:i}=yield Da(a);for(const o of i)try{if(Ga(o))return}catch{}q(a,"unauthorized-domain")})).apply(this,arguments)}function Ga(a){const i=We(),{protocol:o,hostname:c}=new URL(i);if(a.startsWith("chrome-extension://")){const k=new URL(a);return""===k.hostname&&""===c?"chrome-extension:"===o&&a.replace("chrome-extension://","")===i.replace("chrome-extension://",""):"chrome-extension:"===o&&k.hostname===c}if(!Pn.test(o))return!1;if(La.test(a))return c===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(c)}const $a=new Et(3e4,6e4);function xo(){const a=Ye().___jsl;if(a?.H)for(const i of Object.keys(a.H))if(a.H[i].r=a.H[i].r||[],a.H[i].L=a.H[i].L||[],a.H[i].r=[...a.H[i].L],a.CP)for(let o=0;o<a.CP.length;o++)a.CP[o]=null}let Xn=null;const Ua=new Et(5e3,15e3),Ba="__/auth/iframe",Va="emulator/auth/iframe",Ya={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qa(a){const i=a.config;F(i.authDomain,a,"auth-domain-config-required");const o=i.emulator?ot(i,Va):`https://${a.config.authDomain}/${Ba}`,c={apiKey:i.apiKey,appName:a.name,v:g.SDK_VERSION},l=Wa.get(a.config.apiHost);l&&(c.eid=l);const h=a._getFrameworks();return h.length&&(c.fw=h.join(",")),`${o}?${(0,e.Am)(c).slice(1)}`}function Ar(){return Ar=(0,_.A)(function*(a){const i=yield function za(a){return Xn=Xn||function Ao(a){return new Promise((i,o)=>{var c,l,h;function k(){xo(),gapi.load("gapi.iframes",{callback:()=>{i(gapi.iframes.getContext())},ontimeout:()=>{xo(),o(_e(a,"network-request-failed"))},timeout:$a.get()})}if(null!==(l=null===(c=Ye().gapi)||void 0===c?void 0:c.iframes)&&void 0!==l&&l.Iframe)i(gapi.iframes.getContext());else{if(null===(h=Ye().gapi)||void 0===h||!h.load){const w=Br("iframefcb");return Ye()[w]=()=>{gapi.load?k():o(_e(a,"network-request-failed"))},ti(`https://apis.google.com/js/api.js?onload=${w}`).catch(j=>o(j))}k()}}).catch(i=>{throw Xn=null,i})}(a),Xn}(a),o=Ye().gapi;return F(o,a,"internal-error"),i.open({where:document.body,url:qa(a),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ya,dontclear:!0},c=>new Promise(function(){var l=(0,_.A)(function*(h,k){yield c.restyle({setHideOnLeave:!1});const w=_e(a,"network-request-failed"),j=Ye().setTimeout(()=>{k(w)},Ua.get());function B(){Ye().clearTimeout(j),h(c)}c.ping(B).then(B,()=>{k(w)})});return function(h,k){return l.apply(this,arguments)}}()))}),Ar.apply(this,arguments)}const Xa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Or{constructor(i){this.window=i,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const nc="__/auth/handler",ic="emulator/auth/handler",Hn=encodeURIComponent("fac");function Pr(a,i,o,c,l,h){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,_.A)(function*(a,i,o,c,l,h){F(a.config.authDomain,a,"auth-domain-config-required"),F(a.config.apiKey,a,"invalid-api-key");const k={apiKey:a.config.apiKey,appName:a.name,authType:o,redirectUrl:c,v:g.SDK_VERSION,eventId:l};if(i instanceof zt){i.setDefaultLanguage(a.languageCode),k.providerId=i.providerId||"",(0,e.Im)(i.getCustomParameters())||(k.customParameters=JSON.stringify(i.getCustomParameters()));for(const[J,ye]of Object.entries(h||{}))k[J]=ye}if(i instanceof on){const J=i.getScopes().filter(ye=>""!==ye);J.length>0&&(k.scopes=J.join(","))}a.tenantId&&(k.tid=a.tenantId);const w=k;for(const J of Object.keys(w))void 0===w[J]&&delete w[J];const j=yield a._getAppCheckToken(),B=j?`#${Hn}=${encodeURIComponent(j)}`:"";return`${function Oo({config:a}){return a.emulator?ot(a,ic):`https://${a.authDomain}/${nc}`}(a)}?${(0,e.Am)(w).slice(1)}${B}`})).apply(this,arguments)}const jr="webStorageSupport",Po=class rc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tr,this._completeRedirectFn=Tr,this._overrideRedirectResult=ko}_openPopup(i,o,c,l){var h=this;return(0,_.A)(function*(){var k;Ee(null===(k=h.eventManagers[i._key()])||void 0===k?void 0:k.manager,"_initialize() not called before _openPopup()");const w=yield Pr(i,o,c,We(),l);return function ec(a,i,o,c=500,l=600){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),k=Math.max((window.screen.availWidth-c)/2,0).toString();let w="";const j=Object.assign(Object.assign({},Xa),{width:c.toString(),height:l.toString(),top:h,left:k}),B=(0,e.ZQ)().toLowerCase();o&&(w=Oe(B)?"_blank":o),Ce(B)&&(i=i||"http://localhost",j.scrollbars="yes");const J=Object.entries(j).reduce((tt,[mn,ei])=>`${tt}${mn}=${ei},`,"");if(function H(a=(0,e.ZQ)()){var i;return E(a)&&!(null===(i=window.navigator)||void 0===i||!i.standalone)}(B)&&"_self"!==w)return function tc(a,i){const o=document.createElement("a");o.href=a,o.target=i;const c=document.createEvent("MouseEvent");c.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),o.dispatchEvent(c)}(i||"",w),new Or(null);const ye=window.open(i||"",w,J);F(ye,a,"popup-blocked");try{ye.focus()}catch{}return new Or(ye)}(i,w,En())})()}_openRedirect(i,o,c,l){var h=this;return(0,_.A)(function*(){return yield h._originValidation(i),function Xs(a){Ye().location.href=a}(yield Pr(i,o,c,We(),l)),new Promise(()=>{})})()}_initialize(i){const o=i._key();if(this.eventManagers[o]){const{manager:l,promise:h}=this.eventManagers[o];return l?Promise.resolve(l):(Ee(h,"If manager is not set, promise should be"),h)}const c=this.initAndGetManager(i);return this.eventManagers[o]={promise:c},c.catch(()=>{delete this.eventManagers[o]}),c}initAndGetManager(i){var o=this;return(0,_.A)(function*(){const c=yield function Qa(a){return Ar.apply(this,arguments)}(i),l=new Ro(i);return c.register("authEvent",h=>(F(h?.authEvent,i,"invalid-auth-event"),{status:l.onEvent(h.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),o.eventManagers[i._key()]={manager:l},o.iframes[i._key()]=c,l})()}_isIframeWebStorageSupported(i,o){this.iframes[i._key()].send(jr,{type:jr},l=>{var h;const k=null===(h=l?.[0])||void 0===h?void 0:h[jr];void 0!==k&&o(!!k),q(i,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(i){const o=i._key();return this.originValidationPromises[o]||(this.originValidationPromises[o]=function wo(a){return xr.apply(this,arguments)}(i)),this.originValidationPromises[o]}get _shouldInitProactively(){return ge()||$()||E()}};class Fo{constructor(i){this.factorId=i}_process(i,o,c){switch(o.type){case"enroll":return this._finalizeEnroll(i,o.credential,c);case"signin":return this._finalizeSignIn(i,o.credential);default:return Se("unexpected MultiFactorSessionType")}}}class Mr extends Fo{constructor(i){super("phone"),this.credential=i}static _fromCredential(i){return new Mr(i)}_finalizeEnroll(i,o,c){return function Gs(a,i){return Ie(a,"POST","/v2/accounts/mfaEnrollment:finalize",Te(a,i))}(i,{idToken:o,displayName:c,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(i,o){return function xn(a,i){return Ie(a,"POST","/v2/accounts/mfaSignIn:finalize",Te(a,i))}(i,{mfaPendingCredential:o,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let oc=(()=>{class a{constructor(){}static assertion(o){return Mr._fromCredential(o)}}return a.FACTOR_ID="phone",a})();var cc="@firebase/auth";class wc{constructor(i){this.auth=i,this.internalListeners=new Map}getUid(){var i;return this.assertAuthConfigured(),(null===(i=this.auth.currentUser)||void 0===i?void 0:i.uid)||null}getToken(i){var o=this;return(0,_.A)(function*(){return o.assertAuthConfigured(),yield o.auth._initializationPromise,o.auth.currentUser?{accessToken:yield o.auth.currentUser.getIdToken(i)}:null})()}addAuthTokenListener(i){if(this.assertAuthConfigured(),this.internalListeners.has(i))return;const o=this.auth.onIdTokenChanged(c=>{i(c?.stsTokenManager.accessToken||null)});this.internalListeners.set(i,o),this.updateProactiveRefresh()}removeAuthTokenListener(i){this.assertAuthConfigured();const o=this.internalListeners.get(i);o&&(this.internalListeners.delete(i),o(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,e.XA)("authIdTokenMaxAge"),function Zn(a){(0,g._registerComponent)(new fe.uA("auth",(i,{options:o})=>{const c=i.getProvider("app").getImmediate(),l=i.getProvider("heartbeat"),h=i.getProvider("app-check-internal"),{apiKey:k,authDomain:w}=c.options;F(k&&!k.includes(":"),"invalid-api-key",{appName:c.name});const j={apiKey:k,authDomain:w,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ze(a)},B=new Vo(c,l,h,j);return function Jo(a,i){const o=i?.persistence||[],c=(Array.isArray(o)?o:[o]).map(m);i?.errorMap&&a._updateErrorMap(i.errorMap),a._initializeWithPersistence(c,i?.popupRedirectResolver)}(B,o),B},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,o,c)=>{i.getProvider("auth-internal").initialize()})),(0,g._registerComponent)(new fe.uA("auth-internal",i=>{const o=Ge(i.getProvider("auth").getImmediate());return new wc(o)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,g.registerVersion)(cc,"1.3.2",function lc(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(a)),(0,g.registerVersion)(cc,"1.3.2","esm2017")}("Browser")},94200:(it,ke,y)=>{"use strict";y.d(ke,{Am:()=>st,Bd:()=>Ee,FA:()=>pt,I9:()=>ft,Im:()=>he,Ku:()=>Gt,Ll:()=>Se,T9:()=>q,Uj:()=>ae,XA:()=>_e,ZQ:()=>oe,bD:()=>pe,cY:()=>ve,eX:()=>jt,g:()=>Ie,gR:()=>gt,hp:()=>xt,jZ:()=>F,lT:()=>Pt,lV:()=>ht,sr:()=>We,tD:()=>kt,u:()=>C,zW:()=>Ft,zw:()=>N});const D=function(I){const b=[];let p=0;for(let f=0;f<I.length;f++){let m=I.charCodeAt(f);m<128?b[p++]=m:m<2048?(b[p++]=m>>6|192,b[p++]=63&m|128):55296==(64512&m)&&f+1<I.length&&56320==(64512&I.charCodeAt(f+1))?(m=65536+((1023&m)<<10)+(1023&I.charCodeAt(++f)),b[p++]=m>>18|240,b[p++]=m>>12&63|128,b[p++]=m>>6&63|128,b[p++]=63&m|128):(b[p++]=m>>12|224,b[p++]=m>>6&63|128,b[p++]=63&m|128)}return b},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(I,b){if(!Array.isArray(I))throw Error("encodeByteArray takes an array as a parameter");this.init_();const p=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,f=[];for(let m=0;m<I.length;m+=3){const T=I[m],A=m+1<I.length,G=A?I[m+1]:0,X=m+2<I.length,ne=X?I[m+2]:0;let Oe=(15&G)<<2|ne>>6,ue=63&ne;X||(ue=64,A||(Oe=64)),f.push(p[T>>2],p[(3&T)<<4|G>>4],p[Oe],p[ue])}return f.join("")},encodeString(I,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(I):this.encodeByteArray(D(I),b)},decodeString(I,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(I):function(I){const b=[];let p=0,f=0;for(;p<I.length;){const m=I[p++];if(m<128)b[f++]=String.fromCharCode(m);else if(m>191&&m<224){const T=I[p++];b[f++]=String.fromCharCode((31&m)<<6|63&T)}else if(m>239&&m<365){const X=((7&m)<<18|(63&I[p++])<<12|(63&I[p++])<<6|63&I[p++])-65536;b[f++]=String.fromCharCode(55296+(X>>10)),b[f++]=String.fromCharCode(56320+(1023&X))}else{const T=I[p++],A=I[p++];b[f++]=String.fromCharCode((15&m)<<12|(63&T)<<6|63&A)}}return b.join("")}(this.decodeStringToByteArray(I,b))},decodeStringToByteArray(I,b){this.init_();const p=b?this.charToByteMapWebSafe_:this.charToByteMap_,f=[];for(let m=0;m<I.length;){const T=p[I.charAt(m++)],G=m<I.length?p[I.charAt(m)]:0;++m;const ne=m<I.length?p[I.charAt(m)]:64;++m;const $=m<I.length?p[I.charAt(m)]:64;if(++m,null==T||null==G||null==ne||null==$)throw new re;f.push(T<<2|G>>4),64!==ne&&(f.push(G<<4&240|ne>>2),64!==$&&f.push(ne<<6&192|$))}return f},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let I=0;I<this.ENCODED_VALS.length;I++)this.byteToCharMap_[I]=this.ENCODED_VALS.charAt(I),this.charToByteMap_[this.byteToCharMap_[I]]=I,this.byteToCharMapWebSafe_[I]=this.ENCODED_VALS_WEBSAFE.charAt(I),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[I]]=I,I>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(I)]=I,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(I)]=I)}}};class re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ae=function(I){return function(I){const b=D(I);return fe.encodeByteArray(b,!0)}(I).replace(/\./g,"")},C=function(I){try{return fe.decodeString(I,!0)}catch(b){console.error("base64Decode failed: ",b)}return null};function N(I,b){if(!(b instanceof Object))return b;switch(b.constructor){case Date:return new Date(b.getTime());case Object:void 0===I&&(I={});break;case Array:I=[];break;default:return b}for(const p in b)!b.hasOwnProperty(p)||!P(p)||(I[p]=N(I[p],b[p]));return I}function P(I){return"__proto__"!==I}const ee=()=>{try{return function z(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const I=process.env.__FIREBASE_DEFAULTS__;return I?JSON.parse(I):void 0})()||(()=>{if(typeof document>"u")return;let I;try{I=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const b=I&&C(I[1]);return b&&JSON.parse(b)})()}catch(I){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${I}`)}},q=()=>{var I;return null===(I=ee())||void 0===I?void 0:I.config},_e=I=>{var b;return null===(b=ee())||void 0===b?void 0:b[`_${I}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((b,p)=>{this.resolve=b,this.reject=p})}wrapCallback(b){return(p,f)=>{p?this.reject(p):this.resolve(f),"function"==typeof b&&(this.promise.catch(()=>{}),1===b.length?b(p):b(p,f))}}}function oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function F(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oe())}function Se(){var I;const b=null===(I=ee())||void 0===I?void 0:I.forceEnvironment;if("node"===b)return!0;if("browser"===b)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ee(){return"object"==typeof self&&self.self===self}function We(){const I="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof I&&void 0!==I.id}function ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pt(){const I=oe();return I.indexOf("MSIE ")>=0||I.indexOf("Trident/")>=0}function Ft(){try{return"object"==typeof indexedDB}catch{return!1}}function jt(){return new Promise((I,b)=>{try{let p=!0;const f="validate-browser-context-for-indexeddb-analytics-module",m=self.indexedDB.open(f);m.onsuccess=()=>{m.result.close(),p||self.indexedDB.deleteDatabase(f),I(!0)},m.onupgradeneeded=()=>{p=!1},m.onerror=()=>{var T;b((null===(T=m.error)||void 0===T?void 0:T.message)||"")}}catch(p){b(p)}})}class Ie extends Error{constructor(b,p,f){super(p),this.code=b,this.customData=f,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pt.prototype.create)}}class pt{constructor(b,p,f){this.service=b,this.serviceName=p,this.errors=f}create(b,...p){const f=p[0]||{},m=`${this.service}/${b}`,T=this.errors[b],A=T?function rt(I,b){return I.replace(V,(p,f)=>{const m=b[f];return null!=m?String(m):`<${f}?>`})}(T,f):"Error";return new Ie(m,`${this.serviceName}: ${A} (${m}).`,f)}}const V=/\{\$([^}]+)}/g;function gt(I,b){return Object.prototype.hasOwnProperty.call(I,b)}function he(I){for(const b in I)if(Object.prototype.hasOwnProperty.call(I,b))return!1;return!0}function pe(I,b){if(I===b)return!0;const p=Object.keys(I),f=Object.keys(b);for(const m of p){if(!f.includes(m))return!1;const T=I[m],A=b[m];if($e(T)&&$e(A)){if(!pe(T,A))return!1}else if(T!==A)return!1}for(const m of f)if(!p.includes(m))return!1;return!0}function $e(I){return null!==I&&"object"==typeof I}function st(I){const b=[];for(const[p,f]of Object.entries(I))Array.isArray(f)?f.forEach(m=>{b.push(encodeURIComponent(p)+"="+encodeURIComponent(m))}):b.push(encodeURIComponent(p)+"="+encodeURIComponent(f));return b.length?"&"+b.join("&"):""}function ft(I){const b={};return I.replace(/^\?/,"").split("&").forEach(f=>{if(f){const[m,T]=f.split("=");b[decodeURIComponent(m)]=decodeURIComponent(T)}}),b}function xt(I){const b=I.indexOf("?");if(!b)return"";const p=I.indexOf("#",b);return I.substring(b,p>0?p:void 0)}function kt(I,b){const p=new vt(I,b);return p.subscribe.bind(p)}class vt{constructor(b,p){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=p,this.task.then(()=>{b(this)}).catch(f=>{this.error(f)})}next(b){this.forEachObserver(p=>{p.next(b)})}error(b){this.forEachObserver(p=>{p.error(b)}),this.close(b)}complete(){this.forEachObserver(b=>{b.complete()}),this.close()}subscribe(b,p,f){let m;if(void 0===b&&void 0===p&&void 0===f)throw new Error("Missing Observer.");m=function Je(I,b){if("object"!=typeof I||null===I)return!1;for(const p of b)if(p in I&&"function"==typeof I[p])return!0;return!1}(b,["next","error","complete"])?b:{next:b,error:p,complete:f},void 0===m.next&&(m.next=lt),void 0===m.error&&(m.error=lt),void 0===m.complete&&(m.complete=lt);const T=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?m.error(this.finalError):m.complete()}catch{}}),this.observers.push(m),T}unsubscribeOne(b){void 0===this.observers||void 0===this.observers[b]||(delete this.observers[b],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(b){if(!this.finalized)for(let p=0;p<this.observers.length;p++)this.sendOne(p,b)}sendOne(b,p){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[b])try{p(this.observers[b])}catch(f){typeof console<"u"&&console.error&&console.error(f)}})}close(b){this.finalized||(this.finalized=!0,void 0!==b&&(this.finalError=b),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lt(){}function Gt(I){return I&&I._delegate?I._delegate:I}},43277:function(it,ke){var y,e;void 0!==(e="function"==typeof(y=function(){"use strict";function D(C,R,N){var P=new XMLHttpRequest;P.open("GET",C),P.responseType="blob",P.onload=function(){ae(P.response,R,N)},P.onerror=function(){console.error("could not download file")},P.send()}function se(C){var R=new XMLHttpRequest;R.open("HEAD",C,!1);try{R.send()}catch{}return 200<=R.status&&299>=R.status}function fe(C){try{C.dispatchEvent(new MouseEvent("click"))}catch{var R=document.createEvent("MouseEvents");R.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),C.dispatchEvent(R)}}var re="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,le=re.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),ae=re.saveAs||("object"!=typeof window||window!==re?function(){}:"download"in HTMLAnchorElement.prototype&&!le?function(C,R,N){var P=re.URL||re.webkitURL,z=document.createElement("a");z.download=R=R||C.name||"download",z.rel="noopener","string"==typeof C?(z.href=C,z.origin===location.origin?fe(z):se(z.href)?D(C,R,N):fe(z,z.target="_blank")):(z.href=P.createObjectURL(C),setTimeout(function(){P.revokeObjectURL(z.href)},4e4),setTimeout(function(){fe(z)},0))}:"msSaveOrOpenBlob"in navigator?function(C,R,N){if(R=R||C.name||"download","string"!=typeof C)navigator.msSaveOrOpenBlob(function g(C,R){return typeof R>"u"?R={autoBom:!1}:"object"!=typeof R&&(console.warn("Deprecated: Expected third argument to be a object"),R={autoBom:!R}),R.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(C.type)?new Blob(["\ufeff",C],{type:C.type}):C}(C,N),R);else if(se(C))D(C,R,N);else{var P=document.createElement("a");P.href=C,P.target="_blank",setTimeout(function(){fe(P)})}}:function(C,R,N,P){if((P=P||open("","_blank"))&&(P.document.title=P.document.body.innerText="downloading..."),"string"==typeof C)return D(C,R,N);var z="application/octet-stream"===C.type,U=/constructor/i.test(re.HTMLElement)||re.safari,K=/CriOS\/[\d]+/.test(navigator.userAgent);if((K||z&&U||le)&&typeof FileReader<"u"){var Z=new FileReader;Z.onloadend=function(){var xe=Z.result;xe=K?xe:xe.replace(/^data:[^;]*;/,"data:attachment/file;"),P?P.location.href=xe:location=xe,P=null},Z.readAsDataURL(C)}else{var ee=re.URL||re.webkitURL,Me=ee.createObjectURL(C);P?P.location=Me:location.href=Me,P=null,setTimeout(function(){ee.revokeObjectURL(Me)},4e4)}});re.saveAs=ae.saveAs=ae,it.exports=ae})?y.apply(ke,[]):y)&&(it.exports=e)},26863:(it,ke,y)=>{"use strict";y.d(ke,{A:()=>U});var _=y(94200),e=y(12248),g=y(24788),D=y(56094);class se{constructor(Z,ee){this._delegate=Z,this.firebase=ee,(0,g._addComponent)(Z,new e.uA("app-compat",()=>this,"PUBLIC")),this.container=Z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this._delegate.automaticDataCollectionEnabled=Z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Z=>{this._delegate.checkDestroyed(),Z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,g.deleteApp)(this._delegate)))}_getService(Z,ee=g._DEFAULT_ENTRY_NAME){var Me;this._delegate.checkDestroyed();const xe=this._delegate.container.getProvider(Z);return!xe.isInitialized()&&"EXPLICIT"===(null===(Me=xe.getComponent())||void 0===Me?void 0:Me.instantiationMode)&&xe.initialize(),xe.getImmediate({identifier:ee})}_removeServiceInstance(Z,ee=g._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Z).clearInstance(ee)}_addComponent(Z){(0,g._addComponent)(this._delegate,Z)}_addOrOverwriteComponent(Z){(0,g._addOrOverwriteComponent)(this._delegate,Z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new _.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),C=function ae(){const K=function le(K){const Z={},ee={__esModule:!0,initializeApp:function q(oe,F={}){const Se=g.initializeApp(oe,F);if((0,_.gR)(Z,Se.name))return Z[Se.name];const Ee=new K(Se,ee);return Z[Se.name]=Ee,Ee},app:xe,registerVersion:g.registerVersion,setLogLevel:g.setLogLevel,onLog:g.onLog,apps:null,SDK_VERSION:g.SDK_VERSION,INTERNAL:{registerComponent:function ve(oe){const F=oe.name,Se=F.replace("-compat","");if(g._registerComponent(oe)&&"PUBLIC"===oe.type){const Ee=(We=xe())=>{if("function"!=typeof We[Se])throw re.create("invalid-app-argument",{appName:F});return We[Se]()};void 0!==oe.serviceProps&&(0,_.zw)(Ee,oe.serviceProps),ee[Se]=Ee,K.prototype[Se]=function(...We){return this._getService.bind(this,F).apply(this,oe.multipleInstances?We:[])}}return"PUBLIC"===oe.type?ee[Se]:null},removeApp:function Me(oe){delete Z[oe]},useAsService:function Re(oe,F){return"serverAuth"===F?null:F},modularAPIs:g}};function xe(oe){if(!(0,_.gR)(Z,oe=oe||g._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:oe});return Z[oe]}return ee.default=ee,Object.defineProperty(ee,"apps",{get:function _e(){return Object.keys(Z).map(oe=>Z[oe])}}),xe.App=K,ee}(se);return K.INTERNAL=Object.assign(Object.assign({},K.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function Z(ee){(0,_.zw)(K,ee)},createSubscribe:_.tD,ErrorFactory:_.FA,deepExtend:_.zw}),K}(),R=new D.Vy("@firebase/app-compat");if((0,_.Bd)()&&void 0!==self.firebase){R.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const K=self.firebase.SDK_VERSION;K&&K.indexOf("LITE")>=0&&R.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const U=C;!function z(K){(0,g.registerVersion)("@firebase/app-compat","0.2.22",K)}()},24788:(it,ke,y)=>{"use strict";y.r(ke),y.d(ke,{FirebaseError:()=>D.g,SDK_VERSION:()=>Wt,_DEFAULT_ENTRY_NAME:()=>ft,_addComponent:()=>vt,_addOrOverwriteComponent:()=>Lt,_apps:()=>at,_clearComponents:()=>St,_components:()=>kt,_getProvider:()=>lt,_registerComponent:()=>Je,_removeServiceInstance:()=>Yt,deleteApp:()=>dt,getApp:()=>te,getApps:()=>qe,initializeApp:()=>ut,onLog:()=>qt,registerVersion:()=>Ve,setLogLevel:()=>bt});var _=y(73014),e=y(12248),g=y(56094),D=y(94200);const se=(x,E)=>E.some(M=>x instanceof M);let fe,re;const C=new WeakMap,R=new WeakMap,N=new WeakMap,P=new WeakMap,z=new WeakMap;let Z={get(x,E,M){if(x instanceof IDBTransaction){if("done"===E)return R.get(x);if("objectStoreNames"===E)return x.objectStoreNames||N.get(x);if("store"===E)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return q(x[E])},set:(x,E,M)=>(x[E]=M,!0),has:(x,E)=>x instanceof IDBTransaction&&("done"===E||"store"===E)||E in x};function xe(x){return"function"==typeof x?function Me(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...E){return x.apply(_e(this),E),q(C.get(this))}:function(...E){return q(x.apply(_e(this),E))}:function(E,...M){const H=x.call(_e(this),E,...M);return N.set(H,E.sort?E.sort():[E]),q(H)}}(x):(x instanceof IDBTransaction&&function K(x){if(R.has(x))return;const E=new Promise((M,H)=>{const ce=()=>{x.removeEventListener("complete",ge),x.removeEventListener("error",Pe),x.removeEventListener("abort",Pe)},ge=()=>{M(),ce()},Pe=()=>{H(x.error||new DOMException("AbortError","AbortError")),ce()};x.addEventListener("complete",ge),x.addEventListener("error",Pe),x.addEventListener("abort",Pe)});R.set(x,E)}(x),se(x,function le(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,Z):x)}function q(x){if(x instanceof IDBRequest)return function U(x){const E=new Promise((M,H)=>{const ce=()=>{x.removeEventListener("success",ge),x.removeEventListener("error",Pe)},ge=()=>{M(q(x.result)),ce()},Pe=()=>{H(x.error),ce()};x.addEventListener("success",ge),x.addEventListener("error",Pe)});return E.then(M=>{M instanceof IDBCursor&&C.set(M,x)}).catch(()=>{}),z.set(E,x),E}(x);if(P.has(x))return P.get(x);const E=xe(x);return E!==x&&(P.set(x,E),z.set(E,x)),E}const _e=x=>z.get(x),oe=["get","getKey","getAll","getAllKeys","count"],F=["put","add","delete","clear"],Se=new Map;function Ee(x,E){if(!(x instanceof IDBDatabase)||E in x||"string"!=typeof E)return;if(Se.get(E))return Se.get(E);const M=E.replace(/FromIndex$/,""),H=E!==M,ce=F.includes(M);if(!(M in(H?IDBIndex:IDBObjectStore).prototype)||!ce&&!oe.includes(M))return;const ge=function(){var Pe=(0,_.A)(function*(Ze,...Qe){const Qt=this.transaction(Ze,ce?"readwrite":"readonly");let Xt=Qt.store;return H&&(Xt=Xt.index(Qe.shift())),(yield Promise.all([Xt[M](...Qe),ce&&Qt.done]))[0]});return function(Qe){return Pe.apply(this,arguments)}}();return Se.set(E,ge),ge}!function ee(x){Z=x(Z)}(x=>({...x,get:(E,M,H)=>Ee(E,M)||x.get(E,M,H),has:(E,M)=>!!Ee(E,M)||x.has(E,M)}));class We{constructor(E){this.container=E}getPlatformInfoString(){return this.container.getProviders().map(M=>{if(function ht(x){const E=x.getComponent();return"VERSION"===E?.type}(M)){const H=M.getImmediate();return`${H.library}/${H.version}`}return null}).filter(M=>M).join(" ")}}const It="@firebase/app",Ke=new g.Vy("@firebase/app"),ft="[DEFAULT]",xt={[It]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},at=new Map,kt=new Map;function vt(x,E){try{x.container.addComponent(E)}catch(M){Ke.debug(`Component ${E.name} failed to register with FirebaseApp ${x.name}`,M)}}function Lt(x,E){x.container.addOrOverwriteComponent(E)}function Je(x){const E=x.name;if(kt.has(E))return Ke.debug(`There were multiple attempts to register component ${E}.`),!1;kt.set(E,x);for(const M of at.values())vt(M,x);return!0}function lt(x,E){const M=x.container.getProvider("heartbeat").getImmediate({optional:!0});return M&&M.triggerHeartbeat(),x.container.getProvider(E)}function Yt(x,E,M=ft){lt(x,E).clearInstance(M)}function St(){kt.clear()}const De=new D.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ae{constructor(E,M,H){this._isDeleted=!1,this._options=Object.assign({},E),this._config=Object.assign({},M),this._name=M.name,this._automaticDataCollectionEnabled=M.automaticDataCollectionEnabled,this._container=H,this.container.addComponent(new e.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(E){this.checkDestroyed(),this._automaticDataCollectionEnabled=E}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(E){this._isDeleted=E}checkDestroyed(){if(this.isDeleted)throw De.create("app-deleted",{appName:this._name})}}const Wt="10.5.2";function ut(x,E={}){let M=x;"object"!=typeof E&&(E={name:E});const H=Object.assign({name:ft,automaticDataCollectionEnabled:!1},E),ce=H.name;if("string"!=typeof ce||!ce)throw De.create("bad-app-name",{appName:String(ce)});if(M||(M=(0,D.T9)()),!M)throw De.create("no-options");const ge=at.get(ce);if(ge){if((0,D.bD)(M,ge.options)&&(0,D.bD)(H,ge.config))return ge;throw De.create("duplicate-app",{appName:ce})}const Pe=new e.h1(ce);for(const Qe of kt.values())Pe.addComponent(Qe);const Ze=new Ae(M,H,Pe);return at.set(ce,Ze),Ze}function te(x=ft){const E=at.get(x);if(!E&&x===ft&&(0,D.T9)())return ut();if(!E)throw De.create("no-app",{appName:x});return E}function qe(){return Array.from(at.values())}function dt(x){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,_.A)(function*(x){const E=x.name;at.has(E)&&(at.delete(E),yield Promise.all(x.container.getProviders().map(M=>M.delete())),x.isDeleted=!0)})).apply(this,arguments)}function Ve(x,E,M){var H;let ce=null!==(H=xt[x])&&void 0!==H?H:x;M&&(ce+=`-${M}`);const ge=ce.match(/\s|\//),Pe=E.match(/\s|\//);if(ge||Pe){const Ze=[`Unable to register library "${ce}" with version "${E}":`];return ge&&Ze.push(`library name "${ce}" contains illegal characters (whitespace or "/")`),ge&&Pe&&Ze.push("and"),Pe&&Ze.push(`version name "${E}" contains illegal characters (whitespace or "/")`),void Ke.warn(Ze.join(" "))}Je(new e.uA(`${ce}-version`,()=>({library:ce,version:E}),"VERSION"))}function qt(x,E){if(null!==x&&"function"!=typeof x)throw De.create("invalid-log-argument");(0,g.Ey)(x,E)}function bt(x){(0,g.He)(x)}const Le="firebase-heartbeat-database",Gt=1,I="firebase-heartbeat-store";let b=null;function p(){return b||(b=function ve(x,E,{blocked:M,upgrade:H,blocking:ce,terminated:ge}={}){const Pe=indexedDB.open(x,E),Ze=q(Pe);return H&&Pe.addEventListener("upgradeneeded",Qe=>{H(q(Pe.result),Qe.oldVersion,Qe.newVersion,q(Pe.transaction),Qe)}),M&&Pe.addEventListener("blocked",Qe=>M(Qe.oldVersion,Qe.newVersion,Qe)),Ze.then(Qe=>{ge&&Qe.addEventListener("close",()=>ge()),ce&&Qe.addEventListener("versionchange",Qt=>ce(Qt.oldVersion,Qt.newVersion,Qt))}).catch(()=>{}),Ze}(Le,Gt,{upgrade:(x,E)=>{0===E&&x.createObjectStore(I)}}).catch(x=>{throw De.create("idb-open",{originalErrorMessage:x.message})})),b}function m(){return(m=(0,_.A)(function*(x){try{return yield(yield p()).transaction(I).objectStore(I).get(G(x))}catch(E){if(E instanceof D.g)Ke.warn(E.message);else{const M=De.create("idb-get",{originalErrorMessage:E?.message});Ke.warn(M.message)}}})).apply(this,arguments)}function T(x,E){return A.apply(this,arguments)}function A(){return(A=(0,_.A)(function*(x,E){try{const H=(yield p()).transaction(I,"readwrite");yield H.objectStore(I).put(E,G(x)),yield H.done}catch(M){if(M instanceof D.g)Ke.warn(M.message);else{const H=De.create("idb-set",{originalErrorMessage:M?.message});Ke.warn(H.message)}}})).apply(this,arguments)}function G(x){return`${x.name}!${x.options.appId}`}class Ce{constructor(E){this.container=E,this._heartbeatsCache=null;const M=this.container.getProvider("app").getImmediate();this._storage=new ue(M),this._heartbeatsCachePromise=this._storage.read().then(H=>(this._heartbeatsCache=H,H))}triggerHeartbeat(){var E=this;return(0,_.A)(function*(){const H=E.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ce=$();if(null===E._heartbeatsCache&&(E._heartbeatsCache=yield E._heartbeatsCachePromise),E._heartbeatsCache.lastSentHeartbeatDate!==ce&&!E._heartbeatsCache.heartbeats.some(ge=>ge.date===ce))return E._heartbeatsCache.heartbeats.push({date:ce,agent:H}),E._heartbeatsCache.heartbeats=E._heartbeatsCache.heartbeats.filter(ge=>{const Pe=new Date(ge.date).valueOf();return Date.now()-Pe<=2592e6}),E._storage.overwrite(E._heartbeatsCache)})()}getHeartbeatsHeader(){var E=this;return(0,_.A)(function*(){if(null===E._heartbeatsCache&&(yield E._heartbeatsCachePromise),null===E._heartbeatsCache||0===E._heartbeatsCache.heartbeats.length)return"";const M=$(),{heartbeatsToSend:H,unsentEntries:ce}=function Oe(x,E=1024){const M=[];let H=x.slice();for(const ce of x){const ge=M.find(Pe=>Pe.agent===ce.agent);if(ge){if(ge.dates.push(ce.date),de(M)>E){ge.dates.pop();break}}else if(M.push({agent:ce.agent,dates:[ce.date]}),de(M)>E){M.pop();break}H=H.slice(1)}return{heartbeatsToSend:M,unsentEntries:H}}(E._heartbeatsCache.heartbeats),ge=(0,D.Uj)(JSON.stringify({version:2,heartbeats:H}));return E._heartbeatsCache.lastSentHeartbeatDate=M,ce.length>0?(E._heartbeatsCache.heartbeats=ce,yield E._storage.overwrite(E._heartbeatsCache)):(E._heartbeatsCache.heartbeats=[],E._storage.overwrite(E._heartbeatsCache)),ge})()}}function $(){return(new Date).toISOString().substring(0,10)}class ue{constructor(E){this.app=E,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.A)(function*(){return!!(0,D.zW)()&&(0,D.eX)().then(()=>!0).catch(()=>!1)})()}read(){var E=this;return(0,_.A)(function*(){return(yield E._canUseIndexedDBPromise)&&(yield function f(x){return m.apply(this,arguments)}(E.app))||{heartbeats:[]}})()}overwrite(E){var M=this;return(0,_.A)(function*(){var H;if(yield M._canUseIndexedDBPromise){const ge=yield M.read();return T(M.app,{lastSentHeartbeatDate:null!==(H=E.lastSentHeartbeatDate)&&void 0!==H?H:ge.lastSentHeartbeatDate,heartbeats:E.heartbeats})}})()}add(E){var M=this;return(0,_.A)(function*(){var H;if(yield M._canUseIndexedDBPromise){const ge=yield M.read();return T(M.app,{lastSentHeartbeatDate:null!==(H=E.lastSentHeartbeatDate)&&void 0!==H?H:ge.lastSentHeartbeatDate,heartbeats:[...ge.heartbeats,...E.heartbeats]})}})()}}function de(x){return(0,D.Uj)(JSON.stringify({version:2,heartbeats:x})).length}!function L(x){Je(new e.uA("platform-logger",E=>new We(E),"PRIVATE")),Je(new e.uA("heartbeat",E=>new Ce(E),"PRIVATE")),Ve(It,"0.9.22",x),Ve(It,"0.9.22","esm2017"),Ve("fire-js","")}("")},12248:(it,ke,y)=>{"use strict";y.d(ke,{h1:()=>le,uA:()=>g});var _=y(73014),e=y(94200);class g{constructor(C,R,N){this.name=C,this.instanceFactory=R,this.type=N,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(C){return this.instantiationMode=C,this}setMultipleInstances(C){return this.multipleInstances=C,this}setServiceProps(C){return this.serviceProps=C,this}setInstanceCreatedCallback(C){return this.onInstanceCreated=C,this}}const D="[DEFAULT]";class se{constructor(C,R){this.name=C,this.container=R,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(C){const R=this.normalizeInstanceIdentifier(C);if(!this.instancesDeferred.has(R)){const N=new e.cY;if(this.instancesDeferred.set(R,N),this.isInitialized(R)||this.shouldAutoInitialize())try{const P=this.getOrInitializeService({instanceIdentifier:R});P&&N.resolve(P)}catch{}}return this.instancesDeferred.get(R).promise}getImmediate(C){var R;const N=this.normalizeInstanceIdentifier(C?.identifier),P=null!==(R=C?.optional)&&void 0!==R&&R;if(!this.isInitialized(N)&&!this.shouldAutoInitialize()){if(P)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:N})}catch(z){if(P)return null;throw z}}getComponent(){return this.component}setComponent(C){if(C.name!==this.name)throw Error(`Mismatching Component ${C.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=C,this.shouldAutoInitialize()){if(function re(ae){return"EAGER"===ae.instantiationMode}(C))try{this.getOrInitializeService({instanceIdentifier:D})}catch{}for(const[R,N]of this.instancesDeferred.entries()){const P=this.normalizeInstanceIdentifier(R);try{const z=this.getOrInitializeService({instanceIdentifier:P});N.resolve(z)}catch{}}}}clearInstance(C=D){this.instancesDeferred.delete(C),this.instancesOptions.delete(C),this.instances.delete(C)}delete(){var C=this;return(0,_.A)(function*(){const R=Array.from(C.instances.values());yield Promise.all([...R.filter(N=>"INTERNAL"in N).map(N=>N.INTERNAL.delete()),...R.filter(N=>"_delete"in N).map(N=>N._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(C=D){return this.instances.has(C)}getOptions(C=D){return this.instancesOptions.get(C)||{}}initialize(C={}){const{options:R={}}=C,N=this.normalizeInstanceIdentifier(C.instanceIdentifier);if(this.isInitialized(N))throw Error(`${this.name}(${N}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const P=this.getOrInitializeService({instanceIdentifier:N,options:R});for(const[z,U]of this.instancesDeferred.entries())N===this.normalizeInstanceIdentifier(z)&&U.resolve(P);return P}onInit(C,R){var N;const P=this.normalizeInstanceIdentifier(R),z=null!==(N=this.onInitCallbacks.get(P))&&void 0!==N?N:new Set;z.add(C),this.onInitCallbacks.set(P,z);const U=this.instances.get(P);return U&&C(U,P),()=>{z.delete(C)}}invokeOnInitCallbacks(C,R){const N=this.onInitCallbacks.get(R);if(N)for(const P of N)try{P(C,R)}catch{}}getOrInitializeService({instanceIdentifier:C,options:R={}}){let N=this.instances.get(C);if(!N&&this.component&&(N=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=C,ae===D?void 0:ae),options:R}),this.instances.set(C,N),this.instancesOptions.set(C,R),this.invokeOnInitCallbacks(N,C),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,C,N)}catch{}var ae;return N||null}normalizeInstanceIdentifier(C=D){return this.component?this.component.multipleInstances?C:D:C}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(C){this.name=C,this.providers=new Map}addComponent(C){const R=this.getProvider(C.name);if(R.isComponentSet())throw new Error(`Component ${C.name} has already been registered with ${this.name}`);R.setComponent(C)}addOrOverwriteComponent(C){this.getProvider(C.name).isComponentSet()&&this.providers.delete(C.name),this.addComponent(C)}getProvider(C){if(this.providers.has(C))return this.providers.get(C);const R=new se(C,this);return this.providers.set(C,R),R}getProviders(){return Array.from(this.providers.values())}}},52114:(it,ke,y)=>{"use strict";y.r(ke);var _=y(73014),e=y(26863),g=y(97730),D=y(94200),re=(y(24788),y(56094),y(12248));function le(){return window}function R(){return R=(0,_.A)(function*(p,f,m){var T;const{BuildInfo:A}=le();(0,g.at)(f.sessionId,"AuthEvent did not contain a session ID");const G=yield function ee(p){return Me.apply(this,arguments)}(f.sessionId),X={};return(0,g.au)()?X.ibi=A.packageName:(0,g.av)()?X.apn=A.packageName:(0,g.aw)(p,"operation-not-supported-in-this-environment"),A.displayName&&(X.appDisplayName=A.displayName),X.sessionId=G,(0,g.ax)(p,m,f.type,void 0,null!==(T=f.eventId)&&void 0!==T?T:void 0,X)}),R.apply(this,arguments)}function P(){return(P=(0,_.A)(function*(p){const{BuildInfo:f}=le(),m={};(0,g.au)()?m.iosBundleId=f.packageName:(0,g.av)()?m.androidPackageName=f.packageName:(0,g.aw)(p,"operation-not-supported-in-this-environment"),yield(0,g.ay)(p,m)})).apply(this,arguments)}function K(){return(K=(0,_.A)(function*(p,f,m){const{cordova:T}=le();let A=()=>{};try{yield new Promise((G,X)=>{let ne=null;function Ce(){var ue;G();const de=null===(ue=T.plugins.browsertab)||void 0===ue?void 0:ue.close;"function"==typeof de&&de(),"function"==typeof m?.close&&m.close()}function $(){ne||(ne=window.setTimeout(()=>{X((0,g.aA)(p,"redirect-cancelled-by-user"))},2e3))}function Oe(){"visible"===document?.visibilityState&&$()}f.addPassiveListener(Ce),document.addEventListener("resume",$,!1),(0,g.av)()&&document.addEventListener("visibilitychange",Oe,!1),A=()=>{f.removePassiveListener(Ce),document.removeEventListener("resume",$,!1),document.removeEventListener("visibilitychange",Oe,!1),ne&&window.clearTimeout(ne)}})}finally{A()}})).apply(this,arguments)}function Me(){return(Me=(0,_.A)(function*(p){const f=function xe(p){if((0,g.at)(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const f=new ArrayBuffer(p.length),m=new Uint8Array(f);for(let T=0;T<p.length;T++)m[T]=p.charCodeAt(T);return m}(p),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class _e extends g.aC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,_.A)(function*(){yield f.initPromise})()}}function oe(p){return F.apply(this,arguments)}function F(){return(F=(0,_.A)(function*(p){const f=yield We()._get(ht(p));return f&&(yield We()._remove(ht(p))),f})).apply(this,arguments)}function Ee(){const p=[];for(let m=0;m<20;m++){const T=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(T))}return p.join("")}function We(){return(0,g.aD)(g.b)}function ht(p){return(0,g.aE)("authEvent",p.config.apiKey,p.name)}function Ke(p){if(!p?.includes("?"))return{};const[f,...m]=p.split("?");return(0,D.I9)(m.join("?"))}const Ft=class ot{constructor(){this._redirectPersistence=g.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=g.aF,this._overrideRedirectResult=g.aG}_initialize(f){var m=this;return(0,_.A)(function*(){const T=f._key();let A=m.eventManagers.get(T);return A||(A=new _e(f),m.eventManagers.set(T,A),m.attachCallbackListeners(f,A)),A})()}_openPopup(f){(0,g.aw)(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,T,A){var G=this;return(0,_.A)(function*(){!function Z(p){var f,m,T,A,G,X,ne,Ce,$,Oe;const ue=le();(0,g.aB)("function"==typeof(null===(f=ue?.universalLinks)||void 0===f?void 0:f.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,g.aB)(typeof(null===(m=ue?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,g.aB)("function"==typeof(null===(G=null===(A=null===(T=ue?.cordova)||void 0===T?void 0:T.plugins)||void 0===A?void 0:A.browsertab)||void 0===G?void 0:G.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,g.aB)("function"==typeof(null===(Ce=null===(ne=null===(X=ue?.cordova)||void 0===X?void 0:X.plugins)||void 0===ne?void 0:ne.browsertab)||void 0===Ce?void 0:Ce.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,g.aB)("function"==typeof(null===(Oe=null===($=ue?.cordova)||void 0===$?void 0:$.InAppBrowser)||void 0===Oe?void 0:Oe.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const X=yield G._initialize(f);yield X.initialized(),X.resetRedirect(),(0,g.aH)(),yield G._originValidation(f);const ne=function ve(p,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:Ee(),postBody:null,tenantId:p.tenantId,error:(0,g.aA)(p,"no-auth-event")}}(f,T,A);yield function Re(p,f){return We()._set(ht(p),f)}(f,ne);const Ce=yield function C(p,f,m){return R.apply(this,arguments)}(f,ne,m),$=yield function z(p){const{cordova:f}=le();return new Promise(m=>{f.plugins.browsertab.isAvailable(T=>{let A=null;T?f.plugins.browsertab.openUrl(p):A=f.InAppBrowser.open(p,(0,g.az)()?"_blank":"_system","location=yes"),m(A)})})}(Ce);return function U(p,f,m){return K.apply(this,arguments)}(f,X,$)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function N(p){return P.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:T,handleOpenURL:A,BuildInfo:G}=le(),X=setTimeout((0,_.A)(function*(){yield oe(f),m.onEvent(jt())}),500),ne=function(){var Oe=(0,_.A)(function*(ue){clearTimeout(X);const de=yield oe(f);let L=null;de&&ue?.url&&(L=function Se(p,f){var m,T;const A=function Pt(p){const f=Ke(p),m=f.link?decodeURIComponent(f.link):void 0,T=Ke(m).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Ke(A).link||A||T||m||p}(f);if(A.includes("/__/auth/callback")){const G=Ke(A),X=G.firebaseError?function It(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(G.firebaseError)):null,ne=null===(T=null===(m=X?.code)||void 0===m?void 0:m.split("auth/"))||void 0===T?void 0:T[1],Ce=ne?(0,g.aA)(ne):null;return Ce?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:Ce,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:A,postBody:null}}return null}(de,ue.url)),m.onEvent(L||jt())});return function(de){return Oe.apply(this,arguments)}}();typeof T<"u"&&"function"==typeof T.subscribe&&T.subscribe(null,ne);const Ce=A,$=`${G.packageName.toLowerCase()}://`;le().handleOpenURL=function(){var Oe=(0,_.A)(function*(ue){if(ue.toLowerCase().startsWith($)&&ne({url:ue}),"function"==typeof Ce)try{Ce(ue)}catch(de){console.error(de)}});return function(ue){return Oe.apply(this,arguments)}}()}};function jt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,g.aA)("no-auth-event")}}function rt(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function be(p=(0,D.ZQ)()){return!("file:"!==rt()&&"ionic:"!==rt()&&"capacitor:"!==rt()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function ze(){try{const p=self.localStorage,f=g.aM();if(p)return p.setItem(f,"1"),p.removeItem(f),!function He(p=(0,D.ZQ)()){return function me(){return(0,D.lT)()&&11===document?.documentMode}()||function Y(p=(0,D.ZQ)()){return/Edge\/\d+/.test(p)}(p)}()||(0,D.zW)()}catch{return Ne()&&(0,D.zW)()}return!1}function Ne(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function gt(){return(function V(){return"http:"===rt()||"https:"===rt()}()||(0,D.sr)()||be())&&!function Q(){return(0,D.lV)()||(0,D.Ll)()}()&&ze()&&!Ne()}function v(){return be()&&typeof document<"u"}function wt(){return(wt=(0,_.A)(function*(){return!!v()&&new Promise(p=>{const f=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),p(!0)})})})).apply(this,arguments)}const $e={LOCAL:"local",NONE:"none",SESSION:"session"},Mt=g.aB,st="persistence";function xt(p){return at.apply(this,arguments)}function at(){return(at=(0,_.A)(function*(p){yield p._initializationPromise;const f=vt(),m=g.aE(st,p.config.apiKey,p.name);f&&f.setItem(m,p._getPersistence())})).apply(this,arguments)}function vt(){var p;try{return(null===(p=function pe(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const Lt=g.aB;class Je{constructor(){this.browserResolver=g.aD(g.k),this.cordovaResolver=g.aD(Ft),this.underlyingResolver=null,this._redirectPersistence=g.a,this._completeRedirectFn=g.aF,this._overrideRedirectResult=g.aG}_initialize(f){var m=this;return(0,_.A)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,T,A){var G=this;return(0,_.A)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._openPopup(f,m,T,A)})()}_openRedirect(f,m,T,A){var G=this;return(0,_.A)(function*(){return yield G.selectUnderlyingResolver(),G.assertedUnderlyingResolver._openRedirect(f,m,T,A)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return v()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Lt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,_.A)(function*(){if(f.underlyingResolver)return;const m=yield function he(){return wt.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function lt(p){return p.unwrap()}function St(p){return De(p)}function De(p){const{_tokenResponse:f}=p instanceof D.g?p.customData:p;if(!f)return null;if(!(p instanceof D.g)&&"temporaryProof"in f&&"phoneNumber"in f)return g.P.credentialFromResult(p);const m=f.providerId;if(!m||m===g.p.PASSWORD)return null;let T;switch(m){case g.p.GOOGLE:T=g.W;break;case g.p.FACEBOOK:T=g.V;break;case g.p.GITHUB:T=g.X;break;case g.p.TWITTER:T=g._;break;default:const{oauthIdToken:A,oauthAccessToken:G,oauthTokenSecret:X,pendingToken:ne,nonce:Ce}=f;return G||X||A||ne?ne?m.startsWith("saml.")?g.aP._create(m,ne):g.M._fromParams({providerId:m,signInMethod:m,pendingToken:ne,idToken:A,accessToken:G}):new g.Y(m).credential({idToken:A,accessToken:G,rawNonce:Ce}):null}return p instanceof D.g?T.credentialFromError(p):T.credentialFromResult(p)}function Ae(p,f){return f.catch(m=>{throw m instanceof D.g&&function pn(p,f){var m;const T=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new te(p,g.ar(p,f));else if(T){const A=De(f),G=f;A&&(G.credential=A,G.tenantId=T.tenantId||void 0,G.email=T.email||void 0,G.phoneNumber=T.phoneNumber||void 0)}}(p,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:St(m),additionalUserInfo:g.ap(m),user:qe.getOrCreate(A)}})}function Wt(p,f){return ut.apply(this,arguments)}function ut(){return(ut=(0,_.A)(function*(p,f){const m=yield f;return{verificationId:m.verificationId,confirm:T=>Ae(p,m.confirm(T))}})).apply(this,arguments)}class te{constructor(f,m){this.resolver=m,this.auth=function Yt(p){return p.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Ae(lt(this.auth),this.resolver.resolveSignIn(f))}}class qe{constructor(f){this._delegate=f,this.multiFactor=g.as(f)}static getOrCreate(f){return qe.USER_MAP.has(f)||qe.USER_MAP.set(f,new qe(f)),qe.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,_.A)(function*(){return Ae(m.auth,g.a1(m._delegate,f))})()}linkWithPhoneNumber(f,m){var T=this;return(0,_.A)(function*(){return Wt(T.auth,g.l(T._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,_.A)(function*(){return Ae(m.auth,g.d(m._delegate,f,Je))})()}linkWithRedirect(f){var m=this;return(0,_.A)(function*(){return yield xt(g.aI(m.auth)),g.g(m._delegate,f,Je)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,_.A)(function*(){return Ae(m.auth,g.a2(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Wt(this.auth,g.r(this._delegate,f,m))}reauthenticateWithPopup(f){return Ae(this.auth,g.e(this._delegate,f,Je))}reauthenticateWithRedirect(f){var m=this;return(0,_.A)(function*(){return yield xt(g.aI(m.auth)),g.h(m._delegate,f,Je)})()}sendEmailVerification(f){return g.af(this._delegate,f)}unlink(f){var m=this;return(0,_.A)(function*(){return yield g.ao(m._delegate,f),m})()}updateEmail(f){return g.ak(this._delegate,f)}updatePassword(f){return g.al(this._delegate,f)}updatePhoneNumber(f){return g.u(this._delegate,f)}updateProfile(f){return g.aj(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return g.ag(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qe.USER_MAP=new WeakMap;const dt=g.aB;let Ue=(()=>{class p{constructor(m,T){if(this.app=m,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=m.options;dt(A,"invalid-api-key",{appName:m.name}),dt(A,"invalid-api-key",{appName:m.name});const G=typeof window<"u"?Je:void 0;this._delegate=T.initialize({options:{persistence:qt(A,m.name),popupRedirectResolver:G}}),this._delegate._updateErrorMap(g.E),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,T){g.J(this._delegate,m,T)}applyActionCode(m){return g.a6(this._delegate,m)}checkActionCode(m){return g.a7(this._delegate,m)}confirmPasswordReset(m,T){return g.a5(this._delegate,m,T)}createUserWithEmailAndPassword(m,T){var A=this;return(0,_.A)(function*(){return Ae(A._delegate,g.a9(A._delegate,m,T))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return g.ae(this._delegate,m)}isSignInWithEmailLink(m){return g.ac(this._delegate,m)}getRedirectResult(){var m=this;return(0,_.A)(function*(){dt(gt(),m._delegate,"operation-not-supported-in-this-environment");const T=yield g.j(m._delegate,Je);return T?Ae(m._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Vt(p,f){(0,g.aI)(p)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,T,A){const{next:G,error:X,complete:ne}=Ve(m,T,A);return this._delegate.onAuthStateChanged(G,X,ne)}onIdTokenChanged(m,T,A){const{next:G,error:X,complete:ne}=Ve(m,T,A);return this._delegate.onIdTokenChanged(G,X,ne)}sendSignInLinkToEmail(m,T){return g.ab(this._delegate,m,T)}sendPasswordResetEmail(m,T){return g.a4(this._delegate,m,T||void 0)}setPersistence(m){var T=this;return(0,_.A)(function*(){let A;switch(function ft(p,f){Mt(Object.values($e).includes(f),p,"invalid-persistence-type"),(0,D.lV)()?Mt(f!==$e.SESSION,p,"unsupported-persistence-type"):(0,D.Ll)()?Mt(f===$e.NONE,p,"unsupported-persistence-type"):Ne()?Mt(f===$e.NONE||f===$e.LOCAL&&(0,D.zW)(),p,"unsupported-persistence-type"):Mt(f===$e.NONE||ze(),p,"unsupported-persistence-type")}(T._delegate,m),m){case $e.SESSION:A=g.a;break;case $e.LOCAL:A=(yield g.aD(g.i)._isAvailable())?g.i:g.b;break;case $e.NONE:A=g.Q;break;default:return g.aw("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ae(this._delegate,g.$(this._delegate))}signInWithCredential(m){return Ae(this._delegate,g.a0(this._delegate,m))}signInWithCustomToken(m){return Ae(this._delegate,g.a3(this._delegate,m))}signInWithEmailAndPassword(m,T){return Ae(this._delegate,g.aa(this._delegate,m,T))}signInWithEmailLink(m,T){return Ae(this._delegate,g.ad(this._delegate,m,T))}signInWithPhoneNumber(m,T){return Wt(this._delegate,g.s(this._delegate,m,T))}signInWithPopup(m){var T=this;return(0,_.A)(function*(){return dt(gt(),T._delegate,"operation-not-supported-in-this-environment"),Ae(T._delegate,g.c(T._delegate,m,Je))})()}signInWithRedirect(m){var T=this;return(0,_.A)(function*(){return dt(gt(),T._delegate,"operation-not-supported-in-this-environment"),yield xt(T._delegate),g.f(T._delegate,m,Je)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return g.a8(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=$e,p})();function Ve(p,f,m){let T=p;"function"!=typeof p&&({next:T,error:f,complete:m}=p);const A=T;return{next:X=>A(X&&qe.getOrCreate(X)),error:f,complete:m}}function qt(p,f){const m=function kt(p,f){const m=vt();if(!m)return[];const T=g.aE(st,p,f);switch(m.getItem(T)){case $e.NONE:return[g.Q];case $e.LOCAL:return[g.i,g.a];case $e.SESSION:return[g.a];default:return[]}}(p,f);if(typeof self<"u"&&!m.includes(g.i)&&m.push(g.i),typeof window<"u")for(const T of[g.b,g.a])m.includes(T)||m.push(T);return m.includes(g.Q)||m.push(g.Q),m}class bt{constructor(){this.providerId="phone",this._delegate=new g.P(lt(e.A.auth()))}static credential(f,m){return g.P.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}bt.PHONE_SIGN_IN_METHOD=g.P.PHONE_SIGN_IN_METHOD,bt.PROVIDER_ID=g.P.PROVIDER_ID;const Le=g.aB;class Gt{constructor(f,m,T=e.A.app()){var A;Le(null===(A=T.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new g.R(T.auth(),f,m),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function b(p){p.INTERNAL.registerComponent(new re.uA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),T=f.getProvider("auth");return new Ue(m,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:g.A.EMAIL_SIGNIN,PASSWORD_RESET:g.A.PASSWORD_RESET,RECOVER_EMAIL:g.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:g.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:g.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:g.A.VERIFY_EMAIL}},EmailAuthProvider:g.U,FacebookAuthProvider:g.V,GithubAuthProvider:g.X,GoogleAuthProvider:g.W,OAuthProvider:g.Y,SAMLAuthProvider:g.Z,PhoneAuthProvider:bt,PhoneMultiFactorGenerator:g.m,RecaptchaVerifier:Gt,TwitterAuthProvider:g._,Auth:Ue,AuthCredential:g.K,Error:D.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.4.8")}(e.A)},56094:(it,ke,y)=>{"use strict";y.d(ke,{$b:()=>e,Ey:()=>ae,He:()=>le,Vy:()=>re});const _=[];var e=function(C){return C[C.DEBUG=0]="DEBUG",C[C.VERBOSE=1]="VERBOSE",C[C.INFO=2]="INFO",C[C.WARN=3]="WARN",C[C.ERROR=4]="ERROR",C[C.SILENT=5]="SILENT",C}(e||{});const g={debug:e.DEBUG,verbose:e.VERBOSE,info:e.INFO,warn:e.WARN,error:e.ERROR,silent:e.SILENT},D=e.INFO,se={[e.DEBUG]:"log",[e.VERBOSE]:"log",[e.INFO]:"info",[e.WARN]:"warn",[e.ERROR]:"error"},fe=(C,R,...N)=>{if(R<C.logLevel)return;const P=(new Date).toISOString(),z=se[R];if(!z)throw new Error(`Attempted to log a message with an invalid logType (value: ${R})`);console[z](`[${P}]  ${C.name}:`,...N)};class re{constructor(R){this.name=R,this._logLevel=D,this._logHandler=fe,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(R){if(!(R in e))throw new TypeError(`Invalid value "${R}" assigned to \`logLevel\``);this._logLevel=R}setLogLevel(R){this._logLevel="string"==typeof R?g[R]:R}get logHandler(){return this._logHandler}set logHandler(R){if("function"!=typeof R)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=R}get userLogHandler(){return this._userLogHandler}set userLogHandler(R){this._userLogHandler=R}debug(...R){this._userLogHandler&&this._userLogHandler(this,e.DEBUG,...R),this._logHandler(this,e.DEBUG,...R)}log(...R){this._userLogHandler&&this._userLogHandler(this,e.VERBOSE,...R),this._logHandler(this,e.VERBOSE,...R)}info(...R){this._userLogHandler&&this._userLogHandler(this,e.INFO,...R),this._logHandler(this,e.INFO,...R)}warn(...R){this._userLogHandler&&this._userLogHandler(this,e.WARN,...R),this._logHandler(this,e.WARN,...R)}error(...R){this._userLogHandler&&this._userLogHandler(this,e.ERROR,...R),this._logHandler(this,e.ERROR,...R)}}function le(C){_.forEach(R=>{R.setLogLevel(C)})}function ae(C,R){for(const N of _){let P=null;R&&R.level&&(P=g[R.level]),N.userLogHandler=null===C?null:(z,U,...K)=>{const Z=K.map(ee=>{if(null==ee)return null;if("string"==typeof ee)return ee;if("number"==typeof ee||"boolean"==typeof ee)return ee.toString();if(ee instanceof Error)return ee.message;try{return JSON.stringify(ee)}catch{return null}}).filter(ee=>ee).join(" ");U>=(P??z.logLevel)&&C({level:e[U].toLowerCase(),message:Z,args:K,type:z.name})}}}}}]);