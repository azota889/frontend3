"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[8610],{61325:(L,k,c)=>{c.d(k,{$:()=>N});var d=c(69862),i=c(65592),_=c(61713),O=c(65879),T=c(46558),U=c(82228),I=c(77757);let N=(()=>{class g{replaceImageInContent(m,s){return new i.y(l=>{if(s.includes("<img ")){var p=this.findAllSubString(s,"<img"),f=[],t=[];p.forEach(v=>{var b=s.indexOf("src=",v),y=s.indexOf('"',Number(b)+5),A=s.substring(Number(b)+5,Number(y)+1);A.includes(";base64")?f.push({oldUrl:A}):A.includes("blob:")&&t.push({oldUrl:A})}),f.length>0?this.reUploadBase64File(m,f,(v,b)=>{null==b?t&&t.length>0?this.reUploadBlobFile(m,t,(y,A)=>{null!=A?(s=this.replaceHomeworkContent(s,v),s=this.replaceHomeworkContent(s,y),l.next({errorMessage:void 0,content:s}),l.complete()):(l.next({errorMessage:A,content:s}),l.complete())}):(s=this.replaceHomeworkContent(s,v),l.next({errorMessage:void 0,content:s}),l.complete()):(l.next({errorMessage:b,content:s}),l.complete())}):t.length>0?this.reUploadBlobFile(m,t,(v,b)=>{null==b?(s=this.replaceHomeworkContent(s,v),l.next({errorMessage:void 0,content:s}),l.complete()):(l.next({errorMessage:b,content:s}),l.complete())}):(s=this.replaceHomeworkContent(s,[]),l.next({errorMessage:void 0,content:s}),l.complete())}else l.next({errorMessage:void 0,content:s}),l.complete()})}replaceHomeworkContent(m,s){return s.length>0&&s.forEach(l=>{m=m.replace(l.oldUrl??"  ",l.newUrl+'" class="w-100 img-fluid"')}),m}findAllSubString(m,s){for(var l=0,p=0,f=[];m.indexOf(s,l)>-1;)p=m.indexOf(s,l),f.push(p),l=p+s.length;return f}getTypeFile(m){var s=m.indexOf(";");return m.substring(5,s)}getFileName(m){var s=m.split("").reverse().join(""),l=s.indexOf(";"),p=s.indexOf("/",l);return s.substring(l,p).split("").reverse().join("")}convertBlobToBase64(m){return new Promise(s=>{var l=new Image;l.crossOrigin="Anonymous",l.addEventListener("load",function(){var p=document.createElement("canvas"),f=p.getContext("2d");p.width=l.width,p.height=l.height,f?.drawImage(l,0,0);var t=p.toDataURL("image/png");s(t)},!1),l.src=m})}reUploadBase64File(m,s,l){if(s&&s.length>0){let v,t=s.length;for(var p=[],f=0;f<s.length;f++){const b=s[f],y=b.oldUrl?.substring(0,b.oldUrl.length-1);this.startUploadBlobFile(m,b,y??"",[],(A,x)=>{null==x?p=p.concat(A):v=x,t-=1,0==t&&l(p,v)})}}else l([],"lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau")}reUploadBlobFile(m,s,l){if(s&&s.length>0){let v,t=s.length;for(var p=[],f=0;f<s.length;f++){const b=s[f],y=b?.oldUrl?.substring(0,b.oldUrl.length-1);this.convertBlobToBase64(y??"").then(A=>{this.startUploadBlobFile(m,b,A,[],(x,z)=>{null==z?p=p.concat(x):v=z,t-=1,0==t&&l(p,v)})})}}else l([],"lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau")}startUploadBlobFile(m,s,l,p,f){if(l&&""!=l){var t=this.getTypeFile(l),v=this.myPdfService.b64toFile(l,this.getFileName(t),t);(0,_.hv)(v).then(b=>{this.apiUploadService.commonUploadFile(m,b,"").subscribe(y=>{if(y.type!=d.dt.UploadProgress)if(1==y.success){var A={...s,newUrl:y.data?.url??""};p.push(A),f(p,void 0)}else f(p,this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",y.message??"none"))})})}else f(p,"lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau")}constructor(m,s,l){this.commonService=m,this.apiUploadService=s,this.myPdfService=l}}return g.\u0275fac=function(m){return new(m||g)(O.LFG(T.z),O.LFG(U.W),O.LFG(I.z))},g.\u0275prov=O.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},28368:(L,k,c)=>{c.d(k,{y:()=>N});var d=c(20553),i=c(65879),_=c(88489);let O=(()=>{class g{getMode(){return""==this.browserStorageService.getStorage("mode_ui")?"light":this.browserStorageService.getStorage("mode_ui")??"light"}constructor(m){this.browserStorageService=m}}return g.\u0275fac=function(m){return new(m||g)(i.LFG(_.n))},g.\u0275prov=i.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();var T=c(46558),U=c(61325),I=c(32965);let N=(()=>{class g{constructor(m,s,l,p){this.darkModeService=m,this.commonService=s,this.sAztUploadImageOfExamService=l,this.cdnService=p}get initConfigUrlScript(){return{language_url:d.N.azt_tiny_mce_vi_langs_src}}initConfigForAdmin(){var l={};return l={height:250,menubar:!1,language:"vi"===this.commonService.getCurrentLang()?"vi":"en",plugins:["code","fullscreen","link"],toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify | link | code | fullscreen",...this.initConfigUrlScript},"dark"==this.darkModeService.getMode()&&(l.skin="oxide-dark",l.content_css="dark"),l}initConfigForAdminWithUploadImageBox(m){var p={};return p={selector:"textarea#file-picker",menubar:!1,language:"vi"===this.commonService.getCurrentLang()?"vi":"en",branding:!1,plugins:"image code autoresize fullscreen link",toolbar:"fontsize | bold italic underline | forecolor backcolor | alignleft aligncenter alignright | image | link | code | fullscreen",font_size_formats:"8pt 9pt 10pt 11pt 12pt 13pt 14pt 15pt 16pt 18pt 20pt 22pt 24pt 30pt 36pt 48pt 60pt 72pt 96pt",height:250,min_height:250,file_picker_callback:(f,t,v)=>{this.file_picker_callback(m,f,t,v)},content_css:[this.cdnService.convertCdnLinkOfGitHub("angular/styles.6c8c340cca20c274.css")],...this.initConfigUrlScript},"dark"==this.darkModeService.getMode()&&(p.skin="oxide-dark",p.content_css="dark"),p}initConfigForTeacher(){var l={};return l={height:250,min_height:250,menubar:!1,language:"vi"===this.commonService.getCurrentLang()?"vi":"en",plugins:["fullscreen"],toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify | fullscreen",...this.initConfigUrlScript},"dark"==this.darkModeService.getMode()&&(l.skin="oxide-dark",l.content_css="dark"),l}initConfigTeacherHomework(m){var p={};return p={min_height:m,menubar:!1,language:"vi"===this.commonService.getCurrentLang()?"vi":"en",resize:!1,plugins:["advlist","anchor","autolink","charmap","code","fullscreen","lists","media","preview","textcolor","emoticons","fontselect","autoresize"],toolbar:"fontfamily | fontsize |bold italic underline | forecolor backcolor | alignleft aligncenter alignright | emoticons",emoticons_database:"emojis",font_family_formats:"Arial=arial,helvetica,sans-serif; Comic Sans MS=comic sans ms,sans-serif; Courier New=courier new,courier; Georgia=georgia,palatino; Helvetica=helvetica; Times New Roman=times new roman,times; Trebuchet MS=trebuchet ms,geneva; Verdana=verdana,geneva; Font ch\u1eef \u0111\u1eb9p=font_chu_dep",font_size_formats:"8pt 9pt 10pt 11pt 12pt 13pt 14pt 15pt 16pt 18pt 20pt 22pt 24pt 30pt 36pt 48pt 60pt 72pt 96pt",content_style:`@font-face { font-family: font_chu_dep; src: url('${this.cdnService.convertCdnLinkOfGitHub("fonts/HP0015HB.ttf")}');} body { font-family: font_chu_dep; color: red; font-size: 18pt; line-height: initial;};`,...this.initConfigUrlScript},"dark"==this.darkModeService.getMode()&&(p.skin="oxide-dark",p.content_css="dark"),p}initConfigStudentHomework(){var l={};return l={height:450,min_height:250,menubar:!1,language:"vi"===this.commonService.getCurrentLang()?"vi":"en",readonly:1,plugins:["emoticons advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | emoticons",emoticons_database:"emojis",content_style:`@font-face { font-family: font_chu_dep; src: url('${this.cdnService.convertCdnLinkOfGitHub("fonts/HP0015HB.ttf")}');} body { font-family: font_chu_dep; color: red; font-size: 18pt; line-height: initial;};`,...this.initConfigUrlScript},"dark"==this.darkModeService.getMode()&&(l.skin="oxide-dark",l.content_css="dark"),l}initConfigForTeacherWithUploadImageBox(m){var p={};return p={selector:"textarea#file-picker",menubar:!1,language:"vi"===this.commonService.getCurrentLang()?"vi":"en",branding:!1,plugins:"image code autoresize fullscreen",toolbar:"fontsize | bold italic underline | forecolor backcolor | alignleft aligncenter alignright | image | fullscreen",font_size_formats:"8pt 9pt 10pt 11pt 12pt 13pt 14pt 15pt 16pt 18pt 20pt 22pt 24pt 30pt 36pt 48pt 60pt 72pt 96pt",height:250,min_height:250,file_picker_callback:(f,t,v)=>{this.file_picker_callback(m,f,t,v)},...this.initConfigUrlScript},"dark"==this.darkModeService.getMode()&&(p.skin="oxide-dark",p.content_css="dark"),p}file_picker_callback(m,s,l,p){let f=document.createElement("input");f.setAttribute("type","file"),f.setAttribute("accept","image/*"),f.onchange=()=>{let t=f.files?.[0],v=new FileReader;v.onload=()=>{let y=`<img src="${"data:image/png;base64, "+v.result.split(",")[1]}">`;this.sAztUploadImageOfExamService.replaceImageInContent(m,y).subscribe(A=>{if(A.errorMessage)this.commonService.snackError(A.errorMessage);else{let x=document.createElement("div");x.innerHTML=this.commonService.removeXssInHtml(A.content);let z=x.firstChild;z&&z.src&&s(z.src)}})},v.readAsDataURL(t)},f.click()}}return g.\u0275fac=function(m){return new(m||g)(i.LFG(O),i.LFG(T.z),i.LFG(U.$),i.LFG(I.E))},g.\u0275prov=i.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},93283:(L,k,c)=>{c.d(k,{s:()=>U});var d=c(19347),i=c(72164),_=c(65879),O=c(37722),T=c(36727);let U=(()=>{class I extends i.e{btnCloseDialog(){this.dialogRef.close(!1)}confirmDialog(){this.dialogRef.close(!0)}constructor(g,C){super(C,g),this.dialogRef=g,this.data=C}}return I.\u0275fac=function(g){return new(g||I)(_.Y36(d.so,8),_.Y36(d.WI,8))},I.\u0275cmp=_.Xpm({type:I,selectors:[["azt-dialog-danger"]],features:[_.qOj],decls:14,vars:7,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","flex"],[1,"w-6","h-6","mr-2","text-danger","inline-block","flex-none"],["name","trash-2"],[1,"text-md",3,"innerHtml"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-danger",3,"click"]],template:function(g,C){1&g&&(_.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3)(4,"span",4),_._UZ(5,"lucide-icon",5),_.qZA(),_._UZ(6,"span",6),_.qZA()()(),_.TgZ(7,"div",7)(8,"button",8),_.NdJ("click",function(){return C.btnCloseDialog()}),_._uU(9),_.ALo(10,"mytranslate"),_.qZA(),_.TgZ(11,"button",9),_.NdJ("click",function(){return C.confirmDialog()}),_._uU(12),_.ALo(13,"mytranslate"),_.qZA()()()),2&g&&(_.xp6(6),_.Q6J("innerHtml",C.data.content,_.oJD),_.xp6(3),_.hij(" ",_.lcZ(10,3,"lang_auto_huy")," "),_.xp6(3),_.hij(" ",_.lcZ(13,5,"lang_auto_xac_nhan")," "))},dependencies:[O.Nh5,T.JV],encapsulation:2}),I})()},93812:(L,k,c)=>{c.d(k,{t:()=>N});var d=c(65879),i=c(84253),_=c(96814),O=c(71646);function T(g,C){1&g&&d.Hsn(0,0,["*ngIf","!isUploadFile"])}function U(g,C){1&g&&(d.TgZ(0,"span",5),d._UZ(1,"azt-loading-ui"),d.qZA())}const I=["*"];let N=(()=>{class g extends i.w{constructor(){super(...arguments),this.uploadComplete=new d.vpe}emitUploadComplete(m){m.length>0&&this.uploadComplete.emit(m[0])}}return g.\u0275fac=function(){let C;return function(s){return(C||(C=d.n5z(g)))(s||g)}}(),g.\u0275cmp=d.Xpm({type:g,selectors:[["azt-upload-single-box"]],outputs:{uploadComplete:"uploadComplete"},features:[d.qOj],ngContentSelectors:I,decls:6,vars:3,consts:[[1,"flex","items-center","justify-center","h-full",3,"click"],["type","file","id","box-left-file-input",1,"form-control","file-input",2,"display","none",3,"accept","change","cancel"],["formChoseFile",""],[4,"ngIf"],["class","w-4 h-4 inline-block",4,"ngIf"],[1,"w-4","h-4","inline-block"]],template:function(m,s){if(1&m){const l=d.EpF();d.F$t(),d.TgZ(0,"div",0),d.NdJ("click",function(){d.CHM(l);const f=d.MAs(2);return d.KtG(s.onOpenFileDictionary()&&f.click())}),d.TgZ(1,"input",1,2),d.NdJ("change",function(f){return s.onFileSelected(f)})("cancel",function(f){return s.onCancelSelect(f)}),d.qZA(),d.YNc(3,T,1,0,"ng-content",3),d.TgZ(4,"div"),d.YNc(5,U,2,0,"span",4),d.qZA()()}2&m&&(d.xp6(1),d.s9C("accept",s.fileType),d.xp6(2),d.Q6J("ngIf",!s.isUploadFile),d.xp6(2),d.Q6J("ngIf",s.isUploadFile))},dependencies:[_.O5,O.n],encapsulation:2}),g})()},38610:(L,k,c)=>{c.r(k),c.d(k,{AzotaAdsModule:()=>Wt});var d=c(96814),i=c(56223),_=c(21266),O=c(42753),T=c(37722),U=c(60381),I=c(95545),N=c(56731),g=c(84155),C=c(78217),m=c(24090),s=c(20553),l=c(82481),p=c(37734),f=c(93283),t=c(65879),v=c(2783),b=c(50749),y=c(43389),A=c(98129),x=c(36727);function z(a,r){if(1&a&&t._UZ(0,"azt-loading-effect",3),2&a){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}const q=function(a){return{backTo:a}};function X(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"tr")(1,"td",21),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",22)(8,"button",23),t.ALo(9,"navigationLocalize"),t.TgZ(10,"span",24),t._UZ(11,"lucide-icon",25),t.qZA(),t.TgZ(12,"span",26),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()(),t.TgZ(15,"button",27),t.NdJ("click",function(){const u=t.CHM(e).$implicit,h=t.oxw(3);return t.KtG(h.handelUpdateAdsCategory(u.id))}),t.TgZ(16,"span",24),t._UZ(17,"lucide-icon",28),t.qZA(),t.TgZ(18,"span",26),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()(),t.TgZ(21,"button",29),t.NdJ("click",function(){const o=t.CHM(e),u=o.$implicit,h=o.index,$t=t.oxw(3);return t.KtG($t.handleRemoveAdsCategory(u,h))}),t.TgZ(22,"span",24),t._UZ(23,"lucide-icon",30),t.qZA(),t.TgZ(24,"span",26),t._uU(25),t.ALo(26,"mytranslate"),t.qZA()()()()}if(2&a){const e=r.$implicit,n=r.index,o=t.oxw(3);t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Q6J("routerLink",t.lcZ(9,8,"/azota-ads/ads-list/"+e.id))("queryParams",t.VKq(16,q,o.backTo)),t.xp6(5),t.Oqu(t.lcZ(14,10,"lang_common_view")),t.xp6(6),t.Oqu(t.lcZ(20,12,"lang_auto_sua")),t.xp6(6),t.Oqu(t.lcZ(26,14,"lang_auto_xoa"))}}function tt(a,r){if(1&a&&(t.ynx(0),t.YNc(1,X,27,18,"tr",20),t.BQk()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.adsCategoryList)}}function et(a,r){1&a&&(t.TgZ(0,"tr",31)(1,"td",32),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_homework_homework_list_not_found")," "))}function at(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"h3",6),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",7)(6,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handelCreateAdsCategory())}),t.TgZ(7,"span",9),t._UZ(8,"lucide-icon",10),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()(),t.TgZ(11,"div",11)(12,"div",12)(13,"drag-scroll")(14,"table",13)(15,"thead")(16,"tr",14)(17,"th",15),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"th",16),t._uU(21),t.ALo(22,"mytranslate"),t.qZA(),t.TgZ(23,"th"),t._uU(24),t.ALo(25,"mytranslate"),t.qZA(),t.TgZ(26,"th",17),t._uU(27),t.ALo(28,"mytranslate"),t.qZA()()(),t.TgZ(29,"tbody"),t.YNc(30,tt,2,1,"ng-container",18),t.YNc(31,et,4,3,"ng-template",null,19,t.W1O),t.qZA()()()()()()}if(2&a){const e=t.MAs(32),n=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,8,"lang_azt_advertisement_category_list")," "),t.xp6(6),t.hij(" ",t.lcZ(10,10,"lang_azt_add_category")," "),t.xp6(9),t.Oqu(t.lcZ(19,12,"lang_auto_STT")),t.xp6(3),t.Oqu(t.lcZ(22,14,"lang_azt_category_name")),t.xp6(3),t.Oqu(t.lcZ(25,16,"lang_auto_mo_ta")),t.xp6(3),t.Oqu(t.lcZ(28,18,"lang_auto_hanh_dong")),t.xp6(3),t.Q6J("ngIf",n.adsCategoryList.length)("ngIfElse",e)}}let nt=(()=>{class a extends p.Q{handleRemoveAdsCategory(e,n){const o=`${this.commonService.myTranslateInstant("lang_azt_are_you_sure_you_want_to_delete_category")} <b>${e.name}<b/>?`;this.dialogService.open(f.s,{data:{content:o},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(u=>{u&&this.waitDestroy(this.advertisingService.apiAdvertisingCategoriesIdDelete(e.id).subscribe(h=>{if(!h.success)return this.errorStatusObj(h.message,!0);this.adsCategoryList.splice(n,1),this.successStatusObj("lang_admin_guide_delete_success",!0)}))})}handelCreateAdsCategory(){this.myNavigationWithQueryString("/azota-ads/create-ads-category",`?backto=${this.backTo}`)}handelUpdateAdsCategory(e){this.myNavigationWithQueryString(`/azota-ads/update-ads-category/${e}`,`?backto=${this.backTo}`)}getData(){this.initStatusObj(),this.waitDestroy(this.advertisingService.apiAdvertisingCategoriesGet().subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message,!0);this.adsCategoryList=e.data?.objs??[],this.successStatusObj()}))}ngOnInit(){super.ngOnInit(),this.getData()}constructor(e,n){super(),this.dialogService=e,this.advertisingService=n,this.adsCategoryList=[],this.backTo="/azota-ads/ads-category"}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(v.C),t.Y36(b.cR))},a.\u0275cmp=t.Xpm({type:a,selectors:[["ads-category"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"ads-category","mt-5"],[1,"flex","flex-col","sm:flex-row","sm:items-center"],[1,"text-lg","font-medium","mr-4"],[1,"mt-2","sm:mt-0","sm:ml-auto"],[1,"btn","btn-primary",3,"click"],[1,"w-5","h-5","mr-2","inline-block"],["name","plus"],[1,"mt-3"],[1,"intro-y","h-full"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap","text-center","p-2",2,"width","50px"],[2,"width","300px"],[1,"text-center","whitespace-nowrap",2,"width","100px"],[4,"ngIf","ngIfElse"],["emptyData",""],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"text-center","whitespace-nowrap"],[1,"btn","btn-sm","btn-success-soft","mr-2",3,"routerLink","queryParams"],[1,"w-3","h-3","inline-block","mr-2"],["name","eye"],[1,"azt-hidden","md:inline-block"],[1,"btn","btn-sm","btn-primary-soft","mr-2",3,"click"],["name","edit"],[1,"btn","btn-sm","btn-danger-soft",3,"click"],["name","trash-2"],[2,"height","80px"],["colspan","4",1,"text-center","p-5"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,z,1,1,"azt-loading-effect",1),t.YNc(2,at,33,20,"ng-template",null,2,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.Q6J("headerBackToLink","/super-role/admin-tool"),t.xp6(1),t.Q6J("ngIf",1==n.statusObj.loading)("ngIfElse",o)}},dependencies:[_.rH,d.sg,d.O5,y.l,A._,T.Nh5,U.HU,U.$Z,x.Jy,x.JV],encapsulation:2}),a})();var Z=c(91765),P=c(67679);function ot(a,r){1&a&&(t.TgZ(0,"div",23)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_azt_please_enter_category_name"),"!"))}function it(a,r){1&a&&(t.TgZ(0,"div",23)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_azt_please_enter_information_field"),"!"))}const K=function(a){return{"border-danger":a}};function rt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"span",28),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t._UZ(7,"input",29),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"div",30)(10,"button",31),t.NdJ("click",function(){const u=t.CHM(e).index,h=t.oxw();return t.KtG(h.removeFileForm(u))}),t.TgZ(11,"span",32),t._UZ(12,"lucide-icon",33),t.qZA()()()(),t.TgZ(13,"div",34)(14,"div",7)(15,"div",35),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t._UZ(18,"input",36),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"div",10)(21,"label",37),t._uU(22),t.ALo(23,"mytranslate"),t.qZA(),t.TgZ(24,"div",7),t._UZ(25,"textarea",38),t.ALo(26,"mytranslate"),t.qZA()()()()()}if(2&a){const e=r.$implicit,n=r.index,o=t.oxw();t.xp6(1),t.Q6J("formGroup",e),t.xp6(4),t.hij(" ",t.lcZ(6,10,"lang_azt_field_name")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(8,12,"lang_azt_field_name")+"..."),t.Q6J("ngClass",t.VKq(22,K,e.controls.displayName.errors&&e.controls.displayName.touched)),t.xp6(3),t.Q6J("disabled",0===n&&1===o.form.controls.attributesList.length),t.xp6(6),t.hij(" ",t.lcZ(17,14,"lang_azt_variable_name")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(19,16,"lang_azt_variable_name")+"..."),t.Q6J("ngClass",t.VKq(24,K,e.controls.variableName.errors&&e.controls.variableName.touched)),t.xp6(4),t.Oqu(t.lcZ(23,18,"lang_azt_field_description")),t.xp6(3),t.s9C("placeholder",t.lcZ(26,20,"lang_azt_field_description")+"...")}}let st=(()=>{class a extends p.Q{saveAdsCategory(){if(this.form.invalid)return this.form.markAllAsTouched();this.initStatusObj();const e=this.convertFormToParam();this.waitDestroy(this.advertisingService.apiAdvertisingCategoriesPost(e).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.myNavigation(`/azota-ads/create-ads-template/${n.data?.id}`)}))}handleDestroy(){this.myNavigation(this.backToLink)}addNewFieldForm(){this.form.controls.attributesList.push(this.createFieldForm("","",""))}removeFileForm(e){this.form.controls.attributesList.removeAt(e)}createFieldForm(e,n,o){return new i.cw({displayName:new i.NI(e,{nonNullable:!0,validators:[i.kI.required,Z._.noWhiteSpace]}),variableName:new i.NI(n,{nonNullable:!0,validators:[i.kI.required,Z._.noWhiteSpace]}),description:new i.NI(o,{nonNullable:!0}),valueType:new i.NI("string",{nonNullable:!0,validators:[i.kI.required,Z._.noWhiteSpace]}),sourceType:new i.NI("free",{nonNullable:!0,validators:[i.kI.required,Z._.noWhiteSpace]})})}convertFormToParam(){const{attributesList:e,name:n,desc:o}=this.form.controls,u=e.controls.map(h=>({displayName:h.controls.displayName.value,variableName:h.controls.variableName.value.toUpperCase(),description:h.controls.description.value,valueType:h.controls.valueType.value,sourceType:h.controls.sourceType.value}));return{name:n.value,description:o.value,attributes:u}}ngOnInit(){super.ngOnInit(),this.addNewFieldForm(),this.backToLink=this.commonService.getMyQueryParam("backto")??"/azota-ads/ads-category"}constructor(e){super(),this.advertisingService=e,this.backToLink="",this.form=new i.cw({name:new i.NI("",{nonNullable:!0,validators:[i.kI.required,Z._.noWhiteSpace]}),desc:new i.NI("",{nonNullable:!0,validators:[i.kI.required]}),attributesList:new i.Oe([])})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(b.cR))},a.\u0275cmp=t.Xpm({type:a,selectors:[["create-ads-category"]],features:[t.qOj],decls:43,vars:32,consts:[[3,"headerBackToLink"],[1,"mt-5"],[1,"text-md","uppercase","font-medium"],[1,"box","mt-4","p-5"],[3,"formGroup"],[1,"azt-form-group"],["for","name",1,"form-label","font-medium"],[1,"input-group"],["type","text","id","name","formControlName","name",1,"form-control",3,"placeholder"],["class","text-danger text-xs font-medium mt-2",4,"ngIf"],[1,"azt-form-group","mt-3"],["for","desc",1,"form-label","font-medium"],["formControlName","desc","name","desc","id","desc",1,"form-control",2,"height","80px",3,"placeholder"],[1,"flex","flex-col","sm:flex-row","sm:items-center"],["for","name",1,"form-label","font-medium","mr-2"],[1,"btn","btn-sm","btn-primary-soft","mt-2","sm:mt-0","ml-auto",3,"click"],[1,"w-3","h-3","mr-2"],["name","plus"],[1,"grid","grid-cols-12","gap-4","mt-3"],["class","col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"flex","ml-auto","w-full","justify-end","mt-3"],["type","button",1,"btn","btn-secondary","min-width-100","mr-2",3,"click"],[1,"btn","btn-primary","min-width-100",3,"click"],[1,"text-danger","text-xs","font-medium","mt-2"],[1,"col-span-12","md:col-span-6"],[1,"border","border-slate-200","dark:border-darkmode-400","rounded-md","pb-1",3,"formGroup"],[1,"p-2","bg-slate-100","dark:bg-darkmode-400","flex","items-center"],[1,"flex","items-center"],[1,"mr-2"],["type","text","formControlName","displayName",1,"form-control","form-control-sm",2,"width","9rem",3,"ngClass","placeholder"],[1,"ml-auto"],[1,"btn","btn-sm","btn-outline-danger",3,"disabled","click"],[1,"w-4","h-4","inline-block"],["name","trash-2"],[1,"p-3"],[1,"input-group-text","whitespace-nowrap",2,"width","125px"],["type","text","formControlName","variableName",1,"form-control","form-control-sm",3,"ngClass","placeholder"],["for","name",1,"form-label"],["type","text","formControlName","description",1,"form-control","form-control-sm",2,"height","60px",3,"placeholder"]],template:function(e,n){1&e&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"h3",2),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",3)(6,"form",4)(7,"div",5)(8,"label",6),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div",7),t._UZ(12,"input",8),t.ALo(13,"mytranslate"),t.qZA(),t.YNc(14,ot,4,3,"div",9),t.qZA(),t.TgZ(15,"div",10)(16,"label",11),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t.TgZ(19,"div",7),t._UZ(20,"textarea",12),t.ALo(21,"mytranslate"),t.qZA(),t.YNc(22,it,4,3,"div",9),t.qZA(),t.TgZ(23,"div",10)(24,"div",13)(25,"label",14),t._uU(26),t.ALo(27,"mytranslate"),t.qZA(),t.TgZ(28,"button",15),t.NdJ("click",function(){return n.addNewFieldForm()}),t.TgZ(29,"div",16),t._UZ(30,"lucide-icon",17),t.qZA(),t._uU(31),t.ALo(32,"mytranslate"),t.qZA()(),t.TgZ(33,"div",18),t.YNc(34,rt,27,26,"div",19),t.qZA()()()(),t.TgZ(35,"div",20)(36,"button",21),t.NdJ("click",function(){return n.handleDestroy()}),t._uU(37),t.ALo(38,"mytranslate"),t.qZA(),t.TgZ(39,"button",22),t.NdJ("click",function(){return n.saveAdsCategory()}),t.TgZ(40,"span"),t._uU(41),t.ALo(42,"mytranslate"),t.qZA()()()()()),2&e&&(t.Q6J("headerBackToLink",n.backToLink),t.xp6(3),t.hij(" ",t.lcZ(4,14,"lang_azt_add_category")," "),t.xp6(3),t.Q6J("formGroup",n.form),t.xp6(3),t.Oqu(t.lcZ(10,16,"lang_azt_category_name")),t.xp6(3),t.s9C("placeholder",t.lcZ(13,18,"lang_azt_enter_category_name")),t.xp6(2),t.Q6J("ngIf",n.form.controls.name.errors&&n.form.controls.name.touched),t.xp6(3),t.Oqu(t.lcZ(18,20,"lang_auto_mo_ta")),t.xp6(3),t.s9C("placeholder",t.lcZ(21,22,"lang_core_nhap_mo_ta")),t.xp6(2),t.Q6J("ngIf",n.form.controls.desc.errors&&n.form.controls.desc.touched),t.xp6(4),t.Oqu(t.lcZ(27,24,"lang_azt_information_field")),t.xp6(5),t.hij(" ",t.lcZ(32,26,"lang_azt_add_information_field")," "),t.xp6(3),t.Q6J("ngForOf",n.form.controls.attributesList.controls),t.xp6(3),t.hij(" ",t.lcZ(38,28,"lang_button_cancel")," "),t.xp6(4),t.Oqu(t.lcZ(42,30,"lang_button_save")))},dependencies:[d.mk,d.sg,d.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,P.M,A._,T.Nh5,x.JV],encapsulation:2}),a})();function lt(a,r){if(1&a&&t._UZ(0,"azt-loading-effect",3),2&a){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function ct(a,r){1&a&&(t.TgZ(0,"div",23)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_azt_please_enter_category_name"),"!"))}function dt(a,r){1&a&&(t.TgZ(0,"div",23)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_azt_please_enter_information_field"),"!"))}const V=function(a){return{"border-danger":a}};function mt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"div",26)(3,"div",27)(4,"span",28),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t._UZ(7,"input",29),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"div",30)(10,"button",31),t.NdJ("click",function(){const u=t.CHM(e).index,h=t.oxw(2);return t.KtG(h.removeFileForm(u))}),t.TgZ(11,"span",32),t._UZ(12,"lucide-icon",33),t.qZA()()()(),t.TgZ(13,"div",34)(14,"div",10)(15,"div",35),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t._UZ(18,"input",36),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"div",13)(21,"label",37),t._uU(22),t.ALo(23,"mytranslate"),t.qZA(),t.TgZ(24,"div",10),t._UZ(25,"textarea",38),t.ALo(26,"mytranslate"),t.qZA()()()()()}if(2&a){const e=r.$implicit,n=r.index,o=t.oxw(2);t.xp6(1),t.Q6J("formGroup",e),t.xp6(4),t.hij(" ",t.lcZ(6,10,"lang_azt_field_name")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(8,12,"lang_azt_field_name")+"..."),t.Q6J("ngClass",t.VKq(22,V,e.controls.displayName.errors&&e.controls.displayName.touched)),t.xp6(3),t.Q6J("disabled",0===n&&1===o.form.controls.attributesList.length),t.xp6(6),t.hij(" ",t.lcZ(17,14,"lang_azt_variable_name")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(19,16,"lang_azt_variable_name")+"..."),t.Q6J("ngClass",t.VKq(24,V,e.controls.variableName.errors&&e.controls.variableName.touched)),t.xp6(4),t.Oqu(t.lcZ(23,18,"lang_azt_field_description")),t.xp6(3),t.s9C("placeholder",t.lcZ(26,20,"lang_azt_field_description")+"...")}}function ut(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",4)(1,"h3",5),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",6)(5,"form",7)(6,"div",8)(7,"label",9),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"div",10),t._UZ(11,"input",11),t.ALo(12,"mytranslate"),t.qZA(),t.YNc(13,ct,4,3,"div",12),t.qZA(),t.TgZ(14,"div",13)(15,"label",14),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"div",10),t._UZ(19,"textarea",15),t.ALo(20,"mytranslate"),t.qZA(),t.YNc(21,dt,4,3,"div",12),t.qZA(),t.TgZ(22,"div",13)(23,"div",16)(24,"label",17),t._uU(25),t.ALo(26,"mytranslate"),t.qZA()(),t.TgZ(27,"div",18),t.YNc(28,mt,27,26,"div",19),t.qZA()()()(),t.TgZ(29,"div",20)(30,"button",21),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleDestroy())}),t._uU(31),t.ALo(32,"mytranslate"),t.qZA(),t.TgZ(33,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateAdsCategory())}),t.TgZ(34,"span"),t._uU(35),t.ALo(36,"mytranslate"),t.qZA()()()()}if(2&a){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,12,"lang_azt_update_category")," "),t.xp6(3),t.Q6J("formGroup",e.form),t.xp6(3),t.Oqu(t.lcZ(9,14,"lang_azt_category_name")),t.xp6(3),t.s9C("placeholder",t.lcZ(12,16,"lang_azt_enter_category_name")),t.xp6(2),t.Q6J("ngIf",e.form.controls.name.errors&&e.form.controls.name.touched),t.xp6(3),t.Oqu(t.lcZ(17,18,"lang_auto_mo_ta")),t.xp6(3),t.s9C("placeholder",t.lcZ(20,20,"lang_core_nhap_mo_ta")),t.xp6(2),t.Q6J("ngIf",e.form.controls.desc.errors&&e.form.controls.desc.touched),t.xp6(4),t.Oqu(t.lcZ(26,22,"lang_azt_information_field")),t.xp6(3),t.Q6J("ngForOf",e.form.controls.attributesList.controls),t.xp6(3),t.hij(" ",t.lcZ(32,24,"lang_button_cancel")," "),t.xp6(4),t.Oqu(t.lcZ(36,26,"lang_button_update"))}}let pt=(()=>{class a extends p.Q{updateAdsCategory(){if(this.form.invalid)return this.form.markAllAsTouched();const e=this.convertFormToParam();this.waitDestroy(this.advertisingService.apiAdvertisingCategoriesIdPut(this.categoryId,e).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.showSuccessSnack("C\u1eadp nh\u1eadt danh m\u1ee5c th\xe0nh c\xf4ng!")}))}handleDestroy(){this.myNavigation(this.backToLink)}addNewFieldForm(){this.form.controls.attributesList.push(this.createFieldForm("","",""))}removeFileForm(e){this.form.controls.attributesList.removeAt(e)}getData(){this.initStatusObj(),this.waitDestroy(this.advertisingService.apiAdvertisingCategoriesIdGet(this.categoryId).subscribe(e=>{if(!e.success)return this.errorStatusObj(e.message,!0);const n=e.data;this.form.controls.name.setValue(n?.name??""),this.form.controls.desc.setValue(n?.description??""),n?.attributes?.forEach(o=>{this.form.controls.attributesList.push(this.createFieldForm(o.displayName,o.variableName,o.description??"",o.id))}),this.successStatusObj()}))}createFieldForm(e,n,o,u){return new i.cw({id:new i.NI(u,{nonNullable:!0}),displayName:new i.NI(e,{nonNullable:!0,validators:[i.kI.required,Z._.noWhiteSpace]}),variableName:new i.NI(n,{nonNullable:!0,validators:[i.kI.required,Z._.noWhiteSpace]}),description:new i.NI(o,{nonNullable:!0}),valueType:new i.NI("string",{nonNullable:!0,validators:[i.kI.required,Z._.noWhiteSpace]}),sourceType:new i.NI("free",{nonNullable:!0,validators:[i.kI.required,Z._.noWhiteSpace]})})}convertFormToParam(){const{attributesList:e,name:n,desc:o}=this.form.controls,u=e.controls.map(h=>({id:h.controls.id?.value??0,displayName:h.controls.displayName.value,variableName:h.controls.variableName.value.toUpperCase(),description:h.controls.description.value,valueType:h.controls.valueType.value,sourceType:h.controls.sourceType.value}));return{name:n.value,description:o.value,attributes:u}}ngOnInit(){super.ngOnInit(),this.categoryId=Number(this.commonService.getMyParam(this.activeRoute,"categoryId")??0),this.backToLink=this.commonService.getMyQueryParam("backto")??"/azota-ads/ads-category",this.getData()}constructor(e,n){super(),this.advertisingService=e,this.activeRoute=n,this.backToLink="",this.categoryId=0,this.form=new i.cw({name:new i.NI("",{nonNullable:!0,validators:[i.kI.required,Z._.noWhiteSpace]}),desc:new i.NI("",{nonNullable:!0,validators:[i.kI.required]}),attributesList:new i.Oe([])})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(b.cR),t.Y36(_.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["update-ads-category"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"mt-5"],[1,"text-md","uppercase","font-medium"],[1,"box","mt-4","p-5"],[3,"formGroup"],[1,"azt-form-group"],["for","name",1,"form-label","font-medium"],[1,"input-group"],["type","text","id","name","formControlName","name",1,"form-control",3,"placeholder"],["class","text-danger text-xs font-medium mt-2",4,"ngIf"],[1,"azt-form-group","mt-3"],["for","desc",1,"form-label","font-medium"],["formControlName","desc","name","desc","id","desc",1,"form-control",2,"height","80px",3,"placeholder"],[1,"flex","flex-col","sm:flex-row","sm:items-center"],["for","name",1,"form-label","font-medium","mr-2"],[1,"grid","grid-cols-12","gap-4","mt-3"],["class","col-span-12 md:col-span-6",4,"ngFor","ngForOf"],[1,"flex","ml-auto","w-full","justify-end","mt-3"],["type","button",1,"btn","btn-secondary","min-width-100","mr-2",3,"click"],[1,"btn","btn-primary","min-width-100",3,"click"],[1,"text-danger","text-xs","font-medium","mt-2"],[1,"col-span-12","md:col-span-6"],[1,"border","border-slate-200","dark:border-darkmode-400","rounded-md","pb-1",3,"formGroup"],[1,"p-2","bg-slate-100","dark:bg-darkmode-400","flex","items-center"],[1,"flex","items-center"],[1,"mr-2"],["type","text","formControlName","displayName",1,"form-control","form-control-sm",2,"width","9rem",3,"ngClass","placeholder"],[1,"ml-auto"],[1,"btn","btn-sm","btn-outline-danger",3,"disabled","click"],[1,"w-4","h-4","inline-block"],["name","trash-2"],[1,"p-3"],[1,"input-group-text","whitespace-nowrap",2,"width","125px"],["type","text","formControlName","variableName",1,"form-control","form-control-sm",3,"ngClass","placeholder"],["for","name",1,"form-label"],["type","text","formControlName","description",1,"form-control","form-control-sm",2,"height","60px",3,"placeholder"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,lt,1,1,"azt-loading-effect",1),t.YNc(2,ut,37,28,"ng-template",null,2,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.Q6J("headerBackToLink",n.backToLink),t.xp6(1),t.Q6J("ngIf",1==n.statusObj.loading)("ngIfElse",o)}},dependencies:[d.mk,d.sg,d.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,y.l,P.M,A._,T.Nh5,x.JV],encapsulation:2}),a})();var J=c(9315),Y=c(99397),F=c(63120),G=c(19347),_t=c(72164),B=c(71646);function gt(a,r){1&a&&(t.TgZ(0,"span",12),t._UZ(1,"azt-loading-ui"),t.qZA())}const ft=function(a){return{"error-border":a}};let ht=(()=>{class a extends _t.e{closeDialog(){this.dialogRef.close(void 0)}saveObj(){this.initStatusObj(),this.waitDestroy(this.advertisingService.apiAdvertisingPartnersPost({name:this.nameFormControl.value}).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.waitDestroy(this.advertisingService.apiAdvertisingPartnersGet().subscribe(o=>{if(!o.success)return this.closeDialog();this.stopStatusObj(),this.dialogRef.close(o.data?.objs??[])}))}))}ngOnInit(){super.ngOnInit()}constructor(e,n,o){super(o,n),this.advertisingService=e,this.dialogRef=n,this.data=o,this.nameFormControl=new i.NI("",{nonNullable:!0,validators:[Z._.noWhiteSpace]})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(b.cR),t.Y36(G.so,8),t.Y36(G.WI))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-create-partner-dialog"]],features:[t.qOj],decls:19,vars:15,consts:[[1,"box","p-2"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"box","mt-4","p-2"],[1,"grid","grid-cols-12","mb-3"],[1,"col-span-12","lg:col-span-12"],[1,"form-label","mb-0","font-medium","flex","items-center"],[1,"setting-input"],["type","text",1,"form-control",3,"formControl","ngClass"],[1,"p-2","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"div",4)(9,"div",6),t._UZ(10,"input",7),t.qZA()()()(),t.TgZ(11,"div",8)(12,"button",9),t.NdJ("click",function(){return n.closeDialog()}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"button",10),t.NdJ("click",function(){return n.saveObj()}),t.YNc(16,gt,2,0,"span",11),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()()()()),2&e&&(t.xp6(6),t.hij(" ",t.lcZ(7,7,"lang_cms_admin_create_ads_partner")," "),t.xp6(4),t.Q6J("formControl",n.nameFormControl)("ngClass",t.VKq(13,ft,n.nameFormControl.invalid)),t.xp6(3),t.hij(" ",t.lcZ(14,9,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",n.statusObj.loading||n.nameFormControl.invalid),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(18,11,"lang_auto_luu")," "))},dependencies:[d.mk,d.O5,i.Fj,i.JJ,i.oH,B.n,x.JV],encapsulation:2}),a})(),H=(()=>{class a extends p.Q{cancel(){this.commonService.myNavigation(this.backTo)}uploadThumbnailImage(e){this.form.controls.thumbnailUrl.setValue(e.url??"")}createPartner(){this.sAztDialogService.open(ht,{width:"500px",restoreFocus:!1,data:{}}).afterClosed().subscribe(e=>{null!=e&&(this.partnerObjs=e)})}constructor(){super(),this.sAztDialogService=(0,t.f3M)(v.C),this.categoryId=0,this.templateObj=void 0,this.partnerObjs=[],this.attributeObjs=[],this.allUploadToCdnMenuTypes=F.j6,this.allUploadFileTypes=F.AZ,this.backTo="",this.form=new i.cw({name:new i.NI("",{nonNullable:!0,validators:[Z._.noWhiteSpace]}),partnerId:new i.NI(0,{nonNullable:!0,validators:[i.kI.min(1)]}),actionUrl:new i.NI("",{nonNullable:!0,validators:[Z._.noWhiteSpace]}),description:new i.NI("",{nonNullable:!0}),thumbnailUrl:new i.NI("",{nonNullable:!0}),isActive:new i.NI(!0,{nonNullable:!0}),attributeObjs:new i.Oe([])})}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-base-create-or-update-ads"]],features:[t.qOj],decls:0,vars:0,template:function(e,n){},encapsulation:2}),a})();var R=c(33980),D=c(23680),M=c(64170),E=c(98525),W=c(93812),Q=c(96961);function vt(a,r){if(1&a&&t._UZ(0,"azt-loading-effect",3),2&a){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function bt(a,r){if(1&a&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&a){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}const S=function(a){return{"error-border":a}};function At(a,r){if(1&a&&(t.TgZ(0,"div",9)(1,"div",10)(2,"label",11),t._uU(3),t.qZA()(),t.TgZ(4,"div",10)(5,"div",18),t._UZ(6,"input",19),t.qZA()()()),2&a){const e=r.$implicit;t.xp6(3),t.AsE("",e.controls.attributeDisplayName.value," - ",e.controls.attributeVariableName.value,""),t.xp6(3),t.Q6J("formControl",e.controls.attributeValue)("ngClass",t.VKq(4,S,e.controls.attributeValue.invalid))}}function Ct(a,r){if(1&a&&(t.TgZ(0,"div",33)(1,"div",10),t._UZ(2,"azt-frontend-ads-item",34),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("obj",e.currentAdsObj)}}const yt=function(a){return[a]};function xt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",4)(1,"form",5)(2,"div",6)(3,"h3",7),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",8)(7,"div",9)(8,"div",10)(9,"label",11),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"div",12)(13,"div",13)(14,"mat-form-field",14)(15,"mat-select",15),t.YNc(16,bt,2,2,"mat-option",16),t.qZA()()(),t.TgZ(17,"div",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.createPartner())}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()(),t.TgZ(20,"div",9)(21,"div",10)(22,"label",11),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()(),t.TgZ(25,"div",10)(26,"div",18),t._UZ(27,"input",19),t.qZA()()(),t.TgZ(28,"div",9)(29,"div",10)(30,"label",11),t._uU(31),t.ALo(32,"mytranslate"),t.qZA()(),t.TgZ(33,"div",10)(34,"div",18),t._UZ(35,"input",19),t.qZA()()(),t.TgZ(36,"div",9)(37,"div",10)(38,"label",11),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()(),t.TgZ(41,"div",10)(42,"div",18),t._UZ(43,"textarea",19),t.qZA()()(),t.TgZ(44,"div",9)(45,"div",10)(46,"label",11),t._uU(47),t.ALo(48,"mytranslate"),t.qZA()(),t.TgZ(49,"div",10)(50,"div",18),t._UZ(51,"input",19),t.qZA()(),t.TgZ(52,"div",20)(53,"azt-upload-single-box",21),t.NdJ("uploadComplete",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.uploadThumbnailImage(o))}),t._uU(54),t.ALo(55,"mytranslate"),t.qZA()()(),t.YNc(56,At,7,6,"div",22),t.TgZ(57,"div",9)(58,"div",10)(59,"div",23),t._UZ(60,"input",24),t.TgZ(61,"label",25),t._uU(62),t.ALo(63,"mytranslate"),t.qZA()()()(),t._UZ(64,"hr",26),t.YNc(65,Ct,3,1,"div",27),t.qZA(),t.TgZ(66,"div",28)(67,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cancel())}),t._uU(68),t.ALo(69,"mytranslate"),t.qZA(),t.TgZ(70,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveObj(!1))}),t._uU(71),t.ALo(72,"mytranslate"),t.qZA(),t.TgZ(73,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveObj(!0))}),t._uU(74),t.ALo(75,"mytranslate"),t.qZA()()()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(3),t.hij(" ",t.lcZ(5,32,e.adsId?"lang_cms_admin_edit_ads_title":"lang_cms_admin_create_ads_title")," "),t.xp6(6),t.hij(" ",t.lcZ(11,34,"lang_cms_admin_create_ads_partner")," "),t.xp6(4),t.Q6J("ngClass",t.VKq(56,S,e.form.controls.partnerId.invalid)),t.xp6(1),t.Q6J("formControl",e.form.controls.partnerId),t.xp6(1),t.Q6J("ngForOf",e.partnerObjs),t.xp6(2),t.Oqu(t.lcZ(19,36,"lang_cms_admin_create_ads_create_new_partner")),t.xp6(5),t.hij(" ",t.lcZ(24,38,"lang_cms_admin_create_ads_name")," "),t.xp6(4),t.Q6J("formControl",e.form.controls.name)("ngClass",t.VKq(58,S,e.form.controls.name.invalid)),t.xp6(4),t.hij(" ",t.lcZ(32,40,"lang_cms_admin_create_ads_action_url")," "),t.xp6(4),t.Q6J("formControl",e.form.controls.actionUrl)("ngClass",t.VKq(60,S,e.form.controls.actionUrl.invalid)),t.xp6(4),t.hij(" ",t.lcZ(40,42,"lang_cms_admin_create_ads_description")," "),t.xp6(4),t.Q6J("formControl",e.form.controls.description)("ngClass",t.VKq(62,S,e.form.controls.description.invalid)),t.xp6(4),t.hij(" ",t.lcZ(48,44,"lang_cms_admin_create_ads_thumbnail_url")," "),t.xp6(4),t.Q6J("formControl",e.form.controls.thumbnailUrl)("ngClass",t.VKq(64,S,e.form.controls.thumbnailUrl.invalid)),t.xp6(2),t.Q6J("uploadToCdnMenu",e.allUploadToCdnMenuTypes.ADMIN)("fileType",t.VKq(66,yt,e.allUploadFileTypes.IMAGE))("allowCompressImage",!1),t.xp6(1),t.hij(" ",t.lcZ(55,46,"lang_cms_admin_create_ads_upload_image")," "),t.xp6(2),t.Q6J("ngForOf",e.form.controls.attributeObjs.controls),t.xp6(4),t.Q6J("formControl",e.form.controls.isActive),t.xp6(2),t.Oqu(t.lcZ(63,48,"lang_cms_admin_create_ads_is_active")),t.xp6(3),t.Q6J("ngIf",e.currentAdsObj),t.xp6(3),t.Oqu(t.lcZ(69,50,"lang_auto_huy")),t.xp6(2),t.Q6J("disabled",e.form.invalid),t.xp6(1),t.Oqu(t.lcZ(72,52,"lang_auto_luu")),t.xp6(2),t.Q6J("disabled",e.form.invalid),t.xp6(1),t.Oqu(t.lcZ(75,54,"lang_core_luu_va_dong"))}}let Zt=(()=>{class a extends H{initForm(){this.form.controls.partnerId.setValue(this.commonService.getFirstOfArray(this.partnerObjs)?.id??0),this.attributeObjs.forEach(e=>{this.form.controls.attributeObjs.push(new i.cw({attributeId:new i.NI(e.id,{nonNullable:!0}),attributeDisplayName:new i.NI(e.displayName,{nonNullable:!0}),attributeVariableName:new i.NI(e.variableName,{nonNullable:!0}),attributeValue:new i.NI("",{nonNullable:!0})}))})}initData(){this.initStatusObj(),this.waitDestroy((0,J.D)([this.advertisingService.apiAdvertisingCategoriesCategoryIdTemplatesGet(this.categoryId),this.advertisingService.apiAdvertisingCategoriesCategoryIdAttributesGet(this.categoryId),this.advertisingService.apiAdvertisingPartnersGet()]).pipe((0,Y.b)(([e,n,o])=>e.success?n.success?o.success?(this.templateObj=e.data,this.attributeObjs=n.data?.objs??[],this.partnerObjs=o.data?.objs??[],this.initForm(),void this.stopStatusObj()):this.errorStatusObj(o.message,!0):this.errorStatusObj(n.message,!0):this.errorStatusObj(e.message,!0))).subscribe())}saveObj(e){this.initStatusObj();let n=this.form.getRawValue(),o={categoryId:this.categoryId,partnerId:n.partnerId,name:n.name,description:n.description,thumbnailUrl:n.thumbnailUrl,actionUrl:n.actionUrl,isActive:n.isActive?1:0,attributes:n.attributeObjs.map(u=>({attributeId:u.attributeId,value:u.attributeValue}))};this.waitDestroy(this.advertisingService.apiAdvertisingProductsPost(o).subscribe(u=>{if(!u.success)return this.errorStatusObj(u.message,!0);this.successStatusObj("lang_cms_add_success",!0),e&&this.cancel()}))}ngOnInit(){super.ngOnInit(),this.commonService.translateMetaData({title:"lang_cms_admin_common_ads",description:"lang_cms_admin_common_ads",image:"lang_cms_test_image"}),this.categoryId=Number(this.commonService.getMyParam(this.activeRoute,"categoryId")??0),this.backTo="/azota-ads/ads-list/"+this.categoryId,this.initData(),this.form.valueChanges.subscribe(e=>{let n=this.form.controls.attributeObjs.getRawValue().map(o=>({id:0,productId:0,attributeId:o.attributeId,value:o.attributeValue,attribute:{id:o.attributeId,categoryId:this.categoryId,displayName:o.attributeDisplayName,variableName:o.attributeVariableName}}));this.currentAdsObj={id:0,categoryId:this.categoryId,partnerId:this.form.controls.partnerId.value,name:this.form.controls.name.value,description:this.form.controls.description.value,thumbnailUrl:this.form.controls.thumbnailUrl.value,actionUrl:this.form.controls.actionUrl.value,isActive:this.form.controls.isActive.value?1:0,template:this.templateObj?.data,productAttributes:n}})}constructor(e,n){super(),this.advertisingService=e,this.activeRoute=n,this.adsId=0}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(R.c),t.Y36(_.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-create-ads"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"mt-5"],[3,"formGroup"],[1,"azt-config-document","mx-auto",2,"max-width","1000px"],[1,"text-md","uppercase","font-medium"],[1,"box","mt-4","p-5"],[1,"grid","grid-cols-12","mb-3"],[1,"col-span-12","lg:col-span-12"],[1,"form-label","mb-0","font-medium","flex","items-center"],[1,"col-span-12"],[1,"azt-form-group"],["appearance","outline",2,"width","100%",3,"ngClass"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"link-color","clickable","pt-1",3,"click"],[1,"setting-input"],["type","text",1,"form-control",3,"formControl","ngClass"],[1,"link-color","clickable","pt-1"],[1,"inline-block",3,"uploadToCdnMenu","fileType","allowCompressImage","uploadComplete"],["class","grid grid-cols-12 mb-3",4,"ngFor","ngForOf"],[1,"form-check","form-switch","items-center","w-full","clickable"],["id","isActive","type","checkbox",1,"form-check-input","mr-2",3,"formControl"],["for","isActive",1,"flex","items-center","mr-auto"],[1,"mb-3"],["class","grid grid-cols-12mb-3",4,"ngIf"],[1,"text-right","mt-5"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","btn-primary-soft","w-24","mr-3",3,"disabled","click"],[1,"btn","btn-primary",3,"disabled","click"],[3,"value"],[1,"grid","grid-cols-12mb-3"],[3,"obj"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,vt,1,1,"azt-loading-effect",1),t.YNc(2,xt,76,68,"ng-template",null,2,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.Q6J("headerBackToLink",n.backTo),t.xp6(1),t.Q6J("ngIf",1==n.statusObj.loading)("ngIfElse",o)}},dependencies:[d.mk,d.sg,d.O5,i._Y,i.Fj,i.Wl,i.JJ,i.JL,D.ey,M.KE,E.gD,i.oH,i.sg,y.l,W.t,Q._,A._,x.JV],encapsulation:2}),a})();function Ot(a,r){if(1&a&&t._UZ(0,"azt-loading-effect",3),2&a){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function Tt(a,r){if(1&a&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&a){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}const j=function(a){return{"error-border":a}};function It(a,r){if(1&a&&(t.TgZ(0,"div",9)(1,"div",10)(2,"label",11),t._uU(3),t.qZA()(),t.TgZ(4,"div",10)(5,"div",18),t._UZ(6,"input",19),t.qZA()()()),2&a){const e=r.$implicit;t.xp6(3),t.AsE("",e.controls.attributeDisplayName.value," - ",e.controls.attributeVariableName.value,""),t.xp6(3),t.Q6J("formControl",e.controls.attributeValue)("ngClass",t.VKq(4,j,e.controls.attributeValue.invalid))}}function Ut(a,r){if(1&a&&(t.TgZ(0,"div",33)(1,"div",10),t._UZ(2,"azt-frontend-ads-item",34),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("obj",e.currentAdsObj)}}const kt=function(a){return[a]};function Nt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",4)(1,"form",5)(2,"div",6)(3,"h3",7),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",8)(7,"div",9)(8,"div",10)(9,"label",11),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"div",12)(13,"div",13)(14,"mat-form-field",14)(15,"mat-select",15),t.YNc(16,Tt,2,2,"mat-option",16),t.qZA()()(),t.TgZ(17,"div",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.createPartner())}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()(),t.TgZ(20,"div",9)(21,"div",10)(22,"label",11),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()(),t.TgZ(25,"div",10)(26,"div",18),t._UZ(27,"input",19),t.qZA()()(),t.TgZ(28,"div",9)(29,"div",10)(30,"label",11),t._uU(31),t.ALo(32,"mytranslate"),t.qZA()(),t.TgZ(33,"div",10)(34,"div",18),t._UZ(35,"input",19),t.qZA()()(),t.TgZ(36,"div",9)(37,"div",10)(38,"label",11),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()(),t.TgZ(41,"div",10)(42,"div",18),t._UZ(43,"textarea",19),t.qZA()()(),t.TgZ(44,"div",9)(45,"div",10)(46,"label",11),t._uU(47),t.ALo(48,"mytranslate"),t.qZA()(),t.TgZ(49,"div",10)(50,"div",18),t._UZ(51,"input",19),t.qZA()(),t.TgZ(52,"div",20)(53,"azt-upload-single-box",21),t.NdJ("uploadComplete",function(o){t.CHM(e);const u=t.oxw();return t.KtG(u.uploadThumbnailImage(o))}),t._uU(54),t.ALo(55,"mytranslate"),t.qZA()()(),t.YNc(56,It,7,6,"div",22),t.TgZ(57,"div",9)(58,"div",10)(59,"div",23),t._UZ(60,"input",24),t.TgZ(61,"label",25),t._uU(62),t.ALo(63,"mytranslate"),t.qZA()()()(),t._UZ(64,"hr",26),t.YNc(65,Ut,3,1,"div",27),t.qZA(),t.TgZ(66,"div",28)(67,"button",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.cancel())}),t._uU(68),t.ALo(69,"mytranslate"),t.qZA(),t.TgZ(70,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveObj(!1))}),t._uU(71),t.ALo(72,"mytranslate"),t.qZA(),t.TgZ(73,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveObj(!0))}),t._uU(74),t.ALo(75,"mytranslate"),t.qZA()()()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(3),t.hij(" ",t.lcZ(5,32,e.adsId?"lang_cms_admin_edit_ads_title":"lang_cms_admin_create_ads_title")," "),t.xp6(6),t.hij(" ",t.lcZ(11,34,"lang_cms_admin_create_ads_partner")," "),t.xp6(4),t.Q6J("ngClass",t.VKq(56,j,e.form.controls.partnerId.invalid)),t.xp6(1),t.Q6J("formControl",e.form.controls.partnerId),t.xp6(1),t.Q6J("ngForOf",e.partnerObjs),t.xp6(2),t.Oqu(t.lcZ(19,36,"lang_cms_admin_create_ads_create_new_partner")),t.xp6(5),t.hij(" ",t.lcZ(24,38,"lang_cms_admin_create_ads_name")," "),t.xp6(4),t.Q6J("formControl",e.form.controls.name)("ngClass",t.VKq(58,j,e.form.controls.name.invalid)),t.xp6(4),t.hij(" ",t.lcZ(32,40,"lang_cms_admin_create_ads_action_url")," "),t.xp6(4),t.Q6J("formControl",e.form.controls.actionUrl)("ngClass",t.VKq(60,j,e.form.controls.actionUrl.invalid)),t.xp6(4),t.hij(" ",t.lcZ(40,42,"lang_cms_admin_create_ads_description")," "),t.xp6(4),t.Q6J("formControl",e.form.controls.description)("ngClass",t.VKq(62,j,e.form.controls.description.invalid)),t.xp6(4),t.hij(" ",t.lcZ(48,44,"lang_cms_admin_create_ads_thumbnail_url")," "),t.xp6(4),t.Q6J("formControl",e.form.controls.thumbnailUrl)("ngClass",t.VKq(64,j,e.form.controls.thumbnailUrl.invalid)),t.xp6(2),t.Q6J("uploadToCdnMenu",e.allUploadToCdnMenuTypes.ADMIN)("fileType",t.VKq(66,kt,e.allUploadFileTypes.IMAGE))("allowCompressImage",!1),t.xp6(1),t.hij(" ",t.lcZ(55,46,"lang_cms_admin_create_ads_upload_image")," "),t.xp6(2),t.Q6J("ngForOf",e.form.controls.attributeObjs.controls),t.xp6(4),t.Q6J("formControl",e.form.controls.isActive),t.xp6(2),t.Oqu(t.lcZ(63,48,"lang_cms_admin_create_ads_is_active")),t.xp6(3),t.Q6J("ngIf",e.currentAdsObj),t.xp6(3),t.Oqu(t.lcZ(69,50,"lang_auto_huy")),t.xp6(2),t.Q6J("disabled",e.form.invalid),t.xp6(1),t.Oqu(t.lcZ(72,52,"lang_auto_luu")),t.xp6(2),t.Q6J("disabled",e.form.invalid),t.xp6(1),t.Oqu(t.lcZ(75,54,"lang_core_luu_va_dong"))}}let zt=(()=>{class a extends H{initForm(){this.form.controls.partnerId.setValue(this.updateAdsObj?.partnerId??0),this.form.controls.name.setValue(this.updateAdsObj?.name??""),this.form.controls.actionUrl.setValue(this.updateAdsObj?.actionUrl??""),this.form.controls.description.setValue(this.updateAdsObj?.description??""),this.form.controls.thumbnailUrl.setValue(this.updateAdsObj?.thumbnailUrl??""),this.form.controls.isActive.setValue(!!this.updateAdsObj?.isActive),this.attributeObjs.forEach(e=>{let n=this.updateAdsObj?.productAttributes?.find(o=>o.attributeId==e.id);this.form.controls.attributeObjs.push(new i.cw({attributeId:new i.NI(e.id,{nonNullable:!0}),attributeDisplayName:new i.NI(e.displayName,{nonNullable:!0}),attributeVariableName:new i.NI(e.variableName,{nonNullable:!0}),attributeValue:new i.NI(n?.value??"",{nonNullable:!0})}))})}initData(){this.initStatusObj(),this.waitDestroy((0,J.D)([this.advertisingService.apiAdvertisingCategoriesCategoryIdTemplatesGet(this.categoryId),this.advertisingService.apiAdvertisingCategoriesCategoryIdAttributesGet(this.categoryId),this.advertisingService.apiAdvertisingPartnersGet(),this.advertisingService.apiAdvertisingProductsIdGet(this.adsId)]).pipe((0,Y.b)(([e,n,o,u])=>e.success?n.success?o.success?(this.templateObj=e.data,this.attributeObjs=n.data?.objs??[],this.partnerObjs=o.data?.objs??[],this.updateAdsObj=u.data,this.initForm(),void this.stopStatusObj()):this.errorStatusObj(o.message,!0):this.errorStatusObj(n.message,!0):this.errorStatusObj(e.message,!0))).subscribe())}saveObj(e){this.initStatusObj();let n=this.form.getRawValue(),o={categoryId:this.categoryId,partnerId:n.partnerId,name:n.name,description:n.description,thumbnailUrl:n.thumbnailUrl,actionUrl:n.actionUrl,isActive:n.isActive?1:0,attributes:n.attributeObjs.map(u=>({attributeId:u.attributeId,value:u.attributeValue}))};this.waitDestroy(this.advertisingService.apiAdvertisingProductsProductIdPut(this.adsId,o).subscribe(u=>{if(!u.success)return this.errorStatusObj(u.message,!0);this.successStatusObj("lang_cms_update_success",!0),e&&this.cancel()}))}ngOnInit(){super.ngOnInit(),this.commonService.translateMetaData({title:"lang_cms_admin_common_ads",description:"lang_cms_admin_common_ads",image:"lang_cms_test_image"}),this.categoryId=Number(this.commonService.getMyParam(this.activeRoute,"categoryId")??0),this.adsId=Number(this.commonService.getMyParam(this.activeRoute,"adsId")??0),this.backTo="/azota-ads/ads-list/"+this.categoryId,this.initData(),this.form.valueChanges.subscribe(e=>{let n=this.form.controls.attributeObjs.getRawValue().map(o=>({id:0,productId:0,attributeId:o.attributeId,value:o.attributeValue,attribute:{id:o.attributeId,categoryId:this.categoryId,displayName:o.attributeDisplayName,variableName:o.attributeVariableName}}));this.currentAdsObj={id:0,categoryId:this.categoryId,partnerId:this.form.controls.partnerId.value,name:this.form.controls.name.value,description:this.form.controls.description.value,thumbnailUrl:this.form.controls.thumbnailUrl.value,actionUrl:this.form.controls.actionUrl.value,isActive:this.form.controls.isActive.value?1:0,template:this.templateObj?.data,productAttributes:n}})}constructor(e,n){super(),this.advertisingService=e,this.activeRoute=n,this.adsId=0,this.updateAdsObj=void 0,this.form=new i.cw({name:new i.NI("",{nonNullable:!0,validators:[Z._.noWhiteSpace]}),partnerId:new i.NI(0,{nonNullable:!0,validators:[i.kI.min(1)]}),actionUrl:new i.NI("",{nonNullable:!0,validators:[Z._.noWhiteSpace]}),description:new i.NI("",{nonNullable:!0}),thumbnailUrl:new i.NI("",{nonNullable:!0}),isActive:new i.NI(!0,{nonNullable:!0}),attributeObjs:new i.Oe([])})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(R.c),t.Y36(_.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-update-ads"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"mt-5"],[3,"formGroup"],[1,"azt-config-document","mx-auto",2,"max-width","1000px"],[1,"text-md","uppercase","font-medium"],[1,"box","mt-4","p-5"],[1,"grid","grid-cols-12","mb-3"],[1,"col-span-12","lg:col-span-12"],[1,"form-label","mb-0","font-medium","flex","items-center"],[1,"col-span-12"],[1,"azt-form-group"],["appearance","outline",2,"width","100%",3,"ngClass"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"link-color","clickable","pt-1",3,"click"],[1,"setting-input"],["type","text",1,"form-control",3,"formControl","ngClass"],[1,"link-color","clickable","pt-1"],[1,"inline-block",3,"uploadToCdnMenu","fileType","allowCompressImage","uploadComplete"],["class","grid grid-cols-12 mb-3",4,"ngFor","ngForOf"],[1,"form-check","form-switch","items-center","w-full","clickable"],["id","isActive","type","checkbox",1,"form-check-input","mr-2",3,"formControl"],["for","isActive",1,"flex","items-center","mr-auto"],[1,"mb-3"],["class","grid grid-cols-12mb-3",4,"ngIf"],[1,"text-right","mt-5"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","btn-primary-soft","w-24","mr-3",3,"disabled","click"],[1,"btn","btn-primary",3,"disabled","click"],[3,"value"],[1,"grid","grid-cols-12mb-3"],[3,"obj"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,Ot,1,1,"azt-loading-effect",1),t.YNc(2,Nt,76,68,"ng-template",null,2,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.Q6J("headerBackToLink",n.backTo),t.xp6(1),t.Q6J("ngIf",1==n.statusObj.loading)("ngIfElse",o)}},dependencies:[d.mk,d.sg,d.O5,i._Y,i.Fj,i.Wl,i.JJ,i.JL,D.ey,M.KE,E.gD,i.oH,i.sg,y.l,W.t,Q._,A._,x.JV],encapsulation:2}),a})();var St=c(52572),$=c(95195);function jt(a,r){if(1&a&&t._UZ(0,"azt-loading-effect",4),2&a){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function Lt(a,r){if(1&a&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&a){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function wt(a,r){1&a&&(t.TgZ(0,"span",32),t._UZ(1,"azt-loading-ui"),t.qZA())}function qt(a,r){1&a&&(t.TgZ(0,"span",32),t._UZ(1,"azt-loading-ui"),t.qZA())}const w=function(a){return{backTo:a}},Jt=function(a,r){return{"btn-success-soft":a,"btn-pending-soft":r}};function Ft(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"mat-card",18)(1,"mat-card-content",19)(2,"div",20)(3,"div",21)(4,"b"),t._uU(5),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"div",22)(8,"a",23),t.ALo(9,"navigationLocalize"),t.TgZ(10,"span",24),t._UZ(11,"lucide-icon",25),t.qZA(),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"button",26),t.NdJ("click",function(){const u=t.CHM(e).$implicit,h=t.oxw(4);return t.KtG(h.changeStatus(u))}),t.YNc(15,wt,2,0,"span",27),t.TgZ(16,"span",24),t._UZ(17,"lucide-icon",28),t.qZA(),t.TgZ(18,"span",29),t._uU(19),t.ALo(20,"mytranslate"),t.ALo(21,"mytranslate"),t.qZA()(),t.TgZ(22,"button",30),t.NdJ("click",function(){const u=t.CHM(e).$implicit,h=t.oxw(4);return t.KtG(h.deleteObj(u))}),t.YNc(23,qt,2,0,"span",27),t.TgZ(24,"span",24),t._UZ(25,"lucide-icon",31),t.qZA(),t.TgZ(26,"span",29),t._uU(27),t.ALo(28,"mytranslate"),t.qZA()()()()()()}if(2&a){const e=r.$implicit,n=r.index,o=t.oxw(4);t.xp6(5),t.hij("",n+1,"."),t.xp6(1),t.hij(" ",e.name," "),t.xp6(2),t.Q6J("routerLink",t.lcZ(9,10,"/azota-ads/edit-ads/"+e.categoryId+"/"+e.id))("queryParams",t.VKq(20,w,o.backTo)),t.xp6(4),t.hij(" ",t.lcZ(13,12,"lang_auto_sua")," "),t.xp6(2),t.Q6J("ngClass",t.WLB(22,Jt,e.isActive,!e.isActive)),t.xp6(1),t.Q6J("ngIf",o.changeStatusId==e.id),t.xp6(4),t.Oqu(e.isActive?t.lcZ(20,14,"lang_cms_admin_ads_is_active"):t.lcZ(21,16,"lang_cms_admin_ads_is_inactive")),t.xp6(4),t.Q6J("ngIf",o.deletingId==e.id),t.xp6(4),t.Oqu(t.lcZ(28,18,"lang_auto_xoa"))}}function Dt(a,r){if(1&a&&(t.TgZ(0,"div",15)(1,"div",16),t.YNc(2,Ft,29,25,"mat-card",17),t.qZA()()),2&a){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.objs)}}function Mt(a,r){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",7)(2,"mat-form-field",8)(3,"mat-select",9),t.NdJ("selectionChange",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.changeCategoryId())}),t.YNc(4,Lt,2,2,"mat-option",10),t.qZA()(),t.TgZ(5,"span",11),t.ALo(6,"navigationLocalize"),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"a",12),t.ALo(10,"navigationLocalize"),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.YNc(13,Dt,3,1,"div",13),t.BQk()}if(2&a){const e=t.oxw(2);t.xp6(3),t.Q6J("formControl",e.currentCategoryFormControl),t.xp6(1),t.Q6J("ngForOf",e.categoryObjs),t.xp6(1),t.Q6J("routerLink",t.lcZ(6,9,"/azota-ads/create-ads-template/"+e.currentCategoryFormControl.value))("queryParams",t.VKq(17,w,e.backTo)),t.xp6(2),t.hij(" ",t.lcZ(8,11,"S\u1eeda template")," "),t.xp6(2),t.Q6J("routerLink",t.lcZ(10,13,"/azota-ads/create-ads/"+e.currentCategoryFormControl.value))("queryParams",t.VKq(19,w,e.backTo)),t.xp6(2),t.hij(" ",t.lcZ(12,15,"lang_cms_admin_ads_create_new_ads")," "),t.xp6(2),t.Q6J("ngIf",e.objs.length>0)}}function Et(a,r){if(1&a&&(t.TgZ(0,"span",33),t.ALo(1,"navigationLocalize"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&a){const e=t.oxw(2);t.Q6J("routerLink",t.lcZ(1,3,"/azota-ads/create-ads-category"))("queryParams",t.VKq(7,w,e.backTo)),t.xp6(2),t.Oqu(t.lcZ(3,5,"lang_cms_admin_ads_create_new_category"))}}function Qt(a,r){if(1&a&&(t.YNc(0,Mt,14,21,"ng-container",5),t.YNc(1,Et,4,9,"ng-template",null,6,t.W1O)),2&a){const e=t.MAs(2),n=t.oxw();t.Q6J("ngIf",n.categoryObjs.length>0)("ngIfElse",e)}}let Pt=(()=>{class a extends p.Q{changeStatus(e){if(null==this.objs.find(u=>u.id==e.id))return;this.changeStatusId=e.id;let o=e.isActive?this.advertisingService.apiAdvertisingProductsProductIdDeactivatePut(e.id):this.advertisingService.apiAdvertisingProductsProductIdActivatePut(e.id);this.waitDestroy(o.subscribe(u=>{if(this.changeStatusId=0,!u.success)return this.errorStatusObj(u.message,!0);e.isActive=e.isActive?0:1}))}deleteObj(e){const n=this.commonService.myTranslateInstant("lang_cms_admin_ads_are_your_sure_to_delete_this_ads")+`: <b>${e.name}<b/>?`;this.sAztDialogService.open(f.s,{data:{content:n},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(o=>{o&&(this.deletingId=e.id,this.waitDestroy(this.advertisingService.apiAdvertisingProductsDeletePost({productIds:[e.id]}).subscribe(u=>{if(this.deletingId=0,!u.success)return this.errorStatusObj(u.message,!0);this.objs=this.objs.filter(h=>h.id!=e.id)})))})}changeCategoryId(){this.commonService.myNavigation("/azota-ads/ads-list/"+this.currentCategoryFormControl.value)}getData(){this.initStatusObj(),this.getCategory(e=>{if(e)return this.errorStatusObj(e,!0);let n=this.getDefaultCategoryId();this.currentCategoryFormControl.value!=n&&this.currentCategoryFormControl.setValue(n),this.waitDestroy(this.advertisingService.apiAdvertisingProductsListPost({categoryId:n,page:1,size:1e4}).subscribe(u=>{if(!u.success)return this.errorStatusObj(u.message,!0);this.objs=u.data?.objs??[],this.stopStatusObj()}))})}getCategory(e){this.waitDestroy(this.advertisingService.apiAdvertisingCategoriesGet().subscribe(n=>{if(!n.success)return e(n.message);this.categoryObjs=n.data?.objs??[],e(void 0)}))}getDefaultCategoryId(){let e=Number(this.commonService.getMyParam(this.activeRoute,"categoryId")??0);return null!=this.categoryObjs.find(n=>n.id==e)?e:this.commonService.getFirstOfArray(this.categoryObjs)?.id??0}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,St.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.getData()})),this.commonService.translateMetaData({title:"lang_cms_admin_common_ads",description:"lang_cms_admin_common_ads",image:"lang_cms_test_image"}),this.headerBackTo=this.commonService.getMyQueryParam("backTo")??"/super-role/admin-tool",this.backTo=this.commonService.getMyQueryParam("backTo")??this.commonService.getCurrentUrlWithoutLocale()}constructor(e,n,o){super(),this.advertisingService=e,this.activeRoute=n,this.sAztDialogService=o,this.currentCategoryFormControl=new i.NI(0,{nonNullable:!0}),this.objs=[],this.categoryObjs=[],this.deletingId=0,this.changeStatusId=0,this.backTo="",this.headerBackTo=""}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(b.cR),t.Y36(_.gz),t.Y36(v.C))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-common-guide"]],features:[t.qOj],decls:5,vars:3,consts:[[3,"headerBackToLink"],[1,"container-fluid","component-wrap","centerBoth","hasBg","mt-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["emptyCategory",""],[1,"mb-3","box","p-2","flex"],["appearance","outline"],[3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"clickable","flex-none","btn","btn-secondary","ml-3",3,"routerLink","queryParams"],[1,"clickable","flex-none","btn","btn-primary","ml-3",3,"routerLink","queryParams"],["class","card mt-1",4,"ngIf"],[3,"value"],[1,"card","mt-1"],[1,"card-body"],["appearance","outlined","class","mb-2","style","background-color: #fff; border: none",4,"ngFor","ngForOf"],["appearance","outlined",1,"mb-2",2,"background-color","#fff","border","none"],[1,"form-control",2,"overflow-y","auto"],[1,"flex","align-items-center"],[1,"w-full"],[1,"flex-none"],[1,"btn","btn-sm","btn-primary-soft","mr-2",3,"routerLink","queryParams"],[1,"w-3","h-3","inline-block","mr-2"],["name","edit"],[1,"btn","btn-sm","mr-2",3,"ngClass","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],["name","shield-check"],[1,"azt-hidden","md:inline-block"],[1,"btn","btn-sm","btn-danger-soft",3,"click"],["name","trash-2"],[1,"w-4","h-4","inline-block","mr-2"],[1,"clickable","btn","btn-primary",3,"routerLink","queryParams"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0)(1,"div",1),t.YNc(2,jt,1,1,"azt-loading-effect",2),t.YNc(3,Qt,3,2,"ng-template",null,3,t.W1O),t.qZA()()),2&e){const o=t.MAs(4);t.Q6J("headerBackToLink",n.headerBackTo),t.xp6(2),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",o)}},dependencies:[_.rH,d.mk,d.sg,d.O5,i.JJ,D.ey,$.a8,$.dn,M.KE,E.gD,i.oH,y.l,B.n,A._,T.Nh5,x.Jy,x.JV],encapsulation:2}),a})();var Kt=c(28368);function Vt(a,r){if(1&a&&t._UZ(0,"azt-loading-effect",3),2&a){const e=t.oxw();t.Q6J("currentStatusObj",e.statusObj)}}function Yt(a,r){if(1&a&&(t.TgZ(0,"div",11)(1,"span",12),t._uU(2),t.qZA(),t.TgZ(3,"span",13),t._uU(4),t.qZA()()),2&a){const e=r.$implicit;t.xp6(2),t.hij(" ","${"+e.variableName+"}"," "),t.xp6(2),t.hij(" ","- "+e.description," ")}}function Gt(a,r){if(1&a&&(t.TgZ(0,"div",24)(1,"div",16),t._UZ(2,"azt-frontend-ads-item",25),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(2),t.Q6J("obj",e.currentAdsObj)}}function Bt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"h3",6),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",7)(6,"div",8)(7,"h3",9),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"div",10)(11,"div",11)(12,"span",12),t._uU(13),t.qZA(),t.TgZ(14,"span",13),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()(),t.TgZ(17,"div",11)(18,"span",12),t._uU(19),t.qZA(),t.TgZ(20,"span",13),t._uU(21),t.ALo(22,"mytranslate"),t.qZA()(),t.TgZ(23,"div",11)(24,"span",12),t._uU(25),t.qZA(),t.TgZ(26,"span",13),t._uU(27),t.ALo(28,"mytranslate"),t.qZA()(),t.TgZ(29,"div",11)(30,"span",12),t._uU(31),t.qZA(),t.TgZ(32,"span",13),t._uU(33),t.ALo(34,"mytranslate"),t.qZA()(),t.YNc(35,Yt,5,2,"div",14),t.qZA()(),t.TgZ(36,"div",15)(37,"div",16)(38,"h3",9),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()(),t.TgZ(41,"div",17),t._UZ(42,"editor",18),t.qZA()(),t._UZ(43,"hr",19),t.YNc(44,Gt,3,1,"div",20),t.qZA(),t.TgZ(45,"div",21)(46,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleDestroy())}),t._uU(47),t.ALo(48,"mytranslate"),t.qZA(),t.TgZ(49,"button",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveTemplate())}),t._uU(50),t.ALo(51,"mytranslate"),t.qZA()()()()}if(2&a){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,19,"lang_azt_create_ads_template")," "),t.xp6(5),t.hij(" ",t.lcZ(9,21,"lang_azt_information_field")," "),t.xp6(5),t.Oqu("${NAME}"),t.xp6(2),t.hij(" ","- "+t.lcZ(16,23,"lang_cms_admin_create_ads_name")," "),t.xp6(4),t.hij("","${URL}","}"),t.xp6(2),t.hij(" ","- "+t.lcZ(22,25,"lang_cms_admin_create_ads_action_url")," "),t.xp6(4),t.Oqu("${DESCRIPTION}"),t.xp6(2),t.hij(" ","- "+t.lcZ(28,27,"lang_cms_admin_create_ads_description")," "),t.xp6(4),t.Oqu("${THUMBNAIL}"),t.xp6(2),t.AsE("","- "+t.lcZ(34,29,"lang_cms_admin_create_ads_thumbnail_url")," - ",e.adsDefaultThumbnail,""),t.xp6(2),t.Q6J("ngForOf",e.categoryAttributeList),t.xp6(4),t.hij(" ",t.lcZ(40,31,"lang_auto_noi_dung")," "),t.xp6(3),t.s9C("apiKey",e.tinyEditorKey),t.Q6J("formControl",e.template)("init",e.initDataEditor),t.xp6(2),t.Q6J("ngIf",e.currentAdsObj),t.xp6(3),t.Oqu(t.lcZ(48,33,"lang_auto_huy")),t.xp6(3),t.Oqu(t.lcZ(51,35,"lang_auto_luu"))}}const Ht=[{path:"",children:[{path:"ads-list/:categoryId",component:Pt},{path:"create-ads/:categoryId",component:Zt},{path:"edit-ads/:categoryId/:adsId",component:zt},{path:"ads-category",component:nt},{path:"create-ads-category",component:st},{path:"update-ads-category/:categoryId",component:pt},{path:"create-ads-template/:categoryId",component:(()=>{class a extends p.Q{saveTemplate(){const e={categoryId:this.categoryId,data:this.commonService.replaceAll(this.template.value,this.adsDefaultThumbnail,"${THUMBNAIL}")??""};this.waitDestroy(this.advertisingService.apiAdvertisingTemplatesPost(e).subscribe(n=>{if(!n.success)return this.errorStatusObj(n.message,!0);this.successStatusObj("T\u1ea1o template th\xe0nh c\xf4ng"),this.myNavigation(`/azota-ads/ads-list/${this.categoryId}`)}))}handleDestroy(){this.myNavigation(this.backToLink)}initAds(){this.currentAdsObj={id:0,categoryId:this.categoryId,partnerId:0,name:"NAME_SAMPLE",description:"DESCRIPTION_SAMPLE",thumbnailUrl:s.N.adsDefaultThumbnail,actionUrl:"https://google.com.vn",isActive:1,template:this.template.value,productAttributes:this.categoryAttributeList.map(e=>({id:0,productId:0,attributeId:e.id,value:e.variableName,attribute:{id:e.id,categoryId:this.categoryId,displayName:e.displayName,variableName:e.variableName}}))}}getData(e){this.initStatusObj();const n=this.advertisingService.apiAdvertisingCategoriesCategoryIdAttributesGet(e),o=this.advertisingService.apiAdvertisingCategoriesCategoryIdTemplatesGet(e);this.waitDestroy((0,J.D)([n,o]).subscribe({next:([u,h])=>u.success?h.success?(this.categoryAttributeList=u.data?.objs??[],this.template.setValue(this.commonService.replaceAll(h.data?.data,"${THUMBNAIL}",this.adsDefaultThumbnail)??""),void this.successStatusObj()):this.errorStatusObj(h.message,!0):this.errorStatusObj(u.message,!0),error:u=>this.errorStatusObj(u.message,!0)}))}ngOnInit(){super.ngOnInit(),this.initDataEditor=this.tinyMceService.initConfigForAdminWithUploadImageBox(F.j6.ADMIN),this.categoryId=Number(this.commonService.getMyParam(this.activeRoute,"categoryId")??0),this.backToLink=this.commonService.getMyQueryParam("backto")??"/azota-ads/ads-category",this.getData(this.categoryId),this.template.valueChanges.subscribe(e=>{this.initAds()})}constructor(e,n,o){super(),this.tinyMceService=e,this.activeRoute=n,this.advertisingService=o,this.initDataEditor={},this.tinyEditorKey=s.N.tinyEditorKey,this.backToLink="",this.categoryId=0,this.template=new i.NI("",{nonNullable:!0,validators:[i.kI.required]}),this.categoryAttributeList=[],this.adsDefaultThumbnail=s.N.adsDefaultThumbnail}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Kt.y),t.Y36(_.gz),t.Y36(b.cR))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-create-ads-template"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"mt-5"],[1,"azt-config-document","mx-auto",2,"max-width","1000px"],[1,"text-md","uppercase","font-medium"],[1,"box","p-5","mt-3"],[1,"mt-0"],[1,"text-md","font-medium"],[1,"mt-2"],[1,"mt-3"],[1,"rounded-md","bg-slate-200","px-3","py-1","text-slate-600","text-xs","dark:bg-darkmode-300","dark:text-slate-400","inline-block"],[1,"mt-1","mr-1","text-xs","leading-relaxed","text-slate-500"],["class","mt-3",4,"ngFor","ngForOf"],[1,"grid","grid-cols-12","mt-4"],[1,"col-span-12","lg:col-span-12"],[1,"col-span-12","lg:col-span-12","mt-3"],[3,"formControl","apiKey","init"],[1,"mt-3","mb-3"],["class","grid grid-cols-12mb-3",4,"ngIf"],[1,"text-right","mt-5"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","btn-primary","w-24",3,"click"],[1,"grid","grid-cols-12mb-3"],[3,"obj"]],template:function(e,n){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,Vt,1,1,"azt-loading-effect",1),t.YNc(2,Bt,52,37,"ng-template",null,2,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.Q6J("headerBackToLink",n.backToLink),t.xp6(1),t.Q6J("ngIf",1==n.statusObj.loading)("ngIfElse",o)}},dependencies:[d.sg,d.O5,i.JJ,O.PG,i.oH,y.l,Q._,A._,x.JV],encapsulation:2}),a})()}]}];let Rt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[_.Bz.forChild(Ht),_.Bz,l.fQ]}),a})(),Wt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[{provide:O.f8,useValue:s.N.azt_tiny_mce_script_src}],imports:[_.Bz,d.ez,i.u5,O.Z_,N.j,i.UX,Rt,m.W,g.Z,I.kb,C.d,T.qyJ.pick(T.ciZ),U.l1]}),a})()}}]);