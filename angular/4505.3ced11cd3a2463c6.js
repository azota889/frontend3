"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[4505],{47635:(Re,Bt,g)=>{g.d(Bt,{c:()=>ee});var O=g(10936),i=g(66257),e=g(48725),tt=g(59640),a=g(37497),t=g(27208),T=g(18586),C=g(26860),s=g(65162),Ct=g(95624),wt=g(46899),Rt=g(25898),rt=g(54460),xt=g(47712),K=g(18718),dt=g(22613),at=g(69135),$t=g(32099),H=g(5800),Y=g(10123),B=g(15343),P=g(73437);function bt(U,Dt){if(1&U){const F=C.RV6();C.j41(0,"div",5)(1,"div",6)(2,"azt-search-box",7),C.bIt("onSearch",function(Gt){C.eBV(F);const Wt=C.XpG();return C.Njj(Wt.onSearchBox(Gt.searchObj))}),C.nI1(3,"mytranslate"),C.k0s()()()}2&U&&(C.R7$(2),C.Y8G("isServerSearch",!0)("placeholder",C.bMT(3,2,"lang_core_tim_theo_ten_phone_email")))}function gt(U,Dt){if(1&U&&C.nrm(0,"azt-loading-effect",10),2&U){const F=C.XpG(2);C.Y8G("currentStatusObj",F.statusObj)}}const ut=function(U){return{"text-primary stroke-width-2.5":U}},vt=function(U){return{"text-primary stroke-width-2.5":U,"-mt-2":!0}};function It(U,Dt){if(1&U&&(C.j41(0,"div",20),C.nrm(1,"lucide-icon",21)(2,"lucide-icon",22),C.k0s()),2&U){const F=C.XpG().$implicit,ot=C.XpG(3);C.R7$(1),C.Y8G("ngClass",C.eq3(2,ut,F.typeFieldSort===ot.typeFieldSort.asc)),C.R7$(1),C.Y8G("ngClass",C.eq3(4,vt,F.typeFieldSort===ot.typeFieldSort.desc))}}function Ft(U,Dt){if(1&U){const F=C.RV6();C.j41(0,"th",17)(1,"div",18),C.bIt("click",function(){const Wt=C.eBV(F).$implicit,ve=C.XpG(3);return C.Njj(ve.sortTableByFieldName(Wt))}),C.EFF(2),C.nI1(3,"mytranslate"),C.DNE(4,It,3,6,"div",19),C.k0s()()}if(2&U){const F=Dt.$implicit;C.R7$(1),C.Aen(F.customStyle),C.HbH(F.customClassCss),C.R7$(1),C.SpI(" ",C.bMT(3,6,F.key)," "),C.R7$(2),C.Y8G("ngIf",!F.ignore)}}function Qt(U,Dt){if(1&U){const F=C.RV6();C.j41(0,"tr",23)(1,"td"),C.nrm(2,"azt-student-info-box",24),C.k0s(),C.j41(3,"td",25),C.EFF(4),C.nI1(5,"formatStudentCodeToNumber"),C.k0s(),C.j41(6,"td",25),C.EFF(7),C.nI1(8,"formatOnlyDateByUserUnitPipe"),C.k0s(),C.j41(9,"td",25)(10,"div",26),C.nrm(11,"textarea",27),C.nI1(12,"mytranslate"),C.j41(13,"span",28,29),C.bIt("click",function(){const Wt=C.eBV(F).$implicit,ve=C.XpG(3);return C.Njj(ve.showAllComment(Wt))}),C.nI1(15,"mytranslate"),C.nrm(16,"lucide-icon",30),C.k0s()()()()}if(2&U){const F=Dt.$implicit,ot=C.sdS(14);C.Y8G("id","row_student_"+F.id),C.R7$(2),C.Y8G("name",F.fullName)("parentFullName",F.parentFullName)("parentId",F.parentId)("parentPhone",F.parentPhone)("avatar",F.avatar)("gender",F.gender)("hasUser",F.hasUser)("schoolName",F.schoolName)("classrooms",F.classrooms)("joinedAt",F.joinedAt),C.R7$(2),C.JRh(F.identificationNumber?C.i5U(5,20,F.identificationNumber,6):""),C.R7$(3),C.JRh(C.bMT(8,23,null!=F.assessments&&F.assessments[0]?null==F.assessments||null==F.assessments[0]?null:F.assessments[0].createdAt:"")),C.R7$(4),C.FS9("placeholder",C.bMT(12,25,"lang_azt_enter_comment")),C.Y8G("id","assessment_content_"+F.id)("disabled",!0)("value",F.lastAssessmentComment),C.R7$(2),C.FS9("matTooltip",C.bMT(15,27,"lang_student_show_all_comment")),C.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",ot.isDisabled)}}function _e(U,Dt){if(1&U){const F=C.RV6();C.j41(0,"azt-paging",34),C.bIt("goToPaginationPage",function(Gt){C.eBV(F);const Wt=C.XpG(4);return C.Njj(Wt.setPageStudent(Gt))}),C.k0s()}if(2&U){const F=C.XpG(4);C.Y8G("pageObj",F.pageObj)}}function be(U,Dt){if(1&U&&(C.j41(0,"div",35),C.EFF(1),C.nI1(2,"mytranslate"),C.k0s()),2&U){const F=C.XpG(4);C.R7$(1),C.Lme("",F.totalStudent," ",C.bMT(2,2,"lang_notify_list_students"),"")}}function Ce(U,Dt){if(1&U&&(C.j41(0,"div",31),C.nrm(1,"div"),C.DNE(2,_e,1,1,"azt-paging",32),C.DNE(3,be,3,4,"div",33),C.k0s()),2&U){const F=C.XpG(3);C.R7$(2),C.Y8G("ngIf",F.totalStudent>F.pageObj.pageSize),C.R7$(1),C.Y8G("ngIf",!F.isStudent)}}function Fe(U,Dt){if(1&U&&(C.j41(0,"div",11)(1,"drag-scroll")(2,"table",12)(3,"thead")(4,"tr",13),C.DNE(5,Ft,5,8,"th",14),C.k0s()(),C.j41(6,"tbody"),C.DNE(7,Qt,17,29,"tr",15),C.k0s()()()(),C.DNE(8,Ce,4,2,"div",16)),2&U){const F=C.XpG(2);C.R7$(5),C.Y8G("ngForOf",F.sortTableByFieldNameService.fieldNameList),C.R7$(2),C.Y8G("ngForOf",F.listStudent),C.R7$(1),C.Y8G("ngIf",F.listStudent&&F.totalStudent&&F.totalStudent>0)}}function Me(U,Dt){if(1&U&&(C.j41(0,"div",1),C.DNE(1,gt,1,1,"azt-loading-effect",8),C.DNE(2,Fe,9,3,"ng-template",null,9,C.C5r),C.k0s()),2&U){const F=C.sdS(3),ot=C.XpG();C.R7$(1),C.Y8G("ngIf",ot.statusObj.loading)("ngIfElse",F)}}function zt(U,Dt){if(1&U&&C.nrm(0,"azt-loading-effect",10),2&U){const F=C.XpG(2);C.Y8G("currentStatusObj",F.statusObj)}}function qt(U,Dt){1&U&&(C.j41(0,"div",39),C.EFF(1),C.nI1(2,"mytranslate"),C.k0s()),2&U&&(C.R7$(1),C.SpI(" ",C.bMT(2,1,"lang_azt_no_comments_yet")," "))}function yt(U,Dt){if(1&U&&(C.j41(0,"div",42)(1,"div",43)(2,"p",44),C.EFF(3),C.nI1(4,"mytranslate"),C.nI1(5,"formatOnlyDateByUserUnitPipe"),C.k0s()(),C.nrm(6,"div",45),C.nI1(7,"safeNormalHtmlContent"),C.k0s()),2&U){const F=Dt.$implicit;C.R7$(3),C.Lme("",C.bMT(4,3,"lang_student_add_comment_date"),": ",C.bMT(5,5,F.updatedAt),""),C.R7$(3),C.Y8G("innerHTML",C.bMT(7,7,F.comment),C.npT)}}function Nt(U,Dt){if(1&U&&(C.j41(0,"div",40),C.DNE(1,yt,8,9,"div",41),C.k0s()),2&U){const F=C.XpG(3);C.R7$(1),C.Y8G("ngForOf",null==F.firstStudent?null:F.firstStudent.assessments)}}function jt(U,Dt){if(1&U&&(C.DNE(0,qt,3,3,"div",37),C.DNE(1,Nt,2,1,"ng-template",null,38,C.C5r)),2&U){const F=C.sdS(2),ot=C.XpG(2);C.Y8G("ngIf",!(null!=ot.firstStudent&&ot.firstStudent.assessments&&null!=ot.firstStudent&&null!=ot.firstStudent.assessments&&ot.firstStudent.assessments.length))("ngIfElse",F)}}function le(U,Dt){if(1&U&&(C.j41(0,"div",1),C.DNE(1,zt,1,1,"azt-loading-effect",8),C.DNE(2,jt,3,2,"ng-template",null,36,C.C5r),C.k0s()),2&U){const F=C.sdS(3),ot=C.XpG();C.R7$(1),C.Y8G("ngIf",ot.statusObj.loading)("ngIfElse",F)}}let ee=(()=>{class U extends tt.H{onSearchBox(F){this.searchContentObj=F,this.getData()}showAllComment(F){this.sAztDialogService.open(T.U,{width:"700px",restoreFocus:!1,data:{student:F,isTeacher:!1}}).afterClosed().subscribe(ot=>{ot&&this.getData()})}setPageStudent(F){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/6","?page="+F),this.pageObj.setPageNumber(F),this.getData()}sortTableByFieldName(F){F.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(F),this.getData())}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!0,order:this.orderObj}).subscribe({next:ot=>{ot.list.length&&(this.listStudent=[]),this.totalStudent=ot.total,ot.list.forEach(Gt=>{let Wt=this.sAztAssessmentStudentService.getLastAssessmentStudent(Gt);this.listStudent.push({...Gt,commentControl:new O.gE({id:new O.MJ(0,{nonNullable:!0}),updatedAt:new O.MJ(Wt?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new O.MJ(Wt?.comment??"",{nonNullable:!0}),isEditted:new O.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(Gt.assessments),editComment:!1}),this.firstStudent=this.listStudent?.[0]?this.listStudent[0]:void 0,this.firstStudent=this.convertBreakLine(this.firstStudent)}),this.totalStudent=ot.total,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()},error:ot=>{this.errorStatusObj(ot.error.message,!0)}}))}convertBreakLine(F){if(!F)return;const ot=F.assessments?.map(Gt=>({...Gt,comment:Gt.comment?.replace(/\n/g,"<br/>")}));return{...F,assessments:ot}}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentDate",key:"lang_azt_comments_date",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"lastAssessmentComment",key:"lang_azt_comments_consciousness_and_academic_performance",ignore:!0,typeFieldSort:i.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(F,ot,Gt,Wt,ve){super(),this.activeRoute=F,this.studentService=ot,this.sAztDialogService=Gt,this.sAztAssessmentStudentService=Wt,this.sortTableByFieldNameService=ve,this.classroomId=0,this.searchContentObj=new t.Z,this.pageObj=new a.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=i.H}static#t=this.\u0275fac=function(ot){return new(ot||U)(C.rXU(s.nX),C.rXU(Ct.b0),C.rXU(wt.i),C.rXU(Rt.n),C.rXU(e.s))};static#e=this.\u0275cmp=C.VBU({type:U,selectors:[["app-assessment-board"]],inputs:{isStudent:"isStudent"},features:[C.Jv_([e.s]),C.Vt3],decls:8,vars:6,consts:[[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","col-span-12 lg:col-span-12 2xl:col-span-12 mt-4",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"isServerSearch","placeholder","onSearch"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","assesment-board-oI-Jn2-vQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[3,"id"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"flex","items-center"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value"],[1,"w-6","h-6","ml-4","inline-block","clickable",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","click"],["c","isDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"flex","justify-end"],["doneLoadingStudent",""],["class","mt-2 py-3 px-5 mb-3 text-center","style","height: 55px",4,"ngIf","ngIfElse"],["hasData",""],[1,"mt-2","py-3","px-5","mb-3","text-center",2,"height","55px"],[1,"py-3","px-5","box","mt-4"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"flex","mb-2",2,"align-items","center"],[1,"font-bold","mb-0"],[1,"box","bg-slate-200","dark:bg-darkmode-400","p-2",3,"innerHTML"]],template:function(ot,Gt){1&ot&&(C.j41(0,"div",0)(1,"div",1)(2,"h3",2),C.EFF(3),C.nI1(4,"mytranslate"),C.k0s()(),C.DNE(5,bt,4,4,"div",3),C.DNE(6,Me,4,2,"div",4),C.DNE(7,le,4,2,"div",4),C.k0s()),2&ot&&(C.R7$(3),C.JRh(C.bMT(4,4,"lang_azt_comments")),C.R7$(2),C.Y8G("ngIf",!Gt.isStudent),C.R7$(1),C.Y8G("ngIf",!Gt.isStudent),C.R7$(1),C.Y8G("ngIf",Gt.isStudent))},dependencies:[rt.YU,rt.Sq,rt.bT,xt.oV,K.K,dt.q,at.f,$t.W,H.B,Y.jd,Y.Ew,B.WGl,P.wp,P._y,P.Po,P.vv],encapsulation:2})}return U})()},56172:(Re,Bt,g)=>{g.d(Bt,{E:()=>ee});var O=g(10127),i=g(66257),e=g(48725),tt=g(59640),a=g(37497),t=g(27208),T=g(26860),C=g(65162),s=g(46899),Ct=g(95624),wt=g(54460),Rt=g(18718),rt=g(22613),xt=g(32099),K=g(5800),dt=g(10123),at=g(15343),$t=g(85127),H=g(73437);function Y(U,Dt){1&U&&(T.j41(0,"div",6),T.EFF(1),T.nI1(2,"mytranslate"),T.k0s()),2&U&&(T.R7$(1),T.SpI(" ",T.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function B(U,Dt){if(1&U&&(T.j41(0,"div",13),T.nrm(1,"azt-loading-effect",14),T.k0s()),2&U){const F=T.XpG(2);T.R7$(1),T.Y8G("currentStatusObj",F.statusObj)}}function P(U,Dt){1&U&&(T.j41(0,"div",20),T.EFF(1),T.nI1(2,"mytranslate"),T.k0s()),2&U&&(T.R7$(1),T.SpI(" ",T.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}const bt=function(U){return{"text-primary stroke-width-2.5":U}},gt=function(U){return{"text-primary stroke-width-2.5":U,"-mt-2":!0}};function ut(U,Dt){if(1&U&&(T.j41(0,"div",29),T.nrm(1,"lucide-icon",30)(2,"lucide-icon",31),T.k0s()),2&U){const F=T.XpG().$implicit,ot=T.XpG(5);T.R7$(1),T.Y8G("ngClass",T.eq3(2,bt,F.typeFieldSort===ot.typeFieldSort.asc)),T.R7$(1),T.Y8G("ngClass",T.eq3(4,gt,F.typeFieldSort===ot.typeFieldSort.desc))}}function vt(U,Dt){if(1&U){const F=T.RV6();T.j41(0,"th",26)(1,"div",27),T.bIt("click",function(){const Wt=T.eBV(F).$implicit,ve=T.XpG(5);return T.Njj(ve.sortTableByFieldName(Wt))}),T.EFF(2),T.nI1(3,"mytranslate"),T.DNE(4,ut,3,6,"div",28),T.k0s()()}if(2&U){const F=Dt.$implicit;T.R7$(1),T.Aen(F.customStyle),T.HbH(F.customClassCss),T.R7$(1),T.SpI(" ",T.bMT(3,6,F.key)," "),T.R7$(2),T.Y8G("ngIf",!F.ignore)}}function It(U,Dt){1&U&&(T.j41(0,"span"),T.EFF(1,"/"),T.k0s())}function Ft(U,Dt){if(1&U&&(T.j41(0,"span"),T.EFF(1),T.DNE(2,It,2,0,"span",4),T.EFF(3),T.k0s()),2&U){const F=T.XpG().$implicit;T.R7$(1),T.SpI(" ",F.lastMonthPaid," "),T.R7$(1),T.Y8G("ngIf",F.lastMonthPaid),T.R7$(1),T.SpI(" ",F.lastYearPaid," ")}}function Qt(U,Dt){1&U&&(T.j41(0,"span",38),T.EFF(1),T.nI1(2,"mytranslate"),T.k0s()),2&U&&(T.R7$(1),T.SpI(" ",T.bMT(2,1,"lang_core_hoc_thu")," "))}function _e(U,Dt){if(1&U){const F=T.RV6();T.j41(0,"tr")(1,"td",32),T.bIt("click",function(){const Wt=T.eBV(F).$implicit,ve=T.XpG(5);return T.Njj(ve.addOrEditTuitionFee(Wt))}),T.nrm(2,"azt-student-info-box",33),T.k0s(),T.j41(3,"td",34),T.EFF(4),T.nI1(5,"formatStudentCodeToNumber"),T.k0s(),T.j41(6,"td",35),T.EFF(7),T.k0s(),T.j41(8,"td",36),T.DNE(9,Ft,4,3,"span",4),T.DNE(10,Qt,3,3,"span",37),T.k0s()()}if(2&U){const F=Dt.$implicit;let ot;T.R7$(2),T.Y8G("name",F.fullName)("avatar",F.avatar)("gender",F.gender)("schoolName",F.schoolName)("hasUser",F.hasUser)("classrooms",F.classrooms)("joinedAt",F.joinedAt),T.R7$(2),T.JRh(F.identificationNumber?T.i5U(5,11,F.identificationNumber,6):""),T.R7$(3),T.SpI(" ",null!==(ot=null==F.classroom?null:F.classroom.name)&&void 0!==ot?ot:""," "),T.R7$(2),T.Y8G("ngIf",!F.isTrial),T.R7$(1),T.Y8G("ngIf",F.isTrial)}}const be=function(){return[]};function Ce(U,Dt){if(1&U&&(T.j41(0,"div")(1,"div",21)(2,"drag-scroll")(3,"table",22)(4,"thead")(5,"tr",23),T.DNE(6,vt,5,8,"th",24),T.k0s()(),T.j41(7,"tbody"),T.DNE(8,_e,11,14,"tr",25),T.k0s()()()()()),2&U){const F=T.XpG(4);let ot;T.R7$(6),T.Y8G("ngForOf",F.sortTableByFieldNameService.fieldNameList),T.R7$(2),T.Y8G("ngForOf",null!==(ot=null==F.listPayment?null:F.listPayment.list)&&void 0!==ot?ot:T.lJ4(2,be))}}function Fe(U,Dt){if(1&U){const F=T.RV6();T.j41(0,"div",39),T.EFF(1),T.nI1(2,"mytranslate"),T.j41(3,"span",40),T.bIt("click",function(){T.eBV(F);const Gt=T.XpG(4);return T.Njj(Gt.goBack())}),T.EFF(4),T.nI1(5,"mytranslate"),T.k0s()()}2&U&&(T.R7$(1),T.SpI(" ",T.bMT(2,2,"lang_core_not_found_student"),"... "),T.R7$(3),T.JRh(T.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function Me(U,Dt){if(1&U&&(T.j41(0,"div",17),T.DNE(1,P,3,3,"div",18),T.DNE(2,Ce,9,3,"div",4),T.DNE(3,Fe,6,6,"div",19),T.k0s()),2&U){const F=T.XpG(3);let ot,Gt;T.R7$(1),T.Y8G("ngIf",!F.searchContentObj.isLoading&&0==(null==F.listPayment?null:F.listPayment.total)&&""==F.searchContentObj.searchContent),T.R7$(1),T.Y8G("ngIf",(null!==(ot=null==F.listPayment?null:F.listPayment.total)&&void 0!==ot?ot:0)>0),T.R7$(1),T.Y8G("ngIf",!F.searchContentObj.isLoading&&0==(null!==(Gt=null==F.listPayment?null:F.listPayment.list)&&void 0!==Gt?Gt:T.lJ4(3,be)).length&&""!=F.searchContentObj.searchContent)}}function zt(U,Dt){if(1&U){const F=T.RV6();T.j41(0,"azt-paging",44),T.bIt("goToPaginationPage",function(Gt){T.eBV(F);const Wt=T.XpG(4);return T.Njj(Wt.setPageStudent(Gt))}),T.k0s()}if(2&U){const F=T.XpG(4);T.Y8G("pageObj",F.pageObj)}}function qt(U,Dt){if(1&U&&(T.j41(0,"div",45),T.EFF(1),T.nI1(2,"mytranslate"),T.k0s()),2&U){const F=T.XpG(4);T.R7$(1),T.Lme("",F.listPayment.total," ",T.bMT(2,2,"lang_notify_list_students"),"")}}function yt(U,Dt){if(1&U&&(T.j41(0,"div",41),T.nrm(1,"div"),T.DNE(2,zt,1,1,"azt-paging",42),T.DNE(3,qt,3,4,"div",43),T.k0s()),2&U){const F=T.XpG(3);T.R7$(2),T.Y8G("ngIf",F.listPayment.total>F.pageObj.pageSize),T.R7$(1),T.Y8G("ngIf",!F.isStudent)}}function Nt(U,Dt){if(1&U&&(T.DNE(0,Me,4,4,"div",15),T.DNE(1,yt,4,2,"div",16)),2&U){const F=T.XpG(2);let ot;T.Y8G("ngIf",!F.isStudent),T.R7$(1),T.Y8G("ngIf",F.listPayment&&F.listPayment.total&&(null!==(ot=null==F.listPayment?null:F.listPayment.total)&&void 0!==ot?ot:0)>0)}}function jt(U,Dt){if(1&U){const F=T.RV6();T.qex(0),T.j41(1,"div",7)(2,"div",8)(3,"div",9)(4,"azt-search-box",10),T.bIt("onSearch",function(Gt){T.eBV(F);const Wt=T.XpG();return T.Njj(Wt.onSearchBox(Gt.searchObj))}),T.nI1(5,"mytranslate"),T.k0s()()()(),T.DNE(6,B,2,1,"div",11),T.DNE(7,Nt,2,2,"ng-template",null,12,T.C5r),T.bVm()}if(2&U){const F=T.sdS(8),ot=T.XpG();T.R7$(4),T.Y8G("isServerSearch",!0)("placeholder",T.bMT(5,5,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",ot.searchContentObj),T.R7$(2),T.Y8G("ngIf",ot.statusObj.loading)("ngIfElse",F)}}function le(U,Dt){1&U&&(T.j41(0,"div",46),T.nrm(1,"detail-tuition-fee-student"),T.k0s())}let ee=(()=>{class U extends tt.H{onSearchBox(F){this.searchContentObj=F,this.getData()}addOrEditTuitionFee(F){this.sAztDialogService.open(O.B,{width:"900px",restoreFocus:!1,data:F}).afterClosed().subscribe(ot=>{ot&&this.getData()})}goBack(){this.searchContentObj.resetSearchContentEvent()}sortTableByFieldName(F){F.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(F),this.getData())}setPageStudent(F){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/8","?page="+F),this.pageObj.setPageNumber(F),this.getData()}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:this.isStudent,getAssessment:!1,order:this.orderObj}).subscribe({next:ot=>{this.listPayment=ot,this.pageObj.setTotalPages(ot.total??0),this.successStatusObj()},error:ot=>{this.errorStatusObj(ot.error.message,!0)}}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"classroom.name",key:"lang_auto_lop",ignore:!0,typeFieldSort:i.H.none,customClassCss:"text-center whitespace-nowrap"},{fieldName:"payment",key:"lang_azt_tuition_fee_submission_time",ignore:!1,typeFieldSort:i.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.isStudent||this.getData()}constructor(F,ot,Gt,Wt){super(),this.activeRoute=F,this.sAztDialogService=ot,this.studentService=Gt,this.sortTableByFieldNameService=Wt,this.pageStudent=1,this.searchContentObj=new t.Z,this.classroomId=0,this.pageObj=new a.d(50),this.typeFieldSort=i.H}static#t=this.\u0275fac=function(ot){return new(ot||U)(T.rXU(C.nX),T.rXU(s.i),T.rXU(Ct.b0),T.rXU(e.s))};static#e=this.\u0275cmp=T.VBU({type:U,selectors:[["app-tuition-fee-board"]],inputs:{isStudent:"isStudent"},features:[T.Jv_([e.s]),T.Vt3],decls:8,vars:6,consts:[[1,"mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],["class","mt-1",4,"ngIf"],[4,"ngIf"],["class","intro-y col-span-12 overflow-auto",4,"ngIf"],[1,"mt-1"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-5"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","grid","sm:flex","sm:justify-start","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["class","w-full flex justify-center items-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"w-full","flex","justify-center","items-center"],[3,"currentStatusObj"],["class","intro-y col-span-12",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"intro-y","col-span-12"],["class","flex justify-center mt-5",4,"ngIf"],["class","flex justify-center mt-19",4,"ngIf"],[1,"flex","justify-center","mt-5"],[1,"intro-y",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"cursor-pointer"],["azt-track-service","tuition-fee-board-WXuxcVronQ",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","schoolName","hasUser","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center",2,"min-width","100px","max-width","150px"],[1,"text-center"],["class","text-slate-500",4,"ngIf"],[1,"text-slate-500"],[1,"flex","justify-center","mt-19"],["azt-track-service","business-tuition-fee-hLqHhho7i",1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"flex","justify-end"],[1,"intro-y","col-span-12","overflow-auto"]],template:function(ot,Gt){1&ot&&(T.j41(0,"div",0)(1,"div",1)(2,"h3",2),T.EFF(3),T.nI1(4,"mytranslate"),T.k0s(),T.DNE(5,Y,3,3,"div",3),T.k0s(),T.DNE(6,jt,9,7,"ng-container",4),T.DNE(7,le,2,0,"div",5),T.k0s()),2&ot&&(T.R7$(3),T.SpI(" ",T.bMT(4,4,Gt.isStudent?"lang_student_tuition_fee_info":"lang_business_tuition_fee_title_top")," "),T.R7$(2),T.Y8G("ngIf",Gt.isMobileDevice||Gt.isMobileWebView),T.R7$(1),T.Y8G("ngIf",!Gt.isStudent),T.R7$(1),T.Y8G("ngIf",Gt.isStudent))},dependencies:[wt.YU,wt.Sq,wt.bT,Rt.K,rt.q,xt.W,K.B,dt.jd,dt.Ew,at.WGl,$t.k,H.wp,H.Po],encapsulation:2})}return U})()},85127:(Re,Bt,g)=>{g.d(Bt,{k:()=>rt});var O=g(59640),i=g(26860),e=g(95624),tt=g(54460),a=g(52811),t=g(10123),T=g(73437);function C(xt,K){1&xt&&(i.j41(0,"tr",9)(1,"td",10)(2,"span",11),i.nrm(3,"azt-loading-ui"),i.k0s()()())}function s(xt,K){if(1&xt&&(i.j41(0,"tr")(1,"td",9),i.EFF(2),i.k0s(),i.j41(3,"td"),i.EFF(4),i.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),i.k0s(),i.j41(6,"td"),i.EFF(7),i.k0s(),i.j41(8,"td",9)(9,"span",15),i.EFF(10),i.nI1(11,"mytranslate"),i.k0s()()()),2&xt){const dt=K.$implicit,at=K.index;i.R7$(2),i.JRh(at+1),i.R7$(2),i.JRh(i.bMT(5,4,dt.createdAt)),i.R7$(3),i.JRh(dt.month+"/"+dt.year),i.R7$(3),i.SpI(" ",i.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function Ct(xt,K){if(1&xt&&(i.qex(0),i.DNE(1,s,12,8,"tr",14),i.bVm()),2&xt){const dt=i.XpG(2);i.R7$(1),i.Y8G("ngForOf",dt.historyTuitionFeeList)}}function wt(xt,K){1&xt&&(i.j41(0,"tr")(1,"td",16),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()()),2&xt&&(i.R7$(2),i.SpI(" ",i.bMT(3,1,"lang_student_profile_not_data_view")," "))}function Rt(xt,K){if(1&xt&&(i.DNE(0,Ct,2,1,"ng-container",12),i.DNE(1,wt,4,3,"ng-template",null,13,i.C5r)),2&xt){const dt=i.sdS(2),at=i.XpG();i.Y8G("ngIf",at.historyTuitionFeeList.length)("ngIfElse",dt)}}let rt=(()=>{class xt extends O.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentMeGet().subscribe(dt=>{dt?(this.historyTuitionFeeList=dt.histories,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(dt){super(),this.paymentService=dt,this.historyTuitionFeeList=[]}static#t=this.\u0275fac=function(at){return new(at||xt)(i.rXU(e.WG))};static#e=this.\u0275cmp=i.VBU({type:xt,selectors:[["detail-tuition-fee-student"]],features:[i.Vt3],decls:22,vars:14,consts:[[1,"detail-attendance"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],["class","text-center",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"text-center"],["colspan","4"],[1,"w-10","h-10","inline-block","m-auto"],[4,"ngIf","ngIfElse"],["noTuitionFee",""],[4,"ngFor","ngForOf"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function(at,$t){if(1&at&&(i.j41(0,"div",0)(1,"div",1)(2,"drag-scroll")(3,"table",2)(4,"thead",3)(5,"tr")(6,"th",4),i.EFF(7),i.nI1(8,"mytranslate"),i.k0s(),i.j41(9,"th",5),i.EFF(10),i.nI1(11,"mytranslate"),i.k0s(),i.j41(12,"th",5),i.EFF(13),i.nI1(14,"mytranslate"),i.k0s(),i.j41(15,"th",6),i.EFF(16),i.nI1(17,"mytranslate"),i.k0s()()(),i.j41(18,"tbody"),i.DNE(19,C,4,0,"tr",7),i.DNE(20,Rt,3,2,"ng-template",null,8,i.C5r),i.k0s()()()()()),2&at){const H=i.sdS(21);i.R7$(7),i.SpI(" ",i.bMT(8,6,"lang_auto_stt")," "),i.R7$(3),i.SpI(" ",i.bMT(11,8,"lang_student_payment_time")," "),i.R7$(3),i.SpI(" ",i.bMT(14,10,"lang_student_monthly_tuition_fee")," "),i.R7$(3),i.SpI(" ",i.bMT(17,12,"lang_student_status")," "),i.R7$(3),i.Y8G("ngIf",$t.statusObj.loading)("ngIfElse",H)}},dependencies:[tt.Sq,tt.bT,a.R,t.jd,t.Ew,T.wp,T.bH],encapsulation:2})}return xt})()},25898:(Re,Bt,g)=>{g.d(Bt,{n:()=>e});var O=g(10936),i=g(26860);let e=(()=>{class tt{makeListFormArrayComment(t,T){let C=new O.Yp([]);return t&&t.forEach(s=>{C.push(new O.gE({id:new O.MJ({value:s.id,disabled:!T},{nonNullable:!0}),updatedAt:new O.MJ({value:s.updatedAt?.toString()??"",disabled:!T},{nonNullable:!0}),comment:new O.MJ({value:s.comment??"",disabled:!T},{nonNullable:!0}),isEditted:new O.MJ(!1,{nonNullable:!0})}))}),C}getLastAssessmentStudent(t){if(t.assessments&&t.assessments.length)return t.assessments[0]}static#t=this.\u0275fac=function(T){return new(T||tt)};static#e=this.\u0275prov=i.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"})}return tt})()},18586:(Re,Bt,g)=>{g.d(Bt,{U:()=>Me});var O=g(81519),i=g(26860),e=g(10936),tt=g(34514),a=g(47426),t=g(89163),T=g(99503),C=g(79347),s=g(33887),Ct=g(25693),wt=g(9691),Rt=g(25898),rt=g(10296),xt=g(67638),K=g(40609),dt=g(54460),at=g(47712),$t=g(81587),H=g(2915),Y=g(52811),B=g(5800),P=g(15343),bt=g(73437);function gt(zt,qt){if(1&zt){const yt=i.RV6();i.j41(0,"button",12),i.bIt("click",function(){i.eBV(yt);const jt=i.XpG();return i.Njj(jt.changeEditStatus(!0))}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}2&zt&&(i.R7$(1),i.SpI(" ",i.bMT(2,1,"lang_auto_sua")," "))}function ut(zt,qt){if(1&zt){const yt=i.RV6();i.j41(0,"button",13),i.bIt("click",function(){i.eBV(yt);const jt=i.XpG();return i.Njj(jt.changeEditStatus(!1))}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}if(2&zt){const yt=i.XpG();i.Y8G("disabled",yt.isSave),i.R7$(1),i.SpI(" ",i.bMT(2,2,"lang_auto_huy_sua")," ")}}function vt(zt,qt){if(1&zt){const yt=i.RV6();i.j41(0,"button",14),i.bIt("click",function(){i.eBV(yt);const jt=i.XpG();return i.Njj(jt.saveEdit())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}if(2&zt){const yt=i.XpG();i.Y8G("disabled",yt.isSave||yt.countChangedComment()),i.R7$(1),i.SpI(" ",i.bMT(2,2,"lang_auto_luu")," ")}}function It(zt,qt){1&zt&&(i.j41(0,"div",15)(1,"span",16),i.nrm(2,"azt-loading-ui"),i.k0s()())}function Ft(zt,qt){1&zt&&(i.j41(0,"div",19),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&zt&&(i.R7$(1),i.SpI(" ",i.bMT(2,1,"lang_azt_no_comments_yet")," "))}function Qt(zt,qt){if(1&zt){const yt=i.RV6();i.j41(0,"button",28),i.bIt("click",function(){i.eBV(yt);const jt=i.XpG().$implicit,le=i.XpG(3);return i.Njj(le.deleteAssesment(jt.controls.id.value))}),i.nrm(1,"lucide-icon",29),i.nI1(2,"mytranslate"),i.k0s()}if(2&zt){const yt=i.XpG(4);i.Y8G("disabled",yt.isSave),i.R7$(1),i.FS9("matTooltip",i.bMT(2,2,"lang_auto_xoa"))}}function _e(zt,qt){if(1&zt){const yt=i.RV6();i.j41(0,"div",22)(1,"form",23)(2,"div",24)(3,"p",25),i.EFF(4),i.nI1(5,"mytranslate"),i.nI1(6,"formatOnlyDateByUserUnitPipe"),i.k0s(),i.DNE(7,Qt,3,4,"button",26),i.k0s(),i.j41(8,"textarea",27),i.bIt("change",function(){const le=i.eBV(yt).$implicit;return i.Njj(le.controls.isEditted.setValue(!0))}),i.k0s()()()}if(2&zt){const yt=qt.$implicit,Nt=i.XpG(3);i.R7$(1),i.Y8G("formGroup",yt),i.R7$(3),i.Lme("",i.bMT(5,4,"lang_student_add_comment_date"),": ",i.bMT(6,6,yt.controls.updatedAt.value),""),i.R7$(3),i.Y8G("ngIf",Nt.isEdit)}}function be(zt,qt){if(1&zt&&(i.j41(0,"div",20),i.DNE(1,_e,9,8,"div",21),i.k0s()),2&zt){const yt=i.XpG(2);i.R7$(1),i.Y8G("ngForOf",null==yt.data.student.listCommentControl?null:yt.data.student.listCommentControl.controls)}}function Ce(zt,qt){if(1&zt&&(i.DNE(0,Ft,3,3,"div",17),i.DNE(1,be,2,1,"ng-template",null,18,i.C5r)),2&zt){const yt=i.sdS(2),Nt=i.XpG();i.Y8G("ngIf",!Nt.data.student.assessments||!Nt.data.student.assessments.length)("ngIfElse",yt)}}const Fe=function(){return{"ml-2 cursor-pointer":!0}};let Me=(()=>{class zt extends s._{filterData(yt){this.dataFilter=yt,this.initStatusObj()}countChangedComment(){return!!this.data.student.listCommentControl?.controls.filter(Nt=>Nt.controls.isEditted.value&&!Nt.controls.comment.value)?.length}saveEdit(){this.isSave=!0,this.changeEditStatus(!1),this.initStatusObj();let yt=this.data.student.listCommentControl?.controls.filter(jt=>jt.controls.isEditted.value).map(jt=>({id:jt.controls.id.value,studentId:this.data.student.id,comment:jt.controls.comment.value}))??[];if(!yt.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost({classroomId:this.data.student.classroomId,studentAssessments:yt}).subscribe(jt=>{jt.success?(this.showSuccessSnack("lang_student_edit_comment_successfully"),this.isEdit=!1,this.hasChanged=!0,this.getStudent()):this.errorStatusObj("lang_student_edit_comment_unsuccessfully",!0),this.isSave=!1}))}deleteAssesment(yt){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsIdAssessmentsDelete(yt).subscribe(Nt=>{Nt.success?(this.getStudent(!0),this.showSuccessSnack("lang_student_delete_comment_successfully"),this.hasChanged=!0):this.errorStatusObj("lang_student_delete_comment_unsuccessfully",!0)}))}changeEditStatus(yt){this.isEdit=yt,this.data.student.listCommentControl?.controls.map(Nt=>yt?Nt.enable():Nt.disable())}getStudent(yt){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.student.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.student.classroomId,getBook:!1,getMark:!1,getAttendance:!1,getPayment:!1,me:!this.data.isTeacher,getAssessment:!0}).subscribe({next:jt=>{if(jt.list.length){let le=this.sAztAssessmentStudentService.getLastAssessmentStudent(jt.list[0]);this.data.student={...jt.list[0],commentControl:new e.gE({id:new e.MJ(0,{nonNullable:!0}),updatedAt:new e.MJ(le?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new e.MJ(le?.comment??"",{nonNullable:!0}),isEditted:new e.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(jt.list[0].assessments,yt)}}this.stopStatusObj()},error:jt=>{this.errorStatusObj(jt.error.message,!0)}}))}closeDialog(){this.dialogRef.close(this.hasChanged)}ngOnInit(){super.ngOnInit()}constructor(yt,Nt,jt,le,ee,U,Dt){super(Dt,U),this.sAztAssessmentStudentService=yt,this.sAztTimeService=Nt,this.shareFileFlutterService=jt,this.exportExcelService=le,this.studentService=ee,this.dialogRef=U,this.data=Dt,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.isSave=!1,this.isEdit=!1,this.hasChanged=!1,this.commonService=(0,i.WQX)(Ct.R)}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(Nt){return new(Nt||zt)(i.rXU(Rt.n),i.rXU(wt.F),i.rXU(rt.R),i.rXU(xt.x),i.rXU(K.b),i.rXU(t.CP,8),i.rXU(t.Vh,8))};static#e=this.\u0275cmp=i.VBU({type:zt,selectors:[["azt-student-comments"]],features:[i.Jv_([{provide:O.$O,useClass:T.fb,deps:[a.Ju,tt.ij]},{provide:O.vq,useFactory:C.fJ,deps:[wt.F]}]),i.Vt3],decls:15,vars:19,consts:[[1,"box"],[1,"px-5","py-3","border-b","border-slate-300"],[1,"flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[2,"align-self","center"],["name","x","size","16",3,"matTooltip","ngClass","click"],[1,"flex","justify-end"],["azt-track-service","show-all-comment-dialog-LbiztBEnN","class","btn btn-sm btn-secondary",3,"click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3","class","btn btn-sm btn-secondary-soft mr-2",3,"disabled","click",4,"ngIf"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r","class","btn btn-sm btn-primary",3,"disabled","click",4,"ngIf"],["class","p-5 text-center",4,"ngIf","ngIfElse"],["doneLoading",""],["azt-track-service","show-all-comment-dialog-LbiztBEnN",1,"btn","btn-sm","btn-secondary",3,"click"],["azt-track-service","show-all-comment-dialog-obLkGIiBj3",1,"btn","btn-sm","btn-secondary-soft","mr-2",3,"disabled","click"],["azt-track-service","show-all-comment-dialog-NsWjWIKf_r",1,"btn","btn-sm","btn-primary",3,"disabled","click"],[1,"p-5","text-center"],[1,"w-8","h-8","inline-block","mr-2"],["class","mt-2 py-3 px-5 mb-2 text-center","style","height: 55px",4,"ngIf","ngIfElse"],["hasData",""],[1,"mt-2","py-3","px-5","mb-2","text-center",2,"height","55px"],[1,"py-3","px-5"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[3,"formGroup"],[1,"flex","mb-2","items-center"],[1,"font-bold","mb-0"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP","class","btn btn-transparent btn-outline-secondary btn-sm",3,"disabled","click",4,"ngIf"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"change"],["azt-track-service","show-all-comment-dialog-nT0YvyBIsP",1,"btn","btn-transparent","btn-outline-secondary","btn-sm",3,"disabled","click"],["name","trash-2","size","16",3,"matTooltip"]],template:function(Nt,jt){if(1&Nt&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2),i.nrm(3,"azt-student-info-box",3),i.j41(4,"div",4)(5,"lucide-icon",5),i.bIt("click",function(){return jt.closeDialog()}),i.nI1(6,"mytranslate"),i.k0s()()(),i.j41(7,"div",6),i.DNE(8,gt,3,3,"button",7),i.DNE(9,ut,3,4,"button",8),i.DNE(10,vt,3,4,"button",9),i.k0s()(),i.j41(11,"azt-mat-dialog-content"),i.DNE(12,It,3,0,"div",10),i.DNE(13,Ce,3,2,"ng-template",null,11,i.C5r),i.k0s()()),2&Nt){const le=i.sdS(14);i.R7$(3),i.Y8G("name",jt.data.student.fullName)("parentFullName",jt.data.student.parentFullName)("parentId",jt.data.student.parentId)("parentPhone",jt.data.student.parentPhone)("phone",jt.data.student.phone)("email",jt.data.student.email)("avatar",jt.data.student.avatar)("gender",jt.data.student.gender)("hasUser",jt.data.student.hasUser),i.R7$(2),i.FS9("matTooltip",i.bMT(6,16,"lang_auto_dong")),i.Y8G("ngClass",i.lJ4(18,Fe)),i.R7$(3),i.Y8G("ngIf",!jt.isEdit&&jt.data.isTeacher),i.R7$(1),i.Y8G("ngIf",jt.isEdit),i.R7$(1),i.Y8G("ngIf",jt.isEdit),i.R7$(2),i.Y8G("ngIf",jt.statusObj.loading)("ngIfElse",le)}},dependencies:[dt.YU,dt.Sq,dt.bT,at.oV,e.qT,e.me,e.BC,e.cb,e.j4,e.JD,$t.t,H.U,Y.R,B.B,P.WGl,bt.wp,bt.vv],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]})}return zt})()},66067:(Re,Bt,g)=>{g.d(Bt,{E:()=>so});var O=g(76627),i=g(59640),e=g(26860),tt=g(65162),a=g(73202),t=g(95624),T=g(9691),C=g(54460),s=g(18718),Ct=g(64198),wt=g(75421),Rt=g(93518),rt=g(53043),xt=g(69307),K=g(46899),dt=g(40111),at=g(17818),$t=g(47426),H=g(47712),Y=g(69135),B=g(52811),P=g(91584),bt=g(15343),gt=g(23750),ut=g(81519),vt=g(10936),It=g(34514),Ft=g(99503),Qt=g(79347);class _e{static addNewEducationalProgramFormValidator(W){let p=W,v=p.controls.weekdayConfig;if(!v.length)return p.setErrors(null),null;let S=0,G=0;return v.controls.forEach(z=>{let it=!1,Mt={invalidTime:!1,requireTime:!1,invalidInfrastructure:!1,identityRevealed:!0};z.controls.selected.value?(z.controls.infrastructureId.value||(it=!0,Mt.invalidInfrastructure=!0),z.controls.startTime.value&&z.controls.endTime.value?new Date("1970-01-01T"+z.controls.startTime.value).getTime()>=new Date("1970-01-01T"+z.controls.endTime.value).getTime()?(it=!0,Mt.invalidTime=!0):Mt.invalidTime=!1:(it=!0,Mt.requireTime=!0),z.setErrors(it?Mt:null),G++):z.setErrors(null),z.invalid&&S++},v),S||!G?(p.setErrors({invalidData:!0}),{identityRevealed:!0,invalidData:!0}):(p.setErrors(null),null)}}var be=g(43234),Ce=g(66772),Fe=g(84828),Me=g(39471),zt=g(97839),qt=g(74960),yt=g(4375),Nt=g(20378),jt=g(81587),le=g(5502),ee=g(73437);const U=["startTime"];function Dt(f,W){if(1&f&&e.nrm(0,"azt-loading-effect",4),2&f){const p=e.XpG();e.Y8G("currentStatusObj",p.statusObj)}}function F(f,W){if(1&f){const p=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(p);const S=e.XpG(2);return e.Njj(S.saveEducationalProgramEmit.emit(!1))}),e.nrm(1,"lucide-icon",40),e.j41(2,"span",41),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}if(2&f){const p=e.XpG(2);e.Y8G("disabled",p.isSavingProgram),e.R7$(3),e.JRh(e.bMT(4,2,"lang_auto_huy"))}}function ot(f,W){1&f&&e.nrm(0,"lucide-icon",46)}function Gt(f,W){1&f&&e.nrm(0,"lucide-icon",47)}const Wt=function(){return{"text-primary":!0}};function ve(f,W){1&f&&e.nrm(0,"lucide-icon",55),2&f&&e.Y8G("ngClass",e.lJ4(1,Wt))}const ze=function(f){return{"border border-primary":f}};function en(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",51)(1,"div",52),e.bIt("click",function(){const G=e.eBV(p).$implicit,z=e.XpG().$implicit,it=e.XpG(2).$implicit,Mt=e.XpG(2);let Xt;return e.Njj(Mt.selectSubject(null!==(Xt=it.id)&&void 0!==Xt?Xt:0,null!==(Xt=z.id)&&void 0!==Xt?Xt:0,G))}),e.j41(2,"span",53),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,ve,1,2,"lucide-icon",54),e.k0s()()}if(2&f){const p=W.$implicit;e.Y8G("ngClass",e.eq3(5,ze,p.selected)),e.R7$(3),e.JRh(e.bMT(4,3,p.name)),e.R7$(2),e.Y8G("ngIf",p.selected)}}function cn(f,W){if(1&f&&(e.qex(0),e.j41(1,"h3",48)(2,"span",49),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.DNE(5,en,6,7,"div",50),e.bVm()),2&f){const p=W.$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,2,p.name)," "),e.R7$(2),e.Y8G("ngForOf",p.children)}}function Ge(f,W){if(1&f&&(e.qex(0),e.DNE(1,cn,6,4,"ng-container",18),e.bVm()),2&f){const p=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",p.subjects)}}function nn(f,W){if(1&f){const p=e.RV6();e.qex(0),e.j41(1,"h3",42),e.bIt("click",function(){const G=e.eBV(p).$implicit,z=e.XpG(2);let it;return e.Njj(z.showEducationalProgramSubject(null!==(it=G.id)&&void 0!==it?it:0))}),e.j41(2,"span",43),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,ot,1,0,"lucide-icon",44),e.DNE(6,Gt,1,0,"lucide-icon",45),e.k0s(),e.DNE(7,Ge,2,1,"ng-container",19),e.bVm()}if(2&f){const p=W.$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,4,p.name)," "),e.R7$(2),e.Y8G("ngIf",p.showChild),e.R7$(1),e.Y8G("ngIf",!p.showChild),e.R7$(1),e.Y8G("ngIf",p.showChild)}}function mn(f,W){1&f&&(e.qex(0),e.j41(1,"small",56),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_validate"),""))}function _n(f,W){1&f&&(e.qex(0),e.j41(1,"small",56),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_no_program_yet"),""))}function dn(f,W){if(1&f){const p=e.RV6();e.qex(0),e.j41(1,"div",58),e.bIt("click",function(){e.eBV(p);const S=e.XpG().$implicit,G=e.XpG(2);return e.Njj(G.openWeekdayConfig(S.controls.id.value))}),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()}if(2&f){const p=e.XpG().$implicit;e.R7$(1),e.Y8G("formGroup",p),e.R7$(2),e.JRh(e.bMT(4,2,p.controls.name.value))}}function on(f,W){1&f&&(e.j41(0,"button",79),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_huy")))}function Ke(f,W){1&f&&(e.j41(0,"button",80),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_auto_xac_nhan")))}function Qe(f,W){1&f&&e.nrm(0,"p",81)}function Ze(f,W){1&f&&(e.j41(0,"mat-label"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_business_config_educational_program_select_infrastructure")," "))}function nt(f,W){if(1&f&&(e.j41(0,"mat-option",82),e.EFF(1),e.k0s()),2&f){const p=W.$implicit;e.FS9("value",p.id),e.R7$(1),e.JRh(p.name)}}function Yt(f,W){1&f&&(e.qex(0),e.j41(1,"small",83),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_time_validate"),""))}function X(f,W){1&f&&(e.qex(0),e.j41(1,"small",83),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_testbank_test_config_end_time_bigger_time_star"),""))}function lt(f,W){1&f&&(e.qex(0),e.nrm(1,"br"),e.j41(2,"small",84),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(3),e.SpI("* ",e.bMT(4,1,"lang_business_config_educational_program_infrastructure_validate"),""))}function mt(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",59)(1,"div",60)(2,"span",61),e.bIt("click",function(){e.eBV(p);const S=e.XpG().$implicit,G=e.XpG(2);return e.Njj(G.openWeekdayConfig(S.controls.id.value))}),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"lucide-icon",62),e.bIt("click",function(){e.eBV(p);const S=e.XpG().$implicit,G=e.XpG(2);return e.Njj(G.openWeekdayConfig(S.controls.id.value))}),e.k0s(),e.j41(6,"div",63)(7,"div",64)(8,"div",65),e.nrm(9,"input",66),e.nI1(10,"mytranslate"),e.nrm(11,"ngx-mat-timepicker",67,68),e.k0s(),e.j41(13,"span",69),e.EFF(14,"\xa0-\xa0"),e.k0s(),e.j41(15,"div",65),e.nrm(16,"input",70),e.nI1(17,"mytranslate"),e.nrm(18,"ngx-mat-timepicker",67,71),e.k0s(),e.DNE(20,on,3,3,"ng-template",null,72,e.C5r),e.DNE(22,Ke,3,3,"ng-template",null,73,e.C5r),e.DNE(24,Qe,1,0,"ng-template",null,74,e.C5r),e.j41(26,"lucide-icon",75),e.bIt("click",function(){e.eBV(p);const S=e.XpG().$implicit,G=e.XpG(2);return e.Njj(G.openWeekdayConfig(S.controls.id.value))}),e.k0s()(),e.j41(27,"mat-form-field",76),e.DNE(28,Ze,3,3,"mat-label",19),e.j41(29,"mat-select",77),e.bIt("openedChange",function(S){e.eBV(p);const G=e.XpG().$implicit,z=e.XpG(2);return e.Njj(z.touchedMatSelect(S,G))}),e.DNE(30,nt,2,2,"mat-option",78),e.k0s()(),e.DNE(31,Yt,4,3,"ng-container",19),e.DNE(32,X,4,3,"ng-container",19),e.DNE(33,lt,5,3,"ng-container",19),e.k0s()()()}if(2&f){const p=e.sdS(12),v=e.sdS(19),S=e.sdS(21),G=e.sdS(23),z=e.sdS(25),it=e.XpG().$implicit,Mt=e.XpG(2);e.Y8G("formGroup",it)("ngClass",e.eq3(29,ze,it.controls.selected.value)),e.R7$(3),e.JRh(e.bMT(4,23,it.controls.name.value)),e.R7$(6),e.FS9("placeholder",e.bMT(10,25,"lang_auto_tu")),e.Y8G("ngxMatTimepicker",p)("format",24),e.R7$(2),e.Y8G("editableHintTmpl",z)("enableKeyboardInput",!0)("cancelBtnTmpl",S)("confirmBtnTmpl",G),e.R7$(5),e.FS9("placeholder",e.bMT(17,27,"lang_auto_den")),e.Y8G("ngxMatTimepicker",v)("format",24),e.R7$(2),e.Y8G("editableHintTmpl",z)("enableKeyboardInput",!0)("cancelBtnTmpl",S)("confirmBtnTmpl",G),e.R7$(10),e.Y8G("ngIf",it.errors&&it.errors.invalidInfrastructure&&!it.controls.infrastructureId.touched),e.R7$(1),e.Y8G("value",it.controls.infrastructureId.value),e.R7$(1),e.Y8G("ngForOf",Mt.listInfrastructureObjs),e.R7$(1),e.Y8G("ngIf",it.errors&&it.errors.requireTime),e.R7$(1),e.Y8G("ngIf",it.errors&&it.errors.invalidTime),e.R7$(1),e.Y8G("ngIf",it.errors&&it.errors.invalidInfrastructure)}}function Vt(f,W){if(1&f&&(e.qex(0),e.DNE(1,dn,5,4,"ng-container",19),e.DNE(2,mt,34,31,"div",57),e.bVm()),2&f){const p=W.$implicit;e.R7$(1),e.Y8G("ngIf",!p.controls.selected.value),e.R7$(1),e.Y8G("ngIf",p.controls.selected.value)}}function xe(f,W){1&f&&(e.qex(0),e.j41(1,"small",56),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.SpI("* ",e.bMT(3,1,"lang_business_config_educational_program_start_time_validate"),""))}function Jt(f,W){1&f&&e.nrm(0,"azt-loading-ui",88)}function Te(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",85)(1,"button",86),e.bIt("click",function(){e.eBV(p);const S=e.XpG(2);return e.Njj(S.saveEducationalProgram())}),e.DNE(2,Jt,1,0,"azt-loading-ui",87),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}if(2&f){const p=e.XpG(2);e.R7$(1),e.Y8G("disabled",p.form.invalid||p.isSavingProgram),e.R7$(1),e.Y8G("ngIf",p.isSavingProgram),e.R7$(1),e.SpI(" ",e.bMT(4,3,"lang_auto_luu")," ")}}const ae=function(f){return{"mt-2":f}},De=function(){return{"ml-2 clickable":!0}},Zt=function(){return{"width.px":"auto","height.%":100}},pe=function(f){return[f]},Se=function(f){return{backTo:f}},Pe=function(){return{"mr-2":!0}},Ae=function(f,W){return{hiddenVisible:f,visibleIpt:W}};function V(f,W){if(1&f){const p=e.RV6();e.DNE(0,F,5,4,"button",5),e.j41(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"h3",11),e.EFF(7,"1"),e.k0s()(),e.j41(8,"span",12),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.j41(11,"lucide-icon",13),e.bIt("click",function(){e.eBV(p);const S=e.XpG();return e.Njj(S.reloadAllEducationalProgram())}),e.k0s()(),e.j41(12,"div",14)(13,"div",15)(14,"ng-scrollbar",16)(15,"div",17),e.DNE(16,nn,8,6,"ng-container",18),e.DNE(17,mn,4,3,"ng-container",19),e.DNE(18,_n,4,3,"ng-container",19),e.k0s()()(),e.j41(19,"div",17)(20,"a",20),e.nI1(21,"navigationLocalize"),e.nrm(22,"lucide-icon",21),e.j41(23,"span",22),e.EFF(24),e.nI1(25,"mytranslate"),e.k0s()()()()(),e.j41(26,"div",8)(27,"div",9)(28,"div",10)(29,"h3",11),e.EFF(30,"2"),e.k0s()(),e.j41(31,"span",23),e.EFF(32),e.nI1(33,"mytranslate"),e.k0s()(),e.j41(34,"div",24)(35,"div",25)(36,"ng-scrollbar",16)(37,"div",26),e.DNE(38,Vt,3,2,"ng-container",18),e.k0s()()()()(),e.j41(39,"div",8)(40,"div",9)(41,"div",10)(42,"h3",11),e.EFF(43,"3"),e.k0s()(),e.j41(44,"span",23),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s()(),e.j41(47,"div",27)(48,"div",28)(49,"ng-scrollbar",16)(50,"div",29)(51,"mat-form-field",30)(52,"input",31),e.bIt("click",function(){e.eBV(p);const S=e.XpG();return e.Njj(S.openDateTimePicker(1))}),e.k0s(),e.j41(53,"button",32),e.bIt("click",function(S){return e.eBV(p),e.XpG().openDateTimePicker(1),e.Njj(S.stopPropagation())}),e.nrm(54,"lucide-icon",33),e.k0s(),e.j41(55,"ngx-mat-datetime-picker",34,35)(57,"ngx-mat-datepicker-actions")(58,"button",36),e.EFF(59),e.nI1(60,"mytranslate"),e.k0s(),e.j41(61,"button",37),e.EFF(62,"OK"),e.k0s()()()(),e.DNE(63,xe,4,3,"ng-container",19),e.k0s()()(),e.DNE(64,Te,5,5,"div",38),e.k0s()()()()}if(2&f){const p=e.sdS(56),v=e.XpG();e.Y8G("ngIf",v.programObj),e.R7$(2),e.Y8G("ngClass",e.eq3(41,ae,v.programObj)),e.R7$(7),e.JRh(e.bMT(10,29,"lang_config_educational_program_select_new")),e.R7$(2),e.Y8G("ngClass",e.lJ4(43,De)),e.R7$(3),e.Y8G("visibility","hover")("ngStyle",e.lJ4(44,Zt)),e.R7$(2),e.Y8G("ngForOf",v.listEducationalProgramObjs),e.R7$(1),e.Y8G("ngIf",v.listEducationalProgramObjs.length>0&&!v.form.controls.chooseProgramId.value),e.R7$(1),e.Y8G("ngIf",!v.listEducationalProgramObjs.length),e.R7$(2),e.Y8G("routerLink",e.eq3(45,pe,e.bMT(21,31,"/business/create-general-educational-program")))("queryParams",e.eq3(47,Se,v.currentURL)),e.R7$(2),e.Y8G("ngClass",e.lJ4(49,Pe)),e.R7$(2),e.JRh(e.bMT(25,33,"lang_config_educational_program_add_new")),e.R7$(8),e.JRh(e.bMT(33,35,"lang_config_educational_program_add_time")),e.R7$(3),e.Y8G("ngClass",e.l_i(50,Ae,v.form.controls.stepChoose.value<2,v.form.controls.stepChoose.value>=2)),e.R7$(1),e.Y8G("visibility","hover")("ngStyle",e.lJ4(53,Zt)),e.R7$(2),e.Y8G("ngForOf",v.form.controls.weekdayConfig.controls),e.R7$(7),e.JRh(e.bMT(46,37,"lang_config_educational_program_add_start_time")),e.R7$(3),e.Y8G("ngClass",e.l_i(54,Ae,v.form.controls.stepChoose.value<3,v.form.controls.stepChoose.value>=3)),e.R7$(1),e.Y8G("visibility","hover")("ngStyle",e.lJ4(57,Zt)),e.R7$(3),e.Y8G("max",v.maxDate)("ngxMatDatetimePicker",p),e.R7$(3),e.Y8G("touchUi",!0)("hideTime",!0),e.R7$(4),e.JRh(e.bMT(60,39,"lang_auto_dong")),e.R7$(4),e.Y8G("ngIf",v.form.controls.startTimeEducationalProgram.invalid),e.R7$(1),e.Y8G("ngIf",!v.statusObj.loading)}}let kt=(()=>{class f extends i.H{openDateTimePicker(p){1==p&&this.startTime&&this.startTime.open()}showEducationalProgramSubject(p){this.listEducationalProgramObjs.forEach(v=>{v.id==p&&(v.showChild=!v.showChild,v.showChild||v.subjects.forEach(S=>{S.children?.forEach(G=>{G.id==this.form.controls.chooseProgramId.value&&(this.form.controls.stepChoose.setValue(1),this.form.controls.chooseProgramId.setValue(0),G.selected=!1,this.initFormWeekly())})}))})}selectSubject(p,v,S){this.listEducationalProgramObjs.forEach(G=>{G.id==p?G.subjects.forEach(z=>{z.id==v?z.children?.forEach(it=>{it.id==S.id?(it.selected=!it.selected,this.form.controls.chooseProgramId.setValue(it.selected?S.id:0),this.form.controls.stepChoose.setValue(it.selected?2:1)):it.selected=!1}):z.children?.map(it=>it.selected=!1)}):G.subjects.map(z=>z.children?.map(it=>it.selected=!1))})}reloadAllEducationalProgram(){this.form.controls.chooseProgramId.setValue(0),this.initFormWeekly(),this.initData()}openWeekdayConfig(p){this.form.controls.weekdayConfig.controls.forEach(v=>{v.controls.id.value==p&&v.controls.selected.setValue(!v.controls.selected.value)})}touchedMatSelect(p,v){p?v.controls.infrastructureId.markAsTouched():v.controls.infrastructureId.markAsUntouched()}saveEducationalProgram(){this.isSavingProgram=!0;let p={programId:this.form.controls.chooseProgramId.value,studyingTimes:this.convertStudyTimes(),startTime:this.timeService.formatDateTimeToPostToServer(this.form.controls.startTimeEducationalProgram.value)};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdProgramsPost(this.classroomId,p).subscribe({next:v=>{this.showSuccessSnack("lang_educational_program_save_success_educational_program"),this.isSavingProgram=!1,this.saveEducationalProgramEmit.emit(!0)},error:v=>{this.isSavingProgram=!1,this.errorStatusObj(v.error.message,!0)}}))}convertStudyTimes(){let p=[];return this.form.controls.weekdayConfig.controls.forEach(v=>{if(v.controls.selected.value){let S={days:v.controls.id.value,fromHour:new Date("1970-01-01T"+v.controls.startTime.value).getHours(),fromMinute:new Date("1970-01-01T"+v.controls.startTime.value).getMinutes(),toHour:new Date("1970-01-01T"+v.controls.endTime.value).getHours(),toMinute:new Date("1970-01-01T"+v.controls.endTime.value).getMinutes(),roomId:v.controls.infrastructureId.value};p.push(S)}}),p}convertSubjectList(p,v){let S=[];return p.forEach(G=>{if(G.schoolLevelId==v)if(S.filter(it=>it.id==G.schoolSubjectId&&it.levelId==G.schoolLevelId).length)S.forEach(it=>{it.id==G.schoolSubjectId&&it.levelId==G.schoolLevelId&&(it.children?.find(Mt=>Mt==G)||it.children?.push(G))});else{let it={id:G.schoolSubjectId,levelId:G.schoolLevelId,name:this.schoolSubjectObjs.find(Mt=>Mt.id==G.schoolSubjectId)?.name,children:[G]};S.push(it)}}),S}convertProgramInfo(p){let v=[],S=this.sAZTranslateService.myTranslateInstant("lang_auto_lop")??"L\u1edbp",G=this.sAZTranslateService.myTranslateInstant("lang_core_buoi")??"Bu\u1ed5i";return p.forEach(z=>{if(z.name=`${z.name} (${z.totalSession} ${G})`,!v.filter(Mt=>Mt.id==z.schoolLevelId).length){let Mt={id:z.schoolLevelId,name:S+" "+z.schoolLevelId,subjects:this.convertSubjectList(p,z.schoolLevelId),showChild:!1};v.push(Mt)}}),v.sort((z,it)=>(it.id??0)-(z.id??0))}convertListInfrastructure(p){let v=[],S=this.commonService.myTranslateInstant("lang_infrastructure_seat")??"";return p.forEach(G=>{G.name=`${G.infrastructure?.name??""} - ${G.name} (${G.numberSeat} ${S})`,v.push(G)}),v}getAllInfrastructure(){this.waitDestroy(this.infrastructureService.apiInfrastructuresRoomsGet().subscribe({next:p=>{this.listInfrastructureObjs=this.convertListInfrastructure(p.list),this.stopStatusObj()},error:p=>{this.errorStatusObj(p.error.message,!0)}}))}initFormWeekly(){this.form.controls.startTimeEducationalProgram.setValue(""),this.form.controls.weekdayConfig.clear();for(let p=0;p<7;p++){let v=new vt.gE({id:new vt.MJ(p,{nonNullable:!0}),name:new vt.MJ("lang_config_educational_program_day_"+p,{nonNullable:!0}),startTime:new vt.MJ("",{nonNullable:!0}),endTime:new vt.MJ("",{nonNullable:!0}),infrastructureId:new vt.MJ(0,{nonNullable:!0}),selected:new vt.MJ(!1,{nonNullable:!0}),invalidTime:new vt.MJ(!1,{nonNullable:!0})});this.form.controls.weekdayConfig.push(v)}}initData(){this.initStatusObj(),this.waitDestroy(this.programService.apiProgramsListPost({page:0,size:-1}).subscribe({next:p=>{this.listEducationalProgramObjs=this.convertProgramInfo(p.list),this.getAllInfrastructure()},error:p=>{this.errorStatusObj(p.error.message,!0)}}))}getSubjectObjs(){this.initStatusObj(),this.waitDestroy(this.commonListService.apiCommonListSubjectAndLevelsGet(this.commonService.getBusinessDomainUrl()).subscribe(p=>{1==p.success?(this.schoolSubjectObjs=this.commonService.concatMultipleArray(p.data?.schoolLevelSubjectObjs.map(v=>v.schoolSubjectObjs)??[]),this.initData()):(this.errorStatusObj(p.message??""),this.initData())}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard",this.getSubjectObjs()}ngAfterViewChecked(){this.form.controls.weekdayConfig.controls.filter(v=>v.controls.selected).length?2==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(3):3==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(2),this.cd.detectChanges()}ngDoCheck(){this.cd.detectChanges()}constructor(p,v,S,G,z,it,Mt){super(),this.cd=p,this.timeService=v,this.classroomService=S,this.programService=G,this.infrastructureService=z,this.sAZTranslateService=it,this.commonListService=Mt,this.saveEducationalProgramEmit=new e.bkB,this.backLink="",this.currentURL=this.commonService.getCurrentUrlWithoutLocale(),this.listEducationalProgramObjs=[],this.listInfrastructureObjs=[],this.maxDate=be.c.maxDateTimePicker,this.curStep=1,this.isSavingProgram=!1,this.schoolSubjectObjs=[],this.form=new vt.gE({chooseProgramId:new vt.MJ(0,{nonNullable:!0,validators:[vt.k0.required,vt.k0.min(1)]}),startTimeEducationalProgram:new vt.MJ("",{nonNullable:!0,validators:[vt.k0.required]}),weekdayConfig:new vt.Yp([]),stepChoose:new vt.MJ(1,{nonNullable:!0})},{validators:[_e.addNewEducationalProgramFormValidator]}),this.initFormWeekly()}static#t=this.\u0275fac=function(v){return new(v||f)(e.rXU(e.gRc),e.rXU(T.F),e.rXU(t.zS),e.rXU(t.sC),e.rXU(t.BU),e.rXU(Ce.o),e.rXU(Fe.Nz))};static#e=this.\u0275cmp=e.VBU({type:f,selectors:[["app-add-new-educational-program"]],viewQuery:function(v,S){if(1&v&&e.GBs(U,5),2&v){let G;e.mGM(G=e.lsd())&&(S.startTime=G.first)}},inputs:{classroomId:"classroomId",programObj:"programObj"},outputs:{saveEducationalProgramEmit:"saveEducationalProgramEmit"},features:[e.Jv_([{provide:ut.$O,useClass:Ft.fb,deps:[$t.Ju,It.ij]},{provide:ut.vq,useFactory:Qt.In,deps:[T.F]}]),e.Vt3],decls:5,vars:3,consts:[[1,"mx-auto","mt-3","pb-2"],[3,"formGroup"],["class","block pb-5",3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"block","pb-5",3,"currentStatusObj"],["azt-track-service","add-new-educational-program-V_itz7ADg","class","btn btn-transparent",3,"disabled","click",4,"ngIf"],[1,"box","px-4","pt-5"],[1,"grid","grid-cols-12",3,"ngClass"],[1,"col-span-12","md:col-span-4"],[1,"flex","px-2","pb-3","items-center"],[1,"bg-info","text-white","h-8","w-8","text-center",2,"border-radius","50%"],[1,"font-bold","text-xl"],[1,"ml-2",2,"vertical-align","middle","font-weight","420","word-break","break-all"],["name","refresh-ccw","size","18",3,"ngClass","click"],[1,"border","border-slate-300",2,"border-bottom","0","border-left","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto"],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"],[2,"padding-right","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],["azt-track-service","add-new-educational-programs-eY0H_Hziew",1,"btn","btn-sm","btn-primary","shadow-md","w-full","block","mx-auto","mt-3","mb-3",3,"routerLink","queryParams"],["name","plus","size","16",3,"ngClass"],[2,"vertical-align","middle","font-size","14px !important"],[1,"ml-2",2,"vertical-align","middle","font-weight","420"],[1,"border","border-slate-300",2,"height","100%","border-bottom","0","border-left","0","border-right","0"],["formArrayName","weekdayConfig",1,"mt-2","pb-2",2,"height","calc(100vh - 205px)","overflow-y","auto",3,"ngClass"],[2,"padding-right","1rem","padding-left","1rem"],[1,"border","border-slate-300",2,"border-bottom","0","border-right","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],[1,"mt-2",2,"padding-left","1rem","padding-right","1rem"],["appearance","outline"],["matInput","","formControlName","startTimeEducationalProgram","readonly","",3,"max","ngxMatDatetimePicker","click"],["matSuffix","",2,"font-size","18px",3,"click"],["name","calendar-clock","size","16"],[3,"touchUi","hideTime"],["startTime",""],["mat-raised-button","","color","secondary","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["class","text-right mt-3 mb-3",4,"ngIf"],["azt-track-service","add-new-educational-program-V_itz7ADg",1,"btn","btn-transparent",3,"disabled","click"],["name","chevron-left","size","20"],[1,"azt-hidden","sm:block","ml-1"],[1,"flex","items-center","mt-2","cursor-pointer",2,"font-weight","420","font-size","15px",3,"click"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"mr-2"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],[1,"flex","mt-1","ml-2",2,"font-weight","420","font-size","15px"],[1,"clickable",2,"align-items","center"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 clickable",3,"ngClass",4,"ngFor","ngForOf"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable",3,"ngClass"],["azt-track-service","add-new-educational-programs-bahN75vF_Q",1,"flex","items-center","w-full","justify-between",3,"click"],[2,"vertical-align","middle","text-align","left"],["name","square-check","size","18",3,"ngClass",4,"ngIf"],["name","square-check","size","18",3,"ngClass"],[1,"text-danger","mt-3","float-left","text-left"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 text-left relative",3,"formGroup","ngClass",4,"ngIf"],["azt-track-service","add-new-educational-programs-FanOWsky0S",1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable","text-left",3,"formGroup","click"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","text-left","relative",3,"formGroup","ngClass"],[1,"flex","items-center","justify-between","flex-wrap"],["azt-track-service","add-new-educational-programs-UqgywYmnzK",1,"clickable",3,"click"],["name","square-check","size","18",1,"text-primary","ml-2","clickable",3,"click"],[1,"block","md:ml-2","w-full"],[1,"flex","justify-between",2,"align-items","center"],[2,"width","100%","height","38px","align-items","center"],["type","text","formControlName","startTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],[3,"editableHintTmpl","enableKeyboardInput","cancelBtnTmpl","confirmBtnTmpl"],["timeStartPicker",""],[1,"text-center",2,"vertical-align","middle","align-self","center"],["type","text","formControlName","endTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],["timeEndPicker",""],["cancelBtn",""],["confirmBtn",""],["dialHint",""],["name","square-check","size","18",1,"text-primary","ml-2","clickable","hiddenIpt","md:inlineBlockIpt",3,"click"],["appearance","outline",1,"mt-2","bg-white","rounded"],["formControlName","infrastructureId",3,"value","openedChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","secondary",2,"margin-right","10px"],["mat-raised-button","","color","primary"],[1,"small"],[3,"value"],[1,"text-danger","mt-2"],[1,"text-danger","mt-1"],[1,"text-right","mt-3","mb-3"],["azt-track-service","add-new-educational-programs-R3hLoR84Ua",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(v,S){if(1&v&&(e.j41(0,"div",0)(1,"form",1),e.DNE(2,Dt,1,1,"azt-loading-effect",2),e.DNE(3,V,65,58,"ng-template",null,3,e.C5r),e.k0s()()),2&v){const G=e.sdS(4);e.R7$(1),e.Y8G("formGroup",S.form),e.R7$(1),e.Y8G("ngIf",S.statusObj.loading)("ngIfElse",G)}},dependencies:[tt.Wk,C.YU,C.Sq,C.bT,C.B3,$t.wT,Me.$z,zt.fg,qt.rl,qt.nJ,qt.yw,yt.VO,ut.m7,ut.yF,ut.HF,ut.gx,ut.Uq,Nt.gu,Nt.wn,vt.qT,vt.me,vt.BC,vt.cb,vt.j4,vt.JD,vt.v8,s.K,jt.t,B.R,bt.WGl,le.Yh,ee.F2,ee.wp],encapsulation:2})}return f})();function j(f,W){if(1&f&&(e.qex(0),e.j41(1,"p",5),e.EFF(2),e.k0s(),e.bVm()),2&f){const p=W.$implicit;e.R7$(2),e.SpI("",p.content," ")}}const Z=function(){return{"zoom-in":!0}};function q(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",6),e.bIt("click",function(){e.eBV(p);const S=e.XpG(2);return e.Njj(S.editContent())}),e.nrm(1,"lucide-icon",7),e.k0s()}2&f&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(1,Z)))}function Tt(f,W){if(1&f&&(e.j41(0,"div",2)(1,"div"),e.DNE(2,j,3,1,"ng-container",3),e.k0s(),e.DNE(3,q,2,2,"div",4),e.k0s()),2&f){const p=e.XpG();e.R7$(2),e.Y8G("ngForOf",p.contents),e.R7$(1),e.Y8G("ngIf",p.teacherRole)}}function At(f,W){if(1&f){const p=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(p);const S=e.XpG().$implicit,G=e.XpG(2);return e.Njj(G.removeContent(S))}),e.nI1(1,"mytranslate"),e.nrm(2,"lucide-icon",22),e.k0s()}if(2&f){const p=e.XpG(3);e.FS9("matTooltip",e.bMT(1,2,"lang_button_delete")),e.Y8G("disabled",p.statusObj.loading)}}function ne(f,W){1&f&&(e.j41(0,"div",23)(1,"span"),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&f&&(e.R7$(2),e.SpI("*",e.bMT(3,1,"lang_core_vui_long_nhap_noi_dung"),""))}function ue(f,W){if(1&f&&(e.j41(0,"div")(1,"div",17),e.nrm(2,"input",18),e.nI1(3,"mytranslate"),e.DNE(4,At,3,4,"button",19),e.k0s(),e.DNE(5,ne,4,3,"div",20),e.k0s()),2&f){const p=W.$implicit,v=e.XpG(2);e.R7$(2),e.FS9("placeholder",e.bMT(3,5,"lang_core_nhap_noi_dung_buoi_hoc")),e.Y8G("formControl",p.controls.content)("disabled",v.statusObj.loading),e.R7$(2),e.Y8G("ngIf",v.listFormContent.controls.length>1),e.R7$(1),e.Y8G("ngIf",p.controls.content.errors)}}function ye(f,W){1&f&&e.nrm(0,"azt-loading-ui",24),2&f&&e.Y8G("size",16)}function je(f,W){1&f&&e.nrm(0,"lucide-icon",25)}const sn=function(){return[]};function Rn(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",8),e.DNE(1,ue,6,7,"div",3),e.j41(2,"div",9)(3,"button",10),e.bIt("click",function(){e.eBV(p);const S=e.XpG();return e.Njj(S.viewContent())}),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"button",11),e.bIt("click",function(){e.eBV(p);const S=e.XpG();return e.Njj(S.addContent())}),e.nrm(7,"lucide-icon",12),e.j41(8,"span",13),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s()(),e.j41(11,"button",14),e.bIt("click",function(){e.eBV(p);const S=e.XpG();return e.Njj(S.saveContent())}),e.DNE(12,ye,1,1,"azt-loading-ui",15),e.DNE(13,je,1,0,"lucide-icon",16),e.j41(14,"span",13),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()()}if(2&f){const p=e.XpG();let v;e.R7$(1),e.Y8G("ngForOf",null!==(v=null==p.listFormContent?null:p.listFormContent.controls)&&void 0!==v?v:e.lJ4(15,sn)),e.R7$(2),e.Y8G("disabled",p.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(5,9,"lang_button_cancel")," "),e.R7$(2),e.Y8G("disabled",p.statusObj.loading||p.isEmptyContent()),e.R7$(3),e.SpI(" ",e.bMT(10,11,"lang_button_add")," "),e.R7$(2),e.Y8G("disabled",p.statusObj.loading||p.isEmptyContent()),e.R7$(1),e.Y8G("ngIf",p.statusObj.loading),e.R7$(1),e.Y8G("ngIf",!p.statusObj.loading),e.R7$(2),e.SpI(" ",e.bMT(16,13,"lang_button_save")," ")}}let Cn=(()=>{class f extends i.H{isEmptyContent(){return!!this.listFormContent.controls.find(p=>p.controls.content.errors)}editContent(){this.listFormContent=new vt.Yp(this.contents.map(p=>new vt.gE({contentId:new vt.MJ(p.id,{nonNullable:!0,validators:[vt.k0.required]}),content:new vt.MJ(p.content,{nonNullable:!0,validators:[vt.k0.required]})})))}addContent(){var p=this.listFormContent.controls.map(v=>v.getRawValue().contentId);this.listFormContent.controls.push(new vt.gE({contentId:new vt.MJ(this.commonService.getVirtualIdWithoutInList(!0,p),{nonNullable:!0,validators:[vt.k0.required]}),content:new vt.MJ("",{nonNullable:!0,validators:[vt.k0.required]})}))}removeContent(p){this.listFormContent.controls=this.listFormContent.controls.filter(v=>v!=p)}viewContent(){this.listFormContent.clear()}saveContent(){this.initStatusObj();let p={contents:this.listFormContent?.controls.map(v=>({id:v.getRawValue().contentId<0?0:v.getRawValue().contentId,content:v.getRawValue().content}))??[]};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdPut(this.classroomId,this.sessionId,p).subscribe({next:v=>{this.showSuccessSnack("lang_auto_chinh_sua_thanh_cong"),this.close.emit(!0)},error:v=>{this.errorStatusObj(v.error.message,!0)}}))}ngOnInit(){super.ngOnInit()}constructor(p){super(),this.classroomService=p,this.contents=[],this.close=new e.bkB,this.listFormContent=new vt.Yp([])}static#t=this.\u0275fac=function(v){return new(v||f)(e.rXU(t.zS))};static#e=this.\u0275cmp=e.VBU({type:f,selectors:[["app-education-program-session-content-form"]],inputs:{teacherRole:"teacherRole",contents:"contents",classroomId:"classroomId",sessionId:"sessionId"},outputs:{close:"close"},features:[e.Jv_([{provide:ut.$O,useClass:Ft.fb,deps:[$t.Ju,It.ij]},{provide:ut.vq,useFactory:Qt.In,deps:[T.F]}]),e.Vt3],decls:2,vars:2,consts:[["class","flex justify-between items-center",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"flex","justify-between","items-center"],[4,"ngFor","ngForOf"],["azt-track-service","edit-content-session-clV7wEeRi","class","mr-2 ml-1",3,"click",4,"ngIf"],[1,"text-danger","font-medium"],["azt-track-service","edit-content-session-clV7wEeRi",1,"mr-2","ml-1",3,"click"],["name","pencil-line","size","16",3,"ngClass"],[1,"mb-2"],[1,"mt-2","flex","justify-end"],["azt-track-service","edit-content-session-fb5Kcem4lN",1,"btn","btn-secondary","py-1",3,"disabled","click"],["azt-track-service","edit-content-session-LUmRlMXNo0",1,"btn","btn-info","py-1","ml-2",3,"disabled","click"],["name","plus","size","16"],[1,"ml-1"],["azt-track-service","edit-content-session-u3EiKdwIT9",1,"btn","btn-primary","ml-2","py-1",3,"disabled","click"],[3,"size",4,"ngIf"],["name","save","size","16",4,"ngIf"],[1,"flex","items-center"],["type","text",1,"form-control","mt-2","mb-2",3,"formControl","disabled","placeholder"],["class","btn btn-light ml-2 px-2",3,"matTooltip","disabled","click",4,"ngIf"],["class","text-xs font-medium text-danger ng-star-inserted",4,"ngIf"],[1,"btn","btn-light","ml-2","px-2",3,"matTooltip","disabled","click"],["name","trash-2","size","20"],[1,"text-xs","font-medium","text-danger","ng-star-inserted"],[3,"size"],["name","save","size","16"]],template:function(v,S){1&v&&(e.DNE(0,Tt,4,2,"div",0),e.DNE(1,Rn,17,16,"div",1)),2&v&&(e.Y8G("ngIf",0==S.listFormContent.controls.length),e.R7$(1),e.Y8G("ngIf",S.listFormContent.controls.length>0))},dependencies:[C.YU,C.Sq,C.bT,H.oV,vt.me,vt.BC,vt.l_,B.R,bt.WGl,ee.wp],encapsulation:2})}return f})();function pn(f,W){if(1&f&&(e.j41(0,"div",3),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f){const p=e.XpG();e.R7$(1),e.SpI(" ",e.bMT(2,1,p.errorApiMessage)," ")}}function D(f,W){if(1&f){const p=e.RV6();e.j41(0,"app-add-new-educational-program",6),e.bIt("saveEducationalProgramEmit",function(S){e.eBV(p);const G=e.XpG(2);return e.Njj(G.emitDataReloadSession(S))}),e.k0s()}if(2&f){const p=e.XpG(2);e.Y8G("classroomId",p.classroomId)("programObj",p.programObj)}}function Lt(f,W){if(1&f){const p=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(p);const S=e.XpG(3);return e.Njj(S.addNewEducationalProgram())}),e.nrm(1,"lucide-icon",14),e.j41(2,"span",15),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&f&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_educational_program_select_another")))}function R(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",18)(1,"a",19),e.bIt("auxclick",function(S){const z=e.eBV(p).$implicit,it=e.XpG(4);return e.Njj(it.previewFile(z,S))})("click",function(S){const z=e.eBV(p).$implicit,it=e.XpG(4);return e.Njj(it.previewFile(z,S))}),e.nrm(2,"azt-document-type-file",20),e.k0s()()}if(2&f){const p=W.$implicit;let v;e.R7$(2),e.Y8G("type",p.documentType)("name",null!==(v=p.name)&&void 0!==v?v:"")("url",p.link)("iconVerticalStyle","baseline")("customClass","w-6 h-6")}}function M(f,W){if(1&f&&(e.qex(0),e.j41(1,"div",16),e.DNE(2,R,3,5,"div",17),e.k0s(),e.bVm()),2&f){const p=e.XpG(3);e.R7$(2),e.Y8G("ngForOf",p.generalDocumentObjs)}}function w(f,W){1&f&&e.nrm(0,"lucide-icon",25)}function Ot(f,W){1&f&&e.nrm(0,"lucide-icon",26)}function de(f,W){1&f&&(e.j41(0,"button",35),e.nrm(1,"lucide-icon",36),e.j41(2,"span",37),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&f&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_student_absence")))}function te(f,W){1&f&&(e.j41(0,"button",38),e.nrm(1,"lucide-icon",36),e.k0s())}function J(f,W){if(1&f&&(e.j41(0,"div",32),e.DNE(1,de,5,3,"button",33),e.nI1(2,"async"),e.nI1(3,"allowFeatureBusinessForUser"),e.DNE(4,te,2,0,"button",34),e.nI1(5,"async"),e.nI1(6,"allowFeatureBusinessForUser"),e.k0s()),2&f){const p=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.bMT(2,2,e.brH(3,4,"","training_center_student_attendance",!0))),e.R7$(3),e.Y8G("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.bMT(5,8,e.brH(6,10,"","training_center_student_attendance",!0)))}}function qe(f,W){if(1&f&&(e.qex(0),e.j41(1,"span",44),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f){const p=e.XpG(2).$implicit;e.R7$(2),e.JRh(e.bMT(3,1,"lang_test_market_address")+": "+(null==p.room.infrastructure?null:p.room.infrastructure.name)+" - "+p.room.name)}}const Ne=function(f){return{"text-slate-700":f}};function Xn(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",39),e.bIt("click",function(){e.eBV(p);const S=e.XpG().$implicit,G=e.XpG(5);return e.Njj(G.expandSessionObj(S))}),e.j41(1,"div",40)(2,"h3",41)(3,"span",42),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"span",43),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,qe,4,3,"ng-container",5),e.k0s()()}if(2&f){const p=e.XpG().$implicit;e.R7$(3),e.Y8G("ngClass",e.eq3(8,Ne,p.outOfDate)),e.R7$(1),e.JRh(e.bMT(5,4,"lang_core_buoi")+" "+p.sort),e.R7$(3),e.JRh(e.bMT(8,6,"lang_config_educational_program_day_"+p.day)+", "+p.dateSession+" "+p.timeSession),e.R7$(2),e.Y8G("ngIf",p.room)}}function Un(f,W){if(1&f&&(e.qex(0),e.j41(1,"span",62),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.bVm()),2&f){const p=e.XpG(2).$implicit;e.R7$(2),e.JRh(e.bMT(3,1,"lang_test_market_address")+": "+(null==p.room.infrastructure?null:p.room.infrastructure.name)+" - "+p.room.name)}}const gn=function(f,W){return{"text-slate-600":f,"text-warning":W}};function zn(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",51)(1,"div",52)(2,"span",53),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"app-education-program-session-content-form",63),e.bIt("close",function(S){e.eBV(p);const G=e.XpG(2).$implicit,z=e.XpG(5);return e.Njj(z.reloadData(S,G))}),e.k0s()()}if(2&f){const p=e.XpG(2).$implicit,v=e.XpG(5);e.R7$(2),e.Y8G("ngClass",e.l_i(8,gn,p.outOfDate,!p.outOfDate)),e.R7$(1),e.JRh(e.bMT(4,6,"lang_auto_noi_dung")),e.R7$(2),e.Y8G("contents",p.contents)("teacherRole",v.teacherRole)("classroomId",v.classroomId)("sessionId",p.id)}}function Le(f,W){1&f&&(e.qex(0),e.j41(1,"div",75),e.nrm(2,"img",76),e.nI1(3,"convertCdnLinkOfGitHub"),e.k0s(),e.bVm()),2&f&&(e.R7$(2),e.Y8G("src",e.bMT(3,1,"images/type_file/unknown-file.svg"),e.B4B))}const ge=function(){return{"text-pending":!0}};function an(f,W){1&f&&(e.qex(0),e.nrm(1,"lucide-icon",77),e.bVm()),2&f&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(1,ge)))}const un=function(){return{"text-primary":!0}};function Pn(f,W){1&f&&(e.qex(0),e.nrm(1,"lucide-icon",78),e.bVm()),2&f&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(1,un)))}function Fn(f,W){if(1&f&&(e.j41(0,"small",79),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f){const p=e.XpG().$implicit;e.R7$(1),e.E5c(" ",e.bMT(2,3,"lang_auto_da_nop"),":\xa0",p.totalFinish,"/",p.totalAttendee," ")}}const xn=function(f,W){return{"text-success":f,"text-slate-700/50":W}};function Ye(f,W){if(1&f&&(e.j41(0,"small",80),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f){const p=e.XpG().$implicit;e.Y8G("ngClass",e.l_i(4,xn,p.totalFinish,!p.totalFinish)),e.R7$(1),e.SpI(" ",e.bMT(2,2,p.totalFinish?"lang_auto_da_nop":"lang_auto_chua_nop")," ")}}function Tn(f,W){if(1&f){const p=e.RV6();e.j41(0,"small",81),e.EFF(1),e.nI1(2,"mytranslate"),e.j41(3,"button",82),e.bIt("click",function(S){e.eBV(p);const G=e.XpG().$implicit,z=e.XpG(2).$implicit;return e.XpG(5).editMarkCoefficient(G,z),S.stopPropagation(),e.Njj(S.preventDefault())}),e.nI1(4,"mytranslate"),e.nrm(5,"lucide-icon",83),e.k0s()()}if(2&f){const p=e.XpG().$implicit;e.R7$(1),e.Lme(" ",e.bMT(2,3,"lang_student_score_factor"),":\xa0",p.markCoefficient," "),e.R7$(2),e.FS9("matTooltip",e.bMT(4,5,"lang_student_edit_mark_coefficient"))}}const tn=function(f){return[f]},Be=function(f){return{backto:f}};function y(f,W){if(1&f&&(e.j41(0,"div",64)(1,"a",65),e.nI1(2,"navigationLocalize"),e.j41(3,"div",66)(4,"div",67),e.DNE(5,Le,4,3,"ng-container",5),e.DNE(6,an,2,2,"ng-container",5),e.DNE(7,Pn,2,2,"ng-container",5),e.k0s(),e.j41(8,"div",68)(9,"div",69)(10,"span",70,71),e.EFF(12),e.k0s(),e.DNE(13,Fn,3,5,"small",72),e.DNE(14,Ye,3,7,"small",73),e.DNE(15,Tn,6,7,"small",74),e.k0s()()()()()),2&f){const p=W.$implicit,v=e.sdS(11),S=e.XpG(7);let G;e.R7$(1),e.Y8G("routerLink",e.eq3(14,tn,e.bMT(2,12,p.documentType==S.allDocumentTypes.exam?S.teacherRole?"/admin/testbank/exam-results-list/"+(null!==(G=p.categoryId)&&void 0!==G?G:0)+"/"+p.refId+"/0":"/de-thi/"+p.hashId:S.teacherRole?"/admin/testbank/homework-results-list/"+(null!==(G=p.classroomId)&&void 0!==G?G:0)+"/"+p.refId+"/"+p.hashId:"/bai-tap/"+p.hashId)))("queryParams",e.eq3(16,Be,S.currentUrl)),e.R7$(4),e.Y8G("ngIf",!p.type),e.R7$(1),e.Y8G("ngIf","exam"==p.type),e.R7$(1),e.Y8G("ngIf","homework"==p.type),e.R7$(3),e.FS9("matTooltip",p.name),e.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",v.isDisabled),e.R7$(2),e.SpI(" ",p.name," "),e.R7$(1),e.Y8G("ngIf",S.teacherRole),e.R7$(1),e.Y8G("ngIf",!S.teacherRole),e.R7$(1),e.Y8G("ngIf",S.teacherRole)}}const ft=function(f,W,p,v,S,G){return{backto:f,classroomId:W,programId:p,sessionId:v,levelId:S,subjectId:G}},b=function(f,W){return{"text-slate-600":f,"btn-text-primary":W}};function $(f,W){if(1&f&&(e.j41(0,"a",84),e.nI1(1,"navigationLocalize"),e.j41(2,"span",85),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()),2&f){const p=e.XpG(2).$implicit,v=e.XpG(5);let S;e.Y8G("routerLink",e.eq3(8,tn,e.bMT(1,4,"/admin/testbank/create-new-document/0")))("queryParams",e.l4e(10,ft,v.currentUrl,v.classroomId,p.programId,p.id,null!==(S=null==v.programObj?null:v.programObj.schoolLevelId)&&void 0!==S?S:0,null!==(S=null==v.programObj?null:v.programObj.schoolSubjectId)&&void 0!==S?S:0))("ngClass",e.l_i(17,b,p.outOfDate,!p.outOfDate)),e.R7$(3),e.SpI("+ ",e.bMT(4,6,"lang_business_assign_exams"),"")}}function A(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",101)(1,"a",102),e.bIt("click",function(S){e.eBV(p);const G=e.XpG(2).$implicit,z=e.XpG(3).$implicit,it=e.XpG(4).$implicit;let Xt;return e.XpG(5).removeDocumentFromSession(it,null!==(Xt=G.sessionId)&&void 0!==Xt?Xt:0,G.id,z),S.preventDefault(),e.Njj(S.stopPropagation())}),e.nrm(2,"lucide-icon",103),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Et(f,W){if(1&f){const p=e.RV6();e.j41(0,"li")(1,"a",98),e.bIt("auxclick",function(S){e.eBV(p);const G=e.XpG().$implicit,z=e.XpG(12);return e.Njj(z.previewFile(G,S))})("click",function(S){e.eBV(p);const G=e.XpG().$implicit,z=e.XpG(12);return e.Njj(z.previewFile(G,S))}),e.nrm(2,"azt-document-type-file",99),e.DNE(3,A,4,3,"div",100),e.k0s()()}if(2&f){const p=e.XpG().$implicit,v=e.XpG(12);let S;e.R7$(2),e.Y8G("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(S=p.name)&&void 0!==S?S:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",v.teacherRole)}}function ie(f,W){if(1&f&&(e.qex(0),e.DNE(1,Et,4,10,"li",5),e.bVm()),2&f){const p=e.XpG(3).$implicit,v=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==v.allDocumentGroupTypes.video)}}const Je=function(f){return{width:f}},Ve=function(f){return{"dropdown-menu-scroll":f}};function Wn(f,W){if(1&f&&(e.qex(0),e.j41(1,"h3",92),e.nrm(2,"lucide-icon",93),e.j41(3,"span",15),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",94,95)(8,"div",96)(9,"ul",97),e.DNE(10,ie,2,1,"ng-container",12),e.k0s()()(),e.bVm()),2&f){const p=e.sdS(7),v=e.XpG(2).$implicit,S=e.XpG(4).last,G=e.XpG(2).last;e.XpG();const z=e.sdS(2),it=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",v.documentObjs.length?p:null),e.R7$(3),e.Lme(" ",e.bMT(5,6,"lang_config_educational_program_"+v.name),""," ("+v.documentObjs.length+")"," "),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,Je,it.isMobileWebView?z.offsetWidth-40+"px":"27rem")),e.R7$(1),e.Y8G("ngClass",e.eq3(10,Ve,G&&S||v.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",v.documentObjs)}}function Qn(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",101)(1,"a",106),e.bIt("click",function(S){e.eBV(p);const G=e.XpG(2).$implicit,z=e.XpG(3).$implicit,it=e.XpG(4).$implicit;let Xt;return e.XpG(5).removeDocumentFromSession(it,null!==(Xt=G.sessionId)&&void 0!==Xt?Xt:0,G.id,z),S.preventDefault(),e.Njj(S.stopPropagation())}),e.nrm(2,"lucide-icon",103),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function pi(f,W){if(1&f){const p=e.RV6();e.j41(0,"li")(1,"a",105),e.bIt("auxclick",function(S){e.eBV(p);const G=e.XpG().$implicit,z=e.XpG(12);return e.Njj(z.previewFile(G,S))})("click",function(S){e.eBV(p);const G=e.XpG().$implicit,z=e.XpG(12);return e.Njj(z.previewFile(G,S))}),e.nrm(2,"azt-document-type-file",99),e.DNE(3,Qn,4,3,"div",100),e.k0s()()}if(2&f){const p=e.XpG().$implicit,v=e.XpG(12);let S;e.R7$(2),e.Y8G("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(S=p.name)&&void 0!==S?S:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",v.teacherRole)}}function In(f,W){if(1&f&&(e.qex(0),e.DNE(1,pi,4,10,"li",5),e.bVm()),2&f){const p=e.XpG(3).$implicit,v=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==v.allDocumentGroupTypes.document)}}function gi(f,W){if(1&f&&(e.qex(0),e.j41(1,"h3",92),e.nrm(2,"lucide-icon",93),e.j41(3,"span",15),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",94,104)(8,"div",96)(9,"ul",97),e.DNE(10,In,2,1,"ng-container",12),e.k0s()()(),e.bVm()),2&f){const p=e.sdS(7),v=e.XpG(2).$implicit,S=e.XpG(4).last,G=e.XpG(2).last;e.XpG();const z=e.sdS(2),it=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",v.documentObjs.length?p:null),e.R7$(3),e.Lme(" ",e.bMT(5,6,"lang_config_educational_program_"+v.name),""," ("+v.documentObjs.length+")"," "),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,Je,it.isMobileWebView?z.offsetWidth-40+"px":"27rem")),e.R7$(1),e.Y8G("ngClass",e.eq3(10,Ve,G&&S||v.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",v.documentObjs)}}function hi(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",101)(1,"a",109),e.bIt("click",function(S){e.eBV(p);const G=e.XpG(2).$implicit,z=e.XpG(3).$implicit,it=e.XpG(4).$implicit;let Xt;return e.XpG(5).removeDocumentFromSession(it,null!==(Xt=G.sessionId)&&void 0!==Xt?Xt:0,G.id,z),S.preventDefault(),e.Njj(S.stopPropagation())}),e.nrm(2,"lucide-icon",103),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Ie(f,W){if(1&f){const p=e.RV6();e.j41(0,"li")(1,"a",108),e.bIt("auxclick",function(S){e.eBV(p);const G=e.XpG().$implicit,z=e.XpG(12);return e.Njj(z.previewFile(G,S))})("click",function(S){e.eBV(p);const G=e.XpG().$implicit,z=e.XpG(12);return e.Njj(z.previewFile(G,S))}),e.nrm(2,"azt-document-type-file",99),e.DNE(3,hi,4,3,"div",100),e.k0s()()}if(2&f){const p=e.XpG().$implicit,v=e.XpG(12);let S;e.R7$(2),e.Y8G("truncateString",!1)("textWidth","99%")("type",p.documentType)("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(S=p.name)&&void 0!==S?S:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",v.teacherRole)}}function Sn(f,W){if(1&f&&(e.qex(0),e.DNE(1,Ie,4,10,"li",5),e.bVm()),2&f){const p=e.XpG(3).$implicit,v=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==v.allDocumentGroupTypes.homework)}}function Dn(f,W){if(1&f&&(e.qex(0),e.j41(1,"h3",92),e.nrm(2,"lucide-icon",93),e.j41(3,"span",15),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",94,107)(8,"div",96)(9,"ul",97),e.DNE(10,Sn,2,1,"ng-container",12),e.k0s()()(),e.bVm()),2&f){const p=e.sdS(7),v=e.XpG(2).$implicit,S=e.XpG(4).last,G=e.XpG(2).last;e.XpG();const z=e.sdS(2),it=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",v.documentObjs.length?p:null),e.R7$(3),e.Lme(" ",e.bMT(5,6,"lang_config_educational_program_"+v.name),""," ("+v.documentObjs.length+")"," "),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,Je,it.isMobileWebView?z.offsetWidth-40+"px":"27rem")),e.R7$(1),e.Y8G("ngClass",e.eq3(10,Ve,G&&S||v.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",v.documentObjs)}}function Mn(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",101)(1,"a",113),e.bIt("click",function(S){e.eBV(p);const G=e.XpG(2).$implicit,z=e.XpG(3).$implicit,it=e.XpG(4).$implicit;let Xt;return e.XpG(5).removeDocumentFromSession(it,null!==(Xt=G.sessionId)&&void 0!==Xt?Xt:0,G.id,z),S.preventDefault(),e.Njj(S.stopPropagation())}),e.nrm(2,"lucide-icon",103),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function fi(f,W){if(1&f){const p=e.RV6();e.j41(0,"li")(1,"a",111),e.bIt("auxclick",function(S){e.eBV(p);const G=e.XpG().$implicit,z=e.XpG(12);return e.Njj(z.previewFile(G,S))})("click",function(S){e.eBV(p);const G=e.XpG().$implicit,z=e.XpG(12);return e.Njj(z.previewFile(G,S))}),e.nrm(2,"azt-document-type-file",112),e.DNE(3,Mn,4,3,"div",100),e.k0s()()}if(2&f){const p=e.XpG().$implicit,v=e.XpG(12);let S;e.R7$(2),e.Y8G("truncateString",!1)("type",p.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(S=p.name)&&void 0!==S?S:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",v.teacherRole)}}function bi(f,W){if(1&f&&(e.qex(0),e.DNE(1,fi,4,10,"li",5),e.bVm()),2&f){const p=e.XpG(3).$implicit,v=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==v.allDocumentGroupTypes.homework_view)}}function vi(f,W){if(1&f&&(e.qex(0),e.j41(1,"h3",92),e.nrm(2,"lucide-icon",93),e.j41(3,"span",15),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",94,110)(8,"div",96)(9,"ul",97),e.DNE(10,bi,2,1,"ng-container",12),e.k0s()()(),e.bVm()),2&f){const p=e.sdS(7),v=e.XpG(2).$implicit,S=e.XpG(4).last,G=e.XpG(2).last;e.XpG();const z=e.sdS(2),it=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",v.documentObjs.length?p:null),e.R7$(3),e.Lme(" ",e.bMT(5,6,"lang_config_educational_program_"+v.name),""," ("+v.documentObjs.length+")"," "),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,Je,it.isMobileWebView?z.offsetWidth-40+"px":"27rem")),e.R7$(1),e.Y8G("ngClass",e.eq3(10,Ve,G&&S||v.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",v.documentObjs)}}function Zn(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",101)(1,"a",116),e.bIt("click",function(S){e.eBV(p);const G=e.XpG(2).$implicit,z=e.XpG(3).$implicit,it=e.XpG(4).$implicit;let Xt;return e.XpG(5).removeDocumentFromSession(it,null!==(Xt=G.sessionId)&&void 0!==Xt?Xt:0,G.id,z),S.preventDefault(),e.Njj(S.stopPropagation())}),e.nrm(2,"lucide-icon",103),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function ki(f,W){if(1&f){const p=e.RV6();e.j41(0,"li")(1,"a",115),e.bIt("auxclick",function(S){e.eBV(p);const G=e.XpG().$implicit,z=e.XpG(12);return e.Njj(z.previewFile(G,S))})("click",function(S){e.eBV(p);const G=e.XpG().$implicit,z=e.XpG(12);return e.Njj(z.previewFile(G,S))}),e.nrm(2,"azt-document-type-file",112),e.DNE(3,Zn,4,3,"div",100),e.k0s()()}if(2&f){const p=e.XpG().$implicit,v=e.XpG(12);let S;e.R7$(2),e.Y8G("truncateString",!1)("type",p.documentType)("textWidth","99%")("showBorder",!1)("onlyOneLine",!0)("iconVerticalStyle","baseline")("name",null!==(S=p.name)&&void 0!==S?S:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",v.teacherRole)}}function qn(f,W){if(1&f&&(e.qex(0),e.DNE(1,ki,4,10,"li",5),e.bVm()),2&f){const p=e.XpG(3).$implicit,v=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==v.allDocumentGroupTypes.unknown)}}function zi(f,W){if(1&f&&(e.qex(0),e.j41(1,"h3",92),e.nrm(2,"lucide-icon",93),e.j41(3,"span",15),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"mat-menu",94,114)(8,"div",96)(9,"ul",97),e.DNE(10,qn,2,1,"ng-container",12),e.k0s()()(),e.bVm()),2&f){const p=e.sdS(7),v=e.XpG(2).$implicit,S=e.XpG(4).last,G=e.XpG(2).last;e.XpG();const z=e.sdS(2),it=e.XpG(2);e.R7$(1),e.Y8G("matMenuTriggerFor",p),e.R7$(3),e.Lme(" ",e.bMT(5,6,"lang_config_educational_program_"+v.name),""," ("+v.documentObjs.length+")"," "),e.R7$(4),e.Y8G("ngStyle",e.eq3(8,Je,it.isMobileWebView?z.offsetWidth-40+"px":"18rem")),e.R7$(1),e.Y8G("ngClass",e.eq3(10,Ve,G&&S||v.documentObjs.length>5)),e.R7$(1),e.Y8G("ngForOf",v.documentObjs)}}function Pi(f,W){if(1&f&&(e.j41(0,"div",91),e.DNE(1,Wn,11,12,"ng-container",5),e.DNE(2,gi,11,12,"ng-container",5),e.DNE(3,Dn,11,12,"ng-container",5),e.DNE(4,vi,11,12,"ng-container",5),e.DNE(5,zi,11,12,"ng-container",5),e.k0s()),2&f){const p=e.XpG().$implicit,v=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name==v.allDocumentGroupTypes.video),e.R7$(1),e.Y8G("ngIf",p.name==v.allDocumentGroupTypes.document),e.R7$(1),e.Y8G("ngIf",p.name==v.allDocumentGroupTypes.homework),e.R7$(1),e.Y8G("ngIf",p.name==v.allDocumentGroupTypes.homework_view),e.R7$(1),e.Y8G("ngIf",p.name==v.allDocumentGroupTypes.unknown&&p.documentObjs.length)}}function Ci(f,W){if(1&f&&(e.qex(0),e.DNE(1,Pi,6,5,"div",90),e.bVm()),2&f){const p=W.$implicit,v=e.XpG(9);e.R7$(1),e.Y8G("ngIf",p.name!=v.allDocumentGroupTypes.unknown||p.name==v.allDocumentGroupTypes.unknown&&p.documentObjs.length)}}function Ai(f,W){if(1&f&&(e.qex(0),e.DNE(1,Ci,2,1,"ng-container",12),e.bVm()),2&f){const p=e.XpG(3).$implicit;e.R7$(1),e.Y8G("ngForOf",p.groupDocumentObjs)}}function yn(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",101)(1,"a",121),e.bIt("click",function(){e.eBV(p);const S=e.XpG().$implicit,G=e.XpG(4).$implicit,z=e.XpG(5);let it;return e.Njj(z.removeDocumentFromSession(G,null!==(it=S.sessionId)&&void 0!==it?it:0,S.id))}),e.nrm(2,"lucide-icon",103),e.nI1(3,"mytranslate"),e.k0s()()}2&f&&(e.R7$(2),e.Y8G("matTooltip",e.bMT(3,1,"lang_educational_program_remove_document_from_session")))}function Gn(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",118)(1,"a",119),e.bIt("auxclick",function(S){const z=e.eBV(p).$implicit,it=e.XpG(9);return e.Njj(it.previewFile(z,S))})("click",function(S){const z=e.eBV(p).$implicit,it=e.XpG(9);return e.Njj(it.previewFile(z,S))}),e.nrm(2,"azt-document-type-file",120),e.k0s(),e.DNE(3,yn,4,3,"div",100),e.k0s()}if(2&f){const p=W.$implicit,v=e.XpG(9);let S;e.R7$(2),e.Y8G("type",p.documentType)("name",null!==(S=p.name)&&void 0!==S?S:"")("url",p.link)("customClass","w-6 h-6"),e.R7$(1),e.Y8G("ngIf",v.teacherRole)}}function An(f,W){if(1&f&&e.DNE(0,Gn,4,5,"div",117),2&f){const p=e.XpG(3).$implicit;e.Y8G("ngForOf",p.normalDocumentObjs)}}function Ln(f,W){if(1&f){const p=e.RV6();e.j41(0,"app-upload-document-for-session",122),e.bIt("emitFileDocument",function(S){e.eBV(p);const G=e.XpG(3).$implicit,z=e.XpG(5);return e.Njj(z.uploadFileEmitted(S,G))}),e.j41(1,"span",85),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()}if(2&f){const p=e.XpG(3).$implicit;e.Y8G("isBtn",!0)("customClass",p.outOfDate?"text-slate-600":"text-primary"),e.R7$(2),e.JRh(e.bMT(3,3,"lang_educational_program_add_document"))}}function Li(f,W){if(1&f&&(e.j41(0,"div",55),e.DNE(1,Ai,2,1,"ng-container",86),e.DNE(2,An,1,1,"ng-template",null,87,e.C5r),e.j41(4,"div",88),e.DNE(5,Ln,4,5,"app-upload-document-for-session",89),e.k0s()()),2&f){const p=e.sdS(3),v=e.XpG(2).$implicit,S=e.XpG(5);e.R7$(1),e.Y8G("ngIf",v.groupDocumentObjs.length)("ngIfElse",p),e.R7$(4),e.Y8G("ngIf",S.teacherRole)}}function Yi(f,W){1&f&&(e.j41(0,"div",123)(1,"div",124)(2,"span",125),e.nrm(3,"azt-loading-ui",126),e.k0s()()()),2&f&&(e.R7$(3),e.Y8G("type","oval"))}function Bi(f,W){if(1&f&&(e.j41(0,"a",134),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",135),e.j41(3,"span",133),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&f){const p=e.XpG(3).$implicit,v=e.XpG(5);e.Y8G("routerLink",e.eq3(8,tn,e.bMT(1,4,"/admin/student/attendance-student/"+v.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.eq3(10,Be,"/admin/student/classroom-details/"+v.classroomId+"/3?sessionId="+p.id+"&backto="+v.backLink)),e.R7$(4),e.Lme("",e.bMT(5,6,"lang_student_attendance_student"),""," ("+p.totalJoinedStudent+"/"+p.totalStudent+")","")}}function Vi(f,W){if(1&f&&(e.j41(0,"a",136),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",137),e.j41(3,"span",133),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&f){const p=e.XpG(3).$implicit,v=e.XpG(5);e.Y8G("routerLink",e.eq3(7,tn,e.bMT(1,3,"/admin/student/distribute-document/"+v.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.eq3(9,Be,"/admin/student/classroom-details/"+v.classroomId+"/3?sessionId="+p.id+"&backto="+v.backLink)),e.R7$(4),e.JRh(e.bMT(5,5,"lang_student_distribute_books"))}}function ti(f,W){if(1&f&&(e.j41(0,"a",138),e.nI1(1,"navigationLocalize"),e.nrm(2,"lucide-icon",139),e.j41(3,"span",133),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()()),2&f){const p=e.XpG(3).$implicit,v=e.XpG(5);e.Y8G("routerLink",e.eq3(7,tn,e.bMT(1,3,"/admin/student/submit-score/"+v.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.eq3(9,Be,"/admin/student/classroom-details/"+v.classroomId+"/3?sessionId="+p.id+"&backto="+v.backLink)),e.R7$(4),e.JRh(e.bMT(5,5,"lang_student_enter_score"))}}function Xi(f,W){if(1&f&&(e.j41(0,"div",58)(1,"div",52)(2,"span",53),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",127),e.DNE(6,Bi,6,12,"a",128),e.nI1(7,"async"),e.nI1(8,"allowFeatureBusinessForUser"),e.DNE(9,Vi,6,11,"a",129),e.nI1(10,"async"),e.nI1(11,"allowFeatureBusinessForUser"),e.DNE(12,ti,6,11,"a",130),e.nI1(13,"async"),e.nI1(14,"allowFeatureBusinessForUser"),e.j41(15,"a",131),e.nI1(16,"navigationLocalize"),e.nrm(17,"lucide-icon",132),e.j41(18,"span",133),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s()()()()),2&f){const p=e.XpG(2).$implicit,v=e.XpG(5);e.R7$(2),e.Y8G("ngClass",e.l_i(32,gn,p.outOfDate,!p.outOfDate)),e.R7$(1),e.SpI(" ",e.bMT(4,8,"lang_auto_hanh_dong")," "),e.R7$(3),e.Y8G("ngIf",e.bMT(7,10,e.brH(8,12,"","training_center_student_attendance",!1))),e.R7$(3),e.Y8G("ngIf",e.bMT(10,16,e.brH(11,18,"","training_center_student_book",!1))),e.R7$(3),e.Y8G("ngIf",e.bMT(13,22,e.brH(14,24,"","training_center_student_mark",!1))),e.R7$(3),e.Y8G("routerLink",e.eq3(35,tn,e.bMT(16,28,"/admin/student/add-comment/"+v.classroomId+"/"+p.programId+"/"+p.id)))("queryParams",e.eq3(37,Be,"/admin/student/classroom-details/"+v.classroomId+"/3?sessionId="+p.id+"&backto="+v.backLink)),e.R7$(4),e.JRh(e.bMT(20,30,"lang_auto_nhap_nhan_xet"))}}function Ui(f,W){if(1&f&&(e.j41(0,"div",58)(1,"div",52)(2,"span",53),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",127)(6,"div",140)(7,"span"),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"span",141),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s()()()()),2&f){const p=e.XpG(2).$implicit;e.R7$(2),e.Y8G("ngClass",e.l_i(10,gn,p.outOfDate,!p.outOfDate)),e.R7$(1),e.SpI(" ",e.bMT(4,4,"lang_auto_hanh_dong")," "),e.R7$(5),e.JRh(e.bMT(9,6,"lang_business_requested_leave_with_a_reason")),e.R7$(3),e.JRh(null!=p.studentAttendance&&p.studentAttendance.reason?null==p.studentAttendance?null:p.studentAttendance.reason:e.bMT(12,8,"lang_student_absence_no_reason"))}}function Wi(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",45)(1,"div",46),e.bIt("click",function(){e.eBV(p);const S=e.XpG().$implicit,G=e.XpG(5);return e.Njj(G.expandSessionObj(S))}),e.j41(2,"h3",47)(3,"span",48),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s(),e.j41(6,"span",49),e.EFF(7),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,Un,4,3,"ng-container",5),e.k0s(),e.DNE(10,zn,6,11,"div",50),e.j41(11,"div",51)(12,"div",52)(13,"span",53),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s()(),e.j41(16,"div",54)(17,"div",55),e.DNE(18,y,16,18,"div",56),e.DNE(19,$,5,20,"a",57),e.k0s()()(),e.j41(20,"div",58)(21,"div",52)(22,"span",53),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()(),e.j41(25,"div",54),e.DNE(26,Li,6,3,"div",59),e.DNE(27,Yi,4,1,"div",60),e.k0s()(),e.DNE(28,Xi,21,39,"div",61),e.nI1(29,"async"),e.nI1(30,"allowFeatureBusinessForUser"),e.nI1(31,"async"),e.nI1(32,"allowFeatureBusinessForUser"),e.nI1(33,"async"),e.nI1(34,"allowFeatureBusinessForUser"),e.DNE(35,Ui,13,13,"div",61),e.nI1(36,"async"),e.nI1(37,"allowFeatureBusinessForUser"),e.k0s()}if(2&f){const p=e.XpG().$implicit,v=e.XpG(5);e.BMQ("id","session-"+p.id),e.R7$(3),e.Y8G("ngClass",e.eq3(48,Ne,p.outOfDate)),e.R7$(1),e.JRh(e.bMT(5,16,"lang_core_buoi")+" "+p.sort),e.R7$(3),e.JRh(e.bMT(8,18,"lang_config_educational_program_day_"+p.day)+", "+p.dateSession+" "+p.timeSession),e.R7$(2),e.Y8G("ngIf",p.room),e.R7$(1),e.Y8G("ngIf",p.contents&&p.contents.length),e.R7$(3),e.Y8G("ngClass",e.l_i(50,gn,p.outOfDate,!p.outOfDate)),e.R7$(1),e.JRh(e.bMT(15,20,"lang_cms_auto_gen_test_exam_title")),e.R7$(4),e.Y8G("ngForOf",p.examHomeworkObjs),e.R7$(1),e.Y8G("ngIf",v.teacherRole),e.R7$(3),e.Y8G("ngClass",e.l_i(53,gn,p.outOfDate,!p.outOfDate)),e.R7$(1),e.JRh(e.bMT(24,22,"lang_testbank_document_list_header_title")),e.R7$(3),e.Y8G("ngIf",!p.isDeletingDocument&&!p.isUploadingDocument),e.R7$(1),e.Y8G("ngIf",p.isDeletingDocument||p.isUploadingDocument),e.R7$(1),e.Y8G("ngIf",(e.bMT(29,24,e.brH(30,26,"","training_center_student_attendance",!1))||e.bMT(31,30,e.brH(32,32,"","training_center_student_book",!1))||e.bMT(33,36,e.brH(34,38,"","training_center_student_mark",!1)))&&v.teacherRole),e.R7$(7),e.Y8G("ngIf",(null==p.studentAttendance?null:p.studentAttendance.absent)&&e.bMT(36,42,e.brH(37,44,"","training_center_student_attendance",!0))&&!v.teacherRole)}}function Ji(f,W){if(1&f&&(e.j41(0,"div",28),e.DNE(1,J,7,14,"div",29),e.DNE(2,Xn,10,10,"div",30),e.DNE(3,Wi,38,56,"div",31),e.k0s()),2&f){const p=W.$implicit,v=e.XpG(5);e.R7$(1),e.Y8G("ngIf",!v.teacherRole),e.R7$(1),e.Y8G("ngIf",!p.isExpanded),e.R7$(1),e.Y8G("ngIf",p.isExpanded)}}function Hi(f,W){if(1&f&&(e.qex(0),e.DNE(1,Ji,4,3,"div",27),e.bVm()),2&f){const p=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",p.programObjs)}}function xi(f,W){if(1&f){const p=e.RV6();e.qex(0),e.j41(1,"h3",21)(2,"span",22),e.bIt("click",function(){const G=e.eBV(p).$implicit;return e.Njj(G.expand=!G.expand)}),e.EFF(3),e.nI1(4,"mytranslate"),e.DNE(5,w,1,0,"lucide-icon",23),e.DNE(6,Ot,1,0,"lucide-icon",24),e.k0s()(),e.DNE(7,Hi,2,1,"ng-container",5),e.bVm()}if(2&f){const p=W.$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,4,p.monthName)," "),e.R7$(2),e.Y8G("ngIf",p.expand),e.R7$(1),e.Y8G("ngIf",!p.expand),e.R7$(1),e.Y8G("ngIf",p.expand)}}function Ki(f,W){if(1&f&&(e.qex(0),e.j41(1,"div",7,8)(3,"div",9)(4,"h3",10),e.EFF(5),e.nI1(6,"mytranslate"),e.k0s(),e.DNE(7,Lt,5,3,"button",11),e.k0s(),e.DNE(8,M,3,1,"ng-container",5),e.k0s(),e.qex(9),e.DNE(10,xi,8,6,"ng-container",12),e.bVm()()),2&f){const p=e.XpG(2);e.R7$(5),e.SpI(" ",e.bMT(6,4,"lang_educational_program_general_documents")," "),e.R7$(2),e.Y8G("ngIf",p.teacherRole),e.R7$(1),e.Y8G("ngIf",p.generalDocumentObjs.length),e.R7$(2),e.Y8G("ngForOf",p.groupProgramSessionObjs)}}function Ti(f,W){1&f&&(e.j41(0,"h3",148),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_config_educational_program_add_new_description")," "))}const Ii=function(){return{"mr-2":!0}};function Qi(f,W){if(1&f){const p=e.RV6();e.j41(0,"button",149),e.bIt("click",function(){e.eBV(p);const S=e.XpG(4);return e.Njj(S.addNewEducationalProgram())}),e.nrm(1,"lucide-icon",150),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&f&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,Ii)),e.R7$(2),e.JRh(e.bMT(4,2,"lang_config_educational_program_select_new")))}function Zi(f,W){if(1&f&&(e.j41(0,"div",144)(1,"h3",145),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,Ti,3,3,"h3",146),e.DNE(5,Qi,5,5,"button",147),e.k0s()),2&f){const p=e.XpG(3);e.R7$(2),e.SpI(" ",e.bMT(3,3,"lang_config_educational_program_no_have_yet")," "),e.R7$(2),e.Y8G("ngIf",p.teacherRole),e.R7$(1),e.Y8G("ngIf",p.teacherRole)}}function Si(f,W){1&f&&(e.j41(0,"h3",148),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&f&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_config_educational_program_add_new_session_desc")," "))}function qi(f,W){if(1&f){const p=e.RV6();e.j41(0,"button",152),e.bIt("click",function(){e.eBV(p);const S=e.XpG(4);return e.Njj(S.editEducationalProgram())}),e.nrm(1,"lucide-icon",153),e.j41(2,"span"),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()()}2&f&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,Ii)),e.R7$(2),e.JRh(e.bMT(4,2,"lang_config_educational_program_edit_btn")))}function to(f,W){if(1&f&&(e.j41(0,"div",144)(1,"h3",145),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.DNE(4,Si,3,3,"h3",146),e.DNE(5,qi,5,5,"button",151),e.k0s()),2&f){const p=e.XpG(3);e.R7$(2),e.SpI(" ",e.bMT(3,3,"lang_config_educational_program_no_have_session_yet")," "),e.R7$(2),e.Y8G("ngIf",p.teacherRole),e.R7$(1),e.Y8G("ngIf",p.teacherRole)}}function eo(f,W){if(1&f&&(e.qex(0),e.DNE(1,Zi,6,5,"div",142),e.DNE(2,to,6,5,"ng-template",null,143,e.C5r),e.bVm()),2&f){const p=e.sdS(3),v=e.XpG(2);e.R7$(1),e.Y8G("ngIf",!v.programObj)("ngIfElse",p)}}function Jn(f,W){if(1&f&&(e.DNE(0,D,1,2,"app-add-new-educational-program",4),e.DNE(1,Ki,11,6,"ng-container",5),e.DNE(2,eo,4,2,"ng-container",5)),2&f){const p=e.XpG();e.Y8G("ngIf",p.showAddNewEducationalProgram),e.R7$(1),e.Y8G("ngIf",!p.showAddNewEducationalProgram&&p.programSessionObjs.length),e.R7$(1),e.Y8G("ngIf",!p.showAddNewEducationalProgram&&p.programSessionObjs.length<=0)}}let no=(()=>{class f extends i.H{emitDataReloadSession(p){p?(this.initStatusObj(),this.programObj=void 0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter.emit()):this.showAddNewEducationalProgram=!1}editMarkCoefficient(p,v){this.sAztDialogService.open(xt._,{data:{id:p.markId??0,name:"",coefficient:p.markCoefficient,programId:v.programId,classroomId:this.classroomId,sessionId:v.id,isOnlyCoefficient:!0,documentName:p.name,documentType:p.type},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(G=>{G&&this.reloadSessionDataOfProgram(v)})}reloadData(p,v){p&&this.reloadSessionDataOfProgram(v)}reloadSessionDataOfProgram(p){p.isLoadingData=!0,this.reloadSessionDataEmitter.emit(p)}addNewEducationalProgram(){this.showAddNewEducationalProgram=!this.showAddNewEducationalProgram}editEducationalProgram(){let p=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/business/edit-educational-program/"+this.programObj?.id,"?backTo="+p)}removeDocumentFromSession(p,v,S,G){var z=(p.normalDocumentObjs.filter(Mt=>Mt.id==S)[0].name??"")+" - "+this.commonService.myTranslateInstant("lang_core_buoi")+" "+p.sort.toString(),it=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+z+" </div> ?";this.sAztDialogService.open(wt.u,{data:{content:it},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(Mt=>{Mt&&(p.isDeletingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsDocumentIdDelete(this.classroomId,v,S).subscribe({next:Xt=>{G&&(G.documentObjs=G.documentObjs.filter(Ut=>Ut.id!=S)),p.normalDocumentObjs=p.normalDocumentObjs.filter(Ut=>Ut.id!=S),this.showSuccessSnack("lang_config_educational_program_remove_document_link_successfully"),p.isDeletingDocument=!1},error:Xt=>{p.isDeletingDocument=!1,this.errorStatusObj(Xt.error.message,!0)}})))})}uploadFileEmitted(p,v){v.isUploadingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsPost(this.classroomId,v.id,p).subscribe({next:S=>{this.reloadSessionDataOfProgram(v),v.isUploadingDocument=!1,this.showSuccessSnack("lang_config_educational_program_add_document_link_successfully")},error:S=>{v.isUploadingDocument=!1,this.errorStatusObj(S.error.message,!0)}}))}expandSessionObj(p){p.isExpanded=!p.isExpanded,this.changeSessionDataEmitter.emit(p)}previewFile(p,v){if(this.isBusinessDomain&&p.type==a.d.video&&(0,Ct.xy)(p.link??""))window.open(p.link,"_blank");else{const S={name:p.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(p.type),type:p.type,url:p.link};this.sAztDialogService.open(rt.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...S,index:0},showDownloadIcon:!1},restoreFocus:!1})}}ngAfterViewInit(){let p=this.programSessionObjs.find(v=>v.isExpanded);if(p){let v=document.getElementById("session-"+p.id);window.scrollTo({top:v?.offsetTop})}}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit(),this.backLink||(this.backLink="/admin/student/manage-classroom/0")}constructor(p,v,S,G){super(),this.sAztDialogService=p,this.cd=v,this.classroomService=S,this.sAztFileTypeService=G,this.backLink="",this.errorApiMessage="",this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.reloadSessionDataEmitter=new e.bkB,this.changeSessionDataEmitter=new e.bkB,this.allDocumentTypes=a.d,this.allDocumentGroupTypes=Rt.k,this.showAddNewEducationalProgram=!1,this.currentUrl=this.commonService.getCurrentUrlWithoutLocale()}static#t=this.\u0275fac=function(v){return new(v||f)(e.rXU(K.i),e.rXU(e.gRc),e.rXU(t.zS),e.rXU(dt.k))};static#e=this.\u0275cmp=e.VBU({type:f,selectors:[["app-list-sessions"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",errorApiMessage:"errorApiMessage",generalDocumentObjs:"generalDocumentObjs",programSessionObjs:"programSessionObjs",groupProgramSessionObjs:"groupProgramSessionObjs",programObj:"programObj"},outputs:{reloadSessionDataEmitter:"reloadSessionDataEmitter",changeSessionDataEmitter:"changeSessionDataEmitter"},features:[e.Vt3],decls:4,vars:2,consts:[[1,"container","educational-program-width"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf","ngIfElse"],["noApiError",""],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[3,"classroomId","programObj","saveEducationalProgramEmit",4,"ngIf"],[4,"ngIf"],[3,"classroomId","programObj","saveEducationalProgramEmit"],[1,"box","p-3","mb-3"],["generalDocumentsWidget",""],[1,"flex",2,"justify-content","space-between","align-items","center"],[1,"font-medium","text-md"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4","class","btn btn-primary text-white",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["azt-track-service","list-educational-program-sessions-7fw0c5bF4",1,"btn","btn-primary","text-white",3,"click"],["name","refresh-cw","size","16"],[1,"ml-2"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],["azt-track-service","list-educational-program-sessions-tZA6KoGtc",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","iconVerticalStyle","customClass"],[1,"flex","mt-5",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","relative mt-2",4,"ngFor","ngForOf"],[1,"relative","mt-2"],["class","absolute","style","right: 5px; top: 5px; z-index: 99",4,"ngIf"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9","class","box p-3 mb-3 cursor-pointer clickable expanded-box",3,"click",4,"ngIf"],["class","box p-3 mb-3","style","user-select: none",4,"ngIf"],[1,"absolute",2,"right","5px","top","5px","z-index","99"],["class","btn btn-warning btn-sm text-slate-600 change-block-hidden","style","cursor: default",4,"ngIf"],["class","btn btn-warning btn-sm text-slate-600 change-hidden-block","style","cursor: default; padding: 3px",4,"ngIf"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-block-hidden",2,"cursor","default"],["name","user-x",2,"width","16px !important","height","16px !important","vertical-align","middle"],[1,"ml-1",2,"vertical-align","middle"],[1,"btn","btn-warning","btn-sm","text-slate-600","change-hidden-block",2,"cursor","default","padding","3px"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9",1,"box","p-3","mb-3","cursor-pointer","clickable","expanded-box",3,"click"],[1,"heading"],[1,"font-medium","pr-5","md:pr-auto"],[2,"font-weight","420",3,"ngClass"],[1,"ml-2","text-slate-500",2,"font-weight","400"],[1,"text-slate-500",2,"font-weight","400"],[1,"box","p-3","mb-3",2,"user-select","none"],["azt-track-service","list-educational-program-sessions-AdTUEEwTH6",1,"heading","cursor-pointer","expanded-box-open","pb-2",3,"click"],[1,"font","pr-5","md:pr-auto"],[1,"font-medium",3,"ngClass"],[1,"ml-2","text-slate-500"],["class","azt-answer",4,"ngIf"],[1,"azt-answer"],[1,"strike"],[1,"uppercase",3,"ngClass"],[1,"azt-answer-content","p-3","w-full"],[1,"grid","grid-cols-12","items-center","gap-3"],["class","col-span-12 md:col-span-3",4,"ngFor","ngForOf"],["style","text-align: left","azt-track-service","list-educational-program-sessions-7tcWVQIX5M","class","btn btn-transparent w-48 block",3,"routerLink","queryParams","ngClass",4,"ngIf"],[1,"azt-answer","mt-1"],["class","grid grid-cols-12 items-center gap-3",4,"ngIf"],["class","grid grid-cols-12 gap-2",4,"ngIf"],["class","azt-answer mt-1",4,"ngIf"],[1,"text-slate-500"],[3,"contents","teacherRole","classroomId","sessionId","close"],[1,"col-span-12","md:col-span-3"],["azt-track-service","list-educational-program-sessions-osVwsOKGN",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-700/50 mb-0","style","font-size: 13px",4,"ngIf"],["class","mb-0","style","font-size: 13px",3,"ngClass",4,"ngIf"],["class","text-primary mb-0 relative flex items-center","style","font-size: 13px",4,"ngIf"],[1,"w-12","h-12","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],["name","file-check","size","48",3,"ngClass"],["name","file-text","size","48",3,"ngClass"],[1,"text-slate-700/50","mb-0",2,"font-size","13px"],[1,"mb-0",2,"font-size","13px",3,"ngClass"],[1,"text-primary","mb-0","relative","flex","items-center",2,"font-size","13px"],["matRipple","","azt-track-service","list-educational-program-sessions-mHY0DeFrF",1,"btn","btn-outline-primary","btn-sm","border-0","shadow-none","p-1",3,"matTooltip","click"],["name","square-pen","size","16"],["azt-track-service","list-educational-program-sessions-7tcWVQIX5M",1,"btn","btn-transparent","w-48","block",2,"text-align","left",3,"routerLink","queryParams","ngClass"],[1,"uppercase"],[4,"ngIf","ngIfElse"],["normalViewDocument",""],[1,"col-span-12","md:col-span-2"],[3,"isBtn","customClass","emitFileDocument",4,"ngIf"],["class","col-span-12 md:col-span-2 relative",4,"ngIf"],[1,"col-span-12","md:col-span-2","relative"],[1,"flex","px-3","items-center","cursor-pointer","text-primary",2,"font-weight","420","font-size","15px",3,"matMenuTriggerFor"],["name","circle-arrow-down","size","18"],["xPosition","after"],["matMenuVideo","matMenu"],[1,"dropdown-menu","show",3,"ngStyle"],[1,"dropdown-content",3,"ngClass"],["azt-track-service","list-educational-program-sessions-9Uh-D7fBV",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","textWidth","type","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["class","absolute top-0 right-0 p-1 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-50"],["azt-track-service","list-educational-program-sessions-b0R49s83kG",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["name","x","size","16",3,"matTooltip"],["matMenuDocument","matMenu"],["azt-track-service","list-educational-program-sessions-3xvwjvQpPm",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-wmJtTG9lgc",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuHomework","matMenu"],["azt-track-service","list-educational-program-sessions-0ddxB4xw-G",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-H_Fu6rJpUs",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuHomeworkView","matMenu"],["azt-track-service","list-educational-program-sessions-URYQZ4M5Qb",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],[2,"width","100%",3,"truncateString","type","textWidth","showBorder","onlyOneLine","iconVerticalStyle","name","url","customClass"],["azt-track-service","list-educational-program-sessions-MHIjTu_EQr",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["matMenuUnknown","matMenu"],["azt-track-service","list-educational-program-sessions-yixL-fRljl",1,"dropdown-item","relative",2,"align-items","center",3,"auxclick","click"],["azt-track-service","list-educational-program-sessions-bjX0o_IOex",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],["class","col-span-12 md:col-span-3 relative",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-3","relative"],["azt-track-service","list-educational-program-sessions-0reisrghN1",1,"cursor-pointer","hover:slate-100",3,"auxclick","click"],[3,"type","name","url","customClass"],["azt-track-service","list-educational-program-sessions-E4pIFQJwz",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[3,"isBtn","customClass","emitFileDocument"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","text-center","p-4",2,"align-items","center"],[1,"w-6","h-6","mx-auto","flex"],[3,"type"],[1,"azt-answer-content","py-2","w-full","flex"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-dM0Vh7XPW",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","message-circle","size","18"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"routerLink","queryParams"],["name","users","size","18"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","book","size","18"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","clipboard-pen","size","18"],[1,"font-medium"],[1,"text-danger"],["class","box px-4 py-5 text-center mx-auto mt-3",4,"ngIf","ngIfElse"],["hasProgramObj",""],[1,"box","px-4","py-5","text-center","mx-auto","mt-3"],[2,"font-weight","450","font-size","15.5px"],["class","mt-3","style","font-weight: 400; font-size: 14px",4,"ngIf"],["azt-track-service","config-educational-program-UuVaYM-oC","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","400","font-size","14px"],["azt-track-service","config-educational-program-UuVaYM-oC",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","plus","size","16",3,"ngClass"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],["azt-track-service","list-educational-program-sessions-QcN2jh-wS",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"],["name","square-pen","size","16",3,"ngClass"]],template:function(v,S){if(1&v&&(e.j41(0,"div",0),e.DNE(1,pn,3,3,"div",1),e.DNE(2,Jn,3,3,"ng-template",null,2,e.C5r),e.k0s()),2&v){const G=e.sdS(3);e.R7$(1),e.Y8G("ngIf",!S.statusObj.loading&&S.errorApiMessage)("ngIfElse",G)}},dependencies:[tt.Wk,C.YU,C.Sq,C.bT,C.B3,at.kk,at.Cp,$t.r6,H.oV,Y.f,B.R,P.m,bt.WGl,gt.J,kt,Cn,C.Jj,ee.F2,ee.wp,ee.gt,ee.bj],encapsulation:2})}return f})();function io(f,W){if(1&f&&e.nrm(0,"azt-loading-effect",2),2&f){const p=e.XpG();e.Y8G("currentStatusObj",p.statusObj)}}function yi(f,W){if(1&f){const p=e.RV6();e.j41(0,"div",3)(1,"app-list-sessions",4),e.bIt("reloadSessionDataEmitter",function(S){e.eBV(p);const G=e.XpG();return e.Njj(G.reloadSessionData(S))})("changeSessionDataEmitter",function(S){e.eBV(p);const G=e.XpG();return e.Njj(G.changeSessionData(S))}),e.k0s()()}if(2&f){const p=e.XpG();e.R7$(1),e.Y8G("teacherRole",p.teacherRole)("classroomId",p.classroomId)("backLink",p.backLink)("errorApiMessage",p.errorApiMessage)("generalDocumentObjs",p.generalDocumentObjs)("programSessionObjs",p.programSessionObjs)("groupProgramSessionObjs",p.groupProgramSessionObjs)("programObj",p.programObj)}}let oo=(()=>{class f extends i.H{changeSessionData(p){this.programSessionObjs.map(v=>v.id==p.id?p:v),this.teacherRole&&this.commonService.myNavigationWithQueryString(`/admin/student/classroom-details/${this.classroomId}/3`,`?sessionId=${p.id}${this.backLink?"&backTo="+this.backLink:""}`)}reloadSessionData(p){this.initData(p)}convertNormalDocumentByGroup(p){let v={};return p.forEach(S=>{S.groupType&&(v.hasOwnProperty(S.groupType)||(v[S.groupType]=[]),v[S.groupType].push(S))}),v}processData(p){let v=this.commonService.arrayToDictionary(p,G=>G.groupType?G.groupType:"unknown"),S=[{name:"video",documentObjs:[]},{name:"document",documentObjs:[]},{name:"homework",documentObjs:[]},{name:"homework_view",documentObjs:[]},{name:"unknown",documentObjs:[]}];return Object.entries(v).forEach(([G,z],it)=>{if(z.length>0){let Mt={name:G,documentObjs:z};"video"==Mt.name&&(S[0]=Mt),"document"==Mt.name&&(S[1]=Mt),"homework"==Mt.name&&(S[2]=Mt),"homework_view"==Mt.name&&(S[3]=Mt),"unknown"==Mt.name&&(S[4]=Mt)}}),S}convertDocumentsOfSession(p,v){let S=(new Date).toDateString(),G=!1;return p.forEach((z,it)=>{z.normalDocumentObjs=z.allDocumentObjs.filter(Ut=>"exam"!=Ut.type&&"homework"!=Ut.type),z.examHomeworkObjs=z.allDocumentObjs.filter(Ut=>"exam"==Ut.type||"homework"==Ut.type),z.groupDocumentObjs=this.processData(z.normalDocumentObjs),z.indexSession=z.sort;let Mt="",Xt="";if(z.fromTime){let Ut=new Date(z.fromTime),He=new Date(Ut.toDateString()),ei=new Date(S),Xe=Math.floor((He.getTime()-ei.getTime())/1e3);z.dateSession=this.timeService.getFormatDate(z.fromTime),z.outOfDate=Xe<0,z.monthSession=Ut.getMonth()+1,z.yearSession=Ut.getFullYear(),Mt+=this.addZeroToTime(Ut.getHours())+":"+this.addZeroToTime(Ut.getMinutes()),Xt=this.timeService.calculationTimeAgoOnlyDate(He,ei)}if(z.toTime){let Ut=new Date(z.toTime);Mt+=" - "+this.addZeroToTime(Ut.getHours())+":"+this.addZeroToTime(Ut.getMinutes())}Mt+=Xt?" ("+Xt+")":"",z.timeSession=Mt,G||(z.isExpanded=v?z.isExpanded:!z.outOfDate,z.isExpanded&&(G=!0))}),p}addZeroToTime(p){return p<10?"0"+p:p.toString()}getSchoolLeaveObjs(p,v){p.length&&!this.teacherRole?this.waitDestroy(this.studentService.apiStudentsAttendancesMeGet(this.classroomId).subscribe({next:S=>{p.map(G=>{G.studentAttendance=S.list.find(z=>z.sessionId==G.id)}),v(p)},error:S=>{this.errorStatusObj(S.error.message,!0),v(p)}})):v(p)}initData(p){p||(this.initStatusObj(),this.programSessionObjs=[],this.programObj=void 0,this.generalDocumentObjs=[]),this.groupProgramSessionObjs=[];let v=this.teacherRole?this.classroomService.apiClassroomsClassroomIdProgramsProgramIdGet(this.classroomId,0):this.classroomService.apiClassroomsClassroomIdStudentsProgramsProgramIdGet(this.classroomId,0);this.waitDestroy(v.subscribe({next:S=>{this.generalDocumentObjs=S.generalDocuments.map(z=>({...z,documentType:this.commonService.getEnumTypeWithDefault(a.d,z.type,a.d.unknown)})),this.programObj=S.program;let G=S.sessions.map(z=>({...z,isExpanded:!1,isLoadingData:!1,isDeletingDocument:!1,isUploadingDocument:!1,normalDocumentObjs:[],examHomeworkObjs:[],groupDocumentObjs:[],indexSession:0,yearSession:0,monthSession:0,allDocumentObjs:z.documents.map(it=>({...it,documentType:this.commonService.getEnumTypeWithDefault(a.d,it.type,a.d.unknown)}))}));G=this.convertDocumentsOfSession(G,!!p),this.getSchoolLeaveObjs(G,z=>{if(p){let Ut=z.find(He=>He.id==p.id);this.programSessionObjs=this.programSessionObjs.map(He=>He.id==Ut?.id?{...Ut,isExpanded:He.isExpanded}:He)}else this.programSessionObjs=z;this.sessionId&&this.programSessionObjs.map(Ut=>Ut.isExpanded=Ut.id==this.sessionId);let it=this.commonService.arrayToDictionary(this.programSessionObjs,Ut=>Ut.monthSession?.toString()+"/"+Ut.yearSession?.toString()),Mt=this.commonService.myTranslateInstant("lang_core_thang")??"Th\xe1ng",Xt=(new Date).getMonth()+1+"/"+(new Date).getFullYear();Object.entries(it).forEach(([Ut,He],ei)=>{let Xe=He.find(rn=>rn.isExpanded);this.groupProgramSessionObjs.push({monthName:Mt+" "+Ut,programObjs:He,expand:!(Ut!=Xt&&!Xe)})}),this.stopStatusObj()})},error:S=>{this.errorApiMessage=S.error.message,this.errorStatusObj(S.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.initData(void 0)}constructor(p,v,S,G){super(),this.classroomService=p,this.timeService=v,this.studentService=S,this.activeRoute=G,this.sessionId=0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.groupProgramSessionObjs=[],this.errorApiMessage=""}static#t=this.\u0275fac=function(v){return new(v||f)(e.rXU(t.zS),e.rXU(T.F),e.rXU(t.b0),e.rXU(tt.nX))};static#e=this.\u0275cmp=e.VBU({type:f,selectors:[["app-view-educational-program"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",sessionId:"sessionId"},features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y","relative",2,"min-height","calc(100vh - 550px)"],[3,"teacherRole","classroomId","backLink","errorApiMessage","generalDocumentObjs","programSessionObjs","groupProgramSessionObjs","programObj","reloadSessionDataEmitter","changeSessionDataEmitter"]],template:function(v,S){if(1&v&&(e.DNE(0,io,1,1,"azt-loading-effect",0),e.DNE(1,yi,2,8,"ng-template",null,1,e.C5r)),2&v){const G=e.sdS(2);e.Y8G("ngIf",S.statusObj.loading)("ngIfElse",G)}},dependencies:[C.bT,s.K,no],encapsulation:2})}return f})(),so=(()=>{class f extends i.H{ngOnInit(){this.waitDestroy((0,O.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let p=this.commonService.getMyQueryParam("backto");this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))??0,this.backLink=p||(this.backLink??"/business/dashboard"),this.sessionId=Number(this.commonService.getMyQueryParam("sessionId"))})),super.ngOnInit()}constructor(p){super(),this.activeRoute=p,this.classroomId=0,this.sessionId=0,this.backLink=""}static#t=this.\u0275fac=function(v){return new(v||f)(e.rXU(tt.nX))};static#e=this.\u0275cmp=e.VBU({type:f,selectors:[["app-educational-program"]],inputs:{isStudent:"isStudent"},features:[e.Vt3],decls:1,vars:4,consts:[[3,"teacherRole","classroomId","sessionId","backLink"]],template:function(v,S){1&v&&e.nrm(0,"app-view-educational-program",0),2&v&&e.Y8G("teacherRole",!S.isStudent)("classroomId",S.classroomId)("sessionId",S.sessionId)("backLink",S.backLink)},dependencies:[oo],encapsulation:2})}return f})()},69307:(Re,Bt,g)=>{g.d(Bt,{_:()=>dt});var O=g(10936),i=g(89163),e=g(33887),tt=g(15766),a=g(26860),t=g(90998),T=g(54460),C=g(81587),s=g(52811),Ct=g(73437);function wt(at,$t){1&at&&(a.j41(0,"div",17),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&at&&(a.R7$(1),a.SpI(" *",a.bMT(2,1,"lang_auto_vui_long_nhap_ten_dau_diem")," "))}function Rt(at,$t){if(1&at&&(a.j41(0,"div",15)(1,"label",8),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s(),a.nrm(4,"input",16),a.nI1(5,"mytranslate"),a.DNE(6,wt,3,3,"div",10),a.k0s()),2&at){const H=a.XpG();a.R7$(2),a.SpI(" ",a.bMT(3,3,"lang_student_name_component_score")," "),a.R7$(2),a.FS9("placeholder",a.bMT(5,5,"lang_student_enter_name_component_score")),a.R7$(2),a.Y8G("ngIf",H.form.controls.name.dirty&&H.form.controls.name.errors)}}function rt(at,$t){if(1&at&&(a.j41(0,"div",15)(1,"label",8),a.EFF(2),a.nI1(3,"mytranslate"),a.k0s(),a.nrm(4,"input",18),a.nI1(5,"mytranslate"),a.k0s()),2&at){const H=a.XpG();a.R7$(2),a.SpI(" ",a.bMT(3,3,"homework"==H.data.documentType?"lang_auto_bai_tap":"lang_auto_de_thi"),": "),a.R7$(2),a.FS9("placeholder",a.bMT(5,5,"lang_student_enter_name_component_score")),a.Y8G("value",H.data.documentName)}}function xt(at,$t){1&at&&(a.j41(0,"div",17),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&at&&(a.R7$(1),a.SpI(" *",a.bMT(2,1,"lang_auto_he_so_diem_phai_la_so")," "))}function K(at,$t){1&at&&a.nrm(0,"azt-loading-ui",19)}let dt=(()=>{class at extends e._{setValueCoeffcient(){var H=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(H)??0)}createStartingPoint(){let H={name:this.form.getRawValue().name,coefficient:this.form.getRawValue().coefficient,programId:this.data.programId,classroomId:this.data.classroomId,sessionId:this.data.sessionId};this.waitDestroy(this.data.id?this.commonMarkService.apiCommonMarksIdPut(this.data.id,H).subscribe(Y=>{Y?(this.showSuccessSnack("lang_core_sua_dau_diem_thanh_cong"),this.dialogRef.close(H)):this.errorStatusObj("lang_core_sua_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}):this.commonMarkService.apiCommonMarksPost(H).subscribe(Y=>{Y?(this.showSuccessSnack("lang_core_them_dau_diem_thanh_cong"),this.dialogRef.close(H)):this.errorStatusObj("lang_core_them_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}))}ngOnInit(){}constructor(H,Y,B){super(B,Y),this.commonMarkService=H,this.dialogRef=Y,this.data=B,this.form=new O.gE({name:new O.MJ({value:B.name??"",disabled:0==B.canEditName},{nonNullable:!0,validators:[O.k0.required,tt.M.noWhiteSpace]}),coefficient:new O.MJ(B.coefficient,{nonNullable:!0,validators:[O.k0.required,O.k0.pattern(/^[1-9]\d*$/)]})})}static#t=this.\u0275fac=function(Y){return new(Y||at)(a.rXU(t.a),a.rXU(i.CP,8),a.rXU(i.Vh))};static#e=this.\u0275cmp=a.VBU({type:at,selectors:[["app-create-score-dialog"]],features:[a.Vt3],decls:25,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"placeholder","input"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","flex","justify-end"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"value","placeholder"],[1,"mr-1"]],template:function(Y,B){1&Y&&(a.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),a.EFF(5),a.nI1(6,"mytranslate"),a.k0s()(),a.j41(7,"div",5),a.DNE(8,Rt,7,7,"div",6),a.DNE(9,rt,6,7,"div",6),a.j41(10,"div",7)(11,"label",8),a.EFF(12),a.nI1(13,"mytranslate"),a.k0s(),a.j41(14,"input",9),a.bIt("input",function(){return B.setValueCoeffcient()}),a.nI1(15,"mytranslate"),a.k0s(),a.DNE(16,xt,3,3,"div",10),a.k0s()()(),a.j41(17,"div",11)(18,"button",12),a.bIt("click",function(){return B.dialogRef.close()}),a.EFF(19),a.nI1(20,"mytranslate"),a.k0s(),a.j41(21,"button",13),a.bIt("click",function(){return B.createStartingPoint()}),a.DNE(22,K,1,0,"azt-loading-ui",14),a.EFF(23),a.nI1(24,"mytranslate"),a.k0s()()()()),2&Y&&(a.R7$(1),a.Y8G("formGroup",B.form),a.R7$(4),a.SpI(" ",a.bMT(6,11,B.data.id?B.data.isOnlyCoefficient?"lang_student_edit_mark_coefficient":"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),a.R7$(3),a.Y8G("ngIf",!B.data.isOnlyCoefficient),a.R7$(1),a.Y8G("ngIf",B.data.isOnlyCoefficient),a.R7$(3),a.SpI(" ",a.bMT(13,13,"lang_student_score_factor")," "),a.R7$(2),a.FS9("placeholder",a.bMT(15,15,"lang_student_enter_score_factor")),a.R7$(2),a.Y8G("ngIf",B.form.controls.coefficient.dirty&&B.form.controls.coefficient.errors),a.R7$(3),a.JRh(a.bMT(20,17,"lang_button_cancel")),a.R7$(2),a.Y8G("disabled",B.form.controls.name.errors&&!B.data.isOnlyCoefficient||B.form.controls.coefficient.errors),a.R7$(1),a.Y8G("ngIf",B.statusObj.loading),a.R7$(1),a.SpI(" ",a.bMT(24,19,"lang_button_save")," "))},dependencies:[T.bT,O.qT,O.me,O.Q0,O.BC,O.cb,O.j4,O.JD,C.t,s.R,Ct.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box[_ngcontent-%COMP%]{margin-top:1px}.hidden-scroll[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hidden-scroll[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]})}return at})()},71703:(Re,Bt,g)=>{g.d(Bt,{V:()=>Ze});var O=g(81519),i=g(34514),e=g(47426),tt=g(89163),a=g(99503),t=g(79347),T=g(33887),C=g(9691),s=g(26860),Ct=g(25693),wt=g(59640),Rt=g(18148),rt=g(69307),xt=g(46899),K=g(10296),dt=g(67638),at=g(40609),$t=g(54460),H=g(47712),Y=g(66729),B=g(2915),P=g(52811),bt=g(5800),gt=g(74637),ut=g(10123),vt=g(15343),It=g(73437);const Ft=["table_score_student"],Qt=function(){return{"mr-2":!0}};function _e(nt,Yt){if(1&nt){const X=s.RV6();s.j41(0,"div",11)(1,"button",12),s.bIt("click",function(){s.eBV(X);const mt=s.XpG();return s.Njj(mt.downloadTableScore())}),s.nrm(2,"lucide-icon",13),s.j41(3,"span"),s.EFF(4),s.nI1(5,"mytranslate"),s.k0s()()()}2&nt&&(s.R7$(2),s.Y8G("ngClass",s.lJ4(4,Qt)),s.R7$(2),s.JRh(s.bMT(5,2,"lang_student_export_a_grade_sheet")))}function be(nt,Yt){if(1&nt){const X=s.RV6();s.j41(0,"div",14)(1,"button",15),s.bIt("click",function(){s.eBV(X);const mt=s.XpG();return s.Njj(mt.downloadTableScore())}),s.nI1(2,"mytranslate"),s.nrm(3,"lucide-icon",16),s.k0s(),s.j41(4,"button",17),s.bIt("click",function(){s.eBV(X);const mt=s.XpG();return s.Njj(mt.closeDialog.emit(mt.isEdit))}),s.nI1(5,"mytranslate"),s.nrm(6,"lucide-icon",18),s.k0s()()}2&nt&&(s.R7$(1),s.FS9("matTooltip",s.bMT(2,2,"lang_student_export_a_grade_sheet")),s.R7$(3),s.FS9("matTooltip",s.bMT(5,4,"lang_auto_thoat")))}function Ce(nt,Yt){1&nt&&s.nrm(0,"azt-loading-ui",25)}function Fe(nt,Yt){if(1&nt&&(s.j41(0,"div",37),s.EFF(1),s.nI1(2,"mytranslate"),s.nI1(3,"formatOnlyDateByUserUnitPipe"),s.k0s()),2&nt){const X=s.XpG().$implicit;s.R7$(1),s.Lme(" ",s.bMT(2,2,"lang_student_profile_utils_homework_answer_created_at"),": ",s.bMT(3,4,X.createdAt)," ")}}function Me(nt,Yt){if(1&nt&&(s.j41(0,"div",37)(1,"span"),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s(),s.j41(4,"span",38),s.EFF(5),s.k0s()()),2&nt){const X=s.XpG().$implicit;s.R7$(2),s.JRh(s.bMT(3,2,"lang_auto_he_so")),s.R7$(3),s.JRh(X.coefficient)}}function zt(nt,Yt){if(1&nt){const X=s.RV6();s.j41(0,"button",39),s.bIt("click",function(){s.eBV(X);const mt=s.XpG().$implicit,Vt=s.XpG(2);return s.Njj(Vt.editScore(mt))}),s.nI1(1,"mytranslate"),s.nrm(2,"lucide-icon",40),s.k0s()}2&nt&&s.FS9("matTooltip",s.bMT(1,1,"lang_student_sua_dau_diem"))}function qt(nt,Yt){if(1&nt&&(s.j41(0,"div",41),s.nrm(1,"azt-check-mark",42),s.k0s()),2&nt){const X=s.XpG().$implicit;s.R7$(1),s.Y8G("mark",X.marks.length>0?X.marks[0]:"")}}function yt(nt,Yt){if(1&nt&&(s.j41(0,"div",41),s.nrm(1,"azt-check-mark",42),s.k0s()),2&nt){const X=s.XpG().$implicit,lt=s.XpG(2);s.R7$(1),s.Y8G("mark",lt.returnValue(X))}}function Nt(nt,Yt){if(1&nt){const X=s.RV6();s.j41(0,"input",43),s.bIt("input",function(mt){s.eBV(X);const Vt=s.XpG().$implicit,xe=s.XpG(2);return s.Njj(xe.handleMarkStudent(mt,Vt.id))}),s.nI1(1,"mytranslate"),s.nI1(2,"mytranslate"),s.k0s()}if(2&nt){const X=s.XpG().$implicit,lt=s.XpG(2);s.FS9("matTooltip",s.bMT(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),s.Mz_("id","input_point_",X.id.toString(),""),s.FS9("placeholder",s.bMT(2,7,"lang_auto_nhap_diem")),s.Y8G("disabled",lt.isStudent)("value",lt.returnValue(X))}}function jt(nt,Yt){1&nt&&(s.nrm(0,"lucide-icon",47),s.nI1(1,"mytranslate"),s.nI1(2,"mytranslate")),2&nt&&s.FCK("matTooltip","",s.bMT(1,2,"lang_auto_sua")," ",s.bMT(2,4,"lang_auto_diem"),"")}function le(nt,Yt){1&nt&&(s.nrm(0,"lucide-icon",48),s.nI1(1,"mytranslate")),2&nt&&s.FS9("matTooltip",s.bMT(1,1,"lang_editor_common_cancel"))}function ee(nt,Yt){if(1&nt){const X=s.RV6();s.j41(0,"button",44),s.bIt("click",function(){s.eBV(X);const mt=s.XpG().$implicit,Vt=s.XpG(2);return s.Njj(Vt.viewInput(mt.id==Vt.inputPointSelect?-1:mt.id))}),s.DNE(1,jt,3,6,"lucide-icon",45),s.DNE(2,le,2,3,"lucide-icon",46),s.k0s()}if(2&nt){const X=s.XpG().$implicit,lt=s.XpG(2);s.R7$(1),s.Y8G("ngIf",lt.inputPointSelect!=X.id),s.R7$(1),s.Y8G("ngIf",lt.inputPointSelect==X.id)}}function U(nt,Yt){1&nt&&s.nrm(0,"azt-loading-ui",52)}const Dt=function(){return{"text-success":!0}};function F(nt,Yt){1&nt&&s.nrm(0,"lucide-icon",53),2&nt&&s.Y8G("ngClass",s.lJ4(1,Dt))}function ot(nt,Yt){if(1&nt){const X=s.RV6();s.j41(0,"button",49),s.bIt("click",function(){s.eBV(X);const mt=s.XpG().$implicit,Vt=s.XpG(2);return s.Njj(Vt.saveMark(mt))}),s.nI1(1,"mytranslate"),s.DNE(2,U,1,0,"azt-loading-ui",50),s.DNE(3,F,1,2,"lucide-icon",51),s.k0s()}if(2&nt){const X=s.XpG(3);s.FS9("matTooltip",s.bMT(1,4,"lang_button_save")),s.Y8G("disabled",X.isSave),s.R7$(2),s.Y8G("ngIf",X.isSave),s.R7$(1),s.Y8G("ngIf",!X.isSave)}}function Gt(nt,Yt){if(1&nt){const X=s.RV6();s.j41(0,"button",54),s.bIt("click",function(){s.eBV(X);const mt=s.XpG().$implicit,Vt=s.XpG(2);return s.Njj(Vt.goToEditPoint(mt))}),s.nI1(1,"mytranslate"),s.nrm(2,"lucide-icon",55),s.k0s()}2&nt&&s.FS9("matTooltip",s.bMT(1,1,"lang_core_go_to_enter_score"))}function Wt(nt,Yt){if(1&nt&&(s.j41(0,"tr")(1,"td")(2,"div",14)(3,"div"),s.EFF(4),s.DNE(5,Fe,4,6,"div",26),s.DNE(6,Me,6,4,"div",27),s.k0s(),s.DNE(7,zt,3,3,"button",28),s.k0s()(),s.j41(8,"td",29)(9,"div",30),s.DNE(10,qt,2,1,"div",31),s.DNE(11,yt,2,1,"div",31),s.DNE(12,Nt,3,9,"input",32),s.DNE(13,ee,3,2,"button",33),s.DNE(14,ot,4,6,"button",34),s.k0s()(),s.j41(15,"td",35),s.DNE(16,Gt,3,3,"button",36),s.k0s()()),2&nt){const X=Yt.$implicit,lt=s.XpG(2);s.R7$(4),s.SpI(" ",X.name," "),s.R7$(1),s.Y8G("ngIf",X.createdAt&&!lt.isStudent),s.R7$(1),s.Y8G("ngIf",X.coefficient),s.R7$(1),s.Y8G("ngIf",!lt.isStudent),s.R7$(3),s.Y8G("ngIf","homework"==X.objectType),s.R7$(1),s.Y8G("ngIf","homework"!=X.objectType&&lt.inputPointSelect!=X.id),s.R7$(1),s.Y8G("ngIf","homework"!=X.objectType&&lt.inputPointSelect==X.id),s.R7$(1),s.Y8G("ngIf",!lt.isStudent&&X.canEditMark&&!lt.listMarkNew),s.R7$(1),s.Y8G("ngIf",!lt.isStudent&&X.canEditMark&&lt.listMarkNew&&lt.listMarkNew.id==X.id),s.R7$(2),s.Y8G("ngIf",!lt.isStudent&&X.programId&&X.sessionId)}}function ve(nt,Yt){1&nt&&s.nrm(0,"azt-loading-ui",25)}const ze=function(){return[]};function en(nt,Yt){if(1&nt){const X=s.RV6();s.j41(0,"azt-mat-dialog-content")(1,"div",19),s.DNE(2,Ce,1,0,"azt-loading-ui",20),s.j41(3,"azt-filter-box",21),s.bIt("sendFilter",function(mt){s.eBV(X);const Vt=s.XpG();return s.Njj(Vt.filterData(mt))}),s.k0s()(),s.j41(4,"table",22)(5,"tbody"),s.DNE(6,Wt,17,10,"tr",10),s.j41(7,"tr")(8,"td"),s.EFF(9),s.nI1(10,"mytranslate"),s.k0s(),s.j41(11,"td",23)(12,"div",24),s.DNE(13,ve,1,0,"azt-loading-ui",20),s.EFF(14),s.k0s()()()()()()}if(2&nt){const X=s.XpG();let lt;s.R7$(2),s.Y8G("ngIf",X.statusObj.loading),s.R7$(4),s.Y8G("ngForOf",null!==(lt=X.data.marks)&&void 0!==lt?lt:s.lJ4(8,ze)),s.R7$(3),s.SpI(" ",s.bMT(10,6,"lang_business_diem_tong_ket")," "),s.R7$(2),s.Y8G("colSpan",2),s.R7$(2),s.Y8G("ngIf",X.isSave),s.R7$(1),s.SpI(" ",X.data.averageMark," ")}}function cn(nt,Yt){if(1&nt&&(s.j41(0,"div",37)(1,"span"),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s(),s.j41(4,"span",38),s.EFF(5),s.k0s()()),2&nt){const X=s.XpG().$implicit;s.R7$(2),s.JRh(s.bMT(3,2,"lang_auto_he_so")),s.R7$(3),s.JRh(X.coefficient)}}function Ge(nt,Yt){if(1&nt&&(s.j41(0,"div",41),s.nrm(1,"azt-check-mark",42),s.k0s()),2&nt){const X=s.XpG().$implicit;s.R7$(1),s.Y8G("mark",X.marks.length>0?X.marks[0]:"")}}function nn(nt,Yt){if(1&nt&&(s.j41(0,"div",41),s.nrm(1,"azt-check-mark",42),s.k0s()),2&nt){const X=s.XpG().$implicit,lt=s.XpG(2);s.R7$(1),s.Y8G("mark",lt.returnValue(X))}}function mn(nt,Yt){if(1&nt&&(s.j41(0,"tr")(1,"td")(2,"div",14)(3,"div"),s.EFF(4),s.DNE(5,cn,6,4,"div",27),s.k0s()()(),s.j41(6,"td",60),s.DNE(7,Ge,2,1,"div",31),s.DNE(8,nn,2,1,"div",31),s.k0s()()),2&nt){const X=Yt.$implicit;s.R7$(4),s.SpI(" ",X.name," "),s.R7$(1),s.Y8G("ngIf",X.coefficient),s.R7$(2),s.Y8G("ngIf","homework"==X.objectType),s.R7$(1),s.Y8G("ngIf","homework"!=X.objectType)}}function _n(nt,Yt){if(1&nt&&(s.j41(0,"table",56)(1,"thead")(2,"tr")(3,"th",57),s.EFF(4),s.nI1(5,"mytranslate"),s.k0s(),s.j41(6,"th",58),s.EFF(7),s.nI1(8,"mytranslate"),s.k0s()()(),s.j41(9,"tbody"),s.DNE(10,mn,9,4,"tr",10),s.j41(11,"tr")(12,"td"),s.EFF(13),s.nI1(14,"mytranslate"),s.k0s(),s.j41(15,"td")(16,"div",59),s.EFF(17),s.k0s()()()()()),2&nt){const X=s.XpG();let lt;s.R7$(4),s.JRh(s.bMT(5,5,"lang_student_name_component_score")),s.R7$(3),s.JRh(s.bMT(8,7,"lang_testbank_update_exam_point")),s.R7$(3),s.Y8G("ngForOf",null!==(lt=X.data.marks)&&void 0!==lt?lt:s.lJ4(11,ze)),s.R7$(3),s.SpI(" ",s.bMT(14,9,"lang_business_diem_tong_ket")," "),s.R7$(4),s.SpI(" ",X.data.averageMark," ")}}function dn(nt,Yt){if(1&nt&&s.nrm(0,"azt-check-mark",42),2&nt){const X=s.XpG().$implicit;s.Y8G("mark",X.marks.length>0?X.marks[0]:"")}}function on(nt,Yt){if(1&nt&&s.nrm(0,"azt-check-mark",42),2&nt){const X=s.XpG().$implicit,lt=s.XpG();s.Y8G("mark",lt.returnValue(X))}}function Ke(nt,Yt){if(1&nt&&(s.j41(0,"tr")(1,"td",9),s.EFF(2),s.k0s(),s.j41(3,"td",9),s.EFF(4),s.k0s(),s.j41(5,"td",9),s.EFF(6),s.k0s(),s.j41(7,"td",9),s.DNE(8,dn,1,1,"azt-check-mark",61),s.DNE(9,on,1,1,"azt-check-mark",61),s.k0s()()),2&nt){const X=Yt.$implicit,lt=Yt.index,mt=s.XpG();s.R7$(1),s.BMQ("excelRow",lt+1)("excelColumn",0)("excelStyle",mt.styleTdNormal),s.R7$(1),s.SpI(" ",X.name?lt+1:""," "),s.R7$(1),s.BMQ("excelRow",lt+1)("excelColumn",1)("excelStyle",mt.styleTdNormalLeft),s.R7$(1),s.SpI(" ",X.name," "),s.R7$(1),s.BMQ("excelRow",lt+1)("excelColumn",2)("excelStyle",mt.styleTdNotNumberNormal),s.R7$(1),s.SpI(" ",X.coefficient," "),s.R7$(1),s.BMQ("excelRow",lt+1)("excelColumn",3)("excelStyle",mt.styleTdNotNumberNormal),s.R7$(1),s.Y8G("ngIf","homework"==X.objectType),s.R7$(1),s.Y8G("ngIf","homework"!=X.objectType)}}let Qe=(()=>{class nt extends wt.H{filterData(X){this.dataFilter=X,this.initStatusObj(),this.getStudent()}getStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1,id:this.data.id,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,classroomId:this.data.classroomId,getBook:!1,getMark:!0,getAttendance:!1,getPayment:!1,me:this.isStudent??!1,getAssessment:!1}).subscribe({next:lt=>{lt.list.length&&(this.data=lt.list[0]),this.stopStatusObj()},error:lt=>{this.errorStatusObj(lt.error.message,!0)}}))}downloadTableScore(){Rt.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var X=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_score_student,!0);let lt=this.commonService.createFileNameExportFile(["bang_diem_hoc_sinh"+this.data.fullName])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(X,lt),Rt.L.closeLoadingEffect(200)}goToEditPoint(X){this.closeDialog.emit(),this.myNavigationWithQueryString("/admin/student/submit-score/"+X.classroomId+"/"+X.programId+"/"+X.sessionId,"?studentId="+this.data.id)}viewInput(X){this.inputPointSelect=X}handleMarkStudent(X,lt){if(!this.isStudent){var mt=this.commonService.handlePointByValueInput(X);this.listMarkNew={id:lt,points:mt.length>0?mt:[-1]}}}saveMark(X){this.isSave=!0,this.listMarkNew&&this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:X.programId,classroomId:X.classroomId,sessionId:X.sessionId,students:[{id:this.data.id,listMarks:[this.listMarkNew]}]}).subscribe(mt=>{mt?(this.data.marks?.filter(Vt=>Vt.id==X.id)?.forEach(Vt=>Vt.marks=this.listMarkNew?.points?.find(xe=>-1==xe)?[]:this.listMarkNew?.points??Vt.marks),this.getStudent(),this.listMarkNew=void 0,this.inputPointSelect=-1,this.isEdit=!0,this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)):this.errorStatusObj("lang_auto_cap_nhat_diem_khong_thanh_cong",!0),this.isSave=!1}))}editScore(X){X&&this.sAztDialogService.open(rt._,{data:{...X,canEditName:X.canEditMark},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(lt=>{if(lt){try{var mt=this.data.marks?.find(Vt=>Vt.id==X.id);mt&&(mt.coefficient=lt.coefficient,mt.name=lt.name)}catch{}this.isEdit=!0}})}returnValue(X){return(X.marks??[]).join(" ")}ngOnInit(){super.ngOnInit()}constructor(X,lt,mt,Vt,xe){super(),this.sAztDialogService=X,this.sAztTimeService=lt,this.shareFileFlutterService=mt,this.exportExcelService=Vt,this.studentService=xe,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.closeDialog=new s.bkB,this.inputPointSelect=-1,this.isSave=!1,this.isEdit=!1,this.commonService=(0,s.WQX)(Ct.R)}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(lt){return new(lt||nt)(s.rXU(xt.i),s.rXU(C.F),s.rXU(K.R),s.rXU(dt.x),s.rXU(at.b))};static#e=this.\u0275cmp=s.VBU({type:nt,selectors:[["azt-view-table-score-single"]],viewQuery:function(lt,mt){if(1&lt&&s.GBs(Ft,5),2&lt){let Vt;s.mGM(Vt=s.lsd())&&(mt.table_score_student=Vt.first)}},inputs:{data:"data",isStudent:"isStudent",viewDialog:"viewDialog"},outputs:{closeDialog:"closeDialog"},features:[s.Jv_([{provide:O.$O,useClass:a.fb,deps:[e.Ju,i.ij]},{provide:O.vq,useFactory:t.fJ,deps:[C.F]}]),s.Vt3],decls:34,vars:61,consts:[["class","flex justify-end mb-5",4,"ngIf"],[1,"box"],[1,"pt-5","px-5","flex","justify-between","items-start"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],["class","flex items-center",4,"ngIf"],[4,"ngIf"],["class","table table-report","style","white-space: initial; display: table",4,"ngIf"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score_student",""],[1,"text-center","azt-excel-cell"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","mb-5"],["azt-track-service","view-table-score-single-vS0yZHQHw",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","18",3,"ngClass"],[1,"flex","items-center"],["matRipple","",1,"btn","btn-sm","btn-outline-primary","border-0","mr-2","p-1",3,"matTooltip","click"],["name","download","size","20"],["matRipple","",1,"btn","btn-sm","btn-outline-secondary","border-0","p-1",3,"matTooltip","click"],["name","x","size","20"],[1,"pt-3","px-5","flex","justify-end","items-center"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[3,"sendFilter"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[3,"colSpan"],[1,"flex","justify-center","font-bold","items-center"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],["class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp","style","color: gray","class","w-5 h-5 inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"text-center",2,"padding","0"],[1,"flex","items-center",2,"position","relative"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltip","id","disabled","value","placeholder","input",4,"ngIf"],["azt-track-service","view-table-score-single-lX3L0QoGBo","class","inline-block btn-edit-point zoom-in",3,"click",4,"ngIf"],["azt-track-service","view-table-score-single-uJE-8eAu46","class","inline-block btn-edit-point zoom-in",3,"matTooltip","disabled","click",4,"ngIf"],[1,"text-center",2,"padding","0 10px 0 10px"],["class","btn btn-secondary-soft","matRipple","",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[1,"inline-block","ml-1"],["azt-track-service","table-score-single-diaglog-VepNA5tWXp",1,"w-5","h-5","inline-block","ml-1",2,"color","gray",3,"matTooltip","click"],["name","pencil","size","16"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltip","id","disabled","value","placeholder","input"],["azt-track-service","view-table-score-single-lX3L0QoGBo",1,"inline-block","btn-edit-point","zoom-in",3,"click"],["name","pencil","size","16",3,"matTooltip",4,"ngIf"],["name","x","size","16",3,"matTooltip",4,"ngIf"],["name","pencil","size","16",3,"matTooltip"],["name","x","size","16",3,"matTooltip"],["azt-track-service","view-table-score-single-uJE-8eAu46",1,"inline-block","btn-edit-point","zoom-in",3,"matTooltip","disabled","click"],["class","loading-upload","type","bootstrap-spinner",4,"ngIf"],["name","check","size","20",3,"ngClass",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload"],["name","check","size","20",3,"ngClass"],["matRipple","",1,"btn","btn-secondary-soft",3,"matTooltip","click"],["name","external-link","size","16"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"flex","justify-center","font-bold"],[1,"text-center"],[3,"mark",4,"ngIf"]],template:function(lt,mt){if(1&lt&&(s.DNE(0,_e,6,5,"div",0),s.j41(1,"div",1)(2,"div",2),s.nrm(3,"azt-student-info-box",3),s.DNE(4,be,7,6,"div",4),s.k0s(),s.DNE(5,en,15,9,"azt-mat-dialog-content",5),s.DNE(6,_n,18,12,"table",6),s.k0s(),s.j41(7,"table",7,8)(9,"thead")(10,"tr")(11,"th",9),s.EFF(12),s.nI1(13,"mytranslate"),s.k0s(),s.j41(14,"th",9),s.EFF(15),s.nI1(16,"mytranslate"),s.k0s(),s.j41(17,"th",9),s.EFF(18),s.nI1(19,"mytranslate"),s.k0s(),s.j41(20,"th",9),s.EFF(21),s.nI1(22,"mytranslate"),s.k0s()()(),s.j41(23,"tbody"),s.DNE(24,Ke,10,17,"tr",10),s.j41(25,"tr")(26,"td",9),s.EFF(27),s.k0s(),s.j41(28,"td",9),s.EFF(29),s.nI1(30,"mytranslate"),s.k0s(),s.nrm(31,"td"),s.j41(32,"td",9),s.EFF(33),s.k0s()()()()),2&lt){let Vt,xe,Jt,Te,ae,De;s.Y8G("ngIf",mt.isStudent&&!mt.viewDialog),s.R7$(3),s.Y8G("name",mt.data.fullName)("parentFullName",mt.data.parentFullName)("parentId",mt.data.parentId)("parentPhone",mt.data.parentPhone)("phone",mt.data.phone)("email",mt.data.email)("avatar",mt.data.avatar)("gender",mt.data.gender)("hasUser",mt.data.hasUser),s.R7$(1),s.Y8G("ngIf",mt.viewDialog),s.R7$(1),s.Y8G("ngIf",mt.viewDialog),s.R7$(1),s.Y8G("ngIf",mt.isStudent&&!mt.viewDialog),s.R7$(1),s.Y8G("border",1),s.R7$(4),s.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",mt.styleThNormal),s.R7$(1),s.SpI(" ",s.bMT(13,50,"lang_student_export_excel_no")," "),s.R7$(2),s.BMQ("excelWidth",10)("excelRow",0)("excelColumn",1)("excelStyle",mt.styleThNormal),s.R7$(1),s.SpI(" ",s.bMT(16,52,"lang_student_name_component_score")," "),s.R7$(2),s.BMQ("excelWidth",10)("excelRow",0)("excelColumn",2)("excelStyle",mt.styleThNormal),s.R7$(1),s.SpI(" ",s.bMT(19,54,"lang_auto_he_so")," "),s.R7$(2),s.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",mt.styleThNormal),s.R7$(1),s.SpI(" ",s.bMT(22,56,"lang_testbank_update_exam_point")," "),s.R7$(3),s.Y8G("ngForOf",null!==(Vt=mt.data.marks)&&void 0!==Vt?Vt:s.lJ4(60,ze)),s.R7$(2),s.BMQ("excelRow",(null!==(xe=null==mt.data.marks?null:mt.data.marks.length)&&void 0!==xe?xe:0)+1)("excelColumn",0)("excelStyle",mt.styleTdNormal),s.R7$(1),s.SpI(" ",(null!==(Jt=null==mt.data.marks?null:mt.data.marks.length)&&void 0!==Jt?Jt:0)+1," "),s.R7$(1),s.BMQ("excelRow",(null!==(Te=null==mt.data.marks?null:mt.data.marks.length)&&void 0!==Te?Te:0)+1)("excelColumn",1)("excelStyle",mt.styleTdNormal),s.R7$(1),s.SpI(" ",s.bMT(30,58,"lang_business_diem_tong_ket")," "),s.R7$(2),s.BMQ("excelRow",(null!==(ae=null==mt.data.marks?null:mt.data.marks.length)&&void 0!==ae?ae:0)+1)("excelColumn",3)("excelStyle",mt.styleTdNormal),s.R7$(1),s.BMQ("excelRow",(null!==(De=null==mt.data.marks?null:mt.data.marks.length)&&void 0!==De?De:0)+1)("excelColumn",4)("excelStyle",mt.styleTdNotNumberNormal),s.R7$(1),s.SpI(" ",mt.data.averageMark," ")}},dependencies:[$t.YU,$t.Sq,$t.bT,e.r6,H.oV,Y.D,B.U,P.R,bt.B,gt.E,ut.Ew,vt.WGl,It.wp,It.vv],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.box-point-homework[_ngcontent-%COMP%]{min-width:90px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}.btn-edit-point[_ngcontent-%COMP%]{position:absolute;right:5px;color:gray}"]})}return nt})(),Ze=(()=>{class nt extends T._{closeDialog(X){this.dialogRef.close(X)}ngOnInit(){super.ngOnInit()}constructor(X,lt){super(lt,X),this.dialogRef=X,this.data=lt}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(lt){return new(lt||nt)(s.rXU(tt.CP,8),s.rXU(tt.Vh,8))};static#e=this.\u0275cmp=s.VBU({type:nt,selectors:[["azt-table-score-single"]],features:[s.Jv_([{provide:O.$O,useClass:a.fb,deps:[e.Ju,i.ij]},{provide:O.vq,useFactory:t.fJ,deps:[C.F]}]),s.Vt3],decls:1,vars:3,consts:[[3,"data","isStudent","viewDialog","closeDialog"]],template:function(lt,mt){1&lt&&(s.j41(0,"azt-view-table-score-single",0),s.bIt("closeDialog",function(xe){return mt.closeDialog(xe)}),s.k0s()),2&lt&&s.Y8G("data",mt.data.student)("isStudent",!mt.data.isTeacher)("viewDialog",!0)},dependencies:[Qe],encapsulation:2})}return nt})()},19857:(Re,Bt,g)=>{g.d(Bt,{g:()=>Ae});var O=g(76627),i=g(59640),e=g(18148),tt=g(37497),a=g(75421),t=g(27208),T=g(69307),C=g(71703),s=g(26860),Ct=g(90998),wt=g(40609),Rt=g(9691),rt=g(46899),xt=g(64624),K=g(67638),dt=g(65162),at=g(10296),$t=g(54460),H=g(47712),Y=g(18718),B=g(22613),P=g(66729),bt=g(52811),gt=g(11002),ut=g(32099),vt=g(5800),It=g(10123),Ft=g(15343),Qt=g(73437);const _e=["table_score"];function be(V,kt){1&V&&(s.j41(0,"div",6)(1,"h3",7),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s()()),2&V&&(s.R7$(2),s.JRh(s.bMT(3,1,"lang_student_enter_score")))}function Ce(V,kt){1&V&&(s.j41(0,"div",6)(1,"h3",7),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s()()),2&V&&(s.R7$(2),s.JRh(s.bMT(3,1,"lang_auto_bang_diem")))}const Fe=function(){return{"mr-2":!0}};function Me(V,kt){if(1&V){const j=s.RV6();s.j41(0,"button",16),s.bIt("click",function(){s.eBV(j);const q=s.XpG(2);return s.Njj(q.createNewScore())}),s.nrm(1,"lucide-icon",17),s.j41(2,"span"),s.EFF(3),s.nI1(4,"mytranslate"),s.k0s()()}2&V&&(s.R7$(1),s.Y8G("ngClass",s.lJ4(4,Fe)),s.R7$(2),s.JRh(s.bMT(4,2,"lang_student_enter_new_component_score")))}function zt(V,kt){if(1&V){const j=s.RV6();s.j41(0,"button",18),s.bIt("click",function(){s.eBV(j);const q=s.XpG(2);return s.Njj(q.downloadTableScore())}),s.nrm(1,"lucide-icon",19),s.j41(2,"span"),s.EFF(3),s.nI1(4,"mytranslate"),s.k0s()()}2&V&&(s.R7$(1),s.Y8G("ngClass",s.lJ4(4,Fe)),s.R7$(2),s.JRh(s.bMT(4,2,"lang_student_export_a_grade_sheet")))}function qt(V,kt){1&V&&s.nrm(0,"azt-loading-ui",23)}function yt(V,kt){if(1&V){const j=s.RV6();s.j41(0,"flexed-on-the-top",20)(1,"button",21),s.bIt("click",function(){s.eBV(j);const q=s.XpG(2);return s.Njj(q.saveMark())}),s.DNE(2,qt,1,0,"azt-loading-ui",22),s.EFF(3),s.nI1(4,"mytranslate"),s.k0s()()}if(2&V){const j=s.XpG(2);s.Y8G("colorBackground","#f0f8ffe8"),s.R7$(1),s.Y8G("disabled",0==j.listStudentMark.length||j.isSave),s.R7$(1),s.Y8G("ngIf",j.isSave),s.R7$(1),s.SpI(" ",s.bMT(4,4,"lang_auto_luu")," ")}}function Nt(V,kt){if(1&V){const j=s.RV6();s.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"azt-search-box",11),s.bIt("onSearch",function(q){s.eBV(j);const Tt=s.XpG();return s.Njj(Tt.onSearchBox(q.searchObj))}),s.nI1(4,"mytranslate"),s.k0s()(),s.j41(5,"div",12),s.DNE(6,Me,5,5,"button",13),s.DNE(7,zt,5,5,"button",14),s.DNE(8,yt,5,6,"flexed-on-the-top",15),s.k0s()()()}if(2&V){const j=s.XpG();s.R7$(3),s.Y8G("isServerSearch",!0)("placeholder",s.bMT(4,5,"lang_core_tim_theo_ten_phone_email")),s.R7$(3),s.Y8G("ngIf","ENTER_SCORE"==j.screenType),s.R7$(1),s.Y8G("ngIf","TABLE_SCORE"==j.screenType),s.R7$(1),s.Y8G("ngIf","ENTER_SCORE"==j.screenType)}}function jt(V,kt){if(1&V&&s.nrm(0,"azt-loading-effect",24),2&V){const j=s.XpG();s.Y8G("currentStatusObj",j.statusObj)}}function le(V,kt){1&V&&(s.j41(0,"div",30),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&V&&(s.R7$(1),s.JRh(s.bMT(2,1,"lang_student_classroom_list_detail_not_student")))}function ee(V,kt){if(1&V&&(s.j41(0,"div",47)(1,"span"),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s(),s.j41(4,"span",48),s.EFF(5),s.k0s()()),2&V){const j=s.XpG().$implicit;s.R7$(2),s.JRh(s.bMT(3,2,"lang_auto_he_so")),s.R7$(3),s.JRh(j.coefficient)}}function U(V,kt){if(1&V){const j=s.RV6();s.j41(0,"button",49),s.bIt("click",function(){s.eBV(j);const q=s.XpG().$implicit,Tt=s.XpG(3);return s.Njj(Tt.createNewScore(q))}),s.nI1(1,"mytranslate"),s.nrm(2,"lucide-icon",50),s.k0s()}2&V&&s.FS9("matTooltip",s.bMT(1,1,"lang_student_sua_dau_diem"))}const Dt=function(){return{"text-danger":!0}};function F(V,kt){if(1&V){const j=s.RV6();s.j41(0,"button",51),s.bIt("click",function(){s.eBV(j);const q=s.XpG().$implicit,Tt=s.XpG(3);return s.Njj(Tt.deleteMark(q))}),s.nI1(1,"mytranslate"),s.nrm(2,"lucide-icon",52),s.k0s()}2&V&&(s.FS9("matTooltip",s.bMT(1,2,"lang_button_delete")),s.R7$(2),s.Y8G("ngClass",s.lJ4(4,Dt)))}function ot(V,kt){if(1&V&&(s.j41(0,"th",39)(1,"div",40)(2,"div",41)(3,"div",42),s.EFF(4),s.k0s(),s.j41(5,"div",43),s.DNE(6,ee,6,4,"div",44),s.DNE(7,U,3,3,"button",45),s.DNE(8,F,3,5,"button",46),s.k0s()()()()),2&V){const j=kt.$implicit,Z=s.XpG(3);s.R7$(3),s.FS9("matTooltip",j.name),s.R7$(1),s.JRh(j.name),s.R7$(2),s.Y8G("ngIf",j.coefficient),s.R7$(1),s.Y8G("ngIf",!Z.isStudent),s.R7$(1),s.Y8G("ngIf",j.canEditName)}}function Gt(V,kt){1&V&&(s.j41(0,"th",53),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&V&&(s.R7$(1),s.JRh(s.bMT(2,1,"lang_business_diem_tong_ket")))}function Wt(V,kt){if(1&V&&(s.j41(0,"div",63),s.nrm(1,"azt-check-mark",64),s.k0s()),2&V){const j=s.XpG().$implicit;s.R7$(1),s.Y8G("mark",j.marks.length>0?j.marks[0]:"")}}function ve(V,kt){if(1&V&&(s.j41(0,"div",63),s.nrm(1,"azt-check-mark",64),s.k0s()),2&V){const j=s.XpG().$implicit,Z=s.XpG(4);s.R7$(1),s.Y8G("mark",Z.returnValue(j))}}function ze(V,kt){if(1&V){const j=s.RV6();s.j41(0,"input",65),s.bIt("input",function(q){s.eBV(j);const Tt=s.XpG().index,At=s.XpG().index,ne=s.XpG(3);return s.Njj(ne.handleMarkStudent(q,At,Tt))}),s.nI1(1,"mytranslate"),s.nI1(2,"mytranslate"),s.k0s()}if(2&V){const j=s.XpG().$implicit,Z=s.XpG().$implicit,q=s.XpG(3);s.FS9("matTooltip",s.bMT(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),s.FS9("id",j.id.toString()+"-"+Z.id.toString()),s.FS9("placeholder",s.bMT(2,7,"lang_auto_nhap_diem")),s.Y8G("matTooltipDisabled",!j.canEditMark)("value",q.returnValue(j))}}function en(V,kt){if(1&V&&(s.j41(0,"td",59),s.DNE(1,Wt,2,1,"div",60),s.DNE(2,ve,2,1,"div",60),s.DNE(3,ze,3,9,"input",61),s.nrm(4,"div",62),s.k0s()),2&V){const j=kt.$implicit,Z=s.XpG().$implicit,q=s.XpG(3);s.Y8G("hidden","TABLE_SCORE"==q.screenType),s.R7$(1),s.Y8G("ngIf","homework"==j.objectType),s.R7$(1),s.Y8G("ngIf","homework"!=j.objectType&&(!j.canEditMark||"ENTER_SCORE"!=q.screenType)),s.R7$(1),s.Y8G("ngIf","homework"!=j.objectType&&j.canEditMark),s.R7$(1),s.Mz_("id","error-",j.id.toString()+"-"+Z.id.toString(),""),s.Y8G("hidden",!0)}}function cn(V,kt){if(1&V&&(s.j41(0,"td")(1,"div",66),s.EFF(2),s.k0s()()),2&V){const j=s.XpG().$implicit;s.R7$(2),s.SpI(" ",j.averageMark," ")}}const Ge=function(){return[]};function nn(V,kt){if(1&V){const j=s.RV6();s.j41(0,"tr",54)(1,"td",55),s.bIt("click",function(){const Tt=s.eBV(j).$implicit,At=s.XpG(3);return s.Njj(At.openDialogTableSingle(Tt))}),s.nrm(2,"azt-student-info-box",56),s.k0s(),s.j41(3,"td",57),s.EFF(4),s.nI1(5,"formatStudentCodeToNumber"),s.k0s(),s.DNE(6,en,5,6,"td",58),s.DNE(7,cn,3,1,"td",28),s.k0s()}if(2&V){const j=kt.$implicit,Z=s.XpG(3);let q;s.Y8G("id","row_student_"+j.id),s.R7$(2),s.Y8G("name",j.fullName)("parentFullName",j.parentFullName)("parentId",j.parentId)("parentPhone",j.parentPhone)("avatar",j.avatar)("gender",j.gender)("hasUser",j.hasUser)("schoolName",j.schoolName)("classrooms",j.classrooms)("joinedAt",j.joinedAt),s.R7$(2),s.JRh(j.identificationNumber?s.i5U(5,14,j.identificationNumber,6):""),s.R7$(2),s.Y8G("ngForOf",null!==(q=j.marks)&&void 0!==q?q:s.lJ4(17,Ge)),s.R7$(1),s.Y8G("ngIf","TABLE_SCORE"==Z.screenType)}}function mn(V,kt){if(1&V&&(s.j41(0,"div",31)(1,"drag-scroll")(2,"table",32)(3,"thead")(4,"tr",33)(5,"th",34),s.EFF(6),s.nI1(7,"mytranslate"),s.k0s(),s.j41(8,"th",35),s.EFF(9),s.nI1(10,"mytranslate"),s.k0s(),s.DNE(11,ot,9,5,"th",36),s.DNE(12,Gt,3,3,"th",37),s.k0s()(),s.j41(13,"tbody"),s.DNE(14,nn,8,18,"tr",38),s.k0s()()()()),2&V){const j=s.XpG(2);let Z,q;s.R7$(6),s.JRh(s.bMT(7,5,"lang_auto_ho_va_ten")),s.R7$(3),s.JRh(s.bMT(10,7,"lang_auto_so_bao_danh")),s.R7$(2),s.Y8G("ngForOf",null!==(Z=null==j.dataMark?null:j.dataMark.list)&&void 0!==Z?Z:s.lJ4(9,Ge)),s.R7$(1),s.Y8G("ngIf","TABLE_SCORE"==j.screenType),s.R7$(2),s.Y8G("ngForOf",null!==(q=null==j.dataStudent?null:j.dataStudent.list)&&void 0!==q?q:s.lJ4(10,Ge))}}function _n(V,kt){if(1&V&&(s.j41(0,"div",69),s.nrm(1,"azt-student-info-box",70),s.j41(2,"div",71)(3,"div",72),s.EFF(4),s.nI1(5,"mytranslate"),s.k0s(),s.j41(6,"div",72),s.EFF(7),s.k0s()()()),2&V){const j=kt.$implicit;s.R7$(1),s.Y8G("name",j.fullName)("parentFullName",j.parentFullName)("parentId",j.parentId)("parentPhone",j.parentPhone)("phone",j.phone)("email",j.email)("avatar",j.avatar)("gender",j.gender)("hasUser",j.hasUser),s.R7$(3),s.SpI(" ",s.bMT(5,11,"lang_business_diem_tong_ket")," "),s.R7$(3),s.SpI(" ",j.averageMark," ")}}function dn(V,kt){1&V&&s.nrm(0,"lucide-icon",77)}function on(V,kt){1&V&&s.nrm(0,"lucide-icon",78)}function Ke(V,kt){if(1&V&&(s.j41(0,"div",88)(1,"span"),s.EFF(2),s.nI1(3,"mytranslate"),s.k0s(),s.j41(4,"span",48),s.EFF(5),s.k0s()()),2&V){const j=s.XpG().$implicit;s.R7$(2),s.JRh(s.bMT(3,2,"lang_auto_he_so")),s.R7$(3),s.JRh(j.coefficient)}}function Qe(V,kt){if(1&V&&(s.j41(0,"div",89),s.nrm(1,"azt-check-mark",64),s.k0s()),2&V){const j=s.XpG().$implicit;s.R7$(1),s.Y8G("mark",j.marks.length>0?j.marks[0]:"")}}function Ze(V,kt){if(1&V&&(s.j41(0,"div",89),s.nrm(1,"azt-check-mark",64),s.k0s()),2&V){const j=s.XpG().$implicit,Z=s.XpG(6);s.R7$(1),s.Y8G("mark",Z.returnValue(j))}}function nt(V,kt){if(1&V&&(s.j41(0,"tr")(1,"td")(2,"div",84)(3,"div"),s.EFF(4),s.DNE(5,Ke,6,4,"div",85),s.k0s()()(),s.j41(6,"td",86),s.DNE(7,Qe,2,1,"div",87),s.DNE(8,Ze,2,1,"div",87),s.k0s()()),2&V){const j=kt.$implicit;s.R7$(4),s.SpI(" ",j.name," "),s.R7$(1),s.Y8G("ngIf",j.coefficient),s.R7$(2),s.Y8G("ngIf","homework"==j.objectType),s.R7$(1),s.Y8G("ngIf","homework"!=j.objectType)}}function Yt(V,kt){if(1&V&&(s.j41(0,"div",80)(1,"table",81)(2,"thead")(3,"tr")(4,"th",82),s.EFF(5),s.nI1(6,"mytranslate"),s.k0s(),s.j41(7,"th",83),s.EFF(8),s.nI1(9,"mytranslate"),s.k0s()()(),s.j41(10,"tbody"),s.DNE(11,nt,9,4,"tr",68),s.k0s()()()),2&V){const j=s.XpG(2).$implicit;s.R7$(5),s.JRh(s.bMT(6,3,"lang_student_name_component_score")),s.R7$(3),s.JRh(s.bMT(9,5,"lang_testbank_update_exam_point")),s.R7$(3),s.Y8G("ngForOf",j.marks)}}function X(V,kt){if(1&V&&(s.qex(0),s.DNE(1,Yt,12,7,"div",79),s.bVm()),2&V){const j=s.XpG(4);s.R7$(1),s.Y8G("ngIf",j.isStudent)}}function lt(V,kt){if(1&V){const j=s.RV6();s.j41(0,"div")(1,"h3",73)(2,"span",74),s.bIt("click",function(){const Tt=s.eBV(j).$implicit;return s.Njj(Tt.expand=!Tt.expand)}),s.EFF(3),s.nI1(4,"mytranslate"),s.DNE(5,dn,1,0,"lucide-icon",75),s.DNE(6,on,1,0,"lucide-icon",76),s.k0s()(),s.DNE(7,X,2,1,"ng-container",28),s.k0s()}if(2&V){const j=kt.$implicit;s.R7$(3),s.Lme(" ",s.bMT(4,5,"lang_core_thang")," ",j.date," "),s.R7$(2),s.Y8G("ngIf",j.expand),s.R7$(1),s.Y8G("ngIf",!j.expand),s.R7$(1),s.Y8G("ngIf",j.expand)}}function mt(V,kt){if(1&V&&(s.j41(0,"div"),s.DNE(1,_n,8,13,"div",67),s.DNE(2,lt,8,7,"div",68),s.k0s()),2&V){const j=s.XpG(2);let Z;s.R7$(1),s.Y8G("ngForOf",null!==(Z=null==j.dataStudent?null:j.dataStudent.list)&&void 0!==Z?Z:s.lJ4(2,Ge)),s.R7$(1),s.Y8G("ngForOf",j.listGroupMarkDate)}}function Vt(V,kt){if(1&V){const j=s.RV6();s.j41(0,"azt-paging",93),s.bIt("goToPaginationPage",function(q){s.eBV(j);const Tt=s.XpG(3);return s.Njj(Tt.setPageStudent(q))}),s.k0s()}if(2&V){const j=s.XpG(3);s.Y8G("pageObj",j.pageObj)}}function xe(V,kt){if(1&V&&(s.j41(0,"div",12),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&V){const j=s.XpG(3);s.R7$(1),s.Lme("",j.dataStudent.total," ",s.bMT(2,2,"lang_notify_list_students"),"")}}function Jt(V,kt){if(1&V&&(s.j41(0,"div",90),s.nrm(1,"div"),s.DNE(2,Vt,1,1,"azt-paging",91),s.DNE(3,xe,3,4,"div",92),s.k0s()),2&V){const j=s.XpG(2);s.R7$(2),s.Y8G("ngIf",j.dataStudent.total>j.pageObj.pageSize),s.R7$(1),s.Y8G("ngIf",!j.isStudent)}}function Te(V,kt){if(1&V&&(s.j41(0,"div",25),s.DNE(1,le,3,3,"div",26),s.DNE(2,mn,15,11,"div",27),s.DNE(3,mt,3,3,"div",28),s.k0s(),s.DNE(4,Jt,4,2,"div",29)),2&V){const j=s.XpG();let Z,q,Tt;s.R7$(1),s.Y8G("ngIf",!j.isStudent&&0==(null==j.dataStudent||null==j.dataStudent.list?null:j.dataStudent.list.length)&&0==(null!==(Z=null==j.dataStudent?null:j.dataStudent.total)&&void 0!==Z?Z:0)),s.R7$(1),s.Y8G("ngIf",!j.isStudent&&(null!==(q=null==j.dataStudent||null==j.dataStudent.list?null:j.dataStudent.list.length)&&void 0!==q?q:0)>0),s.R7$(1),s.Y8G("ngIf",j.isStudent),s.R7$(1),s.Y8G("ngIf",j.dataStudent&&j.dataStudent.total&&(null!==(Tt=null==j.dataStudent?null:j.dataStudent.total)&&void 0!==Tt?Tt:0)>0)}}function ae(V,kt){if(1&V&&(s.j41(0,"th",96),s.EFF(1),s.nI1(2,"mytranslate"),s.k0s()),2&V){const j=kt.$implicit,Z=kt.index,q=s.XpG(2);s.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+Z)("excelStyle",q.styleThNormal),s.R7$(1),s.Lme(" ",j.name+"\n"," "," ("+s.bMT(2,6,"lang_auto_he_so")+" "+j.coefficient+")"," ")}}function De(V,kt){if(1&V&&s.nrm(0,"azt-check-mark",64),2&V){const j=s.XpG().$implicit;s.Y8G("mark",j.marks.length>0?j.marks[0]:"")}}function Zt(V,kt){if(1&V&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&V){const j=s.XpG().$implicit,Z=s.XpG(3);s.R7$(1),s.SpI(" ",Z.returnValue(j)," ")}}function pe(V,kt){if(1&V&&(s.j41(0,"td",96),s.DNE(1,De,1,1,"azt-check-mark",98),s.DNE(2,Zt,2,1,"span",28),s.k0s()),2&V){const j=kt.$implicit,Z=kt.index,q=s.XpG().index,Tt=s.XpG(2);s.BMQ("excelRow",q+1)("excelColumn",6+Z)("excelStyle",Tt.styleTdNormal),s.R7$(1),s.Y8G("ngIf","homework"==j.objectType),s.R7$(1),s.Y8G("ngIf","homework"!=j.objectType)}}function Se(V,kt){if(1&V&&(s.j41(0,"tr")(1,"td",96),s.EFF(2),s.k0s(),s.j41(3,"td",96),s.EFF(4),s.k0s(),s.j41(5,"td",96),s.EFF(6),s.k0s(),s.j41(7,"td",96),s.EFF(8),s.k0s(),s.j41(9,"td",96),s.EFF(10),s.nI1(11,"formatOnlyDateByUserUnitPipe"),s.k0s(),s.j41(12,"td",96),s.EFF(13),s.nI1(14,"mytranslate"),s.nI1(15,"mytranslate"),s.k0s(),s.DNE(16,pe,3,5,"td",97),s.j41(17,"td",96),s.EFF(18),s.k0s()()),2&V){const j=kt.$implicit,Z=kt.index,q=s.XpG(2);let Tt,At;s.R7$(1),s.BMQ("excelRow",Z+1)("excelColumn",0)("excelStyle",q.styleTdNormal),s.R7$(1),s.SpI(" ",null!=j&&j.fullName?Z+1:""," "),s.R7$(1),s.BMQ("excelRow",Z+1)("excelColumn",1)("excelStyle",q.styleTdNormalLeft),s.R7$(1),s.SpI(" ",null==j?null:j.fullName," "),s.R7$(1),s.BMQ("excelRow",Z+1)("excelColumn",2)("excelStyle",q.styleTdNotNumberNormal),s.R7$(1),s.SpI(" ",null==j?null:j.phone," "),s.R7$(1),s.BMQ("excelRow",Z+1)("excelColumn",3)("excelStyle",q.styleTdNormal),s.R7$(1),s.SpI(" ",null==j?null:j.email," "),s.R7$(1),s.BMQ("excelRow",Z+1)("excelColumn",4)("excelStyle",q.styleTdNormal),s.R7$(1),s.SpI(" ",s.bMT(11,29,null==j?null:j.birthday)," "),s.R7$(2),s.BMQ("excelRow",Z+1)("excelColumn",5)("excelStyle",q.styleTdNormal),s.R7$(1),s.SpI(" ",1==(null==j?null:j.gender)?s.bMT(14,31,"lang_student_export_excel_gender_male"):0==(null==j?null:j.gender)?s.bMT(15,33,"lang_student_export_excel_gender_female"):""," "),s.R7$(3),s.Y8G("ngForOf",null!==(Tt=j.marks)&&void 0!==Tt?Tt:s.lJ4(35,Ge)),s.R7$(1),s.BMQ("excelRow",Z+1)("excelColumn",6+(null!==(At=null==j.marks?null:j.marks.length)&&void 0!==At?At:0))("excelStyle",q.styleTdNotNumberNormal),s.R7$(1),s.SpI(" ",j.averageMark," ")}}function Pe(V,kt){if(1&V&&(s.j41(0,"table",94,95)(2,"thead")(3,"tr")(4,"th",96),s.EFF(5),s.nI1(6,"mytranslate"),s.k0s(),s.j41(7,"th",96),s.EFF(8),s.nI1(9,"mytranslate"),s.k0s(),s.j41(10,"th",96),s.EFF(11),s.nI1(12,"mytranslate"),s.k0s(),s.j41(13,"th",96),s.EFF(14),s.nI1(15,"mytranslate"),s.k0s(),s.j41(16,"th",96),s.EFF(17),s.nI1(18,"mytranslate"),s.k0s(),s.j41(19,"th",96),s.EFF(20),s.nI1(21,"mytranslate"),s.k0s(),s.DNE(22,ae,3,8,"th",97),s.j41(23,"th",96),s.EFF(24),s.nI1(25,"mytranslate"),s.k0s()()(),s.j41(26,"tbody"),s.DNE(27,Se,19,36,"tr",68),s.k0s()()),2&V){const j=s.XpG();let Z,q,Tt;s.Y8G("border",1),s.R7$(4),s.BMQ("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",j.styleThNormal),s.R7$(1),s.SpI(" ",s.bMT(6,38,"lang_student_export_excel_no")," "),s.R7$(2),s.BMQ("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",j.styleThNormal),s.R7$(1),s.SpI(" ",s.bMT(9,40,"lang_student_export_excel_full_name")," "),s.R7$(2),s.BMQ("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",j.styleThNormal),s.R7$(1),s.SpI(" ",s.bMT(12,42,"lang_number_phone")," "),s.R7$(2),s.BMQ("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",j.styleThNormal),s.R7$(1),s.SpI(" ",s.bMT(15,44,"lang_student_export_excel_email")," "),s.R7$(2),s.BMQ("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",j.styleThNormal),s.R7$(1),s.SpI(" ",s.bMT(18,46,"lang_student_export_excel_birthday")," "),s.R7$(2),s.BMQ("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",j.styleThNormal),s.R7$(1),s.SpI(" ",s.bMT(21,48,"lang_student_export_excel_gender")," "),s.R7$(2),s.Y8G("ngForOf",null!==(Z=null==j.dataMark?null:j.dataMark.list)&&void 0!==Z?Z:s.lJ4(52,Ge)),s.R7$(1),s.BMQ("excelWidth",20)("excelRow",0)("excelColumn",6+(null!==(q=null==j.dataMark||null==j.dataMark.list?null:j.dataMark.list.length)&&void 0!==q?q:0))("excelStyle",j.styleThNormal),s.R7$(1),s.SpI(" ",s.bMT(25,50,"lang_business_diem_tong_ket")," "),s.R7$(3),s.Y8G("ngForOf",null!==(Tt=null==j.dataStudent?null:j.dataStudent.list)&&void 0!==Tt?Tt:s.lJ4(53,Ge))}}let Ae=(()=>{class V extends i.H{goToProfile(j,Z){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+j+"/"+Z,"?backto="+encodeURIComponent("ENTER_SCORE"==this.screenType?"/admin/student/submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"/admin/student/classroom-details/"+this.classroomId+"/4"))}setPageStudent(j){this.myNavigationWithQueryString("/admin/student/"+("ENTER_SCORE"==this.screenType?"submit-score/"+this.classroomId+"/"+this.programId+"/"+this.sessionId:"classroom-details/"+this.classroomId+"/4"),"?page="+j),this.initStatusObj(),this.pageObj.setPageNumber(j),this.getListStudent()}openDialogTableSingle(j){"ENTER_SCORE"!=this.screenType?this.sAztDialogService.open(C.V,{width:"750px",restoreFocus:!1,data:{student:j,isTeacher:!0}}).afterClosed().subscribe(Z=>{Z&&this.getListStudent()}):(j.classroomId||j.id)&&this.goToProfile(j.classroomId,j.id)}onSearchBox(j){this.searchContentObj=j,this.setPageStudent(1),this.initStatusObj()}downloadTableScore(){e.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var j=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let Z=this.commonService.createFileNameExportFile(["bang_diem_lop_"+this.classroomObj?.name])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(j,Z),e.L.closeLoadingEffect(200)}handlePointByValueInput(j){var Z=j.target;let q=""===Z.value.trim()?"":Z.value;q=q.replace(/[^\d\s,\.]/g,""),q=q.replace(/,/g,"."),q=q.replace(/\s+/g," "),q=q.replace(/\.{2,}/g,"."),q=q.replace(/(?:^|\s)\./g," 0."),q=q.replace(/^\s+/,""),q=q.replace(/\.\s/g," ");var Tt=q.split(" ");if(Tt.length>0){var At=""!=Tt[Tt.length-1]?Tt[Tt.length-1]:Tt[Tt.length-2];Number(At)>-1?At.split(".").length>1&&At.split(".")[1].length>2&&(q=q.substring(0,q.length-1)):q=q.replace(/\.$/," ")}return Z.value=q,q.split(" ").filter(ye=>""!=ye).map(ye=>parseFloat(ye))}handleMarkStudent(j,Z,q){var Tt=this.handlePointByValueInput(j);Tt=0==Tt.length?[-1]:Tt;var At=this.dataStudent.list[Z],ne=this.dataMark.list[q],ue=this.listStudentMark.findIndex(sn=>sn.id==At.id);if(ue>-1){var ye=(this.listStudentMark[ue].listMarks??[]).findIndex(sn=>sn.id==ne.id);ye>-1?this.listStudentMark[ue].listMarks[ye].points=Tt:this.listStudentMark[ue].listMarks?.push({id:ne.id,points:Tt})}else this.listStudentMark.push({id:At.id,listMarks:[{id:ne.id,points:Tt}]})}returnValue(j){return(j.marks??[]).join(" ")}saveMark(){this.isSave=!0,this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listStudentMark}).subscribe({next:Z=>{this.getListStudent(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0),this.isSave=!1},error:Z=>{this.errorStatusObj(Z.error.message,!0),this.isSave=!1}}))}createNewScore(j){this.isStudent||this.sAztDialogService.open(T._,{data:j||{programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(q=>{q&&this.getListMark()})}getListMark(){this.waitDestroy(this.commonMarkService.apiCommonMarksListPost({page:this.pageMark,size:1e3,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId}).subscribe({next:Z=>{this.dataMark=Z,this.getListStudent()},error:Z=>{this.errorStatusObj(Z.error.message,!0)}}))}deleteMark(j){var Z=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+j.name+" </div> ?";this.sAztDialogService.open(a.u,{data:{content:Z},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(q=>{q&&this.waitDestroy(this.commonMarkService.apiCommonMarksIdDelete(j.id).subscribe({next:Tt=>{this.getListMark()},error:Tt=>{this.errorStatusObj(Tt.error.message,!0)}}))})}getClassroomObj(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(j=>{1==j.success&&(this.classroomObj=j.data?.obj)}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:this.isStudent,getAssessment:!1}).subscribe({next:Z=>{this.dataStudent=Z,this.pageObj.setTotalPages(this.dataStudent?.total??0),this.isStudent?this.handleGroupMarkByDate(Z.list):setTimeout(()=>this.scrollElementStudentById(),500),this.stopStatusObj()},error:Z=>{this.errorStatusObj(Z.error.message,!0)}}))}handleGroupMarkByDate(j){let Z=[];j.forEach(Tt=>{let At=Tt.marks?.map(ne=>({...ne,monthAndYear:this.sAztTimeService.formatDateToMonthYear(ne.createdAt)}))??[];Z=Z.concat(At)});let q=this.commonService.arrayToDictionary(Z,Tt=>Tt.monthAndYear);this.listGroupMarkDate=Object.entries(q).map(([Tt,At])=>({date:Tt,marks:At,expand:!1}))}scrollElementStudentById(){if(this.studentId){var j=document.getElementById("row_student_"+this.studentId);j&&j.scrollIntoView({behavior:"smooth",block:"start"})}}ngOnInit(){(0,O.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.studentId=this.commonService.getMyQueryParam("studentId"),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))}),super.ngOnInit(),"ENTER_SCORE"==this.screenType?this.getListMark():this.getListStudent(),this.getClassroomObj()}constructor(j,Z,q,Tt,At,ne,ue,ye){super(),this.commonMarkService=j,this.studentService=Z,this.sAztTimeService=q,this.sAztDialogService=Tt,this.classroomService=At,this.exportExcelService=ne,this.activeRoute=ue,this.shareFileFlutterService=ye,this.screenType="ENTER_SCORE",this.classroomId=0,this.programId=0,this.sessionId=0,this.isStudent=!0,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.pageMark=1,this.listStudentMark=[],this.listGroupMarkDate=[],this.isSave=!1,this.pageObj=new tt.d(50),this.searchContentObj=new t.Z}static#t=this.\u0275fac=function(Z){return new(Z||V)(s.rXU(Ct.a),s.rXU(wt.b),s.rXU(Rt.F),s.rXU(rt.i),s.rXU(xt.z),s.rXU(K.x),s.rXU(dt.nX),s.rXU(at.R))};static#e=this.\u0275cmp=s.VBU({type:V,selectors:[["app-table-score"]],viewQuery:function(Z,q){if(1&Z&&s.GBs(_e,5),2&Z){let Tt;s.mGM(Tt=s.lsd())&&(q.table_answer=Tt.first)}},inputs:{screenType:"screenType",classroomId:"classroomId",programId:"programId",sessionId:"sessionId",isStudent:"isStudent"},features:[s.Vt3],decls:8,vars:6,consts:[[1,"grid","grid-cols-12","gap-5","mt-5"],["class","col-span-12 md:col-span-6",4,"ngIf"],["class","col-span-12 lg:col-span-12 2xl:col-span-12",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","placeholder","onSearch"],[1,"flex","justify-end"],["azt-track-service","enter-score-ULGPeBf6V","class","btn btn-primary flex mr-2",3,"click",4,"ngIf"],["azt-track-service","table-score-n5S54LPUX","class","btn btn-primary flex btn-download-excel",3,"click",4,"ngIf"],[3,"colorBackground",4,"ngIf"],["azt-track-service","enter-score-ULGPeBf6V",1,"btn","btn-primary","flex","mr-2",3,"click"],["name","plus","size","20",3,"ngClass"],["azt-track-service","table-score-n5S54LPUX",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],["name","download","size","20",3,"ngClass"],[3,"colorBackground"],["azt-track-service","enter-score-OlvWZNI2DZ",1,"btn","btn-primary","shadow-md","sm:mt-0","ml-2",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["class","block","style","height: 100%",4,"ngIf"],[4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"mt-10","text-center"],[1,"block",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],[1,"whitespace-nowrap",2,"padding-left","25px"],[1,"whitespace-nowrap","text-center"],["class","text-center","style","max-width: 120px !important",4,"ngFor","ngForOf"],["class","text-center whitespace-nowrap",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],[1,"text-center",2,"max-width","120px !important"],[1,"flex","items-center","justify-center"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],[1,"flex","justify-between",2,"width","max-content"],["class","col-score","class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["azt-track-service","enter-score-YQX6a-qxwK","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],["azt-track-service","table-score-8Xr_zTWDT","class","inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],["azt-track-service","enter-score-YQX6a-qxwK",1,"inline-block","ml-1",3,"matTooltip","click"],["name","pencil","size","16"],["azt-track-service","table-score-8Xr_zTWDT",1,"inline-block","ml-1",3,"matTooltip","click"],["name","trash-2","size","16",3,"ngClass"],[1,"text-center","whitespace-nowrap"],[3,"id"],["azt-track-service","table-score-iwGAjYKV2",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",3,"hidden",4,"ngFor","ngForOf"],[1,"text-center",3,"hidden"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","color: black !important","type","text","class","form-control form-control-sm text-center",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"color","black !important",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input"],[1,"flex","justify-center","font-bold"],["class","box p-3 mb-5 flex justify-between",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"box","p-3","mb-5","flex","justify-between"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"text-center"],[1,"font-bold"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","table-score-4mYihdNPO",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","size","18",4,"ngIf"],["name","chevron-right","size","18",4,"ngIf"],["name","chevron-down","size","18"],["name","chevron-right","size","18"],["class","box mt-3 mb-1",4,"ngIf"],[1,"box","mt-3","mb-1"],[1,"table","table-report",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"width","100px"],[1,"flex","items-center"],["class","col-score","class","mt-0.5 text-xs text-slate-500",4,"ngIf"],[1,"text-center","font-bold"],["style","max-width: 100px",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500"],[2,"max-width","100px"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score",""],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[3,"mark",4,"ngIf"]],template:function(Z,q){if(1&Z&&(s.j41(0,"div",0),s.DNE(1,be,4,3,"div",1),s.DNE(2,Ce,4,3,"div",1),s.DNE(3,Nt,9,7,"div",2),s.k0s(),s.DNE(4,jt,1,1,"azt-loading-effect",3),s.DNE(5,Te,5,4,"ng-template",null,4,s.C5r),s.DNE(7,Pe,28,54,"table",5)),2&Z){const Tt=s.sdS(6);s.R7$(1),s.Y8G("ngIf","ENTER_SCORE"==q.screenType),s.R7$(1),s.Y8G("ngIf","TABLE_SCORE"==q.screenType),s.R7$(1),s.Y8G("ngIf",!q.isStudent),s.R7$(1),s.Y8G("ngIf",q.statusObj.loading)("ngIfElse",Tt),s.R7$(3),s.Y8G("ngIf","TABLE_SCORE"==q.screenType)}},dependencies:[$t.YU,$t.Sq,$t.bT,H.oV,Y.K,B.q,P.D,bt.R,gt.$,ut.W,vt.B,It.jd,It.Ew,Ft.WGl,Qt.wp,Qt.Po,Qt.vv],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}@media (max-width: 639px){.btn-download-excel[_ngcontent-%COMP%]{width:100%!important}}.box-point-homework[_ngcontent-%COMP%]{min-width:120px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}"]})}return V})()},57350:(Re,Bt,g)=>{g.d(Bt,{s:()=>a});var O=g(59640),i=g(26860),e=g(65162),tt=g(19857);let a=(()=>{class t extends O.H{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor(C){super(),this.activeRoute=C,this.classroomId=0}static#t=this.\u0275fac=function(s){return new(s||t)(i.rXU(e.nX))};static#e=this.\u0275cmp=i.VBU({type:t,selectors:[["app-grand-board"]],inputs:{isStudent:"isStudent"},features:[i.Vt3],decls:1,vars:5,consts:[[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(s,Ct){1&s&&i.nrm(0,"app-table-score",0),2&s&&i.Y8G("isStudent",Ct.isStudent)("screenType","TABLE_SCORE")("classroomId",Ct.classroomId)("programId",0)("sessionId",0)},dependencies:[tt.g],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]})}return t})()},25622:(Re,Bt,g)=>{g.d(Bt,{b:()=>gt});var O=g(59640),i=g(26860),e=g(95624),tt=g(65162),a=g(54460),t=g(18718),T=g(68323),C=g(94743),s=g(73437);function Ct(ut,vt){if(1&ut&&i.nrm(0,"azt-loading-effect",2),2&ut){const It=i.XpG();i.Y8G("currentStatusObj",It.statusObj)}}const wt=function(ut){return{"text-white":ut}};function Rt(ut,vt){if(1&ut&&(i.j41(0,"div",21),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&ut){const It=i.XpG(),Qt=It.$implicit;i.Y8G("ngClass",i.eq3(4,wt,0===It.index)),i.R7$(1),i.JRh(Qt.averageMark+" "+i.bMT(2,2,"lang_auto_diem"))}}function rt(ut,vt){if(1&ut&&(i.j41(0,"div",21),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()),2&ut){const It=i.XpG();i.Y8G("ngClass",i.eq3(4,wt,0===It.index&&It.$implicit.averageMark)),i.R7$(1),i.JRh(i.bMT(2,2,"lang_not_data"))}}function xt(ut,vt){1&ut&&(i.j41(0,"div",22),i.nrm(1,"azt-svg-icon",23),i.k0s()),2&ut&&(i.R7$(1),i.Y8G("size",40))}function K(ut,vt){1&ut&&(i.j41(0,"div",24),i.nrm(1,"azt-svg-icon",25),i.k0s()),2&ut&&(i.R7$(1),i.Y8G("size",40))}function dt(ut,vt){1&ut&&(i.j41(0,"div",26),i.nrm(1,"azt-svg-icon",27),i.k0s()),2&ut&&(i.R7$(1),i.Y8G("size",40))}const at=function(ut){return{cursor:ut}},$t=function(ut,vt,It){return{"p-5 bg-primary text-white":ut,"p-3":vt,"border border-primary p-4 border-w-2":It}},H=function(ut){return{"text-base":ut}};function Y(ut,vt){if(1&ut){const It=i.RV6();i.j41(0,"div",8),i.bIt("click",function(){const _e=i.eBV(It).$implicit,be=i.XpG(3);return i.Njj(be.goToProfile(_e.classroomId,_e.id))}),i.j41(1,"div",9)(2,"span",10),i.EFF(3),i.k0s()(),i.j41(4,"div",11)(5,"div",12),i.nrm(6,"azt-create-avatar",13),i.k0s(),i.j41(7,"div",14)(8,"div",15),i.EFF(9),i.k0s(),i.DNE(10,Rt,3,6,"div",16),i.DNE(11,rt,3,6,"div",16),i.k0s()(),i.j41(12,"div",17),i.DNE(13,xt,2,1,"div",18),i.DNE(14,K,2,1,"div",19),i.DNE(15,dt,2,1,"div",20),i.k0s()()}if(2&ut){const It=vt.$implicit,Ft=vt.index,Qt=i.XpG(3);i.Y8G("ngStyle",i.eq3(13,at,Qt.isStudent?"default":"pointer"))("ngClass",i.sMw(15,$t,0===Ft&&It.averageMark,0!==Ft||!It.averageMark,(2===Ft||1===Ft)&&It.averageMark)),i.R7$(3),i.JRh(Ft+1),i.R7$(3),i.Y8G("linkAvatar",It.avatar)("nameCreateAvatar",It.fullName)("size",0===Ft?48:44),i.R7$(2),i.Y8G("ngClass",i.eq3(19,H,0===Ft)),i.R7$(1),i.JRh(It.fullName),i.R7$(1),i.Y8G("ngIf",It.averageMark),i.R7$(1),i.Y8G("ngIf",!It.averageMark),i.R7$(2),i.Y8G("ngIf",0===Ft&&It.averageMark),i.R7$(1),i.Y8G("ngIf",1===Ft&&It.averageMark),i.R7$(1),i.Y8G("ngIf",2===Ft&&It.averageMark)}}function B(ut,vt){if(1&ut&&(i.j41(0,"div",5)(1,"div",6),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s(),i.DNE(4,Y,16,21,"div",7),i.k0s()),2&ut){const It=i.XpG(2);i.R7$(2),i.SpI(" ",i.bMT(3,2,"lang_azt_leaderboard")," "),i.R7$(2),i.Y8G("ngForOf",It.dataStudent.list)}}function P(ut,vt){1&ut&&(i.j41(0,"div",28)(1,"div",29),i.nrm(2,"azt-svg-icon",30),i.j41(3,"p",31),i.EFF(4),i.nI1(5,"mytranslate"),i.k0s()()()),2&ut&&(i.R7$(2),i.Y8G("size",82),i.R7$(2),i.JRh(i.bMT(5,2,"lang_not_data")+"!"))}function bt(ut,vt){if(1&ut&&(i.DNE(0,B,5,4,"div",3),i.DNE(1,P,6,4,"ng-template",null,4,i.C5r)),2&ut){const It=i.sdS(2),Ft=i.XpG();i.Y8G("ngIf",Ft.dataStudent&&Ft.dataStudent.list&&Ft.dataStudent.list.length)("ngIfElse",It)}}let gt=(()=>{class ut extends O.H{goToProfile(It,Ft){this.isStudent||this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+It+"/"+Ft,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${It}/5`))}getListStudent(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:1e3,name:"",programId:0,classroomId:this.classroomId,sessionId:0,getBook:!1,getMark:!0,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!1,order:{fieldName:"averageMark",descending:!0,ignore:!1}}).subscribe({next:Ft=>{this.dataStudent=Ft,this.stopStatusObj()},error:Ft=>{this.errorStatusObj(Ft.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getListStudent()}constructor(It,Ft){super(),this.studentService=It,this.activeRoute=Ft,this.classroomId=0}static#t=this.\u0275fac=function(Ft){return new(Ft||ut)(i.rXU(e.b0),i.rXU(tt.nX))};static#e=this.\u0275cmp=i.VBU({type:ut,selectors:[["app-leader-board"]],inputs:{isStudent:"isStudent"},features:[i.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["class","p-4 leaderboard rounded-lg",4,"ngIf","ngIfElse"],["emptyData",""],[1,"p-4","leaderboard","rounded-lg"],[1,"text-xl","text-center","font-medium"],["azt-track-service","leaderboard-dDzfaXSYR","class","flex items-center box rounded-25px mt-4 intro-x zoom-in p-3","style","min-height: 92px",3,"ngStyle","ngClass","click",4,"ngFor","ngForOf"],["azt-track-service","leaderboard-dDzfaXSYR",1,"flex","items-center","box","rounded-25px","mt-4","intro-x","zoom-in","p-3",2,"min-height","92px",3,"ngStyle","ngClass","click"],[1,"w-5","h-5","rounded-full","border","border-w-2","border-slate-200","dark:border-slate-400","flex","items-center","justify-center"],[1,"text-xs","font-medium"],[1,"mx-3","flex","items-center"],[1,"image-fit","zoom-in"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4"],[1,"font-medium",3,"ngClass"],["class","text-slate-600 mt-0.5 text-xs font-medium",3,"ngClass",4,"ngIf"],[1,"ml-auto"],["class","icon-top-1",4,"ngIf"],["class","icon-top-2",4,"ngIf"],["class","icon-top-3",4,"ngIf"],[1,"text-slate-600","mt-0.5","text-xs","font-medium",3,"ngClass"],[1,"icon-top-1"],["type","crown-gold",3,"size"],[1,"icon-top-2"],["type","crown-silver",3,"size"],[1,"icon-top-3"],["type","crown-copper",3,"size"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","inbox-empty",3,"size"],[1,"font-medium","mt-5"]],template:function(Ft,Qt){if(1&Ft&&(i.DNE(0,Ct,1,1,"azt-loading-effect",0),i.DNE(1,bt,3,2,"ng-template",null,1,i.C5r)),2&Ft){const _e=i.sdS(2);i.Y8G("ngIf",Qt.statusObj.loading)("ngIfElse",_e)}},dependencies:[a.YU,a.Sq,a.bT,a.B3,t.K,T.p,C.m,s.wp],styles:[".leaderboard[_ngcontent-%COMP%]{background:#dae3fe;border-radius:30px}.rounded-25px[_ngcontent-%COMP%]{border-radius:25px}"]})}return ut})()},95054:(Re,Bt,g)=>{g.d(Bt,{K:()=>pn});var O=g(26988),i=g(59640),e=function(D){return D[D.ADD_NEW=0]="ADD_NEW",D[D.UPDATE=1]="UPDATE",D[D.DELETE=2]="DELETE",D}(e||{}),tt=g(10936),a=g(26860),t=g(95624),T=g(54460),C=g(47712),s=g(18718),Ct=g(52811),wt=g(94743),Rt=g(15343),rt=g(15766),xt=g(39712),K=g(36484),dt=g(97839),at=g(99965),$t=g(63349),H=g(53043),Y=g(46899);const B=function(){return{"stroke-1.5":!0}};function P(D,Lt){if(1&D){const R=a.RV6();a.j41(0,"div",2)(1,"div",3)(2,"a",4),a.bIt("click",function(){const Ot=a.eBV(R).$implicit,de=a.XpG();return a.Njj(de.onShowFile(Ot,-1))}),a.j41(3,"div",5),a.nrm(4,"img",6),a.j41(5,"span",7),a.bIt("click",function(){const Ot=a.eBV(R).$implicit,de=a.XpG();return a.Njj(de.removeFile(Ot))}),a.nrm(6,"lucide-icon",8),a.k0s()()()()()}if(2&D){const R=Lt.$implicit;a.R7$(4),a.Y8G("src",R.url,a.B4B),a.R7$(2),a.Y8G("ngClass",a.lJ4(2,B))}}let bt=(()=>{class D extends i.H{onShowFile(R,M){let w={...R,index:M};this.sAztDialogService.open(H.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:w},restoreFocus:!1})}removeFile(R){this.files=this.files.filter(M=>M.url!=R.url),this.filesChange.emit(this.files)}constructor(R){super(),this.sAztDialogService=R,this.filesChange=new a.bkB}static#t=this.\u0275fac=function(M){return new(M||D)(a.rXU(Y.i))};static#e=this.\u0275cmp=a.VBU({type:D,selectors:[["app-new-list-images"]],inputs:{files:"files"},outputs:{filesChange:"filesChange"},features:[a.Vt3],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","gap-3","mb-3"],["class","col-span-12 md:col-span-6 xl:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","xl:col-span-4","lg:col-span-2"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-1","pr-2","pl-2"],["azt-track-service","list-images-jCIgoLK9i",1,"flex","w-full","items-center",3,"click"],[1,"w-full","h-28","image-fit","zoom-in"],[1,"rounded-md",3,"src"],["azt-track-service","list-images-3VlAbiB3VZ",1,"cursor-pointer","absolute","top-0","right-0","-mt-2","-mr-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-danger","text-white",3,"click"],["name","x","size","16",3,"ngClass"]],template:function(M,w){1&M&&(a.j41(0,"div",0),a.DNE(1,P,7,3,"div",1),a.k0s()),2&M&&(a.R7$(1),a.Y8G("ngForOf",w.files))},dependencies:[T.YU,T.Sq,Rt.WGl],encapsulation:2})}return D})();var gt=g(73437);function ut(D,Lt){if(1&D){const R=a.RV6();a.j41(0,"app-new-list-images",13),a.bIt("filesChange",function(w){a.eBV(R);const Ot=a.XpG();return a.Njj(Ot.files=w)}),a.k0s()}if(2&D){const R=a.XpG();a.Y8G("files",R.files)}}function vt(D,Lt){1&D&&a.nrm(0,"azt-loading-ui",14)}const It=function(D){return[D]},Ft=function(){return{"zoom-in":!0}};let Qt=(()=>{class D extends i.H{saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();var R={content:this.contentFormControl.value??"",classroomId:this.classroomId,imageLinks:this.files.map(M=>M.url).filter(this.commonService.notEmpty),isLockComment:this.isLockComment?1:0,isSchool:this.isSchool};this.waitDestroy(this.newsService.apiNewsPost(R).subscribe({next:M=>{this.successStatusObj("lang_business_news_add_new_post_success",!0),this.contentFormControl.setValue(""),this.files=[],this.changePostObjEvent.emit({...M,isShowEditForm:!1,hasLoveEmotion:!1,isShowCommentBox:!1})},error:M=>{this.errorStatusObj(M.error.message,!0)}}))}}handleUploadComplete(R){this.files.push(...R)}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(R,M){super(),this.newsService=R,this.userService=M,this.changePostObjEvent=new a.bkB,this.contentFormControl=new tt.MJ("",{nonNullable:!0,validators:[rt.M.noWhiteSpace]}),this.files=[],this.isLockComment=!1,this.allUploadToCdnMenuTypes=xt.b8,this.allUploadFileTypes=xt.PO}static#t=this.\u0275fac=function(M){return new(M||D)(a.rXU(t.bH),a.rXU(K.R))};static#e=this.\u0275cmp=a.VBU({type:D,selectors:[["app-news-add-new-post"]],inputs:{classroomId:"classroomId",isSchool:"isSchool"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[a.Vt3],decls:19,vars:23,consts:[[1,"box"],[1,"relative","w-full","pt-3","pr-3","pl-3"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","pt-3",3,"files","filesChange",4,"ngIf"],[1,"text-right","box-button"],[1,"w-full","flex","sm:justify-between","justify-end","items-center"],[1,"btn","btn-outline-secondary","btn-sm","mr-2","p-0","border-0",3,"matTooltip","click"],["size","24",3,"name"],[3,"uploadToCdnMenu","fileType","uploadComplete"],["azt-track-service","add-new-post-YUr68bfqj5",1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","add-new-post-D1kcZnYwie","type","button",1,"btn","btn-primary","btn-sm","w-24",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"pt-3",3,"files","filesChange"],[1,"mr-1"]],template:function(M,w){1&M&&(a.j41(0,"div",0)(1,"div",1)(2,"textarea",2),a.nI1(3,"mytranslate"),a.EFF(4,"        "),a.k0s(),a.DNE(5,ut,1,1,"app-new-list-images",3),a.k0s(),a.j41(6,"div",4)(7,"div",5)(8,"button",6),a.bIt("click",function(){return w.isLockComment=!w.isLockComment}),a.nI1(9,"mytranslate"),a.nrm(10,"lucide-icon",7),a.k0s(),a.j41(11,"azt-upload-multiple-box",8),a.bIt("uploadComplete",function(de){return w.handleUploadComplete(de)}),a.j41(12,"span",9),a.nrm(13,"lucide-icon",10),a.nI1(14,"mytranslate"),a.k0s()(),a.j41(15,"button",11),a.bIt("click",function(){return w.saveNewPost()}),a.DNE(16,vt,1,0,"azt-loading-ui",12),a.EFF(17),a.nI1(18,"mytranslate"),a.k0s()()()()),2&M&&(a.R7$(2),a.FS9("placeholder",a.bMT(3,12,"lang_business_news_post_content")),a.Y8G("formControl",w.contentFormControl),a.R7$(3),a.Y8G("ngIf",w.files.length),a.R7$(3),a.FS9("matTooltip",a.bMT(9,14,w.isLockComment?"lang_student_comment_lock":"lang_student_unlock_comments")),a.R7$(2),a.Y8G("name",w.isLockComment?"lock":"lock-open"),a.R7$(1),a.Y8G("uploadToCdnMenu",w.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",a.eq3(20,It,w.allUploadFileTypes.IMAGE)),a.R7$(2),a.FS9("matTooltip",a.bMT(14,16,"lang_core_tai_anh")),a.Y8G("ngClass",a.lJ4(22,Ft)),a.R7$(2),a.Y8G("disabled",""==w.contentFormControl.value||w.statusObj.loading),a.R7$(1),a.Y8G("ngIf",w.statusObj.loading),a.R7$(1),a.SpI(" ",a.bMT(18,18,"lang_business_news_add_new_post_button")," "))},dependencies:[T.YU,T.bT,dt.fg,C.oV,tt.me,tt.BC,tt.l_,at.j,Ct.R,$t.V,Rt.WGl,bt,gt.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0;height:25px}.box-button[_ngcontent-%COMP%]{padding:5px 10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}"]})}return D})();var _e=g(89163),be=g(33887),Ce=g(2915);function Fe(D,Lt){1&D&&a.nrm(0,"azt-loading-ui",9)}let Me=(()=>{class D extends be._{btnCloseDialog(R){this.dialogRef.close(R)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsIdDelete(this.postObj.id).subscribe({next:R=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:R=>{this.errorStatusObj(R.error.message,!0)}}))}constructor(R,M,w){super(w,M),this.newsService=R,this.dialogRef=M,this.data=w,this.postObj=w}static#t=this.\u0275fac=function(M){return new(M||D)(a.rXU(t.bH),a.rXU(_e.CP,8),a.rXU(_e.Vh,8))};static#e=this.\u0275cmp=a.VBU({type:D,selectors:[["app-delete-news-post-confirm-dialog"]],features:[a.Vt3],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(M,w){1&M&&(a.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),a.EFF(5),a.nI1(6,"mytranslate"),a.j41(7,"b",4),a.EFF(8),a.k0s(),a.EFF(9,"? "),a.k0s()()()(),a.j41(10,"div",5)(11,"button",6),a.bIt("click",function(){return w.btnCloseDialog(!1)}),a.EFF(12),a.nI1(13,"mytranslate"),a.k0s(),a.j41(14,"button",7),a.bIt("click",function(){return w.confirmDelete()}),a.DNE(15,Fe,1,0,"azt-loading-ui",8),a.EFF(16),a.nI1(17,"mytranslate"),a.k0s()()()),2&M&&(a.R7$(5),a.SpI(" ",a.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post"),"\xa0 "),a.R7$(3),a.JRh(w.postObj.content),a.R7$(4),a.SpI(" ",a.bMT(13,7,"lang_cms_common_close_btn")," "),a.R7$(3),a.Y8G("ngIf",w.statusObj.loading),a.R7$(1),a.SpI(" ",a.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[T.bT,Ce.U,Ct.R,gt.wp],encapsulation:2})}return D})();var zt=g(17818),qt=g(68323),yt=g(49221),Nt=function(D){return D[D.ADD_NEW=0]="ADD_NEW",D[D.UPDATE=1]="UPDATE",D[D.DELETE=2]="DELETE",D}(Nt||{}),jt=g(74960),le=g(43558);function ee(D,Lt){1&D&&a.nrm(0,"azt-loading-ui",9)}const U=function(){return{"text-primary flex-none zoom-in":!0}};let Dt=(()=>{class D extends i.H{saveNewComment(){this.commentContentFormControl.value.trim()&&(this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsPost(this.postObj.id,{content:this.commentContentFormControl.value}).subscribe({next:M=>{this.successStatusObj(),this.commentContentFormControl.setValue(""),this.changeCommentObjEvent.emit({...M,isShowEditForm:!1,allowDelete:!0,allowEdit:!0})},error:M=>{this.errorStatusObj(M.error.message,!0)}})))}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(R,M){super(),this.newsService=R,this.userService=M,this.changeCommentObjEvent=new a.bkB,this.commentContentFormControl=new tt.MJ("",{nonNullable:!0,validators:[rt.M.noWhiteSpace]})}static#t=this.\u0275fac=function(M){return new(M||D)(a.rXU(t.bH),a.rXU(K.R))};static#e=this.\u0275cmp=a.VBU({type:D,selectors:[["app-news-add-new-comments"]],inputs:{postObj:"postObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[a.Vt3],decls:12,vars:15,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","",2,"resize","auto","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],["azt-track-service","add-new-comment-tIKt3rAhD",1,"btn","btn-secondary","btn-sm","zoom-in",3,"matTooltip","disabled","click"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(M,w){1&M&&(a.j41(0,"div",0),a.nrm(1,"azt-create-avatar",1),a.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),a.bIt("enterKey",function(){return!(""==w.commentContentFormControl.value||w.statusObj.loading)&&w.saveNewComment()}),a.nI1(5,"mytranslate"),a.EFF(6,"            "),a.k0s()(),a.j41(7,"div",5)(8,"button",6),a.bIt("click",function(){return w.saveNewComment()}),a.nI1(9,"mytranslate"),a.DNE(10,ee,1,0,"azt-loading-ui",7),a.nrm(11,"lucide-icon",8),a.k0s()()()()),2&M&&(a.R7$(1),a.Y8G("nameCreateAvatar",w.userObj.fullName)("linkAvatar",w.userObj.avatar)("size",30),a.R7$(3),a.FS9("placeholder",a.bMT(5,10,"lang_core_viet_binh_luan")),a.Y8G("enableInMobile",!1)("formControl",w.commentContentFormControl),a.R7$(4),a.FS9("matTooltip",a.bMT(9,12,"lang_business_news_add_new_post_button")),a.Y8G("disabled",""==w.commentContentFormControl.value||w.statusObj.loading),a.R7$(2),a.Y8G("ngIf",w.statusObj.loading),a.R7$(1),a.Y8G("ngClass",a.lJ4(14,U)))},dependencies:[T.YU,T.bT,dt.fg,jt.rl,C.oV,tt.me,tt.BC,tt.l_,qt.p,at.j,le.Z,Ct.R,Rt.WGl,gt.wp],encapsulation:2})}return D})();function F(D,Lt){1&D&&a.nrm(0,"azt-loading-ui",9)}let ot=(()=>{class D extends be._{btnCloseDialog(R){this.dialogRef.close(R)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdDelete(this.postObj.id,this.commentObj.id).subscribe({next:R=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:R=>{this.errorStatusObj(R.error.message,!0)}}))}constructor(R,M,w){super(w,M),this.newsService=R,this.dialogRef=M,this.data=w,this.postObj=w.postObj,this.commentObj=w.commentObj}static#t=this.\u0275fac=function(M){return new(M||D)(a.rXU(t.bH),a.rXU(_e.CP,8),a.rXU(_e.Vh,8))};static#e=this.\u0275cmp=a.VBU({type:D,selectors:[["app-delete-news-post-comment-confirm-dialog"]],features:[a.Vt3],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","flex","justify-end"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(M,w){1&M&&(a.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),a.EFF(5),a.nI1(6,"mytranslate"),a.j41(7,"b",4),a.EFF(8),a.k0s(),a.EFF(9,"? "),a.k0s()()()(),a.j41(10,"div",5)(11,"button",6),a.bIt("click",function(){return w.btnCloseDialog(!1)}),a.EFF(12),a.nI1(13,"mytranslate"),a.k0s(),a.j41(14,"button",7),a.bIt("click",function(){return w.confirmDelete()}),a.DNE(15,F,1,0,"azt-loading-ui",8),a.EFF(16),a.nI1(17,"mytranslate"),a.k0s()()()),2&M&&(a.R7$(5),a.SpI(" ",a.bMT(6,5,"lang_business_news_are_your_sure_to_delete_news_post_comment"),"\xa0 "),a.R7$(3),a.JRh(w.commentObj.content),a.R7$(4),a.SpI(" ",a.bMT(13,7,"lang_cms_common_close_btn")," "),a.R7$(3),a.Y8G("ngIf",w.statusObj.loading),a.R7$(1),a.SpI(" ",a.bMT(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[T.bT,Ce.U,Ct.R,gt.wp],encapsulation:2})}return D})();const Gt=function(){return{"text-slate-500":!0}};function Wt(D,Lt){if(1&D&&(a.j41(0,"button",15),a.nrm(1,"lucide-icon",16),a.k0s()),2&D){a.XpG();const R=a.sdS(12);a.Y8G("matMenuTriggerFor",R),a.R7$(1),a.Y8G("ngClass",a.lJ4(2,Gt))}}const ve=function(){return{"mr-2":!0}};function ze(D,Lt){if(1&D){const R=a.RV6();a.j41(0,"li")(1,"a",17),a.bIt("click",function(){a.eBV(R);const w=a.XpG();return a.Njj(w.editCommentEvent())}),a.nrm(2,"lucide-icon",18),a.EFF(3),a.nI1(4,"mytranslate"),a.k0s()()}2&D&&(a.R7$(2),a.Y8G("ngClass",a.lJ4(4,ve)),a.R7$(1),a.SpI(" ",a.bMT(4,2,"lang_auto_sua")," "))}const en=function(){return{"mr-2 text-danger":!0}};function cn(D,Lt){if(1&D){const R=a.RV6();a.j41(0,"li")(1,"a",19),a.bIt("click",function(){a.eBV(R);const w=a.XpG();return a.Njj(w.deleteCommentEvent())}),a.nrm(2,"lucide-icon",20),a.EFF(3),a.nI1(4,"mytranslate"),a.k0s()()}2&D&&(a.R7$(2),a.Y8G("ngClass",a.lJ4(4,en)),a.R7$(1),a.SpI(" ",a.bMT(4,2,"lang_auto_xoa")," "))}let Ge=(()=>{class D extends i.H{editCommentEvent(){this.commentObj.isShowEditForm=!0,this.changeCommentObjEvent.emit({actionType:Nt.UPDATE,commentObj:this.commentObj})}deleteCommentEvent(){this.sAztDialogService.open(ot,{width:"700px",data:{postObj:this.postObj,commentObj:this.commentObj},restoreFocus:!1}).afterClosed().subscribe(M=>{M&&this.changeCommentObjEvent.emit({actionType:Nt.DELETE,commentObj:this.commentObj})})}constructor(R){super(),this.sAztDialogService=R,this.changeCommentObjEvent=new a.bkB}static#t=this.\u0275fac=function(M){return new(M||D)(a.rXU(Y.i))};static#e=this.\u0275cmp=a.VBU({type:D,selectors:[["app-news-view-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[a.Jv_([O.h]),a.Vt3],decls:20,vars:13,consts:[[1,"flex","mb-3","comment-body"],[1,"image-fit","mt-2"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"flex","items-center","justify-start"],[1,"box-content","px-3","py-2","ml-3"],[1,"font-medium","whitespace-nowrap"],[3,"content","maxLine","backgroundColor"],[1,"btn-show","ml-1"],["class","clickable p-1 hover:bg-slate-100 dark:hover:bg-darkmode-400","style","border-radius: 50%","data-tw-toggle","dropdown",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],[4,"ngIf"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5","ml-3"],["data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["azt-track-service","comments-post-dialog-a0fkWfZtZk",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","comments-post-dialog-_pPBuSnF37",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"]],template:function(M,w){1&M&&(a.j41(0,"div",0)(1,"div",1),a.nrm(2,"azt-create-avatar",2),a.k0s(),a.j41(3,"div")(4,"div",3)(5,"div",4)(6,"div",5),a.EFF(7),a.k0s(),a.nrm(8,"azt-see-more-multiple-lines",6),a.k0s(),a.j41(9,"div",7),a.DNE(10,Wt,2,3,"button",8),a.j41(11,"mat-menu",9,10)(13,"div",11)(14,"ul",12),a.DNE(15,ze,5,5,"li",13),a.DNE(16,cn,5,5,"li",13),a.k0s()()()()(),a.j41(17,"div",14),a.EFF(18),a.nI1(19,"relativeTime"),a.k0s()()()),2&M&&(a.R7$(2),a.Y8G("nameCreateAvatar",null==w.commentObj.user?null:w.commentObj.user.fullName)("linkAvatar",null==w.commentObj.user?null:w.commentObj.user.avatar)("size",30),a.R7$(5),a.SpI(" ",null==w.commentObj.user?null:w.commentObj.user.fullName,"\xa0 "),a.R7$(1),a.Y8G("content",w.commentObj.content)("maxLine",5)("backgroundColor","#f5f5f5"),a.R7$(2),a.Y8G("ngIf",w.commentObj.allowDelete||w.commentObj.allowEdit),a.R7$(5),a.Y8G("ngIf",w.commentObj.allowEdit),a.R7$(1),a.Y8G("ngIf",w.commentObj.allowDelete),a.R7$(2),a.JRh(a.bMT(19,11,w.commentObj.createdAt)))},dependencies:[T.YU,T.bT,zt.kk,zt.Cp,qt.p,yt.R,Rt.WGl,gt.wp,gt.NA],styles:[".btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:transparent}.comment-body[_ngcontent-%COMP%]:hover   .btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgb(var(--color-slate-500)/var(--tw-text-opacity))}.box-content[_ngcontent-%COMP%]{border-radius:5px;background-color:#f5f5f5}"]})}return D})();function nn(D,Lt){1&D&&a.nrm(0,"azt-loading-ui",11)}const mn=function(){return{"text-primary":!0}};let _n=(()=>{class D extends i.H{cancel(){this.commentObj.isShowEditForm=!1,this.changeCommentObjEvent.emit(this.commentObj)}saveNewComment(){if(this.commentContentFormControl.value.trim()){this.initStatusObj();var R={content:this.commentContentFormControl.value};this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdPut(this.postObj.id,this.commentObj.id,R).subscribe({next:M=>{this.successStatusObj(),this.commentObj.isShowEditForm=!1,this.commentObj.content=R.content,this.changeCommentObjEvent.emit(this.commentObj),this.commentContentFormControl.setValue("")},error:M=>{this.errorStatusObj(M.error.message,!0)}}))}}ngOnInit(){this.userObj=this.userService.getUserObj(),this.commentContentFormControl.setValue(this.commentObj.content)}constructor(R,M){super(),this.newsService=R,this.userService=M,this.changeCommentObjEvent=new a.bkB,this.commentContentFormControl=new tt.MJ("",{nonNullable:!0,validators:[rt.M.noWhiteSpace]})}static#t=this.\u0275fac=function(M){return new(M||D)(a.rXU(t.bH),a.rXU(K.R))};static#e=this.\u0275cmp=a.VBU({type:D,selectors:[["app-news-edit-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[a.Vt3],decls:16,vars:18,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","","row","5",2,"resize","none","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"flex","justify-end","p-1","absolute",2,"bottom","5px","right","5px"],[1,"flex","items-center","justify-center"],["azt-track-service","edit-comment-725iQWOtdo","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-comment-FFY36YTq2a",1,"btn","btn-outline-secondary","btn-sm",3,"matTooltip","disabled","click"],["class","mr-1",4,"ngIf"],["name","send","size","18",3,"ngClass"],[1,"mr-1"]],template:function(M,w){1&M&&(a.j41(0,"div",0),a.nrm(1,"azt-create-avatar",1),a.j41(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),a.bIt("enterKey",function(){return!(""==w.commentContentFormControl.value||w.statusObj.loading)&&w.saveNewComment()}),a.nI1(5,"mytranslate"),a.EFF(6,"            "),a.k0s()(),a.j41(7,"div",5)(8,"div",6)(9,"button",7),a.bIt("click",function(){return w.cancel()}),a.EFF(10),a.nI1(11,"mytranslate"),a.k0s(),a.j41(12,"button",8),a.bIt("click",function(){return w.saveNewComment()}),a.nI1(13,"mytranslate"),a.DNE(14,nn,1,0,"azt-loading-ui",9),a.nrm(15,"lucide-icon",10),a.k0s()()()()()),2&M&&(a.R7$(1),a.Y8G("nameCreateAvatar",w.userObj.fullName)("linkAvatar",w.userObj.avatar)("size",30),a.R7$(3),a.FS9("placeholder",a.bMT(5,11,"lang_core_viet_binh_luan")),a.Y8G("enableInMobile",!1)("formControl",w.commentContentFormControl),a.R7$(6),a.SpI(" ",a.bMT(11,13,"lang_cms_common_close_btn")," "),a.R7$(2),a.FS9("matTooltip",a.bMT(13,15,"lang_business_news_add_new_post_button")),a.Y8G("disabled",""==w.commentContentFormControl.value||w.statusObj.loading),a.R7$(2),a.Y8G("ngIf",w.statusObj.loading),a.R7$(1),a.Y8G("ngClass",a.lJ4(17,mn)))},dependencies:[T.YU,T.bT,dt.fg,jt.rl,C.oV,tt.me,tt.BC,tt.l_,qt.p,at.j,le.Z,Ct.R,Rt.WGl,gt.wp],encapsulation:2})}return D})();function dn(D,Lt){if(1&D){const R=a.RV6();a.qex(0),a.j41(1,"app-news-view-comment",6),a.bIt("changeCommentObjEvent",function(w){a.eBV(R);const Ot=a.XpG(2);return a.Njj(Ot.changeCommentObj(w.actionType,w.commentObj))}),a.k0s(),a.bVm()}if(2&D){const R=a.XpG().$implicit,M=a.XpG();a.R7$(1),a.Y8G("postObj",M.postObj)("commentObj",R)}}function on(D,Lt){if(1&D){const R=a.RV6();a.j41(0,"div",2)(1,"app-news-edit-comment",6),a.bIt("changeCommentObjEvent",function(w){a.eBV(R);const Ot=a.XpG(2);return a.Njj(Ot.changeCommentObj(Ot.enumNewsCommentActionType.UPDATE,w))}),a.k0s()()}if(2&D){const R=a.XpG().$implicit,M=a.XpG();a.R7$(1),a.Y8G("postObj",M.postObj)("commentObj",R)}}function Ke(D,Lt){if(1&D&&(a.j41(0,"div"),a.DNE(1,dn,2,2,"ng-container",4),a.DNE(2,on,2,2,"ng-template",null,5,a.C5r),a.k0s()),2&D){const R=Lt.$implicit,M=a.sdS(3);a.R7$(1),a.Y8G("ngIf",!R.isShowEditForm)("ngIfElse",M)}}function Qe(D,Lt){1&D&&a.nrm(0,"azt-loading-ui",10)}function Ze(D,Lt){if(1&D){const R=a.RV6();a.j41(0,"div",7)(1,"button",8),a.bIt("click",function(){a.eBV(R);const w=a.XpG();return a.Njj(!w.sAztNextPaginationService.isLoadingNextPage&&w.getNextPage())}),a.EFF(2),a.nI1(3,"mytranslate"),a.DNE(4,Qe,1,0,"azt-loading-ui",9),a.k0s()()}if(2&D){const R=a.XpG();a.R7$(2),a.SpI(" ",a.bMT(3,2,"lang_business_news_load_more_comments")," "),a.R7$(2),a.Y8G("ngIf",R.sAztNextPaginationService.isLoadingNextPage)}}let nt=(()=>{class D extends i.H{changeCommentObj(R,M){R==Nt.ADD_NEW?(this.commentObjs.unshift(M),this.postObj.totalComment+=1):R==Nt.UPDATE?this.commentObjs=this.commentObjs.map(w=>w.id==M.id?M:w):(this.postObj.totalComment-=1,this.commentObjs=this.commentObjs.filter(w=>w.id!=M.id))}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(R){R?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsGet(this.postObj.id,this.sAztNextPaginationService.curPage,this.sAztNextPaginationService.itemPerPage).subscribe({next:M=>{M.list.forEach(w=>{this.commentObjs.push({...w,isShowEditForm:!1,allowEdit:w.tenantId==this.userObj.id,allowDelete:!this.isStudent||w.tenantId==this.userObj.id})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(M.total),this.stopStatusObj()},error:M=>{this.errorStatusObj(M.error.message,!0)}}))}ngOnInit(){this.sAztNextPaginationService.setTotalItemPerPage(10),this.getData(!1)}constructor(R,M,w){super(),this.newsService=R,this.userService=M,this.sAztNextPaginationService=w,this.commentObjs=[],this.enumNewsCommentActionType=Nt,this.userObj=this.userService.getUserObj()}static#t=this.\u0275fac=function(M){return new(M||D)(a.rXU(t.bH),a.rXU(K.R),a.rXU(O.h))};static#e=this.\u0275cmp=a.VBU({type:D,selectors:[["app-news-list-comments"]],inputs:{isStudent:"isStudent",postObj:"postObj"},features:[a.Jv_([O.h]),a.Vt3],decls:4,vars:3,consts:[[4,"ngFor","ngForOf"],["class","mb-2 font-medium",4,"ngIf"],[1,"pb-2"],[3,"postObj","changeCommentObjEvent"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"postObj","commentObj","changeCommentObjEvent"],[1,"mb-2","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"]],template:function(M,w){1&M&&(a.DNE(0,Ke,4,2,"div",0),a.DNE(1,Ze,5,4,"div",1),a.j41(2,"div",2)(3,"app-news-add-new-comments",3),a.bIt("changeCommentObjEvent",function(de){return w.changeCommentObj(w.enumNewsCommentActionType.ADD_NEW,de)}),a.k0s()()),2&M&&(a.Y8G("ngForOf",w.commentObjs),a.R7$(1),a.Y8G("ngIf",w.commentObjs.length&&w.sAztNextPaginationService.hasNextPage),a.R7$(2),a.Y8G("postObj",w.postObj))},dependencies:[T.Sq,T.bT,Ct.R,Dt,Ge,_n,gt.wp],encapsulation:2})}return D})();function Yt(D,Lt){1&D&&(a.j41(0,"div",2)(1,"span",3),a.nrm(2,"lucide-icon",4),a.k0s(),a.j41(3,"span"),a.EFF(4),a.nI1(5,"mytranslate"),a.k0s()()),2&D&&(a.R7$(4),a.JRh(a.bMT(5,1,"lang_student_comment_feature_disabled")))}const X=function(D){return{clickable:D}},lt=function(D,Lt){return{"heart-selected":D,"heart-non-selected":Lt}};function mt(D,Lt){if(1&D){const R=a.RV6();a.j41(0,"div",5)(1,"div",6),a.nI1(2,"isParentViewOnly"),a.j41(3,"button",7),a.bIt("click",function(){a.eBV(R);const w=a.XpG();return a.Njj(w.changeEmotionEvent())}),a.nI1(4,"isParentViewOnly"),a.nrm(5,"lucide-icon",8),a.k0s(),a.j41(6,"span"),a.EFF(7),a.k0s()(),a.j41(8,"div",9),a.nI1(9,"isParentViewOnly"),a.j41(10,"button",10),a.bIt("click",function(){a.eBV(R);const w=a.XpG();return a.Njj(w.showCommentObjs())}),a.nI1(11,"isParentViewOnly"),a.nrm(12,"lucide-icon",11),a.k0s(),a.j41(13,"span"),a.EFF(14),a.k0s()()()}if(2&D){const R=a.XpG();a.R7$(1),a.Y8G("ngClass",a.eq3(15,X,!a.bMT(2,7,""))),a.R7$(2),a.Y8G("disabled",a.bMT(4,9,"")),a.R7$(2),a.Y8G("ngClass",a.l_i(17,lt,R.postObj.hasLoveEmotion,!R.postObj.hasLoveEmotion)),a.R7$(2),a.JRh(R.postObj.totalEmotion),a.R7$(1),a.Y8G("ngClass",a.eq3(20,X,!a.bMT(9,11,""))),a.R7$(2),a.Y8G("disabled",a.bMT(11,13,"")),a.R7$(4),a.JRh(R.postObj.totalComment)}}let Vt=(()=>{class D extends i.H{changeEmotionEvent(){this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion+=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj),this.waitDestroy(this.newsService.apiNewsNewsIdEmotionsPost(this.postObj.id).subscribe({next:R=>{this.successStatusObj()},error:R=>{this.errorStatusObj(R.error.message,!0),this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion-=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj)}}))}showCommentObjs(){this.postObj.isShowCommentBox=!0,this.changePostObjEvent.emit(this.postObj)}constructor(R){super(),this.newsService=R,this.changePostObjEvent=new a.bkB}static#t=this.\u0275fac=function(M){return new(M||D)(a.rXU(t.bH))};static#e=this.\u0275cmp=a.VBU({type:D,selectors:[["app-news-emotions"]],inputs:{postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[a.Vt3],decls:2,vars:2,consts:[["class","flex items-center justify-center pb-3 text-slate-500",4,"ngIf"],["class","flex pb-3","style","align-items: center",4,"ngIf"],[1,"flex","items-center","justify-center","pb-3","text-slate-500"],[1,"inline-block","mr-2"],["name","message-circle-off","size","18"],[1,"flex","pb-3",2,"align-items","center"],[1,"flex","mr-5",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-02_zwrttZ",1,"mr-2","zoom-in","heart-label",3,"disabled","click"],["name","heart","size","20",3,"ngClass"],["azt-track-service","emotions-Yt4v8qy-f6",1,"flex",2,"align-items","center",3,"ngClass"],["azt-track-service","emotions-lsF85jGU0",1,"mr-2","zoom-in",3,"disabled","click"],["name","message-square","size","20"]],template:function(M,w){1&M&&(a.DNE(0,Yt,6,3,"div",0),a.DNE(1,mt,15,22,"div",1)),2&M&&(a.Y8G("ngIf",w.postObj.isLockComment),a.R7$(1),a.Y8G("ngIf",!w.postObj.isLockComment))},dependencies:[T.YU,T.bT,Rt.WGl,gt.wp,gt.hx],styles:['@charset "UTF-8";.heart-label[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.5em;align-self:center;transition:color .2s ease-in-out;color:#aab8c2}.heart-non-selected[_ngcontent-%COMP%]{background:transparent}.heart-non-selected[_ngcontent-%COMP%]:hover{stroke:#7f6167!important}  .heart-selected svg{fill:#e2264d!important;stroke:#e2264d!important;will-change:font-size;animation:heart 1s cubic-bezier(.17,.89,.32,1.49)}']})}return D})();var xe=g(40111);function Jt(D,Lt){if(1&D){const R=a.RV6();a.j41(0,"a",3),a.bIt("click",function(){const Ot=a.eBV(R).$implicit,de=a.XpG();return a.Njj(de.onShowFile(Ot))}),a.nrm(1,"img",4),a.k0s()}if(2&D){const R=Lt.$implicit;a.R7$(1),a.Y8G("src",R.imageLink,a.B4B)}}let Te=(()=>{class D extends i.H{onShowFile(R){this.sAztDialogService.open(H.V,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:"image_post"+R.id,mimes:"image/jpeg",url:R.imageLink,index:-1}},restoreFocus:!1})}constructor(R,M){super(),this.sAztDialogService=R,this.sAztFileTypeService=M,this.images=[]}static#t=this.\u0275fac=function(M){return new(M||D)(a.rXU(Y.i),a.rXU(xe.k))};static#e=this.\u0275cmp=a.VBU({type:D,selectors:[["app-list-images-post"]],inputs:{images:"images"},features:[a.Vt3],decls:3,vars:1,consts:[[1,"outerContainer"],[1,"containerw3","containerw3-margin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(M,w){1&M&&(a.j41(0,"div",0)(1,"div",1),a.DNE(2,Jt,2,1,"a",2),a.k0s()()),2&M&&(a.R7$(2),a.Y8G("ngForOf",w.images))},dependencies:[T.Sq],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:arial}.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:300px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:300px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}@media (max-width: 767px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:150px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:150px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:150px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}@media (max-width: 400px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:100px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:100px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}']})}return D})();function ae(D,Lt){if(1&D&&a.eu8(0,14),2&D){a.XpG();const R=a.sdS(17);a.Y8G("ngTemplateOutlet",R)}}function De(D,Lt){if(1&D&&(a.j41(0,"div"),a.nrm(1,"hr",10)(2,"app-news-list-comments",15),a.k0s()),2&D){const R=a.XpG();a.R7$(2),a.Y8G("isStudent",R.isStudent)("postObj",R.postObj)}}const Zt=function(){return{"text-slate-500":!0}},pe=function(){return{"mr-2":!0}};function Se(D,Lt){if(1&D){const R=a.RV6();a.j41(0,"div",16)(1,"button",17),a.nrm(2,"lucide-icon",18),a.k0s(),a.j41(3,"mat-menu",19,20)(5,"div",21)(6,"ul",22)(7,"li")(8,"a",23),a.bIt("click",function(){a.eBV(R);const w=a.XpG();return a.Njj(w.editPostEvent())}),a.nrm(9,"lucide-icon",24),a.EFF(10),a.nI1(11,"mytranslate"),a.k0s()(),a.j41(12,"li")(13,"a",25),a.bIt("click",function(){a.eBV(R);const w=a.XpG();return a.Njj(w.deletePostEvent())}),a.nrm(14,"lucide-icon",26),a.EFF(15),a.nI1(16,"mytranslate"),a.k0s()(),a.j41(17,"li")(18,"label",27),a.bIt("click",function(w){return w.stopPropagation()}),a.j41(19,"div",28),a.nrm(20,"lucide-icon",29),a.EFF(21),a.nI1(22,"mytranslate"),a.k0s(),a.j41(23,"div",30)(24,"input",31),a.bIt("change",function(){a.eBV(R);const w=a.XpG();return a.Njj(w.changeLockCommentStatus())}),a.k0s()()()()()()()()}if(2&D){const R=a.sdS(4),M=a.XpG();a.R7$(1),a.Y8G("matMenuTriggerFor",R),a.R7$(1),a.Y8G("ngClass",a.lJ4(15,Zt)),a.R7$(7),a.Y8G("ngClass",a.lJ4(16,pe)),a.R7$(1),a.SpI(" ",a.bMT(11,9,"lang_auto_sua")," "),a.R7$(4),a.Y8G("ngClass",a.lJ4(17,pe)),a.R7$(1),a.SpI(" ",a.bMT(16,11,"lang_auto_xoa")," "),a.R7$(5),a.Y8G("ngClass",a.lJ4(18,pe)),a.R7$(1),a.SpI(" ",a.bMT(22,13,"lang_student_comment_lock")," "),a.R7$(3),a.Y8G("formControl",M.isLockComment)}}let Pe=(()=>{class D extends i.H{editPostEvent(){this.postObj.isShowEditForm=!0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}deletePostEvent(){this.sAztDialogService.open(Me,{width:"700px",data:this.postObj,restoreFocus:!1}).afterClosed().subscribe(M=>{M&&this.changePostObjEvent.emit({actionType:e.DELETE,postObj:this.postObj})})}changeLockCommentStatus(){const R=this.isLockComment.value;this.waitDestroy((R?this.newsService.apiNewsIdLockCommentsPut:this.newsService.apiNewsIdUnlockCommentsPut).call(this.newsService,this.postObj.id).subscribe({next:()=>{const w=R?"lang_student_comment_lock":"lang_student_unlock_comments";this.postObj.isLockComment=R?1:0,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj}),this.showSuccessSnack(w)},error:w=>{this.errorStatusObj(w.error.message,!0)}}))}changeEmotionEventEvent(R){this.postObj=R,this.changePostObjEvent.emit({actionType:e.UPDATE,postObj:this.postObj})}ngOnInit(){super.ngOnInit(),this.isLockComment.setValue(!!this.postObj.isLockComment)}constructor(R,M){super(),this.sAztDialogService=R,this.newsService=M,this.changePostObjEvent=new a.bkB,this.isLockComment=new tt.MJ(!1)}static#t=this.\u0275fac=function(M){return new(M||D)(a.rXU(Y.i),a.rXU(t.bH))};static#e=this.\u0275cmp=a.VBU({type:D,selectors:[["app-news-view-post"]],inputs:{postObj:"postObj",isStudent:"isStudent"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[a.Vt3],decls:18,vars:13,consts:[[1,"flex","items-center","mb-3"],[1,"w-9","h-9","image-fit"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3"],[1,"font-medium","whitespace-nowrap"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"pb-3"],[3,"content","maxLine"],[3,"images"],[1,"mb-3"],[1,"mb-3",3,"postObj","changePostObjEvent"],[4,"ngIf"],["newsEditOrDeleteNews",""],[3,"ngTemplateOutlet"],[1,"mb-3",3,"isStudent","postObj"],[1,"ml-auto"],["data-tw-toggle","dropdown",1,"absolute","clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"top","10px","right","10px","border-radius","50%",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],["azt-track-service","news-board-5U9HMbLBxY",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","news-board-35uylGIW_W",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","16",3,"ngClass"],["azt-track-service","view-post-HeRBfG3bI","for","commentLock",1,"dropdown-item","cursor-pointer",3,"click"],[1,"flex","items-center"],["name","lock","size","18",3,"ngClass"],[1,"form-check","form-switch","ml-auto"],["id","commentLock","type","checkbox",1,"form-check-input","ml-2",3,"formControl","change"]],template:function(M,w){if(1&M&&(a.j41(0,"div",0)(1,"div",1),a.nrm(2,"azt-create-avatar",2),a.k0s(),a.j41(3,"div",3)(4,"a",4),a.EFF(5),a.k0s(),a.j41(6,"div",5),a.EFF(7),a.nI1(8,"relativeTime"),a.k0s()()(),a.DNE(9,ae,1,1,"ng-container",6),a.j41(10,"div",7),a.nrm(11,"azt-see-more-multiple-lines",8),a.k0s(),a.nrm(12,"app-list-images-post",9)(13,"hr",10),a.j41(14,"app-news-emotions",11),a.bIt("changePostObjEvent",function(de){return w.changeEmotionEventEvent(de)}),a.k0s(),a.DNE(15,De,3,2,"div",12),a.DNE(16,Se,25,19,"ng-template",null,13,a.C5r)),2&M){let Ot;a.R7$(2),a.Y8G("nameCreateAvatar",null==w.postObj.user?null:w.postObj.user.fullName)("linkAvatar",null==w.postObj.user?null:w.postObj.user.avatar)("size",36),a.R7$(3),a.SpI("",null==w.postObj.user?null:w.postObj.user.fullName,"\xa0"),a.R7$(2),a.JRh(a.bMT(8,11,w.postObj.createdAt)),a.R7$(2),a.Y8G("ngIf",!w.isStudent),a.R7$(2),a.Y8G("content",w.postObj.content)("maxLine",0==(null!==(Ot=null==w.postObj.images?null:w.postObj.images.length)&&void 0!==Ot?Ot:0)?w.postObj.content.length:10),a.R7$(1),a.Y8G("images",w.postObj.images),a.R7$(2),a.Y8G("postObj",w.postObj),a.R7$(1),a.Y8G("ngIf",w.postObj.isShowCommentBox)}},dependencies:[T.YU,T.bT,T.T3,zt.kk,zt.Cp,tt.Zm,tt.BC,tt.l_,qt.p,yt.R,Rt.WGl,nt,Vt,Te,gt.wp,gt.NA],encapsulation:2})}return D})();function Ae(D,Lt){if(1&D){const R=a.RV6();a.j41(0,"app-new-list-images",13),a.bIt("filesChange",function(w){a.eBV(R);const Ot=a.XpG();return a.Njj(Ot.files=w)}),a.k0s()}if(2&D){const R=a.XpG();a.Y8G("files",R.files)}}function V(D,Lt){1&D&&a.nrm(0,"azt-loading-ui",14)}const kt=function(D){return[D]},j=function(){return{"zoom-in":!0}};let Z=(()=>{class D extends i.H{cancel(){this.postObj.isShowEditForm=!1,this.changePostObjEvent.emit(this.postObj)}saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();let R={content:this.contentFormControl.value??"",classroomId:this.postObj.id,imageLinks:this.files.map(M=>M.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsIdPut(this.postObj.id,R).subscribe({next:M=>{this.successStatusObj("lang_cms_update_success",!0);let w=[];this.files.forEach(Ot=>{w.push({id:0,newsId:this.postObj?.id??0,imageLink:Ot.url??"",createdAt:void 0})}),this.postObj.isShowEditForm=!1,this.postObj.content=R.content,this.postObj.images=w,this.changePostObjEvent.emit(this.postObj),this.contentFormControl.setValue(""),this.files=[]},error:M=>{this.errorStatusObj(M.error.message,!0)}}))}}handleUploadComplete(R){this.files.push(...R)}ngOnInit(){this.userObj=this.userService.getUserObj(),this.contentFormControl.setValue(this.postObj.content),(this.postObj.images??[]).forEach(R=>{this.files.push({name:"",mimes:"image/jpeg",url:R.imageLink})})}constructor(R,M){super(),this.newsService=R,this.userService=M,this.changePostObjEvent=new a.bkB,this.contentFormControl=new tt.MJ("",{nonNullable:!0,validators:[rt.M.noWhiteSpace]}),this.files=[],this.allUploadToCdnMenuTypes=xt.b8,this.allUploadFileTypes=xt.PO}static#t=this.\u0275fac=function(M){return new(M||D)(a.rXU(t.bH),a.rXU(K.R))};static#e=this.\u0275cmp=a.VBU({type:D,selectors:[["app-news-edit-post"]],inputs:{classroomId:"classroomId",postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[a.Vt3],decls:21,vars:25,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"relative","w-full","ml-3",2,"border-radius","5px"],["matInput","","autoResize","","row","5",1,"border-none",2,"resize","none","height","85px",3,"formControl","placeholder"],[3,"files","filesChange",4,"ngIf"],[1,"text-right","pt-1","pb-1"],[1,"flex","items-center","justify-end","sm:w-auto"],[3,"uploadToCdnMenu","fileType","uploadComplete"],[1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle"],["name","image",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip","ngClass"],["azt-track-service","edit-post-3W8T83tTj_","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-post-NaJeb-mmLZ","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","mr-1",4,"ngIf"],[3,"files","filesChange"],[1,"mr-1"]],template:function(M,w){1&M&&(a.j41(0,"div")(1,"div",0),a.nrm(2,"azt-create-avatar",1),a.j41(3,"div",2)(4,"textarea",3),a.nI1(5,"mytranslate"),a.EFF(6,"            "),a.k0s()()(),a.DNE(7,Ae,1,1,"app-new-list-images",4),a.j41(8,"div",5)(9,"div",6)(10,"azt-upload-multiple-box",7),a.bIt("uploadComplete",function(de){return w.handleUploadComplete(de)}),a.j41(11,"span",8),a.nrm(12,"lucide-icon",9),a.nI1(13,"mytranslate"),a.k0s()(),a.j41(14,"button",10),a.bIt("click",function(){return w.cancel()}),a.EFF(15),a.nI1(16,"mytranslate"),a.k0s(),a.j41(17,"button",11),a.bIt("click",function(){return w.saveNewPost()}),a.DNE(18,V,1,0,"azt-loading-ui",12),a.EFF(19),a.nI1(20,"mytranslate"),a.k0s()()()()),2&M&&(a.R7$(2),a.Y8G("nameCreateAvatar",w.userObj.fullName)("linkAvatar",w.userObj.avatar)("size",36),a.R7$(2),a.FS9("placeholder",a.bMT(5,14,"lang_business_news_post_content")),a.Y8G("formControl",w.contentFormControl),a.R7$(3),a.Y8G("ngIf",w.files.length),a.R7$(3),a.Y8G("uploadToCdnMenu",w.allUploadToCdnMenuTypes.BUSINESS_NEWS)("fileType",a.eq3(22,kt,w.allUploadFileTypes.IMAGE)),a.R7$(2),a.FS9("matTooltip",a.bMT(13,16,"lang_core_tai_anh")),a.Y8G("ngClass",a.lJ4(24,j)),a.R7$(3),a.SpI(" ",a.bMT(16,18,"lang_cms_common_close_btn")," "),a.R7$(2),a.Y8G("disabled",""==w.contentFormControl.value||w.statusObj.loading),a.R7$(1),a.Y8G("ngIf",w.statusObj.loading),a.R7$(1),a.SpI(" ",a.bMT(20,20,"lang_business_news_update_post_button")," "))},dependencies:[T.YU,T.bT,dt.fg,C.oV,tt.me,tt.BC,tt.l_,qt.p,at.j,Ct.R,$t.V,Rt.WGl,bt,gt.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0}"]})}return D})();function q(D,Lt){if(1&D){const R=a.RV6();a.j41(0,"div",10)(1,"app-news-add-new-post",11),a.bIt("changePostObjEvent",function(w){a.eBV(R);const Ot=a.XpG();return a.Njj(Ot.changePostObj(Ot.enumNewsPostActionType.ADD_NEW,w))}),a.k0s()()}if(2&D){const R=a.XpG();a.R7$(1),a.Y8G("classroomId",R.classroomId)("isSchool",R.isSchoolControl.getRawValue())}}function Tt(D,Lt){if(1&D&&(a.j41(0,"div",12),a.nrm(1,"azt-loading-effect",13),a.k0s()),2&D){const R=a.XpG();a.R7$(1),a.Y8G("currentStatusObj",R.statusObj)}}function At(D,Lt){if(1&D){const R=a.RV6();a.qex(0),a.j41(1,"app-news-view-post",18),a.bIt("changePostObjEvent",function(w){a.eBV(R);const Ot=a.XpG(3);return a.Njj(Ot.changePostObj(w.actionType,w.postObj))}),a.k0s(),a.bVm()}if(2&D){const R=a.XpG().$implicit,M=a.XpG(2);a.R7$(1),a.Y8G("isStudent",M.isStudent)("postObj",R)}}function ne(D,Lt){if(1&D){const R=a.RV6();a.j41(0,"app-news-edit-post",19),a.bIt("changePostObjEvent",function(w){a.eBV(R);const Ot=a.XpG(3);return a.Njj(Ot.changePostObj(Ot.enumNewsPostActionType.UPDATE,w))}),a.k0s()}if(2&D){const R=a.XpG().$implicit,M=a.XpG(2);a.Y8G("postObj",R)("classroomId",M.classroomId)}}function ue(D,Lt){if(1&D&&(a.j41(0,"div",15),a.DNE(1,At,2,2,"ng-container",16),a.DNE(2,ne,1,2,"ng-template",null,17,a.C5r),a.k0s()),2&D){const R=Lt.$implicit,M=a.sdS(3);a.R7$(1),a.Y8G("ngIf",!R.isShowEditForm)("ngIfElse",M)}}function ye(D,Lt){1&D&&(a.j41(0,"div",10)(1,"div",20)(2,"div",21),a.nrm(3,"azt-svg-icon",22),a.j41(4,"p",23),a.EFF(5),a.nI1(6,"mytranslate"),a.k0s()()()()),2&D&&(a.R7$(3),a.Y8G("size",87),a.R7$(2),a.JRh(a.bMT(6,2,"lang_student_news_there_is_no_news")+"!"))}function je(D,Lt){1&D&&a.nrm(0,"azt-loading-ui")}function sn(D,Lt){if(1&D){const R=a.RV6();a.j41(0,"button",26),a.bIt("click",function(){a.eBV(R);const w=a.XpG(3);return a.Njj(w.getNextPage())}),a.nI1(1,"mytranslate"),a.nrm(2,"lucide-icon",27),a.k0s()}2&D&&a.FS9("matTooltip",a.bMT(1,1,"lang_auto_hien_ban_ghi_cu_hon"))}function Rn(D,Lt){if(1&D&&(a.j41(0,"div",10)(1,"div",24),a.DNE(2,je,1,0,"azt-loading-ui",16),a.DNE(3,sn,3,3,"ng-template",null,25,a.C5r),a.k0s()()),2&D){const R=a.sdS(4),M=a.XpG(2);a.R7$(2),a.Y8G("ngIf",M.sAztNextPaginationService.isLoadingNextPage)("ngIfElse",R)}}function Cn(D,Lt){if(1&D&&(a.DNE(0,ue,4,2,"div",14),a.DNE(1,ye,7,4,"div",7),a.DNE(2,Rn,5,2,"div",7)),2&D){const R=a.XpG();a.Y8G("ngForOf",R.postObjs),a.R7$(1),a.Y8G("ngIf",R.postObjs.length<=0),a.R7$(1),a.Y8G("ngIf",R.postObjs.length&&R.sAztNextPaginationService.hasNextPage)}}let pn=(()=>{class D extends i.H{selectedViewNewsSchool(R){let M=(this.isStudent?"/student/classroom-details/":"/admin/student/classroom-details/")+this.classroomId+"/2";R?(this.isSchoolControl.setValue(1),this.commonService.myNavigationWithQueryString(M,"?type=1")):(this.isSchoolControl.setValue(0),this.commonService.myNavigationWithQueryString(M,"?type=0")),this.postObjs=[],this.getData(!1)}changePostObj(R,M){switch(R){case e.ADD_NEW:this.postObjs.unshift(M);break;case e.UPDATE:this.postObjs=this.postObjs.map(w=>w.id==M.id?M:w);break;case e.DELETE:this.postObjs=this.postObjs.filter(w=>w.id!=M.id)}}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(R){var M={size:this.sAztNextPaginationService.itemPerPage,page:this.sAztNextPaginationService.curPage,classroomId:this.classroomId,student:this.isStudent,isSchool:this.isSchoolControl.getRawValue()};R?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsListPost(M).subscribe({next:w=>{let Ot={page:1,size:-1,newsIds:w.list.map(de=>de.id).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsEmotionsListPost(Ot).subscribe({next:de=>{let te=this.commonService.arrayToUniqueDictionary(de.list??[],J=>J.newsId.toString());w.list.forEach(J=>{this.postObjs.push({...J,hasLoveEmotion:te.hasOwnProperty(J.id),isShowEditForm:!1,isShowCommentBox:!1})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(w.total),this.stopStatusObj()},error:de=>{this.errorStatusObj(de.error.message,!0)}}))},error:w=>{this.errorStatusObj(w.error.message,!0)}}))}getDataFirstTime(){this.postObjs=[],this.sAztNextPaginationService.resetToFirstPage(),this.getData(!1)}ngOnChanges(){"1"==this.getMyQueryParam("type")&&this.isSchoolControl.setValue(1),this.getDataFirstTime()}ngOnInit(){super.ngOnInit()}constructor(R,M){super(),this.newsService=R,this.sAztNextPaginationService=M,this.isSchoolControl=new tt.MJ(0,{nonNullable:!0}),this.postObjs=[],this.enumNewsPostActionType=e}static#t=this.\u0275fac=function(M){return new(M||D)(a.rXU(t.bH),a.rXU(O.h))};static#e=this.\u0275cmp=a.VBU({type:D,selectors:[["app-news-board"]],inputs:{isStudent:"isStudent",classroomId:"classroomId"},features:[a.Jv_([O.h]),a.Vt3,a.OA$],decls:19,vars:16,consts:[[1,"grid","grid-cols-12"],[1,"col-span-12","font-medium","flex","items-center","mb-3"],[1,"flex","ml-5","items-center"],["azt-track-service","posts-x27NMu5qsN","id","classroom","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"value","formControl","click"],["for","classroom",1,"pl-2","form-check-label"],["azt-track-service","posts-KOM2BXgAQ","id","school","type","radio",1,"form-check-input","flex-none","ng-valid","ng-dirty","ng-touched",3,"value","formControl","click"],["for","school",1,"pl-2","form-check-label"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start mb-3",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","mb-3"],[3,"classroomId","isSchool","changePostObjEvent"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start box p-3 mb-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","box","p-3","mb-3"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"isStudent","postObj","changePostObjEvent"],[3,"postObj","classroomId","changePostObjEvent"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","file-empty",3,"size"],[1,"font-medium","mt-5"],[1,"flex","justify-center"],["doneLoadNextPage",""],["azt-track-service","trash-homework-tab-C69nk6waYbG",1,"btn","btn-transparent",3,"matTooltip","click"],["name","chevron-down","size","20"]],template:function(M,w){if(1&M&&(a.j41(0,"div",0)(1,"div",1)(2,"p"),a.EFF(3),a.nI1(4,"mytranslate"),a.k0s(),a.j41(5,"div",2)(6,"input",3),a.bIt("click",function(){return w.selectedViewNewsSchool(!1)}),a.k0s(),a.j41(7,"label",4),a.EFF(8),a.nI1(9,"mytranslate"),a.k0s()(),a.j41(10,"div",2)(11,"input",5),a.bIt("click",function(){return w.selectedViewNewsSchool(!0)}),a.k0s(),a.j41(12,"label",6),a.EFF(13),a.nI1(14,"mytranslate"),a.k0s()()(),a.DNE(15,q,2,2,"div",7),a.DNE(16,Tt,2,1,"div",8),a.DNE(17,Cn,3,3,"ng-template",null,9,a.C5r),a.k0s()),2&M){const Ot=a.sdS(18);a.R7$(3),a.JRh(a.bMT(4,10,"lang_azt_hien_ban_tin_theo")),a.R7$(3),a.Y8G("value",0)("formControl",w.isSchoolControl),a.R7$(2),a.JRh(a.bMT(9,12,"lang_auto_lop_hoc")),a.R7$(3),a.Y8G("value",1)("formControl",w.isSchoolControl),a.R7$(2),a.JRh(a.bMT(14,14,"lang_azt_truong_hoc")),a.R7$(2),a.Y8G("ngIf",!w.isStudent),a.R7$(1),a.Y8G("ngIf",w.statusObj.loading)("ngIfElse",Ot)}},dependencies:[T.Sq,T.bT,C.oV,tt.me,tt.Fm,tt.BC,tt.l_,s.K,Ct.R,wt.m,Rt.WGl,Qt,Pe,Z,gt.wp],encapsulation:2})}return D})()},44658:(Re,Bt,g)=>{g.d(Bt,{e:()=>$t});var O=g(10936),i=g(33887),e=g(38009),tt=g(80037),a=g(26860),t=g(19548),T=g(3780),C=g(54460),s=g(89163);function Ct(H,Y){1&H&&(a.j41(0,"div",11)(1,"span",12),a.nrm(2,"azt-loading-ui"),a.k0s()())}function wt(H,Y){if(1&H&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&H){const B=a.XpG(2);a.R7$(1),a.JRh(" ("+B.dataUpgradeClass.length+" "+a.bMT(2,1,"lang_testbank_test_list_classes")+")")}}function Rt(H,Y){1&H&&(a.j41(0,"div",25),a.EFF(1),a.nI1(2,"mytranslate"),a.k0s()),2&H&&(a.R7$(1),a.SpI("",a.bMT(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_class_click_choose"),"."))}function rt(H,Y){if(1&H){const B=a.RV6();a.j41(0,"input",36),a.bIt("keyup",function(){a.eBV(B);const bt=a.XpG().index,gt=a.XpG(2);return a.Njj(gt.validateInput(bt))}),a.nI1(1,"mytranslate"),a.k0s()}if(2&H){const B=a.XpG(),bt=B.$implicit;a.Mz_("id","input-event-",B.index,""),a.FS9("value",bt.nameClass),a.FS9("placeholder",a.bMT(1,3,"lang_auto_nhap_ten_lop"))}}function xt(H,Y){if(1&H){const B=a.RV6();a.j41(0,"textarea",37),a.bIt("keyup",function(){a.eBV(B);const bt=a.XpG().index,gt=a.XpG(2);return a.Njj(gt.validateInput(bt))}),a.nI1(1,"mytranslate"),a.k0s()}if(2&H){const B=a.XpG(),bt=B.$implicit;a.Mz_("id","input-event-",B.index,""),a.FS9("value",bt.nameClass),a.FS9("placeholder",a.bMT(1,3,"lang_auto_nhap_ten_lop"))}}function K(H,Y){if(1&H){const B=a.RV6();a.j41(0,"div",26)(1,"div",27)(2,"div",28),a.DNE(3,rt,2,5,"input",29),a.DNE(4,xt,2,5,"textarea",30),a.k0s(),a.j41(5,"div",31)(6,"button",32),a.bIt("click",function(){const gt=a.eBV(B).$implicit,ut=a.XpG(2);return a.Njj(ut.clearInput(gt.id))}),a.nrm(7,"lucide-icon",33),a.k0s()()(),a.j41(8,"div",34,35),a.EFF(10),a.nI1(11,"mytranslate"),a.k0s()()}if(2&H){const B=Y.index,P=a.XpG(2);a.R7$(3),a.Y8G("ngIf",0==P.isMobile),a.R7$(1),a.Y8G("ngIf",1==P.isMobile),a.R7$(4),a.Mz_("id","logerror",B,""),a.R7$(2),a.SpI(" ",a.bMT(11,4,"lang_student_classroom_list_utils_create_class_new_course_choose_class_dont_class_null"),". ")}}function dt(H,Y){if(1&H){const B=a.RV6();a.j41(0,"form",13)(1,"div",14)(2,"div",15)(3,"azt-list-classroom-checkbox",16),a.bIt("changeCheckboxEvent",function(){a.eBV(B);const bt=a.XpG();return a.Njj(bt.changeCheckboxEvent())})("createdNewClassroom",function(){a.eBV(B);const bt=a.XpG();return a.Njj(bt.isCreatedNewClassroom=!0)}),a.k0s()(),a.j41(4,"div",17)(5,"div",18),a.EFF(6),a.nI1(7,"mytranslate"),a.DNE(8,wt,3,3,"span",19),a.k0s(),a.j41(9,"div",20)(10,"ng-scrollbar",21),a.DNE(11,Rt,3,3,"div",22),a.j41(12,"div",23),a.DNE(13,K,12,6,"div",24),a.k0s()()()()()()}if(2&H){const B=a.XpG();a.Y8G("formGroup",B.form),a.R7$(3),a.Y8G("form",B.form)("classroomGroupData",B.classroomWithGroup)("permissionName",B.permissionTypes.classroom)("defaultCssClass","classroom-box-in-dialog"),a.R7$(3),a.SpI(" ",a.bMT(7,11,"lang_student_classroom_list_utils_create_class_new_course_choose_class_respective_class")," "),a.R7$(2),a.Y8G("ngIf",B.dataUpgradeClass.length),a.R7$(2),a.Y8G("visibility","hover")("autoHeightDisabled",!0),a.R7$(1),a.Y8G("ngIf",0==B.dataUpgradeClass.length),a.R7$(2),a.Y8G("ngForOf",B.dataUpgradeClass)}}function at(H,Y){1&H&&a.nrm(0,"azt-loading-ui",38)}let $t=(()=>{class H extends i._{closeDialog(){this.dialogRef.close(this.isCreatedNewClassroom??!1)}validateInput(B){let P=document.getElementById("input-event-"+B),bt=P?P.value:"";if(""==bt){let gt=document.getElementById("logerror"+B);gt&&(gt.style.display="block")}if(""!=bt){let gt=document.getElementById("logerror"+B);gt&&(gt.style.display="none")}}handleUpgrade(){if(0!=this.dataUpgradeClass.length){let B=!0;this.sendDataUpgradeClass=[];for(let P=0;P<this.dataUpgradeClass.length;P++){let bt=document.getElementById("input-event-"+P),gt=bt?bt.value:"";""==gt&&(B=!1),this.validateInput(P),this.sendDataUpgradeClass.push({oldId:this.dataUpgradeClass[P].id,newName:gt,year:this.increaseYear(this.dataUpgradeClass[P].year)})}1==B&&this.upgradeClassroomGroup()}else this.viewErrorSelected=!1}increaseYear(B){if(null!=B||null!=B){let P=B.split(" ")[0],bt=parseInt(P,10)+1;return bt+" - "+(bt+1)}}changeCheckboxEvent(){const B=this.sAztClassroomCheckboxService.getClassroomIdsCheckedInGroup(this.form.controls.classroomFormArray),P=B.concat(this.dataUpgradeClass.map(gt=>gt.id??0));let bt=P.filter(gt=>P.indexOf(gt)===P.lastIndexOf(gt));B.length>this.dataUpgradeClass.length?this.dataUpgradeClass=this.dataUpgradeClass.concat(this.classroomObjs.filter(gt=>bt.includes(gt.id??0)).map(gt=>{let Ft,ut=gt.name,vt=gt.year,It=ut?.match(/\d+/g);if(null==It)Ft=ut;else{let Qt=parseInt(It[0].toString(),10)+1;Ft=ut?.replace(It[0],Qt.toString())}return{id:gt.id,nameClass:Ft,year:vt}})):bt.forEach(gt=>{this.dataUpgradeClass.splice(this.dataUpgradeClass.findIndex(ut=>ut.id===gt),1)})}clearInput(B){setTimeout(()=>{document.getElementById("azt-checkbox-item-"+B)?.click()},0)}upgradeClassroomGroup(){this.initStatusObj();for(var B=[],P=0;P<this.sendDataUpgradeClass.length;P++)B.push({oldId:this.sendDataUpgradeClass[P].oldId??0,newName:this.sendDataUpgradeClass[P].newName??"",year:this.sendDataUpgradeClass[P].year??""});this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpgradeClassroomPost(B).subscribe(bt=>{1==bt.success?(bt.data?.isDuplicatedClassroomName?this.errorStatusObj(bt.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(this.isCreatedNewClassroom),this.errorStatusObj("lang_auto_tao_lop_cho_khoa_moi_khong_thanh_cong",!0))}))}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(B=>{B.success?(this.classroomWithGroup=B.data?.activeClassroomData??[],this.classroomObjs=this.commonService.concatMultipleArray(this.classroomWithGroup.map(P=>P.classroomObjs)),this.successStatusObj()):this.errorStatusObj(B.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getClassroomObjs(),super.ngOnInit()}constructor(B,P,bt,gt){super(void 0,gt),this.classroomGroupService=B,this.sAztClassroomCheckboxService=P,this.location=bt,this.dialogRef=gt,this.classroomObjs=[],this.dataUpgradeClass=[],this.sendDataUpgradeClass=[],this.selectedAll=!1,this.viewErrorSelected=!0,this.isCreatedNewClassroom=!1,this.isMobile=this.commonService.isMobileOrTable(),this.permissionTypes=e.t,this.classroomWithGroup=[],this.form=new O.gE({classroomFormArray:new O.Yp([]),whoAllow:new O.MJ(0,{nonNullable:!0})},{validators:[tt.j.classroomInGroupCheckBoxValidatorWithoutWhoAllow]})}static#t=this.\u0275fac=function(P){return new(P||H)(a.rXU(t.kG),a.rXU(T.Q),a.rXU(C.aZ),a.rXU(s.CP,8))};static#e=this.\u0275cmp=a.VBU({type:H,selectors:[["app-create-class-new-course"]],features:[a.Vt3],decls:20,vars:16,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"font-medium","text-base"],[1,"leading-relaxed","text-slate-500","text-xs"],["class","flex items-center h-full",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","flex","justify-end"],["azt-track-service","create-classroom-new-course-dialog-k_ZG3G-AAS",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","create-classroom-new-course-dialog-OvOUaKHkJOv",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"flex","items-center","h-full"],[1,"w-6","h-6","inline-block","mx-auto"],[3,"formGroup"],[1,"p-3","pt-0"],[1,"azt-list-classroom"],[3,"form","classroomGroupData","permissionName","defaultCssClass","changeCheckboxEvent","createdNewClassroom"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3","font-medium"],[4,"ngIf"],[2,"height","150px"],["track","vertical","pointerEventsMethod","scrollbar",1,"w-full",3,"visibility","autoHeightDisabled"],["style","height: 130px","class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-2","p-2"],["class","col-span-12 md:col-span-6 2xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center",2,"height","130px"],[1,"col-span-12","md:col-span-6","2xl:col-span-4"],[1,"flex","items-center","p-1","rounded"],[1,"col-span-10",2,"width","100%"],["class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],["class","text-area-form","rows","2","wrap","soft","class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],[1,"col-span-2","m-0","p-1","text-center"],["azt-track-service","create-classroom-new-course-dialog-NjCJ7r_T8U",1,"btn","btn-sm","btn-secondary","text-danger",3,"click"],["name","x","size","20"],[1,"alert","alert-danger","mt-1",2,"margin","auto","padding","5px 10px","display","none",3,"id"],["ab",""],["type","text",1,"form-control",3,"id","value","placeholder","keyup"],["rows","2","wrap","soft","type","text",1,"form-control",3,"id","value","placeholder","keyup"],[1,"mr-1"]],template:function(P,bt){if(1&P&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),a.EFF(4),a.nI1(5,"mytranslate"),a.k0s(),a.j41(6,"div",4),a.EFF(7),a.nI1(8,"mytranslate"),a.k0s()(),a.DNE(9,Ct,3,0,"div",5),a.DNE(10,dt,14,13,"ng-template",null,6,a.C5r),a.k0s(),a.j41(12,"div",7)(13,"button",8),a.bIt("click",function(){return bt.closeDialog()}),a.EFF(14),a.nI1(15,"mytranslate"),a.k0s(),a.j41(16,"button",9),a.bIt("click",function(){return bt.handleUpgrade()}),a.DNE(17,at,1,0,"azt-loading-ui",10),a.EFF(18),a.nI1(19,"mytranslate"),a.k0s()()()),2&P){const gt=a.sdS(11);a.R7$(4),a.SpI(" ",a.bMT(5,8,"lang_student_classroom_list_create_class_new_cousre")," "),a.R7$(3),a.JRh(a.bMT(8,10,"lang_student_classroom_list_utils_create_class_new_course_conten_review")),a.R7$(2),a.Y8G("ngIf",bt.statusObj.loading)("ngIfElse",gt),a.R7$(5),a.SpI(" ",a.bMT(15,12,"lang_button_cancel")," "),a.R7$(2),a.Y8G("disabled",bt.form.invalid),a.R7$(1),a.Y8G("ngIf",bt.statusObj.loading),a.R7$(1),a.SpI(" ",a.bMT(19,14,"lang_button_save")," ")}},encapsulation:2})}return H})()},92050:(Re,Bt,g)=>{g.d(Bt,{I:()=>Dr});var O=g(65162),i=g(1133),e=g(50866),tt=g(76627),a=g(59640),t=g(26860),T=g(46134),C=g(54460),s=g(96451),Ct=g(15343),wt=g(66067),Rt=g(26988),rt=g(27208),xt=g(9280),K=g(17818),dt=g(18718),at=g(52811),$t=g(32099),H=g(94743),Y=g(47712),B=g(69135),P=g(73437);function bt(r,I){1&r&&(t.nrm(0,"lucide-icon",11),t.nI1(1,"mytranslate")),2&r&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_published"))}function gt(r,I){1&r&&(t.nrm(0,"lucide-icon",12),t.nI1(1,"mytranslate")),2&r&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_Unpublished"))}function ut(r,I){if(1&r&&(t.j41(0,"div")(1,"div",8),t.DNE(2,bt,2,3,"lucide-icon",9),t.DNE(3,gt,2,3,"lucide-icon",10),t.k0s()()),2&r){const n=t.XpG();t.R7$(2),t.Y8G("ngIf",1==n.document.homework.isPublished),t.R7$(1),t.Y8G("ngIf",1!=n.document.homework.isPublished)}}function vt(r,I){1&r&&(t.nrm(0,"lucide-icon",15),t.nI1(1,"mytranslate")),2&r&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_published"))}function It(r,I){1&r&&(t.nrm(0,"lucide-icon",12),t.nI1(1,"mytranslate")),2&r&&t.FS9("matTooltip",t.bMT(1,1,"lang_testbank_folder_and_file_Unpublished"))}function Ft(r,I){if(1&r&&(t.j41(0,"div",13),t.DNE(1,vt,2,3,"lucide-icon",14),t.DNE(2,It,2,3,"lucide-icon",10),t.k0s()),2&r){const n=t.XpG();t.R7$(1),t.Y8G("ngIf",1==(null==n.document.exam?null:n.document.exam.isPublished)),t.R7$(1),t.Y8G("ngIf",1!=(null==n.document.exam?null:n.document.exam.isPublished))}}function Qt(r,I){if(1&r&&(t.j41(0,"div",16)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r){const n=t.XpG();t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_luot_lam")+": "+n.document.exam.attended)}}function _e(r,I){if(1&r&&(t.j41(0,"div",16)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r){const n=t.XpG();t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_da_nop")+": "+n.document.homework.count+"/"+n.document.homework.totalStudent)}}const be=function(r){return{"mt-3":r}},Ce=function(r){return{"w-2/3":r}},Fe=function(r){return{truncate:r}};let Me=(()=>{class r extends a.H{static#t=this.\u0275fac=function(){let n;return function(m){return(n||(n=t.xGo(r)))(m||r)}}();static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["exam-exercises-block"]],inputs:{document:"document",index:"index"},features:[t.Vt3],decls:11,vars:17,consts:[[1,"flex","items-center","cursor-pointer","hover:bg-slate-100","rounded-md","p-2",2,"text-align","left","border","none","box-shadow","none",3,"ngClass"],[1,"flex-none","image-fit","rounded-md","overflow-hidden"],[4,"ngIf","ngIfElse"],["ExamIcon",""],[1,"ml-4","mr-auto",3,"ngClass"],[1,"font-medium",3,"ngClass","matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-500 text-xs mt-0.5 font-medium",4,"ngIf"],[1,"text-primary"],["name","file-text","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-text","size","48","matTooltipShowDelay","1000",3,"matTooltip"],["name","file","size","48","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-pending"],["name","file-check","size","48","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-check","size","48","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5","font-medium"]],template:function(_,m){if(1&_&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,ut,4,2,"div",2),t.DNE(3,Ft,3,2,"ng-template",null,3,t.C5r),t.k0s(),t.j41(5,"div",4)(6,"div",5,6),t.EFF(8),t.k0s(),t.DNE(9,Qt,4,3,"div",7),t.DNE(10,_e,4,3,"div",7),t.k0s()()),2&_){const k=t.sdS(4),L=t.sdS(7);t.Y8G("ngClass",t.eq3(11,be,0!==m.index)),t.R7$(2),t.Y8G("ngIf",m.document.homework)("ngIfElse",k),t.R7$(3),t.Y8G("ngClass",t.eq3(13,Ce,!m.isMobileDevice)),t.R7$(1),t.FS9("matTooltip",m.document.exam?m.document.exam.name:null==m.document.homework?null:m.document.homework.name),t.Y8G("ngClass",t.eq3(15,Fe,!m.isMobileDevice))("isDisabledTooltip",!1)("matTooltipDisabled",L.isDisabled),t.R7$(2),t.SpI(" ",m.document.exam?m.document.exam.name:null==m.document.homework?null:m.document.homework.name," "),t.R7$(1),t.Y8G("ngIf",m.document.exam),t.R7$(1),t.Y8G("ngIf",m.document.homework)}},dependencies:[C.YU,C.bT,Y.oV,B.f,Ct.WGl,P.wp],encapsulation:2})}return r})();function zt(r,I){if(1&r&&t.nrm(0,"azt-loading-effect",17),2&r){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function qt(r,I){1&r&&(t.j41(0,"span",38),t.nrm(1,"azt-loading-ui"),t.k0s())}function yt(r,I){1&r&&(t.j41(0,"span",39)(1,"span",40),t.EFF(2,"1"),t.k0s()())}function Nt(r,I){1&r&&(t.j41(0,"span"),t.EFF(1," \xa0 "),t.j41(2,"span",41),t.EFF(3,"1"),t.k0s()())}function jt(r,I){1&r&&(t.j41(0,"h2",42),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_student_list_of_assigned_assignments")))}function le(r,I){1&r&&(t.j41(0,"h2",42),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.JRh(t.bMT(2,1,"lang_student_search_results")))}const ee=function(){return{"mr-2":!0}};function U(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",43),t.bIt("click",function(){t.eBV(n);const m=t.XpG(2);return t.Njj(m.backToDocumentList())}),t.nrm(1,"lucide-icon",44),t.j41(2,"span"),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,ee)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_auto_quay_lai")))}function Dt(r,I){if(1&r&&t.nrm(0,"azt-loading-effect",17),2&r){const n=t.XpG(2);t.Y8G("currentStatusObj",n.statusObj)}}const F=function(r){return[r]},ot=function(r,I){return{backto:r,filterBy:I}};function Gt(r,I){if(1&r&&(t.j41(0,"a",60),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&r){const n=t.XpG(2),_=n.$implicit,m=n.index,k=t.XpG(6);t.Y8G("routerLink",t.eq3(6,F,t.bMT(1,4,"/admin/testbank/homework-results-list/"+_.homework.classroomId+"/"+_.homework.id+"/"+_.homework.hashId)))("queryParams",t.l_i(8,ot,"/admin/student/classroom-details/"+k.classroomId+"/1",k.typeFilter)),t.R7$(2),t.Y8G("document",_)("index",m)}}function Wt(r,I){if(1&r&&(t.j41(0,"a",62),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&r){const n=t.XpG(2),_=n.$implicit,m=n.index,k=t.XpG(6);t.Y8G("routerLink",t.eq3(6,F,t.bMT(1,4,"/bai-tap/"+_.homework.hashId)))("queryParams",t.l_i(8,ot,"/student/classroom-details/"+k.classroomId+"/1",k.typeFilter)),t.R7$(2),t.Y8G("document",_)("index",m)}}function ve(r,I){if(1&r&&(t.qex(0),t.DNE(1,Gt,3,11,"a",58),t.DNE(2,Wt,3,11,"a",59),t.bVm()),2&r){const n=t.XpG(7);t.R7$(1),t.Y8G("ngIf",!n.isStudent),t.R7$(1),t.Y8G("ngIf",n.isStudent)}}function ze(r,I){if(1&r&&(t.j41(0,"a",65),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&r){const n=t.XpG(2),_=n.$implicit,m=n.index,k=t.XpG(6);let L;t.Y8G("routerLink",t.eq3(6,F,t.bMT(1,4,"/admin/testbank/exam-results-list/"+(null!==(L=null==_.exam?null:_.exam.categoryId)&&void 0!==L?L:0)+"/"+(null==_.exam?null:_.exam.id)+"/0")))("queryParams",t.l_i(8,ot,"/admin/student/classroom-details/"+k.classroomId+"/1",k.typeFilter)),t.R7$(2),t.Y8G("document",_)("index",m)}}function en(r,I){if(1&r&&(t.j41(0,"a",66),t.nI1(1,"navigationLocalize"),t.nrm(2,"exam-exercises-block",61),t.k0s()),2&r){const n=t.XpG(2),_=n.$implicit,m=n.index,k=t.XpG(6);t.Y8G("routerLink",t.eq3(6,F,t.bMT(1,4,"/de-thi/"+(null==_.exam?null:_.exam.hashId))))("queryParams",t.l_i(8,ot,"/student/classroom-details/"+k.classroomId+"/1",k.typeFilter)),t.R7$(2),t.Y8G("document",_)("index",m)}}function cn(r,I){if(1&r&&(t.DNE(0,ze,3,11,"a",63),t.DNE(1,en,3,11,"a",64)),2&r){const n=t.XpG(7);t.Y8G("ngIf",!n.isStudent),t.R7$(1),t.Y8G("ngIf",n.isStudent)}}function Ge(r,I){if(1&r&&(t.j41(0,"div",56),t.DNE(1,ve,3,2,"ng-container",46),t.DNE(2,cn,2,2,"ng-template",null,57,t.C5r),t.k0s()),2&r){const n=I.$implicit,_=t.sdS(3);t.R7$(1),t.Y8G("ngIf",n.homework)("ngIfElse",_)}}function nn(r,I){if(1&r&&(t.j41(0,"div",54),t.DNE(1,Ge,4,2,"div",55),t.k0s()),2&r){const n=t.XpG().$implicit;t.R7$(1),t.Y8G("ngForOf",n.documentList)}}function mn(r,I){if(1&r){const n=t.RV6();t.j41(0,"div")(1,"div")(2,"button",50),t.bIt("click",function(){const k=t.eBV(n).$implicit;return t.Njj(k.isExpand=!k.isExpand)}),t.nrm(3,"lucide-icon",51),t.j41(4,"span",52),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"getDayOfWeek"),t.nI1(8,"mytranslate"),t.nI1(9,"formatOnlyDateByUserUnitPipe"),t.k0s()()(),t.DNE(10,nn,2,1,"div",53),t.k0s()}if(2&r){const n=I.$implicit;t.R7$(3),t.FS9("name",n.isExpand?"chevron-down":"chevron-right"),t.R7$(2),t.JRh(t.bMT(6,3,t.bMT(7,5,n.assignmentDate))+", "+t.bMT(8,7,"lang_testbank_powerpoint_date")+" "+t.bMT(9,9,n.assignmentDate)),t.R7$(5),t.Y8G("ngIf",n.isExpand)}}function _n(r,I){1&r&&t.nrm(0,"azt-loading-ui",70)}function dn(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",67)(1,"button",68),t.bIt("click",function(){t.eBV(n);const m=t.XpG(4);return t.Njj(!m.sAztNextPaginationService.isLoadingNextPage&&m.getNextPage())}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,_n,1,0,"azt-loading-ui",69),t.k0s()()}if(2&r){const n=t.XpG(4);t.R7$(2),t.SpI(" ",t.bMT(3,2,"lang_business_document_get_more_documents")," "),t.R7$(2),t.Y8G("ngIf",n.sAztNextPaginationService.isLoadingNextPage)}}function on(r,I){if(1&r&&(t.qex(0),t.DNE(1,mn,11,11,"div",48),t.DNE(2,dn,5,4,"div",49),t.bVm()),2&r){const n=t.XpG(3);t.R7$(1),t.Y8G("ngForOf",n.listGroupDocumentObjs),t.R7$(1),t.Y8G("ngIf",n.sAztNextPaginationService.hasNextPage)}}function Ke(r,I){1&r&&(t.j41(0,"div",71)(1,"div",72),t.nrm(2,"azt-svg-icon",73),t.j41(3,"p",74),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()()),2&r&&(t.R7$(2),t.Y8G("size",87),t.R7$(2),t.JRh(t.bMT(5,2,"lang_student_there_are_no_exercises_or_tests_yet")+"!"))}function Qe(r,I){if(1&r&&(t.j41(0,"div",45),t.DNE(1,on,3,2,"ng-container",46),t.DNE(2,Ke,6,4,"ng-template",null,47,t.C5r),t.k0s()),2&r){const n=t.sdS(3),_=t.XpG(2);t.R7$(1),t.Y8G("ngIf",_.listGroupDocumentObjs.length>0)("ngIfElse",n)}}const Ze=function(){return{"mr-0 md:mr-2":!0}};function nt(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"div",22)(5,"azt-search-box",23),t.bIt("onSearch",function(m){t.eBV(n);const k=t.XpG();return t.Njj(k.searchDocumentObjs(m.searchObj))}),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"button",24),t.DNE(8,qt,2,0,"span",25),t.nrm(9,"lucide-icon",26),t.DNE(10,yt,3,0,"span",27),t.j41(11,"span",28),t.EFF(12),t.nI1(13,"mytranslate"),t.DNE(14,Nt,4,0,"span",29),t.k0s()()(),t.j41(15,"div",30)(16,"button",31),t.nrm(17,"lucide-icon",32),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s()()()(),t.j41(20,"div",33),t.DNE(21,jt,3,3,"h2",34),t.DNE(22,le,3,3,"h2",34),t.DNE(23,U,5,5,"button",35),t.k0s(),t.j41(24,"div",36),t.DNE(25,Dt,1,1,"azt-loading-effect",0),t.k0s(),t.DNE(26,Qe,4,2,"ng-template",null,37,t.C5r),t.k0s()}if(2&r){const n=t.sdS(27),_=t.XpG(),m=t.sdS(4),k=t.sdS(25);t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(6,17,"lang_auto_tim_kiem"))("searchContentObj",_.searchContentObj),t.R7$(2),t.Y8G("matMenuTriggerFor",m),t.R7$(1),t.Y8G("ngIf",_.loadingFilter),t.R7$(1),t.Y8G("ngClass",t.lJ4(23,Ze)),t.R7$(1),t.Y8G("ngIf",""!=_.typeFilter),t.R7$(2),t.SpI(" ",t.bMT(13,19,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf",""!=_.typeFilter),t.R7$(2),t.Y8G("matMenuTriggerFor",k),t.R7$(1),t.Y8G("ngClass",t.lJ4(24,ee)),t.R7$(1),t.SpI(" ",t.bMT(19,21,"lang_student_new_assignment")," "),t.R7$(3),t.Y8G("ngIf",!_.isShowSearchResult),t.R7$(1),t.Y8G("ngIf",_.isShowSearchResult),t.R7$(1),t.Y8G("ngIf",_.isShowSearchResult),t.R7$(2),t.Y8G("ngIf",_.searchContentObj.isLoading||_.loadingFilter)("ngIfElse",n)}}const Yt=function(){return{"ml-1":!0}};function X(r,I){1&r&&t.nrm(0,"lucide-icon",75),2&r&&t.Y8G("ngClass",t.lJ4(1,Yt))}function lt(r,I){1&r&&t.nrm(0,"lucide-icon",75),2&r&&t.Y8G("ngClass",t.lJ4(1,Yt))}let mt=(()=>{class r extends a.H{changeFilter(n){this.typeFilter=n,this.loadingFilter=!0,this.resetData(),this.commonService.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/1","?filterBy="+n),this.getData(!0)}openEditor(){let n=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backto=${encodeURIComponent(n)}&classroomId=${this.classroomId}`)}openHomeworkScreen(){let n=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/homework/add-new-homework/0",`?backto=${encodeURIComponent(n)}&classroomId=${this.classroomId}`)}backToDocumentList(){this.isShowSearchResult=!1,this.searchContentObj.searchContent="",this.getData(!1)}resetData(){this.listDocumentObjs=[]}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}searchDocumentObjs(n){this.searchContentObj=n,this.searchContentObj.setLoading(!0),this.resetData(),this.getData(!1)}getData(n){n?this.sAztNextPaginationService.setLoading(!0):this.searchContentObj.searchContent||this.initStatusObj();let _={categoryId:void 0,documentType:"file",shareType:void 0,fileType:this.typeFilter?this.typeFilter:void 0,classroomId:this.classroomId,name:this.searchContentObj.searchContent?this.searchContentObj.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:0,page:this.sAztNextPaginationService.curPage,itemPerPage:this.sAztNextPaginationService.itemPerPage};this.isShowSearchResult=!!this.searchContentObj.searchContent,this.waitDestroy(this.documentService.apiDocumentsGet(_.categoryId,_.documentType,_.shareType,_.fileType,_.classroomId,_.name,_.suggestExamPurpose,_.lite,_.getGlobal,_.page,_.itemPerPage).subscribe(m=>{m.success?(this.listDocumentObjs=this.listDocumentObjs.concat(m.data?.documentObjs??[]),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(m.data?.total??0),this.processData(this.listDocumentObjs),this.searchContentObj.setLoading(!1),this.stopStatusObj()):(this.searchContentObj.setLoading(!1),this.errorStatusObj(m.message,!0)),this.loadingFilter=!1}))}processData(n){let _=this.commonService.arrayToDictionary(n,k=>k.exam?new Date(k.exam.createdAt??0).toDateString():new Date(k?.homework?.createdAt??0).toDateString()),m=[];Object.entries(_).forEach(([k,L],et)=>{if(L.length>0){let St=L[0];m.push({isExpand:!0,assignmentDate:St.exam?St.exam.createdAt:St.homework?.createdAt,documentList:L})}}),this.listGroupDocumentObjs=m}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.typeFilter=this.commonService.getMyQueryParam("filterBy")??"",this.getData(!1)}constructor(n,_,m){super(),this.documentService=n,this.activeRoute=_,this.sAztNextPaginationService=m,this.classroomId=0,this.listGroupDocumentObjs=[],this.listDocumentObjs=[],this.isShowSearchResult=!1,this.searchContentObj=new rt.Z,this.typeFilter="",this.loadingFilter=!1}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(xt.DK),t.rXU(O.nX),t.rXU(Rt.h))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-exam-exercises"]],inputs:{isStudent:"isStudent"},features:[t.Jv_([Rt.h]),t.Vt3],decls:38,vars:29,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","after"],["menuFilter","matMenu"],[1,"dropdown-menu","w-32","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["name","notepad-text","size","16",3,"ngClass"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["name","file-text","size","16",3,"ngClass"],["name","check","size","16",3,"ngClass",4,"ngIf"],["name","file-check","size","16",3,"ngClass"],["xPosition","before"],["menuAssignment","matMenu"],[1,"dropdown-menu","w-40","show","relative"],["azt-track-service","exam-exercises-AuLj8R4CH",1,"dropdown-item","w-full",3,"click"],["azt-track-service","exam-exercises-2YQOMXwGnC",1,"dropdown-item","w-full",3,"click"],[3,"currentStatusObj"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"flex","w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[1,"mr-2","w-full","sm:w-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],["tourAnchor","azt-tour-2",1,"shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["class","w-3 h-4 mr-1 inline-block",4,"ngIf"],["name","filter","size","16",3,"ngClass"],["class","sm:hidden w-5 h-5 flex items-center justify-center absolute rounded-full bg-primary right-0 top-0 -mr-2 -mt-2",4,"ngIf"],[1,"azt-hidden","sm:block"],[4,"ngIf"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","exam-exercises-jkv8YmKddH",1,"btn","btn-primary","dropdown-toggle","text-white","shadow-md",3,"matMenuTriggerFor"],["name","plus","size","18",3,"ngClass"],[1,"col-span-12","flex","items-center","mt-5"],["class","text-lg font-medium mr-5",4,"ngIf"],["azt-track-service","exam-exercises-TXjuRofaLz","class","btn-text-primary font-medium ml-auto",3,"click",4,"ngIf"],[1,"col-span-12","mt-5"],["doneLoadingSearch",""],[1,"w-3","h-4","mr-1","inline-block"],[1,"sm:hidden","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","bg-primary","right-0","top-0","-mr-2","-mt-2"],[1,"rounded-full","bg-primary","text-white","cursor-pointer","font-medium"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[1,"text-lg","font-medium","mr-5"],["azt-track-service","exam-exercises-TXjuRofaLz",1,"btn-text-primary","font-medium","ml-auto",3,"click"],["name","chevron-left","size","18",3,"ngClass"],[1,"col-span-12"],[4,"ngIf","ngIfElse"],["emptyList",""],[4,"ngFor","ngForOf"],["class","mt-2 font-medium",4,"ngIf"],["azt-track-service","exam-exercises-gYn61cneD",1,"flex","items-center","py-3","pr-3","hover:text-primary",3,"click"],["size","24",3,"name"],[1,"font-medium","ml-3"],["class","box p-3",4,"ngIf"],[1,"box","p-3"],["class","document",4,"ngFor","ngForOf"],[1,"document"],["isExamDocument",""],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams"],[3,"document","index"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams"],[1,"mt-2","font-medium"],["azt-track-service","exam-exercises-4meI3XYSV",1,"clickable",3,"click"],["class","ml-1",4,"ngIf"],[1,"ml-1"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","file-empty",3,"size"],[1,"font-medium","mt-5"],["name","check","size","16",3,"ngClass"]],template:function(_,m){if(1&_&&(t.DNE(0,zt,1,1,"azt-loading-effect",0),t.DNE(1,nt,28,25,"ng-template",null,1,t.C5r),t.j41(3,"mat-menu",2,3)(5,"div",4)(6,"ul",5)(7,"li")(8,"button",6),t.bIt("click",function(){return m.changeFilter("")}),t.nrm(9,"lucide-icon",7),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"li")(13,"button",8),t.bIt("click",function(){return m.changeFilter("homework")}),t.nrm(14,"lucide-icon",9),t.EFF(15),t.nI1(16,"mytranslate"),t.DNE(17,X,1,2,"lucide-icon",10),t.k0s()(),t.j41(18,"li")(19,"button",6),t.bIt("click",function(){return m.changeFilter("exam")}),t.nrm(20,"lucide-icon",11),t.EFF(21),t.nI1(22,"mytranslate"),t.DNE(23,lt,1,2,"lucide-icon",10),t.k0s()()()()(),t.j41(24,"mat-menu",12,13)(26,"div",14)(27,"ul",5)(28,"li")(29,"button",15),t.bIt("click",function(){return m.openHomeworkScreen()}),t.nrm(30,"lucide-icon",9),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s()(),t.j41(33,"li")(34,"button",16),t.bIt("click",function(){return m.openEditor()}),t.nrm(35,"lucide-icon",11),t.EFF(36),t.nI1(37,"mytranslate"),t.k0s()()()()()),2&_){const k=t.sdS(2);t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",k),t.R7$(9),t.Y8G("ngClass",t.lJ4(24,ee)),t.R7$(1),t.SpI(" ",t.bMT(11,14,"lang_auto_tat_ca")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(25,ee)),t.R7$(1),t.SpI(" ",t.bMT(16,16,"lang_auto_bai_tap")," "),t.R7$(2),t.Y8G("ngIf","homework"==m.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(26,ee)),t.R7$(1),t.SpI(" ",t.bMT(22,18,"lang_auto_de_thi")," "),t.R7$(2),t.Y8G("ngIf","exam"==m.typeFilter),t.R7$(7),t.Y8G("ngClass",t.lJ4(27,ee)),t.R7$(1),t.SpI(" ",t.bMT(32,20,"lang_student_new_homework")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(28,ee)),t.R7$(1),t.SpI(" ",t.bMT(37,22,"lang_student_new_exam")," ")}},dependencies:[O.Wk,C.YU,C.Sq,C.bT,K.kk,K.Cp,dt.K,at.R,$t.W,H.m,Ct.WGl,Me,P.F2,P.wp,P.vv,P.hZ],encapsulation:2})}return r})();var Vt=g(57350),xe=g(95054),Jt=g(47635),Te=g(66257),ae=g(48725),De=g(37497),Zt=g(89163),pe=g(33887),Se=g(95624),Pe=g(2915),Ae=g(5800),V=g(74637),kt=g(10123);function j(r,I){if(1&r&&t.nrm(0,"azt-loading-effect",12),2&r){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function Z(r,I){if(1&r&&(t.j41(0,"tr")(1,"td",22),t.EFF(2),t.nI1(3,"formatOnlyDateByUserUnitPipe"),t.k0s(),t.j41(4,"td")(5,"div",23),t.nrm(6,"input",24),t.k0s()(),t.j41(7,"td")(8,"div",23),t.nrm(9,"input",24),t.k0s()(),t.j41(10,"td"),t.nrm(11,"textarea",25),t.k0s()()),2&r){const n=I.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,7,n.sessionTime)," "),t.R7$(4),t.Y8G("checked",n.receivedDocument)("disabled",!0),t.R7$(3),t.Y8G("checked",n.absent)("disabled",!0),t.R7$(2),t.Y8G("disabled",!0)("value",n.reason)}}function q(r,I){if(1&r&&(t.qex(0),t.DNE(1,Z,12,9,"tr",21),t.bVm()),2&r){const n=t.XpG(2);t.R7$(1),t.Y8G("ngForOf",n.attendanceObj.list)}}function Tt(r,I){1&r&&(t.j41(0,"tr")(1,"td",26),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"lang_homework_homework_list_not_found")," "))}function At(r,I){if(1&r&&(t.j41(0,"drag-scroll")(1,"table",13)(2,"thead")(3,"tr",14)(4,"th",15),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",16),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",17),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",17),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()(),t.j41(16,"tbody",18),t.DNE(17,q,2,1,"ng-container",19),t.DNE(18,Tt,4,3,"ng-template",null,20,t.C5r),t.k0s()()()),2&r){const n=t.sdS(19),_=t.XpG();t.R7$(5),t.JRh(t.bMT(6,6,"lang_auto_thoi_gian")),t.R7$(3),t.JRh(t.bMT(9,8,"lang_core_da_phat_tai_lieu")),t.R7$(3),t.JRh(t.bMT(12,10,"lang_student_absence")),t.R7$(3),t.JRh(t.bMT(15,12,"lang_auto_ly_do")),t.R7$(3),t.Y8G("ngIf",_.attendanceObj&&_.attendanceObj.list.length)("ngIfElse",n)}}let ne=(()=>{class r extends pe._{handleCloseDialog(){this.dialogRef.close()}filterData(n){this.dataFilter=n,this.getData()}getData(){this.initStatusObj();const n=this.data.student;this.waitDestroy(this.studentService.apiStudentsStudentIdAttendancesGet(n.id,n.classroomId,this.dataFilter?.yearSelected,this.dataFilter?.monthSelected).subscribe({next:_=>{this.attendanceObj=_,this.successStatusObj()},error:_=>{this.errorStatusObj(_.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.getData()}constructor(n,_,m){super(_,n),this.dialogRef=n,this.data=_,this.studentService=m}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(Zt.CP,8),t.rXU(Zt.Vh,8),t.rXU(Se.b0))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["azt-attendance-detail"]],features:[t.Vt3],decls:14,vars:11,consts:[[1,"box","attendance-detail"],[1,"p-4"],[1,"flex"],[3,"name","parentFullName","parentId","parentPhone","phone","email","avatar","gender","hasUser"],[1,"ml-auto"],[1,"btn","btn-outline-danger","border-0","shadow-none",3,"click"],["name","x","size","18"],[1,"mt-2","flex","justify-end","items-center"],[3,"sendFilter"],[1,"mt-0","pb-4"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["drag-scroll-item","",1,"table","table-report",2,"white-space","initial","display","table"],[1,"box","bg-slate-200","dark:bg-darkmode-400"],[1,"whitespace-nowrap"],[1,"text-center","whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"bg-slate-100","dark:bg-darkmode-400"],[4,"ngIf","ngIfElse"],["emptyData",""],[4,"ngFor","ngForOf"],[1,"font-medium"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"checked","disabled"],["type","text",1,"form-control",2,"min-width","50px","min-height","50px",3,"disabled","value"],["colspan","4",1,"text-center"]],template:function(_,m){if(1&_&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"azt-student-info-box",3),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return m.handleCloseDialog()}),t.nrm(6,"lucide-icon",6),t.k0s()()(),t.j41(7,"div",7)(8,"azt-filter-box",8),t.bIt("sendFilter",function(L){return m.filterData(L)}),t.k0s()()(),t.j41(9,"div",9)(10,"azt-mat-dialog-content"),t.DNE(11,j,1,1,"azt-loading-effect",10),t.DNE(12,At,20,14,"ng-template",null,11,t.C5r),t.k0s()()()),2&_){const k=t.sdS(13);t.R7$(3),t.Y8G("name",m.data.student.fullName)("parentFullName",m.data.student.parentFullName)("parentId",m.data.student.parentId)("parentPhone",m.data.student.parentPhone)("phone",m.data.student.phone)("email",m.data.student.email)("avatar",m.data.student.avatar)("gender",m.data.student.gender)("hasUser",m.data.student.hasUser),t.R7$(8),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",k)}},dependencies:[C.Sq,C.bT,dt.K,Pe.U,Ae.B,V.E,kt.jd,kt.Ew,Ct.WGl,P.wp,P.vv],encapsulation:2})}return r})();var ue=g(46899),ye=g(22613);function je(r,I){if(1&r&&t.nrm(0,"azt-loading-effect",8),2&r){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}const sn=function(r){return{"text-primary stroke-width-2.5":r}},Rn=function(r){return{"text-primary stroke-width-2.5":r,"-mt-2":!0}};function Cn(r,I){if(1&r&&(t.j41(0,"div",18),t.nrm(1,"lucide-icon",19)(2,"lucide-icon",20),t.k0s()),2&r){const n=t.XpG().$implicit,_=t.XpG(2);t.R7$(1),t.Y8G("ngClass",t.eq3(2,sn,n.typeFieldSort===_.typeFieldSort.asc)),t.R7$(1),t.Y8G("ngClass",t.eq3(4,Rn,n.typeFieldSort===_.typeFieldSort.desc))}}function pn(r,I){if(1&r){const n=t.RV6();t.j41(0,"th",15)(1,"div",16),t.bIt("click",function(){const k=t.eBV(n).$implicit,L=t.XpG(2);return t.Njj(L.sortTableByFieldName(k))}),t.EFF(2),t.nI1(3,"mytranslate"),t.DNE(4,Cn,3,6,"div",17),t.k0s()()}if(2&r){const n=I.$implicit;t.R7$(1),t.Aen(n.customStyle),t.HbH(n.customClassCss),t.R7$(1),t.SpI(" ",t.bMT(3,6,n.key)," "),t.R7$(2),t.Y8G("ngIf",!n.ignore)}}function D(r,I){if(1&r){const n=t.RV6();t.j41(0,"tr",21)(1,"td",22),t.bIt("click",function(){const k=t.eBV(n).$implicit,L=t.XpG(2);return t.Njj(L.showAttendanceDetail(k))}),t.nrm(2,"azt-student-info-box",23),t.k0s(),t.j41(3,"td",24),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",24),t.EFF(7),t.k0s(),t.j41(8,"td",24),t.EFF(9),t.k0s(),t.j41(10,"td",24),t.EFF(11),t.k0s(),t.j41(12,"td",24),t.EFF(13),t.k0s()()}if(2&r){const n=I.$implicit;t.Y8G("id","row_student_"+n.id),t.R7$(2),t.Y8G("name",n.fullName)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("avatar",n.avatar)("gender",n.gender)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt),t.R7$(2),t.JRh(n.identificationNumber?t.i5U(5,16,n.identificationNumber,6):""),t.R7$(3),t.JRh(null==n?null:n.totalAttend),t.R7$(2),t.JRh(null==n?null:n.totalAbsence),t.R7$(2),t.JRh(null==n?null:n.totalAbsentPermission),t.R7$(2),t.JRh(null==n?null:n.totalAbsentNoPermission)}}function Lt(r,I){if(1&r){const n=t.RV6();t.j41(0,"azt-paging",28),t.bIt("goToPaginationPage",function(m){t.eBV(n);const k=t.XpG(3);return t.Njj(k.setPageStudent(m))}),t.k0s()}if(2&r){const n=t.XpG(3);t.Y8G("pageObj",n.pageObj)}}function R(r,I){if(1&r&&(t.j41(0,"div",29),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const n=t.XpG(3);t.R7$(1),t.Lme("",n.totalStudent," ",t.bMT(2,2,"lang_notify_list_students"),"")}}function M(r,I){if(1&r&&(t.j41(0,"div",25),t.nrm(1,"div"),t.DNE(2,Lt,1,1,"azt-paging",26),t.DNE(3,R,3,4,"div",27),t.k0s()),2&r){const n=t.XpG(2);t.R7$(2),t.Y8G("ngIf",n.totalStudent>n.pageObj.pageSize),t.R7$(1),t.Y8G("ngIf",!n.isStudent)}}function w(r,I){if(1&r&&(t.j41(0,"div",9)(1,"drag-scroll")(2,"table",10)(3,"thead")(4,"tr",11),t.DNE(5,pn,5,8,"th",12),t.k0s()(),t.j41(6,"tbody"),t.DNE(7,D,14,19,"tr",13),t.k0s()()()(),t.DNE(8,M,4,2,"div",14)),2&r){const n=t.XpG();t.R7$(5),t.Y8G("ngForOf",n.sortTableByFieldNameService.fieldNameList),t.R7$(2),t.Y8G("ngForOf",n.listStudent),t.R7$(1),t.Y8G("ngIf",n.listStudent&&n.totalStudent&&n.totalStudent>0)}}let Ot=(()=>{class r extends a.H{onSearchBox(n){this.searchContentObj=n,this.getData()}setPageStudent(n){this.myNavigationWithQueryString("/admin/student/classroom-details/"+this.classroomId+"/7","?page="+n),this.pageObj.setPageNumber(n),this.getData()}sortTableByFieldName(n){n.ignore||(this.orderObj=this.sortTableByFieldNameService.convertDataSort(n),this.getData())}showAttendanceDetail(n){this.sAztDialogService.open(ne,{width:"700px",restoreFocus:!1,data:{student:n,isTeacher:!0}})}getData(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,markMonth:this.dataFilter?.monthSelected,markYear:this.dataFilter?.yearSelected,name:this.searchContentObj.searchContent,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!0,me:this.isStudent,getAssessment:!1,order:this.orderObj}).subscribe({next:_=>{this.listStudent=_.list,this.totalStudent=_.total,this.pageObj.setTotalPages(this.totalStudent),this.successStatusObj()},error:_=>{this.errorStatusObj(_.error.message,!0)}}))}initFieldNameList(){return[{fieldName:"fullName",key:"lang_auto_ho_va_ten",ignore:!1,typeFieldSort:Te.H.none,customClassCss:"flex items-center whitespace-nowrap"},{fieldName:"identificationNumber",key:"lang_auto_so_bao_danh",ignore:!1,typeFieldSort:Te.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAttend",key:"lang_student_number_of_sessions_attended",ignore:!1,typeFieldSort:Te.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsence",key:"lang_student_number_of_sessions_missed",ignore:!1,typeFieldSort:Te.H.none,customClassCss:"flex items-center justify-center whitespace-nowrap"},{fieldName:"totalAbsentPermission",key:"lang_student_number_of_approved_absences",ignore:!1,typeFieldSort:Te.H.none,customClassCss:"flex items-center justify-center"},{fieldName:"totalAbsentNoPermission",key:"lang_student_number_of_unauthorized_absences",ignore:!1,typeFieldSort:Te.H.none,customClassCss:"flex items-center justify-center"}]}ngOnInit(){super.ngOnInit(),this.sortTableByFieldNameService.setFieldNameList(this.initFieldNameList()),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1")),this.getData()}constructor(n,_,m,k){super(),this.activeRoute=n,this.studentService=_,this.sortTableByFieldNameService=m,this.sAztDialogService=k,this.classroomId=0,this.searchContentObj=new rt.Z,this.pageObj=new De.d(50),this.listStudent=[],this.totalStudent=0,this.typeFieldSort=Te.H}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(O.nX),t.rXU(Se.b0),t.rXU(ae.s),t.rXU(ue.i))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-attendance-board"]],inputs:{isStudent:"isStudent"},features:[t.Jv_([ae.s]),t.Vt3],decls:13,vars:9,consts:[[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12","mt-4"],[1,"flex","flex-col","sm:flex-row"],[3,"isServerSearch","placeholder","onSearch"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"intro-y"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"box"],["class","cursor-pointer",4,"ngFor","ngForOf"],[3,"id",4,"ngFor","ngForOf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"cursor-pointer"],["azt-track-service","attendance-board-DpF9pdFzjI",3,"click"],["class","flex items-center flex-col ml-2",4,"ngIf"],[1,"flex","items-center","flex-col","ml-2"],["name","chevron-up","size","16",3,"ngClass"],["name","chevron-down","size","16",3,"ngClass"],[3,"id"],["azt-track-service","attendance-board-e_tUfqKJu",1,"cursor-pointer",2,"width","250px",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[3,"pageObj","goToPaginationPage"],[1,"flex","justify-end"]],template:function(_,m){if(1&_&&(t.j41(0,"div",0)(1,"div",1)(2,"h3",2),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",3)(6,"div",4)(7,"azt-search-box",5),t.bIt("onSearch",function(L){return m.onSearchBox(L.searchObj)}),t.nI1(8,"mytranslate"),t.k0s()()(),t.j41(9,"div",1),t.DNE(10,je,1,1,"azt-loading-effect",6),t.DNE(11,w,9,3,"ng-template",null,7,t.C5r),t.k0s()()),2&_){const k=t.sdS(12);t.R7$(3),t.JRh(t.bMT(4,5,"lang_azt_attendance")),t.R7$(4),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(8,7,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",k)}},dependencies:[C.YU,C.Sq,C.bT,dt.K,ye.q,$t.W,Ae.B,kt.jd,kt.Ew,Ct.WGl,P.wp,P.Po],encapsulation:2})}return r})();var de=g(56172),te=g(25622),J=g(10936),qe=g(15766),Ne=g(31216),Xn=g(97839),Un=g(99965),gn=g(35048);const zn=["selectStudent"];function Le(r,I){1&r&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_vui_long_chon_hoc_sinh_muon_gui_thong_bao")," "))}function ge(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",13)(1,"h3",21),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"azt-select-student",22,23),t.bIt("closeBox",function(m){t.eBV(n);const k=t.XpG();return t.Njj(k.closeBoxSelectStudent(m))}),t.k0s(),t.DNE(6,Le,3,3,"div",16),t.k0s()}if(2&r){const n=t.XpG();t.R7$(2),t.JRh(t.bMT(3,4,"lang_core_chon_hoc_sinh")),t.R7$(2),t.Y8G("isDialog",!1)("data",n.data),t.R7$(2),t.Y8G("ngIf",0==n.data.studentIdsSelected.length&&n.isShowError)}}function an(r,I){1&r&&(t.j41(0,"div",24),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_khong_duoc_de_trong_noi_dung_thong_bao")," "))}function un(r,I){1&r&&t.nrm(0,"azt-loading-ui",25)}const Pn=function(r){return{flex:r}},Fn=function(r){return{" ml-5":r}};let xn=(()=>{class r extends a.H{resetForm(){this.contentFormControl.reset(),this.selectAction(this.action.getRawValue()),this.data={classroomId:this.classroomId,classroomName:this.classroomName,studentIdsSelected:[]},this.isShowError=!1,this.selectStudent&&this.selectStudent.resetAll()}selectAction(n){let m=this.commonService.myTranslateInstant(1==n?"lang_azt_ban_co_1_so_bai_thi_chua_hoan_thanh_vui_long_hoan_thanh_dung_thoi_han":2==n?"lang_azt_ban_chua_nop_hoc_phi_thang_hien_tai_vui_long_hoan_tat_hoc_phi_uca_ban":"")??"";this.contentFormControl.setValue(m)}closeBoxSelectStudent(n){n&&(n.studentIdsSelected.length>0&&(this.isShowError=!0),this.data=n)}sendNotification(){if(this.initStatusObj(),3==this.action.getRawValue()){let n={noticeProcessAction:{isNoticeTuition:!1,isNoticeFinishedLesson:!1,isNoticeAttendance:!1},studentIds:this.data.studentIdsSelected,title:"",body:this.contentFormControl.getRawValue()};this.waitDestroy(this.studentNotificationService.apiStudentNotificationSendCustomMsgToStudentsPost(n).subscribe({next:_=>{this.showSuccessSnack("lang_super_role_send_notice_successfully"),this.resetForm(),this.stopStatusObj()},error:_=>{this.errorStatusObj(_.error.message,!0),this.stopStatusObj()}}))}else{let n={isSendUnFinished:1==this.action.getRawValue(),isSendTuition:2==this.action.getRawValue(),title:"",content:this.contentFormControl.getRawValue()};this.waitDestroy(this.classroomNotificationService.apiClassroomNotificationClassroomIdPost(this.classroomId,n).subscribe({next:_=>{this.showSuccessSnack("lang_super_role_send_notice_successfully"),this.resetForm(),this.stopStatusObj()},error:_=>{this.errorStatusObj(_.error.message,!0),this.stopStatusObj()}}))}}ngOnInit(){super.ngOnInit(),this.data={classroomId:this.classroomId,classroomName:this.classroomName,studentIdsSelected:[]},this.selectAction(this.action.getRawValue())}constructor(n,_){super(),this.studentNotificationService=n,this.classroomNotificationService=_,this.contentFormControl=new J.MJ("",{nonNullable:!0,validators:[qe.M.noWhiteSpace]}),this.action=new J.MJ(1,{nonNullable:!0}),this.isShowError=!1}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(Ne.KB),t.rXU(Se.M8))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-send-notification"]],viewQuery:function(_,m){if(1&_&&t.GBs(zn,5),2&_){let k;t.mGM(k=t.lsd())&&(m.selectStudent=k.first)}},inputs:{classroomName:"classroomName",classroomId:"classroomId"},features:[t.Vt3],decls:41,vars:48,consts:[["id","sendNotification",1,"box-exam__text"],[1,"text-lg","mb-3","font-medium"],[1,"font-medium"],[1,"items-center","mt-2",3,"ngClass"],[1,"flex","items-center","mt-1"],["id","action1","type","radio",1,"form-check-input","flex-none",3,"formControl","value","change"],["for","action1",1,"pl-2","form-check-label"],[1,"flex","items-center","mt-1",3,"ngClass"],["id","action2","type","radio",1,"form-check-input","flex-none",3,"formControl","value","change"],["for","action2",1,"pl-2","form-check-label"],["id","action3","type","radio",1,"form-check-input","flex-none",3,"formControl","value","change"],["for","action3",1,"pl-2","form-check-label"],["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"mt-2"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"flex","justify-end","mt-5"],[1,"btn","btn-close","mr-3",3,"disabled","click"],[1,"btn","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"font-medium","mb-2"],[3,"isDialog","data","closeBox"],["selectStudent",""],[1,"text-xs","text-danger","mt-1"],[1,"mr-1"]],template:function(_,m){1&_&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"h3",2),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"div",3)(8,"div",4)(9,"input",5),t.bIt("change",function(){return m.selectAction(1)}),t.k0s(),t.j41(10,"label",6),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s()(),t.j41(13,"div",7)(14,"input",8),t.bIt("change",function(){return m.selectAction(2)}),t.k0s(),t.j41(15,"label",9),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"div",7)(19,"input",10),t.bIt("change",function(){return m.selectAction(3)}),t.k0s(),t.j41(20,"label",11),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.DNE(23,ge,7,6,"div",12),t.j41(24,"div",13)(25,"h3",2),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s(),t.j41(28,"div",14)(29,"textarea",15),t.nI1(30,"mytranslate"),t.EFF(31,"\t\t\t"),t.k0s()(),t.DNE(32,an,3,3,"div",16),t.k0s(),t.j41(33,"div",17)(34,"button",18),t.bIt("click",function(){return m.resetForm()}),t.EFF(35),t.nI1(36,"mytranslate"),t.k0s(),t.j41(37,"button",19),t.bIt("click",function(){return m.sendNotification()}),t.DNE(38,un,1,0,"azt-loading-ui",20),t.EFF(39),t.nI1(40,"mytranslate"),t.k0s()()()),2&_&&(t.R7$(2),t.SpI(" ",t.bMT(3,24,"lang_core_gui_thongBao_den_hoc_sinh")," "),t.R7$(3),t.JRh(t.bMT(6,26,"lang_core_chon_muc_dich_gui_thong_bao")),t.R7$(2),t.Y8G("ngClass",t.eq3(42,Pn,!m.isMobileDevice&&!m.isMobileWebView)),t.R7$(2),t.Y8G("formControl",m.action)("value",1),t.R7$(2),t.JRh(t.bMT(12,28,"lang_core_chua_lam_bai_thi")),t.R7$(2),t.Y8G("ngClass",t.eq3(44,Fn,!m.isMobileDevice&&!m.isMobileWebView)),t.R7$(1),t.Y8G("formControl",m.action)("value",2),t.R7$(2),t.JRh(t.bMT(17,30,"lang_core_chua_dong_hoc_phi_thang_hien_tai")),t.R7$(2),t.Y8G("ngClass",t.eq3(46,Fn,!m.isMobileDevice&&!m.isMobileWebView)),t.R7$(1),t.Y8G("formControl",m.action)("value",3),t.R7$(2),t.JRh(t.bMT(22,32,"lang_core_tuy_chon_hoc_sinh_cu_the")),t.R7$(2),t.Y8G("ngIf",3==m.action.getRawValue()),t.R7$(3),t.JRh(t.bMT(27,34,"lang_core_noi_dung_thong_bao")),t.R7$(3),t.FS9("placeholder",t.bMT(30,36,"lang_business_news_post_content")),t.Y8G("formControl",m.contentFormControl),t.R7$(3),t.Y8G("ngIf",m.contentFormControl.dirty&&m.contentFormControl.invalid),t.R7$(2),t.Y8G("disabled",m.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(36,38,"lang_auto_dat_lai")," "),t.R7$(2),t.Y8G("disabled",m.statusObj.loading||m.contentFormControl.invalid||3==m.action.getRawValue()&&0==m.data.studentIdsSelected.length),t.R7$(1),t.Y8G("ngIf",m.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(40,40,"lang_super_role_send_notice_approved_question_share")," "))},dependencies:[C.YU,C.bT,Xn.fg,J.me,J.Fm,J.BC,J.l_,Un.j,at.R,gn.w,P.wp],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{padding:5px!important;resize:none;min-height:80px;font-size:14px;width:100%;border:none;padding:0;border-radius:5px;max-height:250px!important}"]})}return r})();var Ye=g(71204),Tn=g(51698),tn=g(74871),Be=g(18148),y=g(60902),ft=g(95412),b=g(45344);let $=(()=>{class r extends pe._{btnCloseDialog(){this.dialogRef.close(!1)}isSelectedMonth(){return null!=this.checkboxMonth.checkboxMonth.find(n=>1==n.selected)}saveData(){this.initStatusObj();var n=[];this.checkboxMonth.checkboxMonth.filter(m=>1==m.selected).forEach(m=>{n.push({month:m.month,year:m.year})}),this.waitDestroy(this.paymentService.apiPaymentPost({payments:n,studentId:this.data}).subscribe({next:m=>{this.successStatusObj("lang_cms_utils_update_folder_success",!0),this.dialogRef.close(!0)},error:m=>{this.errorStatusObj(m.error.message,!0)}}))}constructor(n,_,m){super(m,_),this.paymentService=n,this.dialogRef=_,this.data=m,this.checkboxMonth=new y.L,this.checkboxMonth.studentId=m}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(ft.W),t.rXU(Zt.CP,8),t.rXU(Zt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["azt-dialog-checkbox-month"]],features:[t.Vt3],decls:11,vars:8,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[3,"checkboxMonth"],[1,"p-3","text-right"],["azt-track-service","azt-dialog-danger-9EJYp6jGzr",1,"btn","w-24","btn-secondary","mr-2",3,"click"],["azt-track-service","azt-dialog-danger-ffMh3NrPRC",1,"btn","w-24","btn-primary",3,"disabled","click"]],template:function(_,m){1&_&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"azt-checkbox-month",3),t.k0s()(),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return m.btnCloseDialog()}),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"button",6),t.bIt("click",function(){return m.saveData()}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()()()),2&_&&(t.R7$(3),t.Y8G("checkboxMonth",m.checkboxMonth),t.R7$(3),t.SpI(" ",t.bMT(7,4,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",!m.isSelectedMonth()||m.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(10,6,"lang_business_news_update_post_button")," "))},dependencies:[b.u,P.wp],encapsulation:2})}return r})();var A=g(87039),Et=g(81519),ie=g(47426),Je=g(74960),Ve=g(99503),Wn=g(79347),Qn=g(9691),pi=g(42947),In=g(39712),gi=g(43234),hi=g(10296),Ie=g(60303),Sn=g(9260),Dn=g(96112),Mn=g(19965),fi=g(5502);const bi=["fileSelect"];function vi(r,I){if(1&r&&(t.j41(0,"span",27),t.EFF(1),t.k0s()),2&r){const n=t.XpG().$implicit;t.R7$(1),t.JRh((null==n.cellData?null:n.cellData.fullName)+": ")}}function Zn(r,I){if(1&r&&(t.j41(0,"span",28),t.EFF(1),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.k0s()),2&r){const n=I.$implicit,_=I.index,m=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,1,n.errorMessage)+(_===m.errors.length-1?" ("+t.bMT(3,3,"lang_auto_line")+" "+m.row+")":", ")," ")}}function ki(r,I){if(1&r&&(t.j41(0,"div",24),t.DNE(1,vi,2,1,"span",25),t.DNE(2,Zn,4,5,"span",26),t.k0s()),2&r){const n=I.$implicit;t.R7$(1),t.Y8G("ngIf",null==n.cellData?null:n.cellData.fullName),t.R7$(1),t.Y8G("ngForOf",n.errors)}}function qn(r,I){if(1&r&&(t.j41(0,"div",19)(1,"div",20),t.EFF(2),t.k0s(),t.j41(3,"div",21)(4,"ng-scrollbar",22),t.DNE(5,ki,3,2,"div",23),t.k0s()()()),2&r){const n=t.XpG(2);t.R7$(2),t.JRh("T\u1ed5ng s\u1ed1 l\u1ed7i: "+n.errorImportFile.length),t.R7$(2),t.Y8G("visibility","hover")("autoHeightDisabled",!1),t.R7$(1),t.Y8G("ngForOf",n.errorImportFile)}}const zi=function(r){return[r]},Pi=function(){return{"mr-2 text-success":!0}};function Ci(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",29)(1,"azt-upload-single-document-to-editor",30),t.bIt("emitFiles",function(m){t.eBV(n);const k=t.XpG(2);return t.Njj(k.handleUploadComplete(m))}),t.j41(2,"div",31)(3,"div",32),t.nrm(4,"lucide-icon",33),t.j41(5,"span",34),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s()()()()}if(2&r){const n=t.XpG(2);t.R7$(1),t.Y8G("fileType",t.eq3(8,zi,n.allUploadFileTypes.EXCEL)),t.R7$(3),t.Y8G("ngClass",t.lJ4(10,Pi)),t.R7$(2),t.SpI(" ",t.bMT(7,4,"lang_auto_keo_tha_file_excel")," "),t.R7$(2),t.SpI(" ",t.bMT(9,6,"lang_auto_hoc_click_de_chon_file")," ")}}function Ai(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",39)(5,"div",40),t.nrm(6,"img",41),t.nI1(7,"convertCdnLinkOfGitHub"),t.k0s(),t.j41(8,"div",42)(9,"p",43,44),t.EFF(11),t.k0s(),t.j41(12,"div",45),t.EFF(13),t.k0s()(),t.j41(14,"div",46)(15,"button",47),t.bIt("click",function(m){t.eBV(n);const k=t.XpG(2);return t.Njj(k.removeFile(m))}),t.nI1(16,"mytranslate"),t.nrm(17,"lucide-icon",48),t.k0s()()()()()()()}if(2&r){const n=t.sdS(10),_=t.XpG(2);t.R7$(6),t.Y8G("src",t.bMT(7,7,"images/excel.png"),t.B4B),t.R7$(3),t.FS9("matTooltip",null==_.file?null:_.file.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",n.isDisabled),t.R7$(2),t.SpI(" ",_.file?_.file.name:""," "),t.R7$(2),t.SpI(" ",_.fileMb+"mb"," "),t.R7$(2),t.FS9("matTooltip",t.bMT(16,9,"lang_auto_xoa"))}}const yn=function(){return{"mr-2":!0}};function Gn(r,I){if(1&r){const n=t.RV6();t.j41(0,"a",49),t.bIt("click",function(){t.eBV(n);const m=t.XpG(2);return t.Njj(m.exportDefaultListStudent())}),t.nrm(1,"lucide-icon",50),t.j41(2,"span",51),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,yn)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_student_utils_download_file")," "))}function An(r,I){if(1&r){const n=t.RV6();t.j41(0,"a",49),t.bIt("click",function(){t.eBV(n);const m=t.XpG(2);return t.Njj(m.exportListStudent())}),t.nrm(1,"lucide-icon",50),t.j41(2,"span",51),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,yn)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"lang_student_utils_export_list_student")," "))}function Ln(r,I){if(1&r&&(t.j41(0,"div",12),t.DNE(1,qn,6,4,"div",13),t.j41(2,"div",14),t.DNE(3,Ci,10,11,"div",15),t.DNE(4,Ai,18,11,"ng-template",null,16,t.C5r),t.j41(6,"div",17),t.DNE(7,Gn,5,5,"a",18),t.DNE(8,An,5,5,"a",18),t.k0s()()()),2&r){const n=t.sdS(5),_=t.XpG();t.R7$(1),t.Y8G("ngIf",_.errorImportFile.length),t.R7$(2),t.Y8G("ngIf",!_.file)("ngIfElse",n),t.R7$(4),t.Y8G("ngIf",0==(null==_.studentObjs?null:_.studentObjs.length)||_.isBusinessDomain),t.R7$(1),t.Y8G("ngIf",0!=(null==_.studentObjs?null:_.studentObjs.length)&&!_.isBusinessDomain)}}function Li(r,I){if(1&r&&(t.j41(0,"div",55)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r){const n=t.XpG(2);t.R7$(2),t.SpI("",t.bMT(3,1,n.msgError),"!")}}function Yi(r,I){if(1&r&&(t.j41(0,"div",52),t.nrm(1,"azt-form-enter-info-student",53),t.DNE(2,Li,4,3,"div",54),t.k0s()),2&r){const n=t.XpG();t.R7$(1),t.Y8G("studentForm",n.studentForm),t.R7$(1),t.Y8G("ngIf",""!==n.msgError)}}function Bi(r,I){1&r&&t.nrm(0,"azt-loading-ui",56)}function Vi(r,I){if(1&r){const n=t.RV6();t.j41(0,"azt-export-excel-for-student-list",57),t.bIt("exportDataDone",function(m){t.eBV(n);const k=t.XpG();return t.Njj(k.exportStudentListDone(m))}),t.k0s()}if(2&r){const n=t.XpG();t.Y8G("objs",n.exportStudentObjs)}}let ti=(()=>{class r extends pe._{exportDefaultListStudent(){this.exportStudentObjs=[{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_1"),phone:"0123456789",email:"nguyenvana@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:1,birthday:new Date(2001,1,23),gender:1,classroomId:0,parentId:0,facebookLink:"https://www.facebook.com/azotavn",schoolName:"Tr\u01b0\u1eddng THPT Azota"},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_2"),phone:"0123456790",email:"phamthib@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:2,birthday:new Date(2001,5,25),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_3"),phone:"0123456791",email:"C@Gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:3,birthday:new Date(2002,5,25),gender:1,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_4"),phone:"0112348478",email:"tranthid@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:4,birthday:new Date(2002,2,23),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_5"),phone:"0123456793",email:void 0,password:this.isBusinessDomain?"aBc@123":"",identificationNumber:void 0,birthday:void 0,gender:0,classroomId:0,parentId:0}]}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.studentObjs)}exportStudentListDone(n){let _=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(n,_)}changeNameDownloadFile(n){return this.commonService.createFileNameExportFile([n])+".xlsx"}handleUploadComplete(n){this.file=n,this.fileMb=this.getFileMB(this.file?.size??0)}getFileMB(n){return n&&n>0?(n/=1048576).toFixed(2):0}removeFile(n){n.stopPropagation(),this.fileSelect&&(this.fileSelect.nativeElement.value=null),this.file=null}showImportExcel(n){this.importExcel=n}confirmAction(){let n=this.studentForm.form.getRawValue();if(this.initStatusObj(),this.importExcel)this.file&&(1==this.selected.value?this.waitDestroy(this.studentService.apiStudentSaveStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(_=>{1==_.success?_.data?.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_student_utils_add_success")):(this.errorStatusObj("lang_student_error_uploading_file_please_check_again",!0),this.errorImportFile=_.data?.errors??[],this.file=null):(this.btnCloseDialog(!1),this.errorStatusObj(_.message??"",!0))})):2==this.selected.value&&this.waitDestroy(this.studentService.apiStudentUpdateStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(_=>{1==_.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.btnCloseDialog(!1),this.errorStatusObj(_.message??"",!0))})));else if(this.studentForm.form.valid){let _={fullName:n.fullName,phone:n.phoneNumber,identificationNumber:n.identificationNumber?Number(n.identificationNumber):void 0,email:n.email,gender:Number(n.gender),birthday:n.birthday,classroomId:this.classroomObj.id??0,password:n.password,facebookLink:n.facebookLink,schoolName:n.school};this.waitDestroy(this.studentService.apiStudentSaveObjPost(_).subscribe(m=>{1==m.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.stopStatusObj(),this.msgError=m.message??"")}))}}btnCloseDialog(n){this.dialogRef.close(n)}selectedIndexChange(n){if(this.selected.setValue(n),this.showImportExcel(0!=n),this.file){let _=document.getElementById("button-remove-export");_&&_.click()}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){super.ngOnInit()}constructor(n,_,m,k){super(k,m),this.shareFileFlutterService=n,this.studentService=_,this.dialogRef=m,this.data=k,this.studentForm=new pi.d,this.selected=new J.MJ(0,{nonNullable:!0}),this.importExcel=!1,this.birthDay="",this.msgError="",this.maxDate=gi.c.maxDateTimePicker,this.showPassword=!1,this.fileMb=0,this.errorImportFile=[],this.allUploadFileTypes=In.PO,this.file=null,this.studentObjs=k.studentObjs,this.classroomObj=k.classroomObj}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(hi.R),t.rXU(Ne.b0),t.rXU(Zt.CP,8),t.rXU(Zt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-add-student"]],viewQuery:function(_,m){if(1&_&&t.GBs(bi,5),2&_){let k;t.mGM(k=t.lsd())&&(m.fileSelect=k.first)}},features:[t.Jv_([{provide:Et.$O,useClass:Ve.fb,deps:[ie.Ju,Ve.ij]},{provide:Et.vq,useFactory:Wn.fJ,deps:[Qn.F]},{provide:Je.U$,useValue:{floatLabel:"never"}}]),t.Vt3],decls:23,vars:21,consts:[[1,"box","scroll-menu-test"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[3,"selectedIndex","selectedIndexChange"],[3,"label"],["class","form-group",4,"ngIf"],["class","px-2",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","add_student-g5-sbau_Ya",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","add_student-I6Q3FiuU2e",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"form-group"],["class","mt-4",4,"ngIf"],[1,"intro","mt-4"],["class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md",4,"ngIf","ngIfElse"],["exitsFile",""],[1,"mt-2","text-center"],["azt-track-service","add_teacher-pukPV3tL4","class","btn text-primary btn-transparent","target","_self",3,"click",4,"ngIf"],[1,"mt-4"],[1,"text-danger","font-medium","text-right"],[1,"overflow-auto","p-2","mt-2","border-slate-200","dark:border-darkmode-400","border","box",2,"height","120px","padding-right","5px"],["pointerEventsMethod","scrollbar",1,"w-full","h-full",3,"visibility","autoHeightDisabled"],["class","mb-2 text-xs",4,"ngFor","ngForOf"],[1,"mb-2","text-xs"],["class","font-medium",4,"ngIf"],["class","font-medium text-danger",4,"ngFor","ngForOf"],[1,"font-medium"],[1,"font-medium","text-danger"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md"],[3,"fileType","emitFiles"],[1,"px-4","pb-8","mt-8","flex","items-center","justify-center","text-center","cursor-pointer","relative"],[1,"flex","items-center"],["name","file-spreadsheet","size","20",3,"ngClass"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"matTooltip","click"],["name","trash-2","size","18"],["azt-track-service","add_teacher-pukPV3tL4","target","_self",1,"btn","text-primary","btn-transparent",3,"click"],["name","cloud-download","size","20",3,"ngClass"],[1,"text-primary"],[1,"px-2"],[3,"studentForm"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"mr-1"],[3,"objs","exportDataDone"]],template:function(_,m){1&_&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"mat-tab-group",3),t.bIt("selectedIndexChange",function(L){return m.selectedIndexChange(L)}),t.nrm(5,"mat-tab",4),t.nI1(6,"mytranslate"),t.nrm(7,"mat-tab",4),t.nI1(8,"mytranslate"),t.nrm(9,"mat-tab",4),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div"),t.DNE(12,Ln,9,5,"div",5),t.DNE(13,Yi,3,2,"div",6),t.k0s()()()(),t.j41(14,"div",7)(15,"button",8),t.bIt("click",function(){return m.btnCloseDialog(!1)}),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"button",9),t.bIt("click",function(){return m.confirmAction()}),t.DNE(19,Bi,1,0,"azt-loading-ui",10),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()(),t.DNE(22,Vi,1,1,"azt-export-excel-for-student-list",11)),2&_&&(t.R7$(4),t.Y8G("selectedIndex",m.selected.value),t.R7$(1),t.FS9("label",t.bMT(6,11,"lang_student_utils_add_student")),t.R7$(2),t.FS9("label",t.bMT(8,13,"lang_student_utils_quick_add_excel")),t.R7$(2),t.FS9("label",t.bMT(10,15,"lang_student_utils_quick_add_phone_and_email")),t.R7$(3),t.Y8G("ngIf",0!=m.selected.value),t.R7$(1),t.Y8G("ngIf",0==m.selected.value),t.R7$(3),t.SpI(" ",t.bMT(17,17,"lang_cms_common_close_btn")," "),t.R7$(2),t.Y8G("disabled",m.statusObj.loading||m.studentForm.form.invalid&&!m.importExcel||null==m.file&&m.importExcel),t.R7$(1),t.Y8G("ngIf",m.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(21,19,"lang_cms_common_confirm_btn")," "),t.R7$(2),t.Y8G("ngIf",m.exportStudentObjs))},dependencies:[C.YU,C.Sq,C.bT,Ie.mq,Ie.T8,Y.oV,Pe.U,B.f,Sn.m,at.R,Dn.s,Mn.p,Ct.WGl,fi.Yh,P.wp,P.gt],styles:[".file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:#1baba10d;border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}.hover-cancel[_ngcontent-%COMP%]:hover{background-color:#ebe9e9}.hover-save[_ngcontent-%COMP%]:hover{background-color:#ff3526}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}.input-custom[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:3px;padding-left:12px;padding-top:10px}.block-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.block-text[_ngcontent-%COMP%]{width:60px;color:#757575!important;font-size:16px}.block-input[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:space-evenly}"]})}return r})();var Xi=g(47160);function Ui(r,I){if(1&r&&(t.j41(0,"div",16)(1,"span",17),t.EFF(2),t.nI1(3,"mytranslate"),t.nrm(4,"azt-see-more-content",18),t.k0s()()),2&r){const n=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"lang_auto_hoc_sinh"),":\xa0 "),t.R7$(2),t.Y8G("content",n.listStudentsNames)("maxLength",200)}}function Wi(r,I){1&r&&t.nrm(0,"azt-loading-ui",19)}const Ji=function(){return{"mr-2 text-danger":!0}};let Hi=(()=>{class r extends pe._{btnCloseDialog(n){this.dialogRef.close(n)}confirmDelete(){this.initStatusObj();let n=this.listStudentObjs.map(m=>m.id);this.waitDestroy(this.studentService.apiStudentDeleteObjsPost({classroomId:this.classroomObj.id,studentIds:n}).subscribe(m=>{1==m.success?(this.successStatusObj("lang_cms_delete_success",!0),this.btnCloseDialog(!0)):(this.errorStatusObj(m.message,!0),this.btnCloseDialog(!1))}))}constructor(n,_,m){super(m,_),this.studentService=n,this.dialogRef=_,this.data=m,this.listStudentsNames="",this.listStudentObjs=m.listStudentObjs,this.classroomObj=m.classroomObj,this.listStudentsNames=m.listStudentObjs.map(k=>k.fullName).join(", ")}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(Ne.b0),t.rXU(Zt.CP,8),t.rXU(Zt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-delete-list-student"]],features:[t.Vt3],decls:31,vars:22,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center","mb-2"],["name","trash-2","size","24",3,"ngClass"],[1,"font-medium","text-danger"],[2,"text-transform","lowercase"],[1,"text-danger"],[1,"contentBoxName"],[3,"defaultHeight"],[1,"p-2","w-64","sm:w-full"],["class","text-slate-500 dark:text-slate-400 mb-2",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","delete_list_student-ixh0YFkn_",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","delete_list_student--8oV9RBQ9X",1,"btn","btn-danger",3,"click"],["class","mr-1",4,"ngIf"],[1,"text-slate-500","dark:text-slate-400","mb-2"],[1,"font-medium"],[3,"content","maxLength"],[1,"mr-1"]],template:function(_,m){1&_&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.nrm(4,"lucide-icon",4),t.j41(5,"span"),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"span",5),t.EFF(9),t.k0s(),t.EFF(10," \xa0 "),t.j41(11,"span",6),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.EFF(14),t.nI1(15,"mytranslate"),t.j41(16,"span",7),t.EFF(17),t.k0s(),t.EFF(18," ? "),t.k0s()(),t.j41(19,"div",8)(20,"azt-mat-dialog-content",9)(21,"div",10),t.DNE(22,Ui,5,5,"div",11),t.k0s()()()()(),t.j41(23,"div",12)(24,"button",13),t.bIt("click",function(){return m.btnCloseDialog(!1)}),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"button",14),t.bIt("click",function(){return m.confirmDelete()}),t.DNE(28,Wi,1,0,"azt-loading-ui",15),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s()()()),2&_&&(t.R7$(4),t.Y8G("ngClass",t.lJ4(21,Ji)),t.R7$(2),t.SpI(" ",t.bMT(7,11,"lang_auto_ban_co_chac_chan_muon_xoa"),"\xa0 "),t.R7$(3),t.JRh(m.data.listStudentObjs.length),t.R7$(3),t.JRh(t.bMT(13,13,"lang_auto_hoc_sinh")),t.R7$(2),t.SpI(" ",t.bMT(15,15,"lang_student_utils_delete_student_last"),":\xa0 "),t.R7$(3),t.JRh(m.classroomObj.name),t.R7$(3),t.Y8G("defaultHeight",70),t.R7$(2),t.Y8G("ngIf",""!=m.listStudentsNames),t.R7$(3),t.SpI(" ",t.bMT(26,17,"lang_cms_common_close_btn")," "),t.R7$(3),t.Y8G("ngIf",m.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(30,19,"lang_cms_common_confirm_btn")," "))},dependencies:[C.YU,C.bT,Xi.l,Pe.U,at.R,Ct.WGl,P.wp],encapsulation:2})}return r})();var xi=g(14999),Ki=g(46723),Ti=g(84828);function Ii(r,I){if(1&r&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&r){const n=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_zalo_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==n.extraDataObj?null:n.extraDataObj.reApprovedZaloFullName)}}function Qi(r,I){if(1&r&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&r){const n=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_so_dien_thoai_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==n.extraDataObj?null:n.extraDataObj.reApprovedPhone)}}function Zi(r,I){if(1&r&&(t.j41(0,"span",15),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",10),t.EFF(4),t.k0s()()),2&r){const n=t.XpG().$implicit;t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_auto_email_dang_yeu_cau_xac_thuc_lai"),": "),t.R7$(3),t.JRh(null==n.extraDataObj?null:n.extraDataObj.reApprovedEmail)}}function Si(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.j41(6,"span",9),t.EFF(7),t.k0s(),t.EFF(8),t.nI1(9,"mytranslate"),t.j41(10,"span",10),t.EFF(11),t.k0s(),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.DNE(14,Ii,5,4,"span",11),t.DNE(15,Qi,5,4,"span",11),t.DNE(16,Zi,5,4,"span",11),t.j41(17,"div",12)(18,"div",13),t.bIt("click",function(){const k=t.eBV(n).$implicit,L=t.XpG();return t.Njj(L.reApproveStudent(k.studentId,k.id))}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"div",14),t.bIt("click",function(){const k=t.eBV(n).$implicit,L=t.XpG();return t.Njj(L.rejectApproveRequest(k.studentId,k.id))}),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s()()()()()}if(2&r){const n=I.$implicit;t.R7$(4),t.SpI(" ",t.bMT(5,10,"lang_student_utils_reques_notice_list_student"),"\xa0 "),t.R7$(3),t.JRh(n.studentName),t.R7$(1),t.SpI(" \xa0 ",t.bMT(9,12,"lang_student_utils_reques_notice_list_class"),"\xa0 "),t.R7$(3),t.JRh(n.classroomName),t.R7$(1),t.SpI(" \xa0 ",t.bMT(13,14,"lang_student_utils_reques_notice_list_dont_select_name"),". "),t.R7$(2),t.Y8G("ngIf",null==n.extraDataObj?null:n.extraDataObj.reApprovedZaloFullName),t.R7$(1),t.Y8G("ngIf",null==n.extraDataObj?null:n.extraDataObj.reApprovedPhone),t.R7$(1),t.Y8G("ngIf",null==n.extraDataObj?null:n.extraDataObj.reApprovedEmail),t.R7$(3),t.SpI(" ",t.bMT(20,16,"lang_student_utils_reques_notice_list_unlock_select_again")," "),t.R7$(3),t.JRh(t.bMT(23,18,"lang_button_skip"))}}let qi=(()=>{class r extends pe._{reApproveStudent(n,_){this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(n??0).subscribe(m=>{1==m.success?(this.showSuccessSnack("lang_auto_mo_khoa_cho_hoc_sinh_thanh_cong"),this.noticeObjs=this.noticeObjs.filter(k=>k.id!=_),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(m.message??"",!0)}))}rejectApproveRequest(n,_){this.waitDestroy(this.studentService.apiStudentRejectMappingRequestGet(n??0).subscribe(m=>{1==m.success?(this.noticeObjs=this.noticeObjs.filter(k=>k.id!=_),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(m.message??"",!0)}))}btnCloseDialog(n){this.dialogRef.close(n)}constructor(n,_,m,k){super(k,m),this.studentService=n,this.noticeService=_,this.dialogRef=m,this.data=k,this.classroomObj=k.classroomObj,this.noticeObjs=k.noticeObjs}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(Ne.b0),t.rXU(Ti.eI),t.rXU(Zt.CP,8),t.rXU(Zt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-re-approve-request"]],features:[t.Vt3],decls:9,vars:4,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","scroll-menu-test"],[1,"p-3"],["class","ml-2 mb-2 mr-2 noticeobj",4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","request_notice_list-fcVrrBJYoFq",1,"btn","w-24","btn-secondary",3,"click"],[1,"ml-2","mb-2","mr-2","noticeobj"],[1,"pt-1","pb-1"],[1,"notify__content"],[1,"notify__name",2,"word-break","break-word"],[1,"notify__name"],["class","block",4,"ngIf"],[1,"mt-2","flex","justify-end"],["azt-track-service","request_notice_list-LmGuEaUfXP2",1,"notify__btn","bg-info","clickable",3,"click"],["azt-track-service","request_notice_list-K5qVGrBSxAh",1,"notify__btn","ml-3","clickable",3,"click"],[1,"block"]],template:function(_,m){1&_&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2),t.DNE(4,Si,24,20,"div",3),t.k0s()()(),t.j41(5,"div",4)(6,"button",5),t.bIt("click",function(){return m.btnCloseDialog(!1)}),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s()()()),2&_&&(t.R7$(4),t.Y8G("ngForOf",m.noticeObjs),t.R7$(3),t.SpI(" ",t.bMT(8,2,"lang_cms_common_close_btn")," "))},dependencies:[C.Sq,C.bT,Pe.U,P.wp],styles:[".noticeobj[_ngcontent-%COMP%]{background-color:#ecebeb;border-radius:5px;border:1px solid #e5e5e5}.notify__name[_ngcontent-%COMP%]{font-weight:500}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px 15px}.notify__btn[_ngcontent-%COMP%]{text-align:center;border-radius:5px;padding:5px;color:#000;font-size:14px;background-color:#fff;border:1px solid #cecdcd;width:-moz-fit-content;width:fit-content}.bg-info[_ngcontent-%COMP%]{color:#fff!important;border:1px solid #00a7d0!important;background-color:#00a7d0}.note[_ngcontent-%COMP%]{font-style:italic;font-size:15px;font-weight:600}"]})}return r})();var to=g(34514),eo=g(44477),Jn=g(81587);function no(r,I){if(1&r&&(t.j41(0,"div",5),t.nrm(1,"input",6),t.k0s()),2&r){const n=t.XpG();t.R7$(1),t.Y8G("value",n.data.student.phone)}}function io(r,I){if(1&r&&(t.j41(0,"div",5),t.nrm(1,"input",17),t.k0s()),2&r){const n=t.XpG();t.R7$(1),t.Y8G("value",n.data.student.email)}}function yi(r,I){1&r&&(t.j41(0,"div",18),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function oo(r,I){1&r&&(t.j41(0,"div",18)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function so(r,I){1&r&&t.nrm(0,"azt-loading-ui",19)}let f=(()=>{class r extends pe._{confirmCreate(){this.initStatusObj(),this.studentService.apiStudentCreateStudentUserPost({id:this.data.student.id,password:this.studentForm.form.controls.password?.value??""}).subscribe({next:_=>{this.successStatusObj("lang_business_create_account_successfully",!0),this.dialogRef.close(!0)},error:_=>{this.errorStatusObj(_.error.message??"lang_business_create_account_unsuccessfully",!0)}})}btnCloseDialog(){this.dialogRef.close(!1)}ngOnInit(){super.ngOnInit(),this.studentForm.form=new J.gE({fullName:new J.MJ(this.data.student.fullName??"",{nonNullable:!0,validators:[J.k0.required]}),gender:new J.MJ(this.data.student.gender,{nonNullable:!0}),birthday:new J.MJ(this.data.student.birthday,{nonNullable:!0}),email:new J.MJ(this.data.student.email??"",{nonNullable:!0,validators:[eo.U.isInvalidEmail,J.k0.email,J.k0.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)]}),phoneNumber:new J.MJ(this.data.student.phone??"",{nonNullable:!0,validators:[J.k0.required,J.k0.pattern(/^[0-9\-]*$/),J.k0.minLength(10),J.k0.maxLength(10)]}),identificationNumber:new J.MJ(this.commonService.padLeadingZeros(this.data.student.identificationNumber??void 0,6),{nonNullable:!0,validators:[J.k0.min(1),J.k0.maxLength(6),J.k0.pattern("^[0-9]*$")]}),facebookLink:new J.MJ(this.data.student?.moreInfo?.facebookLink,{nonNullable:!0}),school:new J.MJ(this.data.student?.moreInfo?.schoolName,{nonNullable:!0}),password:new J.MJ("",{nonNullable:!0,validators:[J.k0.required,J.k0.minLength(6)]})})}constructor(n,_,m){super(m,_),this.studentService=n,this.dialogRef=_,this.data=m,this.showPassword=!1,this.studentForm=new pi.d}ngOnDestroy(){super.ngOnDestroy()}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(Ne.b0),t.rXU(Zt.CP,8),t.rXU(Zt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["azt-create-user-business"]],features:[t.Jv_([{provide:Et.$O,useClass:Ve.fb,deps:[ie.Ju,to.ij]},{provide:Et.vq,useFactory:Wn.fJ,deps:[Qn.F]}]),t.Vt3],decls:28,vars:22,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[3,"formGroup"],[1,"mt-3"],["autocomplete","new-phone","type","text","disabled","",1,"form-control",3,"value"],["class","mt-3",4,"ngIf"],[1,"relative"],["id","password","formControlName","password","autocomplete","new-password","type","text",1,"form-control",3,"type","placeholder"],["azt-track-service","azt-forn-enter-info-student-sUAxhbS3t","type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["size","24",3,"name"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"flex","items-center","justify-end","p-3"],[1,"btn","btn-secondary","w-32","mr-2",3,"click"],[1,"btn","btn-primary","w-32",3,"disabled","click"],["class","mr-1",4,"ngIf"],["type","text","autocomplete","new-email","disabled","",1,"form-control",3,"value"],[1,"text-xs","text-danger","mt-1"],[1,"mr-1"]],template:function(_,m){1&_&&(t.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"form",4)(8,"div",5),t.nrm(9,"input",6),t.k0s(),t.DNE(10,no,2,1,"div",7),t.DNE(11,io,2,1,"div",7),t.j41(12,"div",5)(13,"div",8),t.nrm(14,"input",9),t.nI1(15,"mytranslate"),t.j41(16,"button",10),t.bIt("click",function(){return m.showPassword=!m.showPassword}),t.nrm(17,"lucide-icon",11),t.k0s()(),t.DNE(18,yi,3,3,"div",12),t.DNE(19,oo,4,3,"div",12),t.k0s()()()()(),t.j41(20,"div",13)(21,"button",14),t.bIt("click",function(){return m.btnCloseDialog()}),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"button",15),t.bIt("click",function(){return m.confirmCreate()}),t.DNE(25,so,1,0,"azt-loading-ui",16),t.EFF(26),t.nI1(27,"mytranslate"),t.k0s()()()),2&_&&(t.R7$(5),t.SpI(" ",t.bMT(6,14,"lang_business_create_account")," "),t.R7$(2),t.Y8G("formGroup",m.studentForm.form),t.R7$(2),t.Y8G("value",m.data.student.fullName),t.R7$(1),t.Y8G("ngIf",m.data.student.phone),t.R7$(1),t.Y8G("ngIf",m.data.student.email),t.R7$(3),t.FS9("placeholder",t.bMT(15,16,"lang_auto_mat_khau")),t.Y8G("type",m.showPassword?"text":"password"),t.R7$(3),t.FS9("name",m.showPassword?"eye":"eye-off"),t.R7$(1),t.Y8G("ngIf",null==m.studentForm.form.controls.password||null==m.studentForm.form.controls.password.errors?null:m.studentForm.form.controls.password.errors.minlength),t.R7$(1),t.Y8G("ngIf",null==m.studentForm.form.controls.password||null==m.studentForm.form.controls.password.errors?null:m.studentForm.form.controls.password.errors.required),t.R7$(3),t.SpI(" ",t.bMT(23,18,"lang_auto_dong")," "),t.R7$(2),t.Y8G("disabled",(null==m.studentForm.form.controls.password?null:m.studentForm.form.controls.password.invalid)||m.statusObj.loading),t.R7$(1),t.Y8G("ngIf",m.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(27,20,"lang_auto_luu")," "))},dependencies:[C.bT,J.qT,J.me,J.BC,J.cb,J.j4,J.JD,Jn.t,Pe.U,at.R,Ct.WGl,P.wp],styles:[".text-sm[_ngcontent-%COMP%]{font-size:14px!important}.box[_ngcontent-%COMP%]{height:100%}.btn-copy[_ngcontent-%COMP%]{width:140px}"]})}return r})();var W=g(68774),p=g(67638),v=g(40609),S=g(25693),G=g(51913),z=g(41715),it=g(99927),Mt=g(91640);let Xt=(()=>{class r{constructor(n,_,m,k,L,et){this.commonService=n,this.examPageResultService=_,this.permissionService=m,this.globalService=k,this.answerTypeService=L,this.homeworkExamService=et}getTestedAllResultByClassroomId(n,_,m,k){return this.globalService.startIntervalFunc(n),this.getTestedOfExamResultByClassroomId(n,_,"all",m,k)}getTestedOfExamResultByClassroomId(n,_,m,k,L){return new Tn.c(et=>{this.examPageResultService.apiExamPageResultGetObjV2Get(_).subscribe(St=>{if(1==St.success){let re=St.data?.examObj,ln=this.hasEssay(St.data?.examQuestionObjs??[]),Ni=St.data?.classroomWithAvatarAndStudentObjs??new Array;this.permissionService.hasViewExamPermission("exam",re)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",re)?this.getAllExamResultObjs(n,[],_,"",di=>{if(di.hasOwnProperty("success")&&1==di.success){let Mr=this.mergeStudentWithAvatar(di.studentWithResultObjs??[]),is={};Mr?.forEach(ui=>{let xa=ui.parentId??"0";is.hasOwnProperty(xa)||(is[xa]=ui.examResultObjs??[])});let Ca=L;if(this.homeworkExamService.mustInClassroom(re)&&Ni.length>0)for(let ui=0;ui<Ni.length;ui++)if(Ni[ui].classroomObj?.id==k){let Ee=Ni[ui].studentObjs??[];if(Ee.length>0)for(let we=0;we<Ee.length;we++){let ya=Ee[we].parentId??"0";is.hasOwnProperty(ya)?(Array.isArray(Ee[we].examResultObjs)||(Ee[we].examResultObjs=[]),Ee[we].examResultObjs=this.findExamResultOfStudent(Ee[we].examResultObjs?.concat(is[ya])??[],Ee[we].id??"0")):Ee[we].examResultObjs=this.findExamResultOfStudent(Ee[we].examResultObjs??[],Ee[we].id??"0");let ja=this.filterExamResultByType(Ee[we].examResultObjs??[],"first"),Oa=this.filterExamResultByType(Ee[we].examResultObjs??[],"last"),Ea=this.filterExamResultByType(Ee[we].examResultObjs??[],"highest");Ca.forEach($i=>{if($i.dataExam||($i.dataExam=[]),$i.parentId==Ee[we].parentId||$i.id.toString()==Ee[we].id){let os=ja.hasOwnProperty(Ee[we].parentId??0)?ja[Ee[we].parentId??0]:void 0,ss=Oa.hasOwnProperty(Ee[we].parentId??0)?Oa[Ee[we].parentId??0]:void 0,wa=Ea.hasOwnProperty(Ee[we].parentId??0)?Ea[Ee[we].parentId??0]:void 0,Gr={id:re?.id??0,name:re?.name??"",firstPoint:os?this.checkMarkStatus(os,ln):void 0,lastPoint:ss?this.checkMarkStatus(ss,ln):void 0,highestPoint:wa?this.checkMarkStatus(wa,ln):void 0};$i.dataExam.push(Gr)}$i.dataExam.sort((os,ss)=>(os.id??0)-(ss.id??0))},Ca)}break}et.next({status:200,success:1,data:Ca,message:"successful"}),et.complete()}else et.next({status:di.code,success:0,data:L,message:di.message??""}),et.complete()}):(et.next({status:200,success:1,data:L,message:"successful"}),et.complete())}else et.next({status:St.code,success:0,data:L,message:St.message??""}),et.complete()})})}getAllExamResultObjs(n,_,m,k,L){this.examPageResultService.apiExamPageResultGetObjsV2Get(m,"export",k).subscribe(et=>{1==et.success?(et.data?.objs&&_.push(...et.data.objs),et.data?.nextPage?this.globalService.isStopIntervalFunc(n)?L({studentWithResultObjs:_,success:1}):setTimeout(()=>{this.getAllExamResultObjs(n,_,m,et.data?.nextPage??"",L)},300):L({studentWithResultObjs:_,success:1})):L({code:et.code,studentWithResultObjs:[],success:0,message:et.message??""})})}filterExamResultOnTest(n,_,m){var k={};return n.forEach(L=>{var et=this.commonService.myClone(L)??{};if(et.testStatus)k[et.userId??0]=et.testStatus;else if(et.startedTest&&m)if(_.endTime){var St=Math.floor(new Date(_.endTime).getTime()/1e3);k[et.userId??0]=m<=St+60*(_.minutes??0)+600?0:-1}else{var re=et.startedTest?Math.floor(new Date(et.startedTest).getTime()/1e3):0;k[et.userId??0]=m<=re+86400?0:-1}else k[et.userId??0]=0}),k}mergeStudentWithAvatar(n){var _=[];return n.forEach(m=>{var k=_.filter(et=>et.parentId==m.parentId);if(k&&0!=k.length)for(var L=0;L<_.length;L++)_[L].parentId==m.parentId&&(_[L].examResultObjs=_[L].examResultObjs?.concat(m.examResultObjs??[]));else _.push(m)}),_}findExamResultOfStudent(n,_){var m=[];return n.forEach(k=>{(k.studentId==_||null==k.studentId)&&m.push(k)}),m}createStudentWithResult(n,_,m){return{id:n.id,userId:n.parentId,studentId:n.id,identificationNumber:_.examResultStatisticObj?.offlineMarkInfoObj?.studentCode??0,offlineMixQuestionHashId:_.examResultStatisticObj?.offlineMarkInfoObj?.offlineMixquestionHashId??0,gender:n.gender,fullName:n.fullName,avatar:n.avatar,birthday:n.birthday,mark:_.hasOwnProperty("mark")?_.mark:null,confirmedAt:_.hasOwnProperty("confirmedAt")?_.confirmedAt:null,startedTest:_.hasOwnProperty("startedTest")?_.startedTest:null,createdAt:_.hasOwnProperty("createdAt")?_.createdAt:null,status:m,totalExamResultObjs:0,checkBoxGroupControl:new J.gE({isShow:new J.MJ(!1,{nonNullable:!0}),selectedCheckbox:new J.MJ(!1,{nonNullable:!0})})}}filterExamResultByType(n,_){var m={};if(n.length>1)n.forEach((L,et)=>{var St=this.commonService.myClone(L);L.testStatus&&(St.resultId=St.id,St.indexTest=et,"last"==_&&(m[St.userId??0]=St),"first"==_&&(m.hasOwnProperty(St.userId??0)||(m[St.userId??0]=St)),"highest"==_)&&(m.hasOwnProperty(St.userId??0)?(m[St.userId??0].mark??-1)<=(St.mark??-1)&&(m[St.userId??0]=St):m[St.userId??0]=St)});else{var k=this.commonService.myClone(n[0]??{});k.resultId=k.testStatus?k.id:0,k.indexTest=0,m[k.userId??0]=k}return m}hasEssay(n){let _=!1;for(let m=0;m<n.length;m++)if(this.answerTypeService.isEssayAnswer(n[m])){_=!0;break}return _}checkMarkStatus(n,_){return _?1==n.testStatus?n.confirmedAt?n.mark:-1:void 0:1==n.testStatus?n.mark:void 0}static#t=this.\u0275fac=function(_){return new(_||r)(t.KVO(S.R),t.KVO(xt.TE),t.KVO(G.p),t.KVO(z.r),t.KVO(it._),t.KVO(Mt.Z))};static#e=this.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Ut=g(68323),He=g(78745),ei=g(7919),Xe=g(60694);const ao=["parent"];function rn(r,I){if(1&r&&(t.j41(0,"div",10),t.nrm(1,"azt-loading-effect",11),t.k0s()),2&r){const n=t.XpG();t.R7$(1),t.Y8G("currentStatusObj",n.statusObj)}}function yo(r,I){if(1&r&&t.nrm(0,"azt-download-qr-code",30),2&r){const n=t.XpG(2);t.Y8G("fileName",n.convertNameForQR())("linkUrl",n.copyLinkToClipboard())("showLink",!n.isMobileDevice)}}function jo(r,I){if(1&r&&(t.j41(0,"button",33)(1,"span",34),t.nrm(2,"lucide-icon",35),t.k0s()()),2&r){t.XpG(3);const n=t.sdS(5);t.Y8G("matMenuTriggerFor",n)}}function as(r,I){if(1&r&&(t.j41(0,"div",31),t.DNE(1,jo,3,1,"button",32),t.k0s()),2&r){const n=t.XpG(2);t.R7$(1),t.Y8G("ngIf",null!=(null==n.classroomObj?null:n.classroomObj.permissionObj))}}function Oo(r,I){if(1&r&&(t.j41(0,"span",49),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const n=t.XpG(3);t.R7$(1),t.Lme("",t.bMT(2,2,"lang_auto_da_chon")," ",n.totalCheckboxSelected,"")}}const oe=function(){return{"mr-2":!0}};function Eo(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",50),t.bIt("click",function(){t.eBV(n);const m=t.XpG(3);return t.Njj(m.deleteListStudentDialog())}),t.nrm(1,"lucide-icon",51),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_xoa")," "))}const wo=function(){return{"mr-2 flex-none":!0}};function rs(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",52),t.bIt("click",function(){t.eBV(n);const m=t.XpG(3);return t.Njj(m.exportListStudent())}),t.nrm(1,"lucide-icon",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,wo)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_student_utils_export_list_student")," "))}function ro(r,I){1&r&&t.nrm(0,"azt-loading-ui",57)}function ls(r,I){1&r&&t.nrm(0,"lucide-icon",53),2&r&&t.Y8G("ngClass",t.lJ4(1,oe))}function Ro(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",54),t.bIt("click",function(){t.eBV(n);const m=t.XpG(3);return t.Njj(m.exportExcelForScoreOfClassroom())}),t.DNE(1,ro,1,0,"azt-loading-ui",55),t.DNE(2,ls,1,2,"lucide-icon",56),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()}if(2&r){const n=t.XpG(3);t.R7$(1),t.Y8G("ngIf",n.loadingExport),t.R7$(1),t.Y8G("ngIf",!n.loadingExport),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_auto_xuat_bang_diem")," ")}}function Fo(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",58),t.bIt("click",function(){t.eBV(n);const m=t.XpG(3);return t.Njj(m.addStudentDialog(m.classroomObj))}),t.nrm(1,"lucide-icon",59),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function Do(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",60),t.bIt("click",function(){t.eBV(n);const m=t.XpG(3);return t.Njj(m.openDialogAutoNumbering())}),t.nrm(1,"lucide-icon",61),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_danh_so_bao_danh")," "))}function Mo(r,I){if(1&r&&(t.j41(0,"button",62),t.nrm(1,"lucide-icon",35),t.k0s()),2&r){t.XpG(3);const n=t.sdS(5);t.Y8G("matMenuTriggerFor",n)}}function lo(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",36)(1,"div",37)(2,"div",38)(3,"azt-search-box",39),t.bIt("onSearch",function(m){t.eBV(n);const k=t.XpG(2);return t.Njj(k.onSearchBox(m.searchObj))}),t.nI1(4,"mytranslate"),t.k0s()(),t.j41(5,"div",40),t.DNE(6,Oo,3,4,"span",41),t.DNE(7,Eo,4,5,"button",42),t.DNE(8,rs,4,5,"button",43),t.nI1(9,"viewPermission"),t.DNE(10,Ro,5,5,"button",44),t.nI1(11,"viewPermission"),t.DNE(12,Fo,4,5,"button",45),t.nI1(13,"editPermission"),t.DNE(14,Do,4,5,"button",46),t.nI1(15,"editPermission"),t.j41(16,"div",47),t.DNE(17,Mo,2,1,"button",48),t.k0s()()()()}if(2&r){const n=t.XpG(2);t.R7$(3),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(4,9,"lang_core_tim_theo_ten_phone_email")),t.R7$(3),t.Y8G("ngIf",n.totalCheckboxSelected>0&&!(n.isMobileDevice||n.isMobileWebView)),t.R7$(1),t.Y8G("ngIf",n.totalCheckboxSelected>0&&!(n.isMobileDevice||n.isMobileWebView)),t.R7$(1),t.Y8G("ngIf",t.i5U(9,11,n.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(11,14,n.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(13,17,n.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(15,20,n.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",null!=(null==n.classroomObj?null:n.classroomObj.permissionObj))}}function Go(r,I){if(1&r){const n=t.RV6();t.j41(0,"input",88),t.bIt("change",function(){t.eBV(n);const m=t.XpG(4);return t.Njj(m.selectSingleStudent())}),t.k0s()}if(2&r){const n=t.XpG().$implicit;t.Y8G("formControl",n.checked)}}function No(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",94),t.bIt("click",function(){t.eBV(n);const m=t.XpG(2),k=m.index,L=m.$implicit,et=t.XpG(3);return t.Njj(et.onPositionChange("up",k-1,L.id,null==et.classroomObj?null:et.classroomObj.id))}),t.nrm(1,"lucide-icon",95),t.k0s()}}function ji(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",96),t.bIt("click",function(){t.eBV(n);const m=t.XpG(2),k=m.index,L=m.$implicit,et=t.XpG(3);return t.Njj(et.onPositionChange("down",k+1,L.id,null==et.classroomObj?null:et.classroomObj.id))}),t.nrm(1,"lucide-icon",97),t.k0s()}}function Oi(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",89),t.DNE(1,No,2,0,"button",90),t.j41(2,"input",91,92),t.bIt("keyup.enter",function(){t.eBV(n);const m=t.sdS(3),k=t.XpG(),L=k.index,et=k.$implicit,St=t.XpG(3);return t.Njj(St.onPositionChange(m.value,L,et.id,null==St.classroomObj?null:St.classroomObj.id))}),t.k0s(),t.DNE(4,ji,2,0,"button",93),t.k0s()}if(2&r){const n=t.XpG().index,_=t.XpG(3);t.R7$(1),t.Y8G("ngIf",0!=n),t.R7$(1),t.FS9("value",n+1),t.R7$(2),t.Y8G("ngIf",_.listStudents&&n!=_.listStudents.length-1)}}function ni(r,I){if(1&r&&(t.j41(0,"div",98),t.EFF(1),t.k0s()),2&r){const n=t.XpG().index;t.R7$(1),t.SpI(" ",n+1," ")}}function Ei(r,I){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const n=t.XpG().$implicit;t.R7$(1),t.E5c(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework," ",t.bMT(2,3,"lang_student_classroom_list_detail_homework")," ")}}function $o(r,I){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const n=t.XpG().$implicit;t.R7$(1),t.E5c(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam," ",t.bMT(2,3,"lang_student_classroom_list_detail_exam")," ")}}function cs(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",99),t.bIt("click",function(){t.eBV(n);const m=t.XpG().$implicit,k=t.XpG(3);return t.Njj(k.editStudentDialog(m))}),t.nrm(1,"lucide-icon",100),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_sua")," "))}function ms(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",101),t.bIt("click",function(){t.eBV(n);const m=t.XpG().$implicit,k=t.XpG(3);return t.Njj(k.deleteStudentDialog(m))}),t.nrm(1,"lucide-icon",102),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_button_delete")," "))}function zo(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",103),t.bIt("click",function(){t.eBV(n);const m=t.XpG().$implicit,k=t.XpG(3);return t.Njj(k.openDialogResetPass(m))}),t.nrm(1,"lucide-icon",104),t.j41(2,"span",69),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_core_dat_lai_mat_khau")))}function _s(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",105),t.bIt("click",function(){t.eBV(n);const m=t.XpG().$implicit,k=t.XpG(3);return t.Njj(k.openDialogCreateUser(m))}),t.nrm(1,"lucide-icon",106),t.j41(2,"span",69),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_business_create_account")))}const Po=function(r){return{opacity:r}};function Ao(r,I){if(1&r){const n=t.RV6();t.j41(0,"tr",73)(1,"td",74),t.DNE(2,Go,1,1,"input",75),t.k0s(),t.j41(3,"td",76),t.DNE(4,Oi,5,3,"div",77),t.nI1(5,"editPermission"),t.DNE(6,ni,2,1,"ng-template",null,78,t.C5r),t.k0s(),t.j41(8,"td",79),t.bIt("click",function(){const k=t.eBV(n).$implicit,L=t.XpG(3);return t.Njj(L.goToProfile(k.classroomId,k.id))}),t.nrm(9,"azt-student-info-box",80),t.k0s(),t.j41(10,"td",81),t.EFF(11),t.nI1(12,"formatStudentCodeToNumber"),t.k0s(),t.j41(13,"td",82),t.DNE(14,Ei,3,5,"span",7),t.k0s(),t.j41(15,"td",82),t.DNE(16,$o,3,5,"span",7),t.k0s(),t.j41(17,"td",82)(18,"div",83),t.DNE(19,cs,4,5,"button",84),t.nI1(20,"editPermission"),t.DNE(21,ms,4,5,"button",85),t.nI1(22,"editPermission"),t.DNE(23,zo,5,5,"button",86),t.nI1(24,"editPermission"),t.DNE(25,_s,5,5,"button",87),t.nI1(26,"editPermission"),t.k0s()()()}if(2&r){const n=I.$implicit,_=t.sdS(7),m=t.XpG(3);t.Y8G("ngStyle",t.eq3(42,Po,null!=n.checked&&n.checked.value?"0.6":"1")),t.R7$(2),t.Y8G("ngIf",void 0!==n.checked),t.R7$(2),t.Y8G("ngIf",1==(null==m.classroomObj?null:m.classroomObj.sortType)&&t.i5U(5,24,m.classroomObj,"student"))("ngIfElse",_),t.R7$(5),t.Y8G("name",n.fullName)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("avatar",n.avatar)("identificationNumber",n.identificationNumber)("gender",n.gender)("hasUser",1==n.isVerified)("schoolName",n.schoolName)("classrooms",null==n.moreInfo?null:n.moreInfo.classrooms)("joinedAt",null==n.moreInfo?null:n.moreInfo.joinedAt)("phone",n.phone)("email",n.email),t.R7$(2),t.JRh(n.identificationNumber?t.i5U(12,27,n.identificationNumber,6):""),t.R7$(3),t.Y8G("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework)),t.R7$(2),t.Y8G("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam)),t.R7$(3),t.Y8G("ngIf",t.i5U(20,30,m.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(22,33,m.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",t.i5U(24,36,m.classroomObj,"student")&&m.isBusinessDomain&&n.parentId),t.R7$(2),t.Y8G("ngIf",t.i5U(26,39,m.classroomObj,"student")&&m.isBusinessDomain&&!n.parentId)}}const _t=function(){return["fullName","phone","email"]};function Ta(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",63)(1,"drag-scroll")(2,"table",64)(3,"thead")(4,"tr",65)(5,"th")(6,"input",66),t.bIt("change",function(){t.eBV(n);const m=t.XpG(2);return t.Njj(m.selectAllStudentsObjs())}),t.k0s()(),t.j41(7,"th",67)(8,"div",68),t.nI1(9,"mytranslate"),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s()(),t.j41(12,"th",69),t.EFF(13),t.nI1(14,"mytranslate"),t.k0s(),t.j41(15,"th",70),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"th",71),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"th",71),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.j41(24,"th",71),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s()()(),t.j41(27,"tbody"),t.DNE(28,Ao,27,44,"tr",72),t.nI1(29,"appFilter"),t.k0s()()()()}if(2&r){const n=t.XpG(2);t.R7$(6),t.Y8G("formControl",n.isSelectAllFormControl),t.R7$(2),t.FCK("matTooltip","",t.bMT(9,13,"lang_student_classroom_list_detail_quantity"),": ",null!=n.classroomObj&&n.classroomObj.countStudents?null==n.classroomObj?null:n.classroomObj.countStudents:0,""),t.Y8G("matTooltipDisabled",n.isMobileDevice),t.R7$(2),t.E5c(" ",t.bMT(11,15,n.isMobileDevice?"":"lang_student_classroom_list_detail_quantity"),"",n.isMobileDevice?"":": ","",null!=n.classroomObj&&n.classroomObj.countStudents?null==n.classroomObj?null:n.classroomObj.countStudents:0," "),t.R7$(3),t.JRh(t.bMT(14,17,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(17,19,"lang_auto_so_bao_danh")),t.R7$(3),t.SpI(" ",t.bMT(20,21,"lang_auto_bai_tap_da_lam")," "),t.R7$(3),t.SpI(" ",t.bMT(23,23,"lang_auto_de_thi_da_lam")," "),t.R7$(3),t.JRh(t.bMT(26,25,"lang_auto_hanh_dong")),t.R7$(3),t.Y8G("ngForOf",t.brH(29,27,n.listStudents,n.searchContentObj.searchContent,t.lJ4(31,_t)))}}function Ht(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",112),t.bIt("click",function(){t.eBV(n);const m=t.XpG(3);return t.Njj(m.addStudentDialog(m.classroomObj))}),t.nrm(1,"lucide-icon",59),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function Yn(r,I){if(1&r&&(t.j41(0,"div",107)(1,"div",108),t.nrm(2,"azt-svg-icon",109),t.j41(3,"div",110),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,Ht,4,5,"button",111),t.nI1(7,"editPermission"),t.k0s()()),2&r){const n=t.XpG(2);let _;t.R7$(2),t.Y8G("size",82),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_student_classroom_list_detail_not_student")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(7,5,n.classroomObj,"student")&&0==(null!==(_=null==n.listStudents?null:n.listStudents.length)&&void 0!==_?_:0))}}function hn(r,I){if(1&r){const n=t.RV6();t.j41(0,"div")(1,"input",66),t.bIt("change",function(){t.eBV(n);const m=t.XpG(2);return t.Njj(m.selectAllStudentsObjs())}),t.k0s(),t.j41(2,"span",113),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}if(2&r){const n=t.XpG(2);t.R7$(1),t.Y8G("formControl",n.isSelectAllFormControl),t.R7$(2),t.JRh(t.bMT(4,2,"lang_auto_tat_ca"))}}const jn=function(r){return{"w-full":r}};function Hn(r,I){if(1&r&&(t.j41(0,"span",114),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(5,jn,n.isMobileDevice||n.isMobileWebView)),t.R7$(1),t.Lme("",t.bMT(2,3,"lang_auto_da_chon")," ",n.totalCheckboxSelected,"")}}function ii(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",115),t.bIt("click",function(){t.eBV(n);const m=t.XpG(2);return t.Njj(m.deleteListStudentDialog())}),t.nrm(1,"lucide-icon",51),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_xoa")," "))}function co(r,I){if(1&r){const n=t.RV6();t.j41(0,"input",88),t.bIt("change",function(){t.eBV(n);const m=t.XpG(3);return t.Njj(m.selectSingleStudent())}),t.k0s()}if(2&r){const n=t.XpG().$implicit;t.Y8G("formControl",n.checked)}}function oi(r,I){if(1&r&&(t.j41(0,"a",130),t.nI1(1,"mytranslate"),t.nI1(2,"mytranslate"),t.nI1(3,"mytranslate"),t.nI1(4,"mytranslate"),t.nI1(5,"formatStudentCodeToNumber"),t.nI1(6,"mytranslate"),t.EFF(7),t.k0s()),2&r){const n=t.XpG().$implicit;t.Tbm("matTooltip","\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(1,7,"lang_first_and_last_name"),": ",n.fullName,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(2,9,"lang_number_phone"),": ",n.phone?n.phone:t.bMT(3,11,"lang_not_data"),"\n\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t",t.bMT(4,13,"lang_auto_so_bao_danh"),": ",n.identificationNumber?t.i5U(5,15,n.identificationNumber,6):t.bMT(6,18,"lang_not_data"),""),t.R7$(7),t.SpI(" ",n.fullName," \xa0 ")}}function si(r,I){if(1&r&&(t.j41(0,"div",131),t.EFF(1),t.k0s()),2&r){const n=t.XpG().$implicit;t.R7$(1),t.SpI(" ",n.phone," ")}}function Lo(r,I){if(1&r&&(t.j41(0,"div",132),t.EFF(1),t.k0s()),2&r){const n=t.XpG().$implicit;t.FS9("matTooltip",n.email),t.R7$(1),t.SpI(" ",n.email," ")}}function ds(r,I){if(1&r){const n=t.RV6();t.j41(0,"a",140),t.bIt("click",function(){t.eBV(n);const m=t.XpG(2).$implicit,k=t.XpG(2);return t.Njj(k.editStudentDialog(m))}),t.nrm(1,"lucide-icon",100),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_sua")," "))}function fn(r,I){if(1&r){const n=t.RV6();t.j41(0,"a",141),t.bIt("click",function(){t.eBV(n);const m=t.XpG(2).$implicit,k=t.XpG(2);return t.Njj(k.deleteStudentDialog(m))}),t.nrm(1,"lucide-icon",142),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_button_delete")," "))}function Ue(r,I){if(1&r){const n=t.RV6();t.j41(0,"a",144),t.bIt("click",function(){t.eBV(n);const m=t.XpG(3).$implicit,k=t.XpG(2);return t.Njj(k.openDialogResetPass(m))}),t.nrm(1,"lucide-icon",145),t.j41(2,"span",69),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(2),t.JRh(t.bMT(4,2,"lang_core_dat_lai_mat_khau")))}function mo(r,I){if(1&r&&(t.j41(0,"li"),t.DNE(1,Ue,5,5,"a",143),t.nI1(2,"editPermission"),t.k0s()),2&r){const n=t.XpG(2).$implicit,_=t.XpG(2);t.R7$(1),t.Y8G("ngIf",t.i5U(2,1,_.classroomObj,"student")&&n.parentId)}}const _o=function(){return{"text-slate-500":!0}};function Yo(r,I){if(1&r&&(t.j41(0,"div",133)(1,"a",134),t.nrm(2,"lucide-icon",135),t.k0s(),t.j41(3,"mat-menu",null,136)(5,"div",137)(6,"ul",6)(7,"li"),t.DNE(8,ds,4,5,"a",138),t.nI1(9,"editPermission"),t.k0s(),t.j41(10,"li"),t.DNE(11,fn,4,5,"a",139),t.nI1(12,"editPermission"),t.k0s(),t.DNE(13,mo,3,4,"li",7),t.k0s()()()()),2&r){const n=t.sdS(4),_=t.XpG(3);t.R7$(1),t.Y8G("matMenuTriggerFor",n),t.R7$(1),t.Y8G("ngClass",t.lJ4(11,_o)),t.R7$(6),t.Y8G("ngIf",t.i5U(9,5,_.classroomObj,"student")),t.R7$(3),t.Y8G("ngIf",t.i5U(12,8,_.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",_.isBusinessDomain)}}function Bn(r,I){1&r&&(t.j41(0,"div",151)(1,"span",152),t.nrm(2,"lucide-icon",153),t.k0s(),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()),2&r&&(t.R7$(3),t.SpI(" ",t.bMT(4,1,"lang_auto_co_tai_khoan")," "))}function uo(r,I){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const n=t.XpG(2).$implicit;t.R7$(1),t.E5c(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework," ",t.bMT(2,3,"lang_student_classroom_list_detail_homework")," ")}}function po(r,I){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const n=t.XpG(2).$implicit;t.R7$(1),t.E5c(" ",null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult," / ",null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam," ",t.bMT(2,3,"lang_student_classroom_list_detail_exam")," ")}}function us(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",158),t.bIt("click",function(){t.eBV(n);const m=t.XpG(3),k=m.index,L=m.$implicit,et=t.XpG(2);return t.Njj(et.onPositionChange("up",k-1,L.id,null==et.classroomObj?null:et.classroomObj.id))}),t.nrm(1,"lucide-icon",95),t.k0s()}}function ps(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",159),t.bIt("click",function(){t.eBV(n);const m=t.XpG(3),k=m.index,L=m.$implicit,et=t.XpG(2);return t.Njj(et.onPositionChange("down",k+1,L.id,null==et.classroomObj?null:et.classroomObj.id))}),t.nrm(1,"lucide-icon",97),t.k0s()}}function gs(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",146)(1,"div",154)(2,"div",155),t.DNE(3,us,2,0,"button",156),t.j41(4,"input",91,92),t.bIt("keyup.enter",function(){t.eBV(n);const m=t.sdS(5),k=t.XpG(2),L=k.index,et=k.$implicit,St=t.XpG(2);return t.Njj(St.onPositionChange(m.value,L,et.id,null==St.classroomObj?null:St.classroomObj.id))}),t.k0s(),t.DNE(6,ps,2,0,"button",157),t.k0s()()()}if(2&r){const n=t.XpG(2).index,_=t.XpG(2);t.R7$(3),t.Y8G("ngIf",0!=n),t.R7$(1),t.FS9("value",n+1),t.R7$(2),t.Y8G("ngIf",_.listStudents&&n!=_.listStudents.length-1)}}function ai(r,I){if(1&r&&(t.j41(0,"div")(1,"div",146)(2,"div",147),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.j41(5,"div",148),t.EFF(6),t.nI1(7,"formatStudentCodeToNumber"),t.k0s()(),t.j41(8,"div",146)(9,"div",147),t.EFF(10),t.nI1(11,"mytranslate"),t.k0s(),t.j41(12,"div",148),t.EFF(13),t.nI1(14,"mytranslate"),t.nI1(15,"mytranslate"),t.k0s()(),t.j41(16,"div",146)(17,"div",147),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"div",148),t.EFF(21),t.nI1(22,"formatOnlyDateByUserUnitPipe"),t.k0s()(),t.j41(23,"div",146)(24,"div",147),t.EFF(25),t.nI1(26,"mytranslate"),t.k0s(),t.j41(27,"div",148),t.DNE(28,Bn,5,3,"div",149),t.k0s()(),t.j41(29,"div",146)(30,"div",147),t.EFF(31),t.nI1(32,"mytranslate"),t.k0s(),t.j41(33,"div",148),t.DNE(34,uo,3,5,"span",7),t.k0s()(),t.j41(35,"div",146)(36,"div",147),t.EFF(37),t.nI1(38,"mytranslate"),t.k0s(),t.j41(39,"div",148),t.DNE(40,po,3,5,"span",7),t.k0s()(),t.DNE(41,gs,7,3,"div",150),t.nI1(42,"editPermission"),t.k0s()),2&r){const n=t.XpG().$implicit,_=t.XpG(2);t.R7$(3),t.SpI(" ",t.bMT(4,13,"lang_auto_so_bao_danh")," "),t.R7$(3),t.SpI(" ",n.identificationNumber?t.i5U(7,15,n.identificationNumber,6):""," "),t.R7$(4),t.SpI(" ",t.bMT(11,18,"lang_gender")," "),t.R7$(3),t.SpI(" ",0==n.gender?t.bMT(14,20,"lang_auto_nu"):t.bMT(15,22,"lang_auto_nam")," "),t.R7$(5),t.SpI(" ",t.bMT(19,24,"lang_birthday")," "),t.R7$(3),t.SpI(" ",t.bMT(22,26,n.birthday)," "),t.R7$(4),t.SpI(" ",t.bMT(26,28,"lang_testbank_folder_and_file_status")," "),t.R7$(3),t.Y8G("ngIf",1==n.isVerified),t.R7$(3),t.SpI(" ",t.bMT(32,30,"lang_auto_bai_tap_da_lam")," "),t.R7$(3),t.Y8G("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalHomeworkAnswer)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalHomework)),t.R7$(3),t.SpI(" ",t.bMT(38,32,"lang_auto_de_thi_da_lam")," "),t.R7$(3),t.Y8G("ngIf",(null==n.documentAttendedObj?null:n.documentAttendedObj.totalExamResult)||(null==n.totalDocumentObj?null:n.totalDocumentObj.totalExam)),t.R7$(1),t.Y8G("ngIf",1==(null==_.classroomObj?null:_.classroomObj.sortType)&&t.i5U(42,34,_.classroomObj,"student"))}}function hs(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",116)(1,"div",117),t.DNE(2,co,1,1,"input",75),t.j41(3,"div",118)(4,"div",119),t.bIt("click",function(){const k=t.eBV(n).$implicit,L=t.XpG(2);return t.Njj(L.goToProfile(k.classroomId,k.id))}),t.j41(5,"div",120),t.nrm(6,"azt-create-avatar",121),t.nI1(7,"anonymousPhone"),t.nI1(8,"mycdn"),t.k0s(),t.j41(9,"div",122),t.DNE(10,oi,8,20,"a",123),t.DNE(11,si,2,1,"div",124),t.DNE(12,Lo,2,2,"div",125),t.k0s()(),t.DNE(13,Yo,14,12,"div",126),t.nI1(14,"editPermission"),t.k0s(),t.j41(15,"button",127),t.bIt("click",function(){const k=t.eBV(n).index,L=t.XpG(2);return t.Njj(L.toggleExpandedContent(k))}),t.j41(16,"span"),t.nrm(17,"lucide-icon",128),t.k0s()()(),t.j41(18,"div",129),t.DNE(19,ai,43,37,"div",7),t.k0s()()}if(2&r){const n=I.$implicit,_=I.index,m=t.XpG(2);t.Y8G("ngStyle",t.eq3(21,Po,null!=n.checked&&n.checked.value?"0.6":"1")),t.R7$(2),t.Y8G("ngIf",void 0!==n.checked),t.R7$(4),t.Mz_("matTooltip","",0==n.parentId||1==n.isAnonymous?null:" Id: "+n.parentId+(""!=t.bMT(7,14,n.parentPhone)?" - Phone: "+n.parentPhone:"")+" - Name: "+n.parentFullName," "),t.Y8G("nameCreateAvatar",n.fullName)("linkAvatar",t.bMT(8,16,n.avatar))("size",36),t.R7$(4),t.Y8G("ngIf",n.fullName),t.R7$(1),t.Y8G("ngIf",n.phone),t.R7$(1),t.Y8G("ngIf",n.email),t.R7$(1),t.Y8G("ngIf",t.i5U(14,18,m.classroomObj,"student")),t.R7$(3),t.AVh("rotate-180",m.expandedItemIndex===_),t.R7$(2),t.Y8G("@expandCollapse",m.expandedItemIndex===_?"open":"closed"),t.R7$(1),t.Y8G("ngIf",m.expandedItemIndex===_)}}function fs(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",161),t.bIt("click",function(){t.eBV(n);const m=t.XpG(3);return t.Njj(m.addStudentDialog(m.classroomObj))}),t.nrm(1,"lucide-icon",162),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_them_hoc_sinh")," "))}function bs(r,I){if(1&r&&(t.j41(0,"div",107)(1,"div",108),t.nrm(2,"azt-svg-icon",109),t.j41(3,"div",110),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s(),t.DNE(6,fs,4,5,"button",160),t.nI1(7,"editPermission"),t.k0s()()),2&r){const n=t.XpG(2);let _;t.R7$(2),t.Y8G("size",82),t.R7$(2),t.SpI(" ",t.bMT(5,3,"lang_student_classroom_list_detail_not_student")," "),t.R7$(2),t.Y8G("ngIf",t.i5U(7,5,n.classroomObj,"student")&&0==(null!==(_=null==n.listStudents?null:n.listStudents.length)&&void 0!==_?_:0))}}const vs=function(r){return{"flex-wrap":r}};function Bo(r,I){if(1&r&&(t.j41(0,"div",12)(1,"div",13)(2,"h2",14),t.EFF(3),t.k0s(),t.j41(4,"span",15),t.EFF(5),t.k0s(),t.DNE(6,yo,1,3,"azt-download-qr-code",16),t.k0s(),t.j41(7,"div",13),t.nrm(8,"azt-share",17),t.DNE(9,as,2,1,"div",18),t.k0s()(),t.DNE(10,lo,18,23,"div",19),t.j41(11,"div",20)(12,"div",21),t.DNE(13,Ta,30,32,"div",22),t.nI1(14,"appFilter"),t.DNE(15,Yn,8,8,"div",23),t.nI1(16,"appFilter"),t.k0s(),t.j41(17,"div",24)(18,"div",25),t.DNE(19,hn,5,4,"div",7),t.j41(20,"div",26),t.DNE(21,Hn,3,7,"span",27),t.DNE(22,ii,4,5,"button",28),t.k0s()(),t.DNE(23,hs,20,23,"div",29),t.nI1(24,"appFilter"),t.DNE(25,bs,8,8,"div",23),t.nI1(26,"appFilter"),t.k0s()()),2&r){const n=t.XpG();t.Y8G("ngClass",t.eq3(36,vs,n.isMobileDevice||n.isMobileWebView)),t.R7$(1),t.Y8G("ngClass",t.eq3(38,jn,n.isMobileDevice||n.isMobileWebView)),t.R7$(2),t.SpI(" ",null==n.classroomObj?null:n.classroomObj.name," "),t.R7$(2),t.SpI("( ",null==n.classroomObj?null:n.classroomObj.year," )"),t.R7$(1),t.Y8G("ngIf",n.joinClassroomLink),t.R7$(1),t.Y8G("ngClass",t.eq3(40,jn,n.isMobileDevice||n.isMobileWebView)),t.R7$(1),t.Y8G("backToLink",n.backToLink)("objectCodeType",1)("objectCode","CLASSROOM")("objectId",n.classroomId)("classroomWithPermissionObj",n.classroomObj),t.R7$(1),t.Y8G("ngIf",!n.hasStudents||!(null!=n.listStudents&&n.listStudents.length)),t.R7$(1),t.Y8G("ngIf",n.hasStudents||(null==n.listStudents?null:n.listStudents.length)),t.R7$(3),t.Y8G("ngIf",t.brH(14,20,n.listStudents,n.searchContentObj.searchContent,t.lJ4(42,_t)).length>0),t.R7$(2),t.Y8G("ngIf",!n.hasStudents||0==t.brH(16,24,n.listStudents,n.searchContentObj.searchContent,t.lJ4(43,_t)).length),t.R7$(4),t.Y8G("ngIf",n.listStudents&&n.listStudents.length>0),t.R7$(2),t.Y8G("ngIf",n.totalCheckboxSelected>0),t.R7$(1),t.Y8G("ngIf",n.totalCheckboxSelected>0),t.R7$(1),t.Y8G("ngForOf",t.brH(24,28,n.listStudents,n.searchContentObj.searchContent,t.lJ4(44,_t))),t.R7$(2),t.Y8G("ngIf",!n.hasStudents||0==t.brH(26,32,n.listStudents,n.searchContentObj.searchContent,t.lJ4(45,_t)).length)}}function ks(r,I){if(1&r){const n=t.RV6();t.j41(0,"li")(1,"button",163),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.goToMergeStudent(null==m.classroomObj?null:m.classroomObj.id))}),t.nrm(2,"lucide-icon",164),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_student_classroom_list_detail_merge_student")," "))}const Vo=function(){return{"ml-1 text-success":!0}};function Cs(r,I){1&r&&(t.j41(0,"span",168),t.nrm(1,"lucide-icon",169),t.k0s()),2&r&&(t.R7$(1),t.Y8G("ngClass",t.lJ4(1,Vo)))}function xs(r,I){if(1&r){const n=t.RV6();t.j41(0,"li")(1,"button",165),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.changeSortType(0))}),t.nrm(2,"lucide-icon",166),t.EFF(3),t.nI1(4,"mytranslate"),t.DNE(5,Cs,2,2,"span",167),t.k0s()()}if(2&r){const n=t.XpG();t.R7$(2),t.Y8G("ngClass",t.lJ4(5,oe)),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_student_classroom_list_detail_sort_name")," "),t.R7$(2),t.Y8G("ngIf",0==(null==n.classroomObj?null:n.classroomObj.sortType))}}function Ts(r,I){1&r&&t.nrm(0,"lucide-icon",169),2&r&&t.Y8G("ngClass",t.lJ4(1,Vo))}function Is(r,I){if(1&r){const n=t.RV6();t.j41(0,"li")(1,"button",170),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.changeSortType(1))}),t.nrm(2,"lucide-icon",171),t.j41(3,"span",172),t.nI1(4,"mytranslate"),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.DNE(7,Ts,1,2,"lucide-icon",173),t.k0s()()}if(2&r){const n=t.XpG();t.R7$(2),t.Y8G("ngClass",t.lJ4(8,oe)),t.R7$(1),t.FS9("matTooltip",t.bMT(4,4,"lang_student_classroom_list_detail_request")),t.R7$(2),t.JRh(t.bMT(6,6,"lang_student_classroom_list_detail_change")),t.R7$(2),t.Y8G("ngIf",0!=(null==n.classroomObj?null:n.classroomObj.sortType))}}function Xo(r,I){if(1&r){const n=t.RV6();t.j41(0,"li",174)(1,"button",175),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.openDialogAutoNumbering())}),t.nrm(2,"lucide-icon",176),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_danh_so_bao_danh")," "))}function Ss(r,I){if(1&r){const n=t.RV6();t.j41(0,"li",174)(1,"button",177),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.exportListStudent())}),t.nrm(2,"lucide-icon",178),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_student_utils_export_list_student")," "))}function ys(r,I){if(1&r){const n=t.RV6();t.j41(0,"li",174)(1,"button",177),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.exportExcelForScoreOfClassroom())}),t.nrm(2,"lucide-icon",178),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,oe)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_xuat_bang_diem")," "))}function js(r,I){if(1&r){const n=t.RV6();t.j41(0,"li")(1,"div",179),t.bIt("click",function(m){return m.stopPropagation()}),t.j41(2,"input",180),t.bIt("change",function(){t.eBV(n);const m=t.XpG();let k;return t.Njj(m.changeAnonymousStudentStatus(null!==(k=null==m.classroomObj?null:m.classroomObj.id)&&void 0!==k?k:0,m.checkAddStudent.value))}),t.k0s(),t.j41(3,"label",181),t.EFF(4),t.nI1(5,"mytranslate"),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&r){const n=t.XpG();t.R7$(2),t.Y8G("formControl",n.checkAddStudent)("checked",1==(null==n.classroomObj?null:n.classroomObj.showAddStudent)),t.R7$(2),t.SpI(" ",n.checkAddStudent.value?t.bMT(5,3,"lang_student_classroom_list_detail_on"):t.bMT(6,5,"lang_student_classroom_list_detail_off")," ")}}function ri(r,I){if(1&r){const n=t.RV6();t.j41(0,"azt-export-excel-for-student-list",182),t.bIt("exportDataDone",function(m){t.eBV(n);const k=t.XpG();return t.Njj(k.exportStudentListDone(m))}),t.k0s()}if(2&r){const n=t.XpG();t.Y8G("objs",n.exportStudentObjs)}}let Os=(()=>{class r extends a.H{onSearchBox(n){this.searchContentObj=n}toggleExpandedContent(n){this.expandedItemIndex=this.expandedItemIndex===n?-1:n}copyLinkToClipboard(){return this.joinClassroomLink}convertNameForQR(){return"QR_Join_Classroom_"+this.commonService.convertVietnameseToEnglish(this.classroomObj?.name??this.classroomObj?.hashId??"")}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.listStudents)}exportStudentListDone(n){let _=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(n,_)}exportExcelForScoreOfClassroom(){this.loadingExport=!0;let n="";Be.L.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??""),this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataGetAllExamObjsOfClassroomIdGet(Number(this.classroomId)).subscribe(_=>{1==_.success?_.data?.objs&&_.data?.objs.length?this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(m=>{if(1==m.success){let k=m.data?.objs??new Array;this.prepareDataForExportScore(_.data?.objs??[],k).subscribe(L=>{let et=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"",St=this.commonService.createFileNameExportFile([et,this.classroomObj?.name??""]);if(this.commonService.myTranslate(["lang_auto_tap_tin_dang_duoc_tai_xuong"]).subscribe(re=>{n=re.lang_auto_tap_tin_dang_duoc_tai_xuong,Be.L.changeMsgLoadingEffect(n)}),this.classroomObj){const re=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,L,_.data?.objs);this.shareFileFlutterService.shareFileWithBlob(re,St+".xlsx")}Be.L.closeLoadingEffect(200),this.loadingExport=!1})}else this.errorStatusObj(m.message??"",!0),Be.L.closeLoadingEffect(10),this.loadingExport=!1})):this.exportExcelForScoreHomeworkOfClassroom():(this.errorStatusObj(_.message,!0),Be.L.closeLoadingEffect(10),this.loadingExport=!1)}))}exportExcelForScoreHomeworkOfClassroom(){this.loadingExport=!0;let n=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"";this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(_=>{if(1==_.success){let m=this.commonService.createFileNameExportFile([n,this.classroomObj?.name??""]);if(this.classroomObj){const k=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,_.data?.objs??[]);this.shareFileFlutterService.shareFileWithBlob(k,m+".xlsx")}}else this.errorStatusObj(_.message??"",!0);Be.L.closeLoadingEffect(10),this.loadingExport=!1}))}prepareDataForExportScore(n,_){return new Tn.c(m=>{let k=this.commonService.myTranslateInstant("lang_export_classroom_score_counter_message")??"",L=0,et=n.length,St=re=>{L<et?(Be.L.changeMsgLoadingEffect(k+n[L].name+" ("+(L+1)+"/"+et+")"),this.waitDestroy(this.exportClassroomScoreApiService.getTestedAllResultByClassroomId("export_classroom",n[L].id??0,this.classroomId,re).subscribe(ln=>{1==ln.success?(ln.data&&(re=[...ln.data]),L++,St(re)):m.error(ln.message)}))):(m.next(re),m.complete())};St(_)})}getNoticeObjsRequest(){this.waitDestroy(this.noticeService.apiNoticeGetAllNoticeRequestForClassGet(this.classroomId).subscribe(n=>{1==n.success?(n.data?.objs?.length??0)>0&&this.sAztDialogService.open(qi,{width:"750px",data:{noticeObjs:n.data?.objs??[],classroomObj:this.classroomObj},restoreFocus:!1}):this.showErrorSnack("lang_auto_loi_khong_load_duoc_du_lieu_lop_hoc")}))}changeSortType(n){this.waitDestroy(this.classroomService.apiClassroomChangeSortTypeGet(this.classroomId,n).subscribe(_=>{1==_.success?(this.checkSortListStudent(n),this.classroomObj?.sortType&&(this.classroomObj.sortType=n),this.getData()):this.errorStatusObj(_.message,!0)}))}checkSortListStudent(n){this.listStudents=0==n?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.rawStudentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.rawStudentObjs)??[],"pos","id"),this.listStudents?.forEach(_=>{_.checked=new J.MJ(!1,{nonNullable:!0})})}onPositionChange(n,_,m,k){let L="up"==n?1:"down"==n?2:3,et=3==L?n??"":"",St=parseInt(et,10);this.waitDestroy(this.classroomService.apiClassroomChangePositionStudentGet(Number(3!=L?_:St),Number(m),Number(k),Number(L)).subscribe(ln=>{1==ln.success?this.getData():this.showErrorSnack(""==et&&3==L?"lang_auto_loi_nhap_so_de_thay_doi_vi_tri_hs":"lang_auto_loi_khong_the_doi_vi_tri_hs")}))}changeAnonymousStudentStatus(n,_){this.waitDestroy(_?this.classroomService.apiClassroomChangeShowAddStudentGet(n,1).subscribe(m=>{1==m.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(m.message,!0)}):this.classroomService.apiClassroomChangeShowAddStudentGet(n,0).subscribe(m=>{1==m.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(m.message,!0)}))}addStudentDialog(n){this.sAztDialogService.open(ti,{width:"750px",data:{studentObjs:this.listStudents,classroomObj:n},restoreFocus:!1}).afterClosed().subscribe(m=>{m&&this.getData()})}deleteStudentDialog(n){this.sAztDialogService.open(xi.d,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(m=>{m&&this.getData()})}deleteListStudentDialog(){let n=this.listStudents?.filter(m=>m.checked?.value);this.sAztDialogService.open(Hi,{data:{listStudentObjs:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(m=>{m&&this.getData()})}editStudentDialog(n){this.sAztDialogService.open(Ki.B,{data:{studentObj:n,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(m=>{m&&this.getData()})}openDialogAutoNumbering(){this.sAztDialogService.open(A.O,{data:{needGetClassroomGroups:!1,type:2,listCheckBox:this.classroomObj?.id?[this.classroomObj.id]:[],totalStudent:this.classroomObj?.countStudents},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(_=>{_&&this.getData()})}openDialogCheckboxMonth(n){this.sAztDialogService.open($,{width:"454px",restoreFocus:!1,data:n.id}).afterClosed().subscribe(_=>{_&&this.getListStudentApiNew()})}goToProfile(n,_){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+_,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${n}/0`))}goToMergeStudent(n){this.commonService.myNavigation("/admin/student/merge-student/"+n)}translateExportNote(){let n="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),_="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),m="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),k="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four");this.export=[n,_,m,k]}openDialogResetPass(n){this.sAztDialogService.open(tn.$,{width:"500px",restoreFocus:!1,data:{id:n.parentId,name:n.fullName}}).afterClosed().subscribe(_=>{_&&this.getData()})}openDialogCreateUser(n){this.sAztDialogService.open(f,{width:"500px",restoreFocus:!1,data:{student:n}}).afterClosed().subscribe(_=>{_&&this.getData()})}getData(){this.initStatusObj(),this.resetCheckboxesStatus(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.classroomId).subscribe(n=>{if(1==n.success){this.classroomObj=n?.data?.classroomObj,this.permissionObj=this.classroomObj?.permissionObj,this.checkAddStudent.setValue(1==this.classroomObj?.showAddStudent),this.rawStudentObjs=n?.data?.studentObjs,this.checkSortListStudent(n?.data?.classroomObj?.sortType);let m=this.commonService.getCurrentDomain();this.joinClassroomLink=`${m}/${this.commonService.getCurrentLang()}/student/join-classroom/${this.classroomObj?.hashId}`,this.hasStudents=!!n.data?.studentObjs.length,this.getListStudentApiNew(),this.getNoticeObjsRequest(),this.successStatusObj()}else this.errorStatusObj(n.message,!0)}))}getListStudentApiNew(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:this.listStudents?.length??0,classroomId:this.classroomId,getBook:!1,getMark:!1,getPayment:!0,getAttendance:!1,me:!1,getAssessment:!1}).subscribe(_=>{_?_.list.forEach(m=>{var k=this.listStudents?.find(L=>L.id==m.id);k&&(k.lastMonthPaid=m.lastMonthPaid,k.lastYearPaid=m.lastYearPaid,k.schoolName=m.schoolName,k.facebookLink=k.moreInfo?.facebookLink)}):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}selectAllStudentsObjs(){this.listStudents?.forEach(n=>{n.checked?.setValue(this.isSelectAllFormControl.value)}),this.selectSingleStudent()}selectSingleStudent(){this.totalCheckboxSelected=this.listStudents?.filter(n=>n.checked?.value)?.length??0,this.isSelectAllFormControl.setValue(this.totalCheckboxSelected===this.listStudents?.length&&this.totalCheckboxSelected>0)}resetCheckboxesStatus(){this.totalCheckboxSelected=0,this.isSelectAllFormControl.setValue(!1)}ngOnInit(){super.ngOnInit(),this.translateExportNote(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"));let n=this.commonService.getMyQueryParam("backto");this.backToLink=n||"/admin/student/manage-classroom/0",this.getData()}constructor(n,_,m,k,L,et,St,re,ln,Ni,di){super(),this.shareFileFlutterService=n,this.classroomService=_,this.classroomExportDataService=m,this.noticeService=k,this.activeRoute=L,this.sortService=et,this.studentProfileV2Service=St,this.exportExcelService=re,this.sAztDialogService=ln,this.studentService=Ni,this.exportClassroomScoreApiService=di,this.checkAddStudent=new J.MJ(!1,{nonNullable:!0}),this.backToLink="",this.classroomId=0,this.export=[""],this.hasStudents=!1,this.loadingExport=!1,this.expandedItemIndex=-1,this.joinClassroomLink="",this.totalCheckboxSelected=0,this.isSelectAllFormControl=new J.MJ(!1,{nonNullable:!0}),this.searchContentObj=new rt.Z,this.form=new J.gE({startIdentifyIndex:new J.MJ("",{nonNullable:!0,validators:[J.k0.min(1),J.k0.max(999999),J.k0.pattern(/^[0-9]*$/)]})})}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(hi.R),t.rXU(T.zS),t.rXU(Ne.$F),t.rXU(Ti.eI),t.rXU(O.nX),t.rXU(W.g),t.rXU(Ne.m_),t.rXU(p.x),t.rXU(ue.i),t.rXU(v.b),t.rXU(Xt))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-student-list"]],viewQuery:function(_,m){if(1&_&&t.GBs(ao,5),2&_){let k;t.mGM(k=t.lsd())&&(m.slider=k.first)}},features:[t.Vt3],decls:19,vars:19,consts:[[1,"grid","grid-cols-12","mt-5"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menu","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],[4,"ngIf"],["class","block lg:hidden",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],[3,"currentStatusObj"],[1,"col-span-12","intro-y","flex","justify-between","items-center","mb-5",3,"ngClass"],[1,"flex","items-center",3,"ngClass"],[1,"text-lg","font-medium","mr-2"],[1,"mr-2"],[3,"fileName","linkUrl","showLink",4,"ngIf"],[3,"backToLink","objectCodeType","objectCode","objectId","classroomWithPermissionObj"],["class","dropdown ml-2 mt-2 sm:mt-0",4,"ngIf"],["class","col-span-12",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[1,"azt-hidden","md:block"],["style","height: 100%",4,"ngIf"],["class","box p-3 flex items-center","style","min-height: 216px",4,"ngIf"],[1,"md:hidden"],[1,"flex","mt-3",2,"justify-content","space-between"],[1,"flex","items-center"],["class","inline-block mr-2",3,"ngClass",4,"ngIf"],["azt-track-service","student-list-zQB1VhlhP6","class","btn btn-sm btn-danger mr-2",3,"click",4,"ngIf"],["class","box p-3 mt-3",3,"ngStyle",4,"ngFor","ngForOf"],[3,"fileName","linkUrl","showLink"],[1,"dropdown","ml-2","mt-2","sm:mt-0"],["class","dropdown-toggle btn btn-sm btn-outline-secondary",3,"matMenuTriggerFor",4,"ngIf"],[1,"dropdown-toggle","btn","btn-sm","btn-outline-secondary",3,"matMenuTriggerFor"],[1,"flex","items-center","justify-center"],["name","settings","size","18"],[1,"col-span-12"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"isServerSearch","placeholder","onSearch"],[1,"w-full","sm:w-auto","flex","items-center"],["class","inline-block mr-2",4,"ngIf"],["azt-track-service","student-list-1PSK0ENR-","class","btn btn-danger mr-2",3,"click",4,"ngIf"],["azt-track-service","class-list-details-s9VkYOpJZKc","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details--hDdQw7XTpD","class","btn btn-primary shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mr-2 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-_DnbWckI_DG","class","btn px-2 box shadow-md mr-2 azt-hidden md:flex hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],[1,"dropdown"],["class","dropdown-toggle btn px-2 box",3,"matMenuTriggerFor",4,"ngIf"],[1,"inline-block","mr-2"],["azt-track-service","student-list-1PSK0ENR-",1,"btn","btn-danger","mr-2",3,"click"],["name","trash-2","size","16",3,"ngClass"],["azt-track-service","class-list-details-s9VkYOpJZKc",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["name","file-text","size","18",3,"ngClass"],["azt-track-service","class-list-details--hDdQw7XTpD",1,"btn","btn-primary","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["class","mr-1",4,"ngIf"],["name","file-text","size","18",3,"ngClass",4,"ngIf"],[1,"mr-1"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mr-2","w-full","sm:w-auto",3,"click"],["name","plus","size","18",3,"ngClass"],["azt-track-service","class-list-details-_DnbWckI_DG",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","md:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary","size","18",3,"ngClass"],[1,"dropdown-toggle","btn","px-2","box",3,"matMenuTriggerFor"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-5",2,"white-space","initial","display","table"],[1,"box"],["type","checkbox",1,"form-check-input",3,"formControl","change"],[1,"text-center",2,"width","60px","padding","0 !important"],[2,"width","60px",3,"matTooltipDisabled","matTooltip"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-center",2,"width","30px"],["class","form-check-input flex-none","type","checkbox",3,"formControl","change",4,"ngIf"],[2,"width","60px","padding","5px 5px 5px 0"],["style","width: 100%; text-align: center; border-right: 1px solid #ccc; display: inline-grid; padding: 5px",4,"ngIf","ngIfElse"],["sttStudent",""],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","identificationNumber","gender","hasUser","schoolName","classrooms","joinedAt","phone","email"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],["azt-track-service","class-list-details-IXPw9fo4fxc","class","btn btn-sm btn-outline-primary mr-3",3,"click",4,"ngIf"],["azt-track-service","class-list-details-O6dc04lZp9g","class","btn btn-sm btn-outline-danger mr-3",3,"click",4,"ngIf"],["azt-track-service","student-list-hM337DYZ_","class","btn btn-sm mr-3",3,"click",4,"ngIf"],["azt-track-service","student-list-qGNig67L4","class","btn btn-sm mr-3",3,"click",4,"ngIf"],["type","checkbox",1,"form-check-input","flex-none",3,"formControl","change"],[2,"width","100%","text-align","center","border-right","1px solid #ccc","display","inline-grid","padding","5px"],["class","btn btn-sm btn-outline-secondary p-1","style"," border-bottom-left-radius: 0; border-bottom-right-radius: 0; border-bottom: 0; ",3,"click",4,"ngIf"],["type","text","appOnlyNumber","",1,"form-control","text-center",2,"padding","4px","border-radius","0",3,"value","keyup.enter"],["myInput",""],["class","btn btn-sm btn-outline-secondary p-1","style"," border-top-left-radius: 0; border-top-right-radius: 0; border-top: 0; ",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-secondary","p-1",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","border-bottom","0",3,"click"],["name","chevron-up","size","18"],[1,"btn","btn-sm","btn-outline-secondary","p-1",2,"border-top-left-radius","0","border-top-right-radius","0","border-top","0",3,"click"],["name","chevron-down","size","18"],[1,"text-center","font-bold"],["azt-track-service","class-list-details-IXPw9fo4fxc",1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","class-list-details-O6dc04lZp9g",1,"btn","btn-sm","btn-outline-danger","mr-3",3,"click"],["name","trash-2","size","18",3,"ngClass"],["azt-track-service","student-list-hM337DYZ_",1,"btn","btn-sm","mr-3",3,"click"],["name","list-restart","size","16",3,"ngClass"],["azt-track-service","student-list-qGNig67L4",1,"btn","btn-sm","mr-3",3,"click"],["name","user-plus","size","16",3,"ngClass"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["type","inbox-empty",3,"size"],[1,"font-medium","mt-3"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],[1,"ml-2"],[1,"inline-block","mr-2",3,"ngClass"],["azt-track-service","student-list-zQB1VhlhP6",1,"btn","btn-sm","btn-danger","mr-2",3,"click"],[1,"box","p-3","mt-3",3,"ngStyle"],[1,"flex","items-center","text-sm"],[1,"flex","items-start","px-3"],["azt-track-service","class-list-details-PLih7noFG",1,"flex","items-center",3,"click"],[1,"w-9","h-9","image-fit","zoom-in"],[3,"matTooltip","nameCreateAvatar","linkAvatar","size"],[1,"ml-4",2,"max-width","150px"],["class","font-medium",3,"matTooltip",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",3,"matTooltip",4,"ngIf"],["class","absolute right-0 top-0 mr-6 mt-3 dropdown",4,"ngIf"],["azt-track-service","class-list-details-pefaSVrkl",1,"ml-auto","mr-3","p-1","mt-6","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"click"],["name","chevron-down","size","20"],[1,"mt-2"],[1,"font-medium",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-slate-500","text-xs","mt-0.5",3,"matTooltip"],[1,"absolute","right-0","top-0","mr-6","mt-3","dropdown"],[1,"dropdown-toggle","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"matMenuTriggerFor"],["name","ellipsis","size","20",3,"ngClass"],["menuAction","matMenu"],[1,"dropdown-menu","show","relative","w-56"],["azt-track-service","class-list-details-Q6L3Qb4nL-","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-xA4MDIyq3o","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Q6L3Qb4nL-",1,"dropdown-item",3,"click"],["azt-track-service","class-list-details-xA4MDIyq3o",1,"dropdown-item",3,"click"],["name","trash-2","size","20",3,"ngClass"],["azt-track-service","student-list-BQ1zew8XrF","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","student-list-BQ1zew8XrF",1,"dropdown-item",3,"click"],["name","list-restart","size","20",3,"ngClass"],[1,"flex","items-center","p-3","border-t","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md"],[1,"ml-auto"],["class","flex items-center justify-center text-success",4,"ngIf"],["class","flex items-center p-3 border-t border-slate-200/60 dark:border-darkmode-400",4,"ngIf"],[1,"flex","items-center","justify-center","text-success"],[1,"mr-2","inline-block"],["name","square-check","size","18"],[1,"w-full"],[2,"width","100%","text-align","center","display","inline-grid","padding","5px"],["class","btn btn-sm btn-outline-secondary","style"," border-bottom-left-radius: 0; border-bottom-right-radius: 0; border-bottom: 0; ",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-secondary","style"," border-top-left-radius: 0; border-top-right-radius: 0; border-top: 0; ",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-outline-secondary",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","border-bottom","0",3,"click"],[1,"btn","btn-sm","btn-outline-secondary",2,"border-top-left-radius","0","border-top-right-radius","0","border-top","0",3,"click"],["azt-track-service","student-list-z7Lql-3ZDJ","class","btn btn-primary shadow-md mt-5 w-full sm:w-auto",3,"click",4,"ngIf"],["azt-track-service","student-list-z7Lql-3ZDJ",1,"btn","btn-primary","shadow-md","mt-5","w-full","sm:w-auto",3,"click"],["name","plus","size","20",3,"ngClass"],["azt-track-service","class-list-details-NcMQ164X2B1",1,"dropdown-item","w-full",3,"click"],["name","link-2","size","16",3,"ngClass"],["azt-track-service","class-list-details-woiwIJfYoz7",1,"dropdown-item","w-full",3,"click"],["name","arrow-down-wide-narrow","size","16",3,"ngClass"],["class","text-success inline-block flex-none",4,"ngIf"],[1,"text-success","inline-block","flex-none"],["name","check","size","20",3,"ngClass"],["azt-track-service","class-list-details-dc7h-1UoWkq",1,"dropdown-item","w-full",3,"click"],["name","list-ordered","size","16",3,"ngClass"],[1,"ml-1",3,"matTooltip"],["name","check","size","20",3,"ngClass",4,"ngIf"],[1,"block","lg:hidden"],["azt-track-service","class-list-details-dQQjeblrGNo",1,"dropdown-item","w-full",3,"click"],["name","binary","size","16",3,"ngClass"],["azt-track-service","class-list-details-EPPk_ECcOhT",1,"dropdown-item","w-full",3,"click"],["name","file-text","size","16",3,"ngClass"],["azt-track-service","student-list-I77ChHGFW",1,"form-check","form-switch","p-2",3,"click"],["type","checkbox","id","check-add-student",1,"show-code","form-check-input","mr-1",3,"formControl","checked","change"],["for","check-add-student",1,"form-check-label","ml-0"],[3,"objs","exportDataDone"]],template:function(_,m){if(1&_&&(t.j41(0,"div",0),t.DNE(1,rn,2,1,"div",1),t.DNE(2,Bo,27,46,"ng-template",null,2,t.C5r),t.k0s(),t.j41(4,"mat-menu",3,4)(6,"div",5)(7,"ul",6),t.DNE(8,ks,5,5,"li",7),t.DNE(9,xs,6,6,"li",7),t.DNE(10,Is,8,9,"li",7),t.DNE(11,Xo,5,5,"li",8),t.nI1(12,"editPermission"),t.DNE(13,Ss,5,5,"li",8),t.nI1(14,"viewPermission"),t.DNE(15,ys,5,5,"li",8),t.DNE(16,js,7,7,"li",7),t.nI1(17,"editPermission"),t.k0s()()(),t.DNE(18,ri,1,1,"azt-export-excel-for-student-list",9)),2&_){const k=t.sdS(3);t.R7$(1),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",k),t.R7$(7),t.Y8G("ngIf",m.hasStudents||(null==m.listStudents?null:m.listStudents.length)),t.R7$(1),t.Y8G("ngIf",m.hasStudents||(null==m.listStudents?null:m.listStudents.length)),t.R7$(1),t.Y8G("ngIf",m.hasStudents||(null==m.listStudents?null:m.listStudents.length)),t.R7$(1),t.Y8G("ngIf",t.i5U(12,10,m.classroomObj,"student")&&(m.hasStudents||(null==m.listStudents?null:m.listStudents.length))),t.R7$(2),t.Y8G("ngIf",t.i5U(14,13,m.classroomObj,"student")&&(m.hasStudents||(null==m.listStudents?null:m.listStudents.length))),t.R7$(2),t.Y8G("ngIf",m.hasStudents||(null==m.listStudents?null:m.listStudents.length)),t.R7$(1),t.Y8G("ngIf",t.i5U(17,16,m.classroomObj,"student")),t.R7$(2),t.Y8G("ngIf",m.exportStudentObjs)}},dependencies:[C.YU,C.Sq,C.bT,C.B3,K.kk,K.Cp,Y.oV,J.Zm,J.BC,J.l_,dt.K,Ut.p,He.d,ei.Z,Sn.m,at.R,Xe.M,$t.W,Ae.B,H.m,kt.jd,kt.Ew,Ct.WGl,P.wp,P.nf,P.WL,P.xL,P.FV,P.eL,P.Po,P.vv],encapsulation:2,data:{animation:[(0,Ye.hZ)("expandCollapse",[(0,Ye.wk)("open",(0,Ye.iF)({height:"*"})),(0,Ye.wk)("closed",(0,Ye.iF)({height:"0px"})),(0,Ye.kY)("open <=> closed",[(0,Ye.i0)("0.3s ease-in-out")])])]}})}return r})();const On=function(r){return{"text-white bg-primary":r}},bn=function(r){return[r]},En=function(){return{"mr-2 flex-none":!0}};function Es(r,I){if(1&r&&(t.j41(0,"a",33),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",34),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(8,On,3===n.tabActive))("routerLink",t.eq3(10,bn,t.bMT(1,4,"/admin/student/classroom-details/"+n.classroomId+"/3"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,En)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_student_educational_program"))}}function ws(r,I){if(1&r&&(t.j41(0,"a",35),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",7),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(8,On,4===n.tabActive))("routerLink",t.eq3(10,bn,t.bMT(1,4,"/admin/student/classroom-details/"+n.classroomId+"/4"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,En)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_student_grade_sheet"))}}function Rs(r,I){if(1&r&&(t.j41(0,"a",36),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",37),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(8,On,6===n.tabActive))("routerLink",t.eq3(10,bn,t.bMT(1,4,"/admin/student/classroom-details/"+n.classroomId+"/6"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,En)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_assessment_board"))}}function Fs(r,I){if(1&r&&(t.j41(0,"a",38),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",39),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(8,On,7===n.tabActive))("routerLink",t.eq3(10,bn,t.bMT(1,4,"/admin/student/classroom-details/"+n.classroomId+"/7"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,En)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_attendance_board"))}}function Ds(r,I){if(1&r&&(t.j41(0,"a",40),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",41),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(8,On,8===n.tabActive))("routerLink",t.eq3(10,bn,t.bMT(1,4,"/admin/student/classroom-details/"+n.classroomId+"/8"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,En)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_tuition_fee_board"))}}function Ms(r,I){if(1&r&&(t.j41(0,"a",42),t.nI1(1,"navigationLocalize"),t.nrm(2,"lucide-icon",43),t.j41(3,"span"),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const n=t.XpG(2);t.Y8G("ngClass",t.eq3(8,On,5===n.tabActive))("routerLink",t.eq3(10,bn,t.bMT(1,4,"/admin/student/classroom-details/"+n.classroomId+"/5"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(12,En)),t.R7$(2),t.JRh(t.bMT(5,6,"lang_azt_leaderboard"))}}function Gs(r,I){if(1&r&&(t.j41(0,"div",23)(1,"div",24),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"div",23),t.DNE(5,Es,6,13,"a",25),t.nI1(6,"async"),t.nI1(7,"allowFeatureBusinessForUser"),t.DNE(8,ws,6,13,"a",26),t.nI1(9,"async"),t.nI1(10,"allowFeatureBusinessForUser"),t.DNE(11,Rs,6,13,"a",27),t.nI1(12,"async"),t.nI1(13,"allowFeatureBusinessForUser"),t.DNE(14,Fs,6,13,"a",28),t.nI1(15,"async"),t.nI1(16,"allowFeatureBusinessForUser"),t.DNE(17,Ds,6,13,"a",29),t.nI1(18,"async"),t.nI1(19,"allowFeatureBusinessForUser"),t.DNE(20,Ms,6,13,"a",30),t.nI1(21,"async"),t.nI1(22,"allowFeatureBusinessForUser"),t.j41(23,"a",31),t.nI1(24,"navigationLocalize"),t.nrm(25,"lucide-icon",32),t.j41(26,"span"),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s()()()()),2&r){const n=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,10,"lang_student_extensions")," "),t.R7$(3),t.Y8G("ngIf",t.bMT(6,12,t.brH(7,14,"","training_center_curriculum_in_classroom",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(9,18,t.brH(10,20,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(12,24,t.brH(13,26,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(15,30,t.brH(16,32,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(18,36,t.brH(19,38,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngIf",t.bMT(21,42,t.brH(22,44,"","training_center_student_mark",!1))),t.R7$(3),t.Y8G("ngClass",t.eq3(52,On,9===n.tabActive))("routerLink",t.eq3(54,bn,t.bMT(24,48,"/admin/student/classroom-details/"+n.classroomId+"/9"))),t.R7$(4),t.JRh(t.bMT(28,50,"lang_super_role_send_notice_approved_question_share"))}}function Ns(r,I){1&r&&(t.j41(0,"div",44),t.nrm(1,"app-student-list"),t.k0s())}function $s(r,I){1&r&&(t.j41(0,"div",45),t.nrm(1,"app-exam-exercises",46),t.k0s()),2&r&&(t.R7$(1),t.Y8G("isStudent",!1))}function zs(r,I){if(1&r&&(t.j41(0,"div",47),t.nrm(1,"app-news-board",48),t.k0s()),2&r){const n=t.XpG();t.R7$(1),t.Y8G("classroomId",n.classroomId)("isStudent",!1)}}function Ps(r,I){1&r&&(t.j41(0,"div",49),t.nrm(1,"app-educational-program",46),t.k0s()),2&r&&(t.R7$(1),t.Y8G("isStudent",!1))}function As(r,I){1&r&&(t.j41(0,"div",50),t.nrm(1,"app-grand-board",46),t.k0s()),2&r&&(t.R7$(1),t.Y8G("isStudent",!1))}function Ls(r,I){1&r&&(t.j41(0,"div",51)(1,"div",52),t.nrm(2,"app-leader-board",46),t.k0s()()),2&r&&(t.R7$(2),t.Y8G("isStudent",!1))}function Ys(r,I){1&r&&(t.j41(0,"div",53)(1,"div",54),t.nrm(2,"app-assessment-board",46),t.k0s()()),2&r&&(t.R7$(2),t.Y8G("isStudent",!1))}function Bs(r,I){1&r&&(t.j41(0,"div",55)(1,"div",54),t.nrm(2,"app-attendance-board",46),t.k0s()()),2&r&&(t.R7$(2),t.Y8G("isStudent",!1))}function Vs(r,I){1&r&&(t.j41(0,"div",56)(1,"div",54),t.nrm(2,"app-tuition-fee-board",46),t.k0s()()),2&r&&(t.R7$(2),t.Y8G("isStudent",!1))}const Xs=function(r){return{"ml-5":r}};function Us(r,I){if(1&r&&(t.j41(0,"div",57),t.nrm(1,"app-send-notification",58),t.k0s()),2&r){const n=t.XpG();t.Y8G("ngClass",t.eq3(3,Xs,!n.isMobileWebView&&!n.isMobileDevice)),t.R7$(1),t.Y8G("classroomName",n.classroomName)("classroomId",n.classroomId)}}const Ws=function(r){return{"font-medium text-white bg-primary":r}};let Js=(()=>{class r extends a.H{getClassroomName(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(n=>{n&&n.success&&(this.classroomName=n.data?.obj?.name??"",this.setTitle())}))}setTitle(){0==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_student_list_title")+": "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_student_list_description",image:"lang_cms_test_image"})):1==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_document_list_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_document_list_description",image:"lang_cms_test_image"})):2==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_news_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_news_board_description",image:"lang_cms_test_image"})):3==this.tabActive?(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_program_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_program_description",image:"lang_cms_test_image"})):4==this.tabActive&&(this.headerTitle=this.commonService.myTranslateInstant("lang_cms_classroom_mark_board_title")+" "+this.classroomName,this.commonService.translateMetaData({title:this.headerTitle,description:"lang_cms_classroom_mark_board_description",image:"lang_cms_test_image"}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,tt.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.tabActive=Number(this.commonService.getMyParam(this.activeRoute,"tabId")),this.classroomName?this.setTitle():this.getClassroomName()}));let n=this.commonService.getMyQueryParam("backto");this.backToLink=n&&""!=n?n:"/admin/student/manage-classroom/0"}constructor(n,_){super(),this.activeRoute=n,this.classroomService=_,this.backToLink="",this.tabActive=0,this.classroomId=0,this.classroomName="",this.headerTitle=""}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(O.nX),t.rXU(T.zS))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-classroom-details"]],features:[t.Vt3],decls:40,vars:64,consts:[[3,"headerBackToLink","headerTitle"],[1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-3","lg:col-span-2"],[1,"pr-3","pt-5"],["azt-track-service","class-list-details-DVvCIvEs15",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","user","size","16",3,"ngClass"],["azt-track-service","class-list-details-Kp8HMxHLJW",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","calendar-check","size","16",3,"ngClass"],["azt-track-service","class-list-details-Fqqucj0PCd",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","newspaper","size","16",3,"ngClass"],["class","mt-3",4,"ngIf"],[1,"col-span-12","md:col-span-9","lg:col-span-10","md:border-l","border-slate-200","dark:border-darkmode-400"],[1,"mt-5","md:px-3","h-full"],["class","student-list",4,"ngIf"],["class","exam-exercises",4,"ngIf"],["class","news-board",4,"ngIf"],["class","educational-program",4,"ngIf"],["class","grand-board",4,"ngIf"],["class","leaderboard",4,"ngIf"],["class","assessment-board",4,"ngIf"],["class","attendance-board",4,"ngIf"],["class","tuition-fee-board",4,"ngIf"],["class","table-honored h-full",3,"ngClass",4,"ngIf"],[1,"mt-3"],[1,"font-medium","uppercase"],["azt-track-service","class-list-details-BDKFcoR84En","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-d91Lw-r2PR8","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-FPGtD1jfL","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-6GuZeDQM8J","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-kEUyL-yGqV","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-wEO2JkXskB","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],[1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","bell-plus","size","18",1,"mr-1","flex-none"],["azt-track-service","class-list-details-BDKFcoR84En",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","library","size","16",3,"ngClass"],["azt-track-service","class-list-details-d91Lw-r2PR8",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["azt-track-service","class-list-details-FPGtD1jfL",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","message-square-text","size","16",3,"ngClass"],["azt-track-service","class-list-details-6GuZeDQM8J",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","search-check","size","16",3,"ngClass"],["azt-track-service","class-list-details-kEUyL-yGqV",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","clipboard-list","size","16",3,"ngClass"],["azt-track-service","class-list-details-wEO2JkXskB",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","medal","size","16",3,"ngClass"],[1,"student-list"],[1,"exam-exercises"],[3,"isStudent"],[1,"news-board"],[3,"classroomId","isStudent"],[1,"educational-program"],[1,"grand-board"],[1,"leaderboard"],[1,"mx-auto",2,"max-width","500px"],[1,"assessment-board"],[1,"mx-auto"],[1,"attendance-board"],[1,"tuition-fee-board"],[1,"table-honored","h-full",3,"ngClass"],[3,"classroomName","classroomId"]],template:function(_,m){1&_&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.nI1(6,"navigationLocalize"),t.nrm(7,"lucide-icon",5),t.j41(8,"span"),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"a",6),t.nI1(12,"navigationLocalize"),t.nrm(13,"lucide-icon",7),t.j41(14,"span"),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()(),t.j41(17,"a",8),t.nI1(18,"navigationLocalize"),t.nrm(19,"lucide-icon",9),t.j41(20,"span"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()(),t.DNE(23,Gs,29,56,"div",10),t.nI1(24,"async"),t.nI1(25,"allowFeatureBusinessForUser"),t.nI1(26,"async"),t.nI1(27,"allowFeatureBusinessForUser"),t.k0s()(),t.j41(28,"div",11)(29,"div",12),t.DNE(30,Ns,2,0,"div",13),t.DNE(31,$s,2,1,"div",14),t.DNE(32,zs,2,2,"div",15),t.DNE(33,Ps,2,1,"div",16),t.DNE(34,As,2,1,"div",17),t.DNE(35,Ls,3,1,"div",18),t.DNE(36,Ys,3,1,"div",19),t.DNE(37,Bs,3,1,"div",20),t.DNE(38,Vs,3,1,"div",21),t.DNE(39,Us,2,5,"div",22),t.k0s()()()()),2&_&&(t.Y8G("headerBackToLink",m.backToLink)("headerTitle",m.classroomName),t.R7$(5),t.Y8G("ngClass",t.eq3(49,On,0===m.tabActive))("routerLink",t.eq3(51,bn,t.bMT(6,25,"/admin/student/classroom-details/"+m.classroomId+"/0"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(53,En)),t.R7$(2),t.JRh(t.bMT(10,27,"lang_cms_classroom_student_list_title")),t.R7$(2),t.Y8G("ngClass",t.eq3(54,On,1===m.tabActive))("routerLink",t.eq3(56,bn,t.bMT(12,29,"/admin/student/classroom-details/"+m.classroomId+"/1"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(58,En)),t.R7$(2),t.JRh(t.bMT(16,31,"lang_document_exam_exercises")),t.R7$(2),t.Y8G("ngClass",t.eq3(59,Ws,2===m.tabActive))("routerLink",t.eq3(61,bn,t.bMT(18,33,"/admin/student/classroom-details/"+m.classroomId+"/2"))),t.R7$(2),t.Y8G("ngClass",t.lJ4(63,En)),t.R7$(2),t.JRh(t.bMT(22,35,"lang_student_news_board")),t.R7$(2),t.Y8G("ngIf",t.bMT(24,37,t.brH(25,39,"","training_center_curriculum_in_classroom",!1))||t.bMT(26,43,t.brH(27,45,"","training_center_student_mark",!1))),t.R7$(7),t.Y8G("ngIf",0===m.tabActive),t.R7$(1),t.Y8G("ngIf",1===m.tabActive),t.R7$(1),t.Y8G("ngIf",2===m.tabActive),t.R7$(1),t.Y8G("ngIf",3===m.tabActive),t.R7$(1),t.Y8G("ngIf",4===m.tabActive),t.R7$(1),t.Y8G("ngIf",5===m.tabActive),t.R7$(1),t.Y8G("ngIf",6===m.tabActive),t.R7$(1),t.Y8G("ngIf",7===m.tabActive),t.R7$(1),t.Y8G("ngIf",8===m.tabActive),t.R7$(1),t.Y8G("ngIf",9===m.tabActive))},dependencies:[O.Wk,C.YU,C.bT,s.Q,Ct.WGl,wt.E,mt,Vt.s,xe.K,Jt.c,Ot,de.E,te.b,xn,Os,C.Jj,P.F2,P.wp,P.bj],encapsulation:2})}return r})();var Uo=g(11002);function Hs(r,I){1&r&&t.nrm(0,"azt-loading-ui",16)}function Ks(r,I){1&r&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function Qs(r,I){if(1&r&&t.nrm(0,"azt-loading-effect",18),2&r){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function Zs(r,I){1&r&&(t.j41(0,"span"),t.EFF(1,"/"),t.k0s())}function qs(r,I){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,Zs,2,0,"span",33),t.EFF(3),t.k0s()),2&r){const n=t.XpG().$implicit;t.R7$(1),t.SpI(" ",n.lastMonthPaid," "),t.R7$(1),t.Y8G("ngIf",n.lastMonthPaid),t.R7$(1),t.SpI(" ",n.lastYearPaid," ")}}function ta(r,I){1&r&&(t.j41(0,"span",43),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_core_hoc_thu")," "))}function ea(r,I){if(1&r){const n=t.RV6();t.j41(0,"tr")(1,"td",28),t.bIt("click",function(){const k=t.eBV(n).$implicit,L=t.XpG(3);return t.Njj(L.goToProfile(k.classroomId,k.id))}),t.nrm(2,"azt-student-info-box",29),t.k0s(),t.j41(3,"td",30),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",31)(7,"div",32),t.DNE(8,qs,4,3,"span",33),t.DNE(9,ta,3,3,"span",34),t.j41(10,"button",35),t.bIt("click",function(){const k=t.eBV(n).$implicit,L=t.XpG(3);return t.Njj(L.openDialogCheckboxMonth(k))}),t.nI1(11,"mytranslate"),t.nI1(12,"mytranslate"),t.nrm(13,"lucide-icon",36),t.k0s()()(),t.j41(14,"td",37)(15,"div",38),t.EFF(16),t.nI1(17,"mytranslate"),t.nI1(18,"mytranslate"),t.k0s()(),t.j41(19,"td",37)(20,"div",38),t.EFF(21),t.nI1(22,"mytranslate"),t.nI1(23,"mytranslate"),t.k0s()(),t.j41(24,"td",31)(25,"div",39)(26,"input",40),t.bIt("change",function(m){const L=t.eBV(n).$implicit,et=t.XpG(3);return t.Njj(et.setAttendance("receivedDocument",L.id,m))}),t.k0s()()(),t.j41(27,"td",31)(28,"div",39)(29,"input",41),t.bIt("change",function(m){const L=t.eBV(n).$implicit,et=t.XpG(3);return t.Njj(et.setAttendance("absent",L.id,m))}),t.k0s()()(),t.j41(30,"td",31)(31,"textarea",42),t.bIt("input",function(m){const L=t.eBV(n).$implicit,et=t.XpG(3);return t.Njj(et.setReasonAttendance(L.id,m))}),t.nI1(32,"mytranslate"),t.k0s()()()}if(2&r){const n=I.$implicit;let _,m;t.R7$(2),t.Y8G("name",n.fullName)("avatar",n.avatar)("gender",n.gender)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt),t.R7$(2),t.JRh(n.identificationNumber?t.i5U(5,27,n.identificationNumber,6):""),t.R7$(4),t.Y8G("ngIf",n.lastMonthPaid||n.lastYearPaid),t.R7$(1),t.Y8G("ngIf",!n.lastMonthPaid||!n.lastYearPaid),t.R7$(1),t.FCK("matTooltip","",t.bMT(11,30,"lang_cms_auto_gen_test_select")," ",t.bMT(12,32,"lang_auto_month"),""),t.R7$(4),t.Y8G("ngClass",n.totalRemainHomework>0||n.noHomework?"darkgray":n.finishHomework?"yellowgreen":"red"),t.R7$(2),t.SpI(" ",t.bMT(17,34,n.totalRemainHomework>0?t.bMT(18,36,"lang_auto_chua_hoan_thanh")+" ("+n.totalRemainHomework.toString()+")":n.noHomework?"lang_auto_hoan_thanh":n.finishHomework?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.R7$(3),t.Y8G("ngClass",n.totalRemainExam>0||n.noExam?"darkgray":n.finishExam?"yellowgreen":"red"),t.R7$(2),t.SpI(" ",t.bMT(22,38,n.totalRemainExam>0?t.bMT(23,40,"lang_auto_chua_hoan_thanh")+" ("+n.totalRemainExam.toString()+")":n.noExam?"lang_auto_hoan_thanh":n.finishExam?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.R7$(5),t.Y8G("id","received_document_"+n.id)("checked",null!==(_=null==n.attendance?null:n.attendance.receivedDocument)&&void 0!==_?_:0),t.R7$(3),t.Y8G("id","absent_"+n.id)("checked",null!==(m=null==n.attendance?null:n.attendance.absent)&&void 0!==m?m:0),t.R7$(2),t.FS9("placeholder",t.bMT(32,42,"lang_business_reason_for_leave")),t.Y8G("id","attendance_reason_"+n.id)("disabled",!(null!=n.attendance&&n.attendance.absent))("value",null==n.attendance?null:n.attendance.reason)}}function na(r,I){if(1&r&&(t.j41(0,"div",20)(1,"table",21)(2,"thead")(3,"tr")(4,"th",22),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",23),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",24),t.EFF(11),t.nI1(12,"mytranslate"),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"th",25),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s(),t.j41(17,"th",26),t.EFF(18),t.nI1(19,"mytranslate"),t.k0s(),t.j41(20,"th",24)(21,"div"),t.EFF(22),t.nI1(23,"mytranslate"),t.k0s(),t.EFF(24),t.nI1(25,"mytranslate"),t.k0s(),t.j41(26,"th",24),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"th",24),t.EFF(30),t.nI1(31,"mytranslate"),t.k0s()()(),t.j41(32,"tbody"),t.DNE(33,ea,33,44,"tr",27),t.k0s()()()),2&r){const n=t.XpG(2);t.R7$(5),t.JRh(t.bMT(6,11,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(9,13,"lang_auto_so_bao_danh")),t.R7$(3),t.Lme("",t.bMT(12,15,"lang_test_market_withdraw_time")," ",t.bMT(13,17,"lang_core_nop_hoc_phi").toLocaleLowerCase(),""),t.R7$(4),t.JRh(t.bMT(16,19,"lang_student_frontend_dashboard_homework")),t.R7$(3),t.JRh(t.bMT(19,21,"lang_auto_only_de_thi")),t.R7$(4),t.SpI(" ",t.bMT(23,23,"lang_core_da_phat")," "),t.R7$(2),t.SpI(" ",t.bMT(25,25,"lang_auto_tai_lieu")," "),t.R7$(3),t.SpI(" ",t.bMT(28,27,"lang_business_vang_mat")," "),t.R7$(3),t.JRh(t.bMT(31,29,"lang_auto_ly_do")),t.R7$(3),t.Y8G("ngForOf",n.listStudent)}}function ia(r,I){if(1&r&&t.DNE(0,na,34,31,"div",19),2&r){const n=t.XpG();t.Y8G("ngIf",n.listStudent.length>0)}}function oa(r,I){if(1&r){const n=t.RV6();t.j41(0,"azt-paging",47),t.bIt("goToPaginationPage",function(m){t.eBV(n);const k=t.XpG(2);return t.Njj(k.setPageStudent(m))}),t.k0s()}if(2&r){const n=t.XpG(2);t.Y8G("pageObj",n.pageObj)}}function sa(r,I){if(1&r&&(t.j41(0,"div",44),t.nrm(1,"div"),t.DNE(2,oa,1,1,"azt-paging",45),t.j41(3,"div",46),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const n=t.XpG();t.R7$(2),t.Y8G("ngIf",n.totalStudent>n.pageObj.pageSize),t.R7$(2),t.Lme("",n.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}let aa=(()=>{class r extends a.H{openDialogCheckboxMonth(n){this.sAztDialogService.open($,{width:"454px",restoreFocus:!1,data:n.id}).afterClosed().subscribe(_=>{_&&this.getListStudent()})}goToProfile(n,_){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+_,"?backto="+encodeURIComponent("/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(n){var _="/admin/student/attendance-student/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,m="?page="+n+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(_,m),this.initStatusObj(),this.pageObj.setPageNumber(n),this.getListStudent()}onSearchBox(n){this.searchContentObj=n,this.setPageStudent(1)}setAttendance(n,_,m){var k=m.target,L=k.checked?1:0,et=this.listStudent.find(re=>re.id==_);if(et){var St=this.listAttendanceNew.find(ln=>ln.id==_);let re=document.getElementById("attendance_reason_"+_);"absent"==n?(et.attendance.absent=L,k.checked?et.attendance.receivedDocument=0:(et.attendance.reason="",re.value="")):(et.attendance.receivedDocument=L,k.checked&&(et.attendance.absent=0,et.attendance.reason="",re.value="")),St?(St.absent=et.attendance?.absent,St.receivedDocument=et.attendance?.receivedDocument,St.reason=re.value):this.listAttendanceNew.push({id:_,absent:et.attendance?.absent,receivedDocument:et.attendance?.receivedDocument,reason:re.value})}}setReasonAttendance(n,_){var m=_.target,k=this.listStudent.find(et=>et.id==n);if(k){var L=this.listAttendanceNew.find(et=>et.id==n);L?L.reason=m.value:this.listAttendanceNew.push({id:n,absent:k.attendance?.absent,receivedDocument:k.attendance?.receivedDocument,reason:m.value})}}saveAttendance(){this.isSave=!0;let n={programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listAttendanceNew};if(0==this.listAttendanceNew.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAttendancesPost(n).subscribe(_=>{_.success?(this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getPayment:!0,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(_=>{_?(_.list.forEach(m=>{m.attendance||(m.attendance={id:0,programId:this.programId,sessionId:this.sessionId,classroomId:this.classroomId,studentId:m.id,absent:0,permission:0,reason:""})},_.list),this.listStudent=_.list,this.totalStudent=_.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,tt.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let n=this.commonService.getMyQueryParam("backto");this.backToLink=n||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent(),super.ngOnInit()}constructor(n,_,m){super(),this.activeRoute=n,this.studentService=_,this.sAztDialogService=m,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.listAttendanceNew=[],this.searchContentObj=new rt.Z,this.pageObj=new De.d(20)}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(O.nX),t.rXU(v.b),t.rXU(ue.i))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-attendance-student"]],features:[t.Vt3],decls:22,vars:19,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","searchContentObj","placeholder","onSearch"],[3,"colorBackground"],["azt-track-service","attendance-student-Tj_9J-QZu",1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","flex justify-between items-center mt-5",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[1,"mt-10","text-center"],[3,"currentStatusObj"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[1,"text-center","whitespace-nowrap","px-3"],[1,"text-center","whitespace-nowrap","px-2"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[4,"ngIf"],["class","darkgray",4,"ngIf"],["azt-track-service","attendance-student-j17JbU3oZS",1,"w-5","h-5","inline-block","ml-1","zoom-in",2,"margin-top","-2px","color","gray",3,"matTooltip","click"],["name","calendar-search","size","16"],[1,"text-center",3,"ngClass"],[1,"mx-auto",2,"width","max-content"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input",3,"id","checked","change"],["type","checkbox",1,"show-code","form-check-input","form-check-input-absent",3,"id","checked","change"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value","input"],[1,"darkgray"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"pageObj","goToPaginationPage"]],template:function(_,m){if(1&_&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.bIt("onSearch",function(L){return m.onSearchBox(L.searchObj)}),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"flexed-on-the-top",8)(12,"button",9),t.bIt("click",function(){return m.saveAttendance()}),t.DNE(13,Hs,1,0,"azt-loading-ui",10),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()(),t.j41(16,"div",11),t.DNE(17,Ks,3,3,"div",12),t.DNE(18,Qs,1,1,"azt-loading-effect",13),t.DNE(19,ia,1,1,"ng-template",null,14,t.C5r),t.k0s(),t.DNE(21,sa,6,5,"div",15),t.k0s()),2&_){const k=t.sdS(20);t.Y8G("headerBackToLink",m.backToLink),t.R7$(4),t.JRh(t.bMT(5,13,"lang_student_attendance_student")),t.R7$(5),t.Y8G("isServerSearch",!0)("searchContentObj",m.searchContentObj)("placeholder",t.bMT(10,15,"lang_core_tim_theo_ten_phone_email")),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(1),t.Y8G("disabled",m.isSave),t.R7$(1),t.Y8G("ngIf",m.isSave),t.R7$(1),t.SpI(" ",t.bMT(15,17,"lang_auto_luu")," "),t.R7$(3),t.Y8G("ngIf",0==m.listStudent.length&&0==m.totalStudent),t.R7$(1),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",k),t.R7$(3),t.Y8G("ngIf",m.totalStudent>0)}},dependencies:[C.YU,C.Sq,C.bT,Y.oV,dt.K,ye.q,at.R,Uo.$,$t.W,Ae.B,s.Q,Ct.WGl,P.wp,P.Po],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]})}return r})();var ra=g(12787);function la(r,I){if(1&r&&t.nrm(0,"azt-loading-effect",10),2&r){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function wn(r,I){1&r&&(t.j41(0,"div",23),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_list_null")," "))}const $e=function(r){return{width:r}};function ce(r,I){if(1&r&&(t.j41(0,"div",24)(1,"div",25)(2,"div",26,27),t.nrm(4,"img",28),t.nI1(5,"mytranslate"),t.k0s(),t.j41(6,"div",29)(7,"div",30),t.EFF(8),t.k0s(),t.j41(9,"div",31),t.EFF(10),t.k0s()()()()),2&r){const n=I.$implicit,_=t.sdS(3);t.R7$(4),t.FS9("src",""!=n.iconLink&&n.iconLink?n.iconLink:"https://mockup.textandtool.com/images/diendanh/u4711.svg",t.B4B),t.FS9("alt",t.bMT(5,6,"lang_core_anh_sach")),t.R7$(2),t.Y8G("ngStyle",t.eq3(8,$e,"calc(100% -  "+(_.offsetWidth+12)+"px)")),t.R7$(1),t.FS9("matTooltip",n.name),t.R7$(1),t.JRh(n.name),t.R7$(2),t.JRh(n.description)}}function We(r,I){1&r&&(t.j41(0,"div",32),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function li(r,I){if(1&r&&(t.j41(0,"th",39)(1,"div",40),t.EFF(2),t.k0s()()),2&r){const n=I.$implicit;t.R7$(1),t.FS9("matTooltip",n.name),t.R7$(1),t.SpI(" ",n.name," ")}}const go=function(){return[]};function wi(r,I){if(1&r){const n=t.RV6();t.j41(0,"td",45)(1,"div",46)(2,"input",47),t.bIt("change",function(m){t.eBV(n);const k=t.XpG().$implicit,L=t.XpG(3);return t.Njj(L.setStatusBook(k,m))}),t.k0s()()()}if(2&r){const n=I.$implicit,_=t.XpG().$implicit,m=t.XpG(3);let k;t.R7$(2),t.Mz_("id","input-book-",n.id,""),t.Y8G("value",n.id)("checked",m.checkStatusDistribute(n,null!==(k=_.books)&&void 0!==k?k:t.lJ4(3,go)))}}function Ri(r,I){if(1&r){const n=t.RV6();t.j41(0,"tr")(1,"td",41),t.bIt("click",function(){const k=t.eBV(n).$implicit,L=t.XpG(3);return t.Njj(L.goToProfile(k.classroomId,k.id))}),t.nrm(2,"azt-student-info-box",42),t.k0s(),t.j41(3,"td",43),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.DNE(6,wi,3,4,"td",44),t.k0s()}if(2&r){const n=I.$implicit,_=t.XpG(3);let m;t.R7$(2),t.Y8G("name",n.fullName)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("avatar",n.avatar)("gender",n.gender)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt),t.R7$(2),t.JRh(n.identificationNumber?t.i5U(5,12,n.identificationNumber,6):""),t.R7$(2),t.Y8G("ngForOf",null!==(m=null==_.listBook?null:_.listBook.list)&&void 0!==m?m:t.lJ4(15,go))}}function ci(r,I){if(1&r&&(t.j41(0,"div",33)(1,"drag-scroll")(2,"table",34)(3,"thead")(4,"tr")(5,"th",35),t.EFF(6),t.nI1(7,"mytranslate"),t.k0s(),t.j41(8,"th",36),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.DNE(11,li,3,2,"th",37),t.k0s()(),t.j41(12,"tbody"),t.DNE(13,Ri,7,16,"tr",38),t.k0s()()()()),2&r){const n=t.XpG(2);let _;t.R7$(6),t.JRh(t.bMT(7,4,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(10,6,"lang_auto_so_bao_danh")),t.R7$(2),t.Y8G("ngForOf",null!==(_=null==n.listBook?null:n.listBook.list)&&void 0!==_?_:t.lJ4(8,go)),t.R7$(2),t.Y8G("ngForOf",n.listStudent)}}function ca(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",48),t.EFF(1),t.nI1(2,"mytranslate"),t.j41(3,"span",49),t.bIt("click",function(){t.eBV(n);const m=t.XpG(2);return t.Njj(m.search(m.searchContentObj))}),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()}2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,2,"lang_core_not_found_student"),"... "),t.R7$(3),t.JRh(t.bMT(5,4,"lang_powerpoint_frontend_chart_back")))}function Fi(r,I){if(1&r){const n=t.RV6();t.j41(0,"azt-paging",17),t.bIt("goToPaginationPage",function(m){t.eBV(n);const k=t.XpG(3);return t.Njj(k.setPageStudent(m))}),t.k0s()}if(2&r){const n=t.XpG(3);t.Y8G("pageObj",n.pageStudentObj)}}function Wo(r,I){if(1&r&&(t.j41(0,"div",50),t.nrm(1,"div"),t.DNE(2,Fi,1,1,"azt-paging",51),t.j41(3,"div",52),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const n=t.XpG(2);t.R7$(2),t.Y8G("ngIf",n.totalStudent>n.pageStudentObj.pageSize),t.R7$(2),t.Lme("",n.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}function vn(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",11)(1,"div",12),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.DNE(4,wn,3,3,"div",13),t.j41(5,"div",14),t.DNE(6,ce,11,10,"div",15),t.k0s(),t.j41(7,"div",16)(8,"azt-paging",17),t.bIt("goToPaginationPage",function(m){t.eBV(n);const k=t.XpG();return t.Njj(k.setPageBook(m))}),t.k0s()()(),t.j41(9,"div",18),t.DNE(10,We,3,3,"div",19),t.DNE(11,ci,14,9,"div",20),t.DNE(12,ca,6,6,"div",21),t.k0s(),t.DNE(13,Wo,6,5,"div",22)}if(2&r){const n=t.XpG();let _;t.R7$(2),t.JRh(t.bMT(3,8,"lang_core_thong_tin_sach")),t.R7$(2),t.Y8G("ngIf",!(null!=n.listBook&&n.listBook.list&&0!=(null==n.listBook?null:n.listBook.total)||""!=n.searchContentObj.searchContent)),t.R7$(2),t.Y8G("ngForOf",null!==(_=null==n.listBook?null:n.listBook.list)&&void 0!==_?_:t.lJ4(10,go)),t.R7$(2),t.Y8G("pageObj",n.pageBookObj),t.R7$(2),t.Y8G("ngIf",0==n.listStudent.length&&""==n.searchContentObj.searchContent),t.R7$(1),t.Y8G("ngIf",n.listStudent.length>0),t.R7$(1),t.Y8G("ngIf",0==n.listStudent.length&&""!=n.searchContentObj.searchContent),t.R7$(1),t.Y8G("ngIf",n.totalStudent>0)}}let Jo=(()=>{class r extends a.H{setPageStudent(n){var _="/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,m="?page="+n+"&backto="+encodeURIComponent(this.backLink);this.myNavigationWithQueryString(_,m),this.initStatusObj(),this.pageStudentObj.setPageNumber(n),this.getListStudent()}goToProfile(n,_){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+_,"?backto="+encodeURIComponent("/admin/student/distribute-document/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}search(n){this.searchContentObj=n,this.setPageStudent(1)}setPageBook(n){this.pageBookObj.setPageNumber(n),this.getBooks()}checkStatusDistribute(n,_){for(let m=0;m<_.length;m++)if(_[m].bookId==n.id)return!0;return!1}getBooks(){this.waitDestroy(this.bookService.apiBooksListPost({page:this.pageBookObj.page,size:this.pageBookObj.pageSize,programId:this.programId}).subscribe(_=>{_?(this.listBook=_,this.pageBookObj.setTotalPages(this.listBook.total??0),this.getListStudent()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_sach",!0)}))}setStatusBook(n,_){var m=_.target;if(m.checked){var k={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:n.id,bookId:Number(m.value),activate:m.checked};this.waitDestroy(this.studentService.apiStudentsBooksPatch(k).subscribe(et=>{et.success||(document.getElementById("input-book-"+m.value).checked=!m.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}else{var L={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:n.id,bookId:Number(m.value)};this.waitDestroy(this.studentService.apiStudentsBooksDeletePost(L).subscribe(et=>{et.success||(document.getElementById("input-book-"+m.value).checked=!m.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageStudentObj.page,size:this.pageStudentObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!0,getMark:!0,getPayment:!1,getAttendance:!0,me:!1,getAssessment:!1}).subscribe(_=>{_?(this.listStudent=_.list,this.totalStudent=_.total??0,this.pageStudentObj.setTotalPages(this.totalStudent),this.stopStatusObj(),this.searchContentObj.setLoading(!1)):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.searchContentObj.setLoading(!1))}))}ngOnInit(){(0,tt.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageStudentObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"))});let n=this.commonService.getMyQueryParam("backto");this.backLink=n||`/admin/student/classroom-details/${this.classroomId}/3`,this.getBooks(),super.ngOnInit()}constructor(n,_,m){super(),this.bookService=n,this.studentService=_,this.activeRoute=m,this.backLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.totalStudent=0,this.pageStudent=1,this.listStudent=[],this.searchContentObj=new rt.Z,this.pageBookObj=new De.d(20),this.pageStudentObj=new De.d(20)}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(ra.l),t.rXU(v.b),t.rXU(O.nX))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-distribute-documents"]],features:[t.Vt3],decls:14,vars:11,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"col-span-12","mt-3"],[1,"text-base","font-medium","mb-2"],["class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-3"],[3,"pageObj","goToPaginationPage"],[1,"intro-y","col-span-12","overflow-auto"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%",4,"ngIf"],["class","flex justify-center mt-2",4,"ngIf"],["class","flex justify-between items-center mt-5",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4"],[1,"flex","w-70","box-book"],[1,"box-image"],["imageBook",""],["id","blah",3,"src","alt"],[1,"ml-3",3,"ngStyle"],[1,"text-sm","font-medium","truncate",3,"matTooltip"],[1,"scroll"],[1,"mt-10","text-center"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],["class","text-center whitespace-nowrap","style","max-width: 100px !important",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"text-center","whitespace-nowrap",2,"max-width","100px !important"],[1,"truncate",3,"matTooltip"],[1,"!py-3.5","clickable",3,"click"],[3,"name","parentFullName","parentId","parentPhone","avatar","gender","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],[1,"flex","justify-center","form-check","form-switch"],["type","checkbox",1,"show-code","form-check-input","mr-1",3,"id","value","checked","change"],[1,"flex","justify-center","mt-2"],[1,"clickable",2,"color","#2262ae !important",3,"click"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"]],template:function(_,m){if(1&_&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.bIt("onSearch",function(L){return m.search(L.searchObj)}),t.nI1(10,"mytranslate"),t.k0s()()()()(),t.DNE(11,la,1,1,"azt-loading-effect",8),t.DNE(12,vn,14,11,"ng-template",null,9,t.C5r),t.k0s()),2&_){const k=t.sdS(13);t.Y8G("headerBackToLink",m.backLink),t.R7$(4),t.JRh(t.bMT(5,7,"lang_student_distribute_books")),t.R7$(5),t.Y8G("isServerSearch",!0)("placeholder",t.bMT(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",m.searchContentObj),t.R7$(2),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",k)}},dependencies:[C.Sq,C.bT,C.B3,Y.oV,dt.K,ye.q,$t.W,Ae.B,s.Q,kt.jd,kt.Ew,P.wp,P.Po],styles:[".add-image-label[_ngcontent-%COMP%]{background:#87ceeb;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;left:17px;font-size:10px;text-align:center;border-radius:2px}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:12px}.textarea-description[_ngcontent-%COMP%]{height:69px;max-height:70px;border-radius:5px;font-size:12px}.box-image[_ngcontent-%COMP%]{height:102px;width:76px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:72px;max-height:98px;margin:auto}.box-book[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:5px;padding:.5rem;height:118px;min-width:300px}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.scroll[_ngcontent-%COMP%]{overflow:auto;max-height:78px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px;width:8px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#a9a9a9}"]})}return r})();var Oe=g(19857);let mi=(()=>{class r extends a.H{ngOnInit(){(0,tt.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id"));let n=this.commonService.getMyQueryParam("studentId"),_=this.commonService.getMyQueryParam("backTo");this.backToLink=n?"/admin/student/classroom-details/"+this.classroomId+"/4":_||"/admin/student/classroom-details/"+this.classroomId+"/3"}),super.ngOnInit()}constructor(n){super(),this.activeRoute=n,this.backToLink="",this.isShowData=!1,this.classroomId=0,this.programId=0,this.sessionId=0}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(O.nX))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-enter-score"]],features:[t.Vt3],decls:2,vars:6,consts:[[3,"headerBackToLink"],[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(_,m){1&_&&(t.j41(0,"teacher-layout",0),t.nrm(1,"app-table-score",1),t.k0s()),2&_&&(t.Y8G("headerBackToLink",m.backToLink),t.R7$(1),t.Y8G("isStudent",!1)("screenType","ENTER_SCORE")("classroomId",m.classroomId)("programId",m.programId)("sessionId",m.sessionId))},dependencies:[s.Q,Oe.g],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}"]})}return r})();var ho=g(44658),Nn=g(19548),Di=g(43404),ma=g(4375);function _a(r,I){1&r&&(t.j41(0,"div",33),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}function da(r,I){if(1&r&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&r){const n=t.XpG(2);t.R7$(1),t.SpI("- ",n.selectedYearValue+1,"")}}function Mi(r,I){if(1&r&&(t.j41(0,"mat-option",34),t.EFF(1),t.DNE(2,da,2,1,"span",35),t.k0s()),2&r){const n=I.$implicit,_=t.XpG();t.Y8G("value",n),t.R7$(1),t.SpI(" ",n," "),t.R7$(1),t.Y8G("ngIf",_.selectedYearValue==n)}}function Gi(r,I){1&r&&(t.j41(0,"div",36),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_school_year"),". "))}function fo(r,I){if(1&r&&(t.j41(0,"span",41),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const n=t.XpG().$implicit;t.R7$(1),t.JRh(t.bMT(2,1,n.groupObj.name))}}function Ho(r,I){if(1&r&&(t.j41(0,"span",42),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&r){const n=t.XpG().$implicit;t.FS9("matTooltip",t.bMT(1,2,n.groupObj.name)),t.R7$(2),t.JRh(t.bMT(3,4,n.groupObj.name))}}function bo(r,I){if(1&r&&(t.qex(0),t.j41(1,"div",37)(2,"mat-radio-button",38),t.DNE(3,fo,3,3,"span",39),t.nI1(4,"mytranslate"),t.DNE(5,Ho,4,6,"span",40),t.nI1(6,"mytranslate"),t.k0s()(),t.bVm()),2&r){const n=I.$implicit;t.R7$(2),t.Y8G("value",n.groupObj.id),t.R7$(1),t.Y8G("ngIf",n.groupObj.name&&t.bMT(4,3,n.groupObj.name).length<15),t.R7$(2),t.Y8G("ngIf",n.groupObj.name&&t.bMT(6,5,n.groupObj.name).length>=15)}}function vo(r,I){1&r&&(t.j41(0,"div",43),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_name_group")," "))}function ua(r,I){if(1&r){const n=t.RV6();t.j41(0,"a",44),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.isShowCreateGroupOfClassroomOfClassroomBox(!0))}),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()}2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_auto_+_them_nhom")," "))}function Kn(r,I){1&r&&(t.nrm(0,"input",45,46),t.nI1(2,"mytranslate")),2&r&&t.FS9("placeholder",t.bMT(2,1,"lang_auto_ten_nhom_vd_khoi_1_khoi_2"))}function pa(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",47)(1,"button",48),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.createNewGroupOfClassroom())}),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s(),t.j41(4,"button",49),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.isShowCreateGroupOfClassroomOfClassroomBox(!1))}),t.nrm(5,"lucide-icon",50),t.k0s()()}if(2&r){const n=t.XpG();t.R7$(1),t.Y8G("disabled",n.form.controls.nameGroup.errors),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_auto_tao_nhom")," ")}}function Ko(r,I){1&r&&(t.j41(0,"div",51),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" *",t.bMT(2,1,"lang_student_classroom_list_utils_create_class_request_enter_name_group"),". "))}function Qo(r,I){1&r&&t.nrm(0,"azt-loading-ui",54)}function ga(r,I){if(1&r){const n=t.RV6();t.qex(0),t.j41(1,"button",52),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.saveClassroomObj(!1))}),t.DNE(2,Qo,1,0,"azt-loading-ui",53),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s(),t.bVm()}if(2&r){const n=t.XpG();t.R7$(1),t.Y8G("disabled",n.statusObj.loading||n.form.controls.nameClass.errors),t.R7$(1),t.Y8G("ngIf",n.statusObj.loading&&"save"==n.activeButton),t.R7$(1),t.SpI(" ",t.bMT(4,3,"lang_button_save")," ")}}function Zo(r,I){1&r&&t.nrm(0,"azt-loading-ui",54)}function ko(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",55),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.updateClassroomObj())}),t.DNE(1,Zo,1,0,"azt-loading-ui",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&r){const n=t.XpG();t.Y8G("disabled",n.statusObj.loading||n.form.controls.nameClass.errors),t.R7$(1),t.Y8G("ngIf",n.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(3,3,"lang_button_update")," ")}}function qo(r,I){1&r&&t.nrm(0,"azt-loading-ui",54)}function ts(r,I){if(1&r){const n=t.RV6();t.j41(0,"button",56),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.saveClassroomObj(!0))}),t.DNE(1,qo,1,0,"azt-loading-ui",53),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()}if(2&r){const n=t.XpG();t.Y8G("disabled",n.statusObj.loading||n.form.controls.nameClass.errors),t.R7$(1),t.Y8G("ngIf",n.statusObj.loading&&"save_and_close"==n.activeButton),t.R7$(1),t.SpI(" ",t.bMT(3,3,"lang_core_luu_va_dong")," ")}}let Co=(()=>{class r extends pe._{closeDialog(){this.dialogRef.close(!!this.hasCreateNewStuff)}createNewGroupOfClassroom(){if(this.initStatusObj(),this.form.controls.nameGroup.valid){this.isShowCreateGroupOfClassroom=!1;let n={groupName:this.form.getRawValue().nameGroup};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomGroupPost(n).subscribe(_=>{1==_.success?(this.hasCreateNewStuff=!0,this.getClassroomObjs(),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):this.errorStatusObj(_.message??"",!0)}))}}isShowCreateGroupOfClassroomOfClassroomBox(n){this.form.controls.nameGroup.setValue(""),this.isShowCreateGroupOfClassroom=n}updateClassroomObj(){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;let _=this.form.getRawValue().group;_=_!=this.fakeGroupValue?_:void 0;let m={id:this.classroomObj?.id??0,classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:_??0};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomWithGroupPost(m).subscribe(k=>{1==k.success?k.data?.isDuplicatedClassroomName?this.errorStatusObj(k.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):(this.successStatusObj("lang_auto_sua_lop_hoc_thanh_cong",!0),this.dialogRef.close(!0)):this.errorStatusObj("lang_auto_sua_lop_hoc_khong_thanh_cong",!0)}))}saveClassroomObj(n){if(0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid)return;this.initStatusObj(),this.activeButton=n?"save_and_close":"save";let m=this.form.getRawValue().group;m=m!=this.fakeGroupValue?m:void 0;let k={classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:m};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(k).subscribe(L=>{if(1==L.success)if(L.data?.isDuplicatedClassroomName)this.errorStatusObj(L.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0);else{this.successStatusObj("lang_auto_them_lop_thanh_cong",!0);let et=L.data?.obj.id;if(n)return this.dialogRef.close(),void this.commonService.myNavigation(`/admin/student/classroom-details/${et}/0`);this.hasCreateNewStuff=!0,this.form.controls.nameClass.setValue(""),this.form.markAsPristine()}else this.errorStatusObj("lang_auto_them_lop_hoc_khong_thanh_cong",!0)}))}handleData(){let n=(new Date).getFullYear();for(let L=n-20;L<=n+40;L++)this.years.push(L);null!=this.classroomObj&&(null==this.classroomObj.year&&(this.classroomObj.year=""),null==this.classroomObj.classroomGroupId&&(this.classroomObj.classroomGroupId=this.fakeGroupValue));let _=this.classroomObj?this.classroomObj?.year?.split(" ")[0]:"";this.selectedYearValue=""!=_?parseInt(_??"",10):n;let m=this.classroomObj?this.classroomObj.classroomGroupId:this.fakeGroupValue;this.form=new J.gE({nameClass:new J.MJ(this.classroomObj?this.classroomObj.name:"",{nonNullable:!0,validators:[J.k0.required]}),nameGroup:new J.MJ("",{nonNullable:!0,validators:[J.k0.required]}),group:new J.MJ(m,{nonNullable:!0,validators:[J.k0.required]}),year:new J.MJ(this.selectedYearValue,{nonNullable:!0,validators:[J.k0.required]})})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(n=>{1==n.success?(this.activeClassroomData=n?.data?.activeClassroomData,this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){this.handleData(),this.getClassroomObjs()}constructor(n,_,m){super(m,_),this.classroomGroupService=n,this.dialogRef=_,this.data=m,this.selectedYearValue=0,this.isShowCreateGroupOfClassroom=!1,this.fakeGroupValue=-2,this.years=[],this.hasCreateNewStuff=!1,this.activeButton="save",this.classroomObj=m.classroomObj,this.form=new J.gE({nameClass:new J.MJ("",{nonNullable:!0,validators:[J.k0.required]}),nameGroup:new J.MJ("",{nonNullable:!0,validators:[J.k0.required]}),group:new J.MJ(0,{nonNullable:!0,validators:[J.k0.required]}),year:new J.MJ(0,{nonNullable:!0,validators:[J.k0.required]})}),this.dialogRef.backdropClick().subscribe(()=>{this.dialogRef.close(!!this.hasCreateNewStuff)})}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(Nn.kG),t.rXU(Zt.CP,8),t.rXU(Zt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-create-or-classroom"]],features:[t.Vt3],decls:47,vars:34,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","nameClass",1,"form-label"],["type","text","id","nameClass","formControlName","nameClass",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","year",1,"form-label"],["appearance","outline"],["formControlName","year","id","year",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-xs text-danger mt-1","style","width: 100%; margin: auto",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["formControlName","group"],[1,"grid","grid-cols-10","gap-4","sm:gap-6","azt-create-update-classroom","px-3"],[4,"ngFor","ngForOf"],["class","text-danger text-danger mt-1",4,"ngIf"],[1,"p-3","flex","flex-col","md:flex-row","md:items-center"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN","class","m-1 btn-text-primary",3,"click",4,"ngIf"],["type","text","class","form-control mr-2","style","width: auto","formControlName","nameGroup",3,"placeholder",4,"ngIf"],["class","flex",4,"ngIf"],["class","text-danger pl-5 pb-2","style","max-width: 250px",4,"ngIf"],[1,"p-3","flex","justify-end"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],[4,"ngIf","ngIfElse"],["updateData",""],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl","class","btn btn-info",3,"disabled","click",4,"ngIf"],[1,"text-xs","text-danger","mt-1"],[3,"value"],[4,"ngIf"],[1,"text-xs","text-danger","mt-1",2,"width","100%","margin","auto"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3","w-full"],["color","primary",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"text-danger","text-danger","mt-1"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN",1,"m-1","btn-text-primary",3,"click"],["type","text","formControlName","nameGroup",1,"form-control","mr-2",2,"width","auto",3,"placeholder"],["nameGroup",""],[1,"flex"],["azt-track-service","create-or-update-classroom-dialog-93qcHBpjZM3",1,"btn","block","btn-primary","mr-2","ml-0","md:ml-2","mt-2","md:mt-0",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-F4XQrjncsAd",1,"btn","block","btn-secondary","mt-2","md:mt-0",3,"click"],["name","x","size","16"],[1,"text-danger","pl-5","pb-2",2,"max-width","250px"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","w-24","btn-primary","mr-2",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-yxhESKFIl",1,"btn","btn-info",3,"disabled","click"]],template:function(_,m){if(1&_&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"azt-mat-dialog-content")(9,"div",5)(10,"div",6)(11,"label",7),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.nrm(14,"input",8),t.nI1(15,"mytranslate"),t.DNE(16,_a,3,3,"div",9),t.k0s(),t.j41(17,"div",10)(18,"label",11),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s(),t.j41(21,"mat-form-field",12)(22,"mat-select",13),t.bIt("valueChange",function(L){return m.selectedYearValue=L}),t.DNE(23,Mi,3,3,"mat-option",14),t.k0s()(),t.DNE(24,Gi,3,3,"div",15),t.k0s(),t.j41(25,"div",16)(26,"div",17),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.j41(29,"div",18)(30,"mat-radio-group",19)(31,"div",20),t.DNE(32,bo,7,7,"ng-container",21),t.k0s()(),t.DNE(33,vo,3,3,"div",22),t.j41(34,"div",23),t.DNE(35,ua,3,3,"a",24),t.DNE(36,Kn,3,3,"input",25),t.DNE(37,pa,6,4,"div",26),t.k0s(),t.DNE(38,Ko,3,3,"div",27),t.k0s()()()()(),t.j41(39,"div",28)(40,"button",29),t.bIt("click",function(){return m.closeDialog()}),t.EFF(41),t.nI1(42,"mytranslate"),t.k0s(),t.DNE(43,ga,5,5,"ng-container",30),t.DNE(44,ko,4,5,"ng-template",null,31,t.C5r),t.DNE(46,ts,4,5,"button",32),t.k0s()()()),2&_){const k=t.sdS(45);t.R7$(1),t.Y8G("formGroup",m.form),t.R7$(4),t.SpI(" ",m.classroomObj?t.bMT(7,22,"lang_student_classroom_list_utils_create_class_update_class"):t.bMT(6,20,"lang_student_classroom_list_utils_create_class_add_class")," "),t.R7$(7),t.SpI(" ",t.bMT(13,24,"lang_auto_ten_lop")," "),t.R7$(2),t.FS9("placeholder",t.bMT(15,26,"lang_auto_nhap_ten_lop")),t.R7$(2),t.Y8G("ngIf",m.form.controls.nameClass.dirty&&m.form.controls.nameClass.errors),t.R7$(3),t.SpI(" ",t.bMT(20,28,"lang_auto_nam_hoc")," "),t.R7$(3),t.Y8G("value",m.selectedYearValue),t.R7$(1),t.Y8G("ngForOf",m.years),t.R7$(1),t.Y8G("ngIf",m.form.controls.year.dirty&&m.form.controls.year.errors),t.R7$(3),t.SpI(" ",t.bMT(28,30,"lang_student_classroom_list_utils_create_class_choose_group_class")," "),t.R7$(5),t.Y8G("ngForOf",m.activeClassroomData),t.R7$(1),t.Y8G("ngIf",m.form.controls.group.dirty&&m.form.controls.group.errors),t.R7$(2),t.Y8G("ngIf",0==m.isShowCreateGroupOfClassroom),t.R7$(1),t.Y8G("ngIf",1==m.isShowCreateGroupOfClassroom),t.R7$(1),t.Y8G("ngIf",m.isShowCreateGroupOfClassroom),t.R7$(1),t.Y8G("ngIf",m.isShowCreateGroupOfClassroom&&m.form.controls.nameGroup.dirty&&m.form.controls.nameGroup.errors),t.R7$(3),t.JRh(t.bMT(42,32,"lang_button_cancel")),t.R7$(2),t.Y8G("ngIf",!m.classroomObj)("ngIfElse",k),t.R7$(3),t.Y8G("ngIf",!m.classroomObj)}},dependencies:[C.Sq,C.bT,ie.wT,Je.rl,Di.VT,Di._g,ma.VO,Y.oV,J.qT,J.me,J.BC,J.cb,J.j4,J.JD,Jn.t,Pe.U,at.R,Ct.WGl,P.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]})}return r})();var xo=g(18350),To=g(7814);let Io=(()=>{class r extends To.W{reloadClassrooms(n){this.typeFilter=n??"all",this.getClassroomObjs()}eventOfClassroomMenu(n){n&&this.getClassroomObjs()}updateGroupSuccessEvent(n){n&&this.getClassroomObjs()}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet(this.typeFilter).subscribe(n=>{n.success?(this.classroomGroupData=(this.isShowActiveClassroom?n?.data?.activeClassroomData:n?.data?.storageClassroomData)??[],this.totalStorageClassroom=this.commonService.concatMultipleArray(n?.data?.storageClassroomData?.map(_=>_.classroomObjs)??[]).length,this.isShowActiveClassroom||(this.classroomGroupData=this.classroomGroupData.filter(_=>_.classroomObjs.length>0)),this.initData(),this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}constructor(){super(),this.typeFilter="all",this.classroomGroupService=(0,t.WQX)(Nn.kG),this.isShowActiveClassroom=!1,this.totalStorageClassroom=0}static#t=this.\u0275fac=function(_){return new(_||r)};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-base-show-classrooms"]],features:[t.Vt3],decls:0,vars:0,template:function(_,m){},encapsulation:2})}return r})();function es(r,I){1&r&&t.nrm(0,"azt-loading-ui",10)}let ha=(()=>{class r extends pe._{closeDialog(n){this.dialogRef.close(n)}deleteClassroomObj(){this.classroomObj.isShareClassroom?this.updateClassroomToGroup():(this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomObjGet(this.classroomObj?.id??0).subscribe(n=>{1==n.success?(this.successStatusObj("lang_auto_xoa_lop_hoc_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_auto_xoa_lop_hoc_khong_thanh_cong",!0),this.dialogRef.close())})))}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classroomObj.id}).subscribe(_=>{1==_.success?(this.successStatusObj("lang_core_xoa_nhom_lop_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_core_xoa_nhom_lop_khong_thanh_cong",!0),this.closeDialog(!1))})}constructor(n,_,m){super(m,_),this.classroomGroupService=n,this.dialogRef=_,this.data=m,this.classroomObj=m.classroomObj}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(Nn.kG),t.rXU(Zt.CP,8),t.rXU(Zt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-delete-classroom"]],features:[t.Vt3],decls:18,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-classroom-plZFV82pDhH",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-classroom-f8Z8p51QYG8",1,"btn","w-24","btn-danger",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(_,m){1&_&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.j41(8,"span",5),t.EFF(9),t.k0s()()()()(),t.j41(10,"div",6)(11,"button",7),t.bIt("click",function(){return m.closeDialog(!1)}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s(),t.j41(14,"button",8),t.bIt("click",function(){return m.deleteClassroomObj()}),t.DNE(15,es,1,0,"azt-loading-ui",9),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()()()),2&_&&(t.R7$(5),t.Lme(" ",m.classroomObj.isShareClassroom?t.bMT(6,7,"lang_core_bo_quyen_luu_y_sau_khi_xoa_lop_duoc_chia_se"):""," ",t.bMT(7,9,"lang_student_classroom_list_utils_delete_class")," "),t.R7$(4),t.JRh(m.classroomObj.name),t.R7$(3),t.SpI(" ",t.bMT(13,11,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",1==m.statusObj.loading),t.R7$(1),t.Y8G("ngIf",m.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(17,13,"lang_button_delete")," "))},dependencies:[C.bT,at.R,P.wp],encapsulation:2})}return r})();function ns(r,I){1&r&&t.nrm(0,"azt-loading-ui")}function fa(r,I){if(1&r&&(t.j41(0,"span",22),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r){const n=t.XpG(3).$implicit;t.R7$(1),t.JRh(t.bMT(2,1,n.groupObj.name))}}function ba(r,I){if(1&r&&(t.j41(0,"span",23),t.nI1(1,"mytranslate"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&r){const n=t.XpG(3).$implicit;t.FS9("matTooltip",t.bMT(1,2,n.groupObj.name)),t.R7$(2),t.JRh(t.bMT(3,4,n.groupObj.name))}}function Ia(r,I){if(1&r&&(t.j41(0,"mat-radio-button",19),t.DNE(1,fa,3,3,"span",20),t.DNE(2,ba,4,6,"span",21),t.k0s()),2&r){const n=t.XpG(2).$implicit;t.Y8G("value",n.groupObj.id),t.R7$(1),t.Y8G("ngIf",n.groupObj.name&&n.groupObj.name.length<15),t.R7$(1),t.Y8G("ngIf",n.groupObj.name&&n.groupObj.name.length>=15)}}function va(r,I){if(1&r&&(t.j41(0,"div",17),t.DNE(1,Ia,3,3,"mat-radio-button",18),t.k0s()),2&r){const n=t.XpG().$implicit;t.R7$(1),t.Y8G("ngIf",null!=n.groupObj)}}function u(r,I){1&r&&(t.j41(0,"div",24)(1,"mat-radio-button",19),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(1),t.Y8G("value",0),t.R7$(1),t.SpI(" ",t.bMT(3,2,"lang_student_classroom_list_other")," "))}function l(r,I){if(1&r&&(t.qex(0),t.DNE(1,va,2,1,"div",15),t.DNE(2,u,4,4,"div",16),t.bVm()),2&r){const n=I.$implicit;t.R7$(1),t.Y8G("ngIf",null!=n.groupObj),t.R7$(1),t.Y8G("ngIf",null==n.groupObj)}}function o(r,I){1&r&&t.nrm(0,"azt-loading-ui",25)}let c=(()=>{class r extends pe._{closeDialog(){this.dialogRef.close()}chooseGroup(){let n=this.form.getRawValue();this.groupId=n.groupId!=this.fakeGroupValue?n.groupId:void 0}updateClassroomToGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classId,groupId:this.groupId}).subscribe(_=>{1==_.success?(this.successStatusObj("lang_core_di_chuyen_nhom_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_core_di_chuyen_nhom_khong_thanh_cong",!0),this.closeDialog())})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet("all").subscribe(n=>{if(1==n.success){for(var _ of(this.activeClassroomData=n?.data?.activeClassroomData??[],this.activeClassroomData))_.classroomObjs.find(L=>L.id==this.classId)&&(this.form=new J.gE({groupId:new J.MJ(_.groupObj.id,{nonNullable:!0,validators:[J.k0.required]})}));this.successStatusObj()}else this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){this.getClassroomObjs()}constructor(n,_,m){super(m,_),this.classroomGroupService=n,this.dialogRef=_,this.data=m,this.classId=0,this.fakeGroupValue=-2,this.classId=m.classId,this.form=new J.gE({groupId:new J.MJ(void 0,{nonNullable:!0,validators:[J.k0.required]})})}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(Nn.kG),t.rXU(Zt.CP,8),t.rXU(Zt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-move-classroom-to-group"]],features:[t.Vt3],decls:22,vars:14,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class","list-group"],[1,"pt-2"],[4,"ngIf"],["formControlName","groupId",3,"change"],[1,"grid","grid-cols-12","gap-4","sm:gap-6","azt-create-update-classroom"],[4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","mr-1",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6",4,"ngIf"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6","w-full"],["color","primary","size","small","class","w-full",3,"value",4,"ngIf"],["color","primary","size","small",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6"],[1,"mr-1"]],template:function(_,m){1&_&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()(),t.j41(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6),t.DNE(10,ns,1,0,"azt-loading-ui",7),t.j41(11,"mat-radio-group",8),t.bIt("change",function(){return m.chooseGroup()}),t.j41(12,"div",9),t.DNE(13,l,3,2,"ng-container",10),t.k0s()()()()()(),t.j41(14,"div",11)(15,"button",12),t.bIt("click",function(){return m.closeDialog()}),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s(),t.j41(18,"button",13),t.bIt("click",function(){return m.updateClassroomToGroup()}),t.DNE(19,o,1,0,"azt-loading-ui",14),t.EFF(20),t.nI1(21,"mytranslate"),t.k0s()()()()),2&_&&(t.R7$(1),t.Y8G("formGroup",m.form),t.R7$(4),t.SpI(" ",t.bMT(6,8,"lang_core_chon_nhom_lop_muon_chuyen_sang")," "),t.R7$(5),t.Y8G("ngIf",m.statusObj.loading),t.R7$(3),t.Y8G("ngForOf",m.activeClassroomData),t.R7$(3),t.JRh(t.bMT(17,10,"lang_button_cancel")),t.R7$(2),t.Y8G("disabled",m.form.controls.groupId.errors),t.R7$(1),t.Y8G("ngIf",m.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(21,12,"lang_button_update")," "))},dependencies:[C.Sq,C.bT,Di.VT,Di._g,Y.oV,J.qT,J.BC,J.cb,J.j4,J.JD,Jn.t,Pe.U,at.R,P.wp],styles:[".truncate[_ngcontent-%COMP%]{max-width:210px;vertical-align:middle;cursor:pointer;margin-left:-5px}.list-group[_ngcontent-%COMP%]   .mdc-radio__inner-circle[_ngcontent-%COMP%]{border-width:7px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio__background[_ngcontent-%COMP%]{width:15px!important;height:15px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]   .mdc-radio__native-control[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{padding:calc((var(--mdc-radio-state-layer-size, 30px) - 20px) / 2)}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{display:flex!important;width:auto!important;height:auto!important}@media (max-width: 767px){.truncate[_ngcontent-%COMP%]{max-width:190px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]})}return r})();function d(r,I){1&r&&(t.j41(0,"div",15)(1,"span"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()()),2&r&&(t.R7$(2),t.JRh(t.bMT(3,1,"lang_homework_add_home_work_share")))}const h=function(){return{"text-slate-500":!0}};function x(r,I){if(1&r&&(t.j41(0,"div",16)(1,"a",17),t.bIt("click",function(_){return _.preventDefault()}),t.nrm(2,"lucide-icon",18),t.k0s()()),2&r){t.XpG();const n=t.sdS(17);t.R7$(1),t.Y8G("matMenuTriggerFor",n),t.R7$(1),t.Y8G("ngClass",t.lJ4(2,h))}}const E=function(){return{"mr-2":!0}};function N(r,I){if(1&r){const n=t.RV6();t.j41(0,"li")(1,"a",19),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.editClassroomDialog())}),t.nrm(2,"lucide-icon",20),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,E)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_sua_lop")," "))}function Q(r,I){if(1&r){const n=t.RV6();t.j41(0,"li")(1,"a",21),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.copyClassroomObj())}),t.nrm(2,"lucide-icon",22),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,E)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_nhan_ban_lop")," "))}function ct(r,I){if(1&r){const n=t.RV6();t.j41(0,"li")(1,"a",23),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.moveClassroomToStorage())}),t.nrm(2,"lucide-icon",24),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,E)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_dua_vao_luu_tru")," "))}function st(r,I){if(1&r){const n=t.RV6();t.j41(0,"li")(1,"a",25),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.moveSharedClassroomToStorage())}),t.nrm(2,"lucide-icon",24),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,E)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_dua_vao_luu_tru")," "))}function ht(r,I){if(1&r){const n=t.RV6();t.j41(0,"li")(1,"a",26),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.moveClassroomFromStorageToActive())}),t.nrm(2,"lucide-icon",27),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,E)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_khoi_phuc")," "))}function pt(r,I){if(1&r){const n=t.RV6();t.j41(0,"li")(1,"a",28),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.moveSharedClassroomFromStorageToActive())}),t.nrm(2,"lucide-icon",27),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,E)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_khoi_phuc")," "))}function Pt(r,I){if(1&r){const n=t.RV6();t.j41(0,"li")(1,"a",28),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.updateClassroom())}),t.nrm(2,"lucide-icon",29),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,E)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_core_sua_di_chuyen")," "))}function Kt(r,I){if(1&r){const n=t.RV6();t.j41(0,"li")(1,"a",30),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.deleteClassroomDialog())}),t.nrm(2,"lucide-icon",31),t.EFF(3),t.nI1(4,"mytranslate"),t.k0s()()}2&r&&(t.R7$(2),t.Y8G("ngClass",t.lJ4(4,E)),t.R7$(1),t.SpI(" ",t.bMT(4,2,"lang_auto_xoa_lop")," "))}const me=function(r){return[r]};let he=(()=>{class r extends a.H{goToMergeList(){this.commonService.myNavigation("/admin/student/merge-student/"+this.classroomObj.id)}updateClassroom(){this.sAztDialogService.open(c,{data:{classId:this.classroomObj.id},width:"550px",restoreFocus:!1}).afterClosed().subscribe(_=>{_&&this.eventOfClassroomMenu.emit(!0)})}moveClassroomToStorage(){this.classroomGroupService.apiClassroomGroupMoveClassroomToStorageGet(this.classroomObj.id??0).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj("lang_auto_dua_vao_luu_tru_khong_thanh_cong")})}moveSharedClassroomToStorage(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:5}).subscribe(_=>{1==_.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj(_.message??"")})}moveClassroomFromStorageToActive(){this.classroomGroupService.apiClassroomGroupRestoreClassroomGet(this.classroomObj.id??0).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj("lang_auto_khoi_phuc_lop_hoc_khong_thanh_cong")})}moveSharedClassroomFromStorageToActive(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:2}).subscribe(_=>{1==_.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj(_.message??"")})}editClassroomDialog(){this.sAztDialogService.open(Co,{data:{classroomObj:this.classroomObj},width:"550px",restoreFocus:!1}).afterClosed().subscribe(_=>{_&&this.eventOfClassroomMenu.emit(!0)})}deleteClassroomDialog(){this.sAztDialogService.open(ha,{width:"400px",data:{classroomObj:this.classroomObj},restoreFocus:!1}).afterClosed().subscribe(_=>{_&&this.eventOfClassroomMenu.emit(!0)})}copyClassroomObj(){this.showSuccessSnack("lang_auto_dang_nhan_ban_lop_hoc_vui_long_doi_trong_giay_lat_doing"),this.classroomGroupService.apiClassroomGroupCopyClassroomGet(this.classroomObj.id??0).subscribe(n=>{1==n.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_nhan_ban_lop_hoc_thanh_cong",!0)):this.errorStatusObj("lang_auto_nhan_ban_lop_hoc_khong_thanh_cong",!0)})}ngOnInit(){super.ngOnInit(),this.programId=this.commonService.getMyQueryParam("programId")}constructor(n,_,m){super(),this.classroomGroupService=n,this.permissionTeamService=_,this.sAztDialogService=m,this.eventOfClassroomMenu=new t.bkB,this.screenTemplate=""}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(Nn.kG),t.rXU(Nn.km),t.rXU(ue.i))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["azt-information-class-box"]],inputs:{classroomObj:"classroomObj",screenTemplate:"screenTemplate"},outputs:{eventOfClassroomMenu:"eventOfClassroomMenu"},features:[t.Vt3],decls:31,vars:36,consts:[[1,"relative"],["azt-track-service","information-class-box-lTAPwcAOtkX",1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-4","cursor-pointer","block",2,"background","#eee",3,"routerLink"],[1,"flex","items-center"],[1,"block","font-medium","truncate",2,"max-width","70%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"flex"],[1,"text-slate-500","mr-auto","text-xs","mt-2"],[1,"text-slate-500","text-xs","mt-2"],["class","ribbon",4,"ngIf"],["class","ml-auto absolute top-0 right-0","style","margin: 15px",4,"ngIf"],["xPosition","before"],["classroomMenuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[4,"ngIf"],[1,"ribbon"],[1,"ml-auto","absolute","top-0","right-0",2,"margin","15px"],["azt-track-service","information-class-box-tDPvhBl5vWp",1,"clickable","flex","items-center","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["name","ellipsis","size","20",3,"ngClass"],["azt-track-service","information-class-box-Y6FVEqAKljD",1,"dropdown-item",3,"click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","information-class-box-1Z4loYYCXOT",1,"dropdown-item",3,"click"],["name","copy","size","16",3,"ngClass"],["azt-track-service","information-class-box-yNwo0EZravB",1,"dropdown-item",3,"click"],["name","database","size","16",3,"ngClass"],["azt-track-service","information-class-box-OkjnS3UN_Xz",1,"dropdown-item",3,"click"],["azt-track-service","information-class-box-5V-axi1fKp3",1,"dropdown-item",3,"click"],["name","timer-reset","size","16",3,"ngClass"],["azt-track-service","information-class-box-yPIM4KNi4qL",1,"dropdown-item",3,"click"],["name","shuffle","size","16",3,"ngClass"],["azt-track-service","information-class-box-4Glzv5SSUAO",1,"dropdown-item","text-danger",3,"click"],["name","trash","size","16",3,"ngClass"]],template:function(_,m){if(1&_&&(t.j41(0,"div",0)(1,"a",1),t.nI1(2,"navigationLocalize"),t.j41(3,"div",2)(4,"a",3,4),t.EFF(6),t.k0s()(),t.j41(7,"div",5)(8,"div",6),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s(),t.j41(11,"div",7),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()(),t.DNE(14,d,4,3,"div",8),t.k0s(),t.DNE(15,x,3,3,"div",9),t.k0s(),t.j41(16,"mat-menu",10,11)(18,"div",12)(19,"ul",13),t.DNE(20,N,5,5,"li",14),t.nI1(21,"editPermission"),t.DNE(22,Q,5,5,"li",14),t.nI1(23,"fullPermission"),t.DNE(24,ct,5,5,"li",14),t.DNE(25,st,5,5,"li",14),t.DNE(26,ht,5,5,"li",14),t.DNE(27,pt,5,5,"li",14),t.DNE(28,Pt,5,5,"li",14),t.DNE(29,Kt,5,5,"li",14),t.nI1(30,"deletePermission"),t.k0s()()()),2&_){const k=t.sdS(5);t.R7$(1),t.Y8G("routerLink",t.eq3(34,me,t.bMT(2,19,"/admin/student/classroom-details/"+m.classroomObj.id+(m.programId?"/3":"/0")))),t.R7$(3),t.FS9("matTooltip",m.classroomObj.name),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",k.isDisabled),t.R7$(2),t.SpI(" ",m.classroomObj.name," "),t.R7$(3),t.Lme("",t.bMT(10,21,"lang_auto_si_so"),": ",m.classroomObj.countStudents,""),t.R7$(3),t.Lme("",t.bMT(13,23,"lang_auto_nam_hoc"),": ",m.classroomObj.year,""),t.R7$(2),t.Y8G("ngIf",m.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf",m.classroomObj.permissionObj),t.R7$(5),t.Y8G("ngIf",""==m.screenTemplate&&t.i5U(21,25,m.classroomObj,"classroom")),t.R7$(2),t.Y8G("ngIf",""==m.screenTemplate&&t.i5U(23,28,m.classroomObj,"classroom")),t.R7$(2),t.Y8G("ngIf",""==m.screenTemplate&&!m.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf",""==m.screenTemplate&&m.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf","storage"==m.screenTemplate),t.R7$(1),t.Y8G("ngIf","showListPeopleWhoWillShare"==m.screenTemplate),t.R7$(1),t.Y8G("ngIf",""==m.screenTemplate&&m.classroomObj.isShareClassroom),t.R7$(1),t.Y8G("ngIf",t.i5U(30,31,m.classroomObj,"classroom"))}},dependencies:[C.YU,C.bT,K.kk,K.Cp,Y.oV,O.Wk,Ct.WGl,B.f,P.F2,P.wp,P.gC,P.FV,P.AJ],styles:[".ribbon[_ngcontent-%COMP%]{position:absolute;right:-2px;top:-2px;z-index:1;overflow:hidden;width:45px;height:45px;text-align:right}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:7px;color:#fff;text-transform:uppercase;text-align:center;font-weight:700;line-height:12px;transform:rotate(45deg);-webkit-transform:rotate(45deg);width:55px;display:block;background:linear-gradient(#68cc00,#68cc009c);box-shadow:0 3px 10px -5px #636363;position:absolute;top:6px;right:-14px}.ml-auto[_ngcontent-%COMP%]{z-index:999}"]})}return r})();function fe(r,I){1&r&&t.nrm(0,"azt-loading-ui",10)}let se=(()=>{class r extends pe._{closeDialog(n){this.dialogRef.close(n)}deleteGroupOfClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomGroupGet(this.currentGroupOfClassroomDataThatIsEdited?.id??0).subscribe(n=>{1==n.success?(this.showSuccessSnack("lang_auto_xoa_nhom_thanh_cong"),this.successStatusObj(),this.closeDialog(!0)):(this.errorStatusObj(n.message??"",!0),this.dialogRef.close())}))}constructor(n,_,m){super(m,_),this.classroomGroupService=n,this.dialogRef=_,this.data=m,this.currentGroupOfClassroomDataThatIsEdited=m.groupObj}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(Nn.kG),t.rXU(Zt.CP,8),t.rXU(Zt.Vh,8))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-delete-group"]],features:[t.Vt3],decls:17,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","flex","justify-end"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-danger",3,"disabled","click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function(_,m){1&_&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.j41(7,"span",5),t.EFF(8),t.k0s()()()()(),t.j41(9,"div",6)(10,"button",7),t.bIt("click",function(){return m.closeDialog(!1)}),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",8),t.bIt("click",function(){return m.deleteGroupOfClassroom()}),t.DNE(14,fe,1,0,"azt-loading-ui",9),t.EFF(15),t.nI1(16,"mytranslate"),t.k0s()()()),2&_&&(t.R7$(5),t.SpI(" ",t.bMT(6,6,"lang_student_classroom_list_utils_delete_group")," "),t.R7$(3),t.JRh(null==m.currentGroupOfClassroomDataThatIsEdited?null:m.currentGroupOfClassroomDataThatIsEdited.name),t.R7$(3),t.SpI(" ",t.bMT(12,8,"lang_button_cancel")," "),t.R7$(2),t.Y8G("disabled",1==m.statusObj.loading),t.R7$(1),t.Y8G("ngIf",m.statusObj.loading),t.R7$(1),t.SpI(" ",t.bMT(16,10,"lang_button_delete")," "))},dependencies:[C.bT,at.R,P.wp],encapsulation:2})}return r})();function ke(r,I){if(1&r&&(t.j41(0,"button",26),t.bIt("click",function(_){return _.stopPropagation()}),t.nrm(1,"lucide-icon",27),t.k0s()),2&r){t.XpG();const n=t.sdS(11);t.Y8G("matMenuTriggerFor",n)}}function kn(r,I){1&r&&(t.j41(0,"div",28),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_enter_name_group")," "))}const $n=function(){return{"mr-2":!0}};let _i=(()=>{class r extends a.H{collapseByGroupId(n){this.collapseByGroupIdEvent.emit(n)}deleteGroupDialog(){this.sAztDialogService.open(se,{width:"400px",data:{groupObj:this.groupObj},restoreFocus:!1}).afterClosed().subscribe(_=>{_&&this.updateGroupSuccessEvent.emit(!0)})}updateGroupOfClassroom(n){if(""!=n.trim()){var _={groupId:this.groupObj?.id??0,name:n};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomGroupPost(_).subscribe(m=>{1==m.success?(this.successStatusObj("lang_auto_cap_nhat_nhom_thanh_cong",!0),this.updateGroupSuccessEvent.emit(!0)):this.errorStatusObj(m.message??"",!0)}))}}constructor(n,_){super(),this.classroomGroupService=n,this.sAztDialogService=_,this.updateGroupSuccessEvent=new t.bkB,this.collapseByGroupIdEvent=new t.bkB}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(Nn.kG),t.rXU(ue.i))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-classroom-show-group-box"]],inputs:{groupObj:"groupObj",isOwned:"isOwned"},outputs:{updateGroupSuccessEvent:"updateGroupSuccessEvent",collapseByGroupIdEvent:"collapseByGroupIdEvent"},features:[t.Vt3],decls:43,vars:35,consts:[[1,"flex","items-center"],[1,"text-lg","font-medium","truncate","mr-3"],["azt-track-service","azt-list-classroom-view-mpTg8jgQkF",1,"flex","items-center","clickable",3,"click"],[3,"name","size"],[1,"font-medium","truncate"],[1,"dropdown"],["azt-track-service","class-list-U9X02wc0f","class","dropdown-toggle p-1 hover:bg-gray dark:hover:bg-darkmode-400 rounded-md","aria-expanded","false","data-tw-toggle","dropdown",3,"matMenuTriggerFor","click",4,"ngIf"],["menu","matMenu"],[1,"box","grid"],["azt-track-service","class-list-9ufWL4LIlj","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","pr-3","btn-edit","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor","click"],["name","square-pen","size","16",3,"ngClass"],["azt-track-service","class-list-Qqdrk4Sj2Q",1,"pr-3","btn-delete","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","trash-2","size","16",3,"ngClass"],["xPosition","after"],["matMenuGroupOfClassroom",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["azt-track-service","class-list-G1Mkx8IXu63",1,"modal-body"],[1,"text-base","font-medium","mr-auto"],["azt-track-service","class-list-0AWKcuGUws",3,"click"],["type","text","aria-label","default input example",1,"form-control","mt-2",3,"value","placeholder"],["nameGroup",""],["class","alert alert-danger p-1 mt-2",4,"ngIf"],[1,"text-right","mt-3",2,"display","flex","justify-content","space-between"],["azt-track-service","class-list-qHpiXjTg249",1,"btn","w-24","btn-secondary","mr-2"],["azt-track-service","class-list-lVV77oiaCLP",1,"btn","w-24","btn-primary",3,"disabled","click"],["azt-track-service","class-list-U9X02wc0f","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","p-1","hover:bg-gray","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["name","ellipsis-vertical","size","16"],[1,"alert","alert-danger","p-1","mt-2"]],template:function(_,m){if(1&_){const k=t.RV6();t.j41(0,"div",0)(1,"div",1)(2,"span",2),t.bIt("click",function(){return m.collapseByGroupId(m.groupObj)}),t.nrm(3,"lucide-icon",3),t.j41(4,"h2",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()()(),t.j41(8,"div",5),t.DNE(9,ke,2,1,"button",6),t.j41(10,"mat-menu",null,7)(12,"div",8)(13,"button",9),t.bIt("click",function(et){return et.stopPropagation()}),t.nrm(14,"lucide-icon",10),t.j41(15,"span"),t.EFF(16),t.nI1(17,"mytranslate"),t.k0s()(),t.j41(18,"button",11),t.bIt("click",function(){return m.deleteGroupDialog()}),t.nrm(19,"lucide-icon",12),t.j41(20,"span"),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s()()()()()(),t.j41(23,"mat-menu",13,14)(25,"div",15)(26,"div",16)(27,"div",17)(28,"h2",18),t.EFF(29),t.nI1(30,"mytranslate"),t.k0s(),t.j41(31,"div",19),t.bIt("click",function(et){return et.stopPropagation()}),t.nrm(32,"input",20,21),t.nI1(34,"mytranslate"),t.DNE(35,kn,3,3,"div",22),t.k0s(),t.j41(36,"div",23)(37,"button",24),t.EFF(38),t.nI1(39,"mytranslate"),t.k0s(),t.j41(40,"button",25),t.bIt("click",function(){t.eBV(k);const et=t.sdS(33);return t.Njj(m.updateGroupOfClassroom(et.value))}),t.EFF(41),t.nI1(42,"mytranslate"),t.k0s()()()()()()}if(2&_){const k=t.sdS(24),L=t.sdS(33);t.R7$(3),t.Y8G("name",m.groupObj.isExpand?"chevron-down":"chevron-right")("size",24),t.R7$(2),t.Lme("",t.bMT(6,17,m.groupObj.name)," ","("+m.groupObj.totalViewClassrooms+" "+t.bMT(7,19,"lang_testbank_test_list_classes")+")",""),t.R7$(4),t.Y8G("ngIf",m.groupObj.id>0&&m.isOwned),t.R7$(4),t.Y8G("matMenuTriggerFor",k),t.R7$(1),t.Y8G("ngClass",t.lJ4(33,$n)),t.R7$(2),t.JRh(t.bMT(17,21,"lang_button_edit")),t.R7$(3),t.Y8G("ngClass",t.lJ4(34,$n)),t.R7$(2),t.JRh(t.bMT(22,23,"lang_button_delete")),t.R7$(8),t.JRh(t.bMT(30,25,"lang_student_classroom_list_update_group")),t.R7$(3),t.FS9("value",m.groupObj.name),t.FS9("placeholder",t.bMT(34,27,"lang_auto_nhap_ten_nhom")),t.R7$(3),t.Y8G("ngIf",""==L.value.trim()),t.R7$(3),t.SpI(" ",t.bMT(39,29,"lang_auto_huy")," "),t.R7$(2),t.Y8G("disabled",""==L.value.trim()),t.R7$(1),t.SpI(" ",t.bMT(42,31,"lang_student_classroom_list_update")," ")}},dependencies:[C.YU,C.bT,K.kk,K.Cp,Ct.WGl,P.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}return r})();function So(r,I){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function Ra(r,I){if(1&r){const n=t.RV6();t.qex(0),t.j41(1,"div",18)(2,"azt-information-class-box",19),t.bIt("eventOfClassroomMenu",function(m){t.eBV(n);const k=t.XpG(5);return t.Njj(k.eventOfClassroomMenu(m))}),t.k0s()(),t.bVm()}if(2&r){const n=I.$implicit;t.R7$(1),t.Y8G("hidden",!n.isShowClassroom),t.R7$(1),t.Y8G("classroomObj",n)}}function Fa(r,I){if(1&r&&(t.j41(0,"div",17),t.DNE(1,Ra,3,2,"ng-container",9),t.k0s()),2&r){const n=t.XpG(2).$implicit;t.R7$(1),t.Y8G("ngForOf",n.classroomObjs)}}function Da(r,I){1&r&&(t.j41(0,"div",20),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_class_null"),"."))}function Ma(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",12)(1,"app-teacher-classroom-show-group-box",13),t.bIt("updateGroupSuccessEvent",function(m){t.eBV(n);const k=t.XpG(3);return t.Njj(k.updateGroupSuccessEvent(m))})("collapseByGroupIdEvent",function(){t.eBV(n);const m=t.XpG().$implicit,k=t.XpG(2);return t.Njj(k.collapseByGroupId(m.groupObj))}),t.k0s(),t.j41(2,"div",14),t.DNE(3,Fa,2,1,"div",15),t.DNE(4,Da,3,3,"div",16),t.k0s()()}if(2&r){const n=t.XpG().$implicit;t.R7$(1),t.Y8G("groupObj",n.groupObj)("isOwned",n.isOwned),t.R7$(1),t.Y8G("hidden",!n.groupObj.isExpand),t.R7$(1),t.Y8G("ngIf",n.classroomObjs.length),t.R7$(1),t.Y8G("ngIf",0==n.classroomObjs.length)}}function Ga(r,I){if(1&r&&(t.j41(0,"div"),t.DNE(1,Ma,5,5,"div",11),t.k0s()),2&r){const n=I.$implicit;t.R7$(1),t.Y8G("ngIf",n.groupObj.isShowGroup)}}const Na=function(r){return[r]};function $a(r,I){if(1&r&&(t.j41(0,"div",21),t.nI1(1,"navigationLocalize"),t.EFF(2),t.nI1(3,"mytranslate"),t.k0s()),2&r){const n=t.XpG(2);t.Y8G("routerLink",t.eq3(7,Na,t.bMT(1,3,"/admin/student/manage-classroom/1"))),t.R7$(2),t.Lme(" ",t.bMT(3,5,"lang_student_classroom_list_storage")," (",n.totalStorageClassroom,") ")}}function za(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.bIt("onSearch",function(m){t.eBV(n);const k=t.XpG();return t.Njj(k.searchByName(m.searchObj))}),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"span",7),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.collapseAll(!m.isExpandAll))}),t.nrm(5,"lucide-icon",8),t.k0s()(),t.DNE(6,Ga,2,1,"div",9),t.DNE(7,$a,4,9,"div",10)}if(2&r){const n=t.XpG();t.R7$(2),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(3,5,"lang_testbank_test_list_search_class")),t.R7$(3),t.Y8G("name",n.isExpandAll?"chevrons-down-up":"chevrons-up-down"),t.R7$(1),t.Y8G("ngForOf",n.viewClassroomGroupObjs),t.R7$(1),t.Y8G("ngIf",n.totalStorageClassroom)}}let Pa=(()=>{class r extends Io{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!0}static#t=this.\u0275fac=function(_){return new(_||r)};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-active-classrooms"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"isServerSearch","placeholder","onSearch"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],["size","24",3,"name"],[4,"ngFor","ngForOf"],["azt-track-service","class-list-9gXcamWSz","class","btn-text-primary font-medium cursor-pointer",3,"routerLink",4,"ngIf"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"groupObj","isOwned","updateGroupSuccessEvent","collapseByGroupIdEvent"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"classroomObj","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"],["azt-track-service","class-list-9gXcamWSz",1,"btn-text-primary","font-medium","cursor-pointer",3,"routerLink"]],template:function(_,m){if(1&_&&(t.j41(0,"div",0),t.DNE(1,So,1,1,"azt-loading-effect",1),t.DNE(2,za,8,7,"ng-template",null,2,t.C5r),t.k0s()),2&_){const k=t.sdS(3);t.R7$(1),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",k)}},dependencies:[O.Wk,C.Sq,C.bT,dt.K,he,$t.W,Ct.WGl,_i,P.F2,P.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}return r})();function Aa(r,I){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function La(r,I){if(1&r){const n=t.RV6();t.qex(0),t.j41(1,"div",17)(2,"azt-information-class-box",18),t.bIt("eventOfClassroomMenu",function(m){t.eBV(n);const k=t.XpG(5);return t.Njj(k.eventOfClassroomMenu(m))}),t.k0s()(),t.bVm()}if(2&r){const n=I.$implicit;t.R7$(1),t.Y8G("hidden",!n.isShowClassroom),t.R7$(1),t.Y8G("classroomObj",n)("screenTemplate","storage")}}function Ya(r,I){if(1&r&&(t.j41(0,"div",16),t.DNE(1,La,3,3,"ng-container",9),t.k0s()),2&r){const n=t.XpG(2).$implicit;t.R7$(1),t.Y8G("ngForOf",n.classroomObjs)}}function Ba(r,I){1&r&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI("",t.bMT(2,1,"lang_student_classroom_list_class_null"),"."))}function Va(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",11)(1,"app-teacher-classroom-show-group-box",12),t.bIt("updateGroupSuccessEvent",function(m){t.eBV(n);const k=t.XpG(3);return t.Njj(k.updateGroupSuccessEvent(m))})("collapseByGroupIdEvent",function(){t.eBV(n);const m=t.XpG().$implicit,k=t.XpG(2);return t.Njj(k.collapseByGroupId(m.groupObj))}),t.k0s(),t.j41(2,"div",13),t.DNE(3,Ya,2,1,"div",14),t.DNE(4,Ba,3,3,"div",15),t.k0s()()}if(2&r){const n=t.XpG().$implicit;t.R7$(1),t.Y8G("groupObj",n.groupObj)("isOwned",n.isOwned),t.R7$(1),t.Y8G("hidden",!n.groupObj.isExpand),t.R7$(1),t.Y8G("ngIf",n.classroomObjs.length),t.R7$(1),t.Y8G("ngIf",0==n.classroomObjs.length)}}function Xa(r,I){if(1&r&&(t.j41(0,"div"),t.DNE(1,Va,5,5,"div",10),t.k0s()),2&r){const n=I.$implicit;t.R7$(1),t.Y8G("ngIf",n.groupObj.isShowGroup)}}function Ua(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"azt-search-box",6),t.bIt("onSearch",function(m){t.eBV(n);const k=t.XpG();return t.Njj(k.searchByName(m.searchObj))}),t.nI1(3,"mytranslate"),t.k0s()(),t.j41(4,"span",7),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.collapseAll(!m.isExpandAll))}),t.nrm(5,"lucide-icon",8),t.k0s()(),t.DNE(6,Xa,2,1,"div",9)}if(2&r){const n=t.XpG();t.R7$(2),t.Y8G("isServerSearch",!1)("placeholder",t.bMT(3,4,"lang_testbank_test_list_search_class")),t.R7$(3),t.Y8G("name",n.isExpandAll?"chevrons-down-up":"chevrons-up-down"),t.R7$(1),t.Y8G("ngForOf",n.viewClassroomGroupObjs)}}let Wa=(()=>{class r extends Io{ngOnInit(){this.getClassroomObjs()}constructor(){super(),this.isShowActiveClassroom=!1}static#t=this.\u0275fac=function(_){return new(_||r)};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-archive-classrooms"]],features:[t.Vt3],decls:4,vars:2,consts:[[1,"box","p-3"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"flex","items-center","mb-3"],[1,"w-full"],[3,"isServerSearch","placeholder","onSearch"],["azt-track-service","azt-list-classroom-view-Cg6k1znbH",1,"clickable",3,"click"],["size","24",3,"name"],[4,"ngFor","ngForOf"],["class","azt-group mb-5",4,"ngIf"],[1,"azt-group","mb-5"],[3,"groupObj","isOwned","updateGroupSuccessEvent","collapseByGroupIdEvent"],[3,"hidden"],["class","grid grid-cols-12 gap-3 sm:gap-6 mt-3",4,"ngIf"],["class","text-center col-span-12 p-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6","mt-3"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2",3,"hidden"],[3,"classroomObj","screenTemplate","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"]],template:function(_,m){if(1&_&&(t.j41(0,"div",0),t.DNE(1,Aa,1,1,"azt-loading-effect",1),t.DNE(2,Ua,7,6,"ng-template",null,2,t.C5r),t.k0s()),2&_){const k=t.sdS(3);t.R7$(1),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",k)}},dependencies:[C.Sq,C.bT,dt.K,he,$t.W,Ct.WGl,_i,P.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}return r})();const Ja=["childActiveClassrooms"],Ha=["childArchiveClassrooms"];function Ka(r,I){1&r&&(t.j41(0,"span",31),t.EFF(1,"1"),t.k0s())}function Qa(r,I){if(1&r&&t.nrm(0,"azt-loading-effect",32),2&r){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}const Sa=function(){return[]};function Za(r,I){1&r&&(t.qex(0),t.nrm(1,"app-teacher-active-classrooms",35,36),t.bVm()),2&r&&(t.R7$(1),t.Y8G("classroomGroupData",t.lJ4(1,Sa)))}function qa(r,I){1&r&&t.nrm(0,"app-teacher-archive-classrooms",35,37),2&r&&t.Y8G("classroomGroupData",t.lJ4(1,Sa))}function tr(r,I){if(1&r&&(t.j41(0,"div"),t.DNE(1,Za,3,2,"ng-container",33),t.DNE(2,qa,2,2,"ng-template",null,34,t.C5r),t.k0s()),2&r){const n=t.sdS(3),_=t.XpG();t.R7$(1),t.Y8G("ngIf",_.isShowActiveClassroom)("ngIfElse",n)}}const ka=function(){return{"ml-1":!0}};function er(r,I){1&r&&t.nrm(0,"lucide-icon",38),2&r&&t.Y8G("ngClass",t.lJ4(1,ka))}function nr(r,I){1&r&&t.nrm(0,"lucide-icon",38),2&r&&t.Y8G("ngClass",t.lJ4(1,ka))}function ir(r,I){1&r&&t.nrm(0,"lucide-icon",38),2&r&&t.Y8G("ngClass",t.lJ4(1,ka))}const Vn=function(){return{"mr-2":!0}};let or=(()=>{class r extends a.H{changeFilter(n){this.typeFilter=n,this.viewActiveClassrooms?.reloadClassrooms(this.typeFilter),this.viewArchiveClassrooms?.reloadClassrooms(this.typeFilter)}createClassroomDialog(){this.sAztDialogService.open(Co,{data:{classroomObj:void 0},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(_=>{_&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}createClassroomForNewCourseDialog(){this.sAztDialogService.open(ho.e,{restoreFocus:!1}).afterClosed().subscribe(_=>{_&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}openDialogAutomaticIdentification(){this.sAztDialogService.open(A.O,{data:{needGetClassroomGroups:!0,type:1,listCheckBox:[],totalStudent:0},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(n=>{n&&(this.viewActiveClassrooms?.reloadClassrooms(),this.viewArchiveClassrooms?.reloadClassrooms())})}ngOnInit(){this.waitDestroy((0,tt.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n=this.commonService.getMyParam(this.activeRoute,"id")?.toString();this.isShowActiveClassroom="0"==n;let _=this.commonService.getMyQueryParam("programId");this.backToLink=_&&""!=_?"/business/educational-program/"+_:this.isShowActiveClassroom?"/admin/dashboard":"/admin/student/manage-classroom/0"})),this.mobileWebviewService.sendSimpleMessage("OPEN_CLASSES"),this.commonService.translateMetaData({title:"lang_cms_classroom_list_title",description:"lang_cms_classroom_list_description",image:"lang_cms_test_image"})}constructor(n,_,m){super(),this.activeRoute=n,this.sAztDialogService=_,this.mobileWebviewService=m,this.backToLink="",this.typeFilter="all",this.isShowActiveClassroom=!1}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(O.nX),t.rXU(ue.i),t.rXU(xo.f))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-teacher-classroom"]],viewQuery:function(_,m){if(1&_&&(t.GBs(Ja,5),t.GBs(Ha,5)),2&_){let k;t.mGM(k=t.lsd())&&(m.viewActiveClassrooms=k.first),t.mGM(k=t.lsd())&&(m.viewArchiveClassrooms=k.first)}},features:[t.Vt3],decls:69,vars:59,consts:[[3,"headerBackToLink"],[1,"mt-5"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[1,"text-xl","font-medium"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-8xXjbgXLYr8","tourAnchor","azt-tour-2",1,"btn","btn-primary","shadow-md","mr-2",3,"click"],["name","plus","size","16",3,"ngClass"],[1,"dropdown-toggle","btn","px-2","box","block","lg:hidden","hover:bg-slate-100","dark:hover-bg:darkmode-400",3,"matMenuTriggerFor"],["name","plus","size","16"],["azt-track-service","class-list-GeLpgTC3SuL",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","lg:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","class-list-ok7MlxqP6m9",1,"btn","px-2","box","shadow-md","azt-hidden","lg:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary","size","16",3,"ngClass"],["tourAnchor","azt-tour-2",1,"ml-2","shadow-md","dropdown-toggle","btn","px-2","box","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["name","filter","size","16",3,"ngClass"],["class","py-1 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[1,"grid","grid-cols-12","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12",2,"z-index","1"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["xPosition","before"],["menuClassList","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["menuFilter","matMenu"],["name","rows-4","size","16",3,"ngClass"],["name","check","size","16",3,"ngClass",4,"ngIf"],["name","user-check","size","16",3,"ngClass"],["name","tags","size","16",3,"ngClass"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["showArchiveBox",""],[3,"classroomGroupData"],["childActiveClassrooms",""],["childArchiveClassrooms",""],["name","check","size","16",3,"ngClass"]],template:function(_,m){if(1&_&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5),t.nI1(6,"mytranslate"),t.nI1(7,"mytranslate"),t.k0s()(),t.j41(8,"div",5)(9,"button",6),t.bIt("click",function(){return m.createClassroomDialog()}),t.nrm(10,"lucide-icon",7),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"button",8),t.nrm(14,"lucide-icon",9),t.k0s(),t.j41(15,"button",10),t.bIt("click",function(){return m.createClassroomForNewCourseDialog()}),t.nrm(16,"lucide-icon",7),t.EFF(17),t.nI1(18,"mytranslate"),t.k0s(),t.j41(19,"button",11),t.bIt("click",function(){return m.openDialogAutomaticIdentification()}),t.nrm(20,"lucide-icon",12),t.EFF(21),t.nI1(22,"mytranslate"),t.k0s(),t.j41(23,"button",13),t.nrm(24,"lucide-icon",14),t.EFF(25),t.nI1(26,"mytranslate"),t.DNE(27,Ka,2,0,"span",15),t.k0s()()(),t.j41(28,"div",16)(29,"div",17),t.DNE(30,Qa,1,1,"azt-loading-effect",18),t.DNE(31,tr,4,2,"ng-template",null,19,t.C5r),t.k0s()()()(),t.j41(33,"mat-menu",20,21)(35,"div",22)(36,"ul",23)(37,"li")(38,"button",24),t.bIt("click",function(){return m.createClassroomForNewCourseDialog()}),t.nrm(39,"lucide-icon",7),t.EFF(40),t.nI1(41,"mytranslate"),t.k0s()(),t.j41(42,"li")(43,"button",25),t.bIt("click",function(){return m.openDialogAutomaticIdentification()}),t.nrm(44,"lucide-icon",12),t.EFF(45),t.nI1(46,"mytranslate"),t.k0s()()()()(),t.j41(47,"mat-menu",20,26)(49,"div",22)(50,"ul",23)(51,"li")(52,"button",24),t.bIt("click",function(){return m.changeFilter("all")}),t.nrm(53,"lucide-icon",27),t.EFF(54),t.nI1(55,"mytranslate"),t.DNE(56,er,1,2,"lucide-icon",28),t.k0s()(),t.j41(57,"li")(58,"button",25),t.bIt("click",function(){return m.changeFilter("owner")}),t.nrm(59,"lucide-icon",29),t.EFF(60),t.nI1(61,"mytranslate"),t.DNE(62,nr,1,2,"lucide-icon",28),t.k0s()(),t.j41(63,"li")(64,"button",24),t.bIt("click",function(){return m.changeFilter("user")}),t.nrm(65,"lucide-icon",30),t.EFF(66),t.nI1(67,"mytranslate"),t.DNE(68,ir,1,2,"lucide-icon",28),t.k0s()()()()()),2&_){const k=t.sdS(32),L=t.sdS(34),et=t.sdS(48);t.Y8G("headerBackToLink",m.backToLink),t.R7$(5),t.SpI(" ",m.isShowActiveClassroom?t.bMT(6,28,"lang_student_classroom_list_header_title"):t.bMT(7,30,"lang_auto_kho_luu_tru")," "),t.R7$(5),t.Y8G("ngClass",t.lJ4(50,Vn)),t.R7$(1),t.SpI(" ",t.bMT(12,32,"lang_student_classroom_list_create_class")," "),t.R7$(2),t.Y8G("matMenuTriggerFor",L),t.R7$(3),t.Y8G("ngClass",t.lJ4(51,Vn)),t.R7$(1),t.SpI(" ",t.bMT(18,34,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(3),t.Y8G("ngClass",t.lJ4(52,Vn)),t.R7$(1),t.SpI(" ",t.bMT(22,36,"lang_auto_danh_so_bao_danh")," "),t.R7$(2),t.Y8G("matMenuTriggerFor",et),t.R7$(1),t.Y8G("ngClass",t.lJ4(53,Vn)),t.R7$(1),t.SpI(" ",t.bMT(26,38,"lang_homework_homework_score_list_sort")," "),t.R7$(2),t.Y8G("ngIf","all"!=m.typeFilter),t.R7$(3),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",k),t.R7$(9),t.Y8G("ngClass",t.lJ4(54,Vn)),t.R7$(1),t.SpI(" ",t.bMT(41,40,"lang_student_classroom_list_create_class_new_cousre")," "),t.R7$(4),t.Y8G("ngClass",t.lJ4(55,Vn)),t.R7$(1),t.SpI(" ",t.bMT(46,42,"lang_auto_danh_so_bao_danh")," "),t.R7$(8),t.Y8G("ngClass",t.lJ4(56,Vn)),t.R7$(1),t.SpI(" ",t.bMT(55,44,"lang_homework_content_store_all")," "),t.R7$(2),t.Y8G("ngIf",""==m.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(57,Vn)),t.R7$(1),t.SpI(" ",t.bMT(61,46,"lang_core_lop_cua_toi")," "),t.R7$(2),t.Y8G("ngIf","owner"==m.typeFilter),t.R7$(3),t.Y8G("ngClass",t.lJ4(58,Vn)),t.R7$(1),t.SpI(" ",t.bMT(67,48,"lang_auto_lop_duoc_chia_se")," "),t.R7$(2),t.Y8G("ngIf","user"==m.typeFilter)}},dependencies:[C.YU,C.bT,K.kk,K.Cp,dt.K,s.Q,Ct.WGl,Pa,Wa,P.wp],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}return r})(),sr=(()=>{class r extends a.H{static#t=this.\u0275fac=function(){let n;return function(m){return(n||(n=t.xGo(r)))(m||r)}}();static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["homework-master-page"]],features:[t.Vt3],decls:2,vars:0,consts:[["id","student-layout"]],template:function(_,m){1&_&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[O.n3],encapsulation:2})}return r})();function ar(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h2",3),t.EFF(3),t.nI1(4,"mytranslate"),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"button",6),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.btnCloseDialog())}),t.EFF(9),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"button",7),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.confirmQuit())}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()}if(2&r){const n=t.XpG();t.R7$(3),t.SpI("",n.data.type&&"update_phone_student"==n.data.type?t.bMT(4,3,"lang_student_utils_confirm_merge_verifi")+"?":t.bMT(5,5,"lang_student_utils_confirm_merge_confirm")+"?"," "),t.R7$(6),t.SpI(" ",t.bMT(10,7,"lang_cms_common_close_btn")," "),t.R7$(3),t.SpI(" ",t.bMT(13,9,"lang_cms_common_confirm_btn")," ")}}let rr=(()=>{class r extends pe._{confirmQuit(){this.dialogRef.close(!0)}btnCloseDialog(){this.dialogRef.close(!1)}constructor(n,_){super(_,n),this.dialogRef=n,this.data=_}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(Zt.CP,8),t.rXU(Zt.Vh))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-merge-student-confirm-box"]],features:[t.Vt3],decls:1,vars:1,consts:[["class","box",4,"ngIf"],[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","p-3"],[1,"text-base","font-medium","mr-auto"],[1,"flex","justify-end","p-3"],[1,"azt-block-button"],["azt-track-service","confirm-merge-Yvv9eaXGFnm","matRipple","",1,"btn","min-width-100","btn-outline-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q","matRipple","",1,"btn","min-width-100","btn-primary",3,"click"]],template:function(_,m){1&_&&t.DNE(0,ar,14,11,"div",0),2&_&&t.Y8G("ngIf",m.data)},dependencies:[C.bT,ie.r6,P.wp],encapsulation:2})}return r})();function lr(r,I){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}const cr=function(r){return{"bg-success":r}};function mr(r,I){if(1&r&&(t.j41(0,"div",21)(1,"b"),t.EFF(2),t.k0s()()),2&r){const n=t.XpG().$implicit,_=t.XpG(2);t.Y8G("ngClass",t.eq3(2,cr,_.haveSelected(n))),t.R7$(2),t.JRh(n.fullName)}}function _r(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",19),t.bIt("click",function(){const k=t.eBV(n).$implicit,L=t.XpG(2);return t.Njj(L.selectObj(k))}),t.DNE(1,mr,3,4,"div",20),t.k0s()}if(2&r){const n=I.$implicit,_=t.XpG(2);t.R7$(1),t.Y8G("ngIf",!_.inMergeObjs(n))}}function dr(r,I){if(1&r){const n=t.RV6();t.j41(0,"div")(1,"div",22),t.EFF(2),t.nI1(3,"mytranslate"),t.j41(4,"b",23),t.EFF(5),t.k0s(),t.EFF(6),t.nI1(7,"mytranslate"),t.j41(8,"b",23),t.EFF(9),t.k0s(),t.EFF(10," \xa0\xa0 "),t.j41(11,"span",24),t.bIt("click",function(){const k=t.eBV(n).index,L=t.XpG(2);return t.Njj(L.removeMergeArray(k))}),t.EFF(12),t.nI1(13,"mytranslate"),t.k0s()()()}if(2&r){const n=I.$implicit;t.R7$(2),t.SpI(" ",t.bMT(3,5,"lang_student_merge_student_merge_student")," "),t.R7$(3),t.JRh(null==n.from?null:n.from.fullName),t.R7$(1),t.SpI(" ",t.bMT(7,7,"lang_student_merge_student_return")," "),t.R7$(3),t.JRh(null==n.to?null:n.to.fullName),t.R7$(3),t.JRh(t.bMT(13,9,"lang_auto_xoa"))}}function ur(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",22)(1,"div",26)(2,"b"),t.EFF(3),t.k0s(),t.j41(4,"button",27),t.bIt("click",function(){t.eBV(n);const m=t.XpG().$implicit,k=t.XpG(2);return t.Njj(k.revertStudent(m.id))}),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s()()()}if(2&r){const n=t.XpG().$implicit;t.R7$(3),t.JRh(n.fullName),t.R7$(2),t.SpI(" ",t.bMT(6,2,"lang_button_revert")," ")}}function pr(r,I){if(1&r&&(t.j41(0,"div"),t.DNE(1,ur,7,4,"div",25),t.k0s()),2&r){const n=I.$implicit,_=t.XpG(2);t.R7$(1),t.Y8G("ngIf",!_.inMergeObjs(n))}}function gr(r,I){if(1&r){const n=t.RV6();t.j41(0,"div",4)(1,"mat-tab-group",5)(2,"mat-tab",6),t.nI1(3,"mytranslate"),t.j41(4,"div",7)(5,"div",8)(6,"div",9),t.EFF(7),t.nI1(8,"mytranslate"),t.k0s(),t.DNE(9,_r,2,1,"div",10),t.k0s(),t.j41(10,"div",11)(11,"div",12)(12,"div",13)(13,"div",9),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.DNE(16,dr,14,11,"div",14),t.j41(17,"div",15)(18,"button",16),t.bIt("click",function(){t.eBV(n);const m=t.XpG();return t.Njj(m.showConfirmBox())}),t.EFF(19),t.nI1(20,"mytranslate"),t.k0s()()()()()()(),t.j41(21,"mat-tab",6),t.nI1(22,"mytranslate"),t.j41(23,"div",17)(24,"div",18)(25,"div")(26,"div",15),t.EFF(27),t.nI1(28,"mytranslate"),t.k0s(),t.DNE(29,pr,2,1,"div",14),t.k0s()()()()()()}if(2&r){const n=t.XpG();t.R7$(1),t.Y8G("selectedIndex",n.selectedIndex),t.R7$(1),t.FS9("label",t.bMT(3,11,"lang_student_merge_student_lable")),t.R7$(5),t.SpI(" ",t.bMT(8,13,"lang_student_merge_student_required_click_merge")," "),t.R7$(2),t.Y8G("ngForOf",n.studentObjs),t.R7$(5),t.SpI(" ",t.bMT(15,15,"lang_student_merge_student_list_student_merge")," "),t.R7$(2),t.Y8G("ngForOf",n.studentMergeObjs),t.R7$(2),t.Y8G("disabled",n.studentMergeObjs&&n.studentMergeObjs.length<1),t.R7$(1),t.SpI(" ",t.bMT(20,17,"lang_student_merge_student_start_merge_list")," "),t.R7$(2),t.FS9("label",t.bMT(22,19,"lang_student_merge_student_revert")),t.R7$(6),t.SpI(" ",t.bMT(28,21,"lang_student_merge_student_list_submitted")," "),t.R7$(2),t.Y8G("ngForOf",n.studentMergeListObjs)}}let hr=(()=>{class r extends a.H{showConfirmBox(){this.sAztDialogService.open(rr,{data:this.confirmBox,width:"500px"}).afterClosed().subscribe(n=>{n&&this.sendToServer()})}inMergeObjs(n){let _=!1,m=this.studentMergeObjs?.length??0;for(let k=0;k<m;k++)(this.studentMergeObjs?.[k].from?.id==n.id||this.studentMergeObjs?.[k].to?.id==n.id)&&(_=!0);return _}haveSelected(n){let _=!1;for(let m=0;m<this.selectObjs.length;m++)this.selectObjs[m].id==n.id&&(_=!0);return _}selectObj(n){this.haveSelected(n)?this.selectObjs=[]:this.selectObjs.push(n),2==this.selectObjs.length&&(this.studentMergeObjs.push({from:this.selectObjs[0],to:this.selectObjs[1]}),this.selectObjs=[])}removeMergeArray(n){this.studentMergeObjs?.[n]&&this.studentMergeObjs.splice(n,1)}sendToServer(){const n=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.initStatusObj();let _=[],m=this.studentMergeObjs?.length??0;for(let St=0;St<m;St++){var k=this.studentMergeObjs?.[St].from?.id,L=this.studentMergeObjs?.[St].to?.id;k&&L&&_.push({fromId:k,toId:L})}this.waitDestroy(this.mergeStudentService.apiMergeStudentMergeObjsPost({classroomId:n,mergeObjs:_}).subscribe(St=>{1==St.success?(this.showSuccessSnack("lang_auto_gop_danh_sach_thanh_cong"),this.studentMergeObjs=[],this.selectObjs=[],this.getListMergeStudent(),this.getData(),this.selectedIndex=1,this.successStatusObj()):this.errorStatusObj(St.message??"",!0)}))}getData(){this.initStatusObj();const n=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetObjsByClassroomGet(n).subscribe(_=>{1==_.success?(this.studentObjs=this.sortService.sortFirstNameStudents(_?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(_.message??"",!0)}))}getListMergeStudent(){this.initStatusObj();const n=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetMergedObjsGet(n).subscribe(_=>{1==_.success?(this.studentMergeListObjs=this.sortService.sortFirstNameStudents(_?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(_.message??"",!0)}))}revertStudent(n){this.waitDestroy(this.mergeStudentService.apiMergeStudentRevertMergeObjGet(n).subscribe(_=>{1==_.success?(this.showSuccessSnack("lang_auto_khoi_phuc_thanh_cong"),this.getData(),this.getListMergeStudent(),this.selectedIndex=0):this.errorStatusObj(_.message??"",!0)}))}ngOnInit(){this.classroomId=this.commonService.getMyParam(this.activeRoute,"id"),this.backToLink="/admin/student/classroom-details/"+this.classroomId+"/0",this.getData(),this.getListMergeStudent()}constructor(n,_,m,k,L){super(),this.activeRoute=n,this.studentService=_,this.mergeStudentService=m,this.sortService=k,this.sAztDialogService=L,this.selectObjs=[],this.studentMergeObjs=[],this.confirmBox={isShow:!1},this.selectedIndex=0,this.isMobile=this.commonService.isMobileOrTable(),this.backToLink=""}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(O.nX),t.rXU(Ne.b0),t.rXU(Ne.$$),t.rXU(W.g),t.rXU(ue.i))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-merge-student"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"container","mt-3"],[3,"selectedIndex"],[3,"label"],[1,"flex","mt-3"],[1,"p-2"],[1,"m-2"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click",4,"ngFor","ngForOf"],[1,"p-2",2,"width","70%"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mt-2"],["azt-track-service","merge-student-g45UTcIj35h",1,"pl-2","pr-2","mt-2","btn","btn-primary",3,"disabled","click"],[1,"d-flex"],[1,"w-full","sm-w-50"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click"],["class","m-2 clickable","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",3,"ngClass",4,"ngIf"],[1,"m-2","clickable",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important",3,"ngClass"],[1,"m-2","p-2",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important"],[2,"font-weight","600"],[1,"clickable","text-danger",3,"click"],["class","m-2 p-2","style","border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],["azt-track-service","merge-student-v4iYHGvaLN8",1,"hover-button","clickable",3,"click"]],template:function(_,m){if(1&_&&(t.j41(0,"teacher-layout",0),t.DNE(1,lr,1,1,"azt-loading-effect",1),t.DNE(2,gr,30,23,"ng-template",null,2,t.C5r),t.k0s()),2&_){const k=t.sdS(3);t.Y8G("headerBackToLink",m.backToLink),t.R7$(1),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",k)}},dependencies:[C.YU,C.Sq,C.bT,Ie.mq,Ie.T8,dt.K,s.Q,P.wp],styles:["a[_ngcontent-%COMP%]:hover{text-decoration:none}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex;text-decoration:none;margin-top:10px}.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff}b[_ngcontent-%COMP%]{font-weight:400}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px}.header__top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.header__work[_ngcontent-%COMP%]{display:flex}.header__gift[_ngcontent-%COMP%]{position:relative;margin-right:24px;margin-top:5px}.gift__link[_ngcontent-%COMP%]{color:#fff}.girt__count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:#fe4531;border-radius:50%;width:16px;height:16px;color:#fff;padding:0;text-align:center;font-weight:700;font-size:9px}.header__work[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.header__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-top:2px}.body[_ngcontent-%COMP%]{margin:0 auto;text-align:center;color:#fff}.body__block[_ngcontent-%COMP%]{min-width:300px;padding:35px 0;margin:0 auto;background-color:#009cbe;border:none;border-radius:5px}.block__text[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin:0}.body__about[_ngcontent-%COMP%]{margin-top:25px}.about__title[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.about__desc[_ngcontent-%COMP%]{text-align:justify}.desc__title[_ngcontent-%COMP%]{font-weight:700}.btn-add-azo[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;padding:13px 40px;border-radius:10px}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}  .mat-tab-label:hover{color:#000}.hover-button[_ngcontent-%COMP%]:hover{color:#3f51b5}.text-danger[_ngcontent-%COMP%]:hover{color:#f44336!important}@media (min-width: 640px){.sm-w-50[_ngcontent-%COMP%]{width:450px}}"]})}return r})();var fr=g(16583);function br(r,I){if(1&r&&t.nrm(0,"azt-loading-effect",3),2&r){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function vr(r,I){if(1&r&&t.nrm(0,"azt-student-profile",4),2&r){const n=t.XpG();t.Y8G("studentId",n.studentId)("select",n.select)("classroomId",n.classroomId)("backToLink",n.backToLink)("paramBackToLink",n.paramBackToLink)("classroomList",n.classroomList)("isTeacherDashboard",!0)}}let kr=(()=>{class r extends a.H{getListClassroomByStudentId(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2ListStudentClassroomsGet(this.studentId).subscribe(n=>{1===n.success?(this.classroomList=n.data?.objs??[],this.classroomList.find(_=>_.id+"-"+_.studentId==this.select.value)||this.select.setValue(""),this.successStatusObj()):this.errorStatusObj(n.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.waitDestroy((0,tt.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n=this.commonService.getMyParam(this.activeRoute,"classroom_id"),_=this.commonService.getMyParam(this.activeRoute,"id");this.classroomId=parseInt(n||"",10),this.studentId=parseInt(_||"",10),this.backToLink="/admin/student/profile-student/"+this.classroomId+"/"+this.studentId,this.paramBackToLink=this.commonService.getMyQueryParam("backto")??`/admin/student/classroom-details/${this.classroomId}/0`,this.commonService.translateMetaData({title:"lang_cms_student_detail_title",description:"lang_cms_test_config_description",image:"lang_cms_student_detail_description"}),this.select.setValue(this.classroomId+"-"+this.studentId),this.getListClassroomByStudentId()}))}constructor(n,_,m){super(),this.sAztDialogService=n,this.activeRoute=_,this.studentProfileV2Service=m,this.select=new J.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[]}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(ue.i),t.rXU(O.nX),t.rXU(Ne.m_))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["student-profile"]],features:[t.Vt3],decls:4,vars:3,consts:[[3,"headerBackToLink"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[3,"studentId","select","classroomId","backToLink","paramBackToLink","classroomList","isTeacherDashboard"]],template:function(_,m){if(1&_&&(t.j41(0,"teacher-layout",0),t.DNE(1,br,1,1,"azt-loading-effect",1),t.DNE(2,vr,1,7,"ng-template",null,2,t.C5r),t.k0s()),2&_){const k=t.sdS(3);t.Y8G("headerBackToLink",m.paramBackToLink),t.R7$(1),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",k)}},dependencies:[C.bT,dt.K,fr.x,s.Q],encapsulation:2})}return r})();var Cr=g(18586),xr=g(25898);function Tr(r,I){1&r&&t.nrm(0,"azt-loading-ui",15)}function Ir(r,I){if(1&r&&t.nrm(0,"azt-loading-effect",16),2&r){const n=t.XpG();t.Y8G("currentStatusObj",n.statusObj)}}function Sr(r,I){1&r&&(t.j41(0,"div",19),t.EFF(1),t.nI1(2,"mytranslate"),t.k0s()),2&r&&(t.R7$(1),t.SpI(" ",t.bMT(2,1,"lang_student_classroom_list_detail_not_student")," "))}function yr(r,I){if(1&r){const n=t.RV6();t.j41(0,"tr")(1,"td",26),t.bIt("click",function(){const k=t.eBV(n).$implicit,L=t.XpG(3);return t.Njj(L.goToProfile(k.classroomId,k.id))}),t.nrm(2,"azt-student-info-box",27),t.k0s(),t.j41(3,"td",28),t.EFF(4),t.nI1(5,"formatStudentCodeToNumber"),t.k0s(),t.j41(6,"td",29)(7,"div",30)(8,"span"),t.EFF(9),t.nI1(10,"formatOnlyDateByUserUnitPipe"),t.k0s()()(),t.j41(11,"td",29)(12,"form",31)(13,"textarea",32),t.bIt("change",function(){const k=t.eBV(n).$implicit;return t.Njj(k.commentControl.controls.isEditted.setValue(!0))}),t.nI1(14,"mytranslate"),t.k0s()()(),t.j41(15,"td",29)(16,"span",33,34),t.bIt("click",function(){const k=t.eBV(n).$implicit,L=t.XpG(3);return t.Njj(L.showAllComment(k))}),t.nI1(18,"mytranslate"),t.nrm(19,"lucide-icon",35),t.k0s()()()}if(2&r){const n=I.$implicit,_=t.sdS(17);t.R7$(2),t.Y8G("name",n.fullName)("avatar",n.avatar)("gender",n.gender)("parentFullName",n.parentFullName)("parentId",n.parentId)("parentPhone",n.parentPhone)("hasUser",n.hasUser)("schoolName",n.schoolName)("classrooms",n.classrooms)("joinedAt",n.joinedAt),t.R7$(2),t.JRh(n.identificationNumber?t.i5U(5,18,n.identificationNumber,6):""),t.R7$(5),t.SpI(" ",t.bMT(10,21,n.commentControl.controls.updatedAt.value)," "),t.R7$(3),t.Y8G("formGroup",n.commentControl),t.R7$(1),t.FS9("placeholder",t.bMT(14,23,"lang_auto_nhap_nhan_xet")),t.Y8G("id","add_comment_"+n.id),t.R7$(3),t.FS9("matTooltip",t.bMT(18,25,"lang_student_show_all_comment")),t.Y8G("isDisabledTooltip",!1)("matTooltipDisabled",_.isDisabled)}}function jr(r,I){if(1&r&&(t.j41(0,"div",20)(1,"table",21)(2,"thead")(3,"tr")(4,"th",22),t.EFF(5),t.nI1(6,"mytranslate"),t.k0s(),t.j41(7,"th",23),t.EFF(8),t.nI1(9,"mytranslate"),t.k0s(),t.j41(10,"th",24),t.EFF(11),t.nI1(12,"mytranslate"),t.k0s(),t.j41(13,"th",24),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s(),t.nrm(16,"th",24),t.k0s()(),t.j41(17,"tbody"),t.DNE(18,yr,20,27,"tr",25),t.k0s()()()),2&r){const n=t.XpG(2);t.R7$(5),t.JRh(t.bMT(6,5,"lang_auto_ho_va_ten")),t.R7$(3),t.JRh(t.bMT(9,7,"lang_auto_so_bao_danh")),t.R7$(3),t.JRh(t.bMT(12,9,"lang_student_add_comment_date")),t.R7$(3),t.JRh(t.bMT(15,11,"lang_student_add_comment")),t.R7$(4),t.Y8G("ngForOf",n.listStudent)}}function Or(r,I){if(1&r&&(t.DNE(0,Sr,3,3,"div",17),t.DNE(1,jr,19,13,"div",18)),2&r){const n=t.XpG();t.Y8G("ngIf",0==n.listStudent.length&&0==n.totalStudent),t.R7$(1),t.Y8G("ngIf",n.listStudent.length>0)}}function Er(r,I){if(1&r){const n=t.RV6();t.j41(0,"azt-paging",39),t.bIt("goToPaginationPage",function(m){t.eBV(n);const k=t.XpG(2);return t.Njj(k.setPageStudent(m))}),t.k0s()}if(2&r){const n=t.XpG(2);t.Y8G("pageObj",n.pageObj)}}function wr(r,I){if(1&r&&(t.j41(0,"div",36),t.nrm(1,"div"),t.DNE(2,Er,1,1,"azt-paging",37),t.j41(3,"div",38),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()()),2&r){const n=t.XpG();t.R7$(2),t.Y8G("ngIf",n.totalStudent>n.pageObj.pageSize),t.R7$(2),t.Lme("",n.totalStudent," ",t.bMT(5,3,"lang_notify_list_students"),"")}}const Fr=[{path:"",component:sr,canActivate:[e.t],children:[{path:"merge-student/:id",component:hr},{path:"profile-student/:classroom_id/:id",component:kr},{path:"manage-classroom/:id",component:or},{path:"classroom-details/:id/:tabId",component:Js},{path:"attendance-student/:classroom_id/:program_id/:session_id",component:aa},{path:"add-comment/:classroom_id/:program_id/:session_id",component:(()=>{class r extends a.H{goToProfile(n,_){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+n+"/"+_,"?backto="+encodeURIComponent("/admin/student/add-comment/"+this.classroomId+"/"+this.programId+"/"+this.sessionId))}setPageStudent(n){var _="/admin/student/add-comment/"+this.classroomId+"/"+this.programId+"/"+this.sessionId,m="?page="+n+"&backto="+encodeURIComponent(this.backToLink);this.myNavigationWithQueryString(_,m),this.initStatusObj(),this.pageObj.setPageNumber(n),this.getListStudent()}onSearchBox(n){this.searchContentObj=n,this.setPageStudent(1)}showAllComment(n){this.sAztDialogService.open(Cr.U,{width:"700px",restoreFocus:!1,data:{student:n,isTeacher:!0}}).afterClosed().subscribe(_=>{_&&this.getListStudent()})}countChangedComment(){let n=0;return this.listStudent.forEach(_=>{_.commentControl.controls.isEditted.value&&!_.commentControl.controls.comment.value&&n++}),1==n}saveComment(){this.isSave=!0;let n=this.listStudent.filter(m=>m.commentControl.controls.isEditted.value&&m.commentControl.controls.comment.value).map(m=>({id:0,studentId:m.id,comment:m.commentControl.controls.comment.value}))??[],_={classroomId:this.classroomId,studentAssessments:n};if(0==n.length)return this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),void(this.isSave=!1);this.waitDestroy(this.studentService.apiStudentsAssessmentsPost(_).subscribe(m=>{m.success?(this.initStatusObj(),this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0),this.isSave=!1}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:this.pageObj.page,size:this.pageObj.pageSize,name:this.searchContentObj.searchContent,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!1,getPayment:!1,getAttendance:!1,me:!1,getAssessment:!0}).subscribe(_=>{_?(this.listStudent=[],_.list.forEach(m=>{let k=this.sAztAssessmentStudentService.getLastAssessmentStudent(m);this.listStudent.push({...m,commentControl:new J.gE({id:new J.MJ(0,{nonNullable:!0}),updatedAt:new J.MJ(k?.updatedAt?.toString()??"",{nonNullable:!0}),comment:new J.MJ(k?.comment??"",{nonNullable:!0}),isEditted:new J.MJ(!1,{nonNullable:!0})}),listCommentControl:this.sAztAssessmentStudentService.makeListFormArrayComment(m.assessments),editComment:!1})}),this.totalStudent=_.total??0,this.pageObj.setTotalPages(this.totalStudent),this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,tt.z)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id")),this.pageObj.setPageNumber(Number(this.commonService.getMyQueryParam("page")??"1"));let n=this.commonService.getMyQueryParam("backto");this.backToLink=n||`/admin/student/classroom-details/${this.classroomId}/3`,this.getListStudent()}),super.ngOnInit()}constructor(n,_,m,k){super(),this.sAztAssessmentStudentService=n,this.activeRoute=_,this.studentService=m,this.sAztDialogService=k,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageStudent=1,this.totalStudent=0,this.isSave=!1,this.listStudent=[],this.searchContentObj=new rt.Z,this.pageObj=new De.d(20)}static#t=this.\u0275fac=function(_){return new(_||r)(t.rXU(xr.n),t.rXU(O.nX),t.rXU(v.b),t.rXU(ue.i))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-add-student-comment"]],features:[t.Vt3],decls:21,vars:18,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","searchContentObj","placeholder","onSearch"],[3,"colorBackground"],[1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"disabled","click"],["class","loading-upload mr-1","type","bootstrap-spinner",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],["class","flex justify-between items-center mt-5",4,"ngIf"],["type","bootstrap-spinner",1,"loading-upload","mr-1"],[3,"currentStatusObj"],["class","mt-10 text-center",4,"ngIf"],["style","height: 100%; min-width: 1100px",4,"ngIf"],[1,"mt-10","text-center"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"whitespace-nowrap","text-center"],[1,"text-center","whitespace-nowrap"],[4,"ngFor","ngForOf"],["azt-track-service","attendance-student-LVD5aGXRv",1,"!py-3.5","clickable",3,"click"],[3,"name","avatar","gender","parentFullName","parentId","parentPhone","hasUser","schoolName","classrooms","joinedAt"],[1,"text-center","capitalize"],[1,"text-center"],[1,"flex","justify-center","items-center"],[3,"formGroup"],["formControlName","comment","type","text",1,"form-control",2,"min-width","80px",3,"id","placeholder","change"],[1,"mr-2","inline-block","clickable",3,"matTooltip","isDisabledTooltip","matTooltipDisabled","click"],["c","isDisabled"],["name","history","size","24"],[1,"flex","justify-between","items-center","mt-5"],[3,"pageObj","goToPaginationPage",4,"ngIf"],[1,"flex","justify-end"],[3,"pageObj","goToPaginationPage"]],template:function(_,m){if(1&_&&(t.j41(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t.EFF(4),t.nI1(5,"mytranslate"),t.k0s()(),t.j41(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.bIt("onSearch",function(L){return m.onSearchBox(L.searchObj)}),t.nI1(10,"mytranslate"),t.k0s()(),t.j41(11,"flexed-on-the-top",8)(12,"button",9),t.bIt("click",function(){return m.saveComment()}),t.DNE(13,Tr,1,0,"azt-loading-ui",10),t.EFF(14),t.nI1(15,"mytranslate"),t.k0s()()()()(),t.j41(16,"div",11),t.DNE(17,Ir,1,1,"azt-loading-effect",12),t.DNE(18,Or,2,2,"ng-template",null,13,t.C5r),t.k0s(),t.DNE(20,wr,6,5,"div",14),t.k0s()),2&_){const k=t.sdS(19);t.Y8G("headerBackToLink",m.backToLink),t.R7$(4),t.JRh(t.bMT(5,12,"lang_student_assessment_student")),t.R7$(5),t.Y8G("isServerSearch",!0)("searchContentObj",m.searchContentObj)("placeholder",t.bMT(10,14,"lang_core_tim_theo_ten_phone_email")),t.R7$(2),t.Y8G("colorBackground","#f0f8ffe8"),t.R7$(1),t.Y8G("disabled",m.isSave||m.countChangedComment()),t.R7$(1),t.Y8G("ngIf",m.isSave),t.R7$(1),t.SpI(" ",t.bMT(15,16,"lang_auto_luu")," "),t.R7$(3),t.Y8G("ngIf",m.statusObj.loading)("ngIfElse",k),t.R7$(3),t.Y8G("ngIf",m.totalStudent>0)}},dependencies:[C.Sq,C.bT,Y.oV,J.qT,J.me,J.BC,J.cb,J.j4,J.JD,dt.K,ye.q,Jn.t,B.f,at.R,Uo.$,$t.W,Ae.B,s.Q,Ct.WGl,P.wp,P.Po,P.vv],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]})}return r})()},{path:"distribute-document/:classroom_id/:program_id/:session_id",component:Jo},{path:"submit-score/:classroom_id/:program_id/:session_id",component:mi},{path:"class-details/:id",redirectTo:"classroom-details/:id/0"},{path:"manage-class/:id",redirectTo:"manage-classroom/:id"},{path:"student-list",redirectTo:"manage-classroom/0",pathMatch:"full"}]}];let Dr=(()=>{class r{static#t=this.\u0275fac=function(_){return new(_||r)};static#e=this.\u0275mod=t.$C({type:r});static#n=this.\u0275inj=t.G2t({imports:[O.iI.forChild(Fr),O.iI,i.XE]})}return r})()},14505:(Re,Bt,g)=>{g.d(Bt,{h:()=>B});var O=g(54460),i=g(10936),e=g(89163),tt=g(65162),a=g(69223),t=g(23047),T=g(15343),C=g(13763),s=g(10123),Ct=g(25571),wt=g(20378),Rt=g(5502),rt=g(46584),xt=g(70050),K=g(7050),dt=g(91100),at=g(43234),$t=g(52153),H=g(92050),Y=g(26860);let B=(()=>{class P{static#t=this.\u0275fac=function(ut){return new(ut||P)};static#e=this.\u0275mod=Y.$C({type:P});static#n=this.\u0275inj=Y.G2t({providers:[{provide:a.vn,useValue:at.c.azt_tiny_mce_script_src}],imports:[tt.iI,O.MD,rt.s,wt.T_,a.sv,i.YN,i.X1,e.hM,xt.L,C.Lk,H.I,Ct.xv,dt.Q,K.b,s.AC,T.flO.pick(T.Ptg),Rt.Id,t.Fr,$t.AzotaBusinessModule]})}return P})()},66257:(Re,Bt,g)=>{g.d(Bt,{H:()=>O});var O=function(i){return i.none="None",i.asc="Asc",i.desc="Desc",i}(O||{})},48725:(Re,Bt,g)=>{g.d(Bt,{s:()=>i});var O=g(66257);class i{resetSortFieldName(tt){this.fieldNameList.forEach(a=>{a.fieldName!==tt.fieldName&&(a.typeFieldSort=this.typeFieldSort.none)})}setFieldNameList(tt){this.fieldNameList=tt}convertDataSort(tt){switch(this.resetSortFieldName(tt),tt.typeFieldSort){case this.typeFieldSort.none:tt.typeFieldSort=this.typeFieldSort.asc;break;case this.typeFieldSort.asc:tt.typeFieldSort=this.typeFieldSort.desc;break;case this.typeFieldSort.desc:tt.typeFieldSort=this.typeFieldSort.none}return{fieldName:tt.fieldName,descending:tt.typeFieldSort===this.typeFieldSort.desc,ignore:tt.typeFieldSort===this.typeFieldSort.none}}constructor(){this.typeFieldSort=O.H,this.fieldNameList=[]}}},49221:(Re,Bt,g)=>{g.d(Bt,{R:()=>Rt});var O=g(59640),i=g(26860),e=g(54460),tt=g(73437);function a(rt,xt){if(1&rt){const K=i.RV6();i.j41(0,"a",4),i.bIt("click",function(){i.eBV(K);const at=i.XpG(2);return i.Njj(at.clickToSeeMore())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}2&rt&&(i.R7$(1),i.JRh(i.bMT(2,1,"lang_cms_common_see_more")))}function t(rt,xt){if(1&rt){const K=i.RV6();i.j41(0,"a",4),i.bIt("click",function(){i.eBV(K);const at=i.XpG(2);return i.Njj(at.clickToShowShortContent())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}2&rt&&(i.R7$(1),i.JRh(i.bMT(2,1,"lang_cms_common_see_short_content")))}function T(rt,xt){if(1&rt&&(i.j41(0,"div"),i.nrm(1,"span",2),i.nI1(2,"safeNormalHtmlContent"),i.DNE(3,a,3,3,"a",3),i.DNE(4,t,3,3,"a",3),i.k0s()),2&rt){const K=i.XpG();i.R7$(1),i.Y8G("innerHTML",i.bMT(2,3,K.showContent),i.npT),i.R7$(2),i.Y8G("ngIf",K.showSeeMoreButton&&K.content.length>K.maxLength),i.R7$(1),i.Y8G("ngIf",K.showShortContentButton&&K.content.length>K.maxLength)}}function C(rt,xt){if(1&rt&&(i.nrm(0,"span",10),i.nI1(1,"safeNormalHtmlContent")),2&rt){const K=i.XpG(2);i.Y8G("innerHTML",i.bMT(1,1,K.showContent),i.npT)}}function s(rt,xt){if(1&rt){const K=i.RV6();i.j41(0,"a",4),i.bIt("click",function(){i.eBV(K);const at=i.XpG(2);return i.Njj(at.clickToSeeMore())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}if(2&rt){const K=i.XpG(2);i.Aen("position: absolute; bottom: 0; right: 0; background-color: "+K.backgroundColor),i.R7$(1),i.SpI(" ...",i.bMT(2,3,"lang_cms_common_see_more")," ")}}function Ct(rt,xt){if(1&rt){const K=i.RV6();i.j41(0,"a",4),i.bIt("click",function(){i.eBV(K);const at=i.XpG(2);return i.Njj(at.clickToShowShortContent())}),i.EFF(1),i.nI1(2,"mytranslate"),i.k0s()}2&rt&&(i.R7$(1),i.JRh(i.bMT(2,1,"lang_cms_common_see_short_content")))}function wt(rt,xt){if(1&rt&&(i.j41(0,"div",5),i.nrm(1,"div",6),i.nI1(2,"safeNormalHtmlContent"),i.nrm(3,"div",6,7),i.nI1(5,"safeNormalHtmlContent"),i.DNE(6,C,2,3,"span",8),i.DNE(7,s,3,5,"a",9),i.DNE(8,Ct,3,3,"a",3),i.k0s()),2&rt){const K=i.sdS(4),dt=i.XpG();i.R7$(1),i.Aen(dt.styleContent),i.Y8G("innerHTML",i.bMT(2,9,dt.showContent),i.npT),i.R7$(2),i.Aen("white-space: pre-line; position: absolute; visibility: hidden; line-height: 20px"),i.Y8G("innerHTML",i.bMT(5,11,dt.showContent),i.npT),i.R7$(3),i.Y8G("ngIf",dt.showShortContentButton),i.R7$(1),i.Y8G("ngIf",dt.showSeeMoreButton&&K.offsetHeight>20*dt.maxLine),i.R7$(1),i.Y8G("ngIf",dt.showShortContentButton&&K.offsetHeight>20*dt.maxLine)}}let Rt=(()=>{class rt extends O.H{clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let K=this.commonService.removeTagHtml(this.content);if(this.maxLength&&K.length>this.maxLength)this.showContent=this.showSeeMoreButton?K.substring(0,this.maxLength)+"...":this.content;else if(this.maxLine){this.showContent=this.content;var dt=(20*this.maxLine).toString();this.styleContent=this.showSeeMoreButton?"white-space: pre-line; max-height: "+dt+"px; overflow: hidden; position: relative; line-height: 20px;":"white-space: pre-line; line-height: 20px; visibility: hidden; position: absolute;"}else this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content;this.showContent=this.showContent+" "}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}constructor(){super(),this.content="",this.backgroundColor="white",this.styleContent="white-space: pre-line;",this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}static#t=this.\u0275fac=function(dt){return new(dt||rt)};static#e=this.\u0275cmp=i.VBU({type:rt,selectors:[["azt-see-more-multiple-lines"]],inputs:{content:"content",maxLength:"maxLength",maxLine:"maxLine",backgroundColor:"backgroundColor"},features:[i.Vt3,i.OA$],decls:2,vars:2,consts:[[4,"ngIf"],["style","position: relative; white-space: break-spaces",4,"ngIf"],[2,"white-space","pre-line","white-space","break-spaces",3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"],[2,"position","relative","white-space","break-spaces"],[3,"innerHTML"],["contentElementHide",""],["style","white-space: pre-line",3,"innerHTML",4,"ngIf"],["class","btn-text-primary",3,"style","click",4,"ngIf"],[2,"white-space","pre-line",3,"innerHTML"]],template:function(dt,at){1&dt&&(i.DNE(0,T,5,5,"div",0),i.DNE(1,wt,9,13,"div",1)),2&dt&&(i.Y8G("ngIf",at.maxLength),i.R7$(1),i.Y8G("ngIf",at.maxLine&&!at.maxLength))},dependencies:[e.bT,tt.wp,tt._y],encapsulation:2})}return rt})()},66729:(Re,Bt,g)=>{g.d(Bt,{D:()=>Rt});var O=g(59640),i=g(26860),e=g(54460),tt=g(47712),a=g(73437);function t(rt,xt){1&rt&&(i.j41(0,"span",2),i.nI1(1,"mytranslate"),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()),2&rt&&(i.FS9("matTooltip",i.bMT(1,2,"lang_auto_dat")),i.R7$(2),i.JRh(i.bMT(3,4,"lang_auto_d_upper")))}function T(rt,xt){1&rt&&(i.j41(0,"span",2),i.nI1(1,"mytranslate"),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()),2&rt&&(i.FS9("matTooltip",i.bMT(1,2,"lang_auto_chua_dat")),i.R7$(2),i.JRh(i.bMT(3,4,"lang_auto_cd_upper")))}function C(rt,xt){1&rt&&(i.j41(0,"span",2),i.nI1(1,"mytranslate"),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()),2&rt&&(i.FS9("matTooltip",i.bMT(1,2,"lang_auto_hoan_thanh")),i.R7$(2),i.JRh(i.bMT(3,4,"lang_auto_tag_ht")))}function s(rt,xt){1&rt&&(i.j41(0,"span",2),i.nI1(1,"mytranslate"),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()),2&rt&&(i.FS9("matTooltip",i.bMT(1,2,"lang_auto_chua_hoan_thanh")),i.R7$(2),i.SpI("",i.bMT(3,4,"lang_auto_tag_CHT")," "))}function Ct(rt,xt){1&rt&&(i.j41(0,"span",2),i.nI1(1,"mytranslate"),i.EFF(2),i.nI1(3,"mytranslate"),i.k0s()),2&rt&&(i.FS9("matTooltip",i.bMT(1,2,"lang_auto_hoan_thanh_tot")),i.R7$(2),i.JRh(i.bMT(3,4,"lang_auto_tag_HTT")))}function wt(rt,xt){if(1&rt&&(i.j41(0,"span",3),i.EFF(1),i.k0s()),2&rt){const K=i.XpG();i.R7$(1),i.JRh(K.mark)}}let Rt=(()=>{class rt extends O.H{constructor(){super(...arguments),this.mark=0}static#t=this.\u0275fac=function(){let K;return function(at){return(K||(K=i.xGo(rt)))(at||rt)}}();static#e=this.\u0275cmp=i.VBU({type:rt,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[i.Vt3],decls:6,vars:6,consts:[["class","text-mark mb-0",3,"matTooltip",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],[1,"text-mark","mb-0",3,"matTooltip"],[1,"text-mark","mb-0"]],template:function(dt,at){1&dt&&(i.DNE(0,t,4,6,"span",0),i.DNE(1,T,4,6,"span",0),i.DNE(2,C,4,6,"span",0),i.DNE(3,s,4,6,"span",0),i.DNE(4,Ct,4,6,"span",0),i.DNE(5,wt,2,1,"span",1)),2&dt&&(i.Y8G("ngIf","1000"==at.mark),i.R7$(1),i.Y8G("ngIf","1001"==at.mark),i.R7$(1),i.Y8G("ngIf","2000"==at.mark),i.R7$(1),i.Y8G("ngIf","2001"==at.mark),i.R7$(1),i.Y8G("ngIf","3000"==at.mark),i.R7$(1),i.Y8G("ngIf","2001"!=at.mark&&"2000"!=at.mark&&"1001"!=at.mark&&"1000"!=at.mark&&"3000"!=at.mark))},dependencies:[e.bT,tt.oV,a.wp],encapsulation:2})}return rt})()},74637:(Re,Bt,g)=>{g.d(Bt,{E:()=>$t});var O=g(26860),i=g(59640),e=g(54460),tt=g(17818),a=g(15343),t=g(73437);function T(H,Y){1&H&&(O.j41(0,"span",12),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&H&&(O.R7$(1),O.JRh(O.bMT(2,1,"lang_core_thang")))}function C(H,Y){if(1&H&&(O.j41(0,"span",12),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&H){const B=O.XpG();O.R7$(1),O.Lme("",O.bMT(2,2,"lang_core_thang")," ",B.dataFilter.monthSelected,"")}}function s(H,Y){1&H&&(O.j41(0,"span",12),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&H&&(O.R7$(1),O.JRh(O.bMT(2,1,"lang_core_nam")))}function Ct(H,Y){if(1&H&&(O.j41(0,"span",12),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&H){const B=O.XpG();O.R7$(1),O.Lme("",O.bMT(2,2,"lang_core_nam")," ",B.dataFilter.yearSelected,"")}}function wt(H,Y){1&H&&(O.j41(0,"span"),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&H&&(O.R7$(1),O.JRh(O.bMT(2,1,"lang_auto_tat_ca")))}function Rt(H,Y){if(1&H&&(O.j41(0,"span"),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&H){const B=O.XpG().index;O.R7$(1),O.Lme("",O.bMT(2,2,"lang_core_thang")," ",B,"")}}function rt(H,Y){if(1&H){const B=O.RV6();O.j41(0,"li",13),O.bIt("click",function(){const gt=O.eBV(B).index,ut=O.XpG();return O.Njj(ut.selectMonth(gt))}),O.DNE(1,wt,3,3,"span",14),O.DNE(2,Rt,3,4,"span",14),O.k0s()}if(2&H){const B=Y.index,P=O.XpG();O.Y8G("ngClass",P.dataFilter.monthSelected==B?"color-select":""),O.R7$(1),O.Y8G("ngIf",0==B),O.R7$(1),O.Y8G("ngIf",B>0)}}function xt(H,Y){1&H&&(O.j41(0,"span"),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&H&&(O.R7$(1),O.JRh(O.bMT(2,1,"lang_auto_tat_ca")))}function K(H,Y){if(1&H&&(O.j41(0,"span"),O.EFF(1),O.nI1(2,"mytranslate"),O.k0s()),2&H){const B=O.XpG().index,P=O.XpG();O.R7$(1),O.Lme("",O.bMT(2,2,"lang_core_nam")," ",P.currentDate.getFullYear()-(B-1),"")}}function dt(H,Y){if(1&H){const B=O.RV6();O.j41(0,"li",15),O.bIt("click",function(){const gt=O.eBV(B).index,ut=O.XpG();return O.Njj(ut.selectYear(gt))}),O.DNE(1,xt,3,3,"span",14),O.DNE(2,K,3,4,"span",14),O.k0s()}if(2&H){const B=Y.index,P=O.XpG();O.Y8G("ngClass",!P.dataFilter.yearSelected||P.currentDate.getFullYear()-(P.dataFilter.yearSelected-1)!=B&&0!=P.dataFilter.yearSelected?"":"color-select"),O.R7$(1),O.Y8G("ngIf",0==B),O.R7$(1),O.Y8G("ngIf",B>0)}}const at=function(){return[]};let $t=(()=>{class H extends i.H{selectMonth(B){this.isApply=!0,this.dataFilter.monthSelected=B,this.sendFilter.emit(this.dataFilter)}selectYear(B){this.isApply=!0,this.dataFilter.yearSelected=B>0?this.currentDate.getFullYear()-(B-1):B,this.sendFilter.emit(this.dataFilter)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.sendFilter=new O.bkB,this.isLoading=!1,this.currentDate=new Date,this.isApply=!1,this.dataFilter={monthSelected:void 0,yearSelected:void 0}}static#t=this.\u0275fac=function(P){return new(P||H)};static#e=this.\u0275cmp=O.VBU({type:H,selectors:[["azt-filter-box"]],inputs:{isLoading:"isLoading"},outputs:{sendFilter:"sendFilter"},features:[O.Vt3],decls:22,vars:13,consts:[[1,"flex","items-center","font-medium"],[1,"font-medium","mr-2","color",2,"color","#1e40af"],[1,"border-box","hover","p-1","clickable","mr-1",3,"matMenuTriggerFor"],["class","p-1",4,"ngIf"],["name","chevron-down","size","18"],["xPosition","before"],["filterByMonth","matMenu"],[1,"dropdown-menu","show","relative"],[1,"dropdown-content","overflow-hidden","overflow-y-auto","h-56"],["azt-track-service","azt-filter-box-0A_xsGZ5B","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],["filterByYear","matMenu"],["azt-track-service","azt-filter-box-orpcyuG7jD","class","dropdown-item w-max-content w-full clickable",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-1"],["azt-track-service","azt-filter-box-0A_xsGZ5B",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"],[4,"ngIf"],["azt-track-service","azt-filter-box-orpcyuG7jD",1,"dropdown-item","w-max-content","w-full","clickable",3,"ngClass","click"]],template:function(P,bt){if(1&P&&(O.j41(0,"div",0)(1,"div",1),O.EFF(2),O.nI1(3,"mytranslate"),O.k0s(),O.j41(4,"div",2),O.DNE(5,T,3,3,"span",3),O.DNE(6,C,3,4,"span",3),O.nrm(7,"lucide-icon",4),O.k0s(),O.j41(8,"div",2),O.DNE(9,s,3,3,"span",3),O.DNE(10,Ct,3,4,"span",3),O.nrm(11,"lucide-icon",4),O.k0s()(),O.j41(12,"mat-menu",5,6)(14,"div",7)(15,"ul",8),O.DNE(16,rt,3,3,"li",9),O.k0s()()(),O.j41(17,"mat-menu",5,10)(19,"div",7)(20,"ul",8),O.DNE(21,dt,3,3,"li",11),O.k0s()()()),2&P){const gt=O.sdS(13),ut=O.sdS(18);O.R7$(2),O.SpI(" ",O.bMT(3,9,"lang_testbank_tested_list_sort"),": "),O.R7$(2),O.Y8G("matMenuTriggerFor",gt),O.R7$(1),O.Y8G("ngIf",!bt.dataFilter.monthSelected),O.R7$(1),O.Y8G("ngIf",bt.dataFilter.monthSelected&&bt.dataFilter.monthSelected>0),O.R7$(2),O.Y8G("matMenuTriggerFor",ut),O.R7$(1),O.Y8G("ngIf",!bt.dataFilter.yearSelected),O.R7$(1),O.Y8G("ngIf",bt.dataFilter.yearSelected&&bt.dataFilter.yearSelected>0),O.R7$(6),O.Y8G("ngForOf",O.lJ4(11,at).constructor(13)),O.R7$(5),O.Y8G("ngForOf",O.lJ4(12,at).constructor(10))}},dependencies:[e.YU,e.Sq,e.bT,tt.kk,tt.Cp,a.WGl,t.wp],styles:[".w-max-content[_ngcontent-%COMP%]{width:-webkit-fill-available;min-width:max-content}.border-left[_ngcontent-%COMP%]{border-left:1px solid rgb(201,201,201)}.background-powderblue[_ngcontent-%COMP%]{background:#b0e0e6}.hover[_ngcontent-%COMP%]:hover{background:#f5fffa}.color-select[_ngcontent-%COMP%]{background-color:#eef1f6}.border-box[_ngcontent-%COMP%]{border:1px solid #1e40af;padding:2px 5px;border-radius:10px}.box-name[_ngcontent-%COMP%]{background:#d3d3d3}"]})}return H})()},16583:(Re,Bt,g)=>{g.d(Bt,{x:()=>Be});var O=g(10936),i=g(59640),e=g(26860),tt=g(31216),a=g(25693),t=g(50589);let T=(()=>{class y{countChecked(b){var $=0;for(var A in b)!0===b[A]&&($+=1);return $}getDefaultFilterObj(b){var $=this.localStorageSlug+b;if(this.listFilterObjs[$])return this.listFilterObjs[$];var A=this.getInitFilterObj(),Et=this.browserStorageService.getSimpleStorage($),ie=this.commonService.castJsonToObj(Et??"");return ie&&(A=ie),A}saveFilterObj(b,$){var A=this.localStorageSlug+b;this.listFilterObjs[A]=$,this.browserStorageService.saveSimpleStorage(A,this.commonService.serializeJson($))}getInitFilterObj(){return{getHasMark:!1,getNotMarked:!1,getNotDone:!1,getResendAnswer:!1,classroomId:0,studentId:0}}constructor(b,$){this.commonService=b,this.browserStorageService=$,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}static#t=this.\u0275fac=function($){return new($||y)(e.KVO(a.R),e.KVO(t.z))};static#e=this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var C=g(51913),s=g(54460),Ct=g(47712),wt=g(15343),Rt=g(18718),rt=g(66729),xt=g(17818),K=g(73437);function dt(y,ft){if(1&y&&(e.j41(0,"span"),e.EFF(1,"\xa0"),e.j41(2,"span",20),e.EFF(3),e.k0s()()),2&y){const b=e.XpG();e.R7$(3),e.JRh(b.totalCustomFilter)}}function at(y,ft){if(1&y){const b=e.RV6();e.j41(0,"li")(1,"label",21),e.bIt("click",function(A){return A.stopPropagation()}),e.EFF(2),e.nI1(3,"mytranslate"),e.j41(4,"div",9)(5,"input",22),e.bIt("change",function(){e.eBV(b);const A=e.XpG();return A.filterObj.getResendAnswer=!A.filterObj.getResendAnswer,e.Njj(A.changeFilter())}),e.k0s()()()()}if(2&y){const b=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,2,"lang_student_profile_filter_get_resend_answer")," "),e.R7$(3),e.Y8G("checked",b.filterObj.getResendAnswer)}}const $t=function(){return{" mr-0 md:mr-2":!0}};let H=(()=>{class y extends i.H{changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}clearFilter(){this.filterObj=this.studentProfileFilterService.getInitFilterObj(),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilter()}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}constructor(b){super(),this.studentProfileFilterService=b,this.filterType="",this.changeFilterEvent=new e.bkB,this.totalCustomFilter=0}static#t=this.\u0275fac=function($){return new($||y)(e.rXU(T))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},features:[e.Vt3],decls:40,vars:26,consts:[[1,"btn","btn-sm",3,"matMenuTriggerFor"],["name","search","size","20",3,"ngClass"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["azt-track-service","filter-menu-SVYEFVdq9z","for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-OF32qNGQY8","for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-EpBgopx3Iv","for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","filter-menu-2gPTdI1ODd",3,"click"],["azt-track-service","filter-menu-cGVj55-Aac",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["azt-track-service","filter-menu-FWtx2ole8G","for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"]],template:function($,A){if(1&$&&(e.j41(0,"button",0),e.nrm(1,"lucide-icon",1),e.j41(2,"span",2),e.EFF(3),e.nI1(4,"mytranslate"),e.DNE(5,dt,4,1,"span",3),e.k0s()(),e.j41(6,"mat-menu",4,5)(8,"div",6)(9,"ul",7)(10,"li")(11,"label",8),e.bIt("click",function(ie){return ie.stopPropagation()}),e.EFF(12),e.nI1(13,"mytranslate"),e.j41(14,"div",9)(15,"input",10),e.bIt("change",function(){return A.filterObj.getHasMark=!A.filterObj.getHasMark,A.changeFilter()}),e.k0s()()()(),e.j41(16,"li")(17,"label",11),e.bIt("click",function(ie){return ie.stopPropagation()}),e.EFF(18),e.nI1(19,"mytranslate"),e.j41(20,"div",9)(21,"input",12),e.bIt("change",function(){return A.filterObj.getNotMarked=!A.filterObj.getNotMarked,A.changeFilter()}),e.k0s()()()(),e.j41(22,"li")(23,"label",13),e.bIt("click",function(ie){return ie.stopPropagation()}),e.EFF(24),e.nI1(25,"mytranslate"),e.j41(26,"div",9)(27,"input",14),e.bIt("change",function(){return A.filterObj.getNotDone=!A.filterObj.getNotDone,A.changeFilter()}),e.k0s()()()(),e.DNE(28,at,6,4,"li",3),e.j41(29,"li"),e.nrm(30,"hr",15),e.k0s(),e.j41(31,"li")(32,"div",16)(33,"button",17),e.EFF(34),e.nI1(35,"mytranslate"),e.k0s(),e.j41(36,"div",18),e.bIt("click",function(ie){return ie.stopPropagation()}),e.j41(37,"button",19),e.bIt("click",function(){return A.clearFilter()}),e.EFF(38),e.nI1(39,"mytranslate"),e.k0s()()()()()()()),2&$){const Et=e.sdS(7);e.Y8G("matMenuTriggerFor",Et),e.R7$(1),e.Y8G("ngClass",e.lJ4(25,$t)),e.R7$(2),e.SpI(" ",e.bMT(4,13,"lang_testbank_tested_list_sort")," "),e.R7$(2),e.Y8G("ngIf",A.totalCustomFilter>0),e.R7$(7),e.SpI(" ",e.bMT(13,15,"lang_student_profile_filter_get_has_mark")," "),e.R7$(3),e.Y8G("checked",A.filterObj.getHasMark),e.R7$(3),e.SpI(" ",e.bMT(19,17,"lang_student_profile_filter_get_not_marked")," "),e.R7$(3),e.Y8G("checked",A.filterObj.getNotMarked),e.R7$(3),e.SpI(" ",e.bMT(25,19,"exam"==A.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),e.R7$(3),e.Y8G("checked",A.filterObj.getNotDone),e.R7$(1),e.Y8G("ngIf","homework"==A.filterType),e.R7$(6),e.JRh(e.bMT(35,21,"lang_button_close")),e.R7$(4),e.JRh(e.bMT(39,23,"lang_button_delete"))}},dependencies:[s.YU,s.bT,xt.kk,xt.Cp,wt.WGl,K.wp],encapsulation:2})}return y})();function Y(y,ft){if(1&y&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.nrm(3,"azt-check-mark",17),e.k0s()),2&y){const b=e.XpG(2).$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,2,"lang_point"),": "),e.R7$(2),e.Y8G("mark",b.resultMarkObj.point)}}function B(y,ft){1&y&&(e.j41(0,"span",18),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&y&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function P(y,ft){if(1&y&&(e.qex(0),e.DNE(1,Y,4,4,"span",13),e.DNE(2,B,3,3,"span",16),e.bVm()),2&y){const b=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",b.resultMarkObj.confirmedAt),e.R7$(1),e.Y8G("ngIf",!b.resultMarkObj.confirmedAt)}}function bt(y,ft){1&y&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&y&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_testbank_statistical_not_exem_yet")," "))}const gt=function(){return{"text-pending":!0}},ut=function(y){return{truncate:y}},vt=function(){return{"max-width":"85%"}},It=function(){return{}};function Ft(y,ft){if(1&y){const b=e.RV6();e.j41(0,"div",7),e.bIt("click",function(){const Et=e.eBV(b).$implicit,ie=e.XpG();return e.Njj(ie.clickToExamObj(Et))}),e.j41(1,"div",8),e.nrm(2,"lucide-icon",9),e.k0s(),e.j41(3,"div",10)(4,"p",11),e.EFF(5),e.k0s(),e.j41(6,"div",12),e.DNE(7,P,3,2,"ng-container",13),e.DNE(8,bt,3,3,"span",14),e.k0s(),e.j41(9,"div",15),e.EFF(10),e.nI1(11,"mytranslate"),e.nI1(12,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()()}if(2&y){const b=ft.$implicit,$=ft.index,A=e.XpG();e.ZvI("clickable zoom-in flex items-center ",$>0?"mt-3":""," pb-2"),e.R7$(2),e.Y8G("ngClass",e.lJ4(17,gt)),e.R7$(2),e.FS9("matTooltip",b.name),e.Y8G("ngClass",e.eq3(18,ut,!A.isMobileDevice))("ngStyle",A.isMobileDevice?e.lJ4(21,It):e.lJ4(20,vt)),e.R7$(1),e.Lme("",$+1,". ",b.name,""),e.R7$(2),e.Y8G("ngIf",b.resultMarkObj),e.R7$(1),e.Y8G("ngIf",!b.resultMarkObj),e.R7$(2),e.Lme("",e.bMT(11,13,"lang_student_profile_utils_list_exam_created_at"),": ",e.bMT(12,15,b.createdAt),"")}}function Qt(y,ft){1&y&&(e.j41(0,"div",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&y&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_list_null")))}function _e(y,ft){if(1&y&&e.nrm(0,"azt-loading-effect",25),2&y){const b=e.XpG(2);e.Y8G("currentStatusObj",b.statusObj)}}function be(y,ft){if(1&y){const b=e.RV6();e.j41(0,"div",21),e.DNE(1,_e,1,1,"azt-loading-effect",22),e.j41(2,"button",23),e.bIt("click",function(){e.eBV(b);const A=e.XpG();return e.Njj(A.getNextExamResultObjs())}),e.nI1(3,"mytranslate"),e.nrm(4,"lucide-icon",24),e.k0s()()}if(2&y){const b=e.XpG();e.R7$(1),e.Y8G("ngIf",b.statusObj.loading),e.R7$(1),e.FS9("matTooltip",e.bMT(3,3,"lang_student_profile_utils_list_exam_tooltip_view")),e.Y8G("disabled",!b.examNextPage)}}let Ce=(()=>{class y extends i.H{clickToExamObj(b){this.isTeacher?b.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("exam",b)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+b.id+"/"+b.resultMarkObj?.userId+"/"+b.resultMarkObj?.studentId+"/"+(b.resultMarkObj?.resultId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(b.categoryId??0)+"/"+b.id+"/0","?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(b.resultMarkObj?.resultId?"/test/answer-test/"+b.resultMarkObj?.userId+"/0/"+b.hashId+"/"+(b.resultMarkObj?.resultId??0):"/de-thi/"+b.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.examNextPage="",this.getNextExamResultObjs()}getNextExamResultObjs(){this.initStatusObj();var b=this.studentProfileFilterService.getDefaultFilterObj("exam");b.classroomId=this.classroomId,b.studentId=this.studentId,b.nextPage=this.examNextPage,this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(b).subscribe($=>{1==$.success?(this.examObjs=this.examObjs.concat($.data?.objs??[]),this.examNextPage=$.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextExamResultObjs()}constructor(b,$,A){super(),this.studentProfileV2Service=b,this.studentProfileFilterService=$,this.permissionService=A,this.backToLink="",this.isTeacher=!0,this.examObjs=[],this.examNextPage=""}static#t=this.\u0275fac=function($){return new($||y)(e.rXU(tt.m_),e.rXU(T),e.rXU(C.p))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",isTeacher:"isTeacher"},features:[e.Vt3],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","list-exam-pw607HPZy",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","list-exam-pw607HPZy",3,"click"],[1,"file"],["name","file-check","size","48",3,"ngClass"],[1,"ml-4","content-right"],[1,"font-medium",3,"ngClass","ngStyle","matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","list-exam-wvCfNB667b",1,"",3,"matTooltip","disabled","click"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function($,A){1&$&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"azt-student-profile-filter-menu",2),e.bIt("changeFilterEvent",function(){return A.reInitData()}),e.k0s()(),e.j41(5,"div",3),e.DNE(6,Ft,13,22,"div",4),e.DNE(7,Qt,3,3,"div",5),e.DNE(8,be,5,5,"div",6),e.k0s()),2&$&&(e.R7$(2),e.JRh(e.bMT(3,5,"lang_student_profile_utils_list_exam_list_submitted")),e.R7$(2),e.Y8G("filterType","exam"),e.R7$(2),e.Y8G("ngForOf",A.examObjs),e.R7$(1),e.Y8G("ngIf",0==A.examObjs.length&&!A.examNextPage),e.R7$(1),e.Y8G("ngIf",A.examObjs.length>0&&A.examNextPage))},dependencies:[s.YU,s.Sq,s.bT,s.B3,Ct.oV,wt.WGl,Rt.K,rt.D,H,K.wp,K.bH],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]})}return y})();var Fe=g(47426),Me=g(74960),zt=g(4375),qt=g(89163),yt=g(33887),Nt=g(2915),jt=g(52811);function le(y,ft){1&y&&e.nrm(0,"azt-loading-ui",11)}let ee=(()=>{class y extends yt._{confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id??0).subscribe(b=>{1==b.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(b.message??"",!0))}))}btnCloseDialog(b){this.dialogRef.close(b)}constructor(b,$,A){super(A,$),this.studentService=b,this.dialogRef=$,this.data=A,this.studentObj=A.studentObj,this.classroomObj=A.classroomObj}static#t=this.\u0275fac=function($){return new($||y)(e.rXU(tt.b0),e.rXU(qt.CP,8),e.rXU(qt.Vh,8))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["app-delete-parent"]],features:[e.Vt3],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","flex","justify-end"],["azt-track-service","delete-parent-OCYQzQEUBJ",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-parent-q0ZQYEQFkD",1,"btn","w-32","btn-primary",3,"click"],["class","mr-1",4,"ngIf"],[1,"mr-1"]],template:function($,A){1&$&&(e.j41(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),e.EFF(5),e.nI1(6,"mytranslate"),e.j41(7,"b",4),e.EFF(8),e.k0s(),e.EFF(9),e.nI1(10,"mytranslate"),e.j41(11,"span",5),e.EFF(12),e.k0s(),e.EFF(13,"\xa0 "),e.j41(14,"span",6),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()()()()(),e.j41(17,"div",7)(18,"button",8),e.bIt("click",function(){return A.btnCloseDialog(!1)}),e.EFF(19),e.nI1(20,"mytranslate"),e.k0s(),e.j41(21,"button",9),e.bIt("click",function(){return A.confirmDelete()}),e.DNE(22,le,1,0,"azt-loading-ui",10),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s()()()),2&$&&(e.R7$(5),e.SpI(" ",e.bMT(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),e.R7$(3),e.JRh(A.studentObj.fullName),e.R7$(1),e.SpI(" ",e.bMT(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),e.R7$(2),e.FS9("matTooltip",A.classroomObj.name),e.R7$(1),e.SpI(" ",A.classroomObj.name,""),e.R7$(3),e.SpI("* ",e.bMT(16,13,"lang_student_utils_delete_parent_reques"),""),e.R7$(4),e.SpI(" ",e.bMT(20,15,"lang_cms_common_close_btn")," "),e.R7$(3),e.Y8G("ngIf",A.statusObj.loading),e.R7$(1),e.SpI(" ",e.bMT(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[s.bT,Ct.oV,Nt.U,jt.R,K.wp],encapsulation:2})}return y})();var U=g(14999),Dt=g(46723),F=g(46899),ot=g(5800);function Gt(y,ft){if(1&y&&e.nrm(0,"azt-loading-effect",3),2&y){const b=e.XpG();e.Y8G("currentStatusObj",b.statusObj)}}const Wt=function(){return{" mr-2 text-primary":!0}};function ve(y,ft){if(1&y){const b=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(b);const A=e.XpG(4);return e.Njj(A.editStudentDialog(A.studentObj))}),e.nrm(1,"lucide-icon",16),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&y&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,Wt)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_button_edit")," "))}const ze=function(){return{" mr-2 text-danger":!0}};function en(y,ft){if(1&y){const b=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(b);const A=e.XpG(4);return e.Njj(A.deleteStudentDialog(A.studentObj))}),e.nrm(1,"lucide-icon",18),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&y&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,ze)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}const cn=function(){return{" mr-2 text-warning":!0}};function Ge(y,ft){if(1&y){const b=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(b);const A=e.XpG(4);return e.Njj(A.deleteParentOfStudentDialog(A.studentObj))}),e.nrm(1,"lucide-icon",20),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&y&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,cn)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_student_profile_utils_account_student_required_verifie")," "))}function nn(y,ft){if(1&y&&(e.j41(0,"div",11),e.DNE(1,ve,4,5,"button",12),e.nI1(2,"editPermission"),e.DNE(3,en,4,5,"button",13),e.nI1(4,"fullPermission"),e.nI1(5,"editPermission"),e.DNE(6,Ge,4,5,"button",14),e.nI1(7,"editPermission"),e.k0s()),2&y){const b=e.XpG(3);e.R7$(1),e.Y8G("ngIf",e.i5U(2,3,b.classroomObj,"student")),e.R7$(2),e.Y8G("ngIf",e.i5U(4,6,b.classroomObj,"student")||e.i5U(5,9,b.classroomObj,"student")),e.R7$(3),e.Y8G("ngIf",0!=b.studentObj.parentId&&e.i5U(7,12,b.classroomObj,"student"))}}function mn(y,ft){if(1&y){const b=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(b);const A=e.XpG(4);return e.Njj(A.deleteStudentDialog(A.studentObj))}),e.nrm(1,"lucide-icon",18),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()}2&y&&(e.R7$(1),e.Y8G("ngClass",e.lJ4(4,ze)),e.R7$(1),e.SpI(" ",e.bMT(3,2,"lang_student_profile_utils_account_student_delete_out_class")," "))}function _n(y,ft){if(1&y){const b=e.RV6();e.j41(0,"div",11)(1,"button",21),e.bIt("click",function(){e.eBV(b);const A=e.XpG(3);return e.Njj(A.editStudentDialog(A.studentObj))}),e.nrm(2,"lucide-icon",16),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.DNE(5,mn,4,5,"button",22),e.nI1(6,"fullPermission"),e.nI1(7,"editPermission"),e.k0s()}if(2&y){const b=e.XpG(3);e.R7$(2),e.Y8G("ngClass",e.lJ4(11,Wt)),e.R7$(1),e.SpI(" ",e.bMT(4,3,"lang_button_edit")," "),e.R7$(2),e.Y8G("ngIf",e.i5U(6,5,b.classroomObj,"student")||e.i5U(7,8,b.classroomObj,"student"))}}const dn=function(){return[]};function on(y,ft){if(1&y&&(e.qex(0),e.j41(1,"div",6)(2,"div",7),e.nrm(3,"azt-student-info-box",8),e.k0s(),e.j41(4,"div",9),e.DNE(5,nn,8,15,"div",10),e.nI1(6,"editPermission"),e.DNE(7,_n,8,12,"div",10),e.nI1(8,"editPermission"),e.k0s()(),e.bVm()),2&y){const b=e.XpG(2);let $;e.R7$(3),e.Y8G("name",b.studentObj.fullName)("parentFullName",b.studentObj.parentFullName)("parentId",b.studentObj.parentId)("parentPhone",b.studentObj.parentPhone)("phone",b.studentObj.phone)("email",b.studentObj.email)("birthday",b.studentObj.birthday)("avatar",b.studentObj.avatar)("gender",b.studentObj.gender)("schoolName",null==b.studentObj.moreInfo?null:b.studentObj.moreInfo.schoolName)("facebookLink",null==b.studentObj.moreInfo?null:b.studentObj.moreInfo.facebookLink)("identificationNumber",b.studentObj.identificationNumber)("hasUser",1==b.studentObj.isVerified)("classrooms",null!==($=null==b.studentObj.moreInfo?null:b.studentObj.moreInfo.classrooms)&&void 0!==$?$:e.lJ4(23,dn))("joinedAt",null==b.studentObj.moreInfo?null:b.studentObj.moreInfo.joinedAt),e.R7$(2),e.Y8G("ngIf",b.isTeacher&&0!=b.studentObj.parentId&&e.i5U(6,17,b.classroomObj,"student")),e.R7$(2),e.Y8G("ngIf",b.isTeacher&&0==b.studentObj.parentId&&e.i5U(8,20,b.classroomObj,"student"))}}function Ke(y,ft){1&y&&(e.j41(0,"div",24)(1,"span",25),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&y&&(e.R7$(2),e.JRh(e.bMT(3,1,"lang_profile_student_not_found")))}function Qe(y,ft){if(1&y&&(e.DNE(0,on,9,24,"ng-container",4),e.DNE(1,Ke,4,3,"ng-template",null,5,e.C5r)),2&y){const b=e.sdS(2),$=e.XpG();e.Y8G("ngIf",$.studentObj)("ngIfElse",b)}}const Ze=function(y){return{"pb-5":y}};let nt=(()=>{class y extends i.H{deleteStudentDialog(b){this.sAztDialogService.open(U.d,{data:{studentObj:b,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(A=>{A&&this.commonService.myNavigation(this.paramBackToLink)})}editStudentDialog(b){this.sAztDialogService.open(Dt.B,{data:{studentObj:b,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(A=>{A&&this.reInitComponentEvent.emit(!0)})}deleteParentOfStudentDialog(b){this.sAztDialogService.open(ee,{data:{studentObj:b,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(A=>{A&&this.reInitComponentEvent.emit(!0)})}ngOnInit(){super.ngOnInit()}constructor(b){super(),this.sAztDialogService=b,this.classroomList=[],this.backToLink="",this.paramBackToLink="",this.isTeacher=!0,this.reInitComponentEvent=new e.bkB}static#t=this.\u0275fac=function($){return new($||y)(e.rXU(F.i))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-detail-account-student"]],inputs:{classroomId:"classroomId",classroomList:"classroomList",backToLink:"backToLink",paramBackToLink:"paramBackToLink",isTeacher:"isTeacher",studentObj:"studentObj",classroomObj:"classroomObj"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.Vt3],decls:4,vars:5,consts:[[1,"intro-y","box","px-5","pt-5",3,"ngClass"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[4,"ngIf","ngIfElse"],["noStudentObj",""],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[3,"name","parentFullName","parentId","parentPhone","phone","email","birthday","avatar","gender","schoolName","facebookLink","identificationNumber","hasUser","classrooms","joinedAt"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["azt-track-service","detail-account-student-rzLFlIWrx","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-zZpuvJmKGS","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-hml3hBaXHE","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-rzLFlIWrx",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","pencil","size","18",3,"ngClass"],["azt-track-service","detail-account-student-zZpuvJmKGS",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","trash-2","size","18",3,"ngClass"],["azt-track-service","detail-account-student-hml3hBaXHE",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","shield-alert","size","18",3,"ngClass"],["azt-track-service","detail-account-student-WgNDrDRXqF",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","detail-account-student-njjAOAGlF5","class","p-3 mr-6 flex rounded-md items-center hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-njjAOAGlF5",1,"p-3","mr-6","flex","rounded-md","items-center","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-5"],[1,"block","sm:inline"]],template:function($,A){if(1&$&&(e.j41(0,"div",0),e.DNE(1,Gt,1,1,"azt-loading-effect",1),e.DNE(2,Qe,3,2,"ng-template",null,2,e.C5r),e.k0s()),2&$){const Et=e.sdS(3);e.Y8G("ngClass",e.eq3(3,Ze,!A.studentObj)),e.R7$(1),e.Y8G("ngIf",A.statusObj.loading)("ngIfElse",Et)}},dependencies:[s.YU,s.bT,wt.WGl,Rt.K,ot.B,K.wp,K.gC,K.FV],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]})}return y})();var Yt=g(71703),X=g(95624);let lt=(()=>{class y extends i.H{constructor(b,$){super(),this.studentService=b,this.sAztDialogService=$,this.studentId=0,this.selectClassroomId=0,this.isTeacherRole=!0,this.avgPoint=0}showTotalPointDetail(){this.sAztDialogService.open(Yt.V,{width:"700px",restoreFocus:!1,data:{student:this.studentObj,isTeacher:this.isTeacherRole}}).afterClosed().subscribe(b=>{this.getInfoAttendance()})}getInfoAttendance(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsStudentIdProfileGet(this.studentId,this.selectClassroomId).subscribe(b=>{b?(this.attendanceObj=b,this.avgPoint=b.averageMark??0,this.studentObj=b.student,this.successStatusObj()):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnChanges(){this.getInfoAttendance()}ngOnInit(){super.ngOnInit()}static#t=this.\u0275fac=function($){return new($||y)(e.rXU(X.b0),e.rXU(F.i))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-detail-attendance"]],inputs:{studentId:"studentId",selectClassroomId:"selectClassroomId",isTeacherRole:"isTeacherRole"},features:[e.Vt3,e.OA$],decls:60,vars:23,consts:[[1,"detail-attendance"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12"],[1,"box","flex","items-center","p-5"],[1,"box-content","mx-auto","text-center"],[1,"btn","btn-sm","btn-primary-soft","p-1"],[1,"w-6","h-6"],["name","star"],[1,"mt-4"],[1,"ml-2","link__hover","link__color",3,"click"],[1,"text-2xl","text-primary","font-medium"],[1,"col-span-12","md:col-span-3"],[1,"box","zoom-in","flex","items-center","p-5"],["name","check","size","24"],[1,"btn","btn-sm","btn-secondary-soft","p-1"],["name","power-off","size","24"],[1,"text-2xl","text-secondary","font-medium"],[1,"btn","btn-sm","btn-pending-soft","p-1"],["name","octagon-alert","size","24"],[1,"text-2xl","text-pending","font-medium"],[1,"btn","btn-sm","btn-danger-soft","p-1"],["name","octagon-x","size","24"],[1,"text-2xl","text-danger","font-medium"]],template:function($,A){1&$&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"div",6),e.nrm(7,"lucide-icon",7),e.k0s()(),e.j41(8,"div",8),e.EFF(9),e.nI1(10,"mytranslate"),e.j41(11,"a",9),e.bIt("click",function(){return A.showTotalPointDetail()}),e.EFF(12),e.nI1(13,"mytranslate"),e.k0s()(),e.j41(14,"div",10),e.EFF(15),e.k0s()()()(),e.j41(16,"div",11)(17,"div",12)(18,"div",4)(19,"button",5)(20,"div",6),e.nrm(21,"lucide-icon",13),e.k0s()(),e.j41(22,"div",8),e.EFF(23),e.nI1(24,"mytranslate"),e.k0s(),e.j41(25,"div",10),e.EFF(26),e.k0s()()()(),e.j41(27,"div",11)(28,"div",12)(29,"div",4)(30,"button",14)(31,"div",6),e.nrm(32,"lucide-icon",15),e.k0s()(),e.j41(33,"div",8),e.EFF(34),e.nI1(35,"mytranslate"),e.k0s(),e.j41(36,"div",16),e.EFF(37),e.k0s()()()(),e.j41(38,"div",11)(39,"div",12)(40,"div",4)(41,"button",17)(42,"div",6),e.nrm(43,"lucide-icon",18),e.k0s()(),e.j41(44,"div",8),e.EFF(45),e.nI1(46,"mytranslate"),e.k0s(),e.j41(47,"div",19),e.EFF(48),e.k0s()()()(),e.j41(49,"div",11)(50,"div",12)(51,"div",4)(52,"button",20)(53,"div",6),e.nrm(54,"lucide-icon",21),e.k0s()(),e.j41(55,"div",8),e.EFF(56),e.nI1(57,"mytranslate"),e.k0s(),e.j41(58,"div",22),e.EFF(59),e.k0s()()()()()()),2&$&&(e.R7$(9),e.SpI(" ",e.bMT(10,11,"lang_business_diem_tong_ket")," "),e.R7$(3),e.SpI("(",e.bMT(13,13,"lang_auto_xem_chi_tiet"),")"),e.R7$(3),e.JRh(A.avgPoint),e.R7$(8),e.JRh(e.bMT(24,15,"lang_student_number_of_sessions_attended")),e.R7$(3),e.JRh(null==A.attendanceObj?null:A.attendanceObj.totalAttend),e.R7$(8),e.JRh(e.bMT(35,17,"lang_student_number_of_sessions_missed")),e.R7$(3),e.JRh(null==A.attendanceObj?null:A.attendanceObj.totalAbsence),e.R7$(8),e.JRh(e.bMT(46,19,"lang_student_number_of_approved_absences")),e.R7$(3),e.JRh(null==A.attendanceObj?null:A.attendanceObj.totalAbsentPermission),e.R7$(8),e.JRh(e.bMT(57,21,"lang_student_number_of_unauthorized_absences")),e.R7$(3),e.JRh(null==A.attendanceObj?null:A.attendanceObj.totalAbsentWithoutPermission))},dependencies:[wt.WGl,K.wp],encapsulation:2})}return y})();var mt=g(10123);function Vt(y,ft){if(1&y&&(e.j41(0,"tr")(1,"td",10),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()),2&y){const b=ft.$implicit,$=ft.index;e.R7$(2),e.JRh($+1),e.R7$(2),e.JRh(b.bookName),e.R7$(2),e.JRh(e.bMT(7,3,b.createdAt))}}function xe(y,ft){if(1&y&&(e.qex(0),e.DNE(1,Vt,8,5,"tr",9),e.bVm()),2&y){const b=e.XpG();e.R7$(1),e.Y8G("ngForOf",b.bookDistributionList)}}function Jt(y,ft){1&y&&(e.j41(0,"tr")(1,"td",11),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&y&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_student_profile_not_data_view")," "))}let Te=(()=>{class y extends i.H{getInfoBookDistribution(){this.waitDestroy(this.studentService.apiStudentsStudentIdBooksGet(this.studentId).subscribe(b=>{b?(this.bookDistributionList=b.list,this.totalBookDistribution=b.total):this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getInfoBookDistribution()}constructor(b){super(),this.studentService=b,this.studentId=0,this.bookDistributionList=[],this.totalBookDistribution=0}static#t=this.\u0275fac=function($){return new($||y)(e.rXU(X.b0))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-detail-book-distribution"]],inputs:{studentId:"studentId"},features:[e.Vt3],decls:22,vars:14,consts:[[1,"text-right","mt-4"],[1,"font-medium"],[1,"box","mt-2"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[4,"ngIf","ngIfElse"],["noDistribution",""],[4,"ngFor","ngForOf"],[1,"text-center"],["colspan","3",1,"text-center"]],template:function($,A){if(1&$&&(e.j41(0,"div",0)(1,"span",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()(),e.j41(4,"div",2)(5,"drag-scroll")(6,"table",3)(7,"thead",4)(8,"tr")(9,"th",5),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s(),e.j41(12,"th",6),e.EFF(13),e.nI1(14,"mytranslate"),e.k0s(),e.j41(15,"th",6),e.EFF(16),e.nI1(17,"mytranslate"),e.k0s()()(),e.j41(18,"tbody"),e.DNE(19,xe,2,1,"ng-container",7),e.DNE(20,Jt,4,3,"ng-template",null,8,e.C5r),e.k0s()()()()),2&$){const Et=e.sdS(21);e.R7$(2),e.SpI(" ",e.bMT(3,6,"lang_student_total")+": "+A.totalBookDistribution," "),e.R7$(8),e.SpI(" ",e.bMT(11,8,"lang_auto_stt")," "),e.R7$(3),e.SpI(" ",e.bMT(14,10,"lang_core_ten_sach")," "),e.R7$(3),e.SpI(" ",e.bMT(17,12,"lang_auto_thoi_gian")," "),e.R7$(3),e.Y8G("ngIf",A.bookDistributionList.length)("ngIfElse",Et)}},dependencies:[s.Sq,s.bT,mt.jd,mt.Ew,K.wp,K.bH],encapsulation:2})}return y})();var ae=g(23047),De=g(9280),Zt=g(9691),pe=g(5849),Se=g(19258),Pe=g(10805);function Ae(y,ft){if(1&y&&e.nrm(0,"azt-loading-effect",3),2&y){const b=e.XpG();e.Y8G("currentStatusObj",b.statusObj)}}function V(y,ft){if(1&y&&(e.j41(0,"span",25),e.EFF(1),e.k0s()),2&y){const b=e.XpG(3).$implicit;e.R7$(1),e.JRh(b.averageMark)}}const kt=function(y){return{"width.%":y}};function j(y,ft){if(1&y&&(e.j41(0,"div",23),e.DNE(1,V,2,1,"span",24),e.k0s()),2&y){const b=e.XpG(2).$implicit;e.Y8G("ngStyle",e.eq3(2,kt,10*b.averageMark)),e.R7$(1),e.Y8G("ngIf",b.averageMark&&b.averageMark>1)}}function Z(y,ft){if(1&y&&(e.j41(0,"div",16)(1,"div",17)(2,"span",18),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"span",19),e.EFF(6,"0"),e.k0s(),e.j41(7,"div",20),e.DNE(8,j,2,4,"div",21),e.k0s(),e.j41(9,"span",22),e.EFF(10,"10"),e.k0s()()()),2&y){const b=e.XpG().$implicit;e.R7$(3),e.JRh(e.bMT(4,2,"lang_auto_diem_trung_binh")),e.R7$(5),e.Y8G("ngIf",b.averageMark)}}function q(y,ft){1&y&&(e.j41(0,"div",26)(1,"span",27),e.nrm(2,"azt-loading-ui"),e.k0s()())}function Tt(y,ft){1&y&&(e.qex(0),e.j41(1,"div",30)(2,"span",31),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.bVm()),2&y&&(e.R7$(3),e.JRh(e.bMT(4,1,"lang_profile_student_not_support_subject")))}function At(y,ft){if(1&y&&e.nrm(0,"coazt-student-skill-chapter",40),2&y){const b=e.XpG(3).$implicit,$=e.XpG(2);e.Y8G("levelId",b.levelId)("subjectId",b.subjectId)("userId",$.studentObj.parentId)}}function ne(y,ft){if(1&y&&(e.j41(0,"span",25),e.EFF(1),e.k0s()),2&y){const b=e.XpG(2).$implicit;e.R7$(1),e.JRh(b.averageMark)}}const ue=function(y,ft,b,$){return{"bg-orange-600":y,"bg-red-600":ft,"bg-green-600":b,"bg-blue-600":$}};function ye(y,ft){if(1&y&&(e.j41(0,"div",53),e.DNE(1,ne,2,1,"span",24),e.k0s()),2&y){const b=e.XpG().$implicit;e.Y8G("ngClass",e.ziG(3,ue,1==b.id,3==b.id,2==b.id,4==b.id))("ngStyle",e.eq3(8,kt,10*b.averageMark)),e.R7$(1),e.Y8G("ngIf",b.averageMark>1)}}const je=function(y){return{"border-none":y}};function sn(y,ft){if(1&y&&(e.j41(0,"div",43)(1,"div",44)(2,"div",45)(3,"h3",46),e.EFF(4),e.nI1(5,"mytranslate"),e.k0s()(),e.j41(6,"div",47)(7,"h3",46),e.EFF(8),e.nI1(9,"mytranslate"),e.j41(10,"b"),e.EFF(11),e.k0s(),e.EFF(12," / "),e.j41(13,"b"),e.EFF(14),e.k0s(),e.EFF(15),e.nI1(16,"mytranslate"),e.k0s()(),e.j41(17,"div",48)(18,"div",49)(19,"span",50),e.EFF(20,"0"),e.k0s(),e.j41(21,"div",51),e.DNE(22,ye,2,10,"div",52),e.k0s(),e.j41(23,"span",22),e.EFF(24,"10"),e.k0s()()()()()),2&y){const b=ft.$implicit;e.Y8G("ngClass",e.eq3(13,je,ft.last)),e.R7$(4),e.SpI(" ",e.bMT(5,7,b.name)," "),e.R7$(4),e.SpI(" ",e.bMT(9,9,"lang_auto_tra_loi_dung"),":\xa0 "),e.R7$(3),e.JRh(b.totalCorrectQuestion),e.R7$(3),e.JRh(b.totalQuestion),e.R7$(1),e.SpI(" \xa0",e.bMT(16,11,"azt_lang_sugg_question")," "),e.R7$(7),e.Y8G("ngIf",b.averageMark)}}function Rn(y,ft){if(1&y&&(e.qex(0),e.j41(1,"div",41)(2,"h4",34),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.DNE(5,sn,25,15,"div",42),e.bVm()),2&y){const b=e.XpG(3).$implicit;e.R7$(3),e.SpI(" ",e.bMT(4,2,"lang_student_profile_result_by_difficulty_level")," "),e.R7$(2),e.Y8G("ngForOf",b.difficultyDataObjs)}}function Cn(y,ft){if(1&y&&(e.DNE(0,At,1,3,"coazt-student-skill-chapter",32),e.j41(1,"div",33)(2,"h4",34),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s()(),e.j41(5,"div",35)(6,"div",36)(7,"div",37),e.nrm(8,"div",38),e.k0s()()(),e.DNE(9,Rn,6,4,"ng-container",39)),2&y){const b=e.XpG(2).$implicit,$=e.XpG(2);e.Y8G("ngIf",!$.isTqbDomain),e.R7$(3),e.SpI(" ",e.bMT(4,4,"lang_student_profile_exam_point_by_time")," "),e.R7$(5),e.Y8G("chart",b.chart),e.R7$(1),e.Y8G("ngIf",b.difficultyDataObjs&&b.difficultyDataObjs.length&&!$.isTqbDomain)}}function pn(y,ft){if(1&y&&(e.DNE(0,Tt,5,3,"ng-container",28),e.DNE(1,Cn,10,6,"ng-template",null,29,e.C5r)),2&y){const b=e.sdS(2),$=e.XpG().$implicit;e.Y8G("ngIf",$.errorGetData)("ngIfElse",b)}}function D(y,ft){if(1&y){const b=e.RV6();e.qex(0),e.j41(1,"mat-expansion-panel",8),e.bIt("opened",function(){const Et=e.eBV(b).index,ie=e.XpG(2);return e.Njj(ie.getStatisticalById(Et))}),e.j41(2,"mat-expansion-panel-header",9)(3,"div",10)(4,"div",11)(5,"h3",12),e.EFF(6),e.nI1(7,"mytranslate"),e.nI1(8,"mytranslate"),e.k0s()(),e.DNE(9,Z,11,4,"div",13),e.k0s()(),e.DNE(10,q,3,0,"div",14),e.DNE(11,pn,3,2,"ng-template",null,15,e.C5r),e.k0s(),e.bVm()}if(2&y){const b=ft.$implicit,$=e.sdS(12),A=e.XpG(2);e.R7$(6),e.Lme("",e.bMT(7,5,b.subjectName)," ","("+e.bMT(8,7,b.levelName)+")",""),e.R7$(3),e.Y8G("ngIf",!A.isTqbDomain),e.R7$(1),e.Y8G("ngIf",b.isLoading)("ngIfElse",$)}}function Lt(y,ft){if(1&y&&(e.j41(0,"div",4)(1,"div",5)(2,"mat-accordion",6),e.DNE(3,D,13,9,"ng-container",7),e.k0s()()()),2&y){const b=e.XpG();e.R7$(3),e.Y8G("ngForOf",b.levelSubjectObjs)}}let R=(()=>{class y extends i.H{getStatisticalById(b){this.studentObj&&this.levelSubjectObjs.length&&this.levelSubjectObjs[b]&&(this.levelSubjectObjs[b].isLoading=!0,this.levelSubjectObjs[b].errorGetData=!1,this.studentService.apiStudentsStudentIdFieldGet(this.studentObj.id,this.levelSubjectObjs[b].levelId??0,this.levelSubjectObjs[b].subjectId??0).subscribe({next:$=>{$?(this.levelSubjectObjs[b].difficultyDataObjs=$.difficulty??[],this.levelSubjectObjs[b].knowledgeDataObjs=$.knowledge??[],this.levelSubjectObjs[b].chart=this.createChart($.examResults??[]),this.levelSubjectObjs[b].isLoading=!1,this.levelSubjectObjs[b].errorGetData=!1):(this.levelSubjectObjs[b].isLoading=!1,this.levelSubjectObjs[b].errorGetData=!0,this.stopStatusObj())},error:$=>{this.levelSubjectObjs[b].isLoading=!1,this.levelSubjectObjs[b].errorGetData=!0,this.errorStatusObj($.error.message??"",!0)}}))}createChart(b){let $=this.commonService.myTranslateInstant("lang_auto_Diem")??"",A=[],Et=[];return b.forEach(Je=>{A.push(Je.mark??0),Et.push(this.sAztTimeService.formatFullDateTimeWithoutSecondByUserUnit(Je.createdAt))}),new ae.t1({chart:{type:"line",style:{fontFamily:"Arial"}},title:{style:{wordWrap:"break-word","text-align":"center"},text:"",useHTML:!0},colors:["#2361ae"],credits:{enabled:!1},xAxis:{categories:Et},yAxis:{title:{text:$}},series:[{name:$,type:"line",data:A}]})}getDataSubject(){this.studentObj&&(this.initStatusObj(),this.isBusinessDomain?this.studentService.apiStudentsStudentIdAverageLevelSubjectMarksGet(this.studentObj.id).subscribe({next:b=>{this.levelSubjectObjs=b.list??[],this.getStatisticalById(0),this.stopStatusObj()},error:b=>{this.errorStatusObj(b.error.message,!0)}}):this.examPageResultService.apiExamPageResultListStudentProfileByLevelSubjectsGet(this.studentObj.id).subscribe(b=>{1==b.success&&b.data?(this.levelSubjectObjs=b.data.objs??[],this.getStatisticalById(0),this.stopStatusObj()):this.errorStatusObj(b.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getDataSubject()}constructor(b,$,A,Et){super(),this.examPageResultService=b,this.studentService=$,this.sAztTimeService=A,this.studentPracticeService=Et,this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new e.bkB,this.levelSubjectObjs=[]}static#t=this.\u0275fac=function($){return new($||y)(e.rXU(De.TE),e.rXU(X.b0),e.rXU(Zt.F),e.rXU(pe.Kw))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-detail-by-subject-student"]],inputs:{classroomId:"classroomId",studentObj:"studentObj",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[e.Vt3],decls:4,vars:2,consts:[[1,"intro-y"],[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"px-5"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[2,"margin-top","0.75rem",3,"opened"],[1,"pad-mobile"],[1,"grid","grid-cols-12","gap-3","gap-mobile","items-center","w-full","justify-between"],[1,"col-span-12","lg:col-span-3"],[1,"font-medium","mr-3"],["class","col-span-12 lg:col-span-9 text-center",4,"ngIf"],["class","flex justify-center mt-3",4,"ngIf","ngIfElse"],["doneLoadingPage",""],[1,"col-span-12","lg:col-span-9","text-center"],[1,"flex","profile-flr","pr-5",2,"align-items","center"],[1,"text-md",2,"vertical-align","middle","margin-right","15px"],[1,"text-md",2,"vertical-align","middle","margin-right","5px"],[1,"w-avg-profile","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[1,"flex","justify-center","mt-3"],[1,"w-6","h-6","inline-block"],[4,"ngIf","ngIfElse"],["hasData",""],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[3,"levelId","subjectId","userId",4,"ngIf"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"report-box","intro-x","mt-3"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[4,"ngIf"],[3,"levelId","subjectId","userId"],[1,"w-auto","text-left","bg-gray-200","mt-3",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],["class","border-b border-slate-200/60 dark:border-darkmode-400 mt-2 py-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","mt-2","py-3",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 text-right p-0.5 leading-none",3,"ngClass","ngStyle",4,"ngIf"],[1,"h-6","text-blue-100","text-right","p-0.5","leading-none",3,"ngClass","ngStyle"]],template:function($,A){if(1&$&&(e.j41(0,"div",0),e.DNE(1,Ae,1,1,"azt-loading-effect",1),e.DNE(2,Lt,4,1,"ng-template",null,2,e.C5r),e.k0s()),2&$){const Et=e.sdS(3);e.R7$(1),e.Y8G("ngIf",A.statusObj.loading)("ngIfElse",Et)}},dependencies:[s.YU,s.Sq,s.bT,s.B3,Se.BS,Se.GK,Se.Z2,ae.S6,Rt.K,jt.R,Pe.g,K.wp],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]})}return y})();function M(y,ft){1&y&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&y&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_core_huong_dan_chon_vao_bang_va_vuot_sang_trai_de_xem_cac_thong_tin_khac")," "))}function w(y,ft){if(1&y&&(e.j41(0,"tr")(1,"td",11),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td",11)(9,"span",12),e.EFF(10),e.nI1(11,"mytranslate"),e.k0s()()()),2&y){const b=ft.$implicit,$=ft.index;let A;e.R7$(2),e.JRh($+1),e.R7$(2),e.JRh(e.bMT(5,4,null!==(A=b.updatedAt)&&void 0!==A?A:b.createdAt)),e.R7$(3),e.JRh(b.month+"/"+b.year),e.R7$(3),e.SpI(" ",e.bMT(11,6,"lang_student_tuition_fee_paid")," ")}}function Ot(y,ft){if(1&y&&(e.qex(0),e.DNE(1,w,12,8,"tr",10),e.bVm()),2&y){const b=e.XpG();e.R7$(1),e.Y8G("ngForOf",b.historyTuitionFeeList)}}function de(y,ft){1&y&&(e.j41(0,"tr")(1,"td",13),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s()()),2&y&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"lang_student_profile_not_data_view")," "))}let te=(()=>{class y extends i.H{getTuitionFree(){this.initStatusObj(),this.waitDestroy(this.paymentService.apiPaymentStudentIdGet(this.studentId).subscribe(b=>{b?this.historyTuitionFeeList=b.histories:this.errorStatusObj("lang_cms_error_lost_connect_to_server",!0)}))}ngOnInit(){super.ngOnInit(),this.getTuitionFree()}constructor(b){super(),this.paymentService=b,this.studentId=0,this.historyTuitionFeeList=[]}static#t=this.\u0275fac=function($){return new($||y)(e.rXU(X.WG))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-detail-tuition-fee"]],inputs:{studentId:"studentId"},features:[e.Vt3],decls:23,vars:15,consts:[[1,"detail-attendance"],[4,"ngIf"],[1,"mt-4","box"],["drag-scroll-item","",1,"table","table-bordered",2,"white-space","initial","display","table"],[1,"bg-slate-100","dark:bg-darkmode-400"],[1,"whitespace-nowrap","text-center",2,"width","30px"],[1,"whitespace-nowrap"],[1,"whitespace-nowrap","text-center",2,"min-width","150px"],[4,"ngIf","ngIfElse"],["noTuitionFee",""],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"ml-2","py-0.5","px-2","rounded-full","text-xs","bg-success","text-white","cursor-pointer","font-medium","ng-star-inserted"],["colspan","4",1,"text-center"]],template:function($,A){if(1&$&&(e.j41(0,"div",0),e.DNE(1,M,3,3,"div",1),e.j41(2,"div",2)(3,"drag-scroll")(4,"table",3)(5,"thead",4)(6,"tr")(7,"th",5),e.EFF(8),e.nI1(9,"mytranslate"),e.k0s(),e.j41(10,"th",6),e.EFF(11),e.nI1(12,"mytranslate"),e.k0s(),e.j41(13,"th",6),e.EFF(14),e.nI1(15,"mytranslate"),e.k0s(),e.j41(16,"th",7),e.EFF(17),e.nI1(18,"mytranslate"),e.k0s()()(),e.j41(19,"tbody"),e.DNE(20,Ot,2,1,"ng-container",8),e.DNE(21,de,4,3,"ng-template",null,9,e.C5r),e.k0s()()()()()),2&$){const Et=e.sdS(22);e.R7$(1),e.Y8G("ngIf",A.isMobileDevice||A.isMobileWebView),e.R7$(7),e.SpI(" ",e.bMT(9,7,"lang_auto_stt")," "),e.R7$(3),e.SpI(" ",e.bMT(12,9,"lang_student_payment_time")," "),e.R7$(3),e.SpI(" ",e.bMT(15,11,"lang_student_monthly_tuition_fee")," "),e.R7$(3),e.SpI(" ",e.bMT(18,13,"lang_student_status")," "),e.R7$(3),e.Y8G("ngIf",A.historyTuitionFeeList.length)("ngIfElse",Et)}},dependencies:[s.Sq,s.bT,mt.jd,mt.Ew,K.wp,K.bH],encapsulation:2})}return y})();function J(y,ft){if(1&y&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"mytranslate"),e.nrm(3,"azt-check-mark",17),e.k0s()),2&y){const b=e.XpG(2).$implicit;e.R7$(1),e.SpI(" ",e.bMT(2,2,"lang_point"),": "),e.R7$(2),e.Y8G("mark",b.resultMarkObj.point)}}function qe(y,ft){1&y&&(e.j41(0,"span",18),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&y&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_student_profile_not_mark_result")," "))}function Ne(y,ft){if(1&y&&(e.j41(0,"span"),e.DNE(1,J,4,4,"span",13),e.DNE(2,qe,3,3,"span",16),e.k0s()),2&y){const b=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",b.resultMarkObj.confirmedAt),e.R7$(1),e.Y8G("ngIf",!b.resultMarkObj.confirmedAt)}}function Xn(y,ft){1&y&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&y&&(e.R7$(1),e.SpI(" ",e.bMT(2,1,"lang_student_profile_no_result")," "))}function Un(y,ft){if(1&y&&(e.j41(0,"span",19),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&y){const b=e.XpG().$implicit;e.R7$(1),e.Lme("",e.bMT(2,2,"lang_student_profile_resend_answer_required"),": ",b.resendAnswerObj.resendNote,"")}}const gn=function(){return{"text-primary":!0}};function zn(y,ft){if(1&y){const b=e.RV6();e.j41(0,"div",7),e.bIt("click",function(){const Et=e.eBV(b).$implicit,ie=e.XpG();return e.Njj(ie.clickToHomeworkObj(Et))}),e.j41(1,"div",8),e.nrm(2,"lucide-icon",9),e.k0s(),e.j41(3,"div",10)(4,"p",11),e.EFF(5),e.k0s(),e.j41(6,"div",12),e.DNE(7,Ne,3,2,"span",13),e.DNE(8,Xn,3,3,"span",14),e.DNE(9,Un,3,4,"span",14),e.k0s(),e.j41(10,"div",15),e.EFF(11),e.nI1(12,"mytranslate"),e.nI1(13,"formatFullDateTimeWithoutSecondByUserUnitPipe"),e.k0s()()()}if(2&y){const b=ft.$implicit,$=ft.index;e.ZvI("clickable zoom-in flex items-center ",$>0?"mt-5":""," pb-2"),e.R7$(2),e.Y8G("ngClass",e.lJ4(16,gn)),e.R7$(2),e.FS9("matTooltip",b.name),e.R7$(1),e.Lme("",$+1,". ",b.name,""),e.R7$(2),e.Y8G("ngIf",b.resultMarkObj),e.R7$(1),e.Y8G("ngIf",!b.resultMarkObj&&!b.resendAnswerObj),e.R7$(1),e.Y8G("ngIf",!b.resultMarkObj&&b.resendAnswerObj),e.R7$(2),e.Lme("",e.bMT(12,12,"lang_student_profile_utils_homework_answer_created_at"),": ",e.bMT(13,14,b.createdAt),"")}}function Le(y,ft){1&y&&(e.j41(0,"div",20),e.EFF(1),e.nI1(2,"mytranslate"),e.k0s()),2&y&&(e.R7$(1),e.JRh(e.bMT(2,1,"lang_list_null")))}function ge(y,ft){if(1&y&&e.nrm(0,"azt-loading-effect",25),2&y){const b=e.XpG(2);e.Y8G("currentStatusObj",b.statusObj)}}function an(y,ft){if(1&y){const b=e.RV6();e.j41(0,"div",21),e.DNE(1,ge,1,1,"azt-loading-effect",22),e.j41(2,"button",23),e.bIt("click",function(){e.eBV(b);const A=e.XpG();return e.Njj(A.getNextHomeworkAnswerObjs())}),e.nI1(3,"mytranslate"),e.nrm(4,"lucide-icon",24),e.k0s()()}if(2&y){const b=e.XpG();e.R7$(1),e.Y8G("ngIf",b.statusObj.loading),e.R7$(1),e.FS9("matTooltip",e.bMT(3,3,"lang_auto_hien_ban_ghi_cu_hon")),e.Y8G("disabled",!b.homeworkNextPage)}}let un=(()=>{class y extends i.H{clickToHomeworkObj(b){this.isTeacher?b.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("homework",b)?this.commonService.myNavigationWithQueryString("/admin/homework/switch-mark-exercise/"+b.resultMarkObj?.resultId+"/"+b.hashId+"/"+(this.studentId??0),"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(b.classroomId??0)+"/"+b.id+"/"+b.hashId,"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString(b.resultMarkObj?.resultId?"/homework/switch-view-homework/"+b.resultMarkObj?.resultId+"/"+b.hashId:"/bai-tap/"+b.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var b=this.studentProfileFilterService.getDefaultFilterObj("homework");b.classroomId=this.classroomId,b.studentId=this.studentId,b.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(b).subscribe($=>{1==$.success?(this.homeworkObjs=this.homeworkObjs.concat($.data?.objs??[]),this.homeworkNextPage=$.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}constructor(b,$,A){super(),this.studentProfileV2Service=b,this.studentProfileFilterService=$,this.permissionService=A,this.isTeacher=!0,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}static#t=this.\u0275fac=function($){return new($||y)(e.rXU(tt.m_),e.rXU(T),e.rXU(C.p))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",isTeacher:"isTeacher",backToLink:"backToLink"},features:[e.Vt3],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"click"],[1,"file"],["name","file-text","size","48",3,"ngClass"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],[3,"currentStatusObj",4,"ngIf"],["azt-track-service","homework-answer-MWO-mgLYZ_",1,"",3,"matTooltip","disabled","click"],["name","chevron-down","size","20"],[3,"currentStatusObj"]],template:function($,A){1&$&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.j41(4,"azt-student-profile-filter-menu",2),e.bIt("changeFilterEvent",function(){return A.reInitData()}),e.k0s()(),e.j41(5,"div",3),e.DNE(6,zn,14,17,"div",4),e.DNE(7,Le,3,3,"div",5),e.DNE(8,an,5,5,"div",6),e.k0s()),2&$&&(e.R7$(2),e.JRh(e.bMT(3,5,"lang_student_profile_utils_homework_answer_list_submitted")),e.R7$(2),e.Y8G("filterType","homework"),e.R7$(2),e.Y8G("ngForOf",A.homeworkObjs),e.R7$(1),e.Y8G("ngIf",0==A.homeworkObjs.length&&!A.homeworkNextPage),e.R7$(1),e.Y8G("ngIf",A.homeworkObjs.length>0&&A.homeworkNextPage))},dependencies:[s.YU,s.Sq,s.bT,Ct.oV,wt.WGl,Rt.K,rt.D,H,K.wp,K.bH],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]})}return y})();function Pn(y,ft){if(1&y&&e.nrm(0,"azt-loading-effect",2),2&y){const b=e.XpG();e.Y8G("currentStatusObj",b.statusObj)}}function Fn(y,ft){if(1&y&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&y){const b=ft.$implicit;e.Y8G("value",b.id+"-"+b.studentId),e.R7$(1),e.SpI(" ",b.name," ")}}function xn(y,ft){if(1&y&&(e.j41(0,"div",23)(1,"p",20),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-attendance",24),e.k0s()),2&y){const b=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,4,"lang_student_attendance_point_info")),e.R7$(2),e.Y8G("studentId",b.studentId)("isTeacherRole",b.isTeacherDashboard)("selectClassroomId",b.classroomId)}}function Ye(y,ft){if(1&y&&(e.j41(0,"div",23)(1,"p",20),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-tuition-fee",25),e.k0s()),2&y){const b=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"lang_student_tuition_fee_info")),e.R7$(2),e.Y8G("studentId",b.studentId)}}function Tn(y,ft){if(1&y&&(e.j41(0,"div",23)(1,"p",20),e.EFF(2),e.nI1(3,"mytranslate"),e.k0s(),e.nrm(4,"azt-detail-book-distribution",25),e.k0s()),2&y){const b=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"lang_student_book_distribution_info")),e.R7$(2),e.Y8G("studentId",b.studentId)}}function tn(y,ft){if(1&y){const b=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"h3",5),e.EFF(3),e.nI1(4,"mytranslate"),e.k0s(),e.j41(5,"div",6)(6,"mat-form-field",7)(7,"mat-select",8),e.bIt("selectionChange",function(A){e.eBV(b);const Et=e.XpG();return e.Njj(Et.selectedClassroom(A))}),e.j41(8,"mat-option",9),e.EFF(9),e.nI1(10,"mytranslate"),e.k0s(),e.DNE(11,Fn,2,2,"mat-option",10),e.k0s()()()(),e.j41(12,"div",11)(13,"azt-detail-account-student",12),e.bIt("reInitComponentEvent",function(){e.eBV(b);const A=e.XpG();return e.Njj(A.reInitOtherComponent())}),e.k0s(),e.j41(14,"div",13)(15,"div",14),e.nrm(16,"azt-student-profile-list-exams",15,16),e.k0s(),e.j41(18,"div",14),e.nrm(19,"azt-student-profile-list-homeworks",15,17),e.k0s()(),e.DNE(21,xn,5,6,"div",18),e.DNE(22,Ye,5,4,"div",18),e.DNE(23,Tn,5,4,"div",18),e.j41(24,"div",19)(25,"p",20),e.EFF(26),e.nI1(27,"mytranslate"),e.k0s(),e.j41(28,"azt-detail-by-subject-student",21),e.bIt("reInitComponentEvent",function(){e.eBV(b);const A=e.XpG();return e.Njj(A.reInitOtherComponent())}),e.k0s()()()()}if(2&y){const b=e.XpG();e.R7$(3),e.SpI(" ",e.bMT(4,29,"lang_student_classroom_profile_student")," "),e.R7$(4),e.Y8G("formControl",b.select),e.R7$(1),e.Y8G("value","")("disabled",!0),e.R7$(1),e.SpI(" ---",e.bMT(10,31,"lang_auto_chon_lop"),"--- "),e.R7$(2),e.Y8G("ngForOf",b.classroomList),e.R7$(2),e.Y8G("studentObj",b.studentObj)("classroomObj",b.classroomObj)("classroomList",b.classroomList)("classroomId",b.classroomId)("backToLink",b.backToLink)("paramBackToLink",b.paramBackToLink)("isTeacher",b.isTeacherDashboard),e.R7$(3),e.Y8G("studentId",b.studentId)("isTeacher",b.isTeacherDashboard)("classroomId",b.classroomId)("backToLink",b.backToLink),e.R7$(3),e.Y8G("studentId",b.studentId)("isTeacher",b.isTeacherDashboard)("classroomId",b.classroomId)("backToLink",b.backToLink),e.R7$(2),e.Y8G("ngIf",b.isBusinessDomain),e.R7$(1),e.Y8G("ngIf",b.isBusinessDomain),e.R7$(1),e.Y8G("ngIf",b.isBusinessDomain),e.R7$(3),e.JRh(e.bMT(27,33,"lang_student_academic_results_report")),e.R7$(2),e.Y8G("studentObj",b.studentObj)("classroomId",b.classroomId)("backToLink",b.backToLink)("paramBackToLink",b.paramBackToLink)}}let Be=(()=>{class y extends i.H{reInitOtherComponent(b){this.listExam?.reInitData(),this.listHomework?.reInitData(),b&&this.getData()}selectedClassroom(b){let $=b.value.split("-")[0],A=b.value.split("-")[1],Et=this.commonService.getMyQueryParam("backTo");this.myNavigationWithQueryString((this.isTeacherDashboard?"/admin":"")+"/student/profile-student/"+$+"/"+A,Et?"?backTo="+encodeURIComponent(Et):""),this.reInitOtherComponent()}getData(){this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0}).subscribe($=>{1==$.success?($.data?.studentObj&&$.data?.classroomObj&&$.data.classroomObj.permissionObj&&(this.studentObj=$.data.studentObj,this.classroomObj=$.data.classroomObj),this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.initStatusObj(),this.getData()}constructor(b){super(),this.studentProfileV2Service=b,this.select=new O.MJ("",{nonNullable:!0}),this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink="",this.classroomList=[],this.isTeacherDashboard=!0}static#t=this.\u0275fac=function($){return new($||y)(e.rXU(tt.m_))};static#e=this.\u0275cmp=e.VBU({type:y,selectors:[["azt-student-profile"]],viewQuery:function($,A){if(1&$&&(e.GBs(Ce,5),e.GBs(Ce,5)),2&$){let Et;e.mGM(Et=e.lsd())&&(A.listExam=Et.first),e.mGM(Et=e.lsd())&&(A.listHomework=Et.first)}},inputs:{select:"select",classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink",classroomList:"classroomList",isTeacherDashboard:"isTeacherDashboard"},features:[e.Vt3],decls:3,vars:2,consts:[[3,"currentStatusObj",4,"ngIf","ngIfElse"],["doneLoading",""],[3,"currentStatusObj"],["id","profileStudent",1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","flex","items-center","mb-3","flex-wrap"],[1,"text-xl","font-medium"],[1,"ml-5","box",2,"font-size","12px"],["appearance","outline"],["name","classroom",3,"formControl","selectionChange"],[3,"value","disabled"],[3,"value",4,"ngFor","ngForOf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"studentObj","classroomObj","classroomList","classroomId","backToLink","paramBackToLink","isTeacher","reInitComponentEvent"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","isTeacher","classroomId","backToLink"],["listExam",""],["listHomework",""],["class","mt-5",4,"ngIf"],[1,"mt-4"],[1,"mb-3","text-base","font-medium"],[3,"studentObj","classroomId","backToLink","paramBackToLink","reInitComponentEvent"],[3,"value"],[1,"mt-5"],[3,"studentId","isTeacherRole","selectClassroomId"],[3,"studentId"]],template:function($,A){if(1&$&&(e.DNE(0,Pn,1,1,"azt-loading-effect",0),e.DNE(1,tn,29,35,"ng-template",null,1,e.C5r)),2&$){const Et=e.sdS(2);e.Y8G("ngIf",A.statusObj.loading)("ngIfElse",Et)}},dependencies:[s.Sq,s.bT,Fe.wT,Me.rl,zt.VO,O.BC,O.l_,Rt.K,nt,lt,Te,R,te,un,Ce,K.wp],encapsulation:2})}return y})()},20378:(Re,Bt,g)=>{g.d(Bt,{gu:()=>To,wn:()=>ba,T_:()=>va});var O=g(73022),i=g(26860),e=g(29666);class tt extends Error{}class a extends tt{constructor(l){super(`Invalid DateTime: ${l.toMessage()}`)}}class t extends tt{constructor(l){super(`Invalid Duration: ${l.toMessage()}`)}}class T extends tt{constructor(l){super(`Invalid Interval: ${l.toMessage()}`)}}class C extends tt{constructor(l){super(`Invalid unit ${l}`),Object.setPrototypeOf(this,C.prototype)}}class s extends tt{constructor(l){super(`${l} is an invalid or unknown zone specifier`),Object.setPrototypeOf(this,s.prototype)}}class Ct extends tt{constructor(l){super(l),Object.setPrototypeOf(this,Ct.prototype)}}class wt extends tt{constructor(l){super(l),Object.setPrototypeOf(this,wt.prototype)}}class Rt extends tt{constructor(){super("Zone is an abstract class"),Object.setPrototypeOf(this,Rt.prototype)}}class xt{get type(){throw new Rt}get ianaName(){return this.name}get name(){throw new Rt}get isUniversal(){throw new Rt}offsetName(l,o){throw new Rt}formatOffset(l,o){throw new Rt}offset(l){throw new Rt}equals(l){throw new Rt}get isValid(){throw new Rt}}var K=Intl;let dt={};const at={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let $t={};class H extends xt{static create(l){return $t[l]||($t[l]=new H(l)),$t[l]}static resetCache(){$t={},dt={}}static isValidSpecifier(l){return this.isValidZone(l)}static isValidZone(l){if(!l)return!1;try{return new K.DateTimeFormat("en-US",{timeZone:l}).format(),!0}catch{return!1}}constructor(l){super(),this._zoneName=l,this._valid=H.isValidZone(l)}get type(){return"iana"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(l,{format:o,locale:c}={}){return b(l,o,c,this.name)}formatOffset(l,o){return ie(this.offset(l),o)}offset(l){const o=new Date(l);if(isNaN(+o))return NaN;const c=function(Pt){if(!dt[Pt])try{dt[Pt]=new K.DateTimeFormat("en-US",{hour12:!1,timeZone:Pt,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})}catch{throw new s(Pt)}return dt[Pt]}(this.name);let d;const[h,x,E,N,Q,ct,st]=typeof c.formatToParts==typeof isNaN?function(Pt,Kt){const me=Pt.formatToParts(Kt),he=[];for(let fe=0;fe<me.length;fe++){const{type:se,value:ke}=me[fe],kn=at[se];"era"===se?he[kn]=ke:J(kn)||(he[kn]=parseInt(ke,10))}return he}(c,o):function(Pt,Kt){const me=Pt.format(Kt).replace(/\u200E/g,""),he=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(me),[,fe,se,ke,kn,$n,_i,So]=he;return[ke,fe,se,kn,$n,_i,So]}(c,o);"BC"===N&&(d=1-Math.abs(+h));let ht=+o;const pt=ht%1e3;return ht-=pt>=0?pt:1e3+pt,(tn({year:d||+h,month:+x,day:+E,hour:+(24===Q?0:Q),minute:+ct,second:+st,millisecond:0})-ht)/6e4}equals(l){return"iana"===l.type&&l.name===this.name}get isValid(){return this._valid}}const Y="numeric",B="short",P="long",bt={year:Y,month:Y,day:Y},gt={year:Y,month:B,day:Y},ut={year:Y,month:B,day:Y,weekday:B},vt={year:Y,month:P,day:Y},It={year:Y,month:P,day:Y,weekday:P},Ft={hour:Y,minute:Y},Qt={hour:Y,minute:Y,second:Y},_e={hour:Y,minute:Y,second:Y,timeZoneName:B},be={hour:Y,minute:Y,second:Y,timeZoneName:P},Ce={hour:Y,minute:Y,hourCycle:"h23"},Fe={hour:Y,minute:Y,second:Y,hourCycle:"h23"},Me={hour:Y,minute:Y,second:Y,hourCycle:"h23",timeZoneName:B},zt={hour:Y,minute:Y,second:Y,hourCycle:"h23",timeZoneName:P},qt={year:Y,month:Y,day:Y,hour:Y,minute:Y},yt={year:Y,month:Y,day:Y,hour:Y,minute:Y,second:Y},Nt={year:Y,month:B,day:Y,hour:Y,minute:Y},jt={year:Y,month:B,day:Y,hour:Y,minute:Y,second:Y},le={year:Y,month:B,day:Y,weekday:B,hour:Y,minute:Y},ee={year:Y,month:P,day:Y,hour:Y,minute:Y,timeZoneName:B},U={year:Y,month:P,day:Y,hour:Y,minute:Y,second:Y,timeZoneName:B},Dt={year:Y,month:P,day:Y,weekday:P,hour:Y,minute:Y,timeZoneName:P},F={year:Y,month:P,day:Y,weekday:P,hour:Y,minute:Y,second:Y,timeZoneName:P},ot=["January","February","March","April","May","June","July","August","September","October","November","December"],Gt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Wt=["J","F","M","A","M","J","J","A","S","O","N","D"];function ve(u){switch(u){case"narrow":return[...Wt];case"short":return[...Gt];case"long":return[...ot];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"]}}const ze=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],en=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],cn=["M","T","W","T","F","S","S"];function Ge(u){switch(u){case"narrow":return[...cn];case"short":return[...en];case"long":return[...ze];case"numeric":return["1","2","3","4","5","6","7"]}}const nn=["AM","PM"],mn=["Before Christ","Anno Domini"],_n=["BC","AD"],dn=["B","A"];function on(u){switch(u){case"narrow":return[...dn];case"short":return[..._n];case"long":return[...mn]}}let Ke={},Qe={};function Ze(u,l={}){const o=JSON.stringify([u,l]);let c=Qe[o];return c||(c=new K.DateTimeFormat(u,l),Qe[o]=c),c}let Yt,nt={},X={};function lt(u,l,o,c){return"en"===u.listingMode()?o(l):c(l)}class mt{constructor(l,o,c){const{padTo:d,floor:h}=c,x=function(E,N){var Q={};for(var ct in E)Object.prototype.hasOwnProperty.call(E,ct)&&N.indexOf(ct)<0&&(Q[ct]=E[ct]);if(null!=E&&"function"==typeof Object.getOwnPropertySymbols){var st=0;for(ct=Object.getOwnPropertySymbols(E);st<ct.length;st++)N.indexOf(ct[st])<0&&Object.prototype.propertyIsEnumerable.call(E,ct[st])&&(Q[ct[st]]=E[ct[st]])}return Q}(c,["padTo","floor"]);if(this._padTo=d||0,this._floor=h||!1,!o||Object.keys(x).length>0){const E=Object.assign({useGrouping:!1},c);this._padTo>0&&(E.minimumIntegerDigits=d),this._inf=function(N,Q){const ct=JSON.stringify([N,Q]);let st=nt[ct];return st||(st=new K.NumberFormat(N,Q),nt[ct]=st),st}(l,E)}}format(l){if(this._inf){const o=this._floor?Math.floor(l):l;return this._inf.format(o)}return ge(this._floor?Math.floor(l):Fn(l,3),this._padTo)}}class Vt{get dtf(){return this._dtf}constructor(l,o,c){let d;if(this._opts=c,this._opts.timeZone)this._dt=l;else if("fixed"===l.zone.type){const x=l.offset/60*-1,E=x>=0?`Etc/GMT+${x}`:`Etc/GMT${x}`;0!==l.offset&&H.create(E).isValid?(d=E,this._dt=l):(d="UTC",this._dt=0===l.offset?l:l.setZone("UTC").plus({minutes:l.offset}),this._originalZone=l.zone)}else"system"===l.zone.type?this._dt=l:"iana"===l.zone.type?(this._dt=l,d=l.zone.name):(d="UTC",this._dt=l.setZone("UTC").plus({minutes:l.offset}),this._originalZone=l.zone);const h=Object.assign(Object.assign({},this._opts),{timeZone:this._opts.timeZone||d});this._dtf=Ze(o,h)}format(){return this._originalZone?this.formatToParts().map(({value:l})=>l).join(""):this.dtf.format(this._dt.toJSDate())}formatToParts(){const l=this.dtf.formatToParts(this._dt.toJSDate());return this._originalZone?l.map(o=>{if("timeZoneName"===o.type){const c=this._originalZone.offsetName(this._dt.ts,{locale:this._dt.locale,format:this._opts.timeZoneName});return Object.assign(Object.assign({},o),{value:c})}return o}):l}resolvedOptions(){return this._dtf.resolvedOptions()}}class xe{constructor(l,o,c){this._opts=Object.assign({style:"long"},c),!o&&Xn()&&(this._rtf=function(d,h={}){const x=JSON.stringify([d,h]);let E=X[x];return E||(E=new K.RelativeTimeFormat(d,h),X[x]=E),E}(l,c))}format(l,o){return this._rtf?this._rtf.format(l,o):function(c,d,h="always",x=!1){const E=v.normalizeUnit(c),N={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."],milliseconds:[]}[E],Q=-1===["hours","minutes","seconds"].indexOf(E);if("auto"===h&&Q){const Pt="days"===E;switch(d){case 1:return Pt?"tomorrow":`next ${N[0]}`;case-1:return Pt?"yesterday":`last ${N[0]}`;case 0:return Pt?"today":`this ${N[0]}`}}const ct=Object.is(d,-0)||d<0,st=Math.abs(d),ht=1===st,pt=x?ht?N[1]:N[2]||N[1]:ht?N[0]:E;return ct?`${st} ${pt} ago`:`in ${st} ${pt}`}(o,l,this._opts.numeric,"long"!==this._opts.style)}formatToParts(l,o){return this._rtf?this._rtf.formatToParts(l,o):[]}}let Jt=(()=>{class u{get fastNumbers(){return void 0===this._fastNumbersCached&&(this._fastNumbersCached=this._supportsFastNumbers()),this._fastNumbersCached}constructor(o,c,d,h,x){const[E,N,Q]=function(ct){const st=ct.indexOf("-x-");-1!==st&&(ct=ct.substring(0,st));const ht=ct.indexOf("-u-");if(-1===ht)return[ct];{let pt,Pt;try{pt=Ze(ct).resolvedOptions(),Pt=ct}catch{const fe=ct.substring(0,ht);pt=Ze(fe).resolvedOptions(),Pt=fe}const{numberingSystem:Kt,calendar:me}=pt;return[Pt,Kt,me]}}(o);var ct,st,ht;this.locale=E,this.numberingSystem=c||N,this.outputCalendar=d||Q,this._intl=(ct=this.locale,st=this.numberingSystem,((ht=this.outputCalendar)||st)&&(ct.includes("-u-")||(ct+="-u"),ht&&(ct+=`-ca-${ht}`),st&&(ct+=`-nu-${st}`)),ct),this._weekSettings=h,this._weekdaysCache={format:{},standalone:{}},this._monthsCache={format:{},standalone:{}},this._meridiemCache=void 0,this._eraCache={},this._specifiedLocale=x,this._fastNumbersCached=void 0}static create(o,c,d,h,x=!1){const E=o||At.defaultLocale,N=E||(x?"en-US":(Yt||(Yt=(new K.DateTimeFormat).resolvedOptions().locale),Yt)),Q=c||At.defaultNumberingSystem,ct=d||At.defaultOutputCalendar,st=zn(h)||At.defaultWeekSettings;return new u(N,Q,ct,st,E)}static fromObject({locale:o,numberingSystem:c,outputCalendar:d,weekSettings:h}={}){return u.create(o,c,d,h)}static fromOpts(o){return u.create(o.locale,o.numberingSystem,o.outputCalendar,o.weekSettings,o.defaultToEN)}static resetCache(){Yt=void 0,Ke={},Qe={},nt={},X={}}clone(o){return o&&0!==Object.getOwnPropertyNames(o).length?u.create(o.locale||this._specifiedLocale,o.numberingSystem||this.numberingSystem,o.outputCalendar||this.outputCalendar,zn(o.weekSettings)||this._weekSettings,o.defaultToEN||!1):this}dtFormatter(o,c={}){return new Vt(o,this._intl,c)}equals(o){return this.locale===o.locale&&this.numberingSystem===o.numberingSystem&&this.outputCalendar===o.outputCalendar}eras(o){return lt(this,o,on,c=>{const d={era:c};return this._eraCache[c]||(this._eraCache[c]=[_t.utc(-40,1,1),_t.utc(2017,1,1)].map(h=>this.extract(h,d,"era"))),this._eraCache[c]})}extract(o,c,d){const h=this.dtFormatter(o,c).formatToParts().find(x=>x.type.toLowerCase()===d.toLowerCase());if(!h)throw new Error(`Invalid extract field ${d}`);return h.value}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getStartOfWeek(){return this.getWeekSettings().firstDay}getWeekSettings(){return this._weekSettings?this._weekSettings:Un()?this._getCachedWeekInfo(this.locale):In}getWeekendDays(){return this.getWeekSettings().weekend}isEnglish(){return!!~["en","en-us"].indexOf(this.locale.toLowerCase())||new K.DateTimeFormat(this._intl).resolvedOptions().locale.startsWith("en-us")}listFormatter(o={}){return function(c,d={}){const h=JSON.stringify([c,d]);let x=Ke[h];return x||(x=new K.ListFormat(c,d),Ke[h]=x),x}(this._intl,o)}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}meridiems(){return lt(this,"long",()=>nn,()=>(void 0===this._meridiemCache&&(this._meridiemCache=[_t.utc(2016,11,13,9),_t.utc(2016,11,13,19)].map(o=>this.extract(o,{hour:"numeric",hourCycle:"h12"},"dayPeriod"))),this._meridiemCache))}months(o,c=!1){return lt(this,o,ve,d=>{const h=c?{month:d,day:"numeric"}:{month:d},x=c?"format":"standalone";return this._monthsCache[x][d]||(this._monthsCache[x][d]=function(E){const N=[];for(let Q=1;Q<=12;Q++){const ct=_t.utc(2009,Q,1);N.push(E(ct))}return N}(E=>this.extract(E,h,"month"))),this._monthsCache[x][d]})}numberFormatter(o={}){return new mt(this._intl,this.fastNumbers,o)}redefaultToEN(o={}){return this.clone(Object.assign(Object.assign({},o),{defaultToEN:!0}))}redefaultToSystem(o={}){return this.clone(Object.assign(Object.assign({},o),{defaultToEN:!1}))}relFormatter(o={}){return new xe(this._intl,this.isEnglish(),o)}weekdays(o,c=!1){return lt(this,o,Ge,d=>{const h=c?{weekday:d,year:"numeric",month:"long",day:"numeric"}:{weekday:d},x=c?"format":"standalone";return this._weekdaysCache[x][d]||(this._weekdaysCache[x][d]=function(E){const N=[];for(let Q=1;Q<=7;Q++){const ct=_t.utc(2016,11,13+Q);N.push(E(ct))}return N}(E=>this.extract(E,h,"weekday"))),this._weekdaysCache[x][d]})}_getCachedWeekInfo(o){let c=u._weekInfoCache[o];if(!c){const d=new K.Locale(o);c="getWeekInfo"in d?d.getWeekInfo():d.weekInfo,u._weekInfoCache[o]=c}return c}_supportsFastNumbers(){return(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===K.DateTimeFormat(this._intl).resolvedOptions().numberingSystem)}}return u._weekInfoCache={},u})(),Te=null;class ae extends xt{static get utcInstance(){return null===Te&&(Te=new ae(0)),Te}get isValid(){return!0}get ianaName(){return 0===this._fixed?"Etc/UTC":`Etc/GMT${ie(-this._fixed,"narrow")}`}get name(){return 0===this._fixed?"UTC":`UTC${ie(this._fixed,"narrow")}`}get type(){return"fixed"}get isUniversal(){return!0}constructor(l){super(),this._fixed=l}static instance(l){return 0===l?ae.utcInstance:new ae(l)}static parseSpecifier(l){if(l){const o=l.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(o)return new ae($(o[1],o[2]))}return null}offsetName(){return this.name}formatOffset(l,o){return ie(this._fixed,o)}offset(){return this._fixed}equals(l){return"fixed"===l.type&&l._fixed===this._fixed}}class De extends xt{constructor(l){super(),this._zoneName=l,Object.setPrototypeOf(this,De.prototype)}get type(){return"invalid"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let Zt=null;class pe extends xt{static get instance(){return null===Zt&&(Zt=new pe),Zt}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(l,{format:o,locale:c}){return b(l,o,c)}formatOffset(l,o){return ie(this.offset(l),o)}offset(l){return-new Date(l).getTimezoneOffset()}equals(l){return"system"===l.type}get isValid(){return!0}}const Se=(u,l)=>{if(J(u)||null===u)return l;if(u instanceof xt)return u;if("string"==typeof u){const o=u.toLowerCase();return"default"===o?l:"local"===o||"system"===o?pe.instance:"utc"===o||"gmt"===o?ae.utcInstance:ae.parseSpecifier(o)||H.create(u)}return qe(u)?ae.instance(u):"object"==typeof u&&"offset"in u&&"function"==typeof u.offset?u:new De(u)};let Pe,Ae,V,kt,j=()=>Date.now(),Z="system",q=60,Tt=!1;class At{static set defaultLocale(l){Pe=l}static get defaultLocale(){return Pe}static set defaultNumberingSystem(l){Ae=l}static get defaultNumberingSystem(){return Ae}static set defaultOutputCalendar(l){V=l}static get defaultOutputCalendar(){return V}static set defaultWeekSettings(l){kt=zn(l)}static get defaultWeekSettings(){return kt}static set defaultZone(l){Z=l}static get defaultZone(){return Se(Z,pe.instance)}static set defaultZoneLike(l){Z=l}static set now(l){j=l}static get now(){return j}static set throwOnInvalid(l){Tt=l}static get throwOnInvalid(){return Tt}static set twoDigitCutoffYear(l){q=l%100}static get twoDigitCutoffYear(){return q}static resetCaches(){Jt.resetCache(),H.resetCache()}}class ne{constructor(l,o){this.reason=l,this.explanation=o,this._formattedExplanation="",o&&(this._formattedExplanation=`: ${o}`)}toMessage(){return`${this.reason}${this._formattedExplanation}`}}const ue=[0,31,59,90,120,151,181,212,243,273,304,334],ye=[0,31,60,91,121,152,182,213,244,274,305,335];function je(u,l){return new ne("unit out of range",`you specified ${l} (of type ${typeof l}) as a ${u}, which is invalid`)}function sn(u,l,o){return o+(xn(u)?ye:ue)[l-1]}function Rn(u,l){const o=xn(u)?ye:ue,c=o.findIndex(d=>d<l);return{month:c+1,day:l-o[c]}}function Cn(u,l,o){const c=new Date(Date.UTC(u,l-1,o));u<100&&u>=0&&c.setUTCFullYear(c.getUTCFullYear()-1900);const d=c.getUTCDay();return 0===d?7:d}function pn(u,l=In.minimalDays,o=In.firstDay){const{year:c,month:d,day:h}=u,x=sn(c,d,h),E=Ot(Cn(c,d,h),o);let N,Q=Math.floor((x-E+14-l)/7);return Q<1?(N=c-1,Q=y(N,l,o)):Q>y(c,l,o)?(N=c+1,Q=1):N=c,Object.assign({weekYear:N,weekNumber:Q,weekday:E},Je(u))}function D(u,l=In.minimalDays,o=In.firstDay){const{weekYear:c,weekNumber:d,weekday:h}=u,x=Ot(Cn(c,1,l),o),E=Ye(c);let N,Q=7*d+h-x-7+l;Q<1?(N=c-1,Q+=Ye(N)):Q>E?(N=c+1,Q-=Ye(c)):N=c;const{month:ct,day:st}=Rn(N,Q);return Object.assign({year:N,month:ct,day:st},Je(u))}function Lt(u){const{year:l,month:o,day:c}=u,d=sn(l,o,c);return Object.assign({year:l,ordinal:d},Je(u))}function R(u){const{year:l,ordinal:o}=u,{month:c,day:d}=Rn(l,o);return Object.assign({year:l,month:c,day:d},Je(u))}function M(u){const l=Ne(u.year),o=Le(u.month,1,12),c=Le(u.day,1,Tn(u.year,u.month));return l?o?!c&&je("day",u.day):je("month",u.month):je("year",u.year)}function w(u){const{hour:l,minute:o,second:c,millisecond:d}=u,h=Le(l,0,23)||24===l&&0===o&&0===c&&0===d,x=Le(o,0,59),E=Le(c,0,59),N=Le(d,0,999);return h?x?E?!N&&je("millisecond",d):je("second",c):je("minute",o):je("hour",l)}function Ot(u,l){return(u-l+7)%7+1}function de(u,l){if(te(u.localWeekday)||te(u.localWeekNumber)||te(u.localWeekYear)){if(te(u.weekday)||te(u.weekNumber)||te(u.weekYear))throw new Ct("Cannot mix locale-based week fields with ISO-based week fields");return te(u.localWeekday)&&(u.weekday=u.localWeekday),te(u.localWeekNumber)&&(u.weekNumber=u.localWeekNumber),te(u.localWeekYear)&&(u.weekYear=u.localWeekYear),delete u.localWeekday,delete u.localWeekNumber,delete u.localWeekYear,{minDaysInFirstWeek:l.getMinDaysInFirstWeek(),startOfWeek:l.getStartOfWeek()}}return{minDaysInFirstWeek:In.minimalDays,startOfWeek:In.firstDay}}function te(u){return void 0!==u}function J(u){return void 0===u}function qe(u){return"number"==typeof u}function Ne(u){return qe(u)&&u%1==0}function Xn(){try{return void 0!==K&&!!K.RelativeTimeFormat}catch{return!1}}function Un(){try{return void 0!==K&&!!K.Locale&&("weekInfo"in K.Locale.prototype||"getWeekInfo"in K.Locale.prototype)}catch{return!1}}function gn(u,l,o){if(0!==u.length)return u.reduce((c,d)=>{const h=[l(d),d];return o(c[0],h[0])===c[0]?c:h},[l(u[0]),u[0]])[1]}function zn(u){if(u){if("object"!=typeof u)throw new wt("Week settings must be an object");if(!Le(u.firstDay,1,7)||!Le(u.minimalDays,1,7)||!Array.isArray(u.weekend)||u.weekend.some(l=>!Le(l,1,7)))throw new wt("Invalid week settings");return{firstDay:u.firstDay,minimalDays:u.minimalDays,weekend:u.weekend}}}function Le(u,l,o){return Ne(u)&&u>=l&&u<=o}function ge(u,l=2){const o=+u<0?"-":"",c=o?-1*+u:u;let d;return d=c.toString().length<l?("0".repeat(l)+c).slice(-l):c.toString(),`${o}${d}`}function an(u){if(u)return parseInt(u,10)}function un(u){if(u)return parseFloat(u)}function Pn(u){if(!J(u)&&null!==u&&""!==u){const l=1e3*parseFloat("0."+u);return Math.floor(l)}}function Fn(u,l,o=!1){const c=Math.pow(10,l);return(o?Math.trunc:Math.round)(u*c)/c}function xn(u){return u%4==0&&(u%100!=0||u%400==0)}function Ye(u){return xn(u)?366:365}function Tn(u,l){const o=(c=l-1)-12*Math.floor(c/12)+1;var c;return[31,xn(u+(l-o)/12)?29:28,31,30,31,30,31,31,30,31,30,31][o-1]}function tn(u){let l=Date.UTC(u.year,u.month-1,u.day,u.hour,u.minute,u.second,u.millisecond);return u.year<100&&u.year>=0&&(l=new Date(l),l.setUTCFullYear(u.year,u.month-1,u.day)),+l}function Be(u,l,o){return-Ot(Cn(u,1,l),o)+l-1}function y(u,l=4,o=1){const c=Be(u,l,o),d=Be(u+1,l,o);return(Ye(u)-c+d)/7}function ft(u){return u>99?u:u>At.twoDigitCutoffYear?1900+u:2e3+u}function b(u,l,o,c){const d=new Date(u),x=Object.assign({timeZoneName:l},{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:c}),E=new K.DateTimeFormat(o,x).formatToParts(d).find(N=>"timezonename"===N.type.toLowerCase());return E?E.value:null}function $(u,l){let o=parseInt(u,10);Number.isNaN(o)&&(o=0);const c=parseInt(l,10)||0;return 60*o+(o<0||Object.is(o,-0)?-c:c)}function A(u){const l=Number(u);if("boolean"==typeof u||""===u||Number.isNaN(l))throw new wt(`Invalid unit value ${u}`);return l}function Et(u,l){return Object.keys(u).reduce((o,c)=>(null!=u[c]&&(o[l(c)]=A(u[c])),o),{})}function ie(u,l){const o=Math.trunc(Math.abs(u/60)),c=Math.trunc(Math.abs(u%60)),d=u>=0?"+":"-";switch(l){case"short":return`${d}${ge(o,2)}:${ge(c,2)}`;case"narrow":return`${d}${o}${c>0?`:${c}`:""}`;case"techie":return`${d}${ge(o,2)}${ge(c,2)}`;default:throw new RangeError(`Value format ${l} is out of range for property format`)}}function Je(u){return l=u,["hour","minute","second","millisecond"].reduce((c,d)=>(c[d]=l[d],c),{});var l}const Ve=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Wn=Ve.slice(0).reverse(),Qn=["years","months","days","hours","minutes","seconds","milliseconds"],pi={year:"year",years:"year",quarter:"quarter",quarters:"quarter",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",localweeknumber:"localWeekNumber",localweeknumbers:"localWeekNumber",localweekday:"localWeekday",localweekdays:"localWeekday",localweekyear:"localWeekYear",localweekyears:"localWeekYear",minute:"minute",minutes:"minute",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"},In={firstDay:1,minimalDays:4,weekend:[6,7]};function gi(u,l){let o="";for(const c of u)o+=c.literal?c.val:l(c.val);return o}const hi={D:bt,DD:gt,DDD:vt,DDDD:It,t:Ft,tt:Qt,ttt:_e,tttt:be,T:Ce,TT:Fe,TTT:Me,TTTT:zt,f:qt,ff:Nt,fff:ee,ffff:Dt,F:yt,FF:jt,FFF:U,FFFF:F};class Ie{constructor(l,o){this._opts=o,this._loc=l,this._systemLoc=void 0}static create(l,o={}){return new Ie(l,o)}static macroTokenToFormatOpts(l){return hi[l]}static parseFormat(l){let o=null,c="",d=!1;const h=[];for(let x=0;x<l.length;x++){const E=l.charAt(x);"'"===E?(c.length>0&&h.push({literal:d||/^\s+$/.test(c),val:c}),o=null,c="",d=!d):d||E===o?c+=E:(c.length>0&&h.push({literal:/^\s+$/.test(c),val:c}),c=E,o=E)}return c.length>0&&h.push({literal:d||/^\s+$/.test(c),val:c}),h}dtFormatter(l,o={}){return this._loc.dtFormatter(l,Object.assign(Object.assign({},this._opts),o))}formatDateTime(l,o){return this.dtFormatter(l,o).format()}formatDateTimeFromString(l,o){const c="en"===this._loc.listingMode(),d=this._loc.outputCalendar&&"gregory"!==this._loc.outputCalendar,h=(ht,pt)=>this._loc.extract(l,ht,pt),x=ht=>l.isOffsetFixed&&0===l.offset&&ht.allowZ?"Z":l.isValid?l.zone.formatOffset(l.ts,ht.format):"",N=(ht,pt)=>{return c?(Pt=l,ve(ht)[Pt.month-1]):h(pt?{month:ht}:{month:ht,day:"numeric"},"month");var Pt},Q=(ht,pt)=>{return c?(Pt=l,Ge(ht)[Pt.weekday-1]):h(pt?{weekday:ht}:{weekday:ht,month:"long",day:"numeric"},"weekday");var Pt},ct=ht=>{const pt=Ie.macroTokenToFormatOpts(ht);return pt?this.formatWithSystemDefault(l,pt):ht},st=ht=>{return c?(pt=l,on(ht)[pt.year<0?0:1]):h({era:ht},"era");var pt};return gi(Ie.parseFormat(o),ht=>{switch(ht){case"S":return this.num(l.millisecond);case"u":case"SSS":return this.num(l.millisecond,3);case"s":return this.num(l.second);case"ss":return this.num(l.second,2);case"uu":return this.num(Math.floor(l.millisecond/10),2);case"uuu":return this.num(Math.floor(l.millisecond/100));case"m":return this.num(l.minute);case"mm":return this.num(l.minute,2);case"h":return this.num(l.hour%12==0?12:l.hour%12);case"hh":return this.num(l.hour%12==0?12:l.hour%12,2);case"H":return this.num(l.hour);case"HH":return this.num(l.hour,2);case"Z":return x({format:"narrow",allowZ:this._opts.allowZ});case"ZZ":return x({format:"short",allowZ:this._opts.allowZ});case"ZZZ":return x({format:"techie",allowZ:this._opts.allowZ});case"ZZZZ":return l.zone.offsetName(l.ts,{format:"short",locale:this._loc.locale})||"";case"ZZZZZ":return l.zone.offsetName(l.ts,{format:"long",locale:this._loc.locale})||"";case"z":return l.zoneName||"";case"a":return c?nn[l.hour<12?0:1]:h({hour:"numeric",hourCycle:"h12"},"dayPeriod");case"d":return d?h({day:"numeric"},"day"):this.num(l.day);case"dd":return d?h({day:"2-digit"},"day"):this.num(l.day,2);case"c":case"E":return this.num(l.weekday);case"ccc":return Q("short",!0);case"cccc":return Q("long",!0);case"ccccc":return Q("narrow",!0);case"EEE":return Q("short",!1);case"EEEE":return Q("long",!1);case"EEEEE":return Q("narrow",!1);case"L":return d?h({month:"numeric",day:"numeric"},"month"):this.num(l.month);case"LL":return d?h({month:"2-digit",day:"numeric"},"month"):this.num(l.month,2);case"LLL":return N("short",!0);case"LLLL":return N("long",!0);case"LLLLL":return N("narrow",!0);case"M":return d?h({month:"numeric"},"month"):this.num(l.month);case"MM":return d?h({month:"2-digit"},"month"):this.num(l.month,2);case"MMM":return N("short",!1);case"MMMM":return N("long",!1);case"MMMMM":return N("narrow",!1);case"y":return d?h({year:"numeric"},"year"):this.num(l.year);case"yy":return d?h({year:"2-digit"},"year"):this.num(parseInt(l.year.toString().slice(-2),10),2);case"yyyy":return d?h({year:"numeric"},"year"):this.num(l.year,4);case"yyyyyy":return d?h({year:"numeric"},"year"):this.num(l.year,6);case"G":return st("short");case"GG":return st("long");case"GGGGG":return st("narrow");case"kk":return this.num(parseInt(l.weekYear.toString().slice(-2),10),2);case"kkkk":return this.num(l.weekYear,4);case"W":return this.num(l.weekNumber);case"WW":return this.num(l.weekNumber,2);case"o":return this.num(l.ordinal);case"ooo":return this.num(l.ordinal,3);case"q":return this.num(l.quarter);case"qq":return this.num(l.quarter,2);case"X":return this.num(Math.floor(l.ts/1e3));case"x":return this.num(l.ts);default:return ct(ht)}})}formatDateTimeParts(l,o){return this.dtFormatter(l,o).formatToParts()}formatDurationFromString(l,o){const c=x=>{switch(x[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"M":return"months";case"y":return"years";default:return}},d=Ie.parseFormat(o),h=d.reduce((x,{literal:E,val:N})=>E?x:x.concat(N),[]);return gi(d,(x=>E=>{const N=c(E);return N?this.num(x.get(N),E.length):E})(l.shiftTo(...h.map(c).filter(x=>!!x))))}formatInterval(l,o={}){if(!l.isValid)throw Error("Invalid Interval provided!");return this.dtFormatter(l.start,o).dtf.formatRange(l.start.toJSDate(),l.end.toJSDate())}formatWithSystemDefault(l,o){return void 0===this._systemLoc&&(this._systemLoc=this._loc.redefaultToSystem()),this._systemLoc.dtFormatter(l,Object.assign(Object.assign({},this._opts),o)).format()}num(l,o=0){if(this._opts.forceSimple)return ge(l,o);const c=Object.assign({},this._opts);return o>0&&(c.padTo=o),this._loc.numberFormatter(c).format(l)}resolvedOptions(l,o={}){return this.dtFormatter(l,o).resolvedOptions()}}function Sn(...u){const l=u.reduce((o,c)=>o+c.source,"");return RegExp(`^${l}$`)}function Dn(...u){return l=>u.reduce(([o,c,d],h)=>{const[x,E,N]=h(l,d);return[Object.assign(Object.assign({},o),x),E||c,N]},[{},null,1]).slice(0,2)}function Mn(u,...l){if(null==u)return[null,null];for(const[o,c]of l){const d=o.exec(u);if(d)return c(d)}return[null,null]}function fi(...u){return(l,o)=>{const c={};let d;for(d=0;d<u.length;d++)c[u[d]]=an(l[o+d]);return[c,null,o+d]}}const bi=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,vi=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Zn=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ki=RegExp(`${Zn.source}(?:${vi.source}?(?:\\[(${bi.source})\\])?)?`),qn=RegExp(`(?:T${ki.source})?`),zi=fi("weekYear","weekNumber","weekday"),Pi=fi("year","ordinal"),Ci=RegExp(`${Zn.source} ?(?:${vi.source}|(${bi.source}))?`),Ai=RegExp(`(?: ${Ci.source})?`);function yn(u,l,o){return J(u[l])?o:an(u[l])}function Gn(u,l){return[{hour:yn(u,l,0),minute:yn(u,l+1,0),second:yn(u,l+2,0),millisecond:Pn(u[l+3])},null,l+4]}function An(u,l){const o=!u[l]&&!u[l+1],c=$(u[l+1],u[l+2]);return[{},o?null:ae.instance(c),l+3]}function Ln(u,l){return[{},u[l]?H.create(u[l]):null,l+1]}const Li=RegExp(`^T?${Zn.source}$`),Yi=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Bi(u){const[l,o,c,d,h,x,E,N,Q]=u,ct=l.startsWith("-"),st=!!N&&N.startsWith("-"),ht=(pt,Pt=!1)=>"number"==typeof pt&&(Pt||pt&&ct)?-pt:pt;return[{years:ht(un(o)),months:ht(un(c)),weeks:ht(un(d)),days:ht(un(h)),hours:ht(un(x)),minutes:ht(un(E)),seconds:ht(un(N),"-0"===N),milliseconds:ht(Pn(Q),st)}]}const Vi={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ti(u,l,o,c,d,h,x){let E;return u&&(E=u.length>3?ze.indexOf(u)+1:en.indexOf(u)+1),{year:2===l.length?ft(an(l)):an(l),month:Gt.indexOf(o)+1,day:an(c),hour:an(d),minute:an(h),second:an(x),weekday:E}}const Xi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Ui(u){const[,l,o,c,d,h,x,E,N,Q,ct,st]=u,ht=ti(l,d,c,o,h,x,E);let pt;return pt=N?Vi[N]:Q?0:$(ct,st),[ht,new ae(pt)]}const Wi=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Ji=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Hi=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function xi(u){const[,l,o,c,d,h,x,E]=u;return[ti(l,d,c,o,h,x,E),ae.utcInstance]}function Ki(u){const[,l,o,c,d,h,x,E]=u;return[ti(l,E,o,c,d,h,x),ae.utcInstance]}const Ti=Sn(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,qn),Ii=Sn(/(\d{4})-?W(\d\d)(?:-?(\d))?/,qn),Qi=Sn(/(\d{4})-?(\d{3})/,qn),Zi=Sn(ki),Si=Dn(function(u,l){return[{year:yn(u,l,0),month:yn(u,l+1,1),day:yn(u,l+2,1)},null,l+3]},Gn,An,Ln),qi=Dn(zi,Gn,An,Ln),to=Dn(Pi,Gn,An,Ln),eo=Dn(Gn,An,Ln),Jn=Sn(/(\d{4})-(\d\d)-(\d\d)/,Ai),no=Sn(Ci),io=Dn(Gn,An,Ln),yi={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},oo=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},yi),W=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},yi);function p(u,l){var o;let c=null!==(o=l.milliseconds)&&void 0!==o?o:0;for(const d of Wn.slice(1))l[d]&&(c+=l[d]*u[d].milliseconds);return c}class v{static get _INVALID(){return"Invalid Duration"}get conversionAccuracy(){return this._conversionAccuracy}get days(){return this.isValid?this._values.days||0:NaN}get hours(){return this.isValid?this._values.hours||0:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this._invalid}get locale(){return this.isValid?this._loc.locale:void 0}get matrix(){return this._matrix}get milliseconds(){return this.isValid?this._values.milliseconds||0:NaN}get minutes(){return this.isValid?this._values.minutes||0:NaN}get months(){return this.isValid?this._values.months||0:NaN}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get quarters(){return this.isValid?this._values.quarters||0:NaN}get seconds(){return this.isValid?this._values.seconds||0:NaN}get weeks(){return this.isValid?this._values.weeks||0:NaN}get years(){return this.isValid?this._values.years||0:NaN}constructor(l){let o,c;"longterm"===l.conversionAccuracy?(c="longterm",o=W):(c="casual",o=oo),l.matrix&&(o=l.matrix),this._values=l.values||{},this._loc=l.loc||Jt.create(),this._conversionAccuracy=c,this._invalid=l.invalid||null,this._matrix=o,this._isLuxonDuration=!0}static fromDurationLike(l){if(qe(l))return v.fromMillis(l);if(v.isDuration(l))return l;if("object"==typeof l)return v.fromObject(l);throw new wt(`Unknown duration argument ${l} of type ${typeof l}`)}static fromISO(l,o){const[c]=Mn(l,[Yi,Bi]);return c?v.fromObject(c,o):v.invalid("unparsable",`the input "${l}" can't be parsed as ISO 8601`)}static fromISOTime(l,o={}){const[c]=Mn(l,[Li,Dn(Gn)]);return c?v.fromObject(c,o):v.invalid("unparsable",`the input "${l}" can't be parsed as ISO 8601`)}static fromMillis(l,o={}){return v.fromObject({milliseconds:l},o)}static fromObject(l,o={}){if(null==l||"object"!=typeof l)throw new wt("Duration.fromObject: argument expected to be an object, got "+(null===l?"null":typeof l));return new v({values:Et(l,v.normalizeUnit),loc:Jt.fromObject(o),conversionAccuracy:o.conversionAccuracy,matrix:o.matrix})}static invalid(l,o){if(!l)throw new wt("need to specify a reason the Duration is invalid");const c=l instanceof ne?l:new ne(l,o);if(At.throwOnInvalid)throw new t(c);return new v({invalid:c})}static isDuration(l){return!!l&&l._isLuxonDuration||!1}static normalizeUnit(l){const o={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",localWeekNumber:"localWeekNumbers",localWeekYear:"localWeekYears",localWeekday:"localWeekdays",localWeekNumbers:"localWeekNumbers",localWeekYears:"localWeekYears",localWeekdays:"localWeekdays",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[l];if(!o)throw new C(l);return o}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this._values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}as(l){return this.shiftTo(l).get(l)}equals(l){if(!this.isValid||!l.isValid||!this._loc.equals(l._loc))return!1;for(const d of Ve)if(c=l._values[d],!(void 0===(o=this._values[d])||0===o?void 0===c||0===c:o===c))return!1;var o,c;return!0}get(l){return this[v.normalizeUnit(l)]}getMaxUnit(l=!1){const o=l?Qn:Ve,c=this.shiftTo(...o).toObject();return o.find(d=>(c[d]||0)>0)||Wn[0]}mapUnits(l){if(!this.isValid)return this;const o={};return Object.keys(this._values).forEach(c=>{o[c]=A(l(this._values[c],c))}),this._clone(this,{values:o},!0)}minus(l){if(!this.isValid)return this;const o=v.fromDurationLike(l);return this.plus(o.negate())}negate(){if(!this.isValid)return this;const l={};return Object.keys(this._values).forEach(o=>{l[o]=0===this._values[o]?0:-this._values[o]}),this._clone(this,{values:l},!0)}normalize(){if(!this.isValid)return this;const l=this.toObject();return function(o,c){const d=p(o,c)<0?-1:1;Wn.reduce((h,x)=>{if(J(c[x]))return h;if(h){const N=o[x][h],Q=Math.floor(c[h]*d/N);c[x]+=Q*d,c[h]-=Q*N*d}return x},null),Ve.reduce((h,x)=>{if(J(c[x]))return h;if(h){const E=c[h]%1;c[h]-=E,c[x]+=E*o[h][x]}return x},null)}(this._matrix,l),this._clone(this,{values:l},!0)}plus(l){if(!this.isValid)return this;const o=v.fromDurationLike(l),c={};return Ve.forEach(d=>{void 0===o._values[d]&&void 0===this._values[d]||(c[d]=o.get(d)+this.get(d))}),this._clone(this,{values:c},!0)}reconfigure({locale:l,numberingSystem:o,conversionAccuracy:c,matrix:d}={}){const h={loc:this._loc.clone({locale:l,numberingSystem:o}),matrix:d,conversionAccuracy:c};return this._clone(this,h)}rescale(){if(!this.isValid)return this;const l=function(o={}){return Object.entries(o).reduce((c,[d,h])=>(0!==h&&(c[d]=h),c),{})}(this.normalize().shiftToAll().toObject());return this._clone(this,{values:l},!0)}set(l){if(!this.isValid)return this;const o=Object.assign(Object.assign({},this._values),Et(l,v.normalizeUnit));return this._clone(this,{values:o})}shiftTo(...l){if(!this.isValid||0===l.length)return this;l=l.map(x=>v.normalizeUnit(x));const o={},c={},d=this.toObject();let h;return Ve.forEach(x=>{if(l.indexOf(x)>=0){h=x;let E=0;Object.keys(c).forEach(Q=>{E+=this._matrix[Q][x]*c[Q],c[Q]=0}),qe(d[x])&&(E+=d[x]);const N=Math.trunc(E);o[x]=N,c[x]=(1e3*E-1e3*N)/1e3}else qe(d[x])&&(c[x]=d[x])}),Object.keys(c).forEach(x=>{const E=c[x];0!==E&&(o[h]+=x===h?E:E/this._matrix[h][x])}),this._clone(this,{values:o},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}toFormat(l,o={floor:!0}){const c=Object.assign(Object.assign({},o),{floor:!1!==o.round&&!1!==o.floor});return this.isValid?Ie.create(this._loc,c).formatDurationFromString(this,l):v._INVALID}toHuman(l={}){if(!this.isValid)return v._INVALID;const o=this.getMaxUnit(!0),c=l.onlyHumanUnits?Qn:Ve,d=this.shiftTo(...c.slice(c.indexOf(o))).toObject(),h=c.map(E=>{const N=d[E];return J(N)||0===N?null:this._loc.numberFormatter(Object.assign(Object.assign({style:"unit",unitDisplay:"long"},l),{unit:E.slice(0,-1)})).format(N)}).filter(E=>E),x=Object.assign({type:"conjunction",style:l.listStyle||"narrow"},l);return this._loc.listFormatter(x).format(h)}toISO(){if(!this.isValid)return null;let l="P";return 0!==this.years&&(l+=this.years+"Y"),0===this.months&&0===this.quarters||(l+=this.months+3*this.quarters+"M"),0!==this.weeks&&(l+=this.weeks+"W"),0!==this.days&&(l+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(l+="T"),0!==this.hours&&(l+=this.hours+"H"),0!==this.minutes&&(l+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(l+=Fn(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===l&&(l+="T0S"),l}toISOTime(l={}){if(!this.isValid)return null;const o=this.toMillis();return o<0||o>=864e5?null:(l=Object.assign(Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},l),{includeOffset:!1}),_t.fromMillis(o,{zone:"UTC"}).toISOTime(l))}toJSON(){return this.toISO()}toMillis(){return this.isValid?p(this.matrix,this._values):NaN}toObject(){return this.isValid?Object.assign({},this._values):{}}toString(){return this.toISO()}valueOf(){return this.toMillis()}_clone(l,o,c=!1){const d={values:c?o.values:Object.assign(Object.assign({},l._values),o.values||{}),loc:l._loc.clone(o.loc),conversionAccuracy:o.conversionAccuracy||l.conversionAccuracy,matrix:o.matrix||l.matrix};return new v(d)}}const S="Invalid Interval";function G(u){if(_t.isDateTime(u))return u;if(u&&u.valueOf&&qe(u.valueOf()))return _t.fromJSDate(u);if(u&&"object"==typeof u)return _t.fromObject(u);throw new wt(`Unknown datetime argument: ${u}, of type ${typeof u}`)}class z{get end(){return this.isValid?this._e:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this.invalidReason}get start(){return this.isValid?this._s:null}constructor(l){this._s=l.start,this._e=l.end,this._invalid=l.invalid||null,this._isLuxonInterval=!0}static after(l,o){const c=v.fromDurationLike(o),d=G(l);return new z({start:d,end:d?d.plus(c):void 0})}static before(l,o){const c=v.fromDurationLike(o),d=G(l);return new z({start:d?d.minus(c):void 0,end:d})}static fromDateTimes(l,o){const c=G(l),d=G(o);return E=d,((x=c)&&x.isValid?E&&E.isValid?E<x?z.invalid("end before start",`The end of an interval must be after its start, but you had start=${x.toISO()} and end=${E.toISO()}`):void 0:z.invalid("missing or invalid end"):z.invalid("missing or invalid start"))||new z({start:c,end:d});var x,E}static fromISO(l,o={}){const[c,d]=(l||"").split("/",2);if(c&&d){let h,x,E,N;try{h=_t.fromISO(c,o),x=h.isValid}catch{x=!1}try{E=_t.fromISO(d,o),N=E.isValid}catch{N=!1}if(x&&N)return z.fromDateTimes(h,E);if(x){const Q=v.fromISO(d,o);if(Q.isValid)return z.after(h,Q)}else if(N){const Q=v.fromISO(c,o);if(Q.isValid)return z.before(E,Q)}}return z.invalid("unparsable",`the input "${l}" can't be parsed as ISO 8601`)}static invalid(l,o){if(!l)throw new wt("need to specify a reason the Interval is invalid");const c=l instanceof ne?l:new ne(l,o);if(At.throwOnInvalid)throw new T(c);return new z({invalid:c})}static isInterval(l){return!!l&&l._isLuxonInterval||!1}static merge(l){const[o,c]=l.sort((d,h)=>d._s.valueOf()-h._s.valueOf()).reduce(([d,h],x)=>h?h.overlaps(x)||h.abutsStart(x)?[d,h.union(x)]:[d.concat([h]),x]:[d,x],[[],null]);return c&&o.push(c),o}static xor(l){let o=null,c=0;const d=[],h=l.map(E=>[{time:E._s,type:"s"},{time:E._e,type:"e"}]),x=Array.prototype.concat(...h).sort((E,N)=>+E.time-+N.time);for(const E of x)c+="s"===E.type?1:-1,1===c?o=E.time:(o&&o.valueOf()!==E.time.valueOf()&&d.push(z.fromDateTimes(o,E.time)),o=null);return z.merge(d)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this._s.toISO()}, end: ${this._e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}abutsEnd(l){return+l._e==+this._s}abutsStart(l){return+this._e==+l._s}contains(l){return this._s<=l&&this._e>l}count(l="milliseconds",o){if(!this.isValid)return NaN;const c=this.start.startOf(l,o);let d;return d=o?.useLocaleWeeks?this.end.reconfigure({locale:c.locale}):this.end,d=d.startOf(l,o),Math.floor(d.diff(c,l).get(l))+ +(d.valueOf()!==this.end.valueOf())}difference(...l){return z.xor([this].concat(l)).map(o=>this.intersection(o)).filter(o=>o&&!o.isEmpty())}divideEqually(l){return this.isValid?this.splitBy({milliseconds:this.length()/l}).slice(0,l):[]}engulfs(l){return!!this.isValid&&this._s<=l._s&&this._e>=l._e}equals(l){return!(!this.isValid||!l.isValid)&&this._s.equals(l._s)&&this._e.equals(l._e)}hasSame(l){return!!this.isValid&&(this.isEmpty()||this._e.minus(1).hasSame(this._s,l))}intersection(l){if(!this.isValid)return this;const o=this._s>l._s?this._s:l._s,c=this._e<l._e?this._e:l._e;return o>=c?null:z.fromDateTimes(o,c)}isAfter(l){return!!this.isValid&&this._s>l}isBefore(l){return!!this.isValid&&this._e<=l}isEmpty(){return this._s.valueOf()===this._e.valueOf()}length(l="milliseconds"){return this.toDuration(l).get(l)}mapEndpoints(l){return z.fromDateTimes(l(this._s),l(this._e))}overlaps(l){return this._e>l._s&&this._s<l._e}set({start:l,end:o}={}){return this.isValid?z.fromDateTimes(l||this._s,o||this._e):this}splitAt(...l){const o=l.map(G).filter(x=>this.contains(x)).sort((x,E)=>x.toMillis()-E.toMillis()),c=[];let d=this._s,h=0;for(;d<this._e;){const x=o[h]||this._e,E=+x>+this._e?this._e:x;c.push(z.fromDateTimes(d,E)),d=E,h+=1}return c}splitBy(l){const o=v.fromDurationLike(l);if(!this.isValid||!o.isValid||0===o.as("milliseconds"))return[];let c,d=this._s,h=1;const x=[];for(;d<this._e;){const E=this.start.plus(o.mapUnits(N=>N*h));c=+E>+this._e?this._e:E,x.push(z.fromDateTimes(d,c)),d=c,h+=1}return x}toDuration(l="milliseconds",o={}){return this.isValid?this._e.diff(this._s,l,o):v.invalid(this._invalid.reason)}toFormat(l,{separator:o=" - "}={}){return this.isValid?`${this._s.toFormat(l)}${o}${this._e.toFormat(l)}`:S}toISO(l={}){return this.isValid?`${this._s.toISO(l)}/${this._e.toISO(l)}`:S}toISODate(){return this.isValid?`${this._s.toISODate()}/${this._e.toISODate()}`:S}toISOTime(l={}){return this.isValid?`${this._s.toISOTime(l)}/${this._e.toISOTime(l)}`:S}toLocaleString(l=bt,o={}){return this.isValid?Ie.create(this._s.loc.clone(o),l).formatInterval(this):S}toString(){return this.isValid?`[${this._s.toISO()} \u2013 ${this._e.toISO()})`:S}union(l){return this.isValid?z.fromDateTimes(this._s<l._s?this._s:l._s,this._e>l._e?this._e:l._e):this}}class it{static eras(l="short",{locale:o}={}){return Jt.create(o,void 0,"gregory").eras(l)}static features(){return{relative:Xn(),localeWeek:Un()}}static getMinimumDaysInFirstWeek({locale:l,locObj:o}={}){return(o||Jt.create(l)).getMinDaysInFirstWeek()}static getStartOfWeek({locale:l,locObj:o}={}){return(o||Jt.create(l)).getStartOfWeek()}static getWeekendWeekdays({locale:l,locObj:o}={}){return(o||Jt.create(l)).getWeekendDays().slice()}static hasDST(l=At.defaultZone){const o=_t.now().setZone(l).set({month:12});return!l.isUniversal&&o.offset!==o.set({month:6}).offset}static isValidIANAZone(l){return H.isValidZone(l)}static meridiems({locale:l}={}){return Jt.create(l).meridiems()}static months(l="long",{locale:o=null,locObj:c=null,numberingSystem:d=null,outputCalendar:h="gregory"}={}){return(c||Jt.create(o,d,h)).months(l)}static monthsFormat(l="long",{locale:o,locObj:c,numberingSystem:d,outputCalendar:h="gregory"}={}){return(c||Jt.create(o,d,h)).months(l,!0)}static normalizeZone(l){return Se(l,At.defaultZone)}static weekdays(l="long",{locale:o,locObj:c,numberingSystem:d}={}){return(c||Jt.create(o,d)).weekdays(l)}static weekdaysFormat(l="long",{locale:o,locObj:c,numberingSystem:d}={}){return(c||Jt.create(o,d)).weekdays(l,!0)}}function Mt(u,l){const o=d=>d.toUTC(0,{keepLocalTime:!0}).startOf("days").valueOf(),c=o(l)-o(u);return Math.floor(v.fromMillis(c).as("days"))}const Ut={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},He={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ei=Ut.hanidec.replace(/[\[|\]]/g,"").split("");function Xe(u,l=""){return new RegExp(`${Ut[u.numberingSystem||"latn"]}${l}`)}function rn(u,l=(o=>o)){return{regex:u,deser:([o])=>l(function(c){const d=parseInt(c,10);if(!isNaN(d))return d;let h="";for(let x=0;x<c.length;x++){const E=c.charCodeAt(x);if(-1!==c[x].search(Ut.hanidec))h+=ei.indexOf(c[x]);else for(const N in He){const[Q,ct]=He[N];if(E>=Q&&E<=ct){h+=E-Q;break}}}return parseInt(h,10)}(o))}}const yo="[ \xa0]",jo=new RegExp(yo,"g");function as(u){return u.replace(/\./g,"\\.?").replace(jo,yo)}function Oo(u){return u.replace(/\./g,"").replace(jo," ").toLowerCase()}function oe(u,l){return{regex:RegExp(u.map(as).join("|")),deser:([o])=>u.findIndex(c=>Oo(o)===Oo(c))+l}}function Eo(u,l){return{regex:u,deser:([,o,c])=>$(o,c),groups:l}}function wo(u){return{regex:u,deser:([l])=>l}}const rs={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let ro;function ls(u){return!!u&&!!u.invalidReason}function Ro(u,l){return Array.prototype.concat(...u.map(o=>function(c,d){if(c.literal)return c;const h=Mo(Ie.macroTokenToFormatOpts(c.val),d);return null==h||h.includes(void 0)?c:h}(o,l)))}function Fo(u,l,o){const c=Ro(Ie.parseFormat(o),u),d=c.map(x=>function(E,N){const Q=Xe(N),ct=Xe(N,"{2}"),st=Xe(N,"{3}"),ht=Xe(N,"{4}"),pt=Xe(N,"{6}"),Pt=Xe(N,"{1,2}"),Kt=Xe(N,"{1,3}"),me=Xe(N,"{1,6}"),he=Xe(N,"{1,9}"),fe=Xe(N,"{2,4}"),se=Xe(N,"{4,6}"),ke=$n=>{return{regex:RegExp((_i=$n.val,_i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([So])=>So,literal:!0};var _i},kn=($n=>{if(E.literal)return ke($n);switch($n.val){case"G":return oe(N.eras("short"),0);case"GG":return oe(N.eras("long"),0);case"y":return rn(me);case"yy":case"kk":return rn(fe,ft);case"yyyy":case"kkkk":return rn(ht);case"yyyyy":return rn(se);case"yyyyyy":return rn(pt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return rn(Pt);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return rn(ct);case"MMM":return oe(N.months("short",!0),1);case"MMMM":return oe(N.months("long",!0),1);case"LLL":return oe(N.months("short",!1),1);case"LLLL":return oe(N.months("long",!1),1);case"o":case"S":return rn(Kt);case"ooo":case"SSS":return rn(st);case"u":return wo(he);case"a":return oe(N.meridiems(),0);case"E":case"c":return rn(Q);case"EEE":return oe(N.weekdays("short",!1),1);case"EEEE":return oe(N.weekdays("long",!1),1);case"ccc":return oe(N.weekdays("short",!0),1);case"cccc":return oe(N.weekdays("long",!0),1);case"Z":case"ZZ":return Eo(new RegExp(`([+-]${Pt.source})(?::(${ct.source}))?`),2);case"ZZZ":return Eo(new RegExp(`([+-]${Pt.source})(${ct.source})?`),2);case"z":return wo(/[a-z_+-/]{1,256}?/i);default:return ke($n)}})(E)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Object.assign(Object.assign({},kn),{token:E})}(x,u)),h=d.find(ls);if(h)return{input:l,tokens:c,invalidReason:h.invalidReason};{const x=`^${d.map(Pt=>Pt.regex).reduce((Pt,Kt)=>`${Pt}(${Kt.source})`,"")}$`,E=RegExp(x,"i"),[N,Q]=function(pt,Pt,Kt){const me=Pt.exec(pt),he={};if(null!==me){let fe=1;Kt.forEach(se=>{const ke=se.groups?se.groups+1:1;se.literal||(he[se.token.val[0]]=se.deser(me.slice(fe,fe+ke))),fe+=ke})}return[me,he]}(l,E,d),[ct,st,ht]=Q?function(pt){let Pt,Kt=null;return te(pt.z)&&(Kt=H.create(pt.z)),te(pt.Z)&&(Kt||(Kt=new ae(+pt.Z)),Pt=+pt.Z),te(pt.q)&&(pt.M=3*(pt.q-1)+1),te(pt.h)&&(+pt.h<12&&1===pt.a?pt.h=pt.h+12:12===pt.h&&0===pt.a&&(pt.h=0)),0===pt.G&&pt.y&&(pt.y=-pt.y),te(pt.u)&&(pt.S=Pn(pt.u)||0),[Object.keys(pt).reduce((me,he)=>{const fe=(se=>{switch(se){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(he);return fe&&(me[fe]=pt[he]),me},{}),Kt,Pt]}(Q):[null,null,void 0];if("a"in Q&&"H"in Q)throw new Ct("Can't include meridiem when specifying 24-hour format");return{input:l,tokens:c,regex:E,rawMatches:N,matches:Q,result:ct,zone:st,specificOffset:ht}}}function Do(u){return u.replace(/\u202F/g," ")}function Mo(u,l){if(!u)return null;const o=Ie.create(l,u).dtFormatter((void 0===ro&&(ro=_t.fromMillis(1555555555555,{locale:l.locale})),ro)),c=o.formatToParts(),d=o.resolvedOptions();return c.map(h=>function(x,E,N){const{type:Q,value:ct}=x;if("literal"===Q){const Pt=/^\s+$/.test(ct);return{literal:!Pt,val:Pt?" ":ct}}let ht=Q;"hour"===Q&&(ht=null!=E.hour12?E.hour12?"hour12":"hour24":null!=E.hourCycle?"h11"===E.hourCycle||"h12"===E.hourCycle?"hour12":"hour24":N.hour12?"hour12":"hour24");let pt=rs[ht];if("object"==typeof pt&&(pt=pt[E[Q]]),pt)return{literal:!1,val:pt}}(h,u,d))}const lo="Invalid DateTime",Go=864e13;function No(u,l,o){let c=u-60*l*1e3;const d=o.offset(c);if(l===d)return[c,l];c-=60*(d-l)*1e3;const h=o.offset(c);return d===h?[c,d]:[u-60*Math.min(d,h)*1e3,Math.max(d,h)]}function ji(u,l){const o=new Date(u+=60*l*1e3);return{year:o.getUTCFullYear(),month:o.getUTCMonth()+1,day:o.getUTCDate(),hour:o.getUTCHours(),minute:o.getUTCMinutes(),second:o.getUTCSeconds(),millisecond:o.getUTCMilliseconds()}}function Oi(u,l,o){return No(tn(u),l,o)}function ni(u,l,o,c,d,h){const{setZone:x,zone:E}=o;if(u&&0!==Object.keys(u).length||l){const N=l||E,Q=_t.fromObject(u||void 0,Object.assign(Object.assign({},o),{zone:N,specificOffset:h}));return x?Q:Q.setZone(E)}return _t.invalid(new ne("unparsable",`the input "${d}" can't be parsed as ${c}`))}function Ei(u,l,o=!0){return u.isValid?Ie.create(Jt.create("en-US"),{allowZ:o,forceSimple:!0}).formatDateTimeFromString(u,l):null}const $o={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0},cs={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ms={ordinal:1,hour:0,minute:0,second:0,millisecond:0},zo=["year","month","day","hour","minute","second","millisecond"],_s=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Po=["year","ordinal","hour","minute","second","millisecond"];function Ao(u){const l=pi[u.toLowerCase()];if(!l)throw new C(u);return l}class _t{get day(){return this.isValid?this._c.day:NaN}get daysInMonth(){return Tn(this.year,this.month)}get daysInYear(){return this.isValid?Ye(this.year):NaN}get hour(){return this.isValid?this._c.hour:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:void 0}get invalidReason(){return this._invalid?this._invalid.reason:void 0}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return xn(this.year)}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isValid(){return null===this._invalid}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get loc(){return this.isValid?this._loc.clone():void 0}get localWeekNumber(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekYear:NaN}get localWeekday(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekday:NaN}get locale(){return this.isValid?this._loc.locale:void 0}get millisecond(){return this.isValid?this._c.millisecond:NaN}get minute(){return this.isValid?this._c.minute:NaN}get month(){return this.isValid?this._c.month:NaN}get monthLong(){return this.isValid?it.months("long",{locObj:this._loc})[this.month-1]:null}get monthShort(){return this.isValid?it.months("short",{locObj:this._loc})[this.month-1]:null}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get offset(){return this.isValid?+this._o:NaN}get offsetNameLong(){return this.isValid?this.zone.offsetName(this._ts,{format:"long",locale:this.locale}):null}get offsetNameShort(){return this.isValid?this.zone.offsetName(this._ts,{format:"short",locale:this.locale}):null}get ordinal(){return this.isValid?Lt(this._c).ordinal:NaN}get outputCalendar(){return this.isValid?this._loc.outputCalendar:void 0}get quarter(){return this.isValid?Math.ceil(this._c.month/3):NaN}get second(){return this.isValid?this._c.second:NaN}get ts(){return this._ts}get weekNumber(){return this.isValid?this._possiblyCachedWeekData(this).weekNumber:NaN}get weekYear(){return this.isValid?this._possiblyCachedWeekData(this).weekYear:NaN}get weekday(){return this.isValid?this._possiblyCachedWeekData(this).weekday:NaN}get weekdayLong(){return this.isValid?it.weekdays("long",{locObj:this._loc})[this.weekday-1]:null}get weekdayShort(){return this.isValid?it.weekdays("short",{locObj:this._loc})[this.weekday-1]:null}get weeksInLocalWeekYear(){return this.isValid?y(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}get weeksInWeekYear(){return this.isValid?y(this.weekYear):NaN}get year(){return this.isValid?this._c.year:NaN}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}constructor(l){const o=l.zone||At.defaultZone;let c,d,h=l.invalid||(Number.isNaN(l.ts)?new ne("invalid timestamp"):null)||(o.isValid?null:_t._unsupportedZone(o));if(this._ts=J(l.ts)?At.now():l.ts,!h)if(l.old&&l.old.ts===this._ts&&l.old.zone.equals(o))[d,c]=[l.old.c,l.old.o];else{const x=o.offset(this._ts);d=ji(this._ts,x),h=Number.isNaN(d.year)?new ne("invalid input"):null,d=h?void 0:d,c=h?void 0:x}this._zone=o,this._loc=l.loc||Jt.create(),this._invalid=h,this._weekData=null,this._c=d,this._o=c,this._isLuxonDateTime=!0}static expandFormat(l,o={}){return Ro(Ie.parseFormat(l),Jt.fromObject(o)).map(c=>c.val).join("")}static fromFormat(l,o,c={}){if(J(l)||J(o))throw new wt("fromFormat requires an input string and a format");const{locale:d,numberingSystem:h}=c,x=Jt.fromOpts({locale:d,numberingSystem:h,defaultToEN:!0}),[E,N,Q,ct]=function(st,ht,pt){const{result:Pt,zone:Kt,specificOffset:me,invalidReason:he}=Fo(st,Do(ht),Do(pt));return[Pt,Kt,me,he]}(x,l,o);return ct?_t.invalid(ct):ni(E,N||null,c,`format ${o}`,l,Q)}static fromFormatExplain(l,o,c={}){const{locale:d,numberingSystem:h}=c;return Fo(Jt.fromOpts({locale:d,numberingSystem:h,defaultToEN:!0}),l,o)}static fromHTTP(l,o={}){const[c,d]=Mn(l,[Wi,xi],[Ji,xi],[Hi,Ki]);return ni(c,d,o,"HTTP",l)}static fromISO(l,o={}){const[c,d]=Mn(l,[Ti,Si],[Ii,qi],[Qi,to],[Zi,eo]);return ni(c,d,o,"ISO 8601",l)}static fromJSDate(l,o={}){const c="[object Date]"===Object.prototype.toString.call(l)?l.valueOf():NaN;if(Number.isNaN(c))return _t.invalid("invalid input");const h=Se(o.zone,At.defaultZone);return h.isValid?new _t({ts:c,zone:h,loc:Jt.fromObject(o)}):_t.invalid(_t._unsupportedZone(h))}static fromMillis(l,o={}){if(qe(l))return l<-Go||l>Go?_t.invalid("Timestamp out of range"):new _t({ts:l,zone:Se(o.zone,At.defaultZone),loc:Jt.fromObject(o)});throw new wt(`fromMillis requires a numerical input, but received a ${typeof l} with value ${l}`)}static fromObject(l={},o={}){const c=Se(o.zone,At.defaultZone);if(!c.isValid)return _t.invalid(_t._unsupportedZone(c));const d=Jt.fromObject(o),h=Et(l,Ao),x=At.now(),E=qe(o.specificOffset)?o.specificOffset:c.offset(x),N=te(h.ordinal),Q=te(h.year),ct=te(h.month)||te(h.day),st=Q||ct,ht=h.weekYear||h.weekNumber;if((st||N)&&ht)throw new Ct("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(ct&&N)throw new Ct("Can't mix ordinal dates with month/day");const pt=ht||h.weekday&&!st,{minDaysInFirstWeek:Pt,startOfWeek:Kt}=de(h,d),me=ji(x,E),he={containsGregor:st,containsOrdinal:N,loc:d,normalized:h,obj:l,offsetProvis:E,useWeekData:pt,zoneToUse:c};return pt?_t._buildObject(he,_s,cs,pn(me,Pt,Kt)):N?_t._buildObject(he,Po,ms,Lt(me)):_t._buildObject(he,zo,$o,me)}static fromRFC2822(l,o={}){const[c,d]=Mn(l.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[Xi,Ui]);return ni(c,d,o,"RFC 2822",l)}static fromSQL(l,o={}){const[c,d]=Mn(l,[Jn,Si],[no,io]);return ni(c,d,o,"SQL",l)}static fromSeconds(l,o={}){if(!qe(l))throw new wt("fromSeconds requires a numerical input");return new _t({ts:1e3*l,zone:Se(o.zone,At.defaultZone),loc:Jt.fromObject(o)})}static fromString(l,o,c={}){return _t.fromFormat(l,o,c)}static fromStringExplain(l,o,c={}){return _t.fromFormatExplain(l,o,c)}static invalid(l,o){if(!l)throw new wt("need to specify a reason the DateTime is invalid");const c=l instanceof ne?l:new ne(l,o);if(At.throwOnInvalid)throw new a(c);return new _t({invalid:c})}static isDateTime(l){return!(!l||!l._isLuxonDateTime)}static local(...l){const[o,c]=this._lastOpts(l),[d,h,x,E,N,Q,ct]=c;return _t._quickDT({year:d,month:h,day:x,hour:E,minute:N,second:Q,millisecond:ct},o)}static max(...l){if(!l.every(_t.isDateTime))throw new wt("max requires all arguments be DateTimes");return gn(l,o=>o.valueOf(),Math.max)}static min(...l){if(!l.every(_t.isDateTime))throw new wt("min requires all arguments be DateTimes");return gn(l,o=>o.valueOf(),Math.min)}static now(){return new _t({})}static parseFormatForOpts(l,o={}){const c=Mo(l,Jt.fromObject(o));return c?c.map(d=>d?d.val:null).join(""):null}static utc(...l){const[o,c]=this._lastOpts(l),[d,h,x,E,N,Q,ct]=c;return o.zone=ae.utcInstance,this._quickDT({year:d,month:h,day:x,hour:E,minute:N,second:Q,millisecond:ct},o)}static _buildObject(l,o,c,d){let h=!1;o.forEach(st=>{te(l.normalized[st])?h=!0:l.normalized[st]=h?c[st]:d[st]});const x=(l.useWeekData?function(st,ht=4,pt=1){const Pt=Ne(st.weekYear),Kt=Le(st.weekNumber,1,y(st.weekYear,ht,pt)),me=Le(st.weekday,1,7);return Pt?Kt?!me&&je("weekday",st.weekday):je("week",st.weekNumber):je("weekYear",st.weekYear)}(l.normalized):l.containsOrdinal?function(st){const ht=Ne(st.year),pt=Le(st.ordinal,1,Ye(st.year));return ht?!pt&&je("ordinal",st.ordinal):je("year",st.year)}(l.normalized):M(l.normalized))||w(l.normalized);if(x)return _t.invalid(x);const E=l.useWeekData?D(l.normalized):l.containsOrdinal?R(l.normalized):l.normalized,[N,Q]=Oi(E,l.offsetProvis,l.zoneToUse),ct=new _t({ts:N,zone:l.zoneToUse,o:Q,loc:l.loc});return l.normalized.weekday&&l.containsGregor&&l.obj.weekday!==ct.weekday?_t.invalid("mismatched weekday",`you can't specify both a weekday of ${l.normalized.weekday} and a date of ${ct.toISO()}`):ct.isValid?ct:_t.invalid(ct._invalid)}static _diffRelative(l,o,c){const d=!!J(c.round)||c.round,h=(E,N)=>(E=Fn(E,d||c.calendary?0:2,!0),o._loc.clone(c).relFormatter(c).format(E,N)),x=E=>c.calendary?o.hasSame(l,E)?0:o.startOf(E).diff(l.startOf(E),E).get(E):o.diff(l,E).get(E);if(c.unit)return h(x(c.unit),c.unit);for(const E of c.units){const N=x(E);if(Math.abs(N)>=1)return h(N,E)}return h(l>o?-0:0,c.units[c.units.length-1])}static _lastOpts(l){let o,c={};return l.length>0&&"object"==typeof l[l.length-1]?(c=l.pop(),o=l):o=Array.from(l),[c,o]}static _quickDT(l,o){const c=Se(o.zone,At.defaultZone),d=Jt.fromObject(o),h=At.now();let x,E;if(te(l.year)){for(const ct of zo)J(l[ct])&&(l[ct]=$o[ct]);const N=M(l)||w(l);if(N)return _t.invalid(N);const Q=c.offset(h);[x,E]=Oi(l,Q,c)}else x=h;return new _t({ts:x,zone:c,loc:d,o:E})}static _unsupportedZone(l){return new ne("unsupported zone",`the zone "${l.name}" is not supported`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}diff(l,o="milliseconds",c={}){if(!this.isValid||!l.isValid)return v.invalid(this.invalidReason||l.invalidReason,"created by diffing an invalid DateTime");const d=(E=o,Array.isArray(E)?E:[E]).map(v.normalizeUnit),h=l.valueOf()>this.valueOf(),x=((u,l,o,c)=>{let[d,h,x,E]=function(st,ht,pt){const Pt=[["years",(se,ke)=>ke.year-se.year],["quarters",(se,ke)=>ke.quarter-se.quarter+4*(ke.year-se.year)],["months",(se,ke)=>ke.month-se.month+12*(ke.year-se.year)],["weeks",(se,ke)=>{const kn=Mt(se,ke);return(kn-kn%7)/7}],["days",Mt]],Kt={},me=st;let he,fe;for(const[se,ke]of Pt)pt.indexOf(se)>=0&&(he=se,Kt[se]=ke(st,ht),fe=me.plus(Kt),fe>ht?(Kt[se]--,(st=me.plus(Kt))>ht&&(fe=st,Kt[se]--,st=me.plus(Kt))):st=fe);return[st,Kt,fe,he]}(u,l,o);const N=+l-+d,Q=o.filter(st=>["hours","minutes","seconds","milliseconds"].indexOf(st)>=0);0===Q.length&&(x<l&&(x=d.plus({[E]:1})),x!==d&&(h[E]=(h[E]||0)+N/(+x-+d)));const ct=v.fromObject(h,c);return Q.length>0?v.fromMillis(N,c).shiftTo(...Q).plus(ct):ct})(h?this:l,h?l:this,d,Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},c));var E;return h?x.negate():x}diffNow(l="milliseconds",o={}){return this.diff(_t.now(),l,o)}endOf(l,{useLocaleWeeks:o=!1}={}){return this.plus({[l]:1}).startOf(l,{useLocaleWeeks:o}).minus({milliseconds:1})}equals(l){return this.valueOf()===l.valueOf()&&this.zone.equals(l.zone)&&this._loc.equals(l._loc)}get(l){return this[l]}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const l=864e5,o=6e4,c=tn(this._c),d=this.zone.offset(c-l),h=this.zone.offset(c+l),x=this.zone.offset(c-d*o),E=this.zone.offset(c-h*o);if(x===E)return[this];const N=c-x*o,Q=c-E*o,ct=ji(N,x),st=ji(Q,E);return ct.hour===st.hour&&ct.minute===st.minute&&ct.second===st.second&&ct.millisecond===st.millisecond?[this._clone({ts:N}),this._clone({ts:Q})]:[this]}hasSame(l,o,c){if(!this.isValid)return!1;const d=l.valueOf(),h=this.setZone(l.zone,{keepLocalTime:!0});return+h.startOf(o)<=d&&d<=+h.endOf(o,c)}minus(l){if(!this.isValid)return this;const o=v.fromDurationLike(l).negate();return this._clone(this._adjustTime(o))}plus(l){if(!this.isValid)return this;const o=v.fromDurationLike(l);return this._clone(this._adjustTime(o))}reconfigure(l){const o=this._loc.clone(l);return this._clone({loc:o})}resolvedLocaleOptions(l={}){const{locale:o,numberingSystem:c,calendar:d}=Ie.create(this._loc.clone(l),l).resolvedOptions(this);return{locale:o,numberingSystem:c,outputCalendar:d}}set(l){if(!this.isValid)return this;const o=Et(l,Ao),{minDaysInFirstWeek:c,startOfWeek:d}=de(o,this.loc),h=te(o.weekYear)||te(o.weekNumber)||te(o.weekday),x=te(o.ordinal),E=te(o.year),N=te(o.month)||te(o.day);if((E||N||x)&&(o.weekYear||o.weekNumber))throw new Ct("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(N&&x)throw new Ct("Can't mix ordinal dates with month/day");let st;h?st=D(Object.assign(Object.assign({},pn(this._c,c,d)),o),c,d):J(o.ordinal)?(st=Object.assign(Object.assign({},this.toObject()),o),J(o.day)&&(st.day=Math.min(Tn(st.year,st.month),st.day))):st=R(Object.assign(Object.assign({},Lt(this._c)),o));const[ht,pt]=Oi(st,this._o,this.zone);return this._clone({ts:ht,o:pt})}setLocale(l){return this.reconfigure({locale:l})}setZone(l,{keepLocalTime:o=!1,keepCalendarTime:c=!1}={}){if((l=Se(l,At.defaultZone)).equals(this.zone))return this;if(l.isValid){let d=this._ts;if(o||c){const h=l.offset(this._ts);d=Oi(this.toObject(),h,l)[0]}return this._clone({ts:d,zone:l})}return _t.invalid(_t._unsupportedZone(l))}startOf(l,{useLocaleWeeks:o=!1}={}){if(!this.isValid)return this;const c={},d=v.normalizeUnit(l);switch(d){case"years":c.month=1;case"quarters":case"months":c.day=1;case"weeks":case"days":c.hour=0;case"hours":c.minute=0;case"minutes":c.second=0;case"seconds":c.millisecond=0}if("weeks"===d)if(o){const h=this.loc.getStartOfWeek(),{weekday:x}=this;x<h&&(c.weekNumber=this.weekNumber-1),c.weekday=h}else c.weekday=1;if("quarters"===d){const h=Math.ceil(this.month/3);c.month=3*(h-1)+1}return this.set(c)}toBSON(){return this.toJSDate()}toFormat(l,o={}){return this.isValid?Ie.create(this._loc.redefaultToEN(o)).formatDateTimeFromString(this,l):lo}toHTTP(){return Ei(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toISO({format:l="extended",suppressSeconds:o=!1,suppressMilliseconds:c=!1,includeOffset:d=!0,extendedZone:h=!1}={}){if(!this.isValid)return null;const x="extended"===l;return[this._toISODate(x),"T",this._toISOTime(x,o,c,d,h)].join("")}toISODate({format:l="extended"}={format:"extended"}){return this.isValid?this._toISODate("extended"===l):null}toISOTime({suppressMilliseconds:l=!1,suppressSeconds:o=!1,includeOffset:c=!0,includePrefix:d=!1,extendedZone:h=!1,format:x="extended"}={}){return this.isValid?[d?"T":"",this._toISOTime("extended"===x,o,l,c,h)].join(""):null}toISOWeekDate(){return Ei(this,"kkkk-'W'WW-c")}toJSDate(){return new Date(this.isValid?this._ts:NaN)}toJSON(){return this.toISO()}toLocal(){return this.setZone(At.defaultZone)}toLocaleParts(l={}){return this.isValid?Ie.create(this._loc.clone(l),l).formatDateTimeParts(this):[]}toLocaleString(l=bt,o={}){return this.isValid?Ie.create(this._loc.clone(o),l).formatDateTime(this):lo}toMillis(){return this.isValid?this.ts:NaN}toObject(l={includeConfig:!1}){if(!this.isValid)return{};const o=Object.assign({},this._c);return l.includeConfig&&(o.outputCalendar=this.outputCalendar,o.numberingSystem=this._loc.numberingSystem,o.locale=this._loc.locale),o}toRFC2822(){return Ei(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toRelative(l={}){if(!this.isValid)return null;const o=l.base||_t.fromObject({},{zone:this.zone}),c=l.padding?this<o?-l.padding:l.padding:0;let d=["years","months","days","hours","minutes","seconds"],h=l.unit;return Array.isArray(l.unit)&&(d=l.unit,h=void 0),_t._diffRelative(o,this.plus(c),Object.assign(Object.assign({},l),{numeric:"always",units:d,unit:h}))}toRelativeCalendar(l={}){return this.isValid?_t._diffRelative(l.base||_t.fromObject({},{zone:this.zone}),this,Object.assign(Object.assign({},l),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}toSQL(l={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(l)}`:null}toSQLDate(){return this.isValid?this._toISODate(!0):null}toSQLTime({includeOffset:l=!0,includeZone:o=!1,includeOffsetSpace:c=!0}={}){let d="HH:mm:ss.SSS";return(o||l)&&(c&&(d+=" "),o?d+="z":l&&(d+="ZZ")),Ei(this,d,!0)}toSeconds(){return this.isValid?this._ts/1e3:NaN}toString(){return this.isValid?this.toISO():lo}toUTC(l=0,o={}){return this.setZone(ae.instance(l),o)}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}until(l){return z.fromDateTimes(this,l)}valueOf(){return this.toMillis()}_adjustTime(l){const o=this._o,c=this._c.year+Math.trunc(l.years),d=this._c.month+Math.trunc(l.months)+3*Math.trunc(l.quarters),h=Object.assign(Object.assign({},this._c),{year:c,month:d,day:Math.min(this._c.day,Tn(c,d))+Math.trunc(l.days)+7*Math.trunc(l.weeks)}),x=v.fromObject({years:l.years-Math.trunc(l.years),quarters:l.quarters-Math.trunc(l.quarters),months:l.months-Math.trunc(l.months),weeks:l.weeks-Math.trunc(l.weeks),days:l.days-Math.trunc(l.days),hours:l.hours,minutes:l.minutes,seconds:l.seconds,milliseconds:l.milliseconds}).as("milliseconds"),E=tn(h);let[N,Q]=No(E,o,this.zone);return 0!==x&&(N+=x,Q=this.zone.offset(N)),{ts:N,o:Q}}_clone(l){const o={ts:this._ts,zone:this.zone,c:this._c,o:this._o,loc:this._loc,invalid:this._invalid||void 0};return new _t(Object.assign(Object.assign(Object.assign({},o),l),{old:o}))}_possiblyCachedLocalWeekData(l){return l._localWeekData||(l._localWeekData=pn(l._c,l.loc.getMinDaysInFirstWeek(),l.loc.getStartOfWeek())),l._localWeekData}_possiblyCachedWeekData(l){return null===l._weekData&&(l._weekData=pn(l._c)),l._weekData}_toISODate(l){const o=this._c.year>9999||this._c.year<0;let c="";return o&&this._c.year>=0&&(c+="+"),c+=ge(this._c.year,o?6:4),l?(c+="-",c+=ge(this._c.month),c+="-",c+=ge(this._c.day)):(c+=ge(this._c.month),c+=ge(this._c.day)),c}_toISOTime(l,o,c,d,h){let x=ge(this._c.hour);return l?(x+=":",x+=ge(this._c.minute),0===this._c.millisecond&&0===this._c.second&&o||(x+=":")):x+=ge(this._c.minute),0===this._c.millisecond&&0===this._c.second&&o||(x+=ge(this._c.second),0===this._c.millisecond&&c||(x+=".",x+=ge(this._c.millisecond,3))),d&&(this.isOffsetFixed&&0===this.offset&&!h?x+="Z":this._o<0?(x+="-",x+=ge(Math.trunc(-this._o/60)),x+=":",x+=ge(Math.trunc(-this._o%60))):(x+="+",x+=ge(Math.trunc(this._o/60)),x+=":",x+=ge(Math.trunc(this._o%60)))),h&&(x+="["+this.zone.ianaName+"]"),x}}_t.DATETIME_FULL=ee,_t.DATETIME_FULL_WITH_SECONDS=U,_t.DATETIME_HUGE=Dt,_t.DATETIME_HUGE_WITH_SECONDS=F,_t.DATETIME_MED=Nt,_t.DATETIME_MED_WITH_SECONDS=jt,_t.DATETIME_MED_WITH_WEEKDAY=le,_t.DATETIME_SHORT=qt,_t.DATETIME_SHORT_WITH_SECONDS=yt,_t.DATE_FULL=vt,_t.DATE_HUGE=It,_t.DATE_MED=gt,_t.DATE_MED_WITH_WEEKDAY=ut,_t.DATE_SHORT=bt,_t.TIME_24_SIMPLE=Ce,_t.TIME_24_WITH_LONG_OFFSET=zt,_t.TIME_24_WITH_SECONDS=Fe,_t.TIME_24_WITH_SHORT_OFFSET=Me,_t.TIME_SIMPLE=Ft,_t.TIME_WITH_LONG_OFFSET=be,_t.TIME_WITH_SECONDS=Qt,_t.TIME_WITH_SHORT_OFFSET=_e;var Ht=g(54460),Yn=g(89163),hn=g(39471),jn=g(63552),Hn=g(71217),ii=g(18447),co=g(5424),oi=g(88249),si=g(82040),Lo=g(47947),ds=g(66645),fn=g(71204),Ue=g(10936),mo=g(30470),_o=g(4375),Yo=g(47426),Bn=g(74960),uo=g(53904),po=g(97839),us=g(46192);const ps=["clockFace"],gs=["clockHand"],ai=function(u){return{transform:u}};function hs(u,l){if(1&u&&(i.j41(0,"button",9),i.nI1(1,"activeHour"),i.EFF(2),i.nI1(3,"timeLocalizer"),i.k0s()),2&u){const o=l.$implicit,c=i.XpG();i.Y8G("color",i.brH(1,4,o.time,null==c.selectedTime?null:c.selectedTime.time,c.isClockFaceDisabled)?c.color:void 0)("ngStyle",i.eq3(11,ai,"rotateZ(-"+o.angle+"deg)"))("disabled",o.disabled),i.R7$(2),i.SpI(" ",i.i5U(3,8,o.time,c.timeUnit.HOUR)," ")}}function fs(u,l){if(1&u&&(i.j41(0,"div",12)(1,"button",9),i.nI1(2,"activeMinute"),i.EFF(3),i.nI1(4,"timeLocalizer"),i.nI1(5,"minutesFormatter"),i.k0s()()),2&u){const o=l.$implicit,c=i.XpG(2);i.Y8G("ngStyle",i.eq3(16,ai,"rotateZ("+o.angle+"deg)")),i.R7$(1),i.Y8G("color",i.ii3(2,5,o.time,null==c.selectedTime?null:c.selectedTime.time,c.minutesGap,c.isClockFaceDisabled)?c.color:void 0)("ngStyle",i.eq3(18,ai,"rotateZ(-"+o.angle+"deg)"))("disabled",o.disabled),i.R7$(2),i.SpI(" ",i.i5U(4,10,i.i5U(5,13,o.time,c.minutesGap),c.timeUnit.MINUTE)," ")}}function bs(u,l){if(1&u&&(i.j41(0,"div",10),i.DNE(1,fs,6,20,"div",11),i.k0s()),2&u){const o=i.XpG();i.R7$(1),i.Y8G("ngForOf",o.faceTime)("ngForTrackBy",o.trackByTime)}}function vs(u,l){1&u&&i.SdG(0,0,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}const Bo=function(u){return{$implicit:u}};function ks(u,l){if(1&u&&(i.j41(0,"div",12),i.DNE(1,vs,1,0,"ng-content",14),i.k0s()),2&u){const o=l.$implicit;i.XpG(2);const c=i.sdS(1);i.Y8G("ngStyle",i.eq3(3,ai,"rotateZ("+o.angle+"deg)")),i.R7$(1),i.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",i.eq3(5,Bo,o))}}function Vo(u,l){1&u&&i.SdG(0,1,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function Cs(u,l){if(1&u&&(i.j41(0,"div",17),i.DNE(1,Vo,1,0,"ng-content",14),i.k0s()),2&u){const o=l.$implicit,c=i.XpG(3),d=i.sdS(1);i.xc7("top","calc(50% - "+c.innerClockFaceSize+"px)")("height",c.innerClockFaceSize,"px"),i.Y8G("ngStyle",i.eq3(7,ai,"rotateZ("+o.angle+"deg)")),i.R7$(1),i.Y8G("ngTemplateOutlet",d)("ngTemplateOutletContext",i.eq3(9,Bo,o))}}function xs(u,l){if(1&u&&(i.j41(0,"div",15),i.DNE(1,Cs,2,11,"div",16),i.nI1(2,"slice"),i.k0s()),2&u){const o=i.XpG(2);i.R7$(1),i.Y8G("ngForOf",i.brH(2,2,o.faceTime,12,24))("ngForTrackBy",o.trackByTime)}}function Ts(u,l){if(1&u&&(i.j41(0,"div",10),i.DNE(1,ks,2,7,"div",11),i.nI1(2,"slice"),i.DNE(3,xs,3,6,"div",13),i.k0s()),2&u){const o=i.XpG();i.R7$(1),i.Y8G("ngForOf",i.brH(2,3,o.faceTime,0,12))("ngForTrackBy",o.trackByTime),i.R7$(2),i.Y8G("ngIf",o.faceTime.length>12)}}function Is(u,l){if(1&u&&(i.j41(0,"button",18),i.nrm(1,"span",19),i.k0s()),2&u){const o=i.XpG();i.Y8G("color",o.color)}}const Xo=["*","*"],Ss=function(u){return{"clock-face__clock-hand_minute":u}};function ys(u,l){if(1&u){const o=i.RV6();i.j41(0,"div",5),i.bIt("@scaleInOut.done",function(){i.eBV(o);const d=i.XpG(2);return i.Njj(d.animationDone())}),i.j41(1,"p"),i.EFF(2,"Current time would be invalid in this period."),i.k0s()()}2&u&&i.Y8G("@scaleInOut",void 0)}function js(u,l){if(1&u&&i.DNE(0,ys,3,1,"div",4),2&u){const o=i.XpG();i.Y8G("ngIf",!o.isPeriodAvailable)}}const ri=function(u){return{active:u}};function Os(u,l){if(1&u){const o=i.RV6();i.j41(0,"input",2),i.bIt("ngModelChange",function(d){i.eBV(o);const h=i.XpG();return i.Njj(h.time=d)})("input",function(){i.eBV(o);const d=i.XpG();return i.Njj(d.updateTime())})("focus",function(d){i.eBV(o);const h=i.XpG();return i.Njj(h.saveTimeAndChangeTimeUnit(d,h.timeUnit))}),i.nI1(1,"timeLocalizer"),i.k0s()}if(2&u){const o=i.XpG();i.Y8G("ngClass",i.eq3(8,ri,o.isActive))("ngModel",i.brH(1,4,o.time,o.timeUnit,!0))("disabled",o.disabled)("ngxMatTimepickerAutofocus",o.isActive)}}function On(u,l){if(1&u){const o=i.RV6();i.j41(0,"input",3),i.bIt("ngModelChange",function(d){i.eBV(o);const h=i.XpG();return i.Njj(h.onModelChange(d))})("input",function(){i.eBV(o);const d=i.XpG();return i.Njj(d.updateTime())})("focus",function(d){i.eBV(o);const h=i.XpG();return i.Njj(h.saveTimeAndChangeTimeUnit(d,h.timeUnit))})("keydown",function(d){i.eBV(o);const h=i.XpG();return i.Njj(h.onKeydown(d))})("keypress",function(d){i.eBV(o);const h=i.XpG();return i.Njj(h.changeTimeByKeyboard(d))}),i.nI1(1,"timeLocalizer"),i.nI1(2,"ngxMatTimepickerParser"),i.k0s()}if(2&u){const o=i.XpG();i.Y8G("ngClass",i.eq3(11,ri,o.isActive))("ngModel",i.brH(1,4,i.i5U(2,8,o.time,o.timeUnit),o.timeUnit,!0))("disabled",o.disabled)("ngxMatTimepickerAutofocus",o.isActive)}}function bn(u,l){if(1&u){const o=i.RV6();i.j41(0,"ngx-mat-timepicker-period",7),i.bIt("periodChanged",function(d){i.eBV(o);const h=i.XpG();return i.Njj(h.changePeriod(d))}),i.k0s()}if(2&u){const o=i.XpG();i.Y8G("selectedPeriod",o.period)("activeTimeUnit",o.activeTimeUnit)("maxTime",o.maxTime)("minTime",o.minTime)("format",o.format)("hours",o.hours)("minutes",o.minutes)("selectedHour",o.hour)("meridiems",o.meridiems)}}function En(u,l){1&u&&i.eu8(0)}function Es(u,l){1&u&&(i.j41(0,"small",11),i.EFF(1," * use arrows ("),i.j41(2,"span"),i.EFF(3,"\u21c5"),i.k0s(),i.EFF(4,") to change the time"),i.k0s())}const ws=function(u){return{"timepicker-dial__hint-container--hidden":u}};function Rs(u,l){if(1&u&&(i.j41(0,"div",8),i.DNE(1,En,1,0,"ng-container",9),i.DNE(2,Es,5,0,"ng-template",null,10,i.C5r),i.k0s()),2&u){const o=i.sdS(3),c=i.XpG();i.Y8G("ngClass",i.eq3(2,ws,!c.isHintVisible)),i.R7$(1),i.Y8G("ngTemplateOutlet",c.editableHintTmpl?c.editableHintTmpl:o)}}function Fs(u,l){1&u&&i.eu8(0)}function Ds(u,l){if(1&u&&(i.j41(0,"div"),i.DNE(1,Fs,1,0,"ng-container",3),i.k0s()),2&u){i.XpG();const o=i.sdS(4);i.R7$(1),i.Y8G("ngTemplateOutlet",o)}}function Ms(u,l){1&u&&i.eu8(0)}function Gs(u,l){if(1&u&&i.DNE(0,Ms,1,0,"ng-container",3),2&u){i.XpG();const o=i.sdS(4);i.Y8G("ngTemplateOutlet",o)}}function Ns(u,l){1&u&&i.SdG(0)}const $s=["*"];function zs(u,l){if(1&u&&(i.j41(0,"button",14),i.EFF(1,"CANCEL "),i.k0s()),2&u){const o=i.XpG();i.Y8G("color",o.color)}}function Ps(u,l){if(1&u&&(i.j41(0,"button",14),i.EFF(1,"OK "),i.k0s()),2&u){const o=i.XpG();i.Y8G("color",o.color)}}function As(u,l){if(1&u){const o=i.RV6();i.j41(0,"ngx-mat-timepicker-24-hours-face",17),i.bIt("hourChange",function(d){i.eBV(o);const h=i.XpG(2);return i.Njj(h.onHourChange(d))})("hourSelected",function(d){i.eBV(o);const h=i.XpG(2);return i.Njj(h.onHourSelected(d))}),i.nI1(1,"async"),i.k0s()}if(2&u){const o=i.XpG(2);i.Y8G("color",o.color)("selectedHour",i.bMT(1,5,o.selectedHour))("minTime",o.data.minTime)("maxTime",o.data.maxTime)("format",o.data.format)}}function Ls(u,l){if(1&u){const o=i.RV6();i.j41(0,"ngx-mat-timepicker-12-hours-face",18),i.bIt("hourChange",function(d){i.eBV(o);const h=i.XpG(2);return i.Njj(h.onHourChange(d))})("hourSelected",function(d){i.eBV(o);const h=i.XpG(2);return i.Njj(h.onHourSelected(d))}),i.nI1(1,"async"),i.nI1(2,"async"),i.k0s()}if(2&u){const o=i.XpG(2);i.Y8G("color",o.color)("selectedHour",i.bMT(1,5,o.selectedHour))("period",i.bMT(2,7,o.selectedPeriod))("minTime",o.data.minTime)("maxTime",o.data.maxTime)}}function Ys(u,l){if(1&u&&(i.j41(0,"div"),i.DNE(1,As,2,7,"ngx-mat-timepicker-24-hours-face",15),i.DNE(2,Ls,3,9,"ng-template",null,16,i.C5r),i.k0s()),2&u){const o=i.sdS(3),c=i.XpG();i.R7$(1),i.Y8G("ngIf",24===c.data.format)("ngIfElse",o)}}function Bs(u,l){if(1&u){const o=i.RV6();i.j41(0,"ngx-mat-timepicker-minutes-face",19),i.bIt("minuteChange",function(d){i.eBV(o);const h=i.XpG();return i.Njj(h.onMinuteChange(d))}),i.nI1(1,"async"),i.nI1(2,"async"),i.nI1(3,"async"),i.k0s()}if(2&u){const o=i.XpG();let c;i.Y8G("color",o.color)("selectedMinute",i.bMT(1,8,o.selectedMinute))("selectedHour",null==(c=i.bMT(2,10,o.selectedHour))?null:c.time)("minTime",o.data.minTime)("maxTime",o.data.maxTime)("format",o.data.format)("period",i.bMT(3,12,o.selectedPeriod))("minutesGap",o.data.minutesGap)}}function Vs(u,l){1&u&&i.eu8(0)}function Xs(u,l){1&u&&i.eu8(0)}function Us(u,l){if(1&u&&(i.j41(0,"button",14),i.EFF(1,"CANCEL "),i.k0s()),2&u){const o=i.XpG();i.Y8G("color",o.color)}}function Ws(u,l){if(1&u&&(i.j41(0,"button",14),i.EFF(1,"OK "),i.k0s()),2&u){const o=i.XpG();i.Y8G("color",o.color)}}function Js(u,l){if(1&u){const o=i.RV6();i.j41(0,"ngx-mat-timepicker-24-hours-face",17),i.bIt("hourChange",function(d){i.eBV(o);const h=i.XpG(2);return i.Njj(h.onHourChange(d))})("hourSelected",function(d){i.eBV(o);const h=i.XpG(2);return i.Njj(h.onHourSelected(d))}),i.nI1(1,"async"),i.k0s()}if(2&u){const o=i.XpG(2);i.Y8G("color",o.color)("selectedHour",i.bMT(1,5,o.selectedHour))("minTime",o.data.minTime)("maxTime",o.data.maxTime)("format",o.data.format)}}function Uo(u,l){if(1&u){const o=i.RV6();i.j41(0,"ngx-mat-timepicker-12-hours-face",18),i.bIt("hourChange",function(d){i.eBV(o);const h=i.XpG(2);return i.Njj(h.onHourChange(d))})("hourSelected",function(d){i.eBV(o);const h=i.XpG(2);return i.Njj(h.onHourSelected(d))}),i.nI1(1,"async"),i.nI1(2,"async"),i.k0s()}if(2&u){const o=i.XpG(2);i.Y8G("color",o.color)("selectedHour",i.bMT(1,5,o.selectedHour))("period",i.bMT(2,7,o.selectedPeriod))("minTime",o.data.minTime)("maxTime",o.data.maxTime)}}function Hs(u,l){if(1&u&&(i.j41(0,"div"),i.DNE(1,Js,2,7,"ngx-mat-timepicker-24-hours-face",15),i.DNE(2,Uo,3,9,"ng-template",null,16,i.C5r),i.k0s()),2&u){const o=i.sdS(3),c=i.XpG();i.R7$(1),i.Y8G("ngIf",24===c.data.format)("ngIfElse",o)}}function Ks(u,l){if(1&u){const o=i.RV6();i.j41(0,"ngx-mat-timepicker-minutes-face",19),i.bIt("minuteChange",function(d){i.eBV(o);const h=i.XpG();return i.Njj(h.onMinuteChange(d))}),i.nI1(1,"async"),i.nI1(2,"async"),i.nI1(3,"async"),i.k0s()}if(2&u){const o=i.XpG();let c;i.Y8G("color",o.color)("selectedMinute",i.bMT(1,8,o.selectedMinute))("selectedHour",null==(c=i.bMT(2,10,o.selectedHour))?null:c.time)("minTime",o.data.minTime)("maxTime",o.data.maxTime)("format",o.data.format)("period",i.bMT(3,12,o.selectedPeriod))("minutesGap",o.data.minutesGap)}}function Qs(u,l){1&u&&i.eu8(0)}function Zs(u,l){1&u&&i.eu8(0)}function qs(u,l){1&u&&i.nrm(0,"ngx-mat-timepicker-standalone")}function ta(u,l){1&u&&(i.qSk(),i.j41(0,"svg",2),i.nrm(1,"path",3),i.k0s())}const ea=[[["","ngxMatTimepickerToggleIcon",""]]],na=["[ngxMatTimepickerToggleIcon]"];function ia(u,l){if(1&u&&(i.j41(0,"mat-option",12),i.EFF(1),i.k0s()),2&u){const o=l.$implicit;i.Y8G("value",o),i.R7$(1),i.JRh(o)}}function oa(u,l){if(1&u){const o=i.RV6();i.j41(0,"mat-form-field",9)(1,"mat-select",10),i.bIt("selectionChange",function(d){i.eBV(o);const h=i.XpG();return i.Njj(h.changePeriod(d))}),i.DNE(2,ia,2,2,"mat-option",11),i.k0s()()}if(2&u){const o=i.XpG();i.Y8G("color",o.color),i.R7$(1),i.Y8G("disabled",o.disabled||o.isChangePeriodDisabled)("ngModel",o.period),i.R7$(1),i.Y8G("ngForOf",o.periods)}}function sa(u,l){1&u&&i.eu8(0)}function aa(u,l){if(1&u&&(i.j41(0,"ngx-mat-timepicker-toggle",13)(1,"span",14),i.DNE(2,sa,1,0,"ng-container",15),i.k0s()()),2&u){const o=i.XpG(),c=i.sdS(8),d=i.sdS(10);i.Y8G("for",c)("disabled",o.disabled),i.R7$(2),i.Y8G("ngTemplateOutlet",o.toggleIcon||d)}}function ra(u,l){1&u&&(i.j41(0,"mat-icon"),i.EFF(1,"watch_later"),i.k0s())}const la=function(u){return{"ngx-mat-timepicker--disabled":u}};var wn=function(u){return u.TWELVE="hh:mm a",u.TWELVE_SHORT="h:m a",u.TWENTY_FOUR="HH:mm",u.TWENTY_FOUR_SHORT="H:m",u}(wn||{}),$e=function(u){return u.AM="AM",u.PM="PM",u}($e||{});let ce=(()=>{class u{static#t=this.defaultFormat=12;static#e=this.defaultLocale="en-US";static#n=this.defaultNumberingSystem="latn";static formatHour(o,c,d){if(this.isTwentyFour(c))return o;const h=d===$e.AM?o:o+12;return d===$e.AM&&12===h?0:d===$e.PM&&24===h?12:h}static formatTime(o,c){if(!o)return"Invalid Time";const d=this.parseTime(o,c).setLocale(this.defaultLocale);if(!d.isValid)return"Invalid time";const h=!this.isTwentyFour(c.format);return h?d.toLocaleString({..._t.TIME_SIMPLE,hour12:h}).replace(/\u200E/g,""):d.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static fromDateTimeToString(o,c){return o.reconfigure({numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}).toFormat(this.isTwentyFour(c)?wn.TWENTY_FOUR:wn.TWELVE)}static isBetween(o,c,d,h="minutes"){const x="hours"===h?h:void 0;return this.isSameOrBefore(o,d,x)&&this.isSameOrAfter(o,c,x)}static isSameOrAfter(o,c,d="minutes"){return"hours"===d?o.hour>=c.hour:o.hasSame(c,d)||o.valueOf()>c.valueOf()}static isSameOrBefore(o,c,d="minutes"){return"hours"===d?o.hour<=c.hour:o.hasSame(c,d)||o.valueOf()<=c.valueOf()}static isTimeAvailable(o,c,d,h,x,E){if(!o)return;const N=this.parseTime(o,{format:E}),Q=N.minute;if(x&&Q==Q&&Q%x!=0)throw new Error(`Your minutes - ${Q} doesn't match your minutesGap - ${x}`);const ct=c&&!d&&this.isSameOrAfter(N,c,h),st=d&&!c&&this.isSameOrBefore(N,d,h),ht=c&&d&&this.isBetween(N,c,d,h);return ct||st||ht||!c&&!d}static isTwentyFour(o){return 24===o}static parseTime(o,c){const d=this._getLocaleOptionsByTime(o,c);let h=wn.TWENTY_FOUR_SHORT;return o.match(/\s/g)&&(o=o.replace(/\.\s*/g,""),h=wn.TWELVE_SHORT),_t.fromFormat(o.replace(/\s+/g," "),h,{numberingSystem:d.numberingSystem,locale:d.locale})}static toLocaleTimeString(o,c={}){const{format:d=this.defaultFormat,locale:h=this.defaultLocale}=c;let x="h12",E=wn.TWELVE_SHORT;return this.isTwentyFour(d)&&(x="h23",E=wn.TWENTY_FOUR_SHORT),_t.fromFormat(o,E).reconfigure({locale:h,numberingSystem:c.numberingSystem,defaultToEN:c.defaultToEN,outputCalendar:c.outputCalendar}).toLocaleString({..._t.TIME_SIMPLE,hourCycle:x})}static _getLocaleOptionsByTime(o,c){const{numberingSystem:d,locale:h}=_t.now().reconfigure({locale:c.locale,numberingSystem:c.numberingSystem,outputCalendar:c.outputCalendar,defaultToEN:c.defaultToEN}).resolvedLocaleOptions();return isNaN(parseInt(o,10))?{numberingSystem:d,locale:h}:{numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}}}return u})();var We=function(u){return u[u.HOUR=0]="HOUR",u[u.MINUTE=1]="MINUTE",u}(We||{});const li=new i.nKC("NGX_MAT_TIMEPICKER_CONFIG"),wi={time:12,angle:360},Ri={time:0,angle:360};let ci=(()=>{class u{constructor(){this._hour$=new Hn.t(wi),this._minute$=new Hn.t(Ri),this._period$=new Hn.t($e.AM)}set hour(o){this._hour$.next(o)}set minute(o){this._minute$.next(o)}set period(o){(o===$e.AM||o===$e.PM)&&this._period$.next(o)}get selectedHour(){return this._hour$.asObservable()}get selectedMinute(){return this._minute$.asObservable()}get selectedPeriod(){return this._period$.asObservable()}getFullTime(o){const c=this._hour$.getValue().time,d=this._minute$.getValue().time,N=`${c??wi.time}:${d??Ri.time} ${12===o?this._period$.getValue():""}`.trim();return ce.formatTime(N,{format:o})}setDefaultTimeIfAvailable(o,c,d,h,x){o||this._resetTime();try{ce.isTimeAvailable(o,c,d,"minutes",x)&&this._setDefaultTime(o,h)}catch(E){console.error(E)}}_resetTime(){this.hour={...wi},this.minute={...Ri},this.period=$e.AM}_setDefaultTime(o,c){const d=ce.parseTime(o,{format:c});if(d.isValid){const h=o.substring(o.length-2).toUpperCase(),x=d.hour;this.hour={...wi,time:ca(x,h)},this.minute={...Ri,time:d.minute},this.period=h}else this._resetTime()}static#t=this.\u0275fac=function(c){return new(c||u)};static#e=this.\u0275prov=i.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();function ca(u,l){switch(l){case $e.AM:return 0===u?12:u;case $e.PM:return 12===u?12:u-12;default:return u}}let Fi=(()=>{class u{get backdropClick(){return this._backdropClick$.asObservable().pipe((0,oi.t)({bufferSize:1,refCount:!0}))}get keydownEvent(){return this._keydownEvent$.asObservable().pipe((0,oi.t)({bufferSize:1,refCount:!0}))}constructor(){this._backdropClick$=new ii.B,this._keydownEvent$=new ii.B}dispatchEvent(o){switch(o.type){case"click":this._backdropClick$.next(o);break;case"keydown":this._keydownEvent$.next(o);break;default:throw new Error("no such event type")}}static#t=this.\u0275fac=function(c){return new(c||u)};static#e=this.\u0275prov=i.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const Wo=new i.nKC("TimeLocale",{providedIn:"root",factory:()=>ce.defaultLocale});let vn=(()=>{class u{get locale(){return this._locale}constructor(o){this._locale=o}updateLocale(o){this._locale=o||this._initialLocale}static#t=this.\u0275fac=function(c){return new(c||u)(i.KVO(Wo))};static#e=this.\u0275prov=i.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})(),Jo=(()=>{class u{set color(o){this._color=o}get color(){return this._color}get defaultTime(){return this._defaultTime}set defaultTime(o){this._defaultTime=o,this._setDefaultTime(o)}get _locale(){return this._timepickerLocaleSrv.locale}constructor(o,c,d,h){this._timepickerSrv=o,this._eventSrv=c,this._timepickerLocaleSrv=d,this.data=h,this.activeTimeUnit=We.HOUR,this.timeUnit=We,this._color="primary",this._subsCtrl$=new ii.B,this.color=h.color,this.defaultTime=h.defaultTime}changePeriod(o){this._timepickerSrv.period=o,this._onTimeChange()}changeTimeUnit(o){this.activeTimeUnit=o}close(){this.data.timepickerBaseRef.close()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._defineTime(),this.selectedHour=this._timepickerSrv.selectedHour.pipe((0,oi.t)({bufferSize:1,refCount:!0})),this.selectedMinute=this._timepickerSrv.selectedMinute.pipe((0,oi.t)({bufferSize:1,refCount:!0})),this.selectedPeriod=this._timepickerSrv.selectedPeriod.pipe((0,oi.t)({bufferSize:1,refCount:!0})),this.data.timepickerBaseRef.timeUpdated.pipe((0,co.Q)(this._subsCtrl$)).subscribe({next:o=>{o&&this._setDefaultTime(o)}})}onHourChange(o){this._timepickerSrv.hour=o,this._onTimeChange()}onHourSelected(o){this.data.hoursOnly||this.changeTimeUnit(We.MINUTE),this.data.timepickerBaseRef.hourSelected.next(o)}onKeydown(o){this._eventSrv.dispatchEvent(o),o.stopPropagation()}onMinuteChange(o){this._timepickerSrv.minute=o,this._onTimeChange()}setTime(){this.data.timepickerBaseRef.timeSet.emit(this._timepickerSrv.getFullTime(this.data.format)),this.close()}_defineTime(){const o=this.data.minTime;if(o&&!this.data.time&&!this.data.defaultTime){const c=ce.fromDateTimeToString(o,this.data.format);this._setDefaultTime(c)}}_onTimeChange(){const o=ce.toLocaleTimeString(this._timepickerSrv.getFullTime(this.data.format),{locale:this._locale,format:this.data.format});this.data.timepickerBaseRef.timeChanged.emit(o)}_setDefaultTime(o){this._timepickerSrv.setDefaultTimeIfAvailable(o,this.data.minTime,this.data.maxTime,this.data.format,this.data.minutesGap)}static#t=this.\u0275fac=function(c){return new(c||u)(i.rXU(ci),i.rXU(Fi),i.rXU(vn),i.rXU(li))};static#e=this.\u0275dir=i.FsC({type:u,selectors:[["","ngxMatTimepickerBase",""]],hostBindings:function(c,d){1&c&&i.bIt("keydown",function(x){return d.onKeydown(x)})},inputs:{color:"color",defaultTime:"defaultTime"},standalone:!0})}return u})();class Oe{static disableHours(l,o){return o.min||o.max?l.map(c=>{const d=ce.isTwentyFour(o.format)?c.time:ce.formatHour(c.time,o.format,o.period),h=_t.fromObject({hour:d}).toFormat(wn.TWELVE);return{...c,disabled:!ce.isTimeAvailable(h,o.min,o.max,"hours")}}):l}static disableMinutes(l,o,c){if(c.min||c.max){const d=ce.formatHour(o,c.format,c.period);let h=_t.fromObject({hour:d,minute:0});return l.map(x=>(h=h.set({minute:x.time}),{...x,disabled:!ce.isTimeAvailable(h.toFormat(wn.TWELVE),c.min,c.max,"minutes")}))}return l}static getHours(l){return Array(l).fill(1).map((o,c)=>{const h=o+c;return{time:24===h?0:h,angle:30*h}})}static getMinutes(l=1){const d=[];for(let h=0;h<60;h++){const x=6*h;h%l==0&&d.push({time:h,angle:0!==x?x:360})}return d}static isDigit(l){return!!([46,8,9,27,13].some(o=>o===l.keyCode)||65===l.keyCode&&(!0===l.ctrlKey||!0===l.metaKey)||67===l.keyCode&&(!0===l.ctrlKey||!0===l.metaKey)||88===l.keyCode&&(!0===l.ctrlKey||!0===l.metaKey)||l.keyCode>=35&&l.keyCode<=40)||!((l.keyCode<48||l.keyCode>57)&&(l.keyCode<96||l.keyCode>105))}}var mi=function(u){return u.hour="hour",u.minute="minute",u}(mi||{});let ho=(()=>{class u{get _locale(){return this._timepickerLocaleSrv.locale}constructor(o){this._timepickerLocaleSrv=o}transform(o,c,d=!1){if(null==o||""===o)return"";switch(c){case We.HOUR:return this._formatTime(mi.hour,o,0===o||d?"HH":"H");case We.MINUTE:return this._formatTime(mi.minute,o,"mm");default:throw new Error(`There is no Time Unit with type ${c}`)}}_formatTime(o,c,d){try{return _t.fromObject({[o]:+c}).setLocale(this._locale).toFormat(d)}catch{throw new Error(`Cannot format provided time - ${c} to locale - ${this._locale}`)}}static#t=this.\u0275fac=function(c){return new(c||u)(i.rXU(vn,16))};static#e=this.\u0275pipe=i.EJ8({name:"timeLocalizer",type:u,pure:!0,standalone:!0})}return u})(),Nn=(()=>{class u{transform(o,c=5){return o&&(o%c==0?o:"")}static#t=this.\u0275fac=function(c){return new(c||u)};static#e=this.\u0275pipe=i.EJ8({name:"minutesFormatter",type:u,pure:!0,standalone:!0})}return u})(),Di=(()=>{class u{transform(o,c,d,h){return null!=o&&!h&&c===o&&o%(d||5)==0}static#t=this.\u0275fac=function(c){return new(c||u)};static#e=this.\u0275pipe=i.EJ8({name:"activeMinute",type:u,pure:!0,standalone:!0})}return u})(),ma=(()=>{class u{transform(o,c,d){return null!=o&&!d&&o===c}static#t=this.\u0275fac=function(c){return new(c||u)};static#e=this.\u0275pipe=i.EJ8({name:"activeHour",type:u,pure:!0,standalone:!0})}return u})();const Mi_small_height="75px",Mi_small_top="calc(50% - 75px)",Mi_large_height="103px",Mi_large_top="calc(50% - 103px)";let Gi=(()=>{class u{constructor(){this.color="primary",this.innerClockFaceSize=85,this.timeChange=new i.bkB,this.timeSelected=new i.bkB,this.timeUnit=We}ngAfterViewInit(){this._setClockHandPosition(),this._addTouchEvents()}ngOnChanges(o){const c=o.faceTime,d=o.selectedTime;c&&c.currentValue&&d&&d.currentValue&&(this.selectedTime=this.faceTime.find(h=>h.time===this.selectedTime.time)),d&&d.currentValue&&this._setClockHandPosition(),c&&c.currentValue&&setTimeout(()=>this._selectAvailableTime())}ngOnDestroy(){this._removeTouchEvents()}onMousedown(o){o.preventDefault(),this._isStarted=!0}onMouseup(o){o.preventDefault(),this._isStarted=!1}selectTime(o){if(!this._isStarted&&o instanceof MouseEvent&&"click"!==o.type)return;const c=this.clockFace.nativeElement.getBoundingClientRect(),d=c.left+c.width/2,h=c.top+c.height/2,x=180*Math.atan(Math.abs(o.clientX-d)/Math.abs(o.clientY-h))/Math.PI,E=function da(u,l,o,c,d){return c>l&&o>=u?180-d:c>l&&o<u?180+d:c<l&&o<u?360-d:d}(d,h,o.clientX,o.clientY,x),N=this.format&&this._isInnerClockFace(d,h,o.clientX,o.clientY),st=(function _a(u,l){return Math.round(u/l)*l}(E,this.unit===We.MINUTE?6*(this.minutesGap||1):30)||360)+(N?360:0),ht=this.faceTime.find(pt=>pt.angle===st);ht&&!ht.disabled&&(this.timeChange.next(ht),this._isStarted||this.timeSelected.next(ht.time))}trackByTime(o,c){return c.time}_addTouchEvents(){this._touchStartHandler=this.onMousedown.bind(this),this._touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this._touchEndHandler)}_decreaseClockHand(){this.clockHand.nativeElement.style.height=Mi_small_height,this.clockHand.nativeElement.style.top=Mi_small_top}_increaseClockHand(){this.clockHand.nativeElement.style.height=Mi_large_height,this.clockHand.nativeElement.style.top=Mi_large_top}_isInnerClockFace(o,c,d,h){return Math.sqrt(Math.pow(d-o,2)+Math.pow(h-c,2))<this.innerClockFaceSize}_removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this._touchEndHandler)}_selectAvailableTime(){const o=this.faceTime.find(c=>this.selectedTime.time===c.time);if(this.isClockFaceDisabled=this.faceTime.every(c=>c.disabled),o&&o.disabled&&!this.isClockFaceDisabled){const c=this.faceTime.find(d=>!d.disabled);this.timeChange.next(c)}}_setClockHandPosition(){ce.isTwentyFour(this.format)&&(this.selectedTime.time>12||0===this.selectedTime.time?this._decreaseClockHand():this._increaseClockHand()),this.selectedTime&&(this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`)}static#t=this.\u0275fac=function(c){return new(c||u)};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-face"]],viewQuery:function(c,d){if(1&c&&(i.GBs(ps,7),i.GBs(gs,7,i.aKT)),2&c){let h;i.mGM(h=i.lsd())&&(d.clockFace=h.first),i.mGM(h=i.lsd())&&(d.clockHand=h.first)}},hostBindings:function(c,d){1&c&&i.bIt("mousedown",function(x){return d.onMousedown(x)})("mouseup",function(x){return d.onMouseup(x)})("click",function(x){return d.selectTime(x)})("touchmove",function(x){return d.selectTime(x.changedTouches[0])})("touchend",function(x){return d.selectTime(x.changedTouches[0])})("mousemove",function(x){return d.selectTime(x)})},inputs:{color:"color",faceTime:"faceTime",format:"format",minutesGap:"minutesGap",selectedTime:"selectedTime",unit:"unit"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},standalone:!0,features:[i.OA$,i.aNF],ngContentSelectors:Xo,decls:11,vars:9,consts:[["hourButton",""],["minutesFace",""],[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"color","ngClass","hidden"],["clockHand",""],["mat-mini-fab","",3,"color",4,"ngIf"],[1,"clock-face__center",3,"color"],["mat-mini-fab","","disableRipple","",1,"mat-elevation-z0",3,"color","ngStyle","disabled"],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],["class","clock-face__inner",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"top","ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"],["mat-mini-fab","",3,"color"],[1,"clock-face__clock-hand_minute_dot"]],template:function(c,d){if(1&c&&(i.NAR(Xo),i.DNE(0,hs,4,13,"ng-template",null,0,i.C5r),i.DNE(2,bs,2,2,"ng-template",null,1,i.C5r),i.j41(4,"div",2,3),i.DNE(6,Ts,4,7,"div",4),i.j41(7,"mat-toolbar",5,6),i.DNE(9,Is,2,1,"button",7),i.k0s(),i.nrm(10,"mat-toolbar",8),i.k0s()),2&c){const h=i.sdS(3);i.R7$(6),i.Y8G("ngIf",d.unit!==d.timeUnit.MINUTE)("ngIfElse",h),i.R7$(1),i.Y8G("color",d.color)("ngClass",i.eq3(7,Ss,d.unit===d.timeUnit.MINUTE))("hidden",d.isClockFaceDisabled),i.R7$(2),i.Y8G("ngIf",d.unit===d.timeUnit.MINUTE),i.R7$(1),i.Y8G("color",d.color)}},dependencies:[hn.Hl,hn.$0,Ht.B3,Ht.pM,Ht.bT,Ht.T3,jn.s5,jn.KQ,Ht.YU,Ht.P9,ma,Di,Nn,ho],styles:["ngx-mat-timepicker-face .clock-face{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;box-sizing:border-box;background-color:#c8c8c880!important}ngx-mat-timepicker-face .clock-face__inner{position:absolute;top:0;left:0;width:100%;height:100%}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void{box-shadow:none;background-color:transparent}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void>span.mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face .clock-face__container{margin-left:-2px}ngx-mat-timepicker-face .clock-face__number{position:absolute;transform-origin:25px 100%;width:50px;text-align:center;z-index:2;top:calc(50% - 125px);left:calc(50% - 25px)}ngx-mat-timepicker-face .clock-face__number--outer{height:125px}ngx-mat-timepicker-face .clock-face__number--outer>span{font-size:16px}ngx-mat-timepicker-face .clock-face__number--inner>span{font-size:14px}ngx-mat-timepicker-face .clock-face__clock-hand{height:103px;width:2px;padding:0;transform-origin:1px 100%;position:absolute;top:calc(50% - 103px);z-index:1}ngx-mat-timepicker-face .clock-face__center{width:8px;height:8px;padding:0;position:absolute;border-radius:50%;top:50%;left:50%;margin:-4px}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button{position:absolute;top:-22px;left:calc(50% - 20px);box-sizing:content-box;display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button .clock-face__clock-hand_minute_dot{display:block;width:4px;height:4px;background:#FFF;border-radius:50%}@media (max-device-width: 1023px) and (orientation: landscape){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}@media screen and (max-width: 360px){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}\n"],encapsulation:2,changeDetection:0})}return u})(),fo=(()=>{class u{set color(o){this._color=o}get color(){return this._color}constructor(){this.minuteChange=new i.bkB,this.minutesList=[],this.timeUnit=We,this._color="primary"}ngOnChanges(o){if(o.period&&o.period.currentValue){const c=Oe.getMinutes(this.minutesGap);this.minutesList=Oe.disableMinutes(c,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}static#t=this.\u0275fac=function(c){return new(c||u)};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-minutes-face"]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",minutesGap:"minutesGap",period:"period",selectedHour:"selectedHour",selectedMinute:"selectedMinute"},outputs:{minuteChange:"minuteChange"},standalone:!0,features:[i.OA$,i.aNF],decls:1,vars:5,consts:[[3,"color","faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(c,d){1&c&&(i.j41(0,"ngx-mat-timepicker-face",0),i.bIt("timeChange",function(x){return d.minuteChange.next(x)}),i.k0s()),2&c&&i.Y8G("color",d.color)("faceTime",d.minutesList)("selectedTime",d.selectedMinute)("minutesGap",d.minutesGap)("unit",d.timeUnit.MINUTE)},dependencies:[Gi],encapsulation:2})}return u})(),Ho=(()=>{class u{set color(o){this._color=o}get color(){return this._color}set format(o){this._format=o,this.hoursList=Oe.getHours(this._format)}get format(){return this._format}constructor(){this.hourChange=new i.bkB,this.hourSelected=new i.bkB,this.hoursList=[],this._color="primary",this._format=24}onTimeSelected(o){this.hourSelected.next(o)}static#t=this.\u0275fac=function(c){return new(c||u)};static#e=this.\u0275dir=i.FsC({type:u,selectors:[["","ngxMatTimepickerHoursFace",""]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",selectedHour:"selectedHour"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"},standalone:!0})}return u})(),bo=(()=>{class u extends Ho{constructor(){super(),this.format=12}ngOnChanges(o){o.period&&o.period.currentValue&&(this.hoursList=Oe.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}static#t=this.\u0275fac=function(c){return new(c||u)};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-12-hours-face"]],inputs:{period:"period"},standalone:!0,features:[i.Vt3,i.OA$,i.aNF],decls:1,vars:3,consts:[[3,"color","selectedTime","faceTime","timeChange","timeSelected"]],template:function(c,d){1&c&&(i.j41(0,"ngx-mat-timepicker-face",0),i.bIt("timeChange",function(x){return d.hourChange.next(x)})("timeSelected",function(x){return d.onTimeSelected(x)}),i.k0s()),2&c&&i.Y8G("color",d.color)("selectedTime",d.selectedHour)("faceTime",d.hoursList)},dependencies:[Gi],encapsulation:2,changeDetection:0})}return u})(),vo=(()=>{class u extends Ho{constructor(){super(),this.format=24}ngAfterContentInit(){this.hoursList=Oe.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}static#t=this.\u0275fac=function(c){return new(c||u)};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-24-hours-face"]],standalone:!0,features:[i.Vt3,i.aNF],decls:1,vars:4,consts:[[3,"color","selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(c,d){1&c&&(i.j41(0,"ngx-mat-timepicker-face",0),i.bIt("timeChange",function(x){return d.hourChange.next(x)})("timeSelected",function(x){return d.onTimeSelected(x)}),i.k0s()),2&c&&i.Y8G("color",d.color)("selectedTime",d.selectedHour)("faceTime",d.hoursList)("format",d.format)},dependencies:[Gi],encapsulation:2,changeDetection:0})}return u})(),ua=(()=>{class u{constructor(o){this._overlay=o,this.isPeriodAvailable=!0,this.overlayScrollStrategy=this._overlay.scrollStrategies.reposition(),this.periodChanged=new i.bkB,this.timePeriod=$e}animationDone(){this.isPeriodAvailable=!0}changePeriod(o){this.isPeriodAvailable=this._isSwitchPeriodAvailable(o),this.isPeriodAvailable&&this.periodChanged.next(o)}_getDisabledTimeByPeriod(o){switch(this.activeTimeUnit){case We.HOUR:return Oe.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:o});case We.MINUTE:return Oe.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:o});default:throw new Error("no such NgxMatTimepickerUnits")}}_isSwitchPeriodAvailable(o){return!this._getDisabledTimeByPeriod(o).every(d=>d.disabled)}static#t=this.\u0275fac=function(c){return new(c||u)(i.rXU(e.hJ))};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-period"]],inputs:{activeTimeUnit:"activeTimeUnit",format:"format",hours:"hours",maxTime:"maxTime",meridiems:"meridiems",minTime:"minTime",minutes:"minutes",selectedHour:"selectedHour",selectedPeriod:"selectedPeriod"},outputs:{periodChanged:"periodChanged"},standalone:!0,features:[i.aNF],decls:7,vars:12,consts:[["cdkOverlayOrigin","",1,"timepicker-period"],["eventPanelOrigin","cdkOverlayOrigin"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["cdkConnectedOverlay","","cdkConnectedOverlayPanelClass","todo-remove-pointer-events-if-necessary",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayPositionStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(c,d){if(1&c&&(i.j41(0,"div",0,1)(2,"button",2),i.bIt("click",function(){return d.changePeriod(d.timePeriod.AM)}),i.EFF(3),i.k0s(),i.j41(4,"button",2),i.bIt("click",function(){return d.changePeriod(d.timePeriod.PM)}),i.EFF(5),i.k0s()(),i.DNE(6,js,1,1,"ng-template",3)),2&c){const h=i.sdS(1);i.R7$(2),i.Y8G("ngClass",i.eq3(8,ri,d.selectedPeriod===d.timePeriod.AM)),i.R7$(1),i.JRh(d.meridiems[0]),i.R7$(1),i.Y8G("ngClass",i.eq3(10,ri,d.selectedPeriod===d.timePeriod.PM)),i.R7$(1),i.JRh(d.meridiems[1]),i.R7$(1),i.Y8G("cdkConnectedOverlayScrollStrategy",d.overlayScrollStrategy)("cdkConnectedOverlayPositionStrategy",d.overlayPositionStrategy)("cdkConnectedOverlayOrigin",h)("cdkConnectedOverlayOpen",!d.isPeriodAvailable)}},dependencies:[e.$Q,Ht.YU,e.WB,Ht.bT],styles:[".timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{opacity:.5;padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;user-select:none;outline:none;border-radius:3px;transition:background-color .5s;color:inherit}.timepicker-period__btn.active[_ngcontent-%COMP%]{opacity:1}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:#00000012}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:#0000008c;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:700;color:#fff}"],data:{animation:[(0,fn.hZ)("scaleInOut",[(0,fn.kY)(":enter",[(0,fn.iF)({transform:"scale(0)"}),(0,fn.i0)(".2s",(0,fn.iF)({transform:"scale(1)"})),(0,fn.K2)([(0,fn.i0)("3s",(0,fn.iF)({opacity:1})),(0,fn.i0)(".3s",(0,fn.iF)({opacity:0}))])])])]}})}return u})(),Kn=(()=>{class u{get _locale(){return this._timepickerLocaleSrv.locale}constructor(o){this._timepickerLocaleSrv=o,this._numberingSystem=_t.local().setLocale(this._locale).resolvedLocaleOptions().numberingSystem}transform(o,c=We.HOUR){return null==o||""===o?"":isNaN(+o)?c===We.MINUTE?this._parseTime(o,"mm",mi.minute).toString():this._parseTime(o,"HH",mi.hour).toString():`${o}`}_parseTime(o,c,d){const h=_t.fromFormat(String(o),c,{numberingSystem:this._numberingSystem})[d];if(!isNaN(h))return h;throw new Error(`Cannot parse time - ${o}`)}static#t=this.\u0275fac=function(c){return new(c||u)(i.rXU(vn,16))};static#e=this.\u0275pipe=i.EJ8({name:"ngxMatTimepickerParser",type:u,pure:!0,standalone:!0});static#n=this.\u0275prov=i.jDH({token:u,factory:u.\u0275fac})}return u})(),pa=(()=>{class u{constructor(o,c){this._element=o,this._document=c,this._activeElement=this._document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this._element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this._activeElement.focus({preventScroll:!0}))}static#t=this.\u0275fac=function(c){return new(c||u)(i.rXU(i.aKT),i.rXU(Ht.qQ,8))};static#e=this.\u0275dir=i.FsC({type:u,selectors:[["","ngxMatTimepickerAutofocus",""]],inputs:{isFocusActive:["ngxMatTimepickerAutofocus","isFocusActive"]},standalone:!0,features:[i.OA$]})}return u})();function Ko(){this.selectionStart=this.selectionEnd}let Qo=(()=>{class u{get _selectedTime(){if(this.time)return this.timeList.find(o=>o.time===+this.time)}constructor(o,c){this._elRef=o,this._timeParserPipe=c,this.focused=new i.bkB,this.timeChanged=new i.bkB,this.timeUnitChanged=new i.bkB,this.unfocused=new i.bkB}changeTimeByKeyboard(o){const c=String.fromCharCode(o.keyCode);(function ga(u,l,o){if(/\d/.test(l))return Zo(u+l,o)})(this.time,c,this.timeList)&&o.preventDefault()}ngAfterViewInit(){this._elRef.nativeElement.querySelector("input").addEventListener("select",Ko,!1)}ngOnDestroy(){this._elRef.nativeElement.querySelector("input").removeEventListener("select",Ko)}onKeydown(o){Oe.isDigit(o)?this._changeTimeByArrow(o.keyCode):o.preventDefault()}onModelChange(o){this.time=this._timeParserPipe.transform(o,this.timeUnit)}saveTimeAndChangeTimeUnit(o,c){o.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(c),this.focused.next()}updateTime(){this._selectedTime&&(this.timeChanged.next(this._selectedTime),this.previousTime=this._selectedTime.time)}_addTime(o){return`0${+this.time+o}`.substr(-2)}_changeTimeByArrow(o){let c;38===o?c=this._addTime(this.minutesGap||1):40===o&&(c=this._addTime(-1*(this.minutesGap||1))),Zo(c,this.timeList)||(this.time=c,this.updateTime())}static#t=this.\u0275fac=function(c){return new(c||u)(i.rXU(i.aKT),i.rXU(Kn))};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-dial-control"]],inputs:{disabled:"disabled",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{focused:"focused",timeChanged:"timeChanged",timeUnitChanged:"timeUnitChanged",unfocused:"unfocused"},standalone:!0,features:[i.Jv_([Kn]),i.aNF],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus","keydown","keypress"]],template:function(c,d){if(1&c&&(i.DNE(0,Os,2,10,"input",0),i.DNE(1,On,3,13,"ng-template",null,1,i.C5r)),2&c){const h=i.sdS(2);i.Y8G("ngIf",!d.isEditable)("ngIfElse",h)}},dependencies:[Ht.bT,Ue.YN,Ue.me,Ue.BC,Ue.vS,Ht.YU,pa,Kn,ho],styles:[".timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:center;color:inherit}.timepicker-dial__control[_ngcontent-%COMP%]:focus{outline:none;background-color:#0000001a}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]})}return u})();function Zo(u,l){const o=l.find(c=>c.time===+u);return!o||o&&o.disabled}let xo,ko=(()=>{class u{set color(o){this._color=o}get color(){return this._color}get hourString(){return`${this.hour}`}get minuteString(){return`${this.minute}`}get _locale(){return this._localeSrv.locale}constructor(o){this._localeSrv=o,this.hourChanged=new i.bkB,this.meridiems=it.meridiems({locale:this._locale}),this.minuteChanged=new i.bkB,this.periodChanged=new i.bkB,this.timeUnit=We,this.timeUnitChanged=new i.bkB,this._color="primary"}changeHour(o){this.hourChanged.next(o)}changeMinute(o){this.minuteChanged.next(o)}changePeriod(o){this.periodChanged.next(o)}changeTimeUnit(o){this.timeUnitChanged.next(o)}hideHint(){this.isHintVisible=!1}ngOnChanges(o){const c=o.period&&o.period.currentValue;if(c||o.format&&o.format.currentValue){const d=Oe.getHours(this.format);this.hours=Oe.disableHours(d,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(c||o.hour&&o.hour.currentValue){const d=Oe.getMinutes(this.minutesGap);this.minutes=Oe.disableMinutes(d,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}showHint(){this.isHintVisible=!0}static#t=this.\u0275fac=function(c){return new(c||u)(i.rXU(vn))};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-dial"]],inputs:{activeTimeUnit:"activeTimeUnit",color:"color",editableHintTmpl:"editableHintTmpl",format:"format",hour:"hour",hoursOnly:"hoursOnly",isEditable:"isEditable",maxTime:"maxTime",minTime:"minTime",minute:"minute",minutesGap:"minutesGap",period:"period"},outputs:{hourChanged:"hourChanged",minuteChanged:"minuteChanged",periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged"},standalone:!0,features:[i.OA$,i.aNF],decls:9,vars:14,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],["class","timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(c,d){1&c&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-mat-timepicker-dial-control",3),i.bIt("timeUnitChanged",function(x){return d.changeTimeUnit(x)})("timeChanged",function(x){return d.changeHour(x)})("focused",function(){return d.showHint()})("unfocused",function(){return d.hideHint()}),i.k0s(),i.j41(4,"span"),i.EFF(5,":"),i.k0s(),i.j41(6,"ngx-mat-timepicker-dial-control",4),i.bIt("timeUnitChanged",function(x){return d.changeTimeUnit(x)})("timeChanged",function(x){return d.changeMinute(x)})("focused",function(){return d.showHint()})("unfocused",function(){return d.hideHint()}),i.k0s()(),i.DNE(7,bn,1,9,"ngx-mat-timepicker-period",5),i.k0s(),i.DNE(8,Rs,4,4,"div",6),i.k0s()),2&c&&(i.R7$(3),i.Y8G("timeList",d.hours)("time",d.hourString)("timeUnit",d.timeUnit.HOUR)("isActive",d.activeTimeUnit===d.timeUnit.HOUR)("isEditable",d.isEditable),i.R7$(3),i.Y8G("timeList",d.minutes)("time",d.minuteString)("timeUnit",d.timeUnit.MINUTE)("isActive",d.activeTimeUnit===d.timeUnit.MINUTE)("isEditable",d.isEditable)("minutesGap",d.minutesGap)("disabled",d.hoursOnly),i.R7$(1),i.Y8G("ngIf",24!==d.format),i.R7$(1),i.Y8G("ngIf",d.isEditable||d.editableHintTmpl))},dependencies:[Qo,Ht.bT,ua,Ht.YU,Ht.T3],styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:center}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0})}return u})(),qo=(()=>{class u{static#t=this.\u0275fac=function(c){return new(c||u)};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},standalone:!0,features:[i.aNF],ngContentSelectors:$s,decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[4,"ngTemplateOutlet"]],template:function(c,d){if(1&c&&(i.NAR(),i.DNE(0,Ds,2,1,"div",0),i.DNE(1,Gs,1,1,"ng-template",null,1,i.C5r),i.DNE(3,Ns,1,0,"ng-template",null,2,i.C5r)),2&c){const h=i.sdS(2);i.Y8G("ngIf",d.appendToInput)("ngIfElse",h)}},dependencies:[Ht.bT,Ht.T3],encapsulation:2})}return u})(),ts=(()=>{class u extends Jo{constructor(o,c,d,h,x){super(d,h,x,o),this.data=o,this._dialogRef=c}close(){this._dialogRef.close()}static#t=this.\u0275fac=function(c){return new(c||u)(i.rXU(Yn.Vh),i.rXU(Yn.CP),i.rXU(ci),i.rXU(Fi),i.rXU(vn))};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-dialog"]],standalone:!0,features:[i.Vt3,i.aNF],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["mat-dialog-content",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],["mat-dialog-actions",""],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(c,d){if(1&c&&(i.DNE(0,zs,2,1,"ng-template",null,0,i.C5r),i.DNE(2,Ps,2,1,"ng-template",null,1,i.C5r),i.j41(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),i.bIt("periodChanged",function(x){return d.changePeriod(x)})("timeUnitChanged",function(x){return d.changeTimeUnit(x)})("hourChanged",function(x){return d.onHourChange(x)})("minuteChanged",function(x){return d.onMinuteChange(x)}),i.nI1(9,"async"),i.nI1(10,"async"),i.nI1(11,"async"),i.k0s()(),i.j41(12,"div",7)(13,"div",8),i.DNE(14,Ys,4,2,"div",9),i.DNE(15,Bs,4,14,"ngx-mat-timepicker-minutes-face",10),i.k0s()()()()(),i.j41(16,"div",11)(17,"div",12),i.bIt("click",function(){return d.close()}),i.DNE(18,Vs,1,0,"ng-container",13),i.k0s(),i.j41(19,"div",12),i.bIt("click",function(){return d.setTime()}),i.DNE(20,Xs,1,0,"ng-container",13),i.k0s()()),2&c){const h=i.sdS(1),x=i.sdS(3);let E,N;i.R7$(5),i.Y8G("appendToInput",d.data.appendToInput)("inputElement",d.data.inputElement),i.R7$(1),i.Y8G("ngClass",d.data.timepickerClass),i.R7$(1),i.AVh("is-editable",d.data.enableKeyboardInput),i.Y8G("color",d.color),i.R7$(1),i.Y8G("color",d.color)("format",d.data.format)("hour",null==(E=i.bMT(9,23,d.selectedHour))?null:E.time)("minute",null==(N=i.bMT(10,25,d.selectedMinute))?null:N.time)("period",i.bMT(11,27,d.selectedPeriod))("activeTimeUnit",d.activeTimeUnit)("minTime",d.data.minTime)("maxTime",d.data.maxTime)("isEditable",d.data.enableKeyboardInput)("editableHintTmpl",d.data.editableHintTmpl)("minutesGap",d.data.minutesGap)("hoursOnly",d.data.hoursOnly),i.R7$(5),i.Y8G("ngSwitch",d.activeTimeUnit),i.R7$(1),i.Y8G("ngSwitchCase",d.timeUnit.HOUR),i.R7$(1),i.Y8G("ngSwitchCase",d.timeUnit.MINUTE),i.R7$(3),i.Y8G("ngTemplateOutlet",d.data.cancelBtnTmpl?d.data.cancelBtnTmpl:h),i.R7$(2),i.Y8G("ngTemplateOutlet",d.data.confirmBtnTmpl?d.data.confirmBtnTmpl:x)}},dependencies:[Ht.Jj,Ht.YU,Ht.bT,Ht.ux,Ht.e1,Ht.T3,hn.Hl,hn.$z,Yn.hM,Yn.Yi,Yn.E7,jn.s5,jn.KQ,qo,ko,vo,bo,fo],styles:["div.ngx-mat-timepicker-dialog>mat-dialog-container{padding-top:0}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content]{padding:0;max-height:85vh}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header.is-editable{height:auto}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] .clock-face{margin:16px}div.ngx-mat-timepicker-dialog>mat-dialog-container div[mat-dialog-actions]{justify-content:flex-end;display:flex}\n"],encapsulation:2})}return u})(),Co=(()=>{class u extends Jo{constructor(o,c,d,h){super(c,d,h,o),this.data=o}close(){this.data.timepickerBaseRef.close()}static#t=this.\u0275fac=function(c){return new(c||u)(i.rXU(li),i.rXU(ci),i.rXU(Fi),i.rXU(vn))};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-standalone"]],hostVars:2,hostBindings:function(c,d){2&c&&i.AVh("mat-app-background",!0)},standalone:!0,features:[i.Vt3,i.aNF],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["cdkTrapFocus",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"ngx-mat-timepicker-standalone-actions"],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(c,d){if(1&c&&(i.DNE(0,Us,2,1,"ng-template",null,0,i.C5r),i.DNE(2,Ws,2,1,"ng-template",null,1,i.C5r),i.j41(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),i.bIt("periodChanged",function(x){return d.changePeriod(x)})("timeUnitChanged",function(x){return d.changeTimeUnit(x)})("hourChanged",function(x){return d.onHourChange(x)})("minuteChanged",function(x){return d.onMinuteChange(x)}),i.nI1(9,"async"),i.nI1(10,"async"),i.nI1(11,"async"),i.k0s()(),i.j41(12,"div",7)(13,"div",8),i.DNE(14,Hs,4,2,"div",9),i.DNE(15,Ks,4,14,"ngx-mat-timepicker-minutes-face",10),i.k0s()()()(),i.j41(16,"div",11)(17,"div",12),i.bIt("click",function(){return d.close()}),i.DNE(18,Qs,1,0,"ng-container",13),i.k0s(),i.j41(19,"div",12),i.bIt("click",function(){return d.setTime()}),i.DNE(20,Zs,1,0,"ng-container",13),i.k0s()()()),2&c){const h=i.sdS(1),x=i.sdS(3);let E,N;i.R7$(5),i.Y8G("appendToInput",d.data.appendToInput)("inputElement",d.data.inputElement),i.R7$(1),i.Y8G("ngClass",d.data.timepickerClass),i.R7$(1),i.AVh("is-editable",d.data.enableKeyboardInput),i.Y8G("color",d.color),i.R7$(1),i.Y8G("color",d.color)("format",d.data.format)("hour",null==(E=i.bMT(9,23,d.selectedHour))?null:E.time)("minute",null==(N=i.bMT(10,25,d.selectedMinute))?null:N.time)("period",i.bMT(11,27,d.selectedPeriod))("activeTimeUnit",d.activeTimeUnit)("minTime",d.data.minTime)("maxTime",d.data.maxTime)("isEditable",d.data.enableKeyboardInput)("editableHintTmpl",d.data.editableHintTmpl)("minutesGap",d.data.minutesGap)("hoursOnly",d.data.hoursOnly),i.R7$(5),i.Y8G("ngSwitch",d.activeTimeUnit),i.R7$(1),i.Y8G("ngSwitchCase",d.timeUnit.HOUR),i.R7$(1),i.Y8G("ngSwitchCase",d.timeUnit.MINUTE),i.R7$(3),i.Y8G("ngTemplateOutlet",d.data.cancelBtnTmpl?d.data.cancelBtnTmpl:h),i.R7$(2),i.Y8G("ngTemplateOutlet",d.data.confirmBtnTmpl?d.data.confirmBtnTmpl:x)}},dependencies:[hn.Hl,hn.$z,mo.Pd,mo.kB,qo,Ht.YU,jn.s5,jn.KQ,ko,Ht.ux,Ht.e1,Ht.bT,vo,bo,fo,Ht.T3,Ht.Jj],styles:["ngx-mat-timepicker-standalone{display:block;border-radius:4px;box-shadow:0 0 5px 2px #00000040;overflow:hidden}ngx-mat-timepicker-standalone ngx-mat-timepicker-content{display:block}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header.is-editable{height:auto}ngx-mat-timepicker-standalone ngx-mat-timepicker-content .clock-face{margin:16px}ngx-mat-timepicker-standalone .ngx-mat-timepicker-standalone-actions{display:flex;flex-direction:row;justify-content:flex-end;padding:0 16px 16px}\n"],encapsulation:2})}return u})(),To=(()=>{class u{static#t=this.nextId=0;set appendToInput(o){this._appendToInput=(0,O.he)(o)}set color(o){this._color=o}get color(){return this._color}get disabled(){return this._timepickerInput&&this._timepickerInput.disabled}set enableKeyboardInput(o){this._enableKeyboardInput=(0,O.he)(o)}get enableKeyboardInput(){return this._enableKeyboardInput}get format(){return this._timepickerInput?this._timepickerInput.format:this._format}set format(o){this._format=ce.isTwentyFour(o)?24:12}get inputElement(){return this._timepickerInput&&this._timepickerInput.element}get maxTime(){return this._timepickerInput?this._timepickerInput.max:this.max}get minTime(){return this._timepickerInput?this._timepickerInput.min:this.min}get minutesGap(){return this._minutesGap}set minutesGap(o){null!=o&&(o=Math.floor(o),this._minutesGap=o<=59?o:1)}get overlayOrigin(){return this._timepickerInput?this._timepickerInput.cdkOverlayOrigin:void 0}get time(){return this._timepickerInput&&this._timepickerInput.value}constructor(o,c,d){this._eventService=o,this._dialog=c,this._overlay=d,this.closed=new i.bkB,this.hourSelected=new i.bkB,this.hoursOnly=!1,this.id="ngx_mat_timepicker_"+ ++u.nextId,this.isEsc=!0,this.opened=new i.bkB,this.overlayPositions=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:0},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:0}],this.showPicker=!1,this.timeChanged=new i.bkB,this.timeSet=new i.bkB,this.timeUpdated=new Hn.t(void 0),this._appendToInput=!1,this._color="primary",this._enableKeyboardInput=!1,this._format=12}close(){this._appendToInput?this._overlayRef&&this._overlayRef.dispose():this._dialogRef&&this._dialogRef.close(),this.inputElement.focus(),this.showPicker=!1,this.closed.emit()}open(){xo={timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this._appendToInput,hoursOnly:this.hoursOnly,timepickerClass:this.timepickerClass,inputElement:this.inputElement,color:this.color},this._appendToInput?this.showPicker=!0:(this._dialogRef=this._dialog.open(ts,{panelClass:"ngx-mat-timepicker-dialog",data:{...xo}}),this._dialogRef.afterClosed().subscribe(()=>{this.closed.emit()})),this.opened.emit()}registerInput(o){if(this._timepickerInput)throw console.warn("Input for this timepicker was already set",o.element),Error("A Timepicker can only be associated with a single input.");this._timepickerInput=o}unregisterInput(){this._timepickerInput=void 0}updateTime(o){this.timeUpdated.next(o)}static#e=this.\u0275fac=function(c){return new(c||u)(i.rXU(Fi),i.rXU(Yn.bZ),i.rXU(e.hJ))};static#n=this.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker"]],hostVars:1,hostBindings:function(c,d){2&c&&i.Mr5("id",d.id)},inputs:{appendToInput:"appendToInput",color:"color",enableKeyboardInput:"enableKeyboardInput",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",defaultTime:"defaultTime",disableAnimation:"disableAnimation",editableHintTmpl:"editableHintTmpl",hoursOnly:"hoursOnly",isEsc:"isEsc",max:"max",min:"min",preventOverlayClick:"preventOverlayClick",timepickerClass:"timepickerClass"},outputs:{closed:"closed",hourSelected:"hourSelected",opened:"opened",timeChanged:"timeChanged",timeSet:"timeSet"},standalone:!0,features:[i.Jv_([{provide:li,useFactory:()=>xo}]),i.aNF],decls:1,vars:4,consts:[["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","backdropClick"]],template:function(c,d){1&c&&(i.DNE(0,qs,1,0,"ng-template",0),i.bIt("backdropClick",function(){return d.close()})),2&c&&i.Y8G("cdkConnectedOverlayPositions",d.overlayPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayOrigin",d.overlayOrigin)("cdkConnectedOverlayOpen",d.showPicker)},dependencies:[e.WB,Co],encapsulation:2})}return u})(),Io=(()=>{class u{static#t=this.\u0275fac=function(c){return new(c||u)};static#e=this.\u0275dir=i.FsC({type:u,selectors:[["","ngxMatTimepickerToggleIcon",""]],standalone:!0})}return u})(),es=(()=>{class u{get disabled(){return void 0===this._disabled?this.timepicker?.disabled:this._disabled}set disabled(o){this._disabled=o}open(o){this.timepicker&&(this.timepicker.open(),o.stopPropagation())}static#t=this.\u0275fac=function(c){return new(c||u)};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-toggle"]],contentQueries:function(c,d,h){if(1&c&&i.wni(h,Io,7),2&c){let x;i.mGM(x=i.lsd())&&(d.customIcon=x.first)}},inputs:{disabled:"disabled",timepicker:["for","timepicker"]},standalone:!0,features:[i.aNF],ngContentSelectors:na,decls:3,vars:2,consts:[["color","","mat-icon-button","","type","button",1,"ngx-mat-timepicker-toggle","mat-elevation-z0",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","class","ngx-mat-timepicker-toggle-default-icon","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",1,"ngx-mat-timepicker-toggle-default-icon"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(c,d){1&c&&(i.NAR(ea),i.j41(0,"button",0),i.bIt("click",function(x){return d.open(x)}),i.DNE(1,ta,2,0,"svg",1),i.SdG(2),i.k0s()),2&c&&(i.Y8G("disabled",d.disabled),i.R7$(1),i.Y8G("ngIf",!d.customIcon))},dependencies:[hn.Hl,hn.iY,Ht.bT],styles:["button.ngx-mat-timepicker-toggle{background-color:transparent;text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer;box-shadow:none}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{margin:auto}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}body .ngx-mat-timepicker-toggle{color:#0000008a}\n"],encapsulation:2})}return u})(),ns=(()=>{class u{static#t=this.nextId=0;set color(o){this._color=o}get color(){return this._color}set floatLabel(o){this._floatLabel=o}get floatLabel(){return this._floatLabel}constructor(o){this._timeParser=o,this.id=u.nextId++,this.timeChanged=new i.bkB,this._color="primary",this._floatLabel="auto"}changeTime(o){o.stopPropagation();const c=o.data,d=function ha(u,l){if(/\d/.test(l))return+(u+l)}(String(this.time),c);this._changeTimeIfValid(d)}decrease(){if(!this.disabled){let o=+this.time-1;o<this.min&&(o=this.max),this._isSelectedTimeDisabled(o)&&(o=this._getAvailableTime(o,this._getPrevAvailableTime.bind(this))),o!==this.time&&this.timeChanged.emit(o)}}increase(){if(!this.disabled){let o=+this.time+1;o>this.max&&(o=this.min),this._isSelectedTimeDisabled(o)&&(o=this._getAvailableTime(o,this._getNextAvailableTime.bind(this))),o!==this.time&&this.timeChanged.emit(o)}}ngOnChanges(o){o.timeList&&null!=this.time&&this._isSelectedTimeDisabled(this.time)&&this._setAvailableTime()}onBlur(){this.isFocused=!1,this._previousTime!==this.time&&this._changeTimeIfValid(+this.time)}onFocus(){this.isFocused=!0,this._previousTime=this.time}onKeydown(o){switch(o.stopPropagation(),Oe.isDigit(o)||o.preventDefault(),o.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==o.key&&o.preventDefault()}onModelChange(o){this.time=+this._timeParser.transform(o,this.timeUnit)}_changeTimeIfValid(o){if(!isNaN(o)){if(this.time=o,this.time>this.max){const c=String(o);this.time=+c[c.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}_getAvailableTime(o,c){return c(this.timeList.findIndex(x=>x.time===o))??this.time}_getNextAvailableTime(o){const c=this.timeList,d=c.length;for(let h=o+1;h<d;h++){const x=c[h];if(!x.disabled)return x.time}}_getPrevAvailableTime(o){for(let c=o;c>=0;c--){const d=this.timeList[c];if(!d.disabled)return d.time}}_isSelectedTimeDisabled(o){return this.timeList.find(c=>c.time===o).disabled}_setAvailableTime(){this.time=this.timeList.find(o=>!o.disabled).time,this.timeChanged.emit(this.time)}static#e=this.\u0275fac=function(c){return new(c||u)(i.rXU(Kn))};static#n=this.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-time-control"]],inputs:{color:"color",disabled:"disabled",floatLabel:"floatLabel",max:"max",min:"min",placeholder:"placeholder",preventTyping:"preventTyping",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[i.Jv_([Kn]),i.OA$,i.aNF],decls:13,vars:17,consts:[[1,"ngx-mat-timepicker-control",3,"color","floatLabel","ngClass"],["matInput","","maxlength","2",3,"id","name","ngModel","placeholder","disabled","ngModelChange","keydown","beforeinput","focus","blur"],["matSuffix","",1,"arrows-wrap"],["role","button",1,"arrow",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","18","viewBox","0 0 24 24","width","18"],["d","M0 0h24v24H0z","fill","none"],["d","M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"],["d","M0 0h24v24H0V0z","fill","none"],["d","M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"]],template:function(c,d){1&c&&(i.j41(0,"mat-form-field",0)(1,"input",1),i.bIt("ngModelChange",function(x){return d.onModelChange(x)})("keydown",function(x){return d.onKeydown(x)})("beforeinput",function(x){return d.changeTime(x)})("focus",function(){return d.onFocus()})("blur",function(){return d.onBlur()}),i.nI1(2,"timeLocalizer"),i.nI1(3,"ngxMatTimepickerParser"),i.k0s(),i.j41(4,"div",2)(5,"span",3),i.bIt("click",function(){return d.increase()}),i.qSk(),i.j41(6,"svg",4),i.nrm(7,"path",5)(8,"path",6),i.k0s()(),i.joV(),i.j41(9,"span",3),i.bIt("click",function(){return d.decrease()}),i.qSk(),i.j41(10,"svg",4),i.nrm(11,"path",7)(12,"path",8),i.k0s()()()()),2&c&&(i.Y8G("color",d.color)("floatLabel",d.floatLabel)("ngClass",i.eq3(15,ri,d.isFocused)),i.R7$(1),i.Mz_("id","ngx_mat_timepicker_field_",d.id,"")("name","ngx_mat_timepicker_field_",d.id,""),i.Y8G("ngModel",i.brH(2,8,i.i5U(3,12,d.time,d.timeUnit),d.timeUnit,!0))("placeholder",d.placeholder)("disabled",d.disabled))},dependencies:[Bn.RG,Bn.rl,Bn.yw,Ht.YU,po.fS,po.fg,Ue.YN,Ue.me,Ue.BC,Ue.tU,Ue.vS,Kn,ho],styles:[".ngx-mat-timepicker-control[_ngcontent-%COMP%]{width:60px;min-width:60px}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%]{position:relative;z-index:1}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{text-align:center;opacity:.5;height:15px;cursor:pointer;transition:opacity .2s;-webkit-user-select:none;user-select:none}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0})}return u})(),fa=(()=>{class u{get color(){return this._color}set color(o){this._color=o}get defaultTime(){return this._defaultTime}set defaultTime(o){this._defaultTime=o,this._isDefaultTime=!!o}get floatLabel(){return this._floatLabel}set floatLabel(o){this._floatLabel=o}get format(){return this._format}set format(o){ce.isTwentyFour(o)?(this._format=24,this.minHour=0,this.maxHour=23):(this._format=12,this.minHour=1,this.maxHour=12),this.hoursList=Oe.getHours(this._format),o&&this._previousFormat&&this._previousFormat!==this._format&&this._updateTime(this.timepickerTime),this._previousFormat=this._format}get max(){return this._max}set max(o){this._max="string"!=typeof o?o:ce.parseTime(o,{locale:this._locale,format:this.format})}get min(){return this._min}set min(o){this._min="string"!=typeof o?o:ce.parseTime(o,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(o,c){this._timepickerService=o,this._timepickerLocaleSrv=c,this.hour$=new Hn.t(void 0),this.maxHour=12,this.minHour=1,this.minute$=new Hn.t(void 0),this.period=$e.AM,this.periods=[$e.AM,$e.PM],this.timeChanged=new i.bkB,this.timeUnit=We,this._color="primary",this._floatLabel="auto",this._format=12,this._isFirstTimeChange=!0,this._subsCtrl$=new ii.B,this._onChange=()=>{},this._onTouched=()=>{}}changeHour(o){this._timepickerService.hour=this.hoursList.find(c=>c.time===o),this._changeTime()}changeMinute(o){this._timepickerService.minute=this.minutesList.find(c=>c.time===o),this._changeTime()}changePeriod(o){this._timepickerService.period=o.value,this._changeTime()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._initTime(this.defaultTime),this.hoursList=Oe.getHours(this._format),this.minutesList=Oe.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this._timepickerService.selectedHour.pipe((0,si.M)(o=>this._selectedHour=o?.time),(0,Lo.T)(this._changeDefaultTimeValue.bind(this)),(0,si.M)(()=>this.isTimeRangeSet&&this._updateAvailableMinutes())).subscribe({next:o=>this.hour$.next(o)}),this._timepickerService.selectedMinute.pipe((0,Lo.T)(this._changeDefaultTimeValue.bind(this)),(0,si.M)(()=>this._isFirstTimeChange=!1)).subscribe({next:o=>this.minute$.next(o)}),12===this.format&&this._timepickerService.selectedPeriod.pipe((0,ds.F)(),(0,si.M)(o=>this.period=o),(0,si.M)(o=>this.isChangePeriodDisabled=this._isPeriodDisabled(o)),(0,co.Q)(this._subsCtrl$)).subscribe(()=>this.isTimeRangeSet&&this._updateAvailableTime())}onTimeSet(o){this._updateTime(o),this._emitLocalTimeChange(o)}registerOnChange(o){this._onChange=o}registerOnTouched(o){this._onTouched=o}setDisabledState(o){this.disabled=o}writeValue(o){o?this._initTime(o):this._resetTime()}_changeDefaultTimeValue(o){return!this._isDefaultTime&&this._isFirstTimeChange?{...o,time:null}:o}_changeTime(){if(!isNaN(this.hour$.getValue()?.time)&&!isNaN(this.minute$.getValue()?.time)){const o=this._timepickerService.getFullTime(this.format);this.timepickerTime=o,this._emitLocalTimeChange(o)}}_emitLocalTimeChange(o){const c=ce.toLocaleTimeString(o,{format:this.format,locale:this._locale});this._onChange(c),this._onTouched(c),this.timeChanged.emit(c)}_initTime(o){if(!ce.isTimeAvailable(o,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this._updateTime(ce.fromDateTimeToString(this.min,this.format));if(this.max)return void this._updateTime(ce.fromDateTimeToString(this.max,this.format))}this._updateTime(o)}_isPeriodDisabled(o){return Oe.disableHours(Oe.getHours(12),{min:this.min,max:this.max,format:12,period:o===$e.AM?$e.PM:$e.AM}).every(c=>c.disabled)}_resetTime(){this._timepickerService.hour={angle:0,time:null},this._timepickerService.minute={angle:0,time:null}}_updateAvailableHours(){this.hoursList=Oe.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableMinutes(){this.minutesList=Oe.disableMinutes(this.minutesList,this._selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableTime(){this._updateAvailableHours(),this._selectedHour&&this._updateAvailableMinutes()}_updateTime(o){if(o){const c=ce.formatTime(o,{locale:this._locale,format:this.format});this._timepickerService.setDefaultTimeIfAvailable(c,this.min,this.max,this.format),this.timepickerTime=c}}static#t=this.\u0275fac=function(c){return new(c||u)(i.rXU(ci),i.rXU(vn))};static#e=this.\u0275cmp=i.VBU({type:u,selectors:[["ngx-mat-timepicker-field"]],inputs:{color:"color",defaultTime:"defaultTime",floatLabel:"floatLabel",format:"format",max:"max",min:"min",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",controlOnly:"controlOnly",disabled:"disabled",toggleIcon:"toggleIcon"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[i.Jv_([ci,{provide:Ue.kq,useExisting:u,multi:!0}]),i.aNF],decls:11,vars:32,consts:[[1,"ngx-mat-timepicker",3,"ngClass"],[1,"ngx-mat-timepicker__control--first",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],[1,"separator-colon","ngx-mat-timepicker__control--second"],[1,"ngx-mat-timepicker__control--third",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],["class","period-select ngx-mat-timepicker__control--forth",3,"color",4,"ngIf"],["class","ngx-mat-timepicker__toggle",3,"for","disabled",4,"ngIf"],[3,"color","min","max","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl","timeSet"],["timepicker",""],["defaultIcon",""],[1,"period-select","ngx-mat-timepicker__control--forth",3,"color"],[3,"disabled","ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ngx-mat-timepicker__toggle",3,"for","disabled"],["ngxMatTimepickerToggleIcon",""],[4,"ngTemplateOutlet"]],template:function(c,d){if(1&c&&(i.j41(0,"div",0)(1,"ngx-mat-timepicker-time-control",1),i.bIt("timeChanged",function(x){return d.changeHour(x)}),i.k0s(),i.j41(2,"span",2),i.EFF(3,":"),i.k0s(),i.j41(4,"ngx-mat-timepicker-time-control",3),i.bIt("timeChanged",function(x){return d.changeMinute(x)}),i.k0s(),i.DNE(5,oa,3,4,"mat-form-field",4),i.DNE(6,aa,3,3,"ngx-mat-timepicker-toggle",5),i.k0s(),i.j41(7,"ngx-mat-timepicker",6,7),i.bIt("timeSet",function(x){return d.onTimeSet(x)}),i.k0s(),i.DNE(9,ra,2,0,"ng-template",null,8,i.C5r)),2&c){let h,x;i.Y8G("ngClass",i.eq3(30,la,d.disabled)),i.R7$(1),i.Y8G("color",d.color)("floatLabel",d.floatLabel)("placeholder","HH")("time",null==(h=d.hour$.getValue())?null:h.time)("min",d.minHour)("max",d.maxHour)("timeUnit",d.timeUnit.HOUR)("disabled",d.disabled)("timeList",d.hoursList)("preventTyping",d.isTimeRangeSet),i.R7$(3),i.Y8G("color",d.color)("floatLabel",d.floatLabel)("placeholder","MM")("time",null==(x=d.minute$.getValue())?null:x.time)("min",0)("max",59)("timeUnit",d.timeUnit.MINUTE)("disabled",d.disabled)("timeList",d.minutesList)("preventTyping",d.isTimeRangeSet),i.R7$(1),i.Y8G("ngIf",24!==d.format),i.R7$(1),i.Y8G("ngIf",!d.controlOnly),i.R7$(1),i.Y8G("color",d.color)("min",d.min)("max",d.max)("defaultTime",d.timepickerTime)("format",d.format)("cancelBtnTmpl",d.cancelBtnTmpl)("confirmBtnTmpl",d.confirmBtnTmpl)}},dependencies:[Ht.YU,ns,Ht.bT,Bn.RG,Bn.rl,_o.Ve,_o.VO,Yo.wT,Ue.YN,Ue.BC,Ue.vS,Ht.pM,Yo.Sy,es,Io,Ht.T3,To,uo.m_,uo.An],styles:[".ngx-mat-timepicker{display:flex;align-items:center;height:100%}.ngx-mat-timepicker--disabled{background:rgba(0,0,0,.07);pointer-events:none}.ngx-mat-timepicker .separator-colon{margin-left:5px;margin-right:5px}.ngx-mat-timepicker .period-select{width:60px;min-width:60px;margin-left:8px;text-align:center}.ngx-mat-timepicker__control--first{order:1}.ngx-mat-timepicker__control--second{order:2}.ngx-mat-timepicker__control--third{order:3}.ngx-mat-timepicker__control--forth{order:4}.ngx-mat-timepicker__toggle{order:4;margin-bottom:1.5em;margin-left:4px}.ngx-mat-timepicker__toggle span.mat-button-wrapper{font-size:24px}\n"],encapsulation:2,changeDetection:0})}return u})(),ba=(()=>{class u{get element(){return this._elementRef&&this._elementRef.nativeElement}get format(){return this._format}set format(o){this._format=ce.isTwentyFour(+o)?24:12,o&&this._previousFormat&&this._previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this._previousFormat=this._format}get max(){return this._max}set max(o){this._max="string"!=typeof o?o:ce.parseTime(o,{locale:this._locale,format:this.format})}get min(){return this._min}set min(o){this._min="string"!=typeof o?o:ce.parseTime(o,{locale:this._locale,format:this.format})}set timepicker(o){this._registerTimepicker(o)}get value(){return this._value?ce.toLocaleTimeString(this._value,{format:this.format,locale:this._locale}):""}set value(o){if(!o)return this._value="",void this._updateInputValue();const c=ce.formatTime(o,{locale:this._locale,format:this.format});if(ce.isTimeAvailable(c,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=c,void this._updateInputValue();console.warn("Selected time doesn't match min or max value")}set _defaultTime(o){this._timepicker.defaultTime=ce.formatTime(o,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(o,c,d){this._elementRef=o,this._timepickerLocaleSrv=c,this._matFormField=d,this.cdkOverlayOrigin=new e.$Q(this._matFormField?this._matFormField.getConnectedOverlayOrigin():this._elementRef),this._format=12,this._subsCtrl$=new ii.B,this._value="",this.onTouched=()=>{},this._onChange=()=>{}}ngOnChanges(o){const c=o.value;c&&c.currentValue&&(this._defaultTime=c.currentValue)}ngOnDestroy(){this._unregisterTimepicker(),this._subsCtrl$.next(),this._subsCtrl$.complete()}onClick(o){this.disableClick||(this._timepicker.open(),o.stopPropagation())}registerOnChange(o){this._onChange=o}registerOnTouched(o){this.onTouched=o}setDisabledState(o){this.disabled=o}updateValue(o){this.value=o.target.value,this._onChange(this.value)}writeValue(o){this.value=o,o&&(this._defaultTime=o)}_registerTimepicker(o){if(!o)throw new Error("NgxMatTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxMatTimepicker directive");this._timepicker=o,this._timepicker.registerInput(this),this._timepicker.timeSet.pipe((0,co.Q)(this._subsCtrl$)).subscribe(c=>{this.value=c,this._onChange(this.value),this.onTouched(),this._defaultTime=this._value})}_unregisterTimepicker(){this._timepicker&&this._timepicker.unregisterInput()}_updateInputValue(){this._elementRef.nativeElement.value=this.value}static#t=this.\u0275fac=function(c){return new(c||u)(i.rXU(i.aKT),i.rXU(vn),i.rXU(Bn.rl,8))};static#e=this.\u0275dir=i.FsC({type:u,selectors:[["","ngxMatTimepicker",""]],hostVars:2,hostBindings:function(c,d){1&c&&i.bIt("blur",function(){return d.onTouched()})("click",function(x){return d.onClick(x)})("change",function(x){return d.updateValue(x)}),2&c&&(i.Mr5("disabled",d.disabled),i.BMQ("cdkOverlayOrigin",d.cdkOverlayOrigin))},inputs:{format:"format",max:"max",min:"min",timepicker:["ngxMatTimepicker","timepicker"],value:"value",disableClick:"disableClick",disabled:"disabled"},standalone:!0,features:[i.Jv_([{provide:Ue.kq,useExisting:u,multi:!0}]),i.OA$]})}return u})(),va=(()=>{class u{static setLocale(o){return{ngModule:u,providers:[{provide:Wo,useValue:o},{provide:li,useValue:void 0},vn]}}static#t=this.\u0275fac=function(c){return new(c||u)};static#e=this.\u0275mod=i.$C({type:u});static#n=this.\u0275inj=i.G2t({providers:[vn,{provide:hn.Il,useValue:{color:"void"}}],imports:[Ht.MD,mo.Pd,Ue.YN,hn.Hl,Bn.RG,Yn.hM,po.fS,_o.Ve,jn.s5,uo.m_,e.z_,us.jc,To,ko,Qo,ts,Gi,fo,Co,es,bo,vo,fa,ns]})}return u})()}}]);