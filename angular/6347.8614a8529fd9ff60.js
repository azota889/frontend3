"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[6347],{28992:(Ye,Bt,f)=>{f.d(Bt,{y:()=>me});var et=f(52572),l=f(47496),o=f(65879),r=f(21266),m=f(78226),t=f(87789),Q=f(84003),st=f(96814),Zt=f(43389),Tt=f(93283),bt=f(15828),rt=f(86),W=f(56223),dt=f(19347),it=f(72164),ht=f(63038),kt=f(71646),lt=f(36727);function L(T,E){1&T&&(o.TgZ(0,"span",10),o._UZ(1,"azt-loading-ui"),o.qZA())}let M=(()=>{class T extends it.e{handleCloseDialog(){this.dialogRef.close(!1)}handleSaveReasonForLeave(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsAttendancesMePost({classroomId:this.data.classroomId,programId:this.data.programId,sessionId:this.data.sessionId,reason:this.content.value}).subscribe({next:w=>{this.showSuccessSnack("lang_business_reason_for_requesting_leave_of_absence_has_been_submitted"),this.dialogRef.close(!0)},error:w=>{this.errorStatusObj(w.error.message,!0)}}))}ngOnInit(){super.ngOnInit()}constructor(h,w,S){super(S,w),this.studentService=h,this.dialogRef=w,this.data=S,this.content=new W.NI("",{nonNullable:!0,validators:[W.kI.required]})}}return T.\u0275fac=function(h){return new(h||T)(o.Y36(t.VT),o.Y36(dt.so,8),o.Y36(dt.WI,8))},T.\u0275cmp=o.Xpm({type:T,selectors:[["app-business-take-school-leave"]],features:[o.qOj],decls:17,vars:12,consts:[[1,"box"],[1,"p-3"],[1,"text-md","font-medium"],[1,"mt-3"],["autoResize","","cols","30","rows","10",1,"form-control",2,"resize","none",3,"formControl"],[1,"p-3","flex","items-center"],[1,"ml-auto"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","btn-primary","w-24",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(h,w){1&h&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),o._uU(3),o.ALo(4,"mytranslate"),o.qZA(),o.TgZ(5,"div",3),o._UZ(6,"textarea",4),o.qZA()(),o.TgZ(7,"div",5)(8,"div",6)(9,"button",7),o.NdJ("click",function(){return w.handleCloseDialog()}),o._uU(10),o.ALo(11,"mytranslate"),o.qZA(),o.TgZ(12,"button",8),o.NdJ("click",function(){return w.handleSaveReasonForLeave()}),o.YNc(13,L,2,0,"span",9),o.TgZ(14,"span"),o._uU(15),o.ALo(16,"mytranslate"),o.qZA()()()()()),2&h&&(o.xp6(3),o.hij(" ",o.lcZ(4,6,"lang_business_reason_for_leave")," "),o.xp6(3),o.Q6J("formControl",w.content),o.xp6(4),o.hij(" ",o.lcZ(11,8,"lang_button_close")," "),o.xp6(2),o.Q6J("disabled",w.content.invalid||w.statusObj.loading),o.xp6(1),o.Q6J("ngIf",w.statusObj.loading),o.xp6(2),o.Oqu(o.lcZ(16,10,"lang_button_save")))},dependencies:[st.O5,W.Fj,W.JJ,W.oH,ht.m,kt.n,lt.JV],encapsulation:2}),T})();var j=f(2783),R=f(82228),tt=f(95273),ot=f(92596),ie=f(93523),qt=f(8524),$t=f(37722),ve=f(19524),zt=f(29023),ae=f(73445),ue=f(23680),Be=f(44683),He=f(13217);class pe{static addNewEducationalProgramFormValidator(E){let h=E,w=h.controls.weekdayConfig;if(w&&w.length){let S=0,F=0;return w.controls.forEach(z=>{let X=!1,mt={invalidTime:!1,requireTime:!1,invalidInfrastructure:!1,identityRevealed:!0};z.controls.selected.value?(z.controls.infrastructureId.value||(X=!0,mt.invalidInfrastructure=!0),z.controls.startTime.value&&z.controls.endTime.value?new Date("1970-01-01T"+z.controls.startTime.value).getTime()>=new Date("1970-01-01T"+z.controls.endTime.value).getTime()?(X=!0,mt.invalidTime=!0):mt.invalidTime=!1:(X=!0,mt.requireTime=!0),z.setErrors(X?mt:null),F++):z.setErrors(null),z.invalid&&S++},w),S||!F?(h.setErrors({invalidData:!0}),{identityRevealed:!0,invalidData:!0}):(h.setErrors(null),null)}return h.setErrors(null),null}}var Wt=f(20553),ge=f(98603),Ge=f(32296),se=f(2032),Te=f(64170),Re=f(98525),Ie=f(30292),Ve=f(67679),je=f(95545),ee=f(82481);const $e=["startTime"];function Le(T,E){1&T&&o._UZ(0,"azt-loading-effect",5)}function rn(T,E){1&T&&o._UZ(0,"lucide-icon",45)}function We(T,E){1&T&&o._UZ(0,"lucide-icon",46)}function B(T,E){1&T&&o._UZ(0,"lucide-icon",52)}const ct=function(T){return{"border border-primary":T}};function A(T,E){if(1&T){const h=o.EpF();o.TgZ(0,"div",48)(1,"div",49),o.NdJ("click",function(){const F=o.CHM(h).$implicit,z=o.oxw(2).$implicit,X=o.oxw(2);let mt;return o.KtG(X.selectSubject(null!==(mt=z.id)&&void 0!==mt?mt:0,F))}),o.TgZ(2,"span",50),o._uU(3),o.ALo(4,"mytranslate"),o.qZA(),o.YNc(5,B,1,0,"lucide-icon",51),o.qZA()()}if(2&T){const h=E.$implicit;o.Q6J("ngClass",o.VKq(5,ct,h.selected)),o.xp6(3),o.Oqu(o.lcZ(4,3,h.name)),o.xp6(2),o.Q6J("ngIf",h.selected)}}function $(T,E){if(1&T&&(o.ynx(0),o.YNc(1,A,6,7,"div",47),o.BQk()),2&T){const h=o.oxw().$implicit;o.xp6(1),o.Q6J("ngForOf",h.subjects)}}function G(T,E){if(1&T){const h=o.EpF();o.ynx(0),o.TgZ(1,"h3",41)(2,"span",42),o.NdJ("click",function(){const F=o.CHM(h).$implicit,z=o.oxw(2);let X;return o.KtG(z.showEducationalProgramSubject(null!==(X=F.id)&&void 0!==X?X:0))}),o._uU(3),o.ALo(4,"mytranslate"),o.YNc(5,rn,1,0,"lucide-icon",43),o.YNc(6,We,1,0,"lucide-icon",44),o.qZA()(),o.YNc(7,$,2,1,"ng-container",18),o.BQk()}if(2&T){const h=E.$implicit;o.xp6(3),o.hij(" ",o.lcZ(4,4,h.name)," "),o.xp6(2),o.Q6J("ngIf",h.showChild),o.xp6(1),o.Q6J("ngIf",!h.showChild),o.xp6(1),o.Q6J("ngIf",h.showChild)}}function pt(T,E){1&T&&(o.ynx(0),o.TgZ(1,"small",53),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.BQk()),2&T&&(o.xp6(2),o.hij("* ",o.lcZ(3,1,"lang_business_config_educational_program_validate"),""))}function At(T,E){1&T&&(o.ynx(0),o.TgZ(1,"small",53),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.BQk()),2&T&&(o.xp6(2),o.hij("* ",o.lcZ(3,1,"lang_business_config_educational_program_no_program_yet"),""))}function D(T,E){if(1&T){const h=o.EpF();o.ynx(0),o.TgZ(1,"div",55),o.NdJ("click",function(){o.CHM(h);const S=o.oxw().$implicit,F=o.oxw(2);return o.KtG(F.openWeekdayConfig(S.controls.id.value))}),o.TgZ(2,"span"),o._uU(3),o.ALo(4,"mytranslate"),o.qZA()(),o.BQk()}if(2&T){const h=o.oxw().$implicit;o.xp6(1),o.Q6J("formGroup",h),o.xp6(2),o.Oqu(o.lcZ(4,2,h.controls.name.value))}}function ne(T,E){1&T&&(o.TgZ(0,"button",76),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&T&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"lang_auto_huy")))}function Ft(T,E){1&T&&(o.TgZ(0,"button",77),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&T&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"lang_auto_xac_nhan")))}function Ce(T,E){1&T&&o._UZ(0,"p",78)}function Lt(T,E){1&T&&(o.TgZ(0,"mat-label"),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&T&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"lang_business_config_educational_program_select_infrastructure")))}function De(T,E){if(1&T&&(o.TgZ(0,"mat-option",79),o._uU(1),o.qZA()),2&T){const h=E.$implicit;o.s9C("value",h.id),o.xp6(1),o.Oqu(h.name)}}function St(T,E){1&T&&(o.ynx(0),o.TgZ(1,"small",80),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.BQk()),2&T&&(o.xp6(2),o.hij("* ",o.lcZ(3,1,"lang_business_config_educational_program_time_validate"),""))}function re(T,E){1&T&&(o.ynx(0),o.TgZ(1,"small",80),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.BQk()),2&T&&(o.xp6(2),o.hij("* ",o.lcZ(3,1,"lang_testbank_test_config_end_time_bigger_time_star"),""))}function he(T,E){1&T&&(o.ynx(0),o._UZ(1,"br"),o.TgZ(2,"small",81),o._uU(3),o.ALo(4,"mytranslate"),o.qZA(),o.BQk()),2&T&&(o.xp6(3),o.hij("* ",o.lcZ(4,1,"lang_business_config_educational_program_infrastructure_validate"),""))}function hn(T,E){if(1&T){const h=o.EpF();o.TgZ(0,"div",56)(1,"div",57)(2,"span",58),o.NdJ("click",function(){o.CHM(h);const S=o.oxw().$implicit,F=o.oxw(2);return o.KtG(F.openWeekdayConfig(S.controls.id.value))}),o._uU(3),o.ALo(4,"mytranslate"),o.qZA(),o.TgZ(5,"lucide-icon",59),o.NdJ("click",function(){o.CHM(h);const S=o.oxw().$implicit,F=o.oxw(2);return o.KtG(F.openWeekdayConfig(S.controls.id.value))}),o.qZA(),o.TgZ(6,"div",60)(7,"div",61)(8,"div",62),o._UZ(9,"input",63),o.ALo(10,"mytranslate"),o._UZ(11,"ngx-mat-timepicker",64,65),o.qZA(),o.TgZ(13,"span",66),o._uU(14,"\xa0-\xa0"),o.qZA(),o.TgZ(15,"div",62),o._UZ(16,"input",67),o.ALo(17,"mytranslate"),o._UZ(18,"ngx-mat-timepicker",64,68),o.qZA(),o.YNc(20,ne,3,3,"ng-template",null,69,o.W1O),o.YNc(22,Ft,3,3,"ng-template",null,70,o.W1O),o.YNc(24,Ce,1,0,"ng-template",null,71,o.W1O),o.TgZ(26,"lucide-icon",72),o.NdJ("click",function(){o.CHM(h);const S=o.oxw().$implicit,F=o.oxw(2);return o.KtG(F.openWeekdayConfig(S.controls.id.value))}),o.qZA()(),o.TgZ(27,"mat-form-field",73),o.YNc(28,Lt,3,3,"mat-label",18),o.TgZ(29,"mat-select",74),o.NdJ("openedChange",function(S){o.CHM(h);const F=o.oxw().$implicit,z=o.oxw(2);return o.KtG(z.touchedMatSelect(S,F))}),o.YNc(30,De,2,2,"mat-option",75),o.qZA()(),o.YNc(31,St,4,3,"ng-container",18),o.YNc(32,re,4,3,"ng-container",18),o.YNc(33,he,5,3,"ng-container",18),o.qZA()()()}if(2&T){const h=o.MAs(12),w=o.MAs(19),S=o.MAs(21),F=o.MAs(23),z=o.MAs(25),X=o.oxw().$implicit,mt=o.oxw(2);o.Q6J("formGroup",X)("ngClass",o.VKq(29,ct,X.controls.selected.value)),o.xp6(3),o.Oqu(o.lcZ(4,23,X.controls.name.value)),o.xp6(6),o.s9C("placeholder",o.lcZ(10,25,"lang_auto_tu")),o.Q6J("ngxMatTimepicker",h)("format",24),o.xp6(2),o.Q6J("editableHintTmpl",z)("enableKeyboardInput",!0)("cancelBtnTmpl",S)("confirmBtnTmpl",F),o.xp6(5),o.s9C("placeholder",o.lcZ(17,27,"lang_auto_den")),o.Q6J("ngxMatTimepicker",w)("format",24),o.xp6(2),o.Q6J("editableHintTmpl",z)("enableKeyboardInput",!0)("cancelBtnTmpl",S)("confirmBtnTmpl",F),o.xp6(10),o.Q6J("ngIf",X.errors&&X.errors.invalidInfrastructure&&!X.controls.infrastructureId.touched),o.xp6(1),o.Q6J("value",X.controls.infrastructureId.value),o.xp6(1),o.Q6J("ngForOf",mt.listInfrastructureObjs),o.xp6(1),o.Q6J("ngIf",X.errors&&X.errors.requireTime),o.xp6(1),o.Q6J("ngIf",X.errors&&X.errors.invalidTime),o.xp6(1),o.Q6J("ngIf",X.errors&&X.errors.invalidInfrastructure)}}function le(T,E){if(1&T&&(o.ynx(0),o.YNc(1,D,5,4,"ng-container",18),o.YNc(2,hn,34,31,"div",54),o.BQk()),2&T){const h=E.$implicit;o.xp6(1),o.Q6J("ngIf",!h.controls.selected.value),o.xp6(1),o.Q6J("ngIf",h.controls.selected.value)}}function Ee(T,E){1&T&&(o.ynx(0),o.TgZ(1,"small",53),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.BQk()),2&T&&(o.xp6(2),o.hij("* ",o.lcZ(3,1,"lang_business_config_educational_program_start_time_validate"),""))}function wt(T,E){1&T&&(o.TgZ(0,"span",34),o._UZ(1,"azt-loading-ui"),o.qZA())}function Ke(T,E){if(1&T){const h=o.EpF();o.TgZ(0,"div",82)(1,"button",83),o.NdJ("click",function(){o.CHM(h);const S=o.oxw(2);return o.KtG(S.saveEducationalProgram())}),o.YNc(2,wt,2,0,"span",84),o._uU(3),o.ALo(4,"mytranslate"),o.qZA()()}if(2&T){const h=o.oxw(2);o.xp6(1),o.Q6J("disabled",h.form.invalid||h.isSavingProgram),o.xp6(1),o.Q6J("ngIf",h.isSavingProgram),o.xp6(1),o.hij(" ",o.lcZ(4,3,"lang_auto_luu")," ")}}const Dt=function(){return{"width.px":"auto","height.%":100}},Xe=function(T){return[T]},Gt=function(T){return{backTo:T}},ke=function(T,E){return{hiddenVisible:T,visibleIpt:E}};function ce(T,E){if(1&T){const h=o.EpF();o.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"h3",10),o._uU(5,"1"),o.qZA()(),o.TgZ(6,"span",11),o._uU(7),o.ALo(8,"mytranslate"),o.qZA(),o.TgZ(9,"lucide-icon",12),o.NdJ("click",function(){o.CHM(h);const S=o.oxw();return o.KtG(S.reloadAllEducationalProgram())}),o.qZA()(),o.TgZ(10,"div",13)(11,"div",14)(12,"ng-scrollbar",15)(13,"div",16),o.YNc(14,G,8,6,"ng-container",17),o.YNc(15,pt,4,3,"ng-container",18),o.YNc(16,At,4,3,"ng-container",18),o.qZA()()(),o.TgZ(17,"div",16)(18,"a",19),o.ALo(19,"localize"),o.O4$(),o.TgZ(20,"svg",20),o._UZ(21,"line",21)(22,"line",22),o.qZA(),o.kcU(),o.TgZ(23,"span",23),o._uU(24),o.ALo(25,"mytranslate"),o.qZA()()()()(),o.TgZ(26,"div",7)(27,"div",8)(28,"div",9)(29,"h3",10),o._uU(30,"2"),o.qZA()(),o.TgZ(31,"span",24),o._uU(32),o.ALo(33,"mytranslate"),o.qZA()(),o.TgZ(34,"div",25)(35,"div",26)(36,"ng-scrollbar",15)(37,"div",27),o.YNc(38,le,3,2,"ng-container",17),o.qZA()()()()(),o.TgZ(39,"div",7)(40,"div",8)(41,"div",9)(42,"h3",10),o._uU(43,"3"),o.qZA()(),o.TgZ(44,"span",24),o._uU(45),o.ALo(46,"mytranslate"),o.qZA()(),o.TgZ(47,"div",28)(48,"div",29)(49,"ng-scrollbar",15)(50,"div",30)(51,"mat-form-field",31)(52,"input",32),o.NdJ("click",function(){o.CHM(h);const S=o.oxw();return o.KtG(S.openDateTimePicker(1))}),o.qZA(),o.TgZ(53,"button",33),o.NdJ("click",function(S){return o.CHM(h),o.oxw().openDateTimePicker(1),o.KtG(S.stopPropagation())}),o.TgZ(54,"span",34),o._UZ(55,"lucide-icon",35),o.qZA()(),o.TgZ(56,"ngx-mat-datetime-picker",36,37)(58,"ngx-mat-datepicker-actions")(59,"button",38),o._uU(60),o.ALo(61,"mytranslate"),o.qZA(),o.TgZ(62,"button",39),o._uU(63,"OK"),o.qZA()()()(),o.YNc(64,Ee,4,3,"ng-container",18),o.qZA()()(),o.YNc(65,Ke,5,5,"div",40),o.qZA()()()}if(2&T){const h=o.MAs(57),w=o.oxw();o.xp6(7),o.Oqu(o.lcZ(8,25,"lang_config_educational_program_select_new")),o.xp6(5),o.Q6J("visibility","hover")("ngStyle",o.DdM(37,Dt)),o.xp6(2),o.Q6J("ngForOf",w.listEducationalProgramObjs),o.xp6(1),o.Q6J("ngIf",!w.form.controls.chooseProgramId.value&&w.listEducationalProgramObjs.length>0),o.xp6(1),o.Q6J("ngIf",!w.listEducationalProgramObjs.length),o.xp6(2),o.Q6J("routerLink",o.VKq(38,Xe,o.lcZ(19,27,"/business/create-educational-program")))("queryParams",o.VKq(40,Gt,w.currentURL)),o.xp6(6),o.Oqu(o.lcZ(25,29,"lang_config_educational_program_add_new")),o.xp6(8),o.Oqu(o.lcZ(33,31,"lang_config_educational_program_add_time")),o.xp6(3),o.Q6J("ngClass",o.WLB(42,ke,w.form.controls.stepChoose.value<2,w.form.controls.stepChoose.value>=2)),o.xp6(1),o.Q6J("visibility","hover")("ngStyle",o.DdM(45,Dt)),o.xp6(2),o.Q6J("ngForOf",w.form.controls.weekdayConfig.controls),o.xp6(7),o.Oqu(o.lcZ(46,33,"lang_config_educational_program_add_start_time")),o.xp6(3),o.Q6J("ngClass",o.WLB(46,ke,w.form.controls.stepChoose.value<3,w.form.controls.stepChoose.value>=3)),o.xp6(1),o.Q6J("visibility","hover")("ngStyle",o.DdM(49,Dt)),o.xp6(3),o.Q6J("max",w.maxDate)("ngxMatDatetimePicker",h),o.xp6(4),o.Q6J("touchUi",!0)("hideTime",!0),o.xp6(4),o.Oqu(o.lcZ(61,35,"lang_auto_dong")),o.xp6(4),o.Q6J("ngIf",w.form.controls.startTimeEducationalProgram.invalid),o.xp6(1),o.Q6J("ngIf",!w.statusObj.loading)}}let Pe=(()=>{class T extends l.Q{openDateTimePicker(h){1==h&&this.startTime&&this.startTime.open()}showEducationalProgramSubject(h){this.listEducationalProgramObjs.forEach(w=>{w.id==h&&(w.showChild=!w.showChild,w.showChild||w.subjects.forEach(S=>{S.id==this.form.controls.chooseProgramId.value&&(this.form.controls.stepChoose.setValue(1),this.form.controls.chooseProgramId.setValue(0)),S.selected=!1}))}),this.initForm()}selectSubject(h,w){this.listEducationalProgramObjs.forEach(S=>{S.id==h?S.subjects.forEach(F=>{F.id==w.id?(F.selected=!F.selected,this.form.controls.chooseProgramId.setValue(F.selected?w.id:0),this.form.controls.stepChoose.setValue(F.selected?2:1)):F.selected=!1}):S.subjects.map(F=>F.selected=!1)})}reloadAllEducationalProgram(){this.initForm(),this.initData()}openWeekdayConfig(h){this.form.controls.weekdayConfig.controls.forEach(w=>{w.controls.id.value==h&&w.controls.selected.setValue(!w.controls.selected.value)})}touchedMatSelect(h,w){h?w.controls.infrastructureId.markAsTouched():w.controls.infrastructureId.markAsUntouched()}saveEducationalProgram(){this.isSavingProgram=!0;let h={programId:this.form.controls.chooseProgramId.value,studyingTimes:this.convertStudyTimes(),startTime:this.timeService.formatDateTimeToPostToServer(this.form.controls.startTimeEducationalProgram.value)};this.waitDestroy(this.classroomService.apiClassroomsClassroomIdProgramsPost(this.classroomId,h).subscribe({next:w=>{this.showSuccessSnack("lang_educational_program_save_success_educational_program"),this.isSavingProgram=!1,this.saveEducationalProgramEmit.emit(!0)},error:w=>{this.isSavingProgram=!1,this.errorStatusObj(w.error.message,!0)}}))}convertStudyTimes(){let h=[];return this.form.controls.weekdayConfig.controls.forEach(w=>{if(w.controls.selected.value){let S={days:w.controls.id.value,fromHour:new Date("1970-01-01T"+w.controls.startTime.value).getHours(),fromMinute:new Date("1970-01-01T"+w.controls.startTime.value).getMinutes(),toHour:new Date("1970-01-01T"+w.controls.endTime.value).getHours(),toMinute:new Date("1970-01-01T"+w.controls.endTime.value).getMinutes(),roomId:w.controls.infrastructureId.value};h.push(S)}}),h}convertProgramInfo(h){let w=[],S=this.sAZTranslateService.myTranslateInstant("lang_auto_lop")??"L\u1edbp",F=this.sAZTranslateService.myTranslateInstant("lang_core_buoi")??"Bu\u1ed5i";return h.forEach(z=>{z.name=`${z.name} (${z.totalSession} ${F})`,w.filter(mt=>mt.id==z.schoolLevelId).length?w.forEach(mt=>{mt.id==z.schoolLevelId&&mt.subjects.push(z)}):w.push({id:z.schoolLevelId,name:S+" "+z.schoolLevelId,subjects:[z],showChild:!1})}),w.sort((z,X)=>(X.id??0)-(z.id??0))}convertListInfrastructure(h){let w=[],S=this.commonService.myTranslateInstant("lang_infrastructure_seat")??"";return h.forEach(F=>{F.name=`${F.infrastructure?.name??""} - ${F.name} (${F.numberSeat} ${S})`,w.push(F)}),w}getAllInfrastructure(){this.waitDestroy(this.infrastructureService.apiInfrastructuresRoomsGet().subscribe({next:h=>{this.listInfrastructureObjs=this.convertListInfrastructure(h.list),this.stopStatusObj()},error:h=>{this.errorStatusObj(h.error.message,!0)}}))}initForm(){this.form.controls.chooseProgramId.setValue(0),this.form.controls.startTimeEducationalProgram.setValue(""),this.form.controls.weekdayConfig.clear();for(let h=0;h<7;h++){let w=new W.cw({id:new W.NI(h,{nonNullable:!0}),name:new W.NI("lang_config_educational_program_day_"+h,{nonNullable:!0}),startTime:new W.NI("",{nonNullable:!0}),endTime:new W.NI("",{nonNullable:!0}),infrastructureId:new W.NI(0,{nonNullable:!0}),selected:new W.NI(!1,{nonNullable:!0}),invalidTime:new W.NI(!1,{nonNullable:!0})});this.form.controls.weekdayConfig.push(w)}}initData(){this.initStatusObj(),this.waitDestroy(this.programService.apiProgramsListPost({page:0,size:-1}).subscribe({next:h=>{this.listEducationalProgramObjs=this.convertProgramInfo(h.list),this.getAllInfrastructure()},error:h=>{this.errorStatusObj(h.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.backLink=this.commonService.getMyQueryParam("backto")??"/business/dashboard",this.initData()}ngAfterViewChecked(){this.form.controls.weekdayConfig.controls.filter(w=>w.controls.selected).length?2==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(3):3==this.form.controls.stepChoose.value&&this.form.controls.stepChoose.setValue(2),this.cd.detectChanges()}ngDoCheck(){this.cd.detectChanges()}constructor(h,w,S,F,z,X){super(),this.cd=h,this.timeService=w,this.classroomService=S,this.programService=F,this.infrastructureService=z,this.sAZTranslateService=X,this.saveEducationalProgramEmit=new o.vpe,this.backLink="",this.currentURL=this.commonService.getCurrentUrlWithoutLocale(),this.listEducationalProgramObjs=[],this.listInfrastructureObjs=[],this.maxDate=Wt.N.maxDateTimePicker,this.curStep=1,this.isSavingProgram=!1,this.form=new W.cw({chooseProgramId:new W.NI(0,{nonNullable:!0,validators:[W.kI.required,W.kI.min(1)]}),startTimeEducationalProgram:new W.NI("",{nonNullable:!0,validators:[W.kI.required]}),weekdayConfig:new W.Oe([]),stepChoose:new W.NI(1,{nonNullable:!0})},{validators:[pe.addNewEducationalProgramFormValidator]}),this.initForm()}}return T.\u0275fac=function(h){return new(h||T)(o.Y36(o.sBO),o.Y36(Q.D),o.Y36(t.um),o.Y36(t.Zm),o.Y36(t.wp),o.Y36(ge.W))},T.\u0275cmp=o.Xpm({type:T,selectors:[["app-add-new-educational-program"]],viewQuery:function(h,w){if(1&h&&o.Gf($e,5),2&h){let S;o.iGM(S=o.CRH())&&(w.startTime=S.first)}},inputs:{classroomId:"classroomId"},outputs:{saveEducationalProgramEmit:"saveEducationalProgramEmit"},features:[o._Bn([{provide:zt.fM,useClass:Be.WG,deps:[ue.Ad,ae.o8]},{provide:zt.ab,useFactory:He.tF,deps:[Q.D]}]),o.qOj],decls:6,vars:3,consts:[[1,"text-center","mx-auto","mt-3","pb-2"],[3,"formGroup"],[1,"box","px-4","pt-5"],["class","block pb-5",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"block","pb-5"],[1,"grid","grid-cols-12"],[1,"col-span-12","md:col-span-4"],[1,"flex","px-2","pb-3","items-center"],[1,"bg-info","text-white","h-8","w-8",2,"border-radius","50%"],[1,"font-bold","text-xl"],[1,"ml-2",2,"vertical-align","middle","font-weight","420","word-break","break-all"],["name","refresh-ccw",1,"ml-2","clickable",2,"vertical-align","baseline!important","width","18px!important","height","18px!important",3,"click"],[1,"border","border-slate-300",2,"border-bottom","0","border-left","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto"],["pointerEventsMethod","scrollbar",3,"visibility","ngStyle"],[2,"padding-right","1rem"],[4,"ngFor","ngForOf"],[4,"ngIf"],["azt-track-service","add-new-educational-programs-eY0H_Hziew",1,"btn","btn-sm","btn-primary","shadow-md","w-full","block","mx-auto","mt-3","mb-3",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-6","mr-2"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[2,"vertical-align","middle","font-size","14px!important"],[1,"ml-2",2,"vertical-align","middle","font-weight","420"],[1,"border","border-slate-300",2,"height","100%","border-bottom","0","border-left","0","border-right","0"],["formArrayName","weekdayConfig",1,"mt-2","pb-2",2,"height","calc(100vh - 205px)","overflow-y","auto",3,"ngClass"],[2,"padding-right","1rem","padding-left","1rem"],[1,"border","border-slate-300",2,"border-bottom","0","border-right","0"],[2,"height","calc(100vh - 250px)","overflow-y","auto",3,"ngClass"],[1,"mt-2",2,"padding-left","1rem","padding-right","1rem"],["appearance","outline"],["matInput","","formControlName","startTimeEducationalProgram","readonly","",3,"max","ngxMatDatetimePicker","click"],["matSuffix","",2,"font-size","18px",3,"click"],[1,"w-4","h-4","inline-block"],["name","calendar-clock"],[3,"touchUi","hideTime"],["startTime",""],["mat-raised-button","","color","secondary","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["class","text-right mt-3 mb-3",4,"ngIf"],[1,"flex","mt-2",2,"font-weight","420","font-size","15px"],["azt-track-service","add-new-educational-programs-B1gOVovsf",1,"clickable",2,"align-items","center",3,"click"],["name","chevron-down","style","width: 18px!important; height: 18px!important; vertical-align: top;",4,"ngIf"],["name","chevron-right","style","width: 18px!important; height: 18px!important; vertical-align: top;",4,"ngIf"],["name","chevron-down",2,"width","18px!important","height","18px!important","vertical-align","top"],["name","chevron-right",2,"width","18px!important","height","18px!important","vertical-align","top"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3 clickable",3,"ngClass",4,"ngFor","ngForOf"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable",3,"ngClass"],["azt-track-service","add-new-educational-programs-bahN75vF_Q",1,"flex","w-full","justify-between",3,"click"],[2,"vertical-align","middle","text-align","left"],["name","check-square","class","text-primary","style","width: 18px!important; height: 18px!important; vertical-align: top;",4,"ngIf"],["name","check-square",1,"text-primary",2,"width","18px!important","height","18px!important","vertical-align","top"],[1,"text-danger","mt-3","float-left","text-left"],["class","box bg-slate-400/20 rounded mt-2 py-2 px-3  text-left relative",3,"formGroup","ngClass",4,"ngIf"],["azt-track-service","add-new-educational-programs-FanOWsky0S",1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","clickable","text-left",3,"formGroup","click"],[1,"box","bg-slate-400/20","rounded","mt-2","py-2","px-3","text-left","relative",3,"formGroup","ngClass"],[1,"flex","justify-between","flex-wrap"],["azt-track-service","add-new-educational-programs-UqgywYmnzK",1,"clickable",3,"click"],["name","check-square",1,"text-primary","ml-2","clickable","md:hiddenIpt",2,"width","18px!important","height","18px!important","vertical-align","top",3,"click"],[1,"block","md:ml-2","w-full"],[1,"flex","justify-between",2,"align-items","center"],[2,"width","100%","height","38px","align-items","center"],["type","text","formControlName","startTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],[3,"editableHintTmpl","enableKeyboardInput","cancelBtnTmpl","confirmBtnTmpl"],["timeStartPicker",""],[1,"text-center",2,"vertical-align","middle","align-self","center"],["type","text","formControlName","endTime","readOnly","",1,"rounded","w-full",3,"placeholder","ngxMatTimepicker","format"],["timeEndPicker",""],["cancelBtn",""],["confirmBtn",""],["dialHint",""],["name","check-square",1,"text-primary","ml-2","clickable","hiddenIpt","md:inlineBlockIpt",2,"width","18px!important","height","18px!important","vertical-align","top",3,"click"],["appearance","outline",1,"mt-2","bg-white","rounded"],["formControlName","infrastructureId",3,"value","openedChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","secondary",2,"margin-right","10px"],["mat-raised-button","","color","primary"],[1,"small"],[3,"value"],[1,"text-danger","mt-2"],[1,"text-danger","mt-1"],[1,"text-right","mt-3","mb-3"],["azt-track-service","add-new-educational-programs-R3hLoR84Ua",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block",4,"ngIf"]],template:function(h,w){if(1&h&&(o.TgZ(0,"div",0)(1,"form",1)(2,"div",2),o.YNc(3,Le,1,0,"azt-loading-effect",3),o.YNc(4,ce,66,50,"ng-template",null,4,o.W1O),o.qZA()()()),2&h){const S=o.MAs(5);o.xp6(1),o.Q6J("formGroup",w.form),o.xp6(2),o.Q6J("ngIf",w.statusObj.loading)("ngIfElse",S)}},dependencies:[r.rH,st.mk,st.sg,st.O5,st.PC,ue.ey,Ge.lW,se.Nt,Te.KE,Te.hX,Te.R9,Re.gD,zt.rZ,zt.T$,zt.c_,zt.dW,zt.cL,Ie.ft,Ie.Bi,W._Y,W.Fj,W.JJ,W.JL,W.sg,W.u,W.CE,Zt.l,Ve.M,kt.n,$t.Nh5,je.KC,lt.JV,ee.lO],encapsulation:2}),T})();function tn(T,E){if(1&T&&(o.TgZ(0,"div",3),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&T){const h=o.oxw();o.xp6(1),o.hij(" ",o.lcZ(2,1,h.errorApiMessage)," ")}}function fn(T,E){if(1&T){const h=o.EpF();o.TgZ(0,"app-add-new-educational-program",6),o.NdJ("saveEducationalProgramEmit",function(){o.CHM(h);const S=o.oxw(2);return o.KtG(S.reloadSessionDataEmitter.emit())}),o.qZA()}if(2&T){const h=o.oxw(2);o.Q6J("classroomId",h.classroomId)}}function Ue(T,E){if(1&T){const h=o.EpF();o.TgZ(0,"div",13)(1,"a",14),o.NdJ("click",function(){const F=o.CHM(h).$implicit,z=o.oxw(4);return o.KtG(z.previewFile(F))}),o._UZ(2,"azt-document-type-file",15),o.qZA()()}if(2&T){const h=E.$implicit;let w;o.xp6(2),o.Q6J("type",h.documentType)("name",null!==(w=h.name)&&void 0!==w?w:"")("url",h.link)("iconVerticalStyle","baseline")("customClass","w-6 h-6")}}function _e(T,E){if(1&T&&(o.TgZ(0,"div",9)(1,"h3",10),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.ynx(4),o.TgZ(5,"div",11),o.YNc(6,Ue,3,5,"div",12),o.qZA(),o.BQk(),o.qZA()),2&T){const h=o.oxw(3);o.xp6(2),o.hij(" ",o.lcZ(3,2,"lang_educational_program_general_documents")," "),o.xp6(4),o.Q6J("ngForOf",h.generalDocumentObjs)}}function en(T,E){if(1&T&&(o.ynx(0),o.TgZ(1,"span",23),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.BQk()),2&T){const h=o.oxw(2).$implicit;o.xp6(2),o.Oqu(o.lcZ(3,1,"lang_test_market_address")+": "+(null==h.room.infrastructure?null:h.room.infrastructure.name)+" - "+h.room.name)}}const ln=function(T){return{"text-slate-700":T}};function xn(T,E){if(1&T){const h=o.EpF();o.TgZ(0,"div",18),o.NdJ("click",function(){o.CHM(h);const S=o.oxw().$implicit,F=o.oxw(3);return o.KtG(F.expandSessionObj(S))}),o.TgZ(1,"div",19)(2,"h3",20)(3,"span",21),o._uU(4),o.ALo(5,"mytranslate"),o.qZA(),o.TgZ(6,"span",22),o._uU(7),o.ALo(8,"mytranslate"),o.qZA()(),o.YNc(9,en,4,3,"ng-container",5),o.qZA()()}if(2&T){const h=o.oxw(),w=h.$implicit,S=h.index;o.xp6(3),o.Q6J("ngClass",o.VKq(8,ln,w.outOfDate)),o.xp6(1),o.Oqu(o.lcZ(5,4,"lang_core_buoi")+" "+(S+1)),o.xp6(3),o.Oqu(o.lcZ(8,6,"lang_config_educational_program_day_"+w.day)+", "+w.dateSession+" "+w.timeSession),o.xp6(2),o.Q6J("ngIf",w.room)}}function Nt(T,E){if(1&T&&(o.ynx(0),o.TgZ(1,"span",42),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.BQk()),2&T){const h=o.oxw(2).$implicit;o.xp6(2),o.Oqu(o.lcZ(3,1,"lang_test_market_address")+": "+(null==h.room.infrastructure?null:h.room.infrastructure.name)+" - "+h.room.name)}}function Kt(T,E){if(1&T&&(o.TgZ(0,"span",42),o._uU(1),o.qZA()),2&T){const h=E.$implicit,w=E.index;o.xp6(1),o.AsE("",w?" - ":"","",h.content," ")}}function bn(T,E){1&T&&(o.ynx(0),o.TgZ(1,"div",54),o._UZ(2,"img",55),o.ALo(3,"convertCdnLinkOfGitHub"),o.qZA(),o.BQk()),2&T&&(o.xp6(2),o.Q6J("src",o.lcZ(3,1,"images/type_file/unknown-file.svg"),o.LSH))}function vn(T,E){1&T&&(o.ynx(0),o.TgZ(1,"div",56),o._UZ(2,"lucide-icon",57),o.qZA(),o.BQk())}function C(T,E){1&T&&(o.ynx(0),o.TgZ(1,"div",58),o._UZ(2,"lucide-icon",59),o.qZA(),o.BQk())}function q(T,E){if(1&T&&(o.TgZ(0,"small",60),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&T){const h=o.oxw().$implicit;o.xp6(1),o.lnq("",o.lcZ(2,3,"lang_auto_da_nop"),":\xa0",h.totalFinish,"/",h.totalAttendee,"")}}const b=function(T,E){return{"text-success":T,"text-slate-700/50":E}};function k(T,E){if(1&T&&(o.TgZ(0,"small",61),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&T){const h=o.oxw().$implicit;o.Q6J("ngClass",o.WLB(4,b,h.totalFinish,!h.totalFinish)),o.xp6(1),o.Oqu(o.lcZ(2,2,h.totalFinish?"lang_auto_da_nop":"lang_auto_chua_nop"))}}function N(T,E){if(1&T){const h=o.EpF();o.TgZ(0,"small",62),o._uU(1),o.ALo(2,"mytranslate"),o.TgZ(3,"button",63),o.NdJ("click",function(S){o.CHM(h);const F=o.oxw().$implicit,z=o.oxw(2).$implicit;return o.oxw(3).editMarkCoefficient(F,z),S.stopPropagation(),o.KtG(S.preventDefault())}),o.ALo(4,"mytranslate"),o.O4$(),o.TgZ(5,"svg",64),o._UZ(6,"path",65)(7,"path",66),o.qZA()()()}if(2&T){const h=o.oxw().$implicit;o.xp6(1),o.AsE("",o.lcZ(2,3,"lang_student_score_factor"),":\xa0",h.markCoefficient," "),o.xp6(2),o.s9C("matTooltip",o.lcZ(4,5,"lang_student_edit_mark_coefficient"))}}const nt=function(T){return[T]},ft=function(T){return{backto:T}};function we(T,E){if(1&T&&(o.TgZ(0,"div",43)(1,"a",44),o.ALo(2,"localize"),o.TgZ(3,"div",45)(4,"div",46),o.YNc(5,bn,4,3,"ng-container",5),o.YNc(6,vn,3,0,"ng-container",5),o.YNc(7,C,3,0,"ng-container",5),o.qZA(),o.TgZ(8,"div",47)(9,"div",48)(10,"span",49,50),o._uU(12),o.qZA(),o.YNc(13,q,3,5,"small",51),o.YNc(14,k,3,7,"small",52),o.YNc(15,N,8,7,"small",53),o.qZA()()()()()),2&T){const h=E.$implicit,w=o.MAs(11),S=o.oxw(5);let F;o.xp6(1),o.Q6J("routerLink",o.VKq(14,nt,o.lcZ(2,12,h.documentType==S.allDocumentTypes.exam?S.teacherRole?"/admin/testbank/exam-results-list/"+(null!==(F=h.categoryId)&&void 0!==F?F:0)+"/"+h.refId+"/0":"/de-thi/"+h.hashId:S.teacherRole?"/admin/testbank/homework-results-list/"+(null!==(F=h.classroomId)&&void 0!==F?F:0)+"/"+h.refId+"/"+h.hashId:"/bai-tap/"+h.hashId)))("queryParams",o.VKq(16,ft,S.currentUrl)),o.xp6(4),o.Q6J("ngIf",!h.type),o.xp6(1),o.Q6J("ngIf","exam"==h.type),o.xp6(1),o.Q6J("ngIf","homework"==h.type),o.xp6(3),o.s9C("matTooltip",h.name),o.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",w.isDisabled),o.xp6(2),o.hij(" ",h.name," "),o.xp6(1),o.Q6J("ngIf",S.teacherRole),o.xp6(1),o.Q6J("ngIf",!S.teacherRole),o.xp6(1),o.Q6J("ngIf",S.teacherRole)}}const Ht=function(T,E,h,w,S,F){return{backTo:T,classroomId:E,programId:h,sessionId:w,levelId:S,subjectId:F}},Xn=function(T,E){return{"text-slate-600":T,"btn-text-primary":E}};function Ln(T,E){if(1&T&&(o.TgZ(0,"a",67),o.ALo(1,"localize"),o.TgZ(2,"span",68),o._UZ(3,"lucide-icon",69),o.qZA(),o.TgZ(4,"span",70),o._uU(5),o.ALo(6,"mytranslate"),o.qZA()()),2&T){const h=o.oxw(2).$implicit,w=o.oxw(3);let S;o.Q6J("routerLink",o.VKq(8,nt,o.lcZ(1,4,"/admin/testbank/create-new-document/0")))("queryParams",o.HTZ(10,Ht,w.currentUrl,w.classroomId,h.programId,h.id,null!==(S=null==w.programObj?null:w.programObj.schoolLevelId)&&void 0!==S?S:0,null!==(S=null==w.programObj?null:w.programObj.schoolSubjectId)&&void 0!==S?S:0))("ngClass",o.WLB(17,Xn,h.outOfDate,!h.outOfDate)),o.xp6(5),o.Oqu(o.lcZ(6,6,"lang_business_assign_homework_and_exams"))}}function to(T,E){if(1&T){const h=o.EpF();o.TgZ(0,"div",77)(1,"a",78),o.NdJ("click",function(){o.CHM(h);const S=o.oxw().$implicit,F=o.oxw(3).$implicit,z=o.oxw(3);let X;return o.KtG(z.removeDocumentFromSession(F,null!==(X=S.sessionId)&&void 0!==X?X:0,S.id))}),o.TgZ(2,"span",79),o.ALo(3,"mytranslate"),o._UZ(4,"lucide-icon",80),o.qZA()()()}2&T&&(o.xp6(2),o.Q6J("matTooltip",o.lcZ(3,1,"lang_educational_program_remove_document_from_session")))}function Ct(T,E){if(1&T){const h=o.EpF();o.TgZ(0,"div",73)(1,"a",74),o.NdJ("click",function(){const F=o.CHM(h).$implicit,z=o.oxw(6);return o.KtG(z.previewFile(F))}),o._UZ(2,"azt-document-type-file",75),o.qZA(),o.YNc(3,to,5,3,"div",76),o.qZA()}if(2&T){const h=E.$implicit,w=o.oxw(6);let S;o.xp6(2),o.Q6J("type",h.documentType)("name",null!==(S=h.name)&&void 0!==S?S:"")("url",h.link)("customClass","w-6 h-6"),o.xp6(1),o.Q6J("ngIf",w.teacherRole)}}function Vt(T,E){if(1&T){const h=o.EpF();o.TgZ(0,"app-upload-document-for-session",81),o.NdJ("emitFileDocument",function(S){o.CHM(h);const F=o.oxw(3).$implicit,z=o.oxw(3);return o.KtG(z.uploadFileEmitted(S,F))}),o.TgZ(1,"span",70),o._uU(2),o.ALo(3,"mytranslate"),o.qZA()()}if(2&T){const h=o.oxw(3).$implicit;o.Q6J("isBtn",!0)("customClass",h.outOfDate?"text-slate-600":"text-primary"),o.xp6(2),o.Oqu(o.lcZ(3,3,"lang_educational_program_add_document"))}}function fe(T,E){if(1&T&&(o.TgZ(0,"div",35),o.YNc(1,Ct,4,5,"div",71),o.TgZ(2,"div",43),o.YNc(3,Vt,4,5,"app-upload-document-for-session",72),o.qZA()()),2&T){const h=o.oxw(2).$implicit,w=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",h.normalDocumentObjs),o.xp6(2),o.Q6J("ngIf",w.teacherRole)}}function Tn(T,E){1&T&&(o.TgZ(0,"div",82)(1,"div",83)(2,"span",84),o._UZ(3,"azt-loading-ui",85),o.qZA()()()),2&T&&(o.xp6(3),o.Q6J("type","oval"))}const Cn=function(T){return{backTo:T}};function Dn(T,E){if(1&T&&(o.TgZ(0,"a",91),o.ALo(1,"localize"),o._UZ(2,"lucide-icon",92),o.TgZ(3,"span",93),o._uU(4),o.ALo(5,"mytranslate"),o.qZA()()),2&T){const h=o.oxw(4).$implicit,w=o.oxw(3);o.Q6J("routerLink",o.VKq(8,nt,o.lcZ(1,4,"/admin/student/attendance-student/"+w.classroomId+"/"+h.programId+"/"+h.id)))("queryParams",o.VKq(10,Cn,w.currentUrl)),o.xp6(4),o.AsE("",o.lcZ(5,6,"lang_student_attendance_student"),""," ("+h.totalJoinedStudent+"/"+h.totalStudent+")","")}}function eo(T,E){if(1&T&&(o.TgZ(0,"a",94),o.ALo(1,"localize"),o._UZ(2,"lucide-icon",95),o.TgZ(3,"span",93),o._uU(4),o.ALo(5,"mytranslate"),o.qZA()()),2&T){const h=o.oxw(4).$implicit,w=o.oxw(3);o.Q6J("routerLink",o.VKq(7,nt,o.lcZ(1,3,"/admin/student/distribute-document/"+w.classroomId+"/"+h.programId+"/"+h.id)))("queryParams",o.VKq(9,Cn,w.currentUrl)),o.xp6(4),o.Oqu(o.lcZ(5,5,"lang_student_distribute_books"))}}function En(T,E){if(1&T&&(o.TgZ(0,"a",96),o.ALo(1,"localize"),o._UZ(2,"lucide-icon",97),o.TgZ(3,"span",93),o._uU(4),o.ALo(5,"mytranslate"),o.qZA()()),2&T){const h=o.oxw(4).$implicit,w=o.oxw(3);o.Q6J("routerLink",o.VKq(7,nt,o.lcZ(1,3,"/admin/student/submit-score/"+w.classroomId+"/"+h.programId+"/"+h.id)))("queryParams",o.VKq(9,Cn,w.currentUrl)),o.xp6(4),o.Oqu(o.lcZ(5,5,"lang_student_enter_score"))}}function oe(T,E){1&T&&(o.TgZ(0,"div",87),o.YNc(1,Dn,6,12,"a",88),o.ALo(2,"async"),o.ALo(3,"allowFeatureBusinessForUser"),o.YNc(4,eo,6,11,"a",89),o.ALo(5,"async"),o.ALo(6,"allowFeatureBusinessForUser"),o.YNc(7,En,6,11,"a",90),o.ALo(8,"async"),o.ALo(9,"allowFeatureBusinessForUser"),o.qZA()),2&T&&(o.xp6(1),o.Q6J("ngIf",o.lcZ(2,3,o.Dn7(3,5,"","training_center_student_attendance",!1))),o.xp6(3),o.Q6J("ngIf",o.lcZ(5,9,o.Dn7(6,11,"","training_center_student_book",!1))),o.xp6(3),o.Q6J("ngIf",o.lcZ(8,15,o.Dn7(9,17,"","training_center_student_mark",!1))))}function Et(T,E){1&T&&(o.TgZ(0,"div",82)(1,"div",83)(2,"span",84),o._UZ(3,"azt-loading-ui",85),o.qZA()()()),2&T&&(o.xp6(3),o.Q6J("type","oval"))}function ye(T,E){if(1&T){const h=o.EpF();o.TgZ(0,"button",102),o.NdJ("click",function(){o.CHM(h);const S=o.oxw(5).$implicit,F=o.oxw(3);return o.KtG(F.showSchoolLeaveDialog(S))}),o._UZ(1,"lucide-icon",92),o.TgZ(2,"span",93),o._uU(3),o.ALo(4,"mytranslate"),o.qZA()()}2&T&&(o.xp6(3),o.Oqu(o.lcZ(4,1,"lang_student_request_absence")))}function qe(T,E){if(1&T&&(o.TgZ(0,"div",20)(1,"span"),o._uU(2),o.ALo(3,"mytranslate"),o.qZA(),o.TgZ(4,"span",103),o._uU(5),o.qZA()()),2&T){const h=o.oxw(5).$implicit;o.xp6(2),o.Oqu(o.lcZ(3,2,"lang_business_requested_leave_with_a_reason")+": "),o.xp6(3),o.Oqu(h.studentAttendance.reason)}}function Pn(T,E){if(1&T&&(o.YNc(0,ye,5,3,"button",100),o.ALo(1,"async"),o.ALo(2,"allowFeatureBusinessForUser"),o.YNc(3,qe,6,4,"div",101)),2&T){const h=o.oxw(4).$implicit;o.Q6J("ngIf",(!h.studentAttendance||!h.studentAttendance.absent)&&o.lcZ(1,2,o.Dn7(2,4,"","training_center_student_attendance",!0))),o.xp6(3),o.Q6J("ngIf",h.studentAttendance&&h.studentAttendance.absent)}}function Un(T,E){if(1&T&&(o.TgZ(0,"div",87),o.YNc(1,Et,4,1,"div",98),o.YNc(2,Pn,4,8,"ng-template",null,99,o.W1O),o.qZA()),2&T){const h=o.MAs(3),w=o.oxw(3).$implicit;o.xp6(1),o.Q6J("ngIf",w.isLoadingData)("ngIfElse",h)}}const ze=function(T,E){return{"text-slate-600":T,"text-warning":E}};function nn(T,E){if(1&T&&(o.TgZ(0,"div",38)(1,"div",32)(2,"span",33),o._uU(3),o.ALo(4,"mytranslate"),o.qZA()(),o.YNc(5,oe,10,21,"div",86),o.YNc(6,Un,4,2,"div",86),o.qZA()),2&T){const h=o.oxw(2).$implicit,w=o.oxw(3);o.xp6(2),o.Q6J("ngClass",o.WLB(6,ze,h.outOfDate,!h.outOfDate)),o.xp6(1),o.hij(" ",o.lcZ(4,4,"lang_auto_hanh_dong")," "),o.xp6(2),o.Q6J("ngIf",w.teacherRole),o.xp6(1),o.Q6J("ngIf",!w.teacherRole)}}function kn(T,E){if(1&T){const h=o.EpF();o.TgZ(0,"div",24)(1,"div",25),o.NdJ("click",function(){o.CHM(h);const S=o.oxw().$implicit,F=o.oxw(3);return o.KtG(F.expandSessionObj(S))}),o.TgZ(2,"h3",26)(3,"span",27),o._uU(4),o.ALo(5,"mytranslate"),o.qZA(),o.TgZ(6,"span",28),o._uU(7),o.ALo(8,"mytranslate"),o.qZA()(),o.YNc(9,Nt,4,3,"ng-container",5),o.TgZ(10,"div",29),o.YNc(11,Kt,2,2,"span",30),o.qZA()(),o.TgZ(12,"div",31)(13,"div",32)(14,"span",33),o._uU(15),o.ALo(16,"mytranslate"),o.qZA()(),o.TgZ(17,"div",34)(18,"div",35),o.YNc(19,we,16,18,"div",36),o.YNc(20,Ln,7,20,"a",37),o.qZA()()(),o.TgZ(21,"div",38)(22,"div",32)(23,"span",33),o._uU(24),o.ALo(25,"mytranslate"),o.qZA()(),o.TgZ(26,"div",34),o.YNc(27,fe,4,2,"div",39),o.YNc(28,Tn,4,1,"div",40),o.qZA()(),o.YNc(29,nn,7,9,"div",41),o.ALo(30,"async"),o.ALo(31,"allowFeatureBusinessForUser"),o.ALo(32,"async"),o.ALo(33,"allowFeatureBusinessForUser"),o.ALo(34,"async"),o.ALo(35,"allowFeatureBusinessForUser"),o.ALo(36,"async"),o.ALo(37,"allowFeatureBusinessForUser"),o.qZA()}if(2&T){const h=o.oxw(),w=h.$implicit,S=h.index,F=o.oxw(3);o.uIk("id","session-"+w.id),o.xp6(3),o.Q6J("ngClass",o.VKq(47,ln,w.outOfDate)),o.xp6(1),o.Oqu(o.lcZ(5,15,"lang_core_buoi")+" "+(S+1)),o.xp6(3),o.Oqu(o.lcZ(8,17,"lang_config_educational_program_day_"+w.day)+", "+w.dateSession+" "+w.timeSession),o.xp6(2),o.Q6J("ngIf",w.room),o.xp6(2),o.Q6J("ngForOf",w.contents),o.xp6(3),o.Q6J("ngClass",o.WLB(49,ze,w.outOfDate,!w.outOfDate)),o.xp6(1),o.Oqu(o.lcZ(16,19,"lang_cms_document_list_title")),o.xp6(4),o.Q6J("ngForOf",w.examHomeworkObjs),o.xp6(1),o.Q6J("ngIf",F.teacherRole),o.xp6(3),o.Q6J("ngClass",o.WLB(52,ze,w.outOfDate,!w.outOfDate)),o.xp6(1),o.Oqu(o.lcZ(25,21,"lang_testbank_document_list_header_title")),o.xp6(3),o.Q6J("ngIf",!w.isDeletingDocument&&!w.isUploadingDocument),o.xp6(1),o.Q6J("ngIf",w.isDeletingDocument||w.isUploadingDocument),o.xp6(1),o.Q6J("ngIf",o.lcZ(30,23,o.Dn7(31,25,"","training_center_student_attendance",!1))||o.lcZ(32,29,o.Dn7(33,31,"","training_center_student_book",!1))||o.lcZ(34,35,o.Dn7(35,37,"","training_center_student_mark",!1))||o.lcZ(36,41,o.Dn7(37,43,"","training_center_student_attendance",!0)))}}function cn(T,E){if(1&T&&(o.ynx(0),o.YNc(1,xn,10,10,"div",16),o.YNc(2,kn,38,55,"div",17),o.BQk()),2&T){const h=E.$implicit;o.xp6(1),o.Q6J("ngIf",!h.isExpanded),o.xp6(1),o.Q6J("ngIf",h.isExpanded)}}function qn(T,E){if(1&T&&(o.ynx(0),o.YNc(1,_e,7,4,"div",7),o.ynx(2),o.YNc(3,cn,3,2,"ng-container",8),o.BQk()()),2&T){const h=o.oxw(2);o.xp6(1),o.Q6J("ngIf",h.generalDocumentObjs.length),o.xp6(2),o.Q6J("ngForOf",h.programSessionObjs)}}function mn(T,E){1&T&&(o.TgZ(0,"h3",108),o._uU(1),o.ALo(2,"mytranslate"),o.qZA()),2&T&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"lang_config_educational_program_add_new_description")," "))}function no(T,E){if(1&T){const h=o.EpF();o.TgZ(0,"button",109),o.NdJ("click",function(){o.CHM(h);const S=o.oxw(3);return o.KtG(S.addNewEducationalProgram())}),o.TgZ(1,"span",68),o._UZ(2,"lucide-icon",69),o.qZA(),o.TgZ(3,"span"),o._uU(4),o.ALo(5,"mytranslate"),o.qZA()()}2&T&&(o.xp6(4),o.Oqu(o.lcZ(5,1,"lang_config_educational_program_select_new")))}function oo(T,E){if(1&T&&(o.ynx(0),o.TgZ(1,"div",104)(2,"h3",105),o._uU(3),o.ALo(4,"mytranslate"),o.qZA(),o.YNc(5,mn,3,3,"h3",106),o.YNc(6,no,6,3,"button",107),o.qZA(),o.BQk()),2&T){const h=o.oxw(2);o.xp6(3),o.hij(" ",o.lcZ(4,3,"lang_config_educational_program_no_have_yet")," "),o.xp6(2),o.Q6J("ngIf",h.teacherRole),o.xp6(1),o.Q6J("ngIf",h.teacherRole)}}function wn(T,E){if(1&T&&(o.YNc(0,fn,1,1,"app-add-new-educational-program",4),o.YNc(1,qn,4,2,"ng-container",5),o.YNc(2,oo,7,5,"ng-container",5)),2&T){const h=o.oxw();o.Q6J("ngIf",h.showAddNewEducationalProgram),o.xp6(1),o.Q6J("ngIf",!h.showAddNewEducationalProgram&&h.programSessionObjs.length),o.xp6(1),o.Q6J("ngIf",!h.showAddNewEducationalProgram&&h.programSessionObjs.length<=0)}}let io=(()=>{class T extends l.Q{editMarkCoefficient(h,w){this.sAztDialogService.open(rt.h,{data:{id:h.markId??0,name:"",coefficient:h.markCoefficient,programId:w.programId,classroomId:this.classroomId,sessionId:w.id,isOnlyCoefficient:!0,documentName:h.name,documentType:h.type},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(F=>{F&&this.reloadSessionDataOfProgram(w)})}reloadSessionDataOfProgram(h){h.isLoadingData=!0,this.reloadSessionDataEmitter.emit(h)}addNewEducationalProgram(){this.showAddNewEducationalProgram=!this.showAddNewEducationalProgram}removeDocumentFromSession(h,w,S){var F=this.programSessionObjs.indexOf(h),z=(h.normalDocumentObjs.filter(mt=>mt.id==S)[0].name??"")+" - "+this.commonService.myTranslateInstant("lang_core_buoi")+" "+(F+1).toString(),X=this.commonService.myTranslateInstant("lang_auto_ban_co_chac_chan_muon_xoa")+' <div class="text-md font-medium inline"> '+z+" </div> ?";this.sAztDialogService.open(Tt.s,{data:{content:X},restoreFocus:!1,width:"500px"}).afterClosed().subscribe(mt=>{mt&&(h.isDeletingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsDocumentIdDelete(this.classroomId,w,S).subscribe({next:Mt=>{h.normalDocumentObjs=h.normalDocumentObjs.filter(Je=>Je.id!=S),this.showSuccessSnack("lang_config_educational_program_remove_document_link_successfully"),h.isDeletingDocument=!1},error:Mt=>{h.isDeletingDocument=!1,this.errorStatusObj(Mt.error.message,!0)}})))})}uploadFileEmitted(h,w){w.isUploadingDocument=!0,this.waitDestroy(this.classroomService.apiClassroomsClassroomIdSessionsSessionIdDocumentsPost(this.classroomId,w.id,h).subscribe({next:S=>{this.reloadSessionDataOfProgram(w),w.isUploadingDocument=!1,this.showSuccessSnack("lang_config_educational_program_add_document_link_successfully")},error:S=>{w.isUploadingDocument=!1,this.errorStatusObj(S.error.message,!0)}}))}expandSessionObj(h){h.isExpanded=!h.isExpanded,this.changeSessionDataEmitter.emit(h)}showSchoolLeaveDialog(h){this.sAztDialogService.open(M,{width:"750px",data:{classroomId:this.classroomId,programId:h.programId,sessionId:h.id},restoreFocus:!1}).afterClosed().subscribe(S=>{S&&this.reloadSessionDataOfProgram(h)})}previewFile(h){const w={name:h.name,mimes:this.sAztFileTypeService.getMineTypeByFileType(h.type),type:h.type,url:h.link};this.sAztDialogService.open(bt.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{...w,index:0},showDownloadIcon:!1},restoreFocus:!1})}ngAfterViewInit(){let h=this.programSessionObjs.find(w=>w.isExpanded);if(h){let w=document.getElementById("session-"+h.id);window.scrollTo({top:w?.offsetTop})}}ngDoCheck(){this.cd.detectChanges()}ngOnInit(){super.ngOnInit()}constructor(h,w,S,F,z){super(),this.sAztDialogService=h,this.cd=w,this.apiUploadService=S,this.classroomService=F,this.sAztFileTypeService=z,this.errorApiMessage="",this.generalDocumentObjs=[],this.programSessionObjs=[],this.reloadSessionDataEmitter=new o.vpe,this.changeSessionDataEmitter=new o.vpe,this.allDocumentTypes=m.s,this.showAddNewEducationalProgram=!1,this.currentUrl=this.commonService.getCurrentUrlWithoutLocale()}}return T.\u0275fac=function(h){return new(h||T)(o.Y36(j.C),o.Y36(o.sBO),o.Y36(R.W),o.Y36(t.um),o.Y36(tt.v))},T.\u0275cmp=o.Xpm({type:T,selectors:[["app-list-sessions"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",errorApiMessage:"errorApiMessage",generalDocumentObjs:"generalDocumentObjs",programSessionObjs:"programSessionObjs",programObj:"programObj"},outputs:{reloadSessionDataEmitter:"reloadSessionDataEmitter",changeSessionDataEmitter:"changeSessionDataEmitter"},features:[o.qOj],decls:4,vars:2,consts:[[1,"container","educational-program-width"],["class","alert alert-danger p-3 mt-3 mb-3","style","margin-bottom: 1.25rem",4,"ngIf","ngIfElse"],["noApiError",""],[1,"alert","alert-danger","p-3","mt-3","mb-3",2,"margin-bottom","1.25rem"],[3,"classroomId","saveEducationalProgramEmit",4,"ngIf"],[4,"ngIf"],[3,"classroomId","saveEducationalProgramEmit"],["class","box p-3 mb-3",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"box","p-3","mb-3"],[1,"font-medium","text-md"],[1,"grid","grid-cols-12","gap-3","mt-3"],["class","col-span-12 md:col-span-4",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-4"],["azt-track-service","list-educational-program-sessions-tZA6KoGtc",1,"cursor-pointer","hover:slate-100",3,"click"],[3,"type","name","url","iconVerticalStyle","customClass"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9","class","box p-3 mb-3 cursor-pointer clickable expanded-box",3,"click",4,"ngIf"],["class","box p-3 mb-3","style","user-select: none",4,"ngIf"],["azt-track-service","list-educational-program-sessions-WqkcB50ei9",1,"box","p-3","mb-3","cursor-pointer","clickable","expanded-box",3,"click"],[1,"heading"],[1,"font-medium"],[2,"font-weight","420",3,"ngClass"],[1,"ml-2","text-slate-500",2,"font-weight","400"],[1,"text-slate-500",2,"font-weight","400"],[1,"box","p-3","mb-3",2,"user-select","none"],["azt-track-service","list-educational-program-sessions-AdTUEEwTH6",1,"heading","cursor-pointer","expanded-box-open","pb-3",3,"click"],[1,"font"],[1,"font-medium",3,"ngClass"],[1,"ml-2","text-slate-500"],[1,"mt-1","mb-1","w-full",2,"align-items","center"],["class","text-slate-500",4,"ngFor","ngForOf"],[1,"azt-answer"],[1,"strike"],[1,"uppercase",3,"ngClass"],[1,"azt-answer-content","p-3","w-full"],[1,"grid","grid-cols-12","items-center","gap-3"],["class","col-span-12 md:col-span-3",4,"ngFor","ngForOf"],["style","text-align: left","azt-track-service","list-educational-program-sessions-7tcWVQIX5M","class","btn btn-transparent w-48 block",3,"routerLink","queryParams","ngClass",4,"ngIf"],[1,"azt-answer","mt-1"],["class","grid grid-cols-12 items-center gap-3",4,"ngIf"],["class","grid grid-cols-12 gap-2",4,"ngIf"],["class","azt-answer mt-1",4,"ngIf"],[1,"text-slate-500"],[1,"col-span-12","md:col-span-3"],["azt-track-service","list-educational-program-sessions-osVwsOKGN",3,"routerLink","queryParams"],[1,"flex","p-3"],[1,"flex","lg:mr-1","text-center",2,"align-items","center"],[1,"ml-1","text-left","mt-0",2,"align-self","center"],[1,"azt-student-name",2,"display","inline-grid"],[1,"font-medium","truncate",2,"max-width","100%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-700/50 mb-0","style","font-size: 13px",4,"ngIf"],["class","mb-0","style","font-size: 13px",3,"ngClass",4,"ngIf"],["class","text-primary mb-0 relative","style","font-size: 13px",4,"ngIf"],[1,"w-8","h-8","font-medium","image-fit","flex-none"],["alt","unknown-icon",3,"src"],[1,"w-8","h-8","text-pending"],["name","file-check"],[1,"w-8","h-8","text-primary"],["name","file-text"],[1,"text-slate-700/50","mb-0",2,"font-size","13px"],[1,"mb-0",2,"font-size","13px",3,"ngClass"],[1,"text-primary","mb-0","relative",2,"font-size","13px"],["azt-track-service","list-educational-program-sessions-mHY0DeFrF",1,"w-4","h-4","inline-block",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","13","height","13","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil",2,"vertical-align","text-top"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],["azt-track-service","list-educational-program-sessions-7tcWVQIX5M",1,"btn","btn-transparent","w-48","block",2,"text-align","left",3,"routerLink","queryParams","ngClass"],[1,"w-4","h-4","inline-block","mr-2"],["name","plus"],[1,"uppercase",2,"vertical-align","text-bottom"],["class","col-span-12 md:col-span-3 relative",4,"ngFor","ngForOf"],[3,"isBtn","customClass","emitFileDocument",4,"ngIf"],[1,"col-span-12","md:col-span-3","relative"],["azt-track-service","list-educational-program-sessions-0reisrghN1",1,"cursor-pointer","hover:slate-100",3,"click"],[3,"type","name","url","customClass"],["class","absolute top-0 right-0 p-1 z-50",4,"ngIf"],[1,"absolute","top-0","right-0","p-1","z-50"],["azt-track-service","list-educational-program-sessions-E4pIFQJwz",1,"btn","btn-transparent","btn-outline-danger","btn-sm","p-0","block",3,"click"],[1,"w-4","h-4","inline-block",3,"matTooltip"],["name","x"],[3,"isBtn","customClass","emitFileDocument"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","text-center","p-4",2,"align-items","center"],[1,"w-6","h-6","mx-auto","flex"],[3,"type"],["class","azt-answer-content py-2 w-full flex",4,"ngIf"],[1,"azt-answer-content","py-2","w-full","flex"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL","class","btn btn-secondary btn-sm text-slate-600 w-48 block ml-2",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","list-educational-program-sessions-AmCuW4QA33",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"routerLink","queryParams"],["name","users",2,"width","18px !important","height","18px !important","vertical-align","middle"],[1,"ml-2",2,"vertical-align","middle"],["azt-track-service","list-educational-program-sessions-Dn0g23Gk6B",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","book",2,"width","18px !important","height","18px !important","vertical-align","middle"],["azt-track-service","list-educational-program-sessions-2wySJMHhPL",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block","ml-2",3,"routerLink","queryParams"],["name","clipboard-signature",2,"width","18px !important","height","18px !important","vertical-align","middle"],["class","grid grid-cols-12 gap-2",4,"ngIf","ngIfElse"],["doneLoad",""],["azt-track-service","list-educational-program-sessions-IcZrMiORiW","class","btn btn-secondary btn-sm text-slate-600 w-48 block",3,"click",4,"ngIf"],["class","font-medium",4,"ngIf"],["azt-track-service","list-educational-program-sessions-IcZrMiORiW",1,"btn","btn-secondary","btn-sm","text-slate-600","w-48","block",3,"click"],[1,"text-danger"],[1,"box","px-4","py-5","text-center","mx-auto","mt-3"],[2,"font-weight","450","font-size","15.5px"],["class","mt-3","style","font-weight: 400; font-size: 14px",4,"ngIf"],["azt-track-service","config-educational-program-UuVaYM-oC","class","btn btn-primary shadow-md w-64 mx-auto mt-3",3,"click",4,"ngIf"],[1,"mt-3",2,"font-weight","400","font-size","14px"],["azt-track-service","config-educational-program-UuVaYM-oC",1,"btn","btn-primary","shadow-md","w-64","mx-auto","mt-3",3,"click"]],template:function(h,w){if(1&h&&(o.TgZ(0,"div",0),o.YNc(1,tn,3,3,"div",1),o.YNc(2,wn,3,3,"ng-template",null,2,o.W1O),o.qZA()),2&h){const S=o.MAs(3);o.xp6(1),o.Q6J("ngIf",!w.statusObj.loading&&w.errorApiMessage)("ngIfElse",S)}},dependencies:[r.rH,st.mk,st.sg,st.O5,ot.gM,ie.Q,kt.n,qt.F,$t.Nh5,ve.a,Pe,st.Ov,lt.JV,lt.Bo,lt.J8,ee.lO],encapsulation:2}),T})();function yn(T,E){1&T&&o._UZ(0,"azt-loading-effect")}function on(T,E){if(1&T){const h=o.EpF();o.TgZ(0,"div",2)(1,"app-list-sessions",3),o.NdJ("reloadSessionDataEmitter",function(S){o.CHM(h);const F=o.oxw();return o.KtG(F.reloadSessionData(S))})("changeSessionDataEmitter",function(S){o.CHM(h);const F=o.oxw();return o.KtG(F.changeSessionData(S))}),o.qZA()()}if(2&T){const h=o.oxw();o.xp6(1),o.Q6J("teacherRole",h.teacherRole)("classroomId",h.classroomId)("errorApiMessage",h.errorApiMessage)("generalDocumentObjs",h.generalDocumentObjs)("programSessionObjs",h.programSessionObjs)("programObj",h.programObj)}}let On=(()=>{class T extends l.Q{changeSessionData(h){this.programSessionObjs.map(w=>w.id==h.id?h:w)}reloadSessionData(h){this.initData(h)}convertDocumentsOfSession(h,w){let S=(new Date).toDateString(),F=!1;return h.forEach(z=>{z.normalDocumentObjs=z.allDocumentObjs.filter(Mt=>"exam"!=Mt.type&&"homework"!=Mt.type),z.examHomeworkObjs=z.allDocumentObjs.filter(Mt=>"exam"==Mt.type||"homework"==Mt.type);let X="",mt="";if(z.fromTime){let Mt=new Date(z.fromTime),Je=new Date(Mt.toDateString()),an=new Date(S),ao=Math.floor((Je.getTime()-an.getTime())/1e3);z.dateSession=this.timeService.getFormatDate(z.fromTime),z.outOfDate=ao<0,X+=this.addZeroToTime(Mt.getHours())+":"+this.addZeroToTime(Mt.getMinutes()),mt=this.timeService.calculationTimeAgoOnlyDate(Je,an)}if(z.toTime){let Mt=new Date(z.toTime);X+=" - "+this.addZeroToTime(Mt.getHours())+":"+this.addZeroToTime(Mt.getMinutes())}X+=mt?" ("+mt+")":"",z.timeSession=X,F||(z.isExpanded=w?z.isExpanded:!z.outOfDate,z.isExpanded&&(F=!0))}),h}addZeroToTime(h){return h<10?"0"+h:h.toString()}getSchoolLeaveObjs(h,w){h.length&&!this.teacherRole?this.waitDestroy(this.studentService.apiStudentsAttendancesMeGet(this.classroomId).subscribe({next:S=>{h.map(F=>{F.studentAttendance=S.list.find(z=>z.sessionId==F.id)}),w(h)},error:S=>{this.errorStatusObj(S.error.message,!0),w(h)}})):w(h)}initData(h){h||this.initStatusObj();let w=this.teacherRole?this.classroomService.apiClassroomsClassroomIdProgramsProgramIdGet(this.classroomId,0):this.classroomService.apiClassroomsClassroomIdStudentsProgramsProgramIdGet(this.classroomId,0);this.waitDestroy(w.subscribe({next:S=>{this.generalDocumentObjs=S.generalDocuments.map(z=>({...z,documentType:this.commonService.getEnumTypeWithDefault(m.s,z.type,m.s.unknown)})),this.programObj=S.program;let F=S.sessions.map(z=>({...z,isExpanded:!1,isLoadingData:!1,isDeletingDocument:!1,isUploadingDocument:!1,normalDocumentObjs:[],examHomeworkObjs:[],allDocumentObjs:z.documents.map(X=>({...X,documentType:this.commonService.getEnumTypeWithDefault(m.s,X.type,m.s.unknown)}))}));F=this.convertDocumentsOfSession(F,!!h),this.getSchoolLeaveObjs(F,z=>{if(h){let X=z.find(mt=>mt.id==h.id);this.programSessionObjs=this.programSessionObjs.map(mt=>mt.id==X?.id?{...X,isExpanded:mt.isExpanded}:mt)}else this.programSessionObjs=z;this.sessionId&&this.programSessionObjs.map(X=>X.isExpanded=X.id==this.sessionId),this.stopStatusObj()})},error:S=>{this.errorApiMessage=S.error.message,this.errorStatusObj(S.error.message,!0)}}))}ngOnInit(){super.ngOnInit(),this.initData(void 0)}constructor(h,w,S,F){super(),this.classroomService=h,this.timeService=w,this.studentService=S,this.activeRoute=F,this.sessionId=0,this.generalDocumentObjs=[],this.programSessionObjs=[],this.errorApiMessage=""}}return T.\u0275fac=function(h){return new(h||T)(o.Y36(t.um),o.Y36(Q.D),o.Y36(t.VT),o.Y36(r.gz))},T.\u0275cmp=o.Xpm({type:T,selectors:[["app-view-educational-program"]],inputs:{teacherRole:"teacherRole",classroomId:"classroomId",backLink:"backLink",sessionId:"sessionId"},features:[o.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"intro-y","relative",2,"min-height","calc(100vh - 550px)"],[3,"teacherRole","classroomId","errorApiMessage","generalDocumentObjs","programSessionObjs","programObj","reloadSessionDataEmitter","changeSessionDataEmitter"]],template:function(h,w){if(1&h&&(o.YNc(0,yn,1,0,"azt-loading-effect",0),o.YNc(1,on,2,6,"ng-template",null,1,o.W1O)),2&h){const S=o.MAs(2);o.Q6J("ngIf",w.statusObj.loading)("ngIfElse",S)}},dependencies:[st.O5,Zt.l,io],encapsulation:2}),T})(),me=(()=>{class T extends l.Q{ngOnInit(){this.waitDestroy((0,et.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let h=this.commonService.getMyQueryParam("backto");this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))??0,this.backLink=h??this.backLink??"/business/dashboard",this.sessionId=Number(this.commonService.getMyQueryParam("sessionId"))})),super.ngOnInit()}constructor(h){super(),this.activeRoute=h,this.classroomId=0,this.sessionId=0,this.backLink=""}}return T.\u0275fac=function(h){return new(h||T)(o.Y36(r.gz))},T.\u0275cmp=o.Xpm({type:T,selectors:[["app-educational-program"]],inputs:{isStudent:"isStudent"},features:[o.qOj],decls:1,vars:4,consts:[[3,"teacherRole","classroomId","sessionId","backLink"]],template:function(h,w){1&h&&o._UZ(0,"app-view-educational-program",0),2&h&&o.Q6J("teacherRole",!w.isStudent)("classroomId",w.classroomId)("sessionId",w.sessionId)("backLink",w.backLink)},dependencies:[On],encapsulation:2}),T})()},86:(Ye,Bt,f)=>{f.d(Bt,{h:()=>kt});var et=f(56223),l=f(19347),o=f(72164),r=f(91765),m=f(65879),t=f(68172),Q=f(96814),st=f(67679),Zt=f(78497),Tt=f(71646),bt=f(36727);function rt(lt,L){1&lt&&(m.TgZ(0,"div",17),m._uU(1),m.ALo(2,"mytranslate"),m.qZA()),2&lt&&(m.xp6(1),m.hij(" *",m.lcZ(2,1,"lang_auto_vui_long_nhap_ten_dau_diem")," "))}function W(lt,L){if(1&lt&&(m.TgZ(0,"div",15)(1,"label",8),m._uU(2),m.ALo(3,"mytranslate"),m.qZA(),m._UZ(4,"input",16),m.ALo(5,"mytranslate"),m.YNc(6,rt,3,3,"div",10),m.qZA()),2&lt){const M=m.oxw();m.xp6(2),m.hij(" ",m.lcZ(3,3,"lang_student_name_component_score")," "),m.xp6(2),m.s9C("placeholder",m.lcZ(5,5,"lang_student_enter_name_component_score")),m.xp6(2),m.Q6J("ngIf",M.form.controls.name.dirty&&M.form.controls.name.errors)}}function dt(lt,L){if(1&lt&&(m.TgZ(0,"div",15)(1,"label",8),m._uU(2),m.ALo(3,"mytranslate"),m.qZA(),m._UZ(4,"input",18),m.ALo(5,"mytranslate"),m.qZA()),2&lt){const M=m.oxw();m.xp6(2),m.hij(" ",m.lcZ(3,3,"homework"==M.data.documentType?"lang_auto_bai_tap":"lang_auto_de_thi"),": "),m.xp6(2),m.s9C("placeholder",m.lcZ(5,5,"lang_student_enter_name_component_score")),m.Q6J("value",M.data.documentName)}}function it(lt,L){1&lt&&(m.TgZ(0,"div",17),m._uU(1),m.ALo(2,"mytranslate"),m.qZA()),2&lt&&(m.xp6(1),m.hij(" *",m.lcZ(2,1,"lang_auto_he_so_diem_phai_la_so")," "))}function ht(lt,L){1&lt&&(m.TgZ(0,"span",19),m._UZ(1,"azt-loading-ui"),m.qZA())}let kt=(()=>{class lt extends o.e{setValueCoeffcient(){var M=this.form.controls.coefficient.value?.toString().replace(/[^0-9]/g,"");this.form.controls.coefficient.setValue(Number(M)??0)}createStartingPoint(){let M={name:this.form.getRawValue().name,coefficient:this.form.getRawValue().coefficient,programId:this.data.programId,classroomId:this.data.classroomId,sessionId:this.data.sessionId};this.waitDestroy(this.data.id?this.commonMarkService.apiCommonMarksIdPut(this.data.id,M).subscribe(j=>{j?(this.showSuccessSnack("lang_core_sua_dau_diem_thanh_cong"),this.dialogRef.close(!0)):this.errorStatusObj("lang_core_sua_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}):this.commonMarkService.apiCommonMarksPost(M).subscribe(j=>{j?(this.showSuccessSnack("lang_core_them_dau_diem_thanh_cong"),this.dialogRef.close(!0)):this.errorStatusObj("lang_core_them_dau_diem_khong_thanh_cong",!0),this.stopStatusObj()}))}ngOnInit(){}constructor(M,j,R){super(R,j),this.commonMarkService=M,this.dialogRef=j,this.data=R,this.form=new et.cw({name:new et.NI({value:R.name??"",disabled:0==R.canEditName},{nonNullable:!0,validators:[et.kI.required,r._.noWhiteSpace]}),coefficient:new et.NI(R.coefficient,{nonNullable:!0,validators:[et.kI.required,et.kI.pattern(/^[1-9]\d*$/)]})})}}return lt.\u0275fac=function(M){return new(M||lt)(m.Y36(t.Q),m.Y36(l.so,8),m.Y36(l.WI))},lt.\u0275cmp=m.Xpm({type:lt,selectors:[["app-create-or-classroom"]],features:[m.qOj],decls:26,vars:21,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class",2,"padding-top","1px"],["class","mt-2",4,"ngIf"],[1,"mt-3"],[1,"form-label"],["type","number","formControlName","coefficient",1,"form-control","hidden-scroll",3,"placeholder","input"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"p-3","text-right"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"mt-2"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"text-xs","text-danger","mt-1"],["type","text","disabled","",1,"form-control",3,"value","placeholder"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(M,j){1&M&&(m.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),m._uU(5),m.ALo(6,"mytranslate"),m.qZA()(),m.TgZ(7,"azt-mat-dialog-content")(8,"div",5),m.YNc(9,W,7,7,"div",6),m.YNc(10,dt,6,7,"div",6),m.TgZ(11,"div",7)(12,"label",8),m._uU(13),m.ALo(14,"mytranslate"),m.qZA(),m.TgZ(15,"input",9),m.NdJ("input",function(){return j.setValueCoeffcient()}),m.ALo(16,"mytranslate"),m.qZA(),m.YNc(17,it,3,3,"div",10),m.qZA()()()(),m.TgZ(18,"div",11)(19,"button",12),m.NdJ("click",function(){return j.dialogRef.close()}),m._uU(20),m.ALo(21,"mytranslate"),m.qZA(),m.TgZ(22,"button",13),m.NdJ("click",function(){return j.createStartingPoint()}),m.YNc(23,ht,2,0,"span",14),m._uU(24),m.ALo(25,"mytranslate"),m.qZA()()()()),2&M&&(m.xp6(1),m.Q6J("formGroup",j.form),m.xp6(4),m.hij(" ",m.lcZ(6,11,j.data.id?j.data.isOnlyCoefficient?"lang_student_edit_mark_coefficient":"lang_student_sua_dau_diem":"lang_student_enter_new_component_score")," "),m.xp6(4),m.Q6J("ngIf",!j.data.isOnlyCoefficient),m.xp6(1),m.Q6J("ngIf",j.data.isOnlyCoefficient),m.xp6(3),m.hij(" ",m.lcZ(14,13,"lang_student_score_factor")," "),m.xp6(2),m.s9C("placeholder",m.lcZ(16,15,"lang_student_enter_score_factor")),m.xp6(2),m.Q6J("ngIf",j.form.controls.coefficient.dirty&&j.form.controls.coefficient.errors),m.xp6(3),m.Oqu(m.lcZ(21,17,"lang_button_cancel")),m.xp6(2),m.Q6J("disabled",j.form.controls.name.errors&&!j.data.isOnlyCoefficient||j.form.controls.coefficient.errors),m.xp6(1),m.Q6J("ngIf",j.statusObj.loading),m.xp6(1),m.hij(" ",m.lcZ(25,19,"lang_button_save")," "))},dependencies:[Q.O5,et._Y,et.Fj,et.wV,et.JJ,et.JL,et.sg,et.u,st.M,Zt.R,Tt.n,bt.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}.box[_ngcontent-%COMP%]{margin-top:1px}.hidden-scroll[_ngcontent-%COMP%]::-webkit-inner-spin-button, .hidden-scroll[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}"]}),lt})()},9400:(Ye,Bt,f)=>{f.d(Bt,{B:()=>We});var et=f(47496),l=f(89156),o=f(63278),r=f(86),m=f(65879),t=f(68172),Q=f(68719),st=f(2783),Zt=f(59708),Tt=f(38228),bt=f(97151),rt=f(96814),W=f(92596),dt=f(43389),it=f(85904),ht=f(91675),kt=f(25368),lt=f(60381),L=f(37722),M=f(36727);const j=["table_score"];function R(B,ct){1&B&&(m.TgZ(0,"div",13)(1,"h3",14),m._uU(2),m.ALo(3,"mytranslate"),m.qZA()()),2&B&&(m.xp6(2),m.Oqu(m.lcZ(3,1,"lang_student_enter_score")))}function tt(B,ct){if(1&B){const A=m.EpF();m.TgZ(0,"button",15),m.NdJ("click",function(){m.CHM(A);const G=m.oxw();return m.KtG(G.createNewScore())}),m.O4$(),m.TgZ(1,"svg",16),m._UZ(2,"line",17)(3,"line",18),m.qZA(),m.kcU(),m.TgZ(4,"span"),m._uU(5),m.ALo(6,"mytranslate"),m.qZA()()}2&B&&(m.xp6(5),m.Oqu(m.lcZ(6,1,"lang_student_enter_new_component_score")))}function ot(B,ct){if(1&B){const A=m.EpF();m.TgZ(0,"button",19),m.NdJ("click",function(){m.CHM(A);const G=m.oxw();return m.KtG(G.downloadTableScore())}),m.TgZ(1,"div",20),m._UZ(2,"lucide-icon",21),m.qZA(),m.TgZ(3,"span"),m._uU(4),m.ALo(5,"mytranslate"),m.qZA()()}2&B&&(m.xp6(4),m.Oqu(m.lcZ(5,1,"lang_student_export_a_grade_sheet")))}function ie(B,ct){if(1&B){const A=m.EpF();m.TgZ(0,"button",22),m.NdJ("click",function(){m.CHM(A);const G=m.oxw();return m.KtG(G.saveMark())}),m._uU(1),m.ALo(2,"mytranslate"),m.qZA()}if(2&B){const A=m.oxw();m.Q6J("disabled",0==A.listStudentMark.length),m.xp6(1),m.hij(" ",m.lcZ(2,2,"lang_auto_luu")," ")}}function qt(B,ct){1&B&&m._UZ(0,"azt-loading-effect")}function $t(B,ct){if(1&B&&(m.TgZ(0,"div",37)(1,"span"),m._uU(2),m.ALo(3,"mytranslate"),m.qZA(),m.TgZ(4,"span",38),m._uU(5),m.qZA()()),2&B){const A=m.oxw().$implicit;m.xp6(2),m.Oqu(m.lcZ(3,2,"lang_auto_he_so")),m.xp6(3),m.Oqu(A.coefficient)}}function ve(B,ct){if(1&B){const A=m.EpF();m.TgZ(0,"button",39),m.NdJ("click",function(){m.CHM(A);const G=m.oxw().$implicit,pt=m.oxw(2);return m.KtG(pt.createNewScore(G))}),m.ALo(1,"mytranslate"),m.O4$(),m.TgZ(2,"svg",40),m._UZ(3,"path",41)(4,"path",42),m.qZA()()}2&B&&m.s9C("matTooltip",m.lcZ(1,1,"lang_student_sua_dau_diem"))}function zt(B,ct){if(1&B&&(m.TgZ(0,"th",31)(1,"div",32)(2,"div",33)(3,"div",34),m._uU(4),m.qZA(),m.YNc(5,$t,6,4,"div",35),m.qZA(),m.YNc(6,ve,5,3,"button",36),m.qZA()()),2&B){const A=ct.$implicit,$=m.oxw(2);m.xp6(3),m.s9C("matTooltip",A.name),m.xp6(1),m.Oqu(A.name),m.xp6(1),m.Q6J("ngIf",A.coefficient),m.xp6(1),m.Q6J("ngIf",!$.isStudent)}}function ae(B,ct){1&B&&(m.TgZ(0,"th",27),m._uU(1),m.ALo(2,"mytranslate"),m.qZA()),2&B&&(m.xp6(1),m.Oqu(m.lcZ(2,1,"lang_business_diem_tong_ket")))}function ue(B,ct){if(1&B&&(m.TgZ(0,"div",55),m._uU(1),m.qZA()),2&B){const A=m.oxw().$implicit;m.xp6(1),m.hij(" ",A.phone," ")}}function Be(B,ct){if(1&B&&(m.TgZ(0,"div",56),m._uU(1),m.qZA()),2&B){const A=m.oxw().$implicit;m.s9C("matTooltip",A.email),m.xp6(1),m.hij(" ",A.email," ")}}function He(B,ct){if(1&B&&(m.TgZ(0,"div",60),m._UZ(1,"azt-check-mark",61),m.qZA()),2&B){const A=m.oxw().$implicit;m.xp6(1),m.Q6J("mark",A.marks.length>0?A.marks[0]:"")}}function pe(B,ct){if(1&B&&(m.TgZ(0,"div",60),m._UZ(1,"azt-check-mark",61),m.qZA()),2&B){const A=m.oxw().$implicit,$=m.oxw(3);m.xp6(1),m.Q6J("mark",$.returnValue(A))}}function Wt(B,ct){if(1&B){const A=m.EpF();m.TgZ(0,"input",62),m.NdJ("input",function(G){m.CHM(A);const pt=m.oxw().index,At=m.oxw().index,D=m.oxw(2);return m.KtG(D.handleMarkStudent(G,At,pt))}),m.ALo(1,"mytranslate"),m.ALo(2,"mytranslate"),m.qZA()}if(2&B){const A=m.oxw().$implicit,$=m.oxw().$implicit,G=m.oxw(2);m.s9C("matTooltip",m.lcZ(1,5,"lang_core_diem_duoc_tach_boi_dau_cach")),m.s9C("id",A.id.toString()+"-"+$.id.toString()),m.s9C("placeholder",A.canEditMark&&"ENTER_SCORE"==G.screenType?m.lcZ(2,7,"lang_auto_nhap_diem"):""),m.Q6J("matTooltipDisabled",!A.canEditMark||"ENTER_SCORE"!=G.screenType)("value",G.returnValue(A))}}function ge(B,ct){if(1&B&&(m.TgZ(0,"td",52),m.YNc(1,He,2,1,"div",57),m.YNc(2,pe,2,1,"div",57),m.YNc(3,Wt,3,9,"input",58),m._UZ(4,"div",59),m.qZA()),2&B){const A=ct.$implicit,$=m.oxw().$implicit,G=m.oxw(2);m.xp6(1),m.Q6J("ngIf","homework"==A.objectType),m.xp6(1),m.Q6J("ngIf","homework"!=A.objectType&&(!A.canEditMark||"ENTER_SCORE"!=G.screenType)),m.xp6(1),m.Q6J("ngIf","homework"!=A.objectType&&A.canEditMark&&"ENTER_SCORE"==G.screenType),m.xp6(1),m.MGl("id","error-",A.id.toString()+"-"+$.id.toString(),""),m.Q6J("hidden",!0)}}function Ge(B,ct){if(1&B&&(m.TgZ(0,"td")(1,"div",60),m._UZ(2,"azt-check-mark",61),m.qZA()()),2&B){const A=m.oxw().$implicit;m.xp6(2),m.Q6J("mark",A.averageMark)}}const se=function(){return[]};function Te(B,ct){if(1&B&&(m.TgZ(0,"tr")(1,"td",43)(2,"div",44)(3,"div",45),m._UZ(4,"azt-create-avatar",46),m.qZA(),m.TgZ(5,"div",47)(6,"a",48),m._uU(7),m.qZA(),m.YNc(8,ue,2,1,"div",49),m.YNc(9,Be,2,2,"div",50),m.qZA()()(),m.TgZ(10,"td",51),m._uU(11),m.ALo(12,"mytranslate"),m.qZA(),m.TgZ(13,"td",52),m._uU(14),m.ALo(15,"formatOnlyDateByUserUnitPipe"),m.qZA(),m.YNc(16,ge,5,5,"td",53),m.YNc(17,Ge,3,1,"td",54),m.qZA()),2&B){const A=ct.$implicit,$=m.oxw(2);let G;m.xp6(4),m.Q6J("nameCreateAvatar",A.fullName)("linkAvatar",A.avatar)("size",36),m.xp6(2),m.s9C("matTooltip",A.fullName),m.xp6(1),m.hij(" ",A.fullName," "),m.xp6(1),m.Q6J("ngIf",A.phone),m.xp6(1),m.Q6J("ngIf",A.email),m.xp6(2),m.Oqu(m.lcZ(12,11,0==A.gender?"lang_gender_female":"lang_gender_male")),m.xp6(3),m.hij(" ",m.lcZ(15,13,A.birthday)," "),m.xp6(2),m.Q6J("ngForOf",null!==(G=A.marks)&&void 0!==G?G:m.DdM(15,se)),m.xp6(1),m.Q6J("ngIf","TABLE_SCORE"==$.screenType)}}const Re=function(){return["fullName"]};function Ie(B,ct){if(1&B&&(m.TgZ(0,"div",23)(1,"div",24)(2,"drag-scroll")(3,"table",25)(4,"thead")(5,"tr")(6,"th",26),m._uU(7),m.ALo(8,"mytranslate"),m.qZA(),m.TgZ(9,"th",27),m._uU(10),m.ALo(11,"mytranslate"),m.qZA(),m.TgZ(12,"th",27),m._uU(13),m.ALo(14,"mytranslate"),m.qZA(),m.YNc(15,zt,7,4,"th",28),m.YNc(16,ae,3,3,"th",29),m.qZA()(),m.TgZ(17,"tbody"),m.YNc(18,Te,18,16,"tr",30),m.ALo(19,"appFilter"),m.qZA()()()()()),2&B){const A=m.oxw();let $,G;m.xp6(7),m.Oqu(m.lcZ(8,6,"lang_auto_ho_va_ten")),m.xp6(3),m.Oqu(m.lcZ(11,8,"lang_gender")),m.xp6(3),m.Oqu(m.lcZ(14,10,"lang_birthday")),m.xp6(2),m.Q6J("ngForOf",null!==($=null==A.dataMark?null:A.dataMark.list)&&void 0!==$?$:m.DdM(16,se)),m.xp6(1),m.Q6J("ngIf","TABLE_SCORE"==A.screenType),m.xp6(2),m.Q6J("ngForOf",m.Dn7(19,12,null!==(G=null==A.dataStudent?null:A.dataStudent.list)&&void 0!==G?G:m.DdM(17,se),A.searchContentObj.searchContent,m.DdM(18,Re)))}}function Ve(B,ct){if(1&B&&(m.TgZ(0,"th",65),m._uU(1),m.ALo(2,"mytranslate"),m.qZA()),2&B){const A=ct.$implicit,$=ct.index,G=m.oxw(2);m.uIk("excelWidth",20)("excelRow",0)("excelColumn",6+$)("excelStyle",G.styleThNormal),m.xp6(1),m.AsE(" ",A.name+"\n"," "," ("+m.lcZ(2,6,"lang_auto_he_so")+" "+A.coefficient+")"," ")}}function je(B,ct){if(1&B&&m._UZ(0,"azt-check-mark",61),2&B){const A=m.oxw().$implicit;m.Q6J("mark",A.marks.length>0?A.marks[0]:"")}}function ee(B,ct){if(1&B&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&B){const A=m.oxw().$implicit,$=m.oxw(3);m.xp6(1),m.hij(" ",$.returnValue(A)," ")}}function $e(B,ct){if(1&B&&(m.TgZ(0,"td",65),m.YNc(1,je,1,1,"azt-check-mark",67),m.YNc(2,ee,2,1,"span",54),m.qZA()),2&B){const A=ct.$implicit,$=ct.index,G=m.oxw().index,pt=m.oxw(2);m.uIk("excelRow",G+1)("excelColumn",6+$)("excelStyle",pt.styleTdNormal),m.xp6(1),m.Q6J("ngIf","homework"==A.objectType),m.xp6(1),m.Q6J("ngIf","homework"!=A.objectType)}}function Le(B,ct){if(1&B&&(m.TgZ(0,"tr")(1,"td",65),m._uU(2),m.qZA(),m.TgZ(3,"td",65),m._uU(4),m.qZA(),m.TgZ(5,"td",65),m._uU(6),m.qZA(),m.TgZ(7,"td",65),m._uU(8),m.qZA(),m.TgZ(9,"td",65),m._uU(10),m.ALo(11,"formatOnlyDateByUserUnitPipe"),m.qZA(),m.TgZ(12,"td",65),m._uU(13),m.ALo(14,"mytranslate"),m.ALo(15,"mytranslate"),m.qZA(),m.YNc(16,$e,3,5,"td",66),m.TgZ(17,"td",65),m._uU(18),m.qZA()()),2&B){const A=ct.$implicit,$=ct.index,G=m.oxw(2);let pt,At;m.xp6(1),m.uIk("excelRow",$+1)("excelColumn",0)("excelStyle",G.styleTdNormal),m.xp6(1),m.hij(" ",null!=A&&A.fullName?$+1:""," "),m.xp6(1),m.uIk("excelRow",$+1)("excelColumn",1)("excelStyle",G.styleTdNormalLeft),m.xp6(1),m.hij(" ",null==A?null:A.fullName," "),m.xp6(1),m.uIk("excelRow",$+1)("excelColumn",2)("excelStyle",G.styleTdNotNumberNormal),m.xp6(1),m.hij(" ",null==A?null:A.phone," "),m.xp6(1),m.uIk("excelRow",$+1)("excelColumn",3)("excelStyle",G.styleTdNormal),m.xp6(1),m.hij(" ",null==A?null:A.email," "),m.xp6(1),m.uIk("excelRow",$+1)("excelColumn",4)("excelStyle",G.styleTdNormal),m.xp6(1),m.hij(" ",m.lcZ(11,29,null==A?null:A.birthday)," "),m.xp6(2),m.uIk("excelRow",$+1)("excelColumn",5)("excelStyle",G.styleTdNormal),m.xp6(1),m.hij(" ",1==(null==A?null:A.gender)?m.lcZ(14,31,"lang_student_export_excel_gender_male"):0==(null==A?null:A.gender)?m.lcZ(15,33,"lang_student_export_excel_gender_female"):""," "),m.xp6(3),m.Q6J("ngForOf",null!==(pt=A.marks)&&void 0!==pt?pt:m.DdM(35,se)),m.xp6(1),m.uIk("excelRow",$+1)("excelColumn",6+(null!==(At=null==A.marks?null:A.marks.length)&&void 0!==At?At:0))("excelStyle",G.styleTdNotNumberNormal),m.xp6(1),m.hij(" ",A.averageMark," ")}}function rn(B,ct){if(1&B&&(m.TgZ(0,"table",63,64)(2,"thead")(3,"tr")(4,"th",65),m._uU(5),m.ALo(6,"mytranslate"),m.qZA(),m.TgZ(7,"th",65),m._uU(8),m.ALo(9,"mytranslate"),m.qZA(),m.TgZ(10,"th",65),m._uU(11),m.ALo(12,"mytranslate"),m.qZA(),m.TgZ(13,"th",65),m._uU(14),m.ALo(15,"mytranslate"),m.qZA(),m.TgZ(16,"th",65),m._uU(17),m.ALo(18,"mytranslate"),m.qZA(),m.TgZ(19,"th",65),m._uU(20),m.ALo(21,"mytranslate"),m.qZA(),m.YNc(22,Ve,3,8,"th",66),m.TgZ(23,"th",65),m._uU(24),m.ALo(25,"mytranslate"),m.qZA()()(),m.TgZ(26,"tbody"),m.YNc(27,Le,19,36,"tr",30),m.ALo(28,"appFilter"),m.qZA()()),2&B){const A=m.oxw();let $,G,pt;m.Q6J("border",1),m.xp6(4),m.uIk("excelWidth",10)("excelRow",0)("excelColumn",0)("excelStyle",A.styleThNormal),m.xp6(1),m.hij(" ",m.lcZ(6,38,"lang_student_export_excel_no")," "),m.xp6(2),m.uIk("excelWidth",20)("excelRow",0)("excelColumn",1)("excelStyle",A.styleThNormal),m.xp6(1),m.hij(" ",m.lcZ(9,40,"lang_student_export_excel_full_name")," "),m.xp6(2),m.uIk("excelWidth",20)("excelRow",0)("excelColumn",2)("excelStyle",A.styleThNormal),m.xp6(1),m.hij(" ",m.lcZ(12,42,"lang_number_phone")," "),m.xp6(2),m.uIk("excelWidth",20)("excelRow",0)("excelColumn",3)("excelStyle",A.styleThNormal),m.xp6(1),m.hij(" ",m.lcZ(15,44,"lang_student_export_excel_email")," "),m.xp6(2),m.uIk("excelWidth",20)("excelRow",0)("excelColumn",4)("excelStyle",A.styleThNormal),m.xp6(1),m.hij(" ",m.lcZ(18,46,"lang_student_export_excel_birthday")," "),m.xp6(2),m.uIk("excelWidth",20)("excelRow",0)("excelColumn",5)("excelStyle",A.styleThNormal),m.xp6(1),m.hij(" ",m.lcZ(21,48,"lang_student_export_excel_gender")," "),m.xp6(2),m.Q6J("ngForOf",null!==($=null==A.dataMark?null:A.dataMark.list)&&void 0!==$?$:m.DdM(56,se)),m.xp6(1),m.uIk("excelWidth",20)("excelRow",0)("excelColumn",6+(null!==(G=null==A.dataMark||null==A.dataMark.list?null:A.dataMark.list.length)&&void 0!==G?G:0))("excelStyle",A.styleThNormal),m.xp6(1),m.hij(" ",m.lcZ(25,50,"lang_business_diem_tong_ket")," "),m.xp6(3),m.Q6J("ngForOf",m.Dn7(28,52,null!==(pt=null==A.dataStudent?null:A.dataStudent.list)&&void 0!==pt?pt:m.DdM(57,se),A.searchContentObj.searchContent,m.DdM(58,Re)))}}let We=(()=>{class B extends et.Q{onSearchBox(A){this.searchContentObj=A}downloadTableScore(){l.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??"");var A=this.exportExcelService.exportHtmlTableToExcelBlob(this.table_answer,!0);let $=this.commonService.createFileNameExportFile(["bang_diem_lop_"+this.classroomObj?.name])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(A,$),l.G.closeLoadingEffect(200)}handlePointByValueInput(A){var $=A.target;let G=""===$.value.trim()?"":$.value;G=G.replace(/[^\d\s,\.]/g,""),G=G.replace(/,/g,"."),G=G.replace(/\s+/g," "),G=G.replace(/\.{2,}/g,"."),G=G.replace(/(?:^|\s)\./g," 0."),G=G.replace(/^\s+/,""),G=G.replace(/\.\s/g," ");var pt=G.split(" ");if(pt.length>0){var At=""!=pt[pt.length-1]?pt[pt.length-1]:pt[pt.length-2];Number(At)>-1?At.split(".").length>1&&At.split(".")[1].length>2&&(G=G.substring(0,G.length-1)):G=G.replace(/\.$/," ")}return $.value=G,G.split(" ").filter(Ft=>""!=Ft).map(Ft=>parseFloat(Ft))}handleMarkStudent(A,$,G){var pt=this.handlePointByValueInput(A),At=this.dataStudent.list[$],D=this.dataMark.list[G],ne=this.listStudentMark.findIndex(Lt=>Lt.id==At.id);if(ne>-1){var Ft=(this.listStudentMark[ne].listMarks??[]).findIndex(Lt=>Lt.id==D.id);Ft>-1?this.listStudentMark[ne].listMarks[Ft].points=pt:this.listStudentMark[ne].listMarks?.push({id:D.id,points:pt})}else this.listStudentMark.push({id:At.id,listMarks:[{id:D.id,points:pt}]})}returnValue(A){return(A.marks??[]).join(" ")}saveMark(){this.waitDestroy(this.studentService.apiStudentsMarksPost({programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listStudentMark}).subscribe($=>{$?(this.getListStudent(),this.successStatusObj("lang_auto_cap_nhat_diem_thanh_cong",!0)):this.errorStatusObj("lang_auto_cap_nhat_diem_khong_thanh_cong",!0)}))}createNewScore(A){this.sAztDialogService.open(r.h,{data:A||{programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId},restoreFocus:!1,width:"400px"}).afterClosed().subscribe(G=>{G&&this.getListStudent()})}getListMark(){this.waitDestroy(this.commonMarkService.apiCommonMarksListPost({page:this.pageMark,size:1e3,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId}).subscribe({next:$=>{this.dataMark=$,this.stopStatusObj()},error:$=>{this.errorStatusObj($.error.message,!0)}}))}getClassroomObj(){this.waitDestroy(this.classroomService.apiClassroomGetObjGet(this.classroomId).subscribe(A=>{1==A.success&&(this.classroomObj=A.data?.obj,this.successStatusObj())}))}getListStudent(){let A={page:1,size:-1,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getAttendance:!1,me:this.isStudent};this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentsListPost(A).subscribe($=>{$?(this.dataStudent=$,this.getListMark()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){super.ngOnInit(),this.getListStudent(),this.getClassroomObj()}constructor(A,$,G,pt,At,D){super(),this.commonMarkService=A,this.studentService=$,this.sAztDialogService=G,this.classroomService=pt,this.exportExcelService=At,this.shareFileFlutterService=D,this.screenType="ENTER_SCORE",this.classroomId=0,this.programId=0,this.sessionId=0,this.isStudent=!0,this.styleThNormal='{"alignment":{"vertical":"center","horizontal":"center","wrapText":true},"font":{"bold":true,"color":{"rgb":"ffffffff"}},"fill":{"patternType":"solid","fgColor":{"rgb":"2361ae"}},"border": {"right":{"style": "thin","color":{"rgb":"ffffffff"}},"left":{"style": "thin","color":{"rgb":"ffffffff"}}}}',this.styleTdNormalLeft='{"alignment":{"vertical":"center","horizontal":"left", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.styleTdNotNumberNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}},"isText":"1"}',this.styleTdNormal='{"alignment":{"vertical":"center","horizontal":"center", "wrapText":true},"font":{"bold":false,"color":{"rgb":"000000"}}}',this.pageStudent=1,this.pageMark=1,this.listStudentMark=[],this.searchContentObj=new o.h}}return B.\u0275fac=function(A){return new(A||B)(m.Y36(t.Q),m.Y36(Q.V),m.Y36(st.C),m.Y36(Zt.u),m.Y36(Tt.L),m.Y36(bt.g))},B.\u0275cmp=m.Xpm({type:B,selectors:[["app-table-score"]],viewQuery:function(A,$){if(1&A&&m.Gf(j,5),2&A){let G;m.iGM(G=m.CRH())&&($.table_answer=G.first)}},inputs:{screenType:"screenType",classroomId:"classroomId",programId:"programId",sessionId:"sessionId",isStudent:"isStudent"},features:[m.qOj],decls:15,vars:11,consts:[[1,"grid","grid-cols-12","gap-6","mt-5"],["class","col-span-12 md:col-span-6",4,"ngIf"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto"],[3,"isServerSearch","placeholder","onSearch"],[1,"flex","justify-end","w-full"],["azt-track-service","enter-score-ULGPeBf6V","class","btn btn-primary flex mr-2",3,"click",4,"ngIf"],["azt-track-service","table-score-n5S54LPUX","class","btn btn-primary flex btn-download-excel",3,"click",4,"ngIf"],["azt-track-service","enter-score-OlvWZNI2DZ","class","btn btn-primary shadow-md sm:mt-0 ml-2",3,"disabled","click",4,"ngIf"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","table table-bordered","style","display: none",3,"border",4,"ngIf"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],["azt-track-service","enter-score-ULGPeBf6V",1,"btn","btn-primary","flex","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","flex","items-center","justify-center"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],["azt-track-service","table-score-n5S54LPUX",1,"btn","btn-primary","flex","btn-download-excel",3,"click"],[1,"w-4","mr-2"],["name","download"],["azt-track-service","enter-score-OlvWZNI2DZ",1,"btn","btn-primary","shadow-md","sm:mt-0","ml-2",3,"disabled","click"],[1,"intro-y","col-span-12","overflow-auto"],[1,"block",2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"text-center","whitespace-nowrap"],["class","text-center","style","max-width: 120px !important",4,"ngFor","ngForOf"],["class","text-center whitespace-nowrap",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-center",2,"max-width","120px !important"],[1,"flex","items-center",2,"justify-content","space-evenly"],[1,"grid","justify-start",2,"max-width","85%"],[1,"truncate","font-medium",3,"matTooltip"],["class","col-score","class","mt-0.5 text-xs text-slate-500 text-center flex items-center",4,"ngIf"],["azt-track-service","enter-score-YQX6a-qxwK","class","w-5 h-5 inline-block ml-1",3,"matTooltip","click",4,"ngIf"],[1,"mt-0.5","text-xs","text-slate-500","text-center","flex","items-center"],[1,"inline-block","ml-1"],["azt-track-service","enter-score-YQX6a-qxwK",1,"w-5","h-5","inline-block","ml-1",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-pencil"],["d","M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"],["d","m15 5 4 4"],[1,"!py-3.5","clickable"],[1,"flex","items-center"],[1,"w-9","h-9","image-fit","zoom-in"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-4"],[1,"truncate","font-medium","whitespace-nowrap",2,"max-width","100% !important",3,"matTooltip"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",3,"matTooltip",4,"ngIf"],[1,"text-center","capitalize"],[1,"text-center"],["class","text-center",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-slate-500","text-xs","mt-0.5",3,"matTooltip"],["class","form-control form-control-sm text-center box-point-homework",4,"ngIf"],["style","width: 120px; color: black !important;","type","text","class","form-control form-control-sm text-center",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input",4,"ngIf"],[1,"text-xs","text-danger","mt-1",3,"id","hidden"],[1,"form-control","form-control-sm","text-center","box-point-homework"],[3,"mark"],["type","text",1,"form-control","form-control-sm","text-center",2,"width","120px","color","black !important",3,"matTooltipDisabled","matTooltip","id","value","placeholder","input"],[1,"table","table-bordered",2,"display","none",3,"border"],["table_score",""],[1,"text-center","azt-excel-cell"],["class","text-center azt-excel-cell",4,"ngFor","ngForOf"],[3,"mark",4,"ngIf"]],template:function(A,$){if(1&A&&(m.TgZ(0,"div",0),m.YNc(1,R,4,3,"div",1),m.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"azt-search-box",5),m.NdJ("onSearch",function(pt){return $.onSearchBox(pt.searchObj)}),m.ALo(6,"mytranslate"),m.qZA()(),m.TgZ(7,"div",6),m.YNc(8,tt,7,3,"button",7),m.YNc(9,ot,6,3,"button",8),m.YNc(10,ie,3,4,"button",9),m.qZA()()()(),m.YNc(11,qt,1,0,"azt-loading-effect",10),m.YNc(12,Ie,20,19,"ng-template",null,11,m.W1O),m.YNc(14,rn,29,59,"table",12)),2&A){const G=m.MAs(13);m.xp6(1),m.Q6J("ngIf","ENTER_SCORE"==$.screenType),m.xp6(4),m.Q6J("isServerSearch",!1)("placeholder",m.lcZ(6,9,"lang_auto_tim_kiem")),m.xp6(3),m.Q6J("ngIf","ENTER_SCORE"==$.screenType),m.xp6(1),m.Q6J("ngIf","TABLE_SCORE"==$.screenType),m.xp6(1),m.Q6J("ngIf","ENTER_SCORE"==$.screenType),m.xp6(1),m.Q6J("ngIf",$.statusObj.loading)("ngIfElse",G),m.xp6(3),m.Q6J("ngIf","TABLE_SCORE"==$.screenType)}},dependencies:[rt.sg,rt.O5,W.gM,dt.l,it.g,ht.B,kt.W,lt.HU,lt.$Z,L.Nh5,M.JV,M.om,M.YK],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}@media (max-width: 639px){.btn-download-excel[_ngcontent-%COMP%]{width:100%!important;margin-top:15px}}.box-point-homework[_ngcontent-%COMP%]{min-width:120px;background-color:rgb(var(--color-slate-100)/var(--tw-bg-opacity));border:1px solid;border-color:rgb(var(--color-slate-200)/var(--tw-border-opacity));font-weight:700;min-height:34px}"]}),B})()},93733:(Ye,Bt,f)=>{f.d(Bt,{Y:()=>m});var et=f(47496),l=f(65879),o=f(21266),r=f(9400);let m=(()=>{class t extends et.Q{ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"))}constructor(st){super(),this.activeRoute=st,this.classroomId=0}}return t.\u0275fac=function(st){return new(st||t)(l.Y36(o.gz))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-grand-board"]],inputs:{isStudent:"isStudent"},features:[l.qOj],decls:1,vars:5,consts:[[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(st,Zt){1&st&&l._UZ(0,"app-table-score",0),2&st&&l.Q6J("isStudent",Zt.isStudent)("screenType","TABLE_SCORE")("classroomId",Zt.classroomId)("programId",0)("sessionId",0)},dependencies:[r.B],styles:[".table-fix[_ngcontent-%COMP%]{overflow:auto;width:100%;max-height:530px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:165px;--tw-text-opacity: 1;background:rgb(255 255 255/var(--tw-text-opacity))}table[_ngcontent-%COMP%]{table-layout:fixed;width:100%}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0;z-index:1}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0;z-index:1}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0}th[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:last-child{z-index:2}@media screen and (max-width: 768px){td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:inherit}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:inherit}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:inherit}}.truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),t})()},3418:(Ye,Bt,f)=>{f.d(Bt,{A:()=>vn});var et=f(8633),l=f(47496),o=function(C){return C[C.ADD_NEW=0]="ADD_NEW",C[C.UPDATE=1]="UPDATE",C[C.DELETE=2]="DELETE",C}(o||{}),r=f(65879),m=f(87789),t=f(21266),Q=f(96814),st=f(92596),Zt=f(43389),Tt=f(71646),bt=f(69862),rt=f(56223),W=f(91765),dt=f(61713),it=f(78953),ht=f(82228),kt=f(2032),lt=f(63038),L=f(37722),M=f(15828),j=f(2783);function R(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"div",2)(1,"div",3)(2,"a",4),r.NdJ("click",function(){const nt=r.CHM(b).$implicit,ft=r.oxw();return r.KtG(ft.onShowFile(nt,-1))}),r.TgZ(3,"div",5),r._UZ(4,"img",6),r.TgZ(5,"span",7),r.NdJ("click",function(){const nt=r.CHM(b).$implicit,ft=r.oxw();return r.KtG(ft.removeFile(nt))}),r.O4$(),r.TgZ(6,"svg",8),r._UZ(7,"line",9)(8,"line",10),r.qZA()()()()()()}if(2&C){const b=q.$implicit;r.xp6(4),r.Q6J("src",b.url,r.LSH)}}let tt=(()=>{class C extends l.Q{onShowFile(b,k){let N={...b,index:k};this.sAztDialogService.open(M.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:N},restoreFocus:!1})}removeFile(b){this.files=this.files.filter(k=>k.url!=b.url),this.filesChange.emit(this.files)}constructor(b){super(),this.sAztDialogService=b,this.filesChange=new r.vpe}}return C.\u0275fac=function(b){return new(b||C)(r.Y36(j.C))},C.\u0275cmp=r.Xpm({type:C,selectors:[["app-new-list-images"]],inputs:{files:"files"},outputs:{filesChange:"filesChange"},features:[r.qOj],decls:2,vars:1,consts:[[1,"grid","grid-cols-12","gap-3","mb-3"],["class","col-span-12 md:col-span-6 xl:col-span-4 lg:col-span-2",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-6","xl:col-span-4","lg:col-span-2"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-1","pr-2","pl-2"],["azt-track-service","list-images-jCIgoLK9i",1,"flex","w-full","items-center",3,"click"],[1,"w-full","h-28","image-fit","zoom-in"],[1,"rounded-md",3,"src"],["azt-track-service","list-images-3VlAbiB3VZ",1,"cursor-pointer","absolute","top-0","right-0","-mt-2","-mr-2","flex","h-5","w-5","items-center","justify-center","rounded-full","bg-danger","text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","stroke-1.5","h-4","w-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"]],template:function(b,k){1&b&&(r.TgZ(0,"div",0),r.YNc(1,R,9,1,"div",1),r.qZA()),2&b&&(r.xp6(1),r.Q6J("ngForOf",k.files))},dependencies:[Q.sg],encapsulation:2}),C})();var ot=f(36727);function ie(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"app-new-list-images",13),r.NdJ("filesChange",function(N){r.CHM(b);const nt=r.oxw();return r.KtG(nt.files=N)}),r.qZA()}if(2&C){const b=r.oxw();r.Q6J("files",b.files)}}function qt(C,q){1&C&&(r.TgZ(0,"span",14),r._UZ(1,"azt-loading-ui"),r.qZA())}function $t(C,q){1&C&&(r.TgZ(0,"span",15),r._UZ(1,"azt-loading-ui"),r.qZA())}let ve=(()=>{class C extends l.Q{saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();var b={content:this.contentFormControl.value??"",classroomId:this.classroomId,imageLinks:this.files.map(k=>k.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsPost(b).subscribe({next:k=>{this.successStatusObj("lang_business_news_add_new_post_success",!0),this.contentFormControl.setValue(""),this.files=[],this.changePostObjEvent.emit({...k,isShowEditForm:!1,hasLoveEmotion:!1,isShowCommentBox:!1})},error:k=>{this.errorStatusObj(k.error.message,!0)}}))}}onFileSelected(b){let N=b.target,nt=N.files,ft=nt?nt[0]:null;null!=ft&&(this.isUploadFile=!0,(0,dt.hv)(ft).then(we=>{this.apiUploadService.uploadToCdnForBusinessNews(we).subscribe(Ht=>{Ht.type!=bt.dt.UploadProgress&&(1==Ht.success?this.files?.push({...Ht.data}):this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",Ht.message??"none")),this.isUploadFile=!1)})})),N.files=null}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(b,k,N){super(),this.newsService=b,this.userService=k,this.apiUploadService=N,this.changePostObjEvent=new r.vpe,this.contentFormControl=new rt.NI("",{nonNullable:!0,validators:[W._.noWhiteSpace]}),this.files=[],this.isUploadFile=!1}}return C.\u0275fac=function(b){return new(b||C)(r.Y36(m.Yc),r.Y36(it.U),r.Y36(ht.W))},C.\u0275cmp=r.Xpm({type:C,selectors:[["app-news-add-new-post"]],inputs:{classroomId:"classroomId"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[r.qOj],decls:19,vars:14,consts:[[1,"box"],[1,"relative","w-full","pt-3","pr-3","pl-3"],["matInput","","autoResize","","row","5",3,"formControl","placeholder"],["class","pt-3",3,"files","filesChange",4,"ngIf"],[1,"text-right","box-button"],[1,"w-full","flex","sm:justify-between","justify-end","items-center"],["type","file","accept","image/png, image/gif, image/jpeg",1,"opacity-0","cursor-pointer",2,"display","none",3,"change"],["formChoseFile",""],["azt-track-service","add-new-post-YUr68bfqj5",1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle",3,"click"],["class","w-4 h-4 inline-block ml-2 mr-2",4,"ngIf"],["name","image",1,"zoom-in",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip"],["azt-track-service","add-new-post-D1kcZnYwie","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"pt-3",3,"files","filesChange"],[1,"w-4","h-4","inline-block","ml-2","mr-2"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(b,k){if(1&b){const N=r.EpF();r.TgZ(0,"div",0)(1,"div",1)(2,"textarea",2),r.ALo(3,"mytranslate"),r._uU(4,"        "),r.qZA(),r.YNc(5,ie,1,1,"app-new-list-images",3),r.qZA(),r.TgZ(6,"div",4)(7,"div",5)(8,"div")(9,"input",6,7),r.NdJ("change",function(ft){return k.onFileSelected(ft)}),r.qZA(),r.TgZ(11,"span",8),r.NdJ("click",function(){r.CHM(N);const ft=r.MAs(10);return r.KtG(ft.click())}),r.YNc(12,qt,2,0,"span",9),r._UZ(13,"lucide-icon",10),r.ALo(14,"mytranslate"),r.qZA()(),r.TgZ(15,"button",11),r.NdJ("click",function(){return k.saveNewPost()}),r.YNc(16,$t,2,0,"span",12),r._uU(17),r.ALo(18,"mytranslate"),r.qZA()()()()}2&b&&(r.xp6(2),r.s9C("placeholder",r.lcZ(3,8,"lang_business_news_post_content")),r.Q6J("formControl",k.contentFormControl),r.xp6(3),r.Q6J("ngIf",k.files.length),r.xp6(7),r.Q6J("ngIf",k.isUploadFile),r.xp6(1),r.s9C("matTooltip",r.lcZ(14,10,"lang_core_tai_anh")),r.xp6(2),r.Q6J("disabled",""==k.contentFormControl.value||k.statusObj.loading),r.xp6(1),r.Q6J("ngIf",k.statusObj.loading),r.xp6(1),r.hij(" ",r.lcZ(18,12,"lang_business_news_add_new_post_button")," "))},dependencies:[Q.O5,kt.Nt,st.gM,rt.Fj,rt.JJ,rt.oH,lt.m,Tt.n,L.Nh5,tt,ot.JV],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0;height:25px}.box-button[_ngcontent-%COMP%]{padding:5px 10px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}"]}),C})();var zt=f(19347),ae=f(72164),ue=f(78497);function Be(C,q){1&C&&(r.TgZ(0,"span",9),r._UZ(1,"azt-loading-ui"),r.qZA())}let He=(()=>{class C extends ae.e{btnCloseDialog(b){this.dialogRef.close(b)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsIdDelete(this.postObj.id).subscribe({next:b=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:b=>{this.errorStatusObj(b.error.message,!0)}}))}constructor(b,k,N){super(N,k),this.newsService=b,this.dialogRef=k,this.data=N,this.postObj=N}}return C.\u0275fac=function(b){return new(b||C)(r.Y36(m.Yc),r.Y36(zt.so,8),r.Y36(zt.WI,8))},C.\u0275cmp=r.Xpm({type:C,selectors:[["app-delete-news-post-confirm-dialog"]],features:[r.qOj],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","text-right"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(b,k){1&b&&(r.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),r._uU(5),r.ALo(6,"mytranslate"),r.TgZ(7,"b",4),r._uU(8),r.qZA(),r._uU(9,"? "),r.qZA()()()(),r.TgZ(10,"div",5)(11,"button",6),r.NdJ("click",function(){return k.btnCloseDialog(!1)}),r._uU(12),r.ALo(13,"mytranslate"),r.qZA(),r.TgZ(14,"button",7),r.NdJ("click",function(){return k.confirmDelete()}),r.YNc(15,Be,2,0,"span",8),r._uU(16),r.ALo(17,"mytranslate"),r.qZA()()()),2&b&&(r.xp6(5),r.hij(" ",r.lcZ(6,5,"lang_business_news_are_your_sure_to_delete_news_post"),"\xa0 "),r.xp6(3),r.Oqu(k.postObj.content),r.xp6(4),r.hij(" ",r.lcZ(13,7,"lang_cms_common_close_btn")," "),r.xp6(3),r.Q6J("ngIf",k.statusObj.loading),r.xp6(1),r.hij(" ",r.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[Q.O5,ue.R,Tt.n,ot.JV],encapsulation:2}),C})();var pe=f(77988),Wt=f(85904);function ge(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"a",4),r.NdJ("click",function(){r.CHM(b);const N=r.oxw(2);return r.KtG(N.clickToSeeMore())}),r._uU(1),r.ALo(2,"mytranslate"),r.qZA()}2&C&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"lang_cms_common_see_more")))}function Ge(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"a",4),r.NdJ("click",function(){r.CHM(b);const N=r.oxw(2);return r.KtG(N.clickToShowShortContent())}),r._uU(1),r.ALo(2,"mytranslate"),r.qZA()}2&C&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"lang_cms_common_see_short_content")))}function se(C,q){if(1&C&&(r.TgZ(0,"div"),r._UZ(1,"span",2),r.ALo(2,"safeAdminHtmlContent"),r.YNc(3,ge,3,3,"a",3),r.YNc(4,Ge,3,3,"a",3),r.qZA()),2&C){const b=r.oxw();r.xp6(1),r.Q6J("innerHTML",r.lcZ(2,3,b.showContent),r.oJD),r.xp6(2),r.Q6J("ngIf",b.showSeeMoreButton&&b.content.length>b.maxLength),r.xp6(1),r.Q6J("ngIf",b.showShortContentButton&&b.content.length>b.maxLength)}}function Te(C,q){if(1&C&&(r._UZ(0,"span",10),r.ALo(1,"safeAdminHtmlContent")),2&C){const b=r.oxw(2);r.Q6J("innerHTML",r.lcZ(1,1,b.showContent),r.oJD)}}function Re(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"a",4),r.NdJ("click",function(){r.CHM(b);const N=r.oxw(2);return r.KtG(N.clickToSeeMore())}),r._uU(1),r.ALo(2,"mytranslate"),r.qZA()}if(2&C){const b=r.oxw(2);r.Akn("position: absolute; bottom: 0; right: 0; background-color: "+b.backgroundColor),r.xp6(1),r.hij("...",r.lcZ(2,3,"lang_cms_common_see_more"),"")}}function Ie(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"a",4),r.NdJ("click",function(){r.CHM(b);const N=r.oxw(2);return r.KtG(N.clickToShowShortContent())}),r._uU(1),r.ALo(2,"mytranslate"),r.qZA()}2&C&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"lang_cms_common_see_short_content")))}function Ve(C,q){if(1&C&&(r.TgZ(0,"div",5),r._UZ(1,"div",6),r.ALo(2,"safeAdminHtmlContent"),r._UZ(3,"div",6,7),r.ALo(5,"safeAdminHtmlContent"),r.YNc(6,Te,2,3,"span",8),r.YNc(7,Re,3,5,"a",9),r.YNc(8,Ie,3,3,"a",3),r.qZA()),2&C){const b=r.MAs(4),k=r.oxw();r.xp6(1),r.Akn(k.styleContent),r.Q6J("innerHTML",r.lcZ(2,9,k.showContent),r.oJD),r.xp6(2),r.Akn("white-space: pre-line; position: absolute; visibility: hidden; line-height: 20px"),r.Q6J("innerHTML",r.lcZ(5,11,k.showContent),r.oJD),r.xp6(3),r.Q6J("ngIf",k.showShortContentButton),r.xp6(1),r.Q6J("ngIf",k.showSeeMoreButton&&b.offsetHeight>20*k.maxLine),r.xp6(1),r.Q6J("ngIf",k.showShortContentButton&&b.offsetHeight>20*k.maxLine)}}let je=(()=>{class C extends l.Q{clickToShowShortContent(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}clickToSeeMore(){this.showSeeMoreButton=!1,this.showShortContentButton=!0,this.processSeeMore()}processSeeMore(){let b=this.commonService.removeTagHtml(this.content);if(this.maxLength&&b.length>this.maxLength)this.showContent=this.showSeeMoreButton?b.substring(0,this.maxLength)+"...":this.content;else if(this.maxLine){this.showContent=this.content;var k=(20*this.maxLine).toString();this.styleContent=this.showSeeMoreButton?"white-space: pre-line; max-height: "+k+"px; overflow: hidden; position: relative; line-height: 20px;":"white-space: pre-line; line-height: 20px; visibility: hidden; position: absolute;"}else this.showSeeMoreButton=!1,this.showShortContentButton=!1,this.showContent=this.content;this.showContent=this.showContent+" "}ngOnInit(){this.processSeeMore(),super.ngOnInit()}ngOnChanges(){this.showSeeMoreButton=!0,this.showShortContentButton=!1,this.processSeeMore()}constructor(){super(),this.content="",this.backgroundColor="white",this.styleContent="white-space: pre-line;",this.showContent="",this.showSeeMoreButton=!0,this.showShortContentButton=!1}}return C.\u0275fac=function(b){return new(b||C)},C.\u0275cmp=r.Xpm({type:C,selectors:[["azt-see-more-multiple-lines"]],inputs:{content:"content",maxLength:"maxLength",maxLine:"maxLine",backgroundColor:"backgroundColor"},features:[r.qOj,r.TTD],decls:2,vars:2,consts:[[4,"ngIf"],["style","position: relative; white-space: break-spaces;",4,"ngIf"],[2,"white-space","pre-line","white-space","break-spaces",3,"innerHTML"],["class","btn-text-primary",3,"click",4,"ngIf"],[1,"btn-text-primary",3,"click"],[2,"position","relative","white-space","break-spaces"],[3,"innerHTML"],["contentElementHide",""],["style","white-space: pre-line;",3,"innerHTML",4,"ngIf"],["class","btn-text-primary",3,"style","click",4,"ngIf"],[2,"white-space","pre-line",3,"innerHTML"]],template:function(b,k){1&b&&(r.YNc(0,se,5,5,"div",0),r.YNc(1,Ve,9,13,"div",1)),2&b&&(r.Q6J("ngIf",k.maxLength),r.xp6(1),r.Q6J("ngIf",k.maxLine&&!k.maxLength))},dependencies:[Q.O5,ot.JV,ot.Tm],encapsulation:2}),C})();var ee=function(C){return C[C.ADD_NEW=0]="ADD_NEW",C[C.UPDATE=1]="UPDATE",C[C.DELETE=2]="DELETE",C}(ee||{}),$e=f(64170),Le=f(49042);function rn(C,q){1&C&&(r.TgZ(0,"span",10),r._UZ(1,"azt-loading-ui"),r.qZA())}let We=(()=>{class C extends l.Q{saveNewComment(){this.commentContentFormControl.value.trim()&&(this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsPost(this.postObj.id,{content:this.commentContentFormControl.value}).subscribe({next:k=>{this.successStatusObj(),this.commentContentFormControl.setValue(""),this.changeCommentObjEvent.emit({...k,isShowEditForm:!1,allowDelete:!0,allowEdit:!0})},error:k=>{this.errorStatusObj(k.error.message,!0)}})))}ngOnInit(){this.userObj=this.userService.getUserObj()}constructor(b,k){super(),this.newsService=b,this.userService=k,this.changeCommentObjEvent=new r.vpe,this.commentContentFormControl=new rt.NI("",{nonNullable:!0,validators:[W._.noWhiteSpace]})}}return C.\u0275fac=function(b){return new(b||C)(r.Y36(m.Yc),r.Y36(it.U))},C.\u0275cmp=r.Xpm({type:C,selectors:[["app-news-add-new-comments"]],inputs:{postObj:"postObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[r.qOj],decls:13,vars:13,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","",2,"resize","auto","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],["azt-track-service","add-new-comment-tIKt3rAhD",1,"btn","btn-secondary","btn-sm","zoom-in",3,"matTooltip","disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex-none","w-4","h-4","zoom-in"],["name","send",2,"color","#1e40af"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(b,k){1&b&&(r.TgZ(0,"div",0),r._UZ(1,"azt-create-avatar",1),r.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),r.NdJ("enterKey",function(){return!(""==k.commentContentFormControl.value||k.statusObj.loading)&&k.saveNewComment()}),r.ALo(5,"mytranslate"),r._uU(6,"            "),r.qZA()(),r.TgZ(7,"div",5)(8,"button",6),r.NdJ("click",function(){return k.saveNewComment()}),r.ALo(9,"mytranslate"),r.YNc(10,rn,2,0,"span",7),r.TgZ(11,"span",8),r._UZ(12,"lucide-icon",9),r.qZA()()()()()),2&b&&(r.xp6(1),r.Q6J("nameCreateAvatar",k.userObj.fullName)("linkAvatar",k.userObj.avatar)("size",30),r.xp6(3),r.s9C("placeholder",r.lcZ(5,9,"lang_core_viet_binh_luan")),r.Q6J("enableInMobile",!1)("formControl",k.commentContentFormControl),r.xp6(4),r.s9C("matTooltip",r.lcZ(9,11,"lang_business_news_add_new_post_button")),r.Q6J("disabled",""==k.commentContentFormControl.value||k.statusObj.loading),r.xp6(2),r.Q6J("ngIf",k.statusObj.loading))},dependencies:[Q.O5,kt.Nt,$e.KE,st.gM,rt.Fj,rt.JJ,rt.oH,Wt.g,lt.m,Le.Y,Tt.n,L.Nh5,ot.JV],encapsulation:2}),C})();function B(C,q){1&C&&(r.TgZ(0,"span",9),r._UZ(1,"azt-loading-ui"),r.qZA())}let ct=(()=>{class C extends ae.e{btnCloseDialog(b){this.dialogRef.close(b)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdDelete(this.postObj.id,this.commentObj.id).subscribe({next:b=>{this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")},error:b=>{this.errorStatusObj(b.error.message,!0)}}))}constructor(b,k,N){super(N,k),this.newsService=b,this.dialogRef=k,this.data=N,this.postObj=N.postObj,this.commentObj=N.commentObj}}return C.\u0275fac=function(b){return new(b||C)(r.Y36(m.Yc),r.Y36(zt.so,8),r.Y36(zt.WI,8))},C.\u0275cmp=r.Xpm({type:C,selectors:[["app-delete-news-post-comment-confirm-dialog"]],features:[r.qOj],decls:18,vars:11,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"p-3","text-right"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(b,k){1&b&&(r.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),r._uU(5),r.ALo(6,"mytranslate"),r.TgZ(7,"b",4),r._uU(8),r.qZA(),r._uU(9,"? "),r.qZA()()()(),r.TgZ(10,"div",5)(11,"button",6),r.NdJ("click",function(){return k.btnCloseDialog(!1)}),r._uU(12),r.ALo(13,"mytranslate"),r.qZA(),r.TgZ(14,"button",7),r.NdJ("click",function(){return k.confirmDelete()}),r.YNc(15,B,2,0,"span",8),r._uU(16),r.ALo(17,"mytranslate"),r.qZA()()()),2&b&&(r.xp6(5),r.hij(" ",r.lcZ(6,5,"lang_business_news_are_your_sure_to_delete_news_post_comment"),"\xa0 "),r.xp6(3),r.Oqu(k.commentObj.content),r.xp6(4),r.hij(" ",r.lcZ(13,7,"lang_cms_common_close_btn")," "),r.xp6(3),r.Q6J("ngIf",k.statusObj.loading),r.xp6(1),r.hij(" ",r.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[Q.O5,ue.R,Tt.n,ot.JV],encapsulation:2}),C})();function A(C,q){if(1&C&&(r.TgZ(0,"button",15),r.O4$(),r.TgZ(1,"svg",16),r._UZ(2,"circle",17)(3,"circle",18)(4,"circle",19),r.qZA()()),2&C){r.oxw();const b=r.MAs(12);r.Q6J("matMenuTriggerFor",b)}}function $(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"li")(1,"a",20),r.NdJ("click",function(){r.CHM(b);const N=r.oxw();return r.KtG(N.editCommentEvent())}),r.O4$(),r.TgZ(2,"svg",21),r._UZ(3,"path",22)(4,"path",23),r.qZA(),r._uU(5),r.ALo(6,"mytranslate"),r.qZA()()}2&C&&(r.xp6(5),r.hij(" ",r.lcZ(6,1,"lang_auto_sua")," "))}function G(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"li")(1,"a",24),r.NdJ("click",function(){r.CHM(b);const N=r.oxw();return r.KtG(N.deleteCommentEvent())}),r.O4$(),r.TgZ(2,"svg",25),r._UZ(3,"polyline",26)(4,"path",27),r.qZA(),r._uU(5),r.ALo(6,"mytranslate"),r.qZA()()}2&C&&(r.xp6(5),r.hij(" ",r.lcZ(6,1,"lang_auto_xoa")," "))}let pt=(()=>{class C extends l.Q{editCommentEvent(){this.commentObj.isShowEditForm=!0,this.changeCommentObjEvent.emit({actionType:ee.UPDATE,commentObj:this.commentObj})}deleteCommentEvent(){this.sAztDialogService.open(ct,{width:"700px",data:{postObj:this.postObj,commentObj:this.commentObj},restoreFocus:!1}).afterClosed().subscribe(k=>{k&&this.changeCommentObjEvent.emit({actionType:ee.DELETE,commentObj:this.commentObj})})}constructor(b){super(),this.sAztDialogService=b,this.changeCommentObjEvent=new r.vpe}}return C.\u0275fac=function(b){return new(b||C)(r.Y36(j.C))},C.\u0275cmp=r.Xpm({type:C,selectors:[["app-news-view-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[r._Bn([et.S]),r.qOj],decls:20,vars:13,consts:[[1,"flex","mb-3","comment-body"],[1,"image-fit","mt-2"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"flex","items-center","justify-start"],[1,"box-content","px-3","py-2","ml-3"],[1,"font-medium","whitespace-nowrap"],[3,"content","maxLine","backgroundColor"],[1,"btn-show","ml-1"],["class","clickable p-1 hover:bg-slate-100 dark:hover:bg-darkmode-400","style","border-radius: 50%","data-tw-toggle","dropdown",3,"matMenuTriggerFor",4,"ngIf"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],[4,"ngIf"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5","ml-3"],["data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"border-radius","50%",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],["azt-track-service","comments-post-dialog-a0fkWfZtZk",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","comments-post-dialog-_pPBuSnF37",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(b,k){1&b&&(r.TgZ(0,"div",0)(1,"div",1),r._UZ(2,"azt-create-avatar",2),r.qZA(),r.TgZ(3,"div")(4,"div",3)(5,"div",4)(6,"div",5),r._uU(7),r.qZA(),r._UZ(8,"azt-see-more-multiple-lines",6),r.qZA(),r.TgZ(9,"div",7),r.YNc(10,A,5,1,"button",8),r.TgZ(11,"mat-menu",9,10)(13,"div",11)(14,"ul",12),r.YNc(15,$,7,3,"li",13),r.YNc(16,G,7,3,"li",13),r.qZA()()()()(),r.TgZ(17,"div",14),r._uU(18),r.ALo(19,"relativeTime"),r.qZA()()()),2&b&&(r.xp6(2),r.Q6J("nameCreateAvatar",null==k.commentObj.user?null:k.commentObj.user.fullName)("linkAvatar",null==k.commentObj.user?null:k.commentObj.user.avatar)("size",30),r.xp6(5),r.hij(" ",null==k.commentObj.user?null:k.commentObj.user.fullName,"\xa0 "),r.xp6(1),r.Q6J("content",k.commentObj.content)("maxLine",5)("backgroundColor","#f5f5f5"),r.xp6(2),r.Q6J("ngIf",k.commentObj.allowDelete||k.commentObj.allowEdit),r.xp6(5),r.Q6J("ngIf",k.commentObj.allowEdit),r.xp6(1),r.Q6J("ngIf",k.commentObj.allowDelete),r.xp6(2),r.Oqu(r.lcZ(19,11,k.commentObj.createdAt)))},dependencies:[Q.O5,pe.VK,pe.p6,Wt.g,je,ot.JV,ot.Yy],styles:[".btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:transparent}.comment-body[_ngcontent-%COMP%]:hover   .btn-show[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:rgb(var(--color-slate-500)/var(--tw-text-opacity))}.box-content[_ngcontent-%COMP%]{border-radius:5px;background-color:#f5f5f5}"]}),C})();function At(C,q){1&C&&(r.TgZ(0,"span",12),r._UZ(1,"azt-loading-ui"),r.qZA())}let D=(()=>{class C extends l.Q{cancel(){this.commentObj.isShowEditForm=!1,this.changeCommentObjEvent.emit(this.commentObj)}saveNewComment(){if(this.commentContentFormControl.value.trim()){this.initStatusObj();var b={content:this.commentContentFormControl.value};this.waitDestroy(this.newsService.apiNewsNewsIdCommentsCommentIdPut(this.postObj.id,this.commentObj.id,b).subscribe({next:k=>{this.successStatusObj(),this.commentObj.isShowEditForm=!1,this.commentObj.content=b.content,this.changeCommentObjEvent.emit(this.commentObj),this.commentContentFormControl.setValue("")},error:k=>{this.errorStatusObj(k.error.message,!0)}}))}}ngOnInit(){this.userObj=this.userService.getUserObj(),this.commentContentFormControl.setValue(this.commentObj.content)}constructor(b,k){super(),this.newsService=b,this.userService=k,this.changeCommentObjEvent=new r.vpe,this.commentContentFormControl=new rt.NI("",{nonNullable:!0,validators:[W._.noWhiteSpace]})}}return C.\u0275fac=function(b){return new(b||C)(r.Y36(m.Yc),r.Y36(it.U))},C.\u0275cmp=r.Xpm({type:C,selectors:[["app-news-edit-comment"]],inputs:{postObj:"postObj",commentObj:"commentObj"},outputs:{changeCommentObjEvent:"changeCommentObjEvent"},features:[r.qOj],decls:17,vars:16,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"border","border-slate-200","dark:border-darkmode-400","relative","w-full","ml-3",2,"border-radius","5px"],[1,"w-full","border-none",2,"min-height","70px"],["matInput","","autoResize","","row","5",2,"resize","none","height","30px",3,"enableInMobile","formControl","placeholder","enterKey"],[1,"text-right","p-1","absolute",2,"bottom","5px","right","5px"],[1,"flex","items-center","justify-center"],["azt-track-service","edit-comment-725iQWOtdo","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-comment-FFY36YTq2a",1,"btn","btn-outline-secondary","btn-sm",3,"matTooltip","disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex-none","w-4","h-4"],["name","send"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(b,k){1&b&&(r.TgZ(0,"div",0),r._UZ(1,"azt-create-avatar",1),r.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"textarea",4),r.NdJ("enterKey",function(){return!(""==k.commentContentFormControl.value||k.statusObj.loading)&&k.saveNewComment()}),r.ALo(5,"mytranslate"),r._uU(6,"            "),r.qZA()(),r.TgZ(7,"div",5)(8,"div",6)(9,"button",7),r.NdJ("click",function(){return k.cancel()}),r._uU(10),r.ALo(11,"mytranslate"),r.qZA(),r.TgZ(12,"button",8),r.NdJ("click",function(){return k.saveNewComment()}),r.ALo(13,"mytranslate"),r.YNc(14,At,2,0,"span",9),r.TgZ(15,"span",10),r._UZ(16,"lucide-icon",11),r.qZA()()()()()()),2&b&&(r.xp6(1),r.Q6J("nameCreateAvatar",k.userObj.fullName)("linkAvatar",k.userObj.avatar)("size",30),r.xp6(3),r.s9C("placeholder",r.lcZ(5,10,"lang_core_viet_binh_luan")),r.Q6J("enableInMobile",!1)("formControl",k.commentContentFormControl),r.xp6(6),r.hij(" ",r.lcZ(11,12,"lang_cms_common_close_btn")," "),r.xp6(2),r.s9C("matTooltip",r.lcZ(13,14,"lang_business_news_add_new_post_button")),r.Q6J("disabled",""==k.commentContentFormControl.value||k.statusObj.loading),r.xp6(2),r.Q6J("ngIf",k.statusObj.loading))},dependencies:[Q.O5,kt.Nt,$e.KE,st.gM,rt.Fj,rt.JJ,rt.oH,Wt.g,lt.m,Le.Y,Tt.n,L.Nh5,ot.JV],encapsulation:2}),C})();function ne(C,q){if(1&C){const b=r.EpF();r.ynx(0),r.TgZ(1,"app-news-view-comment",6),r.NdJ("changeCommentObjEvent",function(N){r.CHM(b);const nt=r.oxw(2);return r.KtG(nt.changeCommentObj(N.actionType,N.commentObj))}),r.qZA(),r.BQk()}if(2&C){const b=r.oxw().$implicit,k=r.oxw();r.xp6(1),r.Q6J("postObj",k.postObj)("commentObj",b)}}function Ft(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"div",2)(1,"app-news-edit-comment",6),r.NdJ("changeCommentObjEvent",function(N){r.CHM(b);const nt=r.oxw(2);return r.KtG(nt.changeCommentObj(nt.enumNewsCommentActionType.UPDATE,N))}),r.qZA()()}if(2&C){const b=r.oxw().$implicit,k=r.oxw();r.xp6(1),r.Q6J("postObj",k.postObj)("commentObj",b)}}function Ce(C,q){if(1&C&&(r.TgZ(0,"div"),r.YNc(1,ne,2,2,"ng-container",4),r.YNc(2,Ft,2,2,"ng-template",null,5,r.W1O),r.qZA()),2&C){const b=q.$implicit,k=r.MAs(3);r.xp6(1),r.Q6J("ngIf",!b.isShowEditForm)("ngIfElse",k)}}function Lt(C,q){1&C&&(r.TgZ(0,"span",10),r._UZ(1,"azt-loading-ui"),r.qZA())}function De(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"div",7)(1,"span",8),r.NdJ("click",function(){r.CHM(b);const N=r.oxw();return r.KtG(!N.sAztNextPaginationService.isLoadingNextPage&&N.getNextPage())}),r._uU(2),r.ALo(3,"mytranslate"),r.YNc(4,Lt,2,0,"span",9),r.qZA()()}if(2&C){const b=r.oxw();r.xp6(2),r.hij(" ",r.lcZ(3,2,"lang_business_news_load_more_comments")," "),r.xp6(2),r.Q6J("ngIf",b.sAztNextPaginationService.isLoadingNextPage)}}let St=(()=>{class C extends l.Q{changeCommentObj(b,k){b==ee.ADD_NEW?(this.commentObjs.unshift(k),this.postObj.totalComment+=1):b==ee.UPDATE?this.commentObjs=this.commentObjs.map(N=>N.id==k.id?k:N):(this.postObj.totalComment-=1,this.commentObjs=this.commentObjs.filter(N=>N.id!=k.id))}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(b){b?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsNewsIdCommentsGet(this.postObj.id,this.sAztNextPaginationService.curPage,this.sAztNextPaginationService.itemPerPage).subscribe({next:k=>{k.list.forEach(N=>{this.commentObjs.push({...N,isShowEditForm:!1,allowEdit:N.tenantId==this.userObj.id,allowDelete:!this.isStudent||N.tenantId==this.userObj.id})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(k.total),this.stopStatusObj()},error:k=>{this.errorStatusObj(k.error.message,!0)}}))}ngOnInit(){this.sAztNextPaginationService.setTotalItemPerPage(10),this.getData(!1)}constructor(b,k,N){super(),this.newsService=b,this.userService=k,this.sAztNextPaginationService=N,this.commentObjs=[],this.enumNewsCommentActionType=ee,this.userObj=this.userService.getUserObj()}}return C.\u0275fac=function(b){return new(b||C)(r.Y36(m.Yc),r.Y36(it.U),r.Y36(et.S))},C.\u0275cmp=r.Xpm({type:C,selectors:[["app-news-list-comments"]],inputs:{isStudent:"isStudent",postObj:"postObj"},features:[r._Bn([et.S]),r.qOj],decls:4,vars:3,consts:[[4,"ngFor","ngForOf"],["class","mb-2 font-medium",4,"ngIf"],[1,"pb-2"],[3,"postObj","changeCommentObjEvent"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"postObj","commentObj","changeCommentObjEvent"],[1,"mb-2","font-medium"],["azt-track-service","comments-92wgKv717",1,"clickable",3,"click"],["class","w-4 h-4 inline-block ml-2",4,"ngIf"],[1,"w-4","h-4","inline-block","ml-2"]],template:function(b,k){1&b&&(r.YNc(0,Ce,4,2,"div",0),r.YNc(1,De,5,4,"div",1),r.TgZ(2,"div",2)(3,"app-news-add-new-comments",3),r.NdJ("changeCommentObjEvent",function(nt){return k.changeCommentObj(k.enumNewsCommentActionType.ADD_NEW,nt)}),r.qZA()()),2&b&&(r.Q6J("ngForOf",k.commentObjs),r.xp6(1),r.Q6J("ngIf",k.commentObjs.length&&k.sAztNextPaginationService.hasNextPage),r.xp6(2),r.Q6J("postObj",k.postObj))},dependencies:[Q.sg,Q.O5,Tt.n,We,pt,D,ot.JV],encapsulation:2}),C})();const re=function(C,q){return{"heart-selected":C,"heart-non-selected":q}};let he=(()=>{class C extends l.Q{changeEmotionEvent(){this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion+=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj),this.waitDestroy(this.newsService.apiNewsNewsIdEmotionsPost(this.postObj.id).subscribe({next:b=>{this.successStatusObj()},error:b=>{this.errorStatusObj(b.error.message,!0),this.postObj.hasLoveEmotion=!this.postObj.hasLoveEmotion,this.postObj.totalEmotion-=this.postObj.hasLoveEmotion?1:-1,this.changePostObjEvent.emit(this.postObj)}}))}showCommentObjs(){this.postObj.isShowCommentBox=!0,this.changePostObjEvent.emit(this.postObj)}constructor(b){super(),this.newsService=b,this.changePostObjEvent=new r.vpe}}return C.\u0275fac=function(b){return new(b||C)(r.Y36(m.Yc))},C.\u0275cmp=r.Xpm({type:C,selectors:[["app-news-emotions"]],inputs:{postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[r.qOj],decls:12,vars:6,consts:[[1,"flex","pb-3",2,"align-items","center"],[1,"flex","mr-5","clickable",2,"align-items","center"],["azt-track-service","emotions-02_zwrttZ",1,"w-5","h-5","mr-2","zoom-in","heart-label",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","#000000","stroke-width","3","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-heart",3,"ngClass"],["d","M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"],["azt-track-service","emotions-Yt4v8qy-f6",1,"flex","clickable",2,"align-items","center",3,"click"],["azt-track-service","news-board-QZ9ykDAa8s",1,"w-5","h-5","mr-2","zoom-in"],["name","message-square"]],template:function(b,k){1&b&&(r.TgZ(0,"div",0)(1,"div",1)(2,"button",2),r.NdJ("click",function(){return k.changeEmotionEvent()}),r.O4$(),r.TgZ(3,"svg",3),r._UZ(4,"path",4),r.qZA()(),r.kcU(),r.TgZ(5,"span"),r._uU(6),r.qZA()(),r.TgZ(7,"div",5),r.NdJ("click",function(){return k.showCommentObjs()}),r.TgZ(8,"button",6),r._UZ(9,"lucide-icon",7),r.qZA(),r.TgZ(10,"span"),r._uU(11),r.qZA()()()),2&b&&(r.xp6(3),r.Q6J("ngClass",r.WLB(3,re,k.postObj.hasLoveEmotion,!k.postObj.hasLoveEmotion)),r.xp6(3),r.Oqu(k.postObj.totalEmotion),r.xp6(5),r.Oqu(k.postObj.totalComment))},dependencies:[Q.mk,L.Nh5],styles:['@charset "UTF-8";.heart-label[_ngcontent-%COMP%]{position:relative;cursor:pointer;font-size:1.5em;align-self:center;transition:color .2s ease-in-out;color:#aab8c2}.heart-non-selected[_ngcontent-%COMP%]{background:transparent}.heart-non-selected[_ngcontent-%COMP%]:hover{stroke:#7f6167!important}.heart-selected[_ngcontent-%COMP%]{fill:#e2264d!important;stroke:#e2264d!important;will-change:font-size;animation:heart 1s cubic-bezier(.17,.89,.32,1.49)}']}),C})();var hn=f(95273);function le(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"a",3),r.NdJ("click",function(){const nt=r.CHM(b).$implicit,ft=r.oxw();return r.KtG(ft.onShowFile(nt))}),r._UZ(1,"img",4),r.qZA()}if(2&C){const b=q.$implicit;r.xp6(1),r.Q6J("src",b.imageLink,r.LSH)}}let Ee=(()=>{class C extends l.Q{onShowFile(b){this.sAztDialogService.open(M.q,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",data:{fileOption:{name:"image_post"+b.id,mimes:"image/jpeg",url:b.imageLink,index:-1}},restoreFocus:!1})}constructor(b,k){super(),this.sAztDialogService=b,this.sAztFileTypeService=k,this.images=[]}}return C.\u0275fac=function(b){return new(b||C)(r.Y36(j.C),r.Y36(hn.v))},C.\u0275cmp=r.Xpm({type:C,selectors:[["app-list-images-post"]],inputs:{images:"images"},features:[r.qOj],decls:3,vars:1,consts:[[1,"outerContainer"],[1,"containerw3","containerw3-margin"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"]],template:function(b,k){1&b&&(r.TgZ(0,"div",0)(1,"div",1),r.YNc(2,le,2,1,"a",2),r.qZA()()),2&b&&(r.xp6(2),r.Q6J("ngForOf",k.images))},dependencies:[Q.sg],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:arial}.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:300px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:300px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:300px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}@media (max-width: 767px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:150px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:150px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:150px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}@media (max-width: 400px){.containerw3[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-wrap:wrap;margin:-2.5px}.containerw3[_ngcontent-%COMP%]:after{content:"";flex-grow:999999999;min-width:100px;height:0}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;display:block;height:100px;margin:2.5px;flex-grow:1}.containerw3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:100px;object-fit:cover;max-width:100%;min-width:100%;vertical-align:bottom}.containerw3.containerw3-margin[_ngcontent-%COMP%]{margin:2.5px}}']}),C})();function wt(C,q){if(1&C&&r.GkF(0,14),2&C){r.oxw();const b=r.MAs(17);r.Q6J("ngTemplateOutlet",b)}}function Ke(C,q){if(1&C&&(r.TgZ(0,"div"),r._UZ(1,"hr",10)(2,"app-news-list-comments",15),r.qZA()),2&C){const b=r.oxw();r.xp6(2),r.Q6J("isStudent",b.isStudent)("postObj",b.postObj)}}function Dt(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"div",16)(1,"button",17),r.O4$(),r.TgZ(2,"svg",18),r._UZ(3,"circle",19)(4,"circle",20)(5,"circle",21),r.qZA()(),r.kcU(),r.TgZ(6,"mat-menu",22,23)(8,"div",24)(9,"ul",25)(10,"li")(11,"a",26),r.NdJ("click",function(){r.CHM(b);const N=r.oxw();return r.KtG(N.editPostEvent())}),r.O4$(),r.TgZ(12,"svg",27),r._UZ(13,"path",28)(14,"path",29),r.qZA(),r._uU(15),r.ALo(16,"mytranslate"),r.qZA()(),r.kcU(),r.TgZ(17,"li")(18,"a",30),r.NdJ("click",function(){r.CHM(b);const N=r.oxw();return r.KtG(N.deletePostEvent())}),r.O4$(),r.TgZ(19,"svg",31),r._UZ(20,"polyline",32)(21,"path",33),r.qZA(),r._uU(22),r.ALo(23,"mytranslate"),r.qZA()()()()()()}if(2&C){const b=r.MAs(7);r.xp6(1),r.Q6J("matMenuTriggerFor",b),r.xp6(14),r.hij(" ",r.lcZ(16,3,"lang_auto_sua")," "),r.xp6(7),r.hij(" ",r.lcZ(23,5,"lang_auto_xoa")," ")}}let Xe=(()=>{class C extends l.Q{editPostEvent(){this.postObj.isShowEditForm=!0,this.changePostObjEvent.emit({actionType:o.UPDATE,postObj:this.postObj})}deletePostEvent(){this.sAztDialogService.open(He,{width:"700px",data:this.postObj,restoreFocus:!1}).afterClosed().subscribe(k=>{k&&this.changePostObjEvent.emit({actionType:o.DELETE,postObj:this.postObj})})}changeEmotionEventEvent(b){this.postObj=b,this.changePostObjEvent.emit({actionType:o.UPDATE,postObj:this.postObj})}constructor(b){super(),this.sAztDialogService=b,this.changePostObjEvent=new r.vpe}}return C.\u0275fac=function(b){return new(b||C)(r.Y36(j.C))},C.\u0275cmp=r.Xpm({type:C,selectors:[["app-news-view-post"]],inputs:{postObj:"postObj",isStudent:"isStudent"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[r.qOj],decls:18,vars:13,consts:[[1,"flex","items-center","mb-3"],[1,"w-9","h-9","image-fit"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-3"],[1,"font-medium","whitespace-nowrap"],[1,"text-slate-500","text-xs","whitespace-nowrap","mt-0.5"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"pb-3"],[3,"content","maxLine"],[3,"images"],[1,"mb-3"],[1,"mb-3",3,"postObj","changePostObjEvent"],[4,"ngIf"],["newsEditOrDeleteNews",""],[3,"ngTemplateOutlet"],[1,"mb-3",3,"isStudent","postObj"],[1,"ml-auto"],["data-tw-toggle","dropdown",1,"absolute","clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400",2,"top","10px","right","10px","border-radius","50%",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],["xPosition","after"],["menuBox",""],[1,"dropdown-menu","show","relative","w-28"],[1,"dropdown-content"],["azt-track-service","news-board-5U9HMbLBxY",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","news-board-35uylGIW_W",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(b,k){if(1&b&&(r.TgZ(0,"div",0)(1,"div",1),r._UZ(2,"azt-create-avatar",2),r.qZA(),r.TgZ(3,"div",3)(4,"a",4),r._uU(5),r.qZA(),r.TgZ(6,"div",5),r._uU(7),r.ALo(8,"relativeTime"),r.qZA()()(),r.YNc(9,wt,1,1,"ng-container",6),r.TgZ(10,"div",7),r._UZ(11,"azt-see-more-multiple-lines",8),r.qZA(),r._UZ(12,"app-list-images-post",9)(13,"hr",10),r.TgZ(14,"app-news-emotions",11),r.NdJ("changePostObjEvent",function(nt){return k.changeEmotionEventEvent(nt)}),r.qZA(),r.YNc(15,Ke,3,2,"div",12),r.YNc(16,Dt,24,7,"ng-template",null,13,r.W1O)),2&b){let N;r.xp6(2),r.Q6J("nameCreateAvatar",null==k.postObj.user?null:k.postObj.user.fullName)("linkAvatar",null==k.postObj.user?null:k.postObj.user.avatar)("size",36),r.xp6(3),r.hij("",null==k.postObj.user?null:k.postObj.user.fullName,"\xa0"),r.xp6(2),r.Oqu(r.lcZ(8,11,k.postObj.createdAt)),r.xp6(2),r.Q6J("ngIf",!k.isStudent),r.xp6(2),r.Q6J("content",k.postObj.content)("maxLine",0==(null!==(N=null==k.postObj.images?null:k.postObj.images.length)&&void 0!==N?N:0)?k.postObj.content.length:10),r.xp6(1),r.Q6J("images",k.postObj.images),r.xp6(2),r.Q6J("postObj",k.postObj),r.xp6(1),r.Q6J("ngIf",k.postObj.isShowCommentBox)}},dependencies:[Q.O5,Q.tP,pe.VK,pe.p6,Wt.g,je,St,he,Ee,ot.JV,ot.Yy],encapsulation:2}),C})();function Gt(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"app-new-list-images",15),r.NdJ("filesChange",function(N){r.CHM(b);const nt=r.oxw();return r.KtG(nt.files=N)}),r.qZA()}if(2&C){const b=r.oxw();r.Q6J("files",b.files)}}function ke(C,q){1&C&&(r.TgZ(0,"span",16),r._UZ(1,"azt-loading-ui"),r.qZA())}function ce(C,q){1&C&&(r.TgZ(0,"span",17),r._UZ(1,"azt-loading-ui"),r.qZA())}let Pe=(()=>{class C extends l.Q{cancel(){this.postObj.isShowEditForm=!1,this.changePostObjEvent.emit(this.postObj)}saveNewPost(){if(this.contentFormControl.value.trim()){this.initStatusObj();let b={content:this.contentFormControl.value??"",classroomId:this.postObj.id,imageLinks:this.files.map(k=>k.url).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsIdPut(this.postObj.id,b).subscribe({next:k=>{this.successStatusObj("lang_cms_update_success",!0);let N=[];this.files.forEach(nt=>{N.push({id:0,newsId:this.postObj?.id??0,imageLink:nt.url??"",createdAt:void 0})}),this.postObj.isShowEditForm=!1,this.postObj.content=b.content,this.postObj.images=N,this.changePostObjEvent.emit(this.postObj),this.contentFormControl.setValue(""),this.files=[]},error:k=>{this.errorStatusObj(k.error.message,!0)}}))}}onFileSelected(b){let N=b.target,nt=N.files,ft=nt?nt[0]:null;null!=ft&&(this.isUploadFile=!0,(0,dt.hv)(ft).then(we=>{this.apiUploadService.uploadToCdnForBusinessNews(we).subscribe(Ht=>{Ht.type!=bt.dt.UploadProgress&&(1==Ht.success?this.files?.push({...Ht.data}):this.showErrorSnack(this.commonService.translateToKeyParam("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi",Ht.message??"none")),this.isUploadFile=!1)})})),N.files=null}ngOnInit(){this.userObj=this.userService.getUserObj(),this.contentFormControl.setValue(this.postObj.content),(this.postObj.images??[]).forEach(b=>{this.files.push({name:"",mimes:"image/jpeg",url:b.imageLink})})}constructor(b,k,N){super(),this.newsService=b,this.userService=k,this.apiUploadService=N,this.changePostObjEvent=new r.vpe,this.contentFormControl=new rt.NI("",{nonNullable:!0,validators:[W._.noWhiteSpace]}),this.files=[],this.isUploadFile=!1}}return C.\u0275fac=function(b){return new(b||C)(r.Y36(m.Yc),r.Y36(it.U),r.Y36(ht.W))},C.\u0275cmp=r.Xpm({type:C,selectors:[["app-news-edit-post"]],inputs:{classroomId:"classroomId",postObj:"postObj"},outputs:{changePostObjEvent:"changePostObjEvent"},features:[r.qOj],decls:24,vars:20,consts:[[1,"flex"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"relative","w-full","ml-3",2,"border-radius","5px"],["matInput","","autoResize","","row","5",1,"border-none",2,"resize","none","height","85px",3,"formControl","placeholder"],[3,"files","filesChange",4,"ngIf"],[1,"text-right","pt-1","pb-1"],[1,"flex","items-center","justify-end","w-auto"],["type","file","accept","image/png, image/gif, image/jpeg",1,"opacity-0","cursor-pointer",2,"display","none",3,"change"],["formChoseFile",""],[1,"mr-2","text-success","inline-block","clickable","flex","items-center",2,"vertical-align","middle",3,"click"],["class","w-4 h-4 inline-block ml-2 mr-2",4,"ngIf"],["name","image",1,"zoom-in",2,"width","24px!important","height","24px!important","vertical-align","middle","color","limegreen",3,"matTooltip"],["azt-track-service","edit-post-3W8T83tTj_","type","button",1,"btn","btn-secondary","btn-sm","w-22","mr-2",3,"click"],["azt-track-service","edit-post-NaJeb-mmLZ","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"files","filesChange"],[1,"w-4","h-4","inline-block","ml-2","mr-2"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(b,k){if(1&b){const N=r.EpF();r.TgZ(0,"div")(1,"div",0),r._UZ(2,"azt-create-avatar",1),r.TgZ(3,"div",2)(4,"textarea",3),r.ALo(5,"mytranslate"),r._uU(6,"            "),r.qZA()()(),r.YNc(7,Gt,1,1,"app-new-list-images",4),r.TgZ(8,"div",5)(9,"div",6)(10,"div")(11,"input",7,8),r.NdJ("change",function(ft){return k.onFileSelected(ft)}),r.qZA(),r.TgZ(13,"span",9),r.NdJ("click",function(){r.CHM(N);const ft=r.MAs(12);return r.KtG(ft.click())}),r.YNc(14,ke,2,0,"span",10),r._UZ(15,"lucide-icon",11),r.ALo(16,"mytranslate"),r.qZA()(),r.TgZ(17,"button",12),r.NdJ("click",function(){return k.cancel()}),r._uU(18),r.ALo(19,"mytranslate"),r.qZA(),r.TgZ(20,"button",13),r.NdJ("click",function(){return k.saveNewPost()}),r.YNc(21,ce,2,0,"span",14),r._uU(22),r.ALo(23,"mytranslate"),r.qZA()()()()}2&b&&(r.xp6(2),r.Q6J("nameCreateAvatar",k.userObj.fullName)("linkAvatar",k.userObj.avatar)("size",36),r.xp6(2),r.s9C("placeholder",r.lcZ(5,12,"lang_business_news_post_content")),r.Q6J("formControl",k.contentFormControl),r.xp6(3),r.Q6J("ngIf",k.files.length),r.xp6(7),r.Q6J("ngIf",k.isUploadFile),r.xp6(1),r.s9C("matTooltip",r.lcZ(16,14,"lang_core_tai_anh")),r.xp6(3),r.hij(" ",r.lcZ(19,16,"lang_cms_common_close_btn")," "),r.xp6(2),r.Q6J("disabled",""==k.contentFormControl.value||k.statusObj.loading),r.xp6(1),r.Q6J("ngIf",k.statusObj.loading),r.xp6(1),r.hij(" ",r.lcZ(23,18,"lang_business_news_update_post_button")," "))},dependencies:[Q.O5,kt.Nt,st.gM,rt.Fj,rt.JJ,rt.oH,Wt.g,lt.m,Tt.n,L.Nh5,tt,ot.JV],styles:["textarea[_ngcontent-%COMP%]:focus{outline:none;border:none}textarea[_ngcontent-%COMP%]{resize:none;min-height:25px;font-size:14px;width:100%;border:none;padding:0}"]}),C})();function tn(C,q){1&C&&(r.TgZ(0,"div",3),r._UZ(1,"azt-loading-effect"),r.qZA())}function fn(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"div",6)(1,"app-news-add-new-post",7),r.NdJ("changePostObjEvent",function(N){r.CHM(b);const nt=r.oxw(2);return r.KtG(nt.changePostObj(nt.enumNewsPostActionType.ADD_NEW,N))}),r.qZA()()}if(2&C){const b=r.oxw(2);r.xp6(1),r.Q6J("classroomId",b.classroomId)}}function Ue(C,q){if(1&C){const b=r.EpF();r.ynx(0),r.TgZ(1,"app-news-view-post",11),r.NdJ("changePostObjEvent",function(N){r.CHM(b);const nt=r.oxw(3);return r.KtG(nt.changePostObj(N.actionType,N.postObj))}),r.qZA(),r.BQk()}if(2&C){const b=r.oxw().$implicit,k=r.oxw(2);r.xp6(1),r.Q6J("isStudent",k.isStudent)("postObj",b)}}function _e(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"app-news-edit-post",12),r.NdJ("changePostObjEvent",function(N){r.CHM(b);const nt=r.oxw(3);return r.KtG(nt.changePostObj(nt.enumNewsPostActionType.UPDATE,N))}),r.qZA()}if(2&C){const b=r.oxw().$implicit,k=r.oxw(2);r.Q6J("postObj",b)("classroomId",k.classroomId)}}function en(C,q){if(1&C&&(r.TgZ(0,"div",8),r.YNc(1,Ue,2,2,"ng-container",9),r.YNc(2,_e,1,2,"ng-template",null,10,r.W1O),r.qZA()),2&C){const b=q.$implicit,k=r.MAs(3);r.xp6(1),r.Q6J("ngIf",!b.isShowEditForm)("ngIfElse",k)}}function ln(C,q){1&C&&(r.TgZ(0,"div",6)(1,"div",13)(2,"div",14),r.O4$(),r.TgZ(3,"svg",15),r._UZ(4,"path",16)(5,"path",17)(6,"path",18)(7,"path",19)(8,"path",20)(9,"path",21),r.qZA(),r.kcU(),r.TgZ(10,"p",22),r._uU(11),r.ALo(12,"mytranslate"),r.qZA()()()()),2&C&&(r.xp6(11),r.Oqu(r.lcZ(12,1,"lang_student_news_there_is_no_news")+"!"))}function xn(C,q){1&C&&(r.TgZ(0,"span",26),r._UZ(1,"azt-loading-ui"),r.qZA())}function Nt(C,q){if(1&C){const b=r.EpF();r.TgZ(0,"button",27),r.NdJ("click",function(){r.CHM(b);const N=r.oxw(3);return r.KtG(N.getNextPage())}),r.ALo(1,"mytranslate"),r.O4$(),r.TgZ(2,"svg",28),r._UZ(3,"polyline",29),r.qZA()()}2&C&&r.s9C("matTooltip",r.lcZ(1,1,"lang_auto_hien_ban_ghi_cu_hon"))}function Kt(C,q){if(1&C&&(r.TgZ(0,"div",6)(1,"div",23),r.YNc(2,xn,2,0,"span",24),r.YNc(3,Nt,4,3,"ng-template",null,25,r.W1O),r.qZA()()),2&C){const b=r.MAs(4),k=r.oxw(2);r.xp6(2),r.Q6J("ngIf",k.sAztNextPaginationService.isLoadingNextPage)("ngIfElse",b)}}function bn(C,q){if(1&C&&(r.YNc(0,fn,2,1,"div",4),r.YNc(1,en,4,2,"div",5),r.YNc(2,ln,13,3,"div",4),r.YNc(3,Kt,5,2,"div",4)),2&C){const b=r.oxw();r.Q6J("ngIf",!b.isStudent),r.xp6(1),r.Q6J("ngForOf",b.postObjs),r.xp6(1),r.Q6J("ngIf",b.postObjs.length<=0),r.xp6(1),r.Q6J("ngIf",b.postObjs.length&&b.sAztNextPaginationService.hasNextPage)}}let vn=(()=>{class C extends l.Q{changePostObj(b,k){b==o.ADD_NEW?this.postObjs.unshift(k):this.postObjs=b==o.UPDATE?this.postObjs.map(N=>N.id==k.id?k:N):this.postObjs.filter(N=>N.id!=k.id)}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}getData(b){var k={size:this.sAztNextPaginationService.itemPerPage,page:this.sAztNextPaginationService.curPage,classroomId:this.classroomId,student:this.isStudent};b?this.sAztNextPaginationService.setLoading(!0):this.initStatusObj(),this.waitDestroy(this.newsService.apiNewsListPost(k).subscribe({next:N=>{let nt={page:1,size:-1,newsIds:N.list.map(ft=>ft.id).filter(this.commonService.notEmpty)};this.waitDestroy(this.newsService.apiNewsEmotionsListPost(nt).subscribe({next:ft=>{let we=this.commonService.arrayToUniqueDictionary(ft.list??[],Ht=>Ht.newsId.toString());N.list.forEach(Ht=>{this.postObjs.push({...Ht,hasLoveEmotion:we.hasOwnProperty(Ht.id),isShowEditForm:!1,isShowCommentBox:!1})}),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(N.total),this.stopStatusObj()},error:ft=>{this.errorStatusObj(ft.error.message,!0)}}))},error:N=>{this.errorStatusObj(N.error.message,!0)}}))}getDataFirstTime(){this.postObjs=[],this.sAztNextPaginationService.resetToFirstPage(),this.getData(!1)}ngOnChanges(){this.getDataFirstTime()}ngOnInit(){super.ngOnInit()}constructor(b,k,N){super(),this.newsService=b,this.activeRoute=k,this.sAztNextPaginationService=N,this.postObjs=[],this.enumNewsPostActionType=o}}return C.\u0275fac=function(b){return new(b||C)(r.Y36(m.Yc),r.Y36(t.gz),r.Y36(et.S))},C.\u0275cmp=r.Xpm({type:C,selectors:[["app-news-board"]],inputs:{isStudent:"isStudent",classroomId:"classroomId"},features:[r._Bn([et.S]),r.qOj,r.TTD],decls:4,vars:2,consts:[[1,"grid","grid-cols-12"],["class","col-span-12 sm:col-span-10 lg:col-span-8",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","sm:col-span-10","lg:col-span-8"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start mb-3",4,"ngIf"],["class","col-span-12 sm:col-span-10 lg:col-span-8 column-start box p-3 mb-3",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","mb-3"],[3,"classroomId","changePostObjEvent"],[1,"col-span-12","sm:col-span-10","lg:col-span-8","column-start","box","p-3","mb-3"],[4,"ngIf","ngIfElse"],["showEditForm",""],[3,"isStudent","postObj","changePostObjEvent"],[3,"postObj","classroomId","changePostObjEvent"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","87","height","102","viewBox","0 0 87 102","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M66.6719 13.9999L75.9738 81.8427L76.8095 88.649C77.0787 90.8417 75.5194 92.8374 73.3268 93.1066L14.7665 100.297C12.5739 100.566 10.5781 99.0069 10.3089 96.8142L1.29312 23.3867C1.1585 22.2904 1.93813 21.2925 3.03447 21.1579C3.0414 21.157 3.04832 21.1562 3.05526 21.1554L7.91363 20.6104M11.8422 20.1698L16.4292 19.6552L11.8422 20.1698Z","fill","white"],["d","M67.9103 13.8302C67.8165 13.1462 67.186 12.6678 66.5021 12.7615C65.8181 12.8553 65.3397 13.4858 65.4335 14.1697L67.9103 13.8302ZM75.9738 81.8427L77.2144 81.6903C77.2137 81.6845 77.213 81.6787 77.2122 81.6729L75.9738 81.8427ZM76.8095 88.649L78.0502 88.4967L76.8095 88.649ZM73.3268 93.1066L73.4791 94.3473L73.3268 93.1066ZM14.7665 100.297L14.9189 101.538L14.7665 100.297ZM10.3089 96.8142L11.5496 96.6619L10.3089 96.8142ZM3.05526 21.1554L3.1946 22.3976L3.05526 21.1554ZM8.05297 21.8527C8.73902 21.7757 9.23279 21.1572 9.15583 20.4711C9.07888 19.7851 8.46034 19.2913 7.77428 19.3682L8.05297 21.8527ZM11.7028 18.9276C11.0168 19.0045 10.523 19.6231 10.5999 20.3091C10.6769 20.9952 11.2954 21.4889 11.9815 21.412L11.7028 18.9276ZM16.5685 20.8974C17.2546 20.8205 17.7484 20.2019 17.6714 19.5159C17.5945 18.8298 16.9759 18.3361 16.2899 18.413L16.5685 20.8974ZM65.4335 14.1697L74.7353 82.0125L77.2122 81.6729L67.9103 13.8302L65.4335 14.1697ZM74.7331 81.995L75.5688 88.8013L78.0502 88.4967L77.2144 81.6903L74.7331 81.995ZM75.5688 88.8013C75.7539 90.3088 74.6819 91.6809 73.1744 91.866L73.4791 94.3473C76.357 93.994 78.4035 91.3745 78.0502 88.4967L75.5688 88.8013ZM73.1744 91.866L14.6142 99.0563L14.9189 101.538L73.4791 94.3473L73.1744 91.866ZM14.6142 99.0563C13.1067 99.2414 11.7347 98.1694 11.5496 96.6619L9.0682 96.9666C9.42156 99.8445 12.041 101.891 14.9189 101.538L14.6142 99.0563ZM11.5496 96.6619L2.5338 23.2344L0.0524334 23.539L9.0682 96.9666L11.5496 96.6619ZM2.5338 23.2344C2.48332 22.8232 2.77568 22.449 3.18681 22.3986L2.88213 19.9172C1.10059 20.1359 -0.166313 21.7575 0.0524334 23.539L2.5338 23.2344ZM3.18681 22.3986C3.1894 22.3982 3.192 22.3979 3.1946 22.3976L2.91592 19.9132C2.90465 19.9145 2.89339 19.9158 2.88213 19.9172L3.18681 22.3986ZM3.1946 22.3976L8.05297 21.8527L7.77428 19.3682L2.91592 19.9132L3.1946 22.3976ZM11.9815 21.412L16.5685 20.8974L16.2899 18.413L11.7028 18.9276L11.9815 21.412Z","fill","#1F64E7"],["fill-rule","evenodd","clip-rule","evenodd","d","M64.14 18.2692L72.5596 79.7529L73.3169 85.9212C73.5609 87.9083 72.1669 89.7146 70.2033 89.9557L17.7613 96.3948C15.7978 96.6359 14.0082 95.2204 13.7642 93.2333L5.61416 26.8568C5.47955 25.7605 6.25918 24.7626 7.35551 24.628L13.8431 23.8314","fill","#E8F0FE"],["d","M20.9219 4C20.9219 2.48122 22.1531 1.25 23.6719 1.25H69.2286C69.9577 1.25 70.6569 1.5395 71.1726 2.05485L84.6158 15.4898C85.1319 16.0056 85.4219 16.7053 85.4219 17.4349V80C85.4219 81.5188 84.1907 82.75 82.6719 82.75H23.6719C22.1531 82.75 20.9219 81.5188 20.9219 80V4Z","fill","white","stroke","#1F64E7","stroke-width","2.5"],["d","M69.6719 2.40283V14C69.6719 15.6569 71.015 17 72.6719 17H80.6055","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M31 17H57M31 29H74M31 42H74M31 55H74M31 68H57","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"],[1,"flex","justify-center"],["class","w-4 h-4 inline-block mr-2",4,"ngIf","ngIfElse"],["doneLoadNextPage",""],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","trash-homework-tab-C69nk6waYbG",1,"btn","btn-transparent",3,"matTooltip","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(b,k){if(1&b&&(r.TgZ(0,"div",0),r.YNc(1,tn,2,0,"div",1),r.YNc(2,bn,4,4,"ng-template",null,2,r.W1O),r.qZA()),2&b){const N=r.MAs(3);r.xp6(1),r.Q6J("ngIf",k.statusObj.loading)("ngIfElse",N)}},dependencies:[Q.sg,Q.O5,st.gM,Zt.l,Tt.n,ve,Xe,Pe,ot.JV],encapsulation:2}),C})()},9345:(Ye,Bt,f)=>{f.d(Bt,{u:()=>lt});var et=f(56223),l=f(72164),o=f(76359),r=f(47180),m=f(65879),t=f(75470),Q=f(90592),st=f(96814),Zt=f(19347);function Tt(L,M){1&L&&(m.TgZ(0,"div",12)(1,"span",13),m._UZ(2,"azt-loading-ui"),m.qZA()())}function bt(L,M){1&L&&(m.TgZ(0,"div",35)(1,"div",36),m._uU(2),m.ALo(3,"mytranslate"),m.qZA()()),2&L&&(m.xp6(2),m.hij(" ",m.lcZ(3,1,"lang_testbank_test_config_you_not_yet_class")," "))}function rt(L,M){1&L&&(m.TgZ(0,"div",37),m._uU(1),m.ALo(2,"mytranslate"),m.qZA()),2&L&&(m.xp6(1),m.hij(" ",m.lcZ(2,1,"lang_student_classroom_list_utils_create_class_new_course_choose_class_click_choose"),". "))}function W(L,M){if(1&L){const j=m.EpF();m.TgZ(0,"input",50),m.NdJ("keyup",function(){m.CHM(j);const tt=m.oxw().index,ot=m.oxw(2);return m.KtG(ot.validateInput(tt))}),m.ALo(1,"mytranslate"),m.qZA()}if(2&L){const j=m.oxw(),tt=j.$implicit;m.MGl("id","input-event-",j.index,""),m.s9C("value",tt.nameClass),m.s9C("placeholder",m.lcZ(1,3,"lang_auto_nhap_ten_lop"))}}function dt(L,M){if(1&L){const j=m.EpF();m.TgZ(0,"textarea",51),m.NdJ("keyup",function(){m.CHM(j);const tt=m.oxw().index,ot=m.oxw(2);return m.KtG(ot.validateInput(tt))}),m.ALo(1,"mytranslate"),m.qZA()}if(2&L){const j=m.oxw(),tt=j.$implicit;m.MGl("id","input-event-",j.index,""),m.s9C("value",tt.nameClass),m.s9C("placeholder",m.lcZ(1,3,"lang_auto_nhap_ten_lop"))}}function it(L,M){if(1&L){const j=m.EpF();m.TgZ(0,"div",38)(1,"div",39)(2,"div",40),m.YNc(3,W,2,5,"input",41),m.YNc(4,dt,2,5,"textarea",42),m.qZA(),m.TgZ(5,"div",43)(6,"button",44),m.NdJ("click",function(){const ot=m.CHM(j).$implicit,ie=m.oxw(2);return m.KtG(ie.clearInput(ot.id))}),m.O4$(),m.TgZ(7,"svg",45),m._UZ(8,"line",46)(9,"line",47),m.qZA()()()(),m.kcU(),m.TgZ(10,"div",48,49),m._uU(12),m.ALo(13,"mytranslate"),m.qZA()()}if(2&L){const j=M.index,R=m.oxw(2);m.xp6(3),m.Q6J("ngIf",0==R.isMobile),m.xp6(1),m.Q6J("ngIf",1==R.isMobile),m.xp6(6),m.MGl("id","logerror",j,""),m.xp6(2),m.hij(" ",m.lcZ(13,4,"lang_student_classroom_list_utils_create_class_new_course_choose_class_dont_class_null"),". ")}}function ht(L,M){if(1&L){const j=m.EpF();m.TgZ(0,"form",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"h3",18),m._uU(5),m.ALo(6,"mytranslate"),m._UZ(7,"azt-list-classroom-count-checked",19),m.qZA(),m.TgZ(8,"div",20)(9,"div",21)(10,"azt-list-classroom-check-all",22),m.NdJ("changeCheckboxEvent",function(tt){m.CHM(j);const ot=m.oxw();return m.KtG(ot.changeCheckboxEvent(tt))}),m.qZA()(),m.TgZ(11,"div",23),m._UZ(12,"azt-is-show-check-classroom",24),m.qZA()()(),m.TgZ(13,"div",25)(14,"ng-scrollbar",26)(15,"azt-list-classroom-checkbox",27),m.NdJ("objsChange",function(tt){m.CHM(j);const ot=m.oxw();return m.KtG(ot.classroomObjs=tt)})("changeCheckboxEvent",function(tt){m.CHM(j);const ot=m.oxw();return m.KtG(ot.changeCheckboxEvent(tt))}),m.qZA()()(),m.YNc(16,bt,4,3,"div",28),m.qZA(),m.TgZ(17,"div",29)(18,"div",30),m._uU(19),m.ALo(20,"mytranslate"),m.qZA(),m.TgZ(21,"div",31),m.YNc(22,rt,3,3,"div",32),m.TgZ(23,"div",33),m.YNc(24,it,14,6,"div",34),m.qZA()()()()()}if(2&L){const j=m.oxw();m.Q6J("formGroup",j.form),m.xp6(5),m.hij(" ",m.lcZ(6,17,"lang_auto_danh_sach_cac_lop"),"\xa0 "),m.xp6(2),m.Q6J("formArray",j.form.controls.classroomIds),m.xp6(3),m.Q6J("formArray",j.form.controls.classroomIds)("objs",j.classroomObjs)("permissionName",j.permissionTypes.classroom),m.xp6(2),m.Q6J("form",j.form),m.xp6(2),m.Q6J("visibility","hover")("autoHeightDisabled",!1),m.xp6(1),m.Q6J("form",j.form)("formArrayName","classroomIds")("objs",j.classroomObjs)("permissionName",j.permissionTypes.classroom),m.xp6(1),m.Q6J("ngIf",null==j.form.controls.classroomIds.errors?null:j.form.controls.classroomIds.errors.classroomCheckBoxValidatorWithoutWhoAllow),m.xp6(3),m.hij(" ",m.lcZ(20,19,"lang_student_classroom_list_utils_create_class_new_course_choose_class_respective_class")," "),m.xp6(3),m.Q6J("ngIf",0==j.dataUpgradeClass.length),m.xp6(2),m.Q6J("ngForOf",j.dataUpgradeClass)}}function kt(L,M){1&L&&(m.TgZ(0,"span",52),m._UZ(1,"azt-loading-ui"),m.qZA())}let lt=(()=>{class L extends l.e{closeDialog(){this.dialogRef.close()}validateInput(j){let R=document.getElementById("input-event-"+j),tt=R?R.value:"";if(""==tt){let ot=document.getElementById("logerror"+j);ot&&(ot.style.display="block")}if(""!=tt){let ot=document.getElementById("logerror"+j);ot&&(ot.style.display="none")}}handleUpgrade(){if(0!=this.dataUpgradeClass.length){let j=!0;this.sendDataUpgradeClass=[];for(let R=0;R<this.dataUpgradeClass.length;R++){let tt=document.getElementById("input-event-"+R),ot=tt?tt.value:"";""==ot&&(j=!1),this.validateInput(R),this.sendDataUpgradeClass.push({oldId:this.dataUpgradeClass[R].id,newName:ot,year:this.increaseYear(this.dataUpgradeClass[R].year)})}1==j&&this.upgradeClassroomGroup()}else this.viewErrorSelected=!1}increaseYear(j){if(null!=j||null!=j){let R=j.split(" ")[0],tt=parseInt(R,10)+1;return tt+" - "+(tt+1)}}changeCheckboxEvent(j){const R=this.sAztClassroomCheckboxService.findClassroomWithNoPermission(this.classroomObjs,o.y.classroom),tt=this.sAztClassroomCheckboxService.getClassroomIdsChecked(this.classroomObjs,R,this.form.controls.classroomIds.value),ot=tt.concat(this.dataUpgradeClass.map(qt=>qt.id??0));let ie=ot.filter(qt=>ot.indexOf(qt)===ot.lastIndexOf(qt));tt.length>this.dataUpgradeClass.length?this.dataUpgradeClass=this.dataUpgradeClass.concat(this.classroomObjs.filter(qt=>ie.includes(qt.id??0)).map(qt=>{let ae,$t=qt.name,ve=qt.year,zt=$t?.match(/\d+/g);if(null==zt)ae=$t;else{let ue=parseInt(zt[0].toString(),10)+1;ae=$t?.replace(zt[0],ue.toString())}return{id:qt.id,nameClass:ae,year:ve}})):ie.forEach(qt=>{this.dataUpgradeClass.splice(this.dataUpgradeClass.findIndex($t=>$t.id===qt),1)})}clearInput(j){setTimeout(()=>{document.getElementById("azt-checkbox-item-"+j)?.click()},0)}upgradeClassroomGroup(){this.initStatusObj();for(var j=[],R=0;R<this.sendDataUpgradeClass.length;R++)j.push({oldId:this.sendDataUpgradeClass[R].oldId??0,newName:this.sendDataUpgradeClass[R].newName??"",year:this.sendDataUpgradeClass[R].year??""});this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpgradeClassroomPost(j).subscribe(tt=>{1==tt.success?(tt.data?.isDuplicatedClassroomName?this.errorStatusObj(tt.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0):this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(),this.errorStatusObj("lang_auto_tao_lop_cho_khoa_moi_khong_thanh_cong",!0))}))}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet().subscribe(j=>{if(j.success){var R=j?.data?.classroomData??[];for(let tt=0;tt<R.length;tt++)null!=R[tt].groupObj&&-1!=R[tt].groupObj?.id&&(this.classroomObjs=this.classroomObjs.concat(R[tt].classroomObjs??[])),null==R[tt].groupObj&&(this.classroomObjs=this.classroomObjs.concat(R[tt].classroomObjs??[]));this.classroomObjs=this.classroomObjs.filter(tt=>!tt.isShareClassroom),this.successStatusObj()}else this.errorStatusObj(j.message??"",!0)}))}ngOnInit(){super.ngOnInit(),this.getClassroomObjs(),super.ngOnInit()}constructor(j,R,tt,ot){super(void 0,ot),this.classroomGroupService=j,this.sAztClassroomCheckboxService=R,this.location=tt,this.dialogRef=ot,this.classroomObjs=[],this.dataUpgradeClass=[],this.sendDataUpgradeClass=[],this.selectedAll=!1,this.viewErrorSelected=!0,this.isMobile=this.commonService.isMobileOrTable(),this.permissionTypes=o.y,this.form=new et.cw({classroomIds:new et.Oe([]),whoAllow:new et.NI(0,{nonNullable:!0}),isShowCheckClass:new et.NI(!1,{nonNullable:!0})},{validators:[r.h.classroomCheckBoxValidatorWithoutWhoAllow]})}}return L.\u0275fac=function(j){return new(j||L)(m.Y36(t.c8),m.Y36(Q.f),m.Y36(st.Ye),m.Y36(Zt.so,8))},L.\u0275cmp=m.Xpm({type:L,selectors:[["app-create-class-new-course"]],features:[m.qOj],decls:21,vars:17,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"font-medium"],[1,"leading-relaxed","text-slate-500","text-xs","mt-1"],[3,"defaultHeight"],["class","flex items-center h-full",4,"ngIf","ngIfElse"],["doneLoading",""],[1,"p-3","text-right"],["azt-track-service","create-classroom-new-course-dialog-k_ZG3G-AAS",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","create-classroom-new-course-dialog-OvOUaKHkJOv",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"flex","items-center","h-full"],[1,"w-6","h-6","inline-block","mx-auto"],[3,"formGroup"],[1,"p-3","pt-0"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","pb-1","mt-2"],[1,"p-3","bg-slate-100","dark:bg-darkmode-400","flex","flex-col","sm:flex-row","sm:h-auto","sm:items-center"],[1,"mr-auto"],[3,"formArray"],[1,"flex","mt-2","sm:mt-0"],[1,"mr-3"],[3,"formArray","objs","permissionName","changeCheckboxEvent"],[1,"mr-0"],[3,"form"],[1,"classroom_list"],["pointerEventsMethod","scrollbar",3,"visibility","autoHeightDisabled"],[3,"form","formArrayName","objs","permissionName","objsChange","changeCheckboxEvent"],["class","w-full p-2",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["class","text-center m-3",4,"ngIf"],[1,"grid","grid-cols-12","gap-2","ml-2","mr-2","mb-2"],["class","col-span-12 md:col-span-6 2xl:col-span-4 p2",4,"ngFor","ngForOf"],[1,"w-full","p-2"],[1,"text-left","text-danger"],[1,"text-center","m-3"],[1,"col-span-12","md:col-span-6","2xl:col-span-4","p2"],[1,"flex","items-center","p-1","rounded"],[1,"col-span-10","m-0","p-2",2,"width","100%"],["class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],["class","text-area-form","rows","2","wrap","soft","class","form-control","type","text",3,"id","value","placeholder","keyup",4,"ngIf"],[1,"col-span-2","m-0","p-1","text-center"],["azt-track-service","create-classroom-new-course-dialog-NjCJ7r_T8U",1,"btn","btn-sm","btn-secondary","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"alert","alert-danger","mt-1",2,"margin","auto","padding","5px 10px","display","none",3,"id"],["ab",""],["type","text",1,"form-control",3,"id","value","placeholder","keyup"],["rows","2","wrap","soft","type","text",1,"form-control",3,"id","value","placeholder","keyup"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(j,R){if(1&j&&(m.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),m._uU(4),m.ALo(5,"mytranslate"),m.qZA(),m.TgZ(6,"div",4),m._uU(7),m.ALo(8,"mytranslate"),m.qZA()(),m.TgZ(9,"azt-mat-dialog-content",5),m.YNc(10,Tt,3,0,"div",6),m.YNc(11,ht,25,21,"ng-template",null,7,m.W1O),m.qZA()(),m.TgZ(13,"div",8)(14,"button",9),m.NdJ("click",function(){return R.closeDialog()}),m._uU(15),m.ALo(16,"mytranslate"),m.qZA(),m.TgZ(17,"button",10),m.NdJ("click",function(){return R.handleUpgrade()}),m.YNc(18,kt,2,0,"span",11),m._uU(19),m.ALo(20,"mytranslate"),m.qZA()()()),2&j){const tt=m.MAs(12);m.xp6(4),m.hij(" ",m.lcZ(5,9,"lang_student_classroom_list_create_class_new_cousre")," "),m.xp6(3),m.Oqu(m.lcZ(8,11,"lang_student_classroom_list_utils_create_class_new_course_conten_review")),m.xp6(2),m.Q6J("defaultHeight",55),m.xp6(1),m.Q6J("ngIf",R.statusObj.loading)("ngIfElse",tt),m.xp6(5),m.hij(" ",m.lcZ(16,13,"lang_button_cancel")," "),m.xp6(2),m.Q6J("disabled",R.form.invalid),m.xp6(1),m.Q6J("ngIf",R.statusObj.loading),m.xp6(1),m.hij(" ",m.lcZ(20,15,"lang_button_save")," ")}},encapsulation:2}),L})()},65567:(Ye,Bt,f)=>{f.d(Bt,{v:()=>Js});var et=f(21266),l=f(82481),o=f(71026),r=f(52572),m=f(47496),t=f(65879),Q=f(96814),st=f(98129),Zt=f(37722),Tt=f(28992),bt=f(8633),rt=f(63278),W=f(54),dt=f(43389),it=f(71646),ht=f(25368),kt=f(92596),lt=f(93523),L=f(36727);function M(a,g){1&a&&(t._UZ(0,"lucide-icon",11),t.ALo(1,"mytranslate")),2&a&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_published"))}function j(a,g){1&a&&(t._UZ(0,"lucide-icon",12),t.ALo(1,"mytranslate")),2&a&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_Unpublished"))}function R(a,g){if(1&a&&(t.TgZ(0,"div")(1,"div",8),t.YNc(2,M,2,3,"lucide-icon",9),t.YNc(3,j,2,3,"lucide-icon",10),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",1==e.document.homework.isPublished),t.xp6(1),t.Q6J("ngIf",1!=e.document.homework.isPublished)}}function tt(a,g){1&a&&(t._UZ(0,"lucide-icon",15),t.ALo(1,"mytranslate")),2&a&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_published"))}function ot(a,g){1&a&&(t._UZ(0,"lucide-icon",12),t.ALo(1,"mytranslate")),2&a&&t.s9C("matTooltip",t.lcZ(1,1,"lang_testbank_folder_and_file_Unpublished"))}function ie(a,g){if(1&a&&(t.TgZ(0,"div",13),t.YNc(1,tt,2,3,"lucide-icon",14),t.YNc(2,ot,2,3,"lucide-icon",10),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",1==(null==e.document.exam?null:e.document.exam.isPublished)),t.xp6(1),t.Q6J("ngIf",1!=(null==e.document.exam?null:e.document.exam.isPublished))}}function qt(a,g){if(1&a&&(t.TgZ(0,"div",16)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_luot_lam")+": "+e.document.exam.attended)}}function $t(a,g){if(1&a&&(t.TgZ(0,"div",16)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_da_nop")+": "+e.document.homework.count+"/"+e.document.homework.totalStudent)}}const ve=function(a){return{"mt-3":a}};let zt=(()=>{class a extends m.Q{}return a.\u0275fac=function(){let g;return function(c){return(g||(g=t.n5z(a)))(c||a)}}(),a.\u0275cmp=t.Xpm({type:a,selectors:[["exam-exercises-block"]],inputs:{document:"document",index:"index"},features:[t.qOj],decls:11,vars:11,consts:[[1,"flex","items-center","cursor-pointer","hover:bg-slate-100","rounded-md","p-2",2,"text-align","left","border","none","box-shadow","none",3,"ngClass"],[1,"flex-none","image-fit","rounded-md","overflow-hidden"],[4,"ngIf","ngIfElse"],["ExamIcon",""],[1,"ml-4","mr-auto","w-2/3"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","text-slate-500 text-xs mt-0.5 font-medium",4,"ngIf"],[1,"w-12","h-12","text-primary"],["name","file-text","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-text","matTooltipShowDelay","1000",3,"matTooltip"],["name","file","matTooltipShowDelay","1000",3,"matTooltip"],[1,"w-12","h-12","text-pending"],["name","file-check","matTooltipShowDelay","1000",3,"matTooltip",4,"ngIf"],["name","file-check","matTooltipShowDelay","1000",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5","font-medium"]],template:function(e,c){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,R,4,2,"div",2),t.YNc(3,ie,3,2,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(5,"div",4)(6,"div",5,6),t._uU(8),t.qZA(),t.YNc(9,qt,4,3,"div",7),t.YNc(10,$t,4,3,"div",7),t.qZA()()),2&e){const _=t.MAs(4),x=t.MAs(7);t.Q6J("ngClass",t.VKq(9,ve,0!==c.index)),t.xp6(2),t.Q6J("ngIf",c.document.homework)("ngIfElse",_),t.xp6(4),t.s9C("matTooltip",c.document.exam?c.document.exam.name:null==c.document.homework?null:c.document.homework.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",x.isDisabled),t.xp6(2),t.hij(" ",c.document.exam?c.document.exam.name:null==c.document.homework?null:c.document.homework.name," "),t.xp6(1),t.Q6J("ngIf",c.document.exam),t.xp6(1),t.Q6J("ngIf",c.document.homework)}},dependencies:[Q.mk,Q.O5,kt.gM,lt.Q,Zt.Nh5,L.JV],encapsulation:2}),a})();function ae(a,g){1&a&&t._UZ(0,"azt-loading-effect")}function ue(a,g){1&a&&(t.TgZ(0,"h2",16),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_list_of_assigned_assignments")))}function Be(a,g){1&a&&(t.TgZ(0,"h2",16),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_search_results")))}function He(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(2);return t.KtG(_.backToDocumentList())}),t.TgZ(1,"span",18),t._UZ(2,"lucide-icon",19),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&a&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_auto_quay_lai")))}function pe(a,g){1&a&&t._UZ(0,"azt-loading-effect")}const Wt=function(a){return[a]},ge=function(a){return{backto:a}};function Ge(a,g){if(1&a&&(t.TgZ(0,"a",34),t.ALo(1,"localize"),t._UZ(2,"exam-exercises-block",35),t.qZA()),2&a){const e=t.oxw(2),c=e.$implicit,_=e.index,x=t.oxw(6);t.Q6J("routerLink",t.lcZ(1,4,t.VKq(6,Wt,"/admin/testbank/homework-results-list/"+c.homework.classroomId+"/"+c.homework.id+"/"+c.homework.hashId)))("queryParams",t.VKq(8,ge,"/admin/student/classroom-details/"+x.classroomId+"/1")),t.xp6(2),t.Q6J("document",c)("index",_)}}function se(a,g){if(1&a&&(t.TgZ(0,"a",36),t.ALo(1,"localize"),t._UZ(2,"exam-exercises-block",35),t.qZA()),2&a){const e=t.oxw(2),c=e.$implicit,_=e.index,x=t.oxw(6);t.Q6J("routerLink",t.lcZ(1,4,t.VKq(6,Wt,"/bai-tap/"+c.homework.hashId)))("queryParams",t.VKq(8,ge,"/student/classroom-details/"+x.classroomId+"/1")),t.xp6(2),t.Q6J("document",c)("index",_)}}function Te(a,g){if(1&a&&(t.ynx(0),t.YNc(1,Ge,3,10,"a",32),t.YNc(2,se,3,10,"a",33),t.BQk()),2&a){const e=t.oxw(7);t.xp6(1),t.Q6J("ngIf",!e.isStudent),t.xp6(1),t.Q6J("ngIf",e.isStudent)}}function Re(a,g){if(1&a&&(t.TgZ(0,"a",39),t.ALo(1,"localize"),t._UZ(2,"exam-exercises-block",35),t.qZA()),2&a){const e=t.oxw(2),c=e.$implicit,_=e.index,x=t.oxw(6);let Z;t.Q6J("routerLink",t.lcZ(1,4,t.VKq(6,Wt,"/admin/testbank/exam-results-list/"+(null!==(Z=null==c.exam?null:c.exam.categoryId)&&void 0!==Z?Z:0)+"/"+(null==c.exam?null:c.exam.id)+"/0")))("queryParams",t.VKq(8,ge,"/admin/student/classroom-details/"+x.classroomId+"/1")),t.xp6(2),t.Q6J("document",c)("index",_)}}function Ie(a,g){if(1&a&&(t.TgZ(0,"a",40),t.ALo(1,"localize"),t._UZ(2,"exam-exercises-block",35),t.qZA()),2&a){const e=t.oxw(2),c=e.$implicit,_=e.index,x=t.oxw(6);t.Q6J("routerLink",t.lcZ(1,4,t.VKq(6,Wt,"/de-thi/"+(null==c.exam?null:c.exam.hashId))))("queryParams",t.VKq(8,ge,"/student/classroom-details/"+x.classroomId+"/1")),t.xp6(2),t.Q6J("document",c)("index",_)}}function Ve(a,g){if(1&a&&(t.YNc(0,Re,3,10,"a",37),t.YNc(1,Ie,3,10,"a",38)),2&a){const e=t.oxw(7);t.Q6J("ngIf",!e.isStudent),t.xp6(1),t.Q6J("ngIf",e.isStudent)}}function je(a,g){if(1&a&&(t.TgZ(0,"div",30),t.YNc(1,Te,3,2,"ng-container",0),t.YNc(2,Ve,2,2,"ng-template",null,31,t.W1O),t.qZA()),2&a){const e=g.$implicit,c=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.homework)("ngIfElse",c)}}function ee(a,g){if(1&a&&(t.TgZ(0,"div",28),t.YNc(1,je,4,2,"div",29),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.documentList)}}function $e(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div")(2,"button",23),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.KtG(x.isExpand=!x.isExpand)}),t.TgZ(3,"span",24),t._UZ(4,"lucide-icon",25),t.qZA(),t.TgZ(5,"span",26),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"getDayOfWeek"),t.ALo(9,"mytranslate"),t.ALo(10,"formatOnlyDateByUserUnitPipe"),t.qZA()()(),t.YNc(11,ee,2,1,"div",27),t.qZA()}if(2&a){const e=g.$implicit;t.xp6(4),t.s9C("name",e.isExpand?"chevron-down":"chevron-right"),t.xp6(2),t.Oqu(t.lcZ(7,3,t.lcZ(8,5,e.assignmentDate))+", "+t.lcZ(9,7,"lang_testbank_powerpoint_date")+" "+t.lcZ(10,9,e.assignmentDate)),t.xp6(5),t.Q6J("ngIf",e.isExpand)}}function Le(a,g){1&a&&(t.TgZ(0,"span",44),t._UZ(1,"azt-loading-ui"),t.qZA())}function rn(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",41)(1,"span",42),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(4);return t.KtG(!_.sAztNextPaginationService.isLoadingNextPage&&_.getNextPage())}),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,Le,2,0,"span",43),t.qZA()()}if(2&a){const e=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_business_document_get_more_documents")," "),t.xp6(2),t.Q6J("ngIf",e.sAztNextPaginationService.isLoadingNextPage)}}function We(a,g){if(1&a&&(t.ynx(0),t.YNc(1,$e,12,11,"div",21),t.YNc(2,rn,5,4,"div",22),t.BQk()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.listGroupDocumentObjs),t.xp6(1),t.Q6J("ngIf",e.sAztNextPaginationService.hasNextPage)}}function B(a,g){1&a&&(t.TgZ(0,"div",45)(1,"div",46),t.O4$(),t.TgZ(2,"svg",47),t._UZ(3,"path",48)(4,"path",49)(5,"path",50)(6,"path",51)(7,"path",52)(8,"path",53),t.qZA(),t.kcU(),t.TgZ(9,"p",54),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()),2&a&&(t.xp6(10),t.Oqu(t.lcZ(11,1,"lang_student_there_are_no_exercises_or_tests_yet")+"!"))}function ct(a,g){if(1&a&&(t.TgZ(0,"div",14),t.YNc(1,We,3,2,"ng-container",0),t.YNc(2,B,12,3,"ng-template",null,20,t.W1O),t.qZA()),2&a){const e=t.MAs(3),c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",c.listGroupDocumentObjs.length>0)("ngIfElse",e)}}function A(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"azt-search-box",6),t.NdJ("onSearch",function(_){t.CHM(e);const x=t.oxw();return t.KtG(x.searchDocumentObjs(_.searchObj))}),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",7)(7,"button",8),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.openEditor())}),t.TgZ(8,"span",9),t._UZ(9,"lucide-icon",10),t.qZA(),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()(),t.TgZ(12,"div",11),t.YNc(13,ue,3,3,"h2",12),t.YNc(14,Be,3,3,"h2",12),t.YNc(15,He,6,3,"button",13),t.qZA(),t.TgZ(16,"div",14),t.YNc(17,pe,1,0,"azt-loading-effect",0),t.qZA(),t.YNc(18,ct,4,2,"ng-template",null,15,t.W1O),t.qZA()}if(2&a){const e=t.MAs(19),c=t.oxw();t.xp6(4),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(5,9,"lang_auto_tim_kiem"))("searchContentObj",c.searchContentObj),t.xp6(6),t.hij(" ",t.lcZ(11,11,"lang_student_new_assignment")," "),t.xp6(3),t.Q6J("ngIf",!c.isShowSearchResult),t.xp6(1),t.Q6J("ngIf",c.isShowSearchResult),t.xp6(1),t.Q6J("ngIf",c.isShowSearchResult),t.xp6(2),t.Q6J("ngIf",c.searchContentObj.isLoading)("ngIfElse",e)}}let $=(()=>{class a extends m.Q{openEditor(){let e=this.commonService.getCurrentUrlWithoutLocale();this.myNavigationWithQueryString("/admin/testbank/create-new-document/0",`?backto=${encodeURIComponent(e)}&classroomId=${this.classroomId}`)}backToDocumentList(){this.isShowSearchResult=!1,this.searchContentObj.searchContent="",this.getData(!1)}resetData(){this.listDocumentObjs=[]}getNextPage(){this.sAztNextPaginationService.setNextPage(),this.getData(!0)}searchDocumentObjs(e){this.searchContentObj=e,this.searchContentObj.setLoading(!0),this.resetData(),this.getData(!1)}getData(e){e?this.sAztNextPaginationService.setLoading(!0):this.searchContentObj.searchContent||this.initStatusObj();let c={categoryId:void 0,documentType:"file",shareType:void 0,fileType:void 0,classroomId:this.classroomId,name:this.searchContentObj.searchContent?this.searchContentObj.searchContent:void 0,suggestExamPurpose:void 0,lite:void 0,getGlobal:0,page:this.sAztNextPaginationService.curPage,itemPerPage:this.sAztNextPaginationService.itemPerPage};this.isShowSearchResult=!!this.searchContentObj.searchContent,this.waitDestroy(this.documentService.apiDocumentsGet(c.categoryId,c.documentType,c.shareType,c.fileType,c.classroomId,c.name,c.suggestExamPurpose,c.lite,c.getGlobal,c.page,c.itemPerPage).subscribe(_=>{_.success?(this.listDocumentObjs=this.listDocumentObjs.concat(_.data?.documentObjs??[]),this.sAztNextPaginationService.setLoading(!1),this.sAztNextPaginationService.setTotalRecord(_.data?.total??0),this.processData(this.listDocumentObjs),this.searchContentObj.setLoading(!1),this.stopStatusObj()):(this.searchContentObj.setLoading(!1),this.errorStatusObj(_.message,!0))}))}processData(e){let c=this.commonService.arrayToDictionary(e,x=>x.exam?new Date(x.exam.createdAt??0).toDateString():new Date(x?.homework?.createdAt??0).toDateString()),_=[];Object.entries(c).forEach(([x,Z],P)=>{if(Z.length>0){let K=Z[0];_.push({isExpand:!0,assignmentDate:K.exam?K.exam.createdAt:K.homework?.createdAt,documentList:Z})}}),this.listGroupDocumentObjs=_}ngOnInit(){super.ngOnInit(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.getData(!1)}constructor(e,c,_){super(),this.documentService=e,this.activeRoute=c,this.sAztNextPaginationService=_,this.classroomId=0,this.listGroupDocumentObjs=[],this.listDocumentObjs=[],this.isShowSearchResult=!1,this.searchContentObj=new rt.h}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(W.Zg),t.Y36(et.gz),t.Y36(bt.S))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-exam-exercises"]],inputs:{isStudent:"isStudent"},features:[t._Bn([bt.S]),t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto","mt-3","sm:mt-0"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","exam-exercises-jkv8YmKddH",1,"btn","btn-primary","text-white","shadow-md",3,"click"],[1,"w-4","h-4","mr-2"],["name","plus"],[1,"col-span-12","flex","items-center"],["class","text-lg font-medium mr-5",4,"ngIf"],["azt-track-service","exam-exercises-TXjuRofaLz","class","btn-text-primary font-medium ml-auto",3,"click",4,"ngIf"],[1,"col-span-12"],["doneLoadingSearch",""],[1,"text-lg","font-medium","mr-5"],["azt-track-service","exam-exercises-TXjuRofaLz",1,"btn-text-primary","font-medium","ml-auto",3,"click"],[1,"w-4","h-4","inline-block","mr-1"],["name","chevron-left"],["emptyList",""],[4,"ngFor","ngForOf"],["class","mt-2 font-medium",4,"ngIf"],["azt-track-service","exam-exercises-gYn61cneD",1,"flex","items-center","py-3","pr-3","hover:text-primary",3,"click"],[1,"w-6","h-6","inline-block"],[3,"name"],[1,"font-medium","ml-3"],["class","box p-3",4,"ngIf"],[1,"box","p-3"],["class","document",4,"ngFor","ngForOf"],[1,"document"],["isExamDocument",""],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-RW_Kk0dv1I",3,"routerLink","queryParams"],[3,"document","index"],["azt-track-service","exam-exercises-C5F8CswVo",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams",4,"ngIf"],["azt-track-service","exam-exercises-GvBDmDr7g5",3,"routerLink","queryParams"],["azt-track-service","exam-exercises-FtuMVzCPTA",3,"routerLink","queryParams"],[1,"mt-2","font-medium"],["azt-track-service","exam-exercises-4meI3XYSV",1,"clickable",3,"click"],["class","w-4 h-4 inline-block ml-2",4,"ngIf"],[1,"w-4","h-4","inline-block","ml-2"],[1,"box","p-3","flex","items-center",2,"min-height","216px"],[1,"text-center","mx-auto"],["width","87","height","102","viewBox","0 0 87 102","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M66.6719 13.9999L75.9738 81.8427L76.8095 88.649C77.0787 90.8417 75.5194 92.8374 73.3268 93.1066L14.7665 100.297C12.5739 100.566 10.5781 99.0069 10.3089 96.8142L1.29312 23.3867C1.1585 22.2904 1.93813 21.2925 3.03447 21.1579C3.0414 21.157 3.04832 21.1562 3.05526 21.1554L7.91363 20.6104M11.8422 20.1698L16.4292 19.6552L11.8422 20.1698Z","fill","white"],["d","M67.9103 13.8302C67.8165 13.1462 67.186 12.6678 66.5021 12.7615C65.8181 12.8553 65.3397 13.4858 65.4335 14.1697L67.9103 13.8302ZM75.9738 81.8427L77.2144 81.6903C77.2137 81.6845 77.213 81.6787 77.2122 81.6729L75.9738 81.8427ZM76.8095 88.649L78.0502 88.4967L76.8095 88.649ZM73.3268 93.1066L73.4791 94.3473L73.3268 93.1066ZM14.7665 100.297L14.9189 101.538L14.7665 100.297ZM10.3089 96.8142L11.5496 96.6619L10.3089 96.8142ZM3.05526 21.1554L3.1946 22.3976L3.05526 21.1554ZM8.05297 21.8527C8.73902 21.7757 9.23279 21.1572 9.15583 20.4711C9.07888 19.7851 8.46034 19.2913 7.77428 19.3682L8.05297 21.8527ZM11.7028 18.9276C11.0168 19.0045 10.523 19.6231 10.5999 20.3091C10.6769 20.9952 11.2954 21.4889 11.9815 21.412L11.7028 18.9276ZM16.5685 20.8974C17.2546 20.8205 17.7484 20.2019 17.6714 19.5159C17.5945 18.8298 16.9759 18.3361 16.2899 18.413L16.5685 20.8974ZM65.4335 14.1697L74.7353 82.0125L77.2122 81.6729L67.9103 13.8302L65.4335 14.1697ZM74.7331 81.995L75.5688 88.8013L78.0502 88.4967L77.2144 81.6903L74.7331 81.995ZM75.5688 88.8013C75.7539 90.3088 74.6819 91.6809 73.1744 91.866L73.4791 94.3473C76.357 93.994 78.4035 91.3745 78.0502 88.4967L75.5688 88.8013ZM73.1744 91.866L14.6142 99.0563L14.9189 101.538L73.4791 94.3473L73.1744 91.866ZM14.6142 99.0563C13.1067 99.2414 11.7347 98.1694 11.5496 96.6619L9.0682 96.9666C9.42156 99.8445 12.041 101.891 14.9189 101.538L14.6142 99.0563ZM11.5496 96.6619L2.5338 23.2344L0.0524334 23.539L9.0682 96.9666L11.5496 96.6619ZM2.5338 23.2344C2.48332 22.8232 2.77568 22.449 3.18681 22.3986L2.88213 19.9172C1.10059 20.1359 -0.166313 21.7575 0.0524334 23.539L2.5338 23.2344ZM3.18681 22.3986C3.1894 22.3982 3.192 22.3979 3.1946 22.3976L2.91592 19.9132C2.90465 19.9145 2.89339 19.9158 2.88213 19.9172L3.18681 22.3986ZM3.1946 22.3976L8.05297 21.8527L7.77428 19.3682L2.91592 19.9132L3.1946 22.3976ZM11.9815 21.412L16.5685 20.8974L16.2899 18.413L11.7028 18.9276L11.9815 21.412Z","fill","#1F64E7"],["fill-rule","evenodd","clip-rule","evenodd","d","M64.14 18.2692L72.5596 79.7529L73.3169 85.9212C73.5609 87.9083 72.1669 89.7146 70.2033 89.9557L17.7613 96.3948C15.7978 96.6359 14.0082 95.2204 13.7642 93.2333L5.61416 26.8568C5.47955 25.7605 6.25918 24.7626 7.35551 24.628L13.8431 23.8314","fill","#E8F0FE"],["d","M20.9219 4C20.9219 2.48122 22.1531 1.25 23.6719 1.25H69.2286C69.9577 1.25 70.6569 1.5395 71.1726 2.05485L84.6158 15.4898C85.1319 16.0056 85.4219 16.7053 85.4219 17.4349V80C85.4219 81.5188 84.1907 82.75 82.6719 82.75H23.6719C22.1531 82.75 20.9219 81.5188 20.9219 80V4Z","fill","white","stroke","#1F64E7","stroke-width","2.5"],["d","M69.6719 2.40283V14C69.6719 15.6569 71.015 17 72.6719 17H80.6055","stroke","#1F64E7","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M31 17H57M31 29H74M31 42H74M31 55H74M31 68H57","stroke","#75A4FE","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"font-medium","mt-5"]],template:function(e,c){if(1&e&&(t.YNc(0,ae,1,0,"azt-loading-effect",0),t.YNc(1,A,20,13,"ng-template",null,1,t.W1O)),2&e){const _=t.MAs(2);t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",_)}},dependencies:[et.rH,Q.sg,Q.O5,dt.l,it.n,ht.W,Zt.Nh5,zt,L.JV,L.YK,L.WN,l.lO],encapsulation:2}),a})();var G=f(93733),pt=f(3418),At=f(86825),D=f(56223),ne=f(65592),Ft=f(89156),Ce=f(97694),Lt=f(29023),De=f(23680),St=f(19347),re=f(64170),he=f(44683),hn=f(13217),le=f(72164),Ee=f(84003),wt=f(33328),Ke=f(91765),Dt=f(20553),Xe=f(97151),Gt=f(4021),ke=f(32296),ce=f(2032),Pe=f(74104),tn=f(76024),fn=f(27118),Ue=f(67679),_e=f(78497),en=f(28079);const ln=["fileSelect"];function xn(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",21),t.NdJ("click",function(_){t.CHM(e);const x=t.MAs(3),Z=t.oxw(2);return t.KtG(Z.isMobileWebView?_.preventDefault:x.click())})("filesChangeEmitter",function(_){t.CHM(e);const x=t.oxw(2);return t.KtG(x.onFileSelected(_))}),t.TgZ(1,"div",22)(2,"input",23,24),t.NdJ("change",function(_){t.CHM(e);const x=t.oxw(2);return t.KtG(x.onFileSelected(_.target.files))}),t.qZA(),t.TgZ(4,"div",25)(5,"span",26),t._UZ(6,"lucide-icon",27),t.qZA(),t.TgZ(7,"span",28),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()}2&a&&(t.xp6(8),t.hij(" ",t.lcZ(9,2,"lang_auto_keo_tha_file_excel")," "),t.xp6(2),t.hij(" ",t.lcZ(11,4,"lang_auto_hoc_click_de_chon_file")," "))}function Nt(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",29)(1,"div",30)(2,"div",31)(3,"div",32)(4,"div",33)(5,"div",34),t._UZ(6,"img",35),t.ALo(7,"convertCdnLinkOfGitHub"),t.qZA(),t.TgZ(8,"div",36)(9,"p",37,38),t._uU(11),t.qZA(),t.TgZ(12,"div",39),t._uU(13),t.qZA()(),t.TgZ(14,"div",40)(15,"button",41),t.NdJ("click",function(_){t.CHM(e);const x=t.oxw(2);return t.KtG(x.removeFile(_))}),t.ALo(16,"mytranslate"),t.TgZ(17,"span",42),t._UZ(18,"lucide-icon",43),t.qZA()()()()()()()()}if(2&a){const e=t.MAs(10),c=t.oxw(2);t.xp6(6),t.Q6J("src",t.lcZ(7,7,"images/excel.png"),t.LSH),t.xp6(3),t.s9C("matTooltip",null==c.file?null:c.file.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",e.isDisabled),t.xp6(2),t.hij(" ",c.file?c.file.name:""," "),t.xp6(2),t.hij(" ",c.fileMb+"mb"," "),t.xp6(2),t.s9C("matTooltip",t.lcZ(16,9,"lang_auto_xoa"))}}function Kt(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"a",44),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(2);return t.KtG(_.exportDefaultListStudent())}),t.TgZ(1,"span",45),t._UZ(2,"lucide-icon",46),t.qZA(),t.TgZ(3,"span",47),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&a&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_student_utils_download_file")," "))}function bn(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"a",44),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(2);return t.KtG(_.exportListStudent())}),t.TgZ(1,"span",45),t._UZ(2,"lucide-icon",46),t.qZA(),t.TgZ(3,"span",47),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&a&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_student_utils_export_list_student")," "))}function vn(a,g){if(1&a&&(t.TgZ(0,"div",15)(1,"div",16),t.YNc(2,xn,12,6,"div",17),t.YNc(3,Nt,19,11,"ng-template",null,18,t.W1O),t.TgZ(5,"div",19),t.YNc(6,Kt,6,3,"a",20),t.YNc(7,bn,6,3,"a",20),t.qZA()()()),2&a){const e=t.MAs(4),c=t.oxw();t.xp6(2),t.Q6J("ngIf",!c.file)("ngIfElse",e),t.xp6(4),t.Q6J("ngIf",0==(null==c.studentObjs?null:c.studentObjs.length)||c.isBusinessDomain),t.xp6(1),t.Q6J("ngIf",0!=(null==c.studentObjs?null:c.studentObjs.length)&&!c.isBusinessDomain)}}function C(a,g){1&a&&(t.TgZ(0,"div",75)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_student_utils_reques_enter_name_student"),"!"))}function q(a,g){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_lon_hon_0")," "))}function b(a,g){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_khong_qua_6_chu_so")," "))}function k(a,g){if(1&a&&(t.TgZ(0,"div",75),t.YNc(1,q,3,3,"span",9),t.YNc(2,b,3,3,"span",9),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.form.controls.identificationNumber.errors.min),t.xp6(1),t.Q6J("ngIf",e.form.controls.identificationNumber.errors.maxlength||e.form.controls.identificationNumber.errors.pattern)}}function N(a,g){1&a&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_utils_reques_enter_phone"),"."))}function nt(a,g){1&a&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_utils_reques_phone_ten_number"),"."))}function ft(a,g){if(1&a&&(t.TgZ(0,"div",76),t.YNc(1,N,3,3,"div",9),t.YNc(2,nt,3,3,"div",9),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.getErrorType("phone","required")),t.xp6(1),t.Q6J("ngIf",e.getErrorType("phone","minlength")||e.getErrorType("phone","maxlength"))}}function we(a,g){1&a&&(t.TgZ(0,"div",76)(1,"div"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_vui_long_nhap_dung_dinh_dang_email")))}function Ht(a,g){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")))}function Xn(a,g){if(1&a&&(t.TgZ(0,"div",83),t.YNc(1,Ht,3,3,"span",9),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.form.controls.password.errors.minlength)}}function Ln(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",77)(1,"div",78),t._UZ(2,"input",79),t.ALo(3,"mytranslate"),t.TgZ(4,"button",80),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(2);return t.KtG(_.togglePassword())}),t.TgZ(5,"span",42),t._UZ(6,"lucide-icon",81),t.qZA()()(),t.YNc(7,Xn,2,1,"div",82),t.qZA()}if(2&a){const e=t.oxw(2);t.xp6(2),t.s9C("placeholder",t.lcZ(3,4,"lang_auto_mat_khau")),t.Q6J("type",e.showPassword?"text":"password"),t.xp6(4),t.s9C("name",e.showPassword?"eye":"eye-off"),t.xp6(1),t.Q6J("ngIf",e.form.controls.password.errors&&(e.form.controls.password.dirty||e.form.controls.password.touched))}}function to(a,g){if(1&a&&(t.TgZ(0,"div",75)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,1,e.msgError),"!")}}function Ct(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",15)(2,"div",48)(3,"div",49),t._UZ(4,"input",50),t.ALo(5,"mytranslate"),t.qZA(),t.YNc(6,C,4,3,"div",51),t.qZA()(),t.TgZ(7,"div",15)(8,"div",48)(9,"div",52),t._UZ(10,"input",53),t.ALo(11,"mytranslate"),t.qZA(),t.YNc(12,k,3,2,"div",51),t.qZA()(),t.TgZ(13,"div",15)(14,"div",48)(15,"div",52),t._UZ(16,"input",54),t.ALo(17,"mytranslate"),t.qZA(),t.YNc(18,ft,3,2,"div",55),t.qZA()(),t.TgZ(19,"div",15)(20,"div",48)(21,"div",52),t._UZ(22,"input",56),t.ALo(23,"mytranslate"),t.qZA(),t.YNc(24,we,4,3,"div",55),t.qZA()(),t.TgZ(25,"div",15)(26,"div",57)(27,"mat-form-field",58)(28,"input",59),t.NdJ("click",function(){t.CHM(e);const _=t.MAs(34);return t.KtG(_.open())}),t.ALo(29,"mytranslate"),t.qZA(),t.TgZ(30,"button",60),t.NdJ("click",function(_){return t.CHM(e),t.MAs(34).open(),t.KtG(_.stopPropagation())}),t.TgZ(31,"span",42),t._UZ(32,"lucide-icon",61),t.qZA()(),t.TgZ(33,"ngx-mat-datetime-picker",62,63)(35,"ngx-mat-datepicker-actions")(36,"button",64),t._uU(37,"OK"),t.qZA()()()()()(),t.TgZ(38,"div",15)(39,"div",65)(40,"div",66)(41,"label",67),t._uU(42),t.ALo(43,"mytranslate"),t.qZA(),t.TgZ(44,"div",25)(45,"div",68),t._UZ(46,"input",69),t.TgZ(47,"label",70),t._uU(48),t.ALo(49,"mytranslate"),t.qZA()(),t.TgZ(50,"div",71),t._UZ(51,"input",72),t.TgZ(52,"label",73),t._uU(53),t.ALo(54,"mytranslate"),t.qZA()()()()()(),t.YNc(55,Ln,8,6,"div",74),t.ALo(56,"async"),t.ALo(57,"allowFeatureBusinessForUser"),t.YNc(58,to,4,3,"div",51),t.qZA()}if(2&a){const e=t.MAs(34),c=t.oxw();t.xp6(4),t.s9C("placeholder",t.lcZ(5,18,"lang_first_and_last_name")),t.xp6(2),t.Q6J("ngIf",c.form.controls.fullName.errors&&(c.form.controls.fullName.dirty||c.form.controls.fullName.touched)),t.xp6(4),t.s9C("placeholder",t.lcZ(11,20,"lang_auto_so_bao_danh")),t.xp6(2),t.Q6J("ngIf",c.form.controls.identificationNumber.errors&&(c.form.controls.identificationNumber.dirty||c.form.controls.identificationNumber.touched)),t.xp6(4),t.s9C("placeholder",t.lcZ(17,22,"lang_number_phone")),t.xp6(2),t.Q6J("ngIf",c.form.controls.phone.invalid&&c.form.controls.phone.dirty),t.xp6(4),t.s9C("placeholder",t.lcZ(23,24,"lang_auto_email_input")),t.xp6(2),t.Q6J("ngIf",c.form.controls.email.dirty&&c.form.controls.email.errors),t.xp6(4),t.s9C("placeholder",t.lcZ(29,26,"lang_auto_ngay_sinh")),t.Q6J("max",c.maxDate)("ngxMatDatetimePicker",e),t.xp6(5),t.Q6J("touchUi",!0)("hideTime",!0),t.xp6(9),t.hij(" ",t.lcZ(43,28,"lang_auto_gioi_tinh")," "),t.xp6(6),t.hij(" ",t.lcZ(49,30,"lang_auto_nam")," "),t.xp6(5),t.hij(" ",t.lcZ(54,32,"lang_auto_nu")," "),t.xp6(2),t.Q6J("ngIf",t.lcZ(56,34,t.Dn7(57,36,"","training_center_create_teacher_account",!1))),t.xp6(3),t.Q6J("ngIf",""!==c.msgError)}}function Vt(a,g){1&a&&(t.TgZ(0,"span",84),t._UZ(1,"azt-loading-ui"),t.qZA())}function fe(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"azt-export-excel-for-student-list",85),t.NdJ("exportDataDone",function(_){t.CHM(e);const x=t.oxw();return t.KtG(x.exportStudentListDone(_))}),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("objs",e.exportStudentObjs)}}let Tn=(()=>{class a extends le.e{exportDefaultListStudent(){this.exportStudentObjs=[{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_1"),phone:"0123456789",email:"nguyenvana@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:1,birthday:new Date(2001,1,23),gender:1,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_2"),phone:"0123456790",email:"phamthib@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:2,birthday:new Date(2001,5,25),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_3"),phone:"0123456791",email:"C@Gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:3,birthday:new Date(2002,5,25),gender:1,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_4"),phone:"0112348478",email:"tranthid@gmail.com",password:this.isBusinessDomain?"aBc@123":"",identificationNumber:4,birthday:new Date(2002,2,23),gender:0,classroomId:0,parentId:0},{id:0,fullName:this.commonService.myTranslateInstant("lang_student_export_student_list_default_first_name_5"),phone:"0123456793",email:void 0,password:this.isBusinessDomain?"aBc@123":"",identificationNumber:void 0,birthday:void 0,gender:0,classroomId:0,parentId:0}]}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.studentObjs)}exportStudentListDone(e){let c=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(e,c)}changeNameDownloadFile(e){return this.commonService.createFileNameExportFile([e])+".xlsx"}getErrorType(e,c){return!(!this.form.controls[e]||!this.form.controls[e].errors||!this.form.controls[e].errors?.[c])}onFileSelected(e){this.file=e?e[0]:this.file,this.fileMb=this.getFileMB(this.file?.size??0),this.file&&["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(this.file.type)||(this.file=null,this.showErrorSnack("lang_auto_vui_long_chon_dung_tep_tin_excel"))}getFileMB(e){return e&&e>0?(e/=1048576).toFixed(2):0}removeFile(e){e.stopPropagation(),this.fileSelect&&(this.fileSelect.nativeElement.value=null),this.file=null}showImportExcel(e){this.importExcel=e}confirmAction(){let e=this.form.getRawValue();if(this.initStatusObj(),this.importExcel)this.file&&(1==this.selected.value?this.waitDestroy(this.studentService.apiStudentSaveStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(c=>{1==c.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_student_utils_add_success")):(this.btnCloseDialog(!1),this.errorStatusObj(c.message??"",!0))})):2==this.selected.value&&this.waitDestroy(this.studentService.apiStudentUpdateStudentWithExcelPostForm(this.classroomObj.id,this.file).subscribe(c=>{1==c.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.btnCloseDialog(!1),this.errorStatusObj(c.message??"",!0))})));else if(this.form.valid){let c={fullName:e.fullName,phone:e.phone,identificationNumber:e.identificationNumber?Number(e.identificationNumber):void 0,email:e.email,gender:Number(e.gender),birthday:e.birthDay?this.timeService.formatOnlyDateToPostToServer(e.birthDay):void 0,classroomId:this.classroomObj.id??0,password:e.password};this.waitDestroy(this.studentService.apiStudentSaveObjPost(c).subscribe(_=>{1==_.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_utils_update_folder_success")):(this.stopStatusObj(),this.msgError=_.message??"")}))}}btnCloseDialog(e){this.dialogRef.close(e)}selectedIndexChange(e){if(this.selected.setValue(e),this.showImportExcel(0!=e),this.file){let c=document.getElementById("button-remove-export");c&&c.click()}}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){super.ngOnInit()}constructor(e,c,_,x,Z){super(Z,x),this.shareFileFlutterService=e,this.studentService=c,this.timeService=_,this.dialogRef=x,this.data=Z,this.selected=new D.NI(0,{nonNullable:!0}),this.importExcel=!1,this.birthDay="",this.msgError="",this.maxDate=Dt.N.maxDateTimePicker,this.showPassword=!1,this.fileMb=0,this.file=null,this.studentObjs=Z.studentObjs,this.classroomObj=Z.classroomObj,this.form=new D.cw({phone:new D.NI("",{nonNullable:!0,validators:[D.kI.pattern("^[0-9]*$"),D.kI.minLength(10),D.kI.maxLength(10)]}),fullName:new D.NI("",{nonNullable:!0,validators:[D.kI.required,Ke._.noWhiteSpace]}),identificationNumber:new D.NI("",{nonNullable:!0,validators:[D.kI.min(1),D.kI.maxLength(6),D.kI.pattern("^[0-9]*$")]}),birthDay:new D.NI("",{nonNullable:!0}),email:new D.NI("",{nonNullable:!0,validators:[wt.z.isInvalidEmail]}),gender:new D.NI("1",{nonNullable:!0}),file:new D.NI("",{nonNullable:!0}),password:new D.NI("",{nonNullable:!0})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Xe.g),t.Y36(Gt.VT),t.Y36(Ee.D),t.Y36(St.so,8),t.Y36(St.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-add-student"]],viewQuery:function(e,c){if(1&e&&t.Gf(ln,5),2&e){let _;t.iGM(_=t.CRH())&&(c.fileSelect=_.first)}},features:[t._Bn([{provide:Lt.fM,useClass:he.WG,deps:[De.Ad,he.o8]},{provide:Lt.ab,useFactory:hn.fX,deps:[Ee.D]},{provide:re.o2,useValue:{floatLabel:"never"}}]),t.qOj],decls:32,vars:31,consts:[[1,"box","scroll-menu-test"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[3,"selectedIndex","selectedIndexChange"],[3,"label"],[1,"p-3",2,"min-height","69px"],[1,"p-3",2,"min-height","80px"],[3,"formGroup"],["class","form-group",4,"ngIf"],[4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","add_student-g5-sbau_Ya",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","add_student-I6Q3FiuU2e",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[3,"objs","exportDataDone",4,"ngIf"],[1,"form-group"],[1,"intro","mt-4"],["class","w-full mt-3 xl:mt-0 flex-1 border-2 border-dashed dark:border-darkmode-400 rounded-md","appDragDrop","","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",3,"click","filesChangeEmitter",4,"ngIf","ngIfElse"],["exitsFile",""],[1,"mt-2","text-center"],["azt-track-service","add_teacher-pukPV3tL4","class","btn text-primary btn-transparent","target","_self",3,"click",4,"ngIf"],["appDragDrop","","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md",3,"click","filesChangeEmitter"],[1,"px-4","pb-8","mt-8","flex","items-center","justify-center","text-center","cursor-pointer","relative"],["id","horizontal-form-1","type","file",1,"top-0","left-0","absolute","opacity-0",2,"width","1px",3,"change"],["fileSelect",""],[1,"flex","items-center"],[1,"w-5","h-5","mr-2","text-success","inline-block"],["name","file-spreadsheet"],[1,"text-primary","mr-1"],[1,"attack-file","mt-5"],[1,"grid","grid-cols-12","gap-3","mt-3"],[1,"col-span-12"],[1,"border","flex","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3"],[1,"flex","w-full","items-center"],[1,"w-12","h-12","image-fit","lg:mr-1","flex-none"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"ml-2","mt-0",2,"width","calc(100% - 100px)"],[1,"font-medium","truncate",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],[1,"text-slate-500","text-xs"],[1,"ml-auto","mt-0","flex-none"],["azt-track-service","azt-automatic-identification-nCXCf-x_kx",1,"btn","btn-outline-danger","btn-transparent",3,"matTooltip","click"],[1,"w-4","h-4","inline-block"],["name","trash-2"],["azt-track-service","add_teacher-pukPV3tL4","target","_self",1,"btn","text-primary","btn-transparent",3,"click"],[1,"w-5","h-5","mr-2","inline-block"],["name","download-cloud"],[1,"text-primary"],[1,"col-sm-12"],[1,"input-group"],["type","text","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],[1,"input-group","mt-3"],["type","text","appOnlyNumber","","formControlName","identificationNumber",1,"form-control",3,"placeholder"],["type","text","formControlName","phone",1,"form-control",3,"placeholder"],["class","alert alert-danger p-2 mb-2 text-xs font-medium",4,"ngIf"],["type","text","autocapitalize","none","formControlName","email",1,"form-control",3,"placeholder"],[1,"col-sm-12","studentBirthDay","mt-3"],[1,"azt-time-picker"],["azt-track-service","add_student-OL_xz2BQlY","matInput","","id","azt-asc-time-picker","formControlName","birthDay","readonly","",1,"form-birthday","bg-white",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","add_student-6m5M85CG5t","matSuffix","",3,"click"],["name","calendar-days"],[3,"touchUi","hideTime"],["birthDay",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],[1,"col-sm-12","mt-3"],[1,"flex","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md",2,"justify-content","space-between"],[1,"form-label",2,"margin-bottom","0"],[1,"form-check","mr-5"],["id","azt-acs-gender-male","formControlName","gender","type","radio","value","1",1,"form-check-input"],["for","azt-acs-gender-male",1,"form-check-label"],[1,"form-check","mr-2"],["id","azt-acs-gender-female","type","radio","formControlName","gender","value","0",1,"form-check-input"],["for","azt-acs-gender-female",1,"form-check-label"],["class","azt-form-group mt-3",4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"alert","alert-danger","p-2","mb-2","text-xs","font-medium"],[1,"azt-form-group","mt-3"],[1,"relative"],["formControlName","password","autocapitalize","none",1,"form-control","px-4","block",3,"type","placeholder"],["type","button",1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[3,"name"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"text-danger","text-xs","mt-2","font-medium"],[1,"w-4","h-4","inline-block","mr-2"],[3,"objs","exportDataDone"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"mat-tab-group",3),t.NdJ("selectedIndexChange",function(x){return c.selectedIndexChange(x)}),t.TgZ(5,"mat-tab",4),t.ALo(6,"mytranslate"),t.TgZ(7,"div",5),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()(),t.TgZ(10,"mat-tab",4),t.ALo(11,"mytranslate"),t.TgZ(12,"div",6),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()(),t.TgZ(15,"mat-tab",4),t.ALo(16,"mytranslate"),t.TgZ(17,"div",6),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()(),t.TgZ(20,"form",7),t.YNc(21,vn,8,4,"div",8),t.YNc(22,Ct,59,40,"div",9),t.qZA()()()(),t.TgZ(23,"div",10)(24,"button",11),t.NdJ("click",function(){return c.btnCloseDialog(!1)}),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"button",12),t.NdJ("click",function(){return c.confirmAction()}),t.YNc(28,Vt,2,0,"span",13),t._uU(29),t.ALo(30,"mytranslate"),t.qZA()()(),t.YNc(31,fe,1,1,"azt-export-excel-for-student-list",14)),2&e&&(t.xp6(4),t.Q6J("selectedIndex",c.selected.value),t.xp6(1),t.s9C("label",t.lcZ(6,15,"lang_student_utils_add_student")),t.xp6(3),t.hij("*",t.lcZ(9,17,"lang_student_utils_enter_profile_student"),"."),t.xp6(2),t.s9C("label",t.lcZ(11,19,"lang_student_utils_quick_add_excel")),t.xp6(3),t.hij("*",t.lcZ(14,21,"lang_student_utils_choose_excel"),"."),t.xp6(2),t.s9C("label",t.lcZ(16,23,"lang_student_utils_quick_add_phone_and_email")),t.xp6(3),t.hij("*",t.lcZ(19,25,"lang_student_utils_quick_add_width_excel"),"."),t.xp6(2),t.Q6J("formGroup",c.form),t.xp6(1),t.Q6J("ngIf",0!=c.selected.value),t.xp6(1),t.Q6J("ngIf",0==c.selected.value),t.xp6(3),t.hij(" ",t.lcZ(26,27,"lang_cms_common_close_btn")," "),t.xp6(2),t.Q6J("disabled",c.statusObj.loading||c.form.invalid&&!c.importExcel||null==c.file&&c.importExcel),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(30,29,"lang_cms_common_confirm_btn")," "),t.xp6(2),t.Q6J("ngIf",c.exportStudentObjs))},dependencies:[Q.O5,ke.lW,ce.Nt,re.KE,re.R9,Pe.uX,Pe.SP,kt.gM,Lt.rZ,Lt.T$,Lt.c_,Lt.cL,D._Y,D.Fj,D._,D.JJ,D.JL,D.sg,D.u,tn.Y,fn.N,Ue.M,_e.R,lt.Q,en.S,it.n,Zt.Nh5,Q.Ov,L.JV,L.Bo,L.J8],styles:[".file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:aliceblue}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}.hover-cancel[_ngcontent-%COMP%]:hover{background-color:#ebe9e9}.hover-save[_ngcontent-%COMP%]:hover{background-color:#ff3526}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}.input-custom[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:3px;padding-left:12px;padding-top:10px}.block-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.block-text[_ngcontent-%COMP%]{width:60px;color:#757575!important;font-size:16px}.block-input[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:space-evenly}"]}),a})();function Cn(a,g){1&a&&(t.TgZ(0,"span",10),t._UZ(1,"azt-loading-ui"),t.qZA())}let Dn=(()=>{class a extends le.e{btnCloseDialog(e){this.dialogRef.close(e)}confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentDeleteObjGet(this.studentObj.id??0).subscribe(e=>{1==e.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.showSuccessSnack("lang_cms_delete_success")):(this.btnCloseDialog(!1),this.errorStatusObj(e.message??"",!0))}))}constructor(e,c,_){super(_,c),this.studentService=e,this.dialogRef=c,this.data=_,this.studentObj=_.studentObj,this.classroomObj=_.classroomObj}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Gt.VT),t.Y36(St.so,8),t.Y36(St.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-delete-student"]],features:[t.qOj],decls:22,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger",2,"word-break","break-word"],[1,"text-danger"],[1,"p-3","text-right"],["azt-track-service","delete_student-1XDt7rqJlo",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete_student-f7KFuC0__A",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"b",4),t._uU(8),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"b",5),t._uU(12),t.qZA(),t._uU(13,"? "),t.qZA()()()(),t.TgZ(14,"div",6)(15,"button",7),t.NdJ("click",function(){return c.btnCloseDialog(!1)}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"button",8),t.NdJ("click",function(){return c.confirmDelete()}),t.YNc(19,Cn,2,0,"span",9),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,7,"lang_student_utils_delete_student_first"),"\xa0 "),t.xp6(3),t.Oqu(c.studentObj.fullName),t.xp6(1),t.hij("\xa0 ",t.lcZ(10,9,"lang_student_utils_delete_student_last"),":\xa0 "),t.xp6(3),t.Oqu(c.classroomObj.name),t.xp6(4),t.hij(" ",t.lcZ(17,11,"lang_cms_common_close_btn")," "),t.xp6(3),t.Q6J("ngIf",c.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(21,13,"lang_cms_common_confirm_btn")," "))},dependencies:[Q.O5,_e.R,it.n,L.JV],encapsulation:2}),a})();function eo(a,g){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_required_enter_name_student")))}function En(a,g){if(1&a&&(t.TgZ(0,"div",41),t.YNc(1,eo,3,3,"span",42),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.getErrorType("fullName","noWhiteSpace"))}}function oe(a,g){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_lon_hon_0")," "))}function Et(a,g){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vui_long_nhap_so_bao_danh_khong_qua_6_chu_so")," "))}function ye(a,g){if(1&a&&(t.TgZ(0,"div",43),t.YNc(1,oe,3,3,"span",42),t.YNc(2,Et,3,3,"span",42),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.form.controls.identificationNumber.errors.min),t.xp6(1),t.Q6J("ngIf",e.form.controls.identificationNumber.errors.maxlength||e.form.controls.identificationNumber.errors.pattern)}}function qe(a,g){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_required_enter_phone")))}function Pn(a,g){1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_required_phone_ten_number")))}function Un(a,g){if(1&a&&(t.TgZ(0,"div",41),t.YNc(1,qe,3,3,"span",42),t.YNc(2,Pn,3,3,"span",42),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.getErrorType("phone","required")),t.xp6(1),t.Q6J("ngIf",e.getErrorType("phone","minlength")||e.getErrorType("phone","maxlength"))}}function ze(a,g){if(1&a&&(t.TgZ(0,"div",44)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,1,e.form.controls.email.value.length>=77?"lang_auto_email_ban_nhap_qua_dai":"lang_auto_vui_long_nhap_dung_dinh_dang_email"))}}function nn(a,g){if(1&a&&(t.TgZ(0,"div",43)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a){const e=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,1,e.msgError),"!")}}function kn(a,g){1&a&&(t.TgZ(0,"span",45),t._UZ(1,"azt-loading-ui"),t.qZA())}let cn=(()=>{class a extends le.e{getErrorType(e,c){return!(!this.form.controls[e]||!this.form.controls[e].errors||!this.form.controls[e].errors?.[c])}confirmAction(){let e=this.form.getRawValue();if(this.initStatusObj(),this.form.valid){let c={id:this.studentObj.id??0,fullName:e.fullName,phone:e.phone,email:e.email,identificationNumber:e.identificationNumber?Number(e.identificationNumber):void 0,gender:Number(e.gender),birthday:e.birthDay?this.timeService.formatOnlyDateToPostToServer(e.birthDay):void 0,classroomId:this.classroomObj.id??0};this.waitDestroy(this.studentService.apiStudentUpdateObjPost(c).subscribe(_=>{1==_.success?(this.btnCloseDialog(!0),this.successStatusObj("lang_cms_utils_update_folder_success",!0)):(this.msgError=_.message??"",this.stopStatusObj())}))}}btnCloseDialog(e){this.dialogRef.close(e)}ngOnInit(){super.ngOnInit()}constructor(e,c,_,x){super(x,_),this.studentService=e,this.timeService=c,this.dialogRef=_,this.data=x,this.msgError="",this.maxDate=Dt.N.maxDateTimePicker,this.studentObj=x.studentObj,this.classroomObj=x.classroomObj;let Z=1==this.studentObj.gender?"1":"0";this.form=new D.cw({phone:new D.NI(this.studentObj.phone??"",{nonNullable:!0,validators:[D.kI.pattern("^[0-9]*$"),D.kI.minLength(10),D.kI.maxLength(10)]}),fullName:new D.NI(this.studentObj.fullName??"",{nonNullable:!0,validators:[D.kI.required,Ke._.noWhiteSpace]}),identificationNumber:new D.NI(this.commonService.padLeadingZeros(this.studentObj.identificationNumber??void 0,6),{nonNullable:!0,validators:[D.kI.min(1),D.kI.maxLength(6),D.kI.pattern("^[0-9]*$")]}),birthDay:new D.NI(this.studentObj.birthday?.toString()??"",{nonNullable:!0}),email:new D.NI(this.studentObj.email??"",{nonNullable:!0,validators:[wt.z.isInvalidEmail]}),gender:new D.NI(Z,{nonNullable:!0}),file:new D.NI("",{nonNullable:!0}),password:new D.NI("",{nonNullable:!0})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Gt.VT),t.Y36(Ee.D),t.Y36(St.so,8),t.Y36(St.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-edit-student"]],features:[t._Bn([{provide:Lt.fM,useClass:he.WG,deps:[De.Ad,he.o8]},{provide:Lt.ab,useFactory:hn.fX,deps:[Ee.D]},{provide:re.o2,useValue:{floatLabel:"never"}}]),t.qOj],decls:68,vars:45,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"form-horizontal",3,"formGroup"],[1,"intro","mt-3"],["type","text","aria-label","default input example","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-danger text-left text-xs mt-2 font-medium mb-2",4,"ngIf"],["type","text","appOnlyNumber","","formControlName","identificationNumber",1,"form-control",3,"placeholder"],["class","text-xs font-medium text-danger mt-2 fade",4,"ngIf"],["type","text","formControlName","phone",1,"form-control",3,"placeholder"],["type","text","autocapitalize","none","formControlName","email",1,"form-control",3,"placeholder"],["class","text-danger text-xs text-left mt-2 font-medium mb-2",4,"ngIf"],[1,"azt-time-picker"],["azt-track-service","edit_student-FCGfey6UpM","matInput","","id","azt-asc-time-picker","formControlName","birthDay","readonly","",1,"form-birthday","bg-white",3,"placeholder","max","ngxMatDatetimePicker","click"],["azt-track-service","edit_student-E5U4yU4yHpa","matSuffix","",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],[3,"touchUi","hideTime"],["birthDay",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],[1,"flex","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md","mt-3",2,"justify-content","space-between"],[1,"form-label",2,"margin-bottom","0"],[1,"form-check","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio","value","1",1,"form-check-input"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender","value","0",1,"form-check-input"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"p-3","text-right"],["azt-track-service","edit_student-jfiMakvRbsA",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","edit_student-Q_oCb2JwMVm",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"text-danger","text-left","text-xs","mt-2","font-medium","mb-2"],[4,"ngIf"],[1,"text-xs","font-medium","text-danger","mt-2","fade"],[1,"text-danger","text-xs","text-left","mt-2","font-medium","mb-2"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,c){if(1&e){const _=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"form",4)(8,"div",5),t._UZ(9,"input",6),t.ALo(10,"mytranslate"),t.YNc(11,En,2,1,"div",7),t.qZA(),t.TgZ(12,"div",5),t._UZ(13,"input",8),t.ALo(14,"mytranslate"),t.YNc(15,ye,3,2,"div",9),t.qZA(),t.TgZ(16,"div",5),t._UZ(17,"input",10),t.ALo(18,"mytranslate"),t.YNc(19,Un,3,2,"div",7),t.qZA(),t.TgZ(20,"div",5),t._UZ(21,"input",11),t.ALo(22,"mytranslate"),t.YNc(23,ze,4,3,"div",12),t.qZA(),t.TgZ(24,"div",5)(25,"mat-form-field",13)(26,"input",14),t.NdJ("click",function(){t.CHM(_);const Z=t.MAs(41);return t.KtG(Z.open())}),t.ALo(27,"mytranslate"),t.qZA(),t.TgZ(28,"button",15),t.NdJ("click",function(Z){return t.CHM(_),t.MAs(41).open(),t.KtG(Z.stopPropagation())}),t.O4$(),t.TgZ(29,"svg",16),t._UZ(30,"rect",17)(31,"line",18)(32,"line",19)(33,"line",20)(34,"path",21)(35,"path",22)(36,"path",23)(37,"path",24)(38,"path",25)(39,"path",26),t.qZA()(),t.kcU(),t.TgZ(40,"ngx-mat-datetime-picker",27,28)(42,"ngx-mat-datepicker-actions")(43,"button",29),t._uU(44,"OK"),t.qZA()()()()(),t.TgZ(45,"div",30)(46,"label",31),t._uU(47),t.ALo(48,"mytranslate"),t.qZA(),t.TgZ(49,"div",32),t._UZ(50,"input",33),t.TgZ(51,"label",34),t._uU(52),t.ALo(53,"mytranslate"),t.qZA()(),t.TgZ(54,"div",32),t._UZ(55,"input",35),t.TgZ(56,"label",36),t._uU(57),t.ALo(58,"mytranslate"),t.qZA()()(),t.YNc(59,nn,4,3,"div",9),t.qZA()()()(),t.TgZ(60,"div",37)(61,"button",38),t.NdJ("click",function(){return c.btnCloseDialog(!1)}),t._uU(62),t.ALo(63,"mytranslate"),t.qZA(),t.TgZ(64,"button",39),t.NdJ("click",function(){return c.confirmAction()}),t.YNc(65,kn,2,0,"span",40),t._uU(66),t.ALo(67,"mytranslate"),t.qZA()()()}if(2&e){const _=t.MAs(41);t.xp6(5),t.hij(" ",t.lcZ(6,23,"lang_student_utils_edit_student")," "),t.xp6(2),t.Q6J("formGroup",c.form),t.xp6(2),t.s9C("placeholder",t.lcZ(10,25,"lang_first_and_last_name")),t.xp6(2),t.Q6J("ngIf",c.form.controls.fullName.invalid&&c.form.controls.fullName.dirty),t.xp6(2),t.s9C("placeholder",t.lcZ(14,27,"lang_auto_so_bao_danh")),t.xp6(2),t.Q6J("ngIf",c.form.controls.identificationNumber.errors&&(c.form.controls.identificationNumber.dirty||c.form.controls.identificationNumber.touched)),t.xp6(2),t.s9C("placeholder",t.lcZ(18,29,"lang_number_phone")),t.xp6(2),t.Q6J("ngIf",c.form.controls.phone.invalid&&c.form.controls.phone.dirty),t.xp6(2),t.s9C("placeholder",t.lcZ(22,31,"lang_auto_email_input")),t.xp6(2),t.Q6J("ngIf",c.form.controls.email.value&&(c.form.controls.email.errors||c.form.controls.email.invalid)),t.xp6(3),t.s9C("placeholder",t.lcZ(27,33,"lang_auto_ngay_sinh")),t.Q6J("max",c.maxDate)("ngxMatDatetimePicker",_),t.xp6(14),t.Q6J("touchUi",!0)("hideTime",!0),t.xp6(7),t.hij(" ",t.lcZ(48,35,"lang_auto_gioi_tinh")," "),t.xp6(5),t.hij(" ",t.lcZ(53,37,"lang_auto_nam")," "),t.xp6(5),t.hij(" ",t.lcZ(58,39,"lang_auto_nu")," "),t.xp6(2),t.Q6J("ngIf",""!==c.msgError),t.xp6(3),t.hij(" ",t.lcZ(63,41,"lang_cms_common_close_btn")," "),t.xp6(2),t.Q6J("disabled",c.statusObj.loading||c.form.invalid),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(67,43,"lang_button_update")," ")}},dependencies:[Q.O5,ke.lW,ce.Nt,re.KE,re.R9,Lt.rZ,Lt.T$,Lt.c_,Lt.cL,D._Y,D.Fj,D._,D.JJ,D.JL,D.sg,D.u,tn.Y,Ue.M,_e.R,it.n,L.JV],encapsulation:2}),a})();var qn=f(87325);function mn(a,g){if(1&a&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_zalo_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==e.extraDataObj?null:e.extraDataObj.reApprovedZaloFullName)}}function no(a,g){if(1&a&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_so_dien_thoai_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==e.extraDataObj?null:e.extraDataObj.reApprovedPhone)}}function oo(a,g){if(1&a&&(t.TgZ(0,"span",15),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",10),t._uU(4),t.qZA()()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_email_dang_yeu_cau_xac_thuc_lai"),": "),t.xp6(3),t.Oqu(null==e.extraDataObj?null:e.extraDataObj.reApprovedEmail)}}function wn(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.TgZ(6,"span",9),t._uU(7),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"span",10),t._uU(11),t.qZA(),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.YNc(14,mn,5,4,"span",11),t.YNc(15,no,5,4,"span",11),t.YNc(16,oo,5,4,"span",11),t.TgZ(17,"div",12)(18,"div",13),t.NdJ("click",function(){const x=t.CHM(e).$implicit,Z=t.oxw();return t.KtG(Z.reApproveStudent(x.studentId,x.id))}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"div",14),t.NdJ("click",function(){const x=t.CHM(e).$implicit,Z=t.oxw();return t.KtG(Z.delRequestNotice(x.id))}),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()()()()}if(2&a){const e=g.$implicit;t.xp6(4),t.hij(" ",t.lcZ(5,10,"lang_student_utils_reques_notice_list_student"),"\xa0 "),t.xp6(3),t.Oqu(e.studentName),t.xp6(1),t.hij("\xa0 ",t.lcZ(9,12,"lang_student_utils_reques_notice_list_class"),"\xa0 "),t.xp6(3),t.hij("",e.classroomName," "),t.xp6(1),t.hij("\xa0 ",t.lcZ(13,14,"lang_student_utils_reques_notice_list_dont_select_name"),". "),t.xp6(2),t.Q6J("ngIf",null==e.extraDataObj?null:e.extraDataObj.reApprovedZaloFullName),t.xp6(1),t.Q6J("ngIf",null==e.extraDataObj?null:e.extraDataObj.reApprovedPhone),t.xp6(1),t.Q6J("ngIf",null==e.extraDataObj?null:e.extraDataObj.reApprovedEmail),t.xp6(3),t.Oqu(t.lcZ(20,16,"lang_student_utils_reques_notice_list_unlock_select_again")),t.xp6(3),t.Oqu(t.lcZ(23,18,"lang_button_skip"))}}let io=(()=>{class a extends le.e{reApproveStudent(e,c){this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(e??0).subscribe(_=>{1==_.success?(this.delRequestNotice(c),this.showSuccessSnack("lang_auto_mo_khoa_cho_hoc_sinh_thanh_cong")):this.errorStatusObj(_.message??"",!0)}))}delRequestNotice(e){this.waitDestroy(this.noticeService.apiNoticeDeleteObjGet(e).subscribe(c=>{1==c.success?(this.noticeObjs=this.noticeObjs.filter(_=>_.id!=e),this.noticeObjs.length||this.btnCloseDialog(!0)):this.errorStatusObj(c.message??"",!0)}))}btnCloseDialog(e){this.dialogRef.close(e)}constructor(e,c,_,x){super(x,_),this.studentService=e,this.noticeService=c,this.dialogRef=_,this.data=x,this.classroomObj=x.classroomObj,this.noticeObjs=x.noticeObjs}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Gt.VT),t.Y36(qn.L$),t.Y36(St.so,8),t.Y36(St.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-re-approve-request"]],features:[t.qOj],decls:9,vars:4,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","scroll-menu-test"],[1,"p-3"],["class","ml-2 mb-2 mr-2 noticeobj",4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","request_notice_list-fcVrrBJYoFq",1,"btn","w-24","btn-secondary",3,"click"],[1,"ml-2","mb-2","mr-2","noticeobj"],[1,"pt-1","pb-1","clickable"],[1,"notify__content"],[1,"notify__name",2,"word-break","break-word"],[1,"notify__name"],["class","block",4,"ngIf"],[1,"mt-2","flex","justify-end"],["azt-track-service","request_notice_list-LmGuEaUfXP2",1,"notify__btn","bg-info",3,"click"],["azt-track-service","request_notice_list-K5qVGrBSxAh",1,"notify__btn","ml-3",3,"click"],[1,"block"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2),t.YNc(4,wn,24,20,"div",3),t.qZA()()(),t.TgZ(5,"div",4)(6,"button",5),t.NdJ("click",function(){return c.btnCloseDialog(!1)}),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngForOf",c.noticeObjs),t.xp6(3),t.hij(" ",t.lcZ(8,2,"lang_cms_common_close_btn")," "))},dependencies:[Q.sg,Q.O5,_e.R,L.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:90;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;background:rgba(0,0,0,.5607843137);min-height:100vh}.school-info[_ngcontent-%COMP%]{z-index:91;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.noticeobj[_ngcontent-%COMP%]{background-color:#ecebeb;border-radius:5px;border:1px solid #e5e5e5}.notify__name[_ngcontent-%COMP%]{font-weight:500}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px 15px}.notify__btn[_ngcontent-%COMP%]{text-align:center;border-radius:5px;padding:5px;color:#000;font-size:14px;background-color:#fff;border:1px solid #cecdcd;width:-moz-fit-content;width:fit-content}.bg-info[_ngcontent-%COMP%]{color:#fff!important;border:1px solid #00a7d0!important;background-color:#00a7d0}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.note[_ngcontent-%COMP%]{font-style:italic;font-size:15px;font-weight:600}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),a})();var yn=f(78820),on=f(88131),On=f(38228),me=f(2783),T=f(46558),E=f(94690),h=f(7289),w=f(27161),S=f(45468);let F=(()=>{class a{constructor(e,c,_,x,Z,P){this.commonService=e,this.examPageResultService=c,this.permissionService=_,this.globalService=x,this.answerTypeService=Z,this.homeworkExamService=P}getTestedAllResultByClassroomId(e,c,_,x){return this.globalService.startIntervalFunc(e),this.getTestedOfExamResultByClassroomId(e,c,"all",_,x)}getTestedOfExamResultByClassroomId(e,c,_,x,Z){return new ne.y(P=>{this.examPageResultService.apiExamPageResultGetObjV2Get(c).subscribe(K=>{if(1==K.success){let xt=K.data?.examObj,de=this.hasEssay(K.data?.examQuestionObjs??[]),ho=K.data?.classroomWithAvatarAndStudentObjs??new Array;this.permissionService.hasViewExamPermission("exam",xt)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",xt)?this.getAllExamResultObjs(e,[],c,"",Po=>{if(Po.hasOwnProperty("success")&&1==Po.success){let Fs=this.mergeStudentWithAvatar(Po.studentWithResultObjs??[]),Ti={};Fs?.forEach(Kn=>{let vs=Kn.parentId??"0";Ti.hasOwnProperty(vs)||(Ti[vs]=Kn.examResultObjs??[])});let bs=Z;if(this.homeworkExamService.mustInClassroom(xt)&&ho.length>0)for(let Kn=0;Kn<ho.length;Kn++)if(ho[Kn].classroomObj?.id==x){let Qt=ho[Kn].studentObjs??[];if(Qt.length>0)for(let Yt=0;Yt<Qt.length;Yt++){let ks=Qt[Yt].parentId??"0";Ti.hasOwnProperty(ks)?(Array.isArray(Qt[Yt].examResultObjs)||(Qt[Yt].examResultObjs=[]),Qt[Yt].examResultObjs=this.findExamResultOfStudent(Qt[Yt].examResultObjs?.concat(Ti[ks])??[],Qt[Yt].id??"0")):Qt[Yt].examResultObjs=this.findExamResultOfStudent(Qt[Yt].examResultObjs??[],Qt[Yt].id??"0");let ws=this.filterExamResultByType(Qt[Yt].examResultObjs??[],"first"),ys=this.filterExamResultByType(Qt[Yt].examResultObjs??[],"last"),Os=this.filterExamResultByType(Qt[Yt].examResultObjs??[],"highest");bs.forEach(fo=>{if(fo.dataExam||(fo.dataExam=[]),fo.parentId==Qt[Yt].parentId||fo.id.toString()==Qt[Yt].id){let Ci=ws.hasOwnProperty(Qt[Yt].parentId??0)?ws[Qt[Yt].parentId??0]:void 0,ki=ys.hasOwnProperty(Qt[Yt].parentId??0)?ys[Qt[Yt].parentId??0]:void 0,Zs=Os.hasOwnProperty(Qt[Yt].parentId??0)?Os[Qt[Yt].parentId??0]:void 0,Qs={id:xt?.id??0,name:xt?.name??"",firstPoint:Ci?this.checkMarkStatus(Ci,de):void 0,lastPoint:ki?this.checkMarkStatus(ki,de):void 0,highestPoint:Zs?this.checkMarkStatus(Zs,de):void 0};fo.dataExam.push(Qs)}fo.dataExam.sort((Ci,ki)=>(Ci.id??0)-(ki.id??0))},bs)}break}P.next({status:200,success:1,data:bs,message:"successful"}),P.complete()}else P.next({status:Po.code,success:0,data:Z,message:Po.message??""}),P.complete()}):(P.next({status:200,success:1,data:Z,message:"successful"}),P.complete())}else P.next({status:K.code,success:0,data:Z,message:K.message??""}),P.complete()})})}getAllExamResultObjs(e,c,_,x,Z){this.examPageResultService.apiExamPageResultGetObjsV2Get(_,"export",x).subscribe(P=>{1==P.success?(P.data?.objs&&c.push(...P.data.objs),P.data?.nextPage?this.globalService.isStopIntervalFunc(e)?Z({studentWithResultObjs:c,success:1}):setTimeout(()=>{this.getAllExamResultObjs(e,c,_,P.data?.nextPage??"",Z)},300):Z({studentWithResultObjs:c,success:1})):Z({code:P.code,studentWithResultObjs:[],success:0,message:P.message??""})})}filterExamResultOnTest(e,c,_){var x={};return e.forEach(Z=>{var P=this.commonService.myClone(Z)??{};if(P.testStatus)x[P.userId??0]=P.testStatus;else if(P.startedTest&&_)if(c.endTime){var K=Math.floor(new Date(c.endTime).getTime()/1e3);x[P.userId??0]=_<=K+60*(c.minutes??0)+600?0:-1}else{var xt=P.startedTest?Math.floor(new Date(P.startedTest).getTime()/1e3):0;x[P.userId??0]=_<=xt+86400?0:-1}else x[P.userId??0]=0}),x}mergeStudentWithAvatar(e){var c=[];return e.forEach(_=>{var x=c.filter(P=>P.parentId==_.parentId);if(x&&0!=x.length)for(var Z=0;Z<c.length;Z++)c[Z].parentId==_.parentId&&(c[Z].examResultObjs=c[Z].examResultObjs?.concat(_.examResultObjs??[]));else c.push(_)}),c}findExamResultOfStudent(e,c){var _=[];return e.forEach(x=>{(x.studentId==c||null==x.studentId)&&_.push(x)}),_}createStudentWithResult(e,c,_){return{id:e.id,userId:e.parentId,studentId:e.id,identificationNumber:c.examResultStatisticObj?.offlineMarkInfoObj?.studentCode??0,offlineMixQuestionHashId:c.examResultStatisticObj?.offlineMarkInfoObj?.offlineMixquestionHashId??0,gender:e.gender,fullName:e.fullName,avatar:e.avatar,birthday:e.birthday,mark:c.hasOwnProperty("mark")?c.mark:null,confirmedAt:c.hasOwnProperty("confirmedAt")?c.confirmedAt:null,startedTest:c.hasOwnProperty("startedTest")?c.startedTest:null,createdAt:c.hasOwnProperty("createdAt")?c.createdAt:null,status:_,totalExamResultObjs:0}}filterExamResultByType(e,c){var _={};if(e.length>1)e.forEach((Z,P)=>{var K=this.commonService.myClone(Z);Z.testStatus&&(K.resultId=K.id,K.indexTest=P,"last"==c&&(_[K.userId??0]=K),"first"==c&&(_.hasOwnProperty(K.userId??0)||(_[K.userId??0]=K)),"highest"==c)&&(_.hasOwnProperty(K.userId??0)?(_[K.userId??0].mark??-1)<=(K.mark??-1)&&(_[K.userId??0]=K):_[K.userId??0]=K)});else{var x=this.commonService.myClone(e[0]??{});x.resultId=x.testStatus?x.id:0,x.indexTest=0,_[x.userId??0]=x}return _}hasEssay(e){let c=!1;for(let _=0;_<e.length;_++)if(this.answerTypeService.isEssayAnswer(e[_])){c=!0;break}return c}checkMarkStatus(e,c){return c?1==e.testStatus?e.confirmedAt?e.mark:-1:void 0:1==e.testStatus?e.mark:void 0}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(T.z),t.LFG(W.DR),t.LFG(E.j),t.LFG(h.q),t.LFG(w.i),t.LFG(S.v))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var z=f(30617),X=f(77988),mt=f(85904),Mt=f(37783),Je=f(71299),an=f(60381);const ao=["parent"];function xo(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"button",65),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.exportListStudent())}),t.TgZ(1,"span",66),t._UZ(2,"lucide-icon",67),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_student_utils_export_list_student")," "))}function Uo(a,g){1&a&&(t.TgZ(0,"span",66),t._UZ(1,"azt-loading-ui"),t.qZA())}function bo(a,g){1&a&&(t.TgZ(0,"span",66),t._UZ(1,"lucide-icon",67),t.qZA())}function wi(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.exportExcelForScoreOfClassroom())}),t.YNc(1,Uo,2,0,"span",69),t.YNc(2,bo,2,0,"span",70),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.loadingExport),t.xp6(1),t.Q6J("ngIf",!e.loadingExport),t.xp6(1),t.hij(" ",t.lcZ(4,3,"lang_auto_xuat_bang_diem")," ")}}function yi(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"button",71),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.addStudentDialog(_.classroomObj))}),t.TgZ(1,"span",72),t._UZ(2,"lucide-icon",73),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_them_hoc_sinh")," "))}function qo(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"button",74),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.openDialogAutoNumbering())}),t.TgZ(1,"span",72),t._UZ(2,"lucide-icon",75),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_danh_so_bao_danh")," "))}function Oi(a,g){if(1&a&&(t.TgZ(0,"button",76)(1,"span",77),t._UZ(2,"lucide-icon",78),t.qZA()()),2&a){t.oxw();const e=t.MAs(73);t.Q6J("matMenuTriggerFor",e)}}function Zn(a,g){if(1&a&&t._UZ(0,"azt-download-qr-code",79),2&a){const e=t.oxw();t.Q6J("fileName",e.convertNameForQR())("linkUrl",e.copyLinkToClipboard())("showLink",!0)}}function An(a,g){if(1&a&&t._UZ(0,"azt-download-qr-code",79),2&a){const e=t.oxw();t.Q6J("fileName",e.convertNameForQR())("linkUrl",e.copyLinkToClipboard())("showLink",!1)}}function zn(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",80)(1,"div",81)(2,"div",82)(3,"input",83),t.NdJ("change",function(){t.CHM(e);const _=t.oxw();let x;return t.KtG(_.changeAnonymousStudentStatus(null!==(x=null==_.classroomObj?null:_.classroomObj.id)&&void 0!==x?x:0,_.checkAddStudent.value))}),t.qZA(),t.TgZ(4,"label",84),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA()()(),t._UZ(8,"br"),t.qZA()}if(2&a){const e=t.oxw();t.xp6(3),t.Q6J("formControl",e.checkAddStudent)("checked",1==(null==e.classroomObj?null:e.classroomObj.showAddStudent)),t.xp6(2),t.hij(" ",e.checkAddStudent.value?t.lcZ(6,3,"lang_student_classroom_list_detail_on"):t.lcZ(7,5,"lang_student_classroom_list_detail_off")," ")}}function Jn(a,g){1&a&&(t.TgZ(0,"th",25),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_vi_tri")," "))}function Zi(a,g){if(1&a&&(t.TgZ(0,"a",102),t.ALo(1,"mytranslate"),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"formatStudentCodeToNumber"),t.ALo(6,"mytranslate"),t._uU(7),t.qZA()),2&a){const e=t.oxw().$implicit;t.pbR("matTooltip","\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(1,7,"lang_first_and_last_name"),": ",e.fullName,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(2,9,"lang_number_phone"),": ",e.phone?e.phone:t.lcZ(3,11,"lang_not_data"),"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(4,13,"lang_auto_so_bao_danh"),": ",e.identificationNumber?t.xi3(5,15,e.identificationNumber,6):t.lcZ(6,18,"lang_not_data"),""),t.xp6(7),t.hij(" ",e.fullName," ")}}function Ai(a,g){if(1&a&&(t.TgZ(0,"div",103),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.phone," ")}}function Si(a,g){if(1&a&&(t.TgZ(0,"div",104),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.s9C("matTooltip",e.email),t.xp6(1),t.hij(" ",e.email," ")}}function Ni(a,g){1&a&&(t.TgZ(0,"div",105)(1,"span",106),t._UZ(2,"lucide-icon",107),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_co_tai_khoan")," "))}function vo(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.lnq(" ",null==e.documentAttendedObj?null:e.documentAttendedObj.totalHomeworkAnswer," / ",null==e.totalDocumentObj?null:e.totalDocumentObj.totalHomework," ",t.lcZ(2,3,"lang_student_classroom_list_detail_homework")," ")}}function Mi(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.lnq(" ",null==e.documentAttendedObj?null:e.documentAttendedObj.totalExamResult," / ",null==e.totalDocumentObj?null:e.totalDocumentObj.totalExam," ",t.lcZ(2,3,"lang_student_classroom_list_detail_exam")," ")}}function Ii(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"a",108),t.NdJ("click",function(){t.CHM(e);const _=t.oxw().$implicit,x=t.oxw();return t.KtG(x.editStudentDialog(_))}),t.O4$(),t.TgZ(1,"svg",109),t._UZ(2,"path",110)(3,"path",111),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&a&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_sua")," "))}function ji(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"a",112),t.NdJ("click",function(){t.CHM(e);const _=t.oxw().$implicit,x=t.oxw();return t.KtG(x.deleteStudentDialog(_))}),t.TgZ(1,"span",106),t._UZ(2,"lucide-icon",113),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_button_delete")," "))}function Li(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"mat-icon",120),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(2),x=_.index,Z=_.$implicit,P=t.oxw();return t.KtG(P.onPositionChange("up",x-1,Z.id,null==P.classroomObj?null:P.classroomObj.id))}),t._uU(1," keyboard_arrow_up "),t.qZA()}}function Di(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"mat-icon",121),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(2),x=_.index,Z=_.$implicit,P=t.oxw();return t.KtG(P.onPositionChange("down",x+1,Z.id,null==P.classroomObj?null:P.classroomObj.id))}),t._uU(1," keyboard_arrow_down "),t.qZA()}}function zo(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"td",114)(1,"div",115),t.YNc(2,Li,2,0,"mat-icon",116),t.TgZ(3,"input",117,118),t.NdJ("keyup.enter",function(){t.CHM(e);const _=t.MAs(4),x=t.oxw(),Z=x.index,P=x.$implicit,K=t.oxw();return t.KtG(K.onPositionChange(_.value,Z,P.id,null==K.classroomObj?null:K.classroomObj.id))}),t.qZA(),t.YNc(5,Di,2,0,"mat-icon",119),t.qZA()()}if(2&a){const e=t.oxw().index,c=t.oxw();t.xp6(2),t.Q6J("ngIf",0!=e),t.xp6(1),t.s9C("value",e+1),t.xp6(2),t.Q6J("ngIf",c.listStudents&&e!=c.listStudents.length-1)}}function Ei(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"tr")(1,"td",85),t.NdJ("click",function(){const x=t.CHM(e).$implicit,Z=t.oxw();return t.KtG(Z.goToProfile(x.classroomId,x.id))}),t.TgZ(2,"div",86)(3,"div",87),t._UZ(4,"azt-create-avatar",88),t.ALo(5,"anonymousPhone"),t.ALo(6,"mycdn"),t.qZA(),t.TgZ(7,"div",89),t.YNc(8,Zi,8,20,"a",90),t.YNc(9,Ai,2,1,"div",91),t.YNc(10,Si,2,2,"div",92),t.qZA()()(),t.TgZ(11,"td",93),t._uU(12),t.ALo(13,"formatStudentCodeToNumber"),t.qZA(),t.TgZ(14,"td",93),t._uU(15),t.ALo(16,"mytranslate"),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"td",94),t._uU(19),t.ALo(20,"formatOnlyDateByUserUnitPipe"),t.qZA(),t.TgZ(21,"td",95),t.YNc(22,Ni,5,3,"div",96),t.qZA(),t.TgZ(23,"td",94),t.YNc(24,vo,3,5,"span",97),t.qZA(),t.TgZ(25,"td",94),t.YNc(26,Mi,3,5,"span",97),t.qZA(),t.TgZ(27,"td",94)(28,"div",98),t.YNc(29,Ii,6,3,"a",99),t.ALo(30,"editPermission"),t.YNc(31,ji,5,3,"a",100),t.ALo(32,"editPermission"),t.qZA()(),t.YNc(33,zo,6,3,"td",101),t.ALo(34,"editPermission"),t.qZA()}if(2&a){const e=g.$implicit,c=t.oxw();t.xp6(4),t.MGl("matTooltip","",0==e.parentId||1==e.isAnonymous?null:" Id: "+e.parentId+(""!=t.lcZ(5,16,e.parentPhone)?" - Phone: "+e.parentPhone:"")+" - Name: "+e.parentFullName," "),t.Q6J("nameCreateAvatar",e.fullName)("linkAvatar",t.lcZ(6,18,e.avatar))("size",36),t.xp6(4),t.Q6J("ngIf",e.fullName),t.xp6(1),t.Q6J("ngIf",e.phone),t.xp6(1),t.Q6J("ngIf",e.email),t.xp6(2),t.Oqu(e.identificationNumber?t.xi3(13,20,e.identificationNumber,6):""),t.xp6(3),t.Oqu(0==e.gender?t.lcZ(16,23,"lang_auto_nu"):t.lcZ(17,25,"lang_auto_nam")),t.xp6(4),t.hij(" ",t.lcZ(20,27,e.birthday)," "),t.xp6(3),t.Q6J("ngIf",1==e.isVerified),t.xp6(2),t.Q6J("ngIf",(null==e.documentAttendedObj?null:e.documentAttendedObj.totalHomeworkAnswer)||(null==e.totalDocumentObj?null:e.totalDocumentObj.totalHomework)),t.xp6(2),t.Q6J("ngIf",(null==e.documentAttendedObj?null:e.documentAttendedObj.totalExamResult)||(null==e.totalDocumentObj?null:e.totalDocumentObj.totalExam)),t.xp6(3),t.Q6J("ngIf",t.xi3(30,29,c.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(32,32,c.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",1==(null==c.classroomObj?null:c.classroomObj.sortType)&&t.xi3(34,35,c.classroomObj,"student"))}}function Pi(a,g){1&a&&(t.TgZ(0,"div",122),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_student_classroom_list_detail_not_student")))}function Ui(a,g){if(1&a&&(t.TgZ(0,"a",135),t.ALo(1,"mytranslate"),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"formatStudentCodeToNumber"),t.ALo(6,"mytranslate"),t._uU(7),t.qZA()),2&a){const e=t.oxw().$implicit;t.pbR("matTooltip","\n\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(1,7,"lang_first_and_last_name"),": ",e.fullName,"\n\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(2,9,"lang_number_phone"),": ",e.phone?e.phone:t.lcZ(3,11,"lang_not_data"),"\n\t\t\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t\t\t",t.lcZ(4,13,"lang_auto_so_bao_danh"),": ",e.identificationNumber?t.xi3(5,15,e.identificationNumber,6):t.lcZ(6,18,"lang_not_data"),""),t.xp6(7),t.hij(" ",e.fullName," \xa0 ")}}function qi(a,g){if(1&a&&(t.TgZ(0,"div",103),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.phone," ")}}function zi(a,g){if(1&a&&(t.TgZ(0,"div",104),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.s9C("matTooltip",e.email),t.xp6(1),t.hij(" ",e.email," ")}}function Jo(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"a",144),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(2).$implicit,x=t.oxw();return t.KtG(x.editStudentDialog(_))}),t.O4$(),t.TgZ(1,"svg",109),t._UZ(2,"path",110)(3,"path",111),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&a&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_sua")," "))}function Ji(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"a",145),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(2).$implicit,x=t.oxw();return t.KtG(x.deleteStudentDialog(_))}),t.TgZ(1,"span",106),t._UZ(2,"lucide-icon",113),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_button_delete")," "))}function Fi(a,g){if(1&a&&(t.TgZ(0,"div",136)(1,"a",137)(2,"span",138),t._UZ(3,"lucide-icon",139),t.qZA()(),t.TgZ(4,"mat-menu",null,140)(6,"div",141)(7,"ul",35)(8,"li"),t.YNc(9,Jo,6,3,"a",142),t.ALo(10,"editPermission"),t.qZA(),t.TgZ(11,"li"),t.YNc(12,Ji,5,3,"a",143),t.ALo(13,"editPermission"),t.qZA()()()()()),2&a){const e=t.MAs(5),c=t.oxw(2);t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(8),t.Q6J("ngIf",t.xi3(10,3,c.classroomObj,"student")),t.xp6(3),t.Q6J("ngIf",t.xi3(13,6,c.classroomObj,"student"))}}function Qi(a,g){1&a&&(t.TgZ(0,"div",105)(1,"span",106),t._UZ(2,"lucide-icon",107),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_co_tai_khoan")," "))}function Yi(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const e=t.oxw(2).$implicit;t.xp6(1),t.lnq(" ",null==e.documentAttendedObj?null:e.documentAttendedObj.totalHomeworkAnswer," / ",null==e.totalDocumentObj?null:e.totalDocumentObj.totalHomework," ",t.lcZ(2,3,"lang_student_classroom_list_detail_homework")," ")}}function Bi(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const e=t.oxw(2).$implicit;t.xp6(1),t.lnq(" ",null==e.documentAttendedObj?null:e.documentAttendedObj.totalExamResult," / ",null==e.totalDocumentObj?null:e.totalDocumentObj.totalExam," ",t.lcZ(2,3,"lang_student_classroom_list_detail_exam")," ")}}function Hi(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"mat-icon",154),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(3),x=_.index,Z=_.$implicit,P=t.oxw();return t.KtG(P.onPositionChange("up",x-1,Z.id,null==P.classroomObj?null:P.classroomObj.id))}),t._uU(1," keyboard_arrow_up "),t.qZA()}}function Fo(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"mat-icon",155),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(3),x=_.index,Z=_.$implicit,P=t.oxw();return t.KtG(P.onPositionChange("down",x+1,Z.id,null==P.classroomObj?null:P.classroomObj.id))}),t._uU(1," keyboard_arrow_down "),t.qZA()}}function Gi(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",146)(1,"div",150)(2,"div",151),t.YNc(3,Hi,2,0,"mat-icon",152),t.TgZ(4,"input",117,118),t.NdJ("keyup.enter",function(){t.CHM(e);const _=t.MAs(5),x=t.oxw(2),Z=x.index,P=x.$implicit,K=t.oxw();return t.KtG(K.onPositionChange(_.value,Z,P.id,null==K.classroomObj?null:K.classroomObj.id))}),t.qZA(),t.YNc(6,Fo,2,0,"mat-icon",153),t.qZA()()()}if(2&a){const e=t.oxw(2).index,c=t.oxw();t.xp6(3),t.Q6J("ngIf",0!=e),t.xp6(1),t.s9C("value",e+1),t.xp6(2),t.Q6J("ngIf",c.listStudents&&e!=c.listStudents.length-1)}}function Ri(a,g){if(1&a&&(t.TgZ(0,"div")(1,"div",146)(2,"div",147),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",148),t._uU(6),t.ALo(7,"formatStudentCodeToNumber"),t.qZA()(),t.TgZ(8,"div",146)(9,"div",147),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"div",148),t._uU(13),t.ALo(14,"mytranslate"),t.ALo(15,"mytranslate"),t.qZA()(),t.TgZ(16,"div",146)(17,"div",147),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"div",148),t._uU(21),t.ALo(22,"formatOnlyDateByUserUnitPipe"),t.qZA()(),t.TgZ(23,"div",146)(24,"div",147),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"div",148),t.YNc(28,Qi,5,3,"div",96),t.qZA()(),t.TgZ(29,"div",146)(30,"div",147),t._uU(31),t.ALo(32,"mytranslate"),t.qZA(),t.TgZ(33,"div",148),t.YNc(34,Yi,3,5,"span",97),t.qZA()(),t.TgZ(35,"div",146)(36,"div",147),t._uU(37),t.ALo(38,"mytranslate"),t.qZA(),t.TgZ(39,"div",148),t.YNc(40,Bi,3,5,"span",97),t.qZA()(),t.YNc(41,Gi,7,3,"div",149),t.ALo(42,"editPermission"),t.qZA()),2&a){const e=t.oxw().$implicit,c=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,13,"lang_auto_so_bao_danh")," "),t.xp6(3),t.hij(" ",e.identificationNumber?t.xi3(7,15,e.identificationNumber,6):""," "),t.xp6(4),t.hij(" ",t.lcZ(11,18,"lang_gender")," "),t.xp6(3),t.hij(" ",0==e.gender?t.lcZ(14,20,"lang_auto_nu"):t.lcZ(15,22,"lang_auto_nam")," "),t.xp6(5),t.hij(" ",t.lcZ(19,24,"lang_birthday")," "),t.xp6(3),t.hij(" ",t.lcZ(22,26,e.birthday)," "),t.xp6(4),t.hij(" ",t.lcZ(26,28,"lang_testbank_folder_and_file_status")," "),t.xp6(3),t.Q6J("ngIf",1==e.isVerified),t.xp6(3),t.hij(" ",t.lcZ(32,30,"lang_auto_bai_tap_da_lam")," "),t.xp6(3),t.Q6J("ngIf",(null==e.documentAttendedObj?null:e.documentAttendedObj.totalHomeworkAnswer)||(null==e.totalDocumentObj?null:e.totalDocumentObj.totalHomework)),t.xp6(3),t.hij(" ",t.lcZ(38,32,"lang_auto_de_thi_da_lam")," "),t.xp6(3),t.Q6J("ngIf",(null==e.documentAttendedObj?null:e.documentAttendedObj.totalExamResult)||(null==e.totalDocumentObj?null:e.totalDocumentObj.totalExam)),t.xp6(1),t.Q6J("ngIf",1==(null==c.classroomObj?null:c.classroomObj.sortType)&&t.xi3(42,34,c.classroomObj,"student"))}}function Vi(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",123)(1,"div",124)(2,"div",125)(3,"div",126),t.NdJ("click",function(){const x=t.CHM(e).$implicit,Z=t.oxw();return t.KtG(Z.goToProfile(x.classroomId,x.id))}),t.TgZ(4,"div",127),t._UZ(5,"azt-create-avatar",88),t.ALo(6,"anonymousPhone"),t.ALo(7,"mycdn"),t.qZA(),t.TgZ(8,"div",128),t.YNc(9,Ui,8,20,"a",129),t.YNc(10,qi,2,1,"div",91),t.YNc(11,zi,2,2,"div",92),t.qZA()(),t.YNc(12,Fi,14,9,"div",130),t.ALo(13,"editPermission"),t.qZA(),t.TgZ(14,"button",131),t.NdJ("click",function(){const x=t.CHM(e).index,Z=t.oxw();return t.KtG(Z.toggleExpandedContent(x))}),t.TgZ(15,"span",132),t._UZ(16,"lucide-icon",133),t.qZA()()(),t.TgZ(17,"div",134),t.YNc(18,Ri,43,37,"div",97),t.qZA()()}if(2&a){const e=g.$implicit,c=g.index,_=t.oxw();t.xp6(5),t.MGl("matTooltip","",0==e.parentId||1==e.isAnonymous?null:" Id: "+e.parentId+(""!=t.lcZ(6,12,e.parentPhone)?" - Phone: "+e.parentPhone:"")+" - Name: "+e.parentFullName," "),t.Q6J("nameCreateAvatar",e.fullName)("linkAvatar",t.lcZ(7,14,e.avatar))("size",36),t.xp6(4),t.Q6J("ngIf",e.fullName),t.xp6(1),t.Q6J("ngIf",e.phone),t.xp6(1),t.Q6J("ngIf",e.email),t.xp6(1),t.Q6J("ngIf",t.xi3(13,16,_.classroomObj,"student")),t.xp6(3),t.ekj("rotate-180",_.expandedItemIndex===c),t.xp6(2),t.Q6J("@expandCollapse",_.expandedItemIndex===c?"open":"closed"),t.xp6(1),t.Q6J("ngIf",_.expandedItemIndex===c)}}function $i(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"azt-export-excel-for-student-list",156),t.NdJ("exportDataDone",function(_){t.CHM(e);const x=t.oxw();return t.KtG(x.exportStudentListDone(_))}),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("objs",e.exportStudentObjs)}}function Qo(a,g){1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"span",157),t._UZ(1,"lucide-icon",158),t.qZA())}function _t(a,g){1&a&&(t.TgZ(0,"span",157),t._UZ(1,"lucide-icon",158),t.qZA())}function Sn(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"li",57)(1,"button",159),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.openDialogAutoNumbering())}),t.O4$(),t.TgZ(2,"svg",37),t._UZ(3,"path",160)(4,"path",161)(5,"path",162)(6,"path",163)(7,"rect",164)(8,"rect",165),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()}2&a&&(t.xp6(9),t.hij(" ",t.lcZ(10,1,"lang_auto_danh_so_bao_danh")," "))}const dn=function(){return["fullName"]};let Pt=(()=>{class a extends m.Q{onSearchBox(e){this.searchContentObj=e}toggleExpandedContent(e){this.expandedItemIndex=this.expandedItemIndex===e?-1:e}copyLinkToClipboard(){return this.joinClassroomLink}convertNameForQR(){return"QR_Join_Classroom_"+this.commonService.convertVietnameseToEnglish(this.classroomObj?.name??this.classroomObj?.hashId??"")}exportListStudent(){this.exportStudentObjs=this.commonService.myClone(this.listStudents)}exportStudentListDone(e){let c=this.commonService.createFileNameExportFile(["list-student",this.classroomObj?.name??"danh-sach-hoc-sinh"])+".xlsx";this.shareFileFlutterService.shareFileWithBlob(e,c)}exportExcelForScoreOfClassroom(){this.loadingExport=!0;let e="";Ft.G.openLoadingEffect(this.commonService.myTranslateInstant("lang_auto_dang_lay_du_lieu_tu_he_thong")??""),this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataGetAllExamObjsOfClassroomIdGet(Number(this.classroomId)).subscribe(c=>{1==c.success?c.data?.objs&&c.data?.objs.length?this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(_=>{if(1==_.success){let x=_.data?.objs??new Array;this.prepareDataForExportScore(c.data?.objs??[],x).subscribe(Z=>{let P=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"",K=this.commonService.createFileNameExportFile([P,this.classroomObj?.name??""]);if(this.commonService.myTranslate(["lang_auto_tap_tin_dang_duoc_tai_xuong"]).subscribe(xt=>{e=xt.lang_auto_tap_tin_dang_duoc_tai_xuong,Ft.G.changeMsgLoadingEffect(e)}),this.classroomObj){const xt=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,Z,c.data?.objs);this.shareFileFlutterService.shareFileWithBlob(xt,K+".xlsx")}Ft.G.closeLoadingEffect(200),this.loadingExport=!1})}else this.errorStatusObj(_.message??"",!0),Ft.G.closeLoadingEffect(10),this.loadingExport=!1})):this.exportExcelForScoreHomeworkOfClassroom():(this.errorStatusObj(c.message??"",!0),Ft.G.closeLoadingEffect(10),this.loadingExport=!1)}))}exportExcelForScoreHomeworkOfClassroom(){this.loadingExport=!0;let e=this.commonService.myTranslateInstant("lang_auto_tong_ket_diem_lop")??"";this.waitDestroy(this.classroomExportDataService.apiClassroomExportDataExportHomeworkDataByClassroomIdGet(Number(this.classroomId)).subscribe(c=>{if(1==c.success){let _=this.commonService.createFileNameExportFile([e,this.classroomObj?.name??""]);if(this.classroomObj){const x=this.exportExcelService.exportExcelForScoreHomeworkOfClassroom(this.classroomObj,c.data?.objs??[]);this.shareFileFlutterService.shareFileWithBlob(x,_+".xlsx")}}else this.errorStatusObj(c.message??"",!0);Ft.G.closeLoadingEffect(10),this.loadingExport=!1}))}prepareDataForExportScore(e,c){return new ne.y(_=>{let x=this.commonService.myTranslateInstant("lang_export_classroom_score_counter_message")??"",Z=0,P=e.length,K=xt=>{Z<P?(Ft.G.changeMsgLoadingEffect(x+e[Z].name+" ("+(Z+1)+"/"+P+")"),this.waitDestroy(this.exportClassroomScoreApiService.getTestedAllResultByClassroomId("export_classroom",e[Z].id??0,this.classroomId,xt).subscribe(de=>{1==de.success?(de.data&&(xt=[...de.data]),Z++,K(xt)):_.error(de.message)}))):(_.next(xt),_.complete())};K(c)})}getNoticeObjsRequest(){this.waitDestroy(this.noticeService.apiNoticeGetAllNoticeRequestForClassGet(this.classroomId).subscribe(e=>{1==e.success?(e.data?.objs?.length??0)>0&&this.sAztDialogService.open(io,{width:"750px",data:{noticeObjs:e.data?.objs??[],classroomObj:this.classroomObj},restoreFocus:!1}):this.showErrorSnack("lang_auto_loi_khong_load_duoc_du_lieu_lop_hoc")}))}changeSortType(e){this.waitDestroy(this.classroomService.apiClassroomChangeSortTypeGet(this.classroomId,e).subscribe(c=>{1==c.success?(this.checkSortListStudent(e),this.classroomObj?.sortType&&(this.classroomObj.sortType=e),this.getData()):this.errorStatusObj(c.message??"",!0)}))}checkSortListStudent(e){this.listStudents=0==e?this.sortService.sortFirstNameStudents(this.commonService.myClone(this.rawStudentObjs)??[]):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(this.rawStudentObjs)??[],"pos","id")}onPositionChange(e,c,_,x){let Z="up"==e?1:"down"==e?2:3,P=3==Z?e??"":"",K=parseInt(P,10);this.waitDestroy(this.classroomService.apiClassroomChangePositionStudentGet(Number(3!=Z?c:K),Number(_),Number(x),Number(Z)).subscribe(de=>{1==de.success?this.getData():this.showErrorSnack(""==P&&3==Z?"lang_auto_loi_nhap_so_de_thay_doi_vi_tri_hs":"lang_auto_loi_khong_the_doi_vi_tri_hs")}))}changeAnonymousStudentStatus(e,c){this.waitDestroy(c?this.classroomService.apiClassroomChangeShowAddStudentGet(e,1).subscribe(_=>{1==_.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(_.message??"",!0)}):this.classroomService.apiClassroomChangeShowAddStudentGet(e,0).subscribe(_=>{1==_.success?this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong"):this.errorStatusObj(_.message??"",!0)}))}addStudentDialog(e){this.sAztDialogService.open(Tn,{width:"750px",data:{studentObjs:this.listStudents,classroomObj:e},restoreFocus:!1}).afterClosed().subscribe(_=>{_&&this.getData()})}deleteStudentDialog(e){this.sAztDialogService.open(Dn,{data:{studentObj:e,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(_=>{_&&this.getData()})}editStudentDialog(e){this.sAztDialogService.open(cn,{data:{studentObj:e,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(_=>{_&&this.getData()})}openDialogAutoNumbering(){this.sAztDialogService.open(Ce.G,{data:{classroomWithGroup:[],type:2,listCheckBox:this.classroomObj?.id?[this.classroomObj.id]:[],totalStudent:this.classroomObj?.countStudents},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(c=>{c&&this.getData()})}goToProfile(e,c){this.commonService.myNavigationWithQueryString("/admin/student/profile-student/"+e+"/"+c,"?backto="+encodeURIComponent(`/admin/student/classroom-details/${e}/0`))}goToMergeStudent(e){this.commonService.myNavigation("/admin/student/merge-student/"+e)}translateExportNote(){let e="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_one"),c="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_two"),_="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_three"),x="*"+this.commonService.myTranslateInstant("lang_auto_note_export_excel_class_detail_four");this.export=[e,c,_,x]}getData(){this.initStatusObj(),this.waitDestroy(this.studentProfileV2Service.apiStudentProfileV2GetObjsByClassroomIdGet(this.classroomId).subscribe(e=>{if(1==e.success){this.classroomObj=e?.data?.classroomObj,this.permissionObj=this.classroomObj?.permissionObj,this.checkAddStudent.setValue(1==this.classroomObj?.showAddStudent),this.rawStudentObjs=e?.data?.studentObjs,this.checkSortListStudent(e?.data?.classroomObj?.sortType);let _=this.commonService.getCurrentDomain();this.joinClassroomLink=`${_}/${this.commonService.getCurrentLang()}/student/join-classroom/${this.classroomObj?.hashId}`,this.countStudent=e?.data?.studentObjs?.length,this.hasStudents=!!(e?.data?.studentObjs&&e.data.studentObjs.length>0),this.getNoticeObjsRequest(),this.successStatusObj()}else this.errorStatusObj(e.message??"",!0)}))}checkValidFormIdentify(e){this.validFormIdentify=e.target instanceof HTMLInputElement&&Number(e.target.value)<=999999-(this.listStudents?.length??0)}handleTabActive(e){this.tabActive=e}ngOnInit(){super.ngOnInit(),this.translateExportNote(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id"));let e=this.commonService.getMyQueryParam("backto");this.backToLink=e??"/admin/student/manage-classroom/0",this.getData()}constructor(e,c,_,x,Z,P,K,xt,de,ho){super(),this.shareFileFlutterService=e,this.classroomService=c,this.classroomExportDataService=_,this.noticeService=x,this.activeRoute=Z,this.sortService=P,this.studentProfileV2Service=K,this.exportExcelService=xt,this.sAztDialogService=de,this.exportClassroomScoreApiService=ho,this.checkAddStudent=new D.NI(!1,{nonNullable:!0}),this.backToLink="",this.classroomId=0,this.export=[""],this.hasStudents=!1,this.validFormIdentify=!0,this.loadingExport=!1,this.expandedItemIndex=-1,this.joinClassroomLink="",this.tabActive=1,this.mouseDown=!1,this.searchContentObj=new rt.h,this.form=new D.cw({searchContent:new D.NI("",{nonNullable:!0,validators:[D.kI.required]}),startIdentifyIndex:new D.NI("",{nonNullable:!0,validators:[D.kI.min(1),D.kI.max(999999),D.kI.pattern(/^[0-9]*$/)]})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Xe.g),t.Y36(yn.um),t.Y36(Gt.Tg),t.Y36(qn.L$),t.Y36(et.gz),t.Y36(on.V),t.Y36(Gt.LU),t.Y36(On.L),t.Y36(me.C),t.Y36(F))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-student-list"]],viewQuery:function(e,c){if(1&e&&t.Gf(ao,5),2&e){let _;t.iGM(_=t.CRH())&&(c.slider=_.first)}},features:[t.qOj],decls:121,vars:106,consts:[[1,"grid","grid-cols-12","gap-6"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"isServerSearch","placeholder","onSearch"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-details-s9VkYOpJZKc","class","btn btn-primary btn-sm shadow-md mr-2",3,"click",4,"ngIf"],["azt-track-service","class-list-details--hDdQw7XTpD","class","btn btn-primary btn-sm shadow-md mr-2 azt-hidden md:flex",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt","class","btn btn-sm btn-primary shadow-md mr-2",3,"click",4,"ngIf"],["azt-track-service","class-list-details-_DnbWckI_DG","class","btn btn-sm px-2 box shadow-md mr-2 azt-hidden md:flex hover:bg-slate-100 dark:hover:bg-darkmode-400",3,"click",4,"ngIf"],[1,"dropdown"],["class","dropdown-toggle btn px-2 box",3,"matMenuTriggerFor",4,"ngIf"],[1,"col-span-12","md:col-span-6","items-center","intro-y"],[1,"text-lg","font-medium","mr-5"],[1,"mr-2","hiddenIpt","md:inlineBlockIpt",2,"vertical-align","middle"],["class","ml-1","class","pl-2 ml-2",3,"fileName","linkUrl","showLink",4,"ngIf"],[1,"mr-2","inlineBlockIpt","md:hiddenIpt",2,"vertical-align","middle"],[1,""],[3,"backToLink","objectCodeType","objectCode","objectId","classroomWithPermissionObj"],["class","col-span-12 md:col-span-6 md:text-right","style","max-width: 100%",4,"ngIf"],[1,"intro-y","col-span-12","overflow-auto"],[1,"azt-hidden","md:block"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap"],[1,"text-center","whitespace-nowrap"],["class","text-center whitespace-nowrap",4,"ngIf"],[4,"ngFor","ngForOf"],["class","text-center mt-4",4,"ngIf"],[1,"md:hidden"],["class","box p-3 mt-3",4,"ngFor","ngForOf"],[3,"objs","exportDataDone",4,"ngIf"],["xPosition","before"],["menu","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-details-NcMQ164X2B1",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M9 17H7A5 5 0 0 1 7 7h2"],["d","M15 7h2a5 5 0 1 1 0 10h-2"],["x1","8","y1","12","x2","16","y2","12"],["azt-track-service","class-list-details-woiwIJfYoz7",1,"dropdown-item","w-full",3,"click"],["d","M11 5h4"],["d","M11 9h7"],["d","M11 13h10"],["d","m3 17 3 3 3-3"],["d","M6 18V4"],["class","w-4 h-4 ml-2 text-success inline-block flex-none",4,"ngIf"],["azt-track-service","class-list-details-dc7h-1UoWkq",1,"dropdown-item","w-full",3,"click"],["x1","10","y1","6","x2","21","y2","6"],["x1","10","y1","12","x2","21","y2","12"],["x1","10","y1","18","x2","21","y2","18"],["d","M4 6h1v4"],["d","M4 10h2"],["d","M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"],[1,"ml-1",3,"matTooltip"],["class","block lg:hidden",4,"ngIf"],[1,"block","lg:hidden"],["azt-track-service","class-list-details-EPPk_ECcOhT",1,"dropdown-item","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","file-text","data-lucide","file-text",1,"lucide","lucide-file-text","flex-none","w-4","h-4","mr-2"],["d","M14.5 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],["azt-track-service","class-list-details-s9VkYOpJZKc",1,"btn","btn-primary","btn-sm","shadow-md","mr-2",3,"click"],[1,"flex-none","inline-block","w-4","h-4","mr-2"],["name","file-text"],["azt-track-service","class-list-details--hDdQw7XTpD",1,"btn","btn-primary","btn-sm","shadow-md","mr-2","azt-hidden","md:flex",3,"click"],["class","flex-none inline-block w-4 h-4 mr-2",4,"ngIf"],["class","flex-none inline-block w-4 h-4 mr-2 ",4,"ngIf"],["azt-track-service","class-list-details-Kp2fX-f5Nvt",1,"btn","btn-sm","btn-primary","shadow-md","mr-2",3,"click"],[1,"w-4","h-4","flex-none","inline-block","mr-2"],["name","plus"],["azt-track-service","class-list-details-_DnbWckI_DG",1,"btn","btn-sm","px-2","box","shadow-md","mr-2","azt-hidden","md:flex","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["name","binary"],[1,"dropdown-toggle","btn","px-2","box",3,"matMenuTriggerFor"],[1,"w-4","h-4","flex","items-center","justify-center"],["name","settings"],[1,"pl-2","ml-2",3,"fileName","linkUrl","showLink"],[1,"col-span-12","md:col-span-6","md:text-right",2,"max-width","100%"],[1,"box","px-5","py-2","inline-block","w-full","sm:w-auto"],[1,"form-check","form-switch"],["type","checkbox","id","check-add-student",1,"show-code","form-check-input","mr-3",3,"formControl","checked","change"],["for","check-add-student",1,"form-check-label","ml-0"],["azt-track-service","class-list-details-DbKkCgISc7I",1,"!py-3.5","clickable",3,"click"],[1,"flex","items-center"],[1,"w-9","h-9","image-fit","zoom-in","flex-none"],[3,"matTooltip","nameCreateAvatar","linkAvatar","size"],[1,"ml-4",2,"max-width","200px"],["class","font-medium whitespace-nowrap",3,"matTooltip",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",3,"matTooltip",4,"ngIf"],[1,"text-center","capitalize"],[1,"text-center"],[1,"w-40"],["class","flex items-center justify-center text-success",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-center","items-center"],["azt-track-service","class-list-details-IXPw9fo4fxc","class","flex items-center mr-3",3,"click",4,"ngIf"],["azt-track-service","class-list-details-O6dc04lZp9g","class","flex items-center text-danger",3,"click",4,"ngIf"],["style","padding: 5px; width: 50px",4,"ngIf"],[1,"font-medium","whitespace-nowrap",3,"matTooltip"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-slate-500","text-xs","mt-0.5",3,"matTooltip"],[1,"flex","items-center","justify-center","text-success"],[1,"w-4","h-4","mr-2","inline-block"],["name","check-square"],["azt-track-service","class-list-details-IXPw9fo4fxc",1,"flex","items-center","mr-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","class-list-details-O6dc04lZp9g",1,"flex","items-center","text-danger",3,"click"],["name","trash-2"],[2,"padding","5px","width","50px"],[2,"width","100%","text-align","center","border-left","1px solid #ccc","display","inline-grid","padding","5px"],["azt-track-service","class-list-details-DAInj2oep","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["type","text","appOnlyNumber","",1,"form-control","text-center",2,"padding","4px",3,"value","keyup.enter"],["myInput",""],["azt-track-service","class-list-details-piloTgTGAq","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-DAInj2oep",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","class-list-details-piloTgTGAq",1,"clickable",2,"width","100%","text-align","center",3,"click"],[1,"text-center","mt-4"],[1,"box","p-3","mt-3"],[1,"flex","items-center","text-sm"],[1,"flex","items-start","px-3"],["azt-track-service","class-list-details-PLih7noFG",1,"flex","items-center",3,"click"],[1,"w-9","h-9","image-fit","zoom-in"],[1,"ml-4",2,"max-width","150px"],["class","font-medium",3,"matTooltip",4,"ngIf"],["class","absolute right-0 top-0 mr-6 mt-3 dropdown",4,"ngIf"],["azt-track-service","class-list-details-pefaSVrkl",1,"ml-auto","mr-3","p-1","mt-6","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"click"],[1,"w-5","h-5","inline-block"],["name","chevron-down"],[1,"mt-2"],[1,"font-medium",3,"matTooltip"],[1,"absolute","right-0","top-0","mr-6","mt-3","dropdown"],[1,"dropdown-toggle","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","flex","items-center","rounded-md",3,"matMenuTriggerFor"],[1,"w-5","h-5","text-slate-500"],["name","more-horizontal"],["menuAction","matMenu"],[1,"dropdown-menu","show","relative","w-56"],["azt-track-service","class-list-details-Q6L3Qb4nL-","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-xA4MDIyq3o","class","dropdown-item",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Q6L3Qb4nL-",1,"dropdown-item",3,"click"],["azt-track-service","class-list-details-xA4MDIyq3o",1,"dropdown-item",3,"click"],[1,"flex","items-center","p-3","border-t","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md"],[1,"ml-auto"],["class","flex items-center p-3 border-t border-slate-200/60 dark:border-darkmode-400",4,"ngIf"],[1,"w-full"],[2,"width","100%","text-align","center","display","inline-grid","padding","5px"],["azt-track-service","class-list-details-uQr-XCrTnlF","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-Ad3KhS_O8H4","class","clickable","style","width: 100%; text-align: center",3,"click",4,"ngIf"],["azt-track-service","class-list-details-uQr-XCrTnlF",1,"clickable",2,"width","100%","text-align","center",3,"click"],["azt-track-service","class-list-details-Ad3KhS_O8H4",1,"clickable",2,"width","100%","text-align","center",3,"click"],[3,"objs","exportDataDone"],[1,"w-4","h-4","ml-2","text-success","inline-block","flex-none"],["name","check"],["azt-track-service","class-list-details-dQQjeblrGNo",1,"dropdown-item","w-full",3,"click"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"azt-search-box",4),t.NdJ("onSearch",function(x){return c.onSearchBox(x.searchObj)}),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",5),t.YNc(7,xo,5,3,"button",6),t.ALo(8,"viewPermission"),t.YNc(9,wi,5,5,"button",7),t.ALo(10,"viewPermission"),t.YNc(11,yi,5,3,"button",8),t.ALo(12,"editPermission"),t.YNc(13,qo,5,3,"button",9),t.ALo(14,"editPermission"),t.TgZ(15,"div",10),t.YNc(16,Oi,3,1,"button",11),t.qZA()()()(),t.TgZ(17,"div",12)(18,"h2",13),t._uU(19),t.TgZ(20,"span",14),t.YNc(21,Zn,1,3,"azt-download-qr-code",15),t.qZA(),t.TgZ(22,"span",16),t.YNc(23,An,1,3,"azt-download-qr-code",15),t.qZA()(),t.TgZ(24,"span",17),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t._UZ(27,"azt-share",18),t.qZA(),t.YNc(28,zn,9,7,"div",19),t.ALo(29,"editPermission"),t.TgZ(30,"div",20)(31,"div",21)(32,"div",22)(33,"drag-scroll")(34,"table",23)(35,"thead")(36,"tr")(37,"th",24),t._uU(38),t.ALo(39,"mytranslate"),t.qZA(),t.TgZ(40,"th",24),t._uU(41),t.ALo(42,"mytranslate"),t.qZA(),t.TgZ(43,"th",25),t._uU(44),t.ALo(45,"mytranslate"),t.qZA(),t.TgZ(46,"th",25),t._uU(47),t.ALo(48,"mytranslate"),t.qZA(),t.TgZ(49,"th",25),t._uU(50),t.ALo(51,"mytranslate"),t.qZA(),t.TgZ(52,"th",25),t._uU(53),t.ALo(54,"mytranslate"),t.qZA(),t.TgZ(55,"th",25),t._uU(56),t.ALo(57,"mytranslate"),t.qZA(),t.TgZ(58,"th",25),t._uU(59),t.ALo(60,"mytranslate"),t.qZA(),t.YNc(61,Jn,3,3,"th",26),t.ALo(62,"editPermission"),t.qZA()(),t.TgZ(63,"tbody"),t.YNc(64,Ei,35,38,"tr",27),t.ALo(65,"appFilter"),t.qZA()()()(),t.YNc(66,Pi,3,3,"div",28),t.ALo(67,"appFilter"),t.qZA(),t.TgZ(68,"div",29),t.YNc(69,Vi,19,19,"div",30),t.ALo(70,"appFilter"),t.qZA()()(),t.YNc(71,$i,1,1,"azt-export-excel-for-student-list",31),t.TgZ(72,"mat-menu",32,33)(74,"div",34)(75,"ul",35)(76,"li")(77,"button",36),t.NdJ("click",function(){return c.goToMergeStudent(null==c.classroomObj?null:c.classroomObj.id)}),t.O4$(),t.TgZ(78,"svg",37),t._UZ(79,"path",38)(80,"path",39)(81,"line",40),t.qZA(),t._uU(82),t.ALo(83,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(84,"li")(85,"button",41),t.NdJ("click",function(){return c.changeSortType(0)}),t.O4$(),t.TgZ(86,"svg",37),t._UZ(87,"path",42)(88,"path",43)(89,"path",44)(90,"path",45)(91,"path",46),t.qZA(),t._uU(92),t.ALo(93,"mytranslate"),t.YNc(94,Qo,2,0,"span",47),t.qZA()(),t.kcU(),t.TgZ(95,"li")(96,"button",48),t.NdJ("click",function(){return c.changeSortType(1)}),t.O4$(),t.TgZ(97,"svg",37),t._UZ(98,"line",49)(99,"line",50)(100,"line",51)(101,"path",52)(102,"path",53)(103,"path",54),t.qZA(),t.kcU(),t.TgZ(104,"span",55),t.ALo(105,"mytranslate"),t._uU(106),t.ALo(107,"mytranslate"),t.qZA(),t.YNc(108,_t,2,0,"span",47),t.qZA()(),t.YNc(109,Sn,11,3,"li",56),t.ALo(110,"editPermission"),t.TgZ(111,"li",57)(112,"button",58),t.NdJ("click",function(){return c.exportExcelForScoreOfClassroom()}),t.O4$(),t.TgZ(113,"svg",59),t._UZ(114,"path",60)(115,"polyline",61)(116,"line",62)(117,"line",63)(118,"line",64),t.qZA(),t._uU(119),t.ALo(120,"mytranslate"),t.qZA()()()()()),2&e&&(t.xp6(4),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(5,40,"lang_student_classroom_list_detail_search_name_student")),t.xp6(3),t.Q6J("ngIf",t.xi3(8,42,c.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(10,45,c.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(12,48,c.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(14,51,c.classroomObj,"student")),t.xp6(3),t.Q6J("ngIf",null!=(null==c.classroomObj?null:c.classroomObj.permissionObj)),t.xp6(3),t.AsE(" ",null==c.classroomObj?null:c.classroomObj.name," ( ",null==c.classroomObj?null:c.classroomObj.year," ) "),t.xp6(2),t.Q6J("ngIf",c.joinClassroomLink),t.xp6(2),t.Q6J("ngIf",c.joinClassroomLink),t.xp6(2),t.AsE("(",t.lcZ(26,54,"lang_student_classroom_list_detail_quantity"),": ",null!=c.classroomObj&&c.classroomObj.countStudents?null==c.classroomObj?null:c.classroomObj.countStudents:0,")"),t.xp6(2),t.Q6J("backToLink",c.backToLink)("objectCodeType",1)("objectCode","CLASSROOM")("objectId",c.classroomId)("classroomWithPermissionObj",c.classroomObj),t.xp6(1),t.Q6J("ngIf",t.xi3(29,56,c.classroomObj,"student")),t.xp6(10),t.Oqu(t.lcZ(39,59,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(42,61,"lang_auto_so_bao_danh")),t.xp6(3),t.Oqu(t.lcZ(45,63,"lang_gender")),t.xp6(3),t.Oqu(t.lcZ(48,65,"lang_birthday")),t.xp6(3),t.Oqu(t.lcZ(51,67,"lang_testbank_folder_and_file_status")),t.xp6(3),t.hij(" ",t.lcZ(54,69,"lang_auto_bai_tap_da_lam")," "),t.xp6(3),t.hij(" ",t.lcZ(57,71,"lang_auto_de_thi_da_lam")," "),t.xp6(3),t.Oqu(t.lcZ(60,73,"lang_auto_hanh_dong")),t.xp6(2),t.Q6J("ngIf",1==(null==c.classroomObj?null:c.classroomObj.sortType)&&t.xi3(62,75,c.classroomObj,"student")),t.xp6(3),t.Q6J("ngForOf",t.Dn7(65,78,c.listStudents,c.searchContentObj.searchContent,t.DdM(103,dn))),t.xp6(2),t.Q6J("ngIf",!c.hasStudents||0==t.Dn7(67,82,c.listStudents,c.searchContentObj.searchContent,t.DdM(104,dn)).length),t.xp6(3),t.Q6J("ngForOf",t.Dn7(70,86,c.listStudents,c.searchContentObj.searchContent,t.DdM(105,dn))),t.xp6(2),t.Q6J("ngIf",c.exportStudentObjs),t.xp6(11),t.hij(" ",t.lcZ(83,90,"lang_student_classroom_list_detail_merge_student")," "),t.xp6(10),t.hij(" ",t.lcZ(93,92,"lang_student_classroom_list_detail_sort_name")," "),t.xp6(2),t.Q6J("ngIf",0==(null==c.classroomObj?null:c.classroomObj.sortType)),t.xp6(10),t.s9C("matTooltip",t.lcZ(105,94,"lang_student_classroom_list_detail_request")),t.xp6(2),t.Oqu(t.lcZ(107,96,"lang_student_classroom_list_detail_change")),t.xp6(2),t.Q6J("ngIf",0!=(null==c.classroomObj?null:c.classroomObj.sortType)),t.xp6(1),t.Q6J("ngIf",t.xi3(110,98,c.classroomObj,"student")),t.xp6(10),t.hij(" ",t.lcZ(120,101,"lang_auto_xuat_bang_diem")," "))},dependencies:[Q.sg,Q.O5,z.Hw,X.VK,X.p6,kt.gM,D.Wl,D.JJ,D.oH,mt.g,Mt.W,tn.Y,en.S,it.n,Je.y,ht.W,an.HU,an.$Z,Zt.Nh5,L.JV,L.QN,L.om,L.Wr,L.Pf,L.J7,L.gw,L.YK],encapsulation:2,data:{animation:[(0,At.X$)("expandCollapse",[(0,At.SB)("open",(0,At.oB)({height:"*"})),(0,At.SB)("closed",(0,At.oB)({height:"0px"})),(0,At.eR)("open <=> closed",[(0,At.jt)("0.3s ease-in-out")])])]}}),a})();const sn=function(a){return{"text-white bg-primary":a}},Nn=function(a){return[a]};function Wi(a,g){if(1&a&&(t.TgZ(0,"a",23),t.ALo(1,"localize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",24),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&a){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(7,sn,3===e.tabActive))("routerLink",t.VKq(9,Nn,t.lcZ(1,3,"/admin/student/classroom-details/"+e.classroomId+"/3"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_student_educational_program"))}}function To(a,g){if(1&a&&(t.TgZ(0,"a",25),t.ALo(1,"localize"),t.TgZ(2,"div",5),t._UZ(3,"lucide-icon",8),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&a){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(7,sn,4===e.tabActive))("routerLink",t.VKq(9,Nn,t.lcZ(1,3,"/admin/student/classroom-details/"+e.classroomId+"/4"))),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_student_grade_sheet"))}}function Yo(a,g){1&a&&(t.TgZ(0,"div",19)(1,"div",20),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",19),t.YNc(5,Wi,7,11,"a",21),t.ALo(6,"async"),t.ALo(7,"allowFeatureBusinessForUser"),t.YNc(8,To,7,11,"a",22),t.ALo(9,"async"),t.ALo(10,"allowFeatureBusinessForUser"),t.qZA()()),2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_student_extensions")," "),t.xp6(3),t.Q6J("ngIf",t.lcZ(6,5,t.Dn7(7,7,"","training_center_curriculum_in_classroom",!1))),t.xp6(3),t.Q6J("ngIf",t.lcZ(9,11,t.Dn7(10,13,"","training_center_student_mark",!1))))}function Ki(a,g){1&a&&(t.TgZ(0,"div",26),t._UZ(1,"app-student-list"),t.qZA())}function xe(a,g){1&a&&(t.TgZ(0,"div",27),t._UZ(1,"app-exam-exercises",28),t.qZA()),2&a&&(t.xp6(1),t.Q6J("isStudent",!1))}function Xi(a,g){if(1&a&&(t.TgZ(0,"div",29),t._UZ(1,"app-news-board",30),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("classroomId",e.classroomId)("isStudent",!1)}}function Oe(a,g){1&a&&(t.TgZ(0,"div",31),t._UZ(1,"app-educational-program",28),t.qZA()),2&a&&(t.xp6(1),t.Q6J("isStudent",!1))}function Bo(a,g){1&a&&(t.TgZ(0,"div",32),t._UZ(1,"app-grand-board",28),t.qZA()),2&a&&(t.xp6(1),t.Q6J("isStudent",!1))}const Ho=function(a){return{"font-medium text-white bg-primary":a}};let ta=(()=>{class a extends m.Q{ngOnInit(){super.ngOnInit(),this.waitDestroy((0,r.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"id")),this.tabActive=Number(this.commonService.getMyParam(this.activeRoute,"tabId")),0==this.tabActive?this.commonService.translateMetaData({title:"lang_cms_classroom_student_list_title",description:"lang_cms_classroom_student_list_description",image:"lang_cms_test_image"}):1==this.tabActive?this.commonService.translateMetaData({title:"lang_cms_classroom_document_list_title",description:"lang_cms_classroom_document_list_description",image:"lang_cms_test_image"}):2==this.tabActive?this.commonService.translateMetaData({title:"lang_cms_classroom_news_board_title",description:"lang_cms_classroom_news_board_description",image:"lang_cms_test_image"}):3==this.tabActive?this.commonService.translateMetaData({title:"lang_cms_classroom_program_title",description:"lang_cms_classroom_program_description",image:"lang_cms_test_image"}):4==this.tabActive&&this.commonService.translateMetaData({title:"lang_cms_classroom_mark_board_title",description:"lang_cms_classroom_mark_board_description",image:"lang_cms_test_image"})}));let e=this.commonService.getMyQueryParam("backto");this.backToLink=e??"/admin/student/manage-classroom/0"}constructor(e){super(),this.activeRoute=e,this.backToLink="",this.tabActive=0,this.classroomId=0}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(et.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-teacher-classroom-details"]],features:[t.qOj],decls:38,vars:52,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","md:col-span-3","lg:col-span-2"],[1,"md:p-3","md:border-r","border-slate-200","dark:border-darkmode-400"],["azt-track-service","class-list-details-DVvCIvEs15",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],[1,"w-4","h-4","mr-2","flex-none"],["name","user"],["azt-track-service","class-list-details-Kp8HMxHLJW",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","calendar-check"],["azt-track-service","class-list-details-Fqqucj0PCd",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","newspaper"],["class","mt-3",4,"ngIf"],[1,"col-span-12","md:col-span-9","lg:col-span-10"],[1,"mt-3","md:px-3"],["class","student-list",4,"ngIf"],["class","exam-exercises",4,"ngIf"],["class","news-board",4,"ngIf"],["class","educational-program",4,"ngIf"],["class","grand-board",4,"ngIf"],[1,"mt-3"],[1,"font-medium","uppercase"],["azt-track-service","class-list-details-BDKFcoR84En","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-d91Lw-r2PR8","class","flex items-center px-3 py-2 rounded-md cursor-pointer",3,"ngClass","routerLink",4,"ngIf"],["azt-track-service","class-list-details-BDKFcoR84En",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],["name","library"],["azt-track-service","class-list-details-d91Lw-r2PR8",1,"flex","items-center","px-3","py-2","rounded-md","cursor-pointer",3,"ngClass","routerLink"],[1,"student-list"],[1,"exam-exercises"],[3,"isStudent"],[1,"news-board"],[3,"classroomId","isStudent"],[1,"educational-program"],[1,"grand-board"]],template:function(e,c){1&e&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t.ALo(6,"localize"),t.TgZ(7,"div",5),t._UZ(8,"lucide-icon",6),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"a",7),t.ALo(13,"localize"),t.TgZ(14,"div",5),t._UZ(15,"lucide-icon",8),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()(),t.TgZ(19,"a",9),t.ALo(20,"localize"),t.TgZ(21,"div",5),t._UZ(22,"lucide-icon",10),t.qZA(),t.TgZ(23,"span"),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()()(),t.YNc(26,Yo,11,17,"div",11),t.ALo(27,"async"),t.ALo(28,"allowFeatureBusinessForUser"),t.ALo(29,"async"),t.ALo(30,"allowFeatureBusinessForUser"),t.qZA()(),t.TgZ(31,"div",12)(32,"div",13),t.YNc(33,Ki,2,0,"div",14),t.YNc(34,xe,2,1,"div",15),t.YNc(35,Xi,2,2,"div",16),t.YNc(36,Oe,2,1,"div",17),t.YNc(37,Bo,2,1,"div",18),t.qZA()()()()),2&e&&(t.Q6J("headerBackToLink",c.backToLink),t.xp6(5),t.Q6J("ngClass",t.VKq(40,sn,0===c.tabActive))("routerLink",t.VKq(42,Nn,t.lcZ(6,16,"/admin/student/classroom-details/"+c.classroomId+"/0"))),t.xp6(5),t.Oqu(t.lcZ(11,18,"lang_cms_classroom_student_list_title")),t.xp6(2),t.Q6J("ngClass",t.VKq(44,sn,1===c.tabActive))("routerLink",t.VKq(46,Nn,t.lcZ(13,20,"/admin/student/classroom-details/"+c.classroomId+"/1"))),t.xp6(5),t.Oqu(t.lcZ(18,22,"lang_document_exam_exercises")),t.xp6(2),t.Q6J("ngClass",t.VKq(48,Ho,2===c.tabActive))("routerLink",t.VKq(50,Nn,t.lcZ(20,24,"/admin/student/classroom-details/"+c.classroomId+"/2"))),t.xp6(5),t.Oqu(t.lcZ(25,26,"lang_student_news_board")),t.xp6(2),t.Q6J("ngIf",t.lcZ(27,28,t.Dn7(28,30,"","training_center_curriculum_in_classroom",!1))||t.lcZ(29,34,t.Dn7(30,36,"","training_center_student_mark",!1))),t.xp6(7),t.Q6J("ngIf",0===c.tabActive),t.xp6(1),t.Q6J("ngIf",1===c.tabActive),t.xp6(1),t.Q6J("ngIf",2===c.tabActive),t.xp6(1),t.Q6J("ngIf",3===c.tabActive),t.xp6(1),t.Q6J("ngIf",4===c.tabActive))},dependencies:[et.rH,Q.mk,Q.O5,st._,Zt.Nh5,Tt.y,$,G.Y,pt.A,Pt,Q.Ov,L.JV,L.J8,l.lO],encapsulation:2}),a})();var Co=f(68719),be=f(51261);function Go(a,g){1&a&&t._UZ(0,"azt-loading-effect")}function Ro(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"tr")(1,"td",20)(2,"div",21)(3,"div",22),t._UZ(4,"azt-create-avatar",23),t.qZA(),t.TgZ(5,"div",24)(6,"a",25),t._uU(7),t.qZA()()()(),t.TgZ(8,"td",26),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"td",27)(12,"div",28),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()(),t.TgZ(15,"td",27)(16,"div",29),t._uU(17),t.ALo(18,"mytranslate"),t.ALo(19,"mytranslate"),t.qZA()(),t.TgZ(20,"td",27)(21,"div",29),t._uU(22),t.ALo(23,"mytranslate"),t.ALo(24,"mytranslate"),t.qZA()(),t.TgZ(25,"td",30),t._uU(26),t.ALo(27,"formatOnlyDateByUserUnitPipe"),t.qZA(),t.TgZ(28,"td",30)(29,"input",31),t.NdJ("change",function(_){const Z=t.CHM(e).$implicit,P=t.oxw(2);return t.KtG(P.setAttendance("receivedDocument",Z.id,_))}),t.qZA()(),t.TgZ(30,"td",30)(31,"input",31),t.NdJ("change",function(_){const Z=t.CHM(e).$implicit,P=t.oxw(2);return t.KtG(P.setAttendance("absent",Z.id,_))}),t.qZA()(),t.TgZ(32,"td",30)(33,"input",32),t.NdJ("change",function(_){const Z=t.CHM(e).$implicit,P=t.oxw(2);return t.KtG(P.setAttendance("permission",Z.id,_))}),t.qZA()(),t.TgZ(34,"td",30)(35,"textarea",33),t.NdJ("input",function(_){const Z=t.CHM(e).$implicit,P=t.oxw(2);return t.KtG(P.setReasonAttendance(Z.id,_))}),t.ALo(36,"mytranslate"),t.qZA()()()}if(2&a){const e=g.$implicit;let c,_;t.xp6(4),t.Q6J("nameCreateAvatar",e.fullName)("linkAvatar",e.avatar)("size",36),t.xp6(3),t.hij(" ",e.fullName," "),t.xp6(2),t.Oqu(t.lcZ(10,23,0==e.gender?"lang_gender_female":"lang_gender_male")),t.xp6(2),t.Q6J("ngClass",e.totalRemainAmount>0?"red":"settled"==e.status?"yellowgreen":"darkgray"),t.xp6(2),t.hij(" ",t.lcZ(14,25,e.totalRemainAmount>0?"lang_auto_chua_nop_du":"settled"==e.status?"lang_auto_da_nop":"lang_core_hoc_thu")," "),t.xp6(2),t.Q6J("ngClass",e.totalRemainHomework>0||e.noHomework?"darkgray":e.finishHomework?"yellowgreen":"red"),t.xp6(2),t.hij(" ",t.lcZ(18,27,e.totalRemainHomework>0?t.lcZ(19,29,"lang_auto_chua_hoan_thanh")+" ("+e.totalRemainHomework.toString()+")":e.noHomework?"lang_auto_hoan_thanh":e.finishHomework?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.xp6(3),t.Q6J("ngClass",e.totalRemainExam>0||e.noExam?"darkgray":e.finishExam?"yellowgreen":"red"),t.xp6(2),t.hij(" ",t.lcZ(23,31,e.totalRemainExam>0?t.lcZ(24,33,"lang_auto_chua_hoan_thanh")+" ("+e.totalRemainExam.toString()+")":e.noExam?"lang_auto_hoan_thanh":e.finishExam?"lang_auto_da_nop":"lang_auto_chua_nop")," "),t.xp6(4),t.hij(" ",t.lcZ(27,35,e.birthday)," "),t.xp6(3),t.Q6J("id",e.id)("checked",0!=(null!==(c=null==e.attendance?null:e.attendance.receivedDocument)&&void 0!==c?c:0)),t.xp6(2),t.Q6J("id",e.id)("checked",0!=(null!==(_=null==e.attendance?null:e.attendance.absent)&&void 0!==_?_:0)),t.xp6(2),t.Q6J("disabled",!(null!=e.attendance&&e.attendance.absent))("id","attendance_permission_"+e.id)("checked",0!=(null==e.attendance?null:e.attendance.permission)),t.xp6(2),t.s9C("placeholder",t.lcZ(36,37,"lang_business_reason_for_leave")),t.Q6J("id","attendance_reason_"+e.id)("disabled",!(null!=e.attendance&&e.attendance.absent))("value",null==e.attendance?null:e.attendance.reason)}}const ea=function(){return[]},ko=function(){return["fullName"]};function na(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"h3",5),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",6)(6,"div",7)(7,"div",8)(8,"azt-search-box",9),t.NdJ("onSearch",function(_){t.CHM(e);const x=t.oxw();return t.KtG(x.onSearchBox(_.searchObj))}),t.ALo(9,"mytranslate"),t.qZA()(),t.TgZ(10,"flexed-on-the-top",10)(11,"button",11),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.saveAttendance())}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()()()(),t.TgZ(14,"div",12)(15,"div")(16,"div",13)(17,"table",14)(18,"thead")(19,"tr")(20,"th",15),t._uU(21),t.ALo(22,"mytranslate"),t.qZA(),t.TgZ(23,"th",16),t._uU(24),t.ALo(25,"mytranslate"),t.qZA(),t.TgZ(26,"th",16),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"th",17),t._uU(30),t.ALo(31,"mytranslate"),t.qZA(),t.TgZ(32,"th",18),t._uU(33),t.ALo(34,"mytranslate"),t.qZA(),t.TgZ(35,"th",16),t._uU(36),t.ALo(37,"mytranslate"),t.qZA(),t.TgZ(38,"th",16)(39,"div"),t._uU(40),t.ALo(41,"mytranslate"),t.qZA(),t._uU(42),t.ALo(43,"mytranslate"),t.qZA(),t.TgZ(44,"th",16),t._uU(45),t.ALo(46,"mytranslate"),t.qZA(),t.TgZ(47,"th",16),t._uU(48),t.ALo(49,"mytranslate"),t.qZA(),t.TgZ(50,"th",16),t._uU(51),t.ALo(52,"mytranslate"),t.qZA()()(),t.TgZ(53,"tbody"),t.YNc(54,Ro,37,39,"tr",19),t.ALo(55,"appFilter"),t.qZA()()()()()}if(2&a){const e=t.oxw();let c;t.xp6(3),t.Oqu(t.lcZ(4,17,"lang_student_attendance_student")),t.xp6(5),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(9,19,"lang_auto_tim_kiem")),t.xp6(2),t.Q6J("colorBackground","#f0f8ffe8"),t.xp6(2),t.hij(" ",t.lcZ(13,21,"lang_auto_luu")," "),t.xp6(9),t.Oqu(t.lcZ(22,23,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(25,25,"lang_gender")),t.xp6(3),t.Oqu(t.lcZ(28,27,"lang_core_hoc_phi")),t.xp6(3),t.Oqu(t.lcZ(31,29,"lang_student_frontend_dashboard_homework")),t.xp6(3),t.Oqu(t.lcZ(34,31,"lang_auto_only_de_thi")),t.xp6(3),t.Oqu(t.lcZ(37,33,"lang_birthday")),t.xp6(4),t.hij(" ",t.lcZ(41,35,"lang_core_da_phat")," "),t.xp6(2),t.hij(" ",t.lcZ(43,37,"lang_auto_tai_lieu")," "),t.xp6(3),t.hij(" ",t.lcZ(46,39,"lang_business_vang_mat")," "),t.xp6(3),t.hij(" ",t.lcZ(49,41,"lang_business_da_xin_phep")," "),t.xp6(3),t.Oqu(t.lcZ(52,43,"lang_auto_ly_do")),t.xp6(3),t.Q6J("ngForOf",t.Dn7(55,45,null!==(c=null==e.dataStudents?null:e.dataStudents.list)&&void 0!==c?c:t.DdM(49,ea),e.searchContentObj.searchContent,t.DdM(50,ko)))}}let Vo=(()=>{class a extends m.Q{onSearchBox(e){this.searchContentObj=e}setAttendance(e,c,_){var Z=_.target.checked?1:0,P=this.dataStudents.list.findIndex(xt=>xt.id==c);if(P>=0){var K=this.listAttendanceNew.findIndex(xt=>xt.id==c);if("absent"==e&&this.dataStudents&&this.dataStudents.list[P]&&(this.dataStudents.list[P].attendance.absent=Z,0==Z)){this.dataStudents.list[P].attendance.permission=0,this.dataStudents.list[P].attendance.reason="";let xt=document.getElementById("attendance_permission_"+c),de=document.getElementById("attendance_reason_"+c);xt&&xt.checked&&xt.click(),de&&(de.value="")}if(K>=0){let xt="permission"==e?Z:this.listAttendanceNew[K]?.permission;this.listAttendanceNew[K]={id:c,absent:"absent"==e?Z:this.listAttendanceNew[K]?.absent,permission:xt,receivedDocument:"receivedDocument"==e?Z:this.listAttendanceNew[K]?.receivedDocument,reason:xt?this.listAttendanceNew[K]?.reason:""}}else this.listAttendanceNew.push({id:c,absent:"absent"==e?Z:this.dataStudents?.list[P].attendance?.absent,permission:"permission"==e?Z:this.dataStudents?.list[P].attendance?.permission,receivedDocument:"receivedDocument"==e?Z:this.dataStudents?.list[P].attendance?.receivedDocument,reason:""})}}setReasonAttendance(e,c){var _=c.target,x=this.dataStudents.list.findIndex(P=>P.id==e);if(x>=0){var Z=this.listAttendanceNew.findIndex(P=>P.id==e);Z>=0?this.listAttendanceNew[Z]={id:e,absent:this.listAttendanceNew[Z]?.absent,permission:this.listAttendanceNew[Z]?.permission,receivedDocument:this.listAttendanceNew[Z]?.receivedDocument,reason:_.value}:this.listAttendanceNew.push({id:e,absent:this.dataStudents?.list[x].attendance?.absent,permission:this.dataStudents?.list[x].attendance?.permission,receivedDocument:this.dataStudents?.list[x].attendance?.receivedDocument,reason:_.value})}}saveAttendance(){let e={programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,students:this.listAttendanceNew};0==this.listAttendanceNew.length&&this.errorStatusObj("lang_business_ban_chua_thay_doi_hoc_sinh_nao",!0),this.waitDestroy(this.studentService.apiStudentsAttendancesPost(e).subscribe(c=>{c.success?(this.getListStudent(),this.showSuccessSnack("lang_auth_user_setting_unit_save_success")):this.errorStatusObj("lang_business_diem_danh_khong_thanh_cong",!0)}))}getListStudent(){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:-1,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!1,getMark:!0,getAttendance:!0,me:!1}).subscribe(c=>{c?(c.list.forEach(_=>{_.attendance||(_.attendance={id:0,programId:this.programId,sessionId:this.sessionId,classroomId:this.classroomId,studentId:_.id,absent:0,permission:0,reason:""})},c.list),this.dataStudents=c,this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0)}))}ngOnInit(){(0,r.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id"));let e=this.commonService.getMyQueryParam("backto");this.backToLink=e??"/business/dashboard"}),this.getListStudent(),super.ngOnInit()}constructor(e,c,_){super(),this.cd=e,this.activeRoute=c,this.studentService=_,this.backToLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.listAttendanceNew=[],this.searchContentObj=new rt.h}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(t.sBO),t.Y36(et.gz),t.Y36(Co.V))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-attendance-student"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"grid","grid-cols-12","gap-6"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"flex","flex-col","sm:flex-row"],[1,"w-full","sm:w-auto","mr-auto","mb-3","sm:mb-0"],[3,"isServerSearch","placeholder","onSearch"],[3,"colorBackground"],[1,"btn","btn-primary","sm:w-40","w-full","shadow-md",3,"click"],[1,"intro-y","col-span-12","overflow-auto"],[2,"height","100%","min-width","1100px"],[1,"table","table-report","mt-2",2,"white-space","initial"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"text-center","whitespace-nowrap"],[1,"text-center","whitespace-nowrap","px-3"],[1,"text-center","whitespace-nowrap","px-2"],[4,"ngFor","ngForOf"],[1,"!py-3.5","clickable"],[1,"flex","items-center"],[1,"w-9","h-9","image-fit","zoom-in"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-4"],[1,"font-medium","whitespace-nowrap"],[1,"text-center","capitalize"],[1,"text-center",3,"ngClass"],[1,"mx-auto"],[1,"mx-auto",2,"width","max-content"],[1,"text-center"],["type","checkbox",1,"form-check-input",3,"id","checked","change"],["type","checkbox",1,"form-check-input",3,"disabled","id","checked","change"],["type","text",1,"form-control",2,"min-width","80px",3,"id","disabled","placeholder","value","input"]],template:function(e,c){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,Go,1,0,"azt-loading-effect",1),t.YNc(2,na,56,51,"ng-template",null,2,t.W1O),t.qZA()),2&e){const _=t.MAs(3);t.Q6J("headerBackToLink",c.backToLink),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",_)}},dependencies:[Q.mk,Q.sg,Q.O5,dt.l,mt.g,be.s,ht.W,st._,L.JV,L.om,L.YK],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}.red[_ngcontent-%COMP%]{color:red}.yellowgreen[_ngcontent-%COMP%]{color:#9acd32}.darkgray[_ngcontent-%COMP%]{color:#a9a9a9}"]}),a})();var $o=f(36294),Wo=f(83306);function Ko(a,g){1&a&&t._UZ(0,"azt-loading-effect")}function wo(a,g){1&a&&(t.TgZ(0,"div",25),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_list_null")," "))}const Xo=function(a){return{width:a}};function ti(a,g){if(1&a&&(t.TgZ(0,"div",26)(1,"div",27)(2,"div",28,29),t._UZ(4,"img",30),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",31)(7,"div",32),t._uU(8),t.qZA(),t.TgZ(9,"div",33),t._uU(10),t.qZA()()()()),2&a){const e=g.$implicit,c=t.MAs(3);t.xp6(4),t.s9C("src",""!=e.iconLink&&e.iconLink?e.iconLink:"https://mockup.textandtool.com/images/diendanh/u4711.svg",t.LSH),t.s9C("alt",t.lcZ(5,6,"lang_core_anh_sach")),t.xp6(2),t.Q6J("ngStyle",t.VKq(8,Xo,"calc(100% -  "+(c.offsetWidth+12)+"px)")),t.xp6(1),t.s9C("matTooltip",e.name),t.xp6(1),t.Oqu(e.name),t.xp6(2),t.Oqu(e.description)}}function so(a,g){if(1&a&&(t.TgZ(0,"th",34)(1,"div",35),t._uU(2),t.qZA()()),2&a){const e=g.$implicit;t.xp6(1),t.s9C("matTooltip",e.name),t.xp6(1),t.hij(" ",e.name," ")}}function ro(a,g){if(1&a&&(t.TgZ(0,"div",47),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.phone," ")}}function Fn(a,g){if(1&a&&(t.TgZ(0,"div",48),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit;t.s9C("matTooltip",e.email),t.xp6(1),t.hij(" ",e.email," ")}}const Ze=function(){return[]};function ei(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"td",45)(1,"input",49),t.NdJ("change",function(_){t.CHM(e);const x=t.oxw().$implicit,Z=t.oxw(2);return t.KtG(Z.setStatusBook(x,_))}),t.qZA()()}if(2&a){const e=g.$implicit,c=t.oxw().$implicit,_=t.oxw(2);let x;t.xp6(1),t.MGl("id","input-book-",e.id,""),t.Q6J("checked",_.checkStatusDistribute(e,null!==(x=c.books)&&void 0!==x?x:t.DdM(3,Ze)))("value",e.id)}}function oa(a,g){if(1&a&&(t.TgZ(0,"tr")(1,"td",36)(2,"div",37)(3,"div",38),t._UZ(4,"azt-create-avatar",39),t.qZA(),t.TgZ(5,"div",40)(6,"a",41),t._uU(7),t.qZA(),t.YNc(8,ro,2,1,"div",42),t.YNc(9,Fn,2,2,"div",43),t.qZA()()(),t.TgZ(10,"td",44),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"td",45),t._uU(14),t.ALo(15,"formatOnlyDateByUserUnitPipe"),t.qZA(),t.YNc(16,ei,2,4,"td",46),t.qZA()),2&a){const e=g.$implicit,c=t.oxw(2);let _;t.xp6(4),t.Q6J("nameCreateAvatar",e.fullName)("linkAvatar",e.avatar)("size",36),t.xp6(3),t.hij(" ",e.fullName," "),t.xp6(1),t.Q6J("ngIf",e.phone),t.xp6(1),t.Q6J("ngIf",e.email),t.xp6(2),t.Oqu(t.lcZ(12,9,0==e.gender?"lang_gender_female":"lang_gender_male")),t.xp6(3),t.hij(" ",t.lcZ(15,11,e.birthday)," "),t.xp6(2),t.Q6J("ngForOf",null!==(_=null==c.listBook?null:c.listBook.list)&&void 0!==_?_:t.DdM(13,Ze))}}function ia(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",50),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",51),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(2);return t.KtG(_.search(_.searchContentObj))}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_core_not_found_student"),"... "),t.xp6(3),t.Oqu(t.lcZ(5,4,"lang_powerpoint_frontend_chart_back")))}function ni(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",11),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,wo,3,3,"div",12),t.TgZ(5,"div",13),t.YNc(6,ti,11,10,"div",14),t.qZA(),t.TgZ(7,"div",15)(8,"azt-paging",16),t.NdJ("goToPaginationPage",function(_){t.CHM(e);const x=t.oxw();return t.KtG(x.setPageBook(_))}),t.qZA()()(),t.TgZ(9,"div",17)(10,"div",18)(11,"drag-scroll")(12,"table",19)(13,"thead")(14,"tr")(15,"th",20),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"th",21),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"th",21),t._uU(22),t.ALo(23,"mytranslate"),t.qZA(),t.YNc(24,so,3,2,"th",22),t.qZA()(),t.TgZ(25,"tbody"),t.YNc(26,oa,17,14,"tr",23),t.qZA()()()(),t.YNc(27,ia,6,6,"div",24),t.qZA()}if(2&a){const e=t.oxw();let c,_,x,Z,P;t.xp6(2),t.Oqu(t.lcZ(3,11,"lang_core_thong_tin_sach")),t.xp6(2),t.Q6J("ngIf",!(null!=e.listBook&&e.listBook.list&&0!=(null==e.listBook?null:e.listBook.total)||""!=e.searchContentObj.searchContent)),t.xp6(2),t.Q6J("ngForOf",null!==(c=null==e.listBook?null:e.listBook.list)&&void 0!==c?c:t.DdM(19,Ze)),t.xp6(2),t.Q6J("totalPaginationPage",(null!==(_=null==e.listBook?null:e.listBook.total)&&void 0!==_?_:0)/12)("paging",1),t.xp6(8),t.Oqu(t.lcZ(17,13,"lang_auto_ho_va_ten")),t.xp6(3),t.Oqu(t.lcZ(20,15,"lang_gender")),t.xp6(3),t.Oqu(t.lcZ(23,17,"lang_birthday")),t.xp6(2),t.Q6J("ngForOf",null!==(x=null==e.listBook?null:e.listBook.list)&&void 0!==x?x:t.DdM(20,Ze)),t.xp6(2),t.Q6J("ngForOf",null!==(Z=null==e.listStudent?null:e.listStudent.list)&&void 0!==Z?Z:t.DdM(21,Ze)),t.xp6(1),t.Q6J("ngIf",0==(null!==(P=null==e.listStudent?null:e.listStudent.list)&&void 0!==P?P:t.DdM(22,Ze)).length&&""!=e.searchContentObj.searchContent)}}let aa=(()=>{class a extends m.Q{search(e){this.searchContentObj.setLoading(!0),this.searchContentObj=e,0==(this.listStudent?.list??[]).length?(this.getListStudent(),this.searchContentObj.searchContent=""):this.getListStudent(this.searchContentObj.searchContent)}setPageBook(e){this.pageBook=e,this.getBooks()}checkStatusDistribute(e,c){for(let _=0;_<c.length;_++)if(c[_].bookId==e.id)return!0;return!1}getBooks(){this.waitDestroy(this.bookService.apiBooksListPost({page:this.pageBook,size:12,programId:this.programId}).subscribe(c=>{c?(this.listBook=c,this.stopStatusObj()):this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_sach",!0)}))}setStatusBook(e,c){var _=c.target;if(_.checked){var x={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:e.id,bookId:Number(_.value),activate:_.checked};this.waitDestroy(this.studentService.apiStudentsBooksPatch(x).subscribe(P=>{P.success||(document.getElementById("input-book-"+_.value).checked=!_.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}else{var Z={classroomId:this.classroomId,programId:this.programId,sessionId:this.sessionId,studentId:e.id,bookId:Number(_.value)};this.waitDestroy(this.studentService.apiStudentsBooksDeletePost(Z).subscribe(P=>{P.success||(document.getElementById("input-book-"+_.value).checked=!_.checked,this.showErrorSnack("lang_core_doi_trang_thai_sach_khong_thanh_cong"))}))}}getListStudent(e){this.waitDestroy(this.studentService.apiStudentsListPost({page:1,size:-1,name:e,programId:this.programId,classroomId:this.classroomId,sessionId:this.sessionId,getBook:!0,getMark:!0,getAttendance:!0,me:!1}).subscribe(_=>{_?(this.listStudent=_,this.getBooks(),this.searchContentObj.setLoading(!1)):(this.errorStatusObj("lang_core_loi_khi_lay_danh_sach_hoc_sinh",!0),this.searchContentObj.setLoading(!1))}))}ngOnInit(){(0,r.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id"));let e=this.commonService.getMyQueryParam("backto");this.backLink=e??"/business/dashboard"}),this.getListStudent(),super.ngOnInit()}constructor(e,c,_){super(),this.bookService=e,this.studentService=c,this.activeRoute=_,this.backLink="",this.classroomId=0,this.programId=0,this.sessionId=0,this.pageBook=1,this.searchContentObj=new rt.h}}return a.\u0275fac=function(e){return new(e||a)(t.Y36($o.Z),t.Y36(Co.V),t.Y36(et.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-distribute-documents"]],features:[t.qOj],decls:14,vars:11,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","md:col-span-6"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"intro-y","flex","flex-col","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mr-auto"],[3,"isServerSearch","placeholder","searchContentObj","onSearch"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"col-span-12","mt-3"],[1,"text-base","font-medium","mb-2"],["class","flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-4",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-3"],[3,"totalPaginationPage","paging","goToPaginationPage"],[1,"intro-y","col-span-12","overflow-auto"],[2,"height","100%"],["drag-scroll-item","",1,"table","table-report","mt-2",2,"white-space","initial","display","table"],[1,"whitespace-nowrap",2,"padding-left","0"],[1,"text-center","whitespace-nowrap"],["class","text-center whitespace-nowrap","style","max-width: 100px !important",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","flex justify-center mt-2",4,"ngIf"],[1,"flex","items-center","justify-center"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-4"],[1,"flex","w-70","box-book"],[1,"box-image"],["imageBook",""],["id","blah",3,"src","alt"],[1,"ml-3",3,"ngStyle"],[1,"text-sm","font-medium","truncate",3,"matTooltip"],[1,"scroll"],[1,"text-center","whitespace-nowrap",2,"max-width","100px !important"],[1,"truncate",3,"matTooltip"],[1,"!py-3.5","clickable"],[1,"flex","items-center"],[1,"w-9","h-9","image-fit","zoom-in"],[3,"nameCreateAvatar","linkAvatar","size"],[1,"ml-4",2,"max-width","200px"],[1,"truncate","font-medium"],["class","text-slate-500 text-xs mt-0.5",4,"ngIf"],["class","text-slate-500 text-xs mt-0.5",3,"matTooltip",4,"ngIf"],[1,"text-center","capitalize"],[1,"text-center"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-slate-500","text-xs","mt-0.5"],[1,"text-slate-500","text-xs","mt-0.5",3,"matTooltip"],["type","checkbox",1,"form-check-input",3,"id","checked","value","change"],[1,"flex","justify-center","mt-2"],[1,"clickable",2,"color","#2262ae !important",3,"click"]],template:function(e,c){if(1&e&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"azt-search-box",7),t.NdJ("onSearch",function(x){return c.search(x.searchObj)}),t.ALo(10,"mytranslate"),t.qZA()()()()(),t.YNc(11,Ko,1,0,"azt-loading-effect",8),t.YNc(12,ni,28,23,"ng-template",null,9,t.W1O),t.qZA()),2&e){const _=t.MAs(13);t.Q6J("headerBackToLink",c.backLink),t.xp6(4),t.Oqu(t.lcZ(5,7,"lang_student_distribute_books")),t.xp6(5),t.Q6J("isServerSearch",!0)("placeholder",t.lcZ(10,9,"lang_core_tim_theo_ten_phone_email"))("searchContentObj",c.searchContentObj),t.xp6(2),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",_)}},dependencies:[Q.sg,Q.O5,Q.PC,kt.gM,dt.l,Wo.L,mt.g,ht.W,st._,an.HU,an.$Z,L.JV,L.YK],styles:[".add-image-label[_ngcontent-%COMP%]{background:skyblue;display:flex;position:relative;bottom:48px;line-height:12px;width:40px;padding:5px;left:17px;font-size:10px;text-align:center;border-radius:2px}.input-name-book[_ngcontent-%COMP%]{height:25px;border-radius:5px;font-size:12px}.textarea-description[_ngcontent-%COMP%]{height:69px;max-height:70px;border-radius:5px;font-size:12px}.box-image[_ngcontent-%COMP%]{height:102px;width:76px;border:2px solid lightgray;border-radius:3px;display:grid}.box-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:72px;max-height:98px;margin:auto}.box-book[_ngcontent-%COMP%]{background-color:#fff;border:none;border-radius:5px;padding:.5rem;height:118px;min-width:300px}.truncate[_ngcontent-%COMP%]{max-width:100%!important}.scroll[_ngcontent-%COMP%]{overflow:auto;max-height:78px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px;width:8px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:darkgray}"]}),a})();var sa=f(9400);let oi=(()=>{class a extends m.Q{ngOnInit(){(0,r.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.initStatusObj(),this.classroomId=Number(this.commonService.getMyParam(this.activeRoute,"classroom_id")),this.programId=Number(this.commonService.getMyParam(this.activeRoute,"program_id")),this.sessionId=Number(this.commonService.getMyParam(this.activeRoute,"session_id"));let e=this.commonService.getMyQueryParam("backTo");this.backToLink=e??"/business/dashboard"}),super.ngOnInit()}constructor(e){super(),this.activeRoute=e,this.backToLink="",this.isShowData=!1,this.classroomId=0,this.programId=0,this.sessionId=0}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(et.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-enter-score"]],features:[t.qOj],decls:2,vars:6,consts:[[3,"headerBackToLink"],[3,"isStudent","screenType","classroomId","programId","sessionId"]],template:function(e,c){1&e&&(t.TgZ(0,"teacher-layout",0),t._UZ(1,"app-table-score",1),t.qZA()),2&e&&(t.Q6J("headerBackToLink",c.backToLink),t.xp6(1),t.Q6J("isStudent",!1)("screenType","ENTER_SCORE")("classroomId",c.classroomId)("programId",c.programId)("sessionId",c.sessionId))},dependencies:[st._,sa.B],styles:[".truncate[_ngcontent-%COMP%]{max-width:100%!important}"]}),a})();var Y=f(9345),Mn=f(75470),ut=f(87466),un=f(98525);function Ae(a,g){1&a&&(t.TgZ(0,"div",32),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_enter_class")," "))}function _n(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2);t.xp6(1),t.hij("- ",e.selectedYearValue+1,"")}}function In(a,g){if(1&a&&(t.TgZ(0,"mat-option",33),t._uU(1),t.YNc(2,_n,2,1,"span",34),t.qZA()),2&a){const e=g.$implicit,c=t.oxw();t.Q6J("value",e),t.xp6(1),t.hij("",e," "),t.xp6(1),t.Q6J("ngIf",c.selectedYearValue==e)}}function Qn(a,g){1&a&&(t.TgZ(0,"div",35),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" *",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_school_year"),". "))}function yo(a,g){if(1&a&&(t.TgZ(0,"span",43),t._uU(1),t.qZA()),2&a){const e=t.oxw(3).$implicit;t.xp6(1),t.Oqu(e.groupObj.name)}}function Yn(a,g){if(1&a&&(t.TgZ(0,"span",44),t._uU(1),t.qZA()),2&a){const e=t.oxw(3).$implicit;t.s9C("matTooltip",e.groupObj.name),t.xp6(1),t.Oqu(e.groupObj.name)}}function Bn(a,g){if(1&a&&(t.TgZ(0,"mat-radio-button",40),t.YNc(1,yo,2,1,"span",41),t.YNc(2,Yn,2,2,"span",42),t.qZA()),2&a){const e=t.oxw(2).$implicit;t.Q6J("value",e.groupObj.id),t.xp6(1),t.Q6J("ngIf",e.groupObj.name&&e.groupObj.name.length<15),t.xp6(1),t.Q6J("ngIf",e.groupObj.name&&e.groupObj.name.length>=15)}}function ii(a,g){if(1&a&&(t.TgZ(0,"div",38),t.YNc(1,Bn,3,3,"mat-radio-button",39),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.groupObj)}}function ra(a,g){if(1&a&&(t.TgZ(0,"div",45)(1,"mat-radio-button",40),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("value",e.fakeGroupValue),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_student_classroom_list_other")," ")}}function Se(a,g){if(1&a&&(t.ynx(0),t.YNc(1,ii,2,1,"div",36),t.YNc(2,ra,4,4,"div",37),t.BQk()),2&a){const e=g.$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.groupObj&&-1!=e.groupObj.id),t.xp6(1),t.Q6J("ngIf",null==e.groupObj)}}function Xt(a,g){1&a&&(t.TgZ(0,"div",46),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_name_group")," "))}function Oo(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"a",47),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.isShowCreateGroupOfClassroomOfClassroomBox(!0))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_+_them_nhom")))}function Zo(a,g){1&a&&(t._UZ(0,"input",48,49),t.ALo(2,"mytranslate")),2&a&&t.s9C("placeholder",t.lcZ(2,1,"lang_auto_ten_nhom_vd_khoi_1_khoi_2"))}function ai(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",50)(1,"button",51),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.createNewGroupOfClassroom())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",52),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.isShowCreateGroupOfClassroomOfClassroomBox(!1))}),t.O4$(),t.TgZ(5,"svg",53),t._UZ(6,"line",54)(7,"line",55),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.form.controls.nameGroup.errors),t.xp6(1),t.Oqu(t.lcZ(3,2,"lang_auto_tao_nhom"))}}function pn(a,g){1&a&&(t.TgZ(0,"div",56),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" *",t.lcZ(2,1,"lang_student_classroom_list_utils_create_class_request_enter_name_group"),". "))}function Ao(a,g){1&a&&(t.TgZ(0,"span",59),t._UZ(1,"azt-loading-ui"),t.qZA())}function So(a,g){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",57),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.saveClassroomObj())}),t.YNc(2,Ao,2,0,"span",58),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.BQk()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("disabled",e.statusObj.loading||e.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(4,3,"lang_button_save")," ")}}function la(a,g){1&a&&(t.TgZ(0,"span",59),t._UZ(1,"azt-loading-ui"),t.qZA())}function ca(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"button",60),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.updateClassroomObj())}),t.YNc(1,la,2,0,"span",58),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("disabled",e.statusObj.loading||e.form.controls.nameClass.errors),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(3,3,"lang_button_update")," ")}}let si=(()=>{class a extends le.e{closeDialog(){this.dialogRef.close(!!this.hasCreateNewGroup)}createNewGroupOfClassroom(){if(this.initStatusObj(),this.form.controls.nameGroup.valid){this.isShowCreateGroupOfClassroom=!1;let e={groupName:this.form.getRawValue().nameGroup};this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomGroupPost(e).subscribe(c=>{1==c.success?(this.hasCreateNewGroup=!0,this.getClassroomObjs(),this.successStatusObj("lang_auto_them_nhom_thanh_cong",!0)):this.errorStatusObj(c.message??"",!0)}))}}isShowCreateGroupOfClassroomOfClassroomBox(e){this.form.controls.nameGroup.setValue(""),this.isShowCreateGroupOfClassroom=e}updateClassroomObj(){this.initStatusObj();let c=this.form.getRawValue().group;-1==c&&(c=void 0);let _={id:this.classroomObj?.id??0,classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:c??0};0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid?this.stopStatusObj():this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomWithGroupPost(_).subscribe(x=>{1==x.success?x.data?.isDuplicatedClassroomName?(this.errorStatusObj(x.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac",!0),this.dialogRef.close(!!this.hasCreateNewGroup)):(this.successStatusObj("lang_auto_sua_lop_hoc_thanh_cong",!0),this.dialogRef.close(!0)):(this.dialogRef.close(!!this.hasCreateNewGroup),this.errorStatusObj("lang_auto_sua_lop_hoc_khong_thanh_cong",!0))}))}saveClassroomObj(){this.initStatusObj();let c=this.form.getRawValue().group;-1==c&&(c=void 0);let _={classroomName:this.form.getRawValue().nameClass,year:this.selectedYearValue+` - ${this.selectedYearValue+1}`,groupId:c};0==this.form.controls.nameClass.valid||0==this.form.controls.year.valid||0==this.form.controls.group.valid?this.stopStatusObj():this.waitDestroy(this.classroomGroupService.apiClassroomGroupCreateClassroomWithGroupPost(_).subscribe(x=>{1==x.success?x.data?.isDuplicatedClassroomName?(this.showErrorSnack(x.data?.isStorage?"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_o_muc_luu_tru_vui_long_dat_ten_khac":"lang_auto_da_ton_tai_lop_hoc_trong_nien_khoa_vui_long_dat_ten_khac"),this.closeDialog()):(this.successStatusObj("lang_auto_them_lop_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_auto_them_lop_hoc_khong_thanh_cong",!0),this.closeDialog())}))}handleData(){let e=(new Date).getFullYear();for(let Z=e-20;Z<=e+40;Z++)this.years.push(Z);null!=this.classroomObj&&(null==this.classroomObj.year&&(this.classroomObj.year=""),null==this.classroomObj.classroomGroupId&&(this.classroomObj.classroomGroupId=this.fakeGroupValue));let c=this.classroomObj?this.classroomObj?.year?.split(" ")[0]:"";this.selectedYearValue=""!=c?parseInt(c??"",10):e;let _=this.classroomObj?this.classroomObj.classroomGroupId:this.fakeGroupValue;this.form=new D.cw({nameClass:new D.NI(this.classroomObj?this.classroomObj.name:"",{nonNullable:!0,validators:[D.kI.required]}),nameGroup:new D.NI("",{nonNullable:!0,validators:[D.kI.required]}),group:new D.NI(_,{nonNullable:!0,validators:[D.kI.required]}),year:new D.NI(this.selectedYearValue,{nonNullable:!0,validators:[D.kI.required]})})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet().subscribe(e=>{1==e.success?(this.activeClassroomData=e?.data?.classroomData,this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}ngOnInit(){this.handleData(),this.getClassroomObjs()}constructor(e,c,_){super(_,c),this.classroomGroupService=e,this.dialogRef=c,this.data=_,this.selectedYearValue=0,this.isShowCreateGroupOfClassroom=!1,this.fakeGroupValue=-1,this.years=[],this.hasCreateNewGroup=!1,this.classroomObj=_.classroomObj,this.form=new D.cw({nameClass:new D.NI("",{nonNullable:!0,validators:[D.kI.required]}),nameGroup:new D.NI("",{nonNullable:!0,validators:[D.kI.required]}),group:new D.NI(0,{nonNullable:!0,validators:[D.kI.required]}),year:new D.NI(0,{nonNullable:!0,validators:[D.kI.required]})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Mn.c8),t.Y36(St.so,8),t.Y36(St.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-create-or-classroom"]],features:[t.qOj],decls:46,vars:33,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class"],[1,"mt-2"],["for","nameClass",1,"form-label"],["type","text","id","nameClass","formControlName","nameClass",1,"form-control",3,"placeholder"],["class","text-xs text-danger mt-1",4,"ngIf"],[1,"mt-3"],["for","year",1,"form-label"],["appearance","outline"],["formControlName","year","id","year",3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["class","text-xs text-danger mt-1","style","width: 100%; margin: auto;",4,"ngIf"],[1,"rounded","mt-3","border","border-slate-200/60","dark:border-darkmode-400","overflow-hidden"],[1,"bg-slate-200","dark:bg-darkmode-400","p-3"],[1,"pt-2"],["formControlName","group"],[1,"grid","grid-cols-10","gap-4","sm:gap-6","azt-create-update-classroom","px-3"],[4,"ngFor","ngForOf"],["class","text-danger text-danger mt-1",4,"ngIf"],[1,"p-3","flex","flex-col","md:flex-row","md:items-center"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN","class","m-1 btn-text-primary",3,"click",4,"ngIf"],["type","text","class","form-control mr-2","style","width: auto","formControlName","nameGroup",3,"placeholder",4,"ngIf"],["class","flex",4,"ngIf"],["class","text-danger pl-5 pb-2","style","max-width: 250px;",4,"ngIf"],[1,"p-3","text-right"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],[4,"ngIf","ngIfElse"],["updateData",""],[1,"text-xs","text-danger","mt-1"],[3,"value"],[4,"ngIf"],[1,"text-xs","text-danger","mt-1",2,"width","100%","margin","auto"],["class","col-span-12 sm:col-span-4 md:col-span-3 xl:col-span-3 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-4 md:col-span-3 xl:col-span-3",4,"ngIf"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3","w-full"],["color","primary","class","w-full",3,"value",4,"ngIf"],["color","primary",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer;",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"col-span-12","sm:col-span-4","md:col-span-3","xl:col-span-3"],[1,"text-danger","text-danger","mt-1"],["azt-track-service","create-or-update-classroom-dialog-IkZTwVIN9fN",1,"m-1","btn-text-primary",3,"click"],["type","text","formControlName","nameGroup",1,"form-control","mr-2",2,"width","auto",3,"placeholder"],["nameGroup",""],[1,"flex"],["azt-track-service","create-or-update-classroom-dialog-93qcHBpjZM3",1,"btn","block","btn-primary","mr-2","ml-0","md:ml-2","mt-2","md:mt-0",3,"disabled","click"],["azt-track-service","create-or-update-classroom-dialog-F4XQrjncsAd",1,"btn","block","btn-secondary","mt-2","md:mt-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"text-danger","pl-5","pb-2",2,"max-width","250px"],["azt-track-service","create-or-update-classroom-dialog-GmD3tfo-w-8",1,"btn","w-24","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"]],template:function(e,c){if(1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"azt-mat-dialog-content")(9,"div",5)(10,"div",6)(11,"label",7),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t._UZ(14,"input",8),t.ALo(15,"mytranslate"),t.YNc(16,Ae,3,3,"div",9),t.qZA(),t.TgZ(17,"div",10)(18,"label",11),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"mat-form-field",12)(22,"mat-select",13),t.NdJ("valueChange",function(x){return c.selectedYearValue=x}),t.YNc(23,In,3,3,"mat-option",14),t.qZA()(),t.YNc(24,Qn,3,3,"div",15),t.qZA(),t.TgZ(25,"div",16)(26,"div",17),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"div",18)(30,"mat-radio-group",19)(31,"div",20),t.YNc(32,Se,3,2,"ng-container",21),t.qZA()(),t.YNc(33,Xt,3,3,"div",22),t.TgZ(34,"div",23),t.YNc(35,Oo,3,3,"a",24),t.YNc(36,Zo,3,3,"input",25),t.YNc(37,ai,8,4,"div",26),t.qZA(),t.YNc(38,pn,3,3,"div",27),t.qZA()()()()(),t.TgZ(39,"div",28)(40,"button",29),t.NdJ("click",function(){return c.closeDialog()}),t._uU(41),t.ALo(42,"mytranslate"),t.qZA(),t.YNc(43,So,5,5,"ng-container",30),t.YNc(44,ca,4,5,"ng-template",null,31,t.W1O),t.qZA()()()),2&e){const _=t.MAs(45);t.xp6(1),t.Q6J("formGroup",c.form),t.xp6(4),t.hij(" ",c.classroomObj?t.lcZ(7,21,"lang_student_classroom_list_utils_create_class_update_class"):t.lcZ(6,19,"lang_student_classroom_list_utils_create_class_add_class")," "),t.xp6(7),t.hij(" ",t.lcZ(13,23,"lang_auto_ten_lop")," "),t.xp6(2),t.s9C("placeholder",t.lcZ(15,25,"lang_auto_nhap_ten_lop")),t.xp6(2),t.Q6J("ngIf",c.form.controls.nameClass.dirty&&c.form.controls.nameClass.errors),t.xp6(3),t.hij(" ",t.lcZ(20,27,"lang_auto_nam_hoc")," "),t.xp6(3),t.Q6J("value",c.selectedYearValue),t.xp6(1),t.Q6J("ngForOf",c.years),t.xp6(1),t.Q6J("ngIf",c.form.controls.year.dirty&&c.form.controls.year.errors),t.xp6(3),t.hij(" ",t.lcZ(28,29,"lang_student_classroom_list_utils_create_class_choose_group_class")," "),t.xp6(5),t.Q6J("ngForOf",c.activeClassroomData),t.xp6(1),t.Q6J("ngIf",c.form.controls.group.dirty&&c.form.controls.group.errors),t.xp6(2),t.Q6J("ngIf",0==c.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",1==c.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",c.isShowCreateGroupOfClassroom),t.xp6(1),t.Q6J("ngIf",c.isShowCreateGroupOfClassroom&&c.form.controls.nameGroup.dirty&&c.form.controls.nameGroup.errors),t.xp6(3),t.Oqu(t.lcZ(42,31,"lang_button_cancel")),t.xp6(2),t.Q6J("ngIf",!c.classroomObj)("ngIfElse",_)}},dependencies:[Q.sg,Q.O5,De.ey,re.KE,ut.VQ,ut.U0,un.gD,kt.gM,D._Y,D.Fj,D.JJ,D.JL,D.sg,D.u,Ue.M,_e.R,it.n,L.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:90px;vertical-align:middle;cursor:pointer}@media (max-width: 640px){.truncate[_ngcontent-%COMP%]{max-width:180px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),a})();function Hn(a,g){1&a&&(t.TgZ(0,"span",10),t._UZ(1,"azt-loading-ui"),t.qZA())}let ma=(()=>{class a extends le.e{closeDialog(e){this.dialogRef.close(e)}deleteGroupOfClassroom(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomGroupGet(this.currentGroupOfClassroomDataThatIsEdited?.id??0).subscribe(e=>{1==e.success?(this.showSuccessSnack("lang_auto_xoa_nhom_thanh_cong"),this.successStatusObj(),this.closeDialog(!0)):(this.errorStatusObj(e.message??"",!0),this.dialogRef.close())}))}constructor(e,c,_){super(_,c),this.classroomGroupService=e,this.dialogRef=c,this.data=_,this.currentGroupOfClassroomDataThatIsEdited=_.groupObj}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Mn.c8),t.Y36(St.so,8),t.Y36(St.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-delete-group"]],features:[t.qOj],decls:17,vars:12,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","text-right"],[1,"btn","w-24","btn-secondary","mr-3",3,"click"],[1,"btn","w-24","btn-danger",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"span",5),t._uU(8),t.qZA()()()()(),t.TgZ(9,"div",6)(10,"button",7),t.NdJ("click",function(){return c.closeDialog(!1)}),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"button",8),t.NdJ("click",function(){return c.deleteGroupOfClassroom()}),t.YNc(14,Hn,2,0,"span",9),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,6,"lang_student_classroom_list_utils_delete_group")," "),t.xp6(3),t.Oqu(null==c.currentGroupOfClassroomDataThatIsEdited?null:c.currentGroupOfClassroomDataThatIsEdited.name),t.xp6(3),t.hij(" ",t.lcZ(12,8,"lang_button_cancel")," "),t.xp6(2),t.Q6J("disabled",1==c.statusObj.loading),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(16,10,"lang_button_delete")," "))},dependencies:[Q.O5,it.n,L.JV],encapsulation:2}),a})();var da=f(23433);function ua(a,g){1&a&&(t.TgZ(0,"span",10),t._UZ(1,"azt-loading-ui"),t.qZA())}let _a=(()=>{class a extends le.e{closeDialog(e){this.dialogRef.close(e)}deleteClassroomObj(){this.classroomObj.isShareClassroom?this.updateClasstoGroup():(this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupDeleteClassroomObjGet(this.classroomObj?.id??0).subscribe(e=>{1==e.success?(this.successStatusObj("lang_auto_xoa_lop_hoc_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_auto_xoa_lop_hoc_khong_thanh_cong",!0),this.dialogRef.close())})))}updateClasstoGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classroomObj.id}).subscribe(c=>{1==c.success?(this.successStatusObj("lang_core_xoa_nhom_lop_thanh_cong",!0),this.closeDialog(!0)):(this.errorStatusObj("lang_core_xoa_nhom_lop_khong_thanh_cong",!0),this.closeDialog(!1))})}constructor(e,c,_){super(_,c),this.classroomGroupService=e,this.dialogRef=c,this.data=_,this.classroomObj=_.classroomObj}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Mn.c8),t.Y36(St.so,8),t.Y36(St.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-teacher-delete-classroom"]],features:[t.qOj],decls:18,vars:15,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"intro"],[1,"text-base","mr-auto"],[1,"font-medium"],[1,"p-3","text-right"],["azt-track-service","delete-classroom-plZFV82pDhH",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-classroom-f8Z8p51QYG8",1,"btn","w-24","btn-danger",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.TgZ(8,"span",5),t._uU(9),t.qZA()()()()(),t.TgZ(10,"div",6)(11,"button",7),t.NdJ("click",function(){return c.closeDialog(!1)}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"button",8),t.NdJ("click",function(){return c.deleteClassroomObj()}),t.YNc(15,ua,2,0,"span",9),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(5),t.AsE(" ",c.classroomObj.isShareClassroom?t.lcZ(6,7,"lang_core_bo_quyen_luu_y_sau_khi_xoa_lop_duoc_chia_se"):""," ",t.lcZ(7,9,"lang_student_classroom_list_utils_delete_class")," "),t.xp6(4),t.Oqu(c.classroomObj.name),t.xp6(3),t.hij(" ",t.lcZ(13,11,"lang_button_cancel")," "),t.xp6(2),t.Q6J("disabled",1==c.statusObj.loading),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(17,13,"lang_button_delete")," "))},dependencies:[Q.O5,it.n,L.JV],encapsulation:2}),a})();function ri(a,g){1&a&&(t.TgZ(0,"span",15),t._UZ(1,"azt-loading-ui"),t.qZA())}function pa(a,g){if(1&a&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const e=t.oxw(3).$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.groupObj.name))}}function ga(a,g){if(1&a&&(t.TgZ(0,"span",24),t.ALo(1,"mytranslate"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&a){const e=t.oxw(3).$implicit;t.s9C("matTooltip",t.lcZ(1,2,e.groupObj.name)),t.xp6(2),t.Oqu(t.lcZ(3,4,e.groupObj.name))}}function ha(a,g){if(1&a&&(t.TgZ(0,"mat-radio-button",20),t.YNc(1,pa,3,3,"span",21),t.YNc(2,ga,4,6,"span",22),t.qZA()),2&a){const e=t.oxw(2).$implicit;t.Q6J("value",e.groupObj.id),t.xp6(1),t.Q6J("ngIf",e.groupObj.name&&e.groupObj.name.length<15),t.xp6(1),t.Q6J("ngIf",e.groupObj.name&&e.groupObj.name.length>=15)}}function fa(a,g){if(1&a&&(t.TgZ(0,"div",18),t.YNc(1,ha,3,3,"mat-radio-button",19),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.groupObj)}}function xa(a,g){1&a&&(t.TgZ(0,"div",25)(1,"mat-radio-button",20),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a&&(t.xp6(1),t.Q6J("value",0),t.xp6(1),t.hij(" ",t.lcZ(3,2,"lang_student_classroom_list_other")," "))}function ba(a,g){if(1&a&&(t.ynx(0),t.YNc(1,fa,2,1,"div",16),t.YNc(2,xa,4,4,"div",17),t.BQk()),2&a){const e=g.$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.groupObj),t.xp6(1),t.Q6J("ngIf",null==e.groupObj)}}function li(a,g){1&a&&(t.TgZ(0,"span",26),t._UZ(1,"azt-loading-ui"),t.qZA())}let va=(()=>{class a extends le.e{closeDialog(){this.dialogRef.close()}chooseGroup(){let e=this.form.getRawValue();this.groupId=-1==e.groupId?void 0:e.groupId}updateClasstoGroup(){this.classroomGroupService.apiClassroomGroupUpdateShareClassroomGroupPost({id:this.classId,groupId:this.groupId}).subscribe(c=>{1==c.success?(this.successStatusObj("lang_core_di_chuyen_nhom_thanh_cong",!0),this.dialogRef.close(!0)):(this.errorStatusObj("lang_core_di_chuyen_nhom_khong_thanh_cong",!0),this.closeDialog())})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet().subscribe(c=>{if(1==c.success){this.activeClassroomData=c?.data?.classroomData;for(let x=0;x<(this.activeClassroomData?.length??0);x++){var _=this.activeClassroomData[x]?.classroomObjs;for(let Z=0;Z<_.length;Z++)_[Z].id==this.classId&&(this.form=new D.cw({groupId:new D.NI(null==this.activeClassroomData[x].groupObj?.id?0:this.activeClassroomData[x].groupObj?.id,{nonNullable:!0,validators:[D.kI.required]})}))}this.successStatusObj()}else this.errorStatusObj(c.message??"",!0)}))}ngOnInit(){this.getClassroomObjs()}constructor(e,c,_){super(_,c),this.classroomGroupService=e,this.dialogRef=c,this.data=_,this.classId=0,this.classId=_.classId,this.form=new D.cw({groupId:new D.NI(void 0,{nonNullable:!0,validators:[D.kI.required]})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Mn.c8),t.Y36(St.so,8),t.Y36(St.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-move-classroom-to-group"]],features:[t.qOj],decls:22,vars:14,consts:[[1,"box"],[3,"formGroup"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"text-md","font-medium","flex","items-center"],[1,"p-5","pt-0","list-class","list-group"],[1,"pt-2"],["class","w-4 h-4 inline-block",4,"ngIf"],["formControlName","groupId",3,"change"],[1,"grid","grid-cols-12","gap-4","sm:gap-6","azt-create-update-classroom"],[4,"ngFor","ngForOf"],[1,"p-3","text-right"],["azt-track-service","create-or-update-classroom-dialog-kKoehX_GgaD",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["azt-track-service","create-or-update-classroom-dialog-0CediNQ9Hz7",1,"btn","w-32","btn-primary",3,"disabled","click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6 w-full",4,"ngIf"],["class","col-span-12 sm:col-span-6 md:col-span-6 xl:col-span-6",4,"ngIf"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6","w-full"],["color","primary","size","small","class","w-full",3,"value",4,"ngIf"],["color","primary","size","small",1,"w-full",3,"value"],["style","vertical-align: middle; cursor: pointer;",4,"ngIf"],["class","truncate",3,"matTooltip",4,"ngIf"],[2,"vertical-align","middle","cursor","pointer"],[1,"truncate",3,"matTooltip"],[1,"col-span-12","sm:col-span-6","md:col-span-6","xl:col-span-6"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"h3",4),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"azt-mat-dialog-content")(8,"div",5)(9,"div",6),t.YNc(10,ri,2,0,"span",7),t.TgZ(11,"mat-radio-group",8),t.NdJ("change",function(){return c.chooseGroup()}),t.TgZ(12,"div",9),t.YNc(13,ba,3,2,"ng-container",10),t.qZA()()()()()(),t.TgZ(14,"div",11)(15,"button",12),t.NdJ("click",function(){return c.closeDialog()}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"button",13),t.NdJ("click",function(){return c.updateClasstoGroup()}),t.YNc(19,li,2,0,"span",14),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",c.form),t.xp6(4),t.hij(" ",t.lcZ(6,8,"lang_core_chon_nhom_lop_muon_chuyen_sang")," "),t.xp6(5),t.Q6J("ngIf",c.statusObj.loading),t.xp6(3),t.Q6J("ngForOf",c.activeClassroomData),t.xp6(3),t.Oqu(t.lcZ(17,10,"lang_button_cancel")),t.xp6(2),t.Q6J("disabled",c.form.controls.groupId.errors),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(21,12,"lang_button_update")," "))},dependencies:[Q.sg,Q.O5,ut.VQ,ut.U0,kt.gM,D._Y,D.JJ,D.JL,D.sg,D.u,Ue.M,_e.R,it.n,L.JV],styles:[".truncate[_ngcontent-%COMP%]{max-width:210px;vertical-align:middle;cursor:pointer;margin-left:-5px}.list-group[_ngcontent-%COMP%]   .mdc-radio__inner-circle[_ngcontent-%COMP%]{border-width:7px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio__background[_ngcontent-%COMP%]{width:15px!important;height:15px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]   .mdc-radio__native-control[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{padding:calc((var(--mdc-radio-state-layer-size, 30px) - 20px) / 2)}.list-group[_ngcontent-%COMP%]   .mat-mdc-radio-button[_ngcontent-%COMP%]   .mat-radio-ripple[_ngcontent-%COMP%]{width:25px!important;height:25px!important}.list-group[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{display:flex!important;width:auto!important;height:auto!important}@media (max-width: 767px){.truncate[_ngcontent-%COMP%]{max-width:190px}.list-class[_ngcontent-%COMP%]{max-height:60vh}}"]}),a})();function Ta(a,g){if(1&a&&(t.TgZ(0,"div",14)(1,"a",15),t.NdJ("click",function(c){return c.stopPropagation()}),t.O4$(),t.TgZ(2,"svg",16),t._UZ(3,"circle",17)(4,"circle",18)(5,"circle",19),t.qZA()()()),2&a){t.oxw();const e=t.MAs(15);t.xp6(1),t.Q6J("matMenuTriggerFor",e)}}function Ca(a,g){1&a&&(t.TgZ(0,"div",20)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_homework_add_home_work_share")))}function Gn(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"li")(1,"a",21),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.editClassroomDialog())}),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"path",23)(4,"path",24),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&a&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_sua_lop")," "))}function ka(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"li")(1,"a",25),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.copyClassroomObj())}),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"rect",26)(4,"path",27),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&a&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_nhan_ban_lop")," "))}function wa(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"li")(1,"a",28),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.moveClassroomToStorage())}),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"ellipse",29)(4,"path",30)(5,"path",31),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&a&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_dua_vao_luu_tru")," "))}function ya(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"li")(1,"a",32),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.moveSharedClassroomToStorage())}),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"ellipse",29)(4,"path",30)(5,"path",31),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}2&a&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_dua_vao_luu_tru")," "))}function Oa(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"li")(1,"a",33),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.moveClassroomFromStorageToActive())}),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"path",34)(4,"path",35)(5,"path",36)(6,"path",37),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&a&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_khoi_phuc")," "))}function Za(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"li")(1,"a",38),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.moveSharedClassroomFromStorageToActive())}),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"path",34)(4,"path",35)(5,"path",36)(6,"path",37),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}2&a&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_auto_khoi_phuc")," "))}function Aa(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"li")(1,"a",38),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.updateClassroom())}),t.O4$(),t.TgZ(2,"svg",22),t._UZ(3,"path",39)(4,"path",40)(5,"path",41)(6,"path",42)(7,"path",43),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()()}2&a&&(t.xp6(8),t.hij(" ",t.lcZ(9,1,"lang_core_sua_di_chuyen")," "))}function Sa(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"li")(1,"a",44),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.deleteClassroomDialog())}),t.O4$(),t.TgZ(2,"svg",45),t._UZ(3,"polyline",46)(4,"path",47),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&a&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_xoa_lop")," "))}let Na=(()=>{class a extends m.Q{goToListStudent(){let e=this.commonService.getMyQueryParam("programId");this.commonService.myNavigation("/admin/student/classroom-details/"+this.classroomObj.id+(e?"/3":"/0"))}goToMergeList(){this.commonService.myNavigation("/admin/student/merge-student/"+this.classroomObj.id)}updateClassroom(){this.sAztDialogService.open(va,{data:{classId:this.classroomObj.id},width:"550px",restoreFocus:!1}).afterClosed().subscribe(c=>{c&&this.eventOfClassroomMenu.emit(!0)})}moveClassroomToStorage(){this.classroomGroupService.apiClassroomGroupMoveClassroomToStorageGet(this.classroomObj.id??0).subscribe(e=>{1==e.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj("lang_auto_dua_vao_luu_tru_khong_thanh_cong")})}moveSharedClassroomToStorage(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:5}).subscribe(c=>{1==c.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_dua_vao_luu_tru_thanh_cong")):this.errorStatusObj(c.message??"")})}moveClassroomFromStorageToActive(){this.classroomGroupService.apiClassroomGroupRestoreClassroomGet(this.classroomObj.id??0).subscribe(e=>{1==e.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj("lang_auto_khoi_phuc_lop_hoc_khong_thanh_cong")})}moveSharedClassroomFromStorageToActive(){this.permissionTeamService.apiPermissionTeamConfirmPermissionPost({objectId:this.classroomObj.id??0,objectCode:"CLASSROOM",status:2}).subscribe(c=>{1==c.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_khoi_phuc_lop_hoc_thanh_cong")):this.errorStatusObj(c.message??"")})}editClassroomDialog(){this.sAztDialogService.open(si,{data:{classroomObj:this.classroomObj},width:"550px",restoreFocus:!1}).afterClosed().subscribe(c=>{c&&this.eventOfClassroomMenu.emit(!0)})}deleteClassroomDialog(){this.sAztDialogService.open(_a,{width:"400px",data:{classroomObj:this.classroomObj},restoreFocus:!1}).afterClosed().subscribe(c=>{c&&this.eventOfClassroomMenu.emit(!0)})}copyClassroomObj(){this.showSuccessSnack("lang_auto_dang_nhan_ban_lop_hoc_vui_long_doi_trong_giay_lat_doing"),this.classroomGroupService.apiClassroomGroupCopyClassroomGet(this.classroomObj.id??0).subscribe(e=>{1==e.success?(this.eventOfClassroomMenu.emit(!0),this.successStatusObj("lang_auto_nhan_ban_lop_hoc_thanh_cong",!0)):this.errorStatusObj("lang_auto_nhan_ban_lop_hoc_khong_thanh_cong",!0)})}ngOnInit(){super.ngOnInit()}constructor(e,c,_){super(),this.classroomGroupService=e,this.permissionTeamService=c,this.sAztDialogService=_,this.eventOfClassroomMenu=new t.vpe,this.screenTemplate=""}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Mn.c8),t.Y36(Mn.sb),t.Y36(me.C))},a.\u0275cmp=t.Xpm({type:a,selectors:[["azt-information-class-box"]],inputs:{classroomObj:"classroomObj",screenTemplate:"screenTemplate"},outputs:{eventOfClassroomMenu:"eventOfClassroomMenu"},features:[t.qOj],decls:29,vars:31,consts:[["azt-track-service","information-class-box-lTAPwcAOtkX",1,"file","box","rounded-md","px-5","pt-5","pb-5","px-3","sm:px-4","relative","cursor-pointer",3,"click"],[1,"flex","items-center"],[1,"block","font-medium","truncate",2,"max-width","70%",3,"matTooltip","isDisabledTooltip","matTooltipDisabled"],["c","isDisabled"],["class","ml-auto",4,"ngIf"],[1,"flex"],[1,"text-slate-500","mr-auto","text-xs","mt-2"],[1,"text-slate-500","text-xs","mt-2"],["class","ribbon",4,"ngIf"],["xPosition","before"],["classroomMenuBox",""],[1,"dropdown-menu","show","relative","w-56"],[1,"dropdown-content"],[4,"ngIf"],[1,"ml-auto"],["azt-track-service","information-class-box-tDPvhBl5vWp","aria-expanded","false","data-tw-toggle","dropdown",1,"clickable","p-1","hover:bg-slate-100","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-5","h-5","text-slate-500"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],[1,"ribbon"],["azt-track-service","information-class-box-Y6FVEqAKljD",1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","information-class-box-1Z4loYYCXOT",1,"dropdown-item",3,"click"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],["azt-track-service","information-class-box-yNwo0EZravB",1,"dropdown-item",3,"click"],["cx","12","cy","5","rx","9","ry","3"],["d","M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"],["d","M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"],["azt-track-service","information-class-box-OkjnS3UN_Xz",1,"dropdown-item",3,"click"],["azt-track-service","information-class-box-5V-axi1fKp3",1,"dropdown-item",3,"click"],["d","M10 2h4"],["d","M12 14v-4"],["d","M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6"],["d","M9 17H4v5"],["azt-track-service","information-class-box-yPIM4KNi4qL",1,"dropdown-item",3,"click"],["d","M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22"],["d","m18 2 4 4-4 4"],["d","M2 6h1.9c1.5 0 2.9.9 3.6 2.2"],["d","M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8"],["d","m18 14 4 4-4 4"],["azt-track-service","information-class-box-4Glzv5SSUAO",1,"dropdown-item","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"]],template:function(e,c){if(1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return c.goToListStudent()}),t.TgZ(1,"div",1)(2,"a",2,3),t._uU(4),t.qZA(),t.YNc(5,Ta,6,1,"div",4),t.qZA(),t.TgZ(6,"div",5)(7,"div",6),t._uU(8),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"div",7),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.YNc(13,Ca,4,3,"div",8),t.qZA(),t.TgZ(14,"mat-menu",9,10)(16,"div",11)(17,"ul",12),t.YNc(18,Gn,7,3,"li",13),t.ALo(19,"editPermission"),t.YNc(20,ka,7,3,"li",13),t.ALo(21,"fullPermission"),t.YNc(22,wa,8,3,"li",13),t.YNc(23,ya,8,3,"li",13),t.YNc(24,Oa,9,3,"li",13),t.YNc(25,Za,9,3,"li",13),t.YNc(26,Aa,10,3,"li",13),t.YNc(27,Sa,7,3,"li",13),t.ALo(28,"deletePermission"),t.qZA()()()),2&e){const _=t.MAs(3);t.xp6(2),t.s9C("matTooltip",c.classroomObj.name),t.Q6J("isDisabledTooltip",!1)("matTooltipDisabled",_.isDisabled),t.xp6(2),t.hij(" ",c.classroomObj.name," "),t.xp6(1),t.Q6J("ngIf",c.classroomObj.permissionObj),t.xp6(3),t.AsE(" ",t.lcZ(9,18,"lang_auto_si_so"),": ",c.classroomObj.countStudents," "),t.xp6(3),t.AsE(" ",t.lcZ(12,20,"lang_auto_nam_hoc"),": ",c.classroomObj.year," "),t.xp6(2),t.Q6J("ngIf",c.classroomObj.isShareClassroom),t.xp6(5),t.Q6J("ngIf",""==c.screenTemplate&&t.xi3(19,22,c.classroomObj,"classroom")),t.xp6(2),t.Q6J("ngIf",""==c.screenTemplate&&t.xi3(21,25,c.classroomObj,"classroom")),t.xp6(2),t.Q6J("ngIf",""==c.screenTemplate&&!c.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",""==c.screenTemplate&&c.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf","storage"==c.screenTemplate),t.xp6(1),t.Q6J("ngIf","showListPeopleWhoWillShare"==c.screenTemplate),t.xp6(1),t.Q6J("ngIf",""==c.screenTemplate&&c.classroomObj.isShareClassroom),t.xp6(1),t.Q6J("ngIf",t.xi3(28,28,c.classroomObj,"classroom"))}},dependencies:[Q.O5,X.VK,X.p6,kt.gM,lt.Q,L.JV,L.NK,L.Pf,L.Z_],styles:[".ribbon[_ngcontent-%COMP%]{position:absolute;right:-2px;top:-2px;z-index:1;overflow:hidden;width:45px;height:45px;text-align:right}.ribbon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:7px;color:#fff;text-transform:uppercase;text-align:center;font-weight:700;line-height:12px;transform:rotate(45deg);-webkit-transform:rotate(45deg);width:55px;display:block;background:linear-gradient(#68cc00 0%,rgba(104,204,0,.61) 100%);box-shadow:0 3px 10px -5px #636363;position:absolute;top:6px;right:-14px}.ml-auto[_ngcontent-%COMP%]{z-index:999}"]}),a})();const Ma=["showMenuGroupOfClassroom"];function Ia(a,g){1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"span",63),t._uU(1,"1"),t.qZA())}function ja(a,g){1&a&&(t.O4$(),t.kcU(),t._UZ(0,"azt-loading-effect"))}function La(a,g){if(1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div"),t.GkF(1,65),t.qZA()),2&a){t.oxw(2);const e=t.MAs(50);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Da(a,g){if(1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div"),t.GkF(1,65),t.qZA()),2&a){t.oxw(2);const e=t.MAs(52);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Ea(a,g){if(1&a&&(t.O4$(),t.YNc(0,La,2,1,"div",64),t.YNc(1,Da,2,1,"div",64)),2&a){const e=t.oxw();t.Q6J("ngIf",0==e.showStorageClassroom),t.xp6(1),t.Q6J("ngIf",1==e.showStorageClassroom)}}function Pa(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.groupObj.name," ")}}function Ua(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.groupObj.name)," ")}}function qa(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"button",88),t.NdJ("click",function(_){return _.stopPropagation()})("click",function(){t.CHM(e);const _=t.oxw(2).$implicit,x=t.oxw(2);return t.KtG(x.saveCurrentGroupOfClassroomThatIsEdited(_.groupObj))}),t.O4$(),t.TgZ(1,"svg",89),t._UZ(2,"circle",90)(3,"circle",91)(4,"circle",92),t.qZA()()}if(2&a){t.oxw();const e=t.MAs(8);t.Q6J("matMenuTriggerFor",e)}}function za(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",93)(1,"azt-information-class-box",94),t.NdJ("eventOfClassroomMenu",function(_){t.CHM(e);const x=t.oxw(4);return t.KtG(x.eventOfClassroomMenu(_))}),t.qZA()()}if(2&a){const e=g.$implicit;t.xp6(1),t.Q6J("classroomObj",e)}}function Ja(a,g){1&a&&(t.TgZ(0,"div",95),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_classroom_list_class_null"),"."))}const Fe=function(){return["name"]};function Fa(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",70)(1,"div",71)(2,"h2",72),t.YNc(3,Pa,2,1,"span",64),t.YNc(4,Ua,3,3,"span",64),t.qZA(),t.TgZ(5,"div",73),t.YNc(6,qa,5,1,"button",74),t.TgZ(7,"mat-menu",null,75)(9,"div",76)(10,"button",77),t.NdJ("click",function(_){return _.stopPropagation()})("click",function(){t.CHM(e);const _=t.oxw(3),x=t.MAs(63);return t.KtG(_.cancelEdit(x))}),t.O4$(),t.TgZ(11,"svg",78),t._UZ(12,"path",79)(13,"path",80),t.qZA(),t.kcU(),t.TgZ(14,"span"),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()(),t.TgZ(17,"button",81),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(3);return t.KtG(_.deleteGroupDialog())}),t.O4$(),t.TgZ(18,"svg",82),t._UZ(19,"polyline",83)(20,"path",84),t.qZA(),t.kcU(),t.TgZ(21,"span"),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()()()()(),t.TgZ(24,"div",85),t.YNc(25,za,2,1,"div",86),t.ALo(26,"appFilter"),t.YNc(27,Ja,3,3,"div",87),t.ALo(28,"appFilter"),t.qZA()()}if(2&a){const e=t.oxw().$implicit,c=t.oxw(2),_=t.MAs(54);t.xp6(3),t.Q6J("ngIf",-1!=e.groupObj.id),t.xp6(1),t.Q6J("ngIf",-1==e.groupObj.id),t.xp6(2),t.Q6J("ngIf",-1!=e.groupObj.id),t.xp6(4),t.Q6J("matMenuTriggerFor",_),t.xp6(5),t.Oqu(t.lcZ(16,8,"lang_button_edit")),t.xp6(7),t.Oqu(t.lcZ(23,10,"lang_button_delete")),t.xp6(3),t.Q6J("ngForOf",t.Dn7(26,12,e.classroomObjs,c.searchContentObj.searchContent,t.DdM(20,Fe))),t.xp6(2),t.Q6J("ngIf",0==(null==e.classroomObjs?null:e.classroomObjs.length)||0==t.Dn7(28,16,e.classroomObjs,c.searchContentObj.searchContent,t.DdM(21,Fe)).length)}}function Qa(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",100)(1,"azt-information-class-box",94),t.NdJ("eventOfClassroomMenu",function(_){t.CHM(e);const x=t.oxw(4);return t.KtG(x.eventOfClassroomMenu(_))}),t.qZA()()}if(2&a){const e=g.$implicit;t.xp6(1),t.Q6J("classroomObj",e)}}function Ya(a,g){1&a&&(t.TgZ(0,"div",101),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_class_null")," "))}function Ba(a,g){if(1&a&&(t.TgZ(0,"div",70)(1,"div",96)(2,"h2",97),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",85),t.YNc(6,Qa,2,1,"div",98),t.ALo(7,"appFilter"),t.YNc(8,Ya,3,3,"div",99),t.ALo(9,"appFilter"),t.qZA()()),2&a){const e=t.oxw().$implicit,c=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,3,"lang_student_classroom_list_other")," "),t.xp6(3),t.Q6J("ngForOf",t.Dn7(7,5,e.classroomObjs,c.searchContentObj.searchContent,t.DdM(13,Fe))),t.xp6(2),t.Q6J("ngIf",0==(null==e.classroomObjs?null:e.classroomObjs.length)||0==t.Dn7(9,9,e.classroomObjs,c.searchContentObj.searchContent,t.DdM(14,Fe)).length)}}const Ha=function(){return[]};function Ga(a,g){if(1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div",68),t.YNc(1,Fa,29,22,"div",69),t.YNc(2,Ba,10,15,"div",69),t.ALo(3,"appFilter"),t.qZA()),2&a){const e=g.$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null!=e.groupObj&&e.classroomObjs!=t.DdM(6,Ha)),t.xp6(1),t.Q6J("ngIf",null==e.groupObj&&t.Dn7(3,2,e.classroomObjs,c.searchContentObj.searchContent,t.DdM(7,Fe)).length>0)}}const Ra=function(a){return[a]};function Va(a,g){if(1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div",102),t.ALo(1,"navigationLocalize"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&a){const e=t.oxw(2);t.Q6J("routerLink",t.VKq(7,Ra,t.lcZ(1,3,"/admin/student/manage-classroom/1"))),t.xp6(2),t.AsE("",t.lcZ(3,5,"lang_student_classroom_list_storage")," (",e.totalStorageClassroom,")")}}function $a(a,g){if(1&a&&(t.O4$(),t.YNc(0,Ga,4,8,"div",66),t.YNc(1,Va,4,9,"div",67)),2&a){const e=t.oxw();t.Q6J("ngForOf",e.activeClassroomData),t.xp6(1),t.Q6J("ngIf",e.totalStorageClassroom&&e.totalStorageClassroom>0)}}function Wa(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",100)(1,"azt-information-class-box",103),t.NdJ("eventOfClassroomMenu",function(_){t.CHM(e);const x=t.oxw(2);return t.KtG(x.eventOfClassroomMenu(_))}),t.qZA()()}if(2&a){const e=g.$implicit;t.xp6(1),t.Q6J("classroomObj",e)("screenTemplate","showListPeopleWhoWillShare")}}function Ka(a,g){1&a&&(t.TgZ(0,"div",95),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_classroom_list_class_null"),"."))}function Xa(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",100)(1,"azt-information-class-box",103),t.NdJ("eventOfClassroomMenu",function(_){t.CHM(e);const x=t.oxw(2);return t.KtG(x.eventOfClassroomMenu(_))}),t.qZA()()}if(2&a){const e=g.$implicit;t.xp6(1),t.Q6J("classroomObj",e)("screenTemplate","storage")}}function ts(a,g){1&a&&(t.TgZ(0,"div",95),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_student_classroom_list_class_null"),"."))}function es(a,g){if(1&a&&(t.O4$(),t.kcU(),t.TgZ(0,"div",68)(1,"div",70)(2,"div",96)(3,"h2",97),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",85),t.YNc(7,Wa,2,2,"div",98),t.ALo(8,"appFilter"),t.YNc(9,Ka,3,3,"div",87),t.ALo(10,"appFilter"),t.qZA()(),t.TgZ(11,"div",70)(12,"div",96)(13,"h2",97),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()(),t.TgZ(16,"div",85),t.YNc(17,Xa,2,2,"div",98),t.ALo(18,"appFilter"),t.YNc(19,ts,3,3,"div",87),t.ALo(20,"appFilter"),t.qZA()()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,6,"lang_auto_lop_duoc_chia_se")," "),t.xp6(3),t.Q6J("ngForOf",t.Dn7(8,8,e.sharedStorageClassroomData,e.searchContentObj.searchContent,t.DdM(26,Fe))),t.xp6(2),t.Q6J("ngIf",0==(null==e.sharedStorageClassroomData?null:e.sharedStorageClassroomData.length)||0==t.Dn7(10,12,e.sharedStorageClassroomData,e.searchContentObj.searchContent,t.DdM(27,Fe)).length),t.xp6(5),t.hij(" ",t.lcZ(15,16,"lang_student_classroom_list_other")," "),t.xp6(3),t.Q6J("ngForOf",t.Dn7(18,18,e.storageClassroomData,e.searchContentObj.searchContent,t.DdM(28,Fe))),t.xp6(2),t.Q6J("ngIf",0==(null==e.storageClassroomData?null:e.storageClassroomData.length)||0==t.Dn7(20,22,e.storageClassroomData,e.searchContentObj.searchContent,t.DdM(29,Fe)).length)}}function ns(a,g){1&a&&(t.TgZ(0,"div",104),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_classroom_list_enter_name_group")," "))}function os(a,g){1&a&&(t.O4$(),t.TgZ(0,"svg",105),t._UZ(1,"polyline",106),t.qZA())}function is(a,g){1&a&&(t.O4$(),t.TgZ(0,"svg",105),t._UZ(1,"polyline",106),t.qZA())}function as(a,g){1&a&&(t.O4$(),t.TgZ(0,"svg",105),t._UZ(1,"polyline",106),t.qZA())}let ss=(()=>{class a extends m.Q{onSearchBox(e){this.searchContentObj=e}eventOfClassroomMenu(e){e&&this.getClassroomObjs()}saveCurrentGroupOfClassroomThatIsEdited(e){this.currentGroupOfClassroomDataThatIsEdited=this.commonService.myClone(e)}cancelEdit(e){e.value=this.currentGroupOfClassroomDataThatIsEdited?.name??""}createClassroomDialog(){this.sAztDialogService.open(si,{data:{classroomObj:void 0},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(c=>{c&&this.getClassroomObjs()})}createClassroomForNewCourseDialog(){this.sAztDialogService.open(Y.u,{restoreFocus:!1}).afterClosed().subscribe(c=>{c&&this.getClassroomObjs()})}changeFilter(e){this.typeFilter=e,this.getClassroomObjs()}deleteGroupDialog(){this.sAztDialogService.open(ma,{width:"400px",data:{groupObj:this.currentGroupOfClassroomDataThatIsEdited},restoreFocus:!1}).afterClosed().subscribe(c=>{c&&(this.eventOfGroupMenu.emit(!0),this.getClassroomObjs())})}updateGroupOfClassroom(e){if(""!=e){var c={groupId:this.currentGroupOfClassroomDataThatIsEdited?.id??0,name:e};this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupUpdateClassroomGroupPost(c).subscribe(_=>{1==_.success?(this.successStatusObj("lang_auto_cap_nhat_nhom_thanh_cong",!0),this.getClassroomObjs()):this.errorStatusObj(_.message??"",!0)}))}else this.checkErrorInputUpdateGroupOfClassroom(e)}checkErrorInputUpdateGroupOfClassroom(e){return""==e.trim()}openDialogAutomaticIdentification(){this.sAztDialogService.open(Ce.G,{data:{classroomWithGroup:this.activeClassroomData??[],type:1,listCheckBox:[],totalStudent:0},restoreFocus:!1,width:"800px"}).afterClosed().subscribe(e=>{e&&this.getClassroomObjs()})}getClassroomObjs(){this.initStatusObj(),this.waitDestroy(this.classroomGroupService.apiClassroomGroupGetObjsGet(this.typeFilter).subscribe(e=>{e.success?(this.activeClassroomData=e?.data?.classroomData,this.sharedStorageClassroomData=e?.data?.storeSharedClassData,this.storageClassroomData=e?.data?.storeClassData,this.totalStorageClassroom=(e?.data?.totalStorage??0)+(e?.data?.totalSharedStorage??0),this.successStatusObj()):this.errorStatusObj(e.message??"",!0)}))}ngOnInit(){this.waitDestroy((0,r.a)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e=this.commonService.getMyParam(this.activeRoute,"id")?.toString();this.showStorageClassroom="1"==e;let c=this.commonService.getMyQueryParam("programId");this.backToLink=c&&""!=c?"/business/educational-program/"+c:this.showStorageClassroom?"/admin/student/manage-classroom/0":this.backToLink="/admin/dashboard",this.getClassroomObjs()})),this.mobileWebviewService.sendSimpleMessage("OPEN_CLASSES"),this.commonService.translateMetaData({title:"lang_cms_classroom_list_title",description:"lang_cms_classroom_list_description",image:"lang_cms_test_image"})}constructor(e,c,_,x){super(),this.activeRoute=e,this.classroomGroupService=c,this.sAztDialogService=_,this.mobileWebviewService=x,this.eventOfGroupMenu=new t.vpe,this.backToLink="",this.showStorageClassroom=!1,this.typeFilter="",this.searchContentObj=new rt.h}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(et.gz),t.Y36(Mn.c8),t.Y36(me.C),t.Y36(da.r))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-teacher-classroom"]],viewQuery:function(e,c){if(1&e&&t.Gf(Ma,5),2&e){let _;t.iGM(_=t.CRH())&&(c.showMenuGroupOfClassroom=_.first)}},outputs:{eventOfGroupMenu:"eventOfGroupMenu"},features:[t.qOj],decls:127,vars:60,consts:[[3,"headerBackToLink"],[1,"grid","grid-cols-12","gap-6","mt-8"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[1,"text-xl","font-medium"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12",2,"z-index","1"],[1,"intro-y","flex","flex-col-reverse","sm:flex-row","items-center"],[1,"w-full","sm:w-auto","mt-3","sm:mt-0","mr-auto"],[3,"isServerSearch","placeholder","onSearch"],[1,"w-full","sm:w-auto","flex"],["azt-track-service","class-list-8xXjbgXLYr8","tourAnchor","azt-tour-2",1,"btn","btn-primary","shadow-md","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-1"],["x1","12","y1","5","x2","12","y2","19"],["x1","5","y1","12","x2","19","y2","12"],[1,"dropdown-toggle","btn","px-2","box","block","lg:hidden","hover:bg-slate-100","dark:hover-bg:darkmode-400",3,"matMenuTriggerFor"],[1,"w-5","h-5","flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4"],["azt-track-service","class-list-GeLpgTC3SuL",1,"btn","px-2","box","shadow-md","mr-2","azt-hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["azt-track-service","class-list-ok7MlxqP6m9",1,"btn","px-2","box","shadow-md","azt-hidden","lg:block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","mr-2"],["d","M6 20h4"],["d","M14 10h4"],["d","M6 14h2v6"],["d","M14 4h2v6"],["x","6","y","4","width","4","height","6"],["x","14","y","14","width","4","height","6"],["tourAnchor","azt-tour-2",1,"ml-2","shadow-md","dropdown-toggle","btn","px-2","box","block","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],["class","py-1 px-2 rounded-full text-xs bg-primary text-white cursor-pointer font-medium",4,"ngIf"],[4,"ngIf","ngIfElse"],["doneLoading",""],["showActiveClassroomTpl",""],["showStorageClassroomClassroomTpl",""],["xPosition","after"],["matMenuGroupOfClassroom",""],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["azt-track-service","class-list-G1Mkx8IXu63",1,"modal-body"],[1,"text-base","font-medium","mr-auto"],["azt-track-service","class-list-0AWKcuGUws",3,"click"],["type","text","aria-label","default input example",1,"form-control","mt-2",3,"value","placeholder"],["nameGroup",""],["class","alert alert-danger p-1 mt-2",4,"ngIf"],[1,"text-right","mt-3",2,"display","flex","justify-content","space-between"],["azt-track-service","class-list-qHpiXjTg249",1,"btn","w-24","btn-secondary","mr-2"],["azt-track-service","class-list-lVV77oiaCLP",1,"btn","w-24","btn-primary",3,"disabled","click"],["xPosition","before"],["menuClassList","matMenu"],[1,"dropdown-menu","w-56","show","relative"],[1,"dropdown-content"],["azt-track-service","class-list-1UlnYstZqkD",1,"dropdown-item","w-full",3,"click"],["azt-track-service","class-list-WQiM5XgRgUI",1,"dropdown-item","w-full",3,"click"],["menuFilter","matMenu"],["width","18","height","18","x","3","y","3","rx","2"],["d","M7 8h10"],["d","M7 12h10"],["d","M7 16h10"],["xmlns","http://www.w3.org/2000/svg","class","lucide lucide-activity w-4 h-4 ml-2","style","color: green;","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngIf"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["points","16 11 18 13 22 9"],["d","M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z"],["d","M6 9.01V9"],["d","m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],[4,"ngIf"],[3,"ngTemplateOutlet"],["class","intro-y",4,"ngFor","ngForOf"],["azt-track-service","class-list-9gXcamWSz","class","btn-text-primary font-medium cursor-pointer mt-4",3,"routerLink",4,"ngIf"],[1,"intro-y"],["class","azt-group mt-6",4,"ngIf"],[1,"azt-group","mt-6"],[1,"intro-x","flex","items-center","mb-2"],[1,"text-lg","font-medium","truncate","mr-3"],[1,"dropdown","mb-1"],["azt-track-service","class-list-U9X02wc0f","class","dropdown-toggle p-1 hover:bg-gray dark:hover:bg-darkmode-400 rounded-md","aria-expanded","false","data-tw-toggle","dropdown",3,"matMenuTriggerFor","click",4,"ngIf"],["menu","matMenu"],[1,"box","grid"],["azt-track-service","class-list-9ufWL4LIlj","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","pr-3","btn-edit","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-edit","w-4","h-4","mr-2",2,"display","initial"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","class-list-Qqdrk4Sj2Q",1,"pr-3","btn-delete","hover:bg-slate-100","dark:hover:bg-darkmode-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","trash","data-lucide","trash",1,"lucide","lucide-trash","w-4","h-4","mr-2",2,"display","initial"],["points","3 6 5 6 21 6"],["d","M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"],[1,"grid","grid-cols-12","gap-3","sm:gap-6"],["class","col-span-12 sm:col-span-6 lg:col-span-4 xl:col-span-3 2xl:col-span-2",4,"ngFor","ngForOf"],["class","text-center col-span-12 p-2",4,"ngIf"],["azt-track-service","class-list-U9X02wc0f","aria-expanded","false","data-tw-toggle","dropdown",1,"dropdown-toggle","p-1","hover:bg-gray","dark:hover:bg-darkmode-400","rounded-md",3,"matMenuTriggerFor","click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-more-vertical","w-4","h-4"],["cx","12","cy","12","r","1"],["cx","12","cy","5","r","1"],["cx","12","cy","19","r","1"],[1,"col-span-12","sm:col-span-6","lg:col-span-4","xl:col-span-3","2xl:col-span-2"],[3,"classroomObj","eventOfClassroomMenu"],[1,"text-center","col-span-12","p-2"],[1,"intro-x","flex","items-center","mb-3"],[1,"text-lg","font-medium","truncate","mr-auto"],["class","col-span-12 sm:col-span-4 md:col-span-3 2xl:col-span-2",4,"ngFor","ngForOf"],["class","col-span-12 p-2",4,"ngIf"],[1,"col-span-12","sm:col-span-4","md:col-span-3","2xl:col-span-2"],[1,"col-span-12","p-2"],["azt-track-service","class-list-9gXcamWSz",1,"btn-text-primary","font-medium","cursor-pointer","mt-4",3,"routerLink"],[3,"classroomObj","screenTemplate","eventOfClassroomMenu"],[1,"alert","alert-danger","p-1","mt-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-activity","w-4","h-4","ml-2",2,"color","green"],["points","20 6 9 17 4 12"]],template:function(e,c){if(1&e){const _=t.EpF();t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"azt-search-box",7),t.NdJ("onSearch",function(Z){return c.onSearchBox(Z.searchObj)}),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"div",8)(13,"button",9),t.NdJ("click",function(){return c.createClassroomDialog()}),t.O4$(),t.TgZ(14,"svg",10),t._UZ(15,"line",11)(16,"line",12),t.qZA(),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(19,"button",13)(20,"span",14),t.O4$(),t.TgZ(21,"svg",15),t._UZ(22,"line",11)(23,"line",12),t.qZA()()(),t.kcU(),t.TgZ(24,"button",16),t.NdJ("click",function(){return c.createClassroomForNewCourseDialog()}),t.O4$(),t.TgZ(25,"svg",10),t._UZ(26,"line",11)(27,"line",12),t.qZA(),t._uU(28),t.ALo(29,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(30,"button",17),t.NdJ("click",function(){return c.openDialogAutomaticIdentification()}),t.O4$(),t.TgZ(31,"svg",18),t._UZ(32,"path",19)(33,"path",20)(34,"path",21)(35,"path",22)(36,"rect",23)(37,"rect",24),t.qZA(),t._uU(38),t.ALo(39,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(40,"button",25),t.O4$(),t.TgZ(41,"svg",10),t._UZ(42,"polygon",26),t.qZA(),t._uU(43),t.ALo(44,"mytranslate"),t.YNc(45,Ia,2,0,"span",27),t.qZA()()(),t.YNc(46,ja,1,0,"azt-loading-effect",28),t.YNc(47,Ea,2,2,"ng-template",null,29,t.W1O),t.qZA()()(),t.YNc(49,$a,2,2,"ng-template",null,30,t.W1O),t.YNc(51,es,21,30,"ng-template",null,31,t.W1O),t.kcU(),t.TgZ(53,"mat-menu",32,33)(55,"div",34)(56,"div",35)(57,"div",36)(58,"h2",37),t._uU(59),t.ALo(60,"mytranslate"),t.qZA(),t.TgZ(61,"div",38),t.NdJ("click",function(Z){return Z.stopPropagation()}),t._UZ(62,"input",39,40),t.ALo(64,"mytranslate"),t.YNc(65,ns,3,3,"div",41),t.qZA(),t.TgZ(66,"div",42)(67,"button",43),t._uU(68),t.ALo(69,"mytranslate"),t.qZA(),t.TgZ(70,"button",44),t.NdJ("click",function(){t.CHM(_);const Z=t.MAs(63);return t.KtG(c.updateGroupOfClassroom(Z.value))}),t._uU(71),t.ALo(72,"mytranslate"),t.qZA()()()()()(),t.TgZ(73,"mat-menu",45,46)(75,"div",47)(76,"ul",48)(77,"li")(78,"button",49),t.NdJ("click",function(){return c.createClassroomForNewCourseDialog()}),t.O4$(),t.TgZ(79,"svg",18),t._UZ(80,"line",11)(81,"line",12),t.qZA(),t._uU(82),t.ALo(83,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(84,"li")(85,"button",50),t.NdJ("click",function(){return c.openDialogAutomaticIdentification()}),t.O4$(),t.TgZ(86,"svg",18),t._UZ(87,"path",19)(88,"path",20)(89,"path",21)(90,"path",22)(91,"rect",23)(92,"rect",24),t.qZA(),t._uU(93),t.ALo(94,"mytranslate"),t.qZA()()()()(),t.kcU(),t.TgZ(95,"mat-menu",45,51)(97,"div",47)(98,"ul",48)(99,"li")(100,"button",49),t.NdJ("click",function(){return c.changeFilter("")}),t.O4$(),t.TgZ(101,"svg",18),t._UZ(102,"rect",52)(103,"path",53)(104,"path",54)(105,"path",55),t.qZA(),t._uU(106),t.ALo(107,"mytranslate"),t.YNc(108,os,2,0,"svg",56),t.qZA()(),t.kcU(),t.TgZ(109,"li")(110,"button",50),t.NdJ("click",function(){return c.changeFilter("owner")}),t.O4$(),t.TgZ(111,"svg",18),t._UZ(112,"path",57)(113,"circle",58)(114,"polyline",59),t.qZA(),t._uU(115),t.ALo(116,"mytranslate"),t.YNc(117,is,2,0,"svg",56),t.qZA()(),t.kcU(),t.TgZ(118,"li")(119,"button",49),t.NdJ("click",function(){return c.changeFilter("user")}),t.O4$(),t.TgZ(120,"svg",18),t._UZ(121,"path",60)(122,"path",61)(123,"path",62),t.qZA(),t._uU(124),t.ALo(125,"mytranslate"),t.YNc(126,as,2,0,"svg",56),t.qZA()()()()()}if(2&e){const _=t.MAs(48),x=t.MAs(63),Z=t.MAs(74),P=t.MAs(96);t.Q6J("headerBackToLink",c.backToLink),t.xp6(4),t.hij(" ",c.showStorageClassroom?t.lcZ(5,28,"lang_auto_kho_luu_tru"):t.lcZ(6,30,"lang_student_classroom_list_header_title")," "),t.xp6(6),t.Q6J("isServerSearch",!1)("placeholder",t.lcZ(11,32,"lang_student_classroom_list_sort_name_class")),t.xp6(7),t.hij(" ",t.lcZ(18,34,"lang_student_classroom_list_create_class")," "),t.xp6(2),t.Q6J("matMenuTriggerFor",Z),t.xp6(9),t.hij(" ",t.lcZ(29,36,"lang_student_classroom_list_create_class_new_cousre")," "),t.xp6(10),t.hij(" ",t.lcZ(39,38,"lang_auto_danh_so_bao_danh")," "),t.xp6(2),t.Q6J("matMenuTriggerFor",P),t.xp6(3),t.hij(" ",t.lcZ(44,40,"lang_homework_homework_score_list_sort")," "),t.xp6(2),t.Q6J("ngIf",""!=c.typeFilter),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",_),t.xp6(13),t.Oqu(t.lcZ(60,42,"lang_student_classroom_list_update_group")),t.xp6(3),t.s9C("value",null==c.currentGroupOfClassroomDataThatIsEdited?null:c.currentGroupOfClassroomDataThatIsEdited.name),t.s9C("placeholder",t.lcZ(64,44,"lang_auto_nhap_ten_nhom")),t.xp6(3),t.Q6J("ngIf",""==x.value||c.checkErrorInputUpdateGroupOfClassroom(x.value)),t.xp6(3),t.hij(" ",t.lcZ(69,46,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",""==x.value.trim()),t.xp6(1),t.hij(" ",t.lcZ(72,48,"lang_student_classroom_list_update")," "),t.xp6(11),t.hij(" ",t.lcZ(83,50,"lang_student_classroom_list_create_class_new_cousre")," "),t.xp6(11),t.hij(" ",t.lcZ(94,52,"lang_auto_danh_so_bao_danh")," "),t.xp6(13),t.hij(" ",t.lcZ(107,54,"lang_homework_content_store_all")," "),t.xp6(2),t.Q6J("ngIf",""==c.typeFilter),t.xp6(7),t.hij(" ",t.lcZ(116,56,"lang_core_lop_cua_toi")," "),t.xp6(2),t.Q6J("ngIf","owner"==c.typeFilter),t.xp6(7),t.hij(" ",t.lcZ(125,58,"lang_auto_lop_duoc_chia_se")," "),t.xp6(2),t.Q6J("ngIf","user"==c.typeFilter)}},dependencies:[et.rH,Q.sg,Q.O5,Q.tP,X.VK,X.p6,dt.l,Na,ht.W,st._,L.Jy,L.JV,L.om],styles:[".input-search[_ngcontent-%COMP%]{width:175px;height:34px;border:2px solid rgba(204,201,201,.8901960784);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-created-class[_ngcontent-%COMP%]:hover{background-color:#26b610}.buttom-created-class[_ngcontent-%COMP%]{color:#fff;width:85px;background-color:#2ec915;border-radius:3px;box-shadow:none;text-align:center;padding:8px 0}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{min-height:38px}.buttom-created[_ngcontent-%COMP%]{width:175px;padding:7px 0;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ebebeb;border-radius:3px;text-align:center;box-shadow:none}h4[_ngcontent-%COMP%]{border-bottom:1px solid rgb(203,203,203);line-height:.1em!important}h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ecf0f5;padding:0 10px 0 0}.clickable[_ngcontent-%COMP%]{font-size:14px}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.storage[_ngcontent-%COMP%]:hover{color:#3ad1f7}.storage[_ngcontent-%COMP%]{color:#00a7d0;max-width:150px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid rgb(212,211,211)}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}"]}),a})(),Qe=(()=>{class a extends m.Q{}return a.\u0275fac=function(){let g;return function(c){return(g||(g=t.n5z(a)))(c||a)}}(),a.\u0275cmp=t.Xpm({type:a,selectors:[["homework-master-page"]],features:[t.qOj],decls:2,vars:0,consts:[["id","student-layout"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[et.lC],encapsulation:2}),a})(),Rt=(()=>{class a extends m.Q{constructor(){super(...arguments),this.closeDialog=new t.vpe}confirmQuit(){this.closeDialog.emit(!0)}btnCloseDialog(){this.closeDialog.emit(!1)}}return a.\u0275fac=function(){let g;return function(c){return(g||(g=t.n5z(a)))(c||a)}}(),a.\u0275cmp=t.Xpm({type:a,selectors:[["app-merge-student-confirm-box"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:18,vars:11,consts:[[1,"box","school-info_bg"],[1,"school-info","p-4"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-body"],[1,"intro"],[1,"text-base","font-medium","mr-auto"],[1,"text-right","mt-3"],["azt-track-service","confirm-merge-Yvv9eaXGFnm",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","confirm-merge-4QGWZo25n3Q",1,"btn","w-24","btn-primary",2,"margin-left","15px",3,"click"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),t._uU(7),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA()(),t._UZ(10,"br"),t.TgZ(11,"div",7)(12,"button",8),t.NdJ("click",function(){return c.btnCloseDialog()}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"button",9),t.NdJ("click",function(){return c.confirmQuit()}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()()()()),2&e&&(t.xp6(7),t.hij("",null!=c.data&&c.data.type&&"update_phone_student"==(null==c.data?null:c.data.type)?t.lcZ(8,3,"lang_student_utils_confirm_merge_verifi")+"?":t.lcZ(9,5,"lang_student_utils_confirm_merge_confirm")+"?"," "),t.xp6(6),t.hij(" ",t.lcZ(14,7,"lang_cms_common_close_btn")," "),t.xp6(3),t.hij(" ",t.lcZ(17,9,"lang_cms_common_confirm_btn")," "))},dependencies:[L.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;margin-left:auto;margin-right:auto}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}"]}),a})();function yt(a,g){1&a&&t._UZ(0,"azt-loading-effect")}const te=function(a){return{"bg-success":a}};function Rn(a,g){if(1&a&&(t.TgZ(0,"div",21)(1,"b"),t._uU(2),t.qZA()()),2&a){const e=t.oxw().$implicit,c=t.oxw(2);t.Q6J("ngClass",t.VKq(2,te,c.haveSelected(e))),t.xp6(2),t.Oqu(e.fullName)}}function Ts(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",19),t.NdJ("click",function(){const x=t.CHM(e).$implicit,Z=t.oxw(2);return t.KtG(Z.selectObj(x))}),t.YNc(1,Rn,3,4,"div",20),t.qZA()}if(2&a){const e=g.$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!c.inMergeObjs(e))}}function lo(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"div",22),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"b",23),t._uU(5),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.TgZ(8,"b",23),t._uU(9),t.qZA(),t._uU(10,"\xa0\xa0"),t.TgZ(11,"span",24),t.NdJ("click",function(){const x=t.CHM(e).index,Z=t.oxw(2);return t.KtG(Z.removeMergeArray(x))}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()()}if(2&a){const e=g.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_student_merge_student_merge_student")," "),t.xp6(3),t.Oqu(null==e.from?null:e.from.fullName),t.xp6(1),t.hij(" ",t.lcZ(7,7,"lang_student_merge_student_return")," "),t.xp6(3),t.Oqu(null==e.to?null:e.to.fullName),t.xp6(3),t.Oqu(t.lcZ(13,9,"lang_auto_xoa"))}}function co(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",22)(1,"div",26)(2,"b"),t._uU(3),t.qZA(),t.TgZ(4,"button",27),t.NdJ("click",function(){t.CHM(e);const _=t.oxw().$implicit,x=t.oxw(2);return t.KtG(x.revertStudent(_.id))}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()}if(2&a){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.fullName),t.xp6(2),t.hij(" ",t.lcZ(6,2,"lang_button_revert")," ")}}function Vn(a,g){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,co,7,4,"div",25),t.qZA()),2&a){const e=g.$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!c.inMergeObjs(e))}}function rs(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",4)(1,"mat-tab-group",5)(2,"mat-tab",6),t.ALo(3,"mytranslate"),t.TgZ(4,"div",7)(5,"div",8)(6,"div",9),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,Ts,2,1,"div",10),t.qZA(),t.TgZ(10,"div",11)(11,"div",12)(12,"div",13)(13,"div",9),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.YNc(16,lo,14,11,"div",14),t.TgZ(17,"div",15)(18,"button",16),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.showConfirmBox())}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()()()()(),t.TgZ(21,"mat-tab",6),t.ALo(22,"mytranslate"),t.TgZ(23,"div",17)(24,"div",18)(25,"div")(26,"div",15),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.YNc(29,Vn,2,1,"div",14),t.qZA()()()()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("selectedIndex",e.selectedIndex),t.xp6(1),t.s9C("label",t.lcZ(3,11,"lang_student_merge_student_lable")),t.xp6(5),t.hij(" ",t.lcZ(8,13,"lang_student_merge_student_required_click_merge")," "),t.xp6(2),t.Q6J("ngForOf",e.studentObjs),t.xp6(5),t.hij(" ",t.lcZ(15,15,"lang_student_merge_student_list_student_merge")," "),t.xp6(2),t.Q6J("ngForOf",e.studentMergeObjs),t.xp6(2),t.Q6J("disabled",e.studentMergeObjs&&e.studentMergeObjs.length<1),t.xp6(1),t.hij(" ",t.lcZ(20,17,"lang_student_merge_student_start_merge_list")," "),t.xp6(2),t.s9C("label",t.lcZ(22,19,"lang_student_merge_student_revert")),t.xp6(6),t.hij(" ",t.lcZ(28,21,"lang_student_merge_student_list_submitted")," "),t.xp6(2),t.Q6J("ngForOf",e.studentMergeListObjs)}}function mo(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"app-merge-student-confirm-box",28),t.NdJ("closeDialog",function(_){t.CHM(e);const x=t.oxw();return t.KtG(x.closeConfirmDialog(_))}),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("data",e.confirmBox)}}let ci=(()=>{class a extends m.Q{showConfirmBox(){this.confirmBox={isShow:!0}}closeConfirmDialog(e){this.confirmBox={isShow:!1},e&&this.sendToServer()}inMergeObjs(e){let c=!1,_=this.studentMergeObjs?.length??0;for(let x=0;x<_;x++)(this.studentMergeObjs?.[x].from?.id==e.id||this.studentMergeObjs?.[x].to?.id==e.id)&&(c=!0);return c}haveSelected(e){let c=!1;for(let _=0;_<this.selectObjs.length;_++)this.selectObjs[_].id==e.id&&(c=!0);return c}selectObj(e){this.haveSelected(e)?this.selectObjs=[]:this.selectObjs.push(e),2==this.selectObjs.length&&(this.studentMergeObjs.push({from:this.selectObjs[0],to:this.selectObjs[1]}),this.selectObjs=[])}removeMergeArray(e){this.studentMergeObjs?.[e]&&this.studentMergeObjs.splice(e,1)}sendToServer(){const e=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.initStatusObj();let c=[],_=this.studentMergeObjs?.length??0;for(let K=0;K<_;K++){var x=this.studentMergeObjs?.[K].from?.id,Z=this.studentMergeObjs?.[K].to?.id;x&&Z&&c.push({fromId:x,toId:Z})}this.waitDestroy(this.mergeStudentService.apiMergeStudentMergeObjsPost({classroomId:e,mergeObjs:c}).subscribe(K=>{1==K.success?(this.showSuccessSnack("lang_auto_gop_danh_sach_thanh_cong"),this.studentMergeObjs=[],this.selectObjs=[],this.getListMergeStudent(),this.getData(),this.selectedIndex=1,this.successStatusObj()):this.errorStatusObj(K.message??"",!0)}))}getData(){this.initStatusObj();const e=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetObjsByClassroomGet(e).subscribe(c=>{1==c.success?(this.studentObjs=this.sortService.sortFirstNameStudents(c?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(c.message??"",!0)}))}getListMergeStudent(){this.initStatusObj();const e=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.waitDestroy(this.mergeStudentService.apiMergeStudentGetMergedObjsGet(e).subscribe(c=>{1==c.success?(this.studentMergeListObjs=this.sortService.sortFirstNameStudents(c?.data?.objs??[]),this.successStatusObj()):this.errorStatusObj(c.message??"",!0)}))}revertStudent(e){this.waitDestroy(this.mergeStudentService.apiMergeStudentRevertMergeObjGet(e).subscribe(c=>{1==c.success?(this.showSuccessSnack("lang_auto_khoi_phuc_thanh_cong"),this.getData(),this.getListMergeStudent(),this.selectedIndex=0):this.errorStatusObj(c.message??"",!0)}))}ngOnInit(){this.classroomId=this.commonService.getMyParam(this.activeRoute,"id"),this.backToLink="/admin/student/classroom-details/"+this.classroomId+"/0",this.getData(),this.getListMergeStudent()}constructor(e,c,_,x){super(),this.activeRoute=e,this.studentService=c,this.mergeStudentService=_,this.sortService=x,this.selectObjs=[],this.studentMergeObjs=[],this.confirmBox={isShow:!1},this.selectedIndex=0,this.isMobile=this.commonService.isMobileOrTable(),this.backToLink=""}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(et.gz),t.Y36(Gt.VT),t.Y36(Gt._Y),t.Y36(on.V))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-merge-student"]],features:[t.qOj],decls:5,vars:4,consts:[[3,"headerBackToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"data","closeDialog",4,"ngIf"],[1,"container","mt-3"],[3,"selectedIndex"],[3,"label"],[1,"flex","mt-3"],[1,"p-2"],[1,"m-2"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click",4,"ngFor","ngForOf"],[1,"p-2",2,"width","70%"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mt-2"],["azt-track-service","merge-student-g45UTcIj35h",1,"pl-2","pr-2","mt-2","btn","btn-primary",3,"disabled","click"],[1,"d-flex"],[1,"w-full","sm-w-50"],["azt-track-service","merge-student-Gw4LEEMEcrN",3,"click"],["class","m-2 clickable ","style"," border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important;",3,"ngClass",4,"ngIf"],[1,"m-2","clickable",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important",3,"ngClass"],[1,"m-2","p-2",2,"border","1px solid #ccc","border-radius","3px","padding","5px","background","#dddd","color","black","margin","5px 0 !important"],[2,"font-weight","600"],[1,"clickable","text-danger",3,"click"],["class","m-2 p-2","style"," border: 1px solid #ccc; border-radius: 3px; padding: 5px; background: #dddd; color: black; margin: 5px 0 !important;",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],["azt-track-service","merge-student-v4iYHGvaLN8",1,"hover-button","clickable",3,"click"],[3,"data","closeDialog"]],template:function(e,c){if(1&e&&(t.TgZ(0,"teacher-layout",0),t.YNc(1,yt,1,0,"azt-loading-effect",1),t.YNc(2,rs,30,23,"ng-template",null,2,t.W1O),t.qZA(),t.YNc(4,mo,1,1,"app-merge-student-confirm-box",3)),2&e){const _=t.MAs(3);t.Q6J("headerBackToLink",c.backToLink),t.xp6(1),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",_),t.xp6(3),t.Q6J("ngIf",c.confirmBox.isShow)}},dependencies:[Q.mk,Q.sg,Q.O5,Pe.uX,Pe.SP,dt.l,st._,Rt,L.JV],styles:["a[_ngcontent-%COMP%]:hover{text-decoration:none}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex;text-decoration:none;margin-top:10px}.bg-success[_ngcontent-%COMP%]{background-color:#28a745!important;color:#fff}b[_ngcontent-%COMP%]{font-weight:400}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px}.header__top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px}.header__work[_ngcontent-%COMP%]{display:flex}.header__gift[_ngcontent-%COMP%]{position:relative;margin-right:24px;margin-top:5px}.gift__link[_ngcontent-%COMP%]{color:#fff}.girt__count[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-10px;background-color:#fe4531;border-radius:50%;width:16px;height:16px;color:#fff;padding:0;text-align:center;font-weight:700;font-size:9px}.header__work[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.header__user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;margin-top:2px}.body[_ngcontent-%COMP%]{margin:0 auto;text-align:center;color:#fff}.body__block[_ngcontent-%COMP%]{min-width:300px;padding:35px 0;margin:0 auto;background-color:#009cbe;border:none;border-radius:5px}.block__text[_ngcontent-%COMP%]{font-size:25px;font-weight:700;margin:0}.body__about[_ngcontent-%COMP%]{margin-top:25px}.about__title[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.about__desc[_ngcontent-%COMP%]{text-align:justify}.desc__title[_ngcontent-%COMP%]{font-weight:700}.btn-add-azo[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;padding:13px 40px;border-radius:10px}  .mat-raised-button:not(.mat-button-disabled):hover:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}  .mat-tab-label:hover{color:#000}.hover-button[_ngcontent-%COMP%]:hover{color:#3f51b5}.text-danger[_ngcontent-%COMP%]:hover{color:#f44336!important}@media (min-width: 640px){.sm-w-50[_ngcontent-%COMP%]{width:450px}}"]}),a})();var Ne=f(88489);let uo=(()=>{class a{countChecked(e){var c=0;for(var _ in e)!0===e[_]&&(c+=1);return c}getDefaultFilterObj(e){var c=this.localStorageSlug+e;if(this.listFilterObjs[c])return this.listFilterObjs[c];var _=this.getInitFilterObj(),x=this.browserStorageService.getSimpleStorage(c),Z=this.commonService.castJsonToObj(x??"");return Z&&(_=Z),_}saveFilterObj(e,c){var _=this.localStorageSlug+e;this.listFilterObjs[_]=c,this.browserStorageService.saveSimpleStorage(_,this.commonService.serializeJson(c))}getInitFilterObj(){return{getHasMark:!1,getNotMarked:!1,getNotDone:!1,getResendAnswer:!1,classroomId:0,studentId:0}}constructor(e,c){this.commonService=e,this.browserStorageService=c,this.listFilterObjs={},this.localStorageSlug="profile_student_filter_v2_"}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(T.z),t.LFG(Ne.n))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Jt=f(91675);function $n(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1,"\xa0"),t.TgZ(2,"span",21),t._uU(3),t.qZA()()),2&a){const e=t.oxw();t.xp6(3),t.Oqu(e.totalCustomFilter)}}function No(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"li")(1,"label",22),t.NdJ("click",function(_){return _.stopPropagation()}),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"div",10)(5,"input",23),t.NdJ("change",function(){t.CHM(e);const _=t.oxw();return _.filterObj.getResendAnswer=!_.filterObj.getResendAnswer,t.KtG(_.changeFilter())}),t.qZA()()()()}if(2&a){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_student_profile_filter_get_resend_answer")," "),t.xp6(3),t.Q6J("checked",e.filterObj.getResendAnswer)}}let mi=(()=>{class a extends m.Q{changeFilter(){this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilterEvent.emit(this.filterObj)}clearFilter(){this.filterObj=this.studentProfileFilterService.getInitFilterObj(),this.studentProfileFilterService.saveFilterObj(this.filterType,this.filterObj),this.changeFilter()}ngOnInit(){super.ngOnInit(),this.filterObj=this.studentProfileFilterService.getDefaultFilterObj(this.filterType),this.totalCustomFilter=this.studentProfileFilterService.countChecked(this.filterObj)}constructor(e){super(),this.studentProfileFilterService=e,this.filterType="",this.changeFilterEvent=new t.vpe,this.totalCustomFilter=0}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(uo))},a.\u0275cmp=t.Xpm({type:a,selectors:[["student-profile-filter-menu"]],inputs:{filterType:"filterType"},outputs:{changeFilterEvent:"changeFilterEvent"},features:[t.qOj],decls:41,vars:24,consts:[[1,"btn","btn-sm",3,"matMenuTriggerFor"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-search","w-4","h-4","mr-0","md:mr-1"],["points","22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"],[1,"sm:block"],[4,"ngIf"],["xPosition","before"],["filterMenu","matMenu"],[1,"dropdown-menu","show","relative","w-48"],[1,"dropdown-content"],["azt-track-service","filter-menu-SVYEFVdq9z","for","getHasMark",1,"dropdown-item","cursor-pointer",3,"click"],[1,"form-check","form-switch","ml-auto"],["id","getHasMark","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-OF32qNGQY8","for","getNotMarked",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotMarked","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],["azt-track-service","filter-menu-EpBgopx3Iv","for","getNotDone",1,"dropdown-item","cursor-pointer",3,"click"],["id","getNotDone","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"],[1,"dropdown-divider"],[1,"flex","p-1"],[1,"btn","btn-secondary","py-1","px-2","ml-auto","mr-2"],["azt-track-service","filter-menu-2gPTdI1ODd",3,"click"],["azt-track-service","filter-menu-cGVj55-Aac",1,"btn","btn-danger","py-1","px-2",3,"click"],[1,"py-1","px-2","rounded-full","text-xs","bg-primary","text-white","cursor-pointer","font-medium"],["azt-track-service","filter-menu-FWtx2ole8G","for","getResendAnswer",1,"dropdown-item","cursor-pointer",3,"click"],["id","getResendAnswer","type","checkbox",1,"show-code","form-check-input","ml-2",3,"checked","change"]],template:function(e,c){if(1&e&&(t.TgZ(0,"button",0),t.O4$(),t.TgZ(1,"svg",1),t._UZ(2,"polygon",2),t.qZA(),t.kcU(),t.TgZ(3,"span",3),t._uU(4),t.ALo(5,"mytranslate"),t.YNc(6,$n,4,1,"span",4),t.qZA()(),t.TgZ(7,"mat-menu",5,6)(9,"div",7)(10,"ul",8)(11,"li")(12,"label",9),t.NdJ("click",function(x){return x.stopPropagation()}),t._uU(13),t.ALo(14,"mytranslate"),t.TgZ(15,"div",10)(16,"input",11),t.NdJ("change",function(){return c.filterObj.getHasMark=!c.filterObj.getHasMark,c.changeFilter()}),t.qZA()()()(),t.TgZ(17,"li")(18,"label",12),t.NdJ("click",function(x){return x.stopPropagation()}),t._uU(19),t.ALo(20,"mytranslate"),t.TgZ(21,"div",10)(22,"input",13),t.NdJ("change",function(){return c.filterObj.getNotMarked=!c.filterObj.getNotMarked,c.changeFilter()}),t.qZA()()()(),t.TgZ(23,"li")(24,"label",14),t.NdJ("click",function(x){return x.stopPropagation()}),t._uU(25),t.ALo(26,"mytranslate"),t.TgZ(27,"div",10)(28,"input",15),t.NdJ("change",function(){return c.filterObj.getNotDone=!c.filterObj.getNotDone,c.changeFilter()}),t.qZA()()()(),t.YNc(29,No,6,4,"li",4),t.TgZ(30,"li"),t._UZ(31,"hr",16),t.qZA(),t.TgZ(32,"li")(33,"div",17)(34,"button",18),t._uU(35),t.ALo(36,"mytranslate"),t.qZA(),t.TgZ(37,"div",19),t.NdJ("click",function(x){return x.stopPropagation()}),t.TgZ(38,"button",20),t.NdJ("click",function(){return c.clearFilter()}),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()()()()()()()),2&e){const _=t.MAs(8);t.Q6J("matMenuTriggerFor",_),t.xp6(4),t.hij(" ",t.lcZ(5,12,"lang_testbank_tested_list_sort")," "),t.xp6(2),t.Q6J("ngIf",c.totalCustomFilter>0),t.xp6(7),t.hij(" ",t.lcZ(14,14,"lang_student_profile_filter_get_has_mark")," "),t.xp6(3),t.Q6J("checked",c.filterObj.getHasMark),t.xp6(3),t.hij(" ",t.lcZ(20,16,"lang_student_profile_filter_get_not_marked")," "),t.xp6(3),t.Q6J("checked",c.filterObj.getNotMarked),t.xp6(3),t.hij(" ",t.lcZ(26,18,"exam"==c.filterType?"lang_student_profile_filter_get_not_done_exam":"lang_student_profile_filter_get_not_done_homework")," "),t.xp6(3),t.Q6J("checked",c.filterObj.getNotDone),t.xp6(1),t.Q6J("ngIf","homework"==c.filterType),t.xp6(6),t.Oqu(t.lcZ(36,20,"lang_button_close")),t.xp6(4),t.Oqu(t.lcZ(40,22,"lang_button_delete"))}},dependencies:[Q.O5,X.VK,X.p6,L.JV],encapsulation:2}),a})();function ls(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t._UZ(3,"azt-check-mark",18),t.qZA()),2&a){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_point"),": "),t.xp6(2),t.Q6J("mark",e.resultMarkObj.point)}}function cs(a,g){1&a&&(t.TgZ(0,"span",19),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_homework_utils_excel_table_export_not_point")," "))}function ms(a,g){if(1&a&&(t.ynx(0),t.YNc(1,ls,4,4,"span",14),t.YNc(2,cs,3,3,"span",17),t.BQk()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.resultMarkObj.confirmedAt),t.xp6(1),t.Q6J("ngIf",!e.resultMarkObj.confirmedAt)}}function ds(a,g){1&a&&(t.TgZ(0,"span",20),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_testbank_statistical_not_exem_yet")," "))}function _o(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){const x=t.CHM(e).$implicit,Z=t.oxw();return t.KtG(Z.clickToExamObj(x))}),t.TgZ(1,"div",8),t.O4$(),t.TgZ(2,"svg",9),t._UZ(3,"path",10),t.qZA()(),t.kcU(),t.TgZ(4,"div",11)(5,"p",12),t._uU(6),t.qZA(),t.TgZ(7,"div",13),t.YNc(8,ms,3,2,"ng-container",14),t.YNc(9,ds,3,3,"span",15),t.qZA(),t.TgZ(10,"div",16),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()()}if(2&a){const e=g.$implicit,c=g.index;t.Gre("clickable zoom-in flex items-center ",c>0?"mt-3":""," pb-2"),t.xp6(5),t.s9C("matTooltip",e.name),t.xp6(1),t.AsE("",c+1,". ",e.name,""),t.xp6(2),t.Q6J("ngIf",e.resultMarkObj),t.xp6(1),t.Q6J("ngIf",!e.resultMarkObj),t.xp6(2),t.AsE("",t.lcZ(12,10,"lang_student_profile_utils_list_exam_created_at"),": ",t.lcZ(13,12,e.createdAt),"")}}function po(a,g){1&a&&(t.TgZ(0,"div",21),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_list_null")))}function Mo(a,g){1&a&&t._UZ(0,"azt-loading-effect")}function di(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",22),t.YNc(1,Mo,1,0,"azt-loading-effect",14),t.TgZ(2,"button",23),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.getNextExamResultObjs())}),t.ALo(3,"mytranslate"),t.O4$(),t.TgZ(4,"svg",24),t._UZ(5,"polyline",25),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.s9C("matTooltip",t.lcZ(3,3,"lang_student_profile_utils_list_exam_tooltip_view")),t.Q6J("disabled",!e.examNextPage)}}let Wn=(()=>{class a extends m.Q{clickToExamObj(e){e.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("exam",e)?this.commonService.myNavigationWithQueryString("/admin/testbank/test-review/"+e.id+"/"+e.resultMarkObj?.userId+"/"+e.resultMarkObj?.studentId+"/"+e.resultMarkObj?.resultId,"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/exam-results-list/"+(e.categoryId??0)+"/"+e.id+"/0","?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.examObjs=[],this.examNextPage="",this.getNextExamResultObjs()}getNextExamResultObjs(){this.initStatusObj();var e=this.studentProfileFilterService.getDefaultFilterObj("exam");e.classroomId=this.classroomId,e.studentId=this.studentId,e.nextPage=this.examNextPage,this.studentProfileV2Service.apiStudentProfileV2GetExamResultObjsPost(e).subscribe(c=>{1==c.success?(this.examObjs=this.examObjs.concat(c.data?.objs??[]),this.examNextPage=c.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextExamResultObjs()}constructor(e,c,_){super(),this.studentProfileV2Service=e,this.studentProfileFilterService=c,this.permissionService=_,this.backToLink="",this.examObjs=[],this.examNextPage=""}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Gt.LU),t.Y36(uo),t.Y36(E.j))},a.\u0275cmp=t.Xpm({type:a,selectors:[["student-profile-list-exams"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink"},features:[t.qOj],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","list-exam-pw607HPZy",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","list-exam-pw607HPZy",3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"w-12","h-12","text-pending","bi","bi-file-earmark-check-fill"],["d","M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm1.354 4.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708.708z"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],["azt-track-service","list-exam-wvCfNB667b",1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"student-profile-filter-menu",2),t.NdJ("changeFilterEvent",function(){return c.reInitData()}),t.qZA()(),t.TgZ(5,"div",3),t.YNc(6,_o,14,14,"div",4),t.YNc(7,po,3,3,"div",5),t.YNc(8,di,6,5,"div",6),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"lang_student_profile_utils_list_exam_list_submitted")),t.xp6(2),t.Q6J("filterType","exam"),t.xp6(2),t.Q6J("ngForOf",c.examObjs),t.xp6(1),t.Q6J("ngIf",0==c.examObjs.length&&!c.examNextPage),t.xp6(1),t.Q6J("ngIf",c.examObjs.length>0&&c.examNextPage))},dependencies:[Q.sg,Q.O5,kt.gM,dt.l,Jt.B,mi,L.JV,L.$n],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),a})();function Io(a,g){1&a&&(t.TgZ(0,"span",11),t._UZ(1,"azt-loading-ui"),t.qZA())}let us=(()=>{class a extends le.e{confirmDelete(){this.initStatusObj(),this.waitDestroy(this.studentService.apiStudentRemoveMappingObjGet(this.studentObj.id??0).subscribe(e=>{1==e.success?(this.btnCloseDialog(!0),this.successStatusObj(),this.successStatusObj("lang_auto_xac_nhan_thanh_cong",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(e.message??"",!0))}))}btnCloseDialog(e){this.dialogRef.close(e)}constructor(e,c,_){super(_,c),this.studentService=e,this.dialogRef=c,this.data=_,this.studentObj=_.studentObj,this.classroomObj=_.classroomObj}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Gt.VT),t.Y36(St.so,8),t.Y36(St.WI,8))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-delete-parent"]],features:[t.qOj],decls:25,vars:19,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-3"],[1,"text-base","font-medium","mr-auto"],[1,"text-danger"],[1,"text-danger",3,"matTooltip"],[1,"text-note"],[1,"p-3","text-right"],["azt-track-service","delete-parent-OCYQzQEUBJ",1,"btn","w-24","btn-secondary","mr-3",3,"click"],["azt-track-service","delete-parent-q0ZQYEQFkD",1,"btn","w-32","btn-primary",3,"click"],["class","w-4 h-4 inline-block mr-2",4,"ngIf"],[1,"w-4","h-4","inline-block","mr-2"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"azt-mat-dialog-content")(3,"div",2)(4,"p",3),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"b",4),t._uU(8),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"span",5),t._uU(12),t.qZA(),t._uU(13,"\xa0 "),t.TgZ(14,"span",6),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()()(),t.TgZ(17,"div",7)(18,"button",8),t.NdJ("click",function(){return c.btnCloseDialog(!1)}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"button",9),t.NdJ("click",function(){return c.confirmDelete()}),t.YNc(22,Io,2,0,"span",10),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(5),t.hij(" ",t.lcZ(6,9,"lang_student_utils_delete_parent_respon_first"),"\xa0 "),t.xp6(3),t.Oqu(c.studentObj.fullName),t.xp6(1),t.hij(" ",t.lcZ(10,11,"lang_student_utils_delete_parent_respon_last"),"\xa0 "),t.xp6(2),t.s9C("matTooltip",c.classroomObj.name),t.xp6(1),t.hij(" ",c.classroomObj.name,""),t.xp6(3),t.hij("* ",t.lcZ(16,13,"lang_student_utils_delete_parent_reques"),""),t.xp6(4),t.hij(" ",t.lcZ(20,15,"lang_cms_common_close_btn")," "),t.xp6(3),t.Q6J("ngIf",c.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(24,17,"lang_cms_common_confirm_btn")," "))},dependencies:[Q.O5,kt.gM,_e.R,it.n,L.JV],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:98;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137)}.school-info[_ngcontent-%COMP%]{z-index:99;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;border-radius:5px;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 2px 0 0;white-space:nowrap}.text-note[_ngcontent-%COMP%]{display:block;font-style:italic;font-size:15px;color:#000;font-weight:600;text-align:center;margin:10px 0}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),a})();function jn(a,g){1&a&&t._UZ(0,"azt-loading-effect")}function _s(a,g){if(1&a&&(t._UZ(0,"img",38),t.ALo(1,"mycdn")),2&a){const e=t.oxw(3);t.s9C("src",t.lcZ(1,1,e.studentObj.avatar),t.LSH)}}function ui(a,g){if(1&a&&t._UZ(0,"azt-create-avatar",39),2&a){const e=t.oxw(3);t.Q6J("nameCreateAvatar",e.studentObj.fullName)("size",128)}}function _i(a,g){1&a&&(t.TgZ(0,"div",40),t.O4$(),t.TgZ(1,"svg",41),t._UZ(2,"path",42)(3,"path",43),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()),2&a&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_da_co_tai_khoan")," "))}function ps(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"button",48),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(4);return t.KtG(_.editStudentDialog(_.studentObj))}),t.O4$(),t.TgZ(1,"svg",49),t._UZ(2,"path",50)(3,"path",51),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}2&a&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_button_edit")," "))}function pi(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(4);return t.KtG(_.deleteStudentDialog(_.studentObj))}),t.O4$(),t.TgZ(1,"svg",53),t._UZ(2,"path",54)(3,"path",55)(4,"path",56)(5,"line",57)(6,"line",58),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()}2&a&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function jo(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"button",59),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(4);return t.KtG(_.deleteParentOfStudentDialog(_.studentObj))}),t.O4$(),t.TgZ(1,"svg",60),t._UZ(2,"path",42)(3,"path",61)(4,"path",62),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()}2&a&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_student_profile_utils_account_student_required_verifie")," "))}function gi(a,g){if(1&a&&(t.TgZ(0,"div",44),t.YNc(1,ps,6,3,"button",45),t.ALo(2,"editPermission"),t.YNc(3,pi,9,3,"button",46),t.ALo(4,"fullPermission"),t.ALo(5,"editPermission"),t.YNc(6,jo,7,3,"button",47),t.ALo(7,"editPermission"),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.xi3(2,3,e.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",t.xi3(4,6,e.classroomObj,"student")||t.xi3(5,9,e.classroomObj,"student")),t.xp6(3),t.Q6J("ngIf",0!=e.studentObj.parentId&&t.xi3(7,12,e.classroomObj,"student"))}}function hi(a,g){if(1&a){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"button",65),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(4);return t.KtG(_.deleteStudentDialog(_.studentObj))}),t.O4$(),t.TgZ(1,"svg",53),t._UZ(2,"path",54)(3,"path",55)(4,"path",56)(5,"line",57)(6,"line",58),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()}2&a&&(t.xp6(7),t.hij(" ",t.lcZ(8,1,"lang_student_profile_utils_account_student_delete_out_class")," "))}function fi(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",44)(1,"button",63),t.NdJ("click",function(){t.CHM(e);const _=t.oxw(3);return t.KtG(_.editStudentDialog(_.studentObj))}),t.O4$(),t.TgZ(2,"svg",49),t._UZ(3,"path",50)(4,"path",51),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.YNc(7,hi,9,3,"button",64),t.ALo(8,"fullPermission"),t.ALo(9,"editPermission"),t.qZA()}if(2&a){const e=t.oxw(3);t.xp6(5),t.hij(" ",t.lcZ(6,2,"lang_button_edit")," "),t.xp6(2),t.Q6J("ngIf",t.xi3(8,4,e.classroomObj,"student")||t.xi3(9,7,e.classroomObj,"student"))}}function Lo(a,g){if(1&a&&(t.ynx(0),t.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),t.YNc(5,_s,2,3,"img",8),t.YNc(6,ui,1,2,"azt-create-avatar",9),t.qZA(),t.TgZ(7,"div",10)(8,"div",11),t._uU(9),t.qZA(),t.YNc(10,_i,6,3,"div",12),t.qZA()()(),t.TgZ(11,"div",13)(12,"div",14),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"div",15)(16,"div",16),t.O4$(),t.TgZ(17,"svg",17),t._UZ(18,"path",18),t.qZA(),t.kcU(),t.TgZ(19,"span",19),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()(),t.TgZ(22,"div",20),t.O4$(),t.TgZ(23,"svg",17),t._UZ(24,"rect",21)(25,"path",22),t.qZA(),t.kcU(),t.TgZ(26,"span",23),t._uU(27),t.qZA()(),t.TgZ(28,"div",20),t.O4$(),t.TgZ(29,"svg",17),t._UZ(30,"rect",24)(31,"line",25)(32,"line",26)(33,"line",27)(34,"path",28)(35,"path",29)(36,"path",30)(37,"path",31)(38,"path",32)(39,"path",33),t.qZA(),t.kcU(),t.TgZ(40,"span",19),t._uU(41),t.ALo(42,"mytranslate"),t.ALo(43,"formatOnlyDateByUserUnitPipe"),t.qZA()(),t.TgZ(44,"div",20),t.O4$(),t.TgZ(45,"svg",17),t._UZ(46,"path",34)(47,"circle",35),t.qZA(),t.kcU(),t.TgZ(48,"span",19),t._uU(49),t.ALo(50,"mytranslate"),t.ALo(51,"mytranslate"),t.ALo(52,"mytranslate"),t.qZA()(),t.TgZ(53,"div",20),t.O4$(),t.TgZ(54,"svg",17),t._UZ(55,"polyline",36),t.qZA(),t.kcU(),t.TgZ(56,"span",19),t._uU(57),t.ALo(58,"mytranslate"),t.ALo(59,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()()()(),t.YNc(60,gi,8,15,"div",37),t.ALo(61,"editPermission"),t.YNc(62,fi,10,10,"div",37),t.ALo(63,"editPermission"),t.BQk()),2&a){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",e.studentObj.avatar),t.xp6(1),t.Q6J("ngIf",!e.studentObj.avatar),t.xp6(2),t.s9C("matTooltip",e.studentObj.fullName),t.xp6(1),t.Oqu(e.studentObj.fullName),t.xp6(1),t.Q6J("ngIf",1==e.studentObj.isVerified),t.xp6(3),t.Oqu(t.lcZ(14,18,"lang_auto_thong_tin")),t.xp6(7),t.AsE(" ",t.lcZ(21,20,"lang_number_phone"),": ",e.studentObj.phone," "),t.xp6(6),t.s9C("matTooltip",e.studentObj.email),t.xp6(1),t.hij("Email: ",e.studentObj.email,""),t.xp6(14),t.AsE(" ",t.lcZ(42,22,"lang_birthday"),": ",t.lcZ(43,24,e.studentObj.birthday)," "),t.xp6(8),t.AsE(" ",t.lcZ(50,26,"lang_gender"),": ",1==e.studentObj.gender?t.lcZ(51,28,"lang_gender_male"):t.lcZ(52,30,"lang_gender_female")," "),t.xp6(8),t.AsE(" ",t.lcZ(58,32,"lang_student_profile_utils_account_student_Last_login"),": ",t.lcZ(59,34,e.studentObj.lastActivity)," "),t.xp6(3),t.Q6J("ngIf",0!=e.studentObj.parentId&&t.xi3(61,36,e.classroomObj,"student")),t.xp6(2),t.Q6J("ngIf",0==e.studentObj.parentId&&t.xi3(63,39,e.classroomObj,"student"))}}function Do(a,g){1&a&&(t.TgZ(0,"div",66)(1,"span",67),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_profile_student_not_found")))}function xi(a,g){if(1&a&&(t.YNc(0,Lo,64,42,"ng-container",1),t.YNc(1,Do,4,3,"ng-template",null,3,t.W1O)),2&a){const e=t.MAs(2),c=t.oxw();t.Q6J("ngIf",c.studentObj)("ngIfElse",e)}}let bi=(()=>{class a extends m.Q{deleteStudentDialog(e){this.sAztDialogService.open(Dn,{data:{studentObj:e,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(_=>{_&&this.commonService.myNavigation(this.paramBackToLink)})}editStudentDialog(e){this.sAztDialogService.open(cn,{data:{studentObj:e,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(_=>{_&&(this.reInitComponentEvent.emit(),this.getData())})}deleteParentOfStudentDialog(e){this.sAztDialogService.open(us,{data:{studentObj:e,classroomObj:this.classroomObj},restoreFocus:!1,width:"550px"}).afterClosed().subscribe(_=>{_&&(this.reInitComponentEvent.emit(),this.getData())})}getData(){this.initStatusObj(),this.studentProfileV2Service.apiStudentProfileV2GetObjPost({classroomId:this.classroomId,studentId:this.studentId,getHasMark:!0,getNotMarked:!0,getNotDone:!0,getResendAnswer:!0}).subscribe(c=>{1==c.success?(c.data?.studentObj&&c.data?.classroomObj&&c.data.classroomObj.permissionObj&&(this.studentObj=c.data.studentObj,this.classroomObj=c.data.classroomObj),this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){super.ngOnInit(),this.getData()}constructor(e,c){super(),this.studentProfileV2Service=e,this.sAztDialogService=c,this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new t.vpe}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Gt.LU),t.Y36(me.C))},a.\u0275cmp=t.Xpm({type:a,selectors:[["detail-account-student"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[t.qOj],decls:4,vars:2,consts:[[1,"intro-y","box","px-5","pt-5"],[4,"ngIf","ngIfElse"],["doneLoading",""],["noStudentObj",""],[1,"grid","grid-cols-12","border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"col-span-12","lg:col-span-6","px-5"],[1,"grid","grid-cols-12","items-center"],[1,"col-span-3","lg:col-span-2","avt-profile","w-20","h-20","sm:w-24","sm:h-24","flex-none","image-fit","relative"],["class","border rounded-full","alt","","width","128","height","128",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"ml-5","col-span-9","lg:col-span-10"],[1,"truncate","sm:whitespace-normal","font-medium","text-lg",3,"matTooltip"],["class","text-slate-500 flex items-center",4,"ngIf"],[1,"col-span-12","lg:col-span-6","mt-6","lg:mt-0","px-5","border-l","border-r","border-slate-200/60","dark:border-darkmode-400","border-t","lg:border-t-0","pt-5","lg:pt-0"],[1,"font-medium","lg:mt-3"],[1,"flex","flex-col","justify-center","lg:items-start","mt-4"],[1,"sm:whitespace-normal","flex","items-center",2,"width","100%"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"],[1,"truncate"],[1,"sm:whitespace-normal","flex","items-center","mt-3",2,"width","100%"],["x","2","y","4","width","20","height","16","rx","2"],["d","m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"],[1,"truncate",3,"matTooltip"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["points","22 12 18 12 15 21 9 3 6 12 2 12"],["class","intro-x flex flex-col lg:flex-row py-2",4,"ngIf"],["alt","","width","128","height","128",1,"border","rounded-full",3,"src"],[3,"nameCreateAvatar","size"],[1,"text-slate-500","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-success"],["d","M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"],["d","m9 12 2 2 4-4"],[1,"intro-x","flex","flex-col","lg:flex-row","py-2"],["azt-track-service","detail-account-student-rzLFlIWrx","class","py-4 mr-6 flex items-center hover:bg-slate-200",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-zZpuvJmKGS","class","py-4 mr-6 flex items-center hover:bg-slate-200",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-hml3hBaXHE","class","py-4 mr-6 flex items-center hover:bg-slate-200",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-rzLFlIWrx",1,"py-4","mr-6","flex","items-center","hover:bg-slate-200",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-primary"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["azt-track-service","detail-account-student-zZpuvJmKGS",1,"py-4","mr-6","flex","items-center","hover:bg-slate-200",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-danger"],["d","M3 6h18"],["d","M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"],["d","M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"],["x1","10","y1","11","x2","10","y2","17"],["x1","14","y1","11","x2","14","y2","17"],["azt-track-service","detail-account-student-hml3hBaXHE",1,"py-4","mr-6","flex","items-center","hover:bg-slate-200",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-warning"],["d","M12 8v4"],["d","M12 16h.01"],["azt-track-service","detail-account-student-WgNDrDRXqF",1,"py-4","mr-6","flex","items-center","hover:bg-slate-200",3,"click"],["azt-track-service","detail-account-student-njjAOAGlF5","class","py-4 mr-6 flex items-center hover:bg-slate-200",3,"click",4,"ngIf"],["azt-track-service","detail-account-student-njjAOAGlF5",1,"py-4","mr-6","flex","items-center","hover:bg-slate-200",3,"click"],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative","mb-5"],[1,"block","sm:inline"]],template:function(e,c){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,jn,1,0,"azt-loading-effect",1),t.YNc(2,xi,3,2,"ng-template",null,2,t.W1O),t.qZA()),2&e){const _=t.MAs(3);t.xp6(1),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",_)}},dependencies:[Q.O5,kt.gM,dt.l,mt.g,L.JV,L.QN,L.NK,L.Pf,L.$n,L.YK],styles:[".truncate[_ngcontent-%COMP%]{width:90%}  .avt-profile .create-avatar-class{width:-webkit-fill-available!important;height:-webkit-fill-available!important}"]}),a})();function gs(a,g){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t._UZ(3,"azt-check-mark",22),t.qZA()),2&a){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_point"),": "),t.xp6(2),t.Q6J("mark",e.resultMarkObj.point)}}function vi(a,g){1&a&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_profile_not_mark_result")," "))}function hs(a,g){if(1&a&&(t.TgZ(0,"span"),t.YNc(1,gs,4,4,"span",18),t.YNc(2,vi,3,3,"span",21),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.resultMarkObj.confirmedAt),t.xp6(1),t.Q6J("ngIf",!e.resultMarkObj.confirmedAt)}}function fs(a,g){1&a&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_student_profile_no_result")," "))}function Cs(a,g){if(1&a&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_student_profile_resend_answer_required"),": ",e.resendAnswerObj.resendNote," ")}}function xs(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){const x=t.CHM(e).$implicit,Z=t.oxw();return t.KtG(Z.clickToHomeworkObj(x))}),t.TgZ(1,"div",8),t.O4$(),t.TgZ(2,"svg",9),t._UZ(3,"path",10)(4,"polyline",11)(5,"line",12)(6,"line",13)(7,"line",14),t.qZA()(),t.kcU(),t.TgZ(8,"div",15)(9,"p",16),t._uU(10),t.qZA(),t.TgZ(11,"div",17),t.YNc(12,hs,3,2,"span",18),t.YNc(13,fs,3,3,"span",19),t.YNc(14,Cs,3,4,"span",19),t.qZA(),t.TgZ(15,"div",20),t._uU(16),t.ALo(17,"mytranslate"),t.ALo(18,"formatFullDateTimeWithoutSecondByUserUnitPipe"),t.qZA()()()}if(2&a){const e=g.$implicit,c=g.index;t.Gre("clickable zoom-in flex items-center ",c>0?"mt-5":""," pb-2"),t.xp6(9),t.s9C("matTooltip",e.name),t.xp6(1),t.AsE("",c+1,". ",e.name,""),t.xp6(2),t.Q6J("ngIf",e.resultMarkObj),t.xp6(1),t.Q6J("ngIf",!e.resultMarkObj&&!e.resendAnswerObj),t.xp6(1),t.Q6J("ngIf",!e.resultMarkObj&&e.resendAnswerObj),t.xp6(2),t.AsE("",t.lcZ(17,11,"lang_student_profile_utils_homework_answer_created_at"),": ",t.lcZ(18,13,e.createdAt),"")}}function d(a,g){1&a&&(t.TgZ(0,"div",25),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_list_null")))}function i(a,g){1&a&&t._UZ(0,"azt-loading-effect")}function n(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",26),t.YNc(1,i,1,0,"azt-loading-effect",18),t.TgZ(2,"button",27),t.NdJ("click",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.getNextHomeworkAnswerObjs())}),t.ALo(3,"mytranslate"),t.O4$(),t.TgZ(4,"svg",28),t._UZ(5,"polyline",29),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.s9C("matTooltip",t.lcZ(3,3,"lang_auto_hien_ban_ghi_cu_hon")),t.Q6J("disabled",!e.homeworkNextPage)}}let s=(()=>{class a extends m.Q{clickToHomeworkObj(e){e.resultMarkObj?.resultId&&this.permissionService.hasMarkPointPermission("homework",e)?this.commonService.myNavigationWithQueryString("/admin/homework/switch-mark-exercise/"+e.resultMarkObj?.resultId+"/"+e.hashId,"?backto="+encodeURIComponent(this.backToLink)):this.commonService.myNavigationWithQueryString("/admin/testbank/homework-results-list/"+(e.classroomId??0)+"/"+e.id+"/"+e.hashId,"?backto="+encodeURIComponent(this.backToLink))}reInitData(){this.homeworkObjs=[],this.homeworkNextPage="",this.getNextHomeworkAnswerObjs()}getNextHomeworkAnswerObjs(){this.initStatusObj();var e=this.studentProfileFilterService.getDefaultFilterObj("homework");e.classroomId=this.classroomId,e.studentId=this.studentId,e.nextPage=this.homeworkNextPage,this.studentProfileV2Service.apiStudentProfileV2GetHomeworkAnswerObjsPost(e).subscribe(c=>{1==c.success?(this.homeworkObjs=this.homeworkObjs.concat(c.data?.objs??[]),this.homeworkNextPage=c.data?.nextPage??"",this.stopStatusObj()):this.errorStatusObj("lang_auto_khong_load_duoc_du_lieu_lop_hoc",!0)})}ngOnInit(){this.getNextHomeworkAnswerObjs()}constructor(e,c,_){super(),this.studentProfileV2Service=e,this.studentProfileFilterService=c,this.permissionService=_,this.backToLink="",this.homeworkNextPage="",this.homeworkObjs=[]}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(Gt.LU),t.Y36(uo),t.Y36(E.j))},a.\u0275cmp=t.Xpm({type:a,selectors:[["student-profile-list-homeworks"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink"},features:[t.qOj],decls:9,vars:7,consts:[[1,"flex","items-center","px-5","py-5","sm:py-3","border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"font-medium","text-base","mr-auto"],[3,"filterType","changeFilterEvent"],[1,"p-5"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"class","click",4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],["azt-track-service","homework-answer-Ksjf2TyzWB",3,"click"],[1,"file"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-12","h-12","text-primary"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],[1,"ml-4","content-right"],[1,"truncate","font-medium",2,"max-width","85%",3,"matTooltip"],[1,"text-xs","mt-0.5",2,"font-weight","500"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-slate-500","text-xs","mt-0.5"],["class","text-warning",4,"ngIf"],[3,"mark"],[1,"text-warning"],[1,"text-danger"],[1,"text-center","mt-3"],[1,"mt-2","text-center"],["azt-track-service","homework-answer-MWO-mgLYZ_",1,"",3,"matTooltip","disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","6 9 12 15 18 9"]],template:function(e,c){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"student-profile-filter-menu",2),t.NdJ("changeFilterEvent",function(){return c.reInitData()}),t.qZA()(),t.TgZ(5,"div",3),t.YNc(6,xs,19,15,"div",4),t.YNc(7,d,3,3,"div",5),t.YNc(8,n,6,5,"div",6),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,5,"lang_student_profile_utils_homework_answer_list_submitted")),t.xp6(2),t.Q6J("filterType","homework"),t.xp6(2),t.Q6J("ngForOf",c.homeworkObjs),t.xp6(1),t.Q6J("ngIf",0==c.homeworkObjs.length&&!c.homeworkNextPage),t.xp6(1),t.Q6J("ngIf",c.homeworkObjs.length>0&&c.homeworkNextPage))},dependencies:[Q.sg,Q.O5,kt.gM,dt.l,Jt.B,mi,L.JV,L.$n],styles:[".content[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:5px}.box-title[_ngcontent-%COMP%]{border:1px solid rgb(233,232,232);background-color:#fff;border-radius:5px}.content-right[_ngcontent-%COMP%]{width:90%;margin-right:3rem}"]}),a})();var u=f(66469),p=f(95287);function v(a,g){if(1&a&&(t.TgZ(0,"span"),t._UZ(1,"lucide-icon",15),t.qZA()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.s9C("name",e.showChild?"chevron-up":"chevron-down")}}function y(a,g){if(1&a&&(t.TgZ(0,"span",18),t._uU(1),t.qZA()),2&a){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.averageMark)}}const O=function(a){return{"width.%":a}};function I(a,g){if(1&a&&(t.TgZ(0,"div",16),t.YNc(1,y,2,1,"span",17),t.qZA()),2&a){const e=t.oxw().$implicit;t.Q6J("ngStyle",t.VKq(2,O,10*e.averageMark)),t.xp6(1),t.Q6J("ngIf",e.averageMark>1)}}function J(a,g){if(1&a&&(t.TgZ(0,"div",19),t._UZ(1,"knowledge-by-subject-student",20),t.qZA()),2&a){const e=t.oxw().$implicit,c=t.oxw();t.xp6(1),t.Q6J("knowledgeDetailObjs",e.children)("countLevelNode",c.countLevelNode+1)}}const U=function(a,g,e,c,_){return{"mt-3":a,"border-none":g,"bg-slate-100":e,"bg-white":c,"pb-0":_}},V=function(a){return{cursor:a}},H=function(a,g){return{"font-medium":a,"font-normal":g}},at=function(a){return{"padding-left.px":a}};function gt(a,g){if(1&a){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t.NdJ("click",function(){const x=t.CHM(e).$implicit,Z=t.oxw();return t.KtG(Z.showChildKnowledgeData(x))}),t.TgZ(3,"h3",4),t._uU(4),t.ALo(5,"mytranslate"),t.YNc(6,v,2,1,"span",5),t.qZA()(),t.TgZ(7,"div",6)(8,"h3",7),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"b"),t._uU(12),t.qZA(),t._uU(13,"/"),t.TgZ(14,"b"),t._uU(15),t.qZA(),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.TgZ(18,"div",8)(19,"div",9)(20,"span",10),t._uU(21,"0"),t.qZA(),t.TgZ(22,"div",11),t.YNc(23,I,2,4,"div",12),t.qZA(),t.TgZ(24,"span",13),t._uU(25,"10"),t.qZA()()()(),t.YNc(26,J,2,2,"div",14),t.qZA()}if(2&a){const e=g.$implicit,c=g.first,_=g.last,x=t.oxw();t.Q6J("ngClass",t.qbA(19,U,c&&0==x.countLevelNode,_,x.countLevelNode%2!=0,x.countLevelNode%2==0,e.showChild)),t.xp6(2),t.Akn(t.VKq(25,V,e.children&&e.children.length?"pointer":"default")),t.xp6(1),t.Q6J("ngClass",t.WLB(27,H,0==x.countLevelNode||e.showChild,0!=x.countLevelNode&&!e.showChild))("ngStyle",t.VKq(30,at,5*x.countLevelNode)),t.xp6(1),t.hij(" ",t.lcZ(5,13,e.name)," "),t.xp6(2),t.Q6J("ngIf",e.children&&e.children.length),t.xp6(3),t.hij(" ",t.lcZ(10,15,"lang_auto_tra_loi_dung"),":\xa0"),t.xp6(3),t.Oqu(e.totalCorrectQuestion),t.xp6(3),t.Oqu(e.totalQuestion),t.xp6(1),t.hij("\xa0",t.lcZ(17,17,"azt_lang_sugg_question")," "),t.xp6(7),t.Q6J("ngIf",e.averageMark),t.xp6(3),t.Q6J("ngIf",e.children&&e.children.length&&e.showChild)}}let Ot=(()=>{class a extends m.Q{showChildKnowledgeData(e){e.children&&e.children.length&&(e.showChild=!e.showChild)}ngOnInit(){super.ngOnInit()}constructor(){super(),this.knowledgeDetailObjs=[],this.countLevelNode=1}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["knowledge-by-subject-student"]],inputs:{knowledgeDetailObjs:"knowledgeDetailObjs",countLevelNode:"countLevelNode"},features:[t.qOj],decls:1,vars:1,consts:[["class","border-b border-slate-200/60 dark:border-darkmode-400","style","padding: 10px 24px; margin-left: -24px; margin-right: -24px;",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center",3,"click"],[1,"",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr","pr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],["style","margin-top: 10px",4,"ngIf"],[2,"vertical-align","top","height","16px!important","width","16px!important",3,"name"],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[2,"margin-top","10px"],[3,"knowledgeDetailObjs","countLevelNode"]],template:function(e,c){1&e&&t.YNc(0,gt,27,32,"div",0),2&e&&t.Q6J("ngForOf",c.knowledgeDetailObjs)},dependencies:[Q.mk,Q.sg,Q.O5,Q.PC,Zt.Nh5,a,L.JV],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}.pb-0[_ngcontent-%COMP%]{padding-bottom:0!important}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),a})();function It(a,g){1&a&&t._UZ(0,"azt-loading-effect")}function jt(a,g){if(1&a&&(t.TgZ(0,"span",23),t._uU(1),t.qZA()),2&a){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.averageMark)}}const vt=function(a){return{"width.%":a}};function Ut(a,g){if(1&a&&(t.TgZ(0,"div",21),t.YNc(1,jt,2,1,"span",22),t.qZA()),2&a){const e=t.oxw().$implicit;t.Q6J("ngStyle",t.VKq(2,vt,10*e.averageMark)),t.xp6(1),t.Q6J("ngIf",e.averageMark&&e.averageMark>1)}}function Me(a,g){1&a&&(t.TgZ(0,"div",24)(1,"span",25),t._UZ(2,"azt-loading-ui"),t.qZA()())}function gn(a,g){1&a&&(t.ynx(0),t.TgZ(1,"div",27)(2,"span",28),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.BQk()),2&a&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_profile_student_not_support_subject")))}function go(a,g){if(1&a&&(t.ynx(0),t.TgZ(1,"div",37)(2,"h4",30),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t._UZ(5,"knowledge-by-subject-student",38),t.BQk()),2&a){const e=t.oxw(3).$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,3,"lang_student_profile_result_by_topic")," "),t.xp6(2),t.Q6J("knowledgeDetailObjs",e.knowledgeDataObjs)("countLevelNode",0)}}function Eo(a,g){if(1&a&&(t.TgZ(0,"span",23),t._uU(1),t.qZA()),2&a){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.averageMark)}}const As=function(a,g,e,c){return{"bg-orange-600":a,"bg-red-600":g,"bg-green-600":e,"bg-blue-600":c}};function Ss(a,g){if(1&a&&(t.TgZ(0,"div",50),t.YNc(1,Eo,2,1,"span",22),t.qZA()),2&a){const e=t.oxw().$implicit;t.Q6J("ngClass",t.l5B(3,As,1==e.id,3==e.id,2==e.id,4==e.id))("ngStyle",t.VKq(8,vt,10*e.averageMark)),t.xp6(1),t.Q6J("ngIf",e.averageMark>1)}}const Ns=function(a){return{"border-none":a}};function Ms(a,g){if(1&a&&(t.TgZ(0,"div",40)(1,"div",41)(2,"div",42)(3,"h3",43),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"div",44)(7,"h3",43),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"b"),t._uU(11),t.qZA(),t._uU(12,"/"),t.TgZ(13,"b"),t._uU(14),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()(),t.TgZ(17,"div",45)(18,"div",46)(19,"span",47),t._uU(20,"0"),t.qZA(),t.TgZ(21,"div",48),t.YNc(22,Ss,2,10,"div",49),t.qZA(),t.TgZ(23,"span",18),t._uU(24,"10"),t.qZA()()()()()),2&a){const e=g.$implicit;t.Q6J("ngClass",t.VKq(13,Ns,g.last)),t.xp6(4),t.hij(" ",t.lcZ(5,7,e.name)," "),t.xp6(4),t.hij(" ",t.lcZ(9,9,"lang_auto_tra_loi_dung"),":\xa0"),t.xp6(3),t.Oqu(e.totalCorrectQuestion),t.xp6(3),t.Oqu(e.totalQuestion),t.xp6(1),t.hij("\xa0",t.lcZ(16,11,"azt_lang_sugg_question")," "),t.xp6(7),t.Q6J("ngIf",e.averageMark)}}function Is(a,g){if(1&a&&(t.ynx(0),t.TgZ(1,"div",37)(2,"h4",30),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.YNc(5,Ms,25,15,"div",39),t.BQk()),2&a){const e=t.oxw(3).$implicit;t.xp6(3),t.hij(" ",t.lcZ(4,2,"lang_student_profile_result_by_difficulty_level")," "),t.xp6(2),t.Q6J("ngForOf",e.difficultyDataObjs)}}function js(a,g){if(1&a&&(t.TgZ(0,"div",29)(1,"h4",30),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()(),t.TgZ(4,"div",31)(5,"div",32)(6,"div",33)(7,"div",34),t._UZ(8,"div",35),t.qZA()()()(),t.YNc(9,go,6,5,"ng-container",36),t.YNc(10,Is,6,4,"ng-container",36)),2&a){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_student_profile_exam_point_by_time")," "),t.xp6(6),t.Q6J("chart",e.chart),t.xp6(1),t.Q6J("ngIf",e.knowledgeDataObjs&&e.knowledgeDataObjs.length),t.xp6(1),t.Q6J("ngIf",e.difficultyDataObjs&&e.difficultyDataObjs.length)}}function Ls(a,g){if(1&a&&(t.YNc(0,gn,5,3,"ng-container",1),t.YNc(1,js,11,6,"ng-template",null,26,t.W1O)),2&a){const e=t.MAs(2),c=t.oxw().$implicit;t.Q6J("ngIf",c.errorGetData)("ngIfElse",e)}}function Ds(a,g){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-expansion-panel",7),t.NdJ("opened",function(){const x=t.CHM(e).index,Z=t.oxw(2);return t.KtG(Z.getStatisticalById(x))}),t.TgZ(2,"mat-expansion-panel-header",8)(3,"div",9)(4,"div",10)(5,"h3",11),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"mytranslate"),t.qZA()(),t.TgZ(9,"div",12)(10,"div",13)(11,"span",14),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"span",15),t._uU(15,"0"),t.qZA(),t.TgZ(16,"div",16),t.YNc(17,Ut,2,4,"div",17),t.qZA(),t.TgZ(18,"span",18),t._uU(19,"10"),t.qZA()()()()(),t.YNc(20,Me,3,0,"div",19),t.YNc(21,Ls,3,2,"ng-template",null,20,t.W1O),t.qZA(),t.BQk()}if(2&a){const e=g.$implicit,c=g.index,_=t.MAs(22);t.xp6(1),t.Q6J("expanded",0==c),t.xp6(5),t.AsE(" ",t.lcZ(7,7,e.subjectName)," ","("+t.lcZ(8,9,e.levelName)+")"," "),t.xp6(6),t.Oqu(t.lcZ(13,11,"lang_auto_diem_trung_binh")),t.xp6(5),t.Q6J("ngIf",e.averageMark),t.xp6(3),t.Q6J("ngIf",e.isLoading)("ngIfElse",_)}}function Es(a,g){if(1&a&&(t.TgZ(0,"div",3)(1,"div",4)(2,"mat-accordion",5),t.YNc(3,Ds,23,13,"ng-container",6),t.qZA()()()),2&a){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.levelSubjectObjs)}}let Ps=(()=>{class a extends m.Q{getStatisticalById(e){this.levelSubjectObjs.length&&this.levelSubjectObjs[e]&&(this.levelSubjectObjs[e].isLoading=!0,this.levelSubjectObjs[e].errorGetData=!1,this.examPageResultService.apiExamPageResultListStudentProfileByFieldGet(this.studentId,this.levelSubjectObjs[e].levelId??0,this.levelSubjectObjs[e].subjectId??0).subscribe(c=>{1==c.success&&c.data?(this.levelSubjectObjs[e].difficultyDataObjs=c.data.difficulty??[],this.levelSubjectObjs[e].knowledgeDataObjs=c.data.knowledge??[],this.levelSubjectObjs[e].chart=this.createChart(c.data.examResults??[]),this.levelSubjectObjs[e].isLoading=!1,this.levelSubjectObjs[e].errorGetData=!1):(this.levelSubjectObjs[e].isLoading=!1,this.levelSubjectObjs[e].errorGetData=!0,this.errorStatusObj(c.message??"",!0))}))}createChart(e){let c=this.commonService.myTranslateInstant("lang_auto_Diem")??"",_=this.commonService.myTranslateInstant("lang_student_profile_exam_point_by_time")??"",x=[],Z=[];return e.forEach(K=>{x.push(K.mark??0),Z.push(this.sAztTimeService.formatFullDateTimeWithoutSecondByUserUnit(K.createdAt))}),new u.kL({chart:{type:"line",style:{fontFamily:"Arial"}},title:{style:{wordWrap:"break-word","text-align":"center"},text:_,useHTML:!0},colors:["#2361ae"],credits:{enabled:!1},xAxis:{categories:Z},yAxis:{title:{text:c}},series:[{name:c,type:"line",data:x}]})}getDataSubject(){this.initStatusObj(),this.examPageResultService.apiExamPageResultListStudentProfileByLevelSubjectsGet(this.studentId).subscribe(e=>{1==e.success&&e.data?(this.levelSubjectObjs=e.data.objs??[],this.getStatisticalById(0),this.stopStatusObj()):this.errorStatusObj(e.message??"",!0)})}ngOnInit(){super.ngOnInit(),this.getDataSubject()}constructor(e,c,_){super(),this.examPageResultService=e,this.sAztDialogService=c,this.sAztTimeService=_,this.backToLink="",this.paramBackToLink="",this.reInitComponentEvent=new t.vpe,this.levelSubjectObjs=[],this.chart=new u.kL}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(W.DR),t.Y36(me.C),t.Y36(Ee.D))},a.\u0275cmp=t.Xpm({type:a,selectors:[["detail-by-subject-student"]],inputs:{classroomId:"classroomId",studentId:"studentId",backToLink:"backToLink",paramBackToLink:"paramBackToLink"},outputs:{reInitComponentEvent:"reInitComponentEvent"},features:[t.qOj],decls:4,vars:2,consts:[[1,"intro-y"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","pb-5","-mx-5"],[1,"px-5"],["multi","",1,"example-headers-align"],[4,"ngFor","ngForOf"],[2,"margin-top","0.75rem",3,"expanded","opened"],[1,"pad-mobile"],[1,"grid","grid-cols-12","gap-3","gap-mobile","items-center","w-full","justify-between"],[1,"col-span-12","lg:col-span-3"],[1,"font-medium","mr-3"],[1,"col-span-12","lg:col-span-9","text-center"],[1,"flex","profile-flr","pr-5",2,"align-items","center"],[1,"text-md",2,"vertical-align","middle","margin-right","15px"],[1,"text-md",2,"vertical-align","middle","margin-right","5px"],[1,"w-avg-profile","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 bg-blue-600 text-right p-0.5 leading-none",3,"ngStyle",4,"ngIf"],[1,"text-md",2,"vertical-align","middle","margin-left","5px"],["class","flex justify-center mt-3",4,"ngIf","ngIfElse"],["doneLoadingPage",""],[1,"h-6","text-blue-100","bg-blue-600","text-right","p-0.5","leading-none",3,"ngStyle"],["class","text-md font-medium mr-2 span-baseline-middle",4,"ngIf"],[1,"text-md","font-medium","mr-2","span-baseline-middle"],[1,"flex","justify-center","mt-3"],[1,"w-6","h-6","inline-block"],["hasData",""],["role","alert",1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","relative"],[1,"block","sm:inline"],[1,"w-auto","text-left","bg-gray-200",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[1,"font-medium"],[1,"report-box","intro-x","mt-3"],[1,"box","p-5"],[1,"h-[400px]"],[1,"chart-center"],[3,"chart"],[4,"ngIf"],[1,"w-auto","text-left","bg-gray-200","mt-3",2,"padding","10px 24px","margin-left","-24px","margin-right","-24px"],[3,"knowledgeDetailObjs","countLevelNode"],["class","border-b border-slate-200/60 dark:border-darkmode-400 mt-2 py-3",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","mt-2","py-3",3,"ngClass"],[1,"grid","grid-cols-12","gap-2"],[1,"col-span-12","md:col-span-5",2,"align-self","center"],[1,"font-normal","mr-3"],[1,"col-span-12","md:col-span-3",2,"align-self","center"],[1,"col-span-12","md:col-span-4",2,"align-self","center"],[1,"flex","profile-flr",2,"align-items","center"],[1,"text-md","margin-web",2,"vertical-align","middle","margin-right","5px"],[1,"w-full","h-6","bg-gray-200","dark:bg-gray-700"],["class","h-6 text-blue-100 text-right p-0.5 leading-none",3,"ngClass","ngStyle",4,"ngIf"],[1,"h-6","text-blue-100","text-right","p-0.5","leading-none",3,"ngClass","ngStyle"]],template:function(e,c){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,It,1,0,"azt-loading-effect",1),t.YNc(2,Es,4,1,"ng-template",null,2,t.W1O),t.qZA()),2&e){const _=t.MAs(3);t.xp6(1),t.Q6J("ngIf",c.statusObj.loading)("ngIfElse",_)}},dependencies:[Q.mk,Q.sg,Q.O5,Q.PC,p.pp,p.ib,p.yz,dt.l,it.n,u.Dm,Ot,L.JV],styles:[".w-avg-profile[_ngcontent-%COMP%]{width:80%}.span-baseline-middle[_ngcontent-%COMP%]{vertical-align:-webkit-baseline-middle!important;vertical-align:-moz-middle-with-baseline!important}.profile-flr[_ngcontent-%COMP%]{float:right;width:100%}.border-none[_ngcontent-%COMP%]{border:none!important}.margin-web[_ngcontent-%COMP%]{margin-left:auto}@media screen and (max-width: 768px){.w-avg-profile[_ngcontent-%COMP%]{width:40%}.profile-flr[_ngcontent-%COMP%]{float:left;width:100%}.dis-none-mobile[_ngcontent-%COMP%]{display:none!important}.gap-mobile[_ngcontent-%COMP%]{gap:.2rem!important}}"]}),a})();const Us=function(a){return{"margin-bottom":a}},zs=[{path:"",component:Qe,canActivate:[o.v],children:[{path:"merge-student/:id",component:ci},{path:"profile-student/:classroom_id/:id",component:(()=>{class a extends m.Q{reInitOtherComponent(){this.listExam?.reInitData(),this.listHomework?.reInitData()}ngOnInit(){var e=this.commonService.getMyParam(this.activeRoute,"classroom_id"),c=this.commonService.getMyParam(this.activeRoute,"id");this.classroomId=parseInt(e||"",10),this.studentId=parseInt(c||"",10),this.backToLink="/admin/student/profile-student/"+this.classroomId+"/"+this.studentId,this.commonService.getMyQueryParam("backto")&&(this.paramBackToLink=this.commonService.getMyQueryParam("backto")??""),this.commonService.translateMetaData({title:"lang_cms_student_detail_title",description:"lang_cms_test_config_description",image:"lang_cms_student_detail_description"}),super.ngOnInit()}constructor(e){super(),this.activeRoute=e,this.classroomId=0,this.studentId=0,this.backToLink="",this.paramBackToLink=""}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(et.gz))},a.\u0275cmp=t.Xpm({type:a,selectors:[["student-profile"]],viewQuery:function(e,c){if(1&e&&(t.Gf(Wn,5),t.Gf(Wn,5)),2&e){let _;t.iGM(_=t.CRH())&&(c.listExam=_.first),t.iGM(_=t.CRH())&&(c.listHomework=_.first)}},features:[t.qOj],decls:14,vars:18,consts:[[3,"headerBackToLink"],["id","profileStudent",1,"grid","grid-cols-12","gap-6","mt-5"],[1,"col-span-12","lg:col-span-12","2xl:col-span-12"],[3,"studentId","classroomId","backToLink","paramBackToLink","reInitComponentEvent"],[1,"grid","grid-cols-12","gap-6","mt-5"],[1,"intro-y","box","col-span-12","lg:col-span-6"],[3,"studentId","classroomId","backToLink"],["listExam",""],[1,"intro-y","box","col-span-12","lg:col-span-6",3,"ngStyle"],["listHomework",""],[1,"mt-3","mb-3","text-lg",2,"font-weight","450"]],template:function(e,c){1&e&&(t.TgZ(0,"teacher-layout",0)(1,"div",1)(2,"div",2)(3,"detail-account-student",3),t.NdJ("reInitComponentEvent",function(){return c.reInitOtherComponent()}),t.qZA(),t.TgZ(4,"div",4)(5,"div",5),t._UZ(6,"student-profile-list-exams",6,7),t.qZA(),t.TgZ(8,"div",8),t._UZ(9,"student-profile-list-homeworks",6,9),t.qZA()(),t.TgZ(11,"p",10),t._uU(12,"B\xc1O C\xc1O K\u1ebeT QU\u1ea2 H\u1eccC T\u1eacP"),t.qZA(),t.TgZ(13,"detail-by-subject-student",3),t.NdJ("reInitComponentEvent",function(){return c.reInitOtherComponent()}),t.qZA()()()()),2&e&&(t.Q6J("headerBackToLink","/admin/student/classroom-details/"+c.classroomId+"/0"),t.xp6(3),t.Q6J("studentId",c.studentId)("classroomId",c.classroomId)("backToLink",c.backToLink)("paramBackToLink",c.paramBackToLink),t.xp6(3),t.Q6J("studentId",c.studentId)("classroomId",c.classroomId)("backToLink",c.backToLink),t.xp6(2),t.Q6J("ngStyle",t.VKq(16,Us,c.isMobileWebView?"200px":"0")),t.xp6(1),t.Q6J("studentId",c.studentId)("classroomId",c.classroomId)("backToLink",c.backToLink),t.xp6(4),t.Q6J("studentId",c.studentId)("classroomId",c.classroomId)("backToLink",c.backToLink)("paramBackToLink",c.paramBackToLink))},dependencies:[Q.PC,st._,bi,s,Wn,Ps],encapsulation:2}),a})()},{path:"manage-classroom/:id",component:ss},{path:"classroom-details/:id/:tabId",component:ta},{path:"attendance-student/:classroom_id/:program_id/:session_id",component:Vo},{path:"distribute-document/:classroom_id/:program_id/:session_id",component:aa},{path:"submit-score/:classroom_id/:program_id/:session_id",component:oi},{path:"class-details/:id",redirectTo:"classroom-details/:id/0"},{path:"manage-class/:id",redirectTo:"manage-classroom/:id"},{path:"student-list",redirectTo:"manage-classroom/0",pathMatch:"full"}]}];let Js=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[et.Bz.forChild(zs),et.Bz,l.fQ]}),a})()},56347:(Ye,Bt,f)=>{f.d(Bt,{M:()=>M});var et=f(96814),l=f(56223),o=f(19347),r=f(21266),m=f(42753),t=f(66469),Q=f(37722),st=f(21494),Zt=f(60381),Tt=f(25391),bt=f(30292),rt=f(95545),W=f(69162),dt=f(84155),it=f(78217),ht=f(78030),kt=f(90607),lt=f(65567),L=f(65879);let M=(()=>{class j{}return j.\u0275fac=function(tt){return new(tt||j)},j.\u0275mod=L.oAB({type:j}),j.\u0275inj=L.cJS({imports:[r.Bz,et.ez,W.j,bt.Yy,m.Z_,l.u5,l.UX,o.Is,dt.Z,st.xC,lt.v,Tt.QG,ht.W,it.d,Zt.l1,Q.qyJ.pick(Q.ciZ),rt.kb,t.SD,kt.AzotaBusinessModule]}),j})()},63038:(Ye,Bt,f)=>{f.d(Bt,{m:()=>l});var et=f(65879);let l=(()=>{class o{constructor(m){this.el=m}ngAfterViewInit(){this.adjustTextAreaHeight(this.el.nativeElement)}adjustTextAreaHeight(m){m.style.overflow="hidden",m.style.height="auto",m.style.height=m.scrollHeight+30+"px"}ngDoCheck(){this.el&&this.adjustTextAreaHeight(this.el.nativeElement)}}return o.\u0275fac=function(m){return new(m||o)(et.Y36(et.SBq))},o.\u0275dir=et.lG2({type:o,selectors:[["textarea","autoResize",""]]}),o})()},91675:(Ye,Bt,f)=>{f.d(Bt,{B:()=>rt});var et=f(47496),l=f(65879),o=f(96814),r=f(92596),m=f(36727);function t(W,dt){1&W&&(l.TgZ(0,"span",2),l.ALo(1,"mytranslate"),l._uU(2),l.ALo(3,"mytranslate"),l.qZA()),2&W&&(l.s9C("matTooltip",l.lcZ(1,2,"lang_auto_dat")),l.xp6(2),l.Oqu(l.lcZ(3,4,"lang_auto_d_upper")))}function Q(W,dt){1&W&&(l.TgZ(0,"span",2),l.ALo(1,"mytranslate"),l._uU(2),l.ALo(3,"mytranslate"),l.qZA()),2&W&&(l.s9C("matTooltip",l.lcZ(1,2,"lang_auto_chua_dat")),l.xp6(2),l.Oqu(l.lcZ(3,4,"lang_auto_cd_upper")))}function st(W,dt){1&W&&(l.TgZ(0,"span",2),l.ALo(1,"mytranslate"),l._uU(2),l.ALo(3,"mytranslate"),l.qZA()),2&W&&(l.s9C("matTooltip",l.lcZ(1,2,"lang_auto_hoan_thanh")),l.xp6(2),l.Oqu(l.lcZ(3,4,"lang_auto_tag_ht")))}function Zt(W,dt){1&W&&(l.TgZ(0,"span",2),l.ALo(1,"mytranslate"),l._uU(2),l.ALo(3,"mytranslate"),l.qZA()),2&W&&(l.s9C("matTooltip",l.lcZ(1,2,"lang_auto_chua_hoan_thanh")),l.xp6(2),l.hij("",l.lcZ(3,4,"lang_auto_tag_CHT")," "))}function Tt(W,dt){1&W&&(l.TgZ(0,"span",2),l.ALo(1,"mytranslate"),l._uU(2),l.ALo(3,"mytranslate"),l.qZA()),2&W&&(l.s9C("matTooltip",l.lcZ(1,2,"lang_auto_hoan_thanh_tot")),l.xp6(2),l.Oqu(l.lcZ(3,4,"lang_auto_tag_HTT")))}function bt(W,dt){if(1&W&&(l.TgZ(0,"span",3),l._uU(1),l.qZA()),2&W){const it=l.oxw();l.xp6(1),l.Oqu(it.mark)}}let rt=(()=>{class W extends et.Q{constructor(){super(...arguments),this.mark=0}}return W.\u0275fac=function(){let dt;return function(ht){return(dt||(dt=l.n5z(W)))(ht||W)}}(),W.\u0275cmp=l.Xpm({type:W,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[l.qOj],decls:6,vars:6,consts:[["class","text-mark mb-0",3,"matTooltip",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],[1,"text-mark","mb-0",3,"matTooltip"],[1,"text-mark","mb-0"]],template:function(it,ht){1&it&&(l.YNc(0,t,4,6,"span",0),l.YNc(1,Q,4,6,"span",0),l.YNc(2,st,4,6,"span",0),l.YNc(3,Zt,4,6,"span",0),l.YNc(4,Tt,4,6,"span",0),l.YNc(5,bt,2,1,"span",1)),2&it&&(l.Q6J("ngIf","1000"==ht.mark),l.xp6(1),l.Q6J("ngIf","1001"==ht.mark),l.xp6(1),l.Q6J("ngIf","2000"==ht.mark),l.xp6(1),l.Q6J("ngIf","2001"==ht.mark),l.xp6(1),l.Q6J("ngIf","3000"==ht.mark),l.xp6(1),l.Q6J("ngIf","2001"!=ht.mark&&"2000"!=ht.mark&&"1001"!=ht.mark&&"1000"!=ht.mark&&"3000"!=ht.mark))},dependencies:[o.O5,r.gM,m.JV],encapsulation:2}),W})()},30292:(Ye,Bt,f)=>{f.d(Bt,{ft:()=>Do,Bi:()=>fs,Yy:()=>xs});var et=f(42495),l=f(65879),o=f(69594);class r extends Error{}class m extends r{constructor(i){super(`Invalid DateTime: ${i.toMessage()}`)}}class t extends r{constructor(i){super(`Invalid Duration: ${i.toMessage()}`)}}class Q extends r{constructor(i){super(`Invalid Interval: ${i.toMessage()}`)}}class st extends r{constructor(i){super(`Invalid unit ${i}`),Object.setPrototypeOf(this,st.prototype)}}class Zt extends r{constructor(i){super(`${i} is an invalid or unknown zone specifier`),Object.setPrototypeOf(this,Zt.prototype)}}class Tt extends r{constructor(i){super(i),Object.setPrototypeOf(this,Tt.prototype)}}class bt extends r{constructor(i){super(i),Object.setPrototypeOf(this,bt.prototype)}}class rt extends r{constructor(){super("Zone is an abstract class"),Object.setPrototypeOf(this,rt.prototype)}}class dt{get type(){throw new rt}get ianaName(){return this.name}get name(){throw new rt}get isUniversal(){throw new rt}offsetName(i,n){throw new rt}formatOffset(i,n){throw new rt}offset(i){throw new rt}equals(i){throw new rt}get isValid(){throw new rt}}var it=Intl;let ht={};const kt={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let lt={};class L extends dt{static create(i){return lt[i]||(lt[i]=new L(i)),lt[i]}static resetCache(){lt={},ht={}}static isValidSpecifier(i){return this.isValidZone(i)}static isValidZone(i){if(!i)return!1;try{return new it.DateTimeFormat("en-US",{timeZone:i}).format(),!0}catch{return!1}}constructor(i){super(),this._zoneName=i,this._valid=L.isValidZone(i)}get type(){return"iana"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(i,{format:n,locale:s}={}){return oo(i,n,s,this.name)}formatOffset(i,n){return on(this.offset(i),n)}offset(i){const n=new Date(i);if(isNaN(+n))return NaN;const s=function(at){if(!ht[at])try{ht[at]=new it.DateTimeFormat("en-US",{hour12:!1,timeZone:at,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})}catch{throw new Zt(at)}return ht[at]}(this.name);let u;const[p,v,y,O,I,J,U]=typeof s.formatToParts==typeof isNaN?function(at,gt){const Ot=at.formatToParts(gt),It=[];for(let jt=0;jt<Ot.length;jt++){const{type:vt,value:Ut}=Ot[jt],Me=kt[vt];"era"===vt?It[Me]=Ut:Vt(Me)||(It[Me]=parseInt(Ut,10))}return It}(s,n):function(at,gt){const Ot=at.format(gt).replace(/\u200E/g,""),It=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(Ot),[,jt,vt,Ut,Me,gn,go,Eo]=It;return[Ut,jt,vt,Me,gn,go,Eo]}(s,n);"BC"===O&&(u=1-Math.abs(+p));let V=+n;const H=V%1e3;return V-=H>=0?H:1e3+H,(cn({year:u||+p,month:+v,day:+y,hour:+(24===I?0:I),minute:+J,second:+U,millisecond:0})-V)/6e4}equals(i){return"iana"===i.type&&i.name===this.name}get isValid(){return this._valid}}const M="numeric",j="short",R="long",tt={year:M,month:M,day:M},ot={year:M,month:j,day:M},ie={year:M,month:j,day:M,weekday:j},qt={year:M,month:R,day:M},$t={year:M,month:R,day:M,weekday:R},ve={hour:M,minute:M},zt={hour:M,minute:M,second:M},ae={hour:M,minute:M,second:M,timeZoneName:j},ue={hour:M,minute:M,second:M,timeZoneName:R},Be={hour:M,minute:M,hourCycle:"h23"},He={hour:M,minute:M,second:M,hourCycle:"h23"},pe={hour:M,minute:M,second:M,hourCycle:"h23",timeZoneName:j},Wt={hour:M,minute:M,second:M,hourCycle:"h23",timeZoneName:R},ge={year:M,month:M,day:M,hour:M,minute:M},Ge={year:M,month:M,day:M,hour:M,minute:M,second:M},se={year:M,month:j,day:M,hour:M,minute:M},Te={year:M,month:j,day:M,hour:M,minute:M,second:M},Re={year:M,month:j,day:M,weekday:j,hour:M,minute:M},Ie={year:M,month:R,day:M,hour:M,minute:M,timeZoneName:j},Ve={year:M,month:R,day:M,hour:M,minute:M,second:M,timeZoneName:j},je={year:M,month:R,day:M,weekday:R,hour:M,minute:M,timeZoneName:R},ee={year:M,month:R,day:M,weekday:R,hour:M,minute:M,second:M,timeZoneName:R},$e=["January","February","March","April","May","June","July","August","September","October","November","December"],Le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],rn=["J","F","M","A","M","J","J","A","S","O","N","D"];function We(d){switch(d){case"narrow":return[...rn];case"short":return[...Le];case"long":return[...$e];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"]}}const B=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ct=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],A=["M","T","W","T","F","S","S"];function $(d){switch(d){case"narrow":return[...A];case"short":return[...ct];case"long":return[...B];case"numeric":return["1","2","3","4","5","6","7"]}}const G=["AM","PM"],pt=["Before Christ","Anno Domini"],At=["BC","AD"],D=["B","A"];function ne(d){switch(d){case"narrow":return[...D];case"short":return[...At];case"long":return[...pt]}}let Ft={},Ce={};function Lt(d,i={}){const n=JSON.stringify([d,i]);let s=Ce[n];return s||(s=new it.DateTimeFormat(d,i),Ce[n]=s),s}let St,De={},re={};function he(d,i,n,s){return"en"===d.listingMode()?n(i):s(i)}class hn{constructor(i,n,s){const{padTo:u,floor:p}=s,v=function(y,O){var I={};for(var J in y)Object.prototype.hasOwnProperty.call(y,J)&&O.indexOf(J)<0&&(I[J]=y[J]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var U=0;for(J=Object.getOwnPropertySymbols(y);U<J.length;U++)O.indexOf(J[U])<0&&Object.prototype.propertyIsEnumerable.call(y,J[U])&&(I[J[U]]=y[J[U]])}return I}(s,["padTo","floor"]);if(this._padTo=u||0,this._floor=p||!1,!n||Object.keys(v).length>0){const y=Object.assign({useGrouping:!1},s);this._padTo>0&&(y.minimumIntegerDigits=u),this._inf=function(O,I){const J=JSON.stringify([O,I]);let U=De[J];return U||(U=new it.NumberFormat(O,I),De[J]=U),U}(i,y)}}format(i){if(this._inf){const n=this._floor?Math.floor(i):i;return this._inf.format(n)}return Et(this._floor?Math.floor(i):Un(i,3),this._padTo)}}class le{get dtf(){return this._dtf}constructor(i,n,s){let u;if(this._opts=s,this._opts.timeZone)this._dt=i;else if("fixed"===i.zone.type){const v=i.offset/60*-1,y=v>=0?`Etc/GMT+${v}`:`Etc/GMT${v}`;0!==i.offset&&L.create(y).isValid?(u=y,this._dt=i):(u="UTC",this._dt=0===i.offset?i:i.setZone("UTC").plus({minutes:i.offset}),this._originalZone=i.zone)}else"system"===i.zone.type?this._dt=i:"iana"===i.zone.type?(this._dt=i,u=i.zone.name):(u="UTC",this._dt=i.setZone("UTC").plus({minutes:i.offset}),this._originalZone=i.zone);const p=Object.assign(Object.assign({},this._opts),{timeZone:this._opts.timeZone||u});this._dtf=Lt(n,p)}format(){return this._originalZone?this.formatToParts().map(({value:i})=>i).join(""):this.dtf.format(this._dt.toJSDate())}formatToParts(){const i=this.dtf.formatToParts(this._dt.toJSDate());return this._originalZone?i.map(n=>{if("timeZoneName"===n.type){const s=this._originalZone.offsetName(this._dt.ts,{locale:this._dt.locale,format:this._opts.timeZoneName});return Object.assign(Object.assign({},n),{value:s})}return n}):i}resolvedOptions(){return this._dtf.resolvedOptions()}}class Ee{constructor(i,n,s){this._opts=Object.assign({style:"long"},s),!n&&Cn()&&(this._rtf=function(u,p={}){const v=JSON.stringify([u,p]);let y=re[v];return y||(y=new it.RelativeTimeFormat(u,p),re[v]=y),y}(i,s))}format(i,n){return this._rtf?this._rtf.format(i,n):function(s,u,p="always",v=!1){const y=_t.normalizeUnit(s),O={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."],milliseconds:[]}[y],I=-1===["hours","minutes","seconds"].indexOf(y);if("auto"===p&&I){const at="days"===y;switch(u){case 1:return at?"tomorrow":`next ${O[0]}`;case-1:return at?"yesterday":`last ${O[0]}`;case 0:return at?"today":`this ${O[0]}`}}const J=Object.is(u,-0)||u<0,U=Math.abs(u),V=1===U,H=v?V?O[1]:O[2]||O[1]:V?O[0]:y;return J?`${U} ${H} ago`:`in ${U} ${H}`}(n,i,this._opts.numeric,"long"!==this._opts.style)}formatToParts(i,n){return this._rtf?this._rtf.formatToParts(i,n):[]}}let wt=(()=>{class d{get fastNumbers(){return void 0===this._fastNumbersCached&&(this._fastNumbersCached=this._supportsFastNumbers()),this._fastNumbersCached}constructor(n,s,u,p,v){const[y,O,I]=function(J){const U=J.indexOf("-x-");-1!==U&&(J=J.substring(0,U));const V=J.indexOf("-u-");if(-1===V)return[J];{let H,at;try{H=Lt(J).resolvedOptions(),at=J}catch{const jt=J.substring(0,V);H=Lt(jt).resolvedOptions(),at=jt}const{numberingSystem:gt,calendar:Ot}=H;return[at,gt,Ot]}}(n);var J,U,V;this.locale=y,this.numberingSystem=s||O,this.outputCalendar=u||I,this._intl=(J=this.locale,U=this.numberingSystem,((V=this.outputCalendar)||U)&&(J.includes("-u-")||(J+="-u"),V&&(J+=`-ca-${V}`),U&&(J+=`-nu-${U}`)),J),this._weekSettings=p,this._weekdaysCache={format:{},standalone:{}},this._monthsCache={format:{},standalone:{}},this._meridiemCache=void 0,this._eraCache={},this._specifiedLocale=v,this._fastNumbersCached=void 0}static create(n,s,u,p,v=!1){const y=n||Nt.defaultLocale,O=y||(v?"en-US":(St||(St=(new it.DateTimeFormat).resolvedOptions().locale),St)),I=s||Nt.defaultNumberingSystem,J=u||Nt.defaultOutputCalendar,U=En(p)||Nt.defaultWeekSettings;return new d(O,I,J,U,y)}static fromObject({locale:n,numberingSystem:s,outputCalendar:u,weekSettings:p}={}){return d.create(n,s,u,p)}static fromOpts(n){return d.create(n.locale,n.numberingSystem,n.outputCalendar,n.weekSettings,n.defaultToEN)}static resetCache(){St=void 0,Ft={},Ce={},De={},re={}}clone(n){return n&&0!==Object.getOwnPropertyNames(n).length?d.create(n.locale||this._specifiedLocale,n.numberingSystem||this.numberingSystem,n.outputCalendar||this.outputCalendar,En(n.weekSettings)||this._weekSettings,n.defaultToEN||!1):this}dtFormatter(n,s={}){return new le(n,this._intl,s)}equals(n){return this.locale===n.locale&&this.numberingSystem===n.numberingSystem&&this.outputCalendar===n.outputCalendar}eras(n){return he(this,n,ne,s=>{const u={era:s};return this._eraCache[s]||(this._eraCache[s]=[Y.utc(-40,1,1),Y.utc(2017,1,1)].map(p=>this.extract(p,u,"era"))),this._eraCache[s]})}extract(n,s,u){const p=this.dtFormatter(n,s).formatToParts().find(v=>v.type.toLowerCase()===u.toLowerCase());if(!p)throw new Error(`Invalid extract field ${u}`);return p.value}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getStartOfWeek(){return this.getWeekSettings().firstDay}getWeekSettings(){return this._weekSettings?this._weekSettings:Dn()?this._getCachedWeekInfo(this.locale):w}getWeekendDays(){return this.getWeekSettings().weekend}isEnglish(){return!!~["en","en-us"].indexOf(this.locale.toLowerCase())||new it.DateTimeFormat(this._intl).resolvedOptions().locale.startsWith("en-us")}listFormatter(n={}){return function(s,u={}){const p=JSON.stringify([s,u]);let v=Ft[p];return v||(v=new it.ListFormat(s,u),Ft[p]=v),v}(this._intl,n)}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}meridiems(){return he(this,"long",()=>G,()=>(void 0===this._meridiemCache&&(this._meridiemCache=[Y.utc(2016,11,13,9),Y.utc(2016,11,13,19)].map(n=>this.extract(n,{hour:"numeric",hourCycle:"h12"},"dayPeriod"))),this._meridiemCache))}months(n,s=!1){return he(this,n,We,u=>{const p=s?{month:u,day:"numeric"}:{month:u},v=s?"format":"standalone";return this._monthsCache[v][u]||(this._monthsCache[v][u]=function(y){const O=[];for(let I=1;I<=12;I++){const J=Y.utc(2009,I,1);O.push(y(J))}return O}(y=>this.extract(y,p,"month"))),this._monthsCache[v][u]})}numberFormatter(n={}){return new hn(this._intl,this.fastNumbers,n)}redefaultToEN(n={}){return this.clone(Object.assign(Object.assign({},n),{defaultToEN:!0}))}redefaultToSystem(n={}){return this.clone(Object.assign(Object.assign({},n),{defaultToEN:!1}))}relFormatter(n={}){return new Ee(this._intl,this.isEnglish(),n)}weekdays(n,s=!1){return he(this,n,$,u=>{const p=s?{weekday:u,year:"numeric",month:"long",day:"numeric"}:{weekday:u},v=s?"format":"standalone";return this._weekdaysCache[v][u]||(this._weekdaysCache[v][u]=function(y){const O=[];for(let I=1;I<=7;I++){const J=Y.utc(2016,11,13+I);O.push(y(J))}return O}(y=>this.extract(y,p,"weekday"))),this._weekdaysCache[v][u]})}_getCachedWeekInfo(n){let s=d._weekInfoCache[n];if(!s){const u=new it.Locale(n);s="getWeekInfo"in u?u.getWeekInfo():u.weekInfo,d._weekInfoCache[n]=s}return s}_supportsFastNumbers(){return(!this.numberingSystem||"latn"===this.numberingSystem)&&("latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===it.DateTimeFormat(this._intl).resolvedOptions().numberingSystem)}}return d._weekInfoCache={},d})(),Ke=null;class Dt extends dt{static get utcInstance(){return null===Ke&&(Ke=new Dt(0)),Ke}get isValid(){return!0}get ianaName(){return 0===this._fixed?"Etc/UTC":`Etc/GMT${on(-this._fixed,"narrow")}`}get name(){return 0===this._fixed?"UTC":`UTC${on(this._fixed,"narrow")}`}get type(){return"fixed"}get isUniversal(){return!0}constructor(i){super(),this._fixed=i}static instance(i){return 0===i?Dt.utcInstance:new Dt(i)}static parseSpecifier(i){if(i){const n=i.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Dt(wn(n[1],n[2]))}return null}offsetName(){return this.name}formatOffset(i,n){return on(this._fixed,n)}offset(){return this._fixed}equals(i){return"fixed"===i.type&&i._fixed===this._fixed}}class Xe extends dt{constructor(i){super(),this._zoneName=i,Object.setPrototypeOf(this,Xe.prototype)}get type(){return"invalid"}get name(){return this._zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let Gt=null;class ke extends dt{static get instance(){return null===Gt&&(Gt=new ke),Gt}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(i,{format:n,locale:s}){return oo(i,n,s)}formatOffset(i,n){return on(this.offset(i),n)}offset(i){return-new Date(i).getTimezoneOffset()}equals(i){return"system"===i.type}get isValid(){return!0}}const ce=(d,i)=>{if(Vt(d)||null===d)return i;if(d instanceof dt)return d;if("string"==typeof d){const n=d.toLowerCase();return"default"===n?i:"local"===n||"system"===n?ke.instance:"utc"===n||"gmt"===n?Dt.utcInstance:Dt.parseSpecifier(n)||L.create(d)}return fe(d)?Dt.instance(d):"object"==typeof d&&"offset"in d&&"function"==typeof d.offset?d:new Xe(d)};let Pe,tn,fn,Ue,_e=()=>Date.now(),en="system",ln=60,xn=!1;class Nt{static set defaultLocale(i){Pe=i}static get defaultLocale(){return Pe}static set defaultNumberingSystem(i){tn=i}static get defaultNumberingSystem(){return tn}static set defaultOutputCalendar(i){fn=i}static get defaultOutputCalendar(){return fn}static set defaultWeekSettings(i){Ue=En(i)}static get defaultWeekSettings(){return Ue}static set defaultZone(i){en=i}static get defaultZone(){return ce(en,ke.instance)}static set defaultZoneLike(i){en=i}static set now(i){_e=i}static get now(){return _e}static set throwOnInvalid(i){xn=i}static get throwOnInvalid(){return xn}static set twoDigitCutoffYear(i){ln=i%100}static get twoDigitCutoffYear(){return ln}static resetCaches(){wt.resetCache(),L.resetCache()}}class Kt{constructor(i,n){this.reason=i,this.explanation=n,this._formattedExplanation="",n&&(this._formattedExplanation=`: ${n}`)}toMessage(){return`${this.reason}${this._formattedExplanation}`}}const bn=[0,31,59,90,120,151,181,212,243,273,304,334],vn=[0,31,60,91,121,152,182,213,244,274,305,335];function C(d,i){return new Kt("unit out of range",`you specified ${i} (of type ${typeof i}) as a ${d}, which is invalid`)}function q(d,i,n){return n+(ze(d)?vn:bn)[i-1]}function b(d,i){const n=ze(d)?vn:bn,s=n.findIndex(u=>u<i);return{month:s+1,day:i-n[s]}}function k(d,i,n){const s=new Date(Date.UTC(d,i-1,n));d<100&&d>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const u=s.getUTCDay();return 0===u?7:u}function N(d,i=w.minimalDays,n=w.firstDay){const{year:s,month:u,day:p}=d,v=q(s,u,p),y=Ln(k(s,u,p),n);let O,I=Math.floor((v-y+14-i)/7);return I<1?(O=s-1,I=mn(O,i,n)):I>mn(s,i,n)?(O=s+1,I=1):O=s,Object.assign({weekYear:O,weekNumber:I,weekday:y},On(d))}function nt(d,i=w.minimalDays,n=w.firstDay){const{weekYear:s,weekNumber:u,weekday:p}=d,v=Ln(k(s,1,i),n),y=nn(s);let O,I=7*u+p-v-7+i;I<1?(O=s-1,I+=nn(O)):I>y?(O=s+1,I-=nn(s)):O=s;const{month:J,day:U}=b(O,I);return Object.assign({year:O,month:J,day:U},On(d))}function ft(d){const{year:i,month:n,day:s}=d,u=q(i,n,s);return Object.assign({year:i,ordinal:u},On(d))}function we(d){const{year:i,ordinal:n}=d,{month:s,day:u}=b(i,n);return Object.assign({year:i,month:s,day:u},On(d))}function Ht(d){const i=Tn(d.year),n=oe(d.month,1,12),s=oe(d.day,1,kn(d.year,d.month));return i?n?!s&&C("day",d.day):C("month",d.month):C("year",d.year)}function Xn(d){const{hour:i,minute:n,second:s,millisecond:u}=d,p=oe(i,0,23)||24===i&&0===n&&0===s&&0===u,v=oe(n,0,59),y=oe(s,0,59),O=oe(u,0,999);return p?v?y?!O&&C("millisecond",u):C("second",s):C("minute",n):C("hour",i)}function Ln(d,i){return(d-i+7)%7+1}function to(d,i){if(Ct(d.localWeekday)||Ct(d.localWeekNumber)||Ct(d.localWeekYear)){if(Ct(d.weekday)||Ct(d.weekNumber)||Ct(d.weekYear))throw new Tt("Cannot mix locale-based week fields with ISO-based week fields");return Ct(d.localWeekday)&&(d.weekday=d.localWeekday),Ct(d.localWeekNumber)&&(d.weekNumber=d.localWeekNumber),Ct(d.localWeekYear)&&(d.weekYear=d.localWeekYear),delete d.localWeekday,delete d.localWeekNumber,delete d.localWeekYear,{minDaysInFirstWeek:i.getMinDaysInFirstWeek(),startOfWeek:i.getStartOfWeek()}}return{minDaysInFirstWeek:w.minimalDays,startOfWeek:w.firstDay}}function Ct(d){return void 0!==d}function Vt(d){return void 0===d}function fe(d){return"number"==typeof d}function Tn(d){return fe(d)&&d%1==0}function Cn(){try{return void 0!==it&&!!it.RelativeTimeFormat}catch{return!1}}function Dn(){try{return void 0!==it&&!!it.Locale&&("weekInfo"in it.Locale.prototype||"getWeekInfo"in it.Locale.prototype)}catch{return!1}}function eo(d,i,n){if(0!==d.length)return d.reduce((s,u)=>{const p=[i(u),u];return n(s[0],p[0])===s[0]?s:p},[i(d[0]),d[0]])[1]}function En(d){if(d){if("object"!=typeof d)throw new bt("Week settings must be an object");if(!oe(d.firstDay,1,7)||!oe(d.minimalDays,1,7)||!Array.isArray(d.weekend)||d.weekend.some(i=>!oe(i,1,7)))throw new bt("Invalid week settings");return{firstDay:d.firstDay,minimalDays:d.minimalDays,weekend:d.weekend}}}function oe(d,i,n){return Tn(d)&&d>=i&&d<=n}function Et(d,i=2){const n=+d<0?"-":"",s=n?-1*+d:d;let u;return u=s.toString().length<i?("0".repeat(i)+s).slice(-i):s.toString(),`${n}${u}`}function ye(d){if(d)return parseInt(d,10)}function qe(d){if(d)return parseFloat(d)}function Pn(d){if(!Vt(d)&&null!==d&&""!==d){const i=1e3*parseFloat("0."+d);return Math.floor(i)}}function Un(d,i,n=!1){const s=Math.pow(10,i);return(n?Math.trunc:Math.round)(d*s)/s}function ze(d){return d%4==0&&(d%100!=0||d%400==0)}function nn(d){return ze(d)?366:365}function kn(d,i){const n=(s=i-1)-12*Math.floor(s/12)+1;var s;return[31,ze(d+(i-n)/12)?29:28,31,30,31,30,31,31,30,31,30,31][n-1]}function cn(d){let i=Date.UTC(d.year,d.month-1,d.day,d.hour,d.minute,d.second,d.millisecond);return d.year<100&&d.year>=0&&(i=new Date(i),i.setUTCFullYear(d.year,d.month-1,d.day)),+i}function qn(d,i,n){return-Ln(k(d,1,i),n)+i-1}function mn(d,i=4,n=1){const s=qn(d,i,n),u=qn(d+1,i,n);return(nn(d)-s+u)/7}function no(d){return d>99?d:d>Nt.twoDigitCutoffYear?1900+d:2e3+d}function oo(d,i,n,s){const u=new Date(d),v=Object.assign({timeZoneName:i},{hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",timeZone:s}),y=new it.DateTimeFormat(n,v).formatToParts(u).find(O=>"timezonename"===O.type.toLowerCase());return y?y.value:null}function wn(d,i){let n=parseInt(d,10);Number.isNaN(n)&&(n=0);const s=parseInt(i,10)||0;return 60*n+(n<0||Object.is(n,-0)?-s:s)}function io(d){const i=Number(d);if("boolean"==typeof d||""===d||Number.isNaN(i))throw new bt(`Invalid unit value ${d}`);return i}function yn(d,i){return Object.keys(d).reduce((n,s)=>(null!=d[s]&&(n[i(s)]=io(d[s])),n),{})}function on(d,i){const n=Math.trunc(Math.abs(d/60)),s=Math.trunc(Math.abs(d%60)),u=d>=0?"+":"-";switch(i){case"short":return`${u}${Et(n,2)}:${Et(s,2)}`;case"narrow":return`${u}${n}${s>0?`:${s}`:""}`;case"techie":return`${u}${Et(n,2)}${Et(s,2)}`;default:throw new RangeError(`Value format ${i} is out of range for property format`)}}function On(d){return i=d,["hour","minute","second","millisecond"].reduce((s,u)=>(s[u]=i[u],s),{});var i}const me=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],T=me.slice(0).reverse(),E=["years","months","days","hours","minutes","seconds","milliseconds"],h={year:"year",years:"year",quarter:"quarter",quarters:"quarter",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",localweeknumber:"localWeekNumber",localweeknumbers:"localWeekNumber",localweekday:"localWeekday",localweekdays:"localWeekday",localweekyear:"localWeekYear",localweekyears:"localWeekYear",minute:"minute",minutes:"minute",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"},w={firstDay:1,minimalDays:4,weekend:[6,7]};function S(d,i){let n="";for(const s of d)n+=s.literal?s.val:i(s.val);return n}const F={D:tt,DD:ot,DDD:qt,DDDD:$t,t:ve,tt:zt,ttt:ae,tttt:ue,T:Be,TT:He,TTT:pe,TTTT:Wt,f:ge,ff:se,fff:Ie,ffff:je,F:Ge,FF:Te,FFF:Ve,FFFF:ee};class z{constructor(i,n){this._opts=n,this._loc=i,this._systemLoc=void 0}static create(i,n={}){return new z(i,n)}static macroTokenToFormatOpts(i){return F[i]}static parseFormat(i){let n=null,s="",u=!1;const p=[];for(let v=0;v<i.length;v++){const y=i.charAt(v);"'"===y?(s.length>0&&p.push({literal:u||/^\s+$/.test(s),val:s}),n=null,s="",u=!u):u||y===n?s+=y:(s.length>0&&p.push({literal:/^\s+$/.test(s),val:s}),s=y,n=y)}return s.length>0&&p.push({literal:u||/^\s+$/.test(s),val:s}),p}dtFormatter(i,n={}){return this._loc.dtFormatter(i,Object.assign(Object.assign({},this._opts),n))}formatDateTime(i,n){return this.dtFormatter(i,n).format()}formatDateTimeFromString(i,n){const s="en"===this._loc.listingMode(),u=this._loc.outputCalendar&&"gregory"!==this._loc.outputCalendar,p=(V,H)=>this._loc.extract(i,V,H),v=V=>i.isOffsetFixed&&0===i.offset&&V.allowZ?"Z":i.isValid?i.zone.formatOffset(i.ts,V.format):"",O=(V,H)=>{return s?(at=i,We(V)[at.month-1]):p(H?{month:V}:{month:V,day:"numeric"},"month");var at},I=(V,H)=>{return s?(at=i,$(V)[at.weekday-1]):p(H?{weekday:V}:{weekday:V,month:"long",day:"numeric"},"weekday");var at},J=V=>{const H=z.macroTokenToFormatOpts(V);return H?this.formatWithSystemDefault(i,H):V},U=V=>{return s?(H=i,ne(V)[H.year<0?0:1]):p({era:V},"era");var H};return S(z.parseFormat(n),V=>{switch(V){case"S":return this.num(i.millisecond);case"u":case"SSS":return this.num(i.millisecond,3);case"s":return this.num(i.second);case"ss":return this.num(i.second,2);case"uu":return this.num(Math.floor(i.millisecond/10),2);case"uuu":return this.num(Math.floor(i.millisecond/100));case"m":return this.num(i.minute);case"mm":return this.num(i.minute,2);case"h":return this.num(i.hour%12==0?12:i.hour%12);case"hh":return this.num(i.hour%12==0?12:i.hour%12,2);case"H":return this.num(i.hour);case"HH":return this.num(i.hour,2);case"Z":return v({format:"narrow",allowZ:this._opts.allowZ});case"ZZ":return v({format:"short",allowZ:this._opts.allowZ});case"ZZZ":return v({format:"techie",allowZ:this._opts.allowZ});case"ZZZZ":return i.zone.offsetName(i.ts,{format:"short",locale:this._loc.locale})||"";case"ZZZZZ":return i.zone.offsetName(i.ts,{format:"long",locale:this._loc.locale})||"";case"z":return i.zoneName||"";case"a":return s?G[i.hour<12?0:1]:p({hour:"numeric",hourCycle:"h12"},"dayPeriod");case"d":return u?p({day:"numeric"},"day"):this.num(i.day);case"dd":return u?p({day:"2-digit"},"day"):this.num(i.day,2);case"c":case"E":return this.num(i.weekday);case"ccc":return I("short",!0);case"cccc":return I("long",!0);case"ccccc":return I("narrow",!0);case"EEE":return I("short",!1);case"EEEE":return I("long",!1);case"EEEEE":return I("narrow",!1);case"L":return u?p({month:"numeric",day:"numeric"},"month"):this.num(i.month);case"LL":return u?p({month:"2-digit",day:"numeric"},"month"):this.num(i.month,2);case"LLL":return O("short",!0);case"LLLL":return O("long",!0);case"LLLLL":return O("narrow",!0);case"M":return u?p({month:"numeric"},"month"):this.num(i.month);case"MM":return u?p({month:"2-digit"},"month"):this.num(i.month,2);case"MMM":return O("short",!1);case"MMMM":return O("long",!1);case"MMMMM":return O("narrow",!1);case"y":return u?p({year:"numeric"},"year"):this.num(i.year);case"yy":return u?p({year:"2-digit"},"year"):this.num(parseInt(i.year.toString().slice(-2),10),2);case"yyyy":return u?p({year:"numeric"},"year"):this.num(i.year,4);case"yyyyyy":return u?p({year:"numeric"},"year"):this.num(i.year,6);case"G":return U("short");case"GG":return U("long");case"GGGGG":return U("narrow");case"kk":return this.num(parseInt(i.weekYear.toString().slice(-2),10),2);case"kkkk":return this.num(i.weekYear,4);case"W":return this.num(i.weekNumber);case"WW":return this.num(i.weekNumber,2);case"o":return this.num(i.ordinal);case"ooo":return this.num(i.ordinal,3);case"q":return this.num(i.quarter);case"qq":return this.num(i.quarter,2);case"X":return this.num(Math.floor(i.ts/1e3));case"x":return this.num(i.ts);default:return J(V)}})}formatDateTimeParts(i,n){return this.dtFormatter(i,n).formatToParts()}formatDurationFromString(i,n){const s=v=>{switch(v[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"M":return"months";case"y":return"years";default:return}},u=z.parseFormat(n),p=u.reduce((v,{literal:y,val:O})=>y?v:v.concat(O),[]);return S(u,(v=>y=>{const O=s(y);return O?this.num(v.get(O),y.length):y})(i.shiftTo(...p.map(s).filter(v=>!!v))))}formatInterval(i,n={}){if(!i.isValid)throw Error("Invalid Interval provided!");return this.dtFormatter(i.start,n).dtf.formatRange(i.start.toJSDate(),i.end.toJSDate())}formatWithSystemDefault(i,n){return void 0===this._systemLoc&&(this._systemLoc=this._loc.redefaultToSystem()),this._systemLoc.dtFormatter(i,Object.assign(Object.assign({},this._opts),n)).format()}num(i,n=0){if(this._opts.forceSimple)return Et(i,n);const s=Object.assign({},this._opts);return n>0&&(s.padTo=n),this._loc.numberFormatter(s).format(i)}resolvedOptions(i,n={}){return this.dtFormatter(i,n).resolvedOptions()}}function X(...d){const i=d.reduce((n,s)=>n+s.source,"");return RegExp(`^${i}$`)}function mt(...d){return i=>d.reduce(([n,s,u],p)=>{const[v,y,O]=p(i,u);return[Object.assign(Object.assign({},n),v),y||s,O]},[{},null,1]).slice(0,2)}function Mt(d,...i){if(null==d)return[null,null];for(const[n,s]of i){const u=n.exec(d);if(u)return s(u)}return[null,null]}function Je(...d){return(i,n)=>{const s={};let u;for(u=0;u<d.length;u++)s[d[u]]=ye(i[n+u]);return[s,null,n+u]}}const an=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,ao=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,xo=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Uo=RegExp(`${xo.source}(?:${ao.source}?(?:\\[(${an.source})\\])?)?`),bo=RegExp(`(?:T${Uo.source})?`),wi=Je("weekYear","weekNumber","weekday"),yi=Je("year","ordinal"),qo=RegExp(`${xo.source} ?(?:${ao.source}|(${an.source}))?`),Oi=RegExp(`(?: ${qo.source})?`);function Zn(d,i,n){return Vt(d[i])?n:ye(d[i])}function An(d,i){return[{hour:Zn(d,i,0),minute:Zn(d,i+1,0),second:Zn(d,i+2,0),millisecond:Pn(d[i+3])},null,i+4]}function zn(d,i){const n=!d[i]&&!d[i+1],s=wn(d[i+1],d[i+2]);return[{},n?null:Dt.instance(s),i+3]}function Jn(d,i){return[{},d[i]?L.create(d[i]):null,i+1]}const Zi=RegExp(`^T?${xo.source}$`),Ai=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Si(d){const[i,n,s,u,p,v,y,O,I]=d,J=i.startsWith("-"),U=!!O&&O.startsWith("-"),V=(H,at=!1)=>"number"==typeof H&&(at||H&&J)?-H:H;return[{years:V(qe(n)),months:V(qe(s)),weeks:V(qe(u)),days:V(qe(p)),hours:V(qe(v)),minutes:V(qe(y)),seconds:V(qe(O),"-0"===O),milliseconds:V(Pn(I),U)}]}const Ni={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function vo(d,i,n,s,u,p,v){let y;return d&&(y=d.length>3?B.indexOf(d)+1:ct.indexOf(d)+1),{year:2===i.length?no(ye(i)):ye(i),month:Le.indexOf(n)+1,day:ye(s),hour:ye(u),minute:ye(p),second:ye(v),weekday:y}}const Mi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Ii(d){const[,i,n,s,u,p,v,y,O,I,J,U]=d,V=vo(i,u,s,n,p,v,y);let H;return H=O?Ni[O]:I?0:wn(J,U),[V,new Dt(H)]}const ji=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Li=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Di=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function zo(d){const[,i,n,s,u,p,v,y]=d;return[vo(i,u,s,n,p,v,y),Dt.utcInstance]}function Ei(d){const[,i,n,s,u,p,v,y]=d;return[vo(i,y,n,s,u,p,v),Dt.utcInstance]}const Pi=X(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,bo),Ui=X(/(\d{4})-?W(\d\d)(?:-?(\d))?/,bo),qi=X(/(\d{4})-?(\d{3})/,bo),zi=X(Uo),Jo=mt(function(d,i){return[{year:Zn(d,i,0),month:Zn(d,i+1,1),day:Zn(d,i+2,1)},null,i+3]},An,zn,Jn),Ji=mt(wi,An,zn,Jn),Fi=mt(yi,An,zn,Jn),Qi=mt(An,zn,Jn),Yi=X(/(\d{4})-(\d\d)-(\d\d)/,Oi),Bi=X(qo),Hi=mt(An,zn,Jn),Fo={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Gi=Object.assign({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Fo),$i=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Fo);function Qo(d,i){var n;let s=null!==(n=i.milliseconds)&&void 0!==n?n:0;for(const u of T.slice(1))i[u]&&(s+=i[u]*d[u].milliseconds);return s}class _t{static get _INVALID(){return"Invalid Duration"}get conversionAccuracy(){return this._conversionAccuracy}get days(){return this.isValid?this._values.days||0:NaN}get hours(){return this.isValid?this._values.hours||0:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this._invalid}get locale(){return this.isValid?this._loc.locale:void 0}get matrix(){return this._matrix}get milliseconds(){return this.isValid?this._values.milliseconds||0:NaN}get minutes(){return this.isValid?this._values.minutes||0:NaN}get months(){return this.isValid?this._values.months||0:NaN}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get quarters(){return this.isValid?this._values.quarters||0:NaN}get seconds(){return this.isValid?this._values.seconds||0:NaN}get weeks(){return this.isValid?this._values.weeks||0:NaN}get years(){return this.isValid?this._values.years||0:NaN}constructor(i){let n,s;"longterm"===i.conversionAccuracy?(s="longterm",n=$i):(s="casual",n=Gi),i.matrix&&(n=i.matrix),this._values=i.values||{},this._loc=i.loc||wt.create(),this._conversionAccuracy=s,this._invalid=i.invalid||null,this._matrix=n,this._isLuxonDuration=!0}static fromDurationLike(i){if(fe(i))return _t.fromMillis(i);if(_t.isDuration(i))return i;if("object"==typeof i)return _t.fromObject(i);throw new bt(`Unknown duration argument ${i} of type ${typeof i}`)}static fromISO(i,n){const[s]=Mt(i,[Ai,Si]);return s?_t.fromObject(s,n):_t.invalid("unparsable",`the input "${i}" can't be parsed as ISO 8601`)}static fromISOTime(i,n={}){const[s]=Mt(i,[Zi,mt(An)]);return s?_t.fromObject(s,n):_t.invalid("unparsable",`the input "${i}" can't be parsed as ISO 8601`)}static fromMillis(i,n={}){return _t.fromObject({milliseconds:i},n)}static fromObject(i,n={}){if(null==i||"object"!=typeof i)throw new bt("Duration.fromObject: argument expected to be an object, got "+(null===i?"null":typeof i));return new _t({values:yn(i,_t.normalizeUnit),loc:wt.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static invalid(i,n){if(!i)throw new bt("need to specify a reason the Duration is invalid");const s=i instanceof Kt?i:new Kt(i,n);if(Nt.throwOnInvalid)throw new t(s);return new _t({invalid:s})}static isDuration(i){return!!i&&i._isLuxonDuration||!1}static normalizeUnit(i){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",localWeekNumber:"localWeekNumbers",localWeekYear:"localWeekYears",localWeekday:"localWeekdays",localWeekNumbers:"localWeekNumbers",localWeekYears:"localWeekYears",localWeekdays:"localWeekdays",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[i];if(!n)throw new st(i);return n}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this._values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}as(i){return this.shiftTo(i).get(i)}equals(i){if(!this.isValid||!i.isValid||!this._loc.equals(i._loc))return!1;for(const u of me)if(s=i._values[u],!(void 0===(n=this._values[u])||0===n?void 0===s||0===s:n===s))return!1;var n,s;return!0}get(i){return this[_t.normalizeUnit(i)]}getMaxUnit(i=!1){const n=i?E:me,s=this.shiftTo(...n).toObject();return n.find(u=>(s[u]||0)>0)||T[0]}mapUnits(i){if(!this.isValid)return this;const n={};return Object.keys(this._values).forEach(s=>{n[s]=io(i(this._values[s],s))}),this._clone(this,{values:n},!0)}minus(i){if(!this.isValid)return this;const n=_t.fromDurationLike(i);return this.plus(n.negate())}negate(){if(!this.isValid)return this;const i={};return Object.keys(this._values).forEach(n=>{i[n]=0===this._values[n]?0:-this._values[n]}),this._clone(this,{values:i},!0)}normalize(){if(!this.isValid)return this;const i=this.toObject();return function(n,s){const u=Qo(n,s)<0?-1:1;T.reduce((p,v)=>{if(Vt(s[v]))return p;if(p){const O=n[v][p],I=Math.floor(s[p]*u/O);s[v]+=I*u,s[p]-=I*O*u}return v},null),me.reduce((p,v)=>{if(Vt(s[v]))return p;if(p){const y=s[p]%1;s[p]-=y,s[v]+=y*n[p][v]}return v},null)}(this._matrix,i),this._clone(this,{values:i},!0)}plus(i){if(!this.isValid)return this;const n=_t.fromDurationLike(i),s={};return me.forEach(u=>{void 0===n._values[u]&&void 0===this._values[u]||(s[u]=n.get(u)+this.get(u))}),this._clone(this,{values:s},!0)}reconfigure({locale:i,numberingSystem:n,conversionAccuracy:s,matrix:u}={}){const p={loc:this._loc.clone({locale:i,numberingSystem:n}),matrix:u,conversionAccuracy:s};return this._clone(this,p)}rescale(){if(!this.isValid)return this;const i=function(n={}){return Object.entries(n).reduce((s,[u,p])=>(0!==p&&(s[u]=p),s),{})}(this.normalize().shiftToAll().toObject());return this._clone(this,{values:i},!0)}set(i){if(!this.isValid)return this;const n=Object.assign(Object.assign({},this._values),yn(i,_t.normalizeUnit));return this._clone(this,{values:n})}shiftTo(...i){if(!this.isValid||0===i.length)return this;i=i.map(v=>_t.normalizeUnit(v));const n={},s={},u=this.toObject();let p;return me.forEach(v=>{if(i.indexOf(v)>=0){p=v;let y=0;Object.keys(s).forEach(I=>{y+=this._matrix[I][v]*s[I],s[I]=0}),fe(u[v])&&(y+=u[v]);const O=Math.trunc(y);n[v]=O,s[v]=(1e3*y-1e3*O)/1e3}else fe(u[v])&&(s[v]=u[v])}),Object.keys(s).forEach(v=>{const y=s[v];0!==y&&(n[p]+=v===p?y:y/this._matrix[p][v])}),this._clone(this,{values:n},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}toFormat(i,n={floor:!0}){const s=Object.assign(Object.assign({},n),{floor:!1!==n.round&&!1!==n.floor});return this.isValid?z.create(this._loc,s).formatDurationFromString(this,i):_t._INVALID}toHuman(i={}){if(!this.isValid)return _t._INVALID;const n=this.getMaxUnit(!0),s=i.onlyHumanUnits?E:me,u=this.shiftTo(...s.slice(s.indexOf(n))).toObject(),p=s.map(y=>{const O=u[y];return Vt(O)||0===O?null:this._loc.numberFormatter(Object.assign(Object.assign({style:"unit",unitDisplay:"long"},i),{unit:y.slice(0,-1)})).format(O)}).filter(y=>y),v=Object.assign({type:"conjunction",style:i.listStyle||"narrow"},i);return this._loc.listFormatter(v).format(p)}toISO(){if(!this.isValid)return null;let i="P";return 0!==this.years&&(i+=this.years+"Y"),0===this.months&&0===this.quarters||(i+=this.months+3*this.quarters+"M"),0!==this.weeks&&(i+=this.weeks+"W"),0!==this.days&&(i+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(i+="T"),0!==this.hours&&(i+=this.hours+"H"),0!==this.minutes&&(i+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(i+=Un(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===i&&(i+="T0S"),i}toISOTime(i={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(i=Object.assign(Object.assign({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},i),{includeOffset:!1}),Y.fromMillis(n,{zone:"UTC"}).toISOTime(i))}toJSON(){return this.toISO()}toMillis(){return this.isValid?Qo(this.matrix,this._values):NaN}toObject(){return this.isValid?Object.assign({},this._values):{}}toString(){return this.toISO()}valueOf(){return this.toMillis()}_clone(i,n,s=!1){const u={values:s?n.values:Object.assign(Object.assign({},i._values),n.values||{}),loc:i._loc.clone(n.loc),conversionAccuracy:n.conversionAccuracy||i.conversionAccuracy,matrix:n.matrix||i.matrix};return new _t(u)}}const Sn="Invalid Interval";function dn(d){if(Y.isDateTime(d))return d;if(d&&d.valueOf&&fe(d.valueOf()))return Y.fromJSDate(d);if(d&&"object"==typeof d)return Y.fromObject(d);throw new bt(`Unknown datetime argument: ${d}, of type ${typeof d}`)}class Pt{get end(){return this.isValid?this._e:null}get invalidReason(){return this._invalid?this._invalid.reason:null}get isValid(){return null===this.invalidReason}get start(){return this.isValid?this._s:null}constructor(i){this._s=i.start,this._e=i.end,this._invalid=i.invalid||null,this._isLuxonInterval=!0}static after(i,n){const s=_t.fromDurationLike(n),u=dn(i);return new Pt({start:u,end:u?u.plus(s):void 0})}static before(i,n){const s=_t.fromDurationLike(n),u=dn(i);return new Pt({start:u?u.minus(s):void 0,end:u})}static fromDateTimes(i,n){const s=dn(i),u=dn(n);return y=u,((v=s)&&v.isValid?y&&y.isValid?y<v?Pt.invalid("end before start",`The end of an interval must be after its start, but you had start=${v.toISO()} and end=${y.toISO()}`):void 0:Pt.invalid("missing or invalid end"):Pt.invalid("missing or invalid start"))||new Pt({start:s,end:u});var v,y}static fromISO(i,n={}){const[s,u]=(i||"").split("/",2);if(s&&u){let p,v,y,O;try{p=Y.fromISO(s,n),v=p.isValid}catch{v=!1}try{y=Y.fromISO(u,n),O=y.isValid}catch{O=!1}if(v&&O)return Pt.fromDateTimes(p,y);if(v){const I=_t.fromISO(u,n);if(I.isValid)return Pt.after(p,I)}else if(O){const I=_t.fromISO(s,n);if(I.isValid)return Pt.before(y,I)}}return Pt.invalid("unparsable",`the input "${i}" can't be parsed as ISO 8601`)}static invalid(i,n){if(!i)throw new bt("need to specify a reason the Interval is invalid");const s=i instanceof Kt?i:new Kt(i,n);if(Nt.throwOnInvalid)throw new Q(s);return new Pt({invalid:s})}static isInterval(i){return!!i&&i._isLuxonInterval||!1}static merge(i){const[n,s]=i.sort((u,p)=>u._s.valueOf()-p._s.valueOf()).reduce(([u,p],v)=>p?p.overlaps(v)||p.abutsStart(v)?[u,p.union(v)]:[u.concat([p]),v]:[u,v],[[],null]);return s&&n.push(s),n}static xor(i){let n=null,s=0;const u=[],p=i.map(y=>[{time:y._s,type:"s"},{time:y._e,type:"e"}]),v=Array.prototype.concat(...p).sort((y,O)=>+y.time-+O.time);for(const y of v)s+="s"===y.type?1:-1,1===s?n=y.time:(n&&n.valueOf()!==y.time.valueOf()&&u.push(Pt.fromDateTimes(n,y.time)),n=null);return Pt.merge(u)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this._s.toISO()}, end: ${this._e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}abutsEnd(i){return+i._e==+this._s}abutsStart(i){return+this._e==+i._s}contains(i){return this._s<=i&&this._e>i}count(i="milliseconds",n){if(!this.isValid)return NaN;const s=this.start.startOf(i,n);let u;return u=n?.useLocaleWeeks?this.end.reconfigure({locale:s.locale}):this.end,u=u.startOf(i,n),Math.floor(u.diff(s,i).get(i))+ +(u.valueOf()!==this.end.valueOf())}difference(...i){return Pt.xor([this].concat(i)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}divideEqually(i){return this.isValid?this.splitBy({milliseconds:this.length()/i}).slice(0,i):[]}engulfs(i){return!!this.isValid&&this._s<=i._s&&this._e>=i._e}equals(i){return!(!this.isValid||!i.isValid)&&this._s.equals(i._s)&&this._e.equals(i._e)}hasSame(i){return!!this.isValid&&(this.isEmpty()||this._e.minus(1).hasSame(this._s,i))}intersection(i){if(!this.isValid)return this;const n=this._s>i._s?this._s:i._s,s=this._e<i._e?this._e:i._e;return n>=s?null:Pt.fromDateTimes(n,s)}isAfter(i){return!!this.isValid&&this._s>i}isBefore(i){return!!this.isValid&&this._e<=i}isEmpty(){return this._s.valueOf()===this._e.valueOf()}length(i="milliseconds"){return this.toDuration(i).get(i)}mapEndpoints(i){return Pt.fromDateTimes(i(this._s),i(this._e))}overlaps(i){return this._e>i._s&&this._s<i._e}set({start:i,end:n}={}){return this.isValid?Pt.fromDateTimes(i||this._s,n||this._e):this}splitAt(...i){const n=i.map(dn).filter(v=>this.contains(v)).sort((v,y)=>v.toMillis()-y.toMillis()),s=[];let u=this._s,p=0;for(;u<this._e;){const v=n[p]||this._e,y=+v>+this._e?this._e:v;s.push(Pt.fromDateTimes(u,y)),u=y,p+=1}return s}splitBy(i){const n=_t.fromDurationLike(i);if(!this.isValid||!n.isValid||0===n.as("milliseconds"))return[];let s,u=this._s,p=1;const v=[];for(;u<this._e;){const y=this.start.plus(n.mapUnits(O=>O*p));s=+y>+this._e?this._e:y,v.push(Pt.fromDateTimes(u,s)),u=s,p+=1}return v}toDuration(i="milliseconds",n={}){return this.isValid?this._e.diff(this._s,i,n):_t.invalid(this._invalid.reason)}toFormat(i,{separator:n=" - "}={}){return this.isValid?`${this._s.toFormat(i)}${n}${this._e.toFormat(i)}`:Sn}toISO(i={}){return this.isValid?`${this._s.toISO(i)}/${this._e.toISO(i)}`:Sn}toISODate(){return this.isValid?`${this._s.toISODate()}/${this._e.toISODate()}`:Sn}toISOTime(i={}){return this.isValid?`${this._s.toISOTime(i)}/${this._e.toISOTime(i)}`:Sn}toLocaleString(i=tt,n={}){return this.isValid?z.create(this._s.loc.clone(n),i).formatInterval(this):Sn}toString(){return this.isValid?`[${this._s.toISO()} \u2013 ${this._e.toISO()})`:Sn}union(i){return this.isValid?Pt.fromDateTimes(this._s<i._s?this._s:i._s,this._e>i._e?this._e:i._e):this}}class sn{static eras(i="short",{locale:n}={}){return wt.create(n,void 0,"gregory").eras(i)}static features(){return{relative:Cn(),localeWeek:Dn()}}static getMinimumDaysInFirstWeek({locale:i,locObj:n}={}){return(n||wt.create(i)).getMinDaysInFirstWeek()}static getStartOfWeek({locale:i,locObj:n}={}){return(n||wt.create(i)).getStartOfWeek()}static getWeekendWeekdays({locale:i,locObj:n}={}){return(n||wt.create(i)).getWeekendDays().slice()}static hasDST(i=Nt.defaultZone){const n=Y.now().setZone(i).set({month:12});return!i.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(i){return L.isValidZone(i)}static meridiems({locale:i}={}){return wt.create(i).meridiems()}static months(i="long",{locale:n=null,locObj:s=null,numberingSystem:u=null,outputCalendar:p="gregory"}={}){return(s||wt.create(n,u,p)).months(i)}static monthsFormat(i="long",{locale:n,locObj:s,numberingSystem:u,outputCalendar:p="gregory"}={}){return(s||wt.create(n,u,p)).months(i,!0)}static normalizeZone(i){return ce(i,Nt.defaultZone)}static weekdays(i="long",{locale:n,locObj:s,numberingSystem:u}={}){return(s||wt.create(n,u)).weekdays(i)}static weekdaysFormat(i="long",{locale:n,locObj:s,numberingSystem:u}={}){return(s||wt.create(n,u)).weekdays(i,!0)}}function Nn(d,i){const n=u=>u.toUTC(0,{keepLocalTime:!0}).startOf("days").valueOf(),s=n(i)-n(d);return Math.floor(_t.fromMillis(s).as("days"))}const To={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Yo={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ki=To.hanidec.replace(/[\[|\]]/g,"").split("");function xe(d,i=""){return new RegExp(`${To[d.numberingSystem||"latn"]}${i}`)}function Oe(d,i=(n=>n)){return{regex:d,deser:([n])=>i(function(s){const u=parseInt(s,10);if(!isNaN(u))return u;let p="";for(let v=0;v<s.length;v++){const y=s.charCodeAt(v);if(-1!==s[v].search(To.hanidec))p+=Ki.indexOf(s[v]);else for(const O in Yo){const[I,J]=Yo[O];if(y>=I&&y<=J){p+=y-I;break}}}return parseInt(p,10)}(n))}}const Bo=`[ ${String.fromCharCode(160)}]`,Ho=new RegExp(Bo,"g");function ta(d){return d.replace(/\./g,"\\.?").replace(Ho,Bo)}function Co(d){return d.replace(/\./g,"").replace(Ho," ").toLowerCase()}function be(d,i){return{regex:RegExp(d.map(ta).join("|")),deser:([n])=>d.findIndex(s=>Co(n)===Co(s))+i}}function Go(d,i){return{regex:d,deser:([,n,s])=>wn(n,s),groups:i}}function Ro(d){return{regex:d,deser:([i])=>i}}const ea={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let ko;function na(d){return!!d&&!!d.invalidReason}function Vo(d,i){return Array.prototype.concat(...d.map(n=>function(s,u){if(s.literal)return s;const p=Ko(z.macroTokenToFormatOpts(s.val),u);return null==p||p.includes(void 0)?s:p}(n,i)))}function $o(d,i,n){const s=Vo(z.parseFormat(n),d),u=s.map(v=>function(y,O){const I=xe(O),J=xe(O,"{2}"),U=xe(O,"{3}"),V=xe(O,"{4}"),H=xe(O,"{6}"),at=xe(O,"{1,2}"),gt=xe(O,"{1,3}"),Ot=xe(O,"{1,6}"),It=xe(O,"{1,9}"),jt=xe(O,"{2,4}"),vt=xe(O,"{4,6}"),Ut=gn=>{return{regex:RegExp((go=gn.val,go.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([Eo])=>Eo,literal:!0};var go},Me=(gn=>{if(y.literal)return Ut(gn);switch(gn.val){case"G":return be(O.eras("short"),0);case"GG":return be(O.eras("long"),0);case"y":return Oe(Ot);case"yy":case"kk":return Oe(jt,no);case"yyyy":case"kkkk":return Oe(V);case"yyyyy":return Oe(vt);case"yyyyyy":return Oe(H);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Oe(at);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Oe(J);case"MMM":return be(O.months("short",!0),1);case"MMMM":return be(O.months("long",!0),1);case"LLL":return be(O.months("short",!1),1);case"LLLL":return be(O.months("long",!1),1);case"o":case"S":return Oe(gt);case"ooo":case"SSS":return Oe(U);case"u":return Ro(It);case"a":return be(O.meridiems(),0);case"E":case"c":return Oe(I);case"EEE":return be(O.weekdays("short",!1),1);case"EEEE":return be(O.weekdays("long",!1),1);case"ccc":return be(O.weekdays("short",!0),1);case"cccc":return be(O.weekdays("long",!0),1);case"Z":case"ZZ":return Go(new RegExp(`([+-]${at.source})(?::(${J.source}))?`),2);case"ZZZ":return Go(new RegExp(`([+-]${at.source})(${J.source})?`),2);case"z":return Ro(/[a-z_+-/]{1,256}?/i);default:return Ut(gn)}})(y)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Object.assign(Object.assign({},Me),{token:y})}(v,d)),p=u.find(na);if(p)return{input:i,tokens:s,invalidReason:p.invalidReason};{const v=`^${u.map(at=>at.regex).reduce((at,gt)=>`${at}(${gt.source})`,"")}$`,y=RegExp(v,"i"),[O,I]=function(H,at,gt){const Ot=at.exec(H),It={};if(null!==Ot){let jt=1;gt.forEach(vt=>{const Ut=vt.groups?vt.groups+1:1;vt.literal||(It[vt.token.val[0]]=vt.deser(Ot.slice(jt,jt+Ut))),jt+=Ut})}return[Ot,It]}(i,y,u),[J,U,V]=I?function(H){let at,gt=null;return Ct(H.z)&&(gt=L.create(H.z)),Ct(H.Z)&&(gt||(gt=new Dt(+H.Z)),at=+H.Z),Ct(H.q)&&(H.M=3*(H.q-1)+1),Ct(H.h)&&(+H.h<12&&1===H.a?H.h=H.h+12:12===H.h&&0===H.a&&(H.h=0)),0===H.G&&H.y&&(H.y=-H.y),Ct(H.u)&&(H.S=Pn(H.u)||0),[Object.keys(H).reduce((Ot,It)=>{const jt=(vt=>{switch(vt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(It);return jt&&(Ot[jt]=H[It]),Ot},{}),gt,at]}(I):[null,null,void 0];if("a"in I&&"H"in I)throw new Tt("Can't include meridiem when specifying 24-hour format");return{input:i,tokens:s,regex:y,rawMatches:O,matches:I,result:J,zone:U,specificOffset:V}}}function Wo(d){return d.replace(/\u202F/g," ")}function Ko(d,i){if(!d)return null;const n=z.create(i,d).dtFormatter((void 0===ko&&(ko=Y.fromMillis(1555555555555,{locale:i.locale})),ko)),s=n.formatToParts(),u=n.resolvedOptions();return s.map(p=>function(v,y,O){const{type:I,value:J}=v;if("literal"===I){const at=/^\s+$/.test(J);return{literal:!at,val:at?" ":J}}let V=I;"hour"===I&&(V=null!=y.hour12?y.hour12?"hour12":"hour24":null!=y.hourCycle?"h11"===y.hourCycle||"h12"===y.hourCycle?"hour12":"hour24":O.hour12?"hour12":"hour24");let H=ea[V];if("object"==typeof H&&(H=H[y[I]]),H)return{literal:!1,val:H}}(p,d,u))}const wo="Invalid DateTime",Xo=864e13;function ti(d,i,n){let s=d-60*i*1e3;const u=n.offset(s);if(i===u)return[s,i];s-=60*(u-i)*1e3;const p=n.offset(s);return u===p?[s,u]:[d-60*Math.min(u,p)*1e3,Math.max(u,p)]}function so(d,i){const n=new Date(d+=60*i*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function ro(d,i,n){return ti(cn(d),i,n)}function Fn(d,i,n,s,u,p){const{setZone:v,zone:y}=n;if(d&&0!==Object.keys(d).length||i){const O=i||y,I=Y.fromObject(d||void 0,Object.assign(Object.assign({},n),{zone:O,specificOffset:p}));return v?I:I.setZone(y)}return Y.invalid(new Kt("unparsable",`the input "${u}" can't be parsed as ${s}`))}function Ze(d,i,n=!0){return d.isValid?z.create(wt.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(d,i):null}const ei={year:0,month:1,day:1,hour:0,minute:0,second:0,millisecond:0},oa={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ia={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ni=["year","month","day","hour","minute","second","millisecond"],aa=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],sa=["year","ordinal","hour","minute","second","millisecond"];function oi(d){const i=h[d.toLowerCase()];if(!i)throw new st(d);return i}class Y{get day(){return this.isValid?this._c.day:NaN}get daysInMonth(){return kn(this.year,this.month)}get daysInYear(){return this.isValid?nn(this.year):NaN}get hour(){return this.isValid?this._c.hour:NaN}get invalidExplanation(){return this._invalid?this._invalid.explanation:void 0}get invalidReason(){return this._invalid?this._invalid.reason:void 0}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return ze(this.year)}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isValid(){return null===this._invalid}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get loc(){return this.isValid?this._loc.clone():void 0}get localWeekNumber(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekYear:NaN}get localWeekday(){return this.isValid?this._possiblyCachedLocalWeekData(this).weekday:NaN}get locale(){return this.isValid?this._loc.locale:void 0}get millisecond(){return this.isValid?this._c.millisecond:NaN}get minute(){return this.isValid?this._c.minute:NaN}get month(){return this.isValid?this._c.month:NaN}get monthLong(){return this.isValid?sn.months("long",{locObj:this._loc})[this.month-1]:null}get monthShort(){return this.isValid?sn.months("short",{locObj:this._loc})[this.month-1]:null}get numberingSystem(){return this.isValid?this._loc.numberingSystem:void 0}get offset(){return this.isValid?+this._o:NaN}get offsetNameLong(){return this.isValid?this.zone.offsetName(this._ts,{format:"long",locale:this.locale}):null}get offsetNameShort(){return this.isValid?this.zone.offsetName(this._ts,{format:"short",locale:this.locale}):null}get ordinal(){return this.isValid?ft(this._c).ordinal:NaN}get outputCalendar(){return this.isValid?this._loc.outputCalendar:void 0}get quarter(){return this.isValid?Math.ceil(this._c.month/3):NaN}get second(){return this.isValid?this._c.second:NaN}get ts(){return this._ts}get weekNumber(){return this.isValid?this._possiblyCachedWeekData(this).weekNumber:NaN}get weekYear(){return this.isValid?this._possiblyCachedWeekData(this).weekYear:NaN}get weekday(){return this.isValid?this._possiblyCachedWeekData(this).weekday:NaN}get weekdayLong(){return this.isValid?sn.weekdays("long",{locObj:this._loc})[this.weekday-1]:null}get weekdayShort(){return this.isValid?sn.weekdays("short",{locObj:this._loc})[this.weekday-1]:null}get weeksInLocalWeekYear(){return this.isValid?mn(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}get weeksInWeekYear(){return this.isValid?mn(this.weekYear):NaN}get year(){return this.isValid?this._c.year:NaN}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}constructor(i){const n=i.zone||Nt.defaultZone;let s,u,p=i.invalid||(Number.isNaN(i.ts)?new Kt("invalid timestamp"):null)||(n.isValid?null:Y._unsupportedZone(n));if(this._ts=Vt(i.ts)?Nt.now():i.ts,!p)if(i.old&&i.old.ts===this._ts&&i.old.zone.equals(n))[u,s]=[i.old.c,i.old.o];else{const v=n.offset(this._ts);u=so(this._ts,v),p=Number.isNaN(u.year)?new Kt("invalid input"):null,u=p?void 0:u,s=p?void 0:v}this._zone=n,this._loc=i.loc||wt.create(),this._invalid=p,this._weekData=null,this._c=u,this._o=s,this._isLuxonDateTime=!0}static expandFormat(i,n={}){return Vo(z.parseFormat(i),wt.fromObject(n)).map(s=>s.val).join("")}static fromFormat(i,n,s={}){if(Vt(i)||Vt(n))throw new bt("fromFormat requires an input string and a format");const{locale:u,numberingSystem:p}=s,v=wt.fromOpts({locale:u,numberingSystem:p,defaultToEN:!0}),[y,O,I,J]=function(U,V,H){const{result:at,zone:gt,specificOffset:Ot,invalidReason:It}=$o(U,Wo(V),Wo(H));return[at,gt,Ot,It]}(v,i,n);return J?Y.invalid(J):Fn(y,O||null,s,`format ${n}`,i,I)}static fromFormatExplain(i,n,s={}){const{locale:u,numberingSystem:p}=s;return $o(wt.fromOpts({locale:u,numberingSystem:p,defaultToEN:!0}),i,n)}static fromHTTP(i,n={}){const[s,u]=Mt(i,[ji,zo],[Li,zo],[Di,Ei]);return Fn(s,u,n,"HTTP",i)}static fromISO(i,n={}){const[s,u]=Mt(i,[Pi,Jo],[Ui,Ji],[qi,Fi],[zi,Qi]);return Fn(s,u,n,"ISO 8601",i)}static fromJSDate(i,n={}){const s="[object Date]"===Object.prototype.toString.call(i)?i.valueOf():NaN;if(Number.isNaN(s))return Y.invalid("invalid input");const p=ce(n.zone,Nt.defaultZone);return p.isValid?new Y({ts:s,zone:p,loc:wt.fromObject(n)}):Y.invalid(Y._unsupportedZone(p))}static fromMillis(i,n={}){if(fe(i))return i<-Xo||i>Xo?Y.invalid("Timestamp out of range"):new Y({ts:i,zone:ce(n.zone,Nt.defaultZone),loc:wt.fromObject(n)});throw new bt(`fromMillis requires a numerical input, but received a ${typeof i} with value ${i}`)}static fromObject(i={},n={}){const s=ce(n.zone,Nt.defaultZone);if(!s.isValid)return Y.invalid(Y._unsupportedZone(s));const u=wt.fromObject(n),p=yn(i,oi),v=Nt.now(),y=fe(n.specificOffset)?n.specificOffset:s.offset(v),O=Ct(p.ordinal),I=Ct(p.year),J=Ct(p.month)||Ct(p.day),U=I||J,V=p.weekYear||p.weekNumber;if((U||O)&&V)throw new Tt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(J&&O)throw new Tt("Can't mix ordinal dates with month/day");const H=V||p.weekday&&!U,{minDaysInFirstWeek:at,startOfWeek:gt}=to(p,u),Ot=so(v,y),It={containsGregor:U,containsOrdinal:O,loc:u,normalized:p,obj:i,offsetProvis:y,useWeekData:H,zoneToUse:s};return H?Y._buildObject(It,aa,oa,N(Ot,at,gt)):O?Y._buildObject(It,sa,ia,ft(Ot)):Y._buildObject(It,ni,ei,Ot)}static fromRFC2822(i,n={}){const[s,u]=Mt(i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[Mi,Ii]);return Fn(s,u,n,"RFC 2822",i)}static fromSQL(i,n={}){const[s,u]=Mt(i,[Yi,Jo],[Bi,Hi]);return Fn(s,u,n,"SQL",i)}static fromSeconds(i,n={}){if(!fe(i))throw new bt("fromSeconds requires a numerical input");return new Y({ts:1e3*i,zone:ce(n.zone,Nt.defaultZone),loc:wt.fromObject(n)})}static fromString(i,n,s={}){return Y.fromFormat(i,n,s)}static fromStringExplain(i,n,s={}){return Y.fromFormatExplain(i,n,s)}static invalid(i,n){if(!i)throw new bt("need to specify a reason the DateTime is invalid");const s=i instanceof Kt?i:new Kt(i,n);if(Nt.throwOnInvalid)throw new m(s);return new Y({invalid:s})}static isDateTime(i){return!(!i||!i._isLuxonDateTime)}static local(...i){const[n,s]=this._lastOpts(i),[u,p,v,y,O,I,J]=s;return Y._quickDT({year:u,month:p,day:v,hour:y,minute:O,second:I,millisecond:J},n)}static max(...i){if(!i.every(Y.isDateTime))throw new bt("max requires all arguments be DateTimes");return eo(i,n=>n.valueOf(),Math.max)}static min(...i){if(!i.every(Y.isDateTime))throw new bt("min requires all arguments be DateTimes");return eo(i,n=>n.valueOf(),Math.min)}static now(){return new Y({})}static parseFormatForOpts(i,n={}){const s=Ko(i,wt.fromObject(n));return s?s.map(u=>u?u.val:null).join(""):null}static utc(...i){const[n,s]=this._lastOpts(i),[u,p,v,y,O,I,J]=s;return n.zone=Dt.utcInstance,this._quickDT({year:u,month:p,day:v,hour:y,minute:O,second:I,millisecond:J},n)}static _buildObject(i,n,s,u){let p=!1;n.forEach(U=>{Ct(i.normalized[U])?p=!0:i.normalized[U]=p?s[U]:u[U]});const v=(i.useWeekData?function(U,V=4,H=1){const at=Tn(U.weekYear),gt=oe(U.weekNumber,1,mn(U.weekYear,V,H)),Ot=oe(U.weekday,1,7);return at?gt?!Ot&&C("weekday",U.weekday):C("week",U.weekNumber):C("weekYear",U.weekYear)}(i.normalized):i.containsOrdinal?function(U){const V=Tn(U.year),H=oe(U.ordinal,1,nn(U.year));return V?!H&&C("ordinal",U.ordinal):C("year",U.year)}(i.normalized):Ht(i.normalized))||Xn(i.normalized);if(v)return Y.invalid(v);const y=i.useWeekData?nt(i.normalized):i.containsOrdinal?we(i.normalized):i.normalized,[O,I]=ro(y,i.offsetProvis,i.zoneToUse),J=new Y({ts:O,zone:i.zoneToUse,o:I,loc:i.loc});return i.normalized.weekday&&i.containsGregor&&i.obj.weekday!==J.weekday?Y.invalid("mismatched weekday",`you can't specify both a weekday of ${i.normalized.weekday} and a date of ${J.toISO()}`):J.isValid?J:Y.invalid(J._invalid)}static _diffRelative(i,n,s){const u=!!Vt(s.round)||s.round,p=(y,O)=>(y=Un(y,u||s.calendary?0:2,!0),n._loc.clone(s).relFormatter(s).format(y,O)),v=y=>s.calendary?n.hasSame(i,y)?0:n.startOf(y).diff(i.startOf(y),y).get(y):n.diff(i,y).get(y);if(s.unit)return p(v(s.unit),s.unit);for(const y of s.units){const O=v(y);if(Math.abs(O)>=1)return p(O,y)}return p(i>n?-0:0,s.units[s.units.length-1])}static _lastOpts(i){let n,s={};return i.length>0&&"object"==typeof i[i.length-1]?(s=i.pop(),n=i):n=Array.from(i),[s,n]}static _quickDT(i,n){const s=ce(n.zone,Nt.defaultZone),u=wt.fromObject(n),p=Nt.now();let v,y;if(Ct(i.year)){for(const J of ni)Vt(i[J])&&(i[J]=ei[J]);const O=Ht(i)||Xn(i);if(O)return Y.invalid(O);const I=s.offset(p);[v,y]=ro(i,I,s)}else v=p;return new Y({ts:v,zone:s,loc:u,o:y})}static _unsupportedZone(i){return new Kt("unsupported zone",`the zone "${i.name}" is not supported`)}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}diff(i,n="milliseconds",s={}){if(!this.isValid||!i.isValid)return _t.invalid(this.invalidReason||i.invalidReason,"created by diffing an invalid DateTime");const u=(y=n,Array.isArray(y)?y:[y]).map(_t.normalizeUnit),p=i.valueOf()>this.valueOf(),v=((d,i,n,s)=>{let[u,p,v,y]=function(U,V,H){const at=[["years",(vt,Ut)=>Ut.year-vt.year],["quarters",(vt,Ut)=>Ut.quarter-vt.quarter+4*(Ut.year-vt.year)],["months",(vt,Ut)=>Ut.month-vt.month+12*(Ut.year-vt.year)],["weeks",(vt,Ut)=>{const Me=Nn(vt,Ut);return(Me-Me%7)/7}],["days",Nn]],gt={},Ot=U;let It,jt;for(const[vt,Ut]of at)H.indexOf(vt)>=0&&(It=vt,gt[vt]=Ut(U,V),jt=Ot.plus(gt),jt>V?(gt[vt]--,(U=Ot.plus(gt))>V&&(jt=U,gt[vt]--,U=Ot.plus(gt))):U=jt);return[U,gt,jt,It]}(d,i,n);const O=+i-+u,I=n.filter(U=>["hours","minutes","seconds","milliseconds"].indexOf(U)>=0);0===I.length&&(v<i&&(v=u.plus({[y]:1})),v!==u&&(p[y]=(p[y]||0)+O/(+v-+u)));const J=_t.fromObject(p,s);return I.length>0?_t.fromMillis(O,s).shiftTo(...I).plus(J):J})(p?this:i,p?i:this,u,Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},s));var y;return p?v.negate():v}diffNow(i="milliseconds",n={}){return this.diff(Y.now(),i,n)}endOf(i,{useLocaleWeeks:n=!1}={}){return this.plus({[i]:1}).startOf(i,{useLocaleWeeks:n}).minus({milliseconds:1})}equals(i){return this.valueOf()===i.valueOf()&&this.zone.equals(i.zone)&&this._loc.equals(i._loc)}get(i){return this[i]}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const i=864e5,n=6e4,s=cn(this._c),u=this.zone.offset(s-i),p=this.zone.offset(s+i),v=this.zone.offset(s-u*n),y=this.zone.offset(s-p*n);if(v===y)return[this];const O=s-v*n,I=s-y*n,J=so(O,v),U=so(I,y);return J.hour===U.hour&&J.minute===U.minute&&J.second===U.second&&J.millisecond===U.millisecond?[this._clone({ts:O}),this._clone({ts:I})]:[this]}hasSame(i,n,s){if(!this.isValid)return!1;const u=i.valueOf(),p=this.setZone(i.zone,{keepLocalTime:!0});return+p.startOf(n)<=u&&u<=+p.endOf(n,s)}minus(i){if(!this.isValid)return this;const n=_t.fromDurationLike(i).negate();return this._clone(this._adjustTime(n))}plus(i){if(!this.isValid)return this;const n=_t.fromDurationLike(i);return this._clone(this._adjustTime(n))}reconfigure(i){const n=this._loc.clone(i);return this._clone({loc:n})}resolvedLocaleOptions(i={}){const{locale:n,numberingSystem:s,calendar:u}=z.create(this._loc.clone(i),i).resolvedOptions(this);return{locale:n,numberingSystem:s,outputCalendar:u}}set(i){if(!this.isValid)return this;const n=yn(i,oi),{minDaysInFirstWeek:s,startOfWeek:u}=to(n,this.loc),p=Ct(n.weekYear)||Ct(n.weekNumber)||Ct(n.weekday),v=Ct(n.ordinal),y=Ct(n.year),O=Ct(n.month)||Ct(n.day);if((y||O||v)&&(n.weekYear||n.weekNumber))throw new Tt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(O&&v)throw new Tt("Can't mix ordinal dates with month/day");let U;p?U=nt(Object.assign(Object.assign({},N(this._c,s,u)),n),s,u):Vt(n.ordinal)?(U=Object.assign(Object.assign({},this.toObject()),n),Vt(n.day)&&(U.day=Math.min(kn(U.year,U.month),U.day))):U=we(Object.assign(Object.assign({},ft(this._c)),n));const[V,H]=ro(U,this._o,this.zone);return this._clone({ts:V,o:H})}setLocale(i){return this.reconfigure({locale:i})}setZone(i,{keepLocalTime:n=!1,keepCalendarTime:s=!1}={}){if((i=ce(i,Nt.defaultZone)).equals(this.zone))return this;if(i.isValid){let u=this._ts;if(n||s){const p=i.offset(this._ts);u=ro(this.toObject(),p,i)[0]}return this._clone({ts:u,zone:i})}return Y.invalid(Y._unsupportedZone(i))}startOf(i,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const s={},u=_t.normalizeUnit(i);switch(u){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0}if("weeks"===u)if(n){const p=this.loc.getStartOfWeek(),{weekday:v}=this;v<p&&(s.weekNumber=this.weekNumber-1),s.weekday=p}else s.weekday=1;if("quarters"===u){const p=Math.ceil(this.month/3);s.month=3*(p-1)+1}return this.set(s)}toBSON(){return this.toJSDate()}toFormat(i,n={}){return this.isValid?z.create(this._loc.redefaultToEN(n)).formatDateTimeFromString(this,i):wo}toHTTP(){return Ze(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toISO({format:i="extended",suppressSeconds:n=!1,suppressMilliseconds:s=!1,includeOffset:u=!0,extendedZone:p=!1}={}){if(!this.isValid)return null;const v="extended"===i;return[this._toISODate(v),"T",this._toISOTime(v,n,s,u,p)].join("")}toISODate(i={format:"extended"}){let n="basic"===i.format?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(n="+"+n),Ze(this,n)}toISOTime({suppressMilliseconds:i=!1,suppressSeconds:n=!1,includeOffset:s=!0,includePrefix:u=!1,extendedZone:p=!1,format:v="extended"}={}){return this.isValid?[u?"T":"",this._toISOTime("extended"===v,n,i,s,p)].join(""):null}toISOWeekDate(){return Ze(this,"kkkk-'W'WW-c")}toJSDate(){return new Date(this.isValid?this._ts:NaN)}toJSON(){return this.toISO()}toLocal(){return this.setZone(Nt.defaultZone)}toLocaleParts(i={}){return this.isValid?z.create(this._loc.clone(i),i).formatDateTimeParts(this):[]}toLocaleString(i=tt,n={}){return this.isValid?z.create(this._loc.clone(n),i).formatDateTime(this):wo}toMillis(){return this.isValid?this.ts:NaN}toObject(i={includeConfig:!1}){if(!this.isValid)return{};const n=Object.assign({},this._c);return i.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this._loc.numberingSystem,n.locale=this._loc.locale),n}toRFC2822(){return Ze(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toRelative(i={}){if(!this.isValid)return null;const n=i.base||Y.fromObject({},{zone:this.zone}),s=i.padding?this<n?-i.padding:i.padding:0;let u=["years","months","days","hours","minutes","seconds"],p=i.unit;return Array.isArray(i.unit)&&(u=i.unit,p=void 0),Y._diffRelative(n,this.plus(s),Object.assign(Object.assign({},i),{numeric:"always",units:u,unit:p}))}toRelativeCalendar(i={}){return this.isValid?Y._diffRelative(i.base||Y.fromObject({},{zone:this.zone}),this,Object.assign(Object.assign({},i),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}toSQL(i={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(i)}`:null}toSQLDate(){return this.isValid?this._toISODate(!0):null}toSQLTime({includeOffset:i=!0,includeZone:n=!1,includeOffsetSpace:s=!0}={}){let u="HH:mm:ss.SSS";return(n||i)&&(s&&(u+=" "),n?u+="z":i&&(u+="ZZ")),Ze(this,u,!0)}toSeconds(){return this.isValid?this._ts/1e3:NaN}toString(){return this.isValid?this.toISO():wo}toUTC(i=0,n={}){return this.setZone(Dt.instance(i),n)}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}until(i){return Pt.fromDateTimes(this,i)}valueOf(){return this.toMillis()}_adjustTime(i){const n=this._o,s=this._c.year+Math.trunc(i.years),u=this._c.month+Math.trunc(i.months)+3*Math.trunc(i.quarters),p=Object.assign(Object.assign({},this._c),{year:s,month:u,day:Math.min(this._c.day,kn(s,u))+Math.trunc(i.days)+7*Math.trunc(i.weeks)}),v=_t.fromObject({years:i.years-Math.trunc(i.years),quarters:i.quarters-Math.trunc(i.quarters),months:i.months-Math.trunc(i.months),weeks:i.weeks-Math.trunc(i.weeks),days:i.days-Math.trunc(i.days),hours:i.hours,minutes:i.minutes,seconds:i.seconds,milliseconds:i.milliseconds}).as("milliseconds"),y=cn(p);let[O,I]=ti(y,n,this.zone);return 0!==v&&(O+=v,I=this.zone.offset(O)),{ts:O,o:I}}_clone(i){const n={ts:this._ts,zone:this.zone,c:this._c,o:this._o,loc:this._loc,invalid:this._invalid||void 0};return new Y(Object.assign(Object.assign(Object.assign({},n),i),{old:n}))}_possiblyCachedLocalWeekData(i){return i._localWeekData||(i._localWeekData=N(i._c,i.loc.getMinDaysInFirstWeek(),i.loc.getStartOfWeek())),i._localWeekData}_possiblyCachedWeekData(i){return null===i._weekData&&(i._weekData=N(i._c)),i._weekData}_toISODate(i){const n=this._c.year>9999||this._c.year<0;let s="";return n&&this._c.year>=0&&(s+="+"),s+=Et(this._c.year,n?6:4),i?(s+="-",s+=Et(this._c.month),s+="-",s+=Et(this._c.day)):(s+=Et(this._c.month),s+=Et(this._c.day)),s}_toISOTime(i,n,s,u,p){let v=Et(this._c.hour);return i?(v+=":",v+=Et(this._c.minute),0===this._c.millisecond&&0===this._c.second&&n||(v+=":")):v+=Et(this._c.minute),0===this._c.millisecond&&0===this._c.second&&n||(v+=Et(this._c.second),0===this._c.millisecond&&s||(v+=".",v+=Et(this._c.millisecond,3))),u&&(this.isOffsetFixed&&0===this.offset&&!p?v+="Z":this._o<0?(v+="-",v+=Et(Math.trunc(-this._o/60)),v+=":",v+=Et(Math.trunc(-this._o%60))):(v+="+",v+=Et(Math.trunc(this._o/60)),v+=":",v+=Et(Math.trunc(this._o%60)))),p&&(v+="["+this.zone.ianaName+"]"),v}}Y.DATETIME_FULL=Ie,Y.DATETIME_FULL_WITH_SECONDS=Ve,Y.DATETIME_HUGE=je,Y.DATETIME_HUGE_WITH_SECONDS=ee,Y.DATETIME_MED=se,Y.DATETIME_MED_WITH_SECONDS=Te,Y.DATETIME_MED_WITH_WEEKDAY=Re,Y.DATETIME_SHORT=ge,Y.DATETIME_SHORT_WITH_SECONDS=Ge,Y.DATE_FULL=qt,Y.DATE_HUGE=$t,Y.DATE_MED=ot,Y.DATE_MED_WITH_WEEKDAY=ie,Y.DATE_SHORT=tt,Y.TIME_24_SIMPLE=Be,Y.TIME_24_WITH_LONG_OFFSET=Wt,Y.TIME_24_WITH_SECONDS=He,Y.TIME_24_WITH_SHORT_OFFSET=pe,Y.TIME_SIMPLE=ve,Y.TIME_WITH_LONG_OFFSET=ue,Y.TIME_WITH_SECONDS=zt,Y.TIME_WITH_SHORT_OFFSET=ae;var ut=f(96814),un=f(19347),Ae=f(32296),_n=f(81274),In=f(65619),Qn=f(78645),yo=f(59773),Yn=f(67081),Bn=f(99397),ii=f(37398),ra=f(93997),Se=f(86825),Xt=f(56223),Oo=f(4300),Zo=f(98525),ai=f(23680),pn=f(64170),Ao=f(30617),So=f(2032),la=f(68484);const ca=["clockFace"],si=["clockHand"],Hn=function(d){return{transform:d}};function ma(d,i){if(1&d&&(l.TgZ(0,"button",9),l.ALo(1,"activeHour"),l._uU(2),l.ALo(3,"timeLocalizer"),l.qZA()),2&d){const n=i.$implicit,s=l.oxw();l.Q6J("color",l.Dn7(1,4,n.time,null==s.selectedTime?null:s.selectedTime.time,s.isClockFaceDisabled)?s.color:void 0)("ngStyle",l.VKq(11,Hn,"rotateZ(-"+n.angle+"deg)"))("disabled",n.disabled),l.xp6(2),l.hij(" ",l.xi3(3,8,n.time,s.timeUnit.HOUR)," ")}}function da(d,i){if(1&d&&(l.TgZ(0,"div",12)(1,"button",9),l.ALo(2,"activeMinute"),l._uU(3),l.ALo(4,"timeLocalizer"),l.ALo(5,"minutesFormatter"),l.qZA()()),2&d){const n=i.$implicit,s=l.oxw(2);l.Q6J("ngStyle",l.VKq(16,Hn,"rotateZ("+n.angle+"deg)")),l.xp6(1),l.Q6J("color",l.gM2(2,5,n.time,null==s.selectedTime?null:s.selectedTime.time,s.minutesGap,s.isClockFaceDisabled)?s.color:void 0)("ngStyle",l.VKq(18,Hn,"rotateZ(-"+n.angle+"deg)"))("disabled",n.disabled),l.xp6(2),l.hij(" ",l.xi3(4,10,l.xi3(5,13,n.time,s.minutesGap),s.timeUnit.MINUTE)," ")}}function ua(d,i){if(1&d&&(l.TgZ(0,"div",10),l.YNc(1,da,6,20,"div",11),l.qZA()),2&d){const n=l.oxw();l.xp6(1),l.Q6J("ngForOf",n.faceTime)("ngForTrackBy",n.trackByTime)}}function _a(d,i){1&d&&l.Hsn(0,0,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}const ri=function(d){return{$implicit:d}};function pa(d,i){if(1&d&&(l.TgZ(0,"div",12),l.YNc(1,_a,1,0,"ng-content",14),l.qZA()),2&d){const n=i.$implicit;l.oxw(2);const s=l.MAs(1);l.Q6J("ngStyle",l.VKq(3,Hn,"rotateZ("+n.angle+"deg)")),l.xp6(1),l.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",l.VKq(5,ri,n))}}function ga(d,i){1&d&&l.Hsn(0,1,["*ngTemplateOutlet","hourButton; context: {$implicit: time}"])}function ha(d,i){if(1&d&&(l.TgZ(0,"div",17),l.YNc(1,ga,1,0,"ng-content",14),l.qZA()),2&d){const n=i.$implicit,s=l.oxw(3),u=l.MAs(1);l.Udp("top","calc(50% - "+s.innerClockFaceSize+"px)")("height",s.innerClockFaceSize,"px"),l.Q6J("ngStyle",l.VKq(7,Hn,"rotateZ("+n.angle+"deg)")),l.xp6(1),l.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",l.VKq(9,ri,n))}}function fa(d,i){if(1&d&&(l.TgZ(0,"div",15),l.YNc(1,ha,2,11,"div",16),l.ALo(2,"slice"),l.qZA()),2&d){const n=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",l.Dn7(2,2,n.faceTime,12,24))("ngForTrackBy",n.trackByTime)}}function xa(d,i){if(1&d&&(l.TgZ(0,"div",10),l.YNc(1,pa,2,7,"div",11),l.ALo(2,"slice"),l.YNc(3,fa,3,6,"div",13),l.qZA()),2&d){const n=l.oxw();l.xp6(1),l.Q6J("ngForOf",l.Dn7(2,3,n.faceTime,0,12))("ngForTrackBy",n.trackByTime),l.xp6(2),l.Q6J("ngIf",n.faceTime.length>12)}}function ba(d,i){if(1&d&&(l.TgZ(0,"button",18),l._UZ(1,"span",19),l.qZA()),2&d){const n=l.oxw();l.Q6J("color",n.color)}}const li=["*","*"],va=function(d){return{"clock-face__clock-hand_minute":d}};function Ta(d,i){if(1&d){const n=l.EpF();l.TgZ(0,"div",5),l.NdJ("@scaleInOut.done",function(){l.CHM(n);const u=l.oxw(2);return l.KtG(u.animationDone())}),l.TgZ(1,"p"),l._uU(2,"Current time would be invalid in this period."),l.qZA()()}2&d&&l.Q6J("@scaleInOut",void 0)}function Ca(d,i){if(1&d&&l.YNc(0,Ta,3,1,"div",4),2&d){const n=l.oxw();l.Q6J("ngIf",!n.isPeriodAvailable)}}const Gn=function(d){return{active:d}};function ka(d,i){if(1&d){const n=l.EpF();l.TgZ(0,"input",2),l.NdJ("ngModelChange",function(u){l.CHM(n);const p=l.oxw();return l.KtG(p.time=u)})("input",function(){l.CHM(n);const u=l.oxw();return l.KtG(u.updateTime())})("focus",function(u){l.CHM(n);const p=l.oxw();return l.KtG(p.saveTimeAndChangeTimeUnit(u,p.timeUnit))}),l.ALo(1,"timeLocalizer"),l.qZA()}if(2&d){const n=l.oxw();l.Q6J("ngClass",l.VKq(8,Gn,n.isActive))("ngModel",l.Dn7(1,4,n.time,n.timeUnit,!0))("disabled",n.disabled)("ngxMatTimepickerAutofocus",n.isActive)}}function wa(d,i){if(1&d){const n=l.EpF();l.TgZ(0,"input",3),l.NdJ("ngModelChange",function(u){l.CHM(n);const p=l.oxw();return l.KtG(p.onModelChange(u))})("input",function(){l.CHM(n);const u=l.oxw();return l.KtG(u.updateTime())})("focus",function(u){l.CHM(n);const p=l.oxw();return l.KtG(p.saveTimeAndChangeTimeUnit(u,p.timeUnit))})("keydown",function(u){l.CHM(n);const p=l.oxw();return l.KtG(p.onKeydown(u))})("keypress",function(u){l.CHM(n);const p=l.oxw();return l.KtG(p.changeTimeByKeyboard(u))}),l.ALo(1,"timeLocalizer"),l.ALo(2,"ngxMatTimepickerParser"),l.qZA()}if(2&d){const n=l.oxw();l.Q6J("ngClass",l.VKq(11,Gn,n.isActive))("ngModel",l.Dn7(1,4,l.xi3(2,8,n.time,n.timeUnit),n.timeUnit,!0))("disabled",n.disabled)("ngxMatTimepickerAutofocus",n.isActive)}}function ya(d,i){if(1&d){const n=l.EpF();l.TgZ(0,"ngx-mat-timepicker-period",7),l.NdJ("periodChanged",function(u){l.CHM(n);const p=l.oxw();return l.KtG(p.changePeriod(u))}),l.qZA()}if(2&d){const n=l.oxw();l.Q6J("selectedPeriod",n.period)("activeTimeUnit",n.activeTimeUnit)("maxTime",n.maxTime)("minTime",n.minTime)("format",n.format)("hours",n.hours)("minutes",n.minutes)("selectedHour",n.hour)("meridiems",n.meridiems)}}function Oa(d,i){1&d&&l.GkF(0)}function Za(d,i){1&d&&(l.TgZ(0,"small",11),l._uU(1," * use arrows ("),l.TgZ(2,"span"),l._uU(3,"\u21c5"),l.qZA(),l._uU(4,") to change the time"),l.qZA())}const Aa=function(d){return{"timepicker-dial__hint-container--hidden":d}};function Sa(d,i){if(1&d&&(l.TgZ(0,"div",8),l.YNc(1,Oa,1,0,"ng-container",9),l.YNc(2,Za,5,0,"ng-template",null,10,l.W1O),l.qZA()),2&d){const n=l.MAs(3),s=l.oxw();l.Q6J("ngClass",l.VKq(2,Aa,!s.isHintVisible)),l.xp6(1),l.Q6J("ngTemplateOutlet",s.editableHintTmpl?s.editableHintTmpl:n)}}function Na(d,i){1&d&&l.GkF(0)}function Ma(d,i){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,Na,1,0,"ng-container",3),l.qZA()),2&d){l.oxw();const n=l.MAs(4);l.xp6(1),l.Q6J("ngTemplateOutlet",n)}}function Ia(d,i){1&d&&l.GkF(0)}function ja(d,i){if(1&d&&l.YNc(0,Ia,1,0,"ng-container",3),2&d){l.oxw();const n=l.MAs(4);l.Q6J("ngTemplateOutlet",n)}}function La(d,i){1&d&&l.Hsn(0)}const Da=["*"];function Ea(d,i){if(1&d&&(l.TgZ(0,"button",14),l._uU(1,"CANCEL "),l.qZA()),2&d){const n=l.oxw();l.Q6J("color",n.color)}}function Pa(d,i){if(1&d&&(l.TgZ(0,"button",14),l._uU(1,"OK "),l.qZA()),2&d){const n=l.oxw();l.Q6J("color",n.color)}}function Ua(d,i){if(1&d){const n=l.EpF();l.TgZ(0,"ngx-mat-timepicker-24-hours-face",17),l.NdJ("hourChange",function(u){l.CHM(n);const p=l.oxw(2);return l.KtG(p.onHourChange(u))})("hourSelected",function(u){l.CHM(n);const p=l.oxw(2);return l.KtG(p.onHourSelected(u))}),l.ALo(1,"async"),l.qZA()}if(2&d){const n=l.oxw(2);l.Q6J("color",n.color)("selectedHour",l.lcZ(1,5,n.selectedHour))("minTime",n.data.minTime)("maxTime",n.data.maxTime)("format",n.data.format)}}function qa(d,i){if(1&d){const n=l.EpF();l.TgZ(0,"ngx-mat-timepicker-12-hours-face",18),l.NdJ("hourChange",function(u){l.CHM(n);const p=l.oxw(2);return l.KtG(p.onHourChange(u))})("hourSelected",function(u){l.CHM(n);const p=l.oxw(2);return l.KtG(p.onHourSelected(u))}),l.ALo(1,"async"),l.ALo(2,"async"),l.qZA()}if(2&d){const n=l.oxw(2);l.Q6J("color",n.color)("selectedHour",l.lcZ(1,5,n.selectedHour))("period",l.lcZ(2,7,n.selectedPeriod))("minTime",n.data.minTime)("maxTime",n.data.maxTime)}}function za(d,i){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,Ua,2,7,"ngx-mat-timepicker-24-hours-face",15),l.YNc(2,qa,3,9,"ng-template",null,16,l.W1O),l.qZA()),2&d){const n=l.MAs(3),s=l.oxw();l.xp6(1),l.Q6J("ngIf",24===s.data.format)("ngIfElse",n)}}function Ja(d,i){if(1&d){const n=l.EpF();l.TgZ(0,"ngx-mat-timepicker-minutes-face",19),l.NdJ("minuteChange",function(u){l.CHM(n);const p=l.oxw();return l.KtG(p.onMinuteChange(u))}),l.ALo(1,"async"),l.ALo(2,"async"),l.ALo(3,"async"),l.qZA()}if(2&d){const n=l.oxw();let s;l.Q6J("color",n.color)("selectedMinute",l.lcZ(1,8,n.selectedMinute))("selectedHour",null==(s=l.lcZ(2,10,n.selectedHour))?null:s.time)("minTime",n.data.minTime)("maxTime",n.data.maxTime)("format",n.data.format)("period",l.lcZ(3,12,n.selectedPeriod))("minutesGap",n.data.minutesGap)}}function Fe(d,i){1&d&&l.GkF(0)}function Fa(d,i){1&d&&l.GkF(0)}function Qa(d,i){if(1&d&&(l.TgZ(0,"button",14),l._uU(1,"CANCEL "),l.qZA()),2&d){const n=l.oxw();l.Q6J("color",n.color)}}function Ya(d,i){if(1&d&&(l.TgZ(0,"button",14),l._uU(1,"OK "),l.qZA()),2&d){const n=l.oxw();l.Q6J("color",n.color)}}function Ba(d,i){if(1&d){const n=l.EpF();l.TgZ(0,"ngx-mat-timepicker-24-hours-face",17),l.NdJ("hourChange",function(u){l.CHM(n);const p=l.oxw(2);return l.KtG(p.onHourChange(u))})("hourSelected",function(u){l.CHM(n);const p=l.oxw(2);return l.KtG(p.onHourSelected(u))}),l.ALo(1,"async"),l.qZA()}if(2&d){const n=l.oxw(2);l.Q6J("color",n.color)("selectedHour",l.lcZ(1,5,n.selectedHour))("minTime",n.data.minTime)("maxTime",n.data.maxTime)("format",n.data.format)}}function Ha(d,i){if(1&d){const n=l.EpF();l.TgZ(0,"ngx-mat-timepicker-12-hours-face",18),l.NdJ("hourChange",function(u){l.CHM(n);const p=l.oxw(2);return l.KtG(p.onHourChange(u))})("hourSelected",function(u){l.CHM(n);const p=l.oxw(2);return l.KtG(p.onHourSelected(u))}),l.ALo(1,"async"),l.ALo(2,"async"),l.qZA()}if(2&d){const n=l.oxw(2);l.Q6J("color",n.color)("selectedHour",l.lcZ(1,5,n.selectedHour))("period",l.lcZ(2,7,n.selectedPeriod))("minTime",n.data.minTime)("maxTime",n.data.maxTime)}}function Ga(d,i){if(1&d&&(l.TgZ(0,"div"),l.YNc(1,Ba,2,7,"ngx-mat-timepicker-24-hours-face",15),l.YNc(2,Ha,3,9,"ng-template",null,16,l.W1O),l.qZA()),2&d){const n=l.MAs(3),s=l.oxw();l.xp6(1),l.Q6J("ngIf",24===s.data.format)("ngIfElse",n)}}function Ra(d,i){if(1&d){const n=l.EpF();l.TgZ(0,"ngx-mat-timepicker-minutes-face",19),l.NdJ("minuteChange",function(u){l.CHM(n);const p=l.oxw();return l.KtG(p.onMinuteChange(u))}),l.ALo(1,"async"),l.ALo(2,"async"),l.ALo(3,"async"),l.qZA()}if(2&d){const n=l.oxw();let s;l.Q6J("color",n.color)("selectedMinute",l.lcZ(1,8,n.selectedMinute))("selectedHour",null==(s=l.lcZ(2,10,n.selectedHour))?null:s.time)("minTime",n.data.minTime)("maxTime",n.data.maxTime)("format",n.data.format)("period",l.lcZ(3,12,n.selectedPeriod))("minutesGap",n.data.minutesGap)}}function Va(d,i){1&d&&l.GkF(0)}function $a(d,i){1&d&&l.GkF(0)}function Wa(d,i){1&d&&l._UZ(0,"ngx-mat-timepicker-standalone")}function Ka(d,i){1&d&&(l.O4$(),l.TgZ(0,"svg",2),l._UZ(1,"path",3),l.qZA())}const Xa=[[["","ngxMatTimepickerToggleIcon",""]]],ts=["[ngxMatTimepickerToggleIcon]"];function es(d,i){if(1&d&&(l.TgZ(0,"mat-option",12),l._uU(1),l.qZA()),2&d){const n=i.$implicit;l.Q6J("value",n),l.xp6(1),l.Oqu(n)}}function ns(d,i){if(1&d){const n=l.EpF();l.TgZ(0,"mat-form-field",9)(1,"mat-select",10),l.NdJ("selectionChange",function(u){l.CHM(n);const p=l.oxw();return l.KtG(p.changePeriod(u))}),l.YNc(2,es,2,2,"mat-option",11),l.qZA()()}if(2&d){const n=l.oxw();l.Q6J("color",n.color),l.xp6(1),l.Q6J("disabled",n.disabled||n.isChangePeriodDisabled)("ngModel",n.period),l.xp6(1),l.Q6J("ngForOf",n.periods)}}function os(d,i){1&d&&l.GkF(0)}function is(d,i){if(1&d&&(l.TgZ(0,"ngx-mat-timepicker-toggle",13)(1,"span",14),l.YNc(2,os,1,0,"ng-container",15),l.qZA()()),2&d){const n=l.oxw(),s=l.MAs(8),u=l.MAs(10);l.Q6J("for",s)("disabled",n.disabled),l.xp6(2),l.Q6J("ngTemplateOutlet",n.toggleIcon||u)}}function as(d,i){1&d&&(l.TgZ(0,"mat-icon"),l._uU(1,"watch_later"),l.qZA())}const ss=function(d){return{"ngx-mat-timepicker--disabled":d}};var Qe=function(d){return d.TWELVE="hh:mm a",d.TWELVE_SHORT="h:m a",d.TWENTY_FOUR="HH:mm",d.TWENTY_FOUR_SHORT="H:m",d}(Qe||{}),Rt=function(d){return d.AM="AM",d.PM="PM",d}(Rt||{});let yt=(()=>{class d{static formatHour(n,s,u){if(this.isTwentyFour(s))return n;const p=u===Rt.AM?n:n+12;return u===Rt.AM&&12===p?0:u===Rt.PM&&24===p?12:p}static formatTime(n,s){if(!n)return"Invalid Time";const u=this.parseTime(n,s).setLocale(this.defaultLocale);if(!u.isValid)return"Invalid time";const p=!this.isTwentyFour(s.format);return p?u.toLocaleString({...Y.TIME_SIMPLE,hour12:p}).replace(/\u200E/g,""):u.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static fromDateTimeToString(n,s){return n.reconfigure({numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}).toFormat(this.isTwentyFour(s)?Qe.TWENTY_FOUR:Qe.TWELVE)}static isBetween(n,s,u,p="minutes"){const v="hours"===p?p:void 0;return this.isSameOrBefore(n,u,v)&&this.isSameOrAfter(n,s,v)}static isSameOrAfter(n,s,u="minutes"){return"hours"===u?n.hour>=s.hour:n.hasSame(s,u)||n.valueOf()>s.valueOf()}static isSameOrBefore(n,s,u="minutes"){return"hours"===u?n.hour<=s.hour:n.hasSame(s,u)||n.valueOf()<=s.valueOf()}static isTimeAvailable(n,s,u,p,v,y){if(!n)return;const O=this.parseTime(n,{format:y}),I=O.minute;if(v&&I==I&&I%v!=0)throw new Error(`Your minutes - ${I} doesn't match your minutesGap - ${v}`);const J=s&&!u&&this.isSameOrAfter(O,s,p),U=u&&!s&&this.isSameOrBefore(O,u,p),V=s&&u&&this.isBetween(O,s,u,p);return J||U||V||!s&&!u}static isTwentyFour(n){return 24===n}static parseTime(n,s){const u=this._getLocaleOptionsByTime(n,s);let p=Qe.TWENTY_FOUR_SHORT;return n.match(/\s/g)&&(n=n.replace(/\.\s*/g,""),p=Qe.TWELVE_SHORT),Y.fromFormat(n.replace(/\s+/g," "),p,{numberingSystem:u.numberingSystem,locale:u.locale})}static toLocaleTimeString(n,s={}){const{format:u=this.defaultFormat,locale:p=this.defaultLocale}=s;let v="h12",y=Qe.TWELVE_SHORT;return this.isTwentyFour(u)&&(v="h23",y=Qe.TWENTY_FOUR_SHORT),Y.fromFormat(n,y).reconfigure({locale:p,numberingSystem:s.numberingSystem,defaultToEN:s.defaultToEN,outputCalendar:s.outputCalendar}).toLocaleString({...Y.TIME_SIMPLE,hourCycle:v})}static _getLocaleOptionsByTime(n,s){const{numberingSystem:u,locale:p}=Y.now().reconfigure({locale:s.locale,numberingSystem:s.numberingSystem,outputCalendar:s.outputCalendar,defaultToEN:s.defaultToEN}).resolvedLocaleOptions();return isNaN(parseInt(n,10))?{numberingSystem:u,locale:p}:{numberingSystem:this.defaultNumberingSystem,locale:this.defaultLocale}}}return d.defaultFormat=12,d.defaultLocale="en-US",d.defaultNumberingSystem="latn",d})();var te=function(d){return d[d.HOUR=0]="HOUR",d[d.MINUTE=1]="MINUTE",d}(te||{});const Rn=new l.OlP("NGX_MAT_TIMEPICKER_CONFIG"),lo={time:12,angle:360},co={time:0,angle:360};let Vn=(()=>{class d{constructor(){this._hour$=new In.X(lo),this._minute$=new In.X(co),this._period$=new In.X(Rt.AM)}set hour(n){this._hour$.next(n)}set minute(n){this._minute$.next(n)}set period(n){(n===Rt.AM||n===Rt.PM)&&this._period$.next(n)}get selectedHour(){return this._hour$.asObservable()}get selectedMinute(){return this._minute$.asObservable()}get selectedPeriod(){return this._period$.asObservable()}getFullTime(n){const s=this._hour$.getValue().time,u=this._minute$.getValue().time,O=`${s??lo.time}:${u??co.time} ${12===n?this._period$.getValue():""}`.trim();return yt.formatTime(O,{format:n})}setDefaultTimeIfAvailable(n,s,u,p,v){n||this._resetTime();try{yt.isTimeAvailable(n,s,u,"minutes",v)&&this._setDefaultTime(n,p)}catch(y){console.error(y)}}_resetTime(){this.hour={...lo},this.minute={...co},this.period=Rt.AM}_setDefaultTime(n,s){const u=yt.parseTime(n,{format:s});if(u.isValid){const p=n.substring(n.length-2).toUpperCase(),v=u.hour;this.hour={...lo,time:rs(v,p)},this.minute={...co,time:u.minute},this.period=p}else this._resetTime()}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();function rs(d,i){switch(i){case Rt.AM:return 0===d?12:d;case Rt.PM:return 12===d?12:d-12;default:return d}}let mo=(()=>{class d{get backdropClick(){return this._backdropClick$.asObservable().pipe((0,Yn.d)({bufferSize:1,refCount:!0}))}get keydownEvent(){return this._keydownEvent$.asObservable().pipe((0,Yn.d)({bufferSize:1,refCount:!0}))}constructor(){this._backdropClick$=new Qn.x,this._keydownEvent$=new Qn.x}dispatchEvent(n){switch(n.type){case"click":this._backdropClick$.next(n);break;case"keydown":this._keydownEvent$.next(n);break;default:throw new Error("no such event type")}}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const ci=new l.OlP("TimeLocale",{providedIn:"root",factory:()=>yt.defaultLocale});let Ne=(()=>{class d{get locale(){return this._locale}constructor(n){this._locale=n}updateLocale(n){this._locale=n||this._initialLocale}}return d.\u0275fac=function(n){return new(n||d)(l.LFG(ci))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),uo=(()=>{class d{set color(n){this._color=n}get color(){return this._color}get defaultTime(){return this._defaultTime}set defaultTime(n){this._defaultTime=n,this._setDefaultTime(n)}get _locale(){return this._timepickerLocaleSrv.locale}constructor(n,s,u,p){this._timepickerSrv=n,this._eventSrv=s,this._timepickerLocaleSrv=u,this.data=p,this.activeTimeUnit=te.HOUR,this.timeUnit=te,this._color="primary",this._subsCtrl$=new Qn.x,this.color=p.color,this.defaultTime=p.defaultTime}changePeriod(n){this._timepickerSrv.period=n,this._onTimeChange()}changeTimeUnit(n){this.activeTimeUnit=n}close(){this.data.timepickerBaseRef.close()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._defineTime(),this.selectedHour=this._timepickerSrv.selectedHour.pipe((0,Yn.d)({bufferSize:1,refCount:!0})),this.selectedMinute=this._timepickerSrv.selectedMinute.pipe((0,Yn.d)({bufferSize:1,refCount:!0})),this.selectedPeriod=this._timepickerSrv.selectedPeriod.pipe((0,Yn.d)({bufferSize:1,refCount:!0})),this.data.timepickerBaseRef.timeUpdated.pipe((0,yo.R)(this._subsCtrl$)).subscribe({next:n=>{n&&this._setDefaultTime(n)}})}onHourChange(n){this._timepickerSrv.hour=n,this._onTimeChange()}onHourSelected(n){this.data.hoursOnly||this.changeTimeUnit(te.MINUTE),this.data.timepickerBaseRef.hourSelected.next(n)}onKeydown(n){this._eventSrv.dispatchEvent(n),n.stopPropagation()}onMinuteChange(n){this._timepickerSrv.minute=n,this._onTimeChange()}setTime(){this.data.timepickerBaseRef.timeSet.emit(this._timepickerSrv.getFullTime(this.data.format)),this.close()}_defineTime(){const n=this.data.minTime;if(n&&!this.data.time&&!this.data.defaultTime){const s=yt.fromDateTimeToString(n,this.data.format);this._setDefaultTime(s)}}_onTimeChange(){const n=yt.toLocaleTimeString(this._timepickerSrv.getFullTime(this.data.format),{locale:this._locale,format:this.data.format});this.data.timepickerBaseRef.timeChanged.emit(n)}_setDefaultTime(n){this._timepickerSrv.setDefaultTimeIfAvailable(n,this.data.minTime,this.data.maxTime,this.data.format,this.data.minutesGap)}}return d.\u0275fac=function(n){return new(n||d)(l.Y36(Vn),l.Y36(mo),l.Y36(Ne),l.Y36(Rn))},d.\u0275dir=l.lG2({type:d,selectors:[["","ngxMatTimepickerBase",""]],hostBindings:function(n,s){1&n&&l.NdJ("keydown",function(p){return s.onKeydown(p)})},inputs:{color:"color",defaultTime:"defaultTime"},standalone:!0}),d})();class Jt{static disableHours(i,n){return n.min||n.max?i.map(s=>{const u=yt.isTwentyFour(n.format)?s.time:yt.formatHour(s.time,n.format,n.period),p=Y.fromObject({hour:u}).toFormat(Qe.TWELVE);return{...s,disabled:!yt.isTimeAvailable(p,n.min,n.max,"hours")}}):i}static disableMinutes(i,n,s){if(s.min||s.max){const u=yt.formatHour(n,s.format,s.period);let p=Y.fromObject({hour:u,minute:0});return i.map(v=>(p=p.set({minute:v.time}),{...v,disabled:!yt.isTimeAvailable(p.toFormat(Qe.TWELVE),s.min,s.max,"minutes")}))}return i}static getHours(i){return Array(i).fill(1).map((n,s)=>{const p=n+s;return{time:24===p?0:p,angle:30*p}})}static getMinutes(i=1){const u=[];for(let p=0;p<60;p++){const v=6*p;p%i==0&&u.push({time:p,angle:0!==v?v:360})}return u}static isDigit(i){return!!([46,8,9,27,13].some(n=>n===i.keyCode)||65===i.keyCode&&(!0===i.ctrlKey||!0===i.metaKey)||67===i.keyCode&&(!0===i.ctrlKey||!0===i.metaKey)||88===i.keyCode&&(!0===i.ctrlKey||!0===i.metaKey)||i.keyCode>=35&&i.keyCode<=40)||!((i.keyCode<48||i.keyCode>57)&&(i.keyCode<96||i.keyCode>105))}}var $n=function(d){return d.hour="hour",d.minute="minute",d}($n||{});let No=(()=>{class d{get _locale(){return this._timepickerLocaleSrv.locale}constructor(n){this._timepickerLocaleSrv=n}transform(n,s,u=!1){if(null==n||""===n)return"";switch(s){case te.HOUR:return this._formatTime($n.hour,n,0===n||u?"HH":"H");case te.MINUTE:return this._formatTime($n.minute,n,"mm");default:throw new Error(`There is no Time Unit with type ${s}`)}}_formatTime(n,s,u){try{return Y.fromObject({[n]:+s}).setLocale(this._locale).toFormat(u)}catch{throw new Error(`Cannot format provided time - ${s} to locale - ${this._locale}`)}}}return d.\u0275fac=function(n){return new(n||d)(l.Y36(Ne,16))},d.\u0275pipe=l.Yjl({name:"timeLocalizer",type:d,pure:!0,standalone:!0}),d})(),mi=(()=>{class d{transform(n,s=5){return n&&(n%s==0?n:"")}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275pipe=l.Yjl({name:"minutesFormatter",type:d,pure:!0,standalone:!0}),d})(),ls=(()=>{class d{transform(n,s,u,p){return null!=n&&!p&&s===n&&n%(u||5)==0}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275pipe=l.Yjl({name:"activeMinute",type:d,pure:!0,standalone:!0}),d})(),cs=(()=>{class d{transform(n,s,u){return null!=n&&!u&&n===s}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275pipe=l.Yjl({name:"activeHour",type:d,pure:!0,standalone:!0}),d})();const _o_small_height="75px",_o_small_top="calc(50% - 75px)",_o_large_height="103px",_o_large_top="calc(50% - 103px)";let po=(()=>{class d{constructor(){this.color="primary",this.innerClockFaceSize=85,this.timeChange=new l.vpe,this.timeSelected=new l.vpe,this.timeUnit=te}ngAfterViewInit(){this._setClockHandPosition(),this._addTouchEvents()}ngOnChanges(n){const s=n.faceTime,u=n.selectedTime;s&&s.currentValue&&u&&u.currentValue&&(this.selectedTime=this.faceTime.find(p=>p.time===this.selectedTime.time)),u&&u.currentValue&&this._setClockHandPosition(),s&&s.currentValue&&setTimeout(()=>this._selectAvailableTime())}ngOnDestroy(){this._removeTouchEvents()}onMousedown(n){n.preventDefault(),this._isStarted=!0}onMouseup(n){n.preventDefault(),this._isStarted=!1}selectTime(n){if(!this._isStarted&&n instanceof MouseEvent&&"click"!==n.type)return;const s=this.clockFace.nativeElement.getBoundingClientRect(),u=s.left+s.width/2,p=s.top+s.height/2,v=180*Math.atan(Math.abs(n.clientX-u)/Math.abs(n.clientY-p))/Math.PI,y=function ds(d,i,n,s,u){return s>i&&n>=d?180-u:s>i&&n<d?180+u:s<i&&n<d?360-u:u}(u,p,n.clientX,n.clientY,v),O=this.format&&this._isInnerClockFace(u,p,n.clientX,n.clientY),U=(function ms(d,i){return Math.round(d/i)*i}(y,this.unit===te.MINUTE?6*(this.minutesGap||1):30)||360)+(O?360:0),V=this.faceTime.find(H=>H.angle===U);V&&!V.disabled&&(this.timeChange.next(V),this._isStarted||this.timeSelected.next(V.time))}trackByTime(n,s){return s.time}_addTouchEvents(){this._touchStartHandler=this.onMousedown.bind(this),this._touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this._touchEndHandler)}_decreaseClockHand(){this.clockHand.nativeElement.style.height=_o_small_height,this.clockHand.nativeElement.style.top=_o_small_top}_increaseClockHand(){this.clockHand.nativeElement.style.height=_o_large_height,this.clockHand.nativeElement.style.top=_o_large_top}_isInnerClockFace(n,s,u,p){return Math.sqrt(Math.pow(u-n,2)+Math.pow(p-s,2))<this.innerClockFaceSize}_removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this._touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this._touchEndHandler)}_selectAvailableTime(){const n=this.faceTime.find(s=>this.selectedTime.time===s.time);if(this.isClockFaceDisabled=this.faceTime.every(s=>s.disabled),n&&n.disabled&&!this.isClockFaceDisabled){const s=this.faceTime.find(u=>!u.disabled);this.timeChange.next(s)}}_setClockHandPosition(){yt.isTwentyFour(this.format)&&(this.selectedTime.time>12||0===this.selectedTime.time?this._decreaseClockHand():this._increaseClockHand()),this.selectedTime&&(this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`)}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=l.Xpm({type:d,selectors:[["ngx-mat-timepicker-face"]],viewQuery:function(n,s){if(1&n&&(l.Gf(ca,7),l.Gf(si,7,l.SBq)),2&n){let u;l.iGM(u=l.CRH())&&(s.clockFace=u.first),l.iGM(u=l.CRH())&&(s.clockHand=u.first)}},hostBindings:function(n,s){1&n&&l.NdJ("mousedown",function(p){return s.onMousedown(p)})("mouseup",function(p){return s.onMouseup(p)})("click",function(p){return s.selectTime(p)})("touchmove",function(p){return s.selectTime(p.changedTouches[0])})("touchend",function(p){return s.selectTime(p.changedTouches[0])})("mousemove",function(p){return s.selectTime(p)})},inputs:{color:"color",faceTime:"faceTime",format:"format",minutesGap:"minutesGap",selectedTime:"selectedTime",unit:"unit"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:li,decls:11,vars:9,consts:[["hourButton",""],["minutesFace",""],[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"color","ngClass","hidden"],["clockHand",""],["mat-mini-fab","",3,"color",4,"ngIf"],[1,"clock-face__center",3,"color"],["mat-mini-fab","","disableRipple","",1,"mat-elevation-z0",3,"color","ngStyle","disabled"],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],["class","clock-face__inner",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"top","ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"],["mat-mini-fab","",3,"color"],[1,"clock-face__clock-hand_minute_dot"]],template:function(n,s){if(1&n&&(l.F$t(li),l.YNc(0,ma,4,13,"ng-template",null,0,l.W1O),l.YNc(2,ua,2,2,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2,3),l.YNc(6,xa,4,7,"div",4),l.TgZ(7,"mat-toolbar",5,6),l.YNc(9,ba,2,1,"button",7),l.qZA(),l._UZ(10,"mat-toolbar",8),l.qZA()),2&n){const u=l.MAs(3);l.xp6(6),l.Q6J("ngIf",s.unit!==s.timeUnit.MINUTE)("ngIfElse",u),l.xp6(1),l.Q6J("color",s.color)("ngClass",l.VKq(7,va,s.unit===s.timeUnit.MINUTE))("hidden",s.isClockFaceDisabled),l.xp6(2),l.Q6J("ngIf",s.unit===s.timeUnit.MINUTE),l.xp6(1),l.Q6J("color",s.color)}},dependencies:[Ae.ot,Ae.nh,ut.PC,ut.ax,ut.O5,ut.tP,_n.g0,_n.Ye,ut.mk,ut.OU,cs,ls,mi,No],styles:["ngx-mat-timepicker-face .clock-face{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;box-sizing:border-box;background-color:#c8c8c880!important}ngx-mat-timepicker-face .clock-face__inner{position:absolute;top:0;left:0;width:100%;height:100%}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void{box-shadow:none;background-color:transparent}ngx-mat-timepicker-face .clock-face [mat-mini-fab].mat-void>span.mat-mdc-button-persistent-ripple{display:none}ngx-mat-timepicker-face .clock-face__container{margin-left:-2px}ngx-mat-timepicker-face .clock-face__number{position:absolute;transform-origin:25px 100%;width:50px;text-align:center;z-index:2;top:calc(50% - 125px);left:calc(50% - 25px)}ngx-mat-timepicker-face .clock-face__number--outer{height:125px}ngx-mat-timepicker-face .clock-face__number--outer>span{font-size:16px}ngx-mat-timepicker-face .clock-face__number--inner>span{font-size:14px}ngx-mat-timepicker-face .clock-face__clock-hand{height:103px;width:2px;padding:0;transform-origin:1px 100%;position:absolute;top:calc(50% - 103px);z-index:1}ngx-mat-timepicker-face .clock-face__center{width:8px;height:8px;padding:0;position:absolute;border-radius:50%;top:50%;left:50%;margin:-4px}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button{position:absolute;top:-22px;left:calc(50% - 20px);box-sizing:content-box;display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-face .clock-face__clock-hand_minute>button .clock-face__clock-hand_minute_dot{display:block;width:4px;height:4px;background:#FFF;border-radius:50%}@media (max-device-width: 1023px) and (orientation: landscape){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}@media screen and (max-width: 360px){ngx-mat-timepicker-face .clock-face{width:250px;height:250px}}\n"],encapsulation:2,changeDetection:0}),d})(),Mo=(()=>{class d{set color(n){this._color=n}get color(){return this._color}constructor(){this.minuteChange=new l.vpe,this.minutesList=[],this.timeUnit=te,this._color="primary"}ngOnChanges(n){if(n.period&&n.period.currentValue){const s=Jt.getMinutes(this.minutesGap);this.minutesList=Jt.disableMinutes(s,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=l.Xpm({type:d,selectors:[["ngx-mat-timepicker-minutes-face"]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",minutesGap:"minutesGap",period:"period",selectedHour:"selectedHour",selectedMinute:"selectedMinute"},outputs:{minuteChange:"minuteChange"},standalone:!0,features:[l.TTD,l.jDz],decls:1,vars:5,consts:[[3,"color","faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(n,s){1&n&&(l.TgZ(0,"ngx-mat-timepicker-face",0),l.NdJ("timeChange",function(p){return s.minuteChange.next(p)}),l.qZA()),2&n&&l.Q6J("color",s.color)("faceTime",s.minutesList)("selectedTime",s.selectedMinute)("minutesGap",s.minutesGap)("unit",s.timeUnit.MINUTE)},dependencies:[po],encapsulation:2}),d})(),di=(()=>{class d{set color(n){this._color=n}get color(){return this._color}set format(n){this._format=n,this.hoursList=Jt.getHours(this._format)}get format(){return this._format}constructor(){this.hourChange=new l.vpe,this.hourSelected=new l.vpe,this.hoursList=[],this._color="primary",this._format=24}onTimeSelected(n){this.hourSelected.next(n)}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275dir=l.lG2({type:d,selectors:[["","ngxMatTimepickerHoursFace",""]],inputs:{color:"color",format:"format",maxTime:"maxTime",minTime:"minTime",selectedHour:"selectedHour"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"},standalone:!0}),d})(),Wn=(()=>{class d extends di{constructor(){super(),this.format=12}ngOnChanges(n){n.period&&n.period.currentValue&&(this.hoursList=Jt.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=l.Xpm({type:d,selectors:[["ngx-mat-timepicker-12-hours-face"]],inputs:{period:"period"},standalone:!0,features:[l.qOj,l.TTD,l.jDz],decls:1,vars:3,consts:[[3,"color","selectedTime","faceTime","timeChange","timeSelected"]],template:function(n,s){1&n&&(l.TgZ(0,"ngx-mat-timepicker-face",0),l.NdJ("timeChange",function(p){return s.hourChange.next(p)})("timeSelected",function(p){return s.onTimeSelected(p)}),l.qZA()),2&n&&l.Q6J("color",s.color)("selectedTime",s.selectedHour)("faceTime",s.hoursList)},dependencies:[po],encapsulation:2,changeDetection:0}),d})(),Io=(()=>{class d extends di{constructor(){super(),this.format=24}ngAfterContentInit(){this.hoursList=Jt.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=l.Xpm({type:d,selectors:[["ngx-mat-timepicker-24-hours-face"]],standalone:!0,features:[l.qOj,l.jDz],decls:1,vars:4,consts:[[3,"color","selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(n,s){1&n&&(l.TgZ(0,"ngx-mat-timepicker-face",0),l.NdJ("timeChange",function(p){return s.hourChange.next(p)})("timeSelected",function(p){return s.onTimeSelected(p)}),l.qZA()),2&n&&l.Q6J("color",s.color)("selectedTime",s.selectedHour)("faceTime",s.hoursList)("format",s.format)},dependencies:[po],encapsulation:2,changeDetection:0}),d})(),us=(()=>{class d{constructor(n){this._overlay=n,this.isPeriodAvailable=!0,this.overlayScrollStrategy=this._overlay.scrollStrategies.reposition(),this.periodChanged=new l.vpe,this.timePeriod=Rt}animationDone(){this.isPeriodAvailable=!0}changePeriod(n){this.isPeriodAvailable=this._isSwitchPeriodAvailable(n),this.isPeriodAvailable&&this.periodChanged.next(n)}_getDisabledTimeByPeriod(n){switch(this.activeTimeUnit){case te.HOUR:return Jt.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:n});case te.MINUTE:return Jt.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:n});default:throw new Error("no such NgxMatTimepickerUnits")}}_isSwitchPeriodAvailable(n){return!this._getDisabledTimeByPeriod(n).every(u=>u.disabled)}}return d.\u0275fac=function(n){return new(n||d)(l.Y36(o.aV))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ngx-mat-timepicker-period"]],inputs:{activeTimeUnit:"activeTimeUnit",format:"format",hours:"hours",maxTime:"maxTime",meridiems:"meridiems",minTime:"minTime",minutes:"minutes",selectedHour:"selectedHour",selectedPeriod:"selectedPeriod"},outputs:{periodChanged:"periodChanged"},standalone:!0,features:[l.jDz],decls:7,vars:12,consts:[["cdkOverlayOrigin","",1,"timepicker-period"],["eventPanelOrigin","cdkOverlayOrigin"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["cdkConnectedOverlay","","cdkConnectedOverlayPanelClass","todo-remove-pointer-events-if-necessary",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayPositionStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(n,s){if(1&n&&(l.TgZ(0,"div",0,1)(2,"button",2),l.NdJ("click",function(){return s.changePeriod(s.timePeriod.AM)}),l._uU(3),l.qZA(),l.TgZ(4,"button",2),l.NdJ("click",function(){return s.changePeriod(s.timePeriod.PM)}),l._uU(5),l.qZA()(),l.YNc(6,Ca,1,1,"ng-template",3)),2&n){const u=l.MAs(1);l.xp6(2),l.Q6J("ngClass",l.VKq(8,Gn,s.selectedPeriod===s.timePeriod.AM)),l.xp6(1),l.Oqu(s.meridiems[0]),l.xp6(1),l.Q6J("ngClass",l.VKq(10,Gn,s.selectedPeriod===s.timePeriod.PM)),l.xp6(1),l.Oqu(s.meridiems[1]),l.xp6(1),l.Q6J("cdkConnectedOverlayScrollStrategy",s.overlayScrollStrategy)("cdkConnectedOverlayPositionStrategy",s.overlayPositionStrategy)("cdkConnectedOverlayOrigin",u)("cdkConnectedOverlayOpen",!s.isPeriodAvailable)}},dependencies:[o.xu,ut.mk,o.pI,ut.O5],styles:[".timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{opacity:.5;padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;user-select:none;outline:none;border-radius:3px;transition:background-color .5s;color:inherit}.timepicker-period__btn.active[_ngcontent-%COMP%]{opacity:1}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:#00000012}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:#0000008c;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:700;color:#fff}"],data:{animation:[(0,Se.X$)("scaleInOut",[(0,Se.eR)(":enter",[(0,Se.oB)({transform:"scale(0)"}),(0,Se.jt)(".2s",(0,Se.oB)({transform:"scale(1)"})),(0,Se.vP)([(0,Se.jt)("3s",(0,Se.oB)({opacity:1})),(0,Se.jt)(".3s",(0,Se.oB)({opacity:0}))])])])]}}),d})(),jn=(()=>{class d{get _locale(){return this._timepickerLocaleSrv.locale}constructor(n){this._timepickerLocaleSrv=n,this._numberingSystem=Y.local().setLocale(this._locale).resolvedLocaleOptions().numberingSystem}transform(n,s=te.HOUR){return null==n||""===n?"":isNaN(+n)?s===te.MINUTE?this._parseTime(n,"mm",$n.minute).toString():this._parseTime(n,"HH",$n.hour).toString():`${n}`}_parseTime(n,s,u){const p=Y.fromFormat(String(n),s,{numberingSystem:this._numberingSystem})[u];if(!isNaN(p))return p;throw new Error(`Cannot parse time - ${n}`)}}return d.\u0275fac=function(n){return new(n||d)(l.Y36(Ne,16))},d.\u0275pipe=l.Yjl({name:"ngxMatTimepickerParser",type:d,pure:!0,standalone:!0}),d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac}),d})(),_s=(()=>{class d{constructor(n,s){this._element=n,this._document=s,this._activeElement=this._document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this._element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this._activeElement.focus({preventScroll:!0}))}}return d.\u0275fac=function(n){return new(n||d)(l.Y36(l.SBq),l.Y36(ut.K0,8))},d.\u0275dir=l.lG2({type:d,selectors:[["","ngxMatTimepickerAutofocus",""]],inputs:{isFocusActive:["ngxMatTimepickerAutofocus","isFocusActive"]},standalone:!0,features:[l.TTD]}),d})();function ui(){this.selectionStart=this.selectionEnd}let _i=(()=>{class d{get _selectedTime(){if(this.time)return this.timeList.find(n=>n.time===+this.time)}constructor(n,s){this._elRef=n,this._timeParserPipe=s,this.focused=new l.vpe,this.timeChanged=new l.vpe,this.timeUnitChanged=new l.vpe,this.unfocused=new l.vpe}changeTimeByKeyboard(n){const s=String.fromCharCode(n.keyCode);(function ps(d,i,n){if(/\d/.test(i))return pi(d+i,n)})(this.time,s,this.timeList)&&n.preventDefault()}ngAfterViewInit(){this._elRef.nativeElement.querySelector("input").addEventListener("select",ui,!1)}ngOnDestroy(){this._elRef.nativeElement.querySelector("input").removeEventListener("select",ui)}onKeydown(n){Jt.isDigit(n)?this._changeTimeByArrow(n.keyCode):n.preventDefault()}onModelChange(n){this.time=this._timeParserPipe.transform(n,this.timeUnit)}saveTimeAndChangeTimeUnit(n,s){n.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(s),this.focused.next()}updateTime(){this._selectedTime&&(this.timeChanged.next(this._selectedTime),this.previousTime=this._selectedTime.time)}_addTime(n){return`0${+this.time+n}`.substr(-2)}_changeTimeByArrow(n){let s;38===n?s=this._addTime(this.minutesGap||1):40===n&&(s=this._addTime(-1*(this.minutesGap||1))),pi(s,this.timeList)||(this.time=s,this.updateTime())}}return d.\u0275fac=function(n){return new(n||d)(l.Y36(l.SBq),l.Y36(jn))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ngx-mat-timepicker-dial-control"]],inputs:{disabled:"disabled",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{focused:"focused",timeChanged:"timeChanged",timeUnitChanged:"timeUnitChanged",unfocused:"unfocused"},standalone:!0,features:[l._Bn([jn]),l.jDz],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngClass","ngModel","disabled","ngxMatTimepickerAutofocus","ngModelChange","input","focus","keydown","keypress"]],template:function(n,s){if(1&n&&(l.YNc(0,ka,2,10,"input",0),l.YNc(1,wa,3,13,"ng-template",null,1,l.W1O)),2&n){const u=l.MAs(2);l.Q6J("ngIf",!s.isEditable)("ngIfElse",u)}},dependencies:[ut.O5,Xt.u5,Xt.Fj,Xt.JJ,Xt.On,ut.mk,_s,jn,No],styles:[".timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:center;color:inherit}.timepicker-dial__control[_ngcontent-%COMP%]:focus{outline:none;background-color:#0000001a}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]}),d})();function pi(d,i){const n=i.find(s=>s.time===+d);return!n||n&&n.disabled}let Lo,jo=(()=>{class d{set color(n){this._color=n}get color(){return this._color}get hourString(){return`${this.hour}`}get minuteString(){return`${this.minute}`}get _locale(){return this._localeSrv.locale}constructor(n){this._localeSrv=n,this.hourChanged=new l.vpe,this.meridiems=sn.meridiems({locale:this._locale}),this.minuteChanged=new l.vpe,this.periodChanged=new l.vpe,this.timeUnit=te,this.timeUnitChanged=new l.vpe,this._color="primary"}changeHour(n){this.hourChanged.next(n)}changeMinute(n){this.minuteChanged.next(n)}changePeriod(n){this.periodChanged.next(n)}changeTimeUnit(n){this.timeUnitChanged.next(n)}hideHint(){this.isHintVisible=!1}ngOnChanges(n){const s=n.period&&n.period.currentValue;if(s||n.format&&n.format.currentValue){const u=Jt.getHours(this.format);this.hours=Jt.disableHours(u,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(s||n.hour&&n.hour.currentValue){const u=Jt.getMinutes(this.minutesGap);this.minutes=Jt.disableMinutes(u,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}showHint(){this.isHintVisible=!0}}return d.\u0275fac=function(n){return new(n||d)(l.Y36(Ne))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ngx-mat-timepicker-dial"]],inputs:{activeTimeUnit:"activeTimeUnit",color:"color",editableHintTmpl:"editableHintTmpl",format:"format",hour:"hour",hoursOnly:"hoursOnly",isEditable:"isEditable",maxTime:"maxTime",minTime:"minTime",minute:"minute",minutesGap:"minutesGap",period:"period"},outputs:{hourChanged:"hourChanged",minuteChanged:"minuteChanged",periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged"},standalone:!0,features:[l.TTD,l.jDz],decls:9,vars:14,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],["class","timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"timepicker-dial__period",3,"selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(n,s){1&n&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-mat-timepicker-dial-control",3),l.NdJ("timeUnitChanged",function(p){return s.changeTimeUnit(p)})("timeChanged",function(p){return s.changeHour(p)})("focused",function(){return s.showHint()})("unfocused",function(){return s.hideHint()}),l.qZA(),l.TgZ(4,"span"),l._uU(5,":"),l.qZA(),l.TgZ(6,"ngx-mat-timepicker-dial-control",4),l.NdJ("timeUnitChanged",function(p){return s.changeTimeUnit(p)})("timeChanged",function(p){return s.changeMinute(p)})("focused",function(){return s.showHint()})("unfocused",function(){return s.hideHint()}),l.qZA()(),l.YNc(7,ya,1,9,"ngx-mat-timepicker-period",5),l.qZA(),l.YNc(8,Sa,4,4,"div",6),l.qZA()),2&n&&(l.xp6(3),l.Q6J("timeList",s.hours)("time",s.hourString)("timeUnit",s.timeUnit.HOUR)("isActive",s.activeTimeUnit===s.timeUnit.HOUR)("isEditable",s.isEditable),l.xp6(3),l.Q6J("timeList",s.minutes)("time",s.minuteString)("timeUnit",s.timeUnit.MINUTE)("isActive",s.activeTimeUnit===s.timeUnit.MINUTE)("isEditable",s.isEditable)("minutesGap",s.minutesGap)("disabled",s.hoursOnly),l.xp6(1),l.Q6J("ngIf",24!==s.format),l.xp6(1),l.Q6J("ngIf",s.isEditable||s.editableHintTmpl))},dependencies:[_i,ut.O5,us,ut.mk,ut.tP],styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:center}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0}),d})(),gi=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=l.Xpm({type:d,selectors:[["ngx-mat-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},standalone:!0,features:[l.jDz],ngContentSelectors:Da,decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[4,"ngTemplateOutlet"]],template:function(n,s){if(1&n&&(l.F$t(),l.YNc(0,Ma,2,1,"div",0),l.YNc(1,ja,1,1,"ng-template",null,1,l.W1O),l.YNc(3,La,1,0,"ng-template",null,2,l.W1O)),2&n){const u=l.MAs(2);l.Q6J("ngIf",s.appendToInput)("ngIfElse",u)}},dependencies:[ut.O5,ut.tP],encapsulation:2}),d})(),hi=(()=>{class d extends uo{constructor(n,s,u,p,v){super(u,p,v,n),this.data=n,this._dialogRef=s}close(){this._dialogRef.close()}}return d.\u0275fac=function(n){return new(n||d)(l.Y36(un.WI),l.Y36(un.so),l.Y36(Vn),l.Y36(mo),l.Y36(Ne))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ngx-mat-timepicker-dialog"]],standalone:!0,features:[l.qOj,l.jDz],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["mat-dialog-content",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],["mat-dialog-actions",""],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(n,s){if(1&n&&(l.YNc(0,Ea,2,1,"ng-template",null,0,l.W1O),l.YNc(2,Pa,2,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),l.NdJ("periodChanged",function(p){return s.changePeriod(p)})("timeUnitChanged",function(p){return s.changeTimeUnit(p)})("hourChanged",function(p){return s.onHourChange(p)})("minuteChanged",function(p){return s.onMinuteChange(p)}),l.ALo(9,"async"),l.ALo(10,"async"),l.ALo(11,"async"),l.qZA()(),l.TgZ(12,"div",7)(13,"div",8),l.YNc(14,za,4,2,"div",9),l.YNc(15,Ja,4,14,"ngx-mat-timepicker-minutes-face",10),l.qZA()()()()(),l.TgZ(16,"div",11)(17,"div",12),l.NdJ("click",function(){return s.close()}),l.YNc(18,Fe,1,0,"ng-container",13),l.qZA(),l.TgZ(19,"div",12),l.NdJ("click",function(){return s.setTime()}),l.YNc(20,Fa,1,0,"ng-container",13),l.qZA()()),2&n){const u=l.MAs(1),p=l.MAs(3);let v,y;l.xp6(5),l.Q6J("appendToInput",s.data.appendToInput)("inputElement",s.data.inputElement),l.xp6(1),l.Q6J("ngClass",s.data.timepickerClass),l.xp6(1),l.ekj("is-editable",s.data.enableKeyboardInput),l.Q6J("color",s.color),l.xp6(1),l.Q6J("color",s.color)("format",s.data.format)("hour",null==(v=l.lcZ(9,23,s.selectedHour))?null:v.time)("minute",null==(y=l.lcZ(10,25,s.selectedMinute))?null:y.time)("period",l.lcZ(11,27,s.selectedPeriod))("activeTimeUnit",s.activeTimeUnit)("minTime",s.data.minTime)("maxTime",s.data.maxTime)("isEditable",s.data.enableKeyboardInput)("editableHintTmpl",s.data.editableHintTmpl)("minutesGap",s.data.minutesGap)("hoursOnly",s.data.hoursOnly),l.xp6(5),l.Q6J("ngSwitch",s.activeTimeUnit),l.xp6(1),l.Q6J("ngSwitchCase",s.timeUnit.HOUR),l.xp6(1),l.Q6J("ngSwitchCase",s.timeUnit.MINUTE),l.xp6(3),l.Q6J("ngTemplateOutlet",s.data.cancelBtnTmpl?s.data.cancelBtnTmpl:u),l.xp6(2),l.Q6J("ngTemplateOutlet",s.data.confirmBtnTmpl?s.data.confirmBtnTmpl:p)}},dependencies:[ut.Ov,ut.mk,ut.O5,ut.RF,ut.n9,ut.tP,Ae.ot,Ae.lW,un.Is,un.xY,un.H8,_n.g0,_n.Ye,gi,jo,Io,Wn,Mo],styles:["div.ngx-mat-timepicker-dialog>mat-dialog-container{padding-top:0}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content]{padding:0;max-height:85vh}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] mat-toolbar.timepicker-header.is-editable{height:auto}div.ngx-mat-timepicker-dialog>mat-dialog-container [mat-dialog-content] .clock-face{margin:16px}div.ngx-mat-timepicker-dialog>mat-dialog-container div[mat-dialog-actions]{justify-content:flex-end;display:flex}\n"],encapsulation:2}),d})(),fi=(()=>{class d extends uo{constructor(n,s,u,p){super(s,u,p,n),this.data=n}close(){this.data.timepickerBaseRef.close()}}return d.\u0275fac=function(n){return new(n||d)(l.Y36(Rn),l.Y36(Vn),l.Y36(mo),l.Y36(Ne))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ngx-mat-timepicker-standalone"]],hostVars:2,hostBindings:function(n,s){2&n&&l.ekj("mat-app-background",!0)},standalone:!0,features:[l.qOj,l.jDz],decls:21,vars:29,consts:[["cancelBtnDefault",""],["confirmBtnDefault",""],["cdkTrapFocus",""],[3,"appendToInput","inputElement"],[1,"timepicker",3,"ngClass"],[1,"timepicker-header",3,"color"],[3,"color","format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"ngx-mat-timepicker-standalone-actions"],[3,"click"],[4,"ngTemplateOutlet"],["mat-button","",3,"color"],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"color","selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"color","selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"color","selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(n,s){if(1&n&&(l.YNc(0,Qa,2,1,"ng-template",null,0,l.W1O),l.YNc(2,Ya,2,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2)(5,"ngx-mat-timepicker-content",3)(6,"div",4)(7,"mat-toolbar",5)(8,"ngx-mat-timepicker-dial",6),l.NdJ("periodChanged",function(p){return s.changePeriod(p)})("timeUnitChanged",function(p){return s.changeTimeUnit(p)})("hourChanged",function(p){return s.onHourChange(p)})("minuteChanged",function(p){return s.onMinuteChange(p)}),l.ALo(9,"async"),l.ALo(10,"async"),l.ALo(11,"async"),l.qZA()(),l.TgZ(12,"div",7)(13,"div",8),l.YNc(14,Ga,4,2,"div",9),l.YNc(15,Ra,4,14,"ngx-mat-timepicker-minutes-face",10),l.qZA()()()(),l.TgZ(16,"div",11)(17,"div",12),l.NdJ("click",function(){return s.close()}),l.YNc(18,Va,1,0,"ng-container",13),l.qZA(),l.TgZ(19,"div",12),l.NdJ("click",function(){return s.setTime()}),l.YNc(20,$a,1,0,"ng-container",13),l.qZA()()()),2&n){const u=l.MAs(1),p=l.MAs(3);let v,y;l.xp6(5),l.Q6J("appendToInput",s.data.appendToInput)("inputElement",s.data.inputElement),l.xp6(1),l.Q6J("ngClass",s.data.timepickerClass),l.xp6(1),l.ekj("is-editable",s.data.enableKeyboardInput),l.Q6J("color",s.color),l.xp6(1),l.Q6J("color",s.color)("format",s.data.format)("hour",null==(v=l.lcZ(9,23,s.selectedHour))?null:v.time)("minute",null==(y=l.lcZ(10,25,s.selectedMinute))?null:y.time)("period",l.lcZ(11,27,s.selectedPeriod))("activeTimeUnit",s.activeTimeUnit)("minTime",s.data.minTime)("maxTime",s.data.maxTime)("isEditable",s.data.enableKeyboardInput)("editableHintTmpl",s.data.editableHintTmpl)("minutesGap",s.data.minutesGap)("hoursOnly",s.data.hoursOnly),l.xp6(5),l.Q6J("ngSwitch",s.activeTimeUnit),l.xp6(1),l.Q6J("ngSwitchCase",s.timeUnit.HOUR),l.xp6(1),l.Q6J("ngSwitchCase",s.timeUnit.MINUTE),l.xp6(3),l.Q6J("ngTemplateOutlet",s.data.cancelBtnTmpl?s.data.cancelBtnTmpl:u),l.xp6(2),l.Q6J("ngTemplateOutlet",s.data.confirmBtnTmpl?s.data.confirmBtnTmpl:p)}},dependencies:[Ae.ot,Ae.lW,Oo.rt,Oo.mK,gi,ut.mk,_n.g0,_n.Ye,jo,ut.RF,ut.n9,ut.O5,Io,Wn,Mo,ut.tP,ut.Ov],styles:["ngx-mat-timepicker-standalone{display:block;border-radius:4px;box-shadow:0 0 5px 2px #00000040;overflow:hidden}ngx-mat-timepicker-standalone ngx-mat-timepicker-content{display:block}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header{display:flex;justify-content:center;align-items:center}ngx-mat-timepicker-standalone ngx-mat-timepicker-content mat-toolbar.timepicker-header.is-editable{height:auto}ngx-mat-timepicker-standalone ngx-mat-timepicker-content .clock-face{margin:16px}ngx-mat-timepicker-standalone .ngx-mat-timepicker-standalone-actions{display:flex;flex-direction:row;justify-content:flex-end;padding:0 16px 16px}\n"],encapsulation:2}),d})(),Do=(()=>{class d{set appendToInput(n){this._appendToInput=(0,et.Ig)(n)}set color(n){this._color=n}get color(){return this._color}get disabled(){return this._timepickerInput&&this._timepickerInput.disabled}set enableKeyboardInput(n){this._enableKeyboardInput=(0,et.Ig)(n)}get enableKeyboardInput(){return this._enableKeyboardInput}get format(){return this._timepickerInput?this._timepickerInput.format:this._format}set format(n){this._format=yt.isTwentyFour(n)?24:12}get inputElement(){return this._timepickerInput&&this._timepickerInput.element}get maxTime(){return this._timepickerInput?this._timepickerInput.max:this.max}get minTime(){return this._timepickerInput?this._timepickerInput.min:this.min}get minutesGap(){return this._minutesGap}set minutesGap(n){null!=n&&(n=Math.floor(n),this._minutesGap=n<=59?n:1)}get overlayOrigin(){return this._timepickerInput?this._timepickerInput.cdkOverlayOrigin:void 0}get time(){return this._timepickerInput&&this._timepickerInput.value}constructor(n,s,u){this._eventService=n,this._dialog=s,this._overlay=u,this.closed=new l.vpe,this.hourSelected=new l.vpe,this.hoursOnly=!1,this.id="ngx_mat_timepicker_"+ ++d.nextId,this.isEsc=!0,this.opened=new l.vpe,this.overlayPositions=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:0},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:0}],this.showPicker=!1,this.timeChanged=new l.vpe,this.timeSet=new l.vpe,this.timeUpdated=new In.X(void 0),this._appendToInput=!1,this._color="primary",this._enableKeyboardInput=!1,this._format=12}close(){this._appendToInput?this._overlayRef&&this._overlayRef.dispose():this._dialogRef&&this._dialogRef.close(),this.inputElement.focus(),this.showPicker=!1,this.closed.emit()}open(){Lo={timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this._appendToInput,hoursOnly:this.hoursOnly,timepickerClass:this.timepickerClass,inputElement:this.inputElement,color:this.color},this._appendToInput?this.showPicker=!0:(this._dialogRef=this._dialog.open(hi,{panelClass:"ngx-mat-timepicker-dialog",data:{...Lo}}),this._dialogRef.afterClosed().subscribe(()=>{this.closed.emit()})),this.opened.emit()}registerInput(n){if(this._timepickerInput)throw console.warn("Input for this timepicker was already set",n.element),Error("A Timepicker can only be associated with a single input.");this._timepickerInput=n}unregisterInput(){this._timepickerInput=void 0}updateTime(n){this.timeUpdated.next(n)}}return d.nextId=0,d.\u0275fac=function(n){return new(n||d)(l.Y36(mo),l.Y36(un.uw),l.Y36(o.aV))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ngx-mat-timepicker"]],hostVars:1,hostBindings:function(n,s){2&n&&l.Ikx("id",s.id)},inputs:{appendToInput:"appendToInput",color:"color",enableKeyboardInput:"enableKeyboardInput",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",defaultTime:"defaultTime",disableAnimation:"disableAnimation",editableHintTmpl:"editableHintTmpl",hoursOnly:"hoursOnly",isEsc:"isEsc",max:"max",min:"min",preventOverlayClick:"preventOverlayClick",timepickerClass:"timepickerClass"},outputs:{closed:"closed",hourSelected:"hourSelected",opened:"opened",timeChanged:"timeChanged",timeSet:"timeSet"},standalone:!0,features:[l._Bn([{provide:Rn,useFactory:()=>Lo}]),l.jDz],decls:1,vars:4,consts:[["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPositions","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","backdropClick"]],template:function(n,s){1&n&&(l.YNc(0,Wa,1,0,"ng-template",0),l.NdJ("backdropClick",function(){return s.close()})),2&n&&l.Q6J("cdkConnectedOverlayPositions",s.overlayPositions)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayOrigin",s.overlayOrigin)("cdkConnectedOverlayOpen",s.showPicker)},dependencies:[o.pI,fi],encapsulation:2}),d})(),xi=(()=>{class d{}return d.\u0275fac=function(n){return new(n||d)},d.\u0275dir=l.lG2({type:d,selectors:[["","ngxMatTimepickerToggleIcon",""]],standalone:!0}),d})(),bi=(()=>{class d{get disabled(){return void 0===this._disabled?this.timepicker?.disabled:this._disabled}set disabled(n){this._disabled=n}open(n){this.timepicker&&(this.timepicker.open(),n.stopPropagation())}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=l.Xpm({type:d,selectors:[["ngx-mat-timepicker-toggle"]],contentQueries:function(n,s,u){if(1&n&&l.Suo(u,xi,7),2&n){let p;l.iGM(p=l.CRH())&&(s.customIcon=p.first)}},inputs:{disabled:"disabled",timepicker:["for","timepicker"]},standalone:!0,features:[l.jDz],ngContentSelectors:ts,decls:3,vars:2,consts:[["color","","mat-icon-button","","type","button",1,"ngx-mat-timepicker-toggle","mat-elevation-z0",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","class","ngx-mat-timepicker-toggle-default-icon","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24","width","24px","height","24px",1,"ngx-mat-timepicker-toggle-default-icon"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(n,s){1&n&&(l.F$t(Xa),l.TgZ(0,"button",0),l.NdJ("click",function(p){return s.open(p)}),l.YNc(1,Ka,2,0,"svg",1),l.Hsn(2),l.qZA()),2&n&&(l.Q6J("disabled",s.disabled),l.xp6(1),l.Q6J("ngIf",!s.customIcon))},dependencies:[Ae.ot,Ae.RK,ut.O5],styles:["button.ngx-mat-timepicker-toggle{background-color:transparent;text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer;box-shadow:none}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{margin:auto}.mat-form-field .ngx-mat-timepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}body .ngx-mat-timepicker-toggle{color:#0000008a}\n"],encapsulation:2}),d})(),vi=(()=>{class d{set color(n){this._color=n}get color(){return this._color}set floatLabel(n){this._floatLabel=n}get floatLabel(){return this._floatLabel}constructor(n){this._timeParser=n,this.id=d.nextId++,this.timeChanged=new l.vpe,this._color="primary",this._floatLabel="auto"}changeTime(n){n.stopPropagation();const s=n.data,u=function gs(d,i){if(/\d/.test(i))return+(d+i)}(String(this.time),s);this._changeTimeIfValid(u)}decrease(){if(!this.disabled){let n=+this.time-1;n<this.min&&(n=this.max),this._isSelectedTimeDisabled(n)&&(n=this._getAvailableTime(n,this._getPrevAvailableTime.bind(this))),n!==this.time&&this.timeChanged.emit(n)}}increase(){if(!this.disabled){let n=+this.time+1;n>this.max&&(n=this.min),this._isSelectedTimeDisabled(n)&&(n=this._getAvailableTime(n,this._getNextAvailableTime.bind(this))),n!==this.time&&this.timeChanged.emit(n)}}ngOnChanges(n){n.timeList&&null!=this.time&&this._isSelectedTimeDisabled(this.time)&&this._setAvailableTime()}onBlur(){this.isFocused=!1,this._previousTime!==this.time&&this._changeTimeIfValid(+this.time)}onFocus(){this.isFocused=!0,this._previousTime=this.time}onKeydown(n){switch(n.stopPropagation(),Jt.isDigit(n)||n.preventDefault(),n.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==n.key&&n.preventDefault()}onModelChange(n){this.time=+this._timeParser.transform(n,this.timeUnit)}_changeTimeIfValid(n){if(!isNaN(n)){if(this.time=n,this.time>this.max){const s=String(n);this.time=+s[s.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}_getAvailableTime(n,s){return s(this.timeList.findIndex(v=>v.time===n))??this.time}_getNextAvailableTime(n){const s=this.timeList,u=s.length;for(let p=n+1;p<u;p++){const v=s[p];if(!v.disabled)return v.time}}_getPrevAvailableTime(n){for(let s=n;s>=0;s--){const u=this.timeList[s];if(!u.disabled)return u.time}}_isSelectedTimeDisabled(n){return this.timeList.find(s=>s.time===n).disabled}_setAvailableTime(){this.time=this.timeList.find(n=>!n.disabled).time,this.timeChanged.emit(this.time)}}return d.nextId=0,d.\u0275fac=function(n){return new(n||d)(l.Y36(jn))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ngx-mat-timepicker-time-control"]],inputs:{color:"color",disabled:"disabled",floatLabel:"floatLabel",max:"max",min:"min",placeholder:"placeholder",preventTyping:"preventTyping",time:"time",timeList:"timeList",timeUnit:"timeUnit"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[l._Bn([jn]),l.TTD,l.jDz],decls:13,vars:17,consts:[[1,"ngx-mat-timepicker-control",3,"color","floatLabel","ngClass"],["matInput","","maxlength","2",3,"id","name","ngModel","placeholder","disabled","ngModelChange","keydown","beforeinput","focus","blur"],["matSuffix","",1,"arrows-wrap"],["role","button",1,"arrow",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","18","viewBox","0 0 24 24","width","18"],["d","M0 0h24v24H0z","fill","none"],["d","M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"],["d","M0 0h24v24H0V0z","fill","none"],["d","M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"]],template:function(n,s){1&n&&(l.TgZ(0,"mat-form-field",0)(1,"input",1),l.NdJ("ngModelChange",function(p){return s.onModelChange(p)})("keydown",function(p){return s.onKeydown(p)})("beforeinput",function(p){return s.changeTime(p)})("focus",function(){return s.onFocus()})("blur",function(){return s.onBlur()}),l.ALo(2,"timeLocalizer"),l.ALo(3,"ngxMatTimepickerParser"),l.qZA(),l.TgZ(4,"div",2)(5,"span",3),l.NdJ("click",function(){return s.increase()}),l.O4$(),l.TgZ(6,"svg",4),l._UZ(7,"path",5)(8,"path",6),l.qZA()(),l.kcU(),l.TgZ(9,"span",3),l.NdJ("click",function(){return s.decrease()}),l.O4$(),l.TgZ(10,"svg",4),l._UZ(11,"path",7)(12,"path",8),l.qZA()()()()),2&n&&(l.Q6J("color",s.color)("floatLabel",s.floatLabel)("ngClass",l.VKq(15,Gn,s.isFocused)),l.xp6(1),l.MGl("id","ngx_mat_timepicker_field_",s.id,"")("name","ngx_mat_timepicker_field_",s.id,""),l.Q6J("ngModel",l.Dn7(2,8,l.xi3(3,12,s.time,s.timeUnit),s.timeUnit,!0))("placeholder",s.placeholder)("disabled",s.disabled))},dependencies:[pn.lN,pn.KE,pn.R9,ut.mk,So.c,So.Nt,Xt.u5,Xt.Fj,Xt.JJ,Xt.nD,Xt.On,jn,No],styles:[".ngx-mat-timepicker-control[_ngcontent-%COMP%]{width:60px;min-width:60px}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%]{position:relative;z-index:1}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{text-align:center;opacity:.5;height:15px;cursor:pointer;transition:opacity .2s;-webkit-user-select:none;user-select:none}.ngx-mat-timepicker-control[_ngcontent-%COMP%]   .arrows-wrap[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0}),d})(),hs=(()=>{class d{get color(){return this._color}set color(n){this._color=n}get defaultTime(){return this._defaultTime}set defaultTime(n){this._defaultTime=n,this._isDefaultTime=!!n}get floatLabel(){return this._floatLabel}set floatLabel(n){this._floatLabel=n}get format(){return this._format}set format(n){yt.isTwentyFour(n)?(this._format=24,this.minHour=0,this.maxHour=23):(this._format=12,this.minHour=1,this.maxHour=12),this.hoursList=Jt.getHours(this._format),n&&this._previousFormat&&this._previousFormat!==this._format&&this._updateTime(this.timepickerTime),this._previousFormat=this._format}get max(){return this._max}set max(n){this._max="string"!=typeof n?n:yt.parseTime(n,{locale:this._locale,format:this.format})}get min(){return this._min}set min(n){this._min="string"!=typeof n?n:yt.parseTime(n,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(n,s){this._timepickerService=n,this._timepickerLocaleSrv=s,this.hour$=new In.X(void 0),this.maxHour=12,this.minHour=1,this.minute$=new In.X(void 0),this.period=Rt.AM,this.periods=[Rt.AM,Rt.PM],this.timeChanged=new l.vpe,this.timeUnit=te,this._color="primary",this._floatLabel="auto",this._format=12,this._isFirstTimeChange=!0,this._subsCtrl$=new Qn.x,this._onChange=()=>{},this._onTouched=()=>{}}changeHour(n){this._timepickerService.hour=this.hoursList.find(s=>s.time===n),this._changeTime()}changeMinute(n){this._timepickerService.minute=this.minutesList.find(s=>s.time===n),this._changeTime()}changePeriod(n){this._timepickerService.period=n.value,this._changeTime()}ngOnDestroy(){this._subsCtrl$.next(),this._subsCtrl$.complete()}ngOnInit(){this._initTime(this.defaultTime),this.hoursList=Jt.getHours(this._format),this.minutesList=Jt.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this._timepickerService.selectedHour.pipe((0,Bn.b)(n=>this._selectedHour=n?.time),(0,ii.U)(this._changeDefaultTimeValue.bind(this)),(0,Bn.b)(()=>this.isTimeRangeSet&&this._updateAvailableMinutes())).subscribe({next:n=>this.hour$.next(n)}),this._timepickerService.selectedMinute.pipe((0,ii.U)(this._changeDefaultTimeValue.bind(this)),(0,Bn.b)(()=>this._isFirstTimeChange=!1)).subscribe({next:n=>this.minute$.next(n)}),12===this.format&&this._timepickerService.selectedPeriod.pipe((0,ra.x)(),(0,Bn.b)(n=>this.period=n),(0,Bn.b)(n=>this.isChangePeriodDisabled=this._isPeriodDisabled(n)),(0,yo.R)(this._subsCtrl$)).subscribe(()=>this.isTimeRangeSet&&this._updateAvailableTime())}onTimeSet(n){this._updateTime(n),this._emitLocalTimeChange(n)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}writeValue(n){n?this._initTime(n):this._resetTime()}_changeDefaultTimeValue(n){return!this._isDefaultTime&&this._isFirstTimeChange?{...n,time:null}:n}_changeTime(){if(!isNaN(this.hour$.getValue()?.time)&&!isNaN(this.minute$.getValue()?.time)){const n=this._timepickerService.getFullTime(this.format);this.timepickerTime=n,this._emitLocalTimeChange(n)}}_emitLocalTimeChange(n){const s=yt.toLocaleTimeString(n,{format:this.format,locale:this._locale});this._onChange(s),this._onTouched(s),this.timeChanged.emit(s)}_initTime(n){if(!yt.isTimeAvailable(n,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this._updateTime(yt.fromDateTimeToString(this.min,this.format));if(this.max)return void this._updateTime(yt.fromDateTimeToString(this.max,this.format))}this._updateTime(n)}_isPeriodDisabled(n){return Jt.disableHours(Jt.getHours(12),{min:this.min,max:this.max,format:12,period:n===Rt.AM?Rt.PM:Rt.AM}).every(s=>s.disabled)}_resetTime(){this._timepickerService.hour={angle:0,time:null},this._timepickerService.minute={angle:0,time:null}}_updateAvailableHours(){this.hoursList=Jt.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableMinutes(){this.minutesList=Jt.disableMinutes(this.minutesList,this._selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}_updateAvailableTime(){this._updateAvailableHours(),this._selectedHour&&this._updateAvailableMinutes()}_updateTime(n){if(n){const s=yt.formatTime(n,{locale:this._locale,format:this.format});this._timepickerService.setDefaultTimeIfAvailable(s,this.min,this.max,this.format),this.timepickerTime=s}}}return d.\u0275fac=function(n){return new(n||d)(l.Y36(Vn),l.Y36(Ne))},d.\u0275cmp=l.Xpm({type:d,selectors:[["ngx-mat-timepicker-field"]],inputs:{color:"color",defaultTime:"defaultTime",floatLabel:"floatLabel",format:"format",max:"max",min:"min",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl",controlOnly:"controlOnly",disabled:"disabled",toggleIcon:"toggleIcon"},outputs:{timeChanged:"timeChanged"},standalone:!0,features:[l._Bn([Vn,{provide:Xt.JU,useExisting:d,multi:!0}]),l.jDz],decls:11,vars:32,consts:[[1,"ngx-mat-timepicker",3,"ngClass"],[1,"ngx-mat-timepicker__control--first",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],[1,"separator-colon","ngx-mat-timepicker__control--second"],[1,"ngx-mat-timepicker__control--third",3,"color","floatLabel","placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],["class","period-select ngx-mat-timepicker__control--forth",3,"color",4,"ngIf"],["class","ngx-mat-timepicker__toggle",3,"for","disabled",4,"ngIf"],[3,"color","min","max","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl","timeSet"],["timepicker",""],["defaultIcon",""],[1,"period-select","ngx-mat-timepicker__control--forth",3,"color"],[3,"disabled","ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"ngx-mat-timepicker__toggle",3,"for","disabled"],["ngxMatTimepickerToggleIcon",""],[4,"ngTemplateOutlet"]],template:function(n,s){if(1&n&&(l.TgZ(0,"div",0)(1,"ngx-mat-timepicker-time-control",1),l.NdJ("timeChanged",function(p){return s.changeHour(p)}),l.qZA(),l.TgZ(2,"span",2),l._uU(3,":"),l.qZA(),l.TgZ(4,"ngx-mat-timepicker-time-control",3),l.NdJ("timeChanged",function(p){return s.changeMinute(p)}),l.qZA(),l.YNc(5,ns,3,4,"mat-form-field",4),l.YNc(6,is,3,3,"ngx-mat-timepicker-toggle",5),l.qZA(),l.TgZ(7,"ngx-mat-timepicker",6,7),l.NdJ("timeSet",function(p){return s.onTimeSet(p)}),l.qZA(),l.YNc(9,as,2,0,"ng-template",null,8,l.W1O)),2&n){let u,p;l.Q6J("ngClass",l.VKq(30,ss,s.disabled)),l.xp6(1),l.Q6J("color",s.color)("floatLabel",s.floatLabel)("placeholder","HH")("time",null==(u=s.hour$.getValue())?null:u.time)("min",s.minHour)("max",s.maxHour)("timeUnit",s.timeUnit.HOUR)("disabled",s.disabled)("timeList",s.hoursList)("preventTyping",s.isTimeRangeSet),l.xp6(3),l.Q6J("color",s.color)("floatLabel",s.floatLabel)("placeholder","MM")("time",null==(p=s.minute$.getValue())?null:p.time)("min",0)("max",59)("timeUnit",s.timeUnit.MINUTE)("disabled",s.disabled)("timeList",s.minutesList)("preventTyping",s.isTimeRangeSet),l.xp6(1),l.Q6J("ngIf",24!==s.format),l.xp6(1),l.Q6J("ngIf",!s.controlOnly),l.xp6(1),l.Q6J("color",s.color)("min",s.min)("max",s.max)("defaultTime",s.timepickerTime)("format",s.format)("cancelBtnTmpl",s.cancelBtnTmpl)("confirmBtnTmpl",s.confirmBtnTmpl)}},dependencies:[ut.mk,vi,ut.O5,pn.lN,pn.KE,Zo.LD,Zo.gD,ai.ey,Xt.u5,Xt.JJ,Xt.On,ut.ax,ai.Ng,bi,xi,ut.tP,Do,Ao.Ps,Ao.Hw],styles:[".ngx-mat-timepicker{display:flex;align-items:center;height:100%}.ngx-mat-timepicker--disabled{background:rgba(0,0,0,.07);pointer-events:none}.ngx-mat-timepicker .separator-colon{margin-left:5px;margin-right:5px}.ngx-mat-timepicker .period-select{width:60px;min-width:60px;margin-left:8px;text-align:center}.ngx-mat-timepicker__control--first{order:1}.ngx-mat-timepicker__control--second{order:2}.ngx-mat-timepicker__control--third{order:3}.ngx-mat-timepicker__control--forth{order:4}.ngx-mat-timepicker__toggle{order:4;margin-bottom:1.5em;margin-left:4px}.ngx-mat-timepicker__toggle span.mat-button-wrapper{font-size:24px}\n"],encapsulation:2,changeDetection:0}),d})(),fs=(()=>{class d{get element(){return this._elementRef&&this._elementRef.nativeElement}get format(){return this._format}set format(n){this._format=yt.isTwentyFour(+n)?24:12,n&&this._previousFormat&&this._previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this._previousFormat=this._format}get max(){return this._max}set max(n){this._max="string"!=typeof n?n:yt.parseTime(n,{locale:this._locale,format:this.format})}get min(){return this._min}set min(n){this._min="string"!=typeof n?n:yt.parseTime(n,{locale:this._locale,format:this.format})}set timepicker(n){this._registerTimepicker(n)}get value(){return this._value?yt.toLocaleTimeString(this._value,{format:this.format,locale:this._locale}):""}set value(n){if(!n)return this._value="",void this._updateInputValue();const s=yt.formatTime(n,{locale:this._locale,format:this.format});if(yt.isTimeAvailable(s,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=s,void this._updateInputValue();console.warn("Selected time doesn't match min or max value")}set _defaultTime(n){this._timepicker.defaultTime=yt.formatTime(n,{locale:this._locale,format:this.format})}get _locale(){return this._timepickerLocaleSrv.locale}constructor(n,s,u){this._elementRef=n,this._timepickerLocaleSrv=s,this._matFormField=u,this.cdkOverlayOrigin=new o.xu(this._matFormField?this._matFormField.getConnectedOverlayOrigin():this._elementRef),this._format=12,this._subsCtrl$=new Qn.x,this._value="",this.onTouched=()=>{},this._onChange=()=>{}}ngOnChanges(n){const s=n.value;s&&s.currentValue&&(this._defaultTime=s.currentValue)}ngOnDestroy(){this._unregisterTimepicker(),this._subsCtrl$.next(),this._subsCtrl$.complete()}onClick(n){this.disableClick||(this._timepicker.open(),n.stopPropagation())}registerOnChange(n){this._onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}updateValue(n){this.value=n.target.value,this._onChange(this.value)}writeValue(n){this.value=n,n&&(this._defaultTime=n)}_registerTimepicker(n){if(!n)throw new Error("NgxMatTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxMatTimepicker directive");this._timepicker=n,this._timepicker.registerInput(this),this._timepicker.timeSet.pipe((0,yo.R)(this._subsCtrl$)).subscribe(s=>{this.value=s,this._onChange(this.value),this.onTouched(),this._defaultTime=this._value})}_unregisterTimepicker(){this._timepicker&&this._timepicker.unregisterInput()}_updateInputValue(){this._elementRef.nativeElement.value=this.value}}return d.\u0275fac=function(n){return new(n||d)(l.Y36(l.SBq),l.Y36(Ne),l.Y36(pn.KE,8))},d.\u0275dir=l.lG2({type:d,selectors:[["","ngxMatTimepicker",""]],hostVars:2,hostBindings:function(n,s){1&n&&l.NdJ("blur",function(){return s.onTouched()})("click",function(p){return s.onClick(p)})("change",function(p){return s.updateValue(p)}),2&n&&(l.Ikx("disabled",s.disabled),l.uIk("cdkOverlayOrigin",s.cdkOverlayOrigin))},inputs:{format:"format",max:"max",min:"min",timepicker:["ngxMatTimepicker","timepicker"],value:"value",disableClick:"disableClick",disabled:"disabled"},standalone:!0,features:[l._Bn([{provide:Xt.JU,useExisting:d,multi:!0}]),l.TTD]}),d})(),xs=(()=>{class d{static setLocale(n){return{ngModule:d,providers:[{provide:ci,useValue:n},{provide:Rn,useValue:void 0},Ne]}}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=l.oAB({type:d}),d.\u0275inj=l.cJS({providers:[Ne,{provide:Ae.Ew,useValue:{color:"void"}}],imports:[ut.ez,Oo.rt,Xt.u5,Ae.ot,pn.lN,un.Is,So.c,Zo.LD,_n.g0,Ao.Ps,o.U8,la.eL,Do,jo,_i,hi,po,Mo,fi,bi,Wn,Io,hs,vi]}),d})()}}]);